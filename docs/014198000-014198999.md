# StackOverflow 问答 14198000-14198999

# windows-mobile - 适用于 Windows Phone 8 的移动后端即服务

> ID：14198000
> 
> 赞同：-2
> 
> 时间：2013-01-07T14:34:38.640
> 
> 标签：windows-mobile, windows-phone-8

我想将移动后端实现为 Windows Phone 8 应用程序的服务 (MBaaS)。有人可以让我知道哪个是最好的服务提供商。到目前为止，我所遇到的只是 www.parse.com。也想探索其他选择。

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-07T14:37:31.507

SkyDrive 不是显而易见的选择吗？也许您可以详细说明您要实现的目标。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-07T19:58:30.140

[Windows Azure 移动服务](http://www.windowsazure.com/en-us/develop/mobile/)符合要求——存储、后端任务、推送通知，并支持其他平台，如 Windows 8、iOS 和 Android。您可以[在这里获得一个免费帐户](http://aka.ms/GetAzureTrial)。

SkyDrive 是与您的应用程序关联的个人云存储的绝佳选择，但这只是 IMO 的一小部分 BaaS。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-07T20:23:27.390

安东尼奥·马丁内斯（ Antonio Martinez ）不久前[比较了一些替代方案](http://www.raywenderlich.com/20482/how-to-choose-the-best-backend-provider-for-your-ios-app-parse-vs-stackmob-vs-appcelerator-cloud-and-more)，包括

*   [解析](https://www.parse.com/)
*   [StackMob](https://stackmob.com/)
*   [加速器云服务](http://www.appcelerator.com/cloud/)
*   [应用](http://www.applicasa.com/)
*   [金维](http://www.kinvey.com/)

该站点专注于 iOS 开发，我想这就是他不包含 Azure 的原因。

# search - 从 Netsuite 中的 VendorPayment 记录中检索 BillId

> ID：14198005
> 
> 赞同：1
> 
> 时间：2013-01-07T14:35:12.830
> 
> 标签：search, netsuite

我需要检索已付款的 BillId。但是 VendorPayment Record 类型没有 billId。如何检索已付款的 billId？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-09T03:05:54.700

这是一个示例代码：

```
var id = '100'; //Your vendor payment record
var record = nlapiLoadRecord('vendorpayment', id);
var createdFrom = record.getFieldValue('createdfrom'); //This is the ID of the transaction where the vendor payment was created from. 
```

或者您可以创建一个已保存的搜索并在代码中添加一些过滤方法来检索关联的事务。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-07T17:09:41.383

使用Vendor Payment 记录中的**createdfrom字段**

# macos - 在 Mac 计算机上安装 Silverlight 的提示和/或建议

> ID：14198010
> 
> 赞同：1
> 
> 时间：2013-01-07T14:35:18.687
> 
> 标签：macos, silverlight, installation, multimedia, pivotviewer

全部：

我们的 ASP.NET C# web 应用程序用于以下环境

```
.NET Framework 4

Silverlight 4 ( with PivotViewer )

IIS 7

Windows 2008

Visual Studio 2010 
```

.NET IDE

```
C#

HTTPS ( SSL ) 
```

我们应用程序的 Mac 用户通常在安装 Silverlight 时遇到问题。对于在 Mac 中轻松安装的一些 Silverlight。但是，大多数人必须安装silverlight，并多次重启机器。

Silverlight 在 Mac 上的安装方式非常难以预测。

在很多情况下，Mac 用户必须为各种浏览器（即 FireFox、Safari 和 Chrome）单独安装 Silverlight。

此外，Silverlight 可能只有在用户多次重启 Mac 后才能开始工作。

-----对于拥有Mac OS X 10.7 (Lion) 或更高版本Mac 操作系统的用户----- Mac OS X 10.7 (Lion) 及更高版本的Mac 操作系统似乎具有该功能称为“恢复”，它确保 Mac 系统会在您退出之前调用应用程序和文件的状态，这将允许您再次打开它们，并从您离开的地方继续。

但是，在安装 Silverlight 时，“恢复”功能可能是一个绊脚石。

因此，我们最好暂时关闭“恢复”功能以安装 Silverlight。

如果您有 Mac OS X 10.7 (Lion) 或更高版本的 Mac 操作系统，请转到 Mac OS 的系统偏好设置。转到“系统偏好设置”中的“常规”选项卡。确保选中“退出和重新打开应用程序时恢复窗口”复选框。未选中。

## 安装 Silverlight 并确保 Perls Web 应用程序中的 Silverlight/Pivot 查看器正确显示后，您可以选中“退出和重新打开应用程序时恢复窗口”复选框。如果您想要 Mac OS X 10.7 (Lion) 或更高版本的 Mac 操作系统的“恢复”功能

------我的一些同事也给出了以下步骤，但它只适用于一些 Mac 用户，因此它仍然无法预测------------ --------------------------- Mac 用户可能必须安装 Silverlight，卸载 silverlight，然后重新安装 silverlight。

Mac 用户通常在我们的 Web 应用程序中遇到 Silverlight/Pivot Viewer 组件的问题。

如果 Mac 用户已经在他的 Mac 上安装了 Silverlight，但在使用我们的 Web 应用程序中的 Silverlight/Pivot 查看器组件时遇到问题，请在 Macintosh 上删除 Silverlight 插件中执行以下步骤：

*   访问您的硬盘

*   双击桌面上的硬盘图标

*   通过导航到 Internet Plug-Ins 目录找到插件：/Library/Internet Plug-Ins/

*   通过将以下任何内容拖入垃圾箱来删除插件：a) Silverlight.plugin b) WPFe.plugin

- 只需退出所有应用程序，然后关闭您的 Mac，然后再次启动您的 Mac。

- 在 Mac 中打开 Safari 浏览器。

- 通常，Mac 上的 Safari 会将从 Internet 下载的实体放在以下目录中

/Users/blah blah 你的 Mac LoginID 文件夹 blah blah/Downloads/

1.  但是，如果您想配置 Mac 上 Safari 下载的位置，请单击 Mac 计算机主菜单上的“Safari”菜单。
2.  当下拉菜单出现时，请确保选择“首选项……”选项。
3.  应显示一个新窗口，标题为“常规”
4.  窗口中应该有一个带有“将下载的文件保存到：”标签的下拉框
5.  使用带有“将下载的文件保存到：”标签的下拉框，我们可以配置我们希望 Safari 放置已下载实体的位置。
6.  单击保存下载的文件以显示下拉菜单并选择其他。
7.  导航到并选择要存储文件的位置，然后单击选择。
8.  单击关闭按钮退出首选项。
9.  您选择的文件夹现在将成为您从 Internet 下载的任何内容的默认位置。

-让我们从在 Safari 浏览器上输入名为[http://www.microsoft.com/](http://www.microsoft.com/)的 URL 开始。

-在微软网站上，搜索“下载 Silverlight for mac” -点击获取 Silverlight 相关的相关链接 -尝试下载 Silverlight 组件

需要注意的是，我们发现对于我们的 Web 应用程序中的 Silverlight/Pivot 查看器组件所需的 Silverlight 安装，我们需要确保您在安装 Silverlight 之前退出 Mac 上的所有浏览器。

- 确保退出所有浏览器。

- 只需退出所有应用程序，然后关闭您的 Mac，然后再次启动您的 Mac。

- 确保退出所有浏览器。

- 导航到 Safari 放置下载文件的文件夹： - 单击 Silverlight 安装文件（应该是扩展名为 pkg 的文件，或者它可能是扩展名为 dmg 的文件，其中包含扩展名为 pkg 的文件。） - 运行安装。

- 导航到 Web 应用程序网站

## - 登录，并尝试查看 Silverlight/Pivot 查看器是否正确显示。

有谁知道在 Mac 计算机上安装 Silverlight 的简单步骤、提示或建议？如果是这样，你能列出来吗？

提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-05-23T15:35:22.050

从您的帖子中清理了一些信息：

Mac OS X 10.7 (Lion) 和更高版本的 Mac 操作系统似乎具有称为“恢复”的功能，可确保 Mac 系统在您退出之前调用应用程序和文件的状态，这将允许您打开它们再次，然后从您离开的地方继续。

但是，在安装 Silverlight 时，“恢复”功能可能是一个绊脚石。

因此，我们最好暂时关闭“恢复”功能以安装 Silverlight。

如果您有 Mac OS X 10.7 (Lion) 或更高版本的 Mac 操作系统，请转到 Mac OS 的系统偏好设置。转到“系统偏好设置”中的“常规”选项卡。确保选中“退出和重新打开应用程序时恢复窗口”复选框。未选中。

（成功安装后，您可以在操作系统中再次选择该选项）

* * *

如果 Mac 用户已经安装了 Silverlight，但在使用 Silverlight 组件时遇到问题，请按照以下步骤在 Macintosh 上删除 Silverlight 插件： • 双击桌面上的硬盘图标 • 通过导航到 Internet 插件目录查找插件: /Library/Internet Plug-Ins/ • 通过将以下任何内容拖入垃圾箱来删除插件：a) Silverlight.plugin b) WPFe.plugin

* * *

确保在安装 Silverlight 之前退出 Mac 上的所有浏览器。

- 确保退出所有浏览器。

- 只需退出所有应用程序，然后关闭您的 Mac，然后再次启动您的 Mac。

- 导航到浏览器放置下载文件的文件夹： - 单击 Silverlight 安装文件（应该是扩展名为 pkg 的文件，或者它可能是扩展名为 dmg 的文件，其中包含扩展名为 pkg 的文件。） - 运行安装。

# sql - 从总小时数中减去 30 分钟

> ID：14198012
> 
> 赞同：2
> 
> 时间：2013-01-07T14:35:24.950
> 
> 标签：sql, sql-server-2008

我目前有一列 TotalHours 包含一个计算列规范，其中包含以下内容

```
(isnull(datediff(minute,[RegIn],[RegOut]),(0))/(60.0)) 
```

这给了我 2 列 regin 和 regout 之间的总小时数。

现在。当计算的小时数超过 6.5 小时时，我试图从总小时数中减去 30 分钟。

我试着用case语句来做。但迷路了。

感谢任何帮助或指示

谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-07T14:39:20.517

这是一种方法：

```
coalesce((datediff(minute,[RegIn],[RegOut])/60.0 -
          (case when datediff(minute,[RegIn],[RegOut]) > 6.5*60 then 0.5 else 0 end),
         0) 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-07T14:41:04.430

由于您有一个复杂的值表达式，因此您必须多次使用该表达式。一种思考方法是用占位符替换复杂的表达式，例如`TotalHours`，然后在弄清楚逻辑后将表达式放回原处。

```
TotalHours - 
    Case When TotalHours > 6.5 Then 0.5 Else 0 End 
```

这表示当总小时数大于 6.5 小时时，总小时数应减少 0.5（30 分钟）的值。以上述方式编写它可以减少 TotalHours 的重复次数。现在将原始的复杂表达式重新插入：

```
(isnull(datediff(minute,[RegIn],[RegOut]),(0))/(60.0)) -
    Case When (isnull(datediff(minute,[RegIn],[RegOut]),(0))/(60.0)) > 6.5
        Then 0.5 Else 0 End 
```

# asp.net - 从 3.5 框架调用框架 4.0

> ID：14198013
> 
> 赞同：1
> 
> 时间：2013-01-07T14:35:28.997
> 
> 标签：asp.net

我有一个用 Framework 4.0 编写的 http 模块，我将值保存在 cookie 中。我在框架 3.5 中调用 http 模块，可以这样做吗？做这个的时候应该注意什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-07T14:45:33.227

如果您使用 .NET 4.0 特定功能编写了一个模块，那么您希望它如何在没有这些功能的框架中工作？

您无法在 3.5 应用程序中访问 4.0 功能。

# javascript - 在 AngularJs 中迭代 ng-repeat 仅 X 次

> ID：14198017
> 
> 赞同：88
> 
> 时间：2013-01-07T14:35:42.240
> 
> 标签：javascript, angularjs

如何在 Javascript 中使用 ng-repeat 之类*的？*

例子：

```
<div ng-repeat="4">Text</div> 
```

我想用 ng-repeat 迭代 4 次，但我该怎么做呢？

* * *

## 回答 #1

> 赞同：343
> 
> 时间：2013-07-19T00:08:11.887

Angular 带有一个 limitTo:limit 过滤器，它支持限制前 x 个项目和最后 x 个项目：

```
<div ng-repeat="item in items|limitTo:4">{{item}}</div> 
```

* * *

## 回答 #2

> 赞同：65
> 
> 时间：2015-09-11T08:27:52.670

这是我能想到的最简单的解决方法。

```
<span ng-repeat="n in [].constructor(5) track by $index">
{{$index}}
</span> 
```

这是一个[Plunker 示例。](http://plnkr.co/edit/GZRWdqtzA1tRUozx39jm?p=preview)

* * *

## 回答 #3

> 赞同：50
> 
> 时间：2013-02-22T12:52:58.237

您可以在 javascript 数组对象中使用 slice 方法

```
<div ng-repeat="item in items.slice(0, 4)">{{item}}</div> 
```

短而甜

* * *

## 回答 #4

> 赞同：39
> 
> 时间：2013-01-07T14:41:14.383

在 html 中：

```
<div ng-repeat="t in getTimes(4)">text</div> 
```

在控制器中：

```
$scope.getTimes=function(n){
     return new Array(n);
}; 
```

[http://plnkr.co/edit/j5kNLY4Xr43CzcjM1gkj](http://plnkr.co/edit/j5kNLY4Xr43CzcjM1gkj)

编辑 ：

使用 angularjs > 1.2.x

```
<div ng-repeat="t in getTimes(4) track by $index">TEXT</div> 
```

* * *

## 回答 #5

> 赞同：13
> 
> 时间：2013-11-28T18:10:16.570

@mpm 给出的答案不起作用，它给出了错误

> 不允许在转发器中重复。使用“track by”表达式指定唯一键。中继器：{0}，重复键：{1}

为了避免这种情况

> ng-repeat="t in getTimes(4)"

采用

> 按 $index 跟踪

像这样

> <div ng-repeat="t in getTimes(4) track by $index">TEXT</div>

* * *

## 回答 #6

> 赞同：10
> 
> 时间：2015-02-05T10:10:06.633

要重复***7***次，请尝试使用***length=7***的数组，然后***通过******$index***对其进行***跟踪***：

 **```
<span ng-repeat="a in (((b=[]).length=7)&&b) track by $index" ng-bind="$index + 1 + ', '"></span> 
```

> `b=[]`创建一个空数组«b»，
> `.length=7`将其大小设置为«7»，
> `&&b`让新数组«b»可用于ng-repeat，
> `track by $index`其中*«$index»*是迭代的位置。
> `ng-bind="$index + 1"`从 1 开始显示。

要重复***X***次：
只需将***7***替换为***X***。

* * *

## 回答 #7

> 赞同：3
> 
> 时间：2013-12-06T11:25:09.600

这里的所有答案似乎都假设*items*是一个数组。然而，在 AngularJS 中，它也可能是一个对象。在这种情况下，使用 limitTo 和 array.slice 进行过滤都不起作用。作为一种可能的解决方案，如果您不介意丢失对象键，则可以将对象转换为数组。这是执行此操作的过滤器示例：

```
myFilter.filter('obj2arr', function() {
    return function(obj) {
        if (typeof obj === 'object') {
            var arr = [], i = 0, key;
            for( key in obj ) {
                arr[i] = obj[key];
                i++;
            }
            return arr;
        }
        else {
            return obj;
        }

    };
}); 
```

一旦它是一个数组，请使用 slice 或 limitTo，如其他答案中所述。**

# c# - 等待数组；通过实现数组的扩展方法

> ID：14198019
> 
> 赞同：5
> 
> 时间：2013-01-07T14:35:53.770
> 
> 标签：c#, async-await

我想通过实现一个扩展方法使一个数组可以等待

```
public static IAwaitable GetAwaiter(this mytype[] t)
{
    return t.First().GetAwaiter();
} 
```

但即使 IntelliSense 说“（等待）`mytype[]`”，编译器在使用时也会给我一个错误

```
mytype[] t = new mytype[] { new mytype(), new mytype() };
await t; 
```

在 mytype 的单个对象上调用 await 可以正常工作。这是为什么？难道我做错了什么？谢谢你的帮助。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-07T15:44:52.203

我认为这是编译器中的一个错误，您应该[报告它](https://connect.microsoft.com/VisualStudio/)。

我可以验证此代码不起作用（使用`Task`and `TaskAwaiter`，而不是自定义类型）：

```
public static TaskAwaiter GetAwaiter(this Task[] tasks)
{
    return tasks.First().GetAwaiter();
}

Task[] tasks = …;
await tasks; 
```

（它会产生错误“无法等待'System.Threading.Tasks.Task[]'”，据报道。）

`IEnumerable`但是（在方法和本地）交换数组确实有效：

```
public static TaskAwaiter GetAwaiter(this IEnumerable<Task> tasks)
{
    return tasks.First().GetAwaiter();
}

IEnumerable<Task> tasks = …;
await tasks; 
```

有趣的是，对于固定版本，直接等待数组仍然不起作用。但例如等待`IList`确实有效。

# ios - 延迟加载表格视图时更改属性？

> ID：14198030
> 
> 赞同：0
> 
> 时间：2013-01-07T14:36:22.917
> 
> 标签：ios, uitableview, lazy-loading

上下文：我有一个带有自定义单元格的表格视图。每个单元格都有一个下载资源的按钮。按下按钮时，应禁用 tableview 中的所有其他按钮。

所以我的问题是我无法引用 tableview 上的所有行，因为它是延迟加载。因此，当我尝试访问其他行时，它会失败，因为在我开始禁用按钮时它没有要添加的对象。

以下是可能对我的问题更有启发性的代码：

```
NSMutableArray *cells = [NSMutableArray array];
for (NSInteger i = 0; i < [mainTableView numberOfRowsInSection:1]; ++i) {
    WSVideoLibraryTableCell *addedCell = (WSVideoLibraryTableCell *)[mainTableView cellForRowAtIndexPath:[NSIndexPath indexPathForRow:i inSection:1]];
    NSLog(@"CELL ADDED: %@", addedCell);
    [cells addObject:addedCell];
}
if (stateEnabled) {
    for (WSVideoLibraryTableCell *cell in cells) {
        [[cell downloadButton] setEnabled:YES];
    }
}
else
{
    for (WSVideoLibraryTableCell *cell in cells) {
        [[cell downloadButton] setEnabled:NO];
    }
} 
```

我尝试添加一些只需要可见单元格的代码。`NSArray *array = [mainTableView visibleCells]`但是问题是不可见的单元格将启用按钮，并且可见的行会发生一些奇怪的事情，它们会一次又一次地出现在 tableView 上（与延迟加载和更改它们有关吗？）

非常感谢您的意见或建议！！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-07T14:41:06.207

我的建议是让每个对象都有自己的`isEnabled`属性，以便您可以禁用对象本身，并为延迟加载设置条件以根据该属性禁用它们。

延迟加载非常有用，虽然对于少量的单元格，您不会注意到资源消耗，但随着您正在处理的单元格数量的增加，您会注意到。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-07T14:41:42.150

最干净的方法（imo）是继承UITableViewCell，将字段添加到该对象（即您的按钮），保留所有这些对象的列表，然后让延迟渲染处理实际渲染。如果你想禁用所有的按钮，你不需要进入渲染的单元格，你只需遍历你的对象列表来禁用每个按钮。

# javascript - 最小化和最大化浏览器时集中的EXTJS表单面板？

> ID：14198036
> 
> 赞同：2
> 
> 时间：2013-01-07T14:37:00.663
> 
> 标签：javascript, extjs, formpanel

只是想知道，在最小化或最大化浏览器时是否可以集中表单面板。

因此，表单面板在加载时以及在浏览器的任何最小化或最大化或重新调整大小期间是否可以居中（即表单面板将始终保持居中）？

**HTML**

```
<html>
<head>
    <title>Test</title>
    <link rel="stylesheet" type="text/css" href="extjs/resources/css/ext-all.css" />

<script type="text/javascript" src="extjs/ext-all.js"></script>
<script type="text/javascript" src="index2.js"></script>

</head>
<body>
</body>
</html> 
```

**Javascript**

```
 Ext.require([    
    'Ext.form.*',
    'Ext.tip.*'
]);

Ext.onReady(function() {    
    // Helpers

    // Very basic bassword validation. 
    // Note that length validation is managed by ExtJs itself --
    // scroll down to see how in the field properties
    Ext.apply(Ext.form.field.VTypes, {
        password: function(val, field) {
            if (/^[a-z0-9]+$/i.test(val)) {
                return true;
            }
        },
        passwordText: 'Password may only contain letters and numbers.'
    });

    Ext.QuickTips.init();

    function submitOnEnter(field, event) {
        if (event.getKey() == event.ENTER) {
            var form = field.up('form').getForm();
            form.submit();
        }
    }

    // From http://bit.ly/Bvvv8
    function password(length, special) {
        var iteration = 0;
        var password = '';
        var randomNumber;

        if (special == undefined) {
            var special = false;
        }

        while (iteration < length) {
            randomNumber = (Math.floor((Math.random() * 100)) % 94) + 33;
            if (!special) {
                if ((randomNumber >=33) && (randomNumber <=47)) { continue; }
                if ((randomNumber >=58) && (randomNumber <=64)) { continue; }
                if ((randomNumber >=91) && (randomNumber <=96)) { continue; }
                if ((randomNumber >=123) && (randomNumber <=126)) { continue; }
            }
            iteration++;
            password += String.fromCharCode(randomNumber);
        }
        return password;
    }

    // Form
    // -----------------------------------------------------------------------
    var addUserForm = Ext.create('Ext.form.Panel', {
        renderTo: Ext.getBody(),
        bodyStyle: 'margin: 0px auto 0px auto;',
        defaults: {
            xtype: 'textfield',
            anchor: '100%',
         },
        items: [{
            fieldLabel: 'Email',
            name: 'email',
            vtype: 'email',
            maxLength: 64,            
            allowBlank: false,
            listeners: {
                specialkey: submitOnEnter
            }
        },{
            xtype: 'fieldcontainer',
            fieldLabel: 'Password',
            layout: 'hbox',
            items: [{
                xtype: 'textfield',
                name: 'password',
                flex: 1,
                vtype: 'password',
                minLength: 4,
                maxLength: 32,
                allowBlank: false,
                listeners: {
                    specialkey: submitOnEnter
                }
            }, {
                xtype: 'button',
                text: 'Random',
                tooltip: 'Generate a random password',
                style: 'margin-left: 4px;',
                flex: 0,
                handler: function() {
                    this.prev().setValue(password(8, false));
                    this.prev().focus()
                }
            }]
        }],
        buttons: [{
            id: 'saveBtn',
            itemId: 'saveBtn',
            text: 'Submit',
            handler: function() {
                this.up('form').getForm().submit();
            }
        },{
            text: 'Cancel',
            handler: function() {
                this.up('form').getForm().reset();
            }
        }],
        submit: function() {
            var currentForm = this.owner.form;

            if (currentForm.isValid()) {
                // var newSomething = Ext.create('Something', currentForm.getFieldValues());
            }
        },

    });
}); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-08T09:02:17.043

ExtJS has provided `ux.center` layout for centering contents within a container.

You can find out documentation about this [Here](http://docs.sencha.com/ext-js/4-1/#!/api/Ext.ux.layout.Center) and here is [Example](http://docs.sencha.com/ext-js/4-1/#!/example/layout-browser/layout-browser.html)

Also, here is [similar discussion](https://stackoverflow.com/questions/2880920/extjs-center-a-formpanel-on-a-normal-panel/12216519#12216519)

# java - Apache Camel onException

> ID：14198043
> 
> 赞同：7
> 
> 时间：2013-01-07T14:37:11.427
> 
> 标签：java, apache, esb, onexception

我想从路线中捕获所有异常。

我添加了这个 OnExeption ：

```
onException(Exception.class).process(new MyFunctionFailureHandler()).stop(); 
```

然后，我创建了 MyFunctionFailureHandler 类。

```
public class MyFunctionFailureHandler  implements Processor {

@Override
public void process(Exchange exchange) throws Exception {
    Throwable caused;

    caused = exchange.getProperty(Exchange.EXCEPTION_CAUGHT, Throwable.class);

    exchange.getContext().createProducerTemplate().send("mock:myerror", exchange);
   }

} 
```

不幸的是，它不起作用，我不知道为什么。

如果出现异常，程序必须停止。

我怎么知道为什么这段代码不起作用！！

谢谢。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2014-05-29T09:03:58.883

我在我的路线上使用了这个：

```
public class MyCamelRoute extends RouteBuilder {

   @Override
   public void configure() throws Exception {

        from("jms:start")
           .process(testExcpProcessor)

       // -- Handle Exceptions
       .onException(Exception.class)
         .process(errorProcessor)
         .handled(true)

       .to("jms:start");
   }
} 
```

在我的**错误处理器中**

```
public class ErrorProcessor implements Processor {

  @Override
  public void process(Exchange exchange) throws Exception {

    Exception cause = exchange.getProperty(Exchange.EXCEPTION_CAUGHT, Exception.class);

    if(cause != null){
        log.error("Error has occurred: ", cause);

        // Sending Error message to client
        exchange.getOut().setBody("Error");
    }else

        // Sending response message to client
        exchange.getOut().setBody("Good");
  }
} 
```

我希望它有帮助

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-22T14:49:42.697

请记住，如果您在多个 RouteBuilder 类中有路由，则在此路由中包含 onExcpetion 只会影响此 RouteBuilder 下的所有路由

查看此[答案](https://stackoverflow.com/questions/9283861/camel-exception-handling-doesnt-work-if-exception-clause-is-defined-in-a-separat)

另外，如果在路由中发生异常并在此路由中处理，它不会传播到您需要使用 noErrorHandler() 的原始调用者路由，即将`from(direct:start).errorHandler(noErrorHandler())`异常处理传播回调用者

# android - 移动空中应用程序之间是否可以共享资源？

> ID：14198046
> 
> 赞同：1
> 
> 时间：2013-01-07T14:37:22.583
> 
> 标签：android

我正在为手机开发一系列语言学习游戏。首先在 Android 上，然后在 Apple 设备上。

每个游戏都有大约 1000 个声音文件，用于学习不同的单词。这些占用大约 8MB，而游戏的其余部分只有大约 1MB。所以我很想找到一种方法来为安装了多个游戏的用户共享声音文件。

显然，如果他们单独安装所有游戏，这是不可能的，因为他们需要从 Play 商店下载完整的游戏，而无法知道声音是否已经安装......但是我计划创建一个游戏启动器应用程序...这将是一个可用于下载（如果他们还没有）和启动（如果他们有）其他单独安装的应用程序、注册帐户等的应用程序。

所以如果他们使用这个启动器（包括声音文件），我可以下载其他单独的 1MB 游戏并在它们之间共享声音吗？

也许可以控制文件夹结构，例如让它们安装为： MyCompanyName/game1 MyCompanyName/game2 然后让每个游戏引用 MyCompanyName/sound 文件夹？

或者还有其他方法吗？

谢谢你的帮助。

# jquery - jQuery 如果窗口位置包含任何给定的数字

> ID：14198049
> 
> 赞同：0
> 
> 时间：2013-01-07T14:37:29.227
> 
> 标签：jquery, variables, window.location

我在窗口的位置 ( `pid=xxx`) 中使用一个字符串来确定要通过 jQuery 追加做什么。

这是我拥有的当前 jQuery：

```
var pid = 123;
if ( window.location.href.indexOf("pid=" + pid) > -1 ){
    // do something
} 
```

问题是我想列出多个`pid`可能的数字，例如 123、456 或 789。

基本上，如果 window.location 包含`pid=123`、`pid=456`或`pid=789`，那么做一些事情。我不确定我是否正在寻找阵列解决方案......

如果有人可以提供一些建议，将不胜感激。

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-07T14:41:25.380

解决方案是使用数组：

```
var pid = [123, 456, 789];
for(var i = 0; i < pid.length; i++){
    if ( window.location.href.indexOf("pid=" + pid[i]) > -1 ){
        // do something
    }
} 
```

# database - ZF2 在视图助手中使用数据库表模型

> ID：14198052
> 
> 赞同：2
> 
> 时间：2013-01-07T14:37:31.697
> 
> 标签：database, model, zend-framework2, view-helpers

要在我的 layout.phtml 中显示数据库计数，我想使用视图助手来呈现计数（在 db 字段中设置）。

如何在视图助手中使用我的数据库模型？

帮手：

```
namespace Application\View\Helper;

use Zend\View\Helper\AbstractHelper;

class CountHelper extends AbstractHelper
{
    protected $count; 

    public function __invoke()
    {
        return $this->count();
    }

    public function setTableCount($sm, $myCountTable)
    {
        $this->count = $sm->get($myCountTable)->getCount();
        return $this->count;        
    }
} 
```

模块

```
public function getViewHelperConfig()
    {
        return array(
            'factories' => array(
                'CountHelper' => function($sm) {
                    $helper = new \Application\View\Helper\CountHelper();
                    $helper->setTableCount($sm, 'Application\Model\MyCountTable');

                    return $helper;
                },... 
```

错误：

> 可捕获的致命错误：传递给 Application\Model\MyeCountTable::__construct() 的参数 1 必须是 Zend\Db\TableGateway\TableGateway 的一个实例，没有给出，在 /usr/local/zend/share/ZendFramework2/library/Zend 中调用/ServiceManager/AbstractPluginManager.php 在第 175 行并定义在

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-07T16:24:04.187

创建视图助手

```
namespace My\View\Helper;
use Zend\View\Helper\AbstractHelper;

class CounterHelper extends AbstractHelper
{
    protected $count;

    public function __invoke()
    {
       return $this->count;   
    }

    public function setTableCount($sm, $mytablemodel)
    {
        $this->count =  $sm->get($mytablemodel)->getCountedData();
        return $this->count;
    }
} 
```

并通过工厂注入 view_helpers

```
'view_helpers' => array(
    'factories' => array(
     'counter_helper' => function($sm) {
        $helper = new \My\View\Helper ;
            $helper->setTableCount($sm, 'mytablemodelthatalreadyregisteredinSM');

        return $helper;
     }
    )
), 
```

# excel - 我正在尝试将列从一个工作簿复制到具有固定标题的主

> ID：14198055
> 
> 赞同：1
> 
> 时间：2013-01-07T14:37:42.807
> 
> 标签：excel, vba

好的，我想我已经阅读了所有出现的选项，但并没有完全从已经回答的选项中得到答案——如果已经回答，请原谅我，我只是很特别。

我想做的是以下几点：

从具有固定 (62) 标题的主工作簿中，能够运行宏/VBA，这将使我能够打开文件 (.csv)，从该文件中获取列并将它们放在主表上的相应标题下。

.csv 文件肯定会有与主文件匹配的列标题，但它可能不在同一序列中。

您的帮助将不胜感激。

缺口

这是到目前为止我有帮助的代码......

```
Sub CopyCSV()

'' Find out how many rows are on the CSV sheet
LRCSV = Sheet1.UsedRange.Rows.Count

'' Find out how many columns are on the Data sheet
LCData = Sheet2.UsedRange.Columns.Count

For x = 2 To LRCSV

'' Find the last row and add one to get the first blank row
LRData = Sheet2.UsedRange.Rows.Count + 1

Sheet2.Activate

'' Finds the columns by the headers

If FirstN = "" Then
    For y = 1 To LCData
        If Cells(1, y).Value = "First Name" Then FirstN = y
        If Cells(1, y).Value = "Surname" Then SurN = y
        If Cells(1, y).Value = "Email" Then Email = y
        If Cells(1, y).Value = "Telephone Number" Then TelN = y
    Next y
End If

Sheet1.Activate

Sheet2.Cells(LRData, FirstN).Value = Sheet1.Cells(x, "A").Value
Sheet2.Cells(LRData, SurN).Value = Sheet1.Cells(x, "B").Value
Sheet2.Cells(LRData, Email).Value = Sheet1.Cells(x, "C").Value
Sheet2.Cells(LRData, TelN).Value = Sheet1.Cells(x, "D").Value

Next x

End Sub 
```

它是我正在努力解决的按列查找部分...

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-07T15:19:24.067

尼克，我采取了一些不同的方法来解决您面临的问题。但是，我认为这将是一种更清洁且更易于理解的方法。

此代码假定您已经打开了 CSV。此外，我为对象填写了许多占位符。根据您的需要进行更改。我还评论了一些我认为它可以帮助您更全面地理解代码的地方。

```
Option Explicit

Sub CopyColumns()

'set the variables needed
Dim wkbMain As Workbook, wkbCopy As Workbook
Dim wksMain As Worksheet, wksCopy As Worksheet

Set wkbMain = Workbooks("Master.xlsm")
Set wkbCopy = Workbooks("email - pws a.csv")

Set wksMain = wkbMain.Sheets("Master")
Set wksCopy = wkbCopy.Sheets(1) 'csv files will only ever have 1 sheet

With wksMain

    'capture the header row in the master sheet
    Dim rngFind As Range, cel As Range
    Set rngFind = Intersect(.UsedRange, .Rows(1)) 'assumes contigous header rows
    'Set rngFind = .Range(.Range("A1"),.Range("A" & .Columns.Count).End(xlToRight) ' could use this as well if your data starts in cell A1

    For Each cel In rngFind 'loop through each header in the row

      Dim rngCopy As Range

      With wksCopy

        Set rngCopy = .Rows(1).Find(cel, after:=.Cells(1, .Columns.Count), lookat:=xlPart, LookIn:=xlValues) 'find the header name in the CSV sheet
        'now copy the entire column (minus the header row)
        Set rngCopy = .Range(rngCopy.Offset(1), .Cells(.Rows.Count, rngCopy.Column).End(xlUp))
        rngCopy.Copy Destination:=wksMain.Cells(2, cel.Column) 'paste it to the matching header in the main sheet

      End With

    Next

End With 'this was missing

End Sub 
```

# javascript - javascript函数未重定向到给定链接

> ID：14198056
> 
> 赞同：0
> 
> 时间：2013-01-07T14:37:46.860
> 
> 标签：javascript, json

在下面的 JavaScript 函数中，当我使用 firebug 'windows.location' 逐行调试时，它工作得很好，它会重定向到给定的链接。但是当我在没有使用firebug调试的情况下运行它时，即使密码和用户名正确，页面重定向也不会发生。谁能解释我为什么？

```
<script type="text/javascript">
    $(document).ready(function () {
        $('#btnSubmit').click(function () {
            var uname = $('#txtUserName').val();
            var Password = $('#txtPassword').val();
            if (uname != null && Password != null) {
                $.ajax({
                    type: "get",
                  data: { type: "login", Uname: uname, Pword: Password,ran:Math.random() },
                    contentType: "application/json",
                    url:"/CreatePdf.ashx",
                    success: function (result) {
                      if(result=='1')
                      {
                        window.location = "/home.aspx";
                      }
                    }
                });
            }
            else {
                document.getElementById('spPassword').innerHTML = "Please Enter Username/Password";
            }
        });
      });
</script> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-07T20:48:17.853

要么从不调用 success 函数（因为 ajax 的问题），要么`result`参数不是 string `"1"`。我们没有水晶球来查看发生了什么，因此您必须自己调试它：

```
$.ajax({
    …,
    success: function (result) {
        console.log("result: ", result);
        if(result=='1')
             window.location = "/home.aspx";
    },
    error: function(jqXHR, status, error) {
        console.log("Ajax failed with "+status+" due to "+error);
    }
); 
```

还可以使用开发人员工具的网络面板检查服务器是否发送了预期的响应。

# javascript - Twitter bootstrap - 通过单击链接显示模式

> ID：14198057
> 
> 赞同：2
> 
> 时间：2013-01-07T14:38:01.897
> 
> 标签：javascript, ruby, twitter-bootstrap, sinatra

我正在使用推特引导程序。我希望通过单击**使用 javascript**的链接来显示模态。

```
$("#my-link-id").click($(this).modal()); 
```

但是，上面的代码会导致错误

```
Uncaught Error: HIERARCHY_REQUEST_ERR: DOM Exception 3 
```

我做错什么了？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-01-07T14:39:06.407

您`modal`在用户单击之前调用该方法`#my-link-id`，修复：

```
$("#my-link-id").click(function() {
    $(this).modal();
}); 
```

或者：

```
$("#my-link-id").on("click", function() {
    $(this).modal();
}); 
```

* * *

要查看有关错误的解释，您可以在此处阅读：[究竟什么会导致“HIERARCHY_REQUEST_ERR：DOM 异常 3”-错误？](https://stackoverflow.com/questions/1256394/what-exactly-can-cause-an-hierarchy-request-err-dom-exception-3-error)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2014-10-01T23:23:53.393

需要对事件执行 preventDefault 以停止单击链接而不是打开模式。

```
 $("#my-link-id").click(function(e) {
        e.preventDefault();
        $(this).modal();
    }); 
```

# data-binding - asp.net中的动态图表

> ID：14198058
> 
> 赞同：0
> 
> 时间：2013-01-07T14:38:02.080
> 
> 标签：data-binding, pageload, asp.net-charts

根据下拉列表项，我在动态图表的页面加载时不断收到此错误：

* ')' 附近的语法不正确。异常详细信息：System.Data.SqlClient.SqlException：')' 附近的语法不正确。源错误：

第 44 行：objAdapter.Fill(objDataSet)*

页面加载代码：

```
 DropDownList1.Text = "Show All"
    Dim strSQLQuery As String
    Dim objConnection As SqlConnection
    Dim objCommand As SqlCommand
    Dim objAdapter As SqlDataAdapter
    Dim objDataSet As DataSet

    objConnection = New SqlConnection("Data Source=MYSVR01;Initial Catalog=HMBX;Integrated Security=True")

    If DropDownList1.Text = "Show All" Then
        strSQLQuery = "SELECT * from table"
    Else
        strSQLQuery = "SELECT * from table where col1 = '"& dropdownlist1.text &'""
    End If
    objCommand = New SqlCommand(strSQLQuery, objConnection)

    objAdapter = New SqlDataAdapter(objCommand)
    objDataSet = New DataSet()
    objAdapter.Fill(objDataSet)

    'Dim source As New DataView(objDataSet.Tables(0))

    Chart1.DataSource = objDataSet
    Chart1.Series("Series1").XValueMember = "TimeOfDay"
    Chart1.Series("Series1").YValueMembers = "visitors"

    Chart1.DataBind() 
```

感谢您的意见...谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-08T09:14:08.993

问题已解决...必须更正 sql 中的一些语法错误

# jquery - 在html中，单击该行中存在的按钮时如何获取行数据？

> ID：14198062
> 
> 赞同：1
> 
> 时间：2013-01-07T14:38:29.300
> 
> 标签：jquery, html, html-table

我有一张表，在该表中我从数据库中获取数据。

我的表如下所示：

```
data row 1 | data row 1 | data row 1 | data row 1 | data row 1 | BUTTON1 |
data row 2 | data row 2 | data row 2 | data row 2 | data row 2 | BUTTON2 | 
```

现在，当我从任何行单击按钮时，我想获取相应行的数据。

以下是我动态分配 ID 的代码。

```
echo "<tr id = ".$srno.">     
     <td style='width:25px'> <input id = 'checkbx' type = 'checkbox' name =".$row['item_id']."></input> </td>".    
    "<td> ". $srno ." </td> <td>".$row['item_name']."</td>".       
    "<td> ". $row['item_category']."</td>".      
    "<td style='width:50px'><input class = 'image_button mImg'   id = ".$srno." type = 'image' title = 'Modify' src = 'images/modify.png' onClick = 'modifyItem()' name = ".$srno."></input></td>".        
    "</tr>"; 
```

有人可以帮助我实现这一目标吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-07T14:40:39.797

```
$(".image_button").click(function() {
    alert($(this).parent().parent().attr("id"));
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-07T14:42:46.190

或者

```
$(".image_button").click(function() {
    var tr = $(this).closest('tr');
    var cell2 = tr.find('td').eq(2).text();
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-07T15:00:51.933

您可以在 <tr> 中添加一个类：

```
<tr class="row-of-data"> 
```

然后让每个按钮都为所有按钮添加一个点击处理程序：

```
$(".myButton").click(function(){
   var rowOfData = $(this).closest(".row-of-data");
   // now do something with the row, like rowOfData.text()
 }); 
```

最近的() 将查找 DOM 树，找到匹配选择器的父/祖先。find() 会做同样的事情，但会搜索孩子/后代。

更有可能的是，您会在每个 s 上放置一个类并提取每个类，或者您最终只是再次解析数据！所以你最终可能会得到

```
<td class="name">Hal Incandenza</td> 
```

在 HTML 中，由 jQuery 位找到

```
$(this).closest(".row-of-data").find(".name").text() 
```

# solr - 宽容的 solr 索引

> ID：14198064
> 
> 赞同：0
> 
> 时间：2013-01-07T14:38:46.860
> 
> 标签：solr

solr 有可能以更可原谅的方式索引文档吗？

目前，如果我尝试索引不适合 100% 架构的数据，我总是会收到 SolrException。如果 solr 无论如何都可以索引文档并为不正确的字段打印异常，那会更好。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-07T15:10:25.743

如果您有权访问 solr 正在运行的服务器并且可以看到日志 solr 提供了此信息。您可以在架构中设置一个设置，该设置捕获可以在下载示例中找到的所有特定类型

包罗万象的字段，包含所有其他可搜索的文本字段（在此架构中通过 copyField 进一步实现

```
 <field name="text" type="text_general" indexed="true" stored="false" multiValued="true"/> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-07T15:47:05.093

稍微扩展@Si Philp 的回答。如果您查看Solr 发行版附带的示例[schema.xml ，您将看到以下条目：](http://svn.apache.org/viewvc/lucene/dev/branches/lucene_solr_3_6/solr/example/solr/conf/schema.xml?view=markup)

```
<!-- uncomment the following to ignore any fields that don't already match an existing 
    field name or dynamic field, rather than reporting them as an error. 
    alternately, change the type="ignored" to some other type e.g. "text" if you want 
    unknown fields indexed and/or stored by default --> 
<!--dynamicField name="*" type="ignored" multiValued="true" /-->

<!-- since fields of this type are by default not stored or indexed,
     any data added to them will be ignored outright.  --> 
<fieldtype name="ignored" stored="false" indexed="false" multiValued="true"
  class="solr.StrField" /> 
```

这将在您的架构中为尚未定义的任何字段创建动态定义，它们将被忽略。但是，它不会为您提供任何被忽略的字段/值的指示符。

# java - 在play 2.0中使用ajax调用jsp/html页面

> ID：14198065
> 
> 赞同：0
> 
> 时间：2013-01-07T14:38:45.417
> 
> 标签：java, jquery, playframework, playframework-2.0

谁能指导我如何在播放框架中使用 ajax 调用 jsp/html 页面？

我想在单击按钮时打开一个灯箱，并希望使用包含数据库数据的页面加载它。目前我刚刚使用 ajax 显示了消息。下面是Application.java中的方法

```
public static Result index()
  {
    return ok(index.render("Your new application is ready."));
  } 
```

我的 index.scala.html 是：

```
@(products: List[Products])

@import helper._
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js" type="text/javascript"></script>
<h1>@products.size() product(s)</h1>
<table border=1>
<tr>
<td>Product Name</td>
<td>Quantity</td>
<td>Price</td>
</tr>
@for(product <- products) {
    <tr>
        <td>
            @product.productname
        </td>
        <td>
            @product.quantity
        </td>
        <td>        
            @product.price
        </td>
        <td id="items">        

            <a href="@routes.Application.user(product.product_id)"><input type="button" value="Add Product" name="@routes.Application.user(product.product_id)" id="but"/></a>

        </td>
    </tr>
}
</table>

<div class="result1" style="border: 1px solid black; padding: 5px;">not sent yet...</div>

<script type="text/javascript">
    jQuery("#items a").click(
            function () {
                $.get(jQuery(this).attr("href"), function (data) {
                    $('.result').html(data);
                });
                return false;
            }
    )
</script> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-07T15:57:23.887

你走在好的路上。

创建一个新操作，它将仅返回您在 div 中需要的 html（而不是完整的 html 页面）。

```
public static Result detail(Integer productId)
{
    Product product = .... (productId);
    return ok(productDetail.render(product));
}
// with the route of course 
```

*productDetail.scala.html*

```
@(product: Product)

My product @product.product_id is beautiful !
.... 
```

您还必须添加一个**jquery 插件**来显示您的灯箱（有一千个......）

您的 JsCode 将是这样的：

```
$("#items a").click(function () {
   $("#result").load($(this).attr("href"), function() {
      displayPopup(); // code this
   });
}); 
```

*（或者如果插件本机处理ajax，则可能是完全不同的代码......）*

在简历中，有很多工作要做，有很多方法可以做到。你试一试 ！

# port - mina 服务器响应端口与传入消息的端口不同

> ID：14198072
> 
> 赞同：0
> 
> 时间：2013-01-07T14:39:22.017
> 
> 标签：port, mina

我设置了一个通过端口 xxx 接收消息的服务器，但我想响应端口 yyy。有没有一种简单的方法可以实现这一目标？

我的服务器：

```
 IoAcceptor acceptor = new NioSocketAcceptor();

    acceptor.setHandler(new MessageHandler());
    acceptor.getFilterChain().addLast("logger", new LoggingFilter());

    acceptor.getFilterChain().addLast("codec", new protocolCodecFilter(codecFactory));
    acceptor.getSessionConfig().setReadBufferSize(bufferSize);
    acceptor.bind(new InetSocketAddress(port)); 
```

我的编码器的编码方法：

```
public void encode(IoSession session, Object message, ProtocolEncoderOutput out) throws Exception {
    byte[] writeBytes = (byte[]) message;       
    IoBuffer buffer = IoBuffer.allocate(writeBytes.length).setAutoExpand(false);
    buffer.put(writeBytes);
    buffer.flip();
    out.write(buffer);      
    writeMessage(session,writeBytes);
} 
```

消息应写入不同的端口。我如何实现这一目标？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-05-24T10:04:19.240

如果要使用不同的 tcp 端口响应消息，则必须先建立另一个其他 tcp 连接，这意味着您有两个服务器和两个客户端。

```
 request 
```

客户端1---------->服务器1

```
 reponse 
```

服务器2---------->客户端2

# git - git - 共享存储库 sgid

> ID：14198081
> 
> 赞同：0
> 
> 时间：2013-01-07T14:40:12.700
> 
> 标签：git, permissions, git-bare

我正在使用一个`bare` `sharedRepository`来允许一组开发人员推送。

为了保持良好的文件组推送，我更改了 SGID`objects`

```
$ sudo chmod -R g+s my_repository/objects 
```

如果这确实是正确的方法，我应该更改任何其他目录的 SGID ( `branches`, `refs`, ...) 吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-07T15:11:52.387

在你的另一个问题中，我建议至少改变`refs`. 基于[这里](http://www.kernel.org/pub/software/scm/git/docs/gitrepository-layout.html)的 git 存储库布局文档，我认为仅仅改变`objects`就`refs`足够了。您需要在包含可以通过推送更改的文件的任何目录上更改此设置。

# algorithm - 如何按顺序标记列表列表？

> ID：14198084
> 
> 赞同：1
> 
> 时间：2013-01-07T14:40:26.460
> 
> 标签：algorithm, list, sequence

假设我有一个序列和一个列表列表：

[“A”“B”“C”“D”“E”][[:1:2][:3:4:5]]

我想使用序列来标记列表列表的每个元素：

[[“A”：1“B”：2] [“C”：3“D”：4“E”：5]]

我的算法应该是什么？

* * *

编辑：所以堆栈溢出可以给出的最佳答案是制作一个副本然后对其进行变异，并且只有在数据是特定形状时才有效？

我接受了这个答案，因为它是正确的并且是唯一给出的答案，但我们肯定可以做得更好吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-07T14:50:51.733

应该相当简单。遍历您的子列表元素，同时在序列中移动索引。如果列表比序列长，您可以使用模数将移动索引设置为序列到达末尾时的开头。

```
int index = 0

for(sublist in list) {
    for(element in sublist) {
        element.label = sequence[index++]
        index = index modulo length_of(sequence)
    }
} 
```

如果您的子列表也可以有子列表，那么您可能必须使用递归方法。

# c - c linux sockets：检查来自客户端的现有连接

> ID：14198089
> 
> 赞同：1
> 
> 时间：2013-01-07T14:40:43.633
> 
> 标签：c, linux, sockets

我有以下设置：

*   2 台 Ubuntu 机器（服务器和客户端）
*   在“服务器”上，我正在运行它以将收到的所有数据回显给发送者（客户端）：

    ```
    ncat -e /bin/cat -v -l 12345 
    ```

*   在客户端我有一个简单的应用程序，它只连接到远程套接字：socket() -> setsockopt() -> connect()

所以......我的问题是：是否可以检查是否有其他应用程序已经从***客户端***应用程序连接到套接字？我希望在任何给定时间只有一个进程连接到套接字，并且我想从客户端应用程序中检查这一点。这可能吗？在谷歌搜索 3 小时后，我找不到任何相关的东西:(

（对不起，没有网络编程经验）

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-07T18:29:00.600

不，客户端无法查看有多少其他客户端连接到服务器。

为了能够检索此信息，需要在客户端和服务器上使用特定于应用程序的协议。

无论如何，有一个特殊情况：如果客户端知道最多 N 个客户端可以连接到服务器，并且它自己的连接尝试被拒绝，它可以假设 N 个客户端已经连接到服务器。

* * *

`ncat`要设置并行连接句柄的最大数量，请使用它的选项`-m`/ `--max-conns`。逐字形式`man ncat`：

> **-m numconns, --max-conns numconns**（指定最大连接数）。Ncat 实例接受的最大同时连接数。100 是默认值。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-07T14:44:04.393

跑：

```
netstat -an | grep <your server port port number> 
```

在您的客户端计算机上查看任何现有的 TCP 连接。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-07T14:43:03.387

接受一个客户端后，您不能关闭服务器上的侦听套接字吗？如果没有侦听套接字，则没有更多的客户端能够连接。一旦你放弃了你的一个客户端，你就可以再次打开监听套接字，为另一个客户端做好准备。这样，如果服务器忙，客户端将看到连接“失败”，否则将正常连接。

这种方法的缺点是客户端无法确定无法连接的确切原因，这可能是因为客户端很忙（只有一个客户端），也可能是因为其他问题。这有关系吗？

# android - 如何杀死我在android中的所有活动？

> ID：14198092
> 
> 赞同：1
> 
> 时间：2013-01-07T14:40:48.987
> 
> 标签：android, android-activity, android-manifest

我正在开发一个很少有 A、B、C、D 等视图的 Android 应用程序。这里 D 是我的家庭活动。我的导航就像 A->B->C->D。一旦我到达活动 D，当我尝试按下后退按钮时，所有以前的活动（A、B、C）都应该关闭。我无法开始像完成调用新活动这样的活动。请为我提供一种方法来终止我的应用程序的活动。

在这里，我使用了一些代码来完成所有活动，但没有得到结果。

```
ActivityManager manager =  (ActivityManager) this.getSystemService(ACTIVITY_SERVICE);
List<RunningAppProcessInfo> list = manager.getRunningAppProcesses();

if(list != null)
{
    for(int i=0;i<list.size();++i) {
        if(getApplicationContext().getPackageName().matches(list.get(i).processName)) {
            int pid = android.os.Process.getUidForName(getApplicationContext().getPackageName());
            android.os.Process.killProcess(pid);
        } 
        else {
            debug.log("app not killed");
        }
    }
} 
```

因此，请建议我一次关闭所有活动的正确方法。

提前感谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-09-04T12:04:35.567

为了完成它：

```
 Activity_name.this.finish(); 
```

而对于杀戮：

```
 android.os.Process.killProcess(android.os.Process.myPid()); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-07T15:50:45.293

您可以通过两种方式做到这一点：

1.  当您从 Activity A 开始您的 B 活动时，您可以通过这种方式为 Intent 设置一个标志

    ```
    Intent i = new Intent(A.this, B.class);
    i.setFlags(Intent.FLAG_ACTIVITY_NO_HISTORY);
    startActivity(i); 
    ```

从 B 到 C 和从 C 到 D 做同样的事情

**或者**

2.  开始活动通话后`finish()`

这将启动活动 B 并完成活动 A，因此当您单击返回时，您不会返回到 A 活动。

```
 Intent i= new Intent(A.this, B.class);
    startActivity(i);
    finish(); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-07T14:46:54.667

在`onPause()`Activity_D 中设置一个标志，如`public static boolean kill = true;`.

现在在活动 A、B、C 中`onResume()`检查是否杀死，然后调用`finish();`

```
onResume() {
    super.onResume();
    if(Activity_D.kill) {
        finish();
    }
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-07T15:56:33.443

我对同一问题的解决方法：

使用 Activity Stack 和 public static clearAll 方法声明一个单例，该方法迭代堆栈，完成所有活动。

然后，我声明了一个 StackedActivity 扩展 Activity，它将在我的应用程序的所有活动中使用。

在 StackedActivity 的 onCreate 方法中，我将实例添加到堆栈单例中，当我想完成所有时，只需调用 clearAll 方法。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-01-08T10:29:25.827

感谢所有回答我问题的人。最后我得到了我的问题的解决方案。我通过使用意图 Intent.FLAG_ACTIVITY_CLEAR_TOP 解决了这个问题。这是我的场景的解释。假设我在活动 D。我的实际流程是 A->B->C->Di 想要杀死我以前的活动 A、B、C。当我从活动 D 开始时，我曾经调用我的第一个活动 A。所以我添加了意图 FLAG_ACTIVITY_CLEAR_TOP 来调用活动 A。所以中间活动将被清除并仅显示活动 A。我将一些标志值作为意图附加传递给活动 A. 像这样

```
Intent intent = new Intent(D.this,A.class);
                intent.setFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);
                intent.putExtra("finishstatus", true);
                this.startActivity(intent);
                this.finish(); 
```

我正在检查活动 A 的 onCreate 方法中的捆绑值，例如

```
bundle = this.getIntent().getExtras();
        if(bundle!= null)
        {
            boolean isActivityToBeFinish = this.getIntent().getExtras().getBoolean("finishstatus");
            if(isActivityToBeFinish)
            {
                finish();
                }
    } 
```

如果状态值可用并且为真，那么我也正在完成活动 A。这样我的问题就解决了，我成功地完成了之前的所有活动。

可能是我的解释不好，但会很好用。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2014-10-14T06:35:23.600

完全完成申请

我认为您正在启动器活动或您的 MainActivity 从您不想恢复您的应用程序的地方

1.完成你的活动 2.android:excludeFromRecents="true" 在清单中

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2021-02-13T14:23:15.233

`finishActivity()` 开始活动后使用

# sorting - Excel VBA - 应用自动过滤器并按特定颜色排序

> ID：14198098
> 
> 赞同：2
> 
> 时间：2013-01-07T14:40:59.653
> 
> 标签：sorting, excel, autofilter, vba

我有一个自动过滤的数据范围。自动过滤器由以下 VB 代码创建：

```
Sub Colour_filter()

Range("A4").Select
Range(Selection, Selection.End(xlToRight)).Select
Range(Selection, Selection.End(xlDown)).Select
Selection.Copy
Selection.PasteSpecial Paste:=xlPasteValues, Operation:=xlNone, SkipBlanks:=False, Transpose:=False
Selection.AutoFilter

End Sub 
```

我想按以下颜色（ Color = RGB(255, 102, 204) ）对列“A”（数据实际上从单元格“A4”开始）中的值进行排序，以便所有具有该颜色的单元格排序到顶部.

如果可以将额外的代码添加到我现有的代码中，那会很棒吗？

我的办公室真的很吵，我的 VB 也不是最好的。大笑、聊天的女士们会加倍困难。任何帮助都将是缓解压力的天堂！！（ps不要戳女士们，只是我的办公室是95％的女性）。

* * *

@ScottHoltzman 根据请求编辑。

我请求的代码构成了一个更大的代码的一部分，这会使事情变得混乱，尽管这是我目前需要的方面的精简版本。

```
Sub Colour_filter()
' Following code( using conditional formatting) adds highlight to 'excluded' courses based
'on 'course code' cell value matching criteria. Courses codes matching criteria are highlighted
'in 'Pink'; as of 19-Nov-2012 the 'excluded' course codes are
'(BIGTEST, BIGFATCAT).

' <====== CONDITIONAL FORMATTING CODE STARTS HERE  =======>
    Columns("A:A").Select
Selection.FormatConditions.Add Type:=xlCellValue, Operator:=xlEqual, _
Formula1:="=""BIGTEST"""
    Selection.FormatConditions(Selection.FormatConditions.Count).SetFirstPriority
    With Selection.FormatConditions(1).Interior
    .Color = 13395711
   End With

Selection.FormatConditions.Add Type:=xlCellValue, Operator:=xlEqual, _
Formula1:="=""BIGFATCAT"""
    Selection.FormatConditions(Selection.FormatConditions.Count).SetFirstPriority
    With Selection.FormatConditions(1).Interior
    .Color = 13395711

End With

' <====== CONDITIONAL FORMATTING CODE ENDS HERE  =======>

' Following code returns column A:A to Font "Tahoma", Size "8"
  Columns("A:A").Select
    With Selection.Font
        .Name = "Tahoma"
        .FontStyle = "Regular"
        .Size = 8
        .ThemeColor = xlThemeColorLight1
        .ThemeFont = xlThemeFontNone

     End With
    With Selection
        .HorizontalAlignment = xlLeft
        .VerticalAlignment = xlTop
        .WrapText = False
    End With

' Following code adds border around all contiguous cells ion range, similar to using keyboard short cut "Ctrl + A".
Range("A4").Select
ActiveCell.CurrentRegion.Select

With Selection
    Selection.Borders(xlDiagonalDown).LineStyle = xlNone
    Selection.Borders(xlDiagonalUp).LineStyle = xlNone
    End With
With Selection.Borders(xlEdgeLeft)
        .LineStyle = xlContinuous
        .ColorIndex = xlAutomatic
        .TintAndShade = 0
        .Weight = xlThin
    End With
    With Selection.Borders(xlEdgeTop)
        .LineStyle = xlContinuous
        .ColorIndex = xlAutomatic
        .TintAndShade = 0
        .Weight = xlThin
    End With
    With Selection.Borders(xlEdgeBottom)
        .LineStyle = xlContinuous
        .ColorIndex = xlAutomatic
        .TintAndShade = 0
        .Weight = xlThin
    End With
    With Selection.Borders(xlEdgeRight)
        .LineStyle = xlContinuous
        .ColorIndex = xlAutomatic
        .TintAndShade = 0
        .Weight = xlThin
    End With
    With Selection.Borders(xlInsideVertical)
        .LineStyle = xlContinuous
        .ColorIndex = xlAutomatic
        .TintAndShade = 0
        .Weight = xlThin
    End With
    With Selection.Borders(xlInsideHorizontal)
        .LineStyle = xlContinuous
        .ColorIndex = xlAutomatic
        .TintAndShade = 0
        .Weight = xlThin
    End With

' Following code adds 'Blue' cell colour to all headers in Row 4 start in Cell "A4".

 Range("A4").Select
    Range(Selection, Selection.End(xlToRight)).Select
    With Selection
        .HorizontalAlignment = xlLeft
        .VerticalAlignment = xlTop
        .WrapText = True
        .Orientation = 0
        .AddIndent = False
        .IndentLevel = 0
        .ShrinkToFit = False
        .ReadingOrder = xlContext
        .MergeCells = False
    End With
    With Selection.Interior
        .Pattern = xlSolid
        .PatternColorIndex = xlAutomatic
        .ThemeColor = xlThemeColorLight2
        .TintAndShade = 0.399975585192419
        .PatternTintAndShade = 0
    End With
    With Selection.Font
        .ThemeColor = xlThemeColorDark1
        .TintAndShade = 0
    End With
    Selection.Font.Bold = True

'<== adds auto-filter to my range of cells ===>

Range("A4").Select
Range(Selection, Selection.End(xlToRight)).Select
Range(Selection, Selection.End(xlDown)).Select
Selection.Copy
Selection.PasteSpecial Paste:=xlPasteValues, Operation:=xlNone, SkipBlanks:=False, Transpose:=False
Selection.AutoFilter

End Sub 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-07T16:40:49.903

好吧，这里有一个小`Sub`程序，它根据显示的图像进行以下排序。大多数值（如尺寸/范围大小）都是非常静态的，因为这是一个示例。您可以将其改进为动态的。**请评论此代码是否朝着正确的方向发展**，以便我可以更新最终排序。

**带有双排序键的编辑代码**

代码：选项显式

Sub sortByColor() Dim rng As Range
Dim i As Integer Dim inputArray As Variant, colourSortID As Variant Dim colourIndex As Long

```
Set rng = Sheets(1).Range("D2:D13")
colourIndex = Sheets(1).Range("G2").Interior.colorIndex

 ReDim inputArray(1 To 12)
 ReDim colourSortID(1 To 12)

For i = 1 To 12
    inputArray(i) = rng.Cells(i, 1).Interior.colorIndex
    If inputArray(i) = colourIndex Then
        colourSortID(i) = 1
    Else
        colourSortID(i) = 0
    End If
Next i

'--output the array with colourIndexvalues and sorting key values
 Sheets(1).Range("E2").Resize(UBound(inputArray) + 1) = _ 
                   Application.Transpose(inputArray)
 Sheets(1).Range("F2").Resize(UBound(colourSortID) + 1) = _ 
                   Application.Transpose(colourSortID)

 '-sort the rows based on the interior colour
 Application.DisplayAlerts = False
 Set rng = rng.Resize(, 3)

    rng.Sort Key1:=Range("F2"), Order1:=xlDescending, _
    Key2:=Range("E2"), Order1:=xlAscending, Header:=xlNo, _
    OrderCustom:=1, MatchCase:=False, Orientation:=xlTopToBottom, _
    DataOption1:=xlSortNormal

 Application.DisplayAlerts = True

 End Sub 
```

输出：

![在此处输入图像描述](../Images/efc511d8e9c154c01d15b474d3809f46.png)

# python - 对于在整个间隔内有效的数据，我应该在 Pandas 中使用什么表示？

> ID：14198103
> 
> 赞同：1
> 
> 时间：2013-01-07T14:41:13.930
> 
> 标签：python, pandas, time-series

我有一系列每小时的价格。每个价格在整个 1 小时内都有效。**在 Pandas 中表示这些价格的最佳方式是什么，可以让我以任意更高的频率（例如分钟或秒）对它们进行索引并用它们进行算术运算？**

## 数据细节

样品价格可能是：

```
>>> prices = Series(randn(5), pd.date_range('2013-01-01 12:00', periods = 5, freq='H'))
>>> prices
2013-01-01 12:00:00   -1.001692
2013-01-01 13:00:00   -1.408082
2013-01-01 14:00:00   -0.329637
2013-01-01 15:00:00    1.005882
2013-01-01 16:00:00    1.202557
Freq: H 
```

现在，如果我想要在`13:37:42`（我希望它与 13:00 相同）时使用什么表示？

```
>>> prices['2013-01-01 13:37:42']
...
KeyError: <Timestamp: 2013-01-01 13:37:42> 
```

## 重采样

我知道我可以重新采样价格并填写详细信息（`ffill`，对吗？），但这似乎不是一个很好的解决方案，因为我必须假设我将要索引它的频率并且它降低了可读性有太多不必要的数据点。

## 时间跨度

乍一看`PeriodIndex`似乎工作

```
>>> price_periods = prices.to_period()
>>> price_periods['2013-01-01 13:37:42']
-1.408082 
```

但是一个时间跨度的系列并没有提供我期望从`Series`. 假设我有另一个系列`amounts`，说明我在某个时刻购买了多少商品。如果我想计算价格，我想将这两个系列相乘'

```
>>> amounts = Series([1,2,2], pd.DatetimeIndex(['2013-01-01 13:37', '2013-01-01 13:57', '2013-01-01 14:05']))
>>> amounts*price_periods 
```

但这会产生异常，有时甚至会冻结我的 IPy Notebook。索引也无济于事。

```
>>> ts_periods[amounts.index] 
```

结构是否`PeriodIndex`仍在进行中，或者这些功能不会被添加？是否有其他一些我应该使用的结构（或者现在应该使用，在`PeriodIndex`成熟之前）？我正在使用 Pandas 版本`0.9.0.dev-1e68fd9`。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-07T14:43:03.790

查看[`asof`](http://pandas.pydata.org/pandas-docs/stable/generated/pandas.Series.asof.html?highlight=asof#pandas.Series.asof)

```
prices.asof('2013-01-01 13:37:42') 
```

返回上一个可用日期时间的值：

```
prices['2013-01-01 13:00:00'] 
```

要进行计算，您可以使用：

```
prices.asof(amounts.index) * amounts 
```

它返回一个带有数量索引和相应值的系列：

```
>>> prices
2013-01-01 12:00:00    0.943607
2013-01-01 13:00:00   -1.019452
2013-01-01 14:00:00   -0.279136
2013-01-01 15:00:00    1.013548
2013-01-01 16:00:00    0.929920

>>> prices.asof(amounts.index)
2013-01-01 13:37:00   -1.019452
2013-01-01 13:57:00   -1.019452
2013-01-01 14:05:00   -0.279136

>>> prices.asof(amounts.index) * amounts
2013-01-01 13:37:00   -1.019452
2013-01-01 13:57:00   -2.038904
2013-01-01 14:05:00   -0.558272 
```

# orchardcms - Orchard - 获取媒体路径

> ID：14198104
> 
> 赞同：1
> 
> 时间：2013-01-07T14:41:15.617
> 
> 标签：orchardcms

使用 Azure blob 存储，如果我使用媒体模块上传文件，有没有办法可以在视图中检索该文件的路径？我需要允许用户通过单击链接来下载 PDF，但我不知道如何获取它的路径。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-07T15:59:55.417

使用 IStorageProvider。您可以在部件驱动程序的构造函数中注入一个 IStorageProvider，使用 IStorageProvider 接口获取路径，并将其传递给您在部件驱动程序的 Display() 方法中传递给视图的形状。

# extjs - Sencha Cmd 3.0.0.250：响应文件（sencha @file）错误

> ID：14198113
> 
> 赞同：0
> 
> 时间：2013-01-07T14:41:48.267
> 
> 标签：extjs, compiler-construction, command

我通过名为“compile.sencha”的“响应文件”使用 Sencha 命令时遇到错误。这是该文件的内容：

```
compile
    -cl=ext/src
page
    -in Page1.php
    -out build/Page1.php and
page
    -in Page2.php
    -out build/Page2.php 
```

要执行这些命令，我​​在 Windows 命令提示符中调用该文件，如[文档](http://docs.sencha.com/ext-js/4-1/#!/guide/command_advanced)中所述：

```
sencha @compile.sencha 
```

这是输出：

```
[ERR] Only expected 1 parameter 
```

当我直接在命令提示符下键入时，问题不会发生，但这是一个痛苦的解决方案......希望任何人都可以提供帮助。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-14T16:04:07.113

`^`我自己使用批处理文件和换行符弄清楚了。

# java - 在eclipse android中添加新活动

> ID：14198117
> 
> 赞同：0
> 
> 时间：2013-01-07T14:42:08.920
> 
> 标签：java, android, eclipse, android-activity, menu

几天前我开始使用 Eclipse 为 android 编程但是，我现在卡住了。

我想添加一个新活动，以便我可以添加一个具有新布局的新屏幕（有关应用程序的信息屏幕）

这样做是为了当您按下特定的菜单按钮（帮助）时，它会启动`help.xml`活动并显示一个带有一些新词的新屏幕。

这成功了一次，但我无法再次做到这一点。

它只是给了我标准的白色主题屏幕。

这是指向活动的代码，由`main.java`：

```
@Override
public boolean onCreateOptionsMenu (Menu menu) {
    getMenuInflater().inflate (R.menu.menu, menu);
    return true;
}

public boolean onOptionsItemSelected(MenuItem item) {
    switch (item.getItemId()) {
    case R.id.help:
        Intent intent = new Intent(this, help.class);
        startActivity(intent);
        break;
    case R.id.quit:
        finish();  
        break;
    }
} 
```

我没有代码`help.java`，我在里面做了一些按钮`help.xml`

“退出”按钮工作正常，但“帮助”按钮却不行。我也很不确定它链接到哪里，因为上次我必须同时做一个`help.java`和一个`help.xml`活动。

我已经注意到了帮助活动`manifest.xml`

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-07T14:44:11.760

你必须`@Override`在`onCreate()`.`Help` `Activity`

请参阅以下代码：

```
public class Help extends Activity {
    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate();
        setContentView(R.layout.help);
    }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-07T14:48:10.733

您必须创建`Help.java`contentView 并将其发送`onCreate`到`R.layout.help`.

```
public class Help extends Activity {
     protected void onCreate(Bundle savedInstanceState) {
         super.onCreate(savedInstanceState);
         setContentView(R.layout.help);
     }

 } 
```

然后您需要创建一个`AndroidManifest.xml`指向 Help.java 的活动节点。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-07T14:48:52.200

**已编辑**

help.xml 不是 Activity，我认为这是您的 Activity 布局文件。您必须创建一个扩展 Activity 的新类：

```
public class help extends Activity
{
    @Override
    public void onCreate(Bundle savedInstanceState)
    {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.help);
    }
} 
```

如果您的 Activity 的名称是“main”（如您所描述的），您将在其中启动新 Activity，那么您应该将 Intent 更改为：

```
Intent intent = new Intent(main.this, help.class);
startActivity(intent); 
```

# perforce - p4 提交分支中的文件时出错

> ID：14198118
> 
> 赞同：1
> 
> 时间：2013-01-07T14:42:14.240
> 
> 标签：perforce

我有一个关于 p4 提交的问题。

在工作中，我在 perforce 中创建了一个分支，并从主代码线（主线）分支出来，并从仓库到我的工作区中获取了某个文件夹（例如文件夹 1）的所有文件的最新修订版。

现在我更改了文件夹 1 中的一个文件，比如 file.cpp。所以我首先将该文件从该分支签出到我的工作区。

现在我想将此版本作为分支代码行中的下一个修订版提交到仓库（不是主线 - 没有集成的意图，只想在我的分支中创建该文件的下一个修订版并提交到仓库）

我使用 p4 视觉客户端。当我右键单击这个更改的文件 file.cpp 并说单独提交该文件时，它给出了错误：验证作业验证失败：缺少作业。

工作需要与变化相关联。

问题：如何在工作和变化之间建立这种关联。

如何修复此错误并提交我的文件以在分支中创建其下一个修订版？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-07T17:43:48.677

经过另一次痛苦的试验和错误，发现我做错了什么：

1.  在我们说file.cpp上下文右键单击，提交，一个必须创建一个新工作。
2.  在出现的窗口中，输入工作描述、用户名。成功创建作业时。它会说类似 job5436060
3.  然后控制回到之前的 iwndow 提交文件。有添加这个工作。早些时候，我只添加了作业的数字部分，即 5436060 ，这导致找不到作业的错误，这让我完全偏离了轨道。

    添加作业时我们需要输入的是**job5436060**现在它会找到作业，成功添加该作业，然后提交命令成功。

:-) 在为一些你认为应该直截了当的事情而苦恼之后，你所拥有的一点点快乐，但在你错过了一些简单但基本的事情之后会挣扎。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-07T18:11:16.000

您的 perforce 服务器必须设置一个预提交[触发器](http://www.perforce.com/perforce/r12.1/manuals/cmdref/triggers.html)，这需要每个提交的变更集都有一个作业。在成功提交之前，您必须（创建并）将作业添加到待处理的变更集中。

# coldfusion - 将值与键匹配

> ID：14198122
> 
> 赞同：1
> 
> 时间：2013-01-07T14:42:22.447
> 
> 标签：coldfusion

我有一个非常大的结构，不幸的是，我只有可用的值而不是键。有没有办法切换结构的键和值或通过传递其值来搜索键？

（我正在使用别人的代码，无法更改。）

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-01-07T14:47:41.900

当您只知道值时，使用函数[**StructFindValue**](http://cfdocs.org/StructFindValue)查找结构键。

它返回一个匹配数组（但默认限制为一个匹配），每个数组元素包含一个具有三个键的结构：

*   Key - 密钥的名称*（你所追求的东西）*；
*   Path - 完整路径（用于嵌套结构）；
*   Owner - 从中​​获取值的结构。

### 使用示例：

在 CGI 范围内查找指向 localhost IP 地址的键（范围也是结构）：

```
<cfset Result = StructFindValue( CGI , '127.0.0.1' ) />

<cfdump var=#Result[1].Key# /> 
```

输出`remote_addr`- 找到的第一个值。

请注意，不保证结构的顺序 - 第一个值在不同情况下可能不同。

要获得所有结果，只需将范围参数指定为`all`：

```
<cfset Result = StructFindValue( CGI , '127.0.0.1' , 'all' ) />

<cfloop index=i from=1 to=#ArrayLen(Result)#>
    <cfdump var=#Result[i].Key# />
</cfloop> 
```

输出`remote_addr` `remote_host` `local_addr`。

# c++ - 返回与定义的多态函数不同的类型

> ID：14198124
> 
> 赞同：1
> 
> 时间：2013-01-07T14:42:42.790
> 
> 标签：c++, polymorphism

我遇到的问题是多态类：动物类有一个函数*“virtual animal* get() = 0;”* 在狗类中定义为*"dog* get() { speak2(); return this; }"*。

我前段时间在某处读过，以这种方式更改返回类型是合法的，但它似乎不像我预期的那样工作：当调用 get 函数时，它会打印预期值，但是当我尝试将返回值分配给狗类指针我得到一个无效的转换错误，当我尝试调用*speak2()*函数时，它说它没有这样的成员。

我正在寻找的是能够按照*“barn.front()->get()->speak2();”的方式调用一些东西。*. 有没有任何方法可以在没有任何 dynamic_casts 或任何此类强制转换的情况下实现类似的东西？

我以合乎逻辑的方式命名了这些类，以便于阅读，并且还在以下代码中以注释的形式添加了一些注释：

```
#include <iostream>
#include <vector>
using namespace std;

class animal
{
public:
    virtual ~animal() {}
    virtual void speak1() = 0;
    virtual animal* get() = 0;
};

class dog : public animal
{
public:
    void speak1() { cout << "print-speak1!"; }
    void speak2() { cout << "print-speak2!"; }
    dog* get() { speak2(); return this; }
};

int main()
{
    vector<animal*> barn;

    barn.push_back(new dog());

    barn.front()->speak1();                // prints "print-speak1!"
    barn.front()->get();                   // prints "print-speak2!"

    barn.front()->get()->speak2();
    // error: 'class animal' has no member named 'speak2'
    // but then why does "barn.front()->get();" print "print-speak2!"?

    dog* dogptr = barn.front()->get();
    // error: invalid conversion from 'animal*' to 'dog*' [-fpermissive]

    dogptr->speak2();
    // for the sake of -Werror=unused-variable

    for(vector<animal*>::iterator i = barn.begin(); i != barn.end(); ++i)
    {
        delete *i;
    }
    barn.clear();

    return 0;
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-07T14:51:09.340

对接口进行编程的重点是使用接口类作为访问点，并依赖实现的具体类型来符合接口。对您而言，这意味着您应该通过指向动物的指针访问向量中的实际动物。如果您将 speak2() 定义为动物类中的纯虚函数并使用 animal* 而不是 dog*，您的程序将运行。问题仍然存在，是否所有动物都具有 speak2() 能力，但这是设计的问题。请注意，我已将 using 指令放在类实现的下方，因为在库代码中使用命名空间指令不是一个好习惯。

这是更改的代码：

```
#include <iostream>
#include <vector>

class animal
{
public:
    virtual ~animal() {}
    virtual void speak1() = 0;
    virtual void speak2() = 0;
    virtual animal* get() = 0;
};

class dog : public animal
{
public:
    void speak1() { std::cout << "print-speak1!" << std::endl; }
    void speak2() { std::cout << "print-speak2!" << std::endl; }
    dog* get() { speak2(); return this; }
};

using namespace std;

int main()
{
    vector<animal*> barn;

    barn.push_back(new dog());

    barn.front()->speak1();                // prints "print-speak1!"
    barn.front()->get();                   // prints "print-speak2!"

    barn.front()->get()->speak2();
    // error: 'class animal' has no member named 'speak2'
    // but then why does "barn.front()->get();" print "print-speak2!"?

    animal* dogptr = barn.front()->get();
    // error: invalid conversion from 'animal*' to 'dog*' [-fpermissive]

    dogptr->speak2();
    // for the sake of -Werror=unused-variable

    for(vector<animal*>::iterator i = barn.begin(); i != barn.end(); ++i)
    {
        delete *i;
    }
    barn.clear();

    return 0;
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-07T15:15:56.660

您的代码在不同时间会发生两件事。首先，编译器看到`barn.front()`as的返回类型`animal*`。无论你做什么。`speak2()`在类型上调用成员`animal*`总是失败。

您的成员`get()`是一个虚拟函数，并且`barn.front()->get();`使用虚拟调度调用 with line。这意味着被调用的函数仅*在运行*时才知道，基于动物的*真实*（所谓的*动态*）*类型。*这样你就可以修改`get()`每只动物的行为。

不同的返回值在`get()`这里无关紧要。编译器所做的类型检查（显然）是在编译时完成的，因此针对`animal::get()`. 仅当您直接调用静态类型的对象时，协变返回类型才有用`dog`。

在您的情况下，一种骇人听闻的方式是将类型转换为`dog`，例如

```
static_cast<dog*>(barn.front())->speak2(); 
```

当然，如果 barn.front() 的实际类型不是狗，你会被烧毁。我的意思是未定义的行为——程序可能会崩溃、抛出异常或默默地继续损坏数据。

在我看来，更正确的方法是将不同的操作分成一个通用接口，例如：

```
class animal
{
public:
    virtual ~animal() {}
    virtual void makeSound() = 0;
};

class dog : public animal
{
public:
    void bark() { cout << "hoof"; }
    void makeSound() { bark(); }
};

class cat : public animal
{
public:
    void meow() { cout << "meow"; }
    void makeSound() { meow(); }
};

int main()
{
    vector<animal*> barn;
    barn.push_back(new dog());
    barn.push_back(new cat());
    barn.front()->makeSound();
    barn[1]->makeSound();
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-07T14:47:46.197

使用 时`barn->front()->get()`，您可以访问`animal*`指针。`Speak2()`没有为 定义`animal`，因此`no member error`.

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-07T15:32:04.827

给定

```
class animal
{
public:
    virtual animal * get () = 0;
};

class dog : animal
{
public:
    virtual dog * get () {...}
}; 
```

然后，

```
// Compiler sees call to "dog::get()".
dog * d = new dog();
d->get();

// Compiler sees call to "animal::get()", which may return
// an instance of any type derived from "animal".
animal * a = d;
d->get(); 
```

# clearcase - 如何绕过明文“文件已存在”错误？

> ID：14198130
> 
> 赞同：1
> 
> 时间：2013-01-07T14:42:50.577
> 
> 标签：clearcase, cleartool

我尝试通过执行以下操作将分支中的文件添加到源代码管理：

`ct mkelem -ci -nc`

我得到这个错误：

```
File already exists in "other_branch" branch.

Resolution: Since this file already exisit in ClearCase you will have to, selectively, merge this file from other_branch branch to your current branch/view. 
```

好吧，`other_branch`完全过时了，我想使用当前的分支文件，我试图按原样合并 100%。有没有办法在命令行上将此传达给 clearcase？像 ct mkelem -force（或 -replaceAnyOtherFileWithThisName）-ci -nc？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-07T14:47:14.723

除了完全删除该元素之外，没有多少解决方案（这通常是危险的，除非在您的情况下，这是一个过时的分支）。

```
cleartool rmelem 
```

但是“更安全”的方法是尝试*合并*该过时的分支，忽略除添加该文件之外的所有更改。
这样，您不必`mkelem`再次“ ”同一个文件，您可以重用现有的文件（并完全更改其内容）。

# c# - 反序列化 JSON 不适用于 JSON.NET

> ID：14198134
> 
> 赞同：6
> 
> 时间：2013-01-07T14:43:07.707
> 
> 标签：c#, json, json.net, deserialization

使用 JSON.NET 反序列化时，我遇到了以下 JSON 的问题。

```
{
    "?xml": {
        "@version": "1.0",
        "@encoding": "utf-8"
    },
    "Persons": {
        "Person": [{
            "@Id": "1",
            "@Name": "John",
            "@Surname": "Smith"         
        },
        {
            "@Id": "2",
            "@Name": "John",
            "@Surname": "Smith",
            "Skills": {
                "Skill": [{
                    "@Id": "1",
                    "@Name": "Developer"                    
                },
                {
                    "@Id": "2",
                    "@Name": "Tester"
                }]
            }
        }]
    }
} 
```

我正在使用以下类：

```
public class RootObject
{
    public Xml xml { get; set; }
    public Persons Persons { get; set; }
}

public class Xml
{
    public string version { get; set; }
    public string encoding { get; set; }
}

public class Persons
{
    public List<Person> Person { get; set; }
}
public class Skill
{
    public int Id { get; set; }
    public string Name { get; set; }
}

public class Skills
{
    public List<Skill> Skill { get; set; }
}

public class Person
{
    public int Id { get; set; }
    public string Name { get; set; }
    public string Surname { get; set; }
    public Skills Skills { get; set; }
} 
```

当我尝试反序列化

```
RootObject persons = JsonConvert.DeserializeObject<RootObject>(json); 
```

我收到以下错误：

> 无法将当前 JSON 对象（例如 {"name":"value"}）反序列化为类型“System.Collections.Generic.List`1[Project.Models.Persons.Skill]”，因为该类型需要 JSON 数组（例如 [ 1,2,3]) 正确反序列化。要修复此错误，要么将 JSON 更改为 JSON 数组（例如 [1,2,3]），要么将反序列化类型更改为普通的 .NET 类型（例如，不是像整数这样的原始类型，而不是像这样的集合类型可以从 JSON 对象反序列化的数组或列表。JsonObjectAttribute 也可以添加到类型中以强制它从 JSON 对象反序列化。

我想问题出在符号中：

```
"Skills": {
            "Skill": [{ 
```

我错过了什么，这个问题有简单的解决方案吗？

**更新：**

所以最后的问题是它有时是一个 JSON 数组

```
"Skills": {
                "Skill": [{ 
```

有时是 JSON 对象

```
"Skills": {
                "Skill": { 
```

但是当将我的代码粘贴/检查到验证器中时，它总是被格式化为 JSON 数组，所以我使用监视窗口检查了它以查看原始 json 字符串。

从那里很容易用 JsonConverter 属性标记属性

```
public class Skills
    {
        [JsonConverter(typeof(MyConverter))]
        public List<Skill> Skill { get; set; }
    } 
```

并编写转换器：

```
public class MyConverter : JsonConverter
    {
        public override object ReadJson(JsonReader reader, Type objectType, object existingValue, JsonSerializer serializer)
        {
            if (reader.TokenType == JsonToken.StartArray)
            {
                return serializer.Deserialize<List<Skill>>(reader);
            }
            else
            {
                Skill skill = serializer.Deserialize<Skill>(reader);
                return new List<Skill>(new[] { skill});
            }
        }      

        public override void WriteJson(JsonWriter writer, object value, JsonSerializer serializer)
        {
            writer.WriteValue(value);
        }
    } 
```

希望它可以帮助某人。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-07T15:02:24.250

我认为，使用您当前的 JSON，您描述的是`Skill`包含一个集合，而不是`Skills`. 试试这个 JSON：

```
 "Skills": [
            {
                "@Id": "1",
                "@Name": "Developer"
            },
            {
                "@Id": "2",
                "@Name": "Tester"
            }
        ] 
```

同样的事情也适用于您定义`Persons`集合的方式。

**编辑：**

这个测试通过了我：

```
 [TestFixture]
    public class JSONTester
    {
        [Test]
        public void Json_deserialize()
        {
            var json = @"{
    ""?xml"": {
        ""@version"": ""1.0"",
        ""@encoding"": ""utf-8""
    },
    ""Persons"": {
        ""Person"": [{
            ""@Id"": ""1"",
            ""@Name"": ""John"",
            ""@Surname"": ""Smith""         
        },
        {
            ""@Id"": ""2"",
            ""@Name"": ""John"",
            ""@Surname"": ""Smith"",
            ""Skills"": {
                ""Skill"": [{
                    ""@Id"": ""1"",
                    ""@Name"": ""Developer""                    
                },
                {
                    ""@Id"": ""2"",
                    ""@Name"": ""Tester""
                }]
            }
        }]
    }
}";

            var persons = JsonConvert.DeserializeObject<RootObject>(json);

            Assert.AreEqual(persons.Persons.Person[1].Skills.Skill.Count, 2);

        }

        public class RootObject
        {
            public Xml xml { get; set; }
            public Persons Persons { get; set; }
        }

        public class Xml
        {
            public string version { get; set; }
            public string encoding { get; set; }
        }

        public class Persons
        {
            public List<Person> Person { get; set; }
        }
        public class Skill
        {
            public int Id { get; set; }
            public string Name { get; set; }
        }

        public class Skills
        {
            public List<Skill> Skill { get; set; }
        }

        public class Person
        {
            public int Id { get; set; }
            public string Name { get; set; }
            public string Surname { get; set; }
            public Skills Skills { get; set; }
        }
    } 
```

# windows - 批处理脚本（Windows）字符串替换与扭曲

> ID：14198136
> 
> 赞同：4
> 
> 时间：2013-01-07T14:43:15.830
> 
> 标签：windows, batch-file, cmd

我知道如何在批处理脚本中进行文字字符串替换。但是，我有一种特殊情况，我需要替换数值变量的值

这是脚本：

```
setlocal enableextensions enabledelayedexpansion
set /A L=2
:L1
if %L% EQU 0 goto :EOF
set STRING="THIS IS # TEST"
SET NEW=%STRING:#=%%L%
echo %NEW%
set /A L=%L% - 1
goto L1 
```

我*希望它*显示这个：

```
THIS IS 2 TEST
THIS IS 1 TEST 
```

但它最终显示了这个：

```
THIS IS  TEST2
THIS IS  TEST1 
```

关于如何让它做我需要的任何提示？

谢谢。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-01-07T15:21:02.653

即使是 aphoria 和 Bali C 的解决方案也可以，最好使用

```
set "NEW=!STRING:#=%L%!" 
```

因此，替换将在延迟扩展阶段完成，而不是在百分比扩展阶段。

这也适用于感叹号和插入符号`STRING`

```
@echo off

set L=2
set "String=This is # test!"
setlocal EnableDelayedExpansion
set "NEW=!STRING:#=%L%!"
echo !NEW! 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-01-07T14:52:45.923

你快到了，只是改变

```
SET NEW=%STRING:#=%%L% 
```

到

```
SET NEW=%STRING:#=!L!% 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-01-07T14:53:05.957

您需要`!L!`使用延迟扩展。

```
@ECHO OFF

SETLOCAL ENABLEEXTENSIONS ENABLEDELAYEDEXPANSION
SET /A L=2
:L1
IF !L! EQU 0 goto :EOF
SET STRING=THIS IS # TEST
SET NEW=%STRING:#=!L!%
ECHO %NEW%
SET /A L=!L! - 1
GOTO L1 
```

其实不用`!L!`到处都用，排队就`SET NEW=%STRING:#!L!%`行。我在任何地方都使用它来保持视觉一致性。

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2013-01-07T17:57:04.850

只是为了好玩。以下是如何在不延迟扩展的情况下做到这一点。**`:)`**

使用`call`命令双展开变量。在变量周围使用双百分比`%%`来评估第二个。`%`首先要评估的变量周围的单个百分比。

```
setlocal EnableExtensions
set /A L=2

:L1
if %L% EQU 0 goto :EOF
set "STRING=THIS IS # TEST"
call set "NEW=%%STRING:#=%L%%%"
echo %NEW%
set /A L=%L% - 1
goto L1 
```

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2013-01-07T18:30:52.170

您也可以将 STRING 用作“格式字符串”，将所需变量放在感叹号括起来的正确位置。这样，不需要进一步替换值，只需以通常的方式显示格式字符串：

```
rem Define the "format string" with Delayed Expansion disabled:
set STRING=THIS IS !L! TEST
setlocal enableextensions enabledelayedexpansion
set /A L=2
:L1
if %L% EQU 0 goto :EOF
   echo %STRING%
   set /A L=L - 1
goto L1 
```

或者，没有延迟\扩展：

```
set STRING=THIS IS %%L%% TEST
set /A L=2
:L1
if %L% EQU 0 goto :EOF
   call echo %STRING%
   set /A L=L - 1
goto L1 
```

安东尼奥

# javascript - 通过 JavaScript 获取输入的 CSS 转换值

> ID：14198137
> 
> 赞同：4
> 
> 时间：2013-01-07T14:43:17.220
> 
> 标签：javascript, html, input, css

考虑以下场景：

**HTML**

```
<input type="text" id="source" value="the quick brown fox">
<input type="text" id="target"> 
```

**CSS**

```
#source
{
  text-transform: capitalize;
} 
```

**JavaScript**

```
function element(id) {
  return document.getElementById(id);
}

element('target').value = element('source').value; 
```

* * *

在 CSS 样式之后，`#source`应该显示“The Quick Brown Fox”。

目标是获取`text-transform`-ed 值并将其转储到`#target`. 这有可能实现吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-07T14:47:48.133

不，您需要使用 JavaScript 对其进行物理转换

假设您已经知道 source 已将文本转换为大写，您可以这样做

```
window.onload=function() {
  document.getElementById("source").onblur=function() {
    var tgt = document.getElementById("target");
    var capitalised = [];
    var parts = this.value.split(" ");
    for (var i=0;i<parts.length;i++) {
      capitalised.push(parts[i].substring(0,1).toUpperCase()+parts[i].substring(1));
    }
    tgt.value=capitalised.join(" ");
  }
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-07T14:54:26.813

mplungjan 的回答是正确的，因为您不能使用 JavaScript 函数来确定转换后的值。最终，您需要在 JavaScript 中进行转换。

但是，您不需要像 mplungjan 的回答那样在大写转换中硬编码。也许您的某些文本是大写的，而其他一些文本是大写的，而其他文本却是正常的。只要您知道所有选项，您就可以动态处理这些情况。

您要做的是[使用 JavaScript 确定元素的样式](https://stackoverflow.com/questions/7894577/read-css-property-of-an-element-using-javascript)，然后在脚本中应用适当的转换并从那里开始。这种转变的一个很好的例子是mplungjan的回答。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-07T14:57:42.393

不，`text-transform`只是显示转换，实际上并不修改元素内的数据。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-01-07T15:02:34.353

将 CSS 转换后的值从`source`to复制`target`将不起作用，因为该值实际上并没有改变，只有样式改变了。其他样式属性（如字体系列或颜色）不会转移；text-transform 将以相同的有限方式运行。

如果您想实际更改字符串的值，就像您所做的那样，您将需要使用 JavaScript，可能使用 RegExp。

而不是这个...

```
element('target').value = element('source').value; 
```

...这段代码应该完全符合您的需要：

```
element('target').value = element('source').value.replace(/(\b\w)/g, function (m, p1) {
     return p1.toUpperCase();
}); 
```

JSFiddle 演示[在这里](http://jsfiddle.net/LpRPT/1/)。

**简短说明**：`\b`正则表达式开头的 查找任何单词的开头，并且`\w`（因为它被捕获在括号内）捕获该位置的任何单个字母数字字符。然后将其存储在`p1`函数的参数中，该参数仅返回大写版本。

# visual-studio-2010 - Visual Studio：每次运行时重建解决方案......如何？

> ID：14198139
> 
> 赞同：2
> 
> 时间：2013-01-07T14:43:26.100
> 
> 标签：visual-studio-2010, visual-studio, build, rebuild, pre-build-event

我有一个带有预构建事件的 Visual Studio 项目，该事件在输出目录下复制了一些 dll。

每当我使用 F5 启动应用程序时，我都会引发预构建事件。

换句话说，我会在每次运行时强制重建解决方案。我能怎么做？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2020-03-30T14:16:47.420

您可以通过在构建之前删除 Build-Directory 来强制执行此行为。

```
<YourProject> -> RightClick -> Properties -> Build Events -> "Pre-build event command line" -> 
```

在此处添加如下内容：

```
rmdir -s "$(ProjectDir)bin\"
rmdir -s "$(ProjectDir)obj\" 
```

希望这可以帮助某人，即使这个问题现在已经 7 岁了......

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-01-07T14:46:18.850

你为什么需要那个？如果 DLL 已更改，您只需复制它。

除此之外，Visual Studio 仅在必要时构建，并且仅在需要或您告诉它时才完全重建。如果没有任何改变，或者如果它可以只重建一个项目就可以逃脱，就没有办法强制 VS 重建......

# windows-phone-7 - Windows Phone 7：如何通知 ListBox 中的数据更新？

> ID：14198145
> 
> 赞同：1
> 
> 时间：2013-01-07T14:43:41.837
> 
> 标签：windows-phone-7, windows-phone, windows-phone-8

![在此处输入图像描述](../Images/4b3365c7a93dd86504cb995a9e43c7ed.png)

我有上述场景：如果用户单击 ListBox，它将有子项（再次是 ListBox）或详细视图。

所以我目前所做的是：每当用户单击任何项​​目时，如果单击的项目有更多的子项目，则进行网络调用并填写相同的 ListBox。

现在，问题出现在图片中：

1.  假设我在第 4 个屏幕（详细视图），
2.  移动到第 3 和第 2 屏幕，数据维护为堆栈（它工作正常，是的，我正在维护数据，`ObservableCollection<ObservableCollection<MyObjects>>`所以在返回时，我正在从那里获取数据）
3.  现在，如果我单击屏幕 2 中的任何项目，它将打开屏幕 3 ListBox 数据的详细视图。

意味着 ListBox 没有收到我们已在其中填充数据的通知`OnBackKeyPress()`

**仅供参考，我正在同一页面中填写 ListBox 和 WebBrowser。**，所以我的问题是，一旦我从我维护的堆栈中填充了数据，我如何通知 ListBox？

是的，我也实施**`INotifyPropertyChanged`**了，但不知道为什么它不起作用。

请检查我的代码：

1.  ListBox 和 WebView 屏幕： http: [//pastebin.com/K1G27Yji](http://pastebin.com/K1G27Yji)
2.  RootPageItem 类文件的实现`INotifyPropertyChanged`：[http ://pastebin.com/E0uqLtVG](http://pastebin.com/E0uqLtVG)

抱歉以上述方式粘贴代码，我这样做是因为问题很长。

## 问题：

如何通知 ListBox 数据已更改`OnBackKeyPress`？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-07T19:10:44.100

如果您设置，会有什么行为：

```
listBox1.ItemsSource = null; 
```

前

```
listBox1.ItemsSource = listRootPageItems; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-07T21:30:48.470

这只是错误的架构。请为每个屏幕添加一个页面，而不是重新加载相同的列表框。在 App 类（内部静态）中共享它们之间的数据，并使用内置的导航堆栈来处理“返回”。不要为此目的覆盖 OnBackKeyPress。

您将“免费”获得所需的功能，并且更易于维护和使用代码库。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-08T12:54:52.043

糟糕，这是我犯的一个愚蠢的错误。

我忘记在 OnBackKeyPress() 中设置 items[] 数组，但是在单击 item 时正在访问，因此它具有我们向前移动的最后一步的 items[] 数据，它正在执行相同的数据。

现在，我只包含了一行，它解决了我的问题。

```
 items = listRootPageItems.ToArray();  // resolution point 
```

所以 onBackKeyPress() 的最终代码是：

```
/**
 * While moving back, taking data from stack and displayed inside the same ListBox
 * */
 protected override void OnBackKeyPress(CancelEventArgs e)
 {
     listBox1.Visibility = Visibility.Visible;
     webBrowser1.Visibility = Visibility.Collapsed;
     listBox1.SelectedIndex = -1;

     if (dataStack.Count != 0)
     {
          listBox1.ItemsSource = null;
          listRootPageItems = dataStack[dataStack.Count-1];
          listBox1.ItemsSource = listRootPageItems;

               items = listRootPageItems.ToArray();  // resolution point
          dataStack.Remove(listRootPageItems);

          e.Cancel = true;
      }
 } 
```

# java - 如何一次更改 JFrame 中所有项目的可见性？

> ID：14198154
> 
> 赞同：0
> 
> 时间：2013-01-07T14:44:11.043
> 
> 标签：java, swing, jframe, visibility

`JFrame`我想知道是否有可能在一个简单的（？）命令中更改多个项目（文本框、按钮、图表...）的可见性。

感谢您的回答和想法！

（隐藏整体`JFrame`是没有选择的；））

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-07T14:50:06.563

将所有内容放入面板并隐藏/显示面板。这也应该传播到所有子组件

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-01-07T16:18:40.187

您可以使用，如此[处](https://stackoverflow.com/questions/5665156/calling-awt-frame-methods-from-subclass/5786005#5786005)[`CardLayout`](http://download.oracle.com/javase/6/docs/api/java/awt/CardLayout.html)所示。

![游戏视图](../Images/3e84734e45f9ce4d8da39f4e7796ef42.png) ![高分视图](../Images/108a81166d0c089a8de60cdb6ed2908a.png)

显然，演示中显示的两个面板之一将没有组件。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-01-07T14:54:21.137

将组件放入 Collection，然后您可以使用简单的迭代来设置/清除任何标志。您需要创建一个 Collection 并向其中添加对象，但这允许将可见性控制与组件布局分开。

# javascript - 如何将单击链接的类附加到另一个锚标记的 href 末尾？

> ID：14198157
> 
> 赞同：1
> 
> 时间：2013-01-07T14:44:14.363
> 
> 标签：javascript, jquery, class

我正在开发一个使用同位素过滤器和哈希历史的网站。
但是，为了让我的过滤器工作，我需要`#filter=.print`在我的缩略图的永久链接之后添加`"a.perma"`。这`".print"`是被点击的过滤器的类`"option-set a"`。在这种情况下，打印过滤器。
我对 jQuery 不太熟练，任何帮助将不胜感激。
这是我一直在弄乱的代码：

```
var myClass;

jQuery("option-set a").click(function() {
    myClass = jQuery(this).attr("class");
});

jQuery("a.perma").each(function() {
    var _href = jQuery(this).attr("href"); 
    jQuery(this).attr("href", _href + myClass);
}); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-07T14:50:23.933

这是工作代码。删除任何以前的过滤器。即使在转到另一个页面并返回后仍保留永久链接值。用途`localStorage`.

```
if(typeof(Storage)!=="undefined") {
    var oldClass = localStorage.getItem("permalink");

    if(oldClass != null && oldClass != "") {
        jQuery("a.perma").each(function() {
            var _href = jQuery(this).attr("href"); 
            _href = _href.split("#")[0];

            jQuery(this).attr("href", _href + "#filter=." + oldClass);
        });
    }
}

jQuery("option-set a").click(function() {
    myClass = jQuery(this).attr("class");

    jQuery("a.perma").each(function() {
        var _href = jQuery(this).attr("href"); 
        _href = _href.split("#")[0];

        jQuery(this).attr("href", _href + "#filter=." + myClass);

        if(typeof(Storage)!=="undefined") {
            localStorage.setItem("permalink", myClass);
        }
    });
}); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-07T14:52:39.560

You could try this, using [`.attr()`](http://api.jquery.com/attr/#computed-attr-values) with a function to determine and set the new value to avoid having to iterate and get/set separately.

```
jQuery("option-set a").click(function() {
    var myClass = this.className; // same as $(this).attr('class');
    jQuery('a.perma').attr('href', function(i, oldHref) {
        return oldHref + '.' + myClass;
    });
}); 
```

Depending on what the original `href` attributes look like you may have to add more or less to the string; I've assumed in the above that the `#filter=` part is already included. You may also want to check that it's not already in the existing `href` so it's not added more than once.

# linux - 错误“无法连接到 github.com”

> ID：14198158
> 
> 赞同：3
> 
> 时间：2013-01-07T14:44:15.947
> 
> 标签：linux, git, github

我是从 git 开始的初学者。我已经在 github 上创建了我的帐户。我创建了一个新的存储库。但我无法使用终端推送或更新 github 中的更改。我正在运行以下命令：

```
mkdir ~/TestApplication
cd ~/TestApplication
git init
touch README
git add README
git commit -m 'first commit'
git remote add origin https://github.com/vinayptl/TestApplication.git
git push origin master 
```

当我执行 last command`git push origin master`时，它会冻结一段时间并给出以下错误：

```
error: Failed connect to github.com:443; Connection timed out while accessing 
https://github.com/vinayptl/TestingApplication.git/info/refs

fatal: HTTP request failed 
```

我在 Linux 平台上工作。可能是什么问题呢？我已经看到了一些来自 SO 的答案，但无法解决这个问题。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-08T06:59:47.153

如果您有代理，ping 不会对您有太大帮助（[它无法通过代理 ping](https://stackoverflow.com/questions/147558/proxy-for-command-line-utilities-in-win-xp)）。

您需要设置`http_proxy`和`https_proxy`环境变量。
看：

*   “[与 github 同步](https://stackoverflow.com/questions/5377703/syncing-with-github/5378094#5378094)”。
*   “[`git push -u origin master`错误：收到 HTTP 代码 0](https://stackoverflow.com/questions/10875550/git-push-u-origin-master-error-received-http-code-0/10876451#10876451) ”
*   “[无法让 git 上的 Http 工作](https://stackoverflow.com/questions/7073504/cannot-get-http-on-git-to-work/7073618#7073618)”

# java - Java泛型继承神秘错误

> ID：14198159
> 
> 赞同：1
> 
> 时间：2013-01-07T14:44:17.110
> 
> 标签：java, generics, inheritance

我有一个接收器类，将消息放入消息队列中，如下所示

```
public class Receiver<T extends MessageBase> {

  private LinkedBlockingQueue<T> messageQueue = new LinkedBlockingQueue<T>();

  public void add(T msg) {
    messageQueue.add(msg);
  }

  public void Class<T> getType() {
    ...
  }
} 
```

当尝试添加消息时

```
public <T extends MessageBase> void processMessage(T msg) {
    for (Receiver<? extends MessageBase> r : receivers) {
        if (msg.getClass().equals(r.getType())) {
            r.add(msg);
        }
    }
} 
```

我得到一个

```
The method add(capture#3-of ? extends MessageBase) in the type 
Receiver<capture#3-of ? extends MessageBase> is not applicable 
for the arguments (T) 
```

由于`Receiver`该类被强制转换为扩展`MessageBase`，因此添加作为子类的消息是否应该不起作用`MessageBase`？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-07T14:49:21.330

当您将泛型与下界（？扩展类型语法）一起使用时，您无法将任何内容添加到您的容器中。

```
for (Receiver<? extends MessageBase> r : receivers) {
        if (msg.getClass().equals(r.getType())) {
            r.add(msg);// This is wrong, as you cannot add anything into Receiver
        }
    } 
```

请参阅此答案以了解[为什么不允许](https://stackoverflow.com/questions/13993745/add-strings-through-use-of-generic-extends-causes-compiler-error/13993770#13993770)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-07T14:59:06.330

Java 不知道 的实际参数类型，`add(T msg)`因为它依赖于`T`.

`r`被定义为`Receiver<? extends MessageBase>`，因此它属于未知类型（尽管基于`MessageBase`）。

所以 Java 不能同时匹配两者，因为它们可能属于不同的（不匹配的）类型。例如 msg 可能有一个`MessageBase1`类型并且`r`可能有一个`MessageBase2`类型，它们（显然）是不兼容的。

# graph - 忽略一项成本找到最便宜的路径

> ID：14198160
> 
> 赞同：5
> 
> 时间：2013-01-07T14:44:22.077
> 
> 标签：graph, path, dijkstra, depth-first-search

我想找到两个顶点之间最便宜的路径，我可以选择一条我可以免费走的路径。例如：

![在此处输入图像描述](../Images/edd158b60c6ad2012ee28096cc4bf47e.png)

顶点 1 和 6 之间最便宜的路径是 1-3-4-5-6 - 我免费使用边 1-3（成本 30），总成本为 21。

除了一一检查所有路径之外，还有其他方法吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-07T18:18:26.143

一种方法是执行以下操作：

1.  复制您的图表，以便您拥有带有节点 1,2 等的原始图表 G。以及节点 1'、2' 等的副本 G'。和相应的边。
2.  对于 G 的每条边 (a,b)，制作一条从 a 到 b' 的弧（有向！）和另一条从 b 到 a' 的弧，两者的成本均为 0。
3.  最后，使用从子图 G 的任何顶点到 G' 的任何顶点（在您的示例中为 1 到 6'）的任何最短路径算法。

基本上发生的事情是当你使用你的小丑时你从子图 G 切换到 G'。

通过添加额外的副本并将每个新副本链接到最后一个副本，您可以从那里推广到任意数量的百搭边。但是，在这种情况下，您可能必须使用更少的百搭来添加目标，以解决最短路径需要的边少于百搭的情况。

# php - 如何将字符串附加到 file_get_contents 的结果

> ID：14198165
> 
> 赞同：-7
> 
> 时间：2013-01-07T14:44:32.770
> 
> 标签：php

我想知道在给出的结果的开头附加一串文本

```
file_get_contents 
```

就我而言

```
$file = file_get_contents($url); 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-07T14:45:43.067

你可以这样做——

```
$file = "Some text content".file_get_contents($url); 
```

# adsense - 如何在 Google Adsense 帐户中创建 adTagUrl？

> ID：14198167
> 
> 赞同：1
> 
> 时间：2013-01-07T14:44:39.450
> 
> 标签：adsense

我正在使用 Google Flash IMA 广告 Flash 3.0 版。这个新的更新似乎减少了从 Google AdSense 请求广告的参数。前任，

```
 var adsRequestDFP:AdsRequest = new AdsRequest();
        adsRequestDFP.linearAdSlotWidth = 400;
        adsRequestDFP.linearAdSlotHeight = 300;
        adsRequestDFP.nonLinearAdSlotWidth = 400;
        adsRequestDFP.nonLinearAdSlotHeight = 300;
        adsRequestDFP.adTagUrl = "http://ad.doubleclick.net/pfadx/AngelaSite;kw=html5linearnonlinear;sz=300x300;ord=5036130;dcmt=text/xml" 
```

我的问题在于 adTagUrl。我刚刚使用了示例 URL 并完成了工作。但现在我想让它与我的广告一起使用，但我不知道如何创建一个 adTagURL，以便我的广告将在我的 Flash 广告容器中随机调用。

# ios - iOS：从函数输入参数中检索数据

> ID：14198177
> 
> 赞同：0
> 
> 时间：2013-01-07T14:45:27.267
> 
> 标签：ios

我想知道如何通过向函数提供输入参数来检索值。我想在下面以这种方式检索，但它不会检索它，而是在打印时给出空数组值。我什至不能在参数中使用像 c 这样的 & 符号。

```
NSMutableArray *firstArray = [[NSMutableArray alloc] init];
NSMutableArray *secondArray = [[NSMutableArray alloc] init];

MyClass *myClassObj = [[MyClass alloc] init];
[myClassObj getVals : firstArray : secondArray];
NSLog(@"firstArray: %@", firstArray); // empty
            NSLog(@"secondArray: %@", secondArray); // empty

    // function to retrieve 
    - (void) getVals :(NSMutableArray *) firstArray :(NSMutableArray *) secondArray
    {
        firstArray = [NSMutableArray arrayWithObjects:@"val1", @"val2", @"val3", @"val4", nil];
        secondArray = [NSMutableArray arrayWithObjects:@"val11", @"val22", @"val33", @"val44", nil];

    } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-07T14:54:19.380

Try this:

```
- (void) getVals :(NSMutableArray *) firstArray :(NSMutableArray *) secondArray {
    [firstArray addObjectsFromArray:@[ @"val1", @"val2", @"val3", @"val4" ]];
    [secondArray addObjectsFromArray:@[ @"val11", @"val22", @"val33", @"val44" ]];
} 
```

The code you have assigns a new array to the local parameter values instead of adding values to the passed in arrays.

Your other option could be:

```
NSMutableArray *firstArray = nil;
NSMutableArray *secondArray = nil;

MyClass *myClassObj = [[MyClass alloc] init];
[myClassObj getVals : &firstArray : &secondArray];

- (void) getVals :(NSMutableArray **) firstArray :(NSMutableArray **) secondArray {
    *firstArray = [NSMutableArray arrayWithObjects:@"val1", @"val2", @"val3", @"val4", nil];
    *secondArray = [NSMutableArray arrayWithObjects:@"val11", @"val22", @"val33", @"val44", nil];
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-07T14:51:31.490

您正在用新对象覆盖对象引用。你应该使用

```
[firstArray addObject:@"val1"] 
```

# sql - SQL中的C风格最小/最大？

> ID：14198181
> 
> 赞同：2
> 
> 时间：2013-01-07T14:45:31.567
> 
> 标签：sql, sql-server, sql-server-2008

> **可能重复：**
> [在 sql 中获取两个值中的最小值](https://stackoverflow.com/questions/1947753/getting-the-minimum-of-two-values-in-sql)

我正在尝试获取范围之间的所有值。我正在做这样的事情

```
DECLARE @StartSeq INT
set @StartSeq = (select Sequence from MyTbl where ...)

update ... and MyCol between @StartSeq and @StartSeq+@RelativePosition 
```

但是如果RelativePosition 是负数，它会失败，因为它的数量比startseq 小。我能想到的最简单的解决方案是复制我的代码并执行 if (RelPos<0) 以查看我是先执行 @StartSeq+@RelativePosition 还是第二个。然而，这似乎不是最好的解决方案。有没有办法我可以在 sql 中做到这一点？我尝试了 min(a,b) 但它在 sql 中不起作用。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-07T14:53:00.730

这样的事情会做：

```
update ... and ((MyCol between @StartSeq and @StartSeq+@RelativePosition)
             or (MyCol between @StartSeq+@RelativePosition and @StartSeq)) 
```

交替：

```
declare @MinSeq int
declare @MaxSeq int

select @MinSeq = min(Seq), @MaxSeq = max(Seq)
from (values (@StartSeq), (@StartSeq+@RelativePosition)) this (Seq)

update ... and MyCol between @MinSeq and @MaxSeq 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-07T14:52:00.087

您可以在中间使用`CASE`语句，例如

```
and MyCol Between CASE When @StartSeq <= @relativePosition Then @Start Else @RelativePosition End
               And CASE When @StartSeq <= @relativePosition Then @RelativePosition Else @Start End 
```

但是，这很讨厌，您应该真正尝试确保参数有意义。

# c++ - 如何将连接的字符串参数传递给 system() 函数？

> ID：14198189
> 
> 赞同：-3
> 
> 时间：2013-01-07T14:45:50.457
> 
> 标签：c++, gcc, g++

如何将连接的字符串参数传递给`system()`函数？

*   我在用`GCC 4.5.2`
*   我必须`std::string`执行 get`shell`并将其输出写入外部文件。
*   我使用该`system()`功能来执行此任务。

我无法执行此函数，因为我只能传递`char*`参数而不能传递`std::string`参数。

这是我的代码..

```
#include<iostream>
#include<fstream>
#include<stdio.h>
#include<stdlib.h>

using namespace std;

void getch()
   {
   int c;
   fflush(stdout);
   while ((c = getchar()) != '\n' && c!= EOF) { /* Do Nothing */ }
   }

int main()
{
string optTechniques[] = {
        "-fauto-inc-dec", "-fcprop-registers", "-fdce",
        "-fdefer-pop", "-fdelayed-branch", "-fdse",
        ........,   .....,  ......
         }
string str;
str="gcc -Wall "+optTechniques[i]+" -o output";
cout<<"\n"<<str<<"\n";  /* Here it prints correctly */
system(str);    /* This is generating error. */
string val;
system("sh execTime.sh");

ifstream readFile("output.log");
readFile>>val;  /* Works perfectly if execution is done. */
float execTime=strtof(val.c_str(),NULL);    /* Converts the string to float */

getch();

cout<<"\nExecution Time: "<<execTime<<"\tTechnique: "<<optTechniques[i]<<"\n";
return 0;
} 
```

**更新：** *谢谢。我得到了答案。*

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-07T14:47:01.057

使用 : 从字符串中获取 char 指针`c_str`。

```
system(str.c_str()); 
```

# ant - Ant如何禁用foreach目标的打印目标名称

> ID：14198191
> 
> 赞同：1
> 
> 时间：2013-01-07T14:46:00.987
> 
> 标签：ant, foreach, target

我有以下代码：

```
... 
<foreach target="each-time-target" param="file">
    <fileset dir="${basedir}/target" casesensitive="yes">
        <include name="libs/*.jar"/>
    </fileset>
</foreach>
... 
```

当我执行它时，我在输出中看到

```
each-time-target:

each-time-target:

each-time-target:

.... 
```

是否存在一些选项来禁用特定目标的目标名称打印？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-07T15:53:42.607

使用`-emacs`命令行选项，fe

```
ant -emacs -f foobar.xml 
```

详见[Ant 手册](http://ant.apache.org/manual/running.html#options)选项

# mysql - 当 04:00 > 23:00 时，如何处理 mysql 中的“Open Till”时间？

> ID：14198192
> 
> 赞同：2
> 
> 时间：2013-01-07T14:46:06.720
> 
> 标签：mysql

我正在尝试对商店的关闭时间进行查询搜索。

问题是，由于某些场所在凌晨 2、3、4 点关闭 - 我如何查询`where LESS THAN or EQUAL`04:00 的表行值何时对我来说比 23:00 更重要？

谢谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-07T14:57:10.770

我认为您应该使用日期时间、时间戳或时间作为数据类型。因为它将在未来用于数学计算。

如果您将其存储为字符串或数字，您将很难对其进行操作。

所以在选择数据类型时要具体。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-10T14:48:54.417

选择一个任意日期来存储打开和关闭时间，比如 1900 年 1 月 1 日。

任何在同一天开门和关门的商店都使用这个日期。

因此，一家早上 9 点开门，下午 5 点关门的商店：

开放时间：1900-01-01 09:00:00

关闭时间：1900-01-01 17:00:00

一天开门，第二天关门的商店使用第二天作为关门时间。

因此，在下午 4 点开放并在第二天凌晨 2 点关闭的酒吧得到：

开放时间：1900-01-01 16:00:00

关闭：1900-01-02 **02:00:00**

现在您可以使用大于和小于查询并获得您期望的结果。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-01-10T23:37:33.330

由于收盘时间必须在开盘时间之后发生，因此如果`closing_time`小于`opening_time`该时间意味着间隔将在第二天滚动。

如何检查给定时间是否在间隔内？如果满足以下条件，则给定时间在区间内：

*   `given_time`介于`opening_time`和之间`closing_time`，当区间不翻转时；
*   `given_time`不在 和 之间`opening_time`，`closing_time`当关闭时间是第二天。

据我记得，我认为我以前从未在 SQL 查询中使用过**XOR**，但在这里它非常适合：

```
closing_time<opening_time
XOR
  (time(now()) >= least(opening_time,closing_time) and
   time(now()) < greatest(opening_time, closing_time)) 
```

如果在任何间隔内，这将给出 true `time(now())`，即使 close_time 小于 opening_time。请注意，我必须使用`>=`and `<`，使用`>=`and `<=`（或其等效的 BETWEEN）并不总是给出正确的结果，但我相信逻辑是正确的。

如果我们必须检查 time(now()) 是否在特定 dat 的间隔内，我们仍然会遇到一个问题：如果商店在星期一开门，凌晨 1 点关门，那么关门时间就不再是星期一了，所以如果我们过了midnignt，并且间隔被交换，我们必须检查前一天的间隔。这将检查正确的 opening_day：

```
opening_day =
date_format(now() - INTERVAL
    (closing_time<opening_time and time(now())<closing_time) DAY, '%a')) 
```

如果关闭时间在第二天滚动，并且当前时间在关闭时间之前，则 () 中的条件将为真，因此我们必须检查 INTERVAL 1 DAY，否则条件为假并减去 INTERVAL 0 DAY 得出当天。

所以我的最终查询是这样的：

```
set @n='2013-01-11 18:15:00';

SELECT
  e.name,
  hrs.opening_day,
  hrs.opening_time,
  hrs.closing_time
FROM
  hours_of_operation hrs join establishments e
  on hrs.establishment_id = e.id
     and not is_closed
     and ((hrs.opening_day=date_format(@n -
           INTERVAL
             (closing_time<opening_time and time(@n)<closing_time)
           DAY, '%a'))
          AND (closing_time<opening_time XOR
         (time(@n) >= least(opening_time,closing_time)
          and time(@n) < greatest(opening_time, closing_time))))
 ; 
```

这使所有商店在给定的@n 日期时间开放。[小提琴在这里](http://www.sqlfiddle.com/#!2/b9e18/46/1)。

**编辑：**

我有另一个（也许很奇怪？）想法来解决同样的问题。它应该更容易理解。2001 年的第一天`'2001-01-01'`是一个看起来不错的日期，并且还具有星期一的有趣特性。所以我的想法是将所有日期（当前日期、开幕日期、结束日期）移回这个日期。

当前日期将变为：

```
'2001-01-01'
+ INTERVAL WEEKDAY( @n ) DAY
+ INTERVAL TIME_TO_SEC( @n ) SECOND 
```

（我们添加星期几，星期一的工作日为 0，因此我们仍将在“2001-01-01”，星期二为 1，因此将是“2001-01-02”，依此类推）。并使用 TIME_TO_SEC 我添加第二个以创建日期时间字段。

开幕日期为：

```
'2001-01-01'
+ INTERVAL
    FIELD(opening_day,'Mon','Tue','Wed','Thu','Fri','Sat','Sun')-1
  DAY
+ INTERVAL TIME_TO_SEC(opening_time) SECOND 
```

将opening_day转换为要添加的天数我正在使用[FIELD](http://dev.mysql.com/doc/refman/5.0/en/string-functions.html#function_field)函数，然后我们必须从星期一开始减去1到1，然后我们添加时间部分。

截止日期为：

```
'2001-01-01'
 + INTERVAL
     FIELD(opening_day,'Mon','Tue','Wed','Thu','Fri','Sat','Sun')
     -(closing_time>opening_time) DAY
 + INTERVAL TIME_TO_SEC(closing_time) SECOND 
```

与开盘日期相同，但我将 1 减去 DAY 仅开盘时间在收盘时间之前，否则意味着收盘时间发生在第二天。然后我们只需要使用 BETWEEN 来检查我们是否在区间内，如下所示：

```
SELECT
  establishments.id,
  establishments.name,
  opening_time,
  closing_time
FROM
  `hours_of_operation` inner join establishments
  on hours_of_operation.establishment_id=establishments.id
     and not is_closed
     and
       '2001-01-01'
       + INTERVAL WEEKDAY( @n ) DAY
       + INTERVAL TIME_TO_SEC( @n ) SECOND

       BETWEEN

       '2001-01-01'
       + INTERVAL
           FIELD(opening_day,'Mon','Tue','Wed','Thu','Fri','Sat','Sun')-1
         DAY
       + INTERVAL TIME_TO_SEC(opening_time) SECOND

       AND

      '2001-01-01'
      + INTERVAL
          FIELD(opening_day,'Mon','Tue','Wed','Thu','Fri','Sat','Sun')
          -(closing_time>opening_time) DAY
      + INTERVAL TIME_TO_SEC(closing_time) SECOND 
```

[在这里拉小提琴](http://www.sqlfiddle.com/#!2/b9e18/61/2)。

但是在这一点上，我们可以**从一周开始转换为秒**，我们有所有的元素可以做到这一点，我的最终查询是这样的：

```
SELECT
  establishments.id,
  establishments.name,
  opening_time,
  closing_time
FROM
  `hours_of_operation` inner join establishments
  on hours_of_operation.establishment_id=establishments.id
     and not is_closed
     and
       WEEKDAY( @n ) * 86400 + TIME_TO_SEC( @n )    

       BETWEEN

       (FIELD(opening_day,'Mon','Tue','Wed','Thu','Fri','Sat','Sun')-1)*86400+
        TIME_TO_SEC(opening_time)

       AND

       (FIELD(opening_day,'Mon','Tue','Wed','Thu','Fri','Sat','Sun')
        -(closing_time>opening_time))*86400
        + TIME_TO_SEC(closing_time) 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-01-10T09:48:40.337

您必须检查是否`closing_time`小于`opening_time`才能知道这是第二天。

要获得给定日期时间的有效开放时间，您还必须检查给定日期时间是否小于开放时间以创建正确的时间间隔。

要获取给定日期时间的开放时间，请使用

```
SET @MyDate = Now();

SELECT 
  title,
  CAST( 
    CONCAT( 
      CASE 
        WHEN TIME( @MyDate ) < opening THEN 
          DATE( @MyDate ) - INTERVAL 1 DAY 
        ELSE DATE( @MyDate ) 
      END, ' ', opening 
    ) AS DATETIME 
  ) open_from, 
  CASE 
    WHEN opening > closing THEN 
      CAST( 
        CONCAT( 
          CASE 
            WHEN TIME( @MyDate ) < opening THEN 
              DATE( @MyDate ) - INTERVAL 1 DAY 
            ELSE DATE( @MyDate ) 
          END + INTERVAL 1 DAY, ' ', closing 
        ) AS DATETIME 
      )
    ELSE 
      CAST( 
        CONCAT( 
          CASE 
            WHEN TIME( @MyDate ) < opening THEN 
              DATE( @MyDate ) - INTERVAL 1 DAY 
            ELSE DATE( @MyDate ) 
          END, ' ', closing 
        ) AS DATETIME 
      )
  END open_till
FROM 
  stores
ORDER BY
  open_from; 
```

获取实际`open`/`closed`状态使用

```
SET @MyDate = Now();

SELECT 
  title, 
  CASE
    WHEN 
      @MyDate >= CAST( CONCAT( CASE 
                           WHEN TIME( @MyDate ) < opening THEN 
                             DATE( @MyDate ) - INTERVAL 1 DAY 
                           ELSE DATE( @MyDate ) 
                         END, ' ', opening ) AS DATETIME )
    AND 
      @MyDate < CASE 
                WHEN opening > closing 
                THEN CAST( CONCAT( CASE 
                               WHEN TIME( @MyDate ) < opening THEN 
                                 DATE( @MyDate ) - INTERVAL 1 DAY 
                               ELSE DATE( @MyDate ) 
                             END + INTERVAL 1 DAY, ' ', closing ) AS DATETIME )
                ELSE CAST( CONCAT( CASE 
                               WHEN TIME( @MyDate ) < opening THEN 
                                 DATE( @MyDate ) - INTERVAL 1 DAY 
                               ELSE DATE( @MyDate ) 
                             END, ' ', closing ) AS DATETIME )
              END
    THEN 'open'
    ELSE 'closed'
  END state
FROM 
  stores; 
```

[SQL 小提琴演示](http://sqlfiddle.com/#!2/31d60/5)

**更新**

我已经处理了您的[SQL Fiddle Sample](http://sqlfiddle.com/#!2/ffeb8/1)并删除了过时的列`closing_day`。

```
SET @MyTime = Now();

SELECT
  ho.`establishment_id`, e.`name`
FROM
  `hours_of_operation` ho
JOIN
  `establishments` e ON ho.`establishment_id` = e.`id`
WHERE
  NOT `is_closed`
AND
  `opening_day` = DATE_FORMAT( CASE 
                                 WHEN TIME( @MyTime ) < `opening_time` THEN 
                                   DATE( @MyTime ) - INTERVAL 1 DAY 
                                 ELSE 
                                   DATE( @MyTime ) 
                               END, '%a' )
AND
  @MyTime >= CAST( CONCAT( CASE 
                             WHEN TIME(@MyTime) < ho.`opening_time` THEN 
                               DATE( @MyTime ) - INTERVAL 1 DAY 
                             ELSE 
                               DATE( @MyTime ) 
                           END, ' ', ho.`opening_time` ) AS DATETIME )
AND
  @MyTime < CAST( CASE
                    WHEN ho.`opening_time` > ho.`closing_time` THEN
                      CONCAT( CASE 
                                WHEN TIME(@MyTime) < ho.`opening_time` THEN 
                                  DATE( @MyTime ) - INTERVAL 1 DAY 
                                ELSE 
                                  DATE( @MyTime ) 
                              END + INTERVAL 1 DAY, ' ', ho.`closing_time` )
                    ELSE
                      CONCAT( CASE 
                                WHEN TIME(@MyTime) < ho.`opening_time` THEN
                                  DATE( @MyTime ) - INTERVAL 1 DAY 
                                ELSE 
                                  DATE( @MyTime ) 
                              END, ' ', ho.`closing_time` )
                  END AS DATETIME ); 
```

该解决方案基于与上面发布的相同方法，但检查每个工作日的开放时间。

[SQL 小提琴演示](http://sqlfiddle.com/#!2/10959/10)

# git - 如何处理 htaccess 文件的版本控制？

> ID：14198193
> 
> 赞同：1
> 
> 时间：2013-01-07T14:46:12.143
> 
> 标签：git, .htaccess, svn, versioning

我正在使用 git 开发一个项目，每台机器可能需要一个稍微不同的`.htaccess`文件。我想知道是否有任何技术可以处理此文件的版本控制，而无需在每台机器上单独设置一个？

基本上我有类似的想法（伪代码）：

```
<MachineX>
    RewriteBase /somepath/ 
</MachineX>

<MachineY>
    RewriteBase /anotherpath/ 
</MachineY>

<Production>
    RewriteBase /prodpath/ 
</Production> 
```

基本上，如果需要，每台机器都可以在 .htaccess 中拥有他们的自定义代码。有什么建议吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-07T15:01:33.870

至少有两种方式

1.  通用风格：使用分支（每个目标分支，分支整个项目，而不是单个文件）
2.  涂抹/清洁过滤器：一些 $VARIABLE 代替可变字符串必须在结帐时由真正的特定于 rarget 的代码替换（通过链接脚本），并在提交时转换回通用字符串

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-07T15:02:03.730

一种可能性是`.htaccess`在您的主分支中有一个模板文件，例如`master`.

然后，您为每台机器创建一个分支，`master`并在此特定分支上提交对该文件的修改。

当您想将更改集成`master`到该分支中时，只需切换到它并与`master`.

# php - php用日语创建csv文件

> ID：14198200
> 
> 赞同：0
> 
> 时间：2013-01-07T14:46:34.170
> 
> 标签：php, csv, utf-8

我有一个创建 csv 文件的 php 脚本：

```
 header('Expires: 0');
    header('Cache-control: private');
    header('Cache-Control: must-revalidate, post-check=0, pre-check=0');
    header('Content-Description: File Transfer');
    header('Content-Type: application/vnd.ms-excel; charset=utf-8');
    header('Content-disposition: attachment; filename="deposits_withdrawals.csv"');
    header('Content-Transfer-Encoding: binary');

    apache_setenv('no-gzip', 0);
    @ini_set('zlib.output_compression', 1);
    @ini_set('implicit_flush', 1);
    for ($i = 0; $i < ob_get_level(); $i++) { @ob_end_flush(); }
    ob_implicit_flush(1); 
```

csv 文件中的结果示例：

```
Account ID   Name    requestDate     Type    Method  Amount
22           ‚ ‚³‚  31/07/2012 04:42 deposit Bonus  10,000
22          ‚ ‚³‚   31/07/2012 04:36 deposit Wire   100,000 
```

如您所见，名称不显示日语，而是显示为乱码。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-08T10:35:54.100

感谢分享[上面的链接](http://www.24k.com.sg/blog-55.html)

我只是回应了

```
 echo chr(0xEF).chr(0xBB).chr(0xBF); 
```

其余的工作得很好！

# java - 当条款数量增加时，Lucene 变慢了？

> ID：14198201
> 
> 赞同：0
> 
> 时间：2013-01-07T14:46:39.927
> 
> 标签：java, lucene

我们有一个 50Gb 的 Lucene 索引（机器上有 4GB RAM）。例如，用一个词进行搜索需要 100 毫秒。两个术语 - 200ms，三个 - 300ms，等等。

这是预期的性能下降还是我们做错了什么？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-07T17:10:58.777

搜索包含*k*个不同术语的查询涉及获取与它们对应的*k个发布列表，然后计算它们的并集。*一般来说，这将在项数上花费线性时间。

# performance - 为什么 UDP 最大带宽的 iperf 测量值始终相同？

> ID：14198202
> 
> 赞同：1
> 
> 时间：2013-01-07T14:46:42.027
> 
> 标签：performance, networking, tcp, udp, measurement

我正在使用 iperf 工具通过 UDP 协议测量两个节点之间的最大带宽。在服务器端我使用：

```
./iperf -s -u 
```

在客户端我使用：

```
./iperf -c <server ip> -u 
```

对于我选择的每次（由`-t [time]`开关设置），无论我运行多少次测试，我都会得到相同的结果。对于 TCP，每次都略有不同（我猜这没关系）。我错过了什么吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-06-04T18:22:48.677

udp 的 iperf 具有默认带宽限制。用“-b”标志覆盖它，看看你得到了什么。

# java - 最后 3 个 if else 语句出现错误

> ID：14198203
> 
> 赞同：0
> 
> 时间：2013-01-07T14:46:50.340
> 
> 标签：java, helper

```
if (annual <= lowincome && aChar == 'S')
    owe = annual * .25;
else if ( annual > lowincome || annual < medincome && aChar == 'S')
    owe = annual * .50;
else if (annual > medincome && Char == 'S')
    owe = annual * .75;
else if (aChar == 'M' && annual <= lowincome)
    owe = annual *.24;
else if(annual > low income || annual < medincome && aChar == 'M')
    owe = annual * .49;
else if(annual > medincome && Char == 'M')
    owe = annual * .74; 
```

我希望用户输入他们是已婚还是单身，然后在找出年收入后进行计算。我收到此错误

```
TaxReturn.java:54: error: ')' expect
if(annual > low income || annual < medincome && aChar == 'M')
                                           ^
TaxReturn.java:54: error: not a statement
if(annual > low income || annual < medincome && aChar == 'M')
                                                   ^
TaxReturn.java:54: error: ';' expect
if(annual > low income || annual < medincome && aChar == 'M')

TaxReturn.java:56: error: 'else' without 'if'
else 
                            ^
TaxReturn.java:68: error: class, interface, or enum expected
}       
^
5 errors 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-01-07T14:50:07.650

```
if(annual > low income || annual < medincome && aChar == 'M') 
```

应该

```
if(annual > lowincome || annual < medincome && aChar == 'M') 
```

既不`low`也不`income`被识别为声明的变量。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-07T14:53:34.460

You should use brackets for give perfect meaning on your conditions...

```
if ( annual  >  low income  ||(  annual  <  medincome  &&  aChar  == 'M' )) ... 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-07T16:25:55.200

这来自您的错误跟踪

```
if(annual > low income || annual < medincome && aChar == 'M') 
```

你不能在变量内有空间，就像在你的`low income`

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-01-07T15:15:40.610

您应该将此作为返回欠款金额的辅助方法，这将使您摆脱讨厌的嵌套业务。如果嵌套了三个以上的 if 语句，则需要重新考虑如何解决问题。我向你保证，你会因此而失分。

话虽如此，由于“低”和“收入”之间的空间，您的代码正在爆炸......应该是“低收入”。

这是您可能考虑如何重新组织代码的示例...

```
public BigDecimal getOwed(BigDecimal annual){
    if (annual <= lowincome && aChar == 'S'){
        return owe = annual * .25;
    }

    if ( annual > lowincome || annual < medincome && aChar == 'S'){
           return owe = annual * .50;
    }

    if (annual > medincome && Char == 'S'){
        return owe = annual * .75;
    }
    /*go through all your cases in this fashion
    .
    .
    .
    handle the case that it doesnt match any (should never occur).
    */

} 
```

这种方式更干净，更容易阅读。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2013-01-07T16:38:34.937

这段代码不应该：

```
if (annual > medincome && Char == 'S'){
    return owe = annual * .75;
} 
```

是这样的：

```
if (annual > medincome && aChar == 'S'){
    return owe = annual * .75;
} 
```

看起来您没有始终如一地评估您的变量 aChar 。您也可以在最后一个“else if”语句中执行此操作。

# android - Android应用强制关闭

> ID：14198204
> 
> 赞同：0
> 
> 时间：2013-01-07T14:46:51.520
> 
> 标签：android

我是 Android 应用程序开发和 Java 的新手。我一直在看一些教程，但决定是时候开始自己做一些事情了。我正在尝试制作一个胖卡尺计算器，在其中将所有信息插入一个活动中，计算它，然后将结果传递给另一个活动以显示它。出于某种原因，每次按下计算按钮时，我都会强制关闭，我不确定是什么原因造成的，也不知道是哪个活动。

这是代码：

[主要活动](http://pastebin.com/1G0MVPBL)

[展示](http://pastebin.com/jTGbJk6c)

你能看出导致部队关闭的原因吗？

谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-07T14:50:55.077

问题是您正在启动显示活动，但没有将捆绑包传递给显示活动。

当您开始显示活动时，像这样更改您的代码。

```
Intent a = new Intent(MainActivity.this, Display.class);
a.putExtras("giveResults",packet );
startActivity(a); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-07T14:51:34.173

我相信这是因为您从哪里开始您的活动和您的捆绑包，您没有将捆绑包添加到意图中。

你需要做类似的事情

```
a.putExtra(packet) 
```

在你开始活动之前

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-07T14:55:48.063

看看这个答案。它描述了 LogCat，这是调试 android 代码的最佳方式。

[https://stackoverflow.com/a/3280126/771999](https://stackoverflow.com/a/3280126/771999)

如果您使用 LogCat，您通常可以查明问题的确切行号。

# c++ - 使用 c++ 11 特性且不影响可移植性

> ID：14198207
> 
> 赞同：0
> 
> 时间：2013-01-07T14:46:55.863
> 
> 标签：c++, c++11

在使用 c++11 启动基于 clang 的新项目时，您将如何使用 Variadic 模板、初始化列表、默认和删除函数等新功能，这些功能目前在 VC11 中未实现，以保持将项目移植到的可能性有一天窗户？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-17T16:17:48.460

微软将是更快的实施者之一。老实说，我相信这一点。你也可能听过[STL](http://channel9.msdn.com/Tags/stephan-t-lavavej)（“STL？任何关系？”）。所以，只是使用它。

或者

用作`boost`抽象层（目前通过宏实现一些可变模板式功能）并依赖于 boost-implementors 为您的平台选择一个好的实现。

**更新**，@NicosC 评论后：如果您从 Clang 或 GCC 开始，只要 MS 不支持您正在使用的 C++11 功能，您就可以在 Windows 上使用它们。我认为这是“激励 MS 改进 C++11 支持”（甚至更多）。因此，如果您可以选择，请使用 C++11 功能来改进您的代码——更易于编写、维护和理解。

# java - 在 selenium 服务器独立上运行从 selenium ide 生成的 java 导出测试

> ID：14198210
> 
> 赞同：0
> 
> 时间：2013-01-07T14:47:01.380
> 
> 标签：java, testing, selenium, selenium-rc, selenium-ide

我是否可以通过命令行/终端在 selenium-server.jar 上从 selenium ide 运行 java 导出测试？

到目前为止，我已经使用了这个命令：

```
java -jar lib/selenium-server-standalone-2.28.0.jar -htmlsuite *firefox http://localhost:4444/wd/hub src/NewTest.java NewTest-result.html 
```

在启动 firefox 之前它工作正常，我在 firefox 中看到了这个测试的代码，但它根本没有显示它已经运行了测试。它说 0 次测试运行，0 次测试失败，0 次测试成功。

是我的命令错误还是不应该以这种方式使用硒服务器？

我什至尝试使用 html 版本的 NewTest 而不是 java，但结果相同。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-07T15:06:14.960

转换后的测试是 JUnit 测试。所以你应该有两个过程：

**您的硒服务器进程：**

```
java -jar lib/selenium-server-standalone-2.28.0.jar 
```

**你的[JUnit 测试运行器](https://stackoverflow.com/questions/2235276/how-to-run-junit-testcases-from-command-line)**

```
java -cp /usr/share/java/junit.jar org.junit.runner.JUnitCore [test class name] 
```

如果您有多个测试类，最好`TestSuite`使用[Suite](http://www.mkyong.com/unittest/junit-4-tutorial-5-suite-test/)注释创建一个：

```
@RunWith(Suite.class)
@SuiteClasses({
   MyTestClass1.class,
   MyTestClass2.class})
public class TestSuite {
   ... 
```

如果您使用的是[Spring](http://static.springsource.org/spring/docs/2.5.6/reference/testing.html)，您可以设置包含 selenium 服务器地址、浏览器、...的配置

```
@RunWith(SpringJUnit4ClassRunner.class)
@ContextConfiguration(locations = { "classpath:my/package/seleniumConfig.xml"})
public abstract class SeleniumTestSuite { 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-07T15:07:26.623

这是[我想从命令行运行 Selenium 测试用例文件的副本](https://stackoverflow.com/questions/1231975/i-want-to-run-selenium-test-case-file-from-command-line)

确保您的命令行匹配 -

`java -jar selenium-server.jar -htmlSuite "*<browser>" "http://<ip>" "<suite to run>.html" "<path to results>.html"`

# stata - Stata - r 级命令 - 指导

> ID：14198211
> 
> 赞同：0
> 
> 时间：2013-01-07T14:47:02.437
> 
> 标签：stata

有没有人可以给我一个关于如何在 Stata 中编写 r 类命令的第一个提示？包含说明或指导的有用链接也会很有用。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-07T18:34:09.447

最初的和在许多方面最好的介绍在用户指南的后面章节中。它与 Stata 捆绑为 .pdf。另见 Kit Baum 的文本[http://www.stata.com/bookstore/stata-programming-introduction/](http://www.stata.com/bookstore/stata-programming-introduction/)

# php - Imagemagick设置行间距？

> ID：14198215
> 
> 赞同：2
> 
> 时间：2013-01-07T14:47:15.300
> 
> 标签：php, imagemagick, imagick

在使用 imagemagick 的应用程序中，设计是这样指定的：

```
 $draw->setFillColor(new ImagickPixel("#FFFFFF"));
   $draw->setstrokecolor(new ImagickPixel("#000000"));
   $draw->setstrokewidth(1);
   $draw->setFontSize(18);
   $draw->setfontweight(100);
   $draw->setFont("fonts/Impact.ttf"); 
```

我想以类似的方式设置行间间距，但所有样本都显示如下：

```
 convert -density 72 -pointsize 12 -interline-spacing 12  -font Arial \ 
```

如何访问`interline-spacing`PHP 中的命令行参数？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-08T04:46:28.917

根据[此错误报告](https://bugs.php.net/bug.php?id=60434)，行间间距已添加到 PHP，但该方法`ImagickDraw::setTextInterlineSpacing`不在我的 PHP 版本中：

```
# php -v
PHP 5.3.3-7+squeeze14 with Suhosin-Patch (cli) (built: Aug  6 2012 20:08:59) 
```

你可以看看它是否在另一个版本中。错误报告中还有一个补丁，您可以将其应用于您的 PHP 版本。否则，您可以使用 y 坐标和多次调用`Imagick::annotateImage`. 就像是：

```
<?php

$image = new Imagick();
$image->newImage(250, 300, "none");
$draw = new ImagickDraw();
$draw->setFillColor("black");
$draw->setFontSize(18);
$text = "Image Magick\nwowowow\nit's magical";
annotate_spaced($image, $draw, 0, 40, 0, $text, 40);
$image->setImageFormat("png");
header("Content-type: image/png");
echo $image;

function annotate_spaced($image, $draw, $x, $y, $ang, $text, $spacing)
{
   $lines = explode("\n", $text);
   foreach ($lines as $line)
   {
      $image->annotateImage($draw, $x, $y, $ang, $line);
      $y += $spacing;
   }
} 
```

使：

![在此处输入图像描述](../Images/823c0cc6cd3d064ffcf7fecdc61b9b05.png)

# php - 在 CGridView 中添加列作为链接

> ID：14198218
> 
> 赞同：1
> 
> 时间：2013-01-07T14:47:22.580
> 
> 标签：php, yii

我需要向我的 gridview 添加链接，此链接将使用 user_id 和 course_id 等参数调用操作。
所以我写了这段代码

看法 ：

```
<?php
$cmodel=new Courses;

$user_id=intval($_GET['user_id']);

$this->widget('zii.widgets.grid.CGridView', array(
    'id'=>'courses-grid',
    'dataProvider'=>$cmodel->searchCources($user_id),
    'filter'=>$cmodel,
    'columns'=>array(
        'course_id',
        'name_ar',
        'name_en',
        'code',
        't_time',
        array(
            'name'  => 't_time',
            'value' => "CHtml::link('Add',array('packages/add','user_id'=>$user_id,'course_id'=>$data->course_id))",
            'type'  => 'raw',
        )
    ,

        /*
        'req',
        'aud',
        'targets',
        'programs',
        'criterion',
        'section_id',
        'acc',
        'en',
        'ar',
        'fr',
        'image',
        */

))); 
?> 
```

模型 ：

```
 <?php
...

        public function searchCources($user_id)
{
    // Warning: Please modify the following code to remove attributes that
    // should not be searched.

    $criteria=new CDbCriteria;

    $criteria->compare('course_id',$this->course_id);
    $criteria->compare('name_ar',$this->name_ar,true);
    $criteria->compare('name_en',$this->name_en,true);
    $criteria->compare('code',$this->code,true);
    $criteria->compare('t_time',$this->t_time);
    $criteria->compare('intro',$this->intro,true);
    $criteria->compare('req',$this->req,true);
    $criteria->compare('aud',$this->aud,true);
    $criteria->compare('targets',$this->targets,true);
    $criteria->compare('programs',$this->programs,true);
    $criteria->compare('criterion',$this->criterion,true);
    $criteria->compare('acc',$this->acc);
    $criteria->compare('en',$this->en);
    $criteria->compare('ar',$this->ar);
    $criteria->compare('fr',$this->fr);
    $criteria->compare('image',$this->image,true);
      $criteria->addCondition(' course_id not in ( select course_id from ict_cpackage where user_id='.$user_id.') ');

    return new CActiveDataProvider($this, array(
        'criteria'=>$criteria
    ));
}
...
?> 
```

但返回此错误：

```
Undefined variable: data 
```

1-为什么返回这个错误？2-我如何访问列值

提前致谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-07T14:57:14.677

```
'value' => "CHtml::link('Add',array('packages/add','user_id'=>$user_id,'course_id'=>\$data->course_id))", 
```

您正在使用`""`引用您的字符串，因此您需要转义`$`on `$data`，因此它读作`\$data`.

# sql - 如何使用 BIRT 将布尔值转换为字符串

> ID：14198223
> 
> 赞同：0
> 
> 时间：2013-01-07T14:47:41.360
> 
> 标签：sql, eclipse, birt

我有一个这样的查询：

```
select myId, myName, myBoolean from myTable 
```

我希望得到一个 BIRT 表：

```
if myBoolen is true, print `smart` else print `sorry you're ...` 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-07T14:50:25.267

```
select myId, 
       myName, 
       case when myBoolean = 1 
            then 'smart' 
            else 'sorry ...'  
       end
from myTable 
```

# c - 将 int 添加到 char 数组

> ID：14198226
> 
> 赞同：1
> 
> 时间：2013-01-07T14:47:45.710
> 
> 标签：c, arrays, char, int

所以我在 C 中有一个 char 数组...例如：

```
uchar arr[3] = { 0x34, 0x45, 0xFF } 
```

我正在寻找一种向其添加整数的快速方法（例如它的 0x3445FF），例如，如果我将 2 添加到 arr 我得到：

```
{ 0x34, 0x46, 0x01 } 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-07T14:55:37.490

最简单和最好的方法是转换为 int，添加，然后再转换回来。此外，您需要确定字节顺序，因为它永远不清楚。

这段代码假定大端，即数组最初保存数字 0x3445ff：

```
uint8_t arr[] = { 0x34, 0x45, 0xff };

uint32_t x = (arr[0] << 16) | (arr[1] << 8] | arr[2];

x += 2;

arr[0] = (x >> 16) & 0xff;
arr[1] = (x >> 8) & 0xff;
arr[2] = x & 0xff; 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-07T14:53:27.277

Maybe the loop

```
int index = last_valid_index;
while(index >= 0 && addend > 0) {
    addend += array[index];
    array[index] = addend;
    addend >>= 8;
    --index;
} 
```

is fast enough?

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-07T15:02:41.503

这是 C。您可以将 char 数组转换为整数数组并直接分配，例如

```
uchar arr[20];
((int *)arr + index/sizeOf(int)) = your_int; 
```

然而，大小、低/大端等将取决于 int 在您的平台上的精确表示方式。这可能会导致可移植性问题。另外，请注意从 00 到 FF 的所有值都是可能的。例如，如果您稍后使用空终止符，中间的 00 会给您带来问题。此外，在我的示例代码中，整数表示将 sizeOf(int) - 对齐。

# objective-c - iOS/Objective-C：连接到 POP3 的库

> ID：14198231
> 
> 赞同：4
> 
> 时间：2013-01-07T14:47:56.783
> 
> 标签：objective-c, ios, pop3

我想连接到 IMAP 和 POP3 服务器，对于 IMAP，我目前正在使用 MailCore。不幸的是，我没有找到合适的 POP3 框架。

我尝试使用 libetpan：

```
 mailpop3 * pop3;
    int r;
    pop3 = mailpop3_new(0, NULL);
    r = mailpop3_ssl_connect(pop3, "pop.gmail.com", 995);
    check_error(r, "connect failed"); 
```

但我总是收到连接被拒绝错误；而且它只是C，我更喜欢Objective-C。更好的是一个我可以同时使用的库；IMAP 和 POP3。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-09T15:02:02.930

我没有使用[过 OCMail](https://github.com/miyabichan/OCMail)，但它似乎就是你要找的东西。它声称支持“POP3、IMAP4、SMTP、POPS、IMAPS、SMTPS”。

**编辑：构建错误**
原来，解决方案实际上在自述文件中。

1.  从 Github 下载 ZIP 后，打开 Xcode 项目。
2.  构建分析（产品菜单 > 构建 > 分析 (Command-Shift-I)）。
3.  打开 Xcode 首选项并转到“位置”
4.  在派生数据下，在高级按钮旁边，您会看到一个文件路径（类似于`/Users/YourUserName/Library/Developer/Xcode/DerivedData`）。路径旁边会有一个小箭头；单击箭头以转到 Finder 中的该位置。
5.  它会将您带到一个包含所有 Xcode 项目的文件夹。找到名称以 OCMail 开头的文件夹（后面有一堆乱码）。
6.  在该文件夹中，找到 Build > Products > Debug-iphoneos > `libOCMail.a`。*这就是您*要添加到Xcode 项目中的库文件。只需将它拖到您的 Xcode 项目中，您就可以开始使用了。

我在构建项目时遇到了一堆错误。它们来自定义错误的`enum`类型。这是一个清理过的文件： [http](http://cl.ly/code/442x2x3X3Y2I)
://cl.ly/code/442x2x3X3Y2I只需在构建之前下载并替换现有的 MimeMessage.m 文件。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-14T11:26:43.343

我过去在使用 libetpan，并且连接到 pop3 服务器时没有问题，所以我检查了它是否仍在工作。我使用了这里的代码：[https](https://github.com/dinhviethoa/libetpan/blob/master/tests/pop-sample.c) ://github.com/dinhviethoa/libetpan/blob/master/tests/pop-sample.c并针对 iOS 进行了调整。

如果您使用它，您会看到很多警告，并且在获取第一条消息后应用程序会崩溃，但连接正常（当然，您需要输入您的电子邮件登录名和密码）。

我并不是说 libetpan 是一个很好的解决方案。当我在开发支持邮件的应用程序时，我还使用 mailcore 来支持 IMAP，并最终放弃了对 POP3 的支持。但是，如果您从选项中运行，它可能会很有用。

```
static void check_error(int r, char * msg)
{
if (r == MAILPOP3_NO_ERROR)
    return;

fprintf(stderr, "%s\n", msg);
exit(EXIT_FAILURE);
}

-(IBAction)testButtonClick:(id)sender
{
mailpop3 * pop3;
int r;
carray * list;
unsigned int i;

//  if (argc < 3) {
//      fprintf(stderr, "syntax: pop-sample [gmail-email-address] [gmail-     password]\n");
//      exit(EXIT_FAILURE);
//  }

mkdir("download", 0700);

pop3 = mailpop3_new(0, NULL);
r = mailpop3_ssl_connect(pop3, "pop.gmail.com", 995);
check_error(r, "connect failed");

r = mailpop3_user(pop3, @"mail login".cString);
check_error(r, "user failed");

r = mailpop3_pass(pop3, @"mail password".cString);
check_error(r, "pass failed");

r = mailpop3_list(pop3, &list);
check_error(r, "list failed");

NSLog(@"carray_count(list_: %d", carray_count(list));

for(i = 0 ; i < carray_count(list) ; i ++) {
    struct mailpop3_msg_info * info;
    char * msg_content;
    size_t msg_size;
    FILE * f;
    char filename[512];

    struct stat stat_info;

    info = (mailpop3_msg_info *) carray_get(list, i);

    if (info->msg_uidl == NULL) {
        continue;
    }

    snprintf(filename, sizeof(filename), "download/%s.eml", info->msg_uidl);
    r = stat(filename, &stat_info);
    if (r == 0) {
        printf("already fetched %u %s\n", info->msg_index, info->msg_uidl);
        continue;
    }

    if(msg_content != NULL)
    NSLog(@"msg_content: %@", [NSString stringWithUTF8String:msg_content]);
    r = mailpop3_retr(pop3, info->msg_index, &msg_content, &msg_size);
    check_error(r, "get failed");

//      f = fopen(filename, "w");
//      fwrite(msg_content, 1, msg_size, f);
//      fclose(f);
//      mailpop3_retr_free(msg_content);

    if (info->msg_uidl != NULL) {
        printf("fetched %u %s\n", info->msg_index, info->msg_uidl);
    }
    else {
        printf("fetched %u\n", info->msg_index);
    }
}

mailpop3_quit(pop3);
mailpop3_free(pop3);

//  exit(EXIT_SUCCESS);
} 
```

# javascript - 画布动画在 FireFox 中卡顿，但在 Chrome 中非常完美

> ID：14198233
> 
> 赞同：5
> 
> 时间：2013-01-07T14:48:09.630
> 
> 标签：javascript, html, firefox, animation, canvas

我最近开始做一些 HTML5/Canvas 的东西，并且非常愉快地开展我的业务，​​在 Chrome 中测试东西，直到我决定尝试我在 Firefox 中所做的工作......效果不太好。

这是我正在做的那种事情的一个简单的例子。设置基本的 requestAnimationFrame 垫片，主循环清除画布，然后更新并绘制我的对象。很简单，关于这些东西的例子随处可见。

```
function loop() {
  canvas.width = canvas.width;

  requestAnimFrame(loop);

  rR.update();
  rG.update();
  rB.update();
  rY.update();

  rR.draw();
  rG.draw(); 
  rB.draw();
  rY.draw();
}

function Rect(color, x, y, speedX, speedY) {
  this.x = x;
  this.y = y;
  this.color = color;
  this.speedX = speedX;
  this.speedY = speedY;
}

Rect.prototype.draw = function () {
  context.fillStyle = this.color;
  context.beginPath();
  context.rect(this.x, this.y, 10, 10);
  context.closePath();
  context.fill();
};

Rect.prototype.update = function () {
  if (this.x < 0 || this.x > canvas.width) this.speedX = -this.speedX;
  if (this.y < 0 || this.y > canvas.height) this.speedY = -this.speedY;

  this.x += this.speedX;
  this.y += this.speedY;
};

var rR = new Rect("#FF0000", canvas.width/2, canvas.height/2, 2, 2);
var rG = new Rect("#00FF00", canvas.width/2, canvas.height/2, -2, -2);
var rB = new Rect("#0000FF", canvas.width/2, canvas.height/2, 2, -2); 
var rY = new Rect("#FFFF00", canvas.width/2, canvas.height/2, -2, 2); 
```

[http://jsfiddle.net/Polaris666/psDM9/3/](http://jsfiddle.net/Polaris666/psDM9/3/)

当我在 Chrome 中测试它时，它看起来很棒，但 Firefox 有很多口吃和撕裂，这似乎是一项相当简单的任务。

我发现了类似的问题，但没有一个明确的解决方案。这是火狐的事情吗？Webkit 浏览器在这方面做得更好吗？我应该放弃它并希望它在未来版本的浏览器中得到修复吗？或者也许这是我的特殊设置？我正在使用带有 FireFox 17.0.1 的 Windows 7 64 位。

任何帮助表示赞赏。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-07-16T22:22:03.490

@HakanEnsari 提供的解决方案似乎有效。我很好奇原因，发现是因为他的代码版本并没有清除整个画布。它只清除单独的 10x10 矩形，并单独留下画布的其余部分。

这有点涉及，还有很多其他有用的画布性能提示： [http ://www.html5rocks.com/en/tutorials/canvas/performance/#toc-render-diff](http://www.html5rocks.com/en/tutorials/canvas/performance/#toc-render-diff)

所以你想要这个：

```
 function loop() {
    // get rid of this
    //canvas.width = canvas.width; 

    requestAnimFrame(loop); 
```

只需清除单个矩形

```
Rect.prototype.update = function () {  
    if (this.x < 0 || this.x > canvas.width) this.speedX = -this.speedX;
    if (this.y < 0 || this.y > canvas.height) this.speedY = -this.speedY;

    // clear just the rect
    context.clearRect(this.x, this.y, 10, 10);

    this.x += this.speedX;
    this.y += this.speedY;
  }; 
```

（调整小提琴：http: [//jsfiddle.net/shaunwest/B7z2d/1/](http://jsfiddle.net/shaunwest/B7z2d/1/)）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-10-06T16:51:26.910

卡顿的另一个原因是在 FireFox24 之前，FireFox 的动画并未完全与刷新率 (VSYNC) 同步，尤其是在刷新率不完全是 60Hz 的情况下。

它与 W3C 建议第 5 节的结尾有关，[http://www.w3.org/TR/animation-timing/](http://www.w3.org/TR/animation-timing/)以便浏览器将动画与刷新率同步。自 FireFox 24 以来，它现在在 Windows 上的 Chrome 和 FireFox 中运行几乎同样流畅。

[TestUFO 在http://www.testufo.com/browser.html](http://www.testufo.com/browser.html)列出了所有支持的浏览器（可以同步 requestAnimationFrame() 到刷新率）

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-07-16T22:40:11.530

显然，清除画布会`canvas.width = canvas.width;`导致 Safari 出现延迟（我正在使用 5.1.9 版浏览）。

我从来没有使用过这种清除屏幕的方式：相反，我使用了这种方式：

```
context.clearRect(0,0, canvas.width, canvas.height); 
```

如果您尝试一下，它应该不再落后。见[jsfiddle](http://jsfiddle.net/psDM9/7/)。

* * *

这是清除画布的最快方法：相反，清除每个单独的元素需要您：

1.  跟踪每个元素的位置
2.  `clearRect`对要重绘的每个元素执行调用

并且也不适用于矩形以外的形状（因为没有`clearSphere`or`clearPath`方法）。

# java - Java Swing 条码创建

> ID：14198237
> 
> 赞同：9
> 
> 时间：2013-01-07T14:48:29.123
> 
> 标签：java, swing, barcode

我正在开发一个打印贴纸的简单应用程序，我需要打印条形码。由于某些原因，我需要将条形码生成为文本而不是图像。条码创建和打印已经足够好，但扫描仪无法识别这些条码。

我正在使用`JLabel`组件和系统条码字体 ( `IDAutomationHC39M, C39HrP24DhTt`) 来创建条码。扫描仪试图识别它（它自动切换到恒定激光模式）但没有结果。

条码文本示例*999-999999-9/9*

那么，也许我错过了什么或做错了什么？完整的解释或链接将不胜感激！

**UPD 代码示例**

```
barcodeLabel = new JLabel("*"+hwb.getNumber()+"-1/1*");
Font f = new Font("IDAutomationHC39M",java.awt.Font.PLAIN,8);
barcodeLabel.setFont(f); 
```

请忽略硬编码的“1/1” - 它仅用于测试。

**UPD 打印条码示例** ![在此处输入图像描述](../Images/0e6e99db33fcaaaa808aabcf62673b4f.png)

**一些更新**

它看起来很奇怪，但似乎问题出在扫描仪上 - 我尝试使用激光扫描仪，我的 Android 手机上的扫描仪应用程序并没有得到任何结果。我说它很奇怪，因为扫描仪之前成功地处理了 code39 条码。现在我尝试在自己的 Android 应用中使用基于 zxing 的扫描仪进行扫描，并且成功识别。在接下来的几天里，我将使用不同的扫描仪进行一些实验。

**最后**

我尝试在其他两个扫描仪（计量和符号）上扫描这些条形码，它们显示出完美的结果 - 所有条形码都成功识别。我认为所有问题都出在我便宜的扫描仪上——它适用于激光打印机上打印的条形码，但如果打印质量不理想——它就没用了。很抱歉，因为这个愚蠢的设备和我自己的疏忽，我开始了话题。无论如何感谢所有评论员，主题可能已关闭。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-10T17:46:33.477

我尝试在其他两个扫描仪（计量和符号）上扫描这些条形码，它们显示出完美的结果 - 所有条形码都成功识别。我相信所有问题都出在我便宜的扫描仪上——它适用于激光打印机上打印的条形码，但如果打印质量不理想——它就没用了。所以没有程序错误只有硬件限制。

# c - 从结构中添加或删除数据

> ID：14198239
> 
> 赞同：0
> 
> 时间：2013-01-07T14:48:40.947
> 
> 标签：c, struct, structure

我有以下代码：（我只保留了我的问题的相关部分）

```
 // Structure
        struct first_list {
            char firstname[100];
            struct first_list * next;
        };
        struct last_list {
            char lastname[100];
            struct last_list * next;
        };

        void verify_name()
        {
            char firstname[100];
            char lastname[100];
            struct first_list * curr_first = loaded_first;
            struct last_list * curr_last = loaded_last;

        /////////// this part was added by me
            while( curr_last != NULL )
            {
                strncpy(lastname, curr_last->lastname, sizeof( lastname ) - 1 );
                valid = validate_name(sock,buffer,sizeof(buffer),firstname);
                if(valid < 1)
                    fprintf(stderr, "%s is VALID\n", lastname);
                else
                    fprintf(stderr, "%s is invalid\n", lastname);

                curr_last = curr_last->next; //this is used for removing current record

            }
            printf( "LastName validation complete\n" );
            break;
        /////////// end of part added by me

            while( curr_last != NULL && curr_first != NULL )
            {
                strncpy(firstname, curr_first->firstname, sizeof( firstname ) - 1 );
                strncpy(lastname, curr_last->lastname, sizeof( lastname ) - 1 );

                ////////////////////////////////
                //// irrelevant code (functions)
                ////////////////////////////////

                if( curr_first->next == NULL && curr_last->next != NULL)
                {
                    curr_last = curr_last->next;
                    curr_first = loaded_first;
                }
                else 
                    curr_first = curr_first->next;
            }
        } 
```

因此，我在同时验证名字和姓氏的函数之前添加了一个新函数来验证姓氏（以优化整个过程）。问题是，如果我删除 break 命令，我会收到一个错误，因为验证后 last_list 为空。

***我怎样才能只保留结构中的有效姓氏，因为现在当移动到下一条记录时，它正在删除当前记录，直到循环完成（NULL）？***

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-07T15:05:59.107

您在第一个循环中需要做的是：

```
struct last_list * prev = NULL;
struct last_list * next = NULL;
while (curr_last != NULL)
{
  next = curr_last->next;
  strncpy(lastname, curr_last->lastname, sizeof(lastname) - 1);
  lastname[sizeof(lastname) - 1] = 0;
  valid = validate_name(sock,buffer,sizeof(buffer),firstname);
  if(valid < 1)
  {
    fprintf(stderr, "%s is VALID\n", lastname);
    prev = curr_last;
  }
  else
  {
    fprintf(stderr, "%s is invalid\n", lastname);
    if (prev == NULL)
      loaded_last = curr_last->next;  //this is used for removing when current is first record
    else
      prev->next = curr_last->next; //this is used for removing current record from mid-list
    free(curr_last); //Freeing should be needed but depends on how you built your list.
  }
  curr_last = next;
}
curr_last = loaded_last; 
```

这将从列表中删除您的`curr_last`元素并仅保留有效的姓氏。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-07T14:54:29.270

您已经在循环中使用（例如）cur_last->next“消耗”了列表，因此您需要重新初始化 cur_first 和 cur_last 以指向列表的开头，或者有一个执行这两个功能的循环

# .net - 备份后从 SQL Server 数据库中提取程序集

> ID：14198240
> 
> 赞同：0
> 
> 时间：2013-01-07T14:48:41.657
> 
> 标签：.net, sql-server, dll, assemblies, reflector

我有以下情况。

我得到了备份数据库文件 - *.bak。我在本地恢复了它，一切正常，除了我无法使用 .dll 程序集。显然，我无法在服务器上查找文件的本地路径，因为 - 恢复后 - 文件系统不同。

总体计划是以*某种方式*提取加载的 .dll 文件，然后使用反射器更新 Visual Studio 中的代码 - 然而，情况不再如此。有可能还是我必须以某种方式获得原始的dll？

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-07T15:16:47.560

`content`列在[`sys.assembly_files`](http://msdn.microsoft.com/en-us/library/ms175085.aspx)

# php - 我的网站日期显示时间 06:00 而不是 18:00

> ID：14198241
> 
> 赞同：-3
> 
> 时间：2013-01-07T14:48:42.560
> 
> 标签：php, time

我现在也使用此代码在我的网站上显示时间：

```
<?php date_default_timezone_set('Asia/Tehran'); echo date('h:i:s'); ?> 
```

但是使用此代码显示 06:00 而不是 18:00 请帮助我如何更改此代码以编辑此问题。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-07T14:50:26.180

你可以这样使用-

```
echo date('H:i:s'); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-07T14:50:58.560

从[手册](http://php.net/manual/en/function.date.php)：

```
h   12-hour format of an hour with leading zeros
H   24-hour format of an hour with leading zeros 
```

`H`不使用`h`

# android - 如果它们具有相同的ID，如何从所有复选框中检索信息？

> ID：14198242
> 
> 赞同：0
> 
> 时间：2013-01-07T14:48:50.197
> 
> 标签：android, android-listview, android-activity

我有一个安卓应用程序。我在其中有 ListView。列表视图由 ArrayAdapter 和布局文件构成。在布局文件中，我有复选框。所以我想通过按下按钮查看是否所有复选框都被选中。我怎么能做到这些？更新：我想看看哪些复选框被选中

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-07T14:54:18.657

You can get the number of checked items in your list with the code:

```
private int getChecked()
{
    SparseBooleanArray checked = yourList.getCheckedItemPositions();

    return checked.size();
} 
```

**Edit:** To check that every item is checked:

```
private boolean isEveryChecked()
{
     SparseBooleanArray checked = yourList.getCheckedItemPositions();

     return checked.size()==yourList.getCount();
} 
```

`yourList` is a `ListView`.

# java - 在 SQLite 中运行随机查询时出错

> ID：14198246
> 
> 赞同：1
> 
> 时间：2013-01-07T14:48:56.130
> 
> 标签：java, android, sqlite, runtime

我正在尝试运行查询以从 SQLite 中的表中选择一个随机单词，但是当我尝试运行应用程序时出现此错误？

随机词法

```
public String randWord() {
    SQLiteDatabase db  = this.getWritableDatabase();
    Cursor cur = db.rawQuery("SELECT * FROM TABLE_WORDS ORDER BY RANDOM() LIMIT 1",
    new String[] { "*" }, null);

        String word = cur.getString(cur.getColumnIndex(KEY_WORD));
        return word;         
} 
```

尝试运行应用程序时收到此错误消息

```
01-07 14:46:24.448: E/AndroidRuntime(21664): FATAL EXCEPTION: main
01-07 14:46:24.448: E/AndroidRuntime(21664): java.lang.NoSuchMethodError:
android.database.sqlite.SQLiteDatabase.rawQuery 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-07T14:56:12.840

尝试更换

```
Cursor cur = db.rawQuery("SELECT * FROM TABLE_WORDS ORDER BY RANDOM() LIMIT 1",
  new String[] { "*" }, null); 
```

和

```
Cursor cur = db.rawQuery("SELECT * FROM TABLE_WORDS ORDER BY RANDOM() LIMIT 1", null); 
```

因为你没有任何主机变量

# jquery - 如何对等于零的东西进行jquery验证，但在它为空/为空时不做

> ID：14198249
> 
> 赞同：1
> 
> 时间：2013-01-07T14:49:17.640
> 
> 标签：jquery, validation, null, numbers, zero

所以我想验证我拥有的文本框，用户可以将此框留空，这很好。但是，如果他们在其中输入数字 0，我希望出现一条错误消息。但是，如果它说它为空，它也会在它为空时验证为错误。
我所做的是否等于引号中的“0”，但是如果他们输入了多个 0，它会接受它。那么我能做些什么来验证它是否为 0，但不是 null。
我尝试了负载，这是我最近的尝试，但没有任何效果

```
 if (this.value == 0 && this.value != null){
    } 
```

谢谢

“ **Rhumborl** ”所说的效果很好:)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-07T14:55:37.440

你可以这样：

```
if (parseInt(this.value, 10) === 0) {
} 
```

如果是`null`或空字符串，它将返回`NaN`.

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-07T15:02:14.057

```
if (parseFloat(this.value) === 0) {
} 
```

应该适用于小数。你也不应该需要 parseInt 。

# jquery - Jquery 功能在第二次单击时不起作用

> ID：14198251
> 
> 赞同：-1
> 
> 时间：2013-01-07T14:49:20.997
> 
> 标签：jquery

> **可能重复：**
> [一个 Jquery 在第二次单击时不起作用](https://stackoverflow.com/questions/14197404/one-jquery-is-not-working-on-the-second-click)

这是代码

```
jQuery(document).ready(function(){
    jQuery('.post_box').one('click', function(e) { 
        jQuery(this).find(".read_more").trigger("click");
    });

}); 
```

当我点击 div (post_box) 时，它会触发一个链接 (pop up graybox)，它位于 (post_box) 的子 div 中，它有类 (read_more)，现在它工作得很好，但是当我关闭链接时出现问题 (greybox)，并在 div (post_box) 上再次单击它不起作用，我必须刷新页面才能单击它。

如果我把 on() 函数改为，在第一次点击时它会触发链接并被阻止，我认为它触发的链接不止一个，因为子 div 这是 html 代码

```
<div class="post_box" >
    <div class="post_box_top">
        <div class="post_box_center">
            <div class="post_box_content">

                <div class="post_date">

                </div>
                <div class="post_content">

              <?php   echo   $content_post = get_post(get_the_ID());?>

                </div>
                <div class="post_footer">
                    <a href="<?php the_permalink();?>" title="<?php the_title(); ?>" class="read_more"  rel="gb_pageset[search_sites]"  data-greybox-type="iframe">Read more</a>
               // this the link i should trigger when someone click on the <div class="post_box">   
               </div>
            </div>
        </div>
    </div>
</div> 
```

请看一下

ec2-107-22-235-75.compute-1.amazonaws.com 请看这里，这个带有功能 one() 的站点，以防我在单击 div 时更改为 on()，它会阻止 haiders.imcserver。 ro/telugu 你可以在这里用 on() 看看第二种情况

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-07T14:50:34.177

你会想要使用[`.on`](http://api.jquery.com/on)not [`.one`](http://api.jquery.com/one)。`on`绑定事件，`one`绑定每个元素执行一次的事件。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-07T14:54:48.470

或者你可以使用点击功能：

```
$(function(){
    $('.post_box').click(function(e) { 
        $(".read_more").trigger("click");
    });
}); 
```

# php - 使用php从mysql数据库下载pdf文件

> ID：14198253
> 
> 赞同：-2
> 
> 时间：2013-01-07T14:49:32.237
> 
> 标签：php, mysql, pdf, download

这是我使用的代码...文件将成功下载，但不会打开。并显示错误“adobe reader 无法打开文件，因为它不是受支持的文件类型或文件已损坏”..

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-07T14:55:43.073

为什么不将 PDF 存储在站点根目录或某处并从那里下载，因为 IMO 将 PDF 提供给 MySQL 并不是一个好主意。

更新：

这是一个非常简单的代码，我在示例中使用了 mysql_query 和 mysql_fetch_array，但是您应该使用自己的方法来处理数据库。

```
 <?php 
    /*
    First you need a basic database with this info. 
    Example database: 
    Table name: pdfs
    id | name | location 
    ---------------------
    1  | test | /site/pdf/mypdf.pdf

     */

    $query = "SELECT * FROM pdfs WHERE name = 'test'";

    //Use your favorite mysql function for example I will use mysql_query() but this is deprecated. 
    $result = mysql_query($query);

    //This is also deprecated do not use this
    $array = mysql_fetch_array($result);

    echo "<a href='http://site.com/".$array['location']."'>Download</a>";
    ?> 
```

# css - 在 SharePoint 2010 中围绕 DataFormWebPart 包装容器 ID

> ID：14198256
> 
> 赞同：1
> 
> 时间：2013-01-07T14:49:47.783
> 
> 标签：css, sharepoint-2010, jquery-isotope, dataformwebpart

我正在开发 SharePoint 2010，并且正在使用 DataForm.Webpart 创建自定义显示。我正在尝试实现 Isotope jquery 插件，并且到目前为止一切正常。

但更多我的问题是，如何设置 div/css ID 来环绕 webpart？我尝试放置容器的任何地方都会破坏 webpart。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-08T08:25:16.360

我设法通过处理**整个 Web 部件源代码**（在 SharePoint Designer 中）解决了这个问题，并且在启用**高级编辑**的情况下，我将代码粘贴到页面末尾之前。然而，这导致 Web 部件无法从 Web 浏览器编辑，因为代码已添加到页面的受保护/安全区域。

```
 ....
  </table>
    <div id="container">
      <WebPartPages:DataFormWebPart ...... >
      ....
      </WebPartPages:DataFormWebPart>
    </div>
</asp:Content> 
```

# c# - ajax jquery .net 导致“找不到资源”。

> ID：14198262
> 
> 赞同：2
> 
> 时间：2013-01-07T14:50:18.467
> 
> 标签：c#, jquery, .net, ajax

我正在尝试在 .net 中进行简单的 ajax 调用

有什么建议吗？

```
[WebMethod]
public string HelloWorld()
{
    return "Hello World";
} 
```

我在浏览器中这样调用 webmethod： [http ://localhost.com/Ajax/WebService1.asmx/HelloWorld](http://localhost.com/Ajax/WebService1.asmx/HelloWorld)

这导致

> “没有找到您要查的资源。”

可能是因为 url 语法。

我的路线设置如下：

```
routes.IgnoreRoute("Ajax/");
        routes.MapRoute(
            name: "Default",
            url: "{controller}/{action}/{id}",
            defaults: new { controller = "Home", action = "Index", id = UrlParameter.Optional }
        ); 
```

如果我删除`MapRoute`，网络电话可以工作，但我网站的其余部分会失败。

有什么建议吗？

更新：我改为使用控制器。当我在浏览器中使用 url 调用它时，我在控制器中点击了断点。但不是当我运行这段代码时：

```
 <div id="Result">
        Kig her!
    </div>

@section javascript {
    $(function () {
        $("#FirstReminder").datepicker();
        $("#EndDate").datepicker();
    });

$(document).ready(function() {
  // Add the page method call as an onclick handler for the div.
  $("#Result").click(function() {
    alert('kkk');
    $.ajax({
      type: "POST",
      url: "AjaxWorkflow/GetSteps",
      data: {workflowId: "1", workflowStep: "test"},
      contentType: "application/json; charset=utf-8",
      dataType: "json",
      success: function(msg) {
        // Replace the div's content with the page method's return.
        $("#Result").text(msg.d);
      }
    });
  });
}); 
```

更新 2：我通过将行更改为

```
 data: "{workflowId: '1', workflowStep: 'test'}", 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-07T14:54:46.040

因为您使用的是路由，所以我假设这是一个 MVC 网站？如果是这样，您应该`ActionResult`在控制器中使用 a 而不是`WebMethod`. 试试这个：

```
public string HelloWorld()
{
    return Content("Hello World");
} 
```

然后，您将在以下 URL 上使用 jQuery 调用它： `http://localhost.com/[Controller]/HelloWorld`

请注意，在此处的示例中，我将返回一个字符串 - 根据您的原始示例。也可以通过 JSON 返回一个对象，使用`return Json(obj);`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-07T14:53:57.377

WebMethods 属于，`ASP.NET WebForms`而路由属于`ASP.NET MVC`. 你最好不要混合这两种技术。

在这种情况下，如果删除路由后一切都停止工作，那么大多数应用程序似乎都是 ASP.NET MVC。这意味着您想将 替换`WebMethod`为`Controller Action`。

# mysql - 是否有可能拥有一个始终等于另一个的 MYSQL 字段？

> ID：14198268
> 
> 赞同：1
> 
> 时间：2013-01-07T14:50:37.283
> 
> 标签：mysql, sql

我正在使用一些为另一个地方编写的代码，我想这是我的问题的开始。

在我理想情况下不可更改的现有代码中，我有一个类似的查询：

```
SELECT username FROM users 
```

但是，在新数据库中，没有用户名字段，但有一个电子邮件地址。

我想以某种方式更改新数据库，以便在我询问用户名时收到电子邮件。

我知道我可以创建一个新字段并在电子邮件更新时手动填充它，但我真的很想要某种别名，以便两个代码库都可以在不修改的情况下工作。

这可能吗？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-01-07T14:52:46.037

您可以创建一个视图：

```
CREATE VIEW v_users AS
SELECT email AS username
FROM users 
```

由于这只是一个表，您甚至可以将其用于更新和插入以及查询（如果您使用的是相对较新版本的 MySQL）

您甚至可以在单独的数据库中创建所有视图 - 这样它们就可以与原始表具有相同的名称：

```
CREATE VIEW db2.users AS
SELECT email AS username
FROM db1.users 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-01-07T14:53:42.407

您可以添加该`username`字段并通​​过触发器使其与电子邮件地址保持一致，或者您可以使用`users`表格视图。

触发器：[http ://dev.mysql.com/doc/refman/5.5/en/create-trigger.html](http://dev.mysql.com/doc/refman/5.5/en/create-trigger.html)

查看：[http ://dev.mysql.com/doc/refman/5.5/en/create-view.html](http://dev.mysql.com/doc/refman/5.5/en/create-view.html)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-07T14:53:13.943

不幸的是，MySQL 不支持计算列。我在谷歌搜索这个问题时发现了一些解决方法，但你最好只复制这些值，或者使用自动更新它的触发器。

# asp.net-mvc-3 - 使用 MVC 3 验证器，文本框 1 和文本框 2 之和不能大于 100

> ID：14198275
> 
> 赞同：0
> 
> 时间：2013-01-07T14:50:57.970
> 
> 标签：asp.net-mvc-3, validation

我只知道简单的 MVC 验证属性。如果两个 texbox 字段的总和不能大于 100，我该如何进行验证。我相信这可能是一个简单的解决方案。我尝试在我的控制器中编写一些代码，但这变得很乱。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-07T15:02:50.453

您可以使用客户端 (javascript) 事件进行验证。

例如：

**使用 jQuery：**

```
$(function(){   
  $("#buttonID").on("click", function(event){
  if(parseInt($("#txtBox1").val()) + parseInt($("#txtBox2").val()) > 100)
  {
   event.preventDefault();
   alert("Value should be less than 100.");
  }
  });
}); 
```

# zend-framework - Zend 验证码图像和颜色

> ID：14198276
> 
> 赞同：0
> 
> 时间：2013-01-07T14:51:00.853
> 
> 标签：zend-framework

我想知道如何使用 zend_captcha_image 自定义验证码图像的颜色。

我可以让它工作的一个是这样的

```
$this->captcha = new Zend_Captcha_Image();
$this->captcha->setWordLen('4')
               ->setHeight('60')
               ->setFont("font.ttf"); 
```

它带有黑色文本和白色背景，如果我想在验证码图像中使用不同颜色的字体怎么办。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-07T16:36:55.537

颜色似乎被硬编码到类的`_generateImage()`方法中`Zend_Captcha_Image`，因此不能轻易更改。您需要扩展此类并覆盖该方法以使用您自己的颜色。特别是这两行：

```
 $text_color = imagecolorallocate($img, 0, 0, 0);
    $bg_color   = imagecolorallocate($img, 255, 255, 255); 
```

# objective-c - 在 iOS5 和 iOS6 中，模式底部的 UIDatePicker

> ID：14198278
> 
> 赞同：0
> 
> 时间：2013-01-07T14:51:05.860
> 
> 标签：objective-c, ios5, ios6, uidatepicker

在我的应用程序中，我向我的用户展示了一个底部带有 UIDatePicker 的模式，以便他们可以选择一个日期。我的模态必须在纵向和横向工作。此外，我的 DAtePicker 横向必须比纵向小，否则它几乎占据整个屏幕。当屏幕旋转时，我正在使用以下代码。

```
 if (UIInterfaceOrientationIsPortrait(toInterfaceOrientation)) {
    datePicker.frame = CGRectMake(datePicker.frame.origin.x, myView.frame.size.width - 216.0, datePicker.frame.size.width, 216);
}
else {
    datePicker.frame = CGRectMake(datePicker.frame.origin.x, myView.frame.size.height - 160.0, datePicker.frame.size.width, 160);
} 
```

它在 iOS6 上运行良好：DatePicker 始终是我想要的位置。但在 iOS5 中，相同的 DatePicker 在纵向模式下位于屏幕中间，而在横向模式下位于屏幕外。

您知道适用于 iOS 5 和 iOS 6 的解决方案吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-07T15:17:50.487

iOS 6 中的自动旋转机制发生了变化。从[iOS 6.0 发行说明](http://developer.apple.com/library/ios/#releasenotes/General/RN-iOSSDK-6_0/_index.html)：

> willRotateToInterfaceOrientation:duration:、willAnimateRotationToInterfaceOrientation:duration: 和 didRotateFromInterfaceOrientation: 方法不再在任何对其自身进行全屏呈现的视图控制器上调用——例如，presentViewController:animated:completion:。您应该确保您的应用程序没有使用这些方法来管理任何子视图的布局。相反，他们应该使用视图控制器的 viewWillLayoutSubviews 方法并使用视图的边界矩形调整布局。

我认为您应该实现 iOS 5 特定的方法以使其工作。

# android - 屏幕锁定时自动运行应用程序

> ID：14198282
> 
> 赞同：0
> 
> 时间：2013-01-07T14:51:18.327
> 
> 标签：android, screen

我想让我的应用程序在屏幕关闭之前自动运行（应用程序在屏幕仍然关闭时运行），这可能吗？我尝试了这段代码，但没有奏效：

```
 KeyguardManager   mKeyGuardManager = (KeyguardManager)  getSystemService(KEYGUARD_SERVICE);
  KeyguardLock   mLock = mKeyGuardManager.newKeyguardLock("AndroidSQLite");
  mLock.disableKeyguard(); 
```

在 AndroidManifest 我放：

```
<uses-permission android:name="android.permission.DISABLE_KEYGUARD"/> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-07T17:29:42.140

我认为没有办法在屏幕开/关之前获得通知。

但以下是屏幕关闭/打开的意图发送： Intent.ACTION_SCREEN_ON Intent.ACTION_SCREEN_OFF

# xcode - 动画 UIImageView

> ID：14198283
> 
> 赞同：0
> 
> 时间：2013-01-07T14:51:19.247
> 
> 标签：xcode, animation, nstimer

我有一个uiimageview，我想在时钟动画运行时移动它。问题是当我按下按钮移动时，动画播放图像，播放图像结束后，图像开始移动10px。它不应该是这样的，动画和动作应该一起开始和结束。

```
-(IBAction) MoveRightButton : (id) sender {

 [self animateRight];
[self rightTimer];

}

-(IBAction) stopRight {

[image stopAnimating];
[rightTimer invalidate];

}

-(void) animateRight {

NSArray * moveRight = [[NSArray alloc] initWithObjects :
[uiimage imageNamed : @"Clock1.png"] , .... , nil];

UIImage *defaultImage = [UIImage imageNamed : @"Clock1.png"];
[image setImage : defaultFace];
image.animationImages = moveRight;

image.animationDuration = 0.5;
image.animationRepeatCount = 1;
[image startAnimating];
}

-(void) goRight {
[UIView animateWithDuration : 0.5 animation : ^{
image.frame = CGRectMake (image.frame.origin.x + 10, image.frame.origin.y,image.frame.size.width, image.frame.size.height);
}];
[self stopRight];
}

-(void) rightTimer {
rightTimer = [NSTimer scheduledTimerWithTimeInterval : 0.5 
target : self  
selector : @selector(goRight) 
userInfo : nil  
repeats : YES];

if (rightTimer == nil) {
rightTimer = [NSTimer scheduledTimerWithTimeInterval : 0.5 
target : self  
selector : @selector(goRight) 
userInfo : nil  
repeats : YES];
 }
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-07T15:06:04.543

嗨，您犯了一个简单的错误，请在单击按钮时依次在同一动画中执行动画任务和右行任务...如果希望它同时发生，请使用一个动画块，两个动画将在不同时间进行动画处理。

```
#define StartAnimation(duration)                  [UIView beginAnimations:nil context:NULL];[UIView setAnimationDuration:duration];[UIView setAnimationRepeatAutoreverses:NO];[UIView setAnimationRepeatCount:0]

#define StopAnimation                   [UIView commitAnimations] 
```

定义这些宏并在开始和停止动画之间执行任务

# linux - 当进程未以用户身份启动时，Qt DBUS 信号延迟

> ID：14198284
> 
> 赞同：1
> 
> 时间：2013-01-07T14:51:19.423
> 
> 标签：linux, qt, signals, dbus, delay

我有一个奇怪的问题，试图在任何用户登录之前让一个小程序在启动时运行。

我使用了不同的方法在启动时运行程序，但没有任何帮助！无论如何，我有一个小型 Qt 程序，它通过 DBUS（系统总线）与不同的程序通信。目前该程序以暴发户启动并在系统总线上注册服务等。我还可以使用“qdbus --system”调用程序的不同方法，这些方法会立即返回正确的返回值。我已将 Qt 程序设置为每秒发送一个 DBUS 信号。当使用 dbus-monitor 进行监控时，我只看到每 2-5 秒传递一个信号，但是当我终止程序并以用户（root）身份登录时，程序发送它的信号就好了（每秒）。

这怎么可能？我希望发送信号的程序在计算机启动时运行，并让另一个用户应用程序连接到信号以在收到信号时采取行动。

我尝试使用 init.d 方式和正常的 rc.local 方式将程序作为新贵工作运行，但结果都相同。

我必须让用户登录才能使用吗？

谢谢，

西斯科

# php - 将 MySQL 查询的结果转换为字符串

> ID：14198289
> 
> 赞同：0
> 
> 时间：2013-01-07T14:51:35.913
> 
> 标签：php, mysql

我的查询是：

```
$orderitemsattributes_query = "SELECT products_options_values
FROM orders_products_attributes oa
WHERE oa.orders_id
IN (
SELECT DISTINCT o.orders_id
FROM orders o
WHERE o.exported =  '0'
AND o.orders_id >  '0')";
$orderitemsattributes_result = mysql_query($orderitemsattributes_query);
while($row = mysql_fetch_array($orderitemsattributes_result)) {

echo $row['products_options_values'];
} 
```

给了我以下内容：

```
 6 period day (TP6)NavyGold (j)Gold Lamé (17)LJD1 at back (free) 
```

我希望能够将其转换为单个字符串以插入到数据库的另一个字段中。

我试过：

```
$tradebox_attributes_list = implode (',', $row);` 
```

但我要么一无所获，要么得到存储在 $tradebox_attributes_list 中的不完整结果，具体取决于我放置内爆的位置。

我需要能够在代码中进一步读取这个变量，在结束 } 之后。

表结构为：

```
CREATE TABLE IF NOT EXISTS `orders_products_attributes` (
  `orders_products_attributes_id` int(11) NOT NULL AUTO_INCREMENT,
  `orders_id` int(11) NOT NULL DEFAULT '0',
  `orders_products_id` int(11) NOT NULL DEFAULT '0',
  `products_options` varchar(32) NOT NULL DEFAULT '',
  `products_options_values` text NOT NULL,
  `options_values_price` decimal(15,4) NOT NULL DEFAULT '0.0000',
  `price_prefix` char(1) NOT NULL DEFAULT '',
  `product_attribute_is_free` tinyint(1) NOT NULL DEFAULT '0',
  `products_attributes_weight` float NOT NULL DEFAULT '0',
  `products_attributes_weight_prefix` char(1) NOT NULL DEFAULT '',
  `attributes_discounted` tinyint(1) NOT NULL DEFAULT '1',
  `attributes_price_base_included` tinyint(1) NOT NULL DEFAULT '1',
  `attributes_price_onetime` decimal(15,4) NOT NULL DEFAULT '0.0000',
  `attributes_price_factor` decimal(15,4) NOT NULL DEFAULT '0.0000',
  `attributes_price_factor_offset` decimal(15,4) NOT NULL DEFAULT '0.0000',
  `attributes_price_factor_onetime` decimal(15,4) NOT NULL DEFAULT '0.0000',
  `attributes_price_factor_onetime_offset` decimal(15,4) NOT NULL DEFAULT '0.0000',
  `attributes_qty_prices` text,
  `attributes_qty_prices_onetime` text,
  `attributes_price_words` decimal(15,4) NOT NULL DEFAULT '0.0000',
  `attributes_price_words_free` int(4) NOT NULL DEFAULT '0',
  `attributes_price_letters` decimal(15,4) NOT NULL DEFAULT '0.0000',
  `attributes_price_letters_free` int(4) NOT NULL DEFAULT '0',
  `products_options_id` int(11) NOT NULL DEFAULT '0',
  `products_options_values_id` int(11) NOT NULL DEFAULT '0',
  `products_prid` tinytext NOT NULL,
  `tradebox_attributes_list` text NOT NULL,
  PRIMARY KEY (`orders_products_attributes_id`),
  KEY `idx_orders_id_prod_id_zen` (`orders_id`,`orders_products_id`)
) ENGINE=MyISAM  DEFAULT CHARSET=latin1 AUTO_INCREMENT=77065 ;

Sample of one entry is:

(76569, 22959, 34813, 'Lesson format', '6 period day (TP6)', 0.0000, '+', 1, 0, '+', 1, 1, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, '', '', 0.0000, 0, 0.0000, 0, 5, 55, '30:499bc45895cd0baaef055a57cb36df5d', ''),
(76570, 22959, 34813, 'Cover', 'Navy', 0.0000, '+', 1, 0, '+', 1, 1, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, '', '', 0.0000, 0, 0.0000, 0, 1, 2, '30:499bc45895cd0baaef055a57cb36df5d', '1 at back (free)'),
(76571, 22959, 34813, 'Wire', 'Gold (j)', 0.0000, '', 1, 0, '', 1, 1, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, '', '', 0.0000, 0, 0.0000, 0, 4, 49, '30:499bc45895cd0baaef055a57cb36df5d', ''),
(76572, 22959, 34813, 'Ribbon', 'Gold Lamé (17)', 0.0000, '+', 1, 0, '+', 1, 1, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, '', '', 0.0000, 0, 0.0000, 0, 3, 29, '30:499bc45895cd0baaef055a57cb36df5d', ''),
(76573, 22959, 34813, 'Initials (Max 4)', 'LJD', 3.3000, '+', 1, 0, '+', 1, 1, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, '', '', 0.0000, 0, 0.0000, 0, 2, 0, '30:499bc45895cd0baaef055a57cb36df5d', ''),
(76574, 22959, 34813, 'Plastic pockets', '1 at back (free)', 0.0000, '+', 1, 0, '+', 1, 1, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, '', '', 0.0000, 0, 0.0000, 0, 6, 84, '30:499bc45895cd0baaef055a57cb36df5d', ''), 
```

我需要能够获取存储在 products_options_values 字段中的所有结果（注意，这个订单只有六个）并将它们作为逗号分隔的列表存储在 tradebox_attributes_list 字段中。

根据刚刚更改的要求进行编辑：

我现在要扔扳手了。group_concat() 将起作用，但我刚刚被要求在单独的行上显示其中一个属性。例如，我们想要以下内容：6 Period Day, Navy, 1 at back (free) *NEW LINE* LJD £3.30

现在不是那么简单，因为我需要选择特定的 products_options_values，然后在单独的行上，选择不同的选项，它与 options_values_price 字段中的相关价格。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-07T14:53:15.440

您可以使用 a`group_concat()`来获取值 group by `order id`。希望我们能看到桌子虽然..

```
SELECT group_concat(products_options_values)
FROM orders_products_attributes oa
WHERE oa.orders_id
IN (
SELECT DISTINCT o.orders_id
FROM orders o
WHERE o.exported =  '0'
AND o.orders_id >  '0')
group by oa.orders_id; 
```

# search-engine - 开放式搜索服务器中的精确短语匹配

> ID：14198290
> 
> 赞同：1
> 
> 时间：2013-01-07T14:51:36.297
> 
> 标签：search-engine, opensearch

我需要在开放式搜索服务器中匹配一个确切的短语。

这意味着“工商管理硕士”不应与关键字“业务”或“硕士”或“管理”或“的”匹配。

我只需要完全匹配的结果。

是否可以使用开放式搜索服务器。？？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-08T07:09:34.960

OpenSearchServer 使用 Lucene 作为后端。它支持相同的语法。双引号应用邻近查询。这意味着它寻找接近的词。您还可以使用以下语法在单词之间添加距离容差（短语 slop）：

```
"master business administration"~2 
```

这样就可以找到“工商管理硕士”。默认短语 slop 为 10。

关于精确拼写，这取决于您应用搜索的字段。在标准 OpenSearchServer 模板上，您有两个字段：content 和 contentExact。“content” 存储单词的“lemmmatized + 小写”版本：“mast of busing administr”

这意味着您可以找到：“掌握业务管理”。“contentExact”存储单词的小写版本，保留原始拼写。

要强制使用一个字段，请使用分号语法：

```
contentExact:"master of business administration" 
```

您还可以混合使用这两个参数：

```
contentExact:"master of business administration"~2 
```

您可以使用 Web 界面更改 OpenSearchServer 的默认查询以及应用于字段的语义过滤器。

我希望这会有所帮助。

# php - PHP电子邮件不起作用

> ID：14198294
> 
> 赞同：0
> 
> 时间：2013-01-07T14:51:45.093
> 
> 标签：php

我已经在这工作了几个小时，我无法确定为什么我的 PHP 电子邮件表单不起作用。我已经为每个表单字段设置了 if-then 检查，因为此时所有字段都是可选的。我已经检查了我能想到的一切。

```
<?php
if(isset($_POST['email'])) {

    // EDIT THE 2 LINES BELOW AS REQUIRED
    $email_to = "jim.ulle@mt.com";
    $email_subject = "IND Form";

    if(!isset($_POST['submit_name'])){$submit_name = " ";}
    else{$submit_name = $_POST['submit_name'];}

    if(!isset($_POST['companyName'])){$companyName = " ";}
    else{$companyName = $_POST['companyName'];}

    if(!isset($_POST['companyLocation'])){$companyLocation = " ";}
    else{$companyLocation = $_POST['companyLocation'];}

    if(!isset($_POST['companyCity'])){$companyCity = " ";}
    else{$companyCity = $_POST['companyCity'];}

    if(!isset($_POST['companyState'])){$companyState = " ";}
    else{$companyState = $_POST['companyState'];}

    if(!isset($_POST['timeframe'])){$timeframe = " ";}
    else{$timeframe = $_POST['timeframe'];}

    if(!isset($_POST['BenchCountingScales'])){$benchCountingScales = " ";}
    else{$benchCountingScales = $_POST['BenchCountingScales'];}

    if(!isset($_POST['FloorScales'])){$floorScales = " ";}
    else{$floorScales = $_POST['FloorScales'];}

    if(!isset($_POST['WeighModulesLoadCells'])){$weighModulesLoadCells = " ";}
    else{$weighModulesLoadCells = $_POST['WeighModulesLoadCells'];}

    if(!isset($_POST['TruckRailScales'])){$truckRailScales = " ";}
    else{$truckRailScales = $_POST['TruckRailScales'];}

    if(!isset($_POST['SQCFormulationSoftwareSolutions'])){$SQCFormulationSoftwareSolutions = " ";}
    else{$SQCFormulationSoftwareSolutions = $_POST['SQCFormulationSoftwareSolutions'];}

    if(!isset($_POST['Other'])){$other = " ";}
    else{$other = $_POST['Other'];}

    if(!isset($_POST['PreventativeMaintenanceAgreement'])){$preventativeMaintenanceAgreement = " ";}
    else{$preventativeMaintenanceAgreement = $_POST['PreventativeMaintenanceAgreement'];}

    if(!isset($_POST['GWPVerification'])){$GWPVerification = " ";}
    else{$GWPVerification = $_POST['GWPVerification'];}

    if(!isset($_POST['Other2'])){$other2 = " ";}
    else{$other2 = $_POST['Other2'];}

    if(!isset($_POST['CustomerApplication'])){$customerApplication = " ";}
    else{$customerApplication = $_POST['CustomerApplication'];}

    if(!isset($_POST['Salutation'])){$salutation = " ";}
    else{$salutation = $_POST['Salutation'];}

    if(!isset($_POST['CustomerFirstName'])){$customerFirstName = " ";}
    else{$customerFirstName = $_POST['CustomerFirstName'];}

    if(!isset($_POST['CustomerLastName'])){$customerLastName = " ";}
    else{$customerLastName = $_POST['CustomerLastName'];}

    if(!isset($_POST['CustomerAcademicTitle'])){$customerAcademicTitle = " ";}
    else{$customerAcademicTitle = $_POST['CustomerAcademicTitle'];}

    if(!isset($_POST['CustomerEmail'])){$customerEmail = " ";}
    else{$customerEmail = $_POST['CustomerEmail'];}

    if(!isset($_POST['CustomerPhone'])){$customerPhone = " ";}
    else{$customerPhone = $_POST['CustomerPhone'];}

    if(!isset($_POST['CustomerFax'])){$customerFax = " ";}
    else{$customerFax = $_POST['CustomerFax'];}

    if(!isset($_POST['CustomerCompanyName'])){$customerCompanyName = " ";}
    else{$customerCompanyName = $_POST['CustomerCompanyName'];}

    if(!isset($_POST['CustomerDepartment'])){$customerDepartment = " ";}
    else{$customerDepartment = $_POST['CustomerDepartment'];}

    if(!isset($_POST['CustomerJobTitle'])){$customerJobTitle = " ";}
    else{$customerJobTitle = $_POST['CustomerJobTitle'];}

    if(!isset($_POST['CustomerStreet'])){$customerStreet = " ";}
    else{$customerStreet = $_POST['CustomerStreet'];}

    if(!isset($_POST['CustomerCountry'])){$customerCountry = " ";}
    else{$customerCountry = $_POST['CustomerCountry'];}

    if(!isset($_POST['CustomerCity'])){$customerCity = " ";}
    else{$customerCity = $_POST['CustomerCity'];}

    if(!isset($_POST['CustomerState'])){$customerState = " ";}
    else{$customerState = $_POST['CustomerState'];}

    if(!isset($_POST['CustomerPostalCode'])){$customerPostalCode = " ";}
    else{$customerPostalCode = $_POST['CustomerPostalCode'];}

    if(!isset($_POST['BusinessType'])){$businessType = " ";}
    else{$businessType = $_POST['BusinessType'];}

    if(!isset($_POST['industryType'])){$industryType = " ";}
    else{$industryType = $_POST['industryType'];}

    if(!isset($_POST['Employees'])){$semployees = " ";}
    else{$employees = $_POST['Employees'];}

    $email_message = "Form details below.\n\n";

    $email_message .= "Lead Submitted By: $submit_name\n";
    $email_message .= "Company Name: $companyName\n";
    $email_message .= "Location: $companyLocation\n";
    $email_message .= "City: $companyCity\n";
    $email_message .= "State: $companyState\n\n";

    $email_message .= "Purchase Timeframe: $timeframe\n\n";

    $email_message .= "Product Interest:\nBench Counting Scales: $benchCountingScales\n";
    $email_message .= "Floor Scales: $floorScales\n";
    $email_message .= "Weigh Modules Load Cells: $weighModulesLoadCells\n";
    $email_message .= "Truck Rail Scales: $truckRailScales\n";
    $email_message .= "SQC Formulation Software Solutions: $SQCFormulationSoftwareSolutions\n";
    $email_message .= "Other: $other\n";
    $email_message .= "Service Interest:\nPreventative Maintenance Agreement: $preventativeMaintenanceAgreement\n";
    $email_message .= "GWP Verification: $GWPVerification\n";
    $email_message .= "Other: $other2\n\n";

    $email_message .= "Customer Information:\nCustomer Application: $customerApplication\n";
    $email_message .= "Salutation: $salutation\n";
    $email_message .= "First Name: $customerFirstName\n";
    $email_message .= "Last Name: $customerLastName\n";
    $email_message .= "Academic Title: $customerAcademicTitle\n";
    $email_message .= "Email: $customerEmail\n";
    $email_message .= "Phone: $customerPhone\n";
    $email_message .= "Fax: $customerFax\n";
    $email_message .= "Company: $customerCompanyName\n";
    $email_message .= "Department: $customerDepartment\n";
    $email_message .= "Job Title: $customerJobTitle\n";
    $email_message .= "Address:\nStreet: $customerStreet\n";
    $email_message .= "Country: $customerCountry\n";
    $email_message .= "City: $customerCity\n";
    $email_message .= "State: $customerState\n";
    $email_message .= "Postal Code: $customerPostalCode\n\n";

    $email_message .= "Type of Business: $businessType\n";
    $email_message .= "Industry: $industryType\n";
    $email_message .= "Number of Employees: $employees\n\n";

// create email headers
$headers = 'From: '.$email_to."\r\n".
'Reply-To: '.$email_to."\r\n" .
'X-Mailer: PHP/' . phpversion();
@mail($email_to, $email_subject, $email_message, $headers);  
?>

<!-- include your own success html here -->

Thank you for submitting.

<?php
}
?> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-07T14:53:24.943

`@mail($email_to, $email_subject, $email_message, $headers);`

Should be:

`mail($email_to, $email_subject, $email_message, $headers);`

Remove the `@` and see if there are any errors.

Also keep in mind that the `mail()` function does not have support for SMTP. You may have to check your settings. Could be another issue.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-07T15:18:19.720

我想通了这个问题...

第 2 行：

```
if(isset($_POST['email'])) { 
```

包含对“电子邮件”的引用，这是一个不再存在于表单中的字段。

谢谢大家的帮助，至少我学到了一些东西（@ 符号在 PHP 中的作用）。

# html - 悬停在 在菜单项上导致扩展 1px

> ID：14198298
> 
> 赞同：0
> 
> 时间：2013-01-07T14:52:00.150
> 
> 标签：html, css, menu

我正在创建一个我试图基于此菜单的菜单：

[http://www.yootheme.com/widgetkit](http://www.yootheme.com/widgetkit)

但是我遇到了一个小问题，如果您将鼠标悬停在菜单项的中间，它可以正常工作，但是如果您将鼠标悬停在它的边缘（边界线所在的位置），它会移动自身和其他菜单项它的前面向右 1px。

我一直在搞乱代码很长一段时间，似乎无法弄清楚。

**HTML：**

```
<div class="nav">
    <ul>
        <li><a href="index.html">Home</a></li>
        <li class="active"><a href="index.html">Structure</a></li>
        <li><a href="index.html">Buttons</a></li>
        <li><a href="index.html">Forms</a></li>
        <li><a href="index.html">Download</a></li>
    </ul>
</div> 
```

**CSS：**

```
.nav {
    max-width: 100%;
}
.nav ul {
    max-width: 100%;
    margin: 0 auto;
    background: #FFFFFF;
    background: -webkit-linear-gradient(top, #FFFFFF 1%, #F5F6F6 100%);
    background: -moz-linear-gradient(top, #FFFFFF 1%, #F5F6F6 100%);
    background: -ms-linear-gradient(top, #FFFFFF 1%, #F5F6F6 100%);
    background: -o-linear-gradient(top, #FFFFFF 1%, #F5F6F6 100%);
    background: linear-gradient(top, #FFFFFF 1%, #F5F6F6 100%); 
    background-attachment: scroll;
    background-clip: border-box;
    background-origin: padding-box;
    background-position: 0 0;
    background-repeat: repeat-x;
    background-size: 100% 100%;
    border: 1px solid #c8c9ca;
    border-radius: 6px 6px 6px 6px;
    height: 40px;
}
.nav ul li {
    margin-top: -1px;
    padding-top: 1px;
    float: left;
    height: 39px;
    list-style: none outside none;
}
.nav ul li:first-child {
    border-left: none;
}
.nav ul li.active{
    border-left: 1px solid #DCDDDE;
    border-right: 1px solid #DCDDDE;
    padding-top: 1px;
    float: left;
    list-style: none outside none;
    background: -webkit-linear-gradient(center top , #F7F8F9 0%, #FBFCFD 15%, #FEFEFE 100%);
    background: -moz-linear-gradient(center top , #F7F8F9 0%, #FBFCFD 15%, #FEFEFE 100%);
    background: -ms-linear-gradient(center top , #F7F8F9 0%, #FBFCFD 15%, #FEFEFE 100%);
    background: -o-linear-gradient(center top , #F7F8F9 0%, #FBFCFD 15%, #FEFEFE 100%);
    background: linear-gradient(center top , #F7F8F9 0%, #FBFCFD 15%, #FEFEFE 100%);
    border-left: 1px solid #DCDDDE;
    border-top: 1px solid #D2D3D4;
    box-shadow: 0 1px 2px rgba(0, 0, 0, 0.05) inset;
    color: #000000;
}
.nav ul li.active:hover{
    padding-left: 1px;
    padding-right: 1px;
}
.nav ul li:hover{
    border-right: 1px solid #DCDDDE;
    border-left: 1px solid #DCDDDE;
    border-top: 1px solid #D2D3D4;
    box-shadow: 0 1px 2px rgba(0, 0, 0, 0.07) inset;
    color: #000000;
}
.nav ul li a {
    float: left;
    text-decoration: none;
    display: block;
    font-family: 'YanoneKaffeesatzLight', Arial, sans-serif;
    height: 38px;
    line-height: 38px;
    padding-left: 22px;
    padding-right: 22px;
    display: block;
    color: #444444;
    font-size: 17px;
    text-shadow: 0 1px 0 #FFFFFF;
}
.nav ul li a:hover{
    padding-left: 21px;
    padding-right: 21px;
} 
```

我还制作了一个[JSFiddle](http://jsfiddle.net/rHRCw/)以进行适当的预览。

谁能帮我弄清楚为什么会发生这种情况并提供可能的解决方案？这可能是我没有看到的愚蠢的东西。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-07T15:05:19.393

那是因为您设置了边框，`LI:HOVER`然后您将填充更改为`A:HOVER`不再启用`LI:HOVER`​​。只需更改这样的位置`:hover`：

```
.nav ul li:hover a{
    padding-left: 21px;
    padding-right: 21px;
} 
```

而且我认为现在应该没问题。

# mysql - 让我的 mysql 查询更高效

> ID：14198300
> 
> 赞同：0
> 
> 时间：2013-01-07T14:52:03.160
> 
> 标签：mysql, database

我想要做的是从表中拉出`id`, `phone_type`,`os_version`列`Enswitch_Mobile_Users`。

有了 id，我只需`enswitch_id`从`Enswitch_Users`表中获取。

之后，对来自`Enswitch_Android_Purchases`或`Enswitch_Iphone_Purchases`用户列与来自的 id 匹配的所有整体进行计数`enswitch_mobile_users`。并获取第一次进入日期和最后一次进入日期。

我设法使它与这个查询一起工作：

```
SELECT p.user  AS `Mobile_User_ID`, 
    e.os_version `Os_Version`, 
    e.phone_type `Phone_Type`, 
    eu.enswitch_id `Enswitch_ID`,
    Count(1) AS `Buy_Count`,
    (SELECT pc.date 
        FROM 
        (
            SELECT date, user, status 
            FROM enswitch_android_purchases 
            UNION 
            SELECT date, user, status 
            FROM enswitch_iphone_purchases
        ) AS pc 
        WHERE pc.status = 1 
            AND pc.user = p.user 
        ORDER BY pc.date ASC 
        LIMIT 1) AS `First_Purchase`,
    (SELECT pc.date 
        FROM 
        (
            SELECT date, user, status 
            FROM enswitch_android_purchases 
            UNION 
            SELECT date, user, status 
            FROM enswitch_iphone_purchases
        ) AS pc 
        WHERE pc.status = 1 
            AND pc.user = p.user 
        ORDER BY pc.date DESC LIMIT 1) AS `Last_Purchase`
FROM 
(
    SELECT item, date, user, status 
    FROM enswitch_android_purchases 
    UNION
    SELECT item, date, user, status 
    FROM enswitch_iphone_purchases
) AS p 
LEFT JOIN enswitch_mobile_users e 
    ON p.user = e.id
LEFT JOIN enswitch_users eu 
    ON e.user_id = eu.id
WHERE p.`date` >= :from_date 
    AND p.`date` <= :to_date 
    AND p.user is not null 
    AND p.status = 1
GROUP BY `Mobile_User_ID` 
```

但是由于选择它会很慢所以我怎样才能让它更有效率呢？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-07T15:56:09.100

您也许可以使用以下内容将`SELECT`列表中的两个选择替换为`min(p.date)`and `max(p.date)`：

```
SELECT p.user  AS `Mobile_User_ID`, 
    e.os_version `Os_Version`, 
    e.phone_type `Phone_Type`, 
    eu.enswitch_id `Enswitch_ID`,
    Count(1) AS `Buy_Count`,
    min(p.date) AS `First_Purchase`,
    max(p.date) AS `Last_Purchase`
FROM 
(
    SELECT item, date, user, status 
    FROM enswitch_android_purchases 
    UNION
    SELECT item, date, user, status 
    FROM enswitch_iphone_purchases
) AS p 
LEFT JOIN enswitch_mobile_users e 
    ON p.user = e.id
LEFT JOIN enswitch_users eu 
    ON e.user_id = eu.id
WHERE p.`date` >= :from_date 
    AND p.`date` <= :to_date 
    AND p.user is not null 
    AND p.status = 1
GROUP BY p.user 
```

# c# - Databinding Table References

> ID：14198306
> 
> 赞同：0
> 
> 时间：2013-01-07T14:52:34.333
> 
> 标签：c#, asp.net

I have two tables tblCarrier and `tblCustomer`. Both tables are `INNER JOIN` and have the same column name which is company name. The problem is when I use the databinding process

`<%#DataBinder.Eval(Container.DataItem, "CompanyName")%>` to get the back the customer company name, it gives me back the carrier company name. What I notice from my query is that it gets back the company name based on the order sequence in the query statement.

For example

> "SELECT tblCarrier.CarrierID,tblLoadMaster.Salesperson,tblLoadMaster.Status, tblCarrier.CompanyName, tblCustomer.CompanyName"

This T-SQL statement will bring back the carrier company name, but if I were to put the `tblCustomer.CompanyName` before `tblCarrier.CompanyName`, it will then bring back the customer company.

Is there way to databind the columns to get the results based on the cross reference table?

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-07T14:57:09.227

您可以为冲突的列名取别名

```
SELECT tblCarrier.CarrierID,tblLoadMaster.Salesperson,tblLoadMaster.Status,  
  tblCarrier.CompanyName as Car_CompanyName, 
  tblCustomer.CompanyName as Cus_CompanyName; 
```

然后在 Eval 调用中使用别名而不是列名。

```
<%#DataBinder.Eval(Container.DataItem, "Cus_CompanyName")%> 
```

# php - php修剪功能修剪额外的小于/大于符号

> ID：14198310
> 
> 赞同：0
> 
> 时间：2013-01-07T14:52:48.640
> 
> 标签：php

我有一个关于 PHP 修剪功能的问题。考虑以下：

```
$x= '<p>blah</p>';  
$x= trim(trim($x, '<p>'), '</p>');
echo htmlentities($x) . "<br />"; 

This works as expected and prints blah 
```

.

```
$x= '<p><b>blah</b></p>';   
$x= trim(trim($x, '<p>'), '</p>');
echo htmlentities($x) . "<br />"; 

This prints b>blah</b 
```

我不是在寻找解决这个问题的其他方法。
我确实想知道为什么修剪功能会显示这种行为（剥离额外的小于/大于符号）。

提前致谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-07T14:55:33.573

`trim`将第二个参数视为可以删除的字符列表，而不是连续字符串。这解释了为什么`b`保留，但`<`被`>`删除。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-07T14:57:23.150

这是`trim`函数的默认行为。您希望它修剪确切的字符串，但第二个参数是一个字符列表，如果在字符串的每一侧找到它们中的任何一个，都将被修剪。

您可以像这样使用简单的正则表达式：

```
$x = preg_replace(array('#^<p>#i', '#</p>$#i'), '', $x); 
```

# oracle-adf - 如何避免验证 af 表和 javascript 中的输入项

> ID：14198313
> 
> 赞同：0
> 
> 时间：2013-01-07T14:52:50.353
> 
> 标签：oracle-adf

我开发了一个包含表格和命令按钮的表单。一些输入项是必需的。我希望他们在按下按钮时进行验证。一切都很好，这个场景运行良好。但是当表格只显示一行时，选择行不起作用。请参阅 alsa plz：[https](https://forums.oracle.com/forums/thread.jspa?threadID=960512&start=0&tstart=0) ://forums.oracle.com/forums/thread.jspa?threadID=960512&start=0&tstart=0 --> 可能是第 9 个帖子

我将上面链接中所述的解决方案应用于我的 jsff。它适用于上一期，但这次，javascript 导致了另一个验证不一致的问题。据我了解，java 脚本会覆盖 af table immediate="true" 属性。请参阅：[http](http://www4.picturepush.com/photo/a/11897217/640/11897217.png) ://www4.picturepush.com/photo/a/11897217/640/11897217.png 我该如何解决？有什么建议吗？请帮助我提前谢谢

```
<?xml version='1.0' encoding='UTF-8'?>
<jsp:root xmlns:jsp="http://java.sun.com/JSP/Page" version="2.1"
xmlns:af="http://xmlns.oracle.com/adf/faces/rich"
xmlns:trh="http://myfaces.apache.org/trinidad/html"
xmlns:f="http://java.sun.com/jsf/core">
<trh:script>

function tableLoad(event)
{
AdfCustomEvent.queue(event.getSource(), "refreshTables", 
{
},
true);
event.cancel();
}
</trh:script>

......
<af:table var="row" rowBandingInterval="1" id="entityT"
value="#{pageFlowScope.incomingPaperworkBean.baseRowCollection}"
partialTriggers="::cb_incPaperDef_commit ::cb_incPaperDef_filter"
rowSelection="single" columnBandingInterval="0"
disableColumnReordering="true" columnStretching="column:c3"
styleClass="AFStretchWidth" autoHeightRows="20"
contentDelivery="immediate" immediate="true"
binding="#{pageFlowScope.incomingPaperworkBean.richTable}">
<af:clientListener method="tableLoad" type="click"/>
<af:serverListener type="refreshTables"
method="#{pageFlowScope.incomingPaperworkBean.refreshTables}"/>
<af:column id="c5" width="105">
<af:inputText id="registrationText"
value="#{row.baseEntity.registrationNumber.registrationNumber}"
required="true" readOnly="true" autoSubmit="true"
disabled="true"/>
<f:facet name="header">
<af:panelGroupLayout id="panelGroupLayout1" layout="vertical">
<af:inputText id="filterRegistrationNumber"
value="#{pageFlowScope.incomingPaperworkBean.filterTemplate.incomingPaperwork.registrationNumber.registrationNumber}"
simple="true" autoSubmit="true"/>
<af:spacer width="10" height="10" id="spacer1"/>
<af:outputText value="Kayit Numarasi" id="outputText6"/>
</af:panelGroupLayout>
</f:facet>
</af:column>
...... 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-25T18:05:45.203

在触发验证的组件上设置立即参数。

# restart - php-fpm does not load new code after deployment

> ID：14198315
> 
> 赞同：1
> 
> 时间：2013-01-07T14:53:04.690
> 
> 标签：restart, php

I meet a problem with php-fpm when deploying new code to the webserver.

I have nginx + php-fpm + apc to serve my site. for code deployment, I use git to pull code form git repository.

The problem is : when I git pull the new code to deploy code update to web server, php-fpm does not reflect the update, still serve the code before pull. I have to restart php-fpm, then the updated code is served.

This is very inconvenient for deployment. I googled around but does not find any hint about the reason behind.

Can anyone tell me why and is their any way to avoid restart?

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-17T17:39:50.073

这实际上听起来不像是 FPM 问题，而是 APC 相关问题。我相信您的 APC 正在缓存您的内容，并且在重新启动 FPM 之前它不会反映。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-11-04T04:29:55.230

这确实听起来像一个 php-fpm 问题。您必须重新加载 php-fpm 才能更新正在提供的 php 文件。为此，对 php7 运行“service php-fpm reload”或“service php7.0-fpm reload”。这基本上会清除其代码缓存并刷新以显示代码的最新状态。

# php - 显示大量数据的最佳方式

> ID：14198316
> 
> 赞同：4
> 
> 时间：2013-01-07T14:53:04.910
> 
> 标签：php, javascript, mysql

在网页上处理大量数据条目的最佳方法是什么？

假设我有一个包含 5000 条记录的数据库，其中包含 song_name、author_name、song_id、posted_by 的表；我想在一个页面上建立一个所有歌曲的播放列表。同样在该页面上，还有一个*播放器*可以根据页面上显示的播放列表条目播放歌曲。

我试图从该表中提取所有 5000 个条目并用它们构建一个 javascript 对象，并处理该对象我已经构建了播放列表、在播放列表中搜索等等。但这需要非常大量的资源（在用户端）和大量的页面加载时间（因为有很多条目！）并且页面非常慢。

将所有数据加载到一个对象中并通过**JavaScript**对播放列表的每 100 条记录进行分页更好，还是*从数据库中获取分页结果*并仅更新播放列表更好？（**考虑到如果播放器激活了*随机播放*按钮，它可能会随机播放到用户数据库中的任何歌曲，而不仅仅是可见播放列表中的当前歌曲**）

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-01-07T15:04:02.950

我认为分页是您最好的选择。只需创建一个 100 的限制（例如）并使用 AJAX 提取下一个 100。如果客户端打开 shuffle，只需向服务器发送另一个请求并让它调用执行以下操作的函数：

1.  计算数据库中的总行数
2.  使用 randomize 函数获取 100 个随机数
3.  现在创建一个稍微棘手的查询来根据它们的行号从数据库中获取记录：

函数 getRandomTracks($limit) {

```
 $total = $this->db->count_all('table_tracks');

  //Get random values. Speed optimization by predetermine random rownumbers using php

  $arr = array();
  while (count($arr) < $limit) { 
    $x = mt_rand(0, $total); //get random value between limit and 0
    if (!isset($arr[$x])) { //Random value must be unique
      //using random value as key and check using isset is faster then in_array
      $arr[$x] = true; 
    }
  }

  //Create IN string
  $in = implode(',', array_keys($arr));

  //Selection based on random rownumbers
  $query = $this->db->query('SELECT * FROM
      (SELECT  @row := @row + 1 as row, t.*
         FROM `table_tracks` t, (SELECT @row := 0) r) AS tracks
     WHERE `row` IN(' . $in . ')');

  return $query->result(); 
```

}

我正在使用类似的功能，也可以处理大量曲目（超过 300.000），所以我相信这会奏效！

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-07T15:15:16.330

使用 ajax 以 100 步（或更多，只需尝试）加载数据

对记录集进行循环并每次增加限制：

```
<?php
$Step = 100;
$u_limit = 0;
$sql = "SELECT song_id FROM $MySQL_DB.songs";
$data = mysql_query($sql, $dblk);
$numer_of_entries = mysql_num_rows($data);
while($o_limit < $numnumer_of_entries)
{
    $o_limit = u_limit + $Step;
    $sql = "SELECT * FROM $MySQL_DB.songs order by id DESC LIMIT $u_limit, $o_limit";
    $data = mysql_query($sql, $dblk);
    while($row = mysql_fetch_array($data))
    {
        // built an array and return this to ajax
    }
    $u_limit += $Step;
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-07T15:28:54.957

即使您使用 jQuery 或其他库，也很难将“整个”数据加载到客户端程序，因为关键因素不是您使用的代码/sdk，而是浏览器本身！
顺便说一句，chrome 是最快的，而 IE（ver.10 之前）是最低的。

您可以参考以下链接：
[http://www.infoq.com/news/2010/09/IE-Subsystems-Spends-Time](http://www.infoq.com/news/2010/09/IE-Subsystems-Spends-Time)
[http://www.nczonline.net/blog/2009/01/05/what-确定-a-script-is-long-running/](http://www.nczonline.net/blog/2009/01/05/what-determines-that-a-script-is-long-running/)
[http://www.zdnet.com/browser-benchmarks-ie-firefox-opera-and-safari-3039420732/](http://www.zdnet.com/browser-benchmarks-ie-firefox-opera-and-safari-3039420732/)
[http://msdn.microsoft.com/ en-us/library/Bb250448](http://msdn.microsoft.com/en-us/library/Bb250448)
[http://support.microsoft.com/kb/175500/en-us](http://support.microsoft.com/kb/175500/en-us)

所以你应该做的是像其他人建议的那样将你的客户端逻辑移动到服务器端。

正如您提到的那样进行分页但只对所有数据使用 javascript，它本质上与无分页相同。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-07T15:03:51.860

试试这个：[http ://www.datatables.net/](http://www.datatables.net/)

我想知道，但也许它的作品。

# javascript - 超过 20 个结果使用 Google Maps API？

> ID：14198323
> 
> 赞同：1
> 
> 时间：2013-01-07T14:53:19.007
> 
> 标签：javascript, google-maps, google-maps-api-3

> **可能重复：**
> [在 Google 地图 API 中获取最大（超过 20 个）结果](https://stackoverflow.com/questions/14194871/get-maximum-more-than-20-results-in-google-map-api)

我需要 20 多个结果来使用谷歌地图文本搜索功能。现在我想知道最大结果以及如何获得 20 多个结果？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-07T14:56:47.723

> 默认情况下，每个地方搜索每次查询最多返回 20 个建立结果；但是，每次搜索最多可以返回 60 个结果，分成三个页面。其他页面可通过 PlaceSearchPagination 对象获得。为了访问其他页面，您必须通过回调函数捕获 PlaceSearchPagination 对象。

更多信息在这里： [https ://developers.google.com/maps/documentation/javascript/places#PlaceSearchPaging](https://developers.google.com/maps/documentation/javascript/places#PlaceSearchPaging)

# android - After loading textures application gets short and not controlled freeze

> ID：14198327
> 
> 赞同：0
> 
> 时间：2013-01-07T14:53:28.010
> 
> 标签：android, opengl-es, 2d, textures, libgdx

Use libGDX platform. After loading textures my application gets short and not controlled freeze.

```
 @Override
public void render() {
    float deltaTime = Gdx.graphics.getDeltaTime();

    if (IS_LOG_ENGINE_SPEED_INFO) {
        startTickCount = System.currentTimeMillis();
        runingAppTime += deltaTime;
    }
    if (sceneDirector.sceneUpdate()) {
        deltaTime = 0;
        if (!manager.update()) {
            Gdx.app.log("aaa", "Skip!");
            return;
        }
    }
    sceneDirector.getCurScene().updateLogic(deltaTime);
    if (IS_LOG_ENGINE_SPEED_INFO) {
        logStr = (System.currentTimeMillis() - startTickCount) + ", ";
        startTickCount = System.currentTimeMillis();
    }

    Gdx.gl.glClearColor(1, 1, 1, 1);
    Gdx.gl.glClear(GL10.GL_COLOR_BUFFER_BIT);
    batch.setProjectionMatrix(camera.combined);

    sceneDirector.getCurScene().updateGraph(batch);

    if (IS_LOG_ENGINE_SPEED_INFO) Gdx.app.log("aaa", logStr + (System.currentTimeMillis() - startTickCount));
} 
```

What I do: If changed the scene - workout the method sceneDirector.sceneUpdate () and there is a loading of textures. Texture loading function:

```
 public static void loadAtlas(String pngFileName, String xmlFileName, Scene scene) {

    MainClass.manager.load(pngFileName, Texture.class);
    MainClass.manager.finishLoading();
    Texture texture = MainClass.manager.get(pngFileName, Texture.class);
    scene.textures.add(texture);
    texture.setFilter(TextureFilter.Linear, TextureFilter.Linear);
    ... 
```

And what do we get in the end... Loading methods work out correctly. Rendering graphics is only when the texture loading. This is confirmed by the logs that show the application:

```
01-07 16:38:50.509: INFO/aaa(27259): LogicTime: 1712, GraphTime: 145
01-07 16:38:50.559: INFO/aaa(27259): LogicTime: 0, GraphTime: 38
01-07 16:38:50.559: INFO/aaa(27259): LogicTime: 0, GraphTime: 1
01-07 16:38:50.569: INFO/aaa(27259): LogicTime: 0, GraphTime: 3
01-07 16:38:50.579: INFO/aaa(27259): LogicTime: 1, GraphTime: 1
01-07 16:38:50.589: INFO/aaa(27259): LogicTime: 0, GraphTime: 1
01-07 16:38:50.609: INFO/aaa(27259): LogicTime: 2, GraphTime: 2
01-07 16:38:50.629: INFO/aaa(27259): LogicTime: 0, GraphTime: 1
01-07 16:38:50.649: INFO/aaa(27259): LogicTime: 0, GraphTime: 4 
```

But! Why first and second graphics update do so long? This question is important because after loading the graphics immediately begin action on the scene.

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-07T17:41:57.487

这个：

```
MainClass.manager.finishLoading(); 
```

可能是您的时间去向（尽管我不确定，因为您没有显示`MainClass.manager`定义，也没有显示从`render`to的调用图`loadAtlas`）。您需要在后台加载资产（请参阅 参考资料`manager.update()`）。 `finishLoading`将阻塞当前线程（渲染线程），直到加载所有资产。

这意味着您需要在加载资源之前在渲染线程上“渲染”。通常，这是通过显示“加载”屏幕来完成的。看到这个问题：[如何使用 libgdx 资产管理器正确加载纹理](https://stackoverflow.com/questions/12391518/how-to-properly-load-textures-using-the-libgdx-assetmanager)

# javascript - 如何将包含 JSON 的 JSON NSString 从 Objective C 方法传递给 Javascript 方法

> ID：14198331
> 
> 赞同：4
> 
> 时间：2013-01-07T14:53:41.370
> 
> 标签：javascript, iphone, objective-c, ios, json

我有一个要求，其中`objective C code should`消耗`WebService`和收到的响应`JSON format`必须作为参数传递给`javascript`方法以进行进一步处理。我正在使用`UIWebView`它将在处理后显示适当的结果`JSON response.` 当我尝试将 JSON 字符串传递给`Javascript`method.Javascript 方法不简单地接受输入。

```
- (void)connectionDidFinishLoading:(NSURLConnection *)connection
{
    [UIApplication sharedApplication].networkActivityIndicatorVisible = NO;
    NSString *responseString = [[NSString alloc] initWithBytes:[resultData bytes] length:[resultData length] encoding:NSUTF8StringEncoding];
    NSLog(@"%@",responseString);
    [self returnResponseToJavaScriptMethods:responseString];
}

-(void)returnResponseToJavaScriptMethods:(NSString*)theResponse{
    [viewMainWebView stringByEvaluatingJavaScriptFromString:[NSString stringWithFormat:@"retrieveServerResponse('%@')",theResponse]];
} 
```

有什么我错过的吗？使用相同的方法可以正确传递简单的字符串。

**更新**`responseData`：对to进行编码就可以`UTF8StringEncoding`了。

```
[theResponse stringByAddingPercentEscapesUsingEncoding: NSUTF8StringEncoding] 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-07T15:05:00.730

您可能需要在将 JSON 字符串发布到 javascript 之前对其进行 URL 转义。

尝试改变：

```
-(void)returnResponseToJavaScriptMethods:(NSString*)theResponse{
  [viewMainWebView stringByEvaluatingJavaScriptFromString:
  [NSString stringWithFormat:@"retrieveServerResponse('%@')",theResponse]];
} 
```

到

```
-(void)returnResponseToJavaScriptMethods:(NSString*)theResponse{
  [viewMainWebView stringByEvaluatingJavaScriptFromString:
  [NSString stringWithFormat:@"retrieveServerResponse('%@')",
 [theResponse stringByAddingPercentEscapesUsingEncoding:NSUTF8StringEncoding]]];
} 
```

看看这是否对你有帮助。但是请注意，有更好（或更可靠）的方法来转义字符串，例如在此答案中给出的方法：[How do I URL encode a string](https://stackoverflow.com/questions/8088473/url-encode-a-nsstring)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-04-22T15:28:29.507

javascript中不需要a `retrieveServerResponse()`，只需`unescape(percentEscapedStringFromiOS)`在iOS中对字符串进行百分比转义后使用

```
NSString *encodedString = [string stringByAddingPercentEscapesUsingEncoding:NSUTF8StringEncoding];
// CAVEAT: unescape(\"%@\") is important since "'" (single quote) isn't excaped by the above function!
NSString *jsString = [NSString stringWithFormat:@"myJSstring = unescape(\"%@\")", encodedString]];

NSString *jsResult = [self.webView stringByEvaluatingJavaScriptFromString:jsString]; 
```

# java - Regex pattern matching yields false

> ID：14198333
> 
> 赞同：0
> 
> 时间：2013-01-07T14:53:49.240
> 
> 标签：java, regex

I have executed the code below, but its result is false. Is my pattern is correct? What is wrong here? If I am wrong please correct me because I am stuck on this.

```
String name = "] RESPONSE GET - 192.168.200.121 -";
string pat = "] RESPONSE (GET|GETNEXT|GETBULK|SET|TRAP) - ^192\\.168\\.200\\.121$ -";
Pattern p = Pattern.compile(pat);
Matcher m = p.matcher(name);
System.out.println(m.find()); 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-07T14:57:07.070

这有效：

```
] RESPONSE (GET|GETNEXT|GETBULK|SET|TRAP) - 192\\.168\\.200\\.121 - 
```

您的字符串中间有`^`and`$`字符。它们分别代表要匹配的字符串的开始和结束。显然，字符串的开头/结尾不能在字符串的中间；-)

# android - How to highlight a Bitmap? Like Google Play

> ID：14198337
> 
> 赞同：2
> 
> 时间：2013-01-07T14:53:58.327
> 
> 标签：android, bitmap, android-canvas, highlight

**How to highlight a Bitmap?** Like Google play.

![enter image description here](../Images/3f2e2edae689cd06d730b6b517e7203e.png)![enter image description here](../Images/33467df49ce290753f9a874617f155c5.png)

My images are in a server, so I´d like to **not** download two images to make this effect.

**What I have tried:**

I just try to use Layers but it don't make a transparent highlight effect. The Bitmap is set on an `Imagebutton`.

Maybe canvas should work, creating a drawable transparent with a light color, I tried some codes but doesn't work or its because I don't know how to handle this.

```
BitmapDrawable bitmapDrawable = new BitmapDrawable(bitmap);

                    Drawable[] layers = new Drawable[2];
                    layers[0] = bitmapDrawable;
                    layers[1] = r.getDrawable(R.drawable.default_button_pressed);
                    LayerDrawable layerDrawable = new LayerDrawable(layers);
                    imageView.setImageDrawable(layerDrawable); 
```

**default_button_pressed**

```
<shape xmlns:android="http://schemas.android.com/apk/res/android" 
     android:shape="rectangle">
    <corners android:radius="3dp" />
    <gradient android:endColor="#FFFFFF" android:startColor="#ccffff" android:angle="90" />
    <stroke android:width="1dp" android:color="#33364252" />

</shape> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-07T17:11:12.053

尝试使用`ColorFilter`：

```
Imagebutton.setColorFilter(0x808fd2ea); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-07T17:19:04.983

易于`OnTouchListener`使用的方法和使用`setColourFilter`方法`ImageButton`

```
 ImageButton aButton = (ImageButton) findViewById(R.id.MY_IMAGEBUTTON_ID);
   aButton.setOnTouchListener(new OnTouchListener() {
        @Override
        public boolean onTouch(View v, MotionEvent me) {
            ImageButton button = (ImageButton)v;
            if (me.getAction() == MotionEvent.ACTION_DOWN) {
                button.setColorFilter(Color.BLUE);
                return true;
            } else if (me.getAction() == MotionEvent.ACTION_UP) {
                button.setColorFilter(null);
                return true;
            }
            return false;
        }

    }); 
```

# c++ - How to declare a variable that stores an object returned by reference?

> ID：14198340
> 
> 赞同：3
> 
> 时间：2013-01-07T14:54:18.217
> 
> 标签：c++, reference, return, return-type

C++ references are still confusing to me. Suppose I have a function/method which creates an object of type `Foo` and returns it by reference. (I assume that if I want to return the object, it cannot be a local variable allocated on the stack, so I must allocate it on the heap with `new`):

```
Foo& makeFoo() {
    ...
    Foo* f = new Foo;
    ...
    return *f;
} 
```

When I want to store the object created in a local variable of another function, should the type be `Foo`

```
void useFoo() {

    Foo f = makeFoo();
    f.doSomething();
} 
```

or `Foo&`?

```
void useFoo() {

    Foo& f = makeFoo();
    f.doSomething();
} 
```

Since both is correct syntax: Is there a significant difference between the two variants?

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-01-07T14:57:00.807

是的，第一个将复制返回的引用，而第二个将是对返回的引用`makeFoo`。

请注意，使用第一个版本将导致内存泄漏（很可能），除非您在复制构造函数中使用了一些黑魔法。

好吧，除非你打电话，否则第二个也会导致泄漏`delete &f;`。

**底线：不要**。随波逐流，按价值回报。或智能指针。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-01-07T15:03:47.623

您的第一个代码做了很多工作：

```
void useFoo() {
    Foo f = makeFoo();  // line 2
    f.doSomething();
} 
```

想到第 2 行，发生了一些有趣的事情。首先，编译器将发出代码以使用类的默认构造函数构造`Foo`对象。`f`然后，它将调用`makeFoo()`，它还会创建一个新`Foo`对象并返回对该对象的引用。编译器还必须发出将 的临时返回值复制`makeFoo()`到对象 at 的代码`f`，然后它会销毁临时对象。一旦第 2 行完成，`f.doSomething()`就会调用。但就在`useFoo()`返回之前，我们也销毁了 处的对象`f`，因为它超出了范围。

您的第二个代码示例效率更高，但实际上可能是错误的：

```
void useFoo() {
    Foo& f = makeFoo();   // line 2
    f.doSomething();
} 
```

考虑该示例中的第 2 行，我们意识到我们没有创建对象，`f`因为它只是一个引用。该`makeFoo()`函数返回一个新分配的对象，我们保留对它的引用。我们`doSomething()`通过那个参考来调用。但是当`useFoo()`函数返回时，我们永远不会破坏`makeFoo()`为我们创建的新对象并且它会泄漏。

有几种不同的方法可以解决这个问题。如果您不介意额外的构造函数、创建、复制和销毁，您可以只使用第一个代码片段中的引用机制。（如果您有微不足道的构造函数和析构函数，并且没有太多（或没有）要复制的状态，那么这并不重要。）您可以只返回一个指针，这强烈暗示调用者负责管理生命周期被引用对象的循环。

如果您返回一个指针，则*暗示*调用者必须管理对象的生命周期，但您没有强制执行它。总有一天，某个地方的某个人会出错。因此，您可能会考虑创建一个包装类来管理引用并提供访问器来封装对象的管理。（如果您愿意，您甚至可以将其烘焙到`Foo`类本身中。）这种类型的包装类在其通用形式中称为“智能指针”。如果您使用的是 STL，您会在模板类中找到一个智能[指针 `std::unique_ptr`实现](http://msdn.microsoft.com/en-us/library/vstudio/ee410601.aspx)。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-01-07T15:27:24.550

A function should never return a reference to a new object that gets created. When you are making a new value, you should return a value or a pointer. Returning a value is almost always preferred, since almost any compiler will use RVO/NRVO to get rid of the extra copy.

Returning a value:

```
Foo makeFoo(){
    Foo f;
    // do something
    return f;
}

// Using it
Foo f = makeFoo(); 
```

Returning a pointer:

```
Foo* makeFoo(){
    std::unique_ptr<Foo> p(new Foo());  // use a smart pointer for exception-safety
    // do something
    return p.release();
}

// Using it
Foo* foo1 = makeFoo();                 // Can do this
std::unique_ptr<Foo> foo2(makeFoo());   // This is better 
```

# c - define variable in the middle of the code could generate compilation error

> ID：14198346
> 
> 赞同：0
> 
> 时间：2013-01-07T14:54:26.260
> 
> 标签：c, gcc

I have the following code:

```
#include <stdio.h>
#include <stdlib.h>

int main()
{
    char buf[256];

    printf("\nString - Enter your string: ");
    scanf ("%s", buf);

    char *_S = buf;

     .....

} 
```

defining `char *_S = buf;` in the middle of the code could generate compilation error in some `CXX` versions

What version of `CXX` this could generate error. and are there some option to add to the `gcc` command in order to avoid this error?

**EDIT:**

I tried with the following option and I did not get any error:

```
$ gcc -std=c99 -o test test.c
$ gcc -std=c90 -o test test.c
$ gcc -std=c89 -o test test.c
$ gcc -v
Using built-in specs.
COLLECT_GCC=gcc
COLLECT_LTO_WRAPPER=/usr/lib/i386-linux-gnu/gcc/i686-linux-gnu/4.5.2/lto-wrapper
Target: i686-linux-gnu
Configured with: ../src/configure -v --with-pkgversion='Ubuntu/Linaro 4.5.2-8ubuntu4' --with-bugurl=file:///usr/share/doc/gcc-4.5/README.Bugs --enable-languages=c,c++,fortran,objc,obj-c++ --prefix=/usr --program-suffix=-4.5 --enable-shared --enable-multiarch --with-multiarch-defaults=i386-linux-gnu --enable-linker-build-id --with-system-zlib --libexecdir=/usr/lib/i386-linux-gnu --without-included-gettext --enable-threads=posix --with-gxx-include-dir=/usr/include/c++/4.5 --libdir=/usr/lib/i386-linux-gnu --enable-nls --with-sysroot=/ --enable-clocale=gnu --enable-libstdcxx-debug --enable-libstdcxx-time=yes --enable-plugin --enable-gold --enable-ld=default --with-plugin-ld=ld.gold --enable-objc-gc --enable-targets=all --disable-werror --with-arch-32=i686 --with-tune=generic --enable-checking=release --build=i686-linux-gnu --host=i686-linux-gnu --target=i686-linux-gnu
Thread model: posix
gcc version 4.5.2 (Ubuntu/Linaro 4.5.2-8ubuntu4) 
$ 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-07T14:56:45.620

您需要告诉 GCC 构建为[C90 或更早版本](http://gcc.gnu.org/onlinedocs/gcc/Standards.html)。

```
$ gcc -std=c90 mycode.c 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-07T14:59:47.980

为避免该错误，请编译为`-std=c99`或 - `std=c11`。

默认情况下，GCC 使用“非标准 GNU goo”，在过去 10 年左右发布的任何 GCC 版本中，它通常会默认使用类似于 C99 的内容。这意味着默认情况下，GCC 不应该给你一个错误。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-07T15:00:12.337

C99 是第一个允许在块的第一个非声明语句之后声明局部变量的标准版本。

因此，如果您传递`-std=c99`给 gcc，它将接受您的代码。显然，该标准的更高版本还允许在非声明语句之后声明局部变量。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-07T15:11:31.907

在 C99 之前，局部变量声明必须在块的顶部声明。如果您的编译器不支持 C99，您可以简单地使用 C++ 编译，或者创建一个*无条件语句块*

```
int main()
{
    char buf[256];

    printf("\nString - Enter your string: ");
    scanf ("%s", buf);

    // Unconditional block to localise the variable buf
    {
        char *_S = buf;

        ...
    }

    // buf no longer in scope here
    ...
} 
```

# wpf - 将 Microsoft DTV-DVD 视频解码器连接到采样采集器？

> ID：14198347
> 
> 赞同：0
> 
> 时间：2013-01-07T14:54:27.393
> 
> 标签：wpf, directshow, directshow.net, decoder

我编写了一个可以打开、编辑和呈现[.GRF 文件](http://msdn.microsoft.com/en-us/library/aa451348.aspx)的 WPF 应用程序。渲染时，我不希望它打开一个新窗口（就像 GraphEdit 一样），所以我找到了一个使用[Sample Grabber](http://msdn.microsoft.com/en-us/library/windows/desktop/dd377544%28v=vs.85%29.aspx)将样本渲染到 WPF 画笔中的解决方案。

在渲染之前，我的应用程序将 .GRF 文件中的 Video Renderer 替换为 SampleGrabber。这很好，直到我遇到了[Microsoft DTV-DVD Video Decoder](http://msdn.microsoft.com/en-us/library/windows/desktop/dd390679%28v=vs.85%29.aspx)。出于某种原因，它只连接到视频渲染器，而**不是**连接到我的样本采集器......所以目前我的应用程序无法处理 MPEG2。

有人可以向我解释一下：为什么？是什么限制了这些过滤器的连接？

那么我应该如何获取解码的 MPEG2 样本呢？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-07T14:56:49.547

[Sample Grabber Filter](http://msdn.microsoft.com/en-us/library/windows/desktop/dd377544%28v=vs.85%29.aspx)将仅连接到`VIDEOINFOHEADER`结构描述的视频媒体类型（有关备注部分的详细信息，请查看 MSDN 链接）。您有视频输出，`MPEG2VIDEOINFO`但 Sample Grabber 拒绝了它。

旧的 SDK 具有类似 Sample Grabber 的过滤器的源代码，您可以对其进行改进以添加对缺失格式结构的支持。Sample Grabber 过滤器本身就非常简单。您还可以安装一些额外的解码器（第三方、免费软件、去隔行器等），以便`VIDEOINFOHEADER`在其输出中为您带来媒体类型。

# iphone - Assign data from 3 UItextfields into 3 different strings

> ID：14198349
> 
> 赞同：0
> 
> 时间：2013-01-07T14:54:29.987
> 
> 标签：iphone, ios, uitextfield

I am trying to get 3 different values from 3 different Uitextfields and then save them into 1 string to send it to a rest API server through a button action. I am stucked on how to get all 3 texts inputs from the 3 UItextfields.Any thought? My textfields are account,username,password.

```
UITextField *account = [[UITextField alloc] initWithFrame:CGRectMake(90, 50, 140, 30)];
account.borderStyle = UITextBorderStyleRoundedRect;
account.font = [UIFont systemFontOfSize:14];
account.placeholder = @"Account";
account.autocorrectionType = UITextAutocorrectionTypeNo;
account.keyboardType = UIKeyboardTypeDefault;
account.returnKeyType = UIReturnKeyDone;
account.clearButtonMode = UITextFieldViewModeWhileEditing;
account.contentVerticalAlignment = UIControlContentVerticalAlignmentCenter;
account.delegate = self;
[self.view addSubview:account];
[account release];

UITextField *username = [[UITextField alloc] initWithFrame:CGRectMake(90, 80, 140, 30)];
username.borderStyle = UITextBorderStyleRoundedRect;
username.font = [UIFont systemFontOfSize:14];
username.placeholder = @"User ID";
username.autocorrectionType = UITextAutocorrectionTypeNo;
username.keyboardType = UIKeyboardTypeDefault;
username.returnKeyType = UIReturnKeyDone;
username.clearButtonMode = UITextFieldViewModeWhileEditing;
username.contentVerticalAlignment = UIControlContentVerticalAlignmentCenter;
username.delegate = self;
[self.view addSubview:username];
[username release];

UITextField *password = [[UITextField alloc] initWithFrame:CGRectMake(90, 110, 140, 30)];
password.borderStyle = UITextBorderStyleRoundedRect;
password.font = [UIFont systemFontOfSize:14];
password.placeholder = @"Password";
password.autocorrectionType = UITextAutocorrectionTypeNo;
password.keyboardType = UIKeyboardTypeDefault;
password.secureTextEntry = YES;
password.returnKeyType = UIReturnKeyDone;
password.clearButtonMode = UITextFieldViewModeWhileEditing;
password.contentVerticalAlignment = UIControlContentVerticalAlignmentCenter;
password.delegate = self;
[self.view addSubview:password];
[password release]; 
```

Can't find away to get all 3 datas when using the :

```
 -(void) textFieldDidEndEditing:(UITextField *)textField 
```

function.

Thanks in advance!

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-07T15:09:46.083

设置文本字段标签

```
 userNameTextField.tag = 1
    accountTextField.tag = 2
    passwordTextField.tag = 3 
```

将值保存在`shouldChangeCharactersInRange`

```
 - (BOOL)textField:(UITextField *)textField shouldChangeCharactersInRange:(NSRange)range replacementString:(NSString *)string{

        switch (textField.tag) {
            case 1:
                //userNameTextField
                NSString *userNameTextField = [NSString stringWithFormat:@"%@%@",textField.text,string];
                //save
                break;
            case 2:
                //accountTextField
                NSString *accountTextField = [NSString stringWithFormat:@"%@%@",textField.text,string];
                //save
                break;  
            case 3:
                //passwordTextField
                NSString *passwordTextField = [NSString stringWithFormat:@"%@%@",textField.text,string];
                //save
                break;  
            default:
                break;
        }

    } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-07T15:01:03.793

您应该将 UITextFields 保留为 ivars，并关联 NSStrings（userNameString、passwordString、accountString）。然后在以下方法中，您应该检查哪个 textField 调用了您的委托并将 textField 的文本分配给正确的字符串。您还可以使用 textfield 标记属性来区分它们，然后您不需要将它们保留为 ivars..

```
 -(void) textFieldDidEndEditing:(UITextField *)textField{
    if (textField==userName)
       userNameString = textField.text;
    if (textField== account)
       accountString = textField.text
    if (textField== password)
       password String = textField.text;
    } 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-07T15:01:38.180

1.  给每个文本字段一个`tag`，例如`1`，`2`和`3`
2.  通过`textFieldDidEndEditing:`标签区分三个文本字段：

.

```
if (textField.tag == 1) {
   // assign the text to the right variable
}
... etc. 
```

如果您遵循这种模式，您可以避免使用许多属性使您的类变得混乱。

为了使代码更具可读性，您可以使用以下模式：

```
#define userNameTextField 1
#define accountTextField 2
#define passwordTextField 3 
```

或者

```
typedef enum { 
   userNameTextField = 1,
   accountTextField,
   passwordTextField
} TextFields; 
```

# php - 如何使用包含的 PHP 文件中的实例化变量？

> ID：14198353
> 
> 赞同：0
> 
> 时间：2013-01-07T14:54:41.103
> 
> 标签：php, variables, include, instantiation

我有一个包含在另一个文件中的 .php 文件。并且包含的​​有一个类定义和一个对象实例化

包含的.php：

```
class MyClass
{
//works
}

$anObject = new MyClass(); 
```

包含器.php：

```
require_once("./included.php");
echo $anObject->localVariable; 
```

返回错误：未定义变量：includer.php 中的anObject

我怎样才能做到这一点？或者我可以这样做吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-07T15:03:41.683

尝试将您的 $anObject 变量设置为全局变量。

```
global $anObject;
$anObject = new MyClass(); 
```

# php - PHP如何在使用LEFT JOIN时对结果数组进行分组

> ID：14198357
> 
> 赞同：0
> 
> 时间：2013-01-07T14:55:12.603
> 
> 标签：php, mysql, group-by

请简化对我的问题的解释，假设我做了一个小的 sql 查询来从三个表中选择数据：

```
SELECT  blockTitre, ChampsType, ChampsNom
FROM form_builder
    LEFT JOIN block_champs
        ON formBuilderBId = blockId
    RIGHT JOIN ajout_champs
        ON ChampsId = formBuilderChId 
```

当我 var_dump 结果时，我得到以下结果：

```
array (size=6)
  0 => 
    object(stdClass)[8]
      public 'blockTitre' => string 'Misc' (length=4)
      public 'ChampsType' => string 'submit' (length=6)
      public 'ChampsNom' => string 'submit' (length=6)
  1 => 
    object(stdClass)[9]
      public 'blockTitre' => string 'Misc' (length=4)
      public 'ChampsType' => string 'hidden' (length=6)
      public 'ChampsNom' => string 'page' (length=4)
  2 => 
    object(stdClass)[10]
      public 'blockTitre' => string 'Information général' (length=21)
      public 'ChampsType' => string 'text' (length=4)
      public 'ChampsNom' => string 'email' (length=5)
  3 => 
    object(stdClass)[11]
      public 'blockTitre' => string 'Information général' (length=21)
      public 'ChampsType' => string 'text' (length=4)
      public 'ChampsNom' => string 'prenom' (length=6)
  4 => 
    object(stdClass)[12]
      public 'blockTitre' => string 'Information général' (length=21)
      public 'ChampsType' => string 'text' (length=4)
      public 'ChampsNom' => string 'age' (length=3)
  5 => 
    object(stdClass)[13]
      public 'blockTitre' => string 'Misc' (length=4)
      public 'ChampsType' => string 'text' (length=4)
      public 'ChampsNom' => string 'nommm' (length=5) 
```

我想要的是通过**blockTitre**重新组合结果。

我尝试了 SQL 语句`GROUP BY`，但它只返回两行（我认为这是逻辑）！

请高手如何让所有行按**blockTitre**分组 ？

先感谢您。

**编辑 ：**

请我需要得到类似的东西：

```
 0 =>
       'blockTitre' => string 'Misc' 
            'ChampsType' => string 'submit' 
            'ChampsNom' => string 'submit'
            'ChampsType' => string 'text' 
            'ChampsNom' => string 'nommm' 
            'ChampsType' => string 'hidden' 
            'ChampsNom' => string 'page' 
  1 =>     
       'blockTitre' => string 'Information général' 
            'ChampsType' => string 'text' 
            'ChampsNom' => string 'email' 
            'ChampsType' => string 'text' 
            'ChampsNom' => string 'prenom' 
            'ChampsType' => string 'text' 
            'ChampsNom' => string 'age' 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-07T14:58:55.410

`GROUP BY`正如你描述你的情况一样工作。它只会留下唯一的值：`Misc`和`Information général`。它将使用它看到的第一行作为其他列的值。所以确实，你只会得到 2 行。

您正在寻找的输出是什么？通常，您`GROUP BY`要么仅获取唯一值，要么进行某种操作`COUNT`。

请记住，SQL 只能为您提供“平面”数据，即如下结构：

```
data = {
    "misc": [{
        "row1",
        "row2"
    }],
    "info": [{
        "row1",
        "row2"
    }]
 } 
```

是必须通过逐行读取结果集自己来完成的事情。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-07T15:26:52.910

Have a look at `PDO::FETCH_GROUP` if you're using PDO.

To fetch your results grouped by `blockTitre`, try this (assuming you've already executed the query with PDO):

```
$rows = $result->fetchAll(PDO::FETCH_OBJ | PDO::FETCH_GROUP); 
```

More information can be found [in the PHP docs](http://php.net/manual/en/pdostatement.fetchall.php#refsect1-pdostatement.fetchall-parameters).

Now, you can loop through the groups however you like. Just make sure to

```
GROUP BY blockTitre 
```

in your query.

# javascript - 为什么焦点事件没有在 CKEditor 内触发？

> ID：14198359
> 
> 赞同：0
> 
> 时间：2013-01-07T14:55:34.507
> 
> 标签：javascript, ckeditor

我正在使用`CKEditor 3.6.5`.

在我的应用程序中有两个文本框，分别是 Ckeditor 和两个文本框。如果我使用制表位来导航控件。当它移动到 CKEditor 时，它会聚焦整个 Ckeditor 区域，但我希望它聚焦在 Ckeditor 内部。

如何解决这个问题呢？

# android - GpsStatus.Listener 未在网络状态更改时触发

> ID：14198363
> 
> 赞同：1
> 
> 时间：2013-01-07T14:55:46.440
> 
> 标签：android, gps

我希望我的 RTT 应用程序能够控制我们何时/是否接收位置更新，无论是来自 GPS 还是网络。我可以使用 GpsStatus.Listener 轻松控制 GPS 状态，但我找不到网络更新的等价物。例如，如果我们进入没有网络或 wifi 的区域，该事件将触发，或者会发生超时，如 GpsStatus.GPS_EVENT_SATELLITE_STATUS 所涵盖的情况

代码片段在这里：

```
 mGPSReceiver = (LocationManager)this.getSystemService(Context.LOCATION_SERVICE);
    mLocationListener = new LocationListener() {
        private Location mLastLocation;

        @Override
        public void onLocationChanged(final Location location) {
            // STUFF
        }

        @Override
        public void onProviderDisabled(final String provider) {
            if (mGPSReceiver.getProviders(true).size() == 0) { // WRONG
                PhoneStatusService.this.setGPSStatus(false);
            }
        }

        @Override
        public void onProviderEnabled(final String provider) {
        }

        @Override
        public void onStatusChanged(final String provider, final int status, final Bundle extras) {
        }
    };
    mGPSListener = new GpsStatus.Listener() {
        @Override
        public void onGpsStatusChanged(final int event) {
            switch (event) {
                case GpsStatus.GPS_EVENT_STARTED:
                    break;
                case GpsStatus.GPS_EVENT_FIRST_FIX:
                    setGPSStatus(true);
                    break;
                case GpsStatus.GPS_EVENT_STOPPED:
                    break;
                case GpsStatus.GPS_EVENT_SATELLITE_STATUS:
                    final boolean isGPSFixing = (SystemClock.elapsedRealtime() - mLastLocationMillis) < GPS_TIMEOUT;
                    setGPSStatus(isGPSFixing);
                    break;
                default:
                    break;
            }
        }
    };
    mGPSReceiver.addGpsStatusListener(mGPSListener);
    mGPSReceiver.requestLocationUpdates(LocationManager.GPS_PROVIDER, GPS_FIX_TIME, 0,
            mLocationListener);
    mGPSReceiver.requestLocationUpdates(LocationManager.NETWORK_PROVIDER, GPS_FIX_TIME, 0,
            mLocationListener); 
```

* * *

## 回答 #1

> 赞同：-2
> 
> 时间：2013-01-07T15:12:15.870

创建一个接收网络更新的广播接收器。

# java - 在 Java 中模拟内存使用情况

> ID：14198373
> 
> 赞同：3
> 
> 时间：2013-01-07T14:56:18.123
> 
> 标签：java, memory, memory-management, garbage-collection

是否有任何可用的 Java api 可以帮助模拟正在使用的固定数量的内存？

我正在构建一个在其方法中不包含任何实现的虚拟应用程序。我想在这种方法中做的就是模拟一定数量的内存被用完 - 这有可能吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-07T15:25:54.923

The simplest way to consume a fixed amount of memory is to create a byte array of that size and retain it.

```
byte[] bytes = new byte[1000*1000]; // use 1 MB of memory. 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-07T15:00:51.287

考虑到应用程序在运行时环境中运行，不知道它是否会进入堆等，Java 处理内存的方式可能会变得棘手。

一种简单的方法可能是将文本文件加载到您想要的特定大小的内存中，然后以某种方式确保在方法返回后它们不会被垃圾收集。

# python - 根据键对python列表进行排序

> ID：14198382
> 
> 赞同：4
> 
> 时间：2013-01-07T14:56:50.090
> 
> 标签：python, sorting, key

我在 python 列表中有一些条目。每个条目都有一个创建日期和创建时间。这些值存储为 python datetime.date 和 datetime.time（作为两个单独的字段）。我需要获取排序的条目列表，以便之前created 条目位于其他条目之前。

我知道有一个 list.sort() 函数接受一个键函数。在这种情况下，我是否必须使用日期和时间来创建日期时间并将其用作键`sort()`？有一个`datetime.datetime.combine(date,time)`为此。但是如何在 sort 函数中指定它呢？

我试过`key = datetime.datetim.combine(created_date,created_time)`

但口译员抱怨说`the name created_date is not defined`

```
class Entry: 
   created_date = #datetime.date
   created_time  = #datetime.time
   ...

my_entries_list=[Entry1,Entry2...Entry10]
my_entries_list.sort(key = datetime.datetim.combine(created_date,created_time)) 
```

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-01-07T14:58:56.207

你可能想要这样的东西：

```
my_entries_list.sort(key=lambda v:
                           datetime.datetime.combine(v.created_date, v.created_time)) 
```

传递`datetime.datetime.combine(created_date, created_time)`尝试`combine`立即调用并中断，因为`created_date`并且`created_time`不能用作局部变量。`lambda`提供*延迟评估*：它不是立即执行代码，而是创建一个*函数*，该函数将在调用时执行指定的代码并返回结果。该函数还提供了用于访问`created_date`和`created_time`属性的参数。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-07T14:58:52.397

使用`lambda`：

```
sorted(my_entries_list,
       key=lambda e: datetime.combine(e.created_date, e.created_time)) 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-07T15:02:27.323

从[文档](http://docs.python.org/2/library/stdtypes.html#mutable-sequence-types)

> key 指定一个参数的函数，用于从每个列表元素中提取比较键

例如。

```
def combined_date_key(elem):
    return datetime.datetime.combine(v.created_date, v.created_time)

entries.sort(key=combined_date_key) 
```

（这与已经发布的 lambda 相同，只是为了清晰起见）。

您的另一个选择是使用`cmp`参数（这里不需要，但是对于可以短路的足够昂贵的键功能，这可能会更快）

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-07T15:26:15.657

使用这样的元组可能会稍微快一些：

```
sorted(my_entries_list,
       key = lambda e: (e.created_date, e.created_time)) 
```

然后事情将按日期排序，只有当日期匹配时才会考虑时间。

# facebook - 有没有办法使用facebook graph api获取用户的祖国名称？

> ID：14198383
> 
> 赞同：1
> 
> 时间：2013-01-07T14:56:50.700
> 
> 标签：facebook, facebook-graph-api

反正有没有使用图形 API 获取用户的祖国名称？

我试图获取用户名，但 Facebook 会返回英文名，尽管用户的祖国不是英文区域。

我想获取用户的母语名称。

来人帮帮我！！

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2013-01-07T17:48:27.167

Try accessing the `name_format` field of the User object, this is equivalent to the `name_format` field in the [User FQL table](https://developers.facebook.com/docs/reference/fql/user/) and is documented as: *The user's name formatted to correctly handle Chinese, Japanese, Korean ordering*

For me (English language) it appears the same as the `name` field, but should be different for other locales

Example call is: `https://graph.facebook.com/<USER ID>?fields=name_format&access_token=ACCESS_TOKEN`

# ajax - 需要 jQuery 中的删除函数...是否有任何其他 ajax 函数可以做到这一点？

> ID：14198388
> 
> 赞同：0
> 
> 时间：2013-01-07T14:57:02.743
> 
> 标签：ajax, jquery

我需要 jQuery 中的删除功能。在 jQuery ajax 中，我们有`get`, `post`,`put`和`delete`. 但是并不是所有的浏览`PUT`器`DELETE`都支持，那么有没有其他功能和功能完全一样的`DELETE`呢？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-07T15:50:02.200

PUT 和 DELETE 在 HTML 表单中不受支持，但在所有现代浏览器的 Ajax 请求中都受支持。

# ios - 为什么 AutoLayout 不照顾我的 UICollectionView

> ID：14198392
> 
> 赞同：6
> 
> 时间：2013-01-07T14:57:12.750
> 
> 标签：ios, ios6, uicollectionview, autolayout

我[使用](https://github.com/below/AutoLayoutScrollviewTest)`UICollectionView`. _

只要应用程序处于纵向模式，一切正常。但是，当它更改为横向模式时，内容单元格的大小不会适当调整，因此不会显示任何内容。

我认为所有必要的 AutoLayout 约束都已到位。我知道我可以实现`collectionView:layout:sizeForItemAtIndexPath:`，但我的目标是尽可能多地使用 AutoLayout（只是为了更好地理解 AutoLayout）。

我在这里想念什么？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-07-11T15:53:10.983

您可以使用自动布局来设置集合视图的位置和大小。您可以使用自动布局来设置每个单元格内子视图的位置和大小。但是您不能使用自动布局来控制单元格的位置和大小。您必须使用集合视图的布局对象来设置每个集合视图单元格的位置和大小。如果您希望单元格在界面方向更改时更改大小，则必须更新布局对象以报告新大小并使布局无效。

# javascript - 在繁重的 dom 操作期间，JQuery 加载 gif 冻结

> ID：14198397
> 
> 赞同：7
> 
> 时间：2013-01-07T14:57:30.157
> 
> 标签：javascript, jquery, loading, gif

> **可能重复：**
> [如何在 Javascript 中加载树时使 GIF 旋转](https://stackoverflow.com/questions/2275371/how-to-make-gif-rotate-when-the-tree-is-loading-in-javascript)

就像标题说的那样，我的加载 gif 在进行 ajax 成功调用时会冻结。成功调用有一些繁重的 DOM 操作要做，并且由于 UI 是单线程的，它会导致我的加载 gif 冻结。

到目前为止，我已经尝试过

1.  优化我的功能，但是要同时加载的数据太多了。
2.  使用 setTimeout()，但它会在所有内容加载后显示所有 gif。
3.  使用[spin.js](http://fgnass.github.com/spin.js/)，但在 DOM 操作过程中它也会冻结。

有没有办法解决这个问题？

很感谢任何形式的帮助。

* * *

**编辑1：**
它与[ArcGIS](http://help.arcgis.com/en/webapi/javascript/arcgis/index.html) javascript有关，我必须从数据库中检索大约4000行，然后通过遍历所有点的for循环显示正确纬度和经度的点。
我正在尝试像[这样做一个简单的概述](http://help.arcgis.com/en/webapi/javascript/arcgis/samples/map_dynamiclayerlist/index.html)^？.

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-07T16:44:13.903

您必须模拟多线程，以便在处理 AJAX 响应时让 UI 保持响应。

唯一重要的部分是安排处理功能，使其任务可以分步执行。

当你得到你调用的数据时：

```
function ProcessData() {
    var done = false;        

    /*
        access the data here and perform a "bit" of data processing.

        if the task finishes set done to true
    */

    if(!done) {
        setTimeout(ProcessData, 100); // this gives the UI 0,1 secs
    }
} 
```

当然，上面的函数必须有某种方式来访问数据（使用全局的，或者更好的是，正确设置其上下文），注册操作的进度等等。

这只是提供一个想法，但网络上有很多详细解释。

或者，您可以获得一份“JavaScript Ninja 的秘密”的副本并阅读“驯服线程和计时器”一章。

希望这可以帮助。

# ruby-on-rails - 包含关联计数的 Activerecord 查询

> ID：14198401
> 
> 赞同：2
> 
> 时间：2013-01-07T14:57:44.863
> 
> 标签：ruby-on-rails, ruby, activerecord

我有一个模型用户，它有很多帖子。要查询前 5 个用户，我会：

```
User.all :limit => 5 
```

它返回一个很好的用户，但是当获取每个用户拥有的帖子数时，它会再次查询数据库：

```
a_user.posts.count 
```

有没有办法可以避免此查询并通过第一个查询获得计数？我正在遍历用户，每次查询用户帖子的计数时都会阻塞。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-07T15:26:29.597

Rails 有一个内置方法，在声明 has_many 之类的关联时必须将其设置为 true，而且您必须向数据库添加一列。

`counter_cache: true`声明`has_many`关联时设置

添加`#{table_name}_count`到数据库，它会自动增加和减少，所以您可以在查询前五个用户时直接选择该列。

更多信息：

[http://api.rubyonrails.org/classes/ActiveRecord/Associations/ClassMethods.html](http://api.rubyonrails.org/classes/ActiveRecord/Associations/ClassMethods.html)

[http://railscasts.com/episodes/23-counter-cache-column](http://railscasts.com/episodes/23-counter-cache-column)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-01-07T15:12:15.540

您正在寻找 rails eager loading 的方法`#includes`，它仍然会创建两个查询（但不是 6，如果您这样做`User.all, :limit=>5`，然后`user.posts`在每个查询上），但会在一个查询中加载帖子：

```
User.includes(:posts).limit(5) 
```

这应该创建SQL：

```
SELECT * FROM users LIMIT 5
SELECT posts.* FROM posts
  WHERE (posts.user_id IN (1,2,3,4,5)) # Numbers are found ID 
```

[您可以从Active Record 查询指南](http://guides.rubyonrails.org/active_record_querying.html#eager-loading-associations)中找到此信息

# google-apps-script - 检索应用程序脚本的来源

> ID：14198407
> 
> 赞同：2
> 
> 时间：2013-01-07T14:58:31.393
> 
> 标签：google-apps-script, google-drive-api

有没有办法检索源，即。存储在 Google Drive 中的应用程序脚本的内容？

Drive API 只获取脚本的元数据，没有指向内容的链接。

与旧的文档列表 API 相同。

如果需要，我愿意使用其他 Google APIS 甚至是基本的 http 客户端

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-08T00:49:03.430

这目前是不可能的，抱歉。这是谷歌正在努力的事情，所以请继续关注。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-12-26T23:22:18.353

现在看来这是可能的：

[导入和导出项目](https://developers.google.com/apps-script/import-export)

# objective-c - 添加“导入”的问题 " 进入 AppDelegate.m

> ID：14198408
> 
> 赞同：0
> 
> 时间：2013-01-07T14:58:31.560
> 
> 标签：objective-c, ios, xcode, restkit

我正在使用稍旧版本的 RestKit（9 月下载）并将其放入一个新项目中。我将 RestKit 项目和所有相关文件复制到我的项目中，然后转到项目目标上的 Build Settings 并将“Other Linker Flags”设置为“-ObjC”，将“Header Search Paths”设置为“$(BUILT_PRODUCTS_DIR)/../ ../Headers”，包括引号。然后我转到“构建阶段”并将 RestKit 添加到目标依赖项，并将 CFNetwork、CoreData、libxml2、MobileCoreServices、QuartzCore、安全性和 SystemConfiguration 添加到“使用库链接二进制文件”部分。最后，说明将以下内容添加到 AppDelegate.m 文件中：

```
import <RestKit/RestKit.h> 
```

但是，当我这样做并构建项目时，我收到一条错误消息，指出“找不到'RestKit/RestKit.h'文件。” 我之前按照这些说明操作没有问题，但现在找不到该文件。我能做些什么来确保它看到的是 RestKit 文件。我遵循的说明在本教程中：[http ://www.raywenderlich.com/13097/intro-to-restkit-tutorial](http://www.raywenderlich.com/13097/intro-to-restkit-tutorial)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-07T15:40:37.273

以下网页的说明应该可以解决您的问题： [https ://github.com/RestKit/RestKit/wiki/Tips-for-Troubleshooting-Your-Application](https://github.com/RestKit/RestKit/wiki/Tips-for-Troubleshooting-Your-Application)

# wix - 通过 cmd 在 wix 上进行次要/主要升级

> ID：14198409
> 
> 赞同：0
> 
> 时间：2013-01-07T14:58:32.120
> 
> 标签：wix, windows-installer, upgrade

我刚开始使用 WIX，我在 stackoverflow 中阅读了很多教程和问题，但升级部分仍然存在问题。

当我通过单击 .msi 文件安装新版本时，它会删除旧版本并安装新版本。

但是，当我试图通过 cmd 做同样的事情时：

```
msiexec.exe /qn /l* logfile.txt /i MY_FILE.msi 
```

效果不好。一些配置文件损坏，例如，在第一次安装时用户应该输入服务器名称，升级时他不需要这样做。在通过 cmd 升级时，服务器的名称被删除。（这是问题之一）

升级线

```
<Upgrade Id="GUID">
  <UpgradeVersion OnlyDetect="yes" Property="NEWER_VER_FOUND" IncludeMinimum="yes"
                        Minimum="$(var.ProductFileVersion)" />
  <UpgradeVersion Property="OLDER_VER_FOUND" IncludeMinimum="yes"
                        Minimum="1.0.0" IncludeMaximum="no" Maximum="$(var.ProductFileVersion)" />
</Upgrade> 
```

有人知道如何解决这个问题吗？

另一个问题：如果我希望升级只与旧文件交换新文件而不是卸载/重新安装，我需要更改什么？

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-07T15:07:35.377

根据您的主要升级规则，这并不是真正的问题。它更多地与属性不会跨事务持久化这一事实有关。查看：

[记住属性模式](http://robmensching.com/blog/posts/2010/5/2/The-WiX-toolsets-Remember-Property-pattern)

# r - 如何在 XING 和 R 中使用 OAuth

> ID：14198411
> 
> 赞同：4
> 
> 时间：2013-01-07T14:58:35.143
> 
> 标签：r, roauth

我正在尝试使用 ROAuth (v0.9.2) 对 XING API (api.xing.com) 进行身份验证。

```
library(package="RCurl")
library(package="ROAuth")

site <- "https://api.xing.com"
requestTokenPath <- "/v1/request_token"
accessTokenPath <- "/v1/access_token"
authorizePath <- "/v1/authorize"

consumerKey <- "***********"    # blank key for posting
consumerSecret <- "********"    # blank key for posting

requestURL <- paste(site, requestTokenPath, sep="")
accessURL <- paste(site, accessTokenPath, sep="")
authURL <- paste(site, authorizePath, sep="")

credentials <- OAuthFactory$new(consumerKey=consumerKey,
    consumerSecret=consumerSecret,
    requestURL=requestURL,
    accessURL=accessURL,
    authURL=authURL,
    needsVerifier=TRUE)

credentials$handshake(ssl.verifypeer=FALSE)  # skip ssl verification for testing, this is passed through to RCurl 
```

输出：

```
Error in credentials$handshake(ssl.verifypeer = FALSE) : 
  Invalid response from site, please check your consumerKey and consumerSecret and try again. 
```

我仔细检查了我的密钥和 URL，所以我很确定这不是错误的原因。

1.  谁能告诉我我做错了什么？
2.  有没有办法提取服务器请求和响应以进行错误分析？

谢谢，克里斯

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-18T12:14:10.113

我建议使用`httr`Hadley Wickham 的包，因为我发现它在处理 API 时特别有用。并且不要忘记仔细阅读所有相关文档...

看起来 XING 使用 OAuth v1，因此请查看相关的 httr 文档

我不确定你是否已经知道这一点……但这有点像一个两阶段的过程……

首先，您将您的消费者密钥和秘密发送给 XING，XING 将返回给您一个令牌。

然后与所有三个：

1）消费者密钥，2）消费者秘密和3）刚刚提供的令牌

你能访问 XING 设置的所有 API 调用吗……你可能需要 XML 来有效地解释响应。

不确定这是否可行，但大致如下：

```
require(httr)
xing.app <- oauth_app("xing",key="xxxxxxxxxx", secret="xxxxxxxxxxxxxxx")
xing.urls <- oauth_endpoint(NULL, "authorize", "access_token",base_url = "https://api.xing.com/v1/")
xing.token <- oauth1.0_token(xing.urls, xing.app)
xing.token 
```

该令牌`xing.token`用于该唯一密钥和秘密组合，即该用户......但是一旦你拥有它......你不需要继续请求它......你可以将它存储在你的 .Rprofile 文件或其他东西中...然后将其作为 GET 或 POST 命令中的一个选项。

```
user.signature <- sign_oauth1.0(xing.app, token = token.string.from.xing.token, token_secret = token.secret.from.xing.token)

# so I think as an example you can have this...
id <- "yyyyyyy"
GET(url= paste0("https://api.xing.com/v1/users/",id), config=user.signature) 
```

希望对您有所帮助....代码中可能存在一些错误，因为我没有您的使用者密钥或秘密，因此未经测试。我还没有完全阅读文档，但我认为它不会太远......请随时进行更正......当你实际测试它时......

出于好奇...您使用 API 做什么？

# css - 插件实例在 Webkit 中更改其“位置”样式属性时被删除

> ID：14198418
> 
> 赞同：0
> 
> 时间：2013-01-07T14:59:02.363
> 
> 标签：css, webkit, npapi

我正在为一个奇怪的（Webkit 特有的？）效果而苦苦挣扎：
当更改插件对象的“位置”属性时，我的插件被删除并立即被另一个新实例化的插件替换。

这意味着我将丢失当前插件的所有状态并重新开始一个新插件。

我不知道这是否是特定于 Webkit 的，因为我的插件只能在我们的嵌入式平台上运行。

这是代码：

```
<object id="mypluginobject" type="video/myplugin" style="width=800px, height=600px"> 
```

在javascript中，我这样做：

```
var myobject = $('mypluginobject');
myobject.style.width = '1280px'; // OK
myobject.style.height= '720px'; // OK
myobject.style.position='fixed'; // myobject disapears and is replaced by a new instance 
```

在 NPAPI 代码中，我可以看到被`NPN_Destroy()`调用的，紧随其后的是`NPN_New()`，都具有相同的`NPP`指针。

这让我想知道为什么这个“位置”属性似乎会触发我的对象的完全替换。

现实生活中发生的情况是，我丢失了所有运行时信息，视频停止，我无法恢复。我知道我的平台非常奇特，所以所有这些可能会有副作用：

*   网络套件 322
*   在 Qt 4.7.2 上运行
*   在 DirectFB 上

任何的想法？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-08T00:41:11.277

不幸的是，这在所有浏览器上都是非常标准的。您遇到的问题是，当您更改“位置”时，它会更改对象所在的容器；通过这样做，您实际上会导致浏览器（内部）将其从页面中删除，然后将其重新添加。

您可以通过更改某些浏览器上的“可见性”或“显示”来导致完全相同的问题。“溢出”也将非常普遍地触发这一点。在某些情况下，将高度和宽度设置为小于 1px x 1px 也是一个类似的坏主意。插件不好玩吗？

在对象及其父元素上避免这些东西，你会没事的。我使用的解决方法是在需要移动插件时始终对插件本身进行绝对定位，然后我使用 jquery 来计算“定位”元素的大小和位置，我会做任何我通常想做的事情。它可以移动，并且任何时候（或在事件或计时器上）我都会计算新位置并将对象标签的浮动绝对定位父 div 重新定位到新位置。这有点骇人听闻，特别是如果您想修复它，但这是我知道解决问题的唯一方法。

我想你也可以让你的插件擅长恢复它的状态，当然，这样它什么时候被删除和重新加载都没有关系。=]

# html - 长字符串与 div 对齐/格式混淆

> ID：14198435
> 
> 赞同：0
> 
> 时间：2013-01-07T14:59:58.823
> 
> 标签：html, css

我有一个用户列表。现在，任何具有长名称的用户都在弄乱对齐/编队。

我认为通过为名称设置大小可以解决问题：

```
.invitee .name{
  height: 50px;
  width: 115px;
  text-align: center;
} 
```

......不是这样。

我做了一个[小提琴](http://jsfiddle.net/B92LW/7/)来告诉你我的意思。

我该如何解决？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-07T15:12:53.167

您的受邀者类有一个内联块 css。默认情况下充当内联元素的元素与中心垂直对齐，您可以添加：

```
.invitee {vertical-align:top} 
```

然后你可以删除高度。

[http://jsfiddle.net/B92LW/23/](http://jsfiddle.net/B92LW/23/)

PD：inline-block 在 IE7 等旧浏览器中不起作用。您可以尝试添加此 hack：

```
.invitee {
  display:inline-block; *display:inline; *zoom:1
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-07T15:04:01.773

你可以使用溢出： `overflow:hidden;`

这将隐藏大于该大小的所有内容。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-07T15:05:04.707

试试这样的[http://jsfiddle.net/enve/B92LW/9/](http://jsfiddle.net/enve/B92LW/9/)

首先定义高度`.invitee`并添加`position: absolute`到`.name`

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-07T15:07:35.547

添加这个：

```
white-space: nowrap; 
```

# javascript - JS原型函数'this'混淆

> ID：14198439
> 
> 赞同：0
> 
> 时间：2013-01-07T15:00:13.940
> 
> 标签：javascript, prototype

我在 nodejs 中使用 JSON-RPC 库。我按名称注册我的函数（例如`rpc({publicName: privateFunction})`），RPC 库为我调用函数并处理 JSON 和函数参数的编组。它适用于简单的函数，但是当我向它传递一个原型函数（在对象的原型链上定义的函数）时它会中断。问题是 RPC 库正在调用`apply`更改上下文的函数，`this`因此我无法再访问其他原型属性/函数。

这是问题的一个例子：

```
var MyObj = function(prop1,prop2,prop3){
    this.prop1 = prop1;
    this.prop2 = prop2;
    this.prop3 = prop3;
}

MyObj.prototype.showProps = function(separator){
    console.log(this.prop1 + separator + this.prop2 + separator + this.prop3);
}

var myObjInstance = new MyObj('a', 'b', 'c');
myObjInstance.showProps(',');

// displays a,b,c

// I register the function as rpc({show_props:myObjInstance.showProps}) and the RPC lib calls it like
myObjInstance.showProps.apply(this, [',']);

// displays undefined,undefined,undefined 
```

有没有更好的技术来解决这个问题？有没有办法保留`this`原型函数内部的上下文？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-07T15:03:16.040

您可以使用[`Function.bind()`](https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/Function/bind)将特定上下文绑定到函数。它并非在所有环境中都可用，但如果您需要旧版支持，可以使用 MDN 页面上的 shim。

因此，在您的示例中，您可以添加：

```
myObjInstance.showProps = myObjInstance.showProps.bind(myObjInstance); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-07T15:02:50.283

在最后一行：

```
myObjInstance.showProps.apply(this, [',']); 
```

`this`指向全局范围（或​​您当时所处的任何范围，它不**指向**）`myObjInstance`。你应该这样称呼它：

```
myObjInstance.showProps.apply(myObjInstance, [',']); 
```

第一个参数是上下文，它应该是你的对象实例。

# excel - 具有精确 OR 值的嵌套 IF 语句

> ID：14198442
> 
> 赞同：3
> 
> 时间：2013-01-07T15:00:39.197
> 
> 标签：excel, function, if-statement, nested

我是 Excel IF 语句的新手，并且在我认为所谓的*嵌套 IF 函数*方面遇到了麻烦。我在这里查看了其他 IF 问题，它们对于我的新手大脑来说太复杂了，无法理解。

我有一列有数字。大约有十几个不同的数字。这些数字代表一个特定的团队。例如，100 是红色团队，101 是黄色团队，102 是绿色团队，等等。我需要创建一个 IF 语句，根据数字告诉我每个团队的情况。我有数百行要过滤，如果存在用于在 Excel 中自动化它的函数，我不想手动执行它们。

我试图编写自己的嵌套 IF 语句，但它不起作用。我究竟做错了什么？

```
=IF(B2="100",red,IF(B2="101",blue,IF(B2="103",green,IF(B2="104",yellow,"")))) 
```

帮助？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-07T15:37:09.377

嵌套`IF`语句绝对令人费解，至少根据我的经验，我仍然感到困惑 :) 您还会遇到某些 Excel 版本的问题，其中`IF`允许的嵌套数量是有限的。与此相结合，它们变得难以调试添加的更多嵌套级别。关于您当前的公式，@DaveSexton 将字符串更改为数字（删除引号）的建议应该会有所帮助。此外，请确保您在公式**中**引用您的颜色值，因为使用`red`(and not `"red"`) 会导致`#NAME?`错误（假设您尚未定义`red`）。

在你的情况下，你有没有想过尝试一个`VLOOKUP`公式？您可以设置一个包含团队编号和相应团队名称的表格，而不是在公式本身中对团队名称进行硬编码：

![在此处输入图像描述](../Images/36823c6364658653c3d933284645831b.png)

这里的公式（在列中`B2`）是：

```
=VLOOKUP(A2,$D$2:$E$6,2,FALSE) 
```

这样做是查看单元格`A2`，然后转到范围内的表格`D2:E6`，查找`A2`列内的值`D`。当它找到它时，它会返回 column 中的值`E`，这将是团队名称。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-01-07T15:34:23.037

您的单元格包含数字，但您将数字视为公式中的文本。

嵌套 IF 的更好替代方案是 VLOOKUP 或 CHOOSE，如下所示：

```
=VLOOKUP(A1,{100,"Red";101,"Blue";102,"Orange"},2)

=CHOOSE(A1-99,"Red","Blue","Orange") 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-07T15:31:03.853

嗨，我无法访问 excel 来测试它，因为我没有使用 Windows，但尝试以下它应该可以工作：

```
=IF(B1=100,0,IF(B1=101,1,IF(B1=102,2,IF(B1=103,3,IF(B1=104,4))))) 
```

从上面你可以说 0 代表红色 1 代表蓝色等等

# c# - 在带有参数的 MVVM Light 中打开新窗口的最佳实践

> ID：14198443
> 
> 赞同：8
> 
> 时间：2013-01-07T15:00:40.783
> 
> 标签：c#, wpf, mvvm, mvvm-light

我对 mvvm 和 mvvm light 还很陌生，但我想我理解它的一般概念。我不明白的是，如果我想打开一个新窗口，但该窗口需要来自调用者的数据，将这些数据放入新窗口的最佳做法是什么？如果我将数据传递给构造函数，那么这意味着我需要后面代码中的代码将其传递给视图模型。我不能使用消息传递，因为它不是基本数据。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-01-07T15:08:00.180

一种流行的选择是使用将创建视图/视图模型并显示新视图的服务类。您的视图模型构造函数和/或方法/属性可以从调用者接收数据，然后视图将绑定到视图模型，然后再将其显示在屏幕上。

这是一个非常简单的 DialogService 实现：

```
public class DialogService : IDisposable
{
    #region Member Variables
    private static volatile DialogService instance;
    private static object syncroot = new object();
    #endregion

    #region Ctr
    private DialogService()
    {

    }
    #endregion

    #region Public Methods
    public void ShowDialog(object _callerContentOne, object _callerContentTwo)
    {
        MyDialogViewModel viewmodel = new MyDialogViewModel(_callerContentOne, _callerContentTwo);
        MyDialogView view = new MyDialogView();
        view.DataContext = viewmodel;

        view.ShowDialog();
    }
    #endregion

    #region Private Methods

    #endregion

    #region Properties
    public DialogService Instance
    {
        get
        {
            if (instance == null)
            {
                lock (syncroot)
                {
                    if (instance == null)
                    {
                        instance = new DialogService();
                    }
                }
            }
            return instance;
        }
    }
    #endregion
} 
```

# android - Android中的应用程序间通信

> ID：14198444
> 
> 赞同：2
> 
> 时间：2013-01-07T15:00:43.963
> 
> 标签：android, android-intent, interprocess

我在一个应用程序中有一个活动，它调用另一个应用程序的活动。如何有意图或任何其他方式来完成。例如在单个应用程序中，我们可以这样做：

```
Intent i = new Intent(this, ActivityTwo.class);
i.putExtra("Value1", "This value is sent by FirstActivity "); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-07T15:05:45.853

为 Second Activity 声明 android action，并通过 Action 名称从 First Activity 调用 Second Activity。有关更多信息，请参见以下示例：

将 AndroidManifest.xml 中的第二个 Activity 声明为

```
<activity android:name=".SecondActivity">
<intent-filter>
<action android:name="com.sample.action.MY_CUSTOM_ACTION"/>
</intent-filter>
</activity> 
```

然后首先安装第二个应用程序并调用 SecondActivity，如下所示：

```
Intent i = new Intent("com.sample.action.MY_CUSTOM_ACTION");
i.putExtra("mystring","Sample Text");//optional.
startActivity(i); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-07T15:05:48.623

您可以使用[Intent.setComponent](http://developer.android.com/reference/android/content/Intent.html#setComponent%28android.content.ComponentName%29)

# facebook - Facebook API 发布到事件墙 cronjob

> ID：14198453
> 
> 赞同：1
> 
> 时间：2013-01-07T15:01:25.963
> 
> 标签：facebook, facebook-graph-api

我有一个 facebook 应用程序，它允许用户创建事件或使用预先创建的事件。每个事件都有一个播放列表。

我需要每天运行一个 cronjob 来检查所有播放列表，并在播放列表不包含任何内容时向事件墙发布提醒。

我是否可以通过这种方式将消息发布到活动墙，因为没有用户身份验证并且我不确定我会如何做到这一点？

谢谢。

# powershell - 反向查找多个IP

> ID：14198463
> 
> 赞同：1
> 
> 时间：2013-01-07T15:02:01.047
> 
> 标签：powershell, nslookup

如果我在计算机上执行以下操作，我会得到两个 IP。现在，我想提取两个 IP，然后对它们进行反向查找 - 即`"nslookup IPADDRESS"`.

如何提取每个条目，然后让它对地址进行反向查找？

```
$computername = gc env:computername
[System.Net.Dns]::GetHostByName($computername) | select AddressList

AddressList                                                                                                                                                  
-----------                                                                                                                                                  
{10.171.80.249, 10.171.80.82} 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-07T15:08:27.167

尝试：

```
[System.Net.Dns]::GetHostByName($computername) | select -expa AddressList |
 select -expa ipaddresstostring | % { nslookup $_ } 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-07T15:08:41.957

只需将您的命令传送到 foreach-object cmdlet：

```
PS>[System.Net.Dns]::GetHostByName($computername) | 
    select AddressList |
    foreach { 
        [System.Net.Dns]::Resolve($_.ToString()) | select hostname
    } 
```

# c# - 通过 C# 中的基本身份验证对 URL 进行静默身份验证

> ID：14198465
> 
> 赞同：0
> 
> 时间：2013-01-07T15:02:04.567
> 
> 标签：c#

我需要构建一个接受特定 URL 作为输入并将网页（全是文本）加载到字符串中的 C# 应用程序。困难在于该 URL 需要基本身份验证才能加载页面。我需要将凭据硬编码到应用程序中；我不能让用户自己输入。我不相信可以将用户名和 p/w 作为 URL 的一部分传递。有没有办法用 C# 静默处理这个问题？

如果不需要身份验证，以下是在非常基本的术语中加载页面的方法：

```
static void Main(string[] args)
{
    if (args.Length == 0)
        return;

    WebClient webclient = new WebClient();
    string output = webclient.DownloadString(args[0]);
    Console.WriteLine(output);
} 
```

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-01-07T15:05:59.513

[基本身份验证](http://en.wikipedia.org/wiki/Basic_access_authentication)只是您对网络服务器的请求中的一个标头。添加`Authorization`标题和正确的值，你很好。

以下是该标头的示例：

```
Authorization: Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ== 
```

`Basic`是必需的，因为您要使用基本身份验证
`QWxhZGRpbjpvcGVuIHNlc2FtZQ==`是*username:password*的 Base64 表示，在这种情况下`Aladdin:open sesame`

使用[`WebClient`](http://msdn.microsoft.com/en-us/library/tt0f69eh%28v=vs.100%29.aspx)该类时，您不必自己编写该标头，您可以[`Credentials`](http://msdn.microsoft.com/en-us/library/system.net.webclient.credentials%28v=vs.100%29.aspx)在调用之前使用该属性`DownloadString`：

```
webclient.Credentials = new NetworkCredential(userName, password); 
```

# php - PHP：获取特定时区的时间，系统所有者无法更改

> ID：14198468
> 
> 赞同：0
> 
> 时间：2013-01-07T15:02:09.973
> 
> 标签：php, time, timezone

我有一个问题要问你们。我目前正在创建某种许可系统，用 PHP 编写。当然，这必须是一个安全的系统，并且应该以多种不同的方式检查许可证。当我需要检查到期日期时遇到了问题。

基本上，我想获取时区的当前时间（GMT +1）。但是，我必须确定这个时间是实时的，并且不能由软件所有者更改。如果许可证过期，所有者应该不能更改服务器上的时钟，或者做其他可以使许可证再次有效的事情。

我正在考虑检查我的服务器，比如发送一个 cURL 请求并从那里检查给定的时间——因为它不能被其他人编辑。在这种情况下，所有者可以只是 IP 阻止我的域/IP，并且他的服务器将无法连接以检查当前时间。当然，当我的网站最近 10 次没有响应时，我可以“终止许可证”。但是，如果我受到 DDoSed/攻击，它当然不会影响到一个好的客户？

那么，在 PHP 中有什么方法可以在 GMT +1 中获取当前的“世界时钟”吗？并且服务器的所有者必须以任何方式无法更改时钟。

想法？代码示例？

谢谢！

**更新**

代码已加密，因此他们无法访问源代码，只能访问加密的源代码。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-07T15:17:13.693

PHP 始终使用可由系统管理员更改的系统时钟。您可以使用 NTP 服务或世界时钟 WebService 来获取当前的世界时间，但因此您必须有互联网连接 - 正如您所说，它*可以*被操纵。

另一个想法：作为服务器管理员，您可能不会操纵生产服务器上的系统时钟来避免许可证过期，因为正确的服务器时间对于包括网络文件系统和身份验证在内的许多应用程序至关重要。

如果客户端没有/可以操作源代码，您可以定期将系统时间记录到数据库或加密文件中，并根据首次运行计算运行时间并检查显着的时间变化。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-07T15:21:43.420

我相信简短的回答是，不可能做你想做的事。

您的客户端可以访问服务器（通过他可以更改服务器时钟并阻止您的主机的语句知道）。

这意味着您的客户可以修改您的源代码或跳过任意环节以丢弃您的许可。

PHP 中的哪一个让您难以篡改您的代码。

您当然可以使用某种混淆工具，并以这种方式处理它。

不过，我的建议是信任您的客户，让他们拥有您的源代码，因为您将以任何方式将其提供给他们，然后不要在没有许可证的情况下向用户推送更新或修复。

如果您需要更多货币化，请务必记下您的支持时间等。

花时间编写功能，而不是 DRM，获得更好的产品，您的客户会很乐意付钱给您！

我希望这对你有用。

# java - GridBagLayout 中的间距问题

> ID：14198470
> 
> 赞同：2
> 
> 时间：2013-01-07T15:02:21.403
> 
> 标签：java, swing, jpanel, jlabel, gridbaglayout

请看下面的代码

```
import java.awt.*;
import java.awt.event.*;
import javax.swing.*;

public class TestForm extends JFrame
{
    private JLabel heightLabel, weightLabel, waistLabel, neckLabel, hipsLabel,bfPercentageLabel;

    private JTextField heightTxt, weightTxt, waistTxt, neckTxt, hipsTxt;

    private JPanel centerPanel;

      public TestForm()
      {
        //Declaring instance variables  
        heightLabel = new JLabel("Height: ");
        weightLabel = new JLabel("Weight: ");
        waistLabel = new JLabel("Waist: ");
        neckLabel = new JLabel("Neck: ");
        hipsLabel = new JLabel("Hips: ");        
        bfPercentageLabel = new JLabel("The Orginal Test Score Is: ");

        heightTxt = new JTextField(7);
        weightTxt = new JTextField(7);
        waistTxt = new JTextField(7);
        neckTxt = new JTextField(7);
        hipsTxt = new JTextField(7);

        this.add(createCenterPanel(),"Center");
        this.add(new JPanel(),"West");
        this.add(new JPanel(),"East");
        this.setTitle("The Test Form");
        this.setResizable(false);
        this.pack();
        this.setLocationRelativeTo(null);
        this.setVisible(true);
        this.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);

    }

    private JPanel createCenterPanel()
    {
        centerPanel = new JPanel();

        GridBagLayout gbl = new GridBagLayout();
        GridBagConstraints gbc = new GridBagConstraints();

        centerPanel.setLayout(gbl);

        gbc.gridx = 1;
        gbc.gridy = 1;
        gbc.fill = GridBagConstraints.BOTH;
        gbc.insets = new Insets(15,0,0,0);
        centerPanel.add(heightLabel,gbc);

        gbc.gridx = 2;
        gbc.gridy = 1;
        gbc.fill = GridBagConstraints.BOTH;
        gbc.insets = new Insets(15,0,0,0);
        centerPanel.add(heightTxt,gbc);

        gbc.gridx = 3;
        gbc.gridy = 1;
        gbc.fill = GridBagConstraints.BOTH;
        gbc.insets = new Insets(15,10,0,0);
        centerPanel.add(weightLabel,gbc);

        gbc.gridx = 4;
        gbc.gridy = 1;
        gbc.fill = GridBagConstraints.BOTH;
        gbc.insets = new Insets(15,-10,0,0);
        centerPanel.add(weightTxt,gbc);

        gbc.gridx = 1;
        gbc.gridy = 2;
        gbc.fill = GridBagConstraints.BOTH;
        gbc.insets = new Insets(15,0,0,0);
        centerPanel.add(waistLabel,gbc);

        gbc.gridx = 2;
        gbc.gridy = 2;
        gbc.fill = GridBagConstraints.BOTH;
        gbc.insets = new Insets(15,0,0,0);
        centerPanel.add(waistTxt,gbc);

        gbc.gridx = 3;
        gbc.gridy = 2;
        gbc.fill = GridBagConstraints.BOTH;
        gbc.insets = new Insets(15,10,0,0);
        centerPanel.add(neckLabel,gbc);

        gbc.gridx = 4;
        gbc.gridy = 2;
        gbc.fill = GridBagConstraints.BOTH;
        gbc.insets = new Insets(15,-10,0,0);
        centerPanel.add(neckTxt,gbc);

        gbc.gridx = 5;
        gbc.gridy = 2;
        gbc.fill = GridBagConstraints.BOTH;
        gbc.insets = new Insets(15,7,0,0);
        centerPanel.add(hipsLabel,gbc);

        gbc.gridx = 6;
        gbc.gridy = 2;
        gbc.fill = GridBagConstraints.BOTH;
        gbc.insets = new Insets(15,5,0,0);
        centerPanel.add(hipsTxt,gbc);

        gbc.gridx = 1;
        gbc.gridy = 5;
        gbc.fill = GridBagConstraints.BOTH;
        gbc.insets = new Insets(50,0,0,0);
        centerPanel.add(bfPercentageLabel,gbc);

        centerPanel.setBorder(BorderFactory.createTitledBorder("The Testing Form"));

        centerPanel.setPreferredSize(centerPanel.getPreferredSize());
        centerPanel.validate();

        return centerPanel;

    }

    public static void main(String[]args)
    {
        try
        {
            UIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());
            new TestForm();
        }
        catch(Exception e)
        {
            e.printStackTrace();
        }

    }
} 
```

当我运行这个程序时，我得到以下信息。

![这就是我得到的](../Images/ce3b07947d61dccbf7811535182fcd5e.png)

`heightLabel`在那里，您可以看到和之间的距离`heightTxt`。和`waistLabel`和`waistTxt`。这个巨大的差距是因为 JLabel `bfPercentageLabel`。它包含很多字母，然后是其他字母，因此它使这个间隙适合`bfPercentageLabel`宽度。

但是，这不是我期望的 JLabels 之间的差距，除了`bfPercentageLabel`. 如果我删除它`bfPercentageLabel`，间距问题就消失了，它变得正常，如下图所示。

![这是我想要的这些 JLabel 之间的差距](../Images/bf1e99585ca848671343a06058cd3fb9.png)

我希望所有 JLabels`heightLabel, weightLabel, waistLabel, neckLabel, hipsLabel`和 JTextFields`heightTxt, weightTxt, waistTxt, neckTxt, hipsTxt`保持相同的格式，使用第二张图像中显示的相同间距，即使宽度`bfPercentageLabel`更大。让`bfPercentageLabel`他们拥有它需要的空间，但让其他人保持原样。我怎样才能做到这一点？请帮忙！

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-01-07T15:08:14.537

对于您的最后一个标签（长标签），只需将以下内容添加到`GridBagConstraint`：

```
gbc.gridwidth = 6; 
```

# php - 奇怪的变量行为 PHP

> ID：14198471
> 
> 赞同：1
> 
> 时间：2013-01-07T15:02:22.637
> 
> 标签：php

这段代码的行为与我预期的不同：

```
$flash_messages = $_SESSION['flash'];

$_SESSION['flash'] = array();

return $flash_messages; 
```

我想要`$flash_messages`保存`$_SESSION`变量的值。但是，当我将其更改`$_SESSION`为空白数组时，闪存消息也会作为空白数组返回。到底是怎么回事？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-07T15:04:12.103

我不确定，但请检查您`register_global`在 php.ini 中的值

# gwt - GWT 和 j_security_check 302 发现重定向

> ID：14198472
> 
> 赞同：0
> 
> 时间：2013-01-07T15:02:23.120
> 
> 标签：gwt, get, j-security-check

我有一个使用 java 安全性进行身份验证和授权的 Web servlet。当我通过浏览器使用 GET /j_security_check?j_username=a&j_password=b 验证自己时，一切正常。

另一方面，当我尝试使用 GWT 通过 RequestBuilder 访问相同的 URL 时，我从 Web 服务器收到 302 found 响应，并且我被重定向到根页面，然后是 jsessionid 变量（www.myurl.com ;jsessionid=blabla)。

行为不应该相同吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-08T18:43:26.063

我不太确定你的方法。我们倾向于使用 Login.jsp（客户端提交）---> Servlet 过滤器身份验证 - Servlet 使用 jsession id 设置服务器会话 ---> 成功时应用程序被重定向到 GWT 模块 html 文件。

所有后续通信都通过 RPC（如果您想安全，则为 XSRF 令牌），另外还通过 https 层。

# c# - ASP.NET ImageHandler 能否输出一个 Url 的内容

> ID：14198474
> 
> 赞同：0
> 
> 时间：2013-01-07T15:02:24.493
> 
> 标签：c#, asp.net, webforms, httphandler

我有一个使用 ImageHandler 输出图像的 asp.net Web 表单应用程序。基本上是为了防止盗取，但也是为了从另一台服务器获取图像文件。

下面是 ProcessRequest 的实现：

```
public void ProcessRequest(HttpContext ctx)
    {
        HttpRequest req = ctx.Request;
        string path = req.PhysicalPath.ToLower();
        string extension = Path.GetExtension(path);

        if (req.UrlReferrer != null && req.UrlReferrer.Host.Length > 0)
        {
            if (CultureInfo.InvariantCulture.CompareInfo.Compare(req.Url.Host, req.UrlReferrer.Host, CompareOptions.IgnoreCase) != 0)
            {
                path = ctx.Server.MapPath("~/images/noimage.jpg");
            }
        } 

        // Rewrite path if not in production
        if (imagePath != null)
        {
            if (path.Length > path.IndexOf("\\images\\", StringComparison.Ordinal) + 7)
            {
                string end = path.Substring(path.IndexOf("\\images\\", StringComparison.Ordinal) + 7);
                path = string.Concat(imagePath, end).Replace("\\", "/");
            }
        }

        string contentType;

        switch (extension)
        {
            case ".gif":
                contentType = "image/gif";
                break;
            case ".jpg":
                contentType = "image/jpeg";
                break;
            case ".png":
                contentType = "image/png";
                break;
            default:
                throw new NotSupportedException("Unrecognized image type.");
        }

        if (!File.Exists(path))
        {
            ctx.Response.Status = "Image not found";
            ctx.Response.StatusCode = 404;
        }
        else
        {
            ctx.Response.StatusCode = 200;
            ctx.Response.ContentType = contentType;
            ctx.Response.WriteFile(path);
        }
    } 
```

上面的代码失败是因为我想将路径重写为 url 而不是文件路径。我想重写的原因是因为实际的图像文件在另一台服务器上，不能通过 UNC 路径访问。我做错了什么，有可能做到这一点吗？

干杯

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-07T15:24:24.003

When you are on the call for this handler - then you do not have any more the ability to rewrite your path as I see that you try to do.

The rewrite path is to say to IIS and asp.net that a call for example to `http://www.url.com/one/page1.aspx` is served by the `http://www.url.com/someotherpage.aspx?id=one`

You are all ready not on the final processing of your data, there you must read the file and send it to the browser, for example as:

```
 public void ProcessRequest(HttpContext context)
    {
      // your first code
      // ...
       if (!File.Exists(path))
        {
            ctx.Response.Status = "Image not found";
            ctx.Response.StatusCode = 404;
        }
        else
        {
            // load here the image 
            ....
            // and send it to browser
            ctx.Response.OutputStream.Write(imageData, 0, imageData.Length);
        }
    } 
```

# servicestack - 为什么ServiceStack会抛出“序列包含多个匹配元素”？

> ID：14198476
> 
> 赞同：1
> 
> 时间：2013-01-07T15:02:26.583
> 
> 标签：servicestack

我一直在尝试一个相当简单的 ServiceStack 服务，并在访问元数据 URL（/xml/metadata?op=Foo, /json/metadata?op =Foo 等）用于特定的 DTO。

DTO 是：

```
[DataContract]
[Route("/foo/{Id}", "PUT")]
public class Foo : IReturn<Foo>, IHasId
{
    [DataMember]
    public int Id { get; set; }

    [DataMember]
    public string Name { get; set; }

    public Foo() {}
} 
```

服务是：

```
public class FooService : Service
{
    private static readonly List<Foo> items = new List<Foo>
    {
        new Foo { Id = 1, Name = "Foo" },
        new Foo { Id = 2, Name = "Bar" }
    };

    public virtual object Put(Foo request)
    {
        var itemToUpdate = items.Find(p => request.Id == p.Id);

        if (itemToUpdate == null)
            throw new HttpError(System.Net.HttpStatusCode.NotFound,
                new ArgumentException(String.Format("{0} with Id {1} does not exist.", typeof(Foo).Name, request.Id)));

        itemToUpdate.PopulateWith(request);

        return request;
    }
} 
```

我已经注释掉了所有其他 DTO 和服务以试图隔离这一点。它似乎来自 ServiceStack 的[BaseMetadataHandler.cs](http://servicestack.googlecode.com/svn/trunk/Common/ServiceStack.Common/ServiceStack.WebHost.Endpoints/Metadata/BaseMetadataHandler.cs)中的 ProcessOperations 调用，具体如下：

```
var operationType = allTypes.Single(x => x.Name == operationName); 
```

我只是不确定为什么这里会有重复的操作（多个具有相同的名称）。有任何想法吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-07T16:04:14.387

这似乎是 3.9.33 之前的 ServiceStack 的问题。一旦我升级，问题就消失了。

# compare - 如何比较两个 c# winforms 解决方案并找出差异？

> ID：14198477
> 
> 赞同：1
> 
> 时间：2013-01-07T15:02:26.367
> 
> 标签：compare, solution

我有两个不同的 winform c# 解决方案，solution_version_240 和 solution_version_241，第二个解决方案出了点问题。

我正在尝试比较每个文件以找出导致新错误的差异，但由于我有很多文件，因此很耗时。

比较每个解决方案的文件以获得差异列表的最佳方法是什么？这可能是很好的教程吗？

# android - 按包名杀死服务

> ID：14198479
> 
> 赞同：0
> 
> 时间：2013-01-07T15:02:36.060
> 
> 标签：android, service

我想知道我是否可以按包名终止服务。我已经从一个应用程序运行服务，我想从另一个应用程序终止该服务。我怎么能这样做？

# c# - 无法从 ReportViewer 控件中选择新数据源

> ID：14198480
> 
> 赞同：1
> 
> 时间：2013-01-07T15:02:39.873
> 
> 标签：c#, asp.net, reporting-services, visual-studio-2012, asp.net-4.0

我正在关注有关*Reporting Services*的 ASP.NET 教程。我正在向我的页面添加一个`ReportViewer`控件。`aspx`从那里我必须选择我想要使用的报告并添加一个新的`Datasource`. 但是添加数据源是我遇到麻烦的地方。

该教程说我必须选择：`Choose Data Sources`从`ReportViewer`然后选择：“新数据源”。但我似乎没有这个选择。

这是来自教程：

![在此处输入图像描述](../Images/4c3c62699b1a997c548ff7620ebeee8e.png)

这就是我所看到的：

![在此处输入图像描述](../Images/4dff134a2924bf1c6ac9d89cd793b5c3.png)

所以现在我坚持这一点。任何人都知道如何解决这个问题>

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-27T13:57:03.060

You are using Visual Studio 2012 but in that tutorial Visual Studio 2010 is used.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-02-18T20:56:10.753

抽签晚了，但这是由于 VS2012 和 VS2013 中存在的缺陷，在[这个问题](https://stackoverflow.com/questions/14961293/visual-studio-2012-crashed-while-adding-data-source-to-report-viewer)中提到。可以通过[此 Microsoft Connect 错误跟踪该问题，并且它在](http://connect.microsoft.com/VisualStudio/feedback/details/812807/visual-studio-crashes-when-selecting-a-report-viewers-datasource)[此 MSDN 博客](http://blogs.msdn.com/b/selvar/archive/2014/01/16/visual-studio-2012-and-2013-crashes-when-you-bind-datasource-to-rdlc-from-report-viewer-web-control.aspx)上提到的解决方法也应该适用于这种情况

或者，在文件 -> 新网站 (Alt+Shift+N) 下找到的*网站*项目不会出现此问题，这可能适用于教程目的

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2017-07-07T16:13:37.167

迟到总比没有好，我遇到了同样的问题，并通过安装 reportviewer 运行时设法解决：[https ://www.microsoft.com/en-gb/download/details.aspx?id=35747](https://www.microsoft.com/en-gb/download/details.aspx?id=35747)

现在我可以选择在 Visual Studio 中创建一个新的数据源，希望这对某人有所帮助

# php - php在codeigniter sess_time_to_update中重新生成会话ID的好处是什么

> ID：14198481
> 
> 赞同：0
> 
> 时间：2013-01-07T15:02:40.113
> 
> 标签：php, codeigniter, sessionid

> **可能重复：**
> [登录后重新生成会话 ID 是一种好习惯吗？](https://stackoverflow.com/questions/6136240/is-regenerating-the-session-id-after-login-a-good-practice)

像在 codeigniter 中那样重新生成会话 id 有什么好处。

Codeigniter 使用其选项 sess_time_to_update 来设置重新生成会话 ID 的间隔。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-07T15:06:10.527

主要优点是从安全角度来看，可以防止攻击者的“会话锁定”并最小化他的攻击窗口。

# html - 生成 HTML 而不是 XML 或

> ID：14198483
> 
> 赞同：-2
> 
> 时间：2013-01-07T15:02:49.083
> 
> 标签：html, xml, ajax

尝试解析一些 XML，然后将特定部分插入到各种 HTML 元素中。

我正在使用 innerHTML 例程，每当我插入`<br>`标签、格式化为XML 文档`<br />`或`<br></br>`在 XML 文档中时，它都会自动忽略`/`并将其格式化为`<br>`

XML 源：

```
&lt;br /&gt; 
```

我尝试了各种方法，例如用`/`HTML 字符代码替换 ，但它仍然插入`<br>`.

**我想要`<br />`或者`<br></br>` 为什么这不起作用？**

编辑：

XML 文件：

```
<?xml version="1.0" encoding="iso-8859-1"?>
<questionContainer>

    <title>What is this?</title>

    <body>
    &lt;br /&gt;
    This is the login form to access the KayPop beta. New beta testers are accepted weekly, find our more or... 

    &lt;br / &gt;&lt;br / &gt;
    &lt;a href="#"&gt;Sign up here!&lt;/a&gt;
    </body>

</questionContainer> 
```

Javascript 例程：

```
function insertXML()
    {
        $.ajax ({
            type: "GET",
            url: 'cd_catalog.xml',
            dataType: "xml",
            success: function( xml )
            {           
                $(xml).find('questionContainer').each(function(){
                    var title = $(this).find('title').text();
                    document.getElementById('q-T').innerHTML = title;

                    var bodyText = $(this).find('body').text();
                    document.getElementById('q-B').innerHTML = bodyText;
                });
            }
        });
    } 
```

生成的 HTML（在 Chrome -> Inspect Element 中查看）：

[http://i.imgur.com/0bq3q.png](http://i.imgur.com/0bq3q.png)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-07T15:09:20.057

浏览器在内存中保存 DOM 的表示。

当您阅读`innerHTML`时，它会将 DOM 序列化为 HTML。

没有办法让浏览器将其序列化为 XHTML，或者在有多种表示某事物的方式时控制它将使用哪种 HTML 语法（即，您不能声明对`<p id=1>`over的偏好，`<p id="1">`反之亦然（同上`<br>`，`<br />`）`<br></br>`。

如果您想要 XHTML，您将需要遍历 DOM 中的节点并自己将它们呈现为 XHTML。

# java - 输入的文本没有被写入java中的文件

> ID：14198490
> 
> 赞同：2
> 
> 时间：2013-01-07T15:03:17.990
> 
> 标签：java

```
String str;
String path = "E:/progs/a.txt";

BufferedReader br = new BufferedReader(new InputStreamReader(System.in));
PrintWriter pw = new PrintWriter(path);

while(true)
{
    System.out.print("Enter the words : ");
    str = br.readLine();
    if(str.equalsIgnoreCase("exit"))
        break;
    else
        pw.println(str);
} 
```

我输入的文本没有写入路径中指定的文件名 a.txt....我可以知道原因吗

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-07T15:03:53.637

你没有关闭`PrintWriter`。使用`pw.close();`.

始终确保在打开文件时关闭文件。

它是一种更好的使用方式

```
finally 
```

这样你就可以最后关闭所有打开的文件..

例如：

```
finally 
```

`{` pw.close(); }

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-07T15:04:54.427

您必须关闭 PrintWriter 并考虑为 if-else 使用大括号。

```
 else {
    pw.println(str);
    pw.close();
   } 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-07T15:18:32.620

您需要将数据刷新到文件

```
else {
pw.println(str);
pw.flush();
pw.close(); 
```

}

# sql-server - SQL Server @@SERVERNAME 返回旧机器名？

> ID：14198491
> 
> 赞同：36
> 
> 时间：2013-01-07T15:03:23.733
> 
> 标签：sql-server, sql-server-2008-r2

我刚刚在我的 SQL Server 2008 R2 中偶然发现了一个问题 - 当我调用 时`@@SERVERNAME`，它返回的是我旧计算机的机器名称，而不是当前的机器名称。为什么是这样？我该如何解决？SQL Server 不知何故记住了旧的机器名称。

* * *

## 回答 #1

> 赞同：63
> 
> 时间：2013-01-07T15:08:58.620

这是众所周知的和记录在案的，请参阅[重命名承载 SQL Server 独立实例的计算机](http://msdn.microsoft.com/en-us/library/ms143799.aspx)：

> 当您更改运行 SQL Server 的计算机的名称时，新名称会在 SQL Server 启动过程中被识别。您不必再次运行安装程序来重置计算机名称。相反，请使用以下步骤更新存储在 sys.servers 中并由系统函数 @@SERVERNAME 报告的系统元数据：

```
sp_dropserver <old_name>;
GO
sp_addserver <new_name>, local;
GO 
```

您还可以使用[`SERVERPROPERTY('MachineName')`](http://msdn.microsoft.com/en-us/library/ms174396.aspx)which 保证始终返回更新后的名称：

> **MachineName**运行服务器实例的 Windows 计算机名称。对于群集实例，即在 Microsoft 群集服务上的虚拟服务器上运行的 SQL Server 实例，它返回虚拟服务器的名称。

`SERVERPROPERTY('ComputerNamePhysicalNetBIOS')`将返回集群中的当前活动节点，或与非集群实例上的“MachineName”相同的值。

编辑（由第 3 方）添加 WEFX 的评论，以防有人错过：

> 此外，您需要重新启动 SQL 服务（或重新启动 SQL Server）才能`SELECT @@SERVERNAME`返回准确的（新）服务器名称

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2017-08-17T12:36:55.557

我已经尝试了所有可能的解决方案，但批准的答案对我不起作用。我浏览了一下并想出了完美的解决方案。我希望有人觉得这很有帮助。

**1) Window + R**键打开注册表。输入**注册表**

2) 转到***HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Microsoft SQL Server***你会看到很多编号的目录 ( 100,120,130 ....)

或者

您只需在注册表编辑器的地址栏中键入***“Computer\HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Microsoft SQL Server\”***

3）浏览所有编号的目录，看看你是否可以在里面找到“**机器**”目录

4) 找到“ **Machines** ”后，将**OriginalMachineName**键更改为您想要的服务器名称。这实际上是第一次安装 Windows 时的原始机器名称。

PS：我的路径是 OriginalMachineName > *Computer\HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Microsoft SQL Server\130\Machines*

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2014-11-10T09:11:58.153

有时`There are still remote logins or linked logins for the server 'yourServerName'`运行时可能会出错`sp_dropserver 'oldServerName';`

如果您遇到此类错误，请尝试运行`sp_dropserver 'oldServerName', 'droplogins';`。

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2013-01-07T15:07:44.733

我怀疑这是因为该实例是默认安装并且当时继承了机器名称并保留了它。尝试这个？

```
SELECT SERVERPROPERTY('MachineName') 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2013-01-07T15:09:36.700

[sp_addserver](http://msdn.microsoft.com/en-en/library/ms174411.aspx)将修复它.....

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2021-11-16T09:50:36.250

对于托管 SQL Server 默认实例的重命名计算机，请运行以下过程：

```
EXEC sp_dropserver '<old_name>';  
GO  
EXEC sp_addserver '<new_name>', local;  
GO 
```

重新启动 SQL Server 实例。

对于承载 SQL Server 命名实例的重命名计算机，请运行以下过程：

```
EXEC sp_dropserver '<old_name\instancename>';  
GO  
EXEC sp_addserver '<new_name\instancename>', local;  
GO 
```

* * *

## 回答 #7

> 赞同：-1
> 
> 时间：2019-01-30T20:42:42.513

就我而言，我不能放弃**旧**名称；我可以根据需要重新启动 MSSQL 或 VM，`@@SERVERNAME`继续返回旧名称，而其他所有方法（包括`SERVERPROPERTY('SERVERNAME')`）都返回新名称，这会导致各种问题。原来删除**新**名称并重新添加它（当然还要重新启动 MSSQL）解决了这个奇怪的问题：

```
sp_dropserver <new_name>; GO
sp_addserver <new_name>, local; GO 
```

# ajax - 让 Ajax 工作的问题

> ID：14198492
> 
> 赞同：0
> 
> 时间：2013-01-07T15:03:25.157
> 
> 标签：ajax, jsf, primefaces

我在让 Ajax 正常工作时遇到了很多问题。我的 xhtml 文件的一部分如下：

```
<h:panelGrid columns="3">   
    <h:outputText value="Name of photometric system: "/>   
    <h:inputText size="20" id="namePhotSystem" value="#{filters.photometricSystem}"/>   
    <h:commandButton type="button" value="File Format" onclick="openPopup(570,570,'htmlPopup/fileFormat');" styleClass="longButton"/>   
    <h:commandButton value="Update Number of Filters">   
        <f:ajax event="mouseup" execute="@this" listener="#{filters.updateNumFilters}" render="fileTable"/>   
    </h:commandButton>   
    <h:inputText size="4" id="numFilters" value="#{filters.numUserDefined}"/>   
    <h:commandButton value="Clear List" styleClass="longButton">   
        <f:ajax execute="@this" listener="#{filters.reset}" render="numFilters fileTable"/>   
    </h:commandButton>   
</h:panelGrid>   

<h:panelGrid id="uploadDisplay" rendered="#{filters.showUploadList}">   
    <p:dataTable id="fileTable" value="#{filters.uploadList}" var="up">   
        <p:column>       
            <h:outputText value="#{up.fileNumb}"/>   
        </p:column>   

        <p:column>        
            <h:outputText value="#{up.fileName}"/>   
        </p:column>   

        <p:column>   
            <h:outputText value="#{up.fileMess}"/>   
        </p:column>   
    </p:dataTable>   
</h:panelGrid> 
```

基本上，当您在输入中输入一个数字`id="numFilters"`并单击按钮`"Update Number of Filters"`时，它应该使用`id="fileTable"`或等效地显示表格`id="uploadDisplay"`，然后当您单击下一步按钮`"Clear List"`时，它应该将输入重置`id="numFilters"`为零并禁用显示桌子。现在我不关心“更新过滤器数量”之前的代码。

在我添加 Ajax 之前，这一切都正常工作，数据表显示与输入字段中的数字相对应的条目数，当我单击上述两个按钮中的任何一个时，显示已正确更新。但是，整个屏幕“翻转”，显示的其他内容不再以我想要的方式呈现。事实上，这个 xhtml 文件包含在一个被查看的主文件中。

我尝试过以各种方式添加 Ajax，其中一种是在这里，但是我无法让它正常工作，要么整个屏幕“翻转”，要么页面没有正确更新，或者根本没有.

在我的 bean 中，我只有两个 Ajax 操作，如下所示：

```
public void updateNumFilters(AjaxBehaviorEvent e) {   
    // Code to set things up   
}   

public void reset(AjaxBehaviorEvent e) {   
    // Code for resetting things   
} 
```

`ActionEvent`在添加 Ajax 之前，这两种方法在每种情况下都被触发，并且`actionListener`对于两个命令按钮都有一个，它可以正常工作。对于这两种方法我只是改成`ActionEvent`，`AjaxBehaviorEvent`否则都是一样的。

如果有人能帮我解决这个问题，我将不胜感激。我仍在学习如何使用 Ajax，并且很难理解为什么它不能正常工作，以及如何修复它。

* * *

好吧，我尝试了 p:commandButton，但仍然无法正常工作。

我现在减少了显示的代码量，以便更清楚地显示问题。我的 xhtml 代码的相关部分在这里：

```
<h:panelGrid columns="3">   
    <h:selectOneMenu id="filters" value="#{filters.filterSet}" style="height:25px; width:350px;">   
        <f:selectItems value="#{filters.filtersMap}"/>   
    </h:selectOneMenu>   
    <h:outputText value="   " escape="false"/>   

    <h:commandButton id="filterSelect" value="Update Filter Set" styleCass="longButton">   
        <f:ajax listener="#{filters.selectFilterSet}" execute="filters" render="userDefined"/>   
    </h:commandButton>   
</h:panelGrid>   

<h:panelGroup id="userDefined" rendered="#{filters.showUserDefined}">   

    <!-- Code that is rendered here -->   

</h:panelGroup> 
```

bean的相关部分在这里：

```
@ManagedBean(name="filters")   
@SessionScoped  
public class MyFilterBean implements Serializable {   

    private boolean showUserDefined;   

    // Lots of other code   

    public void selectFilterSet(AjaxBehaviorEvent e) {   

        // Initialization code, and determine if showUserDefined is true or false.   

    }   

    public boolean isShowUserDefined() {   
        return showUserDefined;   
    }   

    // Lots of other code and various getters and setters   
} 
```

单击命令按钮时，将触发 Ajax 事件并执行该方法中的代码，但我无法获得基于 isShowUserDefined() 的返回呈现的 xhtml 代码。

当代码是非 Ajax 并且单击命令按钮触发常规动作侦听器时，它可以正常工作，除了我得到一个“页面翻转”，这是不想要的。

如果有人可以帮助我最终解决这个问题，我真的会非常感激。

* * *

非常感谢您的回复，同时我在没有将 h:commandButton 更改为 p:commandButton 的情况下解决了它，尽管在代码的其他地方使用了 PrimeFaces。

这是我的 xhtml 代码的更完整列表，之前发布的代码现在在 #### 和 #### 注释之间更改。但是，我现在在让 Ajax 与菜单选定项一起工作时遇到问题，正如此处代码顶部附近给出的那样。我无法获得命令按钮“更新过滤器集”来正确更新 Ajax 标记给出的组件。我当然可以删除按钮并使用值更改侦听器，但这并不能解决问题。

这是xhtml代码：

```
 <span id="filterDetails" style="display:none;">

    <!-- This displays any warning or error messages -->

    <h:panelGrid>
      <h:outputText value="The input data do not match - possibly a '$' was omitted for user defined filters&lt;br/&gt;"
                    styleClass="error" escape="false" rendered="#{filters.error}"/>
      <h:outputText value="You are not logged in - This only simulates file uploads" rendered="#{!login.loggedIn}"
                    style="color:red; font-weight:bold;"/>
    </h:panelGrid>

    <ui:fragment rendered="#{filters.showUserDefined}">

      <!-- This is the file upload option for user defined filters when showUserDefined is true -->

      <h:panelGrid id="fileUpload">
        <p:fileUpload fileUploadListener="#{filters.upload}" allowTypes="/(\.|\/)txt$/"
                      sizeLimit="10000" update="fileTable" description="Select Text File"
                      disabled="#{!filters.showUploadList}"/>
      </h:panelGrid>

      <!-- This controls the display of user defined filters when showUserDefined is true -->

<!--#### Start of previously listed code that has been changed ####-->

      <h:panelGrid id="photsys" columns="3">
        <h:outputText value="Name of photometric system: "/>
        <h:inputText size="20" id="namePhotSystem" value="#{filters.photometricSystem}"/>
        <h:commandButton type="button" value="File Format" onclick="openPopup(570,570,'htmlPopup/fileFormat');"
                         styleClass="longButton"/>
        <h:commandButton value="Update Number of Filters">
          <f:ajax execute="numFilters" listener="#{filters.updateNumFilters}" render="fileTable"/>
        </h:commandButton>
        <h:inputText size="4" id="numFilters" value="#{filters.numUserDefined}"/>
        <h:commandButton value="Clear List" styleClass="longButton">
          <f:ajax listener="#{filters.reset}" render="numFilters fileTable"/>
        </h:commandButton>
      </h:panelGrid>

      <!-- This generates a table of uploaded user defined filter when showUserDefined is true -->

      <h:panelGrid>
        <p:dataTable id="fileTable" value="#{filters.uploadList}" var="up" styleClass="#{filters.display}">
          <p:column>    
            <h:outputText value="#{up.fileNumb}"/>
          </p:column>

          <p:column>     
            <h:outputText value="#{up.fileName}"/>
          </p:column>

          <p:column>
            <h:outputText value="#{up.fileMess}"/>
          </p:column>
        </p:dataTable>
      </h:panelGrid>

<!--#### End of previously listed code that has been changed ####-->

    </ui:fragment>

    </span>

    <!-- This generates a table of labeled input fields for filters for Option 2 only -->

    <ui:fragment rendered="#{filters.opt2}">
      <table class="filterTable">
        <tr>
          <ui:repeat value="#{filters.filterCells}" var="item" varStatus="status">
            <f:verbatim rendered="#{status.index mod 5 == 0 and status.index gt 0}">
              &lt;/tr&gt;&lt;tr&gt;
            </f:verbatim>
            <td><h:outputText value="#{item.filterPair}" escape="false"/><br/>
            <h:inputText size="4" value="#{item.userInput}"/></td>
          </ui:repeat>
        </tr>
      </table>
    </ui:fragment> 
```

任何想法都会受到欢迎 - 非常感谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-07T18:28:17.450

您可以使用`p:commandButton`JSF**内置**的`h:commandButton`. Primefaces commandButton 默认在 Ajax 中完成他的工作。

```
<p:commandButton actionListener="#{filters.updateNumFilters}" 
update="@form" id="numFilterButton" value="Update Number of Filters"/> 
```

基本上，这样做是在支持 bean 中调用侦听器，然后更新`@form`您想要的元素或任何元素。当然，请确保您将所有内容都放入`h:form`. 查看组件的展示页面。

[http://www.primefaces.org/showcase/ui/commandButton.jsf](http://www.primefaces.org/showcase/ui/commandButton.jsf)

# .net - 如何从内存中释放所有对象

> ID：14198493
> 
> 赞同：0
> 
> 时间：2013-01-07T15:03:37.140
> 
> 标签：.net, dispose

我有几个关于 .NET 中非托管内存使用的问题。

我的情况是我接手了一个失败的大型项目。我实际上正在寻找一些令人讨厌的黑客攻击，只是为了让它继续运行，这样我就可以开始正确调查了。

我确定我的问题是，当我的模块运行时，它没有正确清理。代码中充满了未处理或未处理的 MemoryStream `using`。

所以，我想知道两件事

1）当我的程序停止时，我可以假设所有非托管的东西现在都被 .net 程序忘记了，但仍然活着并且还在踢吗？它最终是如何“死亡”的（除了重新启动）。

2）是否有任何神奇的类说“处理从这个.dll调用的所有东西”？

# iphone - 为什么我要呈现 nil 模态视图控制器？

> ID：14198495
> 
> 赞同：0
> 
> 时间：2013-01-07T15:03:45.313
> 
> 标签：iphone, objective-c, ios, xcode

我收到此错误“应用程序试图在目标上呈现一个零模式视图控制器。” 这是我拥有的代码，如果满足条件，我正在尝试设置，它将更改初始视图控制器。

```
 - (BOOL)application:(UIApplication *)application didFinishLaunchingWithOptions:( NSDictionary *)launchOptions
 {
 if(![[NSUserDefaults standardUserDefaults] boolForKey:@"logged_in"]) {

    ViewControllerOne *vc1 = [[ViewControllerOne alloc]init];
    vc1=[self.storyboard instantiateViewControllerWithIdentifier: @"vc1"];

    [self presentViewController:vc1 animated:YES completion:Nil];

} else {

    ViewControllerTwo *vc2 = [[ViewControllerTwo alloc]init];
    vc2=[self.storyboard instantiateViewControllerWithIdentifier: @"vc2"];

    [self presentViewController:vc2 animated:YES completion:Nil];

}
// Override point for customization after application launch.
return YES;
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-07T15:05:20.917

我使用的是，我认为您缺少`UIWindow`：

```
 - (BOOL)application:(UIApplication *)application didFinishLaunchingWithOptions:(NSDictionary *)launchOptions
{
    self.window = [[UIWindow alloc] initWithFrame:[[UIScreen mainScreen] bounds]];

    self.window.backgroundColor = [UIColor whiteColor];
    [self.window makeKeyAndVisible];

    UIStoryboard *storyboard = [UIStoryboard storyboardWithName:@"Storyboard" bundle:nil];
    UIViewController *mainViewController = [storyboard instantiateInitialViewController];
    self.window.rootViewController = mainViewController;

    return YES;
} 
```

然后你可以替换：

```
[storyboard instantiateInitialViewController]; 
```

和：

```
[self.storyboard instantiateViewControllerWithIdentifier: @"vc1"]; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-07T15:08:06.493

您正在解散`applicationDidFinishLaunching`. 但是 AppDelegate 不是视图控制器，所以没有什么可以忽略的。

启动应用程序时您究竟想消除什么？我想你只是想**展示**正确的 VC，而不是解雇它。

此外，连续制作两个动画通常也不起作用。考虑`animated:NO`改为使用第一个。

# python - 删除特定索引处的字符 - python

> ID：14198497
> 
> 赞同：71
> 
> 时间：2013-01-07T15:03:48.357
> 
> 标签：python

我有一个包含两个“0”（str）的字符串，我只想删除索引 4 处的“0”（str）

我曾尝试调用 .replace 但显然这会删除所有“0”，并且我找不到可以为我删除位置 4 的字符的函数。

有人对我有提示吗？

* * *

## 回答 #1

> 赞同：106
> 
> 时间：2013-01-07T15:04:39.667

使用切片，重建字符串减去要删除的索引：

```
newstr = oldstr[:4] + oldstr[5:] 
```

* * *

## 回答 #2

> 赞同：25
> 
> 时间：2013-01-07T15:08:12.077

作为旁注，`replace`不必移动所有零。如果您只想删除第一个指定`count`为 1：

```
'asd0asd0'.replace('0','',1) 
```

出去：

`'asdasd0'`

* * *

## 回答 #3

> 赞同：18
> 
> 时间：2018-10-31T16:33:00.577

`s`这是我对任何字符串和任何索引的通用解决方案 `i`：

```
def remove_at(i, s):
    return s[:i] + s[i+1:] 
```

* * *

## 回答 #4

> 赞同：6
> 
> 时间：2013-01-07T15:28:41.993

切片有效（并且是首选方法），但如果需要更多操作，则只是一种替代方法（但转换为列表无论如何都不会受到伤害）：

```
>>> a = '123456789'
>>> b = bytearray(a)
>>> del b[3]
>>> b
bytearray(b'12356789')
>>> str(b)
'12356789' 
```

* * *

## 回答 #5

> 赞同：6
> 
> 时间：2013-01-07T17:02:45.497

另一种选择，使用列表理解和连接：

```
''.join([_str[i] for i in xrange(len(_str)) if i  != 4]) 
```

* * *

## 回答 #6

> 赞同：3
> 
> 时间：2019-07-23T08:16:17.450

```
rem = lambda x, unwanted : ''.join([ c for i, c in enumerate(x) if i != unwanted])
rem('1230004', 4)
'123004' 
```

* * *

## 回答 #7

> 赞同：1
> 
> 时间：2019-06-04T02:40:59.763

```
def remove_char(input_string, index):
    first_part = input_string[:index]
    second_part = input_string[index+1:]
    return first_part + second_part

s = 'aababc'
index = 1
remove_char(s,index) 
```

从零开始的索引

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2018-08-29T06:41:56.250

试试这个代码：

```
s = input() 
a = int(input()) 
b = s.replace(s[a],'')
print(b) 
```

# jquery - jquery中的每个方法

> ID：14198508
> 
> 赞同：-2
> 
> 时间：2013-01-07T15:04:06.753
> 
> 标签：jquery

嗨，我在一个 div 中有两个跨度。我想`.sp`在点击时隐藏这个 div，`#hidemain`但我需要检查一个条件：
`both span should be hidden`。
目前，当我运行我的函数时，它会在只隐藏一个跨度时隐藏**主 div 。**

```
 <head>
    <script type="text/javascript">
        $(function(){
            $('a#firsta').click(function(){
                $('#one').hide();
            });

            $('a#firstb').click(function(){
                $('#two').hide();
            });

            $('a#hidemain').click(function(){
                $('.sp').find('span').each(function(){
                    if($(this).is(':hidden')){
                        $('.sp').hide();
                    }
                });
            });
        });
    </script>    
</head>
<body>
    <div class="sp">
        Main
        <span id="one">fist</span>
        <span id="two">Second</span>
    </div>

    <a href="#" id="hidemain">hide main</a><br>
    <a href="#" id="firsta">hide first</a><br>
    <a href="#" id="firstb">hide Second</a>
</body> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-07T15:08:36.573

我想你可能正在寻找这个：

```
 $('a#hidemain').click(function() {
     $('.sp').hide();
     $('.sp').find('span').each(function() {
         if(!$(this).is(':hidden')) {
              $('.sp').show();
         }
     });
 }); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-07T15:15:32.710

尝试这个：

```
 $('a#hidemain').click(function(){
     if(!$('.sp').find('span:visible').length) {
        $('.sp').hide();
     };
 }); 
```

看[这里](http://jsfiddle.net/TKseR/)

它的作用是在你的根元素下寻找一个可见的跨度。如果没有找到，则隐藏 div。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-07T15:16:43.180

据我了解，您想隐藏`<div>`，但只有当所有`<span>`' 都在里面时也被隐藏了。正确的？

您可以这样做：

```
$(function () {
    $('a#firsta').on('click', function(e) {
        $('#one').hide();
        e.preventDefault();
    });

    $('a#firstb').on('click', function(e) {
        $('#two').hide();
        e.preventDefault();
    });

    $('a#hidemain').on('click', function(e) {
        if ($('div.sp span').filter(':visible').length === 0) {
            $('div.sp').hide();
        }
        e.preventDefault();
    });
}); 
```

工作 jsFiddle：http: [//jsfiddle.net/NETKf/](http://jsfiddle.net/NETKf/)

# php - 为什么母版页链接中的“&”无效

> ID：14198511
> 
> 赞同：0
> 
> 时间：2013-01-07T15:04:19.780
> 
> 标签：php, validation, href

我想知道为什么以下链接在 W3schools 验证器中无效。

```
<a href="../anonymous/anonymous.master.php?page=showproduct.php&id=4">Dvds</a> 
```

问题是`&`旁边的`id`。

错误描述为；

```
did not start a character reference. (& probably should have been escaped as &amp;. 
```

我在用`<!DOCTYPE html >`

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-07T15:05:33.357

因为它必须是`<a href="../anonymous/anonymous.master.php?page=showproduct.php&amp;id=4">Dvds</a>`- & 字符在 HTML 中具有特殊含义，所以如果您不编写字符代码，则需要对其进行转义。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-07T15:05:53.023

您必须`&amp;`改用“&”

# javascript - jPlayer 使用“this”获取当前曲目

> ID：14198512
> 
> 赞同：0
> 
> 时间：2013-01-07T15:04:27.113
> 
> 标签：javascript, jquery, object, this, jplayer

我想使用`this`关键字而不是对象名称来获取 jPlayer 当前曲目信息。

我知道我可以像这样捕获当前的轨道位置：

```
var myPlaylist =  new jPlayerPlaylist({
  ready: function(event) {
     $(this).bind($.jPlayer.event.play, function(event) { 
     console.log('myPlaylist.current'+myPlaylist.current);
  });
}); 
```

但我的问题是有什么方法可以使用这样的关键字来捕获它`this`（注意下面的代码不起作用）：

```
new jPlayerPlaylist({
  ready: function(event) {
     $(this).bind($.jPlayer.event.play, function(event) { 
     console.log('this.current'+this.current);
  });
}); 
```

# c# - Using DirectoryServices.AccountManagement, how do I get the e-mail address of an active directory security group?

> ID：14198517
> 
> 赞同：5
> 
> 时间：2013-01-07T15:04:39.463
> 
> 标签：c#, .net, active-directory, directoryservices

I have a security group (pictured below) in active directory that has an e-mail address associated with it. How do I get the e-mail address of the group? The `GroupPrincipal` object does not have any e-mail address properties on it.

This is how I am retrieving all the groups:

```
using (PrincipalContext context = new PrincipalContext(DirectoryContextType, Domain)) {
    using (var groupSearcher = new GroupPrincipal(context)) {
        using (var searcher = new PrincipalSearcher(groupSearcher)) {
            foreach (GroupPrincipal group in searcher.FindAll()) {
                //How do I get the e-mail address?
            }
        }
    }
} 
```

![Security Group](../Images/be42055a7fb9e7151fc2bbb5309ad773.png)

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2019-09-06T16:42:03.867

I just wanted to add this here because I think it might be helpful. The account management library is great for quickly doing things like resetting passwords on AD users or getting common properties. But it definitely doesn't have all of them. What I do is get the Underlying directory object, like so...

```
// Pretend you have a groupprincipal object called 'group' 
// This will get all of the properties of that group object not accounted for in 
// System.DirectoryServices.AccountManagement
DirectoryEntry groupDE = group.GetUnderlyingObject() as DirectoryEntry();
// We all know that a distro group in AD will have at least 1 email address. 
// However, A
// security group will have 0, and since the mail property is of type
// PropertyValueCollection, if you try to access the first member of the collection
// and it has no length, an exception will be thrown. The following code 
// accounts for this problem. 

// Get the mail attribute of the AD object 
PropertyValueCollection group_email_addresses = groupDe.Properties["mail"];
// Make sure there is at least one address
if (group_email_addresses.Count > 0){
   // knowing that you have at least one address, you can access the first entry or 
   // loop and grab all entries on a property, depending on the appropriate use case
   Console.WriteLine(group_email_addresses[0]); 
} 
```

// This concept can be applied to all Principal Objects. Just look for the // GetUnderlyingObject() method to get started!

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-01-07T21:40:21.003

If you want to do this from Account Management you will need to [make a new class that exposes that property](http://www.codeproject.com/Articles/118122/How-to-use-AD-Attributes-not-represented-in-UserPr).

```
[DirectoryObjectClass("group")]
[DirectoryRdnPrefix("CN")]
public class GroupPrincipalsEx : GroupPrincipal
{
    public GroupPrincipalsEx(PrincipalContext context) : base(context) { }

    public GroupPrincipalsEx(PrincipalContext context, string samAccountName)
        : base(context, samAccountName)
    {
    }

    [DirectoryProperty("mail")]
    public string EmailAddress
    {
        get
        {
            if (ExtensionGet("mail").Length != 1)
                return null;

            return (string)ExtensionGet("mail")[0];

        }
        set { this.ExtensionSet("mail", value); }
    }
} 
```

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2017-04-06T23:51:55.950

You need to cast everything as type `UserPrincipal`:

```
var mailList = new List<MailAddress>();
var adDomain = "yourdomain";
var adGroup = "yourgroup";

using (var context = new PrincipalContext(ContextType.Domain, adDomain))
{
    using (var groupContext = GroupPrincipal.FindByIdentity(context, adGroup))
    {
        mailList = groupContext.GetMembers(true)
                               .Cast<UserPrincipal>()
                               .Where(x => !string.IsNullOrEmpty(x.EmailAddress) && !string.IsNullOrEmpty(x.DisplayName))
                               .Select(x => new MailAddress(x.EmailAddress, x.DisplayName))
                               .ToList();
    }

}

return mailList; 
```

# c++ - cv::add 在 openCV 中不起作用

> ID：14198518
> 
> 赞同：1
> 
> 时间：2013-01-07T15:04:40.093
> 
> 标签：c++, opencv

我尝试建立 10 帧的平均值，所以我尝试了：

```
 .....
cv::Mat frame,outf,resultframe1, resultframe2;
VideoCapture cap(1);
cap>> frame;
resultframe1 = Mat::zeros(frame.rows,frame.cols,CV_32F);
resultframe2 = Mat::zeros(frame.rows,frame.cols,CV_32F);
while(waitKey(0) != 27}{
cap>> frame;
if ( waitKey(1) = 'm'){
for (  int j = 0 ; j <= 10 ; j++){  
cv::add(frame,resultframe1,resultframe2);// here crashes the program ????? 
     ....
 } 
```

}

任何想法我该如何解决。提前致谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-07T18:43:04.097

当您在 OpenCV C++ 接口中有可用的运算符时，无需显式调用 add 函数。这是平均指定帧数的方法。

```
void main()
{
    cv::VideoCapture cap(-1);

    if(!cap.isOpened())
    {
        cout<<"Capture Not Opened"<<endl;   return;
    }

    //Number of frames to take average of
    const int count = 10;

    const int width = cap.get(CV_CAP_PROP_FRAME_WIDTH);
    const int height = cap.get(CV_CAP_PROP_FRAME_HEIGHT);

    cv::Mat frame, frame32f;

    cv::Mat resultframe = cv::Mat::zeros(height,width,CV_32FC3);

    for(int i=0; i<count; i++)
    {
        cap>>frame;

        if(frame.empty())
        {
            cout<<"Capture Finished"<<endl; break;
        }

        //Convert the input frame to float, without any scaling
        frame.convertTo(frame32f,CV_32FC3); 

        //Add the captured image to the result.
        resultframe += frame32f;
    }

    //Average the frame values.
    resultframe *= (1.0/count);

    /*
     * Result frame is of float data type
     * Scale the values from 0.0 to 1.0 to visualize the image.
     */
    resultframe /= 255.0f;

    cv::imshow("Average",resultframe);
    cv::waitKey();

} 
```

创建矩阵时始终指定完整类型，例如，`CV_32FC3`而不是 only `CV_32F`。

# svn - SVN：如何签出同一存储库的两个本地副本

> ID：14198520
> 
> 赞同：1
> 
> 时间：2013-01-07T15:04:52.447
> 
> 标签：svn, repository, svn-checkout

我有一个 SVN 控制的 PCB 库，可以在工作和家里使用。文件在我的办公室工作站上签出。

为了能够在家工作，我还需要在连接到办公室工作站的外部 HDD 上签出相同的文件以进行同步并在我的私人 PC 上使用（没有安装 SVN - 不需要连接到公司 SVN 服务器）。

我试着做一个双重结帐，这给了我几十个（imo）不应该有的冲突。

我不确定同步是什么意思。

我不能一直在外置硬盘上工作，因为办公室工作站也可能被我以外的其他人使用——当我和我的外置硬盘不在身边时。

如何签出同一存储库的两个本地副本？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-07T15:08:24.277

您可以签出同一存储库的两个本地副本：

```
svn checkout file:///var/svn/repos/test mine1 
```

然后

```
svn checkout file:///var/svn/repos/test mine2 
```

[http://svnbook.red-bean.com/en/1.7/svn.ref.svn.c.checkout.html](http://svnbook.red-bean.com/en/1.7/svn.ref.svn.c.checkout.html)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-07T15:11:31.513

离开办公室时，每次离开办公室想在家工作时，将整个工作副本文件夹从公司 PC 复制到外部硬盘。如果您在家中进行任何更改，当您再次在办公室时，您会从外部 HDD 提交更改。比您对位于公司 PC 上的工作副本进行“更新”。这样，您始终可以在公司的 PC 上拥有一个功能正常的工作副本，并且您可以在家工作。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-07T15:18:27.540

有两种解决方案：

1.  您可以简单地签入外部 HD 上的新文件夹。这样，您就可以像在第一个位置一样在第二个位置工作。请注意不要混淆结帐并且永远不要忘记提交两者，否则您将最终陷入合并地狱。

2.  您可以使用像[Mercurial](https://www.mercurial-scm.org/)这样的 DCVS来创建去中心化副本。Mercurial 知道如何与 Subversion 对话，它可以创建独立的存储库。

使用第二种方法，您可以在外部硬盘上创建 Mercurial 存储库。使用`push`/`pull`时，它将与上游 Subversion 存储库对话。但是您可以将磁盘带回家，将存储库克隆到您的私人 PC 上（或使用外部硬盘上的副本）。

这还有一个额外的优势，即 Mercurial 允许您在未连接到任何网络时提交您的工作 - Mercurial 将提交信息保存在存储库中，直到您告诉它将更改推送到 Subversion。

有关 Mercurial 的介绍，请看这里：[http ://hginit.com/](http://hginit.com/)

有几种方法可以连接 Mercurial 和 Subversion，请参阅此处以获取优缺点列表：[https ://www.mercurial-scm.org/wiki/WorkingWithSubversion](https://www.mercurial-scm.org/wiki/WorkingWithSubversion)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-07T15:11:40.273

如果我正确理解了问题..您可以为此使用 Dropbox。

将存储库签出到 Dropbox 文件夹中，然后所有文件将与 Dropbox 同步。然后，您可以在您的家庭和工作 PC 上设置 Dropbox，您可以在工作或在家中访问您的文件。

# vb.net - MS Word 页面设置对话框

> ID：14198525
> 
> 赞同：0
> 
> 时间：2013-01-07T15:05:07.120
> 
> 标签：vb.net

我需要有关页面设置对话框的帮助。有什么方法可以使用 vb.net 将一些值传递给 word 中的 openpagedialog。

我的代码是

```
Dim dialog As Word.Dialog = Globals.ThisAddIn.Application.Dialogs(Word.WdWordDialog.wdDialogFilePageSetup)
            dialog.DefaultTab = WdWordDialogTab.wdDialogFilePageSetupTabPaper

            dialog.Show() 
```

当此对话框打开时，我需要自动选择托盘...

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-07T16:14:13.603

我不知道这是否有效，因为我的打印机只有一个托盘。让我知道这是否正确

```
....
Dim wd as Word.Application = new Word.Application()
Dim doc As Word.Document = wd.Documents.open("yourdoc.doc")
doc.PageSetup.FirstPageTray = Word.WdPaperTray.wdPrinterMiddleBin
wd.Visible = true
Dim dialog As Word.Dialog = wd.Dialogs(Word.WdWordDialog.wdDialogFilePageSetup)
dialog.DefaultTab = Word.WdWordDialogTab.wdDialogFilePageSetupTabPaper
dialog.Show()
.... 
```

基本上我将托盘设置在当前文档的 PageSetup 上。当我打开对话框时，托盘是从当前文档数据中选择的。

# c++ - C++：如何理解迭代器并从向量中删除元素

> ID：14198526
> 
> 赞同：0
> 
> 时间：2013-01-07T15:05:08.547
> 
> 标签：c++

我有两个向量。“点”是我原来的点数组。“Chosen”是要从“Points”中删除的点的集合。我想从“选择”中获取唯一的点 ID，将它们分配给迭代器并删除这些点。但不知何故我做不到。

其次，在我研究的示例中，我无法理解迭代器如何链接到确定的向量。希望在您的帮助下，我会理解迭代器。

```
#include <StdAfx.h>
#include <iostream>
#include <vector>
#include <algorithm>
#include <iterator>

using namespace std;
struct SPoint
{
    int id;
    int X;
    int Y;
};

vector<SPoint> points;
vector<SPoint> chosen;
vector<SPoint> cleared;

vector<SPoint>::iterator it;

void print_vect(const vector<SPoint> & vect)
{
    for (int i = 0; i < vect.size(); ++i)
    {
        cout << vect[i].id << " (" << vect[i].X << "," << vect[i].Y << ")"<<endl;               
    }           

    cout << endl;   
}
bool compare(double val1, double val2)
{
    return val1 > val2;
}
void sort_points(vector<SPoint> & vect, char command)
{
    bool cmp_result;
    SPoint temp;
    bool sorted=true;
    for (int i = 0; i < vect.size()-1 ; i++)
    {
        sorted=true;
        for (int j = 1; j <= vect.size()-1; j++)
        {
            switch (command) 
            {
                case 'x': 
                    {
                        cmp_result = compare(vect[j-1].X, vect[j].X); 
                        break;
                    }
                case 'y': 
                    {
                        cmp_result = compare(vect[j-1].Y, vect[j].Y); 
                        break;              
                    }               
                case 'i': 
                    {
                        cmp_result = compare(vect[j-1].id, vect[j].id); 
                        break;              
                    }           
            }

            if (cmp_result)
            {
                sorted = false;
                temp = vect[j-1];
                vect[j-1] = vect[j];
                vect[j] = temp;
            }

        }
        if (sorted) 
        {
            cout << "Sorted:" << endl;
            print_vect(vect);           
            break;
        }
    }
}

int _tmain(int argc, _TCHAR* argv[])
{
    SPoint temp;
    for (int i = 0; i < 10; i++)
    {
        temp.id = i;
        temp.X = i;
        temp.Y = i;
        points.push_back(temp);
    }

    for (int i = 5; i < 10; i++)
    {
        temp.id = i;
        temp.X = i;
        temp.Y = i;
        chosen.push_back(temp);
    }

    cout << "Points:" << endl;
    print_vect(points);
    cout << endl << endl;

    cout << "Chosen:" << endl;
    print_vect(chosen);

    system("pause");

    vector<SPoint>::iterator it;
    for (int i = 0;i < chosen.size(); i++)
    {       
        //points.erase(it);
    }   

    print_vect(points);
    system("pause");

    print_vect(cleared);
    system("pause");
    return 0;
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-07T15:16:15.337

一般来说，修改被迭代的容器是个坏主意。另请注意，如果`Chosen`未排序，它将在`O(Points.size() * Chosen.size())`（+重新分配）中起作用；除了将 Points 中的每个元素与 Chosen 中的每个元素（直到找到或结束）进行比较之外，别无他法。`set`因此，使用（或者，甚至更好，`unordered_set`）作为 Chosen 的容器会是一个更好的主意。*另*请注意，如果`Points`您想从.*`set``list`*

 *您可以传递额外的谓词来`std::sort`按对象的特定字段进行排序 - 您不必自己重新实现排序算法。

要检查向量是否已排序，您可以使用`is_sorted`方法（或者，如果您使用的是旧编译器，请使用`adjacent_find`，如此[处](https://stackoverflow.com/a/2955163/752976)）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-07T15:59:23.847

我将建议一个彻底的改变：不要`std::vector`在这里使用，而是使用`std::map`点`id`作为键和`X`/`Y`坐标作为值：

```
using namespace std;
struct SPoint
{
    int X;
    int Y;
};

map<int, SPoint> points;
vector<int> chosen; // only keeps chosen id's, not complete points

void print_points(const map<int, SPoint> & points)
{
    for (map<int, SPoint>::const_iterator i = points.begin(); i != points.end(); ++i)
    {
        cout << i->first << " (" << i->second.X << "," << i->second.Y << ")"<<endl;               
    }           

    cout << endl;   
}

int tmain(int argc, char* argv[])
{
    SPoint temp;
    for (int i = 0; i < 10; i++)
    {
        temp.X = i;
        temp.Y = i;
        points[i] = temp;
    }

    for (int i = 5; i < 10; i++)
    {
        chosen.push_back(i);
    }

    cout << "Points:" << endl;
    print_points(points);
    cout << endl << endl;

    system("pause");

    for (vector<int>::iterator it = chosen.begin(); it != chosen.end(); it++)
    {       
        points.erase(*it); // erase all points with id corresponding to the current value of chosen
    }   

    print_points(points);
    system("pause");
    return 0;
} 
```*

# soap - 如何确定在 cfhttp SOAP 请求中发送的确切 XML？

> ID：14198529
> 
> 赞同：1
> 
> 时间：2013-01-07T15:05:25.393
> 
> 标签：soap, coldfusion, cfhttp

使用 cfhttp 标记时，我通过 cfhttpparam 包含正文 + 标头。

由于 Coldfusion 在发送 XML 之前将其融合在一起的方式，我在另一端遇到了语法错误。

我需要一个临时 CFC，我可以将我的呼叫定向到进行测试，它将向我显示我正在发送的确切 XML。

**如何确定 cfhttp 请求中发送的确切 XML？**

我试过 getHttpRequestData() 但这个方法返回一个结构而不是我正在寻找的语法。

* * *

这个问题有一个类似的主题，但没有解决我的具体需求。 [查看cfhttp请求](https://stackoverflow.com/questions/3515452/view-cfhttp-request)

```
<!--- Define Header --->
<cfsavecontent variable="soapHeader">
<cfoutput>
<soap:Header>
    <wsse:Security soap:mustUnderstand="1">
        <wsse:UsernameToken>
            <wsse:Username>MyUser</wsse:Username>
            <wsse:Password>MyPass</wsse:Password>
            <wsse:Nonce>fsdf568sf234k</wsse:Nonce> 
            <wsu:Created>2012-01-07T06:17:56Z</wsu:Created>
        </wsse:UsernameToken>
    <wsse:Security>
</soap:Header> 
</cfoutput>
</cfsavecontent>

<!--- Define Body --->
<cfsavecontent variable="soapBody">
<cfoutput>
<soap:Envelope xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/">   
    <soap:Body>
        <EmpCpsVerifyConnection xmlns="https://www.vis-dhs.com/EmployerWebService/" />
    </soap:Body>
</soap:Envelope>
</cfoutput>
</cfsavecontent>

<!--- Make SOAP Request --->
<cfhttp 
method="post"
url="https://stage.e-verify.uscis.gov/WebService/EmployerWebServiceV24.asmx?wsdl"
result="httpResponse">

<cfhttpparam
 type="header"
 name="SOAPAction"
    value="https://www.vis-dhs.com/EmployerWebService/EmpCpsVerifyConnection"
    />
<cfhttpparam
 type="header"
 name="Security"
    value="#trim( soapHeader )#"
    /> 
<cfhttpparam
type="body"
    value="#trim( soapBody )#"
    />
</cfhttp> 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-07T17:49:06.077

You could use something like [Fiddler](http://www.fiddler2.com/fiddler2/) or [WireShark](http://www.wireshark.org/) to examine the data stream. They are both free and EXTREMELY useful for debugging things like this.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-07T18:08:26.810

方法 1 - 将您的 xml 变量输出到您的网络浏览器。查看html源代码。

方法 2 - 将您的 xml 变量输出到文本区域。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-03-12T21:28:57.730

如果您通过普通 CF 机制调用 SOAP 方法，您可以通过编辑文件 {cf-root}/wwwroot/WEB-INF/client-config.wsdd 启用完整的 SOAP xml 数据包日志记录。

在 <globalConfiguration> 元素中添加或启用以下行：

```
<requestFlow>
 <handler type="log"/>
</requestFlow>
<responseFlow>
 <handler type="log"/>
</responseFlow> 
```

在我的机器上，日志记录在 {cf-root}/logs/cfserver.log 中结束。

# javascript - Soundmanager 2 波形数据

> ID：14198552
> 
> 赞同：3
> 
> 时间：2013-01-07T15:07:10.477
> 
> 标签：javascript, audio, waveform

我想为画布上的音频创建音频可视化并决定使用 SoundManager2。问题是应该返回波形数据的函数会抛出空数组。知道该怎么做吗？（我听到声音播放，所以它加载正确:)）

```
 <script>
    (function() {

     soundManager.url = 'swf/';
     soundManager.flashVersion = 9;

      soundManager.onready(function() {

       var i = 0;

var song = soundManager.createSound({
  id: 'song',
  url: 'https://www.mash-up.pl/sites/default/files/mp3/HF028A.mp3'
});

console.log(soundManager.features.waveformData); // true

function draw() {

  // emit waveform data every once in a while as to not break console
  if (!(i % 200)) {
    // wth these are empty
    console.log(song.waveformData.left);
    console.log(song.waveformData.right);
  }

  i++;
  window.webkitRequestAnimationFrame(draw);

}

draw();

song.play();

     });

   })(); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-07T16:02:09.610

好的，发现 soundobject 已将 useWaveformData 设置为 false（在控制台中调试后发现）。

问题可以关闭:)

# c - 使用 C 语言从字符串生成散列码（保存在 int 中）

> ID：14198553
> 
> 赞同：-3
> 
> 时间：2013-01-07T15:07:11.540
> 
> 标签：c, hash

我想从字符串生成一个散列码作为 int 。

是否有预定义的算法？在 C 中是否有该算法的实现？

```
char name[100]="langage c" 
```

为该`name`缓冲区生成一个哈希码到一个整数变量中

```
int hash_code; 
```

类似的东西

```
int algo_hash(char *name) {
    //hash algorithme
}
hash_code = algo_hash(name); 
```

尽可能寻找简单的代码

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-07T15:10:43.610

通用技术称为“[散列](http://en.wikipedia.org/wiki/Hash_function)”。如果你有一个已知的字符串列表，你可以使用工具[gperf](http://www.gnu.org/software/gperf/manual/gperf.html)为它们生成一个完美的哈希函数。

如果字符串是随机的，则在具有这些约束的一般情况下这是不可能的。您可以使用 SHA-1 哈希算法，但它会从字符串中生成 160 位数字，并且不能 100% 保证这些值是唯一的（与 SHA-1 发生冲突的可能性很小，但并非不可能）。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-07T15:08:44.780

我相信您需要的是实现[hashing](http://en.wikipedia.org/wiki/Hash_function)。它仍然不是独一无二的 - 我怀疑你是否能够避免碰撞。

# mysql - 子查询中的未知列进行更新

> ID：14198558
> 
> 赞同：0
> 
> 时间：2013-01-07T15:07:30.423
> 
> 标签：mysql, sql-update

我有一个更新语句，我想在一个语句中执行，但我发现它有点棘手。

一张表记录了目标随时间的变化。

例如，从 1 月 1 日到 31 日，目标可以是 100，然后从 110 年 2 月 1 日到 28 日，然后从 120 年 3 月 1 日到 31 日，依此类推。

用户只输入金额和 date_from。每次删除、更新或插入新记录后，都会重新计算每条记录的 date_to。它获取的值是记录的 day_from 的前一天，其中最小的 day_from 大于当前记录的 day_from。由于我想不出一种更清楚的方法，所以这里有几个例子：

```
From            To            Amount
1st Jan         31st Jan      100
1st Feb         28th Feb      110
1st Mar         31st Mar      120
...
... 
```

如果我插入一条 date_from 1 月 15 日且 value = 105 的记录，我希望 1 月 1 日的记录将 date_to 更新为 1 月 14 日，插入的记录将 date_to 更新为 1 月 31 日

删除 2 月 1 日的记录会使新插入记录的新记录的 date_to 从 1 月 31 日更改为 3 月 28 日。

我希望它能清楚地解释我正在尝试做的事情。

现在，这是我的 SQL，它不起作用

以下返回：

> 错误代码：1093。您不能在 FROM 子句中指定目标表 'ptcth1' 进行更新

```
update personal_trainer_client_target_history ptcth1 set date_to = 
(
    select min(date_from) from personal_trainer_client_target_history ptcth2 
    where ptcth2.date_from > ptcth1.date_from
) 
```

当我尝试像这样更正它时，我得到 => 错误代码：1054。'where 子句'中的未知列'ptcth1.date_from'

```
update personal_trainer_client_target_history ptcth1 set date_to = 
(
  select date_from from 
  (
    select min(date_from) from personal_trainer_client_target_history ptcth2 
    where ptcth2.date_from > ptcth1.date_from
  ) 
  as temp_table
) 
```

任何想法？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-07T15:39:54.920

```
 DROP TABLE IF EXISTS my_table;

    CREATE TABLE my_table (from_date DATE NOT NULL PRIMARY KEY,Amount INT NOT NULL);

    INSERT INTO my_table VALUES 
    ('2013-01-01',100),
    ('2013-02-01',110),
    ('2013-03-01',120);

    SELECT x.from_date
         , MIN(y.from_date) - INTERVAL 1 DAY to_date 
         , x.amount
      FROM my_table x 
      LEFT 
      JOIN my_table y 
        ON y.from_date > x.from_date 
     GROUP 
        BY x.from_date;
    +------------+------------+--------+
    | from_date  | to_date    | amount |
    +------------+------------+--------+
    | 2013-01-01 | 2013-01-31 |    100 |
    | 2013-02-01 | 2013-02-28 |    110 |    
    | 2013-03-01 | NULL       |    120 |
    +------------+------------+--------+

    INSERT INTO my_table VALUES ('2013-01-15',105);

    SELECT x.from_date
         , MIN(y.from_date) - INTERVAL 1 DAY to_date 
         , x.amount
      FROM my_table x 
      LEFT 
      JOIN my_table y 
        ON y.from_date > x.from_date 
     GROUP 
        BY x.from_date;
    +------------+------------+--------+
    | from_date  | to_date    | amount |
    +------------+------------+--------+
    | 2013-01-01 | 2013-01-14 |    100 |
    | 2013-01-15 | 2013-01-31 |    105 |
    | 2013-02-01 | 2013-02-28 |    110 |
    | 2013-03-01 | NULL       |    120 |
    +------------+------------+--------+ 
```

# java - Swing JTable - 在前一行的功能中更改行的背景颜色

> ID：14198563
> 
> 赞同：0
> 
> 时间：2013-01-07T15:07:44.487
> 
> 标签：java, swing, swingx, jxtable

我有一个swing JXTable，要求如果字段与前一行不同，则背景颜色必须更改。

这是一个例子：

*   第 0 行：var = 1 -> 背景蓝色

*   第 1 行：var = 1 -> 背景蓝色

*   第 2 行：var = 2 -> 背景 RED

*   第 3 行：var = 3 -> 背景蓝色

我尝试了几种解决方案。

覆盖 prepareRenderer，但此解决方案无法正常工作。线条闪烁并且颜色随着表格中可见的第一行的功能而变化。

```
 @Override
public Component prepareRenderer(TableCellRenderer renderer, int row, int column)
{
    Component c = super.prepareRenderer ( renderer , row , column );
    if(lastRow  != -1)
    {
        Data actualData = ( ( MessagesTableModel ) getModel ( ) ).getData ( row );
        Data previousData = ( ( MessagesTableModel ) getModel ( ) ).getData ( lastRow );
        if ( previousData != null )
        {
            if ( previousData.getNbr ( ) != actualData.getNbr ( ) )
            {
                if(lastColor.equals ( COLOR1 ))
                {
                    System.out.println ("A");
                    lastColor = COLOR2;
                }
                else
                {
                    System.out.println ("b");
                    lastColor = COLOR1;
                }
            }
        }
    }
    lastRow = row;
    c.setBackground ( lastColor );
    return c;
} 
```

我也考虑过定义一个自定义的 TableCellRender，但还没有定论。

所以我被卡住了，我不知道该怎么做。你有什么建议吗 ？

**编辑**

自从我使用 JXTable 以来，我已经尝试过 HighlightPredicate

```
 HighlightPredicate predicate = new HighlightPredicate ( )
    {
        public boolean isHighlighted(Component renderer, ComponentAdapter adapter)
        {
            Data actualData = ( ( MessagesTableModel ) getModel ( ) ).getData ( adapter.row );
            if ( adapter.row - 1 >= 0 )
            {
                Data previousData = ( ( MessagesTableModel ) getModel ( ) )
                        .getData ( adapter.row - 1 );
                if ( actualData.getNbr ( ) != previousData.getNbr ( ) )
                {   
                    return true;
                }

            }
            return false;
        }
    };

    addHighlighter ( new ColorHighlighter ( predicate , COLOR1 , null ) ); 
```

这一次，如果值改变，颜色就会改变，但如果后面的行没有改变，颜色就会改变。

*   第 0 行：var = 1 -> 背景蓝色

*   第 1 行：var = 1 -> 背景蓝色

*   第 2 行：var = 2 -> 背景 RED

*   第 3 行：var = 2 -> 背景蓝色

这是正常的，因为这就是编码的内容:) 但我遇到了同样的问题，如何知道上一行是否突出显示。

**编辑 2**

我找到了一个解决方案，看起来不是很干净，但它有效。

```
 HighlightPredicate predicate = new HighlightPredicate ( )
    {
        public boolean isHighlighted(Component renderer, ComponentAdapter adapter)
        {
            Data actualData = ( ( MessagesTableModel ) getModel ( ) ).getData ( adapter.row );
            if ( adapter.row - 1 >= 0 )
            {
                Data previousData = ( ( MessagesTableModel ) getModel ( ) )
                        .getData ( adapter.row - 1 );
                if ( actualData.getMsgNbr ( ) != previousData.getMsgNbr ( ) )
                {   
                    adapter.row--;
                    if(isHighlighted ( renderer , adapter ))
                    {
                        return false;
                    }
                    else
                    {
                        return true;
                    }                       
                }
                else
                {
                    adapter.row--;
                    if(isHighlighted ( renderer , adapter ))
                    {
                        return true;
                    }
                    else
                    {
                        return false;
                    }
                }
            }
            return false;
        }
    };

    addHighlighter ( new ColorHighlighter ( predicate , COLOR1 , null ) ); 
```

谢谢大家的帮助 ！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-07T15:10:58.060

您还需要使渲染器不透明：

```
if (c instanceof JComponent)
    ((JComponent)c).setOpaque(true); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-07T15:12:28.207

```
int lastRow=Math.max(0, row-1); 
```

而不是保存最后一行索引，只需使用实际`row`值并减去 1。

# css - Webkit 未应用 css margin-bottom

> ID：14198566
> 
> 赞同：0
> 
> 时间：2013-01-07T15:07:58.337
> 
> 标签：css, firefox, webkit, margin

请参阅此页面：http: [//goo.gl/U9cQl](http://goo.gl/U9cQl)

在 Firefox 中，margin-bottom 属性正确地应用于 Contact Us 框，将其从页面底部向上推 50 像素。

这在 Safari + Chrome 中不会发生，我不知道为什么！任何人都可以为我解释一下吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-07T15:12:27.270

在 Chrome 中，我关闭了你的规则`html,body { height: 100%; }`并为我修复了它。

# gcc - LPC1850：为什么在 systick 中断后程序执行跳转到 0xFFFFFFFE？

> ID：14198576
> 
> 赞同：2
> 
> 时间：2013-01-07T15:08:20.897
> 
> 标签：gcc, interrupt, lpc

我为 LPC1857 制作了一个工作程序，它启用了中断，每个 systick 中断然后调用一些函数。它与 LPC1857 完美配合。当我尝试在 LPC1850 上运行相同的程序时，程序执行跳转到 0xFFFFFFFE 并在中断发生时停止。在 SystickHandler 中调用的函数永远不会被调用。看起来程序为处理程序获取了错误的地址，但我不明白这是怎么回事。发生这种情况时，LR 指向 0xFFFFFFF9。这两个地址都是保留的。

我更改了 LPC1850 的链接器文件（与 LPC1857 项目的唯一区别，除了一些不相关端口的初始化），它看起来像这样：

```
ENTRY(_start)                     
INPUT(& &)

MEMORY
{
    FLASH (rx) : ORIGIN = 0x1C000000, LENGTH = 16M
    SRAM (rwx) : ORIGIN = 0x10000000, LENGTH = 64K
}

SECTIONS

    .text :
    {
        _text = .;
        KEEP(*(.isr_vector))
        *startup.o(.text)   
        *(.text*)
        *(.glue_7t) *(.glue_7)
        *(.rodata*)
        _text_end = .;
    } > SRAM

    .bss :
    {
        _bss = .;
        *(.bss*)
        *(COMMON)
        _bss_end = .;
        . = ALIGN(4);
    } > SRAM

    .data : AT (ADDR(.text) + SIZEOF(.text))
    {
        _data = .;
        *(vtable)
        *(.data*)
        _data_end = .;
    } > SRAM

    . = ALIGN(4);
    .ARM.extab : {
      *(.ARM.extab*)
    } > SRAM

    . = ALIGN(4);
    __exidx_start = ABSOLUTE(.);
    .ARM.exidx : {
      *(.ARM.exidx*)
    } > SRAM
    __exidx_end = ABSOLUTE(.);

    .stack :
    {
      _stack_top = . + SIZEOF(.stack);
    } > SRAM
} 
```

你知道我错过了什么吗？如果您需要任何其他信息，请告诉我。提前致谢！！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-11-29T11:03:06.373

虽然这个问题很古老，但我最近遇到了这种问题，所以这里有一些答案：一般来说，当所有中断都导致 pc 进入`0xfffffffe`它时，表明向量表存在严重错误。如果您正在使用一些硬件调试器并且您处于这种情况，您应该检查 SCB 中 VTOR 寄存器 [1] 的内容。它应该指向有效的向量表（例如`.isr_vector`从 GCC 骑行启动程序集生成的部分）。

LPCxxxx 芯片对我来说是陌生的，所以我无法提供任何有用的细节，但例如，如果 LPC1850 和 LPC1857 的内存地址存在差异，并且您将 VTOR 设置在某个地方，则可能需要对其进行一些不同的设置。您首先能够启动（调用重置处理程序）LPC1850 的事实表明您拥有从其中启动设备的有效向量表。

[1] `0xe000ed08` [http://infocenter.arm.com/help/index.jsp?topic=/com.arm.doc.dui0552a/Ciheijba.html](http://infocenter.arm.com/help/index.jsp?topic=/com.arm.doc.dui0552a/Ciheijba.html)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-06-08T07:03:45.027

FLASH中没有部分！？对于 1850，您将程序下载到地址为 0x1C000000 的外部闪存中。

# php - 如果选择了特定的选择选项，则获取输入的值

> ID：14198579
> 
> 赞同：0
> 
> 时间：2013-01-07T15:08:34.487
> 
> 标签：php, javascript, jquery, html

我对php有一点了解，但这就是我想要做的。我有一个`form`. `select option`如果选择了一个值为“example_5”的选项，我希望它获得一个`<input>`. 这是用 php 或 jquery 完成的以使用输入的值吗？

例如：有人选择example_5。他们现在可以在`<input>`. 并且将使用该值。

```
<script type="text/javascript">
    $(function(){
        if($('select').find('option:selected').val() == 'example_5'){

            use input??

            $_COOKIE['input_example'] = $example_1;

        }
        else{
            $_COOKIE['example_1'] = $example_1;
        }
    });
</script>

<?php
    $_COOKIE['example_1'] = $example_1;
?>

<form method="get" action="page2.php">
    <select name="example1">
        <option value="example_1">example_1</option>
        <option value="example_2">example_2</option>
        <option value="example_3">example_3</option>
        <option value="example_4">example_4</option>
        <option value="example_5">example_5</option>
    </select>
    <input name="input_example" type="text">
</form> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-07T15:13:05.870

我会这样做的方法是`onChange`在盒子上有一个监听`select`器，然后使用 javascript 获取输入框的值`document.getElementById`。你可以使用任何你想要的*jQuery*快捷方式，但是方法是一样的。

有关使用此技术的功能示例，请参见[this fiddle](http://jsfiddle.net/EpWyW/1/)。

在不相关的说明中，请确保始终关闭您的`<input />`标签（可能只是拼写错误:)

## 编辑

根据评论：只需从 cookie 中的值设置输入值。

```
document.getElementById("input_example").value = getCookie("cookie_name"); 
```

您可以在其中编写一个简单的函数来获取 cookie：

```
function getCookie(Name) {
  var search = Name + “=”
  if (document.cookie.length > 0) { // if there are any cookies
    offset = document.cookie.indexOf(search)
    if (offset != -1) { // if cookie exists
      offset += search.length
      // set index of beginning of value
      end = document.cookie.indexOf(”;”, offset)
      // set index of end of cookie value
      if (end == -1)
        end = document.cookie.length
      return unescape(document.cookie.substring(offset, end))
    }
  }
} 
```

[此处](http://developers.chrisranjana.com/javascripts/how-to-get-cookie-value-through-javascript-and-displaying-it-in-div-tag.html)采用 js cookie 函数的教程。

### 也可以看看

[JS 饼干](http://www.w3schools.com/js/js_cookies.asp "来自 W3Schools")

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-07T15:13:15.303

首先，您要检查 from 是否已提交。之后`$_COOKIE['example_1'] = $example_1;`会是这样的：

`$_COOKIE['example_1'] = $_GET['example1'];`

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-07T15:42:04.557

根据您对 blo0p3r 的回答的评论。

在 page2.php 中，在发送任何空格或 HTML 之前，在脚本的最顶部添加以下内容：

```
<?php

if (isset($_GET['example1']) && $_GET['example1'] === "example_5")
  setcookie($_GET['input_example'], 'example_5', time()+3600, '/'); 
```

# android - 从具有稀有字符的资产中读取文本文件时出现问题 (á é à è...)

> ID：14198580
> 
> 赞同：-1
> 
> 时间：2013-01-07T15:08:34.547
> 
> 标签：android, text-files, inputstream, assets, bytearrayoutputstream

我在资产文件夹中有一个 txt 文件，其中包含稀有字符的内容，例如以下内容：

> 你好
> 
> Holà holá es un vetélélà Holà holá es un vetélélà Holà holá es un vetélélà Holà holá es un vetélélà Holà holá es un vetélélà

我正在使用此代码从资产中读取 txt 文件并将其存储在字符串中：

```
public static String readTxt(Context context, String fileName){
    try {           
        AssetManager am = context.getAssets();
        InputStream is = am.open(fileName);         
        ByteArrayOutputStream byteArrayOutputStream = new ByteArrayOutputStream();          
        int i= is.read(); 

        while (i != -1){
            byteArrayOutputStream.write(i);
            i = is.read();
        }
        is.close();                     
        return byteArrayOutputStream.toString();
    } catch (Exception e) {e.printStackTrace();}
    return "";
} 
```

正在以正确的格式读取文本（空格和换行符都可以），但未正确读取稀有字符（á à é è...）。我正在读这个：

> Hola\r\n\r\nHol. hol. es un vet.l.l. Hol. hol. es un vet.l. Hol. hol. es un vet.l.l. Hol. hol. es un vet.l.l. Hol. hol. es un vet.l.l.</p>

我在做什么坏事？如何**从 ASSETS**中正确读取该文本？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-07T15:21:19.860

我只需要使用 byteArrayOutputStream.toString("UTF-8"); 获取字符串 并使用 UTF-8 编码存储 txt 文件:)

非常感谢 njzk2

# php - 如何将 Javascript 变量传递给 PHP

> ID：14198586
> 
> 赞同：0
> 
> 时间：2013-01-07T15:09:05.993
> 
> 标签：php, javascript, html

> **可能重复：**
> [将 php 变量传递给 javascript](https://stackoverflow.com/questions/4845228/pass-php-variable-to-javascript)

我想将用户点击的点击次数与保存在数据库中的数据进行比较。我不确定如何继续传递 HTML“点击”的值以与 PHP 中的“计数”进行比较。

```
<html>
<script type="text/javascript">

 var count = 0;

 function countClicks() 
 {          
    count = count + 1;
    document.getElementById("clicks").innerHTML = count;
 }  
</script>

<?php
    if(empty($counts)){
?>

<script type="text/javascript">

    alert("Count is empty!!");

</script>   

<?php

} else { 

$data = mysql_query("SELECT clicks FROM customerdetails WHERE customer_username='$username'"); 
$info = mysql_fetch_array($data);
//compare $data with the clicks
echo 'same!';
}
?>

<body>
<a href="javascript:countClicks();">Count Clicks</a>
<input type="button" onclick=countClicks() value="Click"/>
<p id="clicks">0</p>
</body>
</html> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-07T15:19:11.107

您以错误的方式使用 PHP 和 Javascript。PHP 是一种服务器端语言。这意味着它甚至在页面加载到浏览器之前运行。

您必须创建一个 javascript 点击计数器并将其值放入隐藏的表单域中。然后使用提交按钮将信息发送到服务器 (PHP)。然后让 PHP 从数据库中进行检查和选择并返回答案。

另一种解决方案是使用 javascript AJAX，但我建议先尝试上述方法。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-07T15:29:16.360

最好的方法是进行[异步 JavaScript 和 XML](http://www.w3schools.com/ajax/default.asp)调用 (AJAX)。**PHP**是一种服务器端语言，它在构建 HTML（因此，在 Javascript 之前）并显示给浏览器之前**执行。**

**因此， Javascript**与 PHP 交换变量和数据的唯一方法是进行 AJAX 调用（您总是可以使用表单提交或[会话变量](http://www.w3schools.com/php/php_sessions.asp)和[cookie](http://www.w3schools.com/php/php_cookies.asp)重新加载页面，但这不是最好的方式去如果行动重复太频繁。

在 AJAX 中，您可以创建另一个 PHP 页面来检查这两个值并返回您想要的任何内容。响应可以存储在 Javascript 变量中，甚至可以存储在[JSON](http://www.w3schools.com/json/default.asp)中。

我建议您阅读有关 AJAX 的更多信息，并了解[PHP 如何使用它](http://www.w3schools.com/php/php_intro.asp)。

* * *

编辑：阅读您的评论后，我决定在这里放一个简单的例子。

**Javascript（在您的 HTML 页面中）**

```
var xmlhttp;

if (window.XMLHttpRequest)
{// code for IE7+, Firefox, Chrome, Opera, Safari
  xmlhttp=new XMLHttpRequest();
}
else
{// code for IE6, IE5
  xmlhttp=new ActiveXObject("Microsoft.XMLHTTP");
}
xmlhttp.onreadystatechange=function()
{
  if (xmlhttp.readyState==4 && xmlhttp.status==200)
  {
     /*Here you should do what you want. 
      xmlhttp.responseText is the content of your PHP answer! */ 

     var result = xmlhttp.responseText;
     //I am parsing a JSON response, which is a specific, universal language
     //To exchange data without losing formatting or anything else.
     result = JSON.parse(result);

     /* The we use the name of our PHP array key as a property 
        Here it is "response" (see PHP json_encode line)       */
     alert(result.response);
  }
}
/* Change this URL for the PHP filename. we use the GET method to send data. */
/* You should always use the POST method when sending sensitive data */
xmlhttp.open("GET","getUserClicks.php?clicks="+count+"&username="+username,true);
xmlhttp.send(); 
```

**PHP（这里是名为 getUserClicks.php 的文件）**

```
<?php
if(!isset($_GET['username']) || !isset($_GET['clicks']))
    die("Error");

$username = $_GET['username'];
$jsClicks = $_GET['clicks'];
$phpClicks = null;

#I am using the mysqli class to execute the query since mysql is deprecated in PHP5.
$data = mysqli_query("SELECT clicks FROM customerdetails WHERE customer_username='$username'"); 

while($row = mysqli_fetch_array($data))
{
    $phpClicks = $row['clicks'];
}

#If your "IF" only contains one line, you don't need brackets.
#Otherwise they are needed.

if($phpClicks == null)
    die("Could not get the number of clicks of the desired username");

#This is the string PHP will send to Javascript.
$response = "Same number of clicks!";

#If phpClicks is different and has the same type as jsClicks...
if($phpClicks !== $jsClicks)
{
    $response = "Number of clicks changed!";
    if($jsClicks > $phpClicks)
    {
        #Updates the number of clicks the user has done.
        $mysqli_result = mysqli_query("UPDATE customerdetails SET clicks=$jsClicks WHERE customer_username='$username';"); 
    }
}

echo json_encode(array('response'=>$response)); 
```

?>

如果您看到您不知道它们做什么的功能或方法，请务必进行一些研究（例如：）`isset`。

# java - @Consume 的运行时内容协商

> ID：14198589
> 
> 赞同：1
> 
> 时间：2013-01-07T15:09:27.663
> 
> 标签：java, jax-rs

想象一下我的资源可以通过`/rest/properties/<key>/data`

支持的内容类型取决于属性类型。

对于 GET 这没问题：（[运行时内容协商](http://docs.oracle.com/javaee/6/tutorial/doc/gkqbq.html)）

```
@GET 
public Response readData(@PathParam("key") String key) {
    MyProperty property = getProperty(key);
    List<Variant> variants = property.getType().getVariants();
    Variant variant = request.selectVariant(variants);
    if (null == variant) {
        return Response.notAcceptable(variants).build();
    }
    return Response.ok(property.getData(), variant).build();
    // -> registered @Provider (MessageBodyWriter) will be called
} 
```

* * *

现在我想要一个“Consumes”的等价物用于 POST/PUT。

定义几种方法的常用方法不是一个选项，因为我需要先计算类型：

所以目标是这样的：

```
@POST
public Response updateData(@PathParam("key") String key, InputStream is) {
    MyProperty property = getProperty(key);
    List<Variant> variants = property.getType().getVariants();
    Variant variant = /* get request content type */;
    if (!variants.contains(variant)) {
        return Response.status(415).build();
    }
    entity = /* delayed MessageBodyReader call?!
        readFrom(is, variant , ExpectedClass.class);
     */

    ... save entity in db or fs

    return Response.ok().build();
} 
```

顺便说一句，常见的方法是： *[不会编译（消费媒体类型冲突）]*

```
@POST
@Consumes("text/plain")
public Response updateDataPlain(@PathParam("key") String key, ExpectedClass entity) {
    ... save entity in db or fs

    return Response.ok().build();
}

@POST
@Consumes("text/plain")
public Response updateDataPlain(@PathParam("key") String key, AnotherExpectedClassWhichSupportPlain entity); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-07T17:55:37.677

我觉得你应该

```
@Consumes("*/*") 
```

然后手动处理`Content-Type`HTTP 标头。

# html - 元素元上属性 http-equiv 的错误值 X-UA-Compatible

> ID：14198594
> 
> 赞同：111
> 
> 时间：2013-01-07T15:09:58.820
> 
> 标签：html, validation, x-ua-compatible

我使用了与`meta`HTML5 Boilerplate 相同的东西，W3C HTML 验证器抱怨：

> 元素元上属性 http-equiv 的错误值 X-UA-Compatible。
> 
> ```
> <meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'> 
> ```

这个`meta`标签有什么问题？

* * *

## 回答 #1

> 赞同：67
> 
> 时间：2013-01-07T15:14:12.460

X-UA-Compatible 不是“标准”HTML（FSVO“标准”涉及出现在规范引用的[可公开编辑的 wiki 页面上](http://wiki.whatwg.org/wiki/PragmaExtensions)）或者验证器不是最新的该 wiki 的当前状态。

在撰写本文时 (20130326) X-UA-Compatible 出现在 wiki 页面上的一个部分下：“以下提议的扩展尚未符合 HTML 规范中的所有注册要求，因此尚未允许有效文件。” 所以验证者拒绝这个值是正确的。

* * *

## 回答 #2

> 赞同：42
> 
> 时间：2013-04-24T05:38:14.847

如果您希望使其在技术上有效（每个人都喜欢看到绿色图标）而不影响任何功能，您应该能够将其包装在“if IE”标签中。

```
<!--[if IE]><meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'><![endif]--> 
```

* * *

## 回答 #3

> 赞同：30
> 
> 时间：2013-11-11T11:10:53.033

一种可能的解决方案是在标头中实现修复服务器端，正如Aaron Layton的[这篇精彩文章中所建议的那样。](http://www.validatethis.co.uk/news/fix-bad-value-x-ua-compatible-once-and-for-all/)（所有的功劳都应该归功于他，我会转述而不是抄袭......）

```
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" /> 
```

“当 Internet Explorer 遇到这条线时，它会将正在使用的引擎更改为第一个 Chrome Frame（如果安装了插件），然后更改为 Edge（浏览器支持的最高文档模式）。”

**步骤**：

*   修复页面验证——这可以通过简单地删除标签来实现
*   渲染速度——我们将预先发送正确的模式作为响应头，而不是等待浏览器看到标签然后改变模式
*   确保我们只显示 Internet Explorer 的修复 - 我们将只使用一些服务器端浏览器检测并将其仅发送到 IE

要在 PHP 中添加标题，我们只需将其添加到我们的页面：

```
if (isset($_SERVER['HTTP_USER_AGENT']) &&
    (strpos($_SERVER['HTTP_USER_AGENT'], 'MSIE') !== false))
        header('X-UA-Compatible: IE=edge,chrome=1'); 
```

或者您可以将其添加到您的 .htaccess 文件中，如下所示：

```
<FilesMatch "\.(htm|html|php)$">
    <IfModule mod_headers.c>
        BrowserMatch MSIE ie
        Header set X-UA-Compatible "IE=Edge,chrome=1" env=ie
    </IfModule>
</FilesMatch> 
```

链接到原始文章，查看评论以了解可能的警告。还包括 C# 的实现。

[一劳永逸地修复错误值 X-UA-Compatible](http://www.validatethis.co.uk/news/fix-bad-value-x-ua-compatible-once-and-for-all/)

希望这可以帮助！

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2013-09-08T19:58:32.293

..这可能是一个很好的答案吗？

使用 PHP 设置 HTTP 标头：

*   [http://www.joshuawinn.com/fix-html5-validator-error-bad-value-x-ua-compatible-for-attribute-http-equiv-on-element-meta/](http://www.joshuawinn.com/fix-html5-validator-error-bad-value-x-ua-compatible-for-attribute-http-equiv-on-element-meta/)

这不是我自己的工作，但我希望它对其他人也有用。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2014-01-10T15:23:29.253

如果您下载/构建验证器 src 代码，您可以自己添加支持。

将以下内容添加到文件中，例如`html5-meta-X-UA-Compatible.rnc`) 然后将其包含在`html5full.rnc`.

我这样做了，它很好地用于验证。

```
meta.http-equiv.X-UA-Compatible.elem =
  element meta { meta.inner & meta.http-equiv.X-UA-Compatible.attrs }
  meta.http-equiv.X-UA-Compatible.attrs =
    ( common.attrs.basic
      & common.attrs.i18n
      & common.attrs.present
      & common.attrs.other
      & meta.http-equiv.attrs.http-equiv.X-UA-Compatible
      & meta.http-equiv.attrs.content.X-UA-Compatible
      & ( common.attrs.aria.role.presentation
        | common.attrs.aria.role.menuitem
        )?
    )
    meta.http-equiv.attrs.http-equiv.X-UA-Compatible = attribute http-equiv {
      xsd:string {
        pattern = "X-UA-Compatible"
      }
    }
    meta.http-equiv.attrs.content.X-UA-Compatible = attribute content {
      xsd:string {
        pattern = "IE=((edge)|(EmulateIE(7|8|9|10))|7|8|9|10|11)(,chrome=(1|0))?"
      }
    }

common.elem.metadata |= meta.http-equiv.X-UA-Compatible.elem 
```

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2014-02-12T15:34:13.563

```
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" /> 
```

[有关可能的修复，请参阅本文](http://www.validatethis.co.uk/news/fix-bad-value-x-ua-compatible-once-and-for-all/)

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2016-12-31T16:57:59.687

请`,chrome=1`从元标记中删除它会正常工作。使用验证器：

```
<meta http-equiv="X-UA-Compatible" content="IE=edge" /> 
```

* * *

## 回答 #8

> 赞同：-1
> 
> 时间：2014-01-28T21:30:05.023

我遇到了同样的问题，添加并围绕整条线纠正了这种情况。

```
<!--[if IE]><meta http-equiv="x-ua-compatible" content="IE=9" /><![endif]--> 
```

# android - Android：禁用活动中的后退操作

> ID：14198595
> 
> 赞同：-1
> 
> 时间：2013-01-07T15:10:01.053
> 
> 标签：android, android-activity

在我的一项活动的应用程序中，我在活动顶部有一个说明屏幕（透明活动），

```
 public class quickActivity extends Activity {

    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.quicktip);

        ImageView image = (ImageView)findViewById(R.id.imageView1);
        image.setOnTouchListener(new OnTouchListener() {

            @Override
            public  boolean onTouch(View v, MotionEvent event) {
                quicktipActivity.this.finish();
                return false;

            }});}} 
```

当我按下设备按钮时，我可以看到以下活动，我希望在透明活动位于顶部时禁用后退按钮任何建议如何实现这一点。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-07T15:33:30.483

在最重要的活动中，您应该覆盖 onBackPressed 并做您想做的事情：

[http://developer.android.com/reference/android/app/Activity.html#onBackPressed](http://developer.android.com/reference/android/app/Activity.html#onBackPressed) ()

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-07T15:33:59.437

已解决：刚刚超过 onBackPressed

```
@Override
public void onBackPressed() {
       // Do nothing
} 
```

# android - 在 Android 应用程序中创建和同步简单数据库

> ID：14198596
> 
> 赞同：1
> 
> 时间：2013-01-07T15:10:09.067
> 
> 标签：android, database, synchronization

我将编写一个应该使用数据库来存储类别和项目的 Android 应用程序。

我必须将此数据存储在某个云中（以在用户在第二台设备上安装此应用程序时恢复它）。

什么是无痛的方法？我应该使用`SQLite`还是可以以更简单的方式进行？

我应该以什么方式将其与云同步？有没有可用的谷歌解决方案？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-07T17:32:57.967

谷歌为此提供了备份服务。详情请看以下网址：

[http://developer.android.com/guide/topics/data/backup.html](http://developer.android.com/guide/topics/data/backup.html)

# javascript - Auction Nudge：替换 .keyup 函数

> ID：14198597
> 
> 赞同：0
> 
> 时间：2013-01-07T15:10:10.767
> 
> 标签：javascript, jquery, function

我正在尝试使用 Auction Nudge 代码来显示来自我的 eBay 商店的商品。当您在表单中输入文本时，此代码片段会过滤项目。我想要做的是用`.keyup`静态关键字替换表单中的函数，该关键字将在页面加载时过滤结果。

我曾尝试修剪和更改代码，但我的 jQuery 知识并没有真正达到标准。

对于此示例，我只想使用关键字显示项目`Jiffy`

```
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <title>Auction Nudge Demo - Filtering By Keyword</title>
  <style type="text/css">
    form label {
      display: block;
      font-weight: bold;
    }
  </style>
</head>

<body>
  <p>This example demonstrates how to filter a list of items shown using the column theme. Items not matching the specified keyword will be hidden. <a href="http://www.auctionnudge.com/demos/demo-filter-by-keyword.html.txt">view the source</a></p>

  <form>
    <label for="auction-nudge-filter">Filter</label>
    <input type="text" name="auction-nudge-filter" id="auction-nudge-filter" value="Enter a keywordâ€¦" />
  </form>
  <script type="text/javascript" src="http://www.auctionnudge.com/item_build/js/SellerID/soundswholesale/siteid/3/theme/columns/MaxEntries/100/grid_cols/2/grid_width/100%25/show_logo/0"></script>
  <div id="auction-nudge-items" class="auction-nudge"><a href="http://www.auctionnudge.com/">Live eBay Listings From Auction Nudge</a></div>
  <script type="text/javascript" src="http://code.jquery.com/jquery-latest.min.js"></script>
  <script type="text/javascript">
    function auction_nudge_loaded() {
      var filter_cleared = false;
      $(document).ready(function() {
        //Clear text input on focus (only the first time!)
        $('#auction-nudge-filter').focus(function() {
          if (!filter_cleared) {
            $(this).val('');
            filter_cleared = true;
          }
        });

        //Each time the keyword input field is updated
        $('#auction-nudge-filter').keyup(function() {
          var keyword = $(this).val().toUpperCase();
          //Iterate over each item title
          $('#auction-nudge-items td.title').each(function() {
            var row = $(this).parent('tr');
            var title = $(this).text().toUpperCase();
            //If the title does not contain the keyword then hide the row
            if (title.indexOf(keyword) == -1) {
              row.hide();
              $('td', row).hide();
            } else {
              row.show();
              $('td', row).show();
            }
          });
        });
      });
    }
  </script>
</body>

</html>
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-06-21T16:45:01.810

以下是脚本的修改版本，它将过滤给定关键字的结果（在本例中`KEYWORD_TO_FILTER_BY`）：

```
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <title>Auction Nudge Demo - Filtering By Keyword</title>
  <style type="text/css">
    form label {
      display: block;
      font-weight: bold;
    }
  </style>
</head>

<body>
  <script type="text/javascript" src="http://www.auctionnudge.com/item_build/js/SellerID/soundswholesale/siteid/3/theme/columns/MaxEntries/100/grid_cols/2/grid_width/100%25/show_logo/0"></script>
  <div id="auction-nudge-items" class="auction-nudge"><a href="http://www.auctionnudge.com/">Live eBay Listings From Auction Nudge</a></div>
  <script type="text/javascript" src="http://code.jquery.com/jquery-latest.min.js"></script>
  <script type="text/javascript">
    function auction_nudge_loaded() {
      var filter_cleared = false;
      $(document).ready(function() {
        var keyword = 'KEYWORD_TO_FILTER_BY';
        //Iterate over each item title
        $('#auction-nudge-items td.title').each(function() {
          var row = $(this).parent('tr');
          var title = $(this).text().toUpperCase();
          //If the title does not contain the keyword then hide the row
          if (title.indexOf(keyword) == -1) {
            row.hide();
            $('td', row).hide();
          } else {
            row.show();
            $('td', row).show();
          }
        });
      });
    }
  </script>
</body>

</html>
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-07T16:50:48.463

只是不要在已加载的拍卖中调用文件准备就绪。准备好的文件不会触发

# android - 如何在 SimpleAdapter 中隐藏文本视图

> ID：14198605
> 
> 赞同：4
> 
> 时间：2013-01-07T15:11:07.413
> 
> 标签：android, simpleadapter

我正在使用一个简单的适配器在列表视图的不同文本字段中显示一组字符串...我希望当我单击该列表视图中的特定内容时，某些文本视图应该是不可见的.. 怎么做...

我的代码是

```
String[] from = new String[] {"ONE", "TWO", "THREE", "FOUR", "FIVE", "SIX", "SEVEN"};

int[] to = new int[] { R.id.textView_1, R.id.textView_2, R.id.textView_3, R.id.textView_4, R.id.textView_5, R.id.textView_6, R.id.textView_7};

Adapter adapter = new SimpleAdapter(this, Maps, R.layout.search, from, to);
ListView lvSearch = (ListView) findViewById(R.id.listView_SearchResult);
lvSearchResult.setAdapter(adapter); 
```

点击这里

```
R.id.textView_5, R.id.textView_6, R.id.textView_7 
```

应该是不可见的

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-01-07T15:47:05.903

不确定您到底在寻找什么，但如果您想要做的只是隐藏 TextView，您可以执行以下操作：

```
TextView txtView = (TextView)findViewById(R.id.textView_6);
txtView.setVisibility(View.GONE) 
```

如果您向我们提供更多信息，我们可以尝试进一步帮助您。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2013-01-07T15:45:18.337

设置布局中`android:visibility="gone"`的属性`TextViews R.id.textView_5, R.id.textView_6, R.id.textView_7``layout.search`

对于您的示例，我猜结果应该如下所示：

```
<TextView android:id="@+id/textView_5"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        安卓：文本=“隐藏”
        安卓：可见性=“消失”/>

```

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2013-06-15T14:18:06.233

SimpleAdapter 中有一个方法可以做到这一点。它被称为 ViewBinder。`SimpleAdapter adapter = new SimpleAdapter(this, Maps, R.layout.search, from, to);`尝试在之后和之前立即包含这行代码`setListAdapter(adapter);`。

```
SimpleAdapter.ViewBinder binder = new SimpleAdapter.ViewBinder() {
    @Override
    public boolean setViewValue(View view, Object object, String value) {
        System.out.println("view= "+view);
        System.out.println("view.toString()= "+ view.toString());
        System.out.println("view.getId()= "+ view.getId());
        System.out.println("view.getVisibility()= "+ view.getVisibility());
        System.out.println("view.equals((TextView) view.findViewById(R.id. textView_5))= "+ view.equals((TextView) view.findViewById(R.id.textView_5)));
        if (view.equals((TextView) view.findViewById(R.id.textView_5))) {
            TextView textView_five = (TextView) view.findViewById(R.id. textView_5);
            //Change color/answer/etc for textView_5
        }

        //OR
        if (view instanceof TextView) {
            //Do stuff
            return true;
        }

        return false;
    }
};

adapter.setViewBinder(binder);

setListAdapter(adapter); 
```

将为您在中`setViewValue()`的每个`R.id.textView_1`, `R.id.textView_2`, `R.id.textView_3`, `R.id.textView_4`, `R.id.textView_5`,调用该方法。该方法将在每个视图/每次绘制上述 s 之一时调用。`R.id.textView_6``R.id.textView_7``adapter``setViewValue()``R.id`

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2018-08-03T07:32:37.743

覆盖@getView 方法并实现它的自定义视图

```
 @override
  public View getView (int position, View convertView, ViewGroup parent){
   if( convertView == null ){
    //initialize
    convertView = inflater.inflate(R.layout.list_items, parent, false);
   }
   //Here you can hide or visible 
   return convertView;
   } 
```

# java - 带有标头和正文的 Android 异步 Http 客户端 (Loopj) POST 请求

> ID：14198607
> 
> 赞同：0
> 
> 时间：2013-01-07T15:11:17.067
> 
> 标签：java, android, httprequest

我正在开发一个 android 应用程序，我正在使用“Android Asynchronous Http Client”（Loopj）库来处理对服务器的所有请求。

我需要发送带有标头和 JSON 正文的 POST 请求。

通过查看 AsynchHttpClient.java 中可用的 POST 方法，我发现了这些：

```
public void post(Context context, String url, Header[] headers, RequestParams params, String contentType, AsyncHttpResponseHandler responseHandler)

public void post(Context context, String url, Header[] headers, HttpEntity entity, String contentType, AsyncHttpResponseHandler responseHandler) 
```

我应该使用哪一个？`Header[]`和`RequestParams`和有什么区别`HttpEntity`？哪个被认为包含请求的标头和请求的主体？

感谢您的任何澄清

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-01-07T15:37:23.323

两种方法的区别在于：

* * *

RequestParams：要发送的附加 POST 参数，key=value 格式

HttpEntity：要发送的原始实体，使用它来发送字符串/json/xml 有效负载。

* * *

如果要发布 JSON，请使用 HttpEntity，例如 ByteArrayEntity

Headers[] 是一个数组，用于将请求的配置标头发送到您的服务器。（内容类型、内容大小等）

# asp.net-mvc - 如何从 MVC 项目路由到另一个项目中的 MVC ApiController？

> ID：14198616
> 
> 赞同：1
> 
> 时间：2013-01-07T15:11:48.830
> 
> 标签：asp.net-mvc, asp.net-mvc-routing, asp.net-web-api-routing

我已经为这个问题苦苦挣扎了至少 4 个小时，尝试了我能找到的所有解决方案。

我的主要项目是使用 Asp.Net 和 MVC 设置的，它们可以很好地路由到项目中的控制器。我正在集成一个库，该库公开了一个在另一个项目中使用 ApiControllers 的 JSON api，但我无法让主项目路由到库项目中的任何内容，它只返回一个 404 海峡。

在我的主要项目 global.asax 中：

```
 public static void RegisterRoutes(RouteCollection routes)
    {
        routes.IgnoreRoute("{*allaxd}", new { allaxd = @".*\.axd(/.*)?" });
        routes.IgnoreRoute("{*less}", new { less = @".*\.less(/.*)?" });

        //ignore aspx pages (web forms take care of these)
        routes.IgnoreRoute("{resource}.aspx/{*pathInfo}");
        routes.IgnoreRoute("{resource}.css/{*pathInfo}");

        //ControllerBuilder.Current.DefaultNamespaces.Add("Nexus.Controllers");

        routes.MapRoute(
            "testapi",
            "testapi/{controller}/{action}",
            new
            {
                controller = "User",
                action = "Get"
            },
            new[] { "Nexus.Controllers" }
        );

        routes.MapRoute(
            // Route name
            "Default",
            // URL with parameters
            "{controller}/{action}/{id}",
            // Parameter defaults
            new { controller = "Events", action = "Index", id = "" }
        );

    } 
```

在我的库项目 UserController 中：

```
namespace Nexus.Controllers
{
    public class UserController : ApiController
    {
        public Object Get(string id)
        {
            var guid = new Guid(id);

            var user = crm.Users.Where(x => x.UserId == guid).FirstOrDefault();

            return new
            {
                id = user.UserId,
                name = user.UserName,
                email = user.Email,
                extension = user.Ext,
                phone = user.Phone
            };
        }
    }
} 
```

我希望工作的 URL 都没有： /testapi /testapi/User /testapi/User/Get /testapi/User/Get?id=1

他们都返回 404。

我什至使用了路由调试器来验证路由是否设置正确： ![路线](../Images/7534a0658046985255dc0dcccb56d727.png)

我错过了什么？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-07T16:34:32.407

您似乎混淆了标准 MVC 控制器（从`System.Web.Mvc.Controller`类派生）和 API 控制器（从`System.Web.Http.ApiController`类派生）。您的 UsersController 是一个 API 控制器。

因此，如果要配置 Web API 路由，则需要使用`MapHttpRoute`扩展方法，而不是`MapRoute`仅适用于标准 MVC 控制器的方法。

像这样：

```
GlobalConfiguration.Configuration.Routes.MapHttpRoute(
    name: "testapi",
    routeTemplate: "testapi/{controller}/{id}",
    defaults: new { id = RouteParameter.Optional }
); 
```

另请注意，在 RESTful API 中，您没有在路由中指定操作名称。它是从用于使用它的 HTTP 动词中假设的。这是[`good article`](http://www.asp.net/web-api/overview/web-api-routing-and-actions/routing-in-aspnet-web-api)我建议您阅读有关 Web API 中的 RESTful 路由的内容。

# c++ - 产品序列和阶乘分配，不确定一行代码是否在正确的位置

> ID：14198620
> 
> 赞同：0
> 
> 时间：2013-01-07T15:11:55.540
> 
> 标签：c++, sequence, product

处理要求计算“y”值的作业，如果给出“n”和“x”，则作业：![在此处输入图像描述](../Images/ff500248c9323cc366c34d9e20d9474c.png)

应该行：

```
 P=P*(F+i/2); 
```

在'else{}'里面？！

编码：

```
//Calculate the value of 'y';
#include<iostream>
using namespace std;

int main()
{
    double y, P=1, F=1;
    int x, n, i, j;
    cout<<"The value of x=";
    cin>>x;
    cout<<"The value of n=";
    cin>>n;
    for(i=1;i<=n;i++)
    {
        if(i==2||i==3)
        {
        }
        else
        {
            for(j=1;j<=(2*i-1);j++)
            {
                F=F*j;
            }
        }
        P=P*(F+i/2);
    }
y=pow((2*x+3),3)+P;
cout<<"The result for the value of y="<<y<<endl;
return 0;
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-07T15:15:17.207

```
P=P*(F+i/2); should be inside else 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-07T15:16:56.447

它应该在`else`子句内部，在`for`循环之后。此外，您必须`F`每次`1`在计算阶乘之前重新初始化。我会这样重写它：

```
for(i=1;i<=n;i++)
{
    if((i!=2) && (i!=3))
    {
        F = 1; // Don't forget this!
        for(j=1;j<=(2*i-1);j++)
        {
            F=F*j;
        }

        P=P*(F+i/2.0); // Don't forget the 2.0 (or you'll get integer division)
    }
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-07T15:37:25.097

`P=P*(F+i/2)`确实应该在 else 分支内。

但还有更多问题：

*   您需要`F`为每个阶乘计算重置
*   在`P=P*(F+i/2)`您内部进行 的整数除法，当为奇数时会`i`给出不正确的结果。`i`

您还可以通过计算 for`i == 1`来简化循环：

```
P=1.5; /* For i == 1 */
for(i=4;i<=n;i++)
{
    F=1.0;
    for(j=1;j<=(2*i-1);j++)
    {
        F=F*j;
    }
    P=P*(F+i/2.0);
} 
```

这消除了`i==2`和的特殊情况`i==3`。

# perforce - perforce 搁置示例

> ID：14198621
> 
> 赞同：1
> 
> 时间：2013-01-07T15:11:58.583
> 
> 标签：perforce, shelve, unshelve

我有代码行 Foo v1 和 Foo v2 从软件仓库签出，其中 v2 是通过 p4 集成命令从 v1 创建的。我对 Foo v1 进行了一些未签入的更改（我不希望它们被签入） - 但我希望它们应用于 Foo v2。

如何使用 p4 shelve 执行此操作？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-07T18:42:13.113

perforce的这个[博客](http://www.perforce.com/blog/100601/p4-move-f-what-its)`p4 move -f`建议是要走的路。（尽管您可能必须恢复删除）[p4 move manual](http://www.perforce.com/perforce/r12.2/manuals/cmdref/move.html) .

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-08T17:01:42.893

下一个版本（即将推出测试版）将允许您使用分支规范直接取消搁置到不同的分支。

# .net - Windows 服务的 Wix 设置项目导致 FileNotFoundException

> ID：14198625
> 
> 赞同：2
> 
> 时间：2013-01-07T15:12:17.757
> 
> 标签：.net, wix, windows-installer, installation

我为 Windows 服务创建了一个 Wix 设置项目。在我的本地开发人员机器（Windows 7 - 64）上，它运行并启动没有问题。但是，当我尝试在 Windows Server 2008 上安装它时，我收到“验证您有足够的权限...”的“常见”错误。在事件查看器中，我可以看到这是由 .NET 运行时引发 FileNotFoundException

> 应用程序：RT.Tools.AutoBettingWinService.exe
> 
> 框架版本：v4.0.30319 描述：进程因未处理的异常而终止。
> 
> 异常信息：System.IO.FileNotFoundException
> 
> 堆栈：在 RT.Tools.AutoBettingWinService.Program.Main()

我已经尝试在我的 .wxs 文件中添加我能想到的所有文件。如下

```
<Wix xmlns="http://schemas.microsoft.com/wix/2006/wi">
    <Product Id="*" Name="AutoBettingWinService.Setup" Language="1033" Version="1.0.0.0" Manufacturer="Norsk RT" UpgradeCode="5756e8b0-3eef-4b1c-9c74-60c05386bff5">

        <Package InstallerVersion="200" Compressed="yes" InstallScope="perMachine" />

        <MajorUpgrade DowngradeErrorMessage="A newer version of [ProductName] is already installed." />
        <MediaTemplate />

        <Feature Id="ProductFeature" Title="AutoBettingWinService.Setup" Level="1">
            <ComponentGroupRef Id="ProductComponents" />
        </Feature>
    </Product>

    <Fragment>
        <Directory Id="TARGETDIR" Name="SourceDir">
            <Directory Id="ProgramFilesFolder">
                <Directory Id="INSTALLFOLDER" Name="AutoBettingWinService.Setup" >
        </Directory>
            </Directory>
        </Directory>
    </Fragment>

    <Fragment>
        <ComponentGroup Id="ProductComponents" Directory="INSTALLFOLDER">
            <Component Id="RT.Tools.AutoBettingWinService" Guid="{8B3B5B09-701E-4BA4-9FD2-093072B303D3}">
        <File Id="Common.Logging.dll" Name="Common.Logging.dll" Source="..\RT.Tools.AutoBettingWinService\bin\Debug\Common.Logging.dll" Vital="yes" KeyPath="no" DiskId="1"/>
        <File Id="RT.Tools.Betting.dll" Name="RT.Tools.Betting.dll" Source="..\RT.Tools.AutoBettingWinService\bin\Debug\RT.Tools.Betting.dll" Vital="yes" KeyPath="no" DiskId="1"/>
        <File Id="Moq.dll" Name="Moq.dll" Source="..\RT.Tools.AutoBettingWinService\bin\Debug\Moq.dll" Vital="yes" KeyPath="no" DiskId="1"/>
        <File Id="Newtonsoft.Json.dll" Name="Newtonsoft.Json.dll" Source="..\RT.Tools.AutoBettingWinService\bin\Debug\Newtonsoft.Json.dll" Vital="yes" KeyPath="no" DiskId="1"/>
        <File Id="nunit.framework.dll" Name="nunit.framework.dll" Source="..\RT.Tools.AutoBettingWinService\bin\Debug\nunit.framework.dll" Vital="yes" KeyPath="no" DiskId="1"/>
        <File Id="Quartz.dll" Name="Quartz.dll" Source="..\RT.Tools.AutoBettingWinService\bin\Debug\Quartz.dll" Vital="yes" KeyPath="no" DiskId="1"/>
        <File Id="RT.Testing.dll" Name="RT.Testing.dll" Source="..\RT.Tools.AutoBettingWinService\bin\Debug\RT.Testing.dll" Vital="yes" KeyPath="no" DiskId="1"/>
        <File Id="RT.WebAPI.dll" Name="RT.WebAPI.dll" Source="..\RT.Tools.AutoBettingWinService\bin\Debug\RT.WebAPI.dll" Vital="yes" KeyPath="no" DiskId="1"/>
        <File Id="System.Net.Http.dll" Name="System.Net.Http.dll" Source="..\RT.Tools.AutoBettingWinService\bin\Debug\System.Net.Http.dll" Vital="yes" KeyPath="no" DiskId="1"/>
        <File Id="System.Net.Http.Formatting.dll" Name="System.Net.Http.Formatting.dll" Source="..\RT.Tools.AutoBettingWinService\bin\Debug\System.Net.Http.Formatting.dll" Vital="yes" KeyPath="no" DiskId="1"/>
        <File Id="System.Net.Http.WebRequest.dll" Name="System.Net.Http.WebRequest.dll" Source="..\RT.Tools.AutoBettingWinService\bin\Debug\System.Net.Http.WebRequest.dll" Vital="yes" KeyPath="no" DiskId="1"/>
        <File Id="System.Web.Http.dll" Name="System.Web.Http.dll" Source="..\RT.Tools.AutoBettingWinService\bin\Debug\System.Web.Http.dll" Vital="yes" KeyPath="no" DiskId="1"/>
        <File Id="System.Web.Http.WebHost.dll" Name="System.Web.Http.WebHost.dll" Source="..\RT.Tools.AutoBettingWinService\bin\Debug\System.Web.Http.WebHost.dll" Vital="yes" KeyPath="no" DiskId="1"/>
        <File Id="Thinktecture.IdentityModel.dll" Name="Thinktecture.IdentityModel.dll" Source="..\RT.Tools.AutoBettingWinService\bin\Debug\Thinktecture.IdentityModel.dll" Vital="yes" KeyPath="no" DiskId="1"/>

        <File Id="_1000UserIds.txt" Name="1000UserIds.txt" Source="..\RT.Tools.AutoBettingWinService\bin\Debug\1000UserIds.txt" Vital="yes" KeyPath="no" DiskId="1"/>

        <File Id="RT.Tools.AutoBettingWinService.exe.manifest" Name="RT.Tools.AutoBettingWinService.exe.manifest" Source="..\RT.Tools.AutoBettingWinService\bin\Debug\RT.Tools.AutoBettingWinService.exe.manifest" Vital="yes" KeyPath="no" DiskId="1"/>
        <File Id="RT.Tools.AutoBettingWinService.exe.config" Name="RT.Tools.AutoBettingWinService.exe.config" Source="..\RT.Tools.AutoBettingWinService\bin\Debug\RT.Tools.AutoBettingWinService.exe.config" Vital="yes" KeyPath="no" DiskId="1"/>

        <File Id="RT.Tools.AutoBettingWinService.pdb" Name="RT.Tools.AutoBettingWinService.pdb" Source="..\RT.Tools.AutoBettingWinService\bin\Debug\RT.Tools.AutoBettingWinService.pdb" Vital="yes" KeyPath="no" DiskId="1"/>
        <File Id="RT.Tools.AutoBettingWinService.exe" Name="RT.Tools.AutoBettingWinService.exe" Source="..\RT.Tools.AutoBettingWinService\bin\Debug\RT.Tools.AutoBettingWinService.exe" Vital="yes" KeyPath="yes" DiskId="1"/>
        <ServiceInstall
              Id="ServiceInstaller"
              Type="ownProcess"
              Vital="yes"
              Name="AutoBettingService"
              DisplayName="AutoBettingService"
              Description="Places bets automatically a given time of day"
              Start="auto"
              Account="NT AUTHORITY\NETWORK SERVICE"
              ErrorControl="normal"
              Interactive="no"
              >
        </ServiceInstall>
        <ServiceControl Id="StartService" Start="install" Stop="both" Remove="uninstall" Name="AutoBettingService" Wait="yes" />
      </Component>
        </ComponentGroup>
    </Fragment>
</Wix> 
```

我还尝试省略“开始”属性并尝试手动启动它，结果相同。

谁能告诉我我的设置有什么问题？为什么会出现 FileNotFoundException？

谢谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-07T20:42:29.357

添加到@Christopher Painter 所说的内容，我将假设问题不在于安装，而在于*未*安装的内容，您已经暗示不确定您的服务具有什么依赖项，因此您应该开始诊断您的应用程序需要哪些依赖项。

Install the application but do not start the service, then start the service manually and by using [Assembly Binding Log Viewer](http://msdn.microsoft.com/en-us/library/e74a18c4%28v=vs.110%29.aspx) this will allow you to view binding failures at runtime, you may have to set `HKLM\Software\Microsoft\Fusion\ForceLog` to 1 to get all failures (see link for more details).

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-07T15:15:50.557

您需要分析服务以找出 FileNotFound 异常所指的内容并将其添加到安装程序中。此外，Windows Installer 组件规则规定，您的每个 DLL 文件都必须是其自己组件的密钥文件。

# hibernate - 使用 detachedCriteria 选择并按不同列的总和排序

> ID：14198630
> 
> 赞同：1
> 
> 时间：2013-01-07T15:12:30.463
> 
> 标签：hibernate, detachedcriteria

我有这个简单的 MySQL 查询：

```
SELECT * from foo ORDER BY (col1+col2+col3) DESC; 
```

col1+col2+col3 的结果是一个整数。

有没有办法在 DetachedCriteria 中使用 hibernate for spring 来做到这一点？

PS我对DetachedCriteria非常缺乏经验

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-07T17:28:28.693

是的，有一种使用公式注释的方法。注释将放置在 Foo 类上。请注意，公式注释接受 sql 列名称而不是对象属性名称。

```
@Formula("col1+col2+col3")
private int calculatedValue;

public int getCalculatedValue() {
    return calculatedValue;
}

public void setCalculatedValue(int calculatedValue) {
    this.calculatedValue = calculatedValue;
} 
```

分离的查询如下所示。

```
DetachedCriteria query = DetachedCriteria.forClass(Foo.class);
query.addOrder(Order.desc("calculatedValue"));
List<Foo> results = query.getExecutableCriteria(session).setMaxResults(100).list(); 
```

# ios - iOS 上的 RequestFileSystem 未定义 PhoneGap/Cordova 2.2.0

> ID：14198631
> 
> 赞同：0
> 
> 时间：2013-01-07T15:12:36.937
> 
> 标签：ios, cordova

我正在尝试为 Android 和 iOS 创建一个 PhoneGap 应用程序。

到目前为止，我已经成功地访问了 Android 2.2 及更高版本上的 LocalFileSystem。

在 iOS（5 和 6）上，不幸的是我没有这样的运气。

[FileReader](http://docs.phonegap.com/en/2.2.0/cordova_file_file.md.html#FileReader%20%22Filereader:)和[FileWriter](http://docs.phonegap.com/en/2.2.0/cordova_file_file.md.html#FileWriter "文件编写器")示例也无法正常工作。

我已经花了一些时间使用[jsconsole.com](http://jsconsole.com)进行调试，据我所知 window.requestFileSystem 和 window.webkitRequestFileSystem 都是未定义的。这可以解释为什么我的文件系统有问题。

我在 iOS 部分使用 Cordova 2.2.0 和 XCode 4.5。

示例和我自己的代码都在 Android 上运行。

如果你们中的任何人有任何建议，我真的很感激它对我的心理健康产生的积极影响！

编辑：
**index.html**：

```
 <!DOCTYPE html>
    <html>
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
        <meta name="format-detection" content="telephone=no" />
        <meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width, height=device-height, target-densitydpi=device-dpi" />
        <title>Hello World</title>
    </head>
    <body>
        <div class="app">
          <a href="javascript:myfs.clicked()">click!</a>

        </div>
        <script type="text/javascript" src="cordova-2.2.0.js"></script>
        <script type="text/javascript" src="js/jquery-1.8.2.min.js"></script>
    <script src="http://jsconsole.com/remote.js?secret-debug-key"></script>

        <script type="text/javascript" src="js/filesystem.js"></script>
        <script type="text/javascript">
          var myfs;
          document.addEventListener('deviceready', function() {
          myfs = new FS();
          myfs.initializeFileSystem();

});

        </script>
    </body>
</html> 
```

**文件系统.js**：

```
var FS = (function() 
          {
              var self = {};

              self.initializeFileSystem = function() 
              {
                  window.requestFileSystem = window.webkitRequestFileSystem || window.requestFileSystem;
                  window.requestFileSystem(1, 0, self.gotFS, self.fail);
              };
              self.gotFS = function (fileSystem)
              {
                  window.rootFS = fileSystem.root;
                  //create our cache directory if it does not exist
                  var entry = fileSystem.root;
                  entry.getDirectory("tempdirectory", {create: true, exclusive: false}, function() {console.log("directory already present or created");}, function(error) {console.log("Error creating directory " + error.code);});                  

              };

              self.fail = function()
              {
                  console.log("requestFileSystem failed");
              };

              self.downloadImage = function(url, fileName, callback)
              {
                  var ft = new FileTransfer();
                  var filename = fileName;
                  var callback = callback;
                  ft.download(
                      url,
                      window.rootFS.fullPath + "/" + filename,
                      function(entry)
                      {
                          if(callback!= undefined)
                          {
                              callback(entry);
                          }
                      },
                      function(error)
                      {
                          console.log("download error: " + error.code);
                      }
                  );
              };

              self.clicked = function()
              {
                  //random test URL
                  var url = "http://www.embeddedpeople.dk/_/rsrc/1301663383918/home/ydelser/konsulentydelser/test/test.png?height=400&width=350";
                  self.downloadImage(url, "test.png", function(){console.log("download succesful");$('body').append('<img src="file:///data/data/dk.attention8.filesystem/test.png" />');});
                  return false;
              };
              return self;

          }

         ); 
```

这适用于 Android，点击后，文件被下载，并且包含对下载图像路径的引用的 img 标签应该插入到 DOM 中。我知道此路径在 iOS 上无效，在带有 SD 卡的设备上也不正确，但在添加此 img 标签之前就出现了问题。
此图像应显示 javascript 代码在 Android 中工作（取自 Android Emulator）。 ![截屏](../Images/6566c70be3a27cd8d20ea06e3a4e4dc9.png)

如果您需要进一步澄清或有问题，我会尽快提供。
感谢您的时间！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-10T09:50:26.233

我终于解决了这个问题。

我有一个通用的“www”文件夹，可以从我的 Android 转移到我的 iOS 项目。

我天真地覆盖了整个 www 文件夹，这导致了问题。

www 文件夹根目录中的 cordova.js 文件是特定于平台的，因此我在我的 iOS 项目中使用了 Android cordova.js 文件，这显然不起作用。

感谢 #phonegap 上的 fmertz 为我指明了正确的方向。

# c# - 将值从 detailsview 传递到 gridview

> ID：14198632
> 
> 赞同：0
> 
> 时间：2013-01-07T15:12:41.493
> 
> 标签：c#, gridview, detailsview

我有 2 个 gridview 和 detailsview，使用 objectdatasource 检索。

当我选择 GridView1 时，它将在 GridView2 中显示其详细信息，并且可见的 DetailsView 为假。detailsview 中的值将传递给gridview。但是，现在该值无法传递到网格视图中。在进入 detailsview 日期绑定之前，系统总是会先执行 GridView2_RowDataBound。

这是代码：

```
 <asp:DropDownList ID="DropDownList1" 
            runat="server" 
            Height="19px" 
            Width="154px" 
            AppendDataBoundItems="True" 
            AutoPostBack="True" 
            DataTextField="invoiceStatus" 
            DataValueField="invoiceStatus" 
            DataSourceID="getStatus" >

</asp:DropDownList> 

&nbsp;<asp:ObjectDataSource ID="getStatus" runat="server" SelectMethod="getStatus" 
    TypeName="iWineBlInvoice">
    <SelectParameters>
        <asp:Parameter Name="poNum" Type="Int32" />
        <asp:Parameter Name="invoiceNum" Type="Int32" />
        <asp:Parameter Name="invoiceStatus" Type="String" />
    </SelectParameters> 

</asp:ObjectDataSource>
<asp:ObjectDataSource ID="ObjectDataSource1" runat="server" 
    SelectMethod="getInvoice" TypeName="iWineBlInvoice" FilterExpression="[invoiceStatus]='{0}'" >
    <SelectParameters>
        <asp:Parameter Name="invoiceNum" Type="Int32" />

    </SelectParameters>

</asp:ObjectDataSource>
<br />
    <asp:GridView ID="GridView1" runat="server" DataSourceID="ObjectDataSource1" 
    onrowdatabound="GridViewInvoice_RowDataBound" 
    onselectedindexchanged="GridViewInvoice_SelectedIndexChanged">
    <Columns>
        <asp:CommandField ShowSelectButton="True" />

        <asp:BoundField DataField="invoiceNum" HeaderText="Invoice No" 
            SortExpression="invoiceNum" />
        <asp:BoundField DataField="supplierName" HeaderText="Supplier " 
            SortExpression="supplierName" />
        <asp:CheckBoxField DataField="certifyGood" HeaderText="Goods Received" 
        SortExpression="certifyGood"  />

    </Columns>
    </asp:GridView>

  <asp:ObjectDataSource ID="ObjectDataSource3" runat="server" 
    SelectMethod="getDetails" TypeName="iWineBlInvoice">
    <SelectParameters>
        <asp:Parameter Name="supplierLogo" Type="String" />
        <asp:Parameter Name="supplierName" Type="String" />
        <asp:Parameter Name="supplierAddr" Type="String" />
        <asp:ControlParameter ControlID="GridViewInvoice" Name="poNum" 
            PropertyName="SelectedValue" Type="Int32" />
        <asp:Parameter Name="invoiceNum" Type="Int32" />

    </SelectParameters>
    </asp:ObjectDataSource>

       <asp:GridView ID="GridView2" runat="server" DataSourceID="ObjectDataSource3" 
    DataKeyNames="poNum" AutoGenerateColumns="False" Height="16px" 
    style="text-align: center" Width="696px" 
     onrowdatabound="GridView1_RowDataBound" >
    <Columns>
        <asp:BoundField DataField="poNum" HeaderText="Purchase Order No" 
            SortExpression="poNum" />
        <asp:BoundField DataField="invoiceDate" HeaderText="Invoice Date" 
            SortExpression="invoiceDate" />
        <asp:BoundField DataField="invoiceDueDate" HeaderText="Invoice Due Date" 
            SortExpression="invoiceDueDate" />
        <asp:BoundField DataField="deliveryDate" HeaderText="Delivery Date " 
            SortExpression="deliveryDate" />

        <asp:TemplateField HeaderText="Payment Date " SortExpression="datePaid">
            <ItemTemplate>
                <asp:Label ID="paymentDate" runat="server"></asp:Label>
            </ItemTemplate>

        </asp:TemplateField>

    </Columns>
    </asp:GridView>

    <asp:ObjectDataSource ID="ObjectDataSource2" runat="server" SelectMethod="getPayment" 
    TypeName="iWineBlInvoice">
    <SelectParameters>
        <asp:ControlParameter ControlID="GridViewInvoice" Name="poNum" 
            PropertyName="SelectedValue" Type="Int32" />
        <asp:Parameter Name="datePaid" Type="String" />
    </SelectParameters>
</asp:ObjectDataSource>

<br />

 <asp:DetailsView ID="DetailsView1" runat="server" AutoGenerateRows="False" 
    DataSourceID="ObjectDataSource2" Height="50px" Width="125px" 
    ondatabound="DetailsView1_DataBound">
    <Fields>
        <asp:BoundField DataField="poNum" HeaderText="poNum" SortExpression="poNum" />

        <asp:TemplateField HeaderText="datePaid" SortExpression="datePaid">
            <ItemTemplate>
                <asp:Label ID="paymentDateLbl" runat="server" Text='<%# Bind("datePaid") %>'>      </asp:Label>
            </ItemTemplate>

        </asp:TemplateField>
    </Fields>
    </asp:DetailsView> 
```

这是后面的代码：

```
String payment2 = string.Empty; 

protected void Page_Load(object sender, EventArgs e)
{

}

protected void DetailsView1_DataBound(object sender, EventArgs e)
{

    Label payment = (Label)DetailsView1.FindControl("paymentDateLbl");
    if (payment != null)
    {
        payment2 = payment.Text; 

    }

}

protected void GridView2_RowDataBound(object sender, GridViewRowEventArgs e)
{
    if (e.Row.RowType == DataControlRowType.DataRow)
    {
        Label aaa = new Label();
        aaa.Text = DropDownList1.SelectedItem.Text;

        if (aaa.Text == "Paid")
        {
            Label paymentDate = (Label)e.Row.FindControl("paymentDate");
            paymentDate.Text = payment2;  //payment 2 has become null 
        }

      } 
   } 
```

# android - onSensorChanged 得到的不同类型的传感器数据是否相同？

> ID：14198639
> 
> 赞同：-1
> 
> 时间：2013-01-07T15:13:07.937
> 
> 标签：android, android-sensors

我的意思是，对于下面的代码，_aBuffer.size(), _laBuffer.size(), .... 都一样吗？

我在不同的设备上尝试过相同的代码，一个是“是”，另一个是“否”，但我不知道第二个设备的硬件是否有问题，因为它有一些奇怪的行为

```
public void onSensorChanged(SensorEvent event) {
    int eType = event.sensor.getType();
    float[] values = event.values.clone();

    if (eType == Sensor.TYPE_ACCELEROMETER) {
        _aBuffer.offer(values);
        System.out.println("onSensorChanged values: "+values[0]+","+values[1]+","+values[2]);
    } else if (eType == Sensor.TYPE_LINEAR_ACCELERATION) {
        _laBuffer.offer(values);
    } else if (eType == Sensor.TYPE_GRAVITY) {
        _gBuffer.offer(values);
    } else if (eType == Sensor.TYPE_MAGNETIC_FIELD) {
        _mBuffer.offer(values);
    } else if (eType == Sensor.TYPE_ORIENTATION) {
        // do nothing
    } else if (eType == Sensor.TYPE_GYROSCOPE) {
        _gyroBuffer.offer(values);
    } else if (eType == Sensor.TYPE_ROTATION_VECTOR) {
        _rotBuffer.offer(values);
    }
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-07T15:47:40.287

由于样本数量取决于您提供的值

```
public boolean registerListener (SensorEventListener listener, Sensor sensor, int rate) 
```

理论上，样本的大小必须相同。但在实践中并不总是如此。

[http://developer.android.com/reference/android/hardware/SensorManager.html#registerListener(android.hardware.SensorEventListener, android.hardware.Sensor, int)](http://developer.android.com/reference/android/hardware/SensorManager.html#registerListener%28android.hardware.SensorEventListener,%20android.hardware.Sensor,%20int%29)

说

> 速率传感器事件的发送时间为。这只是对系统的提示。**事件的接收速度可能比指定的速率快或慢。通常会更快地接收到事件。**该值必须是 SENSOR_DELAY_NORMAL、SENSOR_DELAY_UI、SENSOR_DELAY_GAME 或 SENSOR_DELAY_FASTEST 之一。或者，事件之间的所需延迟（以微秒为单位）。

# android - 将视图宽度和高度调整为 50%

> ID：14198640
> 
> 赞同：0
> 
> 时间：2013-01-07T15:13:11.290
> 
> 标签：android, gallery, adapter

我正在使用自定义适配器创建一个画廊（在女巫中的相对布局，我将图像视图作为缩略图，将文本视图作为名称和其他人员）。

画廊完美地全屏显示，但这不是我想要的.. 我希望自定义相对布局相对于屏幕尺寸缩放到高度和宽度的 50%。我试过这个：

```
gallery.getLayoutParams().width = relativelayout.getWidth() / 2;
gallery.getLayoutParams().height = relativelayout.getHeight() / 2; 
```

这是一个错误的尝试，它只是将高度和宽度设置为正确的大小而不缩放内容。

这是原始视图：

![原来的](../Images/11e86f9d82dc77bf2a5a81086ee396fe.png)

这是我所期望的：

![期待](../Images/20895d4984be9abc9d9d665b7203940f.png)

这就是我所拥有的：

![结果](../Images/043ec5d8336accdcec704d6e918053a4.png)

这是布局封面：

```
<?xml version="1.0" encoding="utf-8"?>
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:orientation="vertical" >

    <ImageView
        android:id="@+id/ivTourCover"
        android:layout_width="640dp"
        android:layout_height="240dp"
        android:layout_alignParentLeft="true"
        android:layout_alignParentTop="true"
        android:contentDescription="@string/app_name"
        android:scaleType="fitXY"
        android:src="@drawable/croppedstopgallery_f45d88e4_7864_4dbc_9123_ad7953d8724a" />

    <ImageButton
        android:id="@+id/ivHorizontalLine"
        android:layout_width="match_parent"
        android:layout_height="1dp"
        android:layout_below="@+id/tvTourName"
        android:layout_marginLeft="20dp"
        android:layout_marginRight="20dp"
        android:layout_marginTop="0dp"
        android:contentDescription="@string/app_name"
        android:scaleType="fitXY"
        android:src="@drawable/horizontal_line" />

    <TextView
        android:id="@+id/tvAuthorName"
        style="@style/Cover.AuthorName"
        android:layout_width="fill_parent"
        android:layout_height="19dp"
        android:layout_alignTop="@+id/ivAuthorThumbnail"
        android:layout_marginLeft="12dp"
        android:layout_marginRight="17dp"
        android:layout_toLeftOf="@+id/ivGo"
        android:layout_toRightOf="@+id/ivAuthorThumbnail"
        android:text="Anna Greenleaf" />

    <ImageView
        android:id="@+id/ivAuthorThumbnail"
        android:layout_width="46dp"
        android:layout_height="46dp"
        android:layout_alignLeft="@+id/ivHorizontalLine"
        android:layout_below="@+id/ivHorizontalLine"
        android:layout_marginTop="20dp"
        android:contentDescription="@string/app_name"
        android:scaleType="fitXY"
        android:src="@drawable/croppedstopgallery_f45d88e4_7864_4dbc_9123_ad7953d8724a" />

    <ImageView
        android:id="@+id/ivGo"
        android:layout_width="46dp"
        android:layout_height="46dp"
        android:layout_alignRight="@+id/ivHorizontalLine"
        android:layout_alignTop="@+id/tvAuthorName"
        android:contentDescription="@string/app_name"
        android:scaleType="fitXY"
        android:src="@drawable/tour_cover_go" />

    <TextView
        android:id="@+id/tvAuthorDescription"
        style="@style/Cover.AuthorDescription"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_alignLeft="@+id/tvAuthorName"
        android:layout_alignRight="@+id/tvAuthorName"
        android:layout_below="@+id/tvAuthorName"
        android:text="London native and London over!" />

    <SurfaceView
        android:id="@+id/svFooter"
        android:layout_width="wrap_content"
        android:layout_height="30dp"
        android:layout_alignParentBottom="true"
        android:layout_alignParentLeft="true"
        android:layout_alignParentRight="true"
        android:background="@color/CoverFooter" />

    <TextView
        android:id="@+id/tvFooterText"
        style="@style/Cover.FooterText"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_alignBaseline="@+id/svFooter"
        android:layout_alignBottom="@+id/svFooter"
        android:layout_centerHorizontal="true"
        android:layout_marginBottom="10dp"
        android:text="Individual" />

    <com.example.zipdownload.utilities.ui.AutoResizeTextView
        android:id="@+id/tvTourName"
        style="@style/Cover.TourName"
        android:layout_width="wrap_content"
        android:layout_height="79dp"
        android:layout_below="@+id/ivTourCover"
        android:layout_centerHorizontal="true"
        android:layout_marginLeft="20dp"
        android:layout_marginRight="20dp"
        android:layout_marginTop="15dp"
        android:gravity="center|top"
        android:text="Beautiful London in Winston Churchill&apos;s footsteps" />

</RelativeLayout> 
```

查看画廊：

```
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:tools="http://schemas.android.com/tools"
    android:id="@+id/rlGallery"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    tools:context=".Gallery" >

    <Gallery
        android:id="@+id/gCoverflow"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_centerHorizontal="true"
        android:layout_centerVertical="true"
        android:gravity="top" />

</RelativeLayout> 
```

和活动图库：

```
public class Gallery extends Activity {
    private android.widget.Gallery gCoverflow;
    private RelativeLayout rlGallery;
    private CoverAdapter adapter;

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_gallery);
        rlGallery = (RelativeLayout) findViewById(R.id.rlGallery);
        adapter = new CoverAdapter(this);
        gCoverflow = (android.widget.Gallery) findViewById(R.id.gCoverflow);
        gCoverflow.setAdapter(adapter);
    }

    @Override
    public void onWindowFocusChanged(boolean hasFocus) {
        super.onWindowFocusChanged(hasFocus);
        gCoverflow.getLayoutParams().width = rlGallery.getWidth() / 2;
        gCoverflow.getLayoutParams().height = rlGallery.getHeight() / 2;
    }
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-07T15:44:58.233

您可以尝试使用`ScaleAnimation`，但在这种情况下，触摸事件将无法正常工作：

```
final ScaleAnimation animation = new ScaleAnimation (
        1f, 0.5f, 1f, 0.5f,
        Animation.RELATIVE_TO_SELF, 0.5f,
        Animation.RELATIVE_TO_SELF, 0.5f
);

final LayoutAnimationController controller = new LayoutAnimationController(animation);

animation.setDuration(0);
animation.setFillAfter(true);

gCoverflow.setLayoutAnimation(controller); 
```

此代码应添加到`onCreate`方法中。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-07T15:23:20.103

我找到了伙计们，而不是：

```
gCoverflow.getLayoutParams().width = rlGallery.getWidth() / 2;
gCoverflow.getLayoutParams().height = rlGallery.getHeight() / 2; 
```

我使用这个：

```
gCoverflow.setScaleX((float) 0.5);
gCoverflow.setScaleY((float) 0.5); 
```

# android - 将元数据添加到 Android Account/AccountManager

> ID：14198641
> 
> 赞同：1
> 
> 时间：2013-01-07T15:13:11.293
> 
> 标签：android, accountmanager

我使用 AccountManager 代码登录工作，但默认情况下，帐户只存储用户名和密码。我还需要存储用户的姓名、电子邮件和其他一些数据。

如何通过 AccountManager 将这些额外的元数据存储在 Account 中？如果每次用户登录时都加载此数据也可以 - 我是否将其他参数添加到 Bundle 中？如果有，是哪一个？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-07T19:19:37.790

要添加和存储元数据，请使用 AccountManager.getUserData 和 AccountManager.setUserData。

# css - 为什么会继承 top/right/bottom/left CSS 属性？

> ID：14198647
> 
> 赞同：1
> 
> 时间：2013-01-07T15:13:29.517
> 
> 标签：css, positioning

标准规定`top`// CSS属性不被继承`right`。`bottom``left`

CSS 2.1：[http](http://www.w3.org/TR/CSS2/visuren.html#position-props)
://www.w3.org/TR/CSS2/visuren.html#position-props CSS 定位模块：[http ://www.w3.org/TR/css3-positioning/#box-offsets-trbl](http://www.w3.org/TR/css3-positioning/#box-offsets-trbl)

但据我所见（我测试了 Firefox、Chrome、IE10 和 Opera），实现*确实*继承了这些属性。

HTML：

```
<div id="container">
  <div id="transition">Hello World</div>
</div> 
```

CSS：

```
#container {
  position: absolute;
  left: 20px;
  top: 20px;
}

#transition {
  position: absolute;
  left: inherit;
  top: inherit;
} 
```

在这里，`#transition`元素接收其父级的`top`/`left`值。

**现场演示：** [http ://t.co/aIRuHPAj](http://t.co/aIRuHPAj)

我在这里想念什么？

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-01-07T15:17:41.420

它们*继承*了`top`and`left`属性，因为您**明确地**这样做了：

```
#transition {
  /* ... */
  left: inherit;
  top: inherit;
} 
```

如果没有这两行，这些属性将不会被**隐式**继承（符合规范）。[演示](http://jsfiddle.net/dMhMB/1/)。

# objective-c - 理解 Objective-C 中的实例化

> ID：14198650
> 
> 赞同：3
> 
> 时间：2013-01-07T15:13:43.683
> 
> 标签：objective-c, cocoa, nsstring, instantiation

我目前正在尝试通过阅读书籍和在线教程来学习 Objective-C，还参考了 Apple 文档，但有些东西就是不点击。我有一个关于类的问题，我使用 NSString 已经有一段时间了，并没有过多关注它的使用方式。

我的印象是，为了让某人能够使用 Objective-C 中某个类的方法，您首先需要实例化它，例如……</p>

```
ClasssName *varName = [[ClassName alloc]init]; 
```

然后你会调用像......

```
[varName someMethod]; 
```

但是看看 NSString 是如何使用的，我现在有点困惑，例如这里是我们通常如何使用它......

```
NSString *someString = @"some text here";
[someString stringByAppendingFormat:  @"some text = %d", 3]; 
```

按照我读过的关于类的内容，我们需要做如下的事情。

```
NSString *someString  =  [[NSString alloc]initWithString: @"some text here"];
[someString stringByAppendingFormat:  @"some text = %d", 3]; 
```

有人可以解释为什么某些类在使用其方法之前不需要实例化吗？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-01-07T15:19:13.073

Objective-C 知道一些称为*literals*的缩写。编译器知道特殊符号。字符串文字被编译成二进制文件并在应用程序的整个生命周期中退出。

在大多数情况下，它的行为类似于在运行时创建的对象。

*   如果两个字面量相同，则只会创建一个对象并永远存在
*   如果您之前创建`NSString *string = [[NSString alloc] initWithString:@"My String"];`时`@"My String"`用作文字，也`string`可以指向它。

由于 Apple LLVM Compiler 4.0 Objective-C 知道[更多文字](http://clang.llvm.org/docs/ObjectiveCLiterals.html)。但与字符串文字相比，这些文字是在运行时通过方便的初始化程序创建的。

* * *

注意

```
[someString stringByAppendingFormat:  @"some text = %d", 3]; 
```

不会改变一些字符串。它返回一个新的字符串对象。

```
NSString *newString = [someString stringByAppendingFormat:  @"some text = %d", 3]; 
```

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2013-01-07T15:23:31.523

# javascript - scala 的 JavaScript 源代码生成库

> ID：14198656
> 
> 赞同：4
> 
> 时间：2013-01-07T15:14:02.773
> 
> 标签：javascript, scala, code-generation, abstract-syntax-tree

我正在寻找一个从抽象语法树生成 JavaScript 的 scala 库。我想在最后生成 JavaScript 的编译器中使用它，我不想自己实现漂亮的打印部分。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-09-12T15:25:55.477

我昨天花了一半时间研究这个。似乎没有*标准的独立*解决方案。我看过的每个项目都有自己的：

*   **Scala-JS**：Sébastien Doeraene 的 Scala-JS 项目中的 JavaScript AST 类在这里：[https ://github.com/sjrd/scala-js/blob/master/compiler/src/main/scala/scala/tools/nsc/ backend/js/JSTrees.scala](https://github.com/sjrd/scala-js/blob/master/compiler/src/main/scala/scala/tools/nsc/backend/js/JSTrees.scala)和字符串的转换在这里：[https ://github.com/sjrd/scala-js/blob/master/compiler/src/main/scala/scala/tools/nsc/backend/js /JSPrinters.scala](https://github.com/sjrd/scala-js/blob/master/compiler/src/main/scala/scala/tools/nsc/backend/js/JSPrinters.scala)

*   **JScala**：Alexander Nemish 的 JScala 项目中的 JavaScript AST 类在这里：[https](https://github.com/nau/jscala/blob/master/jscala/src/main/scala/org/jscala/model.scala) ://github.com/nau/jscala/blob/master/jscala/src/main/scala/org/jscala/model.scala和字符串的转换在这里：[https ://github.com/nau/jscala/blob/master/jscala/src/main/scala/org/jscala/JavascriptPrinter.scala](https://github.com/nau/jscala/blob/master/jscala/src/main/scala/org/jscala/JavascriptPrinter.scala)

*   **s2js**：Alvaro Carrasco 的 s2js 项目中的 JavaScript AST 类在这里：[https](https://github.com/alvaroc1/s2js/blob/master/plugin/src/main/scala/com/gravitydev/s2js/Trees.scala) ://github.com/alvaroc1/s2js/blob/master/plugin/src/main/scala/com/gravitydev/s2js/Trees.scala和转换到字符串在这里：[https ://github.com/alvaroc1/s2js/blob/master/plugin/src/main/scala/com/gravitydev/s2js/JsPrinter.scala](https://github.com/alvaroc1/s2js/blob/master/plugin/src/main/scala/com/gravitydev/s2js/JsPrinter.scala)

*   **Lift**（请参阅@thoredge 的答案）将 AST 类与字符串生成结合在一个文件中，此处：[https ://github.com/lift/framework/blob/master/web/webkit/src/main/scala/net/liftweb/ http/js/JsCommands.scala](https://github.com/lift/framework/blob/master/web/webkit/src/main/scala/net/liftweb/http/js/JsCommands.scala)

这些不同的类的独立性和可重用性如何？只是给代码一个视觉效果，在我看来 JScala 和 s2js 中的 AST 类是独立的，可以很容易地被另一个项目借用。Scala-JS AST 类似乎与周围环境更加纠缠不清；电梯，更是如此。（我欢迎改进我的非正式印象的编辑。）

这些不同的项目有多成熟和久经考验？我的非正式印象是它们按降序排列如下：Lift、Scala-JS、JScala、s2js。

对于我自己的项目，我想我将从 JScala 复制并粘贴两个源文件，看看它是如何进行的。

PS我还提到，为了完整起见：

*   **js-scala**直接从 Scala AST 生成 JavaScript 字符串，而不是通过中间的 JavaScript AST。（例如参见[https://github.com/js-scala/js-scala/blob/master/core/src/main/scala/scala/js/gen/js/Compile.scala](https://github.com/js-scala/js-scala/blob/master/core/src/main/scala/scala/js/gen/js/Compile.scala)）有一个非常好的博客[在这里](http://julien.richard-foy.fr/blog/2013/12/19/js-scala-and-scala-js/)比较 js-scala 和 scala.js 。

*   我没有看**Scala-GWT**。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-07T16:00:31.843

[StringTemplate](http://www.stringtemplate.org/)（来自 ANTLR）对于代码生成非常好，我想说，它*确实*跟踪缩进并将嵌套语句的缩进保持在正确的级别。不是很漂亮的印刷，但总比没有好。（同时，我想知道为什么你想要漂亮的打印 JavaScript，如果最终它无论如何都会被缩小。）

StringTemplate 有一个 Scala 包装器（至少一个，我似乎记得我看到了更多）：[http ://software.clapper.org/scalasti/](http://software.clapper.org/scalasti/)

Virtualized-scala 似乎不是您所需要的，我想说，因为它以 Scala 和 Scala AST 开头，而这似乎不是您所需要的。

但是，如果您也对这类事情感兴趣，您可能还想查看[http://nescala.org/2013/talks#26](http://nescala.org/2013/talks#26)（由 Alvaro Carrasco 撰写）。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-01-07T15:31:49.190

Lift Web 框架从 AST 生成 JavaScript。但是，我从来没有看过它的世代结束。此处对 AST 进行了粗略的描述[http://exploring.liftweb.net/master/index-10.html](http://exploring.liftweb.net/master/index-10.html)

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-01-07T15:39:52.673

有 Virtualized-Scala 项目，其中一个实例是从 Scala 代码[js-scala](https://github.com/js-scala/js-scala)生成 Javascript 。在那里你会找到项目的链接并讨论它。

# aptana3 - 在 aptana 3 中调试时，我在变量选项卡中看不到变量列表

> ID：14198660
> 
> 赞同：1
> 
> 时间：2013-01-07T15:14:14.507
> 
> 标签：aptana3

在 aptana 3 中调试时，我在变量选项卡中看不到变量列表。我在 ubuntu12.04 amd64 和 oracle java 7 中使用 aptana3。设置断点后，我使用 step into (F5)。那时我在变量选项卡中看不到变量列表。

有什么事？

# jquery - jQuery - 单击时如何在 li 元素上添加一个类？

> ID：14198663
> 
> 赞同：0
> 
> 时间：2013-01-07T15:14:24.097
> 
> 标签：jquery, list, html, html-lists, addclass

我发现了很多类似的问题，但不幸的是，没有一个能真正帮助解决我的问题......

我有一个导航列表

```
<div class="nav-container">
     <ul>
          <li><a href="index.php">Home</a></li>
          <li><a href="contact.php">Contact</a></li>
     </ul>
</div> 
```

当我点击它时，我想给锚标签（而不是'li'）一个类。到目前为止，我有：

```
$(".nav-container li a").click(function(){
    $('.nav-container li a').removeClass('nav-active');
    $(this).addClass('nav-active');
}) 
```

它似乎在一瞬间添加了这个类，然后消失了。

我已经设法通过使用'return false;'来申请课程。最后，但它阻止了实际链接一起工作。

我猜一个正在取消另一个，它只需要一些方法来阻止它......不太确定你是如何做到的（抱歉 - jQuery 新手）

提前感谢任何可以解决我的问题的人:)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-07T15:16:59.560

对于此示例，浏览器正在重新加载 index.php 或 contact.php，因此您可能需要将类逻辑放在服务器上。

您的课程正在消失，因为页面正在重新加载，并且这个新页面不知道触发更改的旧页面事件。

要仅在 Javascript 中解决此问题，您需要：

*   在单击事件上放置一个 cookie，然后在页面加载时将其读回以在新页面上重新应用该类，或者
*   异步加载每个页面的内容

但是，由于您当前将 contact.php 和 index.php 作为两个独立的页面，因此将类硬编码到每个页面的标记中可能会更容易。

# javascript - 使用 JavaScript 裁剪图像在 IE 中有效，但在 Firefox 中无效

> ID：14198664
> 
> 赞同：2
> 
> 时间：2013-01-07T15:14:29.547
> 
> 标签：javascript, dom-events, crop

> **可能重复：**
> [我们如何防止 JavaScript 中的默认操作？](https://stackoverflow.com/questions/1886306/how-do-we-prevent-default-actions-in-javascript)

在下面的代码中，我尝试为图表创建缩放功能。我在 IE 上对其进行了测试，它可以工作，但是当我在 Firefox 上尝试时，似乎浏览器并没有取消默认操作并尝试拖动整个图像。我无法弄清楚为什么它不起作用！

[提琴手](http://jsfiddle.net/3U39E/7/)

```
<img onmousedown="startDrag" onmousemove="drag" onmouseup="stopDrag" src="ChartImageSource">
MouseDownPosition = null;

startDrag = function (s, e) {
    if (!this.MouseDownPosition && e.which == 1) {
        this.MouseDownPosition = {
            x: e.clientX,
            y: e.clientY
        };
        this.Box = document.createElement("div");
        $(this.Box).attr('id', 'zoomBox').css({ 'border-style': 'solid', 'border-color': 'black', 'border-width': '1px', 'position': 'absolute', 'z-index': '1000', 'left': e.clientX + 'px', 'top': e.clientY + 'px', 'width': '0px', 'height': '0px' });
        $(s).parent().append(this.Box);
    }
};
drag = function (s, e) {
    if (this.MouseDownPosition) {
        e.preventDefault();
        var initX = this.MouseDownPosition.x;
        var initY = this.MouseDownPosition.y;
        var curX = e.clientX;
        var curY = e.clientY;
        var left;
        var top;
        var width;
        var height;
        if (curX - initX >= 0) {
            width = curX - initX + 'px';
            left = initX + 'px';
        } else {
            width = -curX + initX + 'px';
            left = curX + 'px';
        }
        if (curY - initY >= 0) {
            height = curY - initY + 'px';
            top = initY + 'px';
        } else {
            height = -curY + initY + 'px';
            top = curY + 'px';
        }
        $(this.Box).css({ 'width': width, 'height': height, 'left': left, 'top': top });
    }
};
stopDrag = function (s, e) {
    if (this.MouseDownPosition) {
        var initX = this.MouseDownPosition.x;
        var initY = this.MouseDownPosition.y;
        var curX = e.clientX;
        var curY = e.clientY;
        var curOffX = e.offsetX;
        var curOffY = e.offsetY;
        var initOffX = ((curX - initX) ? initX - curX : -(initX - curX)) + curOffX;
        var initOffY = ((curY - initY) ? initY - curY : -(initY - curY)) + curOffY;
        var MinPixX = initOffX <= curOffX ? initOffX : curOffX;
        var MaxPixX = initOffX >= curOffX ? initOffX : curOffX;
        var MinPixY = initOffY <= curOffY ? initOffY : curOffY;
        var MaxPixY = initOffY >= curOffY ? initOffY : curOffY;
        s.parentNode.removeChild(this.Box);
        this.MouseDownPosition = null;
    }
}; 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-07T15:17:47.583

您通常需要`return false;`从事件处理程序中绕过默认操作。

或者，jQuery 提供`preventDefault()`和`stopPropagation()`函数。您可能需要同时调用它们，但 IMO 非常冗长，并且替代 ( `return false;`) 在您不使用 jQuery 时也可以使用。

[关于替代品的进一步讨论](https://stackoverflow.com/questions/1357118/event-preventdefault-vs-return-false)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-07T15:18:11.273

`e.preventDefault();`是不足够的。你`e.stopPropagation();`也需要打电话。

见：[http ://www.quirksmode.org/js/events_order.html](http://www.quirksmode.org/js/events_order.html)

# java - Eclipse 不显示 javadocs

> ID：14198665
> 
> 赞同：21
> 
> 时间：2013-01-07T15:14:36.317
> 
> 标签：java, eclipse, javadoc

我在我的 Windows 7 系统上安装了 JDK 7 和 eclipse JUNO。它们都工作正常，并且 eclipse 非常好地编译我的 Java 应用程序并运行它们。

但是当我在语法上滚动光标时，它没有显示它的描述。它说：

`This element has no attached source and the Javadoc could not be found in the attached Javadoc.`

对于每个元素。我在谷歌上找不到任何有用的东西，而且 StackOverflow 上也没有类似的帖子。

问题是什么？

* * *

## 回答 #1

> 赞同：44
> 
> 时间：2013-01-07T15:17:44.610

您确定您的 Eclipse 可以使用 JDK 而不是 JRE 吗？在`Project>Properties>Java Build Path`选项卡中`libraries`查看是否已链接 JDK 或 JRE。

例如，这里使用了 JDK：

![在此处输入图像描述](../Images/158e1693ce5c9fbfdc307b6cc1c1b99f.png)

如果你只安装了 JRE，你需要先安装一个 JDK（在[这里](http://www.oracle.com/technetwork/java/javase/downloads/index.html)找到它），然后在 Eclipse 中去`Windows>Preferences>Java>Installed JREs`那里添加你的 JDK。然后你可以将它作为一个库添加到你的项目设置中（在上面的屏幕截图中）......

# javascript - Firefox 在输入数据时滚动到页面顶部

> ID：14198666
> 
> 赞同：0
> 
> 时间：2013-01-07T15:15:02.787
> 
> 标签：javascript, jquery, html, css

当我在键击页面滚动到顶部后将数据输入到页面底部时。这是带有此表单[http://inmed.brandsites.pl/konfigurator/](http://inmed.brandsites.pl/konfigurator/)的页面，当我尝试以“Osoba zamawiająca”为标题完成数据时，就会发生这种情况。任何想法为什么会这样？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-07T16:47:04.273

只需创建一个处理`onclick`事件并返回 false 或`preventdefault`.

# java - 如何在php中获取数据报包

> ID：14198667
> 
> 赞同：0
> 
> 时间：2013-01-07T15:15:05.313
> 
> 标签：java, php, udp, datagram

我有一个`Socket`Java 并发送一个`DatagramPacket`我需要从 PHP 页面读取的内容，然后将其写入文件，但我找不到办法。

这是 Java 中的 Socket 代码：

```
private void openSocket(){
    try {
          client = new DatagramSocket();
          System.out.println(" Socket client açıldı.. ");
    } catch (Exception e) {
        System.out.println(" PosyByte : Open Socket Hata " + e.toString());
    }
}
private InetAddress getIpaddress(String adress){

    try {
              InetAddress ipaddress = InetAddress.getByName(adress);
              return ipaddress;
    } catch (Exception e) {

        System.out.println(" PosyByte : getIpaddress Hata!  " + e.toString());
        return null;
    }
}
private DatagramPacket createDatagramPacket(byte[] buf , int length , InetAddress ipadress , int port){
DatagramPacket dp = new DatagramPacket(buf, length, ipadress, port);
return dp;
}

private void sendDataOnSocket (DatagramPacket udp){
    try {
        client.send(udp);
    } catch (IOException ex) {
        System.out.println(" PosyByte : SendDataonSocket Hata!  " + ex.toString());
    }catch (Exception e){
     System.out.println(" PosyByte : SendDataonSocket Hata!  " + e.toString());
    }
}
private void closeSocket(){   
client.close();
 System.out.println(" Socket client kapandı.. ");
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-07T15:35:41.917

看看我用 PHP 编写的[SA-MP（San Andreas Multiplayer）API ，它发送和接收 UDP（数据报）数据包。](http://forum.sa-mp.com/showthread.php?t=355574)查看源代码可能会对您有所帮助。

我还[用 Java 写了一篇](http://forum.sa-mp.com/showthread.php?t=354062)，所以你可以比较一下不同之处。

# .net - .NET 4.5 MethodInfo 序列化重大更改

> ID：14198668
> 
> 赞同：8
> 
> 时间：2013-01-07T15:15:14.567
> 
> 标签：.net, serialization, .net-4.5

# 问题

使用 1.0 版本的程序集序列化的对象（具有私有`MethodInfo`字段）不会使用该程序集的 1.1 版本反序列化（`SerializationException`由于未找到所需的方法，将抛出 a）。

## 有什么改变？

我发现在 .NET 4.5 中，`MemberInfo`via的序列化机制`MemberInfoSerializationHolder`已经改变。在过去（直到 .NET 4.0），序列化数据是方法签名（通过简单的`MethodInfo.ToString()`. 根据 .NET 源代码中的注释，他们添加了通过以下方式获得的第二个签名`SerializationToString()`：

> m_signature 存储有时不明确的成员的 ToString() 表示。相同方法或属性的多个重载可以相同 ToString()。m_signature2 存储对每个成员来说应该是唯一的 SerializationToString() 表示。它仅由 4.0 后的 CLR 版本编写和使用。

对于我所看到的`MemberInfoSerializationHolder.GetRealObject()`使用这个（简化的）代码来解析方法（来自.NET源代码）：

```
for (int i = 0; i < methods.Length; i++)
{ 
    if (m_signature2 != null) // SerializationToString() signature
    {
        if (((RuntimeMethodInfo)methods[i]).SerializationToString().Equals(m_signature2))
        { 
            methodInfo = methods[i];
            break; 
        } 
    }
    else 
    {
        if (methods[i].ToString().Equals(m_signature))
        { 
            methodInfo = methods[i];
            break; 
        }
    }
}

if (methodInfo == null)
    throw new SerializationException(...); 
```

在这种情况下，反序列化失败，因为`m_signature2`无法找到签名，因为程序集名称包含版本信息，然后`String.Equals()`将不匹配`MyAssembly, Version=1.0.0.0`并`MyAssembly, Version=1.1.0.0`引发异常。

# 问题

*如果新*搜索失败（至少因为与现有代码的兼容性），我希望框架将失败回到*旧的*搜索方法。我不明白为什么要与 a 进行此比较，毕竟在运行时解析了所有版本的程序集（并且默认情况下将加载较新的版本），我同意它无法解决那里的程序集版本，但它如果*严格*搜索失败，可能会删除/忽略它。*`String.Equals()`*

 **我知道序列化 a 很糟糕，`MethodInfo`但此时此修复可能涉及太多更改（包括架构和代码），并且没有人会在旧代码中开始重构（此外，必须为旧代码和新代码保留存档的二进制兼容性版本，在两个方向）。

到目前为止我还没有尝试过，但是这个问题也适用于代表吗？是否有任何解决方案（带有属性或小的代码更改）来解决这个问题？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-07T17:13:23.123

我能想到的最好方法是实现`ISerializable`（[MSDN](http://msdn.microsoft.com/en-us/library/system.runtime.serialization.iserializable.aspx)）

在具有属性的对象上实现此接口可以`MethodInfo`让您完全控制序列化/反序列化。

缺点是您还必须以某种通用方式处理所有其他属性。不过应该是可以的。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-23T21:53:44.420

最后，我自己无法完全解决这个问题。我尝试`ISerializable`使用*自定义*实现`MemberInfoSerializationHolder`来模拟旧行为（只是粘贴 4.0 版本的代码）。它适用于*新*存档，但不适用于此场景的旧（已部署）应用程序。我没有找到解决此问题的任何方法，因为已经发布的应用程序将无法工作（除非应用了补丁，但这是不可行的）。

我看到在较新的版本中实现稍微改变了一点，只有当有多个具有相同名称的方法（然后使用签名）时才会预设问题，否则只会选择第一个（也是唯一一个）没有任何额外检查的方法。**

# asp.net-mvc - ASP.NET MVC 在 chrome 的登录页面中需要很长时间

> ID：14198674
> 
> 赞同：1
> 
> 时间：2013-01-07T15:15:47.123
> 
> 标签：asp.net-mvc, asp.net-mvc-3, model-view-controller, google-chrome, iis-express

我有一个`Route`格式：

```
http://localhost/SocialNetworkWeb/Home/Index 
```

当我在任何其他浏览器中按下`login`它时它工作正常，但在 Chrome 中它需要太长时间。

`ASP.NET MVC3`& Chrome 一起工作或者 IIS Express有什么问题吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-07T15:41:08.803

浏览器应该无关紧要。

设置了什么样的登录方式？表单身份验证、Windows 身份验证等？

在运行 Fiddler [http://www.fiddler2.com/fiddler2/](http://www.fiddler2.com/fiddler2/)时加载站点 并比较浏览器之间的时间/请求，通过 Forms Auth 应该没有什么可以区分它，但 Fiddler 应该给你一个更好的主意 - 从我的顶部头部没有想到特定于浏览器的问题。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-08T14:06:37.900

我最近遇到了这样的问题，但在 MVC 4 中。我需要在我的 web.config 文件中设置程序集重定向。对于 MVC 4，它们看起来像这样。

```
 <runtime>
    <assemblyBinding xmlns="urn:schemas-microsoft-com:asm.v1">
        <dependentAssembly>
            <assemblyIdentity name="System.Web.Helpers" publicKeyToken="31bf3856ad364e35" />
            <bindingRedirect oldVersion="1.0.0.0" newVersion="2.0.0.0" />
        </dependentAssembly>
        <dependentAssembly>
            <assemblyIdentity name="System.Web.Mvc" publicKeyToken="31bf3856ad364e35" />
            <bindingRedirect oldVersion="1.0.0.0-3.0.0.0" newVersion="4.0.0.0" />
        </dependentAssembly>
        <dependentAssembly>
            <assemblyIdentity name="System.Web.WebPages" publicKeyToken="31bf3856ad364e35" />
            <bindingRedirect oldVersion="1.0.0.0" newVersion="2.0.0.0" />
        </dependentAssembly>
    </assemblyBinding>
</runtime> 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-08T14:01:20.613

我发现“TrueSuite 网站登录扩展”是问题所在，一旦我禁用它，一切都恢复正常，感谢大家的宝贵时间。

# python - Python 中的 JSON：如何获取数组的特定部分？

> ID：14198677
> 
> 赞同：4
> 
> 时间：2013-01-07T15:16:03.237
> 
> 标签：python, json

我试图在 Python 中获取 JSON 对象的特定值。在我可以使用类似的东西之前：

> 数据['数据']['数据2']

要获得与 data2 关联的某个值，但这有点不同，我的 JSON 文件现在更复杂了，这是

```
{
    "data": {
        "playerStatSummaries": {
            "playerStatSummarySet": [
                {
                    "aggregatedStats": {
                        "stats": []
                    }, 
                    "leaves": 0, 
                    "losses": 0, 
                    "maxRating": 0, 
                    "modifyDate": "/Date(1357567398182)/", 
                    "playerStatSummaryType": "Unranked3x3", 
                    "rating": 400, 
                    "wins": 5
                }, 
                {
                    "aggregatedStats": {
                        "stats": []
                    }, 
                    "leaves": 0, 
                    "losses": 0, 
                    "maxRating": 0, 
                    "modifyDate": "/Date(1357567398182)/", 
                    "playerStatSummaryType": "AramUnranked6x6", 
                    "rating": 400, 
                    "wins": 0
                }, 
                {
                    "aggregatedStats": {
                        "stats": [
                            {
                                "statType": "TOTAL_CHAMPION_KILLS", 
                                "value": 68
                            }, 
                            {
                                "statType": "TOTAL_ASSISTS", 
                                "value": 116
                            }, 
                            {
                                "statType": "TOTAL_MINION_KILLS", 
                                "value": 1854
                            }, 
                            {
                                "statType": "TOTAL_TURRETS_KILLED", 
                                "value": 22
                            }, 
                            {
                                "statType": "TOTAL_NEUTRAL_MINIONS_KILLED", 
                                "value": 359
                            }
                        ]
                    }, 
                    "leaves": 0, 
                    "losses": 5, 
                    "maxRating": 1505, 
                    "modifyDate": "/Date(1357261303440)/", 
                    "playerStatSummaryType": "RankedSolo5x5", 
                    "rating": 1505, 
                    "wins": 9
                }, 
                {
                    "aggregatedStats": {
                        "stats": [
                            {
                                "statType": "TOTAL_CHAMPION_KILLS", 
                                "value": 369
                            }, 
                            {
                                "statType": "TOTAL_ASSISTS", 
                                "value": 535
                            }, 
                            {
                                "statType": "TOTAL_MINION_KILLS", 
                                "value": 9917
                            }, 
                            {
                                "statType": "TOTAL_TURRETS_KILLED", 
                                "value": 78
                            }, 
                            {
                                "statType": "TOTAL_NEUTRAL_MINIONS_KILLED", 
                                "value": 1050
                            }
                        ]
                    }, 
                    "leaves": 0, 
                    "losses": 35, 
                    "maxRating": 1266, 
                    "modifyDate": "/Date(1323496849000)/", 
                    "playerStatSummaryType": "RankedTeam5x5", 
                    "rating": 1266, 
                    "wins": 39
                }, 
                {
                    "aggregatedStats": {
                        "stats": [
                            {
                                "statType": "TOTAL_CHAMPION_KILLS", 
                                "value": 29
                            }, 
                            {
                                "statType": "TOTAL_ASSISTS", 
                                "value": 17
                            }, 
                            {
                                "statType": "TOTAL_MINION_KILLS", 
                                "value": 176
                            }, 
                            {
                                "statType": "TOTAL_TURRETS_KILLED", 
                                "value": 8
                            }, 
                            {
                                "statType": "TOTAL_NEUTRAL_MINIONS_KILLED", 
                                "value": 12
                            }
                        ]
                    }, 
                    "leaves": 0, 
                    "losses": 0, 
                    "maxRating": 1200, 
                    "modifyDate": "/Date(1326521499000)/", 
                    "playerStatSummaryType": "CoopVsAI", 
                    "rating": 1200, 
                    "wins": 2
                }, 
                {
                    "aggregatedStats": {
                        "stats": [
                            {
                                "statType": "TOTAL_CHAMPION_KILLS", 
                                "value": 150
                            }, 
                            {
                                "statType": "TOTAL_ASSISTS", 
                                "value": 184
                            }, 
                            {
                                "statType": "TOTAL_MINION_KILLS", 
                                "value": 3549
                            }, 
                            {
                                "statType": "TOTAL_TURRETS_KILLED", 
                                "value": 24
                            }, 
                            {
                                "statType": "TOTAL_NEUTRAL_MINIONS_KILLED", 
                                "value": 224
                            }
                        ]
                    }, 
                    "leaves": 0, 
                    "losses": 17, 
                    "maxRating": 0, 
                    "modifyDate": "/Date(1350098520000)/", 
                    "playerStatSummaryType": "RankedTeam3x3", 
                    "rating": 1308, 
                    "wins": 22
                }, 
                {
                    "aggregatedStats": {
                        "stats": [
                            {
                                "statType": "TOTAL_CHAMPION_KILLS", 
                                "value": 15
                            }, 
                            {
                                "statType": "TOTAL_ASSISTS", 
                                "value": 185
                            }, 
                            {
                                "statType": "TOTAL_MINION_KILLS", 
                                "value": 250
                            }, 
                            {
                                "statType": "TOTAL_TURRETS_KILLED", 
                                "value": 4
                            }, 
                            {
                                "statType": "TOTAL_NEUTRAL_MINIONS_KILLED", 
                                "value": 15
                            }
                        ]
                    }, 
                    "leaves": 0, 
                    "losses": 3, 
                    "maxRating": 1365, 
                    "modifyDate": "/Date(1321778545000)/", 
                    "playerStatSummaryType": "RankedPremade5x5", 
                    "rating": 1365, 
                    "wins": 8
                }, 
                {
                    "aggregatedStats": {
                        "stats": [
                            {
                                "statType": "TOTAL_CHAMPION_KILLS", 
                                "value": 672
                            }, 
                            {
                                "statType": "AVERAGE_CHAMPIONS_KILLED", 
                                "value": 9
                            }, 
                            {
                                "statType": "MAX_COMBAT_PLAYER_SCORE", 
                                "value": 889
                            }, 
                            {
                                "statType": "AVERAGE_OBJECTIVE_PLAYER_SCORE", 
                                "value": 771
                            }, 
                            {
                                "statType": "MAX_TEAM_OBJECTIVE", 
                                "value": 2
                            }, 
                            {
                                "statType": "MAX_NODE_CAPTURE", 
                                "value": 14
                            }, 
                            {
                                "statType": "MAX_OBJECTIVE_PLAYER_SCORE", 
                                "value": 1424
                            }, 
                            {
                                "statType": "MAX_TOTAL_PLAYER_SCORE", 
                                "value": 1950
                            }, 
                            {
                                "statType": "AVERAGE_NUM_DEATHS", 
                                "value": 10
                            }, 
                            {
                                "statType": "TOTAL_DECAYER", 
                                "value": 105
                            }, 
                            {
                                "statType": "TOTAL_ASSISTS", 
                                "value": 931
                            }, 
                            {
                                "statType": "AVERAGE_NODE_NEUTRALIZE", 
                                "value": 6
                            }, 
                            {
                                "statType": "AVERAGE_NODE_CAPTURE_ASSIST", 
                                "value": 2
                            }, 
                            {
                                "statType": "MAX_NODE_CAPTURE_ASSIST", 
                                "value": 5
                            }, 
                            {
                                "statType": "MAX_ASSISTS", 
                                "value": 25
                            }, 
                            {
                                "statType": "AVERAGE_NODE_NEUTRALIZE_ASSIST", 
                                "value": 1
                            }, 
                            {
                                "statType": "AVERAGE_TOTAL_PLAYER_SCORE", 
                                "value": 1182
                            }, 
                            {
                                "statType": "MAX_NODE_NEUTRALIZE_ASSIST", 
                                "value": 3
                            }, 
                            {
                                "statType": "AVERAGE_COMBAT_PLAYER_SCORE", 
                                "value": 413
                            }, 
                            {
                                "statType": "AVERAGE_NODE_CAPTURE", 
                                "value": 8
                            }, 
                            {
                                "statType": "MAX_CHAMPIONS_KILLED", 
                                "value": 20
                            }, 
                            {
                                "statType": "TOTAL_NODE_NEUTRALIZE", 
                                "value": 391
                            }, 
                            {
                                "statType": "AVERAGE_TEAM_OBJECTIVE", 
                                "value": 1
                            }, 
                            {
                                "statType": "AVERAGE_ASSISTS", 
                                "value": 11
                            }, 
                            {
                                "statType": "TOTAL_NODE_CAPTURE", 
                                "value": 447
                            }, 
                            {
                                "statType": "MAX_NODE_NEUTRALIZE", 
                                "value": 11
                            }, 
                            {
                                "statType": "MAX_NUM_DEATHS", 
                                "value": 16
                            }
                        ]
                    }, 
                    "leaves": 0, 
                    "losses": 0, 
                    "maxRating": 0, 
                    "modifyDate": "/Date(1357567398182)/", 
                    "playerStatSummaryType": "OdinUnranked", 
                    "rating": 400, 
                    "wins": 43
                }, 
                {
                    "aggregatedStats": {
                        "stats": []
                    }, 
                    "leaves": 0, 
                    "losses": 0, 
                    "maxRating": 0, 
                    "modifyDate": "/Date(1357567398182)/", 
                    "playerStatSummaryType": "AramUnranked2x2", 
                    "rating": 400, 
                    "wins": 0
                }, 
                {
                    "aggregatedStats": {
                        "stats": []
                    }, 
                    "leaves": 0, 
                    "losses": 0, 
                    "maxRating": 0, 
                    "modifyDate": "/Date(1357567398182)/", 
                    "playerStatSummaryType": "AramUnranked1x1", 
                    "rating": 400, 
                    "wins": 0
                }, 
                {
                    "aggregatedStats": {
                        "stats": []
                    }, 
                    "leaves": 0, 
                    "losses": 0, 
                    "maxRating": 0, 
                    "modifyDate": "/Date(1357567398182)/", 
                    "playerStatSummaryType": "AramUnranked3x3", 
                    "rating": 400, 
                    "wins": 0
                }, 
                {
                    "aggregatedStats": {
                        "stats": [
                            {
                                "statType": "TOTAL_CHAMPION_KILLS", 
                                "value": 10269
                            }, 
                            {
                                "statType": "TOTAL_DECAYER", 
                                "value": 0
                            }, 
                            {
                                "statType": "TOTAL_ASSISTS", 
                                "value": 15722
                            }, 
                            {
                                "statType": "TOTAL_MINION_KILLS", 
                                "value": 262793
                            }, 
                            {
                                "statType": "TOTAL_TURRETS_KILLED", 
                                "value": 1954
                            }, 
                            {
                                "statType": "TOTAL_NEUTRAL_MINIONS_KILLED", 
                                "value": 43898
                            }, 
                            {
                                "statType": "TOTAL_DEATHS_PER_SESSION", 
                                "value": 1513
                            }
                        ]
                    }, 
                    "leaves": 1, 
                    "losses": 0, 
                    "maxRating": 0, 
                    "modifyDate": "/Date(1357567398182)/", 
                    "playerStatSummaryType": "Unranked", 
                    "rating": 400, 
                    "wins": 1691
                }, 
                {
                    "aggregatedStats": {
                        "stats": []
                    }, 
                    "leaves": 0, 
                    "losses": 0, 
                    "maxRating": 0, 
                    "modifyDate": "/Date(1357567398182)/", 
                    "playerStatSummaryType": "AramUnranked5x5", 
                    "rating": 400, 
                    "wins": 0
                }
            ]
        }, 
        "previousFirstWinOfDay": "/Date(1357489166306)/", 
        "userId": 55060
    }, 
    "success": true
} 
```

如您所见，这真的很长，我的问题是，我如何仅从某个`playerStatSummarySet`集合中获取特定值？就像假设我只想从集合中获取评级值，`playerStatSummaryType`我`RankedSolo5x5`将如何做到这一点？

这是我到目前为止从 JSON 文件中获取数据的内容。

```
with open('data.txt', 'r') as f:
    data = json.load(f) 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-07T15:24:20.067

if you have to work with complex json objects, I suggest you take a look at [jsonpath](http://pypi.python.org/pypi/jsonpath/) that offers `xpath` like language for `json` objects.

**An example:**

```
import jsonpath
import json
with open('/test.json', 'r') as f:
    data = json.load(f)
path = "$.[?(@.playerStatSummaryType == 'RankedSolo5x5')].rating"
jsonpath.jsonpath(data,path) 
```

**out:**

```
[1505] 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-07T15:26:59.433

Use a list comprehension

```
with open('data.txt', 'r') as f:
    data = json.load(f)
rating = [summary["rating"] for summary
          in data["data"]["playerStatSummaries"]["playerStatSummarySet"]
          if summary["playerStatSummaryType"] == "RankedSolo5x5"][0] 
```

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2013-01-07T17:10:40.867

您仍然可以这样做，但您必须正确访问数据结构。`json.load()`返回的是与`JSON object`Python 字典相同的 a。这个 obj 有一个在其中命名的键`'data'`，它与另一个对象字典等相关联，等等，直到你找到一个`'playerStatSummaries'`对象，它的键控数据成员`'playerStatSummarySet'`实际上是一个 Python 列表，而不是另一个对象字典。

这是一个如何搜索汇总集列表并找到特定条目的示例 - 请记住，由于此数据项是列表而不是字典对象，因此您必须逐步浏览其中的每个条目以找到您要的条目寻找而不是仅仅查找它的名字。

```
import json

with open('data.txt', 'r') as f:
    jsonObj = json.load(f)

targetSummaryType = 'RankedSolo5x5'
for summarySet in jsonObj['data']['playerStatSummaries']['playerStatSummarySet']:
    if summarySet['playerStatSummaryType'] == targetSummaryType:
        print 'max rating for {}: {}'.format(targetSummaryType,
                                             summarySet['maxRating'])
        break  # if you only expect there to be one 
```

输出：

```
max rating for RankedSolo5x5: 1505 
```

为了弄清楚需要什么，我发现它对最初`pprint()`的整体很有用，`jsonObj`这使得结构非常容易看到。

# ipython - IPython qtconsole 高亮显示

> ID：14198678
> 
> 赞同：3
> 
> 时间：2013-01-07T15:16:04.817
> 
> 标签：ipython, pygments

我正在使用 IPython qtconsole 并且目录是深蓝色的，我似乎找不到任何方法来改变主题。我正在使用带有 monokai 主题的 pygments 来突出显示语法。

![在此处输入图像描述](../Images/a192334dd85f6d5d32b1bcc12f0e19d5.png)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-09T21:03:31.940

这种着色实际上是`ls`自己完成的。您可以使用 LSCOLORS（在 OS X / BSD 上，或 LS_COLORS 在 Linux 上）环境变量来自定义它。这是一个用于生成 LSCOLORS 值的[漂亮实用程序。](http://geoff.greer.fm/lscolors/)您可能可以通过 Google 搜索人们喜欢的深色背景 LSCOLORS 值。

然后只需在 Python 中设置变量：

```
import os
os.environ['LSCOLORS'] = 'gxfxcxdxbxegedabagacad' 
```

或在启动 IPython（或 .bashrc 等）之前的 shell 会话中：

```
$> export LSCOLORS=gxfxcxdxbxegedabagacad
$> ipython qtconsole 
```

另请参阅：[LS_COLORS 的参考文档](http://linux-sxs.org/housekeeping/lscolors.html)

# javascript - 获取对具有特定值的元素的引用

> ID：14198680
> 
> 赞同：0
> 
> 时间：2013-01-07T15:16:12.393
> 
> 标签：javascript, jquery

我想使用 jquery css 选择器获取对具有特定文本值的元素的引用。

例子：

```
<table >
 <tbody>
  <tr>
   <td>
    <i>MYVAL</i>  <!-- I want the reference to this element-->
   </td>
  </tr>
 </tbody>
</table> 
```

但我不能仅仅写就成功

```
$('table tbody tr td i[value="MYVAL"]').SomeFunction(); 
```

哪个是正确的语法？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-07T15:22:09.610

**注意** 那不是使用纯 CSS 选择器！

使用 .filter()：

[http://jsfiddle.net/p6fKe/](http://jsfiddle.net/p6fKe/)

```
$('table tbody tr td i').filter(function(){return $(this).text() == "MYVAL"}).SomeFunction(); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-07T15:20:58.500

使用此代码

```
$('table tr td i:contains("MYVAL")').SomeFunction() 
```

**演示：http:** [//jsfiddle.net/enve/6wjDj/](http://jsfiddle.net/enve/6wjDj/)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-07T15:21:45.830

```
function selectTextElement(text) {
    var elements = [];
    $('table tbody tr td i').each(function() {
        if (jQuery(this).text() == text) {
            elements.push(jQuery(this));
        }
    });
    return elements;
} 
```

# javascript - Optimizer 和 Handlebars 客户端翡翠模板

> ID：14198686
> 
> 赞同：0
> 
> 时间：2013-01-07T15:16:36.933
> 
> 标签：javascript, requirejs, handlebars.js, optimization

我在尝试优化使用客户端翡翠模板的客户端脚本时遇到问题。最初，我遇到了[Require.js + Backbone optimization](https://stackoverflow.com/questions/11266808/require-js-backbone-optimization)中所述的错误，但后来我从路径配置中删除了“文本”模块，将其添加到排除项中并使 text.js 在本地可用。这样做之后，我收到一个错误，其中优化器尝试解析传递给文本模块的参数。

这是我的客户端模板：

```
define([
'Handlebars',
'text!/templates/product/something.jade'
], function(Handlebars, txtSomething) {
   var template = Handlebars.template, 
       templates = Handlebars.templates = Handlebars.templates || {};

   templates['something'] = Handlebars.compile(txtSomething);
}); 
```

然后是优化器配置：

```
({
  baseUrl: ".",
  name: "product",
  out: "product.js",
  paths: {
    Handlebars: "empty:"
  },
  exclude: ["text"]
}) 
```

我得到的错误是：

```
Error: ENOENT, no such file or directory 'C:\templates\product\something.jade'
In module tree:
  product
    modules/something
      templates/something
        text 
```

关于如何解决问题的任何建议？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-09T09:53:19.973

我在运行优化之前预编译了车把模板。删除文本引用

# ios - 格式化数字以显示千位和小数分隔符

> ID：14198696
> 
> 赞同：0
> 
> 时间：2013-01-07T15:17:20.717
> 
> 标签：ios, objective-c, formatting

我正在尝试将这样的 123456.567 数字设为美元的 123,456.56 和任何其他货币的 123,456.567

我的代码是：

```
double fromAgainstJOD = amountVal * fromCurrency.SellRate;
double result = fromAgainstJOD / toCurrency.SellRate;

NSNumberFormatter *formatter = [[NSNumberFormatter alloc] init];
[formatter setNumberStyle:NSNumberFormatterDecimalStyle];
[formatter setGroupingSeparator:@","];
[formatter setGroupingSize:3];
[formatter setUsesGroupingSeparator:YES];

NSString* formattedString = [formatter stringFromNumber:[NSNumber numberWithDouble:result]];

if (toCurrency.SellRate == 0) {
    result = 0;
}
if ([toCurrency.Code isEqualToString:@"USD"]) {
    [resultLbl setText:[NSString stringWithFormat:@"%@ %0.2f", toCurrency.Code, result]];     
} else {
    [resultLbl setText:[NSString stringWithFormat:@"%@ %0.3f", toCurrency.Code, result]]; 
} 
```

所以我想在 resultLbl 中为每个货币代码设置带有千位分隔符和小数部分的数字。美元 => 2 分数其他货币 => 3 分数

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-07T15:25:28.497

这是修复。在您检查美元的格式化程序中，如果 USD 将 formatWidth 设置为 2，否则设置为 3

```
NSNumberFormatter *formatter = [[NSNumberFormatter alloc] init];
[formatter setNumberStyle:NSNumberFormatterDecimalStyle];
[formatter setGroupingSeparator:@","];
[formatter setGroupingSize:3];
[formatter setUsesGroupingSeparator:YES];

NSString* formattedString;

if (toCurrency.SellRate == 0) {
    result = 0;
}
if ([toCurrency.Code isEqualToString:@"USD"]) {
    [formatter setFormatWidth:2];
    formattedString = [formatter stringFromNumber:[NSNumber numberWithDouble:result]];
    [resultLbl setText:[NSString stringWithFormat:@"%@ %0.2f", toCurrency.Code, result]];     
}else
{
    [formatter setFormatWidth:3];
    formattedString = [formatter stringFromNumber:[NSNumber numberWithDouble:result]];
    [resultLbl setText:[NSString stringWithFormat:@"%@ %0.3f", toCurrency.Code, result]]; 

} 
```

**看起来 setFormat 出现在 ios 文档中，即使它不起作用。**

样本来自：

```
NSNumberFormatter *numberFormatter =[[NSNumberFormatter alloc] init];
NSMutableDictionary *newAttrs = [NSMutableDictionary dictionary];

[numberFormatter setFormat:@"$#,##0.00;($#,##0.00)"];
[newAttrs setObject:[NSColor redColor] forKey:@"NSColor"];
[numberFormatter setTextAttributesForNegativeValues:newAttrs];
[[textField cell] setFormatter:numberFormatter]; 
```

[https://developer.apple.com/library/ios/#documentation/Cocoa/Reference/Foundation/Classes/NSNumberFormatter_Class/Reference/Reference.html](https://developer.apple.com/library/ios/#documentation/Cocoa/Reference/Foundation/Classes/NSNumberFormatter_Class/Reference/Reference.html)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-14T07:22:45.937

我知道该怎么做

```
if ([toCurrency.Code isEqualToString:@"USD"]) {
    [formatter setFormatWidth:2];
    formatter.maximumFractionDigits = 3;
    formatter.minimumFractionDigits = 3;
    formattedString = [formatter stringFromNumber:[NSNumber numberWithDouble:result]];

    [resultLbl setText:formattedString];
}else
{
    [formatter setFormatWidth:3];
    formatter.maximumFractionDigits = 2;
    formatter.minimumFractionDigits = 2;
    formattedString = [formatter stringFromNumber:[NSNumber numberWithDouble:result]];
    [resultLbl setText:formattedString];
} 
```

# asp.net - 从详细信息视图中单击“新建”按钮时填充 ASP.Net 详细信息视图中的字段

> ID：14198707
> 
> 赞同：1
> 
> 时间：2013-01-07T15:18:10.103
> 
> 标签：asp.net, vb.net, code-behind, populate, findcontrol

在代码隐藏文件中使用带有 VB.Net 的 ASP.Net DetailsView，我们希望用户在插入数据时更容易进行数据输入。

我们希望实现一种方法，让 DetailsView 在单击“新建”按钮之前记住特定字段中的值。在它记住值后，我们希望在单击“新建”后使用记住的值填充 2 个字段，即 DropDownList 和 TextBox 字段。

目前我们在代码隐藏文件中尝试了这个：

```
Protected Sub DetailsViewDetails_ItemCommand(sender As Object, e As System.Web.UI.WebControls.DetailsViewCommandEventArgs)

    Select Case e.CommandName

        Case "Add"

        Case "Edit"
            ButtonAddNewAttendance.Enabled = False

        Case "Delete"

        Case "Update"
            ButtonAddNewAttendance.Enabled = True

        Case "Insert"

        Case "New"
            Dim txtBox As New TextBox
            txtBox = DetailsView.FindControl("TextBoxDateAttendanceTakenInsert")
            txtBox.Text = DateTime.Now

            Dim drpValue As DropDownList
            drpValue = DetailsView.FindControl("DropDownListClassInsert")
            drpValue.SelectedValue = 1
    End Select
End Sub 
```

单击“新建”按钮时，将显示此错误：

```
System.NullReferenceException was unhandled by user code
Message=Object reference not set to an instance of an object. 
```

此错误出现在 txtBox.Text = DateTime.Now

几乎就好像它无法从标记中找到该字段。你能告诉我我还需要在编码中添加什么吗？

如果我注释掉 TextBox 的编码并让编码为 DropDownList 运行，它会产生相同的错误。

这是显示 2 个字段的标记：

```
<asp:DetailsView 
    ID="DetailsView" 
    runat="server" 
    AutoGenerateRows="False" 
    Height="50px" 
    Width="207px" 
    DataSourceID="SqlDataSourceDetails"
    DataKeyNames="ID"
    OnItemCommand="DetailsViewDetails_ItemCommand">

<Fields>

<asp:TemplateField HeaderText="Class:" SortExpression="ClassID">
    <EditItemTemplate>

        <asp:DropDownList 
            ID="DropDownListClassEdit" 
            Runat="server"
            DataSourceID="SqlDataSourceClasses"
            DataTextField = "ClassName"
            DataValueField="ID"
            SelectedValue='<%# Bind("ClassID") %>'
            ForeColor="Blue">
        </asp:DropDownList>

        <asp:RequiredFieldValidator ID="RequiredFieldValidatorEditClass" runat="server" ControlToValidate="DropDownListClassEdit" 
             ErrorMessage="Please select a Class here." Font-Bold="True" Font-Italic="True" ForeColor="Red" 
             SetFocusOnError="True" Display="Dynamic">

         </asp:RequiredFieldValidator>

     </EditItemTemplate>

     <InsertItemTemplate>

         <asp:DropDownList 
             ID="DropDownListClassInsert" 
             Runat="server"
             DataSourceID="SqlDataSourceClasses"
             DataTextField = "ClassName"
             DataValueField="ID"
             SelectedValue='<%# Bind("ClassID") %>'
             AppendDataBoundItems="True"
             ForeColor="Blue">
         </asp:DropDownList>

         <asp:RequiredFieldValidator ID="RequiredFieldValidatorInsertClass" runat="server" ControlToValidate="DropDownListClassInsert" 
             ErrorMessage="Please select a Class here." Font-Bold="True" Font-Italic="True" ForeColor="Red" 
             SetFocusOnError="True" Display="Dynamic">

         </asp:RequiredFieldValidator>
     </InsertItemTemplate>

     <ItemTemplate>

         <asp:DropDownList 
             ID="DropDownListClass" 
             Runat="server"
             DataSourceID="SqlDataSourceClasses"
             DataTextField = "ClassName"
             DataValueField="ID"
             SelectedValue='<%# Bind("ClassID") %>'
             Enabled="false"
             ForeColor="Blue"
             Font-Bold="true"> 
         </asp:DropDownList>

     </ItemTemplate>
 </asp:TemplateField>

 <asp:TemplateField 
     HeaderText="Attendance Date:" SortExpression="DateAttendanceTaken">
     <EditItemTemplate>
         <asp:TextBox 
             ID="TextBoxDateAttendanceTakenEdit" 
             runat="server" 
             Text='<%# Bind("DateAttendanceTaken", "{0:MM/dd/yyyy}") %>'>
         </asp:TextBox>
     </EditItemTemplate>

     <InsertItemTemplate>
         <asp:TextBox 
             ID="TextBoxDateAttendanceTakenInsert" 
             runat="server" 
             Text='<%# Bind("DateAttendanceTaken", "{0:MM/dd/yyyy}") %>'>
         </asp:TextBox>
     </InsertItemTemplate>

     <ItemTemplate>
         <asp:Label 
             ID="LabelDateAttendanceTaken" 
             runat="server" 
             Text='<%# Bind("DateAttendanceTaken", "{0:MM/dd/yyyy}") %>'>
         </asp:Label>
     </ItemTemplate>

     <ItemStyle ForeColor="Blue" />
 </asp:TemplateField> 
```

现在我将一个值硬编码为：

```
drpValue.SelectedValue = 1 
```

直到我们可以让编码工作。

*** 更新 ***

ItemCommand 不是放置编码的正确位置。

我发现要让它工作，需要添加 OnDataBinding，如下所示，并确保代码隐藏文件中有一个处理程序，如下所示。

InsertItemTemplate 标记：

```
<InsertItemTemplate>
    <asp:DropDownList 
        ID="DropDownListClassInsert" 
        Runat="server"
        DataSourceID="SqlDataSourceClasses"
        DataTextField = "ClassName"
        DataValueField="ID"
        SelectedValue='<%# Bind("ClassID") %>'
        AppendDataBoundItems="True"
        ForeColor="Blue"
        OnDataBinding="DropDownListClassInsert_DataBinding">
    </asp:DropDownList>

    <asp:RequiredFieldValidator ID="RequiredFieldValidatorInsertClass" runat="server" ControlToValidate="DropDownListClassInsert" 
        ErrorMessage="Please select a Class here." Font-Bold="True" Font-Italic="True" ForeColor="Red" 
        SetFocusOnError="True" Display="Dynamic">
    </asp:RequiredFieldValidator>
</InsertItemTemplate> 
```

代码隐藏文件中的处理程序：

```
Protected Sub DropDownListClassInsert_DataBinding(sender As Object, e As EventArgs)

    Dim drpValue As DropDownList
    drpValue = DetailsView.FindControl("DropDownListClassInsert")
    drpValue.SelectedValue = intCurrentClassID
End Sub 
```

注意：intCurrentClassID 声明为：

```
Public Shared intCurrentClassID As Integer = Nothing 
```

后：

```
Public Class 
```

我希望这可以帮助其他有同样问题的人。

# remote-desktop - 确定远程桌面客户端支持的协议版本

> ID：14198709
> 
> 赞同：0
> 
> 时间：2013-01-07T15:18:11.187
> 
> 标签：remote-desktop

如何确定特定客户端支持的远程桌面协议版本？

请注意，我不是要求 ActiveX 控件版本，而是底层协议版本。`Help`作为我使用-> `About`（或仅`About`在 Windows XP 的情况下）检查的两台机器的示例：

*   在 Windows 8 上，我不想要`6.2.9200`，我想要`8.0`。
*   在 Windows XP 上，我不想要`6.0.6001`，我想要`6.1`。

而且我不是在询问给定会话中使用的协议版本（即以[编程方式确定远程桌面协议版本？](https://stackoverflow.com/questions/1930462/determine-remote-desktop-protocol-version-programatically)指的是），因为我们不在会话中，我们正在验证客户端的配置。

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-18T19:46:21.473

我最终就这个问题联系了微软，我得到的（有点惊人的）答案如下：

> 该字符串是硬编码的，不会从服务器或 AX 检索（实际上 mstsc.exe 在加载之前检查 mstsax.dll 的内部版本号，以确保它与自己的内部版本号一致）。

所以我想我需要依靠硬编码的操作系统版本信息——也许是 mstsc.exe 版本。这很糟糕，但我不知道我有什么选择。

# git - GIT 发布新版本存储库

> ID：14198710
> 
> 赞同：0
> 
> 时间：2013-01-07T15:18:14.683
> 
> 标签：git, release

我正在尝试通过执行以下操作来释放我稳定的私有库：

编辑 composer.json

```
"version": "1.0.0" => "version": "2.0.0" 
```

提交消息“Release 2.0.0”和`git tag 1.0.0 -m "Release 1.0.0"`

但现在我正在查看我的回购并没有看到任何标签。我做错了什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-07T17:47:53.263

Use

```
git tag -l 
```

To list the tags in your local repository.

Use

```
git ls-remote --tags [remote] 
```

To list the remote --tags (ignore the leading refs/)

If you see the tag local but not remote you need to push it explicit by

```
git push [remote] [tag] 
```

or all tags by

```
git push --tags [remote] 
```

Use

```
git show [tag] 
```

To show details of the tag.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-07T16:38:04.360

推送到公共回购时使用`--tags`密钥。`git push`

# jdbc - JDBC 与 LIKE 不一致

> ID：14198712
> 
> 赞同：0
> 
> 时间：2013-01-07T15:18:19.783
> 
> 标签：jdbc, sql-like

我是 JDBC 新手，在执行一些查询时，我得到的结果不一致。

如果我在 sql developer（连接到 Oracle DB）中执行此查询，我会得到 4 个结果

```
SELECT *
FROM someTable1 some1 
JOIN someTable2 some2 on (some1.some_id= some2.other_id)
WHERE some2.some_date LIKE '01/01/01' OR some2.some_date IS NULL 
```

然后，我从 java 中的属性文件加载相同的查询并执行查询并获得 0 个结果……有人知道为什么会这样吗？我首先怀疑属性值中的单引号，但我不知道......

在此先感谢并原谅我糟糕的英语！:)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-07T15:27:37.700

The query doesn't contain any special characters which could confuse Java, the properties loader or JDBC, so you should get exactly the same results in SQL Developer and with JDBC.

In fact, SQL Developer is written in Java, so it is using JDBC to execute the queries.

Print the query to the console before you execute it to make 100% sure the code executes the query that you have in mind.

Next, you should check the type of `some_date`. `LIKE` is only defined for string types (`VARCHAR` and similar), not for date/time types.

Oracle has a set of helper functions to build queries for date/time types, for example:

```
some_date = to_date( '01/01/2001','mm/dd/yyyy') 
```

or

```
TRUNC(some_date, 'DAY') = to_date( '01/01/2001','mm/dd/yyyy') 
```

The second query strips hours, minutes, seconds, etc. from the column and will compare only days, months and years.

Note: Always use 4-digit years to avoid all kinds of odd problems.

# ruby-on-rails - 如何在 Ruby on Rails 的自动测试中使用本机 OS X 通知而不是咆哮？

> ID：14198714
> 
> 赞同：8
> 
> 时间：2013-01-07T15:18:20.220
> 
> 标签：ruby-on-rails, macos, notifications, tdd

有可能吗？我不想为此安装 Growl。

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-01-07T15:30:23.147

如果您使用的是 Rspec，您可以尝试[terminal-notifier](https://github.com/julienXX/terminal-notifier/tree/master/Ruby#usage) 或[rspec-nc](https://github.com/twe4ked/rspec-nc#rspec-notification-center)

# regex - 正则表达式冲突

> ID：14198722
> 
> 赞同：1
> 
> 时间：2013-01-07T15:18:56.173
> 
> 标签：regex, mod-rewrite, redirect

我有这个正则表达式代码：

```
RewriteCond  %{REQUEST_URI} !/login([/]{0,1}) [NC]
RewriteCond  %{REQUEST_URI} !/search/([/]{0,1}) [NC]
RewriteCond  %{REQUEST_URI} !/search/([^.]+)([/]{0,1}) [NC]

RewriteRule ^([^.]+)/?$ products.php/$1/ [NC,L]
RewriteRule ^([^.]+)/([^.]+)/?$ products.php/$1/$2/ [NC,L]
RewriteRule ^login([/]{0,1})?$ login.php [NC,L]
RewriteRule ^search([/]{0,1})?$ search.php [NC,L]
RewriteRule ^search/([^.]+)/?$ search.php/$1/ [NC,L] 
```

问题是当我去 site/search/asdf 正则表达式将我重定向到 products.php 文件。我怎样才能解决这个问题？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-07T15:20:40.933

你能不能只改变你`RewriteRule`的从最具体到最不具体的顺序：

```
RewriteRule ^search/([^.]+)/?$ search.php/$1/ [NC,L]
RewriteRule ^search([/]{0,1})?$ search.php [NC,L]
RewriteRule ^login([/]{0,1})?$ login.php [NC,L]
RewriteRule ^([^.]+)/([^.]+)/?$ products.php/$1/$2/ [NC,L]
RewriteRule ^([^.]+)/?$ products.php/$1/ [NC,L] 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-07T15:26:07.107

除了使用你的正则表达式之外，不需要`{0,1}`：

```
RewriteRule ^search/([^.]+)/?$ search.php/$1/ [NC,L]
RewriteRule ^search(/?)?$ search.php [NC,L]
RewriteRule ^login(/?)?$ login.php [NC,L]
RewriteRule ^([^.]+)/([^.]+)/?$ products.php/$1/$2/ [NC,L]
RewriteRule ^([^.]+)/?$ products.php/$1/ [NC,L] 
```

`[/]{0,1}`与 完全相同`/?`。意思是： “`?`零或前面的元素之一。”

# c# - 当前密码、新密码和确认新密码的验证器

> ID：14198735
> 
> 赞同：-1
> 
> 时间：2013-01-07T15:19:36.443
> 
> 标签：c#, asp.net

使用微软 Visual Studio 2010，

基本上我有 3 个文本框，做 3 层编程。

文本框是当前密码、新密码和确认密码。

我可以知道我应该使用哪个验证器来验证：

1) 用户已输入当前密码，以便他们可以按按钮提交。

2) 用户可以选择是否输入新密码，如果输入新密码，密码应大于6个字符（不能使用特殊字符，如`!!@#$%^&*())`输入新密码，确认密码字段需要输入和在他们可以按下按钮提交之前与新密码进行比较

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-07T17:54:46.740

**TLDR:** Use ASP.NET Membership controls to manage your passwords. Then add a JavaScript function to validate your data.

Passwords are sensitive data. Hackers will always try to steal them, so programmers have found ways to prevent this.

[http://www.codinghorror.com/blog/2007/09/rainbow-hash-cracking.html](http://www.codinghorror.com/blog/2007/09/rainbow-hash-cracking.html)

[http://www.securityfocus.com/blogs/262](http://www.securityfocus.com/blogs/262)

If you haven't read these, there are two major points:

**1** - Don't store the actual password that the user enters: store the hash. A hash is a cryptographic function that turns an input string into a different output. This is a one-way transformation: there is no algorithm to take a hash and turn it back into it's input, but the same input will always produce the same output. (The articles describe clever methods that hackers use to try to find the original input, and ways to prevent hackers from doing these clever things). Also, don't use MD5 as your hash mechanism.

**2** - Cryptography and security are very complicated, so often it's better to use someone else's code.

ASP.NET comes with various membership controls that will do the password management and hashing stuff for you. You can learn more about them here:

[http://msdn.microsoft.com/en-us/library/ms178329(v=vs.100).aspx](http://msdn.microsoft.com/en-us/library/ms178329(v=vs.100).aspx)

Basically, .NET will build your Login/Forgot Password/Change Password/Create User pages for you. You won't need to worry about hashes or Rainbow Tables or anything like them, because Microsoft wrote all of that code for you.

Regarding your question about Client-Size validation, you will need to do some JavaScript. You can call a JavaScript function when the user clicks "Submit" by adding `OnClientClick="return validate();"` to your button. Then you need to create a `validate()` function (the function can be renamed, as long as you change the `OnClientClick` value as well). This function should help:

```
function validate()
{
    if( $("#<%= PasswordControl1.ClientID %>").val() != $("#<%= PasswordControl2.ClientID %>").val())
    {
        alert("Your passwords don't match. Please enter them again.");
        return false;
    }
    if( $("#<%= PasswordControl1.ClientID %>").val().length < 6 )
    {
        alert("Your password is too short. Please use a longer password.");
        return false;
    }
    // use similar function to test for illegal characters in the password, but most sites will let you enter whatever characters you want (# . ! etc...)

    document.forms[0].submit();
} 
```

# php - PHP 捕获对静态参数的调用

> ID：14198739
> 
> 赞同：2
> 
> 时间：2013-01-07T15:20:04.347
> 
> 标签：php, parameters, static, call

> **可能重复：**
> [PHP 中静态属性的 Magic __get getter](https://stackoverflow.com/questions/1279382/magic-get-getter-for-static-properties-in-php)

是否可以像这样捕获对静态参数的调用：

```
class foo
{
    public static $foo = 1;
    //public static $bar = 2; 

    public function catch_bar_call()
    {
        print "Calling an undefined property";
    }
}

print foo::$foo //1
print foo::$bar //error 
```

而不是得到一个错误，我想要一个方法被调用。我知道它可能通过 __get() 魔术方法，但你必须为此实例化你的类，这在静态参数上是不可能的。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-07T15:30:57.400

[来自 PHP 文档](http://php.net/manual/en/language.oop5.overloading.php#object.isset)

> $name 参数是与之交互的属性的名称。__set [()](http://php.net/manual/en/language.oop5.overloading.php#object.set)方法的 $value 参数指定 $name'ed 属性应设置的值。
> 
> 属性重载仅适用于对象上下文。**这些魔术方法不会在静态上下文中触发**。因此这些方法不应该被声明为静态的。从 PHP 5.3.0 开始，如果其中一个魔术重载方法被声明为静态，则会发出警告。

我认为你能做的是

```
class Test {
    private static $foo = 1;
    // public static $bar = 2;
    public static function foo() {
        return self::$foo;
    }

    public static  function __callStatic($n,$arg) {
         print "\nCalling an undefined property $n";
    }
}
echo "<pre>";
print Test::foo(); // 1
print Test::bar(); // Calling an undefined property bar 
```

输出

```
1
Calling an undefined property bar 
```

# javascript - 创建当用户将鼠标悬停在选项上时展开的选择下拉列表

> ID：14198749
> 
> 赞同：0
> 
> 时间：2013-01-07T15:20:44.310
> 
> 标签：javascript, jquery, html

我正在尝试创建一个具有基本列表的选择元素，然后当用户将鼠标悬停在一个选项上时，它会展开以显示更完整的列表。

我开始使用 css 隐藏我想要隐藏的所有值，但这并没有调整选择下拉列表的高度，所以我留下了很多空白。

然后我尝试有两个选择，一个带有简化列表，另一个带有完整列表（隐藏）。然后，当用户将鼠标悬停在“其他”选项组上时，我使用 javascript 将选项从完整列表复制到简化列表。代码如下所示。

html:

```
<select id="Title">
     <option value="">Select...</option>
     <option value="MR">Mr</option>
     <option value="MISS">Miss</option>
     <option value="MRS">Mrs</option>
     <optgroup label="Other">Other</optgroup>
</select>

<select id="FullTitle" style="display:none">
     <option value="">Select...</option>
     <option value="MR">Mr</option>
     <option value="MISS">Miss</option>
     <option value="MRS">Mrs</option>
     <option value="MS">Ms</option>
     <option value="DR">Doctor</option>         
</select> 
```

Javascript：

```
<script type="text/javascript">
            $('select').find('optgroup').hover(
              function () { 
                var parent = $(this).parent()
                var selected = parent.find('option:selected').val()
                var id = "#Full" + parent.attr('id')                
                parent.html($(id).html())
                parent.find('option[value="'+ selected +'"]').attr('selected', 'selected')
              })
        </script> 
```

这在 Firefox 中运行良好，但在 IE 或 Chrome 中均无效。我不确定为什么。

我想知道是否有人知道为什么这不起作用或解决我的问题的更好方法？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-07T15:53:40.883

IE 和 Chrome 中的选项不会触发悬停事件。您可以尝试一些可能会执行此操作的脚本，并且我在此站点上也看到了其他有关它的帖子：

[jquery 悬停事件不适用于谷歌浏览器中的选择选项标签？](https://stackoverflow.com/questions/10240205/jquery-hover-event-doesnt-work-with-select-option-tag-in-google-chrome)

从我所见，将其转换为 div/ul 并使用 css/jquery 使其看起来像一个选择列表可能是您最好的选择。

# java - BIRT 错误：无法确定 Java 中的默认工作区位置

> ID：14198752
> 
> 赞同：4
> 
> 时间：2013-01-07T15:21:00.420
> 
> 标签：java, birt

我收到以下错误

```
java.lang.IllegalStateException: Unable to determine the default workspace location.  Check your OSGi-less platform configuration of the plugin or datatools workspace path. 
```

这没有什么意义。

报告是使用 Eclipse 中的 BIRT 设计器创建的，我们使用代码将报告转换为 PDF。

代码看起来像

```
 final EngineConfig config = new EngineConfig();
    config.setBIRTHome("./birt");
    Platform.startup(config);
    final IReportEngineFactory factory = (IReportEngineFactory) Platform
            .createFactoryObject(IReportEngineFactory.EXTENSION_REPORT_ENGINE_FACTORY);

    final HTMLRenderOption ho = new HTMLRenderOption();
    ho.setImageHandler(new HTMLCompleteImageHandler());
    config.setEmitterConfiguration(RenderOption.OUTPUT_FORMAT_HTML, ho);
    // Create the engine.
    this.engine = factory.createReportEngine(config);
    final IReportRunnable report = this.engine.openReportDesign(reportName);
    final IRunAndRenderTask task = this.engine.createRunAndRenderTask(report);
    final RenderOption options = new HMTLRenderOption();
    options.setOutputFormat(HTMLRenderOption.OUTPUT_FORMAT_PDF);
    options.setOutputFormat("pdf");
    final String output = reportName.replaceFirst(".rptdesign", ".xls");
    final String output = name.replaceFirst(".rptdesign", "." + HTMLRenderOption.OUTPUT_FORMAT_PDF);
    options.setOutputFileName( outputReporttName);
    task.setRenderOption(options);

    // Run the report.
    task.run(); 
```

但似乎在*task.run()*方法期间，系统抛出了错误。

这需要能够独立运行，而不需要 Eclipse，并且希望 BIRT 主页的设置会让它开心，但这些似乎是我不知道并且可能不需要的其他一些连接配置文件。

完整的错误：

```
07-Jan-2013 14:55:31 org.eclipse.datatools.connectivity.internal.ConnectivityPlugin log
SEVERE: Unable to determine the default workspace location.  Check your OSGi-less      platform configuration of the plugin or datatools workspace path.
07-Jan-2013 14:55:31 org.eclipse.birt.report.engine.api.impl.EngineTask handleFatalExceptions
SEVERE: An error happened while running the report. Cause:
java.lang.IllegalStateException: Unable to determine the default workspace location.  Check your OSGi-less platform configuration of the plugin or datatools workspace path.
at org.eclipse.datatools.connectivity.internal.ConnectivityPlugin.getDefaultStateLocation(ConnectivityPlugin.java:155)
at org.eclipse.datatools.connectivity.internal.ConnectivityPlugin.getStorageLocation(ConnectivityPlugin.java:191)
at org.eclipse.datatools.connectivity.internal.ConnectionProfileMgmt.getStorageLocation(ConnectionProfileMgmt.java:1060)
at org.eclipse.datatools.connectivity.oda.profile.internal.OdaProfileFactory.defaultProfileStoreFile(OdaProfileFactory.java:170)
at org.eclipse.datatools.connectivity.oda.profile.OdaProfileExplorer.defaultProfileStoreFile(OdaProfileExplorer.java:138)
at org.eclipse.datatools.connectivity.oda.profile.OdaProfileExplorer.loadProfiles(OdaProfileExplorer.java:292)
at org.eclipse.datatools.connectivity.oda.profile.OdaProfileExplorer.getProfileByName(OdaProfileExplorer.java:537)
at org.eclipse.datatools.connectivity.oda.profile.provider.ProfilePropertyProviderImpl.getConnectionProfileImpl(ProfilePropertyProviderImpl.java:184)
at org.eclipse.datatools.connectivity.oda.profile.provider.ProfilePropertyProviderImpl.getDataSourceProperties(ProfilePropertyProviderImpl.java:64)
at org.eclipse.datatools.connectivity.oda.consumer.helper.ConnectionPropertyHandler.getEffectiveProperties(ConnectionPropertyHandler.java:123)
at org.eclipse.datatools.connectivity.oda.consumer.helper.OdaConnection.getEffectiveProperties(OdaConnection.java:826)
at org.eclipse.datatools.connectivity.oda.consumer.helper.OdaConnection.open(OdaConnection.java:240)
at org.eclipse.birt.data.engine.odaconsumer.ConnectionManager.openConnection(ConnectionManager.java:165)
at org.eclipse.birt.data.engine.executor.DataSource.newConnection(DataSource.java:224)
at org.eclipse.birt.data.engine.executor.DataSource.open(DataSource.java:212)
at org.eclipse.birt.data.engine.impl.DataSourceRuntime.openOdiDataSource(DataSourceRuntime.java:217)
at org.eclipse.birt.data.engine.impl.QueryExecutor.openDataSource(QueryExecutor.java:407)
at org.eclipse.birt.data.engine.impl.QueryExecutor.prepareExecution(QueryExecutor.java:317)
at org.eclipse.birt.data.engine.impl.PreparedQuery.doPrepare(PreparedQuery.java:455)
at org.eclipse.birt.data.engine.impl.PreparedDataSourceQuery.produceQueryResults(PreparedDataSourceQuery.java:190)
at org.eclipse.birt.data.engine.impl.PreparedDataSourceQuery.execute(PreparedDataSourceQuery.java:178)
at org.eclipse.birt.data.engine.impl.PreparedOdaDSQuery.execute(PreparedOdaDSQuery.java:145)
at org.eclipse.birt.report.data.adapter.impl.DataRequestSessionImpl.execute(DataRequestSessionImpl.java:624)
at org.eclipse.birt.report.engine.data.dte.DteDataEngine.doExecuteQuery(DteDataEngine.java:152)
at org.eclipse.birt.report.engine.data.dte.AbstractDataEngine.execute(AbstractDataEngine.java:267)
at org.eclipse.birt.report.engine.executor.ExecutionContext.executeQuery(ExecutionContext.java:1939)
at org.eclipse.birt.report.engine.executor.QueryItemExecutor.executeQuery(QueryItemExecutor.java:80)
at org.eclipse.birt.report.engine.executor.TableItemExecutor.execute(TableItemExecutor.java:62)
at org.eclipse.birt.report.engine.internal.executor.dup.SuppressDuplicateItemExecutor.execute(SuppressDuplicateItemExecutor.java:43)
at org.eclipse.birt.report.engine.internal.executor.wrap.WrappedReportItemExecutor.execute(WrappedReportItemExecutor.java:46)
at org.eclipse.birt.report.engine.internal.executor.l18n.LocalizedReportItemExecutor.execute(LocalizedReportItemExecutor.java:34)
at org.eclipse.birt.report.engine.layout.html.HTMLBlockStackingLM.layoutNodes(HTMLBlockStackingLM.java:65)
at org.eclipse.birt.report.engine.layout.html.HTMLPageLM.layout(HTMLPageLM.java:92)
at org.eclipse.birt.report.engine.layout.html.HTMLReportLayoutEngine.layout(HTMLReportLayoutEngine.java:100)
at org.eclipse.birt.report.engine.api.impl.RunAndRenderTask.doRun(RunAndRenderTask.java:180)
at org.eclipse.birt.report.engine.api.impl.RunAndRenderTask.run    (RunAndRenderTask.java:77) 
```

有没有人看到这个错误并且可以指出我正确的方向？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2014-06-20T23:27:38.797

当我遇到这个问题时，我尝试了两件事。第一件事解决了错误，但后来我遇到了下一个错误。

我尝试的第一件事是将 setenv.sh 文件设置为具有以下行： `export CATALINA_OPTS="$CATALINA_OPTS -Djava.io.tmpdir=/opt/local/share/tomcat/apache-tomcat-8.0.8/temp/tmpdir -Dorg.eclipse.datatools_workspacepath=/opt/local/share/tomcat/apache-tomcat-8.0.8/temp/tmpdir/workspace_dtp"`

在我在本地 tomcat 服务器中创建`tmpdir`和目录后，此解决方案有效。`workspace_dtp`这是根据[此处](http://wiki.eclipse.org/Birt_3.7_Migration_Guide#Connection_Profiles)的指导完成的。

但是，我刚刚遇到下一个错误，即连接配置文件错误。如果你需要，我可以再看看。我知道如何复制这个问题。

我尝试的第二件事最终完全解决了这个问题，这与我们的报表设计者在报表设计过程中选择了错误的数据源类型有关。请参阅我在 Eclipse BIRT 论坛上的帖子以获取完整的故事：[post](https://www.eclipse.org/forums/index.php/t/781961/)。

基本上，报告类型设置为“查询生成器的 JDBC 数据库连接”，而它本应设置为“JDBC 数据源”。请参阅图片以供参考：![Eclipse BIRT 新建数据源向导中的新建数据源窗口](../Images/923c5a5cf226b831439aee3fc88d7f75.png)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-04-07T11:28:36.993

我使用这种编程方式来初始化工作空间目录：

```
@Override
public void initializeEngine() throws BirtException {
    // define eclipse datatools workspace path (required)
    String workspacePath = setDataToolsWorkspacePath();

    // set configuration
    final EngineConfig config = new EngineConfig();
    config.setLogConfig(workspacePath, Level.WARNING);

    // config.setResourcePath(getSqlDriverClassJarPath());

    // startup OSGi framework
    Platform.startup(config); // really needed ?
    IReportEngineFactory factory = (IReportEngineFactory) Platform
            .createFactoryObject(IReportEngineFactory.EXTENSION_REPORT_ENGINE_FACTORY);
    engine = factory.createReportEngine(config);
    engine.changeLogLevel(Level.WARNING);
}

private String setDataToolsWorkspacePath() {
    String workspacePath = System.getProperty(DATATOOLS_WORKSPACE_PATH);
    if (workspacePath == null) {
        workspacePath = FilenameUtils.concat(SystemUtils.getJavaIoTmpDir().getAbsolutePath(), "workspace_dtp");
        File workspaceDir = new File(workspacePath);
        if (!workspaceDir.exists()) {
            workspaceDir.mkdir();
        }
        if (!workspaceDir.canWrite()) {
            workspaceDir.setWritable(true);
        }
        System.setProperty(DATATOOLS_WORKSPACE_PATH, workspacePath);
    }
    return workspacePath;
} 
```

我还需要以这种方式在运行时强制数据源参数：

```
private void generateReportOutput(InputStream reportDesignInStream, File outputFile, OUTPUT_FORMAT outputFormat,
        Map<PARAM, Object> params) throws EngineException, SemanticException {
    // Open a report design
    IReportRunnable design = engine.openReportDesign(reportDesignInStream);

    // Use data-source properties from persistence.xml
    forceDataSource(design);

    // Create RunAndRender task
    IRunAndRenderTask runTask = engine.createRunAndRenderTask(design);

    // Use data-source from JPA persistence context
    // forceDataSourceConnection(runTask);

    // Define report parameters
    defineReportParameters(runTask, params);

    // Set render options
    runTask.setRenderOption(getRenderOptions(outputFile, outputFormat, params));

    // Execute task
    runTask.run();
}

private void forceDataSource(IReportRunnable runableReport) throws SemanticException {
    DesignElementHandle designHandle = runableReport.getDesignHandle();

    Map<String, String> persistenceProperties = PersistenceUtils.getPersistenceProperties();
    String dsURL = persistenceProperties.get(AvailableSettings.JDBC_URL);
    String dsDatabase = StringUtils.substringAfterLast(dsURL, "/");
    String dsUser = persistenceProperties.get(AvailableSettings.JDBC_USER);
    String dsPass = persistenceProperties.get(AvailableSettings.JDBC_PASSWORD);
    String dsDriver = persistenceProperties.get(AvailableSettings.JDBC_DRIVER);

    SlotHandle dataSources = ((ReportDesignHandle) designHandle).getDataSources();
    int count = dataSources.getCount();
    for (int i = 0; i < count; i++) {
        DesignElementHandle dsHandle = dataSources.get(i);
        if (dsHandle != null && dsHandle instanceof OdaDataSourceHandle) {
            // replace connection properties from persistence.xml
            dsHandle.setProperty("databaseName", dsDatabase);
            dsHandle.setProperty("username", dsUser);
            dsHandle.setProperty("password", dsPass);
            dsHandle.setProperty("URL", dsURL);
            dsHandle.setProperty("driverClass", dsDriver);
            dsHandle.setProperty("jarList", getSqlDriverClassJarPath());
            // @SuppressWarnings("unchecked")
            // List<ExtendedProperty> privateProperties = (List<ExtendedProperty>) dsHandle
            // .getProperty("privateDriverProperties");
            // for (ExtendedProperty extProp : privateProperties) {
            // if ("odaUser".equals(extProp.getName())) {
            // extProp.setValue(dsUser);
            // }
            // }
        }
    }
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-24T12:32:02.870

在这里，我给你一个让我免于痛苦的提示： **在安装 BIRT 插件后使用“-clean”选项启动 eclipse。**

需要明确的是，我的项目是从 BIRT maven 依赖项构建的，因此不应使用 eclipse 依赖项来运行（设计报告除外），但是......我认为某处存在冲突......尤其是 org.eclipse.datatools .connectivity_1.2.4.v201202041105.jar

为了全球理解，您应该遵循迁移指南： [http ://wiki.eclipse.org/Birt_3.7_Migration_Guide#Connection_Profiles](http://wiki.eclipse.org/Birt_3.7_Migration_Guide#Connection_Profiles)

它有助于使用连接配置文件来外部化数据源参数。所以直接在报表设计中定义JDBC参数就不需要了。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2019-02-01T23:21:24.123

我有同样的问题

将数据源类型从“用于查询生成器的 JDBC 数据库连接”更改为“JDBC 数据源”为我解决了这个问题。

# prestashop - prestashop bankwire 模块上的错误 500 http

> ID：14198756
> 
> 赞同：0
> 
> 时间：2013-01-07T15:21:05.667
> 
> 标签：prestashop, linker-errors

我在使用 prestashop 时遇到了一些麻烦。事实上，我刚刚开设了自己的商店，但在使用银行电汇时遇到了一些麻烦。当有人确认其订单时，它会变成错误 500，而不是显示订单确认。

我在 php 5.3 这里是网站的地址。www.omega-nutrition.fr

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-08-29T09:25:46.797

请检查`/logs/date_exception.log`

如果你有这个错误：

```
Can't load Order status at line 167 in file classes/PaymentModule.php 
```

**（prestashop 1.6）**

您必须插入所有默认订单状态：

*   ps_order_state
*   ps_order_state_lang

从全新安装中转储这些原始表并导入您的数据库

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-07T20:49:32.043

您可能需要提供更多信息。检查服务器错误日志并确保您的权限设置为 755（或 644）。如果需要更改权限，请确保清除缓存和 cookie。

另外，我认为如果您安装了 Collisimo 模块并且不需要它，请尝试将其卸载，这也可能会有所帮助。

# javascript - 主干.js 和路由

> ID：14198759
> 
> 赞同：3
> 
> 时间：2013-01-07T15:21:10.920
> 
> 标签：javascript, backbone.js

我不确定我是否做错了什么，但我的路由器中有一个功能，如下所示：

```
 ":page/"    : "page",
    ":page/:subpage"    : "subpage" 
```

但是如果用户要访问 :page 而不使用正斜杠，我的页面功能就会中断。我尝试添加另一个没有正斜杠的函数，但它以某种方式破坏了它。

```
 ie: ":page":"page"
      ":page/":"page"
      ":page/:subpage/":"subpage" 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-07T21:04:06.597

您可以执行以下操作来解决此问题：

```
var Router = Backbone.Router.extend({
      routes: {
      'page(/)': 'page',
      ":page:subpage(/)"    : "subpage"
    }
}); 
```

# html - 无序列表文本的顶部对齐

> ID：14198761
> 
> 赞同：1
> 
> 时间：2013-01-07T15:21:18.473
> 
> 标签：html, css

以下是我的代码，其中我使用内联样式将文本与相应的图像对齐，但内联 css 不起作用请告诉我如何修改以下代码，因此文本将与相应的顶部对齐图片。

```
<ul style="font-size:17px;vertical-align:top; margin-top:0;">
<li style="list-style-image: url(images/check.png);">Text is not aligning to topText is not aligning to topText is not aligning to topText is not aligning to topText is not aligning to topText is not aligning to top</li>
<li style="list-style-image: url(images/check.png);">Text is not aligning to topText is not aligning to topText is not aligning to topText is not aligning to topText is not aligning to topText is not aligning to topText is not aligning to topText is not aligning to top</li>

</ul> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-07T15:28:11.747

您正在尝试创建媒体块，这是网络中最常见的组件之一。Nicole Sullivan，CSS 中最著名的名字之一，有一篇很棒的文章谈论媒体块的本质并给出了一个出色的标准实现。

[http://www.stubbornella.org/content/2010/06/25/the-media-object-saves-hundreds-of-lines-of-code/](http://www.stubbornella.org/content/2010/06/25/the-media-object-saves-hundreds-of-lines-of-code/)

我强烈建议使用她的实现或阅读她的实现以了解它是如何完成的。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-07T15:51:10.630

将背景 img 的位置设置为左中心

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-07T15:46:33.190

问题不在于您的代码。

您甚至可以删除一些不必要的标记。

你的形象令人头疼。它需要调整以使您的项目符号与文本对齐。

*我做了一些修改，它是图像大小。图像高度高于您需要按比例缩小的行*

此外，您必须小心`verticle-align`它并不总是按您期望的方式工作。[参考](http://phrogz.net/css/vertical-align/index.html)

# javascript - -webkit-animation 完成时 webkitTransitionEnd 未触发

> ID：14198763
> 
> 赞同：0
> 
> 时间：2013-01-07T15:21:21.220
> 
> 标签：javascript, css, webkit, css-transitions

提前感谢您的帮助，非常感谢！

我有一个旋转优美的 CSS 进度条和一个规范化的 JS 函数`transitionEnd`，类似于我相信的 Modenizer。

我的问题是`webkitTransitionEnd`事件似乎没有触发，我对这一切都很陌生，所以上传了一个我正在做的演示：http: [//jsfiddle.net/jonathonoates/99k7r/58/](http://jsfiddle.net/jonathonoates/99k7r/58/)

该演示仅使用 WebKit 前缀，很抱歉，您必须在 Chrome 或 Safari 等上查看它。当我让这个 Webkit 版本工作时，我会添加其余的！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-07T16:02:08.867

因为我已将动画设置为无限循环，所以动画从未结束，所以按道理`webkitTransitionEnd`不会被解雇。

此外，我真正需要的是`webkitAnimationEnd`相反。

如果您希望动画无限循环，您可以从 DOM 中的元素中删除动画类，将 a 设置`timeout`为 0，然后重新添加类（这并不理想），或者更好的是，删除元素动画完成时从 DOM 中获取并立即重新附加它们。

这是更新的代码：http: [//jsfiddle.net/jonathonoates/fktqE/2/](http://jsfiddle.net/jonathonoates/fktqE/2/)

# android - Android ImageButton setImageBitmap 出现错误的元素

> ID：14198765
> 
> 赞同：0
> 
> 时间：2013-01-07T15:21:35.613
> 
> 标签：android, imagebutton

我有三个图像按钮的情况：

1.  用相机拍照
2.  删除照片
3.  显示所拍摄图像的cropped2fit 版本

我正在使用手机的摄像头。

我的问题是，有时，显然没有任何解释，当我用 setImageBitmap 设置照片时，它会出现错误的 imageButton（似乎总是删除按钮，但我不太确定）。重新启动设备似乎可以解决问题。

代码很简单：我使用 findViewById 将对象转换为 ImageButton 并使用 setImageBitmap 设置图像。

```
ImageView iv = ((ImageView) findViewById(R.id.imgFotoPrima));
iv.setImageBitmap(fn.setupImage(data, PrimaOutputFileUri));
iv.setScaleType(ScaleType.CENTER_CROP); 
```

* * *

```
public static Bitmap setupImage(Intent data, Uri outputFileUri) {
    BitmapFactory.Options options = new BitmapFactory.Options();
    options.inSampleSize = 2; // SAMPLE_SIZE = 2
    Bitmap tempBitmap = null;
    Bitmap bm = null;
    try {
        tempBitmap = (Bitmap) data.getExtras().get("data");
        bm = tempBitmap;
        Log.v("ManageImage-hero", "the data.getData seems to be valid");
        FileOutputStream out = new FileOutputStream(outputFileUri.getPath());
        tempBitmap.compress(Bitmap.CompressFormat.JPEG, 100, out);
    }
    catch (NullPointerException ex) {
        Log.v("ManageImage-other", "another phone type");
        bm = otherImageProcessing(options, outputFileUri);
    }
    catch (Exception e) {
        Log.e("ManageImage-setupImage", "problem setting up the image", e);
    }
    return bm;
} 
```

xml 中的元素具有不同的 id。

我已经在 Lenovo (7') 和 Galaxy Tab 7 II 上试用过该应用程序。它似乎只发生在 Galaxy Tab 上。

会不会是平板的问题？？有我这种情况的人吗？

# css - 为什么固定位置元素显示在嵌套绝对值之上？

> ID：14198766
> 
> 赞同：3
> 
> 时间：2013-01-07T15:21:37.780
> 
> 标签：css, positioning

例如，采用以下 HTML 和 CSS：

```
<div class="fixed"></div>
<div class="wrapper">
  <div class="child"></div>
</div>

.fixed {
  background: blue;
  position: fixed;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
  z-index: 2;
}

.wrapper, .child {
  position: absolute;  
  height: 20px;
  width: 20px;
  padding: 20px;
}

.wrapper {
  z-index: 1;
  background: red;
}

.child {
  position: absolute;
  z-index: 3;
  background: yellow;
} 
```

预期的行为将是`.child`显示在上面，但在`.fixed`http://jsfiddle.net/STLMR/[上](http://jsfiddle.net/STLMR/)`.wrapper`显示是不可见的（在 Chrome + Firefox 中测试）。这有什么技巧，还是我缺少一些 CSS 怪癖？ `.fixed`

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-07T15:24:17.027

在 CSS 中，`z-index`不是绝对的，而是相对于父容器的。对于“绝对”，我不是指`position: absolute`属性，我之所以这么说是因为它可能会造成混淆。

相关：[https ://stackoverflow.com/a/7490187/671092](https://stackoverflow.com/a/7490187/671092)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-07T15:25:42.677

您必须将 移动`.child`到 z-index 高于`.fixed`.

# javascript - JS：在*默认之后触发附加代码？

> ID：14198768
> 
> 赞同：0
> 
> 时间：2013-01-07T15:21:41.320
> 
> 标签：javascript, javascript-events

我已经阅读了许多关于 SO 的类似问题，例如， [在调用 event.preventDefault() 后是否有[通用] 方法来调用默认操作？](https://stackoverflow.com/questions/7732854/is-there-a-universal-way-to-invoke-a-default-action-after-calling-event-preven)，但是在这种情况下，**我不希望阻止默认事件**，而是希望在默认事件开始后运行一些附加代码作为回调。

这可能吗？一位同事使用了一个值为 1 的超时，推测在当前事件循环中，默认事件将开始运行，而在下一个循环中，将运行定时事件。SO对此有何看法？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-07T15:29:17.313

如果您想在默认事件完成后运行代码，那么`setTimeout`就是要走的路。

```
setTimeout(function(){}, 0) 
```

0ms 的值应该将此函数推入堆栈底部，因此它将在事件完成后运行。

看看这个答案以获得更好的解释：[https ://stackoverflow.com/a/779785/206403](https://stackoverflow.com/a/779785/206403)

# c# - 在分层模型中定义的外键

> ID：14198772
> 
> 赞同：0
> 
> 时间：2013-01-07T15:21:50.870
> 
> 标签：c#, entity-framework

在 EF5 中定义模型时遇到问题。我想将其`ParentId`作为数据库中的外键，但出现错误：

> System.Data.Entity.Edm.EdmAssociationType：：多重性与关系“Category_Parent”中角色“Category_Parent_Target”中的引用约束冲突。因为从属角色中的所有属性都不可为空，所以主体角色的多重性必须为“1”。

这是我的模型：

```
public class Category
{
    public Category()
    {
        this.Childs = new HashSet<Category>();
    }
    public int CategoryId { get; set; }
    public string Name { get; set; }
    public int ParentId { get; set; }
    public virtual Category Parent { get; set; }
    public virtual ICollection<Category> Childs { get; set; } 
} 
```

和

```
modelBuilder.Entity<Category>()
            .HasOptional(c => c.Parent)
            .WithMany(c => c.Childs)
            .HasForeignKey(d => d.ParentId); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-07T15:27:57.470

如果 a`Category`可能有也可能没有 a `Parent`，那么 the`ParentId`可能有也可能没有值。

因此，使`ParentId`可空：

```
public int? ParentId { get; set; } 
```

# security - 为什么这些 Botan 公钥如此相似？

> ID：14198775
> 
> 赞同：3
> 
> 时间：2013-01-07T15:22:02.423
> 
> 标签：security, public-key-encryption, x509, botan, ecdsa

我正在使用 Botan 创建公共/私有 ECDSA 密钥对。生成的公钥（即使在使用此代码的不同机器上）非常相似......我认为太相似了，无法考虑安全。这是两次运行的示例：

```
-----BEGIN PUBLIC KEY-----  
MIIBEzCB7AYHKoZIzj0CATCB4AIBATAsBgcqhkjOPQEBAiEA////////////////
/////////////////////v///C8wRAQgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAEIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHBEEEeb5m
fvncu6xVoGKVzocLBwKb/NstzijZWfKBWxb4F5hIOtp3JqPEZV2k+/wOEQio/Re0
SKaFVBmcR9CP+xDUuAIhAP////////////////////66rtzmr0igO7/SXozQNkFB
AgEBAyIAAneDBKm4ubKbv0hxgzhkh0oAI8WKFTs1Hz/Qqyl6qxzD  
-----END PUBLIC KEY-----

-----BEGIN PUBLIC KEY-----  
MIIBEzCB7AYHKoZIzj0CATCB4AIBATAsBgcqhkjOPQEBAiEA////////////////
/////////////////////v///C8wRAQgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAEIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHBEEEeb5m
fvncu6xVoGKVzocLBwKb/NstzijZWfKBWxb4F5hIOtp3JqPEZV2k+/wOEQio/Re0
SKaFVBmcR9CP+xDUuAIhAP////////////////////66rtzmr0igO7/SXozQNkFB
AgEBAyIAAtQr5BPT04pk/Ror6uIGRqEKeB8dwIteR8p/r+Nl7hql  
-----END PUBLIC KEY----- 
```

我正在使用 X509 编码对公钥进行编码。这是生成 ECDSA 密钥的代码：

```
LibraryInitializer init;
AutoSeeded_RNG rng;
EC_Group ecGroup("secp256k1");
ECDSA_PrivateKey key(rng, ecGroup); 
```

为什么我要生成如此相似的公钥？如果多个用户要使用此代码生成自己的密钥，我是否正确地假设这不是“安全的”？

* * *

更新：下面的答案似乎是正确的。我向 XCA 的创建者 Christian Hohnstaedt 发送了电子邮件，以进一步探讨 XCA 如何生成此公钥以及它是什么。他回答说是EC_POINT，是通过命令获取的

```
openssl ec -pubin -noout -text 
```

插入 X509 PEM 编码的公钥确实揭示了不同的公共 EC 点。应该注意（对于像我这样的其他新手）答案中的公共 EC 点对另一方本身没有好处 - 另一方需要知道正在使用哪个 EC 组，这就是为什么 X509 PEM 编码是比仅仅一个 EC 点更有帮助。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-07T22:45:02.167

这些的实际公钥是：

```
02:77:83:04:A9:B8:B9:B2:9B:BF:48:71:83:38:64:87
4A:00:23:C5:8A:15:3B:35:1F:3F:D0:AB:29:7A:AB:1C
C3 
```

和

```
02:D4:2B:E4:13:D3:D3:8A:64:FD:1A:2B:EA:E2:06:46
A1:0A:78:1F:1D:C0:8B:5E:47:CA:7F:AF:E3:65:EE:1A
A5 
```

这些并不相同，因此没有明显的理由担心这方面。相同的数据是密钥元数据和编码 bumf（对于相同的格式密钥，您希望它们是相同的）。

通过导入 xca (linux) 获得的值。有更好的工具来检查 DER 编码的数据，但我找不到任何容易的工具。

# java - 转换为字符串的首选方式

> ID：14198780
> 
> 赞同：1
> 
> 时间：2013-01-07T15:22:22.467
> 
> 标签：java, string

您会推荐哪种方式将 Java 对象转换`String`为，为什么？
例如，假设我们有：

`StringBuilder sb = new StringBuilder();`

我们可以通过`String`两种方式将其转换为。第一的：

```
sb.toString(); 
```

第二：

```
sb + ""; 
```

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-01-07T15:24:17.433

第一个是首选，因为它更常用且更有效。

如果字符串不为空，您只会使用第二个（在这种情况下，您应该将其附加到 StringBuilder）

第二个例子更昂贵，因为它与

```
new StringBuilder().append(sb.toString()).append("").toString(); 
```

从技术上讲，它可以做到这一点。

```
new StringBuilder().append(String.valueOf(sb)).append("").toString(); 
```

区别在于 String.valueOf(null) => "null" 而不是 NPE。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2013-01-07T15:24:10.333

`someObject.toString()`和之间的主要区别在于`someObject + ""`someObject 是否为 null：前者会抛出 NullPointerException 而后者不会（它将返回“null”）。

如果您希望您的对象不为空，那么：

```
String s = someObject.toString(); 
```

节省了不必要的连接（编译器可能会或可能不会删除）。

但是，如果对象可以为 null 并且它是可接受的值，我宁愿选择：

```
String.valueOf(someObject); 
```

在此示例中，如果`someObject`为 null，它将返回“null”并且不会引发异常。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-07T15:27:37.607

正如@Peter Lawrey 提到的，第一个更常用于字符串生成器。但是，当*转换*为字符串时，最好这样做......

```
(String) myVariable; 
```

而不是...

```
myVariable.toString(); 
```

这样做的原因是第二个可能会引发空指针异常。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-01-07T15:35:39.997

还有第三种可能：

```
 Objects.toString(Object o, String nullDefault) 
```

如果第一个参数是 ，则返回第二个参数`null`，
否则`o.toString()`返回。

（还有`Objects.toString(Object o)`，返回与 相同`String.valueOf`）

# java - 更改 StyledDocument 中的特定字符串属性

> ID：14198787
> 
> 赞同：4
> 
> 时间：2013-01-07T15:22:57.917
> 
> 标签：java, swing, text-editor, jtextpane, styleddocument

我正在尝试创建一个文本编辑器。我正在使用带有 StyledDocument 的 JTextPane。我正在尝试实现的是一种更改所选文本属性的方法。

这以以下方式工作：用户输入所需的文本。之后，他可以通过选择字符串并按下按钮来更改任何字符串的属性（字体系列、字体大小、是否为粗体/斜体），其中通过复选框和下拉列表将选择所需的更改。

我是否可以更改所选字符串的属性而无需重建文档？我一直在寻找，但无法找到合适的解决方案。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-07T16:00:09.307

您将使用 StyledDocument 的 setCharacterAttributes 方法。

这是我的一个 Swing 应用程序的示例，它使用突出显示颜色突出显示文本。

```
 StyleContext sc = StyleContext.getDefaultStyleContext();
        AttributeSet aset = sc.addAttribute(
                SimpleAttributeSet.EMPTY,
                StyleConstants.Foreground, highlightColor);
        cobolProgram.setCharacterAttributes(offset, length, aset,
                false); 
```

您可以使用其他 StyleConstants 来更改其他样式属性。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-01-07T19:30:13.513

您可以使用 提供的操作`StyledEditorKit`，在[此处查看](https://stackoverflow.com/a/8534162/230513)并在[*如何使用编辑器窗格和文本窗格*](http://docs.oracle.com/javase/tutorial/uiswing/components/editorpane.html)中进行了讨论。

![图片](../Images/fa8a498d20ce649a263ceb938c777103.png)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-07T15:59:25.673

就我而言，当用户更改文本时，我“清理”了样式：

```
StyledDocument doc = tf.getStyledDocument();

//clean style
doc.setCharacterAttributes(0, sb.length(), DEF, true); 
```

# qt - 强制javascript重新评估信号？

> ID：14198789
> 
> 赞同：1
> 
> 时间：2013-01-07T15:23:03.863
> 
> 标签：qt, javascript, qobject, qt-signals

所以我有以下情况：

QML 文件：

```
import "Script.js" as MyScript

SomeItem{
    source: MyScript.getSource
} 
```

JavaScript 文件 (Script.js)：

```
function getSource(){
    return _SomeQtObject.getFromQtObjectSource();
} 
```

假设我在 SomeQtObject 中有一些信号，基于这些信号 getSource 应该重新评估。如何将这些信号绑定到 javaScript getSource 函数，以便在每次发出这些信号时重新评估？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-02T07:27:09.510

没有办法强制自动重新评估javascript函数的结果。

您必须创建连接到适当信号的插槽`_SomeQtObject`。在此插槽中，您可以重新评估`getSource()`并分配它 ro `source`。

# windows - 如何更改服务器管理员名称和密码

> ID：14198792
> 
> 赞同：0
> 
> 时间：2013-01-07T15:23:15.913
> 
> 标签：windows, powershell, local, administrator

我需要将服务器上的本地管理员名称和密码更改为 .csv 中包含的名称和密码

CSV 文件包含一个包含所有信息的列表，其中每行的服务器、管理员名称和密码都不同

csv 以三列为首 - 服务器、管理员、密码

使用 Powershell 怎么能做到这一点？

我知道我可以使用它来设置它们，但它们需要按照每个 csv 行。

```
foreach ($strComputer in get-content  c:\Servers.txt)
{

$Admin=[adsi]("WinNT://" + $strComputer + "/Administrator, user")
$Admin.psbase.rename("Newname")
$Admin.SetPassword("NewPW") 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-07T15:37:56.623

您可以使用 Import-Csv 而不是 get-content。然后您可以使用标题名称来处理变量。假设你有一个像这样的文件：

```
Server,Admin,PW
bla1,bla2,bla3
blaA,blaB,blaC 
```

的输出

```
foreach ($line in Import-Csv c:\Servers.txt) { echo $line.server } 
```

将会：

```
bla1
blaA 
```

只是为了完成你的代码，试试这个例子：

```
foreach ($line in Import-Csv c:\Servers.txt)
{
$Admin=[adsi]("WinNT://" + $line.Server + "/Administrator, user")
$Admin.psbase.rename($line.Admin)
$Admin.SetPassword($line.PW)
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-07T15:34:16.830

试试这个（未经测试）：

```
import-csv c:\servers.txt | % {

$Admin=[adsi]("WinNT://" + $($_.Server) + "/Administrator, user")
$Admin.psbase.rename($($_.Admin))
$Admin.SetPassword($($_.PW))
$Admin.SetInfo() # I think it's needed
} 
```

# c++ - 我所有的函数都有错误 C2084：函数“函数”已经有一个主体

> ID：14198799
> 
> 赞同：0
> 
> 时间：2013-01-07T15:23:37.790
> 
> 标签：c++, compiler-errors, syntax-error

我在网站的其他地方看到过类似的函数重载问题和这个错误，但是这发生在我的所有函数上，我不知道发生了什么或如何解决它。

我不确定是否只是我犯了一个基本的语法错误，这个错误已经严重错误或更险恶。如果有人有任何想法，请提供帮助。

哦，我为这个问题的糟糕格式道歉，这是我问的第一个问题。

> 错误 C2084：函数 'Node::Node(Board *,int)' 已经有一个主体
> 
> node.h(16) : 参见之前对 '{ctor}' 的定义

节点.h

```
#pragma once

#include "Board.h"

class Node

{

private:

Board* nodeBoard;

int currentPlayer;

int value;  

Node** childrenNodes;

public:

//----some constructors----

Node(Board* board, int player)  {};

Node(Board* board)  {};

~Node(){};  

//----other functions----

Node generateChildren(int playerX, int playerY, Board* board)   {}

// other functions exist in the same format

}; 
```

节点.cpp

```
#pragma once

#include "Node.h"

Node::Node(Board* board, int player)
{

nodeBoard = board;

currentPlayer = player;

childrenNodes = NULL;

}

Node::Node(Board* board)
{

nodeBoard = board;

}
Node::~Node(){};

Node Node::generateChildren(int playerX, int playerY, Board* board)

{

//this fills the nodes based on if the squares next to the player are moveable 

} 
```

Ps Board 是我制作的另一个类，它与 Node.js 有相同的问题。

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2013-01-07T15:25:00.320

```
Node(Board* board, int player) {}; 
```

应该是

```
Node(Board* board, int player); 
```

在类定义中。这`{}`是一个空的实现，这使得另一个定义是非法的。

其他构造函数和方法也是如此。或者，您可以在类定义中保持内联实现，但您必须从实现文件中删除它们。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-07T15:27:36.563

从您的 .h 文件中删除空括号 - 它们不属于那里。

# html - 正在应用 Landscape.css 和 Portrait.css

> ID：14198800
> 
> 赞同：0
> 
> 时间：2013-01-07T15:23:42.987
> 
> 标签：html, css, ipad, landscape, portrait

我在我的 HEAD 标签中声明了以下内容：

```
 <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="viewport" content="width=768px, minimum-scale=1.0, maximum-scale=1.0" />
    <link rel="stylesheet" media="all and (orientation:landscape}" href="css/landscape.css">
    <link rel="stylesheet" media="all and (orientation:portrait}" href="css/portrait.css"> 
```

在 iPad 的 firebug lite 中，我看到来自 Portrait.css 和 Landscape.css 的样式都被应用了。样式与我的页面发生冲突和混乱。当我强制 Portrait.css 加载（通过删除横向线）纵向模式工作正常。当我强制加载横向（通过删除纵向线）时，横向工作正常。我希望 Portrait.css 仅适用于纵向，而 Landscape.css 仅适用于横向。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-07T15:33:33.357

在您的媒体属性中，您必须`}`关闭条件，而不是`)`

# lwuit - 黑莓 10 中的 LWUIT 支持？

> ID：14198803
> 
> 赞同：0
> 
> 时间：2013-01-07T15:24:03.017
> 
> 标签：lwuit, blackberry-10

我尝试使用 BlackBerry 10。我在 LWUIT 上进行开发。我无法将我的 LWUIT 项目添加到 BlackBerry 10。

有谁知道这个设备适用于哪个jde？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-07T20:02:05.250

黑莓 10 是一个全新的平台，它不使用 Java-ME。旧的 BlackBerry 旧 BlackBerry 平台确实是 Java-ME。LWUIT 适用于 Java-ME 环境，因此不适用于 BlackBerry-10。

如果您知道要使用 Java，那么您应该查看 BlackBerry 10 的 Android 运行时。但是，如果您查看根本不是 Java 的本机 API，您将生成更好的 BlackBerry-10 应用程序。它使用 C++ 和 Javascript 来组合 UI。如果您想针对原生 BlackBerry-10 开发，请搜索 BlackBerry Cascades。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-08T08:04:53.347

[将您的代码迁移到支持 Android（和 iPhone）的Codename One](http://www.codenameone.com/)会更容易，因此您也可以将其转换为 Blackberry 10 应用程序。Codename One 与 LWUIT 非常相似（它基于相同的代码）所以应该很容易。

# url - Download YouTube videos doesn't work

> ID：14198811
> 
> 赞同：1
> 
> 时间：2013-01-07T15:24:24.030
> 
> 标签：url, youtube

I parsed the "url_encoded_fmt_stream_map=" entries with the direct video urls of some formats, example (decoded):

```
http://r7---sn-2apm-f5f6.c.youtube.com/videoplayback?gcr=de&cp=U0hUTFVUUl9LUENONF9NTlZHOkpGR0NWdWtvSk15&source=youtube&ip=46.59.194.67&upn=KHmKgXE5di4&fexp=917000,906357,911115,916611,920704,912806,928001,922403,922405,929901,913605,929104,913546,913556,908496,920201,913302,919009,911116,901451,902556&ms=au&itag=45&mt=1357571596&sparams=cp,gcr,id,ip,ipbits,itag,ratebypass,source,upn,expire&id=e4b675c403014739&expire=1357594666&ipbits=8&mv=m&newshard=yes&ratebypass=yes&sver=3&key=yt1&signature=1C8204D1180CAB0B57E3B3331409BD055CBA25B1.73FBEC95E020BBCAC6485D62601E8CF05ACA72DE,quality=hd720&itag=22&fallback_host=tc.v23.cache2.c.youtube.com&type=video/mp4;+codecs="avc1.64001F,+mp4a.40.2" 
```

But I can't download or view it! VLC says: Cannot open! Firefox remains empty (white window, no error message)! Are the urls after "url_encoded_fmt_stream_map=" right?

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-16T07:10:33.963

在我的回答 [https://stackoverflow.com/a/14352995/307547](https://stackoverflow.com/a/14352995/307547) 中，我描述了下载 youtube 视频的解决方案。

```
LBYouTubeExtractor *extractor = [[[LBYouTubeExtractor alloc] initWithURL:[NSURL URLWithString:[NSString stringWithFormat:(@"http://www.youtube.com/watch?v=%@"), self.videoID ]] quality:LBYouTubeVideoQualityLarge] autorelease];
[extractor extractVideoURLWithCompletionBlock:^(NSURL *videoURL, NSError *error) {
    if(!error) {
        NSLog(@"Did extract video URL using completion block: %@", videoURL);

        dispatch_async(dispatch_get_global_queue(DISPATCH_QUEUE_PRIORITY_DEFAULT, 0), ^{
            NSData *data = [NSData dataWithContentsOfURL: videoURL];
            NSString *pathToDocs = [NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES) objectAtIndex:0];
            NSString *filename = [NSString stringWithFormat:(@"video_%@.mp4"), self.videoID ];
            [data writeToFile:[pathTODocs stringByAppendingPathComponent:filename] atomically:YES];
            NSLog(@"File %@ successfully saved", filename);
        });
    } else {
        NSLog(@"Failed extracting video URL using block due to error:%@", error);
    }
}]; 
```

您可以使用上述帖子中描述的技术显示下载进度。您可以将 dataWithContentsOfURL 替换为更适合您的方法。

# css - CSS 匹配正则表达式和 last-child

> ID：14198818
> 
> 赞同：0
> 
> 时间：2013-01-07T15:24:41.820
> 
> 标签：css, twitter-bootstrap

我正在尝试将所有元素与一类等相匹配`span1, span2, span3, span4`。

我正在使用以下代码，但它与这些类的最后一个孩子不匹配：

```
[class*="span"]:last-child{
    margin-left:0;
} 
```

例如，如果我有：

```
<div>
   <div class="span3"></div>
   <div class="span9"></div>
   <div class="clearfix"></div>
</div> 
```

该规则不适用于`.span9`元素。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-07T15:37:54.167

`last-child`适用于父母的最后一个孩子。在您的示例中，它正在查看最后一个`div`并看到它的类是*clearfix* - 而不是其中包含*span*的东西 - 并且无法匹配。

如果您总是在最后清除固定并且*只想定位倒数第二个 child*，那么您可以使用。

```
nth-last-child(2) 
```

顾名思义，这将针对倒数第二个元素，无论它是什么。[在 JSFiddle 上查看。](http://jsfiddle.net/tSaQD/)

如果您总是使用`div`s，您也可以使用此代码来获得相同的效果：

```
nth-last-of-type(2) 
```

[在 JSFiddle 上查看那个。](http://jsfiddle.net/fNvMy/)

IE9 或更高版本对所有这些模式（last-child、nth-last-child 和 nth-last-of-type）的 IE 支持是相同的。

当然，你可以简单地去掉这个`:last-child`位来定位你所有的*span*类 div，不管它们在父级中的什么位置：

```
 [class*="span"] 
```

[在 JSFiddle 上查看](http://jsfiddle.net/pgtq4/)

# magento - magento 类别循环未显示重要的产品信息

> ID：14198819
> 
> 赞同：0
> 
> 时间：2013-01-07T15:24:43.353
> 
> 标签：magento, magento-1.7

我正在尝试通过将产品划分为子类别来组织类别页面。当我使用代码遍历子类别（在 catalog\product\list.phtml 上）时：

$child_cat = Mage::getModel('catalog/category')->load($child_id); $_productCollection = Mage::getResourceModel('catalog/product_collection')->addCategoryFilter($child_cat);

然后继续循环浏览产品...

foreach ($_productCollection 作为 $_product):

它似乎没有区分设置为可见的产品和不可见的产品（都显示）。它也不显示图像、价格或任何其他信息。我得到的唯一正确信息是产品 URL。

为什么会发生这种情况，我该如何解决？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-07T16:08:32.403

默认情况下，当您加载产品集合时，您将获得有关产品的少量信息。前任：

```
Array
(
    [entity_id] => 9
    [entity_type_id] => 4
    [attribute_set_id] => 4
    [type_id] => simple
    [sku] => DLKJFER343
    [has_options] => 0
    [required_options] => 0
    [created_at] => 2012-12-07 16:04:58
    [updated_at] => 2012-12-11 16:21:37
    [cat_index_position] => 0
    [stock_item (Varien_Object)] => Array
        (
        )

) 
```

您需要明确告诉 Magento 加载额外信息或按如下值过滤：

```
$_productCollection = Mage::getResourceModel( 'catalog/product_collection' );
// Filter by enabled products
$_productCollection->addAttributeToFilter( 'status', 1 );
// Load all product information
$_productCollection->addAttributeToSelect( '*' );
$_productCollection->addCategoryFilter( $category ); 
```

现在你会看到这样的东西（`$_product->debug()`用来转储一些信息）：

```
Array
(
    [entity_id] => 3
    [entity_type_id] => 4
    [attribute_set_id] => 4
    [type_id] => simple
    [sku] => DLKJFER343
    [has_options] => 0
    [required_options] => 0
    [created_at] => 2012-12-05 18:47:39
    [updated_at] => 2012-12-11 16:20:25
    [cat_index_position] => 0
    [status] => 1
    [visibility] => 4
    [enable_googlecheckout] => 1
    [tax_class_id] => 2
    [is_recurring] => 0
    [weight] => 3.0000
    [price] => 534.2500
    [name] => Sample Product
    [url_key] => some-product
    [is_returnable] => 2
    [msrp_enabled] => 2
    [msrp_display_actual_price_type] => 4
    [image] => /w/r/something.png
    [small_image] => /w/r/something_sm.png
    [thumbnail] => /w/r/something_th.png
    [options_container] => container2
    [url_path] => some-product.html
    [image_label] => One image label
    [small_image_label] => Another image label
    [thumbnail_label] => An image label
    [description] => Long winded blah, blah, blah.
    [short_description] => Blah, blah, blah.
    [stock_item (Varien_Object)] => Array
        (
        )

) 
```

媒体库信息（标签等）是一个不同的野兽，必须通过对象的`getMediaGalleryImages()`方法专门请求`Mage_Catalog_Model_Product`。

**但是**`NULL`，如果在循环通过产品集合时调用此方法将返回。奇怪的是，如果不明确加载产品模型，您将无法访问这些数据（原因我不会在此回复中详细说明）。所以，我们需要尝试这样的事情：

```
$product = Mage::getModel( 'catalog/product' )->load( $_product->getId() );
$images = $product->getMediaGalleryImages(); 
```

但是，在您的收集循环中执行此操作会[影响性能，所以要小心。](http://www.magentocommerce.com/boards/viewthread/29639/)

* * *

编辑：

Mage_Catalog_Block_Product->getLoadedProductCollection()

长，长，**长话短说**（这种方法深入挖掘）......据我所知 `getLoadedProductCollection()`，只会显示已`Used In Product Listing`设置为`Yes`.

![在此处输入图像描述](../Images/83ee9b054122dc55ff327869fc4ffbba.png)

原因在于 Mage_Catalog_Model_Resource_Config ...

```
public function getAttributesUsedInListing()
{
        // ... some code above omitted...
        ->where('main_table.entity_type_id = ?', (int)$this->getEntityTypeId())
        // THIS RIGHT HERE IS WHY
        ->where('additional_table.used_in_product_listing = ?', 1);

    return $adapter->fetchAll($select);
} 
```

# python - 尝试按索引访问列表时出现 Python 错误 - “列表索引必须是整数，而不是 str”

> ID：14198821
> 
> 赞同：35
> 
> 时间：2013-01-07T15:24:46.823
> 
> 标签：python

我有以下 Python 代码：

```
currentPlayers = query.getPlayers()
    for player in currentPlayers:
        return str(player['name'])+" "+str(player['score']) 
```

我收到以下错误：

> TypeError：列表索引必须是整数，而不是 str

我一直在寻找接近我的错误，但不知道该怎么做，从来没有得到那个错误。所以是的，我怎样才能将它转换为整数而不是字符串？我猜问题出在`str(player['score'])`.

* * *

## 回答 #1

> 赞同：45
> 
> 时间：2013-01-07T15:28:07.407

您是否期望`player`成为 a`dict`而不是 a `list`？

```
>>> player=[1,2,3]
>>> player["score"]
Traceback (most recent call last):
  File "<stdin>", line 1, in <module>
TypeError: list indices must be integers, not str
>>> player={'score':1, 'age': 2, "foo":3}
>>> player['score']
1 
```

* * *

## 回答 #2

> 赞同：9
> 
> 时间：2013-01-07T15:32:37.643

`player['score']`是你的问题。player 显然是 a`list`这意味着没有“分数”元素。相反，您会执行以下操作：

```
name, score = player[0], player[1]
return name + ' ' + str(score) 
```

当然，您必须知道列表索引（在我的示例中是 0 和 1）。

`player['score']`python 中允许使用类似的东西，但`player`必须是`dict`.

[您可以在python 文档](http://docs.python.org/2/tutorial/datastructures.html)中阅读有关列表和字典的更多信息。

* * *

## 回答 #3

> 赞同：5
> 
> 时间：2013-01-07T15:27:10.313

`players`是一个需要用整数索引的列表。你似乎像字典一样使用它。也许你可以使用拆包——比如：

```
name, score = player 
```

（如果`player`列表始终是恒定长度）。

在不知道它是什么`query`以及它是如何工作的情况下，我们无法为您提供更多建议。

值得指出的是，您发布的整个代码并没有多大意义。第二行有一个`IndentationError`。此外，您的函数正在循环一些可迭代的，但在第一次迭代期间无条件返回，这通常不是您真正想要做的。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-01-07T20:57:13.010

列表是可以按 (0, 1, 2 .... 等) 索引的空间链。因此，如果球员是一个列表，球员[0] 或球员[1] 会起作用。如果 player 是字典，则 player["name"] 会起作用。

# javascript - AngularJS Paging orderBy 只影响显示的页面

> ID：14198822
> 
> 赞同：11
> 
> 时间：2013-01-07T15:24:49.007
> 
> 标签：javascript, angularjs, paging, angularjs-orderby

谁能指出我正确的方向，以找出一种方法来修复分页和 orderBy 在 Angular 中协同工作的方式？

目前，我可以 orderBy 并对 data[] 的结果进行分页，但 orderBy 过滤器仅单独影响每个页面。

例如，如果我按 ID 以相反的顺序排序，第 1 页将列出 10-1，第 2 页将列出 15-11，而不是从 15 开始，到第二页结束时到达 1。

我在这里有一个基本的小提琴[http://jsfiddle.net/ZbMsR/](http://jsfiddle.net/ZbMsR/)

**这是我的控制器：**

```
function MyCtrl($scope) {
    $scope.currentPage = 0;
    $scope.pageSize = 10;
    $scope.orderBy = "-appId";
    $scope.data = [
        {'appId': 1}, {'appId': 2}, {'appId': 3}, {'appId': 4}, {'appId': 5}, {'appId': 6}, {'appId': 7}, {'appId': 8}, {'appId': 9},{'appId': 10}, {'appId': 11}, {'appId': 12}, {'appId': 13}, {'appId': 14}, {'appId': 15}
];

    $scope.numberOfPages=function(){
        return Math.ceil($scope.data.length/$scope.pageSize);                
    };
}

//We already have a limitTo filter built-in to angular,
//let's make a startFrom filter
app.filter('startFrom', function() {
    return function(input, start) {
        start = +start; //parse to int
        return input.slice(start);
    }
}); 
```

**这是我的观点的相关部分**

```
 <strong>Sort By:</strong> <a ng-click="orderBy = 'appId'; reverse=!reverse">Newest</a>
 <ul>
    <li ng-repeat="item in data | startFrom:currentPage*pageSize | limitTo:pageSize | orderBy:orderBy:reverse">
        {{item.appId}}
    </li>
 </ul> 
```

* * *

## 回答 #1

> 赞同：40
> 
> 时间：2013-01-07T15:39:54.763

如果您有完整的客户端分页，那么您可以更改过滤器的顺序：

```
<li ng-repeat="item in data | orderBy:orderBy:reverse | startFrom:currentPage*pageSize | limitTo:pageSize "> 
```

那是你所期望的吗？

# javascript - 如何将javascript添加到php页面

> ID：14198823
> 
> 赞同：1
> 
> 时间：2013-01-07T15:24:53.500
> 
> 标签：javascript

我看到很多脚本以不同的方式将 Javascript 添加到他们的网页中，并试图找出正确的方法。例如，在我使用的其中一个 php 脚本的标题中，它具有以下内容：

```
<script type="text/javascript" src="/javascriptfile.js"></script>

<script type="text/javascript">
var stuff = "file.php";                                         
var ip_add = '32.42.42.442';
</script> 
```

我不明白的是，您为什么要将完整的 javascript 代码放在标头中，而不是将其包含在文件中。例如，为什么不将提到的 javascript 移动到它自己的文件中，而只是在标题中使用它：

```
<script type="text/javascript" src="/javascriptfile.js"></script>

<script type="text/javascript" src="/javascriptfile2.js"></script> 
```

是否有时您应该在页面源中显示完整的 javascript，而不是仅在其自己的 javascript 文件中链接到它？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-07T15:26:02.053

> 我不明白的是，您为什么要将完整的 javascript 代码放在标头中，而不是将其包含在文件中。

**它需要您进行缓存。**这是一个长期的惩罚。其影响取决于浏览器使用脚本的频率

**它为您节省了一个 HTTP 请求。**这是一个短期奖金。它在首先加载脚本时为您节省了一些时间。

不过，这与 PHP 无关。它适用于任何 HTML 文档。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-07T15:33:16.650

其中一些是“遗产”。在某一时刻，您必须在标记部分中放置`<script>`标签`<head>`，因此这是大多数示例放置的地方。

如果您将**src**引用添加到外部文件，则可以将该脚本作为资源重用在其他需要此文件的页面上。如果您在各处使用相同的脚本，请将其放在“js”目录中，浏览器不会每次都获取新副本。**这有助于带宽**。

但是，如果您将原始脚本添加到页面，则整个页面（减去图像和其他“嵌入”内容）将在一个线程中到达。**这有助于加载时间**。

除非您期望在短时间内获得 10,000 次以上的综合浏览量，否则我不会太担心。

哦，还有一件事要考虑： http: [//developer.yahoo.com/performance/rules.html#js_bottom——](http://developer.yahoo.com/performance/rules.html#js_bottom)为什么你应该把你的脚本放在文档的**底部。**

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-07T15:35:21.877

我完全同意@Quentin。此外，我建议将您的脚本放在单独的 .js 文件中并包含它们——出于结构化的原因——不仅在大型项目中。

但是，可能导致您将 JS 代码放入 .php 文件的一件事可能是，如果您需要使用 PHP 生成代码，或者如果您想使用例如直接从数据库中提取的信息，如下所示：

```
<?php
    $foo = getSomeInformation();
?>

<script type="text/javascript">
   var someVar = <?=$foo?>;
</script> 
```

# google-oauth - How to get user data from Google API with OAuth remotely from a server?

> ID：14198826
> 
> 赞同：1
> 
> 时间：2013-01-07T15:25:01.320
> 
> 标签：google-oauth

I've been reading lots of documentation about Google API access and OAuth flow using it but I don't seem to get it working in my mind, so I want to get some help first in order to have a clear idea about how it works then I can code it using the corresponding API.

What I want to achieve is feed a Java application running in a PC with specific Google user data, like localization through Google Latitude API. In order to get this, OAuth must be used, so I need getting the user consent, then access the user data from the application running in my computer, and I don't know how to manage this.

I've already registered my application with the Google APIs Console and enabled the Google Latitude module. I've also tried the Latitude console application [here](http://code.google.com/p/google-api-java-client/wiki/APIs#Google_Latitude_API) and it works properly (a browser tab opened asking for a Google user; I entered it and I got the location data), but I'm having problems when trying to adapt the program flow to my needs.

In my application, the 'remote' user is supposed to send a request (a custom JSON message) to the server asking for service enable/disable, like allowing the server to track his/her position through Latitude. Then, AFAIK, the server should send to the user a URL so the user can give the consent, but I don't know how to get this URL and how the server realizes about this consent and gets the token (automatically? Google tracks this authorization process?). Once my server gets the specific user token, then I should be ready to get service data for that user using the received token.

As I said before, I've tried according to different references, but as the documentation seems to be really scattered and much of it is already deprecated, I've been unable to get it working.

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-10T02:52:28.530

从您的描述来看，安装的应用程序 OAuth2 流程似乎适合您。

在某个时候，大概当用户安装您的桌面应用程序时，您应该启动一个浏览器——嵌入在您的应用程序中或默认浏览器中——并将它们发送到[这个](https://accounts.google.com/o/oauth2/auth)Google OAuth2 端点。在您的请求中，填写[文档](https://developers.google.com/accounts/docs/OAuth2InstalledApp)要求的所有参数：Latitude API 范围、client_id 等。Google 作为授权服务器，将负责用户身份验证、会话选择和用户同意。如果用户向您的 API 授予对她数据的访问权限，您将在浏览器窗口的标题中或在 localhost 端口处收到一个授权代码。

获得代码后，您可以将其交换为访问令牌和刷新令牌。访问令牌是您调用 API 和访问用户数据所需的。虽然它是短暂的 - 检查响应中的 expired_in 参数，我相信它是 3600 秒。- 因此，您需要定期使用您的长期刷新令牌 ping 令牌端点并将其交换为访问令牌。

您可以在上面链接的文档中找到对此流程的更全面的描述。

# jquery - DataTables mData specific value

> ID：14198828
> 
> 赞同：0
> 
> 时间：2013-01-07T15:25:05.240
> 
> 标签：jquery, datatables

How to get from mData property a given cells value? I have the following code with the table initialization, I add dynamically cell values to my table specific column and I would like to define the data-id using the value of clicked rows hidden cell. If I alert (`source`) I can see the comma separated data string. I would like to hole up the first value.

```
/* Table initialisation */
$(document).ready(function() {

    var oTable = $('#example').dataTable( {
        "aoColumnDefs": [ {
          "aTargets": [ 15 ],
          "mData": function ( source, type, val ) {
            alert(source);
            return "<a id='MyModal' data-id='" + source.my-id + "' href='#'>Edit</a> | <a href ='action.php?id='>Delete</a>";
          }
        } ]
      } );  
} ); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-07T16:26:21.180

如果我说对了`val[0]`，`val[1]`等等……就是您要找的东西

另外，我认为您应该替换`mData`替换为`mRender`

```
"mRender": function ( source, type, val ) {
            alert(source);
            return "<a id='MyModal' data-id='" + source.my-id + "' href='#'>Edit</a> | <a href ='action.php?id='>Delete</a>";
          } 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2015-05-20T07:12:23.960

是的。您应该使用 mRender，而不是使用 mData。

mData 和 mRender 之间的区别在于您不应该同时使用它们。如果您想根据条件操作模型并根据您要渲染页面的条件，则使用 mRender，但在 mData 中，您直接在列中绑定模型。

# javascript - Javascript导致表单在IE中中断

> ID：14198829
> 
> 赞同：2
> 
> 时间：2013-01-07T15:25:13.187
> 
> 标签：javascript, html, internet-explorer

**Objective:**了解一个Javascript相关的IE兼容性问题。

**问题：**为什么我的 Javascript 会在 IE 中中断而其他任何地方都没有（除了“IE 糟透了”，哈哈），是否有一个简单的修复方法。

**详细信息：**我有一个支付系统，允许用户在 3 种支付方式（通过 html 单选按钮）之间进行选择，并使用 Javascript 显示适当的表单以完成支付。在 chorme 和 firefox 中，它可以完美运行。

然而，在 IE 中，一旦单击初始单选按钮并且 Javascript 显示适当的 div，光标就会跳到页面的中下部，并且用户无法单击表单中的任何输入框。

如果用户右键单击它们，则可以到达这些框，但并不容易。有多种方法可以解决这个问题，但我试图了解*导致*IE 问题的原因。特别是如果我的编码很糟糕。此外，如果对现有代码有一个简单的修复，我会很想听听它。

**索引.phtml**

```
<form name="payo" action="/paymentAction/" method="post" >
    <div id="tabs"> 
        <div id="nav">
            <input type="radio" name="tab" class="div1" value="Inv" /> Invoice &nbsp;&nbsp;&nbsp;<input type="radio" name="tab" class="div2" value="CC" /> Credit Card &nbsp;&nbsp;&nbsp;<input type="radio" name="tab" class="div3" value="Cpn"/> Coupon                                
        </div>

        <div id="div1" class="tab">
            <!-- INVOICE TEXT -->
        </div>

        <div id="div2" class="tab">
            <!-- CREDIT CARD FORM -->
            Credit Card Number: <input type=text name="CardNo" placeHolder="Credit Card Number" value="" maxlength="16"> 
            Expiration Month / Year: <font color="red">* </font> 
            <select name="ExpMonth">
                <option value=""selected>mm</option>
                <option >01</option>
                <option >02</option>
                <option >03</option>
            </select>
            <select name ="ExpYear">
                <option value=""selected>yy</option>
                <option >12</option>
                <option >13</option>
                <option >14</option>
            </select>
            Street Address Associated With Card: <input type=text name="Address" placeHolder="Address" value="">
        </div>

        <div id="div3" class="tab">
            <!-- COUPON FORM -->
            Coupon Code: 
            <input type="text" name="cpA" size=4 maxlength=4 > -
            <input type="text" name="cpnB" size=6 maxlength=6> -
            <input type="text" name="cpnC" size=5  maxlength=5>
            <br />
        </div>    

        <script type="text/javascript" charset="utf-8">
            (function(){
                var tabs =document.getElementById('tabs');
                var nav = tabs.getElementsByTagName('input');

                function hideTabs(){
                    document.getElementById('div1').style.display = "none";
                    document.getElementById('div2').style.display = "none";
                    document.getElementById('div3').style.display = "none";
                }

                function showTab(tab){
                    document.getElementById(tab).className = 'tab';
                }

                hideTabs(); 

                for(var i=0;i<nav.length;i++){
                    nav[i].onclick = function(){
                        hideTabs();

                        var radios = document.getElementsByName('tab');
                        for (var i = 0, length = radios.length; i < length; i++) {
                            if (radios[i].checked) {
                                var here = i;
                            }
                        }        
                        if (radios[here].value == "Inv") {   
                            document.getElementById('div1').style.display = "block";     
                        } else if(radios[here].value == "CC") {
                            document.getElementById('div2').style.display = "block"; 
                        } else if(radios[here].value == "Cpn") {
                            document.getElementById('div3').style.display = "block"; 
                        } else {

                        }    
                    }
                }
            })();
        </script>                              
        <div id="formdiv">
            <center><input type=submit name="submit" class="ButtonMain" value=" Authorize Payment "></center>
            <br />
        </div>
</form>
</div> 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-07T15:44:05.667

您获取所有输入，*包括*表单输入（卡号等）：

```
var nav = tabs.getElementsByTagName('input'); 
```

然后为每个选项分配一个`onclick`，第一个动作是隐藏选项卡，然后重新显示它们，因此只要单击任何输入，焦点就会立即丢失。

Chrome 不会做任何明显的事情并恢复元素焦点，IE 将重置它，因此元素实际上变得无法捕获。

您只需要在单击单选按钮时管理更改的选项卡；

```
var radios = document.getElementsByName('tab');
for(var i=0;i<radios.length;i++){
   radios[i].onclick = function(){ 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-07T16:12:35.297

问题看起来像这样：

```
var nav = tabs.getElementsByTagName('input'); 
```

`nav`不仅包括单选按钮，还包括文本输入框，因此当您将`onclick`函数附加到数组的所有元素时，`nav`它会导致您看到光标跳动的问题。最快和最简单的解决方案是将其仅限于`div id="nav"`元素内的单选按钮：

```
var nav = document.getElementById('nav').getElementsByTagName('input'); 
```

不需要解决问题，但您也可以稍微简化 javascript，因为`radios`不再需要。在`onclick`函数内部，`this`将引用单击的单选按钮，因此您可以简化：

```
nav[i].onclick = function(){
    hideTabs();
    var radios = document.getElementsByName('tab');
    for (var i = 0, length = radios.length; i < length; i++) {
        if (radios[i].checked) {
            var here = i;
        }
    }        
    if (radios[here].value == "Inv") {   
        document.getElementById('div1').style.display = "block";     
    } else if(radios[here].value == "CC") {
        document.getElementById('div2').style.display = "block"; 
    } else if(radios[here].value == "Cpn") {
        document.getElementById('div3').style.display = "block"; 
    } else {

    }
} 
```

到：

```
nav[i].onclick = function(){
    hideTabs();

    if (this.value == "Inv") {   
        document.getElementById('div1').style.display = "block";     
    } else if(this.value == "CC") {
        document.getElementById('div2').style.display = "block"; 
    } else if(this.value == "Cpn") {
        document.getElementById('div3').style.display = "block"; 
    }
}; 
```

# java - Why am I geting a ClassNotFoundException?

> ID：14198831
> 
> 赞同：0
> 
> 时间：2013-01-07T15:25:21.740
> 
> 标签：java, classnotfoundexception

Using Ubuntu

Here is my code:

```
import java.io.*;
import java.net.*;
import se.opendataexchange.ethernetip4j.clx.*;

class PLCServer
{
    public static void main(String argv[]) throws IOException
    {
        // IP address of the ethernet card
        String ENBTIP = "192.168.10.14";
        DataInputStream socketReader = null;
        PrintStream socketWriter = null;
        ControlLogixConnector test = new ControlLogixConnector(ENBTIP,44818);

        // Debugging code
        System.out.println(InetAddress.getByName(ENBTIP).isReachable(10000));
    }
} 
```

Here is how I am compiling:

`javac -classpath /home/nick/Java/PLC/ethernetip4j-0.2.jar PLCServer.java` which returns no errors

Here is the output:

```
Exception in thread "main" java.lang.NoClassDefFoundError: se/opendataexchange/ethernetip4j/clx/ControlLogixConnector
    at PLCServer.main(PLCServer.java:13)
Caused by: java.lang.ClassNotFoundException: se.opendataexchange.ethernetip4j.clx.ControlLogixConnector
    at java.net.URLClassLoader$1.run(URLClassLoader.java:366)
    at java.net.URLClassLoader$1.run(URLClassLoader.java:355)
    at java.security.AccessController.doPrivileged(Native Method)
    at java.net.URLClassLoader.findClass(URLClassLoader.java:354)
    at java.lang.ClassLoader.loadClass(ClassLoader.java:423)
    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:308)
    at java.lang.ClassLoader.loadClass(ClassLoader.java:356)
    ... 1 more 
```

Am I missing something here?

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-07T15:30:45.473

确保在运行代码时还指定了类路径。如果在将所需的所有内容添加到 java 类路径后仍然存在问题，请检查这些缺失的类是否确实在您指定的 jars/位置中。您还可以启用一些调试标志以提供有关类加载等的更多信息。

所以例如...

```
java -classpath /home/nick/Java/PLC/ethernetip4j-0.2.jar:. PLCServer 
```

# java - Sorting Elements in an ArrayList against Elements in the same List

> ID：14198841
> 
> 赞同：0
> 
> 时间：2013-01-07T15:26:00.107
> 
> 标签：java, nested-loops

I'm working at implementing the NSGA ii algorithm into my Final Year Project. Part of the algorithm is sorting all possible solutions into fronts, i.e dominated solutions and undominated solutions

I'm having problems getting the dominated set.

At the minute I'm using a nested for loop, taking the first element from the unsorted list, checking it against every item in the list. If the element is undominated it means either its soft or hard constraints is less than the element being checked against, or both less than. My idea was to say if this isnt true break out of the nested loop and go to the first loop. If it makes it through the whole list without being dominated it will be checked to see if it has been checked against everything, if it has then it is undominated. I hope this makes sense!

Just looking for any bit of help to get it going, thanks :-)

Basically put all I want to do is check the conditions and do something if the conditions ate met within the nested loop for

```
public void sortIntoFronts(ArrayList<Chromosome> c )
    {

    ArrayList<Chromosome> UnsortedSet =  new ArrayList<Chromosome>();
    ArrayList<Chromosome> UndominatedSet = new ArrayList<Chromosome>();
    ArrayList<Chromosome> DominatedSet = new ArrayList<Chromosome>();

    UnsortedSet = c;

    Chromosome a = new Chromosome();
    Chromosome b = new Chromosome();

    for (int x = 0; x<=UnsortedSet.size()-1; x++)
    {

        a=UnsortedSet.get(x);

        for(int y = 0; y<=UnsortedSet.size()-1;)
        {

            b=UnsortedSet.get(y);

            if(a.SoftConstraints<=b.SoftConstraints || a.hardConstraints<=b.hardConstraints)
            {
                y++;
            } else
            {
                break;
            }

            if(y==UnsortedSet.size()-1)
            {
                UndominatedSet.add(a);   
            }
        }
    }
} 
```

Basically put all I want to do is check the conditions and do something if the conditions ate met within the nested loop for, using this code could some1 help me

```
for (int x = 0; x<=UnsortedSet.size()-1; x++)
{

    a=UnsortedSet.get(x);

    for(int y = 0; y<=UnsortedSet.size()-1;y++)
    {

    b=UnsortedSet.get(y);

    }
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-13T13:39:21.677

我还没有真正理解你的问题到底是什么。但回顾一下：

1.  `a`主宰是可悲的`b`，当且仅当`a.SoftConstraints<=b.SoftConstraints || a.hardConstraints<=b.hardConstraints`成立。
2.  `a``b`当且仅当`a.SoftConstraints==b.SoftConstraints || a.hardConstraints==b.hardConstraints`保持在同一个主宰战线上是可悲的
3.  在其他情况下`b`占主导地位`a`

基于此，您可以定义一个[Comparator](http://docs.oracle.com/javase/7/docs/api/java/util/Comparator.html)来创建未排序集的有序列表。然后，您可以遍历该排序列表。您的内部循环只是对外部循环已经进行到的子列表的迭代（或取决于外部循环已经进行的排序顺序）。您必须采取行动，而不是针对该内部循环的每次迭代。

# ruby - 新手 Ruby on Rails - 从视图中将字符串传递给方法？

> ID：14198846
> 
> 赞同：2
> 
> 时间：2013-01-07T15:26:18.793
> 
> 标签：ruby, methods, ruby-on-rails-3.1, controller, feedzirra

我正在尝试在我的视图 add_feed 中实现 feedzirra（良好的 railcast：[http](http://railscasts.com/episodes/168-feed-parsing) ://railscasts.com/episodes/168-feed-parsing ），但我遇到了一些麻烦。我希望用户能够在网站上添加提要。我认为这应该很简单，我可以从控制台添加提要，但我还没有弄清楚如何将信息从表单传递给方法。

我的模型看起来像这样（几乎与 railscast 中的模型相同）：

```
 def self.update_from_feed(feed_url)
  feed = Feedzirra::Feed.fetch_and_parse(feed_url)
  add_entries(feed.entries)
end

def self.update_from_feed_continuously(feed_url, delay_interval = 15.minutes)
 feed = Feedzirra::Feed.fetch_and_parse(feed_url)
 add_entries(feed.entries)
  loop do
    sleep delay_interval
   feed = Feedzirra::Feed.update(feed)
   add_entries(feed.new_entries) if feed.updated?
 end
end

private

def self.add_entries(entries)
  entries.each do |entry|
    unless exists? :guid => entry.id
      create!(
        :name         => entry.title,
        :summary      => entry.summary,
        :url          => entry.url,
        :published_at => entry.published,
        :guid         => entry.id
      )
    end
  end
end 
```

我不太确定如何使用我的控制器和视图将字符串传递给我的 self_update_from_feed(String) 方法。我的控制器目前看起来像这样：

```
 def add_feed
   @feed = String
 end

def new
   @feed = Feed.new

    respond_to do |format|
      format.html # new.html.erb
      format.json { render json: @feed }
    end
  end

  def edit
    @feed = Feed.find(params[:id])
  end

  def create
    @feed = Feed.new(params[:feed])
    @feed.user_id = current_user.id

    respond_to do |format|
      if @feed.save
        if @feed.url != nil
          @feed.update_from_feed(:url)
        end

        format.html { redirect_to @feed, notice: 'Feed was successfully created.' }
        format.json { render json: @feed, status: :created, location: @feed }
      else
        format.html { render action: "new" }
        format.json { render json: @feed.errors, status: :unprocessable_entity }
      end
    end
  end 
```

而我的观点……嗯……

```
 <%= form_for @feed do |f| %>
  <%= ???%>
 <% end %> 
```

提前感谢您的任何回复。我通常在 stackoverflow 上得到很好的帮助 :)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-07T15:51:00.310

模型

```
class Feed < ActiveRecord::Base
  attr_accessible :feed_url
  after_create { |feed| FeedEntry.update_from_feed(feed.feed_url) }
end 
```

控制器

```
class FeedsController < ApplicationController

    def create 
        @feed = Feed.new(params[:feed])
        respond_to do |format|
          if @feed.save
            format.html { redirect_to @feed, notice: 'Feed was successfully created.' }
          else
            format.html { render action: "new" }
          end
        end    
    end

end 
```

看法

```
 <%= form_for @feed do |f| %>
  <div class="field">
    <%= f.label "Feed URL" %><br />
    <%= f.text_field :feed_url %>
  </div>
  <div class="actions">
    <%= f.submit %>
  </div>
  <% end %> 
```

# maven - 找出一个类属于哪个 maven 依赖项

> ID：14198850
> 
> 赞同：1
> 
> 时间：2013-01-07T15:26:37.293
> 
> 标签：maven, intellij-idea

有什么方法可以找出特定类在 IDEA 中定义的依赖项？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-07T15:51:20.743

您通常可以使用进入未知文件并查看（至少部分）其代码。如果您按下`Alt + F1`项目管理器选项卡，将滚动到其原始 jar 中的文件。

例如，如果我为某些 Jetty 课程做这件事会发生什么 ![IJ 截图](../Images/fd165b4318a63b7141a6d67438cedb18.png)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-07T15:47:51.023

不在 IDEA 中，而是在 Internet 上：在[http://search.maven.org/](http://search.maven.org/)`fc:`上使用+ 完全限定名称

例如：`fc:org.apache.commons.lang3.StringUtils`

[http://search.maven.org/#search%7Cga%7C1%7Cfc%3Aorg.apache.commons.lang3.StringUtils](http://search.maven.org/#search%7Cga%7C1%7Cfc%3Aorg.apache.commons.lang3.StringUtils)

# python - How to use python-xbee to get remote XBee's DIO data

> ID：14198852
> 
> 赞同：1
> 
> 时间：2013-01-07T15:26:41.490
> 
> 标签：python, xbee

I can use `IS` (Input Sample) command to get the DIO (digital I/O) sample data from local XBee correctly. As the document says sample data is a dictionary. But when I use the same command for a remote XBee, what I get is just a hex number.

For example, sending `IS` command from local XBee, I get the dictionary `{'dio-1':False,'dio-2':False}`. But when I send `IS` command to a remote XBee, it returns `{'parameter':'\x01\x00\x06\x00\x00'}`

The XBee manual on Page 46 explains the `'IS'` command. But I'm a little confused about it. Can we use this command to get remote sample data?

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-08T18:14:53.510

这听起来像 python-xbee 库只需要更新以解析远程 AT 响应到`ID`命令，就像它目前对本地 AT 响应所做的那样。

我还没有查看代码，但是您可以联系[项目团队](http://code.google.com/p/python-xbee/people/list)以查看他们是否可以修复它。

# git - 在 GIT 中将 barnch 2 与最新版本的分支 1 合并

> ID：14198859
> 
> 赞同：2
> 
> 时间：2013-01-07T15:27:00.837
> 
> 标签：git

我有一个`master`分支并`branch 1`为另一个功能创建了。

一段时间后，我创建了一个`branch 2`. 现在我意识到我需要我在分支 1 中所做的更改来做一些工作`branch 2`。

我还没有将我的主人与`branch 1`. 那么我怎样才能得到从分支`branch 1`到`branch 2`保持不变的变化。`master`

我记得的是我必须先合并我`branch 1`的`master`，然后再创建`branch 2`

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-07T15:28:20.373

您不需要参与`master`合并。

你可以`git merge branch1`从里面`branch2`。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-01-07T15:31:32.503

```
git checkout branch2
git merge branch1 
```

# django - Django-piston 使活塞返回异常的完整回溯

> ID：14198865
> 
> 赞同：0
> 
> 时间：2013-01-07T15:27:24.910
> 
> 标签：django, django-piston

如何使活塞返回异常的完整追溯。默认情况下，它只返回最后一个错误文本。像

```
id() takes exactly one argument (0 given) 
```

需要知道哪个文件和哪一行...

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-07T15:48:25.483

Piston 通过 加载 http 状态响应`utils.rc`，不会引发错误。

从文档中：

```
Configuration variables
Piston is configurable in a couple of ways, which allows more granular 
control of some areas without editing the code.

Setting                         Meaning
settings.PISTON_EMAIL_ERRORS    If (when) Piston crashes, it will email the 
                                administrators a backtrace (like the Django one
                                you see during DEBUG = True)
settings.PISTON_DISPLAY_ERRORS  Upon crashing, will display a small backtrace 
                                to the client, including the method signature 
                                expected.
settings.PISTON_STREAM_OUTPUT   When enabled, Piston will instruct Django to 
                                stream the output to the client, but please read
                                streaming before enabling it. 
```

我建议设置一个记录器，[哨兵和](http://sentry.readthedocs.org/en/latest/)[raven](http://raven.readthedocs.org/en/latest/config/django.html)一起相当方便，你可以配置自己的日志级别和处理程序。

# jquery - 最佳实践：具有 has_many 关联的临时记录

> ID：14198866
> 
> 赞同：2
> 
> 时间：2013-01-07T15:27:24.743
> 
> 标签：jquery, ruby-on-rails, ruby, carrierwave

我现在正在寻找解决当前问题的最佳方法：我有两个模型，**Product**和**Photo**。照片通过 has_many 与产品相关联。当用户创建新产品时，她还可以使用嵌套表单（carrierwave、jquery）添加照片，然后将实际产品保存到数据库中。由于该产品尚不存在，我正在寻找以正确关联将照片保存到数据库的最佳方法。

我想到了几个方法：

**1）**当用户点击“新产品”时，我立即将产品保存到数据库中，并使用正确的 ID 并在用户点击“取消”后再次删除它。这样我就不得不对我的验证进行一些处理，而是做一些客户端验证。如果用户在产品创建期间关闭浏览器窗口可能会出现问题 - 产品将保留在数据库中。

**2）**我将它保存到数据库并以某种方式标记它，使用奇怪的 ID 或 is_temp 字段或类似的东西。这样我可以在每次用户登录时清理数据库。“Cance”立即删除该东西（以及所有相关照片）。

**3）**在内存中创建一个临时ID，暂时不要保存产品。我可以保存与此临时 ID 关联的照片，当用户点击最终保存时，我将 product_id 更改为新的真实产品 ID

到目前为止，对我来说，解决方案 2 看起来是最好和最干净的方法，这有点类似于 Ryan Bates 的 Guest Record Railscast，但也许我在这里遗漏了一些东西，还有一种更简单的方法。任何其他解决方案都受到高度赞赏。

非常感谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-07T15:38:17.240

使用#1，因为它更健壮。特别是，它对 API 更有效。

这使您养成构建模型的习惯，以便可以以独立的方式保存和修改它们。例如，用户可能真的想要没有照片的产品。

我的真实应用程序正是这种设置。当用户尝试使用未正确上传的照片创建产品时，产品仍会正确保存、正确验证等。

此外，该应用程序有一个 API，其中调用创建产品，然后调用另一个添加照片。API 客户端能够独立于所有相关照片创建产品非常有用。

避免#2，因为它会使产品滞留在数据库中。更糟糕的是，该产品尚未经过验证。这往往会导致应用程序的其他区域（例如报表）出现问题，除非您强制每个报表查询都过滤掉搁浅的记录。

仅当您希望它在事务中和/或在这种情况下需要最快速度时才考虑＃3。首先在内存中完成这一切确实有助于确保事务具有它需要的所有部分，并且确实节省了访问数据库的时间。

# c# - 禁用 DropDownList 中的第一项

> ID：14198870
> 
> 赞同：3
> 
> 时间：2013-01-07T15:27:40.917
> 
> 标签：c#, asp.net, drop-down-menu, visual-web-developer-2010

我正在尝试禁用下拉列表中的第一项，该下拉列表链接到“提交”按钮。在第一次加载页面时，我希望列表显示到列表中的第一项，`--Select--`而无法选择它。

在对[这个问题](https://stackoverflow.com/questions/5283307/disable-dropdownlist-items)的回答之后，我正在使用：

```
dd.Items[0].Attributes.Add("disabled", "disabled"); 
```

其中`dd`指的是 DropdownList..

这很好用，但前提是我在单击提交按钮后激活它。这意味着当页面首次加载时，我仍然可以选择第一项。

如果我把上面的代码放在`Page_Load`方法中，列表默认为下一项，`--Select--`不再显示。

有谁知道让列表继续显示第一项但禁用选择它的方法？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-07T15:34:01.293

我想你想这样做：

```
<asp:DropDownList ID="DropDownList1" runat="server" AppendDataBoundItems="true">
<asp:ListItem Text="--Select One--" Value="" />   
</asp:DropDownList> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-07T15:44:15.520

根据罗伯特的要求，我复制了我的评论作为答案：

“如果下拉列表的索引为 0（--Select--），您可以禁用提交按钮，或者您可以在用户点击您的提交按钮并返回（或不执行任何操作）时检查索引是否为 0。”

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2020-02-28T18:49:58.000

```
DropDownList1.Items[0].Enabled = false; 
```

或者

```
DropDownList1.Items[0].Attributes["style"] = "display:none";
DropDownList1.Items[0].Attributes["disabled"] = "disabled"; 
```

# java - JasperReports：不支持的 major.minor 版本 51.0

> ID：14198874
> 
> 赞同：1
> 
> 时间：2013-01-07T15:27:47.003
> 
> 标签：java, version, unsupported-class-version

> **可能重复：**
> [线程“主”java.lang.UnsupportedClassVersionError 中的异常：a（不支持的 major.minor 版本 51.0）](https://stackoverflow.com/questions/7237536/exception-in-thread-main-java-lang-unsupportedclassversionerror-a-unsupporte)

我收到错误“Unsupported major.minor version 51.0”。我正在使用 jdk 1.6 并将编译器合规级别设置为 1.6，jre 是 jre6。我仍然得到同样的错误。

这是我的错误

```
java.lang.UnsupportedClassVersionError: transfer_1355215622877_662113 : Unsupported major.minor version 51.0
    at java.lang.ClassLoader.defineClass1(Native Method)
    at java.lang.ClassLoader.defineClassCond(ClassLoader.java:631)
    at java.lang.ClassLoader.defineClass(ClassLoader.java:615)
    at net.sf.jasperreports.engine.util.JRClassLoader.loadClass(JRClassLoader.java:245)
    at net.sf.jasperreports.engine.util.JRClassLoader.loadClassFromBytes(JRClassLoader.java:154)
    at net.sf.jasperreports.engine.design.JRAbstractJavaCompiler.loadEvaluator(JRAbstractJavaCompiler.java:76)
    at net.sf.jasperreports.engine.design.JRAbstractCompiler.loadEvaluator(JRAbstractCompiler.java:327)
    at net.sf.jasperreports.engine.design.JRDefaultCompiler.loadEvaluator(JRDefaultCompiler.java:218)
    at net.sf.jasperreports.engine.fill.JRFillDataset.createCalculator(JRFillDataset.java:404)
    at net.sf.jasperreports.engine.fill.JRBaseFiller.(JRBaseFiller.java:373) 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-01-07T15:30:16.157

您无意中将使用 JDK 7 编译的类用于 JRE 7 和 JRE 6。

您似乎有一个名为`transfer_1355215622877_662113`使用 JDK 7 编译的报告，需要使用 JDK 6 重新编译。

# html - 如何删除水平滚动条 CSS3

> ID：14198876
> 
> 赞同：-1
> 
> 时间：2013-01-07T15:27:52.193
> 
> 标签：html, css

如何删除此页面上的滚动条？[http://cs1.ucc.ie/~per1/](http://cs1.ucc.ie/~per1/)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-07T15:29:42.143

您可以使用：

```
body {overflow-x: hidden;} 
```

或者

```
nav {box-sizing: border-box; } 
```

因为您实际上将导航设置为 100% 并在两侧添加 10px 填充，从而为您提供滚动条。

# facebook - Facebook 墙上的帖子正在附加带有“accessToken”的链接

> ID：14198878
> 
> 赞同：0
> 
> 时间：2013-01-07T15:27:57.327
> 
> 标签：facebook, facebook-javascript-sdk

我正在使用 Facebook 的 Javascript SDK 发布到用户墙上。

执行实际发布的代码是：

`linkUrl`是一个完全限定的域名。

```
 FB.ui({
                method: "feed",
                link:linkUrl,
                picture:imgUrl,
                name:title,
                "description":description,
                actions: [
                    {name: linkUrl, link: linkUrl}
                ]
            },
            function (response) {
                if (response != null || response != undefined) {
                    fadeOutAlert = true;
                    self.fbMessageLabel.innerHTML = "Thank you, your Facebook post has been successful!";
                    self.fbMessageDialog.dialog("open");
                };
            }); 
```

该帖子运行良好，并出现在用户墙上，但附加了`link`Facebook 。`access_token`所以不是链接到`my.website.com`它实际上是链接到`my.website.com/#access_token=aReallyLongAccessToken&expires_in=5684`

有没有办法防止`access_token`被附加到`link`？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-07T15:35:08.343

呸..我已经玩了好几天了..只是想通了。

好的，所以对于其他可能有同样问题的人..

您需要转到应用程序上的设置并选择`Permissions`选项。

然后设置`Authenticated Referrals`为禁用，如下图所示。这将阻止 Facebook 添加`access_token`到您的链接。

![在此处输入图像描述](../Images/0a9a485141fb599b5be0e62574c203d6.png)

# lua - 将对象拖到容器上并标记为已占用

> ID：14198886
> 
> 赞同：0
> 
> 时间：2013-01-07T15:28:18.763
> 
> 标签：lua, coronasdk

我有多个对象和多个容器，我的计划是任何对象都可以放在任何容器上，但是一旦容器上有一个对象放在上面，我希望它被占用并且不允许更多的对象放在上面。是否有 isOcuppied 电话或类似的电话，我找不到任何这样的例子。

```
 local function onTouch( event )
local t = event.target

local phase = event.phase
if "began" == phase then
    -- Make target the top-most object
    local parent = t.parent
    parent:insert( t )
    display.getCurrentStage():setFocus( t )

    -- Spurious events can be sent to the target, e.g. the user presses 
    -- elsewhere on the screen and then moves the finger over the target.
    -- To prevent this, we add this flag. Only when it's true will "move"
    -- events be sent to the target.
    t.isFocus = true

    -- Store initial position
    t.x0 = event.x - t.x
    t.y0 = event.y - t.y
elseif t.isFocus then
    if "moved" == phase then
        -- Make object move (we subtract t.x0,t.y0 so that moves are
        -- relative to initial grab point, rather than object "snapping").
        t.xScale = 1.7
        t.yScale = 1.7
        t.x = event.x - t.x0
        t.y = event.y - t.y0
        --t1 = t1..t.value
    elseif "ended" == phase or "cancelled" == phase then
    for i = 1, #posX do
     if (((t.x >= ((sizeX/2) + posX[i] - ((2/3) * sizeX))) and (t.y >= ((sizeY/2) + posY - ((1/3) * sizeY))) and (t.x <= ((sizeX/2) + posX[i] + ((2/3) * sizeX))) and (t.y <= ((sizeY/2) + posY + ((1/3) * sizeY)))) or ((t.x >= ((sizeX/2) + posX[i] - ((1/3) * sizeX))) and (t.y >= ((sizeY/2) + posY - ((2/3) * sizeY))) and (t.x <= ((sizeX/2) + posX[i] + ((1/3) * sizeX))) and (t.y <= ((sizeY/2) + posY + ((2/3) * sizeY)))) or ((t.x >= ((sizeX/2) + posX[i] - ((1/2) * sizeX))) and (t.y >= ((sizeY/2) + posY - ((1/2) * sizeY))) and (t.x <= ((sizeX/2) + posX[i] + ((1/2) * sizeX))) and (t.y <= ((sizeY/2) + posY + ((1/2) * sizeY))))) then
        t.x, t.y = posX[i] + (sizeX/2), posY + (sizeY/2);
     elseif  (((t.x >= ((sizeX/2) + posX1[i] - ((2/3) * sizeX))) and (t.y >= ((sizeY/2) + posY1 - ((1/3) * sizeY))) and (t.x <= ((sizeX/2) + posX1[i] + ((2/3) * sizeX))) and (t.y <= ((sizeY/2) + posY1 + ((1/3) * sizeY)))) or ((t.x >= ((sizeX/2) + posX1[i] - ((1/3) * sizeX))) and (t.y >= ((sizeY/2) + posY1 - ((2/3) * sizeY))) and (t.x <= ((sizeX/2) + posX1[i] + ((1/3) * sizeX))) and (t.y <= ((sizeY/2) + posY1 + ((2/3) * sizeY)))) or ((t.x >= ((sizeX/2) + posX1[i] - ((1/2) * sizeX))) and (t.y >= ((sizeY/2) + posY1 - ((1/2) * sizeY))) and (t.x <= ((sizeX/2) + posX1[i] + ((1/2) * sizeX))) and (t.y <= ((sizeY/2) + posY1 + ((1/2) * sizeY))))) then
        t.x, t.y = posX1[i] + (sizeX/2), posY1 + (sizeY/2);
        t2[i] = t.value
        --t1 = t1..t.value
     -- elseif  (((t.x >= ((sizeX/2) + posX2 - ((2/3) * sizeX))) and (t.y >= ((sizeY/2) + posY2 - ((1/3) * sizeY))) and (t.x <= ((sizeX/2) + posX2 + ((2/3) * sizeX))) and (t.y <= ((sizeY/2) + posY2 + ((1/3) * sizeY)))) or ((t.x >= ((sizeX/2) + posX2 - ((1/3) * sizeX))) and (t.y >= ((sizeY/2) + posY2 - ((2/3) * sizeY))) and (t.x <= ((sizeX/2) + posX2 + ((1/3) * sizeX))) and (t.y <= ((sizeY/2) + posY2 + ((2/3) * sizeY)))) or ((t.x >= ((sizeX/2) + posX2 - ((1/2) * sizeX))) and (t.y >= ((sizeY/2) + posY2 - ((1/2) * sizeY))) and (t.x <= ((sizeX/2) + posX2 + ((1/2) * sizeX))) and (t.y <= ((sizeY/2) + posY2 + ((1/2) * sizeY))))) then
        -- t.x, t.y = posX2 + (sizeX/2), posY2 + (sizeY/2);
    end
    end
        t1 = t1..t.value
        t.xScale = 1
        t.yScale = 1
        --print(tile.label)
        display.getCurrentStage():setFocus( nil )
        t.isFocus = false
        --n = n + 1
        --value = " "
    end
end 
```

这是我的代码，另外我有一个附加到每个图块的值，例如图块 a =“A”，目前我只是在每次移动图块时附加一个字符串，但我想要字符串或者可能使用仅在将图块放入容器中时附加表。例如，如果一个字母在错误的位置，而我将它移动到正确的位置，我已经触摸了两次，所以我的最终字符串将是错误的

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-20T21:25:07.417

为什么不在你的容器上设置一个值：

```
myContainer.isOccupied = false 
```

然后在您的事件处理程序中，当您到达结束阶段时，您可以简单地进行检查：

```
if not myContainer.isOccupied then
    -- code to drop
    myContainer.isOccupied = true
end 
```

# xcode4.5 - 如何修复忽略 Prefix.pch 文件的 Xcode？

> ID：14198888
> 
> 赞同：2
> 
> 时间：2013-01-07T15:28:20.213
> 
> 标签：xcode4.5, prefix

这是我的问题：Xcode 4.5.2 在编辑器中工作时开始忽略默认 Prefix.pch 文件，使编辑器本身无法使用（它不再识别我在 Prefix.pch 文件中导入的类和协议)，但我可以在模拟器中正确运行我的项目。编辑器显示了一堆错误，但它运行项目没有问题，错误计数降至零，并且在项目在模拟器上完成启动后，错误计数再次增长。

你知道如何解决这个问题吗？

# java - 基于 Java 的开源 VNC 应用程序或库

> ID：14198899
> 
> 赞同：1
> 
> 时间：2013-01-07T15:28:43.833
> 
> 标签：java, cuda, opencl, gpu, vnc

是否有任何活动的 Java 远程桌面应用程序，包括源代码或用于集成到 Java 应用程序的库？

问题是，ultravnc、realvnc 和tightvnc 不适用于Java（开源），有时只是查看器。

它应该是纯 Java 代码，因此它可以在所有平台上运行。

编辑：仅使用 Java 可能无法实现，但在 GPU 和 CPU 更好的时代，最好使用一些增加对多线程的支持的库，如 CUDA、OpenCL 和 Rootbeer（[https://github.com /pcpratts/rootbeer1](https://github.com/pcpratts/rootbeer1) )

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-07T15:34:13.793

我记得在一个可连接到 RealVNC 的 Java-Applet 上，但它不是开源的，编译的源代码被混淆了，所以我无法反编译。

您也许可以要求来源。

看看[http://www.realvnc.com/products/vnc/documentation/4.0/win/java](http://www.realvnc.com/products/vnc/documentation/4.0/win/java)

Java是一种高级编程语言，VNC是用**低级**编程语言编程的。您也许可以找到**jni** -Java 和任何其他低级程序组合的解决方案！

但不是普通的java。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-07T15:41:32.657

没有人尝试用 Java 实现 VNC 服务器，因为 Java 没有（快速）API 来检查桌面的变化。如果您可以忍受 1 fps 或更少，您可以使用`Robot`API :-)

所以你能得到的只是一个 VNC 客户端/查看器。我对[TightVNC](http://www.tightvnc.com/)进行了一些试验，因为它是免费的，并且源代码可用。

# javascript - 是否有内部页面链接的回调函数

> ID：14198903
> 
> 赞同：0
> 
> 时间：2013-01-07T15:29:04.663
> 
> 标签：javascript, html

[在 - window.location.hash - 改变？](https://stackoverflow.com/questions/680785/on-window-location-hash-change)

上面的问题谈论的是哈希变化，而这个问题谈论的是点击内部链接时的回调

我在一个页面中有许多链接，这些链接使用 # 链接指向同一页面中的另一个位置。每当我单击一个这样的链接时，页面就会滚动到该位置。但是我需要在自动滚动发生后手动调整滚动。那么想知道此类事件是否有回调函数？

此外，如果在初始页面加载中存在 # 标记（不仅在使用链接单击它时）**以及**再次单击相同链接时（在这种情况下不会触发 hashchange 事件），该事件也应该触发

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-07T15:33:09.053

您可以通过在元素上调用此函数来注册一个：

`addEventListener('click', function(){/*update your stuff here/*});`

在 jQuery 中，它更容易

`$('a').on('click', function(){/*update your stuff here/*});`每次点击链接后都会更新。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-07T15:35:37.190

我知道没有特定的回调，但您可以将函数绑定到`window.onscroll`(https://developer.mozilla.org/en-US/docs/DOM/window.onscroll) 事件。这将检测窗口何时被单击的链接滚动，并让您进行调整。那么唯一的问题是当用户正常滚动页面时它也会触发。

除此之外，您可以为所有 # 链接添加一个类，以便您检测何时单击了某个链接。在 jQuery 中：

```
$("a.HASH-LINK-CLASS").on("click", function (event) { ... }); 
```

# jquery - jQuery：UTF-8 不适用于 ajax 请求

> ID：14198907
> 
> 赞同：4
> 
> 时间：2013-01-07T15:29:15.300
> 
> 标签：jquery, html, ajax, utf-8, character

我有一个 php 文件，用于`jQuery.ajax()`将另一个 php 文件中的一些数据抓取到 div 中。

```
jQuery.ajax({
    type: 'POST',
    encoding:"UTF-8",
    dataType:"html", 
    contentType: "text/plain; charset=UTF-8",
    url: '/path/data.php',
    success: function(msg) {
        jQuery('#dataBox').html(msg);
    }
}); 
```

我的问题是，如果我通过 ajax 获取的数据中有一些“特殊”字符，例如 åäö，那么我会得到“黑色菱形中的问号”标记。如果我在浏览器中打开外部文件，它可以工作。如果我在主页上放一些特殊字符，它就可以工作。

一些简化的代码：

数据.php：

```
$mysqli = new mysqli("localhost", "username", "pass", "db");
$mysqli->set_charset("utf8");
$mysqli->query("SET GLOBAL time_zone = '+00:00'");
$stmt = $mysqli -> prepare("SELECT GROUP_CONCAT(sometext) AS mytext FROM `mytable`");
$stmt -> execute();
$results = selectResults($stmt);
$stmt -> close();
$mysqli -> close(); 
```

选择结果函数：

```
function selectResults($stmt)
{
    $parameters = array();
    $results = array();

    $meta = $stmt->result_metadata();

    while ( $field = $meta->fetch_field() ) {   
     $parameters[] = &$row[$field->name]; 
    }

    call_user_func_array(array($stmt, 'bind_result'), $parameters);

    while ( $stmt->fetch() ) {
      $x = array();
      foreach( $row as $key => $val ) {
         $x[$key] = $val;
      }
      $results[] = $x;
    }

    return $results;

} 
```

数据.php：

```
foreach($results as $result){
 $textArray = explode(',', $result['mytext']);
}
foreach($textArray as $text){
echo($text);
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-07T15:37:00.247

抱歉，如果您得到 unicode 替换字符 �，则输入已被解释为 UTF-8，但输入的原始字节与 UTF-8 不匹配，即它不是 UTF-8。

如果您在直接访问页面时看到正确的字符，那么一定是那些 ajax 参数强制对实际上采用其他某种编码的数据进行 UTF-8 解释，对于浏览器，默认值为 Windows-1252。

发布 php 代码和/或数据的原始字节。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-07T15:42:06.647

通过设置`utf8_encode()`我`echo()`在 data.php 文件中的数据来修复它。没有想过尝试这个，因为在浏览器中打开 data.php 时它工作正常。

编辑：

将 移至`utf8_encode()`selectResults 函数，以便它对我从数据库中获取的所有值进行编码。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-07T15:48:21.527

我会写这个作为答案，因为它可能更容易帮助其他人。

要解决问题，您必须确保您输出的内容与 ajax 期望的内容相同，因此对于 utf-8，内容需要使用 utf-8 或编码为 utf-8

```
utf8_encode($content); 
```

如果您可以像 Esailija 所说的那样从数据库中提供 utf-8 内容，您就不需要使用 encode-function。

# android - 用 Android 创建这样的按钮？（受 iOS 启发）

> ID：14198911
> 
> 赞同：0
> 
> 时间：2013-01-07T15:29:18.453
> 
> 标签：android, button, styles, xamarin.android

在 iOS 应用程序上，我看到了这样一个按钮：

![在此处输入图像描述](../Images/b41a8312e8fb0fc0253e9cf55edb425d.png)

我想在Android中做同样的事情，我怎么能做到这一点？我尝试的是以下代码：

```
<Button
    android:id="@+id/widget41"
    android:layout_width="fill_parent"
    android:layout_height="wrap_content"
    android:layout_marginLeft="5dp"
    android:layout_marginRight="5dp"
    android:text="Email1 testmail@gmail.com"
    android:textStyle="bold" /> 
```

看起来像这样：

![在此处输入图像描述](../Images/05016217977e00a8b6e450e254d7b3c0.png)

嗯，只是一个普通的（丑陋的）按钮。我不知道，我怎么能像在 iOS 中那样设计它。任何建议或链接将不胜感激！

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-07T16:17:19.297

最好的解决方案是创建您自己的自定义视图，其行为类似于 iOS 对应视图（尽管，正如其他用户所提到的，Android 确实有自己的设计指南，并且您看到的视图是为此设计的 iOS 实现平台）。

![在此处输入图像描述](../Images/3c886d0a151bd89358314215a51591f4.png)

如果您查看上面的 iOS 图像（您的副本，其中一些部分突出显示），我已将其拆分为多个部分。

您可以使用`ViewGroup`像 a 这样的 Android`LinearLayout`来创建整体图像，并给`LinearLayout`a 边框或背景（例如可以是圆角矩形的位图图像（有关如何使其适合多个屏幕的示例，请参见**Android Nine Patch** ） .

1.  首先，对于邮件图标，您需要一个`LeftAligned ImageView` 具有适当尺寸的图标。
2.  接下来我们有一个`Bold TextView`包含文本“Email1”。
3.  紧随其后的是另一个`TextView`蓝色， 一旦文本达到它可以使用的最大宽度，它就会使用该`elipsize`属性（如 Android XML 布局中定义的那样）在最后创建 。`"..."`（`android:ellipsize="end"`在 XML 中使用）
4.  最后，我们有了一个指示图像，它的`ImageView` 大小也可以适当地调整。

您也可以使用 来实现这一点`RelativeLayout`，这将允许您`RightAlign`使用指示图像、`LeftAlign`邮件图标，并允许文本填充它可以获取的空间。

[此处](http://developer.android.com/tools/help/draw9patch.html)为背景使用九个补丁的示例

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-07T15:32:33.667

那是`UITableView`在 iOS 中（就像`ListView`在 android 中一样）。这取决于您执行的列表项设计。Android中没有这样`Button`的控件。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-07T15:39:53.153

您应该设计自己的按钮，使其看起来像 iOS 按钮。

Android 有自己的设计指南：

[http://developer.android.com/design/patterns/pure-android.html](http://developer.android.com/design/patterns/pure-android.html)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-07T15:56:35.797

好吧，正如其他人已经明确提到的那样，Android 中没有像这样的默认按钮，并且供您参考，iOS 中也没有。一切都与设计有关。一切皆有可能，最终一切都取决于你愿意为实现它走多远。

下面是一个简单的代码，它将接近您的设计。

```
 <TextView
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:layout_centerHorizontal="true"
        android:layout_centerVertical="true"
        android:layout_margin="5dp"
        android:background="@drawable/text_background"
        android:drawableLeft="@drawable/envelope"
        android:drawablePadding="10dp"
        android:drawableRight="@drawable/right_arrow"
        android:ellipsize="end"
        android:gravity="center_vertical"
        android:text="@string/email" /> 
```

也可以有其他方式，比如整个视图可以是一个 ViewGroup，可以是 a`LinearLayout`或 a `RelativeLayout`，并且其中可能有多个`TextView`s 和`ImageView`s。

* * *

## 回答 #5

> 赞同：-1
> 
> 时间：2013-01-07T15:39:01.280

[这](http://appfulcrum.com/2010/08/08/how-to-create-rounded-corner-buttons-for-android/)是创建风格化 android 按钮的教程。您可以圆角并更改背景颜色，使其看起来像 ios 中的按钮。

[这](https://stackoverflow.com/q/6054562/771999)是一个类似的问题。

希望这可以帮助。

# bonsaijs - 工人未定义

> ID：14198915
> 
> 赞同：1
> 
> 时间：2013-01-07T15:29:23.850
> 
> 标签：bonsaijs

盆景文档的“通信”部分 (http://docs.bonsaijs.org/overview/Communication.html) 有以下示例，它在除 IE9 之外的任何地方都可以运行：

```
<script src="http://cdnjs.cloudflare.com/ajax/libs/bonsai/0.4/bonsai.min.js"></script>
<div id="movie"></div>
<script>
  var movie = bonsai.run(
    document.getElementById('movie'),
    {
      code: function() {
        // receive data from the other side
        var text = new Text().addTo(stage);
        stage.on('message:externalData', function(data) {
          text.attr('text', data.nodeData);
        });
        stage.on('message', function(data) {
          if (data.bonsai === 'tree') {
            text.attr('textFillColor', 'red');
          }
        });
        stage.sendMessage('ready', {});
      }
    }
  );
  // emitted before code gets executed
  movie.on('load', function() {
    // receive event from the runner context
    movie.on('message:ready', function() {
      // send a categorized message to the runner context
      movie.sendMessage('externalData', {
        nodeData: document.getElementById('movie').innerHTML
      });
      // send just a message to the runner context
      movie.sendMessage({
        bonsai: 'tree'
      });
    });
  });
</script> 
```

第一个问题是：为什么要修改以下代码：

```
<script src="http://cdnjs.cloudflare.com/ajax/libs/bonsai/0.4/bonsai.min.js"></script>
<div id="movie"></div>
<script>
var movie = bonsai.run(document.getElementById('movie'), 'movie.js');
  // emitted before code gets executed
  movie.on('load', function() {
    // receive event from the runner context
    movie.on('message:ready', function() {
      // send a categorized message to the runner context
      movie.sendMessage('externalData', {
        nodeData: document.getElementById('movie').innerHTML
      });
      // send just a message to the runner context
      movie.sendMessage({
        bonsai: 'tree'
      });
    });
  });
</script> 
```

movie.js 在哪里：

```
document.getElementById('movie'),
{
  code: function() {
    // receive data from the other side
    var text = new Text().addTo(stage);
    stage.on('message:externalData', function(data) {
      text.attr('text', data.nodeData);
    });
    stage.on('message', function(data) {
      if (data.bonsai === 'tree') {
        text.attr('textFillColor', 'red');
      }
    });
    stage.sendMessage('ready', {});
  }
} 
```

抛出“工人未定义”</p>

为什么原始代码在 IE9 中不起作用？

# oauth-2.0 - 是否可以只允许部分用户访问 Google Big Query API？

> ID：14198917
> 
> 赞同：1
> 
> 时间：2013-01-07T15:29:38.077
> 
> 标签：oauth-2.0, google-bigquery

我用 Google Big Query 创建了一个项目。

我有一张数据表。服务每小时在表中执行一次插入。该服务使用带有 p12 文件的服务帐户进行身份验证，无需用户交互。

我还开发了一个桌面应用程序，它通过浏览器（OAuth2Authenticator）进行身份验证。它运作良好，但拥有谷歌帐户的每个人都可以登录并接受使用我的应用程序，我不希望这样！

是否可以为谷歌大查询项目指定授权谷歌帐户列表？

谢谢，卢克。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-07T20:15:08.743

是的，您可以控制[谁有权访问](https://developers.google.com/bigquery/docs/data#aclsandrights)您的 BigQuery 数据集，以及谁是您的 BigQuery 数据集所附加到的 Google 开发者项目的成员。

如果您正在创建桌面应用程序，那么为受限数据集的特定用户提供 BigQuery 授权的最佳方式是使用“[已安装的应用程序](https://developers.google.com/accounts/docs/OAuth2InstalledApp)”Oauth2 流。您目前正在使用此流程吗？

# c++ - Boost::icl::no_type 错误

> ID：14198919
> 
> 赞同：1
> 
> 时间：2013-01-07T15:29:49.583
> 
> 标签：c++, boost

我在 Visual Studio 2008 中收到此错误：错误 1 ​​错误 C2664：'BaseUtil::Type::CDouble::CDouble(const BaseUtil::Type::CDouble &)'：无法从 'boost::icl:: 转换参数 1 no_type' 到 'const BaseUtil::Type::CDouble &'

这是我的类界面：

```
class CDouble
{
public: 
  CDouble();
  CDouble(const CDouble& _obj);
  CDouble(const double& _val);

  bool operator==(const CDouble& _obj) const;
  bool operator==(const double& _obj) const; 
  bool operator!=(const CDouble& _obj) const;
  bool operator<=(const CDouble& _obj) const;
  bool operator>=(const CDouble& _obj) const;
  bool operator< (const CDouble& _obj) const;
  bool operator> (const CDouble& _obj) const;

  CDouble& operator= (const CDouble& _obj);
  CDouble& operator+=(const CDouble& _obj);
  CDouble& operator-=(const CDouble& _obj);

  const CDouble operator+(const CDouble& _obj) const;
  const CDouble operator-(const CDouble& _obj) const;

  const double operator/(const CDouble& _obj) const;

  CDouble& operator= (double _value);
  CDouble& operator+=(double _value);
  CDouble& operator-=(double _value);
  CDouble& operator*=(double _value);
  CDouble& operator/=(double _value);

  const CDouble operator+(double _value) const;
  const CDouble operator-(double _value) const;
  const CDouble operator*(double _value) const;
  const CDouble operator/(double _value) const;

  operator double() const {return m_value;} 

private:
  CDouble& operator*=(const CDouble&  _obj);
  const CDouble operator*(const CDouble&  _obj) const;
  CDouble& operator/=(const CDouble&  _obj);

  double m_value;
}; 
```

触发编译错误的代码：

```
 template <class BoundType>
  class Interval
  {
  public:
    BoundType Length() const
    {
      return boost::icl::length(
        boost::icl::construct<boost::icl::interval<BoundType>::type>(m_LowerBound,    m_UpperBound, m_IntervalType())
       );
    }

  private:
    BoundType m_LowerBound, m_UpperBound; 
    typedef boost::icl::interval_bounds (*IntervalType)(); 
    IntervalType m_IntervalType;
  }

  int main()
  {
    Interval<CDouble> typeDouble(-1.0, 1.0);
    typeDouble.Length(); //<-- COMPILE ERROR
  } 
```

我不明白这个错误，也不知道如何解决它。

它适用于基本类型（int，double，..）

任何人都可以帮忙吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-07T17:49:14.483

这是来自 boost 1.52 头文件的长度函数：

```
template<class Type>
inline typename boost::enable_if<is_continuous_interval<Type>, 
  typename difference_type_of<interval_traits<Type> >::type>::type
length(const Type& object)
{
    typedef typename difference_type_of<interval_traits<Type> >::type DiffT;
    return icl::is_empty(object) ? identity_element<DiffT>::value()
                                 : upper(object) - lower(object);
} 
```

在文件中找到：boost\icl\type_traits\difference_type_of.hpp

```
template <class Type>
struct get_difference_type<Type, false, false>
{
    typedef no_type type;
}; 
```

所以我假设支持差异数字运算符的类型的 boost 头文件默认实现是**no_type**。

必须做的是在编译时提供与您的构造函数之一匹配的差异类型的定义。即，例如，构造函数副本就是您的情况。

虽然，您的类型看起来像是数值上的 wapper，但也许 boost 头文件没有得到它。请在您的一个头文件中使用专有名称空间测试此代码段。

```
#include <boost_1_52_0\boost\icl\type_traits\is_numeric.hpp>

namespace boost{ namespace icl
{
    template <> 
    struct is_numeric<CDouble>
    {
        typedef is_numeric type;
        BOOST_STATIC_CONSTANT(bool, value = true );
    };
} } 
```

如果它不能按原样工作，诀窍是告诉 boost 你的类型具有差异类型（CDouble），以便复制构造函数起作用。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-08T13:59:57.943

谢谢你的回答，但我用这个代替：

```
namespace std
{
  template <> 
  class numeric_limits<BaseUtil::Type::CDouble> : public numeric_limits<double>
  {
  };
} 
```

# asp.net - 这对我的 Web 应用程序来说是一个好的架构吗？

> ID：14198922
> 
> 赞同：8
> 
> 时间：2013-01-07T15:29:57.253
> 
> 标签：asp.net, asp.net-mvc

我正在尝试在 ASP.NET MVC 中创建一个网站，但我不确定我应该如何组织事情。N-Tier 应用程序似乎运行良好，但由于我是初学者程序员，所以很难理解。我只想创建一个小型 Web 应用程序，人们可以在其中登录和创建页面。在这些页面中，他们可以添加其他内容。我认为数据库不会超过 10 个表。尽管它是一个小型应用程序，但我想使用 N-Tier 应用程序使用的一些最佳实践。

这是一个好方法吗？还是非常错误？：

**项目模型**

代表我的数据库中的实体的模型。

**项目.DAL**

我的存储库和工作单元的接口和实现。还有我的 NHibernate 映射。

**项目.BLL**

我的服务的接口和实现。

**项目.UI.Web.MVC**

我的控制器、视图模型和视图。控制器从服务中获取数据并将数据（视图模型）传递给视图，所以我认为它是 UI 的一部分。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-07T15:32:14.990

关于如何组织项目没有硬性规定。

这对我来说看起来很合乎逻辑，并且似乎遵循了我在互联网上看到的许多 hte 示例。

在我看来，重要的是它对你和你的团队来说是合乎逻辑的。

也看看这个链接，那里可能对你有很多有用的信息：

[MVC 架构的最佳实践](https://softwareengineering.stackexchange.com/questions/30348/best-practices-for-mvc-architecture)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-07T16:13:01.607

这听起来像是一个整洁的分层。

明确定义 DAL、BLL 和 Web.MVC 中的内容。因为人们对业务逻辑和用户界面逻辑的看法可能存在差异，所以我建议每周回顾一下每一层的内容——首先。

一种建议是调用 Project.UI.Web 而不是 Project.UI.Web.MVC。

# mysql - ibdata1 有多少空间是元数据？

> ID：14198923
> 
> 赞同：0
> 
> 时间：2013-01-07T15:30:01.940
> 
> 标签：mysql, database, innodb

我正在使用具有单个文件配置（在 /var 中）的 InnoDB 数据库，所以没有 innodb_file_per_table。

在 MySql 工作台中，当我查询数据库已用空间时，使用此查询

```
SELECT table_schema "Database", sum( data_length + index_length ) / 1024 / 1024 "Data     Base Size in MB" 
FROM information_schema.TABLES GROUP BY table_schema; 
```

它说我有 47 GB 的数据。但是 ibdata1 的大小是 99 GB...

我知道 ibdata1 包含除表数据之外的许多其他内容，例如表索引、MVCC（多版本并发控制）数据和表元数据

**所以我的问题是：**据说 52 GB 的 ibdata1 是 medatada 和一堆其他东西，这正常吗？通常，ibdata1 文件应该包含多少表数据旁边的数据？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-07T15:36:55.970

不，拥有这么多元数据是不正常的。如果您不使用`innodb_file_per_table`.

当您的数据库增长时，您的 ibdata 文件会增长，但它永远不会真正缩小。

因此，例如，如果您曾经有 130 GB 的数据并删除了其中的一堆，那么清除数据后 ibdata 文件仍将是 130 GB。它只会有一堆“可用空间”，然后它将用于后续插入。

至于缩小文件，除了清除数据库并恢复它之外，您实际上无能为力。这个答案有一些关于如何做到这一点的很好的说明。

[Howto：清理 mysql InnoDB 存储引擎？](https://stackoverflow.com/questions/3927690/howto-clean-a-mysql-innodb-storage-engine)

您可能还需要考虑将`innodb_file_per_table`其用作从表中删除数据，然后优化该表实际上会缩小各个表文件的大小

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-07T21:17:17.577

在 ibdata1 中有一堆“额外”空间有几个原因，但最可能的情况是：

*   You have deleted large amounts of data in the past. When you delete rows or drop tables, although free space will be made available in the file, the file itself will *never* shrink.
*   You may have an excessive amount of undo log space (or have at some point in the past). Undo logs are kept during `DELETE` and `UPDATE` operations, and for very long-running operations touching many rows can grow quite large. Again, if the file is expanded to hold this data it will *never* shrink.

As previously mentioned using `innodb_file_per_table` can help with this if you expect to regularly drop tables and want to get the disk space back. My blog post [The basics of InnoDB space file layout](http://blog.jcole.us/2013/01/03/the-basics-of-innodb-space-file-layout/) may help you understand what is included in the `ibdata1` file.

# android - Android Widget 以编程方式设置 android:updatePeriodMillis

> ID：14198924
> 
> 赞同：2
> 
> 时间：2013-01-07T15:30:12.080
> 
> 标签：android, widget

我正在处理一个小部件并且我有一个默认的更新间隔，但是我希望用户能够更改该间隔，我可以从代码中修改 updatePeriodMillis 吗？或者我必须使用AlarmManager？

非常感谢！

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-07T15:55:52.613

> 我可以从代码中修改 updatePeriodMillis 吗？

不，对不起。

> 或者我必须使用AlarmManager？

是的。

# html - 如何创建长字符串被截断“内联”的单行布局？

> ID：14198925
> 
> 赞同：0
> 
> 时间：2013-01-07T15:30:14.443
> 
> 标签：html, css

我需要创建一个单行 2 列布局。第一列应该显示一个可能很长的字符串，并被截断以适合单行布局。[与如何创建自动扩展块](https://stackoverflow.com/questions/2119492/how-to-create-automatically-expanding-block)类似，我做了以下操作：

HTML：

```
<div class="container">
  <div class="left">Lengthy string</div>
  <div class="right">Short</div>
</div> 
```

CSS：

```
.container {
  white-space: nowrap;
  overflow: hidden;
}

.left {
  overflow: hidden;
}

.right {
  float: right;
} 
```

与此解决方案相反，我希望右栏不在最右边，而是在左栏内容的正后方。

任何想法如何做到这一点？

编辑：

举例说明我对“直接在后面”的意思：

“长字符串”可能是在线商店中的一个类别，“短”可能是该类别中的许多可用项目。由于类别名称 + 数字可能比其容器的宽度更宽，因此可能需要截断类别名称，例如

```
<div class="container">
  <div class="left">Electronic equipment for consumer</div>
  <div class="right">(599)</div>
</div> 
```

应呈现为

```
Eletronic equipment... (599) 
```

直接在后面我的意思是对于简短的类别名称，比如“书籍”，这应该看起来像

```
Books (29) 
```

不喜欢

```
Books             (29) 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-07T15:36:54.353

我不肯定我理解你所说的“直接落后”是什么意思，但我认为这可能是你所追求的：

```
.left {
   overflow: hidden;
   display: inline;
 }

 .right {
   float: right;
   display: inline;
 } 
```

使`<div>`'s 内联将消除对浮点数的需求，通常会使您的生活更轻松。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-07T15:37:52.630

您必须指定一个固定宽度，或者，如果您的浏览器支持，则为它工作的最大宽度。

按照您现在定义的方式，浏览器可以自由地将左侧元素设置为任意宽度。

您还应该考虑`left`在左侧浮动而不是浮动`right`。或者`display: inline`两者都使用，不要浮动任何东西。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-07T15:50:16.147

下面的 CSS 创建了一个单行 2 列布局

```
#wrapper { display: table }
#wrapper > div { display: table-cell; }
#wrapper > div:first-child { min-width: 200px; /*Using min-width allows expantion */ }
#wrapper > div:last-child { min-width: 200px; }
#wrapper > div p { white-space:nowrap; } //One line text

<div id="wrapper">
  <div><!-- Left menu? --></div>
  <div><p>very long text very long text etc..</p></div>
</div> 
```

# windows-7 - 一遍又一遍地合并3行

> ID：14198927
> 
> 赞同：0
> 
> 时间：2013-01-07T15:30:15.847
> 
> 标签：windows-7, merge, notepad++

我目前正在为一个广播电台编制音乐排行榜，我可以在一些帮助下做。

收到数据后，我希望将其合并。

收到的数据是这样的。

我在windows7下使用记事本++。

```
1-NEW-1-
BLUNDERBUSS
JACK WHITE

2-1-66-
21
ADELE

3-4-13-
BORN TO DIE
LANA DEL REY

4-3-4-
PINK FRIDAY ROMAN RELOADED
NICKI MINAJ 
```

数字是图表位置-图表上的上周位置和周数，然后是专辑的标题，然后是艺术家。

如果可能的话，我希望得到它

```
1-NEW-1-BLUNDERBUSS-JACK WHITE
2-1-66-21-ADELE
3-4-13-BORN TO DIE-LANA DEL REY
4-3-4-PINK FRIDAY ROMAN RELOADED-NICKI MINAJ 
```

关于如何将每个数据的 3 行合并为一个的任何想法，任何帮助表示赞赏

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-07T15:36:54.803

编辑我的答案：

我假设分隔线是空行（或只有空格）

```
export _tab_="$(printf '\011')"
export unused_char='|'
sed -e "s/^[ ${tab}]*$/${unused_char}/" <originalfile | tr '\n' '-' | sed -e 's/--*/-/g' | tr "${unused_char}" '\n' | sed -e 's/-$//' 
```

它：用未使用的字符替换分隔线，然后用“-”替换换行符，确保我们没有“--”或“------”，然后用换行符代替未使用的字符，使由此产生的东西又在一条单独的线上。并摆脱任何剩余的行尾'-'

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-07T15:38:21.137

C＃

```
string finalString = "this" + " is " + "concatenation"; 
```

C++

```
std::string finalString = "this" << " is " << "concatenation"; 
```

php

```
var finalString = "this" . " is " . "concatenation"; 
```

# iphone - iPhone设备测试

> ID：14198929
> 
> 赞同：0
> 
> 时间：2013-01-07T15:30:21.753
> 
> 标签：iphone, xcode, ios4

> **可能重复：**
> [有什么方法可以在真实设备上测试 iphone 应用程序而无需向 Apple 支付 99 美元？](https://stackoverflow.com/questions/4151828/is-there-any-way-to-test-iphone-application-on-real-device-without-paying-99-to)

我正在为 iPhone 创建一些应用程序，并且我已注册为 Apple 开发人员，但我无法仅在 Xcode 模拟器上在我的 iPhone 上进行测试。我没有为 IOS 开发支付 99 美元，我需要支付它才能在我的设备上进行测试吗？

谢谢！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-07T15:32:18.320

在法律上是的。还有越狱方式。如果您越狱您的设备，您可以运行使用自签名证书签名的应用程序。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-07T15:34:59.157

是 您需要注册到[Apple Developer 帐户](https://developer.apple.com/programs/register/)，之后您才能创建附加设备 UDID 的配置文件

但是当您开发应用程序时，您将在 App Store 上进行部署，开发者帐户是必需的。所以，最好你现在自己去开发者帐户

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-07T15:36:38.870

是的。付出。无论如何，稍后您将要提交您的应用程序。提交将仅适用于付费帐户会员费。

# ruby-on-rails - 如何在选择 [Ruby on Rails] 的选项中将货币缩写（欧元、美元）更改为（欧元、美元）

> ID：14198933
> 
> 赞同：2
> 
> 时间：2013-01-07T15:30:51.510
> 
> 标签：ruby-on-rails

如果输出是欧元，美元，如何更改（在 Rails 中）选项，我想要欧元，美元。

```
<%= select_tag('user[currency_id]', options_for_select(Currency.get_active.collect{|t| [t.name, t.id]}, @user.try(:currency_id) ), {:class => "bigselect"})  %> 
```

其他人有想法吗？

在此先感谢您的帮助。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-01-07T15:37:50.697

你应该用**I18n****翻译**它们：

 **```
Currency.get_active.map{ |t| [I18n.t("currencies.names.long.#{t.name}"), t.id] } 
```

在您的*locale.yml*中（例如*en.yml*）：

```
# en.yml
currencies:
  names:
    long:
      usd: "US Dollars"
      eur: "Euros"
      #...
    short:
      usd: "$US"
      eur: "€" 
```

或者**没有翻译系统的替代方案**：

```
class Currency < ActiveRecord::Base
  LONG_NAMES = { 
                 'EUR' => 'Euros', 
                 'USD' => 'US Dollars',
                 # ...
               }
  # ...  
end 
```

并像这样使用它：

```
Currency.get_active.collect{ |t| [Currency.LONG_NAMES[t.name], t.id] } 
```

如果`t.name`返回不在`LONG_NAMES`常量中的条目，则显示`t.name`属性：

```
Currency.get_active.collect{ |t| [Currency.LONG_NAMES[t.name] || t.name, t.id] } 
```**

# asp.net - 匿名访问 Web 应用程序时密码保护 Elmah

> ID：14198936
> 
> 赞同：3
> 
> 时间：2013-01-07T15:31:01.107
> 
> 标签：asp.net, authentication, elmah

我正在将 Elmah（错误记录模块和处理程序）与 Asp.net Web 表单应用程序一起使用。我已启用 Elmah 进行远程访问。

Elmah 是否可以像 Windows 身份验证一样进行密码保护，保持 Web 表单应用程序匿名访问？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-07T18:39:39.847

以下解决方案适用于窗口“角色”。但是直接访问用户是行不通的。

```
 <location path="admin" >
    <system.web>
      <httpHandlers>
        <add verb="POST,GET,HEAD" path="elmah.axd" type="Elmah.ErrorLogPageFactory, Elmah" />
      </httpHandlers>
      <authorization>
        <allow roles="WindowsGroupName" />
        <deny users="*" />  
      </authorization>
    </system.web>
  </location> 
```

**注意：Elmah 也可以按照**[Phil Haack](http://haacked.com/archive/2007/07/24/securely-implement-elmah-for-plug-and-play-error-logging.aspx)的指示通过 root/admin/elmah.axd 服务来保护。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-07T15:54:22.307

您可以通过在 web.config 中添加允许的用户来保护 Elmah：

```
<location path="elmah.axd" inheritInChildApplications="false">
    <system.web>
       <authorization>   
         <allow users="YOUR-WINDOWS-USERNAME" />
         <deny users="*" />
       </authorization>
    </system.web>

    ...other config settings
</location> 
```

假设您使用的是 Windows 身份验证

```
<authentication mode="Windows"> 
```

# java - 从具有多个值的长字符串中获取值

> ID：14198937
> 
> 赞同：0
> 
> 时间：2013-01-07T15:31:01.963
> 
> 标签：java

我有一个字符串：

```
{"name":"value", "name2":"value2" ... "name3":"value3"} 
```

我想按名称搜索并获取它的值。

但是我以前从未见过这种格式..所以我不知道要寻找什么。感谢您的任何提示。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-07T15:33:26.007

它的 JSON 格式使用 json jar 来处理这个格式...
例如： JSONObject jsonObject = new JSONObject (yourString) ;
要获取名称值，您应该使用
jsonObject。得到（“名称”）；

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-07T15:34:10.450

由于这是 JSON，因此您需要一个 JSON 解析库。此示例使用[杰克逊](http://jackson.codehaus.org)：

```
ObjectMapper mapper = new ObjectMapper();

JsonNode node = mapper.readTree(someURLhere);

// access "name1" using node.get("name1").textValue(), etc 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-07T15:34:40.777

对我来说，这看起来像 JSON，尽管我可能是错的。如果你使用 Javascript，你可以这样做：

```
var JSONobject = {"name":"value", "name2":"value2" ... "name3":"value3"}; 
```

然后通过以下方式获得您想要的价值：

```
JSONobject.name; 
```

（这应该返回“值”）

其他语言有可用的库。PHP 内置了 JSON 支持 (json_decode)，而对于 Java，我最喜欢的是 GSON。

# tomcat - 在应用程序中添加 UTF8 支持并设置所需的 JVM 选项后，Tomcat（开发）无法启动

> ID：14198938
> 
> 赞同：2
> 
> 时间：2013-01-07T15:31:02.447
> 
> 标签：tomcat, configuration, jvm, myfaces

我无法启动 Tomcat 7.0.27。这不是 ServerFault 问题，因为这是我的开发服务器。我正在使用 IntelliJ IDEA，在向我的应用程序添加过滤器之前，我的应用程序没有运行任何错误。这个过滤器不是问题的原因，因为我在我的生产服务器上成功地使用了它，IDEA 在其中编译、打包和运行它，没有阻碍我开发的问题。那我的问题是什么？

我注意到一个从 Tomcat 冒出来的小错误。它不会登录日志文件，但会读取：

```
Unable to use direct char[] access of java.lang.String
java.lang.NoSuchFieldException: count
    at java.lang.Class.getDeclaredField(Class.java:1899)
    at org.apache.myfaces.shared.util.StringCharArrayAccessor.<clinit>(StringCharArrayAccessor.java:63)
    at org.apache.myfaces.shared.util.StreamCharBuffer.readAsString(StreamCharBuffer.java:605)
    at org.apache.myfaces.shared.util.StreamCharBuffer.toString(StreamCharBuffer.java:631)
    at org.apache.myfaces.shared.renderkit.html.HtmlResponseWriterImpl.writeScriptContent(HtmlResponseWriterImpl.java:484)
    at org.apache.myfaces.shared.renderkit.html.HtmlResponseWriterImpl.endElement(HtmlResponseWriterImpl.java:416)
    at org.apache.myfaces.view.facelets.compiler.EndElementInstruction.write(EndElementInstruction.java:38)
    at org.apache.myfaces.view.facelets.compiler.UIInstructions.encodeBegin(UIInstructions.java:46)
    at org.apache.myfaces.view.facelets.compiler.UILeaf.encodeAll(UILeaf.java:505)
    at javax.faces.component.UIComponent.encodeAll(UIComponent.java:764)
    at javax.faces.component.UIComponent.encodeAll(UIComponent.java:764)
    at org.apache.myfaces.view.facelets.FaceletViewDeclarationLanguage.renderView(FaceletViewDeclarationLanguage.java:1900)
    at org.apache.myfaces.application.ViewHandlerImpl.renderView(ViewHandlerImpl.java:285)
    at org.apache.myfaces.lifecycle.RenderResponseExecutor.execute(RenderResponseExecutor.java:115)
    at org.apache.myfaces.lifecycle.LifecycleImpl.render(LifecycleImpl.java:241)
    at javax.faces.webapp.FacesServlet.service(FacesServlet.java:199)
    at org.apache.myfaces.webapp.MyFacesServlet.service(MyFacesServlet.java:112)
    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:305)
    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)
    at com.buhaugane.web.filters.CharsFilter.doFilter(CharsFilter.java:38)
    at ... 
```

我怀疑从网上看，我需要为 VM 添加一些参数到 tomcat`catalina.bat`尤其是一个告诉它请求 JVM 使用 utf-8 运行（顺便说一下，我使用的是 Windows 8）我可以将我使用的过滤器作为这种刺激的唯一原因是删除它可以修复所有问题过滤器所做的唯一事情是使用容器初始化时加载的 UTF-8 值修改 HTTP 请求：`request.setCharacterEncoding(encoding);`当我尝试将以下内容添加到文件时，Tomcat 将无法启动，抱怨我给的变量包含无效值。它是按原样写的。我需要帮助来解决这个问题，以便我的开发环境模拟生产。任何帮助表示赞赏。

我使用的变量配置为：

```
set JAVA_OPTS=%JAVA_OPTS% ^
-Djava.util.logging.manager=org.apache.juli.ClassLoaderLogManager ^
-Djava.util.logging.config.file=%CATALINA_BASE%\conf\logging.properties ^
-Xms128m -Xmx256m ^
=-Dfile.encoding=UTF-8 
```

简而言之，我想消除所有可能导致未来问题的错误，我相信告诉 Tomcat 使用 UTF-8 JVM 将对我有所帮助。我发布的值是否存在明显错误？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-08T13:54:09.913

您遇到的错误只是一个调试信息：[https ://github.com/grails/grails-core/blob/master/grails-web/src/main/groovy/org/codehaus/groovy/grails/web/util/ StringCharArrayAccessor.java](https://github.com/grails/grails-core/blob/master/grails-web/src/main/groovy/org/codehaus/groovy/grails/web/util/StringCharArrayAccessor.java)

关于代码，它尝试检测 String 类是否已被包装并具有一些附加方法。如果是，grails 将使用优化版本，否则将使用回退。

因此，您可能可以忽略此错误。

HIH

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-28T16:20:14.990

问题在于您的**myfaces**版本。我有同样的问题，可以通过升级到最新的 myfaces 版本来解决它。特别是我更新了以下两个 jar 文件：

*   myfaces-api.jar（到2.1.10版本，我之前用的是2.1.6）
*   myfaces-impl.jar（到 2.1.10 版本，我之前使用的是 2.1.6）

错误发生在这里：`org.apache.myfaces.shared.util.StringCharArrayAccessor.<clinit>(StringCharArrayAccessor.java:63)`

这适用于 Java 6，但不适用于 Java 7。我猜该`count`字段已从 Java 7 实现中删除。幸运的是 myfaces 团队已经解决了这个问题。只需更新您的 jar 文件（见上文）。

# actionscript-3 - 预定义颜色列表中的随机颜色

> ID：14198940
> 
> 赞同：0
> 
> 时间：2013-01-07T15:31:03.237
> 
> 标签：actionscript-3, flash, actionscript

这是我从[http://circlecube.com/2009/02/random-movement-brownian-revisited-for-as3/](http://circlecube.com/2009/02/random-movement-brownian-revisited-for-as3/)编辑的动作脚本：

```
//number of balls
var numBalls:uint = 50;
var defaultBallSize:uint = 8;

//init
makeDots();

function makeDots():void {
//create desired number of balls
for (var ballNum:uint=0; ballNum<numBalls; ballNum++){
    var c1:Number = randomColor();
    var c2:Number = randomColor();

    //create ball
    var thisBall:MovieClip = new MovieClip();
    thisBall.graphics.beginFill(c1);
    //thisBall.graphics.lineStyle(defaultBallSize, 0);
    thisBall.graphics.drawCircle(defaultBallSize, defaultBallSize, defaultBallSize);
    thisBall.graphics.endFill();

    addChild(thisBall);

    //coordinates
    thisBall.x = Math.random() * stage.stageWidth;
    thisBall.y = Math.random() * stage.stageHeight;
    //percieved depth
    //thisBall.ballNum = ballNum;
   // thisBall.depth = ballNum/numBalls;
    //thisBall.scaleY = thisBall.scaleX = thisBall.alpha = ballNum/numBalls;
    //velocity
    thisBall.vx = 0;
    thisBall.vy = 0;
    thisBall.vz = 0;

    //ball animation
    thisBall.addEventListener(Event.ENTER_FRAME, animateBall);
}
}

var dampen:Number = 0.95;
var maxScale:Number = 1.3;
var minScale:Number = .3;
var maxAlpha:Number = 1.3;
var minAlpha:Number = .3;
function animateBall(e:Event):void{
var thisBall:Object = e.target;
//apply randomness to velocity
thisBall.vx += Math.random() * 0.2 - 0.1;
thisBall.vy += Math.random() * 0.2 - 0.1;
thisBall.vz += Math.random() * 0.002 - 0.001;

thisBall.x += thisBall.vx;
thisBall.y += thisBall.vy;
//thisBall.scaleX = thisBall.scaleY += thisBall.vz;
//thisBall.alpha += thisBall.vz;
thisBall.vx *= dampen;
thisBall.vy *= dampen;
thisBall.vz *= dampen;

if(thisBall.x > stage.stageWidth) {
    thisBall.x = 0 - thisBall.width;
}
else if(thisBall.x < 0 - thisBall.width) {
    thisBall.x = stage.stageWidth;
}
if(thisBall.y > stage.stageHeight) {
    thisBall.y = 0 - thisBall.height;
}
else if(thisBall.y < 0 - thisBall.height) {
    thisBall.y = stage.stageHeight;
}

if (thisBall.scaleX > maxScale){
    thisBall.scaleX = thisBall.scaleY = maxScale;
}
else if (thisBall.scaleX < minScale){
    thisBall.scaleX = thisBall.scaleY = minScale;
}
if (thisBall.alpha > maxAlpha){
    thisBall.alpha = maxAlpha;
}
else if (thisBall.alpha < minAlpha){
    thisBall.alpha = minAlpha;
}
}

function randomColor():Number{
return Math.floor(Math.random() * 16777215);
} 
```

球的颜色是完全随机的，我想知道是否有可能使颜色是随机的，但来自预定义的颜色列表。

非常感谢。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-07T15:36:28.810

您可以通过使用一组颜色轻松完成此操作：

```
var colors:Array = [0xFF0000, 0x00FF00, 0x0000FF];

function randomColor():uint
{
    return colors[int(Math.random()*colors.length)];
} 
```

上面的代码将从红色、绿色和蓝色中随机选择。您可以通过简单地将它们的十六进制代码添加到数组中来将新颜色添加到随机化中。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-07T15:37:45.460

```
function randomColor():Number{
    var my_clrs_arr:Array = 
        new Array(0xFFCC00,0xFF0000, 0xFFFF00, 0xFFFFFF, 0xCCCC00, 0xFACC00);
    var random_num = Math.floor(Math.random() * my_clrs_arr.lemgth);
    return  my_clrs_arr[random_num];
} 
```

# java - Webapp文件组织约定（开发结构）

> ID：14198942
> 
> 赞同：16
> 
> 时间：2013-01-07T15:31:14.100
> 
> 标签：java, spring, jakarta-ee, web-applications, file-organization

对于我正在开发的 webapps，我通常使用以下文件组织，因为我认为它尊重约定：

```
src
|-- main
    |-- resources
    |   |-- *.properties
    |   |-- *.xml
    |   |-- spring
    |       |-- applicationContext.xml (main application context config file)
    |-- webapp
        |-- WEB-INF
            |-- spring
            |   |-- spring-mvc.xml (web application context config file, delegated to manage only the web part)
            |   |-- spring-security-http.xml (web security config)
            |-- static
            |   |-- *.css
            |   |-- *.js
            |-- views
            |   |-- *.jsp
            |-- web.xml (deployment configuration) 
```

我想尝试的是根据以下结构组织我的文件：

```
src
|-- main
    |-- resources
    |   |-- *.properties
    |   |-- *.xml
    |   |-- web.xml
    |   |-- spring
    |       |-- applicationContext.xml
    |       |-- spring-mvc.xml
    |       |-- spring-security-http.xml
    |-- webapp
        |-- WEB-INF
            |-- static
            |   |-- *.css
            |   |-- *.js
            |-- views
                |-- *.jsp 
```

当然，在打包 webapp 时，文件将被重新定位到它们必须的位置（例如 WEB-INF 文件夹中的 web.xml 文件）。我想像上面那样重新组织我的 webapps 的原因是，我发现将所有 *.xml 配置文件放在同一位置更方便，而不是在这里和那里有一些。你认为打破我的初始结构是个坏主意吗？如果是，为什么？为什么将所有 Web 配置文件放在 WEB-INF 文件夹中如此重要？

PS：从技术上讲，我知道如何很好地链接 webapp 的类路径中的所有文件。问题更多是关于惯例和个人/专业经验的反馈。

* * *

## 回答 #1

> 赞同：18
> 
> 时间：2013-01-07T16:59:27.683

您可以创建 Java Web 项目是一些流行的 IDE，如 Eclipse、NetBeans、IntelliJ IDEA，以查看典型的 Java Web 应用程序结构。

**而且开发结构和封装结构**是有区别的。
在开发应用程序时，您几乎可以使用您喜欢的任何结构。但是您必须根据特定规则**打包Java EE Web 应用程序。**

有关详细信息，请参阅官方 Java EE 教程：

*   [Java EE 8 教程：打包](https://javaee.github.io/tutorial/packaging.html#GKJIQ4)
*   [Java EE 7 教程：打包](http://docs.oracle.com/javaee/7/tutorial/packaging.htm)
*   [Java EE 6 教程：打包应用程序](http://docs.oracle.com/javaee/6/tutorial/doc/bnaby.html)
*   [Java EE 6 教程：示例目录结构](http://docs.oracle.com/javaee/6/tutorial/doc/gexap.html) （此处忽略与 NetBeans 相关的信息）

这里还有推荐的使用 Java 2 Platform, Enterprise Edition 开发的应用程序的推荐约定（虽然过时但可能有用）：
[Java Blueprints Guidelines。企业应用程序的项目约定](http://web.archive.org/web/20081216004416/http://java.sun.com/blueprints/code/projectconventions.html#25692)

这里有一个来自上述 Java 蓝图的示例： ![Web 应用程序：推荐的目录结构](../Images/f161717ebe151ea832187452bc3c0eed.png)

* * *

更新

这是我的一个带有 Spring 的 Java Web 应用程序项目的示例。例如，我将所有与 Spring 相关的配置文件存储在*WEB-INF内特别创建的**spring*文件夹中。在*spring*文件夹中，我创建了更多文件夹以更好地组织我的应用程序。同样，这只是可能的变体之一，即**个人喜好问题**。

 ****![Spring项目结构示例](../Images/fdc770c1248f9c88dbeadeeb94c20320.png)

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-01-07T15:56:11.923

web.xml 需要位于 WEB-INF 目录中。这是应用服务器唯一会寻找它的地方。除此之外，spring xml 文件可以在资源中（最终将在类路径中）。****

# git - git 暂存所有不应暂存的文件

> ID：14198947
> 
> 赞同：1
> 
> 时间：2013-01-07T15:31:42.853
> 
> 标签：git

我正在开发一个不受任何版本控制的视觉工作室 c/C++ 项目，所有文件都在我的项目目录中，

我认为是时候将它置于版本控制之下了，我复制了一个 .gitignore 文件到我的项目文件夹并打开 git bash 导航到项目目录并做了

```
 git init
  git add . 
```

假设它会服从 .gitignore 文件。发生的事情是它已经暂存了我的所有文件，而忽略了 .gitignore 文件，因此调试文件夹、发布文件夹 obj 文件等下的所有文件都已暂存

我的 .gitignore 看起来像这样，模板取自 stackoverflow 上关于 Visual Studio 项目 git ignore 模板的 wiki 答案。

你能帮助如何取消暂存所有文件并通过 gitignore 过滤它们吗？

```
#OS junk files
[Tt]humbs.db
*.DS_Store

#Visual Studio files
*.[Oo]bj
*.user
*.aps
*.pch
*.vspscc
*.vssscc
*_i.c
*_p.c
*.ncb
*.suo
*.tlb
*.tlh
*.bak
*.[Cc]ache
*.ilk
*.log
*.lib
*.sbr
*.sdf
*.opensdf
*.unsuccessfulbuild
ipch/
obj/
[Bb]in
[Dd]ebug*/
[Rr]elease*/
Ankh.NoLoad

#MonoDevelop
*.pidb
*.userprefs

#Tooling
_ReSharper*/
*.resharper
[Tt]est[Rr]esult*
*.sass-cache

#Project files
[Bb]uild/

#Subversion files
.svn

# Office Temp Files
~$*

#NuGet
packages/

#ncrunch
*ncrunch*
*crunch*.local.xml

# visual studio database projects
*.dbmdl

#Test files
*.testsettings 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-07T15:51:24.747

在正确的位置获得`.gitignore`具有正确编码的正确文件后，您可以键入：

```
git rm --cached -r . 
```

然后再次添加所有文件：

```
git add . 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-08T21:31:20.863

您必须先添加 .gitignore 文件。我 git init，然后几乎每次都将自述文件和忽略文件添加为第一次提交。

# android - Android - 从远程服务器加载多个图像的有效方法

> ID：14198949
> 
> 赞同：2
> 
> 时间：2013-01-07T15:31:52.697
> 
> 标签：android, client-server, json, android-image, network-efficiency

我有一个 Android 应用程序，它可以从 php 远程服务器检索数据（图像+文本）并将它们显示在 GridView 中。我正在使用 Loaders 在后台进行操作。我对图像和文本有单独的连接，因为检索图像需要更长的时间，我想立即显示文本。从 MySQL 检索文本后，在服务器上使用 Json 对文本进行编码。在应用程序上，我正在解析 Json 对象并根据需要显示文本。

问题在于图像。我不确定用 Json 编码图像是否是个好主意。此外，图像在数据库中保存为 blob，为了使用 Json 对它们进行编码，我需要使用 base64_encode() 之前效率不高。我看过很多关于这个的帖子，但是当你必须得到一张图片时，它总是一个简单的例子。就我而言，我将检索多达 30 张小尺寸图像。

我的问题是，我可以继续我刚才介绍的内容，但似乎应该有更好的方法来做到这一点。你怎么看待这件事？我走错路了吗？

此外，我还在考虑是否可以在网格视图中单独显示每个图像，就像在“Google Play 应用程序”的 GridView 中一样（而不是等待所有图像都准备好）。我可以采取什么方法来实现这一目标？

先谢谢各位了！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-07T15:54:19.180

在我看来，最好的方法是通过 HTTP 获取请求将图像文件下载为普通图像文件。当然要确保它是线程化的，并且有一个线程池，您可以将请求排队到其中，并有 2-3 个线程通过并下载。

在保存它们方面，我个人将不再保存到数据库中的 blob，而是选择将它们保存到应用程序私有目录中的持久存储中。将图像文件以其文件名作为它们的 id 保存在您创建的数据库中将更快地重新加载它们。

您还可以保存对 ImageView 的引用，并让它最初显示一个占位符，成功的 HTTP 请求将 ImageView 的位图替换为您刚刚从存储中下载/读取的位图。

您还可以在您发出的 HTTP 请求中进行一些图像缓存。

```
ImageView myImageView = findViewById(R.id.testImage);
URL url = new URL("http://www.website.com/image.jpg");
URLConnection connection = url.openConnection();
connection.setUseCaches(true);
Object response = connection.getContent();
if (response instanceof Bitmap) {
  Bitmap bitmap = (Bitmap)response;
  myImageView.setBitmap(bitmap);
} 
```

查找 LRUCache 的使用也可能会有所帮助，它为您执行许多缓存功能。

查看[Android 开发者网站上的此链接，](http://developer.android.com/training/displaying-bitmaps/cache-bitmap.html)了解图像缓存的深入指南

**编辑：** 您可以使用 Robert Rowntree 的答案中的建议来更有效地加载位图，以减少内存使用。该链接提供了使用较少内存加载位图的详细信息，如果您从通过网络下载并保存到本地存储的较大图像创建缩略图，这将很有效。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-07T15:39:03.483

IMO - 有两个问题，将图像通过网络移动到客户端并加载它们。

假设您使用 http 作为协议，您应该有一个 httpclient 包中提供的 http 多线程解决方案。这样可以快速将照片发送到手机。

然后，您必须通过将它们放入内存和缓存来呈现图片。在这里，您可以考虑“gallery3D”应用程序对其网格和位图的作用，但通过该代码阅读它非常复杂。

退房 - [http://developer.android.com/training/displaying-bitmaps/load-bitmap.html](http://developer.android.com/training/displaying-bitmaps/load-bitmap.html)

查看用于从位图中加载拇指的代码示例。

# android - 什么是 GAE webapp2 POST 数据最大限制？

> ID：14198950
> 
> 赞同：0
> 
> 时间：2013-01-07T15:31:52.643
> 
> 标签：android, python, google-app-engine, http, http-post

webapp2 POST 大小是否有最大限制？我有一个 android 应用程序，它在我的本地机器上使用 python webapp2 连接到测试开发服务器，当我对开发服务器执行 HTTP POST 时，当 POST 大小超过 1108 KB 时，我的 android 上出现 java 异常。

如果有帮助，我在 android 代码中使用 HttpConnection。

来自 Java 的确切错误消息：“内容长度超出限制 1108 kB”

# javascript - 过滤 Backbone.js 集合

> ID：14198951
> 
> 赞同：0
> 
> 时间：2013-01-07T15:32:04.070
> 
> 标签：javascript, backbone.js

我正在使用几个主干集合，有时我需要根据某些标准访问其中的一部分。

**方法一**

正如[这个问题](https://stackoverflow.com/questions/6414976/filtering-a-backbone-collection-returns-an-array-of-models)中已经说明的那样，在集合本身上使用`filter()`会返回一个模型数组，而不是另一个集合。这可以在简单的情况下工作，但它具有丢失集合的方法连接的效果，因为模型的普通数组不会在集合中定义所有方法。

**方法二**

该问题的答案建议创建一个新集合，将模型数组传递给构造函数。这可行，但有每次调用集合的构造函数的副作用，因此每次过滤集合时可能在此处定义的任何事件绑定都会堆叠。

那么根据某些过滤条件创建子集合的正确方法是什么？

我应该使用方法 1 并创建更多过滤方法而不是依赖方法链接吗？

我应该使用方法 2 并避免在集合的构造函数中绑定事件吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-07T17:51:14.363

Personally I would create more filtering methods on the collection, because it has the additional benefit of encapsulating logic inside the collection.

You could also try to reuse the existing collection. I was toying around with the idea, and arrived at something like this:

```
var Collection = Backbone.Collection.extend({
  //Takes in n arrays. The first item of each array is the method you want
  //to call and the rest are the arguments to that method. 
  //Sets the collection.models property to the value of each successive filter
  //and returns the result of the last. Revers the collection.models to its original value.
  chainFilters: function(/*args..*/) {
    var models = this.models;
    try {
      filters = _.toArray(arguments);
      _.each(filters, function(filter) {
         this.models = filter[0].apply(this, _.rest(filter));
      }, this);
    } catch(err) {
      this.models = models;
      throw err;
    }

    var filtered = this.models;
    this.models = models;
    return filtered;   
  }
}); 
```

Usage:

```
var results = collection.chainFilters(
  [ collection.filter, function(model) { return model.get('name') === 'foo'; } ],
  [ collection.someMethod, 'someargument' ],
  [ collection.someOtherMethod ]
); 
```

[Here's a working sample.](http://jsfiddle.net/QQy49/) It's a bit peculiar, I know.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-07T15:37:56.710

这取决于用例。如果您希望这些模型更新视图，那么您可能需要一个新集合，否则您将无法获得好的响应式模板更新。如果您只是想让模型遍历或操作数据而不用担心数据更新，那么请使用数组 + underscore.js。

尝试使用数组，如果您发现自己编写了很多样板代码，这些代码已经在集合中但不在 underscore.js 中，那么就开始使用集合。

# mysql - 如何加入这 2 个 mysql 查询？

> ID：14198954
> 
> 赞同：0
> 
> 时间：2013-01-07T15:32:09.997
> 
> 标签：mysql, join

我有两种我希望能够加入的复杂查询，但不太确定执行它的语法。

查询一：

```
select month(Date_1) as Date_1, 
       sum(number_1) as number_1 
  from table_1 
  where Date_1 between '2012-01-01' and '2013-01-01' 
  group by month(Date_1); 
```

这给出了这个结果：

![在此处输入图像描述](../Images/bbc7f8b02c257fcde5806817c3068c6c.png)

查询 2：

```
select count(distinct number_2) as number_2, 
       month(Date_2) as Date_2 
  from table_2 
  where Date_2 between '2012-01-01' and '2013-01-01' 
  group by month(Date_2) 
  order by month(Date_2) desc; 
```

这给出了这个结果：

![在此处输入图像描述](../Images/899b21fd56bd0ed960b511494fc0d748.png)

我想加入这两个查询，以便当 Date_1 和 Date_2 列相等时 number_1 与 number_2 匹配。一个月一排。

有谁知道这是怎么做到的吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-07T15:42:14.587

```
select T1.Date_1, T1.number_1, T2.number_2 from 

(select month(Date_1) as Date_1, 
       sum(number_1) as number_1 
  from table_1 
  where Date_1 between '2012-01-01' and '2013-01-01' 
  group by month(Date_1))T1

inner join

(select count(distinct number_2) as number_2, 
       month(Date_2) as Date_2 
  from table_2 
  where Date_2 between '2012-01-01' and '2013-01-01' 
  group by month(Date_2) 
  order by month(Date_2) desc)T2

on T1.Date_1 = T2.Date_2; 
```

本质上，在当月加入两个临时表（由查询形成）。

# html - 我可以在 schema.org Rich Snippets 的 Span 标记中使用多个 ItemProps 吗？

> ID：14198956
> 
> 赞同：37
> 
> 时间：2013-01-07T15:32:16.977
> 
> 标签：html, seo, schema.org, rich-snippets

假设我有以下句子要添加丰富的片段：

> 我在纽约生活和工作

由于纽约既是我的居住地，也是我工作的城市，理论上我想使用 schema.org 标准像这样标记这条线：

```
<div itemscope itemtype = 'http://schema.org/Person'>I live and work in 
<span itemprop = 'homeLocation'  itemprop = 'workLocation'>New York</span></div> 
```

在一个跨度标签中有 2 个 itemprops 是否有效？如果没有，下面的工作吗？

```
<div itemscope itemtype = 'http://schema.org/Person'>I live and work in 
<span itemprop = 'homeLocation'><span itemprop = 'workLocation'>New York
</span></span></div> 
```

* * *

## 回答 #1

> 赞同：57
> 
> 时间：2013-01-08T13:56:59.127

通常的 HTML 方法是使用*一个*属性并用空格字符分隔多个值。

查看 Microdata 规范，您会注意到[`itemprop`属性](http://www.w3.org/TR/microdata/#names:-the-itemprop-attribute)也是如此：

> 该`itemprop`属性（如果指定）必须具有一个值，该值是一**组无序的唯一空格分隔标记**[…]

所以这应该是正确的：

```
<div itemscope itemtype="http://schema.org/Person">
  I live and work in <span itemprop="homeLocation workLocation">New York</span>
</div> 
```

（注意：如果使用`itemprop`值作为 CSS 选择器，请使用[`[att~=val]`而不是`[att=val]`](https://stackoverflow.com/a/27933394/1591669)。）

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-07T18:48:36.513

我发布的第一段代码不起作用，但第二段可以。谷歌有一个丰富的片段[页面测试器](http://www.google.com/webmasters/tools/richsnippets)，对于代码验证非常有用

# jquery - 空 div 的 Jquery 选择器

> ID：14198957
> 
> 赞同：5
> 
> 时间：2013-01-07T15:32:17.410
> 
> 标签：jquery, jquery-selectors

如何选择一个空的 div 和只有一个空格字符的 div，ej：

Ej：一个选择这个的 jquery 规则选择器：

```
<div class="thumbnails"></div>
<div class="thumbnails"> </div> 
```

但不选择这个：

```
<div class="thumbnails">Lorem ipsum amet</div> 
```

* * *

我试过这个

```
$('.thumbnails:empty').css('background-color', "#f0f"); 
```

并且适用于：

```
<div class="thumbnails"></div> 
```

但不选择这种情况（注意空格字符）：

```
<div class="thumbnails"> </div> 
```

测试：http: [//jsbin.com/ozohak/1/edit](http://jsbin.com/ozohak/1/edit)

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-01-07T15:35:34.023

使用[过滤](http://api.jquery.com/filter/)功能检测没有文字的元素

```
$('.thumbnails').filter(function(i,v){
    return $.trim($(v).text()).length == 0;
}).css('background-color', "#f0f"); 
```

[http://jsbin.com/ozohak/5/edit](http://jsbin.com/ozohak/5/edit)

编辑：

如果需要，您也可以使用过滤器功能选择空元素和一个空格

```
$('.thumbnails').filter(function(i,v){
    return $(v).text() == '' || $(v).text() == ' ';
}).css('background-color', "#f0f"); 
```

[http://jsbin.com/ozohak/10/edit](http://jsbin.com/ozohak/10/edit)

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2013-01-07T15:38:30.273

您可以编写自己的 Jquery 选择器，并检查修剪后的文本（参见[http://jsbin.com/ozohak/12/edit](http://jsbin.com/ozohak/12/edit)）

```
$.expr[':'].blank = function(obj){
  return obj.innerHTML.trim().length === 0;
};

$('.thumbnails:blank').addClass('selected'); 
```

**编辑：**为避免 IE8 及更低版本中的问题：

```
$.expr[':'].blank = function(obj){
  return !$.trim($(obj).text()).length;
};

$('.thumbnails:blank').addClass('selected'); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-07T15:36:04.553

您可以将 a`filter()`与正则表达式一起使用以确保`text()`为空：

```
$('.thumbnails')
    .filter(function() {
        return $(this).text().replace(/\W/gi, '') == '';
    })
    .addClass('selected'); 
```

[**更新示例**](http://jsbin.com/ozohak/8/edit)

`html()`请注意，如果您想在 div 中允许 HTML 元素，您也可以进行比较。

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2013-01-07T15:37:31.033

没有选择器可以检查空白内容，但这里有一些可能会有所帮助：

```
$('div').each(function(i,e) {
  if ($(e).html().trim() == "")
    $(e).html("");
});

$('.thumbnails:empty').addClass('selected'); 
```

问候。

* * *

## 回答 #5

> 赞同：-2
> 
> 时间：2013-01-07T15:34:20.017

您可以使用以下代码

```
$('*').each(function() {
         if ($(this).text() == "") { // you can change this to whatever #ex: char length
                   //Do Something
         }
}); 
```

# javascript - 如何在 Backbone.js 中处理一个简单的点击事件？

> ID：14198959
> 
> 赞同：0
> 
> 时间：2013-01-07T15:32:17.783
> 
> 标签：javascript, backbone.js, backbone-events, javascriptmvc

我在 Backbone 中遇到了一些非常简单的问题。我想`<h1>`在我的页面中连接，以便当用户单击它时，它会无缝返回到主页，而无需回发。

这是 HTML：

```
<h1><a id="home" href="/">Home</a></h1> 
```

（更新：评论者建议的固定 ID。）这是我的主干视图和路由器：

```
var HomeView = Backbone.View.extend({
  initialize: function() { 
    console.log('initializing HomeView');
  },
  events: { 
    "click a#home": "goHome"
  }, 
  goHome: function(e) { 
    console.log('goHome');
    e.preventDefault();
    SearchApp.navigate("/");
  }
});
var SearchApp = new (Backbone.Router.extend({
  routes: { 
    "": "index", 
  },
  initialize: function(){
    console.log('initialize app');
    this.HomeView = new HomeView();
  },
  index: function(){
    // do stuff here
  },
  start: function(){
    Backbone.history.start({pushState: true});
  }
}));
$(document).ready(function() { 
  SearchApp.start();
}); 
```

控制台正在向我展示

```
initialize  app
initializing HomeView 
```

但是，当我单击 时`<h1>`，页面会发回 - 而我`goHome`在控制台中看不到。

我究竟做错了什么？显然，我可以`<h1>`在 jQuery 中简单地连接 click 事件，但我想了解我应该如何在 Backbone 中执行此操作。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-07T15:39:50.303

您的标签`id`无效，请尝试以下操作：

```
<h1><a id="home" href="/">Home</a></h1> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-07T15:36:36.020

如果启用 pushState，则需要拦截所有点击并防止刷新：

```
$('a').click(function (e) {
  e.preventDefault();
  app.router.navigate(e.target.pathname, true);
}); 
```

就像是：

```
$(document).ready(function(){

  var HomeView = Backbone.View.extend({
    initialize: function() { 
      console.log('initializing HomeView');
    }
  });

  var AboutView = Backbone.View.extend({
    initialize: function() { 
      console.log('initializing AboutView');
    }
  });

  var AppRouter = Backbone.Router.extend({
    routes: { 
      "": "index", 
      "about":"aboutView"
    },

    events: function () {
      $('a').click(function (e) {
        e.preventDefault();
        SearchApp.navigate(e.target.pathname, true);
      });
    },

    initialize: function(){
      console.log('initialize app');
      this.events();
      this.HomeView = new HomeView();
    },

    index: function(){
      this.HomeView = new HomeView();
    },

    aboutView : function() {
      this.AboutView = new AboutView();
    }
  });

  var SearchApp = new AppRouter();
  Backbone.history.start({pushState: true});

}); 
```

# arrays - Twig 数组访问

> ID：14198960
> 
> 赞同：8
> 
> 时间：2013-01-07T15:32:19.080
> 
> 标签：arrays, symfony, twig

我正在尝试打印出传递给树枝模板的变量的值。我正在使用这段代码：

`{{ naziv[0] }}` 索引为 0，因为传递的数组只有一个元素。提到的代码会产生以下错误：

> 带有键“title”的数组的键“0”在...中不存在

但是当我像这样使用for循环时：

```
{% for key,value in naziv %}
{{ value }}
{% endfor %} 
```

我得到我想要的。

有什么问题`{{naziv[0]}}`？

* * *

## 回答 #1

> 赞同：22
> 
> 时间：2013-01-07T15:39:40.767

基于`var_dump`的`array(1) { ["title"]=> string(11) "SpaceVision" }`

您应该以这种方式访问​​您的数组：`{{ naziv['title'] }}`.

数组的键是关联的，而不是数字索引数组。这就是为什么你不能使用`naziv[0]`.

您还可以使用：`{{ naziv.title }}`以及。

请参阅[文档](http://twig.sensiolabs.org/doc/templates.html#variables)。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2013-01-07T15:39:00.550

您的数组不是数字索引的，因此`naziv[0]`没有定义。访问它作为`naziv.title`.

# zurb-foundation - Foundation Orbit 滑块，在小屏幕上显示导航

> ID：14198962
> 
> 赞同：4
> 
> 时间：2013-01-07T15:32:22.940
> 
> 标签：zurb-foundation, orbit

[作为Zurb 基金会](http://foundation.zurb.com/)一部分的 Orbit 滑块似乎为`hide-for-small`导航添加了一个类。

我需要导航仍然显示，以便显示我的内容。我尝试删除`hide-for-small`jquery.foundation.orbit.js 第 59 行中的包装器部分，但该类不断添加。

有谁知道如何删除它？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-09-18T16:21:42.943

你应该添加`.touch .orbit-bullets { display: block; }`到你的CSS。Foundation 4`.touch`在使用支持触摸的设备时添加了该类，该设备隐藏了轨道的子弹和箭头。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-08T19:19:06.903

Better yet, add the following to your app.css to over-ride the class:

```
.hide-for-small {
  display: block !important;
} 
```

It's more future-proof if you upgrade your Foundation someday.

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2013-02-22T06:42:06.843

更新：请参阅 jmsg1990 的答案，因为这是现在执行此操作的正确方法。

我自己也遇到了这个问题，通过打开 jquery.foundation.orbit.js 很容易解决。

**在第 60 行**：

```
directionalNavHTML: '<div class="slider-nav hide-for-small"><span class="right"></span><span class="left"></span></div>' 
```

只需像下面那样删除“hide-for-small”类，它就可以按预期工作。

```
directionalNavHTML: '<div class="slider-nav"><span class="right"></span><span class="left"></span></div>' 
```

# asp.net - IIS7.5 上的 ASP4.5 异常集合是只读错误

> ID：14198969
> 
> 赞同：3
> 
> 时间：2013-01-07T15:32:56.323
> 
> 标签：asp.net, iis-7.5, dotnetnuke

我正在使用 ASP.net 4.5 和以集成管道模式配置的 IIS（根据 DNN7 的要求）在共享主机环境中运行 Dotnetnuke7。

当我在托管服务提供商的 Win2008/IIS7 服务器 (ASP4.0) 上安装它时，应用程序运行良好，但是当我在托管服务提供商 (ASP4.5) 的 Win2008R2/IIS7.5 服务器上安装它时出现异常尝试登录或向站点提交任何内容时，集合是只读的。（例如使用 DNN 搜索功能）。请参阅下面的详细堆栈跟踪。

托管服务提供商检查了 .net 4.5 权限，并且还应用了特定于应用程序池的权限，但还没有运气。

有人知道什么 IIS7.5 参数或选项可能是这里的原因吗？

* * *

“/”应用程序中的服务器错误。

集合是只读的。

说明：执行当前 Web 请求期间发生未处理的异常。请查看堆栈跟踪以获取有关错误及其源自代码的位置的更多信息。

异常详细信息：System.NotSupportedException：集合是只读的。

源错误：

在执行当前 Web 请求期间生成了未处理的异常。可以使用下面的异常堆栈跟踪来识别有关异常起源和位置的信息。

堆栈跟踪：

```
[NotSupportedException: Collection is read-only.]    System.Collections.Specialized.NameObjectCollectionBase.BaseSet(String name, Object value) +6703734   
System.Web.HttpServerVarsCollection.SetServerVariableManagedOnly(String name, String value) +116    
System.Web.HttpServerVarsCollection.SynchronizeServerVariable(String name, String value) +28    
System.Web.HttpRequest.SynchronizeServerVariable(String name, String value) +112    System.Web.Hosting.IIS7WorkerRequest.GetServerVarChanges(HttpContext ctx) +308    System.Web.Hosting.IIS7WorkerRequest.SynchronizeVariables(HttpContext context) +9676858    System.Web.HttpRuntime.ProcessRequestNotificationPrivate(IIS7WorkerRequest wr, HttpContext context) +151 
```

版本信息：Microsoft .NET Framework 版本：4.0.30319；ASP.NET 版本：4.0.30319.17929

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2015-10-22T08:34:50.130

对于任何对此感到困惑的人-我今天遇到了这个确切的问题。

对我来说通过两个动作解决：

1.  验证 IIS 中用于 .net 4.0/4.5 等的 isapi 过滤器是否允许
2.  我已经安装了重写器模块（Helicon）。一旦我再次删除这些 ISAPI 过滤器 - 一切正常。

因此，检查**isapi-filters**是我的建议，除了所需的 .net 过滤器外，无需任何其他过滤器即可开始。

# c# - 在 C# 中读取/写入/保存 MS Word 文档

> ID：14198970
> 
> 赞同：1
> 
> 时间：2013-01-07T15:32:56.600
> 
> 标签：c#, .net, ms-word

我必须使用 c# 打开一个 word 文档并在该文档中进行一些更改并再次保存。文档将有很多表格和样式。例如，我必须逐页处理该文档。我必须将所有斜体更改为正常，将所有大写字母更改为小写字母，并仅将更改保存到该文档，而不会影响文档的样式和对齐方式或格式。

在 c# .net 中这可能吗？请让我知道根据我的要求有任何可用的教程。基本上我是一名 Java 开发人员，最近搬到了 c#。过去两天我用谷歌搜索，我没有得到任何正确的数据。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-07T15:49:14.657

就个人而言，我使用 Aspose.NET。但该组件不是免费的。如果您需要免费的东西，我还可以推荐 Microsoft Open XML Library：http:
[//blogs.msdn.com/b/ericwhite/archive/2008/04/22/using-the-open-xml-sdk.aspx](http://blogs.msdn.com/b/ericwhite/archive/2008/04/22/using-the-open-xml-sdk.aspx)

我不会像 Jim 建议的那样使用 Office Interop。服务器不是很稳定。

# qt - QCompare 的未定义符号

> ID：14198972
> 
> 赞同：7
> 
> 时间：2013-01-07T15:33:00.327
> 
> 标签：qt, qtestlib

使用 QTestLib 构建测试时，我收到一个`qCompare`函数的“未定义符号”错误：

```
Undefined symbols for architecture x86_64:
  "__ZN5QTest8qCompareIimEEbRKT_RKT0_PKcS8_S8_i", referenced from:
      __ZN15MyTestClass22myTestFunctionEv in MyTestClass.o 
```

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-01-07T15:33:00.327

`c++filt`您可以通过在 shell 命令中传递损坏的符号来破译它：

```
echo __ZN5QTest8qCompareIimEEbRKT_RKT0_PKcS8_S8_i | c++filt 
```

...它打印一个 C++ 函数签名，如下所示：

```
bool QTest::qCompare<int, unsigned long>(int const&, unsigned long const&, char const*, char const*, char const*, int) 
```

宏的两个参数`QCOMPARE`——即`qCompare`函数的两个模板参数——必须具有完全相同的类型。例如，如果一个是 an`int`而另一个是 a ，则会出现错误`size_t`。

# java - 在 Jenkins 中使用 Eclipse 编译器获取编译器警告/错误

> ID：14198977
> 
> 赞同：11
> 
> 时间：2013-01-07T15:33:18.287
> 
> 标签：java, eclipse, ant, coding-style, jenkins

我想在我的 Jenkins Job 中显示 eclipse 编译器警告。我知道使用 ant javac 适配器可以使用 Eclipse 编译器。这样在使用 ant 时会显示 Eclipse 编译器警告。问题是当我在 Jenkins 中使用 ant 脚本时，他忽略了 javac 设置，只使用普通编译器。

有没有人尝试在 jenkins 中使用 eclipse 编译器并收到编译器警告？甚至可能将编译器警告发送给声纳？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-06-20T20:05:54.847

在 Eclipse 编译器[ant javac 适配器](http://help.eclipse.org/juno/index.jsp?topic=/org.eclipse.jdt.doc.user/tasks/task-ant_javac_adapter.htm&cp=1_3_8_1 "Eclipse 文档 - 使用 ant javac 适配器")出现问题后，我在单独的目标中使用[批处理编译器来生成 Eclipse 警告。](http://help.eclipse.org/juno/index.jsp?topic=/org.eclipse.jdt.doc.user/tasks/task-using_batch_compiler.htm "Eclipse 文档 - 使用批处理编译器")然后我使用[警告插件](https://wiki.jenkins-ci.org/display/JENKINS/Warnings+Plugin)来解析 Jenkins 中生成的编译器警告。

批处理编译器方便地打包在一个单独的 jar 中，可在 Eclipse 项目[下载页面](http://download.eclipse.org/eclipse/downloads/drops4/R-4.2.2-201302041200/)上的“JDT Core Batch Compiler”部分下载，也可以在公共 maven 存储库中作为[Eclipse ECJ](http://mvnrepository.com/artifact/org.eclipse.jdt.core.compiler/ecj)获得。

如果您已将 ecj jar 暂存到`ecj.dir`，则可以利用以下构建脚本来生成 Eclipse 警告，

### 构建.xml

```
<?xml version="1.0" encoding="UTF-8" ?>
<project name="some-project" default="eclipse-warnings" basedir=".">
    <target name="eclipse-warnings" depends="init">        
        <property name="ecj.log.dir" value="${build.dir}/ecj" />
        <property name="ecj.warnings.file" value="${ecj.log.dir}\eclipse_compiler_out.txt"/>
        <delete dir="${ecj.log.dir}" />
        <mkdir  dir="${ecj.log.dir}" />

        <property name="ecj.properties" value="${basedir}\etc\ecj\eclipse_compiler.properties" />                

        <!-- Redirect output to tempfile if you don't want results also on console -->
        <tempfile property="ecj.output.tempfile" suffix=".log" deleteonexit="true" />

        <echo message="Generating Eclipse warnings to ${ecj.warnings.file}" />        
        <java 
            jar="${ecj.dir}/ecj.jar"
            fork="true"
            maxmemory="512m"
            output="${ecj.output.tempfile}">

            <arg value="-cp" />
            <arg value="${toString:compile.classpath}" />
            <arg value="-d" />
            <arg value="none" />
            <arg value="-enableJavadoc" />
            <arg value="-log" />
            <arg value="${ecj.warnings.file}" />            
            <arg value="-${javac.source.version}" />
            <arg value="-properties" />
            <arg value="${ecj.properties}" />
            <arg value="${src.dir}" />
            <arg value="${test.dir}" />            
        </java>

        <!-- Echo number of warnings found -->
        <loadfile srcfile="${ecj.warnings.file}" property="ecj.warnings.file.summary">
            <filterchain>
                <tailfilter lines="1" />
            </filterchain>
        </loadfile>
       <echo message="${ecj.warnings.file.summary}" />
    </target>    
</project> 
```

`eclipse_compiler.properties`包含编译器警告/错误设置，可以从项目`.settings/org.eclipse.jdt.core.prefs`文件中复制或在[`CompilerOptions`](http://grepcode.com/file/repo1.maven.org/maven2/org.eclipse.jdt.core.compiler/ecj/4.2.1/org/eclipse/jdt/internal/compiler/impl/CompilerOptions.java#CompilerOptions "grepcode.com - ECJ 4.2.1 - CompilerOptions")类中定义。

### eclipse_compiler.properties

```
#Eclipse compiler warnings and errors
org.eclipse.jdt.core.compiler.problem.unusedObjectAllocation=warning
org.eclipse.jdt.core.compiler.problem.redundantNullCheck=warning
org.eclipse.jdt.core.compiler.problem.fallthroughCase=warning
org.eclipse.jdt.core.compiler.problem.possibleAccidentalBooleanAssignment=warning
org.eclipse.jdt.core.compiler.problem.emptyStatement=warning
org.eclipse.jdt.core.compiler.problem.enumIdentifier=error
org.eclipse.jdt.core.compiler.problem.missingSynchronizedOnInheritedMethod=warning
org.eclipse.jdt.core.compiler.problem.assertIdentifier=error
org.eclipse.jdt.core.compiler.problem.missingHashCodeMethod=warning
org.eclipse.jdt.core.compiler.problem.missingOverrideAnnotation=warning
org.eclipse.jdt.core.compiler.problem.unnecessaryTypeCheck=warning
org.eclipse.jdt.core.compiler.problem.potentiallyUnclosedCloseable=warning
org.eclipse.jdt.core.compiler.problem.unclosedCloseable=warning 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-07T16:33:54.407

如果您希望使用与 ant 提供的编译器接口不同的编译器接口，您可以编写一个实现该`CompilerAdapter`接口的类（包 org.apache.tools.ant.taskdefs.compilers）。

`build.compiler`在属性或属性中提供完整的类名`compiler`。

这应该工作

# excel - matlab xlsread打开文件并清理

> ID：14198978
> 
> 赞同：4
> 
> 时间：2013-01-07T15:33:21.110
> 
> 标签：excel, matlab, resource-cleanup

我在一个 1.4 MB 的 excel 文件上使用 xlsread。运行我的 m 代码几次后，我开始注意到一些奇怪的行为。

*   我无法使用双击打开 excel 文件（只能使用 matlab）
*   2 LARGE (30Mb) EXCEL.EXE*32 文件在清除前打开每个 m 代码运行（我调用该函数 2 次）

我觉得 matlab 没有清理它的文件句柄。我使用角到角的更新代码读取使用以下两行读取数据

```
prs = xlsread(file, 'data2','A2:C550');
elm = xlsread(file, 'element','A2:C65536'); 
```

调用这两个函数后，任务管理器会显示两个大的 EXCEL.EXE*32 文件。我试过

```
clear
clear all
close all
fclose('all')
fclose(0); fclose(1); fclose(2) 
```

等我关闭了matlab，它们仍然打开。

尝试重新启动但没有结果后又进行了一些窥探。

xlsread 使用 excel 填充看似服务器的内容以读取信息

```
Excel = actxserver('excel.application'); 
```

清理看起来应该在这里发生

```
cleanUp = onCleanup(@()xlsCleanup(Excel, file));        
[numericData, textData, rawData, customOutput] = xlsreadCOM(file, sheet, range, Excel, customFun); 
```

其次是

```
clear cleanUp; 
```

稍后在节目中。研究表明这应该运行一个名为 xlsCleanup 的清理函数。将文件复制到此处以供参考。

```
function xlsCleanup(Excel, filePath)
    try %#ok<TRYNC> - Suppress any exception
        %Turn off dialog boxes as we close the file and quit Excel.
        Excel.DisplayAlerts = 0; 
        %Explicitly close the file just in case.  The Excel API expects
        %just the filename and not the path.  This is safe because Excel
        %also does not allow opening two files with the same name in
        %different folders at the same time.
        [~, n, e] = fileparts(filePath);
        fileName = [n e];
        Excel.Workbooks.Item(fileName).Close(false);
    end
    Excel.Quit;
end 
```

首先，它很讨厌它在没有警报的情况下捕获异常。我检查了，但代码没有抛出异常。看来这条线

```
Excel.Workbooks.Item(fileName).Close(false); 
```

只是没有结束这个过程。我不知道是什么导致了这个功能之外的问题（不能再介入了），并且网络上也没有提到它的问题。请帮我解释这种行为。占据了我所有的记忆

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-07T15:38:53.857

范围参数也适用于角落。从以下文档[`xlsread`](http://www.mathworks.com/help/matlab/ref/xlsread.html)：

```
num = xlsread(filename,sheet,xlRange) 
```

> 使用语法“C1:C2”指定 xlRange，其中 C1 和 C2 是定义要读取的区域的两个相对角。例如，“D2:H4”表示工作表上两个角 D2 和 H4 之间的 3×5 矩形区域。xlRange 输入不区分大小写，并使用 Excel A1 参考样式（请参阅 Excel 帮助）。

这意味着你可以这样做：

```
xlsread(file, 'element', 'A2:C65536'); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2014-03-13T09:12:21.210

这对我有用。

```
system('taskkill /F /IM EXCEL.EXE'); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-30T18:33:17.513

仍然没有解决matlab问题。这就是我用来关闭在运行我的文件几次后仍然打开的百万个进程的方法。

在 Cygwin 中：

```
ps -W | grep EXCEL | cut -c -9 | xargs /bin/kill -f 
```

# python - Python 继承、元类和 type() 函数

> ID：14198979
> 
> 赞同：10
> 
> 时间：2013-01-07T15:33:22.687
> 
> 标签：python, class, python-import, abc

我不明白为什么以下代码会以特定方式运行，如下所述：

```
from abc import ABCMeta   

class PackageClass(object):
    __metaclass__ = ABCMeta        

class MyClass1(PackageClass):
    pass

MyClass2 = type('MyClass2', (PackageClass, ), {})

print MyClass1
print MyClass2

>>> <class '__main__.MyClass1'> 
>>> <class 'abc.MyClass2'> 
```

为什么`repr(MyClass2)`说`abc.MyClass2`（这是不正确的）？谢谢！

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-01-07T16:03:07.590

问题源于在那里`ABCMeta`重写`__new__`并调用其超类构造函数 ( `type()`) 的事实。^(从调用上下文1)中为新类`type()`派生；在这种情况下，调用似乎来自模块。因此，新类已设置为（因为无法知道实际的类构造发生在）。`__module__`^(`type``abc``__module__``abc``type()``__main__`)

简单的方法是`__module__`在创建类型后设置自己：

```
MyClass2 = type('MyClass2', (PackageClass, ), {})
MyClass2.__module__ = __name__ 
```

我还建议提交错误报告。

相关：[基元类覆盖 __new__ 生成具有错误 __module__](https://stackoverflow.com/questions/11209521/base-metaclass-overriding-new-generates-classes-with-a-wrong-module)的类，[元类的奇怪继承](https://stackoverflow.com/questions/12124129/weird-inheritance-with-metaclasses)

1:`type`是在 C 中定义的类型对象。它的[new 方法](http://hg.python.org/cpython/file/9009178e08d9/Objects/typeobject.c#l1978)使用当前全局`__name__`作为`__module__`，*除非*它调用元类构造函数。

# vba - Excel 宏错误 - “未定义用户定义的类型” - 参考变灰

> ID：14198983
> 
> 赞同：1
> 
> 时间：2013-01-07T15:33:25.927
> 
> 标签：vba, excel

所以我创建了这段代码（可能甚至不必显示它 - 但以防万一！），因为我在第一行得到“用户定义的类型未定义”，所以无法对其进行测试。我看到我应该在工具>参考中设置参考，但该选项是灰色的...。

```
Sub UploadDistributors()
Dim cnn As ADODB.Connection
Dim rs As ADODB.Recordset
Set cnn = New ADODB.Connection
Set rs = New ADODB.Recordset

strConn = "Provider=SQLOLEDB-Removed for security-Network Library=DBMSSOCN"

cnn.Open strConn 

Dim k
k = 0

   For i = 1 To 352

   sSQL = "INSERT INTO DistributorsNP (CompanyName, address, city, state, zip, phone,    tollfree) VALUES ("

    'CompanyName
    sSQL = sSQL & Sheet1.Range("B" & i).Value & ","
    'address
    sSQL = sSQL & Sheet1.Range("C" & i).Value & ","
    'city
    sSQL = sSQL & Sheet1.Range("D" & i).Value & ","
    'state
    sSQL = sSQL & Sheet1.Range("E" & i).Value & ","
    'zip
    sSQL = sSQL & Sheet1.Range("F" & i).Value & ","
    'phone
    sSQL = sSQL & Sheet1.Range("G" & i).Value & ","
    'tollfree
    sSQL = sSQL & Sheet1.Range("H" & i).Value & ","

sSQL = sSQL & ")"
rs.Open sSQL, cnn, adOpenStatic, adLockReadOnly, adCmdText

rs.Close

Next

End Sub 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-07T15:47:36.747

猜你已经在编辑器中按下停止并且不再处于中断模式......？

# linux - 从 bash 脚本发布肥皂信封

> ID：14198986
> 
> 赞同：1
> 
> 时间：2013-01-07T15:33:42.980
> 
> 标签：linux, bash, soap

我将如何通过 bash 脚本发布以下肥皂信封。

在 PHP 中我会使用 cURL 发布但不知道如何翻译成 bash？

```
<?xml version="1.0" encoding="utf-8" ?>
<env:Envelope xmlns:env="http://www.w3.org/2003/05/soap-envelope">
  <env:Header>
    <n:Request xmlns:n="http://www.****.com/iprs/soap" env:role="http://www.w3.org/2003/05/soap-envelope/role/ultimateReceiver" env:mustUnderstand="true">UserMod</n:Request>
  </env:Header>
  <env:Body>
    <n:RequestUserMod xmlns:n="http://www.****.com/iprs/soap">
      <n:UserID>****</n:UserID>
      <n:UserData >
        <n:SystemName>****</n:SystemName>
        <n:AdminState>enabled</n:AdminState>
        <n:CategoryTypeID>****</n:CategoryTypeID>
        <n:Permissions>****</n:Permissions>
        <n:BillingProgID>****</n:BillingProgID>
        <n:DefaultGroupID>****</n:DefaultGroupID>
        <n:PrimarySiteID>****</n:PrimarySiteID>
        <n:SecondarySiteID>****</n:SecondarySiteID>
        <n:ContactInfo></n:ContactInfo>
        <n:Password>****</n:Password>
      </n:UserData>
    </n:RequestUserMod>
  </env:Body>
</env:Envelope> 
```

如果可能的话，我还想检测响应，应该是：

```
HTTP/1.1 200 OK
Content-Type:application/soap+xml; charset="utf-8"
Content-Length:509

<?xml version="1.0" encoding="UTF-8"?><env:Envelope xmlns:env="http://www.w3.org/2003/05/soap-envelope"><env:Header>
<n:Response xmlns:n="http://www.*****.com/iprs/soap" env:role="http://www.w3.org/2003/05/soap-envelope/role/ultimateReceiver" env:mustUnderstand="true">UserMod</n:Response>
</env:Header>
<env:Body>
<n:ResponseUserMod xmlns:n="http://www.*****.com/iprs/soap">
<n:StatusReport>
<n:Code>ok</n:Code>
<n:SubCode>0</n:SubCode>
</n:StatusReport>
</n:ResponseUserMod>
</env:Body>
</env:Envelope> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-07T16:15:08.667

也许像这样？

```
curl --data - --request "POST" "http://www.somesite.com" <<EOF

<?xml version="1.0" encoding="utf-8" ?>
<env:Envelope xmlns:env="http://www.w3.org/2003/05/soap-envelope">
  <env:Header>
    <n:Request xmlns:n="http://www.****.com/iprs/soap" env:role="http://www.w3.org/2003/05/soap-envelope/role/ultimateReceiver" env:mustUnderstand="true">UserMod</n:Request>
  </env:Header>
  <env:Body>
    <n:RequestUserMod xmlns:n="http://www.****.com/iprs/soap">
      <n:UserID>****</n:UserID>
      <n:UserData >
        <n:SystemName>****</n:SystemName>
        <n:AdminState>enabled</n:AdminState>
        <n:CategoryTypeID>****</n:CategoryTypeID>
        <n:Permissions>****</n:Permissions>
        <n:BillingProgID>****</n:BillingProgID>
        <n:DefaultGroupID>****</n:DefaultGroupID>
        <n:PrimarySiteID>****</n:PrimarySiteID>
        <n:SecondarySiteID>****</n:SecondarySiteID>
        <n:ContactInfo></n:ContactInfo>
        <n:Password>****</n:Password>
      </n:UserData>
    </n:RequestUserMod>
  </env:Body>
</env:Envelope>

EOF 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-07T17:32:01.053

发布：

```
cat file | curl ... 
```

但是要检索结果并根据它采取行动，请将其全部嵌入`expect`脚本中。

# android - 杀死用户在会话期间打开的所有应用程序

> ID：14198987
> 
> 赞同：0
> 
> 时间：2013-01-07T15:33:44.657
> 
> 标签：android, launcher

我正在为硬件演示目的创建一个 Android 启动器。假设有人点击一个按钮，启动器将允许用户测试设备 5 分钟。之后，启动器将杀死用户打开的所有应用程序，以及所有用户信息和历史记录，将设备恢复到原始状态。

最好的方法是如何做到这一点？我知道如何创建启动器并在一段时间内阻止和解锁界面，但不知道用户使用了哪些应用程序以便我可以杀死它们。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-07T15:39:20.410

您可能必须返回到已知的***干净***状态，删除用户可能输入的所有数据，而不仅仅是杀死他们可能已经启动的应用程序。重新启动到已知状态（**清除用户数据**）是您最安全的选择。

# java - 尝试捕获异常（int 中的字母）

> ID：14198988
> 
> 赞同：0
> 
> 时间：2013-01-07T15:33:47.443
> 
> 标签：java, exception

当我尝试将字母输入字符串时，我正在尝试使用 try catch 结构来显示错误。我应该为此使用哪个例外？控制台向我显示 InputMismatchException 但这不起作用。

有效的输入：

`beginnen = 1`

输入无效：

`beginnen = a`

它显然不起作用，因为我将一个字符串放入一个 int 中，我只想在发生这种情况时显示一条消息

```
int beginnen;
String error = "Something went wrong";
try {
   beginnen = Input.readInt();
}
   catch (InputMismatchException IME) {
        System.out.println(error);
   } 
```

出现的错误：

```
Exception in thread "main" java.util.InputMismatchException 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-07T15:42:31.373

如果文档模糊不清，请使用实验：

```
 try {
   beginnen = Input.readInt();
 } catch (Throwable x) {
     System.err.println("Catched "+x.getClass().getName());
 } 
```

这将为您打印确切的类名，您可以稍后更改代码以捕获此类的异常。这也会为您显示，也许实际上没有抛出任何东西。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-07T15:38:18.863

您的**Try/Catch**表达式对我来说看起来不错，但是您错误地引用了**error**，它没有在任何地方定义。

尝试将其更改为`System.out.println(IME.getMessage());`

# ios - iOS：UIVIew 触摸代表与单击识别器

> ID：14198990
> 
> 赞同：0
> 
> 时间：2013-01-07T15:33:54.477
> 
> 标签：ios, uiview, uitapgesturerecognizer, touchesbegan, touchesmoved

我正在处理`Touches`代表和`UITapGestureRecognizer`单击。以下是方法。当我单击我的视图时，我得到三个事件，顺序为`TouchesBegan`、`SingleTap`和`TouchesEnded`。`TouchesEnded`当我检测到时，是否有停止事件`SingleTap`？基本上我不想在没有发生的情况下执行`TouchesEnded`任务`TouchesMoved`。我已经使用 failTouchEnded BOOL 变量完成了这项工作，`SingleTap`并在 TouchesEnded 中对其进行了检查，但不确定这是否是个好主意！

```
 - (void)touchesBegan:(NSSet *)touches withEvent:(UIEvent *)event {

    }

    - (void)touchesMoved:(NSSet *)touches withEvent:(UIEvent *)event {
          failTouchEnded = NO;
    }

    - (void)touchesEnded:(NSSet *)touches withEvent:(UIEvent *)event {
          if(failTouchEnded) return;

    }

    - (void)GestureView:(GestureView*)view handleSignleTap:(UITapGestureRecognizer*)recognizer {
          failTouchEnded = YES;
    } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-07T17:15:08.670

手势识别器有一个属性 cancelsTouchesInView。如果是 YES（这是默认值），如果手势识别器识别出手势，则取消触摸。因此，您将取消触摸而不是结束触摸。如果不是 YES，您也应该将 delaysTouchesEnded 设置为 YES