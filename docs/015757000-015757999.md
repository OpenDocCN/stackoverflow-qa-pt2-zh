# StackOverflow 问答 15757000-15757999

# iphone - 我如何在图片 iphone sdk 中找到面孔数量

> ID：15757006
> 
> 赞同：0
> 
> 时间：2013-04-02T05:46:51.190
> 
> 标签：iphone, xcode

我正在制作一个基于图像编辑的虚拟项目。在这个项目中我想

计算该特定图片中存在的人数，被相机点击或使用的人数

通过 iPhone 图片库。有谁知道这怎么可能。我没有

主意。`Any help would be appropriated.`

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-02T05:52:08.897

为此，您需要实现几个类... [Face Wrapper](https://github.com/sergiomtzlosa/faceWrapper-iphone)。

这也是人脸检测的一部分，所以你应该研究一下。希望这个小贴士有帮助！！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-02T05:53:10.397

检查此代码。您必须导入以下内容：- CoreImage/CoreImage.h CoreImage/CoreImage.h 之后使用代码：-

```
-(void)markFaces:(UIImageView *)facePicture
    {
    // draw a CI image with the previously loaded face detection picture
    CIImage* image = [CIImage imageWithCGImage:facePicture.image.CGImage];

    // create a face detector - since speed is not an issue we'll use a high accuracy
    // detector
    CIDetector* detector = [CIDetector detectorOfType:CIDetectorTypeFace 
                                              context:nil options:[NSDictionary dictionaryWithObject:CIDetectorAccuracyHigh forKey:CIDetectorAccuracy]];

    // create an array containing all the detected faces from the detector    
    NSArray* features = [detector featuresInImage:image];

    // we'll iterate through every detected face.  CIFaceFeature provides us
    // with the width for the entire face, and the coordinates of each eye
    // and the mouth if detected.  Also provided are BOOL's for the eye's and
    // mouth so we can check if they already exist.
    for(CIFaceFeature* faceFeature in features)
    {
        // get the width of the face
        CGFloat faceWidth = faceFeature.bounds.size.width;

        // create a UIView using the bounds of the face
        UIView* faceView = [[UIView alloc] initWithFrame:faceFeature.bounds];

        // add a border around the newly created UIView
        faceView.layer.borderWidth = 1;
        faceView.layer.borderColor = [[UIColor redColor] CGColor];

        // add the new view to create a box around the face
        [self.window addSubview:faceView];

        if(faceFeature.hasLeftEyePosition)
        {
            // create a UIView with a size based on the width of the face
            UIView* leftEyeView = [[UIView alloc] initWithFrame:CGRectMake(faceFeature.leftEyePosition.x-faceWidth*0.15, faceFeature.leftEyePosition.y-faceWidth*0.15, faceWidth*0.3, faceWidth*0.3)];
            // change the background color of the eye view
            [leftEyeView setBackgroundColor:[[UIColor blueColor] colorWithAlphaComponent:0.3]];
            // set the position of the leftEyeView based on the face
            [leftEyeView setCenter:faceFeature.leftEyePosition];
            // round the corners
            leftEyeView.layer.cornerRadius = faceWidth*0.15;
            // add the view to the window
            [self.window addSubview:leftEyeView];
        }

        if(faceFeature.hasRightEyePosition)
        {
            // create a UIView with a size based on the width of the face
            UIView* leftEye = [[UIView alloc] initWithFrame:CGRectMake(faceFeature.rightEyePosition.x-faceWidth*0.15, faceFeature.rightEyePosition.y-faceWidth*0.15, faceWidth*0.3, faceWidth*0.3)];
            // change the background color of the eye view
            [leftEye setBackgroundColor:[[UIColor blueColor] colorWithAlphaComponent:0.3]];
            // set the position of the rightEyeView based on the face
            [leftEye setCenter:faceFeature.rightEyePosition];
            // round the corners
            leftEye.layer.cornerRadius = faceWidth*0.15;
            // add the new view to the window
            [self.window addSubview:leftEye];
        }

        if(faceFeature.hasMouthPosition)
        {
            // create a UIView with a size based on the width of the face
            UIView* mouth = [[UIView alloc] initWithFrame:CGRectMake(faceFeature.mouthPosition.x-faceWidth*0.2, faceFeature.mouthPosition.y-faceWidth*0.2, faceWidth*0.4, faceWidth*0.4)];
            // change the background color for the mouth to green
            [mouth setBackgroundColor:[[UIColor greenColor] colorWithAlphaComponent:0.3]];
            // set the position of the mouthView based on the face
            [mouth setCenter:faceFeature.mouthPosition];
            // round the corners
            mouth.layer.cornerRadius = faceWidth*0.2;
            // add the new view to the window
            [self.window addSubview:mouth];
        }
    }
    }

    -(void)faceDetector
    {
    // Load the picture for face detection
    UIImageView* image = [[UIImageView alloc] initWithImage:[UIImage imageNamed:@"facedetectionpic.jpg"]];

    // Draw the face detection image
    [self.window addSubview:image];

    // Execute the method used to markFaces in background
    [self performSelectorInBackground:@selector(markFaces:) withObject:image];

    // flip image on y-axis to match coordinate system used by core image
    [image setTransform:CGAffineTransformMakeScale(1, -1)];

    // flip the entire window to make everything right side up
    [self.window setTransform:CGAffineTransformMakeScale(1, -1)];
    }

     - (BOOL)application:(UIApplication *)application didFinishLaunchingWithOptions:(NSDictionary *)launchOptions
    {
    self.window = [[UIWindow alloc] initWithFrame:[[UIScreen mainScreen] bounds]];
    // Override point for customization after application launch.
    self.viewController = [[ViewController alloc] initWithNibName:@"ViewController" bundle:nil];
    self.window.rootViewController = self.viewController;
    [self.window makeKeyAndVisible];
    [self faceDetector]; // execute the faceDetector code

    return YES;
    } 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-02T06:38:06.517

您可以在 iOS 中使用 CoreImage 轻松实现人脸检测技术。 [人脸检测教程](http://maniacdev.com/2011/11/tutorial-easy-face-detection-with-core-image-in-ios-5/)

# javascript - html5中的画布图像大小

> ID：15757007
> 
> 赞同：1
> 
> 时间：2013-04-02T05:46:52.620
> 
> 标签：javascript, html, image, canvas

```
var canvas = document.getElementById("canvasPnl");
var context = canvas.getContext('2d');
var locationtxt = "Latitude: " + position.coords.latitude + ", Longitude: " + position.coords.longitude;
var imageObj = new Image();
imageObj.src = document.getElementById("tempImg").src;
imageObj.onload = function () {
    var x = 188;
    var y = 30;
    var width = 200;
    var height = 137;
    context.drawImage(imageObj, x, y, width, height);
    context.font = "20pt Calibri";
    context.fillText(locationtxt, 40, 40);
}; 
```

```
<canvas id="canvasPnl" width="132" height="120" style="border:0px solid #d3d3d3;"></canvas> 
```

图像的大小变得越来越大，它不适合画布，并且图像也被旋转了。

如何在画布中获取原始图像？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-02T06:11:35.630

Ok, take a look at your reworked code below.

Notice "imageObj.src = document.getElementById("tempImg").src;" must go **after** imageObj.onload.

I have no access to your locationtxt or your tempImg, so I assume you are sure they are not the source of your problem.

This line of code will take an image of ANY size and force it to fit in your specified canvas size by scaling it. When it scales, you may get image distortion if your canvas size is not proportional to your image size.

```
context.drawImage(imageObj,0,0,imageObj.width,imageObj.height,0,0,canvas.width,canvas.height); 
```

Here is your code -- just modified a bit :)

```
var canvas = document.getElementById("canvasPnl");
var context = canvas.getContext('2d');
var locationtxt = "Latitude: " + position.coords.latitude + ", Longitude: " + position.coords.longitude;
var imageObj = new Image();
imageObj.onload = function () {
    context.drawImage(imageObj,0,0,imageObj.width,imageObj.height,0,0,canvas.width,canvas.height);
    context.font = "20pt Calibri";
    context.fillText(locationtxt, 40, 40);
};
imageObj.src = document.getElementById("tempImg").src; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-04-15T10:34:26.063

```
<html>
<head>
    <title></title>
</head>
<style type="text/css">
#mycanvas
{
border: 1px solid black;
}
</style>
<script type="text/javascript">
window.addEventListener('load', function () {
  var img = new Image, ctx = document.getElementById('myCanvas').getContext('2d');
  var img1=new Image;
  img.src = 'ship.png';
  img1.src='3D025.jpg';
  img.addEventListener('load', function () {
     var width = img.naturalWidth; // this will be 300
  var height = img.naturalHeight; // this will be 400

    var interval = setInterval(function() {
      var x = 260, y = 0;

      return function () {
        ctx.clearRect(0, 0, ctx.canvas.width, ctx.canvas.height);
        ctx.drawImage(img1, 0, y);
        ctx.drawImage(img, x, 300,width,height);

        x += 1;
        if (x > ctx.canvas.width) {
          x = 260;
         width=width-10;
         height=height-10;
         ctx.drawImage(img, x, 300,width,height);
        }
        if (x == 750) {
          x = 260;

        }
      };
    }(), 1000/40);
  }, false);
}, false);

</script>

<body>

<canvas id="myCanvas" height="600" width="1000"></canvas>

</body>
</html> 
```

# android - 有没有办法让对讲说话？

> ID：15757008
> 
> 赞同：1
> 
> 时间：2013-04-02T05:46:58.773
> 
> 标签：android, accessibility, talkback

在使我的应用程序可访问时，我遇到了一个问题 - 没有办法让它说话！

通过引用谷歌的图书馆，我

```
public boolean dispatchPopulateAccessibilityEvent(AccessibilityEvent event) 
```

在我的自定义视图上，我得到了正确的事件消息 - 我使用 Log.d 检查了它
但是，没有办法让对讲说话......
我的应用程序从 API8 运行，所以我也不能使用，

```
onPopulateAccessibilityEvent() 
```

我想错了吗？请有人帮我...

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2019-09-13T19:44:33.143

对于希望在 Java 中实现 @Carter Hudson 代码的人（不要评判我，因为我在 2019 年仍然没有使用 Kotlin）：

```
AccessibilityManager accessibilityManager = (AccessibilityManager) context.getSystemService(Context.ACCESSIBILITY_SERVICE);
AccessibilityEvent accessibilityEvent = AccessibilityEvent.obtain();
accessibilityEvent.setEventType(AccessibilityEvent.TYPE_ANNOUNCEMENT);

accessibilityEvent.getText().add("Text to be spoken by TalkBack");
if (accessibilityManager != null) {
    accessibilityManager.sendAccessibilityEvent(accessibilityEvent);
} 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2018-04-27T19:50:02.383

`RecyclerView`在使用新数据集重新加载 a 的项目后，我需要宣布按钮何时可见。`RecyclerView`作为一个框架视图，它支持开箱即用的对讲/可访问性。加载新数据后，对讲会自动宣布“显示项目 x 到 y 的 z”。利用 TTS API 解决我提到的用例会引入以下陷阱：

*   TTS 实例初始化和管理繁琐且值得商榷，原因如下：
    *   使用 onInit 监听器管理 TTS 实例生命周期
    *   管理区域设置
    *   `shutdown()`通过将您与`Activity`每个文档的生命周期联系起来管理资源
    *   [不能保证调用 Activity 的 onDestroy](https://stackoverflow.com/questions/18361719/android-activity-ondestroy-is-not-always-called-and-if-called-only-part-of-the)，这似乎是一种糟糕的调用机制`shutdown()`以释放 TTS 资源。

一个更简单、更易于维护的解决方案是很好地使用 TalkBack 并使用 Accessibility API，如下所示：

```
class AccessibilityHelper {
    companion object {
        @JvmStatic
        fun announceForAccessibility(context: Context, announcement: String) {
            context
                .getSystemService(ACCESSIBILITY_SERVICE)
                .let { it as AccessibilityManager }
                .let { manager ->
                    AccessibilityEvent
                        .obtain()
                        .apply {
                            eventType = TYPE_ANNOUNCEMENT
                            className = context.javaClass.name
                            packageName = context.packageName
                            text.add(announcement)
                        }
                        .let {
                            manager.sendAccessibilityEvent(it)
                        }
                }
        }
    }
} 
```

从您需要的任何地方调用上述内容（我在我的基础活动中添加了一个方法，该方法转发给了助手）。这会将公告插入到消息队列中，以便 TalkBack 大声宣布，并且不需要处理 TTS 实例。我最终在我的最终实现中添加了延迟参数和机制，以将这些事件与正在进行的 ui 触发事件分开，因为它们有时会覆盖手动通知。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-02T05:53:51.080

如果您想让它说话，请使用 TextToSpeech API。它需要一个字符串并大声读出它。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2019-10-29T22:57:32.310

`announceForAccessibility`View 类中定义的方法可能在这里起到了作用。它是在 API 级别 16 中引入的。更多详细信息请[点击此处](https://developer.android.com/reference/android/view/View.html#announceForAccessibility(java.lang.CharSequence))。

# ruby-on-rails - 如何从 ruby -on-rails 中的多个复选框中读取值

> ID：15757013
> 
> 赞同：0
> 
> 时间：2013-04-02T05:47:29.857
> 
> 标签：ruby-on-rails, checkbox

如何从 rails 中的复选框读取值。

假设我有品牌和产品。在品牌表下，我有 3 个品牌，比如耐克、锐步和彪马。当没有选中任何复选框时，它应该显示所有产品，例如衬衫、裤子、裙子。如果选择了耐克品牌，则应仅显示与耐克相关的产品。此外，用户应有权选择1个以上的品牌，并且我们应该能够显示相应的产品详细信息。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-02T07:55:08.137

从概念上讲，你所做的很像创建一个充当搜索引擎的表单（Ryan Bates 做了很棒的屏幕投射，如果你迷路了可以帮助你 [http://railscasts.com/episodes/37-simple-search-形式](http://railscasts.com/episodes/37-simple-search-form)）。该表单不输入文本，而是使用复选框来创建用户想要查看的品牌数组。

首先创建表格

```
<%= form_tag your_path_here_path, method: :get do %>

<%= label_tag :Nike %>
<%= check_box_tag 'brands[]', '1' #assuming 1 is the id of the Nike brand%>

<%= label_tag :Reebok %>
<%= check_box_tag 'brands[]', '2'%>

<%= label_tag :Puma %>
<%= check_box_tag 'brands[]', '3'%>

<%= submit_tag 'Get Products'%>
<%- end %> 
```

然后在处理此请求的控制器中搜索与品牌匹配的产品，如下所示

```
Products.where('brand_id IN (?)', params[:brands]) 
```

走得更远一点。人们使用 JS 来解决这些类型的问题，这样当用户检查不同的品牌时，产品会自动重新加载到页面上，而无需用户点击提交按钮。

这可以通过编写一个 JQuery 函数来完成，该函数侦听检查品牌复选框上的事件，然后

1) 在后台进行 Ajax 调用以获取所有相关产品 2) 删除页面上您当前不需要的所有产品 3) 显示所有新产品。

如果您不了解任何 JQuery，这个项目可能是开始学习的一种有趣方式。同样，railscasts 可以帮助[http://railscasts.com/episodes/136-jquery](http://railscasts.com/episodes/136-jquery)

# java - isInstance & instanceof - 为什么没有通用方法？

> ID：15757014
> 
> 赞同：5
> 
> 时间：2013-04-02T05:47:30.433
> 
> 标签：java, class, object, rtti

我了解这两者的用法和动机 - isInstance 是运行时等效于 instanceOf。但是，为什么我们有两种方法？为什么我们不能有一个适用于这两种情况的 instanceof 关键字的通用实现？

例如，这是当前使用这些的方式：

## 1）实例

```
public Collection<String> extract(Collection<?> coll) {
    Collection<String> result = new ArrayList<String>();
    for (Object obj : coll) {
      if (obj instanceof String) {
        result.add((String) obj);
      }
    }
    return result;
} 
```

## 2)isInstance

```
public <T> Collection<T> extract(Collection<?> coll, Class<T> type) {
    Collection<T> result = new ArrayList<T>();
    for (Object obj : coll) {
      if (type.isInstance(obj)) {
        result.add((T) obj);
      }
    }
    return result;
} 
```

所以，我的问题是为什么我们不能有一个满足上面第二个例子的 instanceof 运算符的通用实现，如下所示？（即为什么它不能在运行时解析类型？）

```
public <T> Collection<T> extract(Collection<?> coll, Class<T> type) {
    Collection<T> result = new ArrayList<T>();
    for (Object obj : coll) {
      if (obj instanceof type) {
        result.add((T) obj);
      }
    }
    return result;
} 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-02T06:25:27.660

一些背景：

*   关键字 / 语法来自`instanceof`Java 1.0 (IIRC)。

*   该`Class.isInstance`方法是在 Java 1.1 中引入的（根据 javadoc）。

*   泛型是在 Java 1.5（又名 5.0）中引入的，尽管您不需要泛型来使您的示例工作。

* * *

instanceof 的语法是`<expr> 'instanceof' <type>`. 为了支持您的建议，他们必须将其更改为`<expr> 'instanceof' <type> | <expr>`. 这有几个问题：

*   它可能会引入语法歧义。（必须进行全面分析才能确定是否是这种情况。）

*   它可能会引入语义歧义。这个问题有点晦涩，但是类型名和变量名在不同的命名空间中，所以可以同时拥有一个变量和一个名为`Something`. 如果你这样做，是`obj instanceof Something`指变量还是类？那么`obj instanceof Something.class`呢？

另一个问题是这种“增强”对典型程序员编写正确代码的能力几乎没有影响。基本上，这是一个外观变化。因此，没有真正的理由进行更改。

* * *

现在我不知道 Java 团队是否考虑过这个选项。（你得问他们！）。如果他们这样做了，我不知道他们为什么拒绝它。但无论这些问题的答案是什么，Java 都不能以这种方式工作……你只能忍受它。

（如果 Java 9 有另一个“Project Coin”，你可能会提出这个想法，但坦率地说，我不认为它会得到太多支持。许多更有价值的想法都未能成功。）

* * *

> 1）语法歧义是指语法会变得复杂吗？正如您所展示的那样，应该可以这样编写解析语法。

不，我的意思是语法可能是**模棱两可**的；即，可以以两种不同的方式解析给定的话语，这意味着两种不同的事物。然后，您需要一些额外的规则（除了语法之外）来确定哪个解析是正确的。

> 2）如果第二条评论中的名称解析引入语义歧义，为什么不能用适当的命名空间（变量或类型）限定名称

问题在于，对于规范编写者要指定、编译器编写者要实现以及程序员要理解，这都是额外的语言复杂性。

真正的好处是什么？只是一点句法“优雅”......当您考虑在各个级别发挥作用以使其“工作”的特殊规则时，实际上并不像看起来那么优雅。

# php - Free Fat Framework a Select with ILIKE Postgresql 语句

> ID：15757022
> 
> 赞同：1
> 
> 时间：2013-04-02T05:48:14.403
> 
> 标签：php, postgresql, fat-free-framework

我对 F3 框架有疑问。

我正在尝试搜索一些由用户输入的文本。

这里有一些声明：

```
$db->exec(array("Select userid,username,section from user 
          WHERE section=:sectionId 
          AND username ILIKE '%?%'"),
          array(':sectionId' => $sectionId),
          array( 1=> $queryString),
          NULL)); 
```

如果有一些错字对不起，但我不允许从生产系统发布代码。

此语句返回一个空数组。

我已经用字符串替换了变量并用 psql 对其进行了测试，但它返回一个匹配项。

有人出主意吗？

编辑：

来自 Sn0opy 的回答：

```
$db->exec(array("Select userid,username,section from user 
            WHERE section=:sectionId 
            AND username ILIKE '%?%'"),
            array(':sectionId' => $sectionId, 1 => $queryString)); 
```

问题是，在 Postgresql 中它是 $1,$2,$3 而不是 '?' .

我的解决方案（再次感谢 Sn0opy 的回复）：

你必须连接字符串

```
('%'|| :queryString || '%') 
```

这现在有效：

```
$db->exec(array("Select userid,username,section from user 
            WHERE section=:sectionId 
            AND username ILIKE ('%'|| :queryString || '%') ),
            array(':sectionId' => $sectionId, ':queryString' => $queryString)); 
```

如果你不连接字符串，你会得到这个错误：

```
ERROR:  could not determine data type of parameter $1 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-02T06:54:41.760

您从[文档](https://github.com/bcosca/fatfree#parameterized-queries)中获得了此代码。如果您重新检查文档，您将看到第一个数组包含三个元素。第二个也是如此。在您的情况下，您在第一个元素中有一个元素，在最后一个元素中有 3 个元素。只会应用第一个参数`array(':sectionId' => $sectionId)`。

这个应该工作：

```
 $db->exec(array("Select userid,username,section from user 
                WHERE section=:sectionId 
                AND username ILIKE '%?%'"),
                array(':sectionId' => $sectionId, 1 => $queryString)); 
```

# java - 访问heroku服务器上的文件或文件夹

> ID：15757023
> 
> 赞同：62
> 
> 时间：2013-04-02T05:48:20.130
> 
> 标签：java, git, heroku

当我在 Heroku 服务器上部署我的应用程序时，服务器会自动生成一个应用程序，我在我的资源上找到了一个 git url。示例：`git@heroku.com:myapp-ss-1338.git`。如何通过网络浏览器访问此 url 以查看源代码或文件夹？

* * *

## 回答 #1

> 赞同：135
> 
> 时间：2013-04-02T20:08:39.423

`heroku run bash`是查看实际部署到测功机的最佳方式。至于 git 存储库，您应该将其视为部署应用程序的一种方式（因此是短暂的），而不是存储代码的地方。

无法从您的 Web 浏览器查看该存储库中的内容。

如果你想获取 Heroku 存储库中的文件，你可以通过`git clone [repo address]`.

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2020-06-15T11:39:33.113

如有必要，您可以使用 heroku git:clone 命令从 Heroku Git 存储库中克隆应用程序的源代码：

```
$ heroku git:clone -a myapp 
```

将 myapp 替换为您的应用程序的名称。

此命令创建 Heroku 托管存储库的副本，其中包含您的应用程序的源代码和完整的存储库历史记录。它还包括一个 heroku Git 遥控器，以简化未来的推送。

# c# - 3 层架构 C# 中的循环引用问题

> ID：15757033
> 
> 赞同：8
> 
> 时间：2013-04-02T05:48:58.387
> 
> 标签：c#, asp.net, n-tier-architecture, circular-reference, 3-tier

我想在 ASP.NET 中构建一个具有 3 层架构的 Web 应用程序。但是我遇到了循环引用的问题。

我有 3 层：

> 1.  包含 UI 的应用层。
> 2.  包含所有逻辑和领域类的业务层。
> 3.  包含所有数据库交互方法的数据层。

我正在使用业务层中的数据层方法来执行数据库操作，在这些方法中我需要将域类对象传递给数据层，但由于循环引用而无法完成。

例如，我有一个`Person`包含一些属性和方法的域类。现在我想将它`Person`插入数据库。我在 Person 类中有一个方法，名为`InsertPerson()`. 在这个方法体中，我必须调用数据层的函数来插入数据库。但是我无法将整个人对象传递给数据层方法，因为数据层引用已添加到业务层，反之亦然。

那么我该如何避免这个问题呢？请建议。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-04-02T05:56:10.650

是否可以将域对象从业务逻辑中分离出来以进行操作？所以你有*描述*数据的类，包含相对原始的操作，然后你的业务层是*对*数据的更多操作——通常在一个操作中使用几个不同的类。

然后你最终有四个程序集：

```
 UI              /
  Business logic  | Domain classes
  Data layer      \ 
```

因此，所有三层都有效地使用域类作为通用术语。

我已经看到这项工作非常好 - 这确实意味着您的域类通常会变得有点“愚蠢”，尽管它们仍然可以包含围绕*某些*验证等方面的相关逻辑，这些逻辑与其他类无关。

当然，有很多替代方法:)

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-04-02T06:03:04.227

您的业​​务逻辑 dll 不应引用数据访问层。数据访问层应该引用您的业务逻辑 dll。业务逻辑代码应该定义它想要与之交谈的接口，以便访问数据库（或其他业务逻辑外部的东西），其他 dll 应该实现它们以为业务逻辑层提供服务。

这就是依赖倒置原则。它说高级模块不应该依赖于低级模块。这里的业务逻辑是高级模块。从业务逻辑 dll 的角度来看，数据访问 dll 只是实现细节。

显示示例

BLL：

```
`public interface IPersonRepository
{
    void SavePerson(Person p);
}
public class PersonServices
{
    PersonServices(IPersonRepository repo)
    {
      //
    }
    public void FirePerson(Person toFire)
    {
        toFire.FireHim();
        repo.SavePerson(toFire);
    }
}` 
```

`达尔：`

```
``public class PersonRepository : IPersonRepository
{
   // ...
}`` 
```

``用户界面： ````
var repo = new PersonRepository();
var ps = new PersonService(repo);   // wire by hand or use containerps.FirePerson(somePerson);

```` 

参考：

```
用户界面-> BLL
   -> 达尔

DAL -> BLL

BLL -> 什么都没有！

```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-02T05:57:11.910

你最好使用经典的**DDD**：域（业务逻辑）不应该有任何对 DAL（持久性基础设施）的引用，它只是声明基础设施必须实现的接口（存储库），而不是在应用程序层中编写使用域的应用程序服务和表示层仅使用应用程序层（或分布式服务，如果它与分布式应用程序有关）：

![在此处输入图像描述](https://i.stack.imgur.com/k3dsT.jpg)

(D)DDD 的好例子：[http ://microsoftnlayerapp.codeplex.com/](http://microsoftnlayerapp.codeplex.com/)

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2013-04-02T05:56:04.520

如果您在应用程序中使用 3 层架构，则无法将对象传递到数据访问层。对象只能用于业务层。如果要在数据访问层使用对象，最好的架构是域模块。``

# python - 在 Python 中从派生类方法调用基类方法

> ID：15757035
> 
> 赞同：0
> 
> 时间：2013-04-02T05:49:06.553
> 
> 标签：python, inheritance, base-class

我有一个A类，我从A类继承了一个B类。我在ClassA中有两个方法methodX和methodY。这个methodY将调用classA中的methodX。现在我在 ClassB 中有一个 methodZ。

以下是场景：-

```
class A(object):
 def methodX(self):
  ....
 def methodY(self):
  methodX()

class B(A)
 def methodZ(self):
  self.methodY() #says the global methodX is not defined 
```

我的问题是我必须调用methodY，而methodY又从methodZ调用methodX。这怎么可能？我应该全局定义methodX吗？还是有其他选择..提前谢谢！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-02T05:51:19.657

在`methodY`你应该打电话`self.methodX()`。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-02T07:35:43.873

由于不使用该类的对象就无法调用成员函数，因此会引发此错误。使用

```
self.methodX() 
```

`methodX()`使用用于调用对象的对象调用函数`methodY()`

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-02T08:45:42.703

正如之前所说，使用 self.methodX() 似乎可以解决您的问题。检查这个：

```
class A(object):
    def methodX(self):
        print "A.methodX"
    def methodY(self):
        print "A.methodY"
        self.methodX()

class B(A):
    def methodZ(self):
        print "B.methodZ"
        self.methodY()

b = B()
b.methodZ() 
```

生成此输出：

```
$ python test.py
B.methodZ
A.methodY
A.methodX
$ 
```

我想这就是你要找的...

# html - 使用 CSS 在悬停图像上创建缩放效果？

> ID：15757036
> 
> 赞同：90
> 
> 时间：2013-04-02T05:49:19.630
> 
> 标签：html, class, css

我目前正在尝试在将鼠标悬停在我的四个图像之一上时创建缩放效果。问题是大多数示例通常使用表格或掩码 div 来应用某种效果。

这是一个实现我想要的示例的[示例](http://designshack.net/tutorialexamples/PhotoWall/fade.html)。

到目前为止，[这是我的代码。](http://jsfiddle.net/27Syr/)

### HTML

```
<div id="menu">
<img class ="blog" src="http://s18.postimg.org/il7hbk7i1/image.png" alt="">
<img class ="music" src="http://s18.postimg.org/4st2fxgqh/image.png" alt="">
<img class ="projects" src="http://s18.postimg.org/sxtrxn115/image.png" alt="">
<img class ="bio" src="http://s18.postimg.org/5xn4lb37d/image.png" alt="">
</div> 
```

### CSS

```
#menu {
    max-width: 1200px;
    text-align: center;
    margin: auto;
}

#menu img {
    width: 250px;
    height: 375px;
    padding: 0px 5px 0px 5px;
    overflow: hidden;
}

.blog {
    height: 375px;
    -webkit-transition: all 1s ease;
    -moz-transition: all 1s ease;
    -o-transition: all 1s ease;
    -ms-transition: all 1s ease;
    transition: all 1s ease;
}

.blog:hover {
    cursor: pointer;
    height:475px;
    width: 350px;
}

.music {
    height: 375px;
}

.projects {
    height: 375px;
}

.bio {
    height: 375px;
} 
```

* * *

## 回答 #1

> 赞同：167
> 
> 时间：2013-04-02T06:33:04.227

使用`CSS3 transform`属性和使用`scale`会产生类似缩放的效果怎么样，可以这样做，

**HTML**

```
<div class="thumbnail">
    <div class="image">
        <img  src="http://placehold.it/320x240" alt="Some awesome text"/>
    </div>
</div> 
```

**CSS**

```
.thumbnail {
    width: 320px;
    height: 240px;
}

.image {
    width: 100%;
    height: 100%;    
}

.image img {
    -webkit-transition: all 1s ease; /* Safari and Chrome */
    -moz-transition: all 1s ease; /* Firefox */
    -ms-transition: all 1s ease; /* IE 9 */
    -o-transition: all 1s ease; /* Opera */
    transition: all 1s ease;
}

.image:hover img {
    -webkit-transform:scale(1.25); /* Safari and Chrome */
    -moz-transform:scale(1.25); /* Firefox */
    -ms-transform:scale(1.25); /* IE 9 */
    -o-transform:scale(1.25); /* Opera */
     transform:scale(1.25);
} 
```

这是一个演示[小提琴](http://jsfiddle.net/27Syr/1206/)。我删除了一些元素以使其更简单，您始终可以将溢出隐藏添加`.image`到隐藏缩放图像的溢出。

`zoom`属性仅适用于 IE

* * *

## 回答 #2

> 赞同：25
> 
> 时间：2013-04-02T06:25:01.963

干得好。

## 演示

[http://jsfiddle.net/27Syr/4/](http://jsfiddle.net/27Syr/4/)

## HTML

```
<div id="menu">

    <div class="fader">
        <div class="text">
            <p>Yay!</p>
        </div>
        <a href="http://stackoverflow.com/questions/15732643/jquery-masonry-and-css3/">
            <img class ="blog" src="http://s18.postimg.org/il7hbk7i1/image.png" alt="">
        </a>
    </div>

    <div class="fader">
        <div class="text">
            <p>Yay!</p>
        </div>
        <a href="http://stackoverflow.com/questions/15732643/jquery-masonry-and-css3/">
            <img class ="blog" src="http://s18.postimg.org/4st2fxgqh/image.png" alt="">
        </a>
    </div>

    <div class="fader">
        <div class="text">
            <p>Yay!</p>
        </div>
        <a href="http://stackoverflow.com/questions/15732643/jquery-masonry-and-css3/">
            <img class ="projects" src="http://s18.postimg.org/sxtrxn115/image.png" alt="">
        </a>
    </div>

    <div class="fader">
        <div class="text">
            <p>Yay!</p>
        </div>
        <a href="http://stackoverflow.com/questions/15732643/jquery-masonry-and-css3/">
            <img class ="blog" src="http://s18.postimg.org/5xn4lb37d/image.png" alt="">
        </a>
    </div>

</div> 
```

## CSS

```
#menu {
    text-align: center; }

.fader {
    /* Giving equal sizes to each element */
    width:    250px;
    height:   375px;

    /* Positioning elements in lines */
    display:  inline-block;

    /* This is necessary for position:absolute to work as desired */
    position: relative;

    /* Preventing zoomed images to grow outside their elements */
    overflow: hidden; }

    .fader img {
        /* Stretching the images to fill whole elements */
        width:       100%;
        height:      100%;

        /* Preventing blank space below the image */
        line-height: 0;

        /* A one-second transition was to disturbing for me */
        -webkit-transition: all 0.3s ease;
        -moz-transition:    all 0.3s ease;
        -o-transition:      all 0.3s ease;
        -ms-transition:     all 0.3s ease;
        transition:         all 0.3s ease; }

        .fader img:hover {
            /* Making images appear bigger and transparent on mouseover */
            opacity: 0.5;
            width:   120%;
            height:  120%; }

    .fader .text {
        /* Placing text behind images */
        z-index: -10;     

        /* Positioning text top-left conrner in the middle of elements */
        position: absolute;
        top:      50%;
        left:     50%; }

        .fader .text p {
            /* Positioning text contents 50% left and top relative
               to text container's top left corner */
            margin-top:  -50%; 
            margin-left: -50%; } 
```

## 建议

而不是`.fader { inline-block; }`考虑使用一些网格系统。根据您偏好的技术，您可以选择[Foundation](http://foundation.zurb.com/docs/components/grid.html)、[Susy](http://susy.oddbird.net/)、[Masonry](http://masonry.desandro.com/)或它们的替代品。

* * *

## 回答 #3

> 赞同：20
> 
> 时间：2015-11-10T08:45:24.443

```
.aku { 
    transition: all .2s ease-in-out; 
}

.aku:hover {
    transform: scale(1.1); 
} 
```

* * *

## 回答 #4

> 赞同：16
> 
> 时间：2014-08-01T01:10:01.123

我喜欢使用背景图片。我发现它更容易和更灵活：

## [演示](http://jsfiddle.net/jme11/spzm9/)

**CSS：**

```
#menu {
    max-width: 1200px;
    text-align: center;
    margin: auto;
}
.zoomimg {
    display: inline-block;
    width: 250px;
    height: 375px;
    padding: 0px 5px 0px 5px;
    background-size: 100% 100%;
    background-repeat: no-repeat;
    background-position: center center;
    transition: all .5s ease;
}
.zoomimg:hover {
    cursor: pointer;
    background-size: 150% 150%;
}
.blog {
    background-image: url(http://s18.postimg.org/il7hbk7i1/image.png);
}
.music {
    background-image: url(http://s18.postimg.org/4st2fxgqh/image.png);
}
.projects {
    background-image: url(http://s18.postimg.org/sxtrxn115/image.png);
}
.bio {
    background-image: url(http://s18.postimg.org/5xn4lb37d/image.png);
} 
```

**HTML：**

```
<div id="menu">
    <div class="blog zoomimg"></div>
    <div class="music zoomimg"></div>
    <div class="projects zoomimg"></div>
    <div class="bio zoomimg"></div>
</div> 
```

## [带叠加的演示 2](http://jsfiddle.net/jme11/spzm9/2/)

* * *

## 回答 #5

> 赞同：8
> 
> 时间：2015-10-19T11:58:37.697

简单地：

```
.grow { transition: all .2s ease-in-out; } 
```

这将允许元素通过 css 分配动画。

```
.grow:hover { transform: scale(1.1); } 
```

这会让它成长！

* * *

## 回答 #6

> 赞同：7
> 
> 时间：2016-03-23T03:32:00.043

```
.item:hover img 
{
 -moz-transform: scale(1.3);
 -webkit-transform: scale(1.3);
 transform: scale(1.3);
} 
```

通过这种方式，您可以使用简单的动画缩放任何图像。如果您需要完整的教程，这里是官方教程：[http ://talkerscode.com/webtricks/image-zoom-in-on-hover-using-css3.php](http://talkerscode.com/webtricks/image-zoom-in-on-hover-using-css3.php)

* * *

## 回答 #7

> 赞同：4
> 
> 时间：2017-02-15T10:22:45.223

**解决方案 1：**您可以下载[zoom-master](http://www.jacklmoore.com/zoom/)。
**解决方案 2：** 转到[此处](http://thecodeplayer.com/walkthrough/magnifying-glass-for-images-using-jquery-and-css3)。
**解决方案 3：** 您自己的代码

```
.hover-zoom {
    -moz-transition:all 0.3s;
    -webkit-transition:all 0.3s;
     transition:all 0.3s
 }
.hover-zoom:hover {
    -moz-transform: scale(1.1);
    -webkit-transform: scale(1.1);
     transform: scale(1.5)
 }
```

```
<img class="hover-zoom"  src="https://i.stack.imgur.com/ewRqh.jpg" 
     width="100px"/>
```

* * *

## 回答 #8

> 赞同：1
> 
> 时间：2017-04-03T05:52:03.447

```
 <div class="item">
  <img src="yamahdi1.jpg" alt="pepsi" width="50" height="58">
  <img src="yamahdi.jpg" alt="pepsi" width="50" height="58">
  <div class="item-overlay top"></div> 
```

> CSS：

```
.item img {

  -moz-transition: all 0.3s;
  -webkit-transition: all 0.3s;
  transition: all 0.3s;
}
.item img:hover {
  -moz-transform: scale(1.1);
  -webkit-transform: scale(1.1);
  transform: scale(1.1);
} 
```

* * *

## 回答 #9

> 赞同：0
> 
> 时间：2015-02-13T10:56:11.623

```
 -webkit-transition: all 1s ease; /* Safari and Chrome */
-moz-transition: all 1s ease; /* Firefox */
-ms-transition: all 1s ease; /* IE 9 */
-o-transition: all 1s ease; /* Opera */
transition: all 1s ease; 
```

只是想对上面的转换做个笔记只需要

```
 -webkit-transition: all 1s ease; /* Safari and Chrome */
transition: all 1s ease; 
```

和-ms-当然不适用于IE 9 我不知道你从哪里得到这个想法。

* * *

## 回答 #10

> 赞同：0
> 
> 时间：2017-03-02T11:55:27.677

```
 .img-wrap:hover img {
        transform: scale(0.8);
    }
    .img-wrap img {
        display: block;
        transition: all 0.3s ease 0s;
        width: 100%;
    }
```

```
 <div class="img-wrap">
    <img src="http://www.sampleimages/images.jpg"/> // Your image
    </div>
```

此代码仅用于缩小效果。根据您的样式设置div“img-wrap”并插入上述样式结果缩小效果。对于放大效果，您必须增加比例值（例如：对于缩放-在，使用变换：比例（1.3）；

* * *

## 回答 #11

> 赞同：0
> 
> 时间：2019-05-29T10:50:53.180

```
<!DOCTYPE html>
<html>
<head>
<style>
.zoom {

  overflow: hidden;
}

.zoom img {
  transition: transform .5s ease;
}
.zoom:hover img {
  transform: scale(1.5);
}

</style>
</head>
<body>

<h1>Image Zoom On Hover</h1>
<div class="zoom">
  <img src="/image-path-url" alt="">
</div>

</body>
</html> 
```

* * *

## 回答 #12

> 赞同：0
> 
> 时间：2017-10-19T09:43:22.850

```
@import url('https://fonts.googleapis.com/css?family=Muli:200,300,400,700&subset=latin-ext');
 body{ font-family: 'Muli', sans-serif; color:white;}
 #lists {
   width: 350px;
   height: 460px;
   overflow: hidden;
   background-color:#222222;
   padding:0px;
   float:left;
    margin: 10px;
 }

 .listimg {
   width: 100%;
   height: 220px;
   overflow: hidden;
   float: left;

 }
  #lists .listimg img {
   width: 350px;
   height: 220px;
   -moz-transition: all 0.3s;
   -webkit-transition: all 0.3s;
   transition: all 0.3s;
 }
 #lists:hover{cursor: pointer;}
 #lists:hover > .listimg img {
   -moz-transform: scale(1.3);
   -webkit-transform: scale(1.3);
   transform: scale(1.3);
   -webkit-filter: blur(5px);
   filter: blur(5px);
 }

#lists h1{margin:20px; display:inline-block; margin-bottom:0px; }
#lists p{margin:20px;}

.listdetail{ text-align:right; font-weight:200; padding-top:6px;padding-bottom:6px;}
```

```
<div id="lists">
<div class="listimg">
  <img src="https://lh3.googleusercontent.com/WeEw5I-wk2UO-y0u3Wsv8MxprCJjxTyTzvwdEc9pcdTsZVj_yK5thdtXNDKoZcUOHlegFhx7=w1920-h914-rw">
</div>
<div class="listtext">
<h1>Eyes Lorem Impsum Samet</h1>
<p>Impsum Samet Lorem</p>
</div>
<div class="listdetail">
<p>Click for More Details...</p>
</div>
</div>

<div id="lists">
<div class="listimg">
  <img src="https://lh4.googleusercontent.com/fqK7aQ7auobK_NyXRYCsL9SOpVj6SoYqVlgbOENw6IqQvEWzym_3988798NlkGDzu0MWnR-7nxIhj7g=w1920-h870-rw">
</div>
<div class="listtext">
<h1>Two Frogs Lorem Impsum Samet</h1>
<p>Impsum Samet Lorem</p>
</div>
<div class="listdetail">
<p>More Details...</p>
</div>
</div>
```

* * *

## 回答 #13

> 赞同：-3
> 
> 时间：2016-04-20T07:15:52.297

将 jQuery JavaScript 库与 jquery.zbox.css 和 jquery.zbox.js 一起添加到您的网页中。

```
<link rel="stylesheet" href="jquery.zbox.css">
<script src="jquery.min.js"></script>
<script src="jquery.zbox.min.js"></script> 
```

将一组带有指向全尺寸图像的链接的缩略图添加到网页中。

```
<a class="zb" rel="group" href="1.png" title="Image 1">
  <img src="thumb1.png">
</a>
<a class="zb" rel="group" href="2.png" title="Image 2">
  <img src="thumb2.png">
</a>
<a class="zb" rel="group" href="3.png" title="Image 3">
 <img src="thumb3.png">
</a> 
```

调用文档准备好的函数。而已。

在视图源中执行：

```
$(".zb").zbox(); 
```

# xml - 如何从 Java 以编程方式调用 XML Calabash

> ID：15757041
> 
> 赞同：2
> 
> 时间：2013-04-02T05:49:26.563
> 
> 标签：xml, xproc, calabash

我找不到有关如何调用 XML Calabash（Xproc 实现）以从 Java 运行的示例或指示。要求很简单：

1.  列表项 能够以编程方式指定输入和输出。
2.  List item 能够同时工作，因为我们希望它是一个在 Jetty Server 中运行的进程

    *   谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-02T06:50:08.700

你应该看看 Servlex，特别是这里[https://github.com/fgeorges/servlex/tree/master/servlex/src/java/org/expath/servlex/processors](https://github.com/fgeorges/servlex/tree/master/servlex/src/java/org/expath/servlex/processors)

希望这可以帮助

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-29T20:06:22.667

是的，您可以查看 Servlex，特别是[https://github.com/fgeorges/servlex/tree/master/servlex/src/java/org/expath/servlex/processors/saxon](https://github.com/fgeorges/servlex/tree/master/servlex/src/java/org/expath/servlex/processors/saxon)，更准确地说是 CalabashXProc 和 CalabashPipeline。

目前，Servlex 正在为每次执行编译管道，因为在 Calabash 中编译时间和运行时之间的分离并不完美。Servlex 用于缓存编译结果并在每次使用后将其重置，但如果两个请求同时到来，那么它们实际上使用的是相同的动态评估环境，这意味着，嗯，BOOM！

Norm 正在研究它并取得了一些进展，但我想如果你需要能够缓存已编译的管道并同时评估它的多个实例（通过写信给 XProc Dev 或在 Calabash 中），让他听到你的声音不会有什么坏处问题跟踪器）。

如果您对 Servlex 感兴趣，该网站位于[http://servlex.net/](http://servlex.net/)。如果你想运行管道来响应 HTTP 请求，它可能是一个不错的选择，因为它已经包含了很多样板代码，并让你以声明的方式编写管道（它响应的请求 URI 在webapp 描述符，它操作 HTTP 请求并将 HTTP 响应生成为 XML 文档）。它是 EXPath Web 应用程序规范的实现（Servlex 网站上的链接）

PS：很抱歉缺少直接链接，但是StackOverflow不允许我发布超过2个链接（我实际上可以理解......）

# javascript - 调用 $.load() 函数时未捕获的类型错误

> ID：15757045
> 
> 赞同：0
> 
> 时间：2013-04-02T05:49:35.030
> 
> 标签：javascript, jquery, function, object

我正在使用 javascript 从 JSON 构建页面。我正在尝试遵循 OOJS 来构建页面。

我如何获取 JSON：我正在使用 RESTful api 获取 JSON。

获得 JSON 后，我将使用 jquery 将其转换为 json 对象，然后使用 OOJS 对象将它们转换为页面内容。

我在左侧加载构面，在右侧加载结果。当我点击左侧的链接时，完整的页面应该会刷新。我正在使用结果和构面对象来创建页面。

现在我在调用 loadPage(callbackurl) 时遇到了问题。我收到一个 JS 错误

```
Uncaught TypeError: object is not a function 
```

已附上以下文件。任何意见将是有益的。提前致谢

HTML页面：

```
 <!DOCTYPE html>
    <html lang="en">
        <head>  
            <title></title>
            <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
            <link href="assets/css/faceted-search.css" rel="stylesheet" />
            <script src="js/mcu.json"></script>
            <script src="js/facets.js"></script>
            <script src="js/results.js"></script>
            <script src="js/tags.js"></script>
            <script src="http://code.jquery.com/jquery-latest.js"></script>
            <script>
                function getUrlVars()
                {
                    var vars = [], hash;
                    var hashes = window.location.href.slice(window.location.href.indexOf('?') + 1).split('&');
                    for(var i = 0; i < hashes.length; i++)
                    {
                        hash = hashes[i].split('=');
                        vars.push(hash[0]);
                        vars[hash[0]] = hash[1];
                    }
                    return vars;
                }
            </script>

            <script>
                // Get the values from the query string
                    var results;
                    var facets;
                    function loadPage(callbackurl){
                    var query = getUrlVars()["query"];
                    $("#hidecontent").load(callbackurl, function(response, status, xhr){
                        query = query.replace("%20", " ");
                        $('input#inputsearch').val(query);
                        //var mcu = response;
                        jsonObj = $.parseJSON(response);
                        results = new results(jsonObj);
                        results.createResults("results");

                    $('div#facets').find('div.content').find('div.topDiv').find('div').find('a').click(function(e){
                            console.log(e);
                            var facetsDiv = $('div#facets').find('div.content');
                            var querystring = 'rest/nxp-facetSearch?query=' + $('input#inputsearch').val() + '&facet='  + $(this).parent().parent().parent().attr('id')+ "~" + $(this).attr('id') ;
                            loadPage(querystring);

                            $.each(facetsDiv, function(){
                                    // If length of the selector > 0 then true else false
                                    var selectedfacetvalues = $(this).find('a.selected');
                                    var selectedstring = "";
                                    if(selectedfacetvalues.length){
                                        $.each(selectedfacetvalues, function(){
                                            selectedstring = selectedstring + $(this).attr('id') + ",";
                                        });
                                        querystring = querystring + $(this).attr('id') + "~" + selectedstring.slice(0, -1) + ";";
                                    }

                            });
                            console.log(querystring);
                        });                    
                    });

                }

            </script>
        </head>
    <body>
        <div id="hidecontent" style="display: none">

        </div>
        <div id="topheader">
            <img src="images/NXP_logo.png" />
        </div>
        <div id="framecontent">
            <div id="facets" class="innertube">
                <div>
                </div>
            </div>
        </div>
        <div id="searchbox">
            <input id="inputsearch" type="text" value="" size="40" />&nbsp; <img class="searchimg" src="images/Search.png" style="cursor: pointer" />
        </div>
        <!--div id="tags">

        </div-->
        <div id="maincontent">
                <p>&nbsp;</p>
                <div id="results">

                </div>
        </div>
        <script>
            var query = getUrlVars()["query"];

            callbackurl = "rest/nxp-facetSearch?query=" + query + "";
            loadPage(callbackurl);
        </script>

    </body>
    </html> 
```

JSON文件：

如果我也需要附加 json 文件，请告诉我。

结果.js：

```
 /* 
     * To change this template, choose Tools | Templates
     * and open the template in the editor.
     */

    var localObject;

    function results(){

    }

    function results(jsonObject){
        localObject = jsonObject;
    }

    results.prototype.createResults = function(targetID){
        resultsDiv = document.getElementById(targetID);
        resultsDiv.innerHTML = "";
        container = document.createElement("div");
        container.setAttribute("id", "container");
        resultsDiv.appendChild(container);
        var values = localObject.results;
        if(values.length > 0){
            results.createTable(resultsDiv, values);
        }else{
            var noresults = document.createElement("span");
            noresults.innerHTML = "No results found!";
            resultsDiv.appendChild(noresults);
        }
    }

    results.prototype.createTable = function(resultsDiv, values){
        var topdiv = document.createElement("div");
        //table.setAttribute("class", "products");
        for (var v in values)
        {
            var div = document.createElement("div");
            var span = document.createElement("span");
            var p = document.createElement("p");
            span.setAttribute("class", values[v].type);
            div.setAttribute("class", "column");
            p.setAttribute("class", "resultcolumnvalue");
            p.innerHTML = values[v].value ;
            div.appendChild(span);
            div.appendChild(p);

            topdiv.appendChild(div);
        }
        resultsDiv.appendChild(topdiv);
    } 
```

# c# - 访问控制器时出错.... Asp.net mvc 4

> ID：15757046
> 
> 赞同：0
> 
> 时间：2013-04-02T05:49:37.700
> 
> 标签：c#, asp.net-mvc, asp.net-mvc-4

我的控制器中有这两个动作：

```
 public ActionResult Admin()
    {
        var aux=db.UserMessages.ToList();

        return View(aux);         

    }

    public ActionResult Admin(int id)
    {
        var aux = db.UserMessages.ToList();

        return View(aux);

    } 
```

但是当我尝试访问“localhost/Doubt/Admin”时，我收到一条消息说它模棱两可...我不明白为什么会这样...因为如果我在 Url 中没有 id，它应该调用第一个 Action没有 id 参数

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-02T05:52:33.143

除非您指定[ActionName](http://msdn.microsoft.com/en-us/library/system.web.mvc.actionnameattribute%28v=vs.108%29.aspx)属性，否则将在指定“Admin”操作时找到这两个操作。将方法与操作名称匹配时不考虑参数。

您还可以使用[HttpGet](http://msdn.microsoft.com/en-us/library/system.web.mvc.httpgetattribute%28v=vs.108%29.aspx) / [HttpPost](http://msdn.microsoft.com/en-us/library/system.web.mvc.httppostattribute%28v=vs.108%29.aspx)属性指定一个用于 GET，另一个用于 POST。

```
 [ActionName("AdminById")]
 public ActionResult Admin(int id) 
```

当路径包含 id 时，在路由中指定“AdminById”。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-02T05:55:29.957

在同一个控制器上不可能有两个同名的动作可以用同一个动词访问（在你的例子中是 GET）。您将不得不重命名 2 个操作之一或使用`HttpPost`属性对其进行装饰，使其仅可用于 POST 请求。显然这不是你想要的，所以我猜你将不得不重命名第二个动作。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-02T05:55:09.613

当用户查看一个页面时，这是一个 GET 请求，而当用户提交一个表单时，这通常是一个 POST 请求。`HttpGet`并`HttpPost`限制一个动作方法，使该方法只处理相应的请求。

```
 [HttpGet]
    public ActionResult Admin()
    {
        var aux=db.UserMessages.ToList();

        return View(aux);         

    }

    [HttpPost]
    public ActionResult Admin(int id)
    {
        var aux = db.UserMessages.ToList();

        return View(aux);

    } 
```

在您的情况下，如果您想`get`请求第二种方法，您最好重命名您的方法。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-02T05:55:21.537

```
As you have define two action method with same name,it get confuse about which method to call.
so of you put request first time and in controller you have two method with same name than it will show error like you are currently getting due to it try to find method with attribute HttpGet,but you have not mention that attribute on action method,now when you post your form at that time it will try to find method with HttpPost attribute and run that method,so you have to specify this two attribute on same method name  
    Try this
    [HttpGet]
    public ActionResult Admin()
        {
            var aux=db.UserMessages.ToList();

            return View(aux);         

        }
    [HttpPost]
        public ActionResult Admin(int id)
        {
            var aux = db.UserMessages.ToList();

            return View(aux);

        } 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-04-02T07:20:20.037

在 ASP.NET MVC 中，您不能有两个具有相同名称和相同动词的操作。您可以像这样编写代码以保持代码的可读性。

```
private ActionResult Admin()
{
    var aux=db.UserMessages.ToList();
    return View(aux);         

}

public ActionResult Admin(int id = 0)
{
    if (id == 0)
        return Admin();

    var aux = db.UserMessages.ToList();
    return View(aux);

} 
```

# python - 使用 Python 登录网站

> ID：15757048
> 
> 赞同：1
> 
> 时间：2013-04-02T05:49:50.057
> 
> 标签：python, login, web, urllib2, cookielib

我正在尝试使用 Python 登录网站。
我有以下代码，当我登录网站时它确实有效。

```
import ClientCookie, ClientForm
import urllib, urllib2, cookielib
from BeautifulSoup import BeautifulSoup  

cookies = ClientCookie.MozillaCookieJar()

fp = ClientCookie.urlopen("http://www.renrendai.com/loginPage.action?error=false")

forms = ClientForm.ParseResponse(fp)  
fp.close()  
form = forms[0]  
form["j_username"]  = "userid"   
form["j_password"] = "password"  
fp = ClientCookie.urlopen(form.click())  
fp.close()

userHomePage_href = "http://www.renrendai.com/lend/userHomePage.action?userId=114590"  
userHomePage_doc = ClientCookie.urlopen(userHomePage_href)  
userHomePage_soup = BeautifulSoup(userHomePage_doc,fromEncoding="gb18030") 
```

但是如果我用它来登录[另一个网站](http://www.ppdai.com/login.aspx)，它就不起作用。
我有这个网站的来源：

```
<input name="txtUserName" type="text" value="tinkei" id="txtUserName" class="lsls" onfocus="changeborder(this)" onblur="changeborder2(this)" style="height:26px;width:280px;border-width:1px; border-color:LightGray;" />
<input name="txtPassword" type="password" maxlength="50" id="txtPassword" onfocus="changeborder(this)" onblur="changeborder2(this)" style="height:26px;width:280px;border-width:1px; border-color:LightGray;" />
<input type="image" name="btnLogin" id="btnLogin" src="http://static.ppdai.com/skin/images/login_n_button.gif" alt="登录" style="border-width:0px;" />&nbsp; 
```

是因为'btnLogin'的值吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-02T13:49:28.480

我建议为此使用[requests](http://python-requests.org) lib，这很容易。

```
import requests
payload = {'txtUserName': 'value1', 'txtPassword': 'value2'}
r = requests.post("http://www.ppdai.com/login.aspx", params=payload)
>>> r.text
THE_RESPONSE 
```

请尝试我发布的示例，只需将 value1 更改为用户名，将 value2 更改为密码。

[示例网址](http://docs.python-requests.org/en/latest/user/quickstart/#passing-parameters-in-urls)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-22T03:18:34.843

您好，我想我可能有类似的问题，但使用不同的站点。我看到了这个：

[使用 Python (urllib,urllib2,cookielib) 登录网站：如何找到提交所需的信息？](https://stackoverflow.com/questions/15887345/logging-in-to-a-web-site-with-python-urllib-urllib2-cookielib-how-does-one-fi)

> 查看浏览器的开发工具中发送了哪些数据。它是 aspx 还是 >not 都没有关系，或者至少不应该。就您而言，它只是一个 http 服务。确保你也伪造了标题，一些网站会检查它们（用户代理、引用者等）。我 > 还建议使用 requests 模块。– 加图 4 月 8 日 19:41
> 
> 感谢您的提醒。我会进一步研究伪造标题。至于我的输入值的其余部分，我错过了什么吗？– arete 4 月 8 日 19:43 1
> 
> 好吧，对于一个你应该解析表单（使用 lxml）来获取值，因为它们很可能是动态的，所以硬编码的值不会这样做。而且我会保留一切，甚至是>空的隐藏输入，只是为了确定。好的，所以这个过程是加载页面 - 解析并获取 >form - 使用 cookie 和标题发布表单数据。– 加图 4 月 8 日 19:52

对于[http://www.ppdai.com/login.aspx](http://www.ppdai.com/login.aspx)

我想他们会指这部分

```
<input type="hidden" name="__VIEWSTATE" id="__VIEWSTATE" value="/     wEPDwUKMTM0MDY0ODA1OQ9kFgICAQ8WAh4EVGV4dAXuATxzY3JpcHQgc3JjPSJodHRwOi8vd3d3Lmdvb2dsZS1hbmFseXRpY3MuY29tL2dhLmpzIiB0eXBlPSJ0ZXh0L2phdmFzY3JpcHQiPjwvc2NyaXB0PjxzY3JpcHQgdHlwZT0idGV4dC9qYXZhc2NyaXB0Ij50cnkge3ZhciBwdCA9IF9nYXQuX2dldFRyYWNrZXIoIlVBLTM2MzU2NjQtMSIpO3B0Ll9zZXREb21haW5OYW1lKCcucHBkYWkuY29tJyk7cHQuX3RyYWNrUGFnZXZpZXcoKTt9IGNhdGNoKGVycikge308L3NjcmlwdD5kGAEFHl9fQ29udHJvbHNSZXF1aXJlUG9zdEJhY2tLZXlfXxYBBQhidG5Mb2dpbkPZsS5trJ5Fyz2xtZdq47OvRkst" />
<input type="hidden" name="__EVENTVALIDATION" id="__EVENTVALIDATION" value="/wEWBQKRr4PqCgKl1bKzCQK1qbSRCwKC3IeGDAKQo8KrDbSMQeI06gCgwhXGUNBJw4I0qMjg" /> 
```

我希望你设法弄清楚并解决你的问题。

# xmpp - 当我发送时，Openfire 踢我 或者 具有自定义消息类型

> ID：15757050
> 
> 赞同：1
> 
> 时间：2013-04-02T05:49:53.907
> 
> 标签：xmpp, openfire

我在我的服务中使用 openfire 作为聊天服务器。当对话者开始或停止在聊天中输入消息时，我需要通知用户。

我添加自定义消息类型 notification_chat 并发送带有或不带正文的附加消息：

当用户开始输入时：

```
<message id="SD4Vy-8" to="682@server.com" type="notification_chat"><composing xmlns="http://jabber.org/protocol/chatstates"/></message> 
```

当用户停止输入时：

```
<message id="SD4Vy-9" to="682@server.com" type="notification_chat"><paused xmlns="http://jabber.org/protocol/chatstates"/></message> 
```

但是在发送这个数据包后，openfire 会关闭连接！尽管这条消息已发送给收件人，但我可以按类型和附加信息处理它。

为什么openfire踢我是这种情况？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-04-02T07:12:31.113

你被踢是因为你违反了 XMPP 规范。不允许向消息添加新类型。您只能使用 RFC 中定义的类型（正常、聊天、群聊、标题、错误）。当您需要自定义信息时，然后在您自己的命名空间中添加您自己的标签来发送消息。

例子：

```
<message>
   <x xmlns="http://www.mycompany.com/extension1">
     <messagetype>notification_chat</messagetype>
   </x>
</message> 
```

# c# - 鼠标点击并释放 XNA

> ID：15757052
> 
> 赞同：1
> 
> 时间：2013-04-02T05:50:00.807
> 
> 标签：c#, menu, xna

我正在尝试为游戏制作主菜单，当我在某个区域上点击（或左键单击）时遇到了这些问题。我见过许多 WP7 的游戏菜单，在您释放点击后它会执行一些操作。好吧，我试图在按下图像时显示图像，并在释放图像时发出声音。

这怎么可能？

这是我的代码：

```
//putoClick's = Mouse.GetState();
//clickarea = the same dimensions as putoClick; 
if (putoClick.LeftButton == ButtonState.Pressed)
{
    mouseClick = new Rectangle(putoClick.X, putoClick.Y, 30, 20);

    if (clickArea.Intersects(mouseClick))
    {
        spriteBatch.Draw(imgB, btnPos, Color.White);

        btnMenuClickSound.Play();

    }
    else
    {
        spriteBatch.Draw(imgBs, btnPosN, Color.White);
    }

    putoClick = Mouse.GetState();

    //....
} 
```

相反，只要按下按钮，声音就会不断播放。尝试与新闻稿合作，但没有奏效。请原谅我的变量名，哈哈，这是一个快速测试。提前致谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-02T06:00:40.640

您需要做的是创建一个保留两个鼠标状态的鼠标处理类。这一帧的和前一帧的。并检查这两种状态之间按钮状态的变化。就像是

```
MouseState newState = Mouse.getState();    
if(oldState.LeftButton == ButtonState.Pressed && newState.LeftButton == ButtonState.Released){
    // click released
    // TODO : add your on released code here
}
if(newState.LeftButton == ButtonState.Pressed && oldState.LeftButton == ButtonState.Released)
{
    // pressed for the first time
    // TODO : add  your on clicked code here
}
if(newState.LeftButton == ButtonState.Pressed)
{ 
    // left mouse button is down
    // TODO : add your on left button down logic
}
// "remember" this frame's state for use in the next frame.
oldState = newState; 
```

你每帧调用这个方法（更新），你就完成了。（您可能希望通过让鼠标处理程序类只更新一个内部布尔值并让您的游戏代码在需要时读取该布尔值来将输入与逻辑完全分开，但这取决于您的游戏需求。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-02T05:58:18.223

你在这里写的是：

如果按下按钮执行 A 如果未按下按钮执行 B

你想写的是

如果按钮被按下而不是等待按钮未被按下并且仅比 B

诀窍是保持按钮的最后状态

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-02T06:01:59.853

声音继续播放的原因是因为`btnMenuClickSound.Play();`呼叫发生在`if`以下两个条件内：

*   左键按下
*   并且点击区域已经被点击

因此，当这两个条件都成立时，您的声音将会播放。

因此，移动一些代码并使用布尔标志来跟踪您是否按下按钮以及该状态是否已更改，我们可以找到解决方案！

```
// a private class member - NOT to be declared within the function
bool buttonClicked = false; 
```

```
if (putoClick.LeftButton == ButtonState.Pressed)
{
    mouseClick = new Rectangle(putoClick.X, putoClick.Y, 30, 20);

    //if the button was clicked with the left mouse button
    //buttonClicked will be true, otherwise false.
    buttonClicked = clickArea.Intersects(mouseClick);
}
else if(buttonClicked && putoClick.LeftButton == ButtonState.Released)
{
    //The button was clicked last frame, but the mouse is now up
    //play the sound!
    btnMenuClickSound.Play(); 
}

//the mouse button is released, therefore the button is not clicked
if(putoClick.LeftButton == ButtonState.Released)
    buttonClicked = false;   

//draw the appropriate graphic depending on 
//whether or not the button has been clicked.
if(buttonClicked)
    spriteBatch.Draw(imgB, btnPos, Color.White);
else
    spriteBatch.Draw(imgBs, btnPosN, Color.White);

putoClick = Mouse.GetState(); //also, i presume this needs to be here instead? 
```

我决定跟踪按钮是否被单击，因为我的理解是，要播放的声音应该只*在单击按钮后*释放鼠标时播放。

# html - 将图像垂直对齐到引导程序“行”内的底部？

> ID：15757054
> 
> 赞同：3
> 
> 时间：2013-04-02T05:50:28.200
> 
> 标签：html, css, twitter-bootstrap, vertical-alignment

在以下示例中：http: [//jsfiddle.net/Fvswp/3/](http://jsfiddle.net/Fvswp/3/)

我在 a 中有 3 个图像`row`，我想将图像对齐到`row`.

我尝试了其他方法，例如使外部分割位置`relative`和图像的绝对位置，`bottom: 0`但由于我使用的是引导程序（2.3.1），因此它不起作用。

我知道还有许多其他类似的问题，例如我的[这个](https://stackoverflow.com/questions/14614338/vertical-align-text-image-with-bootstrap) ，但没有一个解决方案适用于我的。

如何将这些图像垂直对齐到底部`row`？

谢谢

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-04-02T06:02:46.957

我已经更新了你的 jsFiddle [http://jsfiddle.net/Fvswp/5/](http://jsfiddle.net/Fvswp/5/)你需要做的是像这样`display: block;`向你的`img`元素添加一个 css 属性

**CSS**

```
img { display: block;} 
```

这将删除底部空间，这是您应该在所有解决此问题的项目中使用的默认代码行。

*PS：感谢您发布小提琴*

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-04-02T06:36:34.930

使列等高（等于最大图像的高度）并将图像放置在底部的列内：

```
#header > div {
    height: 128px;
    position: relative;
}
#header > div > img {
    position: absolute;
    bottom: 0;
} 
```

演示：http: [//jsfiddle.net/Fvswp/6/](http://jsfiddle.net/Fvswp/6/)

# objective-c - “缺少方法声明的上下文”

> ID：15757056
> 
> 赞同：1
> 
> 时间：2013-04-02T05:50:36.300
> 
> 标签：objective-c

在我的代码`missing context for method declaration`中，两个 -(void) 语句都出现“”错误，我无法找出原因。

这是我的代码：

```
- (void)onTimer {
[self checkCollision];
bad.center = CGPointMake(bad.center.x+pos.x,bad.center.y+pos.y);
if(bad.center.x >320 || bad.center.x<0)
    pos.x = -pos.x;
if(bad.center.y >480 || bad.center.y<0)
    pos.y = -pos.y;
}

- (void) checkCollision {
if (CGRectIntersectsRect(good.frame,bad.frame)) {
    [startButton setHidden:NO];
    [timer invalidate];

    CGRect frame = [good frame];
    frame.origin.x = 132.0;
    frame.origin.y = 332.0;
    [good setFrame:frame];

    CGRect frame2 = [good frame];
    frame2.origin.x = 125.0;
    frame2.origin.y = 70.0;
    [bad setFrame:frame2]; 

    UIAlertView *alert = [[UIAlertView alloc] initWithTitle:@"Your not fast enough!"                         message:@"Try again!" delegate:nil cancelButtonTitle:@"Dismiss"otherButtonTitles:nil];

    [alert show];
    [alert release];
}
@end 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-02T05:58:47.597

现在在这种情况下；

你没有， `@implementation <ClassName>`在上面。

错误`"missing context for method declaration"`只是由于这个原因。

**另外**，您没有匹配的关闭`}`

```
- (void) checkCollision {
    if (CGRectIntersectsRect(good.frame,bad.frame)) {

    ...

    }//for if

}//for checkCOllision 
```

### 始终检查打开次数 { 是否与关闭次数匹配}。

对于这种错误，请按照以下简单步骤操作：

第 1 步：`Cmd`+`A`

第 2 步：`Ctrl`+`I`

# javascript - AngularJS 过滤器数组

> ID：15757057
> 
> 赞同：9
> 
> 时间：2013-04-02T05:50:38.593
> 
> 标签：javascript, arrays, angularjs

假设我有一个数组对象

```
[{
    name: 'a',
    number: 1
},
{
    name: 'b',
    number: 2
},
{
    name: 'c',
    number: 3
}] 
```

我只想得到名称：'b'，它是数组 [1] 值。如何将其传递给过滤器？

```
<li ng-repeat="foo in foos | filter:what_to_do_here="b"><li> 
```

* * *

## 回答 #1

> 赞同：20
> 
> 时间：2013-04-02T06:17:30.877

```
<li ng-repeat="foo in foos | filter:{name:'b'}">{{foo.name}}</li> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-02T09:16:23.693

```
<li ng-repeat="foo in foos | filter:'b'">{{foo.name}}</li> 
```

可能也有效

# c - 在下面的代码中，如何访问第二个参数？

> ID：15757066
> 
> 赞同：-1
> 
> 时间：2013-04-02T05:51:29.407
> 
> 标签：c

```
char argvv[8][32];

int func(int n, ...)
{
    va_list vl;

    va_start(vl, 8);
    if (i = 1; i <= n; i++)
    {
        strcpy(argvv[i], va_arg(vl, char *));
    }
    va_end(vl);
    parseArgs(n, argvv);
    ...
} 
```

在另一个文件中，我定义：

```
void parseArgs(int argc, char **argv)
{
    printf("arg1:%s\n", argv[1]);  
        /* ????? I know this is not right; how to access the second argument */
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-02T05:58:12.100

调用`va_start()`是错误的；它应该是：

```
va_start(vl, n); 
```

此后，您可以照常使用`va_arg()`。

您的`parseArgs()`函数应声明为：

```
void parseArgs(int argc, char argv[][32]); 
```

并适当定义。您没有将指针传递给指针；您正在传递一个二维字符数组，这是完全不同的。如果您`parseArgs()`在调用 in 范围内声明了 in `func()`，那么您的编译器会出现转换错误。

### 一个SSCCE

```
#include <stdio.h>
#include <stdarg.h>
#include <string.h>

void parseArgs(int argc, char argv[][32]);

char argvv[8][32];

static int func(int n, ...)
{
    va_list vl;

    va_start(vl, n);
    for (int i = 0; i < n; i++)
        strcpy(argvv[i], va_arg(vl, char *));
    va_end(vl);
    parseArgs(n, argvv);
    return n;
}

void parseArgs(int argc, char argv[][32])
{
    for (int i = 0; i < argc; i++)
        printf("arg%d:%s\n", i, argv[i]);  
}

int main(void)
{
    func(3, "abc", "def", "ghi");
    return 0;
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-02T06:05:31.510

我已经用注释标记了我在您的代码中所做的更改。

```
char argvv[8][32];

int func(int n, ...)
{
    va_list vl;
    int i;

    va_start(vl, n); // Changed this line
    if (i = 0; i < n; i++) // Changed this line
    {
        strcpy(argvv[i], va_arg(vl, char *));
    }
    va_end(vl);
    parseArgs(n, argvv);
    ...
}

void parseArgs(int argc, char argv[][32]) // Changed this.
{
    //argv[1] is the 2nd argument - argv[0] is the first
    printf("arg1:%s\n", argv[1]);   
} 
```

C 数组从 0 索引开始。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-02T06:03:24.507

```
void parseArgs(int argc, char **argv)
{    for (int i = 0; i < argc; i++)
        printf("argv[%d] = %s\n", i, argv[i]);
} 
```

# php - 单选按钮标签图像选择。我想在选择时添加边框或轮廓

> ID：15757068
> 
> 赞同：0
> 
> 时间：2013-04-02T05:51:42.063
> 
> 标签：php, css, button, border, outline

我正在将 OpenCart 用于 T 恤购物网站，并且我正在隐藏单选按钮，并使用向用户显示的标签图像。作为一个 T 恤网站，我们有不同尺寸的 T 恤，例如 S、M、L XL、XXL、3XL、4XL，并且每种尺寸的图片都很少。我想要发生的是当用户选择尺寸（其中一个单选按钮标签图像）时，我希望图像周围有一个边框或轮廓，以通知用户他们已经选择了该项目。许多 T 恤网站在该网站上都有类似的功能。

我浏览了网页并尝试了几种不同的方法，但到目前为止都没有。

你能给我一个例子或指出我正确的方向吗？有没有办法只用 css/html 来做到这一点？还是需要javascript或jquery？

另外，请记住这是一个 Opencart 站点，因此按钮、标签和图像中涉及的值正在通过 php 导入到文档中。

这是该页面的链接，因此您可以了解我在说什么。由于 Opencart 正在使用模板文件和 anb 外部 css 样式表，我不确定我应该发布什么代码，所以也许 url 就足够了。[http://rushedtees.com/AAO%20-%20AMERICAN%20BEAGLE](http://rushedtees.com/AAO%20-%20AMERICAN%20BEAGLE)

感谢您提前提供任何帮助。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-02T06:36:51.643

我建议使用一些 jQuery 来抓取您单击的任何内容并添加一个带边框的独特类。换句话说，当您按下图像时，您会从所有图像中删除该类，然后将一个应用于您刚刚单击的图像：

```
var shirts = $('.product-info .option-image img');
shirts.on('click', function(){
    shirts.removeClass('border-class');
    $(this).addClass('border-class');
}); 
```

并记得在你的 CSS 中添加一个类：

```
<style>
.border-class { border:2px solid red; }
</style> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-02T09:43:01.800

```
shirts.on('input', function () {
    shirts.removeClass('product-info .option-image img');
    $(this).addClass('border-class');
}) 
```

你应该尝试删除上面的代码。我认为它从不做任何事情，因为它在 DOM 加载之前被调用。也许你打算把它放在一个`$(document).ready(function(){})`?

* * *

**并在其位置添加以下代码**

```
 $(function () {
        $('.option-image').click(function(ev){
           if(ev.target.tagName !== 'IMG') return;
           $('label', $(this)).removeClass('border-class');
           $(ev.target).closest('label').addClass('border-class');
        })
     }); 
```

上面的代码突出显示一个选定的`<label>`. 此代码使用[此事件委托技术](http://brandonaaron.net/blog/2010/03/4/event-delegation-with-jquery)。

**更新**

为了将类添加到`<img>`而不是`<label>`，请使用以下代码

```
 $(function () {
        $('.option-image').click(function(ev){
           if(ev.target.tagName !== 'IMG') return;
           $('img', $(this)).removeClass('border-class');
           $(ev.target).addClass('border-class');
        })
     }); 
```

# qt - Qtableview中的用户可编辑复选框

> ID：15757072
> 
> 赞同：7
> 
> 时间：2013-04-02T05:51:55.587
> 
> 标签：qt, qt4

我想实现一个`QTableView`使用 QAbstractModel 创建的用户可编辑复选框。我可以分配一个选中和未选中的复选框，但无法使其可编辑。标志设置为`QItemIsUserCheckable`。

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2013-04-02T17:04:34.290

`setData()`您可以通过像这样实现模型的方法来轻松地做到这一点：

```
bool yourModel::setData(const QModelIndex &index, const QVariant &value, int role)
{
    if (!index.isValid())
        return false;
    if (role == Qt::CheckStateRole)
    {
        if ((Qt::CheckState)value.toInt() == Qt::Checked)
        {
            //user has checked item
            return true;
        }
        else
        {
            //user has unchecked item
            return true;
        }
    }
    return false;
} 
```

并且不要忘记模型的`data()`方法：

```
QVariant ProxyModelSubobjects::data(const QModelIndex &index, int role) const
{
    if (!index.isValid())
        return QVariant();
    if (role == Qt::CheckStateRole && index.column() == COLUMN_WITH_CHECKBOX)
    {
        //return Qt::Checked or Qt::Unchecked here
    }
    //...
} 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-04-02T19:49:41.437

第一件事。

仅当您创建树模型时，QAbstractItemModel 才是模型的不错选择，而在大多数其他情况下，最好使用 QAbstractTableModel 甚至 QAbstractListModel，因为它们为您节省了实现特定虚拟方法的工作模型类型（表格或列表）。

这些模型的文档非常详尽，并告诉您要实现哪些功能以使模型可编辑。对于这个简短的解释，我将使用表格模型。主要功能有：

*   QVariant data(index, role) : 返回当前索引 & 角色的 QVariant 值
*   bool setData(index, value, role) : 返回传递的值是否写入索引
*   QItemFlags flags() : 返回传递索引的 QItemFlags 值

对于这种情况，我将忽略其他人。

所有 Qt 视图都以相同的方式工作 - 当它们显示时，它们会根据 flags() 为其索引返回的值使用模型中的数据填充它们自己，它们的元素是可编辑/可选择的等。当它们被编辑时，值通过 setData() 函数传递给模型。

您似乎缺少的是 flags() 方法中的 Qt::ItemIsEditable 标志。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-02T16:10:32.623

您要实现的是自定义委托。查看[QAbstractItemDelegate](https://doc.qt.io/qt-5.13/qabstractitemdelegate.html#details)类以获取有关实际实现的更多信息。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2017-06-19T19:57:12.147

在我浏览了一堆论坛试图弄清楚如何做到这一点但没有任何效果之后，我最终在 [http://doc.qt.io/qt-4.8/modelview.html中找到了一个注释](http://doc.qt.io/qt-4.8/modelview.html)

在 2.2 使用角色扩展只读示例的末尾，文本注释“现在我们需要确定使用分离模型如何影响应用程序的性能，所以让我们跟踪视图调用 data() 方法的频率。为了跟踪如何经常视图调用模型，我们在data()方法中放了一个debug语句，它会记录到错误输出流中。在我们的小例子中，data()会被调用42次。每次将光标悬停在字段，data() 将被再次调用 - 每个单元格 7 次。这就是为什么在调用 data() 并缓存昂贵的查找操作时确保您的数据可用很重要的原因。

这让我意识到“yourModal::data()”是连续调用的，但是，为了额外的更新，我在设置中添加了一个时间来运行检查选择。我的有点棘手，因为我实际上是从我的 MainWindow 打开一个 groupBox 弹出窗口，享受额外的代码。

所以基本上这是我想出的代码，它运行得很好：

```
#ifndef ADD_PARAMETERS_GROUPBOX
#define ADD_PARAMETERS_GROUPBOX

#include <QGroupBox>
#include <QAbstractTableModel>

namespace Ui {
class AdditionalParameters;
}

class AdditionalParameters : public QGroupBox
{
    Q_OBJECT

public:

    explicit AdditionalParameters(QWidget *parent = 0);
    ~AdditionalParameters();

private:
    Ui::AdditionalParameters *ui;

signals:
    void stateChanged(int state);

private slots:
    void PARAMTER_SEL(QModelIndex box);
};

#endif // ADD_PARAMETERS_GROUPBOX

#ifndef ADD_PARAMETERS_SELECTION_TABLE
#define ADD_PARAMETERS_SELECTION_TABLE

#include <QAbstractTableModel>
#include <QString>
class MainWindow;

const int ROWS = 63;
const int COLS = 5;
class ParametersTable : public QAbstractTableModel
{
    Q_OBJECT
public:
    ParametersTable(QObject *parent);
    int rowCount(const QModelIndex &parent = QModelIndex()) const ;
    int columnCount(const QModelIndex &parent = QModelIndex()) const;
    QVariant data(const QModelIndex &index, int role = Qt::DisplayRole) const;
    QVariant headerData(int section, Qt::Orientation orientation, int role) const;
    //bool setData(const QModelIndex & index, const QVariant & value, int role = Qt::CheckStateRole);
    Qt::ItemFlags flags(const QModelIndex & index) const;

private:
     //QString m_gridData[ROWS][COLS];  //holds text entered into QTableView
     //bool m_gridData[ROWS][COLS];  //holds state entered into QTableView

signals:
    void editCompleted(const QString &);
    void stateChanged(int state);

private slots:
    //void updateTable();
    //void PARAMTER_SEL(QModelIndex box);
};

#include "add_parameters_groupbox.h"
#include "ui_add_parameters_groupbox.h"
#include "add_parameters_selection_table.h"

#include <QTableView>
#include <QAbstractTableModel>
#include <QList>
#include <QTimer>
#include <QDebug>
#include <qcheckbox.h>

QStringList paraHold;
QStringList paraSymbols;
QString Parameters[500][5];
QAbstractTableModel *paraTable;
QItemSelectionModel *selectionModel;

bool m_gridData[ROWS][COLS];

AdditionalParameters::AdditionalParameters(QWidget *parent) :
QGroupBox(parent),
ui(new Ui::AdditionalParameters)
{
    ui->setupUi(this);

    paraTable = new ParametersTable(this);
    ui->AddPara_tableView->setModel(paraTable);

    connect(ui->AddPara_tableView,SIGNAL(clicked(QModelIndex)),
            this, SLOT(PARAMTER_SEL(QModelIndex)));

    paraHold 
             << "60 xxxx"
             << "lines"
             << "of strings";
    paraSymbols
             << "60+/-"
             << "lines"
             << "of strings";

    for(int i = 0; i<(paraHold.size()); i++)
    {
        Parameters[i][0] = paraHold.at(i);
        m_gridData[i][0] = false;
//        qDebug() << "m_gridData[i][0]:" << m_gridData[i][0];
        if((!Parameters[i][0].contains("T",Qt::CaseInsensitive))
                || (Parameters[i][0].contains("FET",Qt::CaseInsensitive))
                || (Parameters[i][0].contains("NT",Qt::CaseInsensitive))
                || (Parameters[i][0].contains("LT",Qt::CaseInsensitive))
                || (Parameters[i][0].contains("TAT",Qt::CaseInsensitive))){
        Parameters[i][1] = "Current/Voltage";
        m_gridData[i][1] = true;
//        qDebug() << "m_gridData[i][1]:" << m_gridData[i][1];
        }
        if(!((Parameters[i][0].contains("V",Qt::CaseInsensitive))
             || (Parameters[i][0].contains("I_",Qt::CaseInsensitive))
             || (Parameters[i][0].contains("cell",Qt::CaseInsensitive))
             || (Parameters[i][0].contains("FET",Qt::CaseInsensitive))
             || (Parameters[i][0].contains("NT",Qt::CaseInsensitive))
             || (Parameters[i][0].contains("LT",Qt::CaseInsensitive))
             || (Parameters[i][0].contains("_SCD",Qt::CaseInsensitive))
             || (Parameters[i][0].contains("_CFA",Qt::CaseInsensitive))
             || (Parameters[i][0].contains("_OWD",Qt::CaseInsensitive))
             || (Parameters[i][0].contains("_CHG",Qt::CaseInsensitive))
             || (Parameters[i][0].contains("_DSG",Qt::CaseInsensitive))
             || (Parameters[i][0].contains("OC",Qt::CaseInsensitive)))){
        Parameters[i][2] = "Tempurature";
        m_gridData[i][2] = true;
//        qDebug() << "m_gridData[i][2]:" << m_gridData[i][2];
        }
        Parameters[i][3] = paraSymbols.at(i);
    }
    QTimer *timer = new QTimer(this);
    connect(timer, SIGNAL(timeout()), ui->AddPara_tableView, SLOT(doItemsLayout()));
//    connect(timer, SIGNAL(timeout()), ui->AddPara_tableView, SLOT(resizeColumnsToContents()));
//    QTimer::singleShot(20000, ui->AddPara_tableView, SLOT(doItemsLayout()));
    QTimer::singleShot(1000, ui->AddPara_tableView, SLOT(resizeColumnsToContents()));
    timer->start(1000);
}

AdditionalParameters::~AdditionalParameters()
{
    delete ui;
}

ParametersTable::ParametersTable(QObject *parent)
    :QAbstractTableModel(parent)
{

}

int ParametersTable::rowCount(const QModelIndex & /*parent*/) const
{
    //int pararow = Parameters.size();
    //return pararow;
    return 62;
}

int ParametersTable::columnCount(const QModelIndex & /*parent*/) const
{
    //int paracol;
    return 5;
}

QVariant ParametersTable::headerData(int section, Qt::Orientation orientation, int role) const
{
    if (role == Qt::DisplayRole)
    {
        if (orientation == Qt::Horizontal) {
            switch (section)
            {
            case 0:
                return QString("Parameter");
            case 1:
                return QString("Current/Voltage Chart");
            case 2:
                return QString("Tempurature Chart");
            case 3:
                return QString("Symbol");
            case 4:
                return QString("Color");
            }
        }
    }

    return QVariant();
}

QVariant ParametersTable::data(const QModelIndex &index, int role) const
{
    int row = index.row();
    int col = index.column();

    switch(role){
    case Qt::DisplayRole:

        return QString("%1")
                .arg(Parameters[row][col]);

        break;
    case Qt::FontRole:
        if (Parameters[row][col] != "_")
        {
            QFont boldFont;
            boldFont.setBold(true);
            return boldFont;
        }

        break;
    case Qt::BackgroundRole:

        if(col == 4)
        {
            if (Parameters[row][0].contains("cell1",Qt::CaseInsensitive))
            {
                QBrush redBackground(Qt::blue);
                return redBackground;
            }
            if (Parameters[row][0].contains("cell2",Qt::CaseInsensitive))
            {
                QBrush redBackground(Qt::cyan);
                return redBackground;
            }
            if (Parameters[row][0].contains("cell3",Qt::CaseInsensitive))
            {
                QBrush redBackground(Qt::magenta);
                return redBackground;
            }
            if (Parameters[row][0].contains("cell4",Qt::CaseInsensitive))
            {
                QBrush redBackground(Qt::yellow);
                return redBackground;
            }
            if (Parameters[row][0].contains("cell5",Qt::CaseInsensitive))
            {
                QBrush redBackground(Qt::darkGray);
                return redBackground;
            }
            if (Parameters[row][0].contains("cell6",Qt::CaseInsensitive))
            {
                QBrush redBackground(Qt::red);
                return redBackground;
            }
            if (Parameters[row][0].contains("cell7",Qt::CaseInsensitive))
            {
                QBrush redBackground(Qt::darkGreen);
                return redBackground;
            }

            if (Parameters[row][0].contains("I_",Qt::CaseInsensitive))
            {
                QBrush redBackground(Qt::green);
                return redBackground;
            }
            if ((Parameters[row][0].contains("CH",Qt::CaseInsensitive))
                 || (Parameters[row][3].contains("+",Qt::CaseInsensitive)))
            {
                QBrush redBackground(Qt::green);
                return redBackground;
            }
            if ((Parameters[row][0].contains("DS",Qt::CaseInsensitive))
                    || (Parameters[row][3].contains("-",Qt::CaseInsensitive)))
            {
                QBrush redBackground(Qt::red);
                return redBackground;
            }
            if (Parameters[row][0].contains("V_Pack",Qt::CaseInsensitive))
            {
                QBrush redBackground(Qt::darkRed);
                return redBackground;
            }

            if (Parameters[row][0].contains("T_ISL",Qt::CaseInsensitive))
            {
                QBrush redBackground(Qt::darkMagenta);
                return redBackground;
            }
            if (Parameters[row][0].contains("T_HS",Qt::CaseInsensitive))
            {
                QBrush redBackground(Qt::darkYellow);
                return redBackground;
            }
            if (Parameters[row][0].contains("T_LS",Qt::CaseInsensitive))
            {
                QBrush redBackground(Qt::darkCyan);
                return redBackground;
            }
            if (Parameters[row][0].contains("T_B",Qt::CaseInsensitive))
            {
                QBrush redBackground(Qt::darkBlue);
                return redBackground;
            }

        }
        break;
    case Qt::TextAlignmentRole:

        if (col == 3) //change text alignment only for colum 3
        {
             return Qt::AlignCenter;//+ Qt::AlignVCenter;
        }
        break;
    case Qt::CheckStateRole:

        if((col == 0) && (m_gridData[row][0] == false)){  //add a checkbox to all rows in colum 0
//            qDebug() << "m_gridData[" << row << "][0]:" << m_gridData[row][0];
            return Qt::Unchecked;
        }
        else if((col == 0) && (m_gridData[row][0] == true)){
//            qDebug() << "m_gridData[" << row << "][0]:" << m_gridData[row][0];
            return Qt::Checked;
        }

        if((Parameters[row][1].contains("Current/Voltage",Qt::CaseSensitive)
            && (col == 1)) && (m_gridData[row][1] == true)){
//            qDebug() << "m_gridData[" << row << "][1]:" << m_gridData[row][1];
            return Qt::Checked;
        }
        else if((Parameters[row][1].contains("Current/Voltage",Qt::CaseSensitive) && (col == 1))
                && (m_gridData[row][1] == false)){
//            qDebug() << "m_gridData[" << row << "][1]:" << m_gridData[row][1];
            return Qt::Unchecked;
        }

        if(Parameters[row][2].contains("Tempurature",Qt::CaseSensitive)
                && (col == 2) && (m_gridData[row][2] == true)){
//            qDebug() << "m_gridData[" << row << "][2]:" << m_gridData[row][2];
            return Qt::Checked;
        }
        else if((Parameters[row][2].contains("Tempurature",Qt::CaseSensitive)
                 && (col == 2)) && (m_gridData[row][2] == false)){
//            qDebug() << "m_gridData[" << row << "][2]:" << m_gridData[row][2];
            return Qt::Unchecked;
        }
    }
    return QVariant();
}

Qt::ItemFlags ParametersTable::flags(const QModelIndex & /*index*/) const
{
    return Qt::ItemIsSelectable |  Qt::ItemIsUserCheckable | Qt::ItemIsEnabled;
}

void AdditionalParameters::PARAMTER_SEL(QModelIndex Box)
{
    int row = Box.row();
    int col = Box.column();

    if(!Parameters[row][col].isEmpty()){
        m_gridData[row][col] = (!(m_gridData[row][col]));
        qDebug() << "PARA_SEL @ m_gridData[row][col]:(" << row << "," << col << "):" << m_gridData[row][col];
    }
    emit stateChanged(m_gridData[row][col]);

} 
```

# tapestry - 挂毯中的itext pdf

> ID：15757075
> 
> 赞同：0
> 
> 时间：2013-04-02T05:52:06.673
> 
> 标签：tapestry, itextpdf

`itext pdf`当我扩展一个`PdfPageEventHelper` 显示以下错误的类时，我正在努力。

```
Base class com.lowagie.text.pdf.PdfPageEventHelper (super class of 
de.fu_berlin.inf.klausurenportal.pages.question.TableHeader) is not in a controlled package
 and is therefore not valid. You should try moving the class to package 
de.fu_berlin.inf.klausurenportal.base. 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-02T07:35:28.983

似乎您的组件是`com.lowagie.text.pdf.PdfPageEventHelper`从不在挂毯控制包中的类扩展而来的。Tapestry5 组件和页面的所有超类都应该放在`root.base`包中。

[http://tapestry.apache.org/component-classes.html#ComponentClasses-ComponentPackages](http://tapestry.apache.org/component-classes.html#ComponentClasses-ComponentPackages)

但是您可以`PdfPageEvent`改为实现接口。您甚至可以在包中创建类似于`PdfPageEventHelper`类的东西`root.base`并对其进行扩展。

但是你的组件中真的需要这个类吗？您可以将`PdfPageEvent`实现用作单独的类，例如作为页面的内部类或实用程序类。

# java - Android：在行中创建按钮

> ID：15757080
> 
> 赞同：4
> 
> 时间：2013-04-02T05:52:18.230
> 
> 标签：java, android, android-layout, android-button

它在单行中创建动态按钮

```
 final LinearLayout layoutshape = (LinearLayout) findViewById(R.id.linearshape);
  a = new Button[10];
  for (int i = 0; i < 10; i++) {
      a[i] = new Button(this);
      a[i].setText(""+i);
      a[i].setId(i);
      a[i].setLayoutParams(new LayoutParams(LayoutParams.WRAP_CONTENT,
                                               LayoutParams.WRAP_CONTENT));
      a[i].setBackgroundResource(R.drawable.background);
     layoutshape.addView(a[i]);
    } 
```

但我想让它分成三行。例如：如果我有 30 个按钮，那么它应该显示在第一行的 10 个按钮中，然后是第二行的 10 个，第三行的 10 个

o/p 按钮为：

b1 b2 b3 b4 b5

b6 b7 b8 b9 b10

b11 b12 b13 b14 b15

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-02T06:13:10.897

首先将主布局（布局形状）的方向设置为垂直。

```
for (int i = 0; i < i/10; i++) {

LinearLayout row = new LinearLayout(this); 
```

将行的方向设置为水平。

```
for (int i = 0; i < 30; i++) {

  a[i] = new Button(this);
  a[i].setText(""+i);
  a[i].setId(i);
  a[i].setLayoutParams(new LayoutParams(LayoutParams.WRAP_CONTENT,
                                           LayoutParams.WRAP_CONTENT));
  a[i].setBackgroundResource(R.drawable.background);
 row.addView(a[i]);
}
layoutshape.addView(row);
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-02T06:10:32.287

您至少需要行数在`n` `LinearLayout`哪里`n`。如果您真的想使用 a`LinearLayout`然后使用以下命令添加按钮`LayoutParams`：

`new LinearLayout.LayoutParams(0,LayoutParams.WRAP_CONTENT, 1/numButtonsInRow);`

`1/numButtonsInRow`是按钮的重量。例如，如果您连续有 10 个按钮，则每个按钮的权重为`0.1`. 如果您的布局是水平的，请将其设置`width`为 0，如果是垂直的，请将其设置`height`为 0。

在您的情况下，您可能应该使用 a `GridLayout`orthough `TableLayout`。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-02T06:09:26.637

在“layoutshape”LinearLayout 中创建 3 个 LinearLayouts，方向为垂直。然后将按钮添加到内部线性布局。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-02T06:11:48.740

30 个按钮看起来像一个键盘： http: [//developer.android.com/reference/android/inputmethodservice/Keyboard.html](http://developer.android.com/reference/android/inputmethodservice/Keyboard.html) 并且可以通过 xml 创建键盘（参见 SDK 中的 SoftKeyboard 示例，samples/android-10/软键盘子目录）。

如果您真的需要 3 行按钮，我的建议是在运行时填充 3 个水平线性布局。但请注意，屏幕尺寸各不相同，手机上的好东西在平板电脑上可能看起来很丑。

# c# - 如何将变量中的模式名称传递给 nHibernate 的命名查询？

> ID：15757083
> 
> 赞同：1
> 
> 时间：2013-04-02T05:52:32.790
> 
> 标签：c#, nhibernate

我的一个 nhibernate 映射文件中有一个命名的本机 sql 查询，如下所示：

```
<sql-query name="GetAllClients">
    <return alias="clientList" class="IBeam.Core.Models.Client"/>
    <![CDATA[
      SELECT a.sname Name, a.scd Id
        FROM :MASTER_USER.smast      a,
        :MASTER_USER.fa_ledmast b,
        :TRAN_USER.fa_subledmast c
      WHERE a.scd = c.subledcd
        AND b.ledgercd = c.ledgercd
        AND b.ledtypecd = 'SDR'
        AND a.catflg  = 'N'
     group by a.scd, a.sname
     order by a.sname
   ]]>
</sql-query> 
```

我从我的 c# 代码运行这个查询，如下所示：

```
var query = Repository.GetExecutingSession().GetNamedQuery("GetAllClients").SetString("MASTER_USER", "test$master").SetString("TRAN_USER", "test$tran");
var clients = query.List<Models.Client>(); 
```

但我收到错误：参数 MASTER_USER 在查询中不作为命名参数存在。我以前使用过命名查询并将参数传递给它，但从来没有作为模式名称。我认为它是将整体`:MASTER_USER.smast`视为表名，而不是区分参数名。如何将架构名称作为参数传递给此查询？

我找到了这个[链接](https://hibernate.atlassian.net/browse/HHH-2576)，所以我认为它可以完成。但我不知道该怎么做。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-02T12:09:37.527

首先，您的架构规范不能是 SQL 参数。替换需要由 NH 引擎执行，而不是由 SQL 引擎执行。因此，您的架构规范需要在 NH 占位符中（带尖括号）

然后，您提供的 Hibernate Link 不允许将模式作为参数传递。它允许从配置中提取默认模式。

也许（未尝试）您可以尝试这样的事情，使用（非常粗糙的）拦截器实现：

```
public class SchemaSqlInterceptor : EmptyInterceptor, IInterceptor
{

    public string MASTER_USER { get; set; }
    public string TRAN_USER { get; set; }

    NHibernate.SqlCommand.SqlString IInterceptor.OnPrepareStatement(NHibernate.SqlCommand.SqlString sql)
    {
        return sql.Replace("{MASTER_USER}", MASTER_USER).Replace("{TRAN_USER}", TRAN_USER);
    }
} 
```

然后 ：

```
 var interceptor = new SchemaSqlInterceptor();
    using (var session = sessionFactory.OpenSession(interceptor))
    {
        interceptor.MASTER_USER = "test$master";
        interceptor.TRAN_USER = "test$tran";
        var query = session.GetNamedQuery("GetAllClients");
        var clients = query.List<Models.Client>();
        session.Close();
    } 
```

您的查询是：

```
<sql-query name="GetAllClients">
    <return alias="clientList" class="IBeam.Core.Models.Client"/>
    <![CDATA[
      SELECT a.sname Name, a.scd Id
        FROM {MASTER_USER}.smast      a,
        {MASTER_USER}.fa_ledmast b,
        {TRAN_USER}.fa_subledmast c
      WHERE a.scd = c.subledcd
        AND b.ledgercd = c.ledgercd
        AND b.ledtypecd = 'SDR'
        AND a.catflg  = 'N'
     group by a.scd, a.sname
     order by a.sname
   ]]>
</sql-query> 
```

# ios - iOS 上的 MECL 与 developer.paypal.com 上的新 API 凭据

> ID：15757086
> 
> 赞同：1
> 
> 时间：2013-04-02T05:52:42.287
> 
> 标签：ios, paypal

几个月前我写了一个使用 PayPal 支付的应用程序。我按照 x.com 上的指南创建了几个测试帐户来测试我的应用程序。但是我注意到他们将很多内容移到了新的 web 端 developer.paypal.com（也许不是？），我发现我的测试帐户已经不见了。我在 x.com 上的任何地方都找不到它们，我之前在代码注释中写过其中一个，它仍然有效。问题是——当我尝试在新网站中创建一个测试帐户并在 MECL 中使用其凭据和 API 名称/密码时，响应是安全头无效。我错过了什么吗？或者他们完全是两个概念？

顺便说一句：有什么办法可以让我的旧测试帐户回到 x.com 上？

# android - 在 android 中使用命名空间制作 SoapRequest 对象

> ID：15757088
> 
> 赞同：1
> 
> 时间：2013-04-02T05:52:56.867
> 
> 标签：android, web-services, soap, namespaces, ksoap2

我正在开发一个项目，我必须从以下代码创建一个 SOAP 请求对象：

```
<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:mod="http://www.tmforum.org/xml/tip/model" xmlns:prob="http://www.tmforum.org/xml/tip/cbe/problem" xmlns:geo="http://www.tmforum.org/xml/tip/cbe/loc/geo" xmlns:loc="http://www.tmforum.org/xml/tip/cbe/loc" xmlns:tt="http://www.tmforum.org/xml/tip/cbe/tt" xmlns:ent="http://www.tmforum.org/xml/tip/internal/entity" xmlns:ext="http://www.tmforum.org/xml/tip/cbe/problem/extensions">
   <soapenv:Header/>
   <soapenv:Body>
      <mod:retrieveProblemRequest>
         <!--Optional:-->
         <mod:customerProblem>
            <!--Optional:-->
            <prob:problemId>0005004426</prob:problemId>

         </mod:customerProblem>
      </mod:retrieveProblemRequest>
   </soapenv:Body>
</soapenv:Envelope> 
```

我正在使用 KSOAP2 来创建请求对象，但在分配命名空间时遇到了问题，因此发送的请求总是不正确的。

请向我提供在 android 中将此 SoapRequest 转换为 SoapObject 的代码。

编辑：我的代码如下：

```
private static String SOAP_ACTION1 = "/BusinessServices/Inbound/TIP_R4GCanonicalModel_model_problemservicev1dot3-service0.serviceagent/ProblemServiceV1dot3Endpoint0/retrieveProblem";
    private static String REQUEST_TARGET_NAMESAPCE="http://xmlns.example.com/1362214927265/";
    private static String TARGET_NAMESPACE_MOD = "http://www.tmforum.org/xml/tip/model/";
    private static String NAMESPACE_PROB="http://www.tmforum.org/xml/tip/cbe/problem/";
    private static String METHOD_NAME = "retrieveProblem";
    private static String URL = "http://10.128.28.44:10005/BusinessServices/Inbound/ProblemService_proxy.serviceagent/ProblemServiceV1dot3Endpoint0";
public static String LOG_TAG = "SOAPRequestResponseActivity";

    @Override
    public void onCreate(Bundle savedInstanceState)

    {

        super.onCreate(savedInstanceState);
            setContentView(R.layout.main);
            btnFar = (Button) findViewById(R.id.btnFar);
        btnFar.setOnClickListener(new View.OnClickListener()

        {
            @Override
            public void onClick(View v)

            {

                // Initialize soap request + add parameters

                SoapObject request = new SoapObject(REQUEST_TARGET_NAMESAPCE,METHOD_NAME);

                SoapObject retrieveInfo=new SoapObject(TARGET_NAMESPACE_MOD,"retrieveProblemRequest");

                SoapObject customerObject=new SoapObject(TARGET_NAMESPACE_MOD, "customerProblem");

                PropertyInfo info=new PropertyInfo();
                info.setNamespace(NAMESPACE_PROB);
                info.setName("problemId");
                info.setValue("0005004426");

                customerObject.addProperty(info);
                retrieveInfo.addSoapObject(customerObject);
                request.addSoapObject(retrieveInfo);

   Log.i(LOG_TAG, "===Request soap object after params=="
                        + request.toString());

                // Declare the version of the SOAP request

                SoapSerializationEnvelope envelope = new SoapSerializationEnvelope(
                        SoapEnvelope.VER11);

                envelope.implicitTypes=true;
                envelope.setOutputSoapObject(request);

                try {

                    HttpTransportSE androidHttpTransport = new HttpTransportSE(
                            URL);

                    ArrayList<HeaderProperty> headerProperty = new ArrayList<HeaderProperty>();

                    headerProperty.add(new HeaderProperty("SOAPAction", "/BusinessServices/Inbound/TIP_R4GCanonicalModel_model_problemservicev1dot3-service0.serviceagent/ProblemServiceV1dot3Endpoint0/retrieveProblem"));

                    androidHttpTransport.call(SOAP_ACTION1, envelope,headerProperty); 
```

只要调用方法，它就会抛出异常 HttpRequestFailed，错误代码为 500。由于请求不正确，服务器无法解析它。

请为我提供适当的解决方案。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-02T08:41:06.137

我遇到了一个名为[ksoap2-android](http://code.google.com/p/ksoap2-android/)的库，它非常有帮助，你可以试试这个。这是我用来调用 web 方法的类文件

```
 public class CallSOAP {

private String SOAP_ACTION="your action url";
private String OPERATION_NAME="";//The web method OR web service you are going to call
private final String WSDL_TARGET_NAMESPACE=SOAP_ACTION;
private  final String SOAP_ADDRESS=Configuration.WEB_SERVICE_URL;//ip-address of serever where you host your service 
private Exception exception;
private String ErrorMsg="";
private String TERST_URL="" ;
public Object call(String MethodeName,ArrayList<PropertyInfo> Parameters){

  this.OPERATION_NAME=MethodeName;
  SoapObject request = new SoapObject(WSDL_TARGET_NAMESPACE, OPERATION_NAME);
 if(Parameters != null && Parameters.size()>0){
   for(PropertyInfo propertyInfo : Parameters){
      request.addProperty(propertyInfo);
 }
}

SoapSerializationEnvelope  envelope = new SoapSerializationEnvelope(SoapEnvelope.VER11);
envelope.dotNet= true;
envelope.setOutputSoapObject(request);
HttpTransportSE httpTransport =null;
if(!this.TERST_URL.equals(""))
  httpTransport = new HttpTransportSE(this.TERST_URL);
else
  httpTransport = new HttpTransportSE(SOAP_ADDRESS);
 Object Response =null;
 try{
    httpTransport.call(SOAP_ACTION+OPERATION_NAME, envelope);
    Response=envelope.getResponse();
  }
 catch (SocketTimeoutException ex) {
     this.ErrorMsg="Unable to connect";
      Response=null;
     this.exception=ex;
  }
  catch (IOException ie) {
   this.ErrorMsg="Unable to connect";
  Response=null;
   this.exception=ie;
  }
   catch (Exception e) {
    this.ErrorMsg="Unable to connect";
    Response=null;
    this.exception=e;
 }
      return Response;
   }
} 
```

请注意，我使用的是用 ASP.NET 框架编写的 Web 服务。这就是我提供的原因

```
envelope.dotNet= true; 
```

供参考：请参阅本[教程](http://www.c-sharpcorner.com/UploadFile/88b6e5/how-to-call-web-service-in-android-using-soap/)

并看到这个[问题](https://stackoverflow.com/questions/14526892/ksoap2-soapobject-object-reference-not-set-to-an-instance)

# php - 我如何在typo3流的命令行上使用流体模板

> ID：15757089
> 
> 赞同：1
> 
> 时间：2013-04-02T05:52:57.677
> 
> 标签：php, typo3, typo3-flow

我正在尝试在typo3流的命令行控制器上使用流体模板。文档不完整。我该如何调整它并解决这个问题。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-05-19T09:02:37.887

目前这并不意味着工作，但如果你真的需要这个，你可以实例化一个 Fluid StandaloneView，渲染它并将结果提供给 CommandController::output() 方法。

# highcharts - HighStock 有可用的树状图表吗？

> ID：15757099
> 
> 赞同：0
> 
> 时间：2013-04-02T05:53:49.703
> 
> 标签：highcharts, highstock

HighStock 是否有免费或许可版本的树状图表？我们正在使用 HighStock 库来绘制时间线图表，但是找不到任何树/图形类型的可视化示例。类似于 'yFiles for HTML' 的东西？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-02T09:04:53.700

树形图不可用，但您可以在我们的 uservoice [http://highcharts.uservoice.com/forums/55896-general?query=tree](http://highcharts.uservoice.com/forums/55896-general?query=tree)中为这个建议投票。显然，您可以尝试使用带有自定义标记的散点图。

[http://www.highcharts.com/demo/scatter](http://www.highcharts.com/demo/scatter)

# tcpdf - TCPDF 用户单位

> ID：15757101
> 
> 赞同：1
> 
> 时间：2013-04-02T05:54:01.517
> 
> 标签：tcpdf

我在 TCPDF 中遇到了用户单元的奇怪行为。

我使用以下结构创建了一个新的 PDF：

```
$pdf = new Pdf("P", "mm", "A4", true, 'UTF-8', false); 
```

奇怪的是 getPageDimensions() 让我感到奇怪的用户单位：

```
$pageDimensions = $this->getPageDimensions();
$pageDimensions['wk']: 50.4000346667
$pageDimensions['hk']: 71.28002
$this->getPageWidth(): 50.4000346667
$this->getPageHeight(): 71.28002 
```

我无法理解出了什么问题。请问你能帮帮我吗？

非常感谢！再见。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-03T11:25:29.010

我发现并解决了我的问题。我是我的自定义类（它扩展了 TCPDF），我正在重新声明并重写“dpi”变量的值。

# php - PHP - 包含多个 css 文件功能

> ID：15757103
> 
> 赞同：0
> 
> 时间：2013-04-02T05:54:14.107
> 
> 标签：php, function, include

我正在尝试制作一个可以轻松加载我的css文件的函数。我没有足够的PHP知识，所以请帮助我：

我想将该函数称为：

```
<?php load_css('reset.css,main.css,bootstrap.css'); ?> 
```

请告诉我如何将所有文件名与函数参数分开并一一调用。我目前的功能：

```
<?php

load_css($files){

echo '<style src="'.$files.'"></style>';

}

?> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-02T05:56:28.733

这里的另一个想法简短，简单且易于理解。

```
// store css file names as array..
$css = array('css1','css2','css3');

// then loop to call them one by one.
foreach($css as $style){

    echo '<style src="'.$style.'"></style>';
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-02T05:57:31.173

你为什么不尝试使用传统的 HTML css 包含呢？

例如：

```
@import cssfile-number.css 
```

（将 -number 替换为不同的 css 文件名或数字）。

希望这可以帮助！

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-02T05:58:02.673

像这样写你的函数

```
<?php

load_css($files){

  $css=explode(",",$file);

  for($i=0;$i<count($css);$i++)
  {
   echo '<style src="'.$css[$i].'"></style>';
  }

}

?> 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-04-02T06:08:37.027

试试这个

```
load_css($files){
    $files = explode(",", $files);
    while(list($css) = each($files){
        echo "<style type='text/css' src='" . $css . "' ></style>";
    }
}
$css = 'css.css,css1.css,css2.css';
load_css($css); 
```

或者

```
load_css($files){
    while(list($css) = each($files){
        echo "<style type='text/css' src='" . $css . "' ></style>";
    }
}
$css = array('css.css','css1.css','css2.css');
load_css($css); 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2013-04-02T06:20:44.570

试试这个组合和缩小你的css，你只需要在页面上添加一个css而不是几个css文件

css.php

```
<?php 
$now=time()+10000;
$then="Expires: ".gmstrftime("%a,%d %b %Y %H:%M:%S GMT",$now);
header($then); 
header("Cache-Control:  public, must-revalidate"); 
header("Content-Type: text/css");
ob_start("ob_gzhandler");
set_time_limit(0);
//list of your css
$CssList=array('main.css',
'simple-lists.css');
$outt='';
foreach($CssList as $CSS){
   $outt.=minify_css($CSS);
}
function minify_css($add){
   $fp=fopen($add,'rb');
   $speed=1024*100;
   while(!feof($fp)){
     $out.=fread($fp,$speed);
   }
   $out = preg_replace('!/\*[^*]*\*+([^/][^*]*\*+)*/!', '', $out);
   /* remove tabs, spaces, newlines, etc. */
   $out = str_replace(array("\r\n", "\r", "\n", "\t", '  ', '    ', '    '), '', $out);
   //$out=str_replace("  ","",$out);
   //$out=str_replace("  ","",$out);
   return $out;
}
print($outt);
while (@ob_end_flush());
?> 
```

把这个放在你的标题上

```
<style type="text/css" src="css.php" ></style> 
```

# javascript - 如何在特定的 DIV 块（JS 或 JQUery）中 getElementByID

> ID：15757105
> 
> 赞同：4
> 
> 时间：2013-04-02T05:54:22.147
> 
> 标签：javascript, jquery, getelementbyid

我只是想要一种快速/简单/简单的方法来检查特定元素（在本例中为 div）上的现有 ID。

似乎无法找到此代码示例..im 使用 jquery，但我认为我不需要在这个上做 jquery，只是基本的 getElement.. 但我需要隔离 div 块内的搜索.. 因为 id 确实存在于页面上的其他元素中，但我需要知道它是否存在于特定区域/div 中。

所以不仅仅是

```
document.getElementById(target_id); 
```

我需要类似的东西：

```
divName.getElementById(target_id); 
```

或者

```
$("document.divName").getElementById(target_id); 
```

或者

```
$(".divName").document.getElementById(target_id); 
```

似乎找不到有用的东西。

* * *

## 回答 #1

> 赞同：17
> 
> 时间：2013-04-02T05:56:36.423

ID 应该是**唯一的**，并且页面中的任何两个元素都不应该具有相同的 id。您可以在具有特定 ID 的 div 中搜索具有某些类的某些元素。

```
$('#divId .someClass') 
```

或使用[**find()**](http://api.jquery.com/find/)

```
$('#divId').find('.someClass') 
```

或使用[**上下文**](http://api.jquery.com/jQuery/)，`jQuery( selector [, context ] )`

```
$('.someClass', $('#divId')) 
```

* * *

## 回答 #2

> 赞同：11
> 
> 时间：2015-10-24T18:14:43.417

```
 var mySubDiv = myParentDiv.querySelector("#mySubDivId") 
```

相当于

```
 var mySubDiv = document.querySelector("#myParentDivId #mySubDivId"); 
    // don't forget the space :  #myParentDiv#mySubDivId won't work 
```

where`querySelector`和`querySelectorAll`是[非常有用的功能](http://www.w3schools.com/cssref/css_selectors.asp)，足以让我避免使用`jQuery` ：[他们接受任何`css selector`](http://www.w3schools.com/cssref/css_selectors.asp)

在现实生活中，`DOM elements`经常会发生使用相同的 ID 不同的情况。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-04-02T05:58:03.970

`id`应该是唯一的，您可以使用以下方法检查元素：

```
$(".your_parent_div").find("div#some_unique_id"); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2015-05-24T19:14:22.883

您可以将它用于 getElementsByTagName 或 ClassName，但 ID 在文档中是唯一的。所以不需要这样做。最好使用特殊的ID。并且在每个 id 中定义为 javascript 中的一个元素，您可以只写 id 的名称并使用它，如下所示： ID.style.color = red;

* * *

## 回答 #5

> 赞同：-3
> 
> 时间：2018-11-13T11:05:19.627

根据我对您的问题的理解，您在执行时使用了两个同名的 id，它只需要第一个 ID，所以您要求从特定的 div 中获取 id，那么使用两个 id 相同的编码类型是不好的如果想使用相同的名称，请改为使用名称。您的问题的解决方案是 -this ->

```
 var someDiv = document.getElementsByClassName("divName");
    var someId = someDiv[0].getElementById("target_id"); 
```

# android - Android：无法启动活动 ComponentInfo{/com.}：android.view.InflateException：二进制 XML 文件行错误膨胀类片段

> ID：15757106
> 
> 赞同：3
> 
> 时间：2013-04-02T05:54:22.313
> 
> 标签：android, xml, google-maps, exception, google-maps-android-api-2

我使用 Google Maps Android v1 API 创建了我的应用程序的第一个版本。但是现在当我发布我的第二版应用程序时，谷歌地图停止工作。我认为这是因为它已被弃用。

所以现在我正在尝试使用链接创建示例 Android 应用程序以使用 Google Map

```
https://developers.google.com/maps/documentation/android/start#getting_the_google_maps_android_api_v2 
```

但我低于强制关闭错误

```
FATAL EXCEPTION: main
java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.testmap/com.example.testmap.MainActivity}: android.view.InflateException: Binary XML file line #16: Error inflating class fragment
at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:1651)
at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:1667)
at android.app.ActivityThread.access$1500(ActivityThread.java:117)
at android.app.ActivityThread$H.handleMessage(ActivityThread.java:935)
at android.os.Handler.dispatchMessage(Handler.java:99)
at android.os.Looper.loop(Looper.java:130)
at android.app.ActivityThread.main(ActivityThread.java:3687)
at java.lang.reflect.Method.invokeNative(Native Method)
at java.lang.reflect.Method.invoke(Method.java:507)
at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:867)
at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:625)
at dalvik.system.NativeStart.main(Native Method)
Caused by: android.view.InflateException: Binary XML file line #16: Error inflating class fragment
at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:581)
at android.view.LayoutInflater.rInflate(LayoutInflater.java:623)
at android.view.LayoutInflater.inflate(LayoutInflater.java:408)
at android.view.LayoutInflater.inflate(LayoutInflater.java:320)
at android.view.LayoutInflater.inflate(LayoutInflater.java:276)
at com.android.internal.policy.impl.PhoneWindow.setContentView(PhoneWindow.java:209)
at android.app.Activity.setContentView(Activity.java:1657)
at com.example.testmap.MainActivity.onCreate(MainActivity.java:12)
at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1047)
at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:1615)
... 11 more
Caused by: java.lang.ClassNotFoundException: android.view.fragment in loader dalvik.system.PathClassLoader[/data/app/com.example.testmap-1.apk]
at dalvik.system.PathClassLoader.findClass(PathClassLoader.java:240)
at java.lang.ClassLoader.loadClass(ClassLoader.java:551)
at java.lang.ClassLoader.loadClass(ClassLoader.java:511)
at android.view.LayoutInflater.createView(LayoutInflater.java:471)
at android.view.LayoutInflater.onCreateView(LayoutInflater.java:549)
at com.android.internal.policy.impl.PhoneLayoutInflater.onCreateView(PhoneLayoutInflater.java:66)
at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:568)
... 20 more 
```

我的活动代码是

```
package com.example.testmap;

import android.os.Bundle;
import android.app.Activity;
import android.view.Menu;

public class MainActivity extends Activity {

@Override
protected void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.activity_main);
}

@Override
public boolean onCreateOptionsMenu(Menu menu) {
    getMenuInflater().inflate(R.menu.main, menu);
    return true;
}

} 
```

我的 xml 文件代码是

```
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
xmlns:tools="http://schemas.android.com/tools"
android:layout_width="match_parent"
android:layout_height="match_parent"
android:paddingBottom="@dimen/activity_vertical_margin"
android:paddingLeft="@dimen/activity_horizontal_margin"
android:paddingRight="@dimen/activity_horizontal_margin"
android:paddingTop="@dimen/activity_vertical_margin"
tools:context=".MainActivity" >

<TextView
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:text="@string/hello_world" />

<fragment
    android:id="@+id/map"
    android:name="com.google.android.gms.maps.MapFragment"
    android:layout_width="match_parent"
    android:layout_height="match_parent" /> 
```

我的清单文件是

```
<?xml version="1.0" encoding="utf-8"?>
<manifest xmlns:android="http://schemas.android.com/apk/res/android"
package="com.example.testmap"
android:versionCode="1"
android:versionName="1.0" >

<uses-sdk
    android:minSdkVersion="9"
    android:targetSdkVersion="17" />

<uses-feature
    android:glEsVersion="0x00020000"
    android:required="true" />

<permission
    android:name="android.os.Bundle.permission.MAPS_RECEIVE"
    android:protectionLevel="signature" />

<uses-permission android:name="android.permission.INTERNET" />
<uses-permission android:name="android.permission.ACCESS_NETWORK_STATE" />
<uses-permission android:name="com.google.android.providers.gsf.permission.READ_GSERVICES" />
<uses-permission android:name="android.permission.ACCESS_COARSE_LOCATION" />
<uses-permission android:name="android.permission.ACCESS_FINE_LOCATION" />
<uses-permission android:name="com.example.mapdemo.permission.MAPS_RECEIVE" />

<application
    android:allowBackup="true"
    android:icon="@drawable/ic_launcher"
    android:label="@string/app_name"
    android:theme="@style/AppTheme" >
    <activity
        android:name="com.example.testmap.MainActivity"
        android:label="@string/app_name" >
        <intent-filter>
            <action android:name="android.intent.action.MAIN" />

            <category android:name="android.intent.category.LAUNCHER" />
        </intent-filter>
    </activity>

    <meta-data
        android:name="com.google.android.maps.v2.API_KEY"
        android:value="AIzaSyCdAP9Sa6lOBZkvn6yOuoEc7JeqM3nPY" />
</application> 
```

请帮助我，我无法使用这个新的 Google Map API 运行简单的应用程序

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-04-02T06:22:31.733

如果您正在为 API 级别 <11 运行代码，请使用`FragmentActivity`而不是扩展`Activity`和在 XML 中，使用`"com.google.android.gms.maps.SupportMapFragment"`

另请检查：**[Google Maps Fragment does not load](https://stackoverflow.com/questions/15703245/google-maps-fragment-doesnt-load/15703453#15703453)**

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-02T05:59:12.457

```
Caused by: java.lang.ClassNotFoundException: android.view.fragment in loader dalvik.... 
```

这意味着它没有找到API级别11（Android 3.0.x，HONEYCOMB）中添加的android.view.fragment；您最有可能在 Android 2+ 上构建/运行

# joomla - 在服务器上导出整个数据库并返回 url 以下载

> ID：15757115
> 
> 赞同：1
> 
> 时间：2013-04-02T05:55:11.750
> 
> 标签：joomla, joomla2.5, joomla3.0, joomla3.1

是否有任何工具可以转储导出整个数据库（结构+数据），将 bd_sql.zip 保存在服务器上并返回 url 以下载 dp 转储？

我找到[了 LazyDbBackup](http://www.joomxtensions.com/en/how-to-use-lazydbbackup.html)，但它是 cron 类型的插件，我需要允许管理员在需要时只使用一个用于 db dump 的按钮。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-02T07:03:42.760

很好，我明白了[DataSafe](http://extensions.joomla.org/extensions/access-a-security/site-security/backup/20003)！

它是我正在搜索的插件.. :)

# java - 是否可以同时运行 Eclipse 应用程序和 Junit 插件测试？

> ID：15757118
> 
> 赞同：0
> 
> 时间：2013-04-02T05:55:18.900
> 
> 标签：java, eclipse, junit, automation

我有一个 Eclipse 应用程序，我可以在其中创建项目并执行一些操作。我已经为某些功能使用 Junit 编写了一个测试用例。要运行这些测试功能，我在测试类上单击鼠标右键，然后运行为 Junit 插件测试，它工作正常。我无法同时做这两件事。我需要的是在没有人工干预的情况下同时运行我的 eclipse 应用程序和 Junit 插件测试。Junit 插件测试必须在运行时完成。如果有办法做到这一点，那么请向我提出解决方案。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-02T20:51:25.353

当您将它作为 Junit 插件测试运行时，它已经启动了您的 Eclipse 插件（和应用程序），因此绝对没有必要尝试启动*其他*应用程序。

可能让您感到困惑的是，测试运行和“正常”手动运行使用两个不同的工作区。因此，如果您尝试访问您在正常操作期间创建的测试中的某些文件，它们将不存在。但是您永远不应该依赖这些东西，而是必须在测试设置方法中创建必要的工件。

# javascript - 追加到表而不是 与fineUploader

> ID：15757120
> 
> 赞同：0
> 
> 时间：2013-04-02T05:55:21.767
> 
> 标签：javascript, html, fine-uploader

基本上，我使用的 jQuery 插件是：http: [//fineuploader.com/](http://fineuploader.com/)

我的上传模板的 HTML Mockup 如下

```
<div class="span9">
      <h2>Upload file</h2>
      <div id="bootstrapped-fine-uploader">
        <noscript>
                <p>Please enable JavaScript to use file uploader.</p>
        </noscript>
       </div>
</div>
<div class="span9" style="padding-top:50px;">
       <table class="table table-bordered table-condensed">
                <thead>
                    <tr>
                        <th>Filename</th>
                        <th>Filesize</th>
                        <th>Status</th>
                    </tr>
                </thead>
                <tbody>
                      <tr>
                         <td colspan="3">No active uploads</td>
                      </tr>
                 </tbody>
       </table>
</div> 
```

我想要做的是在单独的表格行上添加**文件列表**，而不是默认的某种警报，他们为此使用的模型是

```
 template: '<div class="qq-uploader">' +
        ((!this._options.dragAndDrop || !this._options.dragAndDrop.disableDefaultDropzone) ? '<div class="qq-upload-drop-area"><span>{dragZoneText}</span></div>' : '') +
        (!this._options.button ? '<div class="qq-upload-button"><div>{uploadButtonText}</div></div>' : '') +
        '<span class="qq-drop-processing"><span>{dropProcessingText}</span><span class="qq-drop-processing-spinner"></span></span>' +
        (!this._options.listElement ? '<ul class="qq-upload-list"></ul>' : '') +
        '</div>',

    // template for one item in file list
    fileTemplate: '<li>' +
        '<div class="qq-progress-bar"></div>' +
        '<span class="qq-upload-spinner"></span>' +
        '<span class="qq-upload-finished"></span>' +
        '<span class="qq-upload-file"></span>' +
        '<span class="qq-upload-size"></span>' +
        '<a class="qq-upload-cancel" href="#">{cancelButtonText}</a>' +
        '<a class="qq-upload-retry" href="#">{retryButtonText}</a>' +
        '<a class="qq-upload-delete" href="#">{deleteButtonText}</a>' +
        '<span class="qq-upload-status-text">{statusText}</span>' +
        '</li>', 
```

我实际上不知道他们如何调用此功能，尽管如果有此应用程序经验的人可以指出我如何实现我的要求的正确方向，我将非常感激

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-02T13:23:46.250

您将希望提供`fileTemplate`带有所需标记的选项的替代版本。您还需要将`listElement`选项设置为指向文件项的容器。目前，文件列表是一组包含在无序列表中的列表项。`listElement`您需要将`<tbody>`每个文件项（由`fileTemplate`选项表示）设置为`<tr>`.

[样式化Fine Uploader](http://docs.fineuploader.com/integrating/styling.html)文档中详细描述了在 FineUploader 模式下设置上传器样式。另一种选择是使用[FineUploaderBasic 模式](http://docs.fineuploader.com/integrating/modes/fineuploaderbasic.html)，它仍然为您处理跨浏览器上传，但允许您轻松定义自己的 UI。

# c#-4.0 - Selenium 和 TFS 测试用例数据源

> ID：15757132
> 
> 赞同：3
> 
> 时间：2013-04-02T05:56:40.480
> 
> 标签：c#-4.0, selenium, coded-ui-tests

我是 usimg VS 2010 Professional。并且想在不使用 MTM（Microsofot 测试管理器）的情况下连接 TFS 测试用例数据源。是否可以这样做。

```
 [DataSource("Microsoft.VisualStudio.TestTools.DataSource.TestCase",
                "http://TFS URL", "27211",
                DataAccessMethod.Sequential), TestMethod] 
    public void CheckUserLogin()
    {
        PageObjects.BrowserInvoke();
        PageObjects.TextBox(UIMapRepository.userName,   TestContext.DataRow["UserName"].ToString());
        PageObjects.TextBox(UIMapRepository.passWord, TestContext.DataRow["Password"].ToString());
        PageObjects.ButtonClick(UIMapRepository.loginButton);
        Assert.AreEqual("Logout", PageObjects.CheckElementExist(UIMapRepository.logoutButton));
        PageObjects.ButtonClick(UIMapRepository.logoutButton);
        PageObjects.CloseBrowser();
    } 
```

当我运行它时，我得到单元测试适配器未能连接到数据源或读取数据。有关解决此错误的详细信息，请参阅 MSDN 库中的“数据驱动单元测试故障排除”( [http://go.microsoft.com/fwlink/?LinkId=62412](http://go.microsoft.com/fwlink/?LinkId=62412) )。错误详细信息：TF30063：您无权访问 tfs。远程服务器返回错误：(401) Unauthorized。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-07-02T14:40:18.927

[无法连接到 Team Foundation Service 数据源以进行编码的 ui 测试](https://stackoverflow.com/questions/16093797/can-not-connect-to-team-foundation-service-data-source-for-coded-ui-tests?rq=1)也有类似问题。

我怀疑您需要将身份验证凭据与 TFS 连接字符串中的 URL 一起传递。

[如何使用特定凭据连接到 C# 中的 TFS 服务器？](https://stackoverflow.com/questions/3150260/how-do-you-connect-to-a-tfs-server-in-c-sharp-using-specific-credentials)显示如何以编程方式连接。您应该能够将其包装成 DataSource 属性将接受的格式。

# javascript - 如何在一个函数中声明全局变量赋值并在javascript中的另一个函数中使用

> ID：15757134
> 
> 赞同：1
> 
> 时间：2013-04-02T05:57:06.623
> 
> 标签：javascript, global-variables

我只是写了一个测试html文件来了解javascript中的对象。代码如下

在脚本标签中

```
<script type="text/javascript">

    var obj = new ParentFn();
    var obj2 = new AnotherParentFn();
    var temp;
    function initer()
    {
        temp = obj.Adding();
        obj2.caller();
    }
    function ParentFn()
    {
        this.a = 10;
        this.b = 20;
    }
    function AnotherParentFn()
    {
        this.a = 30;
        this.b = 50;
    }
    AnotherParentFn.prototype.caller = function()
    {
        var self = this;
        temp();
    }
    ParentFn.prototype.Adding = function()
    {
        var self = this;
        document.getElementById("id_div1").innerHTML = " Method Called and Result of a+b is " + (self.a + self.b);          
    }

</script> 
```

在我使用的身体

```
<button onclick="initer()"> Click here to test </button>
<div id="id_div1"></div> 
```

问题是当从 initer() 函数调用 AnotherParentFn.prototype.caller 时，临时变量仍未定义。代码有什么问题？？

我的任务是在全局变量中分配函数 ParentFn.prototype.Adding 并从 AnotherParentFn.prototype.caller 函数中调用全局变量。如何实现？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-02T06:19:21.057

您不需要将其保存为全局变量。它已经保存在`ParentFn.prototype`. 您需要做的就是调用它`.call`并传入您想要的接收器。你可以`AnotherParentFn.prototype.caller`这样实现：

```
AnotherParentFn.prototype.caller = function()
{
    ParentFn.prototype.Adding.call(this);
} 
```

`temp`这样你就可以彻底摆脱。您也不需要在任何地方分配`this`给本地人`var self`。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-02T06:03:00.953

通过编写 `temp = obj.Adding();` 它存储返回值。不是函数指针`temp`。用这个

```
function initer()
{
    temp = obj.Adding;
    obj2.caller();
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-02T06:03:29.737

括号用于执行函数。当您将值分配给 时`temp`，您正在调用该函数并将结果（`undefined`）分配给`temp`。要在 中存储对函数的引用`temp`，请省略括号。

```
temp = obj.Adding; 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-02T06:10:14.307

首先，`obj.Adding`没有正确分配对的引用；应该是这样的（不带括号）：

```
function initer()
{
    temp = obj.Adding;
    obj2.caller();
} 
```

然后，在其内部，您必须在调用期间通过使用显式`AnotherParentFn.prototype.caller`传递当前对象：`this`[`.call()`](https://developer.mozilla.org/en/docs/JavaScript/Reference/Global_Objects/Function/call)

```
AnotherParentFn.prototype.caller = function()
{
    temp.call(this);
} 
```

# linux - 如何在目录中单独获取最新的文件名？

> ID：15757136
> 
> 赞同：4
> 
> 时间：2013-04-02T05:57:11.907
> 
> 标签：linux

我在用

```
ls -ltr /homedir/mydirectory/work/ |tail -n 1|cut -d ' ' -f 10 
```

但这是获得预期结果的一种非常粗糙的方式。而且它也不可靠。我得到的输出只是执行

```
ls -ltr /homedir/mydirectory/work/ |tail -n 1 
```

是

```
-rw-r--r-- 1 user pusers 1764 Apr  1 12:06 firstfile.xml 
```

所以在这里我得到了文件名。但是如果执行上述命令的输出是这样的

```
-rw-r--r-- 100 user pusers 1764 Apr  1 12:06 firstfile.xml 
```

第一个命令失败！并且可以理解，因为我正在从第 10 个字符中删除现在无效的结果。

那么如何细化呢。

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-04-02T06:04:33.677

如果不需要，为什么要使用`-l`标志？如果您不需要更多信息而不是尝试“解析”其非统一输出（强奸糟糕的文本处理实用程序......），`ls`请简单地输出文件名。`ls`

```
LAST_MODIFIED_FILE=`ls -tr | tail -n 1` 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-02T06:59:45.237

如果您真的想使用您的方法来实现这一点，那么请使用**awk**而不是**cut**

```
ls -ltr /var/log/ |tail -n 1| awk '{print $9}' 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2018-10-29T13:00:03.993

扩展用户 user529758 答案，可以根据文件名给出结果

根据文件名使用下面的命令

```
ls -tr Filename* | tail -n 1 
```

# android - Android - 从 URL（我的网络服务器）写入一个 KML 文件并将其保存到我的 android 设备

> ID：15757137
> 
> 赞同：2
> 
> 时间：2013-04-02T05:57:19.010
> 
> 标签：android, webserver, kml

我的网络服务器中有一个 kml 文件

例如[http://mysite.com/example.kml](http://mysite.com/example.kml)

在我的应用程序中，我必须从我的网络服务器下载 kml 文件并在我的 android 设备中本地显示它。

如何将 kml 文件从 web 服务器获取到我的 android 设备。我认为更好的方法是从 webserver 读取文件并将其写入我的 android 设备并将其保存为 example.kml 文件。我是 android 的新手。

我将不胜感激有关如何实现这一点的见解。

# php - 如何在magento中获得可配置的产品价格范围？

> ID：15757139
> 
> 赞同：8
> 
> 时间：2013-04-02T05:57:25.770
> 
> 标签：php, magento, magento-1.7

我需要配置产品价格范围，例如

![下图是我的要求](https://i.stack.imgur.com/vb7IE.png)

对于产品名称：$140 - 310 我使用以下代码

```
if(Mage::getSingleton('customer/session')->isLoggedIn())
{
        // Get group Id
        $groupId = Mage::getSingleton('customer/session')->getCustomerGroupId();
}
else
{
        $groupId = 0;
}     
$db = Mage::getSingleton('core/resource')->getConnection('core_write');
$result = $db->query('SELECT price ,final_price, min_price, max_price, tier_price, group_price FROM catalog_product_index_price WHERE entity_id='.$_product->getId().' AND customer_group_id ='.$groupId.' ORDER BY customer_group_id ASC LIMIT 1');
$rows = $result->fetch(); 
```

我还需要配置产品的常规价格范围。我也认为我在产品名称之后的范围是错误的，因为我`Your Price have a price $135`怎样才能获得最低价值和最高特价以及正常价格？

我怎么能得到那个？

谢谢并恭祝安康

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2014-03-02T20:46:52.143

[这个](https://magento.stackexchange.com/a/14741/207)对 Magento StackExchange 上类似问题的回答是一个很好的工作基础。使用它，这里有一个解决这个问题的方法，它考虑了具有多个价格变化属性的可配置产品的潜力。

我把它写成一个函数，它接受一个可配置的产品 ID，并返回一个从最低到最高价格的字符串。应该很清楚如何将其应用于您需要的上下文中。

```
function getPriceRange($productId) {

 $max = '';
 $min = '';

 $pricesByAttributeValues = array();

 $product = Mage::getModel('catalog/product')->load($productId); 
 $attributes = $product->getTypeInstance(true)->getConfigurableAttributes($product);
 $basePrice = $product->getFinalPrice();

 foreach ($attributes as $attribute){
    $prices = $attribute->getPrices();
    foreach ($prices as $price){
        if ($price['is_percent']){ //if the price is specified in percents
            $pricesByAttributeValues[$price['value_index']] = (float)$price['pricing_value'] * $basePrice / 100;
        }
        else { //if the price is absolute value
            $pricesByAttributeValues[$price['value_index']] = (float)$price['pricing_value'];
        }
    }
 }

 $simple = $product->getTypeInstance()->getUsedProducts();

 foreach ($simple as $sProduct){
    $totalPrice = $basePrice;

    foreach ($attributes as $attribute){

        $value = $sProduct->getData($attribute->getProductAttribute()->getAttributeCode());
        if (isset($pricesByAttributeValues[$value])){
            $totalPrice += $pricesByAttributeValues[$value];
        }
    }
    if(!$max || $totalPrice > $max)
        $max = $totalPrice;
    if(!$min || $totalPrice < $min)
        $min = $totalPrice;
 }

 return "$min - $max";

} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-02T11:00:54.010

你可以尝试先获取该可配置产品的所有子产品，然后获取每个子产品的价格，然后比较它们，找到最高和最低的。

```
//load configurable product    
$product = Mage::getModel('catalog/product')->load(some_id);  
//load all children
$childProducts = Mage::getModel('catalog/product_type_configurable')
                    ->getUsedProducts(null,$product);   
foreach($childProducts as $child){
    $_child = Mage::getModel('catalog/product')->load($child->getId());
    $childPrice =  $_child->getPrice();
    //compare the $childPrice
} 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-04-02T08:45:09.893

你可以使用这样的东西

```
$prices = array();
$associated = $_product->getTypeInstance(true)->getAssociatedProductCollection($_product)
->addAttributeToSelect('special_price');

foreach ($associated as $assoc) {
    $prices[] = $assoc->getSpecialPrice();
}
// calculate min max price here
if (count($prices)) {
    $min_price = min($prices);
    $max_price = max($prices);
} else {
    $min_price = 0;
    $max_price = 0;
} 
```

也许不是完美的解决方案，但它有效

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2015-12-20T16:49:27.943

尝试使用`$product->getMinPrice()`and`$product->getMaxPrice()`

看看 app/code/core/Mage/Catalog/Model/Resource/Product/Collection.php

# cocoa-touch - 在处理各种移动子视图时，如何检测触摸了哪个子视图？

> ID：15757141
> 
> 赞同：0
> 
> 时间：2013-04-02T05:57:31.113
> 
> 标签：cocoa-touch, uiview, core-animation, calayer, uitouch

以下代码从屏幕顶部生成形状图像的动画，并使用核心动画向下漂移。当用户点击时，它会记录用户是否点击了图像（形状），或者他们是否错过了形状并因此触摸了背景。这似乎工作正常。但是，当我添加其他形状的图像时呢？我正在寻找有关如何构建此代码以允许记录更详细信息的建议。

假设我想以编程方式添加三角形的 UIImage、正方形的 UIImage 和圆形的 UIImage。我希望所有三个图像都开始从上到下漂移。它们甚至可能在过渡时相互重叠。我希望能够记录“你触动了广场！” 或者我接触过的任何合适的形状。即使正方形位于三角形和圆形之间，我也希望能够这样做，但正方形的一部分正在显示，所以我可以点击它。（这个例子表明我不只是想与最顶层交互）

如何调整此代码以编程方式添加不同的 UIImages（可能是各种形状的图像）并能够记录我正在触摸的形状？

```
- (void)viewDidLoad
 {
 [super viewDidLoad];

 CGPoint endPoint = CGPointMake([[self view] bounds].size.width, 
                             [[self view] bounds].size.height);
 CABasicAnimation *animation = [CABasicAnimation 
                                    animationWithKeyPath:@"position"];
 animation.fromValue = [NSValue valueWithCGPoint:[[_imageView layer] position]];
 animation.toValue = [NSValue valueWithCGPoint:endPoint];
 animation.duration = 30.0f;
 [[_imageView layer] addAnimation:animation forKey:@"position"];

 }

 - (void)touchesBegan:(NSSet *)touches withEvent:(UIEvent *)event
 {
 UITouch *t = [touches anyObject];
 CGPoint thePoint = [t locationInView:self.view];

   thePoint = [[_imageView layer] convertPoint:thePoint toLayer:[[self view] layer]];

      if([[_imageView layer].presentationLayer hitTest:thePoint])
         {
             NSLog(@"You touched a Shape!");
             // for now I'm just logging this information.  Eventually I want to have the shape follow my figure as I move it to a new location.  I want everything else to continue animating but I when I touch a particular shape I want to have complete control on repositioning that specific shape.  That's just some insight beyond the scope of this question.  However feel free to comment about this if you have suggestions.  

         }
         else{
             NSLog(@"backgound touched");
         }

   } 
```

* * *

我在想这个问题的答案可能与循环各种子视图有关。看看我怎么想我可能会改变 -touchesBegan 方法：

```
- (void)touchesBegan:(NSSet *)touches withEvent:(UIEvent *)event {
    UITouch *t = [t anyObject];
    CGPoint thePoint = [t locationInView:self.view];
    for (UIView *myView in viewArray) {
        if (CGRectContainsPoint(myView.frame, thePoint)) {.... 
```

请注意，这里我设置了一个 viewArray，并将我的所有子视图都放在了 viewArray 中。这是我应该使用的东西吗？或者，如果我要遍历我的图层，可能类似于以下内容：

```
 for(CALayer *mylayer in self.view.layer.sublayers) 
```

无论我如何尝试循环浏览我的视图和/或图层，我似乎都无法让它工作。我觉得我可能只是错过了一些明显的东西......

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-05-02T19:12:46.477

我认为罪魁祸首是您更改坐标系的线`thePoint`。它可能应该在执行该行之前读取`convertPoint:fromLayer:`，您的点位于 self.view 的坐标系中，我假设您希望它位于 imaveView 的坐标系中。或者，您可以完全跳过该行并调用`[t locationInView:_imageView]`。

# javascript - 如何滚动到ul的底部？

> ID：15757144
> 
> 赞同：3
> 
> 时间：2013-04-02T05:57:32.403
> 
> 标签：javascript, jquery, html, jquery-ui, cordova

我已经使用 PhoneGap 开发了一个应用程序。在我的应用程序中，我使用`ui` `li`. 在这里，我想滚动到列表中的最后一个元素。为此，我使用了以下代码，

```
$('#dates li').last().addClass('active-li').focus();
$('#dates li').last().focus(); 
```

这个我也用过

```
$('#dates').scrollTop($('#dates li:nth-child(14)').position().top);; 
```

额外的课程正在增加，但焦点不起作用。

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-04-02T06:01:43.217

添加[`tabindex`](http://www.w3.org/TR/1999/REC-html401-19991224/interact/forms.html#adef-tabindex)属性：

```
<li tabindex="1"></li> 
```

[http://jsfiddle.net/DerekL/GEsmb/](http://jsfiddle.net/DerekL/GEsmb/)

因为你无法专注`li`。它不是文本字段或按钮或类似的东西。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2013-04-02T06:03:00.283

您可以使用以下代码：

```
$(document).ready(function(){
    $('body').scrollTop($('ul li').last().position().top + $('ul li').last().height());
}); 
```

### 小提琴：http: [//jsfiddle.net/praveenscience/GEsmb/1/](http://jsfiddle.net/praveenscience/GEsmb/1/)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-02T05:59:41.600

尝试[滚动顶部](http://api.jquery.com/scrollTop/)：

```
$('#dates').scrollTop($('#dates').height()) 
```

或者：

```
$('#dates').scrollTop($('#dates')[0].scrollHeight); 
```

如果您的列表有很多内容。

# c# - 如何将部分视图数据分配给 C# MVC 中的模型？

> ID：15757146
> 
> 赞同：0
> 
> 时间：2013-04-02T05:57:43.623
> 
> 标签：c#, asp.net-mvc

我正在使用 MVC C# 和实体框架工作。

所以在我的部分观点中，我想更改数据。

这是我的控制器

```
public ActionResult BusinessDetails(){               
    int bsId = bskey ?? default(int);
    var BusinessQuery = GetBusinessById(bsId);    
    var PeopleQuery = BusinessQuery.t_PEOPLE
                        .Where(p => p.PP_IS_CONTACT == true).AsEnumerable();

    var peopleCollection = new EntityCollection<t_PEOPLE>();

    foreach (var m in PeopleQuery)
    {
        //This is problem.-----------
        peopleCollection.Add(m);
    }    //--------------

    BusinessQuery.t_PEOPLE = peopleCollection;    
    return PartialView("_EditBusiness", BusinessQuery);
    }                    

    return RedirectToAction("Index");              
}

public t_BUSINESS GetBusinessById(int id){
    if (id == 0)
        return null;

    var query = from b in db.t_BUSINESS
                where b.BS_KEY == id
                select b;
    var Business = query.FirstOrDefault();
    return Business;
} 
```

那么如何将 分配`PeopleQuery`给我的`BusinessQuery.t_PEOPLE`.

有错误并说

```
The object could not be added to the EntityCollection or EntityReference. An object that is attached to an ObjectContext cannot be added to an EntityCollection or EntityReference that is not associated with a source object 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-02T06:02:14.957

您可以直接查询您要查找的记录：

```
public ActionResult BusinessDetails()
{               
    int bsId = bskey ?? default(int);
    var business = GetContactBusinessById(bsId);    
    return PartialView("_EditBusiness", business);
}

public t_BUSINESS GetContactBusinessById(int id)
{
    if (id == 0)
    {
        return null;
    }

    var query = 
        from b in db.t_BUSINESS
        from p in b.t_PEOPLE
        where b.BS_KEY == id && p.PP_IS_CONTACT
        select b;

    return query.FirstOrDefault();
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-02T06:02:05.260

尝试这个

```
var PeopleQuery = BusinessQuery.t_PEOPLE.Where(p => p.PP_IS_CONTACT == true).ToList(); 
```

# android - Sqlite 这个查询在 android 2.2 以上版本中不支持

> ID：15757149
> 
> 赞同：1
> 
> 时间：2013-04-02T05:57:50.687
> 
> 标签：android, android-sqlite

我已经在我的项目中实现了这个查询，并且它仅在 < 2.2 版本中完美运行。

如果我尝试在 > 2.2 版本中运行，则此查询不起作用。

你能给出一些想法吗？

**询问 ：**

> mCursor = db.rawQuery("select ROUND(delivarycharge) from pincodedetails where ROUND(subtotal) <=( select ROUND(subtotal) from pincodedetails where ROUND(subtotal)>="+price+" and resturantID="+selArgs+" limit 1) and resturantID="+selArgs+" and ROUND(subtotal) >=( select ROUND(subtotal) from pincodedetails where ROUND(subtotal)<="+price+" and resturantID="+selArgs+" limit 1) order by ROUND(subtotal) LIMIT 1"，空）；

# sql - 如何访问查询 Comment.group('user').count 的数据

> ID：15757159
> 
> 赞同：1
> 
> 时间：2013-04-02T05:58:16.300
> 
> 标签：sql, ruby-on-rails, ruby, ruby-on-rails-3

Rails 控制台中的以下查询：

```
i = Comment.group('user_id').count 
```

给我这样的输出：

```
{1=>3, 2=>6, 3=>2, 4=>8} 
```

其中`1,2,3,4`是用户 ID，`3,6,2,8`是具有这些用户 ID 的行数。请告诉我如何使用这些数据。因为`i.count`给了我总数没有。我想访问这些单个用户的行数。再次，`i[0].count`或者`i[1].count`给我一个错误。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-02T06:03:08.490

如果我理解您的问题，您可以访问哈希`i[1]`以获取 ID #1 的用户的评论计数，而不是`.count`像您在示例中那样添加。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-02T06:03:14.737

该表达式为您提供了一个键/值对的 Ruby[哈希](http://www.ruby-doc.org/core-1.9.3/Hash.html)，您可以使用以下命令访问它：

```
i[1] # => 3
i[2] # => 6
... etc ... 
```

您不需要调用`count`它们，调用的值`i[2]`将是计数。

# asp.net - 如何在asp.net C#的表单视图内的列表框中从数据库中选择数据

> ID：15757160
> 
> 赞同：0
> 
> 时间：2013-04-02T05:58:16.047
> 
> 标签：asp.net, c#-4.0

我正在尝试从位于表单视图控件内的列表框中的数据库中获取数据，我已将来自 gridview 的选定值作为表单视图控件和列表框的参数传递。表单视图控件正常工作，但无法获取列表框中的数据。

我用过的查询

```
 SELECT mst_Tag.tagId, mst_Tag.Tag_Name FROM mst_Tag INNER JOIN Post2Tag ON mst_Tag.tagId = Post2Tag.Tag_Id WHERE (Post2Tag.Post_Id = @Post_Id)

@Post_Id= gridview1.SelectedValue 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-02T08:49:09.860

protected void frmview_ItemInserting(object snd, FormViewInsertEventArgs 格式) {

```
 RadListBox lst = (RadListBox)frmview.FindControl("RadLstUnselectedIns");
        DataSet dsData = objMenuMBAL.getAction(0);
        DataTable dtDataunsel = dsData.Tables[0];
        if (dtDataunsel.Rows.Count > 0)
        {
            lst.DataSource = dtDataunsel;
            lst.DataTextField = "Action";
            lst.DataValueField = "Action";
            lst.DataBind();
        }
        RadListBox lstselected = (RadListBox)frmview.FindControl("RadLstselectedIns");
    } 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-02T06:08:46.153

这是 SP ：

```
ALTER PROCEDURE [dbo].[MenuAction__Sel_UnSel]
        -- Add the parameters for the stored procedure here
    (
        @MenuId INT
    )
    AS
    BEGIN
        -- SET NOCOUNT ON added to prevent extra result sets from
        -- interfering with SELECT statements.
        SET NOCOUNT ON;

        -- Insert statements for procedure here

        ---- Unselected Record

        Select  a.Action,'DB' AS DML_TYP
          from dbo.MenuAction_m a
         Where NOT EXISTS (SELECT 1 FROM dbo.Menu_d AS b WHERE B.Action=A.Action AND B.MenuId=@MenuId);

         ---- Selected Record

       Select  c.MenuId,a.Action,'DB' AS DML_TYP
          from dbo.MenuAction_m a,Menu_d as c 
         WHERE a.Action=c.Action and  EXISTS (SELECT 1 FROM dbo.Menu_d AS b WHERE B.Action=A.Action AND b.MenuId=@MenuId and c.Action=b.Action and c.MenuId=b.MenuId) ;
    END 
```

这是设计页面：

```
<tr class="odd">
                                        <td class="column1">
                                            <b>UnSelected Items</b>
                                        </td>
                                        <td>
                                            <b>Selected Items</b>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td class="column1">
                                            <telerik:RadListBox ID="RadLstUnselectedIns" runat="server" AllowTransfer="true"
                                                AutoPostBackOnTransfer="true" Height="120px" SelectionMode="Multiple" TransferToID="RadLstselectedIns">
                                                <ButtonSettings TransferButtons="All" />
                                            </telerik:RadListBox>
                                            <telerik:RadToolTip ID="radToolTipRadLstUnselected" runat="server" RelativeTo="Element"
                                                Height="40px" Text="This Actions are not Selected!" TargetControlID="RadLstUnselectedIns"
                                                Position="MiddleRight" EnableAriaSupport="true">
                                            </telerik:RadToolTip>
                                        </td>
                                        <td>
                                            <telerik:RadListBox ID="RadLstselectedIns" runat="server" Height="120px">
                                            </telerik:RadListBox>
                                            <telerik:RadToolTip ID="radToolTipRadLstselectedIns" runat="server" RelativeTo="Element"
                                                Height="40px" Text="This Actions are  Selected!" TargetControlID="RadLstselectedIns"
                                                Position="MiddleRight" EnableAriaSupport="true">
                                            </telerik:RadToolTip>
                                        </td>
                                    </tr> 
```

这是背后的代码：

```
 protected void frmview_ItemInserting(object sender, FormViewInsertEventArgs e)
        {

            RadListBox lstUnselected = (RadListBox)frmview.FindControl("RadLstUnselectedIns");
            DataSet dsData = objMenuMBAL.getAction(0);
            DataTable dtDataunsel = dsData.Tables[0];
            if (dtDataunsel.Rows.Count > 0)
            {
                lstUnselected.DataSource = dtDataunsel;
                lstUnselected.DataTextField = "Action";
                lstUnselected.DataValueField = "Action";
                lstUnselected.DataBind();
            }
            RadListBox lstselected = (RadListBox)frmview.FindControl("RadLstselectedIns");
        } 
```

# c# - 在gridview中选择后如何在单元格（2）中设置接受？

> ID：15757162
> 
> 赞同：0
> 
> 时间：2013-04-02T05:58:19.977
> 
> 标签：c#, asp.net, sql, sql-server

我必须将状态设置为接受，拒绝客户，同时在待定状态下注册状态。我需要，如果为此条件，选择了哪一行，那么相应的事件应该在数据库中更改为接受或拒绝。

```
protected void Button2_Click(object sender, EventArgs e)
{

    SqlCommand cmd = new SqlCommand("select * from Testing", OIMS_01);
    SqlDataAdapter ad = new SqlDataAdapter(cmd);
    DataSet ds = new DataSet();

    ad.Fill(ds);

    if (GridView1.SelectedRow != null)
    {
      ds.Tables(0).Rows(0).Item(0) = GridView1.SelectedRow.Cells(1).Text;
      ds.Tables(0).Rows(0).Item(1) = GridView1.SelectedRow.Cells(2).Text;
      ds.Tables(0).Rows(0).Item(2) = "Accept";

    }
    else
    {
        ClientScript.RegisterStartupScript(this.GetType(), "alert", "alert('Please select a row.')", true);
    }
    ad.Update(ds);
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-02T06:09:55.800

```
ds.Tables[0].Rows[0]["Your column name"] ="ACCEPT"; 
```

或者

```
ds.Tables[0].Rows[0][2] ="ACCEPT"; 
```

# hibernate - GORM - 在 Grails 中查询一对多关联

> ID：15757163
> 
> 赞同：4
> 
> 时间：2013-04-02T05:58:26.250
> 
> 标签：hibernate, grails, hql, grails-orm, criteria

我有课程域

```
class Course {
    String name

    static hasMany = [categories: Category]
} 
```

类别领域类

```
class Category {
    String name 
} 
```

所以这里的课程可以有多个类别。

现在我想找到所有具有 ID 为 4 的类别的课程

我尝试编写 HQL 查询：

```
def courseList = Course.findAll("from Course as c where c.categories.id in (4)") 
```

这给出了一个错误。

如何编写正确的 HQL 或正确的 withCriteria 查询？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-02T07:18:16.047

您可以使用 withCriteria 查询：

```
Course.withCriteria { 
    categories { 
        eq 'id', new Long(4)
    }
} 
```

# jpa - 骆驼 jpa 等待命名空间处理程序

> ID：15757165
> 
> 赞同：-1
> 
> 时间：2013-04-02T05:58:41.673
> 
> 标签：jpa, osgi, fuseesb, jbossfuse, aries

我正在尝试为我的骆驼 jpa 示例编写一个 RouteTest 类，但由于以下行，它不能按预期工作：

Bundle RouteTest 正在等待命名空间处理程序 [ [http://aries.apache.org/xmlns/jpa/v1.1.0]](http://aries.apache.org/xmlns/jpa/v1.1.0])

请在此处找到 blueprint.xml 文件

```
<?xml version="1.0" encoding="UTF-8"?>
<blueprint xmlns="http://www.osgi.org/xmlns/blueprint/v1.0.0"
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xmlns:camel="http://camel.apache.org/schema/blueprint"
        xmlns:cm="http://aries.apache.org/blueprint/xmlns/blueprint-cm/v1.0.0"
        xmlns:jpa="http://aries.apache.org/xmlns/jpa/v1.1.0"
        xsi:schemaLocation="
                http://www.osgi.org/xmlns/blueprint/v1.0.0 http://www.osgi.org/xmlns/blueprint/v1.0.0/blueprint.xsd
                http://camel.apache.org/schema/blueprint http://camel.apache.org/schema/blueprint/camel-blueprint.xsd
                http://aries.apache.org/xmlns/jpa/v1.1.0 http://aries.apache.org/schemas/jpa/jpa_110.xsd">

    <bean id="jpa" class="org.apache.camel.component.jpa.JpaComponent">
        <jpa:unit unitname="persistence-pu" property="entityManagerFactory" />
    </bean>

    <camelContext trace="true" id="blueprintContext" xmlns="http://camel.apache.org/schema/blueprint">
    <route id="persist">
        <from uri="direct:persist"/>
        <to uri="jpa:Person"/>
    </route>
</camelContext>
</blueprint> 
```

在这里 RouteTest 类：

```
public class RouteTest extends CamelBlueprintTestSupport {

    @Override
    protected String getBlueprintDescriptor() {
        return "/OSGI-INF/blueprint/blueprint.xml";
    }

    @Test
    public void testRoute() throws Exception {
        getMockEndpoint("mock:result").expectedMinimumMessageCount(1);
        ProducerTemplate producerTemplate = new DefaultCamelContext().createProducerTemplate(); 
        Person person = new Person();
        person.setName("Bob");
        producerTemplate.sendBody("direct:persist", person);

        // assert expectations
        assertMockEndpointsSatisfied();
    }

} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-03T06:45:47.130

您需要提供 Aries 蓝图，尤其是您需要提供 aries JPA 依赖项。你如何测试你的路线？我建议使用 Pax-Exam 或者可能更好地使用 Pax-Exam-Karaf 并安装 aries jpa 功能。

# playframework-2.0 - PlayFramework Logback 打印调用者类名

> ID：15757166
> 
> 赞同：3
> 
> 时间：2013-04-02T05:58:41.883
> 
> 标签：playframework-2.0, logback

我正在使用 Play 2.1 (Java) 和 Play 附带的默认 logback (1.0.7) 记录器。在我的一个控制器中，我使用“play.Logger”来打印调试日志消息。尽管`%class`在 logger.xml 中提到了“”，但调用者类名并没有被打印出来。而是“ `play.Logger$ALogger`”正在打印。我调试到 logback`ch.qos.logback.classic.spi.CallerData`将堆栈跟踪作为数组返回以识别调用者类。在数组中，我的调用者控制器类位于数组的底部，而顶部是“ `play.Logger.ALogger`”项，这就是“ `ch.qos.logback.classic.pattern.ClassOfCallerConverter`”中用于打印类的内容`name(cda[0].getClassName())`。

我确实在[这里](https://stackoverflow.com/questions/11094048/how-do-i-output-the-class-name-in-playframework-2-logging)和[这里](https://stackoverflow.com/questions/15258144/how-do-i-configure-logback-to-print-out-the-class-name)查看了其他类似的线程，但它们似乎没有解决这个问题。

这是我的 XML

```
<appender name="FILE_DEBUG" class="ch.qos.logback.core.rolling.RollingFileAppender">
    <file>${application.home}/logs/debug_log.log</file>
    <layout class="ch.qos.logback.classic.PatternLayout">
        <pattern>%date - [%level] - from %logger %class in %thread %n%message%n%xException%n</pattern>
    </layout>
    <filter class="ch.qos.logback.classic.filter.ThresholdFilter">
        <level>DEBUG</level>
    </filter>
    <rollingPolicy class="ch.qos.logback.core.rolling.TimeBasedRollingPolicy">
        <fileNamePattern>${application.home}/logs/debug_log.%d{yyyy-MM-dd}.log</fileNamePattern>
        <maxHistory>30</maxHistory>
    </rollingPolicy>
</appender> 
```

我错过了什么吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2017-10-09T20:37:31.087

我最近一直在调查同样的问题，这是我的解决方案：您需要`includeCallerData`通过添加来设置标志

```
 <includeCallerData>true</includeCallerData> 
```

到您的附加程序配置。

顺便说一句，如果您正在使用`ch.qos.logback.classic.AsyncAppender`，您也必须在此处启用该标志，但是一旦您这样做了，您就不必在其他任何地方设置它，因为`AsyncAppender`通过将调用者数据注入其中来修改日志记录事件。

在我的情况下，将 NOP 附加程序添加到根记录器配置就足以使调用者数据随处可用

```
 <appender name="NOP" class="ch.qos.logback.core.helpers.NOPAppender" />
    <appender name="ASYNC.NOP" class="ch.qos.logback.classic.AsyncAppender">
      <includeCallerData>true</includeCallerData>
      <appender-ref ref="NOP" />
    </appender>

    <root level="...">
        ...
        <appender-ref ref="ASYNC.NOP" />
    </root> 
```

请记住，获取调用者数据可能会对性能产生严重影响，因此我不会在生产中使用它。

# android - 如何在android中使用html href中给出的数据

> ID：15757167
> 
> 赞同：1
> 
> 时间：2013-04-02T05:58:43.960
> 
> 标签：android, html

我是安卓新手。`html`我在 android中加载了一个页面`webview`，在我给出的那个`html`文件中，我没有给出指向任何文件或任何站点`"href"`的链接，而是给出了一些值，例如. 在单击链接时，它必须显示一个带有给定数字的弹出窗口。`html``"callme?number=0456234543"`

但我不知道如何在android中触发它。`WebViewClient`即使我不知道如何编码，我也认为这将用于此目的。

任何人都可以帮我提供源代码吗？提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-02T06:06:44.027

您是否尝试[超链接您的电话号码](http://www.marketingtechblog.com/hyperlink-phone-number/)？

像下面的东西

```
<a href="tel:0094775373891">94-77-5373891</a> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-02T06:07:15.290

您需要在链接中使用 tel 关键字而不是 callme

```
public boolean shouldOverrideUrlLoading(WebView view, String url) {
    if (url.startsWith("tel:")) { 
            Intent intent = new Intent(Intent.ACTION_DIAL,
                    Uri.parse(url)); 
            startActivity(intent); 
    }else if(url.startsWith("http:") || url.startsWith("https:")) {
        view.loadUrl(url);
    }
    return true;
} 
```

你的链接看起来像这样`<a href="your_number">your_number</a>`

**编辑**

您可以使用这种方式在页面开始/结束时将代码注入加载页面

```
webView.loadUrl("javascript:(function() { ... })()"); 
```

在函数中，您可以在 和 中使用 和 impelement 为您的元素编写替换`DOM` 代码。`onPageStarted()``onPageFinished()`

# jquery - jquery multiselect inside 敲除模态对话框自动打开定位错误

> ID：15757171
> 
> 赞同：0
> 
> 时间：2013-04-02T05:58:49.883
> 
> 标签：jquery, jquery-ui, twitter-bootstrap, knockout.js

我这里有点脑筋急转弯：

基本上，我要做的是呈现一个漂亮的、可搜索的复选框列表作为 select2 控件的替代 UI。基本上，我的用户点击“添加多个”按钮，弹出一个模式对话框，然后他们选择他们的选项。我正在使用带有我找到的敲除绑定处理程序的 jquery 多选小部件。它似乎运作良好，但我希望该框默认打开，使其看起来更像一个经典的.net复选框列表......所以，我将 autoOpen: true 传递给多选，但它在右上角打开dom 而不是与多选文本对齐。如果您单击多选文本，然后再次单击它，即刻更改 columbo oreo - 它会在正确的位置打开！

我相信正在发生的事情是，在加载时，我的盒子已经用模态框渲染了它刚刚离开屏幕。因此，当我打开模式时，它会移动到屏幕但位置不好，即按钮附近没有。

我认为我应该做的是调用类似的东西：

```
$('.selector').multiselect({ show: 'fadeIn' }); 
```

或者一旦模态已经加载，位置就会正确。但是，我不知道如何通过淘汰赛做到这一点。任何帮助将不胜感激——我已经通过在这个小提琴中煞费苦心地重现问题来匹配努力；）：

这是我的模态现在的样子以及指向我的小提琴的链接......

```
<div data-bind="modal: AddManyItem">
<div class="modal-header"> <a class="close" data-dismiss="modal">×</a>

     <h3>Add Many</h3>
</div>
<div class="modal-body">
    <select data-bind="multiSelectCheck: $data.Opts, 
                            multiselectOptions: 
                            { autoOpen: true },
                            optionsCaption: 'Check one or more', 
                            selectedOptions: $data.Vals, 
                            optionsText: 'Text'" multiple="multiple"></select>
</div>
<div class="modal-footer"> <a href="#" class="btn btn-primary" >Save changes</a>

</div>
</div> 
```

见 JSFiddle：http: [//jsfiddle.net/valvemail/W7E5N/15/](http://jsfiddle.net/valvemail/W7E5N/15/)

还有一点需要注意——这是一个引导模式，如果这有所作为的话。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-02T09:09:33.933

为什么不使用选择器来触发按钮，该按钮将在模式加载后显示复选框。

见小提琴：http: [//jsfiddle.net/mdcuesta/W7E5N/24/](http://jsfiddle.net/mdcuesta/W7E5N/24/)

```
<div class="modal-body" id="modal-checkbox">
    <select data-bind="multiSelectCheck: $data.Opts, 
                            multiselectOptions: 
                            { autoOpen: false },
                            optionsCaption: 'Check one or more', 
                            selectedOptions: $data.Vals, 
                            optionsText: 'Text'
                            " multiple="multiple"></select>
</div> 
```

将 autoOpen 设置为 false 并将 Id 添加到您的模态正文

```
viewModel.NewAddManyItem = function (data, event) {
var self = this;
viewModel.AddManyItem({
    FilterText: ko.observable("stuff"),
    FilteredResults: ko.observable([]),
    IsGeo: false,
    Vals: ko.observableArray([]),
    Opts: ko.observableArray(viewModel.OptList())
    });    
    self.ShowSelect();
};

viewModel.ShowSelect = function(){
   $('#modal-checkbox .ui-multiselect').click();
}; 
```

在您的模型中添加一个方法，该方法将处理按钮单击以显示复选框

您的理论是正确的，下拉菜单在导致您的问题的模态之前已经呈现。

# wso2 - 如何授予对“wso2.anonymous.role”的所有 Schema 永久链接的读取权限？

> ID：15757177
> 
> 赞同：1
> 
> 时间：2013-04-02T05:59:34.903
> 
> 标签：wso2, acl

是否可以通过 WSO2 Governance Registry Management Console 自动允许对角色“wso2.anonymous.role”的*所有*模式永久链接进行读取访问？您必须将其编程为处理程序吗？没有更简单的方法吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-02T06:47:13.470

1.  首次登录 G-Reg 管理控制台

2.  导航到 Main --> Resources --> Browse and Find your Schema 的存储位置（例如：/_system/governance/trunk/schemas）

3.  在中间窗格中，单击“详细视图”并展开“权限”区域。

4.  然后从角色下拉列表中选择“wso2.anonymous.role”并为该角色分配只读权限。现在任何人都可以访问该集合下的资源存储

[用于管理角色权限](http://docs.wso2.org/wiki/display/Governance450/Managing+Role+Permissions)的 Wiki 文档

# c# - 从设备读取短信的正则表达式

> ID：15757181
> 
> 赞同：2
> 
> 时间：2013-04-02T06:00:37.097
> 
> 标签：c#, regex

我正在使用以下代码从移动设备获取短信。问题是它不读取空字符、换行符 (\N) 和 \r。

```
try
{

    Regex r = new Regex(@"\+CMGL: (\d*),""(.+)"",""(.+)"",(.*),""(.+)""\r\n(.+)\r\n");
    Match m = r.Match(input);
    while (m.Success)
    {
        ShortMessage msg = new ShortMessage();
        //msg.Index = int.Parse(m.Groups[1].Value);
        msg.Index = m.Groups[1].Value;
        msg.Status = m.Groups[2].Value;
        msg.Sender = m.Groups[3].Value;
        msg.Alphabet = m.Groups[4].Value;
        msg.Sent = m.Groups[5].Value;
        msg.Message = m.Groups[6].Value;
        //string a = msg.Message;
        //string replacement = Regex.Replace(a, @"\t|\n|\r", "");
       // msg.Message = replacement;
        messages.Add(msg);

        m = m.NextMatch();
    }

} 
```

例如：

如果短信正文包含：*“我的名字是 bilal Ahmed”*，它将读取上述短信

如果我的短信是：*“我的名字是 \n bilal Ahmed”*，它将不会读取短信。

例如，如果我的短信是：*“”*，它将不会读取短信。

我认为使用正则表达式存在一些问题。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-02T06:41:42.277

最好向我们展示您输入的全文，但我猜您可以尝试使用类似于

```
Regex r = new Regex(@"\+CMGL: (\d*),""(.+)"",""(.+)"",(.*),""(.+)""\r\n((.|\r|\n)+)\r\n"); 
```

# liferay - 使用徽标选择器 liferay 设置图像大小

> ID：15757182
> 
> 赞同：2
> 
> 时间：2013-04-02T06:00:38.027
> 
> 标签：liferay

**使用liferay-ui:logo-selector**时如何设置图像大小

```
<liferay-ui:logo-selector
defaultLogoURL='<%=themeDisplay.getPathImage() + "/organization_logo?img_id=0"%>'
editLogoURL="<%=editOrganizationLogoURL%>" imageId="<%=logoId%>"
logoDisplaySelector=".organization-logo" showBackground="<%=false%>" /> 
```

我只是无法完成它。我可以在使用**img html 标签**显示徽标时更改图像大小。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-02T09:52:10.803

正如评论中提到的@rasabihariKumar [，](https://stackoverflow.com/questions/15757182/set-image-size-using-logo-selector-liferay#comment22400025_15757182)无法通过设置图像大小，即徽标的`height`或。`width``<liferay-ui:logo-selector>`

1.  您可以做的一件事是上传具有正确尺寸的徽标
2.  或者`<liferay-ui:logo-selector>`通过钩子或扩展扩展标签，以便您可以将图像发送`width`到`height`标签。
3.  或者您可以在通过javascript加载整个页面后通过javascript更改图像大小。这个[答案](https://stackoverflow.com/a/1297456/468763)可能会对你有所帮助。

# active-directory - LDAP 可扩展匹配过滤。根据 OU 文本模式排除组

> ID：15757192
> 
> 赞同：1
> 
> 时间：2013-04-02T06:01:35.567
> 
> 标签：active-directory, ldap, openldap, ldap-query

我有一个 Active Directory 根目录，例如：

```
dc=ooo,dc=yyy,dc=xx 
```

在这个根目录下有几个 OU，例如：

```
ou=Applications,dc=ooo,dc=yyy,dc=xx
ou=PKI,ou=Applications,dc=ooo,dc=yyy,dc=xx
ou=Servers,dc=ooo,dc=yyy,dc=xx
ou=Location1,ou=Servers,dc=ooo,dc=yyy,dc=xx
ou=Department1,dc=ooo,dc=yyy,dc=xx
ou=Subdepartment1=ou=Department1,dc=ooo,dc=yyy,dc=xx 
```

我想获取所有“部门”，因此节点表示为 OU，但不代表部门的特定 OU 及其子项（基于 OU 术语）除外。

例如，在上述情况下，我只想获取 Department1 及其子部门。但我想通过排除 OU 应用程序及其子项以及 OU 服务器及其子项来实现这一点（基于排除条件进行搜索）...

我正在执行以下搜索：

```
scope: subtree
search dn clause: dc=ooo,dc=yyy,dc=xx (beggining from the root)
filter: (&(!(ObjectClass=person))(!(ou:dn:=Applications))(!(ou:dn:=Servers)) 
```

但问题是它只排除了“应用程序”和“服务器”而不是他们的孩子，所以它返回给我：

```
ou=PKI,ou=Applications,dc=ooo,dc=yyy,dc=xx
ou=Location1,ou=Servers,dc=ooo,dc=yyy,dc=xx
ou=Department1,dc=ooo,dc=yyy,dc=xx
ou=Subdepartment1=ou=Department1,dc=ooo,dc=yyy,dc=xx 
```

反正要消灭所有的孩子也？最后只有

```
ou=Department1,dc=ooo,dc=yyy,dc=xx
ou=Subdepartment1=ou=Department1,dc=ooo,dc=yyy,dc=xx 
```

回来？？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-02T13:26:20.807

我不知道所有细节，但 AD 对 LDAP 可扩展匹配过滤的支持有限：http: [//msdn.microsoft.com/en-us/library/cc223241.aspx](http://msdn.microsoft.com/en-us/library/cc223241.aspx)

# javascript - Firefox中的“事件未定义”

> ID：15757193
> 
> 赞同：3
> 
> 时间：2013-04-02T06:01:40.063
> 
> 标签：javascript, html, events, firefox, ember.js

在关卡选择事件上调用函数的 HTML 代码。这段代码是用 Ember 框架编写的。

```
{{ action "onLevelSelect" this on="change" target= "view"}} 
```

通过触发此事件调用的 Javascript 函数：

```
onLevelSelect : function(event) {
    var getSelectedLevel = event.target.selectedOptions[0].label;   // error line

    /*rest of the code goes below*/
} 
```

当谈到“错误行”时，我收到了这个错误。

> `"ReferenceError: event is not defined".`

我已经尝试过 window.event 和 event.which 并且我也尝试过将事件显式发送到函数`"onLevelSelect"`。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-10-25T10:34:52.127

我解决了这个问题，但忘记更新了。解决方案是

Firefox 不支持使用 ember 句柄语法来处理诸如 等事件`Click`。`Change`但它可以在 Chrome 中使用。因此，我使用 jQuery 函数来处理这些事件，例如`click(event){}`,`change(event){}`等（我们也可以使用 HTML 函数，例如`onClick()`, `onChange()`）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-02T08:48:18.733

这种行为是正确的。**如果您使用操作助手，Ember 不会传递事件对象。**你能展示更多你的视图和模板代码吗？你想达到什么目的？

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2017-05-31T19:33:42.693

我遇到了同样的问题，我通过使用`onclick={{action ...}}`而不是仅仅`{{action ...}}`在车把中解决了这个问题。我也在其他地方看到了这个记录。单独使用动作助手不会传递事件对象。但是使用 onclick 可以。

所以基本上把你的代码改成这样：

```
onclick={{ action "onLevelSelect" this on="change" target= "view"}} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2017-05-31T19:46:34.893

在 Firefox 中，全局`window.event`在 onclick 函数回调中是不可访问的。所以你不应该依赖这个。 `<input {{action 'onLevelSelect'}} value="test" />`- 在这里你不会收到方法中`event`的对象`onLevelSelect`。

但在下面，您将收到`event`object 作为最后一个参数，

```
<input onchnage={{action 'onLevelSelect'}} value="test" /> 
```

我在[这个答案](https://stackoverflow.com/a/43736820/5771666)中详细解释了

# iphone - 多个开发人员在 SVN 上提交代码的规则

> ID：15757194
> 
> 赞同：0
> 
> 时间：2013-04-02T06:01:41.967
> 
> 标签：iphone, ios, svn, project

我们正在开发一个项目，并在一天结束时在 SVN 上提交代码，以便获得所有更新项目。但是问题通常是我们的代码在提交代码时出错，如果当时有人更新，项目就会变空。所以我的问题是，我们在提交时是否必须遵循任何一套规则，以便每个人都能走上正轨，没有人遇到麻烦，并从这些错误中节省大量时间。提前致谢。干杯

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-02T06:11:59.553

Search Google, something similar to "source control best practices".

[Top result](http://homes.cs.washington.edu/~mernst/advice/version-control.html#incorporate-frequently) has several tips. Sounds like the biggest problem you're facing is integrating with others' changes. Perhaps look into the following sections:

*Incorporate others' changes frequently*

*Share your changes frequently*

*Coordinate with your co-workers*

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-02T07:47:23.260

调查为什么会出错。盲目应用规则是不好的。

例如：

*   A 人提交了一个产生编译错误的代码
*   为什么？
*   他完成了他的任务，但在提交到主干之前没有检查构建
*   为什么？
*   整个构建太慢了
*   解决方案：加速构建，建立持续构建系统，检查每个提交并尽快通知开发者问题

另一个例子：

*   B 人提交了一个破坏构建的代码
*   为什么？
*   他想存储他的更改，但任务还没有完成
*   解决方案：建议他创建一个分支，任务完成后可以合并到主干（如果分支存在很长时间，请定期将主干的更改合并到它，那么合并不会有问题）

可能还有其他情况。通过更多详细信息，您将能够在 StackOverflow 上提出更精确的问题并获得更好的答案。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-02T06:44:09.447

*   尽可能不要与其他人编辑同一行代码
*   在你的提交信息上留下有意义的评论
*   评论你的代码
*   确保您提交的所有代码都能按应有的方式编译和运行
*   在适当的时候提交，即：正在传递您的部分代码以供他人使用或完成某个功能的工作
*   确保与其他团队成员沟通
*   如果你发现你不知道它是做什么的代码，问作者
*   如果您要进行需要一段时间才能实现的重大更改，请使用分支，然后将其合并回

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-02T06:19:31.847

1.  在使用 SVN 的情况下，团队之间必须进行协调。
2.  确保每当您提交代码时，您都知道您要提交什么。
3.  黄金法则是“一个开发者一个班级”。
4.  如果有两个不同的开发人员正在研究同一个类。要求他们保留一份关于他们所做更改的文件。而且，最重要的是在它自己的类中标记评论。
5.  提交代码时需要遵循一些重要的事情。每当您在本地文件和服务器文件中看到冲突时。确保你经历了每一次冲突并选择适当的行动。
6.  了解一件重要的事情，每当使用 SVN 时，一个人的错误都会影响到每个人。

# javascript - 正则表达式测试 url 和文件路径的重复单词

> ID：15757199
> 
> 赞同：1
> 
> 时间：2013-04-02T06:02:04.240
> 
> 标签：javascript, regex

我需要在输入值时提醒用户

1.  不以 http:// 或 https:// 或 // 开头
2.  如果在输入的值中重复了上述 3 个单词（http:// 或 https:// 或 //）中的任何一个。

我尝试了以下正则表达式，其中第一种情况成功，第二种情况失败

```
var regexp = /^(http:(\/\/)|https:(\/\/)|(\\\\))/;
var enteredvalue="http://facebookhttp://"

if (!regexp.test(enteredvalue.value)) {    
    alert("not valid url or filepath);
} 
```

请帮助我解决同样的问题。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-02T15:19:03.603

这似乎可行（尽管会有更优雅的解决方案）。希望它有帮助。

```
var regex = /http[s]{0,1}:\/\/|\/\//;
var x = enteredvalue.split(regex);
if(!(x[0]=='' && x.length==2))
   alert("not valid url or filepath"); 
```

干杯。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-02T17:20:31.387

尝试

```
var regexp = /^(?!(.*\/\/){2})(https?:)?\/\//;
var enteredvalue = "http://facebookhttp://";

if (!regexp.test(enteredvalue)) {    
    console.log("not valid url or filepath");
} 
```

`//`如果字符串中出现两组，则使用负前瞻来防止匹配。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-02T15:56:11.013

要检查多个匹配项，您可以将 String.match 与 RegexP 和“全局搜索”选项结合使用。以下是您的代码的简化版本：

```
var enteredvalue="http://facebookhttp://"
var test_pattern = new RegExp("(https://|http://|//)", "g"); //RegExP(pattern, [option])

enteredvalue.match(test_pattern); // should return ["http://", "http://"] 
```

当 match 返回多个实例时，很明显该模式被多次使用。这应该有助于识别不正确的网址。

此外，它比拆分更清洁。

希望这可以帮助。

# iphone - 将自定义 UITableViewCell 中的 UITextField 移动到屏幕中心，这样键盘就不会覆盖它

> ID：15757201
> 
> 赞同：1
> 
> 时间：2013-04-02T06:02:09.400
> 
> 标签：iphone, ios, objective-c, keyboard, uitextfield

我有一个应用程序用户必须填写的表格才能注册服务。但是，由于需要填写的字段很多，其中一些位于屏幕底部，因此当键盘出现时，该字段被覆盖，用户无法看到输入的内容。

我正在使用`UITableView`with custom `Prototype Cells`，每个都有一个`UITextField`named `textField`。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-02T06:04:49.530

您的问题有很多解决方案。你可以使用[这个](https://github.com/michaeltyson/TPKeyboardAvoiding)。还有一个示例代码也可以处理键盘动画`UITableView`。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-02T07:39:36.730

嗨试试这个代码希望会有所帮助

```
-(void)textFieldDidBeginEditing:(UITextField *)textField
{

  UITableViewCell *newcell = (UITableViewCell*) [[textField superview] superview];

    [tbl_view scrollToRowAtIndexPath:[tbl_view indexPathForCell:newcell] atScrollPosition:UITableViewScrollPositionTop animated:YES];

} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-02T06:16:07.417

当用户开始输入时，您将表格向上移动。

```
- (BOOL)textFieldShouldBeginEditing:(UITextField *)textField
{
[UIView beginAnimations:nil context:self.tableView];
            [UIView setAnimationDuration:0.25];
             [self.view setFrame:CGRectMake(0, -130, 320, 460)];
            [UIView commitAnimations];
return YES;
} 
```

# mysql - 以行到列的数据

> ID：15757207
> 
> 赞同：2
> 
> 时间：2013-04-02T06:02:55.193
> 
> 标签：mysql, stored-procedures

我有一个场景，在其中，我有一个包含记录的表：

```
AppNo   Location    Department  Code
1       NY          XYZ         1
1       NY          ABC         2
1       NY          PQR         3
2       TX          XYZ         1
2       TX          ABC         2 
```

可以有多个行（最多 5 行）具有相同的 AppNo 和 Location 具有不同的 Department 和 Code 值。

我们需要一个以下列方式获取数据的存储过程：

```
AppNo   Location    Department  Code    Location    Department  Code    Location    Department  Code    Location    Department  Code    Location    Department  Code
1       NY          XYZ         1       NY          ABC         2       NY          PQR         3       
2       TX          XYZ         1       TX          ABC         2 
```

基本上，对于每个 AppNo，我们需要一行中的数据，列重复。

请建议我一些方法来实现这一点。

在此先感谢，克里希纳

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-02T06:18:17.610

MySQL 中没有 PIVOT 命令，但有一些解决方法 -[数据透视表基础：行到列...](http://www.artfulsoftware.com/infotree/queries.php#78)，[MySQL 数据透视表（将行转换为列）](http://buysql.com/mysql/12-how-to-pivot-tables.html)。

对于你的情况，你可以使用这样的东西 -

```
SELECT AppNo,
  MAX(IF(code = 1, Location, NULL)) Location,
  MAX(IF(code = 1, Department, NULL)) Department,
  1 Code1,
  MAX(IF(code = 2, Location, NULL)) Location,
  MAX(IF(code = 2, Department, NULL)) Department,
  2 Code2,
  MAX(IF(code = 3, Location, NULL)) Location,
  MAX(IF(code = 3, Department, NULL)) Department,
  3 Code3,
  MAX(IF(code = 4, Location, NULL)) Location,
  MAX(IF(code = 4, Department, NULL)) Department,
  4 Code4,
  MAX(IF(code = 5, Location, NULL)) Location,
  MAX(IF(code = 5, Department, NULL)) Department,
  5 Code5
FROM <table name>
GROUP BY AppNo 
```

PS 您可以从存储的例程中运行此查询。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-02T08:58:19.027

程序将继续进行`sql server 2008 r2`（没有任何知识，`MYSQL`我**很弱**。）

```
--EXEC ABC
CREATE PROCEDURE ABC
AS
BEGIN
    BEGIN TRY

        if OBJECT_ID('tempdb..#app') is not null
        begin
            drop table #app
        end

        create table #app
        (
            AppNo int,
            Location varchar(10),
            Department varchar(10),
            Code int
        )

        insert into #app
        values
        (1       ,'NY'          ,'XYZ1'     ,    1),
        (1       ,'NY'          ,'ABC1'     ,    2),
        (1       ,'NY'          ,'PQR1'     ,    3),
        (2       ,'TX'          ,'XYZ'     ,    1),
        (2       ,'TX'          ,'ABC'     ,    2)

        --select * from #app

        if OBJECT_ID('tempdb..#t') is not null
        begin
            drop table #t
        end

        create table #t
        (
            AppNo int,
            Location1 varchar(10),
            Department1 varchar(10),
            Code1 int,
            Location2 varchar(10),
            Department2 varchar(10),
            Code2 int,
            Location3 varchar(10),
            Department3 varchar(10),
            Code3 int,
            Location4 varchar(10),
            Department4 varchar(10),
            Code4 int,
            Location5 varchar(10),
            Department5 varchar(10),
            Code5 int,
        )

        insert into #t
        (   
            AppNo,
            Location1,
            Department1,
            Code1,
            Location2,
            Department2,
            Code2,
            Location3,
            Department3,
            Code3,
            Location4,
            Department4,
            Code4,
            Location5,
            Department5,
            Code5
        )

        select 
            DISTINCT
            A.AppNo AS AppNo,
            A1.Location AS Location1,
            A1.Department AS Department1,
            A1.Code AS Code1,
            A2.Location AS Location1,
            A2.Department AS Department1,
            A2.Code AS Code1,
            A3.Location AS Location1,
            A3.Department AS Department1,
            A3.Code AS Code1,
            A4.Location AS Location1,
            A4.Department AS Department1,
            A4.Code AS Code1,
            A5.Location AS Location1,
            A5.Department AS Department1,
            A5.Code AS Code1
        from #app A
        INNER JOIN #app A1 ON A.AppNo=A1.AppNo AND A1.Code=1
        LEFT JOIN #app A2 ON A.AppNo=A2.AppNo AND A2.Code=2
        LEFT JOIN #app A3 ON A.AppNo=A3.AppNo AND A3.Code=3
        LEFT JOIN #app A4 ON A.AppNo=A4.AppNo AND A4.Code=4
        LEFT JOIN #app A5 ON A.AppNo=A5.AppNo AND A5.Code=5

        SELECT * FROM #t
    END TRY
    BEGIN CATCH
        --YOUR ERROR
    END CATCH
END 
```

# python-3.x - Python 3 中的自定义文件类型

> ID：15757213
> 
> 赞同：5
> 
> 时间：2013-04-02T06:03:17.663
> 
> 标签：python-3.x, format, file-format

如何开始在 Python 中创建我自己的文件类型？我有一个设计，但是如何将我的数据打包到具有特定格式的文件中？

例如，我希望我的文件格式是档案的混合（如 zip、apk、jar 等其他格式，它们基本上都是档案），并有一些空间用于打包文件，以及包含设置的文件部分归档管理器应用程序无法访问的序列化数据。

我对此的要求是使用 Cpython 的默认模块完成所有这些操作，而无需外部模块。

我知道解释和执行这可能很长，但我看不出如何在 Python 3.x 中使用 Cpython 启动它。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-02T06:24:06.720

尝试这个：

```
from zipfile import ZipFile
import json

data = json.dumps(['foo', {'bar': ('baz', None, 1.0, 2)}])

with ZipFile('foo.filetype', 'w') as myzip:
    myzip.writestr('digest.json', data) 
```

该文件现在是一个带有*json*文件的 zip 存档（在许多语言中很容易再次读取），您可以使用 myzip *write*或*writestr*将文件添加到存档中。您可以使用以下命令读回数据：

```
with ZipFile('foo.filetype', 'r') as myzip:
    json_data_read = myzip.read('digest.json')
    newdata = json.loads(json_data_read) 
```

编辑：您可以将任意数据附加到文件中：

```
f = open('foo.filetype', 'a')
f.write(data)
f.close() 
```

这适用于 winrar，但 python 不能再处理 zipfile。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2019-01-24T17:09:19.463

这可能不适合您的问题，但我认为这可能会对您有所帮助。

我遇到了类似的问题......但最终会创建一个 zip 文件，然后将 zip 文件格式重命名为我的自定义文件格式......但它可以用 winRar 打开。

# c# - 将 string[] 数组分配给带有参数 string[] 的函数

> ID：15757216
> 
> 赞同：24
> 
> 时间：2013-04-02T06:03:38.050
> 
> 标签：c#, string, params

我有一个功能`void Test(int id, params string[] strs)`。

我如何将字符串数组作为`strs`参数传递？当我打电话时：

```
Test(1, "a, b, c"); 
```

它将“strs”作为单个字符串（不是数组）。

* * *

## 回答 #1

> 赞同：38
> 
> 时间：2013-04-02T07:20:29.857

*实际上*，`params`只是 C# 编译器处理的语法糖，所以

这个：

```
void Method(params string[] args) { /**/ }
Method("one", "two", "three"); 
```

变成这样：

```
void Method(params string[] args) { /**/ }
Method(new string[] { "one", "two", "three" }) 
```

* * *

## 回答 #2

> 赞同：14
> 
> 时间：2013-04-02T07:09:06.263

我对此进行了测试，并且可以正常工作：

```
 private void CallTestMethod()
    {
        string [] strings = new string [] {"1", "2", "3"};
        Test(1, strings);

    }

    private void Test(int id, params string[] test)
    {
        //Do some action with input
    } 
```

你可以这样称呼它`Test(1, <Some string[]>);`

**编辑**

来自[MSDN 网站上的 params](http://msdn.microsoft.com/en-us/library/w5zay9db.aspx)：

> params 关键字允许您指定一个方法参数，该参数采用可变数量的参数。您可以发送以逗号分隔的参数声明中指定类型的参数列表，或指定类型的参数数组。您也可以不发送任何参数。方法声明中 params 关键字后面不允许有附加参数，方法声明中只允许有一个 params 关键字。

因此，您也可以`Test`像这样调用该方法 `Test(1);`而不会出现编译器错误。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-02T07:28:13.707

试试这个。

```
var myStringArray = new string[] {"a", "b", "c"};
Test(myStringArray) 
```

# visual-studio-2010 - 错误：VS2010 中的“值不能为空。参数名称：pSrcNativeVariant”

> ID：15757217
> 
> 赞同：4
> 
> 时间：2013-04-02T06:03:52.753
> 
> 标签：visual-studio-2010, cuda, nsight

当我想用 nsight 调试程序时，此消息显示：“值不能为空。参数名称：pSrcNativeVariant”。当我重建项目时，此错误未显示。但我必须为调试程序重复执行此操作。以前此操作不需要。

![错误信息](https://i.stack.imgur.com/WKnQA.jpg)

这是我的代码：

```
#include "cuda_runtime.h"
#include "device_launch_parameters.h"

#include <stdio.h>
#include <iostream>
using namespace std;

#define COLUMNS 3
#define ROWS 2

__global__ void add(int *a, int *b, int *c)
{
*a=345678;
int x = blockIdx.x;
int y = blockIdx.y;
int i = (COLUMNS*y) + x;
c[i] = a[i] + b[i];
}

int main()
{
int a[ROWS][COLUMNS], b[ROWS][COLUMNS], c[ROWS][COLUMNS];
int *dev_a, *dev_b, *dev_c;
int *x;
int r;
x=&r;
cudaMalloc((void **) &dev_a, ROWS*COLUMNS*sizeof(int));
cudaMalloc((void **) &dev_b, ROWS*COLUMNS*sizeof(int));
cudaMalloc((void **) &dev_c, ROWS*COLUMNS*sizeof(int));

for (int y = 0; y < ROWS; y++)    // Fill Arrays
    for (int x = 0; x < COLUMNS; x++)
    {
        a[y][x] = x;
        b[y][x] = y;
    }

    cudaMemcpy(dev_a, a, ROWS*COLUMNS*sizeof(int), 
        cudaMemcpyHostToDevice);
    cudaMemcpy(dev_b, b, ROWS*COLUMNS*sizeof(int), 
        cudaMemcpyHostToDevice);
    dim3 grid(COLUMNS,ROWS);

    add<<<grid,1>>>(dev_a, dev_b, dev_c);

    cudaMemcpy(c, dev_c, ROWS*COLUMNS*sizeof(int), 
        cudaMemcpyDeviceToHost);
    for (int y = 0; y < ROWS; y++)    // Output Arrays
    {
        for (int x = 0; x < COLUMNS; x++)
        {
            printf("[%d][%d]=%d ",y,x,c[y][x]);
        }
        printf("\n");
    }
    return 0;
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2014-04-26T09:22:23.777

我遇到了完全相同的问题。在尝试了很多事情之后，我发现只需在管理模式下运行一次visual studio就可以简单地解决这个问题。在管理员模式下，运行nsight调试器，问题就解决了。以后不需要管理员模式。至少这对我有用，祝你好运。

2014 年 5 月 12 日添加：今天再次出现此问题。这次我通过将平台从Win32切换到X64然后切换回来解决了它

2014 年 5 月 22 日添加：它再次发生，我之前尝试的所有方法这次都不起作用。最后是这样解决的：

> 我通过删除 Visual Studio 解决方案用户选项文件 (.suo) 解决了这个问题。

[项目杂项文件的 NuGet 包还原失败：值不能为 null 或空字符串。参数名称：root。0 0](https://stackoverflow.com/questions/20859591/nuget-package-restore-failed-for-project-miscellaneous-files-value-cannot-be-nu)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-09-17T17:47:32.810

It is a problem with the NuGet package. Solution:

1.  Update it if it is out-of-date(restart).
2.  Uninstall and reinstall(restart).
3.  Open the "Package Manager Console", which is under "Tools/NuGet Package Manager/Package Manager Console", type any command to make sure it works.

The problem should be solved.

# ios - 如何在 ios Frank 中自动滚动视图以查找特定元素？

> ID：15757219
> 
> 赞同：1
> 
> 时间：2013-04-02T06:03:55.183
> 
> 标签：ios, automation, native, frank

我正在尝试使用具有大量文本字段的 Frank 页面自动化 ios 本机应用程序。但我无法找到自动滚动查看页面直到找到元素的步骤。如果元素在视图之外，则 frank 无法填充该字段。有人可以帮忙吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-02T06:07:56.570

很简单，当文本字段变为活动状态时，创建一个方法，将 sender (a ) 作为参数，并通过属性`UITextField *`滚动到其位置。`frame`

# perl - 使用子程序或函数提取多行记录/数据

> ID：15757223
> 
> 赞同：2
> 
> 时间：2013-04-02T06:04:31.903
> 
> 标签：perl

你能告诉我如何使用这段代码创建一个子程序或函数吗？基本上我想把我的代码变成一个子程序，这样我就可以在不让我的脚本太长的情况下重复使用它。

这是我的脚本：

```
#!/usr/local/bin/perl

use strict;
use warnings;
use Data::Dumper;
use Carp qw(croak);

my @fields;
my ($tmp_var, $rec_type, $country, $header, $Combline, $records, $line);
my $filename = 'data5.txt';

open (my $input_fh, '<', $filename ) or croak "Can't open $filename: $!";
open  my $OUTPUTA, ">", 'drp1.txt' or die $!;
open  my $OUTPUTB, ">", 'drp2.txt' or die $!;
while (<$input_fh>) {
    $line = _trim($_);  
    @fields = split (/\|/, $line);  
    $rec_type = $fields[0];
    $country = $fields[1];
    my $string = substr $fields[1], 0, 1;
    $header = $line if(/^INVHDR/);  

    if ($rec_type eq 'INVDET') {                                     
        if ($string eq 'I')  {           
            $records = $header . $line;                 
            print  $OUTPUTA $records, scalar <$input_fh>;               
        }
        else {           
            $records = $header . $line;
            print  $OUTPUTB $records, scalar <$input_fh>;
        }      
    }     
}   

close $OUTPUTA or die $!;
close $OUTPUTB or die $!;

sub _trim {
    my $word = shift;
    if ( $word ) {      
        $word =~ s/\s*\|/\|/g;      #remove trailing spaces
        $word =~ s/"//g;            #remove double quotes
    }
    return $word;
} 
```

这是我想放入子例程或函数的脚本部分：

```
$line = _trim($_);  
@fields = split (/\|/, $line);  
$rec_type = $fields[0];
$country = $fields[1];
my $string = substr $fields[1], 0, 1;
$header = $line if (/^INVHDR/);

if ($rec_type eq 'INVDET') {                                     
    if ($string eq 'I')  {           
        $records = $header . $line;                 
        print $OUTPUTA $records, scalar <$input_fh>;                
    }
    else {
        $records = $header . $line;
        print $OUTPUTB $records, scalar <$input_fh>;
    }
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-02T15:56:45.890

我建议以不同的方式将其拆分并扩展您的 _trim 函数，将其转换为解析函数：

```
use strict;
use warnings;

open( my $input_fh, '<', 'data5.txt' ) or die "Can't open $filename: $!";
open( my $OUTPUTA, '>', 'drp1.txt' ) or die $!;
open( my $OUTPUTB, '>', 'drp2.txt' ) or die $!;

my $header = '';
while (<$input_fh>) {
    if ($_ =~ /^INVHDR/) {
        $header = $_;
    }
    if ($_ =~ /^INVDET/) {
        my @data = parse($_);
        my $line = $header . join('|', @data);
        # scalar <$input_fh> is almost certainly not doing what you expect, 
        # though I'm not sure what you're try to accomplish with it
        if ( $data[1] =~ /^I/ ) {
            print $OUTPUTA $line;
        } else {
            print $OUTPUTB $line;
        }
    }
}

sub parse {
    my $input = shift || return;
    my $input =~ s/"//g; # remove double quotes
    # Here I've combined the removal of trailing spaces with the split.
    my @fields = split( m{\s*\|}, $input );
    return @fields;
} 
```

# google-drive-api - 我可以使用哪个 API 使用正则表达式搜索 Google 应用

> ID：15757227
> 
> 赞同：3
> 
> 时间：2013-04-02T06:04:46.047
> 
> 标签：google-drive-api

我可以使用哪个 API 使用正则表达式搜索 Google 应用程序。如果没有 API，有哪些替代方案？

# ios - 像 iOS 的相机胶卷一样压缩视频

> ID：15757229
> 
> 赞同：3
> 
> 时间：2013-04-02T06:04:50.140
> 
> 标签：ios, video, compression

**背景：**

我正在录制视频，然后上传。

**问题：**

[我使用此解决方案](https://stackoverflow.com/a/5853354/1276636)（中等质量）压缩了视频，但它没有：

*   保持视频的原始尺寸
*   具有与相机胶卷一样好的压缩比。

我需要类似的压缩（大小和尺寸），如相机胶卷。如果不可能，我们是否有解决方法，例如，自动从 iOS 视频选择器中选择文件（用于上传）？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-05-27T04:33:23.833

您可以使用 AVAssetWriter 并设置自定义压缩设置。您甚至可以在录制时压缩视频，这样您就不必在上传前重新处理视频。到处搜索，有很多例子。

# facebook - Facebook 应用程序 - 无法检索用户 Facebook 帖子信息

> ID：15757237
> 
> 赞同：1
> 
> 时间：2013-04-02T06:05:43.660
> 
> 标签：facebook, facebook-graph-api, facebook-javascript-sdk

我们的 Facebook 应用程序存在一个非常重要且紧迫的问题。该应用程序是一项复杂的比赛，其中一个“问题”是用户是否有可能将消息发布到他们的墙上。然后，该应用程序将计算此特定墙贴获得了多少 LIKE。

因此，用户可以进入一个高分页面，其中 - 对于每个用户 - 应用程序将尝试通过调用获取帖子信息，例如

```
https://graph.facebook.com/[USER_ID]?access_token=[TOKEN_ID] 
```

最大的问题是，对于大多数用户而言，应用程序无法获取发布信息。我们只是收到一个“不支持的获取请求”。对于某些用户来说，它工作正常。我会说大约 20% 工作正常。

有些事情要记住

*   我们要求获得 READ_STREAM 的许可
*   我们有用户 Facebook ID 和 Facebook Post ID（对于所有条目 - 也包括那些返回“不支持.....”的条目），所以在我们这边似乎一切都很好。

那么这里可能有什么问题呢？我们知道可能存在许多问题，例如用户阻止应用程序、私人/公共设置等 - 但大约 80% 的用户将拥有这些设置似乎很奇怪。我们是否忘记了什么或做错了什么？

如果您对上述内容有任何见解，请让我们听听。我们变得非常绝望，因为我们目前正在运行一个无法运行的高分，我们想知道它是否会正常工作。

代码示例：

```
$facebook = new Facebook(array(
        'appId' => $app_id,
        'secret' => $app_secret,
        'cookie' => true
    ));

$accessToken = $facebook->getAccessToken();
$facebook->setAccessToken($accessToken);
$post = json_decode(file_get_contents('https://graph.facebook.com/'.$postid.'?access_token='.$accessToken), true); 
```

FB帖子的ID在哪里`$postid`。 *

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-03T07:31:09.053

好吧，您几乎做对了所有事情，但只需要做一个小改动，您正在使用 URI 请求发布信息

```
'https://graph.facebook.com/'.$postid.'?access_token='.$accessToken 
```

`$accessToken`您在这里使用的是App [Access Token](https://developers.facebook.com/docs/concepts/login/access-tokens-and-types/)。

因此，您需要使用用户的访问令牌来获取他/她的私人帖子，而不是应用访问令牌。最有可能的是，当您从用户那里检索到发布信息时，您可能使用的访问令牌将是用户的访问令牌。

# wcf - WCF：更改 maxStringContentLength

> ID：15757238
> 
> 赞同：1
> 
> 时间：2013-04-02T06:05:49.363
> 
> 标签：wcf

我需要将 maxStringContentLength 更改为大于 8192 的值，但没有成功。如果我的 WCF 服务接收到的数据量大于 8192 字节，它将生成异常。我已经用尽了我的搜索，似乎没有任何帮助。我应该指出，异常来自服务器。忘记客户端，因为我看到服务器上的 WCF 直接生成异常。这是我的 web.config 设置：

```
<?xml version="1.0"?>
<configuration>
  <system.web>
    <compilation debug="true" targetFramework="4.0"/>
  </system.web>
  <system.serviceModel>
    <behaviors>
      <serviceBehaviors>
        <behavior>
          <!-- To avoid disclosing metadata information, set the value below to false and remove the metadata endpoint above before deployment -->
          <serviceMetadata httpGetEnabled="true"/>
          <!-- To receive exception details in faults for debugging purposes, set the value below to true.  Set to false before deployment to avoid disclosing exception information -->
          <serviceDebug includeExceptionDetailInFaults="false"/>
        </behavior>
      </serviceBehaviors>
    </behaviors>
    <bindings>
      <basicHttpBinding>
        <binding name="defaultBinding">
          <readerQuotas maxStringContentLength="1048576" />
        </binding>
      </basicHttpBinding>
    </bindings>
    <serviceHostingEnvironment multipleSiteBindingsEnabled="true"/>
  </system.serviceModel>
  <system.webServer>
    <modules runAllManagedModulesForAllRequests="true"/>
  </system.webServer>
</configuration> 
```

# windows - Windows命令行中的茉莉花

> ID：15757239
> 
> 赞同：2
> 
> 时间：2013-04-02T06:05:50.583
> 
> 标签：windows, maven, command-line, jasmine

如何使用 Windows 机器从命令行运行 jasmine？我见过 jasmine 脚本在 Linux 中运行。我希望 jasmine 在命令行中独立，没有 phantomjs 或任何其他模拟服务器的 javascript 代码（我只需要 jasmine，如果可能的话使用 maven）。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-02T16:21:01.263

我迷路了......假设问题是“我可以在默认的 Windows 安装上运行 JavaScript，我可以用这种方式用 Jasmine 运行测试吗”？

CScript/WScript 将运行 JavaScript，它们都是默认 Windows 安装的一部分（我相信启动 W2K 或 WinXP）。

您还可以使用大多数机器上的 .Net 编译器 (JSC.exe) 编译 JavaScript（.Net 在 WinXP 上不是默认的 - 所以可能不存在，Windows Vista/7/8 默认带有 .Net 版本）。

请注意，JavaScript 本身与浏览器无关，以上两种工具都不会为您提供对浏览器对象的任何支持。您可以运行逻辑代码/操作文件和配置，输出文本。

Jasmine 有可能在没有浏览器对象的情况下从命令行运行 - 如果您的目标是从 Windows 命令提示符运行非浏览器相关的 JavaScript，请尝试自己。

还有一个选项可以自动化 IE 并在那里运行脚本（同样，默认的 IE 可能不是最新版本 - 但 Windows 8 附带 IE 10 - 对于大多数浏览器相关的测试来说应该足够了）。如果需要，您应该能够编写自己的自动化框架（类似于 Selenium），即使使用 JavaScript...

`CScript /nologo launchIE.js`从命令提示符运行的示例 JavaScript ：

```
// save as launchIE.js 
WScript.Echo("Launching IE to Bing"); // outputs text to console
var oIE = new ActiveXObject("InternetExplorer.Application.1");
oIE.Visible=1;
oIE.Navigate("http://www.bing.com"); 
```

# android - Facebook 应用程序请求数据丢失，当应用程序未安装并重定向到谷歌市场时

> ID：15757241
> 
> 赞同：2
> 
> 时间：2013-04-02T06:05:58.080
> 
> 标签：android, facebook, facebook-graph-api

Facebook 应用程序请求数据丢失，当应用程序未安装并重定向到谷歌市场时。如果应用程序已经安装，请求通知打开应用程序并且没有数据丢失。

如果 fb 通知重定向到市场，我们如何以及在哪里保存应用程序请求？

# apache-poi - 如何在 POI 中读取 HYPERLINK() 函数的结果

> ID：15757243
> 
> 赞同：2
> 
> 时间：2013-04-02T06:06:08.187
> 
> 标签：apache-poi, excel-formula

Apache Poi 可以计算并返回公式中函数的结果。但是对于特殊函数 HYPERLINK()，它只返回“显示值”，而不是实际计算的超链接值。

我有一个 Excel 文件，其中包含复杂的计算超链接，它结合了工作簿中许多不同字段的结果，因此能够读取超链接的结果 URL 会很好，但是使用默认[公式评估](http://poi.apache.org/spreadsheet/eval.html)我只能得到“显示值”，而不是实际的 URL。

有没有一种方法可以计算公式，以便我可以读取实际的 URL？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-02T06:59:51.300

找到了一种方法，但我可能会称之为“丑陋的解决方法”：

如果您尝试使用 WorkbookEvaluator.registerFunction("HYPERLINK", func) 在 Apache Poi 中重新实现“超链接”函数实现，则会收到无法覆盖内置函数的错误。

在深入研究 Poi 之后，我发现我可以通过将一个类放入“org.apache.poi.ss.formula.eval”包中来访问内置函数列表：

```
package org.apache.poi.ss.formula.eval;

public class BuiltinFunctionsOverloader {
    public static void replaceBuiltinFunction(int index, Function function) {
        FunctionEval.functions[index] = function;
    }
} 
```

然后我可以使用这个覆盖一个函数，例如超链接有索引 359：

```
BuiltinFunctionsOverloader.replaceBuiltinFunction(359, func); 
```

通过如下的函数实现，我现在得到的是 URL 值而不是显示值：

```
 Function func = new Function2Arg() {
        @Override
        public final ValueEval evaluate(ValueEval[] largs, int srcRowIndex, int srcColumnIndex) {
            switch (largs.length) {
                case 1:
                    return evaluate(srcRowIndex, srcColumnIndex, largs[0]);
                case 2:
                    return evaluate(srcRowIndex, srcColumnIndex, largs[0], largs[1]);
            }
            return ErrorEval.VALUE_INVALID;
        }

        public ValueEval evaluate(int srcRowIndex, int srcColumnIndex, ValueEval arg0) {
            return arg0;
        }

        @Override
        public ValueEval evaluate(int srcRowIndex, int srcColumnIndex, ValueEval arg0, ValueEval arg1) {
            return arg0;
        }
    }; 
```

丑，但至少不需要我修补POI。

有人知道这样做的更“官方”方式吗？

# hadoop - Hadoop 最佳实践的站点是什么

> ID：15757246
> 
> 赞同：4
> 
> 时间：2013-04-02T06:06:18.270
> 
> 标签：hadoop

什么是 Hadoop 最佳实践的网站，而不是我可以获得创建新项目和小示例的逐步过程的书籍。我找不到这样的网站，请分享。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-02T07:34:38.103

[雅虎开发人员在Apache Hadoop](http://developer.yahoo.com/blogs/hadoop/posts/2010/08/apache_hadoop_best_practices_a/)上有一篇很棒的文章：Best Practices and Anti-Patterns

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-02T22:26:07.057

Hadoop 不是一个单一的应用程序，而是一个分布式处理框架，由位于该框架顶部的多个应用程序使用。Pig、Hive、HBase、Cassandra 等是为特定要求设计的众多此类应用程序中的少数几个。所有这些应用程序都使用Hadoop框架，该框架主要由分布式文件系统（HDFS）和分布式处理（MapReduce）组成。

从技术上讲，当您拥有一个最低限度的 Hadoop 集群（仅限 HDFS + MapReduce）时，您可以开始编写基于 MapReduce 的应用程序（Java 或其他语言通过 Hadoop Streaming 支持）来处理一些数据。

你可以做的是首先从 Cloudera 或 Hortonworks 发行版下载一个预构建/配置的 Hadoop 虚拟映像，然后让它在你的机器上运行。之后开始学习用 Java 编写 MapReduce 作业并在您的虚拟机中运行。

这是[下载 Cloudera Hadoop Distribution VM的 URL](https://ccp.cloudera.com/display/SUPPORT/Demo+VMs)

这是学习编写最简单的字数统计工作的[链接。](https://ccp.cloudera.com/display/DOC/Hadoop+Tutorial)

# android - 在 Android 的 doinbackground() 中执行 UI 任务

> ID：15757251
> 
> 赞同：8
> 
> 时间：2013-04-02T06:06:39.347
> 
> 标签：android, android-asynctask

有没有办法在 AsyncTask 的 doinbackground() 中执行 UI 任务。我很清楚最好在 onPostExecute 方法中执行此操作。但就我而言，因为我需要使用可重用的警报，所以能够在我的 doinbackground 中访问 UI 将为我节省大量时间。也就是说，我需要在 46 个地方调整代码，但能够在 doinbackground 中做到这一点只需要在一个地方进行更改。

提前致谢

* * *

## 回答 #1

> 赞同：29
> 
> 时间：2013-04-02T06:44:29.010

希望这能解决你的问题

```
 onPreExecute() {
       // some code #1
    }

    doInBackground() {
        runOnUiThread(new Runnable() {
                    public void run() {
                        // some code #3 (Write your code here to run in UI thread)

                    }
                });
    }

    onPostExecute() {
       // some code #3
    } 
```

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2013-04-02T06:11:56.523

除了从 更新 UI 之外`onPostExecute()`，还有 2 种更新 UI 的方法：

1.  从`doInBackground()`实施`runOnUiThread()`
2.  从`onProgressUpdate()`

供参考，

`onProgressUpdate()`- 每当您想更新任何内容时`doInBackground()`，您只需要使用`publishProgress(Progress...)`发布一个或多个进度单位，它就会`onProgressUpdate()`在 UI 线程上 ping 更新。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2013-04-02T06:12:19.197

`onProgressUpdate`你可以利用

[文档](http://developer.android.com/reference/android/os/AsyncTask.html#onProgressUpdate%28Progress...%29)

# file - UNIX 列出文件大小范围内的文件

> ID：15757254
> 
> 赞同：1
> 
> 时间：2013-04-02T06:06:45.053
> 
> 标签：file, unix, variables, loops, size

我正在寻找一种方法来获取目录中的所有文件（这是一个变量），然后检查这些文件是否在两个文件大小值之间。

我有三个论点。要分析的目录，文件大小的最小值和文件大小的最大值。

我已使用以下目录在目录中成功完成此操作：

`find "$directory" -maxdepth 1 -size +"$a"c -size -"$b"c -printf %P`

只有这样才能在同一行打印所有结果。我试过在最后添加一个 \n 没有运气。

a 是最小值

b 是最大值

我希望每行仅输出文件名，并且它们旁边的大小。（我必须更改一些反引号才能正确显示代码）

我怎样才能按照我需要的方式进行格式化？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-02T06:09:34.560

你可以这样做`find`：

```
find "$directory" -size +"$a" -a -size -"$a" 
```

* * *

你不应该 parse `ls`，它的输出并不意味着是可解析的。

# paypal - 抱歉 - 您的最后一个操作无法完成

> ID：15757257
> 
> 赞同：5
> 
> 时间：2013-04-02T06:07:02.620
> 
> 标签：paypal

我很困惑，我已经集成了经常性支付系统。

之前运行良好，3天。表格 2 天我收到错误

> 抱歉 - 当我尝试登录时，您的最后一个操作无法完成。

它登录成功，但现在显示付款确认页面。

应该是什么问题？

我现在正在使用沙盒。

如果您想了解更多详情，请告诉我。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2016-01-12T15:21:13.833

请检查或执行以下操作

1.  使用*单独的浏览器*页面登录 sandbox.paypal.com，正如您所说的您正在尝试“登录”

2.  我注意到，当先前的 paypal.com 会话被激活时，sandbox.paypal.com 会定期加载我的实时凭据；明显的 cookie 问题

3.  如果您有密码/用户 ID 客户端，例如快速通行证等；确保验证注入到您的 pw/用户 ID 客户端选项中的字段中的密码

在我回复时请注意：

抱歉 - 当我尝试登录时，您的最后一个操作无法完成 <-- 不要重复支付系统无法正常工作，因为这似乎是 2 个不同的问题。如果不是，请为我澄清

# php - 使用 PHP 回显 HTML 时的随机空格

> ID：15757259
> 
> 赞同：0
> 
> 时间：2013-04-02T06:07:41.130
> 
> 标签：php, html, echo, whitespace

**非常感谢所有评论和回答这个问题的人，问题是页面上方的 div 缺少双引号！尴尬，但再次感谢您的努力！作为记录，我的问题是在页面的较高位置，有一个像这样的 div：就在我插入动态 div 之前。**

我有一个非常简单的问题，但我无法挖掘任何关于它发生原因的信息。

基本上我使用 php 来回显相当多的 html，大约 6 个 div。在浏览器上查看时，特别是一个 div 总是显示错误。我正在使用没有 BOM 的记事本 ++ 编码 UTF-8。这是一个例子：

在我的 index.php 中，我写道：

```
<? echo '<div class="DivButton">Logout</div>'; ?> 
```

我所看到的只是没有 CSS 的文本“注销”。当我在浏览器中查看代码时，它看起来像这样：

```
<div class=" divbutton">Logout</div> 
```

另一个线索是，在类之前通常有 1 或 2 行，例如在浏览器中：

```
 <div style="background:#000; left:0px;">Welcome to your website</div><div style="

divbutton">Logout</div> 
```

和想法非常感谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-02T07:35:50.017

如上所述，除非您无意将其放在那里，否则无法从代码中生成空格，HTML无论如何都会忽略空格，因此不应该真正存在这样的问题。您提供的代码和输出的大小写也不匹配？这些是实际的片段还是仅来自您在此处所写的。

```
<div class="divbutton"><? echo 'Logout'; ?></div> 
```

尝试减少回显，保持简单，以便您可以看到您只是在回显“注销”，我假设您希望这是动态登录/注销，具体取决于是否存在会话。

# sql - 通过搜索 SQL Server 中的所有表来查找字符串

> ID：15757263
> 
> 赞同：250
> 
> 时间：2013-04-02T06:07:51.117
> 
> 标签：sql, sql-server, search

有没有办法在 SQL Server 的数据库的所有表中搜索字符串？

我想搜索字符串 say `john`。结果应显示包含`john`.

* * *

## 回答 #1

> 赞同：318
> 
> 时间：2014-12-08T15:17:58.703

如果你和我一样，在生产环境中有一定的限制，你可能希望使用表变量而不是临时表，使用即席查询而不是创建过程。

当然根据你的 sql server 实例，它必须支持表变量。

我还添加了一条 USE 语句来缩小搜索范围

```
USE DATABASE_NAME
DECLARE @SearchStr nvarchar(100) = 'SEARCH_TEXT'
DECLARE @Results TABLE (ColumnName nvarchar(370), ColumnValue nvarchar(3630))

SET NOCOUNT ON

DECLARE @TableName nvarchar(256), @ColumnName nvarchar(128), @SearchStr2 nvarchar(110)
SET  @TableName = ''
SET @SearchStr2 = QUOTENAME('%' + @SearchStr + '%','''')

WHILE @TableName IS NOT NULL

BEGIN
    SET @ColumnName = ''
    SET @TableName = 
    (
        SELECT MIN(QUOTENAME(TABLE_SCHEMA) + '.' + QUOTENAME(TABLE_NAME))
        FROM     INFORMATION_SCHEMA.TABLES
        WHERE         TABLE_TYPE = 'BASE TABLE'
            AND    QUOTENAME(TABLE_SCHEMA) + '.' + QUOTENAME(TABLE_NAME) > @TableName
            AND    OBJECTPROPERTY(
                    OBJECT_ID(
                        QUOTENAME(TABLE_SCHEMA) + '.' + QUOTENAME(TABLE_NAME)
                         ), 'IsMSShipped'
                           ) = 0
    )

    WHILE (@TableName IS NOT NULL) AND (@ColumnName IS NOT NULL)

    BEGIN
        SET @ColumnName =
        (
            SELECT MIN(QUOTENAME(COLUMN_NAME))
            FROM     INFORMATION_SCHEMA.COLUMNS
            WHERE         TABLE_SCHEMA    = PARSENAME(@TableName, 2)
                AND    TABLE_NAME    = PARSENAME(@TableName, 1)
                AND    DATA_TYPE IN ('char', 'varchar', 'nchar', 'nvarchar', 'int', 'decimal')
                AND    QUOTENAME(COLUMN_NAME) > @ColumnName
        )

        IF @ColumnName IS NOT NULL

        BEGIN
            INSERT INTO @Results
            EXEC
            (
                'SELECT ''' + @TableName + '.' + @ColumnName + ''', LEFT(' + @ColumnName + ', 3630) 
                FROM ' + @TableName + ' (NOLOCK) ' +
                ' WHERE ' + @ColumnName + ' LIKE ' + @SearchStr2
            )
        END
    END    
END

SELECT ColumnName, ColumnValue FROM @Results 
```

* * *

## 回答 #2

> 赞同：51
> 
> 时间：2013-10-01T09:28:31.663

有点晚，但希望有用。

为什么不尝试一些可以集成到 SSMS 中的第三方工具。

我使用[ApexSQL Search](http://www.apexsql.com/sql_tools_search.aspx)（100% 免费）在模式和数据搜索方面都取得了很好的成功，并且还有具有此功能的[SSMS 工具包（对于 SQL 2012 来说不是免费的，但相当实惠）。](http://www.ssmstoolspack.com/Features?f=5)

上面的存储过程真的很棒；只是在我看来这更方便。此外，如果您想搜索日期时间列或 GUID 列等，则需要稍作修改......</p>

* * *

## 回答 #3

> 赞同：39
> 
> 时间：2013-11-07T20:35:06.873

要更新[TechDo](https://stackoverflow.com/users/1367256/techdo)对 SQL server 2012 的回答。您需要更改`'FROM ' + @TableName + ' (NOLOCK) '` **：** `FROM ' + @TableName + 'WITH (NOLOCK) ' +`

否则，您将收到以下错误：`Deprecated feature 'Table hint without WITH' is not supported in this version of SQL Server.`

下面是完整的更新存储过程：

```
CREATE PROC SearchAllTables
(
@SearchStr nvarchar(100)
)
AS
BEGIN

    CREATE TABLE #Results (ColumnName nvarchar(370), ColumnValue nvarchar(3630))

    SET NOCOUNT ON

    DECLARE @TableName nvarchar(256), @ColumnName nvarchar(128), @SearchStr2 nvarchar(110)
    SET  @TableName = ''
    SET @SearchStr2 = QUOTENAME('%' + @SearchStr + '%','''')

    WHILE @TableName IS NOT NULL

    BEGIN
        SET @ColumnName = ''
        SET @TableName = 
        (
            SELECT MIN(QUOTENAME(TABLE_SCHEMA) + '.' + QUOTENAME(TABLE_NAME))
            FROM     INFORMATION_SCHEMA.TABLES
            WHERE         TABLE_TYPE = 'BASE TABLE'
                AND    QUOTENAME(TABLE_SCHEMA) + '.' + QUOTENAME(TABLE_NAME) > @TableName
                AND    OBJECTPROPERTY(
                        OBJECT_ID(
                            QUOTENAME(TABLE_SCHEMA) + '.' + QUOTENAME(TABLE_NAME)
                             ), 'IsMSShipped'
                               ) = 0
        )

        WHILE (@TableName IS NOT NULL) AND (@ColumnName IS NOT NULL)

        BEGIN
            SET @ColumnName =
            (
                SELECT MIN(QUOTENAME(COLUMN_NAME))
                FROM     INFORMATION_SCHEMA.COLUMNS
                WHERE         TABLE_SCHEMA    = PARSENAME(@TableName, 2)
                    AND    TABLE_NAME    = PARSENAME(@TableName, 1)
                    AND    DATA_TYPE IN ('char', 'varchar', 'nchar', 'nvarchar', 'int', 'decimal')
                    AND    QUOTENAME(COLUMN_NAME) > @ColumnName
            )

            IF @ColumnName IS NOT NULL

            BEGIN
                INSERT INTO #Results
                EXEC
                (
                    'SELECT ''' + @TableName + '.' + @ColumnName + ''', LEFT(' + @ColumnName + ', 3630) 
                    FROM ' + @TableName + 'WITH (NOLOCK) ' +
                    ' WHERE ' + @ColumnName + ' LIKE ' + @SearchStr2
                )
            END
        END    
    END

    SELECT ColumnName, ColumnValue FROM #Results
END 
```

* * *

## 回答 #4

> 赞同：31
> 
> 时间：2017-08-09T08:34:00.697

有点晚了，但是您可以使用此查询轻松找到一个字符串

```
DECLARE
@search_string  VARCHAR(100),
@table_name     SYSNAME,
@table_id       INT,
@column_name    SYSNAME,
@sql_string     VARCHAR(2000)

SET @search_string = 'StringtoSearch'

DECLARE tables_cur CURSOR FOR SELECT ss.name +'.'+ so.name [name], object_id FROM sys.objects so INNER JOIN sys.schemas ss ON so.schema_id = ss.schema_id WHERE  type = 'U'

OPEN tables_cur

FETCH NEXT FROM tables_cur INTO @table_name, @table_id

WHILE (@@FETCH_STATUS = 0)
BEGIN
    DECLARE columns_cur CURSOR FOR SELECT name FROM sys.columns WHERE object_id = @table_id 
        AND system_type_id IN (167, 175, 231, 239)

    OPEN columns_cur

    FETCH NEXT FROM columns_cur INTO @column_name
        WHILE (@@FETCH_STATUS = 0)
        BEGIN
            SET @sql_string = 'IF EXISTS (SELECT * FROM ' + @table_name + ' WHERE [' + @column_name + '] 
            LIKE ''%' + @search_string + '%'') PRINT ''' + @table_name + ', ' + @column_name + ''''

            EXECUTE(@sql_string)

        FETCH NEXT FROM columns_cur INTO @column_name
        END

    CLOSE columns_cur

DEALLOCATE columns_cur

FETCH NEXT FROM tables_cur INTO @table_name, @table_id
END

CLOSE tables_cur
DEALLOCATE tables_cur 
```

* * *

## 回答 #5

> 赞同：5
> 
> 时间：2020-05-14T13:20:18.227

不需要嵌套循环（通过表的外部循环和通过所有表列的内部循环）。可以从一个循环中检索所有（或任意选择/过滤的）表列组合，`INFORMATION_SCHEMA.COLUMNS`只需通过（搜索）所有这些组合：

```
DECLARE @search VARCHAR(100), @table SYSNAME, @column SYSNAME

DECLARE curTabCol CURSOR FOR
    SELECT c.TABLE_SCHEMA + '.' + c.TABLE_NAME, c.COLUMN_NAME
    FROM INFORMATION_SCHEMA.COLUMNS c
    JOIN INFORMATION_SCHEMA.TABLES t 
      ON t.TABLE_NAME=c.TABLE_NAME AND t.TABLE_TYPE='BASE TABLE' -- avoid views
    WHERE c.DATA_TYPE IN ('varchar','nvarchar') -- searching only in these column types
    --AND c.COLUMN_NAME IN ('NAME','DESCRIPTION') -- searching only in these column names

SET @search='john'

OPEN curTabCol
FETCH NEXT FROM curTabCol INTO @table, @column

WHILE (@@FETCH_STATUS = 0)
BEGIN
    EXECUTE('IF EXISTS 
             (SELECT * FROM ' + @table + ' WHERE ' + @column + ' = ''' + @search + ''') 
             PRINT ''' + @table + '.' + @column + '''')
    FETCH NEXT FROM curTabCol INTO @table, @column
END

CLOSE curTabCol
DEALLOCATE curTabCol 
```

* * *

## 回答 #6

> 赞同：3
> 
> 时间：2017-03-10T08:50:41.770

我为此编写了一个 SP，它以表名、找到搜索关键字字符串的列名以及搜索相应行的形式返回搜索结果，如下面的屏幕截图所示。

[![样本搜索结果](https://i.stack.imgur.com/qJLn9.png)](https://i.stack.imgur.com/qJLn9.png)

这可能不是最有效的解决方案，但您始终可以根据需要修改和使用它。

```
IF OBJECT_ID('sp_KeywordSearch', 'P') IS NOT NULL
    DROP PROC sp_KeywordSearch
GO

CREATE PROCEDURE sp_KeywordSearch @KeyWord NVARCHAR(100)
AS
BEGIN
    DECLARE @Result TABLE
        (TableName NVARCHAR(300),
         ColumnName NVARCHAR(MAX))

    DECLARE @Sql NVARCHAR(MAX),
        @TableName NVARCHAR(300),
        @ColumnName NVARCHAR(300),
        @Count INT

    DECLARE @tableCursor CURSOR

    SET @tableCursor = CURSOR LOCAL SCROLL FOR
    SELECT  N'SELECT @Count = COUNT(1) FROM [dbo].[' + T.TABLE_NAME + '] WITH (NOLOCK) WHERE CAST([' + C.COLUMN_NAME +
            '] AS NVARCHAR(MAX)) LIKE ''%' + @KeyWord + N'%''',
            T.TABLE_NAME,
            C.COLUMN_NAME
    FROM    INFORMATION_SCHEMA.TABLES AS T WITH (NOLOCK)
    INNER JOIN INFORMATION_SCHEMA.COLUMNS AS C WITH (NOLOCK)
    ON      T.TABLE_SCHEMA = C.TABLE_SCHEMA AND
            T.TABLE_NAME = C.TABLE_NAME
    WHERE   T.TABLE_TYPE = 'BASE TABLE' AND
            C.TABLE_SCHEMA = 'dbo' AND
            C.DATA_TYPE NOT IN ('image', 'timestamp')

    OPEN @tableCursor
    FETCH NEXT FROM @tableCursor INTO @Sql, @TableName, @ColumnName

    WHILE (@@FETCH_STATUS = 0)
    BEGIN
        SET @Count = 0

        EXEC sys.sp_executesql
            @Sql,
            N'@Count INT OUTPUT',
            @Count OUTPUT

        IF @Count > 0
        BEGIN
            INSERT  INTO @Result
                    (TableName, ColumnName)
            VALUES  (@TableName, @ColumnName)
        END

        FETCH NEXT FROM @tableCursor INTO @Sql, @TableName, @ColumnName
    END

    CLOSE @tableCursor
    DEALLOCATE @tableCursor

    SET @tableCursor = CURSOR LOCAL SCROLL FOR
    SELECT  SUBSTRING(TB.Sql, 1, LEN(TB.Sql) - 3) AS Sql, TB.TableName, SUBSTRING(TB.Columns, 1, LEN(TB.Columns) - 1) AS Columns
    FROM    (SELECT R.TableName, (SELECT R2.ColumnName + ', ' FROM @Result AS R2 WHERE R.TableName = R2.TableName FOR XML PATH('')) AS Columns,
                    'SELECT * FROM ' + R.TableName + ' WITH (NOLOCK) WHERE ' +
                    (SELECT 'CAST(' + R2.ColumnName + ' AS NVARCHAR(MAX)) LIKE ''%' + @KeyWord + '%'' OR '
                     FROM   @Result AS R2
                     WHERE  R.TableName = R2.TableName
                    FOR
                     XML PATH('')) AS Sql
             FROM   @Result AS R
             GROUP BY R.TableName) TB
    ORDER BY TB.Sql

    OPEN @tableCursor
    FETCH NEXT FROM @tableCursor INTO @Sql, @TableName, @ColumnName

    WHILE (@@FETCH_STATUS = 0)
    BEGIN
        PRINT @Sql
        SELECT  @TableName AS [Table],
                @ColumnName AS Columns
        EXEC(@Sql)

        FETCH NEXT FROM @tableCursor INTO @Sql, @TableName, @ColumnName
    END

    CLOSE @tableCursor
    DEALLOCATE @tableCursor

END 
```

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2018-09-05T20:41:37.657

这很有帮助。我想将此函数导入 Postgre SQL 数据库。以为我会与任何有兴趣的人分享。将有他们几个小时。注意：此函数创建一个可以在 Postgre 数据库上复制和执行的 SQL 语句列表。也许比我更聪明的人可以让 Postgre 在一个函数中创建和执行语句。

```
CREATE OR REPLACE FUNCTION SearchAllTables(_search text) RETURNS TABLE( txt text ) as $funct$
    DECLARE __COUNT int;
    __SQL text;
BEGIN
    EXECUTE 'SELECT COUNT(0) FROM INFORMATION_SCHEMA.COLUMNS
                    WHERE    DATA_TYPE = ''text'' 
                    AND          table_schema = ''public'' ' INTO __COUNT;

    RETURN QUERY 
        SELECT CASE WHEN ROW_NUMBER() OVER (ORDER BY table_name) < __COUNT THEN 
            'SELECT ''' || table_name ||'.'|| column_name || ''' AS tbl, "'  || column_name || '" AS col FROM "public"."' || "table_name" || '" WHERE "'|| "column_name" || '" ILIKE ''%' || _search  || '%'' UNION ALL' 
            ELSE 
            'SELECT ''' || table_name ||'.'|| column_name || ''' AS tbl, "'  || column_name || '" AS col FROM "public"."' || "table_name" || '" WHERE "'|| "column_name" || '" ILIKE ''%' || _search  || '%'''
        END AS txt

                    FROM     INFORMATION_SCHEMA.COLUMNS
                    WHERE    DATA_TYPE = 'text' 
                    AND          table_schema = 'public';
END
$funct$ LANGUAGE plpgsql; 
```

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2019-09-11T08:07:47.250

这篇文章中已经多次提到的答案我已经采用了一点，因为我也只需要在一个表中搜索：

（并且还使表名的输入更简单一些）

```
ALTER PROC dbo.db_compare_SearchAllTables_sp
(
    @SearchStr nvarchar(100),
    @TableName nvarchar(256) = ''
)
AS
BEGIN
        if PARSENAME(@TableName, 2) is null
            set @TableName = 'dbo.' + QUOTENAME(@TableName, '"')

    declare @results TABLE(ColumnName nvarchar(370), ColumnValue nvarchar(3630))

    SET NOCOUNT ON

    DECLARE @ColumnName nvarchar(128) = '', @SearchStr2 nvarchar(110)
    SET @SearchStr2 = QUOTENAME('%' + @SearchStr + '%','''')
        IF @TableName <> ''
        WHILE (@TableName IS NOT NULL) AND (@ColumnName IS NOT NULL)
        BEGIN
            SET @ColumnName =
            (
                SELECT MIN(QUOTENAME(COLUMN_NAME))
                FROM     INFORMATION_SCHEMA.COLUMNS
                WHERE         TABLE_SCHEMA    = PARSENAME(@TableName, 2)
                    AND    TABLE_NAME    = PARSENAME(@TableName, 1)
                    AND    DATA_TYPE IN ('char', 'varchar', 'nchar', 'nvarchar')
                    AND    QUOTENAME(COLUMN_NAME) > @ColumnName
            )

            IF @ColumnName IS NOT NULL
            BEGIN
                INSERT INTO @results
                EXEC
                (
                    'SELECT ''' + @TableName + '.' + @ColumnName + ''', LEFT(' + @ColumnName + ', 3630) 
                    FROM ' + @TableName + ' WITH (NOLOCK) ' +
                    ' WHERE ' + @ColumnName + ' LIKE ' + @SearchStr2
                )
            END
        END    
        ELSE
    WHILE @TableName IS NOT NULL
    BEGIN
        SET @ColumnName = ''
        SET @TableName = 
        (
            SELECT MIN(QUOTENAME(TABLE_SCHEMA) + '.' + QUOTENAME(TABLE_NAME))
            FROM     INFORMATION_SCHEMA.TABLES
            WHERE         TABLE_TYPE = 'BASE TABLE'
                AND    QUOTENAME(TABLE_SCHEMA) + '.' + QUOTENAME(TABLE_NAME) > @TableName
                AND    OBJECTPROPERTY(
                        OBJECT_ID(
                            QUOTENAME(TABLE_SCHEMA) + '.' + QUOTENAME(TABLE_NAME)
                             ), 'IsMSShipped'
                               ) = 0
        )

        WHILE (@TableName IS NOT NULL) AND (@ColumnName IS NOT NULL)
        BEGIN
            SET @ColumnName =
            (
                SELECT MIN(QUOTENAME(COLUMN_NAME))
                FROM     INFORMATION_SCHEMA.COLUMNS
                WHERE         TABLE_SCHEMA    = PARSENAME(@TableName, 2)
                    AND    TABLE_NAME    = PARSENAME(@TableName, 1)
                    AND    DATA_TYPE IN ('char', 'varchar', 'nchar', 'nvarchar')
                    AND    QUOTENAME(COLUMN_NAME) > @ColumnName
            )

            IF @ColumnName IS NOT NULL
            BEGIN
                INSERT INTO @results
                EXEC
                (
                    'SELECT ''' + @TableName + '.' + @ColumnName + ''', LEFT(' + @ColumnName + ', 3630) 
                    FROM ' + @TableName + ' WITH (NOLOCK) ' +
                    ' WHERE ' + @ColumnName + ' LIKE ' + @SearchStr2
                )
            END
        END    
    END

    SELECT ColumnName, ColumnValue FROM @results
END 
```

* * *

## 回答 #9

> 赞同：0
> 
> 时间：2020-11-13T08:46:02.373

改进了来自@Brandon 的惊人答案，我使用铸件向 ntext 和 xml 添加了类型：

```
BEGIN TRAN

DECLARE @SearchStr nvarchar(100) = 'SEARCH_TEXT'
DECLARE @Results TABLE (ColumnName nvarchar(370), ColumnValue nvarchar(3630))

SET NOCOUNT ON

DECLARE @TableName nvarchar(256), @ColumnName nvarchar(128), @SearchStr2 nvarchar(110)
SET  @TableName = ''
SET @SearchStr2 = QUOTENAME('%' + @SearchStr + '%','''')

WHILE @TableName IS NOT NULL

BEGIN
    SET @ColumnName = ''
    SET @TableName = 
    (
        SELECT MIN(QUOTENAME(TABLE_SCHEMA) + '.' + QUOTENAME(TABLE_NAME))
        FROM     INFORMATION_SCHEMA.TABLES
        WHERE         TABLE_TYPE = 'BASE TABLE'
            AND    QUOTENAME(TABLE_SCHEMA) + '.' + QUOTENAME(TABLE_NAME) > @TableName
            AND    OBJECTPROPERTY(
                    OBJECT_ID(
                        QUOTENAME(TABLE_SCHEMA) + '.' + QUOTENAME(TABLE_NAME)
                         ), 'IsMSShipped'
                           ) = 0
    )

    WHILE (@TableName IS NOT NULL) AND (@ColumnName IS NOT NULL)

    BEGIN
        SET @ColumnName =
        (
            SELECT MIN(QUOTENAME(COLUMN_NAME))
            FROM     INFORMATION_SCHEMA.COLUMNS
            WHERE         TABLE_SCHEMA    = PARSENAME(@TableName, 2)
                AND    TABLE_NAME    = PARSENAME(@TableName, 1)
                AND    DATA_TYPE IN ('char', 'varchar', 'nchar', 'nvarchar', 'int', 'decimal', 'ntext', 'xml')
                AND    QUOTENAME(COLUMN_NAME) > @ColumnName
        )

        IF @ColumnName IS NOT NULL

        BEGIN
            INSERT INTO @Results
            EXEC
            (
                'SELECT ''' + @TableName + '.' + @ColumnName + ''', LEFT((cast(' + @ColumnName + ' as nvarchar(max))), 3630) 
                FROM ' + @TableName + ' (NOLOCK) ' +
                ' WHERE (cast(' + @ColumnName + ' as nvarchar(max))) LIKE ' + @SearchStr2
            )
        END
    END    
END

SELECT ColumnName, ColumnValue FROM @Results

ROLLBACK 
```

* * *

## 回答 #10

> 赞同：0
> 
> 时间：2021-09-30T10:20:30.850

```
[CREATE PROC SearchAllTables ( @SearchStr nvarchar(100) ) AS 
        BEGIN 

        CREATE TABLE #Results (ColumnName nvarchar(370), ColumnValue nvarchar(3630)) 

        SET NOCOUNT ON 

        DECLARE @TableName nvarchar(256), 
                @ColumnName nvarchar(128), 
                @SearchStr2 nvarchar(110) 

        SET @TableName = '' 
        SET @SearchStr2 = QUOTENAME('%' + @SearchStr + '%','''') 

        WHILE @TableName IS NOT NULL 
        BEGIN 
             SET @ColumnName = '' 
             SET @TableName = ( SELECT MIN(QUOTENAME(TABLE_SCHEMA) + '.' + QUOTENAME(TABLE_NAME)) 
                                FROM INFORMATION_SCHEMA.TABLES 
                                WHERE TABLE_TYPE = 'BASE TABLE' 
                                      AND QUOTENAME(TABLE_SCHEMA) + '.' + QUOTENAME(TABLE_NAME) > @TableName 
                                      AND OBJECTPROPERTY( OBJECT_ID( QUOTENAME(TABLE_SCHEMA) + '.' + QUOTENAME(TABLE_NAME) ), 'IsMSShipped' ) = 0 
                              ) 

         WHILE (@TableName IS NOT NULL) AND (@ColumnName IS NOT NULL) 
         BEGIN 
              SET @ColumnName = ( SELECT MIN(QUOTENAME(COLUMN_NAME)) 
                                  FROM INFORMATION_SCHEMA.COLUMNS 
                                  WHERE TABLE_SCHEMA = PARSENAME(@TableName, 2) 
                                        AND TABLE_NAME = PARSENAME(@TableName, 1) 
                                        AND DATA_TYPE IN ('char', 'varchar', 'nchar', 'nvarchar') 
                                        AND QUOTENAME(COLUMN_NAME) > @ColumnName ) 
               IF @ColumnName IS NOT NULL 
               BEGIN 
                     INSERT INTO #Results 
                     EXEC ( 'SELECT ''' + @TableName + '.' + @ColumnName + ''', LEFT(' + @ColumnName + ', 3630) FROM ' + @TableName + ' (NOLOCK) ' + ' WHERE ' + @ColumnName + ' LIKE ' + @SearchStr2 ) 
               END 
         END 
         END 

         SELECT ColumnName, ColumnValue FROM #Results 

         END

    EXEC SearchAllTables 'Computer'][1]

  [1]: https://koukia.ca/search-for-a-string-in-all-tables-and-all-fields-of-a-database-with-tsql-b6f8a1bfda37 
```

* * *

## 回答 #11

> 赞同：0
> 
> 时间：2022-02-02T05:23:32.870

不要放弃@Brandon 的出色回答，但 OP 要求“*结果应显示表格及其各自的行*”。我根据@Brandon 的原始答案创建了一个记录级解决方案，它还通过简单地将所有适当的列连接到一个字符串中来避免使用其他人在这里使用的 CURSOR。（我觉得这会表现得更好，但老实说我没有比较结果 - 随意这样做并在此处提供反馈。）

注意我使用了 STRING_AGG 函数来连接列。如果您有旧版本的 SQL Server，您可能需要使用可在线找到的替代方法之一。

[![在此处输入图像描述](https://i.stack.imgur.com/F2ic8.png)](https://i.stack.imgur.com/F2ic8.png)

```
CREATE PROC [dbo].[SearchAllTablesByRecord]
(
    @SearchStr NVARCHAR(100)
)
AS
BEGIN            

    SET NOCOUNT ON

    DECLARE @TableName NVARCHAR(256), @SearchStr2 NVARCHAR(110)
    DECLARE @ColumnList NVARCHAR(2048), @ColumnJoin NVARCHAR(2048)
    SET  @TableName = ''
    SET @SearchStr2 = QUOTENAME('%' + @SearchStr + '%','''')

    WHILE @TableName IS NOT NULL
    BEGIN
            SET @TableName = 
            (
                    SELECT MIN(QUOTENAME(TABLE_SCHEMA) + '.' + QUOTENAME(TABLE_NAME))
                    FROM    INFORMATION_SCHEMA.TABLES
                   WHERE           TABLE_TYPE = 'BASE TABLE'
                            AND     QUOTENAME(TABLE_SCHEMA) + '.' + QUOTENAME(TABLE_NAME) > @TableName
                            AND     OBJECTPROPERTY(
                                            OBJECT_ID(
                                                    QUOTENAME(TABLE_SCHEMA) + '.' + QUOTENAME(TABLE_NAME)
                                                     ), 'IsMSShipped'
                                                   ) = 0
            )

            PRINT @TableName    -- For progress monitoring
            SET @ColumnList = 
            (
                SELECT STRING_AGG(QUOTENAME(COLUMN_NAME),',') 
                FROM    INFORMATION_SCHEMA.COLUMNS
                WHERE           TABLE_SCHEMA    = PARSENAME(@TableName, 2)
                        AND     TABLE_NAME      = PARSENAME(@TableName, 1)
                        AND     DATA_TYPE IN ('char', 'varchar', 'nchar', 'nvarchar')
            )
            SET @ColumnJoin = REPLACE(@ColumnList,',','+')

            IF @ColumnList <> '' 
                EXEC
                (
                        'SELECT ''' + @TableName + ''' AS [Table],' + @ColumnList + '
                        INTO #Results
                        FROM ' + @TableName + ' (NOLOCK) ' +
                        ' WHERE ' + @ColumnJoin + ' LIKE ' + @SearchStr2 + '

                        IF @@ROWCOUNT > 0 SELECT * FROM #Results'
                )
    END
END 
```

# javascript - 如何从jsp标签内部访问函数中的变量

> ID：15757265
> 
> 赞同：1
> 
> 时间：2013-04-02T06:07:53.277
> 
> 标签：javascript, eclipse, string, jsp, var

我有以下功能：

```
 <script>
  function assign()
  {
  var val = "";
  val = document.form1.text1.value;
  alert(val); 
  } 
```

我想访问 jsp 标记内的变量 val 的值，以便我可以将它作为字符串传递给 googlePlus 方法。我尝试将 var val 作为全局变量，但它不起作用。如何访问以下代码中的变量 val？

```
<%
String output = "";
if ( Boolean.valueOf(request.getParameter("submitted")) == true ) {
    Scraping h = new Scraping();
    output  = h.googlePlus();
}
%> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-02T06:22:48.003

您可以使用赋值运算符将变量的值分配给某个隐藏的 JSP 字段，然后使用 document.getElementById() 在 JS 中使用它。代码有点像： `<input type="hidden" value="<%=output%>">` 或者，如果您的 js 仅驻留在 JSP 内部 var s = "<%=output%>"; 应该管用！干杯!

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-02T09:05:56.973

您不能通过 JSP Java 代码访问 javascript 变量。

您的 JSP 和 Java 代码是在服务器端编译的。

你的 javascript 在浏览器中运行。

因此，通过表单提交、ajax 或其他方式将“val”变量发送到您的 servlet。

# javascript - 动态文本框的日期选择器

> ID：15757267
> 
> 赞同：0
> 
> 时间：2013-04-02T06:07:56.193
> 
> 标签：javascript

我在我的 javascript 中动态创建了文本框，问题出在动态创建的文本框中我需要使用 datepicker，因为我是 javascript 新手

请帮助谢谢

```
 row_no4=0;
    var index=1;
     function addRow_otherschsp(tbl4,row5){
    var textbox3a = '<input type=\"text\" size = \"10\" maxlength= \"10\" name=\"othrFA3'+tick+'\" id=\"othrFA3'+tick+'\" placeholder=\"dd/mm/yyyy\"  >';          

    var newRow = tbl4.insertRow(row_no4);   
    var newCell = newRow.insertCell(0);
    newCell.innerHTML = label3;
    var newCell = newRow.insertCell(1);
    newCell.innerHTML = "From&nbsp;&nbsp;"+textbox3a+ "To&nbsp;&`enter code here`nbsp;"+ textbox3b;     
    row_no4++;
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2014-02-24T08:19:29.803

```
$(function (){
$('body').on('focus',".mydatepickers", function(){
            $(this).datepicker();
        }); 
}); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-02T06:11:41.910

使用 JQUERY

```
<!doctype html>

<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>jQuery UI Datepicker - Default functionality</title>
  <link rel="stylesheet" href="http://code.jquery.com/ui/1.10.2/themes/smoothness/jquery-ui.css" />
  <script src="http://code.jquery.com/jquery-1.9.1.js"></script>
  <script src="http://code.jquery.com/ui/1.10.2/jquery-ui.js"></script>
  <link rel="stylesheet" href="/resources/demos/style.css" />
  <script>
  $(function() {
    $( "#datepicker" ).datepicker();
  });
  </script>
</head>
<body>

<p>Date: <input type="text" id="datepicker" /></p>

</body>
</html> 
```

[更多细节在这里](http://jqueryui.com/datepicker/ "更多细节在这里")

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-02T06:11:02.693

你可以使用这个 jquery [http://jqueryui.com/datepicker/](http://jqueryui.com/datepicker/)它会很简单

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-02T06:27:00.050

您必须在页面中下载并包含**[jquery datepicker 插件](http://jqueryui.com/datepicker/)**。

然后，在动态生成的文本框中包含一个类，如下所示：

```
 function addRow_otherschsp(tbl4,row5){
    var textbox3a = '<input type=\"text\" size = \"10\" maxlength= \"10\" name=\"othrFA3'+tick+'\" id=\"othrFA3'+tick+'\" placeholder=\"dd/mm/yyyy\"  
class=\"mydatepickers\">';          

  .....} 
```

现在在您的 document.ready() 中添加以下代码：

```
<script>
  $(document).ready(function() {
    $( ".mydatepickers" ).datepicker();
  });
  </script> 
```

* * *

## 回答 #5

> 赞同：-1
> 
> 时间：2013-04-02T06:30:44.923

在使用 datepicker 控件时，您需要添加必要的 jQuery 文件。

[添加jQuery Datepicker 文档](http://jqueryui.com/datepicker/)中提到的 datepicker 的所有依赖项。

之后用 jQuery 的 datepicker 方法结束你的文本框，如下所示：

```
$(function(){
 $('input[name="othrFA3*"]').datepicker();
}); 
```

否则您可以将 id 属性添加到动态生成的输入元素

说 id 为：datepicker

现在你的javascript变成了

```
$(function(){
     $(#datepicker').datepicker();
    }); 
```

# perl - Perl DBI - DB2：0 条记录的 fetchrow 失败

> ID：15757268
> 
> 赞同：2
> 
> 时间：2013-04-02T06:07:56.427
> 
> 标签：perl, select, db2, dbi

我正在将 AIX 脚本迁移到 Linux。在特定脚本中

```
$sql_stmt6 = "SELECT CHAR(DATE(MAX(TIMESTAMP)),USA) FROM SCHEMA.TABLENAME WHERE COL1 = 194 and COL2 ='P'";
$sth6= $dbh1->prepare($sql_stmt6);
$sth6->execute();
while (@rows = $sth6->fetchrow)
{
    $var = $rows[0];
    $var =~ s/\s+$//;
    print "var = $var\n";
}
$sth6->finish(); 
```

当 select 返回一行时，fetchrow 工作正常，但如果 select 给出 0 条记录，则 fetchrow 抛出以下错误：

***错误：第 0 列中的数据已被截断为 10 个字节。./test.pl 第 46 行最多可使用 -1 个字节***

请帮忙...谢谢...

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-02T11:03:11.147

执行此操作的标准方法是使用`fetchrow_array`，[如 DBI 文档中所示](https://metacpan.org/pod/DBI#fetchrow_array)。该文档清楚地解释了没有返回行时的行为应该是什么。

我不确定是什么`fetchrow`。我确实看到它在`DBD::DB2`文档中的示例中使用（我认为这就是您使用它的原因），但我在任何地方都看不到它的文档。我的猜测是这要么是过时的，要么是绕过正确错误处理的内部函数。尝试切换到`fetchrow_array`。

**其他重要考虑因素：**

确保在准备和执行语句时检查错误：

```
$sth6 = $dbh1->prepare($sql_stmt6) or die 'Cannot prepare: ' . $dbh1->errstr;
$sth6->execute() or die 'Cannot execute: ' . $sth6->errstr; 
```

确保

```
use strict;
use warnings; 
```

如果您还没有这样做（看起来很可疑，因为我没有看到任何用 声明的变量`my`）。

这两个步骤都将使捕获错误变得更加容易。

为变量使用更具描述性的名称也会对您有很大帮助。该名称`$sth6`表明您的代码中至少有六个具有相似名称的不同语句。如果您将其命名为有意义的名称，例如`$max_time_sth`.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-02-25T14:29:57.950

我在连接到 AIX 或 Zos 数据库时遇到了同样的问题，您需要尝试连接属性，对我来说，是一些转换为 utf8 的外来字符使列的大小超过了允许的大小，然后fetchrow_array 和 fetchrow_hash 方法抛出错误，以下设置修复了它：

```
LongTruncOk         => 1,
LongReadLen         => 2147483647, 
```

您可能还需要查看 DBD::DB2 特定的连接属性：

[https://metacpan.org/pod/distribution/DBD-DB2/DB2.pod#Connection-Attributes](https://metacpan.org/pod/distribution/DBD-DB2/DB2.pod#Connection-Attributes)

# android - Android 通过 udp 发送 mpegts 流

> ID：15757270
> 
> 赞同：4
> 
> 时间：2013-04-02T06:08:00.617
> 
> 标签：android, eclipse, udp, gstreamer

我想在我的 android 应用程序中`mpegts`接收`udp`。我正在使用`gstreamer`它。现在，我正在尝试通过 udp 从同一台计算机的 vlc 播放器发送 mpegts 流。

在我的 android 应用程序中，我给出了 uri **udp://10.0.2.2:1234**但应用程序给出了错误**Could not get/set settings from/on resource**。我试图从互联网上获得解决方案，但到目前为止还没有运气。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-06-11T05:45:40.290

1）UDP地址范围是224.0.0.0到239.255.255.255，所以不能使用10.xxx

2）处理完地址后，请参考[此](https://code.google.com/p/boxeeremote/wiki/AndroidUDP)链接处理程序部分：

> **获取广播地址**您需要访问 wifi 管理器以获取 DHCP 信息并从中构造广播地址：

```
InetAddress getBroadcastAddress() throws IOException {
    WifiManager wifi = mContext.getSystemService(Context.WIFI_SERVICE);
    DhcpInfo dhcp = wifi.getDhcpInfo();
    // handle null somehow

    int broadcast = (dhcp.ipAddress & dhcp.netmask) | ~dhcp.netmask;
    byte[] quads = new byte[4];
    for (int k = 0; k < 4; k++)
      quads[k] = (byte) ((broadcast >> k * 8) & 0xFF);
    return InetAddress.getByAddress(quads);
} 
```

> **发送和接收 UDP 广播数据包**构建好广播地址后，一切正常。以下代码将通过广播发送字符串数据，然后等待响应：

```
DatagramSocket socket = new DatagramSocket(PORT);
socket.setBroadcast(true);
DatagramPacket packet = new DatagramPacket(data.getBytes(), data.length(),
    getBroadcastAddress(), DISCOVERY_PORT);
socket.send(packet);

byte[] buf = new byte[1024];
DatagramPacket packet = new DatagramPacket(buf, buf.length);
socket.receive(packet); 
```

# doxygen - 将 png-image 添加到 VHDL 文档中

> ID：15757271
> 
> 赞同：0
> 
> 时间：2013-04-02T06:08:02.950
> 
> 标签：doxygen

我想在我的 VHDL 代码的 Doxygen 文档中添加一个 png 图像。我使用以下行：

```
--! @image html FW_blocks.png 
```

但是，在 Doxygen 输出中找不到图像。Doxygen-VHDL甚至可以包含图像吗？如果是，如何做到这一点？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-02T11:47:16.493

**问题中提到**的代码有效。问题是 IMAGE_PATH 中的错误。

# gruntjs - 使用一项任务的输出作为另一项任务的输入

> ID：15757275
> 
> 赞同：8
> 
> 时间：2013-04-02T06:08:25.103
> 
> 标签：gruntjs

我有一个 html 文件，其中包含对 js 文件的引用。我想解析它提取引用的 js 文件列表和提要`contrib-concat`或任何其他任务。是否有任何方便的方法可以将一个 grunt 任务的输出用作另一个任务的输入？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-03T17:58:46.373

使用[grunt.config](http://gruntjs.com/api/grunt.config)。这是一个例子：

```
grunt.initConfig({
  concat: {
    js: {
      src: ['default/concat/files/*'],
      dest: ['dist/javascript.js'],
    },
  },
});
grunt.registerTask('extractjs', function() {
  /* Do the js extraction */
  // Overwrite the concat.js.src with your extracted files.
  grunt.config(['concat', 'js', 'src'], extractedFiles);
}); 
```

所以现在当你运行`grunt extractjs concat`它时，它将提取 js，然后连接提取的 js 文件。查看此任务：[https](https://github.com/cgross/grunt-dom-munger) ://github.com/cgross/grunt-dom-munger ，因为他正在实现类似的目标。这里还有更多示例的 grunt 问题：[https ://github.com/gruntjs/grunt/issues/747](https://github.com/gruntjs/grunt/issues/747)

# ruby-on-rails - 没有迁移表的 Rails STI 模型

> ID：15757276
> 
> 赞同：3
> 
> 时间：2013-04-02T06:08:35.183
> 
> 标签：ruby-on-rails, ruby-on-rails-3, activerecord, model

我有一个模型，比如说`User`，还有一个`Admin`继承自的模型`User`。我在`lib`使用这两个模型的文件夹中有一些代码。但是，如果我安装一个新数据库并尝试运行迁移 rails 崩溃说没有`User`. 是否有绕过此错误的最佳实践？

```
`Mysql2::Error: Table 'testing_interface_development.users' doesn't exist: SHOW FULL FIELDS FROM `users`
/home/arthurborisow/Programming/my_project/test_interface/lib/active_record/timed_out_queries_hotfix.rb:9:in `query'
/home/arthurborisow/Programming/my_project/test_interface/lib/active_record/timed_out_queries_hotfix.rb:9:in `query_with_reconnect'
/home/arthurborisow/Programming/my_project/test_interface/lib/active_record/timed_out_queries_hotfix.rb:31:in `block in execute'
/home/arthurborisow/.rvm/gems/ruby-1.9.3-p362-railsexpress@test_interface_install/gems/activerecord-3.2.11/lib/active_record/connection_adapters/abstract_adapter.rb:280:in `block in log'
/home/arthurborisow/.rvm/gems/ruby-1.9.3-p362-railsexpress@test_interface_install/gems/activesupport-3.2.11/lib/active_support/notifications/instrumenter.rb:20:in `instrument'
/home/arthurborisow/.rvm/gems/ruby-1.9.3-p362-railsexpress@test_interface_install/gems/activerecord-3.2.11/lib/active_record/connection_adapters/abstract_adapter.rb:275:in `log'
/home/arthurborisow/Programming/my_project/test_interface/lib/active_record/timed_out_queries_hotfix.rb:31:in `execute'
/home/arthurborisow/.rvm/gems/ruby-1.9.3-p362-railsexpress@test_interface_install/gems/activerecord-3.2.11/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:259:in `execute_and_free'
/home/arthurborisow/.rvm/gems/ruby-1.9.3-p362-railsexpress@test_interface_install/gems/activerecord-3.2.11/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:426:in `columns'
/home/arthurborisow/.rvm/gems/ruby-1.9.3-p362-railsexpress@test_interface_install/gems/activerecord-3.2.11/lib/active_record/connection_adapters/schema_cache.rb:12:in `block in initialize'
/home/arthurborisow/.rvm/gems/ruby-1.9.3-p362-railsexpress@test_interface_install/gems/activerecord-3.2.11/lib/active_record/model_schema.rb:228:in `yield'
/home/arthurborisow/.rvm/gems/ruby-1.9.3-p362-railsexpress@test_interface_install/gems/activerecord-3.2.11/lib/active_record/model_schema.rb:228:in `columns'
/home/arthurborisow/.rvm/gems/ruby-1.9.3-p362-railsexpress@test_interface_install/gems/activerecord-3.2.11/lib/active_record/model_schema.rb:237:in `columns_hash'
/home/arthurborisow/.rvm/gems/ruby-1.9.3-p362-railsexpress@test_interface_install/gems/activerecord-3.2.11/lib/active_record/inheritance.rb:19:in `descends_from_active_record?'
/home/arthurborisow/.rvm/gems/ruby-1.9.3-p362-railsexpress@test_interface_install/gems/activerecord-3.2.11/lib/active_record/inheritance.rb:25:in `finder_needs_type_condition?'
/home/arthurborisow/.rvm/gems/ruby-1.9.3-p362-railsexpress@test_interface_install/gems/activerecord-3.2.11/lib/active_record/base.rb:455:in `relation'
/home/arthurborisow/.rvm/gems/ruby-1.9.3-p362-railsexpress@test_interface_install/gems/activerecord-3.2.11/lib/active_record/scoping/named.rb:37:in `scoped'
/home/arthurborisow/.rvm/gems/ruby-1.9.3-p362-railsexpress@test_interface_install/gems/activerecord-3.2.11/lib/active_record/querying.rb:9:in `where'
/home/arthurborisow/Programming/my_project/test_interface/app/models/admin.rb:15:in `<class:Admin>'
/home/arthurborisow/Programming/my_project/test_interface/app/models/admin.rb:1:in `<top (required)>'` 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-02T06:11:01.503

When setting up a completely fresh database (instead of upgrading your existing one), it is better to use `rake db:setup` to load the `schema.rb` file instead of running each migration in succession. This question explains the various **db** Rake tasks pretty well:

> [Difference between rake db:migrate db:reset and db:schema:load](https://stackoverflow.com/questions/10301794/difference-between-rake-dbmigrate-dbreset-and-dbschemaload)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-03T18:03:23.053

```
 rake db:setup 
```

也是最好的选择，

您还可以使用以下命令指定要迁移的迁移版本：

```
rake db:migrate:up VERSION=20080906120000 
```

# algorithm - 无法弄清楚这个图形表示（需要算法！）

> ID：15757293
> 
> 赞同：5
> 
> 时间：2013-04-02T06:09:48.297
> 
> 标签：algorithm, graph

在没有任何适当解决方案的情况下，我一直在努力从这个图表演示中理解。也许有人能想出办法。

我有一个连接的、无循环图的演示文稿，其形式如下：

*   逐一移除度数为1（只有一条边）的顶点
*   如果有多个选项，将删除具有最低值的顶点
*   当顶点被移除时，它旁边的顶点会被我标记
*   这将一直持续到图形只剩下一个顶点

下面是一个示例图：

```
 2   3
     \ /
  5   1
   \ /
    4 
```

这就是演示文稿的形式：

```
 2   3            3
     \ /            /
  5   1    =>  5   1    =>  5   1  =>  5    =>  5
   \ /          \ /          \ /        \
    4            4            4          4

1\. Remove vertex two and mark one.

2\. Remove vertex three and mark one.

3\. Remove vertex one and mark four.

4\. Remove vertex four and mark five. 
```

因此，此图表的演示文稿将是：

```
1 1 4 5 
```

**问题是，我怎样才能把这个表示变成邻接矩阵或邻接表？Fe 与 1 1 4 5，邻接表如下所示：**

```
1: 2 3 4
2: 1
3: 1
4: 1 5
5: 4 
```

谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-02T13:34:00.223

可以使用以下技术将“演示文稿”（在您的示例中为 1 1 4 5）转换回图表（根据您上面的评论，我认为您正在努力解决这个问题）。然后，您可以轻松地生成邻接矩阵/列表。

该技术依赖于**关键假设**，即图中的节点被标记为 1 - N（图中有 N 个节点）。如果不是这种情况，则根本不可能重建原始图，因为您永远无法确定第一个删除节点的身份。

1.  请注意，演示文稿中有 4 个项目。因此，图中有 5 个节点。
2.  **从演示文稿的结尾向后工作**。
3.  当最后一个节点被删除时，剩下的节点是5。因此，图表看起来像......

    `5 - ?`

4.  删除前一项时，标记为 4。因此，原来的问号实际上一定是节点 4，我们有一个新的未知节点。

    `5 - 4 - ?`

5.  删除前一项时，标记为 1。因此，? 必须是 1 并且有一个新的未知节点。

    `5 - 4 - 1 - ?A`

6.  最后，当上一项被删除时，标记为 1。我们已经有一个节点 1，所以我们必须附加到它。

    ```
     5 - 4 - 1 +- ?A
               |
               += ?B 
    ```

7.  我们已经完成了对输入的解析。现在我们只需要标记未完成的 ?s。我们知道值是 2 和 3，因为上述假设节点标记为 1 - N 并且我们已经有 1、2 和 5。因为首先删除最低值节点（将图表转换为表示形式时），它们在将演示文稿转换为图表时最后添加。所以 ?A = 3 和 ?B = 2。（在这种情况下它无关紧要，但在一般情况下它确实如此。）最后的图表如下所示。

    ```
     5 - 4 - 1 +- 3
               |
               += 2 
    ```

    ...这很好，因为这与我们开始的地方相同。

由此您可以遍历节点并生成邻接矩阵。或者，so 可以在您进行时生成邻接列表/矩阵（这可能更有效，但会稍微混淆实现）。

[正如大卫在上面指出的那样，这与Prüfer 序列](http://en.wikipedia.org/wiki/Pr%C3%BCfer_sequence)非常相似（但不完全相同），当剩下 2 个节点（而不仅仅是 1 个）时停止。链接的文章提供了一种有效的伪代码算法，可以通过跳过最后一步（将最后两个节点链接在一起）来适应。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-02T13:43:16.327

这是python中的幼稚实现：

```
from collections import defaultdict

prufer_sequence = [1, 1, 4, 5]
all_vertices = range(1, len(prufer_sequence) + 2)

adjacency = defaultdict(list)
for vertex in prufer_sequence:
    searched_vertex = filter(lambda v: v != vertex, all_vertices)[0]
    all_vertices.remove(searched_vertex)
    adjacency[vertex].append(searched_vertex)
    adjacency[searched_vertex].append(vertex)

print adjacency 
```

并输出：

```
defaultdict(<type 'list'>, {1: [2, 3, 4], 2: [1], 3: [1], 4: [1, 5], 5: [4]}) 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-02T18:12:11.627

啊! 由于原始问题中的信息不足（尤其是 info: tree 将有`1 to n+1`节点，`n`输入数组的长度在哪里），我试图以更难的方式解决它！无论如何，这是我的 Prufer-tree 生成实现，也许它会有所帮助:-？：

```
#include <stdio.h>
#include <vector>
#include <memory.h>
using namespace std;

struct Node {
    int N;
    vector<int>list;
    Node() {
        N=-1;
        list.clear();
    }
};

vector<Node> convertPruferToTree(vector<int>& input) {
    int n = input.size()+1;
    vector<Node> T;
    int *degree = new int[n+1];
    for (int i=1; i<=n; i++) {
        Node tmp;
        tmp.N = i;
        T.push_back(tmp);
        degree[i]=1;
    }
    //printf("n: %d\n", n);
    for (int i=0; i<input.size()-1; i++) {
        degree[input[i]]++;
    }

    for (int i=0; i<input.size()-1; i++) {
        for (int j=1; j<=n; j++) {
            if (degree[j]==1) {
                T[j-1].list.push_back(input[i]);
                T[input[i]-1].list.push_back(j);
                degree[input[i]]--;
                degree[j]--;
                break;
            }
        }
    }
    int u=0, v=0;

    for (int i=1; i<=n; i++) {
        if (degree[i]==1) {
            if (u==0) u=i;
            else {
                 v = i;
                break;
            }
        }
    }
    //printf("u: %d v: %d\n", u, v);
    T[u-1].list.push_back(v);
    T[v-1].list.push_back(u);
    delete []degree;
    return T;
}

int main () {
    vector <int> input;
    int n,v;
    scanf("%d", &n);
    while(n--) {
        scanf("%d", &v);
        input.push_back(v);
    }
    vector<Node> adjList = convertPruferToTree(input);
    Node tmp;
    for (int i=0; i<adjList.size(); i++) {
        tmp = adjList[i];
        printf("%2d: ", tmp.N);
        for (int j=0; j<tmp.list.size(); j++) {
            printf("%2d ", tmp.list[j]);
        }
        printf("\n");
    }
    return 0;
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-02T17:42:38.280

我想出了这个算法。这很像[http://en.wikipedia.org/wiki/Pr%C3%BCfer_sequence](http://en.wikipedia.org/wiki/Pr%C3%BCfer_sequence)，但就像 Andrew 说的那样，我把最后一部分去掉了。hashmap 用于邻接列表，arraylist k 用于表示。

```
public static HashMap<Integer, HashSet<Integer>> toGraph(ArrayList<Integer> k) {
        HashMap<Integer, HashSet<Integer>> hm = new HashMap<Integer, HashSet<Integer>>();
        for(int i=1; i<=k.size()+1; i++){
            hm.put(i, new HashSet<Integer>());
        }
        int degree[] = new int[k.size()+1];
        for(int i=0; i<degree.length; i++){
            degree[i]=1;
        }
        for(int a : k){
            degree[a-1]++;
        }
        for(int n : k){
            for(int j : hm.keySet()){
                if(degree[j-1]==1){
                    hm.get(j).add(n);
                    hm.get(n).add(j);
                    degree[n-1]--;
                    degree[j-1]--;
                    break;
                }
            }
        }
        return hm;
    } 
```

在某些情况下，一个顶点在返回的邻接列表中被放错了位置。Fe 在 16, 1, 19, 9, 19, 18, 17, 10, 13, 13, 4, 19, 5, 19, 18, 4, 19, 19 顶点 3 应该有边到 17, 19, 13 但在我的它有 16、19、13 的边缘。有人能发现缺陷吗？

# c++ - Vim：字符串间换行

> ID：15757298
> 
> 赞同：2
> 
> 时间：2013-04-02T06:10:10.157
> 
> 标签：c++, c, vim, line-breaks

考虑下面显示的三行。

```
 std::ostringstream ss;
    cc::write(ss, "Error parsing first magic byte of header: expected 'P', but got '{0}'.", c);
    return io_error{ss.str()}; 
```

第二行自动中断，因为它超出了文本宽度 ( `&tw`)，但由于以下两个原因，它无法令人满意：

1.  当在字符串上换行时，该过程比平时要复杂一些。Vim 需要在断行的末尾关闭字符串文字，并在新创建的行的开头添加一个字符串文字。但是在单词中间换行会很尴尬，所以 Vim 需要备份直到找到单词边界的结尾，这样`"`在它之后添加一个字符就不会超过文本宽度。如果找不到这样的单词边界，则整个字符串需要从下一行开始。
2.  当在字符串中间换行时，我不希望在前一行的开头插入任何缩进。

是否有任何 Vim 的本机功能或插件可用于获取行为 (1) 和 (2)，还是我必须编写自己的插件？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-02T06:44:12.120

要同时使用 auto-format 和 来获得这种特殊的换行行为`gq`，您必须编写一个`'formatexpr'`考虑到这一点的自定义。

我不知道任何现有的插件，但也许你会找到一些东西让你开始使用[vim.org](http://www.vim.org/)。

# c# - XtraScheduler 双击

> ID：15757301
> 
> 赞同：3
> 
> 时间：2013-04-02T06:10:31.097
> 
> 标签：c#, .net, devexpress

我正在使用 DevExpress xtraScheduler 10.2

如何处理 xtraScheduler 中的双击事件（仅在约会而不是单元格上）？

我不想显示任何约会编辑表格！

我需要 xtraGrid 中的 Hittest 之类的东西。

如果我双击约会，是否可以获得数据源对象？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-02T06:25:50.270

我找到了一个方法。我认为没关系：

```
private void Scheduler_DoubleClick(object sender, EventArgs e)
    {
        if ((Scheduler.SelectedAppointments != null) &&
            (Scheduler.SelectedAppointments.Count > 0))
        {
            MessageBox.Show("Hallo");
        }
    } 
```

有了这个，你可以得到数据源的对象：

```
 (myObject)Scheduler.SelectedAppointments[index].GetSourceObject(SchedulerStorage); 
```

# azure - Cannot display Home page in MVC 4 Application having ACS Configured for authentication?

> ID：15757304
> 
> 赞同：3
> 
> 时间：2013-04-02T06:10:39.113
> 
> 标签：azure, acs

I have developed MVC4 application, in which i have home page. On home page, i have embedded ACS Login page for Authentication. When i run the web role, it directly loads the default ACS login page and not application home page. I have designed home page on Index.cshtml under Home controller. I Have added Realm as `http://127.0.0.1:81/Home/`

If you have come across similar situation, please help.

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-02T07:18:53.973

很抱歉，我必须使用参考链接，但答案不仅仅是“简单地这样做”，还需要对安全协议有更深入的了解。

以此为起点：[使用 Azure ACS 为联合身份验证创建自定义登录页面](https://www.simple-talk.com/cloud/development/creating-a-custom-login-page-for-federated-authentication-with-windows-azure-acs/)以了解基本知识。

然后您可以查看[MSDN 上的 ACS 代码示例](http://code.msdn.microsoft.com/windowsazure/Windows-Azure-AD-Access-0dcde385)。它们包含一个非常适合您的[MVC3CustomSignInPage](http://code.msdn.microsoft.com/windowsazure/Windows-Azure-AD-Access-0dcde385/sourcecode?fileId=71587&pathId=676687348)示例应用程序。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-02T09:24:33.603

您的主页控制器带有 [Authorize] 属性标记，或者 web.config 有类似的部分

```
<authorization>
  <deny users="?" />
</authorization> 
```

删除属性和/或将 web.config 部分更改为

```
<authorization>
  <allow users="*" />
</authorization> 
```

# c++ - C++ concurrency, synchronization design to avoid multiple execution issue

> ID：15757314
> 
> 赞同：0
> 
> 时间：2013-04-02T06:11:20.600
> 
> 标签：c++, multithreading, winapi, concurrency

My code calls a function from 3rd party library. Let's call this function `SomeFunc`

```
void SomeFunc(void (*callBack) (int)); 
```

As you can see SomeFunc takes a callback function parameter. Once SomeFunc is called, the calling thread will progress, and the library will execute the callback several time on a different thread -- passing it different status code.

My requirement is the thread that calls SomeFunc (aka main thread) should wait until certain status code is passed to the callback. So far I have something like this

```
CEvent *pEvt = NULL;

void myCallBack(int code) {
  if(code == SOME_MAGIC_NUM) pEvt->SetEvent(); // signal thread waiting for this event obj they can continue
}

int main (int argc, char** argv) {
  pEvt = new CEvent(FALSE, TRUE);
  SomeFunc(myCallBack); // This doesn't block, main thread will progress to next line
  WaitForSingleObject(pEvt, 5000); // wait here until 3rd party library call myCallBack with code SOME_MAGIC_NUM -- or if it doesn't after 5 seconds, continue

  // do interesting stuff here..

  return EXIT_SUCCESS;
} 
```

Now this seem fine if I only do this on the main thread / main function like above. However if multiple thread can execute the code block in main above, my problem is they will share reference to the global `pEvt` variable, and it will mess up

What's the best code design approach I should take here? Ideally I would like to change the callback function signature to accept reference to the CEvent object, but since it's a 3rd party library I'm unable to do that.

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-02T06:42:46.577

你真的想要javascript中的闭包。您可以通过每次将函数调用绑定到新的 CEvent 对象来完成类似的操作。看看[std::bind1st](http://www.cplusplus.com/reference/functional/bind1st/)或[boost::bind](http://www.boost.org/doc/libs/1_53_0/libs/bind/bind.html#with_functions)。

另请参阅此[stackoverflow 线程](https://stackoverflow.com/questions/3194119/function-pointers-working-as-closures-in-c)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-02T06:51:24.503

您只能实现这一点，因为第 3 方提供了一种将“自定义”参数传回回调的方法。精心设计的 API 允许设置回调*和*void* 值，并且回调在调用时接收此参数。从这个 void* 你可以通过不安全的转换扩展到任何你喜欢的东西，包括对象和方法调用。所有基于绑定或成员函数地址或其他任何解决方案最终归结为同一个问题：必须以某种方式将`this*`其传递回回调。

例如，请参阅[`BIO_set_callback`](http://www.openssl.org/docs/crypto/BIO_set_callback.html)：它允许您设置回调*和*回调任意参数。请注意，callabck 参数可以是*间接*的，例如在 gnutls 中：可以将参数设置为会话中的任意数据`gnutls_session_set_ptr`，然后在回调中使用`gnutls_session_get_ptr`. 您的第 3 方可能会提供这种间接方法。

如果图书馆不提供这样的功能，那么你就会陷入困境。例如，您可以拥有一组“可用”回调，每个回调都与特定事件相关联（即*不同的*函数作为地址，尽管代码相同）。您选择一个回调并将其从集合中移除并放置，然后等待与*该*回调关联的事件。完成后，将回调放回可用列表中。“可用”列表的大小在编译时是硬编码的，因为您确实需要单独的函数，每个回调一个函数。

# windows-phone-7 - Chart in Window phone 7

> ID：15757315
> 
> 赞同：0
> 
> 时间：2013-04-02T06:11:28.070
> 
> 标签：windows-phone-7

Hello,

I have used chart control in my application. I have bound Date as IndependentValueBinding (X Axis). All code is working fine but date is display horizontal So if I have many value I dont find the perfect value related to date as there are many date in X axis. So How can I display Date as Vertical on X axis.

```
 <chart:BarSeries
                    IndependentValueBinding="{Binding Date}"
                    DependentValueBinding="{Binding Price}"/>
               <chart:Chart.LegendStyle>
                <Style TargetType="datavisual:Legend">
                    <Setter Property="Width" Value="0"/>
                    <Setter Property="Height" Value="0"/>

                </Style>
            </chart:Chart.LegendStyle>
        </chart:Chart> 
```

Thanks, Hitesh

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-02T06:23:18.837

您需要为 AxisLabelStyle 设置样式，我认为 WP 版本的图表应该与 Silverlight 相同： [如何：轻松旋转 Silverlight/WPF 工具包图表的轴标签](http://blogs.msdn.com/b/delay/archive/2010/03/06/turn-your-head-and-check-out-this-post-how-to-easily-rotate-the-axis-labels-of-a-silverlight-wpf-toolkit-chart.aspx)

# ios - fetching only Character of email from address book

> ID：15757317
> 
> 赞同：0
> 
> 时间：2013-04-02T06:11:33.163
> 
> 标签：ios, addressbook

i have used following code for getting for getting information from address book

```
ABRecordRef ref = CFArrayGetValueAtIndex(allPeopleName, i );
        NSString* personName = (__bridge_transfer NSString*) ABRecordCopyValue(ref, kABPersonFirstNameProperty);
        NSDate* Date = (__bridge_transfer NSDate*) ABRecordCopyValue(ref, kABPersonBirthdayProperty);
         **NSString* personEmail = (__bridge_transfer NSString*) ABRecordCopyValue(ref, kABPersonEmailProperty);**
          NSString *birthdayDate = [dateFormat stringFromDate:Date]; 
        **NSLog(@"personEmail%@",personEmail);** 
```

// this is what personaEmail prints

personEmailABMultiValueRef 0x8a64740 with 2 value(s) 0: *$!!$* (0x8a2bea0) - miou@yahoo.in (0x8a41df0) 1: *$!!$* (0x8a423c0) - minadi@yahoo.com (0x8a64720)

```
 ABMultiValueRef phones = (ABMultiValueRef)ABRecordCopyValue(ref, kABPersonPhoneProperty);
        NSString* mobile=@"";
        NSString* mobileLabel;
        for (int i=0; i < ABMultiValueGetCount(phones); i++) {
            //NSString *phone = (NSString *)ABMultiValueCopyValueAtIndex(phones, i);
            //NSLog(@"%@", phone);
            mobileLabel = (NSString*)ABMultiValueCopyLabelAtIndex(phones, i);
            if([mobileLabel isEqualToString:(NSString *)kABPersonPhoneMobileLabel]) {
                NSLog(@"mobile:");
            } else if ([mobileLabel isEqualToString:(NSString*)kABPersonPhoneIPhoneLabel]) {
                NSLog(@"iphone:");
            } else if ([mobileLabel isEqualToString:(NSString*)kABPersonPhonePagerLabel]) {
                NSLog(@"pager:");
            }
            [mobile release];
            mobile = (NSString*)ABMultiValueCopyValueAtIndex(phones, i);
            NSLog(@"%@", mobile);
            NSCharacterSet* charactersToRemove = [[NSCharacterSet decimalDigitCharacterSet] invertedSet] ;
            mobile = [[mobile componentsSeparatedByCharactersInSet:charactersToRemove] componentsJoinedByString:@""] ;

    } 
```

now my question are

```
 how can i get only email from that all other stuff
  i always want only one email id not two how can i get only home email id? doesnt matter how many email ids are there in address book 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-02T06:41:54.233

```
 This will print all the email id. You can take the necessary one.

  NSString *email;
  CFStringRef value, label;
   ABMutableMultiValueRef multi = ABRecordCopyValue(person, kABPersonEmailProperty);
    CFIndex count = ABMultiValueGetCount(multi);
  if (count == 1)
  {
    value = ABMultiValueCopyValueAtIndex(multi, 0);
    email = (__bridge NSString*) value;
    NSLog(@"EmailID   %@",email);
    CFRelease(value);
}
else
{
    for (CFIndex i = 0; i < count; i++)
    {
        label = ABMultiValueCopyLabelAtIndex(multi, i);
        value = ABMultiValueCopyValueAtIndex(multi, i);

        // check for Work e-mail label
        if (CFStringCompare(label, kABWorkLabel, 0) == 0)
        {
            email = (__bridge NSString*) value;
            NSLog(@"EmailID   %@",email);
        }

        // check for Home e-mail label
        else if(CFStringCompare(label, kABHomeLabel, 0) == 0)
        {
            email = (__bridge NSString*) value;
            NSLog(@"EmailID   %@",email);
        }

        CFRelease(label);
        CFRelease(value);
      }
  }
   CFRelease(multi); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-02T06:25:35.730

`personEmail`（或者，更准确地说，`ABRecordCopyValue(ref, kABPersonEmailProperty)`）的返回值不是`NSString`. 查看日志消息 - 它是一个`ABMultiValueRef`.

您将需要使用[本文档](http://developer.apple.com/library/ios/#documentation/AddressBook/Reference/ABMultiValueRef_iPhoneOS/Reference/reference.html)中描述的方法来访问各个组件。

# android - 如何滚动gridview到位置？

> ID：15757325
> 
> 赞同：7
> 
> 时间：2013-04-02T06:12:01.383
> 
> 标签：android

我在网格视图上有 30 张图像（每行 3 张图像）。如果用户选择第 20 张图像并转到下一个屏幕并返回，那么我想聚焦到那个位置。我使用以下行进行编码，它适用于前 8 行，但在最后 2 行它不滚动。请帮忙。

```
gridview.setSelection(position);
gridview.requestFocusFromTouch();
gridview.setSelection(position); 
```

谢谢

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2013-04-02T06:28:17.397

原因是您的视图将在您的适配器中重用。

```
public class ImageAdapter extends BaseAdapter {
    private Context context;
    private final String[] someprivatevariable;

    public ImageAdapter(Context context, String[] mobileValues) {
        // Your boring constructor
    }

    public View getView(int position, View convertView, ViewGroup parent) {

        LayoutInflater inflater = (LayoutInflater) context
            .getSystemService(Context.LAYOUT_INFLATER_SERVICE);

        View gridView;

            // REUSE VIEW IF NOT NULL CODE
        if (convertView == null) {
                  .....
                  .....
                  you generally create your view here
        } else {
            gridView = (View) convertView;
        }

        return gridView;
    }
} 
```

如果您的视图被迫不重用，那么您可以通过保存此值来滚动定位

```
int index = gridview.getFirstVisiblePosition(); 
```

并通过以下方式恢复价值

```
gridview.smoothScrollToPosition(int index) 
```

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2013-04-02T06:27:11.373

你可以试试这样的东西。我希望这对你有用。

When selection happens do this save position

```
int index = gridview.getFirstVisiblePosition(); 
```

当你回到gridview然后你可以试试这个

```
gridview.smoothScrollToPosition(int index) 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2015-03-18T02:42:32.227

对我有用的解决方案是结合 Monali 和 Sreedev 的代码（谢谢 Monali 和 Sreedev）：

```
private int gridviewVerticalPositionWhenThumbnailTapped; 
```

...

```
// save vertical position of gridview screen, will use to re-find this location if user follows a usre and gridview gets redrawn
gridviewVerticalPositionWhenThumbnailTapped = gridview.getFirstVisiblePosition(); 
```

稍后在应用程序中...

```
// scroll gridview to vertical position pre user tap follow                
gridview.setSelection(gridviewVerticalPositionWhenThumbnailTapped); 
```

# ios - papervision 3d 在 iOS 上播放速度慢得离谱

> ID：15757326
> 
> 赞同：1
> 
> 时间：2013-04-02T06:12:11.163
> 
> 标签：ios, performance, flash, air, papervision3d

我的游戏在 ios 3.5 gpu 模式下使用 air，当使用 papervision 制作 24x24 分段 Sphere 时，游戏的 FPS 在 iPad 等移动设备上显着下降。如果我要保持游戏的高 FPS，我什至无法显示一个粗糙的球体。

这是正常的还是我做错了什么或者papervision不适合iOS的Air？还有任何可以在 gpu 渲染模式下运行的快速渲染 3d 库吗？此时开发已经走得太远，无法将其切换回直接渲染模式

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-02T09:24:12.240

Papervision 不是一个活跃的 3d 库，对于 60fps 渲染，您必须使用 3D 硬件加速闪存框架，例如其中之一：

Away3d 演示：[http ://away3d.com/showcase/](http://away3d.com/showcase/)

Flare3d 演示：[http ://www.flare3d.com/showcase/](http://www.flare3d.com/showcase/)

编辑 ~~Minko 演示：aerys.in/portfolio/mercedes-e500~~

~~Alternativa3D 演示：alternativaplatform.github.com/Alternativa3D/Demos/ParticlesDemo/~~

是的，它们都可以在 ipad 上运行 :)

# javascript - Getting around X-Frame-Options DENY in a Chrome extension?

> ID：15757327
> 
> 赞同：6
> 
> 时间：2013-04-02T06:12:12.337
> 
> 标签：javascript, iframe, google-chrome-extension, x-frame-options

I'm writing a chrome extension that like [intab](http://iansilber.com/intab/) loads links in an inline iframe, it works great except for sites that set the X-Frame-Options header to DENY or SAMEORIGIN.

In this [Question](https://stackoverflow.com/q/15532791/593425) a working solution provided for the case where the HTTP header contains X-Frame-Options property. But, X-Frame-Options can also be set in a element in the HTML .

Is there a way to remove this element before it's being loaded by chrome?

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-28T16:15:36.287

# `<meta name="X-frame-options"/>`

没有这样的事情`<meta name="X-Frame-Options">`。
而且，在 chrome 加载之前操作 DOM 也是不可能的。
Chrome 加载一个页面，然后创建 dom。

# 但那是什么`x-frame-options`？

X-frame-options 是服务器端设置的 http 标头。
它们是安全保护的一部分（例如针对点击劫持）。Chrome 或任何其他浏览器不会让您忽略/更改它。时期。
*旁注：如果是您的网站，您可以更改每个 PHP 的 x-frame-options。*
*旁注#2：唯一的方法是[XSS](https://en.wikipedia.org/wiki/Cross-site_scripting)。我很确定你不想那样做。*

# javascript - Save and Load the state of Data tables (i.e ColReorder, ColVis plug-ins) to/from database

> ID：15757333
> 
> 赞同：0
> 
> 时间：2013-04-02T06:12:28.977
> 
> 标签：javascript, jquery, json, datatables

Is possible to save and load the states of Data tables (i.e ColReorder, ColVis plug-ins) to/from database? I had tried with these, but i am not getting still. Below is my code to load the states from db. I am getting the response as json object while loading the page. But its not taking changes as specified states from my db.

```
var oTable = $('#myTable').dataTable({
    "sPaginationType": "full_numbers",
    "bProcessing": true,
    "bStateSave": true,
    "fnStateLoad": function (oSettings, oData) {
        var o;
        $.ajax({
            "url": "getStatus.do",
            "async": false,
            "dataType": "json",
            "success": function (json) {
                o = json;
            }
        });
        return o;
    },
}); 
```

Please help me out if any one has implemented the same. Thanks in advance.

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-02T07:45:01.613

尝试将 Data Manager (CRUD) 附加插件与 Datatable 一起使用。[这](http://jquery-datatables-editable.googlecode.com/svn/trunk/inline-edit.html) 是它的链接。

# sql-server - Prompt few days before SQL User's password expiration using VBScript

> ID：15757335
> 
> 赞同：1
> 
> 时间：2013-04-02T06:12:35.150
> 
> 标签：sql-server, sql-server-2008, vbscript, passwords

I am trying to create VBScript which will prompt me few days before my SQL user password expiration via email in SQL Server 2008.

I am able for the windows user but have no idea from where I can start for SQL user.

Please give your valuable suggestion.

# class - WSO2 类调解器给出错误

> ID：15757336
> 
> 赞同：0
> 
> 时间：2013-04-02T06:12:37.963
> 
> 标签：class, wso2, wso2esb, mediator

我们的团队对 WSO2 工具完全陌生。我们接受了有关如何添加代理服务的基本培训，并且也能够这样做。

现在，我们必须在 In Sequence 中添加一个类。我们尝试使用 Class 调解器，但它无法找到该类。然后我们意识到jar文件需要在`components/lib`文件夹中。因此，它现在能够加载该类。它正确地进行到输出序列和故障序列。但是，最后，它给出了以下例外。

```
Unable to add proxy service :: Failed to add proxy service: Parse. Check whether the Proxy already exists-Failed to add proxy service: Parse. Check whether the Proxy already exists 
```

到目前为止，我们正在使用设计视图对其进行配置。我调查了这个论坛的大部分帖子，都是使用源代码配置的。此外，服务总线下的源视图部分中不存在代理服务。

**我们是否缺少配置中的任何步骤？**我们是否需要切换到编码方法或者这种方式是可能的。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-02T07:03:13.820

似乎已经有一个具有您提供的名称的代理。转到 WSO2 ESB“源视图”并检查是否存在具有该名称的代理。源视图位于管理控制台的左侧。

[本文](http://wso2.org/library/2898)将带您逐步编写自定义类调解器。 [这篇文章](https://stackoverflow.com/questions/15152883/wso2-esb-add-class-mediator-to-proxy-service)也可能与您相关。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-02T10:10:03.030

你的解释很奇怪。部署代理服务时可能会出现上述错误日志。但是你说你的代理要去外序列和故障序列。据我了解，代理已经部署。

您可以通过查看 ESB_HOME/repository/deployment/server/synapse-config/default/proxy-service 文件夹来检查是否存在同名代理。如果有一个名为 Parse.xml 的文件（我认为代理服务的名称是 Parse），您可以将其从文件系统中删除，然后转到设计视图并再次添加代理。

# php - How can i get WOEID by Latitude and longitude?

> ID：15757337
> 
> 赞同：3
> 
> 时间：2013-04-02T06:12:46.667
> 
> 标签：php, geocoding, yahoo

In my application, i have only the Latitude and longitude of the current position. How can i get WOEID by Latitude and longitude ?

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-04-05T14:55:55.787

YQL 查询将让您根据经纬度检索 WOEID 信息；例如：

[http://query.yahooapis.com/v1/public/yql?q=select%20](http://query.yahooapis.com/v1/public/yql?q=select%20) *%20from%20geo.placefinder%20where%20text%3D"37.416275%2C-122.025092"%20and%20gflags%3D"R"

有关他们的文档，请参阅[http://developer.yahoo.com/boss/geo/docs/free_YQL.html](http://developer.yahoo.com/boss/geo/docs/free_YQL.html)。

# javascript - How to select specific text between HTML tags with RegExp?

> ID：15757338
> 
> 赞同：-2
> 
> 时间：2013-04-02T06:12:47.167
> 
> 标签：javascript, html, regex, conditional-statements

I am building an application which needs to select specific text between html, here is an example:

String: `<p><a href="test0">test1 test2</a>test3</p>`

RegExp: `(Select text between HTML)(test.)`

What I want to select is "test1","test2" and "test3" but not "test0"

Is there any solution??Thanks for any helps

Note: I am using JavaScript for RegExp operation.

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-02T06:35:34.563

您可以利用浏览器为您解析 HTML 的能力：

```
var html = '<p><a href="test0">test1 test2</a>test3</p>',
fragment = document.createDocumentFragment(),
div = fragment.appendChild(document.createElement('div'));

div.innerHTML = html;

console.log(div.textContent || div.innerText || ''); 
```

输出：

```
test1 test2test3 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-02T06:21:21.500

我不会将正则表达式用于此类任务，如果您只需要`<p>`标签文本，我会使用 jQuery：

```
<!DOCTYPE html>
<html>
<head>
<script src="http://code.jquery.com/jquery-1.9.1.min.js"></script>
<meta charset=utf-8 />
<title>JS Bin</title>
</head>
<body>
  <p><a href="test0">test1 test2</a>test3</p>
  <script>
  $(function(){
    text = $('p').text();
    alert(text);
  });
  </script>
</body>
</html> 
```

这返回`test1 test2test3`

工作示例：http: [//jsbin.com/uhadoz/1/](http://jsbin.com/uhadoz/1/)

如果您想要更通用的解决方案，您仍然可以使用 jquery，只需更改选择器：例如，要获取 all 的文本`divs`，请使用`$('div').text()`

但是如果你有严重的解析需求，你最好使用 HTML 解析器，google for JavaScript HTML 解析器，例如这个：[http ://ejohn.org/blog/pure-javascript-html-parser/](http://ejohn.org/blog/pure-javascript-html-parser/)

阅读这个关于使用正则表达式解析 HTML 的 SO 问题：[RegEx match open tags except XHTML self-contained tags](https://stackoverflow.com/questions/1732348/regex-match-open-tags-except-xhtml-self-contained-tags/1732454#1732454)

# primefaces - 我怎样才能获得日期验证？

> ID：15757339
> 
> 赞同：0
> 
> 时间：2013-04-02T06:12:47.870
> 
> 标签：primefaces

我想要两个输入日期字段 startDate 和 endDate

并且 endDate 必须在 startDate 之后，否则会返回错误信息

每当我尝试输入 endDate 时，我都想获得此验证

你能建议我最好的方法吗

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-02T06:33:41.937

我将使用两个 primefaces 日历组件，其中第一个将使用 ajax www.primefaces.org/showcase/ui/calendarAjax.jsf 更新到第二个组件的允许范围。

第二个组件可以使用 www.primefaces.org/showcase/ui/calendarMinMax.jsf 来限制允许的值。

可以参考 primefaces datarange demo [http://www.primefaces.org/showcase/ui/calendarMinMax.jsf](http://www.primefaces.org/showcase/ui/calendarMinMax.jsf)

# ios - 如何从其他/内部视图运行恢复方法，但不能在打开应用程序时运行？

> ID：15757340
> 
> 赞同：0
> 
> 时间：2013-04-02T06:12:48.443
> 
> 标签：ios, uitableview

我是 iOS 新手，目前正在开发小型食谱应用程序。打开应用程序时首先打开的主视图是包含食谱的表格视图。单击“添加”时，新视图打开，我可以从中为表创建新配方。在进入要从中添加食谱的新视图之前，我正在向表中添加额外的行。我遇到的问题是，如果我在新视图中单击取消并返回表视图，无论如何都会添加新行，空行。我知道我需要通过检查是否创建了新配方来更新“viewWillAppear”中的表格。我遇到的问题是，在我的场景中没有创建配方，如果我从“viewWillAppear”中的表中删除一行，那么每次都会将其删除：

1.  我打开应用程序
2.  我从食谱编辑回来。

你能建议一些解决方案吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-02T06:20:54.767

首先，您不应该在表中创建新行。这不是增加表格视图中行数的方法。创建新配方时，将其添加到用于填充表格的数组（或其他数据结构）中，当您返回表格视图时，如有必要，请调用 reloadData 或 reloadRowsAtIndexPaths:withRowAnimation:。

# php - Mail goes to spam when i add styles and logos in mail content

> ID：15757342
> 
> 赞同：0
> 
> 时间：2013-04-02T06:12:49.340
> 
> 标签：php, email

I had a problem when i send mail with css and logo, every time mail is going to spam but when remove the css and logo it is delivered correctly in inbox.

Below is the code

```
$msgHtml=  "<div style='width:650px; font-family:Georgia,Arial, Helvetica, sans-serif; font-size:12px; color:#1f1f1f; background:#f9f9f9; border:1px solid #cfcfcf;'>
               <table width='650' border='0' cellspacing='0' cellpadding='4'>
               <tr>
                 <td colspan='4' align='left' valign='top' style='border-bottom:1px solid #cfcfcf;'>
                  <img  src='". base_url() ."assets/user/images/IPIX_logo_mail.jpg' alt='Emcon' alt='' /></td>
                 </tr>
               <td colspan='4'  style='height:25px; padding:0;'>
               <h3 style='font:bold 14px Georgia, Times New Roman, Times, serif ; color:#333; margin:4px 0 0 0; padding:5px 0px 5px 18px ;'>&nbsp;Hello <span style='font:bold 14px Arial, Helvetica, sans-serif; color:#222222;'>" .$fullname. "</span>,</h3>
               </td>
              </tr>
            <tr>
              <td colspan='4' style='height:8px; padding:0px ;margin:0px; border:none;'></td>
            </tr>

            <tr>
              <td colspan='4' style='font:normal 12px Arial, Helvetica, sans-serif; color:#444444; padding:4px 0px 4px 18px;'>&nbsp;Click the link below to reset your password</td>
            </tr>
             <tr>

             <td colspan='4' style='font:normal 12px Arial, Helvetica, sans-serif; color:#444444; padding:4px 0px 4px 18px;'>&nbsp;<a href='".base_url()."home/changeupasswd/".$userid."'>Click Here</a></td>

           </tr> 
              <tr>
                <td colspan='4' style='border:none; padding:8px 0 8px 20px; background:rgb(84, 215, 236); color:#fff; font-size:10px; line-height:20px; font:normal 12px Arial, Helvetica, sans-serif;'>© 2012 -13 emcon2013.com All Rights Reserved</td>
              </tr>
              </table>
            </div>";
          $sendto = $emailid;
            $from = "emailid@test.com";
            $subject = "Emcon : Reset password";
            $message = $msgHtml;
            $header = "From: " . $from . "\n";
            $header .= "Content-Type: text/html; charset=iso-8859-1\n";
            if (mail($sendto, $subject, $message, $header)) {

                echo 1;
            } else {

                echo 2;
            } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-02T06:16:38.200

将这些添加到您的标题中以验证内容是否在 html 中。

```
// To send HTML mail, the Content-type header must be set
$headers  = 'MIME-Version: 1.0' . "\r\n";
$headers .= 'Content-type: text/html; charset=iso-8859-1' . "\r\n"; 
```

# windows-phone-7 - 从 TombStoning 恢复后 MediaElement 不播放

> ID：15757343
> 
> 赞同：0
> 
> 时间：2013-04-02T06:12:50.807
> 
> 标签：windows-phone-7, windows-phone-8, mediaelement

我有一个用于跨页面播放音乐的 MediaElement。因此，我不得不将它作为资源保留在 App.xaml 中。

在我按下 WP 中的 Windows 按钮之前，一切都按预期工作。应用程序被墓碑化，并且 MediaElement 按预期停止播放。在我的 Application_Deactivated 上，我明确调用 Player.Stop()

当我恢复应用程序时会发生此问题。所有其他状态都已恢复，但媒体元素不播放音乐。我可以看到负责音乐的代码受到打击，但没有触发 MediaElement 的 MediaOpened。我错过了一些明显的东西吗？

编辑 [澄清 KeyboardP 的问题]

```
<Application.Resources>
    <MediaElement x:Name="ME" MediaEnded="RepeatMedia" Volume="1" AutoPlay="False" Height="0" Source="/Sounds/mywave.wav" />
</Application.Resources> 
```

在我的 App.XAML.CS 中，我有一个名为...的方法

```
 public MediaElement player = null;

    private void InitializeMusic()
    {
        if (App.Current.Resources.Contains("ME"))
        {
            player = App.Current.Resources["ME"] as MediaElement;
        }
        player.MediaOpened += player_MediaOpened;
    } 
```

我再次初始化它...

```
 // Code to execute when the application is activated (brought to foreground)
    // This code will not execute when the application is first launched
    private void Application_Activated(object sender, ActivatedEventArgs e)
    {
        InitializeMusic();
    } 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-04T10:45:17.417

我不知道为什么，但是`Source`在墓碑化后属性被删除了，所以尝试在后面的代码中重置源代码。

```
if (App.Current.Resources.Contains("ME"))
{
    player =(MediaElement) App.Current.Resources["ME"] as MediaElement;
    player.Source = new Uri("/Sounds/mywave.wav", UriKind.Relative);
} 
```

# python - Python bdist_rpm 需要 Python

> ID：15757351
> 
> 赞同：1
> 
> 时间：2013-04-02T06:13:17.703
> 
> 标签：python

我想创建一个基于 python 的 RPM，它将安装在没有 Python 的最小 CENTOS 安装上。有没有办法，通过 bdist_rpm 命令包含我用来构建包含在 RPM 中的 Python 脚本的 Python 版本？以下是我想要实现的

1.  安装 CENTOS 最小镜像
2.  运行安装 Python RPM 并执行 Python 二进制文件的 shell 脚本

我想不通的是如何在脚本中包含 Python，以便在 RPM 安装时安装它，从而允许用户安装运行 Python 脚本的能力。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-01-21T10:53:14.543

如果您在 Python 可用作 RPM 的环境中工作，则可以使用`bdist_rpm --requires ...`，或将该选项保存在`setup.cfg`文件中：

```
[bdist_rpm]
requires = name_of_rpm 
```

# c# - 创建另一种类型的 htmlhelper 实例

> ID：15757354
> 
> 赞同：5
> 
> 时间：2013-04-02T06:13:45.033
> 
> 标签：c#, asp.net-mvc, extension-methods, html-helper

我有*HtmlHelper*扩展方法，它可以接受一个 T 类型的模板参数。接下来，在方法内部，我想为标记有特殊属性的对象中的某些字段返回编辑器。问题是我将此方法称为*HtmlHelper* < *TModel* > 的实例，但在方法内部我需要*HtmlHelper* < *T* > 的实例才能使用其*编辑器*方法。我试图创建这样的默认实例：

```
var html = new HtmlHelper<T>(new ViewContext(), new ViewPage()); 
```

但是，当然，它不起作用。
那么，我怎样才能创建正确的实例？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-06-05T18:17:39.623

我认为您不需要重新实例化它。

你有没有尝试过这样的事情：

```
public static IHtmlString MyExtensionMethod<T>(this HtmlHelper html, T model) where T : IMyModel
{
    //your logic that returns a new HtmlString with html.TextBox for example
} 
```

# octave - 窗口错误处理

> ID：15757355
> 
> 赞同：0
> 
> 时间：2013-04-02T06:13:52.380
> 
> 标签：octave

问题是我在 Windows 上运行 octave，或者至少我认为这是问题所在。我故意造成错误，我想要做的是获取整个错误消息，以便我可以从中获取完整的文件路径。pwd() 返回主目录，而不是程序运行的目录。

我试过 error.file 但显然这不是错误结构的一部分。

所以这是一个完整的示例：

```
try
   err = make_error();
catch
   msg = lasterror.file;
   print(msg);
end_try_catch 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-02T07:17:53.023

你读错了文档。返回的结构`lasterror`没有名为 的字段`file`。确实有一个名为 的字段`stack`，它也是一个结构，它确实有一个`file`字段。所以你要找的是`lasterror().stack.file`. 请参阅有关[捕获错误](http://www.gnu.org/software/octave/doc/interpreter/Catching-Errors.html)的手册部分。

此外，`pwd()`返回工作目录，而不是主目录。您要么做错了其他事情，要么是 Windows 版本的错误。

# c++ - 搜索和更新整数值列表的最快数据结构是什么？

> ID：15757356
> 
> 赞同：2
> 
> 时间：2013-04-02T06:13:57.187
> 
> 标签：c++, arrays, data-structures

我必须维护一个无序整数列表，其中整数的数量是未知的。它可能会随着时间的推移而增加或减少。我需要经常更新这个整数列表。我试过使用 vector 。但它真的很慢。Array 似乎更快，但由于 list 的长度不固定，因此需要大量时间来调整它的大小。请提出任何其他选择。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-02T08:14:12.347

如果您对数组大小的动态增量感兴趣，您可以这样做。

```
current =0;
x = (int**)malloc(temp * sizeof(int*));
x[current]=(int*)malloc(RequiredLength * sizeof(int)); 
```

因此，将元素添加到数组中，当元素填充 x[current] 您可以通过执行为元素添加更多空间

```
x[++current]=(int*)malloc(RequiredLength * sizeof(int)); 
```

这样做可以容纳**RequiredLength**更多的元素。

您最多可以重复 1024 次，这意味着**1024*RequiredLength**元素可以是

容纳，在这里它使您有机会在需要时增加数组的大小。

您始终可以通过 X[ n / 1024 ][ n % 1024] 访问第 n 个元素；

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-02T08:48:08.947

`std::set`考虑到您的评论，它看起来`std::unordered_set`比`std::vector`.

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-02T06:17:37.910

如果值的顺序不重要，请使用[哈希表。](http://en.wikipedia.org/wiki/Hash_table)时间是 O(1)。我很确定你会在标准模板库中找到一个实现。

如果做不到这一点，[splay 树](http://en.wikipedia.org/wiki/Splay_tree)会非常快，特别是如果您想保持列表有序：每次操作的 O(ln n) 摊销成本，常数因子非常低。我认为 C++ 标准库映射是这样的。

了解你的数据结构。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-02T06:31:36.143

好吧，deque 没有resize 成本，但是如果是无序的，它的搜索时间是线性的，并且它在自身中间的删除和插入操作时间甚至比vector 更有价值。
如果您不需要按数字的值进行搜索，hashmap 或 map 可能是您的选择。没有调整大小的成本。然后您将映射的键设置为数字的索引，并将值设置为数字的值。搜索和插入操作优于线性。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-04-02T06:26:16.113

如果顺序数据结构无法满足要求，您可以尝试查看树（二进制、AVL、m-way、红黑等...）。我建议您尝试实现 AVL 树，因为它会产生平衡或接近平衡的二叉搜索树，可以优化您的操作。有关 AVL 树的更多信息：[http ://en.wikipedia.org/wiki/AVL_tree](http://en.wikipedia.org/wiki/AVL_tree)

* * *

## 回答 #6

> 赞同：-1
> 
> 时间：2013-04-02T06:22:28.270

std::list 绝对是为此类问题创建的，在列表中添加和删除元素不需要像向量中那样重新分配内存。但是，由于列表的非传染性内存分配，搜索元素可能会被证明是一种痛苦的体验，但如果您不经常搜索其条目，则可以使用它。

# linux - 我希望 shell 脚本可执行但不可读

> ID：15757357
> 
> 赞同：4
> 
> 时间：2013-04-02T06:13:58.500
> 
> 标签：linux, shell, permissions

我创建了一个脚本，我希望我们**共享系统**上的其他用户**执行但不读取该脚本。**我将所有权限设置为可执行，但撤销了 R/W 权限。

```
---x--x--x 1 dilletante staff 0 2013-04-02 11:42 expect.sh 
```

但是脚本执行失败...原因很简单..**解释器**还需要**阅读脚本**

如果有的话，我想要一个解决方法..我可以将它嵌入到一些编译语言中..那行得通吗？如果是的话，你能指出我可以学习如何做到这一点的资源吗？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-04-02T06:17:10.110

shell 必须能够读取脚本才能执行它。如果它是一个脚本，你要求的是不可能的。

您当然可以在可执行程序上使用 111 权限（由`ld`命令生成，通常由您选择的编译实现语言的编译器调用）。所有者可以随时更改读取程序的权限，但使用 511 比使用 111 权限更常规。

通常有针对特定脚本语言的编译器会生成与该脚本等效的 C 程序：

*   [shell 脚本的编译器](https://stackoverflow.com/questions/1297318/compilers-for-shell-scripts)。
*   [如何将 Linux shell 脚本编译为二进制文件](https://stackoverflow.com/questions/6423007/how-to-compile-a-linux-shell-script-to-be-a-standalone-executable-binary-i-e)。
*   [编译 shell 脚本](http://www.drdobbs.com/embedded-systems/compiling-shell-scripts/240002610)。
*   [`shc`— shell 脚本编译器](http://www.datsi.fi.upm.es/~frosal/sources/shc.html)。

等等。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2014-01-23T13:46:35.510

如果您希望其他用户使用此功能，请尝试 sudo

例子：

1.  更改执行权

    ```
    chmod 500 /usr/bin/script.bash
    ll /usr/bin/script.bash

    -r-x------ 1 <USER> <GROUP> 1174 23\. Jan 13:24 /usr/bin/script.bash 
    ```

2.  作为 root 更改 sudoers

    ```
    visudo

    ## Allows ALL to run /usr/bin/script.bash as <USER> without password
    ## The asterisk is if you want to use any commandline parameters 
    ALL  ALL=(<USER>) NOPASSWD: /usr/bin/script.bash * 
    ```

3.  使用 sudo 运行脚本

    ```
    sudo /usr/bin/script.bash <PARAMETERS> 
    ```

有关 sudo 的更多信息，请阅读 sudo 手册页

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2016-05-02T04:17:12.033

除了保护您的 shell 脚本之外，还有另一种方法。由于此处的目标是确保没有人可以阅读或更改它们，因此您可能想尝试以下链接：

[http://www.kinglazy.com/shell-script-encryption-kinglazy-shieldx.htm](http://www.kinglazy.com/shell-script-encryption-kinglazy-shieldx.htm)

在上面的页面上，您所要做的就是提交您的shell脚本（您可以先提交一个示例脚本，以使您省心）。将为您生成一个 zip 文件。

**安装：**

1.  wget 链接到压缩文件
2.  解压缩新下载的 zip 文件
3.  cd /tmp/KingLazySHIELD
4.  ./install.sh /var/tmp/KINGLAZY/SHIELDX-(name-of-your-script) /bin -force

上面的安装命令将为您做的是：

1.  它将在目录 /var/tmp/KINGLAZY/SHIELDX-(name-of-your-script) 中安装加密脚本。

2.  它会在 /bin 中放置一个指向该加密脚本的链接 - 这样，您无需在每次运行时都输入脚本的绝对路径。

3.  确保没有人可以修改脚本 - 任何修改加密脚本的尝试都将使其无法操作......直到尝试被删除。

4.  确保绝对没有人可以制作它的工作副本。没有人可以将您的脚本复制到一个僻静的位置并尝试使用它来查看它是如何工作的。如果他们尝试这样做，它将中止并且不会运行。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2017-02-09T14:30:06.710

我制作了自己的 bash 混淆器来克服 shc 的一些真正困扰我的缺点（主要是能够使用 ps 以几乎清晰的文本形式查看脚本）。[如果https://github.com/louigi600/obash](https://github.com/louigi600/obash)比 shc 更好地为您服务，您可以看看。

# javascript - 多次使用 setTimeout() 的问题

> ID：15757360
> 
> 赞同：0
> 
> 时间：2013-04-02T06:14:11.040
> 
> 标签：javascript, jquery

嘿伙计们，我正在尝试像这样使用多个 setTimeout()：

```
setTimeout(function()
{ 
    $('#hoverbox h2').html("...");
    $('#hoverbox p').html("\...");
},0)

setTimeout(function()
{ 
    $('#hoverbox h2').html("..");
    $('#hoverbox p').html("...");
},3500)

setTimeout(function()
{ 
    $('#hoverbox h2').html("...");
    $('#hoverbox p').html("...");
},3500) 
```

我只是把`...`我原来的文字放在里面......所以问题是当我运行它时它会从第一个开始而不是等待 3500 英里然后直接跳到底部？

请让我知道如何阻止它！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-02T06:17:37.550

您的第二次和第三`setTimeout`次同时运行（几乎）。您可以`7000`在第三个延迟或在第二个初始化第三个`setTimeout`。

```
 setTimeout(function () {
     $('#hoverbox h2').html("...");
     $('#hoverbox p').html("\...");
 }, 0)

 setTimeout(function () {

     $('#hoverbox h2').html("..");
     $('#hoverbox p').html("...");
     setTimeout(function () {

         $('#hoverbox h2').html("...");
         $('#hoverbox p').html("...");
     }, 3500)

 }, 3500) 
```

# html - Phonegap应用程序通过html页面中的按钮全屏

> ID：15757363
> 
> 赞同：0
> 
> 时间：2013-04-02T06:14:26.847
> 
> 标签：html, cordova, fullscreen

我有一个 phonegap 应用程序，它作为普通应用程序启动（不是全屏模式）。我需要提供一个用户选项来在我的 html 中启用全屏。如何通过 javascript 或 Phonegap utils 使我的应用程序在按钮单击时全屏显示？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-02T07:32:51.400

您必须编写一个调用本机功能以切换到全屏的 PhoneGap[插件](http://docs.phonegap.com/en/2.5.0/guide_plugin-development_index.md.html#Plugin%20Development%20Guide)（例如，对于 iOS来说就是[这样）。](https://stackoverflow.com/questions/6182266/set-fullscreen-mode-in-ios-programmatically)

# android - 语法错误，插入“}”以完成 ClassBody。我已经检查过，“{”有一个匹配的“}”

> ID：15757364
> 
> 赞同：0
> 
> 时间：2013-04-02T06:14:40.537
> 
> 标签：android

我正在使用 The Complete Idiots Guide to Android App Development 来帮助我入门。我一直在努力阅读这本书，并且遇到了一个我不明白的问题。我正在创建一个搜索类以向应用程序添加搜索功能。我在 Eclipse 中遇到了多个错误，我最不理解的一个是“语法错误，插入“}”以完成 ClassBody”。我知道 Eclipse 告诉我关闭类主体，但它已关闭。只是没有告诉我关闭它。在它告诉我关闭它的下方，我有另一种输入方法。

这是整个班级的代码。

```
package com.recipesapp;
import java.util.ArrayList;
import android.app.ListActivity;
import android.app.SearchManager;
import android.content.Intent;
import android.content.SharedPreferences;
import android.os.Bundle;
import android.widget.ListView;

public class RecipeSearch extends ListActivity{

    @Override

    public void onCreate(Bundle savedInstanceState){

        //super.onCreate(savedInstanceState);
        setContentView(R.layout.recipe_list);
        Intent intent = getIntent();
        if(Intent.ACTION_VIEW.equals(intent.getAction())){
            //A search suggestion was clicked
            Intent recipeIntent = new Intent(this, RecipeEntry.class);
            recipeIntent.setData( intent.getData() );
            startActivity(recipeIntent);
            finish();
        }
        else if(Intent.ACTION_SEARCH.equals(intent.getAction())){
            //The search was executed
            String query = intent.getStringExtra(SearchManager.QUERY);
            showRecipes(query);
        }
    }

    private static final ArrayList<String> _RecipeSearchResults = new ArrayList<String>();
    private ListView resultsView;

    private void showRecipes(query){
        SharedPreferences recipeNames = getSharedPreferences(MainMenu.RecipeNamesPref, RecipeEntry.MODE_WORLD_READABLE);
        String[] recipeList= recipeNames.getString(MainMenu.RecipeNamesPref, null).split(",");
        for(String recipe: recipeList){
            if(recipe.contains(query))
                ReicpeSearchResults.add(recipe);

            resultsView=(ListView) findViewById(android.R.id.list);
            resultsView.setAdapter(new ListViewAdapter(this));
            resultsView.setTextFilterEnabled(true);
            resultsView.setOnItemClickListener(this);
        }
    }
} 
```

我知道还有其他错误，但我无法弄清楚这一点。我已经通过并看到我有所有的大括号，打开和关闭。我不明白它为什么要放入第 35 行，即：

```
private ListView resultsView; 
```

此外，它希望我也删除最后一个大括号。我将不胜感激任何帮助。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-02T06:16:31.383

这不是花括号的问题。您错过了方法参数的类型

方法参数应该有类型

改变这个

```
showRecipes(query) 
```

到

这

```
showRecipes(String query) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-02T06:21:32.063

您的方法 `private void showRecipes(query)`不包含数据类型，这就是它显示错误的原因。

如果您将其更改为这样的 `private void showRecipes(String query)`内容，它将停止显示`}`错误。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-02T06:21:39.517

只需在 onCreate 函数之前移动以下行

```
private ListView resultsView; 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-02T06:27:29.983

```
private static final ArrayList<String> _RecipeSearchResults = new ArrayList<String>();
    private ListView resultsView; 
```

上面提到的这两行实际上都应该出现`OnCreate` 在您实际编写它们的位置之前。在那个地方，每一行都应该在某个方法内。

```
@Override

    public void onCreate(Bundle savedInstanceState){

        //super.onCreate(savedInstanceState);
        setContentView(R.layout.recipe_list);
        Intent intent = getIntent();
        if(Intent.ACTION_VIEW.equals(intent.getAction())){
            //A search suggestion was clicked
            Intent recipeIntent = new Intent(this, RecipeEntry.class);
            recipeIntent.setData( intent.getData() );
            startActivity(recipeIntent);
            finish();
        }
        else if(Intent.ACTION_SEARCH.equals(intent.getAction())){
            //The search was executed
            String query = intent.getStringExtra(SearchManager.QUERY);
            showRecipes(query);
        } 
```

在这种情况下，您应该在这里定义`"query"`参数的数据类型`String`

```
private void showRecipes(String query){
    SharedPreferences recipeNames = getSharedPreferences(MainMenu.RecipeNamesPref, RecipeEntry.MODE_WORLD_READABLE);
    String[] recipeList= recipeNames.getString(MainMenu.RecipeNamesPref, null).split(",");
    for(String recipe: recipeList){
        if(recipe.contains(query))
            ReicpeSearchResults.add(recipe);

        resultsView=(ListView) findViewById(android.R.id.list);
        resultsView.setAdapter(new ListViewAdapter(this));
        resultsView.setTextFilterEnabled(true);
        resultsView.setOnItemClickListener(this);
    }
} 
```

# function - Selenium 中的驱动程序不存在 getWindowHandle 函数

> ID：15757371
> 
> 赞同：3
> 
> 时间：2013-04-02T06:15:11.893
> 
> 标签：function, testing, selenium, automation, selenium-webdriver

我需要在 IE 中实现从一个窗口切换到另一个窗口。但是，元素驱动程序不支持 getWindowHandle 函数。

我认为这可能只是配置问题或设置，但我不知道如何解决它。

请，任何建议。

我正在使用 c# - Visual Studio

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-02T13:17:57.540

您还没有说您正在使用哪种语言绑定，但根据您发布的评论，您似乎正在使用 C#。每种语言绑定的方法名称略有不同。从[这个答案](https://stackoverflow.com/questions/6229769/execute-javascript-using-selenium-webdriver-in-c-sharp/6285793#6285793)：

> .NET 语言绑定中的对象、方法和属性名称与 Java 绑定中的名称并不完全对应。该项目的一项原则是，每种语言绑定对于那些使用该语言进行舒适编码的人来说应该“感觉自然”。

因此，如果您尝试复制粘贴 Java 代码，则必须进行一些翻译。在这种情况下，您需要`WindowHandles`属性（以查找新窗口句柄）和`CurrentWindowHandle`驱动程序属性的组合。您可以在项目的[Google 代码站点上找到](http://code.google.com/p/selenium)[.NET 绑定的完整 API 文档](http://selenium.googlecode.com/git/docs/api/dotnet/index.html)。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-02T07:04:32.193

我将做出疯狂的猜测：

尝试像这样初始化您的驱动程序：

```
 WebDriver driver = new FirefoxDriver(); //assume you use firefox 
```

该接口`WebDriver`支持该方法。不要忘记将手柄存放在某处；）

```
String myWindow = driver.getWindowHandle(); 
```

顺便说一句，该方法应该返回您**实际的窗口**如果您需要*所有窗口*，您可能应该使用`getWindowHandles()`方法

如果这不起作用，请提供更多信息：

*   *你到底*得到了什么错误？
*   你如何初始化WebDriver？
*   您使用的是什么版本的硒？|
*   您使用的是什么类型的驱动程序？

# iphone - 如何使用 CIFeatures 将图像放在眼睛和嘴巴上

> ID：15757372
> 
> 赞同：2
> 
> 时间：2013-04-02T06:15:14.710
> 
> 标签：iphone, ios, objective-c, uiimageview, core-image

我发现这个[链接](http://www.icapps.be/face-detection-with-core-image-on-live-video/)将图像放在面部点上。就像我需要检测眼睛并在那里放置图像一样？

为了简单起见，我需要在人眼上放置一个图像。我该怎么做？任何提示将不胜感激！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-02T06:33:04.597

```
for ( CIFaceFeature *ff in features ) {

    // find the correct position for the square layer within the previewLayer

    // the feature box originates in the bottom left of the video frame.

    // (Bottom right if mirroring is turned on)

    CGRect faceRect = [ff bounds];

    // flip preview width and height

    CGFloat temp = faceRect.size.width;

    faceRect.size.width = faceRect.size.height;

    faceRect.size.height = temp;

    temp = faceRect.origin.x;

    faceRect.origin.x = faceRect.origin.y;

    faceRect.origin.y = temp;

    // scale coordinates so they fit in the preview box, which may be scaled

    CGFloat widthScaleBy = previewBox.size.width / clap.size.height;

    CGFloat heightScaleBy = previewBox.size.height / clap.size.width;

    faceRect.size.width *= widthScaleBy;

    faceRect.size.height *= heightScaleBy;

    faceRect.origin.x *= widthScaleBy;

    faceRect.origin.y *= heightScaleBy;

    if ( isMirrored )

        faceRect = CGRectOffset(faceRect, previewBox.origin.x + previewBox.size.width - faceRect.size.width - (faceRect.origin.x * 2), previewBox.origin.y);

    else

        faceRect = CGRectOffset(faceRect, previewBox.origin.x, previewBox.origin.y); 
```

你可以得到正确的脸，但你需要精细图像的眼睛

这将帮助您获得每个职位

```
-(void)markFaces:(CIImage *)image
{
    // draw a CI image with the previously loaded face detection picture
    @autoreleasepool {
        CIDetector* detector = [CIDetector detectorOfType:CIDetectorTypeFace
                                                  context:nil options:[NSDictionary dictionaryWithObject:CIDetectorAccuracy forKey:CIDetectorAccuracyHigh]];

        // create an array containing all the detected faces from the detector
        NSArray* features = [detector featuresInImage:image];

        NSLog(@"The Address Of CIImage In: %p %s",image,__FUNCTION__);
        NSLog(@"Array Count %d",[features count]);

        NSUserDefaults *prefs = [NSUserDefaults standardUserDefaults];

        if([features count]==0)
        {
           //No image is present
        }
        else 
        {
            for(CIFaceFeature* faceFeature in features)
            {

                if(faceFeature.hasMouthPosition)
                {
                   // Your code based on the mouth position
                }

              if (faceFeature.hasLeftEyePosition) {
                 // Write your code Note: points are mirrored point so u need to take care of that 

                }
                if (faceFeature.hasRightEyePosition) {
                 // Write your code Note: points are mirrored point so u need to take care of that 

                }

                }
}
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-02T07:10:13.757

Apple iOS 5 及更高版本已在内部提供此功能。

请参阅此 Apple 文档：

[http://developer.apple.com/library/mac/#documentation/graphicsimaging/Conceptual/CoreImaging/ci_detect_faces/ci_detect_faces.html](http://developer.apple.com/library/mac/#documentation/graphicsimaging/Conceptual/CoreImaging/ci_detect_faces/ci_detect_faces.html)

在此示例中，他们按照您的要求执行相同的操作 - 面部和眼睛检测。

希望这对您有所帮助。

*还要检查这些[link1](http://www.bobmccune.com/2012/03/22/ios-5-face-detection-with-core-image/)和[link2](http://maniacdev.com/2011/11/tutorial-easy-face-detection-with-core-image-in-ios-5/)，它包含检测到的区域的图像叠加。我想这就是你要找的。

# java - 为不同的 IWizardPages 设置不同的窗口标题

> ID：15757374
> 
> 赞同：0
> 
> 时间：2013-04-02T06:15:21.153
> 
> 标签：java, swt, jface, wizard

我有一个 JFace 向导，我想为不同的向导页面设置不同的窗口标题。目前我已经覆盖了名为 as 的方法，`setWindowTitle`并且我正在从向导页面调用此方法，但标题没有出现在向导页面上。

向导上的代码是

```
@Override
public void setWindowTitle(String newTitle) {
    super.setWindowTitle(newTitle);
} 
```

而在 JFace WizardPage 上是

```
private InstallationWizard iWizard = new InstallationWizard();
        iWizard.setWindowTitle(PropertyClass.getPropertyLabel(Constants.QTL_INSTALLATION_WIZARD_1)); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-02T09:49:26.267

`getWindowTitle()`像这样在您的向导中覆盖：

```
@Override
public String getWindowTitle() {
    if (getContainer() != null) {
        IWizardPage currentPage = getContainer().getCurrentPage();

        if (currentPage == wizardPage1)
            return "title1";
        else if (currentPage == wizardPage2)
            return "title2";
    }

    return "otherwise";
} 
```

# python - 解决折叠纸挑战

> ID：15757375
> 
> 赞同：2
> 
> 时间：2013-04-02T06:15:36.350
> 
> 标签：python, list-comprehension, nested-lists

好的，所以我试图以 pythonic 的方式解决这个逻辑问题，但我不是很好。开始：

你有一张纸，上面有一个数字列表，如下所示：

1 2 3 4 | 5 6 7 8

如果你把纸从中间从左到右折叠，你会得到这个顺序：

（第一个数字在顶部） (4,5) (3,6) (2,7) (1,8)

你可以再折叠一次，得到一个新的订单（从右到左的例子）：

（顶部的第一个数字，然后是下面的第二个，......等等）（8,1,4,5）（7,2,3,6）

我开始了解如何折叠纸张并获得正确顺序的列表列表：

```
paper = [1, 2, 3, 4, 5, 6, 7, 8]

half_paper = len(paper)/2
s = paper[:half_paper]
e = paper[half_paper:]
middle_distance = 0

final_list = []

for l in range(half_paper):
    print l
    m = [s[half_paper-middle_distance-1],e[middle_distance-half_paper]]
    final_list.append(m)     
    middle_distance += 1

 print final_list 
```

这有效，导致 [[4,5], [3,6], [2,7], [1,8]] （从左到右折叠）。但现在我被困住了。我一直在尝试找出一种方法来使用列表理解将逻辑应用于 final_list 结果，因此我可以再次“折叠”论文以获得 [[5,4,1,8], [6 ,3,2,7]]（再次从左向右折叠，或者如果从右向左折叠 [[8,1,4,5], [7,2,3,6]]）。

我不确定如何使用列表推导来执行我在 for 循环中所做的事情，在列表列表上并生成列表列表。有什么想法可以让我开始吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-02T06:45:20.420

```
l = [1, 2, 3, 4, 5, 6, 7, 8]
l1,l2 = l[:len(l)/2], l[len(l)/2:]
l = [ [x,y] for x,y in zip (l1, l2[::-1])]
for i in range(len(l)):
        if isinstance(l[i][0], list):
                l[i] = [x for item in l[i] for x in item]
print l

l1,l2 = l[:len(l)/2], l[len(l)/2:]
l = [ [x,y] for x,y in zip (l1, l2[::-1])]
for i in range(len(l)):
        if isinstance(l[i][0], list):
                l[i] = [x for item in l[i] for x in item]
print l 
```

**输出**

```
[[1, 8], [2, 7], [3, 6], [4, 5]]
[[1, 8, 4, 5], [2, 7, 3, 6]] 
```

# vb.net - 如何创建一个循环语句来查找字符串中特定数量的字符？

> ID：15757378
> 
> 赞同：1
> 
> 时间：2013-04-02T06:16:10.460
> 
> 标签：vb.net, string, visual-studio-2010, loops

这里是初学者，请多多包涵，如有错误，我提前道歉。这是一些家庭作业，我遇到了一些麻烦。

总体目标：使用循环语句输出字符串中特定数量的字符。例如，用户想在“鸡为什么过马路？”中找到多少个“我”，答案应该是 2。

1) 表单/gui 有 1 个多行文本框和 1 个标题为“搜索”的按钮

2) 用户在文本框中输入/复制/粘贴文本点击“搜索”按钮

3）搜索按钮打开一个输入框，用户将在其中输入他们想要在文本框中搜索的字符，然后按“确定”

4）（我真的需要帮助）**使用循环语句**，程序搜索**并计算**文本输入到**Inputbox**的次数，出现在**MultiLine Textbox**内的文本中，**然后**显示字符出现的次数在“messagebox.show”中

到目前为止我所拥有的一切

```
Private Sub Search_btn_Click(sender As System.Object, e As System.EventArgs) Handles Search_btn.Click
    Dim counterInt As Integer = 0
    Dim charInputStr As String
    charInputStr = CStr(InputBox("Enter Search Characters", "Search")) 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-02T07:37:59.977

**概念：** `Increment`直到`count`包含`input`特定`search`字符串。如果它`contains`是`search`字符串，则`replace`第一次出现`string.empty`(In `String.contains()`，搜索从它的 开始`first index`，即`0`)

```
 Dim input As String = "Test input string for Test and Testing the Test"
 Dim search As String = "T"
 Dim count As Integer = 0

 While input.Contains(search) : input = New Regex(search).Replace(input, String.Empty, 1) : count += 1 : End While

 MsgBox(count) 
```

**编辑：**

另一种解决方案：

```
Dim Input As String = "Test input string for Test and Testing the Test"
Dim Search As String = "Test"

MsgBox((Input.Length - Input.Replace(Search, String.Empty).Length) / Search.Length) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-02T07:57:43.723

试试这个代码

```
 Dim input As String = "Test input string for Test and Testing the Test"
        Dim search() As String = {"Te"}

        MsgBox(input.Split(input.Split(search, StringSplitOptions.None), StringSplitOptions.RemoveEmptyEntries).Count) 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-02T08:15:47.843

试试这个代码....未经测试，但我知道我的vb :)

```
 Function lol(ByVal YourLine As String, ByVal YourSearch As String)
    Dim num As Integer = 0
    Dim y = YourLine.ToCharArray
    Dim z = y.Count
    Dim x = 0
    Do
        Dim l = y(x)
        If l = YourSearch Then
            num = num + 1
        End If
        x = x + 1
    Loop While x < z

    Return num
End Function 
```

它是一个使用自己的计数器的函数......对于字符串中的每个字符，它将检查该字符是否是您设置的字符（YourSearch），然后它将返回它找到的项目数。所以在你的情况下它会返回 2 因为你的行中有两个 i 。

希望这可以帮助！

**编辑：**

这仅在您搜索单个字符而不是单词时才有效

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-02T06:31:36.993

我会用`String.IndexOf(string, int)`方法来得到它。简单的概念示例：

```
Dim input As String = "Test input string for Test and Testing the Test"
Dim search As String = "Test"

Dim count As Integer = -1
Dim index As Integer = 0

Do
    index = input.IndexOf(search, index) + 1
    count += 1
Loop While index > 0 
```

`count``-1`由于循环使用而被初始化-即使输入字符串中没有出现模式，`do-while`它也会被设置为。`0`

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-04-02T09:15:21.267

你可以尝试这样的事情：

```
Dim sText As String = TextBox1.Text
Dim searchChars() As Char = New Char() {"i"c, "a"c, "x"c}
Dim index, iCont As Integer 

index = sText.IndexOfAny(searchChars)

While index >= 0 Then
    iCont += 1
    index = sText.IndexOfAny(searchChars, index + 1)
End While

Messagebox.Show("Characters found " & iCont & " times in text") 
```

* * *

如果您想搜索单词和每个单词出现的时间，请尝试以下操作：

```
Dim text As String = TextBox1.Text
Dim wordsToSearch() As String = New String() {"Hello", "World", "foo"}
Dim words As New List(Of String)()
Dim findings As Dictionary(Of String, List(Of Integer))

'Dividing into words
words.AddRange(text.Split(New String() {" ", Environment.NewLine()}, StringSplitOptions.RemoveEmptyEntries))

findings = SearchWords(words, wordsToSearch)
Console.WriteLine("Number of 'foo': " & findings("foo").Count) 
```

使用此功能：

```
Private Function SearchWords(ByVal allWords As List(Of String), ByVal wordsToSearch() As String) As Dictionary(Of String, List(Of Integer))
    Dim dResult As New Dictionary(Of String, List(Of Integer))()
    Dim i As Integer = 0

    For Each s As String In wordsToSearch
        dResult.Add(s, New List(Of Integer))

        While i >= 0 AndAlso i < allWords.Count
            i = allWords.IndexOf(s, i)
            If i >= 0 Then dResult(s).Add(i)
            i += 1
        End While
    Next

    Return dResult
End Function 
```

您不仅会拥有出现次数，而且还会拥有文件中的索引位置，并且可以轻松地在字典中分组。

# azure - 内存使用、cpu 时间、数据输出和文件系统存储如何应用于我的网站？

> ID：15757392
> 
> 赞同：7
> 
> 时间：2013-04-02T06:17:10.680
> 
> 标签：azure, azure-web-app-service

请原谅我的无知，但我有几个问题似乎无法通过在这里或谷歌搜索得到答案。这些问题看起来完全是愚蠢的，但老实说，我需要帮助。

在我的 Azure 网站门户上，我有一些我很好奇的事情。

CPU-Time 如何应用于我的网站？我不知道我是如何使用 CPU 的，除非这适用于托管某种类型的应用程序？我正在使用这个“站点”作为向我的数据库提交数据的表单。

“数据输出”究竟是什么意思？我每天可以使用 165mb。

究竟什么是文件系统存储？这是我的 Azure 服务器上用于存储我的项目和我可能直接在其上托管的任何其他东西的实际可用空间吗？

最后一个问题是，在这种情况下内存使用情况如何？我被允许每小时 1024mb。

我知道桌面计算中的 CPU-Time 以及内存使用情况，但我不确定这如何适用于我的网站。我不知道如果我会超越这些限制中的任何一个，我将如何进行投影，以便我可以升级我的网站。

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2013-04-02T07:13:50.273

> CPU-Time 如何应用于我的网站？我不知道我是如何使用 CPU 的，除非这适用于托管某种类型的应用程序？我正在使用这个“站点”作为向我的数据库提交数据的表单。

这是您的代码使用的 CPU 时间。如果您使用网站项目（在 ASP.NET 中），您可能希望在部署到 Azure 网站之前为您的网站项目进行预编译（[在此处阅读有关预编译的信息](http://www.asp.net/web-forms/tutorials/deployment/deploying-web-site-projects/precompiling-your-website-vb)）。编译代码是事情的一方面。休息正在执行您的代码。发送到服务器处理程序/映射器/控制器/aspx 页面/等的每个 Web 请求。使用一些 CPU 时间。特别是写入数据库等。所有这些操作都计入 CPU 时间。

但是如何准确测量 CPU 时间，并没有记录。

> “数据输出”究竟是什么意思？我每天可以使用 165mb。

对您站点的每个 HTTP 请求都会生成一个响应。从您的网站发出的所有数据都算作“数据流出”。基本上，从您的网站所在的数据中心流出的所有和任何数据都算作数据流出。这还包括您的代码可能针对远程源执行的任何传出 HTTP/Web 请求。`Azure SQL Database`如果您使用的数据与您的网站**不在**同一个数据中心，这也是流出的数据。

> 究竟什么是文件系统存储？这是我的 Azure 服务器上用于存储我的项目和我可能直接在其上托管的任何其他东西的实际可用空间吗？

确切地说-您的项目+您上传到它的任何内容（如果您允许例如文件上传）+服务器日志。

> 最后一个问题是，在这种情况下内存使用情况如何？我被允许每小时 1024mb。

内存与 CPU 周期相同。但是我的猜测是，这更容易衡量。您的应用程序位于其自己的 .NET 应用程序域中（检查[AppDomain 上的这个 SO 问题](https://stackoverflow.com/questions/1094478/what-is-a-net-application-domain)）。测量应用程序域的内存使用情况相对容易。

# c# - MVC4 和路由

> ID：15757393
> 
> 赞同：3
> 
> 时间：2013-04-02T06:17:22.120
> 
> 标签：c#, asp.net-mvc, asp.net-mvc-4

我有一个调用 Web 服务并返回结果的控制器和视图。目前，它是我的默认控制器，称为 Home，它使用 Index 视图页面。

它正在工作。我可以发布数据，然后在刷新的屏幕上放一些东西。它重新加载相同的视图。

现在，一旦我提交并得到了很好的回复，我想加载一个不同的控制器/视图。

我的路线现在看起来像这样：

```
 routes.IgnoreRoute("{resource}.axd/{*pathInfo}");

    routes.MapRoute(
        "Home",
        "{lang}",
        new { controller = "Home", action = "Index", lang="English" });

    routes.MapRoute(
        "Location",
        "{lang}",
        new { controller = "Location", action = "Index", lang = "English" }); 
```

我创建了一个名为 Location 的受控对象，它只有以下内容：

```
 //LocationController 
 public class LocationController : Controller
 {
    public ActionResult Index()
    {
       return View();
    }
 } 
```

在我的家庭控制器中，我正在执行逻辑，然后尝试加载新页面。

```
 [HttpPost]
        public ActionResult Index(HomeModel model)
        {
            var proxy = new Proxy();
            var r = proxy.GetLocationByAddress(model.SearchString, o.ToString());
            if(r==null)
            {
                ViewBag.Error = "Error during search";
                return View(model);
            }
            ViewBag.Error = string.Format("Found {0} at {1}, {2}", r.StreetName, r.Latitude, r.Longitude);
            return RedirectToAction("Index", "Location");

        } 
```

但是当我运行它，提交它，单步执行时，它会点击 RedirectToAction - 但是......主屏幕只是刷新。我从来没有看到新的位置视图。我在这里做错了什么？我还没有掌握路线...我需要将一个新对象传递给 Location.Index 屏幕以显示...

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-02T06:28:53.667

您的路由映射不正确，请查看：[http ://www.asp.net/mvc/tutorials/controllers-and-routing/creating-custom-routes-cs](http://www.asp.net/mvc/tutorials/controllers-and-routing/creating-custom-routes-cs)

```
routes.MapRoute(
    "Location",
    "Location/{lang}",
    new { controller = "Location", action = "Index", lang = "English" }); 
```

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2014-01-29T06:50:19.773

我不认为你需要做任何改变。在您的情况下，您想加载不同的控制器及其相关视图，您只需要在下面进行更改

替换此代码`return RedirectToAction("Index", "Location");`

使用此代码 `return Redirect("http://www.yoursite.com/Location/Index");`

您的更改就像从一个页面重定向到另一个页面，因此您需要将完整路径放在这里

如果有任何问题，请尝试并回复

# cocoa - 在终端中更改 UserDefaults 时收到通知

> ID：15757399
> 
> 赞同：1
> 
> 时间：2013-04-02T06:17:43.717
> 
> 标签：cocoa, notifications, terminal, nsuserdefaults

当用户使用“defaults write ....”从终端更改一些用户默认值时，我想在我的 Cocoa 应用程序中获得一些通知。这甚至可能吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-02T07:02:21.403

我不确定这是否可能。您应该尝试在`NSUserDefaultsController`. 您会观察到`+sharedUserDefaultsController`for 键路径的变化`values.<your default key>`。

# linux - 在 Android linux 内核中找不到 /proc/pid/io 文件

> ID：15757400
> 
> 赞同：2
> 
> 时间：2013-04-02T06:17:51.230
> 
> 标签：linux, linux-kernel

我想知道 /proc/pid/io 在“Android”linux 内核中是否可用。它说“/system/bin/sh: cat: /proc/9267/io: 没有这样的文件或目录”。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2014-02-06T03:39:09.760

您能否检查一下内核中是否启用了 CONFIG_GCOV_KERNEL？此配置将编译 kernel/fs/proc/base.c，其中包含 /proc/[pid]/io 中的信息

# android - android 的 GCM 服务显示 java.net.UnknownHostException: android.googleapis.com

> ID：15757403
> 
> 赞同：4
> 
> 时间：2013-04-02T06:17:57.433
> 
> 标签：android, google-cloud-messaging

GCMService 的代码：

```
package com.avilyne.gcm;

import java.io.IOException;
import java.util.ArrayList;
import java.util.List;

import javax.servlet.ServletException;
import javax.servlet.annotation.WebServlet;
import javax.servlet.http.HttpServlet;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;

import com.google.android.gcm.server.Message;
import com.google.android.gcm.server.MulticastResult;
import com.google.android.gcm.server.Sender;

/**
 * Servlet implementation class GCMBroadcast
 */
@WebServlet("/GCMBroadcast")
public class GCMBroadcast extends HttpServlet {
    private static final long serialVersionUID = 1L;

    // The SENDER_ID here is the "Browser Key" that was generated when I
    // created the API keys for my Google APIs project.
    private static final String SENDER_ID = "AIzaSyCOLAYwS2P3ELqnTiPs3VPHGquQy1UoEIQ";

    // This is a *cheat*  It is a hard-coded registration ID from an Android device
    // that registered itself with GCM using the same project id shown above.
    private static final String ANDROID_DEVICE = "APA91bEF-_Y7t3Vc59OGuK9gnBWDegE4g2KyVgNeVIZbjGWe-4b9FMHrL82oOEYRPVz7_GaCOHbq3PatsuU_pk8jhvGng3Xp-CAv48iPqamer8Y2aajyTvUho9hsy39uNudA8XI4ML09eUsPNH87zcuGc_v2uJj65g";

    // This array will hold all the registration ids used to broadcast a message.
    // for this demo, it will only have the ANDROID_DEVICE id that was captured 
    // when we ran the Android client app through Eclipse.
    private List<String> androidTargets = new ArrayList<String>();

    /**
     * @see HttpServlet#HttpServlet()
     */
    public GCMBroadcast() {

        super();

        // we'll only add the hard-coded *cheat* target device registration id 
        // for this demo.
        androidTargets.add(ANDROID_DEVICE);

    }

    // This doPost() method is called from the form in our index.jsp file.
    // It will broadcast the passed "Message" value.
    protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {

        // We'll collect the "CollapseKey" and "Message" values from our JSP page
        String collapseKey = "";
        String userMessage = "";

        try {
            userMessage = request.getParameter("Message");
            collapseKey = request.getParameter("CollapseKey");
        } catch (Exception e) {
            e.printStackTrace();
            return;
        }

        // Instance of com.android.gcm.server.Sender, that does the
        // transmission of a Message to the Google Cloud Messaging service.
        Sender sender = new Sender(SENDER_ID);

        // This Message object will hold the data that is being transmitted
        // to the Android client devices.  For this demo, it is a simple text
        // string, but could certainly be a JSON object.
        Message message = new Message.Builder()

        // If multiple messages are sent using the same .collapseKey()
        // the android target device, if it was offline during earlier message
        // transmissions, will only receive the latest message for that key when
        // it goes back on-line.
        .collapseKey(collapseKey)
        .timeToLive(30)
        .delayWhileIdle(true)
        .addData("message", userMessage)
        .build();

        try {
            // use this for multicast messages.  The second parameter
            // of sender.send() will need to be an array of register ids.
            MulticastResult result = sender.send(message, androidTargets, 1);

            if (result.getResults() != null) {
                int canonicalRegId = result.getCanonicalIds();
                if (canonicalRegId != 0) {

                }
            } else {
                int error = result.getFailure();
                System.out.println("Broadcast failure: " + error);
            }

        } catch (Exception e) {
            e.printStackTrace();
        }

        // We'll pass the CollapseKey and Message values back to index.jsp, only so
        // we can display it in our form again.
        request.setAttribute("CollapseKey", collapseKey);
        request.setAttribute("Message", userMessage);

        request.getRequestDispatcher("index.jsp").forward(request, response);

    }

} 
```

1.  由于它是一个 Web 服务，它没有 android_manifest.xml。因此无法添加互联网权限。
2.  如果我想更改主机（android.googleapis.com），那么我应该怎么做。（它似乎坏了）。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-02T06:34:40.617

您是否尝试过关闭防火墙？您必须启用 gcm 端口。

> 如果您的组织有防火墙限制进出 Internet 的流量，您需要将其配置为允许与 GCM 连接。要打开的端口是：5228、5229 和 5230。GCM 通常只使用 5228，但有时会使用 5229 和 5230。GCM 不提供特定 IP，因此您应该允许服务器接受来自包含的所有 IP 地址的传入连接在 Google 的 ASN 15169 中列出的 IP 块中。

BTW GCM 消息请求是一个简单的 http 帖子，没有消息生成器，您必须以 json 格式发布消息。

[Android 开发者网站](http://developer.android.com/google/gcm/c2dm.html) [有关消息字段的更多信息](http://www.londatiga.net/featured-articles/how-to-send-message-to-google-cloud-messaging-gcm-server-using-json-and-php/)

# django - 在 Python/Django 中使用数据库查询在多列中搜索？

> ID：15757405
> 
> 赞同：0
> 
> 时间：2013-04-02T06:18:11.797
> 
> 标签：django, search

我有一个这样的模型：

```
class Info(models.Model):
    tape_id = models.TextField()
    name = models.TextField()
    video_type = models.TextField()
    date = models.DateTimeField()
    director = models.CharField(max_length=255)
    cameraman = models.CharField(max_length=255)
    editor = models.CharField(max_length=255)
    time_code = models.TextField()
    tag1 = models.TextField() 
```

用户可以`tape_id, name, director and cameraman`使用相同的搜索输入框进行搜索。我有一个这样的搜索视图：

```
 if request.method == 'POST':
        search_inp = request.POST['search_box']
        tape_id = Info.objects.filter(tape_id__exact=search_inp)
        res = Info.objects.filter(name__icontains=search_inp)
        res = Info.objects.filter(director__icontains=search_inp)
        res = Info.objects.filter(cameraman__icontains=search_inp)
        total_video = res.count()
        if len(res) == 0 and len(tape_id) == 0 :
            result = "No videos found!!"
            return render_to_response('no_results_only.html', {'result':result}, context_instance=RequestContext(request))
        else:
            date1 = [i.date for i in res]
            date = [i.strftime("%B %d, %Y") for i in date1]
            a = zip(res, date)
            return render_to_response('list_videos.html', {'a':a, 'total_video':total_video}, context_instance=RequestContext(request))
        return HttpResponseRedirect('/') 
```

起初我以为它会起作用，但事实并非如此。第一个 res 变量可以包含该值，而最后一个 res 是空的，它将返回到`no_results.html`. 我想使用相同的输入框部署此搜索。我怎样才能使这项工作？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-02T06:43:49.193

首先，您需要导入 Q 以用于 OR 过滤：

```
from django.db.models import Q 
```

那么你的代码应该是这样的：

```
if request.method == 'POST':
    search_inp = request.POST['search_box']
    res = Info.objects.filter(
        Q(tape_id__exact=search_inp) | 
        Q(name__icontains=search_inp) |
        Q(director__icontains=search_inp) |
        Q(cameraman__icontains=search_inp)
    )
    total_video = res.count()
    if len(res) == 0:
        result = "No videos found!!"
        return render_to_response('no_results_only.html', {'result':result}, context_instance=RequestContext(request))
    else:
        date1 = [i.date for i in res]
        date = [i.strftime("%B %d, %Y") for i in date1]
        a = zip(res, date)
        return render_to_response('list_videos.html', {'a':a, 'total_video':total_video}, context_instance=RequestContext(request))
    return HttpResponseRedirect('/') 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-02T06:30:05.290

建议`OR`在`filter`. 您可以参考[文档](https://docs.djangoproject.com/en/dev/topics/db/queries/#complex-lookups-with-q-objects)的语法。

```
Q(question__startswith='Who') | Q(question__startswith='What') 
```

它将确保您将在结果中获得唯一的对象列表。

# java - 找不到 java.lang.Object 的类文件

> ID：15757406
> 
> 赞同：20
> 
> 时间：2013-04-02T06:18:17.327
> 
> 标签：java, android, eclipse

我重新安装了我的eclipse。然后在Eclipse中导入了所有的项目，但是每个项目都有一个常见的错误：

`Cannot find the class file for java.lang.Object. at Line 1.`

我检查了我的 Java 路径。但无法整理出来。

* * *

## 回答 #1

> 赞同：25
> 
> 时间：2013-04-02T06:49:57.230

> 右键单击项目-> 属性，Java 构建路径。

![在此处输入图像描述](https://i.stack.imgur.com/U06f6.png)

检查您是否安装了 JRE。如果安装点击编辑并检查它是否指向正确的位置

![在此处输入图像描述](https://i.stack.imgur.com/eWXh7.png)

* * *

## 回答 #2

> 赞同：14
> 
> 时间：2013-04-02T06:45:14.323

检查它是否有效：

您的 java 存储库有问题。我猜..：

转到`Help`> `Install New Software`> 单击`Add`按钮。

在弹出窗口：

姓名：`ADT`

地点：`https://dl-ssl.google.com/android/eclipse`

安装列表中的所有可用软件。这可能有效。

祝你有美好的一天！！！

* * *

## 回答 #3

> 赞同：9
> 
> 时间：2013-05-29T20:58:11.043

更快的方法是

> 右键单击项目---> 属性---> 构建路径---> 添加外部 jars--> 找到你的 android-xx.Jar 例如 android-17.jar

就我而言，我正在使用 adt，它就在这里

> E:\adt-bundle-windows-x86_64-20130219\adt-bundle-windows-x86_64-20130219\sdk\platforms\android-17

希望能帮助到你

* * *

## 回答 #4

> 赞同：4
> 
> 时间：2013-06-25T18:35:30.063

当我尝试使用 eGit 合并一个 Android 项目的两个分支时，这发生在我身上。由于某种原因，我的构建路径基本上消失了（可能其中一个文件未被跟踪）。

要取回 JRE 和 android 库，我只需在项目资源管理器中右键单击项目，然后点击 Android 工具 -> 修复项目属性（这些选项仅在您安装了 Android ADT 时可用）。

* * *

## 回答 #5

> 赞同：3
> 
> 时间：2014-11-01T06:33:44.643

试试这个：

转到`Build Path`-> `Libraries`-> `Add Library`-> `JRE System Library`->`Select JRE`

我不确定，但您`JRE System Library`的项目中可能会丢失，这不会经常发生，但有可能。

* * *

## 回答 #6

> 赞同：2
> 
> 时间：2014-03-12T15:38:45.480

我刚刚遇到了这个问题，我所要做的就是清理整个工作区，即工作区中的所有项目。错误消失了。

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2013-11-01T18:38:04.827

安装较新版本的 Google ADT 后，我遇到了这个问题。至少运行 OS X 的解决方案是将项目副本复制到安全位置，从 Eclipse 中将其完全删除，然后使用 File->Import->General->Existing Projects 再次将其导入 Workspace。

供参考

我在 OS X Mavericks Android 开发者工具上使用 Google 的版本：v22.2.1-833290

但我几乎可以肯定我过去使用过以前的 OSX 和 ADT 版本。

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2014-01-03T11:54:45.527

`.classpath`我也遇到了这个问题，就我而言，问题是当前项目的文件中缺少以下行：

`<classpathentry kind="con" path="org.eclipse.jdt.launching.JRE_CONTAINER"/>`

添加它为我解决了这个问题。

* * *

## 回答 #9

> 赞同：-1
> 
> 时间：2015-06-05T07:22:27.797

此错误是因为**“Android Private Libraries”**之一已损坏或版本错误。就我而言，它是**android-support-v4.jar**。我用一个工作项目中的一个替换它并且它有效。

# javascript - 构建一个爬虫，如果一个页面不使用jQuery怎么办？

> ID：15757411
> 
> 赞同：0
> 
> 时间：2013-04-02T06:18:22.187
> 
> 标签：javascript, jquery, web-scraping, screen-scraping

我正在使用刮刀，我想刮掉某些网​​站，但在 ID 或类上使用 jQuery 不会返回任何内容，这意味着他们没有在他们的网站上使用 jQuery。

如何为不使用 jQuery 的网站（例如 CNN 或 Instapaper.com）构建我的爬虫？

我已经尝试过`$$`，但我似乎无法找到方法来调用它来获取孩子或 div 的值之类的东西。

任何建议都会非常有帮助！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-02T06:27:22.427

看看[jQueryfy](http://www.learningjquery.com/2006/12/jquerify-bookmarklet)。它似乎完全符合您的需要。但是使用本机 javascript 可能是一个更好的主意。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-02T06:34:28.400

**自己注入 jQuery。**

```
var script = document.createElement("script");
script.type = "text/javascript";
script.src = "//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js";
var body = document.getElementsByTagName("body")[0];
body.appendChild(script); 
```

*注意：*这也非常适合作为浏览器书签 - 在调试不使用 jQuery 的应用程序时，这会产生奇迹。

# .net - .NET 反射 - 将数组类型的属性值转换为逗号分隔的字符串

> ID：15757412
> 
> 赞同：7
> 
> 时间：2013-04-02T06:18:24.843
> 
> 标签：.net, arrays, reflection

我正在使用反射检查 .NET 对象以将它们转储到日志中。

我遇到了一个障碍——如果属性是数组类型怎么办？我确实得到了`PropertyInfo`该属性的结构，我可以看到该属性是一个数组，我什至可以得到该数组属性的值：

```
if(propertyInfo.PropertyType.IsArray)
{
    var value = propertyInfo.GetValue(myObject, null);
} 
```

但现在我被困住了。当我查看 Visual Studio 调试器时，它显示为`int[3]`- 所以 VS 知道它是一个由三个整数组成的数组 - 但是我现在如何将其转换为代表这三个整数的逗号分隔字符串？

我尝试过类似的事情

```
string.Join(", ", value); 
```

和其他人 - 但我一直在努力解决`value`“动态”的事实，例如它可能是 a`int[]`或 a`decimal[]`甚至是其他东西 - 所以我不能静态输入它......如果我不输入它，那么返回奇怪的`string.Join()`结果（绝对不是我要找的......）

有没有什么聪明的方法可以将这个“一些东西的数组”转换为一个逗号分隔的字符串，而不需要很多`if(...)`and`else { .... }`子句？

不知何故，我现在正处于大脑冻结状态 - 任何解冻这种冻结的想法都将受到欢迎！

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-04-02T06:27:57.903

好吧，似乎解决此问题的最简单方法是将其转换为`IEnumerable<object>`. 像这样：

```
if(propertyInfo.PropertyType.IsArray)
{
    var values = (IEnumerable)propertyInfo.GetValue(myObject, null);
    var stringValue = string.Join(", ", values.OfType<object>());
} 
```

虽然，由于[c# 中的数组协变](http://blogs.msdn.com/b/ericlippert/archive/2007/10/17/covariance-and-contravariance-in-c-part-two-array-covariance.aspx)，如果`values`是*引用类型*的数组，它应该可以转换为`object[]`. 对于这种情况，您可以改用它：

```
if(propertyInfo.PropertyType.IsArray)
{
    var values = (IEnumerable)propertyInfo.GetValue(myObject, null);
    var elementType = propertyInfo.PropertyType.GetElementType();
    if (elementType != null && !elementType.IsValueType)
    {
        var stringValue = string.Join(", ", (object[])values);
    }
    else
    {
        var stringValue = string.Join(", ", values.OfType<object>());
    }
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-02T06:28:18.650

这是适用于包括数组在内的所有类型的集合的最简单的解决方案（这`IEnumerable`是我们能想到的最不常见的基础）：

`string.Join(", ", ((IEnumerable)value).Cast<object>().Select(i => i.ToString()));`

# iphone - 如何防止捏到缩放手势自动旋转我的 AVCapture 图层？

> ID：15757416
> 
> 赞同：1
> 
> 时间：2013-04-02T06:18:37.940
> 
> 标签：iphone, ios, objective-c

Objective-C，iPhone iOS 6.0

下面的代码很好地支持纵向方向，但是当我尝试横向时，捏缩放自动将其旋转回尴尬的纵向模式（但在横向视图中）。

```
@implementation AVCapture
{
    CGFloat     beginGestureScale;
    CGFloat     effectiveScale;
}

- (id)initWithView:(UIView *)cameraView
{
    ......

    self.previewLayer = [[AVCaptureVideoPreviewLayer alloc] initWithSession:self.captureSession];

    [self rotateToInterfaceOrientation:(UIInterfaceOrientation)[UIDevice currentDevice].orientation];

    [self.previewLayer setVideoGravity:AVLayerVideoGravityResizeAspectFill];
    self.previewLayer.frame = cameraView.frame;
    [self.previewLayer setPosition:CGPointMake(CGRectGetMidX(cameraView.bounds), CGRectGetMidY(cameraView.bounds))];
    [cameraView.layer addSublayer:self.previewLayer];

    effectiveScale = 1.0;

    ......
}

- (void)rotateToInterfaceOrientation:(UIInterfaceOrientation)toInterfaceOrientation
{
    CALayer *previewLayer = self.previewLayer;

    switch (toInterfaceOrientation)
    {
        case UIDeviceOrientationLandscapeLeft:
            previewLayer.transform = CATransform3DMakeRotation(M_PI+M_PI_2, 0, 0, 1); // 270 degress
            break;

        case UIDeviceOrientationLandscapeRight:
            previewLayer.transform = CATransform3DMakeRotation(M_PI_2, 0, 0, 1); // 270 degress
            break;

        case UIDeviceOrientationPortraitUpsideDown:
            previewLayer.transform = CATransform3DMakeRotation(M_PI, 0, 0, 1); // 270 degress
            break;

        default:
            previewLayer.transform = CATransform3DMakeRotation(0.0, 0, 0, 1); // 270 degress
            break;
    }

}

// - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
#pragma mark Pinch to Zoom Gestures
// - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
- (BOOL)gestureRecognizerShouldBegin:(UIGestureRecognizer *)gestureRecognizer
{
    if ( [gestureRecognizer isKindOfClass:[UIPinchGestureRecognizer class]] )
        beginGestureScale = effectiveScale;

    return YES;

}

- (void)handlePinchGesture:(UIPinchGestureRecognizer *)recognizer
{
    if ([recognizer numberOfTouches] < 2)
        return;

    BOOL allTouchesAreOnThePreviewLayer = YES;
    NSUInteger numTouches = [recognizer numberOfTouches], i;

    for (i=0; i<numTouches; ++i)
    {
        CGPoint location = [recognizer locationOfTouch:i inView:m_CameraView];
        CGPoint convertedLocation = [self.previewLayer convertPoint:location fromLayer:self.previewLayer.superlayer];

        if (![self.previewLayer containsPoint:convertedLocation])
        {
            allTouchesAreOnThePreviewLayer = NO;
            break;
        }
    }

    if (allTouchesAreOnThePreviewLayer)
    {
        effectiveScale = beginGestureScale * recognizer.scale;

        if (effectiveScale < 1.0)
            effectiveScale = 1.0;

        CGFloat maxScaleAndCropFactor = [[self.stillImageOutput connectionWithMediaType:AVMediaTypeVideo] videoMaxScaleAndCropFactor];

        if (effectiveScale > maxScaleAndCropFactor)
            effectiveScale = maxScaleAndCropFactor;

        [CATransaction begin];
        [CATransaction setAnimationDuration:.025];

        // Scale
        [self.previewLayer setAffineTransform:CGAffineTransformMakeScale(effectiveScale, effectiveScale)];

        [CATransaction commit];
    }

} 
```

我似乎无法弄清楚如何保持我的转变。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-02T07:58:36.543

类似的问题已在此处得到解答：[UIView rotates while scaling using CGAffineTransformMakeScale](https://stackoverflow.com/questions/6218382/uiview-rotates-while-scaling-using-cgaffinetransformmakescale)

在我看来，由于您是`previewLayer`手动旋转，因此您需要相应地调整识别器，因为您正在通过缩放覆盖变换。发生这种情况是因为转换是绝对的，或者至少我是这么认为的。

如何使用`CGAffineTransformScale`（正如我已链接的问题中所建议的那样），您可以在哪里传递 的原始转换`previewLayer`以及您想要的比例？

编辑这里是这个问题的文档：[https://developer.apple.com/library/mac/#documentation/graphicsimaging/reference/CGAffineTransform/Reference/reference.html](https://developer.apple.com/library/mac/#documentation/graphicsimaging/reference/CGAffineTransform/Reference/reference.html) 在那里你可以看到这`CGAffineTransformMakeScale`是用于**创建**转换，并且`CGAffineTransformScale`是**改变**它们，我相信这就是你所需要的。

编辑2

```
[UIView animateWithDuration:.25 animations:^{
   self.previewLayer.transform = CGAffineTransformScale(self.previewLayer.transform, effectiveScale, effectiveScale);
                 }]; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-04T00:45:33.487

解决了！

发现[这个](https://stackoverflow.com/a/12726030/7599)：“......改变预览层的方向不会改变图片的捕获方式。因为`AVCaptureConnection's setVideoOrientation:`需要使用该方法。”

..还有[这个](https://stackoverflow.com/a/12677074/7599)。

```
[captureVideoPreviewLayer.connection setVideoOrientation:self.interfaceOrientation]; 
```

所以我替换了这个：

```
[self rotateToInterfaceOrientation:(UIInterfaceOrientation)[UIDevice currentDevice].orientation]; 
```

有了这个：

```
[self.previewLayer.connection setVideoOrientation:[UIDevice currentDevice].orientation]; 
```

现在它在横向模式下一切正常+捏缩放。:)

# actionscript-3 - 如何从复制的加载程序访问影片剪辑

> ID：15757417
> 
> 赞同：0
> 
> 时间：2013-04-02T06:18:39.410
> 
> 标签：actionscript-3, flash-cs5

我无法访问复制的加载程序的影片剪辑和子影片剪辑。我正在加载类似的 swf，

```
var ldr:Loader = new Loader();
var urlReq:URLRequest = new URLRequest("myswf.swf");
ldr.load(urlReq); 
```

并用它在舞台上展示，

```
stage.addChild(ldr);
(ldr.content as MovieClip).star.gotoAndStop(2); 
```

我需要这个的副本，所以我使用代码复制了它，

```
var newLoader:Loader = new Loader();
newLoader.loadBytes(ldr.contentLoaderInfo.bytes); 
```

并将其用作，

```
var myObj:DisplayObject = newLoader;
tempMC.addChild(myObj); 
```

现在实际加载的 swf 里面有一个叫做“star”的movieClip，我该如何使用它？？？请帮忙.... ：（

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-02T19:25:17.560

```
import flash.display.MovieClip;
import flash.display.DisplayObject;

var ldr:Loader = new Loader();
var urlReq:URLRequest = new URLRequest("myswf.swf");
ldr.contentLoaderInfo.addEventListener(Event.COMPLETE, loaderComplereHandler);
ldr.load(urlReq);

function loaderComplereHandler(event:Event) :void {
    event.target.removeEventListener(Event.COMPLETE, loaderComplereHandler);
    var mc:MovieClip = event.target.content as MovieClip;
    addChild(mc);
    mc.getChildByName("star").rotation=50;

    var newLoader:Loader = new Loader();
    newLoader.contentLoaderInfo.addEventListener(Event.COMPLETE, loaderCopyComplereHandler);
    newLoader.loadBytes(ldr.contentLoaderInfo.bytes);
}

function loaderCopyComplereHandler(event:Event) :void {
    event.target.removeEventListener(Event.COMPLETE, loaderCopyComplereHandler);
    var mc2:MovieClip = event.target.content as MovieClip;
    mc2.x = 100;
    addChild(mc2);
    mc2.getChildByName("star").rotation=90;
} 
```

你也不需要复制`ldr`with `loadBytes`。您可以使用在加载完成后`ldr`制作许多实例...`myswf.swf`

# windows-runtime - Windows Store App 中表单验证的最佳方式

> ID：15757419
> 
> 赞同：0
> 
> 时间：2013-04-02T06:18:49.800
> 
> 标签：windows-runtime, windows-store-apps, windows-store

我正在开发 Windows 应用商店应用程序（C# + XAML），其中我正在开发用户注册表单。我想验证文本框字段是否具有有效文本。文本框验证的最佳方法是什么？谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-02T06:41:31.853

如果您想一次验证所有文本框，那么您应该在单击保存按钮或任何其他事件时进行验证。如果任何文本框依赖于另一个文本框，那么您应该在`LostFocus`事件中进行验证。

# java - 从java类调用jsp页面在dreamviewer中打开它那么我如何在eclipse本身中打开jsp页面？

> ID：15757425
> 
> 赞同：0
> 
> 时间：2013-04-02T06:19:13.567
> 
> 标签：java, jsp, dreamweaver

我有一个普通的 java 类，它在控制转到 JSP 页面后立即调用 JSPpage，页面本身在 Dreamweaver 中打开，但我希望它在 eclipse 中使用其默认浏览器打开。我怎样才能做到这一点？

这是我的代码：

```
String htmlFilePath = "WebContent/raja.
File htmlFile = new File(htmlFilePath);
Desktop.getDesktop().browse(htmlFile.toURI());
Desktop.getDesktop().open(htmlFile); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-02T07:37:56.740

您的意思是说您有一个简单的 Java 独立桌面应用程序而不是 Web 应用程序？

如果是，那么 JSP 需要执行一个 servlet 容器。

但是从您的代码的外观看来，您似乎并没有尝试执行，而只是获取 JSP，该 JSP 将被获取，就像获取其他文件一样（例如扩展名为`.html`, `.txt`, `.jsp`, `.php`, 的文件`.doc`）。

> 页面本身在 Dreamweaver 中打开，但我希望它在 eclipse 中使用其默认浏览器打开

我希望你已经阅读了[Desktop#open](http://docs.oracle.com/javase/6/docs/api/java/awt/Desktop.html#open%28java.io.File%29)方法的 API，它清楚地表明：

> 启动关联的应用程序以打开文件。
> 
> 如果指定的文件是目录，则启动当前平台的文件管理器打开它。

因此，这意味着如果您要获取的文件具有`.doc`扩展名，它将在 MS-WORD 中打开文件，如果扩展名是`.txt`，它可能会打开`notepad`或任何配置为默认关联应用程序的文本编辑器。

因此，带有`.jsp`扩展名的文件似乎将dreamweaver 作为默认关联应用程序。所以这似乎是底层平台的配置而不是代码问题。

目前我不知道是否可以通过代码动态更改特定文件扩展名的默认关联应用程序。

这个问题也可能有帮助：[如何使用默认关联程序打开文件](https://stackoverflow.com/questions/550329/how-to-open-a-file-with-the-default-associated-program)

# vb.net - 程序在 30 分钟后无响应

> ID：15757434
> 
> 赞同：-1
> 
> 时间：2013-04-02T06:19:51.777
> 
> 标签：vb.net, browser, refresh

我制作了一个应用程序，可以登录社交网络并不断检查非活动帐户何时被重置。在这种情况下，我在他们的网站上使用 Xbox 的免费玩家代号更改来查看这些名称何时重置。我创建了一个应用程序，我在其中登录 Xbox.com 并导航以更改网络浏览器上的玩家标签页面，在该页面中，我在文本框中输入我想要的玩家标签（一个将很快重置的非活动标签），我点击“自动点击”按钮，并且它不断尝试声明帐户名称。所以我创建了这个脚本，但后来我意识到它会很快超时。该程序在快速时只会持续大约 10 分钟（有 3 种速度，慢 - 中 - 快），但在慢速时会持续更长时间。然而，我意识到我必须每隔几秒钟刷新一次页面才能让它工作更长时间。一旦我这样做了，应用程序就会更加持久，并且持续了大约 30 多分钟。但是，它仍然超时。有些人制作的这些脚本可以持续几天，但我的目标只是有一天。所以我问是否有人知道我可以如何改进这一点？这是我的脚本的一部分。我有一个按钮，一旦点击，计时器就会自动点击索赔按钮。

所以我的按钮：

```
Private Sub Button1_Click_1(ByVal sender As System.Object, ByVal e As System.EventArgs) Handles Button1.Click
    If RadioButton1.Checked = True Then
        Timer1.Interval = 40
    ElseIf RadioButton2.Checked = True Then
        Timer1.Interval = 175
    Else
        Timer1.Interval = 500
    End If

    If ((WebBrowser1.IsBusy)) Then

    Else

        Timer1.Enabled = True

    End If

End Sub 
```

然后是 Timer1，它执行自动点击，但也具有刷新属性以使其更耐用：

```
 Private Sub Timer1_Tick(ByVal sender As System.Object, ByVal e As System.EventArgs) Handles Timer1.Tick

    If Not number_of_ticks > 170 Then
        number_of_ticks += 1
        If ((WebBrowser1.IsBusy)) Then
        Else
            If WebBrowser1.Url.ToString = "https://live.xbox.com/en-US/ChangeGamertag" Then

                WebBrowser1.Document.GetElementById("NewGamertag").SetAttribute("value", txtTurbo.Text)

                WebBrowser1.Document.GetElementById("claimIt").InvokeMember("Click")
            Else

                WebBrowser1.Navigate("https://live.xbox.com/en-US/ChangeGamertag")

            End If
        End If

    Else
        'number_of_ticks has exceed the maximum amount of allowed ticks
        Timer1.Enabled = False
        WebBrowser1.Refresh()

        number_of_ticks = 0
        Timer1.Enabled = True

    End If

End Sub 
```

我不确定有很多方法可以让它持续更长时间，但如果有人对如何做到这一点有任何线索，我将非常感激。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-02T09:05:13.840

根据您的描述，您似乎是在说刷新页面的频率越高，注销的时间就越短。Timer 的间隔属性以毫秒为单位，目前您的最慢设置是 170 个滴答声，每个滴答声 500 毫秒。因此，您每 85 秒检查一次该昵称现在是否可用。我认为你可以妥协很多，而不是将间隔设置为 1000 或 2000。

您的另一个选择是每 30 分钟导航到登录页面并再次登录？

附言。

而不是使用：

```
If ((WebBrowser1.IsBusy)) Then
    Else
        'code 
```

你可以只使用：

```
If not WebBrowser1.IsBusy Then
    'code 
```

它看起来更容易阅读 imo。

侧边栏：我认为你的程序很酷:)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-02T14:53:08.207

几年来我没有使用过 WebBrowser 对象，但我相信你可能会被卡在无止境`WebBrowser1.IsBusy`的 . 它类似于当您浏览到一个页面时，有时它永远不会结束加载。在这种情况下，您需要有某种超时机制来停止，`WebBrowser1.Stop`然后尝试再次导航到该页面。

或者干脆忽略 isbusy 并在刷新页面之前强制停止。增加计时器，因为您最长的 500 计时器实际上是 500 毫秒，即 0.5 秒 - 您的网页加载速度可能不会那么快。

# algorithm - DFS 和 c-Expander 图 - 长度为 n-2c+1 的简单路径

> ID：15757436
> 
> 赞同：0
> 
> 时间：2013-04-02T06:20:13.133
> 
> 标签：algorithm, graph, nodes, depth-first-search, vertex

为了清楚起见 - c-Expander 图是一个有向图 G(V,E)，有 2 个不相交集（A 和 B），大小等于或大于 c，在 A 的节点和 B 的节点之间至少有一个 Vertex .

我必须证明该图中有一条长度为 n-2c+1 的简单有向路径。

有任何想法吗？

（我得到的提示 - 证明在运行 DFS 时有一个阶段，黑色节点的数量等于白色节点的数量，其中 BLACK 节点是我们完成工作的节点，WHITE 节点是我们尚未处理的节点开始工作）

# character-encoding - 玩2.1：表单提交不能提交汉字

> ID：15757437
> 
> 赞同：0
> 
> 时间：2013-04-02T06:20:14.337
> 
> 标签：character-encoding, playframework-2.1

我想投一篇有汉字的文章，但是当我点击提交按钮时，没有任何反应，但是汉字变成了???? ? play是uft-8编码，不知道为什么会这样

# c - 通过 OpenCV 跟踪打印眼睛坐标

> ID：15757439
> 
> 赞同：1
> 
> 时间：2013-04-02T06:20:29.093
> 
> 标签：c, opencv, coordinates, eye-tracking

我设法执行了一些简单的面部和眼睛检测/跟踪。它不太准确，但它确实有效。我想知道 OpenCV 库中是否有某种方法可以提取眼睛和面部移动时的坐标，并在控制台中实时打印出来。或者甚至可以将这些坐标保存在输出文件中。

更新（面部和眼睛检测代码）：

`int detect( IplImage* img, const char* cascade_name ) {`

 ````
static CvMemStorage* storage = 0;

static CvHaarClassifierCascade* cascade = 0;

int scale = 1;
int i;
IplImage* temp = cvCreateImage( cvSize(img->width/scale,img->height/scale), 8, 3 ); 
```

//Load Cascade

```
cascade = (CvHaarClassifierCascade*)cvLoad( cascade_name, 0, 0, 0 );

if( !cascade )
{
    fprintf( stderr, "ERROR: Could not load classifier cascade!\n" );
    return 0;
}

storage = cvCreateMemStorage(0);
cvClearMemStorage( storage );
int faceDetected = 0;
if( cascade )
{
    //In case there is more than one face
    CvSeq* faces = cvHaarDetectObjects( img, cascade, storage,
                                       1.1, 2, CV_HAAR_DO_CANNY_PRUNING,
                                       cvSize(40, 40) );

    faceDetected = (faces ? faces->total : 0);

    for( i = 0; i < (faces ? faces->total : 0); i++ )
    {

        CvRect* r = (CvRect*)cvGetSeqElem( faces, i ); 
```

//Maybe this is where I get the coordinates?

```
 pt1.x = r->x*scale;
        pt2.x = (r->x+r->width)*scale;
        pt1.y = r->y*scale;
        pt2.y = (r->y+r->height)*scale; 
```

//Draw rectangle over face

```
 cvRectangle( img, pt1, pt2, CV_RGB(255,0,0), 3, 8, 0 );

    }
}
cvReleaseImage( &temp );   
return faceDetected; 
```` 

`}`

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-02T07:03:24.360

可能这就是你想要的：

```
for( i=0 ; i< faces->total; i++ )
{
 CvRect* r = (CvRect*)cvGetSeqElem( faces, i );
 printf("( %d %d ) , ( %d %d) ", r->x, r->y, r->x + r->width, r->y + r->height ); 
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-02T07:04:08.783

[这](http://docs.opencv.org/doc/tutorials/objdetect/cascade_classifier/cascade_classifier.html#cascade-classifier)是一个内置在 opencv 中的简单人脸检测。他们用另一个人的脸来检测眼睛`CascadeClassifier`。`CascadeClassifiers`您可以从[opencv 存储库](http://code.opencv.org/projects/opencv/repository/revisions/master/show/data)下载现有列表并根据需要使用它们。如果它们都不满足您的要求，您可以随时训练自己的分类器，例如按照[本教程](http://docs.opencv.org/trunk/doc/user_guide/ug_traincascade.html)进行操作。

# xslt - 如何使用 xls:if 根据节点的存在来填充表

> ID：15757441
> 
> 赞同：0
> 
> 时间：2013-04-02T06:20:46.437
> 
> 标签：xslt

我是 xslt 的新手，我正在尝试从 xlm 文件以 html 格式创建输出表。我坚持以下要求：如果家庭地址存在，我需要提取，如果不存在，我需要使用工作地址。我正在编写代码以检查并将家庭 Address_Line_1 插入我的表中。这是我正在使用的xml：

```
<env:Envelope xmlns:env="http://schemas.xmlsoap.org/soap/envelope/">
    <env:Body>
      <wd:Get_Workers_Response wd:version="v17" xmlns:wd="urn:com.workday/bsvc">
       <wd:Request_Criteria>
        <wd:Organization_Reference wd:Descriptor="MMM Money Market Mansion (Marcia Menos)">
           <wd:ID wd:type="WID">f10da305867044b8a30c67671e4034c1</wd:ID>
           <wd:ID wd:type="Organization_Reference_ID">SUPERVISORY_ORGANIZATION-1-219</wd:ID>
        </wd:Organization_Reference>
     </wd:Request_Criteria>
     <wd:Response_Results>
        <wd:Total_Results>5</wd:Total_Results>
        <wd:Total_Pages>1</wd:Total_Pages>
        <wd:Page_Results>5</wd:Page_Results>
        <wd:Page>1</wd:Page>
     </wd:Response_Results>
     <wd:Response_Data>
        <wd:Worker>
           <wd:Worker_Reference wd:Descriptor="Gabriel Bezerra">
              <wd:ID wd:type="WID">1efbe4be1e764a4d8dd205ee6550cafb</wd:ID>
              <wd:ID wd:type="Employee_ID">21305</wd:ID>
           </wd:Worker_Reference>
           <wd:Worker_Data>
              <wd:Worker_ID>21305</wd:Worker_ID>
              <wd:User_ID>gbezerra</wd:User_ID>
              <wd:Personal_Data>
                 <wd:Name_Data>
                    <wd:Legal_Name_Data>
                       <wd:Name_Detail_Data wd:Formatted_Name="Gabriel Bezerra" wd:Reporting_Name="Bezerra, Gabriel">
                          <wd:Country_Reference wd:Descriptor="Brazil">
                             <wd:ID wd:type="WID">1a29bb1357b240ab99a2fa755cc87c0e</wd:ID>
                             <wd:ID wd:type="ISO_3166-1_Alpha-2_Code">BR</wd:ID>
                             <wd:ID wd:type="ISO_3166-1_Alpha-3_Code">BRA</wd:ID>
                             <wd:ID wd:type="ISO_3166-1_Numeric-3_Code">76</wd:ID>
                          </wd:Country_Reference>
                          <wd:First_Name>Gabriel</wd:First_Name>
                          <wd:Last_Name>Bezerra</wd:Last_Name>
                       </wd:Name_Detail_Data>
                    </wd:Legal_Name_Data>
                    <wd:Preferred_Name_Data>
                       <wd:Name_Detail_Data wd:Formatted_Name="Gabriel Bezerra" wd:Reporting_Name="Bezerra, Gabriel">
                          <wd:Country_Reference wd:Descriptor="Brazil">
                             <wd:ID wd:type="WID">1a29bb1357b240ab99a2fa755cc87c0e</wd:ID>
                             <wd:ID wd:type="ISO_3166-1_Alpha-2_Code">BR</wd:ID>
                             <wd:ID wd:type="ISO_3166-1_Alpha-3_Code">BRA</wd:ID>
                             <wd:ID wd:type="ISO_3166-1_Numeric-3_Code">76</wd:ID>
                          </wd:Country_Reference>
                          <wd:First_Name>Gabriel</wd:First_Name>
                          <wd:Last_Name>Bezerra</wd:Last_Name>
                       </wd:Name_Detail_Data>
                    </wd:Preferred_Name_Data>
                 </wd:Name_Data>
                 <wd:Gender_Reference wd:Descriptor="Male">
                    <wd:ID wd:type="WID">d3afbf8074e549ffb070962128e1105a</wd:ID>
                    <wd:ID wd:type="Gender_Code">Male</wd:ID>
                 </wd:Gender_Reference>
                 <wd:Birth_Date>1980-08-13-07:00</wd:Birth_Date>
                 <wd:Marital_Status_Reference wd:Descriptor="Single (United States of America)">
                    <wd:ID wd:type="WID">0c855e50cb12452487de0caf7f262d4f</wd:ID>
                    <wd:ID wd:type="Marital_Status_ID">Single_USA</wd:ID>
                 </wd:Marital_Status_Reference>
                 <wd:Disability_Reference wd:Descriptor="Hearing Impairment (United States of America)">
                    <wd:ID wd:type="WID">a59abdaa91474e26a4fe3c55ec3775ef</wd:ID>
                    <wd:ID wd:type="Disability_ID">Hearing_Impairment_USA</wd:ID>
                 </wd:Disability_Reference>
                 <wd:Hispanic_or_Latino>0</wd:Hispanic_or_Latino>
                 <wd:Citizenship_Status_Reference wd:Descriptor="Citizen (United States of America)">
                    <wd:ID wd:type="WID">2ec46eb7edcc4d5aa97af54147204e0e</wd:ID>
                    <wd:ID wd:type="Citizenship_Status_Code">USA_Citizen</wd:ID>
                 </wd:Citizenship_Status_Reference>
                 <wd:Military_Service_Data>
                    <wd:Status_Reference wd:Descriptor="0 - Inactive (United States of America)">
                       <wd:ID wd:type="WID">dee05ff9af5341f08c5b0cc651d86f9b</wd:ID>
                       <wd:ID wd:type="Military_Status_ID">Inactive_USA</wd:ID>
                    </wd:Status_Reference>
                    <wd:Discharge_Date>2012-08-01-07:00</wd:Discharge_Date>
                 </wd:Military_Service_Data>
                 <wd:Identification_Data>
                    <wd:National_ID>
                       <wd:National_ID_Reference wd:Descriptor="001-33-3450 (USA-SSN)">
                          <wd:ID wd:type="WID">af5e69b72e2a404c8cd8c7383302f036</wd:ID>
                       </wd:National_ID_Reference>
                       <wd:National_ID_Data>
                          <wd:ID>001333450</wd:ID>
                          <wd:ID_Type_Reference wd:Descriptor="Social Security Number (SSN)">
                             <wd:ID wd:type="WID">93636994cfe84825a1daaa933cbba7e7</wd:ID>
                             <wd:ID wd:type="National_ID_Type_Code">USA-SSN</wd:ID>
                          </wd:ID_Type_Reference>
                          <wd:Country_Reference wd:Descriptor="United States of America">
                             <wd:ID wd:type="WID">bc33aa3152ec42d4995f4791a106ed09</wd:ID>
                             <wd:ID wd:type="ISO_3166-1_Alpha-2_Code">US</wd:ID>
                             <wd:ID wd:type="ISO_3166-1_Alpha-3_Code">USA</wd:ID>
                             <wd:ID wd:type="ISO_3166-1_Numeric-3_Code">840</wd:ID>
                          </wd:Country_Reference>
                          <wd:Verification_Date>2012-08-13-07:00</wd:Verification_Date>
                       </wd:National_ID_Data>
                    </wd:National_ID>
                 </wd:Identification_Data>
                 <wd:Contact_Data>
                    <wd:Address_Data wd:Effective_Date="2000-01-01-08:00" wd:Address_Format_Type="Extended" wd:Formatted_Address="Av Cmte Júlio Moura, 900&amp;#xa;Barra de Tijuca&amp;#xa;Rio de Janeiro- RJ&amp;#xa;22621-252&amp;#xa;Brazil" wd:Defaulted_Business_Site_Address="0">
                       <wd:Country_Reference wd:Descriptor="Brazil">
                          <wd:ID wd:type="WID">1a29bb1357b240ab99a2fa755cc87c0e</wd:ID>
                          <wd:ID wd:type="ISO_3166-1_Alpha-2_Code">BR</wd:ID>
                          <wd:ID wd:type="ISO_3166-1_Alpha-3_Code">BRA</wd:ID>
                          <wd:ID wd:type="ISO_3166-1_Numeric-3_Code">76</wd:ID>
                       </wd:Country_Reference>
                       <wd:Last_Modified>2009-06-06T20:07:49.246-07:00</wd:Last_Modified>
                       <wd:Address_Line_Data wd:Type="ADDRESS_LINE_1" wd:Descriptor="Street Name">Av Cmte Júlio Moura</wd:Address_Line_Data>
                       <wd:Address_Line_Data wd:Type="ADDRESS_LINE_3" wd:Descriptor="House Number">900</wd:Address_Line_Data>
                       <wd:Municipality>Rio de Janeiro</wd:Municipality>
                       <wd:Submunicipality_Data>Barra de Tijuca</wd:Submunicipality_Data>
                       <wd:Country_Region_Reference wd:Descriptor="Rio de Janeiro">
                          <wd:ID wd:type="WID">e88c3d7cdb2b4a8b8120ede0b16e2186</wd:ID>
                          <wd:ID wd:type="Country_Region_ID">BRA-RJ</wd:ID>
                       </wd:Country_Region_Reference>
                       <wd:Postal_Code>22621-252</wd:Postal_Code>
                       <wd:Usage_Data wd:Public="0">
                          <wd:Type_Data wd:Primary="1">
                             <wd:Type_Reference wd:Descriptor="Home">
                                <wd:ID wd:type="WID">836cf00ef5974ac08b786079866c946f</wd:ID>
                                <wd:ID wd:type="Communication_Usage_Type_ID">HOME</wd:ID>
                             </wd:Type_Reference>
                          </wd:Type_Data>
                          <wd:Use_For_Reference wd:Descriptor="Street Address">
                             <wd:ID wd:type="WID">f785430145674364a613cd56086942c4</wd:ID>
                             <wd:ID wd:type="Communication_Usage_Behavior_ID">STREET</wd:ID>
                          </wd:Use_For_Reference>
                          <wd:Use_For_Reference wd:Descriptor="Mailing">
                             <wd:ID wd:type="WID">9385649a0c4b4ddea7fb0d823c2f1bcd</wd:ID>
                             <wd:ID wd:type="Communication_Usage_Behavior_ID">MAILING</wd:ID>
                          </wd:Use_For_Reference>
                       </wd:Usage_Data>
                    </wd:Address_Data>
                    <wd:Address_Data wd:Effective_Date="2000-01-01-08:00" wd:Address_Format_Type="Basic" wd:Formatted_Address="3755 Peachtree Road NE&amp;#xa;Atlanta, GA 30305&amp;#xa;United States of America" wd:Defaulted_Business_Site_Address="1">
                       <wd:Country_Reference wd:Descriptor="United States of America">
                          <wd:ID wd:type="WID">bc33aa3152ec42d4995f4791a106ed09</wd:ID>
                          <wd:ID wd:type="ISO_3166-1_Alpha-2_Code">US</wd:ID>
                          <wd:ID wd:type="ISO_3166-1_Alpha-3_Code">USA</wd:ID>
                          <wd:ID wd:type="ISO_3166-1_Numeric-3_Code">840</wd:ID>
                       </wd:Country_Reference>
                       <wd:Last_Modified>2011-06-20T13:54:02.466-07:00</wd:Last_Modified>
                       <wd:Address_Line_Data wd:Type="ADDRESS_LINE_1" wd:Descriptor="Address Line 1">3755 Peachtree Road NE</wd:Address_Line_Data>
                       <wd:Municipality>Atlanta</wd:Municipality>
                       <wd:Country_Region_Reference wd:Descriptor="Georgia">
                          <wd:ID wd:type="WID">dec8eabbb13d45bdb159b8e25d896110</wd:ID>
                          <wd:ID wd:type="Country_Region_ID">USA-GA</wd:ID>
                       </wd:Country_Region_Reference>
                       <wd:Postal_Code>30305</wd:Postal_Code> 
```

这是我遇到问题的 xslt 部分。它没有给我任何错误代码，但它什么也不做：

```
<xsl:for-each select="env:Envelope/env:Body/wd:Get_Workers_Response/wd:Response_Data/wd:Worker/wd:Worker_Data">
    <tr>
       <td><xsl:value-of select="wd:Worker_ID"/></td>
       <td><xsl:value-of select= "wd:Personal_Data/wd:Name_Data/wd:Legal_Name_Data/wd:Name_Detail_Data/wd:Last_Name"/></td>
       <td><xsl:value-of select= "wd:Personal_Data/wd:Name_Data/wd:Legal_Name_Data/wd:Name_Detail_Data/wd:First_Name"/></td> 
       <td><xsl:if test = "wd:Personal_Data/wd:Contact_Data/wd:Address_Data/wd:Address_Line_Data[@wd:Type = ADDRESS_LINE_1]"><xsl:value-of select="wd:Personal_Data/wd:Contact_Data/wd:Address_Data/wd:Address_Line_Data[@wd:Type = ADDRESS_LINE_1]"/></xsl:if></td> 
```

前三列填充得很好，但带有 if 语句的第四列什么也不做。根据收到的先前建议，我消除了 xsl:if 语句中路径开头的杂散“/”，但它仍然什么都不做。有任何想法吗？感谢您的帮助，提前感谢，并感谢那些已经发表评论的人！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-02T07:42:07.897

您显示的 XSLT 片段的问题是`/`在 xpath 表达式的开头使用了符号：

```
<xsl:if test = "/wd:Personal_Data/.... 
```

通过以这个正斜杠开始 xpath 表达式，这意味着它是一个绝对表达式，从顶级文档元素开始。您只需要一个相对表达式，相对于当前**wd:Worker_Data**元素

```
<xsl:if test = "wd:Personal_Data/wd:Contact_Data/wd:Address_Data/wd:Address_Line_Data[@wd:Type = ADDRESS_LINE_1]"> 
```

# javascript - 尝试在 javascript 中调用函数时出现“预期对象”错误

> ID：15757445
> 
> 赞同：2
> 
> 时间：2013-04-02T06:20:57.057
> 
> 标签：javascript, function

window.alert 功能不起作用，Internet Explorer 中的调试器突出显示

```
registerForm() 
```

在第 15 行的 onclick 事件中并给出错误“预期对象”。

```
<!DOCTYPE html>
<head>
<title></title>
<meta charset="utf-8" />
<script type="text/javscript">
/* <![CDATA[ */
function registerForm() {
window.alert("Function is working");
}
/* ]]> */
</script>
</head>
<body>
<form action="" method="get" enctype="application/x-www-form-urlencoded">
<p><input type="button" value="Register" onclick="registerForm();" /></p>
</form>
</body>
</html>
</body> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-02T06:27:22.817

改变

```
<script type="text/javscript"> 
```

到

```
<script type="text/javascript"> //you missed "a" in script tag 
```

# php - 我可以在 wordpress 主题功能中创建自己的 PHP 类吗？

> ID：15757448
> 
> 赞同：4
> 
> 时间：2013-04-02T06:21:08.803
> 
> 标签：php, wordpress

我为我的 wordpress 主题创建了一堆函数。我正在考虑将所有功能放在一个类中。这样我就可以使用以下方法调用它：

```
<?php $foo->function() ;?> 
```

我想知道如果我把我的函数放在 php 类中那么它会导致任何问题吗？？？请注意我在我的函数中使用 WordPress 函数。

**更新**

```
class foo{
    function js($files){
        $css    =   array($files);
        foreach($css as $style){
            wp_enqueue_script($style, get_template_directory_uri() . '/js/'.$style, array(), '', true );
        }

    }
}
$foo = new foo(); 
```

当我直接调用它时效果很好：

$foo->js('bootstrap-transition.js,bootstrap-modal.js,bootstrap-dropdown.js');

但是当我把它称为 insde 另一个这样的函数时：

```
function assets(){
    $foo->js('bootstrap-transition.js,bootstrap-modal.js,bootstrap-dropdown.js');
} 
```

然后它显示`Call to a member function on a non-object`错误

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2013-04-02T06:33:19.247

对于那些还不熟悉这些概念的人，这里是关于 PHP 中面向对象编程的基本入门。对象是容器。它们包含代表单个抽象实体的定义函数和变量。面向对象编程的这一特性称为封装。这意味着单个胶囊可能包含旨在协同工作的多个函数和变量的定义。

例如，如果您想操作在电子商务网站上销售的产品，您可以拥有一个代表该产品的对象。它可能包含一些定义产品名称、描述、价格等的变量。它还可能包含一些函数来操作对象变量、存储或从数据库中检索产品的值、显示产品详细信息等。

在 PHP 中，对象是使用类定义的。类包含描述对象的函数和变量的所有定义。

这是一个简单产品类的示例：

```
 class Product
 {
   var $name;
   var $description;
   var $price;

function RetrieveFromDatabase($id)
   {
     /* ... */
   }

   function Display()
   {
     echo 'Name: ', HtmlSpecialChars($this->name),
       '<br>',
       'Description: ', HtmlSpecialChars($this->description),
       '<br>',
       'Price: ', $this->price; 
   }
 }; 
```

**您可以使用new**运算符创建对象。一个 PHP 脚本可以创建同一个类的多个对象。您可以在同一类定义的电子商务站点中出售两种不同的产品。

例如，如果您要出售 A 本书和 B 本书，您可以使用同一个类来操作其名称、描述、价格等。下面是一个如何创建 PHP 对象的示例：

```
$book_a = new Product();
 $book_a->name = 'Book A';
 $book_a->description = 'Some description of book A';
 $book_a->price = 9.95;
 $book_a->Display();

 $book_b = new Product();
 $book_b->RetrieveFromDatabase('id-of-book-b');
 $book_b->Display(); 
```

类允许您在内部操作信息，而不必使用全局变量在不同的类函数之间共享信息。

例如，如果你想检索和显示数据库查询结果，你可以有一个类，其中一个函数执行查询，另一个函数显示它。他们使用类变量 $results 来存储和检索查询结果句柄。

```
 class Query
 {
   var $results;

   function Execute($query)
   {
     $this->results = mysql_query($query);
     return $this->results !== false;
   }

   function Display()
   {
     while(($row = mysql_fetch_row($this->results)))
       print_r($row);
   }
 };

 $query = new Query;
 if($query->Execute(
   'SELECT name, description, price FROM product'
 ))
   $query->Display(); 
```

如您所见，您不需要使用任何全局函数或任何全局变量来在类函数之间共享信息。产品的所有行为都封装在 Query 类中。

面向对象编程提供了其他重要功能，例如继承，它允许创建作为现有类扩展的新类。扩展类可能有更多的函数和变量。他们还可以重新定义已经在基类中定义的函数和变量。

[面向对象编程与类](http://www.phpclasses.org/blog/post/178-Why-is-it-better-to-develop-in-PHP-with-classes-OOP.html)的资源链接

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2013-04-02T06:28:56.693

这就是我通常这样做的方式，例如`functions.php`（非常简化）：

```
Myclass::init();

class MyClass
{
  // Add filters and actions here
  function init()
  {
    add_filter('pre_get_posts', array(__CLASS__, 'query_posts'));
  }

  function query_posts($query)
  {
    global $post; // you can use WP variables and functions
    // do something with $query
  }

  function navigation()
  {
    ?>
    <ul>
      <li><a href="<?= home_url() ?>">Home</a></li>
    </ul>
    <?php
  }
} 
```

使用这种模式，您可以在静态类中组织所有函数（不需要实例化），然后您可以在任何模板中调用函数，如下所示：

```
<?php MyClass::navigation() ?> 
```

希望这可以帮助。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-02T06:23:17.423

是的，您可以在 Wordpress 主题中使用类。只需记住在调用其方法之前从该类实例化一个对象。

例如，假设我们要封装`function1`在一个名为 的类中`Class1`：

```
class Class1 {
    function function1() {
        print("Called function1");
    }
} 
```

现在为了调用我们需要[从该类实例化一个对象](http://php.net/manual/en/language.types.object.php)的函数：

```
$object1 = new Class1; 
```

鉴于所有这些都已完成，您现在可以调用类中定义的任何函数：

```
$object1->function1() 
```

有关更多信息和详细信息，请查看[PHP 的 Classes and Objects 文档](http://php.net/manual/en/language.oop5.php)。

# c++ - 终止阻塞的 pthreads 线程

> ID：15757450
> 
> 赞同：1
> 
> 时间：2013-04-02T06:21:15.207
> 
> 标签：c++, c, linux, pthreads, file-descriptor

我有一个从文件描述符读取数据的线程，`select()`用于阻塞直到数据可用。当程序需要终止时，我需要关闭线程，但是它在选择时被阻塞。

我的问题是，通过关闭文件描述符来通知线程我打算终止的意图是一个好习惯吗？

有没有更好的方法来通知线程？我知道总是可以选择使用信号，但是我在某些地方读到信号`pthreads`不能很好地协同工作。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-04-02T06:26:38.157

好吧，您可以使用管道，并将其添加到您的读取集中。当线程应该终止时，在管道上发送一个字节。

或者`select`通话超时，超时时检查终止标志。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-02T06:33:17.073

*除了Joachim*提出的温和方式之外，还有一些粗略的方法可以“中断”阻塞`select()`：

*   用于`pthread_kill()`向阻塞线程发送信号并在有问题`(EINTR == errno)`之后进行测试`select()`
*   调用`pthread_cancel()`线程 ID。`select()`属于默认取消点的集合。

这两种方法都应被视为最后的解决方案。

# java - 如何在 Java 中解析 json？

> ID：15757455
> 
> 赞同：0
> 
> 时间：2013-04-02T06:21:31.313
> 
> 标签：java, javascript, json, parsing

我有一个包含以下对象的 JavaScript 文件：

```
var MoceanSettings={
       BannerURL:'',
       IsDirectWall:true,
       AppOfDayZone:156431,
       ImpressTrackUrl:null,
       ClickTrackUrl:null,
       Categories:[
          {name:'App Gallery', Zone_T:165294,Zone_M:165295,Zone_B:165296},
          {name:'Entertainment', Zone_T:165306,Zone_M:165307,Zone_B:165308},
          {name:'Games', Zone_T:165297,Zone_M:165298,Zone_B:165299},
          {name:'Lifestyle', Zone_T:165309,Zone_M:165310,Zone_B:165311},
          {name:'Productivity', Zone_T:165303,Zone_M:165304,Zone_B:165305},
          {name:'Travel', Zone_T:165300,Zone_M:165301,Zone_B:165302},
          {name:'Favorites', Zone_T:156431,Zone_M:156431,Zone_B:156431}
       ]
} 
```

使用 java 我想将此文件解析为对象/数组。我对 JavaScript 和 json 的工作知识非常有限。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-04-02T07:10:05.460

你可以这样做：

```
import java.io.InputStreamReader;
import java.util.ArrayList;
import java.util.List;
import java.util.Map;
import java.util.Map.Entry;

import javax.script.ScriptEngine;
import javax.script.ScriptEngineManager;

public class ExecuteScript {

    public static void main(String[] args) throws Exception {
        ScriptEngineManager factory = new ScriptEngineManager();
        ScriptEngine engine = factory.getEngineByName("JavaScript");
        engine.eval(new InputStreamReader(ExecuteScript.class.getResourceAsStream("javascript.js")));
    printJSElement("root", engine.get("MoceanSettings"));
    }

    private static void printJSElement(String propName, Object element) {
        if (element instanceof List) {
            printJSList(propName, (List<Object>) element);
        } else if (element instanceof Map) {
            printJSMap(propName, (Map<Object, Object>) element);
        } else {
            printJSProperty(propName, element);
        }
    }

    private static void printJSMap(String propName, Map<Object,Object> objectMap) {
        for (Entry<Object,Object> entry : objectMap.entrySet()) {
            printJSElement(propName + "." + String.valueOf(entry.getKey()), entry.getValue());
        }
    }

    private static void printJSList(String propName, List<Object> objectList) {
        for (int i = 0; i < objectList.size(); i++) {
            printJSElement(propName + "[" + i + "]", objectList.get(i));
        }
    }

    private static void printJSProperty(String propName, Object value) {
        System.out.println(propName + " = " + value);
    }

} 
```

这将显示以下输出：

```
root.BannerURL = 
root.IsDirectWall = true
root.AppOfDayZone = 156431
root.ImpressTrackUrl = null
root.ClickTrackUrl = null
root.Categories[0].name = App Gallery
root.Categories[0].Zone_T = 165294
root.Categories[0].Zone_M = 165295
root.Categories[0].Zone_B = 165296
root.Categories[1].name = Entertainment
root.Categories[1].Zone_T = 165306
root.Categories[1].Zone_M = 165307
root.Categories[1].Zone_B = 165308
root.Categories[2].name = Games
root.Categories[2].Zone_T = 165297
root.Categories[2].Zone_M = 165298
root.Categories[2].Zone_B = 165299
root.Categories[3].name = Lifestyle
root.Categories[3].Zone_T = 165309
root.Categories[3].Zone_M = 165310
root.Categories[3].Zone_B = 165311
root.Categories[4].name = Productivity
root.Categories[4].Zone_T = 165303
root.Categories[4].Zone_M = 165304
root.Categories[4].Zone_B = 165305
root.Categories[5].name = Travel
root.Categories[5].Zone_T = 165300
root.Categories[5].Zone_M = 165301
root.Categories[5].Zone_B = 165302
root.Categories[6].name = Favorites
root.Categories[6].Zone_T = 156431
root.Categories[6].Zone_M = 156431
root.Categories[6].Zone_B = 156431 
```

# python - BeautifulSoup python抛出errno22错误无效模式（'r'）

> ID：15757461
> 
> 赞同：0
> 
> 时间：2013-04-02T06:22:04.880
> 
> 标签：python, html, regex, parsing, beautifulsoup

我正在尝试在 python 中编写一个从特定站点下载图像的图像存档器，并且我不断收到一个 ioerror errno22 无效模式 ('r') 或出现在我的 beautifulsoup 行上的文件名错误

```
soup = BeautifulSoup(open(pahealUrl))

aTagList = soup.findall("a")

for randomTag in aTagList:
  if randomTag.find(text="Image Only"):
    imageList.append(randomTag) 

print randomTag 
```

url 本身是有效的，我没有看到问题所在。知道为什么它会抛出 errno22 invalid mode /filename 错误吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-02T07:01:48.353

要获取网页的 html，请使用以下[`urllib2`](http://docs.python.org/library/urllib2.html)库：

```
import urllib2
html = urllib2.urlopen(myurl).read() 
```

`open()`不用于打开网页，而是用于文件。这就是您收到文件名错误的原因。

然后你可以`BeautifulSoup()`用 HTML 来获取你的汤。

# javascript - 堆栈跟踪函数 Javascript

> ID：15757463
> 
> 赞同：0
> 
> 时间：2013-04-02T06:22:20.710
> 
> 标签：javascript, function, object

我知道我在某处看到了一个很好的描述的链接，但是我无法再次挖掘它。我在 Javascript 中使用 console.log 进行堆栈跟踪时遇到了问题，因为它们都变得模棱两可（通常与调用代码的实际位置完全无关）。

这当然是不利的。

```
var myObject = Class.extend({
    init: function() {
        Do Stuff Here
    },

    doOtherStuff: function() {
        Incorrect Stuff Here - Throws Error
    }
});

var objInstance = new myObject;
objInstance.doOtherStuff;       // Error! 
```

它不会告诉我 Firebug 堆栈跟踪中发生错误的位置。我知道有办法解决这个问题，但我似乎无法弄清楚。我知道我遗漏了一些明显的东西。感谢您为我指明正确的方向！

编辑：添加了 John Resig Class 声明。使用它们这么久，忘记了原型设计（糟糕），只是没有写它。修复它所以这是实际代码（以为我很聪明，绕过放置类声明以防止混淆......最终看起来很愚蠢）

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-02T06:45:40.747

这实际上是新的错误用法。`myObject`应该有一个功能。并且这两种方法都应该影响到 myObject.prototype.init 和 myObject.prototype.doOtherStuff。

此外，就它现在是一个类而言，它的名称不应该让人想到一个对象，它的第一个字母应该是大写的。

如果您实际上不想使用 new 关键字而只是克隆对象，则必须查找或编写克隆例程。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-02T06:49:58.133

看看这个 js oop 指南 [https://developer.mozilla.org/en-US/docs/JavaScript/Introduction_to_Object-Oriented_JavaScript](https://developer.mozilla.org/en-US/docs/JavaScript/Introduction_to_Object-Oriented_JavaScript)

# javascript - 无法在 $.ajax 中设置标题

> ID：15757467
> 
> 赞同：1
> 
> 时间：2013-04-02T06:22:45.570
> 
> 标签：javascript, ajax, jquery

我正在尝试通过 $.ajax
Jquery Version 使用：1.9设置标题

这是我的代码。

```
var urlSetting = $.ajaxSetup();
urlSetting.crossDomain = true;
urlSetting.dataType = "json";
urlSetting.success = function(){}
urlSetting.type = "POST";
urlSetting.data = urlData;
urlSetting.beforeSend = function (jqxhr) {
 jqxhr.setRequestHeader('Content-type', 'application/json');
 jqxhr.setRequestHeader('Accept', 'application/json');
}   

var urlLoader  = $.ajax(myurl,urlSetting); 
```

问题 2：它会自动将我的请求类型转换为“选项”。

请求快照 ![在此处输入图像描述](https://i.stack.imgur.com/ZbD7D.png)

# c - 日期或时间更改。从 c 中的磁盘错误重新加载

> ID：15757468
> 
> 赞同：0
> 
> 时间：2013-04-02T06:22:46.893
> 
> 标签：c, disk

我使用模拟 Turbo C++ IDE 3.0 进行 C 开发。运行以下程序时出现上述错误：

```
#include<stdio.h>
#include<conio.h>
main()
{
    int i,j,k;
    char x;
    do
    {
        printf("enter the number i: ");
        scanf("%d",&i );
        printf("enter the number j: ");
        scanf("%d",&j);
        k=i+j;
        printf("Addition of given numbers :%d ",k);
        printf("\n Do you to continue : ");
        scanf("%c",&x);
    } while(x=='y'||x=='Y');    
    getch();
} 
```

它已成功编译，没有错误或警告。在运行时，问题出现在语句之后`printf("\n Do you to continue : ");`。

当我为此输入一个值时，会出现错误。我在开发 C++ 中尝试过，但问题仍然存在。我正在使用 Windows 7 旗舰版。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-02T08:39:36.337

建议

改变

`scanf("%c",&x);`

至

`scanf(" %c",&x);`

# android - 裁剪 ListView Android 中的文本

> ID：15757471
> 
> 赞同：3
> 
> 时间：2013-04-02T06:22:54.657
> 
> 标签：android, listview, textview

首先是做安卓的新手。耐心点。这就是说它让我很头疼。 6 个不同的示例说明了如何自定义您的 ListView，但到目前为止，它们都不起作用。分明就是我。这应该很简单，我一定错过了一个重要的步骤。我观看了许多视频并阅读了教程，似乎都声称可以使其正常工作。

所以这就是发生的事情：

1）我有一个活动。

2）这有一个说哺乳动物的StringArray。

3) 我用水果数组填充 ListView。

4）它完美地出现，除了它有黑色背景，我想要一个带有黑色文本的白色背景。

5）将相关图像添加到动物，即兔子有一个兔子的缩略图（注意我什至没有到达这一步）

所以这就是我在查看其他人的建议后所做的；

1）创建了一个名为的自定义布局`"list_row.xml"`

```
<?xml version="1.0" encoding="utf-8"?> <LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
              android:layout_width="wrap_content"
              android:layout_height="wrap_content"
              android:padding="5dp" >

    <ImageView
            android:id="@+id/logo"
            android:layout_width="50px"
            android:layout_height="50px"
            android:layout_marginLeft="5px"
            android:layout_marginRight="20px"
            android:layout_marginTop="5px"
             >
    </ImageView>

    <TextView
            android:id="@+id/text1"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:text="@+id/label"
            android:textSize="30px" >
    </TextView>

</LinearLayout> 
```

2) 将我原来的 ListView 项目留在名为`"mammals.xml"`This 的可见页面上，其中包含 ListView。

```
<ListView android:id="@+id/list"
          android:layout_height="300dp"
          android:layout_width="300dp"
          android:layout_centerHorizontal="true"
          android:layout_alignParentTop="true"
          android:layout_marginTop="114dp"
          android:divider="#b5b5b5"
          android:dividerHeight="1dp"
          android:background="#FFFFFF"/> 
```

3）在`"onCreate()"`我添加列表并应用它。

```
 static final String[] MammalList = new String[] { "Rabbit", "Bear", "Deer","Kangaroo", "Emu", "Leopard" };

     private ListView m_listview;
    @Override
    protected void onCreate(Bundle savedInstanceState)
    {
        this.requestWindowFeature(Window.FEATURE_NO_TITLE);
        super.onCreate(savedInstanceState);
        setContentView(R.layout.mammals);

        m_listview = (ListView) findViewById(R.id.list);
        ArrayAdapter<String> adapter = new ArrayAdapter<String>(this, R.layout.list_row, MammalList);

        m_listview.setAdapter(adapter); 
```

我知道为了改变行的外观，您将其更改`android.R.layout.simple_list_item_1`为`R.layout.list_row`. 此时我运行应用程序，但它失败了。

有人可以为我指出如何实现这一目标的正确方向吗？

也不确定 Stack Overflow 是否已捕获所有代码。我尝试了两种不同的浏览器，它们都有渲染问题。

以下错误

```
04-02 17:53:37.621: ERROR/AndroidRuntime(30020): FATAL EXCEPTION: main
        java.lang.NullPointerException
        at android.widget.ArrayAdapter.createViewFromResource(ArrayAdapter.java:392)
        at android.widget.ArrayAdapter.getView(ArrayAdapter.java:362)
        at android.widget.AbsListView.obtainView(AbsListView.java:2159)
        at android.widget.ListView.measureHeightOfChildren(ListView.java:1246)
        at android.widget.ListView.onMeasure(ListView.java:1158)
        at android.view.View.measure(View.java:15518)
        at android.widget.RelativeLayout.measureChildHorizontal(RelativeLayout.java:681)
        at android.widget.RelativeLayout.onMeasure(RelativeLayout.java:461)
        at android.view.View.measure(View.java:15518)
        at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:4825)
        at android.widget.FrameLayout.onMeasure(FrameLayout.java:310)
        at android.view.View.measure(View.java:15518)
        at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:4825)
        at android.widget.LinearLayout.measureChildBeforeLayout(LinearLayout.java:1404)
        at android.widget.LinearLayout.measureVertical(LinearLayout.java:695)
        at android.widget.LinearLayout.onMeasure(LinearLayout.java:588)
        at android.view.View.measure(View.java:15518)
        at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:4825)
        at android.widget.FrameLayout.onMeasure(FrameLayout.java:310)
        at com.android.internal.policy.impl.PhoneWindow$DecorView.onMeasure(PhoneWindow.java:2176)
        at android.view.View.measure(View.java:15518)
        at android.view.ViewRootImpl.performMeasure(ViewRootImpl.java:1874)
        at android.view.ViewRootImpl.measureHierarchy(ViewRootImpl.java:1089)
        at android.view.ViewRootImpl.performTraversals(ViewRootImpl.java:1265)
        at android.view.ViewRootImpl.doTraversal(ViewRootImpl.java:989)
        at android.view.ViewRootImpl$TraversalRunnable.run(ViewRootImpl.java:4351)
        at android.view.Choreographer$CallbackRecord.run(Choreographer.java:749)
        at android.view.Choreographer.doCallbacks(Choreographer.java:562)
        at android.view.Choreographer.doFrame(Choreographer.java:532)
        at android.view.Choreographer$FrameDisplayEventReceiver.run(Choreographer.java:735)
        at android.os.Handler.handleCallback(Handler.java:725)
        at android.os.Handler.dispatchMessage(Handler.java:92)
        at android.os.Looper.loop(Looper.java:137)
        at android.app.ActivityThread.main(ActivityThread.java:5041)
        at java.lang.reflect.Method.invokeNative(Native Method)
        at java.lang.reflect.Method.invoke(Method.java:511)
        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:793)
        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:560)
        at dalvik.system.NativeStart.main(Native Method) 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-02T06:25:35.107

您必须告诉 ArrayAdapter`TextView`要使用的 id：

```
ArrayAdapter<String> adapter = new ArrayAdapter<String>(this, R.layout.list_row, R.id.label, MammalList); 
```

为了显示更复杂的布局，例如图片，您必须覆盖`getView`.`ArrayAdapter`

我不确定您发布的内容是否`list_row.xml`是整个 xml 文件，但如果是，则所有布局都必须包含在某个 ViewGroup 中（例如：、、、`RelativeLayout`等`LinearLayout`）`FrameLayout`。这很简单：

```
<LinearLayout
     android:layout_height="wrap_content"
     android:layout_width="match_parent">

      .... // existing list_row.xml code here
</LinearLayout> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-02T06:26:16.217

将 xml 代码更改为：

```
<RelativeLayout
    android:id="@+navigate/RLayout"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent"
    android:background="#FFFFFF"
    xmlns:android="http://schemas.android.com/apk/res/android"
    >
<ImageView
        android:id="@+id/logo"
        android:layout_width="50px"
        android:layout_height="50px"
        android:layout_marginLeft="5px"
        android:layout_marginRight="20px"
        android:layout_marginTop="5px"
         >
</ImageView>

<TextView
        android:id="@+id/text1"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:text="@+id/label"
        android:textColor="#000000"
        android:textSize="30px" >
</TextView></RelativeLayout> 
```

# search - 由于 robots.text 的原因，google 搜索结果的描述不可用

> ID：15757472
> 
> 赞同：1
> 
> 时间：2013-04-02T06:23:00.803
> 
> 标签：search, robots.txt

我试图在谷歌“DailyMuses”中搜索我的网站并得到以下结果

![在此处输入图像描述](https://i.stack.imgur.com/ZDK2p.png)

它说“由于此站点的 robots.txt，此结果的描述不可用”

我去查看我的网络应用程序中robot.text的内容，内容如下：

```
# See http://www.robotstxt.org/wc/norobots.html for documentation on how to use the robots.txt file
#
# To ban all spiders from the entire site uncomment the next two lines:
User-Agent: *
Disallow: / 
```

谁能告诉我如何解决这个问题并允许在谷歌搜索中显示描述？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-02T06:24:25.260

删除`robots.txt`. 完毕 。

**更新**：要允许搜索引擎仅抓取索引页面，请使用以下命令：

```
User-agent: *
Allow: /index.php
Allow: /$
Disallow: / 
```

或替换`index.php`为您的索引文件名，例如`index.html`或`index.jsp`

# c++ - 实际函数调用计数与 EXPECT_CALL(*mock, display()) 不匹配

> ID：15757479
> 
> 赞同：1
> 
> 时间：2013-04-02T06:23:42.160
> 
> 标签：c++, googletest, googlemock

我正在调用`EXPECT_CALL`一个模拟函数`display()`，但它返回运行时错误

> `Actual function call count doesn't match EXPECT_CALL(*mock, display())...`

## 输出

```
./GTest_static_example.tst

[==========] Running 1 test from 1 test case.
[----------] Global test environment set-up.
[----------] 1 test from GTest_static_example
[ RUN      ] GTest_static_example.case1
inside the GTEST_static_class:: display
display called from GTest_static_example
package/web/webscr/GTest_static_example.cpp:70: Failure
Actual function call count doesn't match EXPECT_CALL(*mock, display())...
         Expected: to be called once
           Actual: never called - unsatisfied and active
[  FAILED  ] GTest_static_example.case1 (0 ms)
[----------] 1 test from GTest_static_example (0 ms total)

[----------] Global test environment tear-down
[==========] 1 test from 1 test case ran. (0 ms total)
[  PASSED  ] 0 tests.
[  FAILED  ] 1 test, listed below:
[  FAILED  ] GTest_static_example.case1

 1 FAILED TEST 
```

## GTEST_static_class.h

```
#include<iostream>

using namespace std;
class GTEST_static_class
{   
    public:
    GTEST_static_class()
    {}

    void display()
    {
        cout<< "inside the GTEST_static_class:: display " <<endl;
    } 
}; 
```

## GTest_static_example.cpp

```
#include <gtest/gtest.h>
#include <gmock/gmock.h>
#include <iostream>
#include "GTEST_static_class.h"

using namespace std;
using ::testing::Return;

class GTest_static_example : public::testing::Test
{
    public:
    virtual void SetUp();
    virtual void TearDown();
    void call_display()
    {
        GTEST_static_class *_class = new GTEST_static_class();
        _class->display();
        cout<<"display called from GTest_static_example"<<endl;
    }

};

class MockGTEST_static_class : public GTEST_static_class
{
    public:
    MockGTEST_static_class():GTEST_static_class()
    {}

    MOCK_METHOD0(display, void()); 
};

int main(int argc, char* argv[])
{
    ::testing::InitGoogleTest(&argc, argv);
    return RUN_ALL_TESTS();
}

void GTest_static_example::SetUp()
{}

void GTest_static_example::TearDown()
{}

TEST_F(GTest_static_example, case1)
{
    MockGTEST_static_class *mock = new MockGTEST_static_class();
    EXPECT_CALL(*mock,display()).WillOnce(Return());
    call_display();
    delete mock;
} 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-02T08:44:53.027

尝试更多类似的东西：

```
#include <iostream>
#include <gtest/gtest.h>
#include <gmock/gmock.h>

class GTEST_static_class {
  public:
    virtual void display() { std::cout << "inside the GTEST_static_class:: display\n"; }
    virtual ~GTEST_static_class() {}
};

class MockGTEST_static_class : public GTEST_static_class {
  public:
    MOCK_METHOD0(display, void());
};

class GTest_static_example : public ::testing::Test {
  public:
    void call_display(GTEST_static_class *instance) {
      instance->display();
      std::cout << "display called from GTest_static_example\n";
    }
};

int main(int argc, char * argv[]) {
  ::testing::InitGoogleTest(&argc,argv);
  return RUN_ALL_TESTS();
}

TEST_F(GTest_static_example, case1) {
  MockGTEST_static_class mock;
  EXPECT_CALL(mock, display()).WillOnce(::testing::Return());
  call_display(&mock);
} 
```

您需要传递您期望的类的实际实例。`void display();`此外，如果您希望模拟能够覆盖它，则需要进行虚拟化。不幸的是，忘记添加`virtual`不会产生任何编译器警告或错误——这只是你必须注意的事情。您还应该将`GTEST_static_class`' 的析构函数设为虚拟以避免切片。

# jquery - IE：在 ReturnUrl 中删除了哈希值

> ID：15757482
> 
> 赞同：0
> 
> 时间：2013-04-02T06:24:02.697
> 
> 标签：jquery, asp.net-mvc, internet-explorer

我有一个 asp.net mvc 3 应用程序，我在其中一个经过身份验证的页面中使用 jquery tabs 插件。我使用 localscroll 插件根据用户选择的选项卡更新浏览器中的 url（通过附加所选选项卡的哈希值而不刷新页面）。我必须支持书签功能，如果用户将 url 加入书签，当他使用该书签 url 时，他应该被带到那个选项卡（从哈希值中识别）。

当用户下次尝试在未通过身份验证的情况下访问已添加书签的 url 时，他将被重定向到登录页面，返回 url 为书签 url。由于散列值没有发送到服务器，我将散列值从返回 url 存储在客户端，然后使用它来将用户重定向到正确的选项卡。

问题是 Firefox 和 Chrome 在来自服务器的 302 之后的返回 url 中具有哈希值，但 IE 在返回 url 中没有哈希值。在这种情况下，有没有办法在 IE 的情况下获取哈希值？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-06-14T10:11:22.873

通过引用另一个 SFO 项目快速回答：

> 如果发生 HTTP/3xx 重定向，Safari 5 和 IE9 及以下版本会丢弃原始 URI 的片段。如果响应上的 Location 标头指定了一个片段，则使用它。
> 
> Chrome 11、Firefox 4 和 Opera 在遵循 3xx 重定向后都会“重新附加”原始 URI 的片段。
> 
> 测试页面：[https ://www.fiddler2.com/test/redir/fragment/](https://www.fiddler2.com/test/redir/fragment/)

参考：[URL 片段和 302 重定向](https://stackoverflow.com/questions/2286402/url-fragment-and-302-redirects)

# validation - 为什么validation.yml 中的正则表达式在Symfony2 中不起作用？

> ID：15757483
> 
> 赞同：0
> 
> 时间：2013-04-02T06:24:03.570
> 
> 标签：validation, symfony

以下配置`validation.yml`应该使用给定的正则表达式验证 url 字段，如 Symfony 文档（[基本用法](http://symfony.com/doc/2.0/reference/constraints/Regex.html#basic-usage)）中所示。

```
MyCompany\MyBundle\Entity\Example:
    properties:
        url:
            - Regex:
                pattern: "/^(https?:\/\/)?((w{3}\.)?)example.com\/.*/"
                message: "Must be a valid example.com URL" 
```

但是会发生错误。

> 警告：preg_match() [function.preg-match]: Unknown modifier '/' ...

删除“/”的出现使它工作，但它不是我需要的正则表达式。

```
MyCompany\MyBundle\Entity\Example:
        properties:
            url:
                - Regex:
                    pattern: "/^(https?:)?((w{3}\.)?)example.com.*/"
                    message: "Must be a valid example.com URL" 
```

问题可能是什么？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-02T06:24:03.570

就我而言，问题在于包含正则表达式的引号。我删除了它们，一切正常。我不知道为什么斜线会导致双引号出现问题。

```
MyCompany\MyBundle\Entity\Example:
    properties:
        url:
            - Regex:
                pattern: /^(https?:\/\/)?((w{3}\.)?)example.com\/.*/
                message: "Must be a valid example.com URL" 
```

# c# - 错误日志转换为 Excel 图表

> ID：15757487
> 
> 赞同：1
> 
> 时间：2013-04-02T06:24:09.970
> 
> 标签：c#

我正在尝试创建一个工作程序，只是为了让我的生活更轻松，但我离题了，我对此一无所知。

该程序需要选择并打开一个目录，其中有多个文件夹，并且在这些文件夹中有多个包含错误的 txt 文件。程序需要选择文件夹中的所有这些 txt 文件并将它们存储到数组中。该程序应该给用户一个搜索框来选择您需要的错误名称，然后遍历它们。问题是程序应该将数据导出到 MS Excel 中，这些数据会在每个月生成一个统计数据。

任何想法将不胜感激。

# php - 为 cms 创建数据库设计感到困惑

> ID：15757488
> 
> 赞同：2
> 
> 时间：2013-04-02T06:24:13.673
> 
> 标签：php, mysql, database, database-design

我想创建一个动态菜单，以便管理员可以轻松地在其上创建子菜单及其内容。我在数据库设计方面不太好。所以我想在这里问请帮助我

* * *

```
 eg. Java-main menu
     Core Java- sub menu
     Frameworks - Sub menu
        -Struts 1  (Sub menu of 2nd submenu)
        -Struts 2  (Sub menu of 2nd submenu)

 --------------- 
```

我从脑海中尝试过的是：

**数据库结构**

```
 1)Table: mainmenu
    ---------------
     mainmenu_id   PK(primary key)
     menu_name     ..... 
      content      longtext

    2)Table: submenu
    -------------------
     submenu_id     PK
     mainmenu_id    FK (foreign key refrences mainmenu table)
     submenu_name   ..... 
    content         longtext

    3)Table: thirdsubmenu
    --------------------
      thirdsubmenu_id     PK
      submenu_id          FK (foreign key refrences submenu table)
      thirdsubmenu_name     ........
      content             longtext 
```

但我认为这不是创建数据库的好方法，如果我有 20 或 30 个 thirsubenu 表的子菜单，那么我必须再次创建更多表，但目前我的头脑能够思考这个数据库。

如果您对此数据库有更好的设计，请分享。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-02T06:38:45.223

您只需要一个表，但您必须添加另一列，我们称之为它`parent_id`，以保持其父级的引用。

这样，`parent_id`= 0 的元素将成为主菜单条目。> 0的元素`parent_id`将是与 相关的子菜单条目`parent_id`。

像这样的东西：

```
 Table: menu
---------------
 id   PK(primary key)
 menu_name     ..... 
 content      longtext
 parent_id    int(key to id) 
```

这是存储在表中的数据的示例：

```
Example
----------------
id | menu_name | content | parent_id
----------------------------------------
1  | main 1    | this is main menu 1 | 0                           <-- First level menu
2  | main 2    | this is main menu 2 | 0                           <-- First level menu  
3  | submenu 1 | this is main menu 1's first submenu's item 1 | 1  <-- Second level menu
4  | submenu 1 | this is main menu 1's first submenu's item 2 | 1  <-- Second level menu
5  | submenu 2 | this is main menu 2's first submenu's item 1 | 2  <-- Second level menu
6  | submenu 1-1 | this is submenu 1's first submenu's item 1 | 3  <-- Third level menu
7  | submenu 1-2 | this is submenu 1's first submenu's item 2 | 3  <-- Third level menu 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-04-02T06:37:22.527

我认为你可以只用一层依赖来做到这一点：父菜单。

让我们看看我能不能解释我的意思。假设您有下表：

```
menuId (Int, PK)
parentMenuId (Int, FK)
menuTag (Char)
... (whatever you need) 
```

当然，这种关系是与表本身的一对多关系：

```
menuId (1) --> parentMenuId(∞) 
```

您现在可能已经意识到这是一个树状结构，那么，现在呢？你如何构建你的结构？

从顶层开始：顶层菜单是所有没有`parentMenuId`. 如果您决定顶级菜单具有`NULL`parentMenu，则：

```
select *
from tblMenu
where parentMenuId is null; 
```

如果您决定顶级菜单具有定义的值（比如说`0`），只需使用这个 where 条件：`where parentMenuId = 0`。

现在，让递归魔法发挥作用。对于`menuId`您的集合中的每个：

```
select *
from tblMenu
where parentMenuId = ? -- Your menuId goes here 
```

这样，您就可以拥有所需的一切。当然，当前面的查询返回零行时，您已经完成了该菜单，可以继续下一个。

希望这可以帮助你

# c# - 从类库 c# windows application 访问 windows 应用程序控件

> ID：15757489
> 
> 赞同：0
> 
> 时间：2013-04-02T06:24:23.493
> 
> 标签：c#, visual-studio-2010, class-library

我想从类库中禁用表单控件，这意味着我添加了一个名为**clsInit**方法的类，当我在主项目中加载表单时调用了这个方法，所以我需要找到我想要禁用的控件。
是否可以在类库中找到加载的表单控件？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-02T06:30:13.207

[`Form.Controls`财产](http://msdn.microsoft.com/en-us/library/system.windows.forms.control.controls.aspx)是你需要的。

您可以将表单的引用传递到您的库中，并通过`Controls`属性访问其控件。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-02T06:45:54.923

您可以创建表单的对象，如下所示：

```
MyForm frm = new MyForm(); 
```

...然后选择要禁用的控件：

```
foreach (Control control in frm.Controls)
{
    if(control.Name == "cboSomeDdn")
        control.Enabled = false;
} 
```

然后加载表单（这个：

```
frm.Load() 
```

或者

```
frm.Show() 
```

如果这是一个表单应用程序，您也可以将其设置为起点：

```
Application.Run(frm); 
```

> 请将此答案作为起点，而不是作为复制粘贴解决方案。还要确保以您选择的语言遵循最佳开发实践。

希望这可以帮助！

维韦克

# entity-framework - 发布到 IIS 的 EF5 Code First 迁移问题

> ID：15757492
> 
> 赞同：1
> 
> 时间：2013-04-02T06:24:25.673
> 
> 标签：entity-framework, ef-code-first, connection-string, entity-framework-migrations

我创建了一个 MVC 4 项目，它使用 EF5 Code First 进行迁移。因为我是这个主题的新手，所以我使用了以下[文章](http://msdn.microsoft.com/en-us/data/jj591621.aspx)。

现在开发完成了，我想发布到 IIS（我使用 FTP 或 Web 部署包）。因此，在发布之前，我将连接字符串更改为正确的数据库服务器。但是在发布网站后，我在访问使用数据库的页面时遇到了异常。例外是指他无法连接到数据库的事实。

由于这些问题，我决定在另一台数据库服务器上本地尝试，而不是默认的“（LocalDB）\v11.0”。顺便说一句：“（LocalDB）\ v11.0”就像一个魅力......在调试时，我更好地了解了错误。这是错误的图像： ![错误图片](https://i.stack.imgur.com/kOyiD.png)

我已经尝试过的：

*   通过在包管理器控制台中执行“Update-Database -Script -SourceMigration:$InitialDatabase”生成一个 sql 脚本。在我在 dbserver 上运行此脚本以创建 db 之后。表已创建，但错误仍然存​​在。
*   我将连接字符串更改为各种组合但没有结果
*   我已经为 ISS 中的应用程序池使用了自定义用户，并为该用户授予了对数据库服务器和数据库的完全权限。

这是我的 web.config 中最重要的部分：

```
<connectionStrings>
   <add name="DefaultConnection" providerName="System.Data.SqlClient" connectionString="Data Source=LOCALHOST\MSSQLSERVER;Initial Catalog=ProjectX;Integrated Security=TRUE;MultipleActiveResultSets=True" />
</connectionStrings> 
```

和

```
<entityFramework>
 <defaultConnectionFactory type="System.Data.Entity.Infrastructure.SqlConnectionFactory, EntityFramework">
   <parameters>
     <parameter value="Data Source=LOCALHOST\MSSQLSERVER; Integrated Security=True; MultipleActiveResultSets=True" />
   </parameters>
 </defaultConnectionFactory>
</entityFramework> 
```

我的 DBCcontext 类构造函数看起来像

```
public DBContext(): base("DefaultConnection")
{
} 
```

我想我遗漏了一些东西，这是我第一次使用 EF Code First 进行迁移。这个问题真的让我抓狂。我没主意了。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-03T06:38:56.683

刚刚发现问题是由连接字符串引起的。字符串不正确，如果您有默认 SQL Server，您似乎只需要使用“Data Source=LOCALHOST”。

我想由于那天我在部署中遇到的所有问题，我忽略了简单的部分。当您遇到像我这样的问题时，请确保以下事项属实：

1.  您的连接字符串与您的 DBContext 具有相同的名称。另一个解决方案可能是像我一样做并将连接字符串名称添加到基础：

    公共 DBContext(): base("DefaultConnection") { }

2.  如果您还设置了 defaultconnectionfactory。确保还在那里更新数据源。这是我努力解决的问题之一。我没有检查我的 web.config 的底部...

如果问题仍然存在，您可以在您的站点应用程序访问数据库时使用 EF 分析器查看连接字符串。

# couchbase - xdcr 复制相同数据

> ID：15757493
> 
> 赞同：1
> 
> 时间：2013-04-02T06:24:40.947
> 
> 标签：couchbase

我将使用 couchbase 作为我网站的数据库。我计划使网站国际化，因此我可能会在美国、欧洲和澳大利亚拥有数据中心，以保持低延迟。我还想最小化数据中心之间的带宽，所以我计划在用户存储数据时对所有数据中心进行并行更新（ajax）。

那么我的问题是：如果我几乎同时将相同的数据插入到所有三个集群中，couchbase 是否足够聪明，可以识别出这些数据是相同的，因此不需要在数据中心之间进行复制？

我观看了[这个视频](https://www.youtube.com/watch?v=za6CW9UJoWk)，他解释说，更新文档时会更新 CAS 值，这用于确定哪些文档需要复制。如果更新集群上的任何文档时更新 cas 值，那么我的猜测是答案是否定的 - 因为我很可能一次只向所有 3 个集群发送一些数据，并且任何数据仅发送到一个集群将使该集群的 cas 暂时不同步。但是，如果每个文档的 cas 值是独立的，那么答案可能是“是”。也许有一些选项可以更改以使每个文档的 cas 值独立？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-08T19:50:16.137

Couchbase 对您存储的文档的正文一无所知。从它的角度来看，如果您将相同的文档写入 3 个集群（全部与 XDCR 双向链接），它会将它们视为具有该 ID 的文档的 3 个不同文档突变。Couchbase 将执行其正常的冲突解决过程来选择 3 个中的哪一个是“赢家”。这将导致“获胜”文档被转移到其他两个集群，尽管它可能具有与“失败”修订完全相同的内容。

每当您在不同的集群中写入相同的文档 ID 时，您必须注意冲突解决将选择获胜的修订版。如果你不小心，你可能会覆盖你不想要的数据。

通常会为您的用例选择不同的方法。对于每个用户，选择一个“家”集群，可能基于地理。该用户的所有操作都与该集群相关联。如果该集群已关闭，您可以切换到另一个集群。使用这种方法可以避免写入多个集群，并且只会在明确定义的条件下更改集群。

CAS 值只是修订的不透明标识符。在您上面的示例中，所有 3 个文档写入最终都会具有不同的 CAS 值（这是 Couchbase 认为它们不同的原因之一，并且必须选择一个获胜者）

冲突解决过程记录在[手册的本节中](http://www.couchbase.com/docs/couchbase-manual-2.0/couchbase-admin-tasks-xdcr-functionality.html)

# hibernate - 在 Web 应用程序中使用图层的正确方法是什么

> ID：15757496
> 
> 赞同：0
> 
> 时间：2013-04-02T06:25:12.170
> 
> 标签：hibernate, spring-mvc, web-application-design

我们有使用 Spring + Hibernate 设计的 Web 应用程序。以下是我们应用程序中的层。

```
 JSP
     |
Controllers
     |
   Facade
     |
   Service
     |
    DAO 
```

在浏览代码时，我看到一些**服务**类使用其他**DAO**类。这是正确的方法吗？我想知道使用图层的**正确方法是什么。**外观层应该直接使用服务层的对象还是应该通过其他外观对象？与服务层相同吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-02T14:51:06.303

Web 应用程序的最佳方法是

```
 JSP
      |
  Controllers
      |
   Manager
      |
   Service
      |
     DAO 
```

在哪里

JSP：查看部分

控制器：处理传入的请求并返回响应和正确的视图定义

Manager ：这将被注入控制器，这是逻辑/功能单元。一个管理器可以服务多个控制器

Service ：这是服务层，仅由 Managers 调用，因此将注入 Managers 类

DAO：数据访问对象，这将注入服务层

这是当今所有 Web 应用程序都遵循的最常见趋势。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-02T09:43:14.413

这是[j2ee 设计模式](http://www.corej2eepatterns.com/)的参考链接，[不同的层](http://techighost.com/list-all-j2ee-design-patterns/)。[另一个了解概念的参考链接](http://www.corej2eepatterns.com/Patterns2ndEd/SessionFacade.htm)。

# php - 使用rewritemap和mysql重写url参数

> ID：15757497
> 
> 赞同：2
> 
> 时间：2013-04-02T06:25:14.543
> 
> 标签：php, mysql, .htaccess, mod-rewrite, rewritemap

我意识到这个问题已经被很多人问死了，但大多数答案似乎都是针对一个非常具体的案例，只适合他们的需求，到目前为止我还没有找到合适的解决方案（至少，据我所知）。

我的问题是我试图让我的网站将 URL 参数从 ID 重定向到实际字符串。

例如：

```
www.example.com/?category=1 
```

将显示为：

```
www.example.com/software 
```

尽管

```
www.example.com/?category=2 
```

将显示为：

```
www.example.com/software/desktop 
```

从我读到的内容来看，我应该研究一个 apache rewritemap，这就是我的困惑所在。我真的不想从一个平面 txt 文件中加载，因为我想让它尽可能动态，我已经读过我可以让它从 php 文件中读取并从 MySQL 数据库中读取，这就是我想要的。

问题在于我真的不太确定实现这一目标的正确方法是什么。[RewriteMap](http://httpd.apache.org/docs/2.0/mod/mod_rewrite.html#rewritemap)文档仅在某种程度上涵盖了平面 .txt 文件，并没有通过 MySQL 实现。

所以基本上我要问的是是否有人可以解释如何实现我正在寻找的东西，或者至少为我指明正确的方向。遗憾的是，到目前为止我发现的大多数线程还没有太大帮助，但我可能已经通过了有用的线程。

如果它有帮助，现在，我的 MySQL 数据将被格式化为继承结构，如下所示：

```
 ID |   Title          |   Link             | Parent
  1 | Software         | /Software/         |  NULL
  2 | Desktop Software | /Software/Desktop/ |   1
  2 | Mobile Software  | /Software/Mobile/  |   2 
```

**PS：** 我应该补充一点，我发现的大多数解决方案都以此为例：

```
 RewriteMap examplemap prg:/path/to/file.php
  RewriteRule (.*) ${examplemap:$1} 
```

然而，它从不提供有关该 file.php 中的内容以及它如何查询和返回值的信息。

**编辑** 我应该提到我在共享托管服务器上，而不是我自己的私人服务器上，所以我可能无法访问所有可能的选项

**编辑 2** 只是为了清楚起见：我要做的是让访问“example.com/software”的用户被视为在“example.com/?category=1”上; 基本上美化链接并使其更具可读性。唯一的事情是，我正在尝试从数据库中读取它

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-02T07:48:52.783

如果您无权访问服务器或虚拟主机配置，则`RewriteMap`无论如何都无法使用。地图本身需要在服务器或虚拟主机配置中定义，而不是在 htaccess 文件中。但是 apache 2.4 可以选择使用 mod_dbd 来使用[SQL 查询来定义重写映射](http://httpd.apache.org/docs/2.4/rewrite/rewritemap.html#dbd)。

如果您需要访问 MySQL，您最好在 PHP 中完成所有这些操作，而不是使用 mod_rewrite。您将使用 mod_rewrite 路由到您的 php 文件，然后该文件将重定向。也许是这样的？

```
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule ^(.*)$ /file.php?link=$1 [L] 
```

因此，当有人请求时`http://example.com/Software/Mobile/`，请求会被重写为：`/file.php?link=Software/Mobile/`，并且您的**file.php**脚本会进行查找。

或者，如果您实际上是相反的意思：

```
RewriteCond %{QUERY_STRING} category=([0-9]+)
RewriteRule ^$ /file.php?ID=%1 [L] 
```

因此，当有人请求时`http://example.com/?category=2`，请求会被重写为：`/file.php?ID=2`并且 php 脚本会进行查找。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-02T16:05:32.023

我的建议是考虑使用前端控制器模式。我认为，一旦您开始了解用户友好的 URL 或“路由”的概念，前端控制器就可以真正简单地处理事情，因为您不再需要担心将特定 URL 映射到 Web 服务器级别的特定控制器。

如果您`mod_dir`启用了 Apache（很有可能），您可以在 Apache 配置中执行类似的操作，或者`.htaccess`：

```
FallbackResource /index.php 
```

这个简单的指令会将任何会导致 404 错误的请求定向到位于`/index.php`.

这也可以通过以下方式完成`mod_rewrite`：

```
RewriteEngine On
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule ^(.*)$ /index.php [L,QSA] 
```

在前端控制器中，您可以评估 URI 并将请求路由到需要处理请求的任何逻辑。您可以通过从数据库中查找路线或硬编码的路线数组或其他方式来做到这一点。（但是我建议，如果使用数据库，您可以使用缓存版本的路由以供快速访问）。

有许多不同的 PHP 路由控制器可用，因此您无需重新发明轮子（大多数现代框架都有某种路由概念）。

# firebase - 是否可以为子对象定义限制（）？

> ID：15757498
> 
> 赞同：1
> 
> 时间：2013-04-02T06:25:18.793
> 
> 标签：firebase

我正在寻找数据集中 1000 条记录的前 10 条记录，但是这些记录中的每条记录本身都有一个带有 1000 条记录的属性 - 有没有办法限制孙子也只返回 X 条记录？就像是：

firebaseRef.limit(10).limit(10, childPropertyName).once(...)

（当我说 1000 时，可能是 1,000,000，我不想包括所有的零）

如果没有，是否有任何解决方法或策略来处理大型嵌套集？

一种可能性是取消嵌套它们。孙子可以拆分到自己的列表中，其键名与其前父级相同。这是最好的方法吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-02T16:20:37.863

不，没有。我们正在研究如何做到这一点，但它们暂时不会发布。

同时，我建议建立一个单独的索引，简单地列出顶级孩子的名字。然后您可以对该索引执行“limit(10)”，然后在使用这些键中的每一个构建的路径上执行 limit(10)。

所以你的代码看起来像这样：

```
indexRef.limit(10).once("child_added", function(snapshot) {
  dataRef.child(snapshot.name()).limit(10).once(...);
} 
```

# ruby-on-rails - Rails 路由与 RESTFul 路由不匹配“新”模式

> ID：15757500
> 
> 赞同：0
> 
> 时间：2013-04-02T06:25:27.433
> 
> 标签：ruby-on-rails, ruby-on-rails-3, rest, mongoid, url-routing

我收到了这个错误：

```
No route matches {:action=>"show", :controller=>"video_publications", :campaign_id=[...] 
```

使用此网址：

```
/campaigns/514be3834413790249000025/video_publications/new 
```

我在路线上有这个：

```
resources :campaigns do
   resources :video_publications
end 
```

当我重定向到：

```
new_campaign_video_publication_path(@campaign) 
```

我很困惑，有什么想法吗？

使用：

*   导轨 3.2.11
*   Mongoid 3.0.23

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-02T07:06:41.797

错误不在您的`new`路径中，而是在您的`show`操作中。

它抱怨：

```
:action=>"show", :controller=>"video_publications" 
```

在您的代码中，将显示操作的部分代码更改为如下所示：

```
<%= link_to 'Show', campaign_video_publication_path(@campaign, @publication) %> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-02T06:44:22.807

在 routes.rb 中添加这行代码

```
match 'campaigns/:id/video_publications/new' => 'campaigns/video_publications/new',:as => :new_campaign_video_publication 
```

# android - 计算 CountDownTimer 何时完成？

> ID：15757510
> 
> 赞同：1
> 
> 时间：2013-04-02T06:25:53.587
> 
> 标签：android, timer, countdowntimer

我对 Android 的 CountDownTimer 有疑问。我在玩一些方法，比如 onStart 和 onFinish，我注意到它们是 void 函数。我的代码中的内容是我的计时器在调用函数时启动，但是如果计时器没有完成，我想要一个条件（即它没有达到我为计时器时间设置的秒数）然后只需取消计时器。有没有办法让 countDownTimer 的 onFinish 方法成为布尔值而不是 void 函数？如果有人有任何建议，将不胜感激！

# c++ - 使用多个处理器加速程序

> ID：15757511
> 
> 赞同：5
> 
> 时间：2013-04-02T06:25:55.997
> 
> 标签：c++, c, performance, parallel-processing

我发现有时将一个循环分成两个或多个循环会更快

```
for (i=0; i<AMT; i++) {
    a[i] += c[i];
    b[i] += d[i];
}
     ||
     \/
for (i=0; i<AMT; i++) {
    //a[i] += c[i];
    b[i] += d[i];
}
for (i=0; i<AMT; i++) {
    a[i] += c[i];
    //b[i] += d[i];
} 
```

在我的台式机 win7、AMD Phenom(tm) x6 1055T 上，双循环版本运行速度更快，时间减少了大约 1/3。

但如果我正在处理任务，

```
for (i=0; i<AMT; i++) {
    b[i] = rand()%100;
    c[i] = rand()%100;
} 
```

将 b 和 c 的分配分成两个循环并不比一个循环快。

我认为操作系统使用一些规则来确定某些代码是否可以由多个处理器运行。

我想问我的猜测是否正确，如果我是正确的，那么多个处理器会自动（无需线程编程）用于加速我的程序的规则或场合是什么？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-02T06:45:10.367

您的编译器可能正在对更简单的循环进行[矢量化。](http://en.wikipedia.org/wiki/Vectorization_%28parallel_computing%29)在汇编器输出中，您会看到这是使用 SIMD 指令（如[Intel 的 SSE](http://en.wikipedia.org/wiki/Streaming_SIMD_Extensions)）编译的程序来处理比一个数字更大的数据块。自动向量化是一个难题，编译器可能无法对同时更新的循环进行向`a`量化`b`。这可以部分解释为什么将复杂循环分成两部分会更快。

在“赋值”循环中，每次调用都`rand()`依赖于先前调用的输出，这意味着向量化本质上是不可能的。将循环分成两部分不会像第一种情况那样从 SIMD 指令中受益，因此您不会看到它运行得更快。查看编译器生成的汇编代码会告诉您编译器执行了哪些优化以及它使用了哪些指令。

即使编译器对循环进行向量化，程序也不会使用多个 CPU 或线程；没有*并发*。发生的情况是，一个 CPU 能够在多个数据点*上并行*运行单个执行线程。并行编程和并发编程之间的区别很微妙但很重要。

缓存局部性也可以解释为什么将第一个循环分成两个使其运行得更快，但不能解释为什么将“分配”循环分成两个不能。`b`有可能`c`在“分配”循环中足够小，以至于它们可以放入缓存中，这意味着循环已经具有最佳性能并且进一步破坏它不会带来任何好处。如果是这种情况，make`b`和`c`更大将迫使循环开始破坏缓存并将循环分成两个将具有预期的好处。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-02T06:37:45.090

优化由编译器（[http://en.wikipedia.org/wiki/Loop_optimization](http://en.wikipedia.org/wiki/Loop_optimization)）完成。如果您使用的是 GCC，请查看此页面[http://gcc.gnu.org/onlinedocs/gcc/Optimize-Options.html](http://gcc.gnu.org/onlinedocs/gcc/Optimize-Options.html)以获取可用优化规则的列表。

另一方面，看到您正在使用消耗大量 CPU 时间的 rand() 函数。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-02T06:40:07.350

> 我想问我的猜测是否正确，如果我是正确的，那么多个处理器会自动（无需线程编程）用于加速我的程序的规则或场合是什么？

不，猜测不对。在所有三种情况下，代码都在单个内核上运行。

出于某些其他原因，将第一个循环分成两个使其更快。也许您的编译器能够生成更好的代码，或者 CPU 更容易预取正确的数据等。如果不分析生成的机器代码，就很难判断。

# android - android多次使用图像

> ID：15757515
> 
> 赞同：2
> 
> 时间：2013-04-02T06:26:02.510
> 
> 标签：android

![在此处输入图像描述](https://i.stack.imgur.com/RxKCk.png)[绿色和红色图像应该是线性的，并且必须根据 dotColors[] 中的值显示。]

```
@Override
  public View getView(int position, View convertView, ViewGroup parent) {
  View v = super.getView(position, convertView, parent);
  dotColors = datasource.getColorsArrayForWeek(tasks.get(position).getId(), call.get(Calendar.DAY_OF_YEAR));    
  LinearLayout tlli = (LinearLayout)v;
  jj=0;

jj=0; 
   while(jj<7)
   {
       if(dotColors[jj]==0)
       {
            red=(ImageView) tlli.findViewById(R.id.day1);
        }
        else if(dotColors[jj]==1)
        {
            green=(ImageView) tlli.findViewById(R.id.day2);

        }
        jj++;
        Log.i("jj::" +jj," ");
    }
    return v;
    } 
```

从数据库查询后，值存储在 dotColors[] 中。dotColors[] 包含整数元素，其值为仅`0 and 1..`如果值是`0`我必须显示`"red"`图像，如果它`1`我必须显示`"green"`图像。我怎样才能实现它？希望现在图像中的解释更加清楚

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-02T10:32:47.717

在您的布局中将两个图像视图可见性设置为 android:visibility = "GONE" 在您的 oncreate 方法中

```
 red=(ImageView) tlli.findViewById(R.id.day1);
    green=(ImageView) tlli.findViewById(R.id.day2); 
```

状况良好

```
 if(dotColors[jj]==0)
   {
        red.setVisibility(View.Visible);
        red.setBackgroundResource(R.drawable.imageName)
        //if ur image in folder res/drawable
    }
    else if(dotColors[jj]==1)
    {
        green.setVisibility(View.Visible);
        green.setBackgroundResource(R.drawable.imageName1)

    } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-02T06:45:33.857

我想你希望能够看到颜色的变化。您的代码执行得如此之快，以至于更改不可见，并且直接与`jj=76`. 在您的代码中添加一个`Thread.sleep(millis)`，以便能够看到更改。

```
jj = 0;
while (jj < 77) {
    if(dotColors[jj]==0) {
        // Do your red thingy.
    } else {
        // Do your green thingy.
    }
    try {
        Thread.sleep(2000); // every 2 secs, you can see the change. Change as per your need
    } catch (InterruptedException e) {
        //Exception handling
    }
    Log.i("jj::" +jj," ");
    jj++;
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-02T06:35:03.183

> 红色=(ImageView)findViewById(R.id.yourimageviewid);
> 
> green=(ImageView)findViewById(R.id.yourimageviewid);

把它放在 oncreate()

使用 setImageBitmap() 动态设置图像

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-02T06:52:02.680

这是你想要的吗

```
@Override
  public View getView(int position, View convertView, ViewGroup parent) {
  View v = super.getView(position, convertView, parent);
  dotColors = datasource.getColorsArrayForWeek(tasks.get(position).getId(), call.get(Calendar.DAY_OF_YEAR));    
  LinearLayout tlli = (LinearLayout)v;
  jj=0;
   while(jj<7)
   {
       if(dotColors[jj]==0)
       {
            red=(ImageView) tlli.findViewById(R.id.day1);
            red.setImageResource(R.drawable.redImage);
        }
        else if(dotColors[jj]==1)
        {
            green=(ImageView) tlli.findViewById(R.id.day1);
            green.setImageResource(R.drawable.greenImage);

        }
        jj++;
        Log.i("jj::" +jj," ");
    }
    return v;
    } 
```

# php - 删除会话中的所有数据库更改

> ID：15757520
> 
> 赞同：-1
> 
> 时间：2013-04-02T06:26:18.010
> 
> 标签：php, mysql, codeigniter

所以我试图为一个网站创建一个假登录。我如何做到这一点是通过破解登录管理器。对于这个假用户来说，由于这是一个 prod 环境，我不希望他进行任何数据库更改，但如果他能够正确测试功能，那将非常有帮助。

所以我在想也许他可以进行他想要的所有更改，但是一旦他注销，它们就会被删除。是的，我知道交易，但问题是网站已经在使用交易，所以我想让你知道的是

我可以运行一个会话范围的事务，该事务可以在会话结束时恢复吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-02T06:28:20.310

我的建议：当他登录时，克隆一个数据库模式并使用该模式。当注销/一些时间限制时，删除架构。

# ios - 在键盘演示中点击 UITextView 或 UITextField 时出现 UIScrollView 问题

> ID：15757527
> 
> 赞同：2
> 
> 时间：2013-04-02T06:26:44.903
> 
> 标签：ios, cocoa-touch, uiscrollview, uitextview, uikeyboard

我有一个`UIScrollView`，其中包含`UITextFields`和`UITextViews`。我已经注册了`UIKeyboardDidChangeFrameNotification`. 当我点击文本字段或文本视图时，会触发确实更改框架通知操作，我调整`contentOffset`滚动视图的，如下所示

```
- (void)keyboardDidChangeFrame:(NSNotification *)notification
{
    CGRect keyboardEndFrame;
    [[[notification userInfo] objectForKey:UIKeyboardFrameEndUserInfoKey] getValue:&keyboardEndFrame];
    CGRect screenRect = [[UIScreen mainScreen] bounds];
    CGRect intersection;
    UIView *theFirstResponder = [[UIApplication sharedApplication].keyWindow findFirstResponder];

    if ([theFirstResponder isKindOfClass:[UITextView class]]) {
        if ([UIApplication sharedApplication].statusBarOrientation == UIInterfaceOrientationLandscapeLeft) {
            keyboardEndFrame = CGRectMake(keyboardEndFrame.origin.y, 416, keyboardEndFrame.size.height, keyboardEndFrame.size.width);
        }
        else if ([UIApplication sharedApplication].statusBarOrientation == UIInterfaceOrientationLandscapeRight)
        {
            keyboardEndFrame = CGRectMake(keyboardEndFrame.origin.y, 0, keyboardEndFrame.size.height, keyboardEndFrame.size.width);
        }
    }
    else
        keyboardEndFrame = CGRectMake(keyboardEndFrame.origin.y, keyboardEndFrame.origin.x, keyboardEndFrame.size.height, keyboardEndFrame.size.width);

    screenRect = CGRectMake(screenRect.origin.y, screenRect.origin.x, screenRect.size.height, screenRect.size.width);
    if(CGRectEqualToRect(lastKBDRect, keyboardEndFrame)) {
        return;
    }                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    
    lastKBDRect = keyboardEndFrame;
    if (CGRectIntersectsRect(keyboardEndFrame, screenRect)) {
        // Keyboard is visible

        //Convert Frame of the first responder, in context of the view that needs to be shifted
        UIView *firstResponder = [[UIApplication sharedApplication].keyWindow findFirstResponder];
        CGRect theRect = [firstResponder convertRect:firstResponder.frame toView:[UIApplication sharedApplication].keyWindow];
        theRect = CGRectMake(theRect.origin.y, theRect.origin.x > 768 ? 750 : theRect.origin.x, theRect.size.height, theRect.size.width);

        intersection = CGRectIntersection(keyboardEndFrame, theRect);

        //If intersection is null, then no need to shift anything. Simply return.
        if(CGRectIsNull(intersection)) {
            return;
        }
        //Shift the view so that the first responder view is completely visible, keeping the constraint that the origin of the first responder view is also visible.

        //Remember the current offset, so when we shift the view back, we shift it to the proper position.
        if (!wasContentViewShifted) {
            lastContentOffset = contentScrollView.contentOffset;
            lastContentSize = contentScrollView.contentSize;
            wasContentViewShifted = YES;
        }

        CGFloat offset = theRect.origin.y + theRect.size.height - keyboardEndFrame.origin.y;
        if((theRect.origin.y - offset) < 40) {
            offset += 42;
        }
        [UIView animateWithDuration:0.3f animations:^{
        contentScrollView.contentOffset = CGPointMake(0, contentScrollView.contentOffset.y + offset);
            contentScrollView.contentSize = CGSizeMake(0, lastContentSize.height + (600 - theRect.size.height));
    }];

    } else {
        // Keyboard is hidden. Move the view back only if it was shifted.
        if(wasContentViewShifted) {
            wasContentViewShifted = NO;
            [UIView animateWithDuration:0.3f animations:^{
                contentScrollView.contentOffset = lastContentOffset;
               contentScrollView.contentSize = lastContentSize;
            }];
        }
    }
} 
```

该应用程序仅支持横向。我在这里面临的问题是

1.  点击 textView 会显示键盘，如果 textview 被键盘隐藏，则会滚动到顶部。现在，改变方向（从左到右）会使 textView 进一步滚动到顶部，因此不可见。
2.  TextView 的滚动有时适用于横向左侧，但不适用于横向右侧，反之亦然。这是因为`keyboardEndFrame`我使用的值。我不应该使用`keyboardEndFrame`原始值吗？如果没有，还有什么替代方案？
3.  有时它适用于 textField 但不适用于 textView。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-02T07:34:37.910

[您可以尝试使用这个](https://stackoverflow.com/questions/1126726/how-to-make-a-uitextfield-move-up-when-keyboard-is-present)，而不是拥有如此复杂的解决方案。[在这里](https://stackoverflow.com/questions/1247113/iphone-keyboard-covers-text-field)也可以找到一种更简单的解决方案。

此外，不建议像您那样对帧进行硬编码。有关详细信息，请参阅[苹果文档](http://developer.apple.com/iphone/library/documentation/StringsTextFonts/Conceptual/TextAndWebiPhoneOS/KeyboardManagement/KeyboardManagement.html)。

# forms - Magento 搜索结果重定向到具有 302 临时移动的同一页面

> ID：15757528
> 
> 赞同：1
> 
> 时间：2013-04-02T06:26:46.833
> 
> 标签：forms, magento, search, redirect, http-status-code-302

每次我尝试使用 Magento 1.7 的迷你或高级搜索表单搜索某些内容时，我得到的不仅是重定向 302。

我花了一整天的时间寻找解决了同样问题但没有成功的人。

当我尝试 http:// ****** .net/catalogsearch/result/ 时，会将我重定向到主页。

更新：当我将表单方法更改为 POST 时，它可以工作，但我需要它与 GET 一起使用。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-02T19:25:40.937

1.  您首先需要检查相关控制器（ ResultController Mage_CatalogSearch_ResultController ） indexAction 函数是否该代码正在执行。

如果没有，那么您需要检查您的 .htaccess 文件

# stream - 将代码移植到 Pharo 2.0

> ID：15757529
> 
> 赞同：9
> 
> 时间：2013-04-02T06:26:51.393
> 
> 标签：stream, smalltalk, pharo

[Pharo 2.0](http://www.pharo-project.org/pharo-download/release-2-0)更改了一些基本的 API 位，我找不到执行以下操作的新方法：

1.  `FileDirectory default directoryNamed: aFolderString.`
2.  `FileDirectory on: aFilename.`
3.  `FileDirectory default assureExistenceOfPath: aString.`
4.  `ReferenceStream on: stream.`

新的等效代码是什么？是否有描述如何翻译或移植代码的更新指南？

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2013-04-02T07:13:19.330

以下陈述与您提出的问题相对应。

1.  `FileSystem workingDirectory / aFolderString`
2.  `aFilename asFileReference`
3.  `aString asFileReference ensureDirectory`
4.  ReferenceStream 在 2.0 中不再存在。

`aPathString asFileReference`解析`aPathString`，所以如果你的名字中有斜杠，你最终会进入一个子目录。

`/`另一方面，将单个目录或文件名作为参数，并且不解析进一步的子目录。根据您的平台，您可以轻松地引用名称`foo/bar`中带有斜杠的文件`FileSystem workingDirectory / 'foo/bar'`。

* * *

## 回答 #2

> 赞同：9
> 
> 时间：2013-04-23T00:28:15.007

我收集了一些您可能会觉得有用的翻译：

```
+------------------------------------------------------+---------------------------------------------------------------------------+
|                    FileDirectory                     |                                FileSystem                                 |
+------------------------------------------------------+---------------------------------------------------------------------------+
| FileDirectory assureExistence.                       | aString asFileReference ensureDirectory.                                  |
| FileDirectory baseNameFor: aString.                  | aString asFileReference base.                                             |
| FileDirectory containingDirectory.                   | Path parent asFileReference pathString.                                   |
| FileDirectory default deleteFileNamed: aString.      | aString asFileReference ensureDeleted.                                    |
| FileDirectory default directoryExists: aString.      | aString asFileReference exists.                                           |
| FileDirectory default directoryNamed: aFolderString. | FileSystem disk / aFolderString.                                          |
| FileDirectory directoryEntryFor: aString.            | aString asFilereference.                                                  |
| (FileDirectory entryFor: aString) / 'filename'.      | aString asFileReference / 'filename'.                                     |
| FileDirectory extensionFor: aString.                 | aString asFileReference extension.                                        |
| FileDirectory default fileExists: aString.           | aString asFileReference exists. " or " DiskStore current isFile: aString. |
| FileDirectory default fullNameFor: aString.          | aString asFileReference fullName.                                                         |
| FileDirectory default pathName.                      | FileSystem disk workingDirectory fullName.                                |
| FileDirectory on: aFilename.                         | aFilename asFileReference.                                                |
| (FileDirectory on: aString) entries collect: #name.  | aString asFileReference children collect: #basename.                      |
| (FileDirectory on: aString) entryAt: 'filename'.     | aString asFileReference / 'filename'.                                     |
| FileDirectory oldFileNamed: aString.                 | aString asFileReference readStream.                                       |
| FileDirectory slash.                                 | FileSystem disk separator. " or " DiskStore delimiter asString.           |
+------------------------------------------------------+---------------------------------------------------------------------------+ 
```

* * *

## 回答 #3

> 赞同：5
> 
> 时间：2013-04-02T08:57:45.403

ReferenceStream 不再受支持，在 Pharo 2.0 中已被删除。您应该使用编写良好、文档完善、测试良好且速度非常快的 Fuel。[http://rmod.lille.inria.fr/web/pier/software/Fuel](http://rmod.lille.inria.fr/web/pier/software/Fuel)

# php - 如何使用 PHP 或 MYSQL 将 InnoDB 表转换为 MyISAM？

> ID：15757533
> 
> 赞同：-4
> 
> 时间：2013-04-02T06:27:00.563
> 
> 标签：php, mysql

我已经使用带有 Relashionships 的 InnoDB Engine 创建了我的数据库。但是 000webhost 不支持 InnoDB 只支持 MISAM！

如何将 InnoDB 转换为 MISAM？有没有办法转换 GUI 或通过命令行（CMD）？以及如何通过CMD找到我可以用mysql播放的文件？

我正在使用带有 PHP 的 xampp 包。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-02T06:32:55.050

快速解决方案，更改表引擎类型 -

```
ALTER TABLE table_name ENGINE = MyISAM; 
```

**等待**

怎么样`Transactions`，如果有的`data backups`话`table locks`..在出现严重问题之前检查一下；）

# android - Linux 内核处理内存不足的情况

> ID：15757536
> 
> 赞同：2
> 
> 时间：2013-04-02T06:27:02.540
> 
> 标签：android, linux, memory-management, low-memory

Linux 内核如何处理内存不足的情况？

我们如何证明新内核足够好地处理低内存条件？

有没有相同的标准测试？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-04-02T07:33:05.977

Linux 内核使用`OOM(Out Of Memory) Killer`. OOM 杀手的策略是杀死一些进程或进程以允许分配进程获得它需要的内存。

为了选择要杀死的进程，OOM Killer 计算名为 的值`Badness`。然后它选择要杀死的具有最大 Badness 的进程。如果选择了分配过程，OOM 将终止其工作。如果选择了其他进程，则可以多次调用 OOM 杀手，以防之前运行的 OOM 杀手没有释放足够的内存。

*要杀死的进程的选择方式是*

*   根进程没有被杀死。
*   我们失去了完成的最少工作量。
*   我们恢复了大量的内存。
*   我们想杀死最少数量的进程（一个）。
*   我们试图杀死用户希望我们杀死的进程，这个算法已经过精心调整，以满足最小意外的原则。

我们可以使用该`/proc/sys/vm/overcommit_memory`值配置 OOM 杀手

*0-启发式内存过度*使用（默认设置）-地址空间的明显过度使用被拒绝

*1-总是过度使用*

*2-Disable overcommit* - 当 overcommit_memory 设置为 2 时，系统的总地址空间提交不允许超过物理 RAM 的交换 + 可配置百分比（overcommit_ratio - 默认为 50）

证明 linux 处理 OOM 的一个简单方法是通过 malloc 不断分配内存并 memset 内存，直到进程耗尽内存并被杀死（出现在 dmesg 中）。

内存不足的标准测试可以`Linux Test Project (LTP)`在[LTP Source Forge中找到](http://ltp.sourceforge.net/)

测试在 ltp/testcases/kernel/mem/oom 中可用

# android - android 2.3.3 中用于 sony-max 的 rtsp

> ID：15757538
> 
> 赞同：1
> 
> 时间：2013-04-02T06:27:08.707
> 
> 标签：android, android-videoview, rtsp

我有一个 android 应用程序，它将在 android 2.3.3 中直播视频，我在 videoview 中的 rtsp 链接上发现适用于此目的

```
String LINK = "type_here_the_link";
setContentView(R.layout.mediaplayer);
VideoView videoView = (VideoView) findViewById(R.id.video);
MediaController mc = new MediaController(this);
mc.setAnchorView(videoView);
mc.setMediaPlayer(videoView);
Uri video = Uri.parse(LINK);
videoView.setMediaController(mc);
videoView.setVideoURI(video);
videoView.start(); 
```

.但我没有得到索尼最大或索尼六的任何rtsp工作链接。我试过 rtsp://208.77.20.52:1935/dmm1/setmax。任何 1 对可以做什么有任何想法？任何帮助将不胜感激。

# excel - Excel 2013 - 命令栏问题

> ID：15757540
> 
> 赞同：1
> 
> 时间：2013-04-02T06:27:09.660
> 
> 标签：excel, vba

我有一个 VB6 Addin DLL，它在 Excel 中创建一个 Toolbar 按钮（使用 Commandbar 对象）。

代码在 Excel 2007 和 Excel 2010 中运行良好，但在 Excel 2013 中失败。

# 问题描述

Addin DLL 加载成功，Excel 2013 中出现工具栏按钮。但按钮无响应。单击无效。

请帮忙

# javascript - 多个电子邮件验证

> ID：15757550
> 
> 赞同：0
> 
> 时间：2013-04-02T06:27:33.367
> 
> 标签：javascript, validation

我有一个电子邮件 ID 字段，其中必须输入多个电子邮件 ID，并用逗号分隔。如何在 jsp 页面中使用 JavaScript 对所有电子邮件 ID 进行验证？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-02T06:36:08.310

可能会帮助您使用 javascript 验证多个电子邮件 ID

```
 <html>
<title>email validation</title>
<script language="JavaScript" type="text/javascript">
    // Validate Email .
    function validateEmail(field) {
        var regex = /^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,5}$/;
       return (regex.test(field)) ? true : false;
    }
    function validateMultipleEmailsCommaSeparated(emailcntl) {
        var seperator = ';';

        var value = emailcntl;

        if (value != '') {
            var result = value.split(seperator);

            for (var i = 0; i < result.length; i++) {

                if (result[i] != '') {

                    if (!validateEmail(result[i])) {
                        alert('Please check, `' + result[i] + '` email addresses not valid!');
                        return false;
                    }
                }
            }
        }
        return true;
    }
</script>
<table>
    <tr>
        <td>
            <input type="text" id="email" name="email" />
            <input type="button" onclick="validateMultipleEmailsCommaSeparated(email.value);"
                value="check Email" /><br />
            <div id="errorDiv" />
        </td>
    </tr>
</table>
</html> 
```

# sql - 安排 Oracle 运行查询并将该数据保存到表中

> ID：15757551
> 
> 赞同：0
> 
> 时间：2013-04-02T06:27:36.247
> 
> 标签：sql, oracle, scheduling, dbms-scheduler

有没有办法可以安排 Oracle 运行查询并将该数据保存到表中？

或者有什么方法可以安排执行一次单独运行的 Oracle 查询并将数据保存到表中？

我有一个自动报告页面，由于在很长一段时间内执行繁重的逻辑（涵盖 2 年的数据 + 逻辑计算），该页面存在性能问题。如果客户点击报告页面，他们会抱怨加载时间过长；通过在当前时间将数据转储到表中可以解决我的问题。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-04-02T06:31:04.933

您可以创建物化视图

```
CREATE MATERIALIZED VIEW mv_name
  REFRESH COMPLETE
  START WITH sysdate
  NEXT sysdate + interval '1' hour
AS
<<your query here>> 
```

这将创建一个每小时刷新一次的物化视图。物化视图将数据存储在一个也被命名的表段中`MV_NAME`，您可以像任何其他表一样查询该表段。

根据查询，您可以通过在基表上创建适当的物化视图日志来执行增量刷新而不是完全刷新。

# jquery - 将灰度过滤器应用于 div

> ID：15757554
> 
> 赞同：6
> 
> 时间：2013-04-02T06:27:52.693
> 
> 标签：jquery, html, css

![快速示例](https://content.screencast.com/users/deflime/folders/Jing/media/aa95ea13-1e27-4c0f-97f4-999dd5bcc437/2013-04-01_2316.png)

尝试对主背景上方的 div 应用灰度过滤器。想知道这对于 jQuery、CSS3 或 HTML5 是否可行。我正在使用一些新的 CSS3/HTML5 技术，但没有成功。

我不能将它保存为两个图像，因为背景需要拉伸全尺寸，所以它不会在每个屏幕上都完全相同。

我正在做一个早期的草稿，我只是想知道我是否应该放弃这个想法。如果您指出我正确的方向，我可以弄清楚。

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2013-04-02T06:49:12.953

您可以使用 CSS 过滤器：

```
#mydiv{
    -webkit-filter: grayscale(1);
} 
```

请记住，这目前适用于 Chrome 和 Safari。

更多信息：[http ://caniuse.com/#feat=css-filters](http://caniuse.com/#feat=css-filters)

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2013-04-02T06:50:09.637

您不能在 CSS 中应用“我身后的一切灰度”过滤器。

如果您不介意全屏丢失纵横比（这可能与您的云图像无关），这是一种技术。它在背景顶部放置一个宽度为一半的 div，并使用`background-size:200% 100%`它使其大小与背景相同。然后我们应用 CSS3 灰度和它的旧版本。然后在顶部放置一个伪元素以使图像变暗。

经过测试并适用于：Chrome 25、Firefox、IE9（我也假设为 7、8）。

[jsFiddle](http://jsfiddle.net/5JX2P/2/)

![在此处输入图像描述](https://i.stack.imgur.com/lcynb.png)

```
.gray {
    background:url(https://www.google.com.au/logos/2013/maria_sibylla_merians_366th_birthday_-1256008-hp.jpg);
    width:50%;
    height:100%;
    background-size:200% 100%;
    position:relative;

    -webkit-filter: grayscale(100%);
    -moz-filter: grayscale(100%);
    -ms-filter: grayscale(100%);
    -o-filter: grayscale(100%);
    filter: url(grayscale.svg); /* Firefox 4+ */
    filter: gray; /* IE 6-9 */
}
.gray:after {
    display:block;
    content:"";
    position:absolute;
    top:0;
    bottom:0;
    left:0;
    right:0;
    background-color:#000;
    opacity:.7;
}
body {
    margin:0;
    background:url(https://www.google.com.au/logos/2013/maria_sibylla_merians_366th_birthday_-1256008-hp.jpg);
    height:100%;
    background-size:100% 100%;
}
html {
    height:100%;
} 
```

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2018-06-26T14:08:56.360

您可以通过对顶部的 div 应用 mix-blend-mode 来做到这一点，背景为白色：

```
.divOnTop {
     background: white;
     mix-blend-mode: saturation;
} 
```

注意 z-index。

有关混合混合模式的更多信息：

[https://developer.mozilla.org/en-US/docs/Web/CSS/mix-blend-mode](https://developer.mozilla.org/en-US/docs/Web/CSS/mix-blend-mode)

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2013-04-02T06:48:53.993

CSS 使使用 rgba 值提供“灰度”或透明背景变得简单。或者，您可以使用透明图像。

一个例子在这里[http://jsfiddle.net/TtSUD/](http://jsfiddle.net/TtSUD/)

在您的 CSS 中，您将 rgba 值应用于背景，如下所示：

```
#background_div{background-color:rgba(150,150,150,0.5);} 
```

前三个值是红色绿色和蓝色的量，第四个值是不透明度的百分比。1 = 100% 不透明，0.5 = 50% 不透明/透明。

希望这可以帮助...

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2021-04-26T19:56:05.293

> [背景过滤器](https://caniuse.com/?search=backdrop-filter)

然而，在撰写本文时，它已经混合了各种支持——Chrome、Edge、Safari、Opera，但令人惊讶的是不支持 Firefox。给主要浏览器一些时间吧，我猜。不过，我不希望 IE 支持它。

这是一个示例，其中第一行块是彩色的，然后第二行块*也是*彩色的，但被使用背景过滤器的覆盖覆盖。

```
.content, .overlay {
  position: absolute;
  width: 100%;
  height: 50%;
}

.content.second-content, .overlay {
  top: 50%;
}

.overlay {
  backdrop-filter: grayscale(1);
}

.content .color {
  display: inline-block;
  position: relative;
  height: 100%;
  width: 30%;
}

.red {
  background-color: red;
}

.blue {
  background-color: blue;
}

.yellow {
  background-color: yellow;
}
```

```
<div class="content">
  <div class="color red"></div>
  <div class="color blue"></div>
  <div class="color yellow"></div>
</div>
<div class="content second-content">
  <div class="color red"></div>
  <div class="color blue"></div>
  <div class="color yellow"></div>
</div>
<div class="overlay">
</div>
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2022-02-25T21:03:28.010

2022：您现在可以通过对浏览器的广泛支持（IE 除外）对所有内容进行灰度化。您也不必使用`webkit`前缀：

```
filter: grayscale(1); 
```

* * *

## 回答 #7

> 赞同：-1
> 
> 时间：2013-04-02T18:12:07.597

您可以将背景图像设为其背后图像的灰度版本。那应该行得通。你只需要正确定位背景。

# c++ - 引用堆栈对象的地址

> ID：15757557
> 
> 赞同：0
> 
> 时间：2013-04-02T06:28:11.423
> 
> 标签：c++, reference

我很难理解为什么下面的代码不能在 Visual Studio 2012 下编译，错误已经嵌入到下面的代码中。我觉得这与引用堆栈对象有关，但不太确定。有人可以帮忙吗？

谢谢

```
#include <iostream>

typedef struct Node {
    Node *next;
} Node;

void test(Node *&p) {
    p=p->next;
}

void main() {
    Node *p1=new Node();
    test(p1);   // this line compiles okay

    Node p={0};
    test(&p);    // error C2664: 'test' : cannot convert parameter 1 from 'Node *' to 'Node *&'
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-02T06:30:24.527

`&p`不是类型的变量`Node*`。它是一个类型的常数`Node*`。

即使您可以以某种方式获取对 的引用`p`并将其传递给`test()`，`p=p->next;`仍然会失败，因为您无法分配给常量。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-02T06:32:15.210

您通过地址传递变量，而不是通过引用指向变量的指针。我认为这会起作用：

```
void main() {
    Node *p1=new Node();
    test(p1);   

    Node p={0};
    Node* p2 = &p;
    test(p2);     
} 
```

# html - 哪个是正确的方法，内联块或浮动？

> ID：15757561
> 
> 赞同：0
> 
> 时间：2013-04-02T06:28:19.470
> 
> 标签：html, css

我正在为网站设计布局，但对何时使用`inline-block`或感到困惑`float`。哪个是最好的方法：`inline-block`或`float`？

使用`inline-block`意味着它不支持 Internet Explorer。有时`float`也会造成伤害（即使使用 clearfix hack）。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-02T06:31:39.700

请参阅文章*[是否应使用内联块作为浮点数的替代品](http://www.vanseodesign.com/css/inline-blocks/)*。这会对你有很大帮助。

* * *

## 回答 #2

> 赞同：-2
> 
> 时间：2013-04-02T06:35:58.750

对于布局，您都不应该使用。

根据[http://www.w3schools.com/cssref/pr_class_display.asp#gsc.tab=0](http://www.w3schools.com/cssref/pr_class_display.asp#gsc.tab=0)，Internet Explorer 8+ 支持所有内联属性，因此如果您不开发商业网站应该没问题。

我建议使用[HTML5](http://en.wikipedia.org/wiki/HTML5)元素，例如`<div>`和。例如，`<header>``<article>`

```
<body>
  <header>
    <div id="logo">
      <img src="myLogo.png" alt="logo"/>
    </div>
    <nav>
    </nav>
  </header>
  <div id="pageContainer">
    <article>
      <section>
        ...
      </section>
    </article>
  </div>
</body> 
```

然后对于 each 中的单个元素`<div>`，您可以定义内联或浮动（如图片或表格）。

`<div>`: 基本上是网页的一部分。

甜蜜的 HTML5 元素列表！：[http ://www.w3schools.com/html/html5_new_elements.asp#gsc.tab=0](http://www.w3schools.com/html/html5_new_elements.asp#gsc.tab=0)

示例：http: [//jsfiddle.net/JYZhz/](http://jsfiddle.net/JYZhz/)

# java - JAVA - 如何更改字符'F'/'f'的单个keyPressed之间的状态？

> ID：15757567
> 
> 赞同：0
> 
> 时间：2013-04-02T06:28:43.907
> 
> 标签：java, swing, jpanel, actionlistener, keypress

此刻，当我击中`F`或时`f`：

```
 private static final char FILL_POLYGON_LOWERCASE = 'f';
    private static final char FILL_POLYGON = 'F';

@Override
public void keyTyped(KeyEvent keyEvent) 
{
    PolygonFiller polyFiller = new PolygonFiller();
    char key = keyEvent.getKeyChar();

    switch(key)
    {
        /**
         *  Fill the polygons 
         */
        case FILL_POLYGON:      
        {
            if (greenLightForFilling == true)
            {
                fillPolygon(polyFiller);

                System.out.print("called");
            }

            break;
        }  // end FILL_POLYGON

        case FILL_POLYGON_LOWERCASE:
        {
            if (greenLightForFilling == true)
            {
                fillPolygon(polyFiller);
            }
            break;  
        }
...

} 
```

程序进入`fillPolygon(polyFiller);`.

意思是，当我第一次打的时候`f`，我就进去了`fillPolygon()`。

我怎样才能进入其他方法，例如`other()`，当我击球`f`或`F` **再次**击球时？

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-02T06:35:40.153

所以问题是，如果你点击 f/F 你去填充多边形，然后再次按 f/F 将调用 other()。

这可以是有状态类的经典案例。

在类级别有一个属性。

并在输入 f/F 时检查该值并将其加一。再次输入 f/F 时，检查该值并将其加一。

在每次增量之前，您应该检查是否，

```
//Am assuming that there are more than two functions, else could use boolean

if (value == 1) {
    fillpolygon();
}

else if (value == 2) {
    other();
}
else if (value == 2) {
    some_other();
} 
```

请记住，入口点将是一个函数，从那里根据与此类似的检查来委派流程。

希望这可以帮助。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-02T06:38:00.387

> 我怎样才能进入其他方法，例如`other()`，当我击球`f`或`F`再次击球时？

您需要引入一个布尔标志。

这是一个非常简单的[状态机](http://en.wikipedia.org/wiki/Finite-state_machine)示例。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-02T06:35:58.907

将先前使用的按钮存储在变量中，例如“currentCommand”和“previousCommand”。每次检测到新输入时，您都会将当前输入放在上一个并将新输入存储在当前成员中。或者，如果您想要超过最后两个按键，请使用堆栈。

# java - Hazelcast如何进行分区

> ID：15757571
> 
> 赞同：14
> 
> 时间：2013-04-02T06:28:58.243
> 
> 标签：java, partitioning, in-memory-database, hazelcast

我正在使用 Hazelcast v2.5。我对集群中的分区有一些疑问。

*   分区是如何识别的？

*   当发出 m.get 请求时，Hazelcast 如何识别数据驻留在哪个分区？（除了钥匙）

*   新成员加入集群时如何进行分区？

*   如果输入了 partition-ID，我可以获取分区中的条目吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2014-03-20T17:09:08.830

Hazelcast 有[一本书](http://www.hazelcast.com/resources/the-book-of-hazelcast/)涵盖了像你这样的问题。分区是提供容错的内部技术。您可以设置分区数（默认为 271）。作为客户端，您可以使用对用户更友好的对象，例如 Collections\Queues.. 对于地图，您可以控制备份计数并应该从备份中读取 hazelcast。

我猜你可以使用[PartitionManager管理分区](http://grepcode.com/file/repo1.maven.org/maven2/com.hazelcast/hazelcast/2.6.5/com/hazelcast/impl/PartitionManager.java#PartitionManager)

# delphi - 如何从与 Live Bindings 链接的自定义组件访问数据集？

> ID：15757572
> 
> 赞同：0
> 
> 时间：2013-04-02T06:29:02.717
> 
> 标签：delphi, firemonkey, delphi-xe3, firemonkey-fm2, livebindings

我正在创建自己的从 TMSFMXGrid 派生的 DBGrid。如果使用 Live Bindings 链接，我如何找出链接到该网格的数据集？在设计时，您可以在对象检查器属性 LiveBinding 中看到，但在运行时无法访问。否则我将不得不发布我自己的属性，您可以在其中定义使用的数据集。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-04T14:25:16.413

经过几个小时的搜索，我找到了这个解决方案。

```
function GetDataSet: TDataSet;
var
  obj: TColumnDescObject;
  dts: TBaseLinkingBindSource;
  ds: TDataSet;
begin
  Result := nil;
  if ColumnDescList.Count > 0 then
  begin
    obj := TColumnDescObject(ColumnDescList.Items[0]);
    if Assigned(obj) then
    begin
      dts := obj.ColumnDesc.DataSource;
      if Assigned(dts) then
      begin
        if dts is TCustomBindSourceDB then
        begin
          ds := (dts as TCustomBindSourceDB).DataSet;
          if Assigned(ds) then
          begin
            Result := ds;
          end;
        end;
      end;
    end;
  end;
end; 
```

# java - Android：将捕获的图像格式从JPEG保存到内部存储目录中的PNG

> ID：15757574
> 
> 赞同：0
> 
> 时间：2013-04-02T06:29:24.410
> 
> 标签：java, xml

在 Eclipse 中，我从模拟器中捕获了图像，并将格式保存为 JPEG。但我想将图像格式保存为 PNG。如何将图像格式从 JPEG 转换为 PNG。

在这里，我使用此代码将图像保存在目录中。

```
 SimpleDateFormat dateFormat = new SimpleDateFormat("yyyymmddhhmmss");
    String date = dateFormat.format(new Date());
   String photoFile = "Picture_" + date + ".PNG";
// String photoFile = "Picture_" + date + ".JPEG";
    String filename = pictureFileDir.getPath() + File.separator + photoFile;

    File pictureFile = new File(filename);

    try {
      FileOutputStream fos = new FileOutputStream(pictureFile);

      fos.write(data);

      fos.close();
      Toast.makeText(context, "New Image saved:" + photoFile,
          Toast.LENGTH_LONG).show();
    } catch (Exception error) {
      //Log.d(IntersaActivity.DEBUG_TAG, "File" + filename + "not saved: "+ error.getMessage());
      Toast.makeText(context, "Image could not be saved.",
          Toast.LENGTH_LONG).show();
    } 
```

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-02T06:35:10.583

这里是使用 Bitmap 类创建图像文件的代码

**编辑**

您需要首先将现有图像文件打开到此 bmp 对象中，并在文件对象中为保存提供另一个名称。

```
Bitmap bmp = BitmapFactory.decodeFile(pathName);// here you need to pass your existing file path

File image = new File(your_sdcard_file_path);
FileOutputStream outStream;
try {
    image.createFile(); // need to create file as empty first if it was exist already then change the name
    outStream = new FileOutputStream(image);
// here you need to pass the format as I have passed as PNG so you can create the file with specific format
    bitmap.compress(Bitmap.CompressFormat.PNG, 100, outStream); 
    /* 100 to keep full quality of the image */

    outStream.flush();
    outStream.close();
    success = true;
} catch (FileNotFoundException e) {
    e.printStackTrace();
} catch (IOException e) {
    e.printStackTrace();
} 
```

# android - 在android中绘制地理数据库

> ID：15757579
> 
> 赞同：1
> 
> 时间：2013-04-02T06:30:00.273
> 
> 标签：android, geography, geotools

在我们的 android 应用程序中，我们必须绘制从 sdcard 或在线加载的地理数据。我们可以`geotools`在java swing应用程序中使用。

所以我想知道android中是否有一个开箱即用的库？

# ios - 在 iPhone 应用程序中打开 iBooks

> ID：15757584
> 
> 赞同：2
> 
> 时间：2013-04-02T06:30:16.140
> 
> 标签：ios, iphone, objective-c, ibooks

我想在我的应用程序中打开**.IBOOK 文件**。我的问题是是否可以这样做，因为我的客户想要使用 iBook 作者制作一些 iBook，并希望在我正在处理的 Library Application 中打开它们。如果有可能，***苹果会批准这个申请***，或者如果有任何其他方式。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-02T06:59:23.233

我认为您需要的是：[UIDocumentInteractionController 类参考](https://developer.apple.com/library/ios/#documentation/UIKit/Reference/UIDocumentInteractionController_class/Reference/Reference.html)

iBooks 有一个未记录的 ibooks URL 方案，这意味着您可以使用类似`[NSURL URLWithString:@"ibooks://"]`.

但我认为，`UIDocumentInteractionController`这样做是正确的方法。这是**Apple 希望您这样做的方式**。另外，使用`UIDocumentInteractionController`的好处是让用户决定如何处理文件。

# sql - SQL 案例：返回案例值

> ID：15757586
> 
> 赞同：1
> 
> 时间：2013-04-02T06:30:23.577
> 
> 标签：sql, sql-server, sql-server-2008

以下不起作用：

```
SELECT ..., 
    CASE Foo.Date
        WHEN '01.01.1900' THEN ''
        ELSE Foo.Date
END
FROM BAR, ... 
```

如果日期不是 01.01.1900（字段类型为 DateTime），我想返回日期。有没有可能这样做？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-02T06:33:12.393

如果将其转换为 varchar 不成问题，您可以执行以下操作：

```
SELECT ..., 
   CASE Foo.Date
        WHEN '01.01.1900' THEN ''
        ELSE cast(Foo.Date as varchar(50))
END as Date
FROM BAR, ... 
```

否则，如果它必须保留一个日期，则需要使用 NULL 而不是空字符串：

```
SELECT ..., 
   CASE Foo.Date
        WHEN '01.01.1900' THEN null
        ELSE Foo.Date
END as Date
FROM BAR, ... 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-02T06:36:45.900

试试这个...

```
 SELECT ..., 
        (CASE WHEN Foo.Date!='01.01.1900' THEN Foo.Date 
        END) as Date
    FROM BAR, ... 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-02T06:46:03.387

```
SELECT ..., 
    CASE 
        WHEN CAST(Foo.Date AS DATE) = '01.01.1900' THEN ''
        ELSE CAST(Foo.Date AS VARCHAR(25))
    END AS Date
FROM BAR, ... 
```

由于您的字段是 DATETIME，因此它的值将始终包含 TIME 部分，并且仅当时间部分为 0:00（午夜）时才等于确切日期。将其转换为 DATE 将删除时间部分，您可以进行比较。

同样在同一个 CASE 中返回 '' 和 date 会隐式地将您的空字符串转换为日期 - 再次是 01.01.1900，因此您需要在 CASE 的其他部分将 date 转换为 varchar，或者返回 NULL 而不是像 Adam 中的 ''普洛赫的例子。

# c# - 构造函数测试方法

> ID：15757589
> 
> 赞同：3
> 
> 时间：2013-04-02T06:30:31.930
> 
> 标签：c#, unit-testing, tdd, test-project

使用 TDD 开发事件调度程序并为以下课程编写测试项目。

决定写一个构造函数逻辑的测试方法

```
public class TechDay
{
    public Session MorningSlot { get; set; }
    public Session EveningSlot { get; set; }

    public TechDay()
    {
        this.MorningSlot = new Slot();
        this.EveningSlot = new Slot();

        this.MorningSlot.Sessions= new List<Session>();
        this.EveningSlot.Sessions= new List<Session>();
        this.ConfigureEventSettings();
    }

    protected virtual void ConfigureEventSettings()
    { 
      CultureInfo provider = CultureInfo.InvariantCulture;
      this.MorningSlot.StartTime = DateTime.ParseExact("9:00 AM", "h:mm tt", provider);
      this.MorningSlot.EndTime = DateTime.ParseExact("12:00 PM", "h:mm tt", provider);
      this.EveningSlot.StartTime = DateTime.ParseExact("1:00 PM", "h:mm tt", provider);
      this.EveningSlot.EndTime = DateTime.ParseExact("5:00 PM", "h:mm tt", provider);
    }
} 
```

**测试方法**

```
[TestMethod]
public void CheckMorningSlot()
{
    TechDay techday=new TechDay();
    Assert.IsNotNull(techday.MorningSlot);
}

[TestMethod]
public void CheckEveningSlot()
{
    TechDay techday=new TechDay();
    Assert.IsNotNull(techday.EveningSlot);
}

[TestMethod]
public void CheckEveningSlotSessions()
{
    TechDay techday=new TechDay();
    Assert.IsNotNull(techday.EveningSlot.Sessions);
}

[TestMethod]
public void CheckMorningSlotSessions()
{
    TechDay techday=new TechDay();
    Assert.IsNotNull(techday.MorningSlot.Sessions);
} 
```

我是否需要编写不同的方法来检查构造函数中的不同参数初始化？也不是构造函数调用另一个方法。

为这段代码编写测试方法的最佳方法是什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-02T09:02:50.503

您应该测试代码的功能需求，而不是每一位代码。那么您正在测试的功能是什么？如果要求早上 9 点开始，那么您的测试将类似于：

```
[TestMethod]
public void Morning_slot_starts_at_nine_am()
{
    var expected = DateTime.ParseExact("9:00 AM", "h:mm tt", CultureInfo.InvariantCulture);
    var techDay = new TechDay();
    var actual = techDay.MorningSlot.StartTime;
    Assert.AreEqual(expected, actual);
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-02T09:31:16.460

您必须将配置逻辑提取到另一个类。使用接口来模拟（参见[Moq](https://code.google.com/p/moq/wiki/QuickStart)）。你会得到简单的测试。

```
public class TechDay
{
    public Session MorningSlot { get; set; }
    public Session EveningSlot { get; set; }

    public TechDay(IEventConfigurator morningConfigurator, IEventConfigurator eveningConfigurator)
    {
        MorningSlot = new Session();
        morningConfigurator.Configure(MorningSlot);

        EveningSlot = new Session();
        eveningConfigurator.Configure(EveningSlot);
    }
}

public interface IEventConfigurator
{
    void Configure(Session session);
}

public class Session
{
    public static DateTime StartTime { get; set; }
    public static DateTime EndTime { get; set; }
}

public class FromStringEventConfigurator : IEventConfigurator
{
    private readonly string _begin;
    private readonly string _end;

    public FromStringEventConfigurator(string begin, string end)
    {
        _begin = begin;
        _end = end;
    }

    public void Configure(Session session)
    {
        CultureInfo provider = CultureInfo.InvariantCulture;
        Session.StartTime = DateTime.ParseExact(_begin, "h:mm tt", provider);
        Session.EndTime = DateTime.ParseExact(_end, "h:mm tt", provider);
        // ...
    }
} 
```

# android - 已安装应用程序列表强制关闭：java.lang.ClassCastException

> ID：15757590
> 
> 赞同：3
> 
> 时间：2013-04-02T06:30:38.323
> 
> 标签：android, performance

我正在尝试制作一个应用程序，它提供已安装应用程序的列表，当单击一个项目时，启动另一个活动，说明已安装应用程序所需的权限。我得到了已安装的应用程序列表，但是当我单击任何应用程序而不是开始新活动时，应用程序强制关闭。

主要活动

```
package com.example.appslist;

import java.util.List;
import com.example.appslist.adapter.ApkAdapter;
import com.example.appslist.app.AppData;
import android.os.Bundle;
import android.app.Activity;
import android.content.Intent;
import android.content.pm.PackageInfo;
import android.content.pm.PackageManager;
import android.view.View;
import android.widget.AdapterView;
import android.widget.AdapterView.OnItemClickListener;
import android.widget.ListView;

public class ApkListActivity extends Activity implements OnItemClickListener {

    PackageManager packageManager;

    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.main);

        packageManager = getPackageManager();
        List<PackageInfo> packageList = packageManager
                .getInstalledPackages(PackageManager.GET_PERMISSIONS);

        ListView mylistview= (ListView) findViewById(android.R.id.list);
        mylistview.setAdapter(new ApkAdapter(this, packageList, packageManager));

        mylistview.setOnItemClickListener(this);
    }

    @Override
    public void onItemClick(AdapterView<?> parent, View view, int position,
            long row) {
        PackageInfo packageInfo = (PackageInfo) parent
                .getItemAtPosition(position);
        AppData appData = (AppData) getApplicationContext();
        appData.setPackageInfo(packageInfo);

        Intent appInfo = new Intent(getApplicationContext(), ApkInfo.class);
        startActivity(appInfo);
    }
} 
```

日志猫

```
04-02 11:16:04.536: E/asset(2777): MAS: getAppPckgAndVerCode package: com.example.appslist === version 1
04-02 11:16:04.559: D/dalvikvm(2777): Trying to load lib lib_glossary.so 0x0
04-02 11:16:04.559: I/dalvikvm(2777): Unable to dlopen(lib_glossary.so): Cannot load library: load_library[1083]: Library 'lib_glossary.so' not found
04-02 11:16:04.567: E/MBGlossaryManager(2777): lib_glossary.so can't be loaded
04-02 11:16:04.700: E/asset(2777): MAS: getAppPckgAndVerCode package: com.google.android.location === version 8
04-02 11:16:04.708: E/asset(2777): MAS: getAppPckgAndVerCode package: com.android.launcher === version 8
04-02 11:16:04.708: E/asset(2777): MAS: getAppPckgAndVerCode package: com.android.defcontainer === version 8
04-02 11:16:04.708: E/asset(2777): MAS: getAppPckgAndVerCode package: com.navngo.igo.javaclient === version 148360
04-02 11:16:04.715: E/asset(2777): MAS: getAppPckgAndVerCode package: com.android.contacts === version 8
04-02 11:16:04.723: E/asset(2777): MAS: getAppPckgAndVerCode package: com.arcsoft.photoworkshop === version 5
04-02 11:16:04.778: D/dalvikvm(2777): GC_EXTERNAL_ALLOC freed 822 objects / 60704 bytes in 56ms
04-02 11:16:04.786: E/asset(2777): MAS: getAppPckgAndVerCode package: com.android.phone === version 8
04-02 11:16:04.794: E/asset(2777): MAS: getAppPckgAndVerCode package: com.android.calculator2 === version 8
04-02 11:16:04.794: E/asset(2777): MAS: getAppPckgAndVerCode package: com.android.htmlviewer === version 8
04-02 11:16:04.801: E/asset(2777): MAS: getAppPckgAndVerCode package: com.example.myfirstapp === version 1
04-02 11:16:04.801: E/asset(2777): MAS: getAppPckgAndVerCode package: com.android.providers.calendar === version 8
04-02 11:16:04.809: E/asset(2777): MAS: getAppPckgAndVerCode package: com.android.bluetooth === version 8
04-02 11:16:04.809: E/asset(2777): MAS: getAppPckgAndVerCode package: com.example.sessionmanagement === version 1
04-02 11:16:04.817: E/asset(2777): MAS: getAppPckgAndVerCode package: com.android.calendar === version 8
04-02 11:16:04.817: E/asset(2777): MAS: getAppPckgAndVerCode package: com.google.android.location === version 8
04-02 11:16:04.817: E/asset(2777): MAS: getAppPckgAndVerCode package: com.android.launcher === version 8
04-02 11:16:04.825: E/asset(2777): MAS: getAppPckgAndVerCode package: com.android.defcontainer === version 8
04-02 11:16:04.825: E/asset(2777): MAS: getAppPckgAndVerCode package: com.navngo.igo.javaclient === version 148360
04-02 11:16:04.872: E/asset(2777): MAS: getAppPckgAndVerCode package: com.android.contacts === version 8
04-02 11:16:06.536: D/AndroidRuntime(2777): Shutting down VM
04-02 11:16:06.536: W/dalvikvm(2777): threadid=1: thread exiting with uncaught exception (group=0x400207e0)
04-02 11:16:06.551: E/AndroidRuntime(2777): FATAL EXCEPTION: main
04-02 11:16:06.551: E/AndroidRuntime(2777): java.lang.ClassCastException: android.app.Application
04-02 11:16:06.551: E/AndroidRuntime(2777):     at com.example.appslist.ApkListActivity.onItemClick(ApkListActivity.java:44)
04-02 11:16:06.551: E/AndroidRuntime(2777):     at android.widget.AdapterView.performItemClick(AdapterView.java:284)
04-02 11:16:06.551: E/AndroidRuntime(2777):     at android.widget.ListView.performItemClick(ListView.java:3444)
04-02 11:16:06.551: E/AndroidRuntime(2777):     at android.widget.AbsListView$PerformClick.run(AbsListView.java:1696)
04-02 11:16:06.551: E/AndroidRuntime(2777):     at android.os.Handler.handleCallback(Handler.java:587)
04-02 11:16:06.551: E/AndroidRuntime(2777):     at android.os.Handler.dispatchMessage(Handler.java:92)
04-02 11:16:06.551: E/AndroidRuntime(2777):     at android.os.Looper.loop(Looper.java:143)
04-02 11:16:06.551: E/AndroidRuntime(2777):     at android.app.ActivityThread.main(ActivityThread.java:4717)
04-02 11:16:06.551: E/AndroidRuntime(2777):     at java.lang.reflect.Method.invokeNative(Native Method)
04-02 11:16:06.551: E/AndroidRuntime(2777):     at java.lang.reflect.Method.invoke(Method.java:521)
04-02 11:16:06.551: E/AndroidRuntime(2777):     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:858)
04-02 11:16:06.551: E/AndroidRuntime(2777):     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:616)
04-02 11:16:06.551: E/AndroidRuntime(2777):     at dalvik.system.NativeStart.main(Native Method)
04-02 11:16:08.137: I/Process(2777): Sending signal. PID: 2777 SIG: 9 
```

我无法理解强制关闭的原因。请帮忙

应用程序数据.java

```
package com.example.appslist.app;

import android.app.Application;
import android.content.pm.PackageInfo;

public class AppData extends Application {

    PackageInfo packageInfo;

    public PackageInfo getPackageInfo() {
        return packageInfo;
    }

    public void setPackageInfo(PackageInfo packageInfo) {
        this.packageInfo = packageInfo;
    }
} 
```

ApkAdapter.java

```
package com.example.appslist.adapter;

import java.util.List;
import com.example.appslist.R;
import android.app.Activity;
import android.content.pm.PackageInfo;
import android.content.pm.PackageManager;
import android.graphics.drawable.Drawable;
import android.view.LayoutInflater;
import android.view.View;
import android.view.ViewGroup;
import android.widget.BaseAdapter;
import android.widget.TextView;

public class ApkAdapter extends BaseAdapter {
    List<PackageInfo> packageList;
    Activity context;
    PackageManager packageManager;

    public ApkAdapter(Activity context, List<PackageInfo> packageList,
            PackageManager packageManager) {
        super();
        this.context = context;
        this.packageList = packageList;
        this.packageManager = packageManager;
    }

    private class ViewHolder {
        TextView apkName;
    }

    public int getCount() {
        return packageList.size();
    }

    public Object getItem(int position) {
        return packageList.get(position);
    }

    public long getItemId(int position) {
        return 0;
    }

    public View getView(int position, View convertView, ViewGroup parent) {
        ViewHolder holder;
        LayoutInflater inflater = context.getLayoutInflater();

        if (convertView == null) {
            convertView = inflater.inflate(R.layout.apklist_item, null);
            holder = new ViewHolder();

            holder.apkName = (TextView) convertView.findViewById(R.id.appname);
            convertView.setTag(holder);
        } else {
            holder = (ViewHolder) convertView.getTag();
        }

        PackageInfo packageInfo = (PackageInfo) getItem(position);
        Drawable appIcon = packageManager
                .getApplicationIcon(packageInfo.applicationInfo);
        String appName = packageManager.getApplicationLabel(
                packageInfo.applicationInfo).toString();
        appIcon.setBounds(0, 0, 40, 40);
        holder.apkName.setCompoundDrawables(appIcon, null, null, null);
        holder.apkName.setCompoundDrawablePadding(15);
        holder.apkName.setText(appName);

        return convertView;
    }

} 
```

清单文件

```
 <?xml version="1.0" encoding="utf-8"?>
<manifest xmlns:android="http://schemas.android.com/apk/res/android"
    package="com.example.appslist"
    android:versionCode="1"
    android:versionName="1.0" >
<uses-sdk
    android:minSdkVersion="8"
    android:targetSdkVersion="17" />

<application
    android:allowBackup="true"
    android:icon="@drawable/ic_launcher"
    android:label="@string/app_name"
    android:theme="@style/AppTheme" 
     >

    <activity
        android:name="com.example.appslist.ApkListActivity"
        android:label="@string/app_name" >
        <intent-filter>
            <action android:name="android.intent.action.MAIN" />

            <category android:name="android.intent.category.LAUNCHER" />
        </intent-filter>
    </activity>
    <activity
        android:name=".ApkInfo"
        android:label="@string/title_activity_apk_info" >
    </activity>
</application> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-02T06:56:23.537

**编辑：**

> 看来您还没有在 Manifest 中注册 AppData

尝试添加

```
 android:name=".AppData" 
```

在清单的应用程序标签中。

即这个

```
 <application
        android:allowBackup="true"
        android:icon="@drawable/ic_launcher"
        android:label="@string/app_name"
        android:theme="@style/AppTheme"
        android:name=".AppData"
         > 
```

* * *

错误在这一行

```
 AppData appData = (AppData) getApplicationContext(); 
```

将其更改为

```
AppData appData = (AppData) getApplication(); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-02T07:41:21.060

您定义了一个名为 AppData 的新类，那么如何将 getApplicationContext() 返回的不是 AppData 实例的对象转换为 AppData？

例如，

```
class A{}

class B extends from A{}

class C extends from A{}

A foo(){
    return new C();
}

B b = (B)foo(); 
```

这肯定会导致类转换异常，因为类型为 C 的对象不是 B 的实例。

我认为您只需要向 ApkInfo.class 发送一些信息，那么为什么不使用 bundle 呢？

```
Bundle bundle = new Bundle(); 
bundle.putString("key", "data");   
bundle.putString("key2", "data2"); 
intent.setClass(...)
intent.putExtras(bundle); 
startActivity(intent); 
```

更新：

然后就可以获取到你存储在目标activity中的信息了：

```
@Override
public void onCreate(...){
    Bundle bundle = getIntent().getExtras();
    bundle.getString("key");
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-02T06:34:28.970

这导致了问题：

`PackageInfo packageInfo = (PackageInfo) parent.getItemAtPosition(position);`

您正在尝试强制转换一个不同的对象来`PackageInfo`检查`PackageInfo`作为返回类型返回的不同方法以避免这种情况。

**编辑：**

尝试，

`PackageInfo packageInfo = (PackageInfo) parent.getItemAtPosition(position).getClass().getPackage();`

相反，我只是检查了它的视图对象。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-02T07:29:32.023

问题在于您的清单应用程序文件。

请将您的以下行替换为

```
 android:name="com.ibc.android.demo.appslist.app.AppData" 
```

下一行

```
android:name="com.ibc.android.demo.appslist.activity.AppData" 
```

希望这会帮助你。

# html - HTML5 游戏手柄 API 问题（在 Mac 上）

> ID：15757596
> 
> 赞同：3
> 
> 时间：2013-04-02T06:31:18.830
> 
> 标签：html, gamepad-api

我很好奇那里是否有人能够使用无线 xbox360 控制器或 Mac 上的蓝牙 PS3 控制器连接到游戏手柄 API。正如您在下面看到的，我连接了两个控制器并且在控制台中没有显示任何内容。是的，我已经按下按钮以确保得到握手。我只是想确保在购买有线 360 控制器之前不会遗漏一些完全愚蠢的东西。

![连接的控制器](https://i.imgur.com/f44hr6C.png)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-09-30T01:44:11.600

我在 mac chrome 上通过蓝牙使用 PS3 控制器，在此确认：http: [//html5gamepad.com/](http://html5gamepad.com/)

您使用的是什么操作系统版本/chrome 版本？

# backbone.js - 使用主干（或任何 JS MVC 框架）管理 opengraph 和元属性

> ID：15757597
> 
> 赞同：2
> 
> 时间：2013-04-02T06:31:22.567
> 
> 标签：backbone.js, metadata, facebook-opengraph

我有一个主干应用程序（博客），显示我们可以在许多平台上分享的不同文章。

我尝试将开放图与 google 和 facebook 一起使用，我在渲染视图之前更新了路由器中的属性。

但问题是，当**刮板**到达应用程序时，它没有获取元属性，我不知道它是否不执行 javascript 或者它是否太快，但如果我直接设置了一些默认元属性我的单页它工作。

但是我需要更新关于 url 的元属性（每篇文章都有自己的元属性）。

那么，是否可以将开放图与主干.js 一起使用？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2015-12-10T00:28:58.423

有些服务会为 SEO 目的呈现 javascript 生成的页面。查看[https://prerender.io](https://prerender.io)

另一种方法是让您的服务器`<meta>`在提供页面之前填充标签。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-10-24T20:44:23.333

我正在努力解决这个问题，似乎 Facebook 最终没有运行 javascript。没有办法，只能在服务器中为要在 Facebook 上分享的内容创建单独的页面，并在这些页面中静态包含所有元标记。

# java - 从 REST 调用生成 JSON POJOS

> ID：15757606
> 
> 赞同：4
> 
> 时间：2013-04-02T06:31:47.977
> 
> 标签：java, android, json

我在我的 android 项目中集成了 spring rest 模板。

为此，我必须将我所有的 JSON 请求和响应映射到`java`pojos 中。

有什么工具可以为我生成这些类吗？

我的意思是拿一个 json 字符串给我一个包含所有 getter、setter 和属性的 java 类文件？我的意思不是将 json 对象映射到我的 java 对象，我的意思更像是在 WSDL 中，在给定服务的情况下，编译器会自动创建类文件？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-02T06:38:46.380

这是一个链接，您可以尝试使用此链接在线生成 java 类。 [生成java类的链接另存为zip](http://jsongen.byingtondesign.com/)

对于离线，您可以借助[astav 离线生成器](https://github.com/astav/JsonToJava)

下载库中有一个示例生成器。根据您的文件名编辑`.sh`文件并更改文件名。`json``json`

或者简单地将`sample.json`文件内容替换为您的实际内容并运行`.sh`文件。

# c# - 字符串操作“^”在字符串中显示消息的结尾

> ID：15757608
> 
> 赞同：-4
> 
> 时间：2013-04-02T06:31:54.513
> 
> 标签：c#, .net

**C#代码...**

```
 string[] array = new string[] { "12", "34", "5^67", "8^945", "^63^", "9484^" };
                    foreach(string message in array)
                    {
                              FindString(message)

                    }
 string remainingString = "";
        string tempString = "";
private void FindString(string message)
        {

            if(message.Contains("^"))
            {//remove char ^ process
                int pos = -1;
                pos = message.IndexOf('^');
                outputString = message.Substring(0, pos);
                remainingString = message.Substring(pos);
                if(tempString != "")
                {
                    outputString = tempString + outputString;
                    tempString = "";
                }
            }
            else
            {
                tempString = tempString + message;
            }

        } 
```

**我必须从数组中获取消息 12345,678,945,63,9484。“^” 显示字符串中消息的结尾**

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-02T06:46:18.933

```
string[] array = new string[] { "12", "34", "5^67", "8^945", "^63^", "9484^" };
                foreach(string message in array)
                {
                          FindString(message)

                }
 string remainingString = "";
 string tempString = "";
 private void FindString(string message)
    {

        while(message.Contains("^"))
        {//remove char ^ process
            int pos = -1;
            pos = message.IndexOf('^');
            outputString = message.Substring(0, pos);
            message = message.Substring(pos + 1); // <--- LOOK HERE
            if(tempString != "")
            {
                outputString = tempString + outputString;
                tempString = "";
            }

        }

        tempString = tempString + message;

    } 
```

当然，更好的选择是`string.Join`数组，然后`.Split`是结果：

```
string[] answers = string.Join("", messages).Split("^").ToArray(); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-02T06:42:45.110

尝试按输入字符串拆分：

```
var output = string.split('^').ToList(); 
```

# javascript - Casperjs点击方法

> ID：15757609
> 
> 赞同：2
> 
> 时间：2013-04-02T06:32:10.250
> 
> 标签：javascript, web-scraping, casperjs

一般来说，我对 casperjs 和 javascript 还是很陌生，但我在其他领域拥有相当丰富的编码经验。目前我试图运行的代码只是去一个网站并点击一个链接，这应该很简单，但我遇到了麻烦。

```
var casper = require('casper').create();
var x = require('casper').selectXPath;

casper.start('http://www.guru.com/emp/search.aspx?keyword=#&&page=1&sort=Earnings');

casper.then(function() {
    this.test.assertExists({
        type: 'xpath',
        path: '//*[@class="paddingLeft5 txt11px txt666"]/a[text()="Next"]'
    }, "Got Here");
});

casper.then(function() {
    var firstUrl = this.getCurrentUrl()
});

casper.thenClick(x('//*[@class="paddingLeft5 txt11px txt666"]/a[text()="Next"]'), function() {
    console.log("Woop!");
});

casper.waitFor(function check() {
    return this.evaluate(function() {
        return this.getCurrentUrl() != firstUrl;
    });
}, function then() {
    console.log(this.getCurrentUrl());
});

casper.run(); 
```

目前这在 5000 毫秒后超时而没有包裹在 waitFor 中，它只是打印相同的 url 两次。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-04-02T15:36:22.980

这应该是您正在寻找的。请注意，我`firstUrl`变成了一个全局变量；这样，`Casper.waitFor()`就可以访问它了。

此外，使用`this.evaluate()`inside`Casper.waitFor()`是不必要的，实际上禁止接收错误消息，因为远程页面上既不`this`也不`firstUrl`存在。这是因为您希望在 an 内部访问的任何变量都`Casper.evaluate()`必须在函数之后作为参数传递。

```
var casper = require('casper').create();
var x = require('casper').selectXPath;
var firstUrl;
casper.start('http://www.guru.com/emp/search.aspx?keyword=#&&page=1&sort=Earnings');

casper.then(function() {
    this.test.assertExists({
        type: 'xpath',
        path: '//*[@class="paddingLeft5 txt11px txt666"]/a[text()="Next"]'
    }, "Got Here");
});

casper.then(function() {
    firstUrl = this.getCurrentUrl()
});

casper.thenClick(x('//*[@class="paddingLeft5 txt11px txt666"]/a[text()="Next"]'), function() {
    console.log("Woop!");
});

casper.waitFor(function check() {
    return this.getCurrentUrl() != firstUrl;
}, function then() {
    console.log(this.getCurrentUrl());
});

casper.run(); 
```

这是我在运行上面的代码时得到的结果：

```
Woop!
http://www.guru.com/emp/search.aspx?keyword=#&&sort=Earnings&page=2 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-02T07:19:21.247

看起来像是一个严重依赖 JavaScript 进行导航的网站……

在处理下一步之前，您可能应该尝试[等待URL 更改。](http://docs.casperjs.org/en/latest/modules/casper.html#waitfor)

# php - 虚拟字段和在 CakePHP 中使用 HAVING

> ID：15757611
> 
> 赞同：1
> 
> 时间：2013-04-02T06:32:16.047
> 
> 标签：php, mysql, cakephp

我需要从 mysql 中找到那些具有唯一`test`字段的行。我尝试添加 virtualFields 以获取`test`按`test`字段分组的计数，并检查测试必须等于 1。

以下是我的代码......它给出了错误：`Syntax error or access violation`

```
public function index()
{
    $this -> User -> virtualFields(array(
        'countTest' => "COUNT(User.test)"
    ));

    $users = $this -> User -> find('all', array(
        'conditions' => array('countTest' => 1),
        'group' => 'User.test'
    )); 

    pr($users); die;
} 
```

我找到了解决问题的 MySql 查询：`'SELECT test, COUNT(*) as count FROM users GROUP BY test HAVING COUNT(*) = 1';`

你能把上面的查询转换成 CakePHP 格式吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-02T07:13:12.447

这样的事情可能会引导您找到正确的解决方案

```
$this->User->find('all', array(
    'fields' => array('User.test', 'COUNT(User.test) AS User__test_count'),
    'group' => array('User.test'),
    // or even cake style SQL injection :)
    // 'group' => array('User.test HAVING COUNT(*) = 1')
  )); 
```

# installation - Python 3.3 安装 - 冻结 - Linux 3.4 Amazon ec2

> ID：15757612
> 
> 赞同：3
> 
> 时间：2013-04-02T06:32:19.657
> 
> 标签：installation, centos, python-3.3

我对服务器设置非常陌生，并且已经启动了一个带有 Linux 3.4 的亚马逊股票 ec2 服务器。

我正在尝试将 python 3.3 安装到它上面。到目前为止，我已经安装了以下内容：

```
yum install gcc gcc-c++ autoconf automake 
```

当我尝试运行时：

```
./configure --prefix=/opt/python3.3 
```

我得到的输出冻结在“检查 gcc 是否接受 -pthread ...”

你能告诉我从哪里开始寻找解决这个问题吗？我正在使用一些教程的组合，但主要是[https://askubuntu.com/questions/244544/how-to-install-python-3-3](https://askubuntu.com/questions/244544/how-to-install-python-3-3)？不幸的是，本教程适用于 Ubuntu，而我的服务器是 CentOs。因此，我使用 yum 而不是 apt-get。

感谢您的帮助或指导。

# jquery - 在 jQuery 中获取正确的日期

> ID：15757613
> 
> 赞同：1
> 
> 时间：2013-04-02T06:32:28.033
> 
> 标签：jquery, date, fullcalendar, date-formatting

我正在做一个项目，我正在使用`FullCalendar`和`jQuery dialog.`

我正在使用`jQuery`对话框，因为用户选择任何时间段，他们将看到一个对话框，并且在该对话框内我将传递开始和结束时间。

但问题是`fullCalendar`传递`start`参数作为日期`object`现在的`Date {Tue Apr 02 2013 00:00:00 GMT+0530 (India Standard Time)}`问题是如何只显示`02-04-2013 00:00:00` **我不想使用更多的插件**，因为它已经包含了太多的 js。

**是）我有的？**

**jQuery 对话框代码**

```
$( "#dialog-form" ).dialog({
    autoOpen: false,
    modal: true,
    buttons:
    {
        "Create an event": function()
        {
            var bValid = true;
            if ( bValid )
            {
                //adding event to calendar code
                $( this ).dialog( "close" );
            }
        },
        Cancel: function()
        {
            $( this ).dialog( "close" );
        }
    },
    close: function()
    {
        allFields.val( "" ).removeClass( "ui-state-error" );
    }
}); 
```

**全日历**

```
var calendar = $('#calendar').fullCalendar(
{
    header:
    {
        left: 'prev,next today',
        center: 'title',
        right: 'month,agendaWeek,agendaDay'
    },
    selectable: true,
    selectHelper: true,
    select: function(start, end, allDay)
    {
        console.log(start);
        $("#dialog-form input#start_time").val(start);
        $("#dialog-form input#end_time").val(end);
        $( "#dialog-form" ).dialog( "open" );
        calendar.fullCalendar('unselect');
    }, 
```

我在这里只粘贴了一半代码，因为它太长了，没有必要在这里添加它。

谢谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-02T06:48:02.253

```
$.fullCalendar.formatDate( start, 'dd-MM-yyyy HH:mm:ss' ); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-02T06:39:52.333

好吧，谢谢大家寻找和评论问题，但我发现了。

```
var startDate = start.getFullYear() + "-" + getOtherFiled(start.getMonth()) + "-" + getOtherFiled(start.getDate()) + " " +  getOtherFiled(start.getHours()) + ":" + getOtherFiled(start.getMinutes()) + ":" + getOtherFiled(start.getSeconds());

function getOtherFiled(obj)
{
    if (obj<10)
       return "0"+obj;
    return obj;
} 
```

以上代码成功输出`'2013-03-03 02:30:00'`等等。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-02T06:40:27.740

## 更新

完整日历具有内置的[转换实用程序](http://arshaw.com/fullcalendar/docs/utilities/formatDate/)

```
$.fullCalendar.formatDate( date, formatString [, options ] ) 
```

## 旧答案

start 是一个日期对象，因此您可以执行以下操作

```
var curDate = start.getDate();
var curMonth = (parseInt(start.getMonth())+1);
var curYear = start.getFullYear();

alert(curDate+'-'+curMonth+'-'+curYear); 
```

这是一个[Live fiddle 示例](http://jsfiddle.net/mayooresan/c8SLH/)。

# java - 插入分区表时获取生成的键值

> ID：15757614
> 
> 赞同：2
> 
> 时间：2013-04-02T06:32:28.197
> 
> 标签：java, postgresql, spring-jdbc

嗨，我在 Postgres 中有一张桌子，比如 email_messages。它是分区的，所以无论我使用我的 java 应用程序执行的插入操作都不会影响主表，因为数据实际上是插入到子表中的。这是问题所在，我想获得一个自动生成的列值（比如 email_message_id 是大序列类型的）。Postgres 将它作为 null 返回，因为没有在主表上进行插入。对于 oracle，我使用 GeneratedKeyHolder 来获取该值。但是我不能对 postgres 中的分区表做同样的事情。请帮帮我。

这是我们用于 oracle 的代码片段

```
public void createAndFetchPKImpl(final Entity pEntity,
  final String pStatementId, final String pPKColumnName) {

final SqlParameterSource parameterSource =
  new BeanPropertySqlParameterSource(pEntity);

  final String[] columnNames = new String[]{"email_message_id"};
  final KeyHolder keyHolder = new GeneratedKeyHolder();
  final int numberOfRowsEffected = mNamedParameterJdbcTemplate.update(
      getStatement(pStatementId), parameterSource, keyHolder, columnNames);
  pEntity.setId(ConversionUtil.getLongValue(keyHolder.getKey()));

} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-02T08:54:01.747

当您在 PostgreSQL 中使用基于触发器的分区时，JDBC 驱动程序报告零行受到影响/插入是*正常的。*这是因为原来的 SQL或者实际上并没有生效，主表上没有任何行发生变化`UPDATE`。而是在一个或多个子表上执行操作。`INSERT``DELETE`

基本上，PostgreSQL 中的分区有点像 hack，这是它更明显的限制之一。

解决方法是：

*   `INSERT`//直接针对子表`UPDATE`，`DELETE`而不是顶级表；
*   忽略结果行数；或者
*   ~~使用`RULE`s 而`INSERT ... RETURNING`代替（但它们有自己的问题）~~（不适用于分区）

# crystal-reports - Crystal Report 2008 - 内存已满

> ID：15757623
> 
> 赞同：1
> 
> 时间：2013-04-02T06:33:08.743
> 
> 标签：crystal-reports, report, export-to-pdf

我正在 VS 2010 开发一个 C#/ASP.NET Web 项目，它使用 Crystal Reports (2008) 版本 12.3.0.601。Project 调用报告并将其导出为 pdf。每当我在报告设计中更改某些内容时，刷新页面时都会出现“内存已满”错误。有时它不会给出错误，但有时我会尝试几个小时都不会得到错误。

我搜索了许多与标题相关的网站，但没有找到解决方案。有没有人遇到过这样的错误？

System.Runtime.InteropServices.COMException (0x80041004)：内存已满。无法导出报告。内存不足，无法运行。

谢谢你的帮助。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-15T12:46:08.990

对于导出为 pdf，我建议您下载一些 pdf 打印机，即。[http://www.cutepdf.com/products/cutepdf/writer.asp](http://www.cutepdf.com/products/cutepdf/writer.asp)

然后您可以将报告“打印”为 pdf 没有问题。

希望能帮助到你！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2018-10-26T10:50:07.017

我有一个类似的问题。在我的报告中有一些文字和图像。我读过 Crystal Report 首先将 JPG、PNG 等图像转换为 BMP，然后显示报告。并且将其他图像类型转换为 BMP 会消耗大量内存。首先，我尝试将数据库中的 JPG 图像转换为 BMP 图像，但随后我的数据库变得越来越大。最后我找到了解决方案（[感谢这个答案](https://stackoverflow.com/questions/24236683/split-crystal-report-into-separate-files-by-page)）。

我没有尝试将所有页面导出为 PDF 文件，而是拆分文件，压缩它们并下载 zip 文件：

```
 Dim exportOpts As ExportOptions = New ExportOptions()
    Dim pdfRtfWordOpts As PdfRtfWordFormatOptions = ExportOptions.CreatePdfRtfWordFormatOptions()
    Dim destinationOpts As DiskFileDestinationOptions = ExportOptions.CreateDiskFileDestinationOptions()
    Dim intPageCount As Integer = crReportDocument.FormatEngine.GetLastPageNumber(New CrystalDecisions.Shared.ReportPageRequestContext)
    Dim pagecount As Integer
    pagecount = Int(intPageCount / 100) + 1
    Dim sonsayfa As Integer
    Dim ilksayfa As Integer
    Dim Anadosyaadi As String
    Dim foldername As String
    Dim foldernameMap As String
    Anadosyaadi = Now.ToString("yyyy-MM-dd-hh-mm-ss")
    foldername = "C:\inetpub\wwwroot\" + Anadosyaadi
    foldernameMap = "./" + Anadosyaadi

    If Not Directory.Exists(foldername) Then
        Directory.CreateDirectory(foldername)
    End If
    For li_count As Integer = 1 To pagecount
        ilksayfa = (li_count - 1) * 100 + 1
        pdfRtfWordOpts.FirstPageNumber = ilksayfa
        sonsayfa = li_count * 100
        If sonsayfa > intPageCount Then sonsayfa = intPageCount
        pdfRtfWordOpts.LastPageNumber = sonsayfa
        pdfRtfWordOpts.UsePageRange = True
        exportOpts.ExportFormatOptions = pdfRtfWordOpts
        exportOpts.ExportFormatType = ExportFormatType.PortableDocFormat

        destinationOpts.DiskFileName = foldername + "\" + li_count.ToString + ".pdf"
        exportOpts.ExportDestinationOptions = destinationOpts
        exportOpts.ExportDestinationType = ExportDestinationType.DiskFile
        crReportDocument.Export(exportOpts)
    Next
    Using zip As ZipFile = New ZipFile
        zip.AddDirectory(foldername)
        zip.Save(foldername + "\" + Anadosyaadi + ".zip")
    End Using
    Response.Redirect(foldernameMap + "/" + Anadosyaadi + ".zip") 
```

PS1：我使用 Ionic.Zip 压缩文件。你应该添加

```
Imports Ionic.Zip 
```

在您的来源之上。

PS2：重启服务器后，什么都不做，就可以得到从1到500页的500页PDF。这个时候，我想，Crystal Reports占用了一些内存。然后，如果我想获得第二个 500 页（我的意思是从页码 501 到 1000），我会看到内存已满错误。然后我可以得到 300 页（从 501 到 800）。然后是另一个内存满的问题，我可以从 801 到 900，等等。这就是为什么我更喜欢拆分 100 页。也许您可以将其更改为另一个数字。

# wcf - 使用单个 OperationContract 方法支持 WCF XML 和 JSON？

> ID：15757626
> 
> 赞同：1
> 
> 时间：2013-04-02T06:33:12.707
> 
> 标签：wcf

几天来，我一直在尝试满足以下要求。我希望我的 WCF API 使用单一方法处理 XML 和 JSON 请求/响应。我也知道 .net 4 支持自动格式选择，但它不像我希望的 XML 和 JSON 结构那样工作。这是我的结构：

JSON：

```
{
  "response": {
    "timestamp": "12.00AM",    
    "locations": {
      "location": [        
        {
          "id": "5",
          "name": "hello world",
          "statusid": "8"
        }
      ]
    },
    "errorcode": "444"
  }
} 
```

XML:

```
<response>
    <timestamp>12.00AM</timestamp>
    <locations>
        <location>
            <id>5</id>
            <name>hello world</name>
            <statusid>8</statusid>
        </location>
    </locations>
    <errorcode>444</errorcode>
</response> 
```

我尝试在我的 OperationContract 中切换“BodyStyle”的值，例如对于 JSON，我必须放置 WebMessageBodyStyle.Wrapped，对于 XML，我必须根据上述结构放置 WebMessageBodyStyle.Bare。由于我希望能够使用一个 OperationContract 并根据 Content-Type 自动使用 XML/JSON 结构进行响应，我必须进行哪些更改/添加？有没有办法使用 XML 和 JSON 的代码来设置这个 BodyStyle（PS API 应该是它的方式，并且不应该能够传递任何参数，如 getvalue/{xml}）？

先感谢您。

更新：以下是我的 OperationContract：

```
[OperationContract]
        [WebInvoke(Method = "POST", UriTemplate = "PushNotify")]       
        ResponsePushNotify PushNotify(RequestPushNotifiy pushnotify); 
```

这是数据合同：

```
 [DataContract]
    public class Test: ITest
    {
    responsePushNotify = new ResponsePushNotify();
       ResponsePushNotify PushNotify(RequestPushNotifiy pushnotify)
    {
        if (Content-Type == "application/json; charset=utf-8")  
            {  
                OperationContext.Current.OutgoingMessageProperties.Add(WebBodyFormatMessageProperty.Name, new WebBodyFormatMessageProperty(WebContentFormat.Json));  
            }  
    responsePushNotify.id = "1";
    responsePushNotify.value = "Hello World";

    return responsePushNotify ;
    } 
```

这是建议的代码：

```
public class MyWebHttpBehavior : WebHttpBehavior
    {
        protected override IDispatchMessageFormatter GetReplyDispatchFormatter(OperationDescription operationDescription, ServiceEndpoint endpoint)
        {
            WebGetAttribute webGet = operationDescription.Behaviors.Find<WebGetAttribute>();
            IDispatchMessageFormatter json = null, xml = null;
            WebMessageFormat originalFormat = webGet.ResponseFormat;
            webGet.ResponseFormat = WebMessageFormat.Json;
            json = base.GetReplyDispatchFormatter(operationDescription, endpoint);
            webGet.ResponseFormat = WebMessageFormat.Xml;
            xml = base.GetReplyDispatchFormatter(operationDescription, endpoint);
            webGet.ResponseFormat = originalFormat;
            return new MyReplyDispatchMessageFormatter(json, xml);
        }
    }
    public class MyReplyDispatchMessageFormatter : IDispatchMessageFormatter
    {
        IDispatchMessageFormatter jsonFormatter;
        IDispatchMessageFormatter xmlFormatter;
        public MyReplyDispatchMessageFormatter(IDispatchMessageFormatter jsonFormatter, IDispatchMessageFormatter xmlFormatter)
        {
            this.jsonFormatter = jsonFormatter;
            this.xmlFormatter = xmlFormatter;
        }
        public void DeserializeRequest(Message message, object[] parameters)
        {
            throw new NotSupportedException("Used for replies only");
        }

        public Message SerializeReply(MessageVersion messageVersion, object[] parameters, object result)
        {
            IDispatchMessageFormatter formatter = this.xmlFormatter;
            if (OperationContext.Current.OutgoingMessageProperties.ContainsKey(WebBodyFormatMessageProperty.Name))
            {
                WebBodyFormatMessageProperty webBody = (WebBodyFormatMessageProperty)OperationContext.Current.OutgoingMessageProperties[WebBodyFormatMessageProperty.Name];
                if (webBody != null && webBody.Format == WebContentFormat.Json)
                {
                    formatter = this.jsonFormatter;
                }
            }

            return formatter.SerializeReply(messageVersion, parameters, result);
        }
    } 
```

这是我的网络配置：

```
<?xml version="1.0"?>
<configuration> 
  <system.serviceModel>
    <serviceHostingEnvironment multipleSiteBindingsEnabled="true"/>
    <services>
      <service behaviorConfiguration="CustomBehavior" name="Service.Test">
        <endpoint address="" behaviorConfiguration="web" binding="webHttpBinding" contract="Services.ITest" bindingConfiguration="general"/>
      </service>      
    </services>  
    <bindings>
      <webHttpBinding>
        <binding name="general" closeTimeout="00:10:00" openTimeout="00:10:00" sendTimeout="00:10:00"
                 receiveTimeout="00:10:00" maxReceivedMessageSize="2147483647" maxBufferPoolSize="4194304"
                 maxBufferSize="2147483647"  />
      </webHttpBinding>
    </bindings>     
    <behaviors>      
      <endpointBehaviors>
        <behavior name="web">
          <webHttp automaticFormatSelectionEnabled="true" />
        </behavior>         
      </endpointBehaviors>
      <serviceBehaviors>       
        <behavior name="CustomBehavior">
          <serviceMetadata httpGetEnabled="true" />
          <serviceDebug includeExceptionDetailInFaults="true" />
        </behavior>       
      </serviceBehaviors>
    </behaviors>
  </system.serviceModel> 
</configuration> 
```

所以现在我的问题是，如何在代码中定义我的自定义行为并将其添加到 webconfig？我需要做什么改变？另外，如果我要设置“BodyStyle = WebMessageBodyStyle.Wrapped”，我该怎么做？在哪里做？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2020-09-18T09:03:04.230

我看到这个问题很久以前就发布了，但可能对某人有用。我在 overcoder.net 上找到了解决方案。您只需要为所需的输出格式生成对应的字符串，并使用 Stream 作为结果类型。

```
[OperationContract]
[WebGet(UriTemplate = "test?format={format}")]
System.IO.Stream test(string format); 
```

```
public System.IO.Stream test(string format)
{
     ArrayList ar = new ArrayList() { 1, 2, 3 };
     if (format == "text")
         result = String.Join(",", ar.ToArray());
     if (format == "xml")
     { 
        result = @"<soapenv:Envelope>
   <soapenv:Header/>
   <soapenv:Body>
      <result>";
        foreach (int i in ar)
            result += String.Format("\r\n        <item>{0}</item>", i);
        result += @"
      </result>
   </soapenv:Body>
</soapenv:Envelope>";
     }
     if (format == "json")
         result = JsonConvert.SerializeObject(ar, Newtonsoft.Json.Formatting.Indented);

     OutgoingWebResponseContext context = WebOperationContext.Current.OutgoingResponse;
     context.ContentType = "text/plain";
     return new System.IO.MemoryStream(ASCIIEncoding.Default.GetBytes(result));
} 
```

# css - 在 css 选择器中使用 nth-child & not

> ID：15757629
> 
> 赞同：1
> 
> 时间：2013-04-02T06:33:27.433
> 
> 标签：css, css-selectors

我尝试使用 css 来构建页面布局。我希望它尽可能多地独立于内容。

这个想法是每行有 4 个 div，我对所有 div 使用 float:left 和 clear:both 使用 :nth-child(4n+1) 选择器。一些 div 我想排在第一位（cr 之前），我用 class="cr" 标记它，但我希望它在同一行之后有 3 个 div，在 cr 之前（清除：两者）。

目标是：

```
Test Test
Test Test Test Test 
Test Test Test Test 
```

是否可以 ？到目前为止，我在这里：http: [//jsbin.com/isowab/1/edit](http://jsbin.com/isowab/1/edit)

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-04-02T08:16:05.917

据我所知，您想要做的是在纯 css 中不太可能（但我很乐意被证明是错误的）。

如果我理解你的话......你希望在每节课`nth`后重置计数，对吗？`div``.cr`

不幸的是，CSS 不能那样工作。每次您分配一个新`nth`规则时，它将从一开始就适用于一个类型的所有元素。使用相邻的选择器`+`，或者`~`您可以做一些魔术......例如，`nth`仅在第一次出现 .cr 类之后才开始使用规则应用样式

**但是没有办法在`nth`class 的每个 div 之后重置计数器`.cr`**。

您可以通过**添加层次结构或通过使用****javascript**或**服务器端**动态分配特定类来做到这一点......但**不是**在纯 css 中。

* * *

**编辑：**例如，如果您使用的是 jQuery，您可以添加如下内容：

```
 var i=1;
    $("div").each(function(){
        if($(this).hasClass('cr') || i%5==0){
            $(this).addClass('cr');
            i=1;
        }
        i++;
    }); 
```

并在 css 中适用`clear:both;`于`.cr`类。

这是 jsfiddle 中的这个例子：http: [//jsfiddle.net/MJ29T/](http://jsfiddle.net/MJ29T/)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-02T08:28:24.470

为什么不直接明确这些行？就像是：

**CSS**

```
section > div { display: inline-block; background: green; }
section > div:nth-child(even) { background: blue; } 
```

**HTML**

```
<section>
    <div>Test</div>
    <div>Test</div>
</section>
<section>
    <div>Test</div>
    <div>Test</div>
    <div>Test</div>
    <div>Test</div>
</section>
<section>
    <div>Test</div>
    <div>Test</div>
    <div>Test</div>
    <div>Test</div>
</section> 
```

我在`inline-block`这里使用它是因为它更简单，但是如果元素之间的间隙是一个问题，您可以浮动它们或[与空格打架](http://css-tricks.com/fighting-the-space-between-inline-block-elements/)。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-02T07:05:26.883

**HTML**

```
<div>Test</div>
<div>Test</div>
<div>Test</div>
<div>Test</div>
<div>Test</div>
<div>Test</div>
<div>Test</div>
<div>Test</div>
<div>Test</div>
<div>Test</div> 
```

**CSS**

```
div {
    height: 20px;
    width: 40px;
    display: block;
    background: red;
    float: left;
}
div:nth-child(4n-1){
    clear:both;
}
DIV:nth-child(2n) {
    background-color: blue;
}
DIV:nth-child(2n+1) {
    background-color: green;
} 
```

**小提琴**

[点击这里](http://fiddle.jshell.net/Venugopal/TZbtk/)

# c# - 使用 html 嵌入本地图像在 Outlook2010 中有效，但在 Outlook2013 中停止工作

> ID：15757630
> 
> 赞同：1
> 
> 时间：2013-04-02T06:33:33.070
> 
> 标签：c#, outlook-addin

我为 Outlook 2010 创建了一个 Outlook 插件，它用于快速应用电子邮件模板。在这个加载项中，我使用 HTML 作为模板。有很多图片引用了本地资源。像这样的代码：

```
mailItem.HTMLBody="... <image src=\"c:\\path\\to\\image.gif\" />..."; 
```

它与 Outlook2010 完美配合，但在 Outlook 2013 使用此插件时不显示图像

任何有任何想法的人都会得到认可。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-02T06:40:03.857

以前从未创建过加载项，但通常如果您要转义引号并指定链接，则通常必须将它们加倍，因为它将转义 PT & I

```
<img src=\"c:\\path\\to\\images.gif\" /> 
```

不过我可能是错的。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-02T18:41:13.280

为什么不将图像添加为附件，在图像附件上设置 PR_ATTACH_CONTENT_ID 属性，然后通过 HTML 中的 cid (src="cid:xyz") 引用它们？

# sql - 在 SQL Server 2005 中将列显示为行

> ID：15757634
> 
> 赞同：6
> 
> 时间：2013-04-02T06:33:53.337
> 
> 标签：sql, tsql, sql-server-2005, pivot

我已经阅读了数十种与我即将提出的类似换位问题的解决方案，但奇怪的是没有一个完全反映我的问题。我只是想在一个简单的仪表板类型数据集中将我的行翻转为列。

从各种事务表中提取的数据如下所示：

```
DatePeriod  PeriodNumberOverall   Transactions   Customers   Visits

'Jan 2012'   1                    100            50          150
'Feb 2012'   2                    200            100         300
'Mar 2012'   3                    300            200         600 
```

我希望能够生成以下内容：

```
 Jan 2012   Feb 2012   Mar 2012

Transactions          100        200        300
Customers             50         100        200
Visits                150        300        600 
```

指标将是静态的（交易、客户和访问），但日期周期将是动态的（IE - 随着月份的推移会增加更多）。

同样，我准备了许多利用 pivot、unpivot、store 过程、UNION ALL 等的示例，但我没有进行任何聚合，只是从字面上转换整个输出。我还在 Visual Studio 2005 中找到了一种使用带有嵌入式列表的矩阵的简单方法，但我无法将最终输出导出到 excel 中，这是必需的。任何帮助将不胜感激。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-02T07:09:41.923

您需要动态创建一个带有[PIVOT](http://msdn.microsoft.com/en-us/library/ms177410%28v=sql.105%29.aspx)和[APPLY](http://msdn.microsoft.com/en-us/library/ms175156%28v=sql.105%29.aspx)运算符的 SQL 语句，然后运行该命令。如果您的指标是静态的（交易、客户和访问），因此我们可以使用 CROSS APPLY 运算符和 VALUES 作为表源。

**对于 SQL Server2008+**

```
DECLARE @cols nvarchar( max),
        @query nvarchar(max)
SELECT @cols =
  STUFF((SELECT ',' + QUOTENAME(t.DatePeriod) AS ColName                               
         FROM dbo.test62 t                   
         FOR XML PATH(''), TYPE).value ('.', 'nvarchar(max)'), 1, 1, '')     

SET @query =
 'SELECT *
  FROM (
        SELECT t.DatePeriod, COALESCE(o.Transactions, o.Customers, o.Visits) AS PvtVals, o.PvtColumns, o.OrderColumns 
        FROM dbo.test62 t CROSS APPLY (
                                       VALUES(t.Transactions, NULL, NULL, ''Transaction'', 1),
                                             (NULL, t.Customers, NULL, ''Customers'', 2),
                                             (NULL, NULL, t.Visits, ''Visits'', 3)
                                       ) o (Transactions, Customers, Visits, PvtColumns, OrderColumns)
        ) p
  PIVOT
   (      
    MAX(PvtVals) FOR DatePeriod IN (' + @cols + ')
    ) AS pvt
  ORDER BY pvt.OrderColumns '
EXEC(@query) 
```

结果：

```
PvtColumns  Jan 2012 Fed 2012 Mar 2012
Transaction 100      200      300
Customers   50       100      200
Visits      150      300      600 
```

[**SQLFiddle**](http://sqlfiddle.com/#!3/eeef0/2)上的演示[](http://sqlfiddle.com/#!3/eeef0/2)

 ****对于 SQL Server 2005**

```
DECLARE @cols nvarchar( max),
        @query nvarchar(max)
SELECT @cols =
  STUFF((SELECT ',' + QUOTENAME(t.DatePeriod) AS ColName                               
         FROM dbo.test62 t                   
         FOR XML PATH(''), TYPE).value ('.', 'nvarchar(max)'), 1, 1, '')     

SET @query =
 'SELECT *
  FROM (
        SELECT t.DatePeriod, COALESCE(o.Transactions, o.Customers, o.Visits) AS PvtVals, o.PvtColumns, o.OrderColumns
        FROM dbo.test62 t CROSS APPLY (
                                       SELECT t.Transactions, NULL, NULL, ''Transaction'', 1
                                       UNION ALL 
                                       SELECT NULL, t.Customers, NULL, ''Customers'', 2
                                       UNION ALL 
                                       SELECT NULL, NULL, t.Visits, ''Visits'', 3
                                       ) o (Transactions, Customers, Visits, PvtColumns, OrderColumns)
        ) p
  PIVOT
   (      
    MAX(PvtVals) FOR DatePeriod IN (' + @cols + ')
    ) AS pvt
  ORDER BY pvt.OrderColumns'
EXEC(@query) 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-02T10:58:21.433

为了获得您想要的结果，您首先需要`UNPIVOT`数据，然后`PIVOT the`是 DatePeriod` 值。

UNPIVOT 会将 , 的多列`Transactions`转换`Customers`为`Visits`多行。其他答案是使用`UNION ALL`取消透视，但 SQL Server 2005 是`UNPIVOT`支持该功能的第一年。

取消透视数据的查询是：

```
select dateperiod,
  col, value
from transactions
unpivot
(
  value for col in (Transactions, Customers, Visits)
) u 
```

请参阅[演示](http://www.sqlfiddle.com/#!3/9fd6a/15)。这会将您当前的列转换为多行，因此数据如下所示：

```
| DATEPERIOD |          COL | VALUE |
-------------------------------------
|   Jan 2012 | Transactions |   100 |
|   Jan 2012 |    Customers |    50 |
|   Jan 2012 |       Visits |   150 |
|   Feb 2012 | Transactions |   200 | 
```

现在，由于数据在行中，您可以将`PIVOT`函数应用于`DatePeriod`列：

```
select col, [Jan 2012], [Feb 2012], [Mar 2012]
from
(
  select dateperiod,
    t.col, value, c.SortOrder
  from
  (
    select dateperiod,
      col, value
    from transactions
    unpivot
    (
      value for col in (Transactions, Customers, Visits)
    ) u
  ) t
  inner join
  (
    select 'Transactions' col, 1 SortOrder
    union all
    select 'Customers' col, 2 SortOrder
    union all
    select 'Visits' col, 3 SortOrder
   ) c
    on t.col = c.col
) d
pivot
(
  sum(value)
  for dateperiod in ([Jan 2012], [Feb 2012], [Mar 2012])
) piv
order by SortOrder; 
```

请参阅[SQL Fiddle with Demo](http://www.sqlfiddle.com/#!3/9fd6a/9)。

如果您有未知数量的日期期间，那么您将使用动态 SQL：

```
DECLARE @cols AS NVARCHAR(MAX),
    @query  AS NVARCHAR(MAX)

select @cols = STUFF((SELECT ',' + QUOTENAME(dateperiod) 
                    from transactions
                    group by dateperiod, PeriodNumberOverall
                    order by PeriodNumberOverall
            FOR XML PATH(''), TYPE
            ).value('.', 'NVARCHAR(MAX)') 
        ,1,1,'')

set @query = 'SELECT col, ' + @cols + ' 
             from 
             (
                select dateperiod,
                  t.col, value, c.SortOrder
                from
                (
                  select dateperiod,
                    col, value
                  from transactions
                  unpivot
                  (
                    value for col in (Transactions, Customers, Visits)
                  ) u
                ) t
                inner join
                (
                  select ''Transactions'' col, 1 SortOrder
                  union all
                  select ''Customers'' col, 2 SortOrder
                  union all
                  select ''Visits'' col, 3 SortOrder
                 ) c
                  on t.col = c.col
            ) x
            pivot 
            (
                sum(value)
                for dateperiod in (' + @cols + ')
            ) p 
            order by SortOrder'

execute(@query) 
```

请参阅[SQL Fiddle with Demo](http://www.sqlfiddle.com/#!3/9fd6a/16)。两者都会给出结果：

```
|          COL | JAN 2012 | FEB 2012 | MAR 2012 |
-------------------------------------------------
| Transactions |      100 |      200 |      300 |
|    Customers |       50 |      100 |      200 |
|       Visits |      150 |      300 |      600 | 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-02T07:29:49.653

如果您可以提前知道有多少个不同的日期期间，那么您可以使用固定查询，如下所示：

```
 ;with CTE_UNIONTable
as 
(
select [DatePeriod],[PeriodNumberOverall],[Transactions] as [value], 'Transactions' as subType from table1
UNION ALL 
select [DatePeriod],[PeriodNumberOverall],[Customers] as [value], 'Customers' as subType from table1
UNION ALL 
select [DatePeriod],[PeriodNumberOverall],[Visits] as [value], 'Visits' as subType from table1
), CTE_MiddleResult
as 
(
select * from CTE_UNIONTable
    pivot 
    (
       max(value) 
       for DatePeriod in ([Jan 2012],[Feb 2012],[Mar 2012])
     ) as P
     )
select SubType, max([Jan 2012]) as [Jan 2012] ,max([Feb 2012]) as [Feb 2012], max([Mar 2012]) as [Feb 2012]
from CTE_MiddleResult
group by SubType 
```

**[SQL FIDDLE DEMO](http://sqlfiddle.com/#!6/80f1e/1)**

如果无法预测有多少个日期周期，那么@Alexander 已经给出了解决方案，下面的代码只是第二种意见，而不是使用**APPLY**，使用**UNION ALL**

```
 DECLARE @cols nvarchar( max),
        @query nvarchar (max),
        @selective nvarchar(max)
SELECT @cols =
  STUFF((SELECT ',' + QUOTENAME(t.DatePeriod) AS ColName                               
         FROM table1 t                   
         FOR XML PATH( ''), TYPE).value ('.', 'nvarchar(max)'),1,1,'')

SELECT @selective =
  STUFF((SELECT ',MAX(' + QUOTENAME(t.DatePeriod) +') as ' + QUOTENAME(t.DatePeriod)  AS ColName                               
         FROM table1 t                   
         FOR XML PATH( ''), TYPE).value ('.', 'nvarchar(max)'),1,1,'')

set @query = '
;with CTE_UNIONTable
as 
(
select [DatePeriod],[PeriodNumberOverall],[Transactions] as [value], ''Transactions'' as subType from table1
UNION ALL 
select [DatePeriod],[PeriodNumberOverall],[Customers] as [value], ''Customers'' as subType from table1
UNION ALL 
select [DatePeriod],[PeriodNumberOverall],[Visits] as [value], ''Visits'' as subType from table1
), CTE_MiddleResult
as 
(
select * from CTE_UNIONTable
    pivot 
    (
       max(value) 
       for DatePeriod in ('+@cols+')
     ) as P
)
select SubType,' + @selective + ' 
from CTE_MiddleResult
group by SubType'

exec(@query) 
```

**[SQL 小提琴演示](http://sqlfiddle.com/#!6/e5871/1)****

# matlab - 在同一个图形上绘制 PDF 和估计的 PDF

> ID：15757635
> 
> 赞同：1
> 
> 时间：2013-04-02T06:34:01.903
> 
> 标签：matlab, plot, matlab-figure

我需要绘制（条形）PDF 和估计的 PDF。

一切都始于生成一个统一的随机信号。

```
x = random('unif',1,2,1,1000); % between 1 and 2 
```

现在要绘制估计的 PDF，我正在使用函数**hist**。

```
[N,Mx] = hist(x,10); % 10 intervals
bar(Mx,N); 
```

![在此处输入图像描述](https://i.stack.imgur.com/CRjhc.png)

现在我需要在同一个图上绘制 PDF。我需要使用函数**pdf**。

我试过了`P = pdf('unif',linspace(1,2,1000),1,2);`。

但是我在参数之间迷路了，我需要绘制x的PDF，我该怎么做？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-02T07:07:03.430

为了同时显示条形图和 pdf，您可以使用命令 hold on 同时绘制两者。

更复杂的部分是让比例因子对于实验和实际 pdf 都具有可比性。dx 为 1（介于 1 和 2 之间）的均匀分布始终为 1（因为 pdf 在其范围内积分为 1）。因此，我们需要根据我们为每个 bin 获得的频率值来缩放实验 pdf。标度为 Nbar/Nsamp。如果你的 dx 不等于 1，那么这个比例变化是 Nbar/(Nsamp*dx)

```
Nsamp = 1000;
Nbar = 10;

xMin = 1;
xMax = 2;
dx = xMax-xMin;

x = random('unif',xMin,xMax,1,Nsamp); 

[N,Mx] = hist(x,Nbar); 
bar(Mx,N/(Nsamp*dx)*Nbar);

P = pdf('unif',linspace(xMin,xMax,Nsamp),xMin,xMax);
hold on;
plot(linspace(xMin,xMax,Nsamp),P,'--r');
hold off 
```

这是结果图：

![在此处输入图像描述](https://i.stack.imgur.com/9ECx2.png)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2018-12-10T01:11:24.447

MATLAB 的`histogram`函数作为*归一化*选项，可自动缩放以获得经验[pdf](https://en.wikipedia.org/wiki/Probability_density_function)形状。

有些人可能会发现这比手动缩放更容易。该命令很简单，具有非常方便的输入和输出： `h = histogram(X,'Normalization','pdf')`

[![直方图函数示例](https://i.stack.imgur.com/argMG.png)](https://i.stack.imgur.com/argMG.png)

```
N = 1000;
a = 1;
b = 2;
X = a + (b-a)*rand(N,1);   % X ~ Uniform(a,b)

figure, hold on, box on
h = histogram(X,'Normalization','pdf','DisplayName','Generated data');
p = plot([a; b],ones(2,1)./(b-a),'r-','DisplayName','U(1,2) PDF');
legend('show','Location','southoutside','Orientation','horizontal');
xlim([1 2]); 
```

# javascript - 如何在键盘和鼠标中绑定粘贴事件？

> ID：15757636
> 
> 赞同：5
> 
> 时间：2013-04-02T06:34:02.163
> 
> 标签：javascript, jquery, html

![文本框](https://i.stack.imgur.com/OCUyv.png)

我有三个文本框和按钮，其中包含一个唯一的 URL。单击复制按钮时，它应该复制特定的文本框值，我需要通过 jQuery 或 javascript 函数与 `Ctrl`+`v`和鼠标右键单击和粘贴事件绑定。

当我将光标聚焦在浏览器地址栏中并且当我使用`Ctrl`+`v`或`right click and paste go`事件时，它应该从文本框中粘贴复制的 url 并转到特定的 URL。

那么如何在单击复制按钮后在 jQuery/javascript 中绑定粘贴事件？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-02T08:47:09.073

检查这个[FIDDLE](http://jsfiddle.net/lakshman/7tqd05e6/)如何在输入和文本区域中执行此操作。支持鼠标和键盘事件。

HTML：

```
<p>
  <input class="js-copytextinput" value="http://www.stackoverflow.com"></input>
  <button class="js-textinputcopybtn">Copy Text Input</button>
</p>

<p>
    <textarea class="js-copytextarea">http://www.stackexchange.com</textarea>
  <button class="js-textareacopybtn">Copy Textarea</button>
</p> 
```

JS：

```
//textinput copy
    var copyTextinputBtn = document.querySelector('.js-textinputcopybtn');

    copyTextinputBtn.addEventListener('click', function(event) {
        var copyTextinput = document.querySelector('.js-copytextinput');
        copyTextinput.select();

        try {
            var successful = document.execCommand('copy');
            var msg = successful ? 'successful' : 'unsuccessful';
            console.log('Copying text input command was ' + msg);
        } catch (err) {
            console.log('Oops, unable to copy');
        }
    }); 
```

资料来源：[来自 Dean Taylor 提供的答案的片段，几乎没有修改](https://stackoverflow.com/a/30810322/1793718)

您可以像这样在 jQuery 中绑定复制粘贴和剪切事件，

```
$(".select").bind({
    copy : function(){
        $('span').text('copy behaviour detected!');
    },
    paste : function(){
        $('span').text('paste behaviour detected!');
    },
    cut : function(){
        $('span').text('cut behaviour detected!');
    }
}); 
```

在通过 jQuery 绑定复制、剪切和粘贴事件时检查这个[Fiddle](http://jsfiddle.net/TFgNg/)。

*   键和鼠标事件都绑定在剪切、复制和粘贴中。

```
$(document).ready(function() {
  //textinput copy
  var copyTextinputBtn = document.querySelector('.js-textinputcopybtn');

  copyTextinputBtn.addEventListener('click', function(event) {
    var copyTextinput = document.querySelector('.js-copytextinput');
    copyTextinput.select();

    try {
      var successful = document.execCommand('copy');
      var msg = successful ? 'successful' : 'unsuccessful';
      console.log('Copying text input command was ' + msg);
    } catch (err) {
      console.log('Oops, unable to copy');
    }
  });

  //textarea copy
  var copyTextareaBtn = document.querySelector('.js-textareacopybtn');

  copyTextareaBtn.addEventListener('click', function(event) {
    var copyTextarea = document.querySelector('.js-copytextarea');
    copyTextarea.select();

    try {
      var successful = document.execCommand('copy');
      var msg = successful ? 'successful' : 'unsuccessful';
      console.log('Copying text area command was ' + msg);
    } catch (err) {
      console.log('Oops, unable to copy');
    }
  });

});
```

```
http://www.stackoverflow.comhttp://www.stackexchange.comhttp://www.stackoverflow.comhttp://www.stackexchange.com
```

```
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
<p>
  <input class="js-copytextinput" value="http://www.stackoverflow.com"></input>
  <button class="js-textinputcopybtn">Copy Text Input</button>
</p>

<p>
  <textarea class="js-copytextarea">http://www.stackexchange.com</textarea>
  <button class="js-textareacopybtn">Copy Textarea</button>
</p>
```

希望这可以帮助..

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-04-04T07:36:34.960

```
$(document).ready(function() {
    $("#editor").bind('paste', function (e){
        $(e.target).keyup(getInput);
    });

    function getInput(e){
        var inputText = $(e.target).html();
        alert(inputText);
        $(e.target).unbind('keyup');
    }
}); 
```

# .htaccess - 将 vbulletin ulrs 缩小到尽可能小

> ID：15757637
> 
> 赞同：0
> 
> 时间：2013-04-02T06:34:03.887
> 
> 标签：.htaccess, mod-rewrite, vbulletin

我试图在管理员 cp 上使用 vbulletin 友好的 url 选项，以使论坛的 url 尽可能小，以便访问者记住，但无法实现我所追求的。

好吧，我只想让所有长网址都变短：

> www.myforum.com/en/threads/1220-my-topic-about-moon

对此：

> www.myforum.com/en/thr1220

所以基本上我想跳过**threads**这个词，例如添加到**url的末尾+线程号而不列出线程标题。**

这是我从我的 vbulletin 获得的 .htaccess 代码，我相信修改开始的地方：

```
RewriteEngine on

# If you are having problems or are using VirtualDocumentRoot, uncomment this line and set it to your vBulletin directory.
# RewriteBase /forum/

# If you are having problems with the rewrite from content/ to content.php, uncomment this line to turn MultiViews off.
# Options -MultiViews

RewriteCond %{REQUEST_FILENAME} -f [OR]
RewriteCond %{REQUEST_FILENAME} -l [OR]
RewriteCond %{REQUEST_FILENAME} -d

RewriteRule ^.*$ - [NC,L]

# Forum
RewriteRule ^threads/.* showthread.php [QSA]
RewriteRule ^forums/.* forumdisplay.php [QSA]
RewriteRule ^members/.* member.php [QSA]
RewriteRule ^blogs/.* blog.php [QSA]
RewriteRule ^entries/.* entry.php [QSA]

RewriteCond %{REQUEST_FILENAME} -f [OR]
RewriteCond %{REQUEST_FILENAME} -l [OR]
RewriteCond %{REQUEST_FILENAME} -d

RewriteRule ^.*$ - [NC,L] 
```

知道如何更改或修改此代码以实现我所追求的目标。

谢谢

# php - 使用 wanwizard 数据映射器时在 codeginiter 帮助文件中调用模型类对象

> ID：15757638
> 
> 赞同：0
> 
> 时间：2013-04-02T06:34:08.243
> 
> 标签：php, mysql, codeigniter-2, datamapper

在尝试从 codeigniter 帮助文件访问用户类对象时，它的抛出错误如 `Class 'User' not found`. 我的代码类似于 `$u = new User(); $u->get();` 我可以在库文件中使用它，但不能在帮助文件中使用。有人可以帮助我。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-02T06:40:18.607

为了在助手中使用模型，您必须：

```
// Get a reference to the controller object
$CI = get_instance();

// You may need to load the model if it hasn't been pre-loaded
$CI->load->model('User');

// Call a function of the model
$CI->User->get(); 
```

希望它会有所帮助！

# c - 读取 dat 文件并将数字添加到数组

> ID：15757639
> 
> 赞同：1
> 
> 时间：2013-04-02T06:34:14.823
> 
> 标签：c, arrays, file

我的程序要求我读取带有数字列表的 dat 文件。我的目标是获取每个数字并将它们添加到数组中。该文件有大约 100 个这种格式的数字：

> 1
> 
> 2
> 
> 3

（造型有点不对劲；[）

到目前为止我有

```
int main()
{
    double prices[1000];
    int count,price;

    FILE *file;
    file = fopen("price.dat","r");
    if(file == NULL)
    {
        printf("Error: can't open file to read\n");
    }
    else
    {   
        printf("File prices.dat opened successfully to read\n");
    }
    if (file){
        while (fscanf(file, "%d", &price)!= NULL){
            count++;
            prices[count]=price;
        }
    }
    fclose(file);
} 
```

问题是它继续不断地添加最后一个数字。有什么帮助吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-02T06:38:24.983

您的代码中有几个问题。仅举几例：

*   `fscanf`不返回指针，因此您不应将其与`NULL`. 所有`scanf`函数都返回一个整数，可以是正数、零或负数。
*   您没有初始化`count`，因此它将包含一个看似随机的值。
*   数组的索引从零开始，因此`count`在赋值之前不应增加数组索引。

不想停下来的实际问题是因为第一点。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-02T07:00:28.537

```
#include <stdio.h>
#include <string.h>

#define PRICES_LIST_MAX      1000
#define PRICES_FILE          "price.dat"

int main()
{
    double prices[PRICES_LIST_MAX];
    int count = 0;
    int i = 0;

    FILE *file;
    file = fopen(PRICES_FILE,"r");
    if(!file)
    {
        perror("Error opening file");
        return -1;
    }

    memset(prices, 0, sizeof(prices));
    while (!feof(file)               /* Check for the end of file*/
        &&(count < PRICES_LIST_MAX)) /* To avoid memory corruption */
    {
        fscanf(file, "%lf", &(prices[count++]));
    }
    fclose(file);

    /* Print the list */
    printf("Prices count: %d\n", count);
    for(i = 0; i < count; i++)
    {
        printf("Prices[%d] = %lf\n", i, prices[i]);
        }

        return 0;
} 
```

# eclipse - Bitnami GitLab 5.0 和 git & Eclipse EGit 快速入门

> ID：15757642
> 
> 赞同：1
> 
> 时间：2013-04-02T06:34:23.523
> 
> 标签：eclipse, git, egit, bitnami, gitlab

我们刚刚使用[Bitnami 堆栈设置了](http://bitnami.com/stack/gitlab/virtual-machine)[GitLab 5.0](http://gitlab.org/)，需要快速启动。

Bitnami 默认禁用 SSH。这对我来说没问题，我更喜欢使用 HTTP。但似乎 GitLab 5.0 并不能顺利支持 HTTP。
例如在项目页面上`http://192.168.133.99/gitlab/publicproject1`，当切换到 HTTP 选项时，下面的帮助不会更新。

我有一个项目`publicproject1`被检查为公开。但我不能以任何方式克隆它（使用`git`或 EGit）：

```
weibl@FX-JSJ532 ~/pp1
$ git clone http://192.168.133.99/gitlab/publicproject1.git
Cloning into 'publicproject1'...
fatal: http://192.168.133.99/gitlab/publicproject1.git/info/refs not found: did you run git update-s
erver-info on the server?

weibl@FX-JSJ532 ~/pp1
$ git clone http://192.168.133.99/gitlab/publicproject1
Cloning into 'publicproject1'...
fatal: http://192.168.133.99/gitlab/publicproject1/info/refs not found: did you run git update-serve
r-info on the server? 
```

我使用 GitHub 已经有一段时间了，所以可能我错过了一些 GitHub 自动处理的东西。

我为 Eclipse 找到了这个 Q [egit 插件](https://stackoverflow.com/questions/15128294/egit-plugin-for-eclipse)。我的 SSH 密钥就位。

更新：我[在 Github 存储库上检查了有关“您是否运行 git update-server-info”错误的](https://stackoverflow.com/questions/9343189/did-you-run-git-update-server-info-error-on-a-github-repository)所有建议。
并检查我是这个项目的主人。

更新 2：Bitnami Gitlab 没有 Nginx，但 Apache [http://bitnami.com/stack/gitlab/README.txt](http://bitnami.com/stack/gitlab/README.txt)

错误与[提到的问题 3384](https://github.com/gitlabhq/gitlabhq/issues/3384)相同。

```
>git push -u origin master
/opt/bitnami/ruby/lib/ruby/1.9.1/net/http.rb:762:in `initialize': getaddrinfo: T
emporary failure in name resolution (SocketError)
        from /opt/bitnami/ruby/lib/ruby/1.9.1/net/http.rb:762:in `open'
        from /opt/bitnami/ruby/lib/ruby/1.9.1/net/http.rb:762:in `block in connect'
        from /opt/bitnami/ruby/lib/ruby/1.9.1/timeout.rb:54:in `timeout'
        from /opt/bitnami/ruby/lib/ruby/1.9.1/timeout.rb:99:in `timeout'
        from /opt/bitnami/ruby/lib/ruby/1.9.1/net/http.rb:762:in `connect'
        from /opt/bitnami/ruby/lib/ruby/1.9.1/net/http.rb:755:in `do_start'
        from /opt/bitnami/ruby/lib/ruby/1.9.1/net/http.rb:744:in `start'
        from /opt/bitnami/apps/gitlab/gitlab-shell/lib/gitlab_net.rb:56:in `get'
        from /opt/bitnami/apps/gitlab/gitlab-shell/lib/gitlab_net.rb:17:in `allowed?'
        from /opt/bitnami/apps/gitlab/gitlab-shell/lib/gitlab_shell.rb:51:in `validate_access'
        from /opt/bitnami/apps/gitlab/gitlab-shell/lib/gitlab_shell.rb:21:in `exec'
        from /opt/bitnami/apps/gitlab/gitlab-shell/bin/gitlab-shell:16:in `<main>'
fatal: The remote end hung up unexpectedly 
```

更新 3：passenger.conf

![乘客配置文件](https://i.stack.imgur.com/ghcin.png)

更新 4：用于 GitLab 应用程序的 Apache2 配置：gitlab.conf

![在此处输入图像描述](https://i.stack.imgur.com/3AhO1.png)

如何制作简单的根（不是相对根）？

更新 5：我已启用 SSH 并将 GitLab 应用程序 URL 从 /gitlab 更改为 / aka root。 [Bitnami：如何在 Apache2 中配置 GitLab 5.0 应用程序没有相对根？](https://stackoverflow.com/questions/15900937/bitnami-how-to-configure-gitlab-5-0-application-in-apache2-not-to-have-relative) 但是，当使用 git 或 EGit 访问时，我仍然遇到与 UPDATE 2 相同的错误。我唯一的线索是 GitLab UI 已损坏（似乎没有应用 CSS），因此可能需要对 GitLab 应用程序进行一些额外的配置。帮助！！

未找到解决方案。我实际上得到了更新的 VM 版本 5.1.0-2，其中提到了这里提到的主要错误，但是现在有一个普遍的问题 [如何更新 Bitnami 堆栈中的 GitLab](https://stackoverflow.com/questions/16478029/how-to-update-gitlab-in-bitnami-stack)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-09T08:56:10.260

来自[Bitnami 维基](http://wiki.bitnami.com/Applications/BitNami_GitLab)

> 重要提示：必须启用 SSH 服务器才能将您的代码拉入应用程序。BitNami GitLab 虚拟机中默认禁用 SSH 服务器。查看[本指南](http://wiki.bitnami.com/Virtual_Appliances_Quick_Start_Guide#How_to_enable_sshd.3f)以了解如何启用它。

再次引用：

> 对于 Ubuntu
> 
> `$ sudo mv /etc/init/ssh.conf.back /etc/init/ssh.conf`
> `$ sudo start ssh`

现在看来我不能在没有启用 SSH 的情况下使用 GitLab。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-02T06:55:21.563

我看到您的 GitLab 服务器有一个相对根目录：`192.168.133.99/gitlab`而不仅仅是`192.168.133.99/`.

最近修复了一个错误：[问题 3384：Gitlab 无法克隆或推送](https://github.com/gitlabhq/gitlabhq/issues/3384#issuecomment-15457287)：

> 然而，当实际进行克隆时，推拉。内部 api`gitlab-shell`在服务器的同一台机器上调用`gitlab`。现在由于`gitlab`nginx 的配置`/etc/nginx/sites-enabled/gitlab`设置为：

```
server {
  listen YOUR_SERVER_IP:80 default_server;         # e.g., listen 192.168.1.1:80;
  server_name YOUR_SERVER_FQDN;     # e.g., server_name source.example.com;
  root /home/git/gitlab/public; 
```

> 服务器上的用户`git`被调用`gitlab-shell`以访问 web api `YOUR_SERVER_FQDN`，**但现在用户的服务器 IP`git`是`127.0.0.1`**。
> **所以 gitlab 现在不是有效的网站**。但是默认的 nginx 站点在端口 80 上侦听任何 IP，因此

```
<html>
<head>
<title>Welcome to nginx!</title>
</head>
<body bgcolor="white" text="black">
<center><h1>Welcome to nginx!</h1></center>
</body>
</html> 
```

> 发出。因为它是默认 nginx 站点的索引页面。
> 
> 解决方案是将 gitlab nginx 配置文件设置`/etc/nginx/sites-enabled/gitlab`为：

```
server {
  listen *:80 default_server;         # e.g., listen 192.168.1.1:80;
  server_name YOUR_SERVER_FQDN;     # e.g., server_name source.example.com;
  root /home/git/gitlab/public; 
```

[拉取请求](https://github.com/gitlabhq/gitlabhq/pull/3403)正在进行中。

# mysql - 为什么从 mysql 工作台执行查询比直接从 mysql cli 执行查询花费更长的时间？

> ID：15757643
> 
> 赞同：3
> 
> 时间：2013-04-02T06:34:25.353
> 
> 标签：mysql, mysql-workbench

我有一个查询，它在多个表上执行多个连接并使用覆盖索引。当直接从 mysql cli 而不是从 mysql workbench 执行时，它似乎运行得更快。

```
mysql > some query
...
250 rows in set (0.05 sec) 
```

从mysql工作台大约需要`~0.200 sec duration / 0.100 sec fetch`

除了延迟、身份验证和数据传输之外，还有什么原因可以让控制台的速度提高几个数量级吗？每次从 mysql 工作台执行查询时是否会发生三向 tcp 握手，或者该 tcp 连接是否保持打开状态直到您关闭工作台会话？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-02T06:55:13.127

Workbench 中有一个持久连接，因此在这方面没有开销。在 CLI 和 Workbench 中执行查询应该同样快，但是数据传输有时会慢一些，因为 Workbench 首先在本地缓存结果，以便在用户单击结果集视图中的标题字段时能够对其进行排序（包括多列排序）。尝试在两个工具中重复查询，看看时间是否仍然不同。由于执行缓存，查询的第一次运行通常比后续运行慢。

# php - 如何在 Windows Server 2003 上启用 mod_rewrite

> ID：15757644
> 
> 赞同：0
> 
> 时间：2013-04-02T06:34:26.030
> 
> 标签：php, mod-rewrite

如何在 Windows Server 2003 上启用 mod_rewrite？PHP 作为服务（可能来自安装程序）安装在 c:\php 目录中。

搜索引擎找不到 httpd.conf 文件，也没有 c:\program files\apache 目录。

我有 IIS6。

# c# - 基于开始/结束位置的字符串中的粗体选择性文本

> ID：15757645
> 
> 赞同：3
> 
> 时间：2013-04-02T06:34:26.360
> 
> 标签：c#, asp.net, regex, arrays, string

在我的 ASP.NET 页面中，我有一个字符串（从 SQL db 返回）。我想根据给定的文本位置加粗字符串文本的某些部分。

例如，如果我有一个字符串如下：

```
"This is an example to show where to bold the text" 
```

我得到字符开始位置：6 和结束位置：7，然后我会在我的字符串中加粗单词“is”，得到：

“这**是**一个显示在何处加粗文本的示例”

有任何想法吗？

编辑：请记住，我需要使用开始/结束位置，因为字符串中可能有重复的单词。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-02T06:40:11.803

您可以[`String.Replace`](http://msdn.microsoft.com/en-us/library/fk49wtc1.aspx)为此使用方法。

> 返回一个新字符串，其中当前实例中出现的所有指定字符串都替换为另一个指定字符串。

```
string s = "This is an example to show where to bold the text".Replace(" is ", " <b>is</b> ");
Console.WriteLine(s); 
```

这是一个[`DEMO`](http://ideone.com/zXfQEe).

既然你清楚了你想要什么，你就可以使用`StringBuilder`类。

```
string s = "This is an example to show where to bold the text";
var sb = new StringBuilder(s);
sb.Remove(5, 2);
sb.Insert(5, "<b>is</b>");
Console.WriteLine(s); 
```

这是一个[`DEMO`](http://ideone.com/U6awnz).

***注意***：由于您没有将`<b>`标签视为输出，这并不意味着它们不存在`;)`

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-02T06:52:29.273

1.  在字符串的第 7 位插入关闭标签
2.  在字符串的位置 5 (6 - 1) 中插入一个开放标签。
3.  你会得到一个类似“This **is** an example…”的字符串

即从头到尾修改字符串（插入标记）：

```
var result = str.Insert(7, "</b>").Insert(6 - 1, "<b>"); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-02T06:37:13.923

首先在完整字符串中找到要替换的字符串。
将字符串替换为`<b>+replacestring+</b>`

```
string str="This is an example to show where to bold the text";
string replaceString="string to replace"
str=str.Replace(replaceString,<b>+replaceString+</b>); 
```

## 编辑 1

```
string replaceString=str.Substring(6,2);
str=str.Replace(replaceString,<b>+replaceString+</b>); 
```

子字符串示例： http:
[//www.dotnetperls.com/substring](http://www.dotnetperls.com/substring)

## 编辑 2

```
int startPosition=6;
int lastPosition=7;
int lastIndex=lastPosition-startPosition+1;

string str="This is an example to show where to bold the text";
string replaceString=str.Substring(startPosition,lastIndex);
str=str.Replace(replaceString,<b>+replaceString+</b>); 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-04-02T06:46:38.297

你需要做这样的事情......

**

```
strStart = MID(str, 0 , 7) ' Where 7 is the START position
str2Replace = "<b>" & MID(str, 8, 10) & "</b>" ' GRAB the part of string you want to replace
str_remain = MId(str, 11, Len(str)) ' Remaining string
Response.write(strStart  & str2Replace & str_remain ) 
```

**

# php - 如何显示两个数据库中的一个 CGridView

> ID：15757648
> 
> 赞同：1
> 
> 时间：2013-04-02T06:34:30.327
> 
> 标签：php, yii, multiple-databases, cgridview

我正在尝试在一个 CGridView 中显示两个数据库表源 .. 2 个表是 reg.students 和 login.user .. 我的学生模型关系是，

```
public function relations()
{

     Yii::app()->getModule('user');
    return array(
        'royaltyOutstandings' => array(self::HAS_MANY, 'RoyaltyOutstanding', 'studentID'),
        'srkMedicalInfos' => array(self::HAS_MANY, 'SrkMedicalInfo', 'studentID'),
        'parents' => array(self::HAS_ONE, 'SrkParents', 'studentID'),
        'srkStudentWorksheets' => array(self::HAS_MANY, 'SrkStudentWorksheet', 'studentID'),
        'user' => array(self::BELONGS_TO, 'User', 'centre_id'),
    );
} 
```

在用户模块中，

```
public function tableName()
{ return 'login.user'; } 
```

在 cgridview 列数组中，

```
$this->widget('zii.widgets.grid.CGridView', array(
'id'=>'students-grid',
'dataProvider'=>$model->search(),
'filter'=>$model,
'columns'=>array(
            array(
        'header' => 'No.',
        'value' => '$row+1',
    ),
     array('name' => 'user.centre_id',
    'value'=>'$data->user->centre_id',
    ), 
    '... // & so on 
```

控制器动作是，

```
 public function actionAdmin()
{   
    $this->layout = 'column3';
    $form = new Reports ;
    $model=new Students('search');
    $model->unsetAttributes();  // clear any default values
    if(isset($_GET['Students']))
        $model->attributes=$_GET['Students'];

    $this->render('admin',array(
        'model'=>$model,
        'form'=>$form,
    ));
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-02T08:21:56.430

如果我理解正确，您想在网格视图中显示一个或多个关系。如果这是您想要的，请查看本教程：[http](http://www.yiiframework.com/wiki/281/searching-and-sorting-by-related-model-in-cgridview/) ://www.yiiframework.com/wiki/281/searching-and-sorting-by-related-model-in-cgridview/ 本教程不仅向您展示如何在您的网格视图中显示关系，但它也向您展示如何对数据进行排序和过滤。祝你好运！

# mysql - 如何加入 3 个表、主题、评论和用户

> ID：15757650
> 
> 赞同：1
> 
> 时间：2013-04-02T06:35:00.847
> 
> 标签：mysql, sql, select

我有 3 个表，tbl_topic、tbl_comment、tbl_user。我想选择用户创建的所有主题以及他评论过的主题，即使他不是创建者。这是我的数据库：

```
tbl_topic
----------
topic_id
topic_title
user_id

tbl_comment
----------
comment_id
comment_message
user_id
topic_id

tbl_user
----------
user_id
user_name 
```

非常需要它。谢谢！

到目前为止我得到了这个

```
select * from tbl_topic T inner join tbl_comment C on T.topic_id = C.topic_id inner join tbl_user U on T.user_id = U.user_id GROUP BY T.topic_id 
```

我的问题是它只返回有评论的主题。我想包括用户创建的主题，即使它有 0 条评论。

我希望结果是这样的：

```
 +-----------+-----------+----------+-------------+----------------+----------+-------
    | topic_id | topic_title | user_id | comment_id | comment_message | user_id | topic_id | 
    +-----------+-----------+----------+-------------+----------------+----------+--------
    | 1         | my topic  |   1      | 1          | comment me      | 1       |  1
    | 2         | others    |   2      | 2          | comment me      | 1       |  2
    | 3         | my nocoment|  1      | NULL       | NULL            | NULL    | NULL
    +-----------+---------+--------+-------------+----------+----------+---------+--------

     ----------+-----------+
         user_id | user_name |
        -----------+-----------
         1         | me       |
         2         | someone  |
         1         | me
        -----------+---------+-- 
```

我搞砸了我的表中的字段，comment_message 旁边的 user_id 应该是 comment_user_id 但我已经以这种方式创建了我的数据库。您能帮助实现这一目标吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-02T06:43:17.053

下面的查询在子查询中使用`UNION`。第*一个* `SELECT`获取用户创建的所有主题。第二*条* `SELECT`语句获取用户的所有评论并将其连接到表中`tbl_topic`，这样我们就可以获得`topic_title`.

```
SELECT  topic_ID, topic_title
FROM
        (
            SELECT  a.user_ID, b.topic_ID, b.topic_title
            FROM    tbl_user a
                    INNER JOIN tbl_topic b
                        ON a.user_ID = b.user_ID
            UNION
            SELECT  a.user_ID, c.topic_ID, c.topic_title
            FROM    tbl_user a
                    INNER JOIN tbl_comment b
                        ON a.user_ID = b.user_ID
                    INNER JOIN tbl_topic c
                        ON b.topic_ID = c.topic_ID
        ) x
WHERE   x.user_ID = ? 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-02T06:42:04.467

试试下面的查询。这将显示所有字段。

```
SELECT tt.*, tc.*, tbl_user.*
FROM tbl_topic AS tt INNER JOIN tbl_comment AS tc ON tt.topic_id = tc.topic_id INNER JOIN tbl_user as tc ON tc.user_id = tu.user_id;
WHERE tu.user_id = x 
```

如果您必须过滤添加到`WHERE`查询的子句。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-02T07:00:28.240

使用左连接。但是还有一个问题，你只会得到一个表评论和一个用户。要获得更多信息，您可以使用 GROUP_CONCAT 函数，如下所示：http: [//dev.mysql.com/doc/refman/5.0/en/group-by-functions.html#function_group-concat](http://dev.mysql.com/doc/refman/5.0/en/group-by-functions.html#function_group-concat)

```
select * from tbl_topic T 
    LEFT JOIN tbl_comment C on T.topic_id = C.topic_id 
    LEFT join tbl_user U on T.user_id = U.user_id 
WHERE T.user_id = x
GROUP BY T.topic_id 
```

编辑：缺少 where 子句

# unix - 大胆和色彩与unix's more

> ID：15757651
> 
> 赞同：0
> 
> 时间：2013-04-02T06:35:02.530
> 
> 标签：unix, pipe

我将编译器输出通过管道传输到`more`（当我真的只想知道前几个时，避免在警告页面上获取页面），但这不会保留粗体和颜色。有没有办法用更多来保存这些？（无论出于何种原因，我的 Mac 上都`man more`给出了手册页`less`）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-02T06:48:58.057

“因为少即是多”；）

试试`more -R`。

# python - 如何在 CentOS 上为 python 2.6 安装模块？

> ID：15757656
> 
> 赞同：3
> 
> 时间：2013-04-02T06:35:12.473
> 
> 标签：python, centos, yum, pypdf

在 CentOS 上安装 python 2.6 之后：

```
 wget http://download.fedoraproject.org/pub/epel/5/i386/epel-release-5-4.noarch.rpm
 sudo rpm -ivh epel-release-5-4.noarch.rpm
 yum install python26 
```

然后我安装`pyPdf`：

```
 yum install pyPdf 
```

但是，`pyPdf`仅适用于旧的 python 2.4：

```
# python
Python 2.4.3 (#1, Jan  9 2013, 06:49:54) 
[GCC 4.1.2 20080704 (Red Hat 4.1.2-54)] on linux2
Type "help", "copyright", "credits" or "license" for more information.
>>> import pyPdf
>>> import sys
>>> print sys.path
['', '/usr/lib/python24.zip', '/usr/lib/python2.4', '/usr/lib/python2.4/plat-linux2', '/usr/lib/python2.4/lib-tk', '/usr/lib/python2.4/lib-dynload', '/usr/lib/python2.4/site-packages', '/usr/lib/python2.4/site-packages/Numeric', '/usr/lib/python2.4/site-packages/gtk-2.0'] 
```

它不适用于新安装的 python 2.6：

```
# python26
Python 2.6.8 (unknown, Nov  7 2012, 14:47:34) 
[GCC 4.1.2 20080704 (Red Hat 4.1.2-52)] on linux2
Type "help", "copyright", "credits" or "license" for more information.
>>> import sys
>>> print sys.path
['', '/usr/lib/python26.zip', '/usr/lib/python2.6', '/usr/lib/python2.6/plat-linux2', '/usr/lib/python2.6/lib-tk', '/usr/lib/python2.6/lib-old', '/usr/lib/python2.6/lib-dynload', '/usr/lib/python2.6/site-packages']
>>> import pyPdf
Traceback (most recent call last):
  File "<stdin>", line 1, in <module>
ImportError: No module named pyPdf 
```

如何`pyPdf`为 python 2.6 安装？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-02T07:08:46.467

如何创建并`virtualenv`安装`pyPdf``pip`

```
$ curl -O https://pypi.python.org/packages/source/v/virtualenv/virtualenv-X.X.tar.gz
$ tar xvfz virtualenv-X.X.tar.gz
$ cd virtualenv-X.X
$ python26 virtualenv.py myVirtualenv
$ source myVirtualenv/bin/activate
$ pip install pyPdf 
```

[在此处](https://pypi.python.org/pypi/virtualenv)阅读有关 virtualenv的更多信息

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-06-10T05:08:50.973

对于低于 6 的 CentOS 版本，默认提供 python 2.4。对于版本 6 及更高版本其 python2.6 。

现在我强烈建议不要在早期版本中升级基础 Python 安装，即 python2.4，因为这会破坏许多期望默认 python 为 2.4 的系统级功能。

您的问题可以通过多种方式解决：

1.  yum install 总是为默认 python 安装。如果它是 2.4，它将安装 2.4 的软件包。
2.  要安装 2.6 的软件包，请下载 2.6 的 easy_install 或 2.6 的 PIP，然后简单地执行 easy_install {{package_name}} 或 pip install {{package_name}}
3.  按照@Dikei 的建议，为了让您的环境保持不同，请安装一个虚拟环境，然后安装您的软件包。这是维护多个 python 环境的最佳实践之一。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-02T07:08:29.580

不知道你是怎么做的。我最近在 CentOS 上为 Python 2.7 安装了 pyPdf。一个简单的百胜为我工作。

> 百胜安装pyPdf

pyPdf 也可用于较新的版本。[在这里](http://pybrary.net/pyPdf/)检查

## 编辑：

> 可能有两个不同版本的 Python 会导致您出现此问题。CentOS 附带 v2.4 的默认安装。删除所有以前的版本并重新安装。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2017-11-01T05:06:52.303

快速安装**Python**！！！

获取最新版本的 Python 2.6.9

```
wget https://www.python.org/ftp/python/2.6.9/Python-2.6.9.tar.xz 
```

解压包

```
tar xf Python-2.6.9.tar.xz 
```

配置它们

```
cd Python-2.6.9
./configure --prefix=/usr/local --enable-unicode=ucs4 --enable-shared LDFLAGS="-Wl,-rpath /usr/local/lib" 
```

安装它们

```
make && make altinstall 
```

检查版本：

```
python --version
Python 2.6.9 
```

**学分**：[https ://danieleriksson.net](https://danieleriksson.net)

希望这可以帮助 ！！！

# android - 如何将一个位图叠加到另一个位图并保存在 sdcard 上

> ID：15757659
> 
> 赞同：1
> 
> 时间：2013-04-02T06:35:28.207
> 
> 标签：android, bitmap, android-canvas

我正在开发图像编辑器，我正在使用自定义类来绘制位图，这是我的代码..

```
private void settingBitmapToDraw() {
    // TODO Auto-generated method stub

    resultBitmap=Bitmap.createScaledBitmap(resultBitmap, WIDTH, HEIGHT, true);
    Matrix matrix=new Matrix();
    matrix.setRotate(TO_DEGREE);
    tempBitmap=Bitmap.createBitmap(resultBitmap, 0, 0, WIDTH, HEIGHT, 
    matrix,  true);

    bitmap=Bitmap.createBitmap(WIDTH, HEIGHT, tempBitmap.getConfig());
    canvas=new Canvas(bitmap);

    invalidate();

}

protected void onDraw(Canvas canvas) {
    // TODO Auto-generated method stub
    super.onDraw(canvas);

    canvas.drawBitmap(tempBitmap, xAxis, yAxis, paint);

    if(overlayBitmap!=null)
    {
        canvas.drawBitmap(overlayBitmap, xAxis+50, yAxis+50, paint);
    }
}

public void overlayImage() {
    // TODO Auto-generated method stub

    ImageProcessing.SAVE_STATUS=false;
    overlayBitmap=BitmapFactory.decodeResource(getResources(),
            R.drawable.add_image);
    invalidate();

} 
```

位图在画布上绘制，但在保存时会另存为黑色图像。这是我的保存位图代码...

```
 try {
FileOutputStream fos=new FileOutputStream(file);
updatedBitmap.compress(Bitmap.CompressFormat.JPEG, 100, fos);
    SAVE_STATUS=true;
saveDialog.dismiss();
} catch (FileNotFoundException e) {
  // TODO Auto-generated catch block
    e.printStackTrace();
} 
```

更新的位图由“位图”初始化

```
public Bitmap getUpdatedImage() {
    // TODO Auto-generated method stub
    //width=2048 height=1232

    Bitmap updatedBitmap=Bitmap.createScaledBitmap(bitmap, 
            orgWidth, orgHeight, true);
    return updatedBitmap;

} 
```

///////////// 我的 ImageProcessing.java 类有代码...

```
if(!SAVE_STATUS)
{
updatedBitmap=ip_DrawingClass.getUpdatedImage();
if(updatedBitmap!=null)
{
    file=new File(file_root);
    saveDialog.show();
}
else
{
    Toast.makeText(ImageProcessing.this,
            "file can't saved...",  Toast.LENGTH_SHORT).show();
}
} 
```

并且 saveDialog 具有保存按钮，其中包含用于保存上面编写的图像的代码。

////////////////////////

* * *

```
 @Override
public boolean onTouchEvent(MotionEvent event) {
    // TODO Auto-generated method stub

    float xAxis,yAxis;

    switch(event.getAction()&MotionEvent.ACTION_MASK)
    {
    case MotionEvent.ACTION_DOWN:
        MODE="DRAG";
        startX=event.getX();
        startY=event.getY();
        if(ImageProcessing.drawLineStatus)
            path.moveTo(startX, startY);
        break;
    case MotionEvent.ACTION_POINTER_DOWN:
        MODE="ZOOM";
        oldDist=this.findDistanceXY(event);
        break;
    case MotionEvent.ACTION_MOVE:
        if(MODE=="ZOOM")
        {
            newDist=findDistanceXY(event);
            if(newDist>oldDist)
            {
                this.applyZooming("plus");
            }
            else
            {
                this.applyZooming("minus");
            }
            oldDist=newDist;
        }
        else if(MODE=="DRAG")
        {
            xAxis=event.getX();
            yAxis=event.getY();
            if(!lock_status)
            {
                this.translateImage(xAxis,yAxis,startX,startY);
            }
            else
            {
               this.translateTextOnBitmap
                                         (xAxis,yAxis,startX,startY);
            }

            if(ImageProcessing.drawLineStatus)
            {
                path.lineTo(xAxis, yAxis);
                this.drawLinesOnBitmap();
            }
            else
                draw_line=false;
        }
        break;
    case MotionEvent.ACTION_POINTER_UP:
        MODE="DRAG";
        this.setZoomBoxXY();
        break;
    case MotionEvent.ACTION_UP:
        this.set_XY_Axis();
        break;
    }

    return true;
} 
```

图片翻译在这里..

```
 public void translateImage(float x, float y, float startX, float startY) {
// TODO Auto-generated method stub

    if((startX>=imageAtX&&startX<=(imageAtX+imageW))&&
                (startY>=imageAtY&&startY<=(imageAtY+imageH)))
    {
        if(imagePortionSelected||crop_status)
        {
            if((startX>=selectorAtX&&startX<=(selectorAtX+ZOOM))
                               &&(startY>=selectorAtY&&startY<=(selectorAtY+ZOOM)))
            {
                left=(int)(x-(startX-selectorAtX));
                top=(int)(y-(startY-selectorAtY));
                right=left+ZOOM;
                bottom=top+ZOOM;
                checkForValidityOfPara();
            }
            rect.set(left, top, right, bottom);
        }
        else
        {
            xAxis=x-(startX-imageAtX);
            yAxis=y-(startY-imageAtY); 
        }
    }

    invalidate();
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-03T07:31:35.737

对于组合 2 个位图，请使用以下方法

```
public Bitmap combineImages(Bitmap frame, Bitmap image) {

    Bitmap cs = null;
    Bitmap rs = null;

    rs = Bitmap.createScaledBitmap(frame, image.getWidth(),
            image.getHeight(), true);

    cs = Bitmap.createBitmap(rs.getWidth(), rs.getHeight(),
            Bitmap.Config.RGB_565);

    Canvas comboImage = new Canvas(cs);

    comboImage.drawBitmap(image, 0, 0, null);
    comboImage.drawBitmap(rs, 0, 0, null);

    if (rs != null) {
        rs.recycle();
        rs = null;
    }
    Runtime.getRuntime().gc();

    return cs;
} 
```

并且为了在任何你想要的地方保存组合图像使用下面的代码......

```
 Bitmap outBmp = combineImages(bmp1, bmp2);

    imageFileFolder = new File(Environment.getExternalStorageDirectory(),
            "FOLDER_PHOTOS");
    imageFileFolder.mkdir();
    FileOutputStream out1 = null;

    imageFileName = new File(imageFileFolder, "file_name.jpg");

        out1 = new FileOutputStream(imageFileName);
        outBmp.compress(Bitmap.CompressFormat.JPEG, 100, out1);
        out1.flush();
        out1.close(); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-02T07:03:34.457

使用此代码。您必须将绘图布局保存为图像。希望下面的代码对您有所帮助。

```
Bitmap bm;
    DrawingLayout.setDrawingCacheEnabled(true);
    bm = DrawingLayout.getDrawingCache();

    ByteArrayOutputStream stream = new ByteArrayOutputStream();
    bm.compress(Bitmap.CompressFormat.PNG, 100, stream);
    byte[] byteArray = stream.toByteArray();
    //String path = Environment.getExternalStorageDirectory().getAbsolutePath() + "/drawn_image";
    String path = getFilesDir() .getAbsolutePath();
    boolean exists = (new File(path)).exists();
    /*if (!exists) {
        new File(path).mkdirs();
    }*/
    OutputStream outStream = null;
    File file = new File(path, "drawn_image" + ".PNG");
    try {
        outStream = new FileOutputStream(file);
        bm.compress(Bitmap.CompressFormat.PNG, 100, outStream);            
        outStream.flush();
        outStream.close();               

    } catch (FileNotFoundException e) {

        e.printStackTrace();

    } catch (IOException e) {

        e.printStackTrace();

    } 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-02T07:04:43.427

您没有在更新的位图上绘图。在保存之前在更新的位图上绘制第一个位图和覆盖位图。*将您的getUpdatedImage()*更改为此-

```
protected void getUpdatedImage() {

int width = tempBitmap.getWidth();
int height  = tempBitmap.getHeight();
Bitmap updatedBitmap=Bitmap.createScaledBitmap(bitmap, 
        width, height, true);
Canvas canvas  = new Canvas(updatedBitmap);

canvas.drawBitmap(tempBitmap, xAxis, yAxis, paint);

if(overlayBitmap!=null)
{
    canvas.drawBitmap(overlayBitmap, xAxis+50, yAxis+50, paint);
}

//now save the updated bitmap
return updatedBitmap;
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-02T06:52:14.547

保存位图试试这个...-

```
 public void savebitmap(final Bitmap bitmap)
{
    AlertDialog.Builder alert = new AlertDialog.Builder(Work.this);
alert.setMessage("File name :"); //get file name from user
    input = new EditText(Work.this);
    input.setLayoutParams(new LayoutParams(100,50));
    alert.setView(input);
    alert.setNeutralButton("Ok", new DialogInterface.OnClickListener() {
        public void onClick(DialogInterface dialog, int whichButton) {
            String _mNameValue = input.getText().toString();
            try
            {
                File fn=new File("/sdcard/"+_mNameValue+".png");
                FileOutputStream out=new FileOutputStream(fn);
                Toast.makeText(getApplicationContext(), "In Save",Toast.LENGTH_SHORT).show();
                bitmap.compress(Bitmap.CompressFormat.PNG, 90,out);
                out.flush();
                out.close();    
                Toast.makeText(getApplicationContext(), "File is Saved in   "+fn, Toast.LENGTH_SHORT).show();
            }
            catch(Exception e){
                e.printStackTrace();        
            }
        }
    });
    alert.show();
} 
```

这在我的地方工作得很好。

ontouch事件-

```
 paint = new Paint();
                    paint.setAntiAlias(true);
                    paint.setColor(getResources().getColor(R.color.Yellow)) ;
                    paint.setAlpha(opacity);

                        _ImageView.setAdjustViewBounds(true);
                          _ImageView.setImageBitmap(_MutableImage1);
                          canvas1 = new Canvas(_MutableImage1);
                          canvas1.drawRect(event.getX()-10,event.getY()-10,event.getX()+10,event.getY()+10, paint);
                          bitmap1=_MutableImage1.copy(Bitmap.Config.ARGB_4444,false); 
```

# javascript - 无法使用 innerHTML 从 HTML 字符串创建某些类型的节点

> ID：15757660
> 
> 赞同：0
> 
> 时间：2013-04-02T06:35:29.693
> 
> 标签：javascript, html, validation, dom

以下 javascript（在 chrome 控制台中运行）没有达到我的预期：

```
> var elem = document.createElement("foo");
undefined
> elem.innerHTML = "<tr></tr>"
"<tr></tr>"
> elem.outerHTML
"<foo></foo>" 
```

`<tr>`标签消失了！

这似乎特定于与表相关的元素。使用`<div>`或`<span>`按预期工作。

我希望我正在做的事情是无效的，因为“foo”不是已知元素，并且可能与表相关的元素只能出现在 . 有趣的是，以下代码可以正常工作：

```
> var elem = document.createElement("foo"), tr = document.createElement("tr");
> elem.appendChild(tr);
> elem.outerHTML
"<foo><tr></tr></foo>" 
```

因此，似乎构造本身（`<tr>`不在 a 内`<table>`）是允许的，但是使用 innerHTML 将其放置在那里的方法不起作用 - 也许这会通过一些 html 清理，在创建 DOM 节点时删除不严格的东西直接不接受同样的验证。

我的问题：有没有办法从字符串中填充任意 DOM 节点而不会遇到此类清理/验证问题？我的用例*最终*会得到完全有效的结构（我计划稍后将其作为子级），但是当我尝试构建各个部分时，浏览器阻止了我。

听起来有点像 DocumentFragment 应该是我正在寻找的东西，但据我所知，它们只能以编程方式构造——它们不支持 innerHTML。

## 关于我为什么要这样做的一些背景：

我的用例是基于 javascript 的实时模板（即不输出 html 字符串，而是实际的 DOM 节点）。所以要求是：

*   必须允许模板输入是任意 HTML（这就是我使用 innerHTML 而不是以编程方式构造节点的原因）
*   必须可以创建子模板，然后将其附加到更大的文档中（这就是为什么我不能一次创建整个文件的原因）。

第二点是我是怎么遇到这个bug的。我的模板包含一个子模板。

```
var row = Html("<tr></tr>");
var table = Html(["<table><thead>", row, "</thead></table>"]); 
```

我稍后会添加如下代码：

```
row.append(Html(["<td>", column.header, "</td>"])); 
```

实际填充列。因此，当它完全构建时，html*将*是有效的。但在中间阶段，每个模板/片段都是在单个元素下构建的。这意味着模板如下：

```
Html(["Hello <span>", name, "</span>"]); 
```

仍然作为单个节点出现（以便可以将它们作为单个实体进行操作）：

```
<foo>Hello <span>bob</span></foo> 
```

当模板在 内仅产生一个子节点时`<foo>`，将删除外部节点。但是*在施工过程中*，`row`上面的模板应该是这样的`<foo><tr></tr></foo>`。由于我在使用 innerHTML 时看到的验证行为，它最终以`<foo></foo>`.

我已经检查了所有代码在 Firefox 和 chrome 中的工作方式都相同，所以我不认为我只是遇到了浏览器错误。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-02T07:43:11.433

不幸的是，您的一般问题的答案是否定的，没有办法用来`innerHTML`添加任意不完整的 HTML 片段。我知道这不是你想听到的答案，但事实就是这样。

最容易被误解的事情之一`innerHTML`源于 API 的设计方式。它重载了`+`and`=`运算符来执行 DOM 插入。这使程序员认为它只是在执行字符串操作，而实际上它的`innerHTML`行为更像是一个函数而不是一个变量。`innerHTML`如果设计成这样，人们就不会那么困惑了：

```
element.innerHTML('some <b>html</b> here'); 
```

不幸的是，更改 API 为时已晚，因此我们必须了解它实际上是一个 API，而不仅仅是一个属性/变量。

现在，要了解`innerHTML`. 当您修改`innerHTML`它时，它会触发对浏览器 HTML 编译器的调用。它与编译您的 html 文件/文档的编译器相同。`innerHTML`调用的 HTML 编译器没有什么特别之处。因此，无论您可以对可以传递给的 html 文件做什么`innerHTML`（一个例外是嵌入式 javascript 不会被执行 - 可能是出于安全原因）。

从浏览器开发人员的角度来看，这是有道理的。为什么在浏览器中包含两个单独的 HTML 编译器？特别是考虑到 HTML 编译器是庞大而复杂的野兽这一事实。

不利的一面是，处理不完整的 HTML 的方式与处理 html 文档的方式相同。对于`<td>`不在表格内的元素，大多数浏览器都会简单地将其剥离（正如您自己观察到的那样）。这本质上就是您想要做的 - 创建无效/不完整的 HTML。

有两种解决方法：

1.  从页面中提取表格，然后使用字符串处理（正则表达式等）将其`<td>`插入表格字符串，然后`innerHTML`将整个表格重新插入页面。

2.  解析插入的 HTML 字符串，如果找到任何`<td>`或`<tr>`（或`<option>`）提取 html 元素并使用 DOM 方法插入它。

不幸的是，两者都很痛苦。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-03T07:31:10.390

Mihai Stancu 对 jquery 的评论让我想到：如果你调用`$("<tr></tr>")`. 我知道 jquery 有一个看起来像单个标签的字符串的快捷方式，但它也必须适用于复杂的 HTML。

因此，我深入研究了 jquery 源代码，并找到了票：

[https://github.com/jquery/jquery/blob/6a0ee2d9ed34b81d4ad0662423bf815a3110990f/src/manipulation.js#L450](https://github.com/jquery/jquery/blob/6a0ee2d9ed34b81d4ad0662423bf815a3110990f/src/manipulation.js#L450)

它使用正则表达式来检测字符串中第一个标签的名称，然后使用此信息来确定需要将其包装在什么“上下文”中，以便 innerHTML 进程将其视为有效。我认为这种技术应该适用于所有格式良好的输入。

我已将此代码应用到一个独立函数中，它将任意字符串转换为 DOM 节点：

[https://gist.github.com/gfxmonk/5299096](https://gist.github.com/gfxmonk/5299096)

# sass - 为什么 Sass 会改变我的颜色格式？

> ID：15757665
> 
> 赞同：10
> 
> 时间：2013-04-02T06:35:43.020
> 
> 标签：sass

Sass 在我的 css 文件中输出 #000 和 #fff 作为黑白颜色值。例如：

```
$color: #000;

.box {
    color: $color;
} 
```

输出到：

```
.box {
  color: black;
} 
```

不应该输出十六进制值吗？

* * *

## 回答 #1

> 赞同：20
> 
> 时间：2013-04-02T11:35:28.880

Sass 如何处理颜色取决于您使用的版本。但是有一些常见的行为：

*   Sass*总是*尽可能地最大化向后兼容性。由于**关键字**、**十六进制**和**rgba**具有最广泛的浏览器支持，所有颜色都将转换为这 3 种格式之一，优先考虑关键字或十六进制。只有当颜色具有 alpha 透明度时才会使用 rgba 格式（如果您指定`rgba(0, 0, 0, 100)`，Sass 会将其转换为`black`或`#000`）
*   如果 Sass 必须在使用关键字或十六进制格式之间进行选择，它将使用哪种格式将取决于输出设置。*紧凑*或*压缩*模式将始终转换为十六进制，其他格式将使用关键字。
*   *Sass 将在压缩*模式下将十六进制颜色转换为它们的 3 位格式（例如，`#000000`将输出为`#000`）。

# Sass 3.3 及以上版本

Sass*仅*在将颜色用作变量或它们不是上述 3 种格式之一时才转换颜色：

```
$color-hex: #000000;
$color-keyword: black;
$color-rgb: rgb(0, 0, 0);
$color-hsl: hsl(0, 0, 0);

.box-hex {
    color: $color-hex;
    background: #000000;
}

.box-keyword {
    color: $color-keyword;
    background: black;
}

.box-rgb {
    color: $color-rgb;
    background: rgb(0, 0, 0);
}

.box-hsl {
    color: $color-hsl;
    background: hsl(0, 0, 0);
} 
```

输出：

```
.box-hex {
  color: black;
  background: #000000;
}

.box-keyword {
  color: black;
  background: black;
}

.box-rgb {
  color: black;
  background: black;
}

.box-hsl {
  color: black;
  background: black;
} 
```

# Sass 3.4 及更高版本

从 3.3 到 3.4 的唯一变化是，当使用变量时，Sass 将保留颜色的格式……除非它是关键字、十六进制或 rgba 格式以外的格式。

```
.box-hex {
  color: #000000;
  background: #000000;
} 
```

# 但是，如果我*真的*需要特定格式怎么办？

如果你绝对必须有一个特定的格式，你可以把它变成一个字符串：

```
$color: #{'#F00'}; // or `unquote('#F00')`
.foo {
    color: $color;
} 
```

输出：

```
.foo {
  color: #F00;
} 
```

请记住，当您执行此操作时，您的“颜色”将不适用于诸如`lighten()`or之类的颜色操作函数`darken()`。

# c# - 将枚举转换为列表的通用方法

> ID：15757667
> 
> 赞同：5
> 
> 时间：2013-04-02T06:35:56.833
> 
> 标签：c#

这是一个“奇怪”的问题：

是否可以创建一个方法，其中将任何枚举转换为列表。这是我目前正在考虑的草稿。

```
public class EnumTypes
{
   public enum Enum1
   {
      Enum1_Choice1 = 1,
      Enum1_Choice2 = 2
   }

   public enum Enum2
   {
      Enum2_Choice1 = 1,
      Enum2_Choice2 = 2
   }

   public List<string> ExportEnumToList(<enum choice> enumName)
   {
      List<string> enumList = new List<string>();
      //TODO: Do something here which I don't know how to do it.
      return enumList;
   }
} 
```

只是好奇它是否可能以及如何做到这一点。

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2013-04-02T06:38:36.537

```
Enum.GetNames( typeof(EnumType) ).ToList() 
```

[http://msdn.microsoft.com/en-us/library/system.enum.getnames.aspx](http://msdn.microsoft.com/en-us/library/system.enum.getnames.aspx)

或者，如果你想变得花哨：

```
 public static List<string> GetEnumList<T>()
    {
        // validate that T is in fact an enum
        if (!typeof(T).IsEnum)
        {
            throw new InvalidOperationException();
        }

        return Enum.GetNames(typeof(T)).ToList();
    }

    // usage:
    var list = GetEnumList<EnumType>(); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-02T06:39:00.077

```
public List<string> ExportEnumToList(<enum choice> enumName)    {
List<string> enumList = new List<string>();
//TODO: Do something here which I don't know how to do it.
foreach (YourEnum item in Enum.GetValues(typeof(YourEnum ))){
    enumList.Add(item);
}
return enumList; 
```

}

# android - 从android中的共享首选项中删除数据

> ID：15757673
> 
> 赞同：3
> 
> 时间：2013-04-02T06:36:21.023
> 
> 标签：android, json, sharedpreferences

我正在尝试从共享首选项中删除数据。但我不能那样做。为了跟踪数据是否被删除，我正在使用以下代码：

```
btnLogout.setOnClickListener(new View.OnClickListener() {

    public void onClick(View arg0) {
            SharedPreferences prefs = getSharedPreferences(share_pref_file, Context.MODE_PRIVATE);
            SharedPreferences.Editor editor = prefs.edit();
            editor.remove(share_pref_file);
            editor.clear();
            editor.commit();
            getApplicationContext().getSharedPreferences(share_pref_file, 0).edit().clear().commit(); 
                String strJson = prefs.getString("jsondata","");
                if(strJson != null) 
                    {
                     Log.d("CLEAR", "cccccccccccccccccccccccccccc");
                    }
                userFunctions.logoutUser(getApplicationContext());
                Intent login = new Intent(getApplicationContext(),LoginActivity.class);
                login.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);
                startActivity(login);
                // Closing dashboard screen
                finish();
        }
}); 
```

但在 logcat 窗口中，它每次都向我显示“cccccccccccccccccccccccccccc”值。

那么任何人都可以帮助我如何从共享首选项中删除/删除数据，以便如果我单击“注销”按钮，它将删除所有存储的数据？提前致谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-02T06:37:30.823

空字符串仍然是字符串（`String("") != null`并将返回 true）。试试这个：

```
if(!strJson.equals("")) 
```

这假设空字符串首先永远不会是您的有效输入`SharedPreferences`。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-02T06:40:29.763

尝试在按钮单击事件中清除 SharedPreferences 值。

```
Editor editor = getSharedPreferences("MyPref", Context.MODE_PRIVATE).edit();
            editor.clear();
            editor.commit(); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-02T06:43:04.203

试试 editor.clear(); 其次是 editor.commit();

这是我用过的一个例子：

```
Preference clearPref = (Preference) findPreference("MyPref");

   btnLogout.setOnPreferenceClickListener(new OnPreferenceClickListener() {

        public boolean onPreferenceClick(Preference preference) {
            SharedPreferences settings =  PreferenceManager.getDefaultSharedPreferences(getBaseContext());                          
            SharedPreferences.Editor editor = settings.edit();
            editor.clear();
            editor.commit();                
            Toast.makeText(getBaseContext(), "All data cleared!", Toast.LENGTH_SHORT).show();

            return true;
        }

    }); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-02T06:42:23.730

要么改变这个：

```
String strJson = prefs.getString("jsondata", ""); 
```

到：

```
String strJson = prefs.getString("jsondata", null); 
```

然后检查：

```
if(strJson != null) {
    Log.d("CLEAR", "cccccccccccccccccccccccccccc");
} 
```

或者保持原样并像这样检查它：

```
if(strJson.equals("")) {
    Log.d("CLEAR", "cccccccccccccccccccccccccccc");
} 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2014-09-19T06:30:21.893

```
settings.edit().clear().commit(); 
```

是我正在使用的单行代码，完美运行

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2015-07-29T07:26:55.383

这是我的解决方案：

您可以将`null`而不是您喜欢的数据放入`shareprefrences`

```
getApplicationContext();
SharedPreferences.Editor pref = (Editor) getSharedPreferences("data", MODE_PRIVATE).edit();
pref.putString("admin_no", null);
pref.commit(); 
```

# java - 如何使用 System.set... 在类级别初始化 chrome 驱动程序？

> ID：15757674
> 
> 赞同：2
> 
> 时间：2013-04-02T06:36:28.237
> 
> 标签：java, webdriver, testng

我一直在使用 Firefox 来运行我的测试用例。但现在我想使用 Chrome。我想在类级别初始化 chrome，就像我使用 Firefox 一样。但是在类级别设置系统属性会出错，我该怎么办？使用属性文件会起作用，如果是的话，如何？

```
public class BaseClass {
System.setProperty("webdriver.chrome.driver","/home/Desktop/chrome32/chromedriver"); 
public static WebDriver driver = new ChromeDriver();

public void test(){
driver.get("http://asdf.com");

----
---
 }

} 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-03T04:34:50.007

您可以使用这样的静态初始化程序块来冷处理：

```
public class BaseClass {

  static {
    System.setProperty("webdriver.chrome.driver","/home/Desktop/chrome32/chromedriver");
  }

  protected WebDriver driver = new ChromeDriver();

  @Test
  public void test(){
    driver.get("http://asdf.com");
  }
} 
```

由于您没有说明您正在使用哪个测试框架，您可能会在 TestNG 中这样做（无论如何我都会推荐）：

```
public class BaseClass {

  @BeforeSuite
  public void setupChromeDriver() {
    System.setProperty("webdriver.chrome.driver","/home/Desktop/chrome32/chromedriver");
  }

  public static WebDriver driver = new ChromeDriver();

  public void test(){
    driver.get("http://asdf.com");
  }
} 
```

@BeforeSuite 注释确保该方法在测试套件的第一个测试运行之前执行，所以无论如何这应该足够早。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-05-08T09:29:44.030

请以这种方式声明它..它应该工作

```
public class abcd {

public static WebDriver driver;

@BeforeMethod
public static void start() 
{
    File file = new File("D:/abcd/chromedriver.exe");
    System.setProperty("webdriver.chrome.driver", file.getAbsolutePath());
    driver = new ChromeDriver();
            }
} 
```

它应该工作..我有同样的错误。但是当你以这种方式初始化时它可以工作。请尝试让我们知道。

如果您不想关闭浏览器会话，请尝试使用@BeforeClass 和@AfterClass。它在整个测试之前运行一次

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-02T07:37:36.363

为什么不尝试在基类的 @BeforeTest 方法中初始化 Chrome 驱动程序。我所做的是这样的：

```
public class BaseTest { 

    /*
     * 
     * This is a base class for all Test classes that we'll create to write tests in.
     * A test-data set will belong to one/set of tests.
     */

    protected WebDriver driver;
    protected CustomLogger logger;
    protected DependencyChecker dcheck;
    protected TestDataReader td;
    protected PropReader p;
    protected HashMap<String, String> testDataMap;
    private String testDataFilePath;

    protected BaseTest(String testDataFilePath) 
    {
        this.testDataFilePath = testDataFilePath;
        p = new PropReader("environmentConfig.properties");
    }

    @BeforeTest(description="Preparing environment for the test..")
    public void prepareTest()
    {

        //other code
        System.setProperty(p.get("chromeDriverName"),p.get("chromeDriverPath"));
        File chrome = new File("/usr/bin/google-chrome");
        ChromeOptions options = new ChromeOptions();
        options.setBinary(chrome);
        logger.log("Launching browser..");
        driver = new ChromeDriver(options);
        driver.manage().window().maximize();
        driver.manage().timeouts().implicitlyWait(20, TimeUnit.SECONDS);
        //other code        
    } 
    } 
```

我不知道您为什么要在班级级别对其进行初始化。上面的代码工作得很好。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-04-02T07:01:43.487

```
System.setProperty("webdriver.chrome.driver","/home/Desktop/chrome32/chromedriver"); 
```

这一行应该在一个方法中，你不能直接在你的类体内使用它

# android - 当我们点击编辑文本时，我如何断言是否调用了软键盘

> ID：15757675
> 
> 赞同：3
> 
> 时间：2013-04-02T06:36:31.040
> 
> 标签：android, robotium

我想知道是否有一种方法可以断言当我们点击`edittext`使用**robotium时是否启动了软键盘**

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-09-09T13:19:04.107

请参阅问题的正确答案[如何检测软件键盘在 Android 设备上是否可见？](https://stackoverflow.com/questions/4745988/how-do-i-detect-if-software-keyboard-is-visible-on-android-device)

您也可以使用 setInputType(0) 方法来确保在您使用机器人输入文本时不会显示键盘.....

```
solo.getEditText(index).setInputType(0); 
```

# python - Qt 和 python - 如何引用另一个类

> ID：15757678
> 
> 赞同：0
> 
> 时间：2013-04-02T06:36:37.253
> 
> 标签：python, qt, pyqt, pyside

我有主窗口，其中包含小部件中的场景和按钮，我需要从中调用场景：

```
import sys
from PySide.QtCore import *
from PySide.QtGui import *

class Widget(QWidget):
    def __init__(self, scene):
        super(Widget, self).__init__()

        self.refreshButton = QPushButton("Refresh", self)
        self.refreshButton.clicked.connect(self.Refresh) 
                # THIS ACTION SHOULD PROCEED ARGUMENTS
                # TO FUNCION "Refresh"
        layout = QHBoxLayout()
        layout.addWidget(self.refreshButton)

        self.setLayout(layout)
        self.show()

    def Refresh(self, scene):
        mainWinScene = scene
        print "On Refresh! - ", mainWinScene.items()

class MainScene(QGraphicsScene):
    def __init__(self):
        super(MainScene, self).__init__()

class MainWindow(QMainWindow):
    def __init__(self, parent=None):
        super(MainWindow, self).__init__(parent)

        self.scene = MainScene()
        self.scene.setSceneRect(0,0,200,100)
        self.scene.addLine(20,10,150,80)

        self.view = QGraphicsView()
        self.view.setScene(self.scene)

        drawRectAct = QAction('&Add Rectangle', self)
        drawRectAct.triggered.connect(self.drawRect)
        shapeInspectorAct = QAction('&Show Inspector', self)
        shapeInspectorAct.triggered.connect(self.showInspector)

        menubar = self.menuBar()
        fileMenu = menubar.addMenu('&Shapes')
        fileMenu.addAction(drawRectAct)
        fileMenu.addAction(shapeInspectorAct)

        self.setCentralWidget(self.view)

    def drawRect(self):
        self.scene.addRect(50,50,20,30)

    def showInspector(self):
        self.I = Widget(self.scene)

if __name__ == '__main__':
    app = QApplication(sys.argv)
    main = MainWindow()
    main.show()
    sys.exit(app.exec_()) 
```

如何通过动作进行“场景”参数 - 到“刷新”功能？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-02T06:53:03.347

您可以在 Widget 的构造函数中传递一个场景：

```
class Widget(QWidget):
    def __init__(self, scene):
        ...
        self.scene = scene
        ...

    def Refresh(self):
        print "On Refresh! - ", self.scene.items()

 class MainWindow(QMainWindow):
 ...
     def showInspector(self):
         self.I = Widget(self.scene)
 ... 
```

# java - 从命令提示符中提取文件时出现意外行为

> ID：15757679
> 
> 赞同：0
> 
> 时间：2013-04-02T06:36:39.433
> 
> 标签：java, deployment, zip, swt, jface

大家好，我正在为我的应用程序开发一个安装向导，我正在使用命令行解压缩实用程序来提取用户选择的目标目录中的应用程序特定文件。为了创建安装向导，我使用了 JFace 向导，当用户单击向导的完成按钮时，我正在执行以下命令以从 zip 文件中提取文件

```
 runTime.exec( "unzip" + SWT.SPACE + "master.zip" + SWT.SPACE + "-d"  +  SWT.SPACE + "\"" + installationDirectory + "\""); 
```

此命令行工作正常，所有文件都被提取。但我也想向用户显示一个消息对话框，说明应用程序已成功安装。以下是我用来执行向导的主要方法。

```
 public void run() throws PropertiesNotFoundException {

    display = new Display();
    Shell shell = new Shell(display, SWT.TITLE 
            | SWT.BORDER | SWT.MIN);
    try {

        WizardDialog dlg = new  WizardDialog(shell, new InstallationWizard());
        dlg.open();

    } catch (Exception e){
        MessageDialog.openError(shell, "Error", e.getMessage());

    }
}

public static void main(String[] args) throws PropertiesNotFoundException {         
    new LaunchWizard().run();

    if(DataBean.getInstance().isFinishPressed()){
        MessageDialog.openInformation(Display.getCurrent().getActiveShell(), "Success", "The QTL is successfully installed.");

    }

} 
```

问题是当我按下向导的完成按钮并出现成功消息对话框时，除非该消息对话框没有关闭，否则所有文件都没有被提取。我通过eclipse ide启动这个应用程序，除非退出应用程序，否则文件没有被正确提取，如果我从eclipse手动终止应用程序而不是关闭消息对话框，文件被提取。对此有任何帮助。谢谢

# java - 如何使用Java中的正则表达式匹配函数匹配具有元字符的字符串

> ID：15757683
> 
> 赞同：0
> 
> 时间：2013-04-02T06:37:04.973
> 
> 标签：java, regex, string, string-matching, metacharacters

什么可能是字符串下面匹配的正则表达式

```
String str = "<Element>\r\n <Sub>regular</Sub></Element>"; 
```

有一个

```
carriage return "\r", new line character "\n" and a space after <Element>. 
```

我的代码如下

```
if(str.matches("<Element>([\\s])<Sub>(.*)"))
{
     System.out.println("Matches");
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-02T06:42:00.980

使用“点匹配换行符”开关：

```
if (str.matches("(?s)<Element>\\s*<Sub>(.*)")) 
```

打开开关后，`\s`将匹配换行符。

我还修复了您的正则表达式，删除了两组冗余括号，并`*`在空格正则表达式之后添加了关键。

# c# - 从 List<> 中动态删除并添加另一个字母，保持字母顺序

> ID：15757684
> 
> 赞同：2
> 
> 时间：2013-04-02T06:37:10.417
> 
> 标签：c#, arrays, string, list

我有这个预定义的字符串数组：

```
string[] SkippedAreasArray = new string[] {"A", "B", "C", "D", "E", "F", "G",
            "H", "I", "J", "K", "L", "M", "N", "O", "P", "Q"}; 
```

根据用户输入，我填充`List<string>`如下：

```
List<String> UsedAreas = new List<String>();
int RangeOfInput = (int)entity.AreasCnt;
UsedAreas = SkippedAreasArray.ToList().GetRange(0, RangeOfInput); 
```

`A to Q`同样从用户输入中，我得到另一个字符串，其中包含来自（如 in `SkippedAreasArray`）中的非重复字母。

数组是这样形成的：

```
SkippedAreasFromForm = (txtSkippedAreas.Text).ToUpper().Split(','); 
```

我要做的是首先 - 排序`SkippedAreasFromForm`：

```
Array.Sort<string>(SkippedAreasFromForm); 
```

然后我需要以下内容：

```
foreach (string tempAreaValue in SkippedAreasFromForm)
{
    if (UsedAreas.Contains(tempAreaValue))
    {

    }
    else 
    { 

    }
} 
```

如果`List<> UsedAreas`包含被选中的字母，我想从列表中删除这个字母，同时添加按字母顺序跟随的下一个字母。

附言

我现在看到我的目标在这里并不清楚，所以我将解释它的含义：

`SkippedAreasFromForm`是一个应该被验证的用户输入，这就是想要这个算法的想法。如果在某些情况下`if (UsedAreas.Contains(tempAreaValue))`返回 false 则输入错误，我需要返回错误消息。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-02T06:41:36.447

您可以使用 LINQ to Objects 来实现，而无需循环：

```
UsedAreas = SkippedAreasArray.Except(SkippedAreasFromForm)
                             .OrderBy(e => e)
                             .Take(RangeOfInput)
                             .ToList(); 
```

它正在`RangeOfInput`从中获取`SkippedAreasArray`不在`SkippedAreasFromForm`. 结果是`List<string>`。

*更新*

您可以通过这种方式检查您的错误消息条件：

```
if(SkippedAreasFromForm.Except(SkippedAreasArray.Take(RangeOfInput)).Any())
{
    // incorrect user input
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-02T06:55:56.503

```
IEnumerable<string> usedAreas = SkippedAreasArray.Take(RangeOfInput);
IEnumerable<string> skippedAreasFromForm = (txtSkippedAreas.Text).ToUpper()
    .Split(new[] { ',' }, StringSplitOptions.RemoveEmptyEntries);
IEnumerable<string> invalids = skippedAreasFromForm.Except(usedAreas);
if (invalids.Any())
    MessageBox.Show(string.Format("These are invalid: [{0}]", 
        string.Join(",", invalids.OrderBy(sa => sa)))); 
```

# regex - 使用 grep 在源代码中的字符串中查找所有查询

> ID：15757685
> 
> 赞同：0
> 
> 时间：2013-04-02T06:37:10.427
> 
> 标签：regex, linux, bash, grep, pattern-matching

我需要识别分布在不同目录下许多文件中的 php 源代码中的所有查询。

我想使用 grep 和 MySQL 关键字来识别它们。有两种方法可以区分此源代码中的查询。

1.  它们总是用双引号引起来。
2.  它们将始终具有 MySQL 关键字，例如`insert`、`select`、和。`update``delete``alter`

但是有一个问题，双引号中的查询可以分布在多行中。例子 ：

```
$newQuery = "Select username
             from 
             usertable" 
```

所以我需要识别`"Select username from usertable"`

但是 grep 不能在多行上工作。

我试过 ：

```
egrep -e '"(.*?)\+"' test.php | grep "select" 
```

它适用于单行但又错过了多行查询。

所以我尝试了

```
sed -e '/\"/,/\"/!d' test.php 
```

它返回所有查询，但我这样做了

```
sed -e '/\"/,/\"/!d' test.php | grep select 
```

它返回，

```
"select 
```

这不好。我想我需要在 sed 中转义换行符。我如何实现这一目标？bash 的任何其他标准命令也可以，例如 awk。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-02T06:51:08.807

我经常使用[`perl -pe`](https://stackoverflow.com/questions/2212378/what-should-every-perl-hacker-know-about-perl-ne)而不是`sed`一些更花哨的表达方式。

```
cat tmp.php | \
perl -pe "s/[\n\r\s]+/ /g" | \ # remove all spaces and line breaks
perl -e '$x=join " ", (<>); print join " ", ($x =~ /".*?(?:select|alter).*?"/gi)' 
```

在最后一行中，您找到所有带`select`关键字的引号并将它们加入

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-02T06:53:53.713

使用 Perl 的一种方法：

```
perl -00ne 'print $1,"\n" while (/"((select|insert|update|delete|alter).*?)"/sig);' file 
```

要在单行中获取输出：

```
perl -00ne 'while (/"((select|insert|update|delete|alter).*?)"/sig){$x=$1;$x=~s/\n//g;$x=~s/\s+/ /g;print "$x\n";};' file 
```

要使用连接和拆分获得单行输出：

```
perl -00ne 'print join " ",split(/\s+/,$1),"\n" while (/"((select|insert|update|delete|alter).*?)"/sig);' file 
```

# java - 在android上使用bufferedwriter每秒写入一次

> ID：15757687
> 
> 赞同：3
> 
> 时间：2013-04-02T06:37:14.857
> 
> 标签：java, android, android-sensors, bufferedwriter

我想将陀螺仪传感器值写入 sdcard 上的文件。我更喜欢使用 bufferedwriter 但不能定期使用它。它是怎么做的？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-08T05:25:40.357

有很多方法可以做到这一点。但是，让我们先看看您的一些相关代码。发布代码，以便我们了解您的结构，我们可以从那里提供帮助。请放心，这个问题非常简单，我相信您很快就会收到有效的回复。

# c# - 在 wpf 中设置带有小三角形的选定选项卡

> ID：15757690
> 
> 赞同：0
> 
> 时间：2013-04-02T06:37:22.653
> 
> 标签：c#, wpf, animation, tabs, tabcontrol

中是否有动画选项卡控件的示例（下面提到的 android 中的一个）`WPF`？`tab/button`按下时动画到向下箭头的任何控件？

这个适用于android： [设置选定的TAB，下面有一个小三角形](https://stackoverflow.com/questions/9226863/setting-selected-tab-with-a-small-triangle-below-it)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-02T07:17:36.553

是什么阻止你这样做

```
<Application.Resources>
    <ControlTemplate x:Key="ButtonTemplate1" 
                 TargetType="{x:Type Button}">
        <Border 
            Name="Border" 
            BorderBrush="Black" 
            BorderThickness="2"
            CornerRadius="2"
            Background="#FF2278CF"
            TextBlock.Foreground="White">
            <Grid>
                <ContentPresenter 
                Margin="{TemplateBinding Padding}"
                    RecognizesAccessKey="True"
                    HorizontalAlignment="Center">
                </ContentPresenter>
            </Grid>
        </Border>
    </ControlTemplate>

    <ControlTemplate x:Key="ButtonTemplate2" 
                 TargetType="{x:Type Button}">
        <Border 
            Name="Border" 
            BorderBrush="Black" 
            BorderThickness="2"
            CornerRadius="50"
            Background="Red"
            TextBlock.Foreground="White">
            <Grid>
                <ContentPresenter 
                Margin="{TemplateBinding Padding}"
                    RecognizesAccessKey="True"
                    HorizontalAlignment="Center">
                </ContentPresenter>
            </Grid>
        </Border>
    </ControlTemplate>

    <Style TargetType="{x:Type Button}">
        <Setter Property="Control.Template" Value="{StaticResource ButtonTemplate1}"></Setter>
        <Style.Triggers>
            <Trigger Property="Control.IsMouseOver" Value="true">
                <Setter Property="Control.Template" Value="{StaticResource ButtonTemplate2}"></Setter>
            </Trigger>
        </Style.Triggers>
    </Style>
</Application.Resources> 
```

在 ControlTemplate 中，您可以使您的控件成为您想要的任何形式。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-02T08:18:22.770

我能够做到这一点是混合的。这可以自己制作动画，点击按钮触发情节提要。这不是完美的答案，但它给出了想法。

```
<UserControl
xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
xmlns:ed="http://schemas.microsoft.com/expression/2010/drawing"
mc:Ignorable="d"
x:Class="SilverlightPrototype1Screens.Screen_1"
Width="640" Height="480">
<UserControl.Resources>
    <Storyboard x:Name="Storyboard1">
        <PointAnimationUsingKeyFrames Storyboard.TargetProperty="(Callout.AnchorPoint)" Storyboard.TargetName="callout">
            <EasingPointKeyFrame KeyTime="0" Value="0.254,0.962"/>
            <EasingPointKeyFrame KeyTime="0:0:2" Value="0.269,1.385"/>
        </PointAnimationUsingKeyFrames>
    </Storyboard>
</UserControl.Resources>

<Grid x:Name="LayoutRoot" Background="White">
    <ed:Callout x:Name="callout" AnchorPoint="0.277,1.593" CalloutStyle="RoundedRectangle" Fill="#FF737393" FontSize="14.666999816894531" HorizontalAlignment="Left" Height="52" Margin="150,88,0,0" Stroke="Black" VerticalAlignment="Top" Width="130" RenderTransformOrigin="0.5,0.5"/>
</Grid></UserControl> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-02T06:51:02.563

也许您应该使用触发器。 [使用 WPF 中的触发器](http://www.c-sharpcorner.com/UploadFile/raj1979/styles-using-triggers-in-wpf/)[触发类样式](http://msdn.microsoft.com/en-us/library/system.windows.trigger.aspx)

# r - 在 R markdown 中生成下标

> ID：15757695
> 
> 赞同：54
> 
> 时间：2013-04-02T06:37:45.150
> 
> 标签：r, markdown, knitr, subscript, r-markdown

我知道 R 降价可以产生上标：

```
text^superscript 
```

但是有可能产生正确的下标吗？或者是作弊和使用`LaTeX`数学模式的唯一方法：

```
$\sf{text_{subscript}}$ 
```

预期的最终输出是 HTML。

* * *

## 回答 #1

> 赞同：39
> 
> 时间：2017-06-03T16:21:00.567

R Markdown 下标正常工作。

也许这是一个旧帖子。我在 Mac 上使用 RStudio 版本 0.99.902 + R 版本 3.4。

**下标**：H~2~O是液体。
**上标**：2^10^ 是 1024。

[![同样的例子](https://i.stack.imgur.com/B3jUB.jpg)](https://i.stack.imgur.com/B3jUB.jpg)

* * *

## 回答 #2

> 赞同：33
> 
> 时间：2013-04-03T05:45:27.480

既然您在评论中提到了 Pandoc，也许依赖 Pandoc 的*subscript*和*superscript*扩展并不是作弊。从[这里](http://johnmacfarlane.net/pandoc/README.html#superscripts-and-subscripts)，我们可以创建一个最小的示例 Rmd 文件：

```
Testing Subscript and Superscript
========================================================

This is an R Markdown document. 

Pandoc includes numerous extensions to markdown, and one 
of them is *subscript* and *superscript*.

Here's the example from the Pandoc help page 
(http://johnmacfarlane.net/pandoc/README.html#superscripts-and-subscripts): 
H~2~O is a liquid.  2^10^ is 1024.

For fun, here's an R code block with some code from @Spacedman:

```{r}
list.depth <- function(this, thisdepth = 0) {
# http://stackoverflow.com/a/13433689/1270695
  if(!is.list(this)) {
    return(thisdepth)
  } else {
    return(max(unlist(lapply(this, list.depth, thisdepth = thisdepth+1))))    
  }
}
``` 
```

使用 Knitr 会生成一个呈现如下的 HTML 文件：

![在此处输入图像描述](https://i.stack.imgur.com/3Y5cH.png)

这显然行不通。但是您可以在生成的降价文件（我将其命名为“Subscripts.md”）上运行 pandoc：

`pandoc -o Subscripts.html Subscripts.md -s -S`

你会得到这个：

![在此处输入图像描述](https://i.stack.imgur.com/bOQf4.png)

CSS 是不同的，但也许您可以使用自定义 CSS 参数调用 pandoc 以使用与 Knitr 相同的 CSS。

PDF 文件中的下标也可以按预期与该降价文件一起使用：

`pandoc -o Subscripts.pdf Subscripts.md`

![在此处输入图像描述](https://i.stack.imgur.com/X2MLK.png)

* * *

### 编辑

如果您希望 pandoc 输出与使用 RStudio 编织时输出的视觉外观相匹配，请在[此处](https://github.com/rstudio/markdown/blob/master/inst/resources/markdown.css)下载 RStudio 使用的 CSS 文件，并在您从 pandoc 创建 HTML 文件时引用该文件。（以下假设您将名称保留为 markdown.css 并且它与您的其他文件位于同一目录中。）

`pandoc -o Subscripts.html Subscripts.md -s -S --css=markdown.css`

* * *

## 回答 #3

> 赞同：8
> 
> 时间：2015-08-12T23:39:47.990

我发现在 RStudio 中编织时，下标的 X~j~ 语法在 Rmarkdown 中运行良好。但是，如果您将编织嵌入到闪亮的应用程序中，它就不起作用。在我的应用程序中，

> ```
>  knit2html("Steps.Rmd")
>   browseURL("Steps.html") 
> ```

工作正常，除了下标。但是普通的 HTML 下标语法将在您的 Rmd 文档中适用于 RStudio 和闪亮的应用程序： X<sub>j</sub> 呈现为 X [j]。

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2020-08-05T15:12:42.820

对于 R 版本 4.0.2 (2020-06-22)，这对我有用：

```
Subscript H~2~O~
Superscript R^2^ 
```

# android - MVC4 OAuthWebSecurity 与 Android

> ID：15757696
> 
> 赞同：1
> 
> 时间：2013-04-02T06:37:49.390
> 
> 标签：android, asp.net-mvc-4, oauth-2.0

我已经成功实现了一个具有 simplemembership 和 OAuthWebSecurity 的 MVC4 网站。我已经有相同的应用程序在 android 中使用 httprest 并传递用户 ID。

从移动设备（尤其是 Android）使用相同安全模型的最佳方式是什么？我可以吗？还是我必须使用其他的 oauth 解决方案？

我可以绕过简单的会员资格，但我似乎无法使用 OAuthWebSecurity 做到这一点（可能有充分的理由）

Android 和网站会做同样的事情。我不想将 html5 移动设备与 mvc 一起使用。

# javascript - 在 AngularJS 控制器上调用函数

> ID：15757697
> 
> 赞同：1
> 
> 时间：2013-04-02T06:37:52.043
> 
> 标签：javascript, angularjs

我对 AngularJS 有疑问。

我有一个这样的工作样本：

[http://jsfiddle.net/IgorMinar/Hxbqd/5/](http://jsfiddle.net/IgorMinar/Hxbqd/5/)

我想修改它以直接调用我的`connectControl`函数，如下所示：

[http://jsfiddle.net/Hxbqd/68/](http://jsfiddle.net/Hxbqd/68/)

它们之间唯一的细微变化是：

```
$scope.registerWithFacebook(); 
```

为什么这个不起作用？或者我必须做什么才能让它工作？

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-02T07:09:39.400

正如 Arun P Johny 所说，我的控制台有错误。

问题是 FB 在更改声明时还没有准备好。当我更换它是这样的

```
setTimeout(function(){$scope.registerWithFacebook()},3000); 
```

它开始起作用了。

# android - Android Listfragment，切换到真实数据

> ID：15757702
> 
> 赞同：1
> 
> 时间：2013-04-02T06:38:28.800
> 
> 标签：android, android-listfragment, dummy-data

好的，所以我从使用“dummycontent”填充列表片段的 android 模板开始。

现在我有需要使用的真实数据（在 sqldatabase 中），但我不知道如何替换虚拟内容。

片段的 oncreate 如下所示：

```
@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);

    // TODO: replace with a real list adapter.
    setListAdapter(
            new ArrayAdapter<JobData.JobItem>
            (
                getActivity(),
                android.R.layout.simple_list_item_activated_1,
                android.R.id.text1, 
                JobData.ITEMS
            )
    );

} 
```

我有这样的结构来帮助我理解正在发生的事情。

据我了解，我们将列表适配器设置为 JobData.JobItem 项目的列表，对吗？我明白那么远。我的问题是，我能找到的所有示例都实现了具有静态内容的数据类。使用这样的东西：

```
 static {
    // Add 3 sample items.
    addItem(new DummyItem("1", "Item 1"));
    addItem(new DummyItem("2", "Item 2"));
    addItem(new DummyItem("3", "Item 3"));
} 
```

但是，如果我的信息不是静态的，那就行不通了……所以这是我的问题：

1）如何更新数据类（jobdata/dummyitems）中的信息？

2）列表片段是否包含数据类的实例，或者数据类是一个实体，这样如果我从单独的进程修改它，列表片段将更新？

3）如果数据类中的数据实际上似乎从未在任何地方被调用（设置为变量），我如何初始化数据类中的数据？看起来 static{} 在某些时候会自动运行，但我不知道在哪里。

我可能错过了一些简单的东西，但我已经坚持了几天。我尝试过一些“简单”的 listfragment 教程，但它们似乎都使用静态数据。

我可以从我的数据库中获取数据并放入一个列表进行处理就好了。但我不知道如何将该列表放入 listfragment。

# logic - 任何整数 1-16 的分频器

> ID：15757709
> 
> 赞同：0
> 
> 时间：2013-04-02T06:39:01.390
> 
> 标签：logic, sequence, frequency, intel-fpga

我已经实现了一个 2 次方的分频器。现在我有兴趣用从 1 到 16 的任何整数进行分频器。是的，我已经尝试过，但还没有想法。我该如何解决这个问题？

我想使用多路复用器、触发器等常见元素。不要求一个完整的解决方案，即使它会很棒。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-12T15:01:43.007

这通常是 PLL 的工作，许多 FPGA 在片上都有一些 PLL。

或者尝试在达到限制 (0-15) 时重置的计数器。每个时间限制都达到切换时钟。1:1 时钟的值需要特殊处理，可能是时钟旁路。更好的方法是以双倍频率运行计数器以避免多路复用器。

将配置值加载为零的递减计数器也可以代替递增计数器。

# php - 我怎样才能像谷歌一样实现“人们也搜索”

> ID：15757713
> 
> 赞同：-1
> 
> 时间：2013-04-02T06:39:18.650
> 
> 标签：php, apache, search, solr

嗨，我想知道实现“人们也在搜索”的方法是什么；当您搜索某些内容时，您可以在旁边显示一些内容，说明搜索此内容的人。您可以在 Google Play 中看到这一点。

我需要 Apache solr 什么的吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-02T06:55:23.677

您可以在 Apache Solr 中实现它的方式是：-

1.  使用用户 ID 和用户执行的搜索创建 Solr 文档
2.  您将拥有所有用户的集合和执行的搜索。
3.  然后，您可以轻松地在 Solr 上搜索或过滤搜索查询，这将为您提供搜索相同搜索查询的所有用户。
4.  此外，只需在搜索查询字段上进行分面，您将获得这些用户按顺序或频率执行的所有其他搜索查询的列表。

您也可以通过其他方法实现它。

# c - fscanf() 返回负值

> ID：15757714
> 
> 赞同：2
> 
> 时间：2013-04-02T06:39:21.130
> 
> 标签：c, windows, winapi, scanf

我正在使用 fscanf() 函数从文本文件中逐行读取数据。它运行良好，但突然间我不知道我犯了什么错误，现在该函数返回一个负值。下面是我的代码片段：

```
FILE *fp;
char ip[16];
int port;
fp = fopen("ClientInformation.txt", "r");
int size = -1;
while (!feof(fp))
{
    fgetc(fp);
    size++;
}
char buff[1000];
sprintf(buff,"%i",size);
MessageBox(NULL,
           buff,
           "Size",
           MB_ICONINFORMATION);

if(size > 0)
{
    while (fscanf(fp, " %s %d", ip, &port) > 0)
    {
        MessageBox(NULL,"fscanf() Successful","SUCCESS!", MB_ICONINFORMATION);
    }
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-02T06:45:44.933

您可能想添加此通话

```
rewind(fp); 
```

就在之前

```
while (fscanf(fp, " %s %d", ip, &port) > 0)
{ 
```

还应始终检查系统调用的结果。在您的情况下，主要是是否`fopen()`确实返回了不同于`NULL`.

此外，该`while(!feof(fp))`构造很可能不会总是按预期运行（[为什么“while (!feof (file))”总是错误的？](https://stackoverflow.com/q/5431941/694576)）。您最好按照*WhozCraig*在下面的评论中提出的方式进行。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-02T06:57:20.177

您无需提前确定文件大小。只是`fscanf()`文件并检查返回值：

```
int ret;

while ((ret = fscanf(fp, " %s %d", ip, &port)) == 2) {
    MessageBox(NULL,"fscanf() Successful","SUCCESS!", MB_ICONINFORMATION);
}

switch (ret) {
    case EOF:
        /* EOF or error, check errno */
        break;
    case 0:
    case 1:
        /* bogus file contents */
        break;
    default:
        fprintf(stderr, "Philip says this cannot happen, but it did.\n");
        exit(EXIT_FAILURE);
} 
```

另外：始终检查函数调用的返回值。

# amazon-ec2 - 当我有多个服务器时，是否应该在 Amazon EC2 中使用 Amazon VPC

> ID：15757716
> 
> 赞同：4
> 
> 时间：2013-04-02T06:39:26.940
> 
> 标签：amazon-ec2, amazon-vpc, multiserver

我计划在亚马逊 EC2 中有一个多服务器架构，服务器需要相互通信。这些服务器需要位于不同的亚马逊地区（不同的数据中心）。我可以只使用亚马逊ec2的内部网络吗？有哪些安全问题？我是否应该在此设置中强制使用 Amazon VPC。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-02T10:36:59.793

果酱

如果您计划在不同区域创建实例，请选择 VPC，因为 VPC 为您提供更高的安全性。您也可以限制这些机器以进行有限的外部访问。作为安全部分，VPC 比经典的 EC2 实例更好，因为您甚至可以只允许 VPC 到 VPC 的连接。

# c# - 如何在 asp.net 和 c# 中创建会话模式，Sql Server 中的用户？

> ID：15757721
> 
> 赞同：-1
> 
> 时间：2013-04-02T06:39:50.410
> 
> 标签：c#, asp.net, sql-server, database, session

如何使用 c# 和 Sql Server 创建会话

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-02T06:44:16.180

Asp.net 已经提供了一个`Session`可用于所有会话管理的工具。
它还提供了一种允许您将会话存储在 SQL Server 中的模式。

```
<sessionState 
            mode="SQLServer"
            sqlConnectionString="data source=127.0.0.1;user id=<username>;password=<strongpassword>"
            cookieless="false" 
            timeout="20" 
    /> 
```

请参阅：[如何：配置 SQL Server 以存储 ASP.NET 会话状态](http://support.microsoft.com/kb/317604)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-02T06:42:50.843

```
int flag=1;    
da=new SqlDataAdapter("select uname,password from tlbLogin where uname='"+txtName.Text+"' AND pASSWORD='"+TXTpASSWARD.tEXT+"'",conn);
dataset ds=new dataset();
da.fill(ds);
  if(ds.tables[0].rows.count>0)
   {
     Session("sessionName")=txtName.text;
      responce.redirect("mainPage.aspx");
   } 
```

**会话语法：**

```
Session("sessionName")=sessionvalue; 
```

这是创建会话的语法。

您可以参考this以了解更多信息。

[http://msdn.microsoft.com/en-us/library/ms972429.aspx](http://msdn.microsoft.com/en-us/library/ms972429.aspx)

# c# - 如何从数据库获取数据到表单视图控件内的 CheckboxList 控件？

> ID：15757725
> 
> 赞同：0
> 
> 时间：2013-04-02T06:39:58.377
> 
> 标签：c#, asp.net, sql-server-2008

我正在研究 asp.net 用户控制。我使用了gridview 和formview 控件。在 gridview 中选择一行时，它将隐藏包含网格的面板，并将显示包含表单视图的面板，该表单视图使用 Grid 的选定值作为其键值并在编辑模式下加载表单。对于一些额外的用途，我必须在我的表单视图控件中放置一个复选框列表控件。并使用 SQL 数据源从数据库中获取数据到 chkbox 列表。并使用与 formview 控件相同的数据键。现在我的表单视图控件可以正常工作，但我的复选框列表无法正常工作，因为它无法从网格视图中获取选定的值。提前感谢您的帮助。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-02T06:52:46.750

您应该绑定您`CheckBoxList`的`DataBound`FormView 事件。

由于您需要相同的数据键，您可以使用`DataKey`FormView 的属性。
如果需要任何其他数据字段，您始终拥有该`DataItem`属性。

按此顺序完成后，您的 CheckBoxList 应该可以按预期工作。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-08T09:01:14.160

我使用了一个会话变量，它对我有用。我使用会话变量将选定的网格值存储在其选定的索引更改事件中，然后将其用作复选框列表中的键值。

# java - jsp中的taglib继承：include

> ID：15757730
> 
> 赞同：0
> 
> 时间：2013-04-02T06:40:08.330
> 
> 标签：java, jsp, jakarta-ee, taglib

是否可以从其“后代”中的父 JSP 继承标记库或导入？

让我给你看一个例子

`header.jsp`

```
<%@ page contentType="text/html" isELIgnored="false"
     import="org.something.utils.Constants"%>

//some code, Constants class is available here 
```

`index.jsp`

```
<jsp:include page="template/header.jsp" />
//Constants is not available, I get a JasperException: Unable to compile class for JSP 
```

taglibs 的继承似乎也不起作用。那么有没有办法让这个工作呢？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-02T17:17:21.247

标签库和导入不会被继承，并且标签中的所有内容也不能被继承或通过页面传递（JspContext 和请求属性除外）。

**您在这里有两个选择：**

1.  在您拥有的每个 JSP 中进行导入。
2.  使通用类和库成为全局类，这取决于您正在运行的 IDE 和服务器。

**编辑** 定义 JSP 隐式包括：

1.  对于 Netbeans [http://docs.oracle.com/cd/E19575-01/819-3669/bnajl/index.html](http://docs.oracle.com/cd/E19575-01/819-3669/bnajl/index.html)
2.  全球教程[http://sabahmyrsh.blogspot.com/2009/06/jsp-defining-implicit-includes.html](http://sabahmyrsh.blogspot.com/2009/06/jsp-defining-implicit-includes.html)

# android - 如何查看 ADT 插件版本？

> ID：15757732
> 
> 赞同：4
> 
> 时间：2013-04-02T06:40:16.137
> 
> 标签：android, adt

我是安卓新手，

我已经成功安装了 Android 开发工具，但是我找不到我安装的 ADT 版本。请指导我检查 ADT 版本的过程。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-04-02T06:49:41.950

单击*帮助*菜单并选择*关于 Eclipse SDK*

这将弹出这个弹出窗口： ![在此处输入图像描述](https://i.stack.imgur.com/6PNT4.png)

在其中，单击带有 Android 徽标的按钮（红色突出显示），这将显示：

![在此处输入图像描述](https://i.stack.imgur.com/r73E7.png)

这将显示当前安装的 ADT 版本。

或者，您也可以转到*帮助*菜单 ->*安装新软件*。然后从*Work with*部分选择 ADT Plugins，展开*Developer Tools*选项并查看当前安装的版本。

![在此处输入图像描述](https://i.stack.imgur.com/5ES6u.png)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-02T06:51:00.203

[https://stackoverflow.com/a/5454875/1503130](https://stackoverflow.com/a/5454875/1503130)参考这个答案。

![在此处输入图像描述](https://i.stack.imgur.com/XlSBX.png)

*   如图所示，打开 Eclipse 并单击帮助

![安卓图标](https://i.stack.imgur.com/RB3QR.png)

*   点击下方的安卓图标

![检查广告版本](https://i.stack.imgur.com/943de.png)

*   看红框的adt版本。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-02T06:50:06.263

我假设您使用的是 Eclipse IDE，然后只需按照以下步骤操作，

*   转到 Windows 菜单，选择“Android SDK 管理器”
*   它将打开 SDK Manager 的对话框，如下所示，
*   查看红色圆圈中的 SDK 版本（即您的 ADT 版本）

![在此处输入图像描述](https://i.stack.imgur.com/WpfDm.png)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-02T06:57:38.633

在 Eclipse 中转到帮助 -> 关于 -> 并选择 ADT 图标以查看安装详细信息。

# content-management-system - ModX：insert_metka 函数在哪里？

> ID：15757734
> 
> 赞同：0
> 
> 时间：2013-04-02T06:40:18.403
> 
> 标签：content-management-system, modx, modx-evolution

我的 ModX Evo 网站遇到了抛出此错误的问题：

```
Fatal error: Cannot redeclare insert_metka() (previously declared in /home/mysite/public_html/manager/includes/document.parser.class.inc.php(794) : eval()'d code:2) in /home/mysite/public_html/manager/includes/document.parser.class.inc.php(794) : eval()'d code on line 12' 
```

我已经搜索和搜索，但找不到声明 insert_metka() 的位置。我什至下载了整个网站并进行了搜索，但无济于事。我也尝试将版本更新到最新版本，也无济于事。

谁能告诉我在哪里可以找到这个功能？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-02T07:21:34.727

下载数据库转储并在其中查找此行。似乎是其中一个插件的故障，请尝试禁用插件，直到找到它为止。有关更多建议，请参阅[ModX Evo：document.parser.class.inc.php](https://stackoverflow.com/questions/15470293/modx-evo-php-error-in-document-parser-class-inc-php)中的 PHP 错误。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-02T14:40:09.513

正如您从错误代码中看到的那样，该函数是在片段中声明的。这是因为 Modx 有这种缓存片段的方式来加速性能。他们将您的片段的静态文件包装为一个函数。

如果同一个函数被调用两次并且您在其中声明了一个函数，这可能会导致错误。我怀疑这就是这里发生的事情。

要解决这个问题，只需像这样包装整个函数`function_exists`：

```
if (!function_exists("insert_metka")) {
    function insert_metka() {
        // Stuff goes here
    }
} 
```

旁注：这是对Vasis给出的答案的补充。您应该搜索您的片段、附加内容和插件。它应该位于这些文件中的某个位置。它不是 Modx 核心提供的功能。

# ios - 在运行时更改静态 UITableView 的高度

> ID：15757736
> 
> 赞同：2
> 
> 时间：2013-04-02T06:40:22.240
> 
> 标签：ios, objective-c, uitableview

当我更改单元格的高度时，我需要在运行时更改 UITable 的高度。

我的 tableView 是静态的，不能滚动

![在此处输入图像描述](https://i.stack.imgur.com/rDLkd.png)

我在下一个方法中更改了我的 tableView 的高度（我认为这是一个非常糟糕的决定，所以我请你帮忙）：

```
- (void)tableView:(UITableView *)tableView willDisplayCell:(UITableViewCell *)cell forRowAtIndexPath:(NSIndexPath *)indexPath
{
    if (tableView == self.tableView) {
        self.tableView.originY = 95;
        self.tableView.height = self.tableView.contentSize.height + 2;
        self.tableViewBottom.originY = tableView.originY + tableView.height + 15;
        self.scrollView.contentSize = CGSizeMake(self.scrollView.width, self.tableViewBottom.originY + self.tableViewBottom.height + 10);
    }
} 
```

哪里clls`self.tableView`可能会改变那里的大小的问题。`self.tableViewBottom`第二个 tableView 并位于第一个之下。

所以我有下一个：

![在此处输入图像描述](https://i.stack.imgur.com/0o3Jx.png)

当点击：

![在此处输入图像描述](https://i.stack.imgur.com/j1C19.png)

有时 tableView`y`在单击后会更改那里的位置（您可以看到图像的大小比第一种情况更多）所以我认为代码中的第一个字符串可能会有所帮助：`self.tableView.originY = 95;`

![在此处输入图像描述](https://i.stack.imgur.com/qbKb5.png)

以及为什么如果我将故事板高度设为 100

![在此处输入图像描述](https://i.stack.imgur.com/kqpRf.png)

我的 tableView 只显示一个单元格，所以 tableView 的高度不会以编程方式改变；

![在此处输入图像描述](https://i.stack.imgur.com/7jy1r.png)

**编辑** 没有一个答案可以帮助我，这完全是关于单元格高度的变化。我想我需要在显示所有单元格后更新 uitableview 的高度。我该怎么做？

# java - 如何定义一些奇怪的java进程的主机？

> ID：15757740
> 
> 赞同：0
> 
> 时间：2013-04-02T06:40:38.803
> 
> 标签：java, gwt, tomcat

大家好！

我正在开发 java GWT Web 应用程序。昨天它工作正常 - 任务管理器显示 netbeans 进程和一个 java 进程 - 绝对是 tomcat。但是今天我正在观察netbeans进程，tomcat的java进程以及一些导致java堆空间错误的未知java进程。这个奇怪的过程会消耗大量内存，并且它的内存消耗会随着时间急剧增长。

可能有用的信息：我在我的应用程序中唯一更改的是删除数据库并从一些备份中再次创建它。我怀疑 java JDBC 驱动程序由于可能不正确的用户权限而无法连接到数据库 - 这不是问题，查询执行成功但存在奇怪的 java 进程。

问题：如何定义这个未知java进程的主机？什么应用程序、netbeans 或 tomcat 或其他东西创建它？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-02T08:10:14.450

在 Unix 平台上，`ps`有几个选项不仅显示进程名称（“java”） - 例如在 Linux 上尝试`ps ax | grep java`，您将看到用于启动 java 进程的整个命令行。从那里很容易确定正在运行的进程以及它们应该做什么。

在 Windows 上，你必须找到一个等价物——如果你幸运的话，执行该过程的用户也会对你有所帮助——例如，如果是你或 SYSTEM（用于服务），但完整的命令行肯定会胜过它。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-03T03:08:12.640

好的，我找到了原因 - 我从我的数据库中选择了很多数据。似乎 JDBC 驱动程序正在连续加载传入数据，直到内存足够。

# java - JAR 文件未在我使用的另一个系统中打开

> ID：15757742
> 
> 赞同：-5
> 
> 时间：2013-04-02T06:40:42.790
> 
> 标签：java, jar, executable-jar

我在我的笔记本电脑中创建了一个 jar 文件，它在命令提示符中运行良好，没有问题，但是当我在朋友的笔记本电脑中使用它时，它显示和异常并且文件没有运行。但是我的笔记本电脑还是不错的。什么原因？

我使用了命令

```
java jar filename.jar 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-02T06:49:06.667

看起来像以下两种可能性之一：

1.  您在哪个版本的 JDK 上编译了您的 jar 以及您的朋友使用的 Java 版本。（可能你用1.7编译，朋友用1.6运行）

2.  您是否在 MANIFEST.MF 文件中提到的 jar 中使用任何外部依赖项，如果是，请确保它们的路径已正确解析。

# javascript - 如何通过 JavaScript 调用 PHP 函数？

> ID：15757750
> 
> 赞同：63
> 
> 时间：2013-04-02T06:41:42.823
> 
> 标签：javascript, php, function

我正在尝试将外部 PHP 文件中的 PHP 函数调用到 JavaScript 脚本中。我的代码不同而且很大，所以我在这里写一个示例代码。

这是我的 PHP 代码：

```
<?php
function add($a,$b){
  $c=$a+$b;
  return $c;
}
function mult($a,$b){
  $c=$a*$b;
  return $c;
}

function divide($a,$b){
  $c=$a/$b;
  return $c;
}
?> 
```

这是我的 JavaScript 代码：

```
<script>
  var phpadd= add(1,2); //call the php add function
  var phpmult= mult(1,2); //call the php mult function
  var phpdivide= divide(1,2); //call the php divide function
</script> 
```

所以这就是我想做的。

我**原来**的PHP 文件不包括这些数学函数，但想法是一样的。

如果它没有适当的解决方案，那么**请您**提出一个替代方案，但它应该从外部 PHP 调用值。

* * *

## 回答 #1

> 赞同：89
> 
> 时间：2013-04-02T07:05:20.793

是的，您可以使用请求参数中的数据向服务器发出 ajax 请求，如下所示（非常简单）：

请注意，以下代码使用[jQuery](http://jquery.com/)

```
jQuery.ajax({
    type: "POST",
    url: 'your_functions_address.php',
    dataType: 'json',
    data: {functionname: 'add', arguments: [1, 2]},

    success: function (obj, textstatus) {
                  if( !('error' in obj) ) {
                      yourVariable = obj.result;
                  }
                  else {
                      console.log(obj.error);
                  }
            }
}); 
```

和 your_functions_address.php 像这样：

```
 <?php
    header('Content-Type: application/json');

    $aResult = array();

    if( !isset($_POST['functionname']) ) { $aResult['error'] = 'No function name!'; }

    if( !isset($_POST['arguments']) ) { $aResult['error'] = 'No function arguments!'; }

    if( !isset($aResult['error']) ) {

        switch($_POST['functionname']) {
            case 'add':
               if( !is_array($_POST['arguments']) || (count($_POST['arguments']) < 2) ) {
                   $aResult['error'] = 'Error in arguments!';
               }
               else {
                   $aResult['result'] = add(floatval($_POST['arguments'][0]), floatval($_POST['arguments'][1]));
               }
               break;

            default:
               $aResult['error'] = 'Not found function '.$_POST['functionname'].'!';
               break;
        }

    }

    echo json_encode($aResult);

?> 
```

* * *

## 回答 #2

> 赞同：43
> 
> 时间：2013-04-02T06:46:27.877

试试这个

```
<script>
  var phpadd= <?php echo add(1,2);?> //call the php add function
  var phpmult= <?php echo mult(1,2);?> //call the php mult function
  var phpdivide= <?php echo divide(1,2);?> //call the php divide function
</script> 
```

* * *

## 回答 #3

> 赞同：13
> 
> 时间：2013-11-25T05:53:45.790

使用 document.write 例如，

```
<script>
  document.write(' <?php add(1,2); ?> ');
  document.write(' <?php milt(1,2); ?> ');
  document.write(' <?php divide(1,2); ?> ');
</script> 
```

* * *

## 回答 #4

> 赞同：8
> 
> 时间：2013-04-02T10:49:16.517

您需要创建一个 API：您的 js 函数在您的 Web 服务上执行 AJAX 请求

```
 var mult = function(arg1, arg2)
    $.ajax({
      url: "webservice.php?action=mult&arg1="+arg1+"&arg2="+arg2
    }).done(function(data) {
      console.log(data);
    });
  } 
```

在 php 方面，您必须检查 action 参数才能执行适当的功能（基本上是 $_GET["action"] 变量上的 switch 语句）

* * *

## 回答 #5

> 赞同：7
> 
> 时间：2013-08-05T02:11:37.273

索引.php

```
<body>
...
<input id="Div7" name="Txt_Nombre" maxlenght="100px" placeholder="Nombre" />
<input id="Div8" name="Txt_Correo" maxlenght="100px" placeholder="Correo" />
<textarea id="Div9" name="Txt_Pregunta" placeholder="Pregunta" /></textarea>

<script type="text/javascript" language="javascript">

$(document).ready(function() {
    $(".Txt_Enviar").click(function() { EnviarCorreo(); });
});

function EnviarCorreo()
{
    jQuery.ajax({
        type: "POST",
        url: 'servicios.php',
        data: {functionname: 'enviaCorreo', arguments: [$(".Txt_Nombre").val(), $(".Txt_Correo").val(), $(".Txt_Pregunta").val()]}, 
         success:function(data) {
        alert(data); 
         }
    });
}
</script> 
```

服务端.php

```
<?php   
    include ("correo.php");

    $nombre = $_POST["Txt_Nombre"];
    $correo = $_POST["Txt_Corro"];
    $pregunta = $_POST["Txt_Pregunta"];

    switch($_POST["functionname"]){ 

        case 'enviaCorreo': 
            EnviaCorreoDesdeWeb($nombre, $correo, $pregunta);
            break;      
    }   
?> 
```

correo.php

```
<?php
    function EnviaCorreoDesdeWeb($nombre, $correo, $pregunta)
    { 
       ...
    }
?> 
```

* * *

## 回答 #6

> 赞同：5
> 
> 时间：2016-12-27T12:00:41.663

# 这对我来说非常有用：

要调用 PHP 函数（也带有参数），您可以像很多人所说的那样，发送一个打开 PHP 文件的参数，然后从那里检查参数的值以调用该函数。但是你也可以做到很多人说这是不可能的：直接调用正确的 PHP 函数，而不向 PHP 文件添加代码。

我找到了一个方法：

**这适用于 JavaScript：**

```
function callPHP(expression, objs, afterHandler) {
        expression = expression.trim();
        var si = expression.indexOf("(");
        if (si == -1)
            expression += "()";
        else if (Object.keys(objs).length > 0) {
            var sfrom = expression.substring(si + 1);
            var se = sfrom.indexOf(")");
            var result = sfrom.substring(0, se).trim();
            if (result.length > 0) {
                var params = result.split(",");
                var theend = expression.substring(expression.length - sfrom.length + se);
                expression = expression.substring(0, si + 1);
                for (var i = 0; i < params.length; i++) {
                    var param = params[i].trim();
                    if (param in objs) {
                        var value = objs[param];
                        if (typeof value == "string")
                            value = "'" + value + "'";
                        if (typeof value != "undefined")
                            expression += value + ",";
                    }
                }
                expression = expression.substring(0, expression.length - 1) + theend;
            }
        }
        var doc = document.location;
        var phpFile = "URL of your PHP file";
        var php =
            "$docl = str_replace('/', '\\\\', '" + doc + "'); $absUrl = str_replace($docl, $_SERVER['DOCUMENT_ROOT'], str_replace('/', '\\\\', '" + phpFile + "'));" +
            "$fileName = basename($absUrl);$folder = substr($absUrl, 0, strlen($absUrl) - strlen($fileName));" +
            "set_include_path($folder);include $fileName;" + expression + ";";
        var url = doc + "/phpCompiler.php" + "?code=" + encodeURIComponent(php);
        $.ajax({
            type: 'GET',
            url: url,
            complete: function(resp){
                var response = resp.responseText;
                afterHandler(response);
            }
        });
    } 
```

**这适用于一个 PHP 文件，它不是您的 PHP 文件，而是另一个，其路径写在** `url` **JS 函数的变量中** `callPHP` **，并且需要评估 PHP 代码。该文件名为*“phpCompiler.php”*，位于您网站的根目录中：**

```
<?php
$code = urldecode($_REQUEST['code']);
$lines = explode(";", $code);
foreach($lines as $line)
    eval(trim($line, " ") . ";");
?> 
```

**因此，除了返回值之外，您的 PHP 代码保持相等，这将被回显：**

```
<?php
function add($a,$b){
  $c=$a+$b;
  echo $c;
}
function mult($a,$b){
  $c=$a*$b;
  echo $c;
}

function divide($a,$b){
  $c=$a/$b;
  echo $c;
}
?> 
```

**我建议您记住 jQuery 是必需的：**
*从 Google CDN 下载：*

```
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script> 
```

*或来自 Microsoft CDN：“我更喜欢 Google！:)”*

```
<script src="https://ajax.aspnetcdn.com/ajax/jQuery/jquery-3.1.1.min.js"></script> 
```

*更好的是从两个 CDN 之一下载文件并将其作为本地文件，这样您的网站的启动加载速度会更快！* 

*选择权在你！*

**现在你完成了！我只是告诉你如何使用** `callPHP` **函数。这是调用 PHP 的 JavaScript：**

```
//Names of parameters are custom, they haven't to be equals of these of the PHP file.
//These fake names are required to assign value to the parameters in PHP
//using an hash table.
callPHP("add(num1, num2)", {
            'num1' : 1,
            'num2' : 2
        },
            function(output) {
                alert(output); //This to display the output of the PHP file.
        }); 
```

* * *

## 回答 #7

> 赞同：4
> 
> 时间：2013-04-02T06:49:19.167

例如，如果您实际上想将数据发送到 php 脚本，您可以这样做：

php：

```
<?php
$a = $_REQUEST['a'];
$b = $_REQUEST['b']; //totally sanitized

echo $a + $b;
?> 
```

js（使用jquery）：

```
$.post("/path/to/above.php", {a: something, b: something}, function(data){                                          
  $('#somediv').html(data);
}); 
```

* * *

## 回答 #8

> 赞同：3
> 
> 时间：2013-10-18T13:03:17.893

我为我写了一些脚本它的工作..我希望它对你有用

```
<?php
if(@$_POST['add'])
{
function add()
{
   $a="You clicked on add fun";
   echo $a;
}
add();
}
else if (@$_POST['sub']) 
{
function sub()
{
   $a="You clicked on sub funn";
echo $a;  
}
sub();  
}
?>
<form action="<?php echo $_SERVER['PHP_SELF'];?>" method="POST">

<input type="submit" name="add" Value="Call Add fun">
<input type="submit" name="sub" Value="Call Sub funn">
<?php echo @$a; ?>

</form> 
```

* * *

## 回答 #9

> 赞同：2
> 
> 时间：2021-01-10T07:47:33.043

**虚空函数**

```
<?php
function printMessage() {
    echo "Hello World!";
}
?>

<script>
    document.write("<?php printMessage() ?>");
</script> 
```

**值返回函数**

```
<?php
function getMessage() {
    return "Hello World!";
}
?>

<script>
    var text = "<?php echo getMessage() ?>";
</script> 
```

* * *

## 回答 #10

> 赞同：1
> 
> 时间：2013-04-02T08:14:38.033

尝试查看[CASSIS](http://tantek.pbworks.com/w/page/19402872/CassisProject)。这个想法是将 PHP 与 JS 混合在一起，这样两者都可以在客户端和服务器端工作。

* * *

## 回答 #11

> 赞同：1
> 
> 时间：2019-12-24T10:39:02.480

我创建了这个库[JS PHP Import](https://github.com/macianito/js-import-php)，你可以从 github 下载，随时随地使用。

该库允许将 php 函数和类方法导入 javascript 浏览器环境，因此可以通过使用它们的实际名称将它们作为 javascript 函数和方法进行访问。该代码使用 javascript 承诺，因此您可以链接函数返回。

我希望它对你有用。

例子：

```
<script>
$scandir(PATH_TO_FOLDER).then(function(result) {
  resultObj.html(result.join('<br>'));
});

$system('ls -l').then(function(result) {
  resultObj.append(result);
});

$str_replace(' ').then(function(result) {
  resultObj.append(result);
});

// Chaining functions 
$testfn(34, 56).exec(function(result) { // first call
   return $testfn(34, result); // second call with the result of the first call as a parameter
}).exec(function(result) {
   resultObj.append('result: ' + result + '<br><br>');
});
</script> 
```

* * *

## 回答 #12

> 赞同：0
> 
> 时间：2019-04-02T08:14:08.647

我创建了这个库，可能对你有帮助。 [MyPHP 客户端和服务器端库](https://github.com/amadiify/MyPHP)

例子：

```
<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Page Title</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<body>

    <!-- include MyPHP.js -->
    <script src="MyPHP.js"></script>

    <!-- use MyPHP class -->
    <script>
        const php = new MyPHP;
        php.auth = 'hashed-key';

        // call a php class
        const phpClass = php.fromClass('Authentication' or 'Moorexa\\Authentication', <pass aguments for constructor here>);

        // call a method in that class
        phpClass.method('login', <arguments>);

        // you can keep chaining here...

        // finally let's call this class
        php.call(phpClass).then((response)=>{
            // returns a promise.
        });

        // calling a function is quite simple also
        php.call('say_hello', <arguments>).then((response)=>{
            // returns a promise
        });

        // if your response has a script tag and you need to update your dom call just call
        php.html(response);

    </script>
</body>
</html> 
```

# maven - 无法连接到远程：//本地主机：9999。连接超时 Jboss 7.1.1 Final

> ID：15757757
> 
> 赞同：11
> 
> 时间：2013-04-02T06:42:09.047
> 
> 标签：maven, jboss7.x

我正在将构建部署到本地和远程 Jboss AS 7.1.1 Final 的端口 9999。Maven 使用 jboss 插件“jboss-as-maven-plugin:7.1.1.Final”来管理服务器的构建。我已经确认服务器已启动并正在运行，并且端口可在 9999 访问。但是“多次”构建失败，本地和远程 Jboss 都出现以下错误。Jboss ic 配置为 Standalone 模式的单节点集群。

扼杀构建不会每次都失败，但大多数时候都会失败。不确定我们是否需要将 Maven 插件升级到更高版本。

> [INFO] ohmehMavenExecutionResultHandler - 构建失败并出现异常 [INFO] ohmehMavenExecutionResultHandler - [1] org.apache.maven.lifecycle.LifecycleExecutionException: 无法执行目标 org.jboss.as.plugins:jboss-as-maven-plugin: 7.1.1.Final:undeploy (default-cli) on project Test: Error execution UNDEPLOY [DEBUG] Closing connection to remote [ERROR] Failed to execute goal org.jboss.as.plugins:jboss-as-maven-plugin:7.1 .1.Final:undeploy (default-cli) on project Test: Error execution UNDEPLOY: java.net.ConnectException: JBAS012144: could not connect to remote://localhost:9999\. 连接超时 -> [帮助 1]

**更新**

```
<plugin>
   <groupId>org.jboss.as.plugins</groupId>
   <artifactId>jboss-as-maven-plugin</artifactId>
   <version>7.1.1.Final</version>
   <configuration>
     <filename>${project.build.finalName}.jar</filename>
     <username>${userName}</username>
     <password>${password}</password>
   </configuration>
</plugin> 
```

我现在正在使用最新版本的 Maven 插件，但现在连接超时错误似乎更加频繁。我开始考虑 Jboss 在尝试使用应用程序的不同子项目进行过多远程部署时是否表现不同。我从主 POM 部署了 21 个子项目。示例配置如下

```
<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd">
    <modelVersion>4.0.0</modelVersion>
    <groupId>com.master</groupId>
    <artifactId>master</artifactId>
    <version>1.0.0</version>
    <packaging>pom</packaging>
    <name>Master</name>
    <url>http://maven.apache.org</url>
    <properties>
        <project.build.sourceEncoding>UTF-8</project.build.sourceEncoding>
    </properties>
    <modules>
        <module>module1</module>
        <module>module2</module>
        <module>module3</module>
        <module>module4</module>
        <module>module5</module>
        <module>module6</module>
        <module>module7</module>
        <module>module8</module>
        <module>module9</module>
        <module>module10</module>
        <module>module11</module>
        <module>module12</module>
        <module>module13</module>
    </modules> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2017-12-16T01:46:37.760

首先，检查插件配置。例如：

```
 <plugin>
        <groupId>org.jboss.as.plugins</groupId>
        <artifactId>jboss-as-maven-plugin</artifactId>
        <version>7.9.Final</version>
        <inherited>true</inherited>
        <configuration>
            <hostname>${jboss.hostname}</hostname>
            <port>${jboss.port}</port>
            <username>${jboss.user}</username>
            <password>${jboss.pass}</password>
            <timeout>30000</timeout>
        </configuration>
    </plugin> 
```

如果主机名、端口号（默认 9999）、用户名和密码都可以，可以尝试增加“超时”（默认为 5000 毫秒，您可以尝试使用 30000 毫秒）。它对我有用。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-01-22T09:10:04.427

**4个可能的问题解决方案**

1.  删除您的本地缓存设置，这将是您的本地 m2 存储库或从您的 maven settings.xml 文件中指向新的 m2 存储库。
2.  尝试使用相关/适当的凭据连接到您的本地 nexus/archiva（如果有的话）。这只是您的 Maven 插件导致此问题。
3.  尝试使用此[链接](https://docs.jboss.org/jbossas/7/plugins/maven/latest/)中提供的最新 JBoss Deploy 插件。

4.  或者检查您的 windows/Linux 防火墙设置是否已启用。

# java - 如果匹配则替换文本中的单词

> ID：15757767
> 
> 赞同：-1
> 
> 时间：2013-04-02T06:42:52.797
> 
> 标签：java, android, if-statement, for-loop

我想把输入的任何单词替换为“hi”这个词，我只是想让它在单词 put 上替换。当我运行它时，它崩溃了。

```
 @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);

    final EditText r=(EditText)findViewById(R.id.editText1);
    String t=r.getText().toString();
    String[] t1= t.split(" ");

    for(int i=0;i<=t1.length;i++)
    {
        if(t[i].equals("hi") )
        {
            TextView uu=(TextView)findViewById(R.id.textView2);
            uu.setText(t[i]);
        }
    }
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-02T06:46:40.390

只需将 t[i] 更改为 t1[i]

尝试这个

```
@Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);

    final EditText r=(EditText)findViewById(R.id.editText1);
    String t=r.getText().toString();
    String[] t1= t.split(" ");

    for(int i=0;i<=t1.length;i++)
    {

       if(t1[i].equals("hi") )
      {
         TextView uu=(TextView)findViewById(R.id.textView2);
         uu.setText(t1[i]);
      }

    }

 } 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-02T06:55:33.700

在 if 块中替换**t1[]**而不是**t[] 。**

尝试这个：

`if(t1[i].equals("hi") )`代替`if(t[i].equals("hi") )`

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-02T06:57:26.797

我在您的代码中发现了一些错误。不需要拆分。我认为你的代码应该是

```
final EditText r=(EditText)findViewById(R.id.editText1);
TextView uu=(TextView)findViewById(R.id.textView2);
String t=r.getText().toString();
  if(t.contains("hi"))
    {
        // do your stuff
    }
  else{
   //false
  } 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-02T06:59:21.267

你说你想用单词“hi”替换输入的任何单词。但是你正在检查这个词（我假设你想说 t1[i] 而不是 t[i]）是否等于“hi”，然后你想把它放在第二个 textView 中？您将在原始输入中获​​得“hi”的数量。如果您想将任何单词更改为“hi”，只需删除 if 测试，您将获得与您输入的单词一样多的“hi”。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-04-02T06:46:09.257

如果没有实际的错误，我们不能说太多，话虽如此，这部分：

```
for(int i=0;i<=t1.length;i++)
{    
    if(t[i].equals("hi") )
    {
        TextView uu=(TextView)findViewById(R.id.textView2);
        uu.setText(t[i]);
    }
} 
```

将产生一个，`ArrayOutOfBoundsException`因为在 Java 中，数组是基于 0 的，最后可访问的数组位置是`[arraySize] - 1`.

将其更改为：

```
for(int i=0;i<t1.length;i++)
{    
    if(t[i].equals("hi") )
    {
        TextView uu=(TextView)findViewById(R.id.textView2);
        uu.setText(t[i]);
    }
} 
```

应该解决问题（至少对于这个特定的例外）。

然而，这应该只遍历组成短语的字符，所以它永远不应该匹配`hi`。更改`t[i]`为`t1[i]`in here:`if(t1[i].equals("hi") )`和可能的 here:`uu.setText(t1[i]);`应该会产生更好的解决方案。

就像仅供参考一样，使用有意义的名称永远不会受到伤害。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-04-02T06:47:19.727

为什么每次都初始化

> TextView uu=(TextView)findViewById(R.id.textView2);

将其保存在 oncreate() 一次

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2013-04-02T06:47:44.770

```
t[i].equals("hi") 
```

比较对象。将其替换为 t1[i].tostring()=="Hi"

# jquery - 支持所有浏览器的最佳音频播放器是什么？

> ID：15757774
> 
> 赞同：0
> 
> 时间：2013-04-02T06:43:31.693
> 
> 标签：jquery, iphone, cross-browser, audio-player

支持所有浏览器的最佳音频播放器是什么？它也应该与 ipad、ipod、iphone 兼容。并非所有浏览器都支持 HTML5，所以我无法使用它。感谢帮助。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-02T06:46:54.803

试试 jwplayer [http://www.longtailvideo.com/jw-player/](http://www.longtailvideo.com/jw-player/)虽然它是视频播放器，你也可以用它来播放音频，检查支持的文件格式[http://www.longtailvideo.com/jw-player/技术规格/](http://www.longtailvideo.com/jw-player/tech-specs/)

# c++ - 为什么在尝试将重复对象添加到 std::set 时出现这个奇怪的错误？

> ID：15757776
> 
> 赞同：0
> 
> 时间：2013-04-02T06:43:35.707
> 
> 标签：c++, set, duplicates

这是给我带来麻烦的代码：

```
Relation* Relation::relation_union(Relation* r) {
    std::set<Tuple*>::iterator it1;
    for (it1 = tuples.begin(); it1 != tuples.end(); it1++) {                                          
        r->tuples.insert(*it1);         //this is where i insert into the set              
    }
    return r;
} 
```

我无法弄清楚为什么这会在我的一生中发生。我得到了这个代码的核心转储。

以下代码可以很好地按字母顺序排列我的集合中的元组（它们是字符串的向量），但我认为这是我的错误的根源，因为它不知道当每个元素都相同时该怎么做：

**编辑**对代码进行了更改。

```
struct comp {
    bool operator ()(const Tuple * lt, const Tuple * rt) {
        for (unsigned i = 0; i < lt->values.size(); i++) {
            std::string strl = lt->values[i];
            std::string strr = rt->values[i];
            if (strl != strr) {
                return (strl < strr); // compares with the length
            }
        }
            return false;
    }

}; 
```

“元组”来自以下代码：

```
Relation(){
        name = "";
        schema = new Schema();
        tuples = std::set<Tuple*, comp>();
        domain = std::set<std::string>();
    }

    std::string name;
    Schema* schema;
    std::set<Tuple*, comp> tuples;
    std::set<std::string> domain;
} 
```

这是我的堆栈回溯 - 它对我没有太大帮助：

```
Program received signal SIGABRT, Aborted.
0x00007ffff753b425 in raise () from /lib/x86_64-linux-gnu/libc.so.6
(gdb) bt
#0  0x00007ffff753b425 in raise () from /lib/x86_64-linux-gnu/libc.so.6
#1  0x00007ffff753eb8b in abort () from /lib/x86_64-linux-gnu/libc.so.6
#2  0x00007ffff7b9169d in __gnu_cxx::__verbose_terminate_handler() () from /usr/lib/x86_64-linux-gnu/libstdc++.so.6
#3  0x00007ffff7b8f846 in ?? () from /usr/lib/x86_64-linux-gnu/libstdc++.so.6
#4  0x00007ffff7b8f873 in std::terminate() () from /usr/lib/x86_64-linux-gnu/libstdc++.so.6
#5  0x00007ffff7b8f96e in __cxa_throw () from /usr/lib/x86_64-linux-gnu/libstdc++.so.6
#6  0x00007ffff7b3c987 in std::__throw_out_of_range(char const*) () from /usr/lib/x86_64-linux-gnu/libstdc++.so.6
#7  0x00007ffff7b7a453 in std::string::substr(unsigned long, unsigned long) const () from /usr/lib/x86_64-linux-gnu/libstdc++.so.6
#8  0x000000000040d889 in Input::getTokensValue (this=0x630460) at Input.cpp:91
#9  0x000000000040e812 in Lex::emit (this=0x7fffffffe130, tokenType=UNDEFINED) at Lex.cpp:268
#10 0x000000000040e12d in Lex::nextState (this=0x7fffffffe130) at Lex.cpp:106
#11 0x000000000040e026 in Lex::generateTokens (this=0x7fffffffe130, input=0x630460) at Lex.cpp:85
#12 0x000000000040da20 in Lex::Lex (this=0x7fffffffe130, filename=0x0) at Lex.cpp:17
#13 0x000000000040ea3e in main (argc=1, argv=0x7fffffffe248) at main.cpp:7 
```

任何帮助将非常感激。谢谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-02T06:46:18.107

```
bool operator ()(const Tuple * lt, const Tuple * rt) {
    for (unsigned i = 0; i < lt->values.size(); i++) {
        std::string strl = lt->values[i];
        std::string strr = rt->values[i];
        if (strl != strr) {
            return (strl < strr); // compares with the length
        }

    }
    return false;//EDIT
 } 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-02T06:46:41.457

`comp::operator()``false`如果所有值都相等，则应返回。

```
struct comp {
    bool operator ()(const Tuple * lt, const Tuple * rt) {
        for (unsigned i = 0; i < lt->values.size(); i++) {
            std::string strl = lt->values[i];
            std::string strr = rt->values[i];
            if (strl != strr) {
                return (strl < strr); // compares with the length
            }
        }
        return false;
    }
}; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2018-03-09T18:29:10.503

您的比较运算符希望两个操作数的“值”成员具有相同的大小。如果 rt->values 比 lt->values 短，你会得到另一个越界错误（但问题不是来自这里）。

# matplotlib - pylab.plot 在每个点上的图例

> ID：15757777
> 
> 赞同：1
> 
> 时间：2013-04-02T06:43:48.707
> 
> 标签：matplotlib, plot, legend

我想将每个精确值作为图例在每个点上方表示该值在我的图表上。知道我该怎么做吗？谢谢在这里输入代码

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-02T07:21:09.680

使用matplotlib的[`annotate`方法](http://matplotlib.org/1.2.0/api/pyplot_api.html#matplotlib.pyplot.annotate)。如果您提供一些示例代码，我将向您展示如何使用它。否则，matplotlib 的文档和示例非常好。

# extjs - 如何在 extjs4 中的特定事件调用上动态加载控制器？

> ID：15757780
> 
> 赞同：5
> 
> 时间：2013-04-02T06:43:53.927
> 
> 标签：extjs, extjs4, extjs4.1, extjs-mvc

我在 extjs4 中工作。我被困在我想在 extjs4 中动态加载控制器的地方。我正在使用控制器 this.getController() 方法来动态加载控制器。**当我将此代码放在特定控制器的 init() 函数中时，它会工作并且控制器会动态加载。**这是我的控制器代码...

```
Ext.define('B.UserController',{ 
----
init:function()
{
    var controller = this.getController('kp.PollController');
    controller.init();                  // launch init() method
    this.control(
            {
                 'KpLogin button[action=loginAction]':
                      {
                          click:this.authenticateUser
                      },
            });
},
----- 
```

**但是当我将我的代码放在特定的功能（按钮事件）中时，它会给我错误。这是我的代码...**

```
 Ext.define('B.UserController',{  
    -------   
    init:function()
    {
            this.control(
                {
                     'KpLogin button[action=loginAction]':
                          {
                              click:this.authenticateUser
                          },
                });
    },
     authenticateUser:function(button)
    {
      var controller = this.getController('kp.PollController');
      controller.init();                  // launch init() method
    }
    ----- 
```

放入此代码后，我在萤火虫中遇到错误...

```
Uncaught TypeError: Cannot read property 'readyState' of undefined Connection.js:818
Ext.define.onStateChange Connection.js:818
(anonymous function) 
```

这是我的 app.js 代码....

```
Ext.application({
    name:'B',
    autoCreateViewport:true,
    controllers:['sn.UserController','qb.QbquestionController','kp.DnycontentController',/*'kp.PollController','kp.PolloptionController',*/'kp.KpquotationController','qb.QbqnsController','kp.CuriosityquestionController','kp.WordController','kp.DnycontentcategoriesController'],
    launch:function()
    {
        console.log('Application launch');  
    },//End of launch function
     }); 
```

我不知道出了什么问题。请给我一些建议....

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2015-07-22T19:47:14.110

您可以将以下代码放入 authenticateUser 函数中

```
authenticateUser:function(button) {
    var app = this.getApplication(),
        controller = Ext.create('kp.PollController', {
            application: app
    });
    app.getControllerInstances()['kp.PollController'] = controller;
    controller.init();
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-02T07:38:03.520

你确定控制器还没有加载吗？因为当您在控制器 X 的 init 函数中时，您无法确定控制器 Y 是否已加载，并且它不会在`init()`调用该控制器时引发错误。

我认为您需要检查您的控制器是否尚未加载：

```
if (!this.application.controllers.get(controllerName)) {
     var controller = this.getController(controllerName);
     controller.init();                
} 
```

因为如果 init 已经执行，它将无法工作并抛出您指出的异常。

你的控制器数组中有`Ext.application()`什么？

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-04-28T10:09:58.413

我已经通过使用应用程序的 getController 完成了这项工作，并且效果很好。

您必须通过在应用程序的定义上设置“addProperty”来将应用程序添加到全局变量中。[这正是如何](https://stackoverflow.com/questions/14120649/how-to-get-application-from-view)

然后像这样调用控制器：

```
MyApp.Current.getController('UserController'); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2015-04-02T08:12:31.290

```
Ext.application({

   launch: function() {
      _myAppGlobal = this;
   }
});

var controller = _myAppGlobal.getController('kp.PollController'); 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2014-06-13T10:39:42.480

会不会`scope`是错的？我相信比第一种情况`this`是控制器。在后者中，`this`是按钮。

在 init 中设置`me = this`并引用`me` 或将事件处理程序包含在这样的函数中：

```
'KpLogin button[action=loginAction]':
{
   click: function() {
      this.authenticateUser();
    } 
```

`arguments`如果您还需要处理该事件，请确保您通过了。

我认为还有第三种方法是专门`scope: this`为那个听众设置。

```
'KpLogin button[action=loginAction]':
{
   click: authenticateUser,
   scope: this
} 
```

# c# - Async WCF 中的 AsyncCallback 和 AsyncState 是什么？

> ID：15757790
> 
> 赞同：3
> 
> 时间：2013-04-02T06:44:40.587
> 
> 标签：c#, .net, wcf

WCF 框架在下面的操作（服务端）实现中对 AsyncState 和 AsyncCallback 做了什么？

```
IAsyncResult BeginWork(<<Service call params>>, AsyncCallback callback, object state); 
```

我试图理解

1.  谁在填充这些？
2.  他们的目的是什么？
3.  与（2）相关，使用这些的最佳实践是什么？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-04-02T07:43:12.733

.NET 中有几种设计模式用于公开异步方法。

这种带有`BeginX`和`EndX`方法的模式称为`Asynchronous Programming Model`

在此模式中，您始终可以传递以下两个额外参数：

1)`AsyncCallback callback`是在操作完成时调用的委托。

2)`object state`是您要与请求关联的任何对象。

调用者可以提供这两个参数，也可以保留它们`null`，具体取决于用例。

见 MSDN：[`Asynchronous Programming Model (APM)`](http://msdn.microsoft.com/en-us/library/ms228963.aspx)

* * *

附录：

在异步 WCF 服务实现的情况下，WCF 本身是“客户端”并填充两个额外参数。

这是工作流程：

1）请求来自客户端。
2) WCF 构造一个`AsyncCallback`和一个状态`object`
3) WCF 调用您的`BeginX`方法并传递参数
4) 在您的方法中，您`IAsyncResult`使用 WCF 的参数构造一个对象
5) 您启动一些后台工作并返回您的`IAsyncResult`对象
6) WCF 等待它`AsyncCallback`的调用
7) WCF 调用您的`EndX`方法并将响应返回给 Web 服务客户端。

客户端对此一无所知，可以使用客户端同步或异步调用来调用此 Web 服务。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-02T14:41:14.920

如果您使用 WCF 开发异步调用，请阅读这篇非常有帮助的文章，这是我阅读的关于此主题的最佳文章，其中包含很好的示例代码。
[http://www.danrigsby.com/blog/index.php/2008/03/26/async-operations-in-wcf-iasyncresult-model-server-side/](http://www.danrigsby.com/blog/index.php/2008/03/26/async-operations-in-wcf-iasyncresult-model-server-side/)

编辑：
客户：

```
Service.BeginInitialize(data, new AsyncCallback(OnEndInitialize), null); 
```

客户端包含方法：

```
void OnEndInitialize(IAsyncResult asyncResult)
     { 
```

服务将接收“数据”对象，做它需要的任何事情，然后调用客户端的 OnEndInitialize 方法。

关于您询问的对象状态，当使用 APM 模式进行异步操作时，服务有 2 个操作，Begin 和 End，当他启动时，它使用 BeginOperation，当 BeginOperation 完成时 - 然后客户端收到一个 IAsyncResult 对象，即对象可以包含对象状态。这用于进度指示，我会将对象视为乒乓对象。当服务完成操作时，它会在服务端调用 EndOperation，这会在客户端调用回调，然后客户端可以再次检查 IAsyncResult 中的状态对象。
这就是 BeginOperation 和 EndOperation 包含 IAsyncResult 参数/返回的原因。

# java - 为什么不编译，它一直给我错误

> ID：15757791
> 
> 赞同：1
> 
> 时间：2013-04-02T06:44:43.930
> 
> 标签：java

当我编译它时，它不断给出错误“此方法必须返回双精度类型的结果”，但我相信我的工资是双倍的。什么地方出了错？..................................

```
public double getNetPay (int totalHoursWorked) 
{ 
    int basePayRate = 15;
    double overTime = 15*1.5;
    double taxRate1 = 0.25;
    double taxRate2 = 0.21;
    double taxRate3 = 0.15;

    if (totalHoursWorked > 40)
    {
        double pay =totalHoursWorked*overTime;
        if (pay > 1200)
        {
        return pay*taxRate1;
        }
    if (pay >=500||pay <1199)
    {
            return pay*taxRate2;
        }
        if (pay <=499)
        {
        return pay*taxRate3;
        }
      }
      else
      {
          double pay =totalHoursWorked*basePayRate;
          if (pay > 1200)
          {
              return pay*taxRate1;
          }
          if (pay >=500||pay <1199)
          {
              return pay*taxRate2;
          }
          if (pay <=499)
          {
              return pay*taxRate3;
          }
      }
} 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-02T06:45:23.837

您需要在条件块之外添加一个 return 语句。
由于条件块不能保证总是执行，Java 需要确保该方法总是返回所承诺的东西。

你可以做类似的事情

```
double defaultTaxRate = 0.33; // put some desired value 
if (totalHoursWorked > 40)
{  
   // All conditional blocks
}
return pay*defaultTaxRate; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-02T06:49:13.877

当然你的工资是双倍的，但是你是从一个 if 条件中返回的。Java 编译器会给出错误，因为如果那个条件是假的，那么它就不会执行那个 return 语句，所以你必须清楚地看到在任何条件下的东西（这是双倍）必须返回。例如：

```
public int get() {
if(condition) {
return one_integer_value;
} else {
return another_integer_value;
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-02T07:00:34.053

您的返回类型没有问题。它的`double`唯一。你创造`if`条件的方式是错误的。这里有可能你的任何 if 条件都没有得到满足并且 return 语句没有被执行。因此编译器给出错误，你`This method must return a result of type double`

```
public double getNetPay(int totalHoursWorked) {
        int basePayRate = 15;
        double overTime = 15 * 1.5;
        double taxRate1 = 0.25;
        double taxRate2 = 0.21;
        double taxRate3 = 0.15;
        double result = 0d;

        if (totalHoursWorked > 40) {
            double pay = totalHoursWorked * overTime;
            if (pay > 1200) {
                result = pay * taxRate1;
            } else if (pay >= 500 || pay < 1199) {
                result = pay * taxRate2;
            } else if (pay <= 499) {
                result = pay * taxRate3;
            }
        } else {
            double pay = totalHoursWorked * basePayRate;
            if (pay > 1200) {
                result = pay * taxRate1;
            } else if (pay >= 500 || pay < 1199) {
                result = pay * taxRate2;
            } else if (pay <= 499) {
                result = pay * taxRate3;
            }
        }
        return result;
    } 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-04-02T07:01:42.277

命令式语言的一个好的做法是尽量减少方法中返回语句的数量。

```
 public int get() {
     int result = default_value;
     if(condition) {
        result = one_integer_value;
     } else if (another_condition) {
        result =  another_integer_value;
     }
     return result;
 } 
```

它使代码更清晰，并避免了此类问题。无论如何，在某些情况下它没有被完全占用。将此作为建议而不是严格的规则，这个想法本身就会引起争论： [一个函数是否应该只有一个返回语句？](https://stackoverflow.com/questions/36707/should-a-function-have-only-one-return-statement)

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-04-02T07:22:45.670

使用有助于找出编译时错误的 **eclipse IDE 。**`return`语句总是应该在任何块之外。避免`return`在一个方法中使用多个语句，而是创建一个变量并在方法结束时返回该变量。

# r - 更新了 R“地图”包的世界地图？

> ID：15757793
> 
> 赞同：8
> 
> 时间：2013-04-02T06:44:58.277
> 
> 标签：r, maps, geospatial

```
library(maps)
1> map.where(database="world",29.392089,53.592505)
[1] "USSR" 
```

有谁知道我如何获得更新的世界地图数据库来驱动地图包中的这个功能？我现在只需要国家名称，而不需要详细的地方行政信息，例如在 gadm.org 上提供的信息。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-04-02T10:48:59.147

`wrld_simpl`在`maptools`包装中尝试。

```
require(maptools)
data(wrld_simpl)
plot(wrld_simpl)

## or subset based on the name
plot(wrld_simpl[wrld_simpl$NAME == "Russia", ])
## explore other attributes
summary(wrld_simpl) 
```

我不知道它是最新的，但`?wrld_simpl`描述了源代码，因此您可能会在链接后找到好东西。其他依赖的包`sp`也值得探索数据。

否则，有 Rgshhs 包，虽然我不确定它是否仍然可用。它提供了相当详细的信息，但如果需要，您可以下载更多内容。有点复杂，原始数据在这里：[http ://www.ngdc.noaa.gov/mgg/shorelines/gshhs.html](http://www.ngdc.noaa.gov/mgg/shorelines/gshhs.html)

`rgdal`如果您有自己的数据，也可以使用矢量格式（如 MIF 或 SHP 或 PostGIS）读取数据，或`maptools`仅适用于 shapefile 的类似读取函数。

使用点查询对象的示例：

```
require(sp)
require(maptools)
data(wrld_simpl)
pts <- SpatialPoints(cbind(c(29.392089,147), c(53.592505, -35)), CRS(proj4string(wrld_simpl)))

over(pts, wrld_simpl)$NAME 
```

有关这些和其他功能的介绍，`sp`请参见 vignette("sp")。

还可以尝试使用该`geonames`包进行更一般的地理名称查询。

# php - php 中 mysql_connect 中的资源

> ID：15757796
> 
> 赞同：-1
> 
> 时间：2013-04-02T06:45:10.933
> 
> 标签：php, mysql-connect

我正在尝试通过 php 连接到数据库。我做了很多时间。但我想知道我的表中有多少行。我试过使用php手册，但是我很困惑。

```
$link = mysql_connect("localhost", "mysql_user", "mysql_password");
mysql_select_db("database", $link); 
```

上面的代码适用于：

```
$result = mysql_query("SELECT * FROM table1", $link);
$num_rows = mysql_num_rows($result); 
```

但是当我决定使用

```
$link = mysql_connect("localhost", "mysql_user", "mysql_password","database"); 
```

它发生了这样的错误：

```
Warning: mysql_num_rows() expects parameter 1 to be resource, boolean given in ... 
```

代码之间有什么区别？我该如何解决？提前致谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-02T06:47:12.313

第 4 个参数`mysql_connect`应该是一种`boolean`类型，指示您是否总是想要一个新连接（即使`mysql_connect`之前调用过），而不是字符串。结果，`$link`是`false`因为`mysql_connect`失败了。

[mysql_connect 上的 PHP 文档](http://php.net/manual/en/function.mysql-connect.php)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-02T06:48:08.147

在 mysql_connect 中选择 DB 作为第四个参数是错误的 - 函数返回*false*并且没有 mysql_num_rows() 以下是可能的

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-02T06:50:07.530

mysql_connect 函数接受 5 个参数。在第四个论点中，这应该是真或假。但是你已经通过了字符串。这是不正确的。您不能在此处传递数据库名称。

有关更多教程，[请参见此处](http://php.net/manual/en/function.mysql-connect.php)和[此链接](http://www.w3schools.com/PHP/func_mysql_connect.asp#gsc.tab=0)。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-02T06:52:09.950

您不能按 `mysql_connect()`功能选择数据库。该函数用于连接数据库，而不是查询数据库。要查询数据库，请`mysql_select()`改用。

* * *

## 回答 #5

> 赞同：-1
> 
> 时间：2013-11-21T12:56:04.760

mysql_connect 中允许使用此参数

```
mysql_connect(server,user,pwd,newlink,clientflag) 
```

请检查[http://www.w3schools.com/php/func_mysql_connect.asp](http://www.w3schools.com/php/func_mysql_connect.asp)

# java - 我该如何改进这个单例？

> ID：15757798
> 
> 赞同：3
> 
> 时间：2013-04-02T06:45:16.230
> 
> 标签：java, oop, design-patterns, singleton

我有一个类将充当单身人士。
此类将获得一个文件作为构造函数的一部分。之后就可以上课了。所以目前我使用双重检查锁定习语并通过即经典方式
获取单例的实例。 我的问题是，目前我经常这样做： `static getInstance()`

`MySingleton.getInstance(theFile);`

并且`theFile`仅在第一次构造单例时才需要。之后，即一旦构建了单例，我就不需要传入`theFile`.
我该怎么做？
我想创建一个`MySingleton.getInstance();` ，但这仍然行不通，因为调用者**必须**`MySingleton.getInstance(theFile);` 第一次调用来构造一个有效的类。
我怎样才能更好地设计这个？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-04-02T06:50:23.153

声明一个`init()`使用文件处理初始化的方法。

简化`getInstance()`以返回实例，但抛出一个尚未调用的`IllegalStateException`if 。`init()`

例如：

```
public class MySingleton {

    private MySingleton INSTANCE;

    // private constructor is best practice for a singleton 
    private MySingleton(File theFile) {
        // initialize class using "theFile"
    }

    public static void init(File theFile) {
        // if init previously called, throw IllegalStateException
        if (INSTANCE != null)
            throw new IllegalStateException();
        // initialize singleton 
        INSTANCE = new MySingleton(theFile);
    }

    public static MySingleton getInstance() {
        // if init hasn't been called yet, throw IllegalStateException
        if (INSTANCE == null)
            throw new IllegalStateException();
        return INSTANCE;
    }

    // rest of class
} 
```

请注意，尽管这不是线程安全的，但只要`init()`在服务器启动过程中尽早调用，竞争条件确实很少（如果有的话）。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-04-02T06:49:33.823

在典型的依赖注入环境中，您的文件名将是与此单例类对应的单例 bean 的属性，范围为单例。然后，您只需将该 bean 注入任何需要它的类中。

如果您的程序没有 DI 容器，则此文件名应该是作为 JVM 参数/通过某些属性文件获得的应用程序级别属性，或者最坏的情况是该单例类中的常量。客户不应该担心这个单例类使用的文件。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-02T06:48:36.023

也许您可以提供一种方法来初始化单例。您可以定义一个名为 initialize() 的静态方法，该方法接收文件并创建一个单例对象 - 在应用程序启动时或在适当的位置。之后，您可以使用 getInstance()。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-02T06:48:41.267

您可以简单地拥有一个没有文件参数的 getInstance() 方法。

如果在另一个之前调用它，它将引发异常，但这没关系，因为在任何情况下，如果您已经确定之前创建了单例，您只能避免传递文件。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-04-02T06:52:28.927

`init()`方法+异常的替代方案，

`Singleton::getInstance().load(myFile)`

只要确保这是在启动时完成的/无论如何。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-04-02T12:03:37.540

首先，[带有参数的单音的另一种方法不是单音](https://stackoverflow.com/a/1051076/390695)。

要解决这个问题，你有两个选择，第一个是上面链接中描述的第二个是从内部获取资源。

该文件通常与路径相关联，您可以从应用程序启动期间传递/设置的属性存储类型访问该路径。

这种机制的可能实现：

```
public enum MySingleton {
 INSTANCE;

 private final File theFiel;

 private MySingleton() {
   this.theFile = initialize(MySystemProperties.getValue(MySystemProperties.MY_SINGLETONE_PATH);

 }

 private File initialize(String path) { 
    reutrn new File(path); //

 }

} 
```

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2013-04-02T14:27:09.443

**优化它的唯一方法是根本不使用单例模式。**

严重地。你在开枪打自己的脚。

每当您开始将未使用的值传递给方法时，都应该响起**非常**响亮的警钟，提醒您丹麦州的某些东西在架构上已经腐烂了。显然，您可以选择忽略那些警钟（很可能也是这个答案），但这不会让您的代码变得更少。我知道，我在这里是个吝啬鬼。但事实很简单，使用单例会将你的程序变成一大堆热气腾腾的意大利面条。

[有](https://sites.google.com/site/steveyegge2/singleton-considered-stupid)| [巨额](http://c2.com/cgi/wiki?SingletonsAreEvil)| [帖子](https://stackoverflow.com/questions/137975/what-is-so-bad-about-singletons)| [为什么](http://tech.puredanger.com/2007/07/03/pattern-hate-singleton/)| [单身狗很烂](http://blog.code-cop.org/2012/01/why-singletons-are-evil.html)| [更多的屁股](http://kellabyte.com/2010/06/05/the-evil-singleton-and-its-impact/)| [比一个](http://blogs.msdn.com/b/scottdensmore/archive/2004/05/25/140827.aspx)| [水蛭](http://www.riedquat.de/prog/singletonsAreEvil)_ [一头驴](http://misko.hevery.com/2008/08/17/singletons-are-pathological-liars/)。

由于我不知道您到底想通过该课程实现什么，因此很遗憾我无法提供解决方案。

除了这个：不要使用单例。

以后你会感谢我的。它看起来很难，需要大量的阅读和实验，但正确的编码会让你感觉好多了。并且会让你成为一个更好的程序员。

# javascript - Javascript/jQuery - 如何从嵌套函数返回值

> ID：15757800
> 
> 赞同：2
> 
> 时间：2013-04-02T06:45:22.223
> 
> 标签：javascript

```
 <script>
                $("select").change(function () {
  var str = "";
  var price = <?php echo $row[price];?>;
  $("select option:selected").each(function () {
            str += $(this).text() + " ";
  });
  $(".plan_price").text("price : " + parseInt(str)*price + " baht");
})
.change();
    </script> 
```

所以我在这里得到了这个 .each 和 .change 函数，我想从整个函数中返回 str 的值，以便我可以在代码的其他地方使用 str 变量值

我遇到的问题是当我在我的代码中的其他地方调用它时将返回和函数的名称放在哪里，比如 document.write(nameOfFunction) 请帮忙

多谢 ！

托尼

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-02T06:48:54.937

在这种情况下，我认为唯一的解决方案是使用全局变量来存储值

```
var myString;
$("select").change(function() {
    var str = "";
    var price = <?php echo $row[price];?>;
    $("select option:selected").each(function() {
                str += $(this).text() + " ";
            });
    $(".plan_price").text("price : " + parseInt(str) * price + " baht");
    myString = str;
}).change();
alert(myString) 
```

# php - 如何将 user_id 字段映射到其他表 Symfony FOSUserBundle

> ID：15757804
> 
> 赞同：1
> 
> 时间：2013-04-02T06:45:33.887
> 
> 标签：php, symfony, doctrine, fosuserbundle, symfony-2.2

如何将 user_id 字段从用户表映射到其他表。我正在使用 Symfony2 和 FOSUserBundle。

我已经尝试过这种方式

我的联系人实体

```
/*
 * @ORM\ManyToOne(targetEntity="User", inversedBy="contacts")
 * @ORM\JoinColumn(name="user_id", referencedColumnName="id")
 */
 protected $user; 
```

我的用户实体

```
/**
 * @ORM\OneToMany(targetEntity="Contacts", mappedBy="user")
 */
protected $contact; 
```

我做了

```
doctrine:schema:update --force 

Nothing to update - your database is already in sync with the current entity metadata. 
```

应该将 user_id 字段添加到联系人表中。

我尝试添加级联——[参考链接](https://stackoverflow.com/questions/9305055/fosuserbundle-make-relationship-with-my-own-table)

```
/**
 * @ORM\OneToMany(targetEntity="Contacts", mappedBy="user",cascade={"persist"})
 */
protected $contact; 
```

但即使这样也无济于事。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-02T07:50:45.533

在您的联系实体中

```
/*
 * @ORM\ManyToOne(targetEntity="User", inversedBy="contacts")
 * @ORM\JoinColumn(name="user_id", referencedColumnName="id")
 */
 protected $user; 
```

它应该是

```
/** 
 * @ORM\ManyToOne(targetEntity="User", inversedBy="contacts")
 * @ORM\JoinColumn(name="user_id", referencedColumnName="id")
 */
 protected $user; 
```

文档块中缺少额外的星号

仅供参考：[DOC 块](http://en.wikipedia.org/wiki/PHPDoc#DocBlock)

# joomla - 在joomla2.5的外键表中插入数据

> ID：15757808
> 
> 赞同：0
> 
> 时间：2013-04-02T06:45:57.017
> 
> 标签：joomla, joomla2.5

我有一张桌子

```
tbl_group
----------
groupId    (pk)
groupName 
```

和另一张桌子

```
tbl_group_head
--------------
groupHeadId (pk)
groupId     (fk)
designation 
```

我已经在`tbl_group`like`1002,cs`和中插入了数据`1003,mca`。

怎么插进`tbl_group_head`去`joomla(2.5)`？

# java - 如何处理找不到页面或显示异常

> ID：15757814
> 
> 赞同：0
> 
> 时间：2013-04-02T06:46:18.887
> 
> 标签：java, selenium, webdriver, selenium-webdriver

我正在使用 Java 中的 Web 驱动程序创建测试用例。如果未导航所需的网址，我需要捕捉情况。以下是代码

```
try{
    driver.get("url");
} catch(Exception e) {
    System.out.println(e.getMessage);
} 
```

我的要求是在我无法获取页面的任何情况下处理异常。

提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-02T07:26:34.870

`driver.get(url)``driver.get()`如果您包含的 url导致错误的页面，则不会抛出异常。
您将需要使用`driver.getCurrentURL()`来检查生成的 URL 是什么，并将其与您的预期 URL 进行比较。
例如，您可以将其包含在类的构造函数中（如果您使用的是设计模式，则为 PageObject）：

```
if (!driver.getCurrentUrl().equals(loginURL)) {

                throw new IllegalStateException(
                        "This is not the login page. Current page" + "is: "
                        + driver.getCurrentUrl()); 
```

另一种方法可能是验证代表预期页面的元素的存在。如果没有找到，则抛出异常。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-03T09:11:17.507

试试这个：

```
boolean present = false;
String pageName = driver.getTitle();
if(pageName.equals("Gmail: Email from Google")){
    present = true;
} 

Assert.assertTrue(present, "Error during loading of Landing Page"); 
```

如果未加载所需的页面，它将引发断言错误。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-02T07:33:10.970

您可以在应用程序中配置自定义错误处理页面。在您的应用程序中拥有自定义错误处理或异常处理页面是一种很好的做法。

在您的情况下出现 404 错误

在 web.xml 中添加以下内容

<错误页面>

<错误代码>404 </错误代码>

<location>/error404.jsp </location>

</错误页面>

//-------------------

并制作一个自定义错误处理jsp页面error404.jsp

在页面指令中设置 isErrorPage="true"。

阅读更多搜索谷歌的 isErrorPage 页面

# iphone - AFImageRequestOperation 与 SDWebImage 问题

> ID：15757817
> 
> 赞同：0
> 
> 时间：2013-04-02T06:46:25.330
> 
> 标签：iphone, ios, afnetworking, sdwebimage

我使用 AFImageRequestOperation 下载一些图标，同时使用 SDWebImage 下载一些图片用于主视图。每个 AFImageRequestOperation 都添加到我在 app 委托中定义的 publicOperationQueue 中，它的 maxConcurrentOperationCount 设置为 10。奇怪的是，有时我的 10 多个图标中的一个或两个会被主视图中的一些图片替换，这些图片应该由 SDWebImage 下载。当我设置一个大于我的图标计数的 maxConcurrentOperationCount 时，它工作正常。我怀疑它是否与多个 NSOperationQueue 共享一些资源和 maxConcurrentOperationCount 有关。任何人都可以帮忙吗？

```
//below is the icon downloading code
//============================//
for(NSString *url in picUrls)
    {
        NSMutableURLRequest *urlRequest = [NSMutableURLRequest requestWithURL:[NSURL URLWithString:url]];
        [urlRequest setHTTPShouldHandleCookies:NO];
        [urlRequest addValue:@"image/*" forHTTPHeaderField:@"Accept"];
        AFImageRequestOperation *requestOperation = [[AFImageRequestOperation alloc] initWithRequest:urlRequest];
        [requestOperation setCompletionBlockWithSuccess:^(AFHTTPRequestOperation *operation, id responseObject){
            NSString *imageName = trimNilOrNuLL([url lastPathComponent]);
            if(imageName.length > 0)
            {
                NSData *imageData = UIImagePNGRepresentation(responseObject);
                [imageData writeToFile:[path stringByAppendingPathComponent:imageName] atomically:YES];
            }
        } failure:^(AFHTTPRequestOperation *operation, NSError *error){
            NSLog(@"%@",error);
        }];

        [[AppShare appDelegate].publicOperationQueue addOperation:requestOperation];
    }
//============================// 
```

对于 SDWebImage，我在 UIImageView+WebCache 类别中使用 - (void)setImageWithURL:(NSURL *)url 方法来下载图片

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-02T06:52:57.100

好的，从问题中发现你正在使用 AFNetworking 。那么对于图像下载为什么不使用 AFNetworking 的[UIImageView 扩展](https://github.com/AFNetworking/AFNetworking/blob/master/AFNetworking/UIImageView+AFNetworking.m)？你不必为此实现任何队列或任何东西，我认为这样的一些代码就足够了

```
 [self.imageview setImageWithURL:url placeholderImage:nil]; 
```

# installation - Titanium Studio 和 VirtualBox Android x86

> ID：15757836
> 
> 赞同：4
> 
> 时间：2013-04-02T06:47:53.867
> 
> 标签：installation, titanium, virtualbox, android-x86

一步一步： 0) 安装 Appcelerator Titanium Studio。1) 安装 Oracle VirtualBox。

2) 下载并安装 Android x86 VM。说明（俄语）在这里[http://habrahabr.ru/post/119931/](http://habrahabr.ru/post/119931/)

3）运行和配置Android x86（配置意味着你应该有2个以太网适配器并且你的Android x86虚拟机（VM）必须有一个IP（例如192.168.56.101））

3.5) 尝试 ping 你的虚拟机。一切都应该正常工作。

4）运行你的钛工作室并创建一个新项目。

5) 运行命令行，从%Android SDK%/platform-tools/目录执行操作

```
"adb connect  192.168.56.101". 
```

它必须在端口 5555 上成功连接到 VM。

注意：如果您没有这样做，您的 Titanium Studio 将记录类似这样的内容

```
 [DEBUG] ...\AndroidSDK\platform-tools\adb.exe start-server
    [INFO] Titanium SDK version: 2.1.4 (11/09/12 12:46 51f2c64)
    [DEBUG] Waiting for device to be ready ...
    [TRACE] adb devices returned 0 devices/emulators
    [TRACE] adb devices returned 0 devices/emulators
    [TRACE] adb devices returned 0 devices/emulators 
```

6) 尝试在设备上安装您的 Titanium 应用程序。作为平台，我选择 Android 4.0.3 [x86]

6.5) Titanium studio 会做很多工作，结果如下：

```
 [DEBUG] Waiting for device to be ready ...
    [TRACE] adb devices returned 1 devices/emulators
    [DEBUG] Device connected... (waited 0 seconds)
    [DEBUG] waited 0.015000 seconds on emulator to get ready
    [INFO] Installing application on device 
```

7）钛成功找到并连接到设备？编译所有资源并尝试将您的应用程序安装到设备上：

```
"C:\!Development\AndroidSDK\platform-tools\adb.exe -d install -r C:\!Development\Titanium\china\build\android\bin\app.apk" 
```

但是无论您等待多长时间，它都不会安装。

问题是什么？我做错了什么？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-12T16:59:44.800

您必须对文件进行更正：

```
%HOME%\AppData\Roaming\Titanium\mobilesdk\win32\3.0.2.GA\android\builder.py 
```

根据[本文](http://reinraus.ru/wordpress/nastraivaem-titanium-studio-dlya-zapuska-prilozhenij-v-android-x86/)中的截图（俄语）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-03T09:25:36.730

这不能帮忙吗？看来您需要使用 adbhost [http://code.google.com/p/android-on-freerunner/wiki/AndroidDebugBridge](http://code.google.com/p/android-on-freerunner/wiki/AndroidDebugBridge)

这是 xda 通过 wifi 制作的手册 [如何通过 TCP 使用 ADB 连接到 Android？](https://stackoverflow.com/questions/2604727/how-can-i-connect-to-android-with-adb-over-tcp)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-11-25T09:54:18.510

由于 ReinRaus 帖子中的链接已关闭，我想与大家分享解决方案：

进入**%APPDATA%/Titanium/mobilesdk/win32/3.1.3.GA/android**并打开**builder.py** （注意：将 3.1.3.GA 替换为您的版本）

在 #2601 行附近，您会发现：

```
device_args = ['-d']
# We have to be careful here because Windows can't handle an empty argument
# on the command line, so if a device serial number is not passed in, but
# a debugger_host (the argument after device serial number) _is_ passed in,
# to Windows it just looks like a serial number is passed in (the debugger_host
# argument shifts left to take over the empty argument.) 
```

这是导致安装脚本强制 USBDebug 模式的行，如部署时的日志中所示：

```
[DEBUG] XX/sdk/platform-tools/adb.exe -d shell ls /data/app/xx.yyy.zzz*.apk 
```

将参数更改为**['-a']**。这将停止仅强制 USB 设备，你应该没问题

# ruby-on-rails - request.env['omniauth.auth'] 在使用omniauth-identity gem 使用单独的管理员登录时始终为零

> ID：15757838
> 
> 赞同：4
> 
> 时间：2013-04-02T06:47:54.503
> 
> 标签：ruby-on-rails, authentication, admin, omniauth

我想使用身份提供程序为我的应用程序使用单独的管理员登录。

我已经在 config/initializers/omniauth.rb 中写了这个

```
Rails.application.config.middleware.use OmniAuth::Builder do
  provider :identity, :model => Credential, :on_failed_registration =>SessionsController.action(:register)
  provider :identity, :model => Credential, :name => 'admin', :on_failed_registration =>      SessionsController.action(:login_admin)
  provider :google_oauth2, '000000000.apps.googleusercontent.com', '00000000000'
end 
```

在 config/routes.rb

```
 match '/auth/admin/callback', :to => 'sessions#authenticate_admin' 
```

在 app/controllers/sessions_controller.rb

```
def authenticate_admin
  auth_hash = request.env['omniauth.auth']
  session[:admin_user] = auth_hash['user_info']['email']
  if admin?
    redirect_to '/'
  else
    render :text => '401 Unauthorized', :status => 401
  end
end 
```

但是当我尝试访问 request.env['omniauth.auth'] 时，它总是为零。虽然在 sessison#create 操作中为普通用户使用默认回调时可以访问它。我只想知道这段代码中是否遗漏了什么。我正在关注这个博客[http://www.intridea.com/blog/2011/1/31/easy-rails-admin-login-with-google-apps-and-omniauth](http://www.intridea.com/blog/2011/1/31/easy-rails-admin-login-with-google-apps-and-omniauth)。

# oop - asp ADO 连接 Microsoft VBScript 运行时错误 '800a01a8'

> ID：15757839
> 
> 赞同：0
> 
> 时间：2013-04-02T06:47:57.320
> 
> 标签：oop, asp-classic, ado

亲爱的所有专业程序员，我在这里是全新的，我可能不知道如何正确地作为一个问题在这里..

如果我可以寻求帮助，你能不能在这里...我遇到了带有 oop 结构的简单 asp 的问题...

请帮我保存数据功能。运行时，

```
call savedata("insert","test_","name, id","lalala, 222","User_ID=3") 
```

得到错误：

INSERT INTO test_ (name, id) VALUES (lalala, 222)

... Microsoft VBScript 运行时错误“800a01a8”

所需对象：'Conn'

```
<%
function declare_conn(sql,atr)

dim conn, conn_
set conn = Server.CreateObject("ADODB.Connection")
conn = Connect()
set conn_ = Server.CreateObject("ADODB.Recordset")
strConnect = _T("Driver={MySQL ODBC 3.51 Driver};Server=localhost;"
     "Database=MyDatabase;User=MyUserName;Password=MyPassword;Option=4;");

if Cstr(atr)="open" then
    conn_.CursorLocation = adUseClient
    conn_.Open sql, conn, 3, 2
    set conn_.ActiveConnection = nothing
    set declare_conn=conn_
else if Cstr(atr)="exec" then
        conn.Open
        conn.Execute sql
    end if
end if
end function

function calldata(a,b,c,d)

dim conn_string, sql_string

    if c<>"" and d<>"" then
        sql_string="SELECT "&Cstr(a)&" FROM "&Cstr(b)&" WHERE "&Cstr(c)&" = '"&Cstr(d)&"'"
        response.write(sql_string)
    else
        sql_string="SELECT "&Cstr(a)&" FROM "&Cstr(b)
        response.write(sql_string)
    end if

set conn_string = Server.CreateObject("ADODB.Recordset")
set conn_string = declare_conn(sql_string,"open")
set calldata = conn_string

end function

function savedata(a,b,c,d,e)

dim conn_string, sql_string, c_, d_, update_string
update_string = ""  
    if Cstr(a)="insert" then
        sql_string="INSERT INTO "&Cstr(b)&" ("&Cstr(c)&") VALUES ("&Cstr(d)&")"
    end if
    response.write(sql_string)
    'response.end
    if Cstr(a)="update" then
        c_ = split(c,", ",-1)
        d_ = split(d,", ",-1)
        response.write(c_)
        response.end
        if ubound(c_) = ubound(d_) then
            do while not c_.eof
                update_string=update_string&"("&Cstr(c_)&"="&Cstr(d_)&"),"
                c_.MoveNext : d_.MoveNext
            loop
        else
            %><script type="text/javascript">alert("save function error: array out of bound");</script> <%
        end if
        if Cstr(e)<>"" then
            sql_string="UPDATE "&Cstr(b)&" SET "&update_string&" WHERE "&Cstr(e)
        else
            sql_string="UPDATE "&Cstr(b)&" SET "&update_string
        end if
    end if

'set conn_string = Server.CreateObject("ADODB.Recordset")
call declare_conn(sql_string,"exec")
end function
%> 
```

错误实际上是什么意思？我在中创建到数据库 ADO 的连接

```
connect() 
```

仍然，我可以毫无问题地运行

```
calldata() 
```

* * *

> 编辑-dwerty_weird

* * *

S对不起吵架..

对于这个问题，我发现，我缺少“设置”：

```
set conn=Connect() 
```

很抱歉给您带来麻烦...但是对于其他问题，我遇到了问题

```
call savedata("update","test_","name, id","'lalala', 222","bil=1") 
```

它会得到错误：Microsoft VBScript runtime error '800a01a8' Object required /bkpi-msn/SPPro/function.asp, line 56 –</p>

谁能帮我？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-02T07:22:23.550

**您的数据中缺少单引号**。name 的值是一个字符串，应该用单引号括起来。

您已经在 calldata() 中实现了它，这就是它工作正常的原因。也为 savedata 更新相同的内容。

> 注意：这适用于所有字符串参数，也可能以其他方式（使用#）适用于日期/日期时间参数。

*请以此为起点，遵循开发的最佳实践！*

希望这可以帮助！

维韦克

# python - 我的 Django 安装中的错误

> ID：15757843
> 
> 赞同：0
> 
> 时间：2013-04-02T06:48:24.397
> 
> 标签：python, django, macos

我是 Django 的初学者，所以请原谅我的无知。我正在尝试手动安装 Django，以便我可以开始使用它。我已经成功安装了 Python 并将 Django 下载到我的 Mac 上。

当我在 Django-1.5.1 目录中运行命令“sudo python setup.py install”时，我得到以下响应：

/Library/Frameworks/Python.framework/Versions/2.7/Resources/Python.app/Contents/MacOS/Python：无法打开文件'setup.py'：[Errno 2]没有这样的文件或目录

谁能帮我理解为什么它不能正常运行以及我能做些什么来解决它？

谢谢，

瑞安

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-02T07:19:07.343

正如 Nathan 所说， pip 或 easy_install 是安装软件包的最佳方式。但是您需要确保首先安装了 pip：

```
sudo easy_install pip
sudo pip install django 
```

如果你需要指定你的 Django 版本，你可以这样做：

```
sudo pip install django==1.5.1 
```

但通常最好不要全局安装包（使用 sudo），而最好使用虚拟环境：

```
sudo easy_install pip
sudo pip install virtualenv
sudo pip install virtualenvwrapper

source /usr/local/bin/virtualenvwrapper.sh

mkdir myproject
cd myproject
mkvirtualenv --no-site-packages myprojectenv
workon myprojectenv

pip install django 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-02T06:53:19.573

我建议通过 pip 安装它：

`sudo pip install django`

或easy_install：

`sudo easy_install install django`

这两种方法都将使用 Python cheeseshop 安装最新版本的 django。

查看[https://docs.djangoproject.com/en/dev/topics/install/#installing-an-official-release-with-pip](https://docs.djangoproject.com/en/dev/topics/install/#installing-an-official-release-with-pip)了解更多详情。

# javascript - 带有用户过滤器选项的静态表到使用 Javascript/CSS 的自定义视图？

> ID：15757845
> 
> 赞同：0
> 
> 时间：2013-04-02T06:48:34.647
> 
> 标签：javascript, jquery, html, css

对不起，这很长，但我有 3 个与同一问题相关的问题。任何意见，将不胜感激！

我有一个将 CSV 文件转换为静态 HTML 文件（或 XML 文件）的脚本。

例如，这是 HTML 文件：

```
<div id="r1">
<div id="r1_hardware_name">Hard disk meter</div>
<div id="r1_software_name">Hard_disk_meter</div>
<div id="r1_description">Hard disk meter for temperature</div>
<div id="r1_size">64</div>
<div id="r1_status">Active</div>
<div id="r1_version">5</div>
<div id="r1_value">0x00001<div>
</div>
<div id="r2">
<div id="r2_hardware_name">CPU meter</div>
<div id="r2_software_name">CPU_meter</div>
<div id="r2_description">CPU meter for temperature</div>
<div id="r2_size">32</div>
<div id="r2_status">Active</div>
<div id="r2_version">1</div>
<div id="r2_value">0x00002<div>
</div>
<div id="r3">
<div id="r3_hardware_name">Memory meter</div>
<div id="r3_software_name">Memory_meter</div>
<div id="r3_description">Memory meter for temperature</div>
<div id="r3_size">64</div>
<div id="r3_status">Passive</div>
<div id="r3_version">2</div>
<div id="r3_value">0x00003<div>
</div> 
```

在 HTML 页面上，这需要显示在两个单独的表格中。类似于以下内容。**是否可以使用 CSS 根据上面的 html 制作这些表格？**

```
HW Name           Size    Status
Hard disk meter   64      active
CPU meter         32      active
Memory meter      64      passive

SW Name           Version  Value
Hard_disk_meter   5        0x00001
CPU_meter         1        0x00002
Memory_meter      2        0x00003 
```

该页面还需要在名称上有链接。这样当用户点击任一表上的“Hard disk Meter”名称时，它将显示一个详细信息表，例如：

```
HW Name:     Hard Disk Meter
SW Name:     Hard_disk_meter
Description: Hard disk meter for temperature
Size:        64
Status:      Active
Version:     5
Value:       0x00001 
```

我认为这部分可以使用某种 javascripting 来完成。**我正在考虑在文档的其余部分使用带有简单切换隐藏的 jQuery，并显示附加到另一个 CSS 表定义的详细信息表。这会是最好的方法吗？**

最后一部分是让 html 页面视图可过滤。页面顶部会有表格，用户可以选择一个值范围（开始/结束），结果将与该范围内的上述两个表格相同。用户还可以搜索行 ID（例如 r1、r2、r3），这将显示上面的详细信息表。我能找到的唯一接近这种功能的例子是 tiddlywiki。[http://tiddlywiki.com/](http://tiddlywiki.com/)

**但是有没有一种简单的方法，比如使用 jQuery，来完成这个过滤和搜索功能？**

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-02T11:25:45.093

**HTML 更改**

```
<div id="r1_value">0x00001</div> 
```

div 标签未在 r1,r2,r3 中关闭

**CSS**

```
#r1,#r2,#r3,.details_r1,.details_r2,.details_r3{
display:none;
margin:20px;
}
.container{
margin:20px;
} 
```

**JS**

```
var meterId = ['r1','r2','r3'];
var parameters1 = ['hardware_name','size','status']
var parameters2 = ['software_name','version','value'];
var tableTemplate='<div class="container"><table><tr><td>HW Name</td><td>Size</td><td>Status</td></tr>';

for(i=0;i<meterId.length;i++){
tableTemplate += '<tr>';
for(j=0;j<3;j++){
    var x = '#'+meterId[i]+'_'+parameters1[j];
    if(j==0)
        tableTemplate += '<td><a href="#" onclick=detailsShow("'+meterId[i]+'")>'+$(x).html()+'</a></td>';
    else
        tableTemplate += '<td>'+$(x).html()+'</td>';    
}
tableTemplate += '</tr>';
}
tableTemplate += '</table></div>';
tableTemplate +='<div class="container"><table><tr><td>SW Name</td><td>Version</td><td>Value</td></tr>';
for(i=0;i<meterId.length;i++){
tableTemplate += '<tr>';
for(j=0;j<3;j++){
    var x = '#'+meterId[i]+'_'+parameters2[j];
    tableTemplate += '<td>'+$(x).html()+'</td>';    
}
tableTemplate += '</tr>';
}
tableTemplate += '</table></div>';
$("body").append($(tableTemplate));
var detailsTemplate = '';
for(i=0;i<meterId.length;i++){
detailsTemplate += '<div class="details_'+meterId[i]+'"><table>';
for(j=0;j<3;j++){
    var x = '#'+meterId[i]+'_'+parameters1[j];
    var y = '#'+meterId[i]+'_'+parameters2[j];
    detailsTemplate += '<tr><td>'+parameters1[j]+'</td><td>'+$(x).html()+'</td></tr>';  
    detailsTemplate += '<tr><td>'+parameters2[j]+'</td><td>'+$(y).html()+'</td></tr>';  
}
detailsTemplate += '</table></div>'
 }
 $("body").append($(detailsTemplate));

function detailsShow(x){
$('[class^="details_"]').hide();
$('.details_'+x).show();
} 
```

# c++ - 是否可以在我的 c++ 程序中嵌入任何 python 编辑控件？

> ID：15757852
> 
> 赞同：0
> 
> 时间：2013-04-02T06:48:41.417
> 
> 标签：c++, python, editor, controls

我正在为我的域程序寻找一个 python 编辑控件，它是用 C++ 编写的。它可以是 C++ 类或 ActiveX 控件。谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-02T07:11:49.560

[Scintilla](http://www.scintilla.org/)是一个显而易见且常见的选择。它具有许可许可证，并被设计为源代码编辑器。它是用 C++ 编写的，Windows 版本是基于 Windows 消息的标准 Win32 控件。

# c++ - 重载 istream

> ID：15757860
> 
> 赞同：1
> 
> 时间：2013-04-02T06:49:09.730
> 
> 标签：c++, overloading

我的 myString 类已经重载`>>`。但是，当我使用`cin >> temp`和之后我使用另一个 cin 作为字符串时，似乎其他 cin s 不像以前那样工作。如果您查看我的代码，我的意思是程序最终不理解 y 或 n 并且始终处于 while 循环中。

这是 istream 函数（myString 类的朋友）

```
std::istream &operator>> (std::istream& input, myString& str) {
    char* temp = new char [1000];
    input >> temp;
    int i=0;
    int pow2=1;
    for (i; temp[i]!=NULL; i++) {       
        while(pow2<=i)
            pow2 *= 2;
    }
    delete [] str.string_;
    str.length = i;
    str.capacity = pow2;
    str.string_ = new char [pow2];

    for (int i=0; i<str.length; i++)
        str.string_[i] = temp[i];

    delete [] temp;

    return input;
} 
```

这是主要的

```
cout << "myString Program" << endl;
    while(1) { //simple again or not while
        myString c;
        cin >> c;
        cout << c;

        string input;
        cout << "\nCountine (y/n)?";
        getline(cin, input);
        if (input[0] == 'n' || input[0] == 'N')
            break;
    } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-02T07:00:01.580

```
std::istream &operator>> (std::istream& input, myString& str) {
    char temp[1000];
    cin.get(temp, 1000); //get all chars until (but not including) the next newline. Expects a size equal to the buffer used to store the chars.
    cin.ignore(); //ignore the next newline character

    int i=0;
    int pow2=1;
    for (i; i < strlen(tmp); i++) {       
        while(pow2<=i)
            pow2 *= 2;
    }
//... 
```

（基于使用 cin和[http://www.cplusplus.com/forum/beginner/9148/](http://www.cplusplus.com/forum/beginner/9148/)[获取用户输入的](https://stackoverflow.com/questions/2184125/getting-input-from-user-using-cin)答案）

# javascript - 用星号屏蔽 HTML 表单文本字段

> ID：15757863
> 
> 赞同：0
> 
> 时间：2013-04-02T06:49:17.577
> 
> 标签：javascript, html, css

我有一种情况，我们正在编码，然后将用户在表单文本字段中输入的电话号码发送到后端。因此，当用户点击提交按钮时，电话号码文本字段的值被编码，并且相同的编码值在文本字段中变得可见，直到下一页加载。如果用户点击后退按钮，他仍然会看到编码值，这又是一个糟糕的用户体验。

该编码值可能会使用户感到困惑。是否有解决方案，我们可以只显示星号而不是编码值，同时后端接收相同的编码电话号码。

请分享您对此的看法。

非常感谢，

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-02T07:15:39.980

您可以将输入字段的类型从更改`<input type="text" name="fieldname">`为`<input type="password" name="fieldname">`或隐藏它`<input type="text" name="fieldname" style="display: none;">`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-03T02:33:13.697

创建一个隐藏字段，然后在提交表单时，使用编码的电话号码填充隐藏字段。然后将可见电话的值更改为*****。

# php - 无法通过 POST 功能发布挪威语字符

> ID：15757865
> 
> 赞同：0
> 
> 时间：2013-04-02T06:49:23.737
> 
> 标签：php, mysql, phpmyadmin

`$_POST`我有一个关于在 PHP 中使用该函数发布挪威字符的小问题。当我手动插入下面写的“ÆØÅ”时，它工作得很好。

**见“标题”**

```
mysql_query("INSERT INTO entries (w_id, author_u_id, ec_id, title, contents, draft, privacy, date, comments, random) 
VALUES ('$weblog_info[w_id]', '$user_info[u_id]', '$ec_id', 'ÆØÅ', '$contents', '$draft', '3', '$time', '$real_comments', '$random')") 
```

但是，当我`$_POST`用来提交带有挪威字符的“标题”时，它返回空白。

有任何想法吗？

**编辑：使用 ISO-8859-1**

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-02T06:52:20.897

它应该是：

mysql_query("设置名称 utf8");

# android - 如何通过android在移动设备中以编程方式连接到数据连接

> ID：15757871
> 
> 赞同：0
> 
> 时间：2013-04-02T06:49:39.310
> 
> 标签：android, service, data-connections

我想通过在移动设备中使用数据连接从我的主机服务器获取数据。当我的应用程序打开时，它应该通过数据连接自动连接到主机服务器。在连接丢失的情况下......我的服务应该通过启用来自不使用蓝牙或 WiFi 的移动设备的数据连接来自动连接到主机服务器。请帮助我摆脱这种情况

在我的代码中我用来检查数据连接是否

```
 ConnectivityManager cm =(ConnectivityManager) getSystemService(Context.CONNECTIVITY_SERVICE);

    NetworkInfo netInfo = cm.getActiveNetworkInfo();

    if (netInfo != null && netInfo.isConnectedOrConnecting()) {

    //some task

        return true;                
    }
    else{

    Toast.makeText(this, "No internet connection", Toast.LENGTH_SHORT).show();

    }
    return false; 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-02T06:55:21.517

按原样使用此类，并在您想要启用/禁用 DataConnection 时调用它的方法

```
package com.AZone.eabc;

import java.lang.reflect.InvocationTargetException;
import java.lang.reflect.Method;
import java.lang.reflect.Field;
import android.net.ConnectivityManager;
import android.util.Log;
import android.content.Context;

public class InternetControl {

    public static void EnableInternet(Context mycontext)
    {
        try {
            Log.i("Reached Enable", "I am here");
            setMobileDataEnabled(mycontext,true);
        } catch (NoSuchFieldException e) {
            // TODO Auto-generated catch block
            e.printStackTrace();
        } catch (ClassNotFoundException e) {
            // TODO Auto-generated catch block
            e.printStackTrace();
        } catch (IllegalArgumentException e) {
            // TODO Auto-generated catch block
            e.printStackTrace();
        } catch (IllegalAccessException e) {
            // TODO Auto-generated catch block
            e.printStackTrace();
        } catch (NoSuchMethodException e) {
            // TODO Auto-generated catch block
            e.printStackTrace();
        } catch (InvocationTargetException e) {
            // TODO Auto-generated catch block
            e.printStackTrace();
        }
    }

    public static void DisableInternet(Context mycontext)
    {
        try {
            Log.i("Reached Disable", "I am here");
            setMobileDataEnabled(mycontext,false);
        } catch (NoSuchFieldException e) {
            // TODO Auto-generated catch block
            e.printStackTrace();
        } catch (ClassNotFoundException e) {
            // TODO Auto-generated catch block
            e.printStackTrace();
        } catch (IllegalArgumentException e) {
            // TODO Auto-generated catch block
            e.printStackTrace();
        } catch (IllegalAccessException e) {
            // TODO Auto-generated catch block
            e.printStackTrace();
        } catch (NoSuchMethodException e) {
            // TODO Auto-generated catch block
            e.printStackTrace();
        } catch (InvocationTargetException e) {
            // TODO Auto-generated catch block
            e.printStackTrace();
        }
    }

    private static void setMobileDataEnabled(Context context , boolean enabled) throws NoSuchFieldException, ClassNotFoundException, IllegalArgumentException, IllegalAccessException, NoSuchMethodException, InvocationTargetException {
           final ConnectivityManager conman = (ConnectivityManager)  context.getSystemService(Context.CONNECTIVITY_SERVICE);

           final Class conmanClass = Class.forName(conman.getClass().getName());

           final Field iConnectivityManagerField = conmanClass.getDeclaredField("mService");
           iConnectivityManagerField.setAccessible(true);
           final Object iConnectivityManager = iConnectivityManagerField.get(conman);
           final Class iConnectivityManagerClass =  Class.forName(iConnectivityManager.getClass().getName());
           final Method setMobileDataEnabledMethod = iConnectivityManagerClass.getDeclaredMethod("setMobileDataEnabled", Boolean.TYPE);
           setMobileDataEnabledMethod.setAccessible(true);

           setMobileDataEnabledMethod.invoke(iConnectivityManager, enabled);
        }

} 
```

像这样从 AnyWhere 调用此类的方法

```
 InternetControl.EnableInternet(getBaseContext()); 
```

`AndroidManifest`在您的文件中添加以下权限

```
<uses-permission android:name="android.permission.ACCESS_NETWORK_STATE" /> 
    <uses-permission android:name="android.permission.CHANGE_NETWORK_STATE"/>
    <uses-permission android:name="android.permission.INTERNET" /> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-08-30T14:12:07.213

看起来它不适用于某些带有 Android 4.1.X 的手机。我已经使用这种方法很长时间了，但它在三星 5282 Android 4.1.2 上崩溃了：

“NoSuchFieldException：mService”

看起来三星自己删除了 mService 字段，因为它仍然可以在 GrepCode 中找到：

[http://grepcode.com/file/repository.grepcode.com/java/ext/com.google.android/android/4.1.2_r1/android/net/ConnectivityManager.java/](http://grepcode.com/file/repository.grepcode.com/java/ext/com.google.android/android/4.1.2_r1/android/net/ConnectivityManager.java/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-02T07:12:21.970

使用此方法检查您的设备是否已连接到 Internet。公共布尔检查互联网连接（）{

```
 ConnectivityManager conMgr = (ConnectivityManager)activity.getSystemService(Context.CONNECTIVITY_SERVICE);

    // ARE WE CONNECTED TO THE NET

    if (conMgr.getActiveNetworkInfo() != null

    && conMgr.getActiveNetworkInfo().isAvailable()

    && conMgr.getActiveNetworkInfo().isConnected()) {

        return true;

    } else {
        return false;

    }
} 
```

把它放在点击事件中：

```
boolean Connection;
Connection = checkInternetConnection();
if(Connection==false){
            //No internet connection    

            }
            else{
            //Here do what ever you do next
            } 
```

# ios - 手动从一种 UIColor 褪色到另一种

> ID：15757872
> 
> 赞同：8
> 
> 时间：2013-04-02T06:49:41.433
> 
> 标签：ios, colors, drawrect, uicolor, cgcolor

我正在尝试`UIColor`在`drawRect`. 我创建了这个函数来计算一定百分比的颜色：

```
- (UIColor *)colorFromColor:(UIColor *)fromColor toColor:(UIColor *)toColor percent:(float)percent
{
    float dec = percent / 100.f;
    CGFloat fRed, fBlue, fGreen, fAlpha;
    CGFloat tRed, tBlue, tGreen, tAlpha;
    CGFloat red, green, blue, alpha;

    if(CGColorGetNumberOfComponents(fromColor.CGColor) == 2) {
        [fromColor getWhite:&fRed alpha:&fAlpha];
        fGreen = fRed;
        fBlue = fRed;
    }
    else {
        [fromColor getRed:&fRed green:&fGreen blue:&fBlue alpha:&fAlpha];
    }
    if(CGColorGetNumberOfComponents(toColor.CGColor) == 2) {
        [toColor getWhite:&tRed alpha:&tAlpha];
        tGreen = tRed;
        tBlue = tRed;
    }
    else {
        [toColor getRed:&tRed green:&tGreen blue:&tBlue alpha:&tAlpha];
    }

    red = (dec * (tRed - fRed)) + fRed;
    blue = (dec * (tGreen - fGreen)) + fGreen;
    green = (dec * (tBlue - fBlue)) + fBlue;
    alpha = (dec * (tAlpha - fAlpha)) + fAlpha;

    return [UIColor colorWithRed:red green:green blue:blue alpha:alpha];
} 
```

这样做是获取每个 R/G/B/A 值并根据百分比增加它。

它有点工作，但不会`[UIColor purpleColor]`正确褪色`[UIColor redColor]`。在 0.1% 时，它显示为绿色而不是紫色，因此它似乎从绿色变为红色，而不是从紫色变为红色。

有人知道我在做什么错吗？这是计算这个错误的方法吗？有没有更准确的方法来做到这一点？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-04-02T06:54:01.023

你在最后几行交换了绿色和蓝色。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2016-12-07T15:15:12.040

swift的更新版本

```
import UIKit

extension UIColor {
    // MARK: - UIColor+Percentage

    class func colorForProgress(progress:CGFloat) -> UIColor {

        var normalizedProgress = progress < 0 ?  0 : progress
        normalizedProgress = normalizedProgress > 1 ?  1 : normalizedProgress

        let R:CGFloat = 155.0 * normalizedProgress
        let G:CGFloat = 155.0 * (1 - normalizedProgress) 
        let B:CGFloat = 0.0

        return UIColor(red: R / 255.0, green: G / 255.0, blue: B / 255.0, alpha: 1)
    }

    class func transitionColor(fromColor:UIColor, toColor:UIColor, progress:CGFloat) -> UIColor {    

        var percentage = progress < 0 ?  0 : progress
        percentage = percentage > 1 ?  1 : percentage

        var fRed:CGFloat = 0
        var fBlue:CGFloat = 0
        var fGreen:CGFloat = 0
        var fAlpha:CGFloat = 0

        var tRed:CGFloat = 0
        var tBlue:CGFloat = 0
        var tGreen:CGFloat = 0
        var tAlpha:CGFloat = 0

        fromColor.getRed(&fRed, green: &fGreen, blue: &fBlue, alpha: &fAlpha)
        toColor.getRed(&tRed, green: &tGreen, blue: &tBlue, alpha: &tAlpha)

        let red:CGFloat = (percentage * (tRed - fRed)) + fRed;
        let green:CGFloat = (percentage * (tGreen - fGreen)) + fGreen;
        let blue:CGFloat = (percentage * (tBlue - fBlue)) + fBlue;
        let alpha:CGFloat = (percentage * (tAlpha - fAlpha)) + fAlpha;

        return UIColor(red: red, green: green, blue: blue, alpha: alpha)
    }
} 
```

# asp.net - Asp .net 会话状态为 true 导致请求在服务器端与同一用户排队

> ID：15757876
> 
> 赞同：0
> 
> 时间：2013-04-02T06:49:57.340
> 
> 标签：asp.net, session

在我的 Web 应用程序中，用户可以运行具有大量数据的报告，因此执行需要很长时间。

在我的运行报告页面中，我已将会话状态设置为 true，并且在报告生成期间我正在写入会话变量，因此同时如果用户想要导航到其他页面，他必须等待导航，因为运行保持锁定报告页面。因此，当运行报告页面完全执行时，只有用户才能获得导航页面。

这意味着如果会话被任何页面锁定（写入会话），则存在请求排队。

我无法将会话状态更改为只读。

任何人提出的任何解决此问题的建议。

代码片段

在 page1.aspx

```
Session["Test"] ="testing...";

// Some long running code

for(int i=0;i<10000000000000;i++)
{

} 
```

现在用户想在长时间运行的代码中转到 page2.aspx 然后在 page2.aspx 我得到

```
Response.Write(Session["Test"]);

to null 
```

提前致谢

# css - 属性类 css

> ID：15757884
> 
> 赞同：-2
> 
> 时间：2013-04-02T06:50:15.090
> 
> 标签：css

我给出了以下 css 规则，但它在 chrome 中无法正常工作......我确信这是由于属性的顺序......我猜每个焦点和悬停都必须进入一个悬停和焦点..

```
.chk{
    .ico {
        background-position: -17px top;
        .stdChk;
    }

    &:hover .ico {
        background-position: -17px -34px;
    }

    &:focus .ico {
        background-position: -17px -51px;
    }

    &.disabled .ico { background-position: -17px -17px; }

    &.checked {
        .ico { background-position: left top; }

        &:hover .ico { background-position: left -34px; }

        &:focus .ico { background-position: left -51px; }

        &.disabled .ico { background-position: left -17px; }
    }
} 
```

但我对这种模式很陌生，所以我不知道如何组织..任何帮助请...

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-02T06:52:20.077

那不是CSS。它是[SASS](http://sass-lang.com/)代码，必须在发送到浏览器之前编译为 CSS。

这就是为什么它在 Chrome（以及任何其他浏览器）中不起作用的原因。

# javascript - 如何在 CanJS 中实现路由器

> ID：15757890
> 
> 赞同：1
> 
> 时间：2013-04-02T06:50:38.233
> 
> 标签：javascript, canjs, canjs-routing

我正在使用[https://github.com/thinkadoo/Projects](https://github.com/thinkadoo/Projects)应用程序的帮助。在这个的帮助下，我构建了一个类似的应用程序。我的应用程序使用的是 d3 图表，而不是这个使用的图表。我的应用程序将路由器初始化为

```
 var patientStatus = new PatientStatus('#application', {'credentials':Credentials,'secret':Secret}); 
```

现在如果我想实现路由器那么应该做哪些改变？这是我的 JSFiddle 与这两种实现。第一个正在工作。但是我初始化路由器的后面部分似乎不起作用。 [http://jsfiddle.net/sweety1112/YMAjm/](http://jsfiddle.net/sweety1112/YMAjm/)

有人能帮我吗。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-02T13:56:24.033

这是一个[更新的 Fiddle](http://jsfiddle.net/w5YH5/)，它显示了路由的工作原理：

```
 var Router = can.Control({
    defaults: {}
  }, {
    init: function() {
      // this.element.html(can.view('#index', {}));
    },

    ':type/:id route': function(data) {
        console.log('Type:', data.type);
        console.log('Id:', data.id);
    }
  });

  can.route.ready(false);
  new Router('#content');
  can.route.ready(true); 
```

基本上，您所做的是初始化您的命名占位符并告诉控制器这应该由`route`处理器处理。现在，如果您转到一个 URL，例如`#!test/23`处理程序的数据将包含一个`type`和`id`属性。

# windows - ping IPV6 地址时 IP 更改

> ID：15757892
> 
> 赞同：-1
> 
> 时间：2013-04-02T06:50:46.440
> 
> 标签：windows, ipv6, tunnel

我制作了一个小演示程序来嗅探 IPV6 数据包。我正在尝试从远程 ping 所述机器。我的站点本地地址是 "FEC0..." 并且链接本地地址是 "FE80..." 。但是，当我 ping 机器并查看 ping 数据包的目标地址时，地址有时是“FeC0...”，有时是“Fe80...”，有时甚至是“FF02..”。我不明白为什么它会 ping 到与指定 IP 不同的 IP。我将目标地址指定为“FEC0 ...”。

有人可以解释一下吗？

这是我的“ipconfig /all”输出

Windows IP 配置

```
 Host Name . . . . . . . . . . . . : PT49
    Primary Dns Suffix  . . . . . . . :
    Node Type . . . . . . . . . . . . : Broadcast
    IP Routing Enabled. . . . . . . . : No
    WINS Proxy Enabled. . . . . . . . : No 
```

以太网适配器本地连接 3：

```
 Connection-specific DNS Suffix  . :
    Description . . . . . . . . . . . : Realtek PCIe GBE Family Controller
    Physical Address. . . . . . . . . : 38-60-77-87-02-4B
    Dhcp Enabled. . . . . . . . . . . : No
    IP Address. . . . . . . . . . . . : 192.168.2.249
    Subnet Mask . . . . . . . . . . . : 255.255.255.0
    IP Address. . . . . . . . . . . . : fec0::1:3a60:77ff:fe87:24b%1
    IP Address. . . . . . . . . . . . : fe80::3a60:77ff:fe87:24b%4
    Default Gateway . . . . . . . . . : 192.168.2.1
    DNS Servers . . . . . . . . . . . : 192.168.0.96
                                        fec0:0:0:ffff::1%1
                                        fec0:0:0:ffff::2%1
                                        fec0:0:0:ffff::3%1 
```

隧道适配器 Teredo 隧道伪接口：

```
 Connection-specific DNS Suffix  . :
    Description . . . . . . . . . . . : Teredo Tunneling Pseudo-Interface
    Physical Address. . . . . . . . . : FF-FF-FF-FF-FF-FF-FF-FF
    Dhcp Enabled. . . . . . . . . . . : No
    IP Address. . . . . . . . . . . . : fe80::5445:5245:444f%5
    Default Gateway . . . . . . . . . :
    NetBIOS over Tcpip. . . . . . . . : Disabled 
```

隧道适配器自动隧道伪接口：

```
 Connection-specific DNS Suffix  . :
    Description . . . . . . . . . . . : Automatic Tunneling Pseudo-Interface

    Physical Address. . . . . . . . . : C0-A8-02-F9
    Dhcp Enabled. . . . . . . . . . . : No
    IP Address. . . . . . . . . . . . : fe80::5efe:192.168.2.249%2
    Default Gateway . . . . . . . . . :
    DNS Servers . . . . . . . . . . . : fec0:0:0:ffff::1%1
                                        fec0:0:0:ffff::2%1
                                        fec0:0:0:ffff::3%1
    NetBIOS over Tcpip. . . . . . . . : Disabled 
```

提前致谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-02T09:42:15.427

奇怪的结果并不令人惊讶，因为您实际上没有 IPv6 连接（我在您的 ipconfig 中没有看到任何全球单播地址），从 SixXS 获取隧道+子网并重试:)

# javascript - ASP.NET：将 asp:Table 值保存到 csv

> ID：15757903
> 
> 赞同：1
> 
> 时间：2013-04-02T06:51:32.863
> 
> 标签：javascript, asp.net

我有一个图表，可以在运行时在 clickevent 上添加数据点。我还使用 javascript 将数据点放入 asp:table 中。无论如何我可以在服务器端获取表值。我试过 EnableViewState 但没有用。

代码：

```
protected void Page_Load(object sender, EventArgs e)
    {
        Data data = Utility.FromCSV();
        Highcharts chart = new Highcharts("chart")
           .InitChart(new Chart
           {
               DefaultSeriesType = ChartTypes.Scatter,
               Margin = new[] { 70, 50, 60, 80 },
               Events = new ChartEvents { Click = "ChartClickEvent" }
           })
           .AddJavascripFunction("ChartClickEvent", @"var x = Math.round(e.xAxis[0].value),
                            y = Math.round(e.yAxis[0].value),
                            series = this.series[0];
                            addNewData('Table1',x,y);
                            series.addPoint([x, y]);", "e")
           .SetTitle(new Title { Text = "User supplied data" })
           .SetSubtitle(new Subtitle { Text = "Click the plot area to add a point. Click a point to remove it." })
           .SetXAxis(new XAxis
           {
               MinPadding = 0.2,
               MaxPadding = 0.2
           })
           .SetYAxis(new YAxis
           {
               Title = new YAxisTitle { Text = "Value" },
               MinPadding = 0.2,
               MaxPadding = 0.2,
               PlotLines = new[]
                                                  {
                                                      new YAxisPlotLines
                                                      {
                                                          Value = 0,
                                                          Width = 1,
                                                          Color = ColorTranslator.FromHtml("#808080")
                                                      }
                                                  }
           })
           .SetLegend(new Legend { Enabled = false })
           .SetExporting(new Exporting { Enabled = false })
           .SetPlotOptions(new PlotOptions
           {
               Series = new PlotOptionsSeries
               {
                   LineWidth = 1,
                   Point = new PlotOptionsSeriesPoint
                   {
                       Events = new PlotOptionsSeriesPointEvents
                       {
                           Click = "function() { if (this.series.data.length > 1) this.remove(); }"
                       }
                   }
               }
           })
           .SetSeries(new Series { Data = data });
        for (int i = 0; i < data.DoubleArrayData.Length / 2; i++)
        {
            TableRow tr0 = Table1.Rows[0];
            TableCell myTableCell = new TableCell();
            myTableCell.Text = data.DoubleArrayData[i, 0].ToString();
            tr0.Cells.Add(myTableCell);
            TableRow tr1 = Table1.Rows[1];
            myTableCell = new TableCell();
            myTableCell.Text = data.DoubleArrayData[i, 1].ToString();
            tr1.Cells.Add(myTableCell);
        }
        string chartstring = chart.ToHtmlString();
        Literal lt = new Literal();
        lt.Text = chartstring;
        PlaceHolder1.Controls.Add(lt);
    }

    protected void Button1_Click(object sender, EventArgs e)
    {
        String[,] data = new String[Table1.Rows[0].Cells.Count-1, 2];
        for(int i=1;i<Table1.Rows[0].Cells.Count;i++)
        {
            data[i-1, 0] = Table1.Rows[0].Cells[i].Text;
            data[i-1, 1] = Table1.Rows[1].Cells[i].Text;
        }
        var Writer = new StreamWriter(File.OpenWrite(@"D:\logs\dataout.csv"));
        for (int j = 0; j < data.Length / 2; j++)
            Writer.WriteLine(data[j, 0] + "," + data[j, 1]);
        Writer.Close();
    } 
```

asp.net 页面：

![在此处输入图像描述](https://i.stack.imgur.com/zQ7NA.jpg)

# c# - 会话覆盖

> ID：15757907
> 
> 赞同：1
> 
> 时间：2013-04-02T06:51:43.910
> 
> 标签：c#, asp.net, session

我有一个会话变量，多个用户可以通过不同的电脑访问它......所以我的问题是当相同的登录凭据关联时会话变量会覆盖吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-02T06:53:00.523

会话变量/对象是“用户独有的”，也是浏览器独有的，不会被其他用户覆盖。[您可以在此处](http://msdn.microsoft.com/en-us/library/ms178581%28v=vs.100%29.aspx)阅读有关会话状态的更多信息。

> 会话由可以使用 SessionID 属性读取的唯一标识符标识。当为 ASP.NET 应用程序启用会话状态时，会检查应用程序中对页面的每个请求是否有从浏览器发送的 SessionID 值。如果没有提供 SessionID 值，ASP.NET 将启动一个新会话，并将该会话的 SessionID 值与响应一起发送到浏览器。[参考](http://msdn.microsoft.com/en-us/library/ms178581%28v=vs.100%29.aspx)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-02T06:59:10.330

会话变量/Cookie 仅对用户/浏览器是唯一的。但是，您将会话与应用程序变量混淆......对用户来说是全局的。会话是通过 Web 服务器生成的。

# c# - 使用自动完成扩展器时，我的浏览器挂起并且消息到达 UnRepesonsive Script

> ID：15757908
> 
> 赞同：2
> 
> 时间：2013-04-02T06:51:44.410
> 
> 标签：c#, asp.net, ajax, autocompleteextender

我的数据集中有大约 1000 多条记录，当我使用 AJAX 自动完成扩展器进行搜索时，我的浏览器挂断并显示消息无响应脚本（关闭/停止脚本）

如何在不挂机的情况下获取记录。

# php - 使用 where IN 查询生成器 symfony2

> ID：15757909
> 
> 赞同：0
> 
> 时间：2013-04-02T06:51:45.870
> 
> 标签：php, symfony

我有以下查询生成器要添加到我的实体中。

```
'query_builder' => function(\Teln\OperatorBundle\Entity\SoftswitchRepository $er) use ($idBase) {
    $qb = $er->createQueryBuilder('t')
    ->where('t.base IN (:id)')
    ->setParameter('id', $idBase);

    return $qb;
}, 
```

和`$idBase= $builder->getData()->getBases();`

`$idBase`收藏也是如此。

如何**使用 IN 将其添加到 where**？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-02T07:32:32.147

尝试将参数转换为`$idBase`带有 id 或字符串的简单数组

# jquery - 在日期选择器上禁用过去的日期

> ID：15757918
> 
> 赞同：28
> 
> 时间：2013-04-02T06:52:12.863
> 
> 标签：jquery, jquery-mobile, twitter-bootstrap

如何在日期时间选择器上禁用当前日期的过去日期？我尝试了几篇类似问题的帖子，但无法实现，以下是我尝试过的

```
<link href="http://netdna.bootstrapcdn.com/twitter-bootstrap/2.2.2/css/bootstrap-combined.min.css" rel="stylesheet">
<link rel="stylesheet" type="text/css" media="screen"
 href="http://tarruda.github.com/bootstrap-datetimepicker/assets/css/bootstrap-datetimepicker.min.css">
<script type="text/javascript"
 src="http://cdnjs.cloudflare.com/ajax/libs/jquery/1.8.3/jquery.min.js">
</script> 
<script type="text/javascript"
 src="http://netdna.bootstrapcdn.com/twitter-bootstrap/2.2.2/js/bootstrap.min.js">
</script>
<script type="text/javascript"
 src="http://tarruda.github.com/bootstrap-datetimepicker/assets/js/bootstrap-datetimepicker.min.js">
</script>
<script type="text/javascript"
 src="http://tarruda.github.com/bootstrap-datetimepicker/assets/js/bootstrap-datetimepicker.pt-BR.js">
</script>
<script type="text/javascript">
$(function() {
  $('#datetimepicker2').datetimepicker({
    language: 'en',
    pick12HourFormat: true
  });
});
</script>

<div id="datetimepicker2" class="input-append">
<input data-format="MM/dd/yyyy" type="text"/>
<span class="add-on">
  <i  data-date-icon="icon-calendar">
  </i>
</span> 
```

我也试过

```
$("datetimepicker2").datepicker({ changeYear: true, dateFormat: 'dd/mm/yy', showOn: 'none', showButtonPanel: true,  minDate:'0d' }); 
```

和

```
$("#datetimepicker2").datepicker({ minDate: 0 }); 
```

* * *

## 回答 #1

> 赞同：58
> 
> 时间：2013-04-02T06:55:32.747

给零`mindate`，它会禁用过去的日期。

```
$( "#datepicker" ).datepicker({ minDate: 0}); 
```

这是一个`**[Live fiddle](http://jsfiddle.net/mayooresan/ZL2Bc/)**`工作示例[http://jsfiddle.net/mayooresan/ZL2Bc/](http://jsfiddle.net/mayooresan/ZL2Bc/)

[官方文档可在此处获得](http://jqueryui.com/datepicker/#min-max)

* * *

## 回答 #2

> 赞同：19
> 
> 时间：2013-04-23T08:28:33.460

问题已解决:)

下面是工作代码

```
$(function(){
    $('#datepicker').datepicker({
        startDate: '-0m'
        //endDate: '+2d'
    }).on('changeDate', function(ev){
        $('#sDate1').text($('#datepicker').data('date'));
        $('#datepicker').datepicker('hide');
    });

}) 
```

* * *

## 回答 #3

> 赞同：14
> 
> 时间：2013-04-02T06:54:02.210

`minDate: dateToday`或者`minDate: '0'`是这里的关键。尝试设置 minDate 属性。

```
$(function() {
    $( "#datepicker" ).datepicker({
        numberOfMonths: 2,
        showButtonPanel: true,
        minDate: dateToday // minDate: '0' would work too
    });
}); 
```

[阅读更多](https://stackoverflow.com/questions/847287/changing-mindate-option-in-jquery-datepicker-not-working)

* * *

## 回答 #4

> 赞同：10
> 
> 时间：2016-08-08T07:17:35.447

尝试这个，

```
$( "#datepicker" ).datepicker({ minDate: new Date()}); 
```

在这里， new Date() 表示今天的日期......

* * *

## 回答 #5

> 赞同：9
> 
> 时间：2014-09-30T05:07:31.363

```
$(function () {
    $("#date").datepicker({ minDate: 0 });
}); 
```

* * *

## 回答 #6

> 赞同：7
> 
> 时间：2015-07-07T06:52:36.740

**这将起作用：**

```
 var dateToday = new Date();    
 $(function () {
     $("#date").datepicker({ 
         minDate: dateToday 
     });
 }); 
```

* * *

## 回答 #7

> 赞同：4
> 
> 时间：2016-10-03T12:55:57.147

尝试这个，

```
$("#datetimepicker2").datepicker({ startDate: "+0d" }); 
```

* * *

## 回答 #8

> 赞同：4
> 
> 时间：2020-03-20T12:35:24.610

以下解决方案对我有用。我希望，这也会对你有所帮助。

```
$(document).ready(function() {
    $("#datepicker").datepicker({ startDate:'+0d' });
}); 
```

* * *

## 回答 #9

> 赞同：4
> 
> 时间：2018-06-15T10:23:12.507

如果要在页面加载时设置日期，请使用以下命令：

```
 $('#datetimepicker1').datetimepicker({
  minDate: new Date()
  }); 
```

这会将今天的日期设置为页面加载本身的开始日期并禁用所有以前的日期。
但是，如果您想在单击特定文本框时设置日期而不是在页面加载时设置日期，请使用以下命令： `$('#datetimepicker1').datetimepicker(); $("#datetimepicker1").on("click", function (e) { $('#datetimepicker1').data("DateTimePicker").minDate(new Date()); });`

如果我们不想将当前日期设置为最小日期，我们可以使用指定格式的任何字符串来代替 new Date()。例如：

```
$('#datetimepicker1').data("DateTimePicker").minDate("10/15/2018"); 
```

* * *

## 回答 #10

> 赞同：3
> 
> 时间：2019-10-11T16:48:11.010

要禁用所有以前的日期，请将开始日期设为今天日期

```
startDate: new Date() 
```

**解决方案：从今天开始禁用所有以前的日期**

```
$(function() {
    $( "#datepicker" ).datepicker({ startDate: new Date()});
 });
```

```
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<link href="https://cdnjs.cloudflare.com/ajax/libs/datepicker/0.6.5/datepicker.min.css" rel="stylesheet"/>
<script src="https://cdnjs.cloudflare.com/ajax/libs/datepicker/0.6.5/datepicker.min.js"></script>

<div> Select Date <input type="text" id="datepicker" /></div>
```

**解决方案：禁用特定日期的所有过去日期。**

```
$(function() {
    $( "#datepicker" ).datepicker({ startDate: new Date("2019-10-15")});
});
```

```
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<link href="https://cdnjs.cloudflare.com/ajax/libs/datepicker/0.6.5/datepicker.min.css" rel="stylesheet"/>
<script src="https://cdnjs.cloudflare.com/ajax/libs/datepicker/0.6.5/datepicker.min.js"></script>

<div> Select Date <input type="text" id="datepicker" /></div>
```

**这将禁用2019 年 10 月 15 日 (2019-10-15)**之前的所有日期

 *** * *

## 回答 #11

> 赞同：3
> 
> 时间：2017-11-09T02:59:59.783

这对我有用，

```
$('#datetimepicker2').datetimepicker({
    startDate: new Date()
  }); 
```

* * *

## 回答 #12

> 赞同：3
> 
> 时间：2016-11-14T07:22:12.153

```
var dateToday = new Date();

$('#datepicker').datepicker({                                     
    'startDate': dateToday
}); 
```

* * *

## 回答 #13

> 赞同：2
> 
> 时间：2018-04-13T12:56:19.687

```
<div class="input-group date" data-provide="datepicker" data-date-start-date="0d">
    <input type="text" class="form-control" id="input_id" name="input_name" />
    <div class="input-group-addon">
        <span class="glyphicon glyphicon-calendar"></span>
    </div>
</div> 
```

* * *

## 回答 #14

> 赞同：1
> 
> 时间：2021-08-31T07:56:51.373

`datetimepicker`通过提供所有日期选择器输入或文本框属性，`data-name='date'`可以排除旧日期

```
$('*[data-name="date"]').datetimepicker({
          format: 'L',
          minDate: new Date()
        }); 
```

* * *

## 回答 #15

> 赞同：1
> 
> 时间：2017-09-21T11:12:16.827

您刚刚引入了参数 startDate ，如下所述。

```
var todaydate = new Date();
    $(".leave-day").datepicker({
        autoclose: true,
        todayBtn: "linked",
        todayHighlight: true,
        startDate: todaydate     
      }
    ).on('changeDate', function (e) {
        var dateCalendar = e.format();
        dateCalendar = moment(dateCalendar, 'MM/DD/YYYY').format('YYYY-MM-DD');
        $("#date-leave").val(dateCalendar);
    }); 
```

* * *

## 回答 #16

> 赞同：0
> 
> 时间：2022-01-21T09:33:15.523

加入`DateTime.now()`_`firstDate: DateTime.now()`

请看[截图](https://i.stack.imgur.com/76pul.png)。

```
DateTime? date;
  Future pickDate(BuildContext context) async {
    final initialDate = DateTime.now();
    final newDate = await showDatePicker(
      currentDate: DateTime.now(),
      context: context,
      initialDate: date ?? initialDate,
      firstDate: DateTime.now(),
      lastDate: DateTime(DateTime.now().year + 5),
    );

    if (newDate == null) return;

    setState(() => date = newDate);
  } 
```

* * *

## 回答 #17

> 赞同：0
> 
> 时间：2018-12-06T05:38:40.223

使用 datepicker 根据开始日期设置结束日期

```
 $("#AddEvent_txtStartDate").datepicker({
        onSelect: function () {
            minDate = $("#AddEvent_txtStartDate").datepicker("getDate");
            var mDate = new Date(minDate.setDate(minDate.getDate()));
            $("#AddEvent_txtEndDate").datepicker("setDate", mDate);
            $("#AddEvent_txtEndDate").datepicker("option", "minDate", mDate);
        }
    });  
    $("#AddEvent_txtEndDate").datepicker(); 
```

* * *

## 回答 #18

> 赞同：0
> 
> 时间：2018-07-14T23:23:10.133

**这在我的wordpress插件中有效**

```
 jQuery(document).ready(function($) {
           $("#datepicker").datepicker({ minDate: 0});
        }); 
```

* * *

## 回答 #19

> 赞同：0
> 
> 时间：2020-11-06T10:27:31.837

**注意：**此脚本在您使用`daterangepicker`库时有效。如果要禁用`Sat`或`Sunday`日期，请`daterangepicker`输入这行代码。

```
 $("#event_start").daterangepicker({
            // minDate: new Date(),
            minYear: 2000,
            showDropdowns: true,
            singleDatePicker: true,
            timePicker: true,
            timePicker24Hour: false,
            timePickerIncrement: 15,
            drops:"up",
            isInvalidDate: function(date) {
                //return true if date is sunday or saturday
                return (date.day() == 0 || date.day() == 6);
            },
            locale: {
                format: 'MM/DD/YYYY hh:mm A'
            }
        }); 
```

或者，如果您想禁用`previous date`也与`sat`然后`sun`取消注释此行`minDate: new Date()`

* * *

## 回答 #20

> 赞同：0
> 
> 时间：2020-06-15T19:47:04.137

这对我有用，

$(function() { $('.datepicker').datepicker({ startDate: '-0m', autoclose: true }); });

* * *

## 回答 #21

> 赞同：0
> 
> 时间：2021-06-15T16:40:03.660

尝试这个。它对我有用。

```
$('.datepicker').datepicker({
   format: 'mm-dd-yyyy',
   startDate: new Date()
 }); 
```

* * *

## 回答 #22

> 赞同：0
> 
> 时间：2017-07-25T17:10:11.980

```
$("#datetimepicker2").datepicker({ 
  dateFormat: "mm/dd/yy", 
  minDate: new Date()
}); 
```

* * *

## 回答 #23

> 赞同：0
> 
> 时间：2016-10-27T09:28:09.323

```
Try this'
 <link rel="stylesheet" href="//code.jquery.com/ui/1.12.0/themes/base/jquery-ui.css">
    <script src="https://code.jquery.com/jquery-1.12.4.js"></script>
    <script src="https://code.jquery.com/ui/1.12.0/jquery-ui.js"></script>

    <!-- table -->
    <link rel="stylesheet" href="https://cdn.datatables.net/1.10.12/css/dataTables.bootstrap.min.css">
    <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
    <script src="https://cdn.datatables.net/1.10.12/js/jquery.dataTables.min.js"></script>
    <script src="https://cdn.datatables.net/1.10.12/js/dataTables.bootstrap.min.js"></script>
    <!-- end table -->

    <script>
       $(function() {
        $('#example').DataTable();
        $("#from_date").datepicker({
            dateFormat: "mm/d/yy",
            maxDate: 0,

            onSelect: function () {

                var minDate = $(this).datepicker('getDate');

                $('#to_date').datepicker('setDate', minDate);
                $('#to_date').datepicker('option', 'maxDate', 0);
                $('#to_date').datepicker('option', 'minDate', minDate);
            }
        });
        $('#to_date').datepicker({
            dateFormat: "mm/d/yy"
        });

       });
       </script><link rel="stylesheet" href="//code.jquery.com/ui/1.12.0/themes/base/jquery-ui.css">
    <script src="https://code.jquery.com/jquery-1.12.4.js"></script>
    <script src="https://code.jquery.com/ui/1.12.0/jquery-ui.js"></script>

    <!-- table -->
    <link rel="stylesheet" href="https://cdn.datatables.net/1.10.12/css/dataTables.bootstrap.min.css">
    <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
    <script src="https://cdn.datatables.net/1.10.12/js/jquery.dataTables.min.js"></script>
    <script src="https://cdn.datatables.net/1.10.12/js/dataTables.bootstrap.min.js"></script>
    <!-- end table -->

    <script>
       $(function() {
        $('#example').DataTable();
        $("#from_date").datepicker({
            dateFormat: "mm/d/yy",
            maxDate: 0,

            onSelect: function () {

                var minDate = $(this).datepicker('getDate');

                $('#to_date').datepicker('setDate', minDate);
                $('#to_date').datepicker('option', 'maxDate', 0);
                $('#to_date').datepicker('option', 'minDate', minDate);
            }
        });
        $('#to_date').datepicker({
            dateFormat: "mm/d/yy"
        });

       });
       </script><link rel="stylesheet" href="//code.jquery.com/ui/1.12.0/themes/base/jquery-ui.css">
    <script src="https://code.jquery.com/jquery-1.12.4.js"></script>
    <script src="https://code.jquery.com/ui/1.12.0/jquery-ui.js"></script>

    <!-- table -->
    <link rel="stylesheet" href="https://cdn.datatables.net/1.10.12/css/dataTables.bootstrap.min.css">
    <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
    <script src="https://cdn.datatables.net/1.10.12/js/jquery.dataTables.min.js"></script>
    <script src="https://cdn.datatables.net/1.10.12/js/dataTables.bootstrap.min.js"></script>
    <!-- end table -->

    <script>
       $(function() {
        $('#example').DataTable();
        $("#from_date").datepicker({
            dateFormat: "mm/d/yy",
            maxDate: 0,

            onSelect: function () {

                var minDate = $(this).datepicker('getDate');

                $('#to_date').datepicker('setDate', minDate);
                $('#to_date').datepicker('option', 'maxDate', 0);
                $('#to_date').datepicker('option', 'minDate', minDate);
            }
        });
        $('#to_date').datepicker({
            dateFormat: "mm/d/yy"
        });

       });
       </script><link rel="stylesheet" href="//code.jquery.com/ui/1.12.0/themes/base/jquery-ui.css">
    <script src="https://code.jquery.com/jquery-1.12.4.js"></script>
    <script src="https://code.jquery.com/ui/1.12.0/jquery-ui.js"></script>

    <!-- table -->
    <link rel="stylesheet" href="https://cdn.datatables.net/1.10.12/css/dataTables.bootstrap.min.css">
    <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
    <script src="https://cdn.datatables.net/1.10.12/js/jquery.dataTables.min.js"></script>
    <script src="https://cdn.datatables.net/1.10.12/js/dataTables.bootstrap.min.js"></script>
    <!-- end table -->

    <script>
       $(function() {
        $('#example').DataTable();
        $("#from_date").datepicker({
            dateFormat: "mm/d/yy",
            maxDate: 0,

            onSelect: function () {

                var minDate = $(this).datepicker('getDate');

                $('#to_date').datepicker('setDate', minDate);
                $('#to_date').datepicker('option', 'maxDate', 0);
                $('#to_date').datepicker('option', 'minDate', minDate);
            }
        });
        $('#to_date').datepicker({
            dateFormat: "mm/d/yy"
        });

       });
       </script><link rel="stylesheet" href="//code.jquery.com/ui/1.12.0/themes/base/jquery-ui.css">
    <script src="https://code.jquery.com/jquery-1.12.4.js"></script>
    <script src="https://code.jquery.com/ui/1.12.0/jquery-ui.js"></script>

    <!-- table -->
    <link rel="stylesheet" href="https://cdn.datatables.net/1.10.12/css/dataTables.bootstrap.min.css">
    <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
    <script src="https://cdn.datatables.net/1.10.12/js/jquery.dataTables.min.js"></script>
    <script src="https://cdn.datatables.net/1.10.12/js/dataTables.bootstrap.min.js"></script>
    <!-- end table -->

    <script>
       $(function() {
        $('#example').DataTable();
        $("#from_date").datepicker({
            dateFormat: "mm/d/yy",
            maxDate: 0,

            onSelect: function () {

                var minDate = $(this).datepicker('getDate');

                $('#to_date').datepicker('setDate', minDate);
                $('#to_date').datepicker('option', 'maxDate', 0);
                $('#to_date').datepicker('option', 'minDate', minDate);
            }
        });
        $('#to_date').datepicker({
            dateFormat: "mm/d/yy"
        });

       });
       </script> 
```

* * *

## 回答 #24

> 赞同：0
> 
> 时间：2017-11-28T05:53:46.573

您可以使用

```
$('#li_from_date').appendDtpicker({
    "dateOnly": true,
    "autodateOnStart": false,
    "dateFormat": "DD/MM/YYYY",
    "closeOnSelected": true,
    "futureonly": true
}); 
```

* * *

## 回答 #25

> 赞同：0
> 
> 时间：2021-12-10T15:02:58.097

添加选项

```
startDate: new Date() 
```

像这样引用

```
$('.installment_date').datepicker({
     startDate: new Date()
}); 
```

* * *

## 回答 #26

> 赞同：-1
> 
> 时间：2017-07-22T11:32:56.110

[要禁用过去的日期](http://amsul.ca/pickadate.js/api/#method-set-min)，请添加这个给定的 js：

```
var $input = $('.datepicker').pickadate();
var picker = $input.pickadate('picker');
picker.set('min',true);`][1] 
```**

# eclipse - 如何同时使用 eclipse 处理 C 和 java 代码

> ID：15757919
> 
> 赞同：0
> 
> 时间：2013-04-02T06:52:13.760
> 
> 标签：eclipse

我的代码库由 C 和 Java 文件组成。早些时候我使用源洞察力，但现在我们进入 Eclipse。我尝试在 Eclipse 中同步我的项目，但在那里制作项目后，我无法浏览完整的代码库，例如，我无法 ctrl +单击 java 文件，尽管在 C 文件中我可以做到。不知何故，我错过了一些东西。我的 Eclipse 包由 Eclipse Platform、JDT、CDT、EMF、GEF 和 WTP 组成。请提出一些解决方案

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-03T07:07:44.507

您必须配置您的项目，使它们同时包含 C 和 Java*特性*。那么如何创建一个混合项目呢？

1.  创建标准 Java 项目。
2.  在此项目的 Package Explorer' 或 Project Explorer 的上下文菜单中，单击**New** -> **Other**并选择**Convert to a C/C++ Project**。

通过这种方式，您可以混合使用 Java 和 C 代码。`Ctrl`+之类的功能`Click`也应该可以使用。

![在此处输入图像描述](https://i.stack.imgur.com/0SJEg.png)

# javascript - 将 div 放在同一行

> ID：15757922
> 
> 赞同：0
> 
> 时间：2013-04-02T06:52:15.443
> 
> 标签：javascript, html, css

我有 2 个 div。一个有 N 个正方形，另一个 div 有 1 个正方形。我希望所有方块都应该内联。即，**“section-loaded”**的 div 方块依次出现在 3 行和第 4 行的一半，那么**“section-toload”的方块**应该在第 4 行，而不是在下面。这是小提琴 -

[http://jsfiddle.net/UPA4V/](http://jsfiddle.net/UPA4V/)

```
<div class="fix_width650px">
    <div class="section-loaded">
        <div class = "square"></div>
        <div class = "square"></div>
        <div class = "square"></div>
        <div class = "square"></div>
        .
        .
        .
    </div>

    <div class="section-toload">
        <div class = "square"></div>
    </div>
</div> 
```

CSS-

```
.square{
    width: 150px;
    height: 150px;
    padding: 5px;
    text-align: center;
    display: inline-block;
    position: relative;
}

.section-loaded{
    display: inline-block;
    float: left;

}

.section-toload{
    display: inline-block;
    float: left;
    position: relative;
    overflow: hidden;

} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-02T06:59:16.597

如果您将部分设置为浮点数，将正方形设置为浮点数，它将起作用。

只有你需要的CSS：

> .square{ 宽度：150px; 高度：150px；向左飘浮; }

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-02T07:08:06.873

我不认为你能做到这一点。由于'setion-loaded' 占用多于1 行，这意味着该部分的宽度变为100%，并且无论下一个是什么都在新行上，即'section-toload' 在新行上。

您可以做的是将所有方块放在一个部分中，如果已加载它们并且要加载它们的“toload”类，则应用额外的“已加载”类。

```
 <div class="section">
      <div class="square loaded"></div>
      <div class="square loaded"></div>
      <div class="square loaded"></div>
      <div class="square loaded"></div>
      ...
      ...
      ...
      <div class="square toload"></div> 
    </div> 
```

CSS -

```
 .square {
      float: left;
      width: 150px;
      /** other styles **/  
   } 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-02T07:19:35.753

试试这个。

现场演示[**在这里**](http://jsfiddle.net/eGSvn/3/)

**HTML**

```
 <div class="fix_width650px">
        <div class="section-loaded">
            <div class = "square"></div>
            <div class = "square"></div>
            <div class = "square"></div>
            <div class = "square"></div>
        </div>

        <div class="section-toload">
            <div class = "square sqgreen"></div>
            <div class = "square sqgreen"></div>
            <div class = "square sqgreen"></div>
        </div>
    </div> 
```

**CSS**

```
 .square{
    width: 150px;
    height: 150px;
    padding: 5px !important;
    text-align: center;
    display: inline-block;
    position: relative;
    float:left;
    border:2px dotted red;
    margin:5px;
}

.sqgreen{
    border:4px dotted green !important;
}

.fix_width650px
{
    width:650px;
} 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-04-02T08:03:12.247

你不能，因为它的形状`section-loaded box`总是矩形的，而你想在`section-toload square`里面注入你的任意位置。

您可以只用正方形点它，或者如果您需要部分，将每个正方形封装在一个部分中，如下所示：

**现场演示：http: [//jsfiddle.net/2QLmJ/](http://jsfiddle.net/2QLmJ/)**

HTML

```
<div class="fix_width650px">
    <div class="section loaded">
        <div class = "square"></div>
    </div>
    <div class="section loaded">
        <div class = "square"></div>
    </div>
    <div class="section loaded">
        <div class = "square"></div>
    </div>
    <div class="section loaded">
        <div class = "square"></div>
    </div>

    <div class="section toload">
        <div class = "square"></div>
    </div>
</div> 
```

CSS

```
 .square{
    width: 150px;
    height: 150px;
    padding: 5px;
    text-align: center;
    border: 1px solid #000;
}

.toload .square{
    border: 1px solid red;    
}

.section{
    margin: 5px;
    display: inline-block;
    float: left;
} 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-04-02T07:17:29.587

如果你想要这样的东西。 ![在此处输入图像描述](https://i.stack.imgur.com/STlYM.jpg)

```
.square
{

width: 150px;
height: 150px;
padding: 5px;
text-align: center;
float:left;
position: relative;
border:1px solid red;
}

.section-loaded{
display: block;
width:486px;
float: left;
}

.section-toload{
display: block;
float: left;
position:absolute;
overflow: hidden;
}

<div class="fix_width650px" style="height:326px;">
<div class="section-loaded">
<div class = "square">square1</div>
<div class = "square">square2</div>
<div class = "square">square3</div>
<div class = "square">square4</div>
</div>

</div>
<div class="section-toload"  style="position :relative;">
<div class = "square">section-toload</div>
</div> 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-04-02T07:21:48.557

`float-left`从两个 div 中删除并添加`display:table-cell`和`vertical-align:bottom`

```
.section-loaded{
    display: table-cell;

}

.section-toload{
    display: table-cell;
    position: relative;
    overflow: hidden;
    vertical-align:bottom

} 
```

**[演示](http://jsfiddle.net/UPA4V/2/)**

# joomla - joomla 组件保存创建一个新实例而不是更新

> ID：15757927
> 
> 赞同：0
> 
> 时间：2013-04-02T06:52:23.270
> 
> 标签：joomla, components, joomla3.0

我正在开发一个由[notwebdesign.com](http://www.notwebdesign.com/joomla-component-creator/)构建的 Joomla 3.0 组件。

在管理员中，每次我尝试保存数据时，它都会创建一个新的数据实例，而不是更新已经加载到表单中的数据。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-02T13:44:17.967

简单的修复。找到相应的表单 xml 文件，并在此文件中找到 id 字段，如下所示。然后，只需删除默认参数。它应该看起来像：

```
 <field name="id"
           type="text"
           default="" // remove this
           readonly="true"
           class="readonly"
           label="JGLOBAL_FIELD_ID_LABEL"
           description="JGLOBAL_FIELD_ID_DESC"/> 
```

id（一般来说）不应该有默认值，所以在你的字段参数中找到任何出现的“id”。希望能帮助到你

# java - 哪个更好 Statement 或 PrepareStatement

> ID：15757928
> 
> 赞同：-6
> 
> 时间：2013-04-02T06:52:27.640
> 
> 标签：java, android

Acutually 我不了解 PrepareStatement 将如何提供比 Statement 更高的性能。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-02T06:54:06.653

来自[Oracle 的文档](http://docs.oracle.com/javase/tutorial/jdbc/basics/prepared.html)：

> PreparedStatement 对象的主要特点是，与 Statement 对象不同，它在创建时被赋予一条 SQL 语句。这样做的好处是，在大多数情况下，此 SQL 语句会立即发送到 DBMS，并在其中进行编译。因此，PreparedStatement 对象不仅包含一条 SQL 语句，还包含一条已预编译的 SQL 语句。这意味着当 PreparedStatement 被执行时，DBMS 可以直接运行 PreparedStatement SQL 语句，而无需先编译它。

但是使用准备好的语句的最大原因是您不必清理输入并将它们格式化为字符串：所有准备好的语句 API 都以安全有效的方式为您完成。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-02T06:53:55.043

每次使用时都会编译语句。PreparedStatement 是预编译的，因此您可以在后续请求中节省编译时间。这只是一个原因。

请查看他们的文档以了解更多差异。

# iphone - 从核心数据iphone中的数据生成XML

> ID：15757932
> 
> 赞同：1
> 
> 时间：2013-04-02T06:52:35.103
> 
> 标签：iphone, ios, objective-c, xml, xml-parsing

我将制作一个应用程序，并且我想将用户的输入存储在 XML 文件中，然后将其解析给另一个用户，所以我很困惑我该怎么做，我应该使用哪种 XML 方法？NSXML 解析器、libxml、touchXML 还是 KissXML？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-02T07:11:15.337

```
 I think this link will help you to choose best type of xml parser. 
```

[如何为您的 iPhone 项目选择最佳 XML 解析器](http://www.raywenderlich.com/553/how-to-chose-the-best-xml-parser-for-your-iphone-project)

```
 Thank You 
```

# shell - 命令/别名可以是可变的吗？

> ID：15757937
> 
> 赞同：2
> 
> 时间：2013-04-02T06:52:45.430
> 
> 标签：shell, alias, bash

我需要不时查看日志文件的特定行：

```
$ head -10 log.txt|tail -1  # to view line 10 of log.txt 
```

然后我`v`在我的函数中写了一个`bashrc`让生活更轻松的函数：

```
$ v 10 
```

好的，也许我在这里有点分裂：我也想忽略这个空间：

```
$ v10 
```

我知道的唯一方法是定义很多别名：

```
alias v1='v 1'
alias v2='v 2'
alias v3='v 3'
alias v4='v 4'
... 
```

有什么好的方法吗？

* * *

感谢@Chirlo 和@anishsane 的想法。

这是我的最终版本，基于 @anishsane 的一些修复：

```
eval "`declare -f command_not_found_handle | sed s/command_not_found_handle/command_not_found_handle_orig/`"
command_not_found_handle(){
    if expr match "$1" "v[0-9][0-9]*" >/dev/null ; then
       v ${1:1}
       return $?
    fi
    command_not_found_handle_orig "$@"
} 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-04-02T10:58:39.983

检查[command_not_found_handle()](http://tldp.org/LDP/abs/html/bashver4.html)如果你有`bash`> 4，你可以覆盖它来处理这种情况。当你输入`v10`并且 bash 无法解析它时，这个函数将被`v10`作为第一个参数调用，你抓住它并在那里做你的事情。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-02T07:53:44.437

这不是答案，而是提示：

当您在 ubuntu 上发出一些命令时，如果没有安装该程序，则 shell 调用它自己的处理程序，说

```
The program 'something' is currently not installed. You can install it by typing:
sudo apt-get install something 
```

您可以尝试找到执行此操作的那个程序。然后挂钩您的代码，它将查看命令是否与正则表达式匹配`v[0-9]*`，然后`v $lineNumber`根据命令的某些解析执行...

* * *

根据 chepner 的评论，这里是更新：

在您的 .bashrc 中添加以下内容：

```
eval "`declare -f command_not_found_handle | sed s/command_not_found_handle/command_not_found_handle_orig/`"

command_not_found_handle(){
    if expr match "$1" "v[0-9]*" >/dev/null ; then
       v ${1:1}
       return $?
    fi
    command_not_found_handle_orig "$@"
} 
```

# objective-c - 如何使 UItableview 具有格式长度

> ID：15757939
> 
> 赞同：0
> 
> 时间：2013-04-02T06:52:48.420
> 
> 标签：objective-c, xcode, uitableview

我正在做作业，我必须从 NSInputstream 接收传入的消息，并且必须在 UItableview 中查看它，我可以接收消息并正确发送消息，但有时我的字符串写在同一行，即使我给客栈。

有人知道吗？？？？

例如：
@abc:123:123:123:123@
@abc:123:123:123:123@
@abc:1:2:3@

第一行在第一行打印，但在第二行也打印第三行，谁能告诉我如何制作一个格式，如果字符串以“@”开头和结尾将写入不在同一行的每一行。

我做了很多过滤消息，但它失败了

我的代码：

```
 case NSStreamEventHasBytesAvailable:

        if (theStream == inputStream) {

            uint8_t buffer[1024];
            int len;

            while ([inputStream hasBytesAvailable]) {
                len = [inputStream read:buffer maxLength:sizeof(buffer)];
                if (len > 0) {

                    NSString *output = [[NSString alloc] initWithBytes:buffer length:len encoding:NSASCIIStringEncoding];

                    if (nil != output) {
                        NSLog(@"server said: %@", output);
                    }
                }
            }
        }
        break;
NSIndexPath *topIndexPath = [NSIndexPath indexPathForRow:messages.count-1 inSection:0];
[self.tView scrollToRowAtIndexPath:topIndexPath 
                  atScrollPosition:UITableViewScrollPositionMiddle 
                          animated:YES]; 
```

* * *

输出：
@abc:123:123:123:123@
@abc:123:123:123:123@ @abc:1:2:3@

但我期待：

@abc:123:123:123:123@
@abc:123:123:123:123@
@abc:1:2:3@

....如果字符串以“@”开头和结尾必须写在下一行...问题是因为某个时间字符串很小所以它占用同一行，但我希望它在下一行如果以“@”开头和结尾

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-03T13:00:53.643

您可以通过组件分隔来使用数组..

```
 NSString* string = @"@abc:123:123:123:123@@abc:123:123:123:123@123:123:123:1@abc:1:2:3@123:123:123:1@abc:123:123:123:123@@abc:123:123:123:123@ 123:123:123:1@abc:1:2:3@ @abc:123:123:123:123@@abc:123:123:123:123@123:123:123:1@abc:1:2:3@ 123:123:123:1@abc:123:123:123:123@123:123:123:1@abc:123:123:123:123@123:123:123:1@abc:1:2:3@";

NSMutableString* formatString = [NSMutableString string];

NSArray* strArr = [string componentsSeparatedByString:@"@"];
for (NSString* str in strArr)
{
    [formatString appendFormat:@"%@@\n@",str];
}
NSLog(@"%@",formatString); 
```

# php - PHP 中的 ODBC 连接

> ID：15757948
> 
> 赞同：0
> 
> 时间：2013-04-02T06:53:30.323
> 
> 标签：php

我为 MS Access DB 创建了一个 ODBC DSN (icamexamdata)。我的是Win 7操作系统。我使用以下代码连接到 DSN

```
$conn=odbc_connect('icamexamdata','',''); 
```

我无法连接，我收到以下错误。

> 警告：odbc_connect() [function.odbc-connect]：SQL 错误：[Microsoft][ODBC Driver Manager] 未找到数据源名称且未指定默认驱动程序，SQLConnect 中的 SQL 状态 IM002

有人可以帮忙吗？

# jquery - 简单的 jquery (DOM).click() 函数不起作用

> ID：15757949
> 
> 赞同：1
> 
> 时间：2013-04-02T06:53:33.510
> 
> 标签：jquery, html, ajax

当单击“单击”或“隐藏所有段落”按钮时，以下简单的 html 页面没有响应。我已经包含了 jquery lib“jquery-1.9.1.min.js”，我可以看到它的所有内容在 Firefox 的“查看源页面”中单击它。这个文件在我的浏览器中的 url 是：**mylocalhost:8080/ajaxAppJquery/tryAjax.jsp**。使用 Netbeans IDE。

```
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
    "http://www.w3.org/TR/html4/loose.dtd">

<html>
    <head>
        <title>Simple Ajax Example</title>
        <script src="jquery-1.9.1.min.js"></script>
        <script>
            $("#button").click(function(){
                alert("working");
                var url="http://localhost:8080/ajaxAppJquery/sayHello.jsp";

                $("#result").load(url);
            });

            $("#hide").click(function(){
                $("p").hide();
            })
        </script>
    </head>
    <body>
        <input id="button" value="click" type="button"/>

        <input id="hide" value="hide all paragraphs" type="button"/>
        <p>paragraph 1</p>
        <p>paragraph 2</p>
        <p>paragraph 3</p>
        <p>paragraph 4</p>
        <p>paragraph 5</p>
        <p>paragraph 6</p>

        <div id="result"></div>
    </body>
</html> 
```

当我单击#button 时，它不会提醒消息。实际上，我正在尝试使用 jquery-ajax，但它也不适用于#hide 按钮。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-02T06:54:37.327

您正在访问脚本中的 html 元素，然后它们才可用，您应该将脚本放入`document.ready`或将脚本放在结束`body`标记之前

```
$(document).ready(function(){
    $("#button").click(function(){
         alert("working");
         var url="http://localhost:8080/ajaxAppJquery/sayHello.jsp";
         $("#result").load(url);
     });

     $("#hide").click(function(){
         $("p").hide();
     })    
}); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-02T06:55:12.200

将您的 jquery 代码包装在里面`$(document.ready(function() {})`或`$(function() {});`让它看到整个 DOM：

```
$(document).ready(function(){
    $("#button").click(function(){
        alert("working");
        var url="http://localhost:8080/ajaxAppJquery/sayHello.jsp";

        $("#result").load(url);
     });

     $("#hide").click(function(){
         $("p").hide();
     })
}); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-02T06:57:54.123

在 DOM 准备好后尝试绑定事件

```
$(document).ready(function() {
  $("#button").click(function(){
    alert("working");
    var url="http://localhost:8080/ajaxAppJquery/sayHello.jsp";
    $("#result").load(url);
  });

  $("#hide").click(function(){
    $("p").hide();
  })
}); 
```

# ruby - 获取更多请求的地理编码器

> ID：15757952
> 
> 赞同：0
> 
> 时间：2013-04-02T06:53:44.817
> 
> 标签：ruby, geocoding

我正在使用地理编码器 gem，并且喜欢处理来自 IP 的更多请求。默认情况下，Google API 每天只提供 2500 个请求。请分享您对我如何处理超出限制的请求的想法？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-03T12:19:58.033

如前所述：仅使用 Google API 绕过限制的唯一方法是付费。或者以一种更隐蔽的方式使请求形成多个我不推荐的 IP/API-Key。

但是为了节省开支，我建议将这些服务混合起来，因为那里有更多的地理编码 API - 免费。

使用正确的宝石混合它们也不是什么大问题：

[http://www.rubygeocoder.com/](http://www.rubygeocoder.com/)

通过漂亮的界面支持其中的几个。您几乎只需添加一些速率限制计数器，以确保您保持在每个提供商的限制范围内。

或者采取繁重的方式来实现自己的地理编码。例如，您自己运行的 Openstreetmaps 数据库。该数据库可以在这里下载：[http ://wiki.openstreetmap.org/wiki/Planet.osm#Worldwide_data](http://wiki.openstreetmap.org/wiki/Planet.osm#Worldwide_data)

哪种方法最好取决于您的实际需求和可用的资源。

# c# - 创建 10 个唯一数字并保存到数组

> ID：15757953
> 
> 赞同：0
> 
> 时间：2013-04-02T06:53:49.497
> 
> 标签：c#, arrays, random

我正在尝试生成 10 个唯一的随机数并将其保存到一个数组中。
这是我的代码，但有运行时错误，但我不知道如何。

有人能帮助我吗 ？

```
static void Main(string[] args)
    {
        int [] generatedNum = new int[10];
        bool duplicated;
        int tempo;
        Random random = new Random();

        // Create first number
        generatedNum[0] = random.Next(1, 25);      

        for (int i = 1; i < 10; i++)
        {
            tempo = random.Next(0, 25);
            do
            {
                duplicated = false;
                foreach (int x in generatedNum)
                {
                    if (x == tempo)
                        duplicated = true;
                }

                if (duplicated == true)
                tempo = random.Next(0, 25);
            } while (duplicated == true);

            // Save unique number to array
            generatedNum[i] = tempo;

        }

        // To check the number saved
        foreach (int i in generatedNum)
        {
            Console.WriteLine("{0}", generatedNum[i]);
        }

    } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-02T06:59:03.363

这可能会有所帮助：

```
public List<int> GetNumber()
{
    Random random = new Random();
    List<int> values = new List<int>();
    values.Add(random.Next(0, 25));

    while (values.Count < 10)
    {
        int newValue;

        do
        {
            newValue = random.Next(0, 25);
        } while (values.Contains(newValue));

        values.Add(newValue);
    }
    return values;
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-02T07:04:24.807

要从 y 数组中获得 x 个唯一项，您需要一个[shuffle bag](https://stackoverflow.com/a/910340/21679)。

你把你的数字 1-25 放在一个袋子里，洗牌，然后拿走前 10 个项目。您现在将有 10 个介于 1 和 25 之间的随机项目。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-02T06:55:51.577

您的最后一个`foreach`循环无效。`i`是值，不是索引，所以可以直接写：

```
// To check the number saved
foreach (int i in generatedNum)
{
    Console.WriteLine("{0}", i);
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-02T06:56:52.350

**改变**

```
 foreach (int i in generatedNum)
        {
            Console.WriteLine("{0}", generatedNum[i]);
        } 
```

**到**

```
 for (int j=0;j<generatedNum.Length;j++)
        {
            Console.WriteLine("{0}", generatedNum[j]);
        } 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-04-02T07:04:23.027

```
 static void Main(string[] args)
    {
        var generatedNum = new List<int>();
        var random = new Random();

        while (generatedNum.Count < 10)
        {
            var tempo = random.Next(0, 25);

            if (generatedNum.Contains(tempo)) continue;
            generatedNum.Add(tempo);
        }

        foreach (var i in generatedNum)
        {
            Console.WriteLine("{0}", i);
        }
    } 
```

你的问题是不是在这里？

```
 // To check the number saved
    foreach (int i in generatedNum)
    {
        Console.WriteLine("{0}", generatedNum[i]);
    } 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-04-02T07:41:55.827

这行得通吗

如果您被允许使用 Linq，您可以尝试这样的事情

你可以设置你想要的范围

```
 Random rnd = new Random();
        var randomNumbers = Enumerable.Range(1, 100)
                                      .Select(x => new { val = x, order = rnd.Next() })
                                      .OrderBy(i => i.order)
                                      .Select(x => x.val)
                                      .Take(10).ToArray(); 
```

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2015-11-11T17:04:32.933

/*试试这个，我用一个数组列表来存储数字

```
using System;
using System.Collections;
public class SamplesArrayList
{

    public static void Main()
    {

        // Creates and initializes a new ArrayList.
       ArrayList values = new ArrayList();
        Random random = new Random();

        values.Add(random.Next(0, 25));

        while (values.Count < 10)
        {
            int newValue;

            do
            {
                newValue = random.Next(0, 25);
            } while (values.Contains(newValue));

            values.Add(newValue);
        }

        PrintValues(values);
    }
    public static void PrintValues(IEnumerable myList)
    {
        foreach (Object obj in myList)
            Console.Write("   {0}", obj);
        Console.WriteLine(myList);
    }

} 
```

# spring - Camel 事务配置问题：javax.persistence.TransactionRequiredException

> ID：15757961
> 
> 赞同：2
> 
> 时间：2013-04-02T06:54:29.373
> 
> 标签：spring, transactions, apache-camel

我在 Camel 2.10.4 路由中配置 JMS 事务。当我运行我的应用程序时，`javax.persistence.TransactionRequiredException: no transaction in progress`会抛出一个。从我的研究中，我发现当没有方法被标记时会抛出这个异常`@Transactional`。我的应用程序上下文 XML 配置文件中的相关部分如下所示：

```
<bean id="txMgr" class="org.springframework.jms.connection.JmsTransactionManager">
    <property name="connectionFactory" ref="pooledConnectionFactory" />
</bean>

<bean id="REQUIRED" class="org.apache.camel.spring.spi.SpringTransactionPolicy">
    <property name="transactionManager" ref="txMgr" />
    <property name="propagationBehaviorName" value="PROPAGATION_REQUIRED" />
</bean>

<bean id="pooledConnectionFactory" 
   class="org.apache.activemq.pool.PooledConnectionFactory" init-method="start" destroy-method="stop">
   <property name="maxConnections" value="8" />
   <property name="connectionFactory" ref="jmsConnectionFactory" />
</bean>

<bean id="jmsConnectionFactory" 
   class="org.apache.activemq.ActiveMQConnectionFactory">
   <property name="brokerURL" value="tcp://localhost:61616" />
</bean>

<bean id="activemq" class="org.apache.activemq.camel.component.ActiveMQComponent">
    <property name="configuration" ref="jmsConfig" />
</bean>

<bean id="jmsConfig" 
   class="org.apache.camel.component.jms.JmsConfiguration">
   <property name="connectionFactory" ref="pooledConnectionFactory"/>
   <property name="transacted" value="true" />
   <property name="transactionManager" ref="txMgr" />
   <property name="concurrentConsumers" value="3"/>
</bean> 
```

除了 JMS 特定的配置，我还有 JPA 配置，如下所示：

```
<bean id="transactionTemplate" class="org.springframework.transaction.support.TransactionTemplate">
    <property name="transactionManager">
        <bean class="org.springframework.orm.jpa.JpaTransactionManager">
            <property name="entityManagerFactory" ref="entityManagerFactory" />
        </bean>
    </property>
</bean>

<bean id="jpaTemplate" class="org.springframework.orm.jpa.JpaTemplate">
    <property name="entityManagerFactory" ref="entityManagerFactory" />
</bean>

<bean id="entityManagerFactory" class="org.springframework.orm.jpa.LocalEntityManagerFactoryBean">
    <property name="persistenceUnitName" value="fileRecord" />
</bean> 
```

如果我禁用事务，则配置有效。但是，当我启用它时，所有其他步骤都会成功，除了将数据插入数据库的位（在 JPA 端点）。

任何关于我需要更改或添加的建议将不胜感激。

# c# - C# LINQ - 我可以在这里做些什么来提高性能？

> ID：15757963
> 
> 赞同：-1
> 
> 时间：2013-04-02T06:54:40.107
> 
> 标签：c#, performance, linq

我正在对集合进行一些繁重的过滤（这只不过是“数据线”条目的封装列表）。我需要在 3 个字段（日期（字符串）、路线（字符串）和 ConsolidationCode（字符串））上“合并”这些行。

提取 3 个不同的列表工作得很快。我更担心三重foreach...我会说正常的“完整_DealerCaseSetComplete 包含5000 个条目。日期大约是5，路线大约是100，合并大约是350-500。

**我写了以下方法。它完全符合我的要求，但计算时间非常慢。也许你们可以指导我更快地执行代码。**

*如果您需要任何其他代码（实际上很简单，请询问。*

```
private void FillDataGridView()
    {
        //
        _LocalGridControl.Invoke(CreateDataGrid);

        //Filter by Date
        List<string> Dates = _DealerCaseSetComplete.Data.Select(rec => rec.DateAdded).Distinct().ToList();

        //Filter by Route
        List<string> Routes = _DealerCaseSetComplete.Data.Select(rec => rec.Route).Distinct().ToList();

        //Filter by Consolidation
        List<string> Consolidations = _DealerCaseSetComplete.Data.Select(rec => rec.DealerConsolidationCode).Distinct().ToList();

        foreach(string d in Dates)
        {
            foreach(string r in Routes)
            {
                foreach(string c in Consolidations)
                {
                    List<DealerCaseLine> Filter = _DealerCaseSetComplete.Data.Where(rec => rec.DateAdded == d &&
                                                                                    rec.Route == r &&
                                                                                    rec.DealerConsolidationCode == c).ToList();
                    if(Filter.Count > 0)
                        _LocalGridControl.Invoke(AddLineToDataGrid, Filter);
                }
            }
        }
        _LocalGridControl.Invoke(SortDataGrid);
    } 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-02T07:02:28.390

看起来您需要按三个字段分组：

```
var filters = from r in _DealerCaseSetComplete.Data
              group r by new { 
                   r.DateAdded, 
                   r.Route, 
                   r.DealerConsolidationCode 
              } into g              
              select g.ToList();

foreach(List<DealerCaseLine> filter in filters)
    _LocalGridControl.Invoke(AddLineToDataGrid, filter); 
```

您的代码将所有数据迭代**3 次**以获得不同的字段。然后它为不同字段**的所有组合**迭代所有数据（当您使用 where 子句进行过滤时）。通过这三个字段分组，您将只迭代**一次**数据。每个结果组将至少有一个项目，因此您无需在调用过滤器之前检查组中是否有任何项目。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-02T07:02:17.200

看起来您正在尝试获取日期、路线和合并的每一个不同的组合。

您当前的代码很慢，因为我认为它是 O(n^4)。您有三个嵌套循环，其主体是线性搜索。

通过使用 Distinct 的重载，您可以获得更好的性能`IEqualityComparer<T>`：

[http://msdn.microsoft.com/en-us/library/bb338049.aspx](http://msdn.microsoft.com/en-us/library/bb338049.aspx)

```
var Consolidated = 
  _DealerCaseSetComplete.Data.Select(rec => rec).
  Distinct(new DealerCaseComparer()); 
```

该类的`DealerCaseComparer`实现方式与上述 MSDN 链接中的实现方式非常相似。

# c# - C# 中：文件结束 (EOF) 、流结束和字符串 !=NULL 有什么区别

> ID：15757965
> 
> 赞同：-1
> 
> 时间：2013-04-02T06:54:42.310
> 
> 标签：c#, file-io

`StreamReader.EndOfStream`using和 `string != null` in 文件处理 有什么区别

```
using (StreamReader sr = new StreamReader("TestFile.txt"))
{
String line;
while ((line = sr.ReadLine()) != null)
{
Console.WriteLine(line);
}
}

 while (!reader.EndOfStream)
            {
                data = BreakLine(line);
                DataRow dr = _DataTable.NewRow();
                // protect against overflow
                int maxColumns = Math.Min(_DataTable.Columns.Count, data.Length);
                for (int i = 0; i < maxColumns; i++)
                {
                    dr[i] = data[i];
                }
                _DataTable.Rows.Add(dr);
                line = reader.ReadLine();
            } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-02T07:04:39.993

这两个处理不同的情况。如果您对文件进行操作，`EOF`将表明您的文件指针已到达文件末尾，而 a`Stream`是连续的数据流（通常是单向的，而不是您通常可以随机访问的文件）。

从[这里](http://www.doc.ic.ac.uk/~wjk/C++Intro/RobMillerL4.html)它说关于文件

```
"The easiest way to think about a file is as a linear sequence of characters." 
```

关于它说的流

```
"We can think of a stream as a channel or conduit on which data is passed from senders to receivers." 
```

阅读文章以获得印象。虽然是约`C++`，但很好地反映了基础知识。

# php - 类型 Get 的 ajax 或类型 Post ajax

> ID：15757966
> 
> 赞同：1
> 
> 时间：2013-04-02T06:54:44.407
> 
> 标签：php, ajax

是类型：`GET`比类型快：`POST`因为我很好奇两者是如何工作的。

我只知道 type: `POST`never touch type: `GET`yet。

无论我使用 get 还是 post，你们都想向我推荐什么。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-02T06:58:12.980

我不认为一个比另一个快。但是是的，还有其他差异。

*   `GET`发送查询字符串中的所有数据，并且地址栏上的每个用户都可以看到它，而对于`POST`
*   `GET`有一定的数据限制，你不能超过这个限制（取决于客户端和服务器，在某些情况下是代理服务器，通常在 8kb 左右）。但因为`POST`你可以发送任意数量的`bytes`。
*   如果要使用文件上传功能，则必须使用`POST`.

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-02T07:01:41.080

性能 GET 或 POST 取决于它在服务器端的实现方式。

你应该更关心这里的 RESTful 约定。

GET ：检索由 url 指定的条目的表示。

POST：创建一个新条目。

多看[这里。](https://en.wikipedia.org/wiki/Representational_state_transfer)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-02T07:01:13.187

由于某些原因，发布数据比 GET 数据更好

1.  我们继续通过 url 发送更多数据，因此 GET 方法在一定程度上受到限制

2.  **我们不会通过电子邮件**等 URL 发送特殊字符，但通过帖子我们可以发送任何类型的数据

3.  Post 比 get 更安全，因为通过 url 您可以看到哪些数据将发送到下一页，但是通过 post 我们无法**轻松**获取它们，但我们也可以通过该页面中的 inpect elemnts 获取它们

4.  文件或图像上传也只能通过 post 方法完成，但不能使用 GET

# orchardcms - Orchard如何修改Widgets下哪些Zone可用

> ID：15757967
> 
> 赞同：0
> 
> 时间：2013-04-02T06:54:50.547
> 
> 标签：orchardcms, orchardcms-1.6

我是 Orchard 的新手，对如何自定义区域有点困惑。

当我进入 Orchard Admin 中的小部件菜单时 - 使用“TheThemeMachine”主题，我可以看到那里可用的区域列表。

现在，当我按照本教程创建新主题时：“ [http://docs.orchardproject.net/Documentation/Writing-a-new-theme](http://docs.orchardproject.net/Documentation/Writing-a-new-theme) ” - 然后转到小部件，我收到以下警告：

“应用当前活动主题时，这些区域中的小部件不会出现在任何地方。它们可能仍会出现在选择性应用（例如移动）主题中。”

我理解这个警告，我的问题是： 1\. 如何删除我不使用的区域？还是我必须删除“TheThemeMachine”主题才能同时删除区域？2\. 创建新主题“MyFirstTheme”后，我看不到小部件下列出的任何区域。我们是否需要做其他事情来实现这一点？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-02T21:10:58.830

问题不是要删除区域，问题是这些区域不存在，但其中仍有小部件。您所要做的就是将这些小部件移动到实际存在的区域，或者在您的主​​题中重新创建这些区域。好像您忘记在 theme.txt 清单文件中列出您的区域。

# xcode - xcodebuild：构建 Mac OS 应用程序

> ID：15757971
> 
> 赞同：2
> 
> 时间：2013-04-02T06:55:12.110
> 
> 标签：xcode, macos, archive, xcodebuild

我想为我的**Mac** App 项目做自动化。

我的环境是 Mac OS 10.8.3；Xcode 4.6。我在终端中使用以下命令：

> xcodebuild -project pro.xcodeproj -target MyProject -configuration Debug CODE_SIGN_IDENTITY='Mac Developer: xxxxxx'

它运行良好，我可以看到 MyProject.app 是在工作区中创建的：/build/Debug。

然后我只是将它复制到 Jenkins 配置中，例如：

```
export DEVELOPER_DIR=/Applications/Xcode.app/Contents/Developer/
xcodebuild -project pro.xcodeproj -target MyProject -configuration Debug  CODE_SIGN_IDENTITY='Mac Developer: xxxxxx' 
```

但是，构建总是失败：

> 代码签名错误：找不到配置文件“EADA149E-1A30-4C3C-B42B-75DEA77308DF”

让我感到奇怪的是，我找不到“错误”的个人资料。

我发现同样的问题[Distributing .app file after command line xcodebuild call](https://stackoverflow.com/questions/9366304/distributing-app-file-after-command-line-xcodebuild-call)。但“存档”在 xcode 4.6 中无效。

因此，请帮助我了解如何为**Mac App**进行自动化。谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-08T03:54:56.620

我找到了它，它与“未找到规定”之类的问题相同。您需要做的是删除 prom.xcodeproj/project.pbxproj 中引用的配置文件。

您可以在这里找到相同的答案[代码设计错误：删除过期配置文件后找不到配置文件](https://stackoverflow.com/questions/1760518/codesign-error-provisioning-profile-cannot-be-found-after-deleting-expired-prof)

# interface - 从 BaseAdapter 覆盖类在片段之间传递数据

> ID：15757972
> 
> 赞同：1
> 
> 时间：2013-04-02T06:55:12.937
> 
> 标签：interface, android-fragments, argument-passing, baseadapter

我可能不是最好的方法，但考虑到我目前的设置，我不知道如何以正确的方式去做。几乎我有一个片段标签主机，其中包含我的所有内容，包括新闻源，来自新闻源的用户可以单击另一个用户图片来打开他们的个人资料。到目前为止，我一直在采取简单的方法，只使用一个打开 tabhost 的全新实例和所有片段的意图，我通过额外的意图发送了配置文件 ID，我的问题得到了解决，但是我知道了这一点不是一个很好的解决方案。因此，我一直在尝试通过在此线程上提出建议来修复我的应用程序：

[Fragment之间的通信](https://stackoverflow.com/questions/12858619/communication-between-fragments)

我的问题是，我的配置文件图像的 onClick 侦听器位于扩展 BaseAdapter 的 LazyAdapter 类中，鉴于我的情况，切换片段并将正确的配置文件 ID 传递给新片段的最佳方法是什么？

```
import java.util.ArrayList; 
import java.util.HashMap;

import android.app.Activity;
import android.content.Context;
import android.content.Intent;
import android.util.Log;
import android.view.LayoutInflater;
import android.view.View;
import android.view.View.OnClickListener;
import android.view.ViewGroup;
import android.widget.BaseAdapter;
import android.widget.ImageView;
import android.widget.TextView;

public class LazyAdapter extends BaseAdapter {

    private Activity activity;
    private ArrayList<HashMap<String, String>> data;
    private static LayoutInflater inflater=null;
    public ImageLoader imageLoader; 

    public LazyAdapter(Activity a, ArrayList<HashMap<String, String>> d) {
        activity = a;
        data=d;
        inflater = (LayoutInflater)activity.getSystemService(Context.LAYOUT_INFLATER_SERVICE);
        imageLoader=new ImageLoader(activity.getApplicationContext());
    }

    public int getCount() {
        return data.size();
    }

    public Object getItem(int position) {
        return position;
    }

    public long getItemId(int position) {
        return position;
    }

    public View getView(int position, View convertView, ViewGroup parent) {
        View vi=convertView;
        if(convertView==null)
            vi = inflater.inflate(R.layout.list_row, null);

        TextView name = (TextView)vi.findViewById(R.id.name); // title
        TextView message = (TextView)vi.findViewById(R.id.message); // artist name
        TextView created = (TextView)vi.findViewById(R.id.created); // duration
        SmartImageView thumb_image = (SmartImageView) vi.findViewById(R.id.list_image);

        HashMap<String, String> update = new HashMap<String, String>();
        update = data.get(position); 

        // Setting all values in listview
        name.setText(update.get("name"));
        message.setText(update.get("message"));
        created.setText(update.get("created"));
        thumb_image.setImageUrl(update.get("thumb_img"));
        name.setOnClickListener(new myOnClickListener(position));
        thumb_image.setOnClickListener(new myOnClickListener(position));
        return vi;
    }

    public class myOnClickListener implements OnClickListener{
        private int position;
        private String clicked_uid;
        public myOnClickListener(int position){
            this.position=position;
        }
        @Override
        public void onClick(View v) {
            // TODO Auto-generated method stub

            HashMap<String, String> update = new HashMap<String, String>();
            update = data.get(position); 
            Log.i("Update Position:", update.toString());
            clicked_uid=update.get("uid");
            Log.d("Clicked UID:", clicked_uid+"");
            Intent i = new Intent(activity.getApplicationContext() , TabHostFragmentActivity.class);
            i.putExtra("profile_uid", clicked_uid);
            activity.startActivity(i);
            activity.finish();

        }

    }
} 
```

# c++ - 模板化函数作为参数

> ID：15757974
> 
> 赞同：2
> 
> 时间：2013-04-02T06:55:19.720
> 
> 标签：c++, templates

我的代码看起来像

```
template<typename C>
void invoke() {
  if (thing_known_at_runtime) {
    C::template run<int>(4);
  } else {
    C::template run<char>('a');
  }
}

struct output {
  template<typename T>
  static void run(T x) {
    cout << x;
  }
};

invoke<output>(); 
```

它有效。

但我不喜欢输出的重量级定义。我希望能够写：

```
template<typename T>
void output(T x) {
  cout << x;
} 
```

然后调用invoke<output>() 或invoke(output)。有没有办法定义调用以便它工作？

（输出和调用都更复杂——这是一个用于提出问题的简化版本。不，当我调用调用时涉及知道 int 的解决方案没有帮助。）

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-02T07:25:08.567

你不能做这样的事情。在致电之前，您应该知道自己想做什么`invoke`。像这样的东西会很好用

```
void invoke(const std::function<void()>& func)
{
   func();
}

template<typename T>
void output (const T& val)
{
   std::cout << val << std::endl;
}

if (rand() % 2)
{
   invoke(std::bind<void(&)(const int&)>(&output, globals::value_calculated));
}
else
{
   invoke(std::bind<void(&)(const char&)>(&output, globals::value));
} 
```

关于 lws 的完整示例：http://liveworkspace.org/code/1uLIr4 [$](http://liveworkspace.org/code/1uLIr4) 0

# haskell - 如何在 Haskell 中添加/减去绝对值和相对值的运算符

> ID：15757988
> 
> 赞同：9
> 
> 时间：2013-04-02T06:56:26.423
> 
> 标签：haskell, typeclass

*（为这个奇怪的标题道歉，但我想不出更好的标题。）*

对于个人 Haskell 项目，我希望有“绝对值”（如频率）和相对值（如两个频率之间的比率）的概念。在我的上下文中，添加两个绝对值是没有意义的：一个可以添加相对值以产生新的相对值，并将相对值添加到绝对值以产生新的绝对值（同样用于减法）。

我已经为这些定义了类型类：见下文。但是，请注意，运算符`##+`and`#+`具有相似的结构（对于 and 也是如此`##-`）`#-`。因此，我更愿意合并这些运算符，这样我就有一个加法运算符，它添加一个相对值（同样还有一个减法运算符，它产生一个相对值）。 **更新：**澄清一下，我的目标是将我的`##+`和统一`#+`到一个运营商中。我的目标*不是*将它与现有的 ( `Num`)`+`运算符统一起来。

但是，我看不到如何使用类型类来做到这一点。

*问题：*这可以做到吗？如果可以，怎么做？还是我不应该尝试？

以下是我目前拥有的：

```
{-# LANGUAGE MultiParamTypeClasses #-}

class Abs a where
  nullPoint :: a

class Rel r where
  zero :: r
  (##+) :: r -> r -> r
  neg :: r -> r

  (##-) :: Rel r => r -> r -> r
  r ##- s = r ##+ neg s

class (Abs a, Rel r) => AbsRel a r where
  (#+) :: a -> r -> a
  (#-) :: a -> a -> r 
```

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-04-02T08:36:10.480

我认为您正在寻找一个称为*Torsor*的概念。一个 torsor 由一组值、一组差异和将差异添加到一个值的运算符组成。此外，这组差异必须形成一个加法组，因此差异也可以加在一起。

有趣的是，躯干无处不在。常见的例子包括

*   点和向量
*   日期和日期差异
*   文件和差异

等等

一种可能的 Haskell 定义是：

```
 class Torsor a where
    type TorsorOf a :: *
    (.-) :: a -> a -> TorsorOf a
    (.+) :: a -> TorsorOf a -> a 
```

以下是几个示例：

```
 instance Torsor UTCTime where
    type TorsorOf UTCTime = NominalDiffTime
    a .- b = diffUTCTime a b 
    a .+ b = addUTCTime b a

 instance Torsor Double where
    type TorsorOf Double = Double
    a .- b = a - b
    a .+ b = a + b

instance Torsor Int where
    type TorsorOf Int = Int
    a .- b = a - b
    a .+ b = a + b 
```

在最后一种情况下，请注意两组 Torsors 不需要是不同的集合，这使得将您的相对值加在一起很简单。

有关更多信息，请参阅[Roman Cheplyakas 博客中更好的描述](http://ro-che.info/articles/2013-01-08-torsors.html)

* * *

## 回答 #2

> 赞同：9
> 
> 时间：2013-04-02T08:13:21.817

我认为您不应该尝试统一这些运算符。减去两个向量和减去两个点是根本不同的操作。事实上，在类型系统中很难将它们表示为相同的东西并不是类型系统很尴尬——这是因为这两个概念真的是不同的东西！

您正在使用的数学框架是[仿射空间](http://en.wikipedia.org/wiki/Affine_space)。

这些已经在向量空间包中的 Haskell 中可用（`cabal install vector-space`在命令提示符下执行）。它们不是使用多参数类型类，而是使用类型族将向量（相对）类型与每个点（绝对）类型相关联。

这是一个最小的示例，展示了如何定义自己的绝对和相对数据类型，以及它们的交互：

```
{-# LANGUAGE TypeFamilies #-}

import Data.VectorSpace
import Data.AffineSpace

data Point = Point { px :: Float, py :: Float }

data Vec = Vec { vx :: Float, vy :: Float }

instance AdditiveGroup Vec where
    zeroV = Vec 0 0
    negateV (Vec x y) = Vec (-x) (-y)
    Vec x y ^+^ Vec x' y' = Vec (x+x') (y+y')

instance AffineSpace Point where
  type Diff Point = Vec
  Point x y .-. Point x' y' = Vec (x-x') (y-y')
  Point x y .+^ Vec x' y' = Point (x+x') (y+y') 
```

* * *

## 回答 #3

> 赞同：9
> 
> 时间：2013-04-02T09:46:43.487

您有两个答案告诉您应该做什么，这是另一个答案，告诉您如何做您要求的事情（这可能不是一个好主意）。:)

```
class Add a b c | a b -> c where
    (#+) :: a -> b -> c

instance Add AbsTime RelTime AbsTime where
    (#+) = ...
instance Add RelTime RelTime RelTime where
    (#+) = ... 
```

for 的重载`(#+)`使其非常灵活。太灵活了，IMO。唯一的限制是结果类型由参数类型决定（没有这个 FD，操作符几乎无法使用，因为它没有任何约束）。

# java - 如何使用 Zk 在 Datebox 中禁用日期

> ID：15757991
> 
> 赞同：1
> 
> 时间：2013-04-02T06:56:36.427
> 
> 标签：java, zk

我在所选日期更改了颜色

你可以[在这里找到 zk fiddle](http://zkfiddle.org/sample/2dih3qq/1-how-to-disable-day-in-Datebox-in-Zk.)

现在我想禁用一天。它不应该是可点击的。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-07T17:06:31.267

目前日期的启用/禁用依赖于它的 css 类，您可以在客户端添加 Datebox.getZclass()+'-disd' 来禁用它，请参考 zkfiddle 的示例：

[如何在 Zk 的 Datebox 中禁用日期](http://zkfiddle.org/sample/2dih3qq/3-how-to-disable-day-in-Datebox-in-Zk)

这样您可以保存一些 au 请求，但仍需要通过 java API 为设置日期正确添加服务器端验证。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-02T12:00:57.737

不幸的是，日期[框约束](http://books.zkoss.org/wiki/ZK_Component_Reference/Input/Datebox#Constraint)基于[`SimpleDateConstraint`](http://www.zkoss.org/javadoc/latest/zk/org/zkoss/zul/SimpleDateConstraint.html)它仅支持**日期范围**：您不能以这种方式涂黑特定日期。

我相信这样做的正确方法不是使日期在 UI 中无法选择，而是在选择日期时忽略它。将此与您已经完成的视觉上涂黑日期相结合，您将获得您正在寻找的效果。

要*在 Java 端*执行此操作，您可以实现自定义[`ClientConstraint`](http://www.zkoss.org/javadoc/latest/zk/org/zkoss/zul/ClientConstraint.html). 这实际上将验证您在 JavaScript 中的输入值，而不是普通的 server-side [`Constraint`](http://www.zkoss.org/javadoc/latest/zk/org/zkoss/zul/Constraint.html)。

当然，您可以深入研究[Datebox JavaScript 小部件](http://www.zkoss.org/javadoc/latest/jsdoc/zul/db/Datebox.html)本身，但我倾向于尽可能避免使用这种方法。实际上，您会看到该[`datebox.validate_`](http://www.zkoss.org/javadoc/latest/jsdoc/zul/inp/InputWidget.html#validate_%28java.lang.Object%29)功能通过集成上述`ClientConstraint`.

# c# - 编辑后 Datagridview 单元格未提交（绑定到数据库）

> ID：15757992
> 
> 赞同：0
> 
> 时间：2013-04-02T06:56:49.597
> 
> 标签：c#, datagridview, cell, commit, edit

所以，我有一个绑定到数据库的datagridview。我正在使用此代码在单元格编辑后提交更改。但它没有将更改提交到数据库。填充我的 dataSet 后，单元格的值会重置。我不知道我做错了什么。

```
 private void dgvDatabase_CurrentCellDirtyStateChanged(object sender, EventArgs e)
  {

          dgvDatabase.CommitEdit(DataGridViewDataErrorContexts.Commit);
          gASFLESSENBindingSource1.EndEdit();  
  } 
```

# javascript - javascript如何检查音频加载失败

> ID：15757996
> 
> 赞同：0
> 
> 时间：2013-04-02T06:57:20.397
> 
> 标签：javascript, audio, event-listener

有没有类似的东西

```
var audio=new Audio();

audio.addEventListener("ThisAudioLoadFaild", function(){}); 
```

谢谢！

顺便说一句，我在哪里可以找到所有类型的音频 addEventListeners ？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-02T07:01:45.650

您可以使用错误事件，例如：

```
audio.addEventListener('error', function () {
  console.log('Could not load.');
}, false); 
```

# .net - WPF DataGridRow 事件 - “选定”事件继承

> ID：15757997
> 
> 赞同：0
> 
> 时间：2013-04-02T06:57:25.553
> 
> 标签：.net, wpf, xaml, events, datagrid

我的程序中有这段代码：

```
 <DataGrid.ItemContainerStyle>
            <Style TargetType="DataGridRow">
                <EventSetter Event="Selected" Handler="Selection_event"/>
            </Style>
        </DataGrid.ItemContainerStyle> 
```

我找不到`Selected`事件是从哪里继承的。

[DataGridRow 事件](http://msdn.microsoft.com/en-us/library/system.windows.controls.datagridrow_events%28v=vs.95%29.aspx "DataGridRow 事件")

[UIElement 事件](http://msdn.microsoft.com/en-us/library/system.windows.uielement_events%28v=vs.95%29.aspx "UIElement 事件")

我正在寻找类似的东西`Unselected`，想看看附近有什么活动`Selected`

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-02T07:21:38.510

**我找不到 Selected 事件是从哪里继承的。**

当`Selected` `Event`的`IsSelected`属性为`DataGridRow`时发生`true`。看[这里](http://msdn.microsoft.com/en-us/library/system.windows.controls.datagridrow.selected.aspx)

**我正在寻找类似 Unselected 的东西，并想看看 Selected 附近的事件是什么**

有关 DataGridRow 事件的完整列表，请参见[此处](http://msdn.microsoft.com/en-us/library/system.windows.controls.datagridrow.aspx)。您正在寻找的是`UnSelected` [event](http://msdn.microsoft.com/en-us/library/system.windows.controls.datagridrow.unselected.aspx)，它在行选择被清除时发生。