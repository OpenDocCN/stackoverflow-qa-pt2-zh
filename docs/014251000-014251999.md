# StackOverflow 问答 14251000-14251999

# c++ - STL / boost方式为向量内的每个对象间接重复调用方法

> ID：14251001
> 
> 赞同：0
> 
> 时间：2013-01-10T04:49:24.740
> 
> 标签：c++, boost, stl

假设我有一个对象向量。对于向量中的每个元素，我想通过一个成员调用一个函数。代码可以如下图所示。

```
class CMyClass
{
public:
   void g();
};

class CAnotherClass
{
public:
   void f();
   CMyClass m_object;
};

std::vector<CAnotherClass> vec;
// This is easy. What about m_object->g()?
std::for_each(vec.begin(), vec.end(), std::mem_fn(&CAnotherClass::f)); 
```

调用`f()`每个对象就像上面显示的一样简单。如果我想调用`m_object->g()`每个对象怎么办？希望我不想更改的接口`CAnotherClass`添加一个虚拟函数只是为了调用`m_object->g()`.

是否有任何 STL/boost 方法可以在不自己编写循环的情况下做到这一点？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-01-10T04:54:03.570

您需要提供一个单独的功能，例如：

```
void call_g(CAnotherClass & c) { c.m_object.g(); } 
```

然后将其传递给`std::for_each`.

```
std::for_each(vec.begin(), vec.end(), call_g); 
```

如果您的编译器支持 C++11 特性 lambdas，情况会更好，因为您可以在使用点定义函数：

```
std::for_each(vec.begin(), vec.end(), [](CAnotherClass & c) { c.m_object.g(); }); 
```

但如果你的编译器支持 lambda，也许它支持循环范围，这是 C++11 的另一个特性。在我看来，循环的范围`std::for_each`已经过时了。它更简洁。

```
for (auto & c : vec) { c.m_object.g(); } 
```

# jquery - 建议同时播放 16 个 HTML5 视频，明显卡顿问题

> ID：14251002
> 
> 赞同：0
> 
> 时间：2013-01-10T04:49:29.220
> 
> 标签：jquery, html, video

所以如果你把你的 webkit 浏览器指向这里： http: [//graysonearle.com/bluemen/](http://graysonearle.com/bluemen/)

并在旁边点击 PlayAll，我很好奇你的结果是什么。对我来说，它在 90% 的时间里都能正常工作，但视频通常不会播放到最后（纯色）。我想知道这是否可行，或者我是否应该探索其他选择。甚至 GIF 有时似乎也会滞后。任何意见是极大的赞赏。

# android - 尝试动态生成选项卡及其视图

> ID：14251003
> 
> 赞同：0
> 
> 时间：2013-01-10T04:49:30.507
> 
> 标签：android, dynamic, tabs

更新：

编译错误已解决，我根据我所遵循的示例发现了一些我没有正确完成的事情并更正了它们。但是，当我尝试运行代码时，出现以下错误。当我浏览代码时，我注意到 NewTab.setContent 中的 createTabContent 没有执行，因为我在那里的断点从未被触发。

```
01-12 10:11:21.285: E/AndroidRuntime(14528): FATAL EXCEPTION: main
01-12 10:11:21.285: E/AndroidRuntime(14528): java.lang.RuntimeException: Unable to start activity ComponentInfo{com.jackman.universalav/com.jackman.universalav.MainActivity}: android.content.res.Resources$NotFoundException: Resource ID #0x0
01-12 10:11:21.285: E/AndroidRuntime(14528): at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2100)
01-12 10:11:21.285: E/AndroidRuntime(14528): at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2125)
01-12 10:11:21.285: E/AndroidRuntime(14528): at android.app.ActivityThread.access$600(ActivityThread.java:140)
01-12 10:11:21.285: E/AndroidRuntime(14528): at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1227)
01-12 10:11:21.285: E/AndroidRuntime(14528): at android.os.Handler.dispatchMessage(Handler.java:99)
01-12 10:11:21.285: E/AndroidRuntime(14528): at android.os.Looper.loop(Looper.java:137)
01-12 10:11:21.285: E/AndroidRuntime(14528): at android.app.ActivityThread.main(ActivityThread.java:4898)
01-12 10:11:21.285: E/AndroidRuntime(14528): at java.lang.reflect.Method.invokeNative(Native Method)
01-12 10:11:21.285: E/AndroidRuntime(14528): at java.lang.reflect.Method.invoke(Method.java:511)
01-12 10:11:21.285: E/AndroidRuntime(14528): at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1008)
01-12 10:11:21.285: E/AndroidRuntime(14528): at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:775)
01-12 10:11:21.285: E/AndroidRuntime(14528): at dalvik.system.NativeStart.main(Native Method)
01-12 10:11:21.285: E/AndroidRuntime(14528): Caused by: android.content.res.Resources$NotFoundException: Resource ID #0x0
01-12 10:11:21.285: E/AndroidRuntime(14528): at android.content.res.Resources.getValue(Resources.java:1026)
01-12 10:11:21.285: E/AndroidRuntime(14528): at android.content.res.Resources.loadXmlResourceParser(Resources.java:2131)
01-12 10:11:21.285: E/AndroidRuntime(14528): at android.content.res.Resources.getLayout(Resources.java:865)
01-12 10:11:21.285: E/AndroidRuntime(14528): at android.view.LayoutInflater.inflate(LayoutInflater.java:394)
01-12 10:11:21.285: E/AndroidRuntime(14528): at android.widget.TabHost$LabelIndicatorStrategy.createIndicatorView(TabHost.java:554)
01-12 10:11:21.285: E/AndroidRuntime(14528): at android.widget.TabHost.addTab(TabHost.java:234)
01-12 10:11:21.285: E/AndroidRuntime(14528): at com.jackman.universalav.MainActivity.onCreate(MainActivity.java:71)
01-12 10:11:21.285: E/AndroidRuntime(14528): at android.app.Activity.performCreate(Activity.java:5191)
01-12 10:11:21.285: E/AndroidRuntime(14528): at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1094)
01-12 10:11:21.285: E/AndroidRuntime(14528): at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2064)
01-12 10:11:21.285: E/AndroidRuntime(14528): ... 11 more 
```

更新后的代码是：

```
public class MainActivity extends Activity
{
    @Override
    protected void onCreate(Bundle savedInstanceState)
    {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);
        //Create the tab host that contains the tab widget that contains the tabs
        TabHost Tabs = new TabHost(this);
        Tabs.setLayoutParams(new LinearLayout.LayoutParams(LayoutParams.MATCH_PARENT, LayoutParams.MATCH_PARENT));
        //Create the tab widget  container
        TabWidget TabWidget = new TabWidget(this);
        TabWidget.setId(android.R.id.tabs);
        Tabs.addView(TabWidget, new LinearLayout.LayoutParams(LayoutParams.MATCH_PARENT, LayoutParams.MATCH_PARENT));
        //the tab host needs a frame layout for the views associated with each visible tab
        FrameLayout frameLayout = new FrameLayout(this);
        frameLayout.setId(android.R.id.tabcontent);
        frameLayout.setPadding(0, 65, 0, 0);
        Tabs.addView(frameLayout, new LinearLayout.LayoutParams(LayoutParams.WRAP_CONTENT, LayoutParams.WRAP_CONTENT));
        Tabs.setup();
        //Create the tabs
        DatabaseHelper dbHelper = new DatabaseHelper(this);
        SQLiteDatabase db = dbHelper.getWritableDatabase();
        String dbQuery = "SELECT * FROM " + dbHelper.System_Table + " AS s JOIN " + dbHelper.Devices_Table + " AS d ON s." + dbHelper.Attribute_Device_ID +
            " = d." + dbHelper.Attribute_Device_ID + ";";
        Cursor c = db.rawQuery(dbQuery, null);
        if (c.getCount() > 0)
        {
            while (c.moveToNext())
            {
                  int iColumnDeviceType = c.getColumnIndex(dbHelper.Attribute_Device_Type);
                  int iColumnDeviceName = c.getColumnIndex(dbHelper.Attribute_Device_Name);
                  final String DeviceType = c.getString(iColumnDeviceType);
                  String DeviceName = c.getString(iColumnDeviceName);
                  String DeviceNameLabel = DeviceName.replaceAll(" ", "");
                  TabSpec NewTab = Tabs.newTabSpec("tab" + DeviceNameLabel);
                  NewTab.setIndicator(DeviceNameLabel);
                  NewTab.setContent(new TabHost.TabContentFactory()
                  {
                    public View createTabContent(String tag)
                    {
                        LinearLayout ll = new LinearLayout(MainActivity.this);
                        LayoutParams params = new LinearLayout.LayoutParams(LayoutParams.MATCH_PARENT, LayoutParams.WRAP_CONTENT);
                        ll.setLayoutParams(params);
                        ll.setOrientation(LinearLayout.VERTICAL);
                        if (DeviceType == "Receiver")
                        {

                        }
                        else if (DeviceType == "Video Player")
                        {

                        }
                        return ll;
                     }
                   });
                   Tabs.addTab(NewTab);
             }
        }
    }
} 
```

结束更新

下面的原始问题：

我还没有到这个例程完成的地步。

我试图遵循此链接中的代码示例。[http://www.pocketmagic.net/2010/01/android-dynamic-tab-control/](http://www.pocketmagic.net/2010/01/android-dynamic-tab-control/)

但是，当我尝试为正在创建的选项卡创建线性布局时，编译器吓坏了我。我不确定它为什么会抛出错误。就像我前一行做的对象不存在一样。

返回的**错误**是：

```
Multiple markers at this line
- Syntax error on token(s), misplaced construct(s)
- Syntax error on token "params", VariableDeclaratorId expected after this token 
```

无论如何，**代码**如下。谁能看到我做错了什么？

```
//Create the tab host that contains the tab widget that contains the tabs
TabHost Tabs = new TabHost(this);
Tabs.setLayoutParams(new LinearLayout.LayoutParams(LayoutParams.MATCH_PARENT, LayoutParams.MATCH_PARENT));
//Create the tab widget  container
TabWidget TabWidget = new TabWidget(this);
TabWidget.setId(android.R.id.tabs);
Tabs.addView(TabWidget, new LinearLayout.LayoutParams(LayoutParams.MATCH_PARENT, LayoutParams.MATCH_PARENT));
Tabs.setup();
//Create the tabs
DatabaseHelper dbHelper = new DatabaseHelper(this);
SQLiteDatabase db = dbHelper.getWritableDatabase();
String dbQuery = "SELECT * FROM " + dbHelper.System_Table + " AS s JOIN " +
    dbHelper.Devices_Table + " AS d ON s." + dbHelper.Attribute_Device_ID +
    " = d." + dbHelper.Attribute_Device_ID + ";";
Cursor c = db.rawQuery(dbQuery, null);
if (c.getCount() > 0)
{
    while (c.moveToNext())
    {
        int iColumnDeviceType = c.getColumnIndex(dbHelper.Attribute_Device_Type);
        int iColumnDeviceName = c.getColumnIndex(dbHelper.Attribute_Device_Name);
        final String DeviceType = c.getString(iColumnDeviceType);
        String DeviceName = c.getString(iColumnDeviceName);
        String DeviceNameLabel = DeviceName.replaceAll(" ", "");
        TabSpec NewTab = Tabs.newTabSpec("tab" + DeviceNameLabel);
        NewTab.setIndicator(DeviceName);
        NewTab.setContent(new TabHost.TabContentFactory()
        {
            LinearLayout ll = new LinearLayout(MainActivity.this);
            LayoutParams params = new LinearLayout.LayoutParams(LayoutParams.MATCH_PARENT, LayoutParams.WRAP_CONTENT);
            ll.setLayoutParams(params); //this line has both of the errors
            public View createTabContent(String tag)
            {
                    if (DeviceType == "Receiver")
                    {

                    }
                    else if (DeviceType == "Video Player")
                    {

                    }
                    return null; //place holder until I finish the routine
                }
            });
            Tabs.addTab(NewTab);
        }
    } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-13T00:36:41.687

经过反复试验和谷歌搜索大量示例后，我发现了这个问题。

首先，我放弃了尝试通过 java 而不是 xml 为活动创建选项卡小部件和框架布局。

在我的活动布局 xml 文件中，我添加了一个选项卡控件，并在 xml 视图中删除了选项卡，使 xml 代码看起来像这样。

```
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
xmlns:tools="http://schemas.android.com/tools"
android:layout_width="match_parent"
android:layout_height="match_parent"
tools:context=".MainActivity" >

    <TabHost
    android:id="@android:id/tabhost"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:layout_alignParentLeft="true"
    android:layout_alignParentTop="true" >

        <LinearLayout
        android:id="@+id/MainLayout"
        android:layout_width="match_parent"
        android:layout_height="match_parent"
        android:orientation="vertical" >

        <TabWidget
            android:id="@android:id/tabs"
            android:layout_width="match_parent"
            android:layout_height="wrap_content" >
        </TabWidget>

        <FrameLayout
            android:id="@android:id/tabcontent"
            android:layout_width="match_parent"
            android:layout_height="match_parent" >

            </FrameLayout>
        </LinearLayout>
    </TabHost>
</RelativeLayout> 
```

然后在活动的 java 文件中，我将 oncreate 例程更新为这个。

```
super.onCreate(savedInstanceState);
setContentView(R.layout.activity_main);

//Create the tabs
TabHost Tabs = (TabHost) findViewById(android.R.id.tabhost);
Tabs.setup();
DatabaseHelper dbHelper = new DatabaseHelper(this);
SQLiteDatabase db = dbHelper.getWritableDatabase();
String dbQuery = "SELECT * FROM " + dbHelper.System_Table + " AS s JOIN " +
    dbHelper.Devices_Table + " AS d ON s." + dbHelper.Attribute_Device_ID +
    " = d." + dbHelper.Attribute_Device_ID + ";";
Cursor c = db.rawQuery(dbQuery, null);
int Count = 0;
if (c.getCount() > 0)
{
    while (c.moveToNext())
    {
        Count = Count + 1;
        int iColumnDeviceType = c.getColumnIndex(dbHelper.Attribute_Device_Type);
        int iColumnDeviceName = c.getColumnIndex(dbHelper.Attribute_Device_Name);
        final String DeviceType = c.getString(iColumnDeviceType);
        final String DeviceName = c.getString(iColumnDeviceName);
        final String DeviceNameLabel = DeviceName.replaceAll(" ", "");
        Log.d("Creating Tab", "TabSpec: tab" + DeviceNameLabel);
        Log.d("Creating Tab", "Indicator: " + DeviceName);
        final TabSpec NewTab = Tabs.newTabSpec("tab" + DeviceNameLabel);
        NewTab.setIndicator(DeviceName);
        NewTab.setContent(new TabHost.TabContentFactory()
        {
            @Override
            public View createTabContent(String tag)
            {
                LinearLayout ll = new LinearLayout(MainActivity.this);
                LayoutParams params = new LinearLayout.LayoutParams(
                    LayoutParams.MATCH_PARENT, LayoutParams.WRAP_CONTENT);
                ll.setLayoutParams(params);
                ll.setOrientation(LinearLayout.VERTICAL);
                if (DeviceType.equals("Receiver"))
                {
                    final Button btnVolumeUp = new Button(MainActivity.this);
                    btnVolumeUp.setText("Volume Up");
                    btnVolumeUp.setLayoutParams(new LayoutParams(
                        LayoutParams.WRAP_CONTENT, LayoutParams.WRAP_CONTENT));
                    btnVolumeUp.setGravity(Gravity.LEFT);
                    ll.addView(btnVolumeUp);
                }
                else if (DeviceType.equals("Video Player"))
                {
                    final Button btnPlay = new Button(MainActivity.this);
                    btnPlay.setText("Play");
                    btnPlay.setLayoutParams(new LayoutParams(
                        LayoutParams.WRAP_CONTENT, LayoutParams.WRAP_CONTENT));
                    btnPlay.setGravity(Gravity.LEFT);
                    ll.addView(btnPlay);
                }
                return ll;
            }
        });

        Tabs.addTab(NewTab);

    }
} 
```

# google-chrome - chrome 扩展在新选项卡中打开链接 - 没有错误，但点击时什么也不做

> ID：14251008
> 
> 赞同：3
> 
> 时间：2013-01-10T04:50:36.677
> 
> 标签：google-chrome, google-chrome-extension

我正在尝试创建一个非常简单的 chrome 扩展，以便在单击时在新选项卡中打开硬编码链接，但我没有任何运气。添加扩展后，图标会显示出来，但是当我单击它时没有任何反应。有什么建议么？

清单.json

```
{
"name": "Drive Button",
"version": "1.0",
"manifest_version": 2,
"description": "Open Google Drive",
"browser_action": {
"default_icon": "icon.png"
},
"background": "background.html",
"permissions": [
"tabs"
]
} 
```

背景.html

```
<html>
<head>
<script>
// Called when the user clicks on the browser action.
chrome.browserAction.onClicked.addListener(function(tab) {
chrome.tabs.create({url: "http://drive.google.com"});
});
</script>
</head>
</html> 
```

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-01-10T06:04:48.357

你的脚本有一些问题

*   清单登记
*   CSP

## 清单登记

您应该将背景注册为

```
"background": {
    "scripts": ["background.js"]
  }, 
```

或者

```
"background": {
    "page": "background.html"
  }, 
```

## CSP

如果您希望将背景作为`html`页面消除`<script>`html 页面中的标记以遵守[内容安全策略](https://developer.chrome.com/extensions/contentSecurityPolicy.html)。

消除这些问题后，我运行了您的脚本。

## 工作版本

**清单.json**

将背景页面注册到清单文件。

```
{
    "name": "Drive Button",
    "version": "1.0",
    "manifest_version": 2,
    "description": "Open Google Drive",
    "browser_action": {
        "default_icon": "icon.png"
    },
    "background": {
        "scripts": [
            "background.js"
        ]
    },
    "permissions": [
        "tabs"
    ]
} 
```

**背景.js**

使用您的代码，无需任何修改。

```
chrome.browserAction.onClicked.addListener(function (tab) {
    chrome.tabs.create({
        url: "http://drive.google.com"
    });
}); 
```

我能够按预期创建窗口。

# 参考

*   [内容安全政策](https://developer.chrome.com/extensions/contentSecurityPolicy.html)
*   [背景页面](https://developer.chrome.com/extensions/background_pages.html)

# c++ - 基于函数返回的stl容器构造效率

> ID：14251010
> 
> 赞同：4
> 
> 时间：2013-01-10T04:50:39.873
> 
> 标签：c++, c++11, rvalue-reference, move-semantics, return-value-optimization

我有一个返回 stl 容器的工厂函数：

```
const std::vector<int> f(...) {
    std::vector<int> retval;
    return retval;
} 
```

我想可以如下定义一个 stl 实例（没有错误）：

```
const std::vector<int> stl_instance(f(...)); 
```

但是这样做有效率吗？

临时stl对象是否直接分配给`stl_instance`？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-01-10T10:39:17.907

返回 const rvalue 是 C++11 中的反模式。首先考虑返回非常量右值：

```
std::vector<int> f(int n) 
{ 
    return std::vector<int>(n); 
}

int main() 
{ 
    std::vector<int> v; 
    v = f(3); 
} 
```

在 C++98/03 中，此代码将至少两次进入堆：

1.  在 f 内创建向量（如果适用 RVO）
2.  将 f 的收益分配给 v。

如果您的编译器不应用 RVO，您将获得 3 个堆分配。

在 C++11 中，您只能获得 1 个堆分配：在`f`. 无论 RVO 如何，都会发生这种情况。原因是所有 STL 容器都有移动构造函数和移动赋值运算符，它们具有签名

```
vector( vector&& other );
vector& operator=( vector&& other ); 
```

右值引用`&&`会将资源从您的创建函数内部直接移动到它们的目的地。但是，您的代码具有签名

```
const std::vector<int> f(int n) 
{ 
    return std::vector<int>(n); 
} 
```

将禁用移动语义，因为 T&&（即移动构造函数和赋值运算符的参数）不会绑定到 const 右值参数（即函数的返回值）。这有效地使您的代码在 C++98/03 下运行（即具有 2 或 3 个堆分配）。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-10T04:52:45.723

这是罚款和合法的代码。编译器将通过复制省略
来处理必要的优化（*如果可以的话）。*

临时`f(...)`保证至少在表达式结束之前存在。请注意，表达式在 return from 之后结束`stl_instance(f(...))`，准确地说是`;`（*在 call 结束时的分号*）。所以它是完全有效的。

**C++03 标准§12.2/3：**

> 临时对象被销毁作为评估完整表达式（1.9）的最后一步，该完整表达式（在词法上）包含它们被创建的点。

# bash - 如何查找str（grep）多个字符串？

> ID：14251012
> 
> 赞同：0
> 
> 时间：2013-01-10T04:50:57.797
> 
> 标签：bash, shell, batch-file

下面是我使用的日志示例，我想将其中的一部分提取到另一个 txt 以进行报告和版本检查。我在分离其中的信息时遇到问题。

```
gdb-7.2-56.el6.x86_64
khmeros-base-fonts-5.0-9.el6.noarch
gdbas-7.2-16.33.el6.noarch
libXfixes-4.0.4-1.el6.x86_64
gdb-7.2-16.33.el6.noarch
abrt-gui-2.0.8-6.el6.x86_64
info-4.13a-8.el6.x86_64
gdb-7.2-56.el5.x86_64
gnome-terminal-2.31.3-7.el6.x86_64
gdb-7.2-16.33.2.el6.x86_64 
```

这是我的字符串；我想用

```
gdb   el6    x86_64 
```

到`grep`行：

```
gdb-7.2-56.el6.x86_64
gdb-7.2-16.33.2.el6.x86_64 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-01-10T04:52:42.757

单程：

```
$ grep 'gdb.*el6.*x86_64' file
gdb-7.2-56.el6.x86_64
gdb-7.2-16.33.2.el6.x86_64 
```

# javascript - 在 HTML 文本/链接上实现“了解更多”气球

> ID：14251014
> 
> 赞同：1
> 
> 时间：2013-01-10T04:51:19.390
> 
> 标签：javascript, jquery, html

让用户将鼠标悬停在链接/标签/文本上并快速了解更多气球弹出的最佳方式是什么，其中包含有关该项目的信息。HTML5有什么原生的吗？我浏览了 w3schools 和网络上的其他一些资源，但找不到任何有用的东西。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-10T04:58:30.710

您不需要 html5 来帮助悬停气泡。你也不需要javascript。只需使用 CSS： [http ://csstooltip.com/](http://csstooltip.com/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-10T04:54:38.717

对于简短的文本，设置 dom 节点的 'title' 属性适用于大多数浏览器。

如果你想要更复杂的内容，比如 html 格式的内容，qtip2 - [http://craigsworks.com/projects/qtip2/](http://craigsworks.com/projects/qtip2/)是一个不错的 jQuery 插件。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-10T05:05:53.973

您可以在 twitter bootstrap中尝试[popover 。](http://twitter.github.com/bootstrap/javascript.html#popovers)

# ios - UIScrollView 不尊重动态子视图位置

> ID：14251022
> 
> 赞同：1
> 
> 时间：2013-01-10T04:51:55.457
> 
> 标签：ios, interface-builder, xcode4.5

# 编辑：2013 年 1 月 12 日

[重复（已回答）问题](https://stackoverflow.com/questions/14223931/change-uitableview-height-dynamically)。[演示项目](https://github.com/TheOnlyRew/StackOverflowScrollViewQuestion)的源代码已更新以反映。
我很想将这个问题标记为已关闭，并提供一个适当的“复制”链接，但我两者都没有声誉。我是个多么可悲的小人...

* * *

**免责声明**：这是一个可能过于复杂的观点，我正在研究可能被误导的意图。我非常愿意接受这样的可能性，即我错过了完成这项工作所需的一些关键信息/诀窍，试图做一些 iOS 根本不会做的事情，或者我做错了。如果是这种情况，我会很*乐意*接受一个让我信服的答案，或者只是把一本文档/厚重的书扔在我的头上，上面有我可能会去 RTFM 的页码。

## 一般问题

对于较大应用程序中的一个视图，我试图向用户呈现一个包含四个主要元素的垂直滚动屏幕。从上到下列出，它们如下；一些关于事物的一般信息（一个 UITextView）、一个相关的 Stuff 列表（一个 UITableView，因为每个都代表实际应用程序中的一个潜在的 segue）、一些更多信息（在示例中是一个 UILabel）和一个可操作的按钮（一个按钮）。TableView 中相关 Stuff 的单元格数量取决于所呈现的事物是什么。所以我想出了一种方法来调整 tableView 的大小并相应地移动 UILabel 和 UIButton （详细如下，在`viewDidAppear:`）。这一切都很好，花花公子，滚动并让我开心，但是当我按下按钮时，它跳回到它在 Interface Builder 视图中占据的位置，完全无视我对其框架的编程更改。

## 问题

为什么？
可以修复（如果可以，如何修复）？
有不同的和/或更好的方法吗？

我想发布一些图片来展示到底发生了什么，但我没有声誉，所以有一个演示项目的完整来源（见上文）。随意摆弄代码，看看发生了什么。

## 所有细节

（请随意跳过这些）
我在 Interface Builder（和代码中）中整理的屏幕组织如下：

```
View Controller -- Doing what it does.
* UIView -- Used to set a static background.
  * UIScrollView -- Sized to the parent view, used for scrolling
    * UIView -- Width equal to ScrollView, height is arbitrarily large (1200 in my project)
                We shall call him "subScrollView"
      * Content
      * More Content 
```

我必须在我的 ViewController 的`viewDidAppear:`方法中执行内容视图的大小/位置更改，因为尽快进行更改不会使其通过实际呈现的视图。
我需要（或只是拥有？）subScrollView 的原因是，如果我所有的内容视图都是 ScrollView 的子视图，那么只要发生滚动，就会出现上述问题——例如，视图出现、表格调整大小、按钮移动，然后用户滚动场景，表格恢复到在 Interface Builder 中给定的大小，按钮移回其原始位置。

这是我用来调整内容视图的代码：

**为什么EvenViewController.h**

```
@interface whyEvenViewController : UIViewController <UITableViewDataSource, UITableViewDelegate>

@property (weak, nonatomic) IBOutlet UIScrollView *scrollView;

@property (weak, nonatomic) IBOutlet UITableView *tableView;
@property (weak, nonatomic) IBOutlet UILabel *wasteMoreSpaceLabel;
@property (weak, nonatomic) IBOutlet UIButton *aButton;

@property (nonatomic) NSInteger tableViewRowCount;

@end 
```

**为什么EvenViewController.m**

```
- (void)viewDidAppear:(BOOL)animated
{
    // Here's where we resize and move everything. If we attempt to make these
    // changes before this (e.g. in viewDidLoad, viewWillAppear:, or even
    // viewDidLayoutSubviews) they get changed back before this view transitions
    // onto the screen, be it from a Navigation Bar push, or opening the app.

    [super viewDidAppear:animated];

    // Get used to this guy. He's going to be helping us resize frames.
    CGRect newFrame;

    // Set the tableView's frame height to the height of its contentSize which
    // so the entire table (no mater how large it is) is visible.
    newFrame = self.tableView.frame;
    newFrame.size.height = self.tableView.contentSize.height;
    self.tableView.frame = newFrame;

    // Move the wasteMoreSpaceLabel to just below the tableView
    newFrame = self.wasteMoreSpaceLabel.frame;
    newFrame.origin.y = self.tableView.frame.origin.y + self.tableView.frame.size.height - 20;
    self.wasteMoreSpaceLabel.frame = newFrame;

    // Move aButton to just below the wasteMoreSpaceLabel
    newFrame = self.aButton.frame;
    newFrame.origin.y = self.wasteMoreSpaceLabel.frame.origin.y + self.wasteMoreSpaceLabel.frame.size.height + 8;
    self.aButton.frame = newFrame;

    // Set the size of the scroll view such that it ends 20 points below aButton.
    CGSize newSize = self.scrollView.contentSize;
    newSize.height = self.aButton.frame.origin.y + self.aButton.frame.size.height + 20;
    self.scrollView.contentSize = newSize;
} 
```

感谢您爬下这堵文字墙，感谢您的时间。

# php - Magento 中各州的销售报告

> ID：14251029
> 
> 赞同：1
> 
> 时间：2013-01-10T04:52:29.947
> 
> 标签：php, mysql, zend-framework, magento

我需要从订单状态名称（CA/NY）、总额、运输、状态、折扣、净总额中获取这些数据

我想选择开始日期和结束日期。如果有人可以提供查询就足够了。

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-10T06:21:40.717

[MySQL 查询“按国家和州/省划分的销售报告”](https://stackoverflow.com/questions/3105664/mysql-query-for-sales-report-by-country-and-state-province)

[在上面的链接中查看Justin Giboney](https://stackoverflow.com/users/133935/justin-giboney)提供的答案，你会得到一个提示

# javascript - 为什么我必须使用 this.canvas？

> ID：14251031
> 
> 赞同：0
> 
> 时间：2013-01-10T04:52:43.067
> 
> 标签：javascript, html, html5-canvas

> **可能重复：**
> [Javascript：我是否需要为对象中的每个变量放置 this.var？](https://stackoverflow.com/questions/13418669/javascript-do-i-need-to-put-this-var-for-every-variable-in-an-object)

我遇到了以下代码的问题：

```
var BuildMiniMap = function(camera, mapSize, width){

    this.camera = camera;
    this.canvas = document.getElementById('gameCanvas');
    this.mapSize = mapSize;
    this.width = width;
    this.height = Math.floor(mapSize[1]/(mapSize[0]/width));

    alert(canvas);
}

var miniMap = new BuildMiniMap(camera, [800, 600], 200); 
```

在网页中运行会导致控制台报错：

```
Uncaught ReferenceError: canvas is not defined 
```

我必须`this.canvas`改用。这仅发生在`canvas`财产上，而不会发生在任何其他财产上。有谁知道原因并能给出解释吗？谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-10T04:58:10.480

其他三个属性`camera`和都定义为函数参数，因此在函数范围内可用 `mapSize`。不是函数参数，也没有在函数内部定义，因此它不存在于范围内。`width``canvas`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-10T04:58:13.093

您需要区分变量和属性。您的构造函数中只有三个 [local]*变量*，即参数`camera`、`mapSize`和`width`。

`canvas`等`height`是您的实例的*属性*，您可以使用[`this`关键字](https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Operators/this)为其分配一些值。

# django - 如何使用 GAE 处理 django 应用程序中的连接？

> ID：14251034
> 
> 赞同：0
> 
> 时间：2013-01-10T04:53:14.253
> 
> 标签：django, google-app-engine, model, google-cloud-datastore

在我的 django 应用程序中，我基本上加入了（“__”）。如果我要使用 Google App Engine，我的应用程序在这种情况下将如何工作？根据我的阅读，Bigtable 不允许这样做。关于如何使用这个的任何建议？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-10T09:07:43.387

简单的回答：不会。

无论如何，您可能会使用 django-nonrel。对此的扩展，django-dbindexer，为模拟某些连接提供了一些支持。但它远非全面。您通常需要以不同的方式构建应用程序以使用 GAE 数据存储。

# google-app-engine - 没有身份验证的 Google App Engine

> ID：14251035
> 
> 赞同：2
> 
> 时间：2013-01-10T04:53:15.070
> 
> 标签：google-app-engine

如何在谷歌应用程序上设置没有身份验证的应用程序。

我构建并部署了它，但现在如果有人访问 myapp.appspot.com，他们会被要求登录到我的谷歌应用程序帐户？

我如何让它“公开”？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-10T06:30:23.513

假设你正在使用 python ...

您要么需要登录 app.yaml 中的配置：https://developers.google.com/appengine/docs/python/config/appconfig#Requiring_Login_or_Administrator_Status

和/或在您的应用程序代码中。在 python 中，它将是 @login_required 装饰器。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-10T08:04:37.633

您必须在 app.yaml 或 Web 处理程序中指定访问权限，请 [参阅此处的链接](https://developers.google.com/appengine/docs/python/config/appconfig)

默认为“公开”

# twitter-bootstrap - 可以为 Liferay 主题创建垂直菜单吗？

> ID：14251036
> 
> 赞同：2
> 
> 时间：2013-01-10T04:53:40.870
> 
> 标签：twitter-bootstrap, liferay

我开始学习 Liferay 主题。
我看到很多主题，但每个主题都有一个水平菜单，就像经典主题一样。
但我想要一个垂直菜单。是否可以使用引导程序来做到这一点？
或者 Liferay 只能使用水平菜单？
如果可能的话，我在哪里可以读到这个？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-10T07:04:48.900

Liferay 主题是使用velocity 或freemarker 模板定义的。
您可以通过修改这些模板在页面中定义垂直菜单。
您可以查看`navigation.vm`(of unstyled-theme) 包含显示页面导航菜单的 html 代码。

您还可以查看[`portal_normal.vm`](https://github.com/liferay/liferay-portal/blob/6.1.x/portal-web/docroot/html/themes/_unstyled/templates/portal_normal.vm "来自 github 的源代码：portal_normal.vm")实际包含[`navigation.vm`](https://github.com/liferay/liferay-portal/blob/6.1.x/portal-web/docroot/html/themes/_unstyled/templates/navigation.vm "来自github的源代码：navigation.vm")和所有其他必要的文件`CSS`。`JS`

默认情况下，liferay 使用水平导航，但通过主题对 CSS 进行足够的更改，您可以实现垂直菜单。

其他选项是：

1.  创建一个没有顶部菜单的主题
2.  创建一个带有侧栏的页面。
3.  在您的列上添加“导航 portlet”

# python - Python rsync 脚本目录名称镜像

> ID：14251037
> 
> 赞同：1
> 
> 时间：2013-01-10T04:53:46.550
> 
> 标签：python, linux, rsync

我有一个脚本，用于使用 rsync 将文件推送回我的家用 PC。成功推送的文件名被添加到 sqlite 数据库中，因此它们不会再次被推送（因为我只想要 1 路镜像）。无论如何，我遇到的问题是，虽然脚本递归地沿着源路径向下并基于定义的扩展名推送文件，但文件沿着相同的目标根目录向下传递。

我想要的是使目标文件夹结构与源文件夹结构相同。

我想我必须在 destDir 路径中添加一些东西，但不确定是什么：

```
for root, dirs, files in os.walk(sourceDir):
   for file in files:
     //If some filtering criteria
     print("Syncing new file: "+file)
     cmd=["rsync"]
     cmd.append(os.path.join(root, file))
     cmd.append(destDir+ "/")
     p=subprocess.Popen(cmd,shell=False)
 if p.wait()==0:
  rememberFile(file) 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-10T10:07:45.830

我认为你应该尽可能地依赖`rsync`for this 的特性，而不是试图在 Python 中重新实现它。`rsync`已经过广泛测试并且功能齐全。他们已经修复了您遇到的所有错误。例如，在您的原始代码片段中，您需要重建文件的完整路径（而不仅仅是文件名）并将其添加到您的`destDir`.

但在继续调试之前，请考虑这个替代方案。为什么不将您推送的所有文件保存在纯文本文件中，而不是 sql db？假设它被称为`exclude_list.txt`. 那么你的单行 rsync 命令是：

```
rsync -r --exclude-from 'exclude_list.txt' src dst 
```

该`-r`开关将使其自动遍历文件树。有关此语法的更多详细信息，请参阅[此页面上的主题 #6 。](http://www.thegeekstuff.com/2011/01/rsync-exclude-files-and-folders/)

现在您只需要您的 Python 脚本来维护`exclude_list.txt`. 我可以想到两个选择：

*   `rsync`使用选项捕获的输出`-v`以列出已移动的文件名、解析它们并附加到`exclude_list.txt`. 我认为这是最优雅的解决方案。您可能只需几行就可以完成。
*   使用您已经必须遍历树并将所有文件添加到的脚本`exclude_list.txt`，但删除所有单独的`rsync`调用。然后在最后调用`rsync`一次，如上。

# c++ - C++ 中的调试宏

> ID：14251038
> 
> 赞同：75
> 
> 时间：2013-01-10T04:53:52.557
> 
> 标签：c++, c, debugging, c-preprocessor

我刚刚在 C 中遇到了一个我非常喜欢的 DEBUG 宏

```
#ifdef DEBUG_BUILD
#  define DEBUG(x) fprintf(stderr, x)
#else
#  define DEBUG(x) do {} while (0)
#endif 
```

我猜 C++ 类似物是：-

```
#ifdef DEBUG_BUILD
#  define DEBUG(x) cerr << x
#else
#  define DEBUG(x) do {} while (0)
#endif 
```

1.  第二个代码片段是否类似于 C 中的代码片段？
2.  你有最喜欢的 C++ 调试宏吗？

编辑：“调试宏”是指“在调试模式下运行程序时可能派上用场的宏”。

* * *

## 回答 #1

> 赞同：51
> 
> 时间：2013-01-10T10:56:47.287

# 第二个代码片段是否类似于 C 中的代码片段？

或多或少。它更强大，因为您可以`<<`在参数中包含 - 分隔值，因此使用单个参数您会得到需要 C 中可变数量的宏参数的东西。另一方面，人们滥用的可能性很小它通过在参数中包含一个分号。甚至会因为调用后忘记分号而遇到错误。所以我会把它包含在一个 do 块中：

```
#define DEBUG(x) do { std::cerr << x; } while (0) 
```

# 你有最喜欢的 C++ 调试宏吗？

我喜欢上面的那个并且经常使用它。我的无操作通常只是阅读

```
#define DEBUG(x) 
```

这对于优化编译器具有相同的效果。尽管下面@Tony D 的评论是正确的：这可能会导致一些语法错误未被检测到。

我有时也包括运行时检查，从而提供某种形式的调试标志。正如@Tony D 提醒我的那样，里面有一个 endl 通常也很有用。

```
#define DEBUG(x) do { \
  if (debugging_enabled) { std::cerr << x << std::endl; } \
} while (0) 
```

有时我还想打印表达式：

```
#define DEBUG2(x) do { std::cerr << #x << ": " << x << std::endl; } while (0) 
```

在某些宏中，我喜欢包含`__FILE__`, `__LINE__`or `__func__`，但这些通常是断言而不是简单的调试宏。

* * *

## 回答 #2

> 赞同：40
> 
> 时间：2013-01-10T05:18:30.767

这是我最喜欢的

```
#ifdef DEBUG 
#define D(x) x
#else 
#define D(x)
#endif 
```

它非常方便，并且可以生成干净的（重要的是，在发布模式下快速！！）代码。

到处都是很多`#ifdef DEBUG_BUILD`块（过滤掉与调试相关的代码块）非常难看，但当你用`D()`.

如何使用：

```
D(cerr << "oopsie";) 
```

如果这对你来说仍然太丑/奇怪/太长，

```
#ifdef DEBUG
#define DEBUG_STDERR(x) (std::cerr << (x))
#define DEBUG_STDOUT(x) (std::cout << (x))
//... etc
#else 
#define DEBUG_STDERR(x)
#define DEBUG_STDOUT(x)
//... etc
#endif 
```

（我[建议](https://stackoverflow.com/questions/1452721/why-is-using-namespace-std-considered-a-bad-practice-in-c)不要使用，`using namespace std;`虽然可能`using std::cout; using std::cerr;`是个好主意）

请注意，当您考虑“调试”时，您可能想做的**不仅仅是打印到 stderr。**发挥创造力，您可以构建能够深入了解程序中最复杂交互的结构，同时允许您快速切换到构建不受调试工具影响的超高效版本。

例如，在我最近的一个项目中，我有一个巨大的仅调试块，它开始`FILE* file = fopen("debug_graph.dot");`并继续以点格式转储一个与[graphviz](http://www.graphviz.org/)兼容的图，以可视化我的数据结构中的大树。更酷的是 OS X graphviz 客户端会在文件发生变化时自动从磁盘读取文件，因此只要程序运行，图形就会刷新！

我还特别喜欢使用仅调试成员和函数来“扩展”类/结构。这开启了实现功能和状态的可能性，这些功能和状态可以帮助您跟踪错误，就像调试宏中包含的所有其他内容一样，通过切换构建参数来删除。一个庞大的例程，在每次状态更新时都煞费苦心地检查每个角落案例？不是问题。拍拍`D()`它。一旦你看到它工作，`-DDEBUG`从构建脚本中删除，即为发布而构建，它就消失了，随时可以重新启用你的单元测试或你有什么。

一个大的，有点完整的例子，来说明（可能有点过分热心）这个概念的使用：

```
#ifdef DEBUG
#  define D(x) x
#else
#  define D(x)
#endif // DEBUG

#ifdef UNITTEST
#  include <UnitTest++/UnitTest++.h>
#  define U(x) x // same concept as D(x) macro.
#  define N(x)
#else
#  define U(x)
#  define N(x) x // N(x) macro performs the opposite of U(x)
#endif

struct Component; // fwd decls
typedef std::list<Component> compList;

// represents a node in the graph. Components group GNs
// into manageable chunks (which turn into matrices which is why we want
// graph component partitioning: to minimize matrix size)
struct GraphNode {
    U(Component* comp;) // this guy only exists in unit test build
    std::vector<int> adj; // neighbor list: These are indices
    // into the node_list buffer (used to be GN*)
    uint64_t h_i; // heap index value
    U(int helper;) // dangling variable for search algo to use (comp node idx)
    // todo: use a more space-efficient neighbor container?
    U(GraphNode(uint64_t i, Component* c, int first_edge):)
    N(GraphNode(uint64_t i, int first_edge):)
        h_i(i) {
        U(comp = c;)
        U(helper = -1;)
        adj.push_back(first_edge);
    }
    U(GraphNode(uint64_t i, Component* c):)
    N(GraphNode(uint64_t i):)
        h_i(i)
    {
        U(comp=c;)
        U(helper=-1;)
    }
    inline void add(int n) {
        adj.push_back(n);
    }
};

// A component is a ugraph component which represents a set of rows that
// can potentially be assembled into one wall.
struct Component {
#ifdef UNITTEST // is an actual real struct only when testing
    int one_node; // any node! idx in node_list (used to be GN*)
    Component* actual_component;
    compList::iterator graph_components_iterator_for_myself; // must be init'd
    // actual component refers to how merging causes a tree of comps to be
    // made. This allows the determination of which component a particular
    // given node belongs to a log-time operation rather than a linear one.

    D(int count;) // how many nodes I (should) have

    Component(): one_node(-1), actual_component(NULL) {
        D(count = 0;)
    }
#endif
};

#ifdef DEBUG
// a global pointer to the node list that makes it a little
// easier to reference it
std::vector<GraphNode> *node_list_ptr;

#  ifdef UNITTEST
std::ostream& operator<<(std::ostream& os, const Component& c) {
    os << "<s=" << c.count << ": 1_n=" << node_list_ptr->at(c.one_node).h_i;
    if (c.actual_component) {
        os << " ref=[" << *c.actual_component << "]";
    }
    os << ">";
    return os;
}
#  endif
#endif 
```

请注意，对于大块代码，我只使用常规块`#ifdef`条件，因为这在一定程度上提高了可读性，而对于大块，使用极短的宏更是一个障碍！

宏必须存在的原因是指定*禁用*单元测试时`N(x)`要*添加*的内容。

 *在这部分：

```
U(GraphNode(uint64_t i, Component* c, int first_edge):)
N(GraphNode(uint64_t i, int first_edge):) 
```

如果我们能说类似的话就好了

```
GraphNode(uint64_t i, U(Component* c,) int first_edge): 
```

但我们不能，因为逗号是预处理器语法的一部分。省略逗号会产生无效的 C++ 语法。

如果您在*不*编译调试时有一些额外的代码，您可以使用这种类型的相应逆调试宏。

现在这段代码可能不是“真正好的代码”的例子，但它说明了一些你可以通过巧妙地应用宏来完成的事情，如果你保持纪律，*不一定是*邪恶的。

我刚刚在想知道这些东西之后发现了[这个宝石](https://stackoverflow.com/a/1644898/340947)`do{} while(0)`，你真的也想要这些宏中的所有幻想！

希望我的示例可以提供一些洞察力，至少可以了解一些可以用来改进 C++ 代码的巧妙方法。在编写代码时检测代码确实很有价值，而不是在您不了解正在发生的事情时回来执行它。但是，您必须在使其健壮和按时完成之间取得平衡。

我喜欢将额外的调试构建健全性检查视为工具箱中的不同工具，类似于单元测试。在我看来，它们可能会更强大，因为与其将您的健全性检查逻辑放在单元测试中并将它们与实现隔离，如果它们包含在实现中并且可以随意变出，那么完整的测试就不是必需的了因为您可以在紧要关头简单地启用检查并照常运行。

* * *

## 回答 #3

> 赞同：9
> 
> 时间：2013-01-10T05:22:36.400

对于问题 1] 答案是肯定的。它只会将消息打印到标准错误流。

对于问题2]有很多。我的最爱是

`#define LOG_ERR(...) fprintf(stderr, __VA_ARGS__)`

这将允许在调试消息中包含任意数量的变量。

* * *

## 回答 #4

> 赞同：8
> 
> 时间：2013-01-10T09:26:58.610

我喜欢使用带有`__LINE__`,的宏`__FILE__`作为参数来显示打印输出*在*代码中的位置 - 在多个位置打印相同的变量名称并不少见，所以`fprintf(stderr, "x=%d", x);`如果你再添加另一个相同的十行，那就没什么意义了向下。

我还使用了覆盖某些函数并存储调用它的位置（例如内存分配）的宏，以便稍后我可以弄清楚是哪一个泄漏了。对于内存分配，这在 C++ 中有点困难，因为您倾向于使用 new/delete，并且它们不容易被替换，但是锁定/解锁操作等其他资源可以非常有用地跟踪这种方式 [当然，如果您有一个像优秀的 C++ 程序员一样使用构造/破坏的锁定包装器，您可以将其添加到构造函数中，以便在获得锁后将文件/行添加到内部结构中，并且您可以看到它在其他地方的位置你无法在某处获得它]。

* * *

## 回答 #5

> 赞同：7
> 
> 时间：2015-07-01T04:44:02.453

这是我目前使用的日志宏：

```
#ifndef DEBUG 
#define DEBUG 1 // set debug mode
#endif

#if DEBUG
#define log(...) {\
    char str[100];\
    sprintf(str, __VA_ARGS__);\
    std::cout << "[" << __FILE__ << "][" << __FUNCTION__ << "][Line " << __LINE__ << "] " << str << std::endl;\
    }
#else
#define log(...)
#endif 
```

用法：

```
log(">>> test..."); 
```

输出：

```
xxxx/proj.ios_mac/Classes/IntroScene.cpp][gotoNextScene][Line 58] >>> test... 
```

* * *

## 回答 #6

> 赞同：5
> 
> 时间：2015-06-04T13:51:07.377

…并作为所有回复的附录：

就我个人而言，我从不使用宏`DEBUG`来区分调试和发布代码，而是使用`NDEBUG`必须**为**发布版本定义的宏来消除`assert()`调用（是的，我`assert()`广泛使用）。如果后者没有定义，那么它是一个调试版本。简单的！所以，实际上没有理由再引入一个调试宏！`DEBUG`（并在`NDEBUG`两者都未定义时处理可能的情况）。

* * *

## 回答 #7

> 赞同：4
> 
> 时间：2013-09-30T15:48:36.570

这是我的版本，使用可变参数模板`print`函数：

```
template<typename... ArgTypes>
inline void print(ArgTypes... args)
{
  // trick to expand variadic argument pack without recursion
  using expand_variadic_pack = int[];
  // first zero is to prevent empty braced-init-list
  // void() is to prevent overloaded operator, messing things up
  // trick is to use the side effect of list-initializer to call a function
  // on every argument.
  // (void) is to suppress "statement has no effect" warnings
  (void)expand_variadic_pack{0, ((cout << args), void(), 0)... };
}

#ifndef MYDEBUG
#define debug_print(...)
#else
#define debug_print(...) print(__VA_ARGS__)
#endif 
```

我制作的版本是`debug_print`一个可变参数模板函数，它接受一个调试级别，允许我选择我想在运行时输出什么样的输出：

```
template<typename... ArgTypes>
inline void debug_print(debug::debug level, ArgTypes... args)
{
  if(0 != (debug::level & level))
    print(args...);
} 
```

请注意该`print`函数会导致 Visual Studio 2013 Preview 崩溃（我尚未测试 RC）。我注意到它比我以前使用`ostream`重载的子类的解决方案更快（在 Windows 上，控制台输出很慢） `operator<<`。

如果您只想调用一次真正的输出函数（或编写自己的类型安全;-)），也可以使用临时`stringstream`内部`print``printf`

* * *

## 回答 #8

> 赞同：3
> 
> 时间：2013-06-03T04:42:52.923

我使用下面的代码进行日志记录。有几个优点：

1.  我可以在运行时打开/关闭它们。
2.  我可以编译出特定日志级别的语句。例如，目前，我在`KIMI_PRIVATE`宏中无条件编译，因为我正在调试发布版本中的某些内容，但由于记录了很多潜在的秘密酱料（大声笑），我从发布版本中编译它。

多年来，这种模式对我很有帮助。注意：虽然有一个全局`logMessage`函数，但代码通常会将日志排队到日志线程。

```
#define KIMI_LOG_INTERNAL(level,EXPR)           \
  if(kimi::Logger::loggingEnabled(level))       \
  {                                             \
    std::ostringstream os;                      \
    os << EXPR;                                 \
    kimi::Logger::logMessage(level ,os.str());  \
  }                                             \
  else (void) 0

#define KIMI_LOG(THELEVEL,EXPR)                 \
  KIMI_LOG_INTERNAL(kimi::Logger::LEVEL_ ## THELEVEL,EXPR)

#define KIMI_ERROR(EXPR)   KIMI_LOG(ERROR,EXPR)
#define KIMI_VERBOSE(EXPR) KIMI_LOG(VERBOSE,EXPR)
#define KIMI_TRACE(EXPR)   KIMI_LOG(TRACE,EXPR)
#define KIMI_INFO(EXPR)    KIMI_LOG(INFO,EXPR)
#define KIMI_PROFILE(EXPR) KIMI_LOG(TRACE,EXPR)

// Use KIMI_PRIVATE for sensitive tracing
//#if defined(_DEBUG)
#  define KIMI_PRIVATE(EXPR) KIMI_LOG(PRIVATE,EXPR)
// #else
// #  define KIMI_PRIVATE(EXPR) (void)0
// #endif 
```

* * *

## 回答 #9

> 赞同：2
> 
> 时间：2017-02-01T14:54:39.683

我使用以下微，

```
#if DEBUG
#define LOGE2(x,y) std::cout << "ERRO : " << "[" << __FILE__ << "][" << __FUNCTION__ << "][Line " << __LINE__ << "] " << x <<":"<< y <<std::endl;
#define LOGI2(x,y) std::cout << "INFO : " << "[" << __FILE__ << "][" << __FUNCTION__ << "][Line " << __LINE__ << "] " << x <<":"<< y << std::endl;
#define LOGD2(x,y) std::cout << "DEBG : " << "[" << __FILE__ << "][" << __FUNCTION__ << "][Line " << __LINE__ << "] " << x <<":"<< y << std::endl;
#define LOGE(x) std::cout << "ERRO : " << "[" << __FILE__ << "][" << __FUNCTION__ << "][Line " << __LINE__ << "] " << x << std::endl;
#define LOGI(x) std::cout << "INFO : " << "[" << __FILE__ << "][" << __FUNCTION__ << "][Line " << __LINE__ << "] " << x << std::endl;
#define LOGD(x) std::cout << "DEBG : " << "[" << __FILE__ << "][" << __FUNCTION__ << "][Line " << __LINE__ << "] " << x << std::endl;
#else
#define LOGE2(x,y) NULL
#define LOGI2(x,y) NULL
#define LOGD2(x,y) NULL
#define LOGE(x) NULL
#define LOGI(x) NULL
#define LOGD(x) NULL
#endif 
```

采用：

```
LOGE("ERROR.");
LOGE2("ERROR1","ERROR2"); 
```

* * *

## 回答 #10

> 赞同：0
> 
> 时间：2021-12-07T18:23:51.027

从其他答案中可以清楚地看出，有很多。有一个我喜欢的，它既允许可变数量的参数，打印参数的名称，并且包括换行符。

```
void debug_print() { std::cerr << std::endl; }
template <typename Head, typename... Tail>
void debug_print(Head H, Tail... T) {
    std::cerr << ' ' << H;
    debug_print(T...);
}

#ifdef DEBUGFLAG
#  define DEBUG(...) std::cerr << "dbg  (" << #__VA_ARGS__ << "):", \
                     debug_print(__VA_ARGS__)
#else
#  define DEBUG(...) do {} while(0)
#endif 
```

大部分解释都与[此答案](https://stackoverflow.com/a/14256296/1141805)相同，但我发现当我想在一行上调试打印多个变量而没有不同的宏时，额外的模板可以简化它。*

# javascript - 使用 jQuery 查找 IP 地址

> ID：14251041
> 
> 赞同：2
> 
> 时间：2013-01-10T04:54:04.160
> 
> 标签：javascript, jquery

我尝试使用以下代码获取我的 IP：

```
$.getJSON("http://jsonip.appspot.com?callback=?", function(data){ip=data.ip}); 
```

但这似乎对我不起作用。请帮忙。

提前致谢。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-01-10T20:35:26.463

您可以使用此站点通过 JSON 获取您的 IP。

[http://jsonip.com](http://jsonip.com)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-10T05:48:44.647

您需要向后端 Web 服务器发送 ajax 请求，并使用服务器返回的请求客户端的 ip 响应 ajax 请求。代码将根据您的 Web 应用程序的语言而改变。

> JavaScript 本身无法读取本地计算机的 IP 地址，因此 JavaScript 要获取该信息，我们需要使用不同的语言来获取该信息。

服务器端代码选项的几个片段

**在 JSP 中**

```
ip = '<%=request.getRemoteAddr()%>'; 
```

**在 PHP 中**

```
ip = "<?php echo $_SERVER['REMOTE_ADDR']?>"; 
```

**在 ASP**

```
ip = '<%= Request.ServerVariables("REMOTE_ADDR")%>'; 
```

**在 ASP.NET 中**

```
ip = '<%= Request.UserHostAddress>'; 
```

**在冷聚变中**

```
ip = '<cfoutput>#cgi.remote_addr#</cfoutput>'; 
```

参考：[获取访问者的 IP 地址](http://javascript.about.com/library/blip.htm)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-10T05:18:06.423

```
<script type="application/javascript">
function getip(json){
  alert(json.ip); // alerts the ip address
} 
```

```
<script type="application/javascript" src="http://jsonip.appspot.com/?callback=getip"></script> 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2014-03-11T06:33:45.820

使用 jQuery 获取您的 IP

一行JS就可以得到你的公网IP地址？有一项免费服务可以为您提供此功能，您只需要一个获取请求即可：

```
 $.get('http://jsonip.com/', function(r){ console.log(r.ip); }); 
```

要使上述代码段正常工作，您的浏览器必须支持 CORS（跨域请求共享）。否则会抛出安全异常。在旧浏览器中，您可以使用此版本，它使用 JSON-P 请求：

```
 $.getJSON('http://jsonip.com/?callback=?', function(r){ console.log(r.ip); }); 
```

# tfs - 在带有网站 + Windows 服务的 TFS 构建上使用 Octopack

> ID：14251051
> 
> 赞同：1
> 
> 时间：2013-01-10T04:55:33.740
> 
> 标签：tfs, tfsbuild, octopus-deploy

我在单个 Visual Studio 解决方案中有一个网站、一个 Windows 服务和一些共享类库。我在网站和 Windows 服务上都使用 Octopack，在我的机器上，这些构建按预期工作。

使用 TFS Build Server 时，网站 nuget 包按预期生成，但 windows 服务 nuget 包包含来自网站的所有文件，以及服务。例如，它还包括 _PublishedWebsites 文件夹。

这是因为 TFS 使用单个位置来构建项目。

解决这个问题的最佳方法是什么？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-26T19:25:45.243

我知道这个问题已经被关闭，但我遇到了这个问题并以不同的方式解决了它。

我的解决方案受到许多网站和 Windows 服务的影响，并且在使用 Team Build 构建时，OctoPack 创建的 nuget 包包括来自“池”输出文件夹的所有解决方案程序集的相同问题。nuget 包获取所有程序集的原因是 OctoPack 使用 outdir msbuild 参数作为包含程序集的位置。

我解决它的方法是使用 msbuild 参数`GenerateProjectSpecificOutputFolder=true`。这指示 Team build 为输出文件夹中的每个项目创建一个文件夹，就像 Visual Studio 在本地构建时使用每个项目下的 bin 文件夹一样。

我的构建定义 msbuild 参数如下所示： `/p:GenerateProjectSpecificOutputFolder=true;RunOctoPack=true;OctoPackPublishPackageToFileShare=\\<NugetServer>`

我目前只是将包推送到共享文件夹，但也可以使用`OctoPackPublishPackageToHttp`and参数。`OctoPackPublishApiKey`

与上述解决方案相比，此解决方案的好处是您无需指定要包含 nuget 包的文件。

希望这可以帮助某人。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-10T22:20:10.867

我最终使用这个 nuget 包来确保控制台应用程序构建到 TFS 服务器上的单独目录中。

[https://nuget.org/packages/PublishedApplications/2.1.0.0](https://nuget.org/packages/PublishedApplications/2.1.0.0)

然后我必须在 nuspec 文件中指定控制台应用程序应包含哪些文件。例如

这可行，我现在可以使用 Octopus deploy 进行部署。

这种方法的缺点是 PublishedApplications 构建仅适用于 TFS 构建服务器，因此我无法在发布模式下本地构建项目。仍在寻找如何克服这一点。

# javascript - 虽然 3 * 0.1 不能准确表示，但为什么 Javascript 可以正确计算 0.15 * 2？

> ID：14251052
> 
> 赞同：3
> 
> 时间：2013-01-10T04:55:41.617
> 
> 标签：javascript, floating-point

> **可能的重复：**
> [JavaScript 的浮点数学被破坏了吗？](https://stackoverflow.com/questions/588004/is-javascripts-floating-point-math-broken)

在 Javascript 中，

```
3 * 0.1 = 0.30000000000000004 
```

我认为这是由于语言的数字系统无法准确表示 0.3。但为什么会出现以下情况？

```
0.15 * 2 = 0.3 
```

相似地，

```
0.1 + 0.2 = 0.30000000000000004 
```

但

```
0.15 + 0.15 = 0.3 
```

怎么样？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-10T05:25:21.240

> 但为什么会出现以下情况？
> 
> 0.15 * 2 = 0.3

结果并不完全是 0.3，但它足够接近，因此当将最低有效数字四舍五入以显示该值时，它会四舍五入为 0.3。

值`0.1`和`0.15`也不准确，但表示的误差`0.1`似乎大于 for `0.15`。当您在计算中使用这些值时，误差会累积，并且迟早会变得大到无法在显示值时四舍五入。

# jquery - 点击时图像褪色

> ID：14251053
> 
> 赞同：0
> 
> 时间：2013-01-10T04:55:42.610
> 
> 标签：jquery, image, fade

HTML：

```
<img class=change src="http://{{$image_server}}/web/product/medium/{{$prod_info.image_medium}}" style='width:380px;' /> 
```

查询：

```
var images = [ "01.jpg", "02.jpg", "03.jpg" ];

$(function() {
    index = 0;
    $('.change').click(function(e) {
    var image = images[index++];
    if(index == images.length) 
       index = 0;
        $('.change').parent().fadeOut(200, function() {
            $('.change').attr('src', ''+image); 
              $(this).fadeIn(200);
        });
    });
}); 
```

我将此代码用于单击时图像淡入/淡出。但是，新图像并没有在我的系统上消失。旧图像淡出/淡入，突然出现新图像！我想知道如何顺利​​淡入新图像。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-10T05:10:21.537

像这样试试

增加你的淡入时间来得到你想要的东西

```
$(function() {
index = 0;
$('.change').click(function(e) {
var image = images[index];
index++;
if(index == images.length) 
   index = 0;
    $('.change').parent().fadeOut(200, function() {
        $('.change').attr('src', image); 
          $(this).fadeIn(800);
    });
});
}); 
```

[看演示](http://jsfiddle.net/Dineshkani/K9sHd/1/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-10T05:10:23.757

使用`.on()`,

```
$(document).on('click', '.change', function () { 
}); 
```

# ember.js - 如何访问控制器中每个块的当前项目以获取视图

> ID：14251058
> 
> 赞同：1
> 
> 时间：2013-01-10T04:55:56.470
> 
> 标签：ember.js

给定这个控制器：

```
ItemController= Ember.Controller.extend({
    subItems: Ember.ArrayController.create({
        content: App.store.find(App.models.SubItem),
        sortProperties: ['name']
    }),

    currentItemIdBinding: 'App.router.mainController.currentItemId',

    item: function() {
        return App.store.find(App.models.SubItem, this.get('currentItemId'));
    }.property('currentItemId'),

    currentSubItems: function () {
        return this.get('subItems.content')
                   .filterProperty('item_id', this.get('item.id'));
    }.property('item', 'subItems.@each')
}); 
```

模板中的每个块：

```
{{#each subItem in currentSubItems}}
    {{view App.SubItemView}}
{{/each}} 
```

我将如何获得对 SubItemView 控制器中的“subItem”的访问权限？

**编辑：**

我偶然发现了一种方法来做到这一点。如果我稍微更改每个块：

```
{{#each subItem in currentSubItems}}
    {{view App.SubItemView subItemBinding="subItem"}}
{{/each}} 
```

并向 SubItemView 类添加一个 init 方法：

```
init: function() {
    this._super();
    this.set('controller', App.SubItemController.create({
        subItem: this.get('subItem')
    }));
}) 
```

我可以访问控制器中的 subItem。然而，这只是在我数不清的层面上感觉不对。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-11T22:08:54.963

如何使用`Ember.CollectionView`而不是`{{each}}`助手，请参阅以下内容：

```
App.SubItemsView = Ember.CollectionView.extend({
  contentBinding: "controller.currentSubItems",
  itemViewClass: Ember.View.extend({
    templateName: "theTemplateYouUsedForSubItemViewInYourQuestion",
    controller: function(){
      App.SubItemController.create({subItem: this.get("content")});
    }.property()
  })
}) 
```

如下在车把中使用

```
{{collection App.SubItemsView}} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-10T12:31:33.167

有趣...在浏览[ember.js](/questions/tagged/ember.js "显示标记为“ember.js”的问题")时，我发现了这个：[https](https://stackoverflow.com/a/14251255/489116) ://stackoverflow.com/a/14251255/489116 。这与您所要求的略有不同，但可能会解决问题：如果我没看错，它会自动将 subItemController 与每个 subItemView 和 subItem 关联，而无需您传递模型。虽然还没有发布。我仍然希望看到其他解决方案！

# php - jQuery：向另一个 div 添加和删除内容

> ID：14251060
> 
> 赞同：0
> 
> 时间：2013-01-10T04:56:19.350
> 
> 标签：php, jquery

是否有任何可用的 jQuery 和 PHP 教程具有以下功能：

1.  将内容从一个选项卡添加或删除到另一个选项卡。
2.  将它们保存在会话中。

请看看[这个网站](http://myfav.es/settings/sites/#/all-sites/)。

寻找相同的功能。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-10T05:08:02.150

[使用该插件的会话插件](https://github.com/AlexChittock/JQuery-Session-Plugin) ，您可以将值保存到会话中

```
// To Store
$(function() {
    $.session.set("myVar", "value");
});

// To Read
$(function() {
    alert($.session.get("myVar"));
}); 
```

并且使用普通的 jQuery 你可以添加和删除将像

添加

```
$("#orherdiv").html($('#someotherdiv).html()); 
```

和 Reomve

```
 $("#orherdiv").html(''); 
```

# web-services - 使用 CXF、Spring 和 JAX-WS 的契约优先 Web 服务

> ID：14251067
> 
> 赞同：4
> 
> 时间：2013-01-10T04:57:24.817
> 
> 标签：web-services, spring, maven, jax-ws, cxf

我目前正在考虑重新开发当前用 .Net 编写的 Web 服务。我想使用 CXF、Spring、Hibernate 和 Maven 堆栈将它移植到 Java。

该服务的 WSDL 已经可用并且格式良好，因此我想重用而不是重新开发接口。这也意味着客户无需进行重大更改即可使用新服务。

我想使用 JAX-WS 类型的方法来开发 Web 服务，类似于[http://cxf.apache.org/docs/writing-a-service-with-spring.html](http://cxf.apache.org/docs/writing-a-service-with-spring.html)上的 Java-first 方法。唯一的区别是我想遵循契约优先的方法并确保使用准确的 WSDL。

有没有人尝试过这个？网上有什么好的指南可以参考吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-10T21:30:38.880

在您的问题中，我实际上没有看到是什么阻止您使用 WSDL 优先方法开发它。

[在这里](https://stackoverflow.com/questions/14252249/cxf-jaxws-wsdl2java-bottomup-approach/14267539#14267539)查看我的答案，以获取您需要的教程。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-10T09:26:06.190

我想它非常简单（WS 堆栈部分） 1.使用 WSDL（合同）创建实现存根 2.使用 WSDL 创建客户端 * 使用您自己的逻辑和语法实现方法 CXF 支持 1&2。

[这里](http://naveenbalani.com/index.php/2010/11/creating-contract-first-web-services-using-jax-ws-stack/)有很好的指南

[在](http://www.liquid-reality.de/display/liquid/2008/08/20/Defining+Contract+first+webservices+by+generating+wsdl+from+java)这里

# javascript - Internet Explorer 8 Jquery 下拉问题

> ID：14251074
> 
> 赞同：0
> 
> 时间：2013-01-10T04:58:07.203
> 
> 标签：javascript, drop-down-menu, internet-explorer-8, prototypejs

我在我的网站上使用 jquery 下拉菜单。该网站在除 IE8 之外的所有浏览器上都能完美运行，在该浏览器上出现错误，因此无法加载下拉菜单。我不太确定其他版本的 IE 是否有同样的问题。

以下是我在 IE 上收到的错误消息：网页错误详细信息

```
Message: 'Config' is undefined
Line: 1
Char: 48671
Code: 0
URI: http://localhost/Yariga/New/js/all-min.js

Message: 'undefined' is null or not an object
Line: 5557
Char: 5
Code: 0
URI: http://localhost/Yariga/New/js/prototype.js

Message: Permission denied
Line: 35269113
Char: 23
Code: 0
URI: http://cdn.io4o.com/ga.html 
```

这是网址： http: [//stats.yariga.net](http://stats.yariga.net)

任何帮助将不胜感激。谢谢艾哈迈尔。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-10T05:04:07.923

将您的`<!-- DOCTYPE html -->`Before Html 标记放在现在您的文档类型在正文中。

# android - 无法在 Android webview 中播放 html5 视频

> ID：14251077
> 
> 赞同：0
> 
> 时间：2013-01-10T04:58:11.517
> 
> 标签：android, webview, html5-video

我在 Html5 中有 Video 标签，它需要从 android webview 的 assets 文件夹中播放本地视频，但是单击播放按钮时我无法播放视频，我使用的是 android 3.1 版本，并且在清单中添加了硬件加速，我肯定错过了一些东西，请提供一些想法。下面是代码

```
webPage.setWebChromeClient(chromeClient);
WebViewClient webViewClient = new WebViewClient(); 
webPage.setWebViewClient(webViewClient);
webPage.getSettings().setAllowFileAccess(true);
webPage.getSettings().setDomStorageEnabled(true);
webPage.getSettings().setJavaScriptEnabled(true);
webPage.getSettings().setPluginState(WebSettings.PluginState.ON);
webPage.getSettings().setPluginsEnabled(true);
webPage.getSettings().setLoadWithOverviewMode(true);
webPage.getSettings().setUseWideViewPort(true);
webPage.getSettings().setPluginState(PluginState.ON);
webPage.loadUrl("file:///android_asset/layout/form.html"); 

public class chromeClient extends WebChromeClient {
    @Override
    public void onShowCustomView(View view, CustomViewCallback callback) {
        // TODO Auto-generated method stub
        super.onShowCustomView(view, callback);
        if (view instanceof FrameLayout) {
            FrameLayout frame = (FrameLayout) view;
            if (frame.getFocusedChild() instanceof VideoView) {
                VideoView video = (VideoView) frame.getFocusedChild();
             //   frame.removeView(video);
                video.start();
            }
        }
    }      
} 
```

提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-02T03:58:13.537

我遇到了同样的问题，但通过查看这个项目能够弄清楚： [http ://code.google.com/p/html5webview/](http://code.google.com/p/html5webview/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-11-28T19:13:46.103

摆脱除 webPage.getSettings().setJavaScriptEnabled(true) 之外的所有设置；并确保硬件加速已打开

# linux - Linux 中的 Openwebload

> ID：14251078
> 
> 赞同：0
> 
> 时间：2013-01-10T04:58:11.727
> 
> 标签：linux, debian

我正在尝试在 Debian 中安装最新版本的 openwebload，但它已经很旧了。这个项目死了吗？我在哪里可以获得最新版本（最后一次更新是从 2001 年开始的？！）

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2013-01-10T05:36:04.267

下载并安装[http://archive.debian.org/debian/pool/main/g/gcc-2.95/libstdc++2.10-glibc2.2_2.95.4-27_i386.deb](http://archive.debian.org/debian/pool/main/g/gcc-2.95/libstdc++2.10-glibc2.2_2.95.4-27_i386.deb)。

它确实适用于 Debian 6。

# c# - 在 ASP.NET 中跟踪 Excel 中的修订

> ID：14251085
> 
> 赞同：0
> 
> 时间：2013-01-10T04:58:50.467
> 
> 标签：c#, asp.net, excel, ms-word

我设法保留了 Microsoft Word 的跟踪修订属性。它工作正常。

我如何为 MS Excel 2007 及更高版本做同样的事情？Follwing 是我的 word 代码（运行良好），接下来是我尝试执行的 Excel。

1.  单词：

    ```
    Word.Application app = new Word.Application();
    Word.Document tempDoc = app.Documents.Open(path);
    tempDoc.TrackRevisions = true;
    tempDoc.Protect(typ, ref missing, ref password, ref missing, ref missing); 
    ```

2.  电子表格：

    ```
    Excel.Application ex_APP = new Excel.Application();
    Workbook wrk = ex_APP.Workbooks.Open(path); 
    ```

无法超越这一点。当我尝试做

```
wrk. 
```

我没有作为 trackReviosons 获得财产。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-10T05:03:18.327

这是我目前正在做的方式，它似乎工作得很好

```
using Excel = Microsoft.Office.Interop.Excel; 
```

然后你得到活跃的工作簿

```
//Gets Excel and gets Activeworkbook and worksheet
Excel.Application oXL;
Excel.Workbook oWB;
Excel.Worksheet oSheet;
oXL = (Excel.Application)Marshal.GetActiveObject("Excel.Application"); 
oXL.Visible = true;
oWB = (Excel.Workbook)oXL.ActiveWorkbook; 

docProps = oWB.CustomDocumentProperties 
```

# csv - 如何通过 VB 6.0 修改/更新 .CSV 文件

> ID：14251086
> 
> 赞同：0
> 
> 时间：2013-01-10T04:58:54.677
> 
> 标签：csv, vb6

我有一个连续有 5 个值的 .CSV 文件，我想以某种方式修改文件，我应该在行的开头/结尾/中间添加一个值。

如何在 .CSV 文件中添加具有一组值的新行？

如何以简单的方式做到这一点？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-10T13:26:11.050

没有什么神奇的方法可以将内容插入流文件（例如任何文本文件，包括 CSV 文件）的中间。

因此，这意味着您需要读取旧文件并在写入新文件时对其进行修改。

虽然有很多方法可以做到这一点：

*   将输入文件作为 blob 读入内存并在那里处理，然后写出修改后的数据。
*   逐行读取/写入更改。
*   使用 Jet Text IISAM、Log Parser 的 COM API 等，允许对 CSV 等表格格式的文本数据进行 SQL 和类似 SQL 的操作。

最简单和最通用的方法是逐行读取/修改/写入。对于中小型文件，这可能比“blob”方法慢，但不会冒在必须处理大文件时可能导致的头痛的风险。

对于非常大的文件，这可以通过读取、解析、修改然后写入“块”来优化，以最小化 I/O 成本。但这也可能更复杂，无法正确编程。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-21T08:28:56.283

这段代码可能会有所帮助，这不是答案，但会有所帮助

```
Dim line As String
Dim arrayOfElements() As String
Dim linenumber As Integer
Dim i As Integer
Dim opLine As String
Dim fso As New FileSystemObject
Dim ts As TextStream

line = ""

Open strPath For Input As #1 ' Open file for input
    Do While Not EOF(1) ' Loop until end of file
        linenumber = linenumber + 1
        Line Input #1, line
        arrayOfElements = Split(line, "|")
       If Not linenumber = 1 Then
            If UBound(arrayOfElements) = 2 Then
               line = line & "|x|y"
               opLine = opLine & line & vbCrLf
            End If
        Else
        line = line & "|col4|col5"
         opLine = opLine & line & vbCrLf
       End If 
```

环形

```
Close #1 ' Close file.
Set ts = fso.CreateTextFile(strPath, True)
ts.WriteLine (opLine)
ts.Close 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-09-27T03:48:42.647

fso需要关闭！

`Set fso = Nothing`

# php - 完全自定义 Magento 界面，无需商店

> ID：14251088
> 
> 赞同：0
> 
> 时间：2013-01-10T04:59:04.340
> 
> 标签：php, magento

我一直在搜索，但没有找到太多这方面的信息。是否有可能完全覆盖 Magento 的前端界面？我的意思是完全删除购物车、菜单、产品列表等所有内容，并替换为完全定制的界面，该界面不会用于电子商务门户。

我刚刚发现我们的客户实际上并不想要电子商务解决方案，尽管我们已经在 Magento 上构建了很多功能，并且不得不在另一个平台上重写所有内容并仍然构建一个订购框架，这将是一种耻辱。 .

所以我的问题是，你能否在 Magento 上建立一个主题，只显示与实际“商店”完全无关的系统部分，我在哪里可以找到信息来弄清楚如何做到这一点？我想将自定义前端保留在 Magento 中，以便轻松重用产品视图块等，但 Magento 本身并不是我们客户想要的系统。

我想到了一个替代方案，将 Magento 商店仅放置在一个子目录中并用作一种“引擎”来运行系统的电子商务端并构建一个与 Magento 集成的完全不同的系统，这个的缺点当然，我们也必须重写已完成的工作。

最好的路线是什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-10T07:30:09.280

这是一种解决方法：

*   通过后端编辑主页并在其中输入以下代码：

`{{block type="catalog/product" template="page/homepage.phtml"}}`这将允许您在页面上显示产品。

*   确保当您输入代码时，您可以看到 html 标记（而不仅仅是输出）
*   制作一个完全定制的网页，显示您想要的任何内容

# android - 小样式自定义评分栏（只读自定义评分栏）

> ID：14251092
> 
> 赞同：3
> 
> 时间：2013-01-10T04:59:19.430
> 
> 标签：android, custom-component, ratingbar

我试图创建一个自定义评分栏。我不使用`style`，因为我只使用过一次。所以，我`layer-list`在`drawable`文件夹中创建了一个（它的名字是`custom_rating_bar.xml`）：

```
<layer-list xmlns:android="http://schemas.android.com/apk/res/android">
  <item
    android:id="@android:id/background"
    android:drawable="@drawable/custom_icon_empty"/>
  <item
    android:id="@android:id/secondaryProgress"
    android:drawable="@drawable/custom_icon_empty"/>
  <item
    android:id="@android:id/progress"
    android:drawable="@drawable/custom_icon"/>
</layer-list> 
```

我在评分栏中使用此代码来使用这些图标：

```
android:progressDrawable="@drawable/custom_rating_bar" 
```

我的图像尺寸是标准的（mdpi 为 48x48 等），我使用了一个**小**的样式评分栏：

```
style="?android:attr/ratingBarStyleSmall" 
```

问题是，我不能`style="?android:attr/ratingBarStyleSmall"`一起使用`android:progressDrawable`（当我这样做时，图像不会显示）。当我删除样式（`style="?android:attr/ratingBarStyleSmall"`）时，我的评分栏变得太大（显示图像）。

这张图片显示了它有多大（我认为图片之间的**边距**也太大了）： ![在此处输入图像描述](../Images/cf1558fd405ac5d3cec0009936ef2278.png)

那么，**如何让我的自定义评分栏变小呢？**（与默认的小样式评级栏一样小）。

此自定义评分栏**仅供展示**（用户无法更改）。

谢谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-10T05:03:50.087

首先，从您的 android:id 中删除“+”。此外，您可能希望在 xml 中添加样式，例如`style="?android:attr/progressBarStyleHorizontal"`根据您的需要。您可能还需要使用`android:indeterminateDrawable="@drawable/custom_rating_bar"`而不是 progressDrawable

# php - 如何在codeigniter中使用从数据库返回的数据显示类别和子类别菜单样式列表

> ID：14251094
> 
> 赞同：1
> 
> 时间：2013-01-10T04:59:22.517
> 
> 标签：php, codeigniter, codeigniter-2

我正在尝试显示具有一组类别和子类别的垂直菜单（导航菜单）。

我能够从数据库中获取数据，但未能将子类别完全放在它的父级之下。

**我能够显示类别及其子类别。但是我需要仅在鼠标悬停或单击类别时才显示子类别。**
这是我想做的快照

![在此处输入图像描述](../Images/801ff12e147162a7baee435e6db4d3d0.png)

**电子产品**——>点击电子产品时，它必须在电子产品类别下显示列表

**汽车**没有子类别 *并非所有类别都有子类别。

这是我的代码： **型号**：

```
 function getCategories()
{
    $this->db->select();
    $query=$this->db->get('ci_tbl_categories');
        if ($query->num_rows() > 0)
        {
            $result =$query->result_array();

            for($i=0;$i<count($result);$i++)
            {
                $query1=$this->db->query("select * from ci_tbl_subcategory where cat_id='".$result[$i]['cat_id']."'");
                if($query1->num_rows() > 0)
                {
                $result[$i]['sub']=$query1->result_array();
                }
                else
                {
                $result[$i]['sub']=array();
                }
            }

            //print_r($result);
            return $result;
        }
        else
        {
            return $query->result_array();
        }

} 
```

**控制器**：

```
 function categories()
    {
        $this->load->model('categories');

        $result['res'] = $this->categories->getCategories();

        //print_r($result['res']);
        $this->load->view('category',$result);

    } 
```

**查看**：

```
<script type="text/javascript"> 
$(document).ready(function(){

  $("#main").click(function(){
    $("#sub").slideToggle("slow");
  // alert("clicked");

  });
});
</script>

     <body>
<div id="category" style="border-radius:5px; width:200px;background-color:#d2dbde; ">
<?php //echo count($res)."<br/>";?>
<div id="nav_head">Categories</div>

<?php for($a=0;$a<count($res);$a++)
{
//echo $row['cat_name']['subcat_name']."<br/>";
?><div id="main"><?php echo $res[$a]['cat_name'];?></div>
<?php
if(count($res[$a]['sub']) > 0)
{
?><div id="sub">
 <?php for($b=0;$b<count($res[$a]['sub']);$b++) {?>

<div id="subcat"><?php echo $res[$a]['sub'][$b]['subcat_name'];?></div>

<?php }?>
</div>
<?php }} ?>
</div>
</body> 
```

非常感谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-10T20:18:56.607

首先，`div`使用静态 id 在循环中创建 ' 将不起作用，因为您最终会得到多个`div`具有相同 id 的 '。尝试使用类名。

```
<div class="main">

<div class="sub"> 
```

然后您应该能够检测到单击/鼠标悬停并显示/隐藏`sub`

```
$(document).ready(function(){
  $(".main").click(function(){
    $(this).next('.sub').slideToggle("slow");
  });

  $(".main").mouseover(function(){
    $(this).next(".sub").slideToggle("slow");
  }).mouseout(function(){
    $(this).next(".sub").slideToggle("slow");
  });
}); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-10T05:36:43.103

我认为您的代码需要进行 2 处更改。

1.  在模型中将 '$i' 替换为 '$result[$i]['cat_id']'

    ```
    <?php
    for($i=0;$i<count($result);$i++){
                    $query1=$this->db->query("select * from ci_tbl_subcategory 
                    where cat_id='".$result[$i]['cat_id']."'");
                    if($query1->num_rows() > 0)
                    {
                    $result[$result[$result[$i]['cat_id']]]['sub']=$query1->result_array();
                    }
                    else
                    {
                    $result[$result[$result[$i]['cat_id']]]['sub']=array();
                    }
                } 
    ```

    ?>

2.  在视图文件 [$b] 不是必需的，您可以使用以下代码直接获取输出：

    `<?php echo $res[$a]['sub']['subcat_name'];?>`

希望对你有帮助... ：）

# ios - 为什么 CoreAnimation 似乎正在缓存表示层副本？

> ID：14251095
> 
> 赞同：7
> 
> 时间：2013-01-10T04:59:23.933
> 
> 标签：ios, objective-c, macos, core-animation

因此，我们遇到了一些有趣的问题，似乎是表示层的缓存，我们想知道其他人是否看到了这一点，以及我们可以采取哪些解决方法。

我们有几个我们自己的属性，我们正在隐式动画。我们通过将它们声明为属性并动态合成它们来做到这一点：

```
@interface GOOLayer : CALayer
@property float gooValue;
@end

NSString *const kGOOLayerValueKey = @"gooValue";

@implementation GOOLayer

@dynamic gooValue;

- (id)initWithLayer:(id)layer {
  if ((self = [super initWithLayer:layer])) {
    id value = [layer valueForKey:kGOOLayerValueKey];
    [self setValue:value forKey:kGOOLayerValueKey];
  }
  return self;
}

- (id<CAAction>)actionForKey:(NSString *)event {
  id <CAAction> action = [super actionForKey:event];
  if (action == nil && [event isEqual:kGOOLayerValueKey]) {
    CABasicAnimation *animation = [CABasicAnimation animationWithKeyPath:event];
    animation.fromValue = [self.presentationLayer valueForKey:event];
    animation.duration =  [CATransaction animationDuration];
    return animation;
  }
  return action;
}

- (void)display {
  GOOLayer *presoLayer = [self presentationLayer];
  NSLog(@"Display GooValue: %f", presoLayer.gooValue);
}

+ (BOOL)needsDisplayForKey:(NSString *)key {
  if ([key isEqual:kGOOLayerValueKey]) {
    return YES;
  }
  return [super needsDisplayForKey:key];
} 
```

在大多数情况下，这可以正常工作，并且我们会看到记录了适当的值。在第一种情况下，我们得到了适当的隐式动画：

```
- (IBAction)doSomeGoo:(id)sender {
  sublayer_.gooValue = random();
} 
```

输出：

```
2012-12-19 10:10:41.440 CoreAnimation[94149:c07] Display GooValue: 1804289408.000000
2012-12-19 10:10:41.502 CoreAnimation[94149:c07] Display GooValue: 1804289408.000000
...
2012-12-19 10:10:41.739 CoreAnimation[94149:c07] Display GooValue: 898766464.000000
2012-12-19 10:10:41.757 CoreAnimation[94149:c07] Display GooValue: 846930880.000000 
```

在第二种情况下，我们禁用这些操作，这样我们就可以得到一个单一的值更新，这很好：

```
- (IBAction)doSomeGoo2:(id)sender {
  long newValue = random();
  NSLog(@"newValue = %f", (float)newValue);
  [CATransaction begin];
  [CATransaction setDisableActions:YES];
  sublayer_.gooValue = newValue;
  [CATransaction commit];
} 
```

第一次通过：

```
2012-12-19 10:11:16.208 CoreAnimation[94149:c07] newValue = 1714636928.000000
2012-12-19 10:11:16.209 CoreAnimation[94149:c07] Display GooValue: 1714636928.000000 
```

第二次通过：

```
2012-12-19 10:11:26.258 CoreAnimation[94149:c07] newValue = 1957747840.000000
2012-12-19 10:11:26.259 CoreAnimation[94149:c07] Display GooValue: 1957747840.000000 
```

这是我们在执行有趣的事务之前调用 [CALayerpresentationLayer] 的第三种情况：

```
- (IBAction)doSomeGoo3:(id)sender {
  GOOLayer *presoLayer = sublayer_.presentationLayer;
  long newValue = random();
  NSLog(@"presoLayer.gooValue = %f newValue = %f", presoLayer.gooValue, (float)newValue);
  [CATransaction begin];
  [CATransaction setDisableActions:YES];
  sublayer_.gooValue = newValue;
  [CATransaction commit];
} 
```

第一次通过：

```
2012-12-19 10:12:12.505 CoreAnimation[94149:c07] presoLayer.gooValue = 1957747840.000000 newValue = 424238336.000000
2012-12-19 10:12:12.505 CoreAnimation[94149:c07] Display GooValue: 1957747840.000000 
```

第二次通过：

```
2012-12-19 10:12:13.905 CoreAnimation[94149:c07] presoLayer.gooValue = 424238336.000000 newValue = 719885376.000000
2012-12-19 10:12:13.906 CoreAnimation[94149:c07] Display GooValue: 424238336.000000 
```

请注意添加presentationLayer 调用如何使显示无法获得当前值。

关于如何处理这个问题的任何建议，或者我是否完全误解了事情，这是预期的行为？

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-01-14T10:39:47.800

我没有访问`presentationLayer`，但今天仍然遇到同样的问题。

每当`UIScrollView`出现 a 的滚动条时，一些动画就无法按预期工作。我花了几个小时才发现这是一个`CATransaction`与`presentationLayer`.

访问`presentationLayer`原因`CATransaction`以忽略（或推迟）任何显式事务的提交，直到当前的 runloop 循环结束。查看消息日志，对于任何层，`+[CATransaction commit]`只要访问显式事务，就会变成无操作。`presentationLayer`

我找到了两种让这些提交再次起作用的方法，但有负面影响。

1.  使用`+[CATransaction flush]`更新`presentationLayer`所有层的刷新所有层更改`+[CATransaction begin…commit]`并按预期工作。
2.  使用 提交隐式事务`+[CATransaction commit]`会产生相同的结果。

但是一旦我这样做了，整个应用程序中就会出现其他随机问题。有些视图即使布局正确，甚至`drawRect:`被调用，也根本不可见。再深入一点，我注意到`UIView`'s 和他们的支持`CALayer`经常变得不同步。

我得出的结论是我错了依靠`presentationLayer`我想做的事。

Apple 的文档文章[Core Animation Rendering Architecture](https://developer.apple.com/library/ios/#documentation/Cocoa/Conceptual/CoreAnimation_guide/Articles/CoreAnimationArchitecture.html#//apple_ref/doc/uid/TP40006655-SW1)清楚地说明`presentationLayer`了图层的所有值，因为它们当前对用户可见。`presentationLayer`直到 runloop 循环结束（或者外部通常隐式`CATransaction`被刷新/提交）并且所有图层更改都呈现给用户之前，任何使用或不使用动画所做的更改都不会被反映。

由于我的动画依赖于在同一个 runloop 循环中对图层所做的更改，因此这些更改对用户尚不可见，因此无法通过`presentationLayer`.

`-[CALayer display]`[正如提供图层内容](https://developer.apple.com/library/ios/#documentation/Cocoa/Conceptual/CoreAnimation_guide/Articles/ProvidingCALayerContent.html#//apple_ref/doc/uid/TP40006642-SW2)`presentationLayer`中的示例所示，应该只访问图层的值而不是其的值。应该从用户当前看到的内容开始的动画可以使用's 值作为.`presentationLayer``fromValue`

仍然出现的任何其他问题很可能是由于以错误的方式使用渲染架构。我将重新考虑我的动画，以便它们使用图层的当前状态而不是`presentationLayer`'s.

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2014-05-30T03:06:08.657

我能够通过使用解决类似的问题`[CATransaction setCompletionBlock:`

这允许运行循环完成并更新`presentationLayer`

# jquery - 如果我将 input type=submit 更改为 type=button，jquery 验证插件将不起作用

> ID：14251100
> 
> 赞同：3
> 
> 时间：2013-01-10T04:59:53.430
> 
> 标签：jquery, jquery-validate

我使用在[这里找到的 jquery 验证插件](http://bassistance.de/jquery-plugins/jquery-plugin-validation/)

我的问题是，在表单中，如果我将提交按钮从

```
<input type="submit" value="Add" class="add" id="addbutton"> 
```

至

```
<input type="button" value="Add" class="add" id="addbutton"> 
```

该表格将无法验证或工作。

我想使用`button`而不是`submit`，因为如果用户关闭了 javascript，则表单根本不会提交。它只会坐在那里无所事事。

知道如何解决这个问题并让它在什么时候起作用`type="button"`

```
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" />
<title>jQuery validation plug-in - main demo</title>

<link rel="stylesheet" type="text/css" media="screen" href="css/screen.css" />

<script src="../lib/jquery.js" type="text/javascript"></script>
<script src="../jquery.validate.js" type="text/javascript"></script>

<script type="text/javascript">
$.validator.setDefaults({
    submitHandler: function() { form.submit(); }
});

$().ready(function() {

    // validate signup form on keyup and submit
    $("#signupForm").validate({

        rules: {
            username: {
                required: true,
                minlength: 2
            },
            password: {
                required: true,
                minlength: 5
            },
            confirm_password: {
                required: true,
                minlength: 5,
                equalTo: "#password"
            },
            email: {
                required: true,
                email: true
            },

        },
        messages: {

            username: {
                required: "Please enter a username",
                minlength: "Your username must consist of at least 2 characters"
            },
            password: {
                required: "Please provide a password",
                minlength: "Your password must be at least 5 characters long"
            },
            confirm_password: {
                required: "Please provide a password",
                minlength: "Your password must be at least 5 characters long",
                equalTo: "Please enter the same password as above"
            },
            email: "Please enter a valid email address",
            agree: "Please accept our policy"
        }
    });

});
</script>

<style type="text/css">
#commentForm { width: 500px; }
#commentForm label { width: 250px; }
#commentForm label.error, #commentForm input.submit { margin-left: 253px; }
#signupForm { width: 670px; }
#signupForm label.error {
    margin-left: 0px;
    width: auto;
    display: inline;
}
#newsletter_topics label.error {
    display: none;
    margin-left: 103px;
}
</style>

</head>
<body>

<div id="main">

<p>Default submitHandler is set to display an alert into of submitting the form</p>

<form class="cmxform" id="signupForm" method="post" action="">
    <fieldset>
        <legend>Validating a complete form</legend>

        <p>

            <label for="username">Username</label>
            <input id="username" name="username" />
            <label for="username"></label>

        </p>
        <p>
            <label for="password">Password</label>
            <input id="password" name="password" type="password" />
        </p>
        <p>
            <label for="confirm_password">Confirm password</label>
            <input id="confirm_password" name="confirm_password" type="password" />
        </p>
        <p>
            <label for="email">Email</label>
            <input id="email" name="email" type="email" />
        </p>

        <p>
            <input class="submit" type="submit" value="Submit"/>
        </p>
    </fieldset>
</form>

</div>
</body>
</html> 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-10T05:03:58.797

我相信验证插件实际上会在提交表单时进行验证。因此，您只需要使用 javascript 对按钮进行任何点击即可提交表单。像这样的东西：

```
$('#commentForm input[type=button]').click(function(){
  $(this).closest('form').submit()
}); 
```

附加：您还需要记住，在专注于任何表单元素时按 Enter 仍将提交表单，除非您禁用它，因此您在禁用 javascript 时仅删除提交按钮的解决方案不会涵盖这种情况。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-10T05:01:49.227

你可以试试这个方法

```
 $('document').ready(function(){
    $('form').validate({
        rules: {
           a: {required:true, minlength:2}
        },      
        messages: {
           a: {required: "enter your name!"}       
        },

    });
    $('#checkbut').click(function(){
        $("form").validate().element("#a");
    });
}); 
```

工作[演示](http://jsfiddle.net/Nc6H8/10/)

# windows - 如何在 Windows 8 应用程序中识别用户？

> ID：14251101
> 
> 赞同：1
> 
> 时间：2013-01-10T04:59:58.067
> 
> 标签：windows, windows-store-apps

windows8 应用程序的用户可以拥有 userId 吗？

我想简化应用程序的注册。我不想输入密码，只需提供用户名和启动应用程序的用户 ID。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-27T08:18:32.517

您需要在应用程序清单中设置“企业身份验证”功能。然后就是简单地使用：

```
 var dialog = new Windows.UI.Popups.MessageDialog(
await Windows.System.UserProfile.UserInformation.GetDomainNameAsync()); 
```

如果您使用上述测试代码（例如在您的启动方法或 OnNavigatedTo 或单击按钮上），请确保将“等待”添加到方法的签名中

# django - 修改django模型

> ID：14251103
> 
> 赞同：0
> 
> 时间：2013-01-10T05:00:02.213
> 
> 标签：django, django-models, django-database

我只是自己测试了一下。我有 Django 模型，并且数据库中已经有模型的实例。

然后我向模型添加了一个虚拟整数字段并运行`manage.py syncdb`. 检查数据库，表没有任何反应。我没有看到添加的额外字段。

这是预期的行为吗？修改模型的正确方法是什么，这将如何改变数据库中已有的数据？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-10T08:20:17.480

Django 不会改变已经存在的表，他们甚至在文档中这样说。这样做的原因是django不能保证不会有信息丢失。

如果要更改现有表，您有两种选择。要么删除它们并再次运行syncdb，但如果你想保留它，你需要以某种方式存储你的数据。其他选项是使用迁移工具为您执行此操作。Django 可以向您显示新数据库模式的 SQL，您可以将其与当前版本的数据库进行比较以创建更新脚本。

你甚至可以手动更新你的数据库，如果它是一个很小的变化并且你不想打扰迁移工具，虽然我建议使用一个。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-10T08:53:54.023

请使用 south 进行任何类型的更改以反映到您的数据库表中，这里是使用 south [Link for South 文档的链接](http://south.readthedocs.org/en/0.7.6/)

# git - 在我的网络服务器上创建我自己的 git 发布

> ID：14251105
> 
> 赞同：1
> 
> 时间：2013-01-10T05:00:32.347
> 
> 标签：git, continuous-integration, build-automation

我可以设置 git 以便它自动提取或检测更改并自动部署吗？和heroku一样，我想在我们自己的web服务器上设置git发布，这样当用户推送到github或bitbucket时，web服务器会检测到推送的代码变化并自动拉取代码。

作为奖励，在此过程中运行一些后期构建批处理文件或脚本也会很好。

我认为我可以使用 Jenkins 服务器来做到这一点，但是还有其他更好的方法吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-18T21:32:33.417

设置 Jenkins 来做到这一点真的很容易。这个 Ray Wenderlich 教程有一个快速简单的 Jenkins 设置来检查 git repo。[http://www.raywenderlich.com/22590/beginning-automated-testing-with-xcode-part-12](http://www.raywenderlich.com/22590/beginning-automated-testing-with-xcode-part-12)（直接跳到 Jenkins 部分）。一旦 Jenkins 完成所有设置，只需添加一个 Execute Shell 即可运行您需要的任何脚本。您可以在大约 15 分钟内完成设置。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-18T21:53:17.687

您可以使用 post-receive 钩子在您的服务器上设置一个 git repo（可能是一个裸 repo），然后无论何时向它推送该钩子（可以是任何脚本）都会运行。

# php - OpenERP 创建方法返回拒绝访问错误

> ID：14251108
> 
> 赞同：5
> 
> 时间：2013-01-10T05:00:35.223
> 
> 标签：php, openerp

您好，我是 OpenERP 的新手，当我尝试使用 PHP 中的 Create Method 在 Open ERP 中插入记录时，它返回错误 Access denied。 ***以下是我的插入代码：***

```
<?php

include('xmlrpc.inc');

$arrayVal = array(
'name'=>new xmlrpcval('Fabien Pinckaers', "string") ,
'vat'=>new xmlrpcval('BE477472701' , "string")
);

$client = new xmlrpc_client("http://107.23.27.60:8069/xmlrpc/object");

$msg = new xmlrpcmsg('execute');
$msg->addParam(new xmlrpcval("test_sys", "string"));
$msg->addParam(new xmlrpcval("1", "int"));
$msg->addParam(new xmlrpcval("demo", "string"));
$msg->addParam(new xmlrpcval("res.partner", "string"));
$msg->addParam(new xmlrpcval("create", "string"));
$msg->addParam(new xmlrpcval($arrayVal, "struct"));

$resp = $client->send($msg);

if ($resp->faultCode())

echo 'Error: '.$resp->faultString();

else

echo 'Partner '.$resp->value()->scalarval().' created !';

?> 
```

在上面的代码中 test_sys 是数据库名称，1 是我的用户 ID。 ***以下是输出：***

```
xmlrpcresp Object
(
[val] => 0
[valtyp] => 
[errno] => -1
[errstr] => Access denied.
[payload] => 
[hdrs] => Array
    (
        [content-type] => text/xml
        [content-length] => 286
        [server] => Werkzeug/0.8.3 Python/2.7.3
        [date] => Thu, 10 Jan 2013 04:29:55 GMT
    )

[_cookies] => Array
    (
    )

[content_type] => text/xml
[raw_data] => HTTP/1.0 200 OK
Content-Type: text/xml
Content-Length: 286
Server: Werkzeug/0.8.3 Python/2.7.3
Date: Thu, 10 Jan 2013 04:29:55 GMT

faultCode
AccessDenied

faultString
Access denied.

) 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-10T06:44:33.263

请检查您用于创建`res.partner`记录的用户的权限。

我认为您正在使用`demo`用户并且`demo`用户无权创建`res.partner`记录。

如果要添加`demo`用户记录，请`create`在演示的权限中添加权限。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-10-30T12:34:26.267

我有这样的错误，因为用户名或密码错误

# javascript - 向 JSON 读取对象添加方法

> ID：14251110
> 
> 赞同：0
> 
> 时间：2013-01-10T05:00:42.367
> 
> 标签：javascript

> **可能重复：**
> [将 json 数据转换为附加方法的对象的最简单方法？](https://stackoverflow.com/questions/2838219/easiest-way-to-convert-json-data-into-objects-with-methods-attached)
> [在 javascript 中将普通对象转换为函数实例（“类”）](https://stackoverflow.com/questions/11810028/casting-plain-objects-to-function-instances-classes-in-javascript)

我有一个对象如下：

```
var Person = function(name, age) {
  this.name = name,
  this.age = age;
}

Person.prototype.talk = function(message) {
    console.log(message);
} 
```

我创建对象如下：

```
var person = new Person("Test", 20); 
```

然后将这些对象作为 JSON（字符串化）保存在浏览器的本地存储中

当我读回对象时，我得到了数据，但我没有得到附加的方法，即talk() 不再可用作方法。我如何再次附加它们？

```
window.localStorage["person"] = JSON.stringify(new Person('Test', 20));
var person = window.localStorage["person"];
person.talk("Hello"); 
```

我得到的错误是

```
Uncaught TypeError: Object {"name":"Test","age":20} has no method 'talk' 
```

很明显，对吧？但是我怎么知道这是一个 Person 对象呢？或者我应该只是将读取对象中的属性复制到一个新的 Person 对象上，这是唯一的方法吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-10T05:04:44.527

`Or should I just copy the attributes from the read object onto a new Person object, is that the only way?`

是的，创建一个 PersonFactory 或使用类似的设计模式从代表 Person 的 json 数据构造一个新的 Person 对象。

# javascript - jQuery中break和continue的使用

> ID：14251111
> 
> 赞同：6
> 
> 时间：2013-01-10T05:00:51.910
> 
> 标签：javascript, jquery

我知道使用核心 Javascript 我们可以做这样的事情：

```
for(i=1;i<10;i++){
   if(i==5){
    //break or continue
   }
} 
```

但为什么这是不正确的？

```
$.each(iteratorarray,function(i){ //iteratorarray - just an array
  if(i==5){
    //break or continue,will cause error here
  }
}); 
```

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-01-10T05:02:13.880

这种*行为是由 jQuery 实现的*。这就是 jQuery api 文档所说的“我们可以`break`通过使回调函数 return 在特定迭代中循环 $.each() `false`。返回与 for 循环中`non-false`的语句相同`continue`；它将立即跳到下一次迭代”，你可以在[**这里**](http://api.jquery.com/jQuery.each/)阅读。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-01-10T05:02:05.903

`return`将继续，`return false`将中断。该[文档](http://api.jquery.com/each/)通过示例讨论了`break`替代品，但它仍然指定`return`了`.each`回调中的功能。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-01-10T05:11:40.633

> 为什么这是不正确的？

[`break`](http://es5.github.com/#x12.7)or[`continue`](http://es5.github.com/#x12.8)语句仅作为 (for-, for-in-, while-, ...)[循环语句](http://es5.github.com/#x12.6)的一部分有效。你不能在一个普通的函数中做到这一点。从规范：

> 如果 […] 程序直接或间接（**但不跨越函数边界**）在`IterationStatement`.

相反，您可以`return`从一个函数（这会破坏函数体的进一步执行）。正如您在[文档](http://api.jquery.com/jQuery.each/)中所读到的，返回会`false`停止`$.each`.

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2013-01-10T05:13:04.807

`$.each`使用回调来执行自定义代码，`break`是一个可以破坏包装循环的控制语句。`break`or`continue`必须直接从主体调用，而不是`loop`从委托函数调用。

```
$.each(iteratorarray,function(i){ //iteratorarray - just an array
  if(i==5){
    //break or continue,will cause error here
  }
}); 
```

可以认为等于

```
for(i=0;i<iteratorarray.length;i++){
    if(callback(i, iteratorarray[i]) === false){
        break;
    }
} 
```

在这里，您的代码位于`callback()`函数内部，因此您不能`loop control`在回调中使用语句。

[您可以在文档](http://api.jquery.com/jQuery.each/)中阅读更多内容。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2013-01-10T05:03:40.977

在这种`$.each`情况下，没有可以跳出的循环，这就是您收到错误的原因。然而，jQuery 这样做的方式是，`breaks`如果你的函数返回`false`.

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2013-01-10T05:08:25.200

您还可以使用 JavaScript 的[every](http://msdn.microsoft.com/en-us/library/ie/ff679981%28v=vs.94%29.aspx)方法来迭代数组元素。

> every 方法对每个数组元素调用一次 callbackfn 函数，按索引升序排列，直到 callbackfn 函数返回 false。如果找到导致 callbackfn 返回 false 的元素，则 every 方法立即返回 false。否则，every 方法返回 true。

# c# - 如何将所有活动表单名称添加到 Windows 应用程序 C# 中的菜单项

> ID：14251114
> 
> 赞同：0
> 
> 时间：2013-01-10T05:01:32.380
> 
> 标签：c#, winforms, menustrip

我想在我的 Windows 应用程序中将所有活动表单名称添加到 MenuStrip 的工具条菜单中，以了解有多少表单以及哪些表单处于打开状态。如果我关闭任何应该从菜单条中删除 perticuller 名称的表单。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-10T05:02:55.280

使用[Application.OpenForms](http://msdn.microsoft.com/en-us/library/system.windows.forms.application.openforms.aspx)属性获取所有打开的表单。类似于以下的东西。

```
foreach (Form form in Application.OpenForms)
{
    ms.Items.Add(form.Name);
} 
```

# android - 在android中录制音频时调整麦克风灵敏度

> ID：14251120
> 
> 赞同：1
> 
> 时间：2013-01-10T05:01:55.423
> 
> 标签：android, android-audiomanager, android-audiorecord

我正在开发一个使用**AudioRecord** API在**PCM中录制音频的 Android 应用程序。**我想根据用户在设置中的选择将麦克风灵敏度调整为低、中和高。

 **可以调节**麦克风灵敏度**吗？您的回答将不胜感激:)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-10T06:54:24.227

并不真地。[通常可以通过使用不同的AudioSources](http://developer.android.com/reference/android/media/MediaRecorder.AudioSource.html)隐式地获得至少两种不同的“灵敏度”（平台使用的声学调整）。
至少应该有一个用于手机录音的调谐和一个用于远场录音的调谐。在某些设备上，您可能还具有不同的远场调谐，例如，一种用于在几分米外录制音频，另一种用于在几米外录制音频。

问题是您无法真正知道哪个 AudioSource 对应于哪个调音，因为它没有标准。`CAMCORDER`通常意味着远场，并且`VOICE_RECOGNITION`通常意味着手机模式，但不能保证它。您还应该记住，供应商通常会应用您作为用户/应用程序开发人员无法禁用的自动增益控制、降噪等，以满足其产品的声学要求。

您最好的选择可能是使用单个 AudioSource，然后在您的应用程序中衰减信号以模拟较低的麦克风灵敏度。您*也可以*进行放大，但这类似于在相机应用程序中使用数码变焦（它可以工作，但看起来并不那么好，因为您只是在缩放现有数据）。**

# ios - 如何在存折上添加打开按钮

> ID：14251126
> 
> 赞同：1
> 
> 时间：2013-01-10T05:02:11.370
> 
> 标签：ios, passbook

[http://i.stack.imgur.com/K81uU.png](http://i.stack.imgur.com/K81uU.png)

你可以看到图片，有一个打开按钮，图片是存折通行证，我没有找到任何api或通行证属性来完成它。在 pass.json

```
"backFields" : [
  {
    "key" : "extras",
    "label" : "Discount",
    "value" : "Your friends receive 50% off price"
  },
 {
    "key" : "phone",
    "label" : "Phone",
    "value" : "800-1234567890"
  },

  {
    "key" : "date",
    "label" : "Valid time:",
    "dateStyle" : "PKDateStyleMedium",      
    "timeStyle" : "PKDateStyleNone",      
    "value" : "2013-01-03T00:00Z"
  },
  {
    "key" : "terms",
    "label" : "TERMS AND CONDITIONS",
    "value" : "Lessons must be used between 1/1/2013 and 3/1/2013\.  Appointments for lessons must be made no less than 48 hours in advance.  Customer must be able to swim."
  }
] 
```

我找不到其他钥匙或标签来完成它。你能帮助我吗

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-10T07:58:10.900

如果您想为您的应用程序添加链接，我相信您应该使用`associatedStoreIdentifiers`顶级密钥。

> 选修的。关联应用程序的 iTunes Store 项目标识符（也称为 Adam ID）列表。仅使用列表中的一项 - 与当前设备兼容的应用程序的第一项标识符。如果未安装该应用程序，该链接将打开 App Store 并显示该应用程序。如果该应用程序已安装，该链接将启动该应用程序。

[http://developer.apple.com/library/ios/#documentation/userexperience/Reference/PassKit_Bundle/Chapters/TopLevel.html](http://developer.apple.com/library/ios/#documentation/userexperience/Reference/PassKit_Bundle/Chapters/TopLevel.html)

# java - 如何增加struts 2中填充字段的值？

> ID：14251132
> 
> 赞同：0
> 
> 时间：2013-01-10T05:02:33.180
> 
> 标签：java, struts2, urllib2

嗨，大家早上好！

我有一个问题。我正在使用 struts 2 开发一个 Web 应用程序。我正在做分页。即每页10条记录。这里我需要两个链接，一个是“上一个”，另一个是“下一个”。在这里，我将像这两个这样的 bean 值填充为，

对于上一个链接，

```
<c:if test="${currentPage != 1}">
 <tr>
   <s:url id="previous" action="retrieve">
    <s:param name="condopurchaselistbean.currentPage">${currentPage-1}</s:param>
   </s:url>
   <td><s:a href="%{previous}" >Previous</s:a></td>
 </tr>
</c:if> 
```

对于下一个链接，

```
<c:if test="${currentPage lt noOfPages}">
 <tr>
   <s:url id="next" action="retrieve">
     <s:param name="condopurchaselistbean.currentPage">${currentPage+1}</s:param>
   </s:url>
    <td><s:a href="%{next}" >Next</s:a></td>
  </tr>
</c:if> 
```

但它不起作用。下面是我得到的例外：

```
javax.servlet.ServletException: java.lang.NoSuchFieldError: deferredExpression
org.apache.jasper.servlet.JspServlet.service(JspServlet.java:268)
javax.servlet.http.HttpServlet.service(HttpServlet.java:717)
org.apache.struts2.dispatcher.ServletDispatcherResult.doExecute(ServletDispatcherResult.java:157)
org.apache.struts2.dispatcher.StrutsResultSupport.execute(StrutsResultSupport.java:186)
com.opensymphony.xwork2.DefaultActionInvocation.executeResult(DefaultActionInvocation.java:374)
com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:278)
org.apache.struts2.interceptor.debugging.DebuggingInterceptor.intercept(DebuggingInterceptor.java:256)
com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)
com.opensymphony.xwork2.interceptor.DefaultWorkflowInterceptor.doIntercept(DefaultWorkflowInterceptor.java:176)
com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)
com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)
com.opensymphony.xwork2.validator.ValidationInterceptor.doIntercept(ValidationInterceptor.java:265)
org.apache.struts2.interceptor.validation.AnnotationValidationInterceptor.doIntercept(AnnotationValidationInterceptor.java:68)
com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)
com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)
com.opensymphony.xwork2.interceptor.ConversionErrorInterceptor.intercept(ConversionErrorInterceptor.java:138)
com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)
com.opensymphony.xwork2.interceptor.ParametersInterceptor.doIntercept(ParametersInterceptor.java:211)
com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)
com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)
com.opensymphony.xwork2.interceptor.ParametersInterceptor.doIntercept(ParametersInterceptor.java:211)
com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)
com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)
com.opensymphony.xwork2.interceptor.StaticParametersInterceptor.intercept(StaticParametersInterceptor.java:190)
com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)
org.apache.struts2.interceptor.MultiselectInterceptor.intercept(MultiselectInterceptor.java:75)
com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)
org.apache.struts2.interceptor.CheckboxInterceptor.intercept(CheckboxInterceptor.java:90)
com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)
org.apache.struts2.interceptor.FileUploadInterceptor.intercept(FileUploadInterceptor.java:243)
com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)
com.opensymphony.xwork2.interceptor.ModelDrivenInterceptor.intercept(ModelDrivenInterceptor.java:100)
com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)
com.opensymphony.xwork2.interceptor.ScopedModelDrivenInterceptor.intercept(ScopedModelDrivenInterceptor.java:141)
com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)
com.opensymphony.xwork2.interceptor.ChainingInterceptor.intercept(ChainingInterceptor.java:145)
com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)
com.opensymphony.xwork2.interceptor.PrepareInterceptor.doIntercept(PrepareInterceptor.java:171)
com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)
com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)
com.opensymphony.xwork2.interceptor.I18nInterceptor.intercept(I18nInterceptor.java:176)
com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)
org.apache.struts2.interceptor.ServletConfigInterceptor.intercept(ServletConfigInterceptor.java:164)
com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)
com.opensymphony.xwork2.interceptor.AliasInterceptor.intercept(AliasInterceptor.java:192)
com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)
com.opensymphony.xwork2.interceptor.ExceptionMappingInterceptor.intercept(ExceptionMappingInterceptor.java:187)
com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)
com.visionraices.interceptors.MyLoggingInterceptor.intercept(MyLoggingInterceptor.java:64)
com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)
org.apache.struts2.impl.StrutsActionProxy.execute(StrutsActionProxy.java:54)
org.apache.struts2.dispatcher.Dispatcher.serviceAction(Dispatcher.java:510)
org.apache.struts2.dispatcher.FilterDispatcher.doFilter(FilterDispatcher.java:434) 
```

我不知道。我的错误是什么。任何人都可以帮助我吗？提前致谢...

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-10T05:23:18.113

请看一下 tablesorter jquery 插件。或者，您可以在后端数据库查询中为每次单击下一个或上一个使用限制和偏移量。（每次单击下一个或上一个时，您都在调用数据库。）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-10T09:52:35.043

您的类路径上可能有多个 JSTL 库（例如 webapp + 应用服务器）。

对于这个有同样错误的人来说，它起作用了：[随机错误。“javax.servlet.ServletException：java.lang.NoSuchFieldError：deferredExpression”](https://stackoverflow.com/questions/10781701/random-error-javax-servlet-servletexception-java-lang-nosuchfielderror-defer)

* * *

与您的问题无关，但是您为什么使用`JSTL IF`s 而不是`Struts2 IF`s ？

您可以轻松更改`<c:if test="${currentPage lt noOfPages}">`为`<s:if test="%{currentPage < noOfPages}">`甚至`<s:if test="currentPage < noOfPages">`，这样会更好。实际上，使用 S2，您不再需要 JSTL。

# magento - 搜索页面上的 Magento 主动过滤器

> ID：14251136
> 
> 赞同：6
> 
> 时间：2013-01-10T05:03:13.320
> 
> 标签：magento, magento-1.7

我想在我的 magento 电子商务网站上实现主动过滤器。

我已经成功实现它，但问题是，代码仅适用于类别页面而不适用于搜索页面

这是我正在使用的代码

```
<?php /*Create filter dependencies*/

$_activeFilters[] = array();

$_filters = Mage::getSingleton(‘Mage_Catalog_Block_Layer_State’)->getActiveFilters();

foreach ($_filters as $_filter):?>
<?php echo $this->stripTags($_filter->getLabel()) ?><a href=”&lt;?php echo $_filter-     >getRemoveUrl() ?>” title=”&lt;?php echo $this->__(‘Remove This Item’) ?>”&gt;<?php echo $this->__(‘Remove This Item’) ?></a>
<?php endforeach; ?> 
```

我在toolbar.phtml 中使用这个代码。任何线索，例如为什么它在搜索页面上不起作用。任何解决方案都会有很大帮助。

谢谢，

寿司

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-01-16T11:37:35.900

您可以使用此代码在类别列表页面或搜索结果页面上获取过滤器

```
 <?php
   if(Mage::registry('current_category')) {
       $_filters = Mage::getSingleton('catalog/layer')->getState()->getFilters();
   } else {
       $_filters = Mage::getSingleton('catalogsearch/layer')->getState()->getFilters();
   }
   ?> 
```

我在toolbar.phtml中使用了这段代码，在工具栏下方显示可移动的过滤器，就像flipkart一样。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-10T07:23:35.030

问题在于这一行：

```
$_filters = Mage::getSingleton(‘Mage_Catalog_Block_Layer_State’)->getActiveFilters(); 
```

这会得到一个单例，它只在类别页面上包含必要的数据。

有关更多详细信息，请参阅此问题：[Magento - 如何将分层导航添加到高级搜索？](https://stackoverflow.com/questions/10503447/magento-how-to-add-layered-navigation-to-advanced-search)

# python - 在 Python 中进行身份验证时，Google Analytics API 会强制打开浏览器

> ID：14251138
> 
> 赞同：4
> 
> 时间：2013-01-10T05:03:23.300
> 
> 标签：python, api, google-analytics, ubuntu-12.04

我正在尝试从 Google Analytics API 查询数据。我已经设置了我的凭据，并且能够在我的 Windows 本地计算机上运行以下代码。但是，当我从 Ubuntu 命令行运行时，它会强制 SSL 浏览器窗口在以下步骤中打开：

```
service = initialize_service() 
```

所有代码如下：

```
import httplib2
from apiclient.discovery import build
from oauth2client.client import flow_from_clientsecrets
from oauth2client.file import Storage
from oauth2client.tools import run
import sys
from apiclient.errors import HttpError
from oauth2client.client import AccessTokenRefreshError

CLIENT_SECRETS = 'C:\Users\mds78\Documents\code\google\client_secrets.json'
MISSING_CLIENT_SECRETS_MESSAGE = '%s is missing' % CLIENT_SECRETS

FLOW = flow_from_clientsecrets(CLIENT_SECRETS, scope='https://www.googleapis.com/auth/analytics.readonly', message=MISSING_CLIENT_SECRETS_MESSAGE)

TOKEN_FILE_NAME = 'analytics.dat'

def prepare_credentials():
    storage = Storage(TOKEN_FILE_NAME)
    credentials = storage.get()
    if credentials is None or credentials.invalid:
        credentials = run(FLOW, storage)
    return credentials

def initialize_service():
    http = httplib2.Http()
    credentials = prepare_credentials()
    http = credentials.authorize(http)
    return build('analytics', 'v3', http=http)

service = initialize_service() 
```

# ubuntu - 在 Linux 中使用 Boost 1.50 语言环境编译的 ICU 问题

> ID：14251151
> 
> 赞同：1
> 
> 时间：2013-01-10T05:04:26.337
> 
> 标签：ubuntu, boost, unicode, locale, icu

所以，我在编译使用 boost 1.50.0 库的项目时遇到了问题，更具体地说是 boost 'locale' 库。我在编译时收到此错误：

```
(.text._ZN5boost6locale8impl_icu10num_formatIcED2Ev[_ZN5boost6locale8impl_icu10num_formatIcED5Ev]+0x20):-1: error: undefined reference to `icu_48::Locale::~Locale()' 
```

我的直接假设是我没有正确链接项目中的 libicu-dev 库，并将该库添加到我的 cmake 文件（FindICU.cmake）中。

**查找ICU.cmake：**

```
# Try to find the ICU library
#  ICU_FOUND - system has ICU
#  ICU_INCLUDE_DIR - the ICU include directory
#  ICU_LIBRARY - the ICU library

FIND_PATH(ICU_INCLUDE_DIR NAMES utf8.h utypes.h PATH_SUFFIXES unicode)
SET(_ICUI18N_STATIC_LIBS libicui18n.a)
SET(_ICUI18N_SHARED_LIBS libicui18n.dll.a icui18n)
SET(_ICUUC_STATIC_LIBS libicuuc.a)
SET(_ICUUC_SHARED_LIBS libicuuc.dll.a icuuc)
IF(USE_STATIC_LIBS)
    FIND_LIBRARY(ICUI18N_LIBRARY NAMES ${_ICUI18N_STATIC_LIBS} ${_ICUI18N_SHARED_LIBS})
    FIND_LIBRARY(ICUUC_LIBRARY NAMES ${_ICUUC_STATIC_LIBS} ${_ICUUC_SHARED_LIBS})
ELSE()
    FIND_LIBRARY(ICUI18N_LIBRARY NAMES ${_ICUI18N_SHARED_LIBS} ${_ICUI18N_STATIC_LIBS})
    FIND_LIBRARY(ICUUC_LIBRARY NAMES ${_ICUUC_SHARED_LIBS} ${_ICUUC_STATIC_LIBS})
ENDIF()
SET(ICU_LIBRARIES ${ICUI18N_LIBRARY} ${ICUUC_LIBRARY})
INCLUDE(FindPackageHandleStandardArgs)
FIND_PACKAGE_HANDLE_STANDARD_ARGS(ICU DEFAULT_MSG ICU_LIBRARIES ICU_INCLUDE_DIR)
MARK_AS_ADVANCED(ICU_LIBRARIES ICU_INCLUDE_DIR) 
```

并让我的项目在这里搜索 boost 库，如下所示：

```
# find boost
set(REQUIRED_BOOST_COMPONENTS locale system filesystem regex thread)
if(WIN32)
    set(Boost_THREADAPI win32)
    set(framework_DEFINITIONS ${framework_DEFINITIONS} -DBOOST_THREAD_USE_LIB) # fix boost thread linkage
    set(REQUIRED_BOOST_COMPONENTS ${REQUIRED_BOOST_COMPONENTS} chrono) # mingw32 does not have std::thread
else()
    find_package(ICU)
    set(Boost_LIBRARIES ${Boost_LIBRARIES} ${ICU_LIBRARIES})
endif()
set(Boost_USE_MULTITHREADED ON)
set(Boost_USE_STATIC_LIBS ${USE_STATIC_LIBS})
find_package(Boost 1.50.0 COMPONENTS ${REQUIRED_BOOST_COMPONENTS} REQUIRED) 
```

它认为没问题

```
-- Found ICU: /usr/lib/libicui18n.a;/usr/lib/libicuuc.a 
-- Boost version: 1.50.0
-- Found the following Boost libraries:
--   locale
--   system
--   filesystem
--   regex
--   thread 
```

但是当我尝试编译时仍然出现此错误。我正在运行 Ubuntu 12.04，从[https://launchpad.net/~28msec/+archive/boost](https://launchpad.net/~28msec/+archive/boost)存储库获取我的 boost 库，因为 12.04 确实为 boost 1.50 库提供了一个包。我正在使用 libicu-dev (4.6.x) 的标准包。

编辑：我还编译了我自己的 1.50.0 boost 库，配置有和没有 ICU（都没有工作）我还编译了我自己的 ICU 库，但仍然是同样的错误......我完全被这个难住了。

也许有人可以帮助我弄清楚发生了什么。任何帮助表示赞赏！谢谢，本。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-15T17:49:58.170

版本号（在链接中使用）由 ICU 标头设置，因此您似乎正在针对 4.8 进行编译，但试图链接到其他内容（例如 4.6）。uvernum.h（或在旧版本中，uversion.h）包含版本号。

# java - 在 JFileChooser 中获取打开按钮和 JTextField？

> ID：14251154
> 
> 赞同：1
> 
> 时间：2013-01-10T05:05:01.177
> 
> 标签：java, swing, jfilechooser

在我的 custom`JFileChooser`中，我想获得 Open 按钮，所以我使用以下代码：

```
private static JButton getOpenButton(Container c) {
  Validator.checkNull(c);

  int len = c.getComponentCount();
  JButton button = null;
  for (int index = 0; index < len; index++) {
    if (button != null) {
      break;
    }
    Component comp = c.getComponent(index);
    if (comp instanceof JButton) {
      JButton b = (JButton) comp;

      if ("Open".equals(b.getText())) {
        return b;
      }
    }
    else if (comp instanceof Container) {
      button = getOpenButton((Container) comp);
    }
  }
  return button;
} 
```

这段代码的问题是它效率低下（因为递归）并且如果使用本地化也可能被破坏（因为“Open”这个词是硬编码的）。

我还想获得`JTextField`用户可以在其中输入文件的名称和路径的信息。我正在使用此代码来获取此组件：

```
private static JTextField getTextField(Container c) {
  Validator.checkNull(c);

  int len = c.getComponentCount();
  JTextField textField = null;
  for (int index = 0; index < len; index++) {
    if (textField != null) {
      break;
    }
    Component comp = c.getComponent(index);
    if (comp instanceof JTextField) {
      return (JTextField) comp;
    }
    else if (comp instanceof Container) {
      textField = getTextField((Container) comp);
    }
  }
  return textField;
} 
```

有没有更好的方法可以获得打开按钮和`JTextField`？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-11T20:51:34.763

在我的自定义文件选择器的构造函数中，我调用了该`setApproveButtonText`方法并传入了一个自定义字符串以用于“打开”按钮。在使用以下方法获得“打开”按钮之前，我调用了此方法`getOpenButton`。这样，无论 JVM 使用什么语言环境，我都**可以保证在任何操作系统平台上都能获得打开按钮。**

```
private final String title;

public CustomFileChooser(String title) {
  this.title = title;
  setApproveButtonText(title);
  this.button = getOpenButton(this);
}

private JButton getOpenButton(Container c) {
  Validator.checkNull(c);

  int len = c.getComponentCount();
  JButton button = null;
  for (int index = 0; index < len; index++) {
    if (button != null) {
      break;
    }
    Component comp = c.getComponent(index);
    if (comp instanceof JButton) {
      JButton b = (JButton) comp;

      if (this.title.equals(b.getText())) {
        return b;
      }
    }
    else if (comp instanceof Container) {
      button = getOpenButton((Container) comp);
    }
  }
  return button;
} 
```

# ruby-on-rails - 在 Rails 中通过 AJAX 使用 gem（社会化）方法

> ID：14251159
> 
> 赞同：2
> 
> 时间：2013-01-10T05:06:05.327
> 
> 标签：ruby-on-rails, ajax, gem

我正在使用[Socialization gem](https://github.com/cmer/socialization)，我认为实际上是一个基本的 rails 问题。我想通过 AJAX使用`follow`or gem 方法。`like`你如何在ajax中使用这样的gem方法？我需要创建一个控制器（gem 不会自动生成它们）还是有更简单的方法？

# javascript - 如何在大量代码中跟踪逻辑流

> ID：14251160
> 
> 赞同：2
> 
> 时间：2013-01-10T05:06:22.870
> 
> 标签：javascript, optimization, coding-style

我正在为我的网站创建一个统计页面，它以图表的形式提供报告。它有一个 JavaScript 文件，其中包含大约 500 到 800 行代码，并发送近 5 到 8 个 ajax 请求来获取数据。随着代码行数的增加，跟踪实际发生的事情变得更加困难。

我无法跟踪代码的哪一部分正在实现特定的业务逻辑。

是否有工具或更好的方法来记录代码和它实现的一些方便的业务逻辑，我可以在编辑代码期间参考这些内容，以便我跟踪代码将在某个时间点执行的活动。

例如，检查下面的链接以获取测试报告的文档。结合业务逻辑和功能（代码）以跟踪代码的一些类似方法会做得很好。

[点击这里](http://www.9lessons.info/2011/07/how-to-prepare-better-test-report.html)

谢谢您的回复

# iphone - cocos2d 使用 CCSpeed 动态改变动画速度

> ID：14251161
> 
> 赞同：3
> 
> 时间：2013-01-10T05:06:27.373
> 
> 标签：iphone, animation, cocos2d-iphone

在一个简单的游戏中，一个角色有一个大约 15 帧的行走动画。基于加速度计的是速度在任一方向的变化。我希望动画相应地加速或减速。我意识到一旦动画被初始化，你就不能改变延迟速度，而是需要创建一个新的动画。但由于速度几乎不断变化，如果我不断重置动画，它总是会卡在同一帧上。

**有没有办法找到动画当前所在的帧，停止它，然后创建一个具有相同帧但从上一个动画结束处开始的新动画？**

否则有人知道如何实现动态变化的动画延迟时间吗？

编辑：

我已经尝试使用 CCSpeed 从 Learn Cocos2d 2 中的示例中执行此操作。这是代码：

```
CCRepeatForever *walkLeftRepeat = [CCRepeatForever actionWithAction:[CCAnimation animationWithSpriteFrames:walkLeftFrames]];

self.walkLeft = [CCSpeed actionWithAction:walkLeftRepeat speed:animationWalkingSpeed]; 
```

我收到以下警告：不兼容的指针类型将“CCRepeatForever *”发送到“CCActionInterval *”类型的参数

这是我所遵循的示例：

```
CCRepeatForever* repeat = [CCRepeatForever actionWithAction:rotateBy];
CCSpeed* speedAction = [CCSpeed actionWithAction:repeat speed:0.5f]; 
```

第二次编辑：

然后我尝试了这个：

```
CCAnimation *walkLeftRepeat = [CCAnimation animationWithSpriteFrames:walkLeftFrames];
CCAnimate *temp = [CCAnimate actionWithAnimation:walkLeftRepeat];
CCAnimate*temp2 = [CCRepeatForever actionWithAction:temp];
self.walkLeft = [CCSpeed actionWithAction:temp2 speed:animationWalkingSpeed];
[_guy runAction:_walkLeft]; 
```

最后编辑。通过添加动画延迟来解决它不显示的问题。

这不会给出任何错误，但没有任何反应。谢谢！

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-01-10T12:41:40.990

无需重新创建动画。使用带有 CCAnimate 动作的 CCSpeed 动作作为其内部动作。然后您可以修改 CCSpeed 动作的 speed 属性来加快或减慢动画的速度。

另一种方法是自己推进框架。这很容易做到，您只需要一个预定的更新和一个告诉您何时更改到下一帧的计时器。您只需更改每帧添加到计时器的数量即可加快或减慢动画速度。如果计时器大于特定值，则更改帧并将计时器重置为 0。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-10T07:06:42.143

你可以在 Cocos2d 游戏中做到这一点：

```
-(void)preLoadAnim
{
     CCAnimation* animation = nil;
    animation = [[CCAnimationCache sharedAnimationCache]  animationByName:@"ANIMATION_HERO"];

    if(!animation)
    {
        CCSpriteFrameCache *cache = [CCSpriteFrameCache sharedSpriteFrameCache];

        NSMutableArray *animFrames = [NSMutableArray array];

        for( int i=1;i<=4;i++)
        {
            CCSpriteFrame *frame = [cache spriteFrameByName:[NSString stringWithFormat:@"HeroRun_%d.png",i]];
            [animFrames addObject:frame];
        }

        animation = [CCAnimation animationWithSpriteFrames:animFrames];

        animation.delayPerUnit = 0.5f; 
        animation.restoreOriginalFrame = NO;

        [[CCAnimationCache sharedAnimationCache] addAnimation:animation name:animName];
    }
}

-(void)runHeroSlowMode
{
     CCAnimation* animation = nil;
    animation = [[CCAnimationCache sharedAnimationCache]  animationByName:@"ANIMATION_HERO"];

    animation.delayPerUnit = 1.0f; 

    CCAnimate *animAction  = [CCAnimate actionWithAnimation:animation];
    CCRepeatForever *runningAnim  = [CCRepeatForever actionWithAction:animAction];
    runningAnim.tag = kTagHeroRunAction;

    [self stopActionByTag: kTagHeroRunAction];

    [heroSprite runAction:runningAnim];

}

-(void)runHeroFastMode
{
     CCAnimation* animation = nil;
    animation = [[CCAnimationCache sharedAnimationCache]  animationByName:@"ANIMATION_HERO"];

    animation.delayPerUnit = 0.1f; 

    CCAnimate *animAction  = [CCAnimate actionWithAnimation:animation];
    CCRepeatForever *runningAnim  = [CCRepeatForever actionWithAction:animAction];
    runningAnim.tag = kTagHeroRunAction;

    [self stopActionByTag: kTagHeroRunAction];
    [heroSprite runAction:runningAnim];

} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-04-07T09:15:53.990

我也面临同样的问题。在我的游戏中，每当我收集东西时，我的速度都会提高。那时我在当前帧暂停了我的动画，改变了它的延迟时间，然后恢复它....现在它的工作

# xslt - Umbraco 库 getMedia 父节点属性 xslt

> ID：14251163
> 
> 赞同：0
> 
> 时间：2013-01-10T05:06:52.797
> 
> 标签：xslt, properties, umbraco, parent

如何使用“umbraco.library:GetMedia”从媒体项的父节点获取属性？

这使我可以获取当前节点“@nodeName”

```
<xsl:value-of select="umbraco.library:GetMedia(., 0)/@nodeName" /> 
```

我想获取当前节点“@nodeName”的父节点，我尝试了以下方法，但它不起作用：

```
<xsl:value-of select="umbraco.library:GetMedia(., 0)/../@nodeName" /> 
```

谁能帮我吗？

干杯，合资企业

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-10T22:28:39.560

通过调用 GetMedia() 和变量中的 @parentID 属性，我可以使用以下方法使其工作：

```
<xsl:template match="/">
        <!-- Do not call unless an image was picked -->
        <xsl:apply-templates select="$currentPage/image[normalize-space()]" />
</xsl:template>

<xsl:template match="image">
        <!-- Note: These WILL fail if no media is selected -->
        <xsl:variable name="mediaNode" select="umbraco.library:GetMedia(., false())" />
        <xsl:variable name="parentMedia" select="umbraco.library:GetMedia($mediaNode/@parentID, false())" />

        <p>
                Media: <xsl:value-of select="$mediaNode/@nodeName" />
        </p>
        <p>
                Parent: <xsl:value-of select="$parentMedia/@nodeName" />
        </p>
</xsl:template> 
```

# asp.net - 从服务器加载内容而不回发

> ID：14251165
> 
> 赞同：1
> 
> 时间：2013-01-10T05:07:05.850
> 
> 标签：asp.net, slider

我有一个 div，在里面我需要展示一张 div 的幻灯片。在页面加载时，只有 3 个 div 幻灯片，但是当所有三个 div 都显示在下一个按钮上时，我想加载更多 div（实际上我在 sql 数据库上有数据，我需要获取它们并在页面上打印每次按下下一个按钮时都有一个幻灯片 div）。(ASP.NET)

我如何实现这一目标？最好的方法是什么？阿贾克斯，javascript，jquery。给我一个方法。谢谢你。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-10T05:08:33.440

可能有很多可能性，但您可以使用[**ASP.net ajax 控制工具包**](http://www.asp.net/ajaxlibrary/AjaxControlToolkitSampleSite/)中提供的 asp.net 更新面板，它很容易集成，并且您最终需要做的工作非常少。

另一种选择是使用[**jQuery ajax**](http://api.jquery.com/jQuery.ajax/)，它可以相对更有效并为您提供更多控制，但它需要良好的 javascript/jQuery 技能。本[教程](http://encosia.com/using-jquery-to-directly-call-aspnet-ajax-page-methods/)是在 asp.net 中使用 jQuery ajax 的良好起点。

# twitter-bootstrap - Yii Bootstrap Gridview 列标题显示插入符号

> ID：14251167
> 
> 赞同：1
> 
> 时间：2013-01-10T05:07:19.620
> 
> 标签：twitter-bootstrap, yii

在 YiiBootstrap`TbGridView`中，列标题默认使用 ^ 进行排序。

`\protected\extensions\bootstrap\widgets\TbDataColumn.php`它在第 28 行的文件中提到，例如

```
if ($sort->resolveAttribute($this->name) !== false)
    $label .= '<span class="caret"></span>'; 
```

因此，它显示为标签旁边带有向下箭头的列标题。

我希望我的列标题旁边没有插入符号，但我不想在源小部件中更改它，因为这意味着我们将来更新扩展时会遇到问题。

有没有办法用`TbGridView`小部件本身的属性来做到这一点？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-11T08:36:33.333

如果您不想禁用对该列的排序（这也会摆脱它），那么您唯一的方法就是使用您自己的小部件。由于`TbDataColumn`某些原因，该类被硬编码到 TbGridView 中。（你可以在这里看到[源](https://bitbucket.org/Crisu83/yii-bootstrap/src/b8ebaa303cc3/widgets/TbGridView.php?at=default#cl-105)）

您可以从 继承`TbGridView`，覆盖该函数并将其替换为调用您的`EDataColumn`类的函数。然后你可以对`ETbDataColumn`继承做同样的事情`TbDataColumn`，只覆盖你需要的函数。

例如

```
Yii::import('Bootstrap.widgets.TbGridView');
Yii::import('ext.widgets.ETbDataColumn');

/**
 * Bootstrap grid data column.
 */
class ETbGridView extends TbGridView
{

    public function createDataColumn($text)
    {
         if (!preg_match('/^([\w\.]+)(:(\w*))?(:(.*))?$/', $text, $matches))
                    throw new CException(Yii::t('zii', 'The column must be specified in the format of "Name:Type:Label", where "Type" and "Label" are optional.'));

            $column = new ETbDataColumn($this);
     ...... 
```

但是，如果您有回馈的心情，您可以随时更改 YiiBootstrap`TbGridView`以使用参数来确定要使用的列类，并在此处向 YiiBootstrap 提交拉取请求：[https ://bitbucket.org/Crisu83/yii-bootstrap /pull-requests](https://bitbucket.org/Crisu83/yii-bootstrap/pull-requests) 将更改放入源代码并为其他所有人解决此问题 :)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-10-30T13:22:08.273

我知道我正在回答一个老问题，但希望这会帮助其他人寻找解决方案。以下是我解决此问题的方法：

假设最初的问题是关于在未用于排序的列上隐藏插入符号，则以下 css 更改应该有助于在不更改扩展源代码的情况下实现结果。我认为在所有可排序的列上显示插入符号是一个错误，相反插入符号应该只出现在用于对当前结果集进行排序的列上，并且它应该具有正确的方向。

```
.grid-view thead .caret {
    display: none;
}

.grid-view thead .asc .caret,
.grid-view thead .desc .caret {
    display: inline-block;
}

.grid-view thead .asc .caret {
    border-top: none;
    border-bottom: 4px solid;
} 
```

# php - 打破MySQL中的特殊字符

> ID：14251169
> 
> 赞同：1
> 
> 时间：2013-01-10T05:07:47.093
> 
> 标签：php, mysql, pipe

我有一个需要`pipe |`在数据库中检查 a 的要求。如果发现我需要以不同的方式玩耍。

这是我的数据库表的样子 `//Please check the | character in row 11`

![在此处输入图像描述](../Images/ea756d04985b6d225579e63c2ad6aee8.png)

如果我通过 sql 命令运行一个组 myresult 将是

![在此处输入图像描述](../Images/3c0aa7936e87413a0fc053304af3b9b4.png)

哪个是对的。

但我的要求是打破`|`任何单元格并相应地进行计数。预期结果为

![在此处输入图像描述](../Images/af1ee4d365b9d348ed806dc43e94ee55.png)

这可以单独使用 MySQL 命令完成，还是我还需要使用一些 php 脚本？

任何片段都会有所帮助。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-10T05:52:15.560

希望这个脚本可以帮助你

```
$frt =array();
$stmt = $mysqli->prepare("select `fruits` from `meva`") or $mysqli->error ;
$stmt->execute();
$stmt->bind_result($fruits);
 while ($stmt->fetch()) {
    $frt[]=$fruits;
  }

// var_dump($frt); //check all the fruits is in array  
 $res = array();
 $tot = count($frt);
 for($i=0;$i<=$tot;$i++)
  {

    if(preg_match("/\|/", $frt[$i]))
        {
    $res[] =explode( '|', $frt[$i]);
        }else
        {
    $res[] = $frt[$i];
        }
  }

 // var_dump($res);

$it = new RecursiveIteratorIterator(new RecursiveArrayIterator($res));
foreach($it as $v) {
  $ary[]=$v;
 }

    $all_fruits = array();
    $tot_ary = count($ary);
  for($io=0;$io<=$tot_ary;$io++)
    {
      if(isset($ary[$io])!='')
    {
     $all_fruits[] = trim($ary[$io]);
    }else
    {
      continue;
    }
    }
 // var_dump($all_fruits);

$newArray = array_count_values($all_fruits);

foreach ($newArray as $key => $value) {
        echo "$key - <strong>$value</strong> <br />"; 
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-10T05:17:59.983

您可以使用 php 并按照以下方式进行操作

```
$query = mysql_query("SELECT fruit FROM meva");

$cnt_array   = array();

while($row   = mysql_fetch_assoc($query)){
     $fruits = $row["fruit"];
     $fruit  = explode("|", $fruits);
     foreach($fruit as $fru){

         if(array_key_exists($fru,$cnt_array)){
            $cnt_array[$fru]   = $cnt_array[$fru]+1;
         }
          else{
            $cnt_array[$fru]   = 1;
          }
     }  
    }

print_r($cnt_array); 
```

注意：此代码未经测试，请尝试并相应编辑

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-10T05:23:01.267

我认为你应该修复你的数据。您可以连续运行这两个语句，直到修复所有数据：

```
INSERT INTO meva (fruits)
SELECT SUBSTR(fruits, LOCATE('|', fruits) - 1)  FROM meva
WHERE LOCATE('|', fruits) > 0;

UPDATE meva
SET fruits = SUBSTR(fruits, LOCATE('|', fruits) + 1)
WHERE LOCATE('|', fruits) > 0; 
```

这将修复桌子。

但是，如果您的面试问题（或学校作业）只是按原样从表格中计数，那么只有在您知道给定行中的最大管道数时才能这样做。

因此，如果一行中的最大管道数为 1，那么您的 select 语句将是：

```
SELECT count(*),
CASE WHEN LOCATE('|', fruits) > 0 THEN SUBSTR(fruits, LOCATE('|', fruits) - 1) ELSE fruits END
FROM meva
GROUP BY CASE WHEN LOCATE('|', fruits) > 0 THEN SUBSTR(fruits, LOCATE('|', fruits) - 1) ELSE fruits END 
```

如果您可以连续拥有多个管道，那么您的 CASE 语句将更加复杂

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-10T05:28:30.453

实际上最好的解决方案是改变你的数据结构。不推荐这种当前结构。每个“单元格”必须只包含一个值。如果您需要为特定 ID 存储多个 fuirt，请使用

```
id    fruit

11    Apple
11    Mango 
```

这可能需要对您的代码/表格进行一些调整，但这将防止未来需要更多的黑客攻击。

# jquery - 悬停时滑动菜单的问题

> ID：14251170
> 
> 赞同：-1
> 
> 时间：2013-01-10T05:07:49.910
> 
> 标签：jquery, html

这是我的问题的链接。请帮助我修复滑动菜单保持稳定，直到可以选择菜单中的子菜单链接。

我试过下面的代码

html

```
<div id="menu">
<ul id="tabs">
<li id="tabsli"><a href="#">Home</a></li>
<li id="tabsli"><a href="#tab1">Tab1</a></li>

<div id="tab1" class="subtabs">
    <ul>
    <li id="tabsli1"><a href="slideshow.html">slideshow</a></li>
    <li id="tabsli1"><a href="#">Tab1-2</a></li>
    <li id="tabsli1"><a href="#">Tab1-3</a></li>
    </ul>
</div>

<li id="tabsli"><a href="#tab2">Tab2</a></li>

<div id="tab2" class="subtabs">
    <ul>
    <li id="tabsli1"><a href="RegForm.html">Register</a></li>
    <li id="tabsli1"><a href="Pagination.html">Simple Pagination</a></li>
    <li id="tabsli1"><a href="#">Tab2-3</a></li>
    </ul>
</div>
<li id="tabsli"><a href="#"> Contact Us</a></li>
</ul>

</div> 
```

jQuery

```
$(document).ready(function(){
  menu();
    function menu(){
        $('.subtabs').hide();
    $("#tabs a").hover(function(){
      $(this.hash).slideToggle("slow");
    });
 };
}); 
```

[**提琴手**](http://jsfiddle.net/eqkbR/9/)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-10T05:13:58.323

您不能在`<div>`标签中间添加`<ul>`标签。那是糟糕的html语法。您要做的是将作为子菜单的`<div>`哪个添加到`<li>`用于打开子菜单的哪个中。应该在`<li>`标签上使用悬停方法来隐藏和显示`<div>`.

# notepad++ - 记事本正则表达式搜索和替换

> ID：14251172
> 
> 赞同：0
> 
> 时间：2013-01-10T05:08:13.763
> 
> 标签：notepad++

有谁知道如何在 Notepad ++ 搜索和替换工具中使用正则表达式来删除 ABCD 之前的任何内容和 after.in 之后的任何内容

FROM：测试 ABCD.496294$#%.intobedelete；

收件人：ABCD.496294$#%.in

非常感激

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-10T23:26:58.553

取决于您所说的`before or after`ABCD，是的，您可以。

如果您想替换之前的东西，`ABCD`也只需将其放在`ABCD`替换框的末尾即可。

如果您想在替换框末尾`ABCD`放置后替换东西`ABCD`

例如

toSearch: **ABCD.*?\n**

toReplaceWith: **ABCD_InsertContentToReplaceTextWithHere\n**

* * *

您可能不得不使用 notepad++ 的正则表达式语法，但概念就在那里

# time-series - Stata：将一组时间序列变量的每个变量与另一组的相应变量相乘

> ID：14251178
> 
> 赞同：1
> 
> 时间：2013-01-10T05:09:02.990
> 
> 标签：time-series, stata

作为Stata的新手，我很难弄清楚如何执行以下操作：

我在单个数据文件（即 20 个变量，p01-p10 和 q01-q10）中有 10 种产品的销售价格 (p) 和销售数量 (q) 的时间序列数据。我正在努力使用适当的 stata 命令来计算这 10 种产品（即 pq01-pq10）中每一种产品的销售收入 (pq) 时间序列。

非常感谢您的帮助。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-10T09:46:13.093

```
forval i = 1/10 { 
      local j : display %02.0f `i' 
      gen pq`j' = p`j' * q`j' 
} 
```

超过 1/10 的标准循环不会让您在 01/09 中获得前导零。为此，我们需要使用适当的格式。也可以看看

@article {pr0051，作者 =“新泽西州考克斯”，标题 =“Stata 提示 85：循环遍历非整数”，期刊 =“Stata 期刊”，出版商 =“Stata Press”，地址 =“德克萨斯大学站”，体积 = "10", number = "1", year = "2010", pages = "160-163(4)", url = "http://www.stata-journal.com/article.html?article=pr0051" }

（稍后添加）另一种方法是

```
local j = string(`i', "%02.0f") 
```

这使得您从数字 1、...、10 映射到字符串“01”、...、“10”更加明确。

# sql - 查找不存在连接的记录

> ID：14251180
> 
> 赞同：11
> 
> 时间：2013-01-10T05:09:43.227
> 
> 标签：sql, ruby-on-rails, postgresql

我有一个范围来限制所有`questions`用户是否对它们进行了投票。在模型中：

```
scope :answered_by, lambda {|u| joins(:votes).where("votes.user_id = ?", u.id) }
scope :unanswered_by, lambda {|u| joins(:votes).where("votes.user_id != ?", u.id) } 
```

在控制器中，我这样称呼它们：

```
@answered = Question.answered_by(current_user)
@unanswered = Question.unanswered_by(current_user) 
```

unanswered_by 范围不正确。我基本上想找到没有投票的地方。相反，它会尝试查找是否存在不等于当前用户的投票。任何想法如何返回不存在连接的所有记录？

* * *

## 回答 #1

> 赞同：21
> 
> 时间：2013-01-10T14:46:37.447

使用[**`EXISTS`**](https://www.postgresql.org/docs/current/functions-subquery.html#FUNCTIONS-SUBQUERY-EXISTS)表达式：

```
WHERE NOT EXISTS (
   SELECT FROM votes v  -- SELECT list can be empty
   WHERE  v.some_id = base_table.some_id
   AND    v.user_id = ?
   ) 
```

### 区别

... 在`NOT EXISTS()`(Ⓔ) 和`NOT IN()`(Ⓘ) 之间是双重的：

1.  *表现*

    Ⓔ 一般比较快。一旦找到第一个匹配项，它就会停止处理子查询。[手册：](https://www.postgresql.org/docs/current/functions-subquery.html#FUNCTIONS-SUBQUERY-EXISTS)

    > 子查询通常只会执行足够长的时间来确定是否至少返回了一行，而不是一直到完成。

    Ⓘ 也可以通过查询计划器进行优化，但程度较小，因为`NULL`处理使其更复杂。

2.  *正确性*

    如果子查询表达式中的结果值之一是`NULL`，Ⓘ的结果是`NULL`，而普通逻辑会期望`TRUE`- 并且Ⓔ将返回`TRUE`。[手册：](https://www.postgresql.org/docs/current/functions-subquery.html#FUNCTIONS-SUBQUERY-NOTIN)

    > 如果所有每行结果不相等或为 null，且至少有一个为 null，则 的结果`NOT IN`为 null。

本质上，`(NOT) EXISTS`在大多数情况下是更好的选择。

### 例子

您的查询可能如下所示：

```
SELECT *
FROM   questions q
WHERE  NOT EXISTS (
    SELECT FROM votes v 
    WHERE  v.question_id = q.id
    AND    v.user_id = ?
    ); 
```

不要加入到基本查询中*。*`votes`那将使努力无效。

除了`NOT EXISTS`和之外，`NOT IN`还有其他语法选项`LEFT JOIN / IS NULL`和`EXCEPT`。看：

*   [选择其他表中不存在的行](https://stackoverflow.com/questions/19363481/select-rows-which-are-not-present-in-other-table/19364694#19364694)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-10T05:18:16.733

试试这个，让我知道它是否有效

**编辑-1**

```
scope :unanswered_questions, lambda { joins('LEFT OUTER JOIN votes ON questions.id = votes.question_id').where('votes.question_id IS NULL') } 
```

**编辑-2**

```
scope :unanswered_by, lambda {|u| where("questions.id NOT IN (SELECT votes.question_id from votes where votes.user_id = ?)",u.id) } 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2015-09-03T14:40:56.167

如果你想以`EXISTS`优雅和 Rails 风格的方式进行查询，你可以使用我写的[Where Exists gem：](https://github.com/EugZol/where_exists)

```
Question.where_not_exists(:votes, user_id: current_user.id) 
```

当然，您也可以确定它的范围：

```
scope :unanswered_by, ->(user){ where_not_exists(:votes, user_id: user.id) } 
```

# sql-server - 执行多个动态 T-SQL 语句并在保持顺序的同时获取有限数量的唯一值

> ID：14251181
> 
> 赞同：1
> 
> 时间：2013-01-10T05:10:10.837
> 
> 标签：sql-server, sql-server-2005, dynamic-sql

我有一个`SourceTable`和一个表变量`@TQueries`，其中包含以 `SourceTable`.

预期结果是动态生成`SELECT`语句，这些语句返回由 in 中的谓词指定的 Id 列表`@TQueries`。每个动态生成的`SELECT`语句还需要以特定的顺序执行，并且最终的值集需要是唯一的，并且必须保留顺序。

幸运的是，需要检索多少值以及需要生成多少动态查询是有限制的。Id 列表最多应包含 10 个 Id，我们预计查询不会超过 7 个。

**以下是此设置的示例，而不是实际的数据/数据库：**

```
-- Set up some test data, this is quick and dirty just to provide some data to test against
IF NOT EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[SourceTable]') AND type in (N'U'))
BEGIN
    -- Create a numbers table, sorta
    SELECT TOP 20 
        IDENTITY(INT,1,1) AS Id,
        ABS(CHECKSUM(NewId())) % 100 AS [SomeValue]
    INTO [SourceTable]
    FROM sysobjects a
END

DECLARE @TQueries TABLE (
    [Ordinal] INT,
    [WherePredicate] NVARCHAR(MAX),
    [OrderByPredicate] NVARCHAR(MAX)
);

-- Simulate SELECTs with different order by that get different data due to varying WHERE clauses and ORDER conditions
INSERT INTO @TQueries VALUES ( 1, N'[Id] IN (6,11,13,7,10,3,15)',  '[SomeValue] ASC' ) -- Sort Asc
INSERT INTO @TQueries VALUES ( 2, N'[Id] IN (9,15,14,20,17)', '[SomeValue] DESC' ) -- Sort Desc
INSERT INTO @TQueries VALUES ( 3, N'[Id] IN (20,10,1,16,11,19,9,15,17,6,2,3,13)', 'NEWID()' ) -- Sort Random 
```

我的主要问题是避免使用 CURSOR 或逐行迭代。我最接近满足此条件的集合操作是使用表变量来存储每个查询或大量 CTE 的结果。

欢迎提出建议和意见。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-12T18:58:49.440

这是一个构建单个语句来运行所有查询并返回结果的解决方案。

它在迭代表时使用与您的答案类似的方法`@TQueries`，即它还使用`{...}`列值`@TQuery`应该去的标记，并将值与嵌套`REPLACE()`调用一起放在那里。

除此之外，它在很大程度上取决于[排名功能](http://msdn.microsoft.com/en-us/library/ms189798.aspx "排名函数 (Transact-SQL)")，我不确定是否真的*滥用*它们。您需要先测试此方法，然后再决定它是否比您目前使用的方法更好或更差。

```
DECLARE @QueryTemplate nvarchar(max), @FinalSQL nvarchar(max);

SET @QueryTemplate =
N'SELECT
  [Id],
  QueryRank = {Ordinal},
  RowRank = ROW_NUMBER() OVER (ORDER BY {OrderByPredicate})
FROM [dbo].[SourceTable]
WHERE {WherePredicate}
';

SET @FinalSQL =
N'WITH AllData AS (
' +
SUBSTRING(
  (
    SELECT
      'UNION ALL ' +
      REPLACE(REPLACE(REPLACE(@QueryTemplate,
        '{Ordinal}'         , [Ordinal]         ),
        '{OrderByPredicate}', [OrderByPredicate]),
        '{WherePredicate}'  , [WherePredicate]  )
    FROM @TQueries
    ORDER BY [Ordinal]
    FOR XML PATH (''), TYPE
  ).value('.', 'nvarchar(max)'),
  11,                      -- starting just after the first 'UNION ALL '
  CAST(0x7FFFFFFF AS int)  -- max int; no need to specify the exact length
) +
'),
RankedData AS (
  SELECT
    [Id],
    QueryRank,
    RowRank,
    ValueRank = ROW_NUMBER() OVER (PARTITION BY [Id] ORDER BY QueryRank)
  FROM AllData
)SELECT TOP (@top)
  [Id]
FROM RankedData
WHERE ValueRank = 1
ORDER BY
  QueryRank,
  RowRank
';

PRINT @FinalSQL;
EXECUTE sp_executesql @FinalSQL, N'@top int', 10; 
```

基本上，每个子查询都会获得这些辅助列：

*   `QueryRank`– 一个常量值（在子查询的结果集中），源自`[Ordinal]`；

*   `RowRank`– 分配给基于 的行的排名`[OrderByPredicate]`。

结果集被 UNIONed，然后每个唯一值的每个条目再次`ValueRank`根据查询排名进行排名 ()。

拉取最终结果集时，重复项被抑制（通过条件`ValueRank = 1`），并`QueryRank`在`RowRank`子句中使用and`ORDER BY`以保留原始行顺序。

我使用`EXECUTE sp_executesql @query`了代替`EXECUTE (@query)`，因为前者允许您向查询中添加参数。特别是，我参数化了要返回的结果数量（的参数`TOP`）。但是你当然可以直接将该值连接到动态脚本中，就像其他事情一样，如果你更`EXECUTE ()`喜欢`EXECUTE sq_executesql`.

如果您愿意，可以[在 SQL Fiddle](http://sqlfiddle.com/#!3/6e106/2)尝试此查询。（注意：SQL Fiddle 版本将`@TQueries`table 变量替换为`TQueries`table。）

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-10T18:30:34.697

这是我从最初的回复拼凑而成的，并通过@AndriyM 的评论加以改进

```
DECLARE @sql_prefix NVARCHAR(MAX);
SET @sql_prefix = 
N'DECLARE @TResults TABLE (
    [Ordinal] INT IDENTITY(1,1),
    [ContentItemId] INT
);

DECLARE @max INT, @top INT;
SELECT @max = 10;';

DECLARE @sql_insert_template NVARCHAR(MAX), @sql_body NVARCHAR(MAX);
SET @sql_insert_template = 
N'SELECT @top = @max - COUNT(*) FROM @TResults; 
INSERT INTO @TResults
SELECT TOP (@top) [Id] 
FROM [dbo].[SourceTable] 
WHERE 
    {WherePredicate} 
    AND NOT EXISTS (
        SELECT 1 
        FROM @TResults AS [tr] 
        WHERE [tr].[ContentItemId] = [SourceTable].[Id]
    )
ORDER BY {OrderByPredicate};';

    WITH Query ([Ordinal],[SqlCommand]) AS (
        SELECT 
            [Ordinal],
            REPLACE(REPLACE(@sql_insert_template, '{WherePredicate}', [WherePredicate]), '{OrderByPredicate}', [OrderByPredicate])
        FROM @TQueries
    )
    SELECT 
        @sql_body = @sql_prefix + (
            SELECT [SqlCommand]
            FROM Query
            ORDER BY [Ordinal] ASC
            FOR XML PATH(''),TYPE).value('.', 'varchar(max)') + CHAR(13)+CHAR(10)
            +N' SELECT * FROM @TResults ORDER BY [Ordinal]';

    EXEC(@sql_body); 
```

基本思想是使用一个表变量来保存每个查询的结果。我为 SQL 创建了一个模板，并根据存储在`@TQueries`.

整个脚本完成后，我使用 EXEC 运行它。

# php - 卡在 MySQL 查询中

> ID：14251182
> 
> 赞同：1
> 
> 时间：2013-01-10T05:10:14.090
> 
> 标签：php, mysql

```
SELECT id, case_id
FROM `case_note`
WHERE `type` = 'follow-up-open'
AND `follow_up_status` =1
GROUP BY `case_id`
ORDER BY case_id DESC 
```

最近我使用这个查询来获得独特的结果，我得到的`id, case_id`是：

```
id    case_id
141   23
84    16
47    14
36    1 
```

此查询显示代理创建的跟进，这将显示所有`follow_up_status=1`跟进创建意味着跟进，`follow_up_status=2`意味着跟进关闭。

现在的问题是让我们来谈谈`case_id=23`。此案已结案`id=145`。现在我不想展示这个案例。但是，如果将来如果一个案例将在此打开，`case_id`那么它将再次显示在后续列表中。

假设一个新案例打开，`id=149`然后我想再次显示这个案例。我不知道如何处理这种方法，请帮助我指导一些线索。

**更新：**这是示例数据： ![样本数据](../Images/ff6fd9a92ad17dddb4695460d8f01a5d.png)

**更新：**我的问题已解决，但不知道如何关闭此问题，我刚刚在此处更新。我试图在单个查询中解决我的问题，但我已将我的查询分成两个查询并解决了问题。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-10T05:30:34.167

我经历了同样的情况，我所做的是，

您可以保留一个日志表。假设您的表名是大小写。创建一个名为 case_log 的表。

当您想再次打开案例时，请将现有记录移动到日志表中。并使用新数据更新现有行。

最终，您将在日志表中拥有旧记录，在当前表中拥有新记录，您可以在其中跟踪任何您想要的案例的进度。通过使用 case_id，您可以跟踪案件发生的情况。

如果您不想以正确的方式跟踪过去的数据，请更新表格。我希望您需要所有数据，因为您正在遵循此程序。

如果您有任何问题，请告诉我。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-10T05:27:50.177

从臀部开始，但我会尝试重新创建你的 SQL 表来自己测试它......

```
SELECT `id`, `case_id`
FROM `case_note`
WHERE `type` = 'follow-up-open'
GROUP BY `case_id`
HAVING SUM( `follow_up_status` ) = 1
ORDER BY `case_id` DESC 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-10T05:40:53.003

当 case_id 23 被 id 149 重新打开时，您可以使用 UPDATE 来更改它的后续状态：

```
UPDATE case_note
SET id=149, follow_up_status=2
WHERE case_id=23 
```

或者，如果您想保留关于 case_id 23 的信息，一旦被 id 141 关闭并记录新的案例状态，只需添加一个新行：

```
id    case_id    follow_up_status
149   23         1 
```

此行将由您当前的查询选择。

# javafx - 在 Javafx (Ubuntu) 中播放视频

> ID：14251183
> 
> 赞同：1
> 
> 时间：2013-01-10T05:10:15.887
> 
> 标签：javafx

我的代码 id

```
public class Video1 extends Application {

private static String arg1;

@Override public void start(Stage stage) {
    stage.setTitle("Media Player");

// Create media player

    Media media = new Media("/home/ubuntu/NetBeansProjects/VideoPaly/src/videopaly/vid.flv");

    javafx.scene.media.MediaPlayer mediaPlayer = new javafx.scene.media.MediaPlayer(media);
    mediaPlayer.setAutoPlay(true);
    mediaPlayer.setCycleCount(javafx.scene.media.MediaPlayer.INDEFINITE);

// Print track and metadata information
    media.getTracks().addListener(new ListChangeListener<Track>() {
public void onChanged(Change<? extends Track> change) {
            System.out.println("Track> "+change.getList());
        }
    });
    media.getMetadata().addListener(new MapChangeListener<String,Object>() {
public void onChanged(MapChangeListener.Change<? extends String, ? extends Object>   change) {
            System.out.println("Metadata> "+change.getKey()+" -> "+change.getValueAdded());
        }
    });

 // Add media display node to the scene graph
    MediaView mediaView = new MediaView(mediaPlayer);
    Group root = new Group();
    Scene scene = new Scene(root,800,600);
    root.getChildren().add(mediaView);
    stage.setScene(scene);
    stage.show();
}

public static void main(String[] args) {
if (args.length > 0) {
        arg1 = args[0];
    }
    Application.launch(args);
}
} 
```

当我运行上面的代码时，我想从 Ubuntu 的资源播放视频，它会给出类似 java.lang.IllegalArgumentException: uri.getScheme() == null 的错误！在线

```
Media media = new Media("/home/ubuntu/NetBeansProjects/VideoPaly/src/videopaly/vid.flv"); 
```

有什么想法吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-10T15:17:17.373

来自 JavafX2 [Media](http://docs.oracle.com/javafx/2/api/javafx/scene/media/Media.html#Media%28java.lang.String%29) Class 构造函数文档：

> 构造一个 Media 实例。这是指定媒体源的唯一方法。源必须代表一个有效的 URI 并且是不可变的。**仅支持 HTTP、FILE 和 JAR URL**。如果提供的 URL 无效，则会抛出异常
> 
> **抛出**： **java.lang.IllegalArgumentException** - 如果**URI 字符串不符合 RFC-2396**或 Jar URL 规范（如果适用），或者是无法修改为符合格式的不符合格式。

所以你的源 uri 应该是这样的：

> 文件：// 媒体路径

# knockout.js - 用 Google Map Marker 淘汰 observableArray

> ID：14251190
> 
> 赞同：0
> 
> 时间：2013-01-10T05:10:40.893
> 
> 标签：knockout.js

我最近开始学习淘汰赛 js，我相信它适合一个独立的项目，该项目将是一个带有谷歌地图的 web 应用程序。

在寻找连接谷歌地图标记和 KO 中可观察数组的方法时，我偶然发现了你的 Ryan 的 jsfiddle (http://jsfiddle.net/rniemeyer/FcSmA/)。

我已经将它分叉到另一个，（http://jsfiddle.net/gizzat/ADexG/），我“听”到 tr 标签（表中的行对应于一个制造商）并更新标记信息（悬停时更改标记的颜色在表格行上）。

但我找不到相反方向的方法：在监听标记事件时影响 html（表格行）（我试图在悬停在某个标记上时突出显示表格行，第 29 行解释）。

如果您有任何建议/解决方案，我们会很高兴。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-10T05:19:34.543

我唯一能想到的就是在谷歌地图中为鼠标悬停事件添加一个监听器

```
google.maps.event.addListener(marker, "mouseover", function() {
            var rowId= this.rowId;
            $("#"+rowId).addClass("<ROWHIGHLIGHTCLASS>");
}); 
```

有关标记对象的更多信息在[这里](https://developers.google.com/maps/documentation/javascript/reference#Marker)

**从 Gizzat 的评论中编辑** 当您创建标记时，您可以为其自定义数据，例如

```
var markerA = new google.maps.Marker({
    map: map,
    position: new google.maps.LatLng(0, 0),
    rowId: "row1"
}); 
```

# asp.net - 使用 ASP.net 在 Mac/iOS 上打开 Numbers 应用程序

> ID：14251191
> 
> 赞同：-1
> 
> 时间：2013-01-10T05:10:49.270
> 
> 标签：asp.net, .net, ios, macos

我们有一个内置于 .net 的网站。其中一个页面检测用户使用的操作系统，然后根据该操作系统显示 xls/数字图标。

当用户单击该图标时，Excel 或 Numbers 应打开一张空白表。

这对于基于 microsoft 的操作系统运行良好，但在 macs/iOS 设备上没有运气。

.cshtml 文件中的代码调用控制器操作来打开任一应用程序。这是我们正在使用的当前代码：

**文件.cshtml**

```
// WINDOWS OS
if (ViewBag.os == "windows") {
    <li><a href='@Url.Action("LoadFile", "Footprint", new { os = "windows" }, null)'><img src='@Url.Content("~/Content/img/excelicon.png")' width="55px" height="55px" /></a>  </li>                                   

// MAC OR IOS                                            
} else {
  if (ViewBag.os == "mac") {
    <li><a href='@Url.Action("LoadFile", "Footprint", new { os = "mac" }, null)'><img src='@Url.Content("~/Content/img/numbersicon.png")' width="55px" height="55px" /></a>  </li>

} else {
  <li><a href='@Url.Action("LoadFile", "Footprint", new { os = "ios" }, null)'><img src='@Url.Content("~/Content/img/numbersicon.png")' width="55px" height="55px" /></a>  </li>                                     
} 
```

**控制器**

```
public ActionResult LoadFile(string os) {

  if (os == "windows") {
    System.Diagnostics.Process.Start("excel.exe", "/m");

  } else {    
    // Open Numbers.app
    ??
  }
  return Json(false, JsonRequestBehavior.AllowGet);
} 
```

有没有办法可以使用 Process.Start() 打开 Numbers.app？任何其他想法都会很棒！

在此先感谢， 凯特

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-10T05:14:56.080

不，没有普遍适用的方法可以在 Mac OS 或 iOS 上启动应用程序，而无需下载并打开与之关联的文件。

事实上，您的 Windows 代码也有问题——当单击其中一个链接时，它将**在服务器上**打开一个 Excel 实例，而不是在客户端计算机上。

# c++ - 声明后构造stl容器

> ID：14251192
> 
> 赞同：0
> 
> 时间：2013-01-10T05:10:59.263
> 
> 标签：c++, stl

如果我有一个因子函数`f`：

```
typedef std::vector<int> IntVec;
const IntVec f(...) {
    IntVec retval;
    ...
    return retval;
} 
```

我需要在声明后延迟定义如下：

```
IntVec instance;
if (...) {
    instance = f(a, ...);
}
else {
    instance = f(b, ...);
} 
```

有建议的方法吗？

* * *

现在，我使用容器指针来做到这一点：

```
std::auto_ptr<IntVec> pinstance(NULL);
if (...) {
    pinstance.reset(new IntVec(f(a, ...)));
}
else {
    pinstance.reset(new IntVec(f(b, ...)));
}
IntVec& instance(*pinstance); 
```

有没有更好的办法？

谢谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-10T05:12:47.213

`IntVec retval;`

所有这些创建的是一个空向量。它已初始化，但就内容而言，它是空的，您可以根据需要添加它。

还，

```
IntVec instance;
if (...) {
    instance = f(a, ...);
}
else {
    instance = f(b, ...);
} 
```

这是合法的。

实例确实被返回覆盖，`f`但效率损失可以忽略不计，我怀疑你是否经常运行这个函数。

你也可以做这样的事情..

```
IntVec instance = f(...?a:b,...);
                    //if 
```

如果你的`if`陈述和你展示的一样简单。

最后**，您使用指针的示例有缺陷**。

我猜`pinstance`不久将被销毁`instance`，在这种情况下`instance`成为一个**悬空的参考**。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-10T05:59:46.157

使用 C++11，如果您的数据类型支持移动赋值，则交换会非常有效：

```
#include <iostream>
#include <vector>
#include <string>
#include <ctime>
using namespace std;

int main()
{
    std::vector<int> inst;
    std::srand((unsigned)time(0));

    // code to set condition.
    if (rand()%2)
    {
        std::vector<int> v1(10,10);
        std::swap(inst, v1);

        cout << "V1" << endl;
        std::copy(v1.begin(), v1.end(), ostream_iterator<int>(cout,"\n"));
    }
    else
    {
        std::vector<int> v2(11,11);
        std::swap(inst, v2);

        cout << "V2" << endl;
        std::copy(v2.begin(), v2.end(), ostream_iterator<int>(cout,"\n"));
    }

    cout << "Instance" << endl;
    std::copy(inst.begin(), inst.end(), ostream_iterator<int>(cout,"\n"));

    return 0;
} 
```

**输出**

```
V2
Instance
11
11
11
11
11
11
11
11
11
11
11 
```

注意 V2 中没有内容，因为它已与空向量 inst 交换。

看起来你已经掌握了悬空参考，所以我将把它留到你问题的第二部分。

# ruby - 在 Rails 3 中单击按钮时自动复制到剪贴板？

> ID：14251193
> 
> 赞同：3
> 
> 时间：2013-01-10T05:11:06.840
> 
> 标签：ruby, ruby-on-rails-3

我正在 Rails 3 中开发一个应用程序，其中有一个包含 URL 的文本字段：

```
 <input type="text" readonly="readonly" value="<%= linkbunch_url(@link.link) %>" class="span4" id="url_copy" /> 
```

在此旁边我有一个按钮：

```
<button type="button" id="copy_link" class="btn btn-success"><i class="icon-share" ></i>&nbsp;&nbsp; Copy To ClipBoard</button> 
```

当有人单击此按钮时，我希望将文本字段中的 url 复制到剪贴板中。我该怎么做呢？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-10T05:25:04.477

无法通过 Web 浏览器使用 Ruby 来做到这一点。

您需要一个 JavaScript 方法。查看“[如何在 JavaScript 中复制到剪贴板？](https://stackoverflow.com/questions/400212/how-to-copy-to-the-clipboard-in-javascript) ”。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2018-08-21T18:00:19.400

这是对我有用的解决方案。我使用了这个[gemfile](https://github.com/sadiqmmm/clipboard-rails)

并且只安装了这些宝石：

```
gem 'clipboard-rails'
gem 'jquery-rails' 
```

另外，将这些包含在您的 app/assets/javascripts/application.js 文件中

```
//= require clipboard
//= require jquery
//= require jquery_ujs 
```

# ios - 执行后如何恢复：git reset --hard HEAD

> ID：14251194
> 
> 赞同：11
> 
> 时间：2013-01-10T05:11:09.927
> 
> 标签：ios, git

我犯了一个可怕的错误并执行“git reset --hard HEAD”，整天本地修改丢失，我该如何恢复？

谢谢百万

* * *

## 回答 #1

> 赞同：30
> 
> 时间：2013-01-10T06:59:29.267

您可以使用`git reflog`. 它将显示`HEAD`历史。您可以在 之前选择代表 HEAD 状态的哈希，`git reset --hard`并在另一个中使用此哈希`git reset --hard`。

* * *

## 回答 #2

> 赞同：17
> 
> 时间：2013-01-10T05:18:31.157

如果您尚未提交本地更改（或至少通过 暂存它们`git add`，它们就消失了。`git reset --hard`对于未提交的更改是一种破坏性操作。

如果您碰巧暂存了它们，但没有提交它们，请尝试`git fsck --lost-found`然后搜索的内容`.git/lost-found`- 它将包含已知提交未引用的所有对象，并且可能包括已暂存的文件版本.

* * *

## 回答 #3

> 赞同：17
> 
> 时间：2014-01-15T14:22:43.373

首轮：

```
git reflog 
```

它将显示您的 HEAD 指针的历史记录。然后从第一列中选​​择必要状态的 sha-code。如果您只进行一次 git reset --hard ，我认为它会在 HEAD@{1} 附近。进而

```
git merge SHA_CODE 
```

答对了！

您可以在此处找到更多示例：http: [//www.programblings.com/2008/06/07/the-illustrated-guide-to-recovering-lost-commits-with-git/](http://www.programblings.com/2008/06/07/the-illustrated-guide-to-recovering-lost-commits-with-git/)

* * *

## 回答 #4

> 赞同：4
> 
> 时间：2013-01-10T05:19:41.827

您可以恢复您`git add`编辑、使用`git fsck --lost-found`和插入的任何内容`.git/lost-found`。 `find .git/objects -type f | xargs ls -lt | sed 60q`会给你最后 60 件东西添加到回购中，这会有所帮助。

任何你没有`git add`删除的东西都会像你自己删除一样肯定消失。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2013-01-10T06:34:52.010

如果你的 IDE 有类似“本地历史”的东西（Eclipse 有这个，IDEA 也有 AFAIK），那么也许你可以通过这种方式恢复你的更改。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-05-07T16:59:38.353

我用我的 Intelliji“本地历史”恢复了不是“git add”的文件。

# c - 如何基于Linux GCC用汇编语言实现__sync_fetch_and_sub原子操作

> ID：14251196
> 
> 赞同：3
> 
> 时间：2013-01-10T05:11:15.753
> 
> 标签：c, linux, gcc, assembly, inline-assembly

我需要`__sync_fetch_and_sub`自己用汇编语言编写原子操作的实现，它基于没有内置函数的 GCC 3.4 `__sync_fetch_and_sub`。但我对组装知之甚少。

谁能帮我？任何帮助将不胜感激！！

这里是实现`__sync_fetch_and_add`

```
inline unsigned int __sync_fetch_and_add(volatile unsigned int* p, unsigned int incr)
{

    unsigned int result;
    __asm__ _volatile_ ("lock; xadd %0, %1" :
            "=r"(result), "=m"(*p):
            "0"(incr), "m"(*p) :
            "memory");
    return result;
} 
```

`__sync_fetch_and_add(int *ptr, int a_count)`就是将 a_count 原子地添加到 ptr 指向的变量中。返回之前在内存中的值。

`__sync_fetch_and_sub(int *ptr, int a_count)`就是从ptr指向的变量中原子地减去a_count。返回之前在内存中的值。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-01-10T05:44:18.690

此代码段使用原子版本的`xadd`: exchange 和 add：它以原子方式将右操作数添加到左侧（此处为内存），并在右操作数中返回内存中的初始值。前面的`lock`语句保证了操作的原子性。

但是，gcc 使用 AT&T 表示法，所以这个解释（取自 intel 手册）中的左右参数是相反的。

由于没有`xsub`关于英特尔架构的说明，因此最简单的模拟方法是首先取与您要减去的数字相反的数字，然后自动添加/交换它：

```
inline unsigned int __sync_fetch_and_sub(volatile unsigned int* p,
    unsigned int decr)
{
    unsigned int result;

    __asm__ __volatile__ ("lock; xadd %0, %1"
            :"=r"(result), "=m"(*p)
            :"0"(-decr), "m"(*p)
            :"memory");
    return result;
} 
```

~~我还删除了这些`unsigned`属性，我发现它们在这种情况下不相关。~~

# sql - 在另一台服务器上执行选择查询

> ID：14251201
> 
> 赞同：-1
> 
> 时间：2013-01-10T05:11:58.163
> 
> 标签：sql, sql-server, sql-server-2008, select

我需要在 Internet 上的 SQL Server 上从本地服务器执行 SQL 查询。

我不能使用复制，因为 Internet 上的服务器是共享 SQL 服务器，所以我可以使用复制、链接服务器等方法。

如果我尝试创建复制服务或链接服务器，则会发生以下错误

```
A required operation could not be completed. 
You must be a member of the sysadmin role to perform this operation. (SqlManagerUI) 
```

我认为选择查询应该包含远程服务器的登录详细信息。如何在查询中包含用户详细信息？

能给我推荐一个方法吗？？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-10T05:28:20.867

阅读有关[OPENQUERY](http://msdn.microsoft.com/en-us/library/ms188427.aspx)和链接服务器的信息

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-10T06:08:52.027

您可以使用[sqlcmd](http://msdn.microsoft.com/en-us/library/ms165702%28v=sql.105%29.aspx)实用程序连接到远程服务器，然后执行您的查询

```
sqlcmd -S IPAddress -U UserName -P Password
sqlcmd server_name[\instance_name] -U user_name -P password 
```

否则，您可以考虑使用`SSIS`package .to 调用您的`stored procedures`

[创建数据加载包](http://www.petri.co.il/ssis-creating-data-load-package.htm)

# php - sendmail.php 的麻烦。

> ID：14251202
> 
> 赞同：-2
> 
> 时间：2013-01-10T05:12:08.090
> 
> 标签：php, html, email

我有 2 段代码，我无法通过电子邮件表单发送邮件。我想我错过了我的 sendmail.php 文件。谁能帮我写这个或使用脚本来使用它？我拥有的代码是。

```
 var name = jQuery("input#name").val();
    if (name == "") {
  jQuery("span#name_error").show();
  jQuery("input#name").focus();
  return false;
}
  var email = jQuery("input#email").val();
  if (email == "") {
  jQuery("span#email_error").show();
  jQuery("input#email").focus();
  return false;
}

var emailReg = /^([\w-\.]+@([\w-]+\.)+[\w-]{2,4})?$/;
if(!emailReg.test(email)) {
jQuery("span#email_error2").show();
jQuery("input#email").focus();
  return false;
}

var subject = jQuery("input#subject").val();

  var msg = jQuery("textarea#msg").val();
  if (msg == "") {
  jQuery("span#msg_error").show();
  jQuery("textarea#msg").focus();
  return false;
}

    var dataString = 'name='+ name + '&email=' + email + '&subject=' + subject + '&msg=' + msg;
    //alert (dataString);return false;

  jQuery.ajax({
  type: "POST",
  url: "sendemail.php",
  data: dataString,
  success: function() {
    jQuery('#contactform').html("<div id='message'></div>");
    jQuery('#message').html("<strong>Contact Form Submitted!</strong>")
    .append("<p>We will be in touch soon.</p>")
    .hide()
    .fadeIn(1500, function() {
      jQuery('#message');
    });
  }
 });
return false;
}); 
```

});'

和

```
<div id="contactform">
                              <form id="contact" action="#">
                                  <fieldset>
                                      <span class="error" id="name_error">Please enter name !</span>
                                      <span class="error" id="email_error">Please enter email address !</span>
                                      <span class="error" id="email_error2">Please enter valid email address !</span>
                                      <span class="error" id="msg_error">Please enter message !</span>
                                      <label for="name" id="name_label">Your Name (required)</label>
                                      <input type="text" name="name" id="name" size="50" value="" class="text-input" />
                                      <label for="email" id="email_label">Your Email (required)</label>
                                      <input type="text" name="email" id="email" size="50" value="" class="text-input" />
                                      <label for="subject" id="subject_label">Subject</label>
                                      <input type="text" name="subject" id="subject" size="50"  value="" class="text-input" />
                                      <label for="msg" id="msg_label">Your Message (required)</label>
                                      <textarea rows="8" name="msg" id="msg" class="text-input"></textarea>
                                      <br />
                                      <input type="submit" name="submit" class="button" id="submit_btn" value="Send"/>
                                  </fieldset>
                              </form>
                        </div><!-- end contactform --> 
```

请帮忙。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-10T06:30:33.903

使用以下代码从您的发件人发送电子邮件

```
<?php
if(isset($_POST['submit']))
{
    $to = "someone@example.com"; // Replace This Id With Another ( Where U Need to Send )
    $subject = $_POST['subject']; // Enter A Subject..
    $message = 'Name : '.$_POST['name'].'<br/> Email : '.$_POST['email'].'<br/> Subject : '.$_POST['subject'].'<br/> Message : '.$_POST['msg'].' ';
    $from = $_POST['email'];
    $headers = "From:" . $from;
    mail($to,$subject,$message,$headers);
    echo "Mail Sent.";
}
?> 
```

*** 你需要`$to`用你的值替换值 *** 例如，如果你需要发送邮件来`abc@va.com`使用它`$to = "abc@va.com";`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-10T07:59:38.607

**只需尝试以下示例：**

***发送邮件.php***

```
<?php
$uname     =   mysql_real_escape_string($_POST['name']);
$uemail    =   mysql_real_escape_string($_POST['email']);
$usubject  =   mysql_real_escape_string($_POST['subject']);
$umsg      =   mysql_real_escape_string($_POST['msg']);
$to = 'john@gmail.com'; //Here add your to email where you have to sent after submitting the form
$subject = 'Test Mail';
$headers = "From: " . strip_tags($uemail) . "\r\n";
$headers .= "Reply-To: ". strip_tags($uemail) . "\r\n";
$headers .= "MIME-Version: 1.0\r\n";
$headers .= "Content-Type: text/html; charset=ISO-8859-1\r\n";
$message = '<html><body>';
$message .= '<table rules="all" style="border-color: #666;" cellpadding="10">';
$message .= "<tr style='background: #eee;'><td><strong>User Name :</strong> </td><td>".$uname."</td></tr>";
$message .= "<tr><td><strong>Email :</strong> </td><td>".$uemail."</td></tr>";
$message .= "<tr><td><strong>Subject :</strong> </td><td>".$usubject."</td></tr>";
$message .= "<tr><td><strong>Message :</strong> </td><td>".$umsg."</td></tr>";
$message .= "</table>";
$message .= "</body></html>";
mail($to, $subject, $message, $headers);
echo "<strong>Contact Form Submitted!</strong>";
?> 
```

我认为这可以帮助您解决问题。

# jquery-mobile - 如何创建我的网站的移动版本

> ID：14251203
> 
> 赞同：1
> 
> 时间：2013-01-10T05:12:08.747
> 
> 标签：jquery-mobile, mobile

我是移动应用程序的新手。我以前工作过 php、html .. 并使用它创建了网站

技术。现在我必须创建该网站的移动版本，例如 m.url.com。

请建议我简单和最佳的做法。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-10T05:15:27.097

如果您期望大量负载；并且想要非常好的性能，建议为每种移动类型开发本机应用程序。否则用 HTML5 开发应该就足够了。您已经知道 jquery-mobile 是一个非常好的开始开发移动版本的平台。它也很容易并且非常快速的开发。一旦在 HTML5 上开发；您可以使用 phonegap 将其部署在所有手机上。

关于普通网站到移动网站的自动转换：您可以创建一个简单的应用程序（10 行代码），您只需在其中调用 url.com，您的应用程序就准备好了。用户可以双击应用程序，在内部该应用程序将只显示 url.com，尽管用户会觉得他正在访问该应用程序。

说到在手机浏览器上运行的m.url.com：你的正常网站确实也可以在手机上运行；唯一的挑战是更小的屏幕尺寸和许多可能的尺寸。所以，我们只需要流畅的布局和一个新的 CSS，它的尺寸与较小的屏幕尺寸一致。如果原始网站是为移动版本开发的，作为未来的扩展；那么你需要做的就是创建一个替代的CSS。使用媒体查询；它会自动为手机选择替代 CSS。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-01-10T05:16:22.163

我会说使用 Twitter Bootstrap 进行快速响应设计，以及带有大量主题小部件集合的常用 CSS 结构。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-01-10T05:23:02.180

我世界推荐学习java或objective-c。虽然我做了一个快速的谷歌搜索并想出了一些可能有用的东西 [链接](https://www.google.com/#hl=en&safe=off&tbo=d&output=search&sclient=psy-ab&q=convert+website+into+app&fp=d28097c313be9925)

# visual-studio-2010 - 如何在不打开临时文件夹的情况下安装安装屏蔽 exe 文件

> ID：14251204
> 
> 赞同：0
> 
> 时间：2013-01-10T05:12:10.507
> 
> 标签：visual-studio-2010, installshield-2012

我正在使用**install Shield spring 2012**为 Windows 应用程序创建安装 exe 文件。为此，我添加了先决条件，一切顺利，安装时如果我选择自定义功能，则应运行先决条件，一切顺利。但是，当它满足运行先决条件时，它打开 Temp 文件夹并显示所有先决条件文件，似乎没有对我好。

请指导我如何在不打开任何临时文件夹的情况下安装安装盾牌。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-10T13:21:19.307

如果我正确理解您的问题，则表明尝试安装应用程序的先决条件会导致 Explorer 出现。如果是这种情况，诊断当时 InstallShield 向导正在做什么会很有用。对于设置先决条件，查看此内容的最简单方法是使用`setup.exe /debuglog`. 对于功能先决条件，您需要将属性指定`ISDEBUGLOG`为它应该使用的调试日志的完整路径（这可以与另一个路径相同或不同）。因此，对于两者，您都可以指定类似`setup.exe /debuglog /v"ISDEBUGLOG=\"C:\debuglog.txt\""`.

获得相关调试日志后，尝试找出导致 Explorer 出现的 setup.exe 启动的原因，然后评估它启动的原因。也许它就像一个先决条件定义一样简单，您可以使用先决条件编辑器进行更改。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-02-15T09:03:26.070

> 1.) 打开可再发行文件窗口
> 
> 2.）右键单击先决条件并选择“编辑先决条件”
> 
> 3.) 选择“应用程序运行”选项卡
> 
> 4.) 检查您是否指定了要启动的 exe/msi。如果它为空，它将在运行时打开文件资源管理器。

对于包含的每个先决条件，您需要在此位置放置正确的文件名。

# ruby-on-rails-3 - 如何修复此错误？：ActionView::MissingTemplate（缺少模板

> ID：14251206
> 
> 赞同：0
> 
> 时间：2013-01-10T05:12:41.087
> 
> 标签：ruby-on-rails-3, heroku

我的网站正在我的开发机器上运行，部署到 heroku 我在日志中得到了这个：

```
2013-01-11T19:29:38+00:00 app[web.1]: Started GET "/hints" for 206.255.88.68 at 2013-01-11 19:29:38 +0000
2013-01-11T19:29:38+00:00 heroku[nginx]: 206.255.88.68 - - [11/Jan/2013:19:29:38 +0000] "GET /hints HTTP/1.1" 500 643 "-" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10.8; rv:17.0) Gecko/20100101 Firefox/17.0" baconlanguagetomato.com
2013-01-11T19:29:38+00:00 heroku[router]: at=info method=GET path=/hints host=baconlanguagetomato.com fwd=206.255.88.68 dyno=web.1 queue=0 wait=0ms connect=1ms service=26ms status=500 bytes=643
2013-01-11T19:29:38+00:00 app[web.1]: 
2013-01-11T19:29:38+00:00 app[web.1]: ActionView::MissingTemplate (Missing template hints/index, application/index with {:locale=>[:en], :formats=>[:html], :handlers=>[:erb, :builder]}. Searched in:
2013-01-11T19:29:38+00:00 app[web.1]:   * "/app/app/views"
2013-01-11T19:29:38+00:00 app[web.1]:   * "/app/vendor/bundle/ruby/1.9.1/gems/devise-2.2.0/app/views"
2013-01-11T19:29:38+00:00 app[web.1]:   * "/app/vendor/bundle/ruby/1.9.1/gems/kaminari-0.14.1/app/views"
2013-01-11T19:29:38+00:00 app[web.1]: ):
2013-01-11T19:29:38+00:00 app[web.1]:   app/controllers/hints_controller.rb:34:in `index'
2013-01-11T19:29:38+00:00 app[web.1]: 
2013-01-11T19:29:38+00:00 app[web.1]: 
```

这是我的路线文件的一部分：

```
resources :hints do
    collection do
        get 'found_sentences'
    end
end 
```

这是我的hints_controller.rb：

```
#encoding: utf-8
class HintsController < ApplicationController
    # GET /hints
    # GET /hints.json

    authorize_resource

    before_filter :authenticate_user!

    layout "application", :except => [:found_sentences]

    # GET /hints/find_sentences/
    def found_sentences
        #authorize! :find_sentences, @user, :message => 'Not authorized as an administrator.'

        @hints = Hint.where("sentence LIKE ? AND user_id =?", "%#{params[:word]}%", current_user.id) #.order("LENGTH(sentence) ASC").limit(5)

        render :layout => 'layouts/found_sentences'

        #respond_to do |format|
        #   format.html # find_sentences.html.erb
        #   format.json { render json: @hints }
        #end

    end

    def index
        #authorize! :index, @user, :message => 'Not authorized as an administrator.'

        #@hints = Hint.order(:created_at).reverse()
        @hints = Hint.find_all_by_user_id(current_user.id).reverse()
        #@hints = @current_user.hints

        respond_to do |format|
            format.html # index.html.erb
            format.json { render json: @hints }
        end
    end

    # GET /hints/1
    # GET /hints/1.json
    def show
        #authorize! :show, @user, :message => 'Not authorized as an administrator.'

        @hint = Hint.find(params[:id])
        #@hint = @current_user.hints.find(params[:id])

        respond_to do |format|
            format.html # show.html.erb
            format.json { render json: @hint }
        end
    end

    # GET /hints/new
    # GET /hints/new.json
    def new
        #authorize! :new, @user, :message => 'Not authorized as an administrator.'

        #@hint = Hint.new
        @hint = Hint.new(:user_id => @current_user_id)

        respond_to do |format|
            format.html # new.html.erb
            format.json { render json: @hint }
        end
    end

    # GET /hints/1/edit
    def edit
        #authorize! :edit, @user, :message => 'Not authorized as an administrator.'

        @hint = Hint.find(params[:id])
        #@hint = Hint.find(:user_id => @current_user_id)

        #todo shouldn't be able to edit other user's hints. for some reason the Lesson model responds to @current_user.lessons, but the Hint model doesn't respond to @current_user.hints

    end

    # POST /hints
    # POST /hints.json
    def create
        #authorize! :create, @user, :message => 'Not authorized as an administrator.'

        @hint = Hint.new(params[:hint])

        respond_to do |format|
            if @hint.save
                format.html { redirect_to @hint, notice: 'Hint was successfully created.' }
                format.json { render json: @hint, status: :created, location: @hint }
            else
                format.html { render action: "new" }
                format.json { render json: @hint.errors, status: :unprocessable_entity }
            end
        end
    end

    # PUT /hints/1
    # PUT /hints/1.json
    def update
        #authorize! :update, @user, :message => 'Not authorized as an administrator.'

        @hint = Hint.find(params[:id])

        respond_to do |format|
            if @hint.update_attributes(params[:hint])
                format.html { redirect_to @hint, notice: 'Hint was successfully updated.' }
                format.json { head :no_content }
            else
                format.html { render action: "edit" }
                format.json { render json: @hint.errors, status: :unprocessable_entity }
            end
        end
    end

    # DELETE /hints/1
    # DELETE /hints/1.json
    def destroy
        #authorize! :destroy, @user, :message => 'Not authorized as an administrator.'

        @hint = Hint.find(params[:id])
        @hint.destroy

        respond_to do |format|
            format.html { redirect_to hints_url }
            format.json { head :no_content }
        end
    end
end 
```

我尝试删除这一行：`render :layout => 'layouts/found_sentences'`并取消注释：

```
 #respond_to do |format|
    #   format.html # find_sentences.html.erb
    #   format.json { render json: @hints }
    #end 
```

但这没有用。接下来我应该尝试什么？

**要求更新：**

```
[~/rails_projects/blt]$ls app/views/{application,hints}
ls: app/views/application: No such file or directory
app/views/hints:
_form.html.erb           edit.html.erb            found_sentences.html.erb index.html.erb           new.html.erb             show.html.erb
[~/rails_projects/blt]$cd app
[~/rails_projects/blt/app]$cd views
[~/rails_projects/blt/app/views]$cd application
bash: cd: application: No such file or directory
[~/rails_projects/blt/app/views]$ls
content            dictionary_entries home               lessons            users
devise             hints              layouts            user_mailer
[~/rails_projects/blt/app/views]$ 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-11T22:13:04.780

问题出在`index`行动上，而不是在`find_sentences`。添加`index.html.erb`到`app/views/hints`.

这不是问题所在。

请阅读完整的聊天记录，了解我们如何找到实际问题。

用户使用的是 Mac，其文件系统不区分大小写。创建模板目录时，Hints ( `app/views/Hints`)使用大写 H。Heroku 使用 linux 和区分大小写的文件系统，这会导致错误。

# selenium - 与加速 Selenium JUnit 测试有关

> ID：14251208
> 
> 赞同：0
> 
> 时间：2013-01-10T05:12:43.997
> 
> 标签：selenium, junit

我已经使用 web 驱动程序支持的 selenium 编写了 junit 测试用例。我遇到过一种情况，有时`selenium.isElementPresent()`或`selenium.isTextPresent()`会抛出`NoSuchElementException`.

为了摆脱这个问题，我一直在使用 Thread.sleep() 方法，然后再在网页上找到任何元素，它曾经工作正常，但是在页面已经完成加载的情况下，Thread.sleep() 会减慢我的测试用例的执行。

所以我想知道有没有什么方法可以确定网页中的所有元素是否都已经加载完毕，这样我就不必随意使用了`Thread.sleep()`？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-10T05:47:34.900

我想你想要[`waitFor`](http://release.seleniumhq.org/selenium-core/1.0.1/reference.html)而不是`Thread.sleep()`.

> “waitFor”命令等待某个条件变为真（这对于测试 Ajax 应用程序很有用）。如果条件已经为真，它们将立即成功。但是，如果在当前超时设置内条件不成立，它们将失败并停止测试（请参阅下面的 setTimeout 操作）。

[这是一篇深入探讨此主题的文章](http://agilesoftwaretesting.com/selenium-wait-for-ajax-the-right-way/)

# asp.net - 每个 ASP.NET 服务器控件的单独程序集？

> ID：14251211
> 
> 赞同：0
> 
> 时间：2013-01-10T05:13:09.073
> 
> 标签：asp.net, custom-server-controls, project-organization

我开始为我需要创建的每个服务器控件创建一个新项目（出于灵活性和模块化的目的）。我的最新项目是一个继承 TextBox 的控件，以实现 MaxLength 属性的服务器端实施，称为 SafeTextBox。所以 VS 设置了我的 SafeTextBox 项目，在 SafeTextBox 命名空间中有一个名为 ServerControl1 的类。自然，我将 ServerControl1 重命名为 SafeTextBox。这会造成每次在代码中引用该类时，我必须键入`SafeTextBox.SafeTextBox`.

现在我已经创建了一些这样的控件，我很想将它们全部放在一个程序集中（CustomControls 或类似的），以便我可以将它们引用为`CustomControls.SafeTextBox`等。有什么理由不应该这样做吗？是否可以在一个程序集中拥有多个控件？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-10T05:15:07.813

> 是否可以在一个程序集中拥有多个控件？

是的。

> 有什么理由我不应该这样做吗？

您应该在一个项目中拥有所有相关控件。

您最初为每个控件创建一个单独的项目的方法不容易管理和维护。通常所有相关的 GUI 控件都放在一个项目中。这使得它们可以通过一个参考轻松访问，而且一个不会为您的应用程序提供大量 dll。

# c++ - 将源文件位置移到 Visual Studio 2012 之外

> ID：14251213
> 
> 赞同：0
> 
> 时间：2013-01-10T05:13:34.797
> 
> 标签：c++, visual-studio, visual-studio-2012

我想将一些源文件分组到一个文件夹中以便更好地组织，但是一旦它们被移动，visual studio将无法识别它们，文件路径无法从VS内部更改（至少我不知道是否有办法做所以）。除了排除文件并重新添加它们之外，还有更好的方法吗？一旦你有很多文件，这样做是非常乏味的痛苦。有什么建议么？

例如，在我的解决方案中，我有`stdafx.h`，`stdafx.cpp`并且`resource.h`直接在根目录下，而在 VS 中它显示在标题文件夹下。我想做的是在根目录下创建一个实际的 Header 文件夹并将它们移动到该文件夹​​中。

编辑：如果我在构建期间通过排除和重新包含文件来这样做，我会收到此错误：

```
cannot overwrite information formed during creation of the precompiled header in object file stdafx.obj 
```

这个`stdafx.h`文件是随着win32应用工程的创建自动出现的，听说要在setting下创建预编译头文件。所以我设置`stdafx.cpp`为`Yc`（创建预编译头文件）并将所有其他 .cpp 文件设置为`Yu`（使用预编译头文件）。但是在构建错误消息时说`fatal error C1083: Cannot open include file: 'stdafx.h'`。但事实是，`stdafx.h`它就在根目录的 Header 文件夹下，包含在该文件夹中，可以在 VS 中打开，但在该 include 语句下仍有读取行，因此出现错误。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-10T08:33:43.310

您可以手动编辑 *vcxproj 和 *sln 文件，它们是纯 xml 文件。在这些 xml 文件中查找移动文件的条目并更正路径以匹配放置它们的目录。这可能有点乏味，但仅适用于您像以前那样手动重组文件夹的情况。

# ruby-on-rails - rspec 与 autotest-rails 在控制台中复制测试

> ID：14251215
> 
> 赞同：0
> 
> 时间：2013-01-10T05:13:39.353
> 
> 标签：ruby-on-rails, ruby, testing, rspec

我正在使用带有 shoulda 匹配器和 autotest-rails 的 rspec 测试。参见宝石文件：

```
group :test do
  gem 'rspec-rails'
  gem 'shoulda-matchers'
  gem 'factory_girl_rails'
  gem 'autotest-rails'
  gem 'faker'
end 
```

我没有更改任何配置，当我在终端中运行自动测试或只是普通的旧 rspec 时，测试在 1.72 秒内完成

```
Finished in 1.72 seconds
188 examples, 0 failures

Finished in 1.72 seconds
188 examples, 0 failures 
```

当我的测试失败时，它会打印出每个测试的详细信息，然后再做一遍。这真的让我发疯了，有人对可能是什么问题有任何想法吗？我只能在网上找到另一个有此问题的人的示例，但修复与我没有使用的守卫有关。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-10T06:28:45.250

愚蠢的错误......我查看了我的全局 .rspec ，它有：

```
--color                                                                                                                                                       
--format doc                                                                                                                                                  
--color                                                                                                                                                       
--format doc 
```

为我设置开发环境的 bash 脚本必须运行两次并附加我的选项两次！

# c# - 如何使用asp.net从文件夹中删除特定文件

> ID：14251220
> 
> 赞同：18
> 
> 时间：2013-01-10T05:14:35.047
> 
> 标签：c#, asp.net

这是交易我得到了一个名为gridview1的datagridviewer和一个fileupload1，当我上传一个文件时，它会使用文件名和路径更新数据库中的gridview1和表，并将所述文件存储在文件夹“Mag”中......但现在我想要做的是相反的我知道如何使用gridview删除表条目但从文件夹“Mag”中删除文件不起作用在C＃或代码隐藏中使用了以下代码

```
protected void GridView1_Del(object sender, EventArgs e)  
{
    string DeleteThis = GridView1.SelectedRow.Cells[0].Text;
    string[] Files = Directory.GetFiles(@"i:/Website/WebSite3/Mag/");

    foreach (string file in Files)
    {
        if (file.ToUpper().Contains(DeleteThis.ToUpper()))
        {
            File.Delete(file);
        }
    }
} 
```

它给了我错误

> “你调用的对象是空的。”

请告诉我我做错了什么是新的，不必深入了解平台，因此任何和所有帮助都将不胜感激，提前感谢马克

这是我找到的答案感谢 Tammy 和其他所有人的所有答案

好的，这里的交易目标功能从gridview和数据库表中删除文件详细信息，并从存储文件的项目文件夹中删除文件

在 gridview 的脚本部分中，您希望包括

```
OnRowDeleting="FuntionName" 
```

不是

```
OnSelectedIndexChanged = "FuntionName" 
```

或者

```
OnRowDeleted="FuntionName" 
```

然后在 C# 代码中（代码隐藏）

```
protected void FuntionName(object sender, GridViewDeleteEventArgs e)
    {
// storing value from cell
        TableCell cell = GridView1.Rows[e.RowIndex].Cells[0];

// full path required
        string fileName = ("i:/Website/WebSite3/Mag/" + cell.Text); 

    if(fileName != null || fileName != string.Empty)
    {
       if((System.IO.File.Exists(fileName))) 
       {
           System.IO.File.Delete(fileName);
       }

     }
  } 
```

仅供想学习的人参考

OnRowDeleting="FuntionName" 是在删除一行之前，您可以像我一样取消删除或对数据运行函数

OnRowDeleted="FuntionName" 它直接删除

* * *

## 回答 #1

> 赞同：51
> 
> 时间：2013-01-10T05:37:57.340

这就是我删除文件的方式

```
if ((System.IO.File.Exists(fileName)))
                {
                    System.IO.File.Delete(fileName);
} 
```

还要确保您在删除中传递的文件名是准确的路径

**编辑**

您也可以使用以下事件，或者只使用此代码段中的代码并在您的方法中使用

```
void GridView1_SelectedIndexChanged(Object sender, EventArgs e)
  {

    // Get the currently selected row using the SelectedRow property.
    GridViewRow row = CustomersGridView.SelectedRow;

    //Debug this line and see what value is returned if it contains the full path.
    //If it does not contain the full path then add the path to the string.
    string fileName = row.Cells[0].Text 

    if(fileName != null || fileName != string.empty)
    {
       if((System.IO.File.Exists(fileName))
           System.IO.File.Delete(fileName);

     }
  } 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-10T05:34:16.937

检查 GridView1.SelectedRow 是否为空：

```
if (GridView1.SelectedRow == null) return;
string DeleteThis = GridView1.SelectedRow.Cells[0].Text; 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-10T07:05:10.500

在我的项目中，我使用的是 ajax，我在我的代码中创建了一个 web 方法，就像这样

在前

```
 $("#attachedfiles a").live("click", function () {
            var row = $(this).closest("tr");
            var fileName = $("td", row).eq(0).html();
            $.ajax({
                type: "POST",
                url: "SendEmail.aspx/RemoveFile",
                data: '{fileName: "' + fileName + '" }',
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                success: function () { },
                failure: function (response) {
                    alert(response.d);
                }
            });
            row.remove();
        }); 
```

在后面的代码中

```
 [WebMethod]
        public static void RemoveFile(string fileName)
        {
            List<HttpPostedFile> files = (List<HttpPostedFile>)HttpContext.Current.Session["Files"];
            files.RemoveAll(f => f.FileName.ToLower().EndsWith(fileName.ToLower()));

            if (System.IO.File.Exists(HttpContext.Current.Server.MapPath("~/Employee/uploads/" + fileName)))
            {
                System.IO.File.Delete(HttpContext.Current.Server.MapPath("~/Employee/uploads/" + fileName));
            }
        } 
```

我想这会对你有所帮助。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2017-04-14T07:55:56.247

从路径中删除任何或特定的文件类型（例如“.bak”）。请参阅下面的演示代码 -

```
class Program
        {
        static void Main(string[] args)
            {

            // Specify the starting folder on the command line, or in 
            TraverseTree(ConfigurationManager.AppSettings["folderPath"]);

            // Specify the starting folder on the command line, or in 
            // Visual Studio in the Project > Properties > Debug pane.
            //TraverseTree(args[0]);

            Console.WriteLine("Press any key");
            Console.ReadKey();
            }

        public static void TraverseTree(string root)
            {

            if (string.IsNullOrWhiteSpace(root))
                return;

            // Data structure to hold names of subfolders to be
            // examined for files.
            Stack<string> dirs = new Stack<string>(20);

            if (!System.IO.Directory.Exists(root))
                {
                return;
                }

            dirs.Push(root);

            while (dirs.Count > 0)
                {
                string currentDir = dirs.Pop();
                string[] subDirs;
                try
                    {
                    subDirs = System.IO.Directory.GetDirectories(currentDir);
                    }

                // An UnauthorizedAccessException exception will be thrown if we do not have
                // discovery permission on a folder or file. It may or may not be acceptable 
                // to ignore the exception and continue enumerating the remaining files and 
                // folders. It is also possible (but unlikely) that a DirectoryNotFound exception 
                // will be raised. This will happen if currentDir has been deleted by
                // another application or thread after our call to Directory.Exists. The 
                // choice of which exceptions to catch depends entirely on the specific task 
                // you are intending to perform and also on how much you know with certainty 
                // about the systems on which this code will run.
                catch (UnauthorizedAccessException e)
                    {
                    Console.WriteLine(e.Message);
                    continue;
                    }
                catch (System.IO.DirectoryNotFoundException e)
                    {
                    Console.WriteLine(e.Message);
                    continue;
                    }

                IEnumerable<FileInfo> files = null;
                try
                    {
                    //get only .bak file
                    var directory = new DirectoryInfo(currentDir);
                    DateTime date = DateTime.Now.AddDays(-15);
                    files = directory.GetFiles("*.bak").Where(file => file.CreationTime <= date);
                    }
                catch (UnauthorizedAccessException e)
                    {
                    Console.WriteLine(e.Message);
                    continue;
                    }
                catch (System.IO.DirectoryNotFoundException e)
                    {
                    Console.WriteLine(e.Message);
                    continue;
                    }

                // Perform the required action on each file here.
                // Modify this block to perform your required task.
                foreach (FileInfo file in files)
                    {
                    try
                        {
                        // Perform whatever action is required in your scenario.
                        file.Delete();
                        Console.WriteLine("{0}: {1}, {2} was successfully deleted.", file.Name, file.Length, file.CreationTime);
                        }
                    catch (System.IO.FileNotFoundException e)
                        {
                        // If file was deleted by a separate application
                        //  or thread since the call to TraverseTree()
                        // then just continue.
                        Console.WriteLine(e.Message);
                        continue;
                        }
                    }

                // Push the subdirectories onto the stack for traversal.
                // This could also be done before handing the files.
                foreach (string str in subDirs)
                    dirs.Push(str);
                }
            }
        } 
```

更多参考 - [https://msdn.microsoft.com/en-us/library/bb513869.aspx](https://msdn.microsoft.com/en-us/library/bb513869.aspx)

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2015-06-01T11:59:28.833

```
string sourceDir = @"c:\current";
string backupDir = @"c:\archives\2008";

try
{
    string[] picList = Directory.GetFiles(sourceDir, "*.jpg");
    string[] txtList = Directory.GetFiles(sourceDir, "*.txt");

    // Copy picture files. 
    foreach (string f in picList)
    {
        // Remove path from the file name. 
        string fName = f.Substring(sourceDir.Length + 1);

        // Use the Path.Combine method to safely append the file name to the path. 
        // Will overwrite if the destination file already exists.
        File.Copy(Path.Combine(sourceDir, fName), Path.Combine(backupDir, fName), true);
    }

    // Copy text files. 
    foreach (string f in txtList)
    {

        // Remove path from the file name. 
        string fName = f.Substring(sourceDir.Length + 1);

        try
        {
            // Will not overwrite if the destination file already exists.
            File.Copy(Path.Combine(sourceDir, fName), Path.Combine(backupDir, fName));
        }

        // Catch exception if the file was already copied. 
        catch (IOException copyError)
        {
            Console.WriteLine(copyError.Message);
        }
    }

    // Delete source files that were copied. 
    foreach (string f in txtList)
    {
        File.Delete(f);
    }
    foreach (string f in picList)
    {
        File.Delete(f);
    }
}

catch (DirectoryNotFoundException dirNotFound)
{
    Console.WriteLine(dirNotFound.Message);
} 
```

# java - 无法在 MacOs 中运行 jar 文件

> ID：14251221
> 
> 赞同：0
> 
> 时间：2013-01-10T05:14:44.803
> 
> 标签：java, eclipse, jvm, executable-jar

> **可能重复：**
> [不支持的主要 .minor 版本 51.0](https://stackoverflow.com/questions/10382929/unsupported-major-minor-version-51-0)

这些天我正在学习java。我在其中创建了一个应用程序并创建了一个可执行的Jar文件。jar 文件在 Windows 7 中正常工作，但是当我尝试在 Macos 中运行相同的 Jar 文件时，出现以下错误：

```
Exception in thread "main" java.lang.reflect.InvocationTargetException
 at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
 at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
 at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
 at java.lang.reflect.Method.invoke(Method.java:597)
 at org.eclipse.jdt.internal.jarinjarloader.JarRsrcLoader.main(JarRsrcLoader.java:58)
Caused by: java.lang.UnsupportedClassVersionError: org/redfire/screen/ScreenShare : Unsupported major.minor version 51.0
 at java.lang.ClassLoader.defineClass1(Native Method)
 at java.lang.ClassLoader.defineClassCond(ClassLoader.java:631)
 at java.lang.ClassLoader.defineClass(ClassLoader.java:615)
 at java.security.SecureClassLoader.defineClass(SecureClassLoader.java:141)
 at java.net.URLClassLoader.defineClass(URLClassLoader.java:283)
 at java.net.URLClassLoader.access$000(URLClassLoader.java:58)
 at java.net.URLClassLoader$1.run(URLClassLoader.java:197)
 at java.security.AccessController.doPrivileged(Native Method)
 at java.net.URLClassLoader.findClass(URLClassLoader.java:190)
 at java.lang.ClassLoader.loadClass(ClassLoader.java:306)
 at java.lang.ClassLoader.loadClass(ClassLoader.java:247)
 at FinalJavaScreenShare.InitialiseScreenShare(FinalJavaScreenShare.java:150)
 at FinalJavaScreenShare.GetServerData(FinalJavaScreenShare.java:134)
 at FinalJavaScreenShare.main(FinalJavaScreenShare.java:46) 
```

这种错误的原因可能是什么。我想知道我是否必须为不同的操作系统创建单独的 Jar 文件，或者当前版本的 Jar 是否有任何问题。

**注意：我使用 Eclipse Helios 创建 Jar 文件。**

请帮助我。任何帮助将不胜感激。

谢谢并恭祝安康。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-10T05:36:45.803

根据您的第一个问题，这已被标记为重复（请关注每个 ..question 的一个问题）。我将讨论它的另一部分。

> 我是否必须为不同的操作系统创建单独的 Jar 文件，或者当前版本的 Jar 有什么问题吗？

分别是否和是。

这里重要的是确保使用 的[交叉编译选项为`javac`](http://docs.oracle.com/javase/7/docs/technotes/tools/windows/javac.html#crosscomp-options)支持它的最低 Java 运行时版本编译代码。

# iphone - iPhone sdk 如何在 UIToolbar 中添加 UIButton？

> ID：14251224
> 
> 赞同：1
> 
> 时间：2013-01-10T05:14:56.020
> 
> 标签：iphone, uibutton, uibarbuttonitem, uitoolbar

是否可以添加`UIButton`with `UIToolbar`？或者我们只能使用`UIBarButtonItem`？`UIButton`如果是这样如何添加一个`UIToolbar`？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-10T05:24:12.710

```
UIButton *btn = [UIButton buttonWithType:UIButtonTypeCustom];
[btn setBackgroundImage:[UIImage imageNamed:@"image.png"] forState:UIControlStateNormal];
[btn addTarget:self action:@selector(action:) forControlEvents:UIControlEventTouchUpInside];
UIBarButtonItem *barBackButton = [[UIBarButtonItem alloc] initWithCustomView:btn];
[toolBar setItems:[NSArray arrayWithObject:barBackButton]]; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-10T05:20:26.180

你可以添加`UIBarButtonItem`到`UIToolBar`下面的类似..

这波纹管是一个例子试试这个..

只需在 viewDidLoad 方法中添加此波纹管代码，然后查看`UIToolBar`这两个`UIBarButtonItems`也在这里我添加 Flixiblespace 以设置这两个按钮的左右角`UIToolBar`

```
UIBarButtonItem *flexiableItem = [[UIBarButtonItem alloc] initWithBarButtonSystemItem:UIBarButtonSystemItemFlexibleSpace target:self action:nil];
UIBarButtonItem *item1 = [[UIBarButtonItem alloc] initWithBarButtonSystemItem:UIBarButtonSystemItemAdd target:self action:nil];
UIBarButtonItem *item2 = [[UIBarButtonItem alloc] initWithBarButtonSystemItem:UIBarButtonSystemItemAction target:self action:nil];

UIToolbar *toolbar = [[UIToolbar alloc] init];
toolbar.frame = CGRectMake(0, 0, self.view.frame.size.width, 44);
NSArray *items = [NSArray arrayWithObjects:item1, flexiableItem, item2, nil];   
self.toolbarItems = items;

[flexiableItem release];
[items release];
[self.view addSubview:toolbar];
[toolbar release]; 
```

检查此链接以获取有关[UIBarButtonItem](https://developer.apple.com/library/ios/#documentation/UIKit/Reference/UIBarButtonItem_Class/Reference/Reference.html#//apple_ref/occ/cl/UIBarButtonItem)和[UIToolbar_Class的更多信息](https://developer.apple.com/library/ios/#documentation/UIKit/Reference/UIToolbar_Class/Reference/Reference.html)

**更新：**

对于您的此要求，您可以删除该按钮并添加新按钮而不是旧按钮..参见示例..

```
NSMutableArray     *items = [[yourToolbar.items mutableCopy] autorelease];
[items removeObject: yourButtons];
yourToolbar.items = items; 
```

我希望这可以帮助你...

# php - 警告引导编码树枝到 php

> ID：14251230
> 
> 赞同：0
> 
> 时间：2013-01-10T05:15:33.387
> 
> 标签：php, twitter-bootstrap, twig

我有一个让警报引导程序使用 twig 而不是 php 的编码，我会将其更改为 php 编码，这是 twig 编码：

```
 {% for alert in [ 'info', 'success', 'warning', 'error'] %}
            {% if app.session.hasFlash(alert) %}
            <div class="alert alert-{{ alert }}">
                <button class="close" data-dismiss="alert">&times;</button>
                {{ app.session.flash(alert) }}
            </div>
            {% endif %}
            {% endfor %}

            {% block content %}
            {% endblock %} 
```

你能帮我把树枝代码改成 php 代码吗？谢谢你 ：）

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-10T05:19:26.227

### 简单的...

```
<?php
    if (in_array($alert, array('info', 'success', 'warning', 'error')) {
        if (isset($_SESSION["flash"][$alert])) { ?>
    <div class="alert alert-<?php echo $alert; ?>">
        <button class="close" data-dismiss="alert">&times;</button>
        <?php echo $_SESSION["flash"][$alert]; ?>
    </div>
<?php } } ?> 
```

# javascript - 在固定高度表中设置自动滚动到底部

> ID：14251233
> 
> 赞同：0
> 
> 时间：2013-01-10T05:16:16.843
> 
> 标签：javascript, html, scroll

我有一个固定高度的表格，我正在使用 javascript 添加行。我的问题是一旦它到达卷轴。滚动设置在顶部，我看不到新添加的行。我想在添加行时向下滚动。

我试过这个在 Firefor 和 chrome 中工作，但在 IE8 中没有工作。

```
$(document).ready(function(){

        $('button[id^="product"]').click(function () {

              var newTr = $('<tr></tr>');

                newTr.html('<td width="29px" style="text-align:center;">x</td><td width="144px">Product 1</td><td width="44px" style="text-align:center;">2</td><td width="86px style="text-align:right;">16.50</td>');

                newTr.appendTo("#saletbl");

         var tableElement = document.getElementById('saletbl');

         tableElement.scrollTop = tableElement.scrollHeight;
          });
    }); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-10T05:28:25.253

你为什么不使用div。您可以将表格放入 div 中。如果您只想显示垂直滚动条，也可以关闭水平滚动条。

```
<div style="overflow:scroll;horizontal-scroll;overflow-x:hidden;"> 
```

使用 -ms-overflow-x:hidden

在 IE8 中。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-10T05:28:10.883

您可以在追加行后将焦点设置到表格的最后一行，方法是替换这个

```
var tableElement = document.getElementById('saletbl');

     tableElement.scrollTop = tableElement.scrollHeight; 
```

对此

```
$("#saletbl tr:last-child").focus() 
```

# android - 如何使用上下文菜单选项“编辑”查找 EditText 值

> ID：14251235
> 
> 赞同：0
> 
> 时间：2013-01-10T05:16:37.663
> 
> 标签：android, android-intent, android-edittext, android-sqlite, android-contextmenu

我是 android 新手，我正在使用上下文菜单，我正在尝试获取保存在数据库中的 EditText 值。请帮助我下面是我的代码：

```
 title = (TextView) findViewById(R.id.Listname);
    Title_Edit = (EditText)findViewById(R.id.title_Edit);

    content = (TextView) findViewById(R.id.content);
    Content_Edit = (EditText)findViewById(R.id.content_Edit);

    duedate = (Button)findViewById(R.id.duedate);

    duedatetext = (TextView)findViewById(R.id.duedatetext);

    Intent intent2 = getIntent();
    int content = intent2.getIntExtra("content", 0);

    isEdit = intent2.getBooleanExtra("isEdit", false);

    System.out.println(content + "Intent ID");

    if(isEdit) {
    Database_Notepad db = new Database_Notepad(Add_Task.this);

     Cursor c = db.GetNote(content);

     db.close();

     Title_Edit.setText(c.getString(0));
     Content_Edit.setText(c.getString(1));
     duedatetext.setText(c.getString(2));

     save.setText(getResources().getString(R.string.Updatenote)); 
```

上下文菜单项选项：

```
 case R.id.Edit_Note:

                 Intent intent2 = new Intent(this, Add_Task.class);
                 Cursor cursor = (Cursor) this.getListAdapter().getItem((int) info.id);
                 cursor.moveToPosition(itemPosition);
                 int content = cursor.getInt(0);
                 intent2.putExtra("content", content );
                 intent2.putExtra("isEdit", true);
                 startActivity(intent2);

                break; 
```

如果有任何其他方法，我可以获得 Edittext 值，请告诉我。谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-10T05:42:30.243

如果您`EditText`是您班级的成员，即：

```
private EditText title = null;

public void onCreate() {
    // ...
    title = findViewById(R.id.yourId);
} 
```

你应该能够做到：

```
String titleText = title.getText().toString(); 
```

# cocos2d-iphone - Cocos2d for iPhone 的基本绘图行为

> ID：14251237
> 
> 赞同：0
> 
> 时间：2013-01-10T05:16:47.843
> 
> 标签：cocos2d-iphone, ccsprite, cclayer

我正在使用基本的 Xcode 模板项目。在 HelloWorldLayer 中，我添加了一个方形 CCSprite 作为位置为 CGPointZero 的子节点。我还添加了一个 CCLayerColor 子类，其中位置 CGPointZero 作为子节点。绘制时，精灵的中心点与屏幕的左下角对齐。然而，图层的左下角与屏幕的左下角对齐。

**为什么精灵和图层的对齐方式不同？**我希望它们的中心点都与屏幕的左下角对齐，因为它们的位置都设置为（0,0）。

![iPhone模拟器显示](../Images/61ac39a50b4a40dc8a1fd2ed787e4390.png)

**编辑 - 更多信息**：抱歉，如果屏幕截图难以破译。精灵使用的是 icon-small-50.png。该图层的内容大小设置为 (100,100)。注意我尝试将图层的位置设置为 (10,10) 以确保其左下角实际上与屏幕的左下角对齐（当位置为 (0,0) 时）。

**编辑 - 更多信息**：刚刚在 CCNode.h 中注意到这一点：

```
// If YES, the Anchor Point will be (0,0) when you position the CCNode.
// Used by CCLayer and CCScene
BOOL ignoreAnchorPointForPosition_; 
```

我认为这可以解释。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-10T05:23:30.083

CCSprite 的默认锚点为 (0.5,0.5)，它是精灵的中心。这样做是因为精灵往往是您可以四处移动的较小对象，而不是通常是屏幕的图层。

旋转 sprite 时，将注册点放在中心是有利的，因为您通常希望基于 sprite 的中心进行旋转。

旋转 CCLayer 并不常见，因为它通常不是您四处移动的东西，而是您通常将精灵添加到的东西，例如背景图像。

# r - knit 命令不起作用，而 knit HTML 按钮起作用

> ID：14251238
> 
> 赞同：4
> 
> 时间：2013-01-10T05:16:59.157
> 
> 标签：r, knitr, rstudio, r-markdown

我有一个 Rmd 文件，它使用工作目录中保存的一些 Rdata 并显示它们，非常简单。我什至有缓存 = FALSE。当我单击 kintHTML 按钮时，我得到了 html 页面。当我转到 Rstudio 控制台并输入 knit('TestReport.Rmd') 时，我收到错误消息

> 评估错误（代码，envir = env，new_device = FALSE，stop_on_error = opts_knit$get（“stop_on_error”））：未使用的参数（new_device = FALSE，stop_on_error = opts_knit$get（“stop_on_error”））

有什么问题？我也安装了评估包。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-10T18:05:19.507

请参阅[knitr 常见问题解答 #1](https://github.com/yihui/knitr/blob/master/FAQ.md)。`evaluate`在这种情况下，您至少必须更新软件包。[有点奇怪，因为我在DESCRIPTION](http://cran.r-project.org/package=knitr)中指定了`evaluate`必须大于0.4.2的版本，我不知道为什么R在安装时没有安装正确的版本。`knitr`

# openssl - 如何通过 openssl 检索证书链

> ID：14251241
> 
> 赞同：1
> 
> 时间：2013-01-10T05:17:19.840
> 
> 标签：openssl

我必须从 remore 服务器检索和下载我的本地环境证书链。我可以使用浏览器嵌入式服务来做到这一点，但据我所知，这种方法不适用于证书链（或存在一些瓶颈）。这就是我尝试使用 openssl 以下命令的原因：

`openssl s_client -showcerts -connect host.host:9999`

这将打印出适当的证书信息，例如：

```
已连接（0000015C）
depth=1 /C=US/O=Google Inc/CN=Google Internet Authority
验证错误：num=20：无法获取本地颁发者证书
验证返回：0
---
证书链
 0 秒：/C=US/ST=加利福尼亚/L=山景/O=Google Inc/CN=google.com
   i:/C=US/O=Google Inc/CN=Google Internet Authority
-----开始证书-----
MIIcFzCCG4CgAwIBAgIGR09PUAFxMA0GCSqGSIb3DQEBBQUAMEYxCzAJBgNVBAYT
-----结束证书-----
 1 s:/C=US/O=Google Inc/CN=Google Internet Authority
   i:/C=US/O=Equifax/OU=Equifax 安全证书颁发机构
-----开始证书-----
MIICsDCCAhmgAwIBAgIDC2dxMA0GCSqGSIb3DQEBBQUAME4xCzAJBgNVBAYTAlVT
-----结束证书-----
---
服务器证书
主题=/C=US/ST=加利福尼亚/L=山景/O=Google Inc/CN=google.com
issuer=/C=US/O=Google Inc/CN=Google Internet Authority
---
未发送客户端证书 CA 名称
---
SSL 握手已读取 8040 字节并写入 310 字节
```

如何以 .crt 或 .cer 格式获取此文件？我可以将其复制/粘贴到具有适当扩展名的文本文件中吗？如果是，链的起点和终点在哪里？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-11T07:41:16.393

我不知道你所说的“.crt”或“.cer”格式到底是什么意思。**如果您在-----BEGIN CERTIFICATE-----**和**-----END CERTIFICATE-----**之间复制这些输出并将它们保存到文本文件中，您将获得 PEM 格式的证书链文件（openssl 的默认设置）。您的文件应如下所示（链中的 2 个证书）：

```
-----BEGIN CERTIFICATE-----
MIIF/DCCBWWgAwIBAgIKUCYyawAAAAB1rzANBgkqhkiG9w0BAQUFADBGMQswCQYD
<the rest of the certificate 1>
-----END CERTIFICATE-----
-----BEGIN CERTIFICATE-----
MIICsDCCAhmgAwIBAgIDC2dxMA0GCSqGSIb3DQEBBQUAME4xCzAJBgNVBAYTAlVT
<the rest of the certificate 2>
-----END CERTIFICATE----- 
```

# android - 我们如何在 arraylist 哈希映射中使用唯一值？

> ID：14251246
> 
> 赞同：0
> 
> 时间：2013-01-10T05:17:51.520
> 
> 标签：android, arraylist, hashmap

我对 arraylist 哈希图有疑问。我想在 arraylist 哈希图中添加计数器值。我在不同的按钮上有很多计数器值。所以我想添加这些计数器值。但它在 arraylist 哈希映射中添加了 double 和重复值。

我的示例代码是：

```
HashMap<String, String> map1 = new HashMap<String, String>();
String c = textcounter.getText().toString();
String d = txtdesc.getText().toString();            
st1=String.valueOf(button.getNextFocusForwardId());
st2=String.valueOf(button.getId());
System.out.println("----st1 value "+st1);
System.out.println("---st2--value "+st2);

String pval=String.valueOf(p);

map1.put("PID", pval);
map1.put("DESP", d);
map1.put("PRICE", prc);             
map1.put("COUNTER_VAL", c);

if(!myorder.contains(map1)) {
    myorder.add(map1);
}
if(myorder.contains(map1))
{

    for(HashMap<String, String> hm : myorder)
    {
        hm.put("COUNTER_VAL", c);
    }
}

System.out.println("Final value of My order"+ myorder); 
```

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-10T05:21:50.340

可能是因为你说：

```
if(!myorder.contains(map1))                 
    myorder.add(map1);
}
if(myorder.contains(map1)) // this is always true cos you just inserted it above... 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-23T04:47:20.373

如何使用分页或 loadmore 选项在 android 中添加砌体布局

示例代码是

公共无效 oncreateProduct_List(int countm) {

```
 String testurl = URL1 + "prod/"+countm;

//  String testurl = URL1 + "sandy_scandy/"+counter;        
    HttpClient client = new DefaultHttpClient();
    HttpConnectionParams.setConnectionTimeout(client.getParams(), 10000);       
    JsonParser jParser = new JsonParser();
    JSONObject json1 = jParser.getJSONfromUrl(testurl);
    try {
        JSONArray prod = json1.getJSONArray("prod");

        for ( i = 0; i < prod.length(); i++) {                  
            JSONObject prd = prod.getJSONObject(i);
            p_id = prd.getString("p_id");
            cat_id = prd.getString("cat_id");
            barcode = prd.getString("barcode");
            p_name = prd.getString("p_name");
            price = prd.getString("price");
            desp = prd.getString("desp");
            image = prd.getString("image");
            status = prd.getString("status");
            timestamp = prd.getString("timestamp");
            cat_name = prd.getString("cat_name");

            try {
                bitmap = BitmapFactory.decodeStream((InputStream) new URL(image).getContent());

            } catch (MalformedURLException e) {

                e.printStackTrace();
            } catch (IOException e) {

                e.printStackTrace();
            }               

            HashMap<String, String>map1= new HashMap<String, String>();
            map1.put("IMAGE", image);

            pro_id = p_id;              
            create_layout(pro_id,bitmap);

        }

    } catch (JSONException e) {
        Log.e("error", e.toString());
    }

    //countm++; 

}
private class LoadViewTask extends AsyncTask<Void, Integer, Void> {
    // Before running code in the separate thread
    @Override
    protected void onPreExecute() {

        progressDialog = new ProgressDialog(MyShopping_List.this);

        progressDialog.setProgressStyle(ProgressDialog.STYLE_SPINNER);

        progressDialog.setMessage("Please wait...");
        progressDialog.setCancelable(false);
        progressDialog.setIndeterminate(false);
        progressDialog.show();
    }

    @Override
    protected Void doInBackground(Void... params) {

        try {

            synchronized (this) {

                int counter = 0;

                while (counter <= 10) {

                    this.wait(300);

                    counter++;

                }
            }
        } catch (InterruptedException e) {
            e.printStackTrace();
        }
        return null;
    }
    @Override
    protected void onProgressUpdate(Integer... values) {

        progressDialog.setProgress(values[0]);
    }

    @Override
    protected void onPostExecute(Void result) {         

            oncreateProduct_List(countm);   

            /*Scroll_main.setOnTouchListener(new OnTouchListener() {

                public boolean onTouch(View v, MotionEvent event) {                         

                if (event.getAction() == MotionEvent.ACTION_UP) {
                        Thread.getDefaultUncaughtExceptionHandler();
                         Thread.yield(); 

                          try {
                            Thread.sleep(100);
                        } catch (InterruptedException e) {
                            // TODO Auto-generated catch block
                            e.printStackTrace();
                        }   
                          new LoadViewTask().execute();
                             oncreateProduct_List(countm);                  
                             countm++;
                        } 

                    return false;
                }
    });         */

        progressDialog.dismiss();

    }

} 
```

并调用触摸监听器

Scroll_main.setOnTouchListener(new View.OnTouchListener() {

```
 public boolean onTouch(View v, MotionEvent event) {

        float yValue=event.getY();
        Display display = getWindowManager().getDefaultDisplay();           
            int height = display.getHeight();  
            int scrollheight =Scroll_main.getHeight();
            System.out.println("Screen Height>"+height);
        System.out.println("value of scroll main  ="+scrollheight);
        //int ss=height-181;
        //height=(height*90)/100;
        if((yValue)<scrollheight){
            Toast.makeText(getApplicationContext(), "Heloo"+height, Toast.LENGTH_SHORT).show();
        } /*elseif((Scroll_main.getHeight()-yValue)>=height){

                new LoadViewTask().execute();
                oncreateProduct_List(countm);

                countm = countm--;

                height=height--;
        }   */
        else{
            new LoadViewTask().execute();
            countm = countm ++;
            oncreateProduct_List(countm);               
            scrollheight=scrollheight++;

        }

        return false;
    }

}); 
```

# django - 如何处理 NoReverseMatch 错误？

> ID：14251251
> 
> 赞同：0
> 
> 时间：2013-01-10T05:18:04.403
> 
> 标签：django, django-templates

这是我第一次遇到这样的错误，我环顾四周，但未能找到在相同情况下发生的错误。重定向应该发生在用户提交表单时。

在我看来，我使用 reverse() 函数返回一个*url*并重定向到它。以下是观点：

```
def get_category(request):
    categories = Category.objects.all().prefetch_related('item')
    form = ItemAddToCartForm(request=request, label_suffix=':')
    # need to evaluate the HTTP method
    if request.method == 'POST':
        # add to order..create the bound form
        postdata = request.POST.copy()
        form = ItemAddToCartForm(request,postdata)
        # check validation of posted data
        if form.is_valid():
            # add to order and redirect to order page
            order.add_to_order(request)
            # if test cookie worked, get rid of it
            if request.session.test_cookie_worked():
                request.session.delete_test_cookie()
            url =urlresolvers.reverse('show_order')
            # redirect to order page
            return HttpResponseRedirect(url)
    else:
        # it's a GET, create the unbound from. Note request as a Kwarg
        form = ItemAddToCartForm(request=request,label_suffix=':')
    # assign the hidden input the item slug
    # set the test cookie on our first GET request
    request.session.set_test_cookie()
    context={
        'categories':categories,
        'form':form,
#       'menu':menu,

    }
    return render_to_response('category.html',context,context_instance=RequestContext(request)) 
```

这是它指向的*url的视图：*

```
def show_order(request):
    if request.method == 'POST':
        if postdata['submit'] == 'Remove':
            order.remove_from_order(request)
        if postdata['submit'] == 'Update':
            order.update_order(request)
    order_items = order.get_order_items(request)
    page_title  = 'F4L order' 
    order_subtotal = order.order_subtotal(request)
    return render_to_response('public/order.html',context_instance=RequestContext(request)) 
```

上述视图的*网址：*

```
from django.conf.urls.defaults import *

urlpatterns = patterns(
    'live.views',
    url(r'^$', view="show_order",name="order_index"),
) 
```

两个视图的网址：

```
url(r'^orders/', include('live.urls')),
url(r'^menu/$','live.views.get_category'), 
```

这是html表单：

```
<form method="post" action=".">
  <a href="{% url order_index %}">
  {% csrf_token %}
   {{ form.as_p }}
  <br />
   <input type="submit" value="Add To Order" name="submit">
  </a>

Traceback:
File "/home/mats-invasion/projects/f4l/env/local/lib/python2.7/site-packages/django/core/handlers/base.py" in get_response
  111\.                         response = callback(request, *callback_args, **callback_kwargs)
File "/home/mats-invasion/projects/f4l/f4l/live/views.py" in get_category
  39\.           url =urlresolvers.reverse('show_order')
File "/home/mats-invasion/projects/f4l/env/local/lib/python2.7/site-packages/django/core/urlresolvers.py" in reverse
  476\.     return iri_to_uri(resolver._reverse_with_prefix(view, prefix, *args, **kwargs))
File "/home/mats-invasion/projects/f4l/env/local/lib/python2.7/site-packages/django/core/urlresolvers.py" in _reverse_with_prefix
  396\.                 "arguments '%s' not found." % (lookup_view_s, args, kwargs))

Exception Type: NoReverseMatch at /menu/
Exception Value: Reverse for 'show_order' with arguments '()' and keyword arguments '{}' not found. 
```

谢谢你。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-10T06:20:31.510

传递给 reverse 的值应该是 url 的名称而不是视图。

```
url =urlresolvers.reverse('order_index') 
```

# git - 如何不在 git 中显示 .class

> ID：14251253
> 
> 赞同：31
> 
> 时间：2013-01-10T05:18:11.953
> 
> 标签：git, gitignore, git-status

我不想`.class`在执行时显示文件`git status`。

我创建了一个名为`.gitignore`并在文件中输入`.class`的文件，但什么也没发生。

执行命令时防止`.class`文件显示的最佳方法是什么？`git status`

* * *

## 回答 #1

> 赞同：51
> 
> 时间：2013-01-10T06:58:12.763

确保您的 .class 文件*尚未*添加到索引中。
您首先需要`git rm -r --cached path/to/.classfiles/`这些文件。
（它们仍然会在磁盘上，但不再是 git 索引的一部分，并且会被 git 忽略`git status`）

如果您不希望对任何`.class`文件进行版本控制（但您最初没有将它们包含在其中`.gitignore`），如下面的[Michal Stefanow](https://stackoverflow.com/users/775359/michal-stefanow) [评论](https://stackoverflow.com/questions/14251253/how-not-to-display-the-class-in-git/14252398?noredirect=1#comment48088675_14252398)：

```
git rm -r --cached *.class 
```

[马克](https://stackoverflow.com/users/271985/mark)[在评论中](https://stackoverflow.com/questions/14251253/how-not-to-display-the-class-in-git/14252398#comment117316972_14252398)补充道：

> 对于像我这样的 Windows TortoiseGit 用户，请按照[相关帖子](https://stackoverflow.com/a/12292047/6309)中的说明在GUI 中执行 git
> 
> 右键单击该文件，选择 TortoiseGit -> 删除（保持本地）。
> 这确实`git rm --cached`。

* * *

## 回答 #2

> 赞同：14
> 
> 时间：2013-01-10T05:30:55.820

您可能实际上想要添加`*.class`到您的`.gitignore`文件中，而不是`.class`- 前者将匹配任何类文件（因为通配符`*`），而后者仅匹配名为完全`.class`.

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2018-06-06T06:48:34.297

在您的目录中创建一个名为 ./gitignore 的新文件，并在其中添加以下行：

```
target/
bin/
!.mvn/wrapper/maven-wrapper.jar

### STS ###
.apt_generated
.classpath
.factorypath
.project
.settings
.springBeans

### IntelliJ IDEA ###
.idea
*.iws
*.iml
*.ipr

### NetBeans ###
nbproject/private/
build/
nbbuild/
dist/
nbdist/
.nb-gradle/
target/ 
```

# css - 当部分完成时，如何更新 div css 以显示完整的图像？

> ID：14251256
> 
> 赞同：1
> 
> 时间：2013-01-10T05:18:21.483
> 
> 标签：css, asp.net-mvc-3, asp.net-ajax

使用 MVC 3

我有一个包含三个部分的问卷。包含问卷的页面有“下一个”、“上一个”和“保存”按钮？当我单击这些按钮中的任何一个时，我想要一个名为“Question/SectionComplete”的 Actioncontroller 的 ajax 调用，如果它返回 true，我想使用显示完整图标的 css 更新菜单 div。任何人都可以帮助开始使用示例代码吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-10T06:12:57.877

使用 .ajax 方法的成功函数 - 此处的文档 - [http://api.jquery.com/jQuery.ajax/](http://api.jquery.com/jQuery.ajax/)

```
$.ajax({
  url: '/Question/SectionComplete',
  success: function(data) {
      // add code here
      // test for your response
      // then use jquery selector to get element to be updated
      // and use .html() to set element's new value
  }
}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-10T06:13:29.230

```
function onButtonClick(){
    var data = { myvar: 1 }; // your data to pass to action
    $.getJSON('Question/SectionComplete', data, function(result){
        if(result)
            $('#mymenudiv').css('background-image', 'yourImage'); //your styles here
    })
} 
```

在控制器中：

```
public ActionResult SectionComplete(int myvar)
{
    // check condition
    return Json(true, JsonRequestBehaviour.AllowGet); // you can return complex object instead
} 
```

# android - 如何在android GridView中做不同的怀特列

> ID：14251260
> 
> 赞同：0
> 
> 时间：2013-01-10T05:18:38.550
> 
> 标签：android

我需要用列做可编辑的表格，其中一列的宽度为 300dp，其他的为 100dp。我的活动代码：

```
ArrayList<String> data =new ArrayList<String> ();
    GridView gvMain;
    ArrayAdapter<String> adapter;
     public void initList()
        {
    ArrayAdapter<String> listAdapter = new ArrayAdapter<String>(this,  R.layout.item3, R.id.editText1, data) 
         {
           @Override
           public View getView(final int position, View convertView, ViewGroup parent)
           {
                 if (convertView == null)
                    {
                        convertView = LayoutInflater.from(getContext()).inflate(R.layout.item3, null);
                    }
                    final String theData = getItem(position);
                    final EditText editText = (EditText) convertView.findViewById(R.id.editText1);
                    editText.setText(theData);
                    editText.addTextChangedListener(
                            new MyTextWatcher(position)
                    );
                    return convertView;
                }
            };
            gvMain.setAdapter(listAdapter);
        }

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.orp);
        data=MyClass.GetData();
        gvMain = (GridView) findViewById(R.id.gridView1);
        initList();
    }
} 
```

现在 EditText 宽度取决于文本，但 gridview 列宽相同。如何为不同的列设置不同的大小。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-12T06:58:06.307

我没有找到解决方案并使用了十个不同宽度的不同 GridView。

# java - 在 Hibernate MySQL 5 中插入失败并出现 SQL 语法异常

> ID：14251261
> 
> 赞同：0
> 
> 时间：2013-01-10T05:18:46.807
> 
> 标签：java, mysql, eclipse, hibernate

我正在研究一个使用休眠技术的项目。我从 hibernate reveng 系统获得了我的 POJO 类，然后我尝试使用保存数据库过程来测试我的项目设置。这是我得到“无法插入：[tables.Users]”错误的地方。我将分享必要的课程。这是保存数据库类。

```
static boolean SaveDatabase(Users object) {

    Session session = null;
    try {

        session = HibernateUtil.getSessionFactory().openSession();
        Transaction transaction = null;
        try {
            transaction = session.beginTransaction();
            session.save(object);
            transaction.commit();
        } catch (Exception e) {
            transaction.rollback();
            System.out.println(e.getMessage());
            return false;
        }
    } finally {
        session.close();
    }
    return true;
} 
```

我的配置和表类是正确的。这是测试类；

```
public class Test {
public static void main(String[] args) {
    // Test RegisterUser and GetUsersWithId in here

    LogIn test = new LogIn();
    Users user = new Users();

    user.setUserEmail("email");
    user.setUserAdress("adres here");
    user.setUserFbId(3);
    test.RegisterUsers(user);
}
} 
```

这是堆栈跟踪：

```
log4j:WARN No appenders could be found for logger (org.hibernate.cfg.Environment).
log4j:WARN Please initialize the log4j system properly.
could not insert: [tables.Users] 
```

在调试模式下运行我的测试程序时 session.save(object); 行给出异常，我的程序跳转到 catch 块。我的交易和会话也不为空。我的调试模式有两张图片可以提供帮助。

![My passes class to the database. I'm not familiar with these hashsets, so there could be something wrong.](../Images/fb49ffbcfe14fa078bd22984c57cd58c.png) ![Some of the varieble's values when debugging is in catch block. e = SQLGrammarException sent out here](../Images/51c3dbd54e609255145afd9d42a51f68.png)

谢谢你的帮助。

编辑 3：编辑堆栈跟踪

```
 Hibernate: insert into mobil.mobil.users (UserFbId, UserFbToken, UserName, UserLastName, UserEmail, UserAdress, UserFavouritedTopicsCount, UserCreatedTopicsCount, UserRecommendedTopicsCount, UserFollowingsCount, UserFollowersCount, UserBio, UserProfilePicUrl, UserIsOnline, UserPoint) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
org.hibernate.exception.SQLGrammarException: could not insert: [tables.Users]
    at org.hibernate.exception.SQLStateConverter.convert(SQLStateConverter.java:90)
    at org.hibernate.exception.JDBCExceptionHelper.convert(JDBCExceptionHelper.java:66)
    at org.hibernate.id.insert.AbstractReturningDelegate.performInsert(AbstractReturningDelegate.java:64)
    at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:2176)
    at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:2656)
    at org.hibernate.action.EntityIdentityInsertAction.execute(EntityIdentityInsertAction.java:71)
    at org.hibernate.engine.ActionQueue.execute(ActionQueue.java:279)
    at org.hibernate.event.def.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:321)
    at org.hibernate.event.def.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:204)
    at org.hibernate.event.def.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:130)
    at org.hibernate.event.def.DefaultSaveOrUpdateEventListener.saveWithGeneratedOrRequestedId(DefaultSaveOrUpdateEventListener.java:210)
    at org.hibernate.event.def.DefaultSaveEventListener.saveWithGeneratedOrRequestedId(DefaultSaveEventListener.java:56)
    at org.hibernate.event.def.DefaultSaveOrUpdateEventListener.entityIsTransient(DefaultSaveOrUpdateEventListener.java:195)
    at org.hibernate.event.def.DefaultSaveEventListener.performSaveOrUpdate(DefaultSaveEventListener.java:50)
    at org.hibernate.event.def.DefaultSaveOrUpdateEventListener.onSaveOrUpdate(DefaultSaveOrUpdateEventListener.java:93)
    at org.hibernate.impl.SessionImpl.fireSave(SessionImpl.java:563)
    at org.hibernate.impl.SessionImpl.save(SessionImpl.java:551)
    at org.hibernate.impl.SessionImpl.save(SessionImpl.java:547)
    at DAO.LogIn.SaveDatabase(LogIn.java:55)
    at DAO.LogIn.RegisterUsers(LogIn.java:16)
    at Test.main(Test.java:14)
Caused by: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '.users (UserFbId, UserFbToken, UserName, UserLastName, UserEmail, UserAdress, Us' at line 1
    at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
    at sun.reflect.NativeConstructorAccessorImpl.newInstance(Unknown Source)
    at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(Unknown Source)
    at java.lang.reflect.Constructor.newInstance(Unknown Source)
    at com.mysql.jdbc.Util.handleNewInstance(Util.java:411)
    at com.mysql.jdbc.Util.getInstance(Util.java:386)
    at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:1053)
    at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:4096)
    at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:4028)
    at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2490)
    at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2651)
    at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2734)
    at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:2155)
    at com.mysql.jdbc.PreparedStatement.executeUpdate(PreparedStatement.java:2458)
    at com.mysql.jdbc.PreparedStatement.executeUpdate(PreparedStatement.java:2375)
    at com.mysql.jdbc.PreparedStatement.executeUpdate(PreparedStatement.java:2359)
    at org.hibernate.id.IdentityGenerator$GetGeneratedKeysDelegate.executeAndExtract(IdentityGenerator.java:94)
    at org.hibernate.id.insert.AbstractReturningDelegate.performInsert(AbstractReturningDelegate.java:57)
    ... 18 more 
```

休眠配置。文件 ：

```
<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE hibernate-configuration PUBLIC "-//Hibernate/Hibernate Configuration DTD 3.0//EN"
                                         "http://hibernate.sourceforge.net/hibernate-configuration-3.0.dtd">
<hibernate-configuration>
    <session-factory name="">
        <property name="hibernate.bytecode.use_reflection_optimizer">false</property>
        <property name="hibernate.connection.driver_class">com.mysql.jdbc.Driver</property>
        <property name="hibernate.connection.password">diobookbla</property>
        <property name="hibernate.connection.url">jdbc:mysql://localhost:3306/mobil</property>
        <property name="hibernate.connection.username">root</property>
        <property name="hibernate.default_schema">mobil</property>
        <property name="hibernate.dialect">org.hibernate.dialect.MySQLDialect</property>
        <property name="hibernate.search.autoregister_listeners">false</property>
        <mapping class="tables.Users" resource="Users.hbm.xml" />
        <mapping class="tables.Topicrecommend" resource="Topicrecommend.hbm.xml" />
        <mapping class="tables.Posts" resource="Posts.hbm.xml" />
        <mapping class="tables.Location" resource="Location.hbm.xml" />
        <mapping class="tables.Topics" resource="Topics.hbm.xml" />
        <mapping class="tables.Favouritetopics" resource="Favouritetopics.hbm.xml" />
        <mapping class="tables.Postlike" resource="Postlike.hbm.xml" />
        <mapping class="tables.Userfollow" resource="Userfollow.hbm.xml" />
        <mapping class="tables.Mention" resource="Mention.hbm.xml" />
    </session-factory>
</hibernate-configuration> 
```

编辑 2：Users.hbm.xml

```
<?xml version="1.0"?>
<!DOCTYPE hibernate-mapping PUBLIC "-//Hibernate/Hibernate Mapping DTD 3.0//EN"
"http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd">
<!-- Generated Dec 11, 2012 4:55:13 PM by Hibernate Tools 3.4.0.CR1 -->
<hibernate-mapping>
    <class name="tables.Users" table="users" catalog="mobil">
        <id name="userId" type="java.lang.Integer">
            <column name="UserId" />
            <generator class="identity" />
        </id>
        <property name="userFbId" type="java.lang.Integer">
            <column name="UserFbId" />
        </property>
        <property name="userFbToken" type="string">
            <column name="UserFbToken" />
        </property>
        <property name="userName" type="string">
            <column name="UserName" />
        </property>
        <property name="userLastName" type="string">
            <column name="UserLastName" />
        </property>
        <property name="userEmail" type="string">
            <column name="UserEmail" />
        </property>
        <property name="userAdress" type="string">
            <column name="UserAdress" />
        </property>
        <property name="userFavouritedTopicsCount" type="string">
            <column name="UserFavouritedTopicsCount" />
        </property>
        <property name="userCreatedTopicsCount" type="string">
            <column name="UserCreatedTopicsCount" />
        </property>
        <property name="userRecommendedTopicsCount" type="string">
            <column name="UserRecommendedTopicsCount" />
        </property>
        <property name="userFollowingsCount" type="java.lang.Integer">
            <column name="UserFollowingsCount" />
        </property>
        <property name="userFollowersCount" type="java.lang.Integer">
            <column name="UserFollowersCount" />
        </property>
        <property name="userBio" type="string">
            <column name="UserBio" />
        </property>
        <property name="userProfilePicUrl" type="string">
            <column name="UserProfilePicUrl" />
        </property>
        <property name="userIsOnline" type="java.lang.Boolean">
            <column name="UserIsOnline" />
        </property>
        <property name="userPoint" type="java.lang.Integer">
            <column name="UserPoint" />
        </property>
        <set name="topicses" table="topics" inverse="true" lazy="true" fetch="select">
            <key>
                <column name="TopicUserId" />
            </key>
            <one-to-many class="tables.Topics" />
        </set>
        <set name="mentionsForMentionedId" table="mention" inverse="true" lazy="true" fetch="select">
            <key>
                <column name="MentionedId" />
            </key>
            <one-to-many class="tables.Mention" />
        </set>
        <set name="favouritetopicses" table="favouritetopics" inverse="true" lazy="true" fetch="select">
            <key>
                <column name="UserId" />
            </key>
            <one-to-many class="tables.Favouritetopics" />
        </set>
        <set name="mentionsForMentionerId" table="mention" inverse="true" lazy="true" fetch="select">
            <key>
                <column name="MentionerId" />
            </key>
            <one-to-many class="tables.Mention" />
        </set>
        <set name="postlikes" table="postlike" inverse="true" lazy="true" fetch="select">
            <key>
                <column name="UserId" />
            </key>
            <one-to-many class="tables.Postlike" />
        </set>
        <set name="userfollowsForFollowingId" table="userfollow" inverse="true" lazy="true" fetch="select">
            <key>
                <column name="FollowingId" />
            </key>
            <one-to-many class="tables.Userfollow" />
        </set>
        <set name="topicrecommends" table="topicrecommend" inverse="true" lazy="true" fetch="select">
            <key>
                <column name="UserId" />
            </key>
            <one-to-many class="tables.Topicrecommend" />
        </set>
        <set name="userfollowsForFollowerId" table="userfollow" inverse="true" lazy="true" fetch="select">
            <key>
                <column name="FollowerId" />
            </key>
            <one-to-many class="tables.Userfollow" />
        </set>
    </class>
</hibernate-mapping> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-11T08:31:32.543

OK, now I got it, where the problem is. `mobil.mobil.users` is nonsense, `mobil.users` would by correct and also `users` would work, because you have chosen the correct database in the connect string.

You've defined the database name at least three times:

1.  In your connect string: `<property name="hibernate.connection.url">jdbc:mysql://localhost:3306/mobil</property>`

2.  As the default schema: `<property name="hibernate.default_schema">mobil</property>`

3.  As catalog in the class mapping: `<class name="tables.Users" table="users" catalog="mobil">`

It is absolutely sufficient to define the database name in the connect string (1.). Both 2\. and 3\. you can remove; at least one of the two you must remove.

* * *

One remark to the question marks in the logging: Hibernate never shows the concrete values in the sql log. It always shows question marks. This is due to a JDBC limitation. Nevertheless the correct values are passed to the database. If you want to see the actual values, then you have to use a separate JDBC logging utility like log4jdbc.

# batch-file - 无法使用 xcopy 从子文件夹复制更新的文件

> ID：14251263
> 
> 赞同：0
> 
> 时间：2013-01-10T05:19:04.323
> 
> 标签：batch-file

```
set "source=C:\Documents and Settings\My Documents\msword"
set "dest=D:\Test"

pushd "%source%" ||(
   echo.Source does not exist&pause&goto EOF)

for /f "tokens=*" %%f in (
   'dir /A-D /OD /B') Do set "file=%%f"

popd

xcopy /s /d /e "%source%\%file%" "%dest%\" 
```

上面的脚本不复制子文件夹文件。我应该修改什么？

我想编写脚本，将当前日期创建的文件和同一天更新的任何先前文件复制到其他驱动器文件夹，包括具有相同目录结构的文件夹。但它应该只存储当前日期和更新文件......

***更新的脚本（根据@BaliC 的要求）***

```
set "source=C:\Documents and Settings\kalim\My Documents\msword"
set "dest=D:\Test"
pushd "%source%" || ( echo.Source does not exist & pause & goto EOF)
for /f "tokens=*" %%f in ('dir /A-D /OD /B') Do (
xcopy /s /d /e "%source%\" "%dest%\"
) 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-10T09:43:59.173

正如@Andriy 正确指出的那样，您正在循环`dir`命令的输出，并且每次都设置文件而不对其进行任何操作，因此它只是不断用下一个文件覆盖变量，因此您只剩下最后一个文件输出。

这应该工作

```
for /f "tokens=*" %%f in ('dir /A-D /OD /B') Do (
set file=%%f
xcopy /s /d /e "%source%\%file%" "%dest%"
) 
```

在测试时，我在使用文件开关时确实遇到了关于循环复制的错误`/e`，但请先看看这是否有效。

也只是为了将来参考，`/e`开关与 相同`/s /e`，因此您不需要`/s`.

***更新***

您的脚本未复制文件的原因是源路径和目标路径上有斜杠，这`xcopy`是不喜欢的，并且它不会将它们识别为路径。

只需删除它们，它就像一个魅力:)

```
set "source=C:\Documents and Settings\kalim\My Documents\msword"
set "dest=D:\Test"
pushd "%source%" || ( echo.Source does not exist & pause & goto EOF)
for /f "tokens=*" %%f in ('dir /A-D /OD /B') Do (
xcopy /s /d /e "%source%" "%dest%"
) 
```

# jquery - 3d立方体动画jQuery

> ID：14251270
> 
> 赞同：0
> 
> 时间：2013-01-10T05:19:46.017
> 
> 标签：jquery, jquery-ui, css, jquery-plugins, css-transitions

[http://www.melonhtml5.com/#gallery.js](http://www.melonhtml5.com/#gallery.js)

我正在尝试为我的项目实现类似的代码。我只使用整个画廊的一个立方体复制了代码并将其放在小提琴中但不工作我包括 css 和 js

[http://jsfiddle.net/qDE5P/](http://jsfiddle.net/qDE5P/)

```
<div id="gallery" class="melonhtml5_gallery">
    <div class="size1" data-caption="Fans" data-image="http://www.melonhtml5.com/images/gallery/champ.jpg" style="width: 150px; height: 150px; z-index: 10;">
        <div class="cube" style="-webkit-transform: translateZ(-75px) rotateX(-180deg);">
            <div class="front" style="-webkit-transform: translateZ(75px); z-index: 100;">
                <img src="http://www.melonhtml5.com/images/gallery/champ.jpg" width="406.77966101694915" height="150" style="margin: 0px;">
            </div>
            <div class="back" style="-webkit-transform: rotateX(-180deg) translateZ(75px); z-index: 1000;">
                <img src="http://www.melonhtml5.com/images/gallery/champ.jpg" width="406.77966101694915" height="150" style="margin: 0px 0px 0px -256.77966101694915px;">
            </div>
            <div class="right" style="-webkit-transform: rotateY(90deg) translateZ(75px); z-index: 100;">
                <img src="http://www.melonhtml5.com/images/gallery/champ.jpg" width="406.77966101694915" height="150">
            </div>
            <div class="left" style="-webkit-transform: rotateY(-90deg) translateZ(75px); z-index: 100;">
                <img src="http://www.melonhtml5.com/images/gallery/champ.jpg" width="406.77966101694915" height="150" style="margin: 0px;">
            </div>
            <div class="top" style="-webkit-transform: rotateX(90deg) translateZ(75px); z-index: 100;">
                <img src="http://www.melonhtml5.com/images/gallery/champ.jpg" width="406.77966101694915" height="150" style="margin-left: -256.77966101694915px;">
            </div>
            <div class="bottom" style="-webkit-transform: rotateX(-90deg) translateZ(75px); z-index: 100;">
                <img src="http://www.melonhtml5.com/images/gallery/champ.jpg" width="406.77966101694915" height="150">
            </div>
        </div>
    </div> 
```

# java - 为什么子类必须调用超类中的无参数构造函数？

> ID：14251271
> 
> 赞同：0
> 
> 时间：2013-01-10T05:19:55.097
> 
> 标签：java

在下面的代码中，我了解子类中的 super(t) 明确调用其超类（B 类）中的无参数构造函数。我似乎难以理解的是为什么子类必须调用超类中的无参数构造函数？我似乎无法弄清楚这样做的目的？

```
public class Test {

    public static void main(String[] args) {

       B b = new B(5);

    }
}
class A extends B {
    public A(int t)  {
        super(t);
        System.out.println("A's constructor is invoked");
    }
}

class B  {

    public B(int k)   {
    System.out.println("B's constructor is invoked");
    }
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-10T05:22:13.863

Super 必须在 sub 之前实例化`parent must exists before child`。

> 我了解子类中的 super(t) 在其 >superclass （B 类）中显式调用无参数构造函数

`super(t)`实际上`super(5)`会调用`public B(int k)`.
`super()`尝试调用`public B()`不存在的。

注意：*如果类中没有可用的构造函数，编译器会提供无参数构造函数。*

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-10T05:27:38.270

您的类`B`没有无参数构造函数（即没有参数的构造函数）。如果它有一个，它会被 的构造函数自动调用`A`。但是在示例中，您必须手动调用它`super(t)`以指定应使用的参数。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-10T05:22:08.943

> 子类中的 super(t) 显式调用其超类（B 类）中的无参数构造函数。

不，`super(t)`可以改写为`B(t)`。它正在调用您在代码中显示的构造函数。

我相信你在想的是

> 如果构造函数没有显式调用超类构造函数，Java 编译器会自动插入对超类的无参数构造函数的调用。

来自[http://docs.oracle.com/javase/tutorial/java/IandI/super.html](http://docs.oracle.com/javase/tutorial/java/IandI/super.html)

即如果代码没有做`super(t)`默认的无参数构造函数将被调用，但是

> 如果超类没有无参数构造函数，你会得到一个编译时错误

# android - 如果我从一项活动切换到另一项活动，则在屏幕上显示 AlertDialog

> ID：14251272
> 
> 赞同：0
> 
> 时间：2013-01-10T05:20:03.047
> 
> 标签：android, android-activity, android-alertdialog

当我通过导航（后退按钮）从一个活动切换到另一个活动时，我遇到了显示 AlertDialog 的问题。

场景是这样的： 1\. 我的应用程序正在运行，我在应用程序的第二页。2\. 我按下后退按钮，但同时在第二页执行一个场景并且 AlertDialog 在屏幕上打开。3\. 我已经按下后退按钮，我重定向到主屏幕并在没有任何用户输入的情况下关闭 AlertDialog。

已经用过这个，但它不适合我。

```
1\.  Intent.FLAG_ACTIVITY_NEW_TASK
2\. onRetainNonconfigurationInstance() & getLastNonConfigurationInstance() 
```

如果我浏览它，我想在主页（MainActivity）上显示相同的 AlertDialog。我想为我的所有页面执行此操作。

任何有任何想法和建议的人。

谢谢，

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-10T05:32:18.037

第 1 步：将您的 SharedPreferences 放入您的第二个活动中

```
SharedPreferences myPrefs = getSharedPreferences(
                                "myPrefs", 0);
SharedPreferences.Editor prefsEditor = myPrefs.edit();
prefsEditor.putString("ALERT","YES");
prefsEditor.commit(); 
```

第2步：

在您的 HomeActivity 的 OnCreate 中编写以下代码

```
@Override
    protected void onCreate(Bundle savedInstanceState) {
        // TODO Auto-generated method stub
        super.onCreate(savedInstanceState);

     // Getting ALERT from Sharedpreference 
    myPrefs = getSharedPreferences("myPrefs", 0);
    ALERT = myPrefs.getString("ALERT", "NO");
         if(ALERT.equals("YES"){
           // Write your Code for Showing Alert Dialogue
           }else{
        setContentView(R.layout.login);
            // Write rest og the Code for Your Home Acitivity
          } 
```

完成 AlertDialogue 后，您必须在此处为 HomeActivity 设置内容视图。

希望它会帮助你。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-10T05:26:38.403

如果您想在用户离开 2nd Activity 之前获得用户交互，那么您必须将 AlertDialog 放入**2nd Activity**`onStop()`或如果您想在您`onDestroy()`的2nd Activity 关闭并且您处于 Main Activity 之后显示 AlertDialog ，那么您必须将 AlertDialog放入**主要活动**。（但为此，您必须使用 MAin Activity 启动第二个 Activity ）**`onActivityResult()`**`startActivityForResult()`****

 ***** * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-10T05:35:04.067

如果您想在第二个活动本身上显示警报对话框，在启动 MainActivity 之前，请使用以下概念，

```
 @Override
public void onBackPressed() {

    showAlertDialog(SecondActivity.this);

}

    private void showAlertDialog(Context mCtx) {
    // TODO Auto-generated method stub
    AlertDialog.Builder builder = new AlertDialog.Builder(mCtx);
    builder.setCancelable(false);
    builder.setTitle("Title");
    builder.setMessage("Message text !!");
    builder.setPositiveButton("OK", new DialogInterface.OnClickListener() {

        @Override
        public void onClick(DialogInterface dialog, int which) {
            dialog.dismiss();
            finish();
        }
    });
    builder.create().show();        
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-10T06:00:05.197

试试这个..

```
@Override
    public void onBackPressed() {
        // TODO Auto-generated method stub
        super.onBackPressed();
        final Dialog CloseDialog = new Dialog(Sample.this);
        CloseDialog.setTitle("Alert");
        CloseDialog.setContentView(R.layout.exit_dialog_box);
        ExitButton = (Button) CloseDialog.findViewById(R.id.ExitButton);
        CloseExitDilog = (Button) CloseDialog
                .findViewById(R.id.CloseExitDialog);

        ExitButton.setOnClickListener(new View.OnClickListener() {

            @Override
            public void onClick(View v) {
                // TODO Auto-generated method stub

                     ....../////////

            }
        });

        CloseExitDilog.setOnClickListener(new View.OnClickListener() {

            @Override
            public void onClick(View v) {
                // TODO Auto-generated method stub
                ///
            }
        });
        CloseDialog.show();
    } 
```****

# c# - 在 Windows Phone 7 或 Windows Phone 8 中使用 CollectionView 进行 LongListSelector 分组

> ID：14251274
> 
> 赞同：4
> 
> 时间：2013-01-10T05:20:08.100
> 
> 标签：c#, windows-phone-7, windows-phone-8, collectionviewsource

我面临与以下标签中列出的相同的问题

[是否可以使用 CollectionView 和 LongListSelector 进行分组？](https://stackoverflow.com/questions/10023403/is-it-possible-to-use-collectionview-with-longlistselector-for-grouping)

我使用以下代码将*LongListSelector*与分组绑定。

```
CollectionViewSource cv = new CollectionViewSource();
cv.Source = comments;
cv.GroupDescriptions.Add(new PropertyGroupDescription("Filter"));

listSelector.HideEmptyGroups = true;
listSelector.ItemsSource = cv.View.Groups; 
```

但它不显示任何内容。任何人都可以请你帮我吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-12T02:12:04.650

它不支持 ICollectionView 设计。该控件期望一个组实现 IEnumerable 而 CollectionViewGroup 没有。CollectionViewGroup 是所有 ICollectionView 组的基类。

因此，您必须围绕 ICollectionView 进行包装，以支持 LongListSelector 期望的接口或修改 LongListSelector 源代码。

这是我对包装器的快速而肮脏的实现：

```
namespace PresentationModel
{
    using System;
    using System.Collections;
    using System.Collections.Generic;
    using System.Collections.Specialized;
    using System.ComponentModel;
    using System.Linq;
    using System.Windows.Data;

    public class GroupViewItem : IList, INotifyCollectionChanged
    {
        private readonly CollectionViewGroup group;

        public GroupViewItem(CollectionViewGroup group)
        {
            this.group = group;
            ((INotifyCollectionChanged)this.group.Items).CollectionChanged += HandleCollectionViewGroupChanged;

        }

        private void HandleCollectionViewGroupChanged(object sender, NotifyCollectionChangedEventArgs e)
        {
            OnCollectionChanged(e);
        }

        public object Name { get { return this.group.Name; } }

        public int Count { get { return this.group.ItemCount; } }

        public IEnumerator GetEnumerator()
        {
            return this.group.Items.GetEnumerator();
        }

        public event NotifyCollectionChangedEventHandler CollectionChanged;

        private void OnCollectionChanged(NotifyCollectionChangedEventArgs args)
        {
            var collectionChanged = this.CollectionChanged;
            if (collectionChanged != null)
            {
                collectionChanged(this, args);
            }
        }

        int IList.Add(object value)
        {
            throw new NotSupportedException();
        }

        void IList.Clear()
        {
            throw new NotSupportedException();
        }

        bool IList.Contains(object value)
        {
            throw new NotSupportedException();
        }

        int IList.IndexOf(object value)
        {
            throw new NotSupportedException();
        }

        void IList.Insert(int index, object value)
        {
            throw new NotSupportedException();
        }

        bool IList.IsFixedSize
        {
            get
            {
                throw new NotSupportedException();
            }
        }

        bool IList.IsReadOnly
        {
            get
            {
                throw new NotSupportedException();
            }
        }

        void IList.Remove(object value)
        {
            throw new NotSupportedException();
        }

        void IList.RemoveAt(int index)
        {
            throw new NotSupportedException();
        }

        object IList.this[int index]
        {
            get
            {
                throw new NotSupportedException();
            }
            set
            {
                throw new NotSupportedException();
            }
        }

        void ICollection.CopyTo(System.Array array, int index)
        {
            throw new NotSupportedException();
        }

        bool ICollection.IsSynchronized
        {
            get
            {
                throw new NotSupportedException();
            }
        }

        object ICollection.SyncRoot
        {
            get
            {
                throw new NotSupportedException();
            }
        }
    }

    public class GroupView : IEnumerable, INotifyCollectionChanged
    {
        private readonly ICollectionView collectionView;
        private readonly List<GroupViewItem> items;

        public GroupView(ICollectionView collectionView)
        {
            this.items = new List<GroupViewItem>();

            this.collectionView = collectionView;
            ((INotifyCollectionChanged)this.collectionView.Groups).CollectionChanged += HandleCollectionViewGroupsChanged;
            ResetGroups(notify: false);
        }

        private void HandleCollectionViewGroupsChanged(object sender, NotifyCollectionChangedEventArgs e)
        {
            switch (e.Action)
            {
                case NotifyCollectionChangedAction.Add:
                    AddGroups(e);
                    break;
                case NotifyCollectionChangedAction.Remove:
                    RemoveGroups(e);
                    break;
                case NotifyCollectionChangedAction.Replace:
                    ReplaceGroups(e);
                    break;
                case NotifyCollectionChangedAction.Reset:
                    ResetGroups();
                    break;
            }
        }

        private IList<GroupViewItem> AddGroups(NotifyCollectionChangedEventArgs e, bool notify = true)
        {
            var newGroups = e.NewItems
                .Cast<CollectionViewGroup>()
                .Select(cvg => new GroupViewItem(cvg))
                .ToArray();

            this.items.InsertRange(e.NewStartingIndex, newGroups);

            if (notify)
            {
                for (var i = 0; i != newGroups.Length; ++i)
                {
                    OnCollectionChanged(new NotifyCollectionChangedEventArgs(
                        NotifyCollectionChangedAction.Add,
                        newGroups[i],
                        e.NewStartingIndex + i));
                }
            }

            return newGroups;
        }

        private IList<GroupViewItem> RemoveGroups(NotifyCollectionChangedEventArgs e, bool notify = true)
        {
            var oldGroups = this.items.GetRange(e.OldStartingIndex, e.OldItems.Count);

            this.items.RemoveRange(e.OldStartingIndex, e.OldItems.Count);

            if (notify)
            {
                for (var i = 0; i != oldGroups.Count; ++i)
                {
                    OnCollectionChanged(new NotifyCollectionChangedEventArgs(
                        NotifyCollectionChangedAction.Remove,
                        oldGroups[i],
                        e.OldStartingIndex + i));
                }
            }

            return oldGroups;
        }

        private void ReplaceGroups(NotifyCollectionChangedEventArgs e)
        {
            var oldGroups = RemoveGroups(e, notify: false);
            var newGroups = AddGroups(e, notify: false);

            if (oldGroups.Count != newGroups.Count)
            {
                OnCollectionChanged(new NotifyCollectionChangedEventArgs(
                    NotifyCollectionChangedAction.Reset));
            }
            else
            {
                for (var i = 0; i != newGroups.Count; ++i)
                {
                    OnCollectionChanged(new NotifyCollectionChangedEventArgs(
                        NotifyCollectionChangedAction.Replace,
                        newGroups[i], oldGroups[i],
                        e.NewStartingIndex + i));
                }
            }
        }

        private void ResetGroups(bool notify = true)
        {
            this.items.Clear();
            this.items.AddRange(
                this.collectionView.Groups
                    .Cast<CollectionViewGroup>()
                    .Select(cvg => new GroupViewItem(cvg)));

            if (notify)
            {
                OnCollectionChanged(new NotifyCollectionChangedEventArgs(
                    NotifyCollectionChangedAction.Reset));
            }
        }

        public event NotifyCollectionChangedEventHandler CollectionChanged;

        public IEnumerator GetEnumerator()
        {
            return this.items.GetEnumerator();
        }

        private void OnCollectionChanged(NotifyCollectionChangedEventArgs args)
        {
            var collectionChanged = this.CollectionChanged;
            if (collectionChanged != null)
            {
                collectionChanged(this, args);
            }
        }
    }
} 
```

# php - 如何在magento中获得订单的总额和净总额？

> ID：14251280
> 
> 赞同：1
> 
> 时间：2013-01-10T05:20:46.393
> 
> 标签：php, mysql, magento

我是否必须计算总总额和净总额，或者它们是否存储在数据库中。有人可以帮帮我吗？如果它们存储在数据库中，表是什么。

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-10T05:56:50.423

加载订单

```
$order = Mage::getModel('sales/order')->load($orderId); 
```

如果您有订单增量 ID，则按以下方式加载订单

```
$order = Mage::getModel('sales/order')->loadByIncrementId($orderId); 
```

然后通过以下方式检索总计

```
$grandTotal = $order->getGrandTotal(); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-11-21T10:45:03.267

getGrandTotal returns the gross total. AFAIK you have to calculate the net total, but it should be easy enough:

```
$gross = $order->getGrandTotal();
$tax = $order->getTaxAmount();
$net = $gross - $tax; 
```

# jquery - 使用 jquery 在 div 中禁用鼠标单击时出错

> ID：14251287
> 
> 赞同：0
> 
> 时间：2013-01-10T05:21:17.143
> 
> 标签：jquery

我想在某些 div 中禁用鼠标单击。为此，我使用了 die 功能，它不起作用。请让我知道我该怎么做？在jquery中可以吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-10T05:22:14.030

这很简单。使用此代码：

```
$("#DIV_ID").click(function(e){
   e.preventDefault();
   e.stopPropagation()
}); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-10T05:26:19.683

使用[stopImmediatePropagation()](http://api.jquery.com/event.stopImmediatePropagation/) ...

> 阻止其余的处理程序被执行，并防止事件在 DOM 树中冒泡。

试试这个

```
$("#yourDivId").click(function(e){
   e.preventDefault();
   e.stopImmediatePropagation();
}); 
```

# android - 即使 android:freezesText 设置为 true，Android TextView 内容也会丢失

> ID：14251288
> 
> 赞同：2
> 
> 时间：2013-01-10T05:21:22.860
> 
> 标签：android, android-layout, android-fragments, android-lifecycle, screen-rotation

我有一个包含两个片段的活动。该活动具有不同的纵向和横向布局，但片段保持不变（使用标签创建并重复使用）。在其中一个片段中，我有 xml 定义的 textview，它有 android:freezesText="true" 行，但在屏幕旋转后它仍然会丢失文本。为什么会发生这种情况？

片段的布局：

```
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:gravity="center_horizontal"
    android:orientation="vertical" >

    <TextView
        android:id="@+id/tvDisplay"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_margin="@dimen/dip10"
        android:freezesText="true"
        android:gravity="center"
        android:text="@string/hello_world"
        android:textAppearance="?android:attr/textAppearanceLarge" />

</LinearLayout> 
```

片段的类：

```
import android.os.Bundle;
import android.support.v4.app.Fragment;
import android.view.LayoutInflater;
import android.view.View;
import android.view.ViewGroup;
import android.widget.TextView;

public class DisplayFrag extends Fragment {

    @Override
    public View
            onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {
        View view = inflater.inflate(R.layout.display_frag, container, false);
        TextView tvDisplay = (TextView) view.findViewById(R.id.tvDisplay);
        tvDisplay.setText(getArguments().getString(Keys.NAME)
                + ", how are you? your phone number is " + getArguments().getString(Keys.PHONE));
        return view;
    }
} 
```

活动：

```
import android.os.Bundle;
import android.support.v4.app.FragmentActivity;
import android.support.v4.app.FragmentManager;
import android.view.View;
import android.widget.EditText;

public class MainActivity extends FragmentActivity {

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);

        FragmentManager fragMan = getSupportFragmentManager();
        InputFrag inputFrag = (InputFrag) fragMan.findFragmentByTag(Keys.TAG_INPUT_FRAG);
        if (inputFrag == null) {
            fragMan.beginTransaction().add(R.id.hook1, new InputFrag(), Keys.TAG_INPUT_FRAG)
                    .commit();
        } else {
            fragMan.beginTransaction().replace(R.id.hook1, inputFrag, Keys.TAG_INPUT_FRAG).commit();
        }
    }

    public void submit(View view) {
        FragmentManager fragMan = getSupportFragmentManager();
        DisplayFrag displayFrag = (DisplayFrag) fragMan.findFragmentByTag(Keys.TAG_DISPLAY_FRAG);
        if (displayFrag == null) {
            displayFrag = new DisplayFrag();
            displayFrag = putBundle(displayFrag);
            fragMan.beginTransaction().add(R.id.hook2, displayFrag, Keys.TAG_DISPLAY_FRAG).commit();
        } else {
            fragMan.beginTransaction().replace(R.id.hook2, displayFrag, Keys.TAG_DISPLAY_FRAG)
                    .commit();
        }

    }

    private DisplayFrag putBundle(DisplayFrag displayFrag) {
        Bundle bundle = new Bundle();
        bundle.putString(Keys.NAME, ((EditText) findViewById(R.id.etName)).getText().toString());
        bundle.putString(Keys.PHONE, ((EditText) findViewById(R.id.etPhone)).getText().toString());
        displayFrag.setArguments(bundle);
        return displayFrag;
    }
} 
```

（提交响应另一个片段上的按钮，该按钮行为正确）。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-10T08:25:41.530

找到了解决方案：根本不需要 .replace() 片段。这是 MainActivity 和 DisplayFrag 的新代码：

```
import android.os.Bundle;
import android.support.v4.app.FragmentActivity;
import android.support.v4.app.FragmentManager;
import android.view.View;
import android.widget.EditText;

public class MainActivity extends FragmentActivity {

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);

        FragmentManager fragMan = getSupportFragmentManager();
        InputFrag inputFrag = (InputFrag) fragMan.findFragmentByTag(Keys.TAG_INPUT_FRAG);
        if (inputFrag == null) {
            fragMan.beginTransaction().add(R.id.hook1, new InputFrag(), Keys.TAG_INPUT_FRAG)
                    .commit();
        }

        DisplayFrag displayFrag = (DisplayFrag) fragMan.findFragmentByTag(Keys.TAG_DISPLAY_FRAG);
        if (displayFrag == null) {
            fragMan.beginTransaction().add(R.id.hook2, new DisplayFrag(), Keys.TAG_DISPLAY_FRAG)
                    .commit();
        }
    }

    public void submit(View v) {
        String name = ((EditText) findViewById(R.id.etName)).getText().toString();
        String phone = ((EditText) findViewById(R.id.etPhone)).getText().toString();
        if (!"".matches(name) && !"".matches(phone)) {
            FragmentManager fragMan = getSupportFragmentManager();
            DisplayFrag displayFrag =
                    (DisplayFrag) fragMan.findFragmentByTag(Keys.TAG_DISPLAY_FRAG);
            if (displayFrag != null) {
                displayFrag.display(name, phone);
            }
        }
    }
}

import android.os.Bundle;
import android.support.v4.app.Fragment;
import android.view.LayoutInflater;
import android.view.View;
import android.view.ViewGroup;
import android.widget.TextView;

public class DisplayFrag extends Fragment {

    @Override
    public View
            onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {
        View view = inflater.inflate(R.layout.display_frag, container, false);
        return view;
    }

    public void display(String name, String phone) {
        TextView tvDisplay = (TextView) getActivity().findViewById(R.id.tvDisplay);
        tvDisplay.setText(name + ", how are you? your phone number is " + phone);
    }

} 
```

暂时接受我的回答。如果有人有任何其他答案、建议或知识要分享，我会很乐意接受不同的答案。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-06-06T10:37:48.710

这是因为您的活动每次都会创建一个新片段。你可以简单地通过检查saveInstanceState 来做到这一点。希望我的例子能帮助你感觉更好。

```
@Override
protected void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.activity_main);

    if (savedInstanceState == null){
        fragMan.beginTransaction().add(R.id.hook1, new InputFrag())
                .commit();

        fragMan.beginTransaction().add(R.id.hook2, new DisplayFrag())
                .commit();
    }

} 
```

并将某些错误发生在某些版本上。

```
@Override protected void onSaveInstanceState(Bundle outState) {
    // first saving my state, so the bundle wont be empty.
    // http://code.google.com/p/android/issues/detail?id=19917
    outState.putString("WORKAROUND_FOR_BUG_19917_KEY", "WORKAROUND_FOR_BUG_19917_VALUE");
    super.onSaveInstanceState(outState);
} 
```

片段的生命周期与活动不同，设置为

```
android:configChanges="orientation 
```

不会真正解决问题。

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2013-02-05T10:03:03.457

修改 AndroidManifest.xml 中的活动以通过将其添加到您的活动/活动来覆盖方向更改行为：

```
android:configChanges="orientation|keyboardHidden" 
```

它应该看起来像这样：

```
<activity android:name=".activity.LoginActivity"
          android:configChanges="orientation|keyboardHidden"
          android:label="@string/app_name">
</activity> 
```

# camera - cvCreateFileCapture() 错误：无法使用 JavaCV 创建摄像头捕获

> ID：14251290
> 
> 赞同：2
> 
> 时间：2013-01-10T05:21:27.103
> 
> 标签：camera, ip, javacv, pattern-recognition

此刻，我正在处理识别表格。它与我的电脑摄像头完美搭配，但现在我想用网络上的摄像头进行测试。我使用 JavaCV（OpenCV 适用于 Java）。

这是我的代码：

```
public static void main(String[] args) throws Exception {

    OpenCVFrameGrabber grabber = new OpenCVFrameGrabber("http://192.168.1.210:5500/snapshot.cgi?user=admin&pwd=123456"); 
    grabber.setFormat("mjpeg");
    grabber.start();
    for (int k=0; k<20000; k++){
        System.out.print(k);
    }
    IplImage frame = grabber.grab();
    CanvasFrame canvasFrame = new CanvasFrame("Camera");
    canvasFrame.setCanvasSize(frame.width(), frame.height());
    while (canvasFrame.isVisible() && (frame = grabber.grab()) != null) {
        canvasFrame.showImage(frame);
    }
    grabber.stop();
    canvasFrame.dispose();
    System.exit(0);
} 
```

我有一个错误，但我不明白。

> 线程“主”com.googlecode.javacv.FrameGrabber$Exception 中的异常：cvCreateFileCapture() 错误：无法创建相机捕获。在 com.googlecode.javacv.OpenCVFrameGrabber.start(OpenCVFrameGrabber.java:171) 在 Test.FrameRecorderTest.main(FrameRecorderTest.java:12) 警告：找不到编解码器参数 (../../modules/highgui/src/ cap_ffmpeg_impl.hpp:375)

一开始我以为这是我拍摄相机照片的地址，但我在 Mozilla/IE 中进行了测试，我可以得到图像。所以我认为地址还可以。如果我通过视频更改地址也没关系。我想...也许是因为我用相机拍照而不是视频...我想...如果是这样我可以在视频和图片之间进行选择吗？

* * *

更新：我现在改变了我的方法，现在没关系。我认为这是因为我拍了一张带有视频代码的照片。

```
package Test;

import java.awt.image.BufferedImage;
import java.io.IOException;
import java.io.InputStream;
import java.net.URL;
import javax.imageio.ImageIO;
import com.googlecode.javacv.CanvasFrame;
public class TestconnectionCamera {

    /**
     * @param args
     * @throws IOException 
     */
    public static void main(String[] args) throws IOException {
        CanvasFrame CamWindow = new CanvasFrame("Camera");

        String Cam1Jpeg_url = "http://192.168.1.210:5500/snapshot.cgi?user=admin&pwd=123456";
        URL url = new URL(Cam1Jpeg_url);

        while(true){
        InputStream is = url.openStream();
        BufferedImage image = ImageIO.read(is);
        CamWindow.showImage(image);
        is.close();
        }
    }
} 
```

# java - Java HashMap 调整大小的时间复杂度

> ID：14251292
> 
> 赞同：8
> 
> 时间：2013-01-10T05:21:38.653
> 
> 标签：java, hashmap, hashtable, time-complexity

我想知道`Java` `HashMap`当负载因子超过阈值时调整大小的时间复杂度是多少？据我了解，对于 HashMap，表大小始终是 2 的幂次方偶数，所以每当我们调整表的大小时，我们不需要重新散列所有键（如果我错了，请纠正我），我们需要做的就是是分配额外的空间，并复制旧表中的所有条目（我不太确定JVM如何在内部处理），对吗？而`Hashtable`因为它使用素数作为表格大小，所以我们需要在重新调整表格大小时重新散列所有条目。所以我的问题是调整大小是否仍需要 O(n) 线性时间`HashMap`？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-01-10T05:30:13.013

> 调整大小还需要`O(N)`时间`HashMap`吗？

基本上，是的。

*结果是导致调整大小*的插入操作需要`O(N)`时间。但这发生在`O(1/N)`所有插入中，因此（在某些假设下）*平均*插入时间为`O(1)`.

> 那么一个好的负载因子会影响这个性能吗？比更好更快`O(N)`？

负载因子的选择会影响性能，但不会影响复杂性。

如果我们对散列函数和键聚类做出正常假设，当负载因子较大时：

*   平均哈希链长度更长，但仍然`O(1)`,
*   调整大小的频率减少了，但仍然是`O(1/N)`，
*   调整大小的成本保持不变，复杂性仍然是`O(N)`.

> ...因此，每当我们调整表格大小时，我们都不需要重新散列所有键（如果我错了，请纠正我。

实际上，您*需要*重新散列所有密钥。当您将哈希表大小加倍时，需要拆分哈希链。为此，您需要测试每个键的哈希值映射到两条链中的哪一条。（事实上​​，如果哈希表也有一个开放的组织，你也需要这样做。）

但是，在当前一代的`HashMap`实现中，哈希码值被*缓存*在链接的条目对象中，因此不需要重新计算键的哈希码。

* * *

一条评论提到了所有键散列到相同散列码的退化情况。这可能是由于设计不良的散列函数或键的倾斜分布而发生的。

这会影响查找、插入和其他操作的性能，但不会影响调整大小的成本或频率。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-10T05:37:07.217

调整表大小时，必须将原表的全部内容复制到新表中，因此调整表的大小需要 O(n) 时间，其中 n 是原表中的元素个数。HashMap 上任何操作的摊销成本（假设统一散列假设）是 O(1)，但是是的，单个插入操作的最坏情况成本是 O(n)。

# cloud - 如何在使用 Drupal 制作的网站中使用身份验证

> ID：14251295
> 
> 赞同：1
> 
> 时间：2013-01-10T05:21:53.277
> 
> 标签：cloud

鉴于用户名和密码都属于特定域，我如何在使用 Drupal 制作的网站中使用身份验证来访问其他需要身份验证的服务而无需输入用户名和密码？

# java - 如何在我的 Android 应用程序中使用服务？

> ID：14251306
> 
> 赞同：0
> 
> 时间：2013-01-10T05:23:23.740
> 
> 标签：java, android, service, android-service

我正在开发一个几乎完成的应用程序。在应用程序中，有从 sftp 服务器下载和上传的数据文件。我希望当用户下载或上传文件时，该过程在后台启动，让用户使用应用程序。我还在执行不同的条件检查（其中我不打算让用户等待）。我已经使用了 downloadManager，但我仍然想知道服务对应用程序有何用处。请帮助。谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-10T05:47:42.447

**1）**创建简单的服务类，在Manifest中定义它。

**2)**使用 Async Task 执行下载

当您使用服务时；用户不必与您的应用程序交互，因为服务在后台运行。

Async Task 通过 onPreExecute() 和 onPostExecute() 让你知道下载的状态。

成功下载后向用户显示通知。

# python - 我可以从命令行将“\t”传递给 python 吗？

> ID：14251307
> 
> 赞同：7
> 
> 时间：2013-01-10T05:23:27.290
> 
> 标签：python, command-line

> **可能重复：**
> [将元字符作为命令行参数传递给 Python](https://stackoverflow.com/questions/5753332/passing-meta-characters-to-python-as-arguments-from-command-line)

我想将命令行中的参数传递给 python 脚本来指定我的输入文件的分隔符。（例如`","`或`"\t"`）。为了灵活起见，我想直接在命令行上指定它，而不是在脚本中将此参数的选项中的代码。

例如

```
pythonscript.py --in_delimiter "\t" --in_file input.txt 
```

在 python 接收到反斜杠之前，我似乎遇到了解释反斜杠的问题。我试图通过添加额外的反斜杠来逃避这一点，但无法让它工作。

**我的问题：**是否可以从命令行传递类似“\t”的内容，或者我是否必须使用我在脚本中解释的代码（例如，`c = ","`或`t= "\t"`等）。

谢谢你的帮助。

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-01-10T05:32:38.500

你是在 Bash 中做的吗？如果是这样，请尝试：

```
pythonscript.py --in_delimiter $'\t' --in_file input.txt 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-10T05:32:49.750

在 unix/linux 上，传递制表符很容易。您需要引用它，因为它是空格

要键入文字选项卡，请使用`ctrl-v` `tab`

```
pythonscript.py --in_delimiter "   " --in_file input.txt
                                 ^
                                 | this is `ctrl-v` `tab` 
```

或者，您可以针对特殊情况进行映射

```
pythonscript.py --in_delimiter TAB --in_file input.txt 
```

你在这样的代码中处理

```
in_delimiter = {"TAB": "\t", "COMMA": ","}.get(in_delimiter, in_delimiter) 
```

# google-chrome - 用于操作浏览历史的谷歌浏览器扩展

> ID：14251309
> 
> 赞同：4
> 
> 时间：2013-01-10T05:23:32.913
> 
> 标签：google-chrome, google-chrome-extension, browser-history

我正在考虑第一次开发 Google Chrome 扩展程序；没有以前的经验。我想到的扩展程序必须能够查看用户的浏览历史记录并提供他们访问某个网站或该网站内任何子目录的最早实例的 URL。

例如，用户的浏览历史可能是：

```
8:58 - http://mysite.com/page/page1.html
8:59 - http://mysite.com/test/index.php
9:00 - http://google.com
9:01 - http://google.com/?q=mysite
9:03 - http://mysite.com/this/info.html
9:04 - http://mysite.com/this/info2.html
9:05 - http://mysite.com/this/info3.html
9:06 - http://facebook.com 
```

在这种情况下，假设应用程序正在寻找访问[http://mysite.com](http://mysite.com)或任何子目录的实例。（这将在扩展程序代码本身中指定；它不是由用户设置的。）扩展程序将查找最近访问[http://mysite.com](http://mysite.com)的“组” ，在这种情况下是：

```
9:03 - http://mysite.com/this/info.html
9:04 - http://mysite.com/this/info2.html
9:05 - http://mysite.com/this/info3.html 
```

从该组中，它将选择最早的条目，并显示该 URL，在本例中为：

```
9:03 - http://mysite.com/this/info.html 
```

一直在查看 Google 关于在扩展中使用历史记录的文档（http://developer.chrome.com/extensions/history.html），但我认为我正在寻找的不是那个文档页面......

想知道是否有人可以推动我朝着正确的方向前进？

谢谢！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-10T16:15:36.333

此处列出了您的扩展程序可用的任何历史记录功能：http: [//developer.chrome.com/extensions/history.html](http://developer.chrome.com/extensions/history.html)

如果不是，您将无法访问它们。没有用于 chrome 扩展的未记录历史 API。

你可能想做这样的事情：

```
var siteToSearch = 'facebook.com';
chrome.history.search({text: siteToSearch, callback: function(results) {
    //Iterate through the `results` array of `HistoryItem` objects
    //Look for lowest value of `lastVisitTime` OR call `chrome.history.getVisits` with
    //`results[i].url` and then check the returned `VisitItem` for the `visitTime` property
}}) 
```

您可能希望使用正则表达式将您正在搜索的站点的 URL 与浏览器历史记录中的结果进行匹配。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2021-07-30T14:55:00.880

谷歌似乎在[这个链接上移动了文档](https://developer.chrome.com/docs/extensions/reference/history/)

并且可以通过执行以下操作来使用旧答案中包含的代码段：

```
const siteToSearch = 'facebook.com';
chrome.history.search({text: siteToSearch}, callback: function(results) {
    //Iterate through the `results` array of `HistoryItem` objects
    //Look for lowest value of `lastVisitTime` OR call `chrome.history.getVisits` with
    //`results[i].url` and then check the returned `VisitItem` for the `visitTime` property
}}) 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2022-01-15T02:23:49.493

你可以尝试在github中引用这个chrome扩展，它允许你使用浏览器地址栏搜索关键字，它会自动搜索你的浏览器历史并给你建议

[github - 历史作为书签](https://github.com/gaoqing/history-as-bookmark)

[Chrome 网上商店 - 历史记录作为书签](https://chrome.google.com/webstore/detail/history-as-bookmark/mfbdcpljldfodjopfhbafaipgmfgalbl?hl=en-GB&authuser=0)

# ruby - 大写标题

> ID：14251311
> 
> 赞同：2
> 
> 时间：2013-01-10T05:23:36.617
> 
> 标签：ruby

我正在尝试编写一种将标题大写的方法。它不应该将每个单词都大写，如果你愿意的话，只应该大写。有时，它必须将每个单词都大写。也许我需要为小词添加一个例外。它是 Ruby 教程的一部分，我不能使用 Rails`titleize`方法。这是我到目前为止所拥有的。如果您能提供帮助，请告诉我。

```
def titleize(name)
  name.split(" ").each {|word| word.capitalize!}.join (" ")
end 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-10T17:18:04.253

基于 Josh Voigts 的评论：

```
def titleize(name)
  lowercase_words = %w{a an the and but or for nor of}
  name.split.each_with_index.map{|x, index| lowercase_words.include?(x) && index > 0 ? x : x.capitalize }.join(" ")
end 
```

您可能希望让 lowercase_words 成为常量并将其移出函数，因为它们永远不会改变。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2014-12-03T16:52:41.643

这是一个非常复杂的问题，@johnnycakes 的回答是一个很好的开始，但 lowercase_words 的列表并不详尽。任何 4 个或更少字母的介词都不应大写，例如 over、 into、 on、 as 等。此外，除了第一个单词之外，标题的最后一个单词应始终大写。

维基百科有一个[英文介词列表](http://en.wikipedia.org/wiki/List_of_English_prepositions)。然而，由于有些词既可以是介词也可以是动词，这使情况变得更加复杂，因此“I Like You”将“like”大写，而“In like Flynn”则不会。

Rails 的 titleize 方法似乎将每个单词都大写，而[titleize gem](https://github.com/granth/titleize)在遵循实际样式指南方面做得稍微好一些，尽管仍然没有解决介词问题。

# ext.net - 外网号码字段

> ID：14251312
> 
> 赞同：1
> 
> 时间：2013-01-10T05:23:53.870
> 
> 标签：ext.net

如何设置最大十进制值 =.45 我想选择小时数......即

```
1.15 hrs
1.30 hrs
1.45 hrs
2.00 hrs 
'
'
' 
```

等等

```
 <ext:NumberField 
                        ID="numHours" 
                        runat="server" 
                        ColumnWidth="0.2" LabelWidth="50"
                        MinValue="0"
                        MaxValue="12"
                        AllowDecimals="true"
                        DecimalPrecision="2"
                        Step="0.15"
                        /> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-14T06:17:41.393

也许是这样的。

```
<%@ Page Language="C#" %>

<%@ Register Assembly="Ext.Net" Namespace="Ext.Net" TagPrefix="ext" %>

<!DOCTYPE html>

<html>
<head runat="server">
    <title>Ext.NET v2 Example</title>

    <script>
        var onChange = function (field, newValue, oldValue) {
            if (newValue % 1 > 0.45) {
                if (newValue > oldValue) {
                    newValue += 0.4;
                } else {
                    newValue -= 0.4;
                }
            }

            this.setValue(newValue);
        };
    </script>
</head>
<body>
    <form runat="server">
        <ext:ResourceManager runat="server" />

         <ext:NumberField 
            runat="server" 
            MinValue="0"
            MaxValue="12"
            AllowDecimals="true"
            DecimalPrecision="2"
            TrimTrailedZeros="false"
            Step="0.15">
            <Listeners>
                <Change Fn="onChange" />
            </Listeners>
         </ext:NumberField>
    </form>
</body>
</html> 
```

不过，就我个人而言，我也会考虑使用 SpinnerField 的可能性。这是一个[例子](http://examples.ext.net/#/Form/SpinnerField/Custom/)。

# actionscript-3 - AS3 SharedObject getlocal 持久性（带或不带 www）

> ID：14251318
> 
> 赞同：3
> 
> 时间：2013-01-10T05:24:35.017
> 
> 标签：actionscript-3, persistence, shared-objects

我目前正在为我的聊天客户端使用 AS3 读取和写入数据到 sol 文件。我让它使用 localpath 参数作为“/”读/写 sol 文件，没有问题。

**问题是这样的：**

*如果闪存数据是从 www.domain.com 上的 swf 设置的，则在 domain.com 上加载的相同 swf 的 sol 文件不存在。-反之亦然。-*

我已经广泛搜索了 Adob​​e 帮助和 api 文档，但无论是否添加了 www，我似乎都无法找到一种方法来检查确切的路径。

是否有可能这样做，或者我最好将所有请求重定向到使用/不使用 www 以便它在请求中持续存在？或者应该更多地研究getRemote？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-10T14:29:59.590

**[注意：**我将评论移至此处作为答案。]

在访问 SharedObject 之前设置`Security.exactSettings`为（通过[方法](http://help.adobe.com/en_US/FlashPlatform/reference/actionscript/3/flash/net/SharedObject.html#getLocal%28%29)）将使播放器使用播放器版本 6 使用的设置，这在[文档](http://help.adobe.com/en_US/FlashPlatform/reference/actionscript/3/flash/system/Security.html#exactSettings)中进行了解释，例如：`false`[`.getLocal()`](http://help.adobe.com/en_US/FlashPlatform/reference/actionscript/3/flash/net/SharedObject.html#getLocal%28%29)

> 在 Flash Player 6 中，用于这些播放器设置的域基于 SWF 文件域的尾部。如果 SWF 文件的域包含两个以上的段，例如 www.example.com，则域的第一个段（“www”）将被删除，并使用域的其余部分：example.com。因此，在 Flash Player 6 中，www.example.com 和 store.example.com 都使用 example.com 作为这些设置的域。同样，www.example.co.uk 和 store.example.co.uk 都使用 example.co.uk 作为这些设置的域。在 Flash Player 7 及更高版本中，默认情况下会根据 SWF 文件的确切域选择播放器设置；例如，来自 www.example.com 的 SWF 文件将使用 www.example.com 的播放器设置，而来自 store.example.com 的 SWF 文件将使用单独的 store 播放器设置。

# jquery - 如何捕获 JSON 数据中的解析错误

> ID：14251322
> 
> 赞同：1
> 
> 时间：2013-01-10T05:25:06.843
> 
> 标签：jquery, jsonp

让我重新表述我的问题。我需要从 Last.FM 解析 JSON 数据。此数据可能会根据查找的成功而改变，这意味着我的 JSONP 节点可能会因一次搜索而异。问题是如果我查找一个不存在的节点，整个查找将失败并且我丢失了 JSON 对象中的所有数据。我不知道如何捕获这种错误并在错误之后继续遍历JSON数据。

```
/********** Last FM Scrobbler - get album JSON details ***********/

function refreshArtwork(artist, track) {    
$.ajax({
  type: 'GET',
  url: 'http://ws.audioscrobbler.com/2.0/',
  data: {
        method: 'track.getInfo',
        api_key: 'c88cc53549bec0e9f246f056dc05a745',
        artist: artist,
        track: track,
        format: 'json',
        },
  dataType: 'jsonp', //must be JSONP for CORS
  error: lstError, 
  success: getLastfm
   });
}

/* success: parse album XML from LastFM scrobbler */
function getLastfm(json) {

//alert(json.track.wiki.summary); // wiki summary
var lstArtist = (json.track.artist['name']); // artist
var lstTitle = (json.track.name); // Title
var lstAlbumart = (json.track.album.image[3]['#text']);// 0=small, 1=medium, 2=large,    3=xlarge
//var listWikis = (json.track.wiki.summary); // WIKI summary
var lstAlbum = (json.track.album.title); // album

// if no artist info then error in name
if (lstArtist ===null) {
    $('#response').append('<li style="color:red">' + 'No Artist Match on Last.FM!' + '</li>');
    lstError();
}
// if no album art info then error in album URL
if (lstAlbumart ===null) {
    $('#response').append('<li style="color:red">' + 'No Album Art URL Match on    Last.FM!' + '</li>');
    lstError();
} 
```

例如，如果 JSON 数据中缺少专辑标题，我将无法访问任何其他节点。lstTitle = (json.track.name); 如果它缺少其他人将无法正常工作。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-10T18:18:08.233

您可以使用它`typeof`来检查节点是否存在。

就像是：

```
var lstArtist = (typeof json.track.artist.name === "string")
                ? json.track.artist.name
                : ''; 
```

这会将`lstArtist`变量设置为艺术家的姓名或空白字符串（如果实际不存在）。

最棒的`typeof`是它总是返回一个字符串，即使您正在检查的内容不存在（在这种情况下，它返回字符串：“undefined”）。

在这里查看一些文档`typeof`：[https ://developer.mozilla.org/en-US/docs/JavaScript/Reference/Operators/typeof](https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Operators/typeof)

请注意，上面的代码只是一个三元运算符（简写 if/then 语句）。三元运算符的文档：[https ://developer.mozilla.org/en-US/docs/JavaScript/Reference/Operators/Conditional_Operator](https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Operators/Conditional_Operator)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-10T22:11:26.560

我很困惑......我仍然无法针对“”或 null 或 undefined 测试返回的 JSON 值，但没有成功。只要其中一个节点不是 JSON 对象的一部分，就不会返回所有数据。挑战在于 JSON 会根据搜索结果而变化。

```
/********** Last FM Scrobbler - get album JSON details ***********/

function refreshArtwork(artist, track) {    
$.ajax({
  type: 'GET',
  url: 'http://ws.audioscrobbler.com/2.0/',
  data: {
        method: 'track.getInfo',
        api_key: 'c88cc53549bec0e9f246f056dc05a745',
        artist: artist,
        track: track,
        format: 'json',
        },
  dataType: 'jsonp', //must be JSONP for CORS
  error: lstError, 
  success: getLastfm
  });
}

/* success: parse album XML from LastFM scrobbler */
function getLastfm(json) {

//alert(json.track.wiki.summary); // wiki summary
var lstError = (typeof json.error === "string")
            ? json.error
            : '';

var lstArtist = (typeof json.track.artist.name === "string")
            ? json.track.artist.name
            : '';
var lstTitle = (typeof json.track.name === "string")
            ? json.track.name
            : '';
var lstAlbumart = (typeof json.track.album.image[3]['#text'] === "string")
            ? json.track.album.image[3]['#text']
            : '';
var lstAlbum = (typeof json.track.album.title === "string")
            ? json.track.album.title
            : '';
var lstWikis = (typeof json.track.wiki.summary === "string")
            ? json.track.wiki.summary
            : ''; 
```

# android - 文字在移动方向改变时保留

> ID：14251323
> 
> 赞同：0
> 
> 时间：2013-01-10T05:25:08.107
> 
> 标签：android, orientation

如您所见，我是 android 的新手，我遇到了问题。在我的登录表单中，当我更改手机的方向时，编辑文本中的填充文本丢失了。

即使改变移动设备的方向，如何保留我的文本。

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2013-01-10T05:30:51.450

在活动中的 android 清单文件中使用：

```
android:configChanges="orientation" 
```

并在您的活动文件中处理您的方向更改情况，如下所示：

```
@Override
public void onConfigurationChanged(Configuration newConfig) {
    // TODO Auto-generated method stub
    super.onConfigurationChanged(newConfig);
    //SET YOUR CURRENT TEXT OF EDITTEXT TO IT
    YOUR_EDIT_TEXT.setText("YOUR TEXT");
} 
```

希望它会帮助你。

# mysql - 如何读取我也在 MySQL 中更新的表？

> ID：14251330
> 
> 赞同：0
> 
> 时间：2013-01-10T05:26:01.443
> 
> 标签：mysql

## 更新声明

```
UPDATE a_fees af set af.audit_id =  get_audit_id ( pubco_id, auditor_id, 
                                                   (SELECT 
                                                    CONCAT ('''', 
                                                      a_fees.fiscal_year, '', 
                                                      fiscal_period_end_month,'',
                                                      fiscal_period_end_day, '''')
                                                   FROM a_fees, a_fiscal_period_end
  WHERE a_fees.fiscal_period_end_id = a_fiscal_period_end.fiscal_period_end_id)
); 
```

## 错误信息

```
#1093 - You can't specify target table 'af' for update in FROM clause 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-10T09:07:22.007

据此，[这](https://stackoverflow.com/questions/1805009/using-exists-with-mysql?rq=1)应该工作：

```
UPDATE a_fees set audit_id =  get_audit_id ( pubco_id, auditor_id, 
                                                   (SELECT 
                                                    CONCAT ('''', 
                                                      af.fiscal_year, '', 
                                                      fiscal_period_end_month,'',
                                                      fiscal_period_end_day, '''')
                                                   FROM a_fees af, a_fiscal_period_end
  WHERE af.fiscal_period_end_id = a_fiscal_period_end.fiscal_period_end_id)
); 
```

# java - 从 youtube 客户端 api 获取视频源

> ID：14251333
> 
> 赞同：0
> 
> 时间：2013-01-10T05:26:28.870
> 
> 标签：java, youtube-api

我正在使用 gdata-src.java-1.47.1 java 客户端 api 并使用在线[开发人员指南](https://developers.google.com/youtube/2.0/developers_guide_java)。我的问题是，在在线开发人员指南中，该`getFeed (URL,String)`方法是从服务实例调用来获取视频提要的，例如

```
 VideoFeed videoFeed = service.getFeed(new URL(feedUrl), VideoFeed.class); 
```

我假设服务实例属于 YouTubeService 类。但是当我创建这个类的一个实例时，没有任何`getFeed (URL,String)`方法。这个方法属于什么类，或者我可以使用哪些其他替代方法来获取`VideoFeed`.

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-10T20:29:07.840

您是否导入了正确的 JAR？我不确定你是如何得到这个错误的。

我导入了这些 JAR：

```
gdata-client-1.0.jar
gdata-core-1.0.jar
gdata-youtube-2.0.jar
guava-11.0.2.jar
mail.jar
gdata-client-meta-1.0.jar
gdata-media-1.0.jar
gdata-youtube-meta-2.0.jar
jsr305.jar 
```

当您解压缩 GData zip 文件时，这些文件位于 gdata/java/lib 中。依赖项位于 gdata/java/deps 中，mail.jar 位于[此处](http://www.oracle.com/technetwork/java/javamail/index-138643.html)。

我有这些进口：

```
import com.google.gdata.client.youtube.YouTubeService;
import com.google.gdata.data.geo.impl.GeoRssWhere;
import com.google.gdata.data.media.mediarss.MediaKeywords;
import com.google.gdata.data.media.mediarss.MediaPlayer;
import com.google.gdata.data.media.mediarss.MediaThumbnail;
import com.google.gdata.data.youtube.VideoEntry;
import com.google.gdata.data.youtube.VideoFeed;
import com.google.gdata.data.youtube.YouTubeMediaContent;
import com.google.gdata.data.youtube.YouTubeMediaGroup;
import com.google.gdata.data.youtube.YouTubeMediaRating;
import com.google.gdata.data.youtube.YtPublicationState;
import com.google.gdata.data.youtube.YtStatistics;
import com.google.gdata.util.ServiceException; 
```

我的代码如下。我省略了打印功能。此外，为了简化示例代码，我使用 ClientLogin -[不要在实际应用程序中使用 ClientLogin](http://apiblog.youtube.com/2011/03/clientlogin-fail.html)

```
 String feedUrl = "http://gdata.youtube.com/feeds/api/standardfeeds/most_viewed";

    YouTubeService service = new YouTubeService("youtube", "DEVELOPER_KEY_HERE");
    service.setUserCredentials("LOGIN@gmail.com", "YOUR_PASSWORD_HERE");
    VideoFeed videoFeed = service.getFeed(new URL(feedUrl), VideoFeed.class);
    printVideoFeed(videoFeed, true); 
```

请注意，如果可能，您应该查看[v3 API](https://developers.google.com/youtube/v3/)。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2017-02-07T07:54:00.283

[http://www.java2s.com/Code/Jar/g/](http://www.java2s.com/Code/Jar/g/)

下载**gdatayoutubemeta20jar** .htm

同样，您会在同一页面上找到所有 JAR - 单击该页面并下载 jar.ZIP 文件

我不确定，为什么这些库不能立即下载

# php - 获取数据库中的所有表

> ID：14251334
> 
> 赞同：0
> 
> 时间：2013-01-10T05:26:29.147
> 
> 标签：php, mysql

我做了两个下拉框。第一个下拉列表列出了可用的数据库。当用户从第一个下拉框中选择一个数据库时，我想用该数据库中的所有表填充第二个下拉框。

谁能建议我如何做到这一点？

这是我尝试过的代码

```
School Name:<select style="width: 140px" name="users" >
                    <option value="">Select school_name </option>

<?php
$link = mysql_connect('localhost', 'root', '');
$db_list = mysql_list_dbs($link);

while ($row = mysql_fetch_object($db_list)) {

?>
<option value='<?php echo $row->Database; ?>'><?php echo $row->Database; ?>   </option>
    <?php }?>

</select><br/>
Class:<select style="width: 140px" name="users" >
                    <option value="">Select school_name </option>

    <?php
    $link = mysql_connect('localhost', 'root', '');
    $db_list = mysql_list_tables($link);                            
    while ($row = mysql_fetch_object($db_list)) {

    ?>
    <option value='<?php echo $row->Tables; ?>'><?php   echo $row->Tables; ?></option>
              <?php }?>

</select>

<?php
}
?> 
```

现在我想根据第一个下拉框获取第二个下拉列表中的所有表格。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-10T05:31:40.533

获取数据库：[从 SQL Server 获取数据库列表](https://stackoverflow.com/questions/147659/get-list-of-databases-from-sql-server)

获取数据库中的表：http: [//php.net/manual/en/function.mysql-list-tables.php](http://php.net/manual/en/function.mysql-list-tables.php)

使用 AJAX 更改基于数据库下拉框的表。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-10T05:29:38.970

使用 PDO，您只需使用以下`SHOW TABLES`命令：

```
$result = $db->query("SHOW TABLES"); 
```

要获取所有数据库的列表，请使用以下`SHOW DATABASES`命令：

```
$result = $db->query( 'SHOW DATABASES' ); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-10T05:52:57.900

尝试这个：

要获取数据库列表：

```
SELECT SCHEMA_NAME FROM information_schema.SCHEMATA ; 
```

要获取表列表：

```
SELECT TABLE_NAME FROM information_schema.TABLES WHERE TABLE_SCHEMA = 'DBName'; 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-10T06:02:15.520

***只需尝试以下示例：***

创建两个**PHP**文件如下，

**(1)。索引.php：**

```
<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1/jquery.min.js"></script>
<script type="text/javascript">
function get_tables(db_name){
$.post("fetch_data.php", { db_name: db_name },
function(data) {
$("#tables_list").html(data);
}
);
}
</script>
<table>
<tr><td><label>Select Your Database Name :</label></td><td><select name="database_list" onChange="get_tables(this.value);">
<option value="Wp-Sparks">Wp-Sparks</option>
<option value="Ja_Sparks">Ja_Sparks</option>
<option value="test">Test</option>
</select></td></tr>
<tr><td><label>Select Your Database Tables :</label></td><td><select name="tables_list" id="tables_list"></select></td></tr>
</table> 
```

**(2)。fetch_data.php ：**

```
<?php
$dbname =  mysql_real_escape_string($_POST['db_name']);
if (!mysql_connect('HOST_NAME', 'USER_NAME', 'PASSWORD')) {
    echo 'Could not connect to mysql';
    exit;
}
$sql = "SHOW TABLES FROM $dbname";
$result = mysql_query($sql);

if (!$result) {
    echo "DB Error, could not list tables\n";
    echo 'MySQL Error: ' . mysql_error();
    exit;
}
while ($row = mysql_fetch_row($result)) {
?>
<option value="<?php echo $row[0];?>"><?php echo $row[0];?></option>
<?php
}
mysql_free_result($result);
?> 
```

我认为这可以帮助您解决问题。

# android - ListView 图像加载 Android

> ID：14251337
> 
> 赞同：1
> 
> 时间：2013-01-10T05:26:46.523
> 
> 标签：android, android-imageview, image-loading

我正在尝试制作一个列表视图，其中每一行都有一个文本视图和一个图像视图。在图像视图中，我正在尝试使用自定义适配器加载缩略图。我的问题是，如果我有大约 1000 个缩略图，将图像保存在 res/drawable 文件夹中并直接从那里加载是一个好主意（因为图像非常小，大约 2-4kb）。还是从网页 url 下载它们并将它们加载到 listView 中是一个更好的选择。有人可以帮助我找出更明智的解决方案。后来我可能会使用超过 1000 个缩略图。

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-10T05:32:02.427

如果您将所有 1000 张图像保存在 res 文件夹中，则应用程序大小将增加 2-4 Mb。

因此，最好使用延迟加载从 Web 服务器下载图像。因为，通常用户不会向下滚动到 100 多个项目。因此，要在 99% 的时间内显示 <100 张图像，将所有 1000 张图像都放在应用程序 res 文件夹中是没有用的。

在此处查看投票最高的答案：

[ListView 中图像的延迟加载](https://stackoverflow.com/questions/541966/how-do-i-do-a-lazy-load-of-images-in-listview)

这就是我在我的应用程序中使用的。对此非常满意。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-10T05:31:02.327

当然，您可以将所有图像保存在可绘制文件夹中。只要您以后不打算添加图像，那将是一种更快、更清洁的解决方案。

您可以节省数据费用、电池寿命和编码工作 :)

我想说，1000 并不是一个很大的数字，因为您的图像真的那么小。但是，如果超出这个范围，那可能是个问题。

我也不认为每个用户都需要所有 1000 或 2000 张图像。这样，您最好从某个地方下载相关图像，而不是将其与应用程序打包在一起。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-10T05:35:05.627

你应该下载拇指，毫无疑问。如何优化代码是通过对 Listview 中的所有视图进行软缓存。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2016-03-30T11:45:47.593

@Archie.bpgc 答案是完美的。如果从 URL 异步加载图像会更好。如果您从服务器获取部分图像列表会更好。这意味着它第一次从服务器获得 20 个项目，之后它将从服务器获得下一个 20 个项目。

要从服务器异步加载图像，您可以使用 Picasso 小型库。这是毕业典礼

```
compile 'com.squareup.picasso:picasso:2.3.3' 
```

这是你的`ImageView`

```
<ImageView
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:id="@+id/imageView"
    android:layout_alignParentTop="true"
    android:layout_centerHorizontal="true" /> 
```

这是简单的java代码

```
ImageView imageView = (ImageView) findViewById(R.id.imageView);

    Picasso.with(this)
            .load("YOUR_IMAGE_URL")
            .into(imageView); 
```

就是这样。欲了解更多信息，请访问[此处](http://code.tutsplus.com/tutorials/android-sdk-working-with-picasso--cms-22149)，如果您对毕加索有疑问，请查看[此链接](https://stackoverflow.com/a/24076798/3073945)

# android - 如何在 Android 中获取 Facebook 好友即将到来的生日

> ID：14251341
> 
> 赞同：0
> 
> 时间：2013-01-10T05:27:15.667
> 
> 标签：android, facebook, facebook-graph-api

我制作了一个应用程序，在其中我正在获取我所有 FB 朋友的名单以及他们的姓名、出生日期和个人资料图片，并且我按以下顺序显示此列表**`Birthday Date`**

但是现在我想让它更加自定义，我想在他们的生日到来时使用当前日期来获取朋友列表，比如**`In Order of Upcoming Birthdays`**

我的代码：

*好友列表.java：*

```
 public class FriendListAdapter extends BaseAdapter implements SectionIndexer {
    private LayoutInflater mInflater;

    private GetProfilePictures picturesGatherer = null;
    FriendsList friendsList;
    private String[] sections;
    Hashtable<Integer, FriendItem> listofshit = null;

    public FriendListAdapter(FriendsList friendsList) {
        Log.d(LOG_TAG, "FriendListAdapter()");
        this.friendsList = friendsList;
        sections = new String[getCount()];
        listofshit = new Hashtable<Integer, FriendItem>();
        for (int i = 0; i < getCount(); i++) {
            try {
                sections[i] = jsonArray.getJSONObject(i).getString("name").substring(0);
                sections[i] = jsonArray.getJSONObject(i).getString("birthday").substring(1);

                } catch (JSONException e) {
                sections[i] = "";
                Log.e(LOG_TAG, "getJSONObject: " + e.getMessage());
            }
        }
        if (picturesGatherer == null) {
            picturesGatherer = new GetProfilePictures();
        }
        picturesGatherer.setAdapterForListener(this);
        mInflater = LayoutInflater.from(friendsList.getBaseContext());
    }

    public int getCount() {
        Log.d(LOG_TAG, "getCount()");
        if (jsonArray == null)
            return 0;
        return jsonArray.length();
    }

    public Object getItem(int position) {
        Log.d(LOG_TAG, "getItem()");
        return listofshit.get(position);
    }

    public long getItemId(int position) {
        Log.d(LOG_TAG, "getItemId()");
        return position;
    }

    public View getView(int position, View convertView, ViewGroup parent) {
        Log.d(LOG_TAG, "getView(" + position + ")");

        JSONObject jsonObject = null;
        try {
            jsonObject = jsonArray.getJSONObject(position);
        } catch (JSONException e) {
            Log.e(LOG_TAG, "getJSONObject: " + e.getMessage());
        }

        FriendItem friendItem;

        if (convertView == null) {
            convertView = mInflater.inflate(R.layout.single_friend, null);
            friendItem = new FriendItem();

            convertView.setTag(friendItem);
        }
        else {
            friendItem = (FriendItem) convertView.getTag();
        }

        friendItem.friendPicture = (ImageView) convertView.findViewById(R.id.picture_square);
        friendItem.friendName = (TextView) convertView.findViewById(R.id.name);
        friendItem.friendDob = (TextView) convertView.findViewById(R.id.dob);
        friendItem.friendLayout = (RelativeLayout) convertView.findViewById(R.id.friend_item);

        try {
            String uid = jsonObject.getString("uid");
            String url = jsonObject.getString("pic_square");
            friendItem.friendPicture.setImageBitmap(picturesGatherer.getPicture(uid, url));
        } catch (JSONException e) {
            Log.e(LOG_TAG, "getJSONObject: " + e.getMessage());
            friendItem.friendName.setText("");
            friendItem.friendDob.setText("");
        }

        try {
            friendItem.friendName.setText(jsonObject.getString("name"));
            friendItem.friendDob.setText(jsonObject.getString("birthday"));
        } catch (JSONException e) {
            Log.e(LOG_TAG, "getJSONObject: " + e.getMessage());
            friendItem.friendName.setText("");
            friendItem.friendDob.setText("");
        }

        listofshit.put(position, friendItem);

        return convertView;
    }

    public int getPositionForSection(int position) {
        return position;
    }

    public int getSectionForPosition(int position) {
        return position;
    }

    public Object[] getSections() {
        return sections;
    }
}

class FriendItem {
    TextView friendDob;
    int id;
    ImageView friendPicture;
    TextView friendName;
    RelativeLayout friendLayout;

}
} 
```

*FacebookUtility.java*

```
 public static void requestFriends(FacebookRequest facebookRequest) {
    Log.d(LOG_TAG, "requestFriends(" + ")");
    String query = "select name, birthday, uid, pic_square from user where uid in (select uid2 from friend where uid1=me()) order by birthday_date";
    Bundle params = new Bundle();
    params.putString("method", "fql.query");
    params.putString("query", query);
    FacebookUtility.asyncRunner.request(null, params, new FacebookRequestListener(FacebookRequestListener.FRIENDS, facebookRequest));
} 
```

# iphone - productsRequest:didReceiveResponse: 应该在没有互联网连接时运行吗？

> ID：14251345
> 
> 赞同：1
> 
> 时间：2013-01-10T05:27:37.827
> 
> 标签：iphone, in-app-purchase, storekit

我在我的 iphone 游戏中实现了一个商店。当我有互联网连接时，它似乎工作得很好。但是，当我将手机调至飞行模式以在没有互联网连接的情况下测试商店时，productsRequest:didReceiveResponse: 仍然运行。

我也实现了 request:didFailWithError: 但它永远不会被调用。

不应该 productsRequest:didReceiveResponse: 当我的 iphone 没有连接到互联网时不运行，还是无论如何它都会运行？如果它不应该运行......任何想法为什么它是？

谢谢你的建议！

# html - 2013年常见的html5音频格式？

> ID：14251347
> 
> 赞同：2
> 
> 时间：2013-01-10T05:27:54.757
> 
> 标签：html, audio

有人可以建议一种单一的音频格​​式来最大限度地提高桌面浏览器之间的兼容性吗？

该程序不是音频驱动的，我考虑音频和额外奖励。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-10T05:35:12.537

大多数浏览器使用的最常见格式是 .wav[音频格式和浏览器支持](http://www.w3schools.com/html/html5_audio.asp)。但是，使用 html 5，您始终可以为可能不支持该格式的浏览器指定后备，例如

```
<audio controls>
   <source src="horse.wav" type="audio/wav">
   <source src="horse.ogg" type="audio/ogg">
   <source src="horse.mp3" type="audio/mpeg">
   Your browser does not support the audio element.
</audio> 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-10T08:29:21.750

没有一种单一的音频格​​式可以跨浏览器工作。Safari、Chrome 和 IE9+ 支持 MP3，而 Firefix 和 Opera 都支持 WebM（和 Ogg，但 WebM 更好）。

我听说 Firefox 计划最终支持 MP3，但我不知道那是什么时候。

您还可以使用[MediaElementJS](http://mediaelementjs.com/)之类的库，如果浏览器不支持它，它将自动回退到使用 Flash 播放音频文件。

# wpf - 将 Authenticode 与 ClickOnce WPF 应用程序一起使用

> ID：14251348
> 
> 赞同：8
> 
> 时间：2013-01-10T05:27:58.427
> 
> 标签：wpf, clickonce, authenticode

好吧，我做的不对，我需要一些帮助。这是正在发生的事情：

1.  我有一张来自[Comodo](https://en.wikipedia.org/wiki/Comodo_Group)的“真正的”Authenticode 证书，我已经支付了费用。
2.  我正在尝试签署和部署用 Visual Studio 2012 和 .NET 4.5 编写的 WPF 应用程序。
3.  在项目的属性中，我检查了“签署 ClickOnce 清单”并选择了我的证书。
4.  我也在使用 Comodo 的时间戳服务器（[http://timestamp.comodoca.com/authenticode](http://timestamp.comodoca.com/authenticode)）
5.  在“发布”选项卡和“先决条件”按钮下，我已选中“创建安装程序以安装必备组件”。

当我构建和发布时，一切正常！setup.exe 使用我的 Comodo 证书签名，这很好。此外，该`.application`文件使用 Comodo 证书签名，并且我的公司名称显示为发布者——这也很好。

问题来了：一旦将应用程序下载到客户端，Windows 8 就会发出关于不受信任程序 (MyProgram.exe) 的警告，并且发布者不是我的公司名称。*因此，除了实际的可执行文件外*，所有内容都已签名。

 *我尝试在 obj\Release\MyProgram.exe 上添加使用 signtool.exe 的构建后脚本，但是当我尝试安装应用程序时，我收到一个清单错误，指出哈希值不匹配。换句话说，清单是在构建后事件之前生成的。

如何签署我的 .exe 并维护 ClickOnce 清单的完整性？有没有一种简单的方法可以做到这一点，或者我必须手动在每个文件上使用 mage.exe（我希望不是）？

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-01-11T00:24:03.193

好吧，没有人对此有所了解，但谢天谢地，我想通了！

感谢这个问题：[签署EXE时出现“文件的计算哈希值与清单中指定的不同”错误](https://stackoverflow.com/questions/12521642/file-has-a-different-computed-hash-than-specified-in-manifest-error-when-signi)

我能够编辑项目文件的 XML（卸载项目，然后选择“编辑 myproject.csproj”）并添加：

```
 <Target Name="SignOutput" AfterTargets="CoreCompile">
<PropertyGroup>
  <TimestampServerUrl>http://timestamp.comodoca.com/authenticode</TimestampServerUrl>
  <ApplicationDescription>My Project Friendly Name</ApplicationDescription>
  <SigningCertificateCriteria>/n MyCertName</SigningCertificateCriteria>
</PropertyGroup>
<ItemGroup>
  <SignableFiles Include="$(ProjectDir)obj\$(ConfigurationName)\$(TargetName)$(TargetExt)" />
</ItemGroup>
<GetFrameworkSdkPath>
  <Output TaskParameter="Path" PropertyName="SdkPath" />
</GetFrameworkSdkPath>
<Exec Command="&quot;$(SdkPath)bin\signtool&quot; sign $(SigningCertificateCriteria) /d &quot;$(ApplicationDescription)&quot; /t &quot;$(TimestampServerUrl)&quot; &quot;%(SignableFiles.Identity)&quot;" /> 
```

我不得不将 signtool.exe 文件移动到 SDK 文件夹（在我的情况下为 C:\Program Files (x86)\Microsoft SDKs\Windows\v8.0A\bin），但之后它就像一个魅力！

我希望这对将来的其他人有所帮助。*

# html - HTML表格单元格背景图像对齐

> ID：14251349
> 
> 赞同：4
> 
> 时间：2013-01-10T05:28:03.307
> 
> 标签：html, css

我需要将表格单元格的背景图像对齐为

> 垂直侧顶部 - 水平右侧

但它显示为，

> 垂直边居中；水平右侧

看看这个页面： http: [//www.chemfluence.org.in/monetarist/index_copy.php](http://www.chemfluence.org.in/monetarist/index_copy.php)

这是我的代码，

```
<td width="178" rowspan="3" valign="top" 
align="right" background="images/left.jpg" 
style="background-repeat:no-repeat;background-position:right;">
</td> 
```

如果我使用**背景位置：顶部；**它是水平居中对齐的，请让我知道应该更正哪个。

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2013-01-10T05:33:03.867

像这样使用你的内联 CSS

```
<td width="178" rowspan="3" valign="top" 
align="right" background="images/left.jpg" 
style="background-repeat:background-position: right top;">
</td> 
```

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2013-01-10T05:40:52.447

这适用于 IE9（兼容性视图和普通模式）、Firefox 17 和 Chrome 23：

```
<table>
    <tr>
        <td style="background-image:url(untitled.png); background-position:right 0px; background-repeat:no-repeat;">
            Hello World
        </td>
    </tr>
</table> 
```

# javascript - 如何在 Windows 8/IE10 中将 HTML/Javascript 中的图像或对象旋转 90°？

> ID：14251352
> 
> 赞同：1
> 
> 时间：2013-01-10T05:28:21.460
> 
> 标签：javascript, rotation

采用以下代码：

```
<html>
    <body onload="x=0" onkeydown="document.images[0].style.filter='progid:DXImageTransform.Microsoft.BasicImage(rotation='+(x=++x%4)+')'">
    <img src="DSCF0353.jpg" height=900>
</html> 
```

为什么在 Windows 7/IE9 中每次击键时显示的图像循环 90° 旋转，为什么在 Windows 8/IE10 中不会这样做（图像不旋转）？什么代码会在 Windows 8/IE10 中产生旋转（如果可能，与上面类似）？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-11T05:22:33.137

感谢我收到的三个回复。Sandeep 提到的 css3 **rotate**属性似乎是最直接的解决方案，我跟进它在这里发现了最直接的答案：[Rotating text with CSS3/HTML5](https://stackoverflow.com/questions/11026200/rotating-text-with-css3-html5) allowed me to directly comparison old and new methods，导致修改后的代码：

```
<html>
   <body onload="x=0" onkeydown="document.images[0].style.msTransform='rotate('+((x=++x%4)*90)+'deg)'">
   <img src="DSCF0353.jpg" height=900>
</html> 
```

这使我可以直接引用度数，而不是从基于 Pi 的弧度转换。90 度增量很方便，但新方法（就像其他建议一样）也允许其他角度，就像众所周知的帽子一样。

***行为的一个细微差别是，在 OLD 方法中，显示***的图像左上角的物理位置是恒定的。在 NEW 方法中，以 0 度旋转显示时图像的 CENTER 位置成为图像的旋转中心。

另一个不同的方面是，在此之前，可旋转性要求图像应用某种格式（在这种情况下，将高度设置为 900）；该要求不再适用。

附录：说到定位，这让我得到了这个有用的答案：[如何在 CSS 中应用多个转换？](https://stackoverflow.com/questions/10765755/multiple-css-transforms)关于结合旋转和重新定位（“翻译”）。将**rotate(r)**和**translate(x,y)**一个接一个地放在一行中，用**空格**分隔。请注意，操作是*按顺序*执行的：

> 如果先**平移**，则图像在其原始方向上移动指定的量（“px”表示像素），然后围绕其中心的新位置旋转；
> 
> 如果首先**旋转**，（如在引用的页面中）图像围绕其原始中心旋转，*然后*移动*旋转图像的相对（旋转）坐标系中指定的量。*

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-01-10T05:45:24.803

使用专门为此目的的[jQuery 旋转插件。](http://code.google.com/p/jqueryrotate/)

# c# - EventLogSession 无法正常工作

> ID：14251356
> 
> 赞同：0
> 
> 时间：2013-01-10T05:28:52.980
> 
> 标签：c#, .net, event-log

我正在使用 EventLogSession、EventLogQuery 和 EventLogReader 类来查询远程计算机，当我使用下面的代码时，它工作正常：

```
var session = new EventLogSession(machineName, 
                                  null, null, null, 
                                  SessionAuthentication.Default); 
```

但是在我完全按照我的本地机器指定域、用户名、密码之后，它就不起作用了，抛出

> “试图执行未经授权的操作”（UnauthorizedAccessException）异常。

我正在使用的代码是这样的：

```
var password = new SecureString();
passwordString.ToCharArray().ForEach(ch => password.AppendChar(ch));
var session = new EventLogSession(machineName, 
                                  "domain", "username", password, 
                                   SessionAuthentication.Default); 
```

MSDN 说，当域、用户名、密码都为空时，EventLogSession 将使用本地计算机的凭据。但是当我在代码中指定它们时，它不起作用，怎么回事？

顺便说一句，我正在使用 Windows Server 2008 R2 来测试代码。但我怀疑这是依赖于操作系统的事情。

**更新**：原来这是由于我的愚蠢造成的，因为我忘记了 LINQ 的懒惰，或者更确切地说是 C# 的 yield return。为方便起见，我将 ForEach 实现为以下扩展方法

```
public static IEnumerable<T> ForEach<T>(this IEnumerable<T> sequence, Action<T> action)
{
    foreach (var item in sequence)
    {
        action(item);
        yield return item;
    }
} 
```

这样，ForEach 将不会实际执行操作委托，直到它被 foreached。因此我永远不会在 char 序列上调用 foreach，它永远不会执行，因此根本没有初始化密码。

抱歉打扰你们，我将tammy的答案标记为已接受。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-10T05:49:43.750

[http://msdn.microsoft.com/en-us/library/bb671200(v=vs.90).aspx](http://msdn.microsoft.com/en-us/library/bb671200(v=vs.90).aspx)

```
public void QueryRemoteComputer()
    {
        string queryString = "*[System/Level=2]"; // XPATH Query
        SecureString pw = GetPassword();

        EventLogSession session = new EventLogSession(
            "RemoteComputerName",                               // Remote Computer
            "Domain",                                  // Domain
            "Username",                                // Username
            pw,
            SessionAuthentication.Default);

        pw.Dispose();

        // Query the Application log on the remote computer.
        EventLogQuery query = new EventLogQuery("Application", PathType.LogName, queryString);
        query.Session = session;

        try
        {
            EventLogReader logReader = new EventLogReader(query);

            // Display event info
            DisplayEventAndLogInformation(logReader);
        }
        catch (EventLogException e)
        {
            Console.WriteLine("Could not query the remote computer! " + e.Message);
            return;
        }
    } 
```

# javascript - document.querySelector.bind(document) 是什么意思；

> ID：14251357
> 
> 赞同：6
> 
> 时间：2013-01-10T05:28:58.700
> 
> 标签：javascript, bind, document, parallax.js

我正在检查来自 html5rocks 的代码：http: [//www.html5rocks.com/static/demos/parallax/demo-1a/scripts/parallax.js](http://www.html5rocks.com/static/demos/parallax/demo-1a/scripts/parallax.js)

并注意他们使用

```
(function(win, d) {

  var $ = d.querySelector.bind(d);

  ....

  var mainBG = $('section#content');

  ....

})(window, document); 
```

为什么他们将文档绑定到 querySelector。它不是已经在文档范围内吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-10T05:32:35.850

不，[该函数](https://developer.mozilla.org/en-US/docs/DOM/Document.querySelector)未绑定到特定文档（可能还有其他文档，而不仅仅是`window.document`）。不试一试，你会得到一个`WRONG_THIS_ERR`异常——你需要将它应用到实现[`Document`接口](http://www.w3.org/TR/selectors-api/#interface-definitions)的对象上。

还可以查看[MDN`this`](https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Operators/this)对如何`thisVal`确定函数调用的（“上下文”）[关键字的介绍。](https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Operators/this)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2020-08-27T19:05:43.253

对于未来的谷歌用户，作为旁注，也可以`document.querySelector.bind(document)`用来进行类似 jQuery 的选择：

```
var $$ = document.querySelector.bind(document);
console.log( $$('#answers').textContent ); 
```

```
var $$ = document.querySelector.bind(document);
console.log( 'Ye Olde StackSnippet body: ', $$('body').textContent );
```

# codeigniter - Codeigniter JOIN（选择查询

> ID：14251358
> 
> 赞同：11
> 
> 时间：2013-01-10T05:29:06.360
> 
> 标签：codeigniter

是否可以通过 CI Query Builder 类生成以下查询？

```
SELECT name 
       FROM table1 t1 
                   JOIN 
                     (SELECT ID FROM table2 ORDER BY id LIMIT 5) t2 
                   ON t2.id=t1.t2_id 
       WHERE t1.id>5 
```

* * *

## 回答 #1

> 赞同：21
> 
> 时间：2013-01-10T06:25:43.513

那么有几种方法可以做到这一点。一种方法是在这里，这是一种黑客攻击。

[如何将此 SQL 重写到 CodeIgniter 的活动记录中？](https://stackoverflow.com/questions/10502778/how-can-i-rewrite-this-sql-into-codeigniters-active-records/10546395#10546395)

这种另一种方式非常简单。

```
$this->db
        ->select('ID')
        ->from('table2')
        ->order_by('id')
        ->limit('5');   

$subquery = $this->db->_compile_select();

$this->db->_reset_select(); 

$query  =       $this->db
                    ->select('t1.name')
                    ->from('table1 t1 ')
                    ->join("($subquery)  t2","t2.id = t1.t2_id")
                    ->get('table1 t1'); 
```

关于它的一些观点。
您必须在子查询中使用 from 子句，因为 get 运行查询。
在 codeigniter 2 中，_compile_select 和 _reset_select 不能被访问，因为它们是受保护的方法。
您可能必须在 system/database/DB_active_rec.php 中的两种方法之前删除关键字

[这篇](http://heybigname.com/2009/09/18/using-code-igniters-active-record-class-to-create-subqueries/)文章也很有用。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2016-11-22T13:19:08.977

在 CI3 中，只需使用第四个参数进行转义

```
$this->db->from('table')
->join('SELECT id from table2 where something=%s) as T2'),'table.id=T2.id', 'LEFT',NULL)
->get()->row(); 
```

不要忘记在子查询中转义参数以避免 SQL 注入。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-10T07:04:44.713

这个库可以帮助你使用带有查询生成器的子查询查看这个库的文档

[带有查询生成器的子查询](https://github.com/NTICompass/CodeIgniter-Subqueries)

# foursquare - 是否可以在foursquare API中使用电话进行搜索

> ID：14251360
> 
> 赞同：0
> 
> 时间：2013-01-10T05:29:15.633
> 
> 标签：foursquare

我是fouresquare api的新手。我想构建两个应用程序来使用电话和纬度/经度搜索用户/业务详细信息。1\. 是否可以使用电话号码进行搜索？2\. 是否可以使用 lat/lon 进行搜索？

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-11T01:31:33.017

您可以使用[veunes/search](https://developer.foursquare.com/docs/venues/search) API 端点按 ll 搜索企业。无法通过电话号码进行搜索。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-06-20T19:43:57.300

您也许可以使用[http://www.factual.com/通过电话进行搜索](http://www.factual.com/)

# android - 无法连接 BTW eclipse 和 Android 模拟器

> ID：14251364
> 
> 赞同：0
> 
> 时间：2013-01-10T05:29:33.950
> 
> 标签：android, emulation

我已经为`windows-x86_64`from安装了 ADT-bundle `[www.developer.android.com][1]`，我能够创建一个 emulator 。我正在尝试通过模拟器运行我的“Hello world”程序，但在 eclipse 的控制台窗口中，它说的是以下错误

```
.
. 
013-01-09 21:21:08 - DeviceMonitor] Connection attempts: 557
[2013-01-09 21:21:09 - DeviceMonitor] Connection attempts: 558
.
. 
```

我不知道为什么会这样。你能帮帮我吗？谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-10T05:38:37.460

请尝试重新启动您的 Adb 连接，因为有时 adb 会断开连接。

单击**Windows -> 打开透视图**-> 选择**其他**-> 然后在其中打开一个新的弹出窗口，单击**DDMS-> 在窗口设备中（IDE 的左侧）**，您将在查看菜单中看到重新启动 adb 选项，除了屏幕截图选项。 **

请参阅我附在此处的屏幕截图

![在此处输入图像描述](../Images/4ab00d80efd45cca2dd58960111d086f.png)

# ruby-on-rails - Rails：设计的不完整路径

> ID：14251365
> 
> 赞同：1
> 
> 时间：2013-01-10T05:29:34.570
> 
> 标签：ruby-on-rails, ruby, devise

我有一个设计网站。我安装了 ActiveAdmin 并将其删除。
现在我的**完整**路径列表是

```
rake routes
    new_user_session GET    /users/sign_in(.:format)               {:action=>"new", :controller=>"devise/sessions"}
        user_session POST   /users/sign_in(.:format)               {:action=>"create", :controller=>"devise/sessions"}
destroy_user_session DELETE /users/sign_out(.:format)              {:action=>"destroy", :controller=>"devise/sessions"}
       user_password POST   /users/password(.:format)              {:action=>"create", :controller=>"devise/passwords"}
   new_user_password GET    /users/password/new(.:format)          {:action=>"new", :controller=>"devise/passwords"}
  edit_user_password GET    /users/password/edit(.:format)         {:action=>"edit", :controller=>"devise/passwords"}
                     PUT    /users/password(.:format)              {:action=>"update", :controller=>"devise/passwords"}
                root        /                                      {:controller=>"codes", :action=>"list"}
                            /:controller(/:action(/:id(.:format))) 
```

在[设计 wiki](https://github.com/plataformatec/devise/wiki/How-To%3a-Add-sign_in,-sign_out,-and-sign_up-links-to-your-layout-template)中没有类似`new_user_registration_path`or的路径。 我怎样才能恢复该链接？ `edit_user_registration_path`

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-10T05:36:00.710

您是否使用正确的选项配置了您的用户模型（或您正在使用的任何模型）。见[https://github.com/plataformatec/devise#configuring-models](https://github.com/plataformatec/devise#configuring-models)

你可能错过了：

```
devise :registerable 
```

# asp.net-mvc - 使用 MVC razor 从 DDL 向 DB 添加价值

> ID：14251373
> 
> 赞同：0
> 
> 时间：2013-01-10T05:30:19.093
> 
> 标签：asp.net-mvc, razor

我有一个`ASP.NET MVC Razor`项目，`DropDownList`其中有来自 的数据`Database`，我试图将所选值插入`DropDownList`到，`Database`但我不能。

```
 <div class="editor-label">
        @Html.LabelFor(model => model.Parent_ID)
    </div>
    <div class="editor-field create-Bt3">
   @Html.DropDownList("-Select Parent-", new SelectList(ViewBag.Parent, "Value", "Text"),"- Select Parent -")

    </div> 
```

```
 public ActionResult Create()
    {
        var data = db.Categories.ToList().Distinct();
        List<SelectListItem> items = new List<SelectListItem>();
        foreach (var t in data)
        {
            SelectListItem s = new SelectListItem();
            s.Text = t.Name;
            s.Value = t.Cat_ID.ToString();
            items.Add(s);
        }
        ViewBag.Parent = items;
        return View();
    }

    [HttpPost]
    public ActionResult Create(Category category, IEnumerable<HttpPostedFileBase> files)
    {

        if (Request.Files.Count > 0)
        {
            var uploadedFile = Request.Files[0];

            var fileSavePath = "";
            var fileName = "";

            fileName = Path.GetFileName(uploadedFile.FileName);
            fileSavePath = Server.MapPath("~/App_Data/Uploads/" + fileName);

            uploadedFile.SaveAs(fileSavePath);
            category.Path = "~/App_Data/Uploads/" + fileName;
        }

        category.Add_Date = DateTime.Now;
        category.Last_Update = DateTime.Now;

        db.Categories.Add(category);
        db.SaveChanges();

        return RedirectToAction("Index");
    } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-10T06:12:24.053

尝试`onchange`使用`DropDownList`.

```
@Html.DropDownList("-Select Parent-", new SelectList(ViewBag.Parent, "Value", "Text"),"- Select Parent -",new { @onchange="submitData(this);" } ) 
```

现在在您的 javascript 中，将该数据传递`$.ajax`给您的控制器。

```
<script type="text/javascript">
 function submitData(e){
   $.ajax({
                type: 'POST',
                dataType: 'json',
                url: '@Url.Action("Create", "Home")',
                data: ({ selectedValue: e.innerHTML }),
                success: function (result) {
                    alert('success');
                },
                error: function (result) {
                    alert('error');
                }
                return false;
   });
 }
</script> 
```

然后在您的控制器中添加一个参数。

```
[HttpPost]
public ActionResult Create(string selectedValue, Category category, IEnumerable<HttpPostedFileBase> files)
{
   //Do Database stuff to insert the selected value to DB
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-10T09:48:28.243

而是使用以下代码：

在您看来，绑定下拉列表如下：

```
@Html.DropDownListFor(model => model.User, new SelectList(Model.UserList, "Value", "Text"), new { @tabindex = "2" }) 
```

并像这样在模型中创建属性：

```
public string User{ get; set; }
public List<SelectListItem> UserList{ get; set; } 
```

并从数据库中获取数据以绑定您的下拉列表，如下所示：

```
public List<SelectListItem> GetUserTypeList()
{
        List<SelectListItem> listUsers = new List<SelectListItem>();
        using (DbCommand command = DataAccess.CreateCommandTypeSPWithOutputCursor())
        {
            command.CommandText = "GetUserList";
            command.CommandType = CommandType.StoredProcedure;               
            DataSet objDataSet = DataAccess.GetDataset(command);
            foreach (DataRow row in objDataSet.Tables[0].Rows)
            {
                SelectListItem user = new SelectListItem();
                user.Text = Convert.ToString(row["UserName"]).Trim();
                user.Value = Convert.ToString(row["UserID"]).Trim();
                listUsers.Add(user);
            }
        }
        return listUsers;
    } 
```

在控制器操作方法中，将 UserList 分配给 GetUserTypeList() 方法，最后不要忘记将整个 html 放入 form 方法中，如下所示：

```
@using(Html.BeginForm("ActionName", "ControllerName", FormMethod.Post)) {
...
} 
```

因此，这就是您可以将下拉选择的值发布到数据库的方式。

# mysql - 如何小写整个字符串在MYSQL中保持第一个大写

> ID：14251380
> 
> 赞同：3
> 
> 时间：2013-01-10T05:30:56.007
> 
> 标签：mysql, sql

我的表格栏 -

![在此处输入图像描述](../Images/5a65c554038c8b20d79069f29d840db9.png)

我的预期输出将在列中更改-

```
Smith, Allen, Doyle, Dennis, Baker, Waker 
```

这是我尝试过的，但没有用:( -

```
UPDATE TABLE `employee`
SET last_name = UCASE(LEFT(lower(last_name), 1))

UPDATE TABLE `employee`
SET last_name = ucase(lower(last_name),1) 
```

也关注了这个链接 -[资源](https://stackoverflow.com/questions/4263272/capitalize-first-letter-mysql)

错误 -

```
#1064 - You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'TABLE `employee` SET last_name = UCASE(LEFT(lower(last_name), 1))' at line 1 
```

让我知道我做错了什么以及如何解决。

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-01-10T05:35:27.997

`TABLE`是保留关键字。它应该用反引号转义。

我认为`TABLE`不应该在您的查询中，（*我认为这是一个错字*）

```
UPDATE employee
SET last_Name = CONCAT(UCASE(LEFT(last_Name, 1)), LCASE(SUBSTRING(last_Name, 2))) 
```

*   [SQLFiddle 演示](http://sqlfiddle.com/#!2/a7dc0/1)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-10T06:00:51.763

试试这个可能有用

```
update `employee` 
set name=concat(left(upper(last_name),1),right(lower(last_name),length(last_name)-1)); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-04-23T02:36:41.170

如果这里有人正在寻找如何在包含两者的名称列中将名字和姓氏大写，这里有一个可能有用的片段：

```
 SELECT
    CONCAT( 
     UCASE(LEFT(substring_index(name, ' ',1),1)), 
     LCASE(SUBSTRING(substring_index(name, ' ',1),2)),
    ' ',
     UCASE(LEFT(substring_index(name, ' ',-1),1)), 
     LCASE(SUBSTRING(substring_index(name, ' ',-1),2))
    ) as name
FROM table 
```

# ruby-on-rails - Rails 3：使用 Devise + Doorkeeper 进行身份验证

> ID：14251381
> 
> 赞同：0
> 
> 时间：2013-01-10T05:30:57.443
> 
> 标签：ruby-on-rails, ruby-on-rails-3, ruby-on-rails-3.1

在我的 Rails 3 应用程序中，我计划包含身份验证。我看到一些帖子说 Devise + Doorkeeper 是在 Rails 3 中实现身份验证的最佳解决方案。

在 Rails 应用程序中使用 Devise + Doorkeeper 有什么用。

提前致谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-10T05:34:12.583

除非您打算公开某种 API 并要求该 API 的 OAuth，否则您不需要门卫。Doorkeeper 用于 Oauth，它是一个轨道引擎，就像设计一样，但它们是完全不同的宝石。

# java - 获取 IndexOutofBoundsException，无法找出原因

> ID：14251383
> 
> 赞同：-1
> 
> 时间：2013-01-10T05:31:25.643
> 
> 标签：java

我的索引超出范围异常并且无法找出原因，请帮助我。我正在尝试遍历列表。列表大小为 2。我正在尝试创建动态表并打印列表。

```
 public void display(ArrayList list) {

            TableLayout tl = (TableLayout) findViewById(R.id.main_table);

            for(int i = 0;i<=list.size(); i++){

                EmployeeBean empList = (EmployeeBean) list.get(i);

                int count = 0;

                TableRow tr = new TableRow(this);
                tr.setId(100+count);
                tr.setLayoutParams(new LayoutParams(
                        LayoutParams.WRAP_CONTENT,
                        LayoutParams.WRAP_CONTENT));
                tr.setClickable(true);

                final TextView empName = new TextView(this);
                empName.setId(200+count);
                empName.setText(empList.getName());
                tr.addView(empName);

                final TextView empStream = new TextView(this);
                empStream.setId(200+count);
                empStream.setText(empList.getStream());
                tr.addView(empStream);

                final TextView empLevel = new TextView(this);
                empLevel.setId(200+count);
                empStream.setText(empList.getLevel());

                final TextView empDesignation = new TextView(this);
                empDesignation.setId(200+count);
                empDesignation.setText(empList.getDesignation());

                tl.addView(tr, new TableLayout.LayoutParams(
                        LayoutParams.WRAP_CONTENT,
                        LayoutParams.WRAP_CONTENT));
               count++;

               tr.setOnClickListener(new OnClickListener() {

                    public void onClick(View v) {

                        outpuText = new TextView(MainActivity.this);
                        outpuText.setText("Name: " + empName.getText() + "\n"
                                + "Stream: " + empStream.getText() + "\n" + "Level: "
                                + empLevel + "\n" + "Designation :" + empDesignation);
                        setContentView(outpuText);

                    }
                });

            } 
```

我收到的例外是

```
java.lang.IndexOutOfBoundsException: Invalid index 2, size is 2 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-10T05:32:18.817

```
for(int i = 0;i<=list.size(); i++) 
```

index 从零开始，[size()](http://docs.oracle.com/javase/6/docs/api/java/util/ArrayList.html#size%28%29)返回此列表中的元素数。如果你使用 <=，i 值将超过列表中的元素数量，结果`IndexOutofBoundsException`，

所以上面的代码应该是

```
for(int i = 0;i< list.size(); i++) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-10T05:32:34.647

在你的 for 循环中使用`list.size() - 1`而不是：`list.size()`

```
for(int i = 0;i<=(list.size() - 1); i++) 
```

或更改`<=`为`<`喜欢：

```
for(int i = 0;i<list.size(); i++) 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-10T05:33:03.843

```
for(int i = 0;i<=list.size(); i++) 
```

将其更改为

```
int size = list.size();
for(int i = 0;i<size; i++) 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-10T05:36:34.133

由于`i`从零开始，`size()`并将返回数组中对象的计数，因此您的`for`循环应修改为：

```
for(int i = 0; i < list.size(); i++) 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-01-10T05:37:03.210

索引从 0 开始，您正在测试列表大小是否“小于或等于”

这将在三次迭代（0,1,2）中返回 true

将您的“for”语句更改为

```
for(int i = 0; i<list.size(); i++){ 
```

应该修复它。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-01-10T05:48:39.623

```
public void display(ArrayList list) {

         TableLayout tl = (TableLayout) findViewById(R.id.main_table);

         for(int i = 0;i<=list.size(); i++){ 
```

它在这里显示您正在将变量初始化为 0，并且在您放置 <= 的条件下，将条件替换为 < 或将初始化替换为 1。它会正常工作，谢谢。

# android - Android 应用在编辑字符串资源后需要清理

> ID：14251384
> 
> 赞同：0
> 
> 时间：2013-01-10T05:31:26.190
> 
> 标签：android, build, resources

我在 Win 7 中使用 Eclipse 开发 Android 应用程序。
当我在 xml 文件中编辑字符串资源的值，然后按 F11 开始调试时，Eclipse 询问我是否要保存修改后的文件，然后运行旧应用程序无需重新编译资源。
如果我编辑资源和源 .java 文件，则重新编译 .java 文件，但忽略资源编辑。
我发现的唯一解决方法是清理和重建。
我尝试按照[此处](https://stackoverflow.com/questions/8071563/eclipse-android-wont-clean-wont-refresh-resources)的建议检查“访问时刷新”选项（未选中），但没有帮助。

# java - 使用swing在两个面板之间拖放？

> ID：14251390
> 
> 赞同：1
> 
> 时间：2013-01-10T05:32:11.400
> 
> 标签：java, swing, drag-and-drop, awt

我是 Swing 的新手。我需要使用 Swing 实现拖放。在当前框架中包含不同的面板，即中心面板和左侧面板有子面板，即控制面板、属性面板。我试图将标签/jbuttons/图像从控制面板拖放到中心面板中。这些面板用于 BorderLayout

![在此处输入图像描述](../Images/6e6776519803953f45815b1f8b9be0e0.png)

我尝试使用鼠标事件拖放。我将鼠标侦听器放在控制面板上。当我将标签/图像放入中心面板时，它会读取 -X & Y Cooridnates 并检查代码

```
private void mak_lis(final SLabel l) {
   l.addMouseListener(new MouseAdapter() {
    public void mousePressed(MouseEvent m) {
       System.out.println("mak_lis Mouse mousePressed");

    setCursor(yd);
    // l.setBorder(new MatteBorder(1,1,1,1,Color.black));

    }
    public void mouseReleased(MouseEvent m) {
       l.setBorder(null);
       setCursor(dc);
       System.out.println("mak_lis Mouse mouseReleased");
       int x = -(m.getX() + l.getX() - leftPanel.getX());
       int y = m.getY() + l.getY() + leftPanel.getY();
       System.out.println("mak_lis Mouse mouseReleased" + "x" + x+ "y" + y);
       if (y > 0 && x > 0 && y < leftPanel.getHeight() && x < leftPanel.getWidth()) {
        leftPanel.add(new_lab(l, x, y));
                leftPanel.repaint();
        Component[] components1 = leftPanel.getComponents();
        Component component = null;
        for (int i = 0; i < components1.length; i++) {
          // System.out.println("components iii"+ components1[i]);
        component = components1[i];

            }

    }
}

});
} 
```

请告诉我这里有没有遗漏。实现拖放功能的最佳方法是什么？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-10T06:20:17.703

这不是在 Java/Swing 中完成拖放的方式

SO上有很多例子......

*   [将自定义对象从 JList 拖放到 JLabel](https://stackoverflow.com/questions/13855184/drag-and-drop-custom-object-from-jlist-into-jlabel/13856193#13856193)
*   [Java - 如何拖放 JPanel 及其组件](https://stackoverflow.com/questions/11201734/java-how-to-drag-and-drop-jpanel-with-its-components/11443501#11443501)
*   [如何在java中从目录中拖放文件](https://stackoverflow.com/questions/13597233/how-to-drag-and-drop-files-from-a-directory-in-java/13597635#13597635)
*   [Java - 可视地拖动摆动元素](https://stackoverflow.com/questions/13387086/java-visually-drag-a-swing-element/13389619#13389619)

我还建议您查看[如何使用 Java 2 拖放](http://www.javaworld.com/jw-03-1999/jw-03-dragndrop.html)

# css - css3 :not() 选择器来测试父类

> ID：14251393
> 
> 赞同：53
> 
> 时间：2013-01-10T05:32:18.910
> 
> 标签：css, css-selectors

我有一个无序列表，使用引导程序“选项卡”插件。代码如下所示：

```
<ul>
  <li class="active span3"><a href="#ourAgency" data-toggle="tab"><i class="icon-building icon-3x"></i>Our Agency</a></li>
  <li class="span3"><a href="#studentVisas" data-toggle="tab"><i class="icon-laptop icon-3x"></i>Student Visas</a></li>
  <li class="span3"><a href="#workVisas" data-toggle="tab"><i class="icon-suitcase icon-3x"></i>Work Visas</a></li>
  <li class="span3"><a href="#accreditation" data-toggle="tab"><i class="icon-legal icon-3x"></i>Accreditation</a></li>
</ul> 
```

我想使用 CSS3 来更改`<a>`其父`<li>`级没有 class的所有链接的颜色`.active`。

我试过这样的事情：

```
 a:not(li.active>a){
    color:grey;
} 
```

但无济于事。有什么办法可以做到这一点，还是我叫错了树？

* * *

## 回答 #1

> 赞同：67
> 
> 时间：2013-01-10T05:59:51.847

CSS中不允许使用`>`,和后代空间等组合符；它们只允许作为 jQuery 选择器。[您可以在其他问题](https://stackoverflow.com/questions/10711730/whats-the-difference-in-the-not-selector-between-jquery-and-css)中找到更多信息。`+``:not()`

也就是说，您可以单独使用`:not()`，`li`然后将零件移出`> a`；但这将取决于您的`ul`和`li`元素的结构：

```
li:not(.active) > a {
    color: grey;
} 
```

例如，您始终可以链接其他选择器，例如，`.span3`如果您想将其限制为仅具有该类父级的`a`元素：`li`

```
li.span3:not(.active) > a {
    color: grey;
} 
```

但是请记住，`:not()`如果您可以控制标记或结构至少是可预测的（例如，您知道父母是什么类型的元素），您只能依靠这种方式使用。例如，在您的情况下，您仅在没有活动类时才查看`li.span3 > a`和应用样式。`li.span3`有了这些信息，您可以构建一个类似上述之一的选择器，它*应该*可以按预期工作。

# android - USB 调试选项灰显

> ID：14251398
> 
> 赞同：149
> 
> 时间：2013-01-10T05:32:48.873
> 
> 标签：android, usb, adb

我有一部运行 Android 2.3.6 的 LG-E405 手机。

我用 USB 数据线连接我的手机并选择模式为`Charge Only`.

现在当我尝试打开时`USB Debugging`，我发现该选项是灰色的。

那么，在这种情况下如何启用 USB 调试。

* * *

## 回答 #1

> 赞同：365
> 
> 时间：2013-01-10T05:46:42.887

在将设备插入计算机之前，您必须启用 USB 调试。拔下设备，然后尝试启用 USB 调试。这应该有效。如果是这样，您可以将其重新插入计算机，它应该可以工作

* * *

## 回答 #2

> 赞同：38
> 
> 时间：2013-01-10T10:13:10.170

[在这篇文章](http://androidforums.com/lg-optimus-l3/546049-cant-enable-usb-debugging-permanently-grey.html)的帮助下，终于找到了解决问题的方法。

使用 USB 数据线将手机连接到 PC 时，将模式选择为`PC Software`。

现在您应该能够启用 USB 调试。

* * *

## 回答 #3

> 赞同：17
> 
> 时间：2014-06-15T16:11:04.480

如何为 LG Optimus (LGD415) 启用 USB 调试。Android 版本 4.4.2 (KitKat)
访问此网站并将驱动程序下载到您的手机：
[http](http://www.lg.com/us/support/mobile-support)
://www.lg.com/us/support/mobile-support 例如，我的将是：
[http://www。 lg.com/us/support-mobile/lg-LGD415RD](http://www.lg.com/us/support-mobile/lg-LGD415RD)。然后点击“软件更新和驱动程序”

在您的手机上，您需要启用 USB 调试。为此，请
转到“设置”。
转到“关于手机”<br> 转到“软件信息”<br> 点击“版本号”五次。
将出现一个弹出窗口，上面写着“您现在是开发人员”。你还没有完成。

按下主页按钮返回手机主页。
前往设置”。
转到“开发人员选项”<br> 单击“USB 调试-连接 USB 时打开调试模式”。将出现一个蓝色复选标记。

（编辑：如果 USB 调试显示为灰色，请拔下手机。USB 调试不应再显示为灰色。如果未显示为灰色，请选中该框并将手机插入 PC。）

从 PC 上拔下手机。然后将其重新插入。在弹出窗口中，确保将其设置为“媒体同步 (MTP)”。

现在，当您想在 Eclipse 中运行您的应用程序时，您的手机将显示一个选项。

（在手机上寻找对话框并同意允许调试与您的计算机连接。）

（另外，转到控制面板 | 设备管理器并确保您的手机有两个条目，类似于下面展开的条目。）

[![在此处输入图像描述](../Images/bb8eb09659d1a41d3518d6fcfb0de1c7.png)](https://i.stack.imgur.com/iGiGc.png)

* * *

## 回答 #4

> 赞同：15
> 
> 时间：2014-01-29T19:45:17.300

从 PC 上拔下手机并转到开发选项，现在您可以在此处启用 USB 调试。如果您连接 USB 并尝试启用调试，它将无法启用并遵循 TMacGyver 是正确的，它适用于我使用选择 PC 连接。

* * *

## 回答 #5

> 赞同：14
> 
> 时间：2017-10-03T10:00:27.860

这对我有用：

1.  将 USB 连接更改为文件传输
2.  关闭开发者选项
3.  重新开启
4.  USB 调试选项重新焕发生机

* * *

## 回答 #6

> 赞同：5
> 
> 时间：2014-01-28T02:57:29.223

从计算机上拔下手机，然后选择 PC 软件作为 PC 连接类型。然后进入开发者选项，选择USB调试

* * *

## 回答 #7

> 赞同：4
> 
> 时间：2017-01-10T21:40:17.870

刚刚在 LG Rebel LTE (LGL44VL) 上遇到了这个问题。正如其他答案所指出的，您需要将 USB 连接模式更改为 PTP。但是我手机的控制面板与普通的 Android 不同，没有这样的选项。

该选项隐藏在我插入手机时出现的通知中。我必须打开通知托盘并点击标记为的通知

> 媒体设备 (MTP)
> *点击此处了解更多 USB 选项*

* * *

## 回答 #8

> 赞同：2
> 
> 时间：2014-07-25T06:19:35.483

尝试选择默认模式作为 Internet 连接。

转到**设置 -> 连接 -> 默认模式 -> 互联网连接。**

**现在在Applications -> Development -> USB Debugging**下启用 USB Debugging 模式。

 **它对我有用。

* * *

## 回答 #9

> 赞同：2
> 
> 时间：2016-10-19T15:19:25.110

经过无数次尝试，我找到了以下引用：

> 如果您使用的是 My **KNOX**，则在安装容器时**无法启用 USB 调试模式。**不幸的是，您必须根植您的设备... -[继续阅读](http://www.syncios.com/android/fix-usb-debugging-grey-out.html#part3)

**此外**，请确保：

*   您的 USB 电缆可以正常工作
*   您的连接类型是 MTP（或 PTP 在某些情况下）
*   在通过 USB 电缆插入设备之前启用 USB 调试

我切换到另一个没有 KNOX 的设备（也没有植根）以节省时间。也许这句话会节省一些时间。在这种情况下，这是对我的唯一解释。

干杯!

* * *

## 回答 #10

> 赞同：1
> 
> 时间：2013-12-24T19:40:04.900

仅供参考，我的摩托罗拉 Xyboard 在开发人员选项顶部有一个“关闭”图标。一旦我点击它就可以了。

* * *

## 回答 #11

> 赞同：1
> 
> 时间：2017-05-14T16:03:42.967

我有一种感觉，如果您有公司电话，您的公司 IT 也可能会阻止 USB 调试。我已经尝试了所有不同的连接模式，USB 调试选项仍然是灰色的。

我正在尝试为 GSam Monitor Pro 启用 BATTERY_STATS，但我认为它是通过我公司让我使用的 Airwatch MDM 软件禁用的。他们为此付出了代价，所以我想我被困住了。

* * *

## 回答 #12

> 赞同：1
> 
> 时间：2017-05-08T06:30:01.960

我有一部 LG Android 手机，即使尝试了以下操作，也无法让 USB 与 Windows 一起工作：

1.  设置 > 关于手机 > 软件信息
2.  点击“内部版本号”7 次，然后激活开发者模式
3.  设置 > 开发人员选项 > USB 调试 [开]
4.  设置 > 开发人员选项 > 选择 USB 配置 > MTP
5.  使用 USB 电缆插入 Windows PC。

它确实将手机显示为通过 USB 充电（因此插头必须没问题），但它没有显示在 Windows 文件资源管理器中的“此 PC”下作为设备/驱动器.. grrr。

事实证明，并非所有的 USB 电缆都是相同的——一些 USB 电缆制造商只用 2 线而不是 4 线制造他们的电缆，这样他们就可以充电，但不能通过电缆传递数据——所以如果软件解决方案似乎不起作用，尝试更换 USB 电缆 (!)。

我在这里写这篇文章，这样也许其他人不必浪费半个小时来弄清楚某些 USB 电缆制造商没有在他们的 USB 电缆中包含所有 4 根电线...... grrr。

* * *

## 回答 #13

> 赞同：1
> 
> 时间：2016-09-28T08:10:40.970

将手机连接到 PC，确保您的开发人员选项已启用。然后，连接类型必须是 MTP 或文件传输。Charge only 不允许 USB 调试（禁用该选项）。

* * *

## 回答 #14

> 赞同：0
> 
> 时间：2019-06-10T18:58:26.897

刚刚在 Windows 计算机上的当前 LG 手机上遇到了这个问题。开发人员选项中的所有内容均已正确启用，但无法通过 ABD 查看设备。需要安装我可以通过手机完成的驱动程序。

通过 USB 连接并允许连接后，我点击了 USB 连接类型通知，然后在您选择 USB 连接类型（MTP、PTP 等）的屏幕上点击了右上角的三个点图标屏幕并选择安装 PC 驱动程序。在我的 PC 上安装驱动程序后，我能够通过 ABD 连接进行调试。

* * *

## 回答 #15

> 赞同：0
> 
> 时间：2016-11-25T06:31:40.090

要启用 USB 调试，您必须启用开发人员选项

1.  然后转到关于设备或平板电脑
2.  单击内部版本号 7 次以启用开发人员选项
3.  现在转到开发人员选项向下滚动，直到看到 USB 调试选项

现在，如果您已经对 USB 调试进行了遮蔽并且它没有打开

1.  点击右上角的搜索按钮
2.  搜索 USB
3.  点击 USB 电脑连接
4.  检查 MTP

现在你可以享受你的分享...

![在此处输入图像描述](../Images/9f58977d31f1576b60db7a838472a2a3.png)**

# jquery - 如何在 li 中命名并显示图像？

> ID：14251404
> 
> 赞同：0
> 
> 时间：2013-01-10T05:33:38.977
> 
> 标签：jquery, html, css

我看过一些我们给 li 的网站，并显示了图像：

前任。`<li>skype</li>`

只要给这个Skype图标就会出现。这真是太神奇了。这怎么可能？我进入 Firebug 并没有`background`在 CSS 中找到任何内容。

任何人都可以告诉建议这将服务于什么目的以及为什么有人会使用它？

**编辑：**例如，请参阅此网站：

[http://www.burakson.com/](http://www.burakson.com/)

并查看此 HTML：`<a class="s1 btip" target="_blank" href="http://www.facebook.com/boureaque">Facebook</a>`

该 HTML 将如何显示 Facebook 图标？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-10T05:47:00.550

您稍后在问题中指定的网站没有使用`:before`或网络字体的东西，它只是简单的 css：

```
.head-social ul li a {
    background: transparent url('../images/socials.png') no-repeat top left;
    height: 28px;
    width: 28px;
    display: block;
    text-indent: -9999px;
    outline: 0;
} 
```

`background`线条设置图标图像，线条`text-indent: -9999px;`使里面的文本不可见。

对于每个图标，都有这样的样式：

```
.head-social ul li a.s1 {
    background-position: 0 0;
}

.head-social ul li a.s2 {
    background-position: -30px 0;
} 
```

覆盖`background-position`每个图标元素。

进一步阅读：

1.  [https://developer.mozilla.org/en-US/docs/CSS/text-indent](https://developer.mozilla.org/en-US/docs/CSS/text-indent)
2.  [https://www.google.com/search?q=CSS+sprite](https://www.google.com/search?q=CSS+sprite)

# ruby-on-rails - 为什么安装 Heroku Toolbelt 会杀死我的 Rails 开发环境

> ID：14251414
> 
> 赞同：2
> 
> 时间：2013-01-10T05:34:25.753
> 
> 标签：ruby-on-rails, heroku

我最近迁移到了新的 Mac。我在使用 PostgreSQL 时遇到了一些问题，但除此之外我认为它进展顺利，并且我能够使用我的 Rails 应用程序的本地开发环境。

然后我在新的 Mac 上安装了 Heroku Toolbelt。现在我收到以下错误...

```
$ rspec
/Users/steven/.rvm/gems/ruby-1.9.3-p362/gems/better_errors-0.3.2/lib/better_errors/core_ext/exception.rb:9: [BUG] Segmentation fault
ruby 1.9.3p362 (2012-12-25 revision 38607) [x86_64-darwin12.2.1] 
```

[[在这个要点](https://gist.github.com/4499700)中查看更多...]

为什么？这是什么意思？我该如何解决？

谢谢！（Heroku Toolbelt 在我的旧 Mac 上与这个应用程序配合得很好。）

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-10T05:43:01.077

不知道原因，但解决方案是：

```
sudo rm -rf /usr/local/heroku 
sudo rm -rf /usr/bin/heroku
gem uninstall heroku
gem install heroku 
```

然后重新安装[Heroku Toolbelt](http://toolbelt.heroku.com)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-16T22:46:31.747

确保 better_errors 和 binding_of_caller gem 在您的 Gemfile 中的开发组（不是测试）中。

# iphone - UITableView 类似于 gridView

> ID：14251416
> 
> 赞同：1
> 
> 时间：2013-01-10T05:34:32.283
> 
> 标签：iphone, ios, objective-c, uitableview, uicollectionview

我有一个 NSMutableArray，我在其中存储从服务 url 获取的项目并完成解析。我在 UITableView 中显示数组项目，其行为类似于 gridview（每行 4 列，行数取决于数组计数）。这有点像显示一周内所有可用的在线考试时段。所以我必须一个一个地加载每天的时间，如果所有的插槽都是为特定的一天保留的，那么应该显示当天的消息（没有可用的插槽），然后加载下一个tableView 中的数组项。但我只能获得最后一天的可用时段。

我必须采用以下格式：

```
10/1/2013

10:00 AM    11:00 AM   12:00 PM   1:00 PM
2:00 PM

11/1/2013

11:00 AM     12:00 PM   1:00 PM    2:00 PM 

12/1/2013

   No slot available

13/1/2013

10:00 AM    11:00 AM   12:00 PM   1:00 PM
2:00 PM     3:00 PM

............ 
```

截至目前，我正在使用相同的表格视图并分别加载特定日期的每个数组项。但我只能获得最后一天的时间

我怎样才能获得这种特定格式？

任何关于使用哪个控件或如何使用同一个 tableView 的建议/建议都是显而易见的。

编辑：

```
-(void)LoadWeekSlots
{

    for(int i=0;i<7;i++)
    {

      NSCalendar *gregorian = [[NSCalendar alloc] initWithCalendarIdentifier:NSGregorianCalendar];

        NSDateComponents *offsetComponents = [[NSDateComponents alloc] init];
        [offsetComponents setDay:i];
        NSDate *nextDate = [gregorian dateByAddingComponents:offsetComponents toDate: [NSDate date] options:0];
        [offsetComponents release];
        [gregorian release];
        NSLog(@"%@",nextDate);

        NSDateFormatter *df=[[[NSDateFormatter alloc]init] autorelease];
        df.dateFormat = @"yyyy-MM-dd";
        getdateinmmformat=[[NSString stringWithFormat:@"%@",[df stringFromDate:nextDate]] componentsSeparatedByString:@""];
        NSLog(@"%@",getdateinmmformat);
        result=[[getdateinmmformat valueForKey:@"description"] componentsJoinedByString:@""];
        weekdayString=[nextDate descriptionWithCalendarFormat:@"%A" timeZone:nil locale:[[NSUserDefaults standardUserDefaults]dictionaryRepresentation]];
        NSLog(@"Day :%@",weekdayString);
        selectedtableView=i;
        [self LoadSlots];
        NSLog(@"%@",arr1);
   }
}

-(void)LoadSlots{

// calling the service url and taking the values in NSMutableArray (arr1)
     [self CheckArray];

}

-(void)CheckArray{

    NSMutableArray *yourArray = [[NSMutableArray alloc] init];

    for (NSDictionary *dict in arr3) {

        NSString *str=[dict valueForKey:@"Code"];

        NSString*newstr=  [str stringByReplacingOccurrencesOfString:@"," withString:@""];

        [yourArray addObject:newstr];

    }

    BOOL isTheObjectThere = [yourArray containsObject:weekdayString];

    if([arr1 count]==0 && isTheObjectThere==YES)
    {

        displayError  =[[UILabel alloc]init];
        [displayError setFrame:CGRectMake(0,390,320,200)];
        displayError.textAlignment=UITextAlignmentLeft;
        displayError.backgroundColor=[UIColor clearColor];
        NSString *string1=@" No slot available.";
       displayError.text=[NSString stringWithFormat:@"%@ ",string1];
       displayError.textColor=[UIColor redColor];
        displayError.shadowColor=[UIColor blackColor];
        displayError.font=[UIFont fontWithName:@"Verdana-Italic" size:14];
        [testscroll addSubview:displayError];
       float fscrview =displayError.frame.origin.y + displayError.frame.size.height+ 60;
        testscroll.contentSize=CGSizeMake(320, fscrview);

    }

    else
    {
      sections=[[NSMutableArray alloc] init];
        for(int s=0;s<1;s++)
          {
            NSMutableArray *section=[[NSMutableArray alloc] init];
             for(int i=0;i<[arr1 count];i++)
                {
                    Item *item=[[Item alloc] init];
                    NSString *eventName=[[arr1 objectAtIndex:i]objectForKey:@"TimeStart"];

                    item.TimeStart=eventName;
                    [section addObject:item];

                }
                [sections addObject:section];

            }

            self.tableView=[[UITableView alloc]initWithFrame:CGRectMake(0,390,320,[arr1 count]*40) style:UITableViewStylePlain];
            self.tableView.delegate = self;
            self.tableView.dataSource = self;
            self.tableView.scrollEnabled=NO;
            [testscroll addSubview:self.tableView];
            [self.tableView reloadData];
             self.tableView.frame = CGRectMake(self.tableView.frame.origin.x, self.tableView.frame.origin.y, self.tableView.frame.size.width, self.tableView.contentSize.height);
            float fscrview = self.tableView.frame.origin.y + self.tableView.frame.size.height + 10;
            testscroll.contentSize=CGSizeMake(320, fscrview);
            testscroll.scrollEnabled=YES;
            }

        }

-(NSInteger)tableView:(UITableView *)tableView numberOfRowsInSection:(NSInteger)section
{
    return 1;
}
-(CGFloat)tableView:(UITableView *)tableView heightForRowAtIndexPath:(NSIndexPath *)indexPath
{
    NSMutableArray *sectionItems=[sections objectAtIndex:indexPath.section];
    int numRows=[sectionItems count]/4;
    if(numRows==0)
    {
        return 80;
    }

    else
    {

        NSArray* items = [sections objectAtIndex:indexPath.section];
        int total = [items count];
        float f = (float)total /4;
        int numberOfGridRows = ceilf(f);
        NSLog(@"\n\n Rows :>> %d",numberOfGridRows);
        if(numberOfGridRows==1)
        {
            return numberOfGridRows * 100.0;

        }

        else if(numberOfGridRows==2)
        {
            return numberOfGridRows * 70.0;

        }
        else if(numberOfGridRows==3)
        {
            return numberOfGridRows * 60.0;

        }
        else if(numberOfGridRows==4)
        {

            return numberOfGridRows * 70.0;

        }
        if(numberOfGridRows>4 && numberOfGridRows<8)
        {
             return numberOfGridRows * 65.0;

        }
        else
        {
          return numberOfGridRows * 40.0 ;
        }

    }
}
-(UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath
{
    static NSString *hlCellID=@"hlCellID";

    UITableViewCell* hlcell=[tableView dequeueReusableCellWithIdentifier:hlCellID];

    if(hlcell == nil)
    {
        hlcell = [[[UITableViewCell alloc]initWithStyle:UITableViewCellStyleDefault    reuseIdentifier:hlCellID]autorelease];

        hlcell.accessoryType = UITableViewCellAccessoryNone;
        hlcell.selectionStyle = UITableViewCellSelectionStyleNone;    
    }
    int section=indexPath.section;
    NSMutableArray *sectionItems=[sections objectAtIndex:section];
    int n=[sectionItems count];
    int i=0,i1=0;
    while(i<n)
    {
        int yy= 4+i1*34;
        int j=0;
        for(j=0;j<4;j++)
        {
            if(i>=n)break;
           Item *item=[sectionItems objectAtIndex:i];
            CGRect rect=CGRectMake(0+70*j,yy,79,40);
            UIButton *button=[[UIButton alloc] initWithFrame:rect];
            [button setFrame:rect];
            [button setContentMode:UIViewContentModeLeft];
            button.titleLabel.font = [UIFont systemFontOfSize:14];
            NSString *settitle=[NSString stringWithFormat:@"%@",item.TimeStart];
            [button setTitle:settitle forState:UIControlStateNormal];
            NSString *tagValue=[NSString stringWithFormat:@"%d%d",indexPath.section+1,i];
            button.tag=[tagValue intValue];
            [button setTitleColor:[UIColor blackColor] forState:UIControlStateNormal];
            [button setShowsTouchWhenHighlighted:YES];     
            [button addTarget:self action:@selector(buttonPressed:) forControlEvents:UIControlEventTouchUpInside];
           [hlcell.contentView addSubview:button];
            [button release];
            i++;

        }
        i1=i1+1;
    }
    return hlcell;

}

- (NSInteger)numberOfSectionsInTableView:(UITableView *)tableView
{
    return [sections count];
} 
```

这是我所做的代码。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-10T05:43:30.080

尝试我的以下代码中的一些代码...删除一些对您无用的其他代码..

我有这种类型的要求，我用我的波纹管代码和逻辑完成了它......还看到我认为你想要类似的图像......

```
- (NSInteger)numberOfSectionsInTableView:(UITableView *)tableView
{
    return [_grids count];
}

- (NSInteger)tableView:(UITableView *)tableView numberOfRowsInSection:(NSInteger)section
{
    return 1;
}

- (CGFloat)tableView:(UITableView *)tableView heightForRowAtIndexPath:(NSIndexPath *)indexPath
{ 
    NSArray* items = [_grids objectAtIndex:indexPath.section];

    //number of rows in one grid if one row will have 4 items
    //    float totalRow = ceilf(items.count/4);
    int total = [items count];

    float f = (float)total /4;
    int numberOfGridRows = ceilf(f);
    NSLog(@"\n\n Rows :>> %d",numberOfGridRows);
    //height of table row
    return numberOfGridRows * 36.0 + 120;
}

- (NSString *)tableView:(UITableView *)tableView titleForHeaderInSection:(NSInteger)section
{
    return [NSString stringWithFormat:@"Grid %d", section];
}

- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath
{    
    static NSString* cellIdentifier = @"gridCell";

    UITableViewCell *gridCell = [tableView dequeueReusableCellWithIdentifier:nil];

    if(gridCell == nil)        
    {
        gridCell =  [[[UITableViewCell alloc] initWithStyle:UITableViewCellStyleDefault reuseIdentifier:cellIdentifier] autorelease];

        gridCell.accessoryType = UITableViewCellAccessoryNone;

        gridCell.selectionStyle = UITableViewCellSelectionStyleNone;

    }
//    UIImageView *img = [[UIImageView alloc]initWithImage:[UIImage imageNamed:@"lion.jpg"]];
//    [img setFrame:CGRectMake(0, 0, 320, 120)];
//    [gridCell.contentView addSubview:img];

    UIImageView *imgUser = [[UIImageView alloc]initWithImage:[UIImage imageNamed:@"noImage.png"]];
    [imgUser setFrame:CGRectMake(5, 5, 100, 115)];
    [gridCell.contentView addSubview:imgUser];

    UILabel *lbl = [[UILabel alloc]init];
    lbl.text = @"Dr. P.R. Joshi";
    lbl.font = [UIFont fontWithName:@"Helvetica-Bold" size:15];
    [lbl setFrame:CGRectMake(110, 5, 200, 31)];    
    [gridCell.contentView addSubview:lbl];

    UILabel *lblAddress = [[UILabel alloc]init];
    [lblAddress setFrame:CGRectMake(110, 31, 200, 31)];        
    lblAddress.text = @"706,Atlanta Tower,Gulbai Tekra,Ahemdabad-007.";
    lblAddress.lineBreakMode = UILineBreakModeWordWrap;
    lblAddress.numberOfLines = 0;
    lblAddress.font = [UIFont fontWithName:@"Helvetica" size:12];
//    CGSize sizeToMakeLabel = [lblAddress.text sizeWithFont:lblAddress.font]; 
    lblAddress.frame = CGRectMake(lblAddress.frame.origin.x, lblAddress.frame.origin.y, 
                             200,[self calculateHeightOfTextFromWidth:lblAddress.text :lblAddress.font :200 :UILineBreakModeWordWrap] ); 

    lblAddress.textColor = [UIColor darkGrayColor];

    [gridCell.contentView addSubview:lblAddress];

    DYRateView *rateView = [[[DYRateView alloc] initWithFrame:CGRectMake(110, lblAddress.frame.origin.y + lblAddress.frame.size.height + 5, 160, 14)] autorelease];
    rateView.rate = 4.5;
    rateView.alignment = RateViewAlignmentLeft;
    [gridCell.contentView addSubview:rateView];

    UIImageView *imgArrow = [[UIImageView alloc]initWithImage:[UIImage imageNamed:@"left-arrow-right-md.png"]];
    [imgArrow setFrame:CGRectMake(300, 57, 12, 18)];
    [gridCell.contentView addSubview:imgArrow];

    NSArray* items = [_grids  objectAtIndex:indexPath.section];

    int imageIndex = 0;

    int yOffset = 4;

    while (imageIndex < items.count)        
    {
        int yPos =  7 + yOffset * 30;

        for(int i = 0; i < 4; ++i)
        {
            CGRect  rect = CGRectMake((0 + i * 80), yPos, 80, 31);

            if (imageIndex < [items  count]) {

                UIImageView* imageView = [self gridImageRect:rect forImage:[items objectAtIndex:imageIndex]];

                [gridCell.contentView addSubview:imageView];
                [imageView release];

                UIButton *button = [UIButton buttonWithType:UIButtonTypeCustom];
                button.frame = rect;
                button.tag = imageIndex;
                [button addTarget:self 
                           action:@selector(btnTemp_Clicked:)
                 forControlEvents:UIControlEventTouchDown];

                [button setTitle:[NSString stringWithFormat:@"Title %d%d%d",indexPath.section,indexPath.row,imageIndex] forState:UIControlStateNormal];
                [button.titleLabel setFont:[UIFont fontWithName:@"Helvetica-Bold" size:12]];

//                [button.titleLabel setTextColor:[UIColor blueColor]];
                [button setTitleColor:[UIColor colorWithPatternImage:[UIImage imageNamed:@"circle03.jpg"]] forState:UIControlStateNormal ];                
                [button setTitleColor:[UIColor redColor] forState:UIControlStateHighlighted ];

                [button setNeedsDisplay];

                [gridCell.contentView addSubview:button];

                //            rect = CGRectMake(((80 * i)-4), (yPos+44), 80, 12);
                //            
                //            
                //            
                //            UILabel* label = [self descriptionOfImage:imageIndex inRect:rect];
                //            
                //            [gridCell.contentView addSubview:label];
                //            
                //            [label release];
            }
            ++imageIndex;
        }
        ++yOffset;
    }
    return gridCell;
}

-(float) calculateHeightOfTextFromWidth:(NSString*) text: (UIFont*)withFont: (float)width :(UILineBreakMode)lineBreakMode
{
    [text retain];
    [withFont retain];
    CGSize suggestedSize = [text sizeWithFont:withFont constrainedToSize:CGSizeMake(width, FLT_MAX) lineBreakMode:lineBreakMode];

    [text release];
    [withFont release];

    return suggestedSize.height;
}

-(IBAction)btnTemp_Clicked:(id)sender{
    UIButton *btn = (UIButton *)sender;
    NSLog(@"Selected Image : %d  Button Title is ==>> %@",btn.tag,btn.titleLabel.text);
}

-(UIImageView *)gridImageRect:(CGRect)rect  forImage:(UIImage *)image
{
    UIImageView* imageView = [[UIImageView alloc] initWithFrame:rect];
    imageView.image = image;

    return imageView;
}

-(UILabel *)descriptionOfImage:(int)imageNumber inRect:(CGRect)rect
{
    UILabel *label = [[UILabel alloc] initWithFrame:rect];

    label.text = [NSString stringWithFormat:@"Image  %d", imageNumber + 1];

    label.textColor = [UIColor blackColor];

    label.backgroundColor = [UIColor clearColor];

    label.textAlignment = UITextAlignmentCenter;

    label.font = [UIFont fontWithName:@"ArialMT" size:12];

    return label;
} 
```

查看此代码输出的屏幕截图...

![在此处输入图像描述](../Images/915442e8c58681a96d4ec08717df847b.png) ![在此处输入图像描述](../Images/a7f1674462d903b8fe7f1d6cc64b3f35.png)

另请参阅这些波纹管**链接**以获取`UIGridView`演示和教程。

1.  [UIGridView](https://github.com/tanin47/UIGridView)

2.  [GMGridView](https://github.com/gmoledina/GMGridView#readme)

    我希望这对你有帮助......

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-10T05:42:39.947

首先，您最好使用[UICollectionView](http://www.raywenderlich.com/22324/beginning-uicollectionview-in-ios-6-part-12)来表示 Grids 而不是`UITableView`. 它更干净。

接下来，在您的特定情况下，由于您尝试在 1 行中显示 4 个网格，因此您需要在委托中使用模`%`运算符。还将uitableview委托中的项目数调整为（totalitems）/ 4。我敢打赌，还有一些我忘了提及的事情。`cellForRow``UItableView`

我强烈建议您花时间迁移到`UICollectionView`更清洁的环境...

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-10T06:44:02.947

我认为这个[http://www.cocoacontrols.com/platforms/ios/controls/nrgridview--2](http://www.cocoacontrols.com/platforms/ios/controls/nrgridview--2)会帮助你

问候萨德

# javascript - 如何在 IE、Firefox 和 Chrome 中使用谷歌网页字体

> ID：14251417
> 
> 赞同：0
> 
> 时间：2013-01-10T05:34:36.217
> 
> 标签：javascript, jquery, google-font-api

我正在尝试在我的网络应用程序中使用谷歌字体。我加载谷歌字体的电话是：

```
$.get("https://www.googleapis.com/webfonts/v1/webfonts?key=xxxxxxx", function (result) {                                             
        var data = {};
        console.log(result);
        console.log($.parseJSON(result));
        data.items = $.parseJSON(result).items;
}); 
```

上面的调用在我的 3 个目标浏览器中给出了以下结果：

**火狐**

```
console.log(result);               ========> JSON string
console.log($.parseJSON(result));  ========> Successfully parsed the json string
data.items = $.parseJSON(result).items; ===> contains all google fonts 
```

**即**(9)

```
$.get callback is not executing. 
```

**铬合金**

```
console.log(result);               ========> Object
console.log($.parseJSON(result));  ========> null 
```

谁能告诉我在上述所有 3 个浏览器上使用谷歌字体的通用方法？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-10T06:36:21.780

我发现了一个适用于 Firefox、IE 和 chrome 的通用调用：

```
$.ajax({
    url: "https://www.googleapis.com/webfonts/v1/webfonts?key=xxxxx",
    type: 'GET',
    dataType: 'JSONP',
    success: function (data) {   
      // data.items contains all google font-families name
    }
}); 
```

愿这对其他人有所帮助！

# sql - SQL Like 中的数据不明确

> ID：14251421
> 
> 赞同：-1
> 
> 时间：2013-01-10T05:34:58.260
> 
> 标签：sql, sql-server, sql-like

我有一个表，包含一个名为***Component***的字段。数据是 -

```
date             component
----------------------------
2012/12/11       PRP,PU1,P
2012/12/12       PRP 
```

我想得到这样的结果-

```
date          P_QTY
-----------------------
2012/12/11    1 
```

我尝试查询-

```
select date,count(date) as P_Qty    
from MyTable 
where component like '%P%'
group by date 
```

但我得到了结果-

```
date          P_QTY
-----------------------
2012/12/11    1
2012/12/12    1 
```

`PRP`和之间有歧义`P`。
那么，如何消除`P`,`PRP`和之间的歧义`PU1`？
提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-10T05:38:51.637

首先，不推荐存储日期和 P_QTY 之间的一对多关系。

要获得所需的结果，您的查询应该是

```
SELECT date,count(date) as P_Qty    
FROM MyTable
where 
    (
        component = 'P' OR 
        component LIKE 'P,%' OR 
        component LIKE '%,P,%' OR 
        component LIKE '%,P'
    )
GROUP BY date 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-10T05:42:28.793

您只需要详细了解[%（通配符 - 字符）](http://msdn.microsoft.com/en-us/library/aa276878%28v=sql.80%29.aspx)：

> 匹配任何零个或多个字符的字符串。此通配符可用作前缀或后缀。

这是你想要的：

```
select date,count(date) as P_Qty    
from MyTable 
where component like '%,P%'
group by date 
```

## [演示 SQLFiddle](http://www.sqlfiddle.com/#!3/3079c/3)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-10T05:45:05.200

这就是你所追求的：

```
select date,count(date) as P_Qty    
from MyTable 
where component = 'P' OR CHARINDEX(',P,', component) > 0  OR
      LEFT(component, 2) = 'P,' OR RIGHT(component,2) = ',P'
group by date 
```

这同样适用于其他值。只是不要忘记更改 LEFT 和 RIGHT 函数的整数值。您还可以引入一个应该进行测试的变量。在这种情况下，LEFT 和 RIGHT 函数的整数值将是该变量的 LEN()

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-10T05:48:46.243

请试试：

```
select date,count(date) as P_Qty    
from MyTable 
where REPLACE(',' + component + ',', ' ', '') like '%,P,%'
group by date 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-01-10T05:38:18.223

尝试这个：

```
select date,count(date) as P_Qty    
from MyTable 
where ',' + component + ',' like '%,P,%'
group by date 
```

* * *

## 回答 #6

> 赞同：-1
> 
> 时间：2013-01-10T05:48:32.840

看起来你的桌子坏了。把它变成第一范式。当每一行在列中只有一个组件时`component`，您的查询就变得微不足道了。

* * *

## 回答 #7

> 赞同：-1
> 
> 时间：2013-01-10T06:02:01.890

```
SELECT DATE,COUNT(*) AS P_QTY 
FROM MYTABLE
WHERE INSTR(COMPONENT,'PU1',1,1)>0
GROUP BY DATE 
```

# c++ - 在 CodeBlocks 中编译 C++ 代码时出现多重定义错误

> ID：14251425
> 
> 赞同：2
> 
> 时间：2013-01-10T05:35:04.707
> 
> 标签：c++, compiler-errors, codeblocks

我在一个可能非常微不足道的问题上被困了几个小时。

这是类的最基本用法。

头文件：person.h

```
class person
{
  protected:
    std::string _Name;
  public:
    void setName(std::string);
}; 
```

实现：person.cpp

```
#include <string>
#include "person.h"

void person::setName(std::string name)
{
  _Name = name;
} 
```

驱动程序：main.cpp

```
#include <iostream>
#include "person.cpp"

int main()
{
  std::cout << "Yes, it worked.\n";
  return 0;
} 
```

尝试在 CodeBlocks 中编译此代码（使用 GNU GCC）时，出现错误：

```
~\person.cpp|5|multiple definition of `person::setName(std::string)'|
~\person.cpp|5|first defined here|
||=== Build finished: 2 errors, 0 warnings (0 minutes, 0 seconds) ===| 
```

我在头文件中有一个原型，在实现文件中有一个正文。多重定义在哪里？如果我在 person.cpp 中的 'void' 之前添加 'inline' 就可以了，但在这种情况下我为什么要这样做呢？

此外，当在 cmd 中将相同的代码编译为“g++ main.cpp -o main.exe”时，它可以完美运行（没有内联）！

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-10T05:37:28.463

您不需要`*.cpp`在 main.cpp 中包含文件。您需要包含`*.h`文件。

简而言之 -`*.cpp`文件包含实现并由编译器编译。`*.h`文件包含定义并且可以从`*.cpp`文件中包含。包含`*.cpp`文件时，您将获得同一对象的多个定义。

另外，您需要添加包含防护

```
#ifndef MY_HEADER
#define MY_HEADER
... code of your header file ...
#endif 
```

或者只是添加

```
#pragma once 
```

如果您的编译器支持它。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2014-05-21T20:44:27.777

今天发生了这种情况。

当使用 file - new 等在代码块中添加文件时，会出现一个屏幕询问您是否要将文件包含在调试和发布版本中。您通过勾选方框无辜地回答“是”。结果是该文件被自动包含在内，当您自己明确包含它时，您最终会复制。所以，不要勾选那些框。

干杯

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-07-25T15:05:40.257

您可以在代码块中的另一个 .cpp 中包含一个 .cpp 文件。但不要将其添加到您创建的项目中。如果文件包含在项目中，代码块将尝试像这样编译它：

g++ main.cpp -o main.o

g++ 人.cpp -o 人.o

然后使用两个 .o 文件创建最终输出文件。由于 main.cpp 包含 func.cpp，所以会遇到多重声明错误。

现在，如果您只在项目中保留 main.cpp 文件，则只会编译该文件，并且不会出现相同的错误。

# jsf - 刷新 JSF 片段内的表

> ID：14251427
> 
> 赞同：0
> 
> 时间：2013-01-10T05:35:11.210
> 
> 标签：jsf, oracle-adf

我知道这很简单，但我似乎无法让它工作我知道如何使用部分触发器，但由于某些未知原因，我似乎无法让它工作。好吧，我的问题是`<af:table>`，我的 jsf 片段内部有一个（我使用任务流来创建这个片段），我想做的是在我的文本字段上使用 valuechangelistener 创建一个简单的搜索方法，这样表就会搜索发生的每一个更改在文本字段上，问题似乎是它`<af:table partialTrigger=":id of my textfield">`不起作用它保留表中的旧值它不刷新或者你有任何解决此类问题的方法。为了清楚起见，我将发布我的一些代码。

JSF 片段页面：

```
<?xml version='1.0' encoding='UTF-8'?>
<ui:composition xmlns:ui="http://java.sun.com/jsf/facelets" xmlns:af="http://xmlns.oracle.com/adf/faces/rich"
                xmlns:f="http://java.sun.com/jsf/core">
  <af:panelStretchLayout id="psl1" inlineStyle="width: 900px;">
    <f:facet name="center">
      <af:panelGroupLayout layout="scroll" id="pgl3">
        <af:panelGridLayout id="pgl1">
          <af:gridRow marginTop="5px" marginBottom="5px" height="auto" id="gr1">
            <af:gridCell marginStart="10px" width="100px" id="gc1" halign="end" valign="middle">
              <af:outputLabel value="Search: " id="ol1" inlineStyle="color:Black; font-size:12px; font-weight:bold;"/>
            </af:gridCell>
            <af:gridCell marginStart="10px" width="250px" id="gc2" halign="start" valign="middle">
              <af:inputText label=" " valueChangeListener="#{personnelFragment.SearchRecords}" autoSubmit="true" columns="40" id="searchTxt"/>
            </af:gridCell>
            <af:gridCell marginStart="10px" width="100px" id="gc3" halign="end" valign="middle">
              <af:outputLabel value="Sort By: " id="ol2" inlineStyle="color:Black; font-size:12px; font-weight:bold;"/>
            </af:gridCell>
            <af:gridCell marginStart="10px" marginEnd="5px" width="25%" id="gc4">
              <af:selectOneChoice label=" " id="soc1">
                <af:selectItem label="Firstname" id="si1"/>
                <af:selectItem label="Middlename" id="si2"/>
                <af:selectItem label="Lastname" id="si3"/>
              </af:selectOneChoice>
            </af:gridCell>
          </af:gridRow>
        </af:panelGridLayout>

        <af:table width="700px" partialTriggers=":searchTxt" id="t1" value="#{personnelFragment.personnelInfoData}" var="PersonnelData"
        horizontalGridVisible="true" verticalGridVisible="true" inlineStyle="margin: 10px 0 10px 0;"
        rowSelection="single">
            <af:column headerText="Prefix" align="center" id="c4">
                <af:outputLabel value="#{PersonnelData.prefix}" id="ol6"
                                inlineStyle="color:Black; font-size:10px;"/>
            </af:column>

            <af:column headerText="Firstname" align="center" id="c1">
                <af:outputLabel value="#{PersonnelData.firstName}" id="ol3"
                                inlineStyle="color:Black; font-size:10px;"/>
            </af:column>

            <af:column headerText="Middlename" align="center" id="c2">
                <af:outputLabel value="#{PersonnelData.middleName}" id="ol4"
                                inlineStyle="color:Black; font-size:10px;"/>
            </af:column>

            <af:column headerText="Lastname" align="center" id="c3">
                <af:outputLabel value="#{PersonnelData.lastName}" id="ol5"
                                inlineStyle="color:Black; font-size:10px;"/>
            </af:column>

            <af:column headerText="Suffix" align="center" id="c5">
                <af:outputLabel value="#{PersonnelData.suffix}" id="ol7"
                                inlineStyle="color:Black; font-size:10px;"/>
            </af:column>

            <af:column headerText=" " align="center" id="c6">
                <af:commandImageLink id="cil1" icon="#{resource['images:check.png']}" actionListener="#{personnelFragment.SearchPersonnelInfo}" />
            </af:column>
        </af:table>

  </af:panelGroupLayout>
</f:facet>
<f:facet name="top"/> 
```

我的 Bean（值更改侦听器），但我将粘贴重要部分：

```
 calState = (OracleCallableStatement)con.prepareCall("{ call SEARCH_PERSONNELINFO(?, ?) }");
    calState.setObject(1, e.getNewValue());
    calState.registerOutParameter(2, OracleTypes.CURSOR);
    calState.execute();
    rs = (ResultSet)calState.getObject(2);
    while(rs.next()){
        PersonnelInfoData.add(new GetPersonnelData(rs.getInt(1), rs.getString(2), rs.getString(3),
                                rs.getString(4), rs.getString(5), rs.getString(6)));
        System.out.println(rs.getInt(1) +" "+ rs.getString(2));

    }
    calState.close(); 
```

我使用了存储过程，此代码运行良好，您可以看到我将示例结果打印到日志并且运行良好。我的问题只是刷新页面。

1）。partialTrigger 只有在有标签的情况下才会发生`<af:form>`吗？（因为 jsf 片段不支持`<af:form>`）2）我刚刚搜索过，在一些论坛中，他们像这样以编程方式创建触发器`AdfFacesContext.getCurrentInstance().addPartialTarget(Component);`，你能解释一下这段代码是什么吗为了？3) 如何刷新 jsf 片段中的表格？

帮助和指导将不胜感激。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-11T08:45:35.770

1) af:form 标签位于您放置片段/任务流的 jsp/jspx 页面中（您可以检查它）。2) 与 partialTrigger 属性相同，但不是 ID，而是使用 bean 中定义的绑定。
3) 就像你说的，使用 partialTrigger="id of your component"。

由于您使用 bean 来显示数据，因此您可能需要检查迭代器上的缓存（检查绑定，选择迭代器，检查属性）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-10T18:56:51.607

尝试使用以下行手动刷新支持 bean 中的表：AdfFacesContext.getCurrentInstance().addPartialTarget(t1);

# ocaml - ocaml 将整数放入列表中

> ID：14251431
> 
> 赞同：2
> 
> 时间：2013-01-10T05:35:29.847
> 
> 标签：ocaml

我是 ocaml 的菜鸟，我的问题是如何在 ocaml 中获取整数的数字以及如何通过递归调用将它们放入列表中

OCaml function digits : int -> int list 以整数 n 作为参数，如果整数是正数，则按照它们在 n 中出现的顺序返回 n 的数字列表，即：

```
# digits 3124;;
- : int list = [3;1;2;4] 

# let rec digits n =
  if n >0 then digits(n/10)::[]
  else [];; 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-10T07:33:07.727

如果您`digits`直接编写为递归函数，您会发现很难以正确的顺序打印数字，而无需在末尾反转整个列表或将元素附加到当前列表的末尾（这两种方法都效率低下）。

最好使用中间终端递归函数来完成：

```
let digits2 d =
    let rec dig acc d =
        if d < 10 then d::acc
        else dig ((d mod 10)::acc) (d/10) in
    dig [] d
;; 
```

在这里，`dig`接受一个用于构建列表的累加器，并在下一次递归调用中传递并在最后作为一个整体返回（除了`d`这里的缺点）。这是编写终端递归函数时非常常见的模式。

可能需要一点时间来适应这种写作风格，但最终它会来的。在我看来，尝试重写像这样的简单函数是一种训练自己的好方法。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-10T10:38:11.387

出于学习目的，完成 OP 的原始代码而不是切换到使用累加器可能会很有用。缺少的关键是它不会将当前数字`(n mod 10)`与递归调用返回的值结合起来。

正如 lbonn 所说，如果您有很多数字要转换，您将重写以避免重复附加到列表（这需要二次时间并生成大量临时数据）。

# php - 从 PHP 中的二维数组中获取前 5 个值

> ID：14251433
> 
> 赞同：3
> 
> 时间：2013-01-10T05:35:39.750
> 
> 标签：php, arrays

我有以下数组：

> 数组（[20] => 154 [21] => 146 [24] => 230 [26] => 80 [33] => 232 [113] => 100 [13] => 132 [12] => 146 [11] => 122 [235] => 110 [239] => 54 [248] => 162 [340] => 84 [352] => 76 [323] => 146 [247] => 96 [372 ] => 150 [370] => 128)

我需要能够从这个数组中获取前五个值

最终结果需要看起来像这样：

```
Array(
     [ 33] => 232
     [ 24] => 230
     [ 248] => 162
     [ 20] => 154
     [ 372] => 150
) 
```

如果这可以通过简单地重新排序数组来完成，那很好。

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2013-01-10T05:43:52.487

试试这个，它会按降序对您的数组进行排序，并将您的数组切片为前 5 个值

```
rsort($arr);

print_r(array_slice($arr, 0 ,5)); 
```

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2013-01-10T05:44:17.650

使用 PHP [`rsort()`](http://php.net/manual/en/function.rsort.php)，您可以按降序对数组进行排序。前 5 个元素是最大的：

```
rsort($data);
$highest = $data[0];
$second_highest = $data[1];
$third_highest = $data[2];
$fourth_highest = $data[3];
$fifth_highest = $data[4]; 
```

您还可以使用[`array_slice()`](http://php.net/manual/en/function.array-slice.php)在排序后将前 5 个剥离到自己的数组中（而不是像上面那样单独的变量）：

```
rsort($data);
$highest_five = array_slice($data, 0, 5); 
```

这种方法有两个警告。第一个是array-parameter是对原始的引用，所以原始数组是排序的（除非你先做一个副本，然后对副本进行排序）。第二个是它将重新索引您的数组，因此第一个索引将`0`不管它是否以 index `33`、`56`等开始。

**UPDATE**（维护索引值）
要解决数组的重新索引，您可以改用[`arsort()`](http://php.net/manual/en/function.arsort.php). 这将执行与上述相同的操作，但是，键不会重置为从 开始`0`。同样，您还需要使用第四个*可选*参数`array_slice()`来告诉它“保留键”，因为它也会重置它们。总之，您可以使用以下方法将前 5 个值放入一个新数组中：

```
arsort($data);
$highest_five = array_slice($data, 0, 5, true); 
```

* * *

## 回答 #3

> 赞同：7
> 
> 时间：2013-01-10T05:41:30.593

对数组重新排序称为排序，您可以获得的“最快”操作时间是 O(nlog(n))，其中 n 是数组中的元素数。

仅遍历列表并保留 5 个最大的列表会更快（O(n)）。

# blackberry - 黑莓：自动打开缩小键盘

> ID：14251438
> 
> 赞同：2
> 
> 时间：2013-01-10T05:36:03.137
> 
> 标签：blackberry, java-me, virtual-keyboard

如何以编程方式打开/关闭或强制虚拟键盘在黑莓中以简化形式打开？

我尝试搜索它，但找不到方法。

我还尝试在黑莓支持论坛中找到一些链接，例如

[http://supportforums.blackberry.com/t5/Java-Development/Blackberry-torch-force-reduced-virtual-keyboard-layout/td-p/618989](http://supportforums.blackberry.com/t5/Java-Development/Blackberry-torch-force-reduced-virtual-keyboard-layout/td-p/618989)

但这没有帮助。

**编辑：**

这是我用来定义我的editField的代码：

```
/** Horizontal field manager to hold text field*/
  HorizontalFieldManager hfmBadgeNo = new HorizontalFieldManager(FIELD_HCENTER)
  {
   protected void paintBackground(Graphics graphics) {
    graphics.setColor(Color.DARKGRAY);
    graphics.drawRoundRect(60, 10, Display.getWidth() - (60 * 2), getField(0).getHeight() + 10, 5, 5);

    super.paintBackground(graphics);
   }
  };

  // text field to enter Badge Number, it allows only Numeric Digits
  EditField txtEventNumber = new EditField() {
   public void paint(Graphics graphics) {
    super.paint(graphics);
    int oldColor = Color.GRAY;
    graphics.setBackgroundColor(Color.WHITE);
    graphics.setColor(0x181818);
    Font font = this.getFont().derive(Font.EMBOSSED_EFFECT, 54);
    this.setFont(font);
    graphics.setColor(oldColor);
    super.paint(graphics);
   }
   protected void onFocus(int direction) {
    if (VirtualKeyboard.isSupported())
     // Show keyboard
     getScreen().getVirtualKeyboard().setVisibility(VirtualKeyboard.SHOW);
    this.setCursorPosition(this.getTextLength());
    invalidate();
    super.onFocus(direction);
   };
   protected void onUnfocus() {
    if (VirtualKeyboard.isSupported())
     // Hide keyboard
     getScreen().getVirtualKeyboard().setVisibility(VirtualKeyboard.HIDE_FORCE);
    this.setCursorPosition(this.getTextLength());
    invalidate();
    super.onUnfocus();
   };
  };
  // Allows numeric value
  txtEventNumber.setFilter(TextFilter.get(TextFilter.NUMERIC));
  txtEventNumber.setMargin(10 + 5, 60 + 5, 5, 60 + 5);

  // Add text field to manager
  hfmBadgeNo.add(txtEventNumber); 
```

**精简键盘如下：**

![在此处输入图像描述](../Images/5de329a7f7bc72e8b11d52ba7787cd15.png)

**全键盘如下：**

![在此处输入图像描述](../Images/1d626dadad5ff1463ef5b56f5bec0743.png)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-10T14:18:59.227

基于 BlackBerry Java 的设备（BlackBerry OS 最高并包括 7.1） 键盘由[TextFilter](http://www.blackberry.com/developers/docs/7.1.0api/net/rim/device/api/ui/text/TextFilter.html)确定，对具有焦点的输入字段有效。可以在字段构造函数样式参数中指定许多预定义的过滤器。或者，如果这些都不能满足您的需求，您可以从头开始或[组合现有的过滤器来创建自己的过滤器。](http://www.hrbuckley.net/2010/12/fun-with-text-filters.html)

# codeigniter - 如果找到导入关键字，CodeIgniter 2 文件上传崩溃

> ID：14251441
> 
> 赞同：4
> 
> 时间：2013-01-10T05:36:11.450
> 
> 标签：codeigniter

我正在使用此代码上传 csv 文件。

```
$config['upload_path'] = './uploads/'; //config overiding
$config['allowed_types'] = 'csv|xlsx';
$this->load->library('upload', $config); //loading upload library 
```

它工作正常，但在 csv 内容中，如果存在单词**import** CI 会抛出错误消息

> 您尝试上传的文件类型不允许

如果我用**Import**改变它，它工作正常。

它只发生在实时服务器上

> PHP 版本 5.3.10-1ubuntu3.2

它在本地主机上运行良好。

有人可以指导我那是什么..！

![在此处输入图像描述](../Images/1225f80959cb318eb563eb0396391135.png)

本地主机设置：

> PHP 版本 5.4.3 WAMP Apache 版本 2.4.2

实时服务器设置：

> PHP 版本 5.3.10-1ubuntu3.2

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-21T07:31:02.333

为了避免我使用 PHP `move_uploaded()`，它运行良好

# node.js - 在nodejs中为windows使用forever模块

> ID：14251451
> 
> 赞同：14
> 
> 时间：2013-01-10T05:36:51.913
> 
> 标签：node.js, forever

我从以下链接下载了永久模块

[https://github.com/nodejitsu/forever](https://github.com/nodejitsu/forever)

我提取了 zip 文件并将其放在我的 node_modules 文件夹中。并从我的命令提示符进入节点 js 路径并给出

按照指示永远 filename.js。但我收到如下错误

```
C:\Users\290495\Desktop\newnode\Manoj\Node\nodejs>forever testing.js
'forever' is not recognized as an internal or external command,
operable program or batch file. 
```

不知道我哪里错了。任何帮助将不胜感激

* * *

## 回答 #1

> 赞同：18
> 
> 时间：2013-01-12T07:42:12.470

Forever 需要全局安装。`-g`使用标志安装它，即`npm install forever -g`

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2014-09-18T13:56:55.337

永远存在一个错误（在 Windows 上）。[Forever-win](https://www.npmjs.org/package/forever-win)是它的 Windows 兼容版本。在 windows 命令提示符下尝试以下命令，希望您应该能够成功运行它。

在全球范围内安装“forever”和“forever-win”

```
npm -g install forever
npm -g install forever-win 
```

永远使用启动应用程序

```
cd <<project directory>>
forever start <<app.js>> 
```

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2014-01-26T16:58:18.950

正确的语法是永远启动 app.js，但由于某种原因它在 Windows 上不起作用。没有错误消息，但应用程序没有运行。

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2018-11-01T05:16:56.523

建立在[@richmb](https://stackoverflow.com/users/741808/richmb)的答案之上。您可以在本地安装它，然后将其作为 npm 脚本添加到您的 package.json 中：

```
"scripts": {
    "forever" : "forever"
  }, 
```

然后，你可以调用它`npm run forever`

例子 ：

`npm run forever start app.js`

`npm run forever list`

ETC..

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2017-08-14T14:48:36.123

在本地使用它。

```
npm install forever
./node_modules/forever/bin/forever start <<app.js>> 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2020-03-02T20:31:43.747

forever start -c node << server.js >>，特别是在没有forever-win的Windows中

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2021-08-03T12:37:41.493

尝试在环境变量中添加npm文件夹路径。因为该位置存在永久命令。"C:\Users<用户名>\AppData\Roaming\npm"

# c - 如果我不指定 srand()，rand() 使用什么种子？

> ID：14251452
> 
> 赞同：8
> 
> 时间：2013-01-10T05:36:58.667
> 
> 标签：c, random, srand

这是代码：

```
#include <stdio.h>
#include <stdlib.h>
#include <time.h>

int main(void)
{
    int r;
    int i;
    for (i = 0; i < 100; i++)
    {
        r = rand() % 100 + 1;
        printf("%d\n", r);
    }
    return 0;
} 
```

我一直在尝试随机数，但是有一天，我忘记输入了`srand()`，但是该`rand()`函数仍然可以随机一个数字（相同的序列）。

问题是，如果我不指定它会使用什么种子？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-01-10T05:39:10.340

如果未调用 srand，则 rand 就像已调用 srand(1) 一样。

[http://www.acm.uiuc.edu/webmonkeys/book/c_guide/2.13.html#rand](http://www.acm.uiuc.edu/webmonkeys/book/c_guide/2.13.html#rand)

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-01-10T05:57:38.067

C标准实际上规定了其他答案中记录的行为：

> ### ISO/IEC 9899:2011 §7.22.2.2`srand`功能
> 
> ¶2 [...] 如果`rand`在进行任何调用之前调用`srand`，则应生成与`srand`第一次调用时相同的序列，种子值为 1。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-01-10T06:06:04.263

```
If rand() is called before any calls to srand() are made, the same sequence shall 
be generated as when srand() is first called with a seed value of 1. 
```

**参考：**

[http://pubs.opengroup.org/onlinepubs/009695399/functions/rand.html](http://pubs.opengroup.org/onlinepubs/009695399/functions/rand.html)

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2013-01-10T05:39:10.377

[这些`man`页面说明了以下内容](http://linux.die.net/man/3/rand)：

> srand() 函数将其参数设置为要由 rand() 返回的新伪随机整数序列的种子。通过使用相同的种子值调用 srand() 可以重复这些序列。
> 
> 如果没有提供种子值，则 rand() 函数会自动使用值 1 播种。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2013-01-10T09:02:42.063

srand() 函数将其参数设置为要由 rand() 返回的新伪随机整数序列的种子。通过使用相同的种子值调用 srand() 可以重复这些序列。

如果没有提供种子值，则 rand() 函数会自动使用值 1 播种。

# function - 两个日期之间的月份函数

> ID：14251456
> 
> 赞同：10
> 
> 时间：2013-01-10T05:37:08.993
> 
> 标签：function, postgresql, postgresql-9.1, postgresql-9.2

在 oracle 中，我可以找出使用 MONTHS_BETWEEN 函数之间的月份数。

在 postgres 中，我为此使用了提取功能。eg.like

```
select 
    extract(year from age(current_date, '2012-12-09')) * 12
    + 
    extract(month from age(current_date, '2012-12-09')) 
```

postgres中还有其他方法（内置函数）吗？

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-01-10T12:49:06.613

这很容易在 PostgreSQL 中重新实现，只需使用 SQL 函数来整理您已经拥有的内容：

```
create function months_of(interval)
 returns int strict immutable language sql as $$
  select extract(years from $1)::int * 12 + extract(month from $1)::int
$$;

create function months_between(date, date)
 returns int strict immutable language sql as $$
   select abs(months_of(age($1, $2)))
$$; 
```

现在`select months_between('1978-06-20', '2011-12-09')`生产401。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-01-10T06:27:49.573

不幸的是，它似乎不是，因为`extract(month ...)`返回*模 12*的月数。

您可以做一个小的简化；去掉`age()`-的第一个参数，默认是age from `current_date`，所以这两个是等价的：

```
age(current_date, '2012-12-09')
age('2012-12-09') 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-10T10:57:51.323

您可以使用 UDF，例如我在[这里](http://www.sqlines.com/postgresql/how-to/datediff)找到了以下内容：

```
 CREATE OR REPLACE FUNCTION DateDiff (units VARCHAR(30), start_t TIMESTAMP, end_t TIMESTAMP) 
     RETURNS INT AS $$
   DECLARE
     diff_interval INTERVAL; 
     diff INT = 0;
     years_diff INT = 0;
   BEGIN
     IF units IN ('yy', 'yyyy', 'year', 'mm', 'm', 'month') THEN
       years_diff = DATE_PART('year', end_t) - DATE_PART('year', start_t);

       IF units IN ('yy', 'yyyy', 'year') THEN
         -- SQL Server does not count full years passed (only difference between year parts)
         RETURN years_diff;
       ELSE
         -- If end month is less than start month it will subtracted
         RETURN years_diff * 12 + (DATE_PART('month', end_t) - DATE_PART('month', start_t)); 
       END IF;
     END IF;

     -- Minus operator returns interval 'DDD days HH:MI:SS'  
     diff_interval = end_t - start_t;

     diff = diff + DATE_PART('day', diff_interval);

     IF units IN ('wk', 'ww', 'week') THEN
       diff = diff/7;
       RETURN diff;
     END IF;

     IF units IN ('dd', 'd', 'day') THEN
       RETURN diff;
     END IF;

     diff = diff * 24 + DATE_PART('hour', diff_interval); 

     IF units IN ('hh', 'hour') THEN
        RETURN diff;
     END IF;

     diff = diff * 60 + DATE_PART('minute', diff_interval);

     IF units IN ('mi', 'n', 'minute') THEN
        RETURN diff;
     END IF;

     diff = diff * 60 + DATE_PART('second', diff_interval);

     RETURN diff;
   END;
   $$ LANGUAGE plpgsql; 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2015-06-12T18:29:01.440

```
SELECT date_part ('year', f) * 12
      + date_part ('month', f)
FROM age (CURRENT_DATE, '2014-12-01') f 
```

# database - 从数据库中提取值

> ID：14251460
> 
> 赞同：0
> 
> 时间：2013-01-10T05:37:19.790
> 
> 标签：database, excel, extraction

嗨，我想知道是否有一种自动化的方式来执行以下操作：

一个。我们有一个数据库，其中 A 列中的零件编号和工作表 xyz 中 B 列中的相应值（大约 5000 个条目）

湾。我想通过提供零件编号来获得 10 个特定零件的价值。

excel中是否有这种提取的公式？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-10T08:28:39.323

这应该很容易使用 =VLOOKUP() [http://office.microsoft.com/en-us/excel-help/vlookup-HP005209335.aspx](http://office.microsoft.com/en-us/excel-help/vlookup-HP005209335.aspx)

# javafx - 在 Javafx 中播放视频的问题

> ID：14251461
> 
> 赞同：3
> 
> 时间：2013-01-10T05:37:23.970
> 
> 标签：javafx

我试过了

```
public class Video3 extends Application{

public static void main(String[] args) {
launch(args);
}

@Override
public void start(Stage stage) throws Exception {
Group root = new Group();
Scene scene = new Scene(root, 1280, 1024, Color.BLACK);
File file = new File("/home/ubuntu/NetBeansProjects/VideoPaly/src/videopaly/vid.flv");
String path = file.toURI().toASCIIString(); 
URI uri = new URI(path);
root.getChildren().add(MediaViewBuilder.create().mediaPlayer(MediaPlayerBuilder.create()
                        .media(new Media(path)).build()).build());
stage.setScene(scene);
stage.show();
}
} 
```

当我在上面运行代码时，它会显示黑色窗口，我该如何解决？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-05-22T18:00:17.730

我在 Windows 7、Ubuntu 和 XP 运行时环境之间遇到了类似的问题。看起来你在 Ubuntu 中运行。什么版本？在 Linux 和 Windows 版本的 Vista 和更早版本中，默认情况下不包含编解码器。

我敢打赌，您没有播放相关媒体所需的正确编解码器。
看看以下内容：

在这里，向下滚动到页面底部的“JavaFX Media”，它应该可以帮助您找到所需的内容。 [http://www.oracle.com/technetwork/java/javafx/downloads/supportedconfigurations-1506746.html](http://www.oracle.com/technetwork/java/javafx/downloads/supportedconfigurations-1506746.html)

这里有一些更有帮助（但技术含量较低）的信息：http: [//docs.oracle.com/javafx/2/media/overview.htm](http://docs.oracle.com/javafx/2/media/overview.htm)

支持的视频容器格式和类型的综合矩阵位于： [JavaFX 2 Media Package JavaDoc](http://docs.oracle.com/javafx/2/api/javafx/scene/media/package-summary.html)

# android - 使用子类修改主要活动的视图

> ID：14251462
> 
> 赞同：0
> 
> 时间：2013-01-10T05:37:27.567
> 
> 标签：android, android-layout

我有一个主要活动`TextViews`和想要修改主要活动的类`TextViews`。

我在课堂上的方法中不断产生**`NullPointerException`**错误。`findViewbyID`我假设是因为我没有将 View 传递给类方法。我该怎么做呢？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-10T05:46:32.047

您需要使用构造函数将 Activity 实例传递给您的非 Activity 类，以访问非 Activity 类中的所有 UI 元素：

```
public class NonActivity{
Activity activity;
Context context;

public NonActivity(Activity activity,Context context) {
  this.activity=activity;
  this.context=context;
 }

} 
```

现在您可以从 NonActivity 类中的 Activity 访问 UI 元素，如下所示：

```
 TextView textview=(TextView)activity.findViewbyID(R.id.textview); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-10T05:49:30.430

在您的 Activity 中，如果您使用`setcontentView(R.layout.yourlayout)`then 所有后续都`findViewById()`对应于中的视图`yourlayout.xml`。在第二个活动中，您试图找到第一个活动的布局视图，这就是您获得`NullPointerException`. 为什么要在另一个活动中操作此活动的视图？我建议您在第一个活动中操纵视图。

# ios - 如何使用 SDURLCache 和 AFNetworking

> ID：14251466
> 
> 赞同：0
> 
> 时间：2013-01-10T05:37:44.773
> 
> 标签：ios, afnetworking

我是初学者。我对 SDURLCache 和 AFNetwoking.my 代码有疑问：

首先，我在我的 appdelegate.m 中设置 sdurlcache

```
self.cache = [[SDURLCache alloc] initWithMemoryCapacity:1024*1024 // 1 MB mem cache
                                           diskCapacity:1024*1024*5 // 5 MB disk cache
                                               diskPath:[SDURLCache defaultCachePath]];
self.cache.ignoreMemoryOnlyStoragePolicy = YES;
[NSURLCache setSharedURLCache:self.cache]; 
```

第二，我在tableCell中使用了AFNetwoking+UIImageView：

```
 [cell.Image setImageWithURL:url placeholderImage:[UIImage imageNamed:@"zhanweiSmall.png"]]; 
```

但是图片没有缓存。如果网络无效，图片不显示

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-27T11:57:39.100

如果你使用 IOS5 或更高版本 NSURLCache 会自动将响应保存到磁盘。所以你不需要 SDURLCache。有关更多信息，请参阅 Peter 的博客文章。

[http://petersteinberger.com/blog/2012/nsurlcache-uses-a-disk-cache-as-of-ios5/](http://petersteinberger.com/blog/2012/nsurlcache-uses-a-disk-cache-as-of-ios5/)

# ios - 仅将 plist 中的标记项目加载到 UITableView

> ID：14251467
> 
> 赞同：0
> 
> 时间：2013-01-10T05:37:45.777
> 
> 标签：ios, webview, plist, tableview, searchable

有没有一种特定的方法可以仅将某些标记项目从 plist 文件加载到 UITableView？类似于：如果属性“Tag”包含“transportation”，则将此项目加载到单元格中，请记住，属性“Tag”将是带有“transportation, car, train, bus, etc.”的字符串。

由于我正在使用的内容（在 UIWebViews 中加载 HTML 数据），我还没有找到一种方法可以让我使用真正的搜索（无需付费），所以我计划实现一个包含所有“可搜索”关键字的 tableview然后将仅将某些项目加载到 tableview 中，用户可以以 webview 的形式获取更多信息。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-30T17:53:41.120

我想出了如何使用 NSPredicates 并加载了表格。

```
(void)viewWillAppear:(BOOL)animated
{
// Refresh the contents of the table whenever this screen becomes visible
self.favReps = [[[NSUserDefaults standardUserDefaults] objectForKey:@"favReps"]mutableCopy];
NSString *contentFile = [[NSBundle mainBundle] pathForResource:@"cf10" ofType:@"plist"];
NSArray *Contents = [[NSArray alloc] initWithContentsOfFile:contentFile];
NSPredicate *inPredicate = [NSPredicate predicateWithFormat:@"Section IN%@", favReps];
favRepsDict = [[[NSMutableArray alloc] initWithArray:[Contents filteredArrayUsingPredicate:inPredicate]] mutableCopy];

[super viewWillAppear:animated];
[self.tableView reloadData];
} 
```

每次返回收藏夹屏幕时都会更新。

# html - 如何使用 cordova 在 iPhone 和 Android 中打开设备消息应用程序

> ID：14251471
> 
> 赞同：0
> 
> 时间：2013-01-10T05:38:11.823
> 
> 标签：html, jquery-mobile, cordova-2.0.0

我的应用程序中有一个按钮，我希望当我单击此内置消息框时打开设备（iPhone 和 Android）。我正在使用科尔多瓦、jquery 和 html5。

请帮助我。任何帮助表示赞赏。

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-10T06:23:14.977

```
<a href="sms:12343123">Send SMS</a> 
```

# javascript - 如何读取和修改已绘制的 Google 图表上的轴？

> ID：14251474
> 
> 赞同：1
> 
> 时间：2013-01-10T05:38:18.390
> 
> 标签：javascript, google-api, google-visualization

我有一个页面，上面有几个谷歌图表，主要是组合图表和折线图。例如：

```
chart = new google.visualization.LineChart(chartDiv); 
```

在页面已经绘制之后，我希望能够从轴上读取最大值，然后重新绘制图表，以便它们在轴上都有相同的最大值（即，这样它们更容易在一眼）。我事先不知道这些最大值。

我可以更改选项并重新绘制图表

```
chart.draw(data, options) 
```

但我不确定如何从轴上提取数据。图表对象有一个名为 `.getChartLayoutInterface()` This 看起来很有希望的方法，但我不知道如何使用它。例如，这有效：

```
var b = c.getChartLayoutInterface().getChartAreaBoundingBox(); 
```

但，

```
var b = c.getChartLayoutInterface().getVAxisValue(); 
```

返回`null`。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-11T01:53:51.223

您必须询问@Sjoerd getChartLayoutInterface() 是如何工作的，因为它似乎没有任何在线文档。

同时，您可以做的是获取您正在创建的每个图表的最小值和最大值，然后获取所有组合图表的最大/最小值的最大值和最小值。

使用这些最大值/最小值，您可以手动设置每个图表的最小值/最大值（带有一些漂亮的舍入）。为了很好地进行舍入，我建议如下：

```
// Take the Max/Min of all data values in all graphs
var totalMax = 345;
var totalMin = -123;

// Figure out the largest number (positive or negative)
var biggestNumber = Math.max(Math.abs(totalMax),Math.abs(totalMin));

// Round to an exponent of 10 appropriate for the biggest number
var roundingExp = Math.floor(Math.log(biggestNumber) / Math.LN10);
var roundingDec = Math.pow(10,roundingExp);

// Round your max and min to the nearest exponent of 10
var newMax = Math.ceil(totalMax/roundingDec)*roundingDec;
var newMin = Math.floor(totalMin/roundingDec)*roundingDec;

// Determine the range of your values
var range = newMax - newMin;

// Define the number of gridlines (default 5)
var gridlines = 5;

// Determine an appropriate gap between gridlines
var interval = range / (gridlines - 1);

// Round that interval up to the exponent of 10
var newInterval = Math.ceil(interval/roundingDec)*roundingDec;

// Re-round your max and min to the new interval
var finalMax = Math.ceil(totalMax/newInterval)*newInterval;
var finalMin = Math.floor(totalMin/newInterval)*newInterval; 
```

这类似于 Google 如何确定最大/最小值（有时，如果您有 -6.2 和 3.1 作为值，它会使用 3.1 作为网格线，即使它是一个奇数）。但是通过创建自己的四舍五入，您可以绕过需要弄清楚谷歌如何四舍五入（这是一个棘手的提议）。

如果您没有正确理解，请告诉我。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-10-04T14:25:32.617

[根据文档](https://developers.google.com/chart/interactive/docs/gallery/histogram#methods) `getVAxisValue`功能具有以下签名：

> `getVAxisValue(position, optional_axis_index)`
> 
> 返回位置的逻辑垂直值，它是图表容器上边缘的偏移量。可以是负数。
> 
> 示例：`chart.getChartLayoutInterface().getVAxisValue(300)`。
> 
> 绘制图表后调用它。
> 
> 返回类型：`number`

* * *

由于您的目标是*读取轴上的最大值，然后重新绘制图表，以使它们在轴上都具有相同的最大值*，因此我建议采用以下解决方案

计算 的最小值/最大值`google.visualization.DataTable`：

```
function calcMinMax(data, colIndex)
{
   var totalMin  = data.getValue(0,colIndex);
   var totalMax = data.getValue(0,colIndex);
   for(var i = 0; i < data.getNumberOfRows();i++){
        if ( data.getValue(i, colIndex) < totalMin  ) {
          totalMin  = data.getValue(i, colIndex);
        }          
        if ( data.getValue(i, colIndex) > totalMax ) {
          totalMax = data.getValue(i, colIndex);
        }
   }
   return {'min': totalMin, 'max': totalMax };
} 
```

并设置`viewWindow`选项：

```
var vAxisMinMax = calcMinMax(data,1); 
options.vAxis = {'viewWindow': {'min': vAxisMinMax.min, 'max': vAxisMinMax.max}}; 
```

**例子**

```
google.load('visualization', '1', { packages: ['corechart', 'line'] });
google.setOnLoadCallback(drawBasic);

function drawBasic() {

    var data = new google.visualization.DataTable();
    data.addColumn('number', 'X');
    data.addColumn('number', 'Dogs');

    data.addRows([
      [0, 5], [1, 10], [2, 23], [3, 17], [4, 18], [5, 9],
      [6, 11], [7, 27], [8, 33], [9, 40], [10, 32], [11, 35],
      [12, 30], [13, 40], [14, 42], [15, 47], [16, 44], [17, 48],
      [18, 52], [19, 54], [20, 42], [21, 55], [22, 56], [23, 57],
      [24, 60], [25, 50], [26, 52], [27, 51], [28, 49], [29, 53],
      [30, 55], [31, 60], [32, 61], [33, 59], [34, 62], [35, 65],
      [36, 62], [37, 58], [38, 55], [39, 61], [40, 64], [41, 65],
      [42, 63], [43, 66], [44, 67], [45, 69], [46, 69], [47, 70],
      [48, 72], [49, 68], [50, 66], [51, 65], [52, 67], [53, 70],
      [54, 71], [55, 72], [56, 73], [57, 75], [58, 70], [59, 68],
      [60, 64], [61, 60], [62, 65], [63, 67], [64, 68], [65, 69],
      [66, 70], [67, 72], [68, 75], [69, 80]
    ]);

    var options = {
        hAxis: {
            title: 'Time'
        },
        vAxis: {
            title: 'Popularity'
        }
    };

    var chart = new google.visualization.LineChart(document.getElementById('chart_div'));

    var vAxisMinMax = calcMinMax(data,1); 
    options.vAxis = {'viewWindow': {'min': vAxisMinMax.min, 'max': vAxisMinMax.max}};

    chart.draw(data, options);

}

function calcMinMax(data, colIndex)
{
   var totalMin  = data.getValue(0,colIndex);
   var totalMax = data.getValue(0,colIndex);
   for(var i = 0; i < data.getNumberOfRows();i++){
        if ( data.getValue(i, colIndex) < totalMin  ) {
          totalMin  = data.getValue(i, colIndex);
        }          
        if ( data.getValue(i, colIndex) > totalMax ) {
          totalMax = data.getValue(i, colIndex);
        }
   }
   return {'min': totalMin, 'max': totalMax };
}
```

```
<script type="text/javascript" src="https://www.google.com/jsapi"></script> 
<div id="chart_div"></div>
```

# jquery - jquery对话框图标定位

> ID：14251475
> 
> 赞同：1
> 
> 时间：2013-01-10T05:38:24.133
> 
> 标签：jquery, jquery-ui, jquery-ui-dialog

我正在使用 jquery 对话框，如 [http://net.tutsplus.com/tutorials/javascript-ajax/creating-a-windows-like-interface-with-jquery-ui/](http://net.tutsplus.com/tutorials/javascript-ajax/creating-a-windows-like-interface-with-jquery-ui/)并且我放置了一个最大化图标，但是问题是我无法从右边定位它吗

```
.ui-dialog-titlebar-rest{ position: absolute; right: 23px; top: 50%; width: 19px; margin: -10px 0 0 0; padding: 1px; height: 18px; } 
```

它的默认定位在左角，而如果我提到`left:1025px;`它工作正常，是什么阻碍了它的正确属性。

我正在使用 jquery 平滑度主题`"jquery-ui-1.9.2.custom.css"`

有人可以帮我解决这个问题吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-10T06:17:34.680

必须有另一种称为`.ui-dialog-titlebar-close`关闭按钮的样式，必须已应用该样式，因此请尝试在此之前插入最大化的图标，如下所示，

```
$(document).ready(function() {
   $('#trigger').click(function(){
      $("#dialog").dialog();
      $(".ui-dialog-titlebar-close").before('<img id="maximize" name="maximize" src="images/imageName.jpg"/>');
   }); 
}); 
```

风格

```
<style type="text/css">
   #maximize{
     float:right;/* insert whatever the styles you want here.*/
   }
</style> 
```

html

```
<input name="trigger" id="trigger" type="text" />
<div id="dialog" style="display:none">
    <div>
        Your Dialog content
    </div>
</div> 
```

# solr - Solr Edismax 查询错误地产生结果

> ID：14251476
> 
> 赞同：0
> 
> 时间：2013-01-10T05:38:25.493
> 
> 标签：solr, edismax, query-parser

我有 2 种类型的 solr 查询。一种使用 EDisMax 解析器，另一种使用标准查询解析器作为默认值。以下是我使用的 2 个查询。查询的目的是不包含以下单词 ELM、PST、June 的文档。

**EDisMax 查询**

*q= 内容：(-EML -PST -June) 或 contentenstem:(-EML -PST -June)&start=0&rows=25 &defType=edismax&fl=content 文件名*

它产生大约 12232 个结果；其中 4292 个文档结果包含 EML 或 PST 或 June 的任何给定查询字符串。因此 4292 个结果文档是错误的。

***标准解析器查询***

查询：q=size:[ 0 TO * ]&fq=content:( -EML -PST -June )&fq=contentenstem:( -EML -PST -June )&start=0&rows=25&fl=内容文件名

它产生大约 7940 个结果。

为什么此查询的 EDisMax 查询失败；如何使用 EDisMax 解析器查询获得正确的结果

如果我们知道 EDisMax 和 Standard 查询解析器如何解析文档上的 AND & OR 布尔查询，我们可能会得到为什么不同的解析器会出现不同的文档计数的答案。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-16T04:21:15.710

切换`OR`到`AND`EDisMax 查询。`OR`并`AND`采取不同的行动：

`OR`将导致满足您的一项或两项限制的结果（对于内容和内容干）。

`AND`更严格：结果必须同时满足这两个限制。

# c++ - 我自己的驱动程序是否需要在 Windows 7 x64 中进行数字签名

> ID：14251481
> 
> 赞同：1
> 
> 时间：2013-01-10T05:38:41.453
> 
> 标签：c++, driver, windows-7-x64, wdk

我创建了驱动程序以在 Windows 7 x64 上挂钩 ssdt。我怀疑是否需要对驱动程序进行数字签名以在 x64 上以内核模式安装，或者我只需要 Windows 驱动器套件来安装它。

除了 Windows Driver Kit(WDK) 之外，是否还有其他代码或命令可以在内核模式下安装驱动程序？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-10T05:50:59.917

是的，在 64 位 Windows 上，您**必须**对驱动程序进行签名。

仅出于测试和开发目的，您可以通过在启动时按 F8 并选择“禁用驱动程序签名强制”来临时启用使用 WDK 中提供的测试证书签名的驱动程序。但是，您必须在每次启动时手动执行此操作。

[这里](http://www.raymond.cc/blog/loading-unsigned-drivers-in-windows-7-and-vista-64-bit-x64/)描述的方法很少，但其中一些方法不再适用于 Win7 SP1，并且有效的方法有很多限制和不便，以至于您实际上被迫使用真实证书实际签署驱动程序。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-11T10:12:48.420

要安装驱动程序，您可以使用内置的命令行工具`sc.exe`。例如：

```
sc create MyDriver type= kernel binPath= c:\mydriver.sys 
```

**注意：由于**[Patch Guard](http://en.wikipedia.org/wiki/Kernel_Patch_Protection)，您不应该在 x64 上挂接 SSDT 。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-11T05:33:33.417

对于开发机器，执行`bcdedit -set TESTSIGNING ON`. 对于这种模式，您会在桌面上获得水印，不要关心它们，避免使用 ReadyDriver。

为您创建一个测试证书，将其安装在您的机器上。

重启。

现在只需测试签署驱动程序并安装它们即可。

[TESTSIGNING 引导配置选项（Windows 驱动程序）](http://msdn.microsoft.com/en-us/library/windows/hardware/ff553484%28v=vs.85%29.aspx)

[在开发和测试期间签署驱动程序（Windows 驱动程序）](http://msdn.microsoft.com/en-us/library/windows/hardware/ff552264%28v=vs.85%29.aspx)

您将需要工具来测试签署您的驱动程序。据我回忆，随着 Windows 的更新，其他选项变得不可靠。对我来说，这是最好的方法。

# sencha-touch-2 - 键盘按钮的对齐（数字）

> ID：14251483
> 
> 赞同：0
> 
> 时间：2013-01-10T05:38:55.320
> 
> 标签：sencha-touch-2

我是 sencha touch 的新手。我为数字键盘编写了代码，但按钮是垂直显示的。我的代码是

```
Ext.define("exercise.view.Numberplate",{
    extend: "Ext.SegmentedButton",
    requires:['Ext.Button'],
    xtype:'Numberplate',
    allowMultiple: true,
    config: {
        pack:'center',
        centered:true,
        height:30,
        width:100,
        xtype:'button',
        items: [
            {
                xtype:'segmentedbutton',
                allowDepress:true,
                scroll:true,
                //layout:'vbox',
                items:[
                    {
                      text:'1',
                        width:100
                    },
                    {
                        text   : '2',
                        width:100
                    },
                    {
                        text: '3',
                        width:100
                    }
                ]
            },
            {
                xtype:'segmentedbutton',
                //centered:true,
                pack:'center',
                items:[
                    /*  {
                     centered:true,
                     html: [
                     '<br><br><br><br>'
                     ].join("")

                     },*/
                    {
                        text:'4',
                        width:100
                    },
                    {
                        text:'5',
                        width:100
                    },
                    {
                        text:'6',
                        width:100
                    }
                ]
            }
        ]

    },
    constructor: function() {
        this.on({
            scope: this,
            delegate: 'button',

            tap: 'tapHandler'
        });

        this.callParent(arguments);
    },

    tapHandler: function(button) {
        alert(button.getText());
        // this.setHtml("<span class=action>User tapped " + button.getText() + "</span>");
    }
}); 
```

我试过了，但我没有得到这个。我认为这很容易，但我不知道该怎么做。谁能帮助我。提前谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-10T06:07:56.223

只需添加`layout:vbox`到您的配置：

```
Ext.define("exercise.view.Numberplate",{
extend: "Ext.SegmentedButton",
requires:['Ext.Button'],
xtype:'Numberplate',
allowMultiple: true,
config: {
    layout: 'vbox', // Add right here
    pack:'center',
    centered:true,
    height:30,
    width:100,
    xtype:'button',
    items: [
        {
            xtype:'segmentedbutton',
            allowDepress:true,
            scroll:true,
            //layout:'vbox',
            items:[
                {
                  text:'1',
                    width:100
                },
                {
                    text   : '2',
                    width:100
                },
                {
                    text: '3',
                    width:100
                }
            ]
        },
        {
            xtype:'segmentedbutton',
            //centered:true,
            pack:'center',
            items:[
                /*  {
                 centered:true,
                 html: [
                 '<br><br><br><br>'
                 ].join("")

                 },*/
                {
                    text:'4',
                    width:100
                },
                {
                    text:'5',
                    width:100
                },
                {
                    text:'6',
                    width:100
                }
            ]
        }
    ]

},
constructor: function() {
    this.on({
        scope: this,
        delegate: 'button',

        tap: 'tapHandler'
    });

    this.callParent(arguments);
},

tapHandler: function(button) {
    alert(button.getText());
    // this.setHtml("<span class=action>User tapped " + button.getText() + "</span>");
}
}); 
```

希望能帮助到你 ：）

# c++ - Windows Phone 8 应用程序仅在从商店下载后才会崩溃

> ID：14251489
> 
> 赞同：4
> 
> 时间：2013-01-10T05:39:32.460
> 
> 标签：c++, crash, windows-phone, windows-phone-8, windows-store

我们的应用程序已通过审核，并且我们自己的内部测试没有发现任何重大问题，但是从商店下载时，总是在特定位置崩溃。

目前我们很难获得任何崩溃日志，所以在这一点上，我只是想知道是否有其他人遇到过类似的问题以及发生了什么？

该应用程序是一个原生 C++ DirectX 项目，使用 FMOD 库音频以及 Windows Phone 8 的 SQLite。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-10T07:33:55.110

首先尝试在不同设备上使用不同的文化/语言设置从商店测试您的应用程序。由于不同的分隔符、日期时间格式等，从文件解析失败时，这是一个常见错误。
另一个常见原因 - 清单中缺少功能。
第三个原因，这导致许多应用程序出现问题 - 他们在第一次启动时尝试从 Internet 下载某些内容，但连接不可用。
而且因为您提到您有本机 DirectX 应用程序，请尝试以与从商店部署相同的方式编译您的应用程序。遗憾的是，我现在找不到如何操作的链接...
编辑：找到它：
[如何测试 Windows Phone 8 应用程序的零售版本](http://msdn.microsoft.com/en-us/library/windowsphone/develop/jj585401%28v=vs.105%29.aspx)

# php - 在 for 循环中创建 Json 数组 - php

> ID：14251490
> 
> 赞同：0
> 
> 时间：2013-01-10T05:39:34.637
> 
> 标签：php, loops, arrays

```
<?php
include '../connection.php';

$sql="SELECT userid,name,batch FROM dbusers";
$results=mysql_query($sql) or die("Cannot execute query");
$count=mysql_num_rows($results);
$arr=array();
for($i=0; $i < $count; $i++){
$rows=mysql_fetch_array($results);
//What to put here ?
}
json_encode($arr);

?> 
```

这是我的 php 代码。我想问在 for 循环中放什么，以便我可以在 php 中创建一个数组数组。内部数组将有用户 ID、名称和批次作为其元素。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-10T05:43:48.473

> 放什么在这里？

`$arr[] = $rows;`

完整代码

```
<?php
include '../connection.php';

$sql="SELECT userid,name,batch FROM dbusers";
$results=mysql_query($sql) or die("Cannot execute query");
$count=mysql_num_rows($results);
$arr=array();
for($i=0; $i < $count; $i++){
    $rows=mysql_fetch_array($results, MYSQL_ASSOC);//use MYSQL_ASSOC so you wouldn't have duplicate data
    $arr[] = $rows;
}
$json = json_encode($arr);

?> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-10T05:44:33.610

```
<?php
include '../connection.php';

$sql     = "SELECT userid,name,batch FROM dbusers";
$results = mysql_query($sql) or die("Cannot execute query");
$arr     = array();

while($rows = mysql_fetch_assoc($results)){
    $arr[] = $row;
}
echo json_encode($arr);

?> 
```

尝试这个。

# jquery - jQuery Validate：表单有效后如何发布（）？

> ID：14251491
> 
> 赞同：2
> 
> 时间：2013-01-10T05:39:52.357
> 
> 标签：jquery, jquery-validate

这有效：

```
 $('#contestform').on('submit', function(e) {
     $.post( '/', $(this).serialize(), function(response){
    console.log(response);
},'json' );
    e.preventDefault();
}); 
```

这有效

```
jQuery("#contestform").validate(); 
```

但我不知道如何让他们一起工作。我希望只有在单击提交并且表单有效时才会发生来自顶部代码的内容。我已经尝试过来自[http://docs.jquery.com/Plugins/Validation/validate#toptions](http://docs.jquery.com/Plugins/Validation/validate#toptions)的东西，但我想我不明白。我让它有点工作，但你必须点击两次提交。

有一件事是，如果我能提供帮助，我想将 post() 内容保存在一个单独的函数中，因为这两个部分将来自 php.ini 的不同部分。

**编辑1** 试过这个，不工作（在表格下）（不工作，我的意思是它正在正常提交，而不是ajax）

```
function postForm(e) {
     jQuery.post( '/', $(this).serialize(),   function(response){
    console.log(response);
},'json' );
    e.preventDefault();
}
jQuery("#contestform").validate({submitHandler: postForm}); 
```

**edit2** 好吧，我得到了它与 jQuery.Form 插件 [http://www.malsup.com/jquery/form/#ajaxSubmit](http://www.malsup.com/jquery/form/#ajaxSubmit) 仍然，我想知道我在上面的代码中做错了什么。

```
function  showResponse(responseText, statusText, xhr, $form){
    console.log(responseText);
}
var soptions = { 
        success: showResponse ,
        dataType: 'json'
        };

jQuery("#contestform").validate({
   submitHandler: function(form) {
     jQuery(form).ajaxSubmit(soptions);
        return false; // always return false to prevent standard browser submit and page navigation 
   }
}); 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-10T15:44:57.680

submitHandler 函数的参数不是 jQuery 事件，它是表单 DOM 对象。所以

1.  当您调用 e.preventDefault(); 时，您的代码将引发错误；
2.  调用 $(form).serialize()，而不是 $(this).serialize()

让你的 edit1 工作做这个

```
<script>
$(function () {
    $("form").validate({
        submitHandler: function (form) {
            $.post('/your_url/',
            $(form).serialize(), function (response) {
                console.log(response);
            }, 'json');
        } 
    });
});
</script> 
```

或将 postForm 函数分开

```
<script>
$(function () {

    function postForm(form) {
        $.post('/your_url/',
            $(form).serialize(),
            function (response) { console.log(response); }, 
            'json');
    }

    jQuery("form").validate({
        submitHandler : postForm
    });
});
</script> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-10T05:43:27.317

```
function postForm (e) {
    $.post(...);
}
jQuery("#contestform").validate({submitHandler: postForm}); 
```

# javascript - 谷歌地图：填充相关标记

> ID：14251495
> 
> 赞同：-1
> 
> 时间：2013-01-10T05:40:20.867
> 
> 标签：javascript, php, google-maps, google-maps-api-3, dom-events

我正在一个引入店面和相关员工的网站上工作。我已经成功地为我的后端填充了店面和相关员工地址的标记（希望它做广告的顾问）。

我可以同时填充两个标记，但我想做的是有一个事件监听器；当用户单击店面标记时，为与该商店相关的员工设置的标记将填充到地图上。

有没有人完成过这样的壮举？此任务完成后，我将分享适当的代码。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-10T06:35:36.010

首先，每家商店都需要有一系列员工。

单击商店标记时，您将执行以下操作：

1.  清除地图上所有当前的员工标记。
2.  遍历与该商店关联的员工数组。
3.  为每个员工创建一个新标记并将其添加到地图中。
4.  将每个新标记存储在员工标记数组中，以便以后轻松删除。

# vim - gVim 和 gVim easy 有什么区别？

> ID：14251496
> 
> 赞同：20
> 
> 时间：2013-01-10T05:40:20.697
> 
> 标签：vim

这个问题是不言自明的，但我还没有找到一个资源来解释一个小时的搜索后有什么区别。在两者都进行了一些研究之后，gVim 和 gVim easy 似乎是相同的。

* * *

## 回答 #1

> 赞同：26
> 
> 时间：2013-01-10T05:45:53.847

Gvim easy 启动并锁定在插入模式（您键入的每个字符都像简单的记事本一样打印）。

标准 gvim 以正常模式启动，您必须像所有其他 vim 一样在正常/插入之间切换。

从帮助：

```
 Easy mode.  Implied for |evim| and |eview|.  Starts with
    'insertmode' set and behaves like a click-and-type editor.
    This sources the script $VIMRUNTIME/evim.vim.  Mappings are
    set up to work like most click-and-type editors, see
    |evim-keys|.  The GUI is started when available.
    {not in Vi} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-10T05:49:13.873

> 与 gVim 一起安装的 gVim-Easy 具有普通 gVim 的所有功能，但缺少模式。这对于初学者和不想或没有时间学习如何使用 gVim 的人特别有用。用户可以从 gVim 卓越的语法突出显示和自动缩进中受益，而不必为了编辑简单的文档而学习通常被认为很复杂的 gVim 命令集。建议本教程的读者至少尝试学习如何在普通模式下使用 gVim，学习曲线很陡峭，但是这带来的速度和可用性方面的好处是值得投资的。

[在这里](http://supportweb.cs.bham.ac.uk/documentation/tutorials/docsystem/build/tutorials/gvim/gvim.html#gVim-Installation-EasygVim)阅读

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2020-10-21T03:33:27.587

*   gVim Easy：（`gvim.exe -y` 传递参数`y`）
*   虚拟机：`gvim.exe`

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2016-01-15T02:01:18.680

似乎插入和替换是可用的模式，并且缺少命令模式。乍一看，它似乎失去了使用击键保存文档的能力 - 文件菜单仅显示“：w”用于保存并且没有命令模式，命令根本不存在。然而没有显示的是 Alt-F 后跟 S - 这有效，虽然也缺少正在写入文件的状态行确认。

# javascript - 简单变形星星 -> 圆形画布

> ID：14251498
> 
> 赞同：2
> 
> 时间：2013-01-10T05:40:29.580
> 
> 标签：javascript, canvas

我只是想知道是否可以仅使用画布在两个形状之间进行转换。

即：给一个圈子加星。

这就是我到目前为止所拥有的：

```
var canvas, 
    ctx,
    length = 15;

canvas = document.getElementById("star");
ctx = canvas.getContext("2d");

ctx.translate(30, 30);
ctx.rotate((Math.PI * 1 / 10));

for (var i = 5; i--;) {
    ctx.lineTo(0, length);
    ctx.translate(0, length);
    ctx.rotate((Math.PI * 2 / 10));
    ctx.lineTo(0, -length);
    ctx.translate(0, -length);
    ctx.rotate(-(Math.PI * 6 / 10));
}

ctx.lineTo(0, length);
ctx.closePath();
ctx.fill(); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-10T09:28:19.193

这是纯画布中的基本过渡。使用弧线代替线作为练习留给读者；）

[http://jsfiddle.net/pD9CM/](http://jsfiddle.net/pD9CM/)

```
var canvas, 
    ctx,
    length = 15;

canvas = document.getElementById("star");
ctx = canvas.getContext("2d");

var max = 50;
var inset = 0;
var direction = +1;

function draw() {

    ctx.clearRect(0, 0, 300, 300);
    ctx.beginPath();

    var i = 11
    while (i--) {
      var angle = (i/10) * Math.PI * 2;
      var distance = (i % 2 === 0) ? (max - inset) : max;
      var pt = point(angle, distance);
      if (i === 0) ctx.moveTo(pt.x + 150, pt.y + 150);
      else ctx.lineTo(pt.x + 150, pt.y + 150);
    }
    ctx.fill();  

    if (inset < 0 || inset > 30) direction = -direction;
    inset += direction;
}

function point(angle, distance) {
  return {
    x: Math.cos(angle) * distance,
    y: Math.sin(angle) * distance
  };
}

setInterval(draw, 20); 
```

# api - RESTful 设计：区分取消发布和删除

> ID：14251502
> 
> 赞同：-1
> 
> 时间：2013-01-10T05:40:51.950
> 
> 标签：api, rest, restful-architecture

设计一个 API 并寻求一些建议。

下面是动作：

*   `publish`：发布文档（POST）
*   `update`：更新文档（PUT 或 PATCH）
*   `unpublish`: 把文件拿下来，以后再放（？）
*   `delete`：完全删除文档（DELETE）

有任何想法吗？

谢谢！马特

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-10T06:16:28.553

*   更新和删除非常明显，就像您拥有它们一样。

*   您认为“发布”与“创建”相同吗？“发布”可能意味着获取您创建的文档并使其公开可见。一种思考方式是，您只能创建一次文档，但是您可以多次发布和取消发布它。

您可能会考虑文档的生命周期，以及在“取消发布”之后可以使用它做什么。这有点取决于您想要的序列：“创建（发布？）...取消发布...发布...取消发布...删除”。如果发布/取消发布与创建/删除没有任何不同，那么您可以删除它们并完全避免复杂性。

*   纯粹的 REST 答案是在表示中提供一个属性： { ... "published": true ... } 并让客户端 PUT 更新以更改该状态。如果该状态发生变化，它会触发发布或取消发布文档所需的任何处理。

*   但是，我所在的团队对此感到不舒服，因为公开和技术上可能会对发布文档产生重大影响。因此他们选择将操作视为 POST “数据处理”请求（如 HTTP 规范所提供的），并提供一个 POST URL 来“发布”和“取消发布”文档。

*   还有一些其他的选择。就像将 POST 作为附加动词，并提供一个“已发布列表”URI，允许您将文档添加到已发布列表，执行所需的任何处理：

    POST ht_p://.../documents { 文档 }

    POST ht_p://.../published-documents { id= }

    删除 ht_p://.../published-documents/{id}

    删除 ht_p://.../documents/{id}

编辑：因为 stackoverflow 抱怨而破坏了 pretentend URI。;)

# ruby - 在 Padrino 中插入中间件

> ID：14251507
> 
> 赞同：2
> 
> 时间：2013-01-10T05:41:13.180
> 
> 标签：ruby, thin, padrino

我有一个骨架 Padrino (0.10.7) 项目，几乎没有代码。我正在尝试在 boot.rb 中插入一个中间件：

```
##
# Add your after (RE)load hooks here
#
Padrino.after_load do
    DataMapper.finalize
    Padrino.use MyClass      #Line (1) added by me
end

Padrino.load! 
```

在我的课堂中，

```
class MyClass
    def initialize arg
    @arg = arg
    end
end 
```

如果我尝试使用瘦服务器（1.5.x），我会得到这个异常（仅当我插入中间件时）：

```
Uncaught exception: app required 
```

同样适用于内置 webrick。

关于如何使它与薄一起工作的任何想法？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-10T09:02:08.250

没关系，找到了。基本上，您还需要定义调用（env）方法，否则它甚至不会启动服务器。这是中间件的最低要求：

```
class MyClass
    def initialize app
        @app = app
    end
    def call env
        @app.call env
    end
end 
```

# java - R树库+如何运行

> ID：14251509
> 
> 赞同：1
> 
> 时间：2013-01-10T05:41:18.020
> 
> 标签：java, r

我有一个简单的问题

我想使用 java netbeans 运行 R 树代码（用于测试）

现在我找到了这个 R 树库[https://sourceforge.net/projects/jsi/](https://sourceforge.net/projects/jsi/)

我能够添加库。但是然后呢？？我如何实际运行查询和插入..等？

谁能帮我解决这个问题。我是初学者

请帮忙

谢谢大家

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-10T06:39:45.920

这是文件[NearestN.java](https://github.com/aled/jsi-examples/blob/master/src/main/java/net/sourceforge/jsi/examples/NearestN.java)的一个片段还有[Contains.java](https://github.com/aled/jsi-examples/blob/master/src/main/java/net/sourceforge/jsi/examples/Contains.java)

```
package net.sourceforge.jsi.examples;

import org.slf4j.*;
import com.infomatiq.jsi.*;
import gnu.trove.*;

import com.infomatiq.jsi.Rectangle;
import com.infomatiq.jsi.rtree.RTree;

public class NearestN {
  private static final Logger log = LoggerFactory.getLogger(NearestN.class);

  public static void main(String[] args) {
    new NearestN().run();
  }

  private class NullProc implements TIntProcedure {
    public boolean execute(int i) {
      return true;
    }
  }

  private void run() {
    int rowCount = 1000;
    int columnCount = 1000;
    int count = rowCount * columnCount;
    long start, end;

    log.info("Creating " + count + " rectangles");
    final Rectangle[] rects = new Rectangle[count];
    int id = 0;
    for (int row = 0; row < rowCount; row++)
      for (int column = 0; column < rowCount; column++) {
        rects[id++] = new Rectangle(row, column, row+0.5f, column+0.5f); //
    }

    log.info("Indexing " + count + " rectangles");
    start = System.currentTimeMillis();
    SpatialIndex si = new RTree();
    si.init(null);
    for (id=0; id < count; id++) {
      si.add(rects[id], id);
    }

    final Point p = new Point(36.3f, 84.3f);
    log.info("Querying for the nearest 3 rectangles to " + p);
    si.nearestN(p, new TIntProcedure() {
      public boolean execute(int i) {
        log.info("Rectangle " + i + " " + rects[i] + ", distance=" + rects[i].distance(p));
        return true;
      }
    }, 3, Float.MAX_VALUE);
} 
```

希望对您有所帮助。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-10T22:56:37.037

moskito-x 发布的代码来自托管在 github 上的 jsi-examples 存储库。

您应该能够使用以下命令（在 linux 上）运行示例：

```
git clone https://github.com/aled/jsi-examples.git
cd jsi-examples
mvn package
cd target
unzip jsi-examples-1.0.0-SNAPSHOT-jar-with-dependencies.jar
java -cp .:./classes net.sourceforge.jsi.examples.Contains 
```

源代码应该是不言自明的。

阿莱德。

# css - 不透明度和通过 alpha 通道（rgba）的不透明度有什么区别？

> ID：14251511
> 
> 赞同：22
> 
> 时间：2013-01-10T05:41:26.840
> 
> 标签：css, opacity, rgba

```
div { background-color: rgb(255,0,0); opacity: 1; }

div { background-color: rgba(255,0,0,1); } 
```

以上两者有什么区别？

* * *

## 回答 #1

> 赞同：21
> 
> 时间：2013-01-10T05:43:40.517

Opacity 设置元素及其所有子元素的不透明度值；而 RGBA 仅为单个声明设置不透明度值。

这在这里得到了很好的解释。[http://www.css3.info/introduction-opacity-rgba/](http://www.css3.info/introduction-opacity-rgba/)

* * *

## 回答 #2

> 赞同：9
> 
> 时间：2014-03-14T07:28:23.897

**Opacity ：** opacity 属性设置元素的不透明度级别。（为元素设置不透明度使整个元素透明，包括其内容。）

*定义不透明度*：

```
element{opacity:0.5} //makes the element and it's content 50% transparent 
```

> opacity-level 描述了透明度级别，其中 1 完全不透明，0.5 表示 50% 透明，0 表示完全透明。

**Alpha 通道**RGBA 颜色值是具有 Alpha 通道的 RGB 颜色值的扩展 - 指定对象的不透明度。 `Background : rgba (Red,Green,Blue,Opacity)`（设置元素的 rgba 只会使元素背景透明，使其内容保持原样。）

*定义背景 rgba：背景*：

```
element{
   background:rgba(40, 41, 42, 0.5);
} 
```

> RGBA 颜色值通过以下方式指定：rgba(red, green, blue, alpha)。alpha 参数是一个介于 0.0（完全透明）和 1.0（完全不透明）之间的数字。

要将颜色的十六进制值转换为 rgb：[这里](http://www.javascripter.net/faq/hextorgb.htm)

**更多信息：**

> IE9+、Firefox 3+、Chrome、Safari 和 Opera 10+ 支持 RGBA 颜色值。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2013-01-10T05:47:35.233

当您使用 alpha 时，您只是为 div 的特定属性设置不透明度。因此，如果您将 alpha 值设置为 0.5，则只有背景会略微透明

但是，当您将不透明度设置为 0.5 时，无论 div 中的元素具有什么 alpha 值，整个 div 和其中的所有内容都将保持略微透明。

在不透明度设置为 0.5 的 div 中，元素将处于最大“.5”不透明状态（当其 alpha 值设置为 1 时）。如果它的 alpha 值设置为 0.5，透明效果将复合，它实际上将类似于“.25”透明。不确定具体数字。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2021-12-30T12:39:39.607

大多数答案都很好。让我补充一点：

**Alpha 通道**：指定为 CSS 属性的值。就像在 RGB 颜色的一部分中一样。多次与`background-color`CSS 属性一起使用。

**不透明度**：元素的 CSS 属性。影响整个元素及其内容。

这个来自 MDN 的示例（在 Web 开发的可靠来源中）在这里很好地解释了这一点，并使这一点变得非常清楚。

[https://developer.mozilla.org/en-US/docs/Learn/CSS/Howto/Make_box_transparent](https://developer.mozilla.org/en-US/docs/Learn/CSS/Howto/Make_box_transparent)

# java - 寻找数字的排列

> ID：14251512
> 
> 赞同：-2
> 
> 时间：2013-01-10T05:41:28.303
> 
> 标签：java, python, algorithm

我需要一种可以找到数字序列组合的算法（最好是Java）。这是我想要实现的示例。

假设给定的数字序列是：1 2 3

我期望输出是：

```
1 2 3
1 3 2
2 1 3
2 3 1
3 1 2
3 2 1
1 2
1 3
2 1
2 3
3 1
3 2
1
2
3 
```

我记得我之前在stackover flow中搜索过这个，我找到了答案，但这就像2年前一样。现在我正在做一个项目，我再次需要那个算法。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-10T05:51:51.990

除非你想重新发明轮子，否则 itertools.permutation 会做你想要的

```
num = [1, 2, 3]
from itertools import permutations, chain
perm = chain(*(permutations(num, n) for n in range(len(num),0,-1)))
print '\n'.join(' '.join(map(str,e)) for e in perm)

1 2 3
1 3 2
2 1 3
2 3 1
3 1 2
3 2 1
1 2
1 3
2 1
2 3
3 1
3 2
1
2
3 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-10T05:53:17.620

Python 通常被称为“*包含电池*”，这是有充分理由的。

`permutations`在`itertools`模块中可用。

```
>>> from itertools import permutations
>>>
>>> l = [1,2,3]
>>> all_permutations = []
>>> for i in range(2, len(l) + 1):
...     all_permutations.extend(list(permutations(l, i)))
...
>>> all_permutations.extend(l)
>>> all_permutations
[(1, 2), (1, 3), (2, 1), (2, 3), (3, 1), (3, 2), (1, 2, 3), (1, 3, 2), (2, 1, 3), (2, 3, 1), (3, 1, 2), (3, 2, 1), 1, 2, 3] 
```

# mongodb - Mongodb - 如何通过spring应用添加数据库用户

> ID：14251515
> 
> 赞同：0
> 
> 时间：2013-01-10T05:41:46.163
> 
> 标签：mongodb, spring-data-mongodb

我想在 mongodb 中实现数据库身份验证。

为了做到这一点，我发现我需要首先创建一个管理员用户，然后通过 mongodb 客户端 shell（手动或使用 javascript 文件）为我的每个数据库创建单独的用户。

我想知道是否可以从 spring 应用程序本身将用户添加到单个数据库，但没有得到任何有用的指针来执行此操作。是不是这种方法是错误的，因为如果可能的话，应用程序将始终能够访问数据库，因为它本身正在创建用户，但外部访问仍然会被阻止。

请让我知道如何实现这一点，或者它是否是不正确的方法。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-20T11:57:19.717

通过 MongoShell添加[普通](http://docs.mongodb.org/manual/tutorial/control-access-to-mongodb-with-authentication/#add-a-normal-user-to-a-database)用户后，您可以通过应用程序连接并创建普通用户或只读用户。

请注意，普通用户也可以添加用户，因此您的应用程序添加的用户可能需要关闭为只读用户，具体取决于您的用例和需求。

在 MongoShell 中，添加只读用户可以通过

```
use myAppDB
db.addUser("JohnSmith", "CheddarCheese", true) 
```

# c# - 如何在母版页内的用户控件中获取内容页面名称？

> ID：14251518
> 
> 赞同：3
> 
> 时间：2013-01-10T05:42:19.330
> 
> 标签：c#, asp.net, .net, vb.net

我在母版页中有一个用户控件，我需要在用户控件中获取内容页面的名称（例如 Home.aspx）。不幸的是，我不知道该怎么做。请指导和帮助我。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-10T05:46:28.823

在 MasterPage 的 Page_Load() 事件中。

```
protected void Page_Load(object sender, EventArgs e)
    {
        if (!IsPostBack)
        {

              string strPage = Page.AppRelativeVirtualPath;

        }

    } 
```

它将返回子页面的虚拟路径。

例如：~/Default.aspx

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-10T05:47:16.930

尝试使用[Page.AppRelativeVirtualPath](http://msdn.microsoft.com/en-us/library/system.web.ui.templatecontrol.apprelativevirtualpath.aspx)属性 - 您可以从虚拟路径中提取页面文件名。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-10T05:56:26.777

您可以使用 Page.Title 属性。在页面加载功能中使用它

```
string Title = Page.Title; 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-10T05:46:02.593

在返回当前页面的主页面或基本页面中添加一个属性（例如 CurrentPage），并使用用户控件从用户控件中引用它

```
 var page ='<%=CurrentPage%>' 
```

# php - 在不重新加载页面的情况下填充下拉框

> ID：14251523
> 
> 赞同：0
> 
> 时间：2013-01-10T05:42:27.880
> 
> 标签：php, javascript, jquery, html, auto-populate

这周我开始学习 PHP/HTML，因为我的公司需要一个小工具来返回基于邮政编码的郊区列表。我的知识非常有限，但我已经能够让它完全按照我想要的方式工作。除了 onchange/onblur，它会重新加载整个页面。我似乎无法解决或找到仅重新加载下拉框的方法。从互联网搜索看来，Jquery 或 Javascript 将是唯一的方法。但是我找不到与我的需求足够接近的示例/教程。

这是代码。基本上，您填写文本输入，然后单击将邮政编码放入 API，然后以 JSON 格式返回所有相应的郊区。然后由 JSON 数据填充一个下拉框。

非常感谢您的帮助！

```
<?php
//Turn data from user entry screen into variables
$pcode = $_GET["pcode"];
//Load API key and API URL
include 'api.php';

//Initializing curl
$ch = curl_init($url);
//Setting curl options
curl_setopt ($ch, CURLOPT_RETURNTRANSFER, 1);
//Getting results
$api_result = curl_exec($ch);
//Close Curl
curl_close($ch); 

//Place API call results into $data variable
$suburb_data = json_decode($api_result, TRUE);

//Display JSON Data - Comment out in production
//var_export($suburb_data);

//Turn suburb list array in a variable
$suburb_list = ($suburb_data['result']);

//Count the amount  of results
//$suburb_count = count($suburb_list);
?>

<form method="get">
  <table width="308" border="0">
    <tr>
      <td width="95">Postcode:</td>
      <td width="98"><label>
        <input name="pcode" type="text" id="pcode" onblur="this.form.submit()" style="width: 40px;"onchange='this.form.submit()' value="<?php echo htmlspecialchars($_GET['pcode']); ?>" />
      </label></td>
      <td width="88"></td>
    </tr>
    <tr>
      <td>Suburb:</td>
      <td><label>
<?php
echo'<select name="city">';
//Loop through the array "results" and find all values for "Town"
foreach ($suburb_list as $towns) {
    echo '<option value="'.$towns['Town'].'">'.$towns['Town'].'</option>';;
}
echo '</select>';

?>
      </label></td>
      <td></td>
    </tr>
    <tr>
      <td><label>
        <input type="submit" name="button" id="button" value="Submit" />
      </label></td>
      <td></td>
      <td></td>
    </tr>
  </table>

</form> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-10T06:08:45.553

使用[ajax](http://api.jquery.com/jQuery.ajax/)，这将允许您在不重新加载页面的情况下从服务器发送和检索数据。

# android - 异步加载联系人列表中的图像

> ID：14251525
> 
> 赞同：0
> 
> 时间：2013-01-10T05:42:28.133
> 
> 标签：android, listview, android-listview, android-asynctask, android-contacts

嗨，我找不到在异步模式下加载联系人图片的方法，我的代码在高端手机中似乎没问题，但内存和处理器较少的手机速度很慢这是我在活动中的代码，我`onScrollchanged`用来避免检索联系人图片滚动

```
mAdapter = new DialerContactsAdapter(contactos,getActivity());
            listaContactos.setAdapter(mAdapter);
            listaContactos.setFastScrollEnabled(true);
            listaContactos.setOnScrollListener(new OnScrollListener() {
                @Override
                public void onScrollStateChanged(AbsListView view, int scrollState) {
                    switch (scrollState) {
                    case OnScrollListener.SCROLL_STATE_IDLE:
                    mAdapter.mBusy = false;
                    mAdapter.notifyDataSetChanged();
                    break;
                    case OnScrollListener.SCROLL_STATE_TOUCH_SCROLL:
                        mAdapter.mBusy = false;
                        mAdapter.notifyDataSetChanged();
                    break;
                    case OnScrollListener.SCROLL_STATE_FLING:
                        mAdapter.mBusy = true;
                    break;
                    }
                }

                @Override
                public void onScroll(AbsListView view, int firstVisibleItem,
                        int visibleItemCount, int totalItemCount) {
                    // TODO Auto-generated method stub

                }
            }); 
```

这是我的自定义适配器，我“总是从数据库加载图像并调整大小，我保存到 LruCache 类

```
@Override  
  public View getView(int position, View convertView, ViewGroup parent) { 
        ViewHolder holder =null; 
      View v = convertView;
      if (v == null) {
          LayoutInflater vi = (LayoutInflater)context.getSystemService(Context.LAYOUT_INFLATER_SERVICE);
          v = vi.inflate(R.layout.dialer_contact_list, null);
          holder = new ViewHolder();
          holder.Picture =  (ImageView) v.findViewById(R.id.imgContactDialer);
          holder.Desc =(TextView) v.findViewById(R.id.txtContactNameDialer);
          holder.phone =(TextView)v.findViewById(R.id.txtContactNumberDialer);
          v.setTag(holder);
      }else
      {
          holder = (ViewHolder)v.getTag();
      }
      final ViewHolder holder2 = holder;
      final ContactInfo ci = (ContactInfo) getItem(position);
      holder2.Picture.setOnClickListener(new View.OnClickListener() {
        @Override
        public void onClick(View v) {
            Intent contact = new Intent(context, ShowSingleContactFragment.class);
            contact.putExtra("id", ci.get_id());
            contact.putExtra("name", ci.getDisplayName());
            context.startActivity(contact);
        }
    });
      //genera PlaceHolder
      Bitmap cacheImg =  cache.getBitmapFromMemCache(ci.get_id());
      if(cacheImg==null)
      {
          if(!mBusy)
          {
             new Thread(new Runnable() {
                public void run() {

                    final Bitmap photo= Contacts.loadContactPhoto(ci.get_id(),context.getBaseContext(),context.getResources().getInteger(R.integer.contact_picture_size));
                    cache.addBitmapToMemoryCache(ci.get_id(), photo);
                    holder2.Picture.post(new Runnable() {
                    public void run() {
                        holder2.Picture.setImageBitmap(photo);
                    }
                  });
                }
              }).start();
          }else
          {
              holder.Picture.setImageResource(R.drawable.ic_contact_picture);
          }
      }else
      {
          holder2.Picture.setImageBitmap(cacheImg);
      }
} 
```

这是我的 BitmapCache 类

```
public class BitmapCache {
    public  LruCache<String, Bitmap> mMemoryCache;
    public BitmapCache(Context mContext)
    {
         final int memClass = ((ActivityManager) mContext.getSystemService(
                    Context.ACTIVITY_SERVICE)).getMemoryClass();

            // Use 1/8th of the available memory for this memory cache.
            final int cacheSize = 1024 * 1024 * memClass / 8;
            mMemoryCache = new LruCache <String, Bitmap>(cacheSize) {
                @Override
                protected int sizeOf(String key, Bitmap bitmap) {
                    // The cache size will be measured in bytes rather than number of items.
                    return getByteCount(bitmap);
                }
            };
    }
    @SuppressLint("NewApi")
    private int getByteCount(Bitmap bitmap)
    {
        if(Utils.isHoneyComb())
        {
            return bitmap.getByteCount();

        }else
        {
            return bitmap.getRowBytes() * bitmap.getHeight();
        }
    }
    public void addBitmapToMemoryCache(String key, Bitmap bitmap) {
        if (getBitmapFromMemCache(key) == null) {
            mMemoryCache.put(key, bitmap);
        }
    }

    public Bitmap getBitmapFromMemCache(String key) {
        return mMemoryCache.get(key);
    }

} 
```

我找不到股票 android 联系人列表，有人可以帮我吗？多谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-10T09:34:31.993

正如@Janmejoy 所说，惰性加载器是更好的选择，至少我是这么认为的。因为几周前我遇到了同样的[问题。](https://stackoverflow.com/questions/14027888/slow-scrolling-when-using-baseadapter-and-imageview-helper-for-downloading-image)我所做的是使用 Lazy loader 和 ViewHolder。首先，我在加载小图像时没有任何问题。但是，我发现较大的图像似乎没有正确缩放，并且显示效果很差。然后我对 Lazy loader 进行了一些更改，以便它可以正确缩放图像。我的缩放代码基于[此](https://github.com/koush/UrlImageViewHelper)

在 ImageLoader 类中，我定义了一个变量`DisplayMetrics disMetrics;`，并在构造函数中执行了以下操作：`disMetrics = new DisplayMetrics();`

下一步是对`decodeFile(File file)`方法进行一些更改：

```
//decodes image and scales it to reduce memory consumption
private Bitmap decodeFile(File f){
    try {
        //decode image size
        BitmapFactory.Options o = new BitmapFactory.Options();
        o.inJustDecodeBounds = true;
        FileInputStream stream1=new FileInputStream(f);
        BitmapFactory.decodeStream(stream1,null,o);
        stream1.close();

                   // my custom scaling
        int tw = disMetrics.widthPixels;
        int th = disMetrics.heightPixels;
        int targetWidth = tw <= 0 ? Integer.MAX_VALUE : tw;
        int targetHeight = th <= 0 ? Integer.MAX_VALUE : th;

        int scale = 0;
        while ((o.outWidth >> scale) > targetWidth || (o.outHeight >> scale) > targetHeight) {
            scale++;
        }
                 // native scaling
        //Find the correct scale value. It should be the power of 2.
        //final int REQUIRED_SIZE=70;
        //int width_tmp=o.outWidth, height_tmp=o.outHeight;
        //int scale=1;
        //while(true){
        //  if(width_tmp/2<REQUIRED_SIZE || height_tmp/2<REQUIRED_SIZE)
        //      break;
        //  width_tmp/=2;
        //  height_tmp/=2;
        //  scale*=2;
        //}

        //decode with inSampleSize
        BitmapFactory.Options o2 = new BitmapFactory.Options();
        o2.inSampleSize=scale;
        o2.inSampleSize = 1 << scale;
        FileInputStream stream2=new FileInputStream(f);
        Bitmap bitmap=BitmapFactory.decodeStream(stream2, null, o2);
        stream2.close();
        return bitmap;
    } catch (FileNotFoundException e) {
    }
    catch (IOException e) {
        e.printStackTrace();
    }
    return null;
} 
```

最终，我得到了我想要的结果。我希望它也能帮助你。

干杯。

# rest - Access-Control-Allow-Origin 不允许来源 http://127.0.0.1:8888

> ID：14251529
> 
> 赞同：1
> 
> 时间：2013-01-10T05:42:50.020
> 
> 标签：rest, gwt

我在尝试使用 GWT 客户端访问 REST Web 服务时遇到了这个问题。我检查了 chrome 页面，然后我从控制台收到以下错误

```
XMLHttpRequest cannot load http://localhost:8080/RestWeb/webresources/generic/get. Origin http://127.0.0.1:8888 is not allowed by Access-Control-Allow-Origin. 
```

以下是我的客户端代码

```
public void onModuleLoad() {

    RequestBuilder builder = new RequestBuilder(RequestBuilder.GET,
            "http://localhost:8080/RestWeb/webresources/generic/get");

    builder.setCallback(new RequestCallback() {

        @Override
        public void onResponseReceived(Request request, Response response) {

            Window.alert("onResponseReceived");

        }

        @Override
        public void onError(Request request, Throwable exception) {

        }
    });
    builder.setHeader("Content-Type",
            "text/plain,application/json,text/xml");

    builder.setHeader("Access-Control-Allow-Methods",
            "PUT, GET, POST, DELETE, OPTIONS");
    builder.setHeader("Access-Control-Allow-Headers", "Content-Type");
    builder.setHeader("Access-Control-Allow-Origin", "http://127.0.0.1:8888");
try {
            builder.send();
        } catch (RequestException e) {
            // TODO Auto-generated catch block
            e.printStackTrace();
        }
    }
} 
```

我的服务器端代码是：

```
@Path("generic")
@WebService
public class GenericResource {

@Context
private UriInfo context;
@Context
private HttpServletResponse response;
private String content = "content";

/**
 * Creates a new instance of GenericResource
 */
public GenericResource() {
}

@GET

@Path("/get")
@Produces("application/json,text/plain")
public String getXml() {
    System.out.println("GET");
    //response.addHeader(content, content);

    return this.content + " from get method";

}
} 
```

我尝试了不同的方式来获得答案。请帮我。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-10T06:28:31.260

您需要更改服务器代码以支持 CORS。

一种选择是过滤器：

```
public class CorsFilter extends OncePerRequestFilter {

    @Override
    protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain)
            throws ServletException, IOException {
        if (request.getHeader("Access-Control-Request-Method") != null && "OPTIONS".equals(request.getMethod())) {
            // CORS "pre-flight" request
            response.addHeader("Access-Control-Allow-Origin", "*");
            response.addHeader("Access-Control-Allow-Methods", "GET, POST, PUT, DELETE");
            response.addHeader("Access-Control-Allow-Headers", "Content-Type");
            response.addHeader("Access-Control-Max-Age", "1800");//30 min
        }
        filterChain.doFilter(request, response);
    }
} 
```

web.xml 也需要添加以下内容：

```
 <filter>
    <filter-name>cors</filter-name>
    <filter-class>com.xxx.CorsFilter</filter-class>
  </filter>
  <filter-mapping>
    <filter-name>cors</filter-name>
    <url-pattern>/*</url-pattern>
  </filter-mapping> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-06T20:39:54.380

由于这是一个老问题，如果有人今天面临类似的问题 - 他或她可能想考虑使用一个很好的“CORS 过滤器”，以完全透明的方式为您处理所有 CORS 内容。这是[链接](http://software.dzhuvinov.com/cors-filter.html)

# java - 如果我只是为自己编写程序，是否有任何理由使用 Gradle？

> ID：14251530
> 
> 赞同：0
> 
> 时间：2013-01-10T05:42:56.157
> 
> 标签：java, gradle

如果我**不是团队成员，只是为自己编写 JavaFX 和 Android 程序，而**我已经在使用现代 IDE，那么使用 Gradle 有什么好处吗？

我之前的问题因非建设性而被关闭，我相信这是一个合理的问题。谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-10T05:48:11.463

不是说有多少开发人员在工作，你对以下有什么要求吗？

Gradle 可以**自动构建**、**测试**、**发布**、**部署**和更多软件包或其他类型的项目，例如生成的静态网站、生成的文档或其他任何东西

如果您有上述突出显示的任何要求并且项目足够大以至于您不能对 ant 脚本等（或）IDE 提供的构建脚本感到满意，那么您需要 Gradle 类型的工具。如果您只是在学习具有此工具的项目类型，则可能有助于学习这些自动化步骤。此工具不是 Web 项目的强制性工具。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-10T12:31:55.230

您是否还考虑不为自己的代码编写测试？

就个人而言，我将 gradle 用于所有新项目，它可以让你快速进行，特别是如果你坚持使用默认的 src 目录结构，所以它不是开销，只需创建一个简单的 build.gradle 并且你的源代码和测试都被排序。我也使用eclipse，但是让gradle生成项目设置，所以我只需要担心一个地方的jar依赖。

我发现无论你是在做个人项目还是在团队中，养成使用相同工具的习惯要好得多。

# php - PHP 错误：无法跳转到 MySQL 上的第 0 行

> ID：14251532
> 
> 赞同：0
> 
> 时间：2013-01-10T05:43:04.497
> 
> 标签：php, mysql

出于某种原因，PHP 在我的 Web 服务器上引发了错误，但不是在本地：

```
Warning: mysql_result() [function.mysql-result]: Unable to jump to row 0 on MySQL result index 16 in /home/a8576801/public_html/indev/core/functions/users.php on line 79
```

现在，第 79 行有问题的函数是这样的：

```
功能 user_id_from_username($username) {
    $username = sanitize($username);
    return mysql_result(mysql_query("SELECT `user_id` FROM `users` WHERE `user_name` = '$username'"), 0, 'user_id') or die(mysql_error());
}
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-10T05:46:00.003

$username 可能为 NULL。回显用户名并确认有一个与之关联的值。

可能还想查看[无法跳转到 MySQL 结果索引 13 上的第 0](https://stackoverflow.com/questions/2708896/unable-to-jump-to-row-0-on-mysql-result-index-13)行

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-10T06:03:18.353

哇好的对不起大家。我的愚蠢错误。我在错误的文件中调用了该函数。

固定的 ！

# ios - 转换 NSDATA

> ID：14251533
> 
> 赞同：1
> 
> 时间：2013-01-10T05:43:07.587
> 
> 标签：ios, objective-c, ios6

我正在使用 Shuttle Magstripe 阅读器，并将响应转换`[notification object]`为 NSData，然后将其转换为 NSString

```
NSData* data = [notification object];
NSString* response = [[NSString alloc] initWithData: data encoding:NSASCIIStringEncoding]; 
```

但是当我尝试`NSLog(@"RESPONSE: %@", response);`

输出只是`?`关于如何正确处理 Shuttle MagStripe 阅读器的滑动响应的任何想法？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-10T05:54:41.777

试试这种方式，将信息传递为

```
 NSDictionary *userInfo = [NSDictionary dictionaryWithObject:<#yourNSDataObject> forKey:@"pass"];
   [[NSNotificationCenter defaultCenter] postNotificationName:@"myevent" object:nil userInfo:userInfo]; 
```

并在接收器方法上获取对象

```
- (void)receiveEvent:(NSNotification *)notification {
    NSData pass = [[notification userInfo] valueForKey:@"pass"];
} 
```

# c# - 带有 ID 的 MVC 4 脚手架删除问题

> ID：14251549
> 
> 赞同：0
> 
> 时间：2013-01-10T05:45:17.897
> 
> 标签：c#, asp.net-mvc-4, asp.net-mvc-scaffolding

我为删除创建了脚手架删除视图，但它不起作用。调试时我发现它没有将正确的记录 ID 传递给控制器​​。始终将 0 作为 ID 传递，结果是异常（ystem.NullReferenceException 未由用户代码处理 Message=Object reference not set to an instance of an object.）。

但在视图提交按钮中显示正确的 URL 和正确的 ID。

控制器：

```
 public ActionResult DeleteSubject(int id)
    {
        try
        {
            // returns the View
        }
        catch (Exception e)
        {
            // Handle and log  the exception                
        }   
    }

    [HttpPost]
    public ActionResult DeleteSubject(SubjectModel subject)
    {
        try
        {
            // Call methods for delete
        }
        catch (Exception e)
        {
            // Handle and log  the exception 
        }  
    } 
```

看法：

```
 @model LMS.Models.SubjectModel

   // ... form elements go here

   @using (Html.BeginForm()) { 
      <input type="submit" value="Delete" />
   } 
```

使用断点调试 [HttpPost] 方法时，该方法作为参数的对象似乎未使用值初始化。ID 字段显示 0，其他字段显示 null。

致力于重新创建视图、重写控制器方法、更改属性等。但仍然遇到问题。感谢您的意见。

（顺便说一句，为 Create、List 和 Edit 创建了脚手架视图。它们运行良好。）

谢谢，

查图尔

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-10T05:52:48.477

当我发布到表单时，我注意到 id="form" 总是有帮助的。

```
@using (Html.BeginForm("Create", "RunLogEntry", FormMethod.Post, new { id = "form", enctype = "multipart/form-data" }))
    { 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-04-27T09:26:12.880

在 MVC 中，Id 参数的默认方式是在 URL 上而不是在正文上传递，这就是它为 null 的原因。

将 httpPost 删除更改​​为；

```
public ActionResult DeleteSubject(int id, SubjectModel subject) 
```

我也注意到你有`// ... form elements go here`我应该进去的表格。

# c# - 单个对象的多个变换

> ID：14251551
> 
> 赞同：1
> 
> 时间：2013-01-10T05:45:25.557
> 
> 标签：c#, windows-phone-7, xaml

是否有可能对单个对象使用多个转换（即如何使用`ScaleTranform`、`CompositeTransform`和`TranslateTransform`在单个对象上`Ellipse`）。我尝试使用如下两种转换。

```
<Ellipse.RenderTransform>
    <TranslateTransform  x:Name="CoinTransform" Y="0.36" />
    <ScaleTransform x:Name="ScaleCoin" ScaleX="0.336"/>
</Ellipse.RenderTransform> 
```

...但它显示`RenderTransform`了多次设置的错误消息。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-10T06:07:54.230

您可以将不同的变换放在[TransformGroup中](http://msdn.microsoft.com/en-us/library/system.windows.media.transformgroup%28v=vs.95%29.aspx)

所以你的代码看起来像这样：

```
<Ellipse.RenderTransform>
    <TransformGroup>
        <TranslateTransform  x:Name="CoinTransform" Y="0.36" />
        <ScaleTransform x:Name="ScaleCoin" ScaleX="0.336"/>
    </TransformGroup>
</Ellipse.RenderTransform> 
```

# c# - 不同国家/地区的 C# 和当前本地时间

> ID：14251553
> 
> 赞同：7
> 
> 时间：2013-01-10T05:45:50.727
> 
> 标签：c#, date, datetime, cultureinfo

C# 提供了一种通过`DateTime.Now`. 但问题是我的服务器在美国，当我使用时我得到美国时间`DateTime.Now`

由于我的用户来自世界各地，有什么方法可以在 C# 中获取特定国家/地区的当前当地时间？（我有每个用户的语言环境，所以如果我能获得每个语言环境的当前时间，那么我是安全的）

我已经看到了一种[使用时区](https://stackoverflow.com/questions/11066303/how-to-get-current-time-of-different-countries-in-c-sharp)的方法，但是我必须保留时区与国家/地区的参考。

我已经搜索过，这里的大部分问题都是关于将 UTC 时间转换为本地时间，反之亦然。希望有人能够启发我。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-01-10T05:48:03.197

使用 UTC 时间将您的时间保存在您的服务器中`(DateTime.UtcNow)`，然后根据用户时区，您将更改此 UTC 时间。永远不要在数据库中保存本地时间

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-01-10T05:51:21.287

只需查看[TimeZoneInfo](http://msdn.microsoft.com/en-us/library/system.timezoneinfo.aspx)类。您应该能够通过那里转换本地时间和服务器时间，同时保持 DST（夏令时）。

```
DateTimeOffset newTime = TimeZoneInfo.ConvertTime(DateTimeOffset.UtcNow, TimeZoneInfo.FindSystemTimeZoneById("AppTimeZone")); 
```

[您还可以通过伟大的 Jon Skeet Noda Time](http://code.google.com/p/noda-time/)找到一个开源时区实现

# php - 在php中的所需页面中重定向

> ID：14251555
> 
> 赞同：1
> 
> 时间：2013-01-10T05:45:53.483
> 
> 标签：php, header

我有两个脚本`get.php`，`auth.php`我需要`auth.php`在哪里`get.php`，所以这里是重定向语句的处理，`auth.php`即由于某种`header()`原因**不起作用**，如果可以实现这个问题，有什么快速的想法吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-10T05:48:38.547

`header("Location: $URL")`如果您已经通过 some或类似功能发送了标头`echo`，则可能无法正常工作。`print_r`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-10T06:23:36.693

据我了解，您的问题是：

```
header("location:[XYX.PHP]") is not working. 
```

它通常不起作用，因为某些输出已打印在页面上。请用

> ob_start();

在页面的开头。这将启动输出缓冲。并且重定向有效。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-10T05:48:47.337

查看您的网络服务器错误日志，它是否提到“标头已发送”之类的内容？如果是，则意味着您可能在函数调用之前输出了一些*东西*`header()`

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-10T05:58:30.070

**获取.php**

```
<?php include_once("auth.php"); ?> 
```

**授权文件**

使用下面的代码重定向，该代码基于 [http://php.net/manual/en/function.header.php](http://php.net/manual/en/function.header.php)中的示例。

```
<?php header("Location: http://www.stackoverflow.com/"); ?> 
```

如果它仍然不起作用，请确保（就像它在[http://php.net/manual/en/function.header.php](http://php.net/manual/en/function.header.php)上所说的那样）您没有输出任何 html 甚至空格或在调用标题之前（ ） 功能。（也许您的 get.php 页面在包含 auth.php 之前输出了空格或 HTML 标记。）

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-01-10T06:34:21.130

您可以为此任务使用 javascript 函数

echo "window.open(url1, "name1", params);";

# mysql - dbexpress 的 DBxmys.dll 丢失错误

> ID：14251562
> 
> 赞同：1
> 
> 时间：2013-01-10T05:46:32.033
> 
> 标签：mysql, delphi, delphi-xe2, dbexpress

我正在研究 Delphi XE2 和 mysql 和 dbexpress 组件

我有这个代码

```
 StrQu:='select * from mytable'; //my actual query is place here
 DM.SQLQuery1.SQL.Clear;
 DM.SQLQuery1.SQL.Add(StrQu);
 DM.SQLQuery1.open;  //i get the error here 
```

![在此处输入图像描述](../Images/d4ebec898917888fef4bc4322defc337.png)

尽管 Dll 存在`C:\Program Files (x86)\Embarcadero\RAD Studio\9.0`目录，但我也尝试将 dll 复制到`C:\Program Files (x86)\Embarcadero\RAD Studio\9.0\bin`目录中，但同样的错误。有谁知道解决这个问题>？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2014-02-10T17:00:54.193

将 TSQLConnection LibraryName 属性设置为 dbxmys.dll。您可能还需要将 VendorLib 属性设置为其他一些 DLL。您的程序在运行时必须可以访问所有 DLL，例如，将其放在与 *.exe 相同的文件夹中。此外，请确保它们兼容（不要混合使用 32 位和 64 位）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-09-01T00:26:19.733

在您的 delphi 版本中搜索工具>选项>环境变量，因此查看变量路径并将您的 dll 目录“C:\Program Files (x86)\Embarcadero\RAD Studio\9.0\bin”。当我安装 OpenSSH 时，这发生在我身上。我不知道为什么。

# xcode - 在 iOS 6 上选择单元格时如何呈现特定的视图控制器？

> ID：14251563
> 
> 赞同：0
> 
> 时间：2013-01-10T05:46:36.337
> 
> 标签：xcode, ios6

我正在使用 Xcode 4.5.2 和 iOS6。

我有 3 个视图控制器，`FirstViewController`包含动态表视图。
What I want is, when the first row is selected it takes the user to `SecondViewController`, and when the second row is selected to the `ThirdViewController`.

下面是`didSelectRowAtIndexPath`我的代码的方法

```
(void)tableView:(UITableView *)tableView didSelectRowAtIndexPath:(NSIndexPath *)indexPath
{

NSIndexPath *path = indexPath;
NSInteger theInteger = path.row;

switch (theInteger)
{
    case 0:

        //here i wanna present FirstViewController

        break;
    case 1:
        //here i wanna present SecondViewController

        break;

    default:
        break;
  }
} 
```

我不确定这是否是最佳做法，但这就是我所知道的。我希望我说清楚了。

# this - 使用 on() 时如何引用 $(this)

> ID：14251576
> 
> 赞同：1
> 
> 时间：2013-01-10T05:48:06.173
> 
> 标签：this, jquery, jquery-on

我`on()`习惯于模仿`live()`，但终生无法弄清楚如何正确引用`$(this)`，因此它引用了我传入的选择器。这是代码，`$(this)`返回`"body"`而不是`"select"`.

```
$("body").on("change", "select", function(e){
    console.log($(this));
}); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-10T05:49:20.297

试试这个

```
$(e.currentTarget); 
```

e 实际上是事件的事件参数，这就是你想要我相信的。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-10T05:49:23.963

您可以使用[**event.target**](http://api.jquery.com/event.target/)作为事件的来源。

**[现场演示](http://jsfiddle.net/rajaadil/uN7KB/)**

```
$("body").on("change", "select", function(e){
    console.log($(e.target));
}); 
```

# php - RESTful 控制器的 Laravel 路由

> ID：14251582
> 
> 赞同：1
> 
> 时间：2013-01-10T05:48:39.757
> 
> 标签：php, debugging, http-status-code-404, laravel

具有以下控制器：

```
class Admin_Images_Controller extends Admin_Controller
{
    public $restful = true;

    public function __construct()
    {
        parent::__construct();
    }

    public function get_index($id)
    {
        echo $id;
    } 
```

我不明白为什么当我在没有 ID 参数的情况下访问它时它会起作用，因为我得到一个错误说`missing parameter for ...`，但是当我实际上尝试传递一个参数时`http://site/admin/images/12`我得到一个`404`错误。我错过了什么？

我尝试在路线中设置以下内容，也没有成功：

```
Route::any('admin/images', array(
    'as' => 'admin_images',
    'uses' => 'admin.images@index',
));
    //or 
Route::any('admin/images/(:any)', array(
    'as' => 'admin_images',
    'uses' => 'admin.images@index',
)); 
```

我的通配符问题似乎有 90% 发生在我的测试 linux 环境（ubuntu）中。这是我目前正在使用的 routes.php [http://pastebin.com/f86A3Usx](http://pastebin.com/f86A3Usx)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-10T05:58:55.093

可能是您使用了相同的别名（admin_images），并且检查您的订单 - 将更具体的放在第一位，然后越通用，如下所示：

```
Route::any('admin/images/(:any?)', array('uses' => 'admin.images@index')); 
```

已删除别名，只是为了便于阅读。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-10T06:55:57.163

```
Route::get('admin/images/(:any)', 'admin.images@index'); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-11T09:34:23.650

您应该通过传递默认值（如 null/false/1）使 $id 参数成为可选参数

```
public function get_index($id = null)
{
    if($id){ 
        echo $id;
    }else{
        echo "No ID given!";
    }   
} 
```

并在您的路线中使用 (:any?) 。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-01-11T16:46:57.197

**更新路线：**

```
Route::any('admin/images/(:any?)', array(
    'as' => 'admin_images',
    'uses' => 'admin.images@index',
)); 
```

您可以通过组合每个端点的路由来简化路由。通过添加“？” 进入你的第一个参数，这意味着任何东西都可以存在，但不是必须的。所以*/admin/images*和*/admin/images/1234*都被覆盖了。

**更新的控制器：**

```
class Admin_Images_Controller extends Admin_Controller
{
    public $restful = true;

    public function __construct()
    {
        parent::__construct();
    }

    public function get_index($id=null)
    {
        echo $id;
    }

    // ...
} 
```

通过在方法参数中添加“= null”，您现在可以将两个路由都处理到此函数中。在您的方法中对“等于 null”进行简单的检查应该会让您很好地涵盖每个场景。

# c# - 如何配置客户端连接到同一接口但在不同范围内的两个 WCF 服务器端点？

> ID：14251595
> 
> 赞同：1
> 
> 时间：2013-01-10T05:49:22.487
> 
> 标签：c#, .net, wcf

我有一个服务，它以编程方式创建相同接口但在不同范围内的两个 net-tcp 端点（它们在引擎盖下做不同的事情）。通常，当服务按预期运行时，客户端服务根据每个点的范围正确发现这两个点是没有问题的。但是，由于发现不能跨子网工作，所以在测试时，我通常会在我的 app.config 中添加手动配置，以使我的应用能够成功注册端点，即使发现失败（确实如此）。现在如何配置我的 app.config 以便它适用于我的新端点？

```
<?xml  version="1.0"?>
<configuration>
    <system.serviceModel>
        <client>
            <endpoint
                address="net.tcp://myserver:2170/"
                binding="netTcpBinding"
                contract="IMyServiceInterface"
                name="Service1"/>
            <endpoint
                address="net.tcp://myserver:2173/"
                binding="netTcpBinding"
                contract="IMyServiceInterface"
                name="Service2"/>
        </client>
    </system.serviceModel>
</configuration> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-24T16:43:54.300

如果您尝试使用此构造函数动态创建服务客户端怎么办

```
public ServiceClient(System.ServiceModel.Channels.Binding binding, System.ServiceModel.EndpointAddress remoteAddress) 
```

并手动推送不同的设置。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-31T02:27:40.557

不知道你的问题到底是什么。我不明白你为什么要在客户端查看接口，因为行为应该在服务器上定义。根据我的理解，您只需要生成一次客户端类（它由 VS 自动完成）并像这样使用它的构造函数：

```
var remoteAddr = "net.tcp://myserver:2173/";
var client = new MyClient("*",remoteAddr); 
```

在您的 app.config 中只有一个配置，指向某个默认服务器。

# iphone - 在 facebook 中分享 html

> ID：14251597
> 
> 赞同：0
> 
> 时间：2013-01-10T05:49:26.233
> 
> 标签：iphone, ios, objective-c, html, ipad

在我的 iPad 应用程序中，我正在加载 HTML5 页面，我想将这些页面分享到 Facebook。是否可以？我搜索了很多，但找不到任何帮助。我的应用应该支持 iOS5 或更高版本。任何帮助将不胜感激。

我在下面使用来分享图像。

```
 FbGraphFile *graph_file = [[FbGraphFile alloc] initWithImage:picture];
    [variables setObject:graph_file forKey:@"file"];
    [variables setObject:@" image : Shared Via IOS application" forKey:@"message"];
    FbGraphResponse *fb_graph_response = [fbGraph doGraphPost:@"117795728310/photos" withPostVars:variables]; 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-10T06:02:18.360

我有同样的问题，`solution`是`render HTML5 pages`在`UIWebView`它加载`capture image`的时候，然后是`share`.

```
+(UIImage *)imageFromWebView:(UIWebView *)view
{
  // tempframe to reset view size after image was created
  CGRect tmpFrame         = view.frame;

  // set new Frame
  CGRect aFrame               = view.frame;
  aFrame.size.height  = [view sizeThatFits:[[UIScreen mainScreen] bounds].size].height;
  view.frame              = aFrame;

  // do image magic
  UIGraphicsBeginImageContext([view sizeThatFits:[[UIScreen mainScreen] bounds].size]);

  CGContextRef resizedContext = UIGraphicsGetCurrentContext();
  [view.layer renderInContext:resizedContext];
  UIImage *image = UIGraphicsGetImageFromCurrentImageContext();

  UIGraphicsEndImageContext();

  // reset Frame of view to origin
  view.frame = tmpFrame;
  return image;
} 
```

# java - 如何使用 pimefaces 实现会话超时处理？

> ID：14251599
> 
> 赞同：0
> 
> 时间：2013-01-10T05:49:36.263
> 
> 标签：java, jsf, session, primefaces, session-timeout

我正在尝试每 30 分钟为我的应用程序进行一次会话超时处理。我的规范：当用户会话无效后登录失败时，我必须重定向到登录页面。

超时后用户被重定向到注销操作以使会话无效。

我是素人面孔的新手，我已经尝试过，但没有用：

```
<session-config>
    <session-timeout> 1 </session-timeout>

    <error-page>
        <exception-type>javax.faces.application.ViewExpiredException</exception-type>
        <location>faces/login.xhtml</location>
    </error-page>
</session-config> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-31T14:20:31.900

终于得到了我在`p:idleMonitor`这里使用的解决方案。它会在内部照顾

```
<p:idleMonitor timeout="#{login.sessionTimeoutInterval}">
        <p:ajax event="idle" listener="#{login.sessionIdleListener}" /> 
    </p:idleMonitor> 

    <p:confirmDialog  closable="false" id="sessionExpiredDlg" 
                      message="Your session expired."  
                     header="#{msgs['confirmDialog.initiatingDestroyProcess.label']}"
                     severity="alert" widgetVar="sessionExpiredConfirmation" style="z-index: 25000">  

   <p:commandButton id="confirmRouteDel" value="Ok"
                                       oncomplete="sessionExpiredConfirmation.hide()" 
                                       actionListener="#{login.logoutAction}"/> 
```

Java方法：

```
public void sessionIdleListener() {
        RequestContext context = RequestContext.getCurrentInstance();
        context.execute("sessionExpiredConfirmation.show()");
    } 
```

看看这个一次。

[http://www.primefaces.org/showcase/ui/misc/idleMonitor.xhtml](http://www.primefaces.org/showcase/ui/misc/idleMonitor.xhtml)

它有两个例子。

# c - c中的Apache模块，当我启动apache服务器时出现错误

> ID：14251602
> 
> 赞同：0
> 
> 时间：2013-01-10T05:49:57.713
> 
> 标签：c, apache2

我用 C 编写了一个 apache 模块，通过它从浏览器中检索 POST 表单值。我的模块编译成功，然后加载模块，但是当我启动 apache 服务器时，它会抛出一个错误

> apache2：/etc/apache2/apache2.conf 第 204 行的语法错误：/etc/apache2/mods-enabled/dumpost.load 第 1 行的语法错误：无法加载 /usr/lib/apache2/modules/mod_dumpost.so进入服务器：/usr/lib/apache2/modules/mod_dumpost.so：无法打开共享对象文件：没有这样的文件或目录

任何人都想出并建议我......

# android - AutoCompleteTextView - 在 Android 2.3 中，下拉行在滚动时变黑

> ID：14251606
> 
> 赞同：3
> 
> 时间：2013-01-10T05:50:21.117
> 
> 标签：android

我有一个基本`AutoCompleteTextView`的和`ArrayAdapter`绑定的。在 Android 4.* 上运行良好，但在 2.3 上，每当我滚动下拉列表时，行都会呈现为全黑。如果我点击一行，则整个下拉列表将正确呈现。

在下面的文本中，当使用生成TextView时`inflate`，如果我将背景颜色设置为白色（注释掉的行），那么即使滚动也总是显示白色，但是点击选择效果（将行更改为系统点击一行颜色）然后不起作用。

我在这里使用actionbarsherlock，但我希望这不是原因。有任何想法吗？

截图：http: [//i.imgur.com/gnugp.png](http://i.imgur.com/gnugp.png)

```
public class AutocompleteAdapter extends ArrayAdapter<String> implements Filterable {

public AutocompleteAdapter(Context context) {
    super(context, android.R.layout.simple_dropdown_item_1line);

    mInflater = LayoutInflater.from(context);
    mContext = context;
}

@Override
public View getView(final int position, final View convertView, final ViewGroup parent) {
    final TextView tv;
    if (convertView != null) {
        tv = (TextView) convertView;
    } else {
        tv = (TextView) mInflater.inflate(android.R.layout.simple_dropdown_item_1line, parent, false);
        //tv.setBackgroundColor(tv.getResources().getColor(R.color.white));
    }

    tv.setText(getItem(position));
    return tv;
}
.... 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-10T06:11:12.007

这是因为你的主题是黑暗的..

如果您在 Manifest.xml 中的主题很轻......即，

```
 <application
        android:label="@string/app_name"
        android:theme="@style/Theme.Light.NoTitleBar.Workaround" > 
```

我通过在 values 文件夹中添加 2 个 xml 文件来使其工作。

**样式.xml**

```
<resources>

    <style name="AppTheme" parent="android:Theme.Light" />
      <style name="AutoCompleteTextViewLight" parent="@android:style/Widget.AutoCompleteTextView">
    <item name="android:textColor">@android:color/primary_text_light</item>
    </style>
    <style name="Widget.DropDownItemLight" parent="@android:style/Widget.DropDownItem">
        <item name="android:textColor">@android:color/primary_text_light</item>
    </style>
</resources> 
```

**主题.xml**

```
<resources>
    <style name="Theme.Light.NoTitleBar.Workaround" parent="@android:style/Theme.Light.NoTitleBar">
        <item name="android:autoCompleteTextViewStyle">@style/AutoCompleteTextViewLight</item>
        <item name="android:dropDownItemStyle">@style/Widget.DropDownItemLight</item>
    </style>
</resources> 
```

我找不到其他方法...

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-10T05:55:16.513

我相信，DropDown 背景和 TextColor 取决于您的应用程序的主题或设备的默认主题。

因为，你说它在少数设备上运行良好（我有同样的问题）。使用自定义 DropDownItem 总是好的。

代替：

```
tv = (TextView) mInflater.inflate(android.R.layout.simple_dropdown_item_1line, parent, false); 
```

使用`simple_dropdown_item_1line`自定义 TextView 布局：

```
<TextView xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:tools="http://schemas.android.com/tools"
    android:id="@+id/text_dropDown"
    android:layout_width="fill_parent"
    android:layout_height="30dp"
    android:background="@color/white"
    android:padding="2dp"
    android:textColor="@color/text_light_grey"
    android:textSize="@dimen/text_medium" >
</TextView> 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-10T06:03:36.713

尝试使用这种方式...

```
tv = (TextView) mInflater.inflate(android.R.layout.simple_spinner_item, parent, false); 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-06-18T12:30:38.627

此问题类似于使用`ListView`.

[http://android-developers.blogspot.fr/2009/01/why-is-my-list-black-android.html](http://android-developers.blogspot.fr/2009/01/why-is-my-list-black-android.html)

解决方法是使用`cacheColorHint`属性，但是属性不存在`AutoCompleteTextView`，那么如何设置呢？实际上，您必须在下拉菜单中进行设置。

将自定义样式应用于下拉列表：

```
<item name="dropDownListViewStyle">@style/Widget.YourApp.DropDownListView</item> 
```

为 设置一个值`cacheColorHint`：

```
<style name="Widget.YourApp.DropDownListView" parent="android:Widget.ListView.DropDown">
    <item name="android:cacheColorHint">@android:color/transparent</item>
</style> 
```

# datepicker - 日期选择器中的取消按钮

> ID：14251609
> 
> 赞同：1
> 
> 时间：2013-01-10T05:50:30.843
> 
> 标签：datepicker, sencha-touch-2

我创建了一个日期选择器字段。当显示日期选择器并点击取消按钮时，它将第一个值作为默认值。我需要检查一个条件，我可以在日期选择器字段上处理取消按钮

```
 case 'Date':
        console.log('date value: '+value);
        var dt = new Date(value);
        console.log('new date: '+dt);
        if (dt == 'Invalid Date' || dt == 'NaN/NaN/0NaN') {
            value = '';
        } else {
            value = dt;
        }
        element = Ext.create('Ext.Container', {
            layout : 'hbox',
            items : [ {
                xtype : 'datepickerfield',
                label : label,
                name : 'standTimeEdit',
                defaultDateFormat : 'D M Y',
                value : value,
                width : '100%',
                style : 'border: 0px solid gray;border-radius:10px',
                listeners:{
                    change:function(){
                         value = dt;
                    }
                    cancel:function(){
                        console.log('cancel event fired');
                    }
                }
            } ]
        });
        break; 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-21T10:11:31.350

我通过覆盖选择器中的取消事件解决了这个问题。

```
var picker = this.getPicker();
picker.on('cancel',function(){
                            if(defValue == ''){
                                if(count > 1){
                                    picker.setValue(preVal);
                                    dateObj.setValue({day: preVal.getDate(), month: (preVal.getMonth()+1), year : preVal.getFullYear()});
                                }
                                else{
                                    picker.setValue(null);
                                    dateObj.setValue(null);
                                    count--;
                                }
                            }
                        }); 
```

这给了我一个选择器中取消按钮的句柄。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-10T06:21:05.973

您可以尝试使用日期选择器字段的[取消事件](http://docs.sencha.com/touch/2-0/#!/api/Ext.picker.Date-event-cancel)`fired when the cancel button is tapped and the values are reverted back to what they were`。

希望能帮助到你 ：）

# python - 如何在一台 Web 服务器上运行不同域下的不同 Django 项目？

> ID：14251610
> 
> 赞同：1
> 
> 时间：2013-01-10T05:50:30.567
> 
> 标签：python, django, linux, apache, http

我正在尝试在我的 Web 服务器中运行两个不同的项目。我希望它们被不同的域指向。所以我像这样配置了我的 httpd.conf：

```
NameVirtualHost *:80
<VirtualHost *:80>

    ServerAdmin me@web1.com
    ServerName www.web1.com
    WSGIScriptAlias / /var/www/web1/web1/wsgi.py

    <Directory /var/www/web1/web1>
    <Files wsgi.py>
    Order deny,allow
    Allow from all
    </Files>
    </Directory>

    ErrorLog logs/dummy-host.web1.com-error_log
</VirtualHost>

<VirtualHost *:80>

    ServerAdmin me@web2.com
    ServerName www.web2.com
    ServerAlias web2.com *.web2.com
    WSGIScriptAlias / /var/www/web2/web2/wsgi.py

    <Directory /var/www/web2/web2>
    <Files wsgi.py>
    Order deny,allow
    Allow from all
    </Files>
    </Directory>

    ErrorLog logs/dummy-host.web2.com-error_log
</VirtualHost> 
```

**通过这个配置，我可以运行 httpd 并成功访问 web1.com。但是，当我尝试访问 web2.com 时，出现“内部服务器错误”。于是我去查看日志，似乎myblog(web2)项目设置的“DJANGO_SETTINGS_MODULE”被web1的设置覆盖了？有没有人知道如何解决这个问题？谢谢！**

```
<code>
[Thu Jan 10 00:22:38 2013] [error] [client 220.181.108.97] mod_wsgi (pid=27246): Exception occurred processing WSGI script '/var/www/myblog/myblog/wsgi.py'.

[Thu Jan 10 00:22:38 2013] [error] [client 220.181.108.97] Traceback (most recent call last):

[Thu Jan 10 00:22:38 2013] [error] [client 220.181.108.97]   File "/usr/lib/python2.6/site-packages/django/core/handlers/wsgi.py", line 219, in __call__

[Thu Jan 10 00:22:38 2013] [error] [client 220.181.108.97]     self.load_middleware()

[Thu Jan 10 00:22:38 2013] [error] [client 220.181.108.97]   File "/usr/lib/python2.6/site-packages/django/core/handlers/base.py", line 39, in load_middleware

[Thu Jan 10 00:22:38 2013] [error] [client 220.181.108.97]     for middleware_path in 
settings.MIDDLEWARE_CLASSES:

[Thu Jan 10 00:22:38 2013] [error] [client 220.181.108.97]   File "/usr/lib/python2.6/site-packages/django/utils/functional.py", line 184, in inner

[Thu Jan 10 00:22:38 2013] [error] [client 220.181.108.97]     self._setup()

[Thu Jan 10 00:22:38 2013] [error] [client 220.181.108.97]   File "/usr/lib/python2.6/site-packages/django/conf/__init__.py", line 42, in _setup

[Thu Jan 10 00:22:38 2013] [error] [client 220.181.108.97]     self._wrapped = Settings(settings_module)

[Thu Jan 10 00:22:38 2013] [error] [client 220.181.108.97]   File "/usr/lib/python2.6/site-packages/django/conf/__init__.py", line 95, in __init__

[Thu Jan 10 00:22:38 2013] [error] [client 220.181.108.97]     raise ImportError("Could not import settings '%s' (Is it on sys.path?): %s" % (self.SETTINGS_MODULE, e))

[Thu Jan 10 00:22:38 2013] [error] [client 220.181.108.97] ImportError: Could not import settings 'myblog.settings' (Is it on sys.path?): No module named myblog.settings
~                                               
</code> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-10T10:31:19.710

一个建议是在您的 apache 配置中创建 2 个虚拟主机

```
www.web1.com on 80 
```

和

```
www.web2.com on 81 
```

# php - 在插入 mysql 之前格式化浮点数

> ID：14251612
> 
> 赞同：2
> 
> 时间：2013-01-10T05:50:41.873
> 
> 标签：php, mysql, floating-point

我正在开发具有`mysql backend`. Mysql 已经是设计的数据库，目前也在 PC 站点上运行。因此，我在移动设备上开发单独的前端，但使用相同的数据库并编写我自己的 php 代码来更新相同的数据库。我的问题是数据库有一个列（价格），其类型是`float`（当我使用 desc 时，只给出浮点类型，没有像 (5,4) 这样的额外信息）。

问题是——>当我按原样插入数据时，就像用户输入一样`1234`，我将作为 1234 插入数据库，并且它以相同的方式存储。但是当 PC 站点上显示相同的信息时，它显示 0.01 为`1234`. 因此，我对从 PC 站点插入的数据进行了一些搜索。如果用户插入 1234，它们将被插入到数据库列`1234000000`中。在网站上的价格信息中，它显示正确的价格，如 1234。

那么，在插入我的移动 php 代码之前，我是否需要在我的号码末尾附加六个 0，或者是否有任何类型的格式化技术？任何帮助是极大的赞赏。提前致谢。

**编辑：**代码片段

```
$price = mysql_real_escape_string($_POST[$enteredprice]);

mysql_query("INSERT INTO item(s_secret, i_price) 
        VALUES('$secretcode','$price')",$db); 
```

其中 $price 包含用户输入的价格值。正如我上面的解释，如果用户输入 1234，$price 包含 1234。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-10T09:21:51.103

如果您无法按照建议使用定点更改表格，并且绑定到您描述的格式，您可以执行以下操作。但是，当没有使用实际的十进制值时，该字段是浮动的，这似乎很奇怪。

```
"INSERT INTO item(s_secret, i_price) VALUES('$secretcode','".($price*1000000)."')" 
```

这假定您可以在表单中指定带小数的值。

# android - XML 解析不起作用

> ID：14251613
> 
> 赞同：0
> 
> 时间：2013-01-10T05:50:43.547
> 
> 标签：android, xml-parsing

我正在尝试使用以下代码在我的程序中解析 xml。但它在 logcat 中向我抛出了以下错误。任何人都可以请帮忙。

```
import java.io.IOException;
import java.net.HttpURLConnection;
import java.net.MalformedURLException;
import java.net.URL;

import javax.xml.parsers.DocumentBuilder;
import javax.xml.parsers.DocumentBuilderFactory;
import javax.xml.parsers.ParserConfigurationException;

import org.w3c.dom.DOMException;
import org.w3c.dom.Document;
import org.w3c.dom.Element;
import org.w3c.dom.Node;
import org.w3c.dom.NodeList;
import org.xml.sax.SAXException;

import android.util.Log;

public class Secactivity
{
    public static String TAG = "Abeeee";
    public static String[] PodcastTitle;
    public static String[] PodcastURL;
    public static String[] PodcastContent;
    public static String[] PodcastMedia;
        public static void parse()
        {
                URL url;
                try
                {
                        // Set the url (you will need to change this to your RSS URL
                        url = new URL(
                                        "http://myurl");

                        // Setup the connection
                        HttpURLConnection conn = (HttpURLConnection) url.openConnection();

                        // Connect
                        if (conn.getResponseCode() == HttpURLConnection.HTTP_OK)
                        {

                                // Retreive the XML from the URL
                                DocumentBuilderFactory dbf = DocumentBuilderFactory
                                                .newInstance();
                                DocumentBuilder db = dbf.newDocumentBuilder();
                                Document doc;
                                doc = db.parse(url.openStream());
                                doc.getDocumentElement().normalize();

                                // This is the root node of each section you want to parse
                                NodeList itemLst = doc.getElementsByTagName("employee");

                                // This sets up some arrays to hold the data parsed
                                PodcastTitle = new String[itemLst.getLength()];
                                PodcastURL = new String[itemLst.getLength()];
                                //PodcastContent = new String[itemLst.getLength()];
                                //PodcastMedia = new String[itemLst.getLength()];

                                // Loop through the XML passing the data to the arrays
                                for (int i = 0; i < itemLst.getLength(); i++)
                                {

                                        Node item = itemLst.item(i);
                                        if (item.getNodeType() == Node.ELEMENT_NODE)
                                        {
                                                Element ielem = (Element) item;

                                                // This section gets the elements from the XML
                                                // that we want to use you will need to add
                                                // and remove elements that you want / don't want
                                                NodeList title = ielem.getElementsByTagName("title");
                                                NodeList link = ielem.getElementsByTagName("link");
                                                //NodeList content = ielem
                                                //              .getElementsByTagName("content:encoded");
                                                //NodeList media = ielem
                                                    //            .getElementsByTagName("media:content");

                                                // This is an attribute of an element so I create
                                                // a string to make it easier to use
                                            // String mediaurl = media.item(0).getAttributes()
                                                            // .getNamedItem("url").getNodeValue();

                                                // This section adds an entry to the arrays with the
                                                // data retrieved from above. I have surrounded each
                                                // with try/catch just incase the element does not
                                                // exist
                                                try
                                                {
                                                        Log.i(TAG,"Parsing");
                                                        PodcastTitle[i] = title.item(0)
                                                                        .getChildNodes().item(0).getNodeValue();
                                                } catch (NullPointerException e)
                                                {
                                                        e.printStackTrace();
                                                }

                                                try
                                                {
                                                    PodcastURL[i] = link.item(0).getChildNodes()
                                                                        .item(0).getNodeValue();
                                                } catch (NullPointerException e)
                                                {
                                                        e.printStackTrace();
                                                }
                                            /* try
                                                {
                                                        PodcastContent[i] = content.item(0)
                                                                        .getChildNodes().item(0).getNodeValue();
                                                } catch (NullPointerException e)
                                                {
                                                        e.printStackTrace();
                                                }

                                                try
                                                {
                                                        PodcastMedia[i] = mediaurl;
                                                } catch (NullPointerException e)
                                                {
                                                        e.printStackTrace();
                                                }*/
                                        }
                                }
                        }

                } catch (MalformedURLException e)
                {
                        e.printStackTrace();
                } catch (DOMException e)
                {
                        e.printStackTrace();
                } catch (IOException e)
                {
                        e.printStackTrace();
                } catch (ParserConfigurationException e)
                {
                        e.printStackTrace();
                } catch (SAXException e)
                {
                        e.printStackTrace();
                }

        }

} 
```

LOGCAT 条目：

```
01-10 05:20:25.964: E/ActivityThread(612): Service com.android.exchange.ExchangeService has leaked ServiceConnection com.android.emailcommon.service.ServiceProxy$ProxyConnection@40d5f150 that was originally bound here
01-10 05:20:25.964: E/ActivityThread(612): android.app.ServiceConnectionLeaked: Service com.android.exchange.ExchangeService has leaked ServiceConnection com.android.emailcommon.service.ServiceProxy$ProxyConnection@40d5f150 that was originally bound here
01-10 05:20:25.964: E/ActivityThread(612):  at android.app.LoadedApk$ServiceDispatcher.<init>(LoadedApk.java:969)
01-10 05:20:25.964: E/ActivityThread(612):  at android.app.LoadedApk.getServiceDispatcher(LoadedApk.java:863)
01-10 05:20:25.964: E/ActivityThread(612):  at android.app.ContextImpl.bindService(ContextImpl.java:1418)
01-10 05:20:25.964: E/ActivityThread(612):  at android.app.ContextImpl.bindService(ContextImpl.java:1407)
01-10 05:20:25.964: E/ActivityThread(612):  at android.content.ContextWrapper.bindService(ContextWrapper.java:473)
01-10 05:20:25.964: E/ActivityThread(612):  at com.android.emailcommon.service.ServiceProxy.setTask(ServiceProxy.java:157)
01-10 05:20:25.964: E/ActivityThread(612):  at com.android.emailcommon.service.ServiceProxy.setTask(ServiceProxy.java:145)
01-10 05:20:25.964: E/ActivityThread(612):  at com.android.emailcommon.service.ServiceProxy.test(ServiceProxy.java:191)
01-10 05:20:25.964: E/ActivityThread(612):  at com.android.exchange.ExchangeService$7.run(ExchangeService.java:1850)
01-10 05:20:25.964: E/ActivityThread(612):  at com.android.emailcommon.utility.Utility$2.doInBackground(Utility.java:551)
01-10 05:20:25.964: E/ActivityThread(612):  at com.android.emailcommon.utility.Utility$2.doInBackground(Utility.java:549)
01-10 05:20:25.964: E/ActivityThread(612):  at android.os.AsyncTask$2.call(AsyncTask.java:287)
01-10 05:20:25.964: E/ActivityThread(612):  at java.util.concurrent.FutureTask.run(FutureTask.java:234)
01-10 05:20:25.964: E/ActivityThread(612):  at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1080)
01-10 05:20:25.964: E/ActivityThread(612):  at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:573)
01-10 05:20:25.964: E/ActivityThread(612):  at java.lang.Thread.run(Thread.java:856)
01-10 05:20:26.105: E/StrictMode(612): null
01-10 05:20:26.105: E/StrictMode(612): android.app.ServiceConnectionLeaked: Service com.android.exchange.ExchangeService has leaked ServiceConnection com.android.emailcommon.service.ServiceProxy$ProxyConnection@40d5f150 that was originally bound here
01-10 05:20:26.105: E/StrictMode(612):  at android.app.LoadedApk$ServiceDispatcher.<init>(LoadedApk.java:969)
01-10 05:20:26.105: E/StrictMode(612):  at android.app.LoadedApk.getServiceDispatcher(LoadedApk.java:863)
01-10 05:20:26.105: E/StrictMode(612):  at android.app.ContextImpl.bindService(ContextImpl.java:1418)
01-10 05:20:26.105: E/StrictMode(612):  at android.app.ContextImpl.bindService(ContextImpl.java:1407)
01-10 05:20:26.105: E/StrictMode(612):  at android.content.ContextWrapper.bindService(ContextWrapper.java:473)
01-10 05:20:26.105: E/StrictMode(612):  at com.android.emailcommon.service.ServiceProxy.setTask(ServiceProxy.java:157)
01-10 05:20:26.105: E/StrictMode(612):  at com.android.emailcommon.service.ServiceProxy.setTask(ServiceProxy.java:145)
01-10 05:20:26.105: E/StrictMode(612):  at com.android.emailcommon.service.ServiceProxy.test(ServiceProxy.java:191)
01-10 05:20:26.105: E/StrictMode(612):  at com.android.exchange.ExchangeService$7.run(ExchangeService.java:1850)
01-10 05:20:26.105: E/StrictMode(612):  at com.android.emailcommon.utility.Utility$2.doInBackground(Utility.java:551)
01-10 05:20:26.105: E/StrictMode(612):  at com.android.emailcommon.utility.Utility$2.doInBackground(Utility.java:549)
01-10 05:20:26.105: E/StrictMode(612):  at android.os.AsyncTask$2.call(AsyncTask.java:287)
01-10 05:20:26.105: E/StrictMode(612):  at java.util.concurrent.FutureTask.run(FutureTask.java:234)
01-10 05:20:26.105: E/StrictMode(612):  at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1080)
01-10 05:20:26.105: E/StrictMode(612):  at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:573)
01-10 05:20:26.105: E/StrictMode(612):  at java.lang.Thread.run(Thread.java:856) 
```

主类：这是我调用 Secactivity 的地方：

```
import android.annotation.TargetApi;
import android.app.Activity;
import android.content.Intent;
import android.os.Build;
import android.os.Bundle;
import android.os.StrictMode;
import android.view.Menu;
import android.view.View;
import android.widget.Button;
import android.widget.EditText;
import android.widget.Toast;

public class MainActivity extends Activity {

    EditText uid;
    EditText password;
    Button submit;

    @TargetApi(Build.VERSION_CODES.GINGERBREAD)
    @Override
    protected void onCreate(Bundle savedInstanceState) {
        StrictMode.ThreadPolicy policy = new StrictMode.ThreadPolicy.Builder().permitAll().build();
        StrictMode.setThreadPolicy(policy);
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);

        submit = (Button)findViewById(R.id.submit);
        submit.setOnClickListener(new View.OnClickListener() {

            @Override
            public void onClick(View arg0) {
                // TODO Auto-generated method stub

                uid = (EditText)findViewById(R.id.id);
                password = (EditText)findViewById(R.id.password);
                String userid = uid.getText().toString();
                String pwd = password.getText().toString();
                Loginauth log = new Loginauth();
                if(!userid.equals("")&&!pwd.equals(""))
                {
                    String result = log.Login(userid,pwd);
                    if(result.equals(""))
                    {
                        Toast toast = Toast.makeText(getApplicationContext(), "Login Error: Check id and Password", Toast.LENGTH_LONG);
                        toast.show();
                    }
                    else
                    {
                        Toast toast = Toast.makeText(getApplicationContext(), "Login Successfull", Toast.LENGTH_SHORT);
                        toast.show();
                        //startActivity(new Intent("com.example.temp.ABC"));
                        Secactivity.parse();
                    }

                }
                else
                {
                    Toast toast = Toast.makeText(getApplicationContext(), "Invalid id or password", Toast.LENGTH_LONG);
                    toast.show();
                }

            }
        });

    }

    @Override
    public boolean onCreateOptionsMenu(Menu menu) {
        // Inflate the menu; this adds items to the action bar if it is present.
        getMenuInflater().inflate(R.menu.activity_main, menu);
        return true;
    }

} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-10T06:06:10.770

试试这个链接，它解释了关于 xml 解析的一切

```
public class AndroidXMLParsingActivity extends ListActivity {
     static final String URL = "http://api.androidhive.info/pizza/?format=xml";
        // XML node keys
        static final String KEY_ITEM = "item"; // parent node
        static final String KEY_ID = "id";
        static final String KEY_NAME = "name";
        static final String KEY_COST = "cost";
        static final String KEY_DESC = "description";

        @Override
        public void onCreate(Bundle savedInstanceState) {
            super.onCreate(savedInstanceState);
            setContentView(R.layout.main);

            ArrayList<HashMap<String, String>> menuItems = new ArrayList<HashMap<String, String>>();

            XMLParser parser = new XMLParser();
            String xml = parser.getXmlFromUrl(URL); // getting XML
            Document doc = parser.getDomElement(xml); // getting DOM element

            NodeList nl = doc.getElementsByTagName(KEY_ITEM);
            // looping through all item nodes <item>
            for (int i = 0; i < nl.getLength(); i++) {
                // creating new HashMap
                HashMap<String, String> map = new HashMap<String, String>();
                Element e = (Element) nl.item(i);
                // adding each child node to HashMap key => value
                map.put(KEY_ID, parser.getValue(e, KEY_ID));
                map.put(KEY_NAME, parser.getValue(e, KEY_NAME));
                map.put(KEY_COST, "Rs." + parser.getValue(e, KEY_COST));
                map.put(KEY_DESC, parser.getValue(e, KEY_DESC));

                // adding HashList to ArrayList
                menuItems.add(map);
            } 
```

供参考.. [http://www.androidhive.info/2011/11/android-xml-parsing-tutorial/](http://www.androidhive.info/2011/11/android-xml-parsing-tutorial/)

[http://developer.android.com/training/basics/network-ops/xml.html](http://developer.android.com/training/basics/network-ops/xml.html)

# javascript - 将 Squire.js 与 RequireJS 和 Mocha 一起使用时，如何避免引入全局泄漏？

> ID：14251614
> 
> 赞同：7
> 
> 时间：2013-01-10T05:50:47.120
> 
> 标签：javascript, mocking, requirejs, mocha.js

我正在使用 Backbone 和 Backbone.Marionette 编写单页 JavaScript 应用程序。我正在使用 AMD 模块和 RequireJS 来帮助组织我的代码和管理依赖项。我还使用[Mocha](http://visionmedia.github.com/mocha/)作为我的 TDD/BDD 测试框架。

在我想使用 Sinon.JS 引入存根、模拟和间谍之前，一切都运行良好。经过大量搜索，我[在 RequireJS wiki](https://github.com/jrburke/requirejs/wiki/Test-frameworks)和[Squire.js](https://github.com/iammerrick/Squire.js)中发现了一个关于测试框架的页面，这似乎很适合我的需求。但是，当我尝试使用 Squire.js 加载模块时，Mocha 突然报告模块依赖项的全局泄漏。如果我直接使用 Require.JS 加载模块，则不会报告任何泄漏。

例如，以下测试代码不会导致 Mocha 报告任何泄漏：

```
define(['app/app'], function(app) {
    describe('App', function() {
        it('Should define a \'header\' region', function() {
            expect(app.headerRegion).to.exist;
        });

        it('Should define a \'main\' region', function() {
            expect(app.mainRegion).to.exist;
        });
    });

    return {
        name: "App"
    };
}); 
```

但是，如下转换代码以使用 Squire.js 会导致 Mocha 报告 jQuery、Backbone 和 Marionette（app.js 的依赖项）的泄漏：

```
define(['Squire'], function(Squire) {
    describe('App', function() {

        var testContext = {};

        beforeEach(function(done) {
            testContext.injector = new Squire();
            testContext.injector.require(['app/app'], function(app) {
                testContext.app = app;
                done();
            });
        });

        it('Should define a \'header\' region', function() {
            expect(testContext.app.headerRegion).to.exist;
        });

        it('Should define a \'main\' region', function() {
            expect(testContext.app.mainRegion).to.exist;
        });
    });

    return {
        name: "App"
    };
}); 
```

我究竟做错了什么？我完全感到困惑的是，Mocha 没有报告 RequireJS 的泄漏，而是报告了 Squire.js。我还尝试了在 Squire.js 之前在另一个[StackOverflow 问题中找到的关于模拟 RequireJS 依赖](https://stackoverflow.com/questions/11439540/how-can-i-mock-dependencies-for-unit-testing-in-requirejs)项的其他一些解决方案，例如自定义函数和 testr.js，并且得到了类似的结果。迄今为止，我一直无法找到同时使用 Mocha、RequireJS 和 Sinon.JS 的示例。

我已经[将我当前的代码库放在了 GitHub 上](https://github.com/trevora/mocha_require_squire)，以防我遗漏了一些关键信息或其他东西。有问题的测试可以在[test\spec\test.app.js](https://github.com/trevora/mocha_require_squire/blob/master/test/spec/test.app.js)中找到。

非常感谢任何帮助。我非常想摆脱对我的测试设置的胡思乱想，然后真正开始使用我的应用程序。提前致谢。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-01-11T02:39:18.140

`app.js`在进一步考虑之后，我意识到这实际上是预期的行为，也是加载测试时间的副作用。

我的测试是通过 RequireJS 在`require`如下所示的语句中加载的

```
require([
  'spec/test.smoketest',
  'spec/test.app'
  ], runMocha); 
```

where`runMocha`只是一个简单调用的函数`mocha.run()`。

我突然想到，Mocha 最有可能检测到全局泄漏的方法是比较每次测试运行前后全局注册的内容。在上面的第一个示例中，没有报告泄漏，在调用 mocha.run() 作为加载`test.app.js`模块的一部分之前， RequireJS 加载了 jQuery、Backbone 和 Marionette。另一方面，jQuery、Backbone 和 Marionette 在第二个示例中作为测试本身的一部分加载。

因此，第一个配置不会报告任何泄漏，因为 jQuery、Backbone 和 Marionette在调用*之前已经全局注册。* `mocha.run()`第二个配置报告泄漏，因为它们是在测试*期间注册的。*

现在我了解了发生了什么并且这是意料之中的，我很乐意将 Mocha 配置为允许这些全局对象。这可以在 Mocha 配置中完成，如下所示：

```
mocha.setup({
    ui: "bdd",
    globals:["_", "$", "jQuery", "Backbone", "Marionette"]
}); 
```

# c++ - 由于系统错误 8 (SQL Server) 错误，无法加载指定的驱动程序

> ID：14251615
> 
> 赞同：0
> 
> 时间：2013-01-10T05:50:57.233
> 
> 标签：c++, visual-c++, mfc

尝试从 C++ 代码访问 SQL Server 2005 时，**由于系统错误 8 (SQL Server) 错误，无法加载指定的驱动程序。**基本上，我正在用 Visual C++ 开发一个 ISAPI dll，我从中进行 SQL DB 调用，以根据少数错误条件选择某些信息。以下是我用来打开数据库连接的代码：

```
CDatabase DBConnection;
DBConnection.OpenEx("Driver={SQL Server};Server=10.104.20.14;Database=Test;Trusted_Connection=yes;", CDatabase::openReadOnly | CDatabase::noOdbcDialog);

CRecordset RecSet(&DBConnection);

RecSet.Open(CRecordset::forwardOnly,_T("{CALL SP_CheckForInfo('" + URLtoCheck +"')}")); 
```

知道是什么导致了这个问题吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-10T13:00:32.473

> 由于系统错误 8 (SQL Server)，无法加载指定的驱动程序

这是您得到的唯一错误描述吗？通常还有更多。

你以前有过这个问题吗？这是您第一次尝试连接吗？

代码的哪一部分导致了这个错误？

系统错误 8 表示：***没有足够的存储空间来处理此命令。***

# jquery - jQuery 选择器：第一

> ID：14251617
> 
> 赞同：3
> 
> 时间：2013-01-10T05:51:01.973
> 
> 标签：jquery

我正在尝试从列表中选择文本。我想选择“一级文本”而不​​是“二级文本”。

```
<div class="selectedText"></div>
<ul>
  <li>First level text
    <ul>
      <li>Second level text</li>
    </ul>
  </li>
 </ul> 
```

我的错误选择器：

```
var firstLI = $('ul').find('li:first');
$('.selectedText').text(firstLI.text()); 
```

它将嵌套 UL 的内容粘贴到我的文本框中。
我怎样才能只得到 LI 文本？谢谢。

小提琴：http: [//jsfiddle.net/eYa3G/](http://jsfiddle.net/eYa3G/)

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-01-10T05:52:58.947

听起来您只想要该元素的第一个文本节点。

```
$("ul li:first").contents().first().text(); 
```

[js小提琴](http://jsfiddle.net/8NzUT/)。

这将获取第一个节点的文本，在您的情况下这是一个文本节点。

或者，如果 jQuery 供不应求……

```
document.querySelector("ul li:first-child").firstChild.data; 
```

[js小提琴](http://jsfiddle.net/Mea6x/)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-10T05:54:15.670

这是获取 li 元素文本的一种方法

```
alert( $('ul li:first').clone().children().remove().end().text()); 
```

[**JsFiddle 演示**](http://jsfiddle.net/eYa3G/6/)

完整代码

```
jQuery(document).ready(function ($) {

 var data= $('ul li:first').clone().children().remove().end().text();
   $('.selectedText').text(data);
}); 
```

# c# - 异步 TCP 套接字在 C# 中不起作用

> ID：14251618
> 
> 赞同：0
> 
> 时间：2013-01-10T05:51:04.980
> 
> 标签：c#, sockets, networking, asynchronous, tcp

我不断收到此错误：

```
"The IAsyncResult object was not returned from the corresponding asynchonous method on this class. Parameter name : aysncResult. Line 105. 
```

当我尝试连接到本地服务器时会发生这种情况；它出错并且无法连接。

这是我的客户代码：

```
public class Client
{

    public delegate void OnConnectEventHandler(Client sender, bool connected);
    public event OnConnectEventHandler OnConnect;

    public delegate void OnSendEventHandler(Client sender, int sent);
    public event OnSendEventHandler OnSend;

    public delegate void OnDisconnectEventHandler(Client sender);
    public event OnDisconnectEventHandler OnDisconnect;

    Socket socket;

    public bool Connected
    {
        get
        {
            if (socket != null)
            {
                return socket.Connected;
            }

            return false;
        }
    }

    public Client()
    {
        socket = new Socket(AddressFamily.InterNetwork, SocketType.Stream, ProtocolType.Tcp);
    }

    public void SendData()
    {

    }

    public void Connect(string IP, int port)
    {
        if (socket == null)
        {
            socket = new Socket(AddressFamily.InterNetwork, SocketType.Stream, ProtocolType.Tcp);
        }

        socket.BeginConnect(IP, port, new AsyncCallback(sendCallback), null);

    }

    private void connectCallback(IAsyncResult ar)
    {
        //try
        //{
            socket.EndConnect(ar);

            if (OnConnect != null)
            {
                OnConnect(this, Connected);
            }
        //}
        //catch
        //{

        //}
    }

    public void Send(byte[] data, int index, int length)
    {
        socket.BeginSend(BitConverter.GetBytes(length), 0, 4, SocketFlags.None, new AsyncCallback(sendCallback), null);
        socket.BeginSend(data, index, length, SocketFlags.None, new AsyncCallback(sendCallback), null);
    }

    private void sendCallback(IAsyncResult ar)
    {
        try
        {
            int sent = socket.EndSend(ar); ( errrors here )

            if (OnSend != null)
            {
                OnSend(this, sent);
            }
        }
        catch (Exception ex)
        {
            System.Windows.Forms.MessageBox.Show(ex.ToString());
            return;
        }
    }

    public void Disconnect()
    {
        try
        {
            if (socket.Connected)
            {
                socket.Close();
                socket = null;
                if (OnDisconnect != null)
                {
                    OnDisconnect(this);
                }
            }
        }
        catch
        {

        }
    } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-10T06:21:00.930

你不应该有两个挂起的`BeginSend`操作。

完成后发送大小和缓冲区：

```
public void Send(byte[] data, int index, int length)
{
    //add data as state
    socket.BeginSend(BitConverter.GetBytes(length), 0, 4, SocketFlags.None, sendCallback, data);
}

private void sendCallback(IAsyncResult ar)
{
    try
    {
        int sent = socket.EndSend(ar); ( errrors here )

        // check if data was attached.
        if (ar.AsyncState != null)
        {
            byte[] buffer = (byte[])ar.AsyncState;
            socket.BeginSend(buffer, 0, buffer.Length, SocketFlags.None, sendCallback, null);
            return;
        }

        if (OnSend != null)
        {
            OnSend(this, sent);
        }
    }
    catch (Exception ex)
    {
        System.Windows.Forms.MessageBox.Show(ex.ToString());
        return;
    }
} 
```

您还可以使用`BeginSend`采用缓冲区列表的重载。

# java - Intellij IDEA。隐藏 .iml 文件

> ID：14251624
> 
> 赞同：122
> 
> 时间：2013-01-10T05:51:59.693
> 
> 标签：java, intellij-idea

我使用 Intellij IDEA 12，我想`.iml`在项目视图中隐藏文件。我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：221
> 
> 时间：2013-01-10T07:13:32.043

[检查文件类型](https://www.jetbrains.com/help/idea/file-types.html)设置中的“忽略的文件和文件夹” ：

> **文件 | 设置 | 编辑 |** Windows 和 Linux 的**文件类型**
> 
> **IntelliJ IDEA | 偏好 | 编辑 |** OS X 的**文件类型**

然后**`*.iml;*.idea;`**在底部的文本框中添加：

[![在 Intellij 中隐藏文件和文件夹](../Images/ba4cfba24175a454d5506cb6b8a4b14c.png)](https://i.stack.imgur.com/LvGLF.png)

[http://blogs.jetbrains.com/idea/2011/04/intellij-idea-does-not-show-some-files-know-the-hiding-places/](http://blogs.jetbrains.com/idea/2011/04/intellij-idea-does-not-show-some-files-know-the-hiding-places/)

* * *

## 回答 #2

> 赞同：59
> 
> 时间：2014-02-20T04:22:44.783

对于 OS X 10.9 上的 Intellij IDEA 13，请执行以下操作：

*   去`Intellij IDEA > Preferences`。
*   向下滚动到该`IDE Settings`部分，转到`File Types`。
*   `*.iml`将和添加到此窗口底部`.idea`的列表框中。`Ignore files and folders`

项目导航器会干净得多！

我希望它有帮助！

* * *

## 回答 #3

> 赞同：19
> 
> 时间：2013-06-05T15:57:13.747

*   转到`File`-> `Settings`->`File Types`
*   附加`*.iml`到“忽略文件和文件夹”下方的列表（位于对话框底部）

* * *

## 回答 #4

> 赞同：14
> 
> 时间：2015-03-02T12:12:00.990

Mac OS X 上的 IntelliJ 14 和 15（他们在 14 中再次更改了层次结构）：

*   转到`IntelliJ IDEA`-> `Preferences`-> `Editor`->`File Types`
*   附加`*.iml`到“忽略文件和文件夹”下方的列表（位于对话框底部）

* * *

## 回答 #5

> 赞同：7
> 
> 时间：2015-07-17T20:41:35.047

对于 Windows 上的 IntelliJ 14，请转到`File->Settings->Editor->File Types`. 在底部，附加`;.idea;*.iml`.

* * *

## 回答 #6

> 赞同：2
> 
> 时间：2020-09-17T16:01:24.097

而不是像文件夹一样隐藏文件，而不是像文件夹一样对我来说似乎是更好的方法。

转到`File`> `Project Structure...`> `Settings`>`Modules`

底部是一个框，您可以在其中输入文件类型：

[![在此处输入图像描述](../Images/104e945d3144d13175de1b17cae2da17.png)](https://i.stack.imgur.com/kVQYc.png)

现在您可以使用项目“显示选项菜单”来隐藏和显示它们：

[![在此处输入图像描述](../Images/930b64edd210c6edaceb6fec0d6e1856.png)](https://i.stack.imgur.com/uIzxd.png)

* * *

## 回答 #7

> 赞同：1
> 
> 时间：2017-05-06T09:40:53.940

`IntelliJ IDEA 2017.1.2 Ultimate`在`macOS Sierra 10.12.4`

[![在此处输入图像描述](../Images/1c6415a52d0902c9654ac568e7c4fccc.png)](https://i.stack.imgur.com/ebIsk.png)

* * *

## 回答 #8

> 赞同：-1
> 
> 时间：2020-03-27T15:32:23.233

转到文件 -> 设置 -> 文件类型

[![在此处输入图像描述](../Images/464f1c0b7763818e85f331ef2c8cec40.png)](https://i.stack.imgur.com/wtkOm.png)

# jquery - 使用 JQuery 替换 ASP.NET 图像按钮中的图像 url？

> ID：14251630
> 
> 赞同：0
> 
> 时间：2013-01-10T05:52:45.990
> 
> 标签：jquery, asp.net

我在 asp.net 和 mysql 中工作。将在页面中显示房间的详细信息以及获取 mysql 数据库的图像。当我单击小尺寸图像按钮时，主图像会发生变化。

我想像这样将 Image1 ImageUrl "~/GetRoomImage.aspx?id=1" 替换为 "~/GetRoomImage.aspx?id=2" 或 "~/GetRoomImage.aspx?id=3"。单击重新调整图像按钮时。

请帮我在 Jquery 中得到这个。

![在此处输入图像描述](../Images/b7e5c2f505f32633bc1cd36801c46a49.png)

我的代码，..

```
<asp:Image ID="Image1" runat="server" ImageUrl="~/GetRoomImage.aspx?id=1" Height="178" Width="178"></asp:Image>   <br /><br />
                      &nbsp;
                     <asp:ImageButton ID="ImageButton2" runat="server" ImageUrl="~/GetRoomImage.aspx?id=2" Height="30" Width="37" /> &nbsp;
                     <asp:ImageButton ID="ImageButton3" runat="server" ImageUrl="~/GetRoomImage.aspx?id=3" Height="30" Width="37" />&nbsp;
                     <asp:ImageButton ID="ImageButton4" runat="server" ImageUrl="~/GetRoomImage.aspx?id=4" Height="30" Width="37" />&nbsp;
                     <asp:ImageButton ID="ImageButton5" runat="server" ImageUrl="~/GetRoomImage.aspx?id=5" Height="30" Width="37" /> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-10T06:10:13.293

您可以在页面加载时为每个小图像单击绑定一个事件，并将 src 从小图像分配到大图像。

```
$(document).ready(function(){
      $('input[type=image]').click(function(){

          var newImg = $(this).attr("src");
           $("#Image1").attr("src",newImg)
       });
}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-10T06:15:26.840

尝试这个

```
$(document).ready(function(){
  $("[value ^= 'ImageButton']").click(function(){
      var newImg = $(this).attr("src");
       $("#Image1").attr("src",newImg)
   });
}); 
```

# ios - UITableViewCell 内的 UIImageView 中的触摸事件检测

> ID：14251633
> 
> 赞同：0
> 
> 时间：2013-01-10T05:52:56.670
> 
> 标签：ios, objective-c, cocoa-touch, uitableview, drag-and-drop

我正在尝试检测 `UIImageView`添加到`UITableViewCell`'s中的触摸事件`contentView`。但是，`Imageview`没有触发触摸事件，我也启用了`imageview userinteraction`。基本上，我正在尝试将图像从`UItableViewcell`其他视图/位置拖动。你们有没有解决方案，将图像从其他视图拖到`UITableViewcell`其他视图。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-10T05:56:01.153

创建一个自定义`UIView`并将其添加为然后`ImageView`在 其上添加触摸事件。`view``subview``view`

然后`view`添加`Cell content View`

# jquery - 更改 z-index 后 DIV 未显示

> ID：14251635
> 
> 赞同：0
> 
> 时间：2013-01-10T05:52:57.913
> 
> 标签：jquery, html, z-index, show, fadein

我正忙于某个主页上显示的“本周最佳”框。前段时间发生了一个烦人的小问题，但我希望它会消失，有时会发生，下降到一个低水平。

[在此处](http://nolybab.com/tiotw/)查看实时示例。

左侧显示三个子项，在页面加载后每隔几秒它会按顺序（1->2、2->3、3->1）转到下一个子项。最初项目#1 被显示并且项目#2 + #3 被隐藏并且在点击拇指#2 之后-或- 自动几秒钟后，项目#1 将消失并且项目#2 将出现/slideIn/fadeIn/whatever.. .

在主要项目#1、#2 和#3 中有一个**DIV1**，其文本内容显示有关该项目的信息。

样式设置为 50 透明度。由于透明度设置为低于 100 的值，因此文本有时难以阅读。为了解决这个问题......当用户点击**DIV1**时，另一个**DIV2**具有白色背景，显示在 -behind- **DIV1**！

现在文本将更易于阅读，因为（组合）背景透明度较低。

**页面加载后直接工作正常**（nav_to_slide2/3() 未执行）：单击**DIV1**将显示**DIV2**。
**执行nav_to_slide1** /2/3() 时运行正常：单击**DIV1**将 - 不显示**DIV2**。

我想这与 z-index 的东西有关，因为*这个*（或*some.parent*）需要改变，因为滑动/淡入淡出效果？

我尝试调试，但找不到修复程序。请注意，警报 =A=、=B= 和 =C= 总是会发生……即使是 NOK 情况。

[源 JQUERY 代码](http://nolybab.com/tiotw/indexpage.js)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-10T06:51:27.680

z-index 仅适用于定位元素（位置：绝对、位置：相对或位置：固定）。
添加`position:relative`到使用 z-index 的 div。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-11T09:16:20.157

“保持简单愚蠢”在这里非常到位......
使用css找到了一个解决方案（在stackoverflow上）：

```
div.box_slide_over_text, div.box_slide_over_text:hover {
  -webkit-transition: all 0.5s ease-in-out;
  -moz-transition: all 0.5s ease-in-out;
  -o-transition: all 0.5s ease-in-out;
  -ms-transition: all 0.5s ease-in-out;
  transition: all 0.5s ease-in-out; }

div.box_slide_over_text { opacity:0.45; filter:alpha(opacity=45); }
div.box_slide_over_text:hover { opacity:0.80; filter:alpha(opacity=80); } 
```

完全删除了带有相应 z-index 的**DIV2 。**
检查[实时版本](http://nolybab.com/tiotw/)以获取固定版本代码。

# c# - 如何获取`列表 ` 来自 MySQL 数据库的表名？

> ID：14251639
> 
> 赞同：4
> 
> 时间：2013-01-10T05:53:07.840
> 
> 标签：c#, mysql, sql

如何获取`List<string>`MySQL 数据库中包含的所有表名？

我想将完整的数据库加载到 DataSet 中，但据我了解，MySqlDataAdapter.Fill() 似乎只在单个表上运行，对吗？这就是我想要使用表字符串集合的目的。

编辑：

1.  我寻找正确的查询：尽管数据库仅包含 3 个表，但以下返回 59 个不同的项目：

    ```
     MySqlCommand command = new MySqlCommand("SELECT table_name FROM information_schema.tables where table_type = 'BASE TABLE'", connection);
        var result = command.ExecuteReader(); 
    ```

2.  我寻找 C# 代码来将查询结果解析为`List<string>`.

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-01-10T06:21:35.477

使用实体框架，将您的模式添加到 dbcontext 然后您可以进行以下操作：

```
var tableNames = context.MetadataWorkspace.GetItems(DataSpace.SSpace)
                        .Select(t => t.Name)
                        .ToList(); 
```

编辑：

或者，您可以使用普通的 sql 查询（例如使用[Show tables](http://dev.mysql.com/doc/refman/5.0/en/show-tables.html)）读取表名称，并将它们解析为如下列表：

```
List<String> Tablenames = new List<String>();

using(SqlConnection connection = new SqlConnection("conn_string"))
{
    string query = "show tables from YourDB";
    SqlCommand command = new SqlCommand(query, connection);
    using (SqlDataReader reader = command.ExecuteReader())
    {
        while (reader.Read())
        {
            Tablenames.Add(reader.GetString(0));
        }         
    }
} 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2014-05-20T12:11:18.333

*   首先下载并安装[Connector/Net](http://dev.mysql.com/downloads/connector/net/)。这是在 C# 中使用 MySQL 所必需的。[MySQL for Visual Studio](http://dev.mysql.com/downloads/windows/visualstudio/)不是必需的，但我建议您安装它。它可以帮助您在 Visual Studio 中设计 MySQL 数据库。

*   添加参考`MySql.Data`

*   添加`using MySql.Data.MySqlClient;`您的代码。

**像这样声明一个函数：**

```
public List<string> MySqlCollectionQuery(MySqlConnection connection, string cmd)
{
    List<string> QueryResult = new List<string>();
    MySqlCommand cmdName = new MySqlCommand(cmd, connection);
    MySqlDataReader reader = cmdName.ExecuteReader();
    while (reader.Read())
    {
        QueryResult.Add(reader.GetString(0));
    }
    reader.Close();
    return QueryResult;
} 
```

**然后创建一个MySql连接并调用这个函数：**

```
string connStr = string.Format("user={0};password={1};database={2}",
                                username,password,database);
List<string>TableNames = new List<string>();//Stores table names in List<string> form
using(MySqlConnection Conn = new MySqlConnection(connStr))
{
    Conn.Open();
    string cmdStr = "show tables";
    TableNames = MySqlCollectionQuery(Conn,cmdStr);
} 
```

我没有把它放在一个`try ... catch`块中，但这样做总是一个好习惯。

# html - 如何在 CSS 中保持浏览器与 Gradient 的兼容性？

> ID：14251642
> 
> 赞同：0
> 
> 时间：2013-01-10T05:53:21.783
> 
> 标签：html, css, cross-browser

我正在使用 html 、 css 和 javascript 开发一个网站。这些按钮在每个浏览器中的显示方式都不同。以下是同一页面不同浏览器的截图：

IE浏览器 ： ![在此处输入图像描述](../Images/280dac9e2900417f36afbddc32e455e0.png)

火狐： ![在此处输入图像描述](../Images/ee1a4ae9c9d367308e3f614f2722a187.png)

我实际上打算将它显示为在 firefox 中显示的那样。这里我正在使用的一些 css 代码：

```
#button{
float: left;
width: 500px;
height: 50px;
line-height: 50px;
background-color: #06C;
padding-left: 20px;

-moz-border-radius:10px;
-webkit-border-radius:10px;
border-radius:10px;

-webkit-box-shadow: 0px 1px 1px 0px rgba(255,255,255, .2), inset 0px 1px 1px 0px rgb(0,0,0);
-moz-box-shadow: 0px 1px 1px 0px rgba(255,255,255, .2), inset 0px 1px 1px 0px rgb(0,0,0);
box-shadow: 0px 1px 1px 0px rgba(255,255,255, .2), inset 0px 1px 1px 0px rgb(0,0,0);

background-image: -webkit-gradient(
    linear,
    left bottom,
    left top,
    color-stop(0, #60B842),
    color-stop(0.85, #7FD13D)
);
background-image: -moz-linear-gradient(
    center bottom,
    /* change these to change the button colors */
    #B58515 0%,
    #DC9E1F 85%
);

/* change this to change the text color and font type */
color:#fff;
font-family:arial,helvetica,sans-serif;
font-size:17px;
font-weight:bold;
text-shadow:1px 1px 1px #4c9434;
    }

    #button:hover{
background-image: -webkit-gradient(
    linear,
    left bottom,
    left top,
    color-stop(0, #6DD14B),
    color-stop(0.85, #85DB40)
);
background-image: -moz-linear-gradient(
    center bottom,
    /* change these colors to change the mouse hover colors */
    #E17100 0%,
    #FF9326 85%
);
box-shadow:0 2px 0 #5EA839;
    } 
```

使用渐变可能存在一些问题。有人可以建议我进行任何更改或其他编码方式，以使网页在不同浏览器中看起来相同吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-10T06:04:29.093

我通常使用[Colorzilla 的 Ultimate CSS Gradient Generator](http://www.colorzilla.com/gradient-editor/)来生成跨浏览器的 CSS 渐变代码。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-10T07:21:56.880

所有浏览器都支持渐变属性使用这个

```
 background: -moz-linear-gradient(top, white, #1a82f7);/*Mozila*/
    background: -o-linear-gradient(top, white, #1a82f7); /*opera*/
    background: -webkit-linear-gradient(top, white, #1a82f7);/*Chrome and safari*/
    filter: progid:DXImageTransform.Microsoft.gradient(startColorStr='white',    EndColorStr='#1a82f7'); /*IE*/ 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-10T05:57:46.477

除此之外`-webkit-gradient()`，`-moz-gradient()`您还需要使用 IE 和其他浏览器的前缀。

例子：

```
#linearBg2 {
  /* fallback */
  background-color: #1a82f7;
  background: url(images/linear_bg_2.png);
  background-repeat: repeat-x;

  /* Safari 4-5, Chrome 1-9 */
  background: -webkit-gradient(linear, 0% 0%, 0% 100%, from(#1a82f7), to(#2F2727));

  /* Safari 5.1, Chrome 10+ */
  background: -webkit-linear-gradient(top, #2F2727, #1a82f7);

  /* Firefox 3.6+ */
  background: -moz-linear-gradient(top, #2F2727, #1a82f7);

  /* IE 10 */
  background: -ms-linear-gradient(top, #2F2727, #1a82f7);

  /* Opera 11.10+ */
  background: -o-linear-gradient(top, #2F2727, #1a82f7);
} 
```

[资源](http://css-tricks.com/examples/CSS3Gradient/)

[在这里阅读更多](http://css-tricks.com/examples/CSS3Gradient/)

[请注意，IE 9 及更早版本不支持渐变](http://caniuse.com/#search=gradient)。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-10T05:59:03.187

发生的事情是 IE 完全忽略了你的渐变 css。您必须添加一个“过滤器”才能使渐变出现在 IE 中。

[此页面](http://webdesignerwall.com/tutorials/cross-browser-css-gradient)将帮助您创建跨浏览器渐变。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-01-10T08:23:37.787

下面是一组 CSS 渐变，它们对您的跨浏览器兼容性很有用：

```
/* IE10 Consumer Preview */
background-image: -ms-linear-gradient(top left, #FFFFFF 0%, #00A3EF 100%);

/* Mozilla Firefox */
background-image: -moz-linear-gradient(top left, #FFFFFF 0%, #00A3EF 100%);

/* Opera */
background-image: -o-linear-gradient(top left, #FFFFFF 0%, #00A3EF 100%);

/* Webkit (Safari/Chrome 10) */
background-image: -webkit-gradient(linear, left top, right bottom, color-stop(0, #FFFFFF), color-stop(1, #00A3EF));

/* Webkit (Chrome 11+) */
background-image: -webkit-linear-gradient(top left, #FFFFFF 0%, #00A3EF 100%);

/* W3C Markup, IE10 Release Preview */
background-image: linear-gradient(to bottom right, #FFFFFF 0%, #00A3EF 100%); 
```

# sql - 使用sql插入crm数据库是否安全？

> ID：14251643
> 
> 赞同：3
> 
> 时间：2013-01-10T05:53:25.620
> 
> 标签：sql, dynamics-crm-2011, dynamics-crm

我们需要将 data( `8k records`) 插入到 a`CRM Entity`中，数据将来自 other `CRM Entities`。目前我们是通过代码来完成的，但它需要太多时间（`Hours`）。我想知道我们是否使用`SQL`直接插入`CRM Database`它会容易得多，并且只需要几分钟。但在继续前进之前，**我有几个问题**：

1.  使用 SQL 直接插入 CRM 数据库是否安全？

2.  使用 SQL 将数据插入 CRM 的最佳实践是什么？

3.  在尝试之前我应该​​考虑什么？

**编辑：**

4：如何提高插入性能？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-01-10T06:07:04.700

1.  不它不是。它被认为是[不受支持的](http://msdn.microsoft.com/en-us/library/bb928224.aspx)
2.  不要这样做
3.  Rollup 12 刚刚发布，包含一个新的 API 功能。现在有一个[`ExecuteMultipleRequest`](http://msdn.microsoft.com/en-us/library/microsoft.xrm.sdk.messages.executemultiplerequest.aspx)可以用于批量批量导入。请参阅 [http://msdn.microsoft.com/en-us/library/jj863631.aspx](http://msdn.microsoft.com/en-us/library/jj863631.aspx)

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-01-10T14:33:55.810

It shouldn't take hours to insert 8000 records. It would help to see your code, but here are some things to consider to improve performance:

1.  Reuse your IOrganizationService. I've found a 10x increase in performance by reusing a IOrganizationService, rather than creating a new one with each record that is being updated
2.  Use multi-threading. You have to be careful with this one, because it could lead to worse performance if the function to check for the entity existing is your bottle neck.
3.  Tweak your exists function. If the check for the entity existing is taking a long time, consider pulling back the entire table and storing it in memory (assuming it's not ridiculously huge). This would remove 8000 separate select statements.
4.  Turn off plugins that may be degrading performance. If you have any plugins registered on the entity, see if performance increases if you disable them during the import.
5.  Create a new, "How do I increase the insert performance" question with your code posted for additional help.

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2013-01-10T06:04:45.597

我没有使用`CRM application`您所指的内容，但是如果您绕过代码，您可能会绕过某些限制，甚至根据发送的某些值触发代码已经到位。

例如，如果您通过代码发送一个数字，它可能会对该数字执行一些数学函数并将其添加到某个其他值并最终在数据库中存储两个值（一个值用于您输入的数字，另一个值代表包括新增加的总数）。

因此，如果您只是将一个值直接插入到数据库中，那么总数将不会随之更新。

这只是一个假设的场景。您可能不会遇到任何类似的问题或任何其他问题，但可能会有机会。

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2013-01-10T06:29:32.927

# jquery - 使用 jQuery 在表单中附加文本区域

> ID：14251644
> 
> 赞同：0
> 
> 时间：2013-01-10T05:53:30.307
> 
> 标签：jquery

我正在尝试将文本区域附加到表单中。但是表格也是第一次附加的。让我们看看我的代码。

```
 jQuery('.addeducation-sym').click( function(){
    var tiny_mce = '<textarea name="content"></textarea>';
    jQuery('.extra-form').clone().appendTo('#edu-form');
    tiny_mce.appendTo('#edu-form .extra-form');
  }); 
```

在上面的代码中，当我单击“.addeducation-sym”按钮时，我得到了表单名称“.extra-form”。这是一个 html 表单的克隆，如下所示。

```
 <div  class="extra-form">
            <label for="education-info">Extra Educational Information</label>
            <input type="text" name="coursename" id="firstname" value="coursename" />
            <input type="text" name="institutename" id="institutename" value="institutename" />
            <input type="text" name="startdate" id="startdate" value="startdate" />
            <input type="text" name="enddate" id="enddate" value="enddate" />
        </div>      <!-- clearfix --><div class="clear"></div><!-- /clearfix --> 
```

之后，我想附加另一个 html 代码，该代码存储在一个名为“tiny_mce”的变量中。但我在我的代码中找不到任何更新。所以请让我知道在克隆后将''附加到“额外形式”的方法是什么。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-10T06:03:34.140

你可以这样做：

```
jQuery(document).on("click", '.addeducation-sym', function(){
    jQuery('.extra-form').clone(true).appendTo('#edu-form');
    $("<textarea />", {
        "name" : "content"
    }).appendTo('#edu-form .extra-form');
}); 
```

演示：[jsFiddle](http://jsfiddle.net/6BdQE/)

# powerbuilder - 添加下拉列表框 PowerBuilder

> ID：14251646
> 
> 赞同：0
> 
> 时间：2013-01-10T05:53:53.207
> 
> 标签：powerbuilder

在我的 DataWindow 中，我有一个 style='EDIT' 的列对象

单击添加按钮时，在某些条件下，我必须将该 EDIT 样式转换为具有某些数据值和显示值的 Dropdownlistbox 样式。帮我做这件事。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-11T16:30:20.173

我认为你不应该这样做。如果您更改输入的内容，您可能会混淆您的用户。为用户需要执行的任务编写一些用例。用例不应该说明屏幕的样子。然后您可以设计屏幕来支持这些任务。对于添加新项目等任务，向导通常是一个不错的选择。这对用户有好处，因为用户总是知道下一步该做什么。这对您有好处，因为您可以控制用户输入数据的顺序。

# sql - SQL XML，有没有一种技术可以让我获得一些 xml 格式的列？

> ID：14251651
> 
> 赞同：1
> 
> 时间：2013-01-10T05:54:34.910
> 
> 标签：sql, sql-server, xml

我想将多个表中的数据存储到一个表中

```
table A (
p, q,
PRIMARY KEY (p,q)
)

table B (
p, m, n,
PRIMARY KEY (p,m,n)
)

table output(
p,
xml
) 
```

输出应该像

对于表 A

```
 -------------------------------
|    p      |        xml        |
---------------------------------
|value of p | <q>some value</q> |
 ------------------------------- 
```

对于表 B

```
 -----------------------------------------------
|    p      |        xml                        |
------------------------------------------------
|value of p | <m>some value</m><n>some data</n> |
 ----------------------------------------------- 
```

这可以通过这个查询来实现

```
SELECT * 
FROM Students s
CROSS APPLY
(
    SELECT 
        (
            SELECT * 
            FROM Students t
            WHERE t.DisplayName = s.DisplayName
            FOR XML RAW
        ) x1
)x 
```

但我想让 SQL 足够通用，以便给定任何表名，我们可以获得上述输出。

内部连接的问题是查询不会是通用的

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-10T06:32:45.197

要从一个表中获得您想要的结果，您可以使用以下内容：

```
select T.Table1ID,
       (
         select T.*
         for xml raw, type
       ) as x1
from Table1 as T 
```

要将相同的模式应用于另一个表，您需要更改表名和键列的字段名。

```
select T.Table2ID,
       (
         select T.*
         for xml raw, type
       ) as x1
from Table2 as T 
```

如果您想要更通用的版本，您可以使用动态 SQL 并根据表名和列名构建查询。

```
declare @TableName sysname 
declare @KeyColumnName sysname

set @TableName = 'master..spt_values'
set @KeyColumnName = 'Number'

declare @SQL nvarchar(500)

set @SQL = '
select '+@KeyColumnName+',
       (
         select T.*
         for xml raw, type
       ) as x1
from '+@TableName+' as T'

exec (@SQL) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-10T06:03:14.267

如果我误解了，我很抱歉，但这或多或少是你所追求的原则吗？

```
;WITH Base AS
(
    SELECT   Cat    = PC.Name
            ,SubCat = SC.Name
    FROM Production.ProductCategory     PC
    JOIN Production.ProductSubcategory  SC  ON SC.ProductCategoryID = PC.ProductCategoryID
)
SELECT Cat, (SELECT SubCat FROM Base T2 WHERE T2.Cat = T1.Cat FOR XML AUTO )DT
FROM Base T1 
```

# c# - asp.net中不同子页面上的分组控件

> ID：14251659
> 
> 赞同：0
> 
> 时间：2013-01-10T05:55:36.483
> 
> 标签：c#, asp.net

我所做的是登录，用户名出现在我的母版页中的标签中。我需要做的是，如果登录用户具有管理员权限，则可以在多个子页面上设置可见控件（包括一个子页面上的 gridview deletecontrol）。一直在努力弄清楚。只是想学习。

有没有办法在类调用管理员下对所有控件进行分类，并从母版页调用检查用户权限？

后面的登录页面代码

```
using System;
using System.Collections;
using System.Configuration;
using System.Data;
using System.Linq;
using System.Web;
using System.Web.Security;
using System.Web.UI;
using System.Web.UI.HtmlControls;
using System.Web.UI.WebControls;
using System.Web.UI.Adapters;

public partial class login1 : System.Web.UI.Page
{

    public void Page_Load(object sender, EventArgs e)
    {

    }

    protected void LoginButton_Click(object sender, EventArgs e)
    {        
        DataSet ds = new DataSet();
        ds = WCGSQL.showdata("select * from Login where Username='" + UserName.Text + "' and Password='" + Password.Text + "'");
        if (ds.Tables[0].Rows.Count != 0)
        {

            Session["Username"] = UserName.Text;
            Response.Redirect("Home.aspx");

        }
        else
        {
            FailureText.Visible = true;
            FailureText.Text = "Invalid Login";
        }
    }
} 
```

应用程序/代码背后的代码

```
using System;
using System.Data;
using System.Configuration;
using System.Linq;
using System.Web;
using System.Web.Security;
using System.Web.UI;
using System.Web.UI.HtmlControls;
using System.Web.UI.WebControls;
using System.Web.UI.WebControls.WebParts;
using System.Xml.Linq;
using System.Data.SqlClient;

public class WCGSQL
{
    static SqlConnection con = new SqlConnection(@"Data Source=.\SQLEXPRESS;AttachDbFilename=|DataDirectory|WCG.mdf;Integrated Security=True;User Instance=True");
    static public Boolean savedata(string qurt)
    {
        try
        {
            SqlCommand cmd = new SqlCommand(qurt, con);
            con.Open();
            cmd.ExecuteNonQuery();
            return true;
        }
        catch
        {
            return false;
        }
        finally
        {
            con.Close();
        }

    }

    static public DataSet showdata(string qurt)
    {
        DataSet ds = new DataSet();
        try
        {
            SqlDataAdapter adp = new SqlDataAdapter(qurt, con);
            adp.Fill(ds);
            return ds;
        }
        catch
        {
            return ds;
        }
    }

} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-10T06:04:23.820

您想使用[LoginView](http://msdn.microsoft.com/en-us/library/system.web.ui.webcontrols.loginview.aspx)控件。请参阅[ASP.NET 登录控件概述](http://msdn.microsoft.com/en-us/library/ms178329.aspx)以了解整个套件。

* * *

来自 MSDN 的示例：

```
<%@ Page Language="C#" %>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<script runat="server">
</script>

<html xmlns="http://www.w3.org/1999/xhtml" >
    <head runat="server">
    <title>ASP.NET Example</title>
</head>
<body>
        <form id="form1" runat="server">
            <p>
                <asp:LoginStatus id="LoginStatus1" runat="server"></asp:LoginStatus></p>
            <p>
                <asp:LoginView id="LoginView1" runat="server">
                    <AnonymousTemplate>
                        Please log in for personalized information.
                    </AnonymousTemplate>
                    <LoggedInTemplate>
                        Thanks for logging in 
                        <asp:LoginName id="LoginName1" runat="Server"></asp:LoginName>.
                    </LoggedInTemplate>
                    <RoleGroups>
                        <asp:RoleGroup Roles="Admin">
                            <ContentTemplate>
                                <asp:LoginName id="LoginName2" runat="Server"></asp:LoginName>, you
                                are logged in as an administrator.
                            </ContentTemplate>
                        </asp:RoleGroup>
                    </RoleGroups>
                </asp:LoginView></p>
        </form>
    </body>
</html> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-10T05:59:24.703

```
if (HttpContext.Current.User.IsInRole("member"))
{
  //enable/disable here
} 
```

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2013-01-10T06:06:37.180

嘿，我做了一个这样的应用程序。您需要做的是为管理员和其他用户创建单独的网页（即登录页面后）。然后，您可以通过他的凭据轻松地对管理员进行身份验证并重定向到相应的页面。您可以根据需要在那里放置一些控件。

如果您关心的是创建一个像控制访问板这样的应用程序，管理员可以在其中授予模块权限以显示在其他用户的子页面上显示的内容，然后通过您的回复告诉我。

# ios - 保持视图显示，直到响应从服务器到达

> ID：14251668
> 
> 赞同：0
> 
> 时间：2013-01-10T05:56:47.997
> 
> 标签：ios, objective-c, uitableview, uiviewcontroller

在我的应用程序中，我有一个`UITableViewController`并根据用户选择实例化一个新的`UIViewController`并通过 tcp 套接字发送对服务器的请求。

在响应从服务器到达之前，它已经运行`viewDidLoad`了`UIViewController`. 在大多数情况下，响应还没有到来。

`viewDidLoad`我的问题是：在收到响应并处理方法中的数据之前，如何停止运行`viewDidLoad`？

并且如果可能的话，也可以使整个过程异步，这样在响应到达之前它不会卡住整个应用程序。

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-10T06:12:12.440

无论您在 viewDidLoad 中进行什么数据处理，都将其移动到单独的函数中。当您从服务器通知视图控制器或调用委托接收数据时，并在收到通知或委托调用后，通过调用您为数据处理分离的方法进行数据处理。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-10T06:45:32.780

首先根据我的建议，您需要从表中选择一行然后`UIViewController`在此类中调用您的 &，您可以编写一个单独的方法，例如

> ```
>  -(void)GetData{} 
> ```

然后在后台线程中调用它

> ```
>  [self performSelectorInBackground:@selector(GetData) withObject:nil]; 
> ```

这个调用服务和获取数据的过程在后台工作，当它的响应来自服务器时，你会做一些事情，比如在视图中填充数据或显示它。

通过这样做，您的应用程序将不会静止，直到您的响应到来。

# drupal-7 - 启用多种语言时，如何使用视图模块显示内容？

> ID：14251670
> 
> 赞同：0
> 
> 时间：2013-01-10T05:56:55.813
> 
> 标签：drupal-7

启用多种语言时，如何使用视图模块显示内容？

我有一个运行 Drupal 7.17 的站点，支持两种语言（英语和日语）。我创建了显示节点的视图，并使用国际化模块进行翻译。

![英语](../Images/942371064d827f6d516111c1782cb11b.png)

![日本人](../Images/c6be0fe8ce5ac4b349060d2fd8e9b0ab.png)

当语言设置为英语时，一切正常；当语言是日语时，我不知道如何显示日语内容。

我将以下代码添加到由 Views 模块创建的块中。

```
<?php
  global $language;
  $lang_name = $language->language;
  if ($lang_name == "ja") {
    return TRUE;
  }
  else {
    return FALSE;
  }
?> 
```

用英文显示“Page not found”。

我能怎么做？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-11T13:30:05.487

您可以在视图中添加新的“过滤器标准”- 内容：语言（= 当前用户的语言）

# javascript - 检测使用javascript按下的输入键

> ID：14251676
> 
> 赞同：33
> 
> 时间：2013-01-10T05:57:15.250
> 
> 标签：javascript, enter

> **可能重复：**
> [Javascript 捕获键](https://stackoverflow.com/questions/756786/javascript-capture-key)

我正在使用 mysql 和 php 处理回复功能。

我的 MySQL 数据库：

```
reply:
  rid - id;
  topicid - under which topic;
  uid - id of the guy who replies;
  content - what did the guy said. 
```

这是我的html代码：

```
<form id="replyform">
  <textarea name="rplcont" placeholder="Press enter to submit your reply."><textarea>
</form> 
```

我的问题是：我怎么知道是否按下了输入按钮？

非常感谢。

/ *----------------------------------------------* /

这是我的有效代码：

html:

```
<textarea id="reply" name="reply" onKeyPress="enterpressalert(event, this)"></textarea> 
```

js：

```
function enterpressalert(e, textarea){
var code = (e.keyCode ? e.keyCode : e.which);
if(code == 13) { //Enter keycode
 alert('enter press');
}
} 
```

它有效。

感谢所有关注这个话题的人！

* * *

## 回答 #1

> 赞同：61
> 
> 时间：2013-01-10T05:59:45.153

```
var code = (e.keyCode ? e.keyCode : e.which);
if(code == 13) { //Enter keycode
    alert('enter press');
} 
```

# google-apps-script - Google App Script GUI Builder - 获取项目代码？

> ID：14251679
> 
> 赞同：0
> 
> 时间：2013-01-10T05:57:28.477
> 
> 标签：google-apps-script, gui-builder

我做了一些搜索，我不敢相信没有人问过同样的问题，所以也许我只是没有使用正确的词，但是如何从“组件”（或者简单地说...... gui ) 他们刚刚使用 Google App Script GUI Builder 创建的？我在这里遗漏了什么还是这根本不可能？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-10T06:22:33.277

您不需要代码在脚本中包含 GUI 构建的 Ui - 而且此代码确实不可用（请参阅[此处的 Corey 回答](https://stackoverflow.com/questions/14066041/where-is-the-gas-gui-builder-resource-stored-and-why-cant-i-see-the-code/14071351#14071351)） - 但您可以修改它或很容易地附加其他元素，如[this other post中所示](https://stackoverflow.com/questions/13425999/is-it-possible-to-embed-a-gui-built-with-gui-builder-in-another-panel/13434092#13434092)

# sql - 存储纯文本（除了 HTML 数据）以提高可搜索性是否有好处？

> ID：14251689
> 
> 赞同：2
> 
> 时间：2013-01-10T05:58:38.163
> 
> 标签：sql, sql-server, database, architectural-patterns

为了简单起见，我打算存储一些由最终用户创建的基于 html 的内容。所以像下面这样的表

```
create table Content
(
   ContentId,
   Title,
   ContentHtml
) 
```

现在，HTML 来自 CKEditor。存储内容的纯文本版本是否是一种好习惯，以便全文搜索或任何搜索机制可以更轻松地找到内容？如下所示。

```
table Content
(
   ContentId,
   Title,
   ContentHtml,
   ContentPlainText
) 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-13T23:31:43.173

正如评论中指出的：绝对！有一些格式字符串和 HTML 标记与任何可能的搜索都不相关（除非您正在寻找特别的格式，例如，有人使用`AliceBlue`.

此外，如果您没有像 HTML 标签名称那样输入“垃圾”，那么您的 indeces 可能会更有效率，从而加快您的搜索速度。

# sql - 数据集与 Sql 查询（选择、过程、函数）哪个更好用？

> ID：14251692
> 
> 赞同：1
> 
> 时间：2013-01-10T05:58:58.417
> 
> 标签：sql, .net, sql-server, dataset

我目前使用 SQL 查询（选择、过程、函数）与数据库进行通信。

到目前为止，我还没有使用过 Dataset。我真的无法理解数据集的概念。我只知道它们也可以用于从数据库中选择、插入、更新或删除。

但是，当我们可以使用 SQL 命令执行相同的任务时，为什么甚至需要数据集。

数据集在安全性方面是否更好？还是更快？

更新：

所以我读了这个论坛 ashutosh 给了 [http://social.msdn.microsoft.com/Forums/en/adodotnetdataset/thread/100cce91-cf9c-46c9-986a-98a409a196f2](http://social.msdn.microsoft.com/Forums/en/adodotnetdataset/thread/100cce91-cf9c-46c9-986a-98a409a196f2)

> 另一边的数据集可以从设计器中创建。Designer 允许您创建表、关系、约束……从服务器资源管理器拖放可能是另一个好处。使用 DataAdpater，您可以根据查询创建类型化的 DataSet。如果您的应用程序需要导入/导出，则在使用自定义实体时您必须自己编写此功能。使用 DataSet 这不是问题，允许您将数据导入/导出到 XML。它也可以绑定到 DataGridView 或任何其他类似的控件。DataSet 还支持一级历史记录，允许您恢复到每一行的先前版本。

很有帮助，但是问题仍然存在，我应该使用数据集还是查询来处理数据库。比如编辑记录、更新、删除等。

我使用我的查询，例如：

```
 SqlCommand cmdCheck = default(SqlCommand);
    string strQry ="Update, Delete, Insert queries";

    cmdCheck = new SqlCommand(strQry, Connection);
    openConnection();
    cmdCheck.ExecuteCommand();
    CloseConnection(); 
```

和 DataAdapter 用于选择查询。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2018-09-08T05:37:11.090

SQL 查询比 DataSet 工作得更好、更细化。DataSet 是表接口的简化，通常会导致来自设计不良的表的数据过多。关系数据库和标准查询语言的进一步抽象是 ORM 的概念，如 Hibernate 和 Microsoft 的实体框架。

是的，它们使编码变得简单，但就像所有事情一样简单，它们带走了数据库设计和规范化的细粒度方法，以及良好的编码实践和技能。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-10T06:07:10.330

阅读以下链接应该可以清除它。

[http://social.msdn.microsoft.com/Forums/en/adodotnetdataset/thread/100cce91-cf9c-46c9-986a-98a409a196f2](http://social.msdn.microsoft.com/Forums/en/adodotnetdataset/thread/100cce91-cf9c-46c9-986a-98a409a196f2)

这个想法不仅仅是与数据库交谈。数据集具有帮助您在从数据库恢复后执行操作的功能。拥有强类型集会有所帮助，例如，您将能够绑定到用户界面中的控件。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-13T06:53:28.513

到目前为止还没有任何好的答案。:(

所以我认为使用查询比使用数据集更好。因为 - 对于大型数据，数据集可能难以管理。我认为它们可能会导致数据传输缓慢。- Sql 查询简短且易于编写。- 我更了解 sql 查询，因为到目前为止我还没有使用过数据集。

如果我错了，请回复合理的答案。

# android - 不幸的是，应用程序已在 android 中停止

> ID：14251694
> 
> 赞同：1
> 
> 时间：2013-01-10T05:59:21.603
> 
> 标签：android, sockets

```
import java.io.IOException;
import java.io.PrintWriter;
import java.net.Socket;
import java.net.UnknownHostException;

import android.os.Bundle;
import android.app.Activity;
import android.view.View;
import android.view.View.OnClickListener;
import android.widget.Button;
import android.widget.EditText;

public class MainActivity extends Activity {

     private Socket client;
     private PrintWriter printwriter;
     private EditText etMsg, etIP, etPort;
     private Button button;
     private String messsage;
     int port=0;

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);

        etIP=(EditText)findViewById(R.id.editText1);
        etPort=(EditText)findViewById(R.id.editText2);
        etMsg=(EditText)findViewById(R.id.editText3);
        button=(Button)findViewById(R.id.button1);
        button.setOnClickListener(new OnClickListener() {

            @Override
            public void onClick(View v) {
                // TODO Auto-generated method stub

                messsage=etMsg.getText().toString();
                etMsg.setText("");
                port=Integer.parseInt(etPort.getText().toString());

                try
                {
                    client=new Socket(etIP.getText().toString(), port);
                    printwriter= new PrintWriter(client.getOutputStream(),true);
                    printwriter.write(messsage);
                    printwriter.flush();
                    printwriter.close();
                    client.close();
                }

                catch(UnknownHostException e)
                {
                    e.printStackTrace();
                } catch (IOException e) {
                    // TODO Auto-generated catch block
                    e.printStackTrace();
                }

            }
        });
    }

} 
```

以上是我的套接字编程代码。我在 2.2 froyo 中开发了它。它在 Android 设备上运行良好，并为我提供了正确的输出。但是，当我在最新版本的 Android（例如 IceCreamSandwhich 和 Jellybean）上开发和运行此代码时，它会向我显示一个错误，例如“不幸的是，应用程序已停止”。有什么问题，我不明白。请帮我解决这个问题。清单文件是

```
<?xml version="1.0" encoding="utf-8"?>
<manifest xmlns:android="http://schemas.android.com/apk/res/android"
    package="com.empty"
    android:versionCode="1"
    android:versionName="1.0" >

    <uses-permission android:name="android.permission.INTERNET" />
    <uses-permission android:name="android.permission.ACCESS_NETWORK_STATE" />
    <uses-permission android:name="android.permission.ACCESS_WIFI_STATE"></uses-permission>
    <uses-permission android:name="android.permission.CHANGE_WIFI_STATE"></uses-permission>

    <uses-sdk
        android:minSdkVersion="14"
        android:targetSdkVersion="14" />

    <application
        android:allowBackup="true"
        android:icon="@drawable/ic_launcher"
        android:label="@string/app_name"
        android:theme="@style/AppTheme" >
        <activity
            android:name="com.empty.MainActivity"
            android:label="@string/app_name" >
            <intent-filter>
                <action android:name="android.intent.action.MAIN" />
                <category android:name="android.intent.category.LAUNCHER" />
            </intent-filter>
        </activity>
    </application>

</manifest> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-10T06:05:03.227

您可以像这样在不同的线程中移动您的网络相关任务

```
import java.io.IOException;
import java.io.PrintWriter;
import java.net.Socket;
import java.net.UnknownHostException;

import android.os.Bundle;
import android.app.Activity;
import android.view.View;
import android.view.View.OnClickListener;
import android.widget.Button;
import android.widget.EditText;

public class MainActivity extends Activity {

    private Socket client;
    private PrintWriter printwriter;
    private EditText etMsg, etIP, etPort;
    private Button button;
    private String messsage;
    int port = 0;

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);

        etIP = (EditText) findViewById(R.id.editText1);
        etPort = (EditText) findViewById(R.id.editText2);
        etMsg = (EditText) findViewById(R.id.editText3);
        button = (Button) findViewById(R.id.button1);
        button.setOnClickListener(new OnClickListener() {

            @Override
            public void onClick(View v) {
                // TODO Auto-generated method stub

                messsage = etMsg.getText().toString();
                etMsg.setText("");
                port = Integer.parseInt(etPort.getText().toString());

                new Thread(new Runnable() 
                {

                    @Override
                    public void run() {
                        // TODO Auto-generated method stub
                        try 
                        {
                            client = new Socket(etIP.getText().toString(), port);
                            printwriter = new PrintWriter(client.getOutputStream(),true);
                            printwriter.write(messsage);
                            printwriter.flush();
                            printwriter.close();
                            client.close();
                        }

                        catch (UnknownHostException e) {
                            e.printStackTrace();
                        } catch (IOException e) {
                            // TODO Auto-generated catch block
                            e.printStackTrace();
                        }       
                    }
                }).start();

            }
        });
    }

} 
```

如果您遇到任何问题，请告诉我。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-05-11T01:06:33.873

您可以将此代码用于您的 mainActivity.java 文件

```
sourceSets {
        main {
            jniLibs.srcDirs = ['libs']
        }
    }
dependencies {
    compile fileTree(dir: 'libs', include: ['*.jar']) 
```

# jquery - 如何在html5中使用图像映射更改图像文本的颜色

> ID：14251696
> 
> 赞同：1
> 
> 时间：2013-01-10T05:59:23.573
> 
> 标签：jquery, html, imagemap

嗨，我有一个图像，如果我将鼠标悬停在图像上的特定部分，那么图像中的文本，它的颜色应该在悬停时改变。我已经应用了可以使用图像映射的代码，如果我在该区域滚动鼠标，它会显示蓝色补丁。但这并不顺利。请帮助我如何更改图像中的文本颜色。这也是我使用的正确方法。提前致谢。

我使用的代码是：HTML：

```
<map id="map1" name="whatever" style="display:none">
        <area id="1" href="#" shape="rect" coords="10,10,200,150" style="border: black 1px solid"/>
    </map>

    <div id="main">
        <div id="rect" style=" position:absolute; background-color:#039; display:none" ></div>
        <img id="tnt"  src="images/image1.png" usemap="#whatever" />
    </div> 
```

JS：

```
$(window).load(function () {
        var abc = $('#map1');
        var x, y, id_ = "", arr, k = "";
        var ttt = $('#rect').position();
        var tre = $('#tnt').position();
        abc.hover(function (e) {
            id_ = '#' + e.target.id;
            arr = ($(id_).attr('coords')).split(',');
            //alert("hello")
            arr[0] = arr[0] * 1;
            arr[1] = arr[1] * 1;
            $('#rect').css('left', tre.left + arr[0]);
            $('#rect').css('top', tre.top + arr[1]);
            $('#rect').css('width', 185);
            $('#rect').css('height', 160);
            $('#rect').toggle();

            abc.on('click', function (event) {
                $('#rect' + id_.split('#')[1]).css('left', tre.left + arr[0]);
                $('#rect' + id_.split('#')[1]).css('top', tre.top + arr[1]);
                $('#rect' + id_.split('#')[1]).toggle();
            });
        });
}); 
```

CSS：

```
#map a {
    cursor: hand;
}

$('#mapimage').mapster(
    { 
        fillColor: '090'
    });

img:hover {
  border: 5px solid #090;
}

fb-icon{
    background:none;
}

fb-icon:hover{
    background:#03C;
}

#area:hover{
     background:#03C;
} 
```

我正在使用的仅用于测试的图像是

![在此处输入图像描述](../Images/f16e00df07f8f28d84f8ac776c25cd11.png)

# android - 无法通过 Maven Android 插件将 android 构建部署到 GIT 存储库

> ID：14251704
> 
> 赞同：1
> 
> 时间：2013-01-10T06:00:06.133
> 
> 标签：android, git, maven, github

我正在尝试使用 Maven-Android-Plugin 将我的 android 项目部署到 Git 存储库。但是，在部署时，我收到如下错误：

> ***[无法部署工件：在 github ( https://github.com/rlsahu/AndroidPOC](https://github.com/rlsahu/AndroidPOC) )中找不到工件 com.example:asynctasksample:apk:1.0-20130110.120545-1***

请查看以下内容以获取更多详细信息：

```
 F:\Android\AsyncTaskSample>mvn deploy
[INFO] Scanning for projects...
[INFO]
[INFO] ------------------------------------------------------------------------
[INFO] Building asynctasksample 1.0-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO]
[INFO] --- android-maven-plugin:3.5.0:generate-sources (default-generate-sources) @ asynctasksample ---
[INFO] ANDROID-904-002: Found aidl files: Count = 0
[INFO] ANDROID-904-002: Found aidl files: Count = 0
[INFO] Manifest merging disabled. Using project manifest only
[INFO] E:\Nitin\Android-SDK\Android\android-sdk\platform-tools\aapt.exe [package, -m, -J, F:\Android\AsyncTaskSample\target\generated-sources\r, -M, F:\Android\AsyncTaskSample\AndroidManifest.xml, -S, F:\Android\AsyncTaskSample\res, --auto-add-overlay, -A, F:\Android\AsyncTaskSample\assets, -I, E:\Nitin\Android-SDK\Android\android-sdk\platforms\android-10\android.jar]
[INFO]
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ asynctasksample ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory F:\Android\AsyncTaskSample\src\main\resources
[INFO] skip non existing resourceDirectory F:\Android\AsyncTaskSample\target\generated-sources\extracted-dependencies\src\main\resources
[INFO]
[INFO] --- maven-compiler-plugin:3.0:compile (default-compile) @ asynctasksample ---
[INFO] Changes detected - recompiling the module!
[INFO] Compiling 3 source files to F:\Android\AsyncTaskSample\target\classes
[INFO]
[INFO] --- android-maven-plugin:3.5.0:proguard (default-proguard) @ asynctasksample ---
[INFO]
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ asynctasksample ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory F:\Android\AsyncTaskSample\src\test\resources
[INFO]
[INFO] --- maven-compiler-plugin:3.0:testCompile (default-testCompile) @ asynctasksample ---
[INFO] No sources to compile
[INFO]
[INFO] --- maven-surefire-plugin:2.13:test (default-test) @ asynctasksample ---
[INFO] No tests to run.
[INFO]
[INFO] --- android-maven-plugin:3.5.0:emma (default-emma) @ asynctasksample ---
[INFO]
[INFO] --- android-maven-plugin:3.5.0:dex (default-dex) @ asynctasksample ---
[INFO] C:\Program Files\Java\jdk1.6.0_18\jre\bin\java [-Xmx1024M, -jar, E:\Nitin\Android-SDK\Android\android-sdk\platform-tools\lib\dx.jar, --dex, --output=F:\Android\AsyncTaskSample\target\classes.dex, F:\Android\AsyncTaskSample\target\classes]
[INFO]
[INFO] --- maven-jar-plugin:2.4:jar (default-jar) @ asynctasksample ---
[INFO] Building jar: F:\Android\AsyncTaskSample\target\AndroidPOC.jar
[INFO]
[INFO] --- android-maven-plugin:3.5.0:apk (default-apk) @ asynctasksample ---
[INFO] Copying local assets files to combined assets directory.
[INFO] Enabling debug build for apk.
[INFO] E:\Nitin\Android-SDK\Android\android-sdk\platform-tools\aapt.exe [package, -f, -M, F:\Android\AsyncTaskSample\AndroidManifest.xml, -S, F:\Android\AsyncTaskSample\res, --auto-add-overlay, -A, F:\Android\AsyncTaskSample\target\generated-sources\combined-assets\assets, -I, E:\Nitin\Android-SDK\Android\android-sdk\platforms\android-10\android.jar, -F, F:\Android\AsyncTaskSample\target\AndroidPOC.ap_, --debug-mode]
[INFO] Add native libraries from F:\Android\AsyncTaskSample\libs
[INFO]
[INFO] --- android-maven-plugin:3.5.0:internal-pre-integration-test (default-internal-pre-integration-test) @ asynctasksample ---
[INFO] No InstrumentationRunner found - skipping tests
[INFO]
[INFO] --- android-maven-plugin:3.5.0:internal-integration-test (default-internal-integration-test) @ asynctasksample ---
[INFO] No InstrumentationRunner found - skipping tests
[INFO]
[INFO] --- maven-install-plugin:2.4:install (default-install) @ asynctasksample ---
[INFO] Installing F:\Android\AsyncTaskSample\target\AndroidPOC.apk to C:\Users\rsahu\.m2\repository\com\example\asynctasksample\1.0-SNAPSHOT\asynctasksample-1.0-SNAPSHOT.apk
[INFO] Installing F:\Android\AsyncTaskSample\pom.xml to C:\Users\rsahu\.m2\repository\com\example\asynctasksample\1.0-SNAPSHOT\asynctasksample-1.0-SNAPSHOT.pom
[INFO] Installing F:\Android\AsyncTaskSample\target\AndroidPOC.jar to C:\Users\rsahu\.m2\repository\com\example\asynctasksample\1.0-SNAPSHOT\asynctasksample-1.0-SNAPSHOT.jar
[INFO]
[INFO] --- downloads-maven-plugin:0.6:upload (default) @ asynctasksample ---
[INFO] Adding 1 download to repository rlsahu/AndroidPOC
[INFO] Deleting existing download: AndroidPOC.apk (id=392972)
[INFO] Adding download: AndroidPOC.apk (24,789 bytes)
[INFO]
[INFO] --- maven-deploy-plugin:2.7:deploy (default-deploy) @ asynctasksample ---
Downloading: https://github.com/rlsahu/AndroidPOC/com/example/asynctasksample/1.0-SNAPSHOT/maven-metadata.xml
Uploading: https://github.com/rlsahu/AndroidPOC/com/example/asynctasksample/1.0-SNAPSHOT/asynctasksample-1.0-20130110.120545-1.apk
Uploading: https://github.com/rlsahu/AndroidPOC/com/example/asynctasksample/1.0-SNAPSHOT/asynctasksample-1.0-20130110.120545-1.pom
[INFO] ------------------------------------------------------------------------
[INFO] BUILD FAILURE
[INFO] ------------------------------------------------------------------------
[INFO] Total time: 24.513s
[INFO] Finished at: Thu Jan 10 17:35:49 IST 2013
[INFO] Final Memory: 12M/29M
[INFO] ------------------------------------------------------------------------
[ERROR] Failed to execute goal org.apache.maven.plugins:maven-deploy-plugin:2.7:deploy (default-deploy) on project asynctasksample: Failed to deploy artifacts: Could not find artifact com.example:asynctasksample:apk:1.0-20130110.120545-1 in github (https://github.com/rlsahu/AndroidPOC) -> [Help 1]
[ERROR]
[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.
[ERROR] Re-run Maven using the -X switch to enable full debug logging.
[ERROR]
[ERROR] For more information about the errors and possible solutions, please read the following articles:
[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException
F:\Android\AsyncTaskSample> 
```

我的 pom.xml 文件如下：

```
 <?xml version="1.0" encoding="UTF-8"?>
<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd">
    <modelVersion>4.0.0</modelVersion>
    <groupId>com.example</groupId>
    <artifactId>asynctasksample</artifactId>
    <version>1.0-SNAPSHOT</version>
    <packaging>apk</packaging>

    <issueManagement>
        <url>https://github.com/rlsahu/AndroidPOC/issues</url>
        <system>GitHub Issues</system>
    </issueManagement>

    <distributionManagement>
    <repository>
      <uniqueVersion>false</uniqueVersion>
      <id>github</id>
      <name>Android POC</name>
      <url>https://github.com/rlsahu/AndroidPOC</url>
    </repository>
  </distributionManagement>

    <licenses>
        <license>
            <name>MIT License</name>
            <url>http://www.opensource.org/licenses/mit-license.php</url>
            <distribution>repo</distribution>
        </license>
    </licenses>

    <scm>
        <url>https://github.com/rlsahu/AndroidPOC</url>
        <connection>scm:git:git://github.com/rlsahu/AndroidPOC.git</connection>
        <developerConnection>scm:git:git@github.com:rlsahu/AndroidPOC.git</developerConnection>
    </scm>

    <developers>
        <developer>
            <email>rsahu@cybage.com</email>
            <url>https://github.com/rlsahu</url>
            <id>rlsahu</id>
        </developer>
    </developers>

    <properties>
        <project.build.sourceEncoding>UTF-8</project.build.sourceEncoding>
        <github.global.server>github</github.global.server>
    </properties>

    <dependencies>
        <dependency>
            <groupId>com.google.android</groupId>
            <artifactId>android</artifactId>
            <version>1.6_r2</version>
            <scope>provided</scope>
        </dependency>
    </dependencies>
    <build>
        <finalName>AndroidPOC</finalName>
        <sourceDirectory>src</sourceDirectory>
        <pluginManagement>
            <plugins>
                <plugin>
                    <groupId>com.jayway.maven.plugins.android.generation2</groupId>
                    <artifactId>android-maven-plugin</artifactId>
                    <version>3.5.0</version>

                    <extensions>true</extensions>
                </plugin>
            </plugins>
        </pluginManagement>
        <plugins>
            <plugin>
                <groupId>com.jayway.maven.plugins.android.generation2</groupId>
                <artifactId>android-maven-plugin</artifactId>
                <configuration>
                    <override>true</override>
                    <sdk>
                        <!-- platform or api level (api level 4 = platform 1.6)-->
                        <platform>10</platform>
                    </sdk>
                </configuration>
            </plugin>

            <plugin>
                <groupId>com.github.github</groupId>
                <artifactId>downloads-maven-plugin</artifactId>
                <version>0.6</version>

                <configuration>
                    <override>true</override>
                    <message>Building site for ${project.version}</message>
                    <server>github</server>
                </configuration>

                <executions>
                    <execution>
                        <goals>
                            <goal>upload</goal>
                        </goals>
                        <phase>install</phase>
                    </execution>
                </executions>
            </plugin>
            <plugin>
                <groupId>com.github.github</groupId>
                <artifactId>site-maven-plugin</artifactId>
                <version>0.7</version>
                <configuration>
                    <override>true</override>
                    <message>Building site for ${project.version}</message>
                    <server>AndroidPOC</server>
                </configuration>
                <executions>
                    <execution>
                        <goals>
                            <goal>site</goal>
                        </goals>
                        <phase>site</phase>
                    </execution>
                </executions>
            </plugin>           
        </plugins>
    </build>
</project> 
```

请通过查看以上内容提供您的建议。谢谢。

# javascript - 在 302 重定向的情况下，如何从 Greasemonkey 的 GM_xmlhttpRequest“onload”回调中找到请求 URL？

> ID：14251709
> 
> 赞同：1
> 
> 时间：2013-01-10T06:00:49.290
> 
> 标签：javascript, greasemonkey, asynccallback, gm-xmlhttprequest

我的[`GM_xmlhttpReqeust`](http://wiki.greasespot.net/GM_xmlhttpRequest)Greasemonkey 脚本中有如下功能设置（简化版）。

```
 GM_xmlhttpRequest({
    synchronous: false,
    method: "HEAD",
    url: "http://www.example1.com",
    onload: function(response){console.debug(url);},
  }); 
```

*   `GM_xmlhttpReqeust`在我的代码中以***异步***模式调用。

*   访问后，`http://www.example1.com`是否***302 重定向***到`http://www.example2.com`

*   我想在回调函数中访问原始`url`参数 ( `http://www.example1.com`)的值。`onload`

*   根据`GM_xmlhttpReqeust` [文档](http://wiki.greasespot.net/GM_xmlhttpRequest)，`http://www.example2.com`可以在`response.finalUrl`内部`onload`回调中找到。

有人可以指点我正确的 Greasemonkey/JavaScript 方式吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-10T06:22:57.717

我在下面得到了一个愚蠢的解决方案，我希望它会起作用。

```
GM_xmlhttpRequest ( {
    synchronous:    false,
    method:         "HEAD",
    url:            "http://www.google.com",
    onload:         function (response) {
        console.debug (this.url);
    }
} ); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-10T06:40:40.627

`response`传递给的`onload`是[具有以下关键属性](http://wiki.greasespot.net/GM_xmlhttpRequest#Response_Object)[的*对象*](http://wiki.greasespot.net/GM_xmlhttpRequest#Response_Object)：

*   就绪状态
*   响应头
*   响应文本
*   地位
*   状态文本
*   最终网址

你想要`finalUrl`，你会得到它：

```
GM_xmlhttpRequest ( {
    synchronous:    false,
    method:         "HEAD",
    url:            "http://www.google.com",
    onload:         function (response) {
        console.debug (response.finalUrl);
    }
} ); 
```

* * *

* * *

# 修订/澄清问题的更新：

为了获取/知道最初请求的 URL，您必须调用`GM_xmlhttpRequest()`一个[*闭包*](https://stackoverflow.com/q/111102/331508)。像这样：

```
var origURL = "http://www.google.com";

(function (targURL) {
    GM_xmlhttpRequest ( {
        synchronous:    false,
        method:         "HEAD",
        url:            targURL,
        onload:         function (response) {
            console.log ("orig URL: ", targURL);
            console.log ("final URL: ", response.finalUrl);
        }
    } );
} ) (origURL); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2016-11-19T04:25:13.507

指

[http://userscripts-mirror.org/topics/51161](http://userscripts-mirror.org/topics/51161)

首先你需要：

```
var method = this;
  var oldargs = [].slice.call( arguments, 1 );
  return function () {
    var newargs = [].slice.call( arguments );
    return method.apply( thisObject, oldargs.concat( newargs ));
  };
} 
```

然后你走，类似的方式......

[![在此处输入图像描述](../Images/8009d0f2dcfb0094718f7b31ed993e23.png)](https://i.stack.imgur.com/n7nH1.png)

# android - 如何在 Android 上同时启动应用程序

> ID：14251711
> 
> 赞同：0
> 
> 时间：2013-01-10T06:00:54.000
> 
> 标签：android, android-intent

我有两个应用程序，A 和 B。
我想通过 A 调用B。
我在 A 中的代码如下：

```
Intent intent = new Intent(Intent.ACTION_MAIN);
intent.setComponent(new ComponentName("com.example.bapp","com.example.bapp.BActivity"));
intent.putExtra ("test2abc", "abctest2");
startActivity(intent); 
```

B在清单中的意图过滤器如下：

```
<intent-filter>
    <action android:name="ACTION_BACKCALL" />
    <category android:name="android.intent.category.DEFAULT" />
</intent-filter> 
```

但是它会在 B 已经打开时在启动 B 之前关闭 B。
我找到下面的代码来打开 *.txt 文件。这将同时打开两个 txt 阅读器应用程序。

```
Intent intent = new Intent(Intent.ACTION_VIEW);
intent.setDataAndType(Uri.fromFile(file), mimetype);
startActivity(inte 
```

nt);

我怎样才能到达那个？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-10T06:26:32.183

嘿，我找到了这个代码片段[从 Android 上的另一个应用程序启动一个应用程序，](https://stackoverflow.com/questions/3872063/android-launch-an-application-from-another-application)这将适用于您设置您要启动的应用程序的地址

```
Intent LaunchIntent = getPackageManager().getLaunchIntentForPackage("com.package.address");
startActivity(LaunchIntent); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-10T13:05:29.413

您可能想 在定义启动器活动时尝试**android:launchMode="singleInstance"**和 **android:finishOnTaskLaunch="true" 。**

```
 <activity
        android:name="com.example.test.sampleMediaPlayer"
        android:label="@string/app_name"
        android:launchMode="singleInstance"
        android:finishOnTaskLaunch="true" >
        <intent-filter>
            <action android:name="android.intent.action.MAIN" />

            <category android:name="android.intent.category.LAUNCHER" />
        </intent-filter>
    </activity> 
```

对于活动 A。

# meteor - 模板中的多个集合查询

> ID：14251714
> 
> 赞同：1
> 
> 时间：2013-01-10T06:01:11.443
> 
> 标签：meteor

所以我有这个：

```
Template.cards.cards = function () {
  var deck = Deck.findOne({active: 1});
  var cards = Cards.find({deck_id: deck['_id']}).fetch();
  return cards;
} 
```

但是“deck”返回未定义，即使从浏览器控制台调用相同的查询返回结果。

我觉得这是一个反应性问题，而我实现这一目标的方式存在根本性的问题。这感觉像是一种非常关系性的处理方式，我也是非关系数据存储的新手。我觉得我的处理方式可能存在根本性的问题，但我是 Meteor 的新手，我浏览了文档，但找不到我可能出错的地方。任何帮助是极大的赞赏。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-10T15:15:09.983

如果您尝试`Deck`在启动时立即访问您的订阅，则数据可能尚未加载。您可以在方法中使用回调`subscribe`来确保您有数据：

```
Meteor.subscribe("deck", function () {
    Session.set("activeDeck", 1);
};

Template.cards.cards = function () {
    var deck = Deck.findOne({ active: Session.get("activeDeck") });
    var cards = Cards.find({ deck_id: deck['_id'] }).fetch();
    return cards;
}; 
```

也许您想将其更改为订阅`decks`，然后在会话中存储一个牌组 id 而不仅仅是一个活动标志。

希望这可以帮助。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-10T08:07:45.403

**[1]**首先，检查`active`您传递的数据类型。如果它是一个字符串，那么`{active: 1}`将导致`false`并且查询将不返回任何结果。并且`deck`将继续存在`undefined`。

**[2]**尝试`findOne`as 的替代方式：`Deck.find({active: 1}).fetch()[0];`这将返回与`Deck.findOne({active: 1});`

**[3]**`findOne()` and`find().fetch()[0]`返回**具有属性**的对象，引用对象属性的有效方式是`objectName.propertyName`，所以替换`deck['_id']`为`deck._id`in`Cards.find({deck_id: deck['_id']}).fetch();`

# android - 如何在没有安装在设备中的“Google Plus”应用程序的情况下将消息分享给 google plus

> ID：14251715
> 
> 赞同：5
> 
> 时间：2013-01-10T06:01:19.173
> 
> 标签：android, google-plus

我已经使用 Auth 2.0 和使用本地 Share(+1) Button 集成了 google plus，就像在[Google Plus Developers](https://developers.google.com/+/)上一样。代码运行良好（登录、获取个人资料和搜索朋友）。

但我现在想在 google plus 上分享文字。

通过第二种方式，使用 google plus android 开发人员建议的共享按钮在共享消息的情况下工作良好。

**但是我想在不使用意图或 ShareCompat 等的情况下与用户的 google plus 共享消息。有没有什么办法，因为这一切都需要 Google Plus 应用程序必须安装在设备中......？**

*有没有什么方法可以做到这一点，而不需要在设备中安装 google plus 应用程序......？*

问候，

阿皮特

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-01-10T17:36:36.043

您可以使用 Google+ 共享表单的路径明确共享链接。例如：

[https://plus.google.com/share?url=http://stackoverflow.com](https://plus.google.com/share?url=http://stackoverflow.com)

将分享一个指向 Stack Overflow 的链接。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-01-10T06:29:57.020

google API 不允许像 facebook 和 twitter api 这样的写访问。您必须安装 google 应用程序。

他们在这里说：

> 注意：Google+ API 目前提供对公共数据的只读访问权限。所有 API 调用都需要 OAuth 2.0 令牌或 API 密钥。

Google plus [API](https://developers.google.com/+/api/)目前提供只读访问。

# java - 将 24 小时划分为 30 分钟的时间间隔

> ID：14251716
> 
> 赞同：2
> 
> 时间：2013-01-10T06:01:37.287
> 
> 标签：java, date, datetime

我想知道如何循环通过日期/时间或任何类型的变量以每 30 分钟从 00:00 到 24:00？

因此，我需要一个以 24HR 格式（01:00、09:00）显示时间的变量，并且每次循环通过它时，将时间增加 30 分钟？然后我需要在字符串中使用这个值。

时间需要从上午 00:00 开始，到 24:00 结束。

有什么想法我应该怎么做？

```
output should be like this - 00:00 00:30 01:00 ....24:00 
```

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2013-01-10T06:11:48.213

可能有点过度杀戮，但它会自动滚动并允许使用`DateFormat`

```
DateFormat df = new SimpleDateFormat("HH:mm");
Calendar cal = Calendar.getInstance();
cal.set(Calendar.HOUR_OF_DAY, 0);
cal.set(Calendar.MINUTE, 0);
cal.set(Calendar.SECOND, 0);
int startDate = cal.get(Calendar.DATE);
while (cal.get(Calendar.DATE) == startDate) {
    System.out.println(df.format(cal.getTime()));
    cal.add(Calendar.MINUTE, 30);
} 
```

你不能`24:00`像现在这样`00:00`...

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2017-07-18T14:58:29.257

尝试使用此代码

```
private void displayTimeSlots() {

    String timeValue = "T00:00:4.896+05:30";
    SimpleDateFormat sdf = new SimpleDateFormat("'T'hh:mm:ss.SSS");
    try {
        Calendar startCalendar = Calendar.getInstance();
        startCalendar.setTime(sdf.parse(timeValue));

        if (startCalendar.get(Calendar.MINUTE) < 30) {
            startCalendar.set(Calendar.MINUTE, 30);
        } else {
            startCalendar.add(Calendar.MINUTE, 30); // overstep hour and clear minutes
            startCalendar.clear(Calendar.MINUTE);
        }

        Calendar endCalendar = Calendar.getInstance();
        endCalendar.setTime(startCalendar.getTime());

        // if you want dates for whole next day, uncomment next line
        //endCalendar.add(Calendar.DAY_OF_YEAR, 1);
        endCalendar.add(Calendar.HOUR_OF_DAY, 24 - startCalendar.get(Calendar.HOUR_OF_DAY));

        endCalendar.clear(Calendar.MINUTE);
        endCalendar.clear(Calendar.SECOND);
        endCalendar.clear(Calendar.MILLISECOND);

        SimpleDateFormat slotTime = new SimpleDateFormat("hh:mm a");
        while (endCalendar.after(startCalendar)) {

            startCalendar.add(Calendar.MINUTE, 30);
            String Timeslots = slotTime.format(startCalendar.getTime());

            Log.e("DATE", Timeslots);
        }

    } catch (ParseException e) {
        // date in wrong format
    }
} 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2017-07-19T01:31:39.617

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-01-10T06:11:27.977

尝试这个 -

```
Calendar instance = Calendar.getInstance();
instance.setTime(new SimpleDateFormat("hh:mm:ss a").parse("00:00:00 AM"));
System.out.println(instance.getTime());
int i=1;
while(i++!=49){
     instance.add(Calendar.MINUTE, 30);
     System.out.println(instance.getTime());
} 
```

# javascript - javaScript中模块关闭之前和模块关闭之后的“（）”或“（otherModule）”之间的区别

> ID：14251727
> 
> 赞同：0
> 
> 时间：2013-01-10T06:02:48.703
> 
> 标签：javascript

我是 JavaScript 模块的新手。我为此阅读了很多文章，发现模块是通过以下两种不同的方式定义的：

```
// '()' after module close
var firstModule = (function() {
  // Module defination goes here
})();

// '()' before module close
var secondModule = (function() {
  // Module definition goes here
}()); 
```

我都尝试了，但没有发现任何区别。

请回答两者之间有什么区别，在这种情况下我们必须使用哪种类型的声明？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-10T06:06:23.843

在实践中没有区别。这只是偏好，你甚至可以这样写：

```
var f = function(){ ... }(); 
```

它周围的括号是为了警告您该函数是一个 IIFE（立即调用函数表达式）。在第一个示例中，您仅将函数视为表达式。在第二个中，您将整个 IIFE 视为一个表达式。代码的运行方式没有区别，它只是为您提供线索。

# java - Java：修改和访问在构造函数中初始化的变量

> ID：14251729
> 
> 赞同：0
> 
> 时间：2013-01-10T06:03:04.907
> 
> 标签：java, constructor, scope, variable-assignment

我有一堂课。
我在该类的构造函数中初始化了一个变量。
我调用一个包含`while`循环的方法，并在每次通过时递增变量。
我写了一个测试来检查该方法被调用后的变量值（并通过一次while循环）。

```
public class ThreadGenerator implements Runnable {
  private int requests;
  private int limit;

  public ThreadGenerator() {
    requests = 0;
  }

  public void setRequestLimit(int anyLimit) {
    this.limit = anyLimit;
  }

  public void generateThread() {
    new Thread(this).start();
  }

  public void run() {
      while(requests < limit) {
          try {
              // do some stuff
              requests++;
              // close some stuff
          } catch (IOException e) {
            e.printStackTrace();
          }
      }
  }

  public int getRequests() {
      return requests; // calling this method from my tests always returns 0
  } 
```

在我的测试中，当我创建此类的新实例，然后在该类上调用此方法时，它会正确运行并正确递增请求计数器。我已经尝试了几个打印语句来确保这一点。但是，如果我在测试中调用`getRequests`我的 `ThreadGenerator`对象，它将返回 0，即初始化的数量。

我的测试代码：

```
ThreadGenerator threadGenerator = new ThreadGenerator();
threadGenerator.setRequestLimit(1);
threadGenerator.generateThread();
assertEquals(threadGenerator.getRequests(), 1); 
```

如何修改我在构造函数中初始化的这个变量并在我的测试套件中访问它？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-01-10T06:17:33.527

请记住，仅仅因为您要求 Java 使用 Runnable 创建一个新线程，并不意味着该`run()`方法将立即被调用。这很可能是在第一次`assertEquals`发生之前发生的。`run`

您可能希望返回线程并[`join`](http://docs.oracle.com/javase/6/docs/api/java/lang/Thread.html#join%28long%29)在生成的线程上调用测试，这将确保线程运行直到它死亡，可能有一个短暂的超时。

```
/* in the system under test */
@VisibleForTesting Thread generateAndReturnThread() {
  Thread thread = new Thread(this);
  thread.start();
  return thread;
}

public void generateThread() {
  generateAndReturnThread();
}

/* in the test */
@Test public void yourTest() {
  ThreadGenerator threadGenerator = new ThreadGenerator();
  threadGenerator.setRequestLimit(1);

  // wait up to a second for thread to complete
  threadGenerator.generateThreadAndReturn().join(1000);

  assertEquals(threadGenerator.getRequests(), 1);
} 
```

旁注：考虑[`AtomicInteger`](http://docs.oracle.com/javase/6/docs/api/java/util/concurrent/atomic/AtomicInteger.html)您的请求类，如果多个线程可能会修改`requests`. 这将有助于防止两个不同的线程相互修改`requests`和覆盖。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-10T06:47:03.433

除了上面的答案，考虑将变量声明为 volatile，这样你就可以在另一个线程增加变量后实际获得最新的值。

# android - 在另一个类中使用 asynctask

> ID：14251735
> 
> 赞同：2
> 
> 时间：2013-01-10T06:03:18.117
> 
> 标签：android, android-asynctask

我在活动中使用 asynctask 编写了一些代码。但是希望在单独的 java 文件中编写的服务类中重用相同的代码。我试图在一个单独的 java 文件中编写代码，以便我可以在两者上使用它。但它并没有为 asynctask 锻炼。有没有办法这样做。请提供一些它的教程，如果有的话。谢谢。代码是这样的。

MainActivity.java

```
//import java.util.Calendar;

import java.util.ArrayList;
import java.util.HashMap;

import org.json.JSONArray;
import org.json.JSONException;
import org.json.JSONObject;

import android.app.AlarmManager;
import android.app.ListActivity;
import android.app.PendingIntent;
import android.app.ProgressDialog;
import android.content.Context;
import android.content.Intent;
import android.os.AsyncTask;
import android.os.Bundle;
import android.util.Log;
import android.widget.ListAdapter;
import android.widget.SimpleAdapter;

public class AndroidJSONParsingActivity extends ListActivity {

    protected static final String TAG_PRODUCTS = "products";
    protected static final String TAG_CID = "cid";
    public static final String TAG_NAME = "name";

    JSONArray products = null;
    ArrayList<HashMap<String, String>> contactList = new ArrayList<HashMap<String, String>>();
    public static String url = "http://ensignweb.com/sandbox/app/comment11.php";
    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.main);
        startService(new Intent(this, UpdateService.class));
        new Messages().execute();
        Intent intent = new Intent(this,UpdateService.class);
        PendingIntent pIntent = PendingIntent.getService(this, 0, intent, 0);
        AlarmManager alarm = (AlarmManager) getSystemService(Context.ALARM_SERVICE);
        alarm.setRepeating(AlarmManager.RTC_WAKEUP, System.currentTimeMillis(), 30000, pIntent);        

    }

@Override
    protected void onStart() {
        // TODO Auto-generated method stub
        super.onStart();
        new Messages().execute();
    }
    //Belongs to update service
    @Override
    protected void onDestroy() {
        // TODO Auto-generated method stub
        super.onDestroy();
//      stopService(new Intent(this, UpdateService.class));
    }

    class Messages extends AsyncTask<Void, Void, Void> {
        ArrayList<HashMap<String, String>> mylist = new ArrayList<HashMap<String, String>>();
        ProgressDialog dialog = null;
        @Override
        protected Void doInBackground(Void... params) {
            // TODO Auto-generated method stub

            dialog.setTitle("Progressing");
            dialog.setMessage("be patient");
            JSONParser JSP = new JSONParser();
            JSONObject json = JSP.getJSONFromUrl(url);

            try{
                products = json.getJSONArray(TAG_PRODUCTS);
                for(int i = products.length()-1; i >=0; i--){
                    JSONObject c = products.getJSONObject(i);

                    // Storing each json item in variable
                    String cid = c.getString(TAG_CID);
                    String name = c.getString(TAG_NAME);
                    // creating new HashMap
                    HashMap<String, String> map = new HashMap<String, String>();

                    // adding each child node to HashMap key => value
                    map.put(TAG_CID, cid);
                    map.put(TAG_NAME, name);

                    // adding HashList to ArrayList
                    contactList.add(map);
                    Log.d("value", contactList.toString());
                }
        }catch(JSONException e){
            e.printStackTrace();
        }

            return null;
        }

        @Override
        protected void onPostExecute(Void result) {
            // TODO Auto-generated method stub

            super.onPostExecute(result);
//          dialog.dismiss();
            ListAdapter adapter = new SimpleAdapter(AndroidJSONParsingActivity.this, contactList,
                    R.layout.list_item,
                    new String[] { TAG_NAME,}, new int[] {
                            R.id.name});
            AndroidJSONParsingActivity.this.setListAdapter(adapter);
        }
    }   
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-10T06:26:55.053

我不确定你为什么需要`AsyncTask`一个服务。但是，您可以这样做，但您必须确保在从其他活动运行时不会尝试执行它。此外，他们将需要向其发送相同类型的参数。通常，您最好为需要它的不同类创建单独的任务，但它可以工作。为了安全起见，您需要`cancel()`在`AsyncTask`销毁活动时调用它，以确保在从其他类调用它时它没有运行。除此之外，我们需要查看 的代码`AsyncTask`以及如何从两个类中调用它。

**编辑**

您可以创建一个单独的类来扩展`AyncTask`并从您的活动中调用它。内部类的好处是您可以访问成员变量。您遇到的另一个问题是尝试`progressBar`从您的`doInBackground()`. 你不能`UI`从那里操纵。不过，您可以使用其他 3`AsyncTask`种方法（`onProgressUpdate()`、`onPostExecute()`和`onPreExecute()`）。

要为`AsyncTask`.`Activity UI`

```
Public class MyAsyncTask extends AsyncTask
{

private Context context; 

public MyAsyncTask(Context context) {
    this.context = context;
}

// Add your AsyncTask methods and logic
//you can use your context variable in onPostExecute() to manipulate activity UI
}` 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-10T06:39:34.880

您不需要在服务中使用 asynchTask，这项工作可以通过 intentService 完成

创建一个默认工作线程，该线程执行与应用程序的主线程分开的所有传递到 onStartCommand() 的意图。

```
 public class HelloIntentService extends IntentService {

  /** 
 * A constructor is required, and must call the super IntentService(String)
  * constructor with a name for the worker thread.
 */
  public HelloIntentService() {
     super("HelloIntentService");
   }

  /**
   * The IntentService calls this method from the default worker thread with
   * the intent that started the service. When this method returns, IntentService
  * stops the service, as appropriate.
   */
 @Override
  protected void onHandleIntent(Intent intent) {
  // Normally we would do some work here, like download a file.
  // For our sample, we just sleep for 5 seconds.
  long endTime = System.currentTimeMillis() + 5*1000;
  while (System.currentTimeMillis() < endTime) {
      synchronized (this) {
          try {
              wait(endTime - System.currentTimeMillis());
          } catch (Exception e) {
          }
      }
  }
 }
} 
```

这是参考， [http://developer.android.com/guide/components/services.html](http://developer.android.com/guide/components/services.html)

# python - django 中的信号问题

> ID：14251737
> 
> 赞同：2
> 
> 时间：2013-01-10T06:03:36.527
> 
> 标签：python, django, model, signals, handlers

我正在使用信号发送邮件并且工作正常（现在我正在测试它并提供静态电子邮件地址）。但我想在我的邮件功能中使用模型字段的动态值。

**例如**，如果管理员从该模型中的管理仪表板更改任何内容，则使用 post_save 调用信号并调用邮件函数。但是我需要该模型中该用户的 ID，以便我可以从 auth_user 表中获取他的姓名、电子邮件地址。

我在 post_save 中发送模型的名称，但如果可能的话，我不知道如何在信号中使用它们的字段。

现在我正在使用这段代码。

我的模型

```
class ABC(models.Model):
  .....
  .......

post_save.connect(handlers.model_saved, sender=ABC) 
```

被调用的信号。

```
from django.core.mail import send_mail

def model_saved(sender, **kwargs):
    send_mail('Subject here', 'Here is the message.', 'from@example.com',
    ['ndhiman08@gmail.com'], fail_silently=False)
    print "SAVED",sender,kwargs 
```

终端响应

```
<class 'XYZ.models.ABC'> {'raw': False, 'instance': <ABC: #1 admin admin 2013-01-04 04:20:50+00:00>, 'signal': <django.dispatch.dispatcher.Signal object at 0xb612584c>, 'using': 'default', 'created': False} 
```

请给我一些建议，以便我可以在信号中使用我的模型字段的值。

谢谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-10T06:08:50.737

为`instance`信号处理程序提供了参数，该参数是保存的模型对象。因此，您可以将其用作：

```
def model_saved(sender, **kwargs):
    send_mail('Subject here', 'Here is the message.', 'from@example.com',
    ['ndhiman08@gmail.com'], fail_silently=False)
    abc_obj = kwargs['instance']
    #can use fields as 
    #abc_obj.somefield
    print "SAVED",sender,kwargs 
```

[post_save 文档](https://docs.djangoproject.com/en/dev/ref/signals/#post-save)解释了这一点。

# android - 在 AsyncTask 上加载 ImageView 的更简单方法？

> ID：14251740
> 
> 赞同：0
> 
> 时间：2013-01-10T06:03:40.777
> 
> 标签：android, android-asynctask, imageview, loadimage

我现在正在使用需要在 AsyncTask 中的 LoadImageFromWeb 处理 ImageView。我没有 AsyncTask 的代码是这样的：

```
private void satellite() {
        // TODO Auto-generated method stub
    ImageView imgView =(ImageView)findViewById(R.id.satellite);
    Drawable drawable = LoadImageFromWeb("http://www.pagasa.dost.gov.ph/wb/sat_images/satellite.gif");
    imgView.setImageDrawable(drawable);

    } 
```

我已经使用 AsyncTask 制作了一些其他程序，但它不同，因为它只使用字符串，我现在是 ImageView。

我搜索了答案，但他们的方法非常混乱。他们正在使用这样的东西：

```
public class MainActivity extends Activity {

ImageView mImgView1;
static Bitmap bm;
ProgressDialog pd;
String imageUrl = "https://www.morroccomethod.com/components/com_virtuemart/shop_image/category/resized/Trial_Sizes_4e4ac3b0d3491_175x175.jpg";
BitmapFactory.Options bmOptions;

@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.activity_main);

    mImgView1 = (ImageView) findViewById(R.id.mImgView1);
    pd = ProgressDialog.show(MainActivity.this, "Aguarde...",
            "Carregando...");
    new ImageDownload().execute("");
}

public class ImageDownload extends AsyncTask<String, Void, String> {

    protected String doInBackground(String... params) {
        // TODO Auto-generated method stub
        bmOptions = new BitmapFactory.Options();
        bmOptions.inSampleSize = 1;
        loadBitmap(imageUrl, bmOptions);
        return imageUrl;
    }

    protected void onPostExecute(String imageUrl) {
        pd.dismiss();
        if (!imageUrl.equals("")) {
            mImgView1.setImageBitmap(bm);
        } else {
            Toast.makeText(MainActivity.this,
                    "Não foi possível obter resultados", Toast.LENGTH_LONG)
                    .show();
        }
    }

}

public static Bitmap loadBitmap(String URL, BitmapFactory.Options options) {
    InputStream in = null;
    try {
        in = OpenHttpConnection(URL);
        bm = BitmapFactory.decodeStream(in, null, options);
        in.close();
    } catch (IOException e1) {
    }
    return bm;
}

private static InputStream OpenHttpConnection(String strURL)
        throws IOException {
    InputStream inputStream = null;
    URL url = new URL(strURL);
    URLConnection conn = url.openConnection();

    try {
        HttpURLConnection httpConn = (HttpURLConnection) conn;
        httpConn.setRequestMethod("GET");
        httpConn.connect();

        if (httpConn.getResponseCode() == HttpURLConnection.HTTP_OK) {
            inputStream = httpConn.getInputStream();
        }
    } catch (Exception ex) {
    }
    return inputStream;
} 
```

}

从我在 ImageView 上使用的方法来看，这非常复杂（对我来说）。

我的问题是：除了使用第二个代码之外，还有什么更简单、更容易的方法吗？我试着让它工作，但它没有。我不知道如何在图像方面执行 AsyncTask。我很沮丧。

我在这里先向您的帮助表示感谢 ：）

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-10T06:16:01.483

这里有很多答案，您可以从中导航到`LazyLaoding`其他图像加载库，但为什么您要采用更复杂的方式，因为您可以使用简单的 AsyncTask 实现直接完成。

只需将您的`ImageView`引用传递给.. _`AsyncTask's Constructor``doInBackground()``Bitmap``onPostExecute()``Bitmap params``NULL``ImageVIew`

**例子：**

`protected Bitmap doInBackground(String... params)`

和

`protected void onPostExecute(Bitmap bitmap)`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-10T06:18:29.083

这是您可以在您的项目中使用的类图像加载器，您只需要调用 Imageloader 的显示图像方法。

```
 public class ImageLoader {

MemoryCache memoryCache=new MemoryCache();
FileCache fileCache;
private Map<ImageView, String> imageViews=Collections.synchronizedMap(new WeakHashMap<ImageView, String>());
ExecutorService executorService; 

public ImageLoader(Context context){
    fileCache=new FileCache(context);
    executorService=Executors.newFixedThreadPool(5);
}

final int stub_id = R.drawable.no_image;
public void DisplayImage(String url, ImageView imageView)
{
    imageViews.put(imageView, url);
    Bitmap bitmap=memoryCache.get(url);
    if(bitmap!=null)
        imageView.setImageBitmap(bitmap);
    else
    {
        queuePhoto(url, imageView);
        imageView.setImageResource(stub_id);
    }
}

private void queuePhoto(String url, ImageView imageView)
{
    PhotoToLoad p=new PhotoToLoad(url, imageView);
    executorService.submit(new PhotosLoader(p));
}

private Bitmap getBitmap(String url) 
{
    File f=fileCache.getFile(url);

    //from SD cache
    Bitmap b = decodeFile(f);
    if(b!=null)
        return b;

    //from web
    try {
        Bitmap bitmap=null;
        URL imageUrl = new URL(url);
        HttpURLConnection conn = (HttpURLConnection)imageUrl.openConnection();
        conn.setConnectTimeout(30000);
        conn.setReadTimeout(30000);
        conn.setInstanceFollowRedirects(true);
        InputStream is=conn.getInputStream();
        OutputStream os = new FileOutputStream(f);
        Utils.CopyStream(is, os);
        os.close();
        bitmap = decodeFile(f);
        return bitmap;
    } catch (Exception ex){
       ex.printStackTrace();
       return null;
    }
}

//decodes image and scales it to reduce memory consumption
private Bitmap decodeFile(File f){
    try {
        //decode image size
        BitmapFactory.Options o = new BitmapFactory.Options();
        o.inJustDecodeBounds = true;
        BitmapFactory.decodeStream(new FileInputStream(f),null,o);

        //Find the correct scale value. It should be the power of 2.
        final int REQUIRED_SIZE=70;
        int width_tmp=o.outWidth, height_tmp=o.outHeight;
        int scale=1;
        while(true){
            if(width_tmp/2<REQUIRED_SIZE || height_tmp/2<REQUIRED_SIZE)
                break;
            width_tmp/=2;
            height_tmp/=2;
            scale*=2;
        }

        //decode with inSampleSize
        BitmapFactory.Options o2 = new BitmapFactory.Options();
        o2.inSampleSize=scale;
        return BitmapFactory.decodeStream(new FileInputStream(f), null, o2);
    } catch (FileNotFoundException e) {}
    return null;
}

//Task for the queue
private class PhotoToLoad
{
    public String url;
    public ImageView imageView;
    public PhotoToLoad(String u, ImageView i){
        url=u; 
        imageView=i;
    }
}

class PhotosLoader implements Runnable {
    PhotoToLoad photoToLoad;
    PhotosLoader(PhotoToLoad photoToLoad){
        this.photoToLoad=photoToLoad;
    }

    public void run() {
        if(imageViewReused(photoToLoad))
            return;
        Bitmap bmp=getBitmap(photoToLoad.url);
        memoryCache.put(photoToLoad.url, bmp);
        if(imageViewReused(photoToLoad))
            return;
        BitmapDisplayer bd=new BitmapDisplayer(bmp, photoToLoad);
        Activity a=(Activity)photoToLoad.imageView.getContext();
        a.runOnUiThread(bd);
    }
}

boolean imageViewReused(PhotoToLoad photoToLoad){
    String tag=imageViews.get(photoToLoad.imageView);
    if(tag==null || !tag.equals(photoToLoad.url))
        return true;
    return false;
}

//Used to display bitmap in the UI thread
class BitmapDisplayer implements Runnable
{
    Bitmap bitmap;
    PhotoToLoad photoToLoad;
    public BitmapDisplayer(Bitmap b, PhotoToLoad p){bitmap=b;photoToLoad=p;}
    public void run()
    {
        if(imageViewReused(photoToLoad))
            return;
        if(bitmap!=null)
            photoToLoad.imageView.setImageBitmap(bitmap);
        else
            photoToLoad.imageView.setImageResource(stub_id);
    }
}

public void clearCache() {
    memoryCache.clear();
    fileCache.clear();
} 
```

}

# opengl - VBO 状态调用的结构

> ID：14251745
> 
> 赞同：2
> 
> 时间：2013-01-10T06:04:23.353
> 
> 标签：opengl, go

我正在将我的 OpenGL 2 程序转换为 OpenGL 3，一次一小步。当前的步骤是摆脱立即模式以支持 VBO。我绊倒了所有 VBO 状态管理调用的正确放置。

假设我将有一堆对象，每个对象都有自己的 VBO 用于顶点和元素数据。每个对象都有一个加载函数，用于设置它的 VBO 并将数据加载到其中；它有一个绘图函数，可以绑定它的 VBO 并发出适当的绘图命令。为了防止对象相互干扰，我的主循环应该在调用`PushClientAttrib(CLIENT_VERTEX_ARRAY_BIT)`draw**或**load 之前调用，对吗？（当然`PopClientAttrib()`之后。）

当我推送/弹出该状态以保护我的加载功能时，对象不会被绘制。似乎我需要在我的绘图功能中（重新）设置一些状态，但我无法弄清楚它可能是什么。

下面是向场景中添加新对象的代码`e`，让它调用它的加载函数：

```
 gl.PushClientAttrib(gl.CLIENT_VERTEX_ARRAY_BIT)
    e.SceneAdded()
    gl.PopClientAttrib() 
```

下面是我如何调用每个对象的绘制函数：

```
 gl.PushClientAttrib(gl.CLIENT_VERTEX_ARRAY_BIT)
    gl.PushMatrix()
    p.Paint()
    gl.PopMatrix()
    gl.PopClientAttrib() 
```

这是对象的加载函数：

```
 // Make the vertex & texture data known to GL.
    gl.GenBuffers(1, &vboId)
    gl.BindBuffer(gl.ARRAY_BUFFER, vboId)
    gl.BufferData(gl.ARRAY_BUFFER,
        gl.Sizeiptr(unsafe.Sizeof(gldata[0])*uintptr(len(gldata))),
        gl.Pointer(&gldata[0].x), gl.STATIC_DRAW)
    gl.VertexPointer(3, gl.DOUBLE, gl.Sizei(unsafe.Sizeof(gldata[0])),
        gl.Pointer(unsafe.Offsetof(gldata[0].x)))
    gl.TexCoordPointer(2, gl.DOUBLE, gl.Sizei(unsafe.Sizeof(gldata[0])),
        gl.Pointer(unsafe.Offsetof(gldata[0].s)))

    // Make the index data known to GL.
    gl.GenBuffers(1, &iboId)
    gl.BindBuffer(gl.ELEMENT_ARRAY_BUFFER, iboId)
    gl.BufferData(gl.ELEMENT_ARRAY_BUFFER,
        gl.Sizeiptr(unsafe.Sizeof(sd.indices[0])*uintptr(len(sd.indices))),
        gl.Pointer(&sd.indices[0]), gl.STATIC_DRAW) 
```

最后，这是对象的绘制函数：

```
 func draw() {
    gl.BindBuffer(gl.ARRAY_BUFFER, vboId)
    gl.BindBuffer(gl.ELEMENT_ARRAY_BUFFER, iboId)
    gl.EnableClientState(gl.VERTEX_ARRAY)
    gl.EnableClientState(gl.TEXTURE_COORD_ARRAY)

    gl.DrawElements(gl.TRIANGLES, indexcount, gl.UNSIGNED_SHORT, nil)
} 
```

为了清楚起见，如果我将两个`EnableClientState`调用从 draw 移动到 load，并且如果我不使用 保护 load `PushClientState`，那么一切正常。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-10T15:52:34.127

> 我正在将我的 OpenGL 2 程序转换**为 OpenGL 3**

那么接下来

> 为了防止对象相互干扰，我的主循环应该在调用`PushClientAttrib(CLIENT_VERTEX_ARRAY_BIT)`draw 或 load 之前调用，对吗？（当然`PopClientAttrib()`之后。）

不是一个理智的方法。glPushAttrib 和 glPopAttrib 已被弃用，即不应在 OpenGL-3 程序中使用。

OpenGL 顶点数组也不使用`glVertexPointer`use `glVertexAttribPointer`。属性指针状态可以在*Vertex Array Object*中管理（我建议这样做） ，您可以绑定/取消绑定。

* * *

BTW：当您为 OpenGL-2 编写代码时，您为什么首先使用即时模式？自从 OpenGL-1.1 引入顶点数组以来，不鼓励使用立即模式。并且已经使用 OpenGL-2 考虑删除即时模式。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-16T05:07:59.307

我实际问的问题的答案是 gl.VertexPointer() 和朋友需要从对象的绘制函数中调用。我的主要循环是推送和弹出与客户端顶点相关的所有状态，所以这当然会丢失。

我暗示的问题是，“如何将旧的 GL2 程序转换为新的 GL3 代码？” [这在这里](https://stackoverflow.com/a/4694145/107357)得到了非常优雅的回答。

# android - 跨活动保留webview的状态 - android

> ID：14251749
> 
> 赞同：0
> 
> 时间：2013-01-10T06:04:38.407
> 
> 标签：android, webview

我有两个活动活动 A 和活动 B，在活动 B 中，我正在使用 webview 加载 url，到这里为止一切顺利，但是当我从活动 B 切换回 A 并返回到 B 时，webview 并没有显示上一个页面的状态，它再次重新加载 url，我尝试使用 onSaveInstanceState 恢复 webview 但在 onCreate 中，savedInstanceState 始终返回 null

有人可以发布一些伪/示例代码吗？或者至少给我提示来克服这个问题。

提前致谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-10T06:35:20.573

我想说我能想到的最简单的方法是：

1.  通过将其实例保存在单独的类中并具有返回相同实例的方法，使您的 webview 以某种方式保持静态。
2.  您也可以使用片段，使其实例静态。但是在执行此操作时，请确保有效地覆盖 onResume() 和其他回调。

通过仅传递捆绑包，您无法保存已加载到 webview 中的状态。

# javascript - 根据窗口大小显示 div 的数量

> ID：14251758
> 
> 赞同：1
> 
> 时间：2013-01-10T06:05:16.450
> 
> 标签：javascript, jquery, html

例如下图是在初始窗口位置.. ![在此处输入图像描述](../Images/1762de39244956d47bcefc57c662be5c.png)

当我减小窗口大小时，div 的数量应该相应地改变。 ![在此处输入图像描述](../Images/54cc96c8a44f14851a46878131efe019.png)

编辑：每个地图代表一个 Div。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-10T06:23:37.993

获取地图大小：

```
var maps = document.getElementsByClassName('.map');
for(var i = 0; i < maps.length; i++){
    var map = maps[i];
    var rect = map.getClientRects()[0];
    map.left = rect.left;
    map.top = rect.top;
    map.width = rect.width;
    map.height = rect.height;
} 
```

在屏幕调整大小事件中，您将在其中检查：

```
for(var i = 0; i < maps.length; i++){
    if(maps[i].left + maps[i].width > screen.width ||
       maps[i].top + maps[i].height> screen.height)
        maps[i].style.display = 'none';
    else
        maps[i].style.display = 'block';
} 
```

没测试，希望能用

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-10T06:24:18.500

使用 jQuery，使用[.resize](http://api.jquery.com/resize/)方法检查窗口是否已调整大小，然后计算您要显示多少个 div（即窗口大小除以您的 div 大小）。获取窗口高度和宽度：

```
var h=$(window).height();   // returns height of browser viewport
var w=$(window).width();   // returns width of browser viewport 
```

您可以使用[.hide](http://api.jquery.com/show/)和[.show](http://api.jquery.com/show/)很好地显示 div 的确切数量。

# jquery - 两种不同版本的网站移动版和桌面版

> ID：14251759
> 
> 赞同：0
> 
> 时间：2013-01-10T06:05:20.120
> 
> 标签：jquery, iphone, jquery-ui, jquery-mobile, mobile-browser

当我在网站和移动设备中进入 ibm 时，我看到两个不同的链接

[http://www.ibm.com/us/en/](http://www.ibm.com/us/en/)

[http://m.ibm.com/us/en/](http://m.ibm.com/us/en/)

iphone如何检测手机版本？

[http://m.ibm.com/us/en/](http://m.ibm.com/us/en/)

我正在做我的项目来做不同的网站，但不知道为 iphone 实现它，因为我不确定 iphone 如何重定向到 m.ibm.com

```
<head><meta content="text/html; charset=UTF-8" http-equiv="Content-Type"><meta content="public" name="Security"><meta content="IBM Corporation" name="DC.Publisher"><meta content="US" name="IBM.Country"><meta content="Joan Renner/Armonk/IBM" name="Owner"><meta content="2012-05-29" scheme="W3CDTF" name="IBM.Effective"><meta content="--" scheme="W3CDTF" name="IBM.Expires"><meta content="en-US" scheme="rfc1766" name="DC.Language"><meta content="2013-01-07" scheme="iso8601" name="DC.Date"><meta content="© Copyright IBM Corp. 2013, 2012" name="DC.Rights"><meta content="IBM101" scheme="IBM_SubjectTaxonomy" name="DC.Subject"><meta content="CT002" scheme="IBM_ContentClassTaxonomy" name="DC.Type"><meta content="" scheme="IBM_IndustryTaxonomy" name="IBM.Industry"><title>IBM - United States</title><link type="text/css" title="wireless" rel="stylesheet" media="all" href="//1.www.s81c.com/common/v17/css/mobile.css"><script type="text/javascript" src="//1.www.s81c.com/common/v17/mobile.js">//</script><script type="text/javascript" src="//1.www.s81c.com/common/js/dynamicnav/www/usen-utf8.js"></script><script type="text/javascript">window.onload = function() { ibmInit(); };</script><meta content="ibm.com wireless - Mobile Webmaster/Watson/IBM" name="Source"><meta content="noindex,nofollow" name="Robots"><meta name="viewport" content="user-scalable=no, initial-scale=1.0, maximum-scale=1.0, width=device-width"><meta name="apple-mobile-web-app-capable" content="yes"><link rel="alternate" type="text/html" title="Non Wireless" href="http://www.ibm.com/us/en/"><script type="text/javascript" src="chrome-extension://bfbmjmiodbnnpllbbbfblcplfjjepjdn/js/injected.js"></script></head> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-10T06:12:58.047

使用 javascript 来检测浏览器是否是 iPhone，如果是，则重定向到新页面。

```
<script type="text/javascript">
    if(window.navigator.userAgent.indexOf("iPhone") > -1){
        document.location.href = "http:/m.ibm.com/us/en/";
    }
</script> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-10T06:17:44.537

希望此链接[mobileesp](http://blog.mobileesp.com/?page_id=2)对您有所帮助。它具有可用于多种流行编程语言的代码库：**PHP、Java、ASP.NET (C#)、Python（用于 Django）**用于服务器端检测，以及**JavaScript**用于更有限的客户端检测。

# c# - 有没有办法将 C# 序列化对象读入 Python？

> ID：14251765
> 
> 赞同：5
> 
> 时间：2013-01-10T06:06:06.100
> 
> 标签：c#, python, deserialization

我有一个包含 C# 序列化对象的二进制文件。

我可以用 python 读取内容，但得到的结果类似于：

```
'T\x00\x00\x00Test.Jobs.GenerateJobRequest, POC.Server\xca\x02-\xa2\x02\t\x82\x01\x06\x1a\x04myahR\x1d\x08\xfe\xff\xff\xff\xff\xff\xff\xff\xff\x01\x12\x10Data Lite Exportp\t\n\x16Do_Ko_Change-Job__ID_23\x10\x0c\x18\xa7\xb9\x18(\x012\x00:\x00H\xbc\x08') 
```

有没有办法在 python 中反序列化这个对象？

我同意这不是最佳解决方案，JSON、XML 会更好。但是，我无法控制序列化数据的过程，我只是消费者。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-10T06:37:10.247

从您的问题来看，尚不清楚您使用的是哪个版本的 Python（CPython、Jython、IronPython）。但我假设您使用的是 CPython，至于 IronPython，这将是微不足道的。

有一个用于 CPython、[Python .NET](http://pythonnet.sourceforge.net/)的库。它充当 .NET 和 Python 之间的绑定，并且工作得非常好。甚至支持泛型。虽然它似乎不再受到积极支持，但我已经使用了一段时间了。它就像一个魅力。

您将需要 Visual Studio 来编译它，但它可能会与 Visual Studio Express 一起使用（尽管我不知道）。

有了这个，您可以导入任何 .NET-dll。假设您可以在 C# 中反序列化它，那么您也应该能够在 Python 中反序列化它。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-10T06:15:34.670

二进制序列化数据没有官方文档格式。我遇到的最接近的是[http://primates.ximian.com/~lluis/dist/binary_serialization_format.htm](http://primates.ximian.com/~lluis/dist/binary_serialization_format.htm)。因此，几乎不可能获得可以为您执行此操作的第三方 Python 包。即使是这样，它也可能在未来破裂。

如果您想坚持使用二进制序列化，最好的办法是使用 IronPython 并依靠 CLR 来序列化数据。

否则，对于 CLR 之外的互操作性，请使用 SOAP 或 XML 序列化。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2017-03-08T11:50:52.943

如上所述，您可以使用 pythonnet 和 clr。它不再是真正的 Python，但它应该得到你想要的东西......

```
import clr
import System
#requires pythonnet installed -> pip install pythonnet 
clr.AddReference("YourDLLAssemblyName") # usually requires dll to be within directory

from System.Runtime.Serialization.Formatters.Binary import BinaryFormatter
from System.IO import FileStream,FileMode,FileAccess,FileShare

filepath = '<PathToYourDataFile>'
serializer = BinaryFormatter()
reader = FileStream(filepath, FileMode.Open, FileAccess.Read, FileShare.None)
data = serializer.Deserialize(reader)
print(data, data.GetType())
#from here on you can propably go on via reflection or try to cast it
reader.Close() 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-10T06:11:34.580

不，它不能在任何合理的时间范围内按照你想要的方式完成。

您需要将其反序列化为 XML，然后使用类似的东西[将](http://code.activestate.com/recipes/511472-simple-maps-and-lists-from-xml/)其转换为 python 列表/映射。

# java - 如何强制 Hibernate 返回一个空值而不是 null？

> ID：14251767
> 
> 赞同：6
> 
> 时间：2013-01-10T06:06:18.353
> 
> 标签：java, hibernate

我正在使用 Oracle 11GR2，当 varchar2 字段为空时，`System.out.println`对空字段执行 a 将显示`null`在我的 Eclipse 控制台上。我怎样才能让它显示空字符串呢？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-01-10T06:42:37.953

在 getter 中做这个技巧很好，但它会改变模型的期望行为。

正如我的评论中所引用的，Oracle 无法区分空字符串和 null。如果您确定您使用的所有字符串属性永远不会为空，您可以像这样在休眠中创建一个拦截器

```
public class EmptyStringInterceptor extends EmptyInterceptor {
   @Override
   public boolean onLoad(Object entity, 
                         Serializable id, 
                         Object[] state, 
                         String[] propertyNames,
                         Type[] types) {
      for (int i = 0; i < types.length; i++) {
         if (StringType.equals(types[i]) && state[i] == null) {
               state[i] = "";
         }
      }
      return true;
   }
} 
```

[拦截器的使用](http://docs.jboss.org/hibernate/orm/4.0/manual/en-US/html/events.html)可以参考Hibernate 的文档

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-01-10T06:09:34.463

你的吸气剂方法：

```
public String getVarchar2()
{
    if(this.varchar2==null)
        return "";
    else
        return this.varchar2;
} 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2014-11-18T07:08:33.580

拦截器是要走的路，如果你想改变所有字符串的行为。Oracle 在内部将空字符串视为 null（`'' is null`返回 true），但这可能不适用于其他数据库。对于他们，您也应该覆盖`onFlushDirty`and`onSave`方法以不在`null`数据库中使用（或始终使用它们，如果您愿意的话）：

```
public class MPSessionInterceptor extends EmptyInterceptor {

    @Override
    public boolean onFlushDirty(Object entity, Serializable id, Object[] currentState, 
            Object[] previousState, String[] propertyNames, Type[] types) {
        return convertEmptyStrings(currentState, types);
    }

    @Override
    public boolean onSave(Object entity, Serializable id, Object[] state,
            String[] propertyNames, Type[] types) {
        return convertEmptyStrings(state, types);
    }

    @Override
    public boolean onLoad(Object entity, Serializable id, Object[] state, 
            String[] propertyNames, Type[] types) {
        return convertEmptyStrings(state, types);
    }

    private boolean convertEmptyStrings(Object[] state, Type[] types) {
        // convert nulls to empty strings
        boolean modified = false;
        for (int i=0; i<state.length; i++)
            if ((types[i] instanceof StringType) && state[i] == null) {
                state[i] = "";
                modified = true;
            }
        return modified;
    }

} 
```

[拦截器的使用](http://docs.jboss.org/hibernate/orm/4.0/manual/en-US/html/events.html)可以参考Hibernate 的文档

# javascript - 有效地将线段排序成一个循环

> ID：14251773
> 
> 赞同：3
> 
> 时间：2013-01-10T06:06:41.287
> 
> 标签：javascript, algorithm

我正在使用一个库（[JavaScript-Voronoi](https://github.com/gorhill/Javascript-Voronoi)），它生成一个表示封闭多边形的线段数组。这些线段看起来是无序的，包括线段出现的顺序以及线段每一端的点的顺序。

[*（**编辑**：正如在下面的评论中指出的那样，我错了：库中的段**是**有序的。但是，问题是书面的：让我们假设段没有任何顺序，因为这使得它更普遍有用.)*]

例如：

```
var p1 = {x:13.6,y:13.1}, p2 = {x:37.2,y:35.8}, p3 = {x:99.9,y:14.6},
    p4 = {x:99.9,y:45.5}, p5 = {x:33.7,y:66.7};
var segments = [
  { va:p1, vb:p2 },
  { va:p3, vb:p4 },
  { va:p5, vb:p4 },
  { va:p3, vb:p2 },
  { va:p1, vb:p5 } ]; 
```

请注意第一个片段如何链接到最后一个片段（它们共享一个共同点）以及倒数第二个片段。保证每个段与另一个段共享一个末端。

我想将其转换为点列表以生成正确的 SVG 多边形：

```
console.log( orderedPoints(segments) );
// [
//   {"x":33.7,"y":66.7},
//   {"x":13.6,"y":13.1},
//   {"x":37.2,"y":35.8},
//   {"x":99.9,"y":14.6},
//   {"x":99.9,"y":45.5}
// ] 
```

点是顺时针还是逆时针都没有关系。

以下代码是我想出的，但在最坏的情况下，它将进行`n^2+n`点比较。有没有更有效的算法将所有这些结合在一起？

```
function orderedPoints(segs){
  segs = segs.concat(); // make a mutable copy
  var seg = segs.pop(), pts = [seg.va], link = seg.vb;
  for (var ct=segs.length;ct--;){
    for (var i=segs.length;i--;){
      if (segs[i].va==link){
        seg = segs.splice(i,1)[0]; pts.push(seg.va); link = seg.vb;
        break;
      }else if (segs[i].vb==link){
        seg = segs.splice(i,1)[0]; pts.push(seg.vb); link = seg.va;
        break;
      }
    }
  }
  return pts;
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-10T10:08:44.307

如果你的多边形是凸的，你可以选择每条线段的中间点，然后使用[凸包](http://en.wikipedia.org/wiki/Convex_hull)算法通过中间项找到凸多边形，然后，因为你知道中间的排列是什么，你也知道哪个中间属于哪个段，您可以在原始数组中找到排列。

如果你只是想找到一个凸包，直接使用凸包算法，它是 O(n log n)，速度足够快，但你也可以在 javascript 中找到一个 Quickhull 算法[here](http://en.literateprograms.org/Quickhull_%28Javascript%29)。quickhull 也在 中`O(n logn)`，但平均而言，最坏的情况是 O(n^2)，但它的速度很快，因为常数因素较少。

* * *

但在一般算法的情况下：

将每个段的一端设置为第一，另一端设置为第二（随机）。

按第一个对您的段进行排序，`x`然后将其放入数组中，然后在数组中按第一个对具有相同第一个的`First`段进行排序，并将两个额外的部分放入您的结构中以保存具有相同 first 的项目的开始和结束位置。`x``y``int``x`

然后再次使用第二个`x`值对您的段进行排序，......并制作数组`second`。

以上动作都在 O(n log n) 中。

现在选择数组中的第一个段，在两个数组中`First`搜索它的第二个`x`值，如果找到相似的值，则在相关子数组中搜索它们的值（您有相同的项目的开始和结束位置）。您知道只有一个具有此顺序的段（也不是当前段），因此查找下一个段需要并且因为总有下一段需要（也预处理），这比.`First``second``y``x``O(log n)``n-1``O(n logn)``O(n^2)`

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-10T06:43:42.757

应该可以在线性时间内将点变成（双倍，无序？）链表：

```
for (var i=0; i<segments.length; i++) {
    var a = segments[i].va,
        b = segments[i].vb;
    // nexts being the two adjacent points (in unknown order)
    if (a.nexts) a.nexts.push(b); else a.nexts = [b];
    if (b.nexts) b.nexts.push(a); else b.nexts = [a];
} 
```

现在您可以迭代它来构建数组：

```
var prev = segments[0].va,
    start = segments[0].vb, // start somewhere, in some direction
    points = [],
    cur = start;
do {
    points.push(cur);
    var nexts = cur.nexts,
        next = nexts[0] == prev ? nexts[1] : nexts[0];
    delete cur.nexts; // un-modify the object
    prev = cur;
    cur = next;
} while (cur && cur != start)
return points; 
```

如果您不想修改对象，[EcmaScript6`Map`](http://wiki.ecmascript.org/doku.php?id=harmony%3asimple_maps_and_sets)（带有对象键）会派上用场。作为一种解决方法，您可以使用点坐标的 JSON 序列化作为普通对象的键，但是您将被限制为不包含两次坐标的多边形。`voronoiId`或者只是使用您的库添加到顶点的唯一属性来识别它们。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-01-10T18:15:27.703

对于凸多边形，您甚至不需要知道边线段。你只需要一堆顶点。对顶点进行排序的过程非常简单。

1.  将所有顶点平均在一起以获得多边形内的一个点。请注意，这甚至不需要是质心。它只需要是多边形内的一个点。将此点称为 C。
2.  对于每个顶点 V[i]，计算从 V[i] 到 C 的线段与从 V[i] 到 V[i]+(1,0) 的线段形成的角度。称之为 a[i]。
3.  使用顶点作为卫星数据对顶点的角度进行排序。

排序的顶点在多边形周围是有序的。您可以删除一些冗余。1 次以线性时间运行，2 次以线性时间运行，3 次以 n log n 运行。

# windows-store-apps - Windows 商店应用程序中的页面转换

> ID：14251774
> 
> 赞同：1
> 
> 时间：2013-01-10T06:06:44.310
> 
> 标签：windows-store-apps

我正在开发 Windows 商店应用程序，我想在其中合并页面转换（页面入口效果），当另一个页面被加载或进入屏幕以响应第一个屏幕中的事件时。我怎样才能做到这一点？谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-16T22:49:26.200

这是一个例子，你可以如何做到这一点..

`<Page.Transitions> <TransitionCollection> <EntranceThemeTransition /> </TransitionCollection> </Page.Transitions>`

# c# - 使用 C# 按日期列出 Outlook 中的约会

> ID：14251776
> 
> 赞同：3
> 
> 时间：2013-01-10T06:07:09.053
> 
> 标签：c#, outlook

我想使用 C# 按日期列出（提取）Outlook 约会。我使用了限制方法来做到这一点，

```
 sSearch = "[Start] >= ' " + startDate + " ' and [Start] <= ' " + endDate + " '"; 
```

但是，如果结束日期(endDate) 之后的第二天有全天约会，它也会被列出。如何克服这个问题？？？？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-01-10T06:09:48.210

[http://msdn.microsoft.com/en-us/library/office/gg619398(v=office.14).aspx](http://msdn.microsoft.com/en-us/library/office/gg619398(v=office.14).aspx)

```
 private void DemoAppointmentsInRange()
{
    Outlook.Folder calFolder =
        Application.Session.GetDefaultFolder(
        Outlook.OlDefaultFolders.olFolderCalendar)
        as Outlook.Folder;
    DateTime start = DateTime.Now;
    DateTime end = start.AddDays(5);
    Outlook.Items rangeAppts = GetAppointmentsInRange(calFolder, start, end);
    if (rangeAppts != null)
    {
        foreach (Outlook.AppointmentItem appt in rangeAppts)
        {
            Debug.WriteLine("Subject: " + appt.Subject 
                + " Start: " + appt.Start.ToString("g"));
        }
    }
}

/// <summary>
/// Get recurring appointments in date range.
/// </summary>
/// <param name="folder"></param>
/// <param name="startTime"></param>
/// <param name="endTime"></param>
/// <returns>Outlook.Items</returns>
private Outlook.Items GetAppointmentsInRange(
    Outlook.Folder folder, DateTime startTime, DateTime endTime)
{
    string filter = "[Start] >= '"
        + startTime.ToString("g")
        + "' AND [End] <= '"
        + endTime.ToString("g") + "'";
    Debug.WriteLine(filter);
    try
    {
        Outlook.Items calItems = folder.Items;
        calItems.IncludeRecurrences = true;
        calItems.Sort("[Start]", Type.Missing);
        Outlook.Items restrictItems = calItems.Restrict(filter);
        if (restrictItems.Count > 0)
        {
            return restrictItems;
        }
        else
        {
            return null;
        }
    }
    catch { return null; }
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-10-01T21:19:45.810

类似于谭谭的。只是少了一点代码。我整天都在寻找可以在 LinqPad 中使用的基本示例。这就是我最终的结果。

```
//using Microsoft.Office.Interop.Outlook
Application a = new Application();
Items i = a.Session.GetDefaultFolder(OlDefaultFolders.olFolderCalendar).Items;
i.IncludeRecurrences = true;
i.Sort("[Start]");
i = i.Restrict("[Start] >= '10/1/2013' AND [End] <= '10/2/2013'");
var r =
    from ai in i.Cast<AppointmentItem>()
    select new {ai.Start,ai.Duration,ai.Subject};
r.Dump(); 
```

# android - 如何在android中的图像上使用透明文本

> ID：14251778
> 
> 赞同：0
> 
> 时间：2013-01-10T06:07:14.137
> 
> 标签：android, android-layout, android-intent, android-widget

最近我看到一个应用程序，它有一个带有文本的图像。

应用程序是否使用`ImageView`和`TextView`？文字如何覆盖图像？它是如何完成的？

我附上了截图。

![在此处输入图像描述](../Images/6a2d2dc004be178a188983b827041598.png)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-10T06:13:16.993

在布局中的 TextView 上设置属性 android:background="#00000000"。XML 文件。

```
<FrameLayout 
android:layout_height="wrap_content"
android:layout_width="match_parent"
>

<ImageView
android:src="@drawable/your_image"
android:layout_height="match_parent"
android:layout_width="match_parent"

/>

<TextView
android:height="match_parent"
android:width="match_parent"
android:background="#00000000" 
android:gravity="bottom"
/>

</FrameLayout> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-10T06:37:18.573

您可以使用 FrameLayout 将 TextView 放在 ImageView 上，也可以使用带有背景资源的文本视图作为图像，例如：

```
 <TextView
                            android:layout_gravity="center"
                            android:background="@drawable/custom_buttonclick"
                            android:gravity="center"
                            android:textSize="12dp"
                            android:textStyle="bold" /> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-10T06:14:40.143

通过使用相对布局、ImageView 和 TextView，您可以实现将 textView 的背景颜色透明化。

# javascript - Javascript onClick() 和 KineticJS setPosition()

> ID：14251780
> 
> 赞同：1
> 
> 时间：2013-01-10T06:07:27.430
> 
> 标签：javascript, html, kineticjs

所以我在玩 KineticJS，我正在制作的按钮有一些问题。我想要它做的就是在我单击它时重置我的对象的位置。

我已经创建了按钮，设置了 onclick 处理程序以指向我创建的函数（并包含在 HTML 中，连同我的 CSS），并且我已经阅读了 KineticJS 文档以更改它的位置对象，并尝试了以下选项：

对象.setX(200);

对象.setY(50);

对象.setPosition(200,50);

一切都没有运气。我附上了我所有相关代码的截图（这是我第一次作为网络开发人员玩，请不要让我太伤心）。中间列中的其余代码只是 body/html/etc 的结束标记。

注意：我知道这些值不是它们最初的值。我只是输入任意数字（仍在我的画布范围内），看看它们是否会改变。

感谢您的任何帮助！

全尺寸：http : [//i.imgur.com/aKbiI.png](https://i.imgur.com/aKbiI.png)

![在此处输入图像描述](../Images/4e195ae00056efa866c4bb33682716c2.png)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-10T10:35:25.213

您需要`layer.draw();`在 resetXY 函数的末尾添加

# gwt - 如何将所需模块继承到 GWT 项目中？

> ID：14251782
> 
> 赞同：2
> 
> 时间：2013-01-10T06:07:31.140
> 
> 标签：gwt

我想在我的 GWT 项目中使用 GWT-FXv0.5.0MS_1.jar，我将 jar 文件添加到项目路径并在语法上使用了代码，现在出现未继承的错误：错误消息是：

```
11:28:48.829 [ERROR] [uibuilder] Line 80: No source code is available for type org.adamtacy.client.ui.effects.core.NMorphStyle; did you forget to inherit a required module? 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-10T06:11:56.513

您必须在 gwt.xml 中添加继承标签

```
<inherits name="com.company.gwt-fx"/> 
```

# jquery - 使用 jQuery-ui 自动完成获取排序后的数据

> ID：14251783
> 
> 赞同：0
> 
> 时间：2013-01-10T06:07:40.707
> 
> 标签：jquery, jquery-ui, jquery-autocomplete, jquery-ui-autocomplete

所以我想使用 jQuery-ui 自动完成插件来获取 json 格式的排序数据，这样我就可以创建自己的自定义 UI。自定义 UI 就像附加的示例图像中的那样。为此，我需要插件不显示其默认列表。

谢谢，高拉夫![在此处输入图像描述](../Images/251358dd017c59dc7b47848163b9eae7.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-10T07:06:09.773

在自动完成中，有一个名为 _renderItem 的函数。

```
_renderItem: function( ul, item) {
return $( "<li></li>" )
    .data( "item.autocomplete", item )
    .append( "<a>" + item.label + "</a>" )
    .appendTo( ul );
}, 
```

所以，你可以用你自己的替换那个 _renderItem。

# mysql - 我如何优化这个联合查询

> ID：14251784
> 
> 赞同：1
> 
> 时间：2013-01-10T06:07:48.757
> 
> 标签：mysql, select

我有以下查询

```
 SELECT `id`,'event' as type FROM `oc_event` where `Owner_id` = 1
    UNION ALL
    SELECT `id` ,'business' as type FROM `oc_business` where `Owner_id` = 1
    UNION ALL
    SELECT `id`, 'parts'  as type FROM `oc_listing` where `Owner_id` = 1 
```

虽然，结果是准确的，但是当提取的行数约为 1K 或更多时，它的速度很慢。有没有任何 mysql 关键字来优化这个简单的查询，或者你认为“UNION ALL”是正确的方法吗？

PS：我正在使用 PDO

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-10T06:24:17.023

如果你想显示重复数据，那么最好使用联合所有其他明智的使用联合它会在找到单行时停止 union_result 会更快

为了让您的查询更好地在所有表的 owner_id 上创建索引

# java - Android : 将 Android 项目导出为 jar

> ID：14251788
> 
> 赞同：1
> 
> 时间：2013-01-10T06:08:08.803
> 
> 标签：java, android, jar, android-ndk, java-native-interface

我开发了一个 android 项目，（它有一些资源文件和 jni 部分，还包含一些外部 .so 文件）我想在另一个 android 应用程序中使用，

如果我将一个项目作为库项目，我不能在另一个项目中使用资源文件，所以我将我的项目导出为 jar，在包含所有以下文件夹的那个 jar 中

```
assets
bin
com/package containing all classes
libs/ all .so files
res
obj
META-INF 
```

在我的另一个应用程序中，我将我的 jar 文件放在 lib 文件夹中并添加到项目路径中

问题是，我无法从 jar 中访问类和 .so 文件和资源。而且我还尝试将所有这些文件也放入新的项目库文件夹中。

我收到不满意的链接错误，不可能这样做。否则你有什么想法吗？

```
NOTE: i don't want to add the project as Reference Project 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-10T06:11:44.603

首先，Android 项目不能用作简单`.jar`文件，因为您想使用其中的资源。

唯一的方法是您必须将 Android 项目设为`Android Library Project`使用其中的资源和`.so`文件。

**更新：**

查看[http://developer.android.com/tools/projects/projects-eclipse.html](http://developer.android.com/tools/projects/projects-eclipse.html)和[http://www.vogella.com/articles/AndroidLibraryProjects/article.html](http://www.vogella.com/articles/AndroidLibraryProjects/article.html)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-10T06:15:03.767

android 应用程序使用 .apk 文件而不是 .jar 文件运行

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-05-21T13:24:27.900

这可以在使用 gradle 构建项目时完成

1.  生成[android aar文件](http://tools.android.com/tech-docs/new-build-system/aar-format)

    *   将你的库项目从 eclipse 导出到 android studio，你可能想看看[这个](http://developer.android.com/sdk/installing/migrate.html)
    *   使用 gradle 构建您的 Android 库，并在 PROJECT_ROOT/build/libs/ 文件夹中找到库 aar 文件
2.  将您的 android 项目引用到此 aar 库

    *   将 aar 文件拖到您的项目中，比如说在 PROJECT_ROOT/aars/ 文件夹中
    *   将此 aar 文件设置为 maven 存储库，将这些代码添加到您的项目 gradle 构建文件 (PROJECT_ROOT/build.gradle)

        ```
        repositories {
            mavenCentral()
            flatDir {
                dirs 'aars'
            }
        } 
        ```

    *   引用 aar 库，假设你的库源包是 com.example.library，版本是 1.0（你可以在你的库项目 AndroidManifest 文件中找到它），android aar 文件名是 mylib.aar，然后将这些代码添加到依赖项中堵塞

        ```
        compile 'com.example.library:mylib:1.0@aar' 
        ```

3.  gradle 同步您的 android 项目并玩得开心。

# browser - 使用 VBscript 设置 IE 代理值

> ID：14251789
> 
> 赞同：2
> 
> 时间：2013-01-10T06:08:19.380
> 
> 标签：browser, vbscript, proxy

我写了一小段 vb 脚本来设置代理设置

* * *

```
'begin script
Option Explicit
Dim valUserIn
Dim objShell, RegLocate
Set objShell = WScript.CreateObject("WScript.Shell")
RegLocate = "HKEY_CURRENT_USER\Software\Microsoft\Windows\CurrentVersion\Internet Settings\ProxyEnable"
objShell.RegWrite RegLocate,"0","REG_DWORD"
WScript.Sleep(5000)
valUserIn = Inputbox("Enter the Proxy server you want to use.","Proxy Server Required","proxygate.mydomain.com:8080")
if valUserIn = "" then
    RegLocate = "HKEY_CURRENT_USER\Software\Microsoft\Windows\CurrentVersion\Internet Settings\ProxyEnable"
    objShell.RegWrite RegLocate,"0","REG_DWORD"
    'MsgBox "No proxy mode"
else
    RegLocate = "HKEY_CURRENT_USER\Software\Microsoft\Windows\CurrentVersion\Internet Settings\ProxyServer"
    objShell.RegWrite RegLocate,valUserIn,"REG_SZ"
    RegLocate = "HKEY_CURRENT_USER\Software\Microsoft\Windows\CurrentVersion\Internet Settings\ProxyEnable"
    objShell.RegWrite RegLocate,"1","REG_DWORD"
    'MsgBox "Proxy mode: " & valUserIn
end if
WScript.Quit
'end script 
```

* * *

现在脚本可以正常运行，并且可以设置注册表值。如果我使用 Internet Explorer，则没有问题，即浏览器使用正确的代理设置（在输入对话框中输入，如果取消，则为“无代理”）服务器。

但是，当使用 Firefox 或 Chrome（尝试使用不同的版本）时，浏览器的行为会很奇怪。有时会使用正确的代理服务器，但有时浏览器会显示代理服务器拒绝连接的消息（基本上它无法访问代理服务器）。此外，这种行为是随机的，它不是基于浏览器的空闲时间或请求/点击的数量。

我所做的另一项分析是，每当发生这种情况时，如果我打开 Internet Explorer 的选项对话框并单击 LAN 设置（可以在其中更改代理），我会注意到代理设置已正确设置。如果我只是单击取消并退出对话框，浏览器就会开始使用正确的设置。

关于 Internet Explorer 的功能以及我们如何在脚本中自动化的任何提示？？？？

谢谢并恭祝安康

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-10T16:07:40.420

不同的浏览器将代理信息存储在不同的位置。

1.  IE 将其存储在注册表中。
2.  firefox 将其存储在（某些文件中）%appdata%\mozilla\firefox\profiles\
3.  chrome 也使用与 IE、AFAIK 相同的位置。

但是，在其他浏览器中*可能有*一个选项，我们可以要求它使用系统级代理（在 IE 中设置）。FF的linux版本有这个。
即使这样，您也需要重新启动浏览器，以便它再次读取代理服务器值。通常它是在启动时读取的，并且只能使用对话框手动更新。浏览器程序员*通常*不希望用户使用脚本更改代理。（但是，我们这样做:-)）

# php - 从表单中检索数据

> ID：14251791
> 
> 赞同：-1
> 
> 时间：2013-01-10T06:08:32.173
> 
> 标签：php, forms

我有一个从数据库中填充数据的表单，然后用户修改数据或选择不修改任何内容，然后只需按下提交按钮即可`UPDATE`进入数据库。我的问题是：

1.  我不知道如何确定哪些字段修改了数据
2.  如果数据已被修改，如何从表单中检索数据
    我将 XAMP 与 PHP 5.3 和 HeidiSQL 一起使用。这是我的代码

    LOGIN"); } else { include('../conect.php'); //如果是新字段，则添加一个条目 -begin if( (isset($_POST)) && (isset($_GET["nou" ])) && (!empty($_POST['content'])) &&(!empty($_POST['nume'])) && (!empty($_POST['cale'])) && (!empty( $_POST['ordine'])) ) { if( $_POST['select']!=""){ $nume=stripslashes($_POST['nume']); $cale=$_POST['cale'] ; $ordine=$_POST['ordine']; $id=$_POST['select']; $content = stripslashes($_POST['content']);

    ```
     $result=mysql_query("SELECT * FROM categorii_menu WHERE id=$id");
        $data=mysql_fetch_row($result);
        $grad=$data[2];

        $result2=mysql_query("SELECT * FROM categorii_menu WHERE grad_categorie=$grad");
        while($data=mysql_fetch_row($result2))
        { 
            if ($ordine==$data[2]) $ok=1;
            else $ok=0; 
        }
        $result3=mysql_query("SELECT * FROM categorii_menu ");
        while($zata=mysql_fetch_row($result3))
        {
            if($nume==$zata[1])
            {
                echo "Deja se foloseste acest nume"; 
                $z=1;
                break;
            }
            else $z=0;
            if(($ok==0)&&($z==0)) 
                mysql_query("INSERT INTO categorii_menu(nume,nr_ordine,grad_categorie,cale,continut) VALUES ('$nume','$ordine','$grad','$cale','$content')");
            else if (($ok==1)&&($z==0))
                echo "Acest nr de ordine este deja luat";   
        }
        else{
            $nume=stripslashes($_POST['nume']);
            $cale=$_POST['cale'];
            $content = stripslashes($_POST['content']);
            $grad=0;
            $ok=0;
            $nr_ordine=$_POST['ordine'];
            $result=mysql_query("SELECT * FROM categorii_menu WHERE grad_categorie=$grad");
            while($data=mysql_fetch_row($result)){
                if($data[2]==$nr_ordine)
                {
                    $ok=1;
                }
            }
            $result3=mysql_query("SELECT * FROM categorii_menu ");
            while($zata=mysql_fetch_row($result3)){
                if($nume==$zata[1]){
                    echo "Deja se foloseste acest nume"; 
                    $z=1;
                    break;
                }
                else $z=0;
            }
            if(($ok==0)&&($z==0))mysql_query("INSERT INTO categorii_menu(nume,nr_ordine,cale,grad_categorie,continut) VALUES ('$nume','$nr_ordine','$cale','$grad','$content')");
            else if(($ok==1)&&($z==0)) 
                echo "Acest nr de ordine este deja luat"; 
            } 
            //adds an entry if it's a new field -end
            //retrieves the modified data from the populated form (but only if all fields are modified :(  , i don't know how to overcome this inconvenience  ) - begin
            else if ( ($_POST) && (isset($_GET["nou"])) ) echo"Nu ati completat toate campurile";
            if( ($_POST) && (isset($_GET["id"])) && (!empty($_POST['content'])) &&(!empty($_POST['nume'])) && (!empty($_POST['cale'])) && (!empty($_POST['ordine'])) ) {            
                if( $_POST['select']!=""){      
                $id=$_GET["id"];
                $nume=$_POST['nume'];
                $cale=$_POST['cale'];
                $ordine=$_POST['ordine'];
                                                                                                                                            $select=$_POST['select'];
                                                                                                                                            $content = stripslashes($_POST['content']); 
                                            $result=mysql_query("SELECT * FROM categorii_menu WHERE id=$select");
                                            $data=mysql_fetch_row($result);
                                            $grad=$data[2];

                                            $result2=mysql_query("SELECT * FROM categorii_menu WHERE grad_categorie=$grad");
                                             while($data=mysql_fetch_row($result2))
                                             { if ($ordine==$data[2]) $ok=1; 
                                                else $ok=0; } 

                                            $result3=mysql_query("SELECT * FROM categorii_menu ");
                                            while($zata=mysql_fetch_row($result3)){
                                                if($nume==$zata[1]){
                                                   echo "Deja se foloseste acest nume"; 
                                                   $z=1;
                                                   break;
                                                }

                                                    else $z=0;

                                            }

                                            if(($ok==0)&&($z==0)){
                                                $result2 = mysql_query("SELECT * FROM categorii_menu");
                                                mysql_query("UPDATE  categorii_menu SET nume='$nume' , nr_ordine='$ordine' , grad_categorie='$grad', cale='$cale' , continut='$content' WHERE id='$id'");
                                                header('Location:lista_linkuri.php');
                                            }
                                            else if(($ok==1)&&($z==0))echo"Acest nr de ordine este deja luat";              
                    }

                    else {
                                            $id=$_GET["id"];
                                            $nume=$_POST['nume'];
                                            $cale=$_POST['cale'];
                                            $ordine=$_POST['ordine'];
                                            $content = stripslashes($_POST['content']); 
                                            $grad=0;
                                            $ok=0;

                                            $result=mysql_query("SELECT * FROM categorii_menu WHERE grad_categorie=$grad");
                                            while($data=mysql_fetch_row($result)){
                                            if($data[2]==$ordine) 
                                                {
                                                    $ok=1;

                                                    }
                                                }
                                            $result3=mysql_query("SELECT * FROM categorii_menu ");
                                            while($zata=mysql_fetch_row($result3)){
                                                if($nume==$zata[1]){
                                                   echo "Deja se foloseste acest nume"; 
                                                   $z=1;
                                                   break;
                                                }
                                                   else $z=0;
                                            }

                                            if(($ok==0)&&($z==0)){
                                                mysql_query("UPDATE categorii_menu SET nume='$nume',nr_ordine='$ordine',cale='$cale',grad_categorie='$grad',continut='$continut') WHERE id='$id'");
                                                header('Location:lista_linkuri.php');
                                            }   
                                                else if(($ok==1)&&($z==0))echo "Acest nr de ordine este deja luat";                 

                    }
            } else if( (isset($_GET["id"])) &&($_POST) ) echo"Nu ati completat toate campurile" ;

            //retrieves the modified data from the populated form (but only if all fields are modified :(  , i don't know how to overcome this inconvenience  ) - end

    } 
    ```

    ?>

    编辑页面

    tinyMCE.init({ // 常规选项模式 : "textareas", 主题 : "advanced", plugins : "spellchecker,preview,searchreplace,paste,fullscreen,template",

    ```
     // Theme options
        theme_advanced_buttons1 : "newdocument,|,bold,italic,underline,strikethrough,|,justifyleft,justifycenter,justifyright,justifyfull,|,formatselect,fontselect,fontsizeselect",
        theme_advanced_buttons2 : "cut,copy,paste,pastetext,pasteword,|,search,replace,|,bullist,numlist,|,outdent,indent,|,undo,redo,preview,|,forecolor,backcolor",
        theme_advanced_buttons3 : "removeformat,|,sub,sup,|,charmap,|,fullscreen",
        theme_advanced_buttons4 : "spellchecker,template",
        theme_advanced_toolbar_location : "top",
        theme_advanced_toolbar_align : "left",
        theme_advanced_statusbar_location : "bottom",

        // Skin options
        skin : "o2k7",
        skin_variant : "silver",

        // Drop lists for link/image/media/template dialogs
        template_external_list_url : "js/template_list.js",
        external_link_list_url : "js/link_list.js",
        external_image_list_url : "js/image_list.js",
        media_external_list_url : "js/media_list.js",

        // Replace values for the template plugin
        template_replace_values : {
                username : "Some User",
                staffid : "991234"
        } 
    ```

    }); //initializare megamenu ddmegamenu.docinit({ menuid:'solidmenu', dur:200 })

    ```
     <div class="butoane_lista_articole">
                <a href="lista_linkuri.php">Inapoi la lista</a>
        </div>

        <div id="pagina_noua_link" class="camp_linkuri2" >
            <div id="zona-date" class="titlu_pagina_noua">
                <form action="<?php $_PHP_SELF ?>" method="post">
                <span class="span_edit">Meniuri</span>
                    <select name="select">

                            <option value="">Pagina Principala Noua</option>
                                <?php

                                        $result=mysql_query("SELECT * FROM categorii_menu WHERE grad_categorie=0");
                                        while($data=mysql_fetch_assoc($result)){ ?>
                                         <option value="<?php echo $data['id']; ?>" <?php if($data['id']!="") {echo "selected"; ?> > <?php echo $data['nume'];}?></option> 
                            <?php       }

                                        ?>

                    </select>

            </div>
                                <?php 
                                if(isset($_GET["id"])){
                                        $id=$_GET["id"];
                                        $result=mysql_query("SELECT * FROM categorii_menu WHERE id=$id;");
                                        $data=mysql_fetch_row($result);
                                        echo '<label for="nume">Nume</label><input type="text" value="'.$data[1].'"name="nume" class="input_text"/>';
                                        echo '<label for="cale">Cale</label><input type="text" value="'.$data[4].'"name="cale" class="input_text"/>';
                                        echo '<label for="ordine">Nr ordine</label><input type="text" value="'.$data[2].'"name="ordine" class="input_text"/>';
                                    } 
                                      else  {?>

                                                <label for="nume">Nume</label><input type="text" name="nume" class="input_text" />
                                                <label for="cale">Cale</label><input type="text" name="cale" class="input_text"/>
                                                <label for="ordine">Nr ordine</label><input type="text" name="ordine" class="input_text"/>
                                        <?php }?>               
        </div>

                        <div id="articol_link">

                                <textarea name="content" style="width :100%; height:300px;">
                                    <?php 
                                    if(isset($_GET["id"])){
                                    $id=$_GET["id"];
                                    $v2 = mysql_query("SELECT * FROM categorii_menu WHERE id=$id ");
                                    $id2 = mysql_fetch_row($v2); 
                                    echo $id2[6]; 
                                    } 
                                    ?> 
                                </textarea>
                        </div>                      

                                <input type="submit" name="submit" value="<?php if(isset($_GET["id"])) echo "Salvare Modficari "; else echo "Adauga pagina";?>  " class="button2"/>
                </form> 
    ```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-10T06:12:08.373

您可以更新表单中数据库中的所有字段。所有字段都将使用当前值进行更新。

您可以通过 $_POST['fieldname'] 检索您已经为插入所做的数据

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-10T06:22:49.297

试试这种方法：-

```
if(isset($_POST['submit_button_name']))
{
   $dbDataArray= /* get stored data from database in associative array format like       
   [ 'column_name1']=>['column_value1']*/
   //Now map the field name to column name accordingly
   if($_POST['field_name1'] != $dbDataArray['column_name1'])
   {
      $updateArray['column_name1']=$_POST['field_name1']
      //put in this array to use it later to update
   }
}

//Now, fire update query to update all values in $updateArray. 
```

# netbeans - 如何将 Netbeans 项目移动到不同的文件夹？

> ID：14251793
> 
> 赞同：20
> 
> 时间：2013-01-10T06:08:46.403
> 
> 标签：netbeans

我不小心在我的 Dropbox 文件夹之外创建了一些 NetBeans 项目，我想将这些项目移动到正确的文件夹中。有没有办法使用 NetBeans 用户界面更改项目的目录？

* * *

## 回答 #1

> 赞同：43
> 
> 时间：2013-01-10T06:08:46.403

在“项目”选项卡中右键单击要移动的项目，然后单击“移动”。这将允许您将项目移动到新目录。

# java - 处理并发写入和读取

> ID：14251805
> 
> 赞同：1
> 
> 时间：2013-01-10T06:09:35.337
> 
> 标签：java, concurrency

我正在尝试访问写入量很高的嵌入式数据库（H2）（10/秒，都是事件的计数器）。我需要在 1 分钟左右读取一次该数据。一旦读取，计数器应该被重置。

我正在尝试实现这种行为（伪代码）：

```
//Writer thread
SELECT count FROM counters_db WHERE type="eventID1";
if count:
   count++;
   UPDATE counters_db SET count=count WHERE type="eventID1";
else:
   INSERT INTO counters_db(eventID, count) VALUES(1, "eventID1")

//Reader thread
DATA = SELECT * FROM counters_db;
TRUNCATE TABLE counters_db;
process(DATA) <--Do something with the data 
```

两个线程并行运行。

我看到的问题是：

1.  writer 线程中的 SELECT-UPDATE-INSERT 范例对我来说看起来有问题。如果插入了某些内容并且不是阅读器线程中选择的一部分，我可以在阅读器线程中截断数据。

2.  我相信有比更新计数更好的方法来处理这些数据，然后截断是清除它。也许只是插入值会起作用（即，编写器线程中的一个非常简单的逻辑，它只是插入）并且读取器线程将知道要处理哪些行（但是如何处理？）。这种方法还存在在嵌入式数据库中创建大量记录的风险。我该如何处理？

解决这个问题的最佳方法是什么？我错过了一些明显的东西？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-10T06:34:17.587

对于＃1，（忽略读取器线程）您会遇到一个问题，即 2 个写入器线程尝试同时插入，从而丢失数据：

*   使用全局锁来插入计数器。
*   通常，数据库有一个 updateOrInsert 样式的命令可以为您执行此操作。

对于#2，你有几个我能想到的选择：

*   使用锁（细粒度到每个计数器，或者您的数据库系统允许原子更新）。
*   准备好丢失一些数据。
*   在阅读方面，您可以注意计数器值是什么（并可能将其写回数据库），永远不要重置计数器，而只是忽略数据 < 以前的值。

# php - MYSQL 获取每周数据的有限数据

> ID：14251806
> 
> 赞同：5
> 
> 时间：2013-01-10T06:09:35.900
> 
> 标签：php, mysql, date, select

我正在向用户显示当前周事件..从当前日期获取数据到当前日期值的 +7 天..它通过使用这些查询来实现

```
SELECT * from events WHERE ( start_date BETWEEN '2013-01-01' AND '2013-01-07' ) order by start_date ASC 
```

我有问题，如果，

```
start_date 2013-01-01 have 10 records
start_date 2013-01-02 have 1 records
start_date 2013-01-03 have 12 records
....
... 
```

然后从数据库中获取数据需要更多时间。所以，我每天只需要显示 3 个数据表

我的表，

```
id      start_date      end_date        event_title

1       2013-01-01      2013-01-03      event_1
2       2013-01-01      2013-01-01      event_2
3       2013-01-01      2013-01-01      event_3
4       2013-01-01      2013-01-01      event_4
-       2013-01-01      2013-01-01      event_4
-       2013-01-01      2013-01-01      event_4

5       2013-01-02      2013-01-02      event_5

6       2013-01-03      2013-01-03      event_6
7       2013-01-03      2013-01-03      event_7
8       2013-01-03      2013-01-03      event_8
9       2013-01-03      2013-01-03      event_9

10      2013-01-04      2013-01-04      event_10 
```

预期输出为 ,

```
id      start_date      end_date        event_title

1       2013-01-01      2013-01-03      event_1
2       2013-01-01      2013-01-01      event_2
3       2013-01-01      2013-01-01      event_3

4       2013-01-02      2013-01-02      event_5

5       2013-01-03      2013-01-03      event_6
6       2013-01-03      2013-01-03      event_7
7       2013-01-03      2013-01-03      event_8

8       2013-01-04      2013-01-04      event_10 
```

任何人都可以帮助解决这些... **可能在单个查询中**

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-10T07:00:12.263

此查询应该有效

```
SET @level = 0;
SET @group = '';
SELECT 
    *
FROM (
    SELECT 
        id,
        start_date,
        end_date,
        event_title,
        @level := IF(@group = start_date, @level+1, 1) AS LEVEL, 
        @group := start_date AS StartDate
    FROM test
    /*WHERE start_date BETWEEN NOW() AND DATE_ADD(NOW(), INTERVAL 7 DAY)*/
    ORDER BY start_date 
) rs
WHERE LEVEL < 4 
```

这将在每个日期获取 3 条记录。如果你想申请 where 条件根据你的需要取消注释

## [演示](http://sqlfiddle.com/#!2/8e179/1)

输出

```
id  start_date  end_date    event_title level StartDate 
1   2013-01-01  2013-01-03  event_1     1   2013-01-01 
2   2013-01-01  2013-01-01  event_2     2   2013-01-01 
3   2013-01-01  2013-01-01  event_3     3   2013-01-01 
7   2013-01-02  2013-01-02  event_5     1   2013-01-02 
8   2013-01-03  2013-01-03  event_6     1   2013-01-03 
9   2013-01-03  2013-01-03  event_7     2   2013-01-03 
10  2013-01-03  2013-01-03  event_8     3   2013-01-03 
12  2013-01-04  2013-01-04  event_10    1   2013-01-04 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-10T06:29:11.923

试试这个：

```
SELECT id, start_date, end_date, event_title 
FROM (SELECT id, start_date, end_date, event_title, 
             IF(@lastDate=(@lastDate:=start_date), @auto:=@auto+1, @auto:=0) autoCol 
      FROM events e, (SELECT @lastDate:='', @auto:=0) A 
      WHERE start_date BETWEEN '2013-01-01' AND '2013-01-07' 
      ORDER BY start_date ASC) A 
WHERE autoCol < 3; 
```

检查此链接[**SQL FIDDLE DEMO**](http://sqlfiddle.com/#!2/8e179/7)

**输出**

```
id  start_date  end_date    event_title 
1   2013-01-01  2013-01-03  event_1     
2   2013-01-01  2013-01-01  event_2     
3   2013-01-01  2013-01-01  event_3     
7   2013-01-02  2013-01-02  event_5     
8   2013-01-03  2013-01-03  event_6     
9   2013-01-03  2013-01-03  event_7     
10  2013-01-03  2013-01-03  event_8     
12  2013-01-04  2013-01-04  event_10 
```

# .net - 当我单击消息框帮助按钮时触发 HelpRequested 事件

> ID：14251807
> 
> 赞同：0
> 
> 时间：2013-01-10T06:09:38.503
> 
> 标签：.net, vb.net

我们最近将一个 VB6 应用程序迁移到 VB.NET。在 VB6 中，已在 .chm 文件的帮助下为每个控件显示 F1 帮助。在 VB.Net 中，不显示 F1 帮助文件。

在 VB.Net 中，我添加了`helprequested`事件：

```
Private Sub Form1_HelpRequested(ByVal sender As System.Object, ByVal hlpevent As 
System.Windows.Forms.HelpEventArgs) Handles MyBase.HelpRequested 
End SubIn Vb.Net 
```

然后在 HelpRequested 事件的帮助下为每个控件显示 F1 帮助。

问题是当我调用时引发了 HelpRequested 事件`btnHelp_Click button`：

```
Private Sub btnHelp_Click(ByVal sender As System.Object, ByVal e As System.EventArgs) _ Handles btnHelp.Click 
Const SET_DEFAULT_HELP As Integer = 88 
MessageBox.Show("MessageBox Help Button", "Raju help", MessageBoxButtons.OKCancel,MessageBoxIcon.Warning,MessageBoxDefaultButton.Button1, 0, _ 
My.Application.Info.DirectoryPath & BACKSLASH & HELPFILE1_NAME,HelpNavigator.TopicId,SET_DEFAULT_HELP.ToString()) 
End Sub 
```

当我调用消息框帮助按钮时会引发 HelpRequested 事件。`(MessageBox.Show ("Displaying Helpfile"))`

我不想引发那个 HelpRequested 事件；当我单击消息框帮助按钮时`btnHelp_Click`。我该如何限制这个？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-15T18:47:49.077

在我的网站上有一些文件可供下载（ClickOnce 示例和项目文件）：
[http ://www.help-info.de/en/Visual_Basic_2005/vb_2005.htm](http://www.help-info.de/en/Visual_Basic_2005/vb_2005.htm)

请首先尝试 ClickOnce 示例。请注意，此示例的选项卡上有“编码示例”。

也从我的网站下载代码。这是VB2005 - 我认为你转换没有问题。不知道你用的是什么版本的IDE。始终保持互联网连接，您的用户可能会通过远程帮助主题获得“最新”帮助（特殊用例；请参阅按钮文本帮助转到我的网站）。

为什么不使用 Help.ShowHelp？这是来自示例项目的代码（见上文）。

```
Private Sub btnShowHelpTopicId_Click(ByVal sender As System.Object, ByVal e As System.EventArgs) Handles btnShowHelpTopicId.Click  
Dim sPath As String = Replace(Application.StartupPath.ToString, "\bin", "")  
'// --- Show CHM contents tab and a special topic by TopicID -----  
Help.ShowHelp(Me, sPath & "/hlp/CHM-example.chm", HelpNavigator.TopicId, "20010")  
End Sub 
```

# spring - 如何在春季组合身份验证过滤器

> ID：14251810
> 
> 赞同：0
> 
> 时间：2013-01-10T06:10:01.593
> 
> 标签：spring, spring-mvc, spring-security

我们正在从基于 LDAP 的身份验证转移到 SSO（Oracle 的 WebGate）。

现在，对于基于 LDAP，我们正在使用基于表单的身份验证，位置为 ( `UsernamePasswordAuthenticationFilter`) `FORM_LOGIN_FILTER`。

对于 SSO 用户将进行预身份验证，并发送带有其用户名的请求标头。我打算`RequestHeaderAuthenticationFilter`在`PRE_AUTH_FILTER`位置使用。

问题是我们需要同时存在这两个过滤器，并且能够根据属性文件中的值在它们之间切换。这是针对 SSO 在生产环境中无法按预期工作的情况，因此我们可以轻松地回退到 LDAP。

我的问题是如何正确实施这一点。如果同时出现两个具有这些位置的过滤器，会不会有任何副作用？扩展这些过滤器并在继承的类中添加属性检查更好，还是创建将处理它们之间切换的复合过滤器更好？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-10T10:08:56.990

由于表单登录过滤器只处理特定位置的请求（例如/j_spring_security_check），因此它不应该影响其他过滤器的功能。所以你原来的问题很简单。您应该问的更重要的问题是如何处理未经身份验证的请求。您需要决定这将如何在您的新 SSO 解决方案中工作，并查看您是否可以构建一些可用于切换回以在应用程序中显示登录表单的内容（并且您需要设计如何做出该决定 - 例如属性文件或运行时决策中的标志）。如果您正在考虑可以在短时间内实施的后备方案，但不介意重新启动应用程序，那么我建议您使用 Spring 配置文件。

# makefile - makefile先决条件列表中的百分号后跟分号 - 需要一个简单的指针

> ID：14251811
> 
> 赞同：1
> 
> 时间：2013-01-10T06:10:02.107
> 
> 标签：makefile, special-characters, gnu-make

我最近在 CMU 的操作系统设计课程中浏览了包含这些代码行的 makefile。

```
$(TEST_PROGS) tests/verify_test: %: %.o libtraceback.a
    $(CC) -o $@ $@.o -L. libtraceback.a $(CFLAGS) $(LDFLAGS) $(LIBS) -static
    python ./symtabgen.py $@ 
```

我不明白“％：”在这里可能意味着什么。TEST_PROGS 变量包含列表 traceback/traceback_globals.o traceback/traceback.o

制作 libtraceback.a 时需要 traceback/traceback_globals.o traceback/traceback.o

我什至玩弄删除 %.o。这样做会阻止 TEST_PROGS 对象编译

删除 %: 但保留 %.o 给出了几个警告并且没有编译。

我希望有人可以在这里对makefile的语法有所了解。快速谷歌搜索显示 %: 与二次扩展有关。但是在我正在查看的这段代码中，未定义特殊目标 .SECONDEPANSION 。

请帮忙，这段代码让我的大脑受伤了......

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-10T06:12:43.013

规范的地方是[Make 手册](http://www.gnu.org/software/make/manual/make.html)。

无论如何，这是一个[*静态模式规则*](http://www.gnu.org/software/make/manual/make.html#Static-Usage)的例子。它使用通配符来指定每个目标与类似名称的先决条件之间的关系。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2014-09-04T23:28:12.280

这是一个静态模式。

这就是它的意思：

您的目标是 $(TEST_PROGS) 或 test/verify_test 描述的任何文件

您需要构建目标的是第二部分：%.o libtraceback.a

将替换 % 符号的字符串正是您要构建的文件的名称。

因此，例如，执行 make test/verify_test 会将 % 设置为“test/verify_test”，并且需要 test/verify_test.o 和 libtraceback.a

# c++ - 如何将python代码转换为cpp

> ID：14251815
> 
> 赞同：-2
> 
> 时间：2013-01-10T06:10:25.200
> 
> 标签：c++, python-2.7

> **可能重复：**
> [将 Python 程序转换为 C/C++ 代码？](https://stackoverflow.com/questions/4650243/convert-python-program-to-c-c-code)

我可以用python编写代码，但编写c++代码有困难，但我必须提交c++代码，我的一位前辈建议我用python编写代码，然后编写python代码将其转换为c++，我谷歌了但是找不到好的指南，有人可以帮助我吗？您的帮助将不胜感激。谢谢你。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-10T06:18:53.010

我不建议用 Python 编写它然后转换为 C++。不仅是加倍努力，而且Python代码的风格与C++代码不同，主要是Python是动态类型的，C++是静态类型的。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-10T06:39:37.433

我没有适合您的解决方案，但我只能强化其他人发布的内容：不要！即使存在这样的解决方案，代码也很可能非常糟糕且效率低下（即因为 c++ 必须模拟 python 的动态特性）。要求你提交 c++ 代码的人可能是有原因的，他要么意识到你“被骗”，要么认为你是一个非常糟糕的程序员。这可以接受吗？

# jquery - 对话框覆盖不起作用

> ID：14251821
> 
> 赞同：1
> 
> 时间：2013-01-10T06:10:59.470
> 
> 标签：jquery, dialog, overlay

请告诉我为什么这个叠加层不起作用。我打算在用户按下 hlFeedback 链接时弹出一个 div。

```
 <script type="text/javascript">
    jQuery(document).ready(function () {
        jQuery('#hlfeedback').click(function () {
            var dlg = jQuery('div#message').dialog({
                width: 608,
                height: 750,
                modal: true,
                overlay: { backgroundColor: "#000", opacity: 0.5 },
                buttons: {},
                open: function (event, ui) {
                    $(".ui-dialog-titlebar-close").hide();
                }
            });
            dlg.parent().appendTo(jQuery("form:first"));
        });
    });
    </script> 
```

div#message 工作正常，但唯一不工作的是覆盖部分。我想要一个不透明度为 0.5 的黑色背景。怎么了？！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-10T06:18:06.480

jQuery UI 对话框没有`overlay`选项，但您可以使用 CSS 轻松更改它：

```
.ui-widget-overlay {
   background-color: #000;
   opacity: 0.5;
} 
```

# javascript - SignalR 连接请求不发送 cookie

> ID：14251822
> 
> 赞同：2
> 
> 时间：2013-01-10T06:11:03.043
> 
> 标签：javascript, ajax, http, cookies, signalr

我正在使用 ASP.NET Web API 和 SignalR 构建一个 Web 应用程序。我对 HTTP 有很好的理解，但这个问题超出了我的范围。

目前，我正在对该 API 的所有 AJAX 请求设置一个 cookie。对 API 的后续 AJAX 请求会毫无问题地发送 cookie。

但是，我希望这个 cookie 也用于建立连接的 SignalR 请求，但根据 Chrome，cookie 没有在这些请求中发送。我将 cookie 设置为 HTTPOnly。目前，一切都在本地运行；所有请求都转到`localhost:port`. cookie 上的域也被设置`localhost`为。

我的 SignalR 连接如下所示：

```
var connection = $.connection("/updates");
/* set handlers here */
connection.start(function () {
    console.log("connection started!");
}); 
```

似乎 Chrome 认为这是一个 CORS 请求并扣留了 cookie。然而，请求在同一个域上，所以这没有多大意义。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-10T22:22:34.687

原来我对cookies的理解不够好。浏览器似乎无法处理像`localhost`cookie 域这样的 TLD。因此，我未定义域，以便 cookie 将默认为请求的域。

但是，需要将路径参数设置为`/`以确保在所有请求中都发送 cookie。

进行这些更改后，一切都按预期工作，并且我的 cookie 在 SignalR 中清晰可见。

# jquery - JQuery工具提示（jQueryTool）错误表上的多个实例

> ID：14251823
> 
> 赞同：0
> 
> 时间：2013-01-10T06:11:11.240
> 
> 标签：jquery, tooltip, jquery-tools, jquery-tooltip

我正在使用由“jquerytools”（http://jquerytools.org/download/）开发的 jQuery 函数工具提示，我试图在表中第一列的每一行上调用多个回调。

这是javascript源代码：

```
$('#table1 tr td:nth-child(1)').each(function(){
    $(this).tooltip({
      bounce: "false",
      tip: $(this).children('.tableTooltip'),
      position: 'center right',
      offset: [0, 0],
      effect: "fade",
      relative: true,
      opacity: 1,
      delay: 300
    });
}); 
```

这张桌子：

```
<table id="table1">

  <tr><td> 
      Some content
      <div class="tooltip tableTooltip">
        <table><tr><td>My tooltip table</td></tr></table>
      </div>
  </td></tr>

  <tr><td> 
      Some other content
      <div class="tooltip tableTooltip">
        <table><tr><td>My other tooltip table</td></tr></table>
      </div>
  </td></tr>

</table> 
```

该代码似乎有效，当我将光标移到主表的第一列上时，它会出现工具提示。但是当我将光标移到工具提示上时，我从 Firebug 收到此错误：

> 未捕获的异常：找不到 [object Object] 的工具提示

任何人都可以帮助我吗？任何提示都非常感谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-10T06:47:45.650

这可能与初始化有关，因为我注意到工具提示仅在鼠标悬停后才会激活。我通过隐藏工具提示并将工具提示更改为不使用表进行了一些更改以消除初始化期间的任何问题，该表也可能已由您的 jquery 选择器选择。

[http://jsbin.com/ewagex/4](http://jsbin.com/ewagex/4) <-在这里测试 [http://jsbin.com/ewagex/4/edit](http://jsbin.com/ewagex/4/edit) <-在这里编辑

```
 <table id="table1">

  <tr><td> 
      Some content
      <div class="tooltip tableTooltip">
        <div>My tooltip table</div>
      </div>
  </td></tr>

  <tr><td> 
      Some other content
      <div class="tooltip tableTooltip">
        <div>My other tooltip table</div>
      </div>
  </td></tr>

  <script>
    $('#table1 tr td:nth-child(1)').each(function(){
    $(this).children('.tableTooltip').hide();
    $(this).tooltip({
      bounce: "false",
      tip: $(this).children('.tableTooltip'),
      position: 'center right',
      offset: [0, 0],
      effect: "fade",
      relative: true,
      opacity: 1,
      delay: 300
    });
});
    </script> 
```

# iphone - UITextView 中的自定义自动完成

> ID：14251826
> 
> 赞同：0
> 
> 时间：2013-01-10T06:11:27.040
> 
> 标签：iphone, autocomplete, uitextview

我想为 UITextView 做自定义的自动完成...

例如：

```
 If the user starts to type "Busines" I would like to suggest "Business1", "Business2", , so that the user can select any one of the 2 suggestions or choose to type a new one. 
```

所有自定义单词建议都将在数组中...

我怎样才能做到这一点？

是`completionsForPartialWordRange:inString:language:`我可以使用的东西.. 我怎样才能传递数组中的值？？？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-10T06:21:22.650

你可以试试这段代码。

```
 - (void)searchAutocompleteEntriesWithSubstring:(NSString *)substring 
{
    [autocomplete_array removeAllObjects];
    for(int i=0;i<[your_main_array count];i++)
    {
         NSString *curString = [your_main_array objectAtIndex:i];
         curString = [curString lowercaseString];
         substring = [substring lowercaseString];

         if ([curString rangeOfString:substring].location == NSNotFound) 
         {} 
         else 
         { 
             [autocomplete_array addObject:curString] 
         }  
    }
    [autocompletedisplayTableView reloadData];
}

- (BOOL)textView:(UITextView *)textView shouldChangeTextInRange:(NSRange)range replacementText:(NSString *)text 
{
    if( textView == your_TextView)
    {
        [your_TextView resignFirstResponder];
        autocompletedisplayTableView.hidden = NO;

        NSString *substring = [NSString stringWithString:your_TextView.text];
        substring = [substring stringByReplacingCharactersInRange:range withString:string];
        [self searchAutocompleteEntriesWithSubstring:substring];
        return YES;
    }
} 
```

your_main_array ：将是您将从 Web 服务加载的原始数组。autocomplete_array ：将是搜索过程完成后您将获得的数组。

当用户搜索时，您必须将 autocomplete_array 传递给您的`UITableView`

# sql - SSIS删除重复数据

> ID：14251827
> 
> 赞同：2
> 
> 时间：2013-01-10T06:11:26.773
> 
> 标签：sql, ssis, duplicates

我在制作`SSIS`包裹时遇到问题。有人可以帮忙吗？
情况是这样的：我有两个表：`A`& `B`，结构是一样的。但它们存储在不同的服务器上。

我已经制作了一个包来`SSIS`传输数据（一次大约一百万行，需要一到两分钟）。`A``B`

之后我想删除 table`A`的数据，在转移到`B`. 我写的`SSIS`包将遵循这一点。我使用`merge join`and`Conditional Split`命令来选择相同的数据。

之后，我使用`OLE DB`Command 删除 Table`A`的数据（只需使用`"Delete RE_FormTo Where ID=?"`SQLCommand 删除）。它可以工作，但它太慢了！删除重复数据大约需要一个小时！有谁知道这样做更有效的方法？

[SSIS 包链接](http://www.flickr.com/photos/92066102@N03/8365934429/in/photostream)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-10T06:52:46.820

由于糟糕的 SSIS 包设计，执行势必会很慢。请参考文档[SSIS 设计的最佳实践](http://sqlcat.com/sqlcat/b/top10lists/archive/2008/10/01/top-10-sql-server-integration-services-best-practices.aspx)

让我向您解释一下您的包裹中存在的错误。

1.您正在使用阻塞转换（排序组件）。这些转换不会重用输入缓冲区，而是为输出创建一个新的缓冲区，并且大多数情况下它们比尝试重用的同步组件（例如查找、派生列等）慢输入缓冲区。根据 MSDN

```
Do not sort within Integration Services unless it is absolutely necessary. In 
order to perform a sort, Integration Services allocates the memory space of the
entire data set that needs to be transformed. If possible, presort the data before
it goes into the pipeline. If you must sort data, try your best to sort only small
data sets in the pipeline. Instead of using Integration Services for sorting, use 
an SQL statement with ORDER BY to sort large data sets in the database – mark 
the  output as sorted by changing the Integration Services pipeline metadata
on the data
source. 
```

2.Merge Join`semi-blocking transformation`确实会影响性能，但远低于`Blocking transformation`

有两种方法可以解决问题

1.  使用查找

![在此处输入图像描述](../Images/5de643e1dd671924c613ecfdf0ddd3d4.png)

2.  使用执行 SQL 任务并编写合并 SQL

    ```
     DECLARE @T TABLE(ID INT);
     Merge @TableA as target
     using @TableB as source
     on target.ID=source.ID
     when matched then 
     Delete OUTPUT source.ID INTO @T;

     DELETE @TableA
     WHERE ID in (SELECT ID
                 FROM @T); 
    ```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-10T06:55:12.430

加入两个表后，只需插入`Sort`元素，他就会删除重复项...... [http://sqlblog.com/blogs/jamie_thomson/archive/2009/11/12/sort-transform-arbitration-ssis.aspx](http://sqlblog.com/blogs/jamie_thomson/archive/2009/11/12/sort-transform-arbitration-ssis.aspx)

# iphone - sqlite3_prepare_v2 在 iPhone 上不返回 sqlite_ok

> ID：14251830
> 
> 赞同：0
> 
> 时间：2013-01-10T06:11:35.183
> 
> 标签：iphone, ios, objective-c, sqlite

我第一次在 iPhone 中试用 SQLite。我面临的错误是`sqlite3_prepare_v2(database, sql, -1, &selectstmt, NULL) == SQLITE_OK`下面的代码中的语句返回 false 并且没有显示任何内容。

下面是我的代码：

```
+ (void) getInitialDataToDisplay:(NSString *)dbPath {

dbTryAppDelegate *appDelegate = (dbTryAppDelegate *)[[UIApplication sharedApplication] delegate];

if (sqlite3_open([dbPath UTF8String], &database) == SQLITE_OK) {

    const char *sql = "select name,id from studtry";
    sqlite3_stmt *selectstmt;
//below line is never executed and its else part is also not executed.
    if(sqlite3_prepare_v2(database, sql, -1, &selectstmt, NULL) == SQLITE_OK) {

        while(sqlite3_step(selectstmt) == SQLITE_ROW) {

            NSInteger primaryKey = sqlite3_column_int(selectstmt, 0);
            stud *coffeeObj = [[stud alloc] initWithPrimaryKey:primaryKey];
            coffeeObj.studName = [NSString stringWithUTF8String:(char *)sqlite3_column_text(selectstmt, 0)];

            //coffeeObj.isDirty = NO;

            [appDelegate.studArray addObject:coffeeObj];
          //  [coffeeObj release];
        }
    }
}
else
    sqlite3_close(database); //Even though the open call failed, close the database connection to release all the memory.
} 
```

我哪里错了？我该如何解决？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-10T06:32:20.493

根据您的代码，一切都是正确的，但我认为您传递错误`DBPath`或者`DB`文件可能不在正确的位置，请检查这两个点并重试。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-10T07:30:06.630

首先从应用程序和模拟器文件夹中删除您的应用程序。然后创建名为 :: Practise.sqlite3 的数据库（SQLite3 的类型）

然后为复制编写此方法：

```
- (void) copyDatabaseIfNeeded {

   NSFileManager *fileManager = [NSFileManager defaultManager];
   NSError *error;
   dbPath = [self getDBPath];

       BOOL success = [fileManager fileExistsAtPath:dbPath];

   if(!success) {
        NSString *defaultDBPath = [[[NSBundle mainBundle] resourcePath] stringByAppendingPathComponent:@"Practise.sqlite3"];
        success = [fileManager copyItemAtPath:defaultDBPath toPath:dbPath error:&error];
   if (!success)
        NSAssert1(0, @"Failed to create writable database file with message '%@'.", [error localizedDescription]);
   }
}

- (NSString *) getDBPath {

      NSArray *paths = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory,NSUserDomainMask,YES);
      NSString *documentsDir = [paths objectAtIndex:0];

      return [documentsDir stringByAppendingPathComponent:@"Practise.sqlite3"];
} 
```

你可以随时复制这个，

```
[self copyDatabaseIfNeeded]; 
```

然后，检查您的结果。希望它会奏效。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-10T06:21:48.207

检查数据库路径、数据库扩展名以及相同的表和字段。

无论如何，

使用 This 而不是直接使用 const string::

```
NSString *sqlStr = [NSString stringWithFormat:@"select name,id from studtry"];

const char *sql = [sqlStr UTF8String]; 
```

在 while 循环 finalize 语句之后，

```
sqlite3_finalize(selectstmt); 
```

然后，在 If 条件之后，

```
 sqlite3_close(database); 
```

不需要写在else部分。

希望它对你有用。谢谢。

# java - FileChannel 和 FileInputStream 中 read(ByteBuffer) 和 read(byte[]) 的区别

> ID：14251837
> 
> 赞同：2
> 
> 时间：2013-01-10T06:12:19.983
> 
> 标签：java, io, nio

我是**NIO**的新手，我发现一篇文章说“**基于块的传输通常比基于流的传输更有效**”。这意味着 read(ByteBuffer) 是基于块的传输，而 read(byte[]) 是基于流的传输。

我想知道这两种方法的内部区别是什么。

ps：我也听说基于块的传输是传输字节数组，而基于流的传输是逐个传输字节。我认为这是错误的，因为 java.io.FileInputStream.read(byte[]) 也传输字节数组。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-10T08:31:27.947

使 Bytebuffer 更高效的一件事是使用直接内存。这避免了从直接内存复制到字节[]。如果您只是将数据从一个通道复制到另一个通道，则速度可以提高 30%。如果您逐字节读取，则使用 ByteBuffer 可能会稍微慢一些，因为它访问每个字节的开销更大。如果您使用它来读取二进制文件`int`，或者`double`它可以更快，因为它可以在一次访问中获取整个值。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-10T06:33:51.420

我认为您在谈论`buffer-based`与`stream-based`I/O 操作。Java`NIO`是面向缓冲区的，因为首先将数据读入缓冲区，然后再进行处理。这提供了一种灵活性。此外，在处理缓冲区之前，您需要确保缓冲区包含您需要的所有数据。另一方面，使用`stream-based`I/O，您从流中读取一个或多个字节，这些字节不会缓存在任何地方。这是一个阻塞 I/O，而`buffer-based`I/O（即 Java NIO）是一个非阻塞 IO。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-10T06:32:03.553

虽然我不会使用“基于流的”来表征，但在某些情况下， a`read(byte[])`的效率会有所提高。`ByteBuffer``byte[]`

请参阅[关于何时应将直接缓冲区与 Java NIO 用于网络 I/O 的简单规则？](https://stackoverflow.com/questions/12187996/a-simple-rule-of-when-i-should-use-direct-buffers-with-java-nio-for-network-i-o)和[ByteBuffer.allocate() 与 ByteBuffer.allocateDirect()](https://stackoverflow.com/questions/5670862/bytebuffer-allocate-vs-bytebuffer-allocatedirect)

支持 a 的内存`ByteBuffer`可以（如果“直接”）更容易让 JVM 传递给操作系统并使用 IO 技巧（例如将内存直接传递给读写调用），并且可能不在 JVM 的“上”堆。支持 a 的内存`byte[]`在 JVM 堆上，并且 IO 通常不会直接进入数组使用的内存（相反，它通常会通过反弹缓冲区 --- 因为 GC 可能会在 IO 时在内存中“移动”数组对象待处理或数组内存可能不连续）。

但是，如果您必须在 Java 中操作数据，a`ByteBuffer`可能没有太大区别，因为您最终必须将数据复制到 Java 堆中才能操作它。如果您在不进行操作的情况下进行数据复制和复制，那么直接 ByteBuffer 可能是一个胜利。

# mysql - 使用 MySQL 使用循环构建存储过程的问题

> ID：14251840
> 
> 赞同：0
> 
> 时间：2013-01-10T06:12:32.330
> 
> 标签：mysql, stored-procedures

以下过程未更新任何行。语法有明显错误吗？我是 MySQL 新手

```
set autocommit = 0;
DROP procedure IF EXISTS update_fee;
delimiter //
CREATE PROCEDURE update_fee()
BEGIN
  DECLARE done INT DEFAULT FALSE;
  DECLARE t_fee_id int(10);
  DECLARE t_pubco_id int(10);
  DECLARE t_auditor_id int(10);
declare fiscal_period_end_id int(10);
declare t_fiscal_year int(4);
  DECLARE t_audit_id int(10);
  DECLARE cur1 CURSOR FOR SELECT fee_id, pubco_id, auditor_id, fiscal_period_end_id, fiscal_year
                                 from a_fees;
  DECLARE CONTINUE HANDLER FOR NOT FOUND SET done = TRUE;

  OPEN cur1;

  read_loop: LOOP
    FETCH cur1 INTO t_fee_id, t_pubco_id,
                    t_auditor_id , fiscal_period_end_id, t_fiscal_year;
    IF done THEN
      LEAVE read_loop;
    END IF;

    set t_audit_id = get_audit_id (t_pubco_id, 
                                   t_auditor_id, 
                                   concat('''', t_fiscal_year, '-', 
                                          (select concat(fiscal_period_end_month, '-', fiscal_period_end_day, ''''
                                                        )
                                             from a_fiscal_period_end
                                            where t_fiscal_period_end_id = a_fiscal_period_end.fiscal_period_end_id
                                           ), ''''
                                         )
                                   );

update a_fees set audit_id = t_audit_id;

  END LOOP;

  CLOSE cur1;
END;
delimiter ; 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-10T06:16:57.150

`set autocommit = 0;`意味着您必须手动提交更改。使用`START TRANSACTION`和`COMMIT`或`ROLLBACK`。

# java - Android 构建工作区错误

> ID：14251841
> 
> 赞同：5
> 
> 时间：2013-01-10T06:12:38.500
> 
> 标签：java, android, eclipse, workspace, android-storm

我有一个使用[stORM](https://code.google.com/p/storm-gen/)的项目。当我尝试打开作为 Android ADT 包下载的 Eclipse 时。我收到以下错误

![在此处输入图像描述](../Images/0561954ddd55f865cf03e9ee251d2232.png)

```
Errors occurred during the build.
Errors running builder 'Android Pre Compiler' on project 'stORM'.
java.lang.NullPointerException 
```

我注意到，如果我从 Workspace Eclipse 中删除该项目，则可以正常工作。stORM 或 ADT 包的注释处理器似乎存在一些问题。

知道如何解决这个问题吗？

ADT 版本

![在此处输入图像描述](../Images/b54617f8c7e3484bcb711acdc0032ef7.png)

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-01-15T13:33:51.530

解决方法

你好呀！我遇到了完全相同的错误（最新的 ADT 插件（21.0.1-543035）和 Eclipse 4.2.1）。

对我来说有什么帮助：我在“项目属性/Java 编译器/注释处理”中关闭注释处理，然后重新启动 Eclipse，清理项目，重新启用注释处理，构建。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2013-01-17T02:00:32.400

我解决了将 SDK 管理器和 ADT 升级到最新预览版的问题。浏览此处获取更多信息：

[21.0.1 android sdk 上的 Android 预编译器错误](https://stackoverflow.com/questions/14188650/android-pre-compiler-error-on-21-0-1-android-sdk)

# mysql - 从不同模型的控制器更新一个模型的属性

> ID：14251842
> 
> 赞同：1
> 
> 时间：2013-01-10T06:12:38.217
> 
> 标签：mysql, ruby-on-rails, ruby, rails-activerecord

我有一个简单的帖子和用户应用程序，用户可以在其中提交和支持帖子。我有两个模型，post 和 user，现在我正在使用 post 模型来添加“upvoting”功能。

每个帖子都有一个`:id`,`:upvote`和`:users_voted_by`属性。每个用户都有一个`:username`,`:posts_voted_on`和`good_karma`属性

当用户点击帖子上的upvote按钮时，我需要确保当前用户不在`:users_voted_by`该帖子的列中，如果不在，则`:upvote`将该帖子的属性添加1。这部分完成了。

但我还需要将帖子添加`:id`到当前用户的`:posts_voted_on`字段中，并在提交者的`:good_karma`字段中添加 1。

# 岗位型号：

```
class Post < ActiveRecord::Base
  attr_accessible :comment_count, :downvote, :id, :text, :title, :upvote, :url, :user, :users_voted_by
end 
```

# 用户型号：

```
class User < ActiveRecord::Base
  attr_accessible :email, :password, :password_confirmation, :username, :posts_voted_on, :good_karma, :bad_karma

  attr_accessor :password
  before_save :encrypt_password

  validates_confirmation_of :password
  validates_presence_of :password, :on => :create
  validates_presence_of :email
  validates_uniqueness_of :email
  validates_presence_of :username
  validates_uniqueness_of :username

  def self.authenticate(email, password)
    user = find_by_email(email)
    if user && user.password_hash == BCrypt::Engine.hash_secret(password, user.password_salt)
      user
    else
      nil
    end
  end

  def encrypt_password
    if password.present?
      self.password_salt = BCrypt::Engine.generate_salt
      self.password_hash = BCrypt::Engine.hash_secret(password, password_salt)
    end
  end
end 
```

# 我的upvote方法在posts_controller中：

```
 def upvote
    @post = Post.find(params[:post_id])

    respond_to do |format|
      if @post.users_voted_by.index(current_user.username) == nil && @post.update_attributes(:upvote => @post.upvote + 1, :users_voted_by => @post.users_voted_by + ',' + current_user.username)
        format.html { redirect_to @post }
        format.json { head :no_content }
      else
        format.html { render action: "edit" }
        format.json { render json: @post.errors, status: :unprocessable_entity }
      end
    end
  end 
```

第五行是魔法所在。确保我投票的帖子没有该`:users_voted_by`领域的当前用户。然后它更新`:upvote`和`:users_voted_by`字段。

**如何添加到此方法（操作？），以便它还更新投票用户和帖子提交者的属性以存储业力的增加。**

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-10T07:05:51.727

猜测[服务对象](http://blog.codeclimate.com/blog/2012/10/17/7-ways-to-decompose-fat-activerecord-models/)可以在这里提供帮助，例如（未测试）

```
class Voter
  def initialize(post, user)
    @post = post
    @user = user
  end

  def upvote
    return false unless @post.users_voted_by.index(@user.username)
    @post.upvote += 1
    @post.users_voted_by = @post.users_voted_by + ',' + @user.username
    @user.good_carma += 1
    @post.save && @user.save
  end

  def downvote
    ...
  end
end 
```

然后控制器看起来像

```
 def upvote
    @post = Post.find(params[:post_id])
    respond_to do |format|
      if Voter.new(@post, current_user).upvote
        format.html { redirect_to @post }
        format.json { head :no_content }
      else
        format.html { render action: "edit" }
        format.json { render json: @post.errors, status: :unprocessable_entity }
      end
    end
  end 
```

# json - 什么是 HTTP 中的“406-不可接受的响应”？

> ID：14251851
> 
> 赞同：207
> 
> 时间：2013-01-10T06:13:42.773
> 
> 标签：json, rest, http, http-response-codes, http-status-code-406

在我的 Ruby on Rails 应用程序中，我尝试通过 POSTMAN [REST](http://en.wikipedia.org/wiki/Representational_State_Transfer)客户端以[Base64](http://en.wikipedia.org/wiki/Base64)格式上传图像。当我发布图像时，我收到*406 Not Acceptable Response*。当我检查我的数据库时，图像在那里并成功保存。

这个错误的原因是什么，我需要在标题中指定什么吗？

我的请求：

网址--- `http://localhost:3000/exercises.json`

标题：

```
Content-Type  -  application/json 
```

原始数据：

```
{
    "exercise": {
        "subbodypart_ids": [
            "1",
            "2"
        ],
        "name": "Exercise14"
    },
    "image_file_name": "Pressurebar Above.jpg",
    "image":"******base64 Format*******"
} 
```

* * *

## 回答 #1

> 赞同：290
> 
> 时间：2013-01-10T06:52:00.977

您的操作没有失败。

您的后端服务说它返回的响应类型未在您的客户端请求的*Accept* HTTP 标头中提供。

参考：[http ://en.wikipedia.org/wiki/List_of_HTTP_header_fields](http://en.wikipedia.org/wiki/List_of_HTTP_header_fields)

1.  找出 Service 返回的响应（内容类型）。
2.  在您的请求 Accept 标头中提供此（内容类型）。

[http://en.wikipedia.org/wiki/HTTP_status_code](http://en.wikipedia.org/wiki/HTTP_status_code) -> 406

* * *

## 回答 #2

> 赞同：44
> 
> 时间：2013-01-10T06:17:03.977

> 406 Not Acceptable 请求标识的资源只能生成响应实体，其内容特征根据请求中发送的accept headers不可接受。

当服务器无法使用请求中指定的接受标头进行响应时，会发生 406。在您的情况下，服务器似乎无法接受响应的 application/json 。

* * *

## 回答 #3

> 赞同：8
> 
> 时间：2014-08-03T08:41:31.447

您提到您使用 Ruby on Rails 作为后端。您没有发布相关方法的代码，但我猜它看起来像这样：

```
def create
  post = Post.create params[:post]
  respond_to do |format|
    format.json { render :json => post }
  end
end 
```

将其更改为：

```
def create
  post = Post.create params[:post])
  render :json => post
end 
```

它会解决你的问题。它对我有用:)

* * *

## 回答 #4

> 赞同：4
> 
> 时间：2018-05-08T22:08:09.407

“有时”这可能意味着服务器有一个内部错误，并且想要响应错误消息（例如：带有 JSON 有效负载的 500），但由于请求标头没有说它接受 JSON，所以它返回 406。去搞清楚。（在这种情况下：spring boot webapp）。

在这种情况下，您的操作确实失败了。但是失败的消息被另一个掩盖了。

* * *

## 回答 #5

> 赞同：3
> 
> 时间：2016-07-31T22:50:24.120

当在浏览器中存储或引用无效 cookie 时，您也可能会收到 406 响应 - 例如，在本地以 Dev 模式运行 Rails 服务器时。

如果您碰巧在同一个端口上运行了两个不同的项目，浏览器可能会引用来自不同 localhost 会话的 cookie。

这发生在我身上......让我绊倒了一分钟。查看浏览器 > 开发人员模式 > 网络显示它。

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2016-08-29T23:10:53.817

就我而言，我补充说：

```
Content-Type: application/x-www-form-urlencoded 
```

完全解决了我的问题。

* * *

## 回答 #7

> 赞同：1
> 
> 时间：2016-12-09T19:56:00.183

```
const request = require('request');

const headers = {
    'Accept': '*/*',
    'User-Agent': 'request',
};

const options = {
    url: "https://example.com/users/6",
    headers:  headers
};

request.get(options, (error, response, body) => {
    console.log(response.body);
}); 
```

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2019-07-01T12:48:54.247

如果您使用的是“request.js”，则可以使用以下内容：

```
var options = {
  url: 'localhost',
  method: 'GET',
  headers:{
    Accept: '*/*'
  }
}

request(options, function (error, response, body) {
  ...
}) 
```

* * *

## 回答 #9

> 赞同：0
> 
> 时间：2019-09-16T06:55:31.247

对于 .NET-Core 中的 API，该 api 设置为使用 XML（默认设置为使用 JSON 响应），因此我在 Controller 中添加了此注释：

```
[Produces("application/xml")]
public class MyController : ControllerBase {...} 
```

谢谢你让我走上这条路！

# database - postgres/plsql 生成的字符串创建额外的双引号

> ID：14251854
> 
> 赞同：1
> 
> 时间：2013-01-10T06:14:00.637
> 
> 标签：database, string, postgresql, plpgsql

我在 postgres 中使用一个 plsql 函数来循环一个大型数据集，并使用每条记录中的数据来生成一个字符串。出于某种原因，我得到了不需要的额外双引号，如下所示：

```
'{ ""id"": ""1""}' 
```

它应该看起来像

```
'{ "id": "1"}' 
```

另外，我注意到字符串的开头和结尾有不需要的括号。我正在使用的代码如下：

```
CREATE FUNCTION gen_blocks()
    RETURNS TEXT  AS $$ DECLARE
    output TEXT := '';
    j record; BEGIN
    FOR j IN SELECT '{ "id": "' || id ||'"},' LOOP
        output := output || j;
    END LOOP;

    return output; END; $$ LANGUAGE plpgsql; 
```

有任何想法吗？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-01-10T06:48:50.280

你的问题就在这里：

```
output := output || j; 
```

你`j`是一个`record`，而不是一个字符串类型。因此，PostgreSQL 必须`record`为您字符串化。这就是您的报价翻倍发生的地方。您不想连接`j`到输出缓冲区，而是想连接`j`;中的第一列 一个简单的解决方案是为您的字符串计算添加一个别名，以便您可以按名称引用它：

```
FOR j IN SELECT '{ "id": "' || id ||'"},' as s LOOP
    output := output || j.s;
END LOOP; 
```

你也可以跳过你的自定义函数，只使用[`string_agg`](http://www.postgresql.org/docs/current/interactive/functions-aggregate.html#FUNCTIONS-AGGREGATE-TABLE)：

> `string_agg(expression, delimiter)`
> 
> 输入值连接成一个字符串，用分隔符分隔

像这样的东西：

```
select string_agg('{ "id": "' || id || '" }', ',') from ... 
```

这将有一个额外的好处，即在末尾不包含一个杂散的逗号（一些 JavaScript 和 JSON 解析器会对此感到不安）。

# javascript - 使用 jQuery 的订单行定价

> ID：14251856
> 
> 赞同：1
> 
> 时间：2013-01-10T06:14:02.253
> 
> 标签：javascript, jquery, conditional-statements

我有一个简单的产品订单表格，我正在计算行总数。特定产品的价格会根据订购的数量而变化。

因此，对于 10 个或更多“产品”，价格为 895 美元。不到 10 美元的价格是 925 美元。

当输入数量时，我有计算我的行总数的表格，但我被困在单独定价方案所需的条件语句上。

任何帮助是极大的赞赏。

```
<tr>
  <td>G Plus Mariner Sport 36V 250W</td>
  <td>$1,299</td>
  <td>$925</td>
  <td>$895</td>
  <td>0</td>
  <td><input class="qty" id="qtybox" type="text" /></td>
  <td>$<span id="linetotal"></span></td> 
```

```
$(document).ready(function(){
  $('#qtybox').change(function(){
    $('#linetotal').text($(this).val() * 925);
 });    
}); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-10T06:16:28.017

您可以使用`if`语句来放置这样的**条件**，

**[现场演示](http://jsfiddle.net/rajaadil/xjAaR/)**

```
$(document).ready(function(){
  $('#qtybox').change(function(){
    qty = $(this).val()
    if(qty < 10)
        $('#linetotal').text(qty * 925);
    else
       $('#linetotal').text(qty * 895);
 });    
}); 
```

# ios - 关于使这个线程安全但高效的建议？

> ID：14251858
> 
> 赞同：0
> 
> 时间：2013-01-10T06:14:19.947
> 
> 标签：ios, objective-c, multithreading, macos, grand-central-dispatch

我一直在思考一个看似很容易实现的问题，但一个高效且线程安全的解决方案却让我感到困扰。我想做的是创建某种工作对象。几个调用者可能会要求它从不同的线程工作。一个要求是请求不能排队。换句话说，如果有人要求工人工作，但看到它已经在工作，它应该早点回来。

一个简单的第一关是这样的：

```
@interface Worker : NSObject
@property (nonatomic, assign, getter = isWorking) BOOL working;
- (void)doWork;
@end

@implementation Worker
{
    dispatch_queue_t _workerQueue; //... a private serial queue
}

- (void)doWork
{
    if ( self.isWorking )
    {
        return;
    }
    self.working = YES;
    dispatch_async(_workerQueue, ^{
        // Do time consuming work here ... Done!
        self.working = NO;
    });
}
@end 
```

问题在于 isWorking 属性不是线程安全的。将其标记为原子在这里无济于事，因为对它的访问需要在几个语句之间同步。

为了使其线程安全，我需要使用锁来保护 isWorking：

```
@interface Worker : NSObject
@property (nonatomic, assign, getter = isWorking) BOOL working;
- (void)doWork;
@end

@implementation Worker
{
    dispatch_queue_t _workerQueue; //... a private serial queue
    NSLock *_lock; // assume this is created
}

- (void)doWork
{
    [_lock lock];
    if ( self.isWorking )
    {
        [_lock unlock];
        return;
    }
    self.working = YES;
    [_lock unlock];
    dispatch_async(_workerQueue, ^{
        // Do time consuming work here ... Done!
        [_lock lock];
        self.working = NO;
        [_lock unlock];
    });
} 
```

@结尾

虽然我确实相信这将是线程安全的，但我认为不得不如此频繁地获取和放弃锁（一项昂贵的操作）是非常糟糕的。

那么，有没有更优雅的解决方案呢？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-10T06:33:43.517

[`dispatch_semaphore`](http://developer.apple.com/library/ios/documentation/General/Conceptual/ConcurrencyProgrammingGuide/OperationQueues/OperationQueues.html#//apple_ref/doc/uid/TP40008091-CH102-SW24)如果您已经在使用 GCD，这是[限制对有限资源的访问的惯用方式。](http://developer.apple.com/library/ios/documentation/General/Conceptual/ConcurrencyProgrammingGuide/OperationQueues/OperationQueues.html#//apple_ref/doc/uid/TP40008091-CH102-SW24)

```
// Add an ivar:
dispatch_semaphore_t _semaphore;

// To initialize:
_semaphore = dispatch_semaphore_create(1);

// To "do work" from any thread:
- (void)doWork
{
     if (dispatch_semaphore_wait(_semaphore, DISPATCH_TIME_NOW) == 0) {
         // We got the semaphore without waiting, so we're first in line.
         dispatch_async(_workerQueue, ^{
             // do time consuming work here, then when done:
             dispatch_semaphore_signal(_semaphore);
         });
     } else {
         // We would have had to wait for the semaphore, so somebody must have
         // been doing work already, and we should do nothing.
     }
} 
```

[这是一篇更详细解释的博客文章。](http://www.madebysofa.com/archive/blog/the-sleeping-barber/)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-10T06:20:10.590

您可以在此处使用原子[测试和设置](https://en.wikipedia.org/wiki/Test-and-set)操作。GCC 提供[`__atomic_test_and_set`](http://gcc.gnu.org/onlinedocs/gcc/_005f_005fatomic-Builtins.html#index-g_t_005f_005fatomic_005ftest_005fand_005fset-2902)了这个目的。以下是在 C 中使用它的方法（未经测试）：

```
static volatile bool working = FALSE;
if(__atomic_test_and_set(&working, __ATOMIC_ACQUIRE)) {
    // Already was working.
}else{
    // Do work, possibly in another thread.
    // When done:
    __atomic_clear(&working, __ATOMIC_RELEASE);
} 
```

容易吧？

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-10T06:22:19.373

为了使属性线程安全，您可以简单地使用@synchronize。

# java - 使用谷歌分析安卓桌面应用程序

> ID：14251865
> 
> 赞同：0
> 
> 时间：2013-01-10T06:15:03.233
> 
> 标签：java, android, google-analytics

我正在寻找对用 Java 编写的桌面应用程序进行分析。我遇到了两项服务，即：TrackerBird 和 DesktopMetrics，但对于像我这样的小型开发人员来说，这些服务负担不起。

谷歌分析有安卓支持。所以我想知道我是否可以在 Java 上的桌面应用程序中使用它。我正在寻找一个提示，如果有人实现了相同的功能以及如何继续在桌面上使用 GA 的提示。

[这里的 SO 链接说不](https://stackoverflow.com/questions/6619848/how-can-google-analytics-be-integrated-in-a-desktop-application-mac)，但我认为可以做到。

[这是在 android 中使用 GA 的 google 代码链接](https://developers.google.com/analytics/devguides/collection/android/v2/)，说它应该绑定到应用程序上下文。我想知道我是否可以破解它以在桌面应用程序中工作。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-10T17:33:55.317

桌面 Java 上没有 Google 支持的 GA 库。Google Analytics Android 库对 Android 基础设施有很多依赖（用于提取基本用户信息、维护持久状态和跟踪应用程序生命周期）。但是，由于 GA 只是归结为 HTTP 图像请求，因此桌面 Java 应用程序应该可以模仿这些请求。我没有使用它，但这个库看起来像你想要的：[http ://code.google.com/p/jgoogleanalytics/](http://code.google.com/p/jgoogleanalytics/)

有关更多详细信息和其他有用链接，请参阅[手动将数据发送到 Google Analytics](https://stackoverflow.com/questions/12653239/manually-sending-data-to-google-analytics/12658259#12658259)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-10T07:36:21.650

您是否考虑过使用 Mixpanel？它每月为您提供 25,000 到 175,000 个免费数据点，并具有 Java 集成库：

[https://mixpanel.com/docs/integration-libraries/java](https://mixpanel.com/docs/integration-libraries/java)

# asp.net-mvc - 如何在回发之间维护对象？

> ID：14251872
> 
> 赞同：2
> 
> 时间：2013-01-10T06:15:56.103
> 
> 标签：asp.net-mvc, asp.net-mvc-4

我对使用 MVC 的经验并不丰富。我正在处理这种情况。一切正常，直到调用所有成员为空的 HttpPost 方法。我不知道为什么不保留所有数据。

一切正常，因为我可以在我的 Html 页面中看到数据，只有当用户提交信息时才会发生这种情况。

```
 [HttpGet]
    public ActionResult DoTest()
    {
        Worksheet w = new Worksheet(..);
        return View(w);
    }

    [HttpPost]
    public ActionResult DoTest(Worksheet worksheet)
    {
        return PartialView("_Problems", worksheet);
    } 
```

![在此处输入图像描述](../Images/ddaf8ff7d316f36dab04d184b725af3b.png)

这是我正在使用的课程。

```
public class Worksheet
{
    public Worksheet() { }

    public Worksheet(string title, List<Problem> problems)
    {
        this.Title = title;
        this.Problems = problems;
    }

    public Worksheet(IEnumerable<Problem> problems, WorksheetMetadata metadata, ProblemRepositoryHistory history)
    {
        this.Metadata = metadata;
        this.Problems = problems.ToList();
        this.History = history;
    }

    public string Title { get; set; }
    public List<Problem> Problems { get; set; }  // Problem is an abstract class
    public WorksheetMetadata Metadata { get; set; }
    public ProblemRepositoryHistory History { get; set; }
} 
```

我的剃刀视图....剃刀视图成功地显示了我的视图。我意识到一些罕见的事情，请注意在我的第 5 行和第 6 行中我有 HiddenFor 方法，如果我使用它，当调用 HTTPPOST 保留数据时，我不知道为什么。

```
@model Contoso.ExercisesLibrary.Core.Worksheet

<div id="problemList">
<h2>@Html.DisplayFor(model => model.Metadata.ExerciseName)</h2>
    @Html.HiddenFor(model => model.Metadata.ExerciseName)
    @Html.HiddenFor(model => model.Metadata.ObjectiveFullName)

@for (int i = 0; i < Model.Problems.Count; i++)
{
    <div>
    @Html.Partial(Contoso.ExercisesLibrary.ExerciseMap.GetProblemView(Model.Problems[i]), Model.Problems[i])
    </div>
}
</div> 
```

更新我正在使用静态类来获取视图名称，但是当我正在测试时，我只是在使用这个部分视图

```
@model Contoso.ExercisesLibrary.AbsoluteArithmetic.Problem1
<div>

    <span style="padding:3px; font-size:18px;">@Model.Number1</span>
    <span style="padding:5px; font-size:18px;">+</span>
    <span style="padding:5px; font-size:18px;">@Model.Number2</span>
    <span style="padding:5px; font-size:18px;">=</span>

    <span style="font-size:18px">
            @Html.EditorFor(model => model.Result, new { style = "width:60px; font-size:18px;" })
            @Html.ValidationMessageFor(model => model.Result)
    </span>
</div>

@section Scripts {

} 
```

用户在这里发帖

```
@model Contoso.ExercisesLibrary.Core.Worksheet

<form method="post">
    @Html.Partial("_Problems", Model)

    <input type="submit" value="Continue" />
</form> 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-10T06:21:54.400

[模型绑定](http://msdn.microsoft.com/en-us/magazine/hh781022.aspx)器会将视图上的`input`字段“绑定”或链接到模型。它不会绑定显示字段（如标签），这就是为什么您需要`HiddenFor`它会添加一个`<input type="hidden"`，然后在您发布时将其绑定到模型。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-10T06:28:56.290

您可以使用“临时数据”。它用于将数据从当前请求传递到后续请求，以防重定向。

这个链接也可以帮助你。

[临时数据](http://www.dotnet-tricks.com/Tutorial/mvc/9KHW190712-ViewData-vs-ViewBag-vs-TempData-objects-in-mvc3-razor.html)

[SO 临时数据](https://stackoverflow.com/questions/173159/difference-between-viewdata-and-tempdata)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-10T06:27:40.987

确保您的表单标签如下所示，例如控制器名称、操作方法、表单方法和表单的 id。我指的是@using 语句。在我的例子中，控制器名称是 RunLogEntry，action 方法是 Create，id 是 form。

**从视图到控制器的正常发布**

```
@using (Html.BeginForm("Create", "RunLogEntry", FormMethod.Post, new { id = "form", enctype = "multipart/form-data" }))
    {
        <div id="main">
            @Html.Partial("_RunLogEntryPartialView", Model)
        </div>
    } 
```

**如果您想通过 Jquery 发布，可以执行以下操作：**

```
$.post("/RunLogEntry/LogFileConfirmation",
              $("#form").serialize(),
               function (data) {
                   //this is the success event
                   //do anything here you like
                                                            }, "html"); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-10T06:27:51.820

您必须在视图中指定具有正确属性的表单才能执行发布操作

```
<form action="Test/DoTest" method="post">
...
</form> 
```

或者

```
@using(Html.BeginForm("DoTest", "Test", FormMethod.Post)) {
...
} 
```

推荐第二种。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-01-10T09:30:43.707

将整个 HTML 代码放在：

```
@using(Html.BeginForm()) 
```

标签。

# c++ - 关于 fstream 缓冲区，flush() 和 sync() 有什么区别？

> ID：14251873
> 
> 赞同：15
> 
> 时间：2013-01-10T06:15:56.980
> 
> 标签：c++, stream, buffer, fstream, ostream

我正在阅读[关于 I/O 的 cplusplus.com 教程](http://www.cplusplus.com/doc/tutorial/files/)。最后，它说 fstream 缓冲区与磁盘上的文件同步

> **显式地，使用操纵器：**当在流上使用某些操纵器时，会发生显式同步。这些操纵器是：flush 和 endl。

和

> **明确地，使用成员函数sync()：**调用不带参数的流的成员函数sync() 会导致立即同步。如果流没有关联的缓冲区或发生故障，此函数返回一个等于 -1 的 int 值。否则（如果流缓冲区已成功同步），则返回 0。

除了一些其他隐式情况（例如破坏和 stream.close() ）

## 调用 fstream::flush() 和 fstream::sync() 有什么区别？结束？

在我的代码中，我一直使用flush()。

关于 std::flush() 的文档：

> **刷新流缓冲区**
> 
> 将与流关联的缓冲区同步到其受控的输出序列。这实际上意味着缓冲区中的所有未写入字符都将尽快写入其受控输出序列（“刷新”）。

关于 std::streambuf::sync() 的文档：

> **将输入缓冲区与字符源同步**
> 
> 调用它以将流缓冲区与受控序列（如文件流中的文件）同步。公共成员函数 pubsync 调用这个受保护的成员函数来执行这个动作。

如果这是一个新手问题，请原谅我；我是菜鸟。

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2013-01-10T06:35:59.783

**basic_ostream::flush** 这是一个*非虚拟*函数，它将未提交的更改写入底层缓冲区。如果发生错误，它会在使用的流对象中设置一个*错误标志。*这是因为返回值是对流本身的引用，以允许链接。

**basic_filebuf::sync** 这是一个*虚*函数，它将所有挂起的更改写入底层文件并返回*错误代码*以表示成功或失败。

**endl** 这在应用于 an 时`ostream`，将 an 写入`'\n'`流，然后调用`flush`该流。

所以，本质上：`flush`是任何流的更通用的函数，而`sync`显式绑定到文件。`flush`是非虚拟的，而是`sync`虚拟的。这改变了在继承的情况下如何通过指针（指向基类）使用它们。此外，它们在报告错误的方式上有所不同。

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2013-01-10T06:27:15.303

`sync`是`input`流的成员，所有未读字符都会从缓冲区中清除。`flush`是`output`流的成员，缓冲的输出被传递给内核。

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2013-01-10T07:26:39.857

C++ I/O 涉及多个类之间的协作：*stream*、*buffer*、*locale*和*locale::facet* -s。

特别是`sync`and是and`flush`中都存在的成员函数，因此请注意您所指的文档，因为它们做不同的事情。`stream``streambuf`

On *streams* `flush`告诉流告诉缓冲区（注意重定向）将其内容*刷新*到目标。这确保没有“挂起的写入”剩余。

`std::endl`, 当应用于`thestream`with时`<<`, 不超过一个

```
thestream.put('\n'); thestream.flush(); 
```

始终在*流*上，`sync`告诉*流*告诉*缓冲区*刷新内容（用于输出）并尽可能多地读取（用于输入）以重新填充缓冲区*。*

请注意，-in *buffers* -sync 也可以在内部调用`overflow`以处理“缓冲区已满”（用于输出）和“缓冲区空”（用于输入）情况。

因此，我感觉，`sync`它更像是流中用于缓冲通信和缓冲区实现的“内部”函数（它是虚拟的并且在不同的缓冲区类型中被覆盖），而`flush`更像是流和客户端程序之间的接口。

`endl`...只是一个捷径。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-01-10T06:24:59.177

我的理解如下：

`flush()`会将数据从库缓冲区中取出到操作系统的写入缓冲区中，并最终导致完全同步（数据被完全写出），但同步完成时肯定取决于操作系统。

`sync()`将在给定的操作系统中尽可能地尝试强制实现完全同步 - 但所涉及的操作系统可能会或可能不会促进这一点。

所以`flush()`是：将数据从缓冲区中取出并排队写入。
`sync()`是：如果可能，现在强制将数据明确写出。

这是我对此的理解，但当我想起来时，我不记得我是如何理解的，所以我也很想听听其他人的意见。

# c++ - Eigen Jacobi 在 C++ 中导致奇怪的段错误

> ID：14251875
> 
> 赞同：1
> 
> 时间：2013-01-10T06:16:06.540
> 
> 标签：c++, eigen

所以我的代码中有以下几行：

```
MatrixXd qdash = zeroCentredMeasurementPointCloud_.topLeftCorner(3, zeroCentredMeasurementPointCloud_.cols());
Matrix3d H = q * qdash.transpose();
Eigen::JacobiSVD<MatrixXd> svd(H, Eigen::ComputeThinU | Eigen::ComputeThinV); 
```

现在我确定`qdash`并且`H`正在正确初始化（`q`也是，就在其他地方）。最后一行，涉及`Eigen::JacobiSVD`导致程序在保留时抛出此错误：

```
Program received signal SIGSEGV, Segmentation fault.
0xb0328af8 in _list_release () from /usr/qnx650/target/qnx6/x86/lib/libc.so.3

0  0xb0328af8 in _list_release () from /usr/qnx650/target/qnx6/x86/lib/libc.so.3
1  0xb032a464 in __free () from /usr/qnx650/target/qnx6/x86/lib/libc.so.3
2  0xb0329f7d in free () from /usr/qnx650/target/qnx6/x86/lib/libc.so.3 
```

我猜想在尝试释放它时 IE 会出现 seg-faulting。现在根据[这里](http://eigen.tuxfamily.org/dox/classEigen_1_1JacobiSVD.html)的教程，使用这个功能我要做的就是：

```
MatrixXf m = MatrixXf::Random(3,2);
JacobiSVD<MatrixXf> svd(m, ComputeThinU | ComputeThinV); 
```

谁能明白为什么它在我的情况下失败了？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-11T04:54:53.190

好的，这太疯狂了。原来我使用的是 Eigen Alignment，它在我的操作系统上并没有真正起作用。这导致了一个错误，该错误会根据生成的可执行文件的大小更改位置。

这个故事的寓意是要小心你的包含。

# python - 如何枚举组合字符串作为 for..in 循环的搜索范围？

> ID：14251877
> 
> 赞同：0
> 
> 时间：2013-01-10T06:16:13.653
> 
> 标签：python, string, list, loops

我编写了一个对我有意义但对 python 没有意义的代码，因为我是 python 新手。

在这里检查我的代码：

```
checksum_algos = ['md5','sha1']

for filename in ["%smanifest-%s.txt" % (prefix for prefix in ['', 'tag'],  a for a in checksum_algos)]:
  f = os.path.join(self.path, filename)
  if isfile(f):
     yield f 
```

我的意图是在如下列表中搜索文件名：

`['manifest-md5.txt','tagmanifest-md5.txt','manifest-sha1.txt','tagmanifest-sha1.txt']`

但我在`syntax`实施它时遇到了问题。

谢谢你的帮助。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-10T06:19:31.477

你想多了。

```
for filename in ("%smanifest-%s.txt" % (prefix, a)
    for prefix in ['', 'tag'] for a in checksum_algos): 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-10T06:33:30.020

使用新样式字符串格式和`itertools`：

```
from itertools import product
["{0}manifest-{1}.txt".format(i,e) for i,e in  product(*(tags,checksum_algos))] 
```

**出去：**

```
['manifest-md5.txt',
 'manifest-sha1.txt',
 'tagmanifest-md5.txt',
 'tagmanifest-sha1.txt'] 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-10T06:22:46.320

或者你需要[`itertools.product()`](http://docs.python.org/2/library/itertools.html#itertools.product)：

```
>>> import itertools

>>> [i for i in itertools.product(('', 'tag'), ('sha', 'md5'))]
[('', 'sha'), ('', 'md5'), ('tag', 'sha'), ('tag', 'md5')] 
```

# function - 在mathematica中区分元组值函数

> ID：14251878
> 
> 赞同：0
> 
> 时间：2013-01-10T06:16:19.333
> 
> 标签：function, wolfram-mathematica, differentiation

如何在 Mathematica 中创建和执行元组值函数的微分。

更具体地说，我有以下功能，其中`R`表示实线

```
f:R^2 -> R^3

g:R^3 -> R^3 

h: R^3 -> R^1 
```

我想考虑这些函数的组合 k:R^2 -> R^1 即 k= h(g(f(x,y))) 并且我想找到导数 k_x、k_y、k_xx、k_yy、k_xy

我怎样才能在 Mathematica 中做到这一点？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-10T08:13:14.623

我假设您没有 f,g,h 的表达式，但是您想要根据 f,g,h 的导数来获得该组合的导数。

通过使用类似的定义，您始终可以将问题简化为单值函数`f[x_,y_] := {f1[x,y],f2[x,y],f3[x,y]}`

例如：

```
f[x_, y_] := Through[{f1, f2, f3}[{x, y}]]
g[x_, y_, z_] := Through[{g1, g2, g3}[{x, y, z}]]

D[h @@ g @@ f[x, y], x] 
```

结果：

```
(Derivative[{1, 0}][f3][{x, y}]*Derivative[{0, 0, 1}][g3][{f1[{x, y}], f2[{x, y}], f3[{x, y}]}] + 
   Derivative[{1, 0}][f2][{x, y}]*Derivative[{0, 1, 0}][g3][{f1[{x, y}], f2[{x, y}], f3[{x, y}]}] + 
   Derivative[{1, 0}][f1][{x, y}]*Derivative[{1, 0, 0}][g3][{f1[{x, y}], f2[{x, y}], f3[{x, y}]}])*
  Derivative[0, 0, 1][h][g1[{f1[{x, y}], f2[{x, y}], f3[{x, y}]}], g2[{f1[{x, y}], f2[{x, y}], f3[{x, y}]}], 
   g3[{f1[{x, y}], f2[{x, y}], f3[{x, y}]}]] + 
 (Derivative[{1, 0}][f3][{x, y}]*Derivative[{0, 0, 1}][g2][{f1[{x, y}], f2[{x, y}], f3[{x, y}]}] + 
   Derivative[{1, 0}][f2][{x, y}]*Derivative[{0, 1, 0}][g2][{f1[{x, y}], f2[{x, y}], f3[{x, y}]}] + 
   Derivative[{1, 0}][f1][{x, y}]*Derivative[{1, 0, 0}][g2][{f1[{x, y}], f2[{x, y}], f3[{x, y}]}])*
  Derivative[0, 1, 0][h][g1[{f1[{x, y}], f2[{x, y}], f3[{x, y}]}], g2[{f1[{x, y}], f2[{x, y}], f3[{x, y}]}], 
   g3[{f1[{x, y}], f2[{x, y}], f3[{x, y}]}]] + 
 (Derivative[{1, 0}][f3][{x, y}]*Derivative[{0, 0, 1}][g1][{f1[{x, y}], f2[{x, y}], f3[{x, y}]}] + 
   Derivative[{1, 0}][f2][{x, y}]*Derivative[{0, 1, 0}][g1][{f1[{x, y}], f2[{x, y}], f3[{x, y}]}] + 
   Derivative[{1, 0}][f1][{x, y}]*Derivative[{1, 0, 0}][g1][{f1[{x, y}], f2[{x, y}], f3[{x, y}]}])*
  Derivative[1, 0, 0][h][g1[{f1[{x, y}], f2[{x, y}], f3[{x, y}]}], g2[{f1[{x, y}], f2[{x, y}], f3[{x, y}]}], 
   g3[{f1[{x, y}], f2[{x, y}], f3[{x, y}]}]] 
```

# functional-programming - 获取所有没有循环的子节点只递归

> ID：14251879
> 
> 赞同：0
> 
> 时间：2013-01-10T06:16:19.290
> 
> 标签：functional-programming

有人可以给我提供伪代码吗？我不能使用 for，while 等。我只能调用我的函数。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-10T15:23:22.073

If you want to get all child nodes of an arbitrary binary tree node, you may do this:

```
(define (traverse node)
  (cond ((null? node) '())
        ((not (pair? node)) node)
        (else (cons (traverse (left-child node))
                    (traverse (right-child node)))))) 
```

For N-ary tree you could use kind of `get-child` functions instead of left and right child functions.

# android - Tomcat 7 服务器在 Eclipse 中不可见

> ID：14251885
> 
> 赞同：3
> 
> 时间：2013-01-10T06:16:47.300
> 
> 标签：android, eclipse, apache, tomcat

嗨，我是 android 新手，我已经安装了 eclipse 和 Java EE 以及 tomcat 7。

问题是，当我转到 windows>preferences>servers>runtime environment>add 时，我无法在那里找到 apache tomcat 7 服务器。当我进行搜索并尝试添加它时，它没有给我找到新的服务器运行时。

请任何人都可以帮我找到它。

```
Cannot complete the install because of a conflicting dependency.
  Software being installed: Apache MyFaces Trinidad Tag Support (Optional) SDK 2.2.0.v20090310-53-8-52B6695K3B688x422B2747 (org.eclipse.jst.jsf.apache.trinidad.tagsupport_sdk.feature.feature.group 2.2.0.v20090310-53-8-52B6695K3B688x422B2747)
  Software currently installed: Apache MyFaces Trinidad Tag Support 2.2.201.v201208241503-20A87w312319352614 (org.eclipse.jst.jsf.apache.trinidad.tagsupport.feature.feature.group 2.2.201.v201208241503-20A87w312319352614)
  Only one of the following can be installed at once: 
    Apache MyFaces Trinidad Tag Support (Optional) 2.2.0.v20090517-20-7w311A1636 (org.eclipse.jst.jsf.apache.trinidad.tagsupport.feature.feature.jar 2.2.0.v20090517-20-7w311A1636)
    Apache MyFaces Trinidad Tag Support 2.2.201.v201208241503-20A87w312319352614 (org.eclipse.jst.jsf.apache.trinidad.tagsupport.feature.feature.jar 2.2.201.v201208241503-20A87w312319352614)
  Cannot satisfy dependency:
    From: Apache MyFaces Trinidad Tag Support (Optional) 2.2.0.v20090517-20-7w311A1636 (org.eclipse.jst.jsf.apache.trinidad.tagsupport.feature.feature.group 2.2.0.v20090517-20-7w311A1636)
    To: org.eclipse.jst.jsf.apache.trinidad.tagsupport.feature.feature.jar [2.2.0.v20090517-20-7w311A1636]
  Cannot satisfy dependency:
    From: Apache MyFaces Trinidad Tag Support 2.2.201.v201208241503-20A87w312319352614 (org.eclipse.jst.jsf.apache.trinidad.tagsupport.feature.feature.group 2.2.201.v201208241503-20A87w312319352614)
    To: org.eclipse.jst.jsf.apache.trinidad.tagsupport.feature.feature.jar [2.2.201.v201208241503-20A87w312319352614]
  Cannot satisfy dependency:
    From: Apache MyFaces Trinidad Tag Support (Optional) SDK 2.2.0.v20090310-53-8-52B6695K3B688x422B2747 (org.eclipse.jst.jsf.apache.trinidad.tagsupport_sdk.feature.feature.group 2.2.0.v20090310-53-8-52B6695K3B688x422B2747)
    To: org.eclipse.jst.jsf.apache.trinidad.tagsupport.feature.feature.group [2.2.0.v20090517-20-7w311A1636] 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-10T07:22:39.757

手动更新您现有的 Eclipse 安装：

```
Download the applicable WTP source package to your desktop
Shutdown Eclipse
Extract the package to your Eclipse installation directory
Startup Eclipse. (WTP is now available) 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-10T06:35:09.653

Preferences 选项显示 Eclipse 具有适配器的所有服务器列表。

在添加窗口中，查找顶部的“**下载其他服务器适配器”链接。**单击该按钮，然后下载适用于 tomcat 7 的适配器。

请检查此链接是否相同：[http ://besthowtodo.com/blog/2010/05/how-to-configure-tomcat-with-eclipse.html](http://besthowtodo.com/blog/2010/05/how-to-configure-tomcat-with-eclipse.html)

您也可以考虑升级您的**Eclipse**。这也可能解决问题。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-10T08:33:19.410

试试这个方法。。

获取“面向 Java EE 开发人员的 Eclipse”。注意额外的“EE”。这包括 Web 工具平台以及许多服务器插件，其中包括用于 Apache Tomcat 5.x 的插件。这也是合乎逻辑的；JSP/Servlet 是 Java EE API 的一部分。

检查这个[视频](http://www.youtube.com/watch?v=EOkN5IPoJVs&playnext_from=TL&videos=rVnITzSU2Z8)

检查这个：

帮助 > 安装新软件。

从“Work with”下拉列表中选择“Eclipse Web Tools Platform [Repository ”。](http://download.eclipse.org/webtools/updates)选择“Web 工具平台 (WTP)”和“项目提供的组件”。

完成所有安装步骤并重新启动 Eclipse。你会看到一堆服务器

当您尝试添加服务器运行时环境时。

# android - 使用 Google 地方信息查找位置

> ID：14251886
> 
> 赞同：0
> 
> 时间：2013-01-10T06:16:51.223
> 
> 标签：android, google-maps, google-places-api, reverse-geocoding, google-places

我想使用 Google 地点在 android 中捕获我的位置名称（不是地图。因为它没有正确捕获街道和村庄）。但我不知道如何在我的应用程序中使用谷歌位置。请注意，我的应用程序不会显示 google 地方。当我运行我的应用程序时，它将在一个文本视图中显示该位置。怎么做。

请用示例代码解释

# java - 了解Java中HashTable的实现

> ID：14251889
> 
> 赞同：0
> 
> 时间：2013-01-10T06:16:56.740
> 
> 标签：java

我试图了解 Java 中的实现 HashTables。下面是我的代码：

```
 Hashtable<Integer, String> hTab = new Hashtable<Integer, String>();
    hTab.put(1, "A");
    hTab.put(1, "B");
    hTab.put(2, "C");
    hTab.put(3, "D");

            Iterator<Map.Entry<Integer, String>> itr = hTab.entrySet().iterator();
    Entry<Integer, String> entry;

    while(itr.hasNext()){
        entry = itr.next();
        System.out.println(entry.getValue());
    } 
```

当我运行它时，我得到以下输出：D C B

这意味着 Key = 1 发生了冲突；并根据实施：

“每当哈希表中发生冲突时，都会在与特定存储桶对应的linkedList中创建一个新节点，并将EntrySet（Key，Value）对存储为列表中的节点，新值插入到列表的开头对于特定的桶”。我完全同意这个实施。

但如果这是真的，那么当我尝试从 hashTable 中检索条目集时，“A”去了哪里？

同样，我尝试使用下面的代码通过实现我自己的 HashCode 和 equals 方法来理解这一点。令人惊讶的是，这非常完美，并且符合 HashTable 实现。下面是我的代码：

```
public class Hash {

    private int key;

    public Hash(int key){
        this.key = key;
    }

    public int hashCode(){
        return key;
    }

    public boolean equals(Hash o){
        return this.key == o.key;

    }

    }

    public class HashTable1 {

    public static void main(String[] args) {
        // TODO Auto-generated method stub

        Hashtable<Hash, String> hTab = new Hashtable<Hash, String>();

        hTab.put(new Hash(1), "A");
        hTab.put(new Hash(1), "B");
        hTab.put(new Hash(2), "C");
        hTab.put(new Hash(3), "D");

        Iterator<Map.Entry<Hash, String>> itr = hTab.entrySet().iterator();
        Entry<Hash, String> entry;

        while(itr.hasNext()){
            entry = itr.next();
            System.out.println(entry.getValue());
        }
    }
} 
```

输出：D C B A

这是完美的。我无法理解 Java 中 HashTable 行为的这种歧义。

## 更新

@garrytan 和@Brian：感谢您的回复。但我还有一个小小的疑问。

在我的第二个代码中，它工作正常。我创建了两个对象，它们是新键，因为它们是 2 个对象，在这种情况下不会发生键冲突，并且工作正常。我同意你的解释。但是，如果在第一组代码中我使用“new Integer(1)”而不是简单的“1”，它仍然不起作用，尽管现在我正在创建 2 个对象并且它们应该不同。我通过写下面的简单行进行了交叉检查：

```
 Integer int1 = new Integer(1);
            Integer int2 = new Integer(1);
            System.out.println(int1 == int2); 
```

这给出了“错误”。这意味着现在，密钥冲突应该已经解决了。但它仍然不起作用。为什么是这样？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-10T06:31:53.597

按照设计，哈希表并不意味着存储重复的键。

我认为您在“哈希冲突”和“密钥冲突”之间混淆了。简单地说，哈希表由一组链表（即：桶）组成。当您添加新的键值对 (KVP) 时，它会通过键的哈希值分配到存储桶中。当两个键产生相同的哈希时会发生“哈希冲突”（因此它们被放入同一个桶中）

一个好的散列函数是将密钥均匀地分配到多个桶中，从而提高密钥搜索性能。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-10T06:57:01.363

第二个示例给出了您想要的行为，因为您的 equals 实现不正确。

签名是

`public boolean equals(Object o) {}`

不是

`public boolean equals(Hash h) {}`

所以你创建的是一个哈希碰撞，其中两个对象具有相同的哈希码（键），但是根据equals方法它们不相等（因为你的签名是错误的，它仍然使用==运算符而不是你的this .key == h.key 代码）。与键冲突相反，在第一个示例中，对象都具有相同的 hashCode 并且也相等。如果您修复第二个示例中的代码以实现实际`equals(Object o)`方法，您将看到值中再次缺少“A”。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-10T07:05:05.190

在您的第二个示例中，您没有覆盖原始 equals 函数，因为您使用以下签名：

```
public boolean equals(Hash h) {} 
```

因此，仍然使用以 Object 作为参数的原始 equals 函数，并且当您为每个插入创建一个新对象哈希时，该 Object 与另一个不同，因此 A 和 B 的键不相等。

此外，HashTable 设计为每个键都有一个值。并且键确实是依靠equals函数来进行比较的。

关于您使用两个新整数的示例，请尝试将它们与 .equals() 进行比较。您还可以重写 hashCode 函数来为每个对象生成或不生成不同的 hashCode，即取决于时间，但这不是一个好的编码原则。相同的对象应该散列到相同的代码。

# iphone - NSPredicate 搜索 NSString 中的数字

> ID：14251890
> 
> 赞同：1
> 
> 时间：2013-01-10T06:16:58.913
> 
> 标签：iphone, nspredicate

我必须使用 NSPredicate 在 NSString 中查找数字。我正在使用以下代码。

```
NSString *test = @"[0-9]";
NSString *testString = @"ab9";
NSPredicate *predicate = [NSPredicate predicateWithFormat:@"(%@ CONTAINS[c] %@)", test,testString];
BOOL bResult = [predicate evaluateWithObject:testString]; 
```

此代码仅在开始时搜索数字。我也尝试过使用 @"[0-9]+" 和 @"[0-9]*" 这些表达式，但没有得到正确的结果。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-10T06:50:35.777

用这个

```
NSCharacterSet  *set= [NSCharacterSet alphanumericCharacterSet];
if ([string rangeOfCharacterFromSet:[set invertedSet]].location == NSNotFound) {
    // contains A-Z,a-z, 0-9 
} else {
    // invalid
} 
```

看看它是否有效

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-10T06:22:16.707

当你说

```
[predicate testString] 
```

您实际上是在向谓词对象发送“testString”消息（即：调用“testString”方法）。哪有这回事。

我相信您应该发送的是“evaluateWithObject”消息，即：

```
BOOL bResult = [predicate evaluateWithObject:testString]; 
```

evaluateWithObject 方法参考说：

> 返回一个布尔值，指示给定对象是否与接收者指定的条件匹配。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-10T07:50:45.487

使用 NSCharacterSet 分析 NSString。

```
NSCharacterSet  *set= [NSCharacterSet alphanumericCharacterSet];
NSString testString = @"This@9";

BOOL bResult = [testString rangeOfCharacterFromSet:[set invertedSet]].location != NSNotFound;
if(bResult)
    NSLog(@"symbol found");

set = [NSCharacterSet uppercaseLetterCharacterSet];
bResult = [password rangeOfCharacterFromSet:set].location != NSNotFound;
if(bResult)
    NSLog(@"upper case latter found");

set = [NSCharacterSet lowercaseLetterCharacterSet];
bResult = [password rangeOfCharacterFromSet:set].location != NSNotFound;
if(bResult)
    NSLog(@"lower case latter found");

set = [NSCharacterSet decimalDigitCharacterSet];
bResult = [password rangeOfCharacterFromSet:set].location != NSNotFound;
if(bResult)
    NSLog(@"digit found"); 
```

# android - 在android中更改图像颜色需要太多时间

> ID：14251896
> 
> 赞同：2
> 
> 时间：2013-01-10T06:17:32.603
> 
> 标签：android

我正在尝试在 android 中动态更改图像颜色。但这需要很长时间。

下面的函数用于改变颜色。

```
 public void greenColor(ImageView imageView,String fileName){
                System.out.println("in green color method");

             //initialize the Bitmap Object  

              Bitmap  bmp = BitmapFactory.decodeFile(fileName);
               //  Bitmap bmp = ((BitmapDrawable)imageView.getDrawable()).getBitmap();  
                //Guarantees that the image is decoded in the ARGB8888 format  
                bmp = bmp.copy(Bitmap.Config.ARGB_8888, true);  

                //Initialize the intArray with the same size as the number of pixels on the image  
                int[] intArray  = new int[bmp.getWidth()*bmp.getHeight()];  

                //copy pixel data from the Bitmap into the 'intArray' array  
                bmp.getPixels(intArray, 0, bmp.getWidth(), 0, 0, bmp.getWidth(), bmp.getHeight());  

                //replace the red pixels with yellow ones  
                try{
                    for (int i=0; i < intArray.length; i++)  
                    {  
                        //System.out.println("pixel value :"+intArray[i]);
                        //intArray[i] =  0xFFFF0000;  

                        if(intArray[i] == Color.WHITE)  
                        {  

                           System.out.println("color white ");
                        } else{
                            System.out.println(intArray[i]);
                            intArray[i]=Color.GREEN;
                        }
                    }  
                }catch(Exception e){
                    System.out.println("pixel error "+e);
                }

                //Initialize the bitmap, with the replaced color  
                bmp = Bitmap.createBitmap(intArray, bmp.getWidth(), bmp.getHeight(), Bitmap.Config.ARGB_8888);  

                //Draw the bitmap with the replaced color  
                imageView.setImageBitmap(bmp);  
               //----end color

        } 
```

我已经尝试了很多并进行了谷歌搜索，但我无法解决我的问题，

有没有什么技术可以减少android中的图像颜色变化时间？

请帮我 ...

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-10T06:25:31.297

在您的情况下，将图像转换为二维数组并检查每个索引需要时间。

因此，如果图像大小为 2000*2000，请想象一下您正在处理多少。如果要更改 alfa 或 tint，则应使用 Bitmap API 而不是手动进行。

# c# - 比较可为空的日期时间对象

> ID：14251902
> 
> 赞同：14
> 
> 时间：2013-01-10T06:18:11.987
> 
> 标签：c#, datetime, compare, nullable

我有两个可以为空的日期时间对象，我想比较两者。最好的方法是什么？

我已经尝试过：

```
DateTime.Compare(birthDate, hireDate); 
```

这给出了一个错误，也许它期望类型的日期`System.DateTime`并且我有 Nullable 日期时间。

我也试过：

```
birthDate > hiredate... 
```

但结果并不如预期......有什么建议吗？

* * *

## 回答 #1

> 赞同：24
> 
> 时间：2013-01-10T06:19:50.070

要比较两个`Nullable<T>`对象，请使用**[`Nullable.Compare<T>`](https://msdn.microsoft.com/en-us/library/dxxt7t2a%28v=vs.110%29.aspx)**如下：

```
bool result = Nullable.Compare(birthDate, hireDate) > 0; 
```

* * *

你也可以这样做：

使用 Nullable DateTime 的 Value 属性。*（记得检查两个对象是否有一些值）*

```
if ((birthDate.HasValue && hireDate.HasValue) 
    && DateTime.Compare(birthDate.Value, hireDate.Value) > 0)
{
} 
```

如果两个值都相同 DateTime.Compare 将返回您`0`

就像是

```
DateTime? birthDate = new DateTime(2000, 1, 1);
DateTime? hireDate = new DateTime(2013, 1, 1);
if ((birthDate.HasValue && hireDate.HasValue) 
    && DateTime.Compare(birthDate.Value, hireDate.Value) > 0)
{
} 
```

* * *

## 回答 #2

> 赞同：12
> 
> 时间：2013-01-10T06:20:45.533

[Nullable.Equals](http://msdn.microsoft.com/en-us/library/213d9ey9%28v=vs.90%29.aspx)指示两个指定的 Nullable(Of T) 对象是否相等。

尝试：

```
if(birthDate.Equals(hireDate)) 
```

最好的方法是：[Nullable.Compare 方法](http://msdn.microsoft.com/en-us/library/dxxt7t2a.aspx)

```
Nullable.Compare(birthDate, hireDate)); 
```

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2013-01-10T06:23:27.270

如果您希望一个`null`值被视为`default(DateTime)`您可以执行以下操作：

```
public class NullableDateTimeComparer : IComparer<DateTime?>
{
    public int Compare(DateTime? x, DateTime? y)
    {
        return x.GetValueOrDefault().CompareTo(y.GetValueOrDefault());
    }
} 
```

并像这样使用它

```
var myComparer = new NullableDateTimeComparer();
myComparer.Compare(left, right); 
```

`Nullable`另一种方法是为值可比较的类型创建扩展方法

```
public static class NullableComparableExtensions
{
    public static int CompareTo<T>(this T? left, T? right)
        where T : struct, IComparable<T>
    {
        return left.GetValueOrDefault().CompareTo(right.GetValueOrDefault());
    }
} 
```

你会在哪里像这样使用它

```
DateTime? left = null, right = DateTime.Now;
left.CompareTo(right); 
```

* * *

## 回答 #4

> 赞同：4
> 
> 时间：2013-09-09T08:48:46.410

使用[`Nullable.Compare<T>`](http://msdn.microsoft.com/en-us/library/dxxt7t2a.aspx)方法。像这样：

```
var equal = Nullable.Compare<DateTime>(birthDate, hireDate); 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2013-01-10T06:25:30.113

正如@Vishal 所说，只需使用覆盖的[Equals](http://msdn.microsoft.com/en-us/library/c7b1e4z6.aspx)方法`Nullable<T>`。它是这样实现的：

```
public override bool Equals(object other)
{
    if (!this.HasValue)    
        return (other == null);

    if (other == null)    
        return false;

    return this.value.Equals(other);
} 
```

`true`如果两个可空结构都没有值，或者它们的值相等，则返回。所以，只需使用

```
birthDate.Equals(hireDate) 
```

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2013-01-10T06:27:02.780

尝试

```
birthDate.Equals(hireDate) 
```

比较后做你的事情。

或者，使用

```
object.equals(birthDate,hireDate) 
```

* * *

## 回答 #7

> 赞同：1
> 
> 时间：2013-01-10T06:31:41.477

我认为您可以通过以下方式使用条件

```
birthdate.GetValueOrDefault(DateTime.MinValue) > hireddate.GetValueOrDefault(DateTime.MinValue) 
```

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2015-11-19T08:41:12.027

您可以编写一个通用方法来计算任何类型的最小值或最大值，如下所示：

```
public static T Max<T>(T FirstArgument, T SecondArgument) {
    if (Comparer<T>.Default.Compare(FirstArgument, SecondArgument) > 0)
        return FirstArgument;
    return SecondArgument;
} 
```

然后像下面这样使用：

```
var result = new[]{datetime1, datetime2, datetime3}.Max(); 
```

# sql - 更改表 Oracle11gr2 的物理结构

> ID：14251904
> 
> 赞同：2
> 
> 时间：2013-01-10T06:18:16.537
> 
> 标签：sql, database, oracle, database-design

我有一张桌子

```
Name              Age                    RollNo.
A                  1                      10
B                  2                      20 
```

现在我想以这样的方式永久改变表格，改变后它应该如下所示

```
RollNo.           Name                    Age
10                 A                      1
20                 B                      2 
```

我应该如何改变这张桌子，我想做的就是改变桌子的物理结构。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-11T11:23:37.593

**你为什么**要这样做？

如果只是因为您希望在使用时具有正确的列顺序`SELECT *`，那么您一开始就不应该使用`*`。始终在查询中使用准确的列列表。

如果是因为您认为它会提高性能，您是否进行了实际测量？我怀疑您会发现许多情况，其中更改物理列顺序会显着影响性能。在某些情况下可能会使用链接行（请参阅本文中的“行链接”部分[）](http://www.akadia.com/services/ora_chained_rows.html)，但这不适用于像您这样的窄行。

* * *

话虽如此，您可以：

*   `CREATE TABLE NEW_TABLE AS SELECT <different column order> FROM OLD_TABLE`.
*   在`NEW_TABLE`.
*   `DROP TABLE OLD_TABLE`.
*   `ALTER TABLE NEW_TABLE RENAME TO OLD_TABLE`.

如果您在接受更新时需要这样做，您可能还想查看[dbms_redefinition 。](http://www.dba-oracle.com/t_dbms_redefinition.htm)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-10T06:42:15.737

您可以使用语句删除和创建表而不会丢失 oracle 中的数据

```
create table YOUR_TABLE_BU as select * from YOUR_TABLE 
```

请通过链接 -[如何在不复制数据的情况下创建 Oracle 表的副本？](https://stackoverflow.com/questions/233870/how-can-i-create-a-copy-of-an-oracle-table-without-copying-the-data)更多细节。尝试：

```
CREATE TABLE YOUR_TABLE_BU AS SELECT * FROM YOUR_TABLE;

DROP TABLE YOUR_TABLE;

CREATE TABLE YOUR_TABLE AS SELECT RollNo., Name, Age FROM YOUR_TABLE_BU;

DROP TABLE YOUR_TABLE_BU; 
```

# asp.net-mvc - 使用 Visual Studio 2012 在 MVC3 中使用复选框删除 webgrid 中的行

> ID：14251905
> 
> 赞同：2
> 
> 时间：2013-01-10T06:18:18.970
> 
> 标签：asp.net-mvc, webgrid

我是 MVC3 的新手。我编写了一个应用程序，在该应用程序中，我将数据显示到带有复选框的 webgrid 中。当我单击复选框时，我试图找出如何将特定的行 id 发送到控制器操作方法。任何帮助表示赞赏。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-10T06:32:40.977

这一切都取决于你想要做什么。通常，在视图中，我将添加一个数据属性，例如 data-rowid="###"，然后使用 jQuery 来捕获 .click 事件。然后在 .click 事件中，检索 data-rowid 的单击元素值并调用 .ajax 将数据发布到控制器。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-03-21T01:54:59.550

这是一个完整的示例，其中我有一个 WebGrid，其中最后一列包含一个“删除”链接，该链接使用 Ajax 调用服务器上的操作。Ajax 请求完成后，相应的行将从表中删除。用于将`MvcHtmlString`跨度标记注入列中。它包含一个 id 值，该值随后用于标识要从表中删除的行。

```
<div id="ssGrid">
    @{
        var grid = new WebGrid(canPage: false, canSort: false);
        grid.Bind(
            source: Model,
            columnNames: new[] { "Location", "Number", "Protection", "Methodology" }
        );
    }
    @grid.GetHtml(
        tableStyle: "webGrid",
        headerStyle: "header",
        alternatingRowStyle: "alt",
        columns: grid.Columns(
            grid.Column("Location", "Location"),
            grid.Column("Number", "Number"),
            grid.Column("Protection", "Protection"),
            grid.Column("Methodology", "Methodology"),
            grid.Column(
                format: (item) => 
                    new MvcHtmlString(string.Format("<span id='ssGrid{0}'>{1}</span>",
                                          item.SecondarySystemId,
                                          @Ajax.RouteLink("Remove",
                                              "Detail", // route name
                                              new { action = "RemoveSecondarySystem", actionId = item.SecondarySystemId },
                                              new AjaxOptions { 
                                                  OnComplete = "removeRow('ssGrid" + item.SecondarySystemId + "')"
                                              }
                                          )
                                     )
                    )
            )
        )
    )
</div>

<script>
    function removeRow(rowId) {
        $("#" + rowId).closest("tr").remove();
    }
</script> 
```

# multithreading - SQLite 的性能不佳，大写操作带来的读操作很少

> ID：14251907
> 
> 赞同：8
> 
> 时间：2013-01-10T06:18:27.737
> 
> 标签：multithreading, sqlite

**相关问题**：[如何在多线程应用程序中使用 SQLite。](https://stackoverflow.com/questions/1680249/how-to-use-sqlite-in-a-multi-threaded-application)

我一直试图在多线程程序中从 SQLite3 中获得不错的性能。除了写入延迟外，它的性能给我留下了深刻的印象。这不是它的错，它必须等待磁盘旋转才能提交数据。但是在这些写入过程中阻止读取，即使它们可以从缓存中读取，也是非常不能容忍的。

我的用例涉及大量小型读取操作，以通过索引字段获取一个小对象，但延迟对于这些操作很重要，因为它们有很多。写入量很大，并累积到单个事务中。我不希望由于完成写入而导致读取有很大的延迟。

我首先只是使用带有互斥锁的单个连接来保护它。但是，当写入线程等待事务完成时，读取器在磁盘 I/O 上被阻塞，因为他们无法获取互斥锁，直到写入器释放它。我尝试使用多个连接，但后来我得到`SQLITE_LOCKED`了 from `sqlite3_step`，这意味着必须重新设计所有阅读代码。

我的写逻辑目前看起来像这样：

1.  获取连接互斥锁。
2.  `START TRANSACTION`
3.  做所有的写。（通常是 10 到 100 个小的。）
4.  `END TRANSACTION`-- 这里是阻塞的地方
5.  释放互斥锁。

有什么我不知道的解决方案吗？如果条目在缓存中，是否有一种简单的方法可以让我的读者不必等待磁盘完成旋转，而不必重写我所有的阅读代码来处理`SQLITE_LOCKED`、重置和重试？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-01-10T08:01:19.920

要允许多个读取器和一个写入器同时访问数据库，请启用[预写日志记录](http://www.sqlite.org/wal.html)。

WAL 适用于小型事务，因此您不需要累积写入。

请注意，WAL 不适用于网络文件系统，为了获得最佳性能，需要定期检查点。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-10T08:23:04.463

首先，sqlite 自己提供多线程支持。您不必使用自己的互斥锁，因为您只会减慢整个程序的速度。如果您有任何疑问，请咨询[sqlite 线程选项。](http://www.sqlite.org/compile.html#threadsafe "sqlite 线程选项")

使用 write-ahead log 可能会解决您的问题，但它是一把双刃剑。只要正在进行读取，插入的数据就不会写入主数据库文件，WAL 日志就会增长。这在[预写日志中有详细介绍](http://www.sqlite.org/wal.html)

我在我的一个应用程序中以 WAL 模式使用 sqlite。对于少量数据，它运行良好。但是，当有大量数据时（每秒数百次插入，峰值甚至更多），我会遇到一些问题，我似乎无法通过任何干预 sqlite 配置来解决这些问题。

您可能会考虑使用多个数据库文件，每个文件都分配给特定的时间跨度。这仅适用于您的查询取决于时间。

我可能跑得太快了。WAL 杂志应该有所帮助:)

# java - 如何将整数数组转换为向量？

> ID：14251910
> 
> 赞同：0
> 
> 时间：2013-01-10T06:18:32.297
> 
> 标签：java

我正在尝试将输入整数数组转换为向量，然后输出结果。我搜索了谷歌，每个示例都使用“（Arrays.asList（randomArray）”。但是，当我尝试编译时，我得到一个“找不到符号 - 构造函数 Vector（java.util.list）”什么是正确的代码将数组转换为向量？

这是我的代码：

```
Scanner inputNumber = new Scanner(System.in);
System.out.println("How big would you like the vector to be?");
int vecSize = inputNumber.nextInt();
int [] vecArray = new int[vecSize];
int [] primeArray = new int[vecSize];
System.out.println("Please enter " + vecSize + " postive numbers please: ");

for (int i = 0; i < vecSize; i++)  {
    int arrayInput = inputNumber.nextInt();
    if (arrayInput > 0){
    vecArray[i] = arrayInput;
    }
}
Vector<Integer> arrayToVec = new Vector<Integer>(Arrays.asList(vecArray)); 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-10T06:24:49.520

问题是，您的数组不是 an`Integer[]`而是 an `int[]`，并且 java 无法在这两种类型之间进行转换。

您可以替换`int`by`Integer`或将值从 复制`int[]`到新的`Integer[]`（使用另一个循环）并将其输入向量。

在您的代码中，最后一条语句尝试将所有`int[]`对象复制到向量中，但您希望它会自动收件箱并从数组中复制值。但事实并非如此。

顺便说一句，错误消息给出了提示：

> 构造函数`Vector<Integer>(List<int[]>)`未定义

您希望改用构造函数`Vector<Integer>(List<Integer>)`，而 Java 决定从错误消息中查找构造函数。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-10T06:28:42.610

问题是您有一个原始类型 (int) 的数组，它不适用于`Arrays.asList()`. `Arrays.asList(vecArray)`实际上返回`List<int[]>`一个元素（你的数组）。

最简单的解决方法是自己手动填充向量：

```
Vector<Integer> arrayToVec = new Vector<Integer>();
for (int i : vecArray) {
    arrayToVec.add(i);
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-10T06:28:47.780

你`vecArray`应该是 type`Integer`而不是 original `int`。

```
Integer [] vecArray = new Integer[vecSize]; 
```

# windows - 如何从 Windows 注册表中获取安装的 informix 版本

> ID：14251911
> 
> 赞同：1
> 
> 时间：2013-01-10T06:18:40.130
> 
> 标签：windows, registry, informix

由于我无法组合访问所有已发布的 Informix 版本（或）版本，因此我正在寻找一种方法来查看 Windows 注册表，以获取已安装的 Informix DB 服务器版本。

PS-它可以是简单的（键，值）访问，也可以是枚举多个键来获取它的逻辑。我需要的只是一个明确的方法。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-11T06:46:52.207

供他人参考。

Informix 在 HKLM\Software\Informix 下创建其注册表项。

在该配置单元下，还有其他组件的条目，其中一个是 DBMS。

因此，如果您查看 HKLM\software\Informix\DBMS 的配置单元，您可以看到已安装的 DBMS 版本，例如 11.9，并且在该版本下有当前版本值，其中列出了安装的正确版本。

# assembly - 我怎样才能让 masm 只生成机器代码？

> ID：14251913
> 
> 赞同：3
> 
> 时间：2013-01-10T06:18:43.277
> 
> 标签：assembly, nasm, masm

nasm 只能通过`-f bin`选项生成机器代码。我想在 masm 上做同样的事情，但我找不到怎么做。

它看起来总是生成的目标代码是 COFF 格式，并且似乎不是关闭它的选项。

有什么建议吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-31T07:49:52.940

`MASM`必须使用链接器，但仍然可以通过使用`/TINY`选项跳过创建可执行标头。请参阅有关创建 COM 可执行文件的 MS 信息 - 这是一个平面二进制文件：

[http://support.microsoft.com/kb/24954](http://support.microsoft.com/kb/24954)

正如其他人已经说过的那样，限制较少的工具。[FASM](http://flatassembler.net/)是我的偏好 - 默认情况下生成平面二进制文件。:)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-01T19:55:59.170

您可以将您的 masm 代码制作成 exe 并使用十六进制编辑器查看机器代码

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-31T08:35:40.180

你不能。但是，如果您的目标只是将一个二进制块写入文件，那么您很容易滥用汇编程序来帮助您。

用两部分编写你的汇编程序

*   您要作为二进制块生成的部分。给它一个开始标签 BLOCK 和结束标签 BLOCKEND。

*   加载可执行文件时获得控制权的部分，并在操作系统（例如，Windows）上调用以将块写入文件；完成后，它只是退出。执行此操作的实际调用实际上并不难编写。在本节中，您可能会有 50-100 行代码。

# java - Tomcat 应用程序管理器的默认用户名密码

> ID：14251914
> 
> 赞同：2
> 
> 时间：2013-01-10T06:18:46.147
> 
> 标签：java, web-services, tomcat, netbeans-7

在 Netbeans 中启动 Web 服务只是 Hello World 程序，但是这个应用程序管理器在启动时很忙，

面对 NetBeans 中的此警报消息，还有`Tomcat Application Manager`带有用户名和密码的消息，我提供了管理员和密码作为凭据，它返回无效的用户名

```
Enter password to unlock your login keyring

The password you use to log in to your computer no longer matches that of your login keyring. 
```

Tomcat 应用程序管理器中用户名密码的默认值应该是什么？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2014-08-19T15:25:40.037

首先导航到以下位置并在文本编辑器中打开它

```
<TOMCAT_HOME>/conf/tomcat-users.xml 
```

`<tomcat-users>`对于tomcat 7，在我找到以下解决方案之间的某处添加以下xml代码。

```
 <role rolename="manager-gui"/>
  <user username="username" password="password" roles="manager-gui"/> 
```

现在重新启动 tomcat 服务器。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2013-01-10T06:25:23.407

管理员和经理应用程序是两个独立的东西。这是一个有效的 tomcat-users.xml 文件的快照，试试这个：

```
<?xml version='1.0' encoding='utf-8'?>  
<tomcat-users>  
    <role rolename="tomcat"/>  
    <role rolename="role1"/>  
    <role rolename="manager"/>  
    <user username="tomcat" password="tomcat" roles="tomcat"/>  
    <user username="both" password="tomcat" roles="tomcat,role1"/>  
    <user username="role1" password="tomcat" roles="role1"/>  
    <user username="USERNAME" password="PASSWORD" roles="manager,tomcat,role1"/>  
</tomcat-users> 
```

它非常适合我

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-10T09:19:53.863

**重置**您的密钥环。

1.  进入您的主文件夹。

2.  按 ctrl & h 显示您的隐藏文件夹。

3.  现在查看您的 .gnome2/keyrings 目录。

4.  找到 default.keyring 文件。

5.  将该文件移动到其他文件夹。

6.  完成后，重新启动计算机。

# jquery - 页面在按下结束键时滚动并返回 false

> ID：14251916
> 
> 赞同：0
> 
> 时间：2013-01-10T06:18:54.413
> 
> 标签：jquery

我的身体标签上有一个`keydown`事件，我让它监听`end`键（键码 35）和`home`按钮（键码 36）。

在我的`if`块中，我将它的最后一行作为`return false;`. 然而我的页面还在滚动！我已经`return false;`在我的街区内的多个不同地方`if`尝试过，尝试过使用`e.preventDefault();`，以及或代替`e.bubbles = false;`. 这是我的代码：

```
 $("body").keydown(function(e) {
        if(e.ctrlKey && e.keyCode == 83)
        {
            e.preventDefault();
            editForm();
            return false;
        }
        else if(e.which == 35) 
        { 
            /* [end] key hit */
            console.log("end key hit!");
            return false;   
        }
        else if(e.which == 36) 
        {
            /* [home] key hit */
            console.log("home key hit!");
            return false;
        }
    }); 
```

谁能帮我解决这个令人困惑的问题？我真的需要它不要在这两个键上滚动。干杯!

***编辑*** 我已经把问题缩小了一点。这似乎是 jScrollPane 的问题。我将进一步调查并报告。麻烦各位大佬抱歉。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-10T06:29:08.077

好的，看起来 jScrollPane 也在使用 keyCode 35。进入 jScrollPane 的未缩小源代码（网址如下）页面，搜索 35。

[http://jscrollpane.kelvinluck.com/script/jquery.jscrollpane.js](http://jscrollpane.kelvinluck.com/script/jquery.jscrollpane.js)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-10T06:23:03.270

我要尝试的第一件事是使用文档而不是正文：

```
$(document).keydown(..... 
```

我要尝试的第二件事是使用不同的事件，使用 keydown 和 keyup 和 keypress 并在所有 3 中阻止它。让我知道这是怎么回事。

# c# - 在 LinkedIn 中发布状态

> ID：14251920
> 
> 赞同：1
> 
> 时间：2013-01-10T06:19:27.743
> 
> 标签：c#, c#-4.0, linkedin, hammock

我看到一篇文章如何使用 c# 在 LinkedIn 中分享我们的状态。
我遵循这些步骤，我正在使用的代码如下......
为此，我正在使用 Hammock 库。

```
 OAuthCredentials credentials = new OAuthCredentials();

        credentials.Type = OAuthType.AccessToken;
        credentials.ConsumerKey = "****";
        credentials.ConsumerSecret = "*****";
        credentials.Token = "******";
        credentials.TokenSecret = "*********";
        credentials.SignatureMethod = OAuthSignatureMethod.HmacSha1;
        credentials.ParameterHandling = OAuthParameterHandling.HttpAuthorizationHeader;

        RestClient client = new RestClient();

        client.Authority = "http://api.linkedin.com/v1";
        client.Credentials = credentials;
        client.Method = WebMethod.Put;
        byte[] msg = Encoding.Default.GetBytes("Test");
        client.AddHeader("Content-Type", "text/xml");
        client.AddPostContent(msg);

        RestRequest request = new RestRequest();
        request.Path = "http://api.linkedin.com/v1/people/~/current-status";

 /* ERROR */ RestResponse response = client.Request(request); 
```

它给了我一个错误“错误请求”。如何解决这个问题请帮助我..？

# php - 安装 BeEF 产生错误：ruby: no such file or directory -- dk.rb (loaderror)

> ID：14251927
> 
> 赞同：1
> 
> 时间：2013-01-10T06:19:52.060
> 
> 标签：php, ruby-on-rails, ruby, init

我正在尝试安装牛肉，但为了做到这一点，我需要 ruby​​。到目前为止，我已经从他们的官方网站下载了 ruby​​。然后我下载了 SQLite dll 并将其解压缩到 ruby​​ bin 文件夹中。然后我下载了 DevKit-tdm-32-4.5.2-20111229-1559-sfx.exe 并将其解压到 C:/ 文件夹中。说明告诉我然后打开命令提示符并转到`devkit`路径，但是当我下载 devkit 时，它自动将自身重命名为 mingw，所以我去了 mingw 路径。最后我试着跑

`ruby dk.rb init`

我得到了错误：

`ruby: no such file or directory -- dk.rb (loaderror)`

我已经完成了 gem 更新，我有最新的 gem 和最新的 ruby​​ 等等。

如何解决此错误？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-08T14:51:54.043

看起来这是很久以前的事了，但是如果将来有人遇到麻烦：

似乎您正在尝试在 Windows 中执行此操作，这几乎是不可能的。他们 wiki 上的指南不起作用，并且 Ruby 不能很好地与 Windows 配合使用。即使您启动并运行它也是错误的。最好的办法是下载 Vmware 播放器并虚拟化 Ubuntu，安装过程就像做梦一样，运行流畅。

假设您启动并运行 ubuntu（这很简单），请执行以下操作：

启动终端

```
sudo apt-get update 
```

您现在是最新的，是时候安装 Ruby 和一些依赖项了，输入以下内容：

```
sudo apt-get install curl git ruby build-essential libsqlite3-ruby libsqlite3-dev libssl-dev 
```

然后我们安装 Ruby 虚拟机 - rvm，使用以下命令

```
sudo curl https://raw.github.com/wayneeseguin/rvm/master/binscripts/rvm-installer | bash -s stable 
```

现在我们需要终端充当登录外壳。顶部菜单可能会被隐藏，但会在鼠标悬停时显示，因此请选择 Edit -> Profile Preferences。在弹出窗口中，选择“标题和命令”选项卡并选中“以登录 shell 方式运行命令”框。

关闭窗口并运行以下命令

```
sudo echo [[ -s "$HOME/.rvm/scripts/rvm" ]] && . "$HOME/.rvm/scripts/rvm" # Load RVM function' >> ~/.bash_profile 
```

其次是：

```
rvm pkg install zlib --verify-downloads 1 
```

请注意，它说我们需要重新安装所有红宝石，所以让我们这样做：

```
rvm reinstall all --force 
```

紧随其后的是：

```
rvm install ruby-1.9.3-p392 
```

这可能需要一段时间，具体取决于您的 CPU，因此请耐心等待并享受多彩的终端。

完成后，我们告诉 rvm 使用 ruby​​ 1.9.3，使用以下（非常合乎逻辑的）命令

```
rvm use 1.9.3 
```

最后，我们通过键入以下命令安装 Bundler：

```
gem install bundler 
```

我们现在完成了 Ruby 和 Dependencies 的安装。是时候下载 BeEF 了，输入以下内容：

```
git clone git://github.com/beefproject/beef.git 
```

完成后，键入以下内容导航到牛肉文件夹：

```
cd beef 
```

然后我们使用之前安装的 bundler 来安装牛肉包：

```
bundle install 
```

就是这样，你现在已经成功安装了 BeEF，恭喜！（以“红宝石牛肉”开头）

# java - 为什么必须存在 no args 才能使代码正常工作？

> ID：14251934
> 
> 赞同：5
> 
> 时间：2013-01-10T06:20:30.887
> 
> 标签：java

在这段代码中，我知道它可以与 A 类中的 super(t) 或 B 类中的无参数构造函数一起使用。下面的代码使用 B 类中的无参数构造函数。我知道如果你去掉无参数构造函数B类的代码不起作用。我是编程新手，我想了解的是 B 类中的无参数构造函数有什么特别之处，为什么代码必须存在才能工作？有什么特殊条件或规则？

```
public class Test {

    public static void main(String[] args) {

       B b = new B(5);

    }
}

class A extends B {
    public A(int t)  {

        System.out.println("A's constructor is invoked");
    }
}

class B  {

    public B() {

    }

    public B(int k)   {
    System.out.println("B's constructor is invoked");
    }
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-10T06:29:06.207

```
class A extends B { 
```

编译器确保在编译此类时；如果程序员没有编写`this()`或`super()`明确地编写，它将`super()`在 class 中提供的每个构造函数中添加为第一行`A`。

如果程序员没有提供其他构造函数，编译器还确保向类添加无参数构造函数。

现在，假设您没有在类中提供无参数构造函数`B`，编译器也不会提供，因为您提供了带参数的构造函数。但是，在类中`A`，它将`super()`作为构造函数中的第一行添加。即对基类无参数构造函数的调用。因此，它会导致编译器错误。

因此，正如您所说，要么在 class 中提供无参数构造函数，要么在 class中`B`编写。`super(<int>)``A`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-10T06:24:42.353

如果您定义任何其他构造函数，Java 将不会添加无参数构造函数。
没有参数构造函数是 Java 在需要时使用的默认构造函数。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-10T06:24:48.770

这个词不是“特殊”，而是“**默认**”。

如果您选择不调用超类构造函数，`A(int t)`则**默认**调用构造函数`B()`，因为 Java 无法为您决定哪个其他构造函数可以被视为默认构造函数。因此，如果`B()`不存在并且有调用它（如本例所示），则编译失败。

澄清一下，编译失败是因为你定义了 class`A`而不是因为 line `B b = new B(5);`，那行没问题。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-01-10T06:25:04.297

> B类中的无参数构造函数有什么特别之处，为什么代码必须存在才能工作？有什么特殊条件或规则？

--> 当你没有在你的类中提供任何构造函数时。编译器`no-arg/default constructor`在您的课程中添加。

如果您有带参数的构造函数，那么编译器将不会添加默认构造函数，如果需要，您必须添加。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2013-01-10T06:29:51.490

除 Object 之外的所有类的构造函数必须以“this”调用开始，调用同一类的另一个构造函数，或者以“super”调用开始，调用超类构造函数。

如果在非 Object 构造函数的开头没有显式调用“this”或“super”，编译器实际上会插入一个简单的“super();”。

A 类构造函数实际上是：

```
 public A(int t)  {
        super();
        System.out.println("A's constructor is invoked");
    } 
```

显然，必须有一个 B() 构造函数才能工作。

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2013-01-10T06:32:49.980

简而言之，子类构造函数的第一行是对`super()`.
这是幕后发生的事情。

```
{
public A(int);
  Code:
   Stack=2, Locals=2, Args_size=2
   0:   aload_0
   1:   invokespecial   #1; //Method B."<init>":()V
   4:   getstatic       #2; //Field java/lang/System.out:Ljava/io/PrintStream;
   7:   ldc     #3; //String A's constructor is invoked
   9:   invokevirtual   #4; //Method java/io/PrintStream.println:(Ljava/lang/String;)V
   12:  return
  LineNumberTable:
   line 11: 0
   line 13: 4
   line 14: 12

} 
```

如您所见，第 1 行正在调用 B.init() ，这是默认构造函数 (no args) 。

这就是为什么您需要在 B 中使用无参数构造函数的原因。

* * *

## 回答 #7

> 赞同：1
> 
> 时间：2013-01-10T06:22:32.230

如果 B 类中没有定义构造函数，那么就会有隐式的默认构造函数，否则需要显式定义无参数构造函数。

> 为什么我们需要无参数构造函数？

何时`A`通过构造函数实例化

```
public A(int t)  {

        System.out.println("A's constructor is invoked");
    }, 
```

有对 B() 的隐式 super() 调用，但是如果您没有定义无参数构造函数，则无法完成，这就是您收到错误消息的原因。

# xaml - Windows 商店应用程序中的评级控制并将整数值绑定到它

> ID：14251936
> 
> 赞同：0
> 
> 时间：2013-01-10T06:20:37.713
> 
> 标签：xaml, data-binding, winrt-xaml, windows-store-apps

我有以下

```
g code

<GridView
            x:Name="itemGridView"
            AutomationProperties.AutomationId="ItemsGridView"
            AutomationProperties.Name="Items"
            TabIndex="1"
            Grid.RowSpan="2"
            Padding="116,136,116,46"
            SelectionMode="Single"
            IsSwipeEnabled="false"
            Visibility="Collapsed">

            <GridView.ItemTemplate>
                <DataTemplate>
                    <Border BorderBrush="DarkSeaGreen" BorderThickness="1">
                    <StackPanel HorizontalAlignment="Left" Width="250" Height="180" Background="SeaGreen">
                        <StackPanel VerticalAlignment="Top" >
                            <TextBlock Text="{Binding Name}" Foreground="{StaticResource ListViewItemOverlayForegroundThemeBrush}" TextWrapping="Wrap" MinHeight="40" FontSize="22"  Margin="15,10,15,0"/>
                        </StackPanel>

                        <Grid Height="Auto">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="20*"/>
                                <RowDefinition Height="20*"/>
                                <RowDefinition Height="20*"/>
                                <RowDefinition Height="20*"/>
                                <RowDefinition Height="20*"/>

                             </Grid.RowDefinitions>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="150"/>
                                <ColumnDefinition Width="Auto"/>
                            </Grid.ColumnDefinitions>

                                <TextBlock Grid.Row="0" Grid.Column="0"  Text="TotalMarks:" Foreground="White" Style="{StaticResource CaptionTextStyle}" TextWrapping="NoWrap" Margin="15,0,0,0"/>
                                <TextBlock Grid.Row="0" Grid.Column="1" Text="{Binding TotalMarks}" Foreground="White" Style="{StaticResource CaptionTextStyle}" TextWrapping="NoWrap"/>
                                <TextBlock Grid.Row="1" Grid.Column="0" Text="Total Questions:" Foreground="White" Style="{StaticResource CaptionTextStyle}" TextWrapping="NoWrap" Margin="15,0,0,0" />
                                <TextBlock Grid.Row="1" Grid.Column="1" Text="{Binding TotalQuestions}" Foreground="White" Style="{StaticResource CaptionTextStyle}" TextWrapping="NoWrap" />
                                <TextBlock Grid.Row="2" Grid.Column="0" Text="Total attempts:" Foreground="White" Style="{StaticResource CaptionTextStyle}" TextWrapping="NoWrap"  Margin="15,0,0,0" />
                                <TextBlock Grid.Row="2" Grid.Column="1" Text="{Binding AttemptCount}" Foreground="White" Style="{StaticResource CaptionTextStyle}" TextWrapping="NoWrap"   />
                               <TextBlock Grid.Row="3" Grid.Column="0" Text="Ratings:" Foreground="White" Style="{StaticResource CaptionTextStyle}" TextWrapping="NoWrap" Margin="15,0,0,0" />
                                <TextBlock Grid.Row="3" Grid.Column="1" Text="{Binding TestRating}" Foreground="White" Style="{StaticResource CaptionTextStyle}" TextWrapping="NoWrap" />
                            <!-- Here I want to add -->    

                            </Grid>
                    </StackPanel>
                    </Border>
                </DataTemplate>
            </GridView.ItemTemplate>

        </GridView> 
```

我想在数据模板的网格中添加一个评级控件，以便它的值可以与一个整数变量绑定`TestRating`。由于我是数据绑定的新手，所以我不知道如何做到这一点。请提供一些帮助。

提前致谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-11T19:50:41.380

这可能取决于`Rating`您使用的控件。以下是使用[Callisto's 的](https://github.com/timheuer/Callisto/wiki/Rating)方法：

```
<callisto:Rating ItemCount="5" Value="{Binding TestRating}" /> 
```

假设绑定适用于`TextBlock`您要插入评分的位置的正上方，这也应该有效。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-10-31T01:17:02.503

为了便于在源中反映任何更改，您需要进行双向绑定，以便将控件中所做的更改绑定回源。所以适当的改变是：

```
<callisto:Rating ItemCount="5" Value="{Binding TestRating, Mode=TwoWay}" />
```

# android - 将自定义短语添加到 Tesseract 白名单

> ID：14251939
> 
> 赞同：2
> 
> 时间：2013-01-10T06:20:48.440
> 
> 标签：android, ocr, tesseract

我正在 Android 上构建一个简单的 Tesseract 应用程序，它的目标是识别简单的命令，如 CALL、MESSAGE 等。因为命令的数量很小且固定，我想将它们添加到白名单中，以便程序可以实现更高的准确性。我怎样才能做到这一点？提前谢谢了 ：）

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-04T23:54:12.953

据我了解，您不能将 tesseract 中的单词列入白名单。您只能使用以下代码段将字符和数字列入白名单

tessBaseAPI.setVariable(TessBaseAPI.VAR_CHAR_WHITELIST,"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmopqrstuvwxyz0123456789%,");

在使用 tessBaseAPI.init(...,...) 初始化 tesseract 之后；

# c# - 网络流写入被阻止

> ID：14251948
> 
> 赞同：1
> 
> 时间：2013-01-10T06:21:44.070
> 
> 标签：c#, windows, tcp, networkstream

我正在研究接受来自不同客户端的多个 tcp 连接的 ac# 应用程序（.net 4）。有一个接受套接字的 tcp 侦听器。双工通信 b/w 节点。使用 Networkstream.Write 方法发送数据并使用 Networkstream.read 方法读取数据。对于每个 tcp 连接，都会创建一个单独的线程。

问题是，几天前我们注意到其中一个客户端停止读取数据（由于错误）达 20 分钟。由于连接没有断开，服务器上没有（IO）异常。但是，我们注意到其他客户端的数据也没有传输。20 分钟后，该客户端再次开始接收数据，很快其他客户端也开始接收数据。

我知道网络流的写入方法是一种阻塞方法，我们没有使用任何超时。所以有一个潜在的写被阻止（描述[here](https://stackoverflow.com/questions/6262626/until-when-does-networkstream-write-block)）。但据我了解，每个 tcp 连接都必须有一个单独的写入缓冲区，或者还有更多的东西在起作用。tcp 连接的发送阻塞会影响同一应用程序中的其他 tcp 连接吗？

这是写操作的伪代码。对于每个连接，都有一个单独的线程单独的传出队列进程。

```
public class TCPServerListener : baseConnection
{

    private readonly int _Port;
    private TcpListener _tcpListener;
    private Thread _thread;
    private List<TcpClientData> _tcpClientDataList = new List<TcpClientData>();
    private long _messageDiscardTimeout;
    private bool LoopForClientConnection = true;

    public TCPServerListener(int port, ThreadPriority threadPriority)
    {
        try
        {
            // init property
        }
        catch (Exception ex)
        {
            // log
        }
    }

    public void SendMessageToAll(int type)
    {
        base.EnqueueMessageToSend(type, _tcpClientDataList);
    }
    public void SendMessageToList(int type, IList<TcpClient> tcpClientList)
    {
        base.EnqueueMessageToSend(type, tcpClientList);
    }
    public void SendMessage(int type, TcpClient tcpClient)
    {
        base.EnqueueMessageToSend(type, tcpClient);
    }

    private void AcceptClientConnections()
    {
        while (LoopForClientConnection)
        {
            try
            {
                Socket socket = _tcpListener.AcceptSocket();
                TcpClientData tcpClientData = new TcpClientData();
                tcpClientData.tcpClientThread = new Thread(new ParameterizedThreadStart(StartAsync));
                tcpClientData.tcpClientThread.Priority = _threadPriority;
                tcpClientData.tcpClientThread.IsBackground = true;
                tcpClientData.tcpClientThread.Name = "CD" + tcpClientData.tcpClientThread.ManagedThreadId;
                tcpClientData.tcpClient = new TcpClient();
                tcpClientData.tcpClient.Client = socket;
                _tcpClientDataList.Add(tcpClientData);
                tcpClientData.tcpClientThread.Start(tcpClientData.tcpClient);
            }
            catch (ThreadAbortException ex)
            {
                //log

            }
            catch (Exception ex)
            {
                //log
            }
        }
    }

    public override void Start()
    {
        base.Start();
        _tcpListener = new TcpListener(System.Net.IPAddress.Any, _Port);

        _thread = new Thread(AcceptClientConnections);
        _thread.Priority = _threadPriority;
        _thread.IsBackground = true;

        _tcpListener.Start();
        _thread.Start();
    }

    public override void Stop()
    {
       // stop listener and terminate threads
    }
}

public class baseConnection
{
    private Thread _InCommingThread;
    private Thread _OutGoingThread;
    protected ThreadPriority _threadPriority;
    protected BlockingCollection<MessageReceived> _InComingMessageQueue = new BlockingCollection<MessageReceived>();
    protected BlockingCollection<MessageToSend> _OutgoingMessageQueue = new BlockingCollection<MessageToSend>();

    public void StartAsync(Object oTcpClient)
    {
        TcpClient tcpClient = oTcpClient as TcpClient;
        if (tcpClient == null)
            return;

        using (tcpClient)
        {
            using (NetworkStream stream = tcpClient.GetStream())
            {
                stream.ReadTimeout = Timeout.Infinite;
                stream.WriteTimeout = Timeout.Infinite;

                BinaryReader bodyReader = new BinaryReader(stream);

                while (tcpClient.Connected)
                {
                    try
                    {
                        int messageType = bodyReader.ReadInt32();

                        // checks to verify messages 

                        // enqueue message in incoming queue
                        _InComingMessageQueue.Add(new MessageReceived(messageType, tcpClient));
                    }
                    catch (EndOfStreamException ex)
                    {
                        // log
                        break;
                    }
                    catch (Exception ex)
                    {
                        // log
                        Thread.Sleep(100);
                    }
                }
                //RaiseDisconnected(tcpClient);
            }
        }
    }

    public virtual void Start()
    {
        _InCommingThread = new Thread(HandleInCommingMessnge);
        _InCommingThread.Priority = _threadPriority;
        _InCommingThread.IsBackground = true;
        _InCommingThread.Start();

        _OutGoingThread = new Thread(HandleOutgoingQueue);
        _OutGoingThread.Priority = _threadPriority;
        _OutGoingThread.IsBackground = true;
        _OutGoingThread.Start();
    }

    public virtual void Stop()
    {
       // stop the threads and free up resources
    }

    protected void EnqueueMessageToSend(int type, List<TcpClientData> tcpClientDataList)
    {
        tcpClientDataList.ForEach(x => _OutgoingMessageQueue.Add(new MessageToSend(type, x.tcpClient)));
    }
    protected void EnqueueMessageToSend(int type, IList<TcpClient> tcpClientList)
    {
        foreach (TcpClient tcpClient in tcpClientList)
        {
            _OutgoingMessageQueue.Add(new MessageToSend(type, tcpClient));
        }
    }
    protected void EnqueueMessageToSend(int type, TcpClient tcpClient)
    {
        _OutgoingMessageQueue.Add(new MessageToSend(type, tcpClient));
    }

    private void HandleOutgoingQueue()
    {
        while (true)
        {
            try
            {

                MessageToSend message = _OutgoingMessageQueue.Take();

                if (message.tcpClient.Connected)
                {
                    BinaryWriter writer = new BinaryWriter(message.tcpClient.GetStream());
                    writer.Write(message.type);
                }
            }
            catch (ThreadAbortException ex)
            {
                // log
                return;
            }
            catch (Exception ex)
            {
                //_logger.Error(ex.Message, ex);
            }
        }
    }

    private void HandleInCommingMessnge()
    {
        while (true)
        {
            try
            {
                MessageReceived messageReceived = _InComingMessageQueue.Take();

                // handle message
            }
            catch (ThreadAbortException ex)
            {
                // log
                return;
            }
            catch (Exception ex)
            {
                // log
                //_logger.Error(ex.Message, ex);
            }
        }
    }

    public class MessageReceived
    {
        public MessageReceived(int type, TcpClient tcpClient)
        {
            this.tcpClient = tcpClient;
            this.type = type;
        }

        public int type;
        public TcpClient tcpClient;
    }

    public class MessageToSend
    {
        public MessageToSend(int type, TcpClient tcpClient)
        {
            this.tcpClient = tcpClient;
            this.type = type;
        }

        public int type;
        public TcpClient tcpClient;
    }

    public class TcpClientData
    {
        public Thread tcpClientThread;
        public TcpClient tcpClient;
    }
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-10T10:22:39.073

您提到为每个连接创建一个单独的线程，但您显示的代码似乎能够为*任何*连接出列消息。

如果此代码在多个线程上运行，则程序将在每个线程当前尝试向阻塞连接发送消息时阻塞。如果此循环在多个线程上运行，您可能面临的另一个问题是消息可能无法以正确的顺序到达同一连接。

# android - 启动时 AppWidget 故障（应用程序在初始化过程中重新启动）

> ID：14251953
> 
> 赞同：1
> 
> 时间：2013-01-10T06:22:08.220
> 
> 标签：android, android-appwidget

我有一个股票市场跟踪 Android 应用程序，它带有一个 AppWidget 来显示价格。通常它工作正常，尽管在启动后第一次加载时似乎遇到了一些问题。

加载顺序应该像这样工作：

1.  手机靴
2.  AppWidget`onUpdate`调用。
3.  AppWidget 需要来自互联网的数据，启动一项从互联网提取报价的服务：

    ```
    Log.d("PortfolioMap", "Widget is requesting a MANUAL_UPDATE");
    Intent newIntent = new Intent(context.getPackageName() + ".MANUAL_UPDATE");
    context.startService(newIntent); 
    ```

4.  在互联网更新完成时，将结果缓存在自定义`Application`类中，触发`sendBroadcast`AppWidget 接收器以刷新数据。

    ```
    Log.d("PortfolioMap", "Updating portfolio with results for " + updateData.size() + " stocks with value " + dbgValue);
    Intent newIntent = new Intent(getPackageName() + ".DATA_UPDATE_COMPLETE");
    this.sendBroadcast(newIntent); 
    ```

5.  AppWidget 接收广播，调用 onUpdate 以绘制新数据。

    ```
    public void onReceive(Context context, Intent intent) {
        super.onReceive(context, intent);
        Log.d("PortfolioMap", "Widget received broadcast " + intent.getAction());
        ...
        this.onUpdate(context, appWidgetManager, ids);
    } 
    ```

实际发生的情况是在第 4 步（已发送 DATA_UPDATE_COMPLETE 广播）和第 5 步（已收到 DATA_UPDATE_COMPLETE 广播）之间，我的应用程序重新启动大约有 10 秒的延迟（`onCreate`在`Application`第 4 步之后第二次调用类）。

应用程序用新的 PID 重启后，它仍然会收到应用程序第一个实例发送的广播，但此时应用程序数据已被清除。

有谁知道为什么我的应用程序会在加载过程中被重置，以及为什么即使在应用程序被重置后仍会收到广播？这对我来说似乎很奇怪。重启似乎总是在摩托罗拉广播之后立即发生`ACTION_WIDGET_ADDED`，但我不确定这是否相关或意味着什么。

这是我的日志。注意最后三行的 PID 是如何变化的，它第二次表示“正在创建应用程序”。

```
 21:37:55.347: D/PortfolioMap(4299): Application is being created
 21:37:55.467: D/PortfolioMap(4299): Widget received broadcast android.appwidget.action.APPWIDGET_ENABLED
 21:37:55.477: D/PortfolioMap(4299): Widget onUpdate called
 21:37:55.477: D/PortfolioMap(4299): Widget is requesting a MANUAL_UPDATE
 21:37:55.497: D/PortfolioMap(4299): InternetUpdater received broadcast MANUAL_UPDATE
 21:37:55.927: D/PortfolioMap(4299): Updating portfolio with results for 3 stocks with value 8973.326
 21:38:05.337: D/PortfolioMap(4299): Widget received broadcast com.motorola.blur.home.ACTION_WIDGET_ADDED
 21:38:18.417: D/PortfolioMap(4778): Application is being created
 21:38:18.497: D/PortfolioMap(4778): Widget received broadcast com.karwosts.PortfolioMap.DATA_UPDATE_COMPLETE
 21:38:18.497: D/PortfolioMap(4778): Starting widget redraw with portfolio 'All Portfolios' (value:0.0) 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-06-15T20:42:49.273

我在与一家主要设备制造商打交道方面有过一些经验，并且我自己也观察到了这一点。有人评论说，在系统启动时，操作系统没有足够的分配内存，并且被迫终止任何活动进程，并在完成操作系统初始化时重新分配它们。这可能很好地解释了你的观察。

# iphone - MKMapView 有自己的位置管理器吗？

> ID：14251954
> 
> 赞同：2
> 
> 时间：2013-01-10T06:22:09.537
> 
> 标签：iphone, ios, objective-c, location, mkmapview

我创建了一个 CLLocationManager，并从中接收 gps 更新，但我怀疑地图视图是否有自己的位置管理器，在这种情况下会有两个位置管理器吗？这是否会影响我的申请？如果它有自己的位置管理器

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-10T06:54:05.553

MKMapView 有自己的位置管理器。这就是为什么你可以像这样直接在地图上显示用户位置`myMapView.showsUserLocation=YES;`

为什么您使用单独的位置管理器 im MKMapView？您可以通过这种方式捕获当前用户位置。

```
 CLLocationCoordinate2D location = [[myMapView userLocation] location].coordinate;
        double currentLat = location.latitude;
        double currentLong = location.longitude; 
```

另外我不认为在 MKMapView 中使用单独的位置管理器会导致任何问题。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-10T06:50:24.477

是的，它确实。只要您选择并坚持使用它，它就不会影响您的应用程序。虽然，我会指出，有两个（或一个空的）是糟糕的编码实践。使用以下函数访问您`MKMapView`的 locationManager：

```
- (void)locationManager:(CLLocationManager *)manager didUpdateToLocation:(CLLocation *)newLocation fromLocation:(CLLocation *)oldLocation; 
```

# bash - 根据用户名更改命令提示符

> ID：14251965
> 
> 赞同：0
> 
> 时间：2013-01-10T06:22:47.677
> 
> 标签：bash, command-prompt

`~/.bashrc`我在所有登录的机器中使用一个文件，并且我有以下行来显示命令提示符

```
PS1='${debian_chroot:+($debian_chroot)}\[\033[01;32m\]\u@\h\[\033[00m\]:\[\033[01;34m\]\w\[\033[00m\]\$ ' 
```

如果它是“sudar”，我不想看到用户名，但想看到它。如果上面的行等于“sudar”，我如何更改上面的行以删除用户名部分？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-10T06:28:41.977

```
if [[ $USER == sudar ]]
then 
  PS1="THINGS YOU WANT IN PS1 VARIABLE"
else
  PS1="THINGS YOU WANT IN PS1 VARIABLE"
fi 
```

# java - 如何在 android 中将蓝牙设备发现超时设置为 1 小时（3600）秒并且永不超时

> ID：14251966
> 
> 赞同：1
> 
> 时间：2013-01-10T06:22:47.023
> 
> 标签：java, android, android-intent, bluetooth, discovery

我正在开发蓝牙应用程序，我想在其中添加手动配置可发现超时周期的功能。当我将 DISOVERABLE_DURATION 设置为 120 或 300 时，它工作正常。但是当我将它设置为 3600 时，它在 onActivityResult() 中没有提供任何响应秒。

同样，我将 DISOVERABLE_DURATION 设置为 0 表示永不超时，这也不起作用。

我搜索了很多，发现报告了类似的错误，但我无法找到合适的解决方案。

我正在触发以下意图

```
Intent discoverableIntent = new Intent(BluetoothAdapter.ACTION_REQUEST_DISCOVERABLE);
discoverableIntent.putExtra(BluetoothAdapter.EXTRA_DISCOVERABLE_DURATION,DISOVERABLE_DURATION);
startActivityForResult(discoverableIntent,REQUEST_DISCOVERABLE_BT); 
```

请给我一个合适的解决方案../

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-11T06:07:27.647

永远被发现 -

Intent discoverableIntent = new Intent(BluetoothAdapter.ACTION_REQUEST_DISCOVERABLE); discoverableIntent.putExtra(BluetoothAdapter.EXTRA_DISCOVERABLE_DURATION, 0); startActivity(discoverableIntent);

值 0 表示设备始终是可发现的。

我知道，这是2个月前发布的。但无论如何都没有答案，所以我只想回复。:) 希望对您有所帮助。

# expressionengine - Expression Engine Conditional 基于页面的状态

> ID：14251970
> 
> 赞同：0
> 
> 时间：2013-01-10T06:23:02.320
> 
> 标签：expressionengine

我正在尝试根据已发布条目的状态是打开还是关闭来打开和关闭导航部分。

所以我的意图是这样的：

```
{if particluarpage == "closed"}

content

{if:elseif}

content

{/if} 
```

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-10T10:25:46.240

不应该是这样的吗？

```
{if "{exp:channel:entries channel="yourchannel" entry_id="X"}{status}{/exp:channel:entries}" == "closed"}
    content
 {if:else}
    content
 {/if} 
```

也许您也需要 dynamic="no" 参数。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-10T14:41:56.327

有几种方法可以实现这一点。最简单的选择可能是通过[查询模块](http://ellislab.com/expressionengine/user-guide/modules/query/index.html)发出查询。

```
{exp:query sql="SELECT status FROM exp_channel_titles WHERE entry_id = '4'"}
{if status == 'open'}
    Show Block A
{if:else}
    Show Block B
{/if}
{/exp:query} 
```

# ruby - 如何在 ruby 1.8.6 和 rails 2.3.8 中引入 bundler 概念？

> ID：14251973
> 
> 赞同：1
> 
> 时间：2013-01-10T06:23:16.787
> 
> 标签：ruby, ruby-on-rails-2

只是我想知道捆绑器概念是否可以在 ruby​​ 1.8.6 中引入，还是需要 ruby​​ 1.8.7 ？如何在 rails 2.3.8 中应用它？

您的宝贵意见将不胜感激。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-10T07:55:06.720

真的，不要再使用 1.8 ruby​​ 系列了。与 1.9.X 相比，它只有缺点，不再维护。自从 1.9 系列发布以来，即使是宝石也不应该成为问题。

当然，这不是您想听到的确切答案，但说真的：升级。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-10T08:07:42.993

bundler 需要 1.8.7（这是相当古老的，在这一点上或多或少没有维护）。

您可以将它与 rails 2.3.x 一起使用 - bundler 网站上有关于如何设置它的说明

# windows-phone-7 - 如何在winRT中用动画绘制圆弧？

> ID：14251977
> 
> 赞同：5
> 
> 时间：2013-01-10T06:23:27.153
> 
> 标签：windows-phone-7, windows-runtime, expression-blend

我是 WinRT 和 Blend 的新手，我需要在我的 WinRT 应用程序中绘制具有绘图效果的数字 1、2 等。要求就像应用程序将绘制数字一样。

任何帮助将不胜感激。

提前致谢。

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2013-01-10T13:50:08.077

我认为你需要拼凑几个故事板来实现这一点，我真的建议你使用 Blend！

打开一个空白项目，在对象和时间线下有一个加号，点击它并添加一个新的故事板。将情节提要线的黄色条向前移动几毫秒。画一段动画，点击开始录制，稍微移动一下。停止录制。继续一块一块地做，直到你得到你想要的。至于模仿绘画。分解你想要的样子，制作数字将包含的所有单独部分并将它们的不透明度设置为 O。我建议同时使用关键帧（用于移动）和不透明度的双重动画。

这是一条沿着曲线的路径的快速演示，我做得非常快，所以它离完美还很远，但它是为了演示开始和停止以及它们如何一起看起来：

```
<Page
x:Class="App10.MainPage"
xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
xmlns:local="using:App10"
xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
mc:Ignorable="d" FontFamily="Global User Interface">
<Page.Resources>
    <Storyboard x:Name="StoryboardA">
        <PointAnimationUsingKeyFrames EnableDependentAnimation="True" Storyboard.TargetProperty="(Path.Data).(PathGeometry.Figures)[0].(PathFigure.StartPoint)" Storyboard.TargetName="path">
            <EasingPointKeyFrame KeyTime="0:0:0.3" Value="107.647,394.591"/>
            <EasingPointKeyFrame KeyTime="0:0:0.6" Value="147.75,352.713"/>
            <EasingPointKeyFrame KeyTime="0:0:0.9" Value="197.45,311.391"/>
            <EasingPointKeyFrame KeyTime="0:0:1.2" Value="268.45,251.392"/>
            <EasingPointKeyFrame KeyTime="0:0:1.4" Value="346.45,196.392"/>
            <EasingPointKeyFrame KeyTime="0:0:1.6" Value="417.45,151.392"/>
            <EasingPointKeyFrame KeyTime="0:0:1.8" Value="503.841,99.7321"/>
            <EasingPointKeyFrame KeyTime="0:0:2" Value="604.45,53.3924"/>
            <EasingPointKeyFrame KeyTime="0:0:2.3" Value="705.45,13.392"/>
        </PointAnimationUsingKeyFrames>
        <PointAnimationUsingKeyFrames EnableDependentAnimation="True" Storyboard.TargetProperty="(Path.Data).(PathGeometry.Figures)[0].(PathFigure.Segments)[0].(LineSegment.Point)" Storyboard.TargetName="path">
            <EasingPointKeyFrame KeyTime="0:0:0.3" Value="55.8129,445.539"/>
            <EasingPointKeyFrame KeyTime="0:0:0.6" Value="95.9156,403.661"/>
            <EasingPointKeyFrame KeyTime="0:0:0.9" Value="139.796,364.539"/>
            <EasingPointKeyFrame KeyTime="0:0:1.2" Value="198.646,311.319"/>
            <EasingPointKeyFrame KeyTime="0:0:1.4" Value="266.536,258.09"/>
            <EasingPointKeyFrame KeyTime="0:0:1.6" Value="330.282,210.352"/>
            <EasingPointKeyFrame KeyTime="0:0:1.8" Value="408.248,157.542"/>
            <EasingPointKeyFrame KeyTime="0:0:2" Value="500.776,106.108"/>
            <EasingPointKeyFrame KeyTime="0:0:2.3" Value="597.831,60.216"/>
        </PointAnimationUsingKeyFrames>
    </Storyboard>
</Page.Resources>

<Grid Background="{StaticResource ApplicationPageBackgroundThemeBrush}">
    <Path Data="M73.5,639.5 C73.5,639.5 539.5,33.5 1289.5,79.5 L1535,101.5" HorizontalAlignment="Left" Height="572.492" Margin="68.5,72.008,-174,0" Stretch="Fill" Stroke="Red" StrokeThickness="10" UseLayoutRounding="False" VerticalAlignment="Top" Width="1471.5"/>
    <Path x:Name="path" HorizontalAlignment="Left" Height="507.972" Margin="66.05,137.358,0,0" Stroke="#FFFFE100" StrokeThickness="15" UseLayoutRounding="False" VerticalAlignment="Top" Width="712.95">
        <Path.Data>
            <PathGeometry>
                <PathFigure StartPoint="53.45,448.392">
                    <LineSegment Point="7.50001,500.472"/>
                </PathFigure>
            </PathGeometry>
        </Path.Data>
    </Path>
</Grid> 
```

![这是它的外观图像，它是移动的黄色物体 - 弯曲的运动只是一个例子，表明你可以拼凑起来创造你想要的任何运动。 一种叫做缓动函数的东西甚至可以为你做这件事，见下图。](../Images/70f5d6e56dbaf1afbff7b1e9368120a0.png) 这是它的外观图像，它是移动的黄色物体 - 弯曲的运动只是一个例子，表明你可以拼凑起来创造你想要的任何运动。一种叫做缓动函数的东西甚至可以为你做这件事，见下图。

![这里有一些可用的缓动函数，可以使用它们，结合故事板中的项目来创建所需的效果。](../Images/d9cfc12d0f31de4b6ac9edee157fdd5c.png) 这里有一些可用的缓动函数，可以使用它们，结合故事板中的项目来创建所需的效果。

不同的缓动函数在 MSD N[上有很好的解释](http://msdn.microsoft.com/en-us/library/ee308751.aspx)

上面的示例中没有双重动画，但它们看起来像这样：

```
 <Storyboard x:Name="myStoryboard">
                        <DoubleAnimation Duration="0:0:1"                                 
                            Storyboard.TargetName="myImage"             
                            Storyboard.TargetProperty="Opacity"            
                            From="0" To="1" />
                    </Storyboard> 
```

这是一项艰巨的工作，需要时间。我建议您先坐下来学习如何使用 Blend 和使用故事板，然后再这样做。那里有很多很棒的教程，值得花时间。就我个人而言，我倾向于让设计师帮助制作动画，正如您在上面的故事板中看到的那样，我不是动画专家 - 有很多事情要记住，特别是在应用程序性能方面。

我还想指出现代 UI 背后的一些主要思想，这是 Windows 应用商店应用程序所需的设计语言，那就是保持真正的数字化。该应用程序不应模仿现实生活中的事物，因为它是一个应用程序而不是“现实”，所以没有任何意义。

来自 MSDN： **真正数字化** 充分利用数字媒体。消除物理界限，创造比现实更高效、更轻松的体验。接受我们是屏幕上的像素这一事实。使用大胆、充满活力和清晰的色彩和图像进行设计，超越现实世界材料的限制。

**值得一看的视频： http:** [//channel9.msdn.com/Events/Ch9Live/Channel-9-Live-at-Tech-Ed-Europe-2012/Panel-Modern-UI-Development](http://channel9.msdn.com/Events/Ch9Live/Channel-9-Live-at-Tech-Ed-Europe-2012/Panel-Modern-UI-Development)

所以想一想，也许你不需要绘图动作。也许只是快速淡入，如下所示：

```
<Page
x:Class="App10.MainPage"
xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
xmlns:local="using:App10"
xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
mc:Ignorable="d" FontFamily="Global User Interface">
<Page.Resources>
    <Storyboard x:Name="StoryboardB">
        <DoubleAnimationUsingKeyFrames Storyboard.TargetProperty="(UIElement.Opacity)" Storyboard.TargetName="textBlock">
            <EasingDoubleKeyFrame KeyTime="0" Value="0"/>
            <EasingDoubleKeyFrame KeyTime="0:0:1" Value="1"/>
        </DoubleAnimationUsingKeyFrames>
    </Storyboard>
</Page.Resources>

<Grid Background="{StaticResource ApplicationPageBackgroundThemeBrush}">
    <TextBlock x:Name="textBlock" HorizontalAlignment="Left" Height="145" Margin="465,386,0,0" TextWrapping="Wrap" Text="AB" VerticalAlignment="Top" FontSize="50" Width="343"/>
</Grid> 
```

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2013-01-10T17:04:55.293

[WinRT XAML 工具包](http://winrtxamltoolkit.codeplex.com/)有一个[RingSlice](http://winrtxamltoolkit.codeplex.com/SourceControl/changeset/view/382647a34a3b#WinRTXamlToolkit/Controls/RingSlice.cs)控件，您还可以使用它的 StartAngle/EndAngle 并为其设置动画，以轻松地为圆弧设置动画。请注意，尽管此解决方案和 Iris 的解决方案都需要在动画上设置 EnableDependentAnimation，但这是一种保护措施，告诉您它们可能无法很好地执行，因为它们需要在 UI 线程上运行代码，并且会导致布局重新计算速度很慢，尤其是在复杂场景中。如果结果很慢（尤其是在慢速设备上，例如 ARM 设备），我会尝试的一件事是用相同的中心点覆盖较小的弧线，并围绕该中心点使用 RenderTransform 动画旋转它们以获得相同的效果。这会有点复杂，但有可能跑得更快。您将平衡 UI 线程上的动画成本与

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-03-20T21:32:37.263

另一种绘制弧线的通用解决方案允许使用独立动画，因此可能运行得更平滑，这是使用两个重叠的椭圆，它们用 a 剪辑`RectangleGeometry` `Clip`并动画`Transform`剪辑的动画以逐渐显示弧线。您需要其中两个来使弧的起点和终点具有任意角度的帽（末端）。

快速模拟任意形状或元素（包括数字）的绘制也是一个简单的解决方案。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2014-11-21T18:58:12.183

如果您构建一个自定义控件并需要为其依赖属性设置动画，我在[http://danielgary.net/animating-custom-dependencyproperties/上写了一篇博客文章来提供帮助](http://danielgary.net/animating-custom-dependencyproperties/)

它的要点是当您的 Dependency Property 更改并在那里更新您的布局代码时，您连接一个事件。

# solr - 对mergefactor对搜索和索引的影响感到困惑

> ID：14251985
> 
> 赞同：0
> 
> 时间：2013-01-10T06:23:44.293
> 
> 标签：solr, lucene, full-text-search, elasticsearch

Solr/Lucene 文档说明如下：

1）高mergefactor导致更好的索引性能，因为将索引写入磁盘被最小化并且段的合并发生的频率也更低，但是由于段的数量很高并且搜索它们需要时间，导致查询速度降低。

2) 由于与上述相同的原因，低合并因子导致索引性能差但查询速度更快。

我还了解到，合并是在后台并行发生的，而不是索引请求的一部分。

问题：

1）当我的合并因子较低时，导致索引性能低的原因是什么？必须更频繁地将索引写入磁盘或合并？写入磁盘是可以理解的瓶颈。但是，如果频繁合并也是在后台发生的一个原因，那么它也应该减慢查询速度，因为查询线程也将与合并线程一起争用 CPU。

2）当段合并发生时查询是否被阻塞？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-10T09:16:41.773

1）频繁合并（低合并因子）导致索引性能低。但是低合并因子可能会提高搜索性能，因为要搜索的段更少

2)没有

# java - 如何替换字符串中的不同文本

> ID：14251986
> 
> 赞同：0
> 
> 时间：2013-01-10T06:23:44.477
> 
> 标签：java, regex, replace

我有这个 HTML 部分以字符串形式呈现给我。

```
<h1 id="Table1">Hello And welcome</h1>
<h1 id="Table2">Hello And welcome</h1>
<h1 id="Table3">Hello And welcome</h1>
<h1 id="Table4">Hello And welcome</h1> 
```

我正在尝试`id="*"`从上面的字符串中删除该属性。所以最终的字符串应该只包含这个：

```
<h1>Hello And welcome</h1>
<h1>Hello And welcome</h1>
<h1>Hello And welcome</h1>
<h1>Hello And welcome</h1> 
```

我正在使用该`replaceAll()`方法，但无法构建正则表达式来执行此操作。请指教。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-10T06:25:54.187

```
String result = subject.replaceAll("<h1 id=\"[^\"]*\">", "<h1>"); 
```

应该适用于这个简单的场景。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-10T06:31:32.330

```
 String s = 
                    "<h1 id=\"Table1\">Hello And welcome</h1>"+
                    "<h1 id=\"Table2\">Hello And welcome</h1>"+
                    "<h1 id=\"Table3\">Hello And welcome</h1>"+
                    "<h1 id=\"Table4\">Hello And welcome</h1>";
    System.out.println(s.replaceAll("\\sid=\".*?\"", "")); 
```

输出

```
<h1>Hello And welcome</h1><h1>Hello And welcome</h1><h1>Hello And welcome</h1><h1>Hello And welcome</h1> 
```

# javascript - 在不依赖于浏览器的情况下保持浏览器中的输入值不变

> ID：14251987
> 
> 赞同：0
> 
> 时间：2013-01-10T06:24:07.413
> 
> 标签：javascript, jquery, html, cross-browser

用户输入的值`<input/>`在刷新页面后需要保持不变。

为了保持跨浏览器的兼容性，预计应避免浏览器依赖性。（例如：cookies、localStorage 不是解决方案。）任何人都让我知道如何实现这一点。JavaScript、Jquery 都可以使用，但应该是浏览器兼容的。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-10T06:45:01.100

这应该让你开始。您可以在 URL 中使用 # 符号向 URL 添加文本，而无需离开页面。然后在重新加载页面时，您可以将文本从 URL 中拉出。

**HTML 和 Javascript 代码：**

```
Type something in the box below and then refresh the page:<br>
<input type="text" id="myTextBox" onkeyup="saveValue();">

<script type="text/javascript">
    var originalLocation = document.location.href;
    var myTextBox = document.getElementById('myTextBox');

    function saveValue(){
        document.location.href = originalLocation + "#" + myTextBox.value;
    }

    if(document.location.href.indexOf("#") > -1){
        myTextBox.value = document.location.href.split("#")[1];
    }
</script> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-10T07:46:26.137

[这](http://jsfiddle.net/VDRKQ/show/)是一个使用 localStorage 的快速演示（在除 IE<=7 之外的所有浏览器中都可用），它依赖于[这个](https://stackoverflow.com/a/1490431/1726343)基本插件来序列化和恢复表单值。在输入中输入一些信息后尝试刷新页面：

HTML：

```
<form>
  <label for="name">Name:
    <input type="text" id="name" name="name" />
  </label>
  <br/>
  <label for="email">Email:
    <input type="text" id="email" name="email" />
  </label>
</form> 
```

JS：

```
$(':input').on('input change keyup', function(){
  localStorage.formData = JSON.stringify($('form').values());
  console.log(localStorage.formData);
});
if(localStorage.formData){
  $('form').values(JSON.parse(localStorage.formData));
} 
```