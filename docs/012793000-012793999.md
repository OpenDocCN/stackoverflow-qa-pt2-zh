# StackOverflow 问答 12793000-12793999

# android - 需要帮助来显示来电者信息

> ID：12793001
> 
> 赞同：2
> 
> 时间：2012-10-09T04:52:37.493
> 
> 标签：android, call, toast

我正在开发一个应用程序，它将显示来电的服务提供者（如 Vodaphone 等）信息。我用吐司完成了它。使用以下代码

```
 TelephonyManager telephonyManager = (TelephonyManager)getSystemService(Context.TELEPHONY_SERVICE);
                PhoneStateListener callStateListener = new PhoneStateListener() {
                public void onCallStateChanged(int state, String incomingNumber) 
                {
                        // TODO React to incoming call.

                        if(state==TelephonyManager.CALL_STATE_RINGING)
                        {
                                Toast.makeText(getApplicationContext(),finder.find(incomingNumber), Toast.LENGTH_LONG).show();

                        }

                }
                };
                telephonyManager.listen(callStateListener,PhoneStateListener.LISTEN_CALL_STATE); 
```

问题是吐司在很短的时间内可见。我想让它可见，直到用户没有接到电话（即直到电话响起，一旦收到吐司应该消失）。

我应该怎么办。

我可以使用其他一些控件，例如对话框等吗？

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-09T04:56:06.093

在处理程序线程中运行 toast，如下所示：

onclick 呼叫按钮尝试以下操作：

```
 Button call = (Button) findViewById(R.id.call);
    call.setOnClickListener(new OnClickListener() {

        @Override
        public void onClick(View v) {
            //call the user function to make call

        }
    }); 
```

并在您的课程中添加此方法：

```
 private final Runnable mRunnable = new Runnable() {

    public void run() {
            Toast.makeText(getApplicationContext(),finder.find(incomingNumber), Toast.LENGTH_LONG).show();
        mHandler.postDelayed(mRunnable, 1000);
    }

}; 
```

并在点击结束按钮或用户接听电话后取消您的吐司：

```
 Button end= (Button) findViewById(R.id.end);
    end.setOnClickListener(new OnClickListener() {

        @Override
        public void onClick(View v) {
            //call the function to end the call if the other user dont receive

        }
    }); 
```

否则像你的函数一样使用：

```
 if(state==TelephonyManager.CALL_STATE_RINGING)
                    {
                            mHandler.postDelayed(mRunnable, 1000);

                    } 
```

# android - 如何在android中绕过textview一侧的角落

> ID：12793006
> 
> 赞同：16
> 
> 时间：2012-10-09T04:53:15.360
> 
> 标签：android, android-layout

我想对文本视图的唯一一侧进行舍入，例如从左上角开始，从右上角开始一轮，我使用此代码。但它不起作用。

```
<?xml version="1.0" encoding="utf-8"?>
<shape xmlns:android="http://schemas.android.com/apk/res/android" >

<solid android:color="@color/login_layout" />

<stroke
        android:width="1dp"
        android:color="@color/login_layout" />

<padding
        android:bottom="1dp"
        android:left="1dp"
        android:right="1dp"
        android:top="1dp" />

<corners
        android:bottomLeftRadius="0dip"
        android:bottomRightRadius="0dip"
        android:topLeftRadius="10dip"
        android:topRightRadius="10dip" />

</shape> 
```

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-10-09T04:57:39.243

有时它不会在模拟器和图形布局中显示尝试在真实设备中运行代码并检查

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2012-10-09T04:59:17.593

请尝试这种方式..

texttextshape.xml 文件。

```
<?xml version="1.0" encoding="utf-8"?>
<shape xmlns:android="http://schemas.android.com/apk/res/android"

    android:shape="rectangle" >

    <solid android:color="#FFFFFF" />
    <corners
        android:bottomLeftRadius="5dp"
        android:bottomRightRadius="5dp"
        android:topLeftRadius="5dp"
        android:topRightRadius="5dp"
         />

</shape> 
```

并设置 Text_view android:background="@drawable/texttextshape"

我觉得对你有帮助。。

* * *

## 回答 #3

> 赞同：5
> 
> 时间：2012-10-09T05:05:03.163

Change,

```
<corners
    android:bottomLeftRadius="0dip"
    android:bottomRightRadius="0dip"
    android:topLeftRadius="10dip"
    android:topRightRadius="10dip" /> 
```

to

```
<corners
    android:radius="5dip"
    android:bottomLeftRadius="0dip"
    android:bottomRightRadius="0dip"
    android:topLeftRadius="10dip"
    android:topRightRadius="10dip" /> 
```

Actually this is a bug in android and you have to manually set the `radius` attribute to some random value explicitly before applying other radius values.

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2012-10-09T06:01:46.150

最简单的解决方案是制作一个圆角的图像并将其设置为 textView 的背景。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-10-09T05:03:21.443

make one xml in drawable folder.. suppose round.xml . Then edit it as below..

```
<?xml version="1.0" encoding="UTF-8"?>
<shape 
    xmlns:android="http://schemas.android.com/apk/res/android">
    <stroke android:width="1dip" android:color="#A6A6A6" />
    <solid 

        android:color="#ffffff"
        />
    <corners 
        android:topLeftRadius="15px" 
        android:bottomLeftRadius="15px"
        />

     <padding
     android:top="3dp"
     android:bottom="3dp"
     />
</shape> 
```

Then in background of textview set this xml.

# parsing - 读取从 HTTP 请求创建的 DOM 中相对链接的 href 属性

> ID：12793007
> 
> 赞同：1
> 
> 时间：2012-10-09T04:53:15.533
> 
> 标签：parsing, google-chrome, dom, href

在 Chrome 扩展程序中，我需要我的背景页面来检索 HTML 文档并查看该文档中出现在特定锚标记中的文本。锚标记没有 ID 属性，但可以通过其 href 内容来识别。为了与其余代码保持一致，我想通过从 XMLHttpRequest 的结果创建的文档对象来处理检索此信息。

我的问题是，当我在创建的 DOM 上调用 getElementsByTagName("a")，然后搜索结果元素的 href 属性时，只有具有绝对 URL 的标签才会返回有效的 href 值，而具有相对 URL 的标签返回空 href 值。我需要找到的锚标记是具有相对 URL 的标记之一。

这是重现错误的最简单形式的代码。有谁知道为什么会发生这种情况或如何编写修复程序，最好不要放弃 DOM 解析？

```
function lookfor(linkContents, inURL) {
    var xhr = new XMLHttpRequest();
    xhr.onreadystatechange = function(data) {
        if (xhr.readyState == 4) {
            if (xhr.status == 200) {
                var doc = document.implementation.createHTMLDocument("");
                doc.documentElement.innerHTML = xhr.responseText;

                // Find Link in DOM of Document Created From HTTPRequest
                var found = -1;
                var links = doc.getElementsByTagName("a");
                console.log(links);
                for(var i = 0; i < links.length; i++) {
                    if (links[i].href) {
                        console.log(i + " " + links[i].href);
                        if (links[i].href.indexOf(linkContents) > -1) {
                            found = i;
                        }
                    }
                }
                if (found > -1) {
                    alert(links[found].innerHTML);
                }
            }
        }
    }
    xhr.open('GET', inURL, true);
    xhr.send();
} 
```

**[更新]**

基于这个答案，我现在可以使用以下代码解决这个问题： [How do I do OuterHTML in firefox?](https://stackoverflow.com/questions/1700870/how-do-i-do-outerhtml-in-firefox)

```
function getHref(anchor) {
    var href =
        ((new XMLSerializer().serializeToString(anchor) || "")
            .match(/href=("[^"'<>\s]+"|'[^"'<>\s]+'|[^"'<>\s]+)/i) || [""])[0]
                .replace(/(href=|'|")/ig, "")
    ;
    if (href != "") return href;
} 
```

有趣的是，它不适用于类型检查。不会产生 href 值的相同相对链接，也没有 typeof 'Anchor'

# ruby-on-rails - rails 应用程序未读取 env['GMAIL_USERNAME']

> ID：12793009
> 
> 赞同：0
> 
> 时间：2012-10-09T04:53:37.103
> 
> 标签：ruby-on-rails, ruby-on-rails-3

因此，当有人填写与我们联系的表格时，我尝试发送电子邮件，但是当我添加时：

```
export GMAIL_USERNAME="myapp@domain.com"
export GMAIL_PASSWORD="secret" 
```

对我

```
~/.bashrc 
```

文件，并将我的`development.rb`文件设置如下，我的应用程序返回一个

```
Net::SMTPAuthenticationError 530-5.5.1 Authentication Required 
```

但是当我用它的实际值替换`ENV["GMAIL_USERNAME"]`& `ENV["GMAIL_PASSWORD"]`in`development.rb`时，我发送电子邮件就没有问题了。添加到`~./bashrc`文件中是否不能确保`ENV["GMAIL_USERNAME"]`&`ENV["GMAIL_PASSWORD"]`被真实值替换？有人可以帮忙吗？

我已经尝试了[谷歌的说明](https://support.google.com/mail/bin/answer.py?hl=en&answer=14257)`ENV["GMAIL_USERNAME"]`，但是当我使用&时它不起作用`ENV["GMAIL_PASSWORD"]`（而不是它们的实际值）。

这是我`development.rb`文件的相关部分：

```
 # Raise error if the mailer can't send
  config.action_mailer.raise_delivery_errors = true

  config.action_mailer.perform_deliveries = true
  config.action_mailer.default :charset => "utf-8"

  # Use SMTP to send mail
  config.action_mailer.delivery_method = :smtp

  # Use awesomeness@novulty.com (google app) to send smtp mail
  config.action_mailer.smtp_settings = {
    :address              => "smtp.gmail.com",
    :port                 => 587,
    :domain               => "domain", # real domain name in my file
    :user_name            => ENV["GMAIL_USERNAME"],
    :password             => ENV["GMAIL_PASSWORD"],
    :authentication       => :plain,
    :enable_starttls_auto => true
  }

  # Specify what domain to use for mailer URLs
  config.action_mailer.default_url_options = {
    host: "localhost:3000"
  } 
```

谢谢！

## 更新

我的 .bashrc 文件如下所示：

```
PATH=$PATH:$HOME/.rvm/bin # Add RVM to PATH for scripting
export GMAIL_USERNAME=***********
export GMAIL_PASSWORD=*********** 
```

但是当我打开终端并输入`env`时，`GMAIL_*`变量没有被列出，但 rvm 被添加到`PATH`. 这让我很困扰……哈哈。

再次感谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-09T07:28:20.457

实际上，事实证明我的 shell 没有读取`.bashrc`文件，所以我必须包含`source ~/.bashrc`在`~/.bash_profile`文件中。之后一切正常。感谢@David 的帮助！

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-09T05:06:20.093

看起来你试图在 Bash 中编写一些 ruby​​：不允许。设置环境变量的正确语法是：

```
export GMAIL_USERNAME=myapp@domain.com 
```

您可以运行`env`以验证它是否已正确设置。

# android - 即使手指抬起，Android Listview Selected Item 颜色也必须保持更改

> ID：12793012
> 
> 赞同：1
> 
> 时间：2012-10-09T04:53:51.163
> 
> 标签：android, listview, layout

我关注了很多像这样的问题 1 [change color of selected listview item](https://stackoverflow.com/questions/8442999/change-color-of-selected-listview-item)，但没有发现任何有用的东西。

我有一个列表视图，我想要的是，即使用户抬起手指，所选项目也必须突出显示，例如蓝色。

这是我在drawable中的row_color.xml

```
<?xml version="1.0" encoding="utf-8"?>  
<selector xmlns:android="http://schemas.android.com/apk/res/android">

    <item android:state_pressed="false" android:state_focused="false"
        android:drawable="@android:color/transparent" />

    <item android:state_pressed="true" android:drawable="@color/light_sea_green" />

    <item android:state_selected="true" android:drawable="@color/light_sea_green" />

</selector> 
```

这是我膨胀的布局

```
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:orientation="horizontal" 
    android:background="@drawable/row_color">

    <ImageView
        android:id="@+id/imageView_game_row_face"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_alignParentLeft="true"
        android:layout_alignParentTop="true"
        android:layout_marginBottom="4dp"
        android:layout_marginTop="4dp"
        android:src="@drawable/af025501" />

</LinearLayout> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-09T04:58:18.950

将此添加到您的选择器

```
<item android:drawable="@android:color/transparent" /> 
```

这将是您的默认可绘制对象。

你可以删除

```
 <item android:state_pressed="false" android:state_focused="false"
        android:drawable="@android:color/transparent" /> 
```

更新->

这是一个可以帮助您的代码片段 -

```
public View getView(int position, View convertView, ViewGroup parent) {

/* Your code reusing code here */

    if(position == selectedItemPosition which you must save in onItemClickListener of the listview)
        convertView.setBackgroundResource(selecteditem background color);
    }
    else {
        convertView.setBackgroundResource(normal background color);
    }

} 
```

其他部分非常重要。否则会导致回收的视图带有相同的背景颜色。

# javascript - 滚动功能内的for循环

> ID：12793018
> 
> 赞同：0
> 
> 时间：2012-10-09T04:54:19.707
> 
> 标签：javascript, jquery

我如何在滚动循环中乘以函数？

我有：

```
$(window).scroll(function() {
b1Center = $("#block-1").offset().top - ( $(window).height() - divHeight )/2;
b1Bottom = $("#block-1").offset().top - $(window).height()
b1Top = $("#block-1").offset().top + divHeight;
if(getScrollTop() > b1Bottom && getScrollTop() < b1Top){
$("#block-1 .txt").css('marginTop', ( (getScrollTop()) *(1.6)) + 'px');
}... 
```

这需要一直在滚动功能内部，并且我对所有按钮都有相同的块，所以：

[http://jsfiddle.net/Dx3hr/27/](http://jsfiddle.net/Dx3hr/27/)

希望这会更有意义。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-09T05:00:46.657

尝试这个：

```
$(document).ready(function(){
    var divHeight = 700;
    $(window).scroll(function() {
        $(".blocks").each(function(){
            var this = $(this),
                Center = $(this).offset().top - ( $(window).height() - divHeight )/2,
                Bottom = $(this).offset().top - $(window).height(),
                Top = $(this).offset().top + divHeight;
            if(getScrollTop() > Bottom && getScrollTop() < Top){
                this.find('.txt').css('marginTop', ( (getScrollTop()) *(1.6)) + 'px');
            } 
        });    
    });    
}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-09T05:12:11.333

把它放在你的 .scrollTop() 循环中：

```
$('.block').each(function  () {
    var this_block = $(this);
    this_block.whateverFunction(you, want, to, do);
}); 
```

确保使用按钮的类而不是 id ...

# c - 链表的冒泡排序

> ID：12793019
> 
> 赞同：0
> 
> 时间：2012-10-09T04:54:20.393
> 
> 标签：c, list, sorting, linked-list

我正在研究链表的冒泡排序功能。这是函数的标题：

```
void sort(struct lnode** head,
          void (*swapPtr)(struct lnode** head, struct lnode* n1, struct lnode* n2),
          int (*comparePtr)(void* v1, void* v2)) 
```

我不太了解正在使用的函数指针。`swapPtr`是一个函数指针，指向用于交换列表中两个节点的函数。`comparePtr`用作指向三个函数之一的指针，所有这些函数都比较结构的某个成员中的值，该结构用于存储给定单词的计数和行号。可能性是：

1.  `countComp`— 取两个节点并比较单词出现的次数，如果相等则返回 0，如果 node1 > node 2 则返回 1，反之则返回 -1。

2.  `wordComp`— 比较给定节点的单词，返回值与上述相同。

3.  `lineComp`— 比较单词出现在与上述相同的返回值上的行号。

我了解冒泡排序的工作原理以及实现排序列表的一般步骤。我感到困惑的领域是如何打电话`comparePtr`以及我需要传递什么？我还有一个`test.c`用于测试我的排序方法的文件。我将如何调用排序函数？我不确定第二个和第三个参数应该传递什么。

如果有人可以帮助向我解释这一点，那就太好了！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-07-29T18:03:14.933

`void sortList(node *start) { head = start;`

 ````
for(ptr = head; ptr != NULL; ptr = ptr->next)
{
    for(newptr = ptr->next; newptr != NULL; newptr = newptr->next)
    {
        if(ptr->data > newptr->data)
        {
            int temp = ptr->data;
            ptr->data = newptr->data;
            newptr->data = temp;
        }
    }
} 
```` 

`}`

这个用于对给定链接列表进行排序的 C++ 函数运行良好。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-09T05:01:17.033

如果你有两个功能：

```
void intSwapPtr(struct lnode** head, struct lnode* n1, struct lnode* n2) {
    //definition
}

int intComparePtr(void* v1, void* v2) {
    //definition
} 
```

那么您可以通过将这些函数作为参数传递来调用 sort 。当用作参数时，函数将隐式转换为指向函数的指针。

```
swap(listHead, intSwapPtr, comparePtr) 
```

在 swap 的定义中，您可以调用`swapPtr`and`comparePtr`以与调用任何其他函数相同的方式，它们将被隐式取消引用。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-09T05:02:05.990

在我看来，创建此标头的人希望`comparePtr`获取两个指针并返回一个 int，告诉您哪个节点在节点排序中“更大”。

所以你会这样称呼它：

```
lnode * a = ...;
lnode * b = ...;
int comparison = comparePtr(a, b);
if (comparison < 0)
{
    // we know a comes after b
}
else if (comparison > 0)
{
    // we know a comes after b
}
else
{
    // a and b are equal as far as ordering is concerned
} 
```

这就像[红宝石飞船操作员](https://stackoverflow.com/questions/827649/ruby-spaceship-operator)。

# uikit - 如何使 UILabel 的文本与其边界顶部齐平？

> ID：12793020
> 
> 赞同：0
> 
> 时间：2012-10-09T04:54:26.027
> 
> 标签：uikit, uilabel

如果我创建一个`UILabel`，设置它`text`并调用，在顶部和顶部`sizeToFit`之间仍然有一个小的垂直间隙。如何消除垂直间隙，或计算它以便我可以自己扩展和消除它？`text``UILabel``bounds``-[UILabel drawTextInRect:]`

我制作了一个小型[测试应用程序](https://github.com/hborders/EliminateLabelTopVerticalSpace)来演示垂直空间问题。

![在此处输入图像描述](../Images/df16214ba30220475c4ac98422342c1f.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-09T05:56:18.210

iOS 会为所有字体创建合成前导，即使是那些没有在字体文件中指定前导的字体。

实现这一点的唯一方法是自己绘制标签文本。

# ios - 即使在重新加载后 UITableView 滚动也很缓慢

> ID：12793021
> 
> 赞同：0
> 
> 时间：2012-10-09T04:54:29.197
> 
> 标签：ios, uitableview

我有一个使用reuseCellIdentifier 并包含图像的UITableView（使用UIImageView+AFNetworking.h 异步下载）；正如所料，滚动一段时间后，当表格变长时，它会变得迟缓。我还将从 Internet 下载的每个单元格的数据存储在一个`NSMutableArray *_collection`.

我的问题是，我用下面的方法完全刷新表格后，滚动还是很慢。让它再次加载流畅的唯一方法是退出应用程序并重新打开它。我不明白为什么重新加载后滚动仍然缓慢......我正在使用ARC并且我做了泄漏配置文件并且当我重新加载表格时看不到任何内容..

```
-(void)refreshTable:(id)sender{
  [_collection removeAllObjects];
  _collection = nil;

  AFHTTPClient *httpClient = [[AFHTTPClient alloc] initWithBaseURL:[NSURL URLWithString:_baseURL]];
  [httpClient registerHTTPOperationClass:[AFJSONRequestOperation class]];
  NSMutableURLRequest *request = [httpClient requestWithMethod:@"POST" path:_path parameters:nil];
  AFJSONRequestOperation *operation = [AFJSONRequestOperation ...etc... 
```

更进一步，我还尝试在刷新时删除 tableview，如下所示，但这也无济于事......

```
-(void)refreshTable:(id)sender{
  [_tableView removeFromSuperView];
  _tableView = nil;
  _tableView = [[UITableView alloc] initWithFrame:self.view.bounds];
  [_tableView setDelegate:self];
  [_tableView setDataSource:self];
  [_tableView setRowHeight:kRowHeight];
  [_tableView setBackgroundColor:[UIColor clearColor]];
  [_tableView setSeparatorColor:[UIColor clearColor]];
  [_tableView setSeparatorStyle:UITableViewCellSeparatorStyleNone];
  [self.view addSubview:_tableView];

  [_collection removeAllObjects];
  _collection = nil;

  AFHTTPClient *httpClient = [[AFHTTPClient alloc] initWithBaseURL:[NSURL URLWithString:_baseURL]];
  [httpClient registerHTTPOperationClass:[AFJSONRequestOperation class]];
  NSMutableURLRequest *request = [httpClient requestWithMethod:@"POST" path:_path parameters:nil];
  AFJSONRequestOperation *operation = [AFJSONRequestOperation ...etc... 
```

刷新表格后滚动仍然缓慢的原因可能是什么？谢谢！

编辑

```
- (UITableViewCell *)tableView:(UITableView *)theTableView cellForRowAtIndexPath:(NSIndexPath *)indexPath
{
    CustomCell *cell = (CustomCell*)[theTableView dequeueReusableCellWithIdentifier:kCustomCellId];
    if (cell == nil)
    {
        NSArray *topLevelObjects = [[NSBundle mainBundle] loadNibNamed:@"CustomCell" owner:self options:nil];
        cell = (CustomCell*)[topLevelObjects objectAtIndex:0];
    }

    [self populate:cell atIndexPath:indexPath];
    [self loadImageForCell:cell];
    return cell;
}

- (void) populate:(UITableViewCell*)customCell atIndexPath:(NSIndexPath*)indexPath
{
    CustomCell *cell = (CustomCell*)customCell;

    if (indexPath.row % 2) {
        [cell.background setImage:[UIImage imageNamed:@"CellBgYellow"]];
    } else {
        [cell.background setImage:[UIImage imageNamed:@"CellBgOrange"]];
    }

    DataObject* thisDataObject = [_collection objectAtIndex:indexPath.row];
    cell.dataObject = thisDataObject;
    cell.titleLabel.text = [thisDataObject objectForKey:kCellTitle];
    cell.timestampLabel.text = [thisDataObject objectForKey:kCellTimestamp];
}

- (void) loadImageForCell:(CustomCell*)cell
{
    [cell.profilePic setImage:nil];
    NSString* profilePicURL = [cell.dataObject objectForKey:kCellProfilePicURL];    
    NSString* URL = [NSString stringWithFormat:@"%@%@", kBaseURL, profilePicURL];
    NSMutableURLRequest *profilePicRequest = [NSMutableURLRequest requestWithURL:[[NSURL alloc] initWithString:URL] cachePolicy:NSURLRequestUseProtocolCachePolicy timeoutInterval:30.0];
    [profilePicRequest setHTTPShouldHandleCookies:NO];    
    [cell.profilePic setImageWithURLRequest:profilePicRequest
                           placeholderImage:nil
                                    success:^(NSURLRequest *request, NSHTTPURLResponse *response, UIImage *image){
                                    }
                                    failure:^(NSURLRequest *request, NSHTTPURLResponse *response, NSError *error){
                                        NSLog(@"loadimageforcell error (%d): %@",error.code,error.localizedDescription);
                                    }];

    [cell.painting setImage:nil];
    NSString* paintingURL = [cell.dataObject objectForKey:kCellPaintingURL];
    URL = [NSString stringWithFormat:@"%@%@", kBaseURL, paintingURL];
    NSMutableURLRequest *paintingRequest = [NSMutableURLRequest requestWithURL:[[NSURL alloc] initWithString:URL] cachePolicy:NSURLRequestUseProtocolCachePolicy timeoutInterval:30.0];
    [paintingRequest setHTTPShouldHandleCookies:NO];
    [cell.spinner startAnimating];
    [cell.painting setImageWithURLRequest:paintingRequest
                           placeholderImage:nil
                                    success:^(NSURLRequest *request, NSHTTPURLResponse *response, UIImage *image){
                                        [cell.spinner stopAnimating];
                                        [cell.spinner removeFromSuperview];
                                    }
                                    failure:^(NSURLRequest *request, NSHTTPURLResponse *response, NSError *error){
                                        NSLog(@"loadimageforcell error (%d): %@",error.code,error.localizedDescription);
                                        [cell.spinner stopAnimating];
                                        [cell.spinner removeFromSuperview];
                                    }];
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-09T08:32:23.237

问题是2：

1.  发出图像请求的调用将占用一些 cpu %
2.  图像解码将占用另一个 cpu %

根据图像大小，您将不得不做各种事情。最简单和更明显的解决方案是在另一个线程中解压缩图像。这样你的主线程就不会被阻塞，你的滚动性能应该会得到不错的提升。

这里有一段代码可以帮助你：

```
dispatch_async(dispatch_get_global_queue(DISPATCH_QUEUE_PRIORITY_DEFAULT,0), ^(void) {
                    UIImage *cellImage = [UIImage imageWithContentsOfFile:imgFilePath];
                    dispatch_async(dispatch_get_main_queue(),^ {
                        cellImageView.image = cellImage;
                    } );
                }); 
```

如您所见，UIImage 是在后台线程中生成的，一旦我们对图像进行解码，我们就会将其分配给单元格。

在上面的示例中，图像是预先缓存的，imgFilePath 是图像被缓存的 docments 目录的路径。

您可以通过其他各种方式继续提高性能，例如使用 Loren Brichter 的 ABTableView 单元子类并使用 Core Graphics 绘制图像（也大大提高了性能）。最后，如果图像很大，您可以将整个单元格设置为 CATiledLayer 类的子类，这样图像的绘制也可以由系统在后台线程中完成...

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-09T07:54:55.093

不要在 cellForRowAtIndexPath 中加载图像。那只会杀死你的滚动。

要快速解决您的问题，请仅在 tableview 未滚动、完全停止时才加载图像。

更好的方法是重新思考你的设计。通过使用网络队列和延迟加载图像是要走的路。

查看 Lazy TableView 的苹果演示：http: [//developer.apple.com/library/ios/#samplecode/LazyTableImages/Introduction/Intro.html](http://developer.apple.com/library/ios/#samplecode/LazyTableImages/Introduction/Intro.html)

这教会了我很多，通过像你一样使用 ASIHTTPRequest，你甚至可以让这更简单。但是看代码，注释很好，很容易理解

** 更新，因为您使用的是 afnetwork

做这个 f.ex。在你的 cellForRowAtIndexPath 里面：

```
NSURLRequest *imagerequest = [NSURLRequest requestWithURL:[NSURL URLWithString:@"http://example.com/image.png"]];
AFImageRequestOperation *op = [AFImageRequestOperation imageRequestOperationWithRequest:imagerequest success:^(UIImage *image) {
    cell.imageview.image = image;
}]; 
```

# iphone - 需要 Xcode 项目的快速指导 - Deck of Cards

> ID：12793024
> 
> 赞同：0
> 
> 时间：2012-10-09T04:55:01.723
> 
> 标签：iphone, xcode, cocos2d-iphone

我是一个相当菜鸟的 Xcode/Cocos2d 程序员，我正试图围绕我刚刚开始的一个项目。

我的目标是在 Xcode 中制作一个 4 人纸牌游戏。玩家从一副牌中抽牌。一路上，获胜的玩家将收集“套”牌，从而获得积分。

考虑到这一点，我设想需要 9 个阵列：纸牌组、玩家 1 手牌、...、玩家 4 手牌、玩家 1 套牌、...、玩家 4 手牌。 *（我用“...”跳过了播放器 2 和 3 的信息）*

随着游戏的进行，卡片将从牌组转移到玩家的不同玩家的集合中。为此，卡片将从旧阵列中移除并添加到新阵列中。

我似乎在正确地思考这个问题吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-09T05:00:14.283

这是非常笼统的，有很多方法可以查看。

你的卡片元素可以有一个属性来指定哪个玩家拥有它们（一个所有者是套牌，另一个是弃牌堆）。

或者，更接近您的想法，您可以有一个地图，其中键是您的玩家（以及甲板和弃牌堆），并且地图值包含您的卡片的数组。

# solr - 在更新索引时无法从 dataimporter.request 中获取任何信息

> ID：12793025
> 
> 赞同：0
> 
> 时间：2012-10-09T04:55:11.257
> 
> 标签：solr, data-importer, delta-index

我是 SOLR 的新手，我对数据导入器的请求有疑问。

在我的`data-config.xml`，我有这样的东西

```
<entity name="content" pk="id" query="SELECT * FROM tableX"
    deltaQuery="SELECT max(id) AS id from ${dataimporter.request.dataView}"
    deltaImportQuery="SELECT * FROM tableX WHERE ${dataimporter.delta.id} &lt; id">
....
</entity> 
```

但是，每次我执行 delta-import ( `/dataimport?command=delta-import`) 时，它总是给我这样的异常：

```
Caused by: java.lang.RuntimeException:
    org.apache.solr.handler.dataimport.DataImportHandlerException: 
Unable to execute query: 
    SELECT max(id) AS id FROM  Processing Document # 1 
```

我认为存在此错误是因为系统无法识别`${dataimporter.request.dataView}`，但我不知道如何使其识别？

# javascript - 防止 jQuery 就绪处理程序触发

> ID：12793028
> 
> 赞同：3
> 
> 时间：2012-10-09T04:55:13.957
> 
> 标签：javascript, jquery, javascript-events

我有一种情况，在某种情况下，我希望任何 jQuery`ready`处理程序都不会在 DOMContentReady 事件上实际触发。这些处理程序绑定在各个地方，包括各种包含文件、插件等。因此，虽然我可以在页面顶部附近的脚本中设置某种全局变量，并`if`在每个绑定前设置一个条件来检查此变量`$(document).ready()`，但我宁愿不这样做。

理想情况下，我正在寻找两件事之一，

*   我可以在包含之前在 jQuery 对象上设置的一个属性，它会告诉它忽略对`.ready()`
*   我可以在文档末尾调用一个方法，在 DOMContentReady 触发之前的内联脚本中取消绑定`ready()`处理程序。

显而易见的，`$(document).unbind('ready')`不这样做，我猜是因为`.ready()`不是普通的事件绑定。

这可以做到吗？如果是这样，怎么做？

我有一个模糊的想法是扩展 jQuery 原型，并`ready()`用一种​​可以检查我将引入的新属性的方法替换。那有意义吗？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-10-09T05:00:21.343

你应该使用[holdready](http://api.jquery.com/jQuery.holdReady/)

```
$.holdReady(true);
$.getScript("myplugin.js", function() {
  $.holdReady(false);
}); 
```

# java - JTextField 限制字符量输入并仅接受数字

> ID：12793030
> 
> 赞同：5
> 
> 时间：2012-10-09T04:55:28.387
> 
> 标签：java, swing, jtextfield, documentfilter

这是我关于如何限制字符输入长度的代码

```
class JTextFieldLimit extends PlainDocument {
  private int limit;
  // optional uppercase conversion
  private boolean toUppercase = false;

  JTextFieldLimit(int limit) {
   super();
   this.limit = limit;
   }

  JTextFieldLimit(int limit, boolean upper) {
   super();
   this.limit = limit;
   toUppercase = upper;
   }

    @Override
  public void insertString
    (int offset, String  str, AttributeSet attr)
      throws BadLocationException {
   if (str == null) return;

   if ((getLength() + str.length()) <= limit) {
     if (toUppercase) str = str.toUpperCase();
     super.insertString(offset, str, attr);
     }
   }
} 
```

可以通过`txtSample.setDocument(new JTextFieldLimit(30));`

这就是我只接受数字的内容（它接受十进制，尽管 w/ci 不需要）

```
class NumericDocument extends PlainDocument {

     protected int decimalPrecision = 0;
     protected boolean allowNegative = false;

     public NumericDocument(int decimalPrecision, boolean allowNegative) {
          super();
          this.decimalPrecision = decimalPrecision;
          this.allowNegative = allowNegative;
     }

    @Override
     public void insertString(int offset, String str, AttributeSet attr) throws BadLocationException {
          if (str != null){
               if (StringFormat.isNumeric(str) == false && str.equals(".") == false && str.equals("-") == false){ //First, is it a valid character?
                    Toolkit.getDefaultToolkit().beep();
                    return;
               }
               else if (str.equals(".") == true && super.getText(0, super.getLength()).contains(".") == true){ //Next, can we place a decimal here?
                    Toolkit.getDefaultToolkit().beep();
                    return;
               }
               else if (StringFormat.isNumeric(str) == true && super.getText(0, super.getLength()).indexOf(",") != -1 && offset>super.getText(0, super.getLength()).indexOf(",") && super.getLength()-super.getText(0, super.getLength()).indexOf(".")>decimalPrecision && decimalPrecision > 0){ //Next, do we get past the decimal precision limit?
                    Toolkit.getDefaultToolkit().beep();
                    return;
               }
               else if (str.equals("-") == true && (offset != 0 || allowNegative == false)){ //Next, can we put a negative sign?
                    Toolkit.getDefaultToolkit().beep();
                    return;
               }

               super.insertString(offset, str, attr);
          }
          return;
     }
public static class StringFormat
{
    public StringFormat()
    {
    }
    public static boolean isNumeric(String str)
    {
        try
        {
            int x = Integer.parseInt(str);
            System.out.println(x); return true;
        } catch(NumberFormatException nFE)
        {
            System.out.println("Not an Integer"); return false;
        }
    }
}

} 
```

以及如何使用此代码：`txtSample.setDocument(new NumericDocument(0,false));`

现在的问题是`txtSample`只能`setDocument`一次。如何限制 jtextfield 长度并仅同时接受数字？或者有没有更简单的方法来做到这一点？谢谢。:D

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-10-09T05:05:52.833

你走在正确的轨道上，除了你会想要使用[DocumentFilter](http://docs.oracle.com/javase/7/docs/api/javax/swing/text/DocumentFilter.html)而不是实现你自己的文档。

[MDP 的Weblog](http://www.jroller.com/dpmihai/entry/documentfilter)有很多优秀的例子（包括限制长度和字符类型）。

现在对于您的问题，您可以创建级联过滤器，您可以将一系列过滤器链接在一起。

这将允许您依次调用每个过滤器。

```
public class ChainableFilter extends DocumentFilter {

    private List<DocumentFilter> filters;
    private AttributeSet attr;

    public ChainableFilter() {
        filters = new ArrayList<DocumentFilter>(25);
    }

    public void addFilter(DocumentFilter filter) {
        filters.add(filter);
    }

    public void removeFilter(DocumentFilter filter) {
        filters.remove(filter);
    }

    public void insertString(DocumentFilter.FilterBypass fb, int offset, String string, AttributeSet attr) throws BadLocationException {
        for (DocumentFilter filter : filters) {
            filter.insertString(fb, offset, string, attr);
        }
    }        

    public void remove(DocumentFilter.FilterBypass fb, int offset, int length) throws BadLocationException {
        for (DocumentFilter filter : filters) {
            filter.remove(fb, offset, length);
        }
    }

    public void replace(DocumentFilter.FilterBypass fb, int offset, int length, String text, AttributeSet attrs) throws BadLocationException {
        for (DocumentFilter filter : filters) {
            filter.replace(fb, offset, length, text, attrs);
        }
    }

} 
```

现在，如果过滤器可以真正告诉链它是否改变了文档，那就太好了，但我会留给你

**更新**

您所做的工作和`DocumentFilters`工作方式之间的基本概念几乎相同。好处是，您不会将自己限制在 a`PlainDocument`上，理论上您可以将其应用于 a `JTextPane`or `JEditorPane`。

过滤器链的基本思想很简单。

```
ChainableFilter chainableFilter = new ChainableFilter();
chainableFilter.addFilter(new RestrictedLengthFilter()); // User supplied filter 
chainableFilter.addFilter(new NumericFilter()); // User supplied filter 

((AbstractDocument)textField.getDocument()).setDocumentFilter(chainableFilter); 
```

至于实际的过滤器，我会查看我之前发布的链接。不过，您的想法正走在正确的轨道上

**更新**

```
SizeFilter sizeFilter = new SizeFilter(12);
NumberFilter numFilter = new NumberFilter();
ChainableFilter chainFilter = new ChainableFilter();
chainFilter.addFilter(sizeFilter);
chainFilter.addFilter(numFilter);

JTextField field = new JTextField();
((AbstractDocument) field.getDocument()).setDocumentFilter(chainFilter);

    public class NumberFilter extends DocumentFilter {

        private int decimalPrecision = 2;
        private boolean allowNegative = false;

        public NumberFilter() {
        }

        public NumberFilter(int decimals, boolean negatives) {
            decimalPrecision = decimals;
            allowNegative = negatives;
        }

        protected boolean accept(FilterBypass fb, int offset, String str) throws BadLocationException {
            boolean accept = true;    
            int length = fb.getDocument().getLength();
            String currentText = fb.getDocument().getText(0, length);

            if (str != null) {
                if (!isNumeric(str) && !str.equals(".") && !str.equals("-")) { //First, is it a valid character?
                    Toolkit.getDefaultToolkit().beep();
                    accept = false;
                } else if (str.equals(".") && currentText.contains(".")) { //Next, can we place a decimal here?
                    Toolkit.getDefaultToolkit().beep();
                    accept = false;
                } else if (isNumeric(str)
                                && currentText.indexOf(",") != -1
                                && offset > currentText.indexOf(",")
                                && length - currentText.indexOf(".") > decimalPrecision
                                && decimalPrecision > 0) { //Next, do we get past the decimal precision limit?
                    Toolkit.getDefaultToolkit().beep();
                    accept = false;
                } else if (str.equals("-") && (offset != 0 || !allowNegative)) { //Next, can we put a negative sign?
                    Toolkit.getDefaultToolkit().beep();
                    accept = false;
                }
            }
            return accept;
        }

        @Override
        public void insertString(FilterBypass fb, int offset, String str, AttributeSet as) throws BadLocationException {
            if (accept(fb, offset, str)) {
                super.insertString(fb, offset, str, as);
            }
        }

        @Override
        public void replace(DocumentFilter.FilterBypass fb, int offset, int length, String text, AttributeSet attrs) throws BadLocationException {
            if (accept(fb, offset, text)) {
                super.replace(fb, offset, length, text, attrs);
            }
        }

        public boolean isNumeric(String str) {
            try {
                int x = Integer.parseInt(str);
                System.out.println(x);
                return true;
            } catch (NumberFormatException nFE) {
                System.out.println("Not an Integer");
                return false;
            }
        }
    }

    public class SizeFilter extends DocumentFilter {

        private int maxCharacters;

        public SizeFilter(int maxChars) {
            maxCharacters = maxChars;
        }

        public void insertString(FilterBypass fb, int offs, String str, AttributeSet a)
                        throws BadLocationException {

            if ((fb.getDocument().getLength() + str.length()) <= maxCharacters) {
                super.insertString(fb, offs, str, a);
            } else {
                Toolkit.getDefaultToolkit().beep();
            }
        }

        public void replace(FilterBypass fb, int offs, int length, String str, AttributeSet a)
                        throws BadLocationException {

            if ((fb.getDocument().getLength() + str.length()
                     - length) <= maxCharacters) {
                super.replace(fb, offs, length, str, a);
            } else {
                Toolkit.getDefaultToolkit().beep();
            }
        }
    } 
```

同样，我知道它可以编译，但我没有测试过它（特别是数字过滤器），但这将是一个很好的调试练习；）

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-16T10:09:33.030

[JFormattedTextField](http://docs.oracle.com/javase/6/docs/api/javax/swing/JFormattedTextField.html)

```
 JTextComponent txt = new JFormattedTextField( new LimitedIntegerFormatter(limit) );
  txt.addPropertyChangeListener("value", yourPropertyChangeListener);

import javax.swing.text.DefaultFormatter;
import java.text.ParseException;

public class LimitedIntegerFormatter extends DefaultFormatter {

  static final long serialVersionUID = 1l;
  private int limit;

  public LimitedIntegerFormatter( int limit ) {
    this.limit = limit;
    setValueClass(Integer.class);
    setAllowsInvalid(false);
    setCommitsOnValidEdit(true);
  }
  @Override
  public Object stringToValue(String string) throws ParseException {
    if (string.equals("")) return null;
    if (string.length() > limit) throw new ParseException(string, limit);
    return super.stringToValue(string);
  }
} 
```

yourPropertyChangeListener 将被调用

新的 PropertyChangeEvent（“值”，整数 oldValue，整数 newValue）

（ oldValue 或 newValue 在 "" 文本案例中将为空）

每次有效编辑后

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-07T20:43:42.990

```
 import java.awt.event.KeyAdapter;    
    import java.awt.event.KeyEvent;    
    import javax.swing.JTextField;        

    public class Validation {

         public static void validateInt(final JTextField txt){
            txt.addKeyListener(new KeyAdapter() {

                   @Override
                   public void keyTyped(KeyEvent e) {
                        char c = e.getKeyChar();
                        if ( ((c < '0') || (c > '9')) 
                             && (c != KeyEvent.VK_BACK_SPACE)) {
                        e.consume();  // ignore event
                   }
               }
            });
        }

        public static void validatelength(final JTextField txt,final int size){    
              txt.addKeyListener(new KeyAdapter() {

              @Override 
              public void keyTyped(KeyEvent e) {     
                  String text = txt.getText();  
                  int length = text.length();  
                  if (length == size) {  
                          e.consume();// ignore event  
                  }
              }   
        });
     }  
   } 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-03-07T21:21:40.430

```
public static boolean validateInt(String txt) {

    String regx = "^[(0-9),;]+$";
    Pattern pattern = Pattern.compile(regx, Pattern.CASE_INSENSITIVE);
    Matcher matcher = pattern.matcher(txt);
    boolean b = matcher.find();
    return b;

} 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2015-12-02T10:53:44.397

```
import java.awt.Component;
import java.awt.KeyboardFocusManager;
import java.awt.event.KeyEvent;
import javax.swing.JTextField;
import javax.swing.KeyStroke;
import javax.swing.SwingUtilities;
import javax.swing.text.AbstractDocument;
import javax.swing.text.AttributeSet;
import javax.swing.text.BadLocationException;
import javax.swing.text.Document;
import javax.swing.text.DocumentFilter;
import javax.swing.text.JTextComponent;
import org.apache.commons.lang.StringUtils;

public class NumberTextField extends JTextField {

    protected int maxlength = 0;

    public NumberTextField() {
        this(10);
    }

    public NumberTextField(int length) {
        super();
        this.maxlength = length;
        initializeForNumbers();
    }

    public void setMaxLength(int length) {
        this.maxlength = length;
    }

    protected boolean processKeyBinding(KeyStroke ks, KeyEvent e, int condition, boolean pressed) {
        int keyCode = e.getKeyCode();
        if (keyCode == KeyEvent.VK_ENTER || keyCode == KeyEvent.VK_ESCAPE) {
            return false;
        }
        return super.processKeyBinding(ks, e, condition, pressed);
    }

    private void initializeForNumbers() {
        Document document = getDocument();
        if (document != null) {
            ((AbstractDocument) document).setDocumentFilter(new DocumentHandler());
        }
    }

    private class DocumentHandler extends DocumentFilter {

        public void insertString(DocumentFilter.FilterBypass fb,
                int offset, String string, AttributeSet attr)
                throws BadLocationException {
            if (string == null) {
                return;
            } else {
                replace(fb, offset, 0, string, attr);
            }

        }

        public void remove(DocumentFilter.FilterBypass fb,
                int offset, int length)
                throws BadLocationException {

            replace(fb, offset, length, "", null);
        }

        public void replace(final DocumentFilter.FilterBypass fb,
                int offset, int length, String text, AttributeSet attrs)
                throws BadLocationException {

            Document doc = fb.getDocument();
            int currentLength = doc.getLength();
            String currentContent = doc.getText(0, currentLength);
            String before = currentContent.substring(0, offset);
            String after = currentContent.substring(length + offset, currentLength);
            String newValue = before + (text == null ? "" : text) + after;
            if (newValue.length() > maxlength) {
                return;
            } else {
                checkInput(newValue, offset);
                fb.replace(offset, length, text, attrs);

                if (doc.getLength() >= maxlength) {
                    SwingUtilities.invokeLater(new Runnable() {
                        public void run() {
                            Component c = KeyboardFocusManager.getCurrentKeyboardFocusManager().getFocusOwner();
                            if (c != null && c instanceof JTextComponent) {
                                JTextComponent component = (JTextComponent) c;
                                Document compDoc = component.getDocument();
                                if (compDoc.equals(fb.getDocument())) {
                                    KeyboardFocusManager.getCurrentKeyboardFocusManager().focusNextComponent();
                                }
                            }
                        }
                    });
                    return;
                }
            }
        }

        private void checkInput(String proposedValue, int offset)
                throws BadLocationException {
            if (proposedValue.length() > 0 && !StringUtils.isNumeric(proposedValue)) {
                throw new BadLocationException(
                        proposedValue, offset);
            }
        }
    }
} 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2015-12-02T10:28:32.023

我目前正在使用数独求解器进行一个小项目。通过检查输入是否在带有数字的字符串数组中，我将输入限制为仅数字。我是直接在 JTextFieldLimit 中写的。

```
class JTextFieldLimit extends PlainDocument {

    private int limit;

    //Added the following 2 lines
    String[] numbers = {"0", "1", "2", "3", "4", "5", "6", "7", "8", "9"};
    boolean isAccepted = false;
    //

    JTextFieldLimit(int limit) {
        super();
        this.limit = limit;
    }

    public void insertString(int offset, String str, AttributeSet attr) throws BadLocationException {
        if (str == null)
            return;

        //And the following 2 lines
        for (String thisnumber : numbers) {
            isAccepted = str.equals(thisnumber);
            if (isAccepted) {
                //
                if ((getLength() + str.length()) <= limit) {
                    super.insertString(offset, str, attr);
                }
            }
        }
    }
} 
```

* * *

## 回答 #7

> 赞同：-1
> 
> 时间：2012-12-17T12:33:47.703

```
yourJTextField.addKeyListener(new KeyAdapter()
        {
            @Override
            public void keyTyped(KeyEvent e)
            {
                // Here limiting the character of your number. for examlpe this wil only accept one digit
                if (yourJTextField.getText().length() == 1) {
                    e.consume();
                }

                // Here limiting your input to only number
                char c = e.getKeyChar();
                if(!((c >= '0') && (c <= '7') || (c == KeyEvent.VK_BACK_SPACE) || (c == KeyEvent.VK_DELETE)))
                {
                    //do what so ever you want
                }
                else
                {
                    //do what so ever you want
                }
            }
        }) 
```

# java - 调用另一个应用程序的类文件

> ID：12793032
> 
> 赞同：-1
> 
> 时间：2012-10-09T04:55:40.087
> 
> 标签：java, javascript, class, jsp

我的应用程序1 上有一个JSP。我想从另一个应用程序 2 调用一个类文件，以便在单击应用程序 1 中的按钮时执行插入操作。

有人可以给我一个想法，我该怎么做？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-09T05:02:48.627

创建该类的对象（假设类可访问）并调用该方法（假设方法可访问）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-09T05:43:36.127

据我所知，你有两个选择。

1）使您想从application2调用的类对application1可用，然后调用它。

2）在application2中将类的功能公开为web service，然后从application1中使用

# wpf - 使用 WPF 绘制 3D 管道

> ID：12793037
> 
> 赞同：0
> 
> 时间：2012-10-09T04:56:04.387
> 
> 标签：wpf

我需要使用 wpf 应用程序绘制类似 3d 管道的图像，并将其嵌入到 wpf 中的自定义控件中。我尝试使用.xaml 文件并绘制了类似管道的东西，但无法获得全尺寸的正确图像。有人可以帮我怎么做..用图形..

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-01T13:19:34.930

xml:

```
<Window x:Class="WpfApplication1.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:ht="clr-namespace:HelixToolkit.Wpf;assembly=HelixToolkit.Wpf" 
        Title="MainWindow" Height="350" Width="525">

    <Grid>
        <ht:HelixViewport3D x:Name="MainViewPort">
            <ht:SunLight  />
            <ht:GridLinesVisual3D/>
        </ht:HelixViewport3D>
    </Grid>
</Window> 
```

后面的代码：

```
using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Windows;
using System.Windows.Controls;
using System.Windows.Data;
using System.Windows.Documents;
using System.Windows.Input;
using System.Windows.Media;
using System.Windows.Media.Imaging;
using System.Windows.Navigation;
using System.Windows.Shapes;
using HelixToolkit.Wpf;
using System.Windows.Media.Media3D;

namespace WpfApplication1
{

    public partial class MainWindow : Window
    {

        public MainWindow()
        {
            InitializeComponent();
            DataContext = this;
            DrawMeshes();
        }

        private void DrawMeshes()
        {
            int tubeDiameter = 15;

            TubeVisual3D tube1 = new TubeVisual3D();
            tube1.Path = new Point3DCollection();
            tube1.Path.Add(new Point3D(-15, 0, 0));
            tube1.Path.Add(new Point3D(15, 0, 0));
            tube1.Diameter = tubeDiameter;
            tube1.Fill = Brushes.Red;
            tube1.IsPathClosed = false;

            MainViewPort.Children.Add(tube1);
        }
    }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-09T08:45:04.747

看看[Helix 工具包](http://helixtoolkit.codeplex.com/)。它对 wpf 3D 有一些很好的控制，包括一个管道示例。

# arrays - AS3 根据 y 位置和静止物体改变深度

> ID：12793040
> 
> 赞同：0
> 
> 时间：2012-10-09T04:56:10.813
> 
> 标签：arrays, actionscript-3, sorting, depth

这有点难以描述。

我正在开发一款游戏，该游戏通过根据对象的 y 位置排列对象来模拟一些景深。

有一个静态的背景舞台，角色会产生、消失并四处移动。

这些字符在彼此前面时应正确排序。

我还需要能够使用条件检查来确定角色应该在某些静态对象的后面还是前面。

我已经尝试通过将文件与游戏分开来说明我的问题，从而将问题分解为最基本的问题。

* * *

在这个例子中，我在舞台上有两个影片剪辑，bgBox 和 fgBox，它们分别是黑色和黄色。

在我的代码中，我创建了另外 4 个框，每个框位于不同的 y 位置。其中 3 个旨在整齐地分层在 bgBox 和 fgBox 之间，而第四个是紫色的，旨在位于其他所有内容之上。

这是我导出此内容时发生的情况： [http ://www.fileize.com/files/32d824d3/992/sorting_test.swf](http://www.fileize.com/files/32d824d3/992/sorting_test.swf)

这是我的代码：

```
var boxList:Array = new Array();
var unsortedBoxList:Array = new Array();
var initialSort:Boolean = true;

var blue_box:Shape = new Shape();
var red_box:Shape = new Shape();
var green_box:Shape = new Shape();
var purple_box:Shape = new Shape();

blue_box.graphics.lineStyle(1);
blue_box.graphics.beginFill(0x0000FF, 1);
blue_box.graphics.drawRect(200,150,100,100);
red_box.graphics.lineStyle(1);
red_box.graphics.beginFill(0xFF0000, 1);
red_box.graphics.drawRect(220,170,100,100);
green_box.graphics.lineStyle(1);
green_box.graphics.beginFill(0x00FF00, 1);
green_box.graphics.drawRect(240,190,100,100);
purple_box.graphics.lineStyle(1);
purple_box.graphics.beginFill(0xFF00FF, 1);
purple_box.graphics.drawRect(220,230,100,100);

trace("adding boxes----");
addChild(green_box);
trace("green: "+green_box.name);
boxList.push(green_box);
addChild(blue_box);
trace("blue: "+blue_box.name);
boxList.push(blue_box);
addChild(purple_box);
trace("purple: "+purple_box.name);
boxList.push(purple_box);
addChild(red_box);
trace("red: "+red_box.name);
boxList.push(red_box);
trace("-----------------");

addEventListener(Event.ENTER_FRAME, loop, false, 0, true);

function loop(e:Event):void
{
    sortObjects();
}

function sortObjects():void {
    if(initialSort == true){
        setChildIndex(bgBox,0);
        setChildIndex(fgBox,1);

        trace("initial sort----"); 
        trace("   - bgBox index: "+getChildIndex(bgBox));
        trace("   - fgBox index: "+getChildIndex(fgBox));
        trace("----------------");

        initialSort = false;
    }

    boxList.sortOn(y, Array.NUMERIC);
    trace("----------");
    trace("boxList sorted: ");
    for each(var j:Shape in boxList){
        trace(j.name);
    }
    trace("-----");

    trace("   - bgBox index: "+getChildIndex(bgBox));
    for each(var i:Shape in boxList){
        if(i.y > 220){
            trace("y > 220; purple box"); //never triggers? the purple box should be on top of everything.
            setChildIndex(i,(getChildIndex(fgBox)+1));
        }
        else 
        {
            setChildIndex(i,getChildIndex(fgBox));
            //all other boxes should be arranged neatly inbetween the black and yellow boxes.
        }

        trace(i.name+" index: "+getChildIndex(i));
    }
    trace("   - fgBox index: "+getChildIndex(fgBox));
} 
```

这是我在输出中得到的，这很奇怪：

```
adding boxes----
green: instance5
blue: instance3
purple: instance6
red: instance4
-----------------
initial sort----
      - bgBox index: 0
      - fgBox index: 1
----------------
----------
boxList sorted: 
instance6
instance3
instance5
instance4
-----
      - bgBox index: 0
instance6 index: 1
instance3 index: 2
instance5 index: 3
instance4 index: 4
      - fgBox index: 5
----------
boxList sorted: 
instance5
instance3
instance6
instance4
-----
      - bgBox index: 0
instance5 index: 5
instance3 index: 4
instance6 index: 3
instance4 index: 2
      - fgBox index: 1
----------
boxList sorted: 
instance6
instance3
instance5
instance4
-----
      - bgBox index: 0
instance6 index: 1
instance3 index: 2
instance5 index: 3
instance4 index: 4
      - fgBox index: 5 
```

正如您现在所看到的（感谢用户 Marty Wallace 的想法），对象没有按 Y 值正确排序。

这是源文件的链接，以防万一： [http ://www.fileize.com/files/edc632f3/2e6/sorting_test.fla](http://www.fileize.com/files/edc632f3/2e6/sorting_test.fla)

* * *

**谁能向我解释为什么会这样？任何人都可以为这个问题提供解决方案吗？**

提前致谢。这让我难倒了好几天。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-09T05:04:38.743

You could give this a try for starters, just to get the layering based off `y` working right:

```
boxList.sortOn("y" Array.NUMERIC);

for each(var i:Shape in boxList)
{
    // Bring to front.
    i.parent && i.parent.addChild(i);
} 
```

As for this:

> Also, the output: "boxList sorted: [object Shape],[object Shape],[object Shape],[object Shape]" is completely unhelpful.

You can create your own class with a `toString()` method. Whatever this method returns will be what you see in the above. For example, if you make this class:

```
class Test extends Shape
{
     public function toString():String
     {
         return name;
     }
} 
```

Then you would get something a little more useful / representative:

```
var ar:Array = [];

for(var i:int = 0; i < 3; i++)
{
    var test:Test = new Test();
    ar.push(test);
}

trace(ar); // instance1,instance2,instance3 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-09T12:16:34.613

您没有将 bgBox 和 fgBox 推入该数组以使它们正确排序。而且您错过了正确的 sortOn 参数 - 您设置的 "y" 不带引号，而它需要引号。

# css - 基于 CSS 的 50% 透明边框，不使用透明图像

> ID：12793041
> 
> 赞同：1
> 
> 时间：2012-10-09T04:56:22.990
> 
> 标签：css, fancybox

在对它进行一些修改后，我需要使花式框的边框透明。出于某种原因，我不能让它透明地工作。

我创建了一个示例示例，它有点&我想让内部 DIV 的边框透明。我尝试了几件事，但没有奏效。我会欣赏一个不使用任何透明图像的纯 CSS 解决方案

示例：[JSFiddle](http://jsfiddle.net/3Xh3Z/)

他们是我们可以将不透明度添加到边框的一种方式吗

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-09T04:58:15.347

只需使用像这样透明的颜色即可使其完全透明

```
border:10px solid transparent; 
```

[**我的小提琴**](http://jsfiddle.net/3Xh3Z/1/)

而且，如果您想添加不透明度，那么您的这种方法是正确的，它确实会使边框不透明

```
border-color:rgba(17,17,17,0.7); 
```

你也可以用这个`border-color:rgba(244,244,244,0.4);` [我的小提琴](http://jsfiddle.net/3Xh3Z/2/)

# c# - Nancy 路由中的多个正则表达式捕获组

> ID：12793042
> 
> 赞同：1
> 
> 时间：2012-10-09T04:56:33.890
> 
> 标签：c#, iis, nancy

我可能在这里遗漏了一些明显的东西，但我试图在 NancyFx 中定义一个使用多个正则表达式捕获组的路由。

```
Get[@"/campaign/(?<campaignid>[0-9]{1,8})/console(?<page>[0-9])/(?<personid>[0-9]{1,8})"] 
```

正则表达式在正则表达式测试器中针对 URL 之类的工作，`/campaign/12345/console1/123`但在南希我总是得到 404。

如果我把它砍下来，我会回到`Get[@"/campaign/(?<campaignid>[0-9]{1,8})/console"]`它工作的地方，这让我认为问题可能出在不止一个命名组上。这是设计的工作吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-09T05:35:21.300

从技术上讲，您所经历的是一个（新）错误，因为您的中间捕获组前面有一个字符串文字。我将在下一个版本中查看它，它指日可待。

幸运的是，有一个简单的解决方法，只需更新您的路径，使其看起来像这样

`@"/campaign/(?<campaignid>[0-9]{1,8})/(?:console(?<page>[0-9]))/(?<personid>[0-9]{1,8})"`

这会欺骗南希一点，但不能抓住`console`一部分:)

# php - 在 JavaScript 中将月份添加到日期

> ID：12793045
> 
> 赞同：13
> 
> 时间：2012-10-09T04:56:53.153
> 
> 标签：php, javascript

> **可能重复：**
> [将 X 个月添加到日期的 Javascript 函数](https://stackoverflow.com/questions/2706125/javascript-function-to-add-x-months-to-a-date)

我想在用户输入的结束日期上增加 2 个月。如何将 2 个月添加到结束日期并显示？

```
/**
* Click "Cal" on end date
*/
function getEndDate() {
if(!document.getElementById('startdate').value.length) {
    alert("Start date must be set first.");
}
else {
    prevEndDate = document.getElementById('enddate').value;
    displayCalendar(document.forms[0].enddate,'yyyy/mm/dd',
        document.getElementById('enddatebutton'));
}
}

/**
* Click "Cal" on expiry date
*/
function getExpiryDate() {
if(!document.getElementById('enddate').value.length) {
    alert("End date must be set first.");
}
else {
    prevExpiryDate = document.getElementById('expirydate').value;
    displayCalendar(document.forms[0].expirydate,'yyyy/mm/dd',
        document.getElementById('expirydatebutton'));
 }
} 
```

任何帮助表示赞赏。谢谢！

* * *

## 回答 #1

> 赞同：49
> 
> 时间：2012-10-09T05:18:59.790

您需要获取添加月份的业务规则。简单的解决方案是：

```
function addMonths(dateObj, num) {
  return dateObj.setMonth(dateObj.getMonth() + num);
} 
```

但是，这将更改为 7 月 31 日至 9 月 31 日，这将转换为 10 月 1 日。此外，1 月 31 日加 1 个月即为 2 月 31 日，根据是否为闰年，将转换为 3 月 2 日或 3 日。

您可能预计第一个是 9 月 30 日，第二个是 2 月 28 日或 29 日（取决于是否是闰年）。

因此，如果您希望观察到“月末”，您需要执行以下操作：

```
function addMonths(dateObj, num) {

    var currentMonth = dateObj.getMonth() + dateObj.getFullYear() * 12;
    dateObj.setMonth(dateObj.getMonth() + num);
    var diff = dateObj.getMonth() + dateObj.getFullYear() * 12 - currentMonth;

    // If don't get the right number, set date to 
    // last day of previous month
    if (diff != num) {
        dateObj.setDate(0);
    } 
    return dateObj;
} 
```

但是，请与负责业务规则的人员核实他们想要的内容。

### 编辑

上面的效果很好，但为了回应 McShaman 的评论，这里有一个更简单的月结检查版本：

```
function addMonths(date, months) {
  var d = date.getDate();
  date.setMonth(date.getMonth() + +months);
  if (date.getDate() != d) {
    date.setDate(0);
  }
  return date;
}

// Add 12 months to 29 Feb 2016 -> 28 Feb 2017
console.log(addMonths(new Date(2016,1,29),12).toString());

// Subtract 1 month from 1 Jan 2017 -> 1 Dec 2016
console.log(addMonths(new Date(2017,0,1),-1).toString());

// Subtract 2 months from 31 Jan 2017 -> 30 Nov 2016
console.log(addMonths(new Date(2017,0,31),-2).toString());

// Add 2 months to 31 Dec 2016 -> 28 Feb 2017
console.log(addMonths(new Date(2016,11,31),2).toString());
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-09T05:04:10.337

Split your date into year, month, and day components then use [Date](https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Date):

```
var d = new Date(year, month, day);
d.setMonth(d.getMonth() + 8); 
```

Date will take care of fixing the year.

Possible Duplicate of [How to add months to a date in JavaScript?](https://stackoverflow.com/questions/5645058/how-to-add-months-to-a-date-in-javascript)

# java - 通过 pom.xml 调用 main 方法

> ID：12793046
> 
> 赞同：1
> 
> 时间：2012-10-09T04:56:53.980
> 
> 标签：java, maven

我们如何使用 pom.xml 调用给定 java 类的主要方法？我是 maven 新手，所以没有太多想法。谢谢

# windows-8 - 将 MessageDialog 限制为更娇小

> ID：12793052
> 
> 赞同：1
> 
> 时间：2012-10-09T04:57:41.953
> 
> 标签：windows-8, microsoft-metro, bing-maps, windows-store-apps

在查看示例 Windows Store Bing 应用程序“bingPushpin”时，我看到以下代码：

```
private async void pushpinTapped(object sender, Windows.UI.Xaml.Input.TappedRoutedEventArgs e)
{
    MessageDialog dialog = new MessageDialog("Hello from Seattle.");
    await dialog.ShowAsync();
} 
```

...导致“MessageDialog”传播到整个框架。

当然，这不是 Windows 应用商店（nee “Metro”）的做法。您如何指定 MessageDialog 占用的空间不超过必要的空间？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-09T06:03:48.883

宽度将始终占据客户区，高度将取决于需要显示的文本量。

请参阅[设计消息对话框](http://msdn.microsoft.com/en-us/library/windows/apps/Hh738364.aspx)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-09T07:36:02.677

您可以查看 Callisto Control Toolkit 中提供的 Flyout 控件：[https](https://github.com/timheuer/callisto) ://github.com/timheuer/callisto 。

# android - OpenCV_2.4.2_binary_pack_armv7a源代码是否开放

> ID：12793057
> 
> 赞同：0
> 
> 时间：2012-10-09T04:58:06.110
> 
> 标签：android, opencv

是否可以获得 OpenCV_2.4.2_binary_pack_armv7a 源代码。它是开源的吗？我不想在我的设备中单独安装 OpenCV_2.4.2_binary_pack_armv7a.apk。我想在我的应用程序中包含 OpenCV_2.4.2_binary_pack_armv7a。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-15T03:57:22.353

是的，源代码是开放的，但这是一个错误的问题。首先阅读所谓的[静态初始化](http://docs.opencv.org/trunk/doc/tutorials/introduction/android_binary_package/dev_with_OCV_on_Android.html#application-development-with-static-initialization)，这一定正是你想要的。

您还应该区分 OpenCV Manager 和 OpenCV 库包，请参阅[文档](http://docs.opencv.org/android/service/doc/Intro.html)。

# java - jNotify 在新文件上的奇怪行为

> ID：12793062
> 
> 赞同：1
> 
> 时间：2012-10-09T04:58:26.487
> 
> 标签：java, jnotify

我正在尝试评估当前需要拦截给定目录及其子目录中的文件更改的需求。适合我要求的两个工具是 jpathwatch 和 jnotify。jpathwatch 有效，但不支持递归目录监视。Jnotify 似乎很好地解决了这个限制。

在评估 jnotify 时，我观察到一个奇怪的行为。这在linux和windows中都是一致的。让我试着用一个例子来解释。我有以下目录结构：

```
 C:
|--> Temp |
          | --> File |
                     | --> Dir |
                               | --> SubDir 
```

jNotify 被配置为监听 C:/Temp/File 。现在，如果我将文件放在“Dir”或“SubDir”文件夹下，它会将事件捕获为新创建的。但是，同时，引发三个文件修改事件。这是我在“SubDir”文件夹中添加新文件 Extraction.log 时的输出。

```
 created C:/Temp/File/Dir/SubDir/Extraction.log
modified C:/Temp/File/Dir/SubDir/Extraction.log
modified C:/Temp/File/Dir/SubDir/Extraction.log
modified C:/Temp/File/Dir/SubDir/Extraction.log 
```

如您所见，文件修改有 3 个事件。该应用程序无法确定它是修改还是创建新文件。因此，它将处理同一个文件四次。

我正在使用 JNotify 网站中显示的示例代码。

```
 package com.test.io;

import net.contentobjects.jnotify.JNotify;

public class JNotifyTest {

    /**
     * @param args
     */
    public static void main(String[] args) {
        JNotifyTest jNotify = new JNotifyTest();
        try {
            jNotify.sample();
        } catch (Exception e) {
            // TODO Auto-generated catch block
            e.printStackTrace();
        }
    }

    private void sample() throws Exception {
        // path to watch

        String path = "C:\\Temp\\File\\";

        // watch mask, specify events you care about,
        // or JNotify.FILE_ANY for all events.
        int mask = JNotify.FILE_CREATED  | 
        JNotify.FILE_DELETED  | 
        JNotify.FILE_MODIFIED | 
        JNotify.FILE_RENAMED;

        // watch subtree?
        boolean watchSubtree = true;

        // add actual watch
        int watchID = JNotify.addWatch(path, mask, watchSubtree, new Listener());

        // sleep a little, the application will exit if you
        // don't (watching is asynchronous), depending on your
        // application, this may not be required
        Thread.sleep(1000000);

        // to remove watch the watch
        boolean res = JNotify.removeWatch(watchID);
        if (!res) {
            // invalid watch ID specified.
        }
    }

    class Listener implements JNotifyListener {
        public void fileRenamed(int wd, String rootPath, String oldName,
                String newName) {
            System.out.println("renamed " + rootPath + oldName + " -> " + newName);
        }
        public void fileModified(int wd, String rootPath, String name) {
            System.out.println("modified " + rootPath + name);
        }
        public void fileDeleted(int wd, String rootPath, String name) {
            System.out.println("deleted " + rootPath + name);
        }
        public void fileCreated(int wd, String rootPath, String name) {
            System.out.println("created " + rootPath + name);
        }
    }
} 
```

不幸的是，我无法使用 jdk 1.7，因为我们被困在 1.6 中。

我很少看到与 jNotify 相关的帖子，如果有人可以提供指针或任何替代解决方案来解决此要求，我将不胜感激。

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-09T05:22:12.633

这很可能不是 jNotify 的问题，而是因为操作系统处理文件创建的方式。`pynofity`我已经看到Python 中的库发生了类似的事情。您应该在应用程序代码中处理此问题，例如将触发器处理延迟几秒钟，以便您可以缓冲任何新事件（如果有），然后仅处理某个类型的最新事件。

# c# - 无法添加对 dll 的引用。该组件是自动引用的 C#

> ID：12793066
> 
> 赞同：1
> 
> 时间：2012-10-09T04:59:04.953
> 
> 标签：c#, visual-studio-2008, dll, reference

在 C# Visual Studio 中出现错误，并且在线上似乎没有对此问题的任何明确的答案。

当我想添加 mscorlib 时，我收到此错误消息

无法添加对“mscorlib”的引用。该组件由项目系统自动引用，不能直接引用。

但是 .EnuerateFiles() 需要那个库。

为什么要添加特定参考时会显示此消息？![](../Images/8fbe8078d59efd7049241fff5b72c76e.png)?

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-09T05:03:58.700

MSDN is good place to solve such misteries -[DirectoryInfo.EnumerateFiles](http://msdn.microsoft.com/en-us/library/dd413232%28v=vs.100%29.aspx) clearly show that it is supported by 4.0 and 4.5 versions of .Net.

You are trying to link against 2.0 (or maybe something like 3.0/3.5) and do not have such function. Erro clearly says that you can't add the assembly to the project since it is always referenced automatically for correct version of runtime.

To be able to use new EnumerateFile you need to build agains 4.0+ , or write code without that function.

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-09T05:04:43.463

EnumerateFiles require .NET 4 or later. I think you are building your solution targetting .NET Framework 3.5 or earlier.

# android - Android：未从活动中调用 onSaveInstanceState

> ID：12793069
> 
> 赞同：66
> 
> 时间：2012-10-09T04:59:21.120
> 
> 标签：android, android-activity

我有一个调用 Activity B 的 Activity A。在 Activity B 中，当我单击一个按钮时，会调用 finish()，然后调用 Activity B 的 onDestroy() 并返回到 Activity A。

根据android文档，在调用onDestroy之前，将调用onSaveInstanceState(Bundle bundle)，我在其中执行以下操作。

```
@Override
    public void onSaveInstanceState(Bundle outState) {

        super.onSaveInstanceState(outState);
        System.out.println("Saving webview state");
        Log.d(TAG, "In onsave");
        wv.saveState(outState);

    } 
```

下一次从 Activity A 启动 Activity B 时，

在 oncreate() 中，我执行以下操作：

```
onCreate(Bundle savedInstanceState){
super.onCreate(savedInstanceState);

if(savedInstanceState != null){
//restore webview
}else {
// code
}
} 
```

但是，在 Activity B 中调用 onDestroy 之前，永远不会调用 onSaveInstanceState 方法。对此的任何帮助将不胜感激。

编辑：如果这是不可能的。请让我知道是否有办法存储 webview 状态

* * *

## 回答 #1

> 赞同：346
> 
> 时间：2015-11-19T11:01:53.843

我也有类似的情况。这显然是一个开发错误。我已经覆盖了错误的方法：

```
public void onSaveInstanceState(Bundle outState, 
                                PersistableBundle outPersistentState) 
```

而是一个**正确**的：

```
protected void onSaveInstanceState(Bundle outState) 
```

* * *

## 回答 #2

> 赞同：60
> 
> 时间：2012-10-09T05:33:48.363

请注意，`onRestoreInstanceState()`在重新创建活动时调用它，但仅在以下情况下：

**它被操作系统杀死了**。“这种情况发生在：

*   设备的方向发生变化（您的活动被破坏并重新创建）
*   您面前还有另一个活动，并且在某些时候操作系统会终止您的活动以释放内存（例如）。下次您开始活动时，`onRestoreInstanceState()`将被调用。”

所以如果你在你的活动中并且你**点击了设备上的后退按钮**，你的活动就会被`finish()`编辑，下次你启动你的应用程序时它会再次启动（听起来像是重新创建的，不是吗？）但这次**没有保存状态**，因为您在点击后退按钮时故意退出它。

* * *

## 回答 #3

> 赞同：9
> 
> 时间：2012-10-09T05:04:13.363

See the doc here: [http://developer.android.com/reference/android/app/Activity.html](http://developer.android.com/reference/android/app/Activity.html)

> Note that it is important to save persistent data in `onPause()` instead of `onSaveInstanceState(Bundle)` because the latter is not part of the lifecycle callbacks, so will not be called in every situation as described in its documentation.

The documentation of [onSaveInstanceState](http://developer.android.com/reference/android/app/Activity.html#onSaveInstanceState(android.os.Bundle)) method says,

> Do not confuse this method with activity lifecycle callbacks such as `onPause()`, which is always called when an activity is being placed in the background or on its way to destruction, or `onStop()` which is called before destruction. One example of when `onPause()` and `onStop()` is called and not this method is when a user navigates back from activity B to activity A: there is no need to call `onSaveInstanceState(Bundle)` on B because that particular instance will never be restored, so the system avoids calling it. An example when `onPause()` is called and not `onSaveInstanceState(Bundle)` is when activity B is launched in front of activity A: the system may avoid calling `onSaveInstanceState(Bundle)` on activity A if it isn't killed during the lifetime of B since the state of the user interface of A will stay intact.

try this:

```
@Override
public void onPause(){
   System.out.println("Saving webview state");
    Log.d(TAG, "In onsave");
    wv.saveState(outState);
    super.onPause();

}

and
@Override
 public void onResume(){
     //restore webview
 } 
```

I am not sure what is the purpose of that if statement, but try this and see what happens.

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2012-10-09T07:42:24.580

最终，您将不得不将背景/历史记录写入持久存储。在设备被关闭作为一个例子的情况下，以及避免一个人为的（在我看来）你调用`onSaveInstanceState`的例子`onPause`（你需要做什么来获取你想要传递的包`onRestoreInstanceState`然后你可以传递进入`restoreState`）。

因此，除了重新考虑您的设计（如果用户关闭了您的应用程序并且您没有制作浏览器，他们真的想要保持相同的历史记录吗？），您应该查找`SharedPreferences`以及如何使用它们。

不幸的是，您不能将捆绑包放在共享首选项中，我也不建议尝试通过编写捆绑包`Parcelable`（它仅适用于 IPC，而不是持久存储）。但是您可以做的是存储捆绑包存储的所有原语。这也可能是人为的，但在我看来，这是获得永久存储的唯一方法。

然后通过存储在 SharedPreferences 中的原语重建你的包，并将其传递到`restoreState()`. 您可以检查 Android 源代码以了解`webView.saveState()`实际执行的操作（我查看了 2.1 代码，它似乎编写了一个 int、一个可序列化对象，然后是 SSL 证书的另一个包。SSL 证书包本身只是四个整数） . 在我的脑海中，我只写你能写的所有原语，然后存储你写序列化数据的本地文件的位置（字符串）。

即使您有整个 BackForward 列表的一些有序集合，我也不确定如何将其转换为`goBack()`并`goForward()`使用这些值（有一个受保护的方法涉及将项目添加到列表中，但您无法访问它）。除非您确实使用`restoreState()`，这就是为什么我们将竭尽全力正确重建捆绑包的原因。

说真的，除非我的搜索技能很糟糕（完全有可能），否则将`WebView`历史存储在可以为您完成工作的地方`saveInstanceState/restoreInstanceState`似乎并不是很多人遇到的问题。即当用户明确关闭他们的应用程序时，没有很多人试图保留 WebView 历史记录，所以你必须问自己为什么要这样做？

抱歉，如果有一种非常简单的方法可以持久存储此信息并重新加载到 WebView 顺便说一句！

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2019-10-27T15:16:17.203

对于调用`onSaveInstance`方法，请使用

```
public void onSaveInstanceState(Bundle outState) 
```

用于保存不需要使用的值

```
public void onSaveInstanceState(@NonNull Bundle outState, @NonNull PersistableBundle outPersistentState) 
```

# ruby-on-rails - 子类循环

> ID：12793072
> 
> 赞同：0
> 
> 时间：2012-10-09T05:00:09.170
> 
> 标签：ruby-on-rails

我有以下控制器，它检索“子类别”，然后循环遍历每个子类别，将我称之为“圆圈”的内容抓取并存储到实例变量中

```
 def show
    @sub_categories = Category.where(:parent => params[:id])
    @sub_categories.each do |sub_cat|
      i = 1
      @circles[i] = Circle.where(:category_id => sub_cat.id)    
      i++
    end
  end 
```

这是输出错误。我来自 PHP，不知道如何正确执行此操作。

```
categories_controller.rb:9: syntax error, unexpected kEND 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-09T05:05:28.060

IMO you should just use a [join](http://guides.rubyonrails.org/active_record_querying.html#joining-tables):

```
@circles = Circle.joins(:categories).where(:categories => { :parent_id => params[:id] }) 
```

To address the code you've written: adding to an array in Ruby is done with [`<<`](http://www.ruby-doc.org/core-1.9.3/Array.html#method-i-3C-3C). So you could rewrite your code as follows:

```
@circles = []
@sub_categories.each do |sub_cat|
  sub_cat.circles.each do |circle| # assumes Category has_many :circles
    @circles << circle
  end
end 
```

But you'd better use `joins` to do it in one query, like I show above.

Update based on pastebin:

There is no need to set `@circles`.

This is what your view should look like:

```
<% @sub_categories.each do |sub_cat| %>
  <div class="circle">
    <header>
      <h3 data-toggle="collapse" href="#<%= dom_id(sub_cat) %>-collapse"><%=sub_cat.name %></h3>
      <ul id="<%= dom_id(sub_cat) %>-collapse" class="accordion-body collapse">
        <li class="list-shadow"></li>

        <% sub_cat.circles.each do |circle| %>
          <li><%= link_to circle.title, circle, :remote => true, :method => 'get' %></li>
        <% end %>

      </ul>
    </header>
  </div><!--.circle-->
<% end %> 
```

To prevent the [N+1 queries problem](http://guides.rubyonrails.org/active_record_querying.html#eager-loading-associations), you have to do this in your controller:

```
@sub_categories = Category.includes(:circles).where(:parent => params[:id]) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-09T05:05:35.507

**each** is a iterator

since u r collecting the **circles** for the selected subcategories, u can simply write it as

```
@subcategories.collect{|sc| Circle.where(:category_id => sc.id) } 
```

it will return u the array of circles.

# ipad - uicollection 视图崩溃

> ID：12793075
> 
> 赞同：0
> 
> 时间：2012-10-09T05:00:32.333
> 
> 标签：ipad, uicollectionview

我已经用[NSMutableArrays](http://foo.com)作为数据源设置了这个[UICollectionView 。](http://foo.com) 问题是它在 ipad 模拟器上崩溃，同时向下滚动有多个部分，但它在设备上运行。 我完全坚持这一点，在任何地方都找不到解决这个问题的方法。 xcode抛出的异常是：终止调用抛出异常

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-01T10:06:41.750

The issue might be experienced because of the use of XCode beta release. Try using the latest stable release of XCode and issue with simulator only will hopefully go away.

# php - Internet Explorer 问题：使用 jQuery 切换动态 PHP 生成的图像

> ID：12793077
> 
> 赞同：1
> 
> 时间：2012-10-09T05:00:43.767
> 
> 标签：php, jquery, internet-explorer, background-image

所以在我的页面上，我有一个由 jQuery 修改的选择菜单。简单地说，jQuery 采用样式属性并将它们附加到列表中。除了通过 PHP 生成的背景图像外，一切正常。在 Chrome 中看起来很棒，这一切都很好，但 IE/Safari 不显示任何图像。它以 background-image:none 的形式出现；

页面在这里：

[http://stickeraddicts.com/index.php?_a=lettering-tool](http://stickeraddicts.com/index.php?_a=lettering-tool)

它应该看起来像我主页上的 gif。同样，在 Chrome 中，事情是完美的。问题主要是IE。

无论如何，这是列表项的 HTML

```
<option style="background-image:url(/letteringtool/fontpreview.php?txt=Alba%20Super&color=ffffff&font=/fonts/alba.ttf&width=200&height=25&padding=10);text-indent:-9999px;" value="alba">Alba Super</option> 
```

这是影响它的jQuery（在jQtransform内部）

```
var oLi = $('<li style="border-bottom:1px solid #CCC; background-repeat:no-repeat; background-color: rgb(153, 153, 153); background-image:'+ $(this).css('backgroundImage')+';text-indent:'+$(this).css('text-indent')+';"><a href="#" index="'+ i +'">'+ $(this).html() +'</a></li>');
$ul.append(oLi); 
```

# html - CSS如何定义多个标签和文本框元素之间的高度

> ID：12793078
> 
> 赞同：0
> 
> 时间：2012-10-09T05:00:44.843
> 
> 标签：html, css, css-float

例如，如果我想要 2 行 6 个文本框和 1 行初始文本框，我如何使用 CSS 定义文本框之间的高度/空间，以便它们保持一致的间距。

还是我应该只使用一张桌子？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-09T06:27:33.000

Check this fiddle - [http://jsfiddle.net/g4CWC/34/](http://jsfiddle.net/g4CWC/34/)

For each textbox provide css with same margin, For instance:

```
.textbox { margin:10px } 
```

You can add all the textboxes in a `<div>` and provide css as

```
div{margin:auto;} 
```

Now If you resize the window spaces between the text box will remain the same.

# c# - C# 索引和长度必须引用字符串中的位置

> ID：12793082
> 
> 赞同：0
> 
> 时间：2012-10-09T05:01:20.423
> 
> 标签：c#, .net

在下面运行时显示程序错误**

> 未处理的异常：systemArgumentOutofRange:Index 和长度必须引用字符串中的位置。

**

```
string input = "OneTwoThree sdfhguiosdrb asdhfuiaserthf aseiryaseuigraweui";           

int size = input.Length;
if (input.Length > 30)
{
    msg1 = input.Substring(0, 30);
    msg2 = input.Substring(msg1.Length, size);
    Console.WriteLine("Message: {0}", msg1);
    Console.WriteLine("\nMessage: {0}", msg2);
}
else
    Console.WriteLine(input); 
```

请帮助我做错了什么。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-10-09T05:10:18.323

你在这条线上做错了

```
msg2 = input.Substring(msg1.Length, size); 
```

你在这里做的是，创建一个`msg2`比你的第一个字符串长的子字符串`msg1`，

在这里，你的`msg1.Length`equals`30`和你的`size`equals`58`意味着你正在尝试创建一个字符串，`startingIndex = 30`并且`Length = 58`在这种情况下这是不可能的，因为你的第二个字符串的 Length `msg1`is `30`and it is less then `Size i.e. 58`。

根据您的要求，Albin Sunnanbo 的回答很好。即

```
msg2 = input.Substring(msg1.Length, size - msg1.Length); 
```

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2012-10-09T05:04:01.527

Change

```
msg2 = input.Substring(msg1.Length, size); 
```

to

```
msg2 = input.Substring(msg1.Length, size - msg1.Length); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-09T08:02:24.050

您可以更改单行 msg2 = input.Substring(msg1.Length, size);

与

```
msg2 = input.Substring(0, size);
msg2 = msg2.Remove(0, msg1.Length); 
```

并且问题将得到解决。

```
string input = "OneTwoThree sdfhguiosdrb asdhfuiaserthf aseiryaseuigraweui";
        int size = input.Length;
        if (input.Length > 30)
        {
            string msg1;
            string msg2;
            msg1 = input.Substring(0, 30);
            **msg2 = input.Substring(0, size);**
            **msg2 = msg2.Remove(0, msg1.Length);**
            Console.WriteLine("Message: {0}", msg1);
            Console.WriteLine("\nMessage: {0}", msg2);
        }
        else
            Console.WriteLine(input); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-09T05:13:47.357

```
msg2 = input.Substring(msg1.Length) 
```

# magento - Magento 属性选项值未显示在管理端

> ID：12793086
> 
> 赞同：1
> 
> 时间：2012-10-09T05:02:10.247
> 
> 标签：magento

我有 Multistore Magento 商店。我从管理属性创建了一些自定义属性，这些属性位于目录->属性->管理属性

我有一个多选自定义属性，该属性对主要默认商店和另一家商店都可见。

它已成功创建，其中包含一些选项值，并将其分配给属性集。

但问题是当我单击任何特定产品并查看该属性时，我没有在该属性中找到任何值用于选择目的。

我没有找到任何解决方案。有人对此有解决方案吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-25T06:31:06.483

是否有可能发生更改属性类型？

如果您创建一个属性`dropdown`，`backend_type` `varchar`然后将其更改为，`int`那么 table 中仍然有一些记录`catalog_entity_varchar`。这些数据阻止在后端显示属性值。原因是 Magneto 首先查找`catalog_entity_varchar`找到选项标签而不是选项 id 的表。如果它将标签推送到模型中，则后端表单上的 HTML 选择不适合该值，因为它需要选项 id 但它会获得选项标签。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-10-09T08:00:54.940

此值应在目录-> 属性-> 管理属性前端属性> 在前端的产品视图页面上可见> YES 中设置为“YES”。

# iphone - Xcode 使用 textField shouldChangeCharactersInRange：使应用程序崩溃

> ID：12793087
> 
> 赞同：0
> 
> 时间：2012-10-09T05:02:13.237
> 
> 标签：iphone, ios, objective-c

我正在尝试使用我在此处找到的脚本在文本字段下实现自动完成功能：

[http://www.raywenderlich.com/336/how-to-auto-complete-with-custom-values](http://www.raywenderlich.com/336/how-to-auto-complete-with-custom-values)

但它会按应有的方式运行脚本，然后应用程序崩溃而没有给我一个反馈（只是 TUAppDelegate 中的 exc_bad_access）

不，我还有其他一些键盘方法，所以不知道它们是否冲突。

文本字段声明如下：

```
mytextfield_textfield = [[UITextField alloc] initWithFrame:CGRectMake(60, 57, 145, 20)];
mytextfield_textfield.borderStyle = UITextBorderStyleNone;
mytextfield_textfield.font =  [UIFont fontWithName:@"NeoSans" size:14];
mytextfield_textfield.placeholder = @"Enter something";
mytextfield_textfield.text = @"";
mytextfield_textfield.secureTextEntry = NO;
mytextfield_textfield.autocapitalizationType = UITextAutocapitalizationTypeNone;
mytextfield_textfield.autocorrectionType = UITextAutocorrectionTypeNo;
mytextfield_textfield.keyboardType = UIKeyboardTypeDefault;
mytextfield_textfield.returnKeyType = UIReturnKeyDone;
mytextfield_textfield.clearButtonMode = UITextFieldViewModeWhileEditing;
mytextfield_textfield.contentVerticalAlignment = UIControlContentVerticalAlignmentCenter;    
mytextfield_textfield.delegate = self;
[self.view addSubview:mytextfield_textfield]; 
```

然后下面的自动完成视图作为滚动视图而不是表格视图（另一个原因）。但它现在不使用。

然后我已经有了这些方法：

```
- (void)touchesBegan:(NSSet *)touches withEvent:(UIEvent *)event {
    UITouch * touch = [touches anyObject];
    if(touch.phase == UITouchPhaseBegan) {
        [mytextfield_textfield resignFirstResponder];
    }

    [mytextfield_textfield resignFirstResponder];
    myTableView.userInteractionEnabled = YES;
}

- (void)textFieldDidBeginEditing:(UITextField *)textField {
    myTableView.userInteractionEnabled = NO;
}

- (BOOL)textFieldShouldReturn:(UITextField *)textField {
    [mytextfield_textfield resignFirstResponder];
    myTableView.userInteractionEnabled = YES;
    [self performSelector:@selector(AddAction:) withObject:nil] ;
    return YES; 
} 
```

现在我实现了自动完成：

```
- (BOOL)textField:(UITextField *)textField shouldChangeCharactersInRange:(NSRange)range replacementString:(NSString *)string {
    autocompleteView.hidden = NO;
    NSString *substring = [NSString stringWithString:textField.text];
    substring = [substring stringByReplacingCharactersInRange:range withString:string];
    [self searchAutocompleteEntriesWithSubstring:substring];
    myTableView.userInteractionEnabled = YES;
    NSLog(@"ok") ;
    return NO;
}

- (void)searchAutocompleteEntriesWithSubstring:(NSString *)substring {
    NSDictionary *dictionary = [[NSDictionary alloc] init ];
    NSString *path = [[NSBundle mainBundle] bundlePath] ;
    NSString *dictionary_path = [path stringByAppendingPathComponent:@"categorieslist2.plist"] ;
    dictionary = [NSDictionary dictionaryWithContentsOfFile:dictionary_path] ;

    for(id key in dictionary) {
        NSLog(@"%@",key) ;
    }
    [dictionary release] ;
} 
```

它输出密钥并从 NSlog 返回 OK，但随后崩溃。知道为什么吗？

我只是在做 NSLog，因为我想弄清楚它为什么不起作用

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-09T05:10:13.190

改变

```
 - (BOOL)textField:(UITextField *)textField shouldChangeCharactersInRange:(NSRange)range replacementString:(NSString *)string {

return YES;
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-09T21:52:18.770

由于我不知道的原因，[字典发布]是罪魁祸首。任何人都可以解释为什么？同样的事情让我在应用程序的另一个部分崩溃了，我还发布了从 plist 读取的字典。将其注释掉解决了所有问题，即使我在 for 循环之后不使用字典

# mysql - MySQL REGEXP 语句不应该返回 true 吗？

> ID：12793088
> 
> 赞同：0
> 
> 时间：2012-10-09T05:02:17.517
> 
> 标签：mysql, regex

```
SELECT 
'8 / 10 Valle Seti'
REGEXP
'([1-9][0-9]|[2-9][0-9]) (Valle Seti)' 
```

这在 mysql 中返回 1。这怎么可能？我只指定大于 10 的两位数字，后跟一个单词，但这是匹配一个数字，后跟一个斜线，然后是一个两位数。我在这里错过了什么吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-09T05:07:00.337

您的正则表达式匹配

```
'10 Valle Seti' 
```

从

```
'8 / 10 Valle Seti' 
```

要强制正则表达式在字符串结尾处开始和结束，请将其更改为

```
REGEXP
'^([1-9][0-9]|[2-9][0-9]) (Valle Seti)$' 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-09T05:07:35.750

因为它在字符串（*即`10 Valle Seti`*）上找到了匹配项，请尝试添加断言`beginning`和`end`字符

```
SELECT 
'8 / 10 Valle Seti'
REGEXP
'(^[1-9][0-9]|[2-9][0-9]) (Valle Seti)$' 
```

请参阅[SQLFiddle 演示](http://sqlfiddle.com/#!2/d41d8/2653)

# sql - 如何在proc SQL的from表中使用宏变量

> ID：12793089
> 
> 赞同：1
> 
> 时间：2012-10-09T05:02:20.557
> 
> 标签：sql, variables, macros

我需要在下面的 SQL 传递代码中使用宏变量，但不断收到错误，我不知道如何修复它！

```
%let mon1 = 201209;
proc sql;
/*Connection String*/
connect to odbc as sqldata (noprompt="uid=dr;pwd=raven;dsn=FinanceDW;") ;
create table output1 as /*This will create a SAS data set*/
 select * /*this will select all from the command below and insert into the SAS         dataset*/
  from connection to sqldata
     ( /*Insert SQL CODE below - it can only use SQL any SAS code will cause it to fail*/
select top 10 *     
from "AUS_&mon1._FCM15.dbo.contract"

   );/*End SQL code*/

disconnect from sqldata;/*Close connection*/
quit; 
```

然后我收到以下错误（从日志中提取）：

```
23          select top 10 *     
24          from "AUS_&mon1._FCM15.dbo.contract"
25         
26                );
ERROR: CLI describe error: [Microsoft][ODBC SQL Server Driver][SQL Server]Invalid object name 
       'AUS_201209_FCM15.dbo.contract'. : [Microsoft][ODBC SQL Server Driver][SQL Server]Statement(s) 
       could not be prepared. 
```

我需要从中获取数据的实际表称为 AUS_201209_FCM15 所以我不知道问题是什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-10T00:37:06.563

弄清楚了。需要使用`%bquote`和删除`""`：

```
%let mon1 = 201209; 
proc sql; 
connect to odbc as sqldata (noprompt="uid=dr;pwd=raven;dsn=FinanceDW;") ; 
create table output1 as 
select * 
from connection to sqldata     
select top 10 *      
from %bquote(AUS_&mon1._FCM15.dbo.contract)
);
disconnect from sqldata
quit; 
```

# ember.js - 解释静态类属性绑定表示法

> ID：12793097
> 
> 赞同：1
> 
> 时间：2012-10-09T05:03:21.477
> 
> 标签：ember.js

我遇到了以下代码：

```
<i {{bindAttr class=":feed-expand-icon :icon-plus isActivitiesVisible:icon-minus"}}></i> 
```

我的意思是：feed-expand-icon 和 :icon-plus。如果 isActivitiesVisible 为真，我假设添加了 icon-minus 类。

有人可以解释在这种情况下类属性是如何绑定的吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-09T07:41:44.183

无论如何都会添加`feed-expand-icon`and类。`icon-plus`

这是混合“静态”类和动态计算类（如`icon-minus`您的情况）的便捷方法。

# python - Creation and connection to a database by means of firebirdsql

> ID：12793112
> 
> 赞同：2
> 
> 时间：2012-10-09T05:04:52.180
> 
> 标签：python, sql, firebird

I wrote the program, but received unexpected results that me very much baffled

```
import firebirdsql
s1='''
create table CLIENTS
    (
       ID    INTEGER NOT NULL,
       COMPANY   VARCHAR(50),
       "LAST NAME"   VARCHAR(50),
       "FIRST NAME"   VARCHAR(50),
       "E-MAIL ADDRESS"   VARCHAR(50),
       "JOB TITLE"   VARCHAR(50),
       "BUSINESS PHONE"   VARCHAR(25),
       "HOME PHONE"   VARCHAR(25),
       "MOBILE PHONE"   VARCHAR(25),
       "FAX NUMBER"   VARCHAR(25),
       ADDRESS   BLOB SUB_TYPE 1,
       CITY   VARCHAR(50),
       "STATE/PROVINCE"   VARCHAR(50),
       "ZIP/POSTAL CODE"   VARCHAR(15),
       "COUNTRY/REGION"   VARCHAR(50),
       "WEB-SITE"   VARCHAR(25),
       NOTES   BLOB SUB_TYPE 1,
       INCLUDING   BLOB,
       CONSTRAINT PK_CLIENTS_ID PRIMARY KEY(ID)
    );
'''
conn=firebirdsql.create_database(host='localhost', database='test1.fdb',
        user='sysdba', password='masterkey')
cur=conn.cursor()
cur.execute(s1)
conn.commit()
conn.close() 
```

As a result the database test1.fdb isn't created. I also tried to use a line of creation of a database

```
conn = firebirdsql.connect(dsn='localhost/3050:/test1.fdb', user='sysdba',
    password='masterkey'), but result is same. 
```

# perl - 在 Perl 中读取和写入同一个文件

> ID：12793121
> 
> 赞同：0
> 
> 时间：2012-10-09T05:05:37.707
> 
> 标签：perl, file-handling

这与此有关 ->在 perl问题[中读取和写入文件。](https://stackoverflow.com/questions/12633743/read-and-write-to-a-file-in-perl)

以下代码非常适合读取和写入同一个文件：

```
use Tie::File;
use strict;
use warnings;

my $filename = "out.txt";
my @array;
tie @array, 'Tie::File', $filename
    or die "can't tie file \"$filename\": $!";

for my $line (@array) {

    $line = "<$line>";
}
untie @array; 
```

但是当我执行以下操作时，文件中没有反映这些更改：

```
use Tie::File;
use strict;
use warnings;

my $filename = "out.txt";
my @array;
tie @array, 'Tie::File', $filename
    or die "can't tie file \"$filename\": $!";

my $len = @array;
for ($i = 0; $i < $len ; $i++) {

    $line = $array[$i];
    $line = "<$line>";     
}
untie @array; 
```

有人可以帮我解决这个问题吗？是的，我知道我可以使用上面的 for 循环，知道这也可以帮助我解决一些其他问题。谢谢你。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-09T05:10:05.203

在第一个片段中，您正在修改`@array`（通过别名`$line`）的元素。

在第二个中，您没有修改`@array`. 改变

```
$line = $array[$i];
$line = "<$line>"; 
```

到

```
$line = $array[$i];
$line = "<$line>";
$array[$i] = $line; 
```

或者干脆

```
$array[$i] = "<$array[$i]>"; 
```

请注意，使用 Tie::File 是一种糟糕的方式来做你正在做的事情。

# php - 为什么这个 PHP if 语句不起作用？

> ID：12793122
> 
> 赞同：1
> 
> 时间：2012-10-09T05:05:42.363
> 
> 标签：php

我在生日的 url 中有一个参数`?user_birth_day=05`，并且我有以下代码：

```
<?php echo $_REQUEST['user_birth_day']; ?> // this outputs 5

<?php for ($i = 1; $i <= 31; $i++) : ?>                     
    <?php if($_REQUEST['user_birth_day'] === $i){ echo 'BINGO'; } ?>
<?php endfor; ?> 
```

if 语句根本不打印任何内容。请帮忙！

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-09T05:07:19.103

这是因为您进行了严格的相等比较 ( `===`)，它也会检查类型，并且 in 中的值`$_REQUEST`是字符串，而不是数字。您可能需要使用`==`.

请记住，您从中获取的值`GET`或`POST`请求始终是字符串，因为 HTTP 没有任何附加类型的方法。我有时会看到将传入数据转换为适当的类型作为输入检查的一部分，例如，如果您希望字段包含数字，则检查它是否存在并将其转换为数字，否则中止。但可能有很多方法可以解决这个问题。

作为一种粗略的调试技术（如果您无法访问实际的调试器或者像我一样愚蠢并且无法让 xdebug 在 Eclipse 中正常工作），您可以使用`print_r`您想要检查的值，从而了解它们的类型（这本可以在这里告诉你为什么`===`不能工作）。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-09T05:07:42.757

为什么你再次打开/关闭你的 php 括号？

就这样做，看看它是否有效

```
<?php 
 for ($i = 1; $i <= 31; $i++) {                     
   if($_REQUEST['user_birth_day'] == $i) { 
     echo 'BINGO'; 
   }
 }
?> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-09T05:07:27.607

```
<?php echo $_REQUEST['user_birth_day']; ?> // this outputs 5

<?php for ($i = 1; $i <= 31; $i++) : ?>                     
    <?php if($_REQUEST['user_birth_day'] == $i){ echo 'BINGO'; } ?>
<?php endfor; ?> 
```

并尝试一次可能有效

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-09T05:10:07.390

首先将 $_REQUEST['user_birth_day'] 存储在某个变量中并尝试比较它们。

`$day = $_REQUEST['user_birth_day']`

```
if($day === $i)
{ 
echo 'BINGO'; 
} 
```

# jquery - 如何立即跟随兄弟姐妹到下一个不匹配的选择器

> ID：12793129
> 
> 赞同：1
> 
> 时间：2012-10-09T05:06:17.840
> 
> 标签：jquery, xpath, jquery-selectors, dom-traversal

我有下表

```
<table id="table">
<tr><td>Item</td></tr>
<tr class="hide"><td>Hidden Item</td></tr>
<tr class="hide"><td>Hidden Item</td></tr>
<tr class="hide"><td>Hidden Item</td></tr>
<tr><td>Item</td></tr>
<tr class="hide"><td>Hidden Item</td></tr>
<tr class="hide"><td>Hidden Item</td></tr>
<tr><td>Item</td></tr>
<tr class="hide"><td>Hidden Item</td></tr>
<tr class="hide"><td>Hidden Item</td></tr>
<tr class="hide"><td>Hidden Item</td></tr>
<tr class="hide"><td>Hidden Item</td></tr>
<tr><td>Item</td></tr>
</table> 
```

单击可见行时，我想将所有紧随其后的隐藏行显示到下一个可见行。隐藏行数不固定。如何立即选择直到特定元素的后续行？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-09T05:10:44.193

```
//Add a class to your visible rows if possible to replace the next selector
$('tr:visible').click(function() {
    $('.hide').hide();
    $(this).nextUntil(':visible').fadeIn();
});​ 
```

[**小提琴**](http://jsfiddle.net/NNWYs/2/)

[`.nextUntil()`参考](http://api.jquery.com/nextUntil/)

* * *

`show`给可见行添加一个类，你可以给它添加一个简单的切换效果：

```
$('.show').click(function() {
    $(this).nextUntil('.show').not('.show').fadeToggle();
}); 
```

[**小提琴**](http://jsfiddle.net/NNWYs/4/)

* * *

一个稍微详细的版本，它切换点击的行部分并隐藏以前打开的行：

```
$('.show').click(function() {
    $('.hide').not(
        $(this).nextUntil('.show').not('.show').fadeToggle()
    ).hide();
}); 
```

[**小提琴**](http://jsfiddle.net/NNWYs/3/)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-09T05:11:01.620

您可以使用[.nextUntil()](http://api.jquery.com/nextUntil/) - 用您的元素替换 $('tr:first') -

```
$('tr:first').nextUntil('tr:not(.hide)').show()
// from first tr until next one that doesn't have class=hide 
```

虽然我可能会使用 toggle() 来隐藏/显示以下元素 - 但我不确定你的目标是什么，所以你可以在之后做你想做的事

```
$('.hide').hide();
$('tr:not(.hide)').click(function(){   
    $(this).nextUntil('tr:not(.hide)').toggle();    
}); 
```

[http://jsfiddle.net/nqTJc/](http://jsfiddle.net/nqTJc/)

​</p>

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-09T05:10:52.257

我认为这就是您要寻找的：[jQuery .nextUntil()](http://api.jquery.com/nextUntil/)

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-10-09T05:11:57.760

使用下一个直到

```
$('tr').click(function(){

 $(this).nextUntil(':not("tr.hide")').show();

});​​ 
```

找到 jsfiddle [http://jsfiddle.net/K5QcA/](http://jsfiddle.net/K5QcA/)

供参考 [http://api.jquery.com/nextUntil/](http://api.jquery.com/nextUntil/)

# java - Java - 找不到构造函数的符号

> ID：12793135
> 
> 赞同：0
> 
> 时间：2012-10-09T05:06:49.213
> 
> 标签：java

```
import java.lang.*;

public class GrammerStack extends GrammerStructure implements StringStack { 
 private String structName; 
 private int cap;

public GrammerStack(String structureName, int limit){ 
 this.structName = structureName; 
 this.cap = limit; 
 System.out.println(structName+"["+cap+"]");
} 
public void GrammerStructure(String structureName){ 
 this.structName = structureName; 
}

//Empty overrides. 
public String[] asArray(){}; 
public String push(String item) throws FillException{}; 
public String pop() throws EmptyException{}; 
public boolean contains(String query){}; 
public void empty(){}; 
public double fillPercent(){};

public String getName(){ return structName; }

public void main(String args[]){ 
 GrammerStack("Stack1",3); 
}

} 
```

当我运行时： javac GrammerStack.java 我得到以下信息：

```
GrammerStack.java:15: cannot find symbol
symbol  : constructor GrammerStructure()
location: class GrammerStructure
   public GrammerStack(String structureName, int limit){
                                                                                                  ^
GrammerStack.java:41: cannot find symbol
symbol  : method GrammerStack(java.lang.String,int)
location: class GrammerStack
       GrammerStack("Stack1",3);
       ^
2 errors 
```

我无法弄清楚这里出了什么问题，我的方法也与文件名不匹配。在这种情况下，“语法”是正确的。

有什么帮助吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-09T05:10:10.757

对于第一个问题，`super(structureName);`在构造函数中添加为第一行。我假设您`public GrammerStructure(String name)`在超类中定义了构造函数。如果不是这种情况，请分享您的构造函数。

```
public GrammerStack(String structureName, int limit){
  super(structureName);
  this.structName = structureName; 
  this.cap = limit; 
  System.out.println(structName+"["+cap+"]");
} 
```

对于第二个问题，您缺少关键字`new`。更改如下：

```
public void main(String args[]){ 
          GrammerStack("Stack1",3); 
 } 
```

和

```
 public void main(String args[]){ 
     new GrammerStack("Stack1",3); 
 } 
```

或者

```
 public void main(String args[]){ 
   GrammerStack grammerStack = new GrammerStack("Stack1",3); 
 } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-09T05:09:47.777

发生此错误是因为在您的超类构造函数中，您尚未定义无参数或默认构造函数。

当您在超类中定义带参数的构造函数时，您也必须定义无参数构造函数，原因是：编译器不会为您添加默认构造函数。

子类将抛出您刚才提到的错误，因为在子类构造函数`super()`中，javac 将添加一个默认调用。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-09T05:12:03.737

```
 import java.lang.*;

    public class GrammerStack extends GrammerStructure implements StringStack { 
     private String structName; 
     private int cap;
   public GrammerStructure() {
}

    public GrammerStack(String structureName, int limit){ 
     this.structName = structureName; 
     this.cap = limit; 
     System.out.println(structName+"["+cap+"]");
    } 
    public void GrammerStructure(String structureName){ 
     this.structName = structureName; 
    }

    //Empty overrides. 
    public String[] asArray(){}; 
    public String push(String item) throws FillException{}; 
    public String pop() throws EmptyException{}; 
    public boolean contains(String query){}; 
    public void empty(){}; 
    public double fillPercent(){};

    public String getName(){ return structName; }

    public void main(String args[]){ 
     GrammerStack("Stack1",3); 
    }

    } 
```

你没有定义没有参数的默认构造函数。当你在超类中定义一个带参数的构造函数时，你必须定义没有参数的默认构造函数

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-09T05:33:17.973

在超类和子类中定义构造函数时，**需要遵循一些规则：** -

*   如果您没有在这两个类中定义任何构造函数，那么编译器将在这两个类中添加一个默认构造函数。所以，你没问题。

*   如果您在超类**中定义**了一个 0-arg 构造函数，那么您仍然可以。因为，从子类中的任何构造函数中，如果您没有调用任何超类构造函数，编译器将`super()`自动添加一个调用作为每个子类构造函数的第一条语句。（**注意**： -**编译器仅添加`super`对** **0-arg 构造函数的**调用）

*   如果您**没有**在超类中定义 0-arg 构造函数，但有一个参数化构造函数，那么如果您没有从每个子类构造函数中显式调用该参数化构造函数，那么您可能会遇到问题。 . 这是因为，Compiler 只添加了对 0-arg 构造函数的调用，而你那里没有。

因此，您的代码的问题是`3rd one.`.

**要解决这个问题： -**

*   在你的超类中添加一个 0-arg 构造函数

    ```
    public GrammerStructure() {
    } 
    ```

*   或者，在每个子类构造函数中，添加`super`对参数化超类构造函数的调用..

    ```
    public GrammerStack(String structureName, int limit) {
        // Add a `super` with some parameters to match your parameterized 
        // super class constructor here.. 
        // It should be the first statement..
    } 
    ```

**其次**： -

您通过在构造函数中使用`new`关键字来实例化一个类。因此，在您的 main 方法中，您应该使用以下方法更改您的调用：-

```
public void main(String args[]){ 
     new GrammerStack("Stack1",3); 
} 
```

# ruby - Sinatra 中的数据库

> ID：12793136
> 
> 赞同：1
> 
> 时间：2012-10-09T05:06:53.940
> 
> 标签：ruby, database, activerecord, orm, sinatra

我发现一篇[旧帖子](https://stackoverflow.com/questions/777724/whats-the-best-way-to-talk-to-a-database-while-using-sinatra)讨论了如何在 sinatra 中处理数据库，但是互联网上关于 ORM 和 ruby​​ 中的 DB 连接的所有内容似乎都已经过时了。

activerecord 现在是无处不在的标准吗？

编辑：我使用 postgres，但真正重要的是它是一个 SQL。

我看过datamapper，但所有提到它的东西都已经有一年多了，根据[http://datamapper.org/](http://datamapper.org/)，最后一个版本大约是一年前，但我离开了吗？

数据映射器的年龄是否显示？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-09T07:44:07.950

Datamapper 在 Sinatra 社区中更受欢迎。由于 Sinatra 与数据库无关，因此您可以坚持任何您喜欢的 Ruby DB 教程。然而，datamapper.org 上的文档是一个好的开始。是的，其中一些已经过时了。因此，如果您遇到困难，请转到 IRC 频道，大多数时候有人会很快帮助您。

顺便说一句，如果你熟悉 SQL，我推荐你使用 Sequel。在大多数情况下，它不如 Datamapper 舒服，但更可预测。Datamapper 的舒适性是有代价的：虽然它应该可以工作，但有些东西却无法工作。Datamapper 代码做了很多元编程魔法，并不是所有的 DB 驱动程序都像最流行的驱动程序一样复杂。

顺便说一句：Datamapper 是世界上最舒适的 ORM，甚至比 AR 更舒适。;)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-09T05:18:15.013

ActiveRecord 是 rails 附带的标准 DB gem，所以它肯定被大量使用。正如您链接到的帖子中提到的，datamapper 也是一种流行的 gem，并且具有类似的语法。两者都可以正常工作，但我个人更喜欢 sinatra 的 datamapper。[在这里](https://github.com/janko-m/sinatra-activerecord)查看 sinatra + activerecord ，或者只使用[datamapper](http://datamapper.org/getting-started.html)。

# android - 我怎样才能加粗和颜色特定的 textview 项目？

> ID：12793139
> 
> 赞同：3
> 
> 时间：2012-10-09T05:07:05.657
> 
> 标签：android, textview

我想加粗单个 textview item.ex- 23870 的颜色。这是 textview 的值，我想加粗 8 和 7 字符。提前谢谢..

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-09T05:14:23.730

用于[`Spannable`](https://stackoverflow.com/questions/3282940/set-color-of-textview-span-in-android)您的文本视图

并检查[这个](http://daniel-codes.blogspot.in/2011/04/html-in-textviews.html)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-09T05:18:07.260

```
Spannable str = 23870; 
str.setSpan(new StyleSpan(android.graphics.Typeface.BOLD), 2, 3, Spannable.SPAN_EXCLUSIVE_EXCLUSIVE); 
```

检查这个

# mysql - MySQL函数替换文本保持大小写不变

> ID：12793146
> 
> 赞同：1
> 
> 时间：2012-10-09T05:07:32.147
> 
> 标签：mysql

要求是根据美国英语词典替换列值中区分大小写的文本

以下是样品

```
Colour => color
Color => Color (note that C is capitalized here)

FIBRE => FIBER

Colour/Monochrome => Color/Monochrome 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-09T05:22:51.940

这个功能声称可以工作，虽然我没有检查但在[另一个问题](https://stackoverflow.com/questions/5656056/case-insensitive-replace-in-mysql)中用户接受了这个作为答案

[http://pento.net/2009/02/15/case-insensitive-replace-for-mysql/](http://pento.net/2009/02/15/case-insensitive-replace-for-mysql/)

让我知道这是否不起作用

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-09T14:25:07.283

尝试这个：

```
DELIMITER $$
DROP FUNCTION IF EXISTS `replace_ci`$$
CREATE FUNCTION `replace_ci` (str TEXT, needle CHAR(255), str_rep CHAR(255))
    RETURNS TEXT
    DETERMINISTIC
    BEGIN
        DECLARE return_str TEXT DEFAULT '';
        DECLARE lower_str TEXT;
        DECLARE lower_needle TEXT;
        DECLARE pos INT DEFAULT 1;
        DECLARE old_pos INT DEFAULT 1;
        SELECT lower(str) INTO lower_str;
        SELECT lower(needle) INTO lower_needle;
        SELECT locate(lower_needle, lower_str, pos) INTO pos;
        WHILE pos > 0 DO
            SELECT concat(return_str, substr(str, old_pos, pos-old_pos), str_rep) INTO return_str;
            SELECT pos + char_length(needle) INTO pos;
            SELECT pos INTO old_pos;
            SELECT locate(lower_needle, lower_str, pos) INTO pos;
        END WHILE;
        SELECT concat(return_str, substr(str, old_pos, char_length(str))) INTO return_str;

        /** mirror the case **/
        IF (BINARY LEFT(str,1) = LOWER(LEFT(str,1))) THEN
            SET return_str = LOWER(return_str);
        ELSE
            IF (BINARY LEFT(str,2) = UPPER(LEFT(str,2))) THEN
                SET return_str = UPPER(return_str);
            ELSE          
                SET return_str = CONCAT( UPPER(LEFT(return_str,1)), LOWER(RIGHT(return_str, LENGTH(return_str) - 1)) );
            END IF;
        END IF;

        RETURN return_str;
END$$
DELIMITER ; 
```

我已经修改了不区分大小写的替换功能（在另一个答案中提到）以“镜像”原始字符串的大小写

（见 /** 镜像案例 **/ 之后的代码部分）。

但是，它只检查 3 种情况 - 输入字符串是

*   小写
*   大写
*   首字母大写

但它应该适用于这三种情况 - 即

纤维 => 纤维

纤维 => 纤维

纤维 => 纤维

# c++ - 初始化列表，局部变量与数据成员

> ID：12793152
> 
> 赞同：0
> 
> 时间：2012-10-09T05:08:16.547
> 
> 标签：c++, oop, constructor, initialization

```
#include <iostream>
using namespace std;
class Ex {
private:
    int i;
    float f;
public:
    Ex(int i,float f):i(i),f(f) {
        cout << this->i << '\t' << this->f << endl;
    }
    ~Ex(){
        cout << "destructor";
    }
};
int main() {
    Ex i(10,20.1f);
} 
```

在我上面写的上面的程序中，如果构造函数是参数化的构造函数，如下所示：

```
Ex(int i,float f){
        i=i;
        f=f;
        cout << this->i << '\t' << this->f << endl;
    } 
```

这里对象的数据成员被初始化为垃圾，因为数据成员由于同名的局部变量而被隐藏。但是在上面的程序中，没有明确的this.How？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-09T05:44:58.560

之前已经问过类似的问题，例如[here](https://stackoverflow.com/questions/2227244/what-if-a-constructor-parameter-has-the-same-name-as-a-member-variable-in-c)和[here](https://stackoverflow.com/questions/2476381/c-constructor-initialization-list-strangeness)，但是虽然许多答案指出这（与Konstantin D - Infragistics所说的相反）不是特定于编译器的，但我找不到任何实际引用相关部分的答案标准。

所以他们在这里。我增加了重点以突出关键陈述。

> （§12.6.2/10）**在非委托构造函数中，初始化按以下顺序进行：**
> 
> — 首先，并且仅对于最派生类 (1.8) 的构造函数，虚拟基类按照它们在基类的有向无环图的深度优先从左到右遍历中出现的顺序进行初始化，其中“左-to-right”是派生类基类说明符列表中基类的出现顺序。
> — 然后，直接基类按照它们出现在 base-specifier-list 中的声明顺序进行初始化（无论 mem-initializers 的顺序如何）。
> — 然后，**非静态数据成员按照它们在类定义中声明的顺序进行初始化（同样不管 mem-initializers 的顺序）。**
> — 最后，执行构造函数主体的复合语句。
> 
> (§12.6.2/12) mem-initializer 的 expression-list 或 braced-init-list 中的名称在指定 mem-initializer**的构造函数的范围内进行评估**。[ 例子：
> 
> ```
>  class X {
>       int a;
>       int b;
>       int i;
>       int j;
>     public:
>       const int& r;
>       X(int i): r(a), b(i), i(i), j(this->i) { }
>     }; 
> ```
> 
> 初始化`X::r`引用`X::a`，`X::b`用构造函数参数的值初始化**，用构造函数参数的值**`i`初始化**，`X::i``i`**`X::j`用 的值初始化`X::i`；每次创建 X 类的对象时都会发生这种情况。— end example ]
> [ 注意：因为 mem-initializer 是在构造函数的范围内计算的，所以`this`可以在 mem-initializer 的表达式列表中使用指针来引用正在初始化的对象。——尾注]

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-09T05:15:33.083

由于以下几点，所有 C++ 编译器都遵循以下几点：

1.  构造函数初始化列表只能与类构造函数一起存在
2.  在初始化列表中，只能调用相同的类成员和基类构造函数
3.  初始化的顺序与声明类数据成员的顺序相同

当编译器查看初始化器列表`i`并将`f`其作为初始化器列表的一部分时，它会立即识别为类成员并且一切正常（第 2 点）。如果您尝试除and
以外的任何其他内容，编译器将给出错误。`i``f`

在您进行分配的第二种情况下，编译器有 2 个候选者`i`and `f`。它可以是类成员或局部变量。由于局部变量在最内部的范围内，编译器认为`i`as`i`和 not `this->i`。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-09T05:15:31.827

编译器被设计为使用左手`i`并`f`作为类范围的成员和右手`i`并`f`作为构造函数范围的成员。

# ruby-on-rails - 回形针错误：NotIdentifiedByImageMagickError

> ID：12793158
> 
> 赞同：11
> 
> 时间：2012-10-09T05:09:11.070
> 
> 标签：ruby-on-rails, paperclip

我已经安装了一个带有 Paperclip 的导轨，现在它工作得很好，但在最近的部署中它已经坏了。我相信它与 gemfile 更新同时发生，因为机器上的其他任何东西都没有改变。错误是：

```
Command :: file -b --mime :file
[paperclip] Error while determining content type: Command 'file -b --mime :file' returned 1\. Expected 0 
```

这是一个我已验证有效的 png 文件。当我在图像上运行'file -b --mime'时，我得到：

```
image/png; charset=binary 
```

之后我也得到了这个：

```
Command :: identify -format %wx%h :file
[paperclip] An error was received while processing: #<Paperclip::Errors::NotIdentifiedByImageMagickError: /tmp/song_waveform_3010520121008-23335-165xag4.png20121008-23335-j8e18p is not recognized by the 'identify' command.> 
```

我做了一个 which 文件，它给了我 /usr/bin 所以我尝试在 production.rb 中设置 Paperclip.options[:command_path] = "/usr/bin/" 而没有改变。

我想不出为什么会发生这种情况。也许它没有指向正确的目录？我在这里有点迷路了。

* * *

## 回答 #1

> 赞同：21
> 
> 时间：2012-10-09T05:15:36.193

这很可能是由回形针尚未赶上的可卡因 4 中的 API 更改引起的。通过将此行插入到 Gemfile 中，尝试使用早期版本的可卡因：

```
gem "cocaine", "= 0.3.2" 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-11-06T11:29:00.590

添加宝石“可卡因”，“= 0.3.2”

然后捆绑安装消息

```
Bundler could not find compatible versions for gem "cocaine":   In Gemfile:
    paperclip (~> 3.0) x86-mingw32 depends on
      cocaine (~> 0.4.0) x86-mingw32

    cocaine (0.3.2) 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-06-05T06:41:11.927

它曾经适用于 pdf 和图像，试用了一个小时左右，后来我用谷歌搜索的所有内容都在我的模型 has_attached_file 中发现了问题：附件，

> :styles => {:original=> "125x125#"}

不得不评论这一行，它适用于其他附件，如 docx 或 odt 等。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-06-08T04:00:09.447

完成所有更改后，不要忘记重新启动服务器...！

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-09-14T21:41:39.003

对于那些有类似问题的人，请务必仔细检查 ImageMagick 是否已安装，或者确保您不使用“样式”选项。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-10-11T17:33:23.747

我在使用 OSX + MAMP + Passenger + Paperclip 时遇到了这个问题，并且在设置了 command_path 并确保通过 brew 正确安装了 imagemagick 后，将乘客的临时目录和上传目录正确设置为可写的东西，它仍然无法正常工作！

解决方案是在 /Applications/MAMP/Library/bin/envvars 中编辑 MAMP 的 envvars 文件，并注释掉 export DYLD_LIBRARY_PATH 行。

也就是说，改变说

```
export DYLD_LIBRARY_PATH 
```

到

```
# export DYLD_LIBRARY_PATH 
```

然后重新启动 MAMP 并在您的图像正确上传/调整大小时感到兴奋。

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2014-07-12T15:01:05.287

我升级到小牛队后遇到了这个问题。我最终通过取消链接 jpeg 并重新链接它来解决问题

```
brew unlink jpeg
brew link jpeg 
```

一切正常。顺便说一句，运行回形针 4.1

# java - 试图逼近自然对数 e 的值和计算 e 的项数

> ID：12793159
> 
> 赞同：0
> 
> 时间：2012-10-09T05:09:14.110
> 
> 标签：java, algorithm, approximation

```
package homework1C;

public class Homework1C {

public static void main(String[] args){
    double term =2,sum;
    int n;
    final double difference = 0.0000000001;
    double x;
    for(sum=0.0,n=0;term > difference;n++){

        x = find_n_fact(n);
        term=1.0/x;
         sum+=term;
         n++;
    }

        System.out.printf("e : %f\n", sum);
        System.out.printf("term : %d\n", n);

    }

public static int find_n_fact(int n){
int i;
int fact = 2;
for(i = n; i>2;i--){

    fact *= i;
}
    return fact;
}

} 
```

这就是我被要求做的事情：编写另一个 Java 应用程序来查找并显示 e（自然对数）的近似值。使用以下近似公式，从 n 作为 2 开始，以 1 递增，直到 e 的两个连续值相差小于 0.0000000001，并且不仅显示近似值，还显示在最后一个近似值中使用了多少项 n。公式为： e = 1/0 的近似值！+ 1/1！+ 1/2！+ 1/3！+ ... , 其中 n! 是 n 阶乘

这是我目前对该程序的输出

```
e : 1.043081
term : 20 
```

我究竟做错了什么 ？答案应该是

```
e: 2.71828
term: 15 
```

如何解决这个问题？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-09T06:30:02.983

In the sum, the term that follows `1/n!` is `1/(n+1)!`. That means there is no reason to start all over again (computing `(n+1)!` from scratch), but instead just divide the current term value by the next `n` value; ie the loop content only needs to be

```
 term /= n;
    sum += term; 
```

where you initialize n, term and sum to 1 (since 1/0! is 1) before the loop starts. Of course take `n++` out of the loop, because the `for` statement includes an `n++` itself. This approach gets rid of your `find_n_fact()` function and the errors in it. (Minor note: `1e-10` is more convenient to write than `0.0000000001`, and has the same value.) One more suggestion: Add a statement like

```
System.out.printf("sum : %12.10f   term: %12.10f  1/t: %12.10f,  n: %d\n", sum, term, 1/term, n); 
```

inside your loop when debugging; this will make errors like the extra `n++` and the error in the factorial function obvious.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-09T05:26:46.917

你犯的几个错误：

*   你的阶乘方法是错误的。尽管可以在您尝试时以迭代方式完成，但我建议您使用**递归版本**。
*   您在 for 循环中将 n 递增`main()`两次，这是无稽之谈。

这是适合您的完整工作代码：

```
public class Homework1C {
    public static void main(String[] args) {
        double term = 2, sum = 0;
        final double difference = 0.0000000001;
        int n;

        for (n = 0; term > difference; n++) {
            term = 1.0 / find_n_fact(n);
            sum += term;
        }

        System.out.printf("e : %f\n", sum);
        System.out.printf("term : %d\n", n);
    }

    public static double find_n_fact(int n) {

        if (n == 0 || n == 1)
            return 1.0;

        return n * find_n_fact(n - 1);
    }
} 
```

阶乘方法的**迭代版本**在这里：

```
public static double find_n_fact(int n) {
    double i, fact = 1;

    if(n < 0) // for negative numbers, factorial is nonsense.
        return -1;

    for (i = n; i > 1; i--)
        fact *= i;

    return fact;
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-09T05:19:30.057

当 n 为 0 或 1 时，您的阶乘函数看起来`find_n_fact`不正确。

# visual-studio-2010 - 强度计挂着

> ID：12793164
> 
> 赞同：1
> 
> 时间：2012-10-09T05:09:59.833
> 
> 标签：visual-studio-2010, visual-c++, memory-leaks

我制作了一个仪表，显示相机中的最大强度。为了制作仪表，我首先将拨号器放在面板的背景中，然后在该面板上的图片框和具有透明背景的图片框上画针。

我的代码如下...

```
private: System::Void FocusExposure_Load(System::Object^  sender, System::EventArgs^  e) {
                 th = gcnew Thread(gcnew ThreadStart(this,&FocusExposure::UpdateIntensity)); 
                th->Start();            
             }

void UpdateIntensity()
     {
         int intensity=0;
        Intensity_Values data;
         while(1)
         {
         data = ReadImage(cameraBuffer);
                 if(count == 1)
                 {
                     count++;
                    label14->Text =  Convert::ToString(data.Max);
                 }
             label7->Text =  Convert::ToString(data.Max);
             label8->Text =  Convert::ToString(data.Min);
             label9->Text =  Convert::ToString(data.Avg);
             label10->Text =  Convert::ToString(data.Max_Min);
            draw_Intens( data.Max);
         }
     }
private: void draw_Intens(int intensity)
             {

                 this->pictureBox1->Refresh();
                 double const PI = 3.14159265358979323;
                 float degree=angle_array[intensity]*PI/180;
                 circumPoint xy= cordinate_point(degree);

                 Graphics ^ graphics = pictureBox1->CreateGraphics(); 
                 SolidBrush^ shadowBrush = gcnew SolidBrush( Color::Blue );
                     Pen^ penCurrent = gcnew Pen(Color::Blue,3);
                                    graphics->FillEllipse(shadowBrush, 93, 93,14, 14);
                                    graphics->DrawLine(penCurrent, Point(100, 100), Point(xy.x, xy.y));
                                    delete penCurrent;
                                    delete shadowBrush;
                                    delete graphics;
            }
circumPoint cordinate_point(float degree)
         { 
             circumPoint pointxy;
             pointxy.x =  100+redius * cos(degree);
             pointxy.y =  100+redius * sin(degree);
             return pointxy;
         } 
```

**angle_array**是一个`double angle_array[]={126.000000,126.070313,126.140625,...,414.000000}`具有 4097 个角度值的数组，使用这些值针会旋转。

**ReadImage(cameraBuffer)**是一个返回 Max、Min、Avg、Max_Min 强度值的函数。

**Intensity_Values**是 Max Min Avg Max_Min 值的结构。

```
typedef struct {
   int  Max;
   int  Min;
   int  Avg;
   int Max_Min;
} Intensity_Values; 
```

我的表是这样的...

![在此处输入图像描述](../Images/b16a6fdd312ab7d376cd740e77db41e4.png)

左侧的最小强度为 0，右侧的最大强度值为 4096。

**现在我的问题是，当我运行我的应用程序时，它会启动并在 2 3 秒后挂起或可以说停止工作。我认为问题可能是内存泄漏，但我不知道问题出在哪里。**

请帮助我摆脱这个问题。

任何帮助将不胜感激。

谢谢。

# spring-mvc - Spring ResultSetExtractor

> ID：12793165
> 
> 赞同：7
> 
> 时间：2012-10-09T05:10:00.007
> 
> 标签：spring-mvc, spring-jdbc

如何使用`ResultSetExtractor`从数据库中检索数据？这里我使用 oracle 10g 作为后端。如果从员工表中搜索员工详细信息，哪个更好用`ResultSetExtractor`？`RowMapper`

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2016-10-26T19:55:57.603

从 java 8 开始，也可以使用闭包（lambdas）作为行映射例程：

```
String sql = "select first_name, last_name from PERSON where id = ?";

public Person jdbcTemplate.query(sql,(rs)->{return new Person(rs.getString("first_name"), rs.getString("last_name"));}, int id); 
```

第一个方法参数是您的查询，第二个 - 您的映射器 - 需要 Person(String, String) 构造函数。“first_name”、“last_name”是 db 列名。第三 - id 的参数，它是一个可变参数，您可以在其中放置更多参数。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2015-11-05T12:04:42.823

使用 ResultSetExtractor 的更简单示例：

```
MyDataStructure result = jdbcTemplate.query(sql, new ResultSetExtractor<MyDataStructure>() {

  @Override
  public MyDataStructure extractData(final ResultSet rs) throws ... {
    // collect data from rs here ...
    return myData;
  }
}); 
```

# php - 如果值与数据库中的值相同，则添加 Checked in Checkbox

> ID：12793174
> 
> 赞同：0
> 
> 时间：2012-10-09T05:10:40.617
> 
> 标签：php

如果复选框中的值与数据库中的值相同，我尝试在我的复选框中添加选中：

```
My database :
Column = skin_type 
Value = Normal, Dry, Oily

My Default html checkbox :
<input type="checkbox" name="skin_type[]" value="Normal">Normal &nbsp;
<input type="checkbox" name="skin_type[]" value="Dry">Dry &nbsp;
<input type="checkbox" name="skin_type[]" value="Oily">Oily &nbsp;
<input type="checkbox" name="skin_type[]" value="Combination">Combination &nbsp;
<input type="checkbox" name="skin_type[]" value="Sensitive">Sensitive 
```

所以如果值是`Normal, Dry, Oily` 复选框，这个值将被选中，如下所示

![在此处输入图像描述](../Images/505951f22766b1cd55a49b8a99cb5e73.png)

下面是我当前的 php 脚本（*我尝试先分解数据，但不确定如何添加检查值是否与数据库中的值相等*）：

```
<?php 
$query_skin_type = mysql_query("SELECT skin_type FROM `customers` WHERE customers_id='".$_GET['cID']."'");
while($info = mysql_fetch_array($query_skin_type)) {

$skin_type = explode(", ", $info['skin_type']);

    foreach ($skin_type as $value) {
    $value.'<br>';
    }
}
?> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-09T05:27:41.237

您可以编写一个小函数来检查您的 $skin_type 数组。例如：

```
$skin_type = explode(", ", $info['skin_type']);

function isChecked($val, $arr){
  if(in_array($val, $arr)){
    echo 'checked';
  }
}

<input type="checkbox" name="skin_type[]" value="Normal" checked="<?php isChecked('Normal', $skin_type); ?>">Normal &nbsp;
//etc... 
```

请注意，我会以完全不同的方式生成标记，但这无需任何重构就足够了。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-09T05:42:37.277

```
<input type="checkbox" name="skin_type[]" value="Normal" 
<?php
foreach ($skin_type as $value) {
if($value == "Normal") { echo "checked='checked'"; }
}
?> >Normal &nbsp;

<input type="checkbox" name="skin_type[]" value="Dry" <?php
foreach ($skin_type as $value) {
if($value == "Dry") { echo "checked='checked'"; }
}
?> >Dry &nbsp;

<input type="checkbox" name="skin_type[]" value="Oily"  
<?php
foreach ($skin_type as $value) {
if($value == "Oily") { echo "checked='checked'"; }
}
?> 
>Oily &nbsp;

<input type="checkbox" name="skin_type[]" value="Combination"  
<?php
foreach ($skin_type as $value) {
if($value == "Combination") { echo "checked='checked'"; }
}
?> 
>Combination &nbsp;

<input type="checkbox" name="skin_type[]" value="Sensitive"  <?php
foreach ($skin_type as $value) {
if($value == "Sensitive") { echo "checked='checked'"; }
}
?> 
>Sensitive 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-09T06:04:34.977

```
$skin_type = explode(", ", $info['skin_type']);

<input type="checkbox" name="skin_type[]" value="Normal" <?php if(in_array("Normal",$skin_type)){ ?>?checked="checked" <?php } ?>>Normal &nbsp; 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2017-10-27T10:38:50.610

选中的复选框取决于数据库值

`'<input type="checkbox" class="checkbox" name="s_info[]" id="'.$ccid.'-S-'.$value['receipt_no'].'" value="'.$ccid.'-S-'.$value['receipt_no'].'" '. ($value['verified']? "checked":"") .'/>'.`

# html - 使用 HTML5 让视图模仿下面的图像

> ID：12793177
> 
> 赞同：-1
> 
> 时间：2012-10-09T05:10:54.177
> 
> 标签：html, css

我想获得如图所示的按钮样式，所以我需要知道如何使用 HTML5 和 CSS 获得这些类型的按钮。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-09T05:15:57.090

您可以使用`div`通过 CSS[边框半径](http://www.css3.info/preview/rounded-border/)属性设置样式的常规元素，您可以将半径应用于每个`div`. 然后，您可以将[CSS 渐变](http://webdesignerwall.com/tutorials/cross-browser-css-gradient)应用到背景。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-09T05:40:59.880

### HTML

```
<div class="wrap">
    <div class="topLeft"></div>
    <div class="topRight"></div>
    <div class="botLeft"></div>
    <div class="botRight"></div>
</div>​ 
```

### CSS

```
.wrap {width: 515px; padding: 20px; margin: auto;}
.wrap div {width: 150px; height: 150px; background: #ffffff; /* Old browsers */
background: -moz-linear-gradient(top,  #ffffff 0%, #e5e5e5 100%); /* FF3.6+ */
background: -webkit-gradient(linear, left top, left bottom, color-stop(0%,#ffffff), color-stop(100%,#e5e5e5)); /* Chrome,Safari4+ */
background: -webkit-linear-gradient(top,  #ffffff 0%,#e5e5e5 100%); /* Chrome10+,Safari5.1+ */
background: -o-linear-gradient(top,  #ffffff 0%,#e5e5e5 100%); /* Opera 11.10+ */
background: -ms-linear-gradient(top,  #ffffff 0%,#e5e5e5 100%); /* IE10+ */
background: linear-gradient(to bottom,  #ffffff 0%,#e5e5e5 100%); /* W3C */
filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#ffffff', endColorstr='#e5e5e5',GradientType=0 ); /* IE6-9 */
    display: inline-block; border: 1px solid #ccc;}

div.topLeft {border-radius: 50px 15px 15px 15px;}
div.topRight {border-radius: 15px 50px 15px 15px;}
div.botLeft {border-radius: 15px 15px 15px 50px;}
div.botRight {border-radius: 15px 15px 50px 15px;}​ 
```

### 截屏

![预览](../Images/a5791c65552b4dca8183f68b0a10c74d.png)

### 小提琴：http: [//jsfiddle.net/fBTxw/1/](http://jsfiddle.net/fBTxw/1/)

# php - 获取 XML 元素文本，跳过某些元素，到单个字符串中

> ID：12793181
> 
> 赞同：3
> 
> 时间：2012-10-09T05:11:23.653
> 
> 标签：php, xml, xpath

鉴于此源文件（file.xml）：

```
<article>
<story name="column">
    <runs>
        <run p="902" c="103">
            THINK ABOUT IT
        </run>
    </runs>
</story>
<story name="body">
    <runs>
        <run p="895" c="103">
            ‘
        </run>
        <run p="895" c="920">
            T
        </run>
        <run p="895" c="103">
            here is an abiding
            <eol />
            beauty which may be
            <eol />
            appreciated by those
            <eol />
            who will see things as
            <eol />
            they are and who will
            <eol />
            ask for no reward
            <eol />
            except to see.’
            <eol />
        </run>
        <run p="896" c="103">
            Vera Brittain
            <eol />
            (1893-1970)
            <eol />
        </run>
        <run p="897" c="103">
            British author
        </run>
    </runs>
</story> 
```

我已将其放入一个简单的 PHP 脚本中，以从故事元素中获取具有“body”属性的所有文本：

```
<?php

$xml = simplexml_load_file( "file.xml" );

$body = $xml->xpath( "//story[@name='body']/*[not(self::eol)]" );
if( $body ){
    print_r( $body[0] );
}

?> 
```

我的输出几乎符合我的预期：

```
SimpleXMLElement Object
(
    [run] => Array
        (
            [0] => ‘
            [1] => T
            [2] => here is an abiding beauty which may be appreciated by those who will see things as they are and who will ask for no reward except to see.’     
            [3] => Vera Brittain      (1893-1970)     
            [4] => British author
        )
) 
```

无论出于何种原因，我都找不到访问这些值以将它们连接在一起的方法。我已经尝试通过`$body[0]`,`$body[0]->run`等进行解析，但没有给我预期的结果。

底线，我需要得到一个带有值的字符串：

```
‘There is an abiding 
beauty which may be 
appreciated by those 
who will see things as 
they are and who will 
ask for no reward 
except to see.’      
Vera Brittain 
(1893-1970) 
British author 
```

提前致谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-09T08:41:02.953

如果您能够从您的代码运行 XSLT 1.0 样式表，这里有一些 XSLT 代码可以为您提供结果：

```
<?xml version="1.0" encoding="UTF-8"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform"
    version="1.0">
    <xsl:output method="text"/>
    <xsl:strip-space elements="*"/>
    <xsl:template match="/">
        <xsl:apply-templates select="//story[@name='body']"/>
    </xsl:template>
    <xsl:template match="text()">
        <xsl:value-of select="normalize-space(.)"/>
    </xsl:template>
    <xsl:template match="eol">
        <xsl:text>&#13;</xsl:text>
    </xsl:template>
</xsl:stylesheet> 
```

对于这个输入：

```
<?xml version="1.0" encoding="UTF-8"?>
<article>
    <story name="column">
        <runs>
            <run p="902" c="103">
                THINK ABOUT IT
            </run>
        </runs>
    </story>
    <story name="body">
        <runs>
            <run p="895" c="103">
                ‘
            </run>
            <run p="895" c="920">
                T
            </run>
            <run p="895" c="103">
                here is an abiding
                <eol />
                beauty which may be
                <eol />
                appreciated by those
                <eol />
                who will see things as
                <eol />
                they are and who will
                <eol />
                ask for no reward
                <eol />
                except to see.’
                <eol />
            </run>
            <run p="896" c="103">
                Vera Brittain
                <eol />
                (1893-1970)
                <eol />
            </run>
            <run p="897" c="103">
                British author
            </run>
        </runs>
    </story>
</article> 
```

结果是：

```
‘There is an abiding
beauty which may be
appreciated by those
who will see things as
they are and who will
ask for no reward
except to see.’
Vera Brittain
(1893-1970)
British author 
```

# apache - Tomcat 中的虚拟目录不起作用

> ID：12793189
> 
> 赞同：2
> 
> 时间：2012-10-09T05:12:23.050
> 
> 标签：apache, tomcat, virtual-directory, windows-security

帮助！

我正在尝试让 Tomcat 6.0 中的虚拟目录工作。

多年来，这一直在将虚拟目录连接到两个单独的服务器上的共享，而不是我自己的两个单独的组织域。

就在最近，在不同的情况下，这个虚拟目录停止了映射，特别是说：

> java.lang.IllegalArgumentException：文档库 \xxx.xxx.xxx.xxx\CFSoft 不存在或在 org.apache 的 org.apache.naming.resources.FileDirContext.setDocBase(FileDirContext.java:142) 不是可读目录.catalina.core.StandardContext.resourcesStart(StandardContext.java:4249) ...
> 
> 信息：容器 org.apache.catalina.core.ContainerBase.[Catalina].[localhost].[/callcenter/soft/asho] 尚未启动

看起来它与用户权限有关，因为我曾经能够（从 Windows）匿名浏览这些服务器共享，这意味着无需身份验证，现在我不能。我能猜到的是，由于需要一些域身份验证，Tomcat 无法访问这些共享，但是在上下文（虚拟目录）映射中没有任何地方可以指定任何类型的凭据。

我确定我的语法在映射上是正确的：

```
<Context path="/callcenter/soft/aola" docBase="//xxx.xxx.xxx.xxx/CFSoft" privileged="true" debug="0"></Context> 
```

有没有人有什么建议？谢谢。

# c# - 网格视图中的数据键名

> ID：12793193
> 
> 赞同：2
> 
> 时间：2012-10-09T05:12:58.773
> 
> 标签：c#, asp.net

我有一个gridview

```
 DataKeyNames="FilterId,ItemId" 
```

field.我怎样才能获得两个字段中的每个值

```
 gdv_RowEditing 
```

事件。我试过了

```
 protected void gdv_RowEditing(object sender, GridViewEditEventArgs e)
    {
     string a = gdv.DataKeys[e.NewEditIndex].Value[0].ToString(); 
     string b = gdv.DataKeys[e.NewEditIndex].Value[1].ToString();
    } 
```

但它显示错误

```
'cannot apply indexing with [] to an expression of type object' 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-09T05:43:16.353

此错误原因是因为您正在使用

```
 gdv.DataKeys[e.NewEditIndex].Value[0].ToString(); 
```

这里的值是对象的类型，所以你不能索引对象。

获取数据键值使用值而不是像这样的值

```
 gdv.DataKeys[e.NewEditIndex].Values[0].ToString(); 
```

希望这可以帮助..

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-09T05:40:24.643

尝试这个

```
IOrderedDictionary datakeyNames = gdv.DataKeys[0].Values;
string a = datakeyNames["FilterId"].ToString();
string b = datakeyNames["ItemId"].ToString(); 
```

请注意，您必须导入`System.Collections.Specialized`

# android - android包裹读取异常

> ID：12793194
> 
> 赞同：2
> 
> 时间：2012-10-09T05:12:58.317
> 
> 标签：android

[这是这个](https://stackoverflow.com/questions/12783476/sendtextmessagephonenumber-null-message-null-null-always-returns-success)问题的后续问题 我得到以下堆栈 logcat parcel read ecception 为什么我会得到这个

```
 10-09 10:27:27.993: I/dalvikvm(825): threadid=3: reacting to signal 3
10-09 10:27:28.093: I/dalvikvm(825): Wrote stack traces to '/data/anr/traces.txt'
10-09 10:27:28.422: D/gralloc_goldfish(825): Emulator without GPU emulation detected.
10-09 10:28:45.692: W/ActivityThread(872): Application com.example.sms is waiting for the debugger on port 8100...
10-09 10:28:45.793: I/System.out(872): Sending WAIT chunk
10-09 10:28:45.813: I/dalvikvm(872): Debugger is active
10-09 10:28:45.833: I/System.out(872): Debugger has connected
10-09 10:28:45.853: I/System.out(872): waiting for debugger to settle...
10-09 10:28:46.063: I/System.out(872): waiting for debugger to settle...
10-09 10:28:46.263: I/System.out(872): waiting for debugger to settle...
10-09 10:28:46.273: I/dalvikvm(872): threadid=3: reacting to signal 3
10-09 10:28:46.312: I/dalvikvm(872): Wrote stack traces to '/data/anr/traces.txt'
10-09 10:28:46.462: I/System.out(872): waiting for debugger to settle...
10-09 10:28:46.662: I/System.out(872): waiting for debugger to settle...
10-09 10:28:46.783: I/dalvikvm(872): threadid=3: reacting to signal 3
10-09 10:28:46.793: I/dalvikvm(872): Wrote stack traces to '/data/anr/traces.txt'
10-09 10:28:46.863: I/System.out(872): waiting for debugger to settle...
10-09 10:28:47.072: I/System.out(872): waiting for debugger to settle...
10-09 10:28:47.263: I/dalvikvm(872): threadid=3: reacting to signal 3
10-09 10:28:47.293: I/System.out(872): waiting for debugger to settle...
10-09 10:28:47.293: I/dalvikvm(872): Wrote stack traces to '/data/anr/traces.txt'
10-09 10:28:47.492: I/System.out(872): waiting for debugger to settle...
10-09 10:28:47.692: I/System.out(872): waiting for debugger to settle...
10-09 10:28:47.763: I/dalvikvm(872): threadid=3: reacting to signal 3
10-09 10:28:47.773: I/dalvikvm(872): Wrote stack traces to '/data/anr/traces.txt'
10-09 10:28:47.893: I/System.out(872): waiting for debugger to settle...
10-09 10:28:48.100: I/System.out(872): debugger has settled (1441)
10-09 10:28:48.273: I/dalvikvm(872): threadid=3: reacting to signal 3
10-09 10:28:48.402: I/dalvikvm(872): Wrote stack traces to '/data/anr/traces.txt'
10-09 10:28:48.773: I/dalvikvm(872): threadid=3: reacting to signal 3
10-09 10:28:48.813: I/dalvikvm(872): Wrote stack traces to '/data/anr/traces.txt'
10-09 10:28:49.213: D/gralloc_goldfish(872): Emulator without GPU emulation detected.
10-09 10:28:49.282: I/dalvikvm(872): threadid=3: reacting to signal 3
10-09 10:28:49.322: I/dalvikvm(872): Wrote stack traces to '/data/anr/traces.txt'
10-09 10:29:00.063: D/AndroidRuntime(872): Shutting down VM
10-09 10:29:00.063: W/dalvikvm(872): threadid=1: thread exiting with uncaught exception (group=0x409c01f8)
10-09 10:29:00.203: E/AndroidRuntime(872): FATAL EXCEPTION: main
10-09 10:29:00.203: E/AndroidRuntime(872): java.lang.NullPointerException
10-09 10:29:00.203: E/AndroidRuntime(872):  at android.os.Parcel.readException(Parcel.java:1333)
10-09 10:29:00.203: E/AndroidRuntime(872):  at android.os.Parcel.readException(Parcel.java:1281)
10-09 10:29:00.203: E/AndroidRuntime(872):  at com.android.internal.telephony.ISms$Stub$Proxy.sendText(ISms.java:413)
10-09 10:29:00.203: E/AndroidRuntime(872):  at android.telephony.SmsManager.sendTextMessage(SmsManager.java:87)
10-09 10:29:00.203: E/AndroidRuntime(872):  at com.example.sms.SendSMSActivity.sendSMS(SendSMSActivity.java:134)
10-09 10:29:00.203: E/AndroidRuntime(872):  at com.example.sms.SendSMSActivity.access$0(SendSMSActivity.java:74)
10-09 10:29:00.203: E/AndroidRuntime(872):  at com.example.sms.SendSMSActivity$1.onClick(SendSMSActivity.java:59)
10-09 10:29:00.203: E/AndroidRuntime(872):  at android.view.View.performClick(View.java:3511)
10-09 10:29:00.203: E/AndroidRuntime(872):  at android.view.View$PerformClick.run(View.java:14105)
10-09 10:29:00.203: E/AndroidRuntime(872):  at android.os.Handler.handleCallback(Handler.java:605)
10-09 10:29:00.203: E/AndroidRuntime(872):  at android.os.Handler.dispatchMessage(Handler.java:92)
10-09 10:29:00.203: E/AndroidRuntime(872):  at android.os.Looper.loop(Looper.java:137)
10-09 10:29:00.203: E/AndroidRuntime(872):  at android.app.ActivityThread.main(ActivityThread.java:4424)
10-09 10:29:00.203: E/AndroidRuntime(872):  at java.lang.reflect.Method.invokeNative(Native Method)
10-09 10:29:00.203: E/AndroidRuntime(872):  at java.lang.reflect.Method.invoke(Method.java:511)
10-09 10:29:00.203: E/AndroidRuntime(872):  at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:784)
10-09 10:29:00.203: E/AndroidRuntime(872):  at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:551)
10-09 10:29:00.203: E/AndroidRuntime(872):  at dalvik.system.NativeStart.main(Native Method)
10-09 10:29:00.803: I/dalvikvm(872): threadid=3: reacting to signal 3
10-09 10:29:00.823: I/dalvikvm(872): Wrote stack traces to '/data/anr/traces.txt'
10-09 10:29:48.632: I/dalvikvm(920): threadid=3: reacting to signal 3
10-09 10:29:48.793: I/dalvikvm(920): Wrote stack traces to '/data/anr/traces.txt'
10-09 10:29:49.133: I/dalvikvm(920): threadid=3: reacting to signal 3
10-09 10:29:49.173: I/dalvikvm(920): Wrote stack traces to '/data/anr/traces.txt'
10-09 10:29:49.203: D/gralloc_goldfish(920): Emulator without GPU emulation detected.
10-09 10:30:34.003: W/ActivityThread(960): Application com.example.sms is waiting for the debugger on port 8100...
10-09 10:30:34.093: I/System.out(960): Sending WAIT chunk
10-09 10:30:34.103: I/dalvikvm(960): Debugger is active
10-09 10:30:34.113: I/System.out(960): Debugger has connected
10-09 10:30:34.163: I/System.out(960): waiting for debugger to settle...
10-09 10:30:34.362: I/System.out(960): waiting for debugger to settle...
10-09 10:30:34.432: I/dalvikvm(960): threadid=3: reacting to signal 3
10-09 10:30:34.442: I/dalvikvm(960): Wrote stack traces to '/data/anr/traces.txt'
10-09 10:30:34.562: I/System.out(960): waiting for debugger to settle...
10-09 10:30:34.763: I/System.out(960): waiting for debugger to settle...
10-09 10:30:34.923: I/dalvikvm(960): threadid=3: reacting to signal 3
10-09 10:30:34.933: I/dalvikvm(960): Wrote stack traces to '/data/anr/traces.txt'
10-09 10:30:34.963: I/System.out(960): waiting for debugger to settle...
10-09 10:30:35.170: I/System.out(960): waiting for debugger to settle...
10-09 10:30:35.371: I/System.out(960): waiting for debugger to settle...
10-09 10:30:35.442: I/dalvikvm(960): threadid=3: reacting to signal 3
10-09 10:30:35.462: I/dalvikvm(960): Wrote stack traces to '/data/anr/traces.txt'
10-09 10:30:35.573: I/System.out(960): waiting for debugger to settle...
10-09 10:30:35.773: I/System.out(960): waiting for debugger to settle...
10-09 10:30:35.953: I/dalvikvm(960): threadid=3: reacting to signal 3
10-09 10:30:36.013: I/System.out(960): waiting for debugger to settle...
10-09 10:30:36.013: I/dalvikvm(960): Wrote stack traces to '/data/anr/traces.txt'
10-09 10:30:36.215: I/System.out(960): debugger has settled (1432)
10-09 10:30:36.452: I/dalvikvm(960): threadid=3: reacting to signal 3
10-09 10:30:36.582: I/dalvikvm(960): Wrote stack traces to '/data/anr/traces.txt'
10-09 10:30:36.953: I/dalvikvm(960): threadid=3: reacting to signal 3
10-09 10:30:36.983: I/dalvikvm(960): Wrote stack traces to '/data/anr/traces.txt'
10-09 10:30:37.462: I/dalvikvm(960): threadid=3: reacting to signal 3
10-09 10:30:37.472: I/dalvikvm(960): Wrote stack traces to '/data/anr/traces.txt'
10-09 10:30:37.502: D/gralloc_goldfish(960): Emulator without GPU emulation detected.
10-09 10:31:08.195: D/AndroidRuntime(960): Shutting down VM
10-09 10:31:08.195: W/dalvikvm(960): threadid=1: thread exiting with uncaught exception (group=0x409c01f8)
10-09 10:31:08.292: E/AndroidRuntime(960): FATAL EXCEPTION: main
10-09 10:31:08.292: E/AndroidRuntime(960): java.lang.NullPointerException
10-09 10:31:08.292: E/AndroidRuntime(960):  at android.os.Parcel.readException(Parcel.java:1333)
10-09 10:31:08.292: E/AndroidRuntime(960):  at android.os.Parcel.readException(Parcel.java:1281)
10-09 10:31:08.292: E/AndroidRuntime(960):  at com.android.internal.telephony.ISms$Stub$Proxy.sendText(ISms.java:413)
10-09 10:31:08.292: E/AndroidRuntime(960):  at android.telephony.SmsManager.sendTextMessage(SmsManager.java:87)
10-09 10:31:08.292: E/AndroidRuntime(960):  at com.example.sms.SendSMSActivity.sendSMS(SendSMSActivity.java:134)
10-09 10:31:08.292: E/AndroidRuntime(960):  at com.example.sms.SendSMSActivity.access$0(SendSMSActivity.java:74)
10-09 10:31:08.292: E/AndroidRuntime(960):  at com.example.sms.SendSMSActivity$1.onClick(SendSMSActivity.java:57)
10-09 10:31:08.292: E/AndroidRuntime(960):  at android.view.View.performClick(View.java:3511)
10-09 10:31:08.292: E/AndroidRuntime(960):  at android.view.View$PerformClick.run(View.java:14105)
10-09 10:31:08.292: E/AndroidRuntime(960):  at android.os.Handler.handleCallback(Handler.java:605)
10-09 10:31:08.292: E/AndroidRuntime(960):  at android.os.Handler.dispatchMessage(Handler.java:92)
10-09 10:31:08.292: E/AndroidRuntime(960):  at android.os.Looper.loop(Looper.java:137)
10-09 10:31:08.292: E/AndroidRuntime(960):  at android.app.ActivityThread.main(ActivityThread.java:4424)
10-09 10:31:08.292: E/AndroidRuntime(960):  at java.lang.reflect.Method.invokeNative(Native Method)
10-09 10:31:08.292: E/AndroidRuntime(960):  at java.lang.reflect.Method.invoke(Method.java:511)
10-09 10:31:08.292: E/AndroidRuntime(960):  at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:784)
10-09 10:31:08.292: E/AndroidRuntime(960):  at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:551)
10-09 10:31:08.292: E/AndroidRuntime(960):  at dalvik.system.NativeStart.main(Native Method)
10-09 10:31:08.913: I/dalvikvm(960): threadid=3: reacting to signal 3
10-09 10:31:08.923: I/dalvikvm(960): Wrote stack traces to '/data/anr/traces.txt'
10-09 10:31:11.983: I/Process(960): Sending signal. PID: 960 SIG: 9
10-09 10:31:28.392: I/dalvikvm(1008): threadid=3: reacting to signal 3
10-09 10:31:28.492: I/dalvikvm(1008): Wrote stack traces to '/data/anr/traces.txt'
10-09 10:31:28.843: D/gralloc_goldfish(1008): Emulator without GPU emulation detected.
10-09 10:31:32.713: D/AndroidRuntime(1008): Shutting down VM
10-09 10:31:32.713: W/dalvikvm(1008): threadid=1: thread exiting with uncaught exception (group=0x409c01f8)
10-09 10:31:32.803: E/AndroidRuntime(1008): FATAL EXCEPTION: main
10-09 10:31:32.803: E/AndroidRuntime(1008): java.lang.NullPointerException
10-09 10:31:32.803: E/AndroidRuntime(1008):     at android.os.Parcel.readException(Parcel.java:1333)
10-09 10:31:32.803: E/AndroidRuntime(1008):     at android.os.Parcel.readException(Parcel.java:1281)
10-09 10:31:32.803: E/AndroidRuntime(1008):     at com.android.internal.telephony.ISms$Stub$Proxy.sendText(ISms.java:413)
10-09 10:31:32.803: E/AndroidRuntime(1008):     at android.telephony.SmsManager.sendTextMessage(SmsManager.java:87)
10-09 10:31:32.803: E/AndroidRuntime(1008):     at com.example.sms.SendSMSActivity.sendSMS(SendSMSActivity.java:134)
10-09 10:31:32.803: E/AndroidRuntime(1008):     at com.example.sms.SendSMSActivity.access$0(SendSMSActivity.java:74)
10-09 10:31:32.803: E/AndroidRuntime(1008):     at com.example.sms.SendSMSActivity$1.onClick(SendSMSActivity.java:57)
10-09 10:31:32.803: E/AndroidRuntime(1008):     at android.view.View.performClick(View.java:3511)
10-09 10:31:32.803: E/AndroidRuntime(1008):     at android.view.View$PerformClick.run(View.java:14105)
10-09 10:31:32.803: E/AndroidRuntime(1008):     at android.os.Handler.handleCallback(Handler.java:605)
10-09 10:31:32.803: E/AndroidRuntime(1008):     at android.os.Handler.dispatchMessage(Handler.java:92)
10-09 10:31:32.803: E/AndroidRuntime(1008):     at android.os.Looper.loop(Looper.java:137)
10-09 10:31:32.803: E/AndroidRuntime(1008):     at android.app.ActivityThread.main(ActivityThread.java:4424)
10-09 10:31:32.803: E/AndroidRuntime(1008):     at java.lang.reflect.Method.invokeNative(Native Method)
10-09 10:31:32.803: E/AndroidRuntime(1008):     at java.lang.reflect.Method.invoke(Method.java:511)
10-09 10:31:32.803: E/AndroidRuntime(1008):     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:784)
10-09 10:31:32.803: E/AndroidRuntime(1008):     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:551)
10-09 10:31:32.803: E/AndroidRuntime(1008):     at dalvik.system.NativeStart.main(Native Method)
10-09 10:31:33.392: I/dalvikvm(1008): threadid=3: reacting to signal 3
10-09 10:31:33.402: I/dalvikvm(1008): Wrote stack traces to '/data/anr/traces.txt'
10-09 10:32:10.452: I/dalvikvm(1055): threadid=3: reacting to signal 3
10-09 10:32:10.523: I/dalvikvm(1055): Wrote stack traces to '/data/anr/traces.txt'
10-09 10:32:10.923: D/gralloc_goldfish(1055): Emulator without GPU emulation detected.
10-09 10:32:10.953: I/dalvikvm(1055): threadid=3: reacting to signal 3
10-09 10:32:10.973: I/dalvikvm(1055): Wrote stack traces to '/data/anr/traces.txt'
10-09 10:35:10.863: D/AndroidRuntime(1055): Shutting down VM
10-09 10:35:10.863: W/dalvikvm(1055): threadid=1: thread exiting with uncaught exception (group=0x409c01f8)
10-09 10:35:10.883: E/AndroidRuntime(1055): FATAL EXCEPTION: main
10-09 10:35:10.883: E/AndroidRuntime(1055): java.lang.NullPointerException
10-09 10:35:10.883: E/AndroidRuntime(1055):     at android.os.Parcel.readException(Parcel.java:1333)
10-09 10:35:10.883: E/AndroidRuntime(1055):     at android.os.Parcel.readException(Parcel.java:1281)
10-09 10:35:10.883: E/AndroidRuntime(1055):     at com.android.internal.telephony.ISms$Stub$Proxy.sendText(ISms.java:413)
10-09 10:35:10.883: E/AndroidRuntime(1055):     at android.telephony.SmsManager.sendTextMessage(SmsManager.java:87)
10-09 10:35:10.883: E/AndroidRuntime(1055):     at com.example.sms.SendSMSActivity.sendSMS(SendSMSActivity.java:132)
10-09 10:35:10.883: E/AndroidRuntime(1055):     at com.example.sms.SendSMSActivity.access$0(SendSMSActivity.java:72)
10-09 10:35:10.883: E/AndroidRuntime(1055):     at com.example.sms.SendSMSActivity$1.onClick(SendSMSActivity.java:57)
10-09 10:35:10.883: E/AndroidRuntime(1055):     at android.view.View.performClick(View.java:3511)
10-09 10:35:10.883: E/AndroidRuntime(1055):     at android.view.View$PerformClick.run(View.java:14105)
10-09 10:35:10.883: E/AndroidRuntime(1055):     at android.os.Handler.handleCallback(Handler.java:605)
10-09 10:35:10.883: E/AndroidRuntime(1055):     at android.os.Handler.dispatchMessage(Handler.java:92)
10-09 10:35:10.883: E/AndroidRuntime(1055):     at android.os.Looper.loop(Looper.java:137)
10-09 10:35:10.883: E/AndroidRuntime(1055):     at android.app.ActivityThread.main(ActivityThread.java:4424)
10-09 10:35:10.883: E/AndroidRuntime(1055):     at java.lang.reflect.Method.invokeNative(Native Method)
10-09 10:35:10.883: E/AndroidRuntime(1055):     at java.lang.reflect.Method.invoke(Method.java:511)
10-09 10:35:10.883: E/AndroidRuntime(1055):     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:784)
10-09 10:35:10.883: E/AndroidRuntime(1055):     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:551)
10-09 10:35:10.883: E/AndroidRuntime(1055):     at dalvik.system.NativeStart.main(Native Method)
10-09 10:35:11.453: I/dalvikvm(1055): threadid=3: reacting to signal 3
10-09 10:35:11.473: I/dalvikvm(1055): Wrote stack traces to '/data/anr/traces.txt'
10-09 10:35:50.673: I/dalvikvm(1104): threadid=3: reacting to signal 3
10-09 10:35:50.803: I/dalvikvm(1104): Wrote stack traces to '/data/anr/traces.txt'
10-09 10:35:51.112: D/gralloc_goldfish(1104): Emulator without GPU emulation detected.
10-09 10:35:51.142: I/dalvikvm(1104): threadid=3: reacting to signal 3
10-09 10:35:51.182: I/dalvikvm(1104): Wrote stack traces to '/data/anr/traces.txt'
10-09 10:37:12.383: D/AndroidRuntime(1104): Shutting down VM
10-09 10:37:12.383: W/dalvikvm(1104): threadid=1: thread exiting with uncaught exception (group=0x409c01f8)
10-09 10:37:12.403: E/AndroidRuntime(1104): FATAL EXCEPTION: main
10-09 10:37:12.403: E/AndroidRuntime(1104): java.lang.NullPointerException
10-09 10:37:12.403: E/AndroidRuntime(1104):     at android.os.Parcel.readException(Parcel.java:1333)
10-09 10:37:12.403: E/AndroidRuntime(1104):     at android.os.Parcel.readException(Parcel.java:1281)
10-09 10:37:12.403: E/AndroidRuntime(1104):     at com.android.internal.telephony.ISms$Stub$Proxy.sendText(ISms.java:413)
10-09 10:37:12.403: E/AndroidRuntime(1104):     at android.telephony.SmsManager.sendTextMessage(SmsManager.java:87)
10-09 10:37:12.403: E/AndroidRuntime(1104):     at com.example.sms.SendSMSActivity.sendSMS(SendSMSActivity.java:132)
10-09 10:37:12.403: E/AndroidRuntime(1104):     at com.example.sms.SendSMSActivity.access$0(SendSMSActivity.java:72)
10-09 10:37:12.403: E/AndroidRuntime(1104):     at com.example.sms.SendSMSActivity$1.onClick(SendSMSActivity.java:57)
10-09 10:37:12.403: E/AndroidRuntime(1104):     at android.view.View.performClick(View.java:3511)
10-09 10:37:12.403: E/AndroidRuntime(1104):     at android.view.View$PerformClick.run(View.java:14105)
10-09 10:37:12.403: E/AndroidRuntime(1104):     at android.os.Handler.handleCallback(Handler.java:605)
10-09 10:37:12.403: E/AndroidRuntime(1104):     at android.os.Handler.dispatchMessage(Handler.java:92)
10-09 10:37:12.403: E/AndroidRuntime(1104):     at android.os.Looper.loop(Looper.java:137)
10-09 10:37:12.403: E/AndroidRuntime(1104):     at android.app.ActivityThread.main(ActivityThread.java:4424)
10-09 10:37:12.403: E/AndroidRuntime(1104):     at java.lang.reflect.Method.invokeNative(Native Method)
10-09 10:37:12.403: E/AndroidRuntime(1104):     at java.lang.reflect.Method.invoke(Method.java:511)
10-09 10:37:12.403: E/AndroidRuntime(1104):     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:784)
10-09 10:37:12.403: E/AndroidRuntime(1104):     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:551)
10-09 10:37:12.403: E/AndroidRuntime(1104):     at dalvik.system.NativeStart.main(Native Method)
10-09 10:37:12.992: I/dalvikvm(1104): threadid=3: reacting to signal 3
10-09 10:37:13.012: I/dalvikvm(1104): Wrote stack traces to '/data/anr/traces.txt'
10-09 10:37:24.783: I/dalvikvm(1169): threadid=3: reacting to signal 3
10-09 10:37:24.882: I/dalvikvm(1169): Wrote stack traces to '/data/anr/traces.txt'
10-09 10:37:25.283: I/dalvikvm(1169): threadid=3: reacting to signal 3
10-09 10:37:25.303: I/dalvikvm(1169): Wrote stack traces to '/data/anr/traces.txt'
10-09 10:37:25.503: D/gralloc_goldfish(1169): Emulator without GPU emulation detected.
10-09 10:37:34.952: W/IInputConnectionWrapper(1169): showStatusIcon on inactive InputConnection
10-09 10:37:45.533: D/AndroidRuntime(1169): Shutting down VM
10-09 10:37:45.533: W/dalvikvm(1169): threadid=1: thread exiting with uncaught exception (group=0x409c01f8)
10-09 10:37:45.563: E/AndroidRuntime(1169): FATAL EXCEPTION: main
10-09 10:37:45.563: E/AndroidRuntime(1169): java.lang.NullPointerException
10-09 10:37:45.563: E/AndroidRuntime(1169):     at android.os.Parcel.readException(Parcel.java:1333)
10-09 10:37:45.563: E/AndroidRuntime(1169):     at android.os.Parcel.readException(Parcel.java:1281)
10-09 10:37:45.563: E/AndroidRuntime(1169):     at com.android.internal.telephony.ISms$Stub$Proxy.sendText(ISms.java:413)
10-09 10:37:45.563: E/AndroidRuntime(1169):     at android.telephony.SmsManager.sendTextMessage(SmsManager.java:87)
10-09 10:37:45.563: E/AndroidRuntime(1169):     at com.example.sms.SendSMSActivity.sendSMS(SendSMSActivity.java:132)
10-09 10:37:45.563: E/AndroidRuntime(1169):     at com.example.sms.SendSMSActivity.access$0(SendSMSActivity.java:72)
10-09 10:37:45.563: E/AndroidRuntime(1169):     at com.example.sms.SendSMSActivity$1.onClick(SendSMSActivity.java:57)
10-09 10:37:45.563: E/AndroidRuntime(1169):     at android.view.View.performClick(View.java:3511)
10-09 10:37:45.563: E/AndroidRuntime(1169):     at android.view.View$PerformClick.run(View.java:14105)
10-09 10:37:45.563: E/AndroidRuntime(1169):     at android.os.Handler.handleCallback(Handler.java:605)
10-09 10:37:45.563: E/AndroidRuntime(1169):     at android.os.Handler.dispatchMessage(Handler.java:92)
10-09 10:37:45.563: E/AndroidRuntime(1169):     at android.os.Looper.loop(Looper.java:137)
10-09 10:37:45.563: E/AndroidRuntime(1169):     at android.app.ActivityThread.main(ActivityThread.java:4424)
10-09 10:37:45.563: E/AndroidRuntime(1169):     at java.lang.reflect.Method.invokeNative(Native Method)
10-09 10:37:45.563: E/AndroidRuntime(1169):     at java.lang.reflect.Method.invoke(Method.java:511)
10-09 10:37:45.563: E/AndroidRuntime(1169):     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:784)
10-09 10:37:45.563: E/AndroidRuntime(1169):     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:551)
10-09 10:37:45.563: E/AndroidRuntime(1169):     at dalvik.system.NativeStart.main(Native Method)
10-09 10:37:46.122: I/dalvikvm(1169): threadid=3: reacting to signal 3
10-09 10:37:46.142: I/dalvikvm(1169): Wrote stack traces to '/data/anr/traces.txt' 
```

短信活动

```
public class SendSMSActivity extends Activity {

Button btnSendSMS;
EditText txtPhoneNo;
EditText txtMessage;

/** Called when the activity is first created. */
@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.activity_main);

    btnSendSMS = (Button) findViewById(R.id.btnSendSMS);
    txtPhoneNo = (EditText) findViewById(R.id.txtPhoneNo);
    txtMessage = (EditText) findViewById(R.id.txtMessage);

    btnSendSMS.setOnClickListener(new View.OnClickListener() {
        public void onClick(View v) {
            String phoneNo = txtPhoneNo.getText().toString();
            String message = txtMessage.getText().toString();
            if (phoneNo.length() > 0 && message.length() > 0)

            {
                TelephonyManager telMgr = (TelephonyManager) getSystemService(Context.TELEPHONY_SERVICE);
                int simState = telMgr.getSimState();
                switch (simState) {
                case TelephonyManager.SIM_STATE_ABSENT:
                    Toast.makeText(getBaseContext(), "No Sim Card found",
                            Toast.LENGTH_SHORT).show();
                    break;
                case TelephonyManager.SIM_STATE_NETWORK_LOCKED:
                    // do something
                    break;
                case TelephonyManager.SIM_STATE_PIN_REQUIRED:
                    // do something
                    break;
                case TelephonyManager.SIM_STATE_PUK_REQUIRED:
                    // do something
                    break;
                case TelephonyManager.SIM_STATE_READY:
                    sendSMS(phoneNo, message); // method to send message
                    break;
                case TelephonyManager.SIM_STATE_UNKNOWN:
                    // do something
                    break;
                }
            } else
                Toast.makeText(getBaseContext(),
                        "Please enter both phone number and message.",
                        Toast.LENGTH_SHORT).show();
        }

        private void sendSMS(String phoneNumber, String message) {
            String SENT = "SMS_SENT";
            String DELIVERED = "SMS_DELIVERED";

            PendingIntent sentPI = PendingIntent.getBroadcast(
                    SendSMSActivity.this, 0, new Intent(SENT), 0);

            PendingIntent deliveredPI = PendingIntent.getBroadcast(
                    SendSMSActivity.this, 0, new Intent(DELIVERED), 0);

            // ---when the SMS has been sent---final String string =
            // "deprecation";
            registerReceiver(new BroadcastReceiver() {

                @Override
                public void onReceive(Context arg0, Intent arg1) {
                    switch (getResultCode()) {
                    case Activity.RESULT_OK:
                        Toast.makeText(SendSMSActivity.this, "SMS sent",
                                Toast.LENGTH_SHORT).show();
                        break;
                    case SmsManager.RESULT_ERROR_GENERIC_FAILURE:
                        Toast.makeText(SendSMSActivity.this,
                                "Generic failure", Toast.LENGTH_SHORT)
                                .show();
                        break;
                    case SmsManager.RESULT_ERROR_NO_SERVICE:
                        Toast.makeText(SendSMSActivity.this, "No service",
                                Toast.LENGTH_SHORT).show();
                        break;
                    case SmsManager.RESULT_ERROR_NULL_PDU:
                        Toast.makeText(SendSMSActivity.this, "Null PDU",
                                Toast.LENGTH_SHORT).show();
                        break;
                    case SmsManager.RESULT_ERROR_RADIO_OFF:
                        Toast.makeText(getBaseContext(), "Radio off",
                                Toast.LENGTH_SHORT).show();
                        break;

                    }
                }
            }, new IntentFilter(SENT));

            // ---when the SMS has been delivered---
            registerReceiver(new BroadcastReceiver() {
                @Override
                public void onReceive(Context arg0, Intent arg1) {
                    switch (getResultCode()) {
                    case Activity.RESULT_OK:
                        Toast.makeText(SendSMSActivity.this,
                                "SMS delivered", Toast.LENGTH_SHORT).show();
                        break;
                    case Activity.RESULT_CANCELED:
                        Toast.makeText(SendSMSActivity.this,
                                "SMS not delivered", Toast.LENGTH_SHORT)
                                .show();
                        break;
                    }
                }
            }, new IntentFilter(DELIVERED));

            SmsManager sms = SmsManager.getDefault();
            sms.sendTextMessage(phoneNumber, null, message, sentPI,
                    deliveredPI);

        }
    });
} 
```

}

# c# - 在弹出窗口中显示 Web 网格的选定行详细信息

> ID：12793195
> 
> 赞同：0
> 
> 时间：2012-10-09T05:13:04.953
> 
> 标签：c#, jquery, asp.net-mvc, webgrid

我的页面中有一个带有一些数据的 webgrid。在每一行旁边，都有作为操作链接，编辑。当用户单击编辑操作链接时，所选行应显示在弹出窗口中，并带有保存和取消按钮。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-09T05:18:39.243

如果您的数据在表格中呈现，那么您可以通过这种方式

```
<script>

    $(document).ready(function () {
        $('a[id$ = yourid]').click(function () {
            var row = $(this).closest('tr');
            var var1 = row.find('#idOfControl').val();
            alert(var1);
        });
    });

</script> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-09T05:23:20.660

尝试这个：

```
$("#tblID tbody").on("click","a", function(){    
        var $row = $(this).closest("tr");
        alert($row.find("td").eq(0));//.eq() - index of td.    
    }); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-09T05:19:21.397

单击任何行时，打开弹出窗口并导航到一个页面，该页面将为您提供有关所选行内容的所有详细信息，方法是将所选行 ID 作为查询字符串参数传递。

# php - 使用 Dreamweaver，如何通过 PHP 填充下拉列表？

> ID：12793197
> 
> 赞同：0
> 
> 时间：2012-10-09T05:13:20.273
> 
> 标签：php, html, mysql, drop-down-menu, dreamweaver

我正在尝试通过嵌入在 HTML 中的 PHP 填充下拉列表。

这是我到目前为止所拥有的：

```
 <select name="ChapterList" id="ChapterList" style="width:120px;">
    <?php
    $username = "xxxxxxxxxxx";
    $password = "xxxxxxxxx";
    $database = "xxxxxxxxxxxxxx";
    $host = "xxxxxxxx.mydomainwebhost.com";

@mysql_connect($host, $username, $password) or die("Unable to connect to database");
@mysql_select_db($database) or die("Unable to select database");

$query = "SELECT * FROM Chapters ORDER BY Id";

$ListOptions = mysql_query($query);

while($row = mysql_fetch_array($ListOptions))
{
    echo "<option value='".$row['Id']."'>".$row['ChapterName']."</option>"
}
     ?>
     </select> 
```

我知道我收到了预期的结果，因为如果 I `echo $row['ChapterName'];`，我在数据库中的当前值以正确的顺序列出，那么为什么当我`echo "<option value='".$row['Id']."'>".$row['ChapterName']."</option>"`的列表什么也没收到时呢？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-09T05:18:00.837

`echo`您的语句末尾缺少分号

```
 while($row = mysql_fetch_array($ListOptions)) {
     echo "<option value='".$row['Id']."'>".$row['ChapterName']."</option>";
   }
  ?> 
```

注意：开始使用PHP 团队不再维护的`mysqli_()`函数。`mysql_()`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-09T08:28:35.547

尝试使用这个

```
 <?php
$form='';
$link = odbc_connect ('databasename', 'username', 'password');
if (!$link)
{
 die('Could not connect: ' . odbc_error());
}
echo 'Connected successfully .<br>';

//Query the database
$sql = "SELECT * FROM Chapters ORDER BY Id ";
$result = odbc_exec($link,$sql);
$selectbox='<select id=combox name=Chapters  >';

            while($bin =odbc_fetch_array($result))
                {

                    $selectbox.= "<option  value=\"$bin[Chapters]\">$bin[FChapters]</option>";
                }

                    odbc_close($link);
                    $selectbox.='</select>';
                    echo "Select Name".$selectbox;
 ?> 
```

这段代码对我来说很完美

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-11T04:14:03.453

好的......所以我以某种方式解决了我自己的问题。

我发现我的 php 被注释掉了`<--!` `-->`。我只是将文件扩展名更改`.php`为`.html`. 下拉列表立即生效，并填充了正确的值。

但这提出了另一个问题......我怎样才能让**内联**PHP 工作？我的网站由 MyDomain 托管。有没有我在某处缺少的设置？

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2012-10-09T05:21:12.057

尝试使用这个

```
<select>
  while($row = mysql_fetch_array($ListOptions))
   {
$id=$row['Id'];
$cname=$row['ChapterName'];
       echo "<option value='$id'>$cname</option>";
   }
  ?></select> 
```

* * *

## 回答 #5

> 赞同：-1
> 
> 时间：2012-10-09T05:46:33.593

我已经纠正了他们只看一次，

* * *

```
 <?php 
$username = "xxxxxxxxxxx";
$password = "xxxxxxxxx";
$database = "xxxxxxxxxxxxxx";
$host = "xxxxxxxx.mydomainwebhost.com";
$dbc=@mysqli_connect($host, $username, $password,$database) or die("Unable to connect to database");
?>

<select name="ChapterList" id="ChapterList" style="width:120px;">
<?php
$query = "SELECT * FROM Chapters ORDER BY Id";

$ListOptions = mysqli_query($dbc,$query);

while($row = mysqli_fetch_array($ListOptions,MYSQLI_ASSOC))
{
    echo "<option value='".$row['Id']."'>".$row['ChapterName']."</option>";
}
?>
 </select> 
```

# java - 为什么在 ArrayList 中出现 ConcurrentModificationException？

> ID：12793199
> 
> 赞同：1
> 
> 时间：2012-10-09T05:13:58.150
> 
> 标签：java, collections

为什么下面的代码会抛出 ConcurrentModificationException？Josh Bloch 可以避免 ConcurrentModificationException。

```
ArrayList<Integer> list=new ArrayList<Integer>();
list.add(100);
list.add(200);
list.add(300);
list.add(400);
for(Integer field : list) {    
    list.remove(field);
    list.add(200);
} 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-09T05:15:53.707

使用“for each”循环时，您不能在列表中使用 remove 。相反，您可以使用它在迭代器上调用 remove：

```
Iterator<Integer> iterator = list.iterator();
while(iterator.hasNext()) {
    Integer integer = iterator.next();

    // ...check if you want to remove this one...

    iterator.remove();
} 
```

如果你真的想用“200”替换每个值，或者用其他值替换，建立一个新列表可能更有意义：

```
List<Integer> newList = new ArrayList<Integer>();

Iterator<Integer> iterator = list.iterator();
while(iterator.hasNext()) {
    Integer integer = iterator.next();

    newList.add(integer);

    iterator.remove();
} 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-10-09T05:17:59.010

如果您在修改数组时迭代数组，则不清楚行为应该是什么。

如果你删除了一个元素，它还应该被迭代吗？

该列表不会尝试猜测，而是会引发 ConcurrentModificationException 以导致错误，而不是通过意外行为。

一种解决方案是您可以遍历列表的浅表副本，然后修改原始列表

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-09T05:23:07.073

您可以从正在使用的 ArrayList 中删除对象。我在我的游戏引擎中使用它并且它有效。

请参阅[http://code.google.com/p/game-engine-for-java/source/browse/src/com/gej/map/Map.java#350](http://code.google.com/p/game-engine-for-java/source/browse/src/com/gej/map/Map.java#350)

```
for (int i = 0; i < objects.size(); i++) {
    GObject other = objects.get(i);
    if (other.isAlive()) {
        // Update it
    } else {
        // Else remove it
        objects.remove(i);
    }
} 
```

您遇到的错误是这不适用于`for each`循环。尝试正常`for`循环，这应该可以解决您的问题。

将您的代码更改为此。

```
ArrayList<Integer> list =new ArrayList<Integer>();
ArrayList<Integer> remove = new ArrayList<Integer>();
list.add(100);
list.add(200);
list.add(300);
list.add(400);
// Mark to remove
for (int i=0; i<list.size(); i++){
    remove.add(list.get(i));
}
list.removeAll(remove);
remove.clear();
// adding 200 at the end because if added in the loop,
// it removes the 200 and adds every loop which causes
// unnecessary memory usage.
list.add(200); 
```

# amazon-s3 - 大型上传期间的 Ruby on rails 超时

> ID：12793200
> 
> 赞同：2
> 
> 时间：2012-10-09T05:14:06.443
> 
> 标签：amazon-s3, ruby-on-rails-3.2

我正在尝试使用 ruby​​ on rails 将我的文件上传到 aws s3 上。代码对于较小的上传非常有效，但对于大于 3-4mb 的上传，我会收到超时错误。我正在使用代码在 s3 上上传文件：

```
AWS::S3::S3Object.store(filename, params[:file].read, @BUCKET_NAME, :access => :private) 
```

我如何解决我的问题以进行更大的上传。我可以增加 ruby​​ 脚本的超时间隔时间以允许更大的上传吗？

请帮忙...

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-09T22:56:29.257

我建议利用最近的 CORS 支持。我试图清楚地详细说明如何在那里使用它：http: [//pjambet.github.com/blog/direct-upload-to-s3/](http://pjambet.github.com/blog/direct-upload-to-s3/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-09T05:21:16.357

我建议您对长请求使用[http 流](http://railscasts.com/episodes/266-http-streaming)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-09T05:32:38.067

假设您正在使用：aws-s3 gem

当您**处理大文件时，您必须使用 I/O 流，以便分段读取该文件。**

相反，你可能会使用这样的东西：

`S3Object.store('roots.mpeg', open('roots.mpeg'), @BUCKET_NAME, :access => :private)`

可以找到更多详细信息：http: [//amazon.rubyforge.org/](http://amazon.rubyforge.org/)

# apache - Win 2008 服务器上域上 Bitnami Redmine 的端口配置

> ID：12793211
> 
> 赞同：2
> 
> 时间：2012-10-09T05:15:33.167
> 
> 标签：apache, iis-7, windows-server-2008, redmine, bitnami

我已经在 Win Server 2008 R2 64 位上使用 Bitnami Stack 安装了 Redmine。我已经在那里运行了 IIS，并且想要配置 subdomain.domain.com 以访问可以在`http://127.0.0.1:3000/redmine`.

我正在按照本指南（http://wiki.bitnami.org/Applications/BitNami_Redmine_Stack）做同样的事情。但无法让它工作。

配置后我无法完全访问 Redmine，但仍然可以访问 Bitnami 页面`http://127.0.0.1:3000/`

我想确认我应该在下面配置哪个端口来监听，我应该将其保留为端口 80 还是将其配置为监听端口 3000？请指示。

```
<VirtualHost *:80>
  ServerAdmin example.com
  ServerName example.com
  ServerAlias server
  ErrorLog "logs/error.log" 
  CustomLog "logs/access.log" combined
 # this not only blocks access to .svn directories, but makes it                
 # appear as though they aren't even there, not just that they are              
 # forbidden                                                                    
 <DirectoryMatch "^/.*/\.svn/">
    ErrorDocument 403 /404.html
    Order allow,deny
    Deny from all
    Satisfy All
  </DirectoryMatch>
  # This passes through remote_user to mongrel                                  
  RewriteEngine On
  # Redirect non-static requests to cluster                                     
  RewriteCond %{DOCUMENT_ROOT}/%{REQUEST_FILENAME} !-f
  RewriteRule ^/(.*)$ balancer://redminecluster%{REQUEST_URI} [P,QSA,L]
</VirtualHost>

#ProxyPass / balancer://redminecluster
#ProxyPassReverse / balancer://redminecluster

<Proxy balancer://redminecluster>
  BalancerMember http://127.0.0.1:3001
  BalancerMember http://127.0.0.1:3002
</Proxy> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-15T15:26:08.553

如果您已经在端口 80 中运行 IIS 并为其他应用程序提供服务，您可以尝试将 IIS 配置为 apache 的反向代理。

[https://serverfault.com/questions/47537/can-iis-be-configure-to-forward-request-to-another-web-server](https://serverfault.com/questions/47537/can-iis-be-configure-to-forward-request-to-another-web-server)

# jquery - jQuery 查找查询

> ID：12793219
> 
> 赞同：-1
> 
> 时间：2012-10-09T05:16:22.907
> 
> 标签：jquery, html

我有 3 个部分，想用 jQuery 一个一个地展示它们，但我不知道怎么做？

**查询**

> $infos = $("#ex-2").find('section').hide(),

**HTML**

```
<div class="ex">
  <article>
    <section>
      <font style="background-color:#000000"> Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.
        Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.
        Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. </font>
    </section>
    <section>
      <font style="background-color:#000000"> testing testing </font>
    </section>
    <section>
      <font style="background-color:#000000">testing 2</font>
    </section>
  </article>
</div> 
```

有什么帮助吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-09T05:21:51.770

问题不清楚/不完整。通过猜测，我可以建议您使用[jQuery Cycle Plugin](http://jquery.malsup.com/cycle/)

添加循环插件后，您只需简单地调用它：

```
$(document).ready(function(){
  $('article').cycle({
    fx: 'fade' // choose your transition type, ex: fade, scrollUp, shuffle, etc...
  });
}) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-09T05:24:06.593

好吧，首先你的容器 div 有一个类，而不是一个 id，所以你需要使用`".ex"`not进行选择`"#ex-2"`。然后尝试这样的事情：

```
$(document).ready(function() {
    var $infos = $(".ex").find('section').hide(),
        i = 0;

    function showOneByOne(){
        if (i < $infos.length)
            $infos.eq(i).fadeIn(500, showOneByOne);
        i++;
    }
    showOneByOne();
}); 
```

演示：http: [//jsfiddle.net/A2Nbu/](http://jsfiddle.net/A2Nbu/)

如果“一个一个地显示”意味着显示一个，然后隐藏它并显示下一个，并无限期地继续下去，那么对上面的一个小修改就可以做到：

```
$(document).ready(function() {
    var $infos = $(".ex").find('section').hide(),
        i = 0;

    function showOneByOne(){
        $infos.eq(i).fadeIn(500).fadeOut(100, showOneByOne);
        i = (i + 1) % $infos.length;      
    }
    showOneByOne();
}); 
```

演示：http: [//jsfiddle.net/A2Nbu/2/](http://jsfiddle.net/A2Nbu/2/)

无论哪种方式，想法都是从隐藏的部分开始，并使用索引变量一个一个地循环它们`i`。

有关我使用的 jQuery 方法的详细信息，请访问[jQuery API 参考站点](http://api.jquery.com)。

# tooltwist - FIP 部署错误

> ID：12793221
> 
> 赞同：1
> 
> 时间：2012-10-09T05:16:55.983
> 
> 标签：tooltwist

我们正在我们的一台服务器上进行部署，并且出现以下错误。

错误：tooltwist.fip.FipException 来自服务器的未知响应：500：内部服务器错误异常：tooltwist.fip.FipException：tooltwist.fip.FipException：来自服务器的未知响应：500：内部服务器错误

查看 FIP 日志，它显示：

安装批处理时出错：tooltwist.fip.FipException：预提交命令失败：protected/pre_commit.sh tooltwist.fip.FipException：预提交命令失败：tooltwist.fip.FipServer_updateExecuter.commitTransaction 的受保护/pre_commit.sh（FipServer_updateExecuter.java :309) 在 tooltwist.fip.FipServer_updateExecuter.prepareUpdates_1_3(FipServer_updateExecuter.java:250) 在 tooltwist.fip.FipServer_updateExecuter.executeUpdates(FipServer_updateExecuter.java:142) 在 tooltwist.fip.FipServer.destination_installBatchOfFiles(FipServer.java:199) 在 tooltwist .fip.jetty.InstallBatchServlet.doPost(InstallBatchServlet.java:134) 在 javax.servlet.http.HttpServlet.service(HttpServlet.java:727) 在 javax.servlet.http.HttpServlet.service(HttpServlet.java:820) 在org.eclipse.jetty.servlet.ServletHolder。org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:426) org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:227) 的句柄(ServletHolder.java:530) .eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:931) 在 org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:361) 在 org.eclipse.jetty.server.session.SessionHandler .doScope(SessionHandler.java:186) 在 org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:867) 在 org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:117) ) 在 org.eclipse.jetty.server 的 org.eclipse.jetty.server.Server.handle(Server.java:337) 的 org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:113)。org.eclipse.jetty.server.HttpConnection$RequestHandler.content(HttpConnection.java:1020) 的 HttpConnection.handleRequest(HttpConnection.java:581) org.eclipse.jetty.http.HttpParser.parseNext(HttpParser.java:775)在 org.eclipse.jetty.http.HttpParser.parseAvailable(HttpParser.java:228) 在 org.eclipse.jetty.server.HttpConnection.handle(HttpConnection.java:417) 在 org.eclipse.jetty.io.nio.SelectChannelEndPoint .run(SelectChannelEndPoint.java:474) at org.eclipse.jetty.util.thread.QueuedThreadPool$2.run(QueuedThreadPool.java:437) at java.lang.Thread.run(Thread.java:662)775）在 org.eclipse.jetty.server.HttpConnection.handle（HttpConnection.java:417）在 org.eclipse.jetty.io.nio .SelectChannelEndPoint.run(SelectChannelEndPoint.java:474) at org.eclipse.jetty.util.thread.QueuedThreadPool$2.run(QueuedThreadPool.java:437) at java.lang.Thread.run(Thread.java:662)775）在 org.eclipse.jetty.server.HttpConnection.handle（HttpConnection.java:417）在 org.eclipse.jetty.io.nio .SelectChannelEndPoint.run(SelectChannelEndPoint.java:474) at org.eclipse.jetty.util.thread.QueuedThreadPool$2.run(QueuedThreadPool.java:437) at java.lang.Thread.run(Thread.java:662)

关于错误的任何想法？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-09T05:48:14.327

几个建议： 1\. 服务器上是否存在 pre_commit.sh shell 脚本。2.它有+x权限吗？

如果 FIP 是使用正常方式安装的，则不会导致问题。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-09T11:59:57.740

fipserver 最初将其接收到的文件保存在目标服务器上，但保存到临时位置。收到并保存所有文件后，它会运行三个步骤来完成安装：

> ```
>  1\. Run a script named protected/pre-commit.sh. The normal operation of this script is to shut down the web server.
>    2\. For each new file:
>        a) move any existing file to .fip-rollback-xxxxxx/filename.
>        b) move the new file from it's temporary location to the correct location.
>    3\. Run a script named protected/post-commit.sh. This most commonly restarts the server. 
> ```

提交前和提交后脚本是用户提供的。它们通常应该以零状态退出，因为任何其他状态都表明发生了错误。

如上一个答案中所建议的，检查这些脚本是否存在，并且它们是可执行的。如果这无法解决您的问题，请将调试插入脚本以确定它们失败的位置和原因。

# html - 删除 HTML 中的未知空白区域

> ID：12793222
> 
> 赞同：1
> 
> 时间：2012-10-09T05:16:58.743
> 
> 标签：html, css

我的网站上有两个页面。我试图使它具有相同的外观，但事实并非如此。此页面在页面顶部有一个空白区域。请告诉我如何删除它。我找不到导致此空白区域的 HTML 代码。

[http://ec2-50-17-62-126.compute-1.amazonaws.com/dev/chia-se-dia-diem](http://ec2-50-17-62-126.compute-1.amazonaws.com/dev/chia-se-dia-diem)

此页面正常，没有意外空白区域 [http://ec2-50-17-62-126.compute-1.amazonaws.com/dev](http://ec2-50-17-62-126.compute-1.amazonaws.com/dev)

谢谢你！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-09T05:29:26.980

我认为您忘记关闭网站中的任何标签。很可能是javascript的问题。所以，一一删除javascript并检查一下......

# c# - 在已运行的应用程序中打开文件

> ID：12793224
> 
> 赞同：1
> 
> 时间：2012-10-09T05:17:07.583
> 
> 标签：c#, wpf

我已经设置好了，所以如果你打开一个文件，它会启动我的应用程序并将其添加到启动参数中。但是，如果我双击一个文件，它将如何将其加载到已经运行的应用程序中，我该如何做到这一点？而不是将每个文件加载到它自己的应用程序实例中。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-09T05:32:53.550

互斥锁希望您需要一个应用程序实例。

```
bool createdNew = true;
using (Mutex mutex = new Mutex(true, "MyApplicationName", out createdNew))
{
if (createdNew)
{
Application.EnableVisualStyles();
Application.SetCompatibleTextRenderingDefault(false);
Application.Run(new MainForm());
}
} 
```

您可以参考此[链接](http://iridescence.no/post/creatingasingleinstanceapplicationinc.aspx)了解详细信息。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-09T05:23:20.257

在 C# 中使用 mdiParent 和子窗体我认为这是 vs C# 的一大特色

* * *

更多信息：http: [//msdn.microsoft.com/en-us/library/d4dabts7%28v=vs.80%29.aspx](http://msdn.microsoft.com/en-us/library/d4dabts7%28v=vs.80%29.aspx)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-09T05:30:15.213

您需要制作您的应用程序`single-Instance`，请参阅这篇文章：

*   [单实例 C# 应用程序](http://www.codeproject.com/Articles/12890/Single-Instance-C-Application-for-NET-2-0)

# java - 无法在 Java 中存储多个输入值

> ID：12793227
> 
> 赞同：0
> 
> 时间：2012-10-09T05:17:30.023
> 
> 标签：java, arrays, arraylist

我在 Java 中存储多个输入值时遇到问题。首先，我使用 ArrayList 来存储用户输入的输入数量。然后我想在收集所有输入后进行计算。

我的程序允许用户在 1 到 5 之间输入 5 个不同的值。1 等于 100，2 等于 200，3 等于 300，4 等于 400，5 等于 500

我创建一个数组来存储这些值

```
double numberArray[] = {100, 200, 300, 400, 500}; 
```

当用户输入 1 时，ArrayList 将存储第一个输入值。当用户输入 2 时，ArrayList 将存储第二个输入值，依此类推。当用户点击“n”时，它将退出并进行添加。这意味着它将 100 和 200 相加，输出将等于 300。

但是，问题是当用户继续输入数字时，即使我输入 2 作为第二个输入，我的程序也只会将第一个输入的总和相加，即 100 + 100。

这是我的代码：

```
import java.util.*;

public class Total{

   static int total;
   public static void main(String[] args) {

    int numberArray[] = {100, 200, 300, 400, 500};

    List<String> list = new ArrayList<String>();
    Scanner input = new Scanner(System.in);

    do{
        System.out.println("Add item? Please enter \"y\" or \"n\"");
        if (input.next().startsWith("y")){
            System.out.println("Enter item number: ");
            list.add(input.next());
            if (list.contains("1")){
                int item1 = numberArray[0];
                total = total + item1;
            } else if(list.contains("2")){
                int item2 = numberArray[1];
                total = total + item2;
            } else if(list.contains("3")){
                int item3 = numberArray[2];
                    total = total + item3;
            } else if(list.contains("4")){
                    int item4 = numberArray[3];
                total = total + item4;
            } else {
            System.out.println("You have entered invalid item number!");
            break;
            }               
        }else{
            System.out.println("You have entered all the item(s).");
            break;
        }       
     } while(true);
             System.out.println(The total is: " + total);
     }
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-09T05:40:39.553

考虑一下我运行程序时会发生什么。

第一次运行：我回答`'y'`；并输入`1`。`list.contains("1")`评估为`true`。一切都很好，并且`total=100`。
第二遍：我回答`'y'`；并输入`2`。但是，`list.contains("1")`仍然评估为`true`- 哎呀！再次添加 100，显然应该添加 200。事实上，每次下一次运行都会添加 100，因为`list.contains("1")`从现在开始将始终如此。

不要使用列表来存储用户输入，`String`而是使用变量。更好的是，考虑使用`input.nextInt()`并查找表中的值。

另外，您忘记了“5”的情况。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-09T05:26:21.350

您正在从扫描仪读取两次

```
list.add(input.next());
System.out.println(input.next()); 
```

但丢弃第二个输入......

**更新**

好的，这是我的看法

```
public class TestScanner03 {

    private static int total;

    public static void main(String[] args) {

        int numberArray[] = {100, 200, 300, 400, 500};

        List<String> list = new ArrayList<String>();
        Scanner input = new Scanner(System.in);

        // Better to use a stateful flag then simply "break" the loop
        boolean stay = true;
        do {
            System.out.println("Add item? Please enter \"y\" or \"n\"");
            String next = input.next();
            // Catch case issues
            if (next.equalsIgnoreCase("y")) {
                System.out.println("Enter item number: ");
                next = input.next();
                try {
                    // Make sure that the user actually entered a numeric value
                    int value = Integer.parseInt(next);
                    switch (value) {

                        // Make sure the value is within range
                        case 1:
                        case 2:
                        case 3:
                        case 4:
                        case 5:
                            // Make sure we don't already have the value
                            if (!list.contains(next)) {
                                // Extract the "addition" from the number array...
                                total += numberArray[value - 1];
                                list.add(next);
                                System.out.println("Your total is now " + total);
                            } else {
                                System.out.println(next + " is already used");
                            }
                            break;

                        default:
                            break;

                    }
                } catch (NumberFormatException numberFormatException) {
                    System.out.println(next + " is not a valid number");
                }

            } else {
                System.out.println("You have entered all the item(s).");
                stay = false;
            }
        } while (stay);
        System.out.println("Your total is " + total);
    }

} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-09T05:37:57.650

应修改 IF 条件以获得预期的输出，如下所示

```
if (list.get(list.size() -1).contains("1")) 
```

查看修复了所有错误的完整代码：

```
 import java.util.*; 

public class Total{ 

   static int total; 
   public static void main(String[] args) { 

    int numberArray[] = {100, 200, 300, 400, 500}; 

    List<String> list = new ArrayList<String>(); 
    Scanner input = new Scanner(System.in); 

    do{ 
        System.out.println("Add item? Please enter \"y\" or \"n\""); 
        if (input.next().startsWith("y")){ 
            System.out.println("Enter item number: "); 
            String temp = input.next(); //store the user inputed element
            list.add(temp); //add that element in list
            //System.out.println(input.next()); 

            //Now use the temporary variable in if conditions
            if (temp.contains("1")){ 
                int item1 = numberArray[0]; 
                total = total + item1; 
            } else if(temp.contains("2")){ 
                int item2 = numberArray[1]; 
                total = total + item2; 
            } else if(temp.contains("3")){ 
                int item3 = numberArray[2]; 
                    total = total + item3; 
            } else if(temp.contains("4")){ 
                    int item4 = numberArray[3]; 
                total = total + item4; 
            } else { 
            System.out.println("You have entered invalid item number!"); 
            break; 
            }                
        }else{ 
            System.out.println("You have entered all the item(s)."); 
            break; 
        }        
     } while(true);

        System.out.println("Total is: " + total);
    } 
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-09T05:29:45.373

你的总数永远不会增加，相反，它只是在第 n 个位置打印元素。

```
 if (list.contains("1")){ //You entered 2, this is false, total = 0
                int item1 = numberArray[0];
                total = total + item1; // this doesn't get executed
            } else if(list.contains("2")){ //true
                int item2 = numberArray[1];
                total = total + item2; // total = 200
            } else if(list.contains("3")){ //false
                int item3 = numberArray[2];
                    total = total + item3; // still total = 200, as this is not executed
            } else if(list.contains("4")){ // false
                    int item4 = numberArray[3];
                total = total + item4; // not executed, still total = 200
            } 
```

因此，更好的解决方案是使用 switch 语句，或者将输入转换为 int。

```
int input = Integer.parseInt(list.get(0));
if(input < 5)
{
  for(int i = 0; i< input; i++)
  total += numberArray[i];
} 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-10-09T05:32:49.520

**只需这样尝试....**

将值分配给 String 变量，然后重试...

`String getUserInput = new Scanner(System.in).next();`

**编码：**

```
do{
        System.out.println("Add item? Please enter \"y\" or \"n\"");

        String getUserInput = new Scanner(System.in).next();

        if (getUserInput.startsWith("y")){
            System.out.println("Enter item number: ");
            list.add(getUserInput);
            System.out.println(getUserInput);
            if (list.contains("1")){
                int item1 = numberArray[0];
                total = total + item1;
            } else if(list.contains("2")){
                int item2 = numberArray[1];
                total = total + item2;
            } else if(list.contains("3")){
                int item3 = numberArray[2];
                    total = total + item3;
            } else if(list.contains("4")){
                    int item4 = numberArray[3];
                total = total + item4;
            } else {
            System.out.println("You have entered invalid item number!");
            break;
            }               
        }else{
            System.out.println("You have entered all the item(s).");
            break;
        }       
     } while(true); 
     } 
```

# actionscript-3 - 如何在 Adob e AIR for mobile 中设置 android:screenOrientation="sensorLandscape" 的等效项

> ID：12793228
> 
> 赞同：0
> 
> 时间：2012-10-09T05:17:30.117
> 
> 标签：actionscript-3, air, flash-builder

我有一个 Adob​​e AIR Actionscript for Mobile 项目。我想发布，使其行为类似于：sensorLandscape“横向，但可以是基于设备传感器的正常或反向横向。” - 来自[Android API 文档](http://developer.android.com/guide/topics/manifest/activity-element.html)。

我已经设定：

```
<initialWindow>
    <content>AppName.swf</content>
    <aspectRatio>landscape</aspectRatio>
    <autoOrients>true</autoOrients>
<initialWindow> 
```

在 App.xml 中。

结果是在从 FlashBuilder 7 发布调试文件时在 Nexus 7 上 - 它始终是横向的 - 但它不会随着设备重新定向以显示反向横向。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-09T08:10:40.913

你没有给出任何代码，所以我假设你不听：

```
stage.addEventListener(StageOrientationEvent.ORIENTATION_CHANGE, orientationChangeListener, false, 0, true);
//...
protected function orientationChangeListener(event:Event):void
    {
        /*
        log("beforeOrientation:" + event["beforeOrientation"].toString()
             + "\nafterOrientation:" + event["afterOrientation"].toString());
        */
    } 
```

Android 在方向更改时会创建视图的新实例，AIR 不会，因此您必须通过侦听方向更改并相应地采取行动来对此进行编程，例如通过旋转视图（和调整大小等）还检查舞台上的调整大小事件，因为它似乎对屏幕方向变化的反应更快。

```
stage.addEventListener(Event.RESIZE, onStageResized, false, 0, true);
//...
protected function onStageResized(e:Event=null):void
{
    trace("sr.Orientation: " + stage.deviceOrientation);
} 
```

此致

# iphone - 逐渐减小 CAShapeLayer wrt 半径

> ID：12793229
> 
> 赞同：1
> 
> 时间：2012-10-09T05:17:36.530
> 
> 标签：iphone, mask, cabasicanimation, cakeyframeanimation, cashapelayer

![在此处输入图像描述](../Images/63b49276059b503c6a27f71f30d1296b.png)

我有一个 UIImageView 和上面的图像，所以我要做的是逐渐减少和增加图像的形状。

为了完成上述任务，显然我必须应用蒙版，所以我创建了一个圆形 CAShapeLayer 并添加到 UIImageView 层，如果我改变我的半径，它工作正常，它只会显示那个数量的图像 wrt 半径。

我的问题是我们如何应用动画，以便它以动画形式显示。请指导我，我无法用关键帧动画实现。

以下是屏蔽 wrt 半径的代码。

```
// Set up the shape of the circle
int rChange = 0; // Its doing proper masking while changing this value
int radius = 123.5-rChange;

CAShapeLayer *circle = [CAShapeLayer layer];
// Make a circular shape
circle.path = [UIBezierPath bezierPathWithRoundedRect:CGRectMake(0+rChange, 0+rChange, 2.0*radius, 2.0*radius)
                                         cornerRadius:radius].CGPath;

// Configure the apperence of the circle
[circle setFillColor:[[UIColor blackColor] CGColor]];    
[[self.originalImageView layer] setMask:circle];
self.originalImageView.layer.masksToBounds = YES; 
```

其中 123.5 是图像的最大半径， originalImageView 是 myUIImageView

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-09T06:40:33.887

如果您只想显示一个具有动画变化半径的棕色圆圈，我建议进行两项更改：

1.  不要为图像而烦恼。只需使用 a`CAShapeLayer`并将其设置`fillColor`为棕色。

2.  将图层的路径设置一次，设置为宽度和高度为 1 点的圆圈。然后使用`CAShapeLayer`'s`transform`来改变大小。您可以为`transform`.

例如，像这样创建图层：

```
CGRect bounds = self.view.bounds;

circleLayer = [CAShapeLayer layer];
circleLayer.fillColor = [UIColor brownColor].CGColor; 
```

    circleLayer.position = CGPointMake(CGRectGetMidX(bounds), CGRectGetMidY(bounds));

```
// Create a circle with 1-point width/height.
circleLayer.path = [UIBezierPath bezierPathWithOvalInRect:CGRectMake(0, 0, 1, 1)].CGPath;

// Use the layer transform to scale the circle up to the size of the view.
[circleLayer setValue:@(bounds.size.width) forKeyPath:@"transform.scale"]; 
```

然后你可以像这样改变它的大小：

```
[circleLayer setValue:@(newSize) forKeyPath:@"transform.scale"]; 
```

这将使用默认参数隐式（自动）为大小更改设置动画。如果要使用不同的动画参数，可以显式地为变换设置动画：

```
CABasicAnimation *animation = [CABasicAnimation animationWithKeyPath:@"transform.scale"];
animation.fromValue = [circleLayer valueForKeyPath:@"transform.scale"];
animation.toValue = @(newSize);
animation.duration = 3.0;
animation.timingFunction = [CAMediaTimingFunction functionWithName: kCAMediaTimingFunctionEaseOut];

// Important: change the actual layer property before installing the animation.
[circleLayer setValue:animation.toValue forKeyPath:animation.keyPath];

// Now install the explicit animation, overriding the implicit animation.
[circleLayer addAnimation:animation forKey:animation.keyPath]; 
```

# android - 在应用程序活动中创建图标并使其透明

> ID：12793241
> 
> 赞同：3
> 
> 时间：2012-10-09T05:18:38.667
> 
> 标签：android, icons, transparency

我想 在 quickr 的主页上创建类似[此图像或类似内容的图标。](http://imgur.com/KB7jz "可选标题")如果我为此使用自定义gridview [（](http://www.mkyong.com/android/android-gridview-example/ "可选标题")当然在我的情况下我需要图像下方的文本），那么我猜想添加监听器将很困难。如果背景是透明的，我应该使用下面的图像和文本按钮吗？如果是这样，我需要使用哪种布局？或者在android中是否有任何图标视图工具，如按钮和图像视图等其他视图，以便我们可以根据我们的要求进行修改。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-09T05:30:25.510

您应该为此使用按钮。

```
<Button
  android:id="@+id/btnIconName"
  android:layout_width="wrap_content"
  android:layout_height="wrap_content"
  android:drawableTop="@drawable/iconimage"
  android:text="IconTitle" /> 
```

要显示图标，您应该使用 android:drawableTop 和 iocnTitle 使用 android:text 属性。

希望我的回答对你有帮助。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-09T12:14:43.407

GridView 将是执行此操作的最佳选择，为什么不让您的图形人员添加带有图像的文本。

# c# - 在泛型类中引用枚举成员的语法

> ID：12793243
> 
> 赞同：2
> 
> 时间：2012-10-09T05:18:47.497
> 
> 标签：c#, java

对于以下泛型类。

```
class Message<T>
{
    public enum TYPE { Heart, Spade };
} 
```

在 Java 中，要引用枚举，我可以简单地

```
// Works in Java
Message.TYPE type = Message.TYPE.Heart; 
```

但是在 C# 中呢？在 C# 中，我需要提供一个**虚拟**类型

```
Message<double>.TYPE type = Message<double>.TYPE.Heart; 
```

有什么办法可以避免这种`dummy`类型？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-09T05:33:55.840

单独定义枚举，而不是在类中。

**编辑：**

```
class Message
{
    public enum TYPE { Heart, Spade };
}

class Message<T>: Message
{
} 
```

现在你可以用两种方式做到这一点，用法：

```
Message.TYPE type1 = Message.TYPE.Heart;
Message<double>.TYPE type2 = Message.TYPE.Heart; 
```

希望这会有所帮助。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-10-09T05:29:29.680

您可以使用以下代码。

```
abstract class Message
{
   public enum TYPE { Heart, Spade };
}

class Message<T> : Message
{

} 
```

然后你可以访问`TYPE`喜欢`Message.TYPE type = Message.TYPE.Heart;`

# java - Java：向自实现的双向链表添加排序功能

> ID：12793247
> 
> 赞同：1
> 
> 时间：2012-10-09T05:19:02.307
> 
> 标签：java, linked-list

我正在尝试在此代码中实现一个排序功能，以创建一个双向链表。

除了添加“实现可比”之外，我不知道从哪里开始。在那之后，我完全不知道下一步该做什么。

```
public class MyLinkedList<AnyType> implements Comparable<AnyType>, Iterable<AnyType>
{
    private int theSize;
    private Node<AnyType> beginMarker;
    private Node<AnyType> endMarker;

    public MyLinkedList( )
    {
        clear( );
    }

    private static class Node<AnyType>
    {
        public Node( AnyType d, Node<AnyType> p, Node<AnyType> n )
        {
            data = d; prev = p; next = n;
        }

        public AnyType data;
        public Node<AnyType>   prev;
        public Node<AnyType>   next;
    }

    public void clear( )
    {
        beginMarker = new Node<AnyType>( null, null, null );
        endMarker = new Node<AnyType>( null, beginMarker, null );
        beginMarker.next = endMarker;

        theSize = 0;
    }

    public int size( )
    {
        return theSize;
    }

    public boolean isEmpty( )
    {
        return size( ) == 0;
    }

    public boolean add( AnyType x )
    {
        add( size( ), x );   
        return true;         
    }

    public void add( int idx, AnyType x )
    {
        addBefore( getNode( idx, 0, size( ) ), x );
    }

    private void addBefore( Node<AnyType> p, AnyType x )
    {
        Node<AnyType> newNode = new Node<AnyType>( x, p.prev, p );
        newNode.prev.next = newNode;
        p.prev = newNode;         
        theSize++;
    }   

    public AnyType get( int idx )
    {
        return getNode( idx ).data;
    }

    public AnyType set( int idx, AnyType newVal )
    {
        Node<AnyType> p = getNode( idx );
        AnyType oldVal = p.data;

        p.data = newVal;   
        return oldVal;
    }

    private Node<AnyType> getNode( int idx )
    {
        return getNode( idx, 0, size( ) - 1 );
    }

    private Node<AnyType> getNode( int idx, int lower, int upper )
    {
        Node<AnyType> p;

        if( idx < lower || idx > upper )
            throw new IndexOutOfBoundsException( "getNode index: " + idx + "; size: " + size( ) );

        if( idx < size( ) / 2 )
        {
            p = beginMarker.next;
            for( int i = 0; i < idx; i++ )
                p = p.next;            
        }
        else
        {
            p = endMarker;
            for( int i = size( ); i > idx; i-- )
                p = p.prev;
        } 

        return p;
    }

    public AnyType remove( int idx )
    {
        return remove( getNode( idx ) );
    }

    private AnyType remove( Node<AnyType> p )
    {
        p.next.prev = p.prev;
        p.prev.next = p.next;
        theSize--;

        return p.data;
    }

    public String toString( )
    {
        StringBuilder sb = new StringBuilder( "[ " );

        for( AnyType x : this )
            sb.append( x + " " );
        sb.append( "]" );

        return new String( sb );
    }

    public java.util.Iterator<AnyType> iterator( )
    {
        return new LinkedListIterator( );
    }

    private class LinkedListIterator implements java.util.Iterator<AnyType>
    {
        private Node<AnyType> current = beginMarker.next;
        private boolean okToRemove = false;

        public boolean hasNext( )
        {
            return current != endMarker;
        }

        public AnyType next( )
        {
            if( !hasNext( ) )
                throw new java.util.NoSuchElementException( ); 

            AnyType nextItem = current.data;
            current = current.next;
            okToRemove = true;
            return nextItem;
        }

        public void remove( )
        {
            if( !okToRemove )
                throw new IllegalStateException( );

            MyLinkedList.this.remove( current.prev );
            okToRemove = false;       
        }
    }

    public int compareTo(AnyType other) 
    {
        return this.compareTo(other);
    } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-09T06:30:56.430

通常，您希望您的列表实现 Collection 接口，并且列表中的项目实现 Comparable（这涉及以您添加到列表的任何类型实现 compareTo()）。您可以通过要求列表元素类型实现 Comparable 来强类型化。一个捷径可能是扩展另一个 Collection 类型，例如 LinkedList，并使用反向列表增强它。

不过，作为一般规则，如果看看其他人的双向链表实现。也许试试谷歌的番石榴库？- [http://code.google.com/p/guava-libraries/wiki/NewCollectionTypesExplained](http://code.google.com/p/guava-libraries/wiki/NewCollectionTypesExplained)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-09T06:01:07.623

链表是最差的排序数据结构。一种简单的方法（可能被视为作弊）是将列表映射到数组中，对数组进行排序，然后重建列表。

如果您必须实现整个排序算法（对于您的班级？），那么每个算法都有一个基本的排序原语，通常是您必须实现的“交换”。

无论如何，请注意列表的根元素的身份。

# java - 与 Integer.MAX_VALUE 比较并使用 System.out.println 时，for 循环提前终止

> ID：12793248
> 
> 赞同：8
> 
> 时间：2012-10-09T05:19:03.033
> 
> 标签：java, for-loop, int, max

当我运行这个类时，for循环似乎提前终止

```
class Test {

    public static void main(String[] args) {
        int result = 0;
        int end = Integer.MAX_VALUE;
        int i;
        for (i = 1; i <= end; i += 2) {
            System.out.println(i);
        }
        System.out.println("End:" + i);
    }

} 
```

输出是：

```
1
3
5
...
31173
31175
End:31177 
```

为什么到此为止？有趣的是，如果我删除了`System.out.println(i)`for 循环中的 ，输出将是`End:-2147483647`. 显然 中的值`i`有`wrapped round`。

我使用的 Java 版本是

```
Java(TM) SE Runtime Environment (build 1.6.0_16-b01)
Java HotSpot(TM) 64-Bit Server VM (build 14.2-b01, mixed mode) 
```

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2012-10-09T05:29:58.310

它是 Java 6 中的一个已知错误。JIT 错误地优化了循环。我相信最新版本的 Java 没有这个错误。

[http://vanillajava.blogspot.co.uk/2011/05/when-jit-gets-it-wrong.html](http://vanillajava.blogspot.co.uk/2011/05/when-jit-gets-it-wrong.html)

Java 6 update 16 才刚刚推出两年多。如果您无法更新到 Java 7，我建议您更新到最新版本 Java 6 update 25。

BTW Java 6 将在几个月后终止免费支持（2012 年 12 月）

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-10-23T18:50:40.977

您可以使用 Integer.MAX_VALUE-1 解决 JVM 错误。

# windows-phone-7 - 可以有滑动面板吗？

> ID：12793249
> 
> 赞同：0
> 
> 时间：2012-10-09T05:19:20.710
> 
> 标签：windows-phone-7, components, slidingdrawer

我正在 wp7 中开发应用程序，该应用程序已经在 android 和 iPhone 中开发。

两者都使用组件滑动面板，因为它们是默认的，现在对于相同的外观，应该使用组件提供相同的外观和感觉。

是否可以使用任何组件组合或任何可用于该组件的自定义 dll，或者是否有任何可用于此滑动面板的替代等效组件。

我期望的滑动面板就像这个[视频](http://www.youtube.com/watch?v=5q6x9za4MZY)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-09T07:15:59.323

我的想法很简单，只需使用带有自定义[动画的](http://msdn.microsoft.com/en-us/library/system.windows.media.animation.storyboard.aspx)[弹出窗口](http://msdn.microsoft.com/en-us/library/system.windows.controls.primitives.popup.aspx)即可。

> ```
>  DoubleAnimation anima = new DoubleAnimation();
>         anima.From = //current position;
>         anima.To = //slider position; 
> ```

```
 //animation now proportional to pixel difference

        anima.Duration = new Duration(System.TimeSpan.FromMilliseconds(Math.Abs((300))));
        //Debug.WriteLine("Duration=" + TimeSpan.FromMilliseconds(Math.Abs((to - from) * 2)));
        // Set attached properties
        Storyboard.SetTarget(anima, m_Popup);
        //Storyboard.SetTargetProperty(anima, new PropertyPath(System.Windows.Controls.Primitives.Popup.WidthProperty));
        Storyboard.SetTargetProperty(anima, new PropertyPath(System.Windows.Controls.Primitives.Popup.VerticalOffsetProperty));

        // Create storyboard, add animation, and fire it up!
        Storyboard storyboard = new Storyboard();
        storyboard.Children.Add(anima);
        storyboard.Begin(); 
```

# html - 在 asp.net mvc3 中禁用 maxlength 验证

> ID：12793256
> 
> 赞同：2
> 
> 时间：2012-10-09T05:20:01.677
> 
> 标签：html, css, asp.net-mvc-3

我的应用程序基于 asp.net mvc3。我有一个文本框，它需要一个数量并且最大长度为 7 个字符（用户可以输入的最大数量是 1000000）。在文本框模糊时，我将金额格式化为货币形式。因此，如果用户输入 1000000，它将被格式化为 $1,00,00,00。所以格式化使输入长度为 12。当我提交表单时，我在这个控件上收到验证错误，告诉“它超过 7 个字符。”。

我尝试编写自定义验证属性 MaxValueAttribute，它将用户可以输入的最大值限制为 1000000。该属性的问题是，在他输入 7 后，它没有禁用用户输入（就像我们在文本框中使用 maxlength 属性时一样）字符。

有什么办法可以跳过最大长度验证。

编辑1：这是MaximumValueAttribute

```
 public class MaximumValueAttribute : ValidationAttribute, IClientValidatable
 {
    private double MaximumValue { get; set; }

    public MaximumValueAttribute(double maxValue)
    {
        MaximumValue = maxValue;           
    }

    protected override ValidationResult IsValid(object value, ValidationContext validationContext)
    {            
        if ((double)value <= MaximumValue)
            return null;

        return new ValidationResult(base.ErrorMessageString);
    }

    public IEnumerable<ModelClientValidationRule> GetClientValidationRules(ModelMetadata metadata, ControllerContext context)
    {
        var rule = new ModelClientValidationRule
        {
            ErrorMessage = base.ErrorMessageString,
            ValidationType = "maximumamount",
        };

        rule.ValidationParameters["maximumvalue"] = MaximumValue;

        yield return rule;
    }
 } 
```

# xml - 如何在 Node.js 中转换（简单）流式 XML？

> ID：12793257
> 
> 赞同：5
> 
> 时间：2012-10-09T05:20:07.183
> 
> 标签：xml, node.js, stream

我正在通过我的 Node.js 服务器代理 S3 调用，并希望在代理它们之前只调整几个返回的 XML 值。除了那些调整之外，我想保留每个响应的其余部分，例如响应标头。

我当然可以先收集整个响应，解析 XML，对其进行转换，然后将其返回，但对于大型响应而言，这将是缓慢且占用大量内存的。有没有一种方法可以实现基本**`stream.pipe()`**但可能具有转换功能？

我看过**[sax-js](https://github.com/isaacs/sax-js)**，它可以管道但没有任何转换能力。我是否必须求助于侦听低级解析事件并自己生成和输出生成的 XML？

我还查看了具有“推送解析器”和更高级别 DOM API 的**[libxmljs](https://github.com/polotek/libxmljs)**，但看起来我必须再次自己收听低级解析事件，而且我不确定我是否可以流式传输生成的 XML*输出*。

有没有比这两种方法更简单的方法？谢谢！

PS XML 的调整很简单：只是从一些文本元素中删除一个子字符串。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-07-24T05:58:15.427

在这种情况下，您可以将所有块收集在一起，如下所示：

```
var data='', tstream = new stream.Transform();
tstream._transform = function (chunk, encoding, done) {
    data += chunk.toString();
    done();
}; 
```

并在最后一次调用 _flush 函数时执行您需要的操作：

```
tstream._flush = function(done){
    data += 'hola muheres';
    this.push(data);
    done();
}; 
```

所以所有这些看起来像：

```
req.pipe(anotherstream).pipe(tstream).pipe(response); 
```

# jquery - 事件，当我滚动 2/3 页面时，没有运行

> ID：12793258
> 
> 赞同：0
> 
> 时间：2012-10-09T05:20:20.303
> 
> 标签：jquery, scrolltop

我有下一个问题：当我滚动`3/4`页面时，我需要运行一些事件。我这样做：

```
var limit_height = 3/4 * jQuery('body').height();

jQuery(window).scroll(function() {

        if (jQuery(window).scrollTop() > limit_height) {

                    alert('You are scrolled 3/4 of page!');

       }

}); 
```

所以，当我看控制台时（我检查 current `scrollTop`）

我有更多的时间，当电流`scrollTop < 3/4 * body_height`（所以limit_height）。因此事件不运行。

如果可能的话，请帮助我，我有错误的地方。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-09T05:29:24.467

这里最终发生的是您的计算不包括窗口高度。因此，当为了将页面滚动超过 3/4 时，您已经处于最大 scrollTop 状态，除非页面与视口相比具有非常大的高度。

以下是解决方法：

```
limit_height = 3/4 * (jQuery('body').height() - jQuery(window).height());
jQuery(window).scroll(function() {
        if (jQuery(window).scrollTop() > limit_height) {
                    alert('You are scrolled 3/4 of page!');
       }
}); 
```

上面的计算将排除窗口高度，因为假设主体为**2000 像素**高，而视口为**700**像素高。根据您的计算，限制为**1500px**，但是您可能拥有的最大滚动顶部为**1300px**，因为您无法在视口本身内向下滚动，因此您的条件将永远不会满足。

# windows-installer - 在自定义对话框中处理来自 dll 的错误消息而不中止安装 - 基本 MSI -Installshield 2012

> ID：12793273
> 
> 赞同：0
> 
> 时间：2012-10-09T05:22:35.000
> 
> 标签：windows-installer, installshield-2012, basic-msi

我正在使用 Installshield 2012 构建一个基本的 msi 安装程序，这里我有一个自定义对话框，我在其中获取用户输入，然后将其传递给 dll 进行验证。dll 根据成功或失败返回 0 或 1，如果失败，它还会提供一个 msgbox。

问题是在消息框中单击确定后，安装被中止。无论如何在不中止安装的情况下抛出消息框[类似于 HTML 表单验证？？]

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-09T05:58:03.453

不要从您的验证 DLL 返回 1。Windows Installer 将此解释为失败并停止安装。始终返回 0。正确的方法是设置一个属性以指示验证是否通过。

# android - 有人可以在 runQueryOnBackgroundThread 上向我解释吗？

> ID：12793274
> 
> 赞同：4
> 
> 时间：2012-10-09T05:22:35.700
> 
> 标签：android

有人可以向我解释什么是 runQueryOnBackgroundThread，因为我已经阅读了一些资料但仍然不明白吗？

```
@Override
public Cursor runQueryOnBackgroundThread(CharSequence constraint){
    FilterQueryProvider filter = getFilterQueryProvider();
    if (filter != null){
        return filter.runQuery(constraint);
    }

    Uri uri = Uri.withAppendedPath(
                ContactsContract.CommonDataKinds.Phone.CONTENT_FILTER_URI, Uri.encode(constraint.toString()));

    return content.query(uri, CONTACT_PROJECTION, null, null, null);
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-09T05:45:17.370

每当调用 runQuery 时，适配器中我的 Activity 的句柄和过滤器中的 runQuery 调用都会调用 Activity 上的 startManagingCursor。这并不理想，因为后台线程正在调用 startManagingCursor 并且在 Activity 被销毁之前可能还有很多游标保持打开状态。

我将以下内容添加到我的适配器中，该适配器具有它在其中使用的 Activity 的句柄

```
@Override 
public void changeCursor(Cursor newCursor) { 
Cursor oldCursor = getCursor(); 
super.changeCursor(newCursor); 
if(oldCursor != null && oldCursor != newCursor) { 
    // adapter has already dealt with closing the cursor 
    activity.stopManagingCursor(oldCursor); 
} 
activity.startManagingCursor(newCursor); 
} 
```

这确保适配器使用的当前光标也由活动管理。当游标被适配器关闭时，由活动管理被移除。适配器持有的最后一个游标将被活动关闭，因为它仍然由活动管理。

# php - array_diff 不起作用 PHP

> ID：12793275
> 
> 赞同：3
> 
> 时间：2012-10-09T05:22:37.917
> 
> 标签：php

```
Array 1 ($allmodels)
Array ( [0] => Array ( [id] => 6 ) 
        [1] => Array ( [id] => 7 ) 
        [2] => Array ( [id] => 8 ) ) 

Array 2 ($existmodels)
Array ( [0] => Array ( [id] => 6 ) 
        [1] => Array ( [id] => 4 ) 
        [2] => Array ( [id] => 7 ) 
        [3] => Array ( [id] => 5 ) ) 
```

我想要的输出数组是（使用 $allmodels - $existmodels 获取剩余模型）

```
Array ( [0] => Array ( [id] => 8 )) 
```

我试过了

`array_diff($allmodels,$existmodels);`AND`array_diff_assoc($allmodels,$existmodels);`两者都导致

> 大批 （ ）

谁能告诉我如何完成它？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-09T05:33:10.773

`array_diff`不适用于多维数组。您必须打开并重新包装您的 id：

```
$diff = array_map(function ($i) { return array('id' => $i); },
                  array_diff(array_map(function ($i) { return $i['id']; }, $array1),
                             array_map(function ($i) { return $i['id']; }, $array2))); 
```

或将它们设置为很容易区分的键：

```
$diff = array_diff_key(array_combine(array_map(function ($i) { return $i['id']; }, $array1), $array1),
                       array_combine(array_map(function ($i) { return $i['id']; }, $array2), $array2)); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-09T05:36:06.900

**array_diff 的注意事项：**

> 当且仅当 (string) $elem1 === (string) $elem2 时，才认为两个元素相等。换句话说：当字符串表示相同时。

数组的字符串表示是 both `Array`，所以这就是你得到空数组的原因。

您可以改用[array_filter](http://www.php.net/manual/en/function.array-filter.php)。

```
var_dump(array_filter($allmodels, function ($var) use ($existmodels) {
  return !in_array($var, $existmodels);
})); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-09T05:36:23.557

尝试这个

```
$array1 = array( 0 =>array('id'=>1), 1=> array('id'=>2));
$array2 = array( 0 =>array('id'=>3), 1=> array('id'=>2));
$diff = array();

foreach($array1 as $value1)
{

  foreach($array2 as $value2)
  {
    if($value1['id'] == $value2['id'])
    continue 2;
  }

  $diff[] = $value1;
}
echo nl2br(print_r($diff,1)); 
```

# c# - 使用 C# 在类中设置永久引用？

> ID：12793276
> 
> 赞同：0
> 
> 时间：2012-10-09T05:22:38.603
> 
> 标签：c#, reference, xna

奇怪的问题在这里。我有一个管理一堆事件类的主类......我希望其中一个事件改变主类中的值。

通常，我会通过使用 ref 关键字来做这样的事情......但在这种情况下，我想在构造函数中传递引用，并将类的任何进一步修改反映在主类中。这可能吗？现在我有以下内容：

```
class MainClass {
     float transparency = 0.0f;

     List<Events> listOfEvents;

     listOfEvents.Add(new FadeInEvent(ref float transparency));
}

class FadeInEvent {
     float transparency;

     public FadeInEvent(ref float t) {
         transparency = t;
     }

     public void Update()  //Occurs every frame
     {
         transparency += 0.01f;
     }
} 
```

这不起作用；FadeInEvent 类不会更新主类中的透明度。我怎样才能解决这个问题？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-09T05:30:04.327

您不能保留对值类型的引用，例如 float。你可以做的是有一个`FadeInEvent`构造函数，它接受`MainClass`并修改它的**公共** `Transparency`属性：

```
class MainClass
{
    float transparency = 0.0f;
    public float Transparency
    {
        get { return transparency;}
        set { transparency = value;}
    }

    List<Events> listOfEvents;
    public void AddFadeInEvent()
    {
        listOfEvents.Add(new FadeInEvent(this));
    }
}

class FadeInEvent
{
    MainClass mainClass;

     public FadeInEvent(MainClass mainClass) 
     {
         this.mainClass = mainClass;
     }

     public void Update()  //Occurs every frame
     {
         mainClass.Transparency += 0.01f;
     }
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-09T05:33:42.203

如何为变量创建一个类，因为类是通过引用自动传递的：

```
class Transparency
{
    public float Value = 0.0f;
}

class MainClass
{
     Transparency transparency = new Transparency();

     // this List<Events> doesn't match class, but I'm sure this was just a sample of a larger problem
     List<Events> listOfEvents = new List<Events>();

     listOfEvents.Add(new FadeInEvent(transparency));
}

class FadeInEvent{
     Transparency transparency;

     public FadeInEvent(Transparency t) {
         transparency = t;
     }

     public void Update()  //Occurs every frame
     {
         transparency.Value += 0.01f;
     }
} 
```

# actionscript-3 - AS3 Flash Expandable Banner 展开后转到下一个场景

> ID：12793277
> 
> 赞同：2
> 
> 时间：2012-10-09T05:22:47.370
> 
> 标签：actionscript-3, flash, click, banner, expandable

我会保持简短；基本上，在我的 Flash 横幅扩展到其正常大小之后，我希望它然后转到下一个场景，但是对于我的生活，我无法弄清楚如何做到这一点，似乎没有任何效果。我对闪光灯没有那么有经验，所以我很容易塞满一些东西

文件链接：[http ://www.mediafire.com/?bwz6js3x1autttz](http://www.mediafire.com/?bwz6js3x1autttz)

**编辑**

继承人的代码：

```
import flash.events.MouseEvent;
import flash.events.Event;
import flash.external.ExternalInterface;

stop();

hotSpot.addEventListener(MouseEvent.MOUSE_UP, up0);
function up0(e:Event):void
{
     dropDown.gotoAndPlay("down");
     ExternalInterface.call('javascript:expand();');
     play();
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-09T12:55:59.993

谢谢大家，但我发现我实际上不需要在我正在做的项目中使用java，所以我设法快速修复它并且它现在可以工作了。这是任何有兴趣的人的代码：

```
import flash.events.MouseEvent;
import flash.events.Event;
stop();

hotSpot.addEventListener(MouseEvent.MOUSE_UP, up0);
function up0(e:Event):void
{
     dropDown.gotoAndPlay("down");
     play();
} 
```

# c - 为什么我的导数函数会产生奇怪的结果？

> ID：12793280
> 
> 赞同：3
> 
> 时间：2012-10-09T05:22:56.077
> 
> 标签：c, floating-point, calculus

我正在编写一个供个人使用的小型微积分库。其中包含标准微积分工具 - 采用一阶导数、n 阶导数、黎曼和等。我面临的一个问题是，对于 h 的某些值（有限差分），n 阶导数函数返回明显虚假的结果。

[代码在这里](http://pastebin.com/6ttezSde)和下面：

```
typedef double(*math_func)(double x);
inline double max ( double a, double b ) { return a > b ? a : b; }

//Uses the five-point-stencil algorithm.
double derivative(math_func f,double x){
    double h=max(sqrt(DBL_EPSILON)*x,1e-8);
    return ((-f(x+2*h)+8*f(x+h)-8*f(x-h)+f(x-2*h))/(12*h));
}

#define NDEPS (value)
double nthDerivative(math_func f, double x, int N){
    if(N<0) return NAN; //bogus value of N
    if(N==0) return f(x);
    if(N==1) return derivative(f,x);
    double* vals=calloc(2*N+9,sizeof(double)); //buffer region around the real values
    if(vals==NULL){ //oops! no memory
        return NAN;
    }
    int i,j;
    //don't take too small a finite difference
    double h=max(sqrt(DBL_EPSILON)*x,NDEPS);
    for(i=-(N+4);i<=N+4;i++){
        vals[i+N+4]=derivative(f,x+h*i);
    }
    //for(i=0;i<2*N+9;i++){printf("%.1e ",vals[i]);}putchar('\n');
    for(j=1;j<N;j++){
        double *vals2=calloc(2*N+9,sizeof(double));
        for(i=2;i<2*N+7;i++){
            vals2[i]=(-vals[i+2]+8*vals[i+1]-8*vals[i-1]+vals[i-2])/(12*h);
        }
        free(vals);
        vals=vals2;
        //for(i=0;i<2*N+9;i++){printf("%.1e ",vals[i]);}putchar('\n');
    }
    double result=vals[N+4];
    free(vals);
    return result;
} 
```

我给测试这个函数的一个示例问题是当 x=pi 时 sin(x) 的 5 阶导数。众所周知，答案是-1。当我尝试改变 NDEPS（“N 次导数 epsilon”）的值时，问题就来了。

*   当 NDEPS=1.5625e-2 (1/64.0) 时：x=pi:-1.0003e+00 处 sin() 的 5 阶导数（虽然看起来不错）。
*   当 NDEPS=1e-5 (1/100000.0) 时：x=pi:2.4302e+11 处 sin() 的 5 阶导数（我在这里说废话）。

为什么会这样？它与 sin() 函数的性质有关吗？还是因为浮点精度问题？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-10-09T07:30:40.993

数值微分是一个难题。关键问题是有限差分逼近

```
f'(x) =(approx) (f(x+h)-f(x-h)) / (2*h) 
```

是[取消](http://en.wikipedia.org/wiki/Loss_of_significance)的秘诀。

这意味着您必须在两个误差之间做出谨慎的权衡：如果 h 太大，您将在有限差分中产生很大的近似误差。如果 h 太小，您将产生很大的（可能是灾难性的）数值错误。[这在关于数值微分](http://en.wikipedia.org/wiki/Numerical_differentiation#Practical_considerations_using_floating_point_arithmetic)的维基百科文章中得到了很好的说明。随着导数的阶数增加，这些问题更加严重。

这就是为什么[自动微分](http://en.wikipedia.org/wiki/Automatic_differentiation)如此重要的原因——从本质上讲，当所有给出的只是计算基函数的算法时，它允许您计算精确的导数。如果函数足够简单，您可以象征性地确定导数，那么您可能应该这样做。

如果您确实需要进行数值微分，则可以应用很多数值技巧。[Numerical Recipes](http://apps.nrbook.com/c/index.html)有一个很好的处理方法——看看从第 186 页开始的第 5.7 节。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-09T06:53:03.120

这是您的代码的改编版。除了使用更多的空白之外，主要的修改是使函数`NDEPS`成为一个参数`nthDerivative()`，以便可以用不同的值调用它并添加丰富的打印。我还必须在普通`derivative()`功能上发挥创造力；代码编译正确（但我真的不想用 assertion 做出哲学或神学陈述`assert(sin == fun);`，但这确实意味着代码在没有警告的情况下编译，并且它认识到这个衍生函数的局限性）。

### 代码

```
#include <assert.h>
#include <float.h>
#include <math.h>
#include <stdio.h>
#include <stdlib.h>

#define max(a, b)    (((a) > (b)) ? (a) : (b))

#define PRIe_double    "%21.15e"

typedef double(*math_func)(double x);

static double derivative(math_func fun, double x) { assert(sin == fun); return cos(x); }

static double nthDerivative(math_func f, double x, int N, double NDEPS)
{
    if (N < 0) return NAN; //bogus value of N
    if (N == 0) return f(x);
    if (N == 1) return derivative(f, x);

    double* vals = calloc(2*N+9, sizeof(double)); //buffer region around the real values
    if (vals == NULL) //oops! no memory
        return NAN;

    int i, j;
    //don't take too small a finite difference

    double h = max(sqrt(DBL_EPSILON)*x, NDEPS);
    printf("h = " PRIe_double "\n", h);

    for (i = -(N+4); i <= N+4; i++)
    {
        vals[i+N+4] = derivative(f, x+h*i);
        printf("%2d: deriv(" PRIe_double ") = " PRIe_double "\n", i, x+h*i, vals[i+N+4]);
    }

    for (j = 1; j < N; j++)
    {
        printf("Iteration %d\n", j);
        double *vals2 = calloc(2*N+9, sizeof(double));
        for (i = 2; i < 2*N+7; i++){
            vals2[i] = (-vals[i+2] + 8*vals[i+1] - 8*vals[i-1] + vals[i-2]) / (12*h);
        }
        free(vals);
        vals = vals2;
        for (i = 0; i < 2*N+9; i++)
            printf("%2d: " PRIe_double "\n", i, vals[i]);
    }
    double result = vals[N+4];
    free(vals);
    return result;
}

int main(void)
{
    double val = M_PI;
    double eps;
    double r;

    eps = 1.0 / 64.0;
    r = nthDerivative(sin, val, 5, eps);
    printf("5th Derivative of sin(x) at x = " PRIe_double " = " PRIe_double " (eps = %f)\n", val, r, eps);

    eps = 1.0 / 100000.0;
    r = nthDerivative(sin, val, 5, eps);
    printf("5th Derivative of sin(x) at x = " PRIe_double " = " PRIe_double " (eps = %f)\n", val, r, eps);

    return(0);
} 
```

### 输出

在 Mac OS X 10.7.5 上使用 GCC 4.7.1，输出为：

```
h = 1.562500000000000e-02
-9: deriv(3.000967653589793e+00) = -9.901285883701071e-01
-8: deriv(3.016592653589793e+00) = -9.921976672293290e-01
-7: deriv(3.032217653589793e+00) = -9.940245152582091e-01
-6: deriv(3.047842653589793e+00) = -9.956086864580017e-01
-5: deriv(3.063467653589793e+00) = -9.969497940760287e-01
-4: deriv(3.079092653589793e+00) = -9.980475107000991e-01
-3: deriv(3.094717653589793e+00) = -9.989015683384429e-01
-2: deriv(3.110342653589793e+00) = -9.995117584851364e-01
-1: deriv(3.125967653589793e+00) = -9.998779321710066e-01
 0: deriv(3.141592653589793e+00) = -1.000000000000000e+00
 1: deriv(3.157217653589793e+00) = -9.998779321710066e-01
 2: deriv(3.172842653589793e+00) = -9.995117584851364e-01
 3: deriv(3.188467653589793e+00) = -9.989015683384429e-01
 4: deriv(3.204092653589793e+00) = -9.980475107000991e-01
 5: deriv(3.219717653589793e+00) = -9.969497940760287e-01
 6: deriv(3.235342653589793e+00) = -9.956086864580017e-01
 7: deriv(3.250967653589793e+00) = -9.940245152582091e-01
 8: deriv(3.266592653589793e+00) = -9.921976672293291e-01
 9: deriv(3.282217653589793e+00) = -9.901285883701071e-01
Iteration 1
 0: 0.000000000000000e+00
 1: 0.000000000000000e+00
 2: -1.091570566584531e-01
 3: -9.361273104952932e-02
 4: -7.804555123490846e-02
 5: -6.245931771829009e-02
 6: -4.685783565504131e-02
 7: -3.124491392324735e-02
 8: -1.562436419383969e-02
 9: -1.776356839400250e-15
10: 1.562436419384087e-02
11: 3.124491392324558e-02
12: 4.685783565504250e-02
13: 6.245931771828653e-02
14: 7.804555123490846e-02
15: 9.361273104953050e-02
16: 1.091570566584471e-01
17: 0.000000000000000e+00
18: 0.000000000000000e+00
Iteration 2
 0: 0.000000000000000e+00
 1: 0.000000000000000e+00
 2: -3.577900251527073e+00
 3: 1.660540592568783e+00
 4: 9.969497901146779e-01
 5: 9.980475067341610e-01
 6: 9.989015643694564e-01
 7: 9.995117545137316e-01
 8: 9.998779281977730e-01
 9: 9.999999960264082e-01
10: 9.998779281978486e-01
11: 9.995117545137319e-01
12: 9.989015643693869e-01
13: 9.980475067340947e-01
14: 9.969497901149178e-01
15: 1.660540592568512e+00
16: -3.577900251527123e+00
17: 0.000000000000000e+00
18: 0.000000000000000e+00
Iteration 3
 0: 0.000000000000000e+00
 1: 0.000000000000000e+00
 2: 6.553266640232313e+01
 3: 1.898706817407991e+02
 4: -5.267598134705870e+01
 5: 3.608762837830827e+00
 6: 4.685783548517186e-02
 7: 3.124491378285654e-02
 8: 1.562436412277357e-02
 9: 3.226456139297321e-12
10: -1.562436412279785e-02
11: -3.124491378869069e-02
12: -4.685783548888563e-02
13: -3.608762837816180e+00
14: 5.267598134704988e+01
15: -1.898706817408119e+02
16: -6.553266640231030e+01
17: 0.000000000000000e+00
18: 0.000000000000000e+00
Iteration 4
 0: 0.000000000000000e+00
 1: 0.000000000000000e+00
 2: 8.382087654791743e+03
 3: -5.062815705775390e+03
 4: -7.597917560836845e+03
 5: 3.261984801532626e+03
 6: -4.336626618856812e+02
 7: 1.791410702361821e+01
 8: -9.998779233550453e-01
 9: -9.999999914294619e-01
10: -9.998779238596159e-01
11: 1.791410702341709e+01
12: -4.336626618847606e+02
13: 3.261984801532444e+03
14: -7.597917560838102e+03
15: -5.062815705774387e+03
16: 8.382087654792240e+03
17: 0.000000000000000e+00
18: 0.000000000000000e+00
5th Derivative of sin(x) at x = 3.141592653589793e+00 = -9.999999914294619e-01 (eps = 0.015625)
h = 1.000000000000000e-05
-9: deriv(3.141502653589793e+00) = -9.999999959500000e-01
-8: deriv(3.141512653589793e+00) = -9.999999968000000e-01
-7: deriv(3.141522653589793e+00) = -9.999999975500000e-01
-6: deriv(3.141532653589793e+00) = -9.999999982000000e-01
-5: deriv(3.141542653589793e+00) = -9.999999987500000e-01
-4: deriv(3.141552653589793e+00) = -9.999999992000000e-01
-3: deriv(3.141562653589793e+00) = -9.999999995500000e-01
-2: deriv(3.141572653589793e+00) = -9.999999998000000e-01
-1: deriv(3.141582653589793e+00) = -9.999999999500000e-01
 0: deriv(3.141592653589793e+00) = -1.000000000000000e+00
 1: deriv(3.141602653589793e+00) = -9.999999999500000e-01
 2: deriv(3.141612653589793e+00) = -9.999999998000000e-01
 3: deriv(3.141622653589793e+00) = -9.999999995500000e-01
 4: deriv(3.141632653589793e+00) = -9.999999992000000e-01
 5: deriv(3.141642653589793e+00) = -9.999999987500000e-01
 6: deriv(3.141652653589793e+00) = -9.999999982000000e-01
 7: deriv(3.141662653589793e+00) = -9.999999975500000e-01
 8: deriv(3.141672653589793e+00) = -9.999999968000000e-01
 9: deriv(3.141682653589793e+00) = -9.999999959500000e-01
Iteration 1
 0: 0.000000000000000e+00
 1: 0.000000000000000e+00
 2: -7.000000116589669e-05
 3: -5.999999941330713e-05
 4: -5.000000598739025e-05
 5: -3.999999683331386e-05
 6: -2.999999600591015e-05
 7: -2.000000257999327e-05
 8: -1.000000082740371e-05
 9: 0.000000000000000e+00
10: 1.000000082740371e-05
11: 2.000000165480742e-05
12: 2.999999508072429e-05
13: 3.999999590812801e-05
14: 5.000000413701854e-05
15: 5.999999663774957e-05
16: 6.999999746515327e-05
17: 0.000000000000000e+00
18: 0.000000000000000e+00
Iteration 2
 0: 0.000000000000000e+00
 1: 0.000000000000000e+00
 2: -3.583333244325556e+00
 3: 1.666666318844711e+00
 4: 1.000000128999663e+00
 5: 1.000000691821058e+00
 6: 9.999995738881511e-01
 7: 9.999997049561470e-01
 8: 1.000000198388602e+00
 9: 1.000000075030488e+00
10: 1.000000144419428e+00
11: 9.999996509869722e-01
12: 9.999995893079155e-01
13: 1.000000645561765e+00
14: 1.000000028771196e+00
15: 1.666666187776715e+00
16: -3.583333074708150e+00
17: 0.000000000000000e+00
18: 0.000000000000000e+00
Iteration 3
 0: 0.000000000000000e+00
 1: 0.000000000000000e+00
 2: 1.027777535146502e+05
 3: 2.972222191231725e+05
 4: -8.263881528669108e+04
 5: 5.555518108303881e+03
 6: -6.636923522614542e-02
 7: 4.677328483600658e-02
 8: 1.991719546327412e-02
 9: -3.148201866790915e-03
10: -2.319389535987426e-02
11: -4.176186143567406e-02
12: 6.726872146719150e-02
13: -5.555525175695851e+03
14: 8.263880834779718e+04
15: -2.972222015189417e+05
16: -1.027777456120210e+05
17: 0.000000000000000e+00
18: 0.000000000000000e+00 
```

疯狂的迹象...

```
Iteration 4
 0: 0.000000000000000e+00
 1: 0.000000000000000e+00
 2: 2.050347140226725e+10
 3: -1.240740057099195e+10
 4: -1.858796490195886e+10
 5: 7.986101364079453e+09
 6: -1.059021715700324e+09
 7: 4.630176289959386e+07
 8: -3.687893612405425e+03
 9: -2.136279835945886e+03
10: -2.968840021291520e+03
11: 4.630204773690500e+07
12: -1.059022490436399e+09
13: 7.986100736580715e+09
14: -1.858796331554353e+10
15: -1.240739964045201e+10
16: 2.050347017082775e+10
17: 0.000000000000000e+00
18: 0.000000000000000e+00
5th Derivative of sin(x) at x = 3.141592653589793e+00 = -2.136279835945886e+03 (eps = 0.000010) 
```

请注意，在最后一次迭代中，结果如何以数十亿的值变得疯狂。您至少有一个数值稳定性问题，或者您可能需要查看导数公式。请注意，即使具有较大 epsilon 的运行也倾向于在以后的迭代中使用较大的值。

* * *

### 使用“官方”`derivative()`功能

将问题中现在存在的导数函数插入上面的代码中，在第 4 次迭代中会产生更不稳定的答案：

```
Iteration 4
 0: 0.000000000000000e+00
 1: 0.000000000000000e+00
 2: -6.248925477935563e+09
 3: 1.729549900845405e+11
 4: -2.600544559219368e+11
 5: -2.755286326619338e+11
 6: 8.100546069731433e+11
 7: -2.961111189495415e+09
 8: -7.936480686806423e+11
 9: 2.430177384467434e+11
10: 2.389084910067162e+11
11: -6.461168564124718e+10
12: -4.574822745530297e+10
13: -8.923883451146609e+10
14: 7.042030613792160e+10
15: 4.988386306820556e+10
16: -1.793262395787471e+10
17: 0.000000000000000e+00
18: 0.000000000000000e+00
5th Derivative of sin(x) at x = 3.141592653589793e+00 = 2.430177384467434e+11 (eps = 0.000010) 
```

我想知道数组索引 0、1、17 和 18 处出现的零在多大程度上加剧了这个问题。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-09T07:28:09.240

这是一个棘手的话题。数值微分是病态的，会导致取消和舍入误差。在您进行重复区分的情况下，该问题被显着放大。

通过使用 m 个点确定特定微分阶 N 的系数，而不是进行重复微分，您将获得更好的高阶导数估计。

例如，就像您似乎使用一阶导数的系数一样：

```
{1, -8, 8, -1} / (12*h) 
```

使用 5 个点近似二阶导数的系数是：

```
{-1, 16, -30, 16, -1} / (12*h²) 
```

您可以通过围绕样本点进行泰勒级数展开来求解一般问题的系数，找到这些展开的线性组合，从而得到所需的导数。

对于 m 个点 {x + n[1]*h, x+n[2]*h, x+n[3]*h, ..., x+n[m]*h}，系数 (k) 估计N次导数可以通过以下方程组计算：

```
M*k=b 
```

其中 M 是 am*m 矩阵：

```
M[i,j] = n[j]^(i-1), i,j = 1..m 
```

和

```
b = [0, 0, 0, …, N!/h^N, …, 0, 0, 0], 
```

其中N！表示 N 的阶乘。

# google-maps - 如何根据已有的空间显示信息窗口而不移动地图

> ID：12793287
> 
> 赞同：0
> 
> 时间：2012-10-09T05:23:44.907
> 
> 标签：google-maps, google-maps-api-3, infowindow

我在谷歌地图中显示了几个位置。如果用户放大/缩小或拖动地图，我会刷新这些位置。现在的问题是，如果我单击某个位置的标记，那么信息窗口会打开并拖动地图，如果它没有任何空间可以显示。这种拖动导致我的位置被刷新，因此我的标记消失了。

我试过 `disableAutoPan: true`了，但信息窗口不可见。有什么办法可以让信息窗口自动调整。有没有办法解决这个问题？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-09T08:50:20.697

使用全局变量来指示何时应忽略刷新，例如：

```
// Global var
var ignoreRefresh = false;

google.maps.addListener(marker,'click', function(){
  ignoreRefresh = true;
  infoWindow.setContent('Hello');
  infoWindow.open(map,marker);
})

function refresh(){
  if (ignoreRefresh) {
    ignoreRefresh = false;
    return;
  }
  //...
  //do your normal refresh of data
  //...

} 
```

# php - php while $count, 想要添加所有结果

> ID：12793292
> 
> 赞同：0
> 
> 时间：2012-10-09T05:24:26.197
> 
> 标签：php

我在计算输出总数时遇到了一些问题。

```
<?php
$count = 1;
while ($count <= 10)
{
echo "$count ";
++$count;
}
?> 
```

**结果输出**

```
1 2 3 4 5 6 7 8 9 10 
```

所以我想要的是添加所有结果

```
1+2+3+4+5+6+7+8+9+10 = ?  in my same code? 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-09T05:26:47.913

尝试

```
$count = 1;
$add=0;
while ($count <= 10)
{
$add=$add+$count;
echo "$count ";
++$count;
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-09T05:28:11.287

```
$count = 1;
$countall = 0;
while ($count <= 10)
{

echo "$count ";
$countall=$countall+$count;
$count++;
}
 echo "$countall"; 
```

试试这个

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-09T05:29:15.977

只需使用该`range`功能并`array_sum`获得结果

```
array_sum(range(1,10)) 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-10-09T05:36:06.857

显然不是您要查找的内容，但是如果您需要计算总和，则可以使用以下公式：

![在此处输入图像描述](../Images/9f7cf9d88d0725676e5a9cd406406db0.png)

使用它，您可以计算添加`$count`此代码中所有值的结果：

```
<?php
    $count = 1;
    while ($count <= $n)
    {
        echo $count.' ';
        ++$count;
    }
?> 
```

那将是：

```
<?php
    $result = $n * ($n + 1) / 2;
?> 
```

其中`$n`= 10 是 55。

# android - Android OnClickListener 抛出 NullPointerException

> ID：12793294
> 
> 赞同：1
> 
> 时间：2012-10-09T05:24:49.883
> 
> 标签：android, android-layout, android-view, android-button

正在创建一个表，以便：

```
 TableLayout layout = new TableLayout(this);
    layout.setLayoutParams(new TableLayout.LayoutParams(4,5));
    layout.setPadding(1, 1, 1, 1);

    for(int i=0; i<7; i++) {
        TableRow tr = new TableRow(this);
        for(int j=0; j<6; j++) {
            Button b = new Button(this);
            b.setText("0");
            b.setOnClickListener(buttonListener);
            tr.addView(b);
        }
        layout.addView(tr);
    }

    super.setContentView(layout); 
```

是`OnClickListener` `buttonListener`：

```
View.OnClickListener buttonListener = new View.OnClickListener() {
    public void onClick(View v) {
        Button thisButton = (Button) findViewById(((Button)v).getId());
        //thisButton.setText(Integer.toString(Integer.parseInt((String) thisButton.getText()) + 1));
        thisButton.getText();
    }
}; 
```

调用`thisButton.getText()`抛出 NullPointerException，我不知道为什么。谁能帮我吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-09T06:17:47.997

```
 TableLayout layout = new TableLayout(this);
            layout.setLayoutParams(new TableLayout.LayoutParams(4,5));
            layout.setPadding(1, 1, 1, 1);

            for(int i=0; i<7; i++) {
                TableRow tr = new TableRow(this);
                for(int j=0; j<6; j++) {
                    Button b = new Button(this);
                    b.setText("0");
                    b.setOnClickListener(buttonListener);
                    tr.addView(b);
                }
                layout.addView(tr);
            }

            setContentView(layout);
}
     View.OnClickListener buttonListener = new View.OnClickListener() {
                public void onClick(View v) {
                    Button btn1 = (Button)v;
                    //thisButton.setText(Integer.toString(Integer.parseInt((String) thisButton.getText()) + 1));
                    String name = btn1.getText().toString();                    
                }
            }; 
```

我已经测试过这会起作用。当您动态创建视图时，您不会为其分配 id。您使用视图的对象工作。我希望对所有好奇为动态按钮设置 id 的人都有意义。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-10-09T05:29:24.797

您可以简单地从传递的视图中获取文本，而不是重新创建按钮。

```
public void onClick(View v) {
    if(v instanceof Button)
        String text = ((Button) v).getText();
} 
```

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2012-10-09T05:30:07.860

假设：

1.  我看不到任何关于将 id 设置为按钮的信息
2.  下面的行可能会导致异常：

> 按钮 thisButton = (Button) findViewById(((Button)v).getId());

你为什么这样做？相反，您已经在点击操作中传递了一个视图：`View v`

所以你可以直接做：

```
String strText = ((Button) v).getText(); 
```

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2012-10-09T05:31:52.020

这意味着您的 thisButton 可能为空，因为之前的语句不成功。

按钮 thisButton = (Button) findViewById(((Button)v).getId());

看起来不对。通常 findViewById() 中的参数应该是资源 id。如

按钮 thisButton = (Button) findViewById(R.id.button);

R.id.button 由您的布局 xml 定义。

* * *

## 回答 #5

> 赞同：-1
> 
> 时间：2012-10-09T05:37:28.047

您的代码中存在一个问题。

没有设置 Button 的 id

```
 b.setText("0");
        b.setOnClickListener(buttonListener);
        b.setId(i); 
```

# ios - Google Drive 文件标记为隐藏的问题

> ID：12793295
> 
> 赞同：4
> 
> 时间：2012-10-09T05:24:56.107
> 
> 标签：ios, google-drive-api

我有一个 iOS 应用程序，它使用 google-api-objectivec-client 库来访问 Google Drive 帐户。一般来说，一切正常。但是我遇到了一个奇怪的问题。

用户在其计算机上使用 Windows 资源管理器在其 Google Drive 帐户中创建了一个文件夹，并使用 Windows 资源管理器将文件添加到该文件夹​​中。如果我创建一个查询：

```
GTLQueryDrive *query = [GTLQueryDrive queryForFilesList]; 
```

在 Windows 资源管理器中创建的文件夹中的文件返回时将“隐藏”标签设置为 true。通过 drive.google.com 的网络界面添加的文件没有这个问题。这些“隐藏”文件在 Web 界面中显示得很好。

我还发现我自己的一个文件，使用网络界面上传到我的 Google Drive 帐户，显示时“隐藏”标签设置为 true。我在 Web 界面中找不到任何会影响此设置的内容。

所以两个问题。

1.  为什么这些文件即使显示在 Web 界面中也会被标记为隐藏？
2.  处理这些文件的正确方法是什么？我不想忽略这个标志。我认为应该隐藏隐藏文件。但是这些文件不应该被隐藏。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-09T12:01:04.703

我相信“隐藏”仅仅意味着隐藏在“根目录中的文件”显示中。如果文件在文件夹中，则“隐藏”没有意义。

**编辑 2014 年 9 月我注意到“隐藏”属性已被 Google 弃用。** [https://developers.google.com/drive/v2/reference/files](https://developers.google.com/drive/v2/reference/files)

# c - C++ / C：将目录移动到另一个位置

> ID：12793298
> 
> 赞同：1
> 
> 时间：2012-10-09T05:24:59.150
> 
> 标签：c, linux, file, unix, directory

我想将一个目录的内容移动到另一个目录。我通过命令行参数指定源目录和目标目录。这是代码：

```
#include <stdlib.h>
#include <stdio.h>

void move_dir(FILE *src, FILE *dest) {
    int c = getc(src);
    while(getc(src)!=EOF) {
        putc(c,dest);
    }
}

int main(int argc, char* argv[])
{
    FILE *src=fopen(argv[1]);
    FILE *dest=fopen(argv[2]);
    while(--argc>0) {
        if(src!=NULL && dest!=NULL) {
            move_dir(src,dest);
        }
    }
    fclose(src);
    fclose(dest);
    return 0;
} 
```

例如：

```
./a.out /Folder1/Folder2/Source /Folder1 
```

这会将名为 Source 的文件夹移动到 Folder1 内。但是，当我执行此代码时，它不起作用。它用 g++ 编译得很好，运行时没有错误，但它根本不移动任何东西。关于什么可能是错误的任何想法？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-09T05:29:01.580

**编辑：**这是指原始帖子，内容为`FILE * src = opendir( argv[1] );`.

该函数`opendir()`返回 a `DIR *`，它与 a 完全不同`FILE *`（并且不能用作`getc()`/的参数`putc()`。

您必须从中读取目录条目`DIR *`using `readdir()`，这将产生一个文件名，*然后*使用该信息复制该文件。

**编辑：**这是指更新后的帖子。

您不在目录上使用文件函数（`fopen()`等`getc()`）。要走的路是，`opendir()`然后`readdir()`作用于产生的文件名。

我真的不知道为什么`fopen()`在目录上实际上返回一个非空指针。就个人而言，我认为这是一个设计缺陷，因为`FILE *`没有为目录定义可能的操作。我会远离*这个*结构。

* * *

一般来说，您应该*阅读*您正在使用的函数的文档（手册页），而不是（错误地）假设它们。当你在做的时候，也要检查返回值——它们可能会告诉你为什么事情没有按预期工作。

# ruby - Ruby 中的赋值不能按预期工作

> ID：12793300
> 
> 赞同：1
> 
> 时间：2012-10-09T05:25:14.920
> 
> 标签：ruby

我有这样的声明：

```
if user = params[:user] && action == :delete
end 
```

为什么用户总是设置为：删除？

如果用户通过，则不应将其设置为用户名，否则不应设置为 nil。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-09T05:44:50.457

您需要`()`在 Ruby 中放置作业，以便按照您的预期对其进行评估

```
if (user = params[:user]) && action == :delete
end 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-09T06:12:57.167

`&&`绑定比assingment强。`and`如果您热衷于省略括号，则可以改用：

```
if user = params[:user] and action == :delete
end 
```

作为[风格](https://github.com/bbatsov/ruby-style-guide)问题- 使用 = （赋值）的返回值是可以的，但用括号括住赋值。

```
 # good - shows intended use of assignment
  if (v = array.grep(/foo/)) ...

  # bad
  if v = array.grep(/foo/) ...

  # also good - shows intended use of assignment and has correct precedence.
  if (v = self.next_value) == 'hello' ... 
```

不鼓励在条件表达式中使用`and`and ，因此最好使用 Ian Bishop 建议的解决方案。`or`

# mysql - 使用 SQL_CALC_FOUND_ROWS 的 Mysql 全文搜索性能

> ID：12793301
> 
> 赞同：1
> 
> 时间：2012-10-09T05:25:32.300
> 
> 标签：mysql, performance, query-optimization, full-text-search, sql-calc-found-rows

我正在尝试优化我的应用程序中某些查询的性能。

在一个具有多个连接和全文搜索的查询中，我`SQL_CALC_FOUND_ROWS`在第一个查询中使用了分页。

不幸的是查询的性能很慢，没有`SQL_CALC_FOUND_ROWS`查询大约快 100 倍。

在这种情况下，我有可能获得更好的表现吗？

我尝试了一个不带 的计数查询`SQL_CALC_FOUND_ROWS`，但这个查询比`SQL_CALC_FOUND_ROWS`-query 慢了一秒。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-11T12:33:27.140

在不了解您的表结构和查询的情况下，我们无法判断查询是否可以更快。

它`SQL_CALC_FOUND_ROWS`首先需要处理所有记录，但如果您使用 LIMIT 10 它可以在找到的前 10 条记录之后停止处理记录。所以存在性能差异。如果不使用计数或 SQL_CALC_FOUND_ROWS，则无法更快地获得相同的结果。

但是大多数时候，可以以不同的方式优化查询。

如果您正在研究全文搜索，请考虑使用 sphinx。以我的经验，它总是会胜过 MySQL：[http ://www.sphinxsearch.com/](http://www.sphinxsearch.com/)

# ubuntu - Ubuntu手册页歧义

> ID：12793305
> 
> 赞同：2
> 
> 时间：2012-10-09T05:25:43.013
> 
> 标签：ubuntu, manpage

某些 C 函数的名称与 Ubuntu 命令不明确，例如：getopt。如何查看这些函数的手册页？毫无疑问，它在互联网上很容易获得，但我希望尽可能不要离开航站楼。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-09T05:31:39.050

使用格式`man [section] name`（例如`man 3 getopt`），其中*section*可以是以下之一：

```
 1      User Commands
   2      System Calls
   3      C Library Functions
   4      Devices and Special Files
   5      File Formats and Conventions
   6      Games et. Al.
   7      Miscellanea
   8      System Administration tools and Deamons 
```

咨询`man man`了解更多信息。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-09T05:29:01.520

`man 3 getopt`显示 C getopt 的联机帮助页。

看`man man`

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-09T05:28:17.900

`man 3 getopt`给出 c 函数信息。
其中 as`man 1 getopt`或`man getopt`给出命令信息。

页面传统上使用符号“ `name(section)`”来表示：例如，`ftp(1)`. 相同的页面名称可能出现在手册的多个部分中，例如系统调用、用户命令或宏包的名称重合时。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-10-09T05:30:41.647

`man -wa getopt`为您提供手册页列表`getopt`：在我的系统中，它是：

```
/usr/share/man/man1/getopt.1.bz2
/usr/share/man/man3/getopt.3.bz2
/usr/share/man/man3p/getopt.3p.bz2 
```

或者，或者，`man -f getopt`：

```
getopt               (1)  - parse command options (enhanced)
getopt               (3)  - Parse command-line options
getopt []            (1)  - parse command options (enhanced)
getopt []            (3)  - Parse command-line options
getopt []            (3p)  - command option parsing 
```

然后，您可以使用文件名中的数字（在第一个输出中）或括号之间的数字（在第二个输出中）选择正确的手册页：例如，`man 1 getopt`或`man 3 getopt`。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-10-09T05:31:10.987

`$ man 3 getopt`节在哪里`3`。

`$ man man`

作为[部分。](http://en.wikipedia.org/wiki/Man_page#Manual_sections)状态：

*该手册通常分为八个编号的部分，组织如下（在 BSD、Unix 和 Linux 上）：*

```
Section     Description
 1\.         General commands
 2\.         System calls
 3\.         Library functions, covering in particular the C standard library
 4\.         Special files (usually devices, those found in /dev) and drivers
 5\.         File formats and conventions
 6\.         Games and screensavers
 7\.         Miscellanea
 8\.         System administration commands and daemons 
```

*Unix System V 使用类似的编号方案，但顺序不同：*

```
Section     Description
 1\.         General commands
 1M.        System administration commands and daemons
 2\.         System calls
 3\.         C library functions
 4\.         File formats and conventions
 5\.         Miscellanea
 6\.         Games and screensavers
 7\.         Special files (usually devices, those found in /dev) and drivers 
```

# iphone - 在目标 c 中禁用 uidatepicker 中的特定日期

> ID：12793306
> 
> 赞同：0
> 
> 时间：2012-10-09T05:25:46.777
> 
> 标签：iphone, objective-c, ios, ios5

有什么方法可以禁用 uidatepicker 中的特定日期？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-09T06:14:30.467

由于没有直接的方法来实现这一点，您可以做的是从 datePicker 中获取“UIControlEventValueChanged”，例如

```
UIDatePicker * datePick = [[UIDatePicker alloc] init];
[datePick addTarget:self action:@selector(disableDate) forControlEvents:UIControlEventValueChanged]; 
```

在 disableDate 方法中，用户可以检查当前日期是否等于 disableDate。如果是，那么他可以将 currentDate 设置为某个以前的日期。

```
-(void)disableDate{

    NSDate *pickedDate = datePicker.date;  // Get current Date
    NSDate *disabledDate = [self getDisabledDate] // Returns Disabled Date.(getDisabledDate returns a date to be diabled).
    if([pickedDate compare:disabledDate] == NSOrderedSame){
        [datePick setDate:[self someOtherDate] animated:YES]; 
```

// 将当前日期设置为其他日期（someOtherDate 方法返回要设置的日期，如果选择禁用日期）。}

# email - Symfony 1.4 sfmailer 选择错误的主机

> ID：12793307
> 
> 赞同：0
> 
> 时间：2012-10-09T05:25:58.897
> 
> 标签：email, symfony-1.4, swiftmailer

我正在使用带有推进 1.4 的 symfony 1.4

我在 factory.yml 中进行了设置

```
dev:
  mailer:
    class: sfMailer
    param:
      logging:           %SF_LOGGING_ENABLED%
      charset:           %SF_CHARSET%
      delivery_strategy: realtime
      transport:
        class: Swift_SmtpTransport
        params:
          host:     mail.myserver.com
          port:     26
          username: webmaster@myserver.com
          password: mypass 
```

运行以下代码：

```
$mailer=$this->getMailer()->composeAndSend($from, $to, $subject, $message); 
```

错误后的问题

```
Connection could not be established with host localhost [A connection attempt failed because the connected party did not properly respond after a period of time, or established connection failed because connected host has failed to respond. #10060] 
```

我的问题是，它正在尝试连接到 localhost，即使我在 factory.yml 中提供了不同的主机。谁能告诉我问题出在哪里？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-09T06:06:21.500

工厂有错字。

如果它存在于您的真实 factory.yml 中，请尝试更改`params`为`param`under 。`transport`

# matlab - MATLAB fmincon() 不满足约束

> ID：12793309
> 
> 赞同：0
> 
> 时间：2012-10-09T05:26:04.483
> 
> 标签：matlab, optimization

我有一个非线性函数来最小化，它满足线性不等式约束和非负约束。我为此使用`fmincon`设置下限`0`。

`x >= 0`尽管满足线性不等式约束，但我得到的答案似乎并不满足。我不确定我要最小化的函数是否是凸函数（它可能有局部最小值），但我认为这不会影响任何事情。

仅供参考，这是我正在使用的语法：

```
h = fmincon(@(x)constraint_test(x,s,Cov), A,b, [],[], 0,[]) 
```

`constraint_test`是要最小化的函数，所有其他变量 ( `s,Cov,A,b`) 都是已知的。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-09T07:50:36.377

该函数`fmincon`有一堆额外的输出

```
[X,FVAL,EXITFLAG,OUTPUT,LAMBDA] = fmincon(...) 
```

其中`EXITFLAG`并`OUTPUT`提供有关优化如何终止的各种信息。此外，您可以传入一个选项：

```
options = optimset('display', 'iter-detailed');

h = fmincon(..., options); 
```

这将准确地向您展示`fmincon`在每次迭代中决定和执行的操作。

听起来它只是无法找到任何可行的解决方案，这在您分析这些输出时肯定会出现。

# iphone - 有谁知道 IOS 6.0 中不推荐使用哪些方法？

> ID：12793311
> 
> 赞同：10
> 
> 时间：2012-10-09T05:26:10.723
> 
> 标签：iphone, ios, ios6

有谁知道，**Deprecated IOS 6.0**有多少种方法？
例如：

1) `– shouldAutorotateToInterfaceOrientation:`在 iOS 6.0 中已弃用

**而是使用**

```
– shouldAutorotate 
```

2)

`– dismissModalViewControllerAnimated:`在 iOS 6.0 中已弃用

`– presentModalViewController:animated:`在 iOS 6.0 中已弃用

**而是使用**

```
– presentViewController:animated:completion:

– dismissViewControllerAnimated:completion: 
```

**另一个**

```
– viewDidUnload Deprecated in iOS 6.0

– viewWillUnload Deprecated in iOS 6.0 
```

* * *

## 回答 #1

> 赞同：19
> 
> 时间：2012-10-09T05:29:23.360

iOS 6 中的更改，不推荐使用的方法列表链接

[http://www.bgr.com/2012/07/16/ios-6-download-beta-3-change-log/](http://www.bgr.com/2012/07/16/ios-6-download-beta-3-change-log/)

[https://developer.apple.com/library/ios/#releasenotes/General/RN-iOSSDK-6_0/_index.html](https://developer.apple.com/library/ios/#releasenotes/General/RN-iOSSDK-6_0/_index.html)

[https://developer.apple.com/library/mac/#releasenotes/DeveloperTools/RN-Xcode/_index.html](https://developer.apple.com/library/mac/#releasenotes/DeveloperTools/RN-Xcode/_index.html)

[http://blog.twistedhq.com/post/31539631405/whats-new-in-the-new-apple-app-store-guidelines](http://blog.twistedhq.com/post/31539631405/whats-new-in-the-new-apple-app-store-guidelines)

[http://www.bgr.com/2012/07/16/ios-6-download-beta-3-change-log/](http://www.bgr.com/2012/07/16/ios-6-download-beta-3-change-log/)

[http://9to5mac.com/2012/06/25/apple-pushes-ios-6-0-update-to-devs/](http://9to5mac.com/2012/06/25/apple-pushes-ios-6-0-update-to-devs/)

去看一下 ！！！:)

* * *

## 回答 #2

> 赞同：11
> 
> 时间：2012-10-09T05:31:16.727

For instance you can check for [Deprecated methods for NSArray](http://developer.apple.com/library/Mac/#documentation/Cocoa/Reference/Foundation/Classes/NSArray_Class/DeprecationAppendix/AppendixADeprecatedAPI.html) and [Deprecated methods for CLLocationManager](https://developer.apple.com/library/mac/#documentation/CoreLocation/Reference/CLLocationManager_Class/DeprecationAppendix/AppendixADeprecatedAPI.html)

List is long but you can google it.

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-02-17T06:33:26.170

its long list between iOS 6 and iOS 7 there is uiallignment is replaced from nsallignment

# c - 从链表数组中删除一个节点？

> ID：12793314
> 
> 赞同：1
> 
> 时间：2012-10-09T05:26:32.390
> 
> 标签：c, linked-list, hashtable

我正在将哈希表编写为链表数组。目前我正在尝试创建一个简单的哈希表，其中键是数组的索引，值是用于实现链接的单链表。

这是我删除节点的代码：

基本结构：

```
struct Node
{
 int value;
 int page;   
 struct Node *next; 
};

int searchAndDelete(int frame,int page,int delete)
{
   struct Node** iter;
   iter=&hashtable[(page-1)%7];
   struct Node** prev=iter;

   for(;*iter;iter=&(*iter)->next)
   {
      if(page==((*iter)->page))
      {
         if(frame==((*iter)->value))
         {
            if(delete)
            {
               (*prev)->next=(*iter)->next;
               free(*iter);
            }
            return 1;
         }
      }
      prev=iter;
   }
   return 0;
} 
```

插入请看这里，[AddNode](http://bit.ly/QQbsdP)

当我删除一个节点时，它的值变为 0。当我搜索节点时，它返回的节点不是预设的，也就是 0 作为函数的输出。

我的代码中是否有任何我没有想到的错误？我是否留下任何内存泄漏或任何其他问题？

**编辑** 将这段代码添加到删除函数中：

```
 int searchAndDelete(int frame,int page,int delete)
  {
   struct Node** iter;
   iter=&hashtable[(page-1)%7];
   struct Node** prev=iter;
   struct Node** curr=iter;

   for(;*curr;curr=&(*curr)->next)
   {

     if(page==((*curr)->page))
     {
        if(frame==((*curr)->value))
        {
            if(delete)
            {
                if(curr==iter)
                {

                    iter=(*curr)->next;
                    free(*curr);

                }
                else
                {

                (*prev)->next=(*curr)->next;
                free(*curr);
                }

            }

            return 1;
        }

    }
    prev=curr;

  }
    return 0;

} 
```

我看到的问题是，当我第一次删除时，元素没有被释放，它的值设置为 0，但它仍然在链表中显示。在第二次删除中，最后一个元素的值变成了一些垃圾，因此在我的比较检查中永远不会删除该元素。有人可以阐明我可能在这里做什么吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-09T05:50:03.847

如果您使用的哈希表是七个元素宽（即索引为 0..6），并且从您的 AddNode 代码看来是这样，那么您使用的算术对于初始迭代器查找是可疑的。

```
iter=&hashtable[page-1%7]; 
```

应该是：

```
struct Node** iter = hashtable + (page % 7); 
```

这将为您提供哈希表中页面位置模数 7 处元素的地址，即 [0..6]。

此外，您从哈希表头节点中删除不考虑清除表元素本身。您可能需要 (a) 将其设置为 null，或 (b) 在下一个 ptr 中链接。也这样做。你有能力因为哈希表和初始节点指针都可用。

编辑：OP 要求提供样品。这只是如何做到这一点的简要说明。我敢肯定有很多更好的方法，甚至可以编译。这假设页面和框架都必须完全匹配才能使节点被视为可删除。

```
void searchAndDelete(int frame, int page, int del)
{
    struct Node** head = hashtable + (page % hashtable_size);
    struct Node* curr = *head;
    struct Node* prev = NULL;

    while (curr)
    {
        // if they match, setup for delete.
        if ((curr->page == page) && (curr->value == frame) && del)
        {
            // so long as the header pointer is the active node prev
            //  will be NULL. move head along if this is the case
            if (prev == NULL)
                *head = curr->next;

            // otherwise, the previous pointer needs it next set to
            //  reference the next of our vicitm node (curr)
            else
                prev->next = curr->next;

            // victim is safe to delete now.
            free(curr);

            // set to the new head node if we just deleted the
            //  old one, otherwise the one following prev.
            curr = (prev == NULL) ? *head : prev->next;
        }
        else
        {   // no match. remember prev from here on out.
            prev = curr;
            curr = curr->next;
        }
    }
} 
```

嗯，够近了=P

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-09T05:46:28.420

我看到几个问题：

1.  mod 运算符`%`需要括号。所以`iter=&hashtable[page-1%7];`改为`iter=&hashtable[(page-1)%7];`

2.  处理您将删除链表中的第一个元素的情况。在这种情况下`prev`将相同，`iter`所以`(*prev)->next=(*iter)->next;`不会有任何不同。您需要更新数组以存储下一个元素 aka `(*iter)->next`。

# jasper-reports - 需要在 iReport 中按列而不是按页增加页码

> ID：12793315
> 
> 赞同：1
> 
> 时间：2012-10-09T05:26:37.853
> 
> 标签：jasper-reports, ireport

有一种情况，我将我的页面分为两列。我希望 pageNumber 从 1 开始递增。例如，第一页应该有 1,2，第二页应该有 3、4，依此类推。请告诉我如何操作 pagenumber 字段。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-09T07:50:16.060

您可以创建新变量来计算列数。

变量定义可以是这样的：

***名称***：*变量*
***增量类型***：*列*
***计算***：*计数*
***重置类型***：*报表*
***表达式***： *$V{variable} + 1*
***初始值表达式***： *0*

样本：

```
<?xml version="1.0" encoding="UTF-8"?>
<jasperReport .. columnCount="2" .. isFloatColumnFooter="true">
    <queryString>
        <![CDATA[SELECT id, city, street FROM address]]>
    </queryString>
    <field name="ID" class="java.lang.Integer"/>
    <field name="CITY" class="java.lang.String"/>
    <field name="STREET" class="java.lang.String"/>
    <variable name="columnsCount" class="java.lang.Integer" incrementType="Column" calculation="Count">
        <variableExpression><![CDATA[$V{columnsCount} + 1]]></variableExpression>
        <initialValueExpression><![CDATA[0]]></initialValueExpression>
    </variable>
    <detail>
        <band height="63" splitType="Stretch">
            <textField>
                <reportElement x="0" y="0" width="48" height="63"/>
                <textElement/>
                <textFieldExpression><![CDATA[$F{ID}]]></textFieldExpression>
            </textField>
            <textField>
                <reportElement x="48" y="0" width="100" height="63"/>
                <textElement/>
                <textFieldExpression><![CDATA[$F{CITY}]]></textFieldExpression>
            </textField>
            <textField>
                <reportElement x="148" y="0" width="128" height="63"/>
                <textElement/>
                <textFieldExpression><![CDATA[$F{STREET}]]></textFieldExpression>
            </textField>
        </band>
    </detail>
    <columnFooter>
        <band height="50">
            <textField>
                <reportElement x="156" y="30" width="80" height="20"/>
                <textElement textAlignment="Right"/>
                <textFieldExpression><![CDATA["Page "+$V{columnsCount}+" of"]]></textFieldExpression>
            </textField>
            <textField evaluationTime="Report">
                <reportElement x="236" y="30" width="40" height="20"/>
                <textElement/>
                <textFieldExpression><![CDATA[" " + $V{columnsCount}]]></textFieldExpression>
            </textField>
        </band>
    </columnFooter>
</jasperReport> 
```

结果将是：

![iReport 中的预览](../Images/8e0ed8021ae1fd3f44988424d5edf615.png)

# php - 无法通过 POST 通过 php 中的套接字连接发送对象数组

> ID：12793320
> 
> 赞同：0
> 
> 时间：2012-10-09T05:26:48.680
> 
> 标签：php, php-socket

我对php完全陌生。我有 2 个页面让 A.php 和 B.php 想要在页面 A 运行页面 B。为此我创建了一个套接字连接并能够运行页面 B 但问题是当我发送对象数组时到页面 B.page A 只发送数组中列出的第一个对象，数组的其他值什么都没有这里是我在 A.php 中的一些代码

```
$arr = array("message" => $pushData,
  "messageType" => $messageType,
  "displayGroupID" => $displayGroupID,
  "db"=>$db);
$fp1 = $this->JobStartAsync('localhost', 'B.php', $arr);
$r1 = $this->JobPollAsync($fp1);

function JobStartAsync($server, $url, $data, $port=80,$conn_timeout=10, $rw_timeout=86400)
{
    $errno = '';
    $errstr = '';
    $data = http_build_query($data);

    set_time_limit(0);

    $fp = fsockopen($server, $port, $errno, $errstr, $conn_timeout);

    if (!$fp)
    {
        echo "$errstr ($errno)<br />\n";
        return false;
    }

    $out = "POST $url HTTP/1.1\r\n";
    $out .= "Host: $server\r\n";
    $out .= "Content-type: application/x-www-form-urlencoded\r\n";
    $out .= "Content-length: ". strlen($data) ."\r\n";
    $out .= "Connection: Close\r\n\r\n";
    $out .= "$data";
    stream_set_blocking($fp, false);
    stream_set_timeout($fp, $rw_timeout);
    fwrite($fp, $out);
    //fwrite($fp, $data);
    return $fp;
}

function JobPollAsync(&$fp)
{
    if ($fp === false)
        return false;

    if (feof($fp))
    {
        fclose($fp);
        $fp = false;
        return false;
    }

    return fread($fp, 10000);
} 
```

在 B.php

```
fileWrite ($_POST['displayGroupID'],$_POST['message'],$_POST['messageType']); 
```

它只得到“消息”，因为它被列为数组中的第一个元素

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-09T05:51:59.710

看看[卷曲](https://stackoverflow.com/questions/2138527/php-curl-http-post-sample-code)。这是你需要的，其他人都在使用。

```
ch = curl_init();

curl_setopt($ch, CURLOPT_URL,"http://www.example.com");
curl_setopt($ch, CURLOPT_POST, 1);
curl_setopt($ch, CURLOPT_POSTFIELDS,
        "postvar1=value1&postvar2=value2&postvar3=value3");

curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);

$response = curl_exec ($ch);

curl_close ($ch); 
```

对于异步变体，请查看之前回答的类似问题 -[如何在 PHP 中发出异步 GET 请求？](https://stackoverflow.com/questions/962915/how-do-i-make-an-asynchronous-get-request-in-php)

# sql-server-2005-express - 如何在 SQL Server 2005 列中删除 '

> ID：12793321
> 
> 赞同：1
> 
> 时间：2012-10-09T05:27:01.363
> 
> 标签：sql-server-2005-express

我`description`在特定表中有一个特定列 ( )。我使用批量加载在表中插入数据，但在检索数据时，由于此列 ( `description`)，它给出了错误。

问题是由于`'`描述（如`12' height`）而发生的。那么如何`'`在该列中删除它？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-09T05:47:56.823

[听起来你正在运行某种脚本，当它尝试在代码或动态 sql 中的两个引号之间插入一个带有单引号的值时，它会失败。您的问题不会在数据库中，而是在您处理它的地方。快速破解将是运行更新替换。在这种情况下，我将删除您的空引号。

`Update [tablename] set [description] = replace([description],char(39),'')
where [description] like '%' + char(39) + '%'` 

然而，这只是一个 hack....您的问题出在您正在检索和处理数据的其他地方

# iphone - 处理 IOS 应用程序开发中的中断

> ID：12793322
> 
> 赞同：0
> 
> 时间：2012-10-09T05:27:02.457
> 
> 标签：iphone, objective-c, ios, cordova

我想知道当应用程序处于前台时我们如何处理来电、短信等中断。我阅读了苹果文档，它说该应用程序将暂时进入非活动状态，即。'applicationWillResignActive' 函数将被调用。并且应该执行诸如停止计时器、定期任务和运行元数据查询之类的事情，当它回到活动状态时，必须再次禁用这些任务。当他们说计时器和周期性任务时，他们指的是什么样的任务。以及我们如何明智地建立这些编码。任何帮助将不胜感激。谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-09T08:25:56.967

是的，当收到临时中断时，来自 UIApplication 的以下方法被调用[ [Apple's documentation]](http://developer.apple.com/library/ios/#documentation/uikit/reference/UIApplicationDelegate_Protocol/Reference/Reference.html)：

```
- (void)applicationWillResignActive:(UIApplication *)application 
```

*他们使用计时器和周期性任务*引用的任务是使用计时器定期执行的这类任务。例如，您可以在后台运行一个计时器来更新视图的内容。然后，当应用程序将退出活动时，您应该停止该计时器。

例如，假设您正在运行一个计时器以每 10 秒执行一次任务：

```
// AppDelegate.m

// When application becomes active the timer is started
- (void)applicationDidBecomeActive:(UIApplication *)application {

    self.timer = [NSTimer scheduledTimerWithTimeInterval:10.0
                                                  target:self
                                                selector:@selector(scheduledTask:)
                                                userInfo:nil
                                                 repeats:YES];
}

// When the application will resign active the timer is stopped
- (void)applicationWillResignActive:(UIApplication *)application {

    [self.timer invalidate];
    self.timer = nil;
 } 
```

计划任务将是：

```
- (void)scheduledTask:(NSTimer *)timer {

    // Up to you... for instance: web service call
} 
```

# java - 解析 XML 模式中的类型。爪哇

> ID：12793326
> 
> 赞同：1
> 
> 时间：2012-10-09T05:27:30.163
> 
> 标签：java, xml, xsd, jaxb

摆在我面前的是一个问题——完整的模式解析（包含、导入、重新定义）。问题甚至不是解析方案，而是从这个模式中解析类型。为了解释这个问题，这里有一个例子：

**架构.xsd：**

```
<?xml version="1.0" encoding="UTF-8"?>
<xs:schema xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:myprefix="http://myhost.ru/service/" xmlns:anprefix="http://anotherhost.ru/pub-service/" targetNamespace="http://myhost.ru/service/">
    <xs:import namespace="http://anotherhost.ru/pub-service/" schemaLocation="anotherhost_schema.xsd"/>

    <xs:complexType>
        <xs:sequence>
            <xs:element name="ServiceCode" type="anprefix:ServiceCodeType">
                <xs:annotation>
                    <xs:documentation>Service code</xs:documentation>
                </xs:annotation>
            </xs:element>
            <xs:element name="MessageClass" type="myprefix:MessageClassType"/>
        </xs:sequence>
    </xs:complexType>

    <xs:simpleType name="MessageClassType">
        <xs:restriction base="xs:string">
            <xs:enumeration value="REQUEST">
                <xs:annotation>
                    <xs:documentation>Request from client
                    </xs:documentation>
                </xs:annotation>
            </xs:enumeration>
            <xs:enumeration value="RESPONSE">
                <xs:annotation>
                    <xs:documentation>Response to client</xs:documentation>
                </xs:annotation>
            </xs:enumeration>
        </xs:restriction>
    </xs:simpleType>

</xs:schema> 
```

**另一个host_schema.xsd：**

```
<?xml version="1.0" encoding="UTF-8"?>
<xs:schema xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:anprefix="http://anotherhost.ru/pub-service/" targetNamespace="http://anotherhost.ru/pub-service/">
    <xs:simpleType name="ServiceCodeType">
        <restriction base="xs:string">
        </restriction>
    </xs:simpleType>
</xs:schema> 
```

例子不是很难，真正的问题要大得多。我的问题是解析模式并创建它的内部表示（表单生成器和请求处理程序将使用），例如，如下所示：

```
{
    "ServiceCode": {"string", String.class, "Service code"},
    "MessageClass": {"string", {"REQUEST":"Request from client","RESPONSE":"Response to client"}, ""}
} 
```

内部表示可以是多种多样的，但在 Java 中使用起来很简单。有这样的图书馆吗？我知道，有一个名为 JAXB 的库，专门为 XML 解析而创建，但我不明白如何将它绑定到我的问题。

# java - Jasper 报告 Struts 2 框架中的 Serial no generation

> ID：12793327
> 
> 赞同：1
> 
> 时间：2012-10-09T05:27:40.067
> 
> 标签：java, struts2, jasper-reports

我正在使用 Struts 2 框架。我想在 jasper 报告中生成自动递增序列号，该报告是从操作页面生成的，没有 Jsp 页面。有什么帮助吗？

# php - AJAX登录界面

> ID：12793332
> 
> 赞同：2
> 
> 时间：2012-10-09T05:27:57.633
> 
> 标签：php, ajax, jquery, login

实现 AJAX 登录门户的最佳方式是什么？
我正在创建一个像 Stack Overflow 一样的登录门户，它允许用户选择多种方法来登录到一个站点。

如何选择 AJAX，例如，如果用户使用“站点登录”，那么 div 或登录面板的内容与 AJAX 并刷新到登录表单？

我应该将这些放在不同的 div 中，然后使用 jQuery 进行显示或隐藏，还是应该使用另一种方法？

```
<body>
     <ul id="login-options">
          <li>site login</li>
          <li>facebook</li>
          <li>google</li>
          <li>twitter</li>
     </ul>
</body? 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-09T05:42:41.090

首先将点击事件附加到选项：

```
<ul id="login-options">
      <li id="site">site login</li>
      <li id="facebook">facebook</li>
      <li id="google">google</li>
      <li id="twitter">twitter</li>
 </ul> 
```

一种方法是在单独的 div 中为每种登录类型添加 HTML 表单，然后隐藏。在选项的 ajax 选择器上，显示相应的 div。

```
 $("#site").click(function() {

        $("#div_site_login").show();

 }); 
```

第二种是从 jQuery 内部动态地将表单标记添加到 div。

```
 $("#div_site_login").html('your form here'); 
```

# asp.net - 如果用户对父网站进行身份验证，则无需为子网站输入凭据

> ID：12793335
> 
> 赞同：1
> 
> 时间：2012-10-09T05:28:16.327
> 
> 标签：asp.net, .net, web-services, c#-4.0, authentication

我正在使用 asp.net。我在不同的服务器中有两个网站（**Parent.com 和 child.com**），并且两个网站都有自己的登录屏幕**我想在用户从 Parent 登录时为 child.com 提供自动身份验证。 com 网站**如果用户尝试打开 child.com 并且他已经登录到 parent.com 网站，则无需显示 child.com 的登录屏幕，它将自动验证该用户并且他将能够进入孩子。 com 网站自由。请建议我该怎么做。
谢谢普拉
富拉

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-09T07:17:47.617

You have to set the same machineKey in both web.configs.

In that case you'll get what you need.

[http://msdn.microsoft.com/en-us/library/eb0zx8fc.aspx](http://msdn.microsoft.com/en-us/library/eb0zx8fc.aspx)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-05-15T09:35:42.900

我希望实现类似的功能，但适用于跨域和跨平台网站。我有如下要求。我有一个父网站，它有自己的登录实现。我在页面上有一个子网站的链接。子网站只能从父网站访问。如果用户直接访问子 URL，他应该得到一个找不到页面页面。子网站没有登录页面。此外，父站点和子站点都可以在它们之间发送接收数据。子站点可以被多个父站点访问。您能否让我知道我们如何在上述场景中实现会话功能。我们如何在上述场景中使用 Web 服务？我需要考虑哪些参数来管理这些多个站点之间的通信。

如果我需要提供更多信息，请告诉我

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-09T05:39:42.440

您可以配置 SQL Server 以维护会话状态，[请参见此处](http://technet.microsoft.com/en-us/library/cc753897%28v=ws.10%29.aspx)，并将这两个网站设置为具有相同的会话状态管理。

# ios - instantiateViewControllerWithIdentifier，但是 xCode 4.5 中的标识符在哪里？

> ID：12793337
> 
> 赞同：17
> 
> 时间：2012-10-09T05:28:25.420
> 
> 标签：ios, xcode4.5

我有一个带有书名的 UITableView。我还有一个视图（AddAndEditBookViewController）来输入有关书籍的信息。当我单击表格导航栏上的“+”时，我想打开我的 AddAndEditBookViewController。如果我在单独的 nib 文件中创建表格，我知道该怎么做，但是如果我的视图是在情节提要中创建的，我该怎么做（没有 segues ......此时更多用于学习目的）。

我读到我可以使用情节提要中的 instantiateViewControllerWithIdentifier 方法，但是如何找到我的视图控制器的 id？我尝试查看情节提要的 XML 表示，但我似乎没有找到它......

这是尝试打开模式视图的代码。

```
- (void)insertNewObject:(id)sender
{
    AddAndEditBooksViewController * addViewController = (AddAndEditBooksViewController *)[self.storyboard instantiateViewControllerWithIdentifier:@"gH8-2m-MXv"];
    [addViewController setDelegate:self];
    [addViewController setModalPresentationStyle:UIModalPresentationFormSheet];
    [self presentViewController:addViewController animated:YES completion:NULL];
} 
```

我的具体问题是：我应该使用什么标识符？它在哪里指定或我如何手动指定它？

谢谢！

* * *

## 回答 #1

> 赞同：35
> 
> 时间：2012-10-09T05:48:20.913

它位于 IB 的 Identity Inspector 选项卡下。它被称为“故事板 ID”。你可以给它任何你想要的唯一名称。

# javascript - 如何将面板锚定到 DOM 元素？

> ID：12793338
> 
> 赞同：1
> 
> 时间：2012-10-09T05:28:33.467
> 
> 标签：javascript, firefox, firefox-addon, firefox-addon-sdk

我有一个附加组件，它绑定到`onKeyPress`页面上所有文本控件的事件。输入一些文本时，我会从内容脚本向附加脚本发送一条消息，该脚本将显示一个包含一些数据的面板。这很好用，但面板没有正确定位。我想将面板定位到文本控件。

Panel 的`show()`函数将 DOM 元素放在它应该锚定的位置。但我不确定将 DOM 元素从内容脚本传递到附加进程。看起来我只能传递 JSON 可序列化值。

解决这个问题的任何帮助都会很棒。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-10T10:46:44.087

将 DOM 节点从内容脚本传递到扩展脚本是不可能的。这是设计使然 - 扩展脚本不应该直接处理 DOM，它们甚至可能在单独的进程中运行（这是附加 SDK 原始计划的一部分）。

目前，在扩展脚本中获取 DOM 节点的唯一方法是使用低级 API 直接访问 DOM，而不是通过内容脚本。例如，您可以访问活动浏览器窗口中打开的页面：

```
var windowUtils = require("window-utils");
var browser = windowUtils.activeBrowserWindow;
var wnd = browser.content;
var element = wnd.document.getElementById("foobar"); 
```

但是，这些低级 API 并不能保证是稳定的，并且`window-utils`模块甚至没有完整的文档记录（例如，[文档](https://addons.mozilla.org/en-US/developers/docs/sdk/1.10/packages/api-utils/window-utils.html)`activeBrowserWindow`中没有列出属性）。使用它们需要您自担风险，并准备好它们可能会在 SDK 的未来版本中停止工作。将一个看起来像面板的 HTML 元素注入到文档中（如 canuckistani 所建议的）可能确实是一个更好的选择。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-05-15T06:38:39.100

而不是使用`mainPanel.show()`，使用`view.panel = mainPanel;`：

```
myWidget = require('widget').Widget({
      id: "text-entry",
      label: "StrikeBase",
      contentURL: data.url("icon.png"),
//    panel: mainPanel,
      // Instead using this
      onClick: function(view) { 
//        mainPanel.show();
         // Instead using this              
          view.panel = mainPanel;
      }
    }); 
```

# google-bigquery - 图示

> ID：12793339
> 
> 赞同：0
> 
> 时间：2012-10-09T05:28:50.003
> 
> 标签：google-bigquery

在 qlikview 上找到的大查询演示似乎很有趣。

[http://ap.demo.qlikview.com/QvAJAXZfc/opendoc.htm?document=qvdocs/American%20Birth%20Statistics.qvw#](http://ap.demo.qlikview.com/QvAJAXZfc/opendoc.htm?document=qvdocs/American%20Birth%20Statistics.qvw#)

但我不明白如何将此视图应用于我的表格。是否需要安装软件才能获得如此漂亮的视图？

我需要下载 QlikView Connector for Google BigQuery 吗？我将它与 Google BigQuery 的 QlikView Extension 一起下载。但无法安装。这个安装真的有必要还是我可以在线安装？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-13T02:52:49.113

为了一起使用 QlikView 和 BigQuery（通过“ [QlikView Connector for Google BigQuery](http://market.qlikview.com/qlikview-connector-for-google-bigquery.html) ”）：

1.  下载并安装 QlikView。
2.  下载并安装用于 Google BigQuery 的 QlikView 连接器。
3.  访问“ [https://developers.google.com/console](https://developers.google.com/console) ”，选择您正在使用的 BigQuery 项目，然后在***API Access***下为已安装的应用程序创建一个***客户端 ID***。
4.  返回 QlikView 并在***文件***下选择***编辑脚本***
5.  在底部的*数据*选项卡下，从下拉菜单中选择*BigQuery选项。*
6.  在对话框中使用您在步骤 3 中创建的客户端 ID 和密钥（确保您打开了 Web 浏览器，并且项目成员已通过 Google 服务的身份验证）。
7.  然后，您可以将类似 SQL 的 BigQuery 语句添加到脚本编辑器。

在 QlikView Connector for Google BigQuery 随附的文档中提供了更多信息。

# android - 使用 OpenGL ES 2.0 绘制 2D 图像

> ID：12793341
> 
> 赞同：28
> 
> 时间：2012-10-09T05:28:57.200
> 
> 标签：android, android-emulator, 2d, opengl-es-2.0, sprite

我一直在努力使用适用于 Android 的 openGL ES 2.0 从 jpg/png 文件中绘制 2D 图像。在我所见的任何地方，教程都是用于纹理 3D 图像的，因此很难弄清楚如何绘制常规的 2D Sprite。我有一个正方形可以绘制和旋转，但是一旦涉及到纹理，我一定是在某个地方搞砸了，因为我一直收到一个错误，说 DrawElements 没有绑定到任何数据，但是如果我注释掉任何与纹理有关的代码，它就可以正常工作。

任何帮助将不胜感激。

这是我的 Sprite 类和 Renderer 类的代码：

```
public class Sprite
{
//Reference to Activity Context
private final Context mActivityContext;

//Added for Textures
private final FloatBuffer mCubeTextureCoordinates;
private int mTextureUniformHandle;
private int mTextureCoordinateHandle;
private final int mTextureCoordinateDataSize = 2;
private int mTextureDataHandle;

private final String vertexShaderCode =
//Test
"attribute vec2 a_TexCoordinate;" +
"varying vec2 v_TexCoordinate;" +
//End Test
"uniform mat4 uMVPMatrix;" +
"attribute vec4 vPosition;" +
"void main() {" +
"  gl_Position = vPosition * uMVPMatrix;" +
    //Test
    "v_TexCoordinate = a_TexCoordinate" +
    //End Test
"}";

private final String fragmentShaderCode =
"precision mediump float;" +
"uniform vec4 vColor;" +
//Test
"uniform sampler2D u_Texture;" +
"varying vec2 v_TexCoordinate;" +
//End Test
"void main() {" +
//"gl_FragColor = vColor;" +
"gl_FragColor = (v_Color * texture2D(u_Texture, v_TexCoordinate));" +
"}";

private final int shaderProgram;    
private final FloatBuffer vertexBuffer;
private final ShortBuffer drawListBuffer;
private int mPositionHandle;
private int mColorHandle;
private int mMVPMatrixHandle;

// number of coordinates per vertex in this array
static final int COORDS_PER_VERTEX = 2;
static float spriteCoords[] = { -0.5f,  0.5f,   // top left
                                -0.5f, -0.5f,   // bottom left
                                 0.5f, -0.5f,   // bottom right
                                 0.5f,  0.5f }; //top right

private short drawOrder[] = { 0, 1, 2, 0, 2, 3 }; //Order to draw vertices
private final int vertexStride = COORDS_PER_VERTEX * 4; //Bytes per vertex

// Set color with red, green, blue and alpha (opacity) values
float color[] = { 0.63671875f, 0.76953125f, 0.22265625f, 1.0f };

public Sprite(final Context activityContext)
{
    mActivityContext = activityContext;

    //Initialize Vertex Byte Buffer for Shape Coordinates / # of coordinate values * 4 bytes per float
    ByteBuffer bb = ByteBuffer.allocateDirect(spriteCoords.length * 4); 
    //Use the Device's Native Byte Order
    bb.order(ByteOrder.nativeOrder());
    //Create a floating point buffer from the ByteBuffer
    vertexBuffer = bb.asFloatBuffer();
    //Add the coordinates to the FloatBuffer
    vertexBuffer.put(spriteCoords);
    //Set the Buffer to Read the first coordinate
    vertexBuffer.position(0);

    // S, T (or X, Y)
    // Texture coordinate data.
    // Because images have a Y axis pointing downward (values increase as you move down the image) while
    // OpenGL has a Y axis pointing upward, we adjust for that here by flipping the Y axis.
    // What's more is that the texture coordinates are the same for every face.
    final float[] cubeTextureCoordinateData =
    {                                               
            //Front face
            /*0.0f, 0.0f,               
            0.0f, 1.0f,
            1.0f, 0.0f,
            0.0f, 1.0f,
            1.0f, 1.0f,
            1.0f, 0.0f*/

            -0.5f,  0.5f,
            -0.5f, -0.5f,
             0.5f, -0.5f,
             0.5f,  0.5f
    };

    mCubeTextureCoordinates = ByteBuffer.allocateDirect(cubeTextureCoordinateData.length * 4).order(ByteOrder.nativeOrder()).asFloatBuffer();
    mCubeTextureCoordinates.put(cubeTextureCoordinateData).position(0);

    //Initialize byte buffer for the draw list
    ByteBuffer dlb = ByteBuffer.allocateDirect(spriteCoords.length * 2);
    dlb.order(ByteOrder.nativeOrder());
    drawListBuffer = dlb.asShortBuffer();
    drawListBuffer.put(drawOrder);
    drawListBuffer.position(0);

    int vertexShader = MyGL20Renderer.loadShader(GLES20.GL_VERTEX_SHADER, vertexShaderCode);
    int fragmentShader = MyGL20Renderer.loadShader(GLES20.GL_FRAGMENT_SHADER, fragmentShaderCode);

    shaderProgram = GLES20.glCreateProgram();
    GLES20.glAttachShader(shaderProgram, vertexShader);
    GLES20.glAttachShader(shaderProgram, fragmentShader);

    //Texture Code
    GLES20.glBindAttribLocation(shaderProgram, 0, "a_TexCoordinate");

    GLES20.glLinkProgram(shaderProgram);

    //Load the texture
    mTextureDataHandle = loadTexture(mActivityContext, R.drawable.brick);
}

public void Draw(float[] mvpMatrix)
{
    //Add program to OpenGL ES Environment
    GLES20.glUseProgram(shaderProgram);

    //Get handle to vertex shader's vPosition member
    mPositionHandle = GLES20.glGetAttribLocation(shaderProgram, "vPosition");

    //Enable a handle to the triangle vertices
    GLES20.glEnableVertexAttribArray(mPositionHandle);

    //Prepare the triangle coordinate data
    GLES20.glVertexAttribPointer(mPositionHandle, COORDS_PER_VERTEX, GLES20.GL_FLOAT, false, vertexStride, vertexBuffer);

    //Get Handle to Fragment Shader's vColor member
    mColorHandle = GLES20.glGetUniformLocation(shaderProgram, "vColor");

    //Set the Color for drawing the triangle
    GLES20.glUniform4fv(mColorHandle, 1, color, 0);

    //Set Texture Handles and bind Texture
    mTextureUniformHandle = GLES20.glGetAttribLocation(shaderProgram, "u_Texture");
    mTextureCoordinateHandle = GLES20.glGetAttribLocation(shaderProgram, "a_TexCoordinate");

    //Set the active texture unit to texture unit 0.
    GLES20.glActiveTexture(GLES20.GL_TEXTURE0);

    //Bind the texture to this unit.
    GLES20.glBindTexture(GLES20.GL_TEXTURE_2D, mTextureDataHandle);

    //Tell the texture uniform sampler to use this texture in the shader by binding to texture unit 0.
    GLES20.glUniform1i(mTextureUniformHandle, 0); 

    //Pass in the texture coordinate information
    mCubeTextureCoordinates.position(0);
    GLES20.glVertexAttribPointer(mTextureCoordinateHandle, mTextureCoordinateDataSize, GLES20.GL_FLOAT, false, 0, mCubeTextureCoordinates);
    GLES20.glEnableVertexAttribArray(mTextureCoordinateHandle);

    //Get Handle to Shape's Transformation Matrix
    mMVPMatrixHandle = GLES20.glGetUniformLocation(shaderProgram, "uMVPMatrix");

    //Apply the projection and view transformation
    GLES20.glUniformMatrix4fv(mMVPMatrixHandle, 1, false, mvpMatrix, 0);

    //Draw the triangle
    GLES20.glDrawElements(GLES20.GL_TRIANGLES, drawOrder.length, GLES20.GL_UNSIGNED_SHORT, drawListBuffer);

    //Disable Vertex Array
    GLES20.glDisableVertexAttribArray(mPositionHandle);
}

public static int loadTexture(final Context context, final int resourceId)
{
    final int[] textureHandle = new int[1];

    GLES20.glGenTextures(1, textureHandle, 0);

    if (textureHandle[0] != 0)
    {
        final BitmapFactory.Options options = new BitmapFactory.Options();
        options.inScaled = false;   // No pre-scaling

        // Read in the resource
        final Bitmap bitmap = BitmapFactory.decodeResource(context.getResources(), resourceId, options);

        // Bind to the texture in OpenGL
        GLES20.glBindTexture(GLES20.GL_TEXTURE_2D, textureHandle[0]);

        // Set filtering
        GLES20.glTexParameteri(GLES20.GL_TEXTURE_2D, GLES20.GL_TEXTURE_MIN_FILTER, GLES20.GL_NEAREST);
        GLES20.glTexParameteri(GLES20.GL_TEXTURE_2D, GLES20.GL_TEXTURE_MAG_FILTER, GLES20.GL_NEAREST);

        // Load the bitmap into the bound texture.
        GLUtils.texImage2D(GLES20.GL_TEXTURE_2D, 0, bitmap, 0);

        // Recycle the bitmap, since its data has been loaded into OpenGL.
        bitmap.recycle();
    }

    if (textureHandle[0] == 0)
    {
        throw new RuntimeException("Error loading texture.");
    }

    return textureHandle[0];
}
} 
```

我的渲染器类：

```
public class MyGL20Renderer implements GLSurfaceView.Renderer
{
private final Context mActivityContext;

//Matrix Initializations
private final float[] mMVPMatrix = new float[16];
private final float[] mProjMatrix = new float[16];
private final float[] mVMatrix = new float[16];
private float[] mRotationMatrix = new float[16];

//Declare as volatile because we are updating it from another thread
public volatile float mAngle;

//private Triangle triangle;
private Sprite sprite;

public MyGL20Renderer(final Context activityContext)
{
    mActivityContext = activityContext;
}

public void onSurfaceCreated(GL10 unused, EGLConfig config)
{
    //Set the background frame color
    GLES20.glClearColor(0.0f, 0.0f, 0.0f, 1.0f);

    //Initialize Shapes
    //triangle = new Triangle();
    sprite = new Sprite(mActivityContext);
}

public void onDrawFrame(GL10 unused)
{
    //Redraw background color
    GLES20.glClear(GLES20.GL_COLOR_BUFFER_BIT);

    //Set the camera position (View Matrix)
    Matrix.setLookAtM(mVMatrix, 0, 0, 0, -3, 0f, 0f, 0f, 0f, 1.0f, 0.0f);

    //Calculate the projection and view transformation
    Matrix.multiplyMM(mMVPMatrix, 0, mProjMatrix, 0, mVMatrix, 0);

    //Create a rotation transformation for the triangle
    Matrix.setRotateM(mRotationMatrix, 0, mAngle, 0, 0, -1.0f);

    //Combine the rotation matrix with the projection and camera view
    Matrix.multiplyMM(mMVPMatrix, 0, mRotationMatrix, 0, mMVPMatrix, 0);

    //Draw Shape
    //triangle.Draw(mMVPMatrix);
    sprite.Draw(mMVPMatrix);
}

public void onSurfaceChanged(GL10 unused, int width, int height)
{
    GLES20.glViewport(0, 0, width, height);

    float ratio = (float) width / height;

    //This Projection Matrix is applied to object coordinates in the onDrawFrame() method
    Matrix.frustumM(mProjMatrix, 0, -ratio, ratio, -1, 1, 3, 7);
}

public static int loadShader(int type, String shaderCode)
{
    //Create a Vertex Shader Type Or a Fragment Shader Type (GLES20.GL_VERTEX_SHADER OR GLES20.GL_FRAGMENT_SHADER)
    int shader = GLES20.glCreateShader(type);

    //Add The Source Code and Compile it
    GLES20.glShaderSource(shader, shaderCode);
    GLES20.glCompileShader(shader);

    return shader;
}
} 
```

* * *

## 回答 #1

> 赞同：24
> 
> 时间：2012-10-10T00:51:09.887

"v_TexCoordinate = a_TexCoordinate" +

本来应该

"v_TexCoordinate = a_TexCoordinate;" +

显然我忘记了分号，现在我意识到当我把愚蠢的事情搞砸时我是多么依赖我的 IDE 来告诉我哈哈。

* * *

## 回答 #2

> 赞同：9
> 
> 时间：2012-10-24T12:12:11.990

fragmentShaderCode 中变量 vColor 命名（或使用）有错误。在这里，您的变量名为 vColor：

```
uniform vec4 vColor; 
```

在这一行中，它的名称为 v_Color

```
gl_FragColor = (v_Color * texture2D(u_Texture, v_TexCoordinate)); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-11T11:19:26.450

尝试使用以下纹理坐标：

最终浮点[] cubeTextureCoordinateData = {
0.5,-0.5, 0.5,0.5, -0.5,0.5, -0.5,-0.5 };

它的工作。非常感谢你。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2015-03-31T22:35:58.427

我也会在着色器中更改它

```
 gl_Position = vPosition * uMVPMatrix; 
```

对此

```
 gl_Position = uMVPMatrix * vPosition; 
```

尝试平移图像的位置时会有所不同。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-10-09T06:16:47.823

解决方案可以像在分配 VertexAttribPointer 之前启用 mTextureCoord... 一样简单；

# email - 电子邮件正文内容中的特殊字符更改

> ID：12793357
> 
> 赞同：1
> 
> 时间：2012-10-09T05:30:04.580
> 
> 标签：email, character-encoding

我正在通过电子邮件向用户发送报告链接，所有代码都可以正常工作，并且像这样的电子邮件链接

```
www.xyz.com/FeedbackReport.aspx?RequestId=ede0e23e-699b-4905-bfbb-698081ba6b18&ÆÆÆÆ=2979 
```

但在电子邮件中改为

```
www.xyz.com/FeedbackReport.aspx?RequestId=ede0e23e-699b-4905-bfbb-698081ba6b18&%C3%86%C3%86%C3%86%C3%86=2979 
```

我想在电子邮件中发送原始链接文本，但我不知道该怎么做。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-09T05:33:40.297

这是由于 URL 中的字符编码而发生的，请检查[此字符编码参考](http://www.w3schools.com/tags/ref_urlencode.asp)：

```
Ã   %C3 
```

*URL 只能使用 ASCII 字符集通过 Internet 发送。
由于 URL 通常包含 ASCII 集之外的字符，因此必须将 URL 转换为有效的 ASCII 格式。
URL 编码将不安全的 ASCII 字符替换为“%”，后跟两个十六进制数字。
URL 不能包含空格。URL 编码通常用 + 号替换空格。*

我建议您使用未在 URL 中编码的字符

# c# - 如何以编程方式将多个值传递给一个 SSRS 参数（VB.NET、C#）

> ID：12793363
> 
> 赞同：0
> 
> 时间：2012-10-09T05:30:27.090
> 
> 标签：c#, asp.net, reporting-services

我需要以编程方式（VB.NET、C#）将多个值传递给一个 SSRS 参数。例如几个县到一个名为“国家”的报告参数。这可以很容易地手动完成，将参数定义为多值参数并通过在运行时激活参数的复选框来选择多个参数值。但是有没有办法在 VB.NET 或 C# 中以编程方式完成它？

```
I have tried the following with out success:

ReportParameterInfoCollection @params = default(ReportParameterInfoCollection);
@params = this.ReportViewer1.ServerReport.GetParameters();
List<ReportParameter> changedParams = new List<ReportParameter>();
foreach (ReportParameterInfo paramInfo in @params)
{
    ReportParameter param = new ReportParameter();
    param.Name = paramInfo.Name;
    if ((paramInfo.Name == "Terminal")
    {
        //param.Values.Add(User.Identity.Name);
        string[] values = new string[] { "Some Terminal", "Some Other Terminal" };
        param.Values.AddRange(values);
    }
    changedParams.Add(param);
}

this.ReportViewer1.ServerReport.SetParameters(changedParams); 
```

# c++ - 中缀到后缀表达式转换代码不起作用

> ID：12793368
> 
> 赞同：0
> 
> 时间：2012-10-09T05:31:31.397
> 
> 标签：c++

以下是我在 cpp 中将中缀转换为后缀表达式的代码？我已经尝试了一切，但我的代码没有给我想要的结果？请有人帮助我....plzzzzzz。

尽管我认为代码是正确的，但它只是不起作用。我花了很多时间检查此代码并检查了 evry 行的工作，但仍然无法正常工作。

```
#include <iostream>
#include<conio.h>
using namespace std;

int k=-1,m=0;
int j=0;
string infi,postfi,operato;
int precedence(char s)
{
    switch(s)
    {

    case '+':
    case '-':     
    return 1;
    break;
    case '*':
    case '/':     
    return 2;
    break;
    case '$':
    return 3;
    break;
    case '(':
    return 4;
    break;
    case ')':
    return 5;
    break;
    }
}
void operat()
{
     if(k==-1)
     {

              k++;
             operato[k]=infi[j];
             //cout<<operato[0]<<"mm";
     }
     else if(precedence(infi[j])==4)
     {
          //cout<<"0000";
          k++;
          operato[k]=infi[j];
     }
     else if(precedence(infi[j])==5)
     {
          //cout<<"0000";
          while(operato[k]!='(')
          {
                                 postfi[m]=operato[k];
                                 m++;
                                 k--;
          }
          k--;
     }   
     else if(precedence(infi[j])>precedence(operato[k]))
     {
          //cout<<"0000";
          k++;
          operato[k]=infi[j];
     }
     else
     {
         //cout<<"0000";
         postfi[m]=operato[k];
         k--;
         m++;
         operat();
     }
  //cout<<postfi[0]<<"pp";   
}

int main()
{

    cin>>infi;

    while(infi[j]!='\0')
    {
                         if(infi[j]=='+'||infi[j]=='-'||infi[j]=='*'||infi[j]=='/'||infi[j]=='('||infi[j]==')'||infi[j]=='$')
                         {
                                 operat();
                                 j++;
                         }
                         else
                         {

                             postfi[m]=infi[j];
                             //cout<<postfi[0];
                             //cout<<"me"<<m<<postfi[m];
                             m++;
                             j++;
                         }
    }
    while(k!=-1)
    {
                postfi[m]=operato[k];
                //cout<<postfi[0];
                //cout<<"me"<<m;
                //cout<<"meow"<<m<<postfi[m];
                k--;
                m++;
    }
    //cout<<postfi[0];
    int g;
    for(g=0;g<m;g++)
     cout<<postfi[g];
    //getch();
    return(0);
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-09T06:37:07.233

我尽可能将其保留为您发布的内容的原始内容，以便您可以关注它。修改它以按照您的需要进行操作，我没有优化，我没有使用 STL（因为我认为这是家庭作业，因为您没有使用 STL），并且我编写它是为了使其具有功能性和正确性。正如我所说，你必须使用它来获得你想要的优先级，但正如我所说的那样，它是有用的。同样基于我的假设，它是家庭作业：我也没有完成它，只是希望你能朝着正确的方向前进。

```
#include <iostream>
#include<conio.h>
using namespace std;

int precedence(char s)
{
    int rVal = -1; //Let's assume we didn't succeed
    switch(s)
    {
    case '+':
            rVal = 7;
            break;
    case '-':
            rVal = 6;
            break;
    case '*':
            rVal = 5;
            break;
    case '/':
            rVal = 4;
            break;
    case '^':
            rVal = 3;
            break;
    case '(':
            rVal = 2;
            break;
    case ')':
            rVal = 1;
            break;
    default:
            break;
    }
    return rVal; //This satisfies the warning
}

char getpres(int num)
{
    char rVal = 0;
    switch(num)
    {
    case 7:
            rVal = '+';
            break;
    case 6:
            rVal = '-';
            break;
    case 5:
            rVal = '*';
            break;
    case 4:
            rVal = '/';
            break;
    case 3:
            rVal = '^';
            break;
    case 2:
            rVal = '(';
            break;
    case 1:
            rVal = ')';
            break;
    default:
            break;
    }
    return rVal; //This satisfies the warning
}

string reorder(string temp)
{

    string rVal = "\0";
    int *array = new int[temp.length()];
    unsigned int d = 0;
    for(unsigned int x = 0; x <= temp.length(); ++x )
    {
        array[x] = precedence(temp[x]);
    }

    for(unsigned int i = 0;i< temp.length() +1;i++)
        {
            for(unsigned int j = 1;j<i;j++)
            {
                if(array[i] > array[j])
                {
                    d = array[i]; //swap

                    array[i]=array[j];
                    array[j]=d;
                }

            }

        }
        d = 0;
        for(; d < temp.length(); ++d)
        {
            rVal += getpres(array[d]);
        }
        return rVal;
}

int main()
{

    int itr=0;
    string infi = "" ,postfi = "" ,operato = "";
    std::cin>>infi;

    while(itr <= infi.length())
    {
        if(precedence(infi[itr]) > -1)
        {
            operato += infi[itr];
        }
        else
        {
            postfi += infi[itr];
        }
        ++itr;
    }

    postfi += reorder(operato);
    std::cout<<postfi<<std::endl;
    return 0;
} 
```

# iphone - 需要来自 CLGeocoder 的坐标超过限制

> ID：12793369
> 
> 赞同：3
> 
> 时间：2012-10-09T05:31:31.613
> 
> 标签：iphone, objective-c, mapkit, clgeocoder

以下代码仅返回前**10 个地址**的坐标。但我需要超过 100 个才能将其存储在数据库中。地理编码器有限制吗？我该怎么做 ？

```
 for(int i=0;i<count;i++)
{

    CLGeocoder *geoCode = [[CLGeocoder alloc] init];

    [geoCode geocodeAddressString:strcity completionHandler:^(NSArray *placemarks, NSError *error)
     {
         if (!error)
         {
             CLPlacemark *place = [placemarks objectAtIndex:0];
             CLLocation *location = place.location;
             CLLocationCoordinate2D coord = location.coordinate;

             NSString *tempLati=[[NSString alloc]initWithFormat:@"%g",coord.latitude];
             NSString *tempLongi=[[NSString alloc]initWithFormat:@"%g",coord.longitude];

             [objCountries.countryLatitude addObject:tempLati];
             [objCountries.countryLongitude addObject:tempLongi];

             [geoCode cancelGeocode];
         }
     }];

} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-09T07:46:57.063

iOS 会限制 CLGeocoder 请求，它会有所不同，但通常一次允许 50 个左右的请求。时间段未知。您可以做的是将其编码为一次对一个块进行地理编码，并在两者之间留出足够的停顿。一旦读取，您应该尽可能存储结果，这样您就不会再次请求相同的地理编码。请注意此处的 CLGeocoder 文档：[CLGeocoder](http://developer.apple.com/library/ios/documentation/CoreLocation/Reference/CLGeocoder_class/Reference/Reference.html)。如果地理编码服务被滥用，Apple 可以限制您甚至暂停您的开发者帐户。

# php - mailchimp：点击提交按钮直接订阅用户

> ID：12793374
> 
> 赞同：1
> 
> 时间：2012-10-09T05:32:22.330
> 
> 标签：php, wordpress, mailchimp

我正在使用 mailchimp 为所有用户订阅时事通讯，并且我添加了以下时事通讯订阅表单（mailchimp 的嵌入式表单）

```
 <div id="mc_embed_signup">
  <form action="http://mysite.us1.list-manage.com/subscribe/post?u=77819ee26cc4d495467172e15&amp;id=e2798374aa" method="post" id="mc-embedded-subscribe-   form" name="mc-embedded-subscribe-form" class="validate" target="_blank" novalidate>
<input type="email" value="" name="EMAIL" class="email" id="mce-EMAIL" value="Sign       up for newsletter..." required>
<div class="clear"></div><input type="submit" value="" name="subscribe" id="mc- embedded-subscribe" class="button">
   </form>
 </div> 
```

它工作正常，但是当用户单击提交按钮时，它会被重定向到用户必须填写个人资料信息（即姓名、地址）的其他页面。等等。填写完信息后，用户就被订阅了。现在的问题是我希望用户在点击提交按钮后直接订阅。有人可以指导我吗？？？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-09T06:44:51.263

使用此代码，这是来自 Aweber 的时事通讯...

```
<div class="aweber">
<form class="forms" action="CHANGE FORM ACTION HERE" method="post"><input     type="hidden" name="meta_web_form_id" value="1455415225" /><input type="hidden"    name="meta_split_id" value="" />
    <input type="hidden" name="unit" value="aweberblog" />
    <input type="hidden" name="redirect" value="YOUR THANKU PAGE URL HERE" />
    <input type="hidden" name="meta_adtracking" value="sb-index" />
    <input type="hidden" name="meta_message" value="1" />
    <input type="hidden" name="meta_required" value="from" />
    <input type="hidden" name="meta_forward_vars" value="0" />
    <input type="hidden" name="meta_redirect_onlist" value="IF USER ALREADY SUBSCRIBD HERE ENTER URL FOR THAT"/>
    <label for="email"></label>
    <input id="email"  placeholder="Enter Your Email" style="width:45%; border-radius: 9px 9px 9px 9px; height: 35px; float:left;padding-left: 10px;" type="text" name="from" value=""/>
    <input type="image" src="<?php bloginfo('template_directory');?>/images/submitt.png">
    </form>
</div> 
```

# objective-c - 核心数据理论

> ID：12793379
> 
> 赞同：1
> 
> 时间：2012-10-09T05:32:38.753
> 
> 标签：objective-c, core-data

我是 Core Data 的新手，一直在学习 RestKit 和 Core Data 教程（[这里](http://mobile.tutsplus.com/tutorials/iphone/restkit_ios-sdk/)）和 RKCatalog 示例项目。我试图了解 xcdatamodeld 文件和 sqlite 数据库之间的关系。是否应该使用 xcdatamodeld 设计实体，然后在使用 RKManagedObjectMapping 之前为每个实体调用 Create NSManaged SubClass？那么 RKManagedObjectStore 负责创建一个 sqlite 数据库呢？

# php - 使用带有 submitHandler 的自定义验证 jQuery

> ID：12793388
> 
> 赞同：0
> 
> 时间：2012-10-09T05:33:20.660
> 
> 标签：php, jquery

我有自定义验证的问题。

我制作了一个表单，它在发布之前将数据发布到某个函数，然后我制定了一些自定义验证规则，然后我调用 submitHandler 但这不起作用。

```
 $(document).ready(function(){
$("#faculty").validate({
    rules: {
        designation:  {
         required: true
              },

     faculty_qual: {
          required: true
        }
      },

  messages: {
      designation: 'Please select a Dasignation.',  
      faculty_qual: 'Please select qualification'
    }
   submitHandler: function(form) {
       create_faculty();
         }
   }); 
```

现在，当我运行它时，我遇到了一些错误`Uncaught SyntaxError: Unexpected identifier`

现在我将如何使用此自定义验证发送此数据。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-09T05:35:37.197

似乎是一个语法错误。您在对象后缺少一个冒号，在函数调用`messages`结束时缺少一个分号和一个括号和分号。`validate`

```
$(document).ready(function(){
    $("#faculty").validate({
       rules: {
          designation:  {
            required: true
          },

          faculty_qual: {
            required: true
          },
          matric_pass_year: {
             required: true
      }
       },
       messages: {
          designation: 'Please select a Dasignation.',  
          faculty_qual: 'Please select qualification',
          matric_pass_year: 'Please select Year' 
       },
       submitHandler: function(form) {
         create_faculty();
       }
   });
}); 
```

# python - Python Selenium Webdriver 检查元素是否不存在需要时间

> ID：12793390
> 
> 赞同：6
> 
> 时间：2012-10-09T05:33:37.557
> 
> 标签：python, selenium, selenium-webdriver, xpath

尝试在几次 GUI 操作后验证某些按钮不存在（预计不存在）。我正在使用 find_element_by_xpath() 但它非常慢。任何超时解决方案？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-10-09T08:11:11.437

实际上，如果没有找到指定的元素，WebDriver 的 find_element 方法会等待该元素的隐式时间。

WebDriver 中没有像 isElementPresent() 这样的预定义方法来检查。您应该为此编写自己的逻辑。

**逻辑**

```
public boolean isElementPresent()
{
   try
   {
      set_the_implicit time to zero
      find_element_by_xpath()
      set_the_implicit time to your default time (say 30 sec)
      return true;
   }
   catch(Exception e)
   {
       return false;
   }
} 
```

见：http: [//goo.gl/6PLBw](http://goo.gl/6PLBw)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2018-11-07T01:07:52.520

如果您尝试检查某个元素是否不存在，最简单的方法是使用`with`语句。

```
from selenium.common.exceptions import NoSuchElementException

def test_element_does_not_exist(self):
    with self.assertRaises(NoSuchElementException):
        browser.find_element_by_xpath() 
```

至于超时，我喜欢[“Obey The Testing Goat”](http://www.obeythetestinggoat.com/book/chapter_organising_test_files.html)中的那个。

```
# Set to however long you want to wait.
MAX_WAIT = 5

def wait(fn):  
    def modified_fn(*args, **kwargs):  
        start_time = time.time()
        while True:  
            try:
                return fn(*args, **kwargs)  
            except (AssertionError, WebDriverException) as e:  
                if time.time() - start_time > MAX_WAIT:
                    raise e
            time.sleep(0.5)
    return modified_fn

@wait
def wait_for(self, fn):
    return fn()

# Usage - Times out if element is not found after MAX_WAIT.
self.wait_for(lambda: browser.find_element_by_id()) 
```

# android - Android如何在片段中显示来自URL的图像

> ID：12793397
> 
> 赞同：0
> 
> 时间：2012-10-09T05:34:04.230
> 
> 标签：android

ImageView（来自 URL 的图像）无法在 Fragment 中显示（意味着空白屏幕）。

```
ImageView newsimage = (ImageView) findViewById(R.id.newsimg);
ImageLoad downloader = new ImageLoad(newsimage);
downloader.execute("http://www.mysite.com/pp.jpg"); 
```

在活动页面显示是正确的，但是当我更改为 Fragment 时，它根本无法显示。请让我知道有什么问题。

```
import java.io.IOException;
import java.lang.ref.WeakReference;
import java.net.MalformedURLException;
import java.net.URL;

import android.graphics.Bitmap;
import android.graphics.BitmapFactory;
import android.os.AsyncTask;
import android.widget.ImageView;

public class ImageLoad extends AsyncTask<String, Void, Bitmap> {

    private String url;
    private final WeakReference<ImageView> imageViewReference;

    public ImageLoad(ImageView imageView) {
        imageViewReference = new WeakReference<ImageView>(imageView);
    }

    protected Bitmap doInBackground(String... params) {
        url = params[0];
        try {
            return BitmapFactory.decodeStream(new URL(url).openConnection()
                    .getInputStream());
        } catch (MalformedURLException e) {
            e.printStackTrace();
            return null;
        } catch (IOException e) {
            e.printStackTrace();
            return null;
        }
    }

    protected void onPostExecute(Bitmap result) {
        if (imageViewReference != null) {
            ImageView imageView = imageViewReference.get();
            if (imageView != null) {
                imageView.setImageBitmap(result);
            }
        }
    }

    protected void onPreExecute() {
        if (imageViewReference != null) {
            ImageView imageView = imageViewReference.get();
            if (imageView != null) {
                imageView.setImageResource(R.drawable.no_image);
            }
        }
    }
} 
```

* * *

## 回答 #1

> 赞同：-2
> 
> 时间：2012-10-09T11:14:47.320

修复它是因为我的变量传递是错误的。

# python - 我不知道如何从抛硬币游戏的循环中获取总数

> ID：12793398
> 
> 赞同：2
> 
> 时间：2012-10-09T05:34:04.383
> 
> 标签：python

![抛硬币程序][1]

## 标题

我必须制作这个翻转硬币程序，它会输出翻转次数和正面或反面的数量。用户有机会尽可能多地玩，直到他们退出程序。我应该得到这个人翻转并得到头部或尾部的总次数。比如一个人玩了 3 次，第一次 10 次，第二次 15 次，第三次 20 次，那么总共 45 次。我无法让程序计算翻转、正面或反面的总数。同样在该人第一次玩之后，如果他们选择再次玩，他们不能输入低于之前数量的翻转次数。我不知道出了什么问题。

```
#coin toss

print "Welcome to my coin tossing game. I will flip a coin the amount"
print "of times you tell me to and show you your results."

import random
counter = 0
start = 0
user_input = 0
heads = 0
tails = 0

user_input = int(raw_input("Enter the number of times you want to flip the coin "))

while user_input > counter:
        chance = random.randrange(2)
        counter = counter + 1
        if chance == 1:
            heads = heads + 1
        else:
            tails = tails + 1

print "You flipped the coin", counter, "times."
print heads, "times came out heads"
print tails, "times came out tails"

headstotal = heads
tailstotal = tails

restart = raw_input("Would you like to try again? y or n ")
while restart == "y":
        user_input = int(raw_input("Enter the number of times you want to flip the coin"))
        while user_input > counter:
                chance = random.randrange(2)
                counter = counter + 1
                if chance == 1:
                        heads = heads + 1
                else:
                       tails = tails + 1
        print "You flipped the coin", counter, "times."
        print heads, "times came out heads."
        print tails, "times came out tails."

        restart = raw_input("Would you like to try again? y or n ")
        print "Thanks for playing." 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-09T18:07:30.490

你的代码，重构。

```
#coin toss

print "\t\tWelcome to my coin tossing game. I will flip a coin the amount"
print "\t\tof times you tell me to and show you your results.\n"

import random

heads = 0
tails = 0
headstotal = 0
tailstotal = 0

while True:
    counter = user_input = int(raw_input("Enter the number of times you want to flip the coin "))
    while user_input > 0:
        chance = random.randrange(2)
        if chance==1:
            heads+=1
            headstotal+=1
        else:
            tails+=1
            tailstotal+=1
        user_input-=1

    print "You flipped the coin", counter, "times."
    print heads, "times came out heads"
    print tails, "times came out tails"
    heads=tails=0
    restart = raw_input("Would you like to try again? y or n")
    if restart=="n":
        break
print "total heads = ",headstotal
print "total tails = ",tailstotal   
print "total flips = ", headstotal+tailstotal
print "Thanks for playing."
raw_input() 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-09T06:01:21.813

您还可以使用标准的 collections.Counter 类：（[http://docs.python.org/dev/library/collections#collections.Counter](http://docs.python.org/dev/library/collections#collections.Counter)）

```
c = Counter()
c.update(["head"]) 
```

这是一个使用常见python习语的版本

```
#coin toss

print "Welcome to my coin tossing game. I will flip a coin the amount"
print "of times you tell me to and show you your results."

import random, collections

while True:
    counter = collections.Counter()    
    user_input = int(raw_input("Enter the number of times you want to flip the coin "))

    counter.update(random.choice("head", "tail") for i in range(user_input))

    print "You flipped the coin", user_input, "times."
    print counter["head"], "times came out heads"
    print counter["tail"], "times came out tails"

    restart = raw_input("Would you like to try again? y or n ")
    if restart != "y":
        break
print "Thanks for playing." 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-09T05:41:34.003

您需要在运行之间将计数器设置为 0

考虑重组代码以避免太多重复

```
while True:
    counter = 0
    user_input ...
        ...
    ...
    restart = raw_input("Would you like to try again? y or n ")
    if restart == "n":
        break
print "Thanks for playing." 
```

# iphone - 在 iOS 上为几页隐藏 UINavigationBar

> ID：12793399
> 
> 赞同：1
> 
> 时间：2012-10-09T05:34:12.327
> 
> 标签：iphone, ios, cocoa-touch

我的代码中有以下`AppDelegate`代码`UINavigationBar`：

```
NSArray *viewsArray;

ToolsViewController *toolsnavigation = [[ToolsViewController alloc] initWithNibName:@"ToolsViewController" bundle:nil];
toolsnavigation.tabBarItem.image = [UIImage imageNamed:@"setting_image.png"];
[toolsnavigation setTitle:@"Tools"];
UINavigationController *nav0 = [[UINavigationController alloc] initWithRootViewController:toolsnavigation];

MyrideViewController *myridenavigation = [[MyrideViewController alloc] initWithNibName:@"MyrideViewController" bundle:nil];
myridenavigation.tabBarItem.image = [UIImage imageNamed:@"bottom_nav_image_2.png"];
[myridenavigation setTitle:@"My Ride"];
UINavigationController *nav1 = [[UINavigationController alloc] initWithRootViewController:myridenavigation];

NewsViewController *newsnavigation = [[NewsViewController alloc] initWithNibName:@"NewsViewController" bundle:nil];
newsnavigation.tabBarItem.image = [UIImage imageNamed:@"bottom_nav_image_3.png"];
[newsnavigation setTitle:@"News"];
UINavigationController *nav2 = [[UINavigationController alloc] initWithRootViewController:newsnavigation];

CoolViewController *coolnavigation = [[CoolViewController alloc] initWithNibName:@"CoolViewController" bundle:nil];
coolnavigation.tabBarItem.image = [UIImage imageNamed:@"bottom_nav_image_4.png"];
[coolnavigation setTitle:@"Cool"];
UINavigationController *nav3 = [[UINavigationController alloc] initWithRootViewController:coolnavigation];

AccidentViewController *accidentnavigation = [[AccidentViewController alloc] initWithNibName:@"AccidentViewController" bundle:nil];
accidentnavigation.tabBarItem.image = [UIImage imageNamed:@"bottom_nav_image_5.png"];
[accidentnavigation setTitle:@"Accident"];
UINavigationController *nav4 = [[UINavigationController alloc] initWithRootViewController:accidentnavigation];

viewsArray = [NSArray arrayWithObjects:nav0,nav1,nav2,nav3,nav4, nil];
UITabBarController *tabbarController = [[UITabBarController alloc] init];
tabbarController.view.frame = CGRectMake(0,0,320,460);

[tabbarController setViewControllers:viewsArray];

self.window.rootViewController = tabbarController; 
```

这样，UINavigationBar 就会出现在每个页面上。我希望它出现在几页之后，就像用户登录后，导航栏就会出现。我当前的代码不会发生这种情况。我怎样才能解决这个问题？

![这也是登录页面上导航栏的屏幕截图](../Images/92a479ceecf4a2a310ea99e44a96c68b.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-09T05:44:50.330

在您希望隐藏的任何地方使用导航栏的隐藏属性

`controllerObject.navigationController.navigationBar.hidden = YES;`

**在你的情况下添加**

```
nav0.navigationBar.hidden = YES; 
```

行后

```
UINavigationController *nav0 = [[UINavigationController alloc] initWithRootViewController:toolsnavigation]; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-09T05:48:42.953

在您的**LoginView 中** `viewDidLoad`

```
[self.navigationController.navigationBar setHidden:YES]; 
```

然后在其他视图中

```
[self.navigationController.navigationBar setHidden:NO]; 
```

# xslt - 使用 xsltproc 解析 xml 文件时如何避免空行？

> ID：12793402
> 
> 赞同：1
> 
> 时间：2012-10-09T05:34:39.553
> 
> 标签：xslt

我正在从 xml 文件中检索数据并将其存储在文本文件中。以下是 my.xml 文件：

```
<?xml version="1.0"?>
<Parent>
<Action>POSTACTION</ActionState>
<Message><![CDATA[An Exception is thrown testFunctionAlpha()]]></Message>
<Property key="Direction"  value="IN"/>
<Property key="MethodName"  value="testFunctionAlpha"/>
<Property key="ReturnValue"  value="exception"/>
</Parent>

<Parent>
<Action>PREACTION</ActionState>
<Message><![CDATA[This is message of myFunction ]]></Message>
<Property key="Direction"  value="IN"/>
<Property key="MethodName"  value="myFunction"/>
<Property key="ReturnValue"  value="cmy::returnvalue"/>
</Parent> 
```

xml 文件中有多个这样的记录。我正在使用以下命令来解析这个 xml 并将日期存储在测试文件中。

```
xsltproc scan.xsl my.xml >> output.txt 
```

以下是用于解析 xml 文件的 scan.xsl 文件内容：

```
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" version="1.0">
  <xsl:output method="text"/>
<xsl:template match="Parent">
<xsl:variable name="mesg" select="./Message"/>
<xsl:if test="$mesg = 'An Exception is thrown testFunctionAlpha()'">
  <xsl:value-of select="./Action"/><xsl:text> </xsl:text>
  <xsl:value-of select="$mesg"/><xsl:text> </xsl:text>
  <xsl:apply-templates select="Property[@key='Direction']"/><xsl:text> </xsl:text>
  <xsl:apply-templates select="Property[@key='MethodName']"/><xsl:text> </xsl:text>
  <xsl:apply-templates select="Property[@key='ReturnValue']"/>
</xsl:if>
</xsl:template>

  <xsl:template match="Property"><xsl:value-of select="@value"/></xsl:template>

</xsl:stylesheet> 
```

我想将日期存储在文本文件中，只有那些具有标签值的标签是“抛出异常 testFunctionAlpha()”我可以使用上面的代码得到这个，但是 Output.txt 包含， - 不匹配的空行标签。如何避免空行？因此 output.txt 仅包含与 xsl 格式匹配的数据。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-09T08:01:17.763

如果您确保在第一个模板上捕获根元素，则可以确保不应用[内置的默认处理模板](https://stackoverflow.com/questions/3360017/why-does-xslt-output-all-text-by-default)，然后仅将模板应用于您想要映射的元素。

此外，换行符的另一个来源可能是如果您的任何`text()`s 中有额外的空格，您可以使用该`normalize-space()`函数在您的`xsl:selects`

由于您的示例输入 xml 无效，因此我添加了一个包装器根元素 (xml) 并将`ActionResult`结束标记更改为`Action`.

```
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" version="1.0">
    <xsl:output method="text"/>
    <xsl:template match="/xml">
        <xsl:apply-templates select="Parent"/>
    </xsl:template>

    <xsl:template match="Parent">
        <xsl:variable name="mesg" select="Message"/>
        <xsl:if test="$mesg = 'An Exception is thrown testFunctionAlpha()'">
            <xsl:value-of select="Action"/>
            <xsl:text> </xsl:text>
            <xsl:value-of select="$mesg"/>
            <xsl:text> </xsl:text>
            <xsl:apply-templates select="Property[@key='Direction']"/>
            <xsl:text> </xsl:text>
            <xsl:apply-templates select="Property[@key='MethodName']"/>
            <xsl:text> </xsl:text>
            <xsl:apply-templates select="Property[@key='ReturnValue']"/>
        </xsl:if>
    </xsl:template>

    <xsl:template match="Property">
        <xsl:value-of select="@value"/>
    </xsl:template>

</xsl:stylesheet> 
```

*输入 XML：*

```
<xml>
    <Parent>
        <Action>POSTACTION</Action>
        <Message><![CDATA[An Exception is thrown testFunctionAlpha()]]></Message>
        <Property key="Direction"  value="IN"/>
        <Property key="MethodName"  value="testFunctionAlpha"/>
        <Property key="ReturnValue"  value="exception"/>
    </Parent>

    <Parent>
        <Action>PREACTION</Action>
        <Message><![CDATA[This is message of myFunction ]]></Message>
        <Property key="Direction"  value="IN"/>
        <Property key="MethodName"  value="myFunction"/>
        <Property key="ReturnValue"  value="cmy::returnvalue"/>
    </Parent>
</xml> 
```

*结果：*

> POSTACTION 抛出异常 testFunctionAlpha() IN testFunctionAlpha 异常

*编辑*

如果您不想捕获根，您也可以`text()`通过抑制它来覆盖内置模板：

```
<xsl:template match="text()"/> 
```

# objective-c - Objective-c：在方法中访问可变参数

> ID：12793406
> 
> 赞同：3
> 
> 时间：2012-10-09T05:34:53.767
> 
> 标签：objective-c, c, function, methods, variadic-functions

> **可能重复：**
> [如何在 Objective-C 中创建可变参数方法 Objective C](https://stackoverflow.com/questions/4804674/how-to-create-variable-argument-methods-in-objective-c)
> [中方法参数的可变数量 - 需要一个示例](https://stackoverflow.com/questions/12454408/variable-number-of-method-parameters-in-objective-c-need-an-example)

以下是具有可变参数的方法的示例。

```
- (void)numberOfParameters:group,... {
    NSLog(@"%@",group);
} 
```

在上述方法中，我知道要访问第一个可变参数。你能帮我访问其他人吗？

我正在浏览[ObjC.pdf 并且](https://developer.apple.com/library/mac/#documentation/Cocoa/Conceptual/ObjectiveC/Introduction/introObjectiveC.html) 我正在阅读第 35 页和第 4 行

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-10-09T05:42:34.113

看到这个几乎相同[的问题](https://stackoverflow.com/a/12454862/1357776)

```
-(void)yourMethods:(id)string1, ...{

    NSMutableArray *arguments=[[NSMutableArray alloc]initWithArray:nil];
    id eachObject;
    va_list argumentList;
    if (string1) 
    {
        [arguments addObject: string1];
        va_start(argumentList, string1); 
        while ((eachObject = va_arg(argumentList, id)))    
        {
             [arguments addObject: eachObject];
        }
        va_end(argumentList);        
     }
    NSLog(@"%@",arguments);
} 
```

**最后用nil**参数调用它：

```
[object yourMethods:arg1,arg2,arg3,nil];// object can be self 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-10-09T05:39:48.627

一：它们不被称为“组参数”（据我所知），而是可变参数。

二：C 标准库头`stdarg.h`为此目的提供数据类型和宏（这就是为什么我通常建议在制作*The Best iPhone App Ever (TM)*之前先掌握普通的 ANSI C ......）

```
#include <stdarg.h>

- (void)numberOfParameters:(int)num, ...
{
    int i;
    va_list args;
    va_start(args, num);

    for (i = 0; i < num; i++) {
        SomeType param = va_arg(args, SomeType);
        // do something with `param'
    }

    va_end(args);
} 
```

这是关于这个主题的一个[相当好的解释。](http://www.cprogramming.com/tutorial/c/lesson17.html)

# c++ - 默认复制构造函数和复制赋值赋值运算符给出奇怪的错误

> ID：12793412
> 
> 赞同：4
> 
> 时间：2012-10-09T05:35:31.037
> 
> 标签：c++, constructor, c++11, compiler-errors

我已经默认我的复制构造函数和复制赋值运算符如下：

```
 Config(const Config& config) = default;
  Config& operator=(const Config& rhs) = default; 
```

然后通过友谊将这些访问权授予独立功能。创建配置对象的副本后，我收到以下警告和注释（？）：

> ./cfg/config.hpp:129:3：警告：未使用的参数'config' [-Wunused-parameter] cfg/get.cpp：在函数'const cfg::Config& cfg::Get(bool)'中：cfg/ get.cpp:34:30: 注意：这里首先需要合成方法 'cfg::Config::Config(const cfg::Config&)'

看起来复制构造函数甚至没有被实例化。尽管如此，代码似乎仍在运行。

gcc 版本 4.6.3 (Ubuntu/Linaro 4.6.3-1ubuntu5)

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-10-09T05:36:51.427

只需省略参数：

```
Config(const Config&) = default;
Config& operator=(const Config&) = default; 
```

上述语句指示编译器生成所述类型的默认特殊成员函数，但未指定这些实现的细节。参数名称是多余的，没有任何作用。编译器可以自由地对合法代码发出警告。

从§8.4.2：

> ...明确默认的函数应
> 
> — 是一个特殊的成员函数，
> 
> — 具有相同的声明函数类型（除了可能不同的引用限定符以及在复制构造函数或复制赋值运算符的情况下，参数类型可能是“对非常量 T 的引用”，其中 T 是成员函数的类）就好像它已被隐式声明...

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-05-15T05:58:59.370

我今天刚遇到这个；虽然我只是使用“省略名称”的解决方法，但有两个针对 GCC 的相关错误：

[http://gcc.gnu.org/bugzilla/show_bug.cgi?id=50895](http://gcc.gnu.org/bugzilla/show_bug.cgi?id=50895) - 建议省略虚拟方法（或者可能只是空的虚拟方法）的“未使用参数”警告。

[http://gcc.gnu.org/bugzilla/show_bug.cgi?id=57211](http://gcc.gnu.org/bugzilla/show_bug.cgi?id=57211) - 这个问题（默认方法上未使用的参数名称），由于行/列错误指示器指向类的顶部这一事实而变得复杂defn，而不是默认的方法 defn。

从我对错误的评论中可以看出，我的兴趣是使我的文档更加一致。理想情况下，我可以让我的代码和我的文档都在没有警告的情况下构建。

如果没有别的，这里的警告是恕我直言不正确：该参数肯定被使用，它只是由不同的名称或通过其他机制使用。

# silverlight-3.0 - Silverlight 3 调试问题和智能感知问题

> ID：12793414
> 
> 赞同：0
> 
> 时间：2012-10-09T05:35:34.420
> 
> 标签：silverlight-3.0

我对 Silverlight 3.0 很陌生。

我在 Visual Studio 2008 SP1 上安装了**Silverlight 3 Developer ；**后来我才知道我必须安装**Silverlight3_Tools.exe**。

因此，我卸载了**Silverlight Developer**并安装了**Silverlight3_Tools.exe**。

从那时起，我的开发箱中的 Silverlight 就遇到了很多问题。

**最杀的问题就是下面这两个**

*   每当我在调试模式下运行应用程序时，我都会收到以下错误：

**无法开始调试。未安装 Silverlight 托管调试包。**

*   在 Silverlight 中使用代码编辑器时，智能不起作用。无论我做了什么安装（VS-2008SP1 和 Silverlight3_Tools.exe），我都将同样的内容提供给了同事。一切对他们来说都很好。

因此，以上两个问题正在杀死我并阻止我继续前进。

任何人都可以帮助我。

提前致谢...

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-11T13:13:50.413

我曾经双击**Silverlight3_Toos.exe**文件进行安装。

但; 出于某种原因，我猜安装没有发生，所有文件都只是被复制到硬盘中。为什么是因为我发现安装过程中**没有写**注册表。我是在找到这个[很棒的资源](http://forums.silverlight.net/t/17651.aspx/3/10)后才得出这个结论的。

因此，我已经卸载了所有东西并重新启动了系统，并打算再次重新安装。因为我正在**使用带有 SP3 的 Windows XP**工作，所以我已经完成了如下操作。

• 右键单击**​​ Silverlight3_Tools.exe**并从上下文菜单中选择**Run as...。**

• 选择管理员访问并运行文件。

现在，安装成功完成。

谢谢并恭祝安康，

阿肖克库马尔。

# android - 活动内存管理

> ID：12793415
> 
> 赞同：0
> 
> 时间：2012-10-09T05:35:36.263
> 
> 标签：android, android-activity

> 我基本上有一个理论问题。假设我有两个活动 A 和 B。我正在使用 Intent 由 A 调用活动 B，但没有完成 A，所以基本上它会继续 onPause()。在完成一些任务后，我完成了活动 B，所以现在活动 A 将排在前面。我的问题是在完成（）方法之后会发生什么，因为有人告诉我，在完成（）方法之后活动 B 将在堆栈中但无法访问。我很困惑，如果发生这种情况，那不是浪费内存吗？或者如果我不正确，请以正确的方式指导我。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-10T22:27:41.957

我不确定我是否 100% 理解你的问题。但是让我们试试...

您启动 ActivityA，因此您的任务中的活动堆栈如下所示：

```
ActivityA (shown to user) 
```

现在 ActivityA 启动 ActivityB 但不会自行完成。ActivityA 暂停，ActivityB 显示给用户。您的活动堆栈如下所示：

```
ActivityB (shown to user)
ActivityA (paused) 
```

现在用户在 ActivityB 中做一些事情，然后 ActivityB 调用`finish()`它自己。ActivityA 现在显示给用户。您的活动堆栈如下所示：

```
ActivityA (shown to user) 
```

至此，ActivityB就完成了，可以从系统中移除了。Android 调用`onDestroy()`ActivityB，垃圾收集器最终会将其从堆中移除。这里没有“内存浪费”。

如果我误解了您的问题，请发表评论，我会相应地修正我的答案。

# php - 如何将 rtf 内容转换为纯文本

> ID：12793417
> 
> 赞同：0
> 
> 时间：2012-10-09T05:35:36.647
> 
> 标签：php, mysql

在我的数据库中，我有一个包含 rtf 内容的字段。我需要复制此字段以仅包含正文。

你知道怎么做吗？

感谢您的帮助

# c# - 如何在 C# 中覆盖默认值（T）？

> ID：12793418
> 
> 赞同：16
> 
> 时间：2012-10-09T05:35:44.263
> 
> 标签：c#, .net, overriding, default

> **可能重复：**
> [如何更改 C# 中的 Default(T) 返回的内容](https://stackoverflow.com/questions/5088682/howto-change-what-defaultt-returns-in-c-sharp)

```
print(default(int) == 0) //true 
```

同样，如果我有一个自定义对象，它的默认值为 null。

```
print(default(Foo) == null) //true 
```

我可以有一个自定义值`default(Foo)`而不是 null 吗？

例如，像这样：

```
public static override Foo default()
{
    return new Foo();
} 
```

这不会编译。谢谢..

* * *

## 回答 #1

> 赞同：29
> 
> 时间：2012-10-09T05:39:33.920

您不能覆盖 default(T) 关键字。对于引用类型，它始终为 null，对于值类型，它始终为零。

### 更多信息

*   [MSDN - 通用代码中的默认关键字（C# 编程指南）](http://msdn.microsoft.com/en-us/library/xwth0h0d%28v=vs.110%29.aspx)

* * *

## 回答 #2

> 赞同：13
> 
> 时间：2012-10-09T05:38:55.630

看起来不像。从[文档中](http://msdn.microsoft.com/en-us/library/xwth0h0d%28v=vs.110%29.aspx)：

> `default`... 对于引用类型将返回 null，对于数值类型将返回零。对于结构，它将返回结构的每个成员，根据它们是值类型还是引用类型，初始化为零或空。

* * *

## 回答 #3

> 赞同：7
> 
> 时间：2012-10-09T06:03:23.167

坦率地说，这不是一个真正的答案，而是一个简单的提及。If`Foo`是一个结构，所以你可以有这样的东西：

```
public struct Foo
{

    public static readonly Foo Default = new Foo("Default text...");

    public Foo(string text)
    {
        mText = text;
        mInitialized = true;
    }

    public string Text
    {
        get
        {
            if (mInitialized)
            {
                return mText;
            }
            return Default.mText;
        }
        set { mText = value; }
    }

    private string mText;
    private bool mInitialized;

} 
```

* * *

```
[TestClass]
public class FooTest
{

    [TestMethod]
    public void TestDefault()
    {
        var o = default(Foo);

        Assert.AreEqual("Default text...", o.Text);
    }

} 
```

# c# - 验证 Web 服务

> ID：12793419
> 
> 赞同：0
> 
> 时间：2012-10-09T05:35:53.843
> 
> 标签：c#, .net, web-services, rest

我使用 C# 开发了一些 RESTful Web 服务。任何人都可以建议我（有一些资源可以遵循）验证服务的最佳方法，因为它将通过并检索一些非常敏感的数据。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-09T05:48:10.940

您是否将 WebAPI 用于您的 RESTful 服务？或者您是否使用过时的 REST 入门套件进行开发？

如果您使用的是 WebAPI，则可以点击此链接：

[http://www.piotrwalat.net/basic-http-authentication-in-asp-net-web-api-using-membership-provider/](http://www.piotrwalat.net/basic-http-authentication-in-asp-net-web-api-using-membership-provider/)

您可以使用 Standard Authorize 属性，还可以扩展该类以根据您的需要进行自定义，并将 https 用于安全通道。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-09T06:16:11.547

我会推荐使用 API Key，这里有一篇文章可以跟进。 [http://blogs.msdn.com/b/rjacobs/archive/2010/06/14/how-to-do-api-key-verification-for-rest-services-in-net-4.aspx](http://blogs.msdn.com/b/rjacobs/archive/2010/06/14/how-to-do-api-key-verification-for-rest-services-in-net-4.aspx)

这为您提供了所需的简单安全性，并且不会阻止您在顶部添加进一步的安全性，例如 https 或使用客户端证书。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-09T05:46:17.827

在类似的情况下，我为每个请求使用 https 和两个额外的两个参数。这些是用户名和加密密码。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-10-09T05:47:52.647

我知道一个简单的解决方案，但它非常简单直接，
      您可以通过验证一些常见的输入参数来授权服务请求，例如一些有效的密钥作为服务的查询参数并在服务中验证它.. 如果成功继续，失败说**UnAuthorized**。在 JVM 服务器中，我可以拥有实际的密钥，并将请求服务器对传入的密钥进行身份验证。不知道 C#... HTH

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-10-09T05:54:41.580

如果您非常关心身份验证，最好的方法之一是使用**SSL 客户端证书**。您为系统的每个用户创建并颁发 SSL 证书，并且他们在连接到您的服务器时使用该证书（显然，通过 SSL）。您可以通过特定于您的 Web 服务器的 API 验证他们是否是经过身份验证的用户。

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2012-10-09T05:40:03.237

有很多方法可以解决这个问题，您的最终解决方案可能应该混合使用它们。首先，只公开 HTTPS 端点（并获得一个好的证书）。如果可能，请使用 Windows 身份验证，并将访问权限仅限于特定用户。您还可以加密某些传入的数据元素（并在您的 C# 代码中对其进行解密）。

# wpf - 在 Draggable Control 中拖动 Slider 位置

> ID：12793420
> 
> 赞同：1
> 
> 时间：2012-10-09T05:35:56.637
> 
> 标签：wpf, slider, controls, draggable

我创建了 WPF 可拖动用户控件。在那个用户控件中，我放置了一个滑块控件。现在，当我拖动滑块以更改其值时，用户控件被拖动。

我希望在这里，如果单击或按下放置在该可拖动控件中的滑块或滚动条，则该控件不应拖动。请指导我。

# django - django 复杂查询两次命中 db，尽管分页。

> ID：12793428
> 
> 赞同：1
> 
> 时间：2012-10-09T05:36:47.933
> 
> 标签：django, pagination

我有一个复杂的查询，需要 3-4 秒才能执行（不能少，它已尽可能优化）。这是分页的。但是，使用 django-debug-toolbar 我注意到数据库被“命中”了两次。

第一个“命中”在这里：`items = paginator.page(page_number)`然后稍后在`if items:`

虽然查询需要 3-4 秒。在这两点上点击数据库，我估计页面加载时间为 6-7 秒。

这是正常的吗？我可以避免两次“命中”并仅在一个数据库“命中”中检索分页项目吗？

如果要求，这是我的代码：

```
paginator = Paginator(tips, PAGE_ITEMS)
items = paginator.page(page_number)
if items:
    offset = items.object_list[0]
else:
    offset = None 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-09T06:48:48.340

这不是您问题的答案，而是一些观察结果：

*   第一个查询`items = paginator.page(page_number)`是获取元素的数量。我认为它是`SELECT COUNT(*) FROM ....`

*   第二个查询是查询集的实际评估（传递给分页）以检索对象。参考[when](https://docs.djangoproject.com/en/dev/ref/models/querysets/#when-querysets-are-evaluated)查询集被评估，查询集在何时`bool()`或迭代时被评估。所以查询集将在`if items`. 但是当您遍历模板中的列表以列出项目时，它将被缓存并且不会再次评估。

所以似乎没有办法优化这一点并减少查询。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-09T08:03:48.607

这将检查整个查询是否有任何结果。但有不同的含义：

```
if paginator.count:
    .... 
```

分页器总是需要两次访问数据库，但是像这样：

1.  SELECT COUNT(*) .... 结果缓存在 _count 中。看看 django 源码中的 _get_count()
2.  选择 col1, col2, .... 限制 N

不应进行两次相同的查询。

# c# - 如何从richTextBox 中删除/删除特定的文本行？

> ID：12793430
> 
> 赞同：1
> 
> 时间：2012-10-09T05:36:49.783
> 
> 标签：c#, winforms

我试过这段代码：

```
private void RemoveLines(List<string> Keywords)
        {
            string NewText = "";
            String regex = string.Empty;
            this.Invoke(new MethodInvoker(delegate { NewText = richTextBox1.Text; }));
            Regex MyRegex = null;
            foreach (string keyword in Keywords)
            {
                regex = String.Format(@"^.*\W{0}\W.*$",keyword);
                MyRegex = new Regex(regex, RegexOptions.Multiline);
                NewText = MyRegex.Replace(NewText, Environment.NewLine);
            }
            //Remove blank lines
            NewText = Regex.Replace(NewText, @"^\s+$[\r\n]*", "", RegexOptions.Multiline);
            this.Invoke(new MethodInvoker(delegate { richTextBox1.Text = NewText; }));
            this.Invoke(new MethodInvoker(delegate { richTextBox1.Refresh(); }));
        } 
```

和 removeExtrenals 功能：

```
private List<string> removeExternals(List<string> externals)
        {
            if(!LocalyKeyWords.ContainsKey(mainUrl))
            {
                return externals;
            }
            List<string> keywords = LocalyKeyWords[mainUrl];
            List<int> indices = new List<int>();
            foreach(string keyword in keywords)
            {
                //Accumulate a list of the indices of the items that match.
                indices = indices.Concat(externals.Select((v, i) => v.Contains(keyword) ? i : -1)).ToList();
            }
            //Filter out the -1s, grab only the unique indices.
            indices = indices.Where(i => i >= 0).Distinct().ToList();
            //Filter out those items that match the keyword(s) related to mainUrl.
            externals = externals.Where((v, i) => !indices.Contains(i)).ToList();
            return externals;
        } 
```

我在这个函数中调用了 removelines 和 removeexternals：

```
RemoveLines(removeExternals(webSites)); 
```

在使用断点后的 removeExternals 中，我看到两个不包含 google 的站点（示例中使用的关键字 im）所以从 18 个 url 我应该在richTextBox 中看到只有 16 个 url 我也在 removelines 函数中使用了断点，没有例外，但我看到了所有的网址都在richTextBox 中。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-09T06:43:36.860

试试这样：
我添加了一些随机数据进行测试..

```
private void Form1_Load(object sender, EventArgs e)
    {
        richTextBox1.AppendText(@"Loading The Url:   http://www.blogger.com/?tab=wj... Failed ");
        richTextBox1.AppendText(Environment.NewLine);
        richTextBox1.AppendText(@"Loading The Url:   http://www.google.co.il/intl/iw/options/... Done  ");
        richTextBox1.AppendText(Environment.NewLine);
        richTextBox1.AppendText(@"Loading The Url:   http://www.xyz.com/?tab=wj... Failed ");
        richTextBox1.AppendText(Environment.NewLine);
        richTextBox1.AppendText(@"Loading The Url:   http://www.abc.com/?tab=wj... Done ");
        richTextBox1.AppendText(Environment.NewLine);
        richTextBox1.AppendText(@"Loading The Url:   http://www.so.com/?tab=wj... Failed ");
        richTextBox1.AppendText(Environment.NewLine);
        keys.Add("xyz");
        keys.Add("abc");
        RemoveLines(keys);
    } 
```

这是方法的代码`RemoveLines`..

```
private void RemoveLines(List<string> Keywords)
    {
        String regex = string.Empty;
        string NewText = richTextBox1.Text;            
        Regex MyRegex = null;
        foreach (string keyword in Keywords)
        {
            regex = String.Format(@"^.*\W{0}\W.*$",keyword);
            MyRegex = new Regex(regex, RegexOptions.Multiline);
            NewText = MyRegex.Replace(NewText, Environment.NewLine);
        }
        //Remove blank lines
        NewText = Regex.Replace(NewText, @"^\s+$[\r\n]*", "", RegexOptions.Multiline); 
        richTextBox1.Text = NewText;
        richTextBox1.Refresh();
    } 
```

希望能帮助到你 ！

# playframework-2.0 - Play 2.1 中的模拟 WS 请求

> ID：12793435
> 
> 赞同：4
> 
> 时间：2012-10-09T05:37:05.613
> 
> 标签：playframework-2.0

如何确保在运行测试时不会发出真正的 http 请求。

我很难找到这方面的文档。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2014-10-08T21:09:13.770

这仅在 Play 2.3.x 中可用，但可以使用 MockWS 客户端：[https ://github.com/leanovate/play-mockws](https://github.com/leanovate/play-mockws)

```
val ws = MockWS {
  case (GET, "http://dns/url") => Action { Ok("http response") }
}

await(ws.url("http://dns/url").get()).body == "http response" 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-12-03T06:27:00.680

WS.url 是静态的。所以需要使用powermock来测试静态方法。

[看这个教程](http://code.google.com/p/powermock/wiki/MockStatic)

# iphone - 纵向和横向方向，不使用自动布局约束

> ID：12793439
> 
> 赞同：1
> 
> 时间：2012-10-09T05:37:34.403
> 
> 标签：iphone, orientation, ios6

我的 iphone 应用程序支持纵向和横向。为了在新的 iphone 5 中做到这一点，iOS 6 引入了一个称为自动布局约束的新属性。但是我需要同时支持我的应用程序 iOS 5 和 iOS 6。所以我不能使用这个约束。有没有办法在不使用自动布局的情况下做到纵向和横向？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-09T05:45:10.643

是的，你可以很容易地做到这一点。

**对于 iOS6**

UIViewControllers，其中你只需要PORTRAIT模式，写这些函数

```
- (BOOL)shouldAutorotate
{
     return YES;
}

- (NSUInteger)supportedInterfaceOrientations
{
     return (UIInterfaceOrientationMaskPortrait);
} 
```

对于也需要 LANDSCAPE 的 UIViewController，将遮罩更改为全部。

```
- (NSUInteger)supportedInterfaceOrientations
{
    return (UIInterfaceOrientationMaskAllButUpsideDown);
    //OR return (UIInterfaceOrientationMaskAll);
} 
```

现在，如果您想在方向更改时进行一些更改，请使用此功能。

```
- (void)willRotateToInterfaceOrientation:(UIInterfaceOrientation)toInterfaceOrientation duration:(NSTimeInterval)duration
{

} 
```

**对于 iOS5**

```
- (BOOL)shouldAutorotateToInterfaceOrientation:(UIInterfaceOrientation)interfaceOrientation {

    if (interfaceOrientation == UIInterfaceOrientationPortrait || interfaceOrientation == UIInterfaceOrientationPortraitUpsideDown) {
        return YES;
    }

    return NO;
} 
```

# java - 对二维数组求和

> ID：12793445
> 
> 赞同：0
> 
> 时间：2012-10-09T05:38:23.093
> 
> 标签：java, arrays, multidimensional-array

我想将每个州的投票总和加上这个二维数组的每个候选人的总和。

这些是要求：

*   修改程序，以便显示每个州的总票数
    （即，在每一行添加一列，将每个州的所有候选人的总票数相加）
*   修改程序，以便显示每个候选人的总票数（即，添加最后一行显示所有三列选票的总票数）

    ```
    public static void main(String[] args) throws IOException
    {
    // TODO code application logic here
    File election = new File("voting_2008.txt");
    Scanner sc = new Scanner(election);

    String[] states = new String[51];
    int[][]votes = new int[51][4];
    int[] Totalbystate = new int[votes.length];

    for (int s=0; s < 51; s++)
    {
        states[s] = sc.nextLine();
    }

    for(int c=0; c < 3; c++)
    {
        for(int s=0; s < 51; s++)
        {
            votes[s][c] = sc.nextInt(); 
        }

    }
    Formatter fmt = new Formatter();
    fmt.format("%20s%12s%12s%12s%21s", "State", "Obama", "McCain", "Other", "Total by state");
    System.out.println(fmt);
    for (int s=0; s < 51; s++)
    {
       fmt = new Formatter();
       fmt.format("%20s", states[s]);
       System.out.print(fmt);
       for(int c=0; c < 3; c++)
       {
           fmt = new Formatter();
           fmt.format("%12d", votes[s][c]);
           System.out.print(fmt);

       }
       int sum =0;
       for(int row=0; row < votes.length; row++)
       {              
           for (int col=0; col < votes[row].length; col++)
           {
              sum = sum + votes[row][col];
           }
       }
           fmt = new Formatter();
           fmt.format("%21d", Totalbystate) ;  
       System.out.println();
    } 
    ```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-10-09T06:13:14.233

问题与求和无关，与格式有关。仅*此*代码将演示相同的问题：

```
int[] values = new int[10];
new Formatter().format("%21d", values); 
```

目前尚不清楚您希望这样做，但我怀疑您*实际上*想要执行以下操作：

```
// Please change your variable names to follow Java conventions
fmt = new Formatter(System.out);
for (int value : Totalbystate) {
    fmt.format("%21d", value);
} 
```

或者，指定单个格式字符串，例如`"%21d%21d%21d%21d%21d"`(etc) 并传入 an`Integer[]`而不是`int[]`.

此外，您应该修复程序的缩进 - 目前它不必要地令人困惑。

# c# - 缺少 ICommand 的命名空间或类型

> ID：12793453
> 
> 赞同：3
> 
> 时间：2012-10-09T05:39:10.920
> 
> 标签：c#, icommand

Microsoft Visual Studio 无法编译我的代码，因为缺少 ICommand 的命名空间。但它是 System.Windows.Input，不是吗？

```
using System.Windows.Input;

internal class CommandCreate : ICommand
{
   //code
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-09T05:44:50.690

确保您已创建 WPF 应用程序。ICommand 是`System.Windows.Input`命名空间和`System.dll`程序集的一部分。

### 更多信息

*   [MSDN - ICommand 接口](http://msdn.microsoft.com/en-us/library/system.windows.input.icommand.aspx)

# django - 如何在 django 模板中使用 for 循环？

> ID：12793454
> 
> 赞同：2
> 
> 时间：2012-10-09T05:39:17.803
> 
> 标签：django, templates, view, for-loop

在我的 django 视图中，我有一个类似于上面的列表（除了嵌入在大列表中的 50 个列表。在我的模板中，如何使用 for 循环来引用以显示每个列表中的每个元素？

我还尝试访问列表中的特定元素，例如下面示例中的元素“c”。我在模板中尝试了 feed[0][1]，但收到了错误。

```
feed = [ [0,a,b,c], [1,d,e,f], ... ] 

{% for video in feed %}
#not sure what to put here
{% endfor %} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-09T05:50:39.260

像这样的东西：

```
{% for video in feed %}
    {%for item in video %}
         {{item}} {% comment %} render it appropriately {% endcomment %}
    {%endfor%}
{% endfor %} 
```

`video`再次是一个列表，因此您可以再次对其进行迭代以进入`item`其中并使用它来呈现适当的 html。

编辑：参考#jdi 的评论和更新的问题，如果你想访问列表的特定元素，你可以这样做：

```
{% video in feed %}
    {{ video.3 }}    {% comment %} To access 3rd element {% endcomment %}
    {{ video|last }} {% comment %} To access last element {% endcomment %}
{%endfor%} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-09T14:28:17.517

我用

```
 {%for D in TablePivot %}
     <tr class="{% cycle row1,row2 %}">
        {%for valor in D %}
        <td>{{valor}}</td>
        {%endfor%}
    </tr>
 {%endfor%} 
```

# python - python - 在一个类中重复函数

> ID：12793461
> 
> 赞同：1
> 
> 时间：2012-10-09T05:39:50.537
> 
> 标签：python, class, dry

首先，如果我使用了错误的术语或者我对基本概念的理解有缺陷，请原谅我。我只是在学习如何构建使用类的脚本......并且是 Python/编码的相对新手。

原则上，我很想知道是否有办法在一个类中调用同一个函数两次。如果我简要解释一下我正在尝试做的事情，那可能会有些道理......

我正在尝试编写一个 Web 'scraper' 来解析种子网页，根据一些给定的参数返回 URL，遵循这些 URL，做同样的事情（可能 n 次），最后在链接底部返回一个 pdf。这是为了加快我的同事目前手动收集的一些内容。（通过我之前相对基本的迭代，我节省了字面人几个月的手动工作。）

这是我目前使用的一种方法，但我编写的代码并不是真正可扩展或易于重用的，我想尝试使其更加通用（我目前正在为每个实例手动滚动脚本）。

（我认为）我想构建一个名为 siteInstance 的类，用于保存种子 url、保存位置、标题、u:p、cookie 和各种功能。我用来浏览网站以获取目标内容。

我使用了一个重复的函数来解析目标 URL 并返回下一层 URL。这些基于某些特定于站点的 RegEx，因此我知道我必须为每一层 URL 提供搜索过滤器 (regEx)。我希望能够重用解析器，但使用特定于层的正则表达式来提供它。DRY 是对的吗？

在我看来，这意味着我有一个名为 siteInstance.parser 的函数，我在每个 siteInstance.class 中构造了一些（例如`siteInstance.parserA`，对于第一层，`siteInstance.parserB`对于第二层......`siteInstance.parsern`对于第 n 层）

Follows 是一个简化版本，实际上在每一层都有许多清理/准备步骤，以正确生成下一层的目标 URL 列表。这包括为保存的二进制文件制作文件结构、写入日志以及为该层触发 RegEx 等。

这是一个两层示例，但我知道至少有 4 层可以满足的实例。

示例：种子 `{URL:www.journalTitle.com}`

第一遍（Layer1）的结果： `[{IssueURL2010:www.journalTitle.com/2010},{IssueURL2011:www.journalTitle.com/2011},{IssueURL2012:www.journalTitle.com/2012},{IssueURLn:www.journalTitle.com/n}]`

对于 IssueURL2010（第 2 层）： `[{article1_2010URL:www.journalTitle.com/2010/1},{article2_2010URL:www.journalTitle.com/2010/2},{article3_2010URL:www.journalTitle.com/2010/3},{articlen_2010URL:www.journalTitle.com/2010/n}]`

从`article1_2010UR`我可以得到`www.journalTitle.com/2010/1.pdf`

我希望这是有道理的...

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-09T05:47:34.967

您可以在单独的类中定义解析逻辑，并在实例（或类）属性中将其实例化几次：

```
class URLParser(object):
    def __init__(self, regexp, ...):
        self.regexp = regexp
        ...

    def parse_urls(self, urls):
        # do your URL parsing thing
        # return parsed URLs

class SiteInstance(object):
    def __init__(self, ...):
        self.parsers = [
            URLParser('regexp1'),
            URLParser('regexp2'),
            ...
        ]

    def parse(self, ...):
        ...
        for parser in self.parsers:
            parser.parse_urls(...) 
```

# jquery - 如何更改工具提示的宽度和高度

> ID：12793464
> 
> 赞同：1
> 
> 时间：2012-10-09T05:40:01.630
> 
> 标签：jquery, asp.net, popup, tooltip

我有一个树视图。在子节点 Onmouseover 中，我必须在工具提示或弹出窗口上显示一些内容。内容很大。截至目前，我使用了一个弹出窗口，看起来不太好。工具提示似乎很整洁，但我的所有内容都没有显示出来..有没有办法整理这个..

代码

```
var oPopup = window.createPopup();

function richToolTip(Target) {
 var lefter = event.offsetY + 0;
 var topper = event.offsetX + 15;
 oPopup.document.body.innerHTML = '<div style="position: absolute; top: 0; left: 0;' + ' border: 2px solid black; ' + 'font: normal 10pt tahoma; filter: progid:DXImageTransform.Microsoft.Gradient(GradientType=0,' + ' StartColorStr=gold, EndColorStr=#FFFFFF); padding: 10px;">' + '<b>Node Name</b><hr style="border: 1px solid black;"> <b>Node Name:' + Target.innerText + '</b><br/><imgsrc="peoplewithmedicare.tmf.org/Portals/17/Icons/icon_excel.jpg"; alt="Image"></img> <br/>' + '<hr style="border: 1px solid black;"></div>';
 oPopup.show(topper, lefter, 170, 120, RFPPlaceHolder_TVContent);
}

function AddAttributes() {
 var TreeNodes = RFPPlaceHolder_TVContent.getElementsByTagName('TABLE');
 for (var i = 0; i < TreeNodes.length; i++) {
    TreeNodes[i].onmouseover = function setToolTip() {
        richToolTip(this);
    };
    TreeNodes[i].onmouseout = function removeToolTip() {
        oPopup.hide();
    };
 }
}​ 
```

# quickfix - 通过 quickfix C++ 获取原始修复消息

> ID：12793466
> 
> 赞同：0
> 
> 时间：2012-10-09T05:40:09.057
> 
> 标签：quickfix

有没有办法以原始格式获取通过 quickfix 中的发起程序发送的所有消息的日志？具体来说，我在调用initiator.start() 方法后无法登录，并且想知道结果发送了什么修复登录消息。我希望这能帮助我理解为什么我的登录一直失败。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-09T06:38:40.733

请看这里：

[http://www.quickfixengine.org/quickfix/doc/html/configuration.html#Logging](http://www.quickfixengine.org/quickfix/doc/html/configuration.html#Logging)

在日志记录会话中，您可以指定一个文件夹来记录所有消息。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-09T07:41:56.350

默认情况下，所有消息都记录在[FileLogPath](http://www.quickfixengine.org/quickfix/doc/html/configuration.html#Logging)中，但如果我没记错的话，它们会分解为标题和正文组件。但是您的问题似乎在于登录，因此请尝试在**toAdmin**和**fromAdmin**中将 FIX 消息打印到您的控制台或文件（如果需要）。在拒绝消息中，您应该看到您的登录被拒绝的原因（如果存在，则标记 58）。尽量不要使用数据库，因为如果您正在记录大量消息，数据库事务可能会减慢您的引擎。

# java - 编译时多态性运行时多态性是这样的吗？

> ID：12793472
> 
> 赞同：0
> 
> 时间：2012-10-09T05:40:57.160
> 
> 标签：java, c++, polymorphism

从研究中我了解到：

重载、运算符重载和覆盖就是我们所说的多态。

多态性意味着同一实体有时表现不同

例如：

参数

```
add(12, 13);
add(12.2, 13.3); 
```

同一实体（*add()*）有时表现不同（*适用于 double ，适用于 int*）。

//模板也在这里工作

特别指定

```
Animal dogInstance = new Dog();
Animal catInstance = new Cat();
dogInstance.sound(); //bark
catInstance.sound(); //meow 
```

有时表现不同的同一实体（*sound()*
） sound() 将根据实例（狗或猫）工作）。

重载、模板和泛型发生在编译时（编译时多态性）。
重写，运算符重载发生在运行时（运行时多态性）。

参数多态性是指相同的代码可以应用于多种数据类型。
前任。重载、模板和泛型

Ad-hoc 多态性是指不同的代码用于不同的数据类型。
前任。覆盖，运算符重载

附加问题：

> 为什么运算符重载即席（动态绑定）？

还：

如果您是程序员，您是否应该介意这些事情，例如运行时多态性、编译时多态性、动态链接、静态链接、框架含义、
框架和库之间的区别、什么是重量级框架意味着什么是轻量级框架等等，或者我应该继续编程，只要我的程序有效？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-09T05:58:33.233

我将尝试以不同的方式回答您的两个问题。

**编译时间/运行时间**：在编译时，编译器只能验证语法正确的内容。它是运行时，它可以执行行为评估。例如

> 如果你有两个类`B`并`C`扩展`A`. 有一种方法被声明为 return `A`。在您的调用者中，您期望它将返回`B`. 您可以键入强制类型转换返回值`B`as `(B)A`。编译器不会在这里抱怨任何问题。但是如果在运行时，它发现你的方法是返回实例`c`，它会失败。

我想在这里解释的是：有些行为只能在运行时进行评估。

**编程**：当您编写小型教程程序时，您只关心程序的成功和您的基本学习。当您编写更大/大量使用的应用程序时，您必须非常小心。字符串连接、变量选择、迭代次数、对象引用等一切都很重要。

我希望这有帮助。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-09T05:55:36.423

在 Java 中，您没有运算符重载，即使`==`这会让 Java 新手程序员感到困惑。

您需要了解基本的多态性原理，但我会确保您在揭开封面之前了解您的编程的所有高级特性。

我不认为有什么是重量级或轻量级框架的标准定义。我想它主要是一种设计策略，要么将所有内容包含在一个库中，要么尽可能简单。

# winforms - 带有datagrid winforms的用户控件c#

> ID：12793475
> 
> 赞同：0
> 
> 时间：2012-10-09T05:41:04.453
> 
> 标签：winforms, datagridview, user-controls

是 winforms 的新手，我想用 datagrid 创建一个用户控件？我必须在其他winforms中使用该用户控件...请问我该如何实现这个??..

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-09T06:39:44.073

1.http://stackoverflow.com/questions/10920555/display-user-control-in-datagridviewcell 2.http://stackoverflow.com/questions/7916919/adding-a-button-to-a-winforms-datagridview 3.http://www.dotnetperls.com/datagridview-tutorial

许多链接将在 Google 中可用............

# java - 将 Oracle 数据库的多行写入文本文件

> ID：12793477
> 
> 赞同：2
> 
> 时间：2012-10-09T05:41:23.313
> 
> 标签：java, oracle11g

大家好，我正在尝试将销售表（Oracle）中的所有交易打印到文本文件中。不幸的是，它只写入一条记录，而表中有许多符合条件的记录。有人可以告诉我问题是什么吗？

这是我的代码：

```
 public void actionPerformed(ActionEvent ae) {
    Object obj = ae.getSource();

    if (obj == btnSave) {
        Connection conn = null;
        String receno = Lrecno.getText();
        try {
            Class.forName("oracle.jdbc.driver.OracleDriver");
            conn = DriverManager.getConnection("jdbc:oracle:thin:@localhost:1521:XE", "MUNGAI", "gatungo87");
            Statement st = conn.createStatement();
            String recp = "select PART_DESC, QUNTY, UNIT_SALE, TOTAL_SALE from sales where session_id = '" + receno + "'";
            ResultSet rs = st.executeQuery(recp);
            while (rs.next()) {
                File f = new File("Sale Receipts");
                f.mkdir();
                BufferedWriter bw = new BufferedWriter(new FileWriter("Sale Receipts/Sale" + Lrecno.getText() + ".TXT"));
                String receipt = rs.getString("PART_DESC") + "  " + rs.getString("QUNTY") + "  "
                        + rs.getString("UNIT_SALE") + "  " + rs.getString("TOTAL_SALE");
                String[] rece = receipt.split("\n");
                for (int i = 0; i < rece.length; i++) {
                    bw.write(receipt);
                    bw.flush();
                    bw.newLine();

                }
                JOptionPane.showMessageDialog(this, "Item sold successfully",
                        "Success", JOptionPane.PLAIN_MESSAGE);
            }
        } catch (Exception ad) {
            JOptionPane.showMessageDialog(this, ad,
                    "Error", JOptionPane.PLAIN_MESSAGE);
        }
       } 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-09T05:45:21.693

您正在为循环中的`ResultSet`, 中的每条记录打开文件`while`，因此文件被覆盖，当您处理完`ResultSet`.

将其`BufferedWriter`移出 while 循环并将其与结果集、语句和连接一起关闭。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-09T05:49:56.937

你可以试试这个：

```
 File f = new File("Sale Receipts");
  f.mkdir();
  BufferedWriter bw = new BufferedWriter(new FileWriter("Sale Receipts/Sale" + Lrecno.getText() + ".TXT"));
  String receipt="";
  while (rs.next()) {
        receipt += rs.getString("PART_DESC") + "  " + rs.getString("QUNTY") + "  "
                   + rs.getString("UNIT_SALE") + "  " + rs.getString("TOTAL_SALE");
        String[] rece = receipt.split("\n");
        for (int i = 0; i < rece.length; i++) {
            bw.write(receipt);
            bw.flush();
            bw.newLine();
        }
        JOptionPane.showMessageDialog(this, "Item sold successfully",
                "Success", JOptionPane.PLAIN_MESSAGE);
    } 
```

您的错误是，对于您创建的表中的每一行并将其写入文件，然后您继续覆盖同一个文件。

正确的方法是通过迭代ResultSet来构建String，然后将String写入文件

**更新**

考虑使用 StringBuilder 对象更改字符串以解决性能问题。

```
 StringBuilder  receipt = new StringBuilder();
  while (rs.next()) {
        receipt.append( rs.getString("PART_DESC") + "  " + rs.getString("QUNTY") + "  "
                   + rs.getString("UNIT_SALE") + "  " + rs.getString("TOTAL_SALE"));
        receipt.append("\n");
        JOptionPane.showMessageDialog(this, "Item sold successfully",
                "Success", JOptionPane.PLAIN_MESSAGE);
  }
  bw.write(receipt.toString());
  bw.flush();
  bw.newLine(); 
```

# visio - Visio - 活动图上的垂直连接器

> ID：12793478
> 
> 赞同：1
> 
> 时间：2012-10-09T05:41:24.130
> 
> 标签：visio

如何在 Microsoft Visio 的活动图中绘制在状态之间以垂直（90 度）角弯曲的连接？当我移动状态时，我希望这些连接能够适应，所以简单地画直线显然不是答案。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-09T06:59:48.490

我在这里找到了自适应连接器。它们不是活动控制流连接，因此您无法详细说明其他属性，但它可能有助于使您的活动图看起来像您想要的那样。

![Visio 中的连接器](../Images/42c269316c0bfe3a248ceb112a3db50b.png)

# php - php按键按所需顺序对数组进行排序

> ID：12793486
> 
> 赞同：0
> 
> 时间：2012-10-09T05:42:16.980
> 
> 标签：php, arrays, sorting

我如何创建一个 PHP 函数，该函数将根据其键按所需顺序对数组进行排序/排序？

该数组将包含字符串或数值，例如我有一个，

```
array = A,B,C,D,E,F 
```

我想根据它的键更改数组，所以创建

`create_array_index(5,2,4,1,3,0)`将显示`array F,C,E,B,D,A` `create_array_index(0,2,4,1,3,5)`将显示`array A,C,E,B,D,F`

我知道，我可以手动访问值 ex :`$array[5],$array[2],...`等等，但这需要很多时间，是否有任何功能

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-09T05:45:42.440

当您使用按键排序时，函数[ksort()是最好的。](http://php.net/manual/en/function.ksort.php)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-09T06:45:16.407

使用一些 php 排序功能的方法很少（就像其他人已经建议的那样），这是另一种完成这项工作的捷径。

## 函数 sortArrayByKeys()

```
function sortArrayByKey($keystring, $origarray) {
  $res = array();
  $keys = explode(',', $keystring);
  foreach ($keys as $key) $res[] = $origarray[$key];
  return $res;
  } 
```

## 测试：

```
$original_array = array('A', 'B', 'C', 'D', 'E', 'F');

$sort_pattern = '5,2,4,1,3,0';
$new_array = sortArrayByKey($sort_pattern, $original_array);
echo "$sort_pattern => " . join(',', $new_array) . "<br />\n";

$sort_pattern = '0,2,4,1,3,5';
$new_array = sortArrayByKey($sort_pattern, $original_array);
echo "$sort_pattern => " . join(',', $new_array) . "<br />\n";

$sort_pattern = '5,4,3,2,1,0';
$new_array = sortArrayByKey($sort_pattern, $original_array);
echo "$sort_pattern => " . join(',', $new_array) . "<br />\n";

$sort_pattern = '0,5,4,2,1,3';
$new_array = sortArrayByKey($sort_pattern, $original_array);
echo "$sort_pattern => " . join(',', $new_array); 
```

## 输出：

```
5,2,4,1,3,0 => F,C,E,B,D,A
0,2,4,1,3,5 => A,C,E,B,D,F
5,4,3,2,1,0 => F,E,D,C,B,A
0,5,4,2,1,3 => A,F,E,C,B,D 
```

干杯；）

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-09T05:46:28.093

检查 PHP 中可用的不同排序选项。

基于数组键排序 - [http://us3.php.net/ksort](http://us3.php.net/ksort)

您也可以根据自己的比较函数进行排序 - [http://us3.php.net/manual/en/function.uksort.php](http://us3.php.net/manual/en/function.uksort.php)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-09T05:56:20.813

[PHP中有很多数组函数， PHP官](http://php.net/manual/en/ref.array.php)网都有讨论。据我了解，您正在寻找ksort (Sort [Array By keys)](http://php.net/manual/en/function.ksort.php)和[krsort (Sort Array By Keys In Reverse)](http://php.net/manual/en/function.krsort.php)。请在给定的链接上检查它们。自己试试吧。。祝你好运

如果您觉得 ksort 和 krsort 对您的要求不灵活或不准确，您还可以创建自己的自定义函数来完成所需的工作并在您的应用程序中随时使用它。

# python - 在 django 中更新表单数据

> ID：12793491
> 
> 赞同：0
> 
> 时间：2012-10-09T05:42:49.800
> 
> 标签：python, django, django-forms

我有一个由 django 创建的表单。我没有任何困难地进行插入，但是当我想在编辑模式下使用它时，当我单击表单提交按钮并调试代码时，request.POST 发送为空；那是因为我将参数“id”发送到视图。（当我远程这个参数时，我在 request.POST 中有值）。但我该怎么办？

模型.py：

```
class Urls(models.Model):

    url = models.TextField(
        blank=True,
    ) 
```

表格.py：

```
class SaveUrl(forms.Form):
    url = forms.CharField(
        label=u'Url',
        widget=forms.TextInput(attrs={'size':32})
    ) 
```

网址.py：

```
urlpatterns = patterns('systemSettings.views',
    url(r'^$',
        'systemSettings',
        name='systemSettings'),
    url(r'^edit/(?P<id>\d+)/$',
        'editSystemSetting',
        name='editSystemSetting'),
) 
```

在模板中，urlsSetting.html：

```
<form action="{{ action }}" id="urlsForm" method="POST">
        <label for="id_url">Url:</label></td><td>
        {{ form.url }}
            <input type="submit" value="insert" />
</form> 
```

风景：

```
def editSystemSetting(request, id):
    Url = Urls.objects.get(id = id)
    editData = {'url':Url.url}
    URLS = Urls.objects.all()

    form = SaveUrl(request.POST)

    if form.is_valid():
        url = form.cleaned_data['url']
        Url.url=url
        Url.save()
    else:
        form = SaveUrl(editData)

    variables = RequestContext(request, {
        'form': form,
        'urls':URLS,
        'action':'/systemSettings/edit/'+id,
        })
    return render_to_response('systemSettings/urlsSetting.html', variables) 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-09T07:12:35.317

我能够使它工作，只需将 urls.py 更改为：

```
url(r'^edit/(?P<id>\d+)$',
    'editSystemSetting',
    name='editSystemSetting'), 
```

# iphone - 如何停止 XCode 自己做 NSLog？

> ID：12793493
> 
> 赞同：1
> 
> 时间：2012-10-09T05:43:14.297
> 
> 标签：iphone, xcode, uiimage, nsurlconnection, nslog

我`NSURLConnection`用来从服务器加载图像（大小为 1.2 mb）。我正在做的是`delegate`我正在分配我的`imageView`（它的`UIImageView`）与接收到的图像。所以它看起来像下载。

```
- (void)connection:(NSURLConnection *)connection didReceiveData:(NSData *)data
{
    UIImage *image = [UIImage imageWithData:receivedData];
    imageView.image = image;
    image = nil;
} 
```

在 XCode 打印`NSLog`以下消息期间。

> ```
> <Error>: ImageIO: JPEG Corrupt JPEG data: premature end of data segment 
> ```

我知道它是我正在制作的损坏字节的消息，`UIImage`然后将其分配给`imageView`.

**有没有办法阻止 XCode 代表我写这个消息？** *我必须这样做，因为我需要向用户显示正在下载的图像。*

我已经检查了一些检查时的答案`bytes`！但这不是我的解决方案，因为我已经知道为什么会发生这种情况？，我只想阻止 XCode 将其打印在我的一半上。

**已编辑**

使用 NSURLConnection 下载时数据会损坏。

谢谢！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-09T05:58:14.607

**编辑：**如果您有更多图像，那么您使用[SDWebImage](https://github.com/rs/SDWebImage)加载图像会更好

首先接收使用此代表的图像的全部数据：

```
- (void)connection:(NSURLConnection *)connection didReceiveData:(NSData *)data {
    if (!receivedData)
    {
        receivedData = [NSMutableData data];
    }

    [receivedData appendData:data];

    NSLog(@"Receiving data... Length: %d", [receivedData length]);
} 
```

现在完全接收到数据，这个方法将被调用：

```
-(void)connectionDidFinishLoading:(NSURLConnection *)connection
{
  UIImage *image = [UIImage imageWithData:receivedData];
  if(image) 
    imageView.image = image;
} 
```

# integer - 寻找“简单”的整数线性规划源代码/伪代码

> ID：12793499
> 
> 赞同：3
> 
> 时间：2012-10-09T05:43:56.300
> 
> 标签：integer, pseudocode, linear-programming

我今天可能需要实现整数线性规划，我想知道是否有任何伪代码或相对无痛（注释良好）的源代码来解释如何实现它？强烈偏爱伪代码。

请注意，我不是在寻找一个严肃的完整项目，它具有所有“微调”以获得最佳性能。我正在寻找一个最基本的求解器来演示整数线性规划是如何工作的，而不是一一尝试所有选项。

谢谢。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-10-10T00:14:46.700

这个问题是一个很大的问题，所以让我一步一步地尝试：

当您说**Integer Linear Program**时，我假设您的意思是具有线性约束和目标函数的 IP。

**1\. 从单纯形算法开始。** （即使这对 IP 不起作用，除非在线性程序具有“完整性”属性的“幸运”情况下。）但是*单纯形*始终是一个很好的起点，尤其是。因为您对第一原理方法感兴趣

令人惊讶的是，PseudoCode 并不是那么容易找到，尽管解决的例子很多。 [这是 Simplex 算法中步骤的一个示例](http://pages.intnet.mu/cueboy/education/notes/algebra/simplex.htm)。（不是伪代码）

在第[3.1.4 节计算过程摘要中，](http://www.math.cuhk.edu.hk/~wei/lpch3.pdf)有一些接近伪代码的内容。

[该文档](http://www.math.ucf.edu/~xli/Simplex%20Method%202010.pdf)还对可以实现的单纯形算法进行了总结，尤其是。如果您按照前面部分中的示例进行操作。

**请注意**，Simplex 是相对容易理解（尤其是逐步）但难以实现的算法之一。关于为什么会这样的一个[很好的讨论](http://www.or-exchange.com/questions/961/why-is-it-hard-to-implement-the-simplex-algorithm)可以在这里找到。

**2\. 整数规划——“最简单”的情况。** 许多人倾向于从[“背包”问题](http://en.wikipedia.org/wiki/Knapsack_problem)开始。

您可以在[此处找到伪代码和 Java 实现](http://jhave.org/learner/misc/knapsack/knapsack.shtml)。

**3\. 难度/复杂度增加的IP。**

*   资本预算问题
*   作业问题
*   运输问题

**4\. 通用型 vs 专用型** 您现在有一个选择：

*   4a。您可以构建“通用”IP Solver（但需要很长时间才能运行）
*   4b。为特殊类型的问题构建专用 IP 求解器。

对于 4a：您可以假设 0/1 变量并演示**分支定界技术**。您可以找到树的实现并根据自己的目的进行修改。（本质上，穷举搜索的巧妙实现。）

对于 4b：你可以举一个案例，比如**作业问题**，**匈牙利算法**经常被使用，因为它很容易理解并且可以一次性教给一群学生。 [topcoder 中的本教程](http://community.topcoder.com/tc?module=Static&d1=tutorials&d2=hungarianAlgorithm)非常广泛地涵盖了数学、伪代码和真实代码。

答案很长，但我希望这与您所希望的一致。

# c# - 使用异步套接字方法时延迟

> ID：12793500
> 
> 赞同：1
> 
> 时间：2012-10-09T05:43:58.103
> 
> 标签：c#, sockets, asynchronous, tcp-ip

我正在使用 C#、.Net Framework 3.5 进行软件开发。我的应用程序一次通过 TCP/IP 连接到多个客户端并从中收集一些数据。客户数量非常高（**超过 100 个**）。在我的应用程序开发过程之前，我做了一些研究，发现我必须使用异步套接字实现来实现性能和可管理性方面。

现在看来还可以，但我目前正在寻找在向客户发送数据之前延迟的最佳方法。我的应用程序有时需要等待大约 2 秒才能发送特定数据。现在，我只是`System.Threading.Thread.Sleep(2000);`在异步发送方法之前放了一行代码。这是方便的方法还是有更好的方法？这个`Sleep`函数是阻塞了我的应用程序的主线程还是只阻塞了异步套接字所属的线程。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-09T05:52:01.893

我会使用带有匿名方法的计时器，Thread.Sleep（在大多数情况下）是邪恶的......

```
System.Threading.Timer timer;
timer = new Timer((cs) =>
    {
        ...asynchronous send here
        timer.Dispose();
    }, null, 2000, Timeout.Inifinite); 
```

这意味着括号内的代码将在 2000 毫秒后运行一次。

这`timer.Dispose()`条线非常重要，您可以拥有多少个未处理的计时器。

# linux - 将BUG_ON打印消息

> ID：12793502
> 
> 赞同：1
> 
> 时间：2012-10-09T05:44:05.323
> 
> 标签：linux, debugging, linux-kernel

我已经`BUG_ON`输入了内核代码。我想知道当时出了什么问题。 `BUG_ON`将检查条件，如果为真，它将恐慌。

将`BUG_ON`打印 /var/log/messages 中的消息吗？它会在恐慌之前打印它正在检查的值吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-09T05:50:58.350

是的。从[include/asm-generic/bug.h](http://lxr.free-electrons.com/source/include/asm-generic/bug.h#L48)：

```
#ifndef HAVE_ARCH_BUG
#define BUG() do { \
    printk("BUG: failure at %s:%d/%s()!\n", __FILE__, __LINE__, __func__); \
    panic("BUG!"); \
} while (0)
#endif

#ifndef HAVE_ARCH_BUG_ON
#define BUG_ON(condition) do { if (unlikely(condition)) BUG(); } while(0)
#endif 
```

如果您的内核编译正确，`BUG_ON`将在恐慌之前打印一条消息。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-09T18:11:08.353

大多数情况下，这些消息不会记录到 /var/log/messages 中。您将能够查看您是否在机器中配置了串行控制台。如果您想了解更多详细信息，您可能需要添加 printk 并重新编译内核

[http://kernelnewbies.org/KernelHacking-HOWTO/Debugging_Kernel](http://kernelnewbies.org/KernelHacking-HOWTO/Debugging_Kernel)

或者您可以收集 vmcore 以获取有关恐慌的更多详细信息

[http://www.dedoimedo.com/computers/crash.html](http://www.dedoimedo.com/computers/crash.html)

这适用于 suse 或 rhel。对于其他操作系统，它们可能具有类似的机制

# rspec - Rspec 在测试输出中使用错误的语法

> ID：12793503
> 
> 赞同：1
> 
> 时间：2012-10-09T05:44:17.620
> 
> 标签：rspec

我在规范文件中有这个：

```
shared_examples_for "all pages" do
  it { should have_selector('h1', text: "heading") }
end 
```

Rspec 产生以下输出：

> 应该***有***带有文本“标题”的css“h1”

但我更喜欢：

> 应该***有***带有文本“标题”的css“h1”

有没有简单的方法来解决这个问题？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-09T12:46:44.637

`have_selector`不是 RSpec 匹配器。我猜你正在使用 Capybara，在这种情况下，任何拉取请求都应该发送到该项目。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-09T05:53:07.880

转到他们的开发仓库[https://github.com/rspec/rspec-dev](https://github.com/rspec/rspec-dev)并分叉它并根据需要修改文档并给他们一个拉取请求！我希望他们会发现它有用并接受它。干杯!

**编辑：**否则您可以随时 fork 他们的 repo 进行这些更改并将其推送到您的副本并在您的 gemfile 中明确引用它。

# android - android - 需要简单的文件选择器

> ID：12793506
> 
> 赞同：3
> 
> 时间：2012-10-09T05:44:42.270
> 
> 标签：android, android-ui

对于我当前的应用程序，我需要添加一个文件选择器。用户应该能够从 sdcard 中选择一个文件。到目前为止我发现

[http://code.google.com/p/android-filechooser](http://code.google.com/p/android-filechooser)

这太棒了，但我不喜欢那个用户必须双击来选择一个文件，如果他们没有听到解释它的吐司，我担心用户不会得到它。（我第一次错过了......）所以我想知道

*   我是否可以修改源代码并在我的非开源项目中使用修改后的版本？
*   还有其他好的文件选择器吗？

**更新**

这个很棒的库的作者 Lai Vung 刚刚发布了一个新版本，其中（单个）文件选择是通过单击完成的。伟大的

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-09T05:54:34.903

也许您可以看看**OpenIntents OI File Manager**。

OpenIntents 文件管理器允许您浏览 SD 卡、创建目录、重命名、移动和删除文件。它还可以作为其他应用程序的扩展来显示“打开”和“保存”对话框。

[http://openintents.org/en/filemanager](http://openintents.org/en/filemanager)

第三方开发人员可以通过简单的意图使用 OI 文件管理器来呈现“打开文件”、“保存文件”或“选择文件夹”活动。

文件管理器具有 PICK_FILE 和 PICK_DIRECTORY 意图：

```
Intent intent = new Intent("org.openintents.action.PICK_FILE");
startActivityForResult(intent, 1); 
```

链接/下载代码：
[https ://github.com/openintents/filemanager](https://github.com/openintents/filemanager)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-09T06:01:39.897

由于 android-filechooser 使用 Apache License 2.0，您可以在[此处阅读](http://www.apache.org/licenses/LICENSE-2.0.html)

您的具体问题的答案在 [这里] (http://www.apache.org/foundation/license-faq.html#IsItFee) 中

上面写着：“在商业产品中使用 Apache 软件需要付费吗？不。我们不区分软件的个人、内部或商业用途。任何软件的打包和再分发都受我们许可条款的约束， 然而。”

更多 [http://www.apache.org/foundation/license-faq.html#WhatDoesItMEAN](http://www.apache.org/foundation/license-faq.html#WhatDoesItMEAN)

**“我不是律师。这一切意味着什么？**

以非法律形式描述法律文件充满了误解的可能性。尽管有以下文本，但许可证本身的实际文本具有法律约束力和权威性。

也就是说，这就是 Apache 许可证用外行的话来说的：

**它允许您：**

***出于个人、公司内部或商业目的，免费下载和使用全部或部分 Apache 软件；***

在您创建的软件包或发行版中使用 Apache 软件。

**它禁止您：**

在没有适当归属的情况下重新分发任何源自 Apache 的软件；

以任何可能声明或暗示基金会认可您的分发的方式使用 Apache 软件基金会拥有的任何标记；

以任何可能声明或暗示您创建了相关 Apache 软件的方式使用 Apache 软件基金会拥有的任何标记。

**它要求您：**

在您可能进行的任何包含 Apache 软件的再分发中包含许可证的副本；

为包含 Apache 软件的任何发行版提供明确的归属于 Apache 软件基金会。

**它不要求您：**

在您可能组装的包含它的任何重新分发中包含 Apache 软件本身的源代码，或您可能对其进行的任何修改的源代码；

将您对软件所做的更改提交回 Apache 软件基金会（尽管鼓励此类反馈）。”

# java - 用于 Windows 的 Memcached

> ID：12793507
> 
> 赞同：2
> 
> 时间：2012-10-09T05:44:47.450
> 
> 标签：java

如何在windows上安装memcached并使用它？我想为 java 应用程序（memcached 会话管理器）的会话管理配置 tomcat，例如如果有两台服务器，如果一台服务器出现故障，则会话数据不应该丢失。谁能告诉我下载和安装 memcached 的步骤？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T14:27:10.783

如前所述，将 memcached 用于会话是不好的。如果您仍在为 Windows 寻找可安装的二进制文件，Couchbase 开发人员之一帕特里克·加尔布雷思（Patrick Galbraith）维护了一个发行版。可以从[他的博客中找到下载链接](http://blog.couchbase.com/blog/8)

# iphone - 我如何显示 UIViewAnimationOptionTransitionCurl (MapCurl)？

> ID：12793517
> 
> 赞同：2
> 
> 时间：2012-10-09T05:45:41.613
> 
> 标签：iphone, objective-c, ios, ipad

我如何像这样显示 ModalTransitionStyle？

![在此处输入图像描述](../Images/1c219215895b34a2651e7a9b44cbe165.png)

正如我提到的图片，我想展示 Corner 本身。

如果我触摸角落，想打开下一个视图....

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-09T05:48:35.277

```
-(void)goToPage{

 //do stuff...

 // start the animated transition
 [UIView beginAnimations:@"page transition" context:nil];
 [UIView setAnimationDuration:1.0];
 [UIView setAnimationTransition:flipUp ? UIViewAnimationTransitionCurlUp : UIViewAnimationTransitionCurlDown forView:self.view cache:YES];

 //insert your new subview
 //[self.view insertSubview:currentPage.view atIndex:self.view.subviews.count];

  // commit the transition animation
  [UIView commitAnimations];
}

- (BOOL)shouldAutorotateToInterfaceOrientation:(UIInterfaceOrientation)interfaceOrientation {
 return (interfaceOrientation == UIInterfaceOrientationLandscapeRight);
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-09T06:14:24.073

```
UIView* view = viewController.view;
view.frame = self.view.window.bounds;
[UIView transitionWithView:self.view.window
                  duration:0.2 
                   options:UIViewAnimationOptionTransitionCurlUp 
                animations:^(void) {
                    [self.view.window addSubview:view];
                } 
                completion:^(BOOL finished) {
                    [viewController.view removeFromSuperview];
                    [viewController presentModalViewController:viewController
                                                      animated:NO];
                }];
    enter code here 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-09T08:30:59.317

它使用 UIPageViewController。请参阅此处： http: [//developer.apple.com/library/ios/#documentation/uikit/reference/UIPageViewControllerClassReferenceClassRef/UIPageViewControllerClassReference.html](http://developer.apple.com/library/ios/#documentation/uikit/reference/UIPageViewControllerClassReferenceClassRef/UIPageViewControllerClassReference.html) 我在我们的一个应用程序中使用它并且它正在工作。

# php - mysql 从多个表中选择，即使一个不包含 where 子句

> ID：12793526
> 
> 赞同：1
> 
> 时间：2012-10-09T05:46:25.783
> 
> 标签：php, mysql, select

我有两个（或三个，或四个......）表，我想一次选择所有表来计算所有表中的条目数。

例如，如果我有一些表格：“新闻”、“文章”、“画廊”

在每个表中，我都有一个名为“author_id”的行

现在，如果我使用以下选择语句：

```
SELECT *
FROM
news as n, articles as a, galleries as g
WHERE
n.author = 1
AND a.user = 1
AND g.uploader = 1 
```

如果每个表至少有一行与匹配“1”的作者（或用户或上传者）匹配，我只会得到结果即使一个（或两个..）表不包含“1”我如何获得结果

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-09T05:48:50.423

`UNION ALL`或者，您可以在子查询中组合使用所有表的结果。然后你现在可以`COUNT()`指定`Author_ID`. `author_id`以下查询将获取所有表中指定的记录总数。

```
SELECT COUNT(author_ID)
FROM
(
    SELECT userID AS Author_ID FROM news
    UNION ALL
    SELECT user_ID AS Author_ID FROM articles
    UNION ALL
    SELECT UiD AS Author_ID FROM galleries
) a
WHERE a.Author_ID = 1 
```

后续问题，

*   您希望如何显示结果？因为这也可以通过加入表格来解决。
*   或者您要计算记录的主表和引用表是什么？

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-09T05:48:56.603

您必须使用字段从每个表中显示，例如

```
SELECT n.author, a.user, g.uploader FROM news as n, articles as a, galleries as g
WHERE n.author = 1 AND a.user = 1 AND g.uploader = 1 
```

然后它将起作用

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-09T05:50:56.383

您的`news`表似乎是父表，因此您应该`LEFT JOIN`使用`articles`和`galleries`表`news`来获取作者的数量，如下所示：

```
SELECT * 
FROM 
    news n
    LEFT JOIN articles a
    ON n.author_id = a.author_id AND a.user = 1
    LEFT JOIN galleries g
    ON n.author_id = g.authori_id AND g.uploader = 1 
```

# css - 需要 CSS 下拉菜单方面的帮助

> ID：12793531
> 
> 赞同：1
> 
> 时间：2012-10-09T05:46:51.503
> 
> 标签：css, drop-down-menu

我正在尝试制作一个基于 CSS 的下拉菜单，以及下拉菜单如何保持在较低的 div 后面。任何人都可以请检查，看看我做错了什么提前谢谢。

这是jsfiddle链接

[http://jsfiddle.net/g4CWC/](http://jsfiddle.net/g4CWC/)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-09T05:51:31.237

您正在将顶部面板的溢出属性设置为隐藏，这会隐藏部分下拉列表：

```
.ribbon {
    overflow: hidden;
} 
```

尝试删除该行。示例：http: [//jsfiddle.net/grc4/yfbUC/1/](http://jsfiddle.net/grc4/yfbUC/1/)

# c# - 为什么在 Html.HiddenFor 中出现变量范围错误 (CS0136)？

> ID：12793537
> 
> 赞同：0
> 
> 时间：2012-10-09T05:47:10.410
> 
> 标签：c#, asp.net-mvc-3, razor

这是来自 MVC3/Razor 视图文件的精简代码片段：

```
@foreach (var item in Model.Stuff.Items){
<tr>
  <td>@item.Title</td>
</tr>
<tr>
  <td>
    @using (Html.BeginForm()) {
        @item.Title
        @Html.HiddenFor(item => item.Title)
    }
  </td>
</tr>
}  @* End of Items foreach loop *@ 
```

标题显示在第一行。它还显示在表单内部。但是尝试在`HiddenFor`我收到错误[CS0136](http://msdn.microsoft.com/en-us/library/973aa6bt%28v=vs.80%29.aspx)中使用它：*无法在此范围内声明名为“item”的局部变量，因为它会给“item”赋予不同的含义，该“item”已在“父级或当前/子级”中使用表示其他东西的范围*

我不明白为什么会这样。在`item => item.Title`第一个“项目”中实际上只是匿名函数中的参数名称，不是吗？

当我将其更改为：`@Html.HiddenFor(s => s.Title)`我收到错误 CS1963，*表达式树可能不包含动态操作。*

背景：目的是在 Model.Stuff.Items 中的每个条目有两个表行，第一个以静态 HTML 的形式提供当前信息，第二个是它的编辑表单。（其中一个或另一个将在任何时候使用 javascript 隐藏。）表单将提交给此控制器上的另一个操作。所有表单都提交到同一个 URL；隐藏值将标识正在更新的行。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-09T05:49:25.103

> 我不明白为什么会这样。在 item => item.Title 中，第一个“item”实际上只是匿名函数中的参数名称，不是吗？

是的，但是它将另一个具有相同名称的变量引入到已经包含该名称的局部变量的范围中。你就是不能那样做。当您在 lambda 表达式中使用时，它会变得模棱两可`item`——它可能表示参数，也可能表示迭代变量。

请注意，这与 MVC 或 Razor 无关。使用此代码您会得到相同的错误：

```
int x = 0;
Func<int, int> y = x => x; 
```

从 C# 5 规范的第 17.15.1 节：

> 匿名函数的参数范围是anonymous-function-body。（第 3.7 节）与参数列表（如果给定）一起，匿名方法体构成声明空间（第 3.3 节）。因此，匿名函数的参数名称与范围包括匿名方法表达式或 lambda 表达式的局部变量、局部常量或参数的名称匹配是编译时错误。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-09T05:53:23.620

采用`@Html.HiddenFor(x => item.Title)`

```
@foreach (var item in Model.Stuff.Items){
<tr>
  <td>@item.Title</td>
</tr>
<tr>
  <td>
    @using (Html.BeginForm()) {
        @item.Title
        @Html.HiddenFor(x => item.Title)
    }
  </td>
</tr>
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-09T09:24:59.690

对于问题的 CS1963 部分，可以通过在此部分视图文件的顶部设置 @Model，然后将其作为 HTML.Partial() 的第二个参数传递来解决

因此，在我看来，Html.Partial 行变为如下所示：

```
 @Html.Partial("partial.example",Model.Stuff.Items) 
```

然后在 partial.examples.cshtml 的顶部，我添加了：

```
@model IEnumberable<Type.Of.Items> 
```

并且 foreach 行更改为：

```
@foreach (var item in Model){ 
```

最后，要摆脱 CS0136 错误，正如 Yasser 建议的那样：

```
@Html.HiddenFor(x => item.Title) 
```

（感谢 Jon 解释为什么`item => item.Title`不允许。）

# javascript - 按顺序获取带有父元素的文本节点（比看起来更难）

> ID：12793540
> 
> 赞同：0
> 
> 时间：2012-10-09T05:47:47.087
> 
> 标签：javascript, jquery, html, dom, textnode

考虑以下标记：

```
<div>Hello, my <span>name</span> is John</div> 
```

我需要按顺序获取文本节点和包含它们的元素，如下所示：

1：`"Hello, my "`，`<div>`（HTML元素）

2：`"name"`，`<span>`（HTML元素）

3：`" is John"`，`<div>`（HTML元素）

这需要以一种允许我稍后获得 HTMLElements 的 CSS 样式的方式完成。

**我已经尝试过的：**

```
$(foo).find('*').contents().filter(function() {
    var $this = $(this);
    return this.nodeType === 3 && $.trim($this.text()).length > 0; 
}); 
```

这会产生一个不连续的结果集，如下所示：

1：`"Hello, my "`

2：`" is John"`

3：`"name"`

但是，我可以访问它们的父元素，所以这完成了一半的工作。

因此，主要问题是：**如何以与文档中相同的顺序获取文本节点？**

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-09T06:22:26.217

正如 Norguard 的评论中所述，这可以通过遍历文档树来解决：

```
function process(element) { 
  var children = element.childNodes; 
  for(var i = 0; i < children.length; i++) { 
    var child = children[i]; 
    if(child.nodeType === 3) { 
      if(child.data) { 
        processText(child.data, element); 
      } 
    } else { 
      process(child); 
    } 
  } 
} 
```

然后，您可以调用此函数，将所需元素作为参数传递，前提是您已将文本节点的特定处理编写为函数`processText(text, parent)`。

注意：我假设`childNodes`按照它们在文档源中出现的顺序包含子项。这听起来很自然，但我无法在规范中找到对此的要求，奇怪的是——也许它被认为是不言而喻的。

# android - ajax调用可以在Android中完成吗？

> ID：12793544
> 
> 赞同：8
> 
> 时间：2012-10-09T05:48:03.047
> 
> 标签：android, ajax

我正在开发一个有搜索选项的应用程序。在那个搜索框中，如果我输入“a”，我想要所有以 a 开头的朋友的名字，我将从网络服务器获取。但为此，我必须在输入每个字母的同时提出请求。但是当我用谷歌搜索时，我得到了不同的反应。有人说 Ajax 调用在 Android 中是不可能的。基本上Android是基于java的。那为什么不能执行 AJAX 调用。如果可能的话，任何人都可以指导我找到与 Android 中的 AJAX 调用相关的良好链接吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-12-16T22:06:31.797

您可以使用[droidQuery](http://bit.ly/droidquery)，它是**jQuery 的 Android 端口，包含 jQuery***的*大部分功能和语法，包括*Ajax*。例如：

```
$.ajax(new AjaxOptions().url("http://www.example.com").type("GET").dataType("json").success(new Function() {
    @Override
    public void invoke($ d, Object... args) {
        JSONObject json = (JSONObject) args[0];
        //TODO handle json. If expecting a JSONArray, just cast args[0] to JSONArray.
    }
}).error(new Function() {
    @Override
    public void invoke($ d, Object... args) {
        AjaxError error = (AjaxError) args[0];
        Toast.makeText(MyActivity.this, "Error (" + error.status + "): " + error.reason, Toast.LENGTH_LONG).show();
    }
})); 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-10-09T06:03:17.410

是的，这是可能的，但有一些条件和限制。

查看这些资源以获取更多信息：

[你可以在 Android 上使用 AJAX 调用吗？](https://stackoverflow.com/questions/7080884/can-you-use-ajax-calls-with-android)

[Android：使用 AsyncTask 进行重复 Ajax 调用的含义](https://stackoverflow.com/questions/6534824/android-implication-of-using-asynctask-to-make-repeated-ajax-calls)

[https://developer.android.com/guide/topics/search/search-dialog.html](https://developer.android.com/guide/topics/search/search-dialog.html)

[http://www.grokkingandroid.com/android-tutorial-adding-search-to-your-apps/](http://www.grokkingandroid.com/android-tutorial-adding-search-to-your-apps/)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-09T06:20:59.393

使用 asynctask 在加载屏幕时从服务器获取名称。然后您可以使用 AutoCompleteTextView 或 MultiAutoCompleteTextView 来满足您的需求。

您在适配器中指定已获取的名称。[在AutoCompleteTextView](http://developer.android.com/reference/android/widget/AutoCompleteTextView.html)上查看更多信息

和[MultiAutoCompleteTextView](http://developer.android.com/reference/android/widget/MultiAutoCompleteTextView.html)

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-10-09T06:03:18.003

我知道的最接近的是使用 AutoCompleteTextView。您将需要为其创建一个自定义适配器，以便在用户键入任何内容时调用 Web 服务器并基于此返回过滤器结果。

[这是一个例子](https://stackoverflow.com/a/7970572/939124)。

# ajax - Ajax 联系表单验证和提交

> ID：12793547
> 
> 赞同：1
> 
> 时间：2012-10-09T05:48:15.153
> 
> 标签：ajax, contact-form

我正在尝试制作 HTML 联系表格。这是我的代码`取得联系

```
 <p class="success-sending-message">Thank you, your message has been sent!</p>
                    <p class="error-sending-message">There has been an error, please try again.</p>

                    <div id="contact-form">

                        <form action="" id="contactForm" class="styled" method="post">

                            <label for="contact_name">Name</label>
                            <input type="text" tabindex="3" id="contact_name" name="contact_name" value="" class="requiredField textbox" />

                            <label for="contact_email">Email</label>
                            <input type="text" tabindex="4" id="contact_email" name="contact_email" value="" class="requiredField email textbox" />

                            <label for="contact_subject">Subject</label>
                            <input type="text" tabindex="5" id="contact_subject" name="contact_subject" value="" class="requiredField textbox" />

                            <label for="contact_message">Your Message</label>
                            <div class="textarea-wrap">
                                <textarea cols="65" rows="9" tabindex="6" id="contact_message" name="contact_message" class="requiredField"></textarea>
                            </div>

                            <div class="form-section">
                                <button class="button" tabindex="7" type="submit" id="born-submit" name="born-submit">Send Message</button>
                                <input type="hidden" name="submitted" id="submitted" value="true" />
                                <span class="sending-message"><img src="css/images/loading-light.gif" /> Sending...</span>
                            </div>
                        </form>
                    </div>` 
```

这是我的验证脚本

```
$(window).load(function() {

/* Ajax Contact form validation and submit */
jQuery('form#contactForm').submit(function() {
    jQuery(this).find('.error').remove();
    var hasError = false;
    jQuery(this).find('.requiredField').each(function() {
        if(jQuery.trim(jQuery(this).val()) == '') {
            if (jQuery(this).is('textarea')){
                jQuery(this).parent().addClass('input-error');
            } else {
                jQuery(this).addClass('input-error');
            }
            hasError = true;
        } else if(jQuery(this).hasClass('email')) {
            var emailReg = /^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/;
            if(!emailReg.test(jQuery.trim(jQuery(this).val()))) {
                jQuery(this).addClass('input-error');
                hasError = true;
            }
        }
    });
    if(!hasError) {
        jQuery(this).find('#born-submit').fadeOut('normal', function() {
            jQuery(this).parent().parent().find('.sending-message').show('normal');
        });
        var formInput = jQuery(this).serialize();
        var contactForm = jQuery(this);
        jQuery.ajax({
            type: "POST",
            url: jQuery(this).attr('action'),
            data: formInput,
            success: function(data){
                contactForm.parent().fadeOut("normal", function() {
                    jQuery(this).prev().prev().show('normal'); // Show success message
                });
            },
            error: function(data){
                contactForm.parent().fadeOut("normal", function() {
                    jQuery(this).prev().show('normal');  // Show error message
                });
            }
        });
    }

    return false;

});

jQuery('.requiredField').blur(function() {
    if(jQuery.trim(jQuery(this).val()) != '' && !jQuery(this).hasClass('email')) {
        if (jQuery(this).is('textarea')){
            jQuery(this).parent().removeClass('input-error');
        } else {
            jQuery(this).removeClass('input-error');
        }
    } else {
        if (jQuery(this).is('textarea')){
            jQuery(this).parent().addClass('input-error');
        } else {
            jQuery(this).addClass('input-error');
        }
    }
});

jQuery('.email').blur(function() {
    emailReg = /^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/;
    if(emailReg.test(jQuery.trim(jQuery(this).val())) && jQuery(this).val() != '') {
        jQuery(this).removeClass('input-error');
    } else {
        jQuery(this).addClass('input-error');
    } 
});

jQuery('.requiredField, .email').focus(function(){
    if (jQuery(this).is('textarea')){
        jQuery(this).parent().removeClass('input-error');
    } else {
        jQuery(this).removeClass('input-error');
    }
});

}); 
```

我的表格工作正常，填写详细信息后显示“谢谢，您的消息已发送！” 但是这条消息去哪里了，我没有任何 process.php 文件和所有文件。我希望该电子邮件应该发送到我的电子邮件 ID。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-09T05:58:34.047

Bonjour ... 在 firebug 或 chrome 开发者工具控制台中查看帖子跟踪。在您的 php 文件中，您可以放置​​ echos 或 var_dump 以确保一切正常。

另一件事......表单操作是空的。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-09T05:59:46.710

目前没有它要去的地方。`action=""`在 的属性中给出它需要去的地方`<form>`。此外，在执行的 URL（通常是 PHP 文件）中，提供以下代码：

```
<?php
    if (count($_POST))
    {
        $name = $_POST["contact_name"];
        $email = $_POST["contact_email"];
        $subject = $_POST["contact_subject"];
        $message = $_POST["contact_message"];
        $mail = "Name: $name\nEmail: $email\nSubject: $subject\nMessage: $message";
        if (mail("mymail@domain.com", "New Mail from Contact Form", $mail))
            die ("OK");
        else
            die ("Fail");
    }
?> 
```

此外，您需要在 JavaScript AJAX 调用中做一个小的修正。以这种方式替换：

```
 jQuery.ajax({
        type: "POST",
        url: jQuery(this).attr('action'),
        data: formInput,
        success: function(data){
            if (data == "OK")
                contactForm.parent().fadeOut("normal", function() {
                    jQuery(this).prev().prev().show('normal'); // Show success message
                });
            else
                alert ("Message not sent!");
        },
        error: function(data){
            contactForm.parent().fadeOut("normal", function() {
                jQuery(this).prev().show('normal');  // Show error message
            });
        }
    }); 
```

### 通过 PHP 脚本测试您的服务器是否支持 SMTP

创建一个包含此内容的小文件，例如`mail.php`：

```
<?php
    var_dump(mail("yourmail@gmail.com", "Testing Message", "This mail was sent from PHP Script."));
?> 
```

并尝试访问该文件，看看你得到了什么。请在您的问题中更新相同的内容。

# android - 将 onSelectionChanged 添加到 WebView 扩展类

> ID：12793557
> 
> 赞同：0
> 
> 时间：2012-10-09T05:48:56.867
> 
> 标签：android, webview

如您所知，当调用[`onSelectionChanged`](http://developer.android.com/reference/android/widget/TextView.html#onSelectionChanged%28int,%20int%29)其中一个`TextView`类函数时`the selection has changed, in case any subclasses would like to know.`。我想将它添加到从`WebView`.

我应该怎么办 ？你能给我一些关于我该怎么做的帮助吗？

# java - log4j.properties

> ID：12793558
> 
> 赞同：0
> 
> 时间：2012-10-09T05:49:08.070
> 
> 标签：java

我的代码中有调试、信息、警告、错误日志。但我只想在控制台中打印信息、错误日志。我想将所有日志存储在一个文件中。任何人都可以提出一种方法。

我尝试

```
log4j.rootLogger=debug,R1,R2

log4j.appender.R1=org.apache.log4j.ConsoleAppender
log4j.appender.R1.layout=org.apache.log4j.PatternLayout
log4j.appender.R1.layout.ConversionPattern=%d{dd/MM/yy kk:mm:ss.SSS} %-5p [%t] %x (%F:%L) - %m%n

#OAPIFacade front logs
log4j.appender.R2=org.apache.log4j.DailyRollingFileAppender
log4j.appender.R2.File=app/log4j/prop/log4j.log
log4j.appender.R1.DatePattern='.'dd-MM-yy
log4j.appender.R2.layout=org.apache.log4j.PatternLayout
log4j.appender.R2.layout.ConversionPattern=%d{dd/MM/yy kk:mm:ss.SSS} %-5p [%t] %x (%F:%L) - %m%n 
```

在这种情况下，所有日志都在控制台中打印，但我只需要控制台中的信息和错误日志。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-09T05:56:17.570

据我所知，你不能同时看到INFO、隐藏WARN和看到ERROR；这违反了日志级别的设计。级别按以下顺序定义：

*   痕迹
*   调试
*   信息
*   警告
*   错误
*   致命的

但是，如果您只想在控制台中看到 WARN 和 ERROR，您可以使用 appender 的 Threshold 设置来执行此操作。具体来说，您只需要添加：

```
log4j.appender.R1.Threshold=WARN 
```

# javascript - d3.js 的动态视口

> ID：12793559
> 
> 赞同：0
> 
> 时间：2012-10-09T05:49:09.417
> 
> 标签：javascript, d3.js, responsive-design

> **可能重复：**
> [使 d3.js 可视化布局响应的最佳方法是什么？](https://stackoverflow.com/questions/9400615/whats-the-best-way-to-make-a-d3-js-visualisation-layout-responsive)

我见过的所有 D3 示例都是这样的：

```
 var width = 1500,
            height = 1500;

        var svg = d3.select('body')
          .append('svg')
            .attr('width', width)
            .attr('height', height); 
```

如何让图形动态调整大小以填充当前窗口的大小？（即：您将窗口设置为您想要的大小，并且图表会填充它。此外，当您调整窗口大小时，图表会调整大小以占用可用空间）

# c# - 带有 IE 8 的 Windows 7 64 位 Web 浏览器控件中的“Stackoverflow 错误”

> ID：12793561
> 
> 赞同：1
> 
> 时间：2012-10-09T05:49:14.267
> 
> 标签：c#, internet-explorer-8, browser, 64-bit, stack-overflow

一个网站在 Windows 7 64 位机器的 IE 8 中正确打开。同一网站正在 C# Web 浏览器控件中加载，并导致“第 xxxx 行的 Stackoverflow 错误”消息框。此错误消息仅出现在 Windows Web 浏览器控件中，并且在 64 位 Windows 7 机器上与 IE 8 组合出现。显示此消息框后页面正确加载。

已经尝试过但没有成功的事情：

1.  功能浏览器仿真将浏览器控件设置为使用 IE 8。
2.  将 Window_OnError 处理程序添加到 Webbrowser 的文档的窗口对象。这会捕获由于 javascript 中的递归函数调用而导致的正常堆栈溢出错误。但是，它没有在本网站上捕获此特定错误。
3.  更新到 IE8 并没有解决它。升级到 IE 9 解决了这个问题。但这需要使 IE 9 成为产品的先决条件。这不是优选的。
4.  Firebug 没有发现所显示页面的任何问题。
5.  禁用脚本调试未选中以避免此问题，但会导致其他脚本错误出现在 Windows XP 的 Web 浏览器控件中。

附加信息 - 该页面包含框架集。

是否有任何其他选项可以尝试定位和解决问题？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-10T04:59:17.210

在尝试了多个选项之后，当 EXE 在 64 位模式下运行时，使用 IE 8 在 64 位上进行 webbrowser 控制似乎存在一些问题。如果程序是用 x86 模式编译的，它可以正常工作而不会出现该消息。这就像一个解决方法。错误继续出现在 64 位进程中。

网站似乎也有问题。

# python - 文本处理 - Python 与 Perl 的性能对比

> ID：12793562
> 
> 赞同：76
> 
> 时间：2012-10-09T05:49:17.320
> 
> 标签：python, regex, performance, perl, text-processing

这是我的 Perl 和 Python 脚本，用于对大约 21 个日志文件进行一些简单的文本处理，每个大约 300 KB 到 1 MB（最大）x 重复 5 次（总共 125 个文件，由于*日志*重复了 5 次）。

**Python 代码**（修改为使用已编译`re`和使用的代码`re.I`）

```
#!/usr/bin/python

import re
import fileinput

exists_re = re.compile(r'^(.*?) INFO.*Such a record already exists', re.I)
location_re = re.compile(r'^AwbLocation (.*?) insert into', re.I)

for line in fileinput.input():
    fn = fileinput.filename()
    currline = line.rstrip()

    mprev = exists_re.search(currline)

    if(mprev):
        xlogtime = mprev.group(1)

    mcurr = location_re.search(currline)

    if(mcurr):
        print fn, xlogtime, mcurr.group(1) 
```

**Perl 代码**

```
#!/usr/bin/perl

while (<>) {
    chomp;

    if (m/^(.*?) INFO.*Such a record already exists/i) {
        $xlogtime = $1;
    }

    if (m/^AwbLocation (.*?) insert into/i) {
        print "$ARGV $xlogtime $1\n";
    }
} 
```

而且，在我的 PC 上，这两个代码都生成了完全相同的 10,790 行结果文件。而且，这是 Cygwin 的 Perl 和 Python 实现的时间安排。

```
User@UserHP /cygdrive/d/tmp/Clipboard
# time /tmp/scripts/python/afs/process_file.py *log* *log* *log* *log* *log* >
summarypy.log

real    0m8.185s
user    0m8.018s
sys     0m0.092s

User@UserHP /cygdrive/d/tmp/Clipboard
# time /tmp/scripts/python/afs/process_file.pl *log* *log* *log* *log* *log* >
summarypl.log

real    0m1.481s
user    0m1.294s
sys     0m0.124s 
```

最初，使用 Python 需要 10.2 秒，而使用 Perl 只需 1.9 秒即可完成这个简单的文本处理。

**（更新）但是，在 Python 的编译`re`版本之后，现在在 Python 中需要 8.2 秒，在 Perl 中需要 1.5 秒。Perl 仍然快得多。**

有没有办法完全提高 Python 的速度，或者很明显 Perl 将成为简单文本处理的快速方法。

顺便说一句，这不是我为简单文本处理所做的唯一测试……而且，我制作源代码的每一种不同方式，总是 Perl 以很大的优势获胜。`m/regex/`而且，在简单的匹配和打印方面，Python 没有一次表现得更好。

> 请不要建议使用 C、C++、Assembly、其他风格的 Python 等。
> 
> 与标准 Perl 相比，我正在寻找使用标准 Python 及其内置模块的解决方案（甚至不使用模块）。男孩，由于它的可读性，我希望将 Python 用于我的所有任务，但为了放弃速度，我不这么认为。
> 
> 所以，请建议如何改进代码以与 Perl 有可比的结果。

**更新：2012-10-18**

正如其他用户所建议的，Perl 有它的位置，Python 有它的位置。

因此，对于这个问题，可以安全地得出结论，对于成百上千个文本文件的每一行的简单正则表达式匹配并将结果写入文件（或打印到屏幕），**Perl 将永远、永远在这项工作的性能上获胜. 就这么简单。**

请注意，当我说 Perl 在性能上胜出时……只比较标准 Perl 和 Python……不诉诸一些晦涩难懂的模块（对于像我这样的普通用户来说是晦涩难懂的），也不要从 Python 调用 C、C++、汇编库或 Perl。我们没有时间为简单的文本匹配工作学习所有这些额外的步骤和安装。

因此，Perl 非常适合文本处理和正则表达式。

Python 在其他地方也有它的优势。

**2013 年 5月 29 日更新：**[这里](https://stuffivelearned.org/doku.php?id=programming:general:phpvspythonvsperl)有一篇进行类似比较的优秀文章。Perl 再次赢得了简单文本匹配的胜利……有关更多详细信息，请阅读文章。

* * *

## 回答 #1

> 赞同：18
> 
> 时间：2012-10-09T06:03:32.067

这正是 Perl 旨在做的事情，所以它更快并不让我感到惊讶。

Python 代码中的一个简单优化是预编译这些正则表达式，这样它们就不会每次都重新编译。

```
exists_re = re.compile(r'^(.*?) INFO.*Such a record already exists')
location_re = re.compile(r'^AwbLocation (.*?) insert into') 
```

然后在你的循环中：

```
mprev = exists_re.search(currline) 
```

和

```
mcurr = location_re.search(currline) 
```

这本身不会神奇地使您的 Python 脚本与您的 Perl 脚本保持一致，但是在没有先编译的情况下在循环中重复调用 re 在 Python 中是不好的做法。

* * *

## 回答 #2

> 赞同：14
> 
> 时间：2012-10-09T08:02:39.173

假设：Perl 在不匹配的行中花费更少的时间回溯，因为它具有 Python 没有的优化。

你通过替换得到什么

```
^(.*?) INFO.*Such a record already exists 
```

和

```
^((?:(?! INFO).)*?) INFO.*Such a record already 
```

或者

```
^(?>(.*?) INFO).*Such a record already exists 
```

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2012-10-09T06:58:03.077

在 Python 中，函数调用在时间方面有点昂贵。然而你有一个循环不变的函数调用来获取循环内的文件名：

```
fn = fileinput.filename() 
```

将此行`for`移到循环上方，您应该会看到 Python 时序有所改进。不过可能还不足以击败 Perl。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-10-09T05:56:59.960

一般来说，**所有的人为基准都是邪恶的。**但是，在其他一切都相同的情况下（算法方法），您可以在相对基础上进行改进。但是，应该注意的是我不使用 Perl，所以我不能支持它。话虽如此，对于 Python，您可以尝试使用[Pyrex](http://www.cosc.canterbury.ac.nz/~greg/python/Pyrex/)或[Cython](http://cython.org/)来提高性能。或者，如果您喜欢冒险，您可以尝试通过[ShedSkin](http://code.google.com/p/shedskin/)将 Python 代码转换为 C++ （适用于大多数核心语言，以及一些 - 但不是全部核心模块）。

不过，您可以遵循此处发布的一些提示：

[http://wiki.python.org/moin/PythonSpeed/PerformanceTips](http://wiki.python.org/moin/PythonSpeed/PerformanceTips)

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-10-09T08:48:14.230

我希望 Perl 更快。只是好奇，您可以尝试以下方法吗？

```
#!/usr/bin/python

import re
import glob
import sys
import os

exists_re = re.compile(r'^(.*?) INFO.*Such a record already exists', re.I)
location_re = re.compile(r'^AwbLocation (.*?) insert into', re.I)

for mask in sys.argv[1:]:
    for fname in glob.glob(mask):
        if os.path.isfile(fname):
            f = open(fname)
            for line in f:
                mex = exists_re.search(line)
                if mex:
                    xlogtime = mex.group(1)

                mloc = location_re.search(line)
                if mloc:
                    print fname, xlogtime, mloc.group(1)
            f.close() 
```

**更新**作为对*“它太复杂”*的反应。

当然，它看起来比 Perl 版本更复杂。Perl 是围绕正则表达式构建的。这样，您几乎找不到在正则表达式中速度更快的解释语言。Perl 语法...

```
while (<>) {
    ...
} 
```

...还隐藏了许多必须以更通用的语言完成的事情。另一方面，如果将不可读的部分移出，则很容易使 Python 代码更具可读性：

```
#!/usr/bin/python

import re
import glob
import sys
import os

def input_files():
    '''The generator loops through the files defined by masks from cmd.'''
    for mask in sys.argv[1:]:
        for fname in glob.glob(mask):
            if os.path.isfile(fname):
                yield fname

exists_re = re.compile(r'^(.*?) INFO.*Such a record already exists', re.I)
location_re = re.compile(r'^AwbLocation (.*?) insert into', re.I)

for fname in input_files():
    with open(fname) as f:        # Now the f.close() is done automatically
        for line in f:
            mex = exists_re.search(line)
            if mex:
                xlogtime = mex.group(1)

            mloc = location_re.search(line)
            if mloc:
                print fname, xlogtime, mloc.group(1) 
```

这里`def input_files()`可以放置在其他地方（比如在另一个模块中），或者可以重复使用。`while (<>) {...}`即使在语法上不一样，也可以轻松地模仿 Perl ：

```
#!/usr/bin/python

import re
import glob
import sys
import os

def input_lines():
    '''The generator loops through the lines of the files defined by masks from cmd.'''
    for mask in sys.argv[1:]:
        for fname in glob.glob(mask):
            if os.path.isfile(fname):
                with open(fname) as f: # now the f.close() is done automatically
                    for line in f:
                        yield fname, line

exists_re = re.compile(r'^(.*?) INFO.*Such a record already exists', re.I)
location_re = re.compile(r'^AwbLocation (.*?) insert into', re.I)

for fname, line in input_lines():
    mex = exists_re.search(line)
    if mex:
        xlogtime = mex.group(1)

    mloc = location_re.search(line)
    if mloc:
        print fname, xlogtime, mloc.group(1) 
```

那么最后一个`for`可能看起来和 Perl 的一样简单（原则上）`while (<>) {...}`。这种*可读性增强*在 Perl 中更加困难。

无论如何，它不会使 Python 程序更快。Perl 将在这里再次更快。Perl*是*一个文件/文本处理器。但是——在我看来——Python 对于更通用的目的来说是一种更好的编程语言。

# objective-c - 将子视图添加到 UICollectionViewCell 时出现意外行为

> ID：12793565
> 
> 赞同：0
> 
> 时间：2012-10-09T05:49:26.733
> 
> 标签：objective-c, ios, uicollectionview, uicollectionviewcell

我目前在向 UICollectionViewCell 添加子视图时遇到了一个奇怪的问题，但仅在某些情况下。

这是场景：

我有一个“容器”视图，它符合带有嵌套视图的非常特定的协议 (ADGControl)，通常是 UIKit 控件子类，即 MyCustomTextField：用于自定义控件的 UITextField。

“容器”视图公开了一个名为“innerControlView”的属性，它持有对自定义控件的强引用，这是我试图作为子视图添加到单元格内容视图的内容。

这是代码：

```
- (UICollectionViewCell *)collectionView:(UICollectionView *)collectionView cellForItemAtIndexPath:(NSIndexPath *)indexPath
{
   FormControlCollectionViewCell *cell = [self.formCollectionView dequeueReusableCellWithReuseIdentifier:@"formControlCell" forIndexPath:indexPath];
   NSArray *sectionContents = [_controlList objectAtIndex:[indexPath section]];

   // This works
   //UITextField *textField = [[UITextField alloc] initWithFrame:CGRectMake(0.0f, 0.0f, 315.0f, 30.0f)];
   //textField.borderStyle = UITextBorderStyleLine;
   //[cell.controlView addSubview:textField];

   // This doesn't (see the behaviour in video clip)
   id <ADGControl> control = [sectionContents objectAtIndex:[indexPath row]]; // The container view I'm referring to
   [cell.contentView addSubview:(UIView *)[control innerControlView]]; // [control innerControlView] is the typical UIKit control subclass for custom controls. In this example it will be a UITextField

   return cell;
} 
```

正如您在上面的代码注释中看到的那样，每当我尝试直接添加一个 UIKit 控件（textField）时，它都可以正常工作。但是，一旦我尝试添加我的自定义控件（[control innerControlView]，我就会在此处的视频剪辑中看到意外行为：http: [//media.shinywhitebox.com/ryno-burger/ios-simulator-ios-模拟器-ipad-ios-a](http://media.shinywhitebox.com/ryno-burger/ios-simulator-ios-simulator-ipad-ios-a)

上面的链接只是一个简短的 23 秒视频剪辑，以更好地展示我得到的“意外行为”。

如果有人能指出我做错了什么问题可能是什么，我将不胜感激。

谢谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-11T09:31:10.283

正如您在[s](http://developer.apple.com/library/ios/#documentation/UIKit/Reference/UICollectionViewCell_class/Reference/Reference.html)[上的文档`UICollectionViewCell`](http://developer.apple.com/library/ios/#documentation/UIKit/Reference/UICollectionViewCell_class/Reference/Reference.html)中所读到的，您不应该将内容子视图添加到单元格本身，而是添加到`contentView`.

而且，就像我之前在评论中所说的那样，您不应该在数据源中添加子视图，而是在子类中。您已经注意到`initWithFrame:`没有调用，`initWithCoder:`而是使用：

```
-(id)initWithCoder:(NSCoder *)aDecoder {
    self = [super initWithCoder:aDecoder];
    if (self) {
        // Add your subviews here
        // self.contentView for content
        // self.backgroundView for the cell background
        // self.selectedBackgroundView for the selected cell background
    }
    return self;
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-09T06:00:39.320

一个视图一次只能在一个超级视图中。如果它已经是容器视图的子视图，则不能将其添加为另一个视图（您的单元格）的子视图。

目前还不清楚为什么要将视图用​​作模型对象的一部分，但是在将其添加到单元格之前，您必须更改它或从当前父视图中删除内部视图。

# android - 如何使用谷歌联系人api以编程方式将手机联系人同步到android中的gmail

> ID：12793568
> 
> 赞同：8
> 
> 时间：2012-10-09T05:49:47.637
> 
> 标签：android, google-api, sync, android-contacts

如何使用 Google API 将 Android 原生联系人同步到 Google 帐户。提供一些有用的链接。

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-10-09T06:15:01.237

同步会自动发生。您可以以编程方式添加或删除联系人。但是，当且仅当用户在手机设置中启用了“同步联系人”选项时，操作系统才会自动处理同步。

但是，如果用户使用以下方式启用了同步，您可以运行一个可以调用同步过程的同步例程：

```
private void requestSync()
{
    AccountManager am = AccountManager.get(this);
    Account[] accounts = am.getAccounts();

    for (Account account : accounts)
    {
        int isSyncable = ContentResolver.getIsSyncable(account, ContactsContract.AUTHORITY);

        if (isSyncable > 0)
        {
            Bundle extras = new Bundle();
            extras.putBoolean(ContentResolver.SYNC_EXTRAS_MANUAL, true);
            ContentResolver.requestSync(accounts[0], ContactsContract.AUTHORITY, extras);
        }
    }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-03-05T14:38:28.017

以下也可能是一个很好的答案。它与上述类似，但默认设置应用程序使用如下代码：

```
private void requestSyncForAccounts() {
    SyncAdapterType[] syncAdapters = ContentResolver.getSyncAdapterTypes();
    Bundle extras = new Bundle();
    extras.putBoolean(ContentResolver.SYNC_EXTRAS_MANUAL, true);
    Account[] accounts = AccountManager.get(PeopleActivity.this).getAccounts();
    for (Account account : accounts) {
        for (int j = 0; j < syncAdapters.length; j++) {
            SyncAdapterType sa = syncAdapters[j];
            if (ContentResolver.getSyncAutomatically(account, sa.authority)) {
                ContentResolver.requestSync(account, sa.authority, extras);
            }
        }
    }
} 
```

# php - popen() 给出错误：没有这样的文件或目录

> ID：12793570
> 
> 赞同：2
> 
> 时间：2012-10-09T05:49:59.480
> 
> 标签：php, popen

我正在使用 php 版本 5.2.17。我在 php 中构建了一个站点，并在 localhost（Windows）上的 IIS 5.1 下对其进行了测试。

我想在后台运行一个冗长的 PHP 脚本，从而允许用户继续使用该站点（导航）。

我正在尝试像这样使用 popen：

```
$cmd='c:\\php\\php.exe c:\\inetpub\\wwwroot\\download.php';
pclose(popen('start /B '.$cmd, 'r')); 
```

这给出了错误：

```
PHP Warning: popen(c:\php\php.exe C:\inetpub\wwwroot\download.php,r) [function.popen]: No such file or directory. 
```

任何线索都受到高度赞赏。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-10T04:50:19.773

已解决：我在 IIS 中更改了 Download.php 的文件安全性并将用户设置为 IWAM（启动 IIS 进程帐户）。

感谢所有关心的专家。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-09T06:38:44.180

尝试先执行 cmd，然后通过 cmd 调用 php，如下所述：http: [//bytes.com/topic/php/answers/751763-popen-windows](http://bytes.com/topic/php/answers/751763-popen-windows)

# simplexml - SimpleXML（实际上是 Zend_Config_Xml）和 foreach：我在迭代哪个标签？

> ID：12793575
> 
> 赞同：-1
> 
> 时间：2012-10-09T05:50:20.037
> 
> 标签：simplexml, zend-config, zend-config-xml

我正在实现一个小事件管理器以使用观察者模式。为了让我的观察者订阅我的事件，我使用了以下 xml 文件：

```
<?xml version="1.0" encoding="UTF-8"?>
<configData>
    <subscriptions>
        <subscription>
            <eventName>event_name</eventName>
            <class>My_Observer_Class</class>
            <function>myFunction</function>
        </subscription>
        <subscription>
            <eventName>other_event_name</eventName>
            <class>My_Observer_Otherclass</class>
            <function>myOtherFunction</function>
        </subscription>
    </subscriptions>
</configData> 
```

我正在使用 a`foreach`循环订阅：

```
foreach($subscriptions->subscription as $subscription) {
    /* using $subscription->eventName etc... */
} 
```

一切都很好，每个`$subscription`项目都有它`eventName`等等......

但是我的问题来了：

```
<?xml version="1.0" encoding="UTF-8"?>
<configData>
    <subscriptions>
        <subscription>
            <eventName>event_name</eventName>
            <class>My_Observer_Class</class>
            <function>myFunction</function>
        </subscription>
    </subscriptions>
</configData> 
```

这里我只有**一个** `<subscription>`节点。还有我`foreach`对`subscription` **孩子们**的循环！为了解决这个问题，我想知道如何检查xml文件是否包含多个`<subscription>`标签，或者只有一个......

任何帮助将不胜感激 ：）

**编辑：**有没有办法`xpath`和我一起使用`Zend_Config_Xml object`？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-09T07:01:38.067

您可以使用[Xpath](http://php.net/manual/en/simplexmlelement.xpath.php)。

请尝试下面的代码，我已经使用您提供的两个示例 XML 对其进行了测试。

```
<?php

$subscriptions = simplexml_load_file('test.xml');

$scTag = $subscriptions->xpath("//subscription");

 foreach($scTag as $subscription) {
     echo $subscription->eventName;
          /* using $subscription->eventName etc... */
 } 
?> 
```

希望这有帮助！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-13T21:24:41.277

澄清一下，这是 Zend_Config_XML 的一个问题，它在 PHP 的原生 SimpleXML 中不存在。

鉴于您的第二个示例为`$xml`，我可以运行以下命令并按预期获取“订阅”一词：

```
 $configData = simplexml_load_string($xml);
 foreach($configData->subscriptions->subscription as $subscription)
 {
     echo $subscription->getName(); 
 } 
```

# c# - XP 上的 WIA 扫描问题

> ID：12793576
> 
> 赞同：0
> 
> 时间：2012-10-09T05:50:21.113
> 
> 标签：c#, wpf, wia

我有一个 WPF 应用程序，用于将文档扫描到用户邮箱等。

在我的 32 位 Windows 7 专业机器上调试应用程序时，一切都按计划进行，以及在另一台 32 位 Windows 7 机器上部署的版本。

当我部署到 XP 机器并尝试开始扫描时，我收到以下错误：

> 由于以下错误，检索具有 CLSID {850D1D11-70F3-4BE5-9A11-77AA6B2BB201} 的组件的 COM 类工厂失败：80040154 未注册类（HRESULT 异常：0x80040154 (REGDB_E_CLASSNOTREG)）。

有什么建议么？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-10-09T09:17:39.887

win 7 版本不能在 xp 上运行 - 你可以尝试下载这个版本的 XP。

[在这里下载](http://vbnet.mvps.org/files/updates/wiaautsdk.zip)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-03-28T13:52:09.787

为了使部署更简单，请将 Richard Friend's Answer 中的文件转换为 Inno 安装程序。

```
[Setup]
AppId={{4D9ADCF1-F6B4-4790-8B21-3C9F93346638}}
AppName="Microsoft Windows XP x86 WIA 2.0 Installer"
AppVersion="2.0"

OutputBaseFilename="Microsoft Windows XP x86 WIA 2.0 Installer"
Compression=lzma2/ultra64
CreateAppDir=no
Uninstallable=no

[Languages]
Name: "english"; MessagesFile: "compiler:Default.isl"

[Files]
Source: Files\wiaaut.chi; DestDir: {win}\HELP; Flags: onlyifdoesntexist
Source: Files\wiaaut.chm; DestDir: {win}\HELP; Flags: onlyifdoesntexist 
Source: Files\wiaaut.dll; DestDir: {sys}; Flags: onlyifdoesntexist regserver 
```

我只是这样做了，因为我必须在一个小办公室中部署它并且它可以工作。我只把它放在 x86 机器上。您可能需要稍微调整一下才能在 x64 机器上工作。

# r - 如何控制 ggplot2 中次要网格线的数量？

> ID：12793577
> 
> 赞同：51
> 
> 时间：2012-10-09T05:50:22.317
> 
> 标签：r, ggplot2

默认情况下，似乎 ggplot2 使用的小网格只是主网格的一半。有什么办法可以打破这个吗？

例如，我有一个图，其中 x 轴是年，主要休息时间是 (1850, 1900, 1950, 2000)。这意味着次要网格点位于 (1875, 1925, 1975)，多年来这有点不直观。如何让小网格每隔十年出现一次？

* * *

## 回答 #1

> 赞同：91
> 
> 时间：2012-10-09T06:07:14.947

您可以通过`minor_breaks()`在`scale_x_continuous`. 请注意，由于我没有`panel.grid.major`在下面的简单示例中指定，因此下面的两个图没有这些（但如果需要，您应该添加它们）。要解决您的问题，您应该将年份指定为序列或仅将年份向量指定为`minor_breaks()`.

例如

```
 ggplot(movies, aes(x=rating)) + geom_histogram() + 
 theme(panel.grid.minor = element_line(colour="blue", size=0.5)) + 
 scale_x_continuous(minor_breaks = seq(1, 10, 1)) 
```

![在此处输入图像描述](../Images/d5f998ccb7ba35a3b137eaf624e7dcd2.png)

```
 ggplot(movies, aes(x=rating)) + geom_histogram() + 
 theme(panel.grid.minor = element_line(colour="blue", size=0.5)) + 
 scale_x_continuous(minor_breaks = seq(1, 10, 0.5)) 
```

![在此处输入图像描述](../Images/0dcdff92f417ef6850391ccf4b4b134c.png)

# python - 如何在python中的文件下载请求中调用某些函数？

> ID：12793583
> 
> 赞同：0
> 
> 时间：2012-10-09T05:51:10.150
> 
> 标签：python, python-3.x, python-2.7

我是python的新手。瓶子或其他框架或python中是否存在一些库，我可以通过它来处理文件下载，即我想开发代码，通过它我可以通过他需要指定我的密钥来授权人url 那么只有他可以下载文件，否则他无法下载该文件。

**简单来说，我想调用一些在发出文件下载请求时调用的事件。在文件下载请求中，我需要在文件下载开始后执行一些功能。**

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-09T06:43:31.870

你的问题有点难以理解，但如果我正确理解你想要做什么，你最好的选择可能不是在你的 Python 框架中寻找这个功能。这样做的原因是大多数框架——至少我使用过的`django`和`flask`作为其他服务器端功能。静态文件和媒体的交付通常最好由 Apache 等生产服务器完成`gunicorn`。

这就是为什么，例如，在`django` [文档](https://docs.djangoproject.com/en/1.2/howto/static-files/)中，它特别说：

> Django 本身不提供静态（媒体）文件，例如图像、样式表或视频。它将这项工作留给您选择的任何 Web 服务器。
> 
> 这里的理由是标准的 Web 服务器，例如 Apache、lighttpd 和 Cherokee，在提供静态文件方面比 Web 应用程序框架更精细。

这种身份验证可能最好由您的服务器处理，无论是 Apache 还是其他东西。

使用框架保护下载文件的一种选择是将真实的文件 URL 隐藏在另一个需要身份验证的 URL 后面，可能会更改文件的真实 URL。这并不完美，并且绝对不能完全保护文件，但可能对您有用。一个例子`django`：

```
# urls.py
...
url('/my/file/url', my_file_download_function),
...

# views.py
from django.shortcuts import redirect

def my_file_download_function(request):
    if request.GET.get('apikey', None) == CORRECT_API_KEY:
        return redirect('/real/URL/to/file')
    else:
        return HttpResponse(status=401) 
```

同样，我不一定推荐这样做，但这是使用框架执行此操作的一种选择。

**更新：** 阅读了新发布的评论后，我认为您最好的选择是由**iMom0**发布的，其中包含有关在 Django 中提供静态文件之前进行身份验证的[链接。](http://blog.zacharyvoase.com/2009/09/08/sendfile/)

# java - 禁用选择 JTable 上的特定行

> ID：12793584
> 
> 赞同：1
> 
> 时间：2012-10-09T05:51:26.260
> 
> 标签：java, swing, jtable

我目前正在使用`setRowSelectionAllowed(boolean)`方法。在我的实现中，它禁用了所有行。但是我想要的是禁用某些行而不是所有行。有人可以帮我完成这个吗？

这是我的代码

```
if (encounterId == currentencounterId)
{                                      
  getNstTemplates().getTable().setRowSelectionAllowed(true);                    
}                           
else                        
{   
  getNstTemplates().getTable().setRowSelectionAllowed(false);                                 
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-09T06:58:27.577

您可以将自定义[ListSelectionModel](http://docs.oracle.com/javase/6/docs/api/javax/swing/ListSelectionModel.html)插入到表中，以忽略或修改涉及不可选择行的选择事件。

# actionscript-3 - 我可以使用炼金术制作一个适用于不使用炼金术的 AS3 程序员的 swc 文件吗？

> ID：12793585
> 
> 赞同：1
> 
> 时间：2012-10-09T05:51:30.057
> 
> 标签：actionscript-3, alchemy

我对 Alchemy 非常陌生，而不是使用 swc 存储代码的专家（尽管我很清楚它到目前为止对我有用）。我想确保我了解 Alchemy 在这种情况下是否适合我。我想在 Alchemy 中制作一个简单的脚本，以帮助使代码中的某些“繁重的工作”更轻、更省时，并提高性能。诀窍是我的同事可能会被安装过程吓倒（即使有指南）。所以我的问题是，如果我确实花时间与 Alchemey 合作，我可以将我的代码提供给其他不使用它的人，用于我们的项目吗？

希望这是有道理的，我的直觉（直觉）说是的。我只是想确定一下。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-10T06:13:31.870

是的，这正是 SWC 的用途，您可以使用 FlasCC 编译您的 C++ 代码并公开一个简单的 AS3 API，其他人可以通过将您的 SWC 链接到他们的项目来使用该 API。下载 FlasCC 测试版并查看它附带的教程，更详细地解释这一点：http: [//gaming.adobe.com/technologies/flascc/](http://gaming.adobe.com/technologies/flascc/)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-09T07:44:04.487

很快，答案是肯定的。

关键是如果您不使用炼金术，就无法将 SWC 重新编译为 SWF。您可以做的是在运行时（使用[Loader](http://help.adobe.com/en_US/FlashPlatform/reference/actionscript/3/flash/display/Loader.html#load%28%29) .load[和](http://help.adobe.com/en_US/FlashPlatform/reference/actionscript/3/flash/system/LoaderContext.html)ApplicationDomain.currentDomain）下载包含在 SWF 中的 SWF（SWC 是一个简单的 zip，解压缩）。

然后，您可以使用 ApplicationDomain.getDefinition("OneOfYourClass) 自由使用内部的类。 [有关应用程序域的更多信息](http://help.adobe.com/en_US/FlashPlatform/reference/actionscript/3/flash/system/ApplicationDomain.html)

由于它在运行时，因此您不必编译 Alchemy，因此它应该适用于任何人。

# cordova - “转换为 Dalvik 格式失败，错误 1”

> ID：12793589
> 
> 赞同：0
> 
> 时间：2012-10-09T05:51:39.397
> 
> 标签：cordova

我正在尝试在我的应用程序中使用[条形码扫描仪](https://github.com/phonegap/phonegap-plugins/tree/master/Android/BarcodeScanner)（使用 2.0.0 版本），但它失败并出现以下错误。我正在使用安卓 SDK 15。

> [2012-10-08 19:18:33 - Android_ApacheCordovaPluginAndroidApacheCordovaPluginAndroid] Dx 1 错误；中止 [2012-10-08 19:18:33 - Android_ApacheCordovaPluginAndroidApacheCordovaPluginAndroid] 转换为 Dalvik 格式失败，错误 1

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-26T17:09:14.200

请记住，IBM Worklight 已经与 PhoneGap/Apache Cordova 打包在一起。但是，直到本月（2012 年 12 月），他们才将支持升级到 PhoneGap 2.2 这可能是PhoneGap 库冲突的问题（嵌入的库和您添加的库）。检查依赖项如何读取并尝试更新和使用嵌入式。

# java - 如何在控制台输出上对齐字符串

> ID：12793593
> 
> 赞同：16
> 
> 时间：2012-10-09T05:52:06.960
> 
> 标签：java, string, console, formatter

我必须为以下内容编写代码：

![乘法表说明：打印出小学12*12的乘法表](../Images/e5c9e7e906269f0442f29109e9a0d435.png)

我写了代码：

```
public class tables {
    public static void main(String[] args) {
        //int[][] table = new int[12][12];
        String table="";
        for(int i=1; i<13; i++){
            for(int j=1; j<13; j++){
                //table[i-1][j-1] = i*j;
                table+=(i*j)+" ";
            }
            System.out.println(table.trim());
            table="";
        }
    }
} 
```

但问题在于输出格式。我需要以类似矩阵的方式输出，每个数字都格式化为 4 的宽度（数字是右对齐的，并在每行上去掉前导/尾随空格）。我试过**谷歌**但没有找到任何好的解决我的问题的方法。有人可以帮帮我吗？

* * *

## 回答 #1

> 赞同：38
> 
> 时间：2012-10-09T05:57:48.810

您可以`format()`根据需要使用格式化输出..

```
 for(int i=1; i<13; i++){
        for(int j=1; j<13; j++){

           System.out.format("%5d", i * j);
        }
        System.out.println();  // To move to the next line.
    } 
```

或者，您也可以使用：-

```
System.out.print(String.format("%5d", i * j)); 
```

代替`System.out.format`..

这是**如何`%5d`工作**的解释： -

*   首先，因为我们要打印整数，所以我们应该使用`%d`which 是整数的格式说明符。
*   `5`in`%5d`表示您的输出将占用的总宽度。因此，如果您的值为 5，它将被打印为覆盖 5 个空格，如下所示：-`****5`
*   `%5d`用于**右对齐**。对于**左对齐**，您可以使用`%-5d`. 对于 value `5`，这会将您的输出打印为： - `5****`

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2015-07-16T18:27:45.527

在我的示例中，数组包含长度不同的字符串，因此我无法排列字符串，并且不同数组的其他字符串在控制台上不匹配。使用不同的概念，我可以在控制台上排列这些数组，我的代码如下。

```
package arrayformat;

 /**
 *
 * @author Sunil
 */
 public class ArrayFormat {

  /**
  * @param args the command line arguments
  */

  public static void main(String[] args) {

  int[] productId = new int[]  
 {1001,1002,1003,1004,1005,1006,1007,1008,1009,1010,};
   String[] productName= new String[]{"Pepsi","kissan jam","Herbal 
 oil","Garnier man's","Lays chips","biscuits","Bournvita","Cadbury","Parker 
 Vector","Nescafe",};
   String[] productType = new String[]{"Cold Drink","Jam","Oil","Face 
 wash","chips","Biscuits","Health 
 Supplement","Chocolate","Stationary","Coffee",};
    float[] productPrice = new float[]{24,65,30,79,10,20,140,20,150,80,}; 

       int productNameMaxlength=0;
   int productTypeMaxlength=0;

    for (String productName1 : productName) {
        if (productNameMaxlength < productName1.length()) {
            productNameMaxlength = productName1.length();
        }
    }

    for (String productType1 : productType) {
        if (productTypeMaxlength < productType1.length()) {
            productTypeMaxlength = productType1.length();
        }
    }

   for(int i=0;i<productType.length;i++)

   { 
              System.out.print(i);

      System.out.print("\t");

              System.out.print(productId[i]);

              System.out.print("\t");

              System.out.print(productName[i]);

       for(int j=0;j<=productNameMaxlength-productName[i].length
     ();j++)

       {

        System.out.print(" ");

       }

       System.out.print("\t");

       System.out.print(productType[i]);

       for(int j=0;j<=productTypeMaxlength-productType[i].length
    ();j++)

       {
           System.out.print(" ");
       }

               System.out.print("\t");

       System.out.println(productPrice[i]);
          }           
      }

    }
   and output is--
  Sr.No  ID     NAME            TYPE               PRICE
   0    1001    Cadbury         Chocolate           20.0
   1    1002    Parker Vector   Stationary          150.0
   2    1003    Nescafe         Coffee              80.0
   3    1004    kissan jam      Jam                 65.0
   4    1005    Herbal oil      Oil                 30.0
   5    1006    Garnier man's   Face wash           79.0
   6    1007    Lays chips      chips               10.0
   7    1008    biscuits        Biscuits            20.0
   8    1009    Bournvita       Health Supplement   140.0
   9    1010    Pepsi           Cold Drink          24.0 
```

由于我无法回答我的问题，因为我无法回答问题和回答，所以我引用了我的答案，我觉得这是一种不同的数组格式。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2016-08-09T10:07:45.037

可以使用 System.out.format("","") 方法对输出进行格式化，该方法包含两个输入参数，第一个定义格式样式，第二个定义要打印的值。让我们假设您想要将 n 位值右对齐。您将传递第一个参数“%4d”。

**对于左对齐使用 -ve %-nd**

**对于右对齐使用 +ve %nd**

```
 for(int i=1; i<13; i++){
       for(int j=1; j<13; j++){
            System.out.format("%4d", i * j);  //each number formatted to a width of 4 so use %4d in the format method.
    }
    System.out.println();  // To move to the next line.
} 
```

# java - JsonMappingException 没有单字符串构造函数/工厂方法 Jackson

> ID：12793602
> 
> 赞同：10
> 
> 时间：2012-10-09T05:53:11.503
> 
> 标签：java, json, spring-mvc, jackson

我正在尝试使用 Spring build Jackson 支持解析从控制器中的 UI 发送的 JSON 数据，这是我的代码

```
final Map<String, CartDataHelper> entriesToUpdateMap = new ObjectMapper().readValue(entriesToUpdate, new TypeReference<Map<String, CartDataHelper>>() 
```

我的 JSON 字符串是

```
{"0":"{\"categoryCode\":\"shoes\",\"productCode\":\"300050253\",\"initialQty\":\"3\",\"leftoverQty\":\"0\",\"newQty\":\"3\"}",
"1":"{\"categoryCode\":\"shoes\",\"productCode\":\"300050254\",\"initialQty\":\"3\",\"leftoverQty\":\"0\",\"newQty\":\"3\"}"} 
```

我使用一些在线服务检查了 JSON 格式，它似乎是有效的，在尝试解析 JSON 数据时，我遇到了以下异常

```
org.codehaus.jackson.map.JsonMappingException: Can not instantiate value of type [simple type, class controllers.util.CartDataHelper] from JSON String; no single-String constructor/factory method 
```

我的`CartDataHelper`类包含 for 等的简单属性，`productCode`没有`categoryCode`参数构造函数

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-10-09T16:43:52.763

如评论所述，您的 JSON 包含`Map<String,String>`和 NOT `Map<String,CartDataHelper>`：值是 JSON 字符串，而不是 JSON 对象。

理想情况下，您不会尝试将对象写成 JSON 字符串；如果是这样，事情就会奏效。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-05-27T17:53:03.603

似乎在客户端，json作为字符串而不是作为对象发送。这样，在服务器端，您将收到一个字符串，而不是您假装的 CartDataHelper。

尝试发送`JSON.parse(stringCartDataHelper)`。它对我有同样的问题。

# python - 如何使用 python 解析日志文件，并输出 html？

> ID：12793606
> 
> 赞同：0
> 
> 时间：2012-10-09T05:53:26.993
> 
> 标签：python, regex

这是一行日志文件：

```
41.42.50.xxx - - [09/Oct/2012:00:00:01 +0200] "GET http://www.xxxxxx.com/solutions-ar/solutions-1466.php HTTP/1.1" 200 10 "http://www.google.com.eg/url?dfasdfeaefdf" "Mozilla/5.0 (Windows NT 5.1) AppleWebKit/537.4 (KHTML, like Gecko) Chrome/22.0.1229.79 Safari/537.4" 
```

我想将 ip 地址、时间、url、google url 和浏览器解析为单行，我`(r'^(((2[0-4]\d|25[0-5]|[01]?\d\d?)\.){3}(2[0-4]\d|25[0-5]|[01]?\d\d?))')`用来匹配 ip 地址，如何获取其他信息并输出 html？谢谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-09T06:02:50.773

使用[apachelog](http://code.google.com/p/apachelog/)之类的库来解析 Apache 日志行。这将比尝试为这些行编写正则表达式更健壮、更安全。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-09T06:10:20.563

*   IP地址：`r'^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}'`
*   时间：`r'\d{2}/[a-zA-Z]{3}/\d{4}:\d{2}:\d{2}:\d{2} \+\d{4}'`
*   Time ( *alternate* ): `r'(?<=\[).+?(?=\])'`, 懒惰的，假设日期总是在里面`[]`，只有日期会在里面`[]`
*   网址：`r'https?://.+?(?= HTTP)'`
*   谷歌网址：`r'(?<=")https?://.*?google\..*?(?=")'`
*   浏览器：`r'(?<=")Mozilla.+?(?=")'`

然而，正如**nneonneo 所**指出的，使用像 apachelog 这样的工具会更加健壮和可靠。

# .htaccess - Codeigniter 中的路由

> ID：12793607
> 
> 赞同：6
> 
> 时间：2012-10-09T05:53:35.513
> 
> 标签：.htaccess, codeigniter, url-rewriting, routing, codeigniter-url

我想在基于 CodeIgniter 的应用程序中为用户的个人资料信息提供一个干净的 URL。

请查看下面的 URL 格式。

```
Actual URL : http://www.mydomain.com/index.php/users/profile/user1 
```

我希望用户拥有个人 URL 之类的

```
http://www.mydomain.com/user1
http://www.mydomain.com/user2
http://www.mydomain.com/user3 
```

URL [http://www.mydomain.com/user1](http://www.mydomain.com/user1)应该在后台执行[http://www.mydomain.com/index.php/users/profile/user1 。](http://www.mydomain.com/index.php/users/profile/user1)

我将使用 Route 库从 URL 中删除 index.php。

提前感谢您的任何帮助。

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-10-09T06:10:42.497

看看[https://www.codeigniter.com/user_guide/general/routing.html](https://www.codeigniter.com/user_guide/general/routing.html)。

```
$route['user(:num)'] = "users/profile/user/$1"; 
```

如果您的意思是希望 / *anyusername*路由到用户控制器，则必须输入：

```
$route['(:any)'] = "users/profile/$1"; 
```

在 routes.php 的底部及其上方的**每个**非用户 URL。否则，显然每个 URL 都会被路由到那里。您需要在用户控制器中实现一些机制来抛出 404 错误，因为您正在路由上述路由规则中未捕获的所有请求。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-09T06:14:56.553

在配置/routes.php

添加这一行

```
$route['user(:num)'] = "users/profile/$1"; 
```

# php - 如何在 php 文件中两次包含 php 文件

> ID：12793608
> 
> 赞同：-1
> 
> 时间：2012-10-09T05:53:36.723
> 
> 标签：php, web-applications

所以我有一个名为 address.php 的 php 文件，其中包含验证用户地址的代码。在此页面上`require_once`，我使用了一个名为 left_navigation.php 的文件来呈现我的左侧工具栏。.

现在，在用户单击确认按钮时编辑地址后，我想重新加载 left_navigation.php 文件，因为我的左侧工具栏内容应该更改..

我是 php 新手，那么最好的方法是什么？即两次包含一个php文件

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-09T06:10:27.880

您想使用 include 而不是 require_once。

您可以检查 jQuery .load() 函数，因此当用户单击您的按钮时，您的 left_navigation.php 将异步重新加载。用一小行代码。

```
$('#left_navigation').load('left_navigation.php'); 
```

假设 left_navigation.php 文件包含在 div 中，如下所示：

```
<div id="left_navigation">
   <?php
       include('left_navigation.php');
   ?>
</div> 
```

检查文档： [http ://api.jquery.com/load/](http://api.jquery.com/load/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-09T05:57:29.763

如果用户单击按钮，则页面通常会再次加载。此时 left_navigation.php 也被再次读取。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-09T06:08:11.967

如果您只想重新加载左侧，则需要先阅读 Ajax。[这是一个初学者指南](http://www.w3schools.com/ajax/default.asp)。如果没有 Ajax，您将无法部分更新网页的一部分。

# html - 使用 Angular js 进行应用程序设计

> ID：12793609
> 
> 赞同：4
> 
> 时间：2012-10-09T05:53:52.440
> 
> 标签：html, angularjs

一直致力于使用 Angular js 构建一个巨大的应用程序。在同一主题上看到太多关于我们如何最好地设计应用程序的问题，但仍然很困惑。

一个基本的应用程序通常有一个

> 1) 登录页面/索引页面
> 
> 2) 主页 - 带有页眉和页脚。身体是`partial/composite`不断变化的。

因为我们没有加载多个 ng-views 的句柄，这是构建**主页**的最佳方式，这样我们就有一个带有页眉和页脚的**HomePage**`$route`容器，并且 Body 是通过.

现在我已经使用单个**LoginContainerPage**来设计它，它通过 $routers加载**登录**页面和主页，但由于只允许单个 ng-view 我不能`ng-view`在**主页**中使用另一个来再次动态加载正文。我也不热衷于使用`ng-include`。

另一种方法是将**LoginPage**保持在外部`$route`并从**HomePage**开始路由，以便动态加载 Body。

想检查周围是否有更好的想法。

提前致谢！！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-24T09:30:58.077

在我正在使用 angularjs 进行的项目中，我采用了这种方法：我有一个标题，它是主要的导航系统，我为它制作了一个控制器，用于处理导航系统并知道我现在在哪里。我有一个 ngView，它根据路由加载我的主要内容，但有时我需要根据某些事件加载和编译不同的模板，例如 ajax 加载的选项卡。我使用 ngInclude 实现了这些类型的东西，视图上的主控制器有责任选择模板并包含它，我相信不需要多个 ngViews 你可以简单地使用范围来实现不同的东西并处理你的不同部分具有不同控制器和数据的应用程序。我想对你来说最好的主意是让你的登录页面分开。我在我的项目中这样做了。

编辑：对于身份验证部分，如果您希望通过 Angular 实现身份验证，您可能需要检查[这个](https://github.com/witoldsz/angular-http-auth)。

# html - 与浮动和宽度有关

> ID：12793610
> 
> 赞同：3
> 
> 时间：2012-10-09T05:53:58.883
> 
> 标签：html, css

我有一个侧边栏和一个内容区。我只是将侧边栏浮动到左侧，将内容区域浮动到右侧。但是当屏幕尺寸改变时我有问题。两个花车之间有很大的空间。我认为这是由于内容区域中图像的大小以及它是向右浮动的。因此，我也将这个内容区域浮动到了左侧。现在内容区域没有延伸到屏幕的最右端。有什么方法可以将内容区域放置在正确的部分而没有任何空间（只需划分侧边栏和内容区域的空间就足够了）？

如果您需要更多解释，请告诉我。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-09T06:25:25.790

Change your CSS to this:

```
.dashContent {
     float: left;
     margin: 10px;
     position: relative;
     top: 25px;
     min-width: 80%;
}

.sidebarDash {
    float: left;
    height: auto;
    width: 195px;
} 
```

~~This will remove the space and also retain fluidity in the layout~~ - Removed as the OP wants a fixed layout

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-09T06:06:57.760

放置`.sidebarDash`并`adsolute position`给出`padding-left`与侧边栏宽度相同的位置`.dashContent`

将这两个包装在一个主 DIV 中：

```
<div class="dashContainer">

  <div class="sidebarDash"></div>
  <div class="dashContent"></div>

</div> <!-- Clears the float with CSS --> 
```

CSS -

```
.dashContainer{ overflow: hidden; position: relative }
.sidebarDash { position: absolute; left: 0; top: 0; width: 200px; }
.dashContent { padding: 0 0 0 210px; } 
```

jQuery -

将此插入`<head>`文档的部分 -

```
<script src="http://code.jquery.com/jquery-1.8.0.min.js"></script>

<script type="text/javascript">
  $(function(){
    var sidebarHeight = $('.sidebarDash').height(); 
    $('.dashContainer').css('min-height', sidebarHeight);
  })
</script> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-09T06:24:08.457

而不是使用 float:right 使用 float:left 让两个 div 保持在一起，看看这个 fiddle

[http://jsfiddle.net/FZZnk/](http://jsfiddle.net/FZZnk/)

让我知道这是否能解决您的问题

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-09T06:30:45.163

首先，您需要对所有 div 宽度使用百分比。其次，您可以使两者浮动到同一侧（右侧或左侧），并使用边距或百分比填充以在这些 div 之间留出空间。

```
.dashContainer{ overflow: hidden; width: 100%; }
.sidebarDash { float: left; width: 20%; }
.dashContent { float: left; width: 80%; } 
```

现在，因为您的左侧栏具有固定宽度和向左浮动，您可以这样做：删除右侧浮动，并在侧栏的大小处添加 margin-left。并且不要忘记将 div 设置为 width: 100%。

```
.dashContent {
    float: right;
    margin-left: 210px;
    position: relative;
    top: 25px;
    width: 100%; } 
```

# iphone - 核心数据 - 查找具有重叠日期范围的记录

> ID：12793618
> 
> 赞同：2
> 
> 时间：2012-10-09T05:54:59.877
> 
> 标签：iphone, ios, core-data

我正在开发一个带有 Core Data 的 iOS 应用程序，用于跟踪培训课程和相关数据的安排。我的模型（SIMCourse）有两个属性 - **startDate**和**endDate**是 NSDate 对象。到目前为止，一切都很好。

我现在正在努力添加一项功能，以防止同时安排两门课程。因此，当我创建一个新的 SIMCourse 时，我想检查它的日期范围是否与任何其他现有 SIMCourse 的日期范围重叠。换句话说，如果我的新课程在 1 月 1 日至 3 日开课，而我现有的课程在 1 月 2 日至 4 日开课，那显然是冲突。

我知道我可以在我的数据存储中获取所有 SIMCourse 对象并遍历它们，但我完全不相信这是最好的方法。谁能帮我指出正确的方向？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-10-09T16:54:04.193

`(newStartDate, newEndDate)``(startDate, endDate)`与if重叠

```
(newStartDate <= endDate) && (startDate <= newEndDate) 
```

（这几乎是@Bergasms 的建议，但不完全是。如果我在这里弄错了，应该归功于他。）

您可以使用以下获取请求来检查重叠课程：

```
NSDate *newStartDate = ...;
NSDate *newEndDate = ...;

NSFetchRequest *request = [NSFetchRequest fetchRequestWithEntityName:@"SIMCourse"];
NSPredicate *predicate = [NSPredicate predicateWithFormat:@"(%@ <= endDate) AND (startDate <= %@)",
                                      newStartDate, newEndDate];
request.predicate = predicate;
NSArray *results = [context executeFetchRequest:request error:&error];
if (error == nil) {
    // handle error
} else if (results.count == 0) {
    // no overlapping entries
} else {
    //overlapping entries in results array
} 
```

我在这里假设如果一门课程的结束日期等于另一门课程的开始日期，则两门课程重叠。如果此类间隔不被视为“重叠”，则可以在谓词中替换`<=`为。`<`

# ruby-on-rails-3 - 错误未知数据库：覆盖heroku应用程序中的DATABASE_URL后的DATABASE_URL

> ID：12793621
> 
> 赞同：2
> 
> 时间：2012-10-09T05:55:10.627
> 
> 标签：ruby-on-rails-3, heroku, postgresql-9.1

我正在尝试将两个 Heroku 应用程序连接到一个数据库。所以我覆盖了 DATABASE_URL。现在heroku配置为：

```
=== muse-me Config Vars
DATABASE_URL:                postgres://rbbcoxizviewiu:taJsBZf...
GEM_PATH:                    vendor/bundle/ruby/1.9.1
HEROKU_POSTGRESQL_OLIVE_URL: postgres://jnlltenwyvmdup:Q5Doaw...
LANG:                        en_US.UTF-8
PATH:                        bin:vendor/bundle/ruby/1.9.1/bin:/usr/local/bin:/usr/bin:/bin
RACK_ENV:                    production
RAILS_ENV:                   production 
```

然后我跑

```
heroku pg:psql DATABASE_URL 
```

它给了我一个错误：

```
!    Unknown database: DATABASE_URL. Valid options are: HEROKU_POSTGRESQL_OLIVE_URL 
```

我应该怎么办？我真的用 DATABASE_URL 连接到数据库吗？

谢谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-09T23:16:12.610

“DATABASE_URL”只是“HEROKU_POSTGRESQL_OLIVE_URL”的占位符。如果你运行：

```
heroku pg:psql HEROKU_POSTGRESQL_OLIVE_URL 
```

这应该有效，因为您明确告诉 pg 要使用哪个数据库 url。为了能够在不指定数据库的情况下使用该命令，您需要将其提升为您的主数据库：

```
heroku pg:promote HEROKU_POSTGRESQL_OLIVE_URL
heroku pg:psql 
```

有关提升的更多信息位于此处：[https ://devcenter.heroku.com/articles/heroku-postgresql#pgpromote](https://devcenter.heroku.com/articles/heroku-postgresql#pgpromote)

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-10-09T12:11:13.337

跑步时

```
heroku pg:psql DATABASE_URL 
```

heroku 尝试连接到 URL：DATABASE_URL，它显然不存在，它确实读取了 ENV var DATABASE_URL

因此，如果您在应用程序的文件夹中，只需运行

```
heroku pg:psql 
```

就足够了，否则，你可以指定应用程序

```
heroku pg:psql --app <YOUR_APP> 
```

然后 heroku 将从它正在连接的应用程序中读取 DATABASE_URL 变量。

# facebook - Facebook个人资料图片不显示，它显示一个问号图标

> ID：12793622
> 
> 赞同：2
> 
> 时间：2012-10-09T05:55:14.833
> 
> 标签：facebook, facebook-graph-api, unity3d, prime31

你有什么主意吗？我正在使用 Unity IDE 和 C# 开发应用程序。此外，我正在使用社交网络 prime31 作为我的 Facebook 插件。我能够获取所有图表并将其显示在我的屏幕应用程序中，但从上周开始它没有显示个人资料图片和我朋友的图片，它只显示一个简单的问号。你对此有什么想法吗？

但我能够显示用户名和我朋友的用户名。我的应用令牌正在工作，我正在使用 JSON 数据从 Facebook URL 获取数据。

```
void Start()
{
    getFB_ID();
}

void getFB_ID()
{
    Facebook.instance.graphRequest( "me/", HTTPVerb.GET, ( error, obj ) =>
    {

        var ht = obj as Hashtable;
        userId = ht["id"].ToString();

        Debug.Log( "USER ID: " + userId);

        string url = "http://graph.facebook.com/"+userId+"?fields=id,name,picture";
        StartCoroutine(getURL(url));

     });

}

IEnumerator getURL(string url) 
{

    WWW www = new WWW(url);
    yield return www;
    Debug.Log ("Heres the URL you are accessing:  " + url);

    ProfilePicDisplay(www.text);

public void ProfilePicDisplay(string jsonString)
{
        JsonData jsonProfilePic = JsonMapper.ToObject(jsonString);
        ConverterScript fbprofilepic;

        MyPicture = new ArrayList();

    {
        fbprofilepic = new ConverterScript();
        fbprofilepic.name = jsonProfilePic["name"].ToString();
        fbprofilepic.picture = jsonProfilePic["picture"].ToString();

        LoadProfilePic(fbprofilepic);

        MyPicture.Add(fbprofilepic.name);
    }

}

private void LoadProfilePic(ConverterScript profile)
{
    string ProfilePic = "userAvatar";
    GameObject profile_pic_holder = GameObject.Find(ProfilePic);
    profile_pic_holder.SendMessage("LoadImage", profile);
} 
```

能够在我的日志中获取数据，但问题是它没有加载图像，它说：

您正在尝试从下载时出现以下错误的 www 流加载数据。无法解析主机：JsonData 对象（未找到域名）

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-10T02:12:28.493

截至上周，10 月 3 日，详细信息如下：[https ://developers.facebook.com/blog/post/2012/10/03/platform-updates--operation-developer-love/](https://developers.facebook.com/blog/post/2012/10/03/platform-updates--operation-developer-love/)

图片端点不再返回字符串中的图片 URL。它返回一个字典，你必须改变你的解析才能得到它。所以返回的数据会更像这样：

```
{
  "id": "1234567", 
  "name": "Your Name", 
  "picture": {
    "data": {
      "url": "https://fbcdn-profile-a.akamaihd.net/hprofile-ak-prn1/your_picture.jpg", 
      "is_silhouette": false
    }
  }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-06-20T11:39:47.930

在最新的[LeanLoader](http://t.co/wNjGruD7Ek)中，对提到的新实现的 Facebook 端点 abernathy 有一个自动修复，它允许您直接加载图像（所有 json 解析和引擎处理的其他数据）。您可以像这样轻松加载个人资料图像：

```
function Start () {
    LeanLoader.load("https://graph.facebook.com/DentedPixel/picture?type=large&redirect=false", LLOptions().setOnLoad(onImageLoaded));
}

private function onImageLoaded( tex:Texture2D ){
    Debug.Log("Your image texture ready to use! :"+tex);
} 
```

[我认为LeanLoader](http://t.co/wNjGruD7Ek)还有许多其他功能对人们很有帮助（包括图像/文本/声音的缓存和内置的 JSON 解析器）。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2021-05-05T13:30:05.333

试试这个-fb sdk version-9.1.0

FB.API("/me/picture?type=large", HttpMethod.GET, DisplayProfilePic);// API调用

```
void DisplayProfilePic(IGraphResult result)

{
    Image profilePic;
    if (result.Texture != null)
    {
        profilePic = image1; // diplaying image
        profilePic.sprite = Sprite.Create(result.Texture, new Rect(0, 0, result.Texture.width, result.Texture.height), new Vector2());
    }
} 
```

# c# - 如何在sqlite连接时设置属性类，从Windows存储c#/xaml应用程序中的多个表返回数据

> ID：12793623
> 
> 赞同：2
> 
> 时间：2012-10-09T05:55:13.343
> 
> 标签：c#, sqlite, properties, microsoft-metro, windows-runtime

我已阅读[此](https://stackoverflow.com/questions/12234687/sqlite-join-in-windows-8-metro-c-sharp-with-sqlite-net)答案。它告诉*创建一个与您返回的数据结构相匹配的类*。所以我做了一个这样的课

```
public class PersonJob
{
    public Person person { get; set; }

    public Job job { get; set; }
}

var data = db.Query<PersonJob>("SELECT * FROM Person, Job WHERE Person.JobID = Job.ID"); 
```

所以结果数据有结果但属性`person`为`job`空。`Person`我的文本块与和`Job`类的属性绑定。请给我适当的建议。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-09T06:43:39.637

该查询在单个表中返回多个列。如果`Person`表有列`ID`、`Name`和`JobID`，并且`Jobs`表有列`ID`、 和`Description`，则结果将如下所示：

```
ID Name     JobID ID Description
-- -------- ----- -- -------------
 1 John Doe    10 10 Bottle Washer
 2 Jane Roe    10 10 Bottle Washer
 3 Xyroid      11 11 CEO 
```

因此，您需要使用这五个字段创建一个类。

为避免重复的字段或字段名称，并使其即使在以后扩展表时也能正常工作，您应该在`SELECT`语句中列出您需要的字段：

```
SELECT Person.ID AS PersonID, Person.Name, Job.ID AS JobID, Job.Description
FROM Person INNER JOIN Job ON Person.JobID = Job.ID 
```

这将需要这样的类：

```
class PersonWithJob
{
    public int PersonID ...
    public string Name ...
    public int JobID ...
    public string Description ...
} 
```

# android - 如何创建带有符号的自定义键盘？

> ID：12793630
> 
> 赞同：0
> 
> 时间：2012-10-09T05:56:03.453
> 
> 标签：android, keyboard

如何使用 (%,&,(,),@,..) 等符号创建自定义键盘？而且我想在自定义键盘中添加数字和字母..

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-04T07:11:09.323

这个 [DEMO](http://code.google.com/p/extkeyboardremapper/source/checkout) 是给你你的解决方案。这是svn项目的链接。如果您在 Eclipse 中配置了 svn，请输入此链接：- [http://extkeyboardremapper.googlecode.com/svn/trunk](http://extkeyboardremapper.googlecode.com/svn/trunk)。

如果你没有 Svn 连接，你可以从[这里获取项目](https://github.com/zeuxisoo/android-emoji-keyboard)

# php - 我的javascript冻结了屏幕，没有错误，只是导航器不起作用

> ID：12793637
> 
> 赞同：0
> 
> 时间：2012-10-09T05:56:44.487
> 
> 标签：php, javascript, field, freeze, allocation

我的脚本遇到了麻烦，这个脚本应该为不同的字段分配一个数量。

其实这里是脚本，jsfiddle之后我会给你。

```
 <script type="text/javascript">
function getItems()
 {
 var items = new Array();
 var itemCount = document.getElementsByClassName("items");

 for(var i = 0; i < itemCount.length; i++)
 {
     items[i] = document.getElementById("p"+(i+1)).value;
 }

 return items;
 }

 function setItems(items,payAmt)
 {
   //document.getElementById("troppercu").value = payAmt;
   for(var i = 0; i < items.length; i++)
   {
      document.getElementById("p" + (i+1)).value = items[i];
   }
 }

 function itemSum(items)
 {
var sum = 0;

for(var i=0; i < items.length; i++)
{
    sum = items[i] + sum;
}

return sum;
 }

 function payment(inputElm)
 {
 var items = getItems();
 var payAmt = document.getElementById("montantacompte").value;
 var i = 0;
 var sum = itemSum(items);

 while(payAmt != 0 && sum != 0)
 {
     var temp = items[i] - payAmt;
     if(temp > 0)
     {
         items[i] = Math.round((temp)*100)/100;
         break;
     }
     else if(temp < 0)
     {
         items[i] = 0;
         payAmt = temp*-1;
      }
     i++;
     sum = itemSum(items);
 }

  setItems(items, payAmt);

 }
</script> 
```

所以我有一个输入，我可以在其中写一个金额，这个金额将分配到不同的字段上。

实际上，问题是当我输入与本金相同的金额时，它会冻结屏幕。如果我写相同的金额 + 1 美分，它不会冻结。

字段上的所有信息都来自我的数据库。这是用 PHP 和 MySQL 编写的。

[http://jsfiddle.net/ywAU3/](http://jsfiddle.net/ywAU3/)

当您写入与本金相同的数量时，问题就来了，因此在这种情况下，如果您在黄色框中输入 3654.58，它会冻结屏幕我真的不明白为什么，事实上，它不应该，因为如果我写 3654.59所有的作品，如果我写更多，它也有效。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-09T06:33:54.160

您传递给此函数的值是字符串，而不是数字

```
function itemSum(items){
    var sum = 0;

    for(var i=0; i < items.length; i++){
        sum = items[i] + sum;
    }
    return sum;
} 
```

'sum' 的值变成了一个长串连接的集合，而不是数字。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-09T06:28:42.357

问题出在while循环中，

你有

```
if(temp > 0) 
```

和

```
else if(temp < 0) 
```

但是如果

```
temp=0 
```

这会导致你的 while 循环永远工作......我包括 temp = 0 案例，然后代码工作正常：http: [//jsfiddle.net/ywAU3/2/](http://jsfiddle.net/ywAU3/2/)

# algorithm - 日历计算算法

> ID：12793639
> 
> 赞同：0
> 
> 时间：2012-10-09T05:56:46.113
> 
> 标签：algorithm, logic

面试题之一。。

如果

```
1st january 2006 --> Sunday 
```

然后

```
1st january 2010 --> ??? 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-09T06:11:24.027

为每个非闰年添加 1 天，为每个闰年添加 2 天，无论该值 mod 7 是什么。最后在给定日期添加该天数。例如。

```
2007=1 day

2008=2 days

2009=1 day

2010=1 day 
```

所以总`5`天数和星期天`5 % 7=5` 加`5`天，所以你会得到`Friday`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-09T06:02:11.770

2006 年不是闰年，它有 365 天。

2007 年有 365 天。

2008年是闰年，有366天。

2009 年，365 天。

所以两个日期相差 365+365+366+365==1461 天。

一周有 7 天，1461 mod 7 是 5，星期日之后的 5 天是星期五。

所以答案是星期五。

# c# - WPF中取消加载文件操作失败

> ID：12793640
> 
> 赞同：0
> 
> 时间：2012-10-09T05:56:55.817
> 
> 标签：c#, wpf, streamreader, fileopendialog

我很抱歉这个奇怪的标题。我正在开发一个 WPF 应用程序，我应该通过单击按钮从系统加载文本文件并读取文件的内容并在文本框中显示文本文件的内容。

我做了以下事情：

**XAMl:**

```
<TextBox Grid.Column="2" Text="{Binding Path=WriteMessage, Mode=TwoWay}" Name="MessageWrite" />
<Button Content="Load" Command="{Binding Path=LoadFileCommand}" Name="button8" /> 
```

**视图模型类：**

```
 // Method gets called when LOAD Button is Clicked
    private void ExecuteLoadFileDialog()
    {
        FileReader mFile = new FileReader(); // Its a Class Which Reads The File

        var dialog = new OpenFileDialog { InitialDirectory = _defaultPath };
        dialog.ShowDialog();
        dialog.DefaultExt = ".txt";
        dialog.Filter = "Text Files(*.txt)|*.txt|All(*.*)|*";
        string path;
        path = dialog.FileName;

        using (StreamReader sr = new StreamReader(path)) 
        {
            WriteMessage = sr.ReadToEnd();
        }            
    } 
```

**文件阅读器类：**

```
class FileReader : I2CViewModel.IFileReader
{
    public string Read(string filePath)
    {
        byte[] fileBytes = File.ReadAllBytes(filePath);
        StringBuilder sb = new StringBuilder();
        foreach (byte b in fileBytes)
        {
            sb.Append(Convert.ToString(b, 2).PadLeft(8, '0'));
        }
        return sb.ToString();
    }
} 
```

我在这里面临的问题是，当我单击加载按钮时，它会打开一个文件对话框，但它会显示所有文件，而不仅仅是显示 .Txt 文件。如何确保只有 .txt 文件可见？

其次，当我单击按钮时，会弹出对话框，如果单击取消按钮，应用程序会崩溃并显示“**空路径名不合法**”。这是指向`using (StreamReader sr = new StreamReader(path))`

我怎样才能清除这些问题？:)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-09T06:05:57.273

两件快速的事情：

您在显示对话框后设置过滤器，从而使过滤器无用

您应该在 if 上包装 using 块以查看用户是否取消了操作（对话框的 FileName 属性保持为空）并将 readToEnd 调用包装在 try - catch 块上以防万一

这些是我的快速 2 美分

# php - 在 codeigniter 1.7.2 中将数据从模型发送到控制器

> ID：12793643
> 
> 赞同：0
> 
> 时间：2012-10-09T05:57:05.597
> 
> 标签：php, facebook, codeigniter

我`$fb_data[uid]`从我的模型中接收 ie Facebook UID，我想将此变量的值放入我的控制器中，在控制器中进行注册过程，传递控制器中的字段，如下所示：

```
$sql_data = array('student_fname' => $student_fname, 'student_sname' => $student_sname, 'student_org' => $student_org, 'student_title' => $student_title, 'student_uid' => ? 
```

我很困惑如何在我的控制器中插入 Facebook UID 值。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-09T06:03:31.940

你需要在你的模型中有一个函数返回你的`$fb_data`. 在控制器中，您已经（如果尚未完成）加载模型

```
$this->load->model('model_name'); 
```

然后你可以通过调用从控制器访问你的模型函数

```
$this->model_name->function_name(); 
```

[CI 文档](http://codeigniter.com/user_guide/general/models.html)中的“加载模型”部分再次解释了它。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-09T06:09:12.900

这样做：

首先在控制器中创建一个方法：

例如：在控制器中

```
function fbcontent() {
$this->load->model('your model name');
$content = $this->model_name->fbaction();
} 
```

和在模型中

```
function fbaction(){
$sql_data = array('student_fname' => $student_fname, 'student_sname' => $student_sname, 'student_org' => $student_org, 'student_title' => $student_title, 'student_uid' => ?
return $sql_data;
} 
```

# .net - OpenXml 有什么更好的选择吗？

> ID：12793644
> 
> 赞同：0
> 
> 时间：2012-10-09T05:57:06.160
> 
> 标签：.net, sql, stored-procedures, openxml

我必须将 xml 内容（事务 xml）切碎成大约 7 个表。我想到的方法是

a) 单SP，使用OPENXML，遍历xml内容，更新需要的表。b) 在 Xdoc 中加载 xml 并创建实体对象并更新所需的表。

XML 规模很大，大约有 1000 多个节点。

以上两种方法中哪个是最好的方法？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-09T06:11:28.900

SQL Server 从 2005 版开始就有[XQuery](http://msdn.microsoft.com/en-us/library/ms345122%28v=sql.90%29.aspx)。这是当今使用 XML 的首选方式，并且已经存在很长时间了。

OpenXML 有很多限制和问题，其中一个最大的问题是当您没有正确处理句柄时可能会发生内存泄漏。

只需选择一个 StackOverflow 示例问题和一个 Google 结果：

*   [https://stackoverflow.com/questions/966441/xml-query-in-sql-server-2008](https://stackoverflow.com/questions/966441/xml-query-in-sql-server-2008)
*   [在 SQL Server 2005 中使用 XQuery 分解 XML 数据](http://www.techrepublic.com/article/shred...xquery...sql-server.../6140404)

# directx - 索引缓冲区，它们是如何工作的？

> ID：12793645
> 
> 赞同：1
> 
> 时间：2012-10-09T05:57:20.957
> 
> 标签：directx

我正在尝试找出索引缓冲区。我阅读了 MSDN 和关于它的另一个线程 [ [Struggling With Vertex And Index Buffers In Direct3D](https://stackoverflow.com/questions/4887530) ]。

我以为我明白了，但在实践中，我无法让它发挥作用。我试图做一个正方形。

我有6个顶点：

```
 SimpleVertex vertices[]={ // {Position, Color}
        {XMFLOAT3(-0.5f, 0.5f, 0.5f), XMFLOAT4(0.8f, 0.2f, 6.0f, 1.0f)}, // top left
        {XMFLOAT3(0.5f, -0.5f, 0.5f), XMFLOAT4(0.8f, 0.2f, 6.0f, 1.0f)}, // bottom right
        {XMFLOAT3(-0.5f, -0.5f, 0.5f), XMFLOAT4(0.8f, 0.2f, 6.0f, 1.0f)}, // bottom left

        {XMFLOAT3(-0.5f, 0.5f, 0.5f), XMFLOAT4(0.8f, 0.2f, 6.0f, 1.0f)}, // top left
        {XMFLOAT3(0.5f, 0.5f, 0.5f), XMFLOAT4(0.8f, 0.2f, 6.0f, 1.0f)}, // top right
        {XMFLOAT3(0.5f, -0.5f, 0.5f), XMFLOAT4(0.8f, 0.2f, 6.0f, 1.0f)}, // bottom right
    }; 
```

& 一个索引数组：

```
 unsigned short indices[]={
        0,3,2, // a d c
        0,1,3, // a b d

        // a---b
        // | \ |
        // c---d
    } 
```

但这没有显示任何内容。如果我将索引更改为 0、1、2、3、4、5，它会起作用 [虽然打败了索引的要点]。

有人知道我对索引的看法有什么问题吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-09T06:18:41.283

哎呀，在我发布后花了我一段时间来找出我的问题。

1] 我列出了顶点，就好像我要手动绘制它一样。我应该只有 4 个顶点 [不是 6]。索引连接点；第一个 3 个索引构成第一个三角形，第二个 3 个构成第二个三角形。

2]我认为索引数组中的数字代表我想象的形状的边[不确定它是如何工作的：P]。它们实际上代表顶点数组中的位置。

希望这对其他人有帮助。

# android - AndroidManifest.xml：文档中根元素之前的标记必须格式正确

> ID：12793647
> 
> 赞同：1
> 
> 时间：2012-10-09T05:57:30.457
> 
> 标签：android

我无法解决问题。我在 xml 中有两个清单标签。我收到以下错误：

> **AndroidManifest.xml：文档中根元素之前的标记必须格式正确。**

我已经搜索了错误并得到了一个解决方案，即代码中有两个清单标记。如果是由于 2 个清单标记，我应该评论吗？还是由于其他原因？

这是我的 androidmanifest.xml

```
<<<<<<< Original

<?xml version="1.0" encoding="utf-8"?>
<manifest xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:tools="http://schemas.android.com/tools"
    package="com.github.andlyticsproject"
    android:installLocation="auto"
    android:versionCode="217"
    android:versionName="2.2.3" >

    <uses-permission android:name="android.permission.INTERNET" />
    <uses-permission android:name="android.permission.ACCESS_NETWORK_STATE" />
    <uses-permission android:name="android.permission.GET_ACCOUNTS" />
    <uses-permission android:name="android.permission.USE_CREDENTIALS" />
    <uses-permission android:name="android.permission.MANAGE_ACCOUNTS" />
    <uses-permission android:name="android.permission.AUTHENTICATE_ACCOUNTS" />
    <uses-permission android:name="android.permission.READ_SYNC_SETTINGS" />
    <uses-permission android:name="android.permission.WRITE_SYNC_SETTINGS" />
    <uses-permission android:name="android.permission.READ_SYNC_STATS" />
    <uses-permission android:name="android.permission.WRITE_SYNC_STATS" />
    <uses-permission android:name="android.permission.WRITE_EXTERNAL_STORAGE" />
    <uses-permission android:name="android.permission.VIBRATE" />

    <uses-sdk
        android:minSdkVersion="7"
        android:targetSdkVersion="16" />

    <application
        android:name="AndlyticsApp"
        android:allowBackup="true"
        android:icon="@drawable/icon"
        android:label="@string/app_name"
        android:theme="@style/Theme.Andlytics" >
        <activity
            android:name=".LoginActivity"
            android:label="@string/app_name" >
            <intent-filter>
                <action android:name="android.intent.action.MAIN" />

                <category android:name="android.intent.category.LAUNCHER" />
            </intent-filter>
        </activity>
        <activity
            android:name=".Main"
            android:label="@string/app_name"
            android:uiOptions="splitActionBarWhenNarrow" >
        </activity>
        <activity
            android:name=".CommentsActivity"
            android:label="@string/comments" >
        </activity>
        <activity
            android:name=".ChartActivity"
            android:label="@string/app_name" >
        </activity>
        <activity
            android:name=".AdmobActivity"
            android:label="@string/app_name_admob" >
        </activity>
        <activity
            android:name=".AdmobAuthenticatorActivity"
            android:excludeFromRecents="true"
            android:label="@string/app_name_admob"
            android:theme="@android:style/Theme.Dialog" />
        <activity
            android:name=".PreferenceActivity"
            android:label="@string/preferences" >
        </activity>
        <activity
            android:name=".NotificationPreferenceActivity"
            android:label="@string/notifications" >
        </activity>
        <activity
            android:name=".AccountSpecificPreferenceActivity"
            android:label="@string/notifications" >
        </activity>
        <activity
            android:name=".ImportActivity"
            android:label="@string/statistics_import"
            tools:ignore="ExportedActivity" >
            <intent-filter>
                <action android:name="android.intent.action.VIEW" />

                <category android:name="android.intent.category.DEFAULT" />

                <data
                    android:host="*"
                    android:mimeType="application/zip"
                    android:pathPattern="andlytics\\.zip"
                    android:scheme="file" />
            </intent-filter>
            <!-- intent-filter android:priority="-100" -->
            <intent-filter>
                <action android:name="android.intent.action.VIEW" />

                <category android:name="android.intent.category.DEFAULT" />

                <data
                    android:mimeType="application/zip"
                    android:scheme="file" />
            </intent-filter>
        </activity>
        <activity
            android:name=".ExportActivity"
            android:label="@string/statistics_export" >
        </activity>

        <service
            android:name=".sync.SyncAdapterService"
            android:exported="false"
            android:process=":andlytics" >
            <intent-filter>
                <action android:name="android.content.SyncAdapter" />
            </intent-filter>

            <meta-data
                android:name="android.content.SyncAdapter"
                android:resource="@xml/sync" />
        </service>
        <service
            android:name=".admob.AdmobAccountAuthenticator"
            android:exported="false" >
            <intent-filter>
                <action android:name="android.accounts.AccountAuthenticator" />
            </intent-filter>

            <meta-data
                android:name="android.accounts.AccountAuthenticator"
                android:resource="@xml/authenticator" />
        </service>
        <service
            android:name=".io.ExportService"
            android:exported="false" />
        <service
            android:name=".io.ImportService"
            android:exported="false" />

        <provider
            android:name="com.github.andlyticsproject.sync.ContentProvider"
            android:authorities="com.github.andlyticsproject"
            android:exported="false" />
        <provider
            android:name="com.github.andlyticsproject.db.AndlyticsContentProvider"
            android:authorities="com.github.andlyticsproject.db.AndlyticsContentProvider"
            android:exported="false" />

        <receiver
            android:name="com.github.andlyticsproject.sync.AlarmReceiver"
            android:exported="false"
            android:process=":remote" >
        </receiver>
    </application>

</manifest>
=======

<manifest xmlns:android="http://schemas.android.com/apk/res/android" >

    <application>
        <activity
            android:name=".LoginActivity"
            android:label="@string/title_activity_login" >
            <intent-filter>
                <action android:name="android.intent.action.MAIN" />

                <category android:name="android.intent.category.LAUNCHER" />
            </intent-filter>
        </activity>
    </application>

</manifest>

>>>>>>> Added 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-09T06:01:14.220

您的版本控制系统在文件（`<<<<<<<`和`>>>>>>>`标签）中标记了冲突。您必须先解决冲突，然后才能使用该文件。（工具链抱怨，因为 VCS 标签是非法的 XML 语法）。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-09T06:02:04.653

评论第二个清单标签。应该只有一个清单标签。

# c++ - 模棱两可的类继承

> ID：12793651
> 
> 赞同：5
> 
> 时间：2012-10-09T05:58:02.343
> 
> 标签：c++, class, inheritance, multiple-inheritance, ambiguous

```
#include <iostream>
#include <cmath>
using namespace std;
class Tcirculo{
        float radio;
        float diametro;
        float area;
public:
        void carea(float r){radio= r; area=(M_PI*((r*r)));}
        float cdiam(float r) {diametro = 2*r; return diametro;}
        float getr(){return radio;}
        float getd(){return diametro;}
        float geta(){return area;}

};

class Trectangulo : public Tcirculo{
        float altura;
public:
        float calca(float h, float r){altura =h;
        float arearec = getd() * h; return arearec;}
};

class Tcilindro :  public Tcirculo ,Trectangulo{
        float xx,bb;
public:
        Tcilindro(float a, float b) {xx=a;bb=b;}
        float area_total();
};

float Tcilindro::area_total(){
        int area;
        area = ((2*((getd())))+calca(bb,xx));
        return area;
}
int main(int argc, char *argv[]) {

        return 0;
} 
```

但问题是：

```
warning: direct base 'Tcirculo' inaccessible in 'Tcilindro' due to ambiguity 
```

在成员函数中`'float Tcilindro::area_total()':`

```
error: reference to 'geta' is ambiguous
error: candidates are: float Tcirculo::geta()
error:                 float Tcirculo::geta()
error: reference to 'geta' is ambiguous
error: candidates are: float Tcirculo::geta()
error:                 float Tcirculo::geta() 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-09T06:03:20.490

不需要从 派生，`Tcilindro`从`Tcirculo`派生就足够了`Trectangulo`。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-09T06:03:25.090

这些问题是因为具有相同基类的多重继承。在您的示例中，类`Tcilindro`继承自`Trectangulo`并且`Tcirculo`已经`Trectangulo`派生自`Tcirculo`并且`Tcilindro`具有相同函数的双重定义。您只需要在`Tcirculo`此处省略类即可消除继承函数的歧义。

# c - 如何从 IP 数据包的不同字段计算哈希值

> ID：12793653
> 
> 赞同：1
> 
> 时间：2012-10-09T05:58:03.440
> 
> 标签：c, ipv6

我需要实现一个哈希表来维护 IP 数据包。但是，由于数据包的唯一性，我无法使用单个元素（例如 IP 地址）来制作哈希键。以下是数据包中负责使数据包唯一的元素：

1.  源 IP 地址（16 字节字符串，由于 IPv6 格式）
2.  源端口（2 字节）
3.  目的IP地址（又是16字节）
4.  目的端口（2 字节） 5\. id1（1 字节）

我知道，如果有一个元素来计算哈希值，可以使用任何已知的算法，如 MD5 等来完成。我的问题是，在哈希值计算的过程中，如何包含上述多个元素？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-23T10:35:13.303

你提到你知道如何散列单个元素的情况。

然后，您可以将所有列出的元素放入/复制/连接到单个缓冲区（例如大小为 16+2+16+2+1 的无符号字符数组），然后将此缓冲区视为单个元素。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-23T11:14:02.417

创建一个有效的哈希；首先确定要用于查找的数据。例如，如果您要搜索从某个 IP 地址发送的所有数据包，那么您只想使用“源 IP 地址”（并且您不想使用源 IP 地址和源端口，因为这意味着您必须进行 65536 次搜索才能找到从某个 IP 地址发送的所有数据包）。

下一步是确定最有效的哈希大小。这往往取决于数据量和 CPU 缓存的大小。如果散列大小太小（例如 8 位），那么您最终会得到每个散列的长条目列表（这会增加查找任何内容的时间）；如果散列大小太大（例如 24 位），那么在尝试查找散列条目列表时，您会经常出现缓存未命中。

请注意，您也可以有多个级别。例如，如果您要搜索来自特定端口和 IP 地址的数据包；然后您可以单独使用 IP 地址创建一个哈希表，用于查找第二个哈希表；然后使用该端口创建与第二个哈希表一起使用的不同哈希。

一旦你决定了你需要为哈希和哈希大小使用什么信息；下一步是确定如何以最小化冲突的方式计算哈希。此计算需要快速 - 您不希望尝试阻止少量开销的大量开销（并且使用像 MD5 这样复杂的东西将是一个坏主意）。通常，像“XOR 和移位”这样的简单方法既快速又有效。例如，对于一个 16 字节的 IP 地址和 16 位哈希，您可能只需要执行`hash ^= (hash << 3) | next_pair_of_bytes;`8 次。

最后，你想调整它。大多数情况下，您想调整散列大小并尝试一些不同的散列计算，看看它是否能提高性能。以上所有内容都依赖于对数据和缓存大小的假设，而这些假设在实践中可能是错误的。例如，也许大多数数据包都来自一个 IP 地址，而在哈希中使用 IP 地址是浪费时间；也许程序的其他部分正在消耗大量缓存，并且尝试将缓存未命中率降至最低是一个坏主意（并且更大的散列可能会提高性能）；也许没有你想象的那么多数据，你也没有遇到很多哈希冲突，减少哈希大小可以提高性能；等等

# ruby-on-rails - Rails - 如何通过 user_id 查询 5 个不同表中的记录

> ID：12793657
> 
> 赞同：2
> 
> 时间：2012-10-09T05:58:23.963
> 
> 标签：ruby-on-rails, ruby, ruby-on-rails-3, activerecord

我有模型`UserVote`，，，等`Comment`，`Edit`所有这些都有一个`user_id`属性。我正在尝试创建一种最近活动的时间线，这让我分别查询我的所有 5 个模型并按日期时间排序。但是，对于具有大量活动的帐户，这 5 个查询需要很长时间才能执行。我想找到一种优化性能的方法，我认为结合 5 个查询可能会起作用。

我无法提出任何有效的查询来实现我想要的。

谢谢你的帮助！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-09T07:00:55.490

我认为评论中最好的建议来自 Steve Jorgensen，“我通常看到这是通过将记录添加到活动日志然后查询它来完成的。”。

如果您想将这个想法提升到一个新的水平，请查看 sphinx（为索引数据库内容而设计的搜索引擎）。您可以使用 thinksphinx - [http://freelancing-god.github.com/ts/en/](http://freelancing-god.github.com/ts/en/)轻松与 rails 集成。

此外，正如 Tim Peters 提出的，无论您如何解决这个问题，您都应该在所有 fkey 上都有索引 - [http://apidock.com/rails/ActiveRecord/ConnectionAdapters/SchemaStatements/add_index](http://apidock.com/rails/ActiveRecord/ConnectionAdapters/SchemaStatements/add_index)。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-09T12:04:22.317

我认为对这个问题使用多态关联是个好主意 - [http://guides.rubyonrails.org/association_basics.html#polymorphic-associations](http://guides.rubyonrails.org/association_basics.html#polymorphic-associations)

```
class TimeLine < ActiveRecord::Base
  belongs_to :timelineable, :polymorphic => true
end

class UserVote < ActiveRecord::Base
  has_many :time_lines, :as => :timelineable
end

class Comments < ActiveRecord::Base
  has_many :time_lines, :as => :timelineable
end 
```

现在您可以对 time_line 进行排序并访问相关资源。

# jquery-ui - 无法拖动 Flow Player

> ID：12793662
> 
> 赞同：1
> 
> 时间：2012-10-09T05:58:58.687
> 
> 标签：jquery-ui

我在我的网站中使用流播放器作为控件，播放视频时无法拖动播放器。

请帮我解决这个问题。

问候， 拉胡尔

# jquery - 单击外部时日历未关闭

> ID：12793663
> 
> 赞同：0
> 
> 时间：2012-10-09T05:59:14.090
> 
> 标签：jquery, ipad, datepicker, jquery-ui-datepicker

我有以下日期选择器代码：

```
$(".datepicker").datepicker({
        showOn: "button",
        buttonImage: "/Content/images/calendar.png",
        buttonImageOnly: true,
        buttonText:"Calendar",
        beforeShow: function (textbox, instance) {
            instance.dpDiv.css({
                marginTop: (-textbox.offsetHeight) + 'px',
                marginLeft: textbox.offsetWidth + 'px'
            });
        },
        minDate: 0
    }); 
```

当点击日历外部时，iPad 上的问题（在 Galaxy Tab 上一切正常）没有关闭。如何解决这个问题？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-09T10:35:34.353

尝试将 UIPicker 的属性设置为“setHidden:YES”

# iphone - 使用 JSON 字符串将使用 RestKit 的对象手动加载到核心数据中

> ID：12793668
> 
> 赞同：2
> 
> 时间：2012-10-09T06:00:12.233
> 
> 标签：iphone, ios, core-data, restkit

使用restkit（0.20）的开发分支，有没有办法将JSON字符串映射到核心数据对象存储？

[我知道在 0.10 中，本页](https://github.com/RestKit/RestKit/wiki/Object-mapping)底部描述的方法有效，但是在 restkit 0.20 中如何执行此操作？任何指导表示赞赏！谢谢！

```
id<RKParser> parser = [[RKParserRegistry sharedRegistry] parserForMIMEType:MIMEType];
id parsedData = [parser objectFromString:JSONString error:&error];

RKObjectMappingProvider* mappingProvider = [RKObjectManager sharedManager].mappingProvider;
RKObjectMapper* mapper = [RKObjectMapper mapperWithObject:parsedData mappingProvider:mappingProvider];
RKObjectMappingResult* result = [mapper performMapping]; 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-12-20T21:59:10.110

我昨天安装了 RESTKit v0.20.0pre4 并且对一个特殊情况有同样的需求。

这是我要映射的 JSON 字符串的示例：

```
{"info":"the sun is shining","detail":"in Bordeaux ~ 29 °C"} 
```

这就是我执行映射的方式。

```
- (InfoRESTMapped *)mapInfoFromJSONString:(NSString *) JSONString{

NSString* MIMEType = @"application/json";
NSError* error;

NSData *data = [JSONString dataUsingEncoding:NSUTF8StringEncoding];
id parsedData = [RKMIMETypeSerialization objectFromData:data MIMEType:MIMEType error:&error];
if (parsedData == nil && error) {
    //deal with error
}

RKObjectMapping *infoMapping = [RKObjectMapping requestMapping];
[infoMapping addAttributeMappingsFromDictionary:@{
 @"info": @"myInfo",
 @"detail": @"myDetail",
 }];

InfoRESTMapped *infoMapped = [[InfoRESTMapped alloc] init];
RKMappingOperation* mapper = [[RKMappingOperation alloc] initWithSourceObject:parsedData destinationObject:infoMapped mapping:infoMapping];
[mapper performMapping:&error];

return infoMapped;
} 
```

这些帖子使我找到了我建议的解决方案：

*   [https://github.com/RestKit/RestKit/issues/999](https://github.com/RestKit/RestKit/issues/999)

*   [https://groups.google.com/d/topic/restkit/M1d7WwcFBDA/discussion](https://groups.google.com/d/topic/restkit/M1d7WwcFBDA/discussion)

我希望它有所帮助。我想当最终版本发布时，其他一些会提供更好的解决方案（也有更好的文档......）。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2014-01-26T01:14:01.157

对于 Restkit 0.22，您可以使用此代码。这将返回一个 RKMappingResult，您可以在其中使用属性 .array 在映射后枚举对象。

```
- (RKMappingResult *)mapJSONStringWithString:(NSString *)jsonString
{
     RKMappingResult *result = nil;

     NSError* error;
     NSData *data = [jsonString dataUsingEncoding:NSUTF8StringEncoding];
     id parsedData = [RKMIMETypeSerialization objectFromData:data MIMEType:RKMIMETypeJSON error:&error];
     if (parsedData == nil && error) {
        NSLog(@"json mapping error");
     }

     NSDictionary *mappingsDictionary = @{@"":[CustomMappingClass getMappingForUsers]};

     ObjectClass *obj = [ObjectClass new];
     RKMapperOperation *mapper = [[RKMapperOperation alloc] initWithRepresentation:parsedData mappingsDictionary:mappingsDictionary];
     NSError *mappingError = nil;
     mapper.targetObject = obj;
     BOOL isMapped = [mapper execute:&mappingError];
     if (isMapped && !mappingError) {
         result = [mapper mappingResult];
     }

    return result;
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2018-04-27T22:36:33.933

使用 RestKit 将 JSON 导入核心数据存储的最直接方法记录在[自述](https://github.com/RestKit/RestKit/blob/master/README.md#generate-a-seed-database)文件“生成种子数据库”中

这是我用 Swift 写的：

```
if let persistentStore = RKManagedObjectStore.default().persistentStoreCoordinator.persistentStores.first {
    if let objectImporter = RKManagedObjectImporter.init(persistentStore: persistentStore) {
        let path = Bundle.main.path(forResource: jsonFile, ofType: "json")
        let mapping = SLTour.responseMapping()
        var error:NSError?
        objectImporter.importObjectsFromItem(atPath: path, with: mapping, keyPath: "data", error: &error)
        try objectImporter.finishImporting()
        objectImporter.logSeedingInfo()
    }
} 
```

希望这将使某人免于在未来数小时尝试解决此问题。

# c# - 如何在 Windows Phone 7 中更改图像的亮度

> ID：12793669
> 
> 赞同：0
> 
> 时间：2012-10-09T06:00:20.453
> 
> 标签：c#, windows-phone-7

如何在 WP7 中更改图像的亮度？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-09T07:42:23.333

您会发现`Image`继承`Opacity`自`UIElement`，只需将其更改为值 < 1.0

# c# - 如何在 WebGrid Helper 中编辑数据

> ID：12793670
> 
> 赞同：1
> 
> 时间：2012-10-09T06:00:21.893
> 
> 标签：c#, asp.net, .net, razor

我有一个包含很多产品的 WebGrid，我希望能够在相应的文本框上引发 textChanged 事件时编辑 Web 网格中每一行的数量并更新数据库中的 Cart 表。

但这甚至可以使用 WebGrid 吗？我还没有找到任何表明它可能的东西。我真的很感激任何帮助。

![在此处输入图像描述](../Images/2b5c7d81da8bba658182c5df4af96f9e.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-15T19:04:12.557

可以将更改事件附加到文本框。

我将网格设置如下：

```
@grid.GetHtml(
   htmlAttributes: new { cellspacing = "2px", cellpadding = "2px" },
   columns: grid.Columns(
      grid.Column("Id"),
      grid.Column("Description"),
      grid.Column("PacketQuantity"),
      grid.Column("ThickCover", format: (item) => {
         var p = item.Value as MvcApplication1.Models.Product;
         return Html.TextBox("ThickCover", p.ThickCover, new { @class = "thickCoverInput", @data_value = p.Id });
          }),
      grid.Column("ThinCover", format: (item) => {
         var p = item.Value as MvcApplication1.Models.Product;
         return Html.TextBox("ThickCover", p.ThinCover);
      })
   )
) 
```

然后我有以下脚本来连接更改：

```
<script src="~/Scripts/jquery-1.7.1.js"></script>
<script>
   $(document).ready(function () {
      $('.thickCoverInput').change(function(event) {
         alert(event.currentTarget.attributes["data-value"].value);
         alert(event.currentTarget.value);
         // Here you can post data to an action to update your table
      });
   });
</script> 
```

当我更改文本框中的值时，我能够得到两个警报。一个是产品的 ID，另一个是新值。

希望这就是你要找的。

# iphone - 我需要释放 MKMapItem 或地标对象吗？

> ID：12793671
> 
> 赞同：0
> 
> 时间：2012-10-09T06:00:34.560
> 
> 标签：iphone, ios6

在我在网上找到的教程（例如[http://bit.ly/SIXlI5](http://bit.ly/SIXlI5)）和 Apple 文档中，都没有提到发布 MKMapItem 或地标。他们需要被释放吗？如果不需要，为什么不呢？地图应用程序会处理所有这些吗？

```
NSDictionary *address = @{
  (NSString *)kABPersonAddressStreetKey: _address.text,
  (NSString *)kABPersonAddressCityKey: _city.text,
  (NSString *)kABPersonAddressStateKey: _state.text,
  (NSString *)kABPersonAddressZIPKey: _zip.text
};

MKPlacemark *place = [[MKPlacemark alloc] 
       initWithCoordinate:_coords 
       addressDictionary:address];

MKMapItem *mapItem = [[MKMapItem alloc]initWithPlacemark:place];

NSDictionary *options = @{
    MKLaunchOptionsDirectionsModeKey:MKLaunchOptionsDirectionsModeDriving
};

[mapItem openInMapsWithLaunchOptions:options]; 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-09T08:21:23.830

如果您不使用 ARC，并且分配了一个对象，则您有责任释放它。这里的所有都是它的。

在这种情况下，当您调用 openInMaps... 时，地图项信息将被编码到发送到地图应用程序的 URL 中。但你不必担心这一点。

您可以预期，除非在标头或文档中调用它，否则实例方法将同步完成其工作而不释放接收器。

# sql-server - 如何在参考表中使用 BETWEEN

> ID：12793683
> 
> 赞同：1
> 
> 时间：2012-10-09T06:01:39.607
> 
> 标签：sql-server

我只是想知道如何创建一个查询，以这种方式检查列是否位于引用表之间。

如

```
SELECT *
FROM Table1 WHERE Column1 BETWEEN ( SELECT Column1 , Column2 FROM TABLE2 ) 
```

我只是不知道如何以正确的方式实现它。

谢谢你。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-09T06:07:51.133

如果您可以在 中具有重叠范围`Table2`，并且您想要的`Table1`只是在 中的任何范围内的（唯一）记录`Table2`，那么此查询将执行此操作。

```
SELECT *
FROM Table1
WHERE EXISTS (
    SELECT *
    FROM Table2
    Where Table1.Column1 BETWEEN Table2.Column1 and Table2.Column2) 
```

如果 Table2 中的范围不重叠，您也可以使用 JOIN 解决此问题，否则您将需要使用其中一个`DISTINCT`或`ROW_NUMBER()`将它们缩减为唯一`Table1`记录。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-09T06:04:44.780

试试这个....

```
SELECT *
FROM Table1 as t1 
INNER JOIN Table2 t2 ON t1.Column1 BETWEEN t2.Column1 AND t2.Column2 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-09T06:35:50.913

这行得通

```
SELECT * FROM table1 as t1,table2 as t2
    WHERE t1.Column1 BETWEEN t2.Column1 AND t2.Column2. 
```

# qt4 - Qt4 linux mint 配置

> ID：12793687
> 
> 赞同：0
> 
> 时间：2012-10-09T06:01:54.417
> 
> 标签：qt4, codeblocks, linux-mint

所以之前我使用的是 Debian Squeeze + 代码块，我可以正确设置一个 qt4 项目。

当我运行命令时在 debian 上：

```
whereis qt4 
```

我得到：

```
/usr/share/qt4
/usr/include/qt4
/usr/lib/qt4 
```

但是，当我在 linux mint debian 中安装 qt4 时，我只能得到 share 和 icnlude 目录。问题是 codeblocks 需要 lib 目录来启动项目。

为了拥有这个目录，我还需要安装什么？

谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-11T09:36:49.643

According to my qt4 lib directory (on Mint 13) an apt-file search gives me that the packages

```
kdelibs5-plugins, libqtbamf1, libqtdee2, libqtgconf1, libdconf-qt0 
```

are installed. I am not sure if all of those are necesssary, but you could try it.

# jquery - 从打开的页面中隐藏 iframe

> ID：12793688
> 
> 赞同：2
> 
> 时间：2012-10-09T06:01:58.677
> 
> 标签：jquery, iframe

我试图隐藏一个 iframe，但每次我关闭它时，它只会关闭我在其中加载的页面。因此，当我单击打开 iframe 的按钮时，它不会再次打开。这是我的代码：

```
<a href="#" id="vcasa1">click</a>

<div id="casa001">
<iframe frameborder="5px" width="800px" height="630px" src="http://bienesraices.wall-  fine.mx/casa001.html" name="CV-001" allowtransparency="true" style="background-color:   transparent;" scrolling="no" noresize></iframe>
</div> 
```

我使用此功能打开 iframe

```
$( "#vcasa1").click(function(){
      $("#casa001").slideDown(1200);
}); 
```

然后关闭它

```
$( "#cerrar001").click(function(){

      $("#CV-001").fadeOut(600);

}); 
```

这是“http://bienesraices.wall-fine.mx/casa001.html”页面的代码

```
<body style="background-color: transparent;">
<div id="CV-001" class="clearfix">
<div style="width:700px; height:400px;">
<div class="black2-35">

    <div style="margin-left:635px; position:absolute;">
    <a href="#" id="cerrar001">Cerrar</a>
    </div>
    <div id="title">
    <h1><strong>asdasdasasdasd</strong><h1 />
    </div>

  <h5><strong>asdasdasdasdasdsad</strong>
casaaaaaaaaaaaaaaaaaaaaaaaaaasdasdaasdadsdasdasdasasdasda
sdasdasdasdasdasdasdaasdasdasdasdasasdadsdasdasdasasdasdas
dasdadasdasdasdasdasdasdasdasdasdasdasdasdasdasdasdasdasda</ h5>
</div>
</div>
</div> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-09T06:28:02.590

you are trying to `slideDown` an iframe that already Opened

Check out [Fiddle](http://jsfiddle.net/wYQLx/3/) here.

First close `iframe` using `slideUp` then Open it using `slideDown`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-09T06:22:37.573

尝试这个

```
 <html>
    <head>
    <script src="jquery.js" type="text/javascript"></script>
    <script>
    $(document).ready(function(){
    $('#show').click(function(){
        $('#frame').slideDown();
        });
    $('#show').hide();
    $('#mybtn').click(function(){
    $('#show').show();
    $('#frame').slideUp();
    });
    });
    </script>
    </head>

    <body bgcolor="#aaaaaa" style="text-align:center">
    <br>
   <a id="mybtn" href="#">click me</a>
    <br>
    <div id="frame">
    <iframe src="http://www.w3schools.com/html/default.asp" frameborder="0" name="test"    id="test"></iframe>
    </div>
    <a href='#' id='show'>Show</a>
    </body>
    </html> 
```

Js 小提琴：http: [//jsfiddle.net/YVHAF/](http://jsfiddle.net/YVHAF/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-09T06:09:07.087

尝试重新加载 iFrame 内容。对于不同的域：

```
var iframe = $(FrameId);
iframe.attr('src', iframe.attr('src')); 
```

如果 iFrame 页面位于同一域中：

```
document.getElementById(FrameID).contentDocument.location.reload(true); 
```

完整的代码（实际上重载没有任何问题，所以你不需要任何重载）：

```
<html>
    <head>
        <title>hide/show iframe</title>
        <script language="JavaScript" 
                type="text/javascript" 
                src="js/jquery-1.6.2.min.js"></script>
        <script>
            $(document).ready(function(){
                $('#toggleIframe').click(function(){
                    $('#myFrame').toggle('slow');
                });
            });
        </script>
    </head>
    <body>
        <button id="toggleIframe">Toggle iFrame</button>
        <iframe style="border:0px;" width="200px" height="200px" 
                    src="test1.html" id="myFrame"/>
    </body>
</html> 
```

你的 iFrame html：

```
<html>
    <head>
        <title>hide/show iframe</title>
        <script language="JavaScript" 
                    type="text/javascript" 
                    src="js/jquery-1.6.2.min.js"></script>
        <script>
            $(document).ready(function(){
                $('#toggleIframe').click(function(){
                    $('.content_wrapper').toggle('slow');
                });
            });
        </script>
    </head>
    <body>
        <button id="toggleIframe">Toggle iFrame Content</button>
        <div class="content_wrapper" style="background:green;">
            <h2>All content goes here</h2>
        <div>
    </body>
</html> 
```

这样您切换 iFrame 内容，但您需要始终显示切换按钮，否则您无法再次显示 iFrame 内容。

# python - 在 Tornado 中发送二进制文件

> ID：12793697
> 
> 赞同：9
> 
> 时间：2012-10-09T06:02:42.877
> 
> 标签：python, python-3.x, tornado

在某个`GET`请求中，我需要根据请求中的参数在本地读取文件，并将其发送到请求的输入流中。我该怎么做？

```
class GetArchives(tornado.web.RequestHandler):
    def get(self, param1, param2):
        path = calculate_path(param1, param2)
        try:
            f = open(path, 'rb')
            # TODO: send this file to request's input stream.
        except IOError:
            raise tornado.web.HTTPError(404, 'Invalid archive') 
```

* * *

## 回答 #1

> 赞同：16
> 
> 时间：2012-10-09T06:56:10.553

这是适用于任意大小文件的解决方案：

```
with open(path, 'rb') as f:
    while 1:
        data = f.read(16384) # or some other nice-sized chunk
        if not data: break
        self.write(data)
self.finish() 
```

* * *

## 回答 #2

> 赞同：10
> 
> 时间：2012-10-09T06:11:23.667

试试这个（不适用于大文件）：

```
try:
    with open(path, 'rb') as f:
        data = f.read()
        self.write(data)
    self.finish() 
```

龙卷风中有`StaticFileHandler`，请参阅[龙卷风文档](https://github.com/facebook/tornado/blob/master/tornado/web.py#L1630)

# android - 控制 ListView 页脚的可见性

> ID：12793703
> 
> 赞同：0
> 
> 时间：2012-10-09T06:03:17.473
> 
> 标签：android

场景：在活动中保持对页脚的引用。将页脚可见性设置为 GONE。将页脚添加到 ListView。ListView.setAdapter（适配器）。

现在我怎样才能让页脚显示？我尝试将可见性设置为 VISIBLE，但它没有显示。要显示此页脚，还需要做什么。我不想再次重置适配器。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-09T06:57:48.437

如何使用以下功能：

```
listView.addFooterView(footerView)
listView.removeFooterView(footerView) 
```

# asp.net - 从不同的配置文件中获取 appSettings 的键值

> ID：12793713
> 
> 赞同：2
> 
> 时间：2012-10-09T06:03:33.810
> 
> 标签：asp.net, web-config

我有一个名为 Refer.config 的配置文件，其中包含 appSettings 为：

```
<?xml version="1.0"?>
<configuration>
<appSettings>
    <add key="Database" value="CouchDB"/>
  </appSettings>
</configuration> 
```

现在在 web.config 中，我将其引用为：

```
<appSettings file="C:\Users\312171\Documents\Visual Studio 2008\WebSites\WebSite4\Refer.config">

  </appSettings> 
```

现在在 cs 文件中，我试图访问 appSettings 的键值，如下所示：

```
protected void Button2_Click(object sender, EventArgs e)
    {
        string filetype = ConfigurationManager.AppSettings["Database"];
        testvalue.Text = string.Format("The key value is:",filetype);
    } 
```

但它没有返回键值......我犯了什么错误？请帮帮我。。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-09T06:16:04.230

`configSource`如果您使用的是 .net 2.0 或更高版本，则必须使用该属性。

```
<appSettings configSource="Refer.config">
</appSettings> 
```

**请注意，路径必须是相对的。**

[文件](http://msdn.microsoft.com/en-us/library/aa903313%28v=vs.71%29.aspx)应该采用相对路径

> File 指定包含自定义应用程序配置设置的外部文件的相对路径。指定的文件包含在 、 和 元素中指定的相同类型的设置，并使用与这些元素相同的键/值对格式。
> 
> 指定的路径是相对于主配置文件的。对于 Windows 窗体应用程序，这将是二进制文件夹（例如 /bin/debug），而不是应用程序配置文件的位置。对于 Web 窗体应用程序，路径相对于 web.config 文件所在的应用程序根目录。
> 
> 请注意，如果找不到指定的文件，运行时会忽略该属性。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-09T08:01:41.040

通过在 web.config 中这样尝试得到我的答案......

```
<appSettings file="Refer.config"/> 
```

# java - 显示多种内容类型httpresponse

> ID：12793714
> 
> 赞同：0
> 
> 时间：2012-10-09T06:03:40.113
> 
> 标签：java, httpclient, httpresponse

我正在尝试在同一页面中显示多种内容类型（文本/html 和图像/png 内联图像）。我在我们的磁盘/数据库中存储了图像内容和 text/html 内容以及所有标头信息（基本上假设我可以使用 InputStream 读取 text/html 和图像的内容）。我想创建一个包含 text/html 部分和内联图像部分的 HttpResponse。我遇到了一些对 HttpClient/MultipartEntity 的引用。所以我尝试了一个示例代码来使用 MultipartEntity 显示图像（保存在我的磁盘中），但我在页面中看到的都是乱码。我在构建路径中引用的 jar 是 apache-mime4j-0.6.jar、httpcore-4.0.1.jar、httpmime-4.0.jar。我正在使用 apache tomacat 服务器。下面是示例代码。

```
import java.io.*;
import java.nio.charset.Charset;

import javax.servlet.*;
import javax.servlet.http.*;

import org.apache.http.entity.mime.HttpMultipartMode;
import org.apache.http.entity.mime.MultipartEntity;
import org.apache.http.entity.mime.content.InputStreamBody;

public class MyHelloWorldServlet extends HttpServlet {

    public void doGet(HttpServletRequest request, HttpServletResponse response)
    throws IOException, ServletException
    {

        ServletOutputStream out = response.getOutputStream();
        MultipartEntity entity = new MultipartEntity(HttpMultipartMode.BROWSER_COMPATIBLE,null,Charset.forName("UTF-8"));
        //File file = new File("C:\\Users\\Public\\Pictures\\Sample Pictures\\test.msg");
        File file = new File("C:\\Users\\Public\\Pictures\\Sample Pictures\\Chrysanthemum.jpg");
        InputStream in1 = new FileInputStream(file);
        InputStreamBody fileBody1 = new InputStreamBody(new FileInputStream(file), "Chrysanthemum.jpg");
        entity.addPart("part1", fileBody1);
        entity.writeTo(out);

    }
} 
```

也有人可以让我知道是否可以以类似的方式添加多种内容类型的部分并显示？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-09T10:03:36.623

也许我没有让你正确。您似乎想要创建一个具有相同映射来处理不同类型请求的 servlet？我对吗？如果这是正确的，为什么不根据数据库中的标题更改内容类型。

```
 response.setContentType("image/jpg");
            response.setContentType("text/html"); 
```

然后根据您要服务的内容，您可以将其用于图像或文件：对于 html：

```
 response.setContentType("text/html");   
  PrintWriter out = res.getWriter();  
  out.println("<html>....</html>");
  out.close(); 
```

图像：

```
 ServletOutputStream stream = null;
    BufferedInputStream buf = null;
    try{

            stream = response.getOutputStream();
            File mp3 = new File("path/tofile ");

            if(request.getSession().getAttribute( "path" )!=null){      
                 mp3 = new File(request.getSession().getAttribute( "path" ).toString());
                 request.getSession().setAttribute("path", null);
            } 

            response.setContentType("image/jpg");        
            response.setContentLength( (int) mp3.length() );

            FileInputStream input = new FileInputStream(mp3);
            buf = new BufferedInputStream(input);
            int readBytes = 0;

            while((readBytes = buf.read()) != -1)
               stream.write(readBytes);

   } catch (IOException ioe){       
      throw new ServletException(ioe.getMessage());           
   } finally {
       if(stream != null)
           stream.close();
       if(buf != null)
           buf.close();
   } 
```

# r - 如何用 ggplot2 绘制非标准化数据？

> ID：12793717
> 
> 赞同：3
> 
> 时间：2012-10-09T06:03:52.047
> 
> 标签：r, plot, ggplot2

我用 绘制虹膜数据`ggplot2`。似乎`ggplot2`会自动将数据标准化为（0.1）区间。如何在没有任何标准化操作的情况下绘制数据？

```
library(ggplot2)
p <- ggpcp(iris, vars = names(iris[1:4]))
p + geom_line(aes(color = Species)) + ylim(0,8) 
```

* * *

我不是以英语为母语的人，很抱歉造成歧义。实际上，虹膜数据从0到8不等。我想绘制的数据完全反映了真实值，而不是标准化值（将原始数据转换为（0,1）区间）。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-10-09T06:32:09.513

也许：

```
library(ggplot2)
p <- ggpcp(iris, vars = names(iris[1:4]))
iris2 <- data.frame(id=1:nrow(iris), iris)
dat <- reshape2::melt(iris2,id.var = c("id", "Species"))
ggplot(aes(y=value, x=variable, group=id, color=Species), data=dat) + geom_path() 
```

![在此处输入图像描述](../Images/6b22a0bc9e5ba0986e054217df0baf0f.png)

虽然可能有更好的方法。从来没有这样做过，所以尝试很有趣。

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2012-10-09T07:28:28.513

最直接的方法可能是使用[GGally 包](http://cran.r-project.org/web/packages/GGally/index.html)。这允许您执行以下操作：

```
library(GGally)
ggparcoord(iris, columns = 1:4, groupColumn = 5, scale = "globalminmax") 
```

这导致：

![在此处输入图像描述](../Images/37a2a3e6e59f639095d05cf9867681ba.png)

# csv - 当我们必须使用 loadrunner 读取数据时，如何处理来自 csv 的带有逗号的字符串？

> ID：12793718
> 
> 赞同：1
> 
> 时间：2012-10-09T06:03:53.517
> 
> 标签：csv, comma, loadrunner

`csv`当我使用 Loadrunner 时，它可以从文件中读取数据。众所周知，`csv`文件以逗号分隔。

问题是，如果参数 in`csv`本身有逗号，字符串将被分成几个段。那不是我想得到的。

我们怎样才能得到带有逗号的原始数据呢？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2017-03-22T17:02:19.617

当数据有逗号时，使用转义字符将数据存储在参数中。例如，如果名称为“Smith, John”，则可以在 Loadrunner 数据文件中将其存储为 Smith\, John。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-09T11:11:27.903

当您在 Excel 中保存在实际单元格数据中包含逗号的文件时，整个单元格将位于两个 " 字符内。此外，其中带有空格的单元格似乎在 " 字符内。

例子

```
ColA,ColB,"ColC with a , inside",ColD,ColE 
```

有关 CSV 文件格式的更多信息：http: [//www.parse-o-matic.com/parse/pskb/CSV-File-Format.htm](http://www.parse-o-matic.com/parse/pskb/CSV-File-Format.htm)

问题的答案是，处理 , 分隔符的最简单方法是将分隔符更改为**;** 特点。这也是 CSV 文件中的有效分隔符。

那么示例将是：

```
ColA;ColB;"ColC with a , inside";ColD;ColE 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-09T11:16:50.357

Maybe the right way is to use C functions to read data from the file (for example fopen/fread)? When you have read it you be able to use "strchr" to find first quotes char and second quotes char. All in that interval would be a value, and it doesn't matter if comma is inside. For the documentation about fopen, fread,strchr, you could refer to the HP or C function references. Hope this will help you.

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-09T13:01:48.643

Assuming you are reading from a data file for the parameters, just use a custom seperator. Comma is the default, but you can define it to be whatever you want. Whenever I have a comma in the variable data I tend to use a pipe symbol, '|' as a way to distinguish the columns of data in the data file.

Examine your parameter dialog carefully and you will see where to make the change.

# java - 在linux上运行一个编译好的java程序

> ID：12793721
> 
> 赞同：1
> 
> 时间：2012-10-09T06:04:20.877
> 
> 标签：java

我使用 eclipse 来开发我的应用程序。

我有 2 个 java 文件，一个是 main，一个是 main 使用的类。在eclipse中，我只是作为java程序执行并且它可以工作。（默认包）。

现在我只想在linux和其他windows上运行这个程序。我该如何运行它？如果你能指点我一个也很好的教程。

我现在没有在看 jar 文件/mainfest。我正在寻找的只是运行 thr 程序

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-09T06:12:16.010

对您来说最简单的方法可能是导出一个可运行的 jar。

1.  在 Eclipse 中，选择您的项目。
2.  右键单击>导出
3.  选择“可运行的罐子”
4.  按照向导，一定要选择正确的运行配置。

现在应该保存一个 jar 文件，该文件可以通过在 GUI 中双击或使用命令行来运行：`java -jar <your jar file>`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-09T06:06:49.520

如果您的课程称为 MainClass.class 您只需调用

```
java MainClass 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-09T06:08:20.783

**基本方法：**`java.exe`在安装位置 找到你的`jdk/bin`文件夹。

简单地运行你的程序

无参数

```
 jdk/bin/java yourMainProgramClass 
```

带有参数 param1 和 param2，它们可用于 main(String[] args) 的 args 变量

```
 jdk/bin/java yourMainProgramClass param1 param2 
```

在两个`.class`（编译输出）文件都存在的文件夹中。

**好方法**：在路径中添加`java.exe`或整个文件夹。`jdkxxx/bin`完成后，简单地运行程序

不带参数：

```
java yourMainProgramClass 
```

带有参数 param1 和 param2，它们可用于 main(String[] args) 的 args 变量

```
java yourMainProgramClass param1 param2 
```

在两个`.class`（编译输出）文件都存在的文件夹中。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-09T06:08:38.897

切换到找到的java文件目录执行命令

> java yourMainProgram

如果您需要在类路径中指定任何 jar，请使用

```
 java -cp /path/to/jar yourMainprogram 
```

[Windows](http://docs.oracle.com/javase/tutorial/getStarted/cupojava/win32.html) [文档 Linux 文档](http://docs.oracle.com/javase/tutorial/getStarted/cupojava/unix.html)

# android - 在 Eclipse 中添加库项目时出错

> ID：12793722
> 
> 赞同：11
> 
> 时间：2012-10-09T06:04:22.533
> 
> 标签：android, jar, android-library

![在此处输入图像描述](../Images/51301b67347a964155fc4dfa5c5bd438.png)

我在 Eclipse 中添加了库项目。但我收到以下错误

```
[2012-10-09 11:25:38 - Share] Found 2 versions of android-support-v4.jar in the dependency list,
[2012-10-09 11:25:38 - Share] but not all the versions are identical (check is based on SHA-1 only at this time).
[2012-10-09 11:25:38 - Share] All versions of the libraries must be the same at this time.
[2012-10-09 11:25:38 - Share] Versions found are:
[2012-10-09 11:25:38 - Share] Path: D:\android 4 tools\work1\Share\libs\android-support-v4.jar
[2012-10-09 11:25:38 - Share]   Length: 349252
[2012-10-09 11:25:38 - Share]   SHA-1: 612846c9857077a039b533718f72db3bc041d389
[2012-10-09 11:25:38 - Share] Path: D:\android 4 tools\work1\Android-Feather\libs\android-support-v4.jar
[2012-10-09 11:25:38 - Share]   Length: 337562
[2012-10-09 11:25:38 - Share]   SHA-1: 27c24d26e4c5d57976e6926367985548678e913c
[2012-10-09 11:25:38 - Share] Jar mismatch! Fix your dependencies 
```

* * *

## 回答 #1

> 赞同：27
> 
> 时间：2012-10-09T06:12:00.333

在库和主项目中使用相同**的 android-support-v4.jar库。**

为此，`android-support-v4.jar`从库和主项目构建路径中删除文件，然后`android-support-v4.jar`从库路径中删除。`android-support-v4.jar`然后在库和主项目中重新插入相同的内容。然后使用`add to build path`将 lib 添加到您的项目中。

这将解决您的问题。

![如何在项目中添加或删除支持库](../Images/6189a0aae88ae08d49c145e1a96339ef.png)

**如何在项目中添加支持库：**

要将最新的支持库添加到您的 android 项目，请执行以下步骤：

1.  右键单击您的android项目。
2.  选择`Android Tools`
3.  然后选择`Add Support Library`

然后按照屏幕说明操作，这会将最新的支持库添加到您的`libs`文件夹中。

![如何将支持库添加到项目](../Images/efeb69aaaa18b51405e8b8e298bbe7cd.png)

现在右键单击 `android-support-v4.jar`libs 文件夹中的文件并将其添加到我描述的构建路径中。您将在项目中拥有最新的支持库。

**更新** 正如“Doctoror Drive”所说，您只需要添加`support library`您的`library project`. 所以只添加`support library`到你的`library project`.

# memcached - 两个独立的 Memcached 实例是否可以相互通信？

> ID：12793724
> 
> 赞同：0
> 
> 时间：2012-10-09T06:04:26.623
> 
> 标签：memcached

我有两个应用程序正在运行，它们都有一个专用的 Memcached 服务器实例。

这两个独立的 Memcached 实例是否有可能相互交谈？如果我们删除一个 Memcached 实例上的键

我需要删除 Memcached 另一个实例上的密钥吗？那可能吗 ？？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-09T06:46:23.400

不，Memcached 没有这种功能。它纯粹是一个键/值存储。您将需要您的应用程序明确地执行此操作。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-07-24T21:22:25.630

[http://memcached.org/about](http://memcached.org/about) 似乎建议您可以...

[https://code.google.com/p/memcached/wiki/NewProgramming](https://code.google.com/p/memcached/wiki/NewProgramming)

了解更多信息

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-07-24T20:45:48.433

memcached 客户端应该透明地执行此操作。如果您存储一个键/值对，它将通过客户端存储在一个或多个服务器上。删除也一样。Memcached 服务器彼此不了解。

# iphone - UILabel - 当文本长度超过一定长度时显示...

> ID：12793728
> 
> 赞同：1
> 
> 时间：2012-10-09T06:04:50.830
> 
> 标签：iphone, ios, nsstring, uilabel

我已将其放置`UILabel`在我的应用程序中，因为我想在文本长度超过特定计数时使用 .... 显示文本。

因为如果文本变长，就会出现设计问题。

请告知使用哪个功能。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-09T06:11:22.020

试试这个

```
yourLabel.lineBreakMode=UILineBreakModeTailTruncation; 
```

如果您从界面生成器添加您的 UILabel，您可以直接执行此操作。**选择**UILabel 并在**Attriubtes Inspector** => **Label** section=> **Line Breaks的****Utilities**列中设置**Truncate Tail**

 ******* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-09T06:27:51.030

试试这个会对你有帮助。

```
NSString *string=YourString;

int size=[YourString length];

if (size>21) 
{
    NSMutableString *string1 = [[NSMutableString alloc]init];
    char c;
    for(int index = 0;index <20 ;index++)
    {
        c =[string characterAtIndex:index];

        [string1 appendFormat:@"%c",c];
    }
    [string1 appendFormat:@"..."];
    string=string1;

} 
```

在您的 UILable 上添加“字符串”。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-09T06:57:12.730

```
#define EXCEEDED_LENGTH 8

- (NSString *) checkStringLength:(NSString *)str 
{
    if(str.length >= EXCEEDED_LENGTH) 
    {
       return [NSString stringWithFormat:@"%@...",[str subStringToIndex:EXCEEDED_LENGTH-1]];
    }
    return str;
}

yourLabel.text = [self checkStringLength:@"Hello World !!"]; 
```

类似输出`Hello Wo...`为了更好的输出，您可以`trim` `whitespaces`在将字符串传递给函数之前。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-09T06:10:19.580

您可以使`UILable`尺寸（长度/宽度）动态化，

或者

您可以`UITextView`禁用编辑，因此如果有长文本，它将是可滚动的。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-10-09T06:11:31.330

根据您分享的信息，我认为这`autoshrink`可能`linebreakermode`是根本原因。IT 是试图在指定框架中显示内容的属性，它将减小并调整字体大小

解决问题的2种方法

*   根据需求调整属性
*   增加标签的帧大小（通过查找大小以编程方式）
*   也看边缘插图

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-10-09T06:28:12.870

```
CGSize constraint = CGSizeMake(690.0, 2000.0);
CGSize size_txt_overview1 = [[headItemArray objectAtIndex:k] sizeWithFont:[UIFont fontWithName:@"Helvetica" size:18] constrainedToSize:constraint lineBreakMode:UILineBreakModeWordWrap];
UILabel *lbl_headitem = [[UILabel alloc]initWithFrame:CGRectMake(3,h, 690, size_txt_overview1.height)];
lbl_headitem.numberOfLines=0; 
```

请限制您的`UILabel`宽度和高度`CGSize`。最好的方法..它对我有用。

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2012-10-09T06:55:09.887

这是 UILabel 类别的一种方法

```
-(void)setTruncatedTextWithDotsIfNeeded:(NSString *)text
    {
        float fullTextWidth = [text sizeWithFont:self.font].width;
        float labelWidth = self.frame.size.width;
        if(fullTextWidth<=labelWidth){
            [self setText:text];
            return;
        }
        NSString *dots = @"…";
        float dotsWidth = [dots sizeWithFont:self.font].width;
        NSRange fullRange = [text rangeOfString:text];
        for(int i = fullRange.length; i >= fullRange.location; i--){
            NSRange currentRange;
            currentRange.location = 0;
            currentRange.length = i;
            NSString *partialText = [text substringWithRange:currentRange];
            float partialTextWidth = [partialText sizeWithFont:self.font].width;
            if(partialTextWidth + dotsWidth <= labelWidth){
                [self setText:[NSString stringWithFormat:@"%@...",partialText]];
                return;
            }
        }
    } 
```******

# asp.net-mvc - 在@Ajax.ActionLink 函数中传递值

> ID：12793732
> 
> 赞同：2
> 
> 时间：2012-10-09T06:05:14.747
> 
> 标签：asp.net-mvc

如何在函数中传递值

```
@Ajax.ActionLink("Back to list", "list", "Security", 
    new AjaxOptions { UpdateTargetId = "show" }) 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-09T06:08:31.017

有一个[过载](http://msdn.microsoft.com/en-us/library/dd470623%28v=vs.108%29.aspx)：

```
@Ajax.ActionLink("Back to list", "list", "Security", new { YourValue = "Value" }, new AjaxOptions { UpdateTargetId = "show" }) 
```

# java - 包类不存在错误

> ID：12793733
> 
> 赞同：1
> 
> 时间：2012-10-09T06:05:18.707
> 
> 标签：java, awt, packages, textfield

我在 java_src/classes 的主文件夹中构建了自己的自定义 AWT 类。

每个 java 文件都包含`package classes;`顶部的声明。

我还创建了一个名为的示例程序`ScreenDemo.java`并将其放置在 java_src/ 文件夹中，以使用自定义 AWT 类而不是`java.awt`.

```
//ScreenDemo.java
import classes.Screen;
class ScreenDemo
{
    public static void main(String args[])
    {
        Screen.init(20,15,3);
    }
} 
```

但是当我尝试编译 ScreenDemo.java 时，显示错误

```
java_src/ScreenDemo.java:1: package classes does not exist
import classes.Screen;
          ^
java_src/ScreenDemo.java:6: cannot find symbol
symbol  : variable Screen
location: class ScreenDemo
        Screen.init(20,15,3);
        ^
2 errors 
```

当我添加路径时，我遇到了这个错误

```
Exception in thread "main" java.lang.NoClassDefFoundError: ScreenSample (wrong name:                   classes/ScreenSample)
at java.lang.ClassLoader.defineClass1(Native Method)
at java.lang.ClassLoader.defineClass(ClassLoader.java:634)
at java.security.SecureClassLoader.defineClass(SecureClassLoader.java:142)
at java.net.URLClassLoader.defineClass(URLClassLoader.java:277)
at java.net.URLClassLoader.access$000(URLClassLoader.java:73)
at java.net.URLClassLoader$1.run(URLClassLoader.java:212)
at java.security.AccessController.doPrivileged(Native Method)
at java.net.URLClassLoader.findClass(URLClassLoader.java:205)
at java.lang.ClassLoader.loadClass(ClassLoader.java:321)
at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:294)
at java.lang.ClassLoader.loadClass(ClassLoader.java:266)
at java.lang.ClassLoader.loadClassInternal(ClassLoader.java:334)
Could not find the main class: ScreenSample. Program will exit. 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-09T06:23:15.947

您可以使用以下命令进行编译。

```
javac -cp your-ScreenclassFile-dir your-source-dir/ScreenDemo.java 
```

并运行您的程序：

```
java -cp your-ScreenclassFile-dir your-classFile-dir/ScreenDemo 
```

有关更多详细信息，请查看此链接[PATH 和 CLASSPATH](http://docs.oracle.com/javase/tutorial/essential/environment/paths.html)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-09T06:13:04.233

在编译代码时，编译器抱怨缺少类 Screen.java，我认为它在“类”包中。

您需要将 src\classes\ 添加到 src 文件夹列表中，或者将 Screen.java 移动到与 ScreenDemo.java 相同的位置，然后再次尝试编译。

# jquery - 未捕获的 ReferenceError：$ 未定义

> ID：12793735
> 
> 赞同：0
> 
> 时间：2012-10-09T06:05:36.383
> 
> 标签：jquery, document-ready

我不断收到 Uncaught ReferenceError: $ is not defined in Chrome。此外，尝试在结束 body 标记之后包含 js 文件，但不起作用。

HTML 代码：

```
<head>
<title>Task 7 | Jquery</title>
<link rel="stylesheet" type="text/css" href="css/style.css"/>
    <script type="text/javascript" src="jquery/userlist.js"></script>

</head>
<body>

    <input id="filter" type="text" placeholder="Search" />

 </body> 
```

jQuery 脚本：

```
$(document).ready(function () {  // getting the error here
$('#filter').click(function () {
    $("#filter").hide();
});
}); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-09T06:11:19.660

您收到该错误是因为您没有包含 jQuery 库。

[下载 jQuery](http://docs.jquery.com/Downloading_jQuery)并以与之前添加的方式相同的方式添加它`jquery/userlist.js`。

```
<script type="text/javascript" src="jquery/jquery.js"></script>
<script type="text/javascript" src="jquery/userlist.js"></script> 
```

# javascript - RequireJS 节点自定义模块问题 - 传递了未定义的参数

> ID：12793736
> 
> 赞同：0
> 
> 时间：2012-10-09T06:05:38.300
> 
> 标签：javascript, node.js, module, undefined, requirejs

运行如下代码的节点输出为：

```
all Loaded
dbModule undefined
mongoose loaded 
```

我无法在 appMod2 中获得对 dbMod2 的引用。我应该尝试什么？

```
//server.js
var requirejs = require( 'requirejs');

process.on( 'uncaughtException', function(error) {
    console.log( 'Exception ' + error.stack);
    process.exit( 1);
});

requirejs.config({
    baseUrl: '.',
    nodeRequire: require
});

requirejs(['./appMod2'], function() {
    console.log( "all Loaded");
})

// appMod2.js
require(['./dbmod2'], function( dbmodule) {
    console.log( "dbModule " + dbmodule);
});

// dbmod2.js
require(['mongoose'], function( mongoose) {
    Schema = mongoose.Schema;
    console.log( "mongoose loaded");
}); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-06T22:18:10.287

用'define'替换'require'调用并向模块添加return语句：

```
// dbmod2.js
define(['mongoose'], function( mongoose) {
    Schema = mongoose.Schema;
    console.log( "mongoose loaded");

    return 'dbmod2';
});

// appMod2.js
define(['./dbmod2'], function( dbmodule) {
    console.log( "dbModule " + dbmodule);

    return 'appMod2';
}); 
```

我得到这个输出：

```
mongoose loaded
dbModule dbmod2
all Loaded 
```

在requirejs中，传递给依赖数组后面的函数的对象是依赖返回的对象

# objective-c - 如何将数据从 ios 应用程序中的另一个类解析到 ViewController

> ID：12793737
> 
> 赞同：0
> 
> 时间：2012-10-09T06:05:40.580
> 
> 标签：objective-c, ios, class, cllocationmanager, viewcontroller

我制作了一个应用程序来与 REST API 服务进行通信。现在我需要向该服务发送一些 gps 坐标，所以我在我的应用程序中创建了另一个名为 MyCLController 的类，我设法获取了我的位置坐标，并将它们显示在我的应用程序的标签中。我在atm遇到的问题是：

我不知道如何使用从该方法获得的坐标：

```
-(void) locationManager:(CLLocationManager *)manager didUpdateLocations:(NSArray *)locations
{
    [self.delegate locationUpdate : [locations lastObject];
    [CLLocationCoordinate2D coordinate = [[locations lastObject] coordinate];
    double dblLagitude = coordinate.lagitude;
    double dblLongitude = coordinate.longitude;
} 
```

（在我的 MyCLController 类中实现）到我的视图控制器中，在那里我开发了代码以向服务器发出请求并将字符串发送到服务器。任何人都知道我如何声明这两个变量，以便我能够在我的视图控制器中使用它们或者我能做什么？

提前致谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-09T07:13:00.947

`MyCLController`在（在您的 .h 文件中）创建属性为，

```
@property (nonatomic, assign) double dblLagitude;
@property (nonatomic, assign) double dblLongitude; 
```

你的方法应该修改为，

```
-(void) locationManager:(CLLocationManager *)manager didUpdateLocations:(NSArray *)locations
{
    [self.delegate locationUpdate : [locations lastObject];
    [CLLocationCoordinate2D coordinate = [[locations lastObject] coordinate];
    self.dblLagitude = coordinate.lagitude;
    self.dblLongitude = coordinate.longitude;
} 
```

您需要`MyCLController`在视图控制器中使用对象并将属性用作`myCLController.dblLagitude`and `myCLController.dblLongitude`（假设对象`MyCLController`是`myCLController`）。

# database - 我可以从 VS 数据库项目的部署后脚本中调用不同的 SQL 脚本吗

> ID：12793738
> 
> 赞同：4
> 
> 时间：2012-10-09T06:05:54.667
> 
> 标签：database, visual-studio-2010, deployment, database-project

我对基线数据库的许多表进行了大量插入操作。我试图在单个表和从属表的多个 SQL 脚本中组织此任务。我需要从主要的部署后 SQL 脚本中按顺序调用这些脚本。

有任何想法吗？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-12-06T18:45:08.077

1.  如果您的项目中还没有部署后脚本（可能称为 Script.PostDeployment.sql），则添加 SQL Server > 用户脚本 > 部署后脚本类型的新项目。

2.  在此脚本中，使用如下所示的相对路径引用您的插入脚本。脚本将按照您列出的顺序运行。例子：

> ```
> :r .\InsertScripts\script1.sql
> 
> :r .\InsertScripts\script2.sql 
> ```

（忽略任何表明这是无效语法的错误/警告。Visual Studio 将这些视为占位符，并且在构建时，每个脚本的内容将基本上插入到主 SQL 文件中。）

# php - 不显示添加了两个月（PHP）

> ID：12793744
> 
> 赞同：0
> 
> 时间：2012-10-09T06:06:49.320
> 
> 标签：php

我的代码有问题。显然，我开始使用 PHP 进行编程，对它的高级概念一无所知。所以我请求你的帮助。我想在用户输入的结束日期上加上 2 个月。我在下面尝试了这段代码：

```
protected function inputEndDate() {
    $value = $this->endDate;
    $html = "";
    $html .= '<label for="enddate">End Date:</label>' . PHP_EOL;
    $html .= '<input type="text" readonly name="enddate" id="enddate" value="'.$value.'">';
    $html .= '<input type="button" id="enddatebutton" onclick="getEndDate()">' . PHP_EOL;
    return $html;
}

protected function inputExpiryDate() {
    $value = $this->endDate;
    $date = date('Y/m/d', strtotime("$value +2 month"));
    $html = "";
    $html .= '<label for="expirydate">Expiry Date:</label>';
    $html .= '<input type="text" readonly name="expirydate" id="expirydate" value="'.$date.'">';
    $html .= '<input type="button" id="expirydatebutton" onclick="getExpiryDate()">' . PHP_EOL;
    return $html;
} 
```

但是当我运行程序时，它没有显示正确的值；但是它显示的是开始日期的两个月。请帮忙。谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-09T06:14:25.287

尝试使用`mktime()`.

[`mktime()`在 PHP 手册中](http://us3.php.net/manual/en/function.mktime.php)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-09T06:14:42.280

试试这个代码，它会工作

```
$value = $this->endDate; // yyyy-mm-dd format
$date  = strtotime ( '+2 month' , strtotime ( $value ) ) ;
$date  = date ( 'Y/m/d' , $date);

echo $date ; 
```

请参阅工作示例[http://codepad.org/RM1aXXWI](http://codepad.org/RM1aXXWI)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-09T06:31:02.670

我不确定我是否理解你的问题。

如果我调用 php 函数 inputEndDate() 它会为我呈现这个 html

```
<label for="enddate">End Date:</label>
<input type="text" readonly name="enddate" id="enddate" value="">
<input type="button"     id="enddatebutton" onclick="getEndDate()"> 
```

输入字段 enddate 的值是空的，因为我的代码`$this->endDate`是空的。你从哪里得到或填充 `$this->endDate`？

如果所有 3 个输入字段都在同一页面上，则需要 javascript 根据 endDate 的输入更改 expireDate 的值 - 请参阅[我更新的 jsfiddle-example](http://jsfiddle.net/SWQme/59/)。

## 审查php代码后更新

我查看了您的代码 - 我找不到您填充服务器端 php var 的位置`this->endDate`。根据您的其他问题[，如何使用更改事件在 javascript 中添加日期，](https://stackoverflow.com/questions/12798535/javascript-display-expiry-date-upon-user-input-of-start-end-date)我不确定问题出在哪里。

*   如果您在服务器上处理 php 代码，则必须在将 html 呈现给客户端（浏览器）之前填充 expireDate 的值。见`public function setEditBallpark()`和线`$this->endDate = $this->ballparkDetails->getBallparkDetailsEndDate();`
*   如果页面在客户端的浏览器中加载，则只有 html+css+javascript 可用。要填写，`this->endDate`您必须将客户端的值发布到服务器（普通发布或 ajax）。第 17 行是一条注释`# $_POST["enddate"]`，但唯一可能获取 post 值的地方是`$this->endDate = $this->createBallparkController->getFormEndDate();`第 75 行的这一行。但是方法名称 `function setErrorForm()`让我假设此方法与正常的 post 情况无关。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-09T06:42:38.437

问题可能是由于 $value = $this->endDate; 在增加月份计数之前检查 $value。我已经检查了您添加 2 个月的执行情况。

```
<?php
$value='2012/11/15';
$date = date('Y/m/d', strtotime("$value +2 month"));
echo $date; 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-10-09T07:02:05.667

试试这个：

```
$date = date('Y/m/d', strtotime("+2 month", strtotime($value))); 
```

# wix - 基于 WIX 文件中的环境变量有条件地包含文件

> ID：12793745
> 
> 赞同：0
> 
> 时间：2012-10-09T06:06:52.050
> 
> 标签：wix

所以我有一个基于 WIX 的部署项目。我注意到您可以在其中包含功能和文件。但是，如果选择了 DEV/QA 环境，我只想部署特定文件。如果他们选择生产，我希望它忽略这个特定文件。

.wxi 文件中是否有办法根据变量的特定值有条件地包含功能/目录和文件？

IE。我想要像下面这样的东西 - 可能是动态包含的 componentRef？（我已经清理了这些值）。

```
<Feature Id="MyApplication" Title="MyApp" Description="My Application" ConfigurableDirectory="MYAPP" Level="1">
      <ComponentRef Id="AppEmailTemplatesDir" />
 </Feature> 
```

然后再往下

```
<Directory Id="EmailTemplatesDir" Name="EmailTemplates">
    <Component Id="AppEmailTemplatesDir" Guid="{A-GUID}">
         <File Id="EmailTemplate1.htm" Name="EmailTemplate1.htm" DiskId="1" Source="..\..\EmailTemplates\EmailTemplate1.htm" />
    </Component>
</Directory> 
```

有任何想法吗？我们确实有自定义操作代码（VB.NET），但我不确定除了编写代码以包含文件之外如何使用它。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2017-03-09T19:50:40.460

似乎有多种方法可以做到这一点......这就是在 Visual Studio 2013 中对我有用的方法。

1.  在 WiX 项目**属性/工具设置**中，将其添加到**附加参数/编译器**：：

    ```
    -dReleaseType=$(ReleaseType) 
    ```

2.  创建一个仅包含附加文件的组件组（这留给读者练习）

3.  在主`.wxs`文件中添加类似这样的内容，其中`PDBFile`步骤 2 中组件组的 id 是：

    ```
    <!-- Installs a PDB file for daily builds -->
    <?if $(var.ReleaseType) = daily ?>
      <ComponentGroupRef Id="PDBFile"/>
    <?endif?> 
    ```

4.  运行以在环境中使用 set`devenv`构建 WiX 项目`ReleaseType`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-10T00:07:58.113

看起来我可以使用 Component NeverOverwriteOption="yes" 选项来确保安装程序在文件存在时不会覆盖它们。

除非环境条件的东西很容易弄清楚 - 这似乎达到了我所需要的，即不覆盖生产中的文件。

我还发现在卸载时它正在删除所有文件夹（如预期的那样），但为了保留模板路径，我可以使用 Permanent="yes" 属性。

经过讨论，我们决定将所有文件保存在源代码管理中并进行部署。但至少我了解了 NeverOverwriteOption 和 Permanent :)

# .net - 我们应该切换到默认使用异步 I/O 吗？

> ID：12793749
> 
> 赞同：13
> 
> 时间：2012-10-09T06:07:09.557
> 
> 标签：.net, asynchronous, task-parallel-library

凭借异步 I/O 的优势以及现在非常容易编码和编写（使用 Await 和 TAP 方法），我想知道我们是否应该默认使用异步，并且只在需要时使用同步来调整性能。

异步 I/O 释放调用线程并允许在等待结果时执行其他操作。另一方面，异步 I/O 比同步慢一点。

为了强制执行响应式 UI，WinRT 设计人员发现提供仅异步方法是可以接受的。

AFAIK Windows 文件 I/O 内部是异步的。天真地看着这个我不清楚，为什么 .NET 中的异步文件 i/O 应该比同步慢。

我通常倾向于简单性和健壮性，并且只在必要时调整性能。过去，我们默认使用同步，但调用某些服务以及手机等平台强制执行异步除外。我们很少使用异步进行调整。

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2012-10-09T09:19:16.303

在 C# 5 中使用异步 IO 变得非常容易，但仍然存在与之相关的生产力成本。例如，您需要在必要时在以前没有的地方添加新的关键字。您必须更改方法的返回类型。

如果您稍后决定某个方法应该执行 IO，则必须更改整个调用链以切换到异步。它是一种非局部的变化，传播到其他模块。

您无法分析异步 IO。分析工具什么也没有。如果您暂停调试器，则任何线程堆栈上都没有任何内容。似乎没有人在做任何事情。那是因为异步 IO 不持有线程。它只是一个数据结构（内核中的一个对象）。

该决定还取决于应用程序类型。在 WinForms 或 WPF 应用程序中，我宁愿使用异步，因为它可以很好地集成到 UI 线程中。

在 ASP.NET/WCF 设置中，主要优点是在调用长时间运行的后端服务时不会耗尽线程池。如果你没有这样的问题，而且我认为这相当罕见，那么你从异步 IO 中获得的收益很少。实际上，默认情况下您会失去性能。

在 Metro 环境中，已为您做出决定。微软（合法地）选择用开发人员的生产力换取用户体验。

所以这不是一个明确的决定。在这一点上，利弊都相当薄弱。出于这个原因，我避免给出明确的建议。这在很大程度上取决于具体情况。

* * *

## 回答 #2

> 赞同：11
> 
> 时间：2012-10-09T11:10:55.203

我建议`async`在您有自然异步操作时使用，否则使用同步代码。确实`async`会稍微慢一些，但在大多数情况下，它就像“打开悍马中的收音机”一样慢。

在 UI 程序中，`async`提高响应能力。在服务器应用程序中，`async`增加了可扩展性。

> AFAIK Windows 文件 I/O 内部是异步的。天真地看着这个我不清楚，为什么 .NET 中的异步文件 i/O 应该比同步慢。

异步代码比较慢，因为它必须分配结构来跟踪异步操作；同步代码只使用当前线程（及其堆栈）。所以操作本身并没有变慢，但由于垃圾收集器的压力更大，整体速度略有下降。

> 我通常倾向于简单性和健壮性，并且只在必要时调整性能。

我同意。如果您有一个自然异步的操作（例如 I/O），请公开一个`async`API。如果您有一个自然同步的操作，请公开一个同步 API。Stephen Toub 在这方面有几篇很棒的博客文章（[这里](http://blogs.msdn.com/b/pfxteam/archive/2012/03/24/10287244.aspx)和[这里](http://blogs.msdn.com/b/pfxteam/archive/2012/03/24/10287244.aspx)）。

# jquery - Jquery获得相同值的文本框？

> ID：12793753
> 
> 赞同：0
> 
> 时间：2012-10-09T06:07:27.477
> 
> 标签：jquery, jquery-selectors

在下表中，我有场景下拉列表和标识符文本框，如何编写选择器以获取相同的标识符值文本框？

![在此处输入图像描述](../Images/43252eaeacbc907e01cb49b17483568a.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-09T06:11:12.327

使用jquery**`filter`**方法

```
$(".txtbox").filter(".05-vl-94") 
```

同样的方式，您可以按要创建的组过滤值

# android - 当使用的脚本在本地机器上运行时，获取在模拟器中运行的网页的页面源？

> ID：12793755
> 
> 赞同：0
> 
> 时间：2012-10-09T06:07:39.037
> 
> 标签：android, emulation, webpage, monkeyrunner

这是我需要做的，

1.  我需要获取在模拟器中运行的网页的页面源。
2.  将要执行任务的脚本正在本地机器上运行。
3.  该脚本是使用monkeryrunner制作的。

有任何想法吗？谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-19T21:50:24.450

前几天我读到了一篇博客文章：

[http://dtmilano.blogspot.co.uk/2012/11/androidviewclient-getting-browsers-html.html](http://dtmilano.blogspot.co.uk/2012/11/androidviewclient-getting-browsers-html.html)

我相信它只会在模拟器中运行，但你的标签中有它，所以这很可能完全符合你的要求！

# image - 表格，放置在图像顶部的矩形在 SSRS 的预览模式下无法正常显示

> ID：12793756
> 
> 赞同：0
> 
> 时间：2012-10-09T06:07:39.160
> 
> 标签：image, ssrs-2008, rectangles

我想在 SSRS 中绘制一个圆角矩形。但是，经过大量研究后，我知道目前没有这方面的财产。因此，我正在尝试使用带有圆角的矩形图像，并在此之上尝试对齐图像中的表格和其他控件。但是，当我预览它或将其导出为 PDF 文件时，首先显示图像，然后在所有其他控件下方显示。我做错什么了吗。请告诉我。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-18T03:57:58.040

尝试以下操作：

1.  在您最喜欢的图像绘制程序中创建图像（圆角矩形）。我在**Microsoft Paint中完成了我的**

    并将其保存为 JPEG。

2.  在 SSRS 报表设计中，在**报表数据**窗格中，右键单击**图像**>>**添加图像**并指向您在步骤 1 中创建的图像。（无标题，在我的情况下，请参见下图）

    ![在报告中嵌入图像](../Images/e42479ab5e12a4f62721a950882c8bcf.png)

3.  在 SSRS 报表设计中，将工具箱中的矩形添加到设计图面并在**属性**窗格中：
    a) 查找**BackgroundImage**属性 单击其 + 号。然后
    b) 输入**Source** as **Embedded**、**BackgroundRepeat**作为**Clip**和**Value**属性的值，当您单击其值的下拉列表时，应显示您在步骤 2 中嵌入的图像的名称，选择此名称

    Resize your rectangle to适合形状并将您的项目添加到此矩形。

    **编辑：**

    关于评论中的问题，我不认为图像矩形的大小可以动态增加。如果是这种情况，那么您可能需要找到其他解决方法

    高温高压

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-09T20:35:24.920

为什么不尝试将图像矩形和其他控件等包含在 SSRS 矩形中`BorderStyle = None`...

# php - PHP中特定的JSON格式

> ID：12793759
> 
> 赞同：2
> 
> 时间：2012-10-09T06:07:44.530
> 
> 标签：php, json

我需要这种带有 php 代码的 json 格式

有没有办法用 PHP 生成这样的 JSON？

```
[
      {
         "name":"Steve",
         "company":"Apple"
      },
      {
         "name":"Bill",
         "company":"Microsoft"
      }
] 
```

谁能帮忙？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-09T06:10:09.567

采用`json_encode`

```
$var = json_encode($array); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-09T06:28:17.690

你想这样做吗：

```
$a = array();
$b = array('name' => '', 'company' => '');

$b['name'] = 'Steve';
$b['company'] = 'Apple';
$a[]= $b;

$b['name'] ='Bill';
$b['company']='Microsoft';
$a[]= $b;

echo json_encode($a); 
```

这会给你

```
[
  {
    "name": "Steve",
    "company": "Apple"
  },
  {
    "name": "Bill",
    "company": "Microsoft"
  }
] 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-10-09T06:30:10.157

你可以`json_encode`这样使用：

```
$my_data = array(
    array(
        'name' => 'Steve',
        'company' => 'Apple'
    ),
    array(
        'name' => 'Bill',
        'company' => 'Microsoft'
    )
);
echo json_encode($my_data); 
```

两个内部数组都包含相同的键并不重要，因为它们仍然位于*单独的数组*中，并且在以 JSON 编码时将正确形成。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-10-09T06:09:50.623

试试这个：

```
json_encode($variableName); 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-10-09T06:34:43.917

这

```
$array = array (
  array ('name' => 'Steve', 'company' => 'Apple', ),
  array ('name' => 'Bill', 'company' => 'Microsoft', ),
);
$result = json_encode($array); 
```

还有这个

```
$person_steve = new stdClass;
$person_steve->name = 'Steve';
$person_steve->company = 'Apple';
$person_bill = new stdClass;
$person_bill->name = 'Bill';
$person_bill->company = 'Microsoft';
$array = array ($person_steve, $person_bill);
$result = json_encode($array); 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-10-09T06:12:55.133

您可以使用[`json_encode`](http://php.net/manual/en/function.json-encode.php)

```
# To Output
die(json_encode($myarray));

# To Store
$myJson = json_encode($myarray); 
```

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2012-10-09T06:13:36.987

只是关于 json_encode 的注释，如果您的代码需要，您需要添加方括号。

```
echo '['.json_encode(array('index1'=>1)).']'; 
```

# python - 如何使用 Python 在后台运行 DOS 批处理文件？

> ID：12793760
> 
> 赞同：2
> 
> 时间：2012-10-09T06:07:43.683
> 
> 标签：python, command-line, subprocess

如何使用 Python 在后台运行 DOS 批处理文件？

我在 C:\ 中有一个 test.bat 文件
现在，我想在后台使用 python 运行这个 bat 文件，然后我想返回到 python 命令行。

`subprocess.call('path\to\test.bat')`我使用从 python 命令行运行批处理文件。它在与 python 命令行相同的窗口中运行批处理文件。

如果仍然不清楚/ TL.DR-

怎么了：

```
>>>subprocess.call('C:\test.bat')
(Running test.bat. Can't use python in the same window) 
```

我想要的是：

```
>>>subprocess.call('C:\test.bat')
(New commandline window created in the background where test.bat runs in parallel.)
>>> 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-09T06:43:34.460

这似乎对我有用：

```
import subprocess

p = subprocess.Popen(r'start cmd /c C:\test.bat', shell=True)

p.wait()

print 'done' 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-09T06:10:17.800

文档`subprocess.call`说

> 运行 args 描述的命令。等待命令完成，然后返回 returncode 属性。

在您的情况下，您不想在继续程序之前等待命令完成，因此请`subprocess.Popen`改用：

```
subprocess.Popen('C:\test.bat') 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2016-04-25T12:20:52.960

我会用

```
subprocess.Popen("test.bat", creationflags=subprocess.CREATE_NEW_CONSOLE)
#subprocess.call("ls")
#etc... 
```

So then you can keep calling other commands in the same file, having "test.bat" run on a separate cmd window.

# android - 如何在android中显示地图的中心半径部分

> ID：12793761
> 
> 赞同：1
> 
> 时间：2012-10-09T06:07:45.393
> 
> 标签：android, gps, android-maps

我搜索了很多，但没有找到。很抱歉，如果这是一个重复的问题..

我想要的是我想像这样在android中突出显示我的地图的中心部分..

![在此处输入图像描述](../Images/80f1cf05fa9b9f693e0e0022544d7566.png)

![在此处输入图像描述](../Images/5770c2734490572b7fca2c237994d0b3.png)

正如你在上面看到的两个图像都显示了一些半径的圆......所以你知道你是如何实现这个的吗？？？

帮助将不胜感激。提前致谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-09T06:14:39.427

请流动路径，这是在android中显示地图中心半径部分的演示工作

android-sdk -> 附加组件 -> addon_google_apis_google_inc_8 -> 示例 -> MapsDemo。

我认为它对你有帮助。

谢谢。

# sql - (Serial Column) 过滤 SQL 查询并将结果缩短到 Range

> ID：12793774
> 
> 赞同：0
> 
> 时间：2012-10-09T06:08:38.317
> 
> 标签：sql, sql-server, tsql, sql-server-2000

例如，我有列表pallet_id 和serial

我想从

```
pallet_id       serial 
PA1             161
PA1             163
PA1             164
PA1             165
PA1             166
PA1             177
PA1             178
PA1             179 
```

到

```
pallet_id       serial 
PA1             161-161
PA1             163-166
PA1             177-179 
```

连续剧增加 1 需要坚持作为一个范围组

目前我只使用视图。如果有另一种方法可以做到这一点而不会导致存储过程，请告知。

我现在正在开发 SP，因为我找不到其他方法。

使用 MSSQL2000 或更低版本.. 6.5？正如这里所说.. 所以这个 SQL 版本中没有函数。升级也不是一种选择。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-09T06:24:35.757

```
create table #T
(
  ID int identity,
  pallet_id varchar(8),
  serial int
)

insert into #T(pallet_id, serial)
select pallet_id, serial
from YourTable
order by pallet_id, serial

select pallet_id, min(serial) min_serial, max(serial) max_serial
from #T
group by pallet_id, serial - ID

drop table #T 
```

[SQL小提琴](http://sqlfiddle.com/#!6/5f0ad/1/0)

* * *

## 回答 #2

> 赞同：-2
> 
> 时间：2012-10-09T06:20:23.380

就个人而言，我不喜欢像你展示的那样返回压缩在一起的数据（161-161）。它是前端呈现数据以供显示的功能。下面的查询在单独的列中返回原始范围，但如果您确实需要，将它们组合起来很容易。

这里的解决方案适用于 SQL Server 2005 及更高版本，它可以真正开始被认为是“现代”的。它使用的技术是通过区分行位置与 id 进行分组。顺序范围与 ID 等距，因此可以很好地组合在一起。

要在 SQL Server 6.5 (!!) 中获得相同的结果，您必须通过#temp 表进行管道传输，利用INSERT..SELECT..ORDER BY 语句中的 ORDERING [GUARANTEE](http://blogs.msdn.com/b/sqltips/archive/2005/07/20/441053.aspx)生成行编号为[迈克尔已经展示](https://stackoverflow.com/a/12793992/573261)了（只需将引用更改`@T`为`#T`）。

```
-- sample table for discussion
create table tbl (
  pallet_id varchar(10),
  serial bigint);
insert tbl values
  ('PA193876',157029161),
  ('PA193876',157029163),
  ('PA193876',157029164),
  ('PA193876',157029165),
  ('PA193876',157029166),
  ('PA193876',157029177),
  ('PA193876',157029178),
  ('PA193876',157029179);

-- the query
select pallet_id, min(serial) serial_from, max(serial) serial_to
from
(
  select pallet_id, serial, grp = serial - row_number() over (order by serial)
  from tbl
) X
group by pallet_id, grp
order by pallet_id, serial_from;

-- the results
PALLET_ID   SERIAL_FROM SERIAL_TO
PA193876    157029161   157029161
PA193876    157029163   157029166
PA193876    157029177   157029179 
```

例如`right(min(serial),10) + ' - ' + right(max(serial),10) serial_range`

# iphone - 获取 InApp 购买价格层的旧价格

> ID：12793776
> 
> 赞同：0
> 
> 时间：2012-10-09T06:08:40.363
> 
> 标签：iphone, in-app-purchase, app-store-connect

由于某些 InApp 购买原因，我的应用程序被拒绝。现在，我更改了非消耗品的价格等级。而且我正在设备中测试我是否会改变价格。

但它仍然在我的应用程序中向我显示旧价格。直到现在我还没有上传我的应用程序。（即在被拒绝后再次上传）

我已将价格层的现有日期和结束日期设置为“现在”和“无”

是否需要时间才能生效，或者我错过了什么。

出了什么问题？

# eclipse - 如何从 IProduct 检索 Eclipse RCP 产品版本

> ID：12793777
> 
> 赞同：1
> 
> 时间：2012-10-09T06:08:46.250
> 
> 标签：eclipse, rcp

我希望以编程方式确定我的 RCP 产品的版本。

我找到了返回 IProduct 对象的 Platform.getProduct() 方法。但是，这没有版本详细信息。我可以导航到 getDefiningBundle 对象，但它只有插件项目的版本 ID，而不是 .product 文件中的版本号。

欢迎任何提示。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2016-04-19T14:51:08.397

最终发现您可以查询 p2 产品 IU 以检索已安装产品的版本。我在自定义启动处理程序中执行此操作，并且有很多空保护，因为我不完全确定在开发环境启动配置中可以使用多少这个 API。你可能会很乐意删除那些！我认为您可能可以为特定产品 IU 构建一个 P2 查询，而不是像我一样遍历所有产品。很确定也可以在不使用 ProvisioningUI 的情况下获取活动配置文件，但这对我来说已经足够了。

```
import org.eclipse.equinox.p2.core.IProvisioningAgent;
import org.eclipse.equinox.p2.engine.IProfile;
import org.eclipse.equinox.p2.engine.IProfileRegistry;
import org.eclipse.equinox.p2.metadata.IInstallableUnit;
import org.eclipse.equinox.p2.operations.ProvisioningSession;
import org.eclipse.equinox.p2.query.IQuery;
import org.eclipse.equinox.p2.query.IQueryResult;
import org.eclipse.equinox.p2.query.QueryUtil;
import org.eclipse.equinox.p2.ui.ProvisioningUI;

private org.eclipse.equinox.p2.metadata.Version getProductVersion() {
    ProvisioningUI provisioningUI = ProvisioningUI.getDefaultUI();
    if (provisioningUI == null) return null;

    String profileId = provisioningUI.getProfileId();
    ProvisioningSession session = provisioningUI.getSession();
    if (profileId == null || session == null) return null;

    IProvisioningAgent provisioningAgent = session.getProvisioningAgent();
    if (provisioningAgent == null) return null;

    IProfileRegistry registry = (IProfileRegistry) provisioningAgent.getService(IProfileRegistry.SERVICE_NAME);
    if (registry == null) return null;

    IProfile profile = registry.getProfile(profileId);
    if (profile == null) return null;

    IQuery<IInstallableUnit> iuProductQuery = QueryUtil.createIUProductQuery();
    IQueryResult<IInstallableUnit> result = profile.query(iuProductQuery, null);
    if (result == null) return null;

    for (IInstallableUnit productIU : result) {
        if (PRODUCT_ID.equals(productIU.getId())) {
            return productIU.getVersion();
        }
    }

    return null;
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2017-04-18T05:55:11.050

您好，此代码可能会帮助您获取产品文件的版本

```
IProduct product = Platform.getProduct();

Version version = product.getDefiningBundle().getVersion(); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-11T02:42:19.950

正如[@dystroy](https://stackoverflow.com/users/263525/dystroy)提到的，IProduct 中唯一可用的产品版本是定义/品牌捆绑包的版本。如果它们匹配，那么你就完成了。

如今，产品版本存储在产品 IU 中的 RCP 应用程序的 p2 配置文件中*。*

```
eclipse -noSplash \
-application org.eclipse.equinox.p2.director \
-metadataRepository \
file://$(pwd)/p2/org.eclipse.equinox.p2.engine/profileRegistry/SDKProfile.profile \
-list | grep ^org.eclipse.sdk.ide 
```

返回`org.eclipse.sdk.ide=4.2.2.M20121008-1100`。但我不确定从当前运行实例的 p2 配置文件中提取 IU 所需的 p2 魔法。

# wordpress - WordPress 投资组合插件

> ID：12793779
> 
> 赞同：-3
> 
> 时间：2012-10-09T06:08:59.423
> 
> 标签：wordpress, image-gallery, portfolio

我正在使用 Wordpress 网站。我想像网站上的投资组合一样管理我的项目记录。它必须管理项目类别、细节和画廊。我想按类别显示它们，如果有人想查看单个项目详细信息，应该会出现一个包含项目详细信息和图像的弹出窗口。

请让我知道是否有投资组合/画廊插件？提前致谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-21T11:46:27.553

请注意：我在这里假设您`localhost/wordpress/wp-content/uploads/2012/10/Home-Page1.jpg`输入了 Option->Image/Video URL 字段。

您错过了“http://”部分，Nimble Portfolio 插件使用 prettyPhoto 来处理图像和视频，并且它需要一个带有协议前缀的完整路径。

你应该把`http://localhost/wordpress/wp-content/uploads/2012/10/Home-Page1.jpg`而不是`localhost/wordpress/wp-content/uploads/2012/10/Home-Page1.jpg`

# android - 官方 Android API 中的 BT LE 支持

> ID：12793781
> 
> 赞同：0
> 
> 时间：2012-10-09T06:09:07.337
> 
> 标签：android, bluetooth

我正在为所有 BT LE Android 设备中的 BT LE 支持搜索官方 android API。摩托罗拉和博通应该有自己的支持蓝牙 LE 的 API，但这对其他设备来说是负担不起的。谁能告诉我，是否有任何官方的 Android API 支持 BT LE，如果没有，那么它将在哪个版本的 Android 中可用

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-09T06:13:54.420

不知道天气会有官方支持。但是看看code.google上的那个[项目](http://code.google.com/p/broadcom-ble/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-08-01T21:25:18.033

SDK 18 代码现在具有 Google API。

文档在这里：http: [//developer.android.com/guide/topics/connectivity/bluetooth-le.html](http://developer.android.com/guide/topics/connectivity/bluetooth-le.html)

我正在测试它，它在我的 Nexus 4 上崩溃了，所以不确定它是否已准备好迎接黄金时段。

# android - Android SDK 在 android.widget.PopupWindow$1.onScrollChanged 崩溃（PopupWindow.java:132）

> ID：12793784
> 
> 赞同：4
> 
> 时间：2012-10-09T06:09:16.053
> 
> 标签：android

谷歌开发团队的人可以解释如何避免在 pre-ics 设备上发生这种崩溃吗？在我的例子中，ListView 项目上的 ImageButton 是 PopupWindow 的锚点，用于创建下拉菜单。我已经尝试了所有 popup.dismiss() 、 popup= null 等，但似乎没有什么可以阻止在适配器重置时出现此问题。

我收到以下异常：

```
 FATAL EXCEPTION: main
 java.lang.NullPointerException
 at android.widget.PopupWindow$1.onScrollChanged(PopupWindow.java:132)
 05-21 17:02:27.736: E/AndroidRuntime(25836): at   
 android.view.ViewTreeObserver.dispatchOnScrollChanged(ViewTreeObserver.java:607) 
```

此弹出窗口位于列表项上。从 ListView 中删除最后一个列表项后，我将 resetAdapter 设置页脚。然后，当我离开屏幕时，会发生此错误。

不在冰淇淋三明治中：冰淇淋三明治。见[https://android.googlesource.com/platform/frameworks/base/+/749b0eb2c9a52bb188fd8900859b3725889e0ec0%5E!/](https://android.googlesource.com/platform/frameworks/base/+/749b0eb2c9a52bb188fd8900859b3725889e0ec0%5E!/)

这表明了与 PopupWindow 的空锚点相关的修复。可以做什么？在我的例子中，ListView 项目中的一个按钮是弹出窗口的锚点。同样的问题在这里：

[https://github.com/JakeWharton/ActionBarSherlock/issues/487](https://github.com/JakeWharton/ActionBarSherlock/issues/487)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-04T04:57:27.827

不知道 OP 是否还需要这个，因为半年后我才看到这个..

这在 ICS 中已修复。但是，您可以通过反射分配一个固定的滚动监听器！

```
if(Build.VERSION.SDK_INT<Build.VERSION_CODES.ICE_CREAM_SANDWICH){
    try {
      final Field fAnchor = PopupWindow.class.getDeclaredField("mAnchor");
      fAnchor.setAccessible(true);
      Field listener = PopupWindow.class.getDeclaredField("mOnScrollChangedListener");
      listener.setAccessible(true);
      final ViewTreeObserver.OnScrollChangedListener originalListener = (ViewTreeObserver.OnScrollChangedListener) listener.get(window);
      ViewTreeObserver.OnScrollChangedListener newListener=
                new ViewTreeObserver.OnScrollChangedListener() {
                    public void onScrollChanged() {
                        try {
                            // PopupWindow implementation has WeakReference<View>
                            WeakReference<View> mAnchor = (WeakReference<View>) fAnchor.get(window);
                            if (mAnchor == null || mAnchor.get() == null) {
                                return;
                            } else {
                               originalListener.onScrollChanged();
                            }
                        } catch (Exception e) {
                            e.printStackTrace();
                        }
                    }
                };
      listener.set(window,newListener);
    } catch (Exception e) {
      e.printStackTrace();  
    }
  } 
```

# android - 如何同步列表适配器和游标的行ID

> ID：12793789
> 
> 赞同：0
> 
> 时间：2012-10-09T06:09:56.680
> 
> 标签：android, listadapter

我有一个数据库，并使用列表适配器将其填充到列表视图中。当我从列表视图中删除任何行时，下一行的 id 不会改变。例如，如果我有 id 从 1 到 8 的行并且我删除了第 7 行，那么新的行 id 是 1、2、3、4、5、6、8。但在数据库中，行 ID 为 1、2、3、4、5、6、7。如何同步这两个，以便我可以使用 ListView 的 onclick 事件从数据库中访问正确的元素？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-09T06:24:42.107

您提供的信息不够清楚。您正在从列表视图中删除一行 id 7 并且您的表同时包含第 7 行和第 8 行。所以您仍然拥有所需的所有信息。如果您也从数据库表中删除信息，那么您将删除 id 为 7 的行。仍然没有任何问题。您可以根据列表项 id 从表中访问行。

所以可能是你弄乱了列表项位置和列表项 id。考虑 id 而不是项目的位置。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-09T06:46:02.183

只需调用以下命令来更新您的 ListView ：

```
cursor.requery();
adapter.notifyDataSetChanged(); 
```

# c# - SMTP 中的传递通知

> ID：12793790
> 
> 赞同：15
> 
> 时间：2012-10-09T06:09:59.283
> 
> 标签：c#, .net, smtp

下面的代码工作正常。但是，我需要将失败或成功通知发送到特定地址 (b@technospine.com)。但是我收到了寄往 FromMail 地址（A@technospine.com）的送达通知邮件。你能帮我解决这个问题吗？

```
SmtpClient smtpClient = new SmtpClient();

MailMessage message = new MailMessage();
MailAddress fromAddress = new MailAddress("A@technospine.com", "BALA");
MailAddress adminAddress = new MailAddress("b@technospine.com");

smtpClient.Host = "Mail Server Name";
smtpClient.Port = 25;
smtpClient.UseDefaultCredentials = true; 

message.From = fromAddress;
message.To.Add(_sendTo); //Recipent email
message.Subject = _subject;
message.Body = _details;
message.IsBodyHtml = true;

message.Headers.Add("Disposition-Notification-To", "b@technospine.com");

message.DeliveryNotificationOptions = DeliveryNotificationOptions.OnSuccess;

message.ReplyTo = adminAddress;

smtpClient.DeliveryMethod = SmtpDeliveryMethod.Network;
smtpClient.Send(message); 
```

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2012-10-09T22:26:27.083

简短的回答是您所要求的不能以您假设的直接方式完成。

这仅在某些条件下有效。最容易描述的是，如果您用于发送邮件的 SMTP 服务器与托管收件人电子邮件消息的域的服务器相同（您在设置 smtpClient 的 .HOST 属性时引用的服务器）。因此，如果您只向本地 SMTP 邮件服务器上的收件人发送邮件，那么这可能会非常可靠。但这取决于正在使用的特定 SMTP 服务器软件，并且可能还取决于它的配置方式。

要解释为什么会这样，您必须意识到只有最后一个接收实际托管所需电子邮件地址的邮件的 SMTP 邮件服务器才能权威地回答这个问题，这是否是一个有效的电子邮件地址。如果消息在到达该最终权威服务器的途中必须通过任何其他电子邮件服务器，则必须将消息从一个服务器顺序传递到链中的下一个服务器，直到它到达该最终权威服务器。这意味着不存在用于验证特定地址的保证方法。再加上某些域被配置为充当黑洞并吞下非法地址的邮件这一事实，您可以看到有很多原因导致您不能依赖该方法。

因此，许多发往外部域的邮件将必须至少到达一个单独的 SMTP 服务器，并且取决于该服务器如何回答或转发邮件，它将确定任何特定接收域的结果。事实上，监控 FROM 地址以查找退回的消息也不是万无一失的，正如我之前关于某些主机将一些看起来无效的消息放入黑洞的评论一样。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2014-04-14T20:28:36.203

如果收件人电子邮件地址有效，您不会立即获得有关邮件成功传递的返回值；看签名：

```
public void Send(MailMessage message) 
```

每当收件人电子邮件地址无效/伪造时，SMTP 服务器将几乎立即通过“无法投递”通知通知发件人（或您为通知指定的任何人）。

SMTP 服务器需要定期重试传送。当收件人电子邮件地址是有效地址，但由于某种原因 SMTP 服务器无法投递邮件时，如果在一定时间后无法投递邮件，SMTP 服务器将向发件人返回失败消息。

RFC 2821 包含更多细节。

**从第 2.1 节基本结构**

> 换句话说，邮件传输可以发生在原始 SMTP 发件人和最终 SMTP 收件人之间的单个连接中，也可以发生在通过中间系统的一系列跃点中。在任何一种情况下，都会发生对消息的正式责任移交：协议要求服务器**承担传递**消息**或正确报告失败的责任。**

请参阅第 4.5.4 和 4.5.5 节

**来自第 6.1 节的可靠交付和电子邮件回复**

> 如果在接受消息后出现传递失败，接收方 SMTP 必须制定并发送通知消息。此通知必须使用信封中的空（“<>”）反向路径发送。此通知的接收者必须是信封返回路径（或 Return-Path: 行）中的地址。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-09T21:48:16.650

根据[MSDN](http://msdn.microsoft.com/en-us/library/swas0fwc.aspx)，.Send 将抛出[SmtpFailedRecipientsException](http://msdn.microsoft.com/en-us/library/system.net.mail.smtpfailedrecipientsexception.aspx)编辑：如果无法将 MESSAGE 传递给一个或多个收件人。您可以在异常的 Failed Recipient 属性中找到有关哪一个的信息。因此，如果您尝试捕获该异常并验证您在异常中寻找的地址，那可能会有所帮助。

# android - 用一个新的字符串数组填充 android listview

> ID：12793792
> 
> 赞同：0
> 
> 时间：2012-10-09T06:10:05.370
> 
> 标签：android, android-listview

我只是填充`ListView`了一个字符串数组，然后在`onClickListener()`一个按钮中，我想用新的字符串数组重新填充该列表视图。

我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-09T07:19:21.353

You should use ListActivity instead of ListView. See Example

//List Activity Class

```
 public class YourClass extends ListActivity 
    {
    public void onCreate(Bundle savedInstanceState)

    {

      super.onCreate(saveInstanceState);

       setContentView(R.layout.alertresult);

       showInList();

    }

    public void showInList()
    {

     ArrayAdapter adapter=new yourAdapter();

     setListAdapter(adapter);
    }

    } 
```

//Sample XML Layout for **alertresult**

```
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:background="@drawable/bg"
    android:orientation="vertical" >

    <ListView
        android:id="@android:id/list"
        android:layout_width="fill_parent"
        android:layout_height="fill_parent"
        android:layout_weight="1"
        android:fastScrollEnabled="true" >
    </ListView>

</LinearLayout> 
```

You just need to change ListView id to @android:id/list and setListAdapter

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-09T06:14:28.303

您可以将新列表设置为列表视图（`myListView`）并调用`myListView.invalidateViews();`

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-09T06:14:38.943

我假设您正在使用带有 ArrayAdapter 的 ListView，并且 ArrayAdapter 构造函数需要一个数组或一个数组列表作为参数：

```
public void ArrayAdapter(Context context, int resId, Object[] array); 
```

用这个构造函数创建ArrayAdapter，当你想改变数据时，只需改变引用数组的值，调用notifyDatasetChanged()方法。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-09T06:19:20.843

使用从适配器中删除数据`adapter.clear()`并将新数据填充到适配器并调用

```
adapter.notifyDataSetChanged() 
```

# android - 独立于 LDPI、MDPI、HDPI 的测量

> ID：12793797
> 
> 赞同：2
> 
> 时间：2012-10-09T06:10:22.170
> 
> 标签：android

谁能告诉我android中是否有任何单元，如果我用一个值设置边距/填充的值，那么它将在其他类型的设备中自动调整。

例如 - 如果我根据 HDPI 将边距/填充设置为 10dip，则在 mdpi 或 ldpi 中使用相同的代码对齐将不会正常。我对此进行了搜索，但找不到任何解决方案。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-17T19:21:51.740

MDPI、LDPI、HDPI 等... 指定设备的分辨率（像素密度）。它与屏幕的物理尺寸无关。您可以拥有带有 XHDPI 屏幕的小型手机，以及带有 LDPI 的大型平板电脑，反之亦然。

如果要相对于设备的大小调整项目大小，可以提高小部件的 LayoutWeight。屏幕上的剩余空间分布在权重非零的小部件上。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-10-09T06:20:45.087

首先，我建议您使用 8dp 作为视图之间的常用填充/边距，这是标准的，现在正如您所说，您需要一种根据屏幕尺寸自动调整您提到的空间大小的措施。正确的？他们应该考虑使用 small/normal/large/xlarge 而不是 ldpi/hdpi。有关更多信息，我建议您阅读本指南[http://developer.android.com/guide/practices/screens_support.html](http://developer.android.com/guide/practices/screens_support.html)

# javascript - jquery load() 指向第二个视频源，而不仅仅是显示海报

> ID：12793799
> 
> 赞同：0
> 
> 时间：2012-10-09T06:10:26.870
> 
> 标签：javascript, jquery, html5-video

我已经为 HTML5 Vido 开发了 Jquery API。它工作正常，除了一个问题。

任务：必须在视频末尾显示海报图像。

我用过的代码：

```
$hdVideo.bind('ended', function() {
                $hd_play_btn.removeClass('hd-paused-button');
                $(".hd-video-main-control").removeClass('hd-video-main-control-none');
                $hdVideo.load();
            }); 
```

问题：它在视频末尾显示海报。但不幸的是，第二个视频源在 chrome 13.0 中再次播放视频时开始。

我的 HTML 代码是：

```
<video width="630" height="354" class="hd-flv-player" poster="asserts/poster.png" controls="controls" data-name="demo video" data-uid="57fb2708">
        <source src="http://hdflvplayer.net/hdflvplayer/videos/Casion-Royale-Chase.mp4" data-quality="hd"/>
        <source src="http://static.clipcanvas.com/sample/clipcanvas_14348_offline.mp4" data-quality="sd"/>
        <source src="http://video.webmfiles.org/big-buck-bunny_trailer.webm" data-quality="hd"/>
        <source src="http://video.webmfiles.org/big-buck-bunny_trailer.webm" data-quality="sd"/>
</video> 
```

JQuery 插件调用代码：

```
$(function(){
    var $hdVid = jQuery.noConflict();
    $hdVid(function(){
        $hdVid('.hd-flv-player').hdVideo();
    });
}); 
```

请让我知道如何修复我的错误。

# .net - 无法在 .net 3.5 框架上使用 oracle.DataAccess.Client

> ID：12793807
> 
> 赞同：1
> 
> 时间：2012-10-09T06:11:20.280
> 
> 标签：.net, oracle, odp.net, odac

问题是我使用 ODTwithODAC112030 的 oracle.dataaccess.client 在 .net 框架上创建了项目，该项目适用于 .net 4.0 或最新版本，并且客户端的机器具有 .net 3.5。我无法在客户端机器上安装 .net 4。.net 3.5 有 ODP 吗？我怎么解决这个问题？？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-09T08:17:28.030

通过该安装，您应该拥有适用于 .Net 2.0 的 Oracle 数据提供程序。使用那个。它适用于.Net 3.5。

# javascript - 如何在javascript中将参数传递给URL？

> ID：12793809
> 
> 赞同：1
> 
> 时间：2012-10-09T06:11:21.967
> 
> 标签：javascript, ajax, forms

我需要将参数传递给 URL。我已经提交了代码。

如何将文本框中的`username`和输`password`​​入传递到我的代码中的 URL。感谢您的帮助..

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-09T06:17:11.843

您不应发送`password`URL。

如果你想传递一些其他细节：更新这两行如下：

```
 data: {data1:$("input#data1").val(),data2:$("input#data2").val()},
             url: "http://localhost:53179/hdfcmobile/hdfc.ashx", 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-09T06:15:19.580

如果要传递 url 参数，则要使用：

```
type: 'GET' 
```

并且：

```
url: 'http://localhost:53179/hdfcmobile/hdfc.ashx 
```

进入 .ajax 配置，使用 type:'POST' 会将字段发布到标题而不是 url。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-09T06:37:40.700

试试下面的代码：

您可以在此模式中尝试您的代码...

```
var sdate = $('#banners_startdate').val();

var edate = $('#banners_enddate').val();

        if(sdate != '' && edate != ''){
            $.ajax({
                url: 'your url',
                data: 'apiname=get_banner_stat_platform_sharing&var=bannerstats&sdate=' + sdate + '&edate=' + edate,
                dataType: 'html',
                success: function(data){ 
                                         $('#bannerstats').html(data);
                                          return false;
                                       }
            });
        } 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-09T06:43:37.847

其中用户名和密码可以通过 id 获取：

```
function ajaxcall(username,password)
   {
         jQuery.ajax({

                      type: "POST",

                      url: "Enter Url to pass",

                      data: {user: username, pass: password},

                      dataType: "html",

                      success: function(data) {
                          //write code what you want to do here
                      }

         });

   } 
```

您可以通过`$_POST['user']`和获取页面上的值`$_POST['pass']`。

# javascript - 拆分 Javascript 字符串

> ID：12793814
> 
> 赞同：3
> 
> 时间：2012-10-09T06:11:35.917
> 
> 标签：javascript, split, var

我有一个名为 cookie 的 javascript 字符串，它看起来像这样：

```
__utma=43024181.320516738.1346827407.1349695412.1349761990.10; __utmz=43024181.1346827407.1.1.utmcsr=(direct)|utmccn=(direct)|utmcmd=(none); __utmb=43024181.19.10.1349761990; __utmc=43024181; language=en 
```

它可以有更多;xxxxxx; 但总是条目将被;包围。现在我想将我的 var 拆分为一个数组并搜索条目“language=xy”，该条目应保存在“newCookie”中。

谁能帮助我，我完全坚持将 var 拆分为数组并搜索条目。

感谢帮助和分享

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-09T06:18:35.730

```
var cookie = '__utma=43024181.320516738.1346827407.1349695412.1349761990.10; __utmz=43024181.1346827407.1.1.utmcsr=(direct)|utmccn=(direct)|utmcmd=(none); __utmb=43024181.19.10.1349761990; __utmc=43024181; language=en;';

var cookie_array = cookie.split(';'); // Create an Array of all cookie values.

// cookie_array[0] = '__utma=43024181.320516738.1346827407.1349695412.1349761990.10'
// cookie_array[1] = '__utmz=43024181.1346827407.1.1.utmcsr=(direct)|utmccn=(direct)|utmcmd=(none)'
// cookie_array[2] = '__utmb=43024181.19.10.1349761990'
// cookie_array[3] = '__utmc=43024181'
// cookie_array[4] = 'language=en'

var size = cookie_array.length; // Get Array size to prevent doing lookups in a loop.

for (var i = 0; i < size; i++) {
    var keyval = cookie_array[i].split('='); // Split into a key value array

    // What we're trying to find now.
    // keyval[0] = 'language'
    // keyval[1] = 'en'

    if (keyval[0] == 'language') { //keyval[0] is left of the '='
        //write new cookie value here
        console.log('Language is set to ' + keyval[1]);  // keyval[1] is right side of '='
    }
} 
```

希望这可以帮助你。

有关该`split()`方法的更多信息，请查看[`split()`Mozilla Developer Network (MDN) 文档](https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/String/split)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-09T07:16:01.633

为此使用一个简单的正则表达式：

```
var getLanguage = function(cookie){
    var re = new RegExp(/language=([a-zA-Z]+);/);
    var m = re.exec(cookie);
    return m?m[1]:null;
};

var lang = getLanguage('__utma=43024181.320516738.1346827407.1349695412.1349761990.10; __utmz=43024181.1346827407.1.1.utmcsr=(direct)|utmccn=(direct)|utmcmd=(none); __utmb=43024181.19.10.1349761990; __utmc=43024181; language=en;'); 
// lang = "en" 
```

# javascript - 如何获取所有 HTML 表单数据并使用 javascript 将其保存为 pdf 格式？

> ID：12793818
> 
> 赞同：0
> 
> 时间：2012-10-09T06:12:03.580
> 
> 标签：javascript, jquery, html, pdf

假设我们在 html 页面中有字段作为名字和姓氏。我们想要获取这些值并通过单击按钮或链接将其保存在 pdf 文件中。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-09T06:18:52.343

```
$('.myForm input[type=submit]').click(function(){
   var val1 = $('#field1').val();
   //your logic
}); 
```

您的逻辑取决于您创建 pdf 的策略。您可以进行 ajax 调用并将表单数据发布到您使用服务器端编程语言创建 pdf 的服务器上，或者您可以尝试使用 javascript pdf 框架。

例如[http://code.google.com/p/jspdf/](http://code.google.com/p/jspdf/)

请参阅此演示[http://snapshotmedia.co.uk/blog/jspdf](http://snapshotmedia.co.uk/blog/jspdf)

# android - 如何使用带有sqlite的Eclipse在Android中使用主细节概念

> ID：12793819
> 
> 赞同：1
> 
> 时间：2012-10-09T06:12:04.017
> 
> 标签：android, gridview, android-sqlite

如何在android中使用gridview？以及如何从android中的sqlite获取数据并在gridview中显示？我可以在 android 4.0 中为三星 Galaxy Note 实现主细节概念吗？请给我有关 Android 中主细节概念的所有信息。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-09T06:23:05.530

首先，如果您能告诉我们您是否尝试过任何东西，那就太好了；）

这是[Sqlite 交互](http://developer.android.com/training/basics/data-storage/databases.html)和[gridview的开始](http://developer.android.com/guide/topics/ui/layout/gridview.html)

# javascript - IE10 中 jQuery 动画的奇怪延迟

> ID：12793825
> 
> 赞同：2
> 
> 时间：2012-10-09T06:12:33.437
> 
> 标签：javascript, jquery, windows-8, jquery-animate, internet-explorer-10

我正在使用 JavaScript 构建一个 windows8 应用程序。

我有以下方法：

```
var openBag = function () {

    logTime('inside openBag');

    $('#bag').stop().animate({
        right: 0
    }, {
        duration: 400,
        complete: function(){
            logTime('after openBag');
        }
    });
};

var logTime = function(str) {
    console.log((new Date()).getSeconds(), str);
} 
```

这是我在最近一次运行中得到的输出：

```
9,inside openBag
16,after openBag 
```

为什么动画前会有 7 秒的延迟？动画本身如预期只用了400毫秒，动画流畅。但是，延迟是在动画开始之前。

延迟因测试而异，我不知道可能导致问题的原因。

# python - 从列表与字典返回值

> ID：12793834
> 
> 赞同：4
> 
> 时间：2012-10-09T06:13:04.323
> 
> 标签：python

我正在制作一个国际象棋引擎，对于我的棋盘，我可以使用列表或字典。由于片方表的实现使引擎慢了两倍，我想知道我是否使用了错误的数据结构。我正在使用列表，但想知道字典是否是一个更好的主意？

列表示例：

```
list_ex = [50, 30, 30, 30
           20, 30, 50, 40]
call = list_ex[2] 
```

字典示例：

```
dict_ex = {0: 50, 1: 30, 2: 30, 3: 30,
           4: 20, 5: 30, 6: 50, 7: 40}
call = dict_ex[2] 
```

如您所见，我总是知道索引，我只需要返回与该索引关联的值。哪种数据结构会更快，字典或列表？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-10-09T06:18:00.177

正如您在[TimeComplexity](http://wiki.python.org/moin/TimeComplexity)上的 python wiki 中看到的那样，在获取 O(1) 项目的平均情况下，它们都具有相同的复杂性`list`。`dict`因此，简单的基于索引的查找应该没有太大的区别。

编辑：我刚刚编写了一些基准代码，它获取第一个元素，一个来自中心，一个来自最后一个。您会看到一个列表有一个小的进步（尽管考虑到代码运行 1000000 次，0.01s 的偏差并没有那么大）。

总之，如果我处于您的情况，我会使用一个列表，因为它也更适合基于索引的请求的问题。

```
>>> from timeit import Timer
>>> t=Timer("(l[0], l[3], l[7])","l=[50, 30, 30, 30, 20, 30, 50, 40]")
>>> sorted(t.repeat(5))
[0.17861513267149576, 0.17863279532627985, 0.17883092423682, 0.17892576501373014, 0.18901037296996037]
>>> t=Timer("(l[0], l[3], l[7])","l={0: 50, 1: 30, 2: 30, 3: 30, 4: 20, 5: 30, 6: 50, 7: 40}")
>>> sorted(t.repeat(5))
[0.18541179903735383, 0.1855488765975224, 0.1855757545505412, 0.18578041096390052, 0.21753940019925722] 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-10-09T06:24:37.537

就查找速度而言，您最好使用列表而不是字典。元组甚至更快。

```
timeit dict_ex[2]
10000000 loops, best of 3: 148 ns per loop

timeit list_ex[2]
10000000 loops, best of 3: 116 ns per loop

tuple_ex=tuple(list_ex)

timeit tuple_ex[2]
10000000 loops, best of 3: 112 ns per loop 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-10-09T06:19:46.150

[`timeit`](http://docs.python.org/py3k/library/timeit.html)您可以使用模块 ( )轻松对此进行基准测试`python -m timeit -S "setup" -- "statement"`。但是在这种情况下，我可以告诉你字典不会胜过列表，因为与字典查找相比，列表查找是微不足道的。两者都将很快，独立于集合中的键和项目数量，但列表将在微基准测试中获胜。**当然**，这不应该决定你的决定。追求清晰，优化算法而不是无关紧要的细节，过早的优化等等，令人作呕。

但我仍然会说列表更合适，无论是在语义上（你没有自由格式的映射，你有一个序列），还是为了防止错误（通过拒绝超出范围和非整数索引）。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-09T06:19:11.560

对于这样的事情，Python 通常会很慢。

看看this other [SO question](https://stackoverflow.com/questions/513882/python-list-vs-dict-for-look-up-table)，第一个答案。

如果您的对象可以是不可变的，我会说您最好的选择是首先使用**元组。**如果没有，那么坚持使用列表。`list`无论哪种方式，和之间都不会有太大的区别`dict`。

我看到**halex**也刚刚回答，并且似乎同意。

# javascript - 如何 gzip javascript 和 css 文件以提高页面速度

> ID：12793836
> 
> 赞同：-5
> 
> 时间：2012-10-09T06:13:07.947
> 
> 标签：javascript, css, gzip

我有一个网站，现在我想提高网站的页面速度，所以我想 gzip javascript、css 文件，任何人都可以建议我并解释一下如何...

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-09T06:18:45.010

当您使用 apache 网络服务器时，您可以将以下配置添加到服务器配置或 .htaccess 文件中：

```
<IfModule mod_deflate.c>
     <LocationMatch "\.(css|js|x?html?|php)$">
         SetOutputFilter DEFLATE
     </LocationMatch>
</IfModule> 
```

# c# - VSTO 项目中的无窗口 WPF 窗口问题

> ID：12793837
> 
> 赞同：1
> 
> 时间：2012-10-09T06:13:12.437
> 
> 标签：c#, .net, wpf, vsto

我有一个在 wpf 项目中运行良好的无窗口 wpf 窗口

现在，当从 VSTO 项目中显示该窗口时，会显示边框、标题和关闭按钮

关于为什么以及如何解决这个问题的任何帮助？

谢谢

# ruby-on-rails - 设计中未初始化的常量 ActiveSupport::SecureRandom

> ID：12793843
> 
> 赞同：3
> 
> 时间：2012-10-09T06:13:53.453
> 
> 标签：ruby-on-rails, ruby-on-rails-3.2

我是 Rails 的新手。我正在使用 Devise，当我尝试登录未初始化的常量 ActiveSupport::SecureRandom 时出现此错误

我正在运行 Rails 3.2.8 和 Devise 2.1.2

如果您需要查看其他内容，请告诉我。

全跟踪

```
devise (1.1.rc0) lib/devise.rb:241:in `friendly_token'
devise (1.1.rc0) lib/devise/encryptors/base.rb:16:in `salt'
devise (1.1.rc0) lib/devise/models/database_authenticatable.rb:42:in `password='
activerecord (3.2.8) lib/active_record/attribute_assignment.rb:85:in `block in  assign_attributes'
activerecord (3.2.8) lib/active_record/attribute_assignment.rb:78:in `each'
activerecord (3.2.8) lib/active_record/attribute_assignment.rb:78:in `assign_attributes'
activerecord (3.2.8) lib/active_record/base.rb:498:in `initialize'
devise (1.1.rc0) lib/devise/controllers/internal_helpers.rb:68:in `new'
devise (1.1.rc0) lib/devise/controllers/internal_helpers.rb:68:in `build_resource'
devise (1.1.rc0) app/controllers/devise/sessions_controller.rb:7:in `new'
actionpack (3.2.8) lib/action_controller/metal/implicit_render.rb:4:in `send_action'
actionpack (3.2.8) lib/abstract_controller/base.rb:167:in `process_action'
actionpack (3.2.8) lib/action_controller/metal/rendering.rb:10:in `process_action'
actionpack (3.2.8) lib/abstract_controller/callbacks.rb:18:in `block in process_action'
activesupport (3.2.8) lib/active_support/callbacks.rb:436:in   `_run__3599699405390575833__process_action__3177745746729954596__callbacks'
activesupport (3.2.8) lib/active_support/callbacks.rb:405:in `__run_callback'
activesupport (3.2.8) lib/active_support/callbacks.rb:385:in `_run_process_action_callbacks'
activesupport (3.2.8) lib/active_support/callbacks.rb:81:in `run_callbacks'
actionpack (3.2.8) lib/abstract_controller/callbacks.rb:17:in `process_action'
actionpack (3.2.8) lib/action_controller/metal/rescue.rb:29:in `process_action'
actionpack (3.2.8) lib/action_controller/metal/instrumentation.rb:30:in `block in process_action'
activesupport (3.2.8) lib/active_support/notifications.rb:123:in `block in instrument'
activesupport (3.2.8) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
activesupport (3.2.8) lib/active_support/notifications.rb:123:in `instrument'
actionpack (3.2.8) lib/action_controller/metal/instrumentation.rb:29:in `process_action'
actionpack (3.2.8) lib/action_controller/metal/params_wrapper.rb:207:in `process_action'
activerecord (3.2.8) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
actionpack (3.2.8) lib/abstract_controller/base.rb:121:in `process'
actionpack (3.2.8) lib/abstract_controller/rendering.rb:45:in `process'
actionpack (3.2.8) lib/action_controller/metal.rb:203:in `dispatch'
actionpack (3.2.8) lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
actionpack (3.2.8) lib/action_controller/metal.rb:246:in `block in action'
devise (1.1.rc0) lib/devise/failure_app.rb:43:in `call'
devise (1.1.rc0) lib/devise/failure_app.rb:43:in `recall'
devise (1.1.rc0) lib/devise/failure_app.rb:27:in `respond'
actionpack (3.2.8) lib/abstract_controller/base.rb:167:in `process_action'
actionpack (3.2.8) lib/abstract_controller/base.rb:121:in `process'
actionpack (3.2.8) lib/action_controller/metal.rb:203:in `dispatch'
actionpack (3.2.8) lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
actionpack (3.2.8) lib/action_controller/metal.rb:246:in `block in action'
devise (1.1.rc0) lib/devise/failure_app.rb:16:in `call'
devise (1.1.rc0) lib/devise/failure_app.rb:16:in `call'
warden (0.10.7) lib/warden/manager.rb:114:in `call_failure_app'
warden (0.10.7) lib/warden/manager.rb:100:in `process_unauthenticated'
warden (0.10.7) lib/warden/manager.rb:47:in `call'
actionpack (3.2.8) lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
rack (1.4.1) lib/rack/etag.rb:23:in `call'
rack (1.4.1) lib/rack/conditionalget.rb:35:in `call'
actionpack (3.2.8) lib/action_dispatch/middleware/head.rb:14:in `call'
actionpack (3.2.8) lib/action_dispatch/middleware/params_parser.rb:21:in `call'
actionpack (3.2.8) lib/action_dispatch/middleware/flash.rb:242:in `call'
rack (1.4.1) lib/rack/session/abstract/id.rb:205:in `context'
rack (1.4.1) lib/rack/session/abstract/id.rb:200:in `call'
actionpack (3.2.8) lib/action_dispatch/middleware/cookies.rb:339:in `call'
activerecord (3.2.8) lib/active_record/query_cache.rb:64:in `call'
activerecord (3.2.8) lib/active_record/connection_adapters/abstract/connection_pool.rb:473:in `call'
actionpack (3.2.8) lib/action_dispatch/middleware/callbacks.rb:28:in `block in call'
activesupport (3.2.8) lib/active_support/callbacks.rb:405:in `_run__656958163067492405__call__3074455685232703614__callbacks'
activesupport (3.2.8) lib/active_support/callbacks.rb:405:in `__run_callback'
activesupport (3.2.8) lib/active_support/callbacks.rb:385:in `_run_call_callbacks'
activesupport (3.2.8) lib/active_support/callbacks.rb:81:in `run_callbacks'
actionpack (3.2.8) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
actionpack (3.2.8) lib/action_dispatch/middleware/reloader.rb:65:in `call'
actionpack (3.2.8) lib/action_dispatch/middleware/remote_ip.rb:31:in `call'
actionpack (3.2.8) lib/action_dispatch/middleware/debug_exceptions.rb:16:in `call'
actionpack (3.2.8) lib/action_dispatch/middleware/show_exceptions.rb:56:in `call'
railties (3.2.8) lib/rails/rack/logger.rb:26:in `call_app'
railties (3.2.8) lib/rails/rack/logger.rb:16:in `call'
actionpack (3.2.8) lib/action_dispatch/middleware/request_id.rb:22:in `call'
rack (1.4.1) lib/rack/methodoverride.rb:21:in `call'
rack (1.4.1) lib/rack/runtime.rb:17:in `call'
activesupport (3.2.8) lib/active_support/cache/strategy/local_cache.rb:72:in `call'
rack (1.4.1) lib/rack/lock.rb:15:in `call'
actionpack (3.2.8) lib/action_dispatch/middleware/static.rb:62:in `call'
railties (3.2.8) lib/rails/engine.rb:479:in `call'
railties (3.2.8) lib/rails/application.rb:223:in `call'
rack (1.4.1) lib/rack/content_length.rb:14:in `call'
railties (3.2.8) lib/rails/rack/log_tailer.rb:17:in `call'
rack (1.4.1) lib/rack/handler/webrick.rb:59:in `service'
/Users/Malone/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
/Users/Malone/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
/Users/Malone/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread' 
```

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-10-09T23:47:09.587

尝试使用`SecureRandom`而不是`ActiveSupport::SecureRandom`. `ActiveSupport::SecureRandom`在 Rails 3.1 中已弃用并在 Rails 3.2 中删除

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-07-19T05:37:39.680

可能是你正在使用

```
Devise.friendly_token 
```

而不是这种用法：

```
SecureRandom.base64(15).tr('+/=', 'xyz') 
```

它可能会起作用。

# wpf - WPF UserControl 公开自定义属性

> ID：12793850
> 
> 赞同：4
> 
> 时间：2012-10-09T06:14:08.053
> 
> 标签：wpf, mvvm, user-controls, dependency-properties

我正在开发一个遵循 MVVM 模型的应用程序并在 VB 中编写我的代码。

我创建了自己的 UserControl，我们称之为“Arrow”，它在其 ViewModel 中有一个名为“Angle”的属性。在我的主窗口中，我有一个`ListBox`绑定到一个集合的集合，每个`ListItem`都是一个箭头。

请问如何将`ListBox`'s`DataSource`中的角度值绑定到我的 UserControl 的每个实例的 Angle 属性？

从我目前的研究来看，我似乎需要`DependencyProperty`为 Angle 创建一个。如果是这种情况，我应该在我的 ViewModel、XAML 或其他地方的代码隐藏中创建它吗？

当您知道如何操作时，我相信这很简单！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-10T00:09:58.610

将`DependencyProperty`在 UserControl（代码隐藏）中定义。然后将该属性绑定到 ViewModel 中的属性

# c# - 如何在 C# 中自定义 WinForm 应用程序界面

> ID：12793853
> 
> 赞同：-2
> 
> 时间：2012-10-09T06:14:15.480
> 
> 标签：c#, winforms

我在 C# 中创建了一个 Windows 窗体应用程序。我设计了带有图片框和背景图片的界面。但是我需要在硬编码后添加图片，我不知道如何自定义这些界面。（基本上是主题）、背景图片和图片框图片。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-09T06:21:16.470

如果您查看设置背景时设置的属性，您还可以更改该运行时。通过编写正确的代码。

[DevExpress](http://www.devexpress.com/products/NET/Controls/WinForms/Skins/)有很多主题，但不是免费的。也看看这个[codeplex](http://winformstyles.codeplex.com/)文章

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-09T06:32:42.530

您希望何时进行此更改？希望您可以添加一些事件处理程序，允许您添加在您想要进行此修改时将执行的代码。

至于如何进行更改。您将需要组件的成员变量的名称。

说，你有一个`PictureBox`名字叫`PicMyPicture`. 然后你可以这样做：

```
PicMyPicture.Image = image; 
```

或者

```
PicMyPicture.BackGroundImage = image; 
```

或类似的其他属性和组件。

请查看您的 IDE，它可能允许您定义事件处理程序。例如，您可以在 Visual Studio 的属性窗口（您使用的是 Visual Studio 吗？）或其他 IDE 中的类似位置找到组件的事件。

* * *

好的，但是上面有一个问题......你从哪里得到那个图像？

嗯，它可能来自文件、应用程序中的资源、从 Internet 下载、从数据库中恢复，甚至在运行时生成。

您的案例更常见的是资源和文件，因此我将介绍这些内容。

此代码从磁盘加载图像：

```
var image = Image.FromFile(@"C:\path\path\some.png"); 
```

您可能想知道...如果我不知道最终用户将应用程序放在哪里，我该如何编写路径？好吧，要将文件从相对路径加载到应用程序的工作目录，您可以这样做：

```
var path = Environment.CurrentDirectory;
if (!path.EndsWith(Path.DirectorySeparatorChar.ToString()))
{
    path += Path.DirectorySeparatorChar;
}
path += "some.png";
var image = Image.FromFile(path); 
```

此代码从应用程序中的资源加载图像：

```
var image = new Bitmap
(
    System.Reflection.Assembly.GetEntryAssembly().
    GetManifestResourceStream("MyProject.Resources.myimage.png")
); 
```

您必须确保事先已将资源添加到项目中。查看 IDE 上的文档以了解如何操作。

# iphone - 在 iPhone 中显示具有自定义尺寸的 admob 广告

> ID：12793865
> 
> 赞同：4
> 
> 时间：2012-10-09T06:14:43.310
> 
> 标签：iphone, admob

我可以在 iphone 中显示具有自定义尺寸的 admob 广告，例如 280x50，而不是通常的 320x50 吗？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-10-09T06:22:10.593

## 自定义广告尺寸

除了标准的 AdMob 广告单元外，DFP 还允许您将任何尺寸的广告单元投放到应用程序中。请注意，为广告请求定义的广告尺寸（宽度、高度）应与应用程序上显示的广告视图的尺寸（即 DFPBannerView）相匹配。

**例子：**

```
// Define custom GADAdSize of 280x30 for DFPBannerView
GADAdSize customAdSize = GADAdSizeFromCGSize(280, 30);
// Don't use autorelease if you are using ARC in your project
self.adBanner = [[[DFPBannerView alloc] initWithAdSize:customAdSize] autorelease]; 
```

注意：DFP 目前不支持智能横幅。

## 多种广告尺寸

DFP 允许您指定可能有资格投放到 DFPBannerView 中的多种广告尺寸。使用此功能需要三个步骤：

在 DFP 用户界面中，创建一个定位到与不同尺寸广告素材相关联的同一广告单元的订单项。在您的应用程序中，设置 DFPBannerView 上的 validAdSizes 属性：

```
// Define an optional array of GADAdSize to specify all valid sizes that are appropriate
// for this slot. Never create your own GADAdSize directly. Use one of the
// predefined standard ad sizes (such as kGADAdSizeBanner), or create one using
// the GADAdSizeFromCGSize method.
//
// Note: Ensure that the allocated DFPBannerView is defined with an ad size. Also note
// that all desired sizes should be included in the validAdSizes array.  

GADAdSize size1 = GADAdSizeFromCGSize(CGSizeMake(120, 20));
GADAdSize size2 = GADAdSizeFromCGSize(CGSizeMake(250, 250));
GADAdSize size3 = GADAdSizeFromCGSize(CGSizeMake(320, 50));
NSMutableArray *validSizes = [NSMutableArray array];
[validSizes addObject:[NSValue valueWithBytes:&size1 objCType:@encode(GADAdSize)]];
[validSizes addObject:[NSValue valueWithBytes:&size2 objCType:@encode(GADAdSize)]];
[validSizes addObject:[NSValue valueWithBytes:&size3 objCType:@encode(GADAdSize)]];
bannerView_.validAdSizes = validSizes; 
```

实施 GADAdSizeDelegate 方法来检测广告尺寸变化。

```
@protocol GADAdSizeDelegate <NSObject>
- (void)adView:(GADBannerView *)view willChangeAdSizeTo:(GADAdSize)size;
@end 
```

请记住在发出广告请求之前使用 setAdSizeDelegate: 设置委托。

```
[bannerView_ setAdSizeDelegate:self]; 
```

在释放视图之前，请务必将 GADBannerView 的 adSizeDelegate 属性设置为 nil：

```
- (void)dealloc {
 bannerView_.adSizeDelegate = nil;

 // Don't release the bannerView_ if you are using ARC in your project
 [bannerView_ release];
 [super dealloc];
} 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2015-08-25T12:13:36.363

我遇到了同样的问题。过去它尽可能地改变广告的 UIView 对象的框架，但现在它会立即导致`didFailToReceiveAdWithError:`.

`DFPBannerView setSize:`此外，使用非标准尺寸调用无效。

我的解决方案是简单地设置的缩放`DFPBannerView`：

```
 GADBannerView *retVal = [self.dfpAd];
    float scaleX = w / (retVal.adSize.size.width - 0.5f);
    float scaleY = h / (retVal.adSize.size.height - 0.5f);
    float scaleFactor = MAX(scaleX, scaleY);

    retVal.transform = CGAffineTransformMakeScale( scaleFactor, scaleFactor);

    //        [((DFPBannerView *) retVal) resize:GADAdSizeFromCGSize(CGSizeMake(w, h))]; // Of course not working....

    // iPhone 6 and above fix. Won't rescale correctly if you don't layout. Do this after addSubView!
    //        [retVal setNeedsLayout];
    //        [retVal layoutIfNeeded]; 
```

另外 - 请注意 iPhone 6 及更高版本的修复。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2018-05-07T11:27:20.533

**在 Swift 4 中显示带有自定义框架的 adMob（模拟器中的测试代码）**

```
 class ViewController: UIViewController, GADBannerViewDelegate {

    override func viewDidLoad() {
        super.viewDidLoad()
        print("Google Mobile Ads SDK version: \(GADRequest.sdkVersion())")

        let bannerView = GADBannerView(adSize: kGADAdSizeMediumRectangle)

        //OR You can give custom frame
        //let bannerView = GADBannerView.init(frame:CGRect(x: 0, y: 0, width: 300, height: 250))

        bannerView.adUnitID = "YOUR adUnitID"
        bannerView.rootViewController = self
        bannerView.delegate = self
        //bannerView.adSize = kGADAdSizeMediumRectangle

        let request = GADRequest()
        request.testDevices = [kGADSimulatorID];

        bannerView.load(request)
        self.view.addSubview(bannerView)
    }

    //MARK : GADBannerView Delegates
    /// Tells the delegate an ad request loaded an ad.
    func adViewDidReceiveAd(_ bannerView: GADBannerView) {
        print("adViewDidReceiveAd")
    }

    /// Tells the delegate an ad request failed.
    func adView(_ bannerView: GADBannerView,
                didFailToReceiveAdWithError error: GADRequestError) {
        print("adView:didFailToReceiveAdWithError: \(error.localizedDescription)")
    }

    /// Tells the delegate that a full-screen view will be presented in response
    /// to the user clicking on an ad.
    func adViewWillPresentScreen(_ bannerView: GADBannerView) {
        print("adViewWillPresentScreen")
    }

    /// Tells the delegate that the full-screen view will be dismissed.
    func adViewWillDismissScreen(_ bannerView: GADBannerView) {
        print("adViewWillDismissScreen")
    }

    /// Tells the delegate that the full-screen view has been dismissed.
    func adViewDidDismissScreen(_ bannerView: GADBannerView) {
        print("adViewDidDismissScreen")
    }

    /// Tells the delegate that a user click will open another app (such as
    /// the App Store), backgrounding the current app.
    func adViewWillLeaveApplication(_ bannerView: GADBannerView) {
        print("adViewWillLeaveApplication")
    }
} 
```

**注意：在 AppDelegate**

```
GADMobileAds.configure(withApplicationID: "YOUR ApplicationID") 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-10-09T06:21:10.600

根据 iOS 5 版本，`kGADAdSizeBanner`只允许特定的大小更改。请参阅下面的代码。

```
bannerView_ = [[GADBannerView alloc]initWithFrame:CGRectMake(0.0,0.0, 320.0, 300.0)];
bannerView_.adUnitID = MY_BANNER_UNIT_ID;
bannerView_.rootViewController = self;
[self.view addSubview:bannerView_];
[bannerView_ loadRequest:[GADRequest request]]; 
```

虽然您可以查看此链接... [我的 admob 横幅显示在顶部](https://stackoverflow.com/questions/11286301/my-admob-banner-shows-in-top)

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-10-09T06:22:48.737

试试我的指示

在 YourviewController 头文件中

```
#import "GADBannerView.h"

@interface YourviewController : UIViewController 
{
  GADBannerView *admob_view;
} 
```

在 YourViewcontroller 实现文件之后：

```
#import "MainViewController.h"
#import <QuartzCore/QuartzCore.h>
#define AdMob_ID @"a150349d7c43186" 

@implementation YourviewController 
{
  -(void)viewDidLoad
 {
    admob_view = [[GADBannerView alloc]
                  initWithFrame:CGRectMake(0.0,415.0,320,60)];//in this line mention your adview size

    admob_view.adUnitID = AdMob_ID;
    admob_view.rootViewController = self;
    [self.view addSubview:admob_view];

    GADRequest *r = [[GADRequest alloc] init];
    r.testing = YES;
    [admob_view loadRequest:r];

 }

} 
```

上面的代码注意这一行：`admob_view = [[GADBannerView alloc] initWithFrame:CGRectMake(0.0,415.0,320,60)];`

您可以使用**CGRectMake(x,y,width,height)**来分配修改您的 admob 广告视图，例如您在代码下面的要求：

```
admob_view = [[GADBannerView alloc] initWithFrame:CGRectMake(0.0,415.0,280,50)]; 
```

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2012-10-09T06:47:19.337

您可以看到此链接[https://developers.google.com/mobile-ads-sdk/docs/admob/intermediate#ios](https://developers.google.com/mobile-ads-sdk/docs/admob/intermediate#ios) 并根据 iphone 中无法实现的 admob 广告的自定义尺寸

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2021-09-27T06:34:27.513

> 无需自己提供大小，只需传递要在其中添加 GADBannerView 的视图的大小。

例如：-

```
 let size = GADAdSize(size: self.adView.size, flags: 1)
    let bannerView = GADBannerView(adSize: size)
    bannerView.adUnitID = "ca-app-pub-3940256099942544/2934735716"
    bannerView.rootViewController = self
    self.adView.addSubview(bannerView)

    bannerView.load(GADRequest()) 
```

> 这是更干净和简单的方法。您将根据容器视图大小看到广告。

* * *

## 回答 #8

> 赞同：-2
> 
> 时间：2012-10-09T06:25:54.510

只需转到`GADBannerView.h`文件，您将找到以下代码

```
#define GAD_SIZE_320x50     CGSizeMake(320, 50) 
```

只需编辑`CGSizeMake(320, 50)`为`CGSizeMake(280, 50)`

# java - 在 App Engine 上添加安全提供程序时出现 AccessControlException

> ID：12793869
> 
> 赞同：1
> 
> 时间：2012-10-09T06:15:06.667
> 
> 标签：java, google-app-engine, jce

```
static {
    Security.addProvider(new iaik.security.provider.IAIK());
} 
```

上面的代码行是我的 GAE/Java 项目的一部分。不幸的是，它在执行时引发了异常：

```
java.security.AccessControlException: access denied (java.security.SecurityPermission putProviderProperty.IAIK) 
```

我不能在 Google App Engine 上使用我想要的 JCE（在这种情况下为 IAIK JCE）吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-10T13:47:01.193

GAE/J 文档有一个“JRE 类白名单”页面，其中列出了 GAE/J 中允许的 JRE 类。

您的代码可能正在尝试访问此列表之外的 JRE 类。

# android - 如何在android中的PostExecute上访问列表项

> ID：12793872
> 
> 赞同：1
> 
> 时间：2012-10-09T06:15:18.237
> 
> 标签：android

我有一个`BaseAdapter`，我有一个`Button`。当用户单击该按钮时，我需要调用 a`Service`并且需要将数据设置为该按钮`onpostExecute()`

```
public class MenuTagsAdapter extends BaseAdapter {
        View v;

        @Override
        public int getCount() {
            // TODO Auto-generated method stub
            return BaseApp.getTagsAroundMeList().size();
        }

        @Override
        public Object getItem(int position) {
            // TODO Auto-generated method stub
            return position;
        }

        @Override
        public long getItemId(int position) {
            // TODO Auto-generated method stub
            return position;
        }

        @Override
        public View getView(int position, View convertView, ViewGroup parent) {
            LayoutInflater layoutInflater = (LayoutInflater) getSystemService(Context.LAYOUT_INFLATER_SERVICE);

            v = layoutInflater.inflate(R.layout.menutaglistitem, null);

            TextView textViewName = (TextView) v
                    .findViewById(R.id.textViewName);
            final Button buttonAction = (Button) v
                    .findViewById(R.id.buttonAction);

            textViewName.setText("#"
                    + BaseApp.getTagsAroundMeList().get(position).name);

            buttonAction
                    .setText(BaseApp.getTagsAroundMeList().get(position).action);

            buttonAction.setOnClickListener(new View.OnClickListener() {

                @Override
                public void onClick(View v) {

                    if (buttonAction.getText().toString()
                            .equalsIgnoreCase("follow")) {

                        buttonAction.setBackgroundResource(R.drawable.followbutton);

                        if (appUtils.getNetworkInfo(AmgonnaHome.this)) {

                            new FollowInterestAsyTask().execute();
                        } else {
                            NetworkDialogClass.createDAlertDialog(
                                    AmgonnaHome.this,
                                    getString(R.string.network_error));
                        }

                    } else {

                        buttonAction.setBackgroundResource(R.drawable.unfollowbutton);

                        if (appUtils.getNetworkInfo(AmgonnaHome.this)) {

                            new UnfollowInterestAsyTask().execute();
                        } else {
                            NetworkDialogClass.createDAlertDialog(
                                    AmgonnaHome.this,
                                    getString(R.string.network_error));
                        }

                    }

                }
            });

            return v;
        }

    }

public class FollowInterestAsyTask extends AsyncTask<Void, Void, Void> {
        boolean progressDialogStatus = true;

        @Override
        protected void onPreExecute() {
            progressDialog = ProgressDialog.show(AmgonnaHome.this,
                    "Please Wait", "Connecting to Server");
            progressDialog.setOnCancelListener(new OnCancelListener() {

                @Override
                public void onCancel(DialogInterface dialog) {
                    progressDialogStatus = false;

                }
            });
        }

        @Override
        protected Void doInBackground(Void... params) {
            TaskUrl = BaseApp.baseUrl + BaseApp.followInterest;

            StringBuilder stringBuilder = new StringBuilder();
            stringBuilder.append("user_id=" + amgonnaUserId);
            // stringBuilder.append("&interestName="+);
            stringBuilder.append("&interestName=");
            ConnectionManager connectionManager = new ConnectionManager();
            String response = connectionManager.setUpHttpPost(TaskUrl,
                    stringBuilder.toString());

            if (response != null) {
                try {
                    JSONObject jsonObject = new JSONObject(response);
                    errStatus = jsonObject.getInt("errStatus");
                    status = jsonObject.getString("status");

                } catch (Exception e) {
                    // TODO: handle exception
                }

            }

            return null;
        }

        @Override
        protected void onPostExecute(Void result) {
            if (progressDialogStatus) {

                progressDialog.dismiss();

                if (errStatus == 0) {

// here i need to set the status message to button on adapter list item

                }

            }
        }

    } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-09T19:10:08.733

只需将要在按钮中显示的字符串保存在变量中即可。

例如：

```
 String temp=btnText; 
```

然后再次调用您的列表适配器。并将您的 getView() 更改为

```
buttonAction.setText(temp); 
```

# css - CSS用旋转向下扩展文本？

> ID：12793879
> 
> 赞同：2
> 
> 时间：2012-10-09T06:16:29.033
> 
> 标签：css, transform

我已经将一些文本旋转了-90度，但是如果我增加文本长度，它会“向上”扩展（即正确，旋转-90度），但我希望文本向下扩展（即有点像旋转 90 度而不是 -90 度，但我仍然想要 -90 度方向）。

这是我正在查看的内容：

![在此处输入图像描述](../Images/a52e846cdbf216a58789c0bd1d303c74.png)

这是我的html和css：

```
<div class="header"><div class="wrapper"><span>Products</span></div></div>

.section > .header { display: block; position: relative; float: left; font-size: 48pt;      width: 157px; height: 100%; }
.section > .header > .wrapper { width: 100%; height: 100%; 
-webkit-transform: rotate(-90deg);
-moz-transform: rotate(-90deg);
-ms-transform: rotate(-90deg);
-o-transform: rotate(-90deg);
-ms-transform: rotate(-90deg);
transform: rotate(-90deg); }
.section > .header > .wrapper > span { display: block; position: relative; left: 25px; height: 100%;
} 
```

有没有办法用 CSS 做到这一点？我尝试了很多东西（旋转包装器，然后反向旋转内部跨度，对齐文本）和其他东西，但无济于事。

谢谢，瑞安

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-09T06:35:48.050

您可以通过`left`降低`.header > .wrapper > span`

[检查这个演示](http://jsfiddle.net/libinvbabu/L4YXX/)

在那我将左值更改为`-120px`

```
.section > .header > .wrapper > span { 
    display: block; 
    position: relative; 
    left: -120px; //changed the value
    height: 100%;
}​ 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-09T17:03:16.020

想通了：（需要更正确地进行文本对齐）

```
.section > .header > .wrapper { display:block; text-align: right; }
.section > .header > .wrapper > span { display: block; -webkit-transform: rotate(-90deg); -moz-transform: rotate(-90deg); height: 100px;  width: 600px; position: relative; top: 260px; left: -180px; } 
```

不管怎么说，还是要谢谢你！

# cygwin - 在 Windows (Cygwin) 上安装 Hive 和 sqoop

> ID：12793883
> 
> 赞同：0
> 
> 时间：2012-10-09T06:16:46.307
> 
> 标签：cygwin, hive, sqoop

有人可以帮我提供在 Cygwin 上安装 Hive 和 Sqoop 的步骤。我已经在 Cygwin 上安装了 Hadoop-0.20.2 和 Hbase latest stable-0.94.1 并且运行良好。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-21T21:16:19.617

通常，Hadoop 发行版包括这两者。检查包含 Hadoop 二进制文件的目录，看看是否发现了 bin 文件。例如，**sqoop**只是简单地命名为 sqoop 并且是可执行的。

# android - 是否有不使用过时方法的 Android 更新日期覆盖流？

> ID：12793888
> 
> 赞同：2
> 
> 时间：2012-10-09T06:17:01.373
> 
> 标签：android, coverflow

我正在研究一些 Coverflow 解决方案，但基于 Neil Davis 代码、Polidea 示例（基于 Neil Davis 代码）和一些第三种匿名解决方案的解决方案，它们都使用不推荐使用的小部件或不推荐使用的方法。

（画廊小部件，GestureDetector，...）

是否有任何类似于提到但更新日期没有弃用的库？

肿瘤坏死因子

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-18T07:21:05.543

您可以使用水平滚动视图代替画廊小部件。在水平滚动视图中添加水平方向的线性布局并将子视图（图像）添加到线性布局。通过使用子视图的左侧和屏幕中心，您可以旋转图像。它的工作原理我。万事如意

或者您可以使用扩展 CoverAbsSpinner 的 neil davis 代码。在 coverflow 构造函数中更改 mGestureDetector=new GestureDetector(context,this)。在 GestureDetector 中，所有构造函数都不被弃用。

# c++ - c++ 从专门的模板类继承

> ID：12793892
> 
> 赞同：1
> 
> 时间：2012-10-09T06:17:26.673
> 
> 标签：c++, templates, inheritance, template-specialization

```
template<typename T1, typename T2, typename T3>
class A: public A<T1, T2, void> {
public:
    T1 a;
    T2 b;
    T3 c;

    void set() { a = aa; } // Cannot find variable `aa' here!
};

template<typename T1, typename T2>
class A<T1, T2, void> {
public:
    T1 aa;
    T2 bb;
}; 
```

如上所述，我有一个模板类`A`，以及它的部分特殊形式`A'`。那么A有可能继承A'吗？根据g ++，它似乎还可以。但是，当我尝试访问 A' 中的成员时，g++ 开始抱怨：找不到该符号。有人知道为什么吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-09T06:26:31.437

据我所知，您必须使用“使用”将 aa 引入派生类。将以下内容（我不记得确切的语法，所以请原谅我的任何编译问题）添加到您的通用模板中：

```
using A<T1, T2, void>::aa; 
```

编辑：正如 Mehrdad 指出的那样，this->aa 也应该起作用。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-07-14T06:40:14.907

使用 C++ 模板的名称查找规则可能看起来有点不直观。当编译器第一次解析模板定义时，它会解析所有不**依赖于模板参数**的名称。当涉及到模板实例化时，它将解决其余的问题。

如果只看*类 A的定义，符号**aa*对类型参数 T1、T2 或 T3没有明显的依赖性。因此编译器尝试解析名称，但它不能，因为该名称在该环境中未定义。

所以，为了说服编译器做你想做的事，你必须使用下面的技巧：

*   最简单的可能是*this->aa*。由于*它*有一个依赖于模板参数的超类，它的成员只能在模板实例化时查找，所以一切都很好。

*   使用超类限定成员，即使用*A<T1, T2, void>::aa*。这使得依赖性非常明显。您也可以使用*using*指令，这样就不必每次都键入。

# asp.net-mvc - MVC 3通过ajax将多个整数/集合传递给控制器

> ID：12793894
> 
> 赞同：0
> 
> 时间：2012-10-09T06:17:36.543
> 
> 标签：asp.net-mvc, asp.net-mvc-3, asp.net-ajax

在我的表单上，我有几个同名的隐藏字段（RemoveId）

```
<input type="hidden" value="1" name="RemoveId" />
<input type="hidden" value="2" name="RemoveId" />
<input type="hidden" value="3" name="RemoveId" />
<input type="hidden" value="4" name="RemoveId" />
<input type="hidden" value="5" name="RemoveId" /> 
```

我想通过 ajax/json 将检查的项目（int(s)）传递给控制器

我该怎么做？谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-09T06:33:46.070

这是应该有帮助的东西

在名称“RemoveId”上使用 getElementsByName 将为您提供一个数组

```
var list = document.getElementsByName("RemoveId");

var arrId = [];

for (var i = 0; i < list.length; i++) {
    arrId.push(list[i].value);
} 
```

将这个准备好的 id 列表传递给控制器

```
$(function(){
    $.ajax({
       type: "POST",
       url: "@Url.Action("PostArray")" %>",
       data: {idArray: arrId},
       dataType: "json",
       success: function(msg){console.log(msg)}
    });
}) 
```

这是您的控制器的外观

```
[HttpPost]
public ActionResult PostArray(int[] idArray)
{
    // do your thing..
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-09T07:12:24.257

尝试这样做：

```
<input type="hidden" value="1" name="RemoveId" />
<input type="hidden" value="2" name="RemoveId" />
<input type="hidden" value="3" name="RemoveId" />
<input type="hidden" value="4" name="RemoveId" />
<input type="hidden" value="5" name="RemoveId" />

<input type="button" value="do" class="send" />

<script type="text/javascript" >
    $(function () {
        $(".send").click(function () {
            var myValues = [];
            $("[name = 'RemoveId']").each(function (index, element) {
                myValues.push($(element).val());

            });
            $.ajax({
                type: "POST",
                url: "/Home/Method",
                data: { myValues: myValues }
            });
        });

    })
</script>

        [HttpPost]
        public ActionResult Method()
        {
            var b = Request["myValues[]"].Split(',').ToList();
            return null;
        } 
```

# xcode - C++ 的 Xcode 问题

> ID：12793895
> 
> 赞同：0
> 
> 时间：2012-10-09T06:17:40.687
> 
> 标签：xcode

所以我最近开始使用 XCode 并且在尝试编译 C++ 代码时遇到了问题：即使是像这样的基本程序

```
#include <iostream>

int main()
{
    int x = 0;
    std::cout << "Enter a value for X: " << std::endl;
    std::cin >> x;
    std::cout << "X is " + x << std::endl;
    return 0;
} 
```

不给我任何输出（在我得到的“所有输出”下）：

```
Enter a value for X: 
5 
```

# mongodb - 安装 mongoDB 时出错：gpg key error

> ID：12793896
> 
> 赞同：0
> 
> 时间：2012-10-09T06:17:44.360
> 
> 标签：mongodb, installation

我正在尝试[根据此链接安装 mongoDB](http://www.mkyong.com/mongodb/how-to-install-mongodb-on-ubuntu/)

我收到错误：

```
root@MrAK-desktop:~# apt-key adv --keyserver keyserver.ubuntu.com --recv 7F0CEB10
Executing: gpg --ignore-time-conflict --no-options --no-default-keyring --secret-keyring /tmp/tmp.IBN5O6rAAC --trustdb-name /etc/apt/trustdb.gpg
Executing: gpg --ignore-time-conflict --no-options --no-default-keyring --secret-keyring /tmp/tmp.IBN5O6rAAC --trustdb-name /etc/apt/trustdb.gpg
gpg: requesting key 7F0CEB10 from hkp server keyserver.ubuntu.com
?: keyserver.ubuntu.com: Connection timed out
gpg: no valid OpenPGP data found.
gpg: Total number processed: 0 
```

我确信我的连接没有问题，

> apt-get 更新和升级

这些命令有效，

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-12-10T10:11:18.803

Simply run `apt-key adv --keyserver hkp://keyserver.ubuntu.com:80 --recv 7F0CEB10` to use port `80` and bypass your firewall (hopefully).

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-10-09T07:21:11.943

```
requesting key 7F0CEB10 from hkp server keyserver.ubuntu.com
keyserver.ubuntu.com: Connection timed out 
```

hkp 协议在端口 TCP 11371 上运行。确保防火墙允许访问 keyserver.ubuntu.com 上的该端口。

# c++ - cout 可以与监视器以外的任何东西相关联吗？

> ID：12793900
> 
> 赞同：1
> 
> 时间：2012-10-09T06:18:01.530
> 
> 标签：c++, cout

'cout 是一个输出流对象，它连接到进程的标准输出设备，通常连接到运行程序的终端'-我的书是这样说的。只是对以下内容感到好奇：

是否存在将 cout 连接到任何其他输出设备（例如可能是打印机）的情况？或者就像 cout 始终指代监视器和 cin 到键盘一样。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-10-09T06:30:14.103

`cin`是标准输入，虽然大多数系统从键盘获取输入，但这不是必需的。`cout`是标准输出，大多数系统再次将标准输出（标准输出）设置为控制台。但是你可以重定向它。

例如归档：

```
 std::ofstream file;
  file.open ("test.txt"); // open file

  std::streambuf *orig_out = std::cout.rdbuf();     // save cout 
  std::streambuf *buf = file.rdbuf();   // get file's streambuf
  std::cout.rdbuf(buf);         // redirect cout to file
  std::cout << "This is written to the file";
  std::cout.rdbuf(orig_out);        // restore cout's original output

  file.close(); // close file 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-09T06:19:35.393

简短的回答是“是”。Cout 只是一个输出流。在 unix 中，您可以创建管道

```
command1 | command2 
```

命令 1 的标准输出转到命令 2 的标准输入 - 即不是显示器和键盘。

标准输出（以及 cout）也可以被重定向：

```
command > some_file_or_device. 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-09T06:26:35.007

是的。

cin 和 cout 是 iostream，它们是标准的，但它们也很正常，即您可以关闭 stdin 和 stdout 并重新打开其他一些设备作为 stdin 或 out。

# arm - 如何验证 ARM 工具链中的 VFPv4 功能

> ID：12793901
> 
> 赞同：0
> 
> 时间：2012-10-09T06:18:06.873
> 
> 标签：arm, cortex-a

我有一个用于 Cortex A15 的预编译 ARM 工具链。我想检查它是否生成正确的 VFPv4 指令。任何机构有任何想法？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-09T08:41:25.897

[我们可以在gcc 发布日志](http://gcc.gnu.org/gcc-4.5/changes.html)中查找它

```
...
GCC now supports VFPv4-based FPUs and FPUs with single-precision-only VFP.
... 
```

我们也可以手动验证。根据 ARM 架构手册 VFPv4 至少添加了`Vector Fused Multiply Accumulate / Subtract`.

```
void test_vfp4() {
    asm("VFMA.F32 q1, q2, q3");
} 
```

用 switch 编译它`-mfpu=neon-vfpv4`（否则我的工具链说`Error: selected processor does not support ARM mode 'vfma.f32 q1,q2,q3'`）

```
gcc -mfpu=neon-vfpv4 -O2 -marm -c vfpv4.c 
```

并转储二进制文件

```
arm-linux-gnueabihf-objdump -S vfpv4.o 
```

应该在下面列出

```
00000000 <test_vfp4>:
   0:   f2042c56    vfma.f32    q1, q2, q3
   4:   e12fff1e    bx  lr 
```

但是我不知道如何在 C 级别使用它，因为我找不到为这些融合指令[列出的任何内在函数](http://gcc.gnu.org/onlinedocs/gcc/ARM-NEON-Intrinsics.html)或想到任何其他方式。

# android - 哪个更适合 getView() 中的列表视图、膨胀视图或通过编码创建视图

> ID：12793902
> 
> 赞同：0
> 
> 时间：2012-10-09T06:18:15.240
> 
> 标签：android, listview

我有一个关于列表视图的问题。在 getView() 方法中创建列表项时，这是列表视图的一个不错的选择。通过编码创建视图或通过 xml 扩展视图。我正在考虑列表视图的内存利用率和性能。

通常列表项包含一张产品图片及其名称和 3 行描述。表示一个图像视图和两个文本视图。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-09T06:24:48.240

您需要回收视图。你在使用 VieHolder 吗？我的建议是使用使用 xml 的视图持有者膨胀。ViewHolder 将提高 ListView 的性能。 [http://www.youtube.com/watch?v=wDBM6wVEO70](http://www.youtube.com/watch?v=wDBM6wVEO70)。检查此链接。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-09T06:27:29.987

通常不建议通过代码创建`Views`，只有在您无法处理的情况下才合理。使用 XML 始终是最佳实践，因此无论您在何处使用`Views`. 希望这可以帮助。

# c++ - C函数调用参数被打乱

> ID：12793904
> 
> 赞同：1
> 
> 时间：2012-10-09T06:18:27.490
> 
> 标签：c++, function

我为此使用带有 gcc 的 Netbeans，我发现函数参数的值在调用函数和被调用函数之间被破坏了。

在 myfuns.h 中：

```
float dotprod( float u1, float u2, float u3,  float v1, float v2, float v3 ); 
```

在 myfuns.c 中

```
 float dotprod( float u1, float u2, float u3, float v1, float v2, float v3 )
 {
    float res= u1*v1+u2*v2+u3*v3 ;
    return res;
 } 
```

在 main.c

```
 ...
 float dp=dotprod( rx, ry, rz,  ddx, ddy, ddz );
 ... 
```

如果我在 dotprod() 函数中打印 u1,u2 等的值，或者使用调试器检查它们，则这些值与 main.c 中的 rx,ry 等的值不同

如果我将参数从 float 转换为 float*，问题似乎就消失了。我还尝试在 6 个浮点参数之前和之后添加一个虚拟整数参数，第一个可以，但最后一个也会损坏。我花了几个小时试图找出错误。

有什么建议么 ？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-09T06:23:35.367

1.  所有这些变量的类型是否`main()`指定为`float`？
2.  调用原型`dotprod()`时是否可见？换句话说，你的主文件有`#include "myfuns.h"`吗？

特别是，对第二个问题回答“否”意味着编译器将对传递的参数做出某些假设，从而使值具有不同的宽度，或者以不同的方式解释它们。

例如，考虑：

```
#include <stdio.h>

int main(int argc, char *argv[]) {
    float x = 1.5, y = 2.5;
    fn (x, y);                       // <-- compiler makes assumptions.
    return 0;
}

void fn (float a, float b) {         // <-- compiler should complain
    printf ("%f %f\n", a, b);        //     about bad assumptions.
} 
```

输出：

```
0.000000 1.937500 
```

这真的*不是*你所期望的。这是用 gcc 编译的，并且吐出的大量警告应该有足够的理由返回并检查代码^((a))。

在这种特殊情况下， my`int`和`float`types 具有相同的宽度（32 位），但是因为编译器认为函数接受`int`，所以它会首先将这些浮点数转换为该类型。不幸的是，当函数查看`int`堆栈上的这些值时，它会将它们解释为`float`类型，它们的编码方式完全不同。

如果您的预期类型和实际类型的宽度不同，情况可能会更糟，因为您可能会发现您尝试使用的数据多于放入堆栈的数据。

只需插入以下内容即可修复此特定代码示例：

```
void fn (float, float); 
```

之前`main()`（或交换`main()`和`fn()`周围），以便不假定原型。这不会导致来自 gcc 的警告和正确的输出：

```
1.500000 2.500000 
```

基本上，您必须确保调用者和被调用者就传递的参数达成一致。这包括调用约定、数据类型和参数计数等。*这些中的任何*一个不匹配都会给您带来问题。

* * *

^((a):)例如以下，在我的系统上：

```
testprog.c: In function ‘main’:
testprog.c:5: warning: implicit declaration of function ‘fn’
testprog.c: At top level:
testprog.c:9: warning: conflicting types for ‘fn’
testprog.c:5: note: previous implicit declaration of ‘fn’ was here 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-09T06:38:48.253

确保您使用函数参数传递*相同*类型的数据，即大小和表示。

对于一个非常简单的测试，请在 main 中尝试：

```
float dp=dotprod( (float)rx, (float)ry, (float)rz,  (float)ddx, (float)ddy, (float)ddz ); 
```

# android - 从 Android 设备获取正确的外部存储

> ID：12793906
> 
> 赞同：2
> 
> 时间：2012-10-09T06:18:30.423
> 
> 标签：android

我试图找出 Android 设备的正确外部存储（具有更多空间的附加 sd卡）位置。我从不同的用户那里知道，位置并不总是相同的。该方法`Environment.getExternalStorageDirectory`总是返回我`mnt/sdcard`。

用户报告了以下变体：

1.  mnt/sdcard/tflash
2.  mnt/sdcard/external_sd
3.  mnt/sd卡

如何确定外部 sd 卡的真实位置？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-10-09T10:29:46.013

```
Environment.getExternalStorageState() returns path to internal SD mount point like "/mnt/sdcard" 
```

不，`Environment.getExternalStorageDirectory()`是指设备制造商认为是“外部存储”的任何东西。在某些设备上，这是可移动媒体，例如 SD 卡。在某些设备上，这是设备上闪存的一部分。在这里，“外部存储”是指“安装在主机上时可通过 USB 大容量存储模式访问的东西”，至少对于 Android 2.x 及更高版本。

```
But the question is about external SD. How to get a path like "/mnt/sdcard/external_sd" (it may differ from device to device)? 
```

如上所述，除了外部存储，Android 没有“外部 SD”的概念。

如果设备制造商已选择将外部存储设备作为板载闪存并且还具有 SD 卡，则您需要联系该制造商以确定您是否可以使用 SD 卡（不保证）以及规则的用途使用它，例如使用什么路径。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-09T10:34:46.403

> 如何确定外部 sd 卡的真实位置？

=> Environment.getExternalStorageDirectory() 为您提供外部存储设备的确切位置。路径可能会有所不同，因为它取决于制造商的考虑。

例如：我在一些 HTC 设备上找到了**/sdcard** ，在一些三星设备上找到了**/mnt/sdcard 。**

`Environment.getExternalStorageDirectory()`正确的方法也是如此。

# android - 获取已调用上下文菜单项的项目的视图

> ID：12793913
> 
> 赞同：0
> 
> 时间：2012-10-09T06:18:58.177
> 
> 标签：android, textview, contextmenu

我正在创建一个 TextView 列表，我正在其上创建一个上下文菜单。但是，我怎么知道上下文菜单是在哪个 TextView 上调用的？

这是我的代码 [http://snipt.org/vfyj7](http://snipt.org/vfyj7)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-09T06:29:33.357

You can get all necessary information from MenuItem:
`AdapterView.AdapterContextMenuInfo info = (AdapterContextMenuInfo) item.getMenuInfo();`
item.position contains selected item position.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-09T06:47:19.400

在这个针对您的活动的特定覆盖中，您可以获取被点击的 textView 的 id，然后根据 textView 执行必要的操作。

```
 @Override
    public boolean onContextItemSelected(MenuItem item) {
        // TODO Auto-generated method stub
        return super.onContextItemSelected(item);

        if(item.getItemId()==R.id.textView1) {
       //do something with 1st textview
     }    
     else if(item.getItemId()==R.id.textView2) {
      //do something with textview 2
    } and so on....
    } 
```

# mysql - MySQL跨多个列/表计算最大值

> ID：12793915
> 
> 赞同：3
> 
> 时间：2012-10-09T06:19:03.573
> 
> 标签：mysql, sql

我有一些 mysql 表，我想从中提取一些信息，这些表是：

*   视频 - 表示带有分数的视频。
*   标签 - 包含标签的全局列表。
*   VideoTags - 创建视频和标签之间的关联。

除了视频资源，我还有图片资源：

*   图片 - 表示带有分数的图片。
*   PictureTopic - 创建图片和主题之间的关联。

以及用于视频和图片所有权的用户表

*   用户 - 可以拥有视频和图片

我想要做的是找到每个标签/主题的最高分的视频或图片。有许多具有相同标签/主题的视频和图片，但我的结果集将具有与标签/主题相同的行数。最终目标是为每个唯一标签（标签是带有哈希前缀的主题）列出最佳视频或图片（按点）。

使用上一个问题的解决方案（http://stackoverflow.com/questions/12778329/mysql-data-extraction-from-3-tables-joins-and-max），我可以获得所有最高的视频每个标签的分数。

```
SELECT SUBSTR(Tags.content,2) as topic_id, Videos.id as resource_id, 'video' as resource_type, Videos.owner_id as resource_owner_id, Videos.points FROM Videos JOIN (
  SELECT   VideoTags.tag_id, MAX(points) points
  FROM     Videos JOIN VideoTags ON Videos.id = VideoTags.video_id
  GROUP BY VideoTags.tag_id
) t USING (points) JOIN Tags ON t.tag_id = Tags.id and Tags.content LIKE "#%" 
```

我也可以（有点）用这个表达式得到每个主题得分最高的图片：

```
SELECT   PictureTopic.topic_id, Pictures.id as resource_id, 'picture' as resource_type, Pictures.owner_id as resource_owner_id, MAX(points) points
FROM     Pictures JOIN PictureTopic ON Pictures.id = PictureTopic.picture_id
GROUP BY PictureTopic.topic_id 
```

我想要的是获得每个标签/主题的最高点的图片或视频，并处理以下边缘情况：

*   如果给定主题有多个图片或视频（即它们具有相同的高分），则遵循资源所有者的分数，如果它们也具有相同的分数（不太可能），那么两个资源都可以在结果中set（除非资源由同一用户拥有，在这种情况下，结果集中应该只有一个结果）。
*   如果视频或图片的点数少于 20，则从结果集中排除该资源。

作为一个经常使用 Grails 的软件开发人员，我喜欢依赖对象关系映射，因此我的 sql 技能很差。到目前为止，我能做的最好的是将两个选择的结果放在一起：

```
SELECT SUBSTR(Tags.content,2) as topic_id, Videos.id as resource_id, 'video' as resource_type, Videos.owner_id as resource_owner_id, Videos.points FROM Videos JOIN (
  SELECT   VideoTags.tag_id, MAX(points) points
  FROM     Videos JOIN VideoTags ON Videos.id = VideoTags.video_id
  GROUP BY VideoTags.tag_id
) t USING (points) JOIN Tags ON t.tag_id = Tags.id and Tags.content LIKE "#%"
UNION
SELECT   PictureTopic.topic_id, Pictures.id as resource_id, 'picture' as resource_type, Pictures.owner_id as resource_owner_id, MAX(points) points
FROM     Pictures JOIN PictureTopic ON Pictures.id = PictureTopic.picture_id
GROUP BY PictureTopic.topic_id 
```

但不幸的是，这甚至没有像预期的那样获得高分图片。可以在 sqlfiddle ( [http://sqlfiddle.com/#!2/6650d/1](http://sqlfiddle.com/#!2/6650d/1) )上看到

此查询的输出是：

```
TOPIC_ID    RESOURCE_ID         RESOURCE_TYPE   RESOURCE_OWNER_ID   POINTS
topic-1     owner-x-video-a     video           owner-x             20
topic-2     owner-y-video-m     video           owner-y             44
topic-1     owner-j-pic-1       picture         owner-j             50
topic-3     owner-k-pic-2       picture         owner-k             22 
```

但我也希望这一行：

```
TOPIC_ID    RESOURCE_ID         RESOURCE_TYPE   RESOURCE_OWNER_ID   POINTS
topic-3     owner-l-pic-3       picture         owner-l             22 
```

在相同高分和分数阈值的边缘情况之后，我想看到：

```
TOPIC_ID    RESOURCE_ID         RESOURCE_TYPE   RESOURCE_OWNER_ID   POINTS
topic-1     owner-j-pic-1       picture         owner-j             50
topic-2     owner-y-video-m     video           owner-y             44
topic-3     owner-l-pic-3       picture         owner-l             22 
```

这是供参考的架构和示例数据：

```
CREATE TABLE `Users` (
  `id`       VARCHAR(24) NOT NULL DEFAULT '',
  `points`   DOUBLE      NOT NULL DEFAULT 0,
  PRIMARY KEY (id)
) Engine=InnoDB;

DROP TABLE IF EXISTS `Videos`;
CREATE TABLE `Videos` (
  `id` varchar(24) NOT NULL default '',
  `owner_id` varchar(24) NOT NULL default '',
  `points` DOUBLE NOT NULL default 0
);

DROP TABLE IF EXISTS `Tags`;
CREATE TABLE `Tags` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `content` varchar(32) NOT NULL default ''
PRIMARY KEY (id)
);

DROP TABLE IF EXISTS `VideoTags`;
CREATE TABLE `VideoTags` (
  `video_id` varchar(24) NOT NULL default '',
  `tag_id` int(11) NOT NULL
);

DROP TABLE IF EXISTS `Pictures`;
CREATE TABLE `Pictures` (
  `id` varchar(24) NOT NULL default '',
  `owner_id` varchar(24) NOT NULL default '',
  `points` DOUBLE NOT NULL default 0
);

DROP TABLE IF EXISTS `PictureTopic`;
CREATE TABLE `PictureTopic` (
  `picture_id` varchar(24) NOT NULL,
  `topic_id` varchar(31) NOT NULL
);

INSERT INTO Users (id, points) VALUES ('owner-x', 0);
INSERT INTO Users (id, points) VALUES ('owner-y', 0);
INSERT INTO Users (id, points) VALUES ('owner-j', 0);
INSERT INTO Users (id, points) VALUES ('owner-k', 5);
INSERT INTO Users (id, points) VALUES ('owner-l', 14);

INSERT INTO Videos (id,owner_id,points) VALUES
  ('owner-x-video-a','owner-x', 20),
  ('owner-x-video-b','owner-x', 15),
  ('owner-y-video-k','owner-y', 12),
  ('owner-y-video-l','owner-y', 17),
  ('owner-y-video-m','owner-y', 44);

INSERT INTO Tags (id, content) VALUES
  (111, '#topic-1'),
  (222, '#topic-2');

INSERT INTO VideoTags (video_id,tag_id) VALUES
  ('owner-x-video-a',111),
  ('owner-x-video-b',111),
  ('owner-y-video-k',111),
  ('owner-y-video-l',222),
  ('owner-y-video-m',222);

INSERT INTO Pictures (id, owner_id, points) VALUES ('owner-j-pic-1','owner-j', 50);
INSERT INTO Pictures (id, owner_id, points) VALUES ('owner-k-pic-2','owner-k', 22);
INSERT INTO Pictures (id, owner_id, points) VALUES ('owner-l-pic-3','owner-l', 22);

INSERT INTO PictureTopic (picture_id, topic_id) VALUES ('owner-j-pic-1','topic-1');
INSERT INTO PictureTopic (picture_id, topic_id) VALUES ('owner-k-pic-2','topic-3');
INSERT INTO PictureTopic (picture_id, topic_id) VALUES ('owner-l-pic-3','topic-3'); 
```

有关如何最好地提取此信息的任何指示？干杯:)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-09T07:36:13.647

```
SELECT TOPIC_ID, RESOURCE_ID, RESOURCE_TYPE, RESOURCE_OWNER_ID, POINTS
FROM (( SELECT pt.topic_id AS TOPIC_ID,
            p.id AS RESOURCE_ID,
            'picture' AS RESOURCE_TYPE,
            p.owner_id AS RESOURCE_OWNER_ID,
            p.points AS POINTS,
            u.points AS user_points
        FROM Pictures AS p
        INNER JOIN PictureTopic AS pt
        ON p.id = pt.picture_id
        INNER JOIN Users AS u
        ON p.owner_id = u.id)
        UNION ALL
    (   SELECT SUBSTR(t.content, 1), v.id, 'video', v.owner_id, v.points, u.points
        FROM Videos AS v
        INNER JOIN VideoTags AS vt
        ON v.id = vt.video_id
        INNER JOIN Tags AS t
        ON vt.tag_id = t.id
        INNER JOIN Users AS u2
        ON v.owner_id = u2.id)
        ORDER BY POINTS DESC, user_points DESC) AS h
GROUP BY TOPIC_ID
ORDER BY TOPIC_ID ASC 
```

该查询使用了[**INNER JOIN**](http://dev.mysql.com/doc/refman/5.0/en/join.html)、[**subqueries**](http://dev.mysql.com/doc/refman/5.1/en/subqueries.html)、[**UNION**](http://dev.mysql.com/doc/refman/5.0/en/union.html)、[**GROUP BY**](http://dev.mysql.com/doc/refman/5.0/en/group-by-functions.html)和非官方的 MySQL 假设，该假设`GROUP BY`将根据`ORDER BY POINTS DESC`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-09T06:35:04.117

这是视频的查询

```
select 
    t.content as `TOPIC-ID`,
    vt.video_id as `RESOURCE-ID`,   
    'video' as `RESOURCE-TYPE`,
    vt.owner_id as `RESOURCE-OWNER-ID`,
    vt.MaxPoints

from tags as t
inner join 
    (SELECT 
        vt.tag_id,
        vt.video_id,
        MAX(v.points) as MaxPoints,
        v.id,
        v.owner_id  
    FROM videotags as vt
    left join videos as v on v.id = vt.video_id
    group by vt.tag_id

    ) as vt on vt.tag_id = t.id

union all
SELECT 
    topic_id as `TOPIC-ID`,
    picture_id as `RESOURCE-ID`,
    'picture' as `RESOURCE-TYPE`,
    p.owner_id as `RESOURCE-OWNER-ID`,
    p.points as MaxPoints
FROM picturetopic
LEFT JOIN (SELECT id , owner_id , points FROM pictures) as p on p.id = picturetopic.picture_id 
```

# php - 在 PHP 中获取 Instagram 提要的最佳方式是什么？

> ID：12793924
> 
> 赞同：0
> 
> 时间：2012-10-09T06:19:41.533
> 
> 标签：php, instagram

需要在定制设计中显示 Instagram 照片、评论数、点赞数等。有什么建议的方法吗？可用的小部件无济于事。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-09T06:31:04.150

[http://instagram.com/developer/](http://instagram.com/developer/)

是您可以获取 Instagram API 及其身份验证详细信息的 URL。

您必须完成从身份验证到获取提要的所有工作。

# java - Java中JSON对象的问题？

> ID：12793926
> 
> 赞同：0
> 
> 时间：2012-10-09T06:19:49.723
> 
> 标签：java, json

我有一个 JSON 对象，它转换为字符串并保存到数据库中。但是当我试图取回它时，它抛出异常。我的对象是这样的......

```
{"COLUMN":["Type","Sub Type","F.P.","P.P.","Process","Due To Start"]} 
```

我们如何才能以正常形式获取数据？

我的Java代码是......

```
JSONObject obj = new JSONObject();
        JSONArray the_json_array = obj.getJSONArray(userReorderOption);
        int size = the_json_array.size();
        ArrayList<JSONObject> arrays = new ArrayList<JSONObject>();
        for (int i = 0; i < size; i++) {
            JSONObject another_json_object = the_json_array.getJSONObject(i);
            arrays.add(another_json_object);
        } 
```

我得到了例外....

```
net.sf.json.JSONException: JSONObject["{\"TASKLIST_COLUMN_REORDER\":[\"Type\",\"Sub Type\",\"F.P.\",\"P.P.\",\"Process\",\"Due To Start\"]}"] is not a JSONArray. 
```

这是java代码我如何创建JSON对象并保存到数据库中......

```
String userReorderSelection;  
  Set set = new LinkedHashSet(userReorderSelection);

        JSONObject json = new JSONObject();
        json.accumulate("COLUMN", set);
        saveJSONObj("PrimaryKeyColumn", json.toString()); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-09T11:13:10.303

谢谢 Tichodroma，但正如我所说，我正在使用`net.sf.json.JSONObject`类及以上的东西，我们也可以从这个类中实现。我做了什么来解决上述问题？...请查看 Java 代码...

```
JSONObject jsonObj = new JSONObject();
        JSONObject obj  = jsonObj.fromObject(userReorderOption);
        JSONArray columnName = (JSONArray) obj.get("COLUMN");

        for (int i = 0; i < columnName.size(); i++) {
            System.out.println(columnName.getString(i));

        } 
```

这段代码在我的 Json Jar**(net.sf.json)** 中对我来说很好用

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-09T07:15:56.253

您的 JSON 不是[`JSONArray`](http://www.json.org/javadoc/org/json/JSONArray.html).

> JSONArray 是有序的值序列。

你有一个[`JSONObject`](http://www.json.org/javadoc/org/json/JSONObject.html).

> JSONObject 是名称/值对的无序集合。

**编辑：**

使用来自 的 JSON 实现`org.codehaus.jettison.json`，您可以执行以下操作：

```
String json = "{\"COLUMN\":[\"Type\",\"Sub Type\",\"F.P.\",\"P.P.\",\"Process\",\"Due To Start\"]}";

JSONObject obj = new JSONObject(json);
JSONArray column = (JSONArray) obj.get("COLUMN");

for (int i = 0; i < column.length(); i++) {
    final String field = column.getString(i);
    System.out.println(field);
} 
```

结果：

```
Type
Sub Type
F.P.
P.P.
Process
Due To Start 
```

# javascript - 如何根据以前的子宽度计算 div 的宽度

> ID：12793928
> 
> 赞同：1
> 
> 时间：2012-10-09T06:19:52.013
> 
> 标签：javascript, jquery, html, css

因此，假设具有以下内容结构：

```
<div class="wrapper">
    <div class="contentOne" style="width:50px"></div>
    <div class="contentTwo"></div>
    <div class="contentThree"></div>
    <div class="contentFour"></div>
</div> 
```

我想要在页面加载时实现的是第一个 div (contentOne) 的宽度被拾取并将其他 3 个 div 的宽度增加 50px。最后，我想要以下内容：

```
<div class="wrapper">
    <div class="contentOne" style="width:50px"></div>
    <div class="contentTwo" style="width:100px"></div>
    <div class="contentThree" style="width:150px"></div>
    <div class="contentFour" style="width:200px"></div>
</div> 
```

一等奖将是可能使用 CSS3 Calc。如果不是，JS将是一个亲密的第一公主。

谢谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-09T06:28:37.630

目前，CSS 没有前同级选择器（尽管出于某种原因有一个“后同级”选择器），因此尚无法实现纯 CSS 解决方案。jQuery 会是这样的：

```
$('div:not(:first)').each(function()
{
    $(this).width($(this).prev().width() + 50);
}); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-09T06:27:25.930

对此使用 Jquery。代码将是这样的。请进行适当的更改，这只是一个演示代码。

```
 var widthOfFirstChild=$('.wrapper').eq(1).width();
    $('.width div').each(
    function(){
    $(this).attr('style':widthOfFirstChild+50);
    widthOfFirstChild=+50
    }); 
```

# jquery - 将json转换为二维数组

> ID：12793931
> 
> 赞同：2
> 
> 时间：2012-10-09T06:19:58.783
> 
> 标签：jquery, json

我的json数据：

```
{
   "d":[
      {
         "__type":"DashBoardControl.Info.DashBoardSettingInfo",
         "VisitTime":"183",
         "Browser":"Firefox"
      },
      {
         "__type":"DashBoardControl.Info.DashBoardSettingInfo",
         "VisitTime":"28",
         "Browser":"Chrome"

      },
      {
         "__type":"DashBoardControl.Info.DashBoardSettingInfo",
         "VisitTime":"2",
         "Browser":"IE"
      },
      {
         "__type":"DashBoardControl.Info.DashBoardSettingInfo",
         "VisitTime":"1",
         "Browser":"Opera"
      }
   ]
} 
```

我尝试像这样在二维数组中制作这些数据。但我失败了。

```
 var BrowserWiseVisit = [];
                        if (msg.d.length > 0) {
                            var arrVisit = [];
                            $.each(msg.d, function (index, item) {

                                arrVisit = [];
                                arrVisit.push(item.Browser);
                                arrVisit.push(item.VisitTime);
                                BrowserWiseVisit.push(arrVisit);

                            });

                        } 
```

我想要这种格式的数据

```
[['Firefox', 183], ['Chrome', 28], ['IE', 2], ['Opera', 1]]; 
```

使用[http://www.jqplot.com/](http://www.jqplot.com/)这个插件。谢谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-09T06:55:55.770

看来你做得对[http://www.jqplot.com/](http://www.jqplot.com/)

你想要数据 [['Firefox', 183], ['Chrome', 28], ['IE', 2], ['Opera', 1]];

只需在您的 js 中将 visitTime 数据解析为 int。
这是演示：http: [//jsfiddle.net/Simplybj/HCNL5/](http://jsfiddle.net/Simplybj/HCNL5/)

```
var BrowserWiseVisit = [];
                        if (msg.d.length > 0) {
                            var arrVisit = [];
                            $.each(msg.d, function (index, item) {

                                arrVisit = [];
                                arrVisit.push(item.Browser);
                                arrVisit.push(parseInt(item.VisitTime));
                                BrowserWiseVisit.push(arrVisit);

                            });
                    } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-09T06:42:08.877

试试这个：

```
var BrowserWiseVisit = [];
if (msg.d.length > 0) {
   var arrVisit = [];
   $.each(msg.d, function (index, item) {
      arrVisit = [item.Browser,item.VisitTime];
      BrowserWiseVisit.push(arrVisit);
   });
} 
```

* * *

## 回答 #3

> 赞同：-2
> 
> 时间：2012-10-09T06:23:48.227

这应该这样做：

```
var sampleData = [], results = d;
for (var i = 0, len = results.length; i < len; i++) {
    var result = results[i];
    sampleData.push({ browser: result.Browser, visitTime: result.VisitTime});
} 
```

# php - 使用 PHP 向网络上的 IP 电话发送命令

> ID：12793936
> 
> 赞同：1
> 
> 时间：2012-10-09T06:20:16.793
> 
> 标签：php, iphone, com, tapi

我的网络上有许多电话，我希望能够根据分机向一个电话发送一个号码，以便它拨打。

我研究了 TAPI 和 PHP COM 事件，但我不太了解它以及如何将它应用到我的设置中。

有没有人有使用 PHP 向其网络上的 IP 电话发送命令的经验？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-04T01:14:26.870

如果这些是 Cisco IP 电话，您可以使用 IP 电话服务 API 查看：http: [//developer.cisco.com/web/ipps](http://developer.cisco.com/web/ipps)

具体查看应用程序开发说明中的“拨号”电话 URI

每个 IP 电话上都有一个 Web 服务器，您可以使用标准的 http(s) 帖子向电话发送 XML 命令。您可以通过这种方式完全控制手机。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-09T06:48:33.910

您必须了解客户端-服务器通信有点单向。从 iPhone 到服务器，您可以轻松地发送消息（并获得响应），但是要将消息从服​​务器发送到 iPhone，您必须在它们之间实现**套接字连接**，因此 iPhone 将始终“倾听”服务器“说”的内容。此外，推送通知是从服务器向设备发送消息的一种方式，但我猜这不是你的情况。

# node.js - Redis 和 Node.js：所有键

> ID：12793938
> 
> 赞同：25
> 
> 时间：2012-10-09T06:20:19.470
> 
> 标签：node.js, redis

基本问题：使用 Node.js 我想获取我的 redis 数据库中的所有键。当我调用**keys ***时，我的 redis 数据库看起来像这样；

1.  aXF
2.  x9U
3.  好

所以我拥有的每条记录都有一个唯一的键，生成为随机字符串。现在我想调用类似**foreach(key in Redis)**并获取 redis 中的所有键。是否可以使用 Node.js 和 Redis完成类似**“SELECT * FROM Redis”的查询**

* * *

## 回答 #1

> 赞同：50
> 
> 时间：2012-10-09T06:24:38.913

当然，您需要安装可以在[https://github.com/mranney/node_redis](https://github.com/mranney/node_redis)`redis`找到的模块。 `nodejs`

```
npm install node_redis 
```

**更新**

上述命令不再可用。您可以使用以下内容：

```
npm install redis 
```

然后你会这样做：

```
var redis = require('redis'),
    client = redis.createClient();

client.keys('*', function (err, keys) {
  if (err) return console.log(err);

  for(var i = 0, len = keys.length; i < len; i++) {
    console.log(keys[i]);
  }
}); 
```

一般来说，您不会希望总是返回所有键（对于较大的数据集，性能会很差），但是如果您只是测试一下，这将起作用。文档中甚至还有一个很好的警告`Redis`：

> 警告：将 KEYS 视为仅应极其小心地在生产环境中使用的命令。当它针对大型数据库执行时，它可能会破坏性能。此命令用于调试和特殊操作，例如更改键空间布局。不要在常规应用程序代码中使用 KEYS。如果您正在寻找一种在键空间子集中查找键的方法，请考虑使用集合。

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2015-09-03T17:25:47.243

为nodejs安装redis客户端

```
npm install redis 
```

然后我执行以下操作来获取所有密钥的数据

```
var redis =   require('redis'),
    client =  redis.createClient();

client.multi()
    .keys('*', function (err, replies) {
        // NOTE: code in this callback is NOT atomic
        // this only happens after the the .exec call finishes.

        console.log("MULTI got " + replies.length + " replies");

        replies.forEach(function (reply, index) {
            console.log("Reply " + index + ": " + reply.toString());
            client.get(reply, function(err, data){
                    console.log(data);
            });
        });

    })
    .exec(function (err, replies) {}); 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2015-08-20T11:04:11.650

```
npm install node_redis 
```

现在不再可用。改用这个 -

```
npm install redis 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2022-01-17T14:47:20.370

### Node-Redis v4 更新：

npm 上的`redis`node 包最近进行了重大更新（v4），并且有一种更简单的方法可以完成此操作。

使用该`sendCommand`函数，您可以运行任何您希望的 redis 命令，而无需包中的专用函数，并且可以检索输出。

```
const keys = await client.sendCommand(["keys","*"]);
console.log(keys); // ["aXF","x9U","lOk",...] 
```

### 笔记：

[请考虑比尔回答](https://stackoverflow.com/a/12793994/6718353)中提到的要点：

> 警告：将 KEYS 视为仅应极其小心地在生产环境中使用的命令。当它针对大型数据库执行时，它可能会破坏性能。此命令用于调试和特殊操作，例如更改键空间布局。不要在常规应用程序代码中使用 KEYS。如果您正在寻找一种在键空间子集中查找键的方法，请考虑使用集合。

# java - 我的时间在开始时间和结束时间之间

> ID：12793942
> 
> 赞同：0
> 
> 时间：2012-10-09T06:20:40.917
> 
> 标签：java, android, date, time

如果当前时间是 18，则此逻辑不起作用。这里开始时间是 22（晚上 10 点），结束时间是 06（早上 6 点）提前谢谢。

```
int hour = currentTime.get(Calendar.HOUR_OF_DAY);

if (hour > 22) {
        if (hour > 06) {
            return true;

        }
    }

    if (hour < 22) {
        if (hour < 06) {
            return true;
        }
    }

    if (hour == 00) {
        return true;
    }
    return false; 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-09T06:26:14.263

Your logic is far to localized to a specific case, but you need:

```
if (endHour < startHour) { // the end is on the next day
    if (hour > startHour || hour < endHour) {
        return HOUR_IS_IN_RANGE;
    }
}
else { // end hour is on the same day as start shour
    if (hour >startHour && hour < endHour) {
        return HOUR_IS_IN_RANGE;
    }
 }
 return HOUR_NOT_IN_RANGE; 
```

You should also consider >=/<= instead of just > and <.

# android - 移动应用程序，邀请来自社交网站的朋友

> ID：12793951
> 
> 赞同：0
> 
> 时间：2012-10-09T06:21:17.993
> 
> 标签：android, facebook, identity, impersonation

我正在编写一个移动应用程序，并且在试图仅根据帐户信息弄清楚 Facebook 个人资料的所有者如何也可以是 Twitter 个人资料的同一所有者时遇到了障碍。

如果`John Smith`注册了 Facebook，但没有输入电子邮件地址、电话号码或任何其他唯一标识符，他如何与其他数百名`John Smith`Facebook 用户区分开来？更重要的是，我怎么知道他真的和`John Smith`推特上的一样？

我目前的解决方案是：

当用户注册我的应用程序时，让他们输入电子邮件地址和电话号码。

这边走...

通过电话联系人导入朋友很简单：检查您的哪些朋友的电话号码已经存在于您的数据库中。

通过 Facebook 导入朋友是可能的：从 Facebook 中提取您朋友的电子邮件（假设他有一个），并检查它是否存在于您的数据库中。如果您朋友的 Facebook 个人资料没有电子邮件或电话号码可供提取，那么我认为没有解决方案。*有吗？*

等等，用于从 Twitter 或任何其他社交网站导入朋友。

# android - 填充屏幕的微调器和旋转不会导致活动实例被破坏

> ID：12793953
> 
> 赞同：0
> 
> 时间：2012-10-09T06:21:23.043
> 
> 标签：android

我正在尝试使用字符串值填充微调器。然后我从微调器中选择值，在屏幕旋转时，我没有看到要销毁的活动实例并且内容保持不变。相反，由于系统配置已从水平视图更改为垂直视图，反之亦然，因此活动应该已被销毁。

有人可以解释它是如何工作的吗？

# google-drive-api - 使用 google drive api 将文件复制到文件夹时出现错误请求错误

> ID：12793954
> 
> 赞同：1
> 
> 时间：2012-10-09T06:21:22.600
> 
> 标签：google-drive-api

我正在尝试使用 google drive api 将文件复制到文件夹中

正如文档所说，我正在生成一个 POST 请求`https://www.googleapis.com/drive/v2/files/{fileId}/copy?access_token={MY_ACCESS_TOKEN}`

我正在使用 python 生成请求，为了指定目标文件夹，我将请求正文设置为 -

```
{
"parents":
[
{
"id":"{parent_id}"
}
]
} 
```

所以最终的代码就像 -

```
url = https://www.googleapis.com/drive/v2/files/Ansjd021-23123414kjn2k3jn2/copy?access_token=Ya.asdsakjn2312k3n21kj3n-12312j3knb123l
body = {
    "parents":
        [
            {
                "id":"ZXC12312323123-Blahasd12323X"
            }
        ]
}
request2 = urllib2.Request(url, urllib.urlencode(body))
request2_open = urllib2.urlopen(request2)
response = request2_open.read()
request2_open.close()
print response 
```

问题是我收到一个 Http Error : 404 Bad Request 我似乎无法弄清楚这个问题。我正在使用谷歌游乐场及其运行在那里做同样的事情。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-09T12:12:02.050

我使用[https://developers.google.com/drive/v2/reference/files/copy#try-it](https://developers.google.com/drive/v2/reference/files/copy#try-it)做到了这一点并得到了......

```
POST https://www.googleapis.com/drive/v2/files/1234/copy?key={YOUR_API_KEY}

Content-Type:  application/json
Authorization:  Bearer ya29.AHES6ZSZB-t4b4HsR5
X-JavaScript-User-Agent:  Google APIs Explorer

{
 "parents": [
  {
   "id": "1234"
  }
 ]
} 
```

这看起来与您的示例几乎相同，除了 authtoken 位于 http 标头而不是 URL 中。另外，如果你不对身体进行 urlencode 会发生什么？响应正文中是否有更长的错误消息？

# php - 我在我的 php 代码中遗漏了什么吗？

> ID：12793956
> 
> 赞同：1
> 
> 时间：2012-10-09T06:21:34.003
> 
> 标签：php

我有这个代码，问题是它开始从`$2,147,483,647`我设置的地方`3000000000`给出输出`$3,000,000,000`

我想从我们在表格中设置的内容中取出，但是如果我们选择更高的`$2,147,483,647`内容，则从`$2,147,483,647`

这是现场演示：[http ://deewayz.in/demo/](http://deewayz.in/demo/)

这是我的代码。

```
$v         = isset($_GET['v']) ? (int) $_GET['v'] : 3000000000; 
```

第一次给出正确的。但是当我们改变形式的价值时，它会给出错误的输出。

例如检查这个：[http ://deewayz.in/demo/index.php?v=3100000000&sv=5](http://deewayz.in/demo/index.php?v=3100000000&sv=5)

提前致谢 ：）

**解决了：**

```
$v         = isset($_GET['v']) ? (float) $_GET['v'] : 3000000000; 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-09T06:29:02.140

您遇到了[整数溢出](http://en.wikipedia.org/wiki/Integer_overflow)的情况，因为 PHP 整数的最大值为 2^31-1，其计算结果为 2147483647。PHP 仅通过将值限制在超出边界的边缘来处理整数溢出。

为了解决这个问题，您可以使用具有更大范围值的[float 。](http://www.php.net/manual/en/language.types.float.php)有几种方法可以将数字声明为浮点数，例如使用 E 表示法或通过强制转换，如下所示。

```
$v         = isset($_GET['v']) ? (float) $_GET['v'] : 3E9; 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-09T06:26:58.690

2147483647 是整数限制。将数据类型更改为`bigint`或`float`。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-10-09T06:27:20.890

2,147,483,647 是 32 位整数可以容纳的最大值。对于更大的数字，您可能必须使用[BCMath](http://www.php.net/manual/en/book.bc.php)或[GMP](http://www.php.net/manual/en/book.gmp.php)扩展，或者尝试使用 64 位版本的 PHP。使用 float 也可能是一种可能性，因为它可以存储更长的数字（但是它们不再那么精确了）。

# javascript - 我想在javascript中动态调整图像怎么做？

> ID：12793959
> 
> 赞同：0
> 
> 时间：2012-10-09T06:21:46.430
> 
> 标签：javascript, image

我的图片由用户和 js 创建

```
var imgpre=document.createElement("img"); 
```

我想在一个盒子里展示，或者`div`，`td`但有时`img`它太大了。我的意思是我不知道图像的高度和宽度，但我想把图像放到 350*350 的盒子里。图像无法在框外绘制问题是有时图像是400 * 200，我设置了`img.height=350`，应该可以查看。但是有时候图片是200*400，当你设置`img.height=350`在哪里肯定是错误的。

我无法进入`img.height`js，我尝试过，但在我设置它之前它返回零。

请注意：我不想要拉伸图像。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-09T06:36:55.993

我得到了正确答案：

imgpre.setAttribute("style", "max-width:100%; max-height:100%;");

并设置 mzx-width:350 和 max-height: 350 框

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-09T06:25:36.370

尝试

```
imgpre.height = '100px';
imgpre.width = '100px'; 
```

# uitableview - UITableViewCell 两边都给Padding

> ID：12793961
> 
> 赞同：0
> 
> 时间：2012-10-09T06:21:58.383
> 
> 标签：uitableview, uiscrollview

嗨，在我的 iPhone 应用程序中，我创建了自定义 UITableViewCell 作为单独的 nib 文件，现在我需要为显示滚动条（如 twitter 应用程序的指示器）提供左侧和右侧空间。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-09T06:27:15.057

应该已经是这样了。如果您已将您的设置`UITableView`为“**分组**”，那么这就是您将看到的内容，并且没有其他选项可以配置。

# java - 从数据库中获取数据并显示在同一页面的表中

> ID：12793970
> 
> 赞同：1
> 
> 时间：2012-10-09T06:23:05.850
> 
> 标签：java, javascript, jquery

我有两个简单的界面。一个接受 sql 查询，另一个是显示结果的弹出窗口。我想将它们两者结合起来。我的意思是我没有弹出窗口。相反，结果应该显示在同一页面上。我知道它可以用ajax完成，但不知道如何。我不想进入那个数组的东西（从服务器以数组形式发送数据）。只是我希望用当前代码完成工作，几乎没有什么变化..

这是 display.jsp

```
<body>
<form action="show.jsp" method="post" target="show.jsp">
   <textarea rows="4" cols="80" name="qry"></textarea>
   <input type="submit" value="Show"/> 
```

下面是show.jsp

```
<sql:query var="rs" dataSource="jdbc/production">
    ${param.qry}
</sql:query>
<body>
    <table width="100%" id="dataTable" class="display">
        <thead>
            <tr>
                <c:forEach var="col" items="${rs.columnNames}">
                <th>${col}</th>
                    </c:forEach>
            </tr>
        </thead>
        <tbody>
            <c:forEach var="row" items="${rs.rowsByIndex}">
                <tr>
                    <c:forEach var="column" items="${row}">
                        <td><c:out value="${column}"/></td>
                    </c:forEach>
                </tr>
        </c:forEach>
     </tbody>
</table>
</body> 
```

任何人请为此提供解决方案（一个简单的）。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-09T06:28:23.013

我所做的是将要在网页上显示的数据作为属性添加到请求对象中。重定向到所需页面后，我从请求对象中获取数据并检查它是否为空。如果没有，我会显示该数据。这样，您将能够动态显示您想要的数据。

# java - 为通过参数返回的函数创建类型映射

> ID：12793973
> 
> 赞同：1
> 
> 时间：2012-10-09T06:23:16.293
> 
> 标签：java, c, swig

我正在转换 C api > Java，并且我有以下函数原型。

```
/*
 Retrieves an individual field value from the current Line
 \param reader pointer to Text Reader object.
 \param field_num relative field [aka column] index: first field has index 0.
 \param type on completion this variable will contain the value type.
 \param value on completion this variable will contain the current field value.
 \return 0 on failure: any other value on success.
 */

extern int gaiaTextReaderFetchField (gaiaTextReaderPtr reader, int field_num, int *type, const char **value); 
```

我想获得按预期返回的状态，将“type”作为int返回，将“value”作为字符串返回（不被释放）

从文档中我发现您创建了几个可以保留返回值的结构。

有人可以帮我做第一个吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-12T20:59:48.670

假设您的函数声明存在于名为 header.h 的文件中，您可以执行以下操作：

```
%module test

%{
#include "header.h"
%}

%inline %{
  %immutable;
  struct FieldFetch {
    int status;
    int type;
    char *value;
  };
  %mutable;

  struct FieldFetch gaiaTextReaderFetchField(gaiaTextReaderPtr reader, int field_num) {
    struct FieldFetch result;
    result.status = gaiaTextReaderFetchField(reader, field_num, &result.type, &result.value);
    return result;
  }
%}

%ignore gaiaTextReaderFetchField;
%include "header.h" 
```

这隐藏了“真实” `gaiaTextReaderFetchField`，而是替换了一个版本，该版本在（不可修改的）结构中返回输出参数和调用结果。

（如果您愿意，可以将返回状态设为 0 导致抛出异常，而`%javaexception`不是将其放入结构中）

# json - 如何按“标题”对 Facebook 提要进行排序？

> ID：12793974
> 
> 赞同：0
> 
> 时间：2012-10-09T06:23:18.820
> 
> 标签：json, facebook-graph-api, facebook-fql

我从我的 facebook 页面获得了这个 JSON 数据：

```
{
  "data": [
    {
      "id": "1234567890_0987654321", 
      "from": {
        "name": "My Facebook Page", 
        "category": "Personal blog", 
        "id": "1234567890"
      }, 
      "actions": [
        {
          "name": "Comment", 
          "link": "http://www.facebook.com/1234567890/posts/0987654321"
        }, 
        {
          "name": "Like", 
          "link": "http://www.facebook.com/1234567890/posts/0987654321"
        }, 
        {
          "name": "Action Name", 
          "link": "http://example.com/"
        }
      ], 
      "message": "This post discusses something about Javascript.", 
      "name": "A post about javascript.", 
      "link": "http://example.com/", 
      "caption": "JavaScript", 
      "description": "Something telling about the post.", 
      "created_time": "2012-10-09T03:35:22+0000"
    },
    {
      "id": "1234567890_0987654321", 
      "from": {
        "name": "My Facebook Page", 
        "category": "Personal blog", 
        "id": "1234567890"
      }, 
      "actions": [
        {
          "name": "Comment", 
          "link": "http://www.facebook.com/1234567890/posts/0987654321"
        }, 
        {
          "name": "Like", 
          "link": "http://www.facebook.com/1234567890/posts/0987654321"
        }, 
        {
          "name": "Action Name", 
          "link": "http://example.com/"
        }
      ], 
      "message": "This post discusses something about CSS.", 
      "name": "A post about CSS.", 
      "link": "http://example.com/", 
      "caption": "CSS", 
      "description": "Something telling about the post.", 
      "created_time": "2012-10-09T03:35:22+0000"
    }
  ]
} 
```

无论如何我可以用 FQL 来做到这一点，我只会有所有的帖子`"caption": "JavaScript"`吗？我想按类别对我的帖子进行排序，我的关键字在`"caption"`属性内。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-09T06:37:44.450

如果您想按订单缩短提要，`FQL` 则需要在此处使用其中一个示例

```
SELECT post_id, actor_id, target_id,description, message FROM stream WHERE source_id = me()  order by description 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-09T06:48:12.637

感谢所有回答我问题的人。我想我已经得到了我的问题的答案。

我将在 FQL 上执行此查询以获取所有帖子`"caption": "Javascript"`：

```
SELECT actor_id,message,attachment FROM stream WHERE source_id=1234567890 AND attachment.caption="Javascript" 
```

# sql - 无法连接 SSMS，Microsoft SQL Server，错误：53

> ID：12793976
> 
> 赞同：0
> 
> 时间：2012-10-09T06:23:31.733
> 
> 标签：sql, sql-server, sql-server-2008, ssms

SQL Server Management Studio 未在生产服务器上的我的数据库服务器计算机上连接。

而生产站点访问数据库。当我尝试从 SSMS 连接数据库时，出现此错误：

> *无法连接到 111.11.11.11。*
> 
> *建立与 SQL Server 的连接时发生与网络相关或特定于实例的错误。服务器未找到或无法访问。验证实例名称是否正确以及 SQL Server 是否配置为允许远程连接。（提供程序：命名管道提供程序，错误：40 - 无法打开与 SQL Server 的连接）（Microsoft SQL Server，错误：53）*

过去几年我一直在使用这个 SSMS，这个 SSMS 运行良好，因为在生产数据库服务器上一年多以来，ni 从来没有关闭过，现在当我连接这个 SSMS 但面临这个问题时，而我访问这个数据库的网站是工作正常。

我也尝试从 sqlcmd 访问数据库，但没有遇到这个错误：

> HResult 0x35，级别 16，状态 1
> 命名管道提供程序：无法打开与 SQL Server [53] 的连接。
> Sqlcmd：错误：Microsoft SQL Server Native Client 10.0：建立与 SQL Server 的连接时发生与网络相关或特定于实例的错误。
> 服务器未找到或无法访问。检查实例名称是否正确以及 SQL Server 是否配置为允许远程连接。有关详细信息，请参阅 SQL Server 联机丛书。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-23T05:26:49.757

我认为我们解决了这些问题。1\. Active Directory 服务器没有运行，所以 2\. SQL 服务器在没有凭据的情况下无法运行 3\. 他们发现了另一个 SQL 服务器问题并修复了它。

我们开始调查我的团队发现的 SQL 连接，结果我们发现 Active Directory 服务器基本上已经崩溃。它允许我们登录，但它无法访问大部分 AD 功能。我们最终重新启动了纠正问题的 AD 服务器，但是我们仍然看到 SQL 集群管理器存在问题，并且 SQL 本身在一定程度上定期拒绝连接。

AD 服务器重新启动后，我们能够登录到 SQL 集群管理器，但功能有限，因为它由于 AD 问题而出错，我们重新启动了集群服务，看看这是否能解决问题。这导致 SQL 服务故障转移到被动服务器，并导致 SQL 开始拒绝比以前更多的连接。群集服务开始使用此重新启动，但是 SQL 连接变得更糟。我们发现为 SQL 服务启用了 IPv6 协议，这会导致问题，就像我们在 SQL 集群中看到的那样，要禁用它，我们必须重新启动 2 个 SQL 服务器。我们一次重新启动它们，一旦它们备份，一切都正常工作。

# android - 微调器活动不起作用

> ID：12793978
> 
> 赞同：2
> 
> 时间：2012-10-09T06:23:39.113
> 
> 标签：android, android-spinner

我正在尝试创建一个活动`RateCardActivity`，其中有一个微调器。我的布局文件`RateCardActivity`是`rate_card`. 我的`RateCardActivity`样子如下。

```
public class RateCardActivity {

public void onCreate(Bundle bundle) {
    super.onCreate(bundle);
    setContentView(R.layout.rate_card);

    Spinner spinner = (Spinner) findViewById(R.id.select_city);
    ArrayAdapter<CharSequence> adapter = ArrayAdapter.createFromResource(this,
    R.array.select_city, android.R.layout.simple_spinner_item);
    adapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);
    spinner.setAdapter(adapter);

}

} 
```

布局文件`rate_card`是：

```
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
xmlns:custom="http://schemas.android.com/apk/res/com.olacabs.customer"
android:layout_width="fill_parent"
android:layout_height="fill_parent"
android:orientation="vertical" >

 <TextView
    android:id="@+id/textView1"
    android:layout_width="fill_parent"
    android:layout_height="wrap_content"
    android:background="@android:color/darker_gray"
    android:gravity="center"
    android:paddingBottom="4dp"
    android:paddingTop="4dp"
    android:text="@string/rate_card"
    android:textColor="@color/white"
    android:textSize="20dp"
    custom:customFont="litera_bold.ttf" />

 <Spinner
    android:id="@+id/select_city"
    android:layout_width="fill_parent"
    android:layout_height="wrap_content" />

</LinearLayout> 
```

使用`RateCardActivity`意图从另一个活动调用（我确信这部分代码没有任何问题，因为当我`RateCardActivity`用另一个活动替换时，应用程序工作正常）。当我尝试`RateCardActivity`在模拟器中打开应用程序时，应用程序崩溃并收到消息“应用程序已意外停止。请稍后再试。”

我似乎无法理解我做错了什么，并且想知道如何纠正这个问题？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-09T06:32:48.437

改进 :`public class RateCardActivity extends Activity` 并添加`RateCardActivity`到`AndroidManifiest.xml`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-09T06:33:03.200

嗨，您可以通过这种方式使用微调器活动，我提供了帮助的示例代码..

```
public class MyActivity extends Activity {
public static EditText edtsample;
public static EditText edtchannel;
public static EditText edtencoding;
private static Spinner samplespin;
private static Spinner channelspin;
private static Spinner encodingspin;        

@Override       
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);   
    setContentView(R.layout.settings); 

    edtsample = (EditText)findViewById(R.id.audvalue1);
    edtchannel = (EditText)findViewById(R.id.chanvalue1);
    edtencoding = (EditText)findViewById(R.id.encodingvalue1);
    edtchannel.setFocusable(false);
    edtchannel.setClickable(false);
    edtencoding.setFocusable(false);
    edtencoding.setClickable(false)

             samplespin = (Spinner) findViewById(R.id.audspinner1);

     samplespin.setOnItemSelectedListener(new OnItemSelectedListener() {

        @Override
        public void onItemSelected(AdapterView<?> parent, View view, int position,
                long id) {              
            edtsample.setText(parent.getItemAtPosition(position).toString());

        }

        @Override
        public void onNothingSelected(AdapterView<?> parent) {
            edtsample.setText("");

        }
        });

                    channelspin = (Spinner) findViewById(R.id.chanspinner1);
             channelspin.setOnItemSelectedListener(new OnItemSelectedListener() {

        @Override
        public void onItemSelected(AdapterView<?> parent, View view, int position,
                long id) {

            if(parent.getItemAtPosition(position).equals("CHANNEL_PHONE")){
                edtchannel.setText(R.string.chan1);
                System.out.println("VALUE OF  " + 
                                   edtchannel.getEditableText().toString()) ;
            }
            if(parent.getItemAtPosition(position).equals("CHANNEL_CD")){
                edtchannel.setText(R.string.chan2);
                System.out.println("VALUE OF  " + 
                               edtchannel.getEditableText().toString()) ;
            }
            if(parent.getItemAtPosition(position).equals("CHANNEL_HD")){
                edtchannel.setText(R.string.chan2);
                System.out.println("VALUE OF  " + 
                               edtchannel.getEditableText().toString()) ;
            }
            }
          @Override
           public void onNothingSelected(AdapterView<?> parent) {
            edtchannel.setText("");

        }
    });

   **And in XML part you do by this**

   <Spinner
    android:id="@+id/audspinner1"
    android:layout_width="fill_parent"
    android:layout_height="wrap_content"
    android:layout_below="@+id/audioText1" 
    android:spinnerMode= "dropdown"
    android:entries="@array/sample_array" />

    <EditText
    android:id="@+id/audvalue1"
    android:layout_width="fill_parent"
    android:layout_height="wrap_content"
    android:layout_below="@+id/audspinner1"
    android:hint="Enter Sampling Rate"
    android:ems="10" > 
```

# javascript - 固定在窗口顶部的 Div

> ID：12793980
> 
> 赞同：5
> 
> 时间：2012-10-09T06:23:59.983
> 
> 标签：javascript, css, html, position

伙计们，我想将 div 的宽度和高度固定为 100%。但问题是 div 在具有固定宽度的包装器内。

我在 div 上方有一个按钮，onclick="" 使 div 以全宽和全高更改其类。我想将该 div 定位到窗口的左上角。我的代码是

```
<html>
<head>
    <title>Javascript Change CSS Class of Div tag</title>

    <style type="text/css">

    #wrapper
    {
        width:75%;
        height:75%;
        margin:0 auto;
    }
    .minimize {
        color : red;
        width:500px;
        height:200px;
        background:#474747;
        float:left;
     } 

     .maximize {
        color : blue;
        width:100%;
        height:100%;
        float:left;
        background:#ccc;
     }

    </style>

    <script language="javascript" type="text/javascript">

        function changeCssClass(navlink)
        {
            if(document.getElementById(navlink).className=='minimize')
            {
                document.getElementById(navlink).className = 'maximize';
            }
            else
            {
                document.getElementById(navlink).className = 'minimize';
            }
        }

    </script>

</head>
<body>   <div id="wrapper">
        <div  id="navlink" class="minimize"><input type="button" value="click here" onclick="changeCssClass('navlink')" /> </div>
        </div>
</body>
</html> 
```

但我想用包装让它看起来像这样

```
<html>
<head>
    <title>Javascript Change CSS Class of Div tag</title>

    <style type="text/css">

    .minimize {
        color : red;
        width:500px;
        height:200px;
        background:#474747;
        float:left;
     } 

     .maximize {
        color : blue;
        width:100%;
        height:100%;
        float:left;
        background:#ccc;
     }

</style>

    <script language="javascript" type="text/javascript">

        function changeCssClass(navlink)
        {
            if(document.getElementById(navlink).className=='minimize')
            {
                document.getElementById(navlink).className = 'maximize';
            }
            else
            {
                document.getElementById(navlink).className = 'minimize';
            }
        }

    </script>

</head>
<body>   
        <div  id="navlink" class="minimize"><input type="button" value="click here" onclick="changeCssClass('navlink')" /> </div>
</body>
</html> 
```

有人会在这里帮忙吗....

如果有人有任何建议？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-29T11:43:22.300

我认为这就是你所追求的，但很难说，因为你没有具体说明 .minimize 和 .maximize 应该保持哪些状态。

请注意，javascript 与您的原始版本大不相同。

由于 'class' 是 DOM 元素的一个属性，因此应该使用 getAttribute 和 setAttribute 来访问它。IE6 中有一个非常非常古老的错误，它只允许 javascript 通过 className 访问元素的类，但现在情况不再如此。

此外，请注意我是如何处理类属性的。由于您可以在一个元素上指定多个类，因此此代码将其考虑在内。您可以安全地添加更多类，而无需担心最大化和最小化。

第二个要看的是css。无论滚动值是什么，使用 position:fixed 都会将元素锁定到位。在这个例子中，有两种方法可以将 div 设置为全屏。第一个是将宽度和高度指定为 100%。然而，这很脆弱。

最好将顶部、右侧、底部和左侧设置为 0。这为您提供了更多控制。此外，假设您想要边缘周围的边缘很薄。无需担心将顶部和左侧与宽度和高度混合，您只需为我提到的 4 个属性指定一个像素或百分比值，以获得简单、统一的外观。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-10-20T10:26:53.253

我检查了伯克的[小提琴](http://jsfiddle.net/gqNsA/5/)，它会解决你的问题。Sowmya 使用这个小提琴，但我做了一些改变，看看这个：

由于`class`是 DOM 元素的属性，因此应该使用`getAttribute`和访问它`setAttribute`。IE6 中有一个非常非常古老的错误，它只允许 javascript 通过 访问元素的类`className`，但现在情况不再如此。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-09T07:13:56.030

看看这个小提琴，[http://jsfiddle.net/Tv2pP/7/](http://jsfiddle.net/Tv2pP/7/)

我认为这就是你所追求的，但很难说，因为你没有具体说明 .minimize 和 .maximize 应该保持哪些状态。

请注意，javascript 与您的原始版本大不相同。

由于 'class' 是 DOM 元素的一个属性，因此应该使用 getAttribute 和 setAttribute 来访问它。IE6 中有一个非常非常古老的错误，它只允许 javascript 通过 className 访问元素的类，但现在情况不再如此。

此外，请注意我是如何处理类属性的。由于您可以在一个元素上指定多个类，因此此代码将其考虑在内。您可以安全地添加更多类，而无需担心最大化和最小化。

第二个要看的是css。无论滚动值是什么，使用 position:fixed 都会将元素锁定到位。在这个例子中，有两种方法可以将 div 设置为全屏。第一个是将宽度和高度指定为 100%。然而，这很脆弱。

最好将顶部、右侧、底部和左侧设置为 0。这为您提供了更多控制。此外，假设您想要边缘周围的边缘很薄。无需担心将顶部和左侧与宽度和高度混合，您只需为我提到的 4 个属性指定一个像素或百分比值，以获得简单、统一的外观。

最后，如果您可以选择使用像 jQuery 这样的标准化库。多年来，它已成为一种非常有用的工具，可以在您（开发人员）无需过多担心底层浏览器平台差异的情况下完成此类事情。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-10-13T08:52:57.897

`margin:0`从包装类中删除auto

检查这个[http://jsfiddle.net/PAj39/](http://jsfiddle.net/PAj39/)

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-10-16T11:54:17.797

看看这个小提琴，[http://jsfiddle.net/Tv2pP/7/](http://jsfiddle.net/Tv2pP/7/)

我认为这就是你所追求的，但很难说，因为你没有具体说明 .minimize 和 .maximize 应该保持哪些状态。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-10-09T06:37:35.427

`margin:0 auto`从包装类中移除

检查这个[http://jsfiddle.net/PAj39/](http://jsfiddle.net/PAj39/)

* * *

下面的方法使内部 div 与浏览器左上对齐

添加`position:fixed; top:0; left:0`到`.minimize`

演示[http://jsfiddle.net/PAj39/2/](http://jsfiddle.net/PAj39/2/)

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2012-10-27T05:55:10.017

只需设置 div 宽度：100%；位置：固定；给它。

但是包装器必须有 position:absolute; 财产

# emacs - emacs 乳胶挂钩未运行

> ID：12793983
> 
> 赞同：5
> 
> 时间：2012-10-09T06:24:02.500
> 
> 标签：emacs, latex, elisp, auctex

因此，出于某种原因，我在 emacs 中使用 auctex 的乳胶模式的一些钩子拒绝运行但没有给出错误（至少我在消息缓冲区中看不到任何错误）。这是我的 .emacs 中关于乳胶的大部分内容（除了一些关键字定义等......）。我也在使用最新版本的 auctex 在 Arch Linux 上运行 Emacs24.2。一直在努力解决这个问题，据我所知，这曾经工作得很好，直到今天我注意到flyspell和自动填充没有被自动设置（可能已经以这种速度发生了一段时间，因为我没有暂时不要使用 auctex）。

```
 (add-to-list 'load-path "~/Dropbox/Emacs/")
(add-to-list 'load-path "~/Dropbox/Emacs/git/")
(add-to-list 'load-path "~/Dropbox/Emacs/magit/")
(add-to-list 'load-path "~/Dropbox/Emacs/GLSL/")

;; auto-complete
(require 'auto-complete)
(require 'auto-complete-config)
(require 'auto-complete-clang)
(ac-flyspell-workaround)
(add-to-list 'ac-modes 'LaTeX-mode)
(ac-config-default)
(setq ac-quick-help-delay 0)
(define-key ac-mode-map  [(control tab)] 'auto-complete)
(setq-default ac-sources
          '(ac-source-abbrev ac-source-dictionary
                 ac-source-words-in-same-mode-buffers))
(global-auto-complete-mode t)
(add-hook 'emacs-lisp-mode-hook
      (lambda  ()
        (add-to-list 'ac-sources 'ac-source-symbols 'ac-source-variables)))
(defun add-sources-c-modes ()
  (add-to-list 'ac-sources 'ac-source-semantic 'ac-source-clang))
(add-hook 'c-mode-hook 'add-sources-c-modes)
(add-hook 'c++-mode-hook 'add-sources-c-modes)
(define-key ac-completing-map "\C-n" 'ac-next)
(define-key ac-completing-map "\C-p" 'ac-previous)

;; DocView
(setq doc-view-continuous t)
(setq doc-view-resolution 300)

;; diff mode colors
(eval-after-load 'diff-mode
  '(progn
     (set-face-foreground 'diff-added "green")
     (set-face-foreground 'diff-header "purple")
     (set-face-foreground 'diff-removed "red")))

;; dired colors
(eval-after-load 'dired-mode
  '(progn
     (set-face-foreground 'dired-directory "cyan")
     (set-face-foreground 'dired-flagged "red")
     (set-face-foreground 'dired-header "purple")))

;; server mode
;; (server-start)

;; GLSL
(autoload 'glsl-mode "glsl-mode" nil t)
(add-to-list 'auto-mode-alist '("\.vert\'" . glsl-mode))
(add-to-list 'auto-mode-alist '("\.frag\'" . glsl-mode))

;; Git / SVN
(require 'git)
(require 'git-blame)

;; Emacs Code Browser / CEDET
;; (require 'cedet)
;; (require 'ecb)
;; (setq ecb-options-version "2.40")

;; Close scratch buffer on startup
(defun close-scratch-hook ()
  (kill-buffer "*scratch*"))
(add-hook 'emacs-startup-hook 'close-scratch-hook)

;; LaTeX/Auctex settings
(require 'ac-math)
(defun ac-latex-mode-setup ()
  (add-to-list 'ac-sources 'ac-source-math-unicode 'ac-source-math-latex
           'ac-source-latex-commands))
(add-hook 'LaTeX-mode-hook 'latex-math-mode)
(add-hook 'LaTeX-mode-hook 'turn-on-reftex)
(add-hook 'text-mode-hook 'auto-fill-mode)
(add-hook 'LaTeX-mode-hook 'turn-on-flyspell)
(add-hook 'LaTeX-mode-hook 'ac-latex-mode-setup)
(add-hook 'LaTeX-mode-hook
      (lambda ()
         (set-face-foreground 'font-latex-sedate-face "cyan")))
(setq reftex-plug-into-AUCTeX t)
(setq font-latex-match-slide-title-keywords (quote (("frametitle" "{"))))
(setq font-latex-match-warning-keywords (quote ("hline" "pause" "and" "hfill")))
(setq font-latex-match-function-keywords
      (quote
       (("titlepage" "") ("maketitle" "") ("frame" "") ("tableofcontents" "")
    ("noindent" "") ("usetheme" "{") ("usecolortheme" "{") ("institute" "[{")
    ("includegraphics" "[{") ("title" "[{") ("href" "{{") ("url" "{") ("hypersetup" "{")
    ("useoutertheme" "{") ("useinnertheme" "{") ("setbeamercolor" "{{")
    ("setbeamertemplate" "{{") ("setdescription" "{") ("lstset" "{") ("lstinputlisting" "[{")
    ("textcolor" "{") ("verbatiminput" "{") ("graphicspath" "{")
    ("fancyhead" "[{") ("fancyfoot" "[{") ("fontsize" "{{") ("doublespacing" ""))))

;; Line numbers
(require 'linum)
(global-linum-mode t)

;; Disable line numbers in certain buffers
(defcustom linum-disabled-modes-list '(eshell-mode wl-summary-mode compilation-mode org-mode dired-mode)
  "* List of modes disabled when global linum mode is on"
  :type '(repeat (sexp :tag "Major mode"))
  :tag " Major modes where linum is disabled: "
  :group 'linum)

(defcustom linum-disable-starred-buffers 't
  "* Disable buffers that have stars in them like *Gnu Emacs*"
  :type 'boolean
  :group 'linum)

(defun linum-on ()
  "* When linum is running globally, disable line number in modes defined in `linum-disabled-modes-list'. Changed by linum-off. Also turns off numbering in starred modes like *scratch*"
  (unless (or (minibufferp) (member major-mode linum-disabled-modes-list)
          (and linum-disable-starred-buffers (string-match "*" (buffer-name))))
    (linum-mode 1)))

;; Basic emacs settings
(setq initial-scratch-buffer nil)
(setq inhibit-splash-screen t)
(setq inhibit-startup-message t)
(setq-default truncate-lines t)
(setq backup-inhibited t)
(setq auto-save-default nil)
(setq compilation-scroll-output t)
(if (boundp 'scroll-bar-mode) (scroll-bar-mode -1))
(column-number-mode 1)
(setq-default fill-column 80)
(setq auto-fill-mode 1)
(if (boundp 'tool-bar-mode) (tool-bar-mode 0))
(set-face-attribute 'default nil :height 100)
(add-hook 'before-save-hook 'delete-trailing-whitespace)
(global-auto-revert-mode t)
(setq frame-title-format "%b")

;; cscope
(require 'xcscope)
(setq cscope-do-not-update-database t)

;; Enable these to speed up compiler output
;; (setq compilation-error-regexp-alist nil)
;; (setq compilation-error-regexp-alist-alist nil)

;; Indentation rules
(setq c-default-style "bsd" c-basic-offset 4)
(c-set-offset 'case-label '+)
(setq sgml-basic-offset 4)
(setq python-indent 4)
(setq indent-tabs-mode nil)
(setq tab-always-indent t)
(setq tab-width 4)
(setq tab-stop-list (quote (4 8 12 16 20 24 28 32 36 40 44 48 52
                  56 60 64 68 72 76 80 84 88 92 96
                  100 104 108 112 116 120)))

;; highlight matching parentheses
(show-paren-mode 1)
(setq show-paren-delay 0)

;; highlight current line
(global-hl-line-mode 1)
(set-face-background 'hl-line "#300")

;; C-Sharp mode
;; (require 'cc-mode)
;; (autoload 'csharp-mode "csharp-mode" "Major mode for editing C# code." t)
;; (add-to-list 'auto-mode-alist '("\.cs$" . csharp-mode))

;; Change the color scheme
(require 'color-theme)
(color-theme-initialize)
(color-theme-midnight)

;; Make ENTER automatically indent in C derived buffers
(add-hook 'c-mode-common-hook
      (lambda ()
         (local-set-key (kbd "RET") 'newline-and-indent)))

;; Enable terminal colors
(autoload 'ansi-color-for-comint-mode-on "ansi-color" nil t)
(add-hook 'shell-mode-hook 'ansi-color-for-comint-mode-on)

;; Hotkeys
(global-set-key [f9] 'compile)

;; Emacs IRC
(setq erc-auto-query 'buffer)

;; assembly mode
(add-hook 'asm-mode-hook
      (lambda ()
         (local-set-key (kbd "RET") 'newline)))

;; change default Browser
(setq browse-url-generic-program (executable-find "chromium")
      browse-url-browser-function 'browse-url-generic)

;; multi-term
(require 'multi-term)

;; yasnippet work around
;; (add-hook 'change-major-mode-hook 'yas/exit-all-snippets)

;; develock
(require 'develock) 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-09T13:20:52.283

我的猜测是您`auto-complete-mode`在添加`LaTeX-mode`到`ac-modes`.

要确定发生了什么，我们需要查看`.emacs`具有相同问题的整个或最小示例。

顺便说一句，你`ac-latex-mode-setup`什么都不做，因为当它被调用时，它只是定义了一个`lambda`永远不会被使用的（匿名函数）。如果要执行代码，则需要将其更改为以下内容：

```
(defun ac-latex-mode-setup ()         ; add ac-sources to default ac-sources
  (setq ac-sources
     (append '(ac-source-math-unicode ac-source-math-latex ac-source-latex-commands)
               ac-sources))
) 
```

您使用的`progn`也无济于事。`progn`允许您链接多个指令并且您只使用一个。为了清楚起见，您可以`progn`如下所示：

```
(eval-after-load 'LaTeX-mode
  '(set-face-foreground 'font-latex-sedate-face "cyan")) 
```

Stefan 使用`package-install`. 这是首选方式，而且效果非常好。作为旁注，你**永远不**应该使用`load`. **始终**使用`require`或`eval-after-load`。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-09T07:12:16.547

AFAIK，没有`auctex.el`。`tex-site`在IIRC中为 AUCTeX 加载的文件。您实际上可能更喜欢安装 AUCTeX，`M-x package-install RET`它会为您解决这个问题。

# netbeans-7.1 - 从 Glassfish 服务器执行 .ear 文件到 Tomee+ 服务器的步骤

> ID：12793988
> 
> 赞同：2
> 
> 时间：2012-10-09T06:24:18.113
> 
> 标签：netbeans-7.1, apache-tomee

作为企业应用程序的新手，我正在努力完成它。

我在 Netbeans 7.1.2 中开发了一个企业应用程序。它使用默认的 Glassfish 服务器成功运行。由于需要更改服务器，我下载并安装了 Tomee+ 服务器，并进行了一些更改以使 Tomee Manager Interface 在我的系统上工作。我将 .ear 文件（Glassfish 服务器输出）部署到 Tomee+ 中，将其放置在 Tomee webapps 文件夹中，服务器处于运行状态。它会自动部署并出现在 Tomcat Web 应用程序管理器界面中。

然后，通过在地址栏中提供合适的路径，例如`http://localhost:8080/app-war/faces/app.xhtml`，它提供了前端屏幕，但如果我单击提交按钮，后端进程将无法正常工作。相反，它只是提供一个状态页面，例如`HTTP Status 500 - javax.el.ELException: javax.ejb.EJBTransactionRolledbackException: Transaction was rolled back, presumably because setRollbackOnly was called during a synchronization`.

**我的问题是**：我在 Tomee+ 服务器中部署它的步骤出了什么问题？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-09T10:20:32.913

没有更详细的堆栈？

顺便说一句，您可以尝试：1）检查您在 tomee.xml 中是否有该行 2）将您的耳朵放在 /apps/ 而不是 webapps/

重点是默认情况下（可以使用快照/下一个版本进行配置） tomee 将耳朵提取到文件夹中，只需删除扩展名（例如 webapps/your-ear/），然后 tomcat 将此文件夹作为 webapp，因此您的部署是没有更多的预期。这就是为什么将它移动到不受tomcat（应用程序）管理的文件夹通常就足够了。

也就是说，Glassfish 事务管理有时过于宽容（为什么我要问你得到的完整堆栈）。

# c++ - 删除对象后退出包含指向对象指针的线程的最佳方法

> ID：12793999
> 
> 赞同：0
> 
> 时间：2012-10-09T06:25:03.060
> 
> 标签：c++, multithreading

在我的 c++ 类中，我创建了一个线程并将指针指向`this`该线程。现在某个地方这个对象被删除了。我希望线程在对象被删除后退出。

一种方法是使用 try-catch。每当我发现异常时，我都会退出线程。但那是一种黑客行为。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-10-09T06:31:29.813

> 现在某个地方这个对象被删除了。我希望线程在对象被删除后退出。

这完全是倒退。您想要做的是以某种方式通知线程退出并让线程清理对象本身。换句话说，“主”线程和“工作”线程之间必须有某种合作。

这是因为线程本身可能希望在退出之前能够对对象执行某些操作，如果您删除它*然后*导致线程退出，您的程序几乎肯定会死于访问冲突异常。

考虑使用[`boost::thread`](http://www.boost.org/doc/libs/release/doc/html/thread.html)，它具有对协作线程取消的内置支持。[该线程将使用中断点](http://www.boost.org/doc/libs/release/doc/html/thread/thread_management.html#thread.thread_management.tutorial.interruption)之一定期检查何时该退出，执行任何必要的清理。这样，“主”线程不必处理删除对象本身，它可以只发出线程退出的信号，它会自行处理（假设您正确实现了这一点）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-09T06:29:48.143

我会将它包装在一个包含 this 指针和某种标志的结构中，以报告对象是否被删除。这样你至少可以避免异常代码。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-09T06:31:48.860

您可以在析构函数中停止线程。