# StackOverflow 问答 15716000-15716999

# ruby-on-rails - Rails 路由从对象生成路径

> ID：15716006
> 
> 赞同：0
> 
> 时间：2013-03-30T07:09:15.533
> 
> 标签：ruby-on-rails, url, path, routes

我无法从对象生成 url。

我的路由文件中有以下代码：

`match '(*path)/:name' => 'pages#show'`

它指向我的`Page`控制器，其中包含：

```
def show
    if params[:path] and params[:name]
      @page = Page.where(:path => params[:path], :title => params[:name]).first
    elsif params[:name]
      @page = Page.where(:path => "", :title => params[:name]).first
    end
end 
```

所以在的情况下`localhost:3000/food/`会找到所在的页面`:path => "", :title => 'food'`

并且`localhost:3000/food/pizza`会找到所在的页面`:path => "food/", :title => 'pizza'`

* * *

问题是尝试获取从 a`Page`对象生成的 url。所以`link_to(@page.title, @page)`返回：

`undefined method 'page_path'`

如何让路由反向工作以从对象生成 url？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-30T07:59:30.317

您需要退回到“旧式”link_to：

```
link_to @page.title, :controller => "pages", :action => "show", :path => @page.path, :name => @page.title %> 
```

请参阅：[http](http://api.rubyonrails.org/classes/ActionView/Helpers/UrlHelper.html#method-i-link_to) ://api.rubyonrails.org/classes/ActionView/Helpers/UrlHelper.html#method-i-link_to下的示例

Also, check out [http://guides.rubyonrails.org/routing.html#resource-routing-the-rails-default](http://guides.rubyonrails.org/routing.html#resource-routing-the-rails-default) to see if you *realy* want to go down that road with your routes

# maps - Openlayers：缩放时标记消失

> ID：15716008
> 
> 赞同：1
> 
> 时间：2013-03-30T07:09:16.143
> 
> 标签：maps, openlayers, marker

我是 Openlayers 的新手，所以不确定出了什么问题。当我更改选择下拉菜单和单击地图时，我可以添加标记。当我缩放地图时，问题出现了，标记消失了。

我意识到标记不会消失，它们只是移动到另一个地方，到点 0,0。

这是代码

```
(function($) {
$().ready(function() {        
    var ZOOM_LEVEL_PROVINCE = 12;

    var projection = new OpenLayers.Projection("EPSG:4326");

    var map;
    var markerLayer;

    var initMap = function() {

        map = new OpenLayers.Map ("map", {
            controls:[
                new OpenLayers.Control.Navigation(),
                new OpenLayers.Control.PanZoomBar(),
                new OpenLayers.Control.Permalink(),
                new OpenLayers.Control.ScaleLine({geodesic: true}),
                new OpenLayers.Control.Permalink('permalink'),
                new OpenLayers.Control.MousePosition(),                    
                new OpenLayers.Control.Attribution()],
            //maxExtent: new OpenLayers.Bounds(-20037508.34,-20037508.34,20037508.34,20037508.34),
            maxResolution: 156543.0339,
            numZoomLevels: 19,
            units: 'm',
            projection: new OpenLayers.Projection("EPSG:4326"),
            displayProjection: new OpenLayers.Projection("EPSG:4326")
        } );

        layer = new OpenLayers.Layer.OSM("Simple OSM Map");
        map.addLayer(layer);

        var point = getLonLatProvince('san-jose');
        map.setCenter(point.transform(projection, map.getProjectionObject()), ZOOM_LEVEL_PROVINCE);
    }

    var initMakerLayer = function(){
        markerLayer = new OpenLayers.Layer.Markers( "MarkerLayer" );
        markerLayer.id = "MarkerLayer";
        map.addLayer(markerLayer);
    }

    var showMarker = function( province ){
        var point = getLonLatProvince(province);
        var location = point.transform(projection, map.getProjectionObject());
        showMarkerPosition(location);
    }

    var showMarkerPosition = function( location ){
        markerLayer.clearMarkers(); 
        var size = new OpenLayers.Size(21,25);
        var offset = new OpenLayers.Pixel(-(size.w/2), -size.h);
        var icon = new OpenLayers.Icon('http://www.openlayers.org/dev/img/marker.png',size,offset);

        markerLayer.addMarker(new OpenLayers.Marker(location,icon.clone()));

        var newPoint = location.transform(new OpenLayers.Projection("EPSG:900913"), new OpenLayers.Projection("EPSG:4326"));

        $("#edit-plonlat").val( newPoint );
    }

    var getLonLatProvince = function( province ){
        ...
    }

    initMap();
    initMakerLayer();
    showMarker('san-jose');

    map.events.register("click", map, function(e) {
        var location = map.getLonLatFromPixel(e.xy);
        showMarkerPosition(location);
    });

    $('#edit-pprovinces').change(function() {
        var selectedPronvince = $(this).val();
        var point = getLonLatProvince(selectedPronvince);
        showMarker(selectedPronvince);
        map.setCenter(point.transform(projection, map.getProjectionObject()), ZOOM_LEVEL_PROVINCE);
    });
}); 
```

})(jQuery);

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-03T17:26:31.197

我认为您对 map.getLonLatFromPixel(e.xh) 的调用正在 WGS84 (EPSG:4326) 中获得一个位置，因为那是地图的投影。然后在“点击”处理程序中调用 showMarkerPosition。在 showMarkerPosition 中，您将该位置从 Google 转换为 WGS84 投影，这会将以米为单位的大纬度/经度更改为以度为单位的更小的纬度/经度。

If you've started out with degrees for that meters-to-degrees transform, then I think you'll end up with a lat/lon that's very close to 0,0 off the West coast of Africa.

A projection transform issue is where I always start looking when I see 0,0 lat/lon's.

# java - 如何调用一个字符串出现在另一个类中

> ID：15716011
> 
> 赞同：0
> 
> 时间：2013-03-30T07:09:31.143
> 
> 标签：java, instance

我有一个叫做 Main 的类。爪哇。在此输出由 inputLine 显示，它是从 com 端口串行获取的字符串。我希望在同一个默认包中的其他一些类中使用这个字符串值。我如何在其他类中调用此字符串。如何创建此类的实例并在任何其他 xyz.java 类中调用字符串 inputLine。一个例子会很有帮助。

```
 import java.io.BufferedReader;
    import java.io.InputStreamReader;
    import java.io.OutputStream;
    import gnu.io.CommPortIdentifier;
    import gnu.io.SerialPort;
    import gnu.io.SerialPortEvent;
    import gnu.io.SerialPortEventListener;
    import java.util.Enumeration;

public class Main implements SerialPortEventListener
{
    SerialPort serialPort;
        /** The port we're normally going to use. */
    private static final String PORT_NAMES[] = {
            "COM30", // Windows
    };
    /**
    * A BufferedReader which will be fed by a InputStreamReader
    * converting the bytes into characters
    * making the displayed results codepage independent
    */
    private BufferedReader input;
    /** The output stream to the port */
    private OutputStream output;
    /** Milliseconds to block while waiting for port open */
    private static final int TIME_OUT = 2000;
    /** Default bits per second for COM port. */
    private static final int DATA_RATE = 9600;

    public void initialize() {
        CommPortIdentifier portId = null;
        Enumeration portEnum = CommPortIdentifier.getPortIdentifiers();

        //First, Find an instance of serial port as set in PORT_NAMES.
        while (portEnum.hasMoreElements()) {
            CommPortIdentifier currPortId = (CommPortIdentifier) portEnum.nextElement();
            for (String portName : PORT_NAMES) {
                if (currPortId.getName().equals(portName)) {
                    portId = currPortId;
                    break;
                }
            }
        }
        if (portId == null) {
            System.out.println("Could not find COM port.");
            return;
        }

        try {
            // open serial port, and use class name for the appName.
            serialPort = (SerialPort) portId.open(this.getClass().getName(),
                    TIME_OUT);

            // set port parameters
            serialPort.setSerialPortParams(DATA_RATE,
                    SerialPort.DATABITS_8,
                    SerialPort.STOPBITS_1,
                    SerialPort.PARITY_NONE);

            // open the streams
            input = new BufferedReader(new InputStreamReader(serialPort.getInputStream()));
            output = serialPort.getOutputStream();

            // add event listeners
            serialPort.addEventListener(this);
            serialPort.notifyOnDataAvailable(true);
        } catch (Exception e) {
            System.err.println(e.toString());
        }
    }

    /**
     * This should be called when you stop using the port.
     * This will prevent port locking on platforms like Linux.
     */
    public synchronized void close() {
        if (serialPort != null) {
            serialPort.removeEventListener();
            serialPort.close();
        }
    }

    /**
     * Handle an event on the serial port. Read the data and print it.
     */
    public synchronized void serialEvent(SerialPortEvent oEvent) {
        if (oEvent.getEventType() == SerialPortEvent.DATA_AVAILABLE) {
            try {
                String inputLine=input.readLine();
                System.out.println(inputLine);

            } catch (Exception e) {
                System.err.println(e.toString());
            }
        }
        // Ignore all the other eventTypes, but you should consider the other ones.
    }

    public static void main(String[] args) throws Exception {
        Main main = new Main();
        main.initialize();
        Thread t=new Thread() {
            public void run() {
                //the following line will keep this app alive for 1000 seconds,
                //waiting for events to occur and responding to them (printing incoming messages to console).
                try {Thread.sleep(1000000);} catch (InterruptedException ie) {}
            }
        };
        t.start();
        System.out.println("Started");
    }
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-30T07:26:42.677

首先，如果您想在其他地方访问变量，则该变量必须是实例变量或类变量，在方法中创建的变量只能存在于该方法内部，并且一旦方法返回就会消失。

In order to access the variable from another class you have to make it available, there are no friends in Java as in C++. You have 3 options.

*   Create a public instance variable, then provide a reference to the instance to those that need to access the information.
*   Create a private instance variable and public setter/getter methods to access it from the outside, then provide a reference to the instance to those that need to access the information.
*   Create a public static (class) variable.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-30T07:29:59.127

In your case, you should just create a class variable. Just declare inside the class, `public static String inputLine;` Change String inputLine=input.readLine(); to `inputLine=input.readLine();` and you can access it from other classes in the same package using Main.inputLine.

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-30T07:31:06.910

Sounds like the Observer Pattern for me...

Create an Interface eg. SerialListener that every class to be informed implements. The interface has one method with string parameter that is called by your Main Class every time new information arrives. And of cause the main class has methods to register new listeners and stores them in a list

List toBeCalled = new ArrayList()

Just like other Listeners in Swing etc.

# web - Website going down intermittenty, but server is always up

> ID：15716022
> 
> 赞同：0
> 
> 时间：2013-03-30T07:10:30.737
> 
> 标签：web, dns, http-status-code-301, no-www

I have recently set up my domain, but my problem is when I navigate with/without www, the results are inconsistent. They are supposed to point to the same page, but sometimes, the www site has broken links to non-www components (e.g.: when I load [http://www.my-domain.com](http://www.my-domain.com), and if I have a resource referred as [http://my-domain.com/navi.css](http://my-domain.com/navi.css), it breaks)

Have tried 301 rewriting, but it's not always consistent. What do I need to do to ensure 100% uptime for my site?

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-30T07:17:08.277

This could be because of a couple of reasons:

*   Your DNS has not propagated yet, meaning if you recently just changed DNS on the domain name give it up to 48 hours and flush cache from your browser.
*   The domain DNS is pointing to different IP addresses from your www. or * A records.
*   There is a problem with the hosting configuration (unlikely if you are using CPanel or any hosting control panel as this is mostly automated).

Also you should pick either with or without www for consistency and better SEO results. Pick one and stick to it.

# sql - 如何在oracle中使用distinct删除子查询中的重复项

> ID：15716023
> 
> 赞同：0
> 
> 时间：2013-03-30T07:10:47.797
> 
> 标签：sql, oracle, distinct

我想删除从此 sql 返回的重复行：

```
Select
      *
    From (Select
      Security_Symbol,
      Security_Name,
      date1,
      time1,
      last1,
      Changefromopen,
      percentchangefromopen
    From
      xgdv
    Where
      Security_Symbol In ('abc', 'def', 'ghi')
    Order By
      date1 desc,
      time1 asc) where rownum <= 3 
```

在子查询中使用 distinct 不会删除重复记录。

在子查询中使用 distinct 有什么问题。我如何实现这一目标？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-30T09:09:09.460

如果您有多行具有相同的`Security_Symbol`/ `Security_Name`，但结果中的每个组合只需要一行，那么您需要确定所需的数据。您可能需要其他列的范围，如：

```
Select
  Security_Symbol,
  Security_Name,
  min(date1), max(date1),
  min(time1), max(time1)
  min(last1), max(last1),
  min(Changefromopen), max(Changefromopen),
  min(percentchangefromopen), max(percentchangefromopen)
From
  xgdv
Where
  Security_Symbol In ('abc', 'def', 'ghi')
Group by
  Security_Symbol, Security_Name
Order By
  Security_Symbol, Security_Name 
```

这可能不是您正在寻找的解决方案；如果不是，请指定您感兴趣的其他列的数据。例如：任何随机行，平均值，...

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-31T19:50:06.240

尝试在子查询中调用基表中的所有列 - 哪些行相似可能更明显。您还可以尝试向子查询添加排名以突出显示重复的行。这将是找出造成欺骗的原因的起点。

# ios - What is difference between .ipa with development provisioning and .ipa with adhoc distribution provisioning profile?

> ID：15716026
> 
> 赞同：8
> 
> 时间：2013-03-30T07:11:15.813
> 
> 标签：ios, provisioning-profile, ipa

I looked on stack overflow there are many similar questions but could not understand exactly. As my knowledge there are three types provisioning profile -

1.  Development provisioning profile
2.  Ad hoc distribution provisioning profile
3.  App store distribution provisioning profile

Development provisioning profile allows for testing and debugging. Ad hoc distribution for beta testing without using Xcode.

**But my question is that** .ipa created for testing using development provisioning or using adhoc distribution provisioning, What is the difference in both ipa?

Thanks for your answer.

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-30T07:26:29.667

```
Development provisioning profile 
```

the development provisioning profile is for testing your App on a device (iPad, iPhone, iPod Touch)

```
Ad hoc distribution provisioning profile 
```

Adhoc testing is when you have completed development and want to distribute your app to multiple users for testing (your second question). Just create a distribution profile for adhoc testing and select all the device ids for which the profile is valid. In that case you will only need to send the .app file and .mobileprovision file to each user testing your app.

```
Details Desription: 
```

If you'd like to install your software on several devices without using the App Store, you'll have to create an Ad Hoc distribution profile with the device ID numbers, and install that profile as well as the software, on all of the devices.

```
App store distribution provisioning profile 
```

For submission of the app to app store, you have to create a distribution mobile provisional file with the "App Store" option selected.

1.you want to test your App then use - `Development provisioning profile`.

2.test multiple users without interaction with APP store then use - `Ad hoc distribution provisioning profile`

2.multiple users interaction with APP store then use - `App store distribution provisioning profile`

# c - 调整输出（也许是 Wordwrap？）

> ID：15716029
> 
> 赞同：-2
> 
> 时间：2013-03-30T07:11:39.487
> 
> 标签：c, output

我的输出需要如下所示：

```
There are 8 prime numbers less than or equal to 19

2  3  5  7  11  13  17  19  

There are 95 prime numbers less than or equal to 500

2  3  5  7  11  13  17  19  23  29  31  37  41  43  47  53  59  61  67  71  
73  79  83  89  97  101  103  107  109  113  127  131  137  139  149  151  157  163  167  173  
179  181  191  193  197  199  211  223  227  229  233  239  241  251  257  263  269  271  277  281  
283  293  307  311  313  317  331  337  347  349  353  359  367  373  379  383  389  397  401  409  
419  421  431  433  439  443  449  457  461  463  467  479  487  491  499  

There are 239 prime numbers less than or equal to 1500

2  3  5  7  11  13  17  19  23  29  31  37  41  43  47  53  59  61  67  71  
73  79  83  89  97  101  103  107  109  113  127  131  137  139  149  151  157  163  167  173  
179  181  191  193  197  199  211  223  227  229  233  239  241  251  257  263  269  271  277  281  
283  293  307  311  313  317  331  337  347  349  353  359  367  373  379  383  389  397  401  409  
419  421  431  433  439  443  449  457  461  463  467  479  487  491  499  503  509  521  523  541  
547  557  563  569  571  577  587  593  599  601  607  613  617  619  631  641  643  647  653  659  
661  673  677  683  691  701  709  719  727  733  739  743  751  757  761  769  773  787  797  809  
811  821  823  827  829  839  853  857  859  863  877  881  883  887  907  911  919  929  937  941  
947  953  967  971  977  983  991  997  1009  1013  1019  1021  1031  1033  1039  1049  1051  1061  1063  1069  
1087  1091  1093  1097  1103  1109  1117  1123  1129  1151  1153  1163  1171  1181  1187  1193  1201  1213  1217  1223  
1229  1231  1237  1249  1259  1277  1279  1283  1289  1291  1297  1301  1303  1307  1319  1321  1327  1361  1367  1373  
1381  1399  1409  1423  1427  1429  1433  1439  1447  1451  1453  1459  1471  1481  1483  1487  1489  1493  1499 
```

相反，它看起来像这样：

```
There are 8 prime numbers less than or equal to 19 

2 3 5 7 11 13 17 19 

There are 95 prime numbers less than or equal to 500 

2 3 5 7 11 13 17 19 23 29 31 37 41 43 47 53 59 61 67 71 73 79 83 89 97 101 103 107 109 113 127 131 137 139 149 151 157 163 167 173 179 181 191 193 197 199 211 223 227 229 233 239 241 251 257 263 269 271 277 281 283 293 307 311 313 317 331 337 347 349 353 359 367 373 379 383 389 397 401 409 419 421 431 433 439 443 449 457 461 463 467 479 487 491 499 

There are 239 prime numbers less than or equal to 1500 

2 3 5 7 11 13 17 19 23 29 31 37 41 43 47 53 59 61 67 71 73 79 83 89 97 101 103 107 109 113 127 131 137 139 149 151 157 163 167 173 179 181 191 193 197 199 211 223 227 229 233 239 241 251 257 263 269 271 277 281 283 293 307 311 313 317 331 337 347 349 353 359 367 373 379 383 389 397 401 409 419 421 431 433 439 443 449 457 461 463 467 479 487 491 499 503 509 521 523 541 547 557 563 569 571 577 587 593 599 601 607 613 617 619 631 641 643 647 653 659 661 673 677 683 691 701 709 719 727 733 739 743 751 757 761 769 773 787 797 809 811 821 823 827 829 839 853 857 859 863 877 881 883 887 907 911 919 929 937 941 947 953 967 971 977 983 991 997 1009 1013 1019 1021 1031 1033 1039 1049 1051 1061 1063 1069 1087 1091 1093 1097 1103 1109 1117 1123 1129 1151 1153 1163 1171 1181 1187 1193 1201 1213 1217 1223 1229 1231 1237 1249 1259 1277 1279 1283 1289 1291 1297 1301 1303 1307 1319 1321 1327 1361 1367 1373 1381 1399 1409 1423 1427 1429 1433 1439 1447 1451 1453 1459 1471 1481 1483 1487 1489 1493 1499 
```

我怎样才能解决这个问题。

代码：

```
void writeToOutputFile(FILE *fpout, const int *array, int n, int count){
    int i;
    fprintf(fpout, "\n \nThere are %d prime numbers less than or equal to %d \n \n", count, n);
    for(i = 0; i < count; i++){ 
        if(*(array + i) != 0){
            fprintf(fpout, "%d ", *(array + i));
        }
    }
} 
```

iiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiii

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-30T07:14:11.997

`printf`返回打印到屏幕上的字符数。当您达到特定限制时，您可以使用此信息打印换行符：

```
int width = 0;
for (/* some loop */) {
    width += printf(/*some numbers */);
    if (width > 70) {
      printf("\n");
      width = 0;
    }
} 
```

在您的职能范围内：

```
void writeToOutputFile(FILE *fpout, const int *array, int n, int count){
    int i;
    int width = 0;
    fprintf(fpout, "\n \nThere are %d prime numbers less than or equal to %d \n \n", count, n);
    for(i = 0; i < count; i++){ 
        if(*(array + i) != 0){
            width += fprintf(fpout, "%d ", *(array + i));
            if (width > 70) {
              fprintf(fpout, "\n");
              width = 0;
            }
        }
    }
} 
```

# css - 给有序列表编号 像一个数组，数字周围有括号

> ID：15716030
> 
> 赞同：9
> 
> 时间：2013-03-30T07:12:08.653
> 
> 标签：css

我有这个清单：

```
<ol start="0">
  <li>Tokyo Skytree</li>
  <li>Canton Tower</li>
  <li>CN Tower</li>
  <li>Ostankino Tower</li>
  <li>Oriental Pearl Tower</li>
</ol> 
```

显示如下：

```
1\. Tokyo Skytree
2\. Canton Tower
3\. CN Tower
4\. Ostankino Tower
5\. Oriental Pearl Tower 
```

现在我想要的是有这样的东西：

```
[1] Tokyo Skytree
[2] Canton Tower
[3] CN Tower
[4] Ostankino Tower
[5] Oriental Pearl Tower 
```

理想情况下，我想要一个基于 0 的数组，例如：

```
[0] = Tokyo Skytree
[1] = Canton Tower
[2] = CN Tower
[3] = Ostankino Tower
[4] = Oriental Pearl Tower 
```

我已阅读有关[CSS 编号样式](http://css-tricks.com/numbering-in-style/)和[CSS 列表 W3C 草案](http://dev.w3.org/csswg/css-lists/#predefined-counters)的信息，但我无法找到可行的解决方案。

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-03-30T07:24:28.513

你可以这样做：

```
ol {
  counter-reset: o-counter -1;
  list-style-type: none;
}
ol li:before {
  content: '[' counter(o-counter) '] = ';
  counter-increment: o-counter;
} 
```

[http://jsfiddle.net/userdude/Fb3ab/2/](http://jsfiddle.net/userdude/Fb3ab/2/)

请记住`o-counter`（或任何你称之为的）需要在父级`UL`/`OL`上才能增加。而且，IE7 也不支持这个。

更多信息：

*   [http://www.w3.org/TR/CSS21/generate.html#counters](http://www.w3.org/TR/CSS21/generate.html#counters)
*   [http://css-infos.net/property/content](http://css-infos.net/property/content)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-30T07:31:51.900

你可以使用的counter属性是CSS。

```
<ol>
  <li>Lorem ipsum dolor sit amet, consectetuer adipiscing elit.</li>
  <li>Aliquam tincidunt mauris eu risus.</li>
  <li>Vestibulum auctor dapibus neque.</li>
  <li>Lorem ipsum dolor sit amet, consectetuer adipiscing elit.</li>
  <li>Aliquam tincidunt mauris eu risus.</li>
  <li>Vestibulum auctor dapibus neque.</li>
</ol> 
```

```
ol { list-style: none; 
counter-reset:array;}
ol li:before {
counter-increment:array;
content:"[" counter(array) "] ";
} 
```

[http://codepen.io/Nunotmp/pen/duhAb](http://codepen.io/Nunotmp/pen/duhAb)

# php - 标头函数在 PHP 中不起作用

> ID：15716031
> 
> 赞同：-3
> 
> 时间：2013-03-30T07:12:13.597
> 
> 标签：php

说到我的最后一个代码，它不会将我的登录页面指向 index.php 吗？你认为问题出在`header()`功能上吗？

```
 if (empty($_POST)===false){
    $username = $_POST['username'];
    $password = $_POST['password']; 

        if(empty($username)=== true || empty($password)=== true){
            $errors[] = 'You need to enter a user name and password';
        }else if(user_exists($username)===false){
            $errors[] = 'we can\'t find that username. Have you registed?';
        }else if(user_active($username)===false){
            $errors[] = 'You have\'t activated your account ! please check your email and active it';
        }else{
            $login = login($username,$password);
            if($login === false){
                $errors[] = "That username/password combination is not correct";
            }else{                  
                $_SESSION['id'] = $login;
                header('Location:index.php');
                exit();
            }
        }       

        print_r($errors);
    }

?> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-30T07:36:25.867

如果你想检查`header()`功能是否有效。首先删除所有`if-else conditions`and than`header()`功能肯定会起作用。而不是`if-else condition`一一给出`echo or print`一些值来检查响应。

# javascript - 如何在它之外打破while循环

> ID：15716034
> 
> 赞同：2
> 
> 时间：2013-03-30T07:12:27.213
> 
> 标签：javascript, while-loop

这不是一个常见的情况，但它的滥用是什么？

```
var t = true;

setTimeout(function(){
    t=false;
},1000);

while(t){
    //loop...
    //if t==false, break loop.
} 
```

另一种情况，它也会导致无限循环：

```
button.onlcick = function(){
    t = false;
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-30T07:21:30.210

因为 while 循环永远不会退出，所以当某些事情同步完成时，您的其他代码永远不会运行。我对您最好的提议是不要使用 while 循环，而是使用诸如 setTimeout 之类的重复事件，并在完成时使超时自行运行。这样你就不会创建一个封闭的环境。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-03-30T07:34:44.053

`JavaScript`是单线程的；`setTimeout`当您使用 while ( ) 阻塞主事件循环时，不会调用回调`while (t) { ... }`。

如果你在浏览器中运行你的代码，除了以其他方式编写代码之外，你真的无能为力；

您可以使用[`Promises Pattern`](http://blogs.msdn.com/b/ie/archive/2011/09/11/asynchronous-programming-in-javascript-with-promises.aspx).

If you're running your code in something like `node` you can use native modules, making you able to create threads (like [`threads_a_gogo`](https://github.com/xk/node-threads-a-gogo).)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-30T07:22:11.893

它不会工作，因为 javascript 不是多线程的 - 直到你当前的执行线程结束（只要你运行你的 while 循环它就不会），没有其他代码被执行（没有超时调用）并且 UI 是冻结（按钮点击不会响应）。

**可能**有一种方法可以使用 html5 中的新 Web Workers 功能来做类似的事情，但截至目前我无法确定。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-30T07:19:51.603

您可以使用带有中断条件的标签，例如 outer:while() { //code if() break outer; }

# javascript - javascript innerhtml 返回值

> ID：15716038
> 
> 赞同：0
> 
> 时间：2013-03-30T07:13:07.403
> 
> 标签：javascript, html, dom, innerhtml

我很难理解这一点。我有这个位代码：

```
document.getElementById("widget-container-1").innerHTML="<div class='title'>Select town: "+
         "<select id='drop'>"+
         "<option name='Auckland' value='Auckland'>Auckland</option>"+
         "<option name='Christchurch' value='Christchurch'>Christchurch</option>"+
         "<option name='Dunedin' value='Dunedin'>Dunedin</option>"+
         "<option>Hamilton</option>"+
         "<option>Tauranga</option>"+
         "<option>Wellington</option>"+
         "</select><br />"+      
         "<button id='update' name='update' onClick=\"this, _refreshWeatherDisplay(test);'\">update</button></div>"+
         "<div class='monitor'>Sort by"+
         "<input id='radio' name='input' type='radio' value='0' >town"+
         "<input id='radio' name='input' type='radio' value='1' >max temp"+
         "<div class='section'>test</div></div>";        

        select = document.getElementById("drop");
         select.onchange = function(){
            _checkNewTown(this.options[this.selectedIndex].text);
         }; 
```

我想获取数据并执行另一个功能：

```
var _checkNewTown =  function(ntown){
    alert(this.selectedIndex);
} 
```

但是，在 -checkNewTown 函数中保持返回未定义。当我尝试提醒它时，该按钮不起作用。

```
var _refreshWeatherDisplay = function(weather_info){
 alert("test");
} 
```

我知道这可能很简单，但我不知道我做错了什么如果有人可以帮助我，将不胜感激。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-31T00:05:44.907

您的代码中有很多语法错误，请查看浏览器的控制台以跟踪这些错误（IE9 和 Chrome 为 F12，Firefox 为 Ctrl+Shift+J）。这段代码对我来说很好用：

```
document.getElementById("widget-container-1").innerHTML = "<div class='title'>Select town: "+
    "<select id='drop'>"+
    "<option name='Auckland' value='Auckland'>Auckland</option>"+
    "<option name='Christchurch' value='Christchurch'>Christchurch</option>"+
    "<option name='Dunedin' value='Dunedin'>Dunedin</option>"+
    "<option>Hamilton</option>"+
    "<option>Tauranga</option>"+
    "<option>Wellington</option>"+
    "</select><br />"+      
    "<button id='update' name='update' onClick=\"_refreshWeatherDisplay('test');\">update</button></div>"+
    "<div class='monitor'>Sort by"+
    "<input id='radio' name='input' type='radio' value='0' >town"+
    "<input id='radio' name='input' type='radio' value='1' >max temp"+
    "<div class='section'>test</div></div>";        
select = document.getElementById("drop");
select.onchange = function(){
    _checkNewTown(select.options[select.selectedIndex].value);
}; 
```

你的功能：

```
var _checkNewTown =  function(ntown){
    alert(ntown);
};
var _refreshWeatherDisplay = function(weather_info){
    alert("test");
}; 
```

# android - 我得到 null wen 返回 null 访问令牌

> ID：15716039
> 
> 赞同：2
> 
> 时间：2013-03-30T07:13:15.023
> 
> 标签：android

首先，我已经完成了所有配置（twitter 键、清单中的回调等），然后我调用 twitter 并打开浏览器，然后我在 twitter 中登录并接受应用程序，然后浏览器返回到应用程序并尝试从 twitter 获得响应，但我得到 NULL 作为答案。

```
package com.example.fragmenttwitter;

import twitter4j.IDs;
import twitter4j.Twitter;
import twitter4j.TwitterException;
import twitter4j.TwitterFactory;
import twitter4j.auth.AccessToken;
import twitter4j.auth.RequestToken;
import twitter4j.conf.Configuration;
import twitter4j.conf.ConfigurationBuilder;

import com.actionbarsherlock.app.SherlockFragmentActivity;
import com.actionbarsherlock.view.MenuItem;
import com.actionbarsherlock.view.SubMenu;

import android.app.ProgressDialog;
import android.content.Intent;
import android.content.SharedPreferences;
import android.content.SharedPreferences.Editor;
import android.net.Uri;
import android.os.AsyncTask;
import android.os.Bundle;
import android.support.v4.app.FragmentManager;
import android.support.v4.app.FragmentTransaction;
import android.util.Log;
import android.view.Menu;
import android.view.View;
import android.view.View.OnClickListener;
import android.webkit.WebView;
import android.widget.Button;
import android.widget.EditText;
import android.widget.ImageButton;
import android.widget.PopupWindow;
import android.widget.TextView;
import android.widget.Toast;

public class MainActivity extends SherlockFragmentActivity {
    private final int LOGIN = 1;
    private final int TweetMenu = 2;
    private final int Retweet = 3;

    private final int FOWLOIING = 5;
    private final int SETTING = 6;
    private final int LOGOUT = 7;

    static String TWITTER_CONSUMER_KEY = "xxx";
    static String TWITTER_CONSUMER_SECRET = "yyy";

    static String PREFERENCE_NAME = "twitter_oauth";
    static final String PREF_KEY_OAUTH_TOKEN = "oauth_token";
    static final String PREF_KEY_OAUTH_SECRET = "oauth_token_secret";
    static final String PREF_KEY_TWITTER_LOGIN = "isTwitterLogedIn";
    static final String TWITTER_CALLBACK_URL = "oauth://t4jsample";
    static final String URL_TWITTER_AUTH = "auth_url";
    static final String URL_TWITTER_OAUTH_VERIFIER = "oauth_verifier";
    static final String URL_TWITTER_OAUTH_TOKEN = "oauth_token";
    static boolean isLogin;

    private WebView wv;
    private String Url = null;
    Uri u;
    ImageButton close;
    Button cancel;
    Button btnUpdateStatus;
    EditText txtUpdate;
    TextView lblUpdate;
    TextView lblUserName;
    ProgressDialog pDialog;

    private PopupWindow Popup;

    private static Twitter twitter;
    private static RequestToken requestToken;
    private static SharedPreferences mSharedPreferences;
    private ConnectionDetector cd;

    AlertDialogManager alert = new AlertDialogManager();

    /// option menu

    @Override
    public boolean onCreateOptionsMenu(com.actionbarsherlock.view.Menu menu) {

        menu.add(Menu.NONE, LOGIN, Menu.NONE, "Login").setShowAsAction(
                MenuItem.SHOW_AS_ACTION_ALWAYS);

        SubMenu submenu = menu.addSubMenu("Option");

        submenu.add(Menu.NONE, TweetMenu, Menu.NONE, "Tweet").setShowAsAction(
                MenuItem.SHOW_AS_ACTION_ALWAYS
                        | MenuItem.SHOW_AS_ACTION_WITH_TEXT);
        submenu.add(Menu.NONE, FOWLOIING, Menu.NONE, "Following")
                .setShowAsAction(
                        MenuItem.SHOW_AS_ACTION_ALWAYS
                                | MenuItem.SHOW_AS_ACTION_WITH_TEXT);
        submenu.add(Menu.NONE, SETTING, Menu.NONE, "Setting").setShowAsAction(
                MenuItem.SHOW_AS_ACTION_ALWAYS
                        | MenuItem.SHOW_AS_ACTION_WITH_TEXT);

        submenu.add(Menu.NONE, LOGOUT, Menu.NONE, "Logout").setShowAsAction(
                MenuItem.SHOW_AS_ACTION_ALWAYS
                        | MenuItem.SHOW_AS_ACTION_WITH_TEXT);

        return super.onCreateOptionsMenu(menu);
    }

    @Override
    public boolean onOptionsItemSelected(MenuItem item) {

        switch (item.getItemId()) {
        case LOGIN:

            if (item.getTitle().equals(("Login"))) {

                 loginToTwitter();
                //new Login().execute();
                item.setTitle("Logout");

            } else {
                logoutFromTwitter();
                item.setTitle("Login");
            }

            break;

        case TweetMenu:

            ImageButton bt1 = (ImageButton) findViewById(R.id.imageButton1);
            bt1.setVisibility(View.VISIBLE);
            setContentView(R.layout.activity_main1);

            Button bt_status = (Button) findViewById(R.id.btnUpdateStatus);
            bt_status.setOnClickListener(new OnClickListener() {

                @Override
                public void onClick(View arg0) {

                    final EditText etStaus = (EditText) findViewById(R.id.txtUpdateStatus);
                    String status = etStaus.getText().toString();

                    if (status.trim().length() > 0) {

                        new updateTwitterStatus().execute(status);
                    } else {

                        Toast.makeText(getApplicationContext(),
                                "Please enter status message",
                                Toast.LENGTH_SHORT).show();
                    }
                }
            });

            break;
        case Retweet:

            String retweet = txtUpdate.getText().toString();

            if (retweet.trim().length() > 0) {

                Twitter twitter = new TwitterFactory().getInstance();
                try {
                    twitter.retweetStatus(Long.parseLong(retweet));
                } catch (NumberFormatException e) {

                    e.printStackTrace();
                } catch (TwitterException e) {

                    e.printStackTrace();
                }
            } else {

                Toast.makeText(getApplicationContext(),
                        "Please enter Tweet message", Toast.LENGTH_SHORT)
                        .show();
            }

            break;

        case FOWLOIING:
            Toast.makeText(getApplicationContext(), "Fowllowing called",
                    Toast.LENGTH_SHORT).show();
                 followingList();

            break;

        case SETTING:
            Toast.makeText(getApplicationContext(), "setting called",
                    Toast.LENGTH_SHORT).show();
            break;
        case LOGOUT:
            Toast.makeText(getApplicationContext(), "Logout called",
                    Toast.LENGTH_SHORT).show();
            logoutFromTwitter();
            break;

        default:
            break;
        }
        return super.onOptionsItemSelected(item);
    }

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);

        if (TWITTER_CONSUMER_KEY.trim().length() == 0
                || TWITTER_CONSUMER_SECRET.trim().length() == 0) {
            // Internet Connection is not present
            alert.showAlertDialog(MainActivity.this, "Twitter oAuth tokens",
                    "Please set your twitter oauth tokens first!", false);
            // stop executing code by return
            return;
        }

        cd = new ConnectionDetector(getApplicationContext());
        // Check if Internet present
        if (!cd.isConnectingToInternet()) {
            // Internet Connection is not present
            alert.showAlertDialog(this, "Internet Connection Error",
                    "Please connect to working Internet connection", false);
            // stop executing code by return
            return;
        }
        mSharedPreferences = getApplicationContext().getSharedPreferences(
                "MyPref", 0);

        FragmentManager f = getSupportFragmentManager();
        TweetList tl = new TweetList();
        FragmentTransaction ft = f.beginTransaction().add(R.id.Lineary2, tl);
        ft.commit();

        btnUpdateStatus = (Button) findViewById(R.id.btnUpdateStatus);
        txtUpdate = (EditText) findViewById(R.id.txtUpdateStatus);
        lblUpdate = (TextView) findViewById(R.id.lblUpdate);
        lblUserName = (TextView) findViewById(R.id.lblUserName); 

// check for already login in or not    

        if (!isTwitterLoggedInAlready()) {

             Uri uri=getIntent().getData();
            if (uri != null && uri.toString().startsWith(TWITTER_CALLBACK_URL)) {

                String verifier = uri
                        .getQueryParameter(URL_TWITTER_OAUTH_VERIFIER);

                try {

                     ///AccessToken accessToken = twitter.getOAuthAccessToken(requestToken, verifier);

                    AccessToken accessToken = twitter.getOAuthAccessToken(requestToken, verifier);

                    Editor e = mSharedPreferences.edit();
                    e.putString(PREF_KEY_OAUTH_TOKEN, accessToken.getToken());
                    e.putString(PREF_KEY_OAUTH_SECRET,
                            accessToken.getTokenSecret());

                    e.putBoolean(PREF_KEY_TWITTER_LOGIN, true);
                    e.commit(); // save changes

                } catch (Exception e) {
                    Log.e("Twitter Login Error", "> " + e.getMessage());

                }

            }
            else
              Toast.makeText(getBaseContext(), "not Login",Toast.LENGTH_LONG).show();   

        }

    }

    // code to login twitter
    private void loginToTwitter() {
        // Check if already logged in
        if (!isTwitterLoggedInAlready()) {
            ConfigurationBuilder builder = new ConfigurationBuilder();
            builder.setOAuthConsumerKey(TWITTER_CONSUMER_KEY);
            builder.setOAuthConsumerSecret(TWITTER_CONSUMER_SECRET);
            Configuration configuration = builder.build();

            TwitterFactory factory = new TwitterFactory(configuration);
            twitter = factory.getInstance();

            new Thread(new Runnable() {
                public void run() {
                    try {
                        //requestToken = twitter
                                //.getOAuthRequestToken(TWITTER_CALLBACK_URL);
                        // twitter.setOAuthConsumer(TWITTER_CONSUMER_KEY,TWITTER_CONSUMER_SECRET);
                         requestToken = twitter.getOAuthRequestToken(TWITTER_CALLBACK_URL);
                        MainActivity.this.startActivity(new Intent(
                                Intent.ACTION_VIEW, Uri.parse(requestToken
                                        .getAuthenticationURL())));
                    } catch (TwitterException e) {
                        e.printStackTrace();
                    }
                }
            }).start();

        } 
    }

    //update the stastus from  twiiter app
    class updateTwitterStatus extends AsyncTask<String, String, String> {

        @Override
        protected void onPreExecute() {
            super.onPreExecute();
            pDialog = new ProgressDialog(MainActivity.this);
            pDialog.setMessage("Updating to twitter...");
            pDialog.setIndeterminate(false);
            pDialog.setCancelable(false);
            pDialog.show();
        }

        protected String doInBackground(String... args) {
            Log.d("Tweet Text", "> " + args[0]);
            String status = args[0];
            try {
                ConfigurationBuilder builder = new ConfigurationBuilder();
                builder.setOAuthConsumerKey(TWITTER_CONSUMER_KEY);
                builder.setOAuthConsumerSecret(TWITTER_CONSUMER_SECRET);

                String access_token = mSharedPreferences.getString(
                        PREF_KEY_OAUTH_TOKEN, "");

                String access_token_secret = mSharedPreferences.getString(
                        PREF_KEY_OAUTH_SECRET, "");

                Log.i("Access Token", access_token);
                Log.i("Access Token secrate", access_token_secret);

                AccessToken accessToken = new AccessToken(access_token,
                        access_token_secret);

                Log.i("Access Token", accessToken.toString());

                Twitter twitter = new TwitterFactory(builder.build())
                        .getInstance(accessToken);

                twitter4j.Status response = twitter.updateStatus(status);

                Log.d("Status", "> " + response.getText());
            } catch (TwitterException e) {
                Log.d("Twitter Update Error", e.getMessage());
            }
            return null;
        }

        protected void onPostExecute(String file_url) {

            pDialog.dismiss();
            runOnUiThread(new Runnable() {
                @Override
                public void run() {
                    Toast.makeText(getApplicationContext(),
                            "Status tweeted successfully", Toast.LENGTH_SHORT)
                            .show();
                    txtUpdate.setText("");
                }
            });
        }

    }
    //Logout from twitter app
    public void logoutFromTwitter() {
        // Clear the shared preferences
        Editor e = mSharedPreferences.edit();

        e.remove(PREF_KEY_OAUTH_TOKEN);
        e.remove(PREF_KEY_OAUTH_SECRET);
        e.remove(PREF_KEY_TWITTER_LOGIN);
        e.commit();

    }

    private boolean isTwitterLoggedInAlready() {

        return mSharedPreferences.getBoolean(PREF_KEY_TWITTER_LOGIN, false);

    }

    public void onResume() {
        super.onResume();

    }

} 
```

# android - 第一个 android 应用程序不会安装

> ID：15716040
> 
> 赞同：0
> 
> 时间：2013-03-30T07:13:30.813
> 
> 标签：android, android-emulator

我已按照[http://developer.android.com/training/basics/firstapp/running-app.html上的说明进行操作](http://developer.android.com/training/basics/firstapp/running-app.html)

我似乎无法安装该应用程序。

我的控制台输出：

```
[2013-03-30 12:30:41 - MyFirstApp] Android Launch!
[2013-03-30 12:30:41 - MyFirstApp] adb is running normally.
[2013-03-30 12:30:41 - MyFirstApp] Performing com.example.myfirstapp.MainActivity     activity launch
[2013-03-30 12:30:41 - MyFirstApp] Automatic Target Mode: launching new emulator with     compatible AVD 'AVD_for_Nexus_S_by_Google'
[2013-03-30 12:30:41 - MyFirstApp] Launching a new emulator with Virtual Device 'AVD_for_Nexus_S_by_Google' 
```

如所见，没有“正在安装 apk”消息，或任何表明 Eclipse 正在将我的应用程序加载到模拟器上的信息。一旦启动，我也无法在模拟器上找到我的应用程序。

在以下配置下运行此项目：

操作系统：Windows 7 家庭高级版 64 位

Eclipse 版本：Indigo 发布

Android开发工具包版本：21.1.0.v201302060044-569685

我该如何解决？

编辑：来自 logcat 的日志显示以下内容。这是正常的吗？

```
03-30 08:41:48.010: W/Trace(779): Unexpected value from nativeGetEnabledTags: 0
03-30 08:41:48.039: I/Choreographer(779): Skipped 50 frames!  The application may be doing too much work on its main thread.
03-30 08:41:48.079: W/Trace(779): Unexpected value from nativeGetEnabledTags: 0
03-30 08:41:48.079: W/Trace(779): Unexpected value from nativeGetEnabledTags: 0 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-30T07:19:54.887

Wait for the emulator fully started up and then. 1.Clean your project by Project->clean 2.Then right click project Run As-> Android application Try the above and reply whats happening

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-30T07:17:10.793

您的模拟器是否显示在“设备”选项卡下

窗口->显示视图->设备

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-30T08:08:50.317

try to launch your AVD manager...and in it check the wipe user data checkbox...and relaunch your app from eclipse...give it a try and tell if it works

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-07T06:18:33.143

I'm still not sure what the problem was. I was initially using my existing Eclipse IDE for Android development.

Downloading the Full ADT from [http://developer.android.com/sdk/index.html](http://developer.android.com/sdk/index.html) fixed the problem. Which leads me to believe that the SDK was not playing nicely with my old Eclipse.

# 2d - 需要重力算法帮助

> ID：15716046
> 
> 赞同：1
> 
> 时间：2013-03-30T07:14:34.100
> 
> 标签：2d, lwjgl, gravity, slick2d

我正在使用 Slick2D，我想知道是否有人知道如何判断玩家是否与地面或墙壁相撞。到目前为止，我有它检查玩家是否击中固体，如果是，它会停止。人们通常会做什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-05-11T09:18:53.440

好吧，有一种简单的方法可以在屏幕上创建对象落下。这就是我通常所做的。

```
fallingdown = true;
if(fallingdown){
imageY++; (or Y-- im not really sure about this..)
} 
```

好的，知道我们的图像正在下降。接下来我们想要的是在到达屏幕末端时发生碰撞。假设我的屏幕 Y 是 200。

```
if(imageY >= 200){
imageY == 200;
} 
```

嗯......这将帮助你解决碰撞，因为它并不容易解释。[http://www.youtube.com/watch?v=1qZk6dIW46Q](http://www.youtube.com/watch?v=1qZk6dIW46Q)

# mysql - 将文本文件上传到 apache 服务器中的 mySql

> ID：15716049
> 
> 赞同：0
> 
> 时间：2013-03-30T07:14:51.457
> 
> 标签：mysql, apache

在我的项目中，RFID 标签由阅读器读取，信息存储在文本文件中。我希望将此文本文件上传（或以某种方式复制）到 apache 服务器中的 phpmyadmin，以便我可以进行进一步处理并在网站上显示结果。我该怎么做？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-30T08:58:06.610

读取文本文件并制作和数组，您使用循环将其导入 phpmyadmin。

```
<?php
$file_name = "filename.txt";
$lines = file($file_name);
foreach($lines as $line)
{
$sql_query=mysql_query("INSERT INTO table_name(column1) VALUES ('$line')");
}
?> 
```

# javascript - 通过将鼠标悬停在另一个 div 图像上来更改另一个 div 内的另一个图像的不透明度

> ID：15716050
> 
> 赞同：1
> 
> 时间：2013-03-30T07:15:00.893
> 
> 标签：javascript, jquery, css, hover

这是否太复杂而无法实现？希望我的问题或标题有意义。基本上我有两个 div - 一个是，另一个是。我认为我附加了 ID 的每个 div 中有 12 个图像。我仍然是网络编码的菜鸟，所以也许我把它们贴错了。但这是我的目标，每当您将鼠标悬停在 artifact1 上时，artifact1 和 button1 的不透明度应该同时改变。并且效果也需要通过其他方式来实现（即 hover:button1 应该改变artifact1 的不透明度）。下面是我的代码来进一步解释我的情况：

`<html>` `<body>` `<div id="buttons">`

```
<a href="..." id="button1"><img src="..." class="spaced"(to spaced the buttons)></a>
<a href="..." id="button2"><img src="..." class="spaced"></a> 
```

`<div id="artwork">`

```
<a href="..." id="artwork1"><img src="..." class="mainbuttons & greydout"</a>
<a href="..." id="artwork2"><img src="..." class="mainbuttons & greydout"></a> 
```

'mainbuttons' 类用于 12 个图像之间的间距。graydout 类是为了改变已经存在的悬停效果 - 从不透明度 0.3 到 1。我试图研究一些 javascript，因为我认为这是最合适的解决方案。我尝试使用的javascript如下：

```
$(document).ready(function() {

   $("#button1").mouseenter(function(){
       $("#artwork1").addClass("opac_art");
   });

   $("#button1").mouseleave(function(){
      $("#artwork1").removeClass("opac_art");
      $("#artwork1").addClass("greydout")
   });
}); 
```

要考虑的另一件事是，我为各种功能运行了多个脚本：1）一个重定向脚本，它将移动观众重定向到移动网站；2) 将视口重新格式化为查看器的分辨率浏览器大小设置的响应脚本。

我在文档顶部加载了 jQuery，但是会不会与 html 页面上运行的其他脚本发生冲突？

我什至尝试过使用 CSS 路线，但我几乎无法让 div 相互交互。我最接近的是当我将鼠标悬停在按钮 div 中时，我可以更改艺术品 1，但没有我想要的那么具体。我希望这一切都有意义，并提前感谢您阅读所有这些并试图帮助我克服这个巨大的障碍，让我的网站正常运行。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-30T07:33:47.000

尝试这样的事情。

为您的按钮 (galleryButtons) 和其他 div 中的图像添加一个类。

首先，您实际上并不需要使用 a 标签将类添加到您的按钮元素和艺术品中。

```
<div id="buttons">
    <img id="gbutton1" class="galleryButtons" src="button.png" />
    <img id="gbutton2" class="galleryButtons" src="button.png" />

<div id="artwork">
    <img id="artwork1" class="artworkImage" src="art1.jpg" />
    <img id="artwork2" class="artworkImage" src="art2.jpg" />

$(document).ready(function () {
    var intID;
    $(".galleryButtons").hover(function (e) {
        console.log(e.target.id);
        var id = e.target.id;
        intID = id.replace(/^\D+/g, '');
        $("#artwork" + intID).addClass("opac_art");
    }, function () {
        $("#artwork" + intID).removeClass("opac_art").addClass("greydout");

    });
    $(".artworkImage").hover(function (e) {
        var id = e.target.id;
        intID = id.replace(/^\D+/g, '');
        $("#gbutton" + intID).addClass("opac_art");
    }, function () {
        $("#gbutton" + intID).removeClass("opac_art").addClass("greydout");

    });
}); 
```

一切尽在掌握：http: [//jsfiddle.net/djwave28/et6tD/4/](http://jsfiddle.net/djwave28/et6tD/4/)

通过更智能的选择可以使其变得更简单，但我希望你能更好地看到元素中的关系。当您将鼠标悬停在某个元素上时，导致该事件的元素将发送到该函数。此事件包含信息。像 e.target.id 将保存该元素的 id。 [http://www.w3schools.com/jsref/dom_obj_event.asp](http://www.w3schools.com/jsref/dom_obj_event.asp)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-30T07:35:38.240

根据我对您的问题的理解，您可以执行以下操作：

```
$(document).ready(function()
{
    $("#one").hover(function()
    {
        // Changes the opacity of the first image
        // as well as the corresponding link from
        // 1 to 0.3.
        $("#artone").css({ "opacity": "0.3" });
        $(this).css({ "opacity": "0.3" });
    });

    $("#two").hover(function()
    {
        $("#arttwo").css({ "opacity": "0.3" });
        $(this).css({ "opacity": "0.3" });
    });
}); 
```

HTML 看起来像这样：

```
<div id="links">
    <a href="#" id="one">Link one</a>
    <a href="#" id="two">Link two</a>
</div>
<div id="artwork">
    <img src="" id="artone" class="spaced">
    <img src="" id="arttwo" class="spaced">
</div> 
```

几个额外的东西 -

确保您实际上将 jQuery 链接到页面的标题中，我在上面没有看到它：

`<script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>`

这是来自 Google 的 CDN，但您当然可以在本地进行。

* * *

`<a href="#" id="artwork1"><img src="#" class="mainbuttons & greydout"></a>`

列出元素的类时，不要添加与号 (&)，只需在它们之间留一个空格。

`<a href="#" id="artwork1"><img src="#" class="mainbuttons greydout"></a>`

# html - Firefox 浏览器中的表格布局设计问题

> ID：15716061
> 
> 赞同：1
> 
> 时间：2013-03-30T07:16:46.983
> 
> 标签：html, css, firefox, html-table

我的 html 页面中有一个表格，在表格中第一个 tr 有图像，下一个 tr 有文本，它在 IE 和 Chrome 浏览器中看起来不错，就像这样

![在此处输入图像描述](../Images/6f9e725638ea9914e19a66876a6afcc1.png)

但是当我在 Firefox 浏览器中使用时，它看起来像这样：

![在此处输入图像描述](../Images/91a306913e96254cde7b2ee450c90a50.png)

我只是将 CSS (text-align:center) 用于 td，将 (border-collapse: collapse,width: 100%) 用于表格，仅此而已......

**我的html代码：**

```
<table class="foottable" border="0" cellpadding="0" cellspacing="1">
                <tr>
                    <td class="foottabcen"><img id="check" src="images/unchecked.png"/></td>
                    <td class="foottabcen"><img id="export" class="image1" src="images/excelicon.png" /></td>
                    <td class="foottabcen"><img id="test" class="image1" src="images/mailicon.png" /></td>
                    <td class="foottabcen"><img id="sms" class="image2" src="images/smsicon.png"/></td>
                    <td class="foottabcen"><a href="admin_chart.jsp" id="graph"><img class="image1" src="images/charticon.png" /></a></td>
                    <td class="foottabcen"><img id="print" class="image1" src="images/printericon.png"/></td>
                </tr>
                <tr>
                    <td class="foottabcen">Select all</td>
                    <td class="foottabcen">Export to excel</td>
                    <td class="foottabcen">Mail</td>
                    <td class="foottabcen">SMS</td>
                    <td class="foottabcen">Graph</td>
                    <td class="foottabcen">Print</td>
                </tr>
            </table> 
```

**我的 CSS 代码：**

```
.foottable
{
    width: 100%;border-top: 2px solid #D4D4D4;border-collapse: collapse;background: white;
}
.foottabcen
{
    color:black;text-align: center;
} 
```

请帮我.........

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-30T07:35:47.303

不知道为什么要这样做，但我想更好的方法是将图像和文本放在同一个 td 中，例如：

```
<td>
 <a href="#">
   <span><img src="images/exl_icon.png" alt="" /></span>
   <small>Export to excel</small>
 </a> 
</td> /* <a> is added considering these are clickable elements */ 
```

`display:block;`并通过您的 CSS应用于“a”、“span”和“small”。

并且可能最好的方法是在 td 中使用文本作为链接并为其添加一个特定于图标的类：

```
<td>
 <a href="#" class="ico_excel">Export to excel</a>
</td> 
```

在你的css中它看起来像这样：

```
 .ico_excel{
    display:block; 
    text-align:center;
    padding-top: x px; /* x should be more than the height of the icon */
    background: transparent url(images/exl_icon.png) center top no-repeat;
    } 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-30T07:41:53.283

尝试这个

```
 <table class="foottable" border="0" cellpadding="0" cellspacing="1">
            <tr>
                <td class="foottabcen"><img id="check" src="images/unchecked.png"/></td>
                <td class="foottabcen"><img id="export" class="image1" src="images/excelicon.png" /></td>
                <td class="foottabcen"><img id="test" class="image1" src="images/mailicon.png" /></td>
                <td class="foottabcen"><img id="sms" class="image2" src="images/smsicon.png"/></td>
                <td class="foottabcen"><a href="admin_chart.jsp" id="graph"><img class="image1" src="images/charticon.png" /></a></td>
                <td class="foottabcen"><img id="print" class="image1" src="images/printericon.png"/></td>
            </tr>
            <tr>
                <td class="foottabcen1">Select all</td>
                <td class="foottabcen1">Export to excel</td>
                <td class="foottabcen1">Mail</td>
                <td class="foottabcen1">SMS</td>
                <td class="foottabcen1">Graph</td>
                <td class="foottabcen1">Print</td>
            </tr>
        </table> 
```

和 css ...根据您的要求为foottabcen 提供高度

```
 .foottable
 {
     width: 100%;border-top: 2px solid #D4D4D4;border-collapse: collapse;
     background: white;
   }
 .foottabcen
 {
     color:black;text-align: center;height:50px;
    }
   .foottabcen1
{
color:black;text-align: center;
  } 
```

在这里查看演示..... [http://jsfiddle.net/dBFfd/](http://jsfiddle.net/dBFfd/)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-30T09:14:03.303

你试过这个吗...

```
<table>
    <tr>
        <td>
            <img id="check" src="images/unchecked.png"/>
            <span>sample</span>
        </td>
    </tr
</table> 
```

但是，如果您想要我的免费助手，只需通过电子邮件发送您的代码，我会尝试修复它....

# python - 使循环工作

> ID：15716069
> 
> 赞同：1
> 
> 时间：2013-03-30T07:17:50.577
> 
> 标签：python

我怎样才能使循环工作？当我给出任何输入时，例如 1 或 2，什么都没有发生。

我该如何解决这个问题？

```
import os
while 1:
    os.system('cls')
    print("")
    print("1\. Decimal to Binary")
    print("2\. Binary to Decimal")
    print("3\. Exit")
    choice = input('Input the number: ')
    if choice == "1":
        dec_to_bin()
    elif choice == "2":
        bin_to_dec()
    elif choice == "3":
        break;

def dec_to_bin():
    decimal = input('Input a number: ')
    a =  bin(decimal)[2:]
    print(a)

def bin_to_dec():
    binary = input('Input the binary: ')
    a = int('binary', 2)
    print(a) 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-30T07:25:36.957

由于您使用的是 Python 2，因此您需要更改`input()`为`raw_input()`. 当您`1`在`input()`提示符处输入时，您会返回一个`int`，而不是字符串。

# eclipse - Eclipse Erlide 如何选择默认当前目录

> ID：15716070
> 
> 赞同：1
> 
> 时间：2013-03-30T07:18:04.250
> 
> 标签：eclipse, erlang, erlide

我已经在 Eclipse 中安装了 Erlide，并尝试创建一个应用程序。Erlang 项目名为**demo**。它包含三个文件夹 - **ebin**、**include**和**src**。该`demo.erl`文件在`src`，用于简单地打印**Hello World**。

要在 Eclipse shell 中运行它，我从顶部菜单中选择**Run ，然后单击****Run as Erlang Application**。然后在边栏中打开一个控制台。在那里我输入**c(demo)**并按`CTRL-Enter`。然后我收到一条错误消息，例如**demo.erl:none: no such file or directory**。

然后我做`pwd()`了，它显示**C:/Users/myName/Desktop/eclipse-jee-juno-SR1-win32-x86_64/eclipse**即使 Erlang 项目在工作区**C:/Users/myName/Desktop/workspace/Erlang**。有没有办法让 Erlide 直接从他们的目录运行所有 Erlang 应用程序？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2014-03-19T10:43:07.590

如果您已将*Project* -> *Build Automatically* in Eclipse 设置为 true，则无需键入*c(demo)。*显式编译演示模块，它会在您保存文件时自动完成。但是如果你没有设置它，你会得到*异常错误：*如果你尝试使用模块中的一些函数，例如未定义的函数。

为了使*c(demo)*命令正常工作并找到您的 .erl 文件，有几种方法可以设置当前工作目录：

1.  使用*运行*->*运行配置*-> *Erlang 应用程序*->*运行*时->*工作目录-> 输入您项目的 /* *src*文件夹的完整路径（不带引号）。然后点击*Apply*并重新启动 Eclipse（*File* -> *Restart*）。如果您尝试在未先重新启动 IDE 的情况下*运行*项目，您的更改将不会生效，即*pwd()。*命令仍将返回旧的工作目录路径。

2.  *您可以使用命令c:cd(the/full/path/to/your/src/folder)*在 erlide 控制台中设置工作目录。, 在调用*c(demo)*之前。路径应放在引号中。

3.  您还可以通过在*.erlang*文件中键入相同的命令*c:cd(the/full/path/to/your/src/folder) 来设置工作目录。*（路径再次应该放在引号中）。该文件必须放在您的用户目录中，对于 Windows，这将是*C:/Documents and Settings/YourUsername*。*.erlang.cookie*和*erlide-debug.txt*也在同一个目录下。Windows 资源管理器不允许您创建名为*.erlang*的文件，因此您必须为此在命令提示符*(cmd.exe)中使用命令**copy NUL .erlang*。然后您可以使用任何 txt 编辑器对其进行编辑。之后不要忘记重新启动 Eclipse。

 *另请注意以下几点：

1.  您只能在路径中使用 / 而不能使用 \（即使在 Windows 中）。
2.  如果您输入了错误的路径（使用 \ 或指向不存在的目录），它将被忽略并且工作目录根本不会更改。
3.  将工作目录更改为您的/ *src*文件夹后，您的光束文件也将开始出现在那里，而不是 / *ebin*文件夹。
4.  如果在*.erlang*文件和*Run -> Run Configuration -> Erlang Application -> Runtimes -> Working directory*中设置不同的路径，pwd()。将返回 .erlang 文件中的路径。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-31T11:54:20.903

你不需要运行 c(demo)。每当更改和保存源时，梁代码都会自动加载和重新加载。

如果还需要设置工作目录，进入运行->运行配置，就可以编辑配置了。

/弗拉德*

# c# - MVC 模型不会以一种形式存在

> ID：15716072
> 
> 赞同：0
> 
> 时间：2013-03-30T07:18:07.627
> 
> 标签：c#, asp.net-mvc, asp.net-mvc-4

我声明了一个具有 4 个字符串字段的模型。其中 3 个在表单上是只读的：

```
public class HomeModel
    {
        [ReadOnly(true)]
        [DisplayName("Service Version")]
        public string ServiceVersion { get; set; }

        [ReadOnly(true)]
        [DisplayName("Session Id")]
        public string SessionId { get; set; }

        [ReadOnly(true)]
        [DisplayName("Visiting from")]
        public string Country { get; set; }

        [DisplayName("Search")]
        public string SearchString { get; set; }

    } 
```

在填充模型后，我将模型传递给我的表单：

```
 [HttpGet]
        public ActionResult Index()
        {
            var model = new HomeModel
                            {
                                Country = "Australia",
                                SearchString = "Enter a search",
                                ServiceVersion = "0.1",
                                SessionId = "76237623763726"
                            };
           return View(model);  

        } 
```

表格按我的预期显示：

```
<h2>Simple Lookup</h2>

@Html.LabelFor(m=>m.ServiceVersion): @Model.ServiceVersion<br/>
@Html.LabelFor(m=>m.SessionId): @Model.SessionId<br/>
@Html.LabelFor(m=>m.Country): @Model.Country<br/>
<p>
    @using(Html.BeginForm())
    {
        @Html.LabelFor(m => m.SearchString)
        @Html.TextBoxFor(m => m.SearchString)
        <button type="submit" name="btnSearch">Search</button>
    }
</p> 
```

但是，当我提交表单并从表单中取回模型时，只填充了 SearchString 的值。

```
[HttpPost]
public ActionResult Index(HomeModel model)
{
    return View(model);
} 
```

其他领域已经“丢失”是对的吗？MVC 不保留模型类的其他成员吗？如果这是预期的 - 有没有办法重新获得这些？还是我需要返回我的数据库，用旧值填充模型，然后使用表单模型中的新值？

It's possible the validity of wanting to read 'read-only' fields back from the model is questioned.. which is fair - but in the event that I find something suspect about the posted data, maybe I want to re-show the screen, and not have to re-read the data from a database again?

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-30T07:22:17.723

This is the correct behavior. Only the elements inside form will be posted to your action. Since it is posting the form so your fields should be inside the form in order to get them on your post method.

**Update**

Also, you cannot read particular field on your action method if you have taken that field readonly on your view. eg: displaying using `@Html.LabelFor`. In order to get field back on your action use `@Html.HiddenFor` if field is not to be edited.

# c# - 以这种格式 06:00:00;00 解析 csv 时间很热门吗？

> ID：15716074
> 
> 赞同：0
> 
> 时间：2013-03-30T07:18:15.420
> 
> 标签：c#, csv, delimiter, filehelpers

我有 csv 并且每行读取它，所以我可以将它保存在数据库中。我正在使用 filehelper 以逗号分隔符分隔每个，但忽略“”内的那些。它正在抛出数据 06:00:00;00 的异常。我不确定那是什么。我该如何解析？那是时间跨度，但为什么它在 ; 之后有额外的 00？抱歉，数据只是给了我，没​​有解释它的用途。

这是来自文本文件的实际数据。

```
01/10/2013,06:00:00;00,06:09:40;08,00:09:40:09,01/10/2013,06:00:00;00,06:09:40;08,00:09:40:09,"January 9, 2013 - Dreams_01.mp4",Aired,7CFB84BD-A5B6-43E8-82EC-E78E7219B1C7 
```

是否有用于 filhelper 的转换器？我已经使用 `[FieldConverter(ConverterKind.Date, "dd/MM/yyyy")]`了日期，但我不确定时间。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-01T15:47:18.310

您可以提供自己的`FieldConverter`，使您能够添加您认为必要的任何逻辑。看起来你的数据结构不是很严格，所以你可能需要玩很多，但这里有一个处理前几个字段的工作程序：

```
[DelimitedRecord(",")]
public partial class MyClass
{
    [FieldConverter(ConverterKind.Date, "dd/MM/yyyy")]
    public DateTime Date;
    [FieldConverter(typeof(MyTimeConverter))]
    public DateTime Time1;
    [FieldConverter(typeof(MyTimeConverter))]
    public DateTime Time2;
    [FieldConverter(typeof(MyTimeConverter))]
    public DateTime Time3;
    [FieldConverter(ConverterKind.Date, "dd/MM/yyyy")]
    public DateTime Time4;
    [FieldDelimiter("|")] // ignore the rest of the fields for this example
    public string Optional3;
}      

class Program
{
    private static void Main(string[] args)
    {
        var engine = new FileHelperEngine<MyClass>();
        var records = engine.ReadString(@"01/10/2013,06:00:00;00,06:09:40;08,00:09:40:09,01/10/2013,06:00:00;00,06:09:40;08,00:09:40:09,""January 9, 2013 - Dreams_01.mp4"",Aired,7CFB84BD-A5B6-43E8-82EC-E78E7219B1C7");
        Assert.AreEqual(records[0].Date, new DateTime(2013, 10, 1));
        Assert.AreEqual(records[0].Time1, DateTime.MinValue.Date.Add(new TimeSpan(0, 6, 0, 0)));
        Assert.AreEqual(records[0].Time2, DateTime.MinValue.Date.Add(new TimeSpan(0, 6, 9, 40, 08)));
        Assert.AreEqual(records[0].Time3, DateTime.MinValue.Date.Add(new TimeSpan(0, 0, 9, 40, 09)));
    }
}

public class MyTimeConverter : ConverterBase
{
    public override string FieldToString(object from)
    {
        return base.FieldToString(from);
    }

    public override object StringToField(string from)
    {
        /// apply any logic to clear up the input here
        /// for instance, split the string at any ';' or ':'
        var parts = from
            .Split(';', ':')
            .Select(x => Convert.ToInt32(x))
            .ToList();

        // if it has three parts assume there are no milliseconds
        if (parts.Count == 3)
            return DateTime.MinValue.Date.Add(new TimeSpan(0, parts[0], parts[1], parts[3]));
        else if (parts.Count == 4) // if it has four parts include milliseconds
            return DateTime.MinValue.Date.Add(new TimeSpan(0, parts[0], parts[1], parts[2], parts[3]));
        throw new Exception("Unexpected format");
    }
} 
```

你可以看到我已经实现了一个`MyTimeConverter`. （这是我所知道的使用空 Date 部分`DateTime.MinValue.Date.Add(new TimeSpan())`创建的最佳方法。）`DateTime`

# javascript - 在运行的nodejs服务器上找不到socket.io-client

> ID：15716075
> 
> 赞同：1
> 
> 时间：2013-03-30T07:18:16.897
> 
> 标签：javascript, jquery, node.js, express, socket.io

使用 npm 在 linux 环境中全新安装 node、express、socket.io。我尝试从 socket.io 官方来源运行socket.io 示例，但在命令行上找不到错误 socket.io-client 模块。

我工作了几个小时来解决这个问题。但我没有找到任何解决方案。

错误 ：

```
module.js:337
    throw new Error("Cannot find module '" + request + "'");
          ^
Error: Cannot find module 'socket.io-client'
    at Function._resolveFilename (module.js:337:11)
    at Function._load (module.js:279:25)
    at Module.require (module.js:359:17)
    at require (module.js:375:17)
    at Object.<anonymous> (/home/rajuk/Documents/nodeSamples/node_modules/socket.io/lib/socket.io.js:12:14)
    at Module._compile (module.js:446:26)
    at Object..js (module.js:464:10)
    at Module.load (module.js:353:32)
    at Function._load (module.js:311:12)
    at Module.require (module.js:359:17) 
```

socket.io 安装结果

```
socket.io@0.9.14 /usr/local/lib/node_modules/socket.io 
├── base64id@0.1.0
├── policyfile@0.0.4
├── redis@0.7.3
└── socket.io-client@0.9.11 
```

这是我的代码（app.js）

```
var app = require('express')()
  , server = require('http').createServer(app)
  , io = require('socket.io').listen(server);

server.listen(80);

app.get('/', function (req, res) {
  res.sendfile(__dirname + '/index.html');
});

io.sockets.on('connection', function (socket) {
  socket.emit('news', { hello: 'world' });
  socket.on('my other event', function (data) {
    console.log(data);
  });
}); 
```

和 node_modules 目录包含`socket.io`和`express`包。

我正在尝试像这样运行服务器

```
$ node app.js 
```

如何解决？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-30T09:03:09.887

克隆这个 git 仓库：[https ://github.com/yrezgui/socket.io-simple-demo](https://github.com/yrezgui/socket.io-simple-demo)

告诉我你是否还有错误。

# regex - 正则表达式可以用于 Fluid 应用程序中的 URL 模式吗？

> ID：15716077
> 
> 赞同：2
> 
> 时间：2013-03-30T07:18:46.257
> 
> 标签：regex, macos, userscripts, fluid-mac-app-engine

[URL 模式在Fluid 应用程序](http://fluidapp.com)（OS X 的特定站点浏览器）中非常方便，可以支持某些指定 URL 的脚本/样式，例如： ![Fluid 应用程序中的用户样式/用户脚本窗口](../Images/79f856a8285abda2f544910906feed5b.png)

如[官网所述](http://fluidapp.com/list/)：

> 在下面的“模式”表中，您应该为您希望 Fluid App 访问的任何 URL 添加模式。星号（“*”）是此表中的特殊字符。星号的意思是“匹配这里的任何东西”，是一种轻松包含或排除大量 URL 模式的强大方法。

1.  我们可以使用其他字符，例如“？” 除了“*”来匹配网址？
2.  可以改用正则表达式吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-30T19:18:44.020

Fluid 的开发者在这里。

**更新：** **是的！**现在您可以使用简单的*通配符*模式或完整的*正则表达式*模式。

在通配符模式中，星号 ("*") 是一个特殊的通配符，表示“匹配此处的任何内容”，并且是一种轻松包含或排除非常大的 URL 模式组的强大方法。

或者，您可以使用完整的正则表达式模式而不是通配符模式，方法是将您的 URL 模式包装在正斜杠 / 中，例如：/http://google.com/.+/。

[有关 Fluid 中白名单功能的完整详细信息，请参见此处。](https://apple.stackexchange.com/questions/52200/fluid-when-i-try-to-login-my-fluid-app-launches-the-default-browser-instead/52201#52201)

# jquery - How to make Jquery Datetime Picker to work on jquery v1.4.2

> ID：15716081
> 
> 赞同：0
> 
> 时间：2013-03-30T07:19:13.913
> 
> 标签：jquery, jquery-ui, datetimepicker

I am using jquery v1.4.2 all over the site and this site is very huge. I have been developing this site for more than 2 years now. I wanted to use `jquery datetime picker` on one of my forms but it don't seems to work on `jquery v1.4.2`. So i included `jquery library v1.9.1` and i started to get so many errors on my site all over. Like `.live` is not a function as it is deprecated in the latest release of jquery. Than i tried jquery `.noConflict()` method after which i started to get more errors. I badly want to use it and i don't know how i can use it without changing my parent jquery library file. Any help in this matter will be highly appreciated. Thanks

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-30T07:23:34.447

Try this

Jquery migrate

> This plugin can greatly simplify the process of moving older jQuery code to version 1.9.0 or higher of jQuery by identifying deprecated features. It can also restore those features so that older code can run without needing any changes at all. We strongly recommend that you use this plugin in your initial jQuery 1.9 upgrade — make it easy on yourself, that’s why we wrote this plugin!

```
<script src="http://code.jquery.com/jquery-1.9.1.js"></script>
<script src="http://code.jquery.com/jquery-migrate-1.1.1.js"></script> 
```

# graph - 彼此可达的顶点

> ID：15716096
> 
> 赞同：0
> 
> 时间：2013-03-30T07:21:34.493
> 
> 标签：graph

给定一个有向图，我需要找到所有顶点 v，这样，如果 u 可以从 v 到达，那么 v 也可以从 u 到达。我知道，可以使用 BFS 或 DFS 找到顶点，但它似乎效率低下。我想知道这个问题是否有更好的解决方案。任何帮助，将不胜感激。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-03-22T04:55:03.913

从根本上说，您不会比某种搜索做得更好（正如您所提到的）。我不会太担心效率：这些算法在节点+边的数量上通常是线性的。

问题有点不明确，所以我将对您的数据结构做出一些假设：

1.  你知道顶点 u（因为你没有要求找到它）
2.  您可以（有效地）迭代节点的入站和出站边缘
3.  您可以迭代图中的所有节点
4.  您可以（有效地）将几位数据与每个节点相关联

在这种情况下，使用从顶点 u（深度/宽度，无关紧要）开始的便捷搜索两次：一次跟随出站边（将节点标记为“从 u 可达”）和一次跟随入站边（将节点标记为“到达你”）。最后，遍历所有节点并根据您的目的比较这两位。

注意：按照措辞，您的结果集包括所有未到达顶点 u 的节点。如果您打算使用连词而不是暗示，那么您可以通过在第二次搜索中合并测试来节省一点时间，而不是扫描图中的所有节点。这也减轻了假设 3。

# forms - 某些具有相同名称字段的多个值有效，某些字段无效

> ID：15716099
> 
> 赞同：0
> 
> 时间：2013-03-30T07:21:55.627
> 
> 标签：forms

```
<form action="submit.php" method="POST">
<div class="row">
<div class="column">
<input type="text" class="datepicker" name="date[]"/>
</div>
<div class="column">
<select name="break[]" onchange="count_time('total',this);">
<option value=""> -Select City- </option>
<option>.15</option>
<option>.10</option>
<option>.05</option>
</select>
</div>
<div class="column">
<input type="text" name="total[]" class="total" readonly="readonly">
<input type="hidden" name="total[]" class="total">
</div>
</div>
<div class="row">
<div class="column">
<input type="text" class="datepicker" name="date[]"/>
</div>
<div class="column">
<select name="break[]" onchange="count_time('total',this);">
<option value=""> -Select City- </option>
<option>.15</option>
<option>.10</option>
<option>.05</option>
</select>
</div>
<div class="column">
<input type="text" name="total[]" class="total" readonly="readonly">
<input type="hidden" name="total[]" class="total">
</div>
</div>
<input type="submit" name="submit" value="submit">
</form> 
```

这是我的第一篇文章。我的表单中有很多字段。当我提交表单时，我相应地得到了​​ datepicker 值，但我无法获得 2 个总字段值，但是当我在浏览器中看到时，我可以看到有 2 个相同的值在那些领域。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-30T07:41:01.863

您的代码似乎没问题，尽管我不太确定是什么设置了总字段的值，因为它们没有默认值，而且您没有粘贴应该计算总数的代码。我最好的猜测是，您可能对那段代码有问题，而不是表单代码本身。

这是一段最小化的 php 代码，它只使用总字段，它似乎工作得很好。我已经为这些字段添加了默认值，这样您就可以看到它确实可以正常工作。

```
<form action="test.php" method="POST">
    <input type="text" name="total[]" class="total" readonly="readonly" value="1">
    <input type="hidden" name="total[]" class="total" value="2">
    <input type="text" name="total[]" class="total" readonly="readonly" value="3">
    <input type="hidden" name="total[]" class="total" value="4">
    <input type="submit" name="submit" value="submit">
</form> 
```

打印发布结果我得到以下总值数组：

```
Array ( [total] => Array ( [0] => 1 [1] => 2 [2] => 3 [3] => 4 ) [submit] => submit ) 
```

我将发布设置总值的 Javascript 代码，我也很乐意查看它。

# node.js - Updates to a record are not getting persisted in mongo database (nodejs + mongo)

> ID：15716102
> 
> 赞同：2
> 
> 时间：2013-03-30T07:22:31.237
> 
> 标签：node.js, mongodb, mongoose

I have not found an answer so far (both with my own efforts and also online).

This is a NodeJS code snippet and uses mongodb in the backend.

In the code, I iterate over a (mongo) collection and update a particular field in each record.

I am unable to persist, changes to a record to the database.

Code :-

```
var mongoose = require('mongoose')
  ;

var Centers = mongoose.model('centers', new mongoose.Schema({
    "ChestClinic": String,
    "TestCenterName": String,
    ...
    "loc": {
       "type": {
       "lon": Number,
       "lat": Number
     },
     "index": '2d'
   }
});

mongoose.connect("mongodb://localhost/tblabsdb");

Centers.find({}, function(err, recs) {
    var me = this
      ;
    async.forEachSeries ( recs, function(rec, callback) {
        var loc = { lon: 100, lat: 100 };
        rec.setValue ( 'loc', loc);
        rec.save ( function (err, rec) {
            if ( !err ) {
               console.log( rec );
            } else {
               console.log ( 'Error while saving' );
            }
           callback();
       });
    }, function(err) {
        console.log ( '\ncomplete' );
        process.exit();
    });
}) 
```

When I open this database in shell using mongo command, the values that i see for "loc" are still 0, 0 (instead of 100,100).

Appreciate any suggestions towards fixing it.

Thanks Naval

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-30T07:33:25.627

`loc` is a mixed type field. When you change those, Mongoose needs to be told the field has changed before saving:

```
rec.setValue('loc', loc);
rec.markModified('loc');
rec.save(...); 
```

Why that is [is explained here](http://mongoosejs.com/docs/schematypes.html#mixed).

# c# - 从 XML 内容中去除 < 字符

> ID：15716105
> 
> 赞同：1
> 
> 时间：2013-03-30T07:22:49.553
> 
> 标签：c#, xml, regex

我有一个 XML 文档，其中包含带有`<`字符的数据。

```
<Tunings>
    <Notes>Norm <150 mg/dl</Notes>
</Tunings> 
```

我正在使用的代码是：

```
StreamReader objReader = new StreamReader(strFile);
string strData = objReader.ReadToEnd();

XmlDocument doc = new XmlDocument();

// Here I want to strip those characters from "strData"

doc.LoadXml(strData); 
```

所以它给出了错误：

> 名称不能以“1”字符开头，十六进制值 0x31。

那么有没有办法在 Load 调用之前从 XML 中删除这些字符。？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-30T14:25:02.040

正如评论所述，您没有 XML 文档。如果您知道这些文档偏离合法 XML 的唯一方式是在您的示例中，您可以通过正则表达式运行文件并替换`<(?:\d)`为`&amp;`. 这将找到`<`一个数字的相邻值并对其进行正确编码。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-30T09:14:57.310

如果这仅发生在该`<Notes>`部分中，我建议您修改 XML 文件的创建以使用 CDATA 标记来包含 Notes 中的文本，如下所示：

```
<Notes><![CDATA[Norm <150 mg/dl]]></Notes> 
```

CDATA 标记告诉 XML 解析器不要解析 和 之间的`<![CDATA[`字符`]]>`。这允许您在 XML 中包含否则会破坏解析的字符。

您可以将 CDATA 标记用于您知道（或有合理期望）该数据中的特殊字符的任何情况。

尝试在解析时处理特殊字符（没有 CDATA）将比首先简单地修复 XML 的创建（IMO）更加劳动密集（并且令人沮丧）。另外，“Norm <150 mg/dl”与“Norm 150 mg/dl”不同，这种区别*对于*需要该信息的人来说可能很重要。

# optimization - 有没有办法“解释”一个 Cassandra 查询？

> ID：15716107
> 
> 赞同：10
> 
> 时间：2013-03-30T07:22:55.803
> 
> 标签：optimization, cassandra

如题。我想知道我的查询是否得到了很好的优化。

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-03-30T10:01:04.960

是的，在 Cassandra 1.2 中，您可以打开查询的[请求跟踪](http://www.datastax.com/dev/blog/tracing-in-cassandra-1-2)。

# c - 未处理的异常错误 C 编程

> ID：15716112
> 
> 赞同：3
> 
> 时间：2013-03-30T07:23:44.657
> 
> 标签：c, visual-studio, exception-handling, structure

我是一名新手程序员，可能有大约 8-9 周的 C 编程经验。目前我正在创建一个程序，该程序将从文本文件中读取一些行，将它们存储在一个结构中，计算一些东西，然后将数据打印出来。我正在使用 Microsoft Visual 2010 Express

每当我尝试运行该程序时，它都会立即给我一条错误消息：

> Lab 7 Part B.exe 中 0x777915de 处的未处理异常：0xC0000005：访问冲突读取位置 0x00460310。

我的问题 - 我能做些什么来追踪这个问题的根源吗？

我不能 100% 确定我是否可以将我的整个代码发布到这里，因为这可能被认为是一个懒惰的人，而不是自己解决问题。由于我也不知道它来自哪里，我也无法发布我的代码的特定块。对不起。

如果我尝试再次运行它，则会出现此错误：

> Lab 7 Part B.exe 中 0x777915de 处未处理的异常：0xC0000005：操作成功完成。

然后，每当我尝试多次运行该程序时，它就会停留在那里。这两个错误都要求我“中断”或“继续”。

如果它有任何帮助，第二个错误始终在这行代码处停止。

> ```
> SetLastError(TL_LastError);
> 
> return(ptd); 
> ```

绿色箭头指向返回。伴随错误的文件称为“tidtable.c”。如果我能够发现任何有助于解决此问题的方法，我会尽快更新。

谢谢。

编辑：所以我发现了 F10 并最终只是通过了代码，并以某种方式发现当黄色箭头指向该`getdata`行时错误正在出现。然后当我再次按 F10 时，错误开始并停留在那里。我发布了我认为是罪魁祸首的代码块，希望能解决问题。

这是我的主要功能：

```
void main()
{
    SCARADATA data;

    getdata(&data);
} 
```

这是功能：

```
void getdata (SCARADATA *data)
{
    int i;

    FILE *file;
    char fName [MAX];

    sprintf (fName, "(exactfilepath)");

    file = fopen(fName, "r");
    if(file==NULL)
    {
        printf("\nInvalid File.");
        system ("pause");
    }
    else
    {
        for (i=0; i<=10; i++)
        {
            fscanf (file, "%s\t%lf\t%lf\t%d", data[i]->stringname, data[i]->x, data[i]->y, data[i]->elbow);  
        }
    }
    fclose (file);
} 
```

这是我用来存储读取数据的结构：

```
typedef struct
{
    char stringname[40];
    double x, y;
    int elbow;
    double ang1, ang2;
    bool isValid;
} SCARADATA [20]; 
```

以及程序正在读取文本文件的示例。这有10行。（点 1 - 点 10）

> 点 1 -400 400 1

编辑 2：在 fizzer 的帮助下，我们修复了程序。根据他的解释，我将 20 个结构的数组的地址发送到我的`getdata`函数中，这与 20 的第一个结构的地址相同。我为解决问题所做的`for loop`工作是在函数调用周围添加一个循环遍历每个结构的地址。

```
for (i=0; i<10; i++)
{
getdata(&data[i]);
findangles (&data[i]);
printdata (&data[i]);
} 
```

这允许程序将 EACH 结构的地址传递给以下函数，而不是传递整个数组的地址。我收集到的未处理异常错误是由于程序无法将文件中的信息存储到数组中引起的。这导致编译器随后读取垃圾，导致每次打开文件收集数据时都会出错。至少，我认为这就是发生的事情。

感谢您的帮助 fizzer！绝对节省了我几个晚上盯着这段代码的时间。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-30T16:14:16.547

`&data[i]->x, &data[i]->y, &data[i]->elbow`

`scanf`需要指针。（data[i]->stringname 已经是指向第一个元素的指针）。

*编辑*

SCARADATA 应该是什么？20 个结构的整个数组的类型，还是数组中一个元素的类型？我怀疑是后者。这是使您的程序运行的一种方法：

```
typedef struct
{
    ...
} SCARADATA;  /* not [20] */

/* . instead of -> */
fscanf (file, "%s\t%lf\t%lf\t%d", data[i].stringname, &data[i].x, &data[i].y, &data[i].elbow);  

int main() /* main returns int */
{
    SCARADATA data[20];
    getdata(data);
    return 0;
} 
```

有关数组与指针的详细信息，请参阅[comp.lang.c 常见问题解答。](http://www.c-faq.com/aryptr/index.html)

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-03-30T07:29:04.750

首先，请注意 C 在 C++、Java 等意义上没有例外。

这种“访问冲突”似乎在其他一些操作系统中被称为“分段错误”：由于指针使用不当（或数组，在 C 中相同），您正在访问不应该访问的内存.

建议：在调试器中运行这个程序。

# mysql - 使用列的平均值更新记录

> ID：15716115
> 
> 赞同：1
> 
> 时间：2013-03-30T07:24:24.470
> 
> 标签：mysql, sql, sql-update

我正在寻找status = 0的列的平均值并将其更新到该表的另一条记录中。这是我试图使用的查询。

```
UPDATE mc25778 set balance=(AVG(balance WHERE status=0)) WHERE username="Average" 
```

尝试执行此任务时出现此错误：

```
 Err] 1064 - You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'WHERE status=0)) WHERE username="Average"' at line 1 
```

有什么想法可以解决这个问题吗？

谢谢！

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-03-30T07:27:24.983

您可以使用子查询加入表，该子查询分别计算每个用户名的平均值，

```
UPDATE  mc25778 a
        INNER JOIN 
        (
            SELECT  username, AVG(balance) avg_bal
            FROM    mc25778 
            WHERE   status = 0
            GROUP   BY username
        ) b ON a.username = b.username
SET     a.balance = b.avg_bal
WHERE   a.username = 'Average' 
```

**更新 1**

看起来您想计算所有记录的总平均值，`status = 0`其结果将在记录中更新`Average`

```
UPDATE  mc25778 a
        CROSS JOIN
        (
            SELECT  AVG(balance) avg_bal 
            FROM    mc25778 
            WHERE   status = 0
        )  b
SET     a.balance = b.avg_bal
WHERE   a.username = 'Average' 
```

*   [SQLFiddle 演示](http://www.sqlfiddle.com/#!2/393b3/1)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-30T07:46:49.760

做这个：

```
Declare @avg decimal(10,2)
Set @avg=(SELECT AVG(balance) FROM mc25778 WHERE status = 0)
UPDATE mc25778 set balance=@avg WHERE username="Average" 
```

# php - Take data from user and use that data in a python script

> ID：15716125
> 
> 赞同：1
> 
> 时间：2013-03-30T07:25:09.727
> 
> 标签：php, python, html, user-input

I am a newbie in coding. I am learning php and python.

I want to take data from user. For this I used google and found a form based on html and php

index.html

```
<html>
<body>

<form action="data.php" method="get">
TEXT1: <input type="text" name="text1">
TEXT2: <input type="text" name="text2">
<input type="submit">
</form>

</body>
</html> 
```

Now data.php can use:

$_GET["text1"] $_GET["text2"]

But my script is in python. I don't know how to use the data given by user.

Please help.

Regards, Abhishek.

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-30T07:33:30.720

You *could* the system(..) [http://php.net/manual/en/function.system.php] command to call your python script with command line arguments.

```
system('python myScript.py ' . $_GET['text1'] . ' ' . $_GET['text2']); 
```

Although I would really advice **against** using user provided input in this way, if a user would send `1;rm -rf /;echo` as $_GET['text1'] your system would die.. (assuming apache is running as root, which would also be a bad idea)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-30T07:37:01.127

If you use a python framework like Pylons/Pyramid, you add your request parameters to your processing function, for instance:

`def process_data(request):`

 ````
 text1 = request.params.get('text1') 
````

# ios - Tategaki (japanese vertical writing) in iOS apps

> ID：15716128
> 
> 赞同：3
> 
> 时间：2013-03-30T07:25:30.437
> 
> 标签：ios, user-controls, ruby-characters

Is there a user control (standard or third-party) for iOS that allows to display vertical text of East Asian languages? I also need to display a ruby characters (furigana/reading aid) near the text. Result should look like this [http://img23.imageshack.us/img23/3262/img0088xa.jpg](http://img23.imageshack.us/img23/3262/img0088xa.jpg) (japanese iBooks screenshot)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-30T07:51:47.547

At this time you will need Core Text or a view using Core Text. Github search fails but googling in Japanese wins. [http://cocoadays-info.blogspot.jp/2012/01/coretexttextview-lccoretext.html](http://cocoadays-info.blogspot.jp/2012/01/coretexttextview-lccoretext.html) Blog article in Japanese on this [https://github.com/novi/LTCoreText](https://github.com/novi/LTCoreText)

Should do the trick.

Too bad github search doesn't find it.

Google translate may or may not help. I've forked it just now and will translate the read me soon.

Also found [https://github.com/hokuron/CTRVerticalTextView](https://github.com/hokuron/CTRVerticalTextView) Though it seems fairly unfinished and it's owner's blog seems down. A Japanese site has this nifty page of bookmarks on the topic. [http://b.hatena.ne.jp/Watson/iOS/CoreText/](http://b.hatena.ne.jp/Watson/iOS/CoreText/)

# javascript - 在不使用 JSON 的情况下在 JavaScript 中进行 REST 调用？

> ID：15716133
> 
> 赞同：0
> 
> 时间：2013-03-30T07:26:21.777
> 
> 标签：javascript, rest, http-get

（非常无知的问题，我坦白承认）

我有一个带有按钮和标签的简单网页。当我单击按钮时，我想对一个完全不同的域（跨域，我知道很多）进行 REST 调用，并在标签中显示结果（HTML）。

对于其他 API，我尝试过使用 JSON/P 并动态添加元素，但这个特定的 API 不支持 JSON，所以我不确定如何成功通过。

我的代码是：

```
 function getESVData() {
    $.get('http://www.esvapi.org/v2/rest/passageQuery?key=IP&passage=John+1', function (data) {
        $('#bibleText').html(data);
        app.showNotification("Note:", "Load performed.");
    });
} 
```

我收到“拒绝访问”。无论如何在没有 JSON 的情况下成功进行此调用吗？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-03-30T07:44:22.857

首先，JSON 和 JSONP 不一样。JSON 是一种表示信息的方式，而 JSONP 是对同源策略的一种破解。JSONP 通过从另一个域请求信息来工作，并且该域返回一个脚本，该脚本调用一个带有信息的函数（使用您提供的名称）。您确实在您的站点上执行了另一个域提供给您的脚本，因此您应该信任另一个域。

现在，当尝试发出跨域请求时，您基本上有 3 个选项：

1.  使用 JSONP。这有一些限制，包括它仅适用于 GET 请求，并且您发送请求的服务器必须支持它。
2.  发出跨域资源共享 (CORS) 请求。这也必须得到您发送请求的服务器的支持。
3.  在您自己的服务器上设置代理。在这种情况下，您可以在站点上设置一个端点来简单地中继请求。即您从您的服务器请求信息，您的服务器从另一台服务器获取信息并将其返回给您。

对于您的情况，如果其他服务器不支持其他选项，您似乎必须使用选项 3。

# linq - 带有包含和多对多的 linq

> ID：15716134
> 
> 赞同：0
> 
> 时间：2013-03-30T07:26:27.200
> 
> 标签：linq, include, many-to-many, iqueryable

我对我的 Linq 语句有相当具体的要求。我浏览了几十个例子，但找不到令人满意的答案。

我有一个课程集合，其中包含组集合，其中包含成员集合。我的目标是为 IQuerable 创建 linq 语句，它返回用户所属的课程集合，并在用户所属的每个课程中包含组的集合（如果有的话）。

我确实设法构建了一个 linq 语句，它返回我想要的内容，但过滤掉了所有没有用户所属组的课程：

```
var courses2 = (from c in _set
                       from s in c.Students
                       where (s.UserName == userName)
                       from g in c.Groups
                       from m in g.Members
                       where (m.UserName == userName)
                       select c)
                       .Include(c => c.Groups)
                       .OrderBy(c => c.Title) 
```

我怎么能改变它以包括那些呢？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-30T07:51:15.307

假设您的`student`实体对实体具有`Class`类成员资格的 nav 属性，并且`Class`实体对实体具有 nav 属性`Groups`，而该`Group`实体又具有对 nav 属性`Students`：

```
// get the students to query against
var students = db.Students.Where( s => s.UserName == userName );

// get classes per group
var classesViaGroups = 
    students.SelectMany( s => s.Groups )
    .SelectMany( g => 
        g.Classes.Select( c => 
            new { GroupName = g.Name, ClassObj = g.Class } ) );

// get classes by the student entities alone
var classesViaStudents = 
    students.SelectMany( s => s.Classes )
    .Select( c => new { GroupName = null, ClassObj = c } ); 
```

然后，您可以做任何您想做的事情`classesViaGroups`-`classesViaStudents`组合它们，按组或类构建查找或字典等。

# ruby-on-rails - 当我输入空白评论时如何防止此错误？（Ruby on Rails 3）

> ID：15716139
> 
> 赞同：0
> 
> 时间：2013-03-30T07:26:48.930
> 
> 标签：ruby-on-rails, ruby-on-rails-3

我有帖子，我允许人们对此发表评论。问题是，如果有人尝试发表空白评论，他们会收到以下错误消息：

```
NameError in Comments#create

Showing app/views/shared/_comment_form.html.erb where line #1 raised:

undefined local variable or method `post' for #<#<Class:0x6344a18>:0x635ad20> 
```

提取的源代码（在第 1 行附近）：

```
1: <%= form_for([post, @comment]) do |f| %>
2: <%= render 'shared/error_messages', object: f.object %>
3:   <div class="field">
4:     <%= f.text_field :comment_content %> 
```

这是我在评论模型中的内容

```
class Comment < ActiveRecord::Base
  attr_accessible :comment_content

  belongs_to :user
  belongs_to :post

  validates :comment_content, presence: true
  validates :user_id, presence: true
  validates :post_id, presence: true 
```

我认为 validates :comment_content 会阻止任何人从空白提交中收到任何错误消息，但出现了上述错误消息。

这是我的评论控制器

```
class CommentsController < ApplicationController
     def new
    @post = Post.new(params[:post])
    end

def show
  @comment = Comment.find(params[:id])
  respond_to do |format|
    format.js
  end
end

   def create
    @post = Post.find(params[:post_id])
    @comment = Comment.new(params[:comment])
    @comment.post = @post
    @comment.user = current_user
    if @comment.save
       redirect_to(:back)
    else
      render 'shared/_comment_form'
    end
  end
end 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-30T15:47:14.593

由于 comment_form 是一个局部变量，因此您需要`post`在渲染它时传递一个调用的局部变量，否则它将不知道从哪里获取它。

在您的控制器操作中，更改

```
render 'shared/_comment_form' 
```

至

```
render partial: 'shared/_comment_form', locals: { post: @post } 
```

我不确定渲染部分的快捷方式是否可以在控制器内使用，但值得一试

```
render 'shared/_comment_form', post: @post 
```

# node.js - 我可以用 libuv 做自定义事件吗？

> ID：15716142
> 
> 赞同：4
> 
> 时间：2013-03-30T07:26:58.837
> 
> 标签：node.js, libuv

我正在尝试使用 libuv，但我需要能够将事件从我的网络线程发送到我的主线程。我猜 libuv 会有自定义事件来处理这类事情，但我找不到它们。

有任何想法吗？谢谢！

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-30T11:31:07.337

您可以使用 uv_async_send 发送它们：

*   在“主”线程上调用 uv_async_init。
*   然后从您的工作人员那里调用 uv_async_send。
*   不要忘记 uv_close 回到 main 上。

[http://nikhilm.github.com/uvbook/threads.html](http://nikhilm.github.com/uvbook/threads.html)

# c# - 我尝试使用 C# txtbox 表单在 mysql 数据库中插入数据，但总是出错？

> ID：15716146
> 
> 赞同：1
> 
> 时间：2013-03-30T07:27:20.387
> 
> 标签：c#, mysql, insert

这是我的代码，我认为到目前为止我做得对，但我真的不知道问题出在哪里。我正在使用 txtbox 为用户名和密码制作注册表我用 MD5 加密密码，我尝试删除 MD5 加密，认为它可能是问题，但是当我删除它时，问题仍然存在。

```
ApareceCrudLib a = new ApareceCrudLib("localhost", "root", "",  "cashieringdb");

            string query = "INSERT INTO register (username,password) " +
                          "VALUES(" +
                           "'" + txtUser.Text + "'," +
                           "MD5('" + txtPass.Text +"')";
            a.mysqlInsert(query);
            MessageBox.Show("Account has been registered!");
            this.Close(); 
```

这是我的课程 ApareceCrudLib for mysqlInsert 的代码

```
 public void mysqlInsert(string query)
        {
            try
            {
                if (this.Open())
                {
                    MySqlCommand cmd = new MySqlCommand(query, conn);
                    cmd.ExecuteNonQuery();
                    this.Close();
                    System.Windows.Forms.MessageBox.Show("Record Inserted!");
                }
            }
            catch { this.Close(); System.Windows.Forms.MessageBox.Show("INSERT Record Error!"); }
            return;
        } 
```

如您所见，我通过对话框捕获了错误，因此基本上如果它无法插入或连接到数据库，则消息框将显示“插入记录错误！”。顺便说一句，Visual Studio 中只有在插入数据库时​​没有错误。

我认为插入数据库字符串查询代码中某处的错误 = "INSERT

```
INTO register (username,password) " +
                              "VALUES(" +
                               "'" + txtUser.Text + "'," +
                               "MD5('" + txtPass.Text +"')"; 
```

也许一个逗号一个分号一个句号我一无所知。

嗨！rhughes 这是错误的图像！

![在此处输入图像描述](../Images/c48438b1034db100dcf5515b98f8a0d7.png)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-30T07:35:17.440

您必须在字符串查询中添加“）”。

```
string query = "INSERT INTO register (username,password) " +
                      "VALUES(" +
                       "'" + txtUser.Text + "'," +
                       "MD5('" + txtPass.Text +"'))";
                                                  ^ HERE 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-30T07:35:23.680

SQL 不正确。您有两个开头的“（”，只有一个结尾。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-30T07:37:18.183

为了查看实际错误，请尝试以下操作：

```
try
{
    if (this.Open())
    {
        MySqlCommand cmd = new MySqlCommand(query, conn);
        cmd.ExecuteNonQuery();
        this.Close();
        System.Windows.Forms.MessageBox.Show("Record Inserted!");
    }
}
catch(Exception ex)
{
    this.Close();
    System.Windows.Forms.MessageBox.Show(String.Format("INSERT Record Error! {0}", ex.Message));
} 
```

# twitter - .NET - Update status (tweet) to Twitter without PIN or real Callback url?

> ID：15716149
> 
> 赞同：0
> 
> 时间：2013-03-30T07:27:31.930
> 
> 标签：twitter, tweetsharp

I'm trying to write an app that can tweet using an 'application' I registered with Twitter. I am using TweetSharp and have tried to get my TwitterService set up as follows:

```
public Twitter(string consumerKey, string consumerSecret)
    {
        this.twitterService = new TwitterService(consumerKey, consumerSecret);
        OAuthRequestToken oAuthRequestToken = this.twitterService.GetRequestToken();
        Uri uri = this.twitterService.GetAuthorizationUri(oAuthRequestToken);
        Process.Start(uri.ToString());
        OAuthAccessToken oAuthAccessToken = 
            this.twitterService.GetAccessToken(oAuthRequestToken);
        this.twitterService
            .AuthenticateWith(oAuthAccessToken.Token, oAuthAccessToken.TokenSecret);
    } 
```

It gets to the OAuthAccessToken line and then takes me to the *Authorize [my app] to use your account?* page on the Twitter website. Before I specified a phony callback url, it displayed a page with the PIN that my user is supposed to enter when I clicked the 'Authorize app' button. Then when I added a phony callback url, it would attempt to go to that page and my code would blow to smithereens with the following error:

> The remote server returned an error: (401) Unauthorized.

What I want to know is: can I tweet programatically without the need to enter a PIN or have a legitimate callback url?

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-05-08T01:36:08.060

Tweets must be sent in the context of a user. (Ref: [POST statuses/update](https://dev.twitter.com/docs/api/1.1/post/statuses/update "POST 状态/更新").) Therefore, your app must get the user's authorization (an OAuth access token) in order to send a Tweet. Since you can't get an access token without using either PIN-based authentication or a callback URL, I'm afraid that what you are asking simply cannot be done.

但是，如果您只是想避免在用户每次启动您的应用程序时提示他们输入 PIN，那么答案很简单：一旦您拥有有效的访问令牌，将其保存在某个地方（例如，保存到文件中），然后重新加载它下次您的应用程序运行时。对于我的 WinForms 应用程序，我使用 .NET 的内置每用户[设置](http://msdn.microsoft.com/en-us/library/aa730869.aspx "在 C# 中使用设置")机制来存储访问令牌和访问令牌秘密。Web 应用程序可能会更好地使用数据库或类似的持久访问令牌。

注意：如果您这样做，您还需要检查存储的访问令牌的有效性，如果它不再有效，则重复授权过程。Twitter API 文档建议为此目的使用[GET account/verify_credentials方法。](https://dev.twitter.com/docs/api/1.1/get/account/verify_credentials "GET account/verify_credentials")

# java - 如何在 WebSphere 中读取外部属性文件？

> ID：15716154
> 
> 赞同：3
> 
> 时间：2013-03-30T07:27:58.237
> 
> 标签：java, websphere

我开发了一个示例 Web 应用程序，它将从外部属性文件中读取数据。属性文件位于我系统的源文件夹中，不包含在 WAR 文件中。

属性文件的访问方式如下：

```
Properties prop = new Properties();
//File f1 = new File("Property.properties");
prop.load(getClass().getClassLoader().getResourceAsStream("Property.properties")); 
```

1.  如何在 WAR 文件中从外部访问此属性文件？
2.  必须对代码进行哪些更改才能在 WAR 文件中读取它？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-03-31T08:31:16.277

我认为最通用的方法是定义一个简单的环境条目，如**EE.5.4** *Java™ Platform, Enterprise Edition (Java EE) Specification, v5*的简单环境条目部分所述。

从部分（第 68 页）：

> 简单的环境条目是用于自定义应用程序组件的业务逻辑的配置参数。环境条目值可以是以下 Java 类型之一：String、Character、Byte、Short、Integer、Long、Boolean、Double 和 Float。

您还可以使用规范的**EE.5.6.1.4 标准资源管理器连接工厂类型**部分中描述的 URL 连接工厂。

> Application Component Provider 必须使用 java.net.URL 资源管理器连接工厂类型来获取 URL 连接。

两者都需要在`WEB-INF/web.xml`Web 应用程序的部署描述符中定义资源引用，以便您可以使用`@Resource`或使用 JNDI API`java:comp/env`作为入口点来注入值。

好处是您可以更改 Web 应用程序的配置，而无需重新编译代码，还可以使用管理员习惯使用的应用程序服务器的管理工具来更改它。

在`web.xml`您定义资源引用。

```
<resource-ref>
  <res-ref-name>propertiesURL</res-ref-name>
  <res-type>java.net.URL</res-type>
  <res-auth>Container</res-auth>
  <res-sharing-scope>Shareable</res-sharing-scope>
</resource-ref>
<resource-ref>
  <res-ref-name>propertiesPath</res-ref-name>
  <res-type>java.lang.String</res-type>
  <res-auth>Container</res-auth>
  <res-sharing-scope>Shareable</res-sharing-scope>
</resource-ref> 
```

然后在您的代码中，您使用以下内容来访问这些值：

```
@Resource
String propertiesPath;

@Resource
URL propertiesURL; 
```

这样，您就满足了 Java EE 的要求，您可以使用`propertiesPath`或`propertiesURL`将它们作为输入参数传递给您的方法。

现在，是时候满足 WebSphere Application Server 的期望了。

您定义的是需要映射到其*管理名称的**逻辑*名称（应用程序服务器知道并可以提供给应用程序）。

 *在 WebSphere Application Server 中，您使用`WEB-INF/ibm-web-bnd.xml`具有以下配置的 WebSphere Binding 描述符：

```
<?xml version="1.0" encoding="UTF-8"?>
<web-bnd xmlns="http://websphere.ibm.com/xml/ns/javaee" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:schemaLocation="http://websphere.ibm.com/xml/ns/javaee http://websphere.ibm.com/xml/ns/javaee/ibm-web-bnd_1_1.xsd"
  version="1.1">

  <virtual-host name="default_host" />

  <resource-ref name="propertyURL" binding-name="propertyURL" />
  <resource-ref name="propertyURL" binding-name="propertyURL" />
</web-bnd> 
```

当应用程序被部署时，WAS 允许您将这些映射映射到其管理的资源。使用 ISC 控制台定义环境条目的值并将它们映射到应用程序。

使用 WebSphere Liberty Profile 变得更加容易。我在文章[Using @Resource to access JNDI in WebSphere AS 8.5 Liberty Profile 中](http://jaceklaskowski.pl/wiki/Using_@Resource_to_access_JNDI_in_WebSphere_AS_8.5_Liberty_Profile)描述了 WLP 提供的机制。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-30T07:33:46.000

你有三个选择：

1.  配置 Websphere 以在类路径中包含包含属性文件的目录。不知道该怎么做，但我相信这是可能的，因为我们的应用程序做同样的事情

2.  在战争档案中包含属性文件。你可能不想这样做。

3.  而是使用类加载器加载属性文件，使用带有绝对路径的文件 api。我不完全确定 WAS 是否允许这样做，但无论如何这都是一个坏主意，因为它使您的应用程序非常依赖于它真正不应该关心的事情，例如应用程序的安装路径。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-05-16T15:03:26.783

WebSphere 在类路径上有两个文件夹，可以从那里加载属性：

Enterprise Applications > myear > Manage Modules > myjar.jar > Class loader viewer 4 - Extension - com.ibm.ws.bootstrap.ExtClassLoader

文件：/projekte/IBM/WebSphere/AppServer-8.5/classes/

文件：/projekte/IBM/WebSphere/AppServer-8.5/lib/*

# ember.js - 从控制器中的模板获取属性

> ID：15716157
> 
> 赞同：0
> 
> 时间：2013-03-30T07:28:10.697
> 
> 标签：ember.js

我有以下模板代码

```
<a href="javascript:void(0)" {{bindAttr data-id="voucher.id"}} {{ action 'deleteVoucher' target="controller"}}>Delete</a> 
```

我的控制器代码是

```
App.CreditIndexController = Ember.ArrayController.extend({
    deleteVoucher: function(event){
        //var g = this.get('data-id');
        //var g = $(event.target).attr('deleteVoucher');
        var g = $(this.target);//.attr('data-id');
        console.log(g);
    }    
}); 
```

我刚从控制器中的模板中获取“data-id”的值。我已经尝试了 deleteVoucher 函数中的代码。但没有一个奏效。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-30T08:26:37.437

使用 Ember，您不必这样做，相反，**您可以轻松地将对象传递给您的操作助手，该对象可作为参数提供给您的操作处理程序：**

```
<a href="#" {{ action deleteVoucher voucher target="controller"}}>Delete</a>

App.CreditIndexController = Ember.ArrayController.extend({
    deleteVoucher: function(voucher){
        var id = voucher.get("id")
        console.log(id);
    }    
}); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-30T08:27:09.143

这比你想象的要容易：

```
<a href="#" {{action 'deleteVoucher' voucher}}>Delete</a> 
```

控制器：

```
App.CreditIndexController = Ember.ArrayController.extend({
  deleteVoucher: function(voucher){
    console.log(voucher.get("id"));
  }    
}); 
```

1.  您不需要专门针对控制器，因为它是`{{action}}`s的默认目标
2.  不要将数据 ( `voucher.id`) 存储在 DOM 中。这是一个不好的做法。将 DOM 视为您在应用程序中*其他地方的反映。*
3.  It doesn't matter what you put into the `href` attribute when you're using an action on that element: it'll automatically prevent the link to be visited when clicked.

# python - 使用python的SQL更新命令不起作用

> ID：15716161
> 
> 赞同：1
> 
> 时间：2013-03-30T07:28:39.593
> 
> 标签：python, sql, sqlite

我在让我的 python 脚本更新我的 sqlite 数据库时遇到问题。

第一部分似乎工作正常：

```
conn = sqlite3.connect('/Users/test/Desktop/my-accounts.db')
currentAccount = None

for row in conn.execute('SELECT email FROM accounts WHERE active=0'):
    currentAccount = row[0]
    print "Checking out: ",currentAccount
    break

if currentAccount is None:
    print "No available accounts" 
```

然后下一部分我想获取变量 currentAccount 并更新数据库中该值所在的行。

```
else:
    conn.execute('UPDATE accounts SET active=1 WHERE email=?', [currentAccount,])

conn.close() 
```

我在控制台中没有收到任何错误，但数据库没有更新。电子邮件列是 VARCHAR，活动列是 INT。

谢谢。

**解决方案**`conn.commit()`是在执行（）之后添加

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-30T08:15:48.657

尝试添加`conn.commit()`之后`conn.execute("XXX")`。有时 sqlite3 不会自动提交执行。

# sharepoint-2010 - 不要评论 shaerpoint 的 Lists.asmx 服务

> ID：15716163
> 
> 赞同：1
> 
> 时间：2013-03-30T07:29:05.723
> 
> 标签：sharepoint-2010, office365, sharepointdocumentlibrary

我正在尝试获取我的 Office 365 SharePoint 网站文档库中的文件名列表。

我正在使用以下代码`List.asmx`使用 Visual Studio 2010 访问服务。

```
ServiceReference1.ListsSoapClient ws = new ServiceReference1.ListsSoapClient();
ws.ClientCredentials.Windows.ClientCredential = new System.Net.NetworkCredential("USERNAME", "PASSWORD", "sharepoint");            
ws.ClientCredentials.Windows.AllowedImpersonationLevel = System.Security.Principal.TokenImpersonationLevel.Impersonation;
ws.Endpoint.Address = new System.ServiceModel.EndpointAddress("http://XYZ.sharepoint.com/_vti_bin/lists.asmx");
XElement li = ws.GetListCollection(); 
```

`ws.GetListCollection()`此代码在执行功能时给了我以下错误：

```
The HTTP request was forbidden with client authentication scheme 'Ntlm'. 
```

任何人都可以帮助我吗？SharePoint 网站访问权限是否有任何问题，或者我在代码部分或某些配置内容中遗漏了什么？

# iphone - iOS dynamically override subtitle method in id subclass

> ID：15716166
> 
> 赞同：1
> 
> 时间：2013-03-30T07:29:42.277
> 
> 标签：iphone, ios, overriding, mapkit, subclass

I'm in a situation where in the

```
- (MKAnnotationView *)mapView:(MKMapView *)mapView viewForAnnotation:(id <MKAnnotation>)annotation { 
```

method, I need to dynamically change the implementation of the subtitle method for the annotation object. The reason I need to do this is because I'm doing some computations based on latitudes and longitudes that are changing frequently (which I wish to display as the subtitle) ...so when I first create the id object, it doesn't make sense to do that computation at that time.

How would I dynamically override the subtitle method for my custom id object? Can someone point me in the direction of doing that? Or are there any other approaches I could take?

EDIT: To be a bit more clear... I want to add the annotation custom object to the map BEFORE figuring out what the title and subtitle should be for that annotation object. I want to wait until the user touches on the annotation on the map..and when it shows the popup, that's where I want to calculate what to show as the subtitle. That's why I thought of dynamically overriding the subtitle method of the custom id object.

Thanks!

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-30T08:25:27.763

If you need to dynamically change the implementation of a method at run time, that might call for an application of [strategy pattern](http://en.wikipedia.org/wiki/Strategy_pattern).

With C blocks, we can do it in a flexible and quick way. Have your custom annotation delegate its implementation of `subtitle` to the return value of a block property. Then, in your map view's delegate, define blocks that calculate the subtitle based on your requirements, and assign them to the annotation's property.

Sketch of a custom annotation implementation that delegates its `subtitle` implementation:

```
typedef NSString* (^AnnotationImplementationSubtitleBlock)();

@interface AnnotationImplementation : NSObject <MKAnnotation>

@property (nonatomic, copy) AnnotationImplementationSubtitleBlock *subtitleBlock;

@end

@implementation AnnotationImplementation

- (NSString *)subtitle
{
    return self.subtitleBlock();
}

// Rest of MKAnnotation methods

@end 
```

Also a sketch of the implementation of the map view delegate method where the blocks are created and assigned:

```
- (MKAnnotationView *)mapView:(MKMapView *)mapView viewForAnnotation:(id <MKAnnotation>)annotation
{
    AnnotationImplementation *customAnnotation = (AnnotationImplementation *)annotation;
    if (/* some condition causing you to do it one way */) {
        customAnnotation.subtitleBlock = ^{
            //calculate the subtitle some way 
            return calculatedSubtitle;
        }
    }
    else if (/* some condition causing you to do it another way */) {
        customAnnotation.subtitleBlock = ^{
            //calculate the subtitle the other way
            return calculatedSubtitle;
        }      
    }
    ... rest of method
} 
```

# asp.net - 如何在单击gridview行时停止整个页面刷新

> ID：15716169
> 
> 赞同：0
> 
> 时间：2013-03-30T07:30:10.023
> 
> 标签：asp.net

单击网格视图行时，我不希望重新加载整个页面。下面是被调用的代码。

```
protected void GridView1_RowDataBound(object sender, GridViewRowEventArgs e)
{
    try
    {
        if (e.Row.RowType == DataControlRowType.DataRow)
        {
            e.Row.Attributes["onmouseover"] = "this.style.cursor='pointer';this.style.textdecoration='underline';this.style.background='#DDDDDD';";
            if ((e.Row.RowIndex % 2) == 0)  // if even row
                 e.Row.Attributes["onmouseout"] = "this.style.textdecoration='none';this.style.cursor='pointer';this.style.background='#EFF3FB';";
            else  
                 e.Row.Attributes["onmouseout"] = "this.style.textdecoration='none';this.style.cursor='pointer';this.style.background='White';";
              e.Row.Attributes.Add("onclick", "Javascript:__doPostBack('myClick','" + e.Row.RowIndex + "');");

            }
        }
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-30T07:32:19.897

ASP.NET Ajax 控件允许您进行部分页面更新。您可以将 GridView 放入[UpdatePanel](http://msdn.microsoft.com/en-us/library/system.web.ui.updatepanel.aspx)中。

```
<asp:UpdatePanel ID="myUpdatePanel" runat="server" UpdateMode="Conditional" ChildrenAsTriggers="false">
    <ContentTemplate>
 <asp:gridview id="CustomersGridView" 
   datasourceid="CustomersSource" 
   autogeneratecolumns="False"
   autogenerateselectbutton="True"
   allowpaging="True" 
   selectedindex="1"
   onselectedindexchanged="CustomersGridView_SelectedIndexChanged"
   onselectedindexchanging="CustomersGridView_SelectedIndexChanging"   
   runat="server" DataKeyNames="CustomerID">

     <Columns>
         <asp:BoundField DataField="CustomerID" 
             HeaderText="CustomerID" 
             InsertVisible="False" ReadOnly="True" 
             SortExpression="CustomerID" />
         <asp:BoundField DataField="FirstName" 
             HeaderText="FirstName" 
             SortExpression="FirstName" />
         <asp:BoundField DataField="MiddleName" 
             HeaderText="MiddleName" 
             SortExpression="MiddleName" />
         <asp:BoundField DataField="LastName" 
             HeaderText="LastName" 
             SortExpression="LastName" />
         <asp:BoundField DataField="Phone" 
             HeaderText="Phone" 
             SortExpression="Phone" />
     </Columns>

   <selectedrowstyle backcolor="LightCyan"
     forecolor="DarkBlue"
     font-bold="true"/>  

 </asp:gridview>
     </ContentTemplate>
     <Triggers>
         <asp:PostBackTrigger ControlID="CustomersGridView" EventName="SelectedIndexChanged" />
     </Triggers>
</asp:UpdatePanel> 
```

# c# - ASP.NET, C#, 如何动态识别用户控件的属性或方法并为其添加价值？

> ID：15716171
> 
> 赞同：0
> 
> 时间：2013-03-30T07:30:16.240
> 
> 标签：c#, asp.net, properties, user-controls, code-behind

想要从后面的代码中动态添加用户控件的属性或方法，如下所示：

```
foreach (DataRow drModuleSettings in dsModuleSettings.Tables[0].Rows)
{
    if (!string.IsNullOrEmpty(dsModuleSettings.Tables[0].Rows[0]["SettingValue"].ToString()))
        userControl.Title = dsModuleSettings.Tables[0].Rows[0]["SettingValue"].ToString();
} 
```

“userControl.Title”是一个示例，实际上应该用这样的代码替换它：

```
 userControl.drModuleSettings["SettingName"] = dsModuleSettings.Tables[0].Rows[0]["SettingValue"].ToString(); 
```

问题是我不知道该怎么做。

请有人帮助我。

谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-30T07:40:48.090

您将需要使用**反射**。

看看下面的代码和参考：

请参阅此处：[使用反射设置对象属性](https://stackoverflow.com/questions/619767/net-reflection-set-object-property)

另外，在这里： http: [//www.dotnetspider.com/resources/19232-Set-Property-value-dynamically-using-Reflection.aspx](http://www.dotnetspider.com/resources/19232-Set-Property-value-dynamically-using-Reflection.aspx)：

此代码来自上述参考：

```
// will load the assembly
Assembly myAssembly = Assembly.LoadFile(Environment.CurrentDirectory + "\\MyClassLibrary.dll");

// get the class. Always give fully qualified name.
Type ReflectionObject = myAssembly.GetType("MyClassLibrary.ReflectionClass");

// create an instance of the class
object classObject = Activator.CreateInstance(ReflectionObject);

// set the property of Age to 10\. last parameter null is for index. If you want to send any value for collection type
// then you can specify the index here. Here we are not using the collection. So we pass it as null
ReflectionObject.GetProperty("Age").SetValue(classObject, 10,null);

// get the value from the property Age which we set it in our previous example
object age = ReflectionObject.GetProperty("Age").GetValue(classObject,null);

// write the age.
Console.WriteLine(age.ToString()); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-30T07:46:12.420

You could use `dynamic` properties. Which would mean that, `userControl.drModuleSettings` will be of type `dynamic`.

You can then assign it a value at runtime like

```
userControl.drModuleSettings = new {SomeProperty = "foo", AnotherProperty = "bar"}; 
```

More about dynamic keyword and DynamicObject [here](http://msdn.microsoft.com/en-us/library/vstudio/dd264741.aspx) and [here](http://blogs.msdn.com/b/csharpfaq/archive/2009/10/01/dynamic-in-c-4-0-introducing-the-expandoobject.aspx).

Note - Requires C# 4.0 or above.

# javascript - jQuery父子沟通

> ID：15716174
> 
> 赞同：0
> 
> 时间：2013-03-30T07:30:22.927
> 
> 标签：javascript, jquery, json

**我编写了用复选框**进行操作的插件。现在我有一些问题。**获得 JSON**后，我想连接我的孩子和父母。每个孩子都有带有这个 id 值的**data-parent 。**

示例子： **{“id”：4，“name”：“name 1”，“parent”：1}**，
示例父： **{“id”：2，“name”：“name 2”，“parent”：false }**

在渲染我的第一级（父母）之后，我想附加到父母，他们的孩子。请帮忙，我不知道这样做的好习惯。

```
var $this = this.element; // (target to DOM element, in this context 'body')    
$.getJSON('js/ajax/data.json', function(data) {
var parentData = [];
var childrenData = [];

$.each(data, function(i, item) {
  if (data[i].parent == false) {
     parentData.push(
        '<div class="ra-megaselect-rubrics-level-one"><label>' +
        '<input type="checkbox" data-id="' + data[i].id + '">' +
        '<span>' + data[i].name + '</span>' +
        '</label></div> '
         )}
        else {
          childrenData.push(
            '<div class="ra-megaselect-rubrics-level-two"><label>' +
            '<input type="checkbox" data-id="' + data[i].id + '" data-parent="' + data[i].parent + '">' +
            '<span>' + data[i].name + '</span>' +
            '</label>'
           )}
         });

         $this.append(parentData);
        }); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-30T08:41:53.647

您正在做的事情被称为闭包：[http ://en.wikipedia.org/wiki/Closure_%28computer_science%29](http://en.wikipedia.org/wiki/Closure_%28computer_science%29)

你所做的是真正的普通代码。不好的做法是让 HTML 炸弹在 javascript 中间有一个字符串。

为了可维护性，您可能应该将您的“孩子”和“父母”变成对象，这些对象存储对其各自节点的引用，并为您提供一堆实用函数，以便您可以直接操作它们。[看看这里](http://franciscomsferreira.blogspot.com/2013/01/how-to-write-maintainable-javascript-or.html)

# macos - How to draw point sprites of different sizes in OpenGL?

> ID：15716175
> 
> 赞同：3
> 
> 时间：2013-03-30T07:30:37.030
> 
> 标签：macos, opengl

I'm making a small OpenGL Mac app that uses point sprites. I'm using a vertex array to draw them, and I want to use a similar "array" function to give them all different sizes.

In OpenGL ES, there is a client state called GL_POINT_SIZE_ARRAY_OES, and a corresponding function glPointSizePointerOES() which do exactly what I want, but I can't seem to find an equivalent in standard OpenGL.

Does OpenGL support this in any way?

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-30T08:29:19.510

OpenGL does not support this Apple extension, but you can do it other other way:

**For fixed pipeline: (opengl 1.4 and above)**

You need to setup point parameters:

```
float attenuation[3] = {0.0f, 1.0f, 0.0f};    
glPointParameterfvEXT(GL_POINT_DISTANCE_ATTENUATION, attenuation);

glPointParameterfEXT(GL_POINT_SIZE_MIN, 1.0f);
glPointParameterfEXT(GL_POINT_SIZE_MAX, 128.0f);

glEnable(GL_POINT_SPRITE); 
```

OpenGL will calculate point size for you that way

**Shaders**

Here is some info for rendering using shaders: [http://en.wikibooks.org/wiki/OpenGL_Programming/Scientific_OpenGL_Tutorial_01](http://en.wikibooks.org/wiki/OpenGL_Programming/Scientific_OpenGL_Tutorial_01)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-30T09:29:38.003

To expand a little on Fen's answer, the fixed function OpenGL pipeline can't do exactly what you want. It can do 'perspective' points which get smaller as the Z distance increases, but that's all.

For arbitrary point size at each vertex you need a custom vertex shader to set the size for each. Pass the point sizes either as an attribute array (re-use surface normals or tex coords, or use your own attribute index) or in a texture map, say a 1D texture with width equal to size of points array. The shader code example referred to by Fen uses the texture map technique.

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-03-30T10:22:17.130

If by "Does OpenGL support this", you mean "Can I do something like that in OpenGL", absolutely.

Use shaders. Pass a 1-dimensional generic vertex attribute that represents your point size. And in your vertex shader, set that point size as the `gl_PointSize` output from the vertex shader. It's really quite simple.

If you meant, "Does fixed-function OpenGL support this," no.

# jquery - jquery隐藏/显示功能

> ID：15716186
> 
> 赞同：0
> 
> 时间：2013-03-30T07:32:12.110
> 
> 标签：jquery, centering

你好！我只是`jquery`函数的新手，我能够完成某些 div 的隐藏/显示功能，但我想在执行显示 div 时以居中的方式制作。现在这些 div 有内容但是当我点击显示它从左到右出现..有人可以做这些技巧来居中吗？

```
window.onload = function(){
    $('#show').click(function()
    {
        $('#nav').show('blind');
        $('#show').hide();
        $('#hide').show();
    });

    $('#hide').click(function()
    {
        $('#nav').hide('blind');
        $('#hide').hide();
        $('#show').show();
    });
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-30T07:38:16.797

使用 .toggle() 同时进行隐藏和显示。您无需单独编写显示和隐藏功能

[http://api.jquery.com/toggle/](http://api.jquery.com/toggle/)

```
<!DOCTYPE html>
<html>
<head>
<style>
p { background:#dad;
font-weight:bold;
font-size:16px; }
</style>
<script src="http://code.jquery.com/jquery-1.9.1.js"></script>
</head>
<body>
<button>Toggle 'em</button>
<p>Hiya</p>
<p>Such interesting text, eh?</p>
<script>
$("button").click(function () {
$("p").toggle("slow");
});
</script>
</body>
</html> 
```

# c# - Process.Start() 不会正确启动进程

> ID：15716188
> 
> 赞同：2
> 
> 时间：2013-03-30T07:32:34.523
> 
> 标签：c#, process, subdirectory, process.start

我为游戏 PSOBB 制作了一个小型加载器，但对于离线版本，我懒得进入一个名为“servers”的文件夹并启动所有 3 个服务器可执行文件，所以我正在制作这个程序。所以我的问题是我制作了一个按钮，可以从另一个文件夹（子目录）启动 .exe。

```
private void startLoginServerButton_Click(object sender, EventArgs e)
{
    Process[] killLoginServer = Process.GetProcessesByName("login_server");

    if (killLoginServer.Length == 0)
    {
        Process.Start("servers\\login_server.exe");
        System.Threading.Thread.Sleep(1000);
        refresh(); // This goes to another method and checks if the program is running
    }
    else if (killLoginServer.Length > 0)
    {
        foreach (Process stop in killLoginServer)
        {
            stop.Kill();
        }
        System.Threading.Thread.Sleep(1000);
        refresh();
    }
} 
```

它检查进程是否正在运行，如果没有，则启动它。问题是当我按下按钮时，它会启动但它没有完全加载，所以它会关闭，但如果我手动启动该过程，它工作正常。我尝试以管理员身份运行加载程序，但什么也没有……我什至尝试指定完整路径，但问题仍然存在。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-30T07:53:23.313

你的路错了。。

在启动在该位置找到的任何进程时，您必须完全限定该路径。见[msdn](http://msdn.microsoft.com/en-us/library/e8zac0ca.aspx)

在您的电脑中：`Process.Start("C:\\myprocess.exe");`

在其他电脑上：`Process.Start("OtherPcNetAddress\\SharedFolder\\myprocess.exe");`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-30T08:07:15.867

我不认为你的路径是正确的。您要么需要指定这样的绝对路径：

```
Process.Start(@"C:/servers/login_server.exe"); 
```

或者像这样的相对路径：

```
Process.Start(Path.Combine(Environment.CurrentDirectory, @"servers/login_server.exe")); 
```

# uipangesturerecognizer - Limit UIPanGestureRecognizer to a specific area

> ID：15716190
> 
> 赞同：1
> 
> 时间：2013-03-30T07:32:42.163
> 
> 标签：uipangesturerecognizer

In my view I have in the right part 3 UISlider and in the left part the user can slide the menu with a UIPanGestureRecognizer. Sometimes, when the user uses the slider, it also drag the view. I don't want this to happen. I have this code in my panLayer method:

```
- (IBAction)panLayer:(UIPanGestureRecognizer *)pan {

if (pan.state == UIGestureRecognizerStateChanged) {
    CGPoint point= [pan translationInView:self.topLayer];
    CGRect frame = self.topLayer.frame;
    frame.origin.x = MIN(258.0f, self.layerPosition + point.x);
    if (frame.origin.x < 0) frame.origin.x = 0;
    self.topLayer.frame = frame;
 }
if (pan.state == UIGestureRecognizerStateEnded) {
    if (self.topLayer.frame.origin.x <=160) {
        [self animateLayerToPoint:0];
    }
    else {
        [self animateLayerToPoint:VIEW_HIDDEN];
    }
 }

} 
```

I want to create an if statement with the x position. Something like this:

```
if (firstTouch.x < 150 && firstTouch.x > 0) {
   //Add my previous code
} 
```

How can I access to the firstTouch in the view, and if it is in this area, run the UIPanGestureRecognizer?

Thanks

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-05-11T13:14:21.460

This can be easily achieved by adopting UIGestureRecognizerDelegate and implementing the following method:

```
-(BOOL)gestureRecognizer:(UIGestureRecognizer*)gestureRecognizer shouldReceiveTouch:(UITouch*)touch
{
    return touch.view != myUISlider;
} 
```

# php - php explode() 无法使用特殊字符正常工作

> ID：15716192
> 
> 赞同：0
> 
> 时间：2013-03-30T07:32:50.117
> 
> 标签：php, escaping, special-characters, explode

```
$this->row['contents'] = strip_tags($this->row['contents']);
$this->words = explode(" ", $this->row['contents']); 
```

`key => value`上面的代码应该为每个单词创建一个数组`$this->row['contents']`。在正常情况下，它可以正常工作，但使用如下字符串：

> 这需要每升 10.40 美元。

它将分开为

```
[0] => This
[1] => Costs U$
[2] => 10.40 per
[3] => liter. 
```

任何想法如何解决这个问题？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-30T08:23:23.797

也许这段代码可以帮助你

```
$this->words = preg_split('/\s+/', $this->row['contents']); 
```

# php - 图像居中文本

> ID：15716206
> 
> 赞同：0
> 
> 时间：2013-03-30T07:34:29.873
> 
> 标签：php, gd

所以我有一张图片，我在图片上写了文字和一个颜色框。它有效，但它被添加到右上角的图像中，但我需要它在图像的中心。我尝试更改 x 和 y 变量，但它只移动文本而不是白框。

**这是代码**

```
$image_filepath = './kenshin.jpg';
saveImageWithText("Welcome to Eureka!", $color, $image_filepath);

function saveImageWithText($text, $color, $source_file) { 

  $public_file_path = '.';

  // Copy and resample the imag
  list($width, $height) = getimagesize($source_file);
  $image_p = imagecreatetruecolor($width, $height);
  $image = imagecreatefromjpeg($source_file);
  imagecopyresampled($image_p, $image, 0, 0, 0, 0, $width, $height, $width, $height); 

  // Prepare font size and colors
  $text_color = imagecolorallocate($image_p, 0, 0, 0);
  $bg_color = imagecolorallocate($image_p, 255, 255, 255);
  $font = $public_file_path . '/arial.ttf';
  $font_size = 12; 

  // Set the offset x and y for the text position
  $offset_x = 0;
  $offset_y = 20;

  // Get the size of the text area
  $dims = imagettfbbox($font_size, 0, $font, $text);
  $text_width = $dims[4] - $dims[6] + $offset_x;
  $text_height = $dims[3] - $dims[5] + $offset_y;

  // Add text background
  imagefilledrectangle($image_p, 0, 0, $text_width, $text_height, $bg_color);

  // Add text
  imagettftext($image_p, $font_size, 0, $offset_x, $offset_y, $text_color, $font, $text);

  // Save the picture
  imagejpeg($image_p, $public_file_path . '/output.jpg', 100); 

  // Clear
  imagedestroy($image); 
  imagedestroy($image_p); 
}; 
```

**这是输出**

![在此处输入图像描述](../Images/8f9391eb5be0be4766a4167173a5f14b.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-30T08:13:33.863

尝试这个。它会帮助你……</p>

```
 <?php
    $img = imagecreatefromjpeg("girl-hugging-the-globe.jpg"); // image.jpg is the image on which we are going to write text ,you can replace this iamge name with your
    if(!$img) die("Unabe to load image");
    $red = imagecolorallocate($img, 255, 0, 0);
    $green = imagecolorallocate($img, 0, 255, 0);
    $width = 600;// it will store width of image 
    $height = 100; //it will store height of image
    $fontsize = 6; // size of font
    $text = "Block Prints Online"; // Define the text
    $pos = ( $width - imagefontwidth($fontsize)*STRLEN($text) );// calculate the left position of the text:
    imagestring($img, $fontsize, 200, 150, $text, $red);
    header('Content-type: image/jpeg');
    imagejpeg($img);//it will output a jpeg image
    imagedestroy($img);//it will destroy $img*/
    ?> 
```

# facebook - 有没有办法设计我自己的 twitter、facebook、google plus 按钮？

> ID：15716210
> 
> 赞同：0
> 
> 时间：2013-03-30T07:34:49.537
> 
> 标签：facebook, twitter, google-plus

你好有没有办法设计我自己的`twitter, facebook, google plus`按钮？我需要使用我的自定义样式制作这些按钮。我不想使用可用的标准按钮。获取 facebook 共享计数的功能是什么（所以我可以在其他任何地方使用它）？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-30T07:59:17.393

**当然！**

```
echo  ' <a href="https://www.facebook.com/sharer.php?u=',$my_url,'"> 
<img  src="'.$folder.'/facebook.png" width="50"   alt=""></a>  
<a href="http://twitter.com/home?status=',$my_url,'">  <img
src="'.$folder.'/twitter.png"  width="50" alt=""></a>  '; 
```

*$folder 是您的自定义图标文件夹， $my_url 是您的网址*

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-10T04:44:29.093

Google+ 允许自定义按钮，只要它们符合我们的品牌指南。

[https://developers.google.com/+/branding-guidelines](https://developers.google.com/+/branding-guidelines)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-30T11:31:12.793

可以在其他任何地方使用的功能

```
function myshare($folder, $my_url){
return
'<a href="http://www.facebook.com/sharer.php?u='.$my_url.'"><img src="'.$folder.'/facebook.png" width="50" alt=""></a>
<a href="http://twitter.com/home?status='.$my_url.'"><img src="'.$folder.'/twitter.png"  width="50" alt=""></a>
<a href="https://plus.google.com/share?url='.$my_url.'" ><img src="'.$folder.'/google.png"  width="50" alt=""></a>
';
}

echo myshare('myfoldername','myurl'); 
```

# design-patterns - 计算机编程中的日志记录请求是什么？

> ID：15716211
> 
> 赞同：1
> 
> 时间：2013-03-30T07:34:52.297
> 
> 标签：design-patterns, logging

我正在学习`Command Pattern`，这种模式的用途之一是实现日志记录请求。我在 Head First Design Pattern book 中阅读了一些关于日志记录请求的内容，但我不明白它是做什么的？

命令模式定义：

> 将请求封装为对象，从而使您可以使用不同的请求、队列或**日志请求**参数化客户端，并支持可撤消的操作。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-30T08:49:45.007

我认为这根本不是在谈论所谓的日志记录请求。这只是说，如果您将请求表示为对象，则可以轻松地将它们添加到队列中或将有关它们的信息写入日志。

# spring-security - Spring security 3.0 记住我的功能

> ID：15716212
> 
> 赞同：1
> 
> 时间：2013-03-30T07:34:53.410
> 
> 标签：spring-security

我一直在尝试在我的应用程序中实现 spring security 3.0 记住我的服务，但不幸的是无法让它工作。

我没有找到任何与此相关的具体示例，甚至在 spring 文档中也没有。如果有人可以提供一个工作示例代码，那就太好了。请找到我的 spring-security.xml 文件的代码。

```
 <?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
xmlns:security="http://www.springframework.org/schema/security"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
xsi:schemaLocation="http://www.springframework.org/schema/beans
      http://www.springframework.org/schema/beans/spring-beans-3.0.xsd
      http://www.springframework.org/schema/security
      http://www.springframework.org/schema/security/spring-security-3.0.xsd">

<security:http entry-point-ref="myAuthenticationEntryPoint">

    <security:session-management
        session-fixation-protection="newSession" />
    <security:custom-filter position="FORM_LOGIN_FILTER"
        ref="processingFilter" />
    <security:logout logout-url="/logout"
        logout-success-url="/login" />
    <security:intercept-url pattern='/index.jsp'
        filters='none' />
    <security:intercept-url pattern='/login*'
        filters='none' />
    <security:remember-me key="springrocks" />

    <security:intercept-url pattern='/admin/**'
        access="ROLE_ADMIN" />

</security:http>

<security:authentication-manager>
    <security:authentication-provider
        ref="myAuthenticationProvider"></security:authentication-provider>
</security:authentication-manager>
<bean id="myAuthenticationProvider"
    class="example.AuthenticationProviderExtended">

</bean>

<bean id="authenticationManager" class="example.AuthenticationManagerExtended" />

<bean id="processingFilter" class="example.FormBasedProcessingFilter">
    <property name="authenticationManager" ref="authenticationManager" />
    <property name="usernameParameter" value="username" />
    <property name="passwordParameter" value="password" />
    <property name="allowSessionCreation" value="true" />
    <property name="authenticationFailureHandler" ref="simpleUrlAuthenticationFailureHandler" />
    <property name="authenticationSuccessHandler" ref="simpleUrlAuthenticationSuccessHandler" />
    <property name="filterProcessesUrl" value="/performLogin" />
</bean>

<bean id="simpleUrlAuthenticationFailureHandler" class="example.AuthenticationFailureHandler">
    <property name="defaultFailureUrl" value="/login"></property>
</bean>

<bean id="simpleUrlAuthenticationSuccessHandler"
    class="org.springframework.security.web.authentication.SimpleUrlAuthenticationSuccessHandler">
    <property name="defaultTargetUrl" value="/home" />
</bean>

<bean id="myAuthenticationEntryPoint"
    class="example.CustomAuthenticationEntryPoint">
    <property name="loginFormUrl" value="/login" />
</bean>

<bean id="rememberMeFilter"
    class="org.springframework.security.web.authentication.rememberme.RememberMeAuthenticationFilter">
    <property name="rememberMeServices" ref="rememberMeServices" />
    <property name="authenticationManager" ref="authenticationManager" />
</bean>

<bean id="rememberMeServices"
    class="org.springframework.security.web.authentication.rememberme.TokenBasedRememberMeServices">
    <property name="userDetailsService" ref="myUserDetailsService" />
    <property name="key" value="springRocks" />
</bean>

<bean id="rememberMeAuthenticationProvider"
    class="org.springframework.security.authentication.RememberMeAuthenticationProvider">
    <property name="key" value="springRocks" />
</bean>

<bean id="myUserDetailsService" class="example.MyCustomeUserDetailsService">

</bean>

</beans> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-30T10:32:09.113

请在此处查看 Spring Security 文档：http: [//static.springsource.org/spring-security/site/docs/3.1.x/reference/springsecurity-single.html#remember-me-hash-token](http://static.springsource.org/spring-security/site/docs/3.1.x/reference/springsecurity-single.html#remember-me-hash-token)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-03-12T10:20:00.750

您需要确保您的表单包含一个复选框（或其他类型的输入）记住我属性名称

```
<input type="checkbox" name="_spring_security_remember_me"/> 
```

此属性可通过 xml 上的 remember-me-parameter 进行配置，例如：

```
<remember-me remember-me-parameter="please_remember"/> 
```

# iphone - 如何调试 Iphone 对齐问题？

> ID：15716214
> 
> 赞同：0
> 
> 时间：2013-03-30T07:35:05.860
> 
> 标签：iphone, html, css, windows-7, simulator

我的客户端网页在 iphone 上有一点文本对齐问题。

有人可以帮助我找到可以安装在我的 Windows 7 计算机中以调试这些类型的问题的好的模拟器吗？

我没有iphone。如何调试这些智能手机问题？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-30T08:51:34.187

请在[http://www.browserstack.com](http://www.browserstack.com)上查看它，因为它是最接近真实事物的模拟器。

这就是我用的

注意：这是有时间限制的，如果你超过你需要注册......只是一个提示......

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-30T07:37:51.877

我知道在 Firefox 中，您可以使用 ctrl+shift+m​​ 更改分辨率并模拟移动设备。

# jquery - 在 jQuery.each 中返回

> ID：15716215
> 
> 赞同：-1
> 
> 时间：2013-03-30T07:35:16.683
> 
> 标签：jquery

我可以实现 jQuery.each，其中如果我在 jQuery.each 中处理的数组中找到任何匹配项，那么我可以在不进一步处理剩余元素的情况下中断/返回。

```
<ul>
<li>foo</li>
<li>bar</li> 
```

您可以选择列表项并遍历它们：

```
$( "li" ).each(function( index ) {
  //if($(this).text() == 'foo') , i.e if foo is found , 
//then return instead of processing bar.
}); 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-30T07:37:26.223

`return false`这样做：

```
var elem;

$( "li" ).each(function() {
    if($(this).text() == 'foo') {
        elem = this;
        return false;
    }
}); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-30T07:37:48.513

从文档。

通过使回调函数返回 false，我们可以在特定迭代中打破 $.each() 循环。返回非 false 与 for 循环中的 continue 语句相同；它将立即跳到下一次迭代

[http://api.jquery.com/jQuery.each/](http://api.jquery.com/jQuery.each/)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-30T07:45:18.780

从[jQuery 文档](http://api.jquery.com/jQuery.each/)：

> We can break the $.each() loop at a particular iteration by making the callback function return false. Returning non-false is the same as a continue statement in a for loop; it will skip immediately to the next iteration.

**Example:**

```
<div id="one"></div>
<div id="two"></div>
<div id="three"></div>
<div id="four"></div>
<div id="five"></div>

<script>

    var arr = [ "one", "two", "three", "four", "five" ];
    jQuery.each(arr, function() {
        $("#" + this).text("Mine is " + this + ".");
        return (this != "three"); // will stop running after "three"
    });

</script>` 
```

# ruby-on-rails - Ruby on Rails 检查图像是否已加载

> ID：15716220
> 
> 赞同：0
> 
> 时间：2013-03-30T07:35:36.777
> 
> 标签：ruby-on-rails, ruby, image, file

我正在制作一个网站，需要能够跟踪我服务器上每个图像的加载日期。

我怎样才能做到这一点？

非常感谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-30T08:21:32.883

该功能存在多个问题。

1.  assets：我*认为*请求为 /assets/image.png 的图像在到达您的应用程序代码之前已被处理
2.  从 /public 目录提供的资产：它们由您的网络服务器处理
3.  缓存：图像可以被HTTP请求链中的各种服务器缓存。该请求甚至不必到达您的网络服务器，它可以由服务器和浏览器之间的代理缓存处理。或者浏览器可以决定它只是重用缓存的图片

我可能会尝试通过检查您的网络服务器的访问日志来解决这个问题。并确保发送正确的 HTTP-Headers（意味着 HTTP Header 可以防止任何形式的缓存，但这本身就是一个坏主意......）

# iphone - 多方向的 MPMoviePlayer

> ID：15716224
> 
> 赞同：0
> 
> 时间：2013-03-30T07:36:01.900
> 
> 标签：iphone, ios, mpmovieplayercontroller

在我的 ViewController 中，我放置`MPMoviePlayerController`播放视频。它工作正常。它也可以在全屏模式下播放。现在，我需要在*横向右侧*和*横向左侧*播放这部电影。我如何实现这一目标？而且，重要的一点是我的应用只支持*纵向*模式。我只想在两个方向上显示这个电影播放器​​。我怎么做？任何想法都值得！

这是我的代码 -

```
-(void)playMovie
{
    NSString *movieURL = ___;
    NSURL *url = [NSURL URLWithString:movieURL];
    player =  [[MPMoviePlayerController alloc]initWithContentURL:url];
    self._moviePlayer = player;

    [[NSNotificationCenter defaultCenter] addObserver:self
                                         selector:@selector(moviePlayBackDidFinish:)
                                             name:MPMoviePlayerPlaybackDidFinishNotification
                                           object:_moviePlayer];

    _moviePlayer.controlStyle = MPMovieControlStyleDefault;
    _moviePlayer.shouldAutoplay = YES;

    _moviePlayer.view.frame = CGRectMake(10, shortDesc.frame.origin.y+shortDesc.frame.size.height+10, 280,150);

    [_moviePlayer play];
}

- (void) moviePlayBackDidFinish:(NSNotification*)notification
{
    player = [notification object];
    [[NSNotificationCenter defaultCenter] removeObserver:self name:MPMoviePlayerPlaybackDidFinishNotification object:player];

    if ([player respondsToSelector:@selector(setFullscreen:animated:)])    {
    }
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-30T08:19:31.520

我在这里用代码回答了这个问题：[将方向更改回纵向](https://stackoverflow.com/questions/15550797/change-orientation-back-to-portrait/15703012#15703012)

You have an *app* that supports all orientations, a *main view controller* that only supports portrait, and a *subclassed* `MPMoviePlayerController` that supports all orientations (or all, but upside down, or landscape only, or whatever you want...).

# php - 操作完成后禁用提交表单

> ID：15716228
> 
> 赞同：0
> 
> 时间：2013-03-30T07:36:27.823
> 
> 标签：php, javascript, jquery, mysql

好吧，我已经发疯了好几个小时试图解决这个问题......

我希望我的表单在单击后被禁用，这样就不会发生多次提交。但是，当我尝试禁用它的方法时。我尝试了很多方法，单击它后它会禁用按钮，但它会停止表单应该执行的所有功能。例如，将此添加到我的代码中会在单击它后禁用表单，但会停止所有功能。

```
onclick="this.disabled=true;this.value='Sending, please wait...';this.form.submit();" 
```

这是我的表格

```
<form name="input" action="" method="post" id="id">
  <div align="center">
    <input name="Submit" id="Submit" type="submit" class="button" value="Explore Map!"/>
  </div>
</form> 
```

这是单击表单时应该发生的事情（我知道代码很糟糕且不安全，但它可以工作，这正是我所需要的。）

```
if (isset($_POST['Submit'])) {

include 'includes/mapstuff.php';

// Ok so we called the submit button sbubmit and the method is post so

// So here we pick a random row from the table pokemon notice the order by rand
$sql23 = "SELECT * FROM map1pokemon ORDER BY RAND() LIMIT 1;";
// We then check for errors
$result23 = mysql_query($sql23) or die(mysql_error());
// we then make the result into a virable called battle_get23
$battle_get23 = mysql_fetch_array($result23);

$sql2 = "SELECT * FROM pokemon WHERE name='".$battle_get23['pokemon']."'";
$result2 = mysql_query($sql2) or die(mysql_error());
$battle_get2 = mysql_fetch_array($result2);

// Now we need to make sure the image is safe be for we use it
$pic2= mysql_real_escape_string($battle_get2['pic']);
$pic = strip_tags($pic2);

include 'includes/maptypes.php';

?>

<form name="inputt" action="" method="post">
  <div align="center">
    <input type="submit" class="catch" value="Catch Pokemon" name="catch">
  </div>
</form> 
<p></p>

<?php
echo "You have just found a " ;
echo $randomview[0];
echo " ";

// we can now print off any column we want about the random pokemon e.g the name the pic etc... here I chose to print out the name.but th
echo $battle_get23['pokemon'];

$_SESSION['pokemon'] = $battle_get23['pokemon']; 
$_SESSION['type'] = $randomview[0];
$_SESSION['pic'] = $battle_get2;
$_SESSION['money'] = $randomview2[0];
$_SESSION['level'] = $randomview3[0];
$_SESSION['ticket'] = $randomview4;

?>
<p></p>
<?php
echo "You have gained ".$randomview3[0]." levels" ;
echo " ";
?>
<p></p>
<?php
echo "You have received $".$randomview2[0]."" ;
echo " ";
?>
<p></p>
<?php
echo "</center>";
}

?> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-30T07:40:09.980

使用 jQuery

```
$("form").submit(function() {
    $(this).submit(function() {
        return false;
    });
    return true;
}); 
```

[参考这个问题](https://stackoverflow.com/questions/926816/how-to-prevent-multiple-form-submit-from-client-side)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-30T07:51:01.033

```
$("form").live('submit', function(event) {
    if (true) { //validation
      return false;
    } else {
      return true;
    }
  }); 
```

# requirejs - QUnit autostart

> ID：15716238
> 
> 赞同：11
> 
> 时间：2013-03-30T07:37:53.800
> 
> 标签：requirejs, qunit

I'm using QUnit to test my JavaScript. I'm also using requirejs. I have test code which looks like this:

```
QUnit.config.autostart = false;

require(['tests/tests'], function () {
    QUnit.start(); //Tests loaded, run tests
}); 
```

This works great in FF (19.0.2 as it happens) but in both Chrome (27) and IE (10), I'm getting a QUnit error:

"pushFailure() assertion outside test context"

Turns out that I don't need the call to QUnit.start in IE and Chrome. Anybody else seen this or have any suggestions as to why?

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2013-03-31T17:58:40.953

If anybody else hits this issue I've found a solution. Empirically both Chrome and IE fire QUnit's load event as soon as QUnit is accessed and load calls start. What I've done is this:

```
<script type="text/javascript" src="qunit-1.11.0.js"></script>
<script type="text/javascript">
    QUnit.config.autostart = false;
</script>
    <script type="text/javascript" data-main="main" src="require.js"></script> 
```

So, load QUnit, set the autostart and then load requirejs

This is messier than setting autostart=false in main.js but it has the benefit of working :)

# asp.net-mvc - 只重定向手机而不重定向平板电脑？

> ID：15716246
> 
> 赞同：0
> 
> 时间：2013-03-30T07:38:55.960
> 
> 标签：asp.net-mvc, asp.net-mvc-3, mobile, 51degrees

我有一个 ASP.NET MVC 应用程序，并且是第一次使用 51 度。但是，在我的应用程序中，我只需要将手机重定向到移动版本而不是平板电脑吗？

对我来说，如何使用 51 度来实现这一点并不是很明显？非常感谢任何帮助。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-01T20:53:39.060

我也在尝试安装这个，但我很确定如果你将下面的代码添加到 web.config 或 51Degrees.mobi.config 文件中的重定向部分，它就会成功。这应该会导致任何非移动设备访问常规站点。

```
<location name="mobile" url="~/Mobile/Default.aspx">
      <add property="IsMobile" matchExpression="true"></add>
    </location> 
```

这是有关此文档的链接：

[http://51degrees.mobi/Support/Documentation/Foundation/UserGuide.aspx#Redirect](http://51degrees.mobi/Support/Documentation/Foundation/UserGuide.aspx#Redirect)

# javascript - 如何使用 Javascript 更改 IMG

> ID：15716249
> 
> 赞同：0
> 
> 时间：2013-03-30T07:39:28.523
> 
> 标签：javascript, html

我只想使用 javascript 更改图像而不更改 html 上的任何内容

这是HTML

```
<td bgcolor="#2A2A1B" style="width: 128px;" valign="top">
    <img id="ContentPlaceHolder1_imgClanmark" src="../images/clan/clanmark20130211202115640.png" style="height:128px;width:128px;" />
</td> 
```

现在这是我的 js

```
var photo = document.getElementById('ContentPlaceHolder1_imgClanmark');
var img = new Image();
img.addEventListener('load', myFunction, false);
img.src = 'http://i.imgur.com/jztMCqb.png';
photo.src = img.src; 
```

试过了，它不会工作

也用了这个

```
function FirstPic()
{
    var pic1 = document.getElementById("ContentPlaceHolder1_imgClanmark"); 
    if (pic1 == typeof('image')) return;
    pic1.src = "http://i.imgur.com/jztMCqb.png";
} 
```

但话又说回来，我应该在 html 上添加代码，例如

```
<img onload='FirstPic()' id='ContentPlaceHolder1_imgClanmark' src='http://i.imgur.com/jztMCqb.png' /> 
```

有人可以帮我解决这个问题吗？

* * *

对不起，我没有更新这个问题，这就是我所做的

--

```
window.onload = function() {
  var photo = document.getElementById('ContentPlaceHolder1_imgClanmark');
  var img = new Image();
  img.src = 'http://i1203.photobucket.com/albums/bb384/zendesigns/sfdfi/sfdfilogo_zps9302a288.gif';
  img.addEventListener('load', myFunction, false);
  function myFunction() {
   photo.src = img.src;
  }
} 
```

--

谢谢斯塔诺[_](https://stackoverflow.com/users/1422309/stano)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-30T07:41:55.603

如果这是在第一个页面加载上，您是否有理由等待 onload 事件？

```
document.getElementById('ContentPlaceHolder1_imgClanmark').src = 'http://i.imgur.com/jztMCqb.png'; 
```

会改源吗？

**编辑：**

另一方面，此链接上的图片：`http://i.imgur.com/jztMCqb.png`不能热链接，当你尝试链接时返回***403禁止***，这样无论你做什么，该图片都不会出现！

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-03-30T07:42:55.913

只需更改 src：

```
 $("#ContentPlaceHolder1_imgClanmark").attr("src","pass_here_new_image_source"); 
```

# json - 序列化字典 - 如何重命名键和值

> ID：15716255
> 
> 赞同：3
> 
> 时间：2013-03-30T07:40:46.357
> 
> 标签：json, asp.net-mvc-4

我有一个`Dictionary<string,int[]>`需要序列化为 JSON 的东西。使用默认格式化程序，我得到

```
{"blah": [0,1,2,3], "yada": [0,1,2,3]} 
```

我需要的是这样的

```
[{ name: "blah", data: [0,1,2,3]}, name: "yada", data: [0,1,2,3] }] 
```

实现这一目标的最佳/最简单方法是什么？我应该编写一个自定义序列化程序类吗？或者是否有比字典更好的集合类型？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-30T07:47:51.437

使用一点 LINQ，您可以轻松地将字典转换为您的格式：

```
var dict = new Dictionary<string, int[]>
    {
        {"blah", new[] {0, 1, 2, 3}},
        {"yada", new[] {0, 1, 2, 3}}
    };
var transformedData = dict.Select(e => new {name = e.Key, data = e.Value});
var json = JsonConvert.SerializeObject(transformedData); 
```

或者您可以创建一个自定义`JsonConverter`来执行此转换。

# jsf-2 - JAXB 输出格式不正确

> ID：15716258
> 
> 赞同：1
> 
> 时间：2013-03-30T07:41:05.323
> 
> 标签：jsf-2, jaxb, marshalling, maven-jaxb2-plugin

我在按预期 XML 编组代码时遇到问题

```
public void xmleg() throws XMLStreamException
    {

     XMLOutputFactory factory = XMLOutputFactory.newInstance();
     XMLStreamWriter writer = factory.createXMLStreamWriter(System.out);
     writer.writeStartDocument();
     writer.writeStartElement("Zoos1"); 

         QName q=new QName("","Zoo"); 
         for(Zoo add: zoo_list)
        {
        try 
         {

          JAXBContext jaxbContext = JAXBContext.newInstance(Zoos.class);
              Marshaller jaxbMarshaller = jaxbContext.createMarshaller();

             jaxbMarshaller.setProperty(Marshaller.JAXB_FORMATTED_OUTPUT,true);
             jaxbMarshaller.setProperty(Marshaller.JAXB_FRAGMENT, true);
             jaxbMarshaller.marshal(new JAXBElement<Zoot>(q,Zoo.class,add),System.out);

         } catch (JAXBException e) {
            e.printStackTrace();
              }
        }
        writer.writeEndDocument();
         writer.close();
        }

} 
```

已经使用 XMLStreamWriter 来打印默认需要的标签。但是所有的写语句都打印在最后一个开始标签上，开始元素也是如此。

**生成的输出是：**

```
<Zoo>
    <linkId>0</linkId>
    <name>fjjfjfrj</name>

</Zoo>

<Zoo>
    <linkId>0</linkId>
    <name>fgjfjfj</name>
</Zoo>
<?xml version="1.0" ?><Zoos></Zoos> 
```

**预期的输出应该是：**

```
<?xml version="1.0" ?> 
```

```
<Zoo>
    <linkId>0</linkId>
    <name>fjjfjfrj</name>
    </Zoo>

 <Zoo>
    <linkId>0</linkId>
    <name>fgjfjfj</name>
</Zoo> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-30T10:01:13.573

对于您使用 StAX 添加根元素的用例，您还需要将 JAXB 编组到`XMLStreamWriter`. 编组到文档中间时，您需要确保设置了该`JAXB_FRAGMENT`属性。下面是一个例子：

```
import javax.xml.bind.*;
import javax.xml.stream.*;

public class Demo {

    public static void main(String[] args) throws Exception {
        JAXBContext jc = JAXBContext.newInstance(Zoo.class);
        Marshaller marshaller = jc.createMarshaller();
        marshaller.setProperty(Marshaller.JAXB_FRAGMENT, true);
        marshaller.setProperty(Marshaller.JAXB_FORMATTED_OUTPUT, true);

        XMLOutputFactory xof = XMLOutputFactory.newFactory();
        XMLStreamWriter xsw = xof.createXMLStreamWriter(System.out);

        xsw.writeStartDocument();
        xsw.writeStartElement("zoos");

        Zoo zoo1 = new Zoo();
        zoo1.linkId = 1;
        zoo1.name = "foo";
        marshaller.marshal(zoo1, xsw);

        Zoo zoo2 = new Zoo();
        zoo2.linkId = 2;
        zoo2.name = "bar";
        marshaller.marshal(zoo2, xsw);

        xsw.writeEndElement();
        xsw.writeEndDocument();
        xsw.close();
    }

} 
```

编组到`XMLStreamWriter`输出时不会格式化。

```
<?xml version="1.0" ?><zoos><zoo><linkId>1</linkId><name>foo</name></zoo><zoo><linkId>2</linkId><name>bar</name></zoo></zoos> 
```

有关格式化 StAX 输出的帮助，请查看以下问题的答案：

*   [Java 中的 StAX XML 格式](https://stackoverflow.com/questions/290326/stax-xml-formatting-in-java)

# android - Android - 中间的Edittext垂直线

> ID：15716262
> 
> 赞同：1
> 
> 时间：2013-03-30T07:42:43.583
> 
> 标签：android, android-edittext

我的编辑文本有问题，我不知道如何解决。问题是edittext中间有一条竖线，怎么去掉？此问题仅在小屏幕上存在。

我的代码是：

```
<EditText
        android:id="@+id/txt1"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_alignParentTop="true"
        android:layout_toRightOf="@+id/txt1"
        android:capitalize="none"
        android:gravity="center"
        android:inputType="text|textNoSuggestions"
        android:padding="0dp"
        android:singleLine="true"
        android:textSize="15dp" >
</EditText> 
```

非常感谢

* * *

所有代码是：

```
<?xml version="1.0" encoding="utf-8"?>
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:id="@+id/layoutsolutionhorizontal"
    android:layout_width="match_parent"
    android:layout_height="wrap_content"
    android:layout_below="@+id/txtquestionmethodhorizontal"
    android:gravity="top|center_vertical|center_horizontal" >

    <EditText
        android:id="@+id/txtsolutionhorizontal0"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_alignParentLeft="true"
        android:layout_alignParentTop="true"
        android:capitalize="none"
        android:gravity="center"
        android:inputType="text|textNoSuggestions"
        android:padding="0dp"
        android:singleLine="true"
        android:textSize="15dp" >
    </EditText>

    <EditText
        android:id="@+id/txtsolutionhorizontal1"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_alignParentTop="true"
        android:layout_toRightOf="@+id/txtsolutionhorizontal0"
        android:capitalize="none"
        android:gravity="center"
        android:inputType="text|textNoSuggestions"
        android:padding="0dp"
        android:singleLine="true"
        android:textSize="15dp" >
    </EditText>

    <EditText
        android:id="@+id/txtsolutionhorizontal2"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_alignParentTop="true"
        android:layout_toRightOf="@+id/txtsolutionhorizontal1"
        android:capitalize="none"
        android:gravity="center"
        android:inputType="text|textNoSuggestions"
        android:padding="0dp"
        android:singleLine="true"
        android:textSize="15dp" >
    </EditText>

    <EditText
        android:id="@+id/txtsolutionhorizontal3"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_alignParentTop="true"
        android:layout_toRightOf="@+id/txtsolutionhorizontal2"
        android:capitalize="none"
        android:gravity="center"
        android:inputType="text|textNoSuggestions"
        android:padding="0dp"
        android:singleLine="true"
        android:textSize="15dp" >
    </EditText>

    <EditText
        android:id="@+id/txtsolutionhorizontal4"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_alignParentTop="true"
        android:layout_toRightOf="@+id/txtsolutionhorizontal3"
        android:capitalize="none"
        android:gravity="center"
        android:inputType="text|textNoSuggestions"
        android:padding="0dp"
        android:singleLine="true"
        android:textSize="15dp" >
    </EditText>

    <EditText
        android:id="@+id/txtsolutionhorizontal5"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_alignParentTop="true"
        android:layout_toRightOf="@+id/txtsolutionhorizontal4"
        android:capitalize="none"
        android:gravity="center"
        android:inputType="text|textNoSuggestions"
        android:padding="0dp"
        android:singleLine="true"
        android:textSize="15dp" >
    </EditText>

    <EditText
        android:id="@+id/txtsolutionhorizontal6"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_alignParentTop="true"
        android:layout_toRightOf="@+id/txtsolutionhorizontal5"
        android:capitalize="none"
        android:gravity="center"
        android:inputType="text|textNoSuggestions"
        android:padding="0dp"
        android:singleLine="true"
        android:textSize="15dp" >
    </EditText>

    <EditText
        android:id="@+id/txtsolutionhorizontal7"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_alignParentTop="true"
        android:layout_toRightOf="@+id/txtsolutionhorizontal6"
        android:capitalize="none"
        android:gravity="center"
        android:inputType="text|textNoSuggestions"
        android:padding="0dp"
        android:singleLine="true"
        android:textSize="15dp" >
    </EditText>

    <EditText
        android:id="@+id/txtsolutionhorizontal8"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_alignParentTop="true"
        android:layout_toRightOf="@+id/txtsolutionhorizontal7"
        android:capitalize="none"
        android:gravity="center"
        android:inputType="text|textNoSuggestions"
        android:padding="0dp"
        android:singleLine="true"
        android:textSize="15dp" >
    </EditText>

    <EditText
        android:id="@+id/txtsolutionhorizontal9"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_alignParentTop="true"
        android:layout_toRightOf="@+id/txtsolutionhorizontal8"
        android:capitalize="none"
        android:gravity="center"
        android:inputType="text|textNoSuggestions"
        android:padding="0dp"
        android:singleLine="true"
        android:textSize="15dp" >
    </EditText>

    <EditText
        android:id="@+id/txtsolutionhorizontal10"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_alignParentTop="true"
        android:layout_toRightOf="@+id/txtsolutionhorizontal9"
        android:capitalize="none"
        android:gravity="center"
        android:inputType="text|textNoSuggestions"
        android:padding="0dp"
        android:singleLine="true"
        android:textSize="15dp" >
    </EditText>

    <EditText
        android:id="@+id/txtsolutionhorizontal11"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_alignParentTop="true"
        android:layout_toRightOf="@+id/txtsolutionhorizontal10"
        android:capitalize="none"
        android:gravity="center"
        android:inputType="text|textNoSuggestions"
        android:padding="0dp"
        android:singleLine="true"
        android:textSize="15dp" >
    </EditText>

    <ImageView
        android:id="@+id/buttonclearhorizontal"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_alignParentTop="true"
        android:layout_toRightOf="@+id/txtsolutionhorizontal11"
        android:clickable="true"
        android:src="@drawable/clearbox" />

</RelativeLayout> 
```

我使用命令 include 在其他布局中调用此布局

截图是：![在此处输入图像描述](../Images/a537aa1f945e6a345ae82e75a611c57a.png)

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-03-30T07:43:35.820

那就是所谓的`cursor`。它在中间，因为你已经设置了`gravity=center`. 您可以使用以下方法将其删除：

```
android:cursorVisible="false" 
```

# php - 将变量从javascript函数传递到codeigniter中的控制器方法

> ID：15716265
> 
> 赞同：1
> 
> 时间：2013-03-30T07:43:23.917
> 
> 标签：php, javascript, codeigniter, codeigniter-2

我是 CodeIgniter 的新手。我正在制作一个项目，其中我在视图中创建了一个 javascript 函数，并在其中定义了一个变量.. 它看起来像这样

```
var $rowCount=0;
function invest() {
  $rowCount=$('#ulinvestment').find('.rowInvestment').length;
} 
```

我的控制器功能包含

```
function input(parameter //i want to pass $rowcount value here ){
$this->load->helper('form');
$this->load->helper('html');
$this->load->model('mod_user');
$this->mod_user->insertdata();
 } 
```

我想访问`$rowCount`控制器函数中的变量，我该怎么做？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-02T01:31:34.063

只是为了确保我理解你，你正试图将一个变量从 javascript 传递给 CodeIgniter 的控制器函数，对吗？

如果这是您的情况（希望是），那么您可以使用 AJAX，或制作锚链接。

首先，您将使用[URI 类](http://ellislab.com/codeigniter/user-guide/libraries/uri.html)，特别是`segment()`函数。

假设这是您的控制器：

```
class MyController extends CI_Controller
{
    function input(){
    $parameter = $this->uri->segment(3);//assuming this function is accessable through MyController/input

    $this->load->helper('form');
    $this->load->helper('html');
    $this->load->model('mod_user');
    $this->mod_user->insertdata();
    }
} 
```

现在使用 javascript，您可以制作锚标记或使用 AJAX：

**方法1：**通过制作锚标签：

```
<a href="" id="anchortag">Click me to send some data to MyController/input</a>

<script>

var $rowCount=0;
function invest() {
  $rowCount=$('#ulinvestment').find('.rowInvestment').length;
}
$('#anchortag').prop('href', "localhost/index.php/MyController/input/"+$rowCount);
</script> 
```

**方法2：**通过使用AJAX：

```
var $rowCount=0;
function invest() {
  $rowCount=$('#ulinvestment').find('.rowInvestment').length;
}
//Send AJAX get request(you can send post requests too)
$.get('localhost/index.php/MyController/input/'+$rowCount); 
```

# vb.net - 使脚本刷新（自动点击器）

> ID：15716271
> 
> 赞同：0
> 
> 时间：2013-03-30T07:45:18.893
> 
> 标签：vb.net, browser, refresh

我最近创建了一个脚本，该脚本在发布时不断尝试声明 xbox 玩家标签（xbox id）（由于 xbox 释放了原始的非活动帐户，我试图自动捕获其中的一些，而不必每天都尝试，是的，这个他们的 ToS 是合法的/罚款）。我创建了一个工作脚本，该脚本实际上每隔一秒左右就会一遍又一遍地声明这些名称。它是成功的，但是在让脚本运行大约 30 分钟后，它变得没有响应。我不是 100% 确定为什么，但我最好的选择是我需要每隔几秒刷新一次页面。所以我添加了一个名为 RefreshPage 的新计时器，它的作用是将页面设置为以特定间隔刷新。所以我修改了我的按钮“Turbo”（在应用程序上），它快速点击它，但现在它也设置为刷新。

```
Private Sub Button1_Click_1(ByVal sender As System.Object, ByVal e As System.EventArgs) Handles Button1.Click
    If RadioButton1.Checked = True Then
        Timer1.Interval = 40
    ElseIf RadioButton2.Checked = True Then
        Timer1.Interval = 100
    Else
        Timer1.Interval = 500
    End If

    Timer1.Enabled = True
    RefreshPage.Enabled = True

    WebBrowser1.Document.GetElementById("NewGamertag").SetAttribute("value", txtTurbo.Text)

End Sub 
```

在我的 RefreshPage 计时器下，我有

```
 Private Sub RefreshPage_Tick(ByVal sender As System.Object, ByVal e As System.EventArgs) Handles RefreshPage.Tick
    WebBrowser1.Refresh()
 End Sub 
```

现在我不确定为什么这不起作用，但如果我不得不猜测我得到的错误（[http://gyazo.com/cfc3d673573d725042e3acc7142a53b9](http://gyazo.com/cfc3d673573d725042e3acc7142a53b9)）我会说这可能是因为它试图在尝试刷新页面时自动单击提交按钮，这显然会导致问题。我能想到的唯一解决方案是仅在页面加载时自动单击而不刷新？我不知道，如果有人可以提供帮助，那将非常有帮助。

编辑：抱歉，如果此页面不容易阅读，但我还将包括程序的外观： http: [//gyazo.com/980de035b3b1f43055aeb0a50cd0b5d5](http://gyazo.com/980de035b3b1f43055aeb0a50cd0b5d5)如您所见，脚本登录到 xbox，然后进行更改名称页面，我可以在其中不断声明准备发布的新玩家代号。在程序中，我将要自动单击的名称放入（RJ）中，但是一旦我点击 Turbo，它就会变得无响应。

另外，如果这有帮助，这是我的完整源代码： pastebin 。com/6ZJ2z4UU

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-30T07:49:43.987

然后将 DocumentCompleted 事件添加到您的 WebBrowser 控件。

MSDN 有一个例子：http: [//msdn.microsoft.com/en-us/library/system.windows.forms.webbrowser.documentcompleted.aspx](http://msdn.microsoft.com/en-us/library/system.windows.forms.webbrowser.documentcompleted.aspx)

# wordpress - WordPress 向媒体上传器添加上下文

> ID：15716273
> 
> 赞同：6
> 
> 时间：2013-03-30T07:45:22.217
> 
> 标签：wordpress

我正在为最新版本的 WordPress (3.5.1) 中的自定义帖子类型实现自定义媒体上传器。

我有一个简单的媒体上传器版本，使用以下 JS 附加到我的自定义媒体按钮，该按钮通过 media_buttons 操作注入。

```
jQuery(document).ready(function($) {

(function() {
   var file_frame = false;

    $('.vp-upload-product').click(function(e) {
        event.preventDefault();

        if(!file_frame) {
            file_frame = wp.media.frames.file_frame = wp.media({
                title: $(this).data( 'uploader_title' ),
                button: {
                    text: jQuery( this ).data( 'Upload' )
                },
                multiple: false
            });
        }

        file_frame.open();
    });

    })();
}); 
```

**问题：** 我只想在使用这个特定的媒体上传器时将文件发送到服务器上的不同目录。我不希望这种帖子类型的所有上传甚至某种类型的文件类型都发生这种情况。

我正在使用`'upload_dir'`过滤器，但我不知道如何为该函数获取一些可用的上下文，所以我知道它是从哪里调用的。一个 GET 参数就足够了。

我确实找到了一些这样的东西：[http](http://shibashake.com/wordpress-theme/how-to-hook-into-the-media-upload-popup-interface) ://shibashake.com/wordpress-theme/how-to-hook-into-the-media-upload-popup-interface但他们使用的是我上传的旧媒体看。

任何建议都会很棒。

# iphone - 如何检查以 WhiteSpace 开头的特定 UItextFiled

> ID：15716275
> 
> 赞同：1
> 
> 时间：2013-03-30T07:45:47.053
> 
> 标签：iphone, ios, objective-c

嗨，我只是在验证`UITextFiled`它是否以 WhiteSpace 开头。例如，我`New York`在 UITextFild 中输入城市名称，如贝娄图像：-

![在此处输入图像描述](../Images/213da56d0157b3dad4b73ce8d0a0ae75.png)

如上`TextFiled` 包含 6 个空格 之前`New York`。所以我想检查用户不能在 Word 之前输入添加空格，但它允许在两个单词之间输入句子的空格。

我正在使用波纹管代码来检查空白。

```
NSCharacterSet *whitespace = [NSCharacterSet whitespaceAndNewlineCharacterSet];
NSRange range =[txtCityName.text rangeOfCharacterFromSet:whitespace]; 

if(range.location != NSNotFound )
{
    NSLog(@"hi ==%@",Whitespace Found);

}
else
{
    NSLog(@"hi ==%@",Whitespace Not Found);
} 
```

上面的代码检查全文是否`TextFiled`包含空格，但我只想检查句子的开头并检查句子结尾是否包含空格。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-30T08:48:36.520

只需放在 textfiled 的委托方法下方。使用下面的代码

```
- (BOOL)textField:(UITextField *)textField shouldChangeCharactersInRange:(NSRange)range replacementString:(NSString *)string{

    if (range.location == 0 && [string isEqualToString:@" "]) {
        return NO;
    }
    return YES;
} 
```

试试这个用户不能在句子开始时插入空格

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-30T07:55:34.550

你可以检查它

```
 NSCharacterSet *whitespace = [NSCharacterSet whitespaceAndNewlineCharacterSet]; 
```

&如果你想从你的字符串中删除它，你需要进行以下工作

```
 <NEW STRING> = [<STRING_CONTAINS WHITESPACE> stringByTrimmingCharactersInSet:whitespace];
 NSLog("String without white space = %@",NEW STRING); 
```

享受编程！

# php - Laravel 中的错误“找不到函数‘mb_output_handler’”

> ID：15716277
> 
> 赞同：2
> 
> 时间：2013-03-30T07:46:24.500
> 
> 标签：php, laravel

当我在 php laravel 3.2 项目文件夹中运行以下命令时

```
php artisan key:generate 
```

然后我收到这个警告

> 警告：ob_start(): 在第 32 行的 /Users/zafar/Sites/laravel-todo/laravel/core.php 中找不到函数“mb_output_handler”或函数名称无效

在我的 phpinfo.php 中，我已经启用了 mbstring。但是，当我这样做时，`php --ri mbstring`它会说`Extension 'mbstring' not present.`。我怎么解决这个问题？我使用 Mac OS X Lion 10.7.5。[我最近使用这个http://php-osx.liip.ch/](http://php-osx.liip.ch/)将我的 php 升级到了 php 5.4.13 。

**更新**

在我的 phpinfo 文件中，php 版本是`PHP Version 5.4.13`，但是当我这样做时，`php -v`它显示以下输出

```
PHP 5.4.11 (cli) (built: Jan 26 2013 20:10:19) 
Copyright (c) 1997-2013 The PHP Group
Zend Engine v2.4.0, Copyright (c) 1998-2013 Zend Technologies 
```

**更新 2**

当我运行时`php -i`，它显示以下输出

```
phpinfo()
PHP Version => 5.4.11

System => Darwin Zafars-MacBook-Pro.local 11.4.2 Darwin Kernel Version 11.4.2: Thu Aug 23 16:25:48 PDT 2012; root:xnu-1699.32.7~1/RELEASE_X86_64 x86_64
Build Date => Jan 26 2013 20:09:37
Configure Command =>  './configure' 
Server API => Command Line Interface
Virtual Directory Support => disabled
Configuration File (php.ini) Path => /usr/local/lib
Loaded Configuration File => /usr/local/lib/php.ini
Scan this dir for additional .ini files => (none)
Additional .ini files parsed => (none)
PHP API => 20100412
PHP Extension => 20100525
Zend Extension => 220100525
Zend Extension Build => API220100525,NTS
PHP Extension Build => API20100525,NTS
Debug Build => no
Thread Safety => disabled
Zend Signal Handling => disabled
Zend Memory Manager => enabled
Zend Multibyte Support => disabled
IPv6 Support => enabled
DTrace Support => disabled

Registered PHP Streams => php, file, glob, data, http, ftp, phar
Registered Stream Socket Transports => tcp, udp, unix, udg
Registered Stream Filters => convert.iconv.*, string.rot13, string.toupper, string.tolower, string.strip_tags, convert.*, consumed, dechunk

This program makes use of the Zend Scripting Language Engine:
Zend Engine v2.4.0, Copyright (c) 1998-2013 Zend Technologies

 _______________________________________________________________________

Configuration

Core

PHP Version => 5.4.11

Directive => Local Value => Master Value
allow_url_fopen => On => On
allow_url_include => Off => Off
always_populate_raw_post_data => Off => Off
arg_separator.input => & => &
arg_separator.output => & => & 
```

当我这样做时，`which php`它给了我这条路径`/usr/local/bin/php`，然后我做了`/usr/local/bin/php -i`，这给了我以下输出

```
 phpinfo()
PHP Version => 5.4.11

System => Darwin Zafars-MacBook-Pro.local 11.4.2 Darwin Kernel Version 11.4.2: Thu Aug 23 16:25:48 PDT 2012; root:xnu-1699.32.7~1/RELEASE_X86_64 x86_64
Build Date => Jan 26 2013 20:09:37
Configure Command =>  './configure' 
Server API => Command Line Interface
Virtual Directory Support => disabled
Configuration File (php.ini) Path => /usr/local/lib
Loaded Configuration File => /usr/local/lib/php.ini
Scan this dir for additional .ini files => (none)
Additional .ini files parsed => (none)
PHP API => 20100412
PHP Extension => 20100525
Zend Extension => 220100525
Zend Extension Build => API220100525,NTS
PHP Extension Build => API20100525,NTS
Debug Build => no
Thread Safety => disabled
Zend Signal Handling => disabled
Zend Memory Manager => enabled
Zend Multibyte Support => disabled
IPv6 Support => enabled
DTrace Support => disabled

Registered PHP Streams => php, file, glob, data, http, ftp, phar
Registered Stream Socket Transports => tcp, udp, unix, udg
Registered Stream Filters => convert.iconv.*, string.rot13, string.toupper, string.tolower, string.strip_tags, convert.*, consumed, dechunk

This program makes use of the Zend Scripting Language Engine:
Zend Engine v2.4.0, Copyright (c) 1998-2013 Zend Technologies

 _______________________________________________________________________

Configuration

Core

PHP Version => 5.4.11

Directive => Local Value => Master Value
allow_url_fopen => On => On
allow_url_include => Off => Off
always_populate_raw_post_data => Off => Off
arg_separator.input => & => & 
```

**更新 3**

当我运行时，`/usr/local/php5/bin/php -i`我得到以下输出

PHP 警告：PHP 启动：无法加载动态库 '/usr/local/php5/lib/php/extensions/no-debug-non-zts-20100525/php-mbstring.dll' - dlopen(/usr/local/php5 /lib/php/extensions/no-debug-non-zts-20100525/php-mbstring.dll, 9)：在第 0 行的未知中找不到图像

```
Warning: PHP Startup: Unable to load dynamic library '/usr/local/php5/lib/php/extensions/no-debug-non-zts-20100525/php-mbstring.dll' - dlopen(/usr/local/php5/lib/php/extensions/no-debug-non-zts-20100525/php-mbstring.dll, 9): image not found in Unknown on line 0
phpinfo()
PHP Version => 5.4.13

System => Darwin Zafars-MacBook-Pro.local 11.4.2 Darwin Kernel Version 11.4.2: Thu Aug 23 16:25:48 PDT 2012; root:xnu-1699.32.7~1/RELEASE_X86_64 x86_64
Build Date => Mar 19 2013 17:10:14
Configure Command =>  './configure'  '--prefix=/usr/local/php5' '--with-apxs2=/usr/sbin/apxs' '--with-config-file-scan-dir=/usr/local/php5/php.d' '--with-openssl=/usr' '--with-zlib=/usr' '--with-zlib-dir=/usr' '--with-gd' '--with-ldap' '--with-xmlrpc' '--enable-exif' '--enable-soap' '--enable-sqlite-utf8' '--enable-wddx' '--enable-ftp' '--enable-sockets' '--with-bz2=/usr' '--enable-zip' '--enable-shmop' '--enable-sysvsem' '--enable-sysvshm' '--enable-sysvmsg' '--enable-mbstring' '--enable-bcmath' '--enable-calendar' '--with-iodbc' '--with-mhash' '--enable-fpm' '--with-mysql=mysqlnd' '--with-mysqli=mysqlnd' '--with-pdo-mysql=mysqlnd' '--enable-pcntl' '--enable-dtrace' '--with-iconv=/usr/local/php5' '--with-icu-dir=/usr/local/php5' '--with-mssql=shared,/usr/local/php5' '--with-pdo-dblib=shared,/usr/local/php5' '--with-libxml-dir=shared,/usr/local/php5' '--with-xsl=shared,/usr/local/php5' '--with-imap=../imap-2007f' '--with-kerberos=/usr' '--with-imap-ssl=/usr' '--with-gettext=/usr/local/php5' '--with-curl=shared,/usr/local/php5' '--with-png-dir=/usr/local/php5' '--with-jpeg-dir=/usr/local/php5' '--enable-gd-native-ttf' '--with-freetype-dir=/usr/local/php5' '--with-pgsql=shared,/usr/local/php5' '--with-pdo-pgsql=shared,/usr/local/php5' '--with-mcrypt=shared,/usr/local/php5' '--with-tidy=/usr/local/php5' '--with-gmp=shared,/usr/local/php5' '--with-readline=shared,/usr/local/php5'
Server API => Command Line Interface
Virtual Directory Support => disabled
Configuration File (php.ini) Path => /usr/local/php5/lib
Loaded Configuration File => /usr/local/php5/lib/php.ini
Scan this dir for additional .ini files => /usr/local/php5/php.d
Additional .ini files parsed => /usr/local/php5/php.d/10-extension_dir.ini,
/usr/local/php5/php.d/50-extension-apc.ini,
/usr/local/php5/php.d/50-extension-curl.ini,
/usr/local/php5/php.d/50-extension-gmp.ini,
/usr/local/php5/php.d/50-extension-igbinary.ini,
/usr/local/php5/php.d/50-extension-intl.ini,
/usr/local/php5/php.d/50-extension-mcrypt.ini,
/usr/local/php5/php.d/50-extension-memcache.ini,
/usr/local/php5/php.d/50-extension-memcached.ini,
/usr/local/php5/php.d/50-extension-mongo.ini,
/usr/local/php5/php.d/50-extension-mssql.ini,
/usr/local/php5/php.d/50-extension-oauth.ini,
/usr/local/php5/php.d/50-extension-pdo_dblib.ini,
/usr/local/php5/php.d/50-extension-pdo_pgsql.ini,
/usr/local/php5/php.d/50-extension-pgsql.ini,
/usr/local/php5/php.d/50-extension-readline.ini,
/usr/local/php5/php.d/50-extension-solr.ini,
/usr/local/php5/php.d/50-extension-twig.ini,
/usr/local/php5/php.d/50-extension-uploadprogress.ini,
/usr/local/php5/php.d/50-extension-xdebug.ini,
/usr/local/php5/php.d/50-extension-xhprof.ini,
/usr/local/php5/php.d/50-extension-xsl.ini,
/usr/local/php5/php.d/99-liip-developer.ini

PHP API => 20100412
PHP Extension => 20100525 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-30T08:53:00.233

啊，从您引用[的文档中：](http://php-osx.liip.ch/#faq)

> php-osx 不会覆盖 Apple 安装的 php 二进制文件，而是将所有内容安装在 /usr/local/php5 中。因此，新的 php 二进制文件位于 /usr/local/php5/bin/php 中。

尝试`/usr/local/php5/bin/php -i`在你的控制台上运行，看看你已经安装了什么。

# javascript - google searchnearby api 没有给出观光的结果。为什么？

> ID：15716279
> 
> 赞同：-1
> 
> 时间：2013-03-30T07:46:44.333
> 
> 标签：javascript, google-maps, google-maps-api-3

我在搜索 google searchNearBy API 中的 searchNearBy 地点时（链接由 google 提供的所有地点，链接：[https](https://developers.google.com/places/documentation/supported_types) ://developers.google.com/places/documentation/supported_types ）

我的代码工作正常。但是当我搜索观光或“床和饮料”时，我没有得到任何结果。但是当我在 maps.google.com 中搜索这些东西时，谷歌会给我结果。

有谁能够帮助我？这是我的代码：-

```
<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>Google Maps JavaScript API v3 Example: Place Search</title>
<script src="https://maps.googleapis.com/maps/api/js?    v=3.exp&sensor=true&libraries=places"></script>

<style>
  #map {
    height: 400px;
    width: 600px;
    border: 1px solid #333;
    margin-top: 0.6em;
  }
</style>

<script>
  var map;
  var infowindow;

  function initialize() {
    var pyrmont = new google.maps.LatLng(-33.8665433, 151.1956316);

    map = new google.maps.Map(document.getElementById('map'), {
      mapTypeId: google.maps.MapTypeId.ROADMAP,
      center: pyrmont,
      zoom: 15
    });

    var request = {
      location: pyrmont,
      radius: 500,
      types: ['store']
    };
    infowindow = new google.maps.InfoWindow();
    var service = new google.maps.places.PlacesService(map);
    service.nearbySearch(request, callback);
  }

  function callback(results, status) {
    if (status == google.maps.places.PlacesServiceStatus.OK) {
      for (var i = 0; i < results.length; i++) {
        createMarker(results[i]);
      }
    }
  }

  function createMarker(place) {
    var placeLoc = place.geometry.location;
    var marker = new google.maps.Marker({
      map: map,
      position: place.geometry.location
    });

    google.maps.event.addListener(marker, 'click', function() {
      infowindow.setContent(place.name);
      infowindow.open(map, this);
    });
  }

  google.maps.event.addDomListener(window, 'load', initialize);
 </script>
 </head>
 <body>
  <div id="map"></div>
  <div id="text">

 </body>
 </html> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-30T22:09:39.843

您需要使用[TextSearch](https://developers.google.com/maps/documentation/javascript/places#TextSearchRequests)来获得这些结果。

[床和饮料](http://www.geocodezip.com/v3_GoogleEx_places-searchboxC.html?q=bed%20and%20drinks)

[观光](http://www.geocodezip.com/v3_GoogleEx_places-searchboxC.html?q=sightseeing)

# gwt - 将 acceleo 与 jboss erai 和 gwt 集成

> ID：15716281
> 
> 赞同：0
> 
> 时间：2013-03-30T07:46:57.553
> 
> 标签：gwt, jboss, emf, acceleo, errai

我必须使用 GWT 在 jboss erai 中创建一个项目，但我想使用 eclipse 建模框架 .ecore 模型使用 acceleo 生成我的模型代码。我做过这些事情。

1.  使用命令创建 maven 项目

mvn archetype:generate -DarchetypeGroupId=org.jboss.errai.archetypes -DarchetypeArtifactId=cdi-quickstart -DarchetypeVersion=2.2.0.Final

1.  将项目导入 Eclipse 作为现有的 Maven 项目。

2.  转到 Acceleo-> 将项目转换为 Acceleo 生成器项目，但一无​​所获。

3.  然后我去 Acceleo->Convert to Acceleo MTL Projects 并创建了一个新的 acceleo 项目并使用 .ecore 模型为我以前的项目生成了模型，但是在模型类中出现错误，因为我在 String 和其他也作为 E-datatype 获取 EString ，请提出解决方案，我如何在我的 jboss errai maven 项目中使用 acceleo 功能。

我的模板文件如下：

```
[comment encoding = UTF-8 /]
[module main('http://www.eclipse.org/emf/2002/Ecore')  ]

[template public generateElement(anEClass : EClass)]
[comment @main /]
[file (anEClass.name.concat('.java'), false, 'UTF-8')]
    public class [anEClass.name.toUpperFirst()/]{
[ for (p:EAttribute|anEClass.eAttributes) separator('\n')]
private [p.eAttributeType.name/] [p.name/];
[/for]

[ for (p:EAttribute|anEClass.eAttributes)  separator('\n')]
public  [p.eAttributeType.name/]  get[p.name.toUpperFirst()/]()
{

    return this.[p.name/];

}
[/for]

[ for (p:EAttribute|anEClass.eAttributes) separator('\n')]
public  void set[p.name.toUpperFirst()/]([p.eAttributeType.name/] [p.name/])
{
 this.[p.name/]=[p.name/];
}
[/for]

[protected ('protected')]

[/protected]

}

[/file]
[/template] 
```

从 .ecore 模型生成的模型之一是

```
public class UserRegistration {
    private EString strFirstName;
    private EString strSurName;
    private EString strOccupation;
    private EString strQualificaion;
    private EString strFotherName;
    private EString strMotherName;
    private EEList chMaritalStatus;
    private EDouble dblAnnualIncome;
    private EDate dtDOB;
    private EString strAbout;
    private EJavaClass objAcceleo;

    public EString getStrFirstName() {
        return this.strFirstName;
    }

    public EString getStrSurName() {
        return this.strSurName;
    }

    public EString getStrOccupation() {
        return this.strOccupation;
    }

    public EString getStrQualificaion() {
        return this.strQualificaion;
    }

    public EString getStrFotherName() {
        return this.strFotherName;
    }

    public EString getStrMotherName() {
        return this.strMotherName;
    }

    public EEList getChMaritalStatus() {
        return this.chMaritalStatus;
    }

    public EDouble getDblAnnualIncome() {
        return this.dblAnnualIncome;
    }

    public EDate getDtDOB() {
        return this.dtDOB;
    }

    public EString getStrAbout() {
        return this.strAbout;
    }

    public EJavaClass getObjAcceleo() {
        return this.objAcceleo;
    }

    public void setStrFirstName(EString strFirstName) {
        this.strFirstName = strFirstName;
    }

    public void setStrSurName(EString strSurName) {
        this.strSurName = strSurName;
    }

    public void setStrOccupation(EString strOccupation) {
        this.strOccupation = strOccupation;
    }

    public void setStrQualificaion(EString strQualificaion) {
        this.strQualificaion = strQualificaion;
    }

    public void setStrFotherName(EString strFotherName) {
        this.strFotherName = strFotherName;
    }

    public void setStrMotherName(EString strMotherName) {
        this.strMotherName = strMotherName;
    }

    public void setChMaritalStatus(EEList chMaritalStatus) {
        this.chMaritalStatus = chMaritalStatus;
    }

    public void setDblAnnualIncome(EDouble dblAnnualIncome) {
        this.dblAnnualIncome = dblAnnualIncome;
    }

    public void setDtDOB(EDate dtDOB) {
        this.dtDOB = dtDOB;
    }

    public void setStrAbout(EString strAbout) {
        this.strAbout = strAbout;
    }

    public void setObjAcceleo(EJavaClass objAcceleo) {
        this.objAcceleo = objAcceleo;
    }

    //Start of user code protected
    //End of user code
} 
```

在这里，我将 EString 代替 String 和其他原始数据类型作为 E-Data 类型。

请提出一个解决方案我怎样才能获得相同的java数据和其他处理器

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-04T15:46:50.173

Actually I got the core answer for my question I just modified in my mtl file

```
[comment encoding = UTF-8 /]
[module main('http://www.eclipse.org/emf/2002/Ecore')/]  
[template public generateElement(anEClass : EClass)]
[comment @main /]
[file (anEClass.name.concat('.java'), false, 'UTF-8')]
package com.garvityWeb.main.migrated.models;
@Portable
public class [anEClass.name.toUpperFirst()/]
{
[ for (p:EAttribute|anEClass.eAttributes) separator('\n')]
@Inject
@DataField
private [p.eAttributeType.instanceClassName/] [p.name/];
[/for]

[ for (p:EAttribute|anEClass.eAttributes)  separator('\n')]
public  [p.eAttributeType.instanceClassName/]  get[p.name.toUpperFirst()/]()
{
    return this.[p.name/];
}
[/for]
[ for (p:EAttribute|anEClass.eAttributes) separator('\n')]
public  void set[p.name.toUpperFirst()/]([p.eAttributeType.instanceClassName/] [p.name/])
{
 this.[p.name/]=[p.name/];
}
[/for]
}
[/file]
[/template] 
```

# command-line - 将安装路径传递给安装程序

> ID：15716285
> 
> 赞同：2
> 
> 时间：2013-03-30T07:47:34.523
> 
> 标签：command-line, installation

哪个安装程序生成器可以创建一个接受命令行参数中的安装路径的 Setup.exe？

我需要创建一个静默运行并接受命令行参数中的安装路径的安装程序。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-02T21:32:49.080

如果您想要更容易学习的东西，您可以尝试[Advanced Installer](http://www.advancedinstaller.com/user-guide/tutorial-simple.html)，它带有一个免费版本，可以创建“简单”项目类型，并以 MSI 作为输出，可以应用上述命令行。它基于 GUI，因此您不需要编写项目脚本，但它也支持命令行构建。

**编辑**

Advanced Installer 使用 APPDIR 属性来存储/设置 MSI 的安装路径，所以你需要这个命令行：

> msiexec /i setup.msi /qn APPDIR="C:\Program Files\My Company\My App"

确保从使用“以管理员身份运行”选项启动的提升的 cmd.exe 运行它，如果您在每台机器上安装软件包，则使用命令行，否则它将失败。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-30T08:03:07.360

windows MSI 格式具有此功能。你可以通过命令行传入参数`msiexec`。

```
msiexec /i installer.msi /qn PARAMETER=foo 
```

这些参数之一将是安装路径。

[您可以使用免费的WiX 工具包](http://wixtoolset.org/)构建 MSI 。WiX 确实很强大，但由于它是 XML 驱动的，它确实有一些陡峭的学习曲线（可能在你相当称职之前几天）。如果您可以访问 Visual Studio，那将有很大帮助。

# google-drive-api - How can I selectively enable a 3rd party drive SDK based application for a domain?

> ID：15716288
> 
> 赞同：1
> 
> 时间：2013-03-30T07:47:47.313
> 
> 标签：google-drive-api

I am developing an application using the Drive API, and only want that app to be selectively whitelisted rather than all 3rd party Drive API based apps.

Is there a way to whitelist the app without listing it in the enterprise apps marketplace?

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-02T17:44:24.623

Currently there is no way to whitelist specific apps for a domain. Good feature request though.

# java - Disable package explorer navigation feature (Eclipse) when opening class definition

> ID：15716290
> 
> 赞同：0
> 
> 时间：2013-03-30T07:47:55.610
> 
> 标签：java, eclipse, editor

I have been looking for this answer in many forums and Eclipses help pages but believe or not i could not find an answer. I just switched from NetBeans to Eclipse, all is working fine beside one very annoying thing, when i open a class definition in a new editor tab (ctrl+click), Eclipse will also go to that class in the package explorer, i dont want this, the package explorer has to stay as it is, does someone knows how to disable this feature?

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-30T08:26:01.997

Look for a button in the Package Explorer's toolbar named "Link with Editor" and toggle it off.

# ios - 想要获得像在 iphone 中打开相机快门一样的动画

> ID：15716294
> 
> 赞同：0
> 
> 时间：2013-03-30T07:48:58.853
> 
> 标签：ios, uiimageview, uiviewanimation, uiactivityindicatorview, caanimation

我正在根据要求制作基于摄影的应用程序，我必须在菜单中显示所有进度或活动指示器，以使其看起来像打开相机快门。

如需更好的解释，请参阅附图。

![在此处输入图像描述](../Images/4988b95846743ae08b1a38056872c43b.png)

如图所示，在加载关闭的相机快门时应旋转，加载后消息应在打开相机快门后出现。

请告诉我如何实现这种动画..

编辑：我从[This Question](https://stackoverflow.com/questions/13370114/shutter-animation-avfoundation-iphone)得到了一个代码。我已经像这样使用了这段代码

```
-(void)shutter
{
    CATransition *shutterAnimation = [CATransition animation];
    [shutterAnimation setDelegate:self];
    [shutterAnimation setDuration:1.5];
    shutterAnimation.timingFunction = UIViewAnimationCurveEaseInOut;
    [shutterAnimation setType:@"cameraIris"];
    [shutterAnimation setValue:@"cameraIris" forKey:@"cameraIris"];
    [shutterAnimation setRepeatDuration:4.5];
    [[[self.view viewWithTag:90] layer] addAnimation:shutterAnimation forKey:@"cameraIris"];

} 
```

但它给了我方形动画我想要这个圆形动画。见附图。

![在此处输入图像描述](../Images/08f357090a798f365c0c9a49619bc089.png)

我试图给这个层提供圆角半径，比如

```
[[[self.view viewWithTag:90] layer] setCornerRadius:75.0];//size of this view is 150X150 so i give radius 75 to make it round.
[[[self.view viewWithTag:90] layer] setBorderWidth:2.0];
[[[self.view viewWithTag:90] layer] setBorderColor:[[UIColor blackColor] CGColor]]; 
```

但是这段代码不起作用....请指导我如何制作圆形动画。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-30T08:39:15.647

使您的 SQUARE UIImageView 圆形：

```
CALayer *imageViewLayer = [imageView layer];
[imageViewLayer setMasksToBounds:YES];
[imageViewLayer setCornerRadius:imageView.frame.size.height/2]; 
```

# matlab - Matlab中的频谱图（窄带，宽带）代码

> ID：15716297
> 
> 赞同：0
> 
> 时间：2013-03-30T07:49:16.153
> 
> 标签：matlab, spectrogram

我想要演示频谱图、窄带和宽带的代码。

我知道有一个功能'specgram'。

```
specgram(signal, nfft, fs, window, nooverlap); 
```

但我的问题是，窄带和宽带频谱图中参数“window”、“nooverlap”和“nfft”的值应该是多少。

信号和 fs 将来自

```
[signal, fs, bits]=wavread('wavfile.wav'); 
```

其他人呢？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-30T08:27:24.117

nfft = 是 2 的幂，fft 的长度可以是 512、1024 等

window 是最大长度 nfft 的周期性 Hann (Hanning) 窗口，内置 Matlab 函数

numoverlap = length(window)/2 表示连续帧之间的 50% 重叠

您可能需要使用参数窗口长度

# sockets - SO_REUSEADDR 和 AF_UNIX

> ID：15716302
> 
> 赞同：26
> 
> 时间：2013-03-30T07:50:02.317
> 
> 标签：sockets, unix, posix

# 事实

在 POSIX 文档中，我看不到任何阻止将`SO_REUSEADDR`套接字选项与`AF_UNIX`UNIX 域套接字一起使用的东西。

但是，如果套接字节点已经存在，它总是会失败`bind`，并且似乎被忽略了，并且似乎需要在调用之前先取消链接文件系统上的套接字节点`bind`；简而言之，它不会重用地址。网上有很多关于这个问题的帖子，但没有一个解决方案。

# 问题

我不会坚持，如果它不起作用，它就不起作用（似乎至少在 BSD 和 Linux 系统上都是一样的），只是有一个问题：这是正常行为吗？是否有任何指针表明它应该被支持，或者相反，任何指针表明它不应该被支持？或者这是未指定的？请注意，该问题是在 POSIX 上下文中提出的，而不是在任何特定平台上下文中。

我欢迎关于此事的任何 POSIX 参考。

## 额外：一个小片段，不盲目`unlink`谁知道什么

我在网上看到了一些线程，建议`unlink`在`bind`. 我觉得这是不安全的，在这种情况下应该只取消链接已经是套接字节点的节点：例如。取消链接名为的文本文件以`mysocket`重新创建同名的套接字节点可能是错误的。为此，这里有一个小片段：

```
/* Create the socket node
 * ----------------------
 * Note `SO_REUSEADDR` does not work with `AF_UNIX` sockets,
 * so we will have to unlink the socket node if it already exists,
 * before we bind. For safety, we won't unlink an already existing node
 * which is not a socket node. 
 */

status = stat (path, &st);
if (status == 0) {
   /* A file already exists. Check if this file is a socket node.
    *   * If yes: unlink it.
    *   * If no: treat it as an error condition.
    */
   if ((st.st_mode & S_IFMT) == S_IFSOCK) {
      status = unlink (path);
      if (status != 0) {
         perror ("Error unlinking the socket node");
         exit (1);
      }
   }
   else {
      /* We won't unlink to create a socket in place of who-know-what.
       * Note: don't use `perror` here, as `status == 0` (this is an
       * error we've defined, not an error returned by a system-call).
       */
      fprintf (stderr, "The path already exists and is not a socket node.\n");
      exit (1);
   }
}
else {
   if (errno == ENOENT) {
      /* No file of the same path: do nothing. */
   }
   else {
      perror ("Error stating the socket node path");
      exit (1);
   }
}

/* … invoke `bind` here, which will create the socket node … */ 
```

* * *

## 回答 #1

> 赞同：35
> 
> 时间：2013-03-30T09:55:50.447

我只能访问一个 POSIX 规范文档，即[System Interfaces](http://pubs.opengroup.org/onlinepubs/9699919799/functions/contents.html)，所以我将从这里尽力而为。

我们的规范探险当然必须从 2.10.6[使用选项](http://pubs.opengroup.org/onlinepubs/9699919799/functions/V2_chap02.html#tag_15_10_16)开始，它定义`SO_REUSEADDR`选项如下：

> SO_REUSEADDR 选项表示用于验证 bind() 中提供的地址的规则应该允许重用本地地址。此选项的操作是特定于协议的。SO_REUSEADDR 的默认值为 off；也就是说，不允许重用本地地址。

通过将其委托给底层协议的规范，本段基本上否认了该选项真正做什么的任何规范。

[第 2.10.17 节为本地 UNIX 连接使用套接字](http://pubs.opengroup.org/onlinepubs/9699919799/functions/V2_chap02.html#tag_15_10_17)描述了创建 UNIX 域套接字的机制，但实际上它告诉我们的唯一一件事是使用什么套接字类型常量以及用于地址的结构。[结构](http://pubs.opengroup.org/onlinepubs/9699919799/basedefs/sys_un.h.html)[的文档`sockaddr_un`](http://pubs.opengroup.org/onlinepubs/9699919799/basedefs/sys_un.h.html)只告诉我们它的格式，而不是它在`bind`.

[可以理解，文档`bind`本身](http://pubs.opengroup.org/onlinepubs/9699919799/functions/bind.html#tag_16_38)与协议无关，只告诉我们地址已经在使用时会发生什么，而不是重新绑定同一个套接字有效的情况。

尽管它不是 POSIX 标准文档，但富士通有[一个关于 POSIX 套接字 API 的文档，](http://manuals.ts.fujitsu.com/file/4686/posix_s.pdf)这很有趣，因为它不是专门针对 Linux 或 BSD 的。`bind`本文档的第 2.6.4 节对 UNIX 套接字的行为有以下说明：

> 必须在`sun.sun_path`组件中指定的路径名​​在文件系统中使用`bind()`. 因此，调用的进程`bind()`必须对要写入文件的目录具有写入权限。系统不会删除该文件。因此，当不再需要它时，它应该被进程删除。

尽管这并没有`SO_REUSEADDR`特别说明，但它确实说明了 的行为`bind`是*创建*一个文件，并且绑定过程有责任在不再使用它时将其删除。

最后，本文档的描述`setsockopt`有以下几点要说`SO_REUSEADDR`：

> 指定对为 bind() 指定的地址进行有效性检查的规​​则应允许重用本地地址**，前提是协议支持这一点**。

因此，虽然这没有具体提及`AF_UNIX`，但它*确实*承认此选项不适用于所有协议。

我还发现[了一个（非权威）摘要，描述了以下用途的*预期*目的`SO_REUSEADDR`](http://www.unixguide.net/network/socketfaq/4.5.shtml)：

> 这个套接字选项告诉内核，即使这个端口很忙（处于`TIME_WAIT`状态），继续并重用它。如果它很忙，但处于另一个状态，您仍然会收到地址已在使用错误。

该`TIME_WAIT`状态主要用于面向 Internet 的套接字，以避免新程序绑定到最近被另一个程序使用的端口并无意中接收与旧程序相关的数据包。这个问题可以说不适用于 UNIX 域套接字，因为两个程序不太可能尝试在同一路径上创建一个套接字，所以如果`TIME_WAIT`没有为 UNIX 套接字实现，那么这可能是一个（近似的）解释`SO_REUSEADDR`为什么不适用于`AF_UNIX`.

# python - 将此请求与 Python httplib

> ID：15716303
> 
> 赞同：0
> 
> 时间：2013-03-30T07:50:28.263
> 
> 标签：python, rest, httplib

我想向 HDFS REST API 提出请求。

它在 RESTClient 中工作。

但是当我将它翻译成 Python 版本（python httplib）时它失败了。

由于某种原因，我不能在 Curl 中使用它。

有人知道httplib put，可以帮我翻译成Python版本吗？

这是 RESTClient 版本：

方法：放

网址：[http ://www.somedomain.com:50070/webhdfs/v1/levi/4?op=CREATE](http://www.somedomain.com:50070/webhdfs/v1/levi/4?op=CREATE)

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-30T07:57:06.823

有[要求](http://docs.python-requests.org/en/latest/)：

```
import requests
requests.put('http://www.somedomain.com:50070/webhdfs/v1/levi/4?op=CREATE') 
```

与`httplib`：

```
import httplib

connection =  httplib.HTTPConnection('www.somedomain.com:50070')
connection.request('PUT', '/webhdfs/v1/levi/4?op=CREATE')

response = connection.getresponse() 
```

# jquery - 不覆盖当前值如何在 attr 标签中添加新值

> ID：15716305
> 
> 赞同：0
> 
> 时间：2013-03-30T07:50:35.247
> 
> 标签：jquery, css, position, attr

我想知道没有覆盖当前值如何在`attr`标签中添加新值我知道这是一个典型的问题但我只问数字中的值让我解释一下我有`ul`这样的

```
<ul id="carousel" style="width: 5400px; right: -1800px; position: absolute;"> 
```

现在我想要我运行一个函数

```
setInterval(function(){ulAnimate()},200)

ul.animate({left:'-=150px'} ,opts.speed ,function(){
  ul.css(optionObjRev);
  makeClone();
}); 
```

这个函数在这个函数运行时移动`ul`位置它破坏了默认给出的旧位置我只是希望它不会破坏旧位置并将这个值添加到默认值中

看看这个小提琴 [http://jsfiddle.net/sarfarazdesigner/AkyXK/](http://jsfiddle.net/sarfarazdesigner/AkyXK/)

谢谢

# c++ - std::exception.what() 在 clang 和 gcc 上返回意外值，但在 VS11 上没有

> ID：15716306
> 
> 赞同：2
> 
> 时间：2013-03-30T07:50:39.667
> 
> 标签：c++, exception-handling, typeinfo

std::exception.what() 及其派生类返回的 C 字符串的内容是实现定义的，但 clang、gcc 和 Visual Studio 返回指示异常类名称的 C 字符串。但是当我在 clang 3.2、gcc 4.7 和 Visual Studio 2012 上运行以下代码时，我得到了奇怪的结果：

```
#include <iostream>
#include <exception>

int main(int argc, const char * argv[])
{
    try {
        throw std::bad_alloc();
    } catch (std::exception e) {
        std::cout << e.what() << std::endl;
    }

    try {
        throw std::bad_alloc();
    } catch (std::bad_alloc e) {
        std::cout << e.what() << std::endl;
    }

    return 0;
} 
```

使用 clang 和 gcc 的输出是

```
std::exception
std::bad_alloc 
```

VS11的输出是

```
bad allocation
bad allocation 
```

我的理解是 clang 和 gcc 实现了 exception::what() 类似的东西

```
const char* exception::what() const
{
    return __typename_demangle(typeid(*this).name());
} 
```

并且所有派生类都使用 what() 方法的这种实现。如果我在上面的代码**中将 e.what()**替换为**typeid(e).name()**则 clang 和 gcc 输出

```
St9exception
St9bad_alloc 
```

和 VS11 输出

```
class std::exception
class std::bad_alloc 
```

我不明白为什么两个 catch 块的 typeid 都不是 std::bad_alloc 。这种行为似乎会导致 what() 方法返回错误的值。Microsoft 必须为从 std::exception 派生的所有类创建了不同的、简单的 what() 实现，因此 VS11 不会遇到这个问题。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-30T08:10:35.677

你得到这个输出是因为在第一种情况下你创建了一个新`std::exception`对象，而在第二种情况下 - 新`std::bad_alloc`对象。相反，您应该通过引用捕获异常。以下代码应显示差异：

```
#include <iostream>
#include <string>

class Foo
{
public:
    Foo()
    {
        // std::cout << "Foo()" << std::endl;
    }

    Foo(const Foo&)
    {
        std::cout << "Foo(const Foo&)" << std::endl;
    }

    virtual ~Foo()
    {

    }

    virtual std::string what() const
    {
        return "what: Foo";
    }
};

class Bar: public Foo
{
public:
    Bar()
    {
        // std::cout << "Bar()" << std::endl;
    }

    Bar(const Bar&)
    {
        std::cout << "Bar(const Bar&)" << std::endl;
    }

    std::string what() const
    {
        return "what: Bar";
    }
};

int main()
{
    try
    {
        throw Bar();
    }
    catch(Foo f)
    {
        std::cout << f.what() << std::endl;
    }

    try
    {
        throw Bar();
    }
    catch(const Foo& f)
    {
        std::cout << f.what() << std::endl;
    }

    return 0;
} 
```

输出是

```
Foo(const Foo&)
what: Foo
what: Bar 
```

~~但是我没有VS11，所以我不能告诉你，为什么VS会产生这样的输出。如果有人能澄清这一点，那就太好了。~~

感谢@BoPersson：

> The different message in the OP's case is because VC++ implements what() by storing the message text in the exception base class. Other implementations do not.

# php - 在插入 mysql 之前添加值

> ID：15716310
> 
> 赞同：-1
> 
> 时间：2013-03-30T07:51:05.157
> 
> 标签：php, mysql

我正在尝试使用将从输入框中收集的值添加数据库中列的值。

例如：我目前在一列中有 500，我想将 500 添加到从表单（文本框）检索到的新值。

这是我的代码

```
<?php
     if (isset($_SESSION['user'])) {  
$author = $_SESSION['user'];
//echo $author;
// check if posted is sent   

if (isset($_POST['input'])) {
if (empty($_POST['name']) || empty($_POST['quantity'])) {
echo '<h4 class="alert_info">You Have Not Entered Any Value</h4>';
}      
else {
// retrievings foms data and declaring them as functions
$name = $_POST['name'];
$quantity = $_POST['quantity'];  
$amount = $_POST['amount'];
$category = $_POST['theItems'];    

// Allow apostrophe
$name2 = mysql_real_escape_string($name);
$quantity2 = mysql_real_escape_string($quantity);
$amount2 = mysql_real_escape_string($amount);
$category2 =  mysql_real_escape_string($category);
// inserting the posts 
$insert = "REPLACE INTO drinks SET
name='".$name2."', quantity=' ".$quantity2." ', amount=' ".$amount2." ', category=' ".$category2." ', date=CURDATE()";
if (@mysql_query($insert)) {
echo '<h4 class="alert_info">Drinks added</h4>';
} else {
echo 'Error adding event: ' .
mysql_error() . '';
}
} }
?> 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-30T07:59:14.797

我想你正在寻找这样的东西？

```
<?php
$val = $_POST['quantity'];
$query = "UPDATE drinks SET quantity= quantity + $val WHERE id={put current id here}";
$result = mysql_query($query);
?> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-30T07:53:23.073

使用`SELECT`查询从列中提取当前值，将该值添加到您从文本框中收到的值，然后`UPDATE`使用新值。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-30T07:55:18.643

你可以这样做：

```
update tableName set columnName = columnName+1 
```

# c# - 使用 lambda 查询获取前 5 个值

> ID：15716316
> 
> 赞同：21
> 
> 时间：2013-03-30T07:52:17.757
> 
> 标签：c#, asp.net, sql-server, linq

这是我的代码，

```
rptAnnouncement.DataSource = DbContext.Announcements
    .Where(n => n.Expire_Date.Value.Date >= DateTime.Now.Date)
    .ToList(); 
```

我使用 lambda 从数据库中获取公告数据，并将这些数据绑定到 ASP.NET repeater( `rptAnnouncement`)。

但是此查询返回所有数据，我只想获取前 5 条（前 5 条）记录，例如 MS SQL Server 的`select top 5 * from database`.

* * *

## 回答 #1

> 赞同：55
> 
> 时间：2013-03-30T07:55:13.570

您可以使用[`OrderBy()`](https://www.google.com.au/url?sa=t&rct=j&q=&esrc=s&source=web&cd=1&cad=rja&ved=0CDIQFjAA&url=http://msdn.microsoft.com/en-au/library/system.linq.enumerable.orderby.aspx&ei=hppWUeSXEurtiAfesYGACw&usg=AFQjCNHL40DuYXlcH-pcgqSuSsQ9bPJnaA&bvm=bv.44442042,d.aGc)对元素进行排序，然后[`Take()`](https://www.google.com.au/url?sa=t&rct=j&q=&esrc=s&source=web&cd=1&cad=rja&ved=0CDIQFjAA&url=http://msdn.microsoft.com/en-us/library/bb503062.aspx&ei=h5pWUbC4LuOsiAfLzIHACg&usg=AFQjCNHdOrPitywW78nbI8GqqpQjuj3KMQ&bvm=bv.44442042,d.aGc)获取前 5 个。

```
rptAnnouncement.DataSource = DbContext.Announcements
    .Where(n => n.Expire_Date.Value.Date >= DateTime.Now.Date)
    .OrderBy(n => n.Expire_Date.Value.Date)
    .Take(5); 
```

**笔记**

*   您可以使用降序排序[`OrderByDescending()`](https://www.google.com.au/url?sa=t&rct=j&q=&esrc=s&source=web&cd=1&cad=rja&ved=0CDIQFjAA&url=http://msdn.microsoft.com/en-us/library/system.linq.enumerable.orderbydescending.aspx&ei=RZ1WUfeICuW8iAe074HYDw&usg=AFQjCNFuVGwTTxwuau5LqvCuuxXz8_ldNg&bvm=bv.44442042,d.aGc)
*   呼叫[`ToList()`](https://www.google.com.au/url?sa=t&rct=j&q=&esrc=s&source=web&cd=1&cad=rja&ved=0CDIQFjAA&url=http://msdn.microsoft.com/en-us/library/bb342261.aspx&ei=ep1WUefGBauRiQe954CoDQ&usg=AFQjCNHvmnwCkNpg48rE0FN7xBPuGnYDFg&bvm=bv.44442042,d.aGc)然后呼叫[`Take()`](https://www.google.com.au/url?sa=t&rct=j&q=&esrc=s&source=web&cd=1&cad=rja&ved=0CDIQFjAA&url=http://msdn.microsoft.com/en-us/library/bb503062.aspx&ei=e51WUb7UH4muiQfvwIDIBA&usg=AFQjCNHdOrPitywW78nbI8GqqpQjuj3KMQ&bvm=bv.44442042,d.aGc)将获得所有项目，然后获得前 5 名，而不是仅获得前 5 名。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2013-03-30T07:54:59.130

如果您只想要前 5 名，则可以使用以下 .

```
rptAnnouncement.DataSource = DbContext.Announcements.Where(n => n.Expire_Date.Value.Date >= DateTime.Now.Date).Take(5).ToList(); 
```

更多细节在这里

[http://msdn.microsoft.com/en-us/library/bb503062.aspx](http://msdn.microsoft.com/en-us/library/bb503062.aspx)

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-03-30T07:56:30.180

只需`Take(n)`在`LINQ`

```
rptAnnouncement.DataSource = DbContext.Announcements
                                      .Where(n => n.Expire_Date.Value.Date >= DateTime.Now.Date)
                                      .Take(5).ToList(); 
```

# javascript - 定位 jQuery 对话框

> ID：15716317
> 
> 赞同：1
> 
> 时间：2013-03-30T07:52:28.000
> 
> 标签：javascript, jquery

我已经尝试了一百万种解决方案，但似乎都没有奏效。我只需要将我的 jQuery 对话框从页面顶部推约 50px。有什么想法吗？

```
function message() {
    $("#message").dialog({
      title: 'Title here',
      draggable:false,
      minHeight:100,
      resizable: false  
    });
 } 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-03-30T07:57:13.007

有一个[位置](http://api.jqueryui.com/dialog/#option-position)参数，它接受一个带有 X 和 Y 坐标的数组：

```
function message() {
    var myPos = [ $(window).width() / 2, 50 ];

    $("#message").dialog({
      title: 'Title here',
      draggable:false,
      minHeight:100,
      position: myPos,
      resizable: false  
    });
} 
```

[**小提琴**](http://jsfiddle.net/xbtB2/)

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2013-03-30T08:11:30.330

[就像提到](https://stackoverflow.com/a/15716354/137188)的adeneo 一样，对话框有一个`position`选项可以接受一些数据类型，包括 jQuery-UI 的精美[位置对象](http://api.jqueryui.com/position/)。

鉴于所有选项，我认为指定所需位置的最简洁明了的方法是这样的：

```
var myPos = { my: "center top", at: "center top+50", of: window }; 
```

在[jsFiddle中尝试](http://jsfiddle.net/xbtB2/1/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-30T07:57:43.870

你试过这个吗？CSS代码`.myPosition`

```
.myPosition {
    position: absolute;
    top: 20px;
} 
```

和jQuery

```
$('.selector').dialog({ dialogClass: 'myPosition' }); 
```

# algorithm - 线性时间算法来确定 DAG 是否具有可从其他每个顶点到达的顶点？

> ID：15716318
> 
> 赞同：3
> 
> 时间：2013-03-30T07:52:29.290
> 
> 标签：algorithm, graph, language-agnostic, graph-theory, directed-acyclic-graphs

我有以下作业问题： **DAG：设计一个线性时间算法 ( `O(|E|+|V|)`) 以确定 DAG 是否具有可从其他所有顶点到达的顶点，如果是，则找到一个。**

现在我解决这个问题的方法如下：->首先找到拓扑排序中最后一个顶点（称之为V）。

-> 现在，确定反向图的每个顶点是否都可以从这个顶点 V 到达。

-> 如果每个顶点都是可到达的，那么顶点 V 就是所需的顶点，否则图中没有顶点可以从其他每个顶点到达。

这种方法正确吗？

PS。这个问题的解决方案的提示说我应该计算每个顶点的出度。但我无法理解计算出度有什么帮助。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-03-30T08:19:37.347

考虑一个 arc `(u, v) ∈ E`。由于该图是非循环的，`u`因此无法从 到达`v`。因此`u`不能解决问题。由此可见，只有出度为零的顶点才能成为解。

此外，必须恰好有一个顶点的出度为零，否则问题没有解决方案。

我把剩下的留给读者练习。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2019-10-29T20:43:08.970

解决方案是计算所有顶点的出度，以查看是否有一个单一的汇顶点（出度为 0 的顶点），这是证明。

## 陈述：当且仅当存在一个出度为 0 的单个顶点时，DAG 有一个顶点可以从所有其他顶点到达。

这个陈述可以分两步来证明。

### 必要性证明：如果一个 DAG 包含一个可以从其他所有顶点到达的顶点 u，则它必须是唯一的汇顶点（出度为 0 的顶点）

*   你有 0 出度，否则循环形式，与 DAG 相矛盾。
*   不能有另一个出度为 0 的汇顶点 v，否则 u 不能从 v 到达

证明。

### Proof of sufficiency: If a DAG contains one single sink vertex u, then u should be reachable from every other vertex.

Assume there exist vertices in the DAG that can't reach u. Let's divide all vertices in the DAG into the set of vertices that can reach u ($V_y$), and those cannot reach u ($V_n$), then there do not exist any edges from vertices in $V_n$ pointing to vertices in $V_y$.

> Lemma: Any DAG must contain at least one sink vertices.

This is easy to prove by contradiction. Assume every vertex in the DAG has non-zero out-degrees, so starting from one vertex, we can keep traversing along the out-going edges of each vertex. Since DAG contains a finite number of vertices, we will return to a previously visited vertex eventually, i.e. cycle is detected, contradicting DAG definition.

Consider the graph formed by vertices in $V_n$ and edges between them, it must also be a DAG, otherwise, the original graph cannot be a DAG. Suppose v is a sink vertex in this sub-DAG, so v doesn't have any outgoing edge pointing to vertices in $V_n$.

As mentioned above, there can't be any edges from v pointing to any vertex in $V_y$ either, otherwise, v can reach u.

So the overall out-degrees of v in the original DAG is also 0, contradicting the assumption that the DAG contains a single sink vertex. Proved.

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-30T08:09:54.653

作为提示，考虑一下您可以使用通常的定义将 DAG 划分为源节点（入度 0）、中间节点和汇节点（出度 0）。

如果 DAG 确实包含这样的节点（可从其他每个顶点访问），它会是什么类型的节点？

画一个图的例子，它有两个出度为 0 的节点，每个顶点都有一个顶点可达。

# java - 将 Spring Batch 与 web 应用程序一起使用

> ID：15716320
> 
> 赞同：0
> 
> 时间：2013-03-30T07:52:41.400
> 
> 标签：java, spring, spring-mvc, spring-batch

我目前有一个用例，我需要使用 Spring Batch 从 Web 下载一系列公开可用的图像以在图像库中使用。虽然使用 Spring Batch 下载图像和相关元数据很简单，但我希望能够将这些图像下载到将使用它们的 webapp（可能使用 Spring MVC 编写）可访问的目录。我目前正在使用绝对路径来执行此操作，并且想知道 Spring 中是否有办法使用相对路径。请帮忙...

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-30T07:54:16.170

您可以将图像目录路径放在 web-app 读取的 properties / xml 配置文件中，例如，如果您将来需要重新定位，您可以更改它

# java - 如何从没有任何外部依赖关系的 java 应用程序调用 php web 服务？

> ID：15716323
> 
> 赞同：1
> 
> 时间：2013-03-30T07:53:06.310
> 
> 标签：java, web-services, jax-ws

我创建了一个非常简单的 php web 服务，它没有 WSDL。我找到了一种从 java 应用程序中调用它的方法。

```
String endpoint = "http://localhost/webser/simple_server.php";  
            Service service = new Service();
            Call call = (Call) service.createCall();
            call.setTargetEndpointAddress( new java.net.URL(endpoint) );
            call.setOperationName( new QName("urn://tyler/req") );
            String ret=(String)call.invoke("readfat",new Object[]{});
            System.out.print(ret); 
```

它工作正常并提供输出。但它需要外部 jar 文件，如**axis1-3.jar、commons-discovery、commons-logging** .....等。我想知道是否有一种方法可以在没有任何外部依赖的情况下使用 Web 服务？我的实际需要是从**Applet**使用 Web 服务。所以我不能容忍外部依赖。JAX-WS 可以用于此目的吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-30T07:57:29.467

如果您想调用 Web 服务，您可以简单地自己发出 HTTP 请求。

如果您不想要任何外部依赖项，则标准库中使用的类是[`java.net.HttpURLConnection`](http://docs.oracle.com/javase/6/docs/api/java/net/HttpURLConnection.html).

[这个问题有一个非常详细的答案，告诉你如何做到这一点。](https://stackoverflow.com/questions/2793150/how-to-use-java-net-urlconnection-to-fire-and-handle-http-requests)

# c# - WindowsForms DataGridView 速度类似于 SQL Server Management Studio

> ID：15716328
> 
> 赞同：3
> 
> 时间：2013-03-30T07:53:47.497
> 
> 标签：c#, winforms, entity-framework, ssms

有谁知道微软如何让 SQL Server Management Studio 中的 DataGridView 运行得如此之快？我正在实现一个 Windows 窗体应用程序，并且确实将我的 BindingSource 与对象绑定。后来我通过实体框架加载数据并将加载的集合设置为数据源。

但这不是重点。当我有 ~25 000 行时，滚动似乎很慢，就像在低帧速率下一样。当我从 SQL Server Management Studio 加载相同的数据时，滚动不是问题。它渲染得又快又流畅。

有没有人达到同样的表现？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-30T12:48:35.607

看看：http: [//msdn.microsoft.com/en-us/library/ms171624.aspx](http://msdn.microsoft.com/en-us/library/ms171624.aspx)

使用虚拟模式，您可以指定滚动期间的数据量。我没有使用它，但我正在研究 Grid 的编辑。

我希望这有帮助。

# ios - 从 Timer 触发 drawRect

> ID：15716331
> 
> 赞同：0
> 
> 时间：2013-03-30T07:54:04.683
> 
> 标签：ios, uiviewcontroller, uistoryboard, drawrect

我对 Xcode 相当陌生，但对编程并不陌生。

我正在使用 XCode 4.6.1 使用 Storyboard 创建一个在 iPad 上运行的应用程序。

我不熟悉NIB，只有故事板。

我的 MainViewController 需要两个功能区域 -

1.  每秒从计时器刷新 10 次的图形，模拟监视器的读数。
2.  在此下方有按钮/文本框等来更改控制图形输出的参数。

我正在尝试让计时器触发图表的刷新。我尝试添加一个 imageView（在 Storyboard 和代码中）无济于事。

我找不到实现这一点的方法，我找到了一种使用旧式 NIB 的方法。这使用 View 的 'owner' 实例，但 Storyboard 不使用 View 的 'owner' 。

viewController 是否有一些特殊之处，不允许显示此输出（在 viewController 中）？

显然我需要用 UIView 扩展我的 viewController，然后使用 setNeedDisplay 实现函数 drawRect 来重绘图形。

谁能告诉我该怎么做？

非常感谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-30T10:25:15.410

你应该'永远'尝试自己调用 drawRect 。它应该只在正确的时间由操作系统调用。它设置了一个 GraphicsContext 来绘制，还计算出要绘制的矩形以及需要绘制的其他重叠视图！

`setNeedsDisplay`而是打电话！:)

* * *

所以。例如

```
- (void) refreshTimerDidFire {
    [viewToRefresh setNeedsDisplay];
} 
```

# python - Apache 日志分析：按日期按操作系统的唯一访问者

> ID：15716336
> 
> 赞同：0
> 
> 时间：2013-03-30T07:54:56.193
> 
> 标签：python, regex, apache, awk, grep

我需要创建一份关于历史唯一访问者（由 IP 地址标识）的一次性报告，并以默认格式从 Apache 访问日志中按日期和操作系统进行组织。例子：

```
Date OS    Count
3/1 iPhone 23
3/1 Windows 402
3/2 iPhone 32
etc.. 
```

我今天尝试了许多工具（Octupussy、AWStats、goaccess、appachetop），但没有找到任何能够以这种方式分解日志的工具。操作系统报告在所有这些中都可以找到，但不是每天，而是整个日志。任何人都知道具有该功能的任何东西？

另外：我正在考虑编写一个 python 程序，它将遍历日志并使用正则表达式或系统 grep/awk 命令，但如果有一个快速工具或者 awk 可以轻松完成，我会很感激轻推。我在今天之前从未使用过 awk，但它似乎非常强大，如果我有更多经验，它可以让它变得简单。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-30T09:25:53.043

您没有在示例输出中包含 IP 地址，我正在编写输出中包含 IP 地址的答案。

`access.log`我的 apache文件的示例日志行：

```
27.0.0.1 - - [28/Oct/2012:21:38:34 +0530] "GET /phpmyadmin HTTP/1.1" 301 559 "-" "Mozilla/5.0 (X11; Linux i686) AppleWebKit/537.4 (KHTML, like Gecko) Chrome/22.0.1229.94 Safari/537.4" 
```

**要根据他们使用的操作系统获取每天唯一身份访问者的数量：**

```
awk '$6 ~ /GET/ \
{ gsub("[[]", "", $4); \ 
gsub(":.*", "", $4); \
print $1,$4,$14}' access.log | \

sort -t ' ' -k 2 | \
uniq -c|awk '{print $3,$2}'|uniq -c|awk '{print $3, $2, $1}' 
```

**以下答案适用于基于日期、每个操作系统的每个 IP 的唯一用户。**

一个从上面获得所需输出的衬垫：

```
awk '$6 ~ /GET/ \
{ gsub("[[]", "", $4); \ 
gsub(":.*", "", $4); \
print $1,$4,$14}' access.log | \

sort -t ' ' -k 2 | \
uniq -c|awk '{print $3,$2,$4,$1}' 
```

**说明**：

awk 的第一行是过滤带有`GET`请求的行。

第二条 awk 行用于删除多余的右方括号`[`。

第三行将从 apache 日志中的 datetime 字段中删除时间。

第四行打印必填字段。

第五行根据日期对输出进行排序。

最后，使用`uniq`和`awk`再次以您想要的格式打印输出。

输出：

```
28/Oct/2012 127.0.0.1 Linux 1 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-30T09:39:10.663

对于组合日志格式，您可以像这样扫描它：

```
In [1]: import re

In [2]: text = '127.0.0.1 - frank [10/Oct/2000:13:55:36 -0700] "GET /apache_pb.gif HTTP/1.0" 200 2326 "http://www.example.com/start.html" "Mozilla/4.08 [en] (Win98; I ;Nav)"'

In [3]: logitems = re.compile('^(\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}) ([^ ]*) ([^ ]*) \[([^\]]*)\] "([^"]*)" \d+ \d+ "([^"]*)" "([^"]*)"')

In [4]: logitems.findall(text)
Out[4]: [('127.0.0.1', '-', 'frank', '10/Oct/2000:13:55:36 -0700', 'GET /apache_pb.gif HTTP/1.0', 'http://www.example.com/start.html', 'Mozilla/4.08 [en] (Win98; I ;Nav)')] 
```

假设`text`包含日志文件文本，using`re.findall`将生成一个包含您想要的信息的元组列表。

假设你有这个元组列表，使用一个列表推导和一个集合来获取唯一的 IP（我在这里使用一个简单的 2 元组进行演示）：

```
In [4]: lst = [('127.0.0.1', 'foo'), ('192.168.0.1', 'bar'), ('123.022.200.023', 'baz'), ('127.0.0.1', 'double')]

In [5]: [i[0] for i in lst]
Out[5]: ['127.0.0.1', '192.168.0.1', '123.022.200.023', '127.0.0.1']

In [6]: list(set([i[0] for i in lst]))
Out[6]: ['192.168.0.1', '123.022.200.023', '127.0.0.1'] 
```

对于所有 IP 地址，您可以获得所有访问权限：

```
In [8]: [i for i in lst if i[0] == '127.0.0.1']
Out[8]: [('127.0.0.1', 'foo'), ('127.0.0.1', 'double')] 
```

[`datetime.datatime`](http://docs.python.org/2/library/datetime.html#datetime-objects)然后，您可以按日期（将其转换为！）和操作系统进一步过滤。

# soap - SOAP 超级加密 WS-Policy

> ID：15716343
> 
> 赞同：3
> 
> 时间：2013-03-30T07:55:38.300
> 
> 标签：soap, axis2, ws-security, rampart

我想对我的 SOAP 消息的正文进行两次加密（超级加密）。我将 Axis2 与 Rampart 一起使用。

我正在尝试更改此方案的策略以对其进行两次加密。

我在看这部分（不知道这是否有意义）：

```
...
<sp:EncryptedParts>
    <sp:Body/>
</sp:EncryptedParts>
... 
```

我试过了：

```
...
<sp:EncryptedParts>
    <sp:EncryptedParts>
        <sp:Body/>
    </sp:EncryptedParts>
</sp:EncryptedParts>
... 
```

这给了我一个错误：“发现意外的加密数据，不需要加密”

我也试过：

```
 ...
 <sp:EncryptedParts>        
     <sp:Body/>
     <sp:EncryptedData/>
 </sp:EncryptedParts>
 ... 
```

有人知道该怎么做吗？它甚至不必通过策略：我只需要发生这种情况并被服务器接受以进行测试。

# android - 直接在 Android 设备而不是模拟器上运行我们的应用程序

> ID：15716345
> 
> 赞同：-2
> 
> 时间：2013-03-30T07:56:18.177
> 
> 标签：android

我正在开发 4.0 版的 Android 应用程序。在模拟器上运行此应用程序时，它可以完美运行。但是将其转换为 apk，然后将其安装为 micromax funbook，其设计模式与模拟器不同。因此，每次使用 apk 都很难检查 funbook。

所以我决定直接在 funbook 而不是模拟器中运行应用程序。所以我在网上搜索，看看是否有任何选项将我们的设备配置为 Eclipse。我发现，答案是肯定的，我们可以。但问题是谷歌提供的硬件[驱动](http://developer.android.com/tools/extras/oem-usb.html#Drivers)列表没有考虑到micromax funbook。[然后我从这个](http://forum.xda-developers.com/showthread.php?t=1662010)论坛找到了如何使用 eclipse 配置 micromax funbook 。

在我按照该论坛提供的说明进行操作后`select 2 to reboot into recovery`，`error: device not found`即使我将设备连接到`USB`. 所以我的问题是：有没有用我们的开发 Eclipse 配置 micromax funbook？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-30T08:02:09.313

跑步时会出现`adb devices`吗？有关正在发生的事情或您已经完成的事情的任何其他信息也会有所帮助。

正如您所说，Eclipse 没有内置驱动程序；但是您可以通过编写一个调用 Ant 并进行构建、签名和对齐的 Bash 脚本来轻松地自动化它，然后使用 ADB 推送 APK 并安装它。如果这超出了您的想象，请不要担心：只需查找文档即可。[特别是开发网站](http://developer.android.com)上的入门教程中的构建部分。

此外，您链接到的论坛页面用于生根设备。您无需这样做即可将其用作开发设备。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-30T08:04:22.487

你要root你的设备并在那里犯了一些错误，这就是你的funbook中出现错误的原因？您需要首先正确地植根您的设备。然后与eclipse集成..

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-30T08:05:48.653

试试这个，杀死你的 android 调试桥并再次启动 adb。

```
 root@ndot-169:~/android-sdks/platform-tools# ./adb kill-server
 root@ndot-169:~/android-sdks/platform-tools# ./adb start-server
 * daemon not running. starting it now on port 5037 *
 * daemon started successfully * 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-30T08:48:48.313

只需通过 USB 将 Micromax funbook 插入计算机即可。

启用“ **USB 调试**”从

```
'System Settings -> Developer Options -> USB Debugging 
```

然后从 Eclipse 运行你的应用程序，它会要求你运行模拟器。选择您的手机作为模拟器，该应用程序将直接在 Android 设备上运行。

# xcode - 尝试将 xcode 与 pascal 语言一起使用

> ID：15716349
> 
> 赞同：0
> 
> 时间：2013-03-30T07:56:30.567
> 
> 标签：xcode, pascal

我想学习帕斯卡语言，因为我目前正在使用 xcode。II 安装了Free Pascal，但现在我不知道如何在xcode 中打开一个文件。事实上，我只会写一个简单的程序，看看我的错误。我打开了 FPC Carbon，但我不知道接下来要做什么。

此致

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-30T15:51:16.047

请参阅此页面上的 XCode 模板：

[http://dl.dropbox.com/u/28343282/ObjP/index.html](http://dl.dropbox.com/u/28343282/ObjP/index.html)

# android - 在模拟器中使用日历

> ID：15716355
> 
> 赞同：0
> 
> 时间：2013-03-30T07:57:19.520
> 
> 标签：android, calendar, emulation

我是新来的，我正在尝试开发我的第一个 Android 应用程序。

现在我遇到了问题，在模拟器上（配置了 Google API 8，我想我在三星 Galaxy I9000 上也有！），我没有日历，并且联系人应用程序与我的手机上的其他应用程序不同，也...

我尝试在手机上安装相同的应用程序（使用 TitaniumBackup 备份），但收到错误 INSTALL_FAILED_DEXOPT。

由于我的应用程序应该管理日历，我需要它......

我在这个论坛上阅读了很多主题，我看到，我并不孤单遇到这个问题，但建议的解决方案对我不起作用......

或者，模拟器是否有 Galaxy I9000 的图像？

# c++ - 从向量中检索字符串

> ID：15716359
> 
> 赞同：0
> 
> 时间：2013-03-30T07:57:44.610
> 
> 标签：c++, cocos2d-x

我坚持如何从向量中检索字符串。我的代码如下。

在我的`.h`文件中：

```
vector<string>cloudsImages; 
```

在我的`.m`文件中：

```
cloudsImages = FileOperation::readFile();

for (int i = 0; i < cloudsImages.size(); i++) {

    cocos2d:: CCSprite *cloudImage = CCSprite::spriteWithSpriteFrame(CCSpriteFrameCache::sharedSpriteFrameCache()->spriteFrameByName(cloudsImages[i]));
    cloudImage -> setTag(1);
    CCSize winSize = CCDirector::sharedDirector()->getWinSize();
    cloudImage->setPosition(ccp(i,winSize.height / 2));
    this -> addChild(cloudImage);

} 
```

尝试从向量访问字符串时，出现以下错误：

> 没有可行的`std::basic_string<char>`转换`const char *`

![在此处输入图像描述](../Images/02baf4e56e2006e35a273db620a0d6e1.png)

如何从此向量中检索字符串？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-30T08:00:17.053

在这一行中，

`cocos2d:: CCSprite *cloudImage = CCSprite::spriteWithSpriteFrame(CCSpriteFrameCache::sharedSpriteFrameCache()->spriteFrameByName(cloudsImages[i]));`

而不是`cloudsImages[i]`，使用`cloudsImages[i].c_str()`. 它需要一个 const char*，这是 .c_str() 返回的内容。

所以你的线变成

`cocos2d:: CCSprite *cloudImage = CCSprite::spriteWithSpriteFrame(CCSpriteFrameCache::sharedSpriteFrameCache()->spriteFrameByName(`**cloudImages[i].c_str()**`));`

C++ 中的字符串与 C 风格的字符串略有不同。在 C 中，字符串只是一个字符数组，以空字符 '\0' 结尾。`char`例如，字符串“Hello”由长度为 6的 ' 数组表示（`char`每个字符为 1，'\0' 为 1）。

在 C++ 中，`string`类是这个基本数组的包装器。包装器允许您对字符串执行操作（例如比较两个字符串、将一个字符串替换为另一个字符串等）。该类**包含**一个 C 风格的字符串，它仅用于保存字符。

您的函数需要一个 C 风格的字符串。要从 C++ 字符串中获取它，请使用 c_str() 函数，它是 string 类的成员。

# java - 摩尔斯电码翻译

> ID：15716361
> 
> 赞同：0
> 
> 时间：2013-03-30T07:58:39.343
> 
> 标签：java, arraylist

如果我有一个包含按顺序从 A 到 Z 的摩尔斯电码字母的 ArrayList 和一个按顺序包含从 A 到 Z 的常规字母的 ArrayList，那么使用这两个 ArrayLists 获取用户输入并翻译它的最佳方法是什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-30T08:02:09.877

创建一个`Map<MorseCode, Character>`，遍历用户输入的莫尔斯电码，并为每个莫尔斯电码，获取地图中的关联字符。如果您想转换到另一个方向，请使用`Map<Character, MorseCode>`.

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-30T08:02:18.490

为什么不使用`HashMap<String,String>`带有莫尔斯电码的 a 作为键，将翻译作为值？然后你可以使用`map.get(key)? 它直接返回翻译，没有巨大的性能成本。

访问的成本`Map`是 O(1)。找到翻译 ia`List`有 O(n)。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-30T08:10:43.200

Map 在这里是最好的选择，但如果你必须使用 Lists 你可以使用`indexOf(E element)`方法。如果列表不包含元素，它将返回元素的索引或 -1。然后您可以使用`get(int index)`在指定位置获取元素。

所以像这样的东西应该可以解决 letter->morseCode

```
int index = letterList.indexOf(yourCharacter);
if (index >= 0)
    morse = morseCodeList.get(index); 
```

或反转它以找到 morse->letter。

# c++ - 我可以通过 Windows 服务访问 iTunes com 界面吗？

> ID：15716367
> 
> 赞同：1
> 
> 时间：2013-03-30T07:59:30.040
> 
> 标签：c++, service, com, itunes, itunesartwork

我可以通过基于 c++ 的 Windows 服务访问 iTunes com 界面吗？从 Windows 服务调用时，它在 cocreateinstance() 函数中失败。作为一个正常的应用程序，相同的代码工作正常。此服务是通过转换此工作应用程序来创建的。它适用于其他 COM。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2015-01-07T06:06:05.530

实际上 iTunes com 总是在与它通信之前启动 iTunes。我也尝试使用其他 COM 接口（如 IE 和 WMP）进行验证。所有人都可以使用 Windows 服务进行交互，但 iTunes 没有与 Windows 服务进行通信。所以**我的回答是否定的**。如果您打算使用 COM 与 iTunes 通信，则不应使用 windows 服务。

# wpf - Darken the full screen when open popup

> ID：15716370
> 
> 赞同：0
> 
> 时间：2013-03-30T07:59:56.250
> 
> 标签：wpf, xaml, wpf-4.0

I have a window with a button. When you click the button popup appears. How can I darken the full screen when open popup?

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-30T08:12:46.620

You should [write your own shader](https://www.google.com/webhp?sourceid=chrome-instant&ion=1&ie=UTF-8#hl=en&newwindow=1&safe=off&output=search&sclient=psy-ab&q=wpf%20shader%20tutorial&oq=&gs_l=&pbx=1&fp=d6df26cafee081d4&ion=1&bav=on.2,or.r_qf.&bvm=bv.44442042,d.bGE&biw=1920&bih=979) in order to darken, lighten, engraying, moting blurring and doing other cool graphics stuff.

Of course, if you don't want it to do in a right way, you could just create an `Rectangle` with `IsHitTestVisible = false` property and black color and some `0.5f` opacity all over your form, but...

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-30T08:18:21.897

This is called [Adorner](http://msdn.microsoft.com/en-us/library/ms743737.aspx) what you are looking for. Link [here](http://social.msdn.microsoft.com/Forums/en-US/wpf/thread/d7e0dcdc-900d-4b8a-b13d-9a97f85fd167/) also might be of your interest.

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-30T08:24:51.977

One easy way to do this is to create a new UserControl like this:

```
<UserControl ...
<Grid Background="#AA000000"> <!-- control the overlay color here -->
        <Border Background="White" BorderBrush="Black" BorderThickness="1" HorizontalAlignment="Center" VerticalAlignment="Center" Padding="10">
            <TextBlock Text="content"/>
        </Border>
</Grid>
</UserControl> 
```

Than just add it to the top grid of your window.

# c++ - strcat 转换为 char[]

> ID：15716372
> 
> 赞同：-2
> 
> 时间：2013-03-30T08:00:00.240
> 
> 标签：c++, string, string-formatting, c-strings, strcat

我在程序中使用 argp，它使用全局定义的 char doc[] 来显示有关程序的信息。

除了程序信息，我想在这个文档中添加一个 GPL 通知。

GPL 声明被定义为 const char * （但我不介意更改它），因为它在其他一些地方使用。

最初我试过这个：

```
static char doc[] = strcat("basic program info", GPLNOTICE); 
```

但这给出了：

```
error: initializer fails to determine size of ‘doc’ 
```

然后我尝试转换为字符串：

```
static char doc[] = (string("basic program info") + string(GPLNOTICE)).c_str() 
```

但这给出了同样的错误

然后我想也许让 doc 一个 char * 也可以

```
static char *doc = strcat("basic program info", GPLINFO) 
```

...但这会因分段错误而崩溃

我尝试将 GPL 通知转换为宏定义，但实际上对此无能为力

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-30T08:04:38.240

此行崩溃的原因：

```
strcat("basic program info", GPLINFO) 
```

是因为它试图修改存储在只读内存中的常量字符串文字，这会产生***未定义的行为***。的正确用法[`strcat`](http://linux.die.net/man/3/strcat)可能如下所示：

```
static char buf[1024];
strcpy(buf, "basic program info");
strcat(buf, GPLNOTICE); 
```

但是由于您使用[c++](/questions/tagged/c%2b%2b "显示标记为“c++”的问题")进行编程，因此您应该更喜欢使用[`std::string`](http://en.cppreference.com/w/cpp/string/basic_string)而不是 C 风格的字符串：

```
std::string doc("basic program info");
doc += GPLNOTICE; 
```

另请注意，在使用它们之前阅读这些函数的文档是一种很好的做法:)

# android - android中的SlideDrawer始终显示为透明，如何设置背景并避免透明

> ID：15716373
> 
> 赞同：0
> 
> 时间：2013-03-30T08:00:00.727
> 
> 标签：android, slidingdrawer

android 中的 SlideDrawer 始终显示为透明，我如何设置背景并避免透明。这是 SlidingDrawer 控件的代码，我尝试设置此 android:background="@drawable/menubg" 但仍显示为透明。

```
 <?xml version="1.0" encoding="utf-8"?>
    <SlidingDrawer xmlns:android="http://schemas.android.com/apk/res/android"
        android:id="@+id/SlidingDrawer"
        android:layout_width="wrap_content"
        android:layout_height="250dp"
        android:content="@+id/contentLayout"
        android:handle="@+id/slideButton"
        android:orientation="vertical"
        android:padding="10dip"
        >

        <Button
            android:id="@+id/slideButton"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:background="@drawable/menubtnup" >
        </Button>

        <RelativeLayout
            android:id="@+id/contentLayout"
            android:layout_width="wrap_content"
            android:layout_height="200dp"
            android:background="@drawable/menubg" >

            <ScrollView
                android:id="@+id/scrollView1"
                android:layout_width="match_parent"
                android:layout_height="200dp"
                android:layout_marginTop="15dp" >

                <LinearLayout
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:gravity="center"
                    android:orientation="vertical" >

                    <LinearLayout
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:weightSum="3" >

                        <Button
                            android:id="@+id/Button01"
                            android:layout_width="wrap_content"
                            android:layout_height="wrap_content"
                            android:layout_weight="1"
                            android:background="@drawable/ind_slc" />

                        <Button
                            android:id="@+id/Button02"
                            android:layout_width="wrap_content"
                            android:layout_height="wrap_content"
                            android:layout_weight="1"
                            android:background="@drawable/rec_slc" />

                        <Button
                            android:id="@+id/button1"
                            android:layout_width="wrap_content"
                            android:layout_height="wrap_content"
                            android:layout_weight="1"
                            android:background="@drawable/about_slc" />
                    </LinearLayout>

                    <LinearLayout
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:weightSum="3" >

                        <Button
                            android:id="@+id/Button01"
                            android:layout_width="wrap_content"
                            android:layout_height="wrap_content"
                            android:layout_weight="1"
                            android:background="@drawable/fav_slc" />

                        <Button
                            android:id="@+id/Button02"
                            android:layout_width="wrap_content"
                            android:layout_height="wrap_content"
                            android:layout_weight="1"
                            android:background="@drawable/request_slc" />

                        <Button
                            android:id="@+id/button1"
                            android:layout_width="wrap_content"
                            android:layout_height="wrap_content"
                            android:layout_weight="1"
                            android:background="@drawable/subscripe_slc" />
                    </LinearLayout>

                    <LinearLayout
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:weightSum="3" >

                        <Button
                            android:id="@+id/Button01"
                            android:layout_width="wrap_content"
                            android:layout_height="wrap_content"
                            android:layout_weight="1"
                            android:background="@drawable/tell_slc" />

                        <Button
                            android:id="@+id/Button02"
                            android:layout_width="wrap_content"
                            android:layout_height="wrap_content"
                            android:layout_weight="1"
                            android:background="@drawable/sponser_slc" />

                        <Button
                            android:id="@+id/button1"
                            android:layout_width="wrap_content"
                            android:layout_height="wrap_content"
                            android:layout_weight="1"
                            android:background="@drawable/settings_slc" />
                    </LinearLayout>
                </LinearLayout>
            </ScrollView>
        </RelativeLayout>

    </SlidingDrawer> 
```

谁能帮我？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-02T20:32:46.027

您可以使用其他布局并将每个控件放在其中...

```
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:background="somevalue" >
<SlidingDrawer 
    android:id="@+id/SlidingDrawer"
    android:layout_width="wrap_content"
    android:layout_height="250dp"
    android:content="@+id/contentLayout"
    android:handle="@+id/slideButton"
    android:orientation="vertical"
    android:padding="10dip"
    >

    <Button
        android:id="@+id/slideButton"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:background="@drawable/menubtnup" >
    </Button>
    ...
    ...
    ...    //more of your code
   </SlidingDrawer>
  </LinearLayout> 
```

仅将父线性布局的背景更改为您喜欢的值...试试看...告诉它是否有效

# html - HTML表单不适用于内部表格

> ID：15716376
> 
> 赞同：5
> 
> 时间：2013-03-30T08:00:40.290
> 
> 标签：html, html-table

在这里，我将表格放在*表格*内*以*排列表格项目。
即使它有效，它也不起作用。

```
<form method="get" action="another.php">
<table width="50%" border="0" cellspacing="0" cellpadding="0">
<tr>
    <td width="60%">
        Number: <input type="text" name="number" />
    </td>
    <td width="20%" align="center">
        Title: <input type="text" name="title" />
    </td>
    <td width="20%">
        Short Desc: <input type="text" name="shortdesc" />
    </td>
</tr>
</table>
</form> 
```

当我按`Enter`时，表单不会提交。
就好像我在表单内的任何地方放置一个提交按钮一样，它适用于`Enter`键和按钮单击。

```
<input type = "submit" value="Submit" /> 
```

但我不想要任何提交按钮。我通过按键提交表格`Enter`。
任何线索为什么这不起作用？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-30T08:07:16.993

将此添加到您的表单中

```
<input type="submit" style="position: absolute; left: -9999px"/> 
```

或者

```
<input type="submit" style="visibility: hidden;"/> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-30T08:09:02.923

添加这个....将为所有三个浏览器解决您的问题

```
 <input  type="submit" name="update" value=" Apply " 
style="position: absolute; height: 0px; width: 0px; border: none; padding: 0px;"
hidefocus="true" tabindex="-1"/> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-31T06:20:43.060

所有表单都需要一个提交按钮来提交（至少没有 javascript）：

你可以让它不可见：

```
<input type="submit" style="visibility:hidden"/> 
```

# java - 如何使用 liferay portlet 在数据库中插入数据

> ID：15716377
> 
> 赞同：1
> 
> 时间：2013-03-30T08:00:50.753
> 
> 标签：java, mysql, liferay

如何使用 Liferay 在 MySql 中插入数据？

我已经从edit.jsp 创建了Edit.jsp、view.jsp 我想输入数据并且在view.jsp 中我想显示我的数据。在 edit.jsp 中输入的数据应该存储在我的 mysql 表中。我创建了 service.xml、portal-ext.properties。

我也有java文件。请告诉我应该在哪里编写插入逻辑以将数据存储到数据库中。

这是我的Java代码。我有 edit.jsp 文件和 view.jsp 文件，我使用 service.xml 文件创建了表，并将我的 portal-ext.properties 放在类文件夹中。有什么遗漏吗？我是liferay的新手

```
package com.portlet;

import java.io.IOException;
import javax.portlet.ActionRequest;
import javax.portlet.ActionResponse;
import javax.portlet.GenericPortlet;
import javax.portlet.PortletException;
import javax.portlet.PortletMode;
import javax.portlet.PortletPreferences;
import javax.portlet.PortletRequestDispatcher;
import javax.portlet.PortletURL;
import javax.portlet.RenderRequest;
import javax.portlet.RenderResponse;
import org.apache.commons.logging.Log;
import org.apache.commons.logging.LogFactory;
import com.liferay.counter.service.CounterLocalServiceUtil;
import com.liferay.portal.kernel.exception.SystemException;
import com.liferay.portlet.model.testimonial;
import com.liferay.portlet.service.testimonialLocalServiceUtil;

public class Testimonial extends GenericPortlet {

    protected String editJSP;
    protected String viewJSP;
    private static Log _log = LogFactory.getLog(Testimonial.class);

    public void init() throws PortletException 
    {
        editJSP = getInitParameter("edit-jsp");
        viewJSP = getInitParameter("view-jsp");
    }

    public void doEdit(RenderRequest renderRequest,RenderResponse renderResponse) throws IOException, PortletException 
    {
        renderResponse.setContentType("text/html");
        PortletURL addNameURL = renderResponse.createActionURL();
        addNameURL.setParameter("addName", "addName");
        renderRequest.setAttribute("addNameURL", addNameURL.toString());
        include(editJSP, renderRequest, renderResponse);
    }

    public void doView(RenderRequest renderRequest,RenderResponse renderResponse) throws  IOException, PortletException
    {
        PortletPreferences prefs = renderRequest.getPreferences();
        String username = (String) prefs.getValue("name", "");
        String area=(String)prefs.getValue("area", "testimonial");
        String email=(String)prefs.getValue("email", "");
        String subject=(String)prefs.getValue("subject", "");
        String company=(String)prefs.getValue("company", "");
        String designation=(String)prefs.getValue("designation", "");

        if (username.equalsIgnoreCase ("")) 
        {
            username = "";
        }

        renderRequest.setAttribute("userName", username);
        renderRequest.setAttribute("area",area);
        renderRequest.setAttribute("email",email);
        renderRequest.setAttribute("subject",subject);
        renderRequest.setAttribute("designation",designation);
        renderRequest.setAttribute("company",company);

        include(viewJSP, renderRequest, renderResponse);
    }

    public void processAction(ActionRequest actionRequest, ActionResponse  actionResponse) throws IOException, PortletException 
    {       
        String addName = actionRequest.getParameter("addName");

        if (addName != null)
        {
            PortletPreferences prefs = actionRequest.getPreferences();
            prefs.setValue("name", actionRequest.getParameter("username"));
            prefs.setValue("area",actionRequest.getParameter("area"));
            prefs.setValue("email",actionRequest.getParameter("email"));
            prefs.setValue("subject",actionRequest.getParameter("subject"));
            prefs.setValue("designation",actionRequest.getParameter("designation"));
            prefs.setValue("company",actionRequest.getParameter("company"));

            prefs.store();

            testimonial testimonial = null;

            try {
                testimonialLocalServiceUtil.createtestimonial(CounterLocalServiceUtil.increment());
            } catch (SystemException e) {
                // TODO Auto-generated catch block
                e.printStackTrace();
            }

            testimonial.setSubject(actionRequest.getParameter("subject"));
            testimonial.setArea(actionRequest.getParameter("area"));
            testimonial.setUsername(actionRequest.getParameter("username"));
            testimonial.setEmail(actionRequest.getParameter("email"));
            testimonial.setCompany(actionRequest.getParameter("company"));
            testimonial.setDesignation(actionRequest.getParameter("designation"));

            try {
                testimonialLocalServiceUtil.addtestimonial(testimonial);
            } catch (SystemException e) {
                // TODO Auto-generated catch block
                e.printStackTrace();
            }

            actionResponse.setPortletMode(PortletMode.VIEW);    
        }   
    }

    protected void include(String path, RenderRequest renderRequest,RenderResponse renderResponse) throws IOException, PortletException 
    {
        PortletRequestDispatcher portletRequestDispatcher = getPortletContext().getRequestDispatcher(path);

        if (portletRequestDispatcher == null) 
        {
            _log.error(path + " is not a valid include");
        }
        else
        {
            portletRequestDispatcher.include(renderRequest, renderResponse);
        }
    }
} 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-04-25T05:52:18.573

请按照以下步骤操作：

```
 File-->new-->Liferay Project
    Right Click on WEB-INF-->new-->Liferay Service Builder-->Enter the package path(com.database) and namespace(A)-->Finish
    Now you have service.xml-->change the properties accoding to your requirement-->save it
    Right click on service.xml-->Liferay-->Build Services.
    Now you will get  some folders,classes and interfaces under docroot/ WEB-INF/src
    change in the  LiferayLocalServiceImpl.java  under com.database.service.impl
    create one package  like com.portlet in docroot/ WEB-INF/src -->create a class and continue the application 
```

服务.xml

```
<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE service-builder PUBLIC "-//Liferay//DTD Service Builder 6.1.0//EN" "http://www.liferay.com/dtd/liferay-service-builder_6_1_0.dtd">
<service-builder package-path="com.database">
    <author>name</author>
    <namespace>S</namespace>

    <entity name="Book" local-service="true" remote-service="true">

        <!-- PK fields -->

        <column name="fooId" type="long" primary="true" />

        <!-- Audit fields -->

        <column name="companyId" type="long" />
        <column name="userId" type="long" />
        <column name="bookName" type="String" />
        <column name="author" type="String" />

    </entity>
</service-builder> 
```

在jsp中：

```
 <%@ taglib uri="http://liferay.com/tld/aui" prefix="aui"%>
    <%@ taglib uri="http://java.sun.com/portlet_2_0" prefix="portlet" %>
    <portlet:actionURL var="addBURL" name="addB"/>

    <aui:form method="post" action="<%=addBURL.toString()%>" name="fm"
        id="fm">
    <!--    <input type="text" name="bookName"/>

        <input type="text" name="author"/> -->

            <aui:input name="bookName" label="BookName" type="text"></aui:input>
            <aui:input name="author" label="Author" type="text"></aui:input>
            <aui:button type="submit" value="Submit" />

    <!-- <input type="button" name="submit" value="Submit"> -->
    </aui:form> 
```

com.database.service.impl.BookLocalServiceImpl

```
 package com.database.service.impl;

    import com.database.model.Book;
    import com.database.service.base.BookLocalServiceBaseImpl;
    import com.liferay.portal.kernel.exception.SystemException;

    public class BookLocalServiceImpl extends BookLocalServiceBaseImpl {

        public Book aaddBook(Book bookParam) {

            Book book;

            try {
                book = bookPersistence.create(counterLocalService
                        .increment(Book.class.toString()));
            } catch (SystemException e) {
                // TODO Auto-generated catch block
                e.printStackTrace();
                return book = null;
            }
            book.setAuthor(bookParam.getAuthor());
            book.setBookName(bookParam.getBookName());
            book.setCompanyId(bookParam.getCompanyId());
            book.setUserId(bookParam.getUserId());
            try {
                return bookPersistence.update(book, false);
            } catch (SystemException e) {
                e.printStackTrace();

            }

            return book;
        }

    } 
```

com.portlet 演示类

```
 package com.portlet;

    import java.io.IOException;

    import javax.portlet.ActionRequest;
    import javax.portlet.ActionResponse;
    import javax.portlet.PortletException;

    import com.database.model.Book;
    import com.database.model.impl.BookImpl;
    import com.database.service.BookLocalServiceUtil;
    import com.liferay.util.bridges.mvc.MVCPortlet;

    public class Demo extends MVCPortlet{

        public void addB(ActionRequest actionRequest,
                ActionResponse actionResponse) throws IOException, PortletException {
            System.out.println("Action");
            String author=actionRequest.getParameter("author");
            String bookName=actionRequest.getParameter("bookName");
            Book book=new BookImpl();
            book.setAuthor(author);
            book.setBookName(bookName);
            BookLocalServiceUtil.aaddBook(book);

        }

    } 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-30T11:47:49.187

您必须使用 Liferay 默认 API 来访问和插入默认 Liferay 表中的数据，或者如果您想访问/插入数据库中的自定义（自制）表，则必须使用 Liferay Service Builder。

在您的问题中 - 您可以先在数据库中手动创建表。

然后，您可以`service.xml`使用 ant 构建文件来制作和构建服务，该文件将为您提供`LocalServiceUtil`类。在你的情况下，它是`testimonialLocalServiceUtil`类。

同样根据您的代码，`processAction`方法覆盖是正确的。

请检查 service.xml 中的表和列规范。它应该没有任何问题。

这是一个可以帮助您的链接 -

[http://www.phloxblog.in/liferay-service-builder-step-step/](http://www.phloxblog.in/liferay-service-builder-step-step/)

并且，如果您有任何异常，请与我们分享，以便我们了解问题所在。

谢谢

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2017-03-02T12:38:45.500

我不同意@kartik 关于打电话的看法`Book book = new BookImpl()`；`Book book = BookLocalServiceUtil.createBook(0)`改为使用

[https://web.liferay.com/community/forums/-/message_boards/message/79177774](https://web.liferay.com/community/forums/-/message_boards/message/79177774)

为了节省，我也推荐这篇文章。

[https://javaeasyforu.blogspot.de/2014/06/insert-data-into-db-using-service.html](https://javaeasyforu.blogspot.de/2014/06/insert-data-into-db-using-service.html)

# java - 像链一样左移数组

> ID：15716380
> 
> 赞同：3
> 
> 时间：2013-03-30T08:01:16.120
> 
> 标签：java, c, algorithm, matrix

我想左移一个 n*n 数组（*n*是 *偶数*），像这样的图像 m 次：

![在此处输入图像描述](../Images/b7692d7ab930aa80d6350a741998823a.png)

我花了一天时间寻找解决方案，但找不到通用的解决方案。

你知道解决这个问题的算法吗？或者任何可以帮助我的指南？

例如（每个括号代表数组中的一个单元格）：

```
n= 2 and m =1  
before shifting :  
(1)    (2)  
(3)    (4)  

after shifting :  
(2)    (4)  
(0)    (3) 
```

第二个例子：

```
n= 4 and m =2  
before shifting :  
(1)    (2)   (3)    (4)  
(5)    (6)   (7)    (8)  
(9)    (10)  (11)   (12)  
(13)   (14)  (15)   (16)  

after shifting :  
(3)   (4)   (8)    (12)  
(7)   (11)  (10)   (16)  
(6)   (0)   (0)    (15)  
(5)   (9)   (13)   (14) 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-30T09:51:46.267

基本上，您正在尝试将数字沿螺旋从中间移动到外边缘。螺旋是一条缠绕的线，所以在我看来，解决方案是将数组存储为一维数组，第零个元素代表螺旋的中间，第 N 个元素（其中 N = nxn）作为最后一个元素在螺旋之外（或者你可以从外面开始向内工作）。

然后你的问题变得微不足道，但你有一个新问题是：给定一个坐标对，我需要访问数组中的哪个元素？我已经考虑了很长时间（即至少 10 分钟），我能想到的最佳答案是创建一个二维查找数组。在 4 x 4 的情况下，它看起来像这样：

```
15 14 13 12
 4  3  2 11
 5  0  1 10
 6  7  8  9 
```

或者像这样：

```
 0  1  2  3
11 12 13  4
10 15 14  5
 9  8  7  6 
```

如果您从外部开始工作，您可以很容易地以编程方式生成查找数组（伪代码）：

```
fill the lookup array with -1s
Set location to (0, 0)
Set direction to east
Set counter to 0 

while (counter < array size)
    set location to counter
    increment counter
    if next location in current direction is off the edge or is not -1
        turn right (east => south, south => west, west => north, north => east)
    move one square in current direction 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-03-30T09:54:19.777

这是一个提示。

您可以获得一个有趣的递归解决方案。把你的矩阵想象成一堆相互嵌套的矩阵（例如，对于一个 nxn 矩阵，它里面还有一个 (n-2)x(n-2) 矩阵，等等。一个例子是矩阵

```
 1  2  3  4
 5  6  7  8
 9 10 11 12
13 14 15 16 
```

有一个子矩阵

```
 6  7
10 11 
```

较大矩阵外环上的元素是螺旋的第一部分。一旦你处理了这些转移，你就不需要担心它们了。您可以将矩阵的下一个环视为一个新矩阵。内矩阵是原始矩阵的**子问题。**

所以你需要找到一个可以应用于原始矩阵的外部元素的解决方案，然后将相同类型的解决方案应用于内部矩阵，依此类推，直到到达中心。如果你仔细想想，这就是 n 是偶数的原因。每个子矩阵的大小为 n-2 或 (n-2)-2 等，直到达到 2x2 的子矩阵。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-03-30T10:36:31.667

这个想法很简单。你移动外壳/外壳，然后移动下一个内部，依此类推，直到没有其他东西可以移动。

在连续班次之间，您将下一个内部信封/外壳的第一个字符复制到最后一个信封/外壳的最后一个（刚刚腾出）。这为您提供连续性，提供信封/外壳之间的数据流。

要将矩形信封移动 1 个位置，您可以首先计算其中有多少元素（1x1 中的 1 个，2x2 中的 4 个，3x3 中的 8 个，4x4 中的 12 个，等等正方形）。

然后您可以沿着信封从 0 到 length-2 运行坐标/位置，将其转​​换为 2d 数组中的常规坐标。这将为您提供复制的位置。现在，源的位置是沿着信封的下一个位置，您可以类似地将其转换为 2d 坐标。

我在 C 中的实现：

```
#include <stdio.h>

/*
  (2w+2h-4)/0  1     ..    w-2  w-1
              +---------------+ 
      2w+2h-5 |               | w
            . |               | .
            . |               | .
            . |               | .
       2w+h-2 |               | w+h-3
              +---------------+
       2w+h-3  2w+h-4 .. w+h-1  w+h-2
*/

int EnvelopeLength(int w, int h)
{
  if (w <= 0 || h <= 0)
    return 0;

  if (h == 1)
    return w;

  if (w == 1)
    return h;

  return 2 * (w + h) - 4;
}

#if 0 // this function is currently unused
int Coords2EnvelopePosition(int x, int y, int w, int h)
{
  int pos = -1;
  if (w <= 0 || h <= 0)
    pos = -1;
  else if (w == 1 && h == 1)
    pos = 0;
  else if (h == 1)
    pos = x;
  else if (w == 1)
    pos = y;
  else if (y == 0)
    pos = x;
  else if (x == w - 1)
    pos = w + y - 1;
  else if (y == h - 1)
    pos = 2 * w + h - x - 3;
  else if (x == 0)
    pos = 2 * w + 2 * h - y - 4;
  return pos;
}
#endif

void EnvelopePosition2Coords(int* px, int* py, int w, int h, int pos)
{
  *py = *px = -1;
  if (w <= 0 || h <= 0)
    *py = *px = -1;
  else if (w == 1 && h == 1)
    *py = *px = 0;
  else if (h == 1)
    *px = pos, *py = 0;
  else if (w == 1)
    *px = 0, *py = pos;
  else if (pos < w)
    *px = pos, *py = 0;
  else if (pos <= w + h - 2)
    *px = w - 1, *py = pos - w + 1;
  else if (pos <= 2 * w + h - 3)
    *px = 2 * w + h - 3 - pos, *py = h - 1;
  else if (pos <= 2 * w + 2 * h - 5)
    *px = 0, *py = 2 * w + 2 * h - 4 - pos;
}

void SpiralShift(char* a, int w, int h)
{
  int w0 = w;

  while (w > 0 && h > 0)
  {
    int len = EnvelopeLength(w, h), pos;
    int xto, yto, xfrom, yfrom;

    for (pos = 0; pos < len - 1; pos++)
    {
      EnvelopePosition2Coords(&xto, &yto, w, h, pos);
      EnvelopePosition2Coords(&xfrom, &yfrom, w, h, pos + 1);
      a[yto * w0 + xto] = a[yfrom * w0 + xfrom];
    }

    EnvelopePosition2Coords(&xto, &yto, w, h, len - 1);

    if (w > 2 && h > 2)
    {
      EnvelopePosition2Coords(&xfrom, &yfrom, w - 2, h - 2, 0);
      a[yto * w0 + xto] = a[w0 + 1 + yfrom * w0 + xfrom];
      w -= 2;
      h -= 2;
      a += w0 + 1;
    }
    else
    {
      a[yto * w0 + xto] = ' ';
      break;
    }
  }
}

void PrintSpiral(const char*s, int w, int h)
{
  int x, y;
  puts("Spiral:");
  for (y = 0; y < h; y++)
  {
    for (x = 0; x < w; x++)
      printf("%c ", s[y * w + x]);
    puts("");
  }
  puts("");
}

int main(void)
{
  char spiral1x1[1 * 1] =
    "a";
  char spiral2x2[2 * 2] =
    "wo"
    "dr";
  char spiral5x6[5 * 6] =
    "This i"
    "ing ss"
    "lce.e "
    "lnetna"
    "arips ";
  int i;

  PrintSpiral(spiral1x1, 1, 1);
  for (i = 0; i < 1 * 1; i++)
  {
    SpiralShift(spiral1x1, 1, 1);
    PrintSpiral(spiral1x1, 1, 1);
  }

  PrintSpiral(spiral2x2, 2, 2);
  for (i = 0; i < 2 * 2; i++)
  {
    SpiralShift(spiral2x2, 2, 2);
    PrintSpiral(spiral2x2, 2, 2);
  }

  PrintSpiral(spiral5x6, 6, 5);
  for (i = 0; i < 5 * 6; i++)
  {
    SpiralShift(spiral5x6, 6, 5);
    PrintSpiral(spiral5x6, 6, 5);
  }
  return 0;
} 
```

输出（[ideone](http://ideone.com/D3AcyT)）：

```
Spiral:
a 

Spiral:

Spiral:
w o 
d r 

Spiral:
o r 
  d 

Spiral:
r d 

Spiral:
d   

Spiral:

Spiral:
T h i s   i 
i n g   s s 
l c e . e   
l n e t n a 
a r i p s   

Spiral:
h i s   i s 
n g   s e   
i e .   n a 
l c n e t   
l a r i p s 

Spiral:
i s   i s   
g   s e n a 
n .     t   
i e c n e s 
l l a r i p 

Spiral:
s   i s   a 
  s e n t   
g       e s 
n . e c n p 
i l l a r i 

Spiral:
  i s   a   
s e n t e s 
        n p 
g   . e c i 
n i l l a r 

Spiral:
i s   a   s 
e n t e n p 
s       c i 
      . e r 
g n i l l a 

Spiral:
s   a   s p 
n t e n c i 
e       e r 
s       . a 
  g n i l l 

Spiral:
  a   s p i 
t e n c e r 
n       . a 
e         l 
s   g n i l 

Spiral:
a   s p i r 
e n c e . a 
t         l 
n         l 
e s   g n i 

Spiral:
  s p i r a 
n c e .   l 
e         l 
t         i 
n e s   g n 

Spiral:
s p i r a l 
c e .     l 
n         i 
e         n 
t n e s   g 

Spiral:
p i r a l l 
e .       i 
c         n 
n         g 
e t n e s   

Spiral:
i r a l l i 
.         n 
e         g 
c           
n e t n e s 

Spiral:
r a l l i n 
          g 
.           
e         s 
c n e t n e 

Spiral:
a l l i n g 

          s 
.         e 
e c n e t n 

Spiral:
l l i n g   
          s 
          e 
          n 
. e c n e t 

Spiral:
l i n g   s 
          e 
          n 
          t 
  . e c n e 

Spiral:
i n g   s e 
          n 
          t 
          e 
    . e c n 

Spiral:
n g   s e n 
          t 
          e 
          n 
      . e c 

Spiral:
g   s e n t 
          e 
          n 
          c 
        . e 

Spiral:
  s e n t e 
          n 
          c 
          e 
          . 

Spiral:
s e n t e n 
          c 
          e 
          . 

Spiral:
e n t e n c 
          e 
          . 

Spiral:
n t e n c e 
          . 

Spiral:
t e n c e . 

Spiral:
e n c e .   

Spiral:
n c e .     

Spiral:
c e .       

Spiral:
e .         

Spiral:
.           

Spiral: 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-03-30T10:31:53.610

```
#include <stdio.h>
#include <stdlib.h>

#define N 4

void initialize(int *pa){
    int i;
    for(i=1;i<= N * N;++i)
        *pa++ = i;
}

void print(int a[N][N]){
    int i,j;
    for(i=0;i<N;++i){
        for(j=0;j<N;++j)
            printf("(%2d)", a[i][j]);
        printf("\n");
    }
    printf("\n");
}

void spiralShiftLeft(int a[N][N], int n){
    int **pa;
    int i,x,y,c,size=N*N,step;

    pa = (int**)calloc(size, sizeof(int*));
    x=y=0;//x,y is location
    //c is counter
    //step is control
    step = N;
    c=0;
    while(c<size){
        int s;
        --step;
        for(s=0;s<step;++s)
            pa[c++] = &a[y][x++];//up part
        for(s=0;s<step;++s)
            pa[c++] = &a[y++][x];//right part
        for(s=0;s<step;++s)
            pa[c++] = &a[y][x--];//bottom part
        for(s=0;s<step;++s)
            pa[c++] = &a[y--][x];//left part
        ++x;++y;//next step start position
        --step;
    }
    //shift
    for(i=0;i<size;++i){
        int p=i+n;
        *pa[i] = (p<size) ? *pa[p] : 0;
    }
    free(pa);
}
//demo
int main (void){
    int org[N][N];

    initialize((int*)org);
    print(org);
    spiralShiftLeft(org, 2);
    print(org);

    return 0;
} 
```

# java - 配置 log4j

> ID：15716382
> 
> 赞同：0
> 
> 时间：2013-03-30T08:01:38.670
> 
> 标签：java, log4j

我正在尝试`org.apache.log4j.Logger`在我的项目中使用。我已经下载了**log4j-1.2.17**，并将**jar 包添加到我**在 Eclipse 中引用的包中。我在我的项目的根目录下**创建了一个文件**（我认为它是在 CLASSPATH 中用 '.' 表示的当前目录）作为配置文件。内容如下：

```
log4j.rootLogger=info, stdout
log4j.appender.stdout=org.apache.log4j.ConsoleAppender
log4j.appender.stdout.layout=org.apache.log4j.PatternLayout
# Pattern to output the caller's file name and line number.
log4j.appender.stdout.layout.ConversionPattern=%5p [%t] (%F:%L) - %m%n 
```

在我的项目中：

```
import org.apache.log4j.Logger;

public class Recommend {    

    private final static Logger log = Logger.getLogger(Recommend.class);
    //...
    public static void main(String[] args) {
        log.info("Hello world!");
    } 
```

但它不会在控制台中打印消息，而是发出警告：

```
log4j:WARN No appenders could be found for logger (main.Recommend).
log4j:WARN Please initialize the log4j system properly.
log4j:WARN See http://logging.apache.org/log4j/1.2/faq.html#noconfig for more info. 
```

我怎样才能让它工作？感谢您的关注！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-30T08:18:03.220

确保 log4j.properties 文件位于类路径中。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2014-11-21T14:08:21.930

> 您在 src 文件夹中的 log4j.properties 文件它的工作很好。替换 log4j.xml 只需放入您的 log4j.properties 文件

![在此处输入图像描述](../Images/c481c4fe1badfbe5e6b4afd2096cfb94.png)

# php - Convert array of userids into usernames using MySQL

> ID：15716383
> 
> 赞同：-1
> 
> 时间：2013-03-30T08:02:05.147
> 
> 标签：php, mysql, sql

I have a PHP function that returns me the specific set of userids in an array. I want to create a function that will convert these userids into usernames. I know how I can create a query to convert each one and then run the query in a loop. But is there a better way that I can do it for the whole array. Like a single query that would accept multiple values or something. My Array is as simple as:

```
[0] => 126312
[1] => 128383
[2] => 987376
[3] => 563542 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-30T08:12:51.547

Assuming a table called "user" and fields "id" and "username", you could do: (see [http://dev.mysql.com/doc/refman/5.0/en/comparison-operators.html#function_in](http://dev.mysql.com/doc/refman/5.0/en/comparison-operators.html#function_in) )

```
$ids = array( [0] => 126312
[1] => 128383
[2] => 987376
[3] => 563542);

// do pre logic, e.g connecting...

// sanitize input:
$ids = array_map( "intval", $ids );

$sql = "SELECT user.username FROM user WHERE user.id IN(". implode( ",", $ids ) .")";

// do fetch logic. 
```

# perl - 如何将科学记数法转换为十进制记数法？

> ID：15716389
> 
> 赞同：1
> 
> 时间：2013-03-30T08:02:31.143
> 
> 标签：perl, scientific-notation

我有一个关于将`$calc`值从科学计数法转换为十进制的问题。请问有什么想法吗？

```
my $calc = log2($prob/$probWords);

push @result, join(' ',@words) ." (".$calc.")\n";

if(scalar(@result) == $bloc)
{
  $cmp += $bloc;
  print "$cmp lignes traités\n";
  writeToResultFile($outFile,@result);
  @result = ();
} 
```

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-03-30T08:32:16.300

您可以使用[sprintf](http://perldoc.perl.org/functions/sprintf.html)将您的数字转换为字符串并给它一个具体的格式。例子：

```
# Round number to 5 digits after decimal point
$calc_str = sprintf("%.5f", $calc); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-30T19:44:10.530

Alois Mahdal 走在正确的轨道上~~，但很难解决问题~~。这是对此事的不同看法。我们可以使用 Devel::Peek 来查看 Perl 在变量中看到的内容。Perl 具有三种与 C 类型相关的基本（非引用）存储类型：字符串是指针（PV），数字可以是浮点数（NV，数值）或整数（IV）。

```
#!/usr/bin/env perl

use strict;
use warnings;

use Devel::Peek; # Dump

my $x = "1e10";
Dump $x; 
```

输出

```
SV = PV(0x1204090) at 0x1225b80
  REFCNT = 1
  FLAGS = (PADMY,POK,pPOK)
  PV = 0x1212ac0 "1e10"\0
  CUR = 4
  LEN = 16 
```

PV 是一个字符串。你可以看到价值。现在我们强制输入一个数字，比如加零。

```
...
$x += 0;
Dump $x; 
```

屈服

```
SV = PVNV(0xf018f0) at 0xf21b90
  REFCNT = 1
  FLAGS = (PADMY,IOK,pIOK)
  IV = 10000000000
  NV = 10000000000
  PV = 0xf0eac0 "1e10"\0
  CUR = 4
  LEN = 16 
```

现在您可以看到该变量包含原始 PV 和代表 100 亿的数值 (NV)（以及整数值 (IV)）。IOK 告诉我们它目前主要被认为是一个整数。它会保留其他值，以防您再次强制。

所以你看，从科学值到数字的强制转换就像从字符串转换为数字一样简单（加零是一种常见的机制）。反过来，请使用[`sprintf`](http://p3rl.org/sprintf)正确的格式。

注意为了完整起见，我们可以通过添加小数来查看到 NV 的转换。

```
...
$x += 0.1;
Dump $x; 
```

输出

```
SV = PVNV(0x1ee0910) at 0x1f00b90
  REFCNT = 1
  FLAGS = (PADMY,NOK,pNOK)
  IV = 0
  NV = 10000000000.1
  PV = 0x1eedac0 "1e10"\0
  CUR = 4
  LEN = 16 
```

NOK 告诉 Perl 它现在应该是一个浮点值。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-30T15:53:11.253

虽然 Miguel 的答案似乎是您正在寻找的，但无论如何我都会提出一些理论：更正式的正确答案是： **您不能。** 幸运的是，你不需要离开。

Perl 不使用变量存储符号。它是字符串还是数字都无关紧要：只要将*任何*符号的数字存储在字符串中，它就可以用作数字：

```
$a = "1e4";                             # $a now holds "1e4"
print $a . " (read 'one-e-four')\n";    # mentors on pronunciation
$a = $a / 1000;                         # $a now holds 10
$a = $a . "23";                         # $a now holds "1023" (or 1023 or even 1.023e3...)
$a = $a + 1;                            # $a now holds 1024 (or "1024")
print "Hello " . $a . " worlds\n";      # greets 1024 worlds 
```

转换是隐式的。在上面的例子中：

1.  Perl 不知道 "1e4" 作为数字的含义，直到第 3 行，当它迅速将其计算为一万时，因此产生结果 10，在我的示例中，它被分配回`$a`. 现在存储的值是数字。

2.  现在在下一行的字符串表达式中，十被解释为“10”（十进制是数值的默认表示法）。这两个字符串的连接产生字符串“1023”。

3.  与除法相同的故事：“1023”出现在数字表达式中，因此必须转换为数字

但是，通常，您希望对转换有更多控制权。

*   如果将 [what come in as] 字符串转换为 [what needs to be used as] 数字，典型的原因之一是您不能 100% 确定字符串形式的外观：特别是如果它来自用户，“输入号码”的答案可以是“100”，但也可以是“0100”、“百”或“你母亲的年龄”（相信我，有些用户可能真的很讨厌）。

    这就是[正则表达式](http://en.wikipedia.org/wiki/Perl_Compatible_Regular_Expressions)（或可能是其他技术）的用途。

*   在另一种情况下，如果您想将该值用作字符串的一部分，您可能想确定数字的外观——将使用什么表示法或使用多少个字符。

    这就是[sprintf 和 printf](http://www.perlmonks.org/?node_id=20519)的用途。

由于 Perl 总是准备好将任何（数字/字符串）值解释为数字或字符串，因此您无需关心`$a`内部是数字还是字符串。另一方面，您仍然需要关心的是变量**的内容**。

# java - 如何在 Netbeans 中与用户一起维护一个空的 Java EE 企业应用程序项目？

> ID：15716390
> 
> 赞同：3
> 
> 时间：2013-03-30T08:02:43.333
> 
> 标签：java, jakarta-ee, netbeans, prototype, new-project

我在 Netbeans 中创建了一个基本的 Java EE 项目，其中包含一些我在每个项目中使用的标准特性。IE

*   我使用了一个 mysql 数据库，其中包含一些用于用户和组的基本表。
*   我使用了 JAAS 安全性并创建了新领域。
*   我在这个数据库上做了一个新的持久性单元
*   我为登录创建了一些基本 bean
*   我已将 primefaces 添加为 jsf lib
*   我为管理用户创建了一些基本菜单和基本表单。

我所做的每个项目都需要上述所有这些功能，并且我试图找到一种方法来跳过从头开始重做所有这些功能。

我尝试了两种方法。第一个是复制所有项目目录并尝试仅重命名更改。我必须承认那是一场灾难。另一种尝试是创建一个新项目并尝试将内容从一个项目复制到另一个项目。

我正在寻找一种解决方案，让我拥有一个具有上述最低功能的项目，我应该只更改数据库连接和项目名称。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-02T12:57:08.400

Maven 原型可以提供解决方案。它们为项目提供了起点。我自己刚开始使用它们在 Eclipse 中构建项目。您可以创建自己的原型以在团队中使用。下面的几个参考：

[指南创建原型](http://maven.apache.org/guides/mini/guide-creating-archetypes.html)

[创建-maven-web-应用程序](http://javaevangelist.blogspot.com/2011/07/creating-maven-web-application.html)

# c# - Textbox auto fill in asp.net

> ID：15716394
> 
> 赞同：6
> 
> 时间：2013-03-30T08:03:12.240
> 
> 标签：c#, asp.net, textbox, autofill

Can anyone tell me how to disable autofill for text boxes in asp.net?

to get a better Idea :

In the Login webpage. When a user provides a username and password there is also a (Remember Me) check box for next time login... So far, everything is fine.

but the problem appears in the registration form, when the user opens the register page, both fields (username and password ) are filled out with the users name and password used for the previous login.

Does anyone have an idea about this problem?

Note: I have tried these two lines of code in page load event, but it didn't work.

```
txtUsername.Text="";
txtPassword.Text=""; 
```

I will appreciate every single answer.

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-03-30T08:06:14.663

You can disable autofill for the TextBoxes by adding `autocomplete="off"`:

```
<asp:TextBox Runat="server" ID="txtUsername" autocomplete="off"></asp:TextBox>

<asp:TextBox Runat="server" ID="txtPassword" autocomplete="off"></asp:TextBox> 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-03-30T08:43:20.543

```
<asp:TextBox Runat="Server" ID="xyz" autocomplete="off" /> 
```

Or try this In From Tag

```
<form autocomplete="off" ... 
```

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2013-03-30T08:10:23.847

and for your from :

```
<form id="register" autocomplete="off" method="post" runat="server">
                      ^ THIS ATTR 
```

# c# - WCF 代理类...有时？

> ID：15716397
> 
> 赞同：5
> 
> 时间：2013-03-30T08:03:38.700
> 
> 标签：c#, wcf, web-services

我有以下课程：

```
public abstract class BaseClass1 {}
public class ConcreteClass1 : BaseClass1 {}
public abstract class BaseClass2 : BaseClass1 {}
public class ConcreteClass2 : BaseClass2 {} 
```

WCF 服务公开了 2 种方法：

```
public ConcreteClass1 Method1() {...}
public ConcreteClass2 Method2() {...} 
```

当使用 VS2012“使用”这个 WCF 服务时，WCF 客户端代码正确返回我的“共享”ConcreteClass1，但由于某种原因，坚持为 ConcreteClass2 生成一个 PROXY 类？

我不明白为什么（即使我总是标记我想使用所有共享程序集）有时它会为我生成代理类，有时它会按照我的要求执行。我认为我从未见过它为程序集中的某些类型生成代理类，但不是其他类型。

我完全糊涂了！

任何帮助将不胜感激...

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-03T16:09:40.217

我也遇到过这个问题。有时关闭所有共享程序集并更新服务，然后打开所有程序集并更新服务。另外……挑选特定的程序集也少了很多麻烦。我更容易编写自己的代理类，这样我就可以让它生成我想要的代码。

我在这里找到了一个很好的讨论： [WCF and Shared Reference Library Between Client & Service](https://stackoverflow.com/questions/13974470/wcf-and-shared-reference-library-between-client-service)

# c# - 扩展 HttpClient

> ID：15716399
> 
> 赞同：5
> 
> 时间：2013-03-30T08:03:43.843
> 
> 标签：c#, asynchronous, httpclient, abstract-class

我正在尝试创建一个扩展 httpclient 但仍然是抽象的类。

```
public abstract class Repository : HttpClient
{
    public override async Task<HttpResponseMessage> SendAsync(HttpRequestMessage request, CancellationToken cancellationToken)
    {
        //retry logic here
        var response = await base.SendAsync(request, cancellationToken);
        while (!IsValid(response))
        {
            Attempts++;
            response = await Retry(request, cancellationToken);
        }
        Attempts = 0;
        return response;
    }
    public int Attempts { get; set; }
    public abstract bool IsValid(HttpResponseMessage response);
    public abstract Task<HttpResponseMessage> Retry(HttpRequestMessage request, CancellationToken cancellationToken);
    public abstract Type GetPageForUri(Uri uri);
    public abstract Task<object> GetItems(Uri uri);
} 
```

但是当子类调用 getStringAsync 时，它不会在 Repository 中调用 SendAsync

```
public class EmailClient : Repository
{
    public override bool IsValid(HttpResponseMessage response)
    {
        return response.IsSuccessStatusCode;
    }
    public override Task<HttpResponseMessage> Retry(HttpRequestMessage request, CancellationToken cancellationToken)
    {
        return base.SendAsync(request, cancellationToken);
    }
    public override Type GetPageForUri(Uri uri)
    {
        return typeof(EmailPage);
    }
    public override async Task<object> GetItems(Uri uri)
    {
        var emails = await GetStringAsync(uri);
        return emails;
    }
} 
```

我怎么做错了？我应该制作一个 HttpClientHandler 并将其包含在 HttpClient 中吗？如果这有任何不同，我已经尝试阅读有关虚拟的信息。但我不明白为什么它没有被调用。谁能帮我？

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2016-04-13T23:13:03.590

HttpClient 是一个`HttpMessageHandler`实现的瘦包装器（通常`HttpClientHandler`，大多数运行时实现支持的特性的属性）

实际上有一个`HttpMessageHandler`基类用于装饰器，例如您的重试场景，`DelegatingHandler`您可以像这样实现：

就像是：

```
public class RetryMessageHandler : DelegatingHandler
{
    readonly int retryCount;

    public RetryMessageHandler(int retryCount)
        : this(new HttpClientHandler(), retryCount)
    {
    }

    public RetryMessageHandler(HttpMessageHandler innerHandler, int retryCount)
        : base(innerHandler)
    {
        this.retryCount = retryCount;
    }

    public override async Task<HttpResponseMessage> SendAsync(HttpRequestMessage request, CancellationToken cancellationToken)
    {
        HttpResponseMessage response = null;

        for (int i = 0; i<=retryCount; i++)
        {
            response = await base.SendAsync(request, cancellationToken);

            if (response.IsSuccessStatusCode)
            {
                return response;
            }
        }

        return response;
    }
} 
```

然后你会像这样使用它：

```
HttpClient httpClient = HttpClientFactory.CreatePipeline(new HttpClientHandler(), 
    new [] { new RetryMessageHandler(3) });

var response = await httpClient.SendAsync(request); 
```

此外，我建议您`EmailClient`包装/依赖 HttpClient，而不是扩展它。（谷歌“组合与继承”了解更多信息）

* * *

## 回答 #2

> 赞同：-3
> 
> 时间：2019-06-28T05:04:04.263

response = await base.SendAsync(request, cancelToken); 不返回任何东西只是永远等待，使用.configureawait（false）是一个好习惯吗？

# javascript - 如何在 freebase 搜索小部件中选择类别？

> ID：15716400
> 
> 赞同：1
> 
> 时间：2013-03-30T08:03:54.993
> 
> 标签：javascript, jquery, google-api, freebase

我在我的项目中使用 Freebase Search Widget，使用它我可以从我的输入框中的建议列表中选择单词，但是如何在另一个文本框中获取类别呢？

示例：[http ://suggest-examples.freebaseapps.com/](http://suggest-examples.freebaseapps.com/)

如果我输入：James Cameron，它将在文本框中被选中，但我还希望在另一个文本框中选择类别？

代码：

```
$(function() {
  $("#myinput").suggest({
    key: "YOUR-API-KEY-GOES-HERE",
    filter:'(all type:/film/director)'
  });
}); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-30T22:50:10.973

[Freebase Search 小部件](https://developers.google.com/freebase/v1/search-widget)使用Freebase [Search API](https://developers.google.com/freebase/v1/search-overview)来建议实体。因此，当您在输入字段中键入“james cameron”时，您将发送以下搜索 API 请求：

```
https://www.googleapis.com/freebase/v1/search?query=james+cameron&exact=false&prefixed=true 
```

您可以在该 API 调用的响应中看到，它传回了名称、ID、排名以及实体的显着特征：

```
{
  "mid": "/m/03_gd",
  "id": "/en/james_cameron",
  "name": "James Cameron",
  "notable": {
    "name": "Film Director",
    "id": "/m/02jknp"
  },
  "lang": "en",
  "score": 629.205872
},... 
```

All of this data is accessible from the jQuery callback in the Search widget like this:

```
$(function() {
  $("#myinput").suggest({
    key: "YOUR-API-KEY-GOES-HERE",
    filter:'(all type:/film/director)'
  }).bind("fb-select", function(e, data) {
    alert(data.name + ", " + data.id + " (" + data.notable.name + ")");
  });
}); 
```

In this case, James Cameron ([/m/03_gd](http://www.freebase.com/m/03_gd)) is notable for being a film director ([/m/02jknp](http://www.freebase.com/m/02jknp)).

# kendo-ui - 如何在 KendoUI DatePicker 中引发更改事件？

> ID：15716402
> 
> 赞同：15
> 
> 时间：2013-03-30T08:04:21.370
> 
> 标签：kendo-ui, telerik, kendo-datepicker

我正在尝试使用下面的代码设置我的 DatePicker 的值，并期望引发“更改”事件，但事实并非如此。

```
var datePicker = $("#datePicker").data("kendoDatePicker");
var previousDate = new Date(datePicker.value());
previousDate.setDate(previousDate.getDate() - 1);
$("#displayDate").text(kendo.toString(new Date(previousDate), 'D'));
datePicker.value(previousDate); 
```

但是，通过用户界面更改日期值确实会按预期引发“更改”事件。

* * *

## 回答 #1

> 赞同：16
> 
> 时间：2013-03-30T11:05:31.163

请尝试使用以下代码片段。

HTML

```
<input id="datepicker" />
<input type="button" value="set date" onclick="setdateInDP()"> 
```

JS

```
<script type="text/javascript">
$(document).ready(function () {
    function onChange() {
        alert("Change :: " + kendo.toString(this.value(), 'd'));
    }

    $("#datepicker").kendoDatePicker({
        change: onChange
    });
});

function setdateInDP() {
    var datePicker = $("#datepicker").data("kendoDatePicker");
    var previousDate = new Date(datePicker.value());
    previousDate.setDate(previousDate.getDate() - 1);
    datePicker.value(previousDate);
    $("#datepicker").data("kendoDatePicker").trigger("change");
} 
```

# jquery - Append ul on focus

> ID：15716409
> 
> 赞同：0
> 
> 时间：2013-03-30T08:05:07.140
> 
> 标签：jquery, focus, append

I have a field `#autoc1` which is used for autocomplete.

All works great but I want to add an item to the end of the generated `UL` to allow a user to add a new item should the autocomplete not find what they look for.

My thinking is to append the generated `UL` on focus in the text input so the option is always there

I'm trying the following but not working:

```
$(function() {
            $( "#autoc1" ).autocomplete({
                source: "/pages/includes/getAgent.php",
                minLength: 2,
                select: function( event, ui ) {
                    $('#autoc1').val(ui.item.agent_name);
                    $('#comm').val(ui.item.commission_percent);
                    return false;
                }
            }).data( "ui-autocomplete" )._renderItem = function( ul, item ) {
                return $( "<li>" )
                .append( "<a>" + item.agent_name + "</a>" )
                .appendTo( ul )
            };

            $('#autoc1').focus(function() {
                $('#ui-id-1').append('<li><a href="new.html">Add new</a></li>');
            });
}); 
```

This is auto generated html

```
<ul style="display: none; width: 360px; top: 248px; left: 856.5px;" tabindex="0" id="ui-id-1" class="ui-autocomplete ui-front ui-menu ui-widget ui-widget-content ui-corner-all">
    <li role="presentation" class="ui-menu-item">
        <a tabindex="-1" class="ui-corner-all" id="ui-id-2">agent a</a>
    </li>
    <li role="presentation" class="ui-menu-item">
        <a tabindex="-1" class="ui-corner-all" id="ui-id-3">agent b</a>
    </li>
</ul> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-30T08:16:56.857

Provided I understand the situation, it would probably work cleaner if you just put your 'new item' element *after* the `<ul>` and show/hide depending on the situation. Something like this:

**HTML**

```
<ul style="display: none; width: 360px; top: 248px; left: 856.5px;" tabindex="0" id="ui-id-1" class="ui-autocomplete ui-front ui-menu ui-widget ui-widget-content ui-corner-all">
    ...
</ul>
<div id="new-item">
    <label>
        New item
        <input type="text" />
    </label>
</div> 
```

**JS**

```
$('#autoc1').focus(function() {
    $('#new-item').show();
}); 
```

# jsp - 将 JSP Web 界面与 Lucene 索引搜索器集成

> ID：15716412
> 
> 赞同：0
> 
> 时间：2013-03-30T08:05:28.360
> 
> 标签：jsp, web-applications, servlets, lucene

我正在建立一个搜索引擎。我已经使用 Lucene 编写了索引器和搜索器。我在 JSP 中构建了一个 Web 界面，连同她的查询一起记录了她当前的时间和位置。但是作为 JSP 新手，我无法理解如何将我的 JSP webUI 与 Lucene 索引搜索器集成。所以基本上我想将与其他参数关联的查询传递给 Lucene 索引搜索器，并像任何其他标准搜索引擎一样在浏览器中以页面方式显示结果。

在这种情况下，我学习了有关 Jsp 和 Lucene 的教程。但我不明白该怎么做。因此，任何人都可以提出任何想法或建议一个链接，我可以从中了解如何实现它。

# r - 如何设定填补面板数据特定空白的条件？

> ID：15716413
> 
> 赞同：4
> 
> 时间：2013-03-30T08:05:29.280
> 
> 标签：r, conditional, time-series, missing-data

我在 R data.frame 中有面板数据，其中包含 1989 年至 2008 年期间各国武装冲突的年份。但是，仅包括在给定年份经历过武装冲突的国家的观察结果。

数据集与此类似：

```
df <- data.frame(c("1989","1993","1998",
     "1990","1995","1997"),
    c(rep(c(750, 135), c(3,3))), c(rep(1,6)))
names(df)<-c("year","countrycode","conflict")
print(df)

  year countrycode conflict
1 1989         750        1
2 1993         750        1
3 1998         750        1
4 1990         135        1
5 1995         135        1
6 1997         135        1 
```

我现在想填补面板数据中的空白，但仅限于不超过三年的空白。例如，我想在第 1 行和第 2 行之间以及第 5 行和第 7 行之间添加行（间隔分别为 3 和 1 年），但既不在第 2 行和第 3 行之间，也不在第 4 和第 5 行之间（间隔分别为 4 年） . 在此过程之后，上面的 data.frame 将如下所示：

```
> df2 <- data.frame(c("1989","1990","1991","1992","1993","1998",
+      "1990","1995","1996","1997"),
+     c(rep(c(750, 135), c(6,4))), c(1,0,0,0,1,1,1,1,0,1))
> names(df2) <- c("year","countrycode","conflict")
> print(df2)
   year countrycode conflict
1  1989         750        1
2  1990         750        0
3  1991         750        0
4  1992         750        0
5  1993         750        1
6  1998         750        1
7  1990         135        1
8  1995         135        1
9  1996         135        0
10 1997         135        1 
```

我查看了`plm`包裹（见[这里](http://cran.r-project.org/web/packages/plm/plm.pdf)），但在那里找不到任何答案。另外，我对 R 比较陌生，所以我会很高兴任何提示。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-30T12:31:57.977

这是一个使用`data.table`. 这个想法是首先创建一个`data.table`只有缺少的条目`(dt.rest)`，然后再创建`rbind`它们。我以这样一种方式编写它，即每行的输出（通过复制/粘贴和打印）应该相当简单易懂。如果有不清楚的地方，请告诉我。

```
require(data.table)
dt <- data.table(df, key="countrycode")
dt$year <- as.numeric(as.character(dt$year))
dt[J(unique(countrycode)), year2 := c(tail(year, -1), NA)]
dt.rest <- dt[, { tt <- which(year2-year-1 <=3); 
                  list(year = unlist(lapply(tt, function(x) 
                              seq(year[x]+1, year2[x]-1, by=1))), 
                       conflict = 0)
                }, by=countrycode]
setcolorder(dt.rest, c("year", "countrycode", "conflict"))

#    year countrycode conflict
# 1: 1996         135        0
# 2: 1990         750        0
# 3: 1991         750        0
# 4: 1992         750        0 
```

Now, we just have to `rbind` them. This is done using `rbindlist` function within `data.table` that binds `data.frame` or `data.table` much more efficiently than `rbind`.

```
dt[, year2 := NULL]
dt <- rbindlist(list(dt, dt.rest))
setkey(dt, "countrycode", "year")

dt
#     year countrycode conflict
#  1: 1990         135        1
#  2: 1995         135        1
#  3: 1996         135        0
#  4: 1997         135        1
#  5: 1989         750        1
#  6: 1990         750        0
#  7: 1991         750        0
#  8: 1992         750        0
#  9: 1993         750        1
# 10: 1998         750        1 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-30T12:15:57.863

对于初学者来说，这个解决方案可能看起来很混乱且难以消化，但由于它是一个非常具体且不寻常的问题（至少对我而言），我想不出任何更基本的东西。

```
# Convert the `year` column to integer in case it is a factor
df$year <- as.integer(as.character(df$year))

df.country <- lapply(
    # Split `df` by `countrycode` to make one data frame per country
    split(df, df$countrycode),

    # Apply the following function to each coutry's data frame
    function(tab){
        # Send the start and end years of each gap to the following function
        imputed.yr <- mapply(function(start, end)
            # If the gap is small enough add all values in between
            # otherwise just return the start and end years
            if(end - start < 5) start:end else c(start, end),
        tab$year[-nrow(tab)], tab$year[-1])

        # Remove duplicate years
        imputed.yr <- unique(unlist(imputed.yr))
        # Pack up and return a new data frame
        data.frame(year = imputed.yr,
                   contrycode = tab$countrycode[1],
                   conflict = imputed.yr %in% tab$year)
    })

# Paste all the imputed country specific data frames together
do.call(rbind, df.country) 
```

上面的代码产生以下输出，这与您要求的基本相同。

```
 year contrycode conflict
135.1 1990        135     TRUE
135.2 1995        135     TRUE
135.3 1996        135    FALSE
135.4 1997        135     TRUE
750.1 1989        750     TRUE
750.2 1990        750    FALSE
750.3 1991        750    FALSE
750.4 1992        750    FALSE
750.5 1993        750     TRUE
750.6 1998        750     TRUE 
```

# php - 在php中的url中传递值

> ID：15716418
> 
> 赞同：-4
> 
> 时间：2013-03-30T08:06:17.140
> 
> 标签：php, url, dynamic, syntax, action

我知道当单击提交按钮时可以在 url 中传递一个值，例如：
`action= assignastemp.php?value1=a`然后在 assignastemp 文件中检索它，`$query=$_GET['value1'];`以便 $query 取值 a。

现在，检查以下内容：

我的 assignastemp 文件中有这行代码，以便我可以检索变量中的教授 ID`$query: $query=$_POST['searchprofid'];`

在 assignastemp 的操作字段中，我输入了：`action= 'sendmail.php?prof_id=$query`' 因为**我希望将同一个教授 ID 传递给我的下一个表单 sendmail.php**，以便我也可以在 sendmail.php 中显示和使用它。但它没有传递价值。**请告诉我正确的语法**。

这是我的**search.php**文件（它工作正常并给了我正确的结果，但没有将 prof_id 传递给 assignastemp.php）：

```
<?php
include('connectionfile.php');

    $query=$_POST['searchprofid'];
    $query1 = $_POST['searchprofname']; 
    $query2=$_POST['searchprofdesignation'];
    $query3=$_POST['searchprofexperience'];
    $query4=$_POST['searchprofemail'];
    $query5=$_POST['searchprofcolg'];
    $query6=$_POST['searchprofsubject'];

    echo "<br><p>";

        $raw_results = mysql_query("SELECT * FROM professor  WHERE (`prof_id` LIKE '%".$query."%') AND (`prof_name` LIKE '%".$query1."%')  AND (`designation` LIKE '%".$query2."%')  AND (`experience` LIKE '%".$query3."%')  AND (`prof_email_id` LIKE '%".$query4."%')  AND (`college_name` LIKE '%".$query5."%') AND (`subject_name` LIKE '%".$query6."%') ") OR die(mysql_error());

    $number= mysql_num_rows($raw_results);
    echo "<br>No. of results returned: ";
    echo "$number";

if($number > 0)
{

     echo ( "<form id='assign' action= 'assignastemp.php?prof_id=$query' method='post'> <table border='1' cellpadding='8' cellspacing= '6' bgcolor= 'white' bordercolor='158bee' align='center' >" ) ; 
            while($results = mysql_fetch_array($raw_results))
    {           
                echo ("<tr><td><p>".$results['prof_id']."</td><td>".$results['prof_name']."</td><td>".$results['designation']."</td><td>".$results['experience']."</td><td>".$results['prof_email_id']."</td><td>".$results['college_name']."</td><td>".$results['subject_name']."</td> ");

     echo(" <td><center><input type= 'submit' name='assign' value= 'Assign' /> </td>"); 

    /* echo(" <td><center><input type= 'hidden' name='prof_id' value='prof_id' /> </td>"); */

    echo("</p></tr>");
                }
    echo("</table></form>"); 
}

        else
        { 
            echo "<br> No matches found.";
        }

mysql_close($id_link);

?>

Here's **assignastemp.php**:<?php
include('connectionfile.php');

$prof_id= $_POST['prof_id'];  

 echo("</p> Professor ID: $prof_id"); 
mysql_close($id_link);

?> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-30T08:08:55.540

在您的 url 末尾附加参数，例如：`?prof_id=$query`通过 发送它们`GET`，因此您只能通过`$_GET['prof_id']`or访问该值`$_REQUEST['prof_id']`；`POST`And之间有区别`GET`，如[this question](https://stackoverflow.com/questions/3477333/what-is-the-difference-between-post-and-get)所示。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-30T08:49:44.520

您需要在 HTML 中有某种方式（表单）通过 using`POST`方法提交数据，以便能够获取通过 using 输入的数据`$_POST[...]`。

# restlet - Javascript restlet api

> ID：15716420
> 
> 赞同：0
> 
> 时间：2013-03-30T08:06:29.123
> 
> 标签：restlet

当我们查看restlet.org网站主页的源代码时，我们可能会看到以下内容：

```
type="text/javascript"     src="/javascript/restlet-client.js" 
```

看来你也为javascript开发了一个api？难道不能也向社区提出建议，并且在 github.com/borisyankov/DefinitelyTyped 上使用 typescript delation 文件。

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2013-04-02T08:55:48.850

正如 koma 所说，这个 api 是可用的，它同时针对浏览器和 nodejs。

蒂埃里

# css - How Can I Replace My 'Section' and 'Article' tags With Div's?

> ID：15716425
> 
> 赞同：1
> 
> 时间：2013-03-30T08:08:18.560
> 
> 标签：css

Live Preview: [https://tornhq.com/WorkingOn/InteractiveMap/index.html#Norway](https://tornhq.com/WorkingOn/InteractiveMap/index.html#Norway)

I am having difficulties replacing my 'Article' and 'Section' tags with div's. All my attempts so far have ended up making things look weird and whatnot.

I think it's a bit big to make a JSFiddle for this, however my CSS file is very tidy and you can view it here: [https://tornhq.com/WorkingOn/css/InteractiveMap.css](https://tornhq.com/WorkingOn/css/InteractiveMap.css)

One last thing, of which I have only just noticed. My Caret up and down symbols in my CSS file are showing up as â–¼ for Caret down and â–² for Caret up. What can I replace these with so you can see an up and down symbol when looking at my source code in the browser?

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-30T08:10:47.927

I assume you're trying to get rid of these HTML5 tags so that your site works in older browsers? You can use a polyfill JavaScript library like [Modernizr](https://www.google.com.au/url?sa=t&rct=j&q=&esrc=s&source=web&cd=1&cad=rja&ved=0CDMQFjAA&url=http://modernizr.com/&ei=3J1WUYS3NYq3iQej7ICYCw&usg=AFQjCNHnp4LYQuGIgYW80UV8Lh2xGOqP-w&bvm=bv.44442042,d.aGc) which fixes the bugs in older browsers so you can use the HTML5 semantic tags with good compatibility.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-30T08:12:26.980

# php - Cannot save thumbnail with Imagick

> ID：15716428
> 
> 赞同：1
> 
> 时间：2013-03-30T08:08:28.750
> 
> 标签：php, imagick

I'm trying to create a thumbnail of an image, however, I can display it just fine, but cannot save it.

For example:

```
$image = new Imagick("photo.png");
$image->thumbnailImage(100, 0);
header("Content-Type: image/png");
echo $image; 
```

This will in fact display my image in its thumbnailed form. But if I instead try to save it using `$image->writeImage("thumb_photo.png")` the script appears to stop (I confirmed this just by putting `echo Hello` or whatever afterwards) and no files have been created.

I'm using this on a server with Debian Wheezy, nginx, and PHP setup. The directory and PHP files themselves are readable, writable and have execute permissions for both the images and PHP files themselves. The imagick module version is 3.10\. The PHP version is 5.4.

If someone can tell me what the problem could be I would appreciate it.

EDIT: After getting the exception, I am presented with `WriteBlob Failed "thumb_photo.png" @ error/png.c/MagickPNGErrorHandler/1728`.

另一件事，显然如果我将输出从“thumb_photo.png”更改为“photo.png”，它可以工作，但会覆盖我的图像，我怎么能解决这个问题以及两个为什么它会让我覆盖我的图像而不是创建一个新的一？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-31T02:09:16.813

显然我忘记将组更改为`www-data`文件路径的文档根目录。我还需要添加`chmod -R g+s`它。去搞清楚。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-04-09T12:00:12.487

我发现如果 www-data 不存在，您可以将所有权更改为 apache:apache 并让我保存到该文件夹​​。我正在使用带有标准 php/mysql 的 Centos 7。

# php - CakePHP syntax error

> ID：15716429
> 
> 赞同：-2
> 
> 时间：2013-03-30T08:08:37.487
> 
> 标签：php, cakephp

I have this line of code, unfortunately though it has a syntax error:

> Parse error: syntax error, unexpected T_DOUBLE_ARROW on line 1

Here is the code:

```
<?php echo $this->Html->link('View/Edit', array('action' => 'view', $client['Client']['id']), "?" => array('nc' => time(), array('class' => 'view')); ?> 
```

Where is the mistake in here and how can I get this resolved?

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-30T08:16:49.780

Use indentation and this will be clear:

```
<?php 
echo $this->Html->link(
    'View/Edit', 
    array(
        'action' => 'view', 
         $client['Client']['id']
     ), 
    "?" => array(
        'nc' => time(), 
        array(
           'class' => 'view'
        )
    ); 
?> 
```

As you can see, you have closed an array after `$client['Client']['id']`, so `"?" =>` is treated as parameter to `link` function and causing an error.

# javascript - 如何获取 $.ajax() 函数中分配的变量的值？

> ID：15716430
> 
> 赞同：1
> 
> 时间：2013-03-30T08:08:47.210
> 
> 标签：javascript, jquery, web

这是我的代码。我想获得“旗帜”，但“旗帜”总是“假”。即使程序执行到“flag=true”，“flag”在返回时变为“false”。如何从 $.ajax() 中获得真正的价值？请帮我。谢谢

```
function checkUserName() {
var name = document.getElementById("userName").value;
var namemsg = document.getElementById("userNameMsg");
var flag=false;
if (name == "") {
    flag=false;
} else {
    $.ajax({
        type : "POST",
        url : "/vclub/verify/checkUserName.do",
        dataType : "json",
        data : "userName=" + name,
        success : function(data) {
            if (data == true) {
                flag=true;
            } else {
                flag=false;
            }
        }
    });
}
alert(flag);
return flag; 
```

}

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-30T08:11:42.547

由于 AJAX 是异步的，因此您需要使用回调。目前，您在代码末尾返回标志后收到 AJAX 响应。关键是`success`之前没有调用`return flag`，因为附加到的匿名函数`success`仅在从 接收到响应时才被调用`url`。请注意，由于您可能会或可能不会运行 AJAX 请求，因此当您可以立即提供返回时（如果名称是空字符串），您仍然需要使用回调函数。在这种情况下，回调将在 flag 设置为 false 后不久执行。否则，checkUserName 可能会在 AJAX 返回之前完成。

```
function checkUserName(callback) {
    var name = document.getElementById("userName").value;
    var namemsg = document.getElementById("userNameMsg");
    var flag=false;
    if (name == "") {
        // Note a callback is needed even if we don't use AJAX (because we might)
        flag=false;
        callback(flag);
    } else {
        $.ajax({
            type : "POST",
            url : "/vclub/verify/checkUserName.do",
            dataType : "json",
            data : "userName=" + name,
            success : function(data) {
                if (data == true) {
                    flag=true;
                } else {
                    flag=false;
                }
                callback(flag);
            }
        });
    }
} 
```

如何使用：

```
checkUserName(function (flag) {
    // Here, the flag variable is available, but will not run until "callback" is called above
    alert(flag);
}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-30T08:12:32.423

当`flag`AJAX 请求成功完成时， 的值会发生变化，因为您分配给函数`success`属性的`$.ajax`函数是回调。实际上，您`alert(flag);`的代码行将在执行`success`回调之前运行（当`flag`' 的值尚未更改时）。

如果你移动`alert(flag);`到`success`回调，你会看到它的值发生了变化。

我认为您也需要将`callback();`行移至该功能。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2016-03-09T10:17:27.377

把`async:false`,

```
function loadProcess(processId) {
    var prc;
    $.ajax({
        async: false,
        url: '/processes/getprocess',
        data: {
            'id': processId
        },
        success(result) {
            prc = result;
        },
        error(xhr) { alert(xhr.responseText); }
    });
    return prc;
} 
```

# javascript - 奇怪的 Backbone findWhere() 行为

> ID：15716434
> 
> 赞同：5
> 
> 时间：2013-03-30T08:08:56.300
> 
> 标签：javascript, json, backbone.js

我正在使用 Backbone 和 RequireJS 构建一个应用程序，我对`Collection.findWhere()`Backbone 函数的行为感到非常困惑。

当代码是这样的：

```
var myId = 1;
var subList = parentList.findWhere({id: myId}); 
```

subList 显示为`undefined`。

当代码是这样的：

```
var subList = parentList.findWhere({id: 1}); 
```

subList 包含正确的模型。

有谁知道这可能是什么原因？

# web - 在创建后添加 SVG 元素鼠标事件

> ID：15716437
> 
> 赞同：0
> 
> 时间：2013-03-30T08:09:32.927
> 
> 标签：web, svg

我创建了一个带有 ID 的 SVG 元素。我想`mouseout`在它生成之后动态地应用鼠标事件函数（例如），通过它的id（`getElementById`）访问它。

我尝试了以下方法：

```
svgDocument.getElementById(selectedId).setAttribute(
   'onmouseout', DeselectedPointMouseOut(selectedId)
); 
```

以及以下内容：

```
svgDocument.getElementById(selectedId).onmouseout(function()); 
```

但这些都不起作用。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-30T08:41:30.087

您在第一个示例中非常接近，但是有一些不同的问题会阻止它按预期工作。

首先，该`onmouseout`属性期望被分配一个包含一些 JavaScript 代码的字符串，而不是实际的 JavaScript 函数。您可以直接使用`addEventListener`方法而不是方法来分配 JavaScript 函数`setAttribute`。这也将允许同时应用多个事件处理程序。

第二个问题是您如何引用希望用作事件处理程序的函数。当你在函数名后面加上括号时，这意味着函数将在你的调用中执行，但你真正想要做的是*将*函数作为参数传递，以便*以后*调用它。最终调用您的函数的代码（在您的情况下将是 SVG 渲染器本身，当用户将鼠标移出元素时）将使用括号将一组参数传递给您提供的函数。

最后，事件处理函数有一个非常具体的*签名*；也就是说，它期望的参数集。它将传递一个`Event`对象，该对象描述有关发生的事件的一些详细信息。

把这些放在一起，我们可以调整代码如下：

```
// First define the event handler function.
function deselectedPointMouseOut(event) {
    // do your event handling in here
}

// Now attach the event handler to the element.
svgDocument.getElementById(selectedId).addEventListener(
    "mouseout", deselectedPointMouseOut, true
); 
```

[您可以在MDN 文章](https://developer.mozilla.org/en-US/docs/DOM/Event)中了解有关`Event`传递给事件处理程序的对象以及一般事件处理的更多信息。特别是，该事件导致将对象传递给事件处理程序。[`Event`](https://developer.mozilla.org/en-US/docs/DOM/Event)`mouseout`[`MouseEvent`](https://developer.mozilla.org/en-US/docs/DOM/MouseEvent)

额外的`true`参数 to是事件处理如何工作的详细信息，如果您有兴趣，可以在[此方法的文档中](https://developer.mozilla.org/en-US/docs/DOM/EventTarget.addEventListener)`addEventListener`阅读。

# c# - Ninject 在使用 NinjectHttpModule 时创建一个额外的实例

> ID：15716439
> 
> 赞同：5
> 
> 时间：2013-03-30T08:10:03.350
> 
> 标签：c#, asp.net-mvc, ninject

`NinjectHttpModule`出于某种原因，当我在 MVC 4 应用程序中使用时，Ninject 正在创建我的对象的附加实例。

如果我使用`NinjectHttpModule`（Ninject.MVC3 默认值）但实际上没有任何`IHttpModule`需要构造函数注入的类，它可以正常工作。但是，一旦我创建了一个实现`IHttpModule`并需要构造函数注入的类，Ninject 就会出于某种原因创建我的对象的两个实例。

我在被复制的类中添加了一些跟踪代码，以验证它是否被复制。每次创建实例时，静态计数变量都会递增：

```
namespace Trigger.Events
{
    public class TriggerEventRegistry : ITriggerRegistry
    {
        private static int count;

        public TriggerEventRegistry()
        {
            TriggerEventRegistry.count++;
        }
    }
 } 
```

这是我的`IHttpModule`：

```
namespace TriggerDevelopment.ApplicationTriggers
{
    public class RegisterTriggerComponentsHttpModule : IHttpModule
    {
        ITriggerEventRegistry eventRegistry;

        public RegisterTriggerComponentsHttpModule(ITriggerEventRegistry eventRegistry)
        {
            this.eventRegistry = eventRegistry;
        }
     }
     ....
} 
```

当 a`TriggerEventRegistry`被注入我的控制器（在同一个请求上）时，`TriggerEventRegistry.count`equals `2`。如果我在 上注释掉构造函数`RegisterTriggerComponentsHttpModule`，那么`TriggerEventRegistry.count`equals的值`1`（应该是因为应该只有一个实例/请求）。

这是绑定代码：

```
Bind<ITriggerEventRegistry>().To<TriggerEventRegistry>().InRequestScope(); 
```

对此的任何帮助将不胜感激！

**笔记**

我什至使用 curl 向我的应用程序发出请求，以避免浏览器发出多个 HTTP 请求来寻找资产、网站图标或类似的东西。仍然没有喜悦。

**更新**

经过进一步调查，我还看到 ctor 和`Init`方法`RegisterTriggerComponentsHttpModule`被调用了两次。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-05-09T03:18:20.203

它会根据请求多次调用您的 HttpModule。例如，大多数网络浏览器至少提交两个请求，页面请求和网站图标请求。尝试在页面中添加图像之类的内容，看看是否收到三个请求...

# security - 如何使用 Wire Shark 跟踪传出请求调用

> ID：15716441
> 
> 赞同：0
> 
> 时间：2013-03-30T08:10:21.440
> 
> 标签：security, trace, wireshark

我正在开发 Windows azure 项目并尝试使用开箱即用的 azure 工具。该工具似乎向 azure API 发出大量传出请求。不幸的是，我们的内部防火墙阻止了大多数 IP 地址。安全团队已请求一系列或特定的 IP 地址，以便他们可以打开端口。

我尝试使用 Wireshark 来跟踪传出的 IP 地址。可悲的是，跟踪中有很多事情发生。有人可以帮助我如何设置/配置wireshark，以便它记录特定应用程序的传出请求吗？

谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-15T21:33:28.770

这个工具就是你想要的。只需学习如何使用 Wireshark[过滤器](http://wiki.wireshark.org/DisplayFilters)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-31T11:02:34.547

试试[微软网络监视器](http://www.microsoft.com/en-us/download/details.aspx?id=4865)。
查看[Petri](http://www.petri.co.il/)并阅读此博客：
[Microsoft 网络监视器 - 第 1 部分](http://www.petri.co.il/microsoft-network-monitor-part-1.htm)
我喜欢指出这张[图片](http://www.petri.co.il/wp-content/uploads/08-network-monitor-default-layout.png)。

# regex - 为什么这个正则表达式对于某些查询来说如此慢？

> ID：15716444
> 
> 赞同：2
> 
> 时间：2013-03-30T08:10:31.207
> 
> 标签：regex, .net-4.5

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-30T17:15:12.080

# arduino - 使用 Arduino 发送 MIDI SysEx 消息？

> ID：15716446
> 
> 赞同：1
> 
> 时间：2013-03-30T08:10:39.513
> 
> 标签：arduino, midi

我想向我的 Roland JX8P 合成器发送这样的 MIDI SysEx 消息。

F0 41 36 06 21 20 01 22 1B F7

此消息将更改合成器的 VCF 截止频率。1B 是一个可变的十六进制值，相对于截止频率从 00 摆动到 7F。

在 MIDI 库中，我找到了发送 SysEx 消息的文档。

```
sendSysEx (int length, const byte *const array, bool ArrayContainsBoundaries=false) 
```

据我所知 bool ArrayContainsBoundaries 指定您是否希望库包含 F0 和 F7 消息开始/停止标签（我不这样做，所以我将其设置为 true）。int length 表示消息长度（以字节为单位）（我的消息是 10 个字节，所以这将是 10）。

我感到困惑的是数组。我可以像这样指定它们，而不是存储数组中的所有值吗？

```
 MIDI.sendSysEx(10,0xF0 0x41 0x36 0x06 0x21 0x20 0x01 0x22 0x1B 0xF7,true); 
```

另外，添加前缀 0x 是在此处指定字节的正确方法吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-30T15:31:11.003

基本答案是“不”：

您的`sendSysEx()`函数正在寻找两个或三个参数：

*   长度
*   数据数组
*   数组是否包含边界的标志。这是可选的：如果您省略它，该参数将被视为 false

通过尝试像这样传递您的数组数据：

```
MIDI.sendSysEx(10,0xF0 0x41 0x36 0x06 0x21 0x20 0x01 0x22 0x1B 0xF7,true); 
```

您正在做以下两件事之一：

*   如上所述，这只是一个语法错误：编译器不知道如何解析没有被任何东西分隔的数字文字列表。
*   如果你用逗号分隔项目，编译器会说“哦，他正在传递 12 个参数。让我找一个接受 12 个整数参数的函数……哦，我没有。抱歉。” 这给了你的`no matching function for call to`错误。

因此，调用函数的一种方法是这样的：

```
byte data[] = { 0xF0, 0x41, 0x36, 0x06, 0x21, 0x20, 0x01, 0x22, 0x1B, 0xF7 };
sendSysEx(10, data, true); 
```

In C++11 you can get closer to what you want by initializing the list in the function call, something like `sendSysEx(10,{0xF0, 0x41, 0x36, 0x06, 0x21, 0x20, 0x01, 0x22, 0x1B, 0xF7}, true);`, however, you'll find that might run into another problem (depending on your toolchain): the compiler may assume that your initializer lists like that are lists of `int`s, not `byte`s, which will also cause a compiler error, unless you specifically told your compiler to assume integer literals to be 8 bits.

# java - Java/ Writing in the first line, by out.write

> ID：15716450
> 
> 赞同：0
> 
> 时间：2013-03-30T08:11:02.157
> 
> 标签：java, file

I try to find a way to write in the first line of a file.

The problem is that I write to the file about 3000 lines (by `out.write`), but just in the end of this writing I have a information that needed to be insert to the first line of this file.

There is a easy way to do that?

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-30T08:13:15.130

> There is a easy way to do that?

Nope. This isn't a matter of Java being awkward - it's just file systems, which don't generally allow you to *insert* data within a file.

Options:

*   Generate the file in memory (3000 lines isn't a lot) and then write it all out when you know the first line
*   Write out the file without the first line, then start a *new* file by writing out the first line, and then copying the "old" file line by line
*   If you know the *length* of the first line (in bytes) before you start, you could leave enough room, write out the length of the file, and then *overwrite* the first line

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-30T08:54:25.507

You can use two stream, one for your current and one for final. When write end, write information first and then write your current stream to the final stream.

```
OutputStream finalOs;
OutputStream dataOs;
//...write your data
finalOs.write(your information);
finalOs.write(dataOs);// just 4 example 
```

# mysql - 在 Yii 中通过 CDbCriteria 选择一个表达式

> ID：15716451
> 
> 赞同：1
> 
> 时间：2013-03-30T08:11:06.297
> 
> 标签：mysql, yii

首先，我使用以下代码：

```
$c = new CDbCriteria();

$c->select = '*, DATEDIFF(deadline_time, NOW()) AS day_left';
$c->addCondition('DATEDIFF(deadline_time, NOW()) > 0');
$c->addCondition('DATEDIFF(deadline_time, NOW()) < :diff');
$c->params += array(':diff' => $diff);

$assigns = UserAssign::model()->findAll($c); 
```

查询工作正常，但我想通过关系添加一些新条件，所以代码变成这样：

```
$c = new CDbCriteria();
$c->with = array('user');

if(Yii::app()->user->model->isAreaAdministrator) {
    $c->addCondition('user.city_id = :cityId');
    $c->params += array(':cityId' => Yii::app()->user->model->adminCityId);
}

$c->select = '*, DATEDIFF(deadline_time, NOW()) AS day_left';
$c->addCondition('DATEDIFF(deadline_time, NOW()) > 0');
$c->addCondition('DATEDIFF(deadline_time, NOW()) < :diff');
$c->params += array(':diff' => $diff);

$assigns = UserAssign::model()->findAll($c); 
```

添加`with`属性后，查询似乎不起作用，它转储消息`trying to select an invalid column "DATEDIFF(deadline_time"`错误。

我是 Yii 的新手，有人可以帮助我吗？谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-30T21:25:46.403

`DATEDIFF(deadline_time, NOW())`在条件中替换为

```
new CDbExpression('DATEDIFF(deadline_time, NOW())') 
```

我不确定它是否有效`select`。如果不是，您可以使用该`afterFind`函数将公共变量设置`$day_left`为`DATEDIFF(deadline_time, NOW())'`

```
class UserAssign{
    public $day_left;//new variable
    ...

    public function afterFind(){
        $this->day_left=date_diff(date_create($this->deadline_time),date_create('now'))->format('%R%a days');
        return parent::afterFind();
    }
} 
```

# iphone - 从 ios 应用程序在 Tumblr 上共享文本

> ID：15716452
> 
> 赞同：0
> 
> 时间：2013-03-30T08:11:19.307
> 
> 标签：iphone, ios, share, tumblr

在我的应用程序中，我想通过 tumblr api 共享文本。

我只是想要一些提示，以便我可以准确了解如何在 tumblr 上共享文本。

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-08-08T13:35:21.217

您可以使用[https://github.com/tumblr/TMTumblrSDK#authentication](https://github.com/tumblr/TMTumblrSDK#authentication)

我已使用以下代码与 tumblr 共享文本

```
 NSArray* paramsKeys = [[NSArray alloc] initWithObjects:
                       @"title",
                       @"body",
                       nil];
    NSArray* paramsVals = [[NSArray alloc] initWithObjects:
                       @"Testing",
                       @"HEllo Posting it to Tumblr",
                       nil];
    NSDictionary *paramsDict = [[NSDictionary alloc]initWithObjects:paramsVals forKeys:paramsKeys];

    [[TMAPIClient sharedInstance]text:@"blogname" parameters:paramsDict callback:^(id response, NSError *error)
    {

        if(!error)
        {
            NSDictionary *dashboard = response;
            NSLog(@"%@",dashboard);

        }
    }]; 
```

# html - 始终知道复选框是否被选中

> ID：15716455
> 
> 赞同：3
> 
> 时间：2013-03-30T08:11:37.443
> 
> 标签：html

我的网页看起来像这样

```
<form id="1" ... action="<?php $arr = explode ('/',$_SERVER['REQUEST_URI']); echo $arr[count($arr) - 1]; ?>#partone">       
  <div id = "partone">Hello</div>
</form>

<form id="2" ... action="<?php $arr = explode ('/',$_SERVER['REQUEST_URI']); echo $arr[count($arr) - 1]; ?>#parttwo">       
<?php
if(//what?)
  echo '<input type="checkbox" name="aktualisieren" value="yes" id="aktualisieren" checked>refresh';
else
  echo '<input type="checkbox" name="aktualisieren" id="aktualisieren" value="no">refresh';
?> 
<div id = "parttwo">Hello, two</div>
</form> 
```

我的目标是

*   总是知道复选框*aktualisieren*是否在提交页面之前被选中/被选中
*   转移状态
*   将状态保存到变量 $checked

因此，如果检查了*aktualisieren*，现在应该检查它，并且某些变量 $checked 应该为真，反之亦然。

当*表单 1*提交而*表单 2*包含复选框时会出现问题，因此 $_POST 中将没有字段用于复选框。

**编辑：**使用不同表单的原因是我想用不同的锚点提交它以根据提交的位置跳转到适当的位置。如果可以以不同的方式完成，我只能使用一种形式。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-30T08:18:05.797

使用**单一表格**。这是如何做到这一点的答案。

否则，您必须使用一个小*技巧*来做到这一点：在 form1 中创建相同的复选框元素，但将其隐藏。每当 form1 中复选框的状态发生更改时，您都必须更改隐藏复选框的状态。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-30T08:36:41.347

您应始终每页只使用一个表格。否则，当您提交一个表单时，其他表单中的所有数据都会丢失。我通常在正文标签的最开始处开始表单。

# php - FCGI 和 upload_tmp_dir PHP 指令无法正常工作

> ID：15716457
> 
> 赞同：0
> 
> 时间：2013-03-30T08:11:54.940
> 
> 标签：php, cgi, fastcgi, mod-fcgid

我将*PHP*作为*FCGI*运行！我将`upload_tmp_dir` option 设置为 value `/home/domain.com/tmp`。执行`phpinfo()`复查时，确认上述设置正确。

然而，当实际上传发生时，上传文件会暂时进入`/tmp`具有权限的目录`apache:apache`，当上传完全完成时，上传的文件*才会*被移动到目标目录，该目录设置在`upload_tmp_dir`. 文件移动后，它具有*适当的*权限，即`domainowner:domainowner`.

`FCGI`如上所述发生的事情是绝对错误的，并且与正在做的事情`mod_php`或 `CGI`正在做的事情不同！`mod_php`并 `CGI`开始*直接*将文件上传到`upload_tmp_dir`，然后在上传完成后*重命名文件。*

我对此几乎没有什么担忧，如下所示：

想象一下，如果 20 个人同时完成上传大约 2GB 的文件会怎样？上传的文件必须从 移动到主目录`/tmp`，给文件系统造成很多无用的负载！因此，我认为移动比重命名同一目录中的文件更有资源？！除了`/tmp`挂载为`ext3`和 home as `ext4`，更糟糕的是`/tmp`分区是 16GB 的空间，这与我上面想象的完全是灾难？

**问题：**

如何以与or相同的方式强制`FCGI`使用指令？我还没有找到记录的方法来更改它使用的临时目录。`upload_tmp_dir``CGI``mod_php`

请帮忙！？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-08-12T10:36:13.613

[bugs.php.net](https://bugs.php.net/bug.php?id=46378)讨论了这个问题。可能的解决方案是您需要将任何父目录上的读取属性设置为您的`tmp`文件夹所在的位置，以使其工作。这可能是一个安全风险。

我建议`tmp`在`/home/tmp`设置chmod *777*和`home``tmp`

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-03-30T08:20:33.680

[该线程](http://www.howtoforge.com/forums/archive/index.php/t-48893.html)表明这可能是由于安全级别设置所致。如果为“中”，则 FCGI 默认为系统默认值。

不确定它引用的是什么设置，因为它指的是桌面安装。我会做一些挖掘工作。

# php - 如何在 xampp 中安装或启用 openssl？

> ID：15716459
> 
> 赞同：1
> 
> 时间：2013-03-30T08:12:04.173
> 
> 标签：php, windows, apache, xampp

我在谷歌上花了太多时间并搜索了如何在 xampp 中安装或启用 openssl 但我无法获得正确的解决方案我在 xampp 中安装或启用需要 openssl 因为我想安装`PhreedomR35RC3 Open Source`

PhreedomR35RC3 安装时显示错误！

```
The following installation errors have been found.
Errors (in red) must be fixed before the installation 
script can proceed.Cautions (in yellow) will not prevent 
installation.But may prevent modules from operating properly.
Your server needs to have openssl installed. 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-30T08:15:09.790

打开您的 php.ini 文件，并删除 php_openssl.dll 之前的分号，然后重新启动服务器。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2014-07-26T07:06:21.767

1）在您的 php.ini 文件中，在 extension=php_openssl.dll 之前删除注释 2）在您的 php 配置文件中，在 extension=php_openssl.dll 之前删除注释 3）重新启动您的 apache 服务器 4）检查是否在 PHAR 下启用了 openssl Xampp主页中的部分

# javascript - Changing shown URL after GET Request

> ID：15716462
> 
> 赞同：0
> 
> 时间：2013-03-30T08:12:33.120
> 
> 标签：javascript, html, spring-mvc

Currently I have 2 pages based on the following URL `MyNewApp/purchase` and `MyNewApp/confirm`. On the 2nd page that is /confirm I added a back button with the following

**HTML**

```
<button type="submit" class="btn" id="back">
Go Back
</button> 
```

**JS**

```
$('button[id="back"]').click(function() {
    this.form.action="backToPurchase";
    this.form.method="GET";
}); 
```

After pressing the back button everything works fine except the URL changed to `/MyNewApp/backToPurchase?_method=`. How can I set the URL to `/MyNewApp/purchase` after pressing the back button ?

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-30T08:17:25.810

You Can't just change the URL as you wish. Think about it, if you could change the URL like that it would be a big security problem.

BUT try to use POST instead, or just send the user to a new page so the URL will change, You have lots of options to solve it, just think.

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-31T06:30:20.057

This is technically the answer to your question, though you might want to think about a better way to do what you want.

window.history.pushState(null, null, “/new-url”);

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-31T06:46:03.113

I would recommend a better option, instead of submitting a form just for redirection, use the following:

```
$('#back').click(function() {// <-- selecting by id is much faster than selecting by attribute "id"
    location.href = '/backToPurchase'; // or '/purchase';
    // OR you can do the following :
    history.back(); //this will performs as you clicked the back btn from the browser
}); 
```

# sql-server - Is is possible to view content of an .mdf file with NoSQL?

> ID：15716463
> 
> 赞同：-3
> 
> 时间：2013-03-30T08:12:45.393
> 
> 标签：sql-server, mongodb, mdf

I just want to know if it is possible to view content of tables in `.mdf` files with NoSQL for example mongodb? I don't want to change in `.mdf` file just view inside it.

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-30T08:47:53.553

Sorry to say this, but you seem to completely lack any understanding about relational databases, NoSQL databases and the difference between them.

SQL Server and MongoDB are not only two completely different database products, but two completely different **kinds of databases** as well ([relational](http://en.wikipedia.org/wiki/Relational_database) vs. [non-relational](http://en.wikipedia.org/wiki/NoSQL)).

*Asking whether you can read SQL Server database files with MongoDB is like asking if you can edit AutoCAD files with Microsoft Excel (or the other way round).
Both are complex tools with their own file formats, but made by different vendors and for completely different purposes.*

# google-maps - Google Maps API V3 与 Google Maps 页面的区别

> ID：15716467
> 
> 赞同：2
> 
> 时间：2013-03-30T08:13:05.947
> 
> 标签：google-maps, google-maps-api-3

在 GoogleMaps 上输入这个地址：“Tokyo, Minatoku, Higashi Azabu 1-9-11”，我得到一个坐标在 35.65733、139.7444 左右的位置。

但是，当我尝试使用 API（V3）以完全相同的格式（只是 URL 编码的空格）获取相同的地址时，我得到的坐标非常不同，坐标 35.6894875、139.6917064： [http ://maps.googleapis.com/maps/ api/geocode/json?address=东京,%20Minatoku,%20Higashi%20Azabu%201-9-11&sensor=true](http://maps.googleapis.com/maps/api/geocode/json?address=Tokyo,%20Minatoku,%20Higashi%20Azabu%201-9-11&sensor=true)

我应该怎么做才能获得与 Google 地图使用的完全相同的服务？

# android - 有什么方法可以用android NDK编译libuv吗？

> ID：15716471
> 
> 赞同：5
> 
> 时间：2013-03-30T08:13:42.660
> 
> 标签：android, android-ndk, libuv

我们现在正在使用 c/c++ 为 android 客户端开发一些功能。

所以我们将使用 android NDK - r8 来编译我们的代码。

我们也在代码中使用 libuv。

不幸的是，android NDK 无法正确编译 libuv。无法识别以“pthread_”开头的所有术语。

有人有想法或提示吗？非常感谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-05-23T14:24:34.217

主线 libuv 中还没有对 android 的支持，但我知道至少有两个补丁集可以修复它：

*   [在 rust 中实现](https://github.com/mozilla/rust/issues/6567)
*   [作为最近提交的拉取请求](https://github.com/joyent/libuv/pull/805)

虽然我不能说后者（看起来质量很好），但我可以告诉你，前者目前被用于 Android 的 rust 和伺服端口。

# javascript - Javascript IF/Else and performance

> ID：15716472
> 
> 赞同：-5
> 
> 时间：2013-03-30T08:13:44.807
> 
> 标签：javascript, performance

Do if/else statements affect performance?

**Edit**: Okay this is ridiculous

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-30T08:21:31.530

What your colleague is likely referring to is that in some cases assigning a variable every time is faster than checking some condition and then assigning it.

```
var a = 2;

function slower() {
    if (a !== 0)
        a = 0;
}

function faster() {
    a = 0;
} 
```

Really though, it is pretty ridiculous to consider performance impact of a single `if` statement considering how powerful today's computers are.

# java - 线程“AWT-EventQueue-0”java.awt.IllegalComponentStateException 中的异常：框架是可显示的

> ID：15716473
> 
> 赞同：1
> 
> 时间：2013-03-30T08:13:55.473
> 
> 标签：java

我有这个java代码：

```
Editor()
{
    javax.swing.SwingUtilities.invokeLater(new Runnable()
    {
        public void run() 
        {
            // Create Menu
            JMenuBar menuBar = drawMenu();
            frame.setJMenuBar(menuBar);

    frame.setUndecorated(true);
    frame.add(desktop, BorderLayout.CENTER);
            frame.add(toolbar,BorderLayout.NORTH);
            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
            frame.setExtendedState(JFrame.MAXIMIZED_BOTH);
            frame.getRootPane().setWindowDecorationStyle(JRootPane.INFORMATION_DIALOG);
            frame.setTitle("JIL");
            frame.pack();
            frame.setVisible(true);
        }
});
  }

public JMenuBar drawMenu() 
{
    // Create the menu bar
    JMenuBar menuBar = new JMenuBar();
    // Create a menu
    JMenu file = new JMenu("File");
    JMenu edit = new JMenu("Edit");
    JMenu run = new JMenu("Build");
    JMenu help = new JMenu("Help");
    menuBar.add(file);
    menuBar.add(edit);
    menuBar.add(run);
    menuBar.add(help);

    JMenu _new = new JMenu("New");
    file.add(_new);

        ClassLoader classLoader = Thread.currentThread().getContextClassLoader();
    JButton clsbutton=new JButton(new ImageIcon (classLoader.getResource ("img/cls.jpg")));
    clsbutton.setSize(2, 2);
    clsbutton.setToolTipText("New Class");
    toolbar.add(clsbutton);
    clsbutton.addActionListener(new ActionListener() 
    {
        public void actionPerformed(ActionEvent event) 
        {   
            new newClass();
        }
    });
       }

newClass()
    {
contentPanelC.removeAll(); 
getContentPane().removeAll();
setTitle("New Class");
setBounds(100, 100, 470, 400);
getContentPane().setLayout(new BorderLayout());
contentPanelC.setBorder(new EmptyBorder(5, 5, 5, 5));
getContentPane().add(contentPanelC, BorderLayout.CENTER);
contentPanelC.setLayout(null);

JLabel lblNewLabel = new JLabel("Class Name");
lblNewLabel.setBounds(50, 51, 120, 17);
contentPanelC.add(lblNewLabel);
contentPanelC.revalidate();
contentPanelC.repaint();

textField = new JTextField();
textField.setBounds(170, 51, 228, 20);
contentPanelC.add(textField);
contentPanelC.revalidate();
contentPanelC.repaint();
textField.setColumns(10);
textField.setText(null);
textField.revalidate();
textField.repaint();

String fnam=textField.getText();
System.out.println("Initial value TextField: "+fnam);

JLabel lblNewLabel_1 = new JLabel("Location");
lblNewLabel_1.setBounds(50, 111, 120, 17);
contentPanelC.add(lblNewLabel_1);
contentPanelC.revalidate();
contentPanelC.repaint();

textField_1 = new JTextField();
textField_1.setBounds(170, 111, 131, 20);
contentPanelC.add(textField_1);
contentPanelC.revalidate();
contentPanelC.repaint();
textField_1.setColumns(10);
textField_1.setText(null);
textField_1.revalidate();
textField_1.repaint();

final JButton btnNewButton = new JButton("Browse");
btnNewButton.addActionListener(new ActionListener() 
{
    public void actionPerformed(ActionEvent arg0) 
    {
        String workingdir = System.getProperty("user.dir");
        chooser = new JFileChooser(new File(workingdir));
        chooser.setDialogTitle("Select Location");
        chooser.setFileSelectionMode(JFileChooser.DIRECTORIES_ONLY);
        chooser.setAcceptAllFileFilterUsed(false);

        if (chooser.showOpenDialog(null) == JFileChooser.APPROVE_OPTION) 
        {
          File selectedFile = chooser.getSelectedFile();
          System.out.println(selectedFile.getName());
          textField_1.setText(selectedFile.getPath());
        } 
        else 
        {
          System.out.println("No Selection ");
        }
        btnNewButton.revalidate();
    }
});

btnNewButton.setBounds(320, 111, 89, 20);
contentPanelC.add(btnNewButton);
contentPanelC.revalidate();
contentPanelC.repaint();

{

    JPanel buttonPaneC = new JPanel();
    buttonPaneC.removeAll();
    buttonPaneC.setLayout(new FlowLayout(FlowLayout.RIGHT));
    getContentPane().add(buttonPaneC, BorderLayout.SOUTH);
    {
        final JButton okButton = new JButton("Ok");
        okButton.addActionListener(new ActionListener() 
        {
            public void actionPerformed(ActionEvent arg0) 
            {
                {
                // some file operations
                }
                textField.setText("");
                textField.revalidate();
                textField.repaint();

                textField_1.setText("");
                textField_1.revalidate();
                textField_1.repaint();

                dispose();

            }
        });
        okButton.setActionCommand("Ok");
        buttonPaneC.add(okButton);
        buttonPaneC.revalidate();
        buttonPaneC.repaint();
        getRootPane().setDefaultButton(okButton);

    }
    {
        final JButton cancelButton = new JButton("Cancel");
        cancelButton.setActionCommand("Cancel");
        buttonPaneC.add(cancelButton);
        buttonPaneC.revalidate();
        buttonPaneC.repaint();

        contentPanelC.validate();
        contentPanelC.repaint();
        cancelButton.addActionListener(new ActionListener() 
        {
            public void actionPerformed(ActionEvent arg0) 
            {
                dispose();
            }
        });

    }
}
setDefaultCloseOperation(JDialog.DISPOSE_ON_CLOSE);
setVisible(true);
contentPanelC.validate();
contentPanelC.repaint();}} 
```

这段代码一直导致以下异常：

```
Exception in thread "AWT-EventQueue-0" java.awt.IllegalComponentStateException: The frame is displayable.
at java.awt.Frame.setUndecorated(Frame.java:825)
at Editor$1.run(Editor.java:93)
at java.awt.event.InvocationEvent.dispatch(InvocationEvent.java:226)
at java.awt.EventQueue.dispatchEventImpl(EventQueue.java:673)
at java.awt.EventQueue.access$300(EventQueue.java:96)
at java.awt.EventQueue$2.run(EventQueue.java:634)
at java.awt.EventQueue$2.run(EventQueue.java:632)
at java.security.AccessController.doPrivileged(Native Method)
at java.security.AccessControlContext$1.doIntersectionPrivilege(AccessControlContext.java:105)
at java.awt.EventQueue.dispatchEvent(EventQueue.java:643)
at java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:275)
at java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:200)
at java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:190)
at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:185)
at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:177)
at java.awt.EventDispatchThread.run(EventDispatchThread.java:138) 
```

我已经尽力了。这是什么？即使此异常显示在控制台中，也会出现输出窗口。但是当我尝试调试代码时，这很麻烦。我已经对此有所了解。但没有找到解决方案。有人请帮助我。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2014-04-09T04:55:56.337

试着打电话

```
this.setUndecorated(true); 
```

在 JDialog 构造函数中：

例子：

```
public JDialog() {
    this.setUndecorated(true);
    initComponents();
} 
```

它在这里工作。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2019-03-16T13:46:35.940

尝试在 .pack() 之后调用 .setUndecorated(true) 时遇到了同样的问题。所以它不仅应该在.setVisible(true)之前，还应该在.pack()之前。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-30T08:50:42.303

你必须打电话

```
setUndecorated(true); 
```

在您将该框架设置为可见之前。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2016-12-13T01:21:00.493

我做了什么让它在可见后全屏显示，我做了一个方法来初始化和使框架可见，并带有一个全屏的布尔参数。在其中，有一个 if 语句，用于判断布尔值是否为真，`setUndecorated(true)`以及`setExtendedState(JFrame.MAXIMIZED_BOTH)`在它内部。在全屏方法中，我使用`frame.dispose()`然后通过使用`true`参数调用该方法来重新初始化它，这样它将全屏显示。这对我有用。

# javascript - HTML表单按钮按两次打开新页面

> ID：15716476
> 
> 赞同：0
> 
> 时间：2013-03-30T08:14:40.940
> 
> 标签：javascript, html

我想使用表单进行简单的登录，我创建了一个表单，其中包含输入字段供用户输入密码，然后用户按下提交按钮

密码将使用 javascrip 检索，如果密码正确，它将打开一个新页面

```
<script language="javascript">
   function check(form)/*function to check userid & password*/
   {
 /*the following code checkes whether the entered userid and password are matching*/
       if(form.password.value == "nopassword")
       {
           self.location='main.html'
       }
           else
       {
           alert("Wrong Password\nTry again Bak Choy Friend! :)")/*displays error message*/
       }
    }
</script>
.
.
.
<form>
  <input type="text" placeholder="Password" name="password">
  <input type="button" class="button" value="Login" onclick="check(this.form)"/>                  
</form> 
```

但问题是它需要用户按两次而不是一次才能打开新页面？第一次，我按密码按钮，地址栏显示

...net/?password=nopassword

然后，我第二次按密码按钮，它会将我重定向到新页面，请问我该如何解决这个问题？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-30T08:24:29.123

试试这个 ：

```
<script language="javascript">
function check(form)/*function to check userid & password*/
{
 /*the following code checkes whether the entered userid and password are matching*/
   if(form.password.value === "nopassword")
   {
      self.location = 'main.html';
      return true;
   }
       else
   {
       alert("Wrong Password\nTry again Bak Choy Friend! :)")/*displays error message*/
       return false;
   }
}
</script>

 <input type="button" class="button" value="Login" onclick="return check(this.form);"/> 
```

# combobox - Metro App Style Combobox 不是项目

> ID：15716478
> 
> 赞同：0
> 
> 时间：2013-03-30T08:15:01.937
> 
> 标签：combobox, microsoft-metro, winrt-xaml

我如何设置 Metro 应用程序`ComboBox`的样式，而不是`ComboBoxItems`？

具体来说，我想`ToggleButton`在`ComboBox`.

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-30T08:47:04.857

这是我用红色椭圆`ComboBox`更改默认值的样式：`DropDownGlyph`

```
<Style x:Key="ComboBoxStyle1" TargetType="ComboBox">
            <Setter Property="Padding" Value="8,0"/>
            <Setter Property="Foreground" Value="{StaticResource ComboBoxForegroundThemeBrush}"/>
            <Setter Property="Background" Value="{StaticResource ComboBoxBackgroundThemeBrush}"/>
            <Setter Property="BorderBrush" Value="{StaticResource ComboBoxBorderThemeBrush}"/>
            <Setter Property="BorderThickness" Value="{StaticResource ComboBoxBorderThemeThickness}"/>
            <Setter Property="TabNavigation" Value="Once"/>
            <Setter Property="ScrollViewer.HorizontalScrollBarVisibility" Value="Disabled"/>
            <Setter Property="ScrollViewer.VerticalScrollBarVisibility" Value="Auto"/>
            <Setter Property="ScrollViewer.HorizontalScrollMode" Value="Disabled"/>
            <Setter Property="ScrollViewer.VerticalScrollMode" Value="Auto"/>
            <Setter Property="ScrollViewer.IsVerticalRailEnabled" Value="True"/>
            <Setter Property="ScrollViewer.IsDeferredScrollingEnabled" Value="False"/>
            <Setter Property="ScrollViewer.BringIntoViewOnFocusChange" Value="True"/>
            <Setter Property="HorizontalContentAlignment" Value="Stretch"/>
            <Setter Property="FontFamily" Value="{StaticResource ContentControlThemeFontFamily}"/>
            <Setter Property="FontSize" Value="{StaticResource ControlContentThemeFontSize}"/>
            <Setter Property="ItemsPanel">
                <Setter.Value>
                    <ItemsPanelTemplate>
                        <CarouselPanel/>
                    </ItemsPanelTemplate>
                </Setter.Value>
            </Setter>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="ComboBox">
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="32"/>
                            </Grid.ColumnDefinitions>
                            <VisualStateManager.VisualStateGroups>
                                <VisualStateGroup x:Name="CommonStates">
                                    <VisualState x:Name="Normal"/>
                                    <VisualState x:Name="PointerOver">
                                        <Storyboard>
                                            <ObjectAnimationUsingKeyFrames Storyboard.TargetProperty="Background" Storyboard.TargetName="Background">
                                                <DiscreteObjectKeyFrame KeyTime="0" Value="{StaticResource ComboBoxPointerOverBackgroundThemeBrush}"/>
                                            </ObjectAnimationUsingKeyFrames>
                                            <ObjectAnimationUsingKeyFrames Storyboard.TargetProperty="BorderBrush" Storyboard.TargetName="Background">
                                                <DiscreteObjectKeyFrame KeyTime="0" Value="{StaticResource ComboBoxPointerOverBorderThemeBrush}"/>
                                            </ObjectAnimationUsingKeyFrames>
                                            <ObjectAnimationUsingKeyFrames Storyboard.TargetProperty="Fill" Storyboard.TargetName="Highlight">
                                                <DiscreteObjectKeyFrame KeyTime="0" Value="{StaticResource ComboBoxSelectedPointerOverBackgroundThemeBrush}"/>
                                            </ObjectAnimationUsingKeyFrames>
                                        </Storyboard>
                                    </VisualState>
                                    <VisualState x:Name="Pressed">
                                        <Storyboard>
                                            <ObjectAnimationUsingKeyFrames Storyboard.TargetProperty="Background" Storyboard.TargetName="Background">
                                                <DiscreteObjectKeyFrame KeyTime="0" Value="{StaticResource ComboBoxPressedBackgroundThemeBrush}"/>
                                            </ObjectAnimationUsingKeyFrames>
                                            <ObjectAnimationUsingKeyFrames Storyboard.TargetProperty="BorderBrush" Storyboard.TargetName="Background">
                                                <DiscreteObjectKeyFrame KeyTime="0" Value="{StaticResource ComboBoxPressedBorderThemeBrush}"/>
                                            </ObjectAnimationUsingKeyFrames>
                                            <ObjectAnimationUsingKeyFrames Storyboard.TargetProperty="Foreground" Storyboard.TargetName="ContentPresenter">
                                                <DiscreteObjectKeyFrame KeyTime="0" Value="{StaticResource ComboBoxPressedForegroundThemeBrush}"/>
                                            </ObjectAnimationUsingKeyFrames>
                                            <DoubleAnimation Duration="0" To="1" Storyboard.TargetProperty="Opacity" Storyboard.TargetName="PressedBackground"/>
                                            <ObjectAnimationUsingKeyFrames Storyboard.TargetProperty="Foreground" Storyboard.TargetName="DropDownGlyph">
                                                <DiscreteObjectKeyFrame KeyTime="0" Value="{StaticResource ComboBoxArrowPressedForegroundThemeBrush}"/>
                                            </ObjectAnimationUsingKeyFrames>
                                        </Storyboard>
                                    </VisualState>
                                    <VisualState x:Name="Disabled">
                                        <Storyboard>
                                            <ObjectAnimationUsingKeyFrames Storyboard.TargetProperty="Background" Storyboard.TargetName="Background">
                                                <DiscreteObjectKeyFrame KeyTime="0" Value="{StaticResource ComboBoxDisabledBackgroundThemeBrush}"/>
                                            </ObjectAnimationUsingKeyFrames>
                                            <ObjectAnimationUsingKeyFrames Storyboard.TargetProperty="BorderBrush" Storyboard.TargetName="Background">
                                                <DiscreteObjectKeyFrame KeyTime="0" Value="{StaticResource ComboBoxDisabledBorderThemeBrush}"/>
                                            </ObjectAnimationUsingKeyFrames>
                                            <ObjectAnimationUsingKeyFrames Storyboard.TargetProperty="Foreground" Storyboard.TargetName="ContentPresenter">
                                                <DiscreteObjectKeyFrame KeyTime="0" Value="{StaticResource ComboBoxDisabledForegroundThemeBrush}"/>
                                            </ObjectAnimationUsingKeyFrames>
                                            <ObjectAnimationUsingKeyFrames Storyboard.TargetProperty="Foreground" Storyboard.TargetName="DropDownGlyph">
                                                <DiscreteObjectKeyFrame KeyTime="0" Value="{StaticResource ComboBoxArrowDisabledForegroundThemeBrush}"/>
                                            </ObjectAnimationUsingKeyFrames>
                                        </Storyboard>
                                    </VisualState>
                                </VisualStateGroup>
                                <VisualStateGroup x:Name="FocusStates">
                                    <VisualState x:Name="Focused">
                                        <Storyboard>
                                            <DoubleAnimation Duration="0" To="1" Storyboard.TargetProperty="Opacity" Storyboard.TargetName="HighlightBackground"/>
                                            <DoubleAnimation Duration="0" To="1" Storyboard.TargetProperty="Opacity" Storyboard.TargetName="Highlight"/>
                                            <ObjectAnimationUsingKeyFrames Storyboard.TargetProperty="Foreground" Storyboard.TargetName="ContentPresenter">
                                                <DiscreteObjectKeyFrame KeyTime="0" Value="{StaticResource ComboBoxFocusedForegroundThemeBrush}"/>
                                            </ObjectAnimationUsingKeyFrames>
                                        </Storyboard>
                                    </VisualState>
                                    <VisualState x:Name="FocusedPressed">
                                        <Storyboard>
                                            <ObjectAnimationUsingKeyFrames Storyboard.TargetProperty="Foreground" Storyboard.TargetName="ContentPresenter">
                                                <DiscreteObjectKeyFrame KeyTime="0" Value="{StaticResource ComboBoxPressedForegroundThemeBrush}"/>
                                            </ObjectAnimationUsingKeyFrames>
                                            <ObjectAnimationUsingKeyFrames Storyboard.TargetProperty="Fill" Storyboard.TargetName="Highlight">
                                                <DiscreteObjectKeyFrame KeyTime="0" Value="{StaticResource ComboBoxPressedHighlightThemeBrush}"/>
                                            </ObjectAnimationUsingKeyFrames>
                                        </Storyboard>
                                    </VisualState>
                                    <VisualState x:Name="Unfocused"/>
                                    <VisualState x:Name="PointerFocused"/>
                                    <VisualState x:Name="FocusedDropDown">
                                        <Storyboard>
                                            <ObjectAnimationUsingKeyFrames Duration="0" Storyboard.TargetProperty="Visibility" Storyboard.TargetName="PopupBorder">
                                                <DiscreteObjectKeyFrame KeyTime="0">
                                                    <DiscreteObjectKeyFrame.Value>
                                                        <Visibility>Visible</Visibility>
                                                    </DiscreteObjectKeyFrame.Value>
                                                </DiscreteObjectKeyFrame>
                                            </ObjectAnimationUsingKeyFrames>
                                        </Storyboard>
                                    </VisualState>
                                </VisualStateGroup>
                                <VisualStateGroup x:Name="DropDownStates">
                                    <VisualState x:Name="Opened">
                                        <Storyboard>
                                            <SplitOpenThemeAnimation ClosedTargetName="ContentPresenter" ContentTranslationOffset="0" ContentTargetName="ScrollViewer" ClosedLength="{Binding TemplateSettings.DropDownClosedHeight, RelativeSource={RelativeSource Mode=TemplatedParent}}" OffsetFromCenter="{Binding TemplateSettings.DropDownOffset, RelativeSource={RelativeSource Mode=TemplatedParent}}" OpenedTargetName="PopupBorder" OpenedLength="{Binding TemplateSettings.DropDownOpenedHeight, RelativeSource={RelativeSource Mode=TemplatedParent}}"/>
                                        </Storyboard>
                                    </VisualState>
                                    <VisualState x:Name="Closed">
                                        <Storyboard>
                                            <SplitCloseThemeAnimation ClosedTargetName="ContentPresenter" ContentTranslationOffset="40" ContentTranslationDirection="{Binding TemplateSettings.SelectedItemDirection, RelativeSource={RelativeSource Mode=TemplatedParent}}" ContentTargetName="ScrollViewer" ClosedLength="{Binding TemplateSettings.DropDownClosedHeight, RelativeSource={RelativeSource Mode=TemplatedParent}}" OffsetFromCenter="{Binding TemplateSettings.DropDownOffset, RelativeSource={RelativeSource Mode=TemplatedParent}}" OpenedTargetName="PopupBorder" OpenedLength="{Binding TemplateSettings.DropDownOpenedHeight, RelativeSource={RelativeSource Mode=TemplatedParent}}"/>
                                        </Storyboard>
                                    </VisualState>
                                </VisualStateGroup>
                            </VisualStateManager.VisualStateGroups>
                            <Border x:Name="Background" BorderBrush="{TemplateBinding BorderBrush}" BorderThickness="{TemplateBinding BorderThickness}" Background="{TemplateBinding Background}" Grid.ColumnSpan="2"/>
                            <Rectangle x:Name="PressedBackground" Fill="{StaticResource ComboBoxPressedHighlightThemeBrush}" Margin="{TemplateBinding BorderThickness}" Opacity="0"/>
                            <Border x:Name="HighlightBackground" BorderBrush="{StaticResource ComboBoxFocusedBorderThemeBrush}" BorderThickness="{TemplateBinding BorderThickness}" Background="{StaticResource ComboBoxFocusedBackgroundThemeBrush}" Grid.ColumnSpan="2" Opacity="0"/>
                            <Rectangle x:Name="Highlight" Fill="{StaticResource ComboBoxSelectedBackgroundThemeBrush}" Margin="{TemplateBinding BorderThickness}" Opacity="0"/>
                            <ContentPresenter x:Name="ContentPresenter" HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}" Margin="{TemplateBinding Padding}" VerticalAlignment="{TemplateBinding VerticalContentAlignment}"/>

                            <!-- NEW -->
                            <!-- I putted the ellipse inside a contentcontrol to not break the animations that use properties like Foreground,
                            if you do not need it, just remove them -->
                            <ContentControl x:Name="DropDownGlyph" Grid.Column="1">
                                <Ellipse Height="20" Width="20" Fill="Red" />
                            </ContentControl>
                            <!-- /NEW -->

                            <!-- ORIGINAL
                            <TextBlock x:Name="DropDownGlyph" Grid.Column="1" Foreground="{StaticResource ComboBoxArrowForegroundThemeBrush}" FontWeight="Bold" FontSize="{StaticResource ComboBoxArrowThemeFontSize}" FontFamily="{StaticResource SymbolThemeFontFamily}" HorizontalAlignment="Right" IsHitTestVisible="False" Margin="0,0,6,4" Text="&#xE011;" VerticalAlignment="Center"/>
                                /ORIGINAL
                            -->

                            <Popup x:Name="Popup">
                                <Border x:Name="PopupBorder" BorderBrush="{StaticResource ComboBoxPopupBorderThemeBrush}" BorderThickness="{StaticResource ComboBoxPopupBorderThemeThickness}" Background="{StaticResource ComboBoxPopupBackgroundThemeBrush}" HorizontalAlignment="Stretch">
                                    <ScrollViewer x:Name="ScrollViewer" BringIntoViewOnFocusChange="{TemplateBinding ScrollViewer.BringIntoViewOnFocusChange}" Foreground="{StaticResource ComboBoxPopupForegroundThemeBrush}" HorizontalScrollMode="{TemplateBinding ScrollViewer.HorizontalScrollMode}" HorizontalScrollBarVisibility="{TemplateBinding ScrollViewer.HorizontalScrollBarVisibility}" IsHorizontalRailEnabled="{TemplateBinding ScrollViewer.IsHorizontalRailEnabled}" IsVerticalRailEnabled="{TemplateBinding ScrollViewer.IsVerticalRailEnabled}" IsDeferredScrollingEnabled="{TemplateBinding ScrollViewer.IsDeferredScrollingEnabled}" VerticalSnapPointsType="OptionalSingle" VerticalScrollBarVisibility="{TemplateBinding ScrollViewer.VerticalScrollBarVisibility}" VerticalScrollMode="{TemplateBinding ScrollViewer.VerticalScrollMode}" VerticalSnapPointsAlignment="Near" ZoomMode="Disabled">
                                        <ItemsPresenter/>
                                    </ScrollViewer>
                                </Border>
                            </Popup>
                        </Grid>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style> 
```

# c# - 从控制器渲染局部视图

> ID：15716481
> 
> 赞同：1
> 
> 时间：2013-03-30T08:15:33.207
> 
> 标签：c#, razor, asp.net-mvc-4

我有一个控制器，它有一个返回`ItemsController`的实例方法`GetRecent()``IQueryable<Item>`

在我的应用程序的索引页面中，我想`_Recent.cshtml`使用来自的结果呈现部分视图`ItemsController.GetRecent()`

为此，我在 Index.cshtml 中编写了以下内容

我添加了对 ~/Views/web.config 的命名空间引用，所以我不需要写出控制器的完整命名空间

```
 @{
        ViewBag.ItemsController = new ItemsController();
    }

    ...

    @Html.Partial("~/Views/Items/_Recent.cshtml",
                   ((ItemsController)ViewBag.ItemsController).GetRecentItems()) 
```

我想过`new ItemsController().GetRecentItems()`直接传递或`GetRecentItems()`变成静态方法，但是我不确定这应该采取什么方向。

我想知道这是否是从控制器构建部分视图的公认方式，如果不是，如何更有效地完成？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-30T08:26:44.860

## 渲染动作

第一个选项是`Html.Action`或`Html.RenderAction`^(（有[什么区别？](http://haacked.com/archive/2009/11/17/aspnetmvc2-render-action.aspx)）)。这些是[ASP.Net MVC 框架的一部分](http://msdn.microsoft.com/en-us/library/ee703541(v=vs.108).aspx)，并提供了一种更完善的方法来实现与您的代码示例类似的东西。

使用这种方法，您的视图会调用适当的控制器，该控制器会获取任何需要的数据，呈现部分视图并返回它。

我倾向于回避使用这种方法，因为它看起来是倒退的，即视图“知道”很多关于控制器和控制器结构的信息，并且正在积极执行而不仅仅是消费。

不过，这是一个合法的选择。

## 改造

您可以将“最近的项目”与主视图的视图模型一起传递。这是建模的更多努力，但“纯粹”是因为您的视图与控制器的耦合较少。你的部分观点不需要改变。

## 异步渲染

您可以使用对适当控制器的 AJAX 调用来呈现最近的项目，并让该控制器返回部分视图作为其结果。这可能是最大的努力，但很优雅，因为一些工作被延迟到页面的其余部分被渲染（可能允许延迟加载和/或改进的页面加载时间）。

如果做得正确，这种方法还可以很好地分离关注点。

* * *

*   [相关问题](https://stackoverflow.com/questions/7968234/render-partial-view-from-other-controller)（不完全相同，因为它不专注于将数据传递给局部视图）

# mysql - MySql - 错过的活动日程

> ID：15716485
> 
> 赞同：1
> 
> 时间：2013-03-30T08:15:57.070
> 
> 标签：mysql, events, scheduling

我正在尝试在我的应用程序中使用 mysql 事件计划，我之前没有使用过它，所以我有些困惑。

我想知道我的电脑是否在计划日期关闭，然后在启动我的电脑后，计划将在第二天继续？

像：

我的计划是从每个月开始（未设置预定义时间）如果在上述日期我的计算机/服务器关闭，mysql 会在打开我的计算机/服务器后的第二天继续计划事件吗？

如果不是，请提出解决方案。

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2013-03-30T09:27:18.830

嗯，你看过这样的东西吗？

[MySQL：使用事件调度器](http://dev.mysql.com/doc/refman/5.1/en/events.html)

... 或者：

[如何创建 MySQL 事件](http://www.sitepoint.com/how-to-create-mysql-events/)

...甚至：[MySQL :: MySQL 5.1 参考手册：19.4.1。事件调度器概述]（19.4.1\. 事件调度器概述）？

另外请记住，SQL DBMS**服务器**的编写具有相当强的假设，即它们将保持每天 24 小时不间断运行，并且只有短暂的停机时间进行维护或维修。通常很少考虑在夜间关闭和不使用的机器上进行操作。

如果您只是存储日期和事件表，那么您可以简单地查询该表以查找在您喜欢的任何范围内已经过去或即将发生的事件......并且您可以运行包含这些查询的程序（并执行任何适当的基于结果的活动）无论何时启动计算机，并在计算机启动和运行时定期进行。

这些链接指的是 MySQL 的一项功能，该功能旨在让服务器在内部执行某些命令（MySQL 内部命令，例如重新索引、创建/更新视图、清理“过期”的数据表等。我不知道不知道 MySQL 服务器是否会尝试执行在停机期间通过的所有事件，尽管按照教程进行操作应该只需要一点点工作，将某些事件安排一段时间（比如在您希望命中的时间后 15 分钟） [Enter]) ...然后关闭您的计算机（甚至只是关闭 MySQL 服务器）并去吃午饭。然后回来，启动它，看看会发生什么。

预定的事件可能非常简单，例如将“当前”时间插入您设置的某个表中。

# jquery - jQuery-mobile 页脚问题，再次

> ID：15716496
> 
> 赞同：0
> 
> 时间：2013-03-30T08:17:02.093
> 
> 标签：jquery, jquery-mobile, footer

我知道之前提出的所有问题都提出了完全相同的问题。

我不想更改任何原始代码，或添加任何额外的样式。

根据此页面：

[http://view.jquerymobile.com/1.3.0/docs/widgets/navbar/footer-persist-a.php](http://view.jquerymobile.com/1.3.0/docs/widgets/navbar/footer-persist-a.php)

我需要做的就是复制给定的代码，并将其粘贴到我的 HTML 中。

我这样做了：

```
<head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">

        <!-- CSS -->
        <link rel="stylesheet" href="http://code.jquery.com/mobile/1.0/jquery.mobile-1.0.min.css" />
        <!-- CSS end -->

        <!-- Javascripts -->
            <script type="text/javascript" src="http://code.jquery.com/jquery-latest.js"></script>
            <script type="text/javascript" src="<?php echo base_url('Assets/js/defaults/jquery-mobile.js');?>"></script>
        <!-- Js End -->
    </head> 
```

这是HTML

```
<div data-role="page">
    <div data-role="header">
        <div data-role="navbar">
            <ul>
                <li><a href="#" class="ui-btn-active">One</a></li>
                <li><a href="#">Two</a></li>
                <li><a href="#">Three</a></li>
            </ul>
        </div><!-- /navbar -->  
    </div>

    <div data-role="content">       
        <p>Some Content here</p>
    </div>

    <div data-role="footer" data-id="foo1" data-position="fixed">
        <div data-role="navbar">
            <ul>
                <li><a href="a.html">Info</a></li>
                <li><a href="b.html">Friends</a></li>
                <li><a href="c.html">Albums</a></li>
                <li><a href="d.html">Emails</a></li>
            </ul>
        </div><!-- /navbar -->
    </div><!-- /footer -->

</div> 
```

并且页脚离底部很远。事实上，它挂在中间的某个地方。

我正在使用最新的 jquery 手机。

有任何想法吗？ ![在此处输入图像描述](../Images/2895c4dfcacba0fa0a747a2d269881a1.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-30T08:29:08.570

您必须`data-position="fixed"`在页脚容器上设置`data-role="footer"`。

您的代码将如下所示：

```
<div data-role="footer" data-position="fixed">
    <div data-role="navbar">
        <ul>
            <li><a href="#">One</a></li>
            <li><a href="#">Two</a></li>
            <li><a href="#">Three</a></li>
        </ul>
    </div><!-- /navbar -->
    <p style="text-align:center;">I'm the footer</p>
</div><!-- /footer --> 
```

这是一个工作小提琴：http: [//jsfiddle.net/pV2S4/](http://jsfiddle.net/pV2S4/)

# jsf - 命令按钮在 p:tabView 中不起作用

> ID：15716501
> 
> 赞同：0
> 
> 时间：2013-03-30T08:17:10.447
> 
> 标签：jsf, jsf-2, primefaces

我有三个选项卡调用单独的复合组件。我的问题是，当我点击按钮时，没有任何动作发生。但是当我单独打开我的复合组件页面时，我的按钮工作清晰。我的按钮在 Tab3 中。在 Tab3 中调用 ""bizbiz:inviteRequest"" 时，我的按钮不起作用。你能看看我的代码吗？

```
 <h:body>
        <h:form>
            <p:tabView >
                <p:tab id="tab1" title="#{businessPartner_msg.supplier}">
                    <h:panelGrid columns="2" cellpadding="10">
                        <bizbiz:supplier/>
                    </h:panelGrid>
                </p:tab>

                <p:tab id="tab2" title="#{businessPartner_msg.customer}">
                    <h:panelGrid columns="2" cellpadding="10">
                        <bizbiz:customer/>
                    </h:panelGrid>
                </p:tab>

                <p:tab id="tab3" title="#{businessPartner_msg.inviteRequest}">
                    <h:panelGrid columns="2" cellpadding="10">
                        <bizbiz:inviteRequest/>
                    </h:panelGrid>
                </p:tab>
            </p:tabView>
        </h:form>
    </h:body> 
```

我在 tab3 中的按钮。这是Tab3

```
 <composite:implementation>
        <table style="width: 100%" id="tabell">
            <p:selectOneButton  value="#{inviteRequestManagedBean.filterType}">  
                <f:selectItem itemLabel="#{inviteRequest_msg.request}" itemValue="request" />  
                <f:selectItem itemLabel="#{inviteRequest_msg.archive}" itemValue="archive" />   
                <f:ajax event="change"  execute="@form" render="@form" />             
                <tr>
                    <td>
                        <p:panel></p:panel>

                        <p:dataGrid id="requestDataGrid" var="tBusinessPartnerRequestInfo" 
                                    value="#{inviteRequestManagedBean.filterBusinessRequest()}" columns="1" >

                            <p:column>
                                <div>
                                    <table border="0"  width="100%">
                                        <tr>
                                            <td>
                                                <p:graphicImage value="#{tBusinessPartnerRequestInfo.partySender_imageUrl}"/>
                                            </td>
                                            <td>
                                                <div>
                                                    <table border="0" width="100%">
                                                        <tr>
                                                            <td>
                                                                <h:outputLabel value="#{tBusinessPartnerRequestInfo.requestDate}"/>
                                                            </td>
                                                        </tr>
                                                        <tr>
                                                            <td>
                                                                <h:outputLabel value="#{tBusinessPartnerRequestInfo.partySender_fullName}"/>
                                                            </td>
                                                        </tr>
                                                    </table>
                                                </div>
                                            </td>    

                                            <td>
                                                <p:commandButton  id="acceptCommonButton" value="#{inviteRequest_msg.accept}"
                                                                  actionListener="#{inviteRequestManagedBean.acceptRequest(tBusinessPartnerRequestInfo.id)}" 
                                                                  update="@form"/>   
                                            </td>
                                            <td>
                                                <p:commandButton  id="noNowCommonButton" value="#{inviteRequest_msg.notnow}"  
                                                                  actionListener="#{inviteRequestManagedBean.notNowRequest(tBusinessPartnerRequestInfo.id)}" 
                                                                  update="@form"/>
                                            </td>
                                            <p:blockUI block="acceptCommonButton" trigger="acceptCommonButton"/>
                                            <p:blockUI block="noNowCommonButton" trigger="acceptCommonButton"/>
                                            <p:blockUI block="acceptCommonButton" trigger="noNowCommonButton"/>
                                            <p:blockUI block="noNowCommonButton" trigger="noNowCommonButton"/>
                                            <td>
                                                <p:panel>
                                                    <p:ajaxStatus>
                                                        <f:facet name="start">
                                                            <p:graphicImage value="../resources/img/loading.gif"/>
                                                        </f:facet>
                                                        <f:facet name="complete">
                                                            <h:outputLabel value=""/>
                                                        </f:facet>
                                                    </p:ajaxStatus>
                                                </p:panel>
                                            </td>
                                        </tr>
                                    </table>
                                </div>
                                <hr/>
                            </p:column>
                        </p:dataGrid>                   
                    </td>
                </tr>
            </p:selectOneButton>

        </table>
    </composite:implementation> 
```

# c - number of zeros runtime error

> ID：15716502
> 
> 赞同：0
> 
> 时间：2013-03-30T08:17:15.947
> 
> 标签：c, runtime-error

This is a function i made to count number of zeroes at the end of the factorial of a number b recursively. However i'm getting runtime error due to the used code.Pardon my naivety but any help in this would be appreciated.

```
int noz(int b)
{ 
    int c=0;
    int e = b;
    if(e < 5)
       return 0; 
    while(e > 0)
       c = c + (e/5) + noz(e/5);
            return c; 
} 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-30T08:21:09.430

You are encountering "runtime error" because:

```
int c;
...
while(e > 0)
   c = c + (e/5) + noz(e/5);  // <-- HERE 
```

you are using uninitialized local variable `c`, which produces ***undefined behavior***.

You could zero-initialize this variable to prevent it happen:

```
int c = 0; 
```

And also note that in case that argument of your function is greater or equal than `5`, this function doesn't return anything (thanks to [@Paul R](https://stackoverflow.com/users/253056/paul-r) for pointing this out) and another problem is that you have loop with the condition `e > 0` but the loop doesn't change the value of `e` making it infinite loop.

Your function could look like this instead (I'm not sure what exactly is the desired logic here):

```
int noz(int b)
{ 
    int c = 0;
    if (b < 5)
       return 0; 
    else
       return c + (b/5) + noz(b/5);
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-30T09:08:32.323

```
//count n! tail zero
int noz(int n){
    int count;

    if(n < 5) return 0;
    count = n / 5;
    return count + noz(count);
} 
```

# javascript - Is there a way I can retrieve the JSON file from server

> ID：15716505
> 
> 赞同：0
> 
> 时间：2013-03-30T08:17:45.737
> 
> 标签：javascript, jquery, json, jsonp

Referring to my question above, the reason I want to retrieve the file is that I want to know how it is structured so I can make the script that I copied work using my data instead.

Currently, the `$.getJSON` url includes the string `"callback=?"` in it.

So is there anyway, I can peek through or see how the data is structured in the file thats inside the `$.getJSON` url string?

actually, Im following along a demo below

[https://code.google.com/r/kgraham-flr-map/source/browse/examples/medicare-dynamic-ds.js?spec=svn72fd5de93cf24b0b2baa5d2678d9518741e3d80b&r=72fd5de93cf24b0b2baa5d2678d9518741e3d80b](https://code.google.com/r/kgraham-flr-map/source/browse/examples/medicare-dynamic-ds.js?spec=svn72fd5de93cf24b0b2baa5d2678d9518741e3d80b&r=72fd5de93cf24b0b2baa5d2678d9518741e3d80b)

Tthe script in question has the `$.getJSON('https://storelocator-go-demo.appspot.com/query?callback=?'` to parse the data.

When I tried opening the url, I get this error `strconv.ParseFloat: parsing "": invalid syntax`

我想看看 JSON 文件的结构，以便我可以用我自己的数据替换它。

希望这能解决我的问题。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-30T08:50:57.973

从评论：

> 所以你的意思是我在尝试打开 json 文件时遇到的错误是由于服务器问题引起的？

好吧，它可以给你一个更有用的错误信息。问题是你没有给它它需要的论据。

如果我去：

```
https://storelocator-go-demo.appspot.com/query?callback=foo
```

...然后像你​​一样，我得到了那个错误。但是，如果我给它参数（这些是从您提供的示例链接中抄录而来的）：

```
https://storelocator-go-demo.appspot.com/query?callback=foo&lat=-29.292219923932738&lng=137.763512&n=-10.691329506145314&e=167.382652625&s=-47.89311034172016&w=108.14437137499999&audio=&access=&_=1364633286163
```

我得到一个有效的 JSONP 响应。

# java - Synchronized Editing of Plain Text Across Two Java Applications

> ID：15716509
> 
> 赞同：0
> 
> 时间：2013-03-30T08:18:09.637
> 
> 标签：java, networking, text, synchronization

Ok, I have been researching how to do this over the past few days and I haven't really come any closer to finding a solution or example. Basically, I have a server/client system set up so that I can send and receive text between two Java applications. I just can't figure out how to go about keeping the text in sync with each other. (Something like Google Docs)

If anyone can point me in the right direction or show/link me an example it would be much appreciated.

Thanks in advance.

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-30T10:31:13.247

The brute force way would be to just send the entire text blob whenever it's updated, and let the other side sync up to it.

There are two main problems with this approach:

1.  If the text blob is really really big then there's redundant data being sent back and forth
2.  如果双方同时进行许多更改，尤其是在编辑文本的完全相同区域时，可能会出现合并问题

第二个问题可以通过某种确认回复来缓解，这样您就可以知道更新的 blob 是否在另一侧被“接受”。这样，双方可以就数据的有效状态保持“一致”。但是，如果双方都不会承认对方的变化（无论出于何种原因），这仍然可能会失败。

我能想到的唯一其他一般想法是利用一些版本控制系统使用的库，如 SVN 或 GIT。这些可能具有很好的差异和合并功能，可以使更新更容易。仅发送差异也可以缓解上述问题 #1。

# python - Python convert hexa to string

> ID：15716513
> 
> 赞同：-4
> 
> 时间：2013-03-30T08:19:15.443
> 
> 标签：python, string, hex

I want to write something like:

```
str="0xdeadbeef" 
```

so that in the memory, where str is stored, the binary represntation will be "deadbeef".

How can I do that?

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-30T08:28:50.140

> instead of writing `str="ABCD"` I want to write something like `str="0x41424344"`

It *sounds* like you're looking for

```
s = '\xde\xad\xbe\xef' 
```

but why?

# shell - 在系统偏好设置->语言和文本中获取语言偏好

> ID：15716519
> 
> 赞同：1
> 
> 时间：2013-03-30T08:19:56.323
> 
> 标签：shell, applescript, locale, system-preferences

我想在系统偏好设置-> 语言和文本中获得语言的偏好。我尝试使用“获取系统信息”来获取语言偏好。

```
set language_prefer to (user locale of (get system info))
if (language_prefer is "zh-Hans") then
   set sharingstr to "共享"
   set startstr to "启动"
else if (language_prefer is "zh-Hant") then
   set sharingstr to "共享"
   set startstr to "啟動"
else
   set sharingstr to "Sharing"
   set startstr to "Start"
end if 
```

但是我发现当我更改语言偏好时，（（获取系统信息）的用户区域设置）返回值永远不会改变。然后我发现用户语言环境与偏好语言不同。**以简体中文为例，它的用户语言环境是“zh_CN”，但它的语言偏好是“zh-Hans”。**有人说用

```
set lang to do shell script "defaults read NSGlobalDomain AppleLanguages" 
```

这返回

```
(
"zh-Hans",
en,
"zh-Hant",
de,
ja,
fr,
es,
it,
pt,
"pt-PT",
nl,
sv,
nb,
da,
fi,
ru,
pl,
ko,
ar,
cs,
hu,
tr
) 
```

如何获得语言偏好值，例如“zh-Hans”？

希望有人帮助我，谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-30T08:43:05.783

查看 Cocoa/Objective C " `NSLocale`" 文档，我看到实际上有***两个***用户级语言环境变量。

一个是[`currentLocale`](http://developer.apple.com/library/mac/documentation/Cocoa/Reference/Foundation/Classes/NSLocale_Class/Reference/Reference.html#//apple_ref/occ/clm/NSLocale/currentLocale)，另一个是[`autoupdatingCurrentLocale`](http://developer.apple.com/library/mac/documentation/Cocoa/Reference/Foundation/Classes/NSLocale_Class/Reference/Reference.html#//apple_ref/occ/clm/NSLocale/autoupdatingCurrentLocale)。

对您来说不幸的是，Apple 决定通过 AppleScript 导出的 API 似乎是仅在用户登录时更新的 API。我怀疑您的 Applescript 结果只会在每次用户重新启动或重新登录时发生变化。

您将需要提供一个允许您执行“ `autoupdatingCurrentLocale`”的 Objective C 工具并将其放入 Applescript 变量中。

Now I see you've edited your question, so I'll edit mine as well: It sounds like what you want to do is what has been suggested [in the answers of this related question](https://stackoverflow.com/questions/7160462/get-language-of-currently-logged-in-user-via-applescript), which I'm pretty certain you've seen while doing your own research. Use that "`get_language()`" applescript bit to return item 1 of your "`r`" array.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-30T09:34:28.330

There are multiple different locale settings:

*   `/usr/libexec/PlistBuddy -c 'Print AppleLanguages:0' ~/Library/Preferences/.GlobalPreferences.plist`
    *   First language selected in Language & Text > Language
*   `defaults read -g AppleLocale`
    *   Setting selected in Language & Text > Region
    *   `user locale of (system info)`
    *   Determines what Terminal and iTerm set the LC_ variables to by default
*   First item in AppleLanguages in `/Library/Preferences/.GlobalPreferences.plist`
    *   Changed by `sudo languagesetup` and when running Setup Assistant
    *   Language used in the login window and for new users and the guest user
*   `defaults read /Library/Preferences/.GlobalPreferences.plist AppleLocale`
    *   Changed when running Setup Assistant
    *   Region used for new users and the guest user

# iphone - how to simulate your app on real IOS devices

> ID：15716520
> 
> 赞同：-1
> 
> 时间：2013-03-30T08:20:10.633
> 
> 标签：iphone, xcode, ios6, xcode4.5

i have jailbreak iphone 4s with 6.1.2 (10B146) ios version. i hane maintain provisioning profile .the status of profile is valid.my device is add on member center it show there.but when i run the app using ios device a pop window open with "***No provisioned iOS devices are available with a compatible iOS version. Connect an iOS device with a recent enough version of iOS to run your application or choose an iOS simulator as the destination***." i m using Xcode Version 4.5.2 (4G2008a).

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-30T08:24:57.107

1.  Apps are not "simulated" on the device, they're run natively there.

2.  Jailbreaking ain't magic. Xcode will still not permit you to just upload your app without the correct provisioning profiles and certificates and whatever (unless you binpatch Xcode itself or use some other kind of nasty hack, like the "iOSOpenDev" package).

3.  So you have to actually copy your application bundle to your device (to the `/Applications` folder) and either restart SpringBoard or use the `uicache` utility to make it appear on the home screen.

# android - Wifi 设置选项卡在 Android (4.1) 设备中不起作用

> ID：15716526
> 
> 赞同：1
> 
> 时间：2013-03-30T08:21:18.677
> 
> 标签：android, android-tabhost, android-tabactivity

我在一个活动中有两个标签。当我使用两个选项卡运行应用程序时，它显示强制关闭错误。当我通过注释`tabHost.addTab(spec)`wifisettings 选项卡的行来运行相同的应用程序时，时钟设置选项卡正在打开。但我需要打开两个选项卡，即 wifi 设置和时钟设置。

代码在这里：

```
 setContentView(R.layout.preferences);
    pref_close   = (Button) findViewById(R.id.close_prefs);
    TabHost tabHost = getTabHost();  // The activity TabHost
    TabHost.TabSpec spec;  // Resusable TabSpec for each tab
    Intent intent;  // Reusable Intent for each tab

    // Create an Intent to launch an Activity for the tab (to be reused)
    intent = new Intent( WifiManager.ACTION_PICK_WIFI_NETWORK);

    // Initialize a TabSpec for each tab and add it to the TabHost
    spec = tabHost.newTabSpec("wifi").setIndicator("Wifi Settings",null).setContent(intent);
    tabHost.addTab(spec);

    // Do the same for the other tabs
    intent = new Intent(this, AppSettings.class);

    spec = tabHost.newTabSpec("settings").setIndicator(" Clock Settings",null).setContent(intent);
    tabHost.addTab(spec);

    tabHost.setCurrentTab(0);

    pref_close.setOnClickListener(new View.OnClickListener() {

        public void onClick(View v) {

            finish();               
        }

});
}
   } 
```

相同的代码适用于设备（​​Android3.0.1），但不适用于设备（​​4.1.1）。我的日志是：

```
03-30 07:47:35.921: E/AndroidRuntime(8712): FATAL EXCEPTION: main
03-30 07:47:35.921: E/AndroidRuntime(8712): java.lang.RuntimeException: Unable to start activity ComponentInfo{com.visionexceed.timeclock/com.vision.timeclock.activity.Preferences}: java.lang.IllegalArgumentException: you must specify a way to create the tab content
03-30 07:47:35.921: E/AndroidRuntime(8712):     at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2097)
03-30 07:47:35.921: E/AndroidRuntime(8712):     at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2122)
03-30 07:47:35.921: E/AndroidRuntime(8712):     at android.app.ActivityThread.access$600(ActivityThread.java:140)
03-30 07:47:35.921: E/AndroidRuntime(8712):     at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1228)
03-30 07:47:35.921: E/AndroidRuntime(8712):     at android.os.Handler.dispatchMessage(Handler.java:99)
03-30 07:47:35.921: E/AndroidRuntime(8712):     at  android.os.Looper.loop(Looper.java:137)
03-30 07:47:35.921: E/AndroidRuntime(8712):     at android.app.ActivityThread.main(ActivityThread.java:4895)
03-30 07:47:35.921: E/AndroidRuntime(8712):     at java.lang.reflect.Method.invokeNative(Native Method)
03-30 07:47:35.921: E/AndroidRuntime(8712):     at java.lang.reflect.Method.invoke(Method.java:511)
03-30 07:47:35.921: E/AndroidRuntime(8712):     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:994)
03-30 07:47:35.921: E/AndroidRuntime(8712):     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:761)
03-30 07:47:35.921: E/AndroidRuntime(8712):     at dalvik.system.NativeStart.main(Native Method)
03-30 07:47:35.921: E/AndroidRuntime(8712): Caused by: java.lang.IllegalArgumentException:  you must specify a way to create the tab content
03-30 07:47:35.921: E/AndroidRuntime(8712):     at android.widget.TabHost.addTab(TabHost.java:231)
03-30 07:47:35.921: E/AndroidRuntime(8712):     at com.visionexceed.timeclock.activity.Preferences.onCreate(Preferences.java:35)
03-30 07:47:35.921: E/AndroidRuntime(8712):     at android.app.Activity.performCreate(Activity.java:5163)
03-30 07:47:35.921: E/AndroidRuntime(8712):     at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1094)
03-30 07:47:35.921: E/AndroidRuntime(8712):     at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2061) 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-30T09:28:03.437

我已经检查了您的代码及其在 4.0 以下设备中的工作正常。检查 4.0 设备中没有选项卡的代码。

因为它在 4.0 以上的设备中工作，请检查[这个](https://stackoverflow.com/a/12565228/1168654)和[这个](https://stackoverflow.com/a/11238304/1168654)链接。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-30T11:19:30.180

You cannot embed a third-party activity into your app's UI. At best, you will get the widgets, but nothing will work, because you do not have the permissions that the third-party app has. At worst, you will crash, as you see here.

Please launch `WifiManager.ACTION_PICK_WIFI_NETWORK` as a regular activity, outside of your tabs.

# python - Object can not be interpreted as an index

> ID：15716527
> 
> 赞同：1
> 
> 时间：2013-03-30T08:21:22.547
> 
> 标签：python

When i try to use this function:

```
def dec_to_bin():
    decimal = raw_input('Input a number: ')
    a =  bin(decimal)
    print(a) 
```

It gives an error:::::

```
a =  bin(decimal) TypeError: 'str' object can not be interpreted as an index 
```

how can i fix this?

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-03-30T08:24:21.800

The return value from `raw_input` is a `str`, not an `int`. You must first convert it to an `int` before passing it to `bin`.

```
a = bin(int(decimal)) 
```

This will fail with a `ValueError` if the string entered cannot be converted to an integer.

# java - 如何在 AsyncTask 中调用 PopupMenu 项

> ID：15716531
> 
> 赞同：0
> 
> 时间：2013-03-30T08:21:39.267
> 
> 标签：java, android, api, translate

在过去 3 周左右的时间里，我一直在学习 Android 编程，我正在开发一个应用程序，该应用程序使用 EditText 获取用户的结果，并使用 Microsoft Translate API 将其翻译成用户选择的语言。

我面临的问题是我无法让应用程序让用户从菜单中选择一种语言，然后翻译 EditText 框中给出的文本。这个问题是由于我对 AsyncTask 不熟悉，我试图在不使用它的情况下运行应用程序，但它会返回 e 异常。但是，当我选择一种默认语言时，它确实有效，如以下代码所示

```
class MyAsyncTask extends AsyncTask<Void, Integer, Boolean> {
    @Override
    protected Boolean doInBackground(Void... arg0) {
        Translate.setClientId("MicrosoftTranslatorJavaAPI");
        Translate.setClientSecret(secret_key);

        try {
            translatedText = Translate.execute(et.getText().toString(), Language.ENGLISH, Language.FRENCH);
        } catch(Exception e) {
            translatedText = e.toString();
        }
        return true;
    }   
} 
```

任何帮助，将不胜感激

这是完整的代码。

文件

```
public class MicrosoftTranslatorAndroidTestActivity extends Activity {
    /** Called when the activity is first created. */
    TextView text;
    String translatedText;
    EditText et;
    PopupMenu popupMenu;

    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);

        setContentView(R.layout.main);
        et=(EditText) findViewById(R.id.editText1);
        Button b=(Button) findViewById(R.id.button1);

        text = (TextView) findViewById(R.id.tv1);
        text.setText("<This text should change after translation has occurred in AsyncTask>");
        b.setOnClickListener(new View.OnClickListener() {

            public void onClick(View v) {
                  popupMenu = new PopupMenu(MicrosoftTranslatorAndroidTestActivity.this, v);
                  popupMenu.getMenuInflater().inflate(R.menu.popmenu, popupMenu.getMenu());  
                new MyAsyncTask() { 
                    protected void onPostExecute(Boolean result) {
                        text.setText(translatedText);
                    }
                }.execute();
                popupMenu.show();
            }
        });

}

class MyAsyncTask extends AsyncTask<Void, Integer, Boolean> {
    @Override
    protected Boolean doInBackground(Void... arg0) {
        Translate.setClientId("MicrosoftTranslatorJavaAPI");
        Translate.setClientSecret(secret_key);

        popupMenu.setOnMenuItemClickListener(new PopupMenu.OnMenuItemClickListener() {

            public boolean onMenuItemClick(MenuItem item) {
                // TODO Auto-generated method stub
                switch (item.getItemId()){

                case R.id.ar:

                    try {
                        translatedText = Translate.execute(et.getText().toString(), Language.ENGLISH, Language.ARABIC);
                    } catch(Exception e) {
                        translatedText = e.toString();
                    }

                    break;

                case R.id.fr:

                    try {
                        translatedText = Translate.execute(et.getText().toString(), Language.ENGLISH, Language.FRENCH);
                    } catch(Exception e) {
                        translatedText = e.toString();
                    }

                    break;

                case R.id.sp:

                    try {
                        translatedText = Translate.execute(et.getText().toString(), Language.ENGLISH, Language.SPANISH);
                    } catch(Exception e) {
                        translatedText = e.toString();
                    }

                    break;
                    default:
                    break;

                }

                return true;
            }
        });

        return true;
    }   
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-30T08:45:44.810

您无法从后台线程访问 ui 方法（例如启动弹出菜单）。

What's more, that would result in having your popup shown but the runInBackgroundMethod would finish in any case and your translate.execute would not be called.

You have to decouple the asyncrhonous interaction with translate from the interactions with the ui elements. Assuming that you need to perform the Translate.execute() method in a background thread, what you should do is to fetch the parameters of the translation BEFORE launching the backgound thread and fetch the results in your asyncthread's onPostExecute().

Something like

```
private class TranslateTask extends AsyncTask<String, Void, String> {
     protected void onProgressUpdate() {

     }

     protected void onPostExecute(String... result) {
         String translated = result[0];
     }

    @Override
    protected String doInBackground(String... params) {
        String toTranslate = params[0];
        String language = params[1];
                // translate here and return the result
                return translated;
            }
 } 
```

and then call

```
 translateTask.execute(toTranslate, language); 
```

# winforms - 使用参考构建发布项目

> ID：15716539
> 
> 赞同：1
> 
> 时间：2013-03-30T08:23:50.013
> 
> 标签：winforms, build

我有一个 Winforms 项目，其中引用了子项目中的 DLL。我需要构建为生产和正常调试的版本。但是，当我切换到发布版本时，我必须更改所有引用（因为它们链接到调试版本）。

我应该怎么做才能在调试和发布之间轻松切换？

附录：我通过右键单击参考并添加文件参考来添加参考。问题是我获得了调试或发布版本的硬链接。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-30T10:01:59.260

您需要删除所有指向`BIN\DEBUG`项目文件夹的硬链接。
然后回到`References`你项目的文件夹，右键单击并选择`Add References`
在掩码中选择`Projects`并双击子项目名称。下图来自 Visual Studio 2010，但其他 IDE 版本的概念相同

![在此处输入图像描述](../Images/a54c303a8ac59d5b58a706aa50e22ff0.png)

这样，当您更改构建输出时，您可以让 IDE 在 DEBUG 和 RELEASE 项目文件夹之间自动切换编译器引用

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-30T08:29:45.153

您需要将宏用于构建命令和属性，如下所示： $(Configuration) 作为当前项目配置的名称（例如，“Debug”），而不是绝对路径。

看看：http: [//msdn.microsoft.com/en-us/library/c02as0cs.aspx](http://msdn.microsoft.com/en-us/library/c02as0cs.aspx)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-30T09:44:58.050

我认为解决方案是使用项目参考——我认为我正在这样做。但也许我需要选择项目而不是 dll。

# c# - 从访问数据库中检索图像

> ID：15716542
> 
> 赞同：2
> 
> 时间：2013-03-30T08:24:25.567
> 
> 标签：c#, ms-access

请任何人都可以在此代码中帮助我吗？

我正在尝试从 Access 数据库中检索图像..

```
private void btnRetrieve_Click_1(object sender, EventArgs e)
{
   //Save Temporarily that image bytes in one location and give that path to picture box 
   con.Open();

   cmd = new OleDbCommand("select pic from shapes2 where ID= 1", con);

   da = new OleDbDataAdapter(cmd);
   da.Fill(dt);

   if (dt.Rows.Count > 0)
   {
      if (dt.Rows[0]["pic"] != DBNull.Value)
      {
         pictureBox4.Image = ByteArrayToImage((Byte[])dt.Rows[0]["pic"]);
      }
   }

   con.Close();
}

Bitmap ByteArrayToImage(byte[] b)
{
    MemoryStream ms = new MemoryStream();
    byte[] pData = b;
    ms.Write(pData, 0, Convert.ToInt32(pData.Length));
    Bitmap bm = new Bitmap(ms, false);
    ms.Dispose();
    return bm;
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-02T01:45:13.827

这似乎是一个常见问题，请参阅讨论： [Reading image from Access - parameter not valid](https://stackoverflow.com/questions/2140299/reading-image-from-access-parameter-not-valid)

问题是图像可以不同格式存储在 Access 数据库中：二进制 blob 或作为 OLE 对象。

我不知道您在 Access 数据库中使用的是哪一个，但如果它保存为直接二进制 blob，那么它*就是*图像本身，所以您的代码应该可以工作。

由于您遇到问题，这可能意味着图像的存储方式不同：作为 OLE 对象。在这种情况下，元数据也与图像数据一起存储，并且元数据使获取图像变得更加困难，因为您必须以一种或另一种方式将其剥离。OLE 元数据的长度可变，因此您不能跳过它。
我见过的最好的方法是通过尝试在 OLE blob 中找到它的幻数来找到图像文件的开头。

以下文章和问题将向您展示如何：

*   [从存储在 MS Access DB 中的图像中删除 OLE 标头作为 OLE 对象](http://blogs.msdn.com/b/pranab/archive/2008/07/15/removing-ole-header-from-images-stored-in-ms-access-db-as-ole-object.aspx)
*   [从 Access DB 中提取 OLE 对象 (pdf)](https://stackoverflow.com/questions/1029340/extract-ole-object-pdf-from-access-db)（您也可以适应 jpg/gif/etc 图像的类似技术）

# android - 在android中显示两个图像

> ID：15716544
> 
> 赞同：0
> 
> 时间：2013-03-30T08:24:51.710
> 
> 标签：android, android-layout, android-gridview

我为正在使用的每个网格都有一个自定义网格视图

```
<?xml version="1.0" encoding="utf-8"?>
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
android:layout_width="match_parent"
android:layout_height="match_parent"
android:orientation="vertical" >

<View
    android:layout_width="fill_parent"
    android:layout_height="30sp"
    android:layout_marginTop="85sp"
    android:background="@drawable/shelf" />

<ImageView
    android:id="@+id/imgThumb"
    android:layout_width="47.5sp"
    android:layout_height="76sp"
    android:layout_centerHorizontal="true"
    android:layout_marginTop="29sp"
    android:background="@drawable/pic1" />

<ImageView
    android:id="@+id/bookCover"
    android:layout_width="60sp"
    android:layout_height="80sp"
    android:layout_marginLeft="127sp"
    android:layout_marginTop="26sp"
    android:background="@drawable/book_cover" /> 
```

**在 Eclipse 中的图形布局之前看起来像这样** ![在此处输入图像描述](../Images/1a9bc462437e420046dde0171a689fde.png)

**但是当我在模拟器上运行它时，它看起来像** ![在此处输入图像描述](../Images/2725601a8c23f655929f93b0f69b0e35.png)

书籍封面图片不见了我是android新手请不要问题出在哪里以及如何解决

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-30T08:47:41.213

您可以为此目的使用框架布局...

```
<FrameLayout android:layout_width="wrap_content" 
             android:layout_height="wrap_content">
   <ImageView  android:src="@drawable/yourimage1"/>
   <ImageView  android:src="@drawable/yourimage2" 
               android:layout_gravity="bottom|right" />
</FrameLayout> 
```

不要忘记根据您的方便设置高度和宽度，您也可以填充它们......

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-30T08:30:04.667

尝试使用 Framelayout insted of RelativeLayout 使用相同的 xml 文件......

```
<FrameLayout xmlns:android="http://schemas.android.com/apk/res/android" 
```

# forms - 发送链接（或其他）以使表格已填写

> ID：15716547
> 
> 赞同：0
> 
> 时间：2013-03-30T08:24:58.013
> 
> 标签：forms

有没有办法向网站发送一些 url（或其他东西），以便表格中的数据已经填写？这不是我自己控制的网站。

例如，我想发送一些航空公司航班的链接，并希望在打开链接时自动填写目的地和日期。

我猜不是，但之前在这里很幸运 :) 也许有某种程序或附加组件或？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-30T08:29:34.233

如果它是用 GET 方法编写的，那么只需尝试使用该站点并将 url 与您找到的所有 args 一起放入。

如果是POST，那么你需要创建一个插件或者伪装成浏览器，在网上搜索这种解决方案。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-30T08:29:50.283

不，这是不可能的，如果远程站点还没有准备好。

# mysql - between two dates i need to display "today result"

> ID：15716548
> 
> 赞同：0
> 
> 时间：2013-03-30T08:25:16.057
> 
> 标签：mysql, datetime, between

Between two dates I need to display "today result".

```
CREATE TABLE IF NOT EXISTS `maf_game_stats` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `userid` varchar(100) NOT NULL,
  `sessionid` varchar(100) NOT NULL,
  `gid` int(11) NOT NULL,
  `qid` int(11) NOT NULL,
  `result` varchar(50) NOT NULL,
  `accesstime` datetime NOT NULL,
  PRIMARY KEY (`id`)
);
INSERT INTO `maf_game_stats` (`id`, `userid`, `sessionid`, `gid`, `qid`, `result`, `accesstime`) VALUES
(1, 'FYEJHQWSHXMV263', '35sd797n57plmreb5ecssuhhh2', 1, 5, '0', '2013-03-30 13:34:03'),
(2, 'FYEJHQWSHXMV263', '35sd797n57plmreb5ecssuhhh2', 1, 1, '0', '2013-03-30 13:34:07'),
(3, 'FYEJHQWSHXMV263', '35sd797n57plmreb5ecssuhhh2', 1, 10, '1', '2013-03-30 13:34:12'),
(4, 'FYEJHQWSHXMV263', '35sd797n57plmreb5ecssuhhh2', 1, 2, '1', '2013-03-30 13:34:17'),
(5, 'FYEJHQWSHXMV263', '35sd797n57plmreb5ecssuhhh2', 1, 16, '1', '2013-03-30 13:34:23'); 
```

My query is:

```
SELECT  a.gid, a.qid,  SUM(a.result = 1) correct,  SUM(a.result = 0) incorrect FROM maf_game_stats a
                INNER JOIN
                (
                    SELECT USERID, gid, QID, MIN(ACCESSTIME) min_date
                    FROM maf_game_stats
                    GROUP BY USERID, gid, qid
                )  b ON a.USERID = b.USERID AND
                    a.gid = b.gid AND
                    a.qid = b.qid AND
                    a.ACCESSTIME = b.min_date
        WHERE   a.gid ='1'
        AND a.ACCESSTIME BETWEEN CAST('2013-03-29' AS DATETIME) AND  CAST('2013-03-30' AS DATETIME) 
        GROUP BY a.gid, a.qid 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-30T08:47:09.537

If I understand your question correctly, I think you just need to filter by current date:

```
WHERE   a.gid ='1'
AND DATE(a.ACCESSTIME) = CURDATE()
GROUP BY a.gid, a.qid; 
```

or you can use this, that could be faster because is able to make use of an index:

```
WHERE   a.gid ='1'
AND a.ACCESSTIME >= CURDATE() AND a.ACCESSTIME < CURDATE() + INTERVAL 1 DAY
GROUP BY a.gid, a.qid; 
```

# visual-studio-2012 - 如何在 Visual Studio 2012 中编写乳胶评论

> ID：15716551
> 
> 赞同：2
> 
> 时间：2013-03-30T08:25:25.733
> 
> 标签：visual-studio-2012, latex

我想在包含乳胶语法的 Visual Studio（2012 Ultimate）中写评论。

有一些插件可以添加到 Visual Studio 中，使我能够在乳胶中写评论，然后将其视为乳胶（例如，当我按下某个快捷键或用鼠标移动评论时弹出窗口）？

我发现之前有人问过：

[Visual Studio 2010 的 Latex 插件](https://stackoverflow.com/questions/5195982/latex-plugin-for-visual-studio-2010)

但这对我没有帮助。

我也发现了这个：

[http://visualstudiogallery.msdn.microsoft.com/e216ec81-730b-4022-8305-25c39eb1f820](http://visualstudiogallery.msdn.microsoft.com/e216ec81-730b-4022-8305-25c39eb1f820)

但这也对我没有帮助（我收到一条消息“此扩展无法安装在任何当前安装的产品上”）。

# asp.net-mvc - MVC 中的通用复选框列表视图模型

> ID：15716564
> 
> 赞同：0
> 
> 时间：2013-03-30T08:28:20.347
> 
> 标签：asp.net-mvc, asp.net-mvc-3, viewmodel, checkboxlist

我想创建一个通用的复选框列表视图模型，所以我得到了这个：

```
public class ChckboxListViewModel<T>
{
    public List<CheckboxViewModel<T>> CheckboxList { get; set; }
    public IEnumerable<T> SelectedValues
    {
        get { return CheckboxList.Where(c => c.IsSelected).Select(c => c.Value); }
    }

    public ChckboxListViewModel()
    {
        CheckboxList = new List<CheckboxViewModel<T>>();
    }
}

public class CheckboxViewModel<T>
{
    public string Label { get; set; }
    public T Value { get; set; }
    public bool IsSelected { get; set; }

    public CheckboxViewModel(string i_Label, T i_Value, bool i_IsSelected)
    {
        Label = i_Label;
        Value = i_Value;
        IsSelected = i_IsSelected;
    }
} 
```

不同的视图模型使用它来表示不同状态的过滤器：

```
public class FaultListFilters
{
    public string SearchKeyword { get; set; }
    public ChckboxListViewModel<Fault.eFaultStatus> StatusFilter { get; set; }

    public FaultListFilters()
    {
        SearchKeyword = null;
        StatusFilter = new ChckboxListViewModel<Fault.eFaultStatus>();

        StatusFilter.CheckboxList.Add(new CheckboxViewModel<Fault.eFaultStatus>(FaultManagementStrings.OpenStatus,Fault.eFaultStatus.Open,true));
        StatusFilter.CheckboxList.Add(new CheckboxViewModel<Fault.eFaultStatus>(FaultManagementStrings.InProgressStatus, Fault.eFaultStatus.InProgress, true));
        StatusFilter.CheckboxList.Add(new CheckboxViewModel<Fault.eFaultStatus>(FaultManagementStrings.ClosedStatus, Fault.eFaultStatus.Close, false));

    }
} 
```

现在我找不到显示编辑器或为这种视图模型创建编辑器模板的正确方法，因为它是通用的。

我不想为然后创建一个单独的编辑器模板`ChckboxListViewModel<int>`，然后再为`ChckboxListViewModel<Fault.eFaultStatus>`等等..

在这种情况下使用泛型甚至是一个鹅的想法吗？

在 MVC 中是否有另一种表示和显示复选框列表的方法？

我已经完成了以下操作，但由于某种原因，该模型没有绑定：

```
@using (Html.BeginForm("FaultManagement", "Faults", FormMethod.Get, null))
{

    for (int i=0 ; i<Model.FaultListFilters.StatusFilter.CheckboxList.Count() ; i++)
    {
        @Html.HiddenFor(m => m.FaultListFilters.StatusFilter.CheckboxList[i].Value)
        @Html.CheckBoxFor(m => m.FaultListFilters.StatusFilter.CheckboxList[i].IsSelected)
        @Html.LabelFor(m=> m.FaultListFilters.StatusFilter.CheckboxList[i].IsSelected,Model.FaultListFilters.StatusFilter.CheckboxList[i].Label)
    }

    <input type="submit" />
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-30T09:22:57.877

> 在这种情况下使用泛型甚至是一个鹅的想法吗？

不要认为它是。

> 在 MVC 中是否有另一种表示和显示复选框列表的方法？

我会编写一个自定义 HTML 助手：

```
public static class HtmlExtensions
{
    public static IHtmlString CheckboxListFor<TModel>(
        this HtmlHelper<TModel> html, 
        Expression<Func<TModel, IEnumerable<string>>> ex, 
        IEnumerable<string> possibleValues)
    {
        var metadata = ModelMetadata.FromLambdaExpression(ex, html.ViewData);
        var availableValues = (IEnumerable<string>)metadata.Model;
        var name = ExpressionHelper.GetExpressionText(ex);
        return html.CheckboxList(name, availableValues, possibleValues);
    }

    private static IHtmlString CheckboxList(this HtmlHelper html, string name, IEnumerable<string> selectedValues, IEnumerable<string> possibleValues)
    {
        var result = new StringBuilder();

        foreach (string current in possibleValues)
        {
            var label = new TagBuilder("label");
            var sb = new StringBuilder();

            var checkbox = new TagBuilder("input");
            checkbox.Attributes["type"] = "checkbox";
            checkbox.Attributes["name"] = name;
            checkbox.Attributes["value"] = current;
            var isChecked = selectedValues.Contains(current);
            if (isChecked)
            {
                checkbox.Attributes["checked"] = "checked";
            }

            sb.Append(checkbox.ToString());
            sb.Append(current);

            label.InnerHtml = sb.ToString();
            result.Append(label);
        }
        return new HtmlString(result.ToString());
    }
} 
```

然后你可以有一个视图模型：

```
public class FaultListFiltersViewModel
{
    public IEnumerable<string> SelectedStatusFilters { get; set; }
    public IEnumerable<string> AvailableStatusFilters
    {
        get
        {
            return new[] { "Label 1", "Label 2", "Label 3" }
        }
    }
} 
```

在视图内部，您可以使用帮助器：

```
@Html.CheckBoxListFor(x => x.SelectedStatusFilters, Model.AvailableStatusFilters) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-30T12:45:01.243

这是另一个实现，它将更好地支持引导按钮组标签（因为它需要将它们分开）和枚举类型选择值。

```
 public static IHtmlString CheckboxListFor<TModel, TKey>(this HtmlHelper<TModel> helper, Expression<Func<TModel, IEnumerable<TKey>>> ex, Dictionary<TKey, string> i_PossibleOptions, object i_LabelHtmlAttributes)
        where TKey : struct, IConvertible
    {
        var metadata = ModelMetadata.FromLambdaExpression(ex, helper.ViewData);
        var selectedValues = (IEnumerable<TKey>)metadata.Model;
        var name = ExpressionHelper.GetExpressionText(ex);
        return helper.CheckboxList(name, selectedValues, i_PossibleOptions, i_LabelHtmlAttributes);
    }

    private static IHtmlString CheckboxList<TKey>(this HtmlHelper helper, string name, IEnumerable<TKey> i_SelectedValues, Dictionary<TKey, string> i_PossibleOptions, object i_LabelHtmlAttributes)
        where TKey : struct, IConvertible
    {
        if (!typeof(TKey).IsEnum) throw new ArgumentException("T must be an enumerated type");

        var result = new StringBuilder();

        foreach (var option in i_PossibleOptions)
        {
            var label = new TagBuilder("label");
            label.MergeAttributes(new RouteValueDictionary(i_LabelHtmlAttributes));
            label.Attributes["for"] = string.Format("{0}",option.Key.ToString());
            label.InnerHtml = option.Value;

            var checkbox = new TagBuilder("input");
            checkbox.Attributes["type"] = "checkbox";
            checkbox.Attributes["name"] = name;
            checkbox.Attributes["id"] = string.Format("{0}", option.Key.ToString());
            checkbox.Attributes["value"] = option.Key.ToString();

            bool isChecked = ((i_SelectedValues != null) && (i_SelectedValues.Contains(option.Key)));
            if ( isChecked )
            {
                checkbox.Attributes["checked"] = "checked";
            }

            result.Append(checkbox);
            result.Append(label);
        }
        return new HtmlString(result.ToString());
    } 
```

然后视图模型看起来像这样：

```
public class FaultListFilters
{
    [Display(ResourceType = typeof(FaultManagementStrings), Name = "SearchKeyword")]
    public string SearchKeyword { get; set; }
    public Dictionary<Fault.eFaultStatus, string> PossibleFaultStatuses 
    {
        get 
        {
            var possibleFaultStatuses = new Dictionary<Fault.eFaultStatus, string>();
            possibleFaultStatuses.Add(Fault.eFaultStatus.Open, FaultManagementStrings.OpenStatus);
            possibleFaultStatuses.Add(Fault.eFaultStatus.InProgress, FaultManagementStrings.InProgressStatus);
            possibleFaultStatuses.Add(Fault.eFaultStatus.Close, FaultManagementStrings.ClosedStatus);
            return possibleFaultStatuses;
        }
    }
    public IEnumerable<Fault.eFaultStatus> SelectedFaultStatuses { get; set; }

    public FaultListFilters()
    {
        SearchKeyword = null;
        SelectedFaultStatuses = new[] { Fault.eFaultStatus.Open, Fault.eFaultStatus.InProgress };
    }
} 
```

并且用法保持不变（除了我添加了标签html属性）

```
 <div class="btn-group">
    @Html.CheckboxListFor(m => m.FaultListFilters.SelectedFaultStatuses, Model.FaultListFilters.PossibleFaultStatuses, new { Class="btn"})
</div> 
```

# java - 您是否应该将异常转换为断言以在客户处禁用它们？

> ID：15716565
> 
> 赞同：0
> 
> 时间：2013-03-30T08:28:29.430
> 
> 标签：java, exception, assert

我的一个朋友开始在他的 Java 项目中使用异常。由于未捕获的异常终止了程序，他基本上将所有异常转换为断言。因此，他可以在客户站点关闭所有异常。（实际上，他不需要禁用它们，而是必须在开发期间使用`-ea`/启用它们`-enableassertions`。）

```
class Logger {
    public static void logException(Throwable e) {
    assert false : e.getMessage();
    }
} 
```

这是在客户站点禁用异常的合理方法吗？有哪些替代方案，他的方法有哪些重要缺点？

Please note that he is very determined at disabling exceptions at the customer. (Therefore answers of the type: "Do not disable exceptions at the customer." will not be helpful to me, but maybe to other people having a similar problem.)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-30T10:14:05.237

For the record, let me start by saying that you should **never ever ever blindly disable runtime exceptions**. There is a reason why these terminate your program. Java has entered a WTF brain-fart bad state and wants to get you out as safely as possible. Something is clearly wrong with your program and the sooner you know about it the better. The last thing you want is your customer going along thinking that everything's peachy while their program is crapping all over itself.

我认为处理此问题的正确方法是在各个级别捕获您的异常并提供有效的替代方案。也许您可以放弃工作并重新提交。也许您向用户提供了一个错误，该错误将通知他们该问题（并可能帮助他们下次避免该问题）。这里的重点是您可能不应该首先发生完全未捕获的（运行时）异常；在您的代码中的某个地方，并且希望在多个逻辑级别上，您应该尽可能以编程方式优雅地处理这些异常。

# c# - 时间：2019-04-10 标签：c#udp client-server echo program

> ID：15716566
> 
> 赞同：4
> 
> 时间：2013-03-30T08:28:34.097
> 
> 标签：c#, sockets

我刚开始用 c# 进行套接字编程。我想开发一个简单的客户端-服务器回显应用程序。我遇到的问题是当我尝试将消息回显给客户端时，它没有收到它。我花了很多时间在各种论坛上寻找解决方案，但我找不到任何可以帮助我解决问题的方法。

提前致谢。安德鲁

这是代码：

服务器：

```
 static void Main(string[] args)
    {

        string data = "";

        UdpClient server = new UdpClient(8008);

        IPEndPoint remoteIPEndPoint = new IPEndPoint(IPAddress.Any, 0);

        Console.WriteLine(" S E R V E R   IS   S T A R T E D ");
        Console.WriteLine("* Waiting for Client...");
        while (data != "q")
        {
            byte[] receivedBytes = server.Receive(ref remoteIPEndPoint);
            data = Encoding.ASCII.GetString(receivedBytes);
            Console.WriteLine("Handling client at " + remoteIPEndPoint + " - ");
            Console.WriteLine("Message Received " + data.TrimEnd());

            server.Send(receivedBytes, receivedBytes.Length,remoteIPEndPoint);
            Console.WriteLine("Message Echoed to" + remoteIPEndPoint + data);
        }

        Console.WriteLine("Press Enter Program Finished");
        Console.ReadLine(); //delay end of program
        server.Close();  //close the connection
    }
} 
```

客户：

```
 static void Main(string[] args)
    {

        string data = "";
        byte[] sendBytes = new Byte[1024];
        byte[] rcvPacket = new Byte[1024];
        UdpClient client = new UdpClient();
        IPAddress address = IPAddress.Parse(IPAddress.Broadcast.ToString());
        client.Connect(address, 8008);
        IPEndPoint remoteIPEndPoint = new IPEndPoint(IPAddress.Any, 0);

        Console.WriteLine("Client is Started");
        Console.WriteLine("Type your message");

        while (data != "q")
        {
            data = Console.ReadLine();
            sendBytes = Encoding.ASCII.GetBytes(DateTime.Now.ToString() + " " + data);
            client.Send(sendBytes, sendBytes.GetLength(0)); 
            rcvPacket = client.Receive(ref remoteIPEndPoint);

            string rcvData = Encoding.ASCII.GetString(rcvPacket);
            Console.WriteLine("Handling client at " + remoteIPEndPoint + " - ");

            Console.WriteLine("Message Received: " + rcvPacket.ToString());
        }
        Console.WriteLine("Close Port Command Sent");  //user feedback
        Console.ReadLine();
        client.Close();  //close connection

    } 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-30T10:44:45.117

我可以通过让客户端直接与服务器对话而不是广播来完成这项工作：

```
var serverAddress = "127.0.0.1"; // Server is on the local machine
IPAddress address = IPAddress.Parse(serverAddress); 
```

...除非我错过了您在原始代码中使用广播的重要原因？

# c# - Launch process and hide command line parameters from Task Manager

> ID：15716567
> 
> 赞同：6
> 
> 时间：2013-03-30T08:28:35.940
> 
> 标签：c#, .net, windows, command-line, command-line-arguments

I'm not sure if this question is more appropriate for Stackoverflow or SuperUser or what StackExchange site...

Basically I'm launching a third-party app from C# with `Process.Start` with several command line parameters. One of those command line parameters is a password.

I think I'm doing a really good job of securing that password everywhere in my app, except if you open the Processes tab in Task Manager, you can add the "Command Line" column and see all of those command line parameters.

Can anyone think of a way to launch a process that somehow has the command line params hidden? Is this possible at all?

Thank you!

EDIT:

This is a Windows Service wrapper for plink.exe (SSH/Putty stuff). It will prompt for a password if I don't specify the password in the command line, but I get this weird warning:

```
Plink.exe - 3/30/2013 2:40:47 PM - Attempting keyboard-interactive authentication
Plink.exe - 3/30/2013 2:40:47 PM - Server refused keyboard-interactive authentication
Plink.exe - 3/30/2013 2:40:49 PM - user@hostname.com's password: 
```

I have specified to redirect the standard input, but perhaps I will continue looking in to that and see if I can work-around it. Also, as David Heffernan recommended, I'm going to look further into Pageant. Thank you everyone - I will post an update once I figure out a better solution!

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-30T09:00:38.050

There's no way to pass a command line argument to a process, so that the process can see it, but everything else in the system cannot.

This is an obvious flaw and when programs allow passwords to be passed as arguments, it's usually done for convenience for the user that is not concerned about eavesdroppers. Well designed programs will usually provide, in addition, other secure means of authentication.

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-31T07:02:16.407

If you set an ACL for the new process, it should restrict who can read the command line information. An empty ACL, granting no permissions, *might* block access to administrators using Task Manager, though my first guess is that it will not. (Note that an empty security descriptor is *not* the same thing as an empty ACL. One implicitly grants permission to everyone, the other implicitly denies it.)

Of course, an administrator could always replace `plink.exe` with something that stores the password somewhere. So I'm not sure that worrying about what the administrator can see with Task Manager makes sense!

# c++ - 我想知道如何以及在哪里可以在 C++ 中使用“cerr”？

> ID：15716570
> 
> 赞同：1
> 
> 时间：2013-03-30T08:28:43.593
> 
> 标签：c++

我想知道如何以及在哪里可以在 C++ 中使用“cerr”？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-30T08:32:05.557

你无处不在

1.  `#include <iostream>`和
2.  使用`std::`命名空间

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-30T08:31:59.693

通过常规流发送错误。[赛尔](http://www.cplusplus.com/reference/iostream/cerr/)。

另外，[我应该使用 cerr](https://stackoverflow.com/questions/5058716/shall-i-use-cerr)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-30T08:33:32.807

`cerr`用于将字符串传递给错误流。它与 cout 不同，cout 是输出流。

例如，您可以执行以下操作：

```
cerr << "Hello world!" << endl; 
```

默认情况下，它以与 cout 相同的方式定向到终端。但是，如果您想将错误重定向到与输出不同的位置，它会很有用。例如，您可能希望运行一个程序并将所有意外事件或错误记录在一个单独的文件中，以便用户只能看到该用户的输出。

或者，您可能只想查看错误（例如，您可以**使用**语句来打印表明发生了某些错误的语句，而不是使用`cout`语句来调试已经有大量输出的程序）。`cerr`

# javascript - 使用javascript从2或3下拉列表中将所选值显示到文本框中

> ID：15716574
> 
> 赞同：0
> 
> 时间：2013-03-30T08:29:16.807
> 
> 标签：javascript

我的表单中有 3 个下拉列表。我希望每次用户从列表中选择时，它都会显示到文本框中。所以如果用户从 3 下拉列表中选择，它将显示到 3 文本框中。问题是只有 1 个值会显示到文本框中，另一个2不显示..这是我的代码

```
<script>
 window.onload = function()
 {
    document.getElementsByName('mydropdown')[0].onchange = function(e)
    {
      document.getElementById('mylabel').innerHTML = this.value;
    };
 }
</script> 
```

这是我的html

```
<td>
   <select name="mydropdown" id="mydrop" onchange="">
      <option value="none" selected="selected"></option>
      <option value="17.50">6M</option>
      <option value="25.00">12M</option>
   </select>
</td>
<td><label id="mylabel"></label></td>
<td>
   <select name="mydropdown" id="mydrop">
      <option value="none" selected="selected">Length </option>
      <option value="0.0455">DS516HO</option>
      <option value="0.0559">DS520HO</option>
      <option value="0.0780">DS516HWR</option>
      <option value="0.0200">DS312WH</option>
      <option value="0.0624">DS520WH</option>
      <option value="0.0361">DS525FH</option>
      <option value="0.1170">DS620HW</option>
      <option value="0.1340">DS550HW</option>
      <option value="0.1340">TD525HW</option>
      <option value="0.1820">DS650HW</option>
      <option value="0.2340">TD665HWR</option>
   </select>
<td>
   <label id="mylabel">
   </label>
</td> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-30T08:47:30.217

您可以使用“onchange”调用通用函数并在那里更新值。并且由于您使用 innerHTML 设置了一个值，它会替换以前的值。用户 += 运算符将值附加到现有值。

**HTML：**

```
this is my html

<td><select name="mydropdown" id="mydrop" onchange="changeVal(this.value)">
<option value="none" selected="selected"></option>
<option value="17.50">6M</option>
<option value="25.00">12M</option>
</select>
</td>
<td><label id="mylabel"></label></td>

<td><select name="mydropdown" id="mydrop" onchange="changeVal(this.value)">
<option value="none" selected="selected">Length </option>
<option value="0.0455">DS516HO</option>
<option value="0.0559">DS520HO</option>
<option value="0.0780">DS516HWR</option>
<option value="0.0200">DS312WH</option>
<option value="0.0624">DS520WH</option>
<option value="0.0361">DS525FH</option>
<option value="0.1170">DS620HW</option>
<option value="0.1340">DS550HW</option>
<option value="0.1340">TD525HW</option>
<option value="0.1820">DS650HW</option>
<option value="0.2340">TD665HWR</option>
    </select></td>
<td><label id="mylabel"></label></td> 
```

**Javascript：** 由于无法获取具有相同 ID 的多个元素，因此我们获取具有标签名称标签的元素并检查它们的 ID 以选择我们想要的标签。

```
function changeVal(value)
{
    var rows = document.getElementsByTagName('label');
    for(var i in rows)
    {
        if(rows[i].id == 'mylabel')
            rows[i].innerHTML += value;
    }
} 
```

**JS 小提琴：http:** [//jsfiddle.net/xensoft/fK5m3/3/](http://jsfiddle.net/xensoft/fK5m3/3/)

# java - 扩展从 html 更改为 jsp 后，日历不工作

> ID：15716575
> 
> 赞同：0
> 
> 时间：2013-03-30T08:29:19.053
> 
> 标签：java, javascript, html, jsp, calendar

html 并且我在 javascript 中几乎没有代码来显示 timepick（如日历）。它在 html 中完美运行，但我在 jsp 中需要它。我的javascript很差，所以请告诉我如何让它在jsp中完美运行

这是代码

```
<%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8"%>
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">

<html>
<head>
<STYLE>
    input {      
      font-size:11px;
    }
  </STYLE>

 <link rel="stylesheet" href="http://code.jquery.com/ui/1.10.2/themes/smoothness/jquery-ui.css" />

   <script language="javaScript" type="text/javascript" src="calendar.js"></script>

<link href="calendar.css" rel="stylesheet" type="text/css">
<script>
$(function() {
$( "#datepicker" ).datepicker();
});
</script>
<style type="text/css">
html, body, div, h1, h2, h3, h4, h5, h6, p, img, dl,
  dt, dd, ol, ul, li, table, tr, td, form, object, embed,
  article, aside, command, details, fieldset,
  figcaption, figure, footer, group, header, hgroup, legend
 {
  margin: 0;
  padding: 0;
  border: 0;
  }
html {
  font: 82.5% verdana, helvetica, sans-serif;
  background: #fff;
  color: #333;
  line-height: 1;
  direction: ltr;
  }
  html, body {
  position: absolute;
  height: 100%;
  min-width: 100%;
  } 

  table {
  border-collapse: collapse;
  border-spacing: 0;
  }

  .signin-header
  {
  padding: 10px 12px 5px;
  background:#00AAFF;
  border: 1px solid #e5e5e5;
  width: 362px;
  float: right;
  }
  .signin-box
 {
  padding: 20px 25px 15px;
  background:#DEDEDE;
  border: 1px solid #e5e5e5;
  width: 335px;
  float: right;
  }

  .button {
  min-width: 46px;
  text-align: center;
  color: #444;
  font-size: 11px;
  font-weight: bold;
  height: 27px;
  padding: 0 8px;
  line-height: 27px;
  border-radius: 2px;
  transition: all 0.218s;
  border: 1px solid #dcdcdc;
  background-color: #f5f5f5;
  cursor: default;
  }

  *+html .button {
  min-width: 70px;
  }
  button.button,
  input[type=submit].button {
  height: f1f1f1px;
  line-height: 29px;
  vertical-align: bottom;
  margin: 0;
  }

  .button:hover {
  border: 1px solid #c6c6c6;
  color: #333;
  text-decoration: none;
  transition: all 0.0s;
  background-color: #f8f8f8;
  box-shadow: 0 1px 1px rgba(0,0,0,0.1);
  }
  .button:active {
  background-color: #f6f6f6;
  box-shadow: inset 0 1px 2px rgba(0,0,0,0.1);
  }
  .button:visited {
  color: #666;
  }  
   .button-submit {
  border: 1px solid #3079ed;
  color: #fff;
  text-shadow: 0 1px rgba(0,0,0,0.1);
  background-color: #4d90fe;
  }
  .button-submit:hover {
  border: 1px solid #2f5bb7;
  color: #fff;
  text-shadow: 0 1px rgba(0,0,0,0.3);
  background-color: #357ae8;
  }
  button-submit:active {
  background-color: #357ae8;
  box-shadow: inset 0 1px 2px rgba(0,0,0,0.3);
  }

  .footer-bar {
  position: absolute;
  bottom: 0;
  height: 35px;
  width: 100%;
  border-top: 1px solid #ebebeb;
  overflow: hidden;
  }
          .footer {
  padding-top: 9px;
  font-size: .85em;
  white-space: nowrap;
  line-height: 0;
  }
  .footer ul {
  color: #999;
  float: left;
  max-width: 80%;
  }
  .footer ul li {
  display: inline;
  padding: 0 1.5em 0 0;
  }
  .footer a {
  color: #333;
  }
  .footer .lang-chooser-wrap {
  float: right;
  max-width: 20%;
  }
  .footer .lang-chooser-wrap img {
  vertical-align: middle;
  }
  .footer .attribution {
  float: right;
  }
  .footer .attribution span {
  vertical-align: text-top;
  }
  .content {
  padding: 0 44px;
  }

  .table{
    padding: 0 55px
  }
</style>

<script type="text/javascript">
function ccheck()
{
FirstName=document.f1.FirstName.value;
LastName=document.f1.LastName.value;
DOB=document.f1.DOB.value;
Email=document.f1.Email.value;
Phone=document.f1.Phone.value;
RegistrationNo=document.f1.RegistrationNo.value;
City=document.f1.City.value;
State=document.f1.State.value;
Country=document.f1.Country.value;
if(City=="" || City==null)
{
alert("Plz. Enter Your City");
document.f1.City.focus();
return false;
}
if(State=="" || State==null)
{
alert("Plz. Enter Your State");
document.f1.State.focus();
return false;
}
if(Country=="" || Country==null)
{
alert("Plz. Enter Your Country");
document.f1.Country.focus();
return false;
}
if(DOB=="" || DOB==null)
{
alert("Plz. Enter Your Date of Birth");
document.f1.DOB.focus();
return false;
}
if(Email=="" || Email==null )
{
alert("Plz. Enter Your Email");
document.f1.Email.focus();
return false;

}
if(Phone=="" || Phone==null)
{
alert("Plz. Enter Your Phone");
document.f1.Phone.focus();
return false;
}
if(RegistrationNo=="" || RegistrationNo==null)
{
alert("Plz. Enter Your Registration No");
document.f1.RegistrationNo.focus();
return false;
}
if(FirstName=="" || FirstName==null)
{
alert("Plz. Enter Your First Name");
document.f1.FirstName.focus();
return false;
}
if(LastName=="" || LastName==null)
{
alert("Plz. Enter Last Name");
document.f1.LastName.focus();
return false;
}
return true;
}
</script>

<title>My Appointments</title>
</head>

<SCRIPT LANGUAGE="JavaScript">

  var imagePath='timePickerImages/';

  var ie=document.all;
  var dom=document.getElementById;
  var ns4=document.layers;
  var bShow=false;
  var textCtl;

  function setTimePicker(t) {
    textCtl.value=t;
    closeTimePicker();
  }

  function refreshTimePicker(mode) {

    if (mode==0)
      { 
        suffix="am"; 
      }
    else
      { 
        suffix="pm"; 
      }

    sHTML = "<table><tr><td><table cellpadding=3 cellspacing=0 bgcolor='#f0f0f0'>";
    for (i=0;i<=11;i++) {

      sHTML+="<tr align=right style='font-family:verdana;font-size:9px;color:#000000;'>";

      if (i==0) {
        hr = 12;
      }
      else {
        hr=i;
      }  

      for (j=0;j<4;j++) {
        sHTML+="<td width=57 style='cursor:hand' onmouseover='this.style.backgroundColor=\"#66CCFF\"' onmouseout='this.style.backgroundColor=\"\"' onclick='setTimePicker(\""+ hr + ":" + padZero(j*15) + " " + suffix + "\")'><a style='text-decoration:none;color:#000000' href='javascript:setTimePicker(\""+ hr + ":" + padZero(j*15) + " " + suffix + "\")'>" + hr + ":"+padZero(j*15) + "<font color=\"#808080\">" + suffix + "</font></a></td>";
      }

      sHTML+="</tr>";
    }
    sHTML += "</table></td></tr></table>";
    document.getElementById("timePickerContent").innerHTML = sHTML;
  }

  if (dom){
    document.write ("<div id='timepicker' style='z-index:+999;position:absolute;visibility:hidden;'><table style='border-width:3px;border-style:solid;border-color:#0033AA' bgcolor='#ffffff' cellpadding=0><tr bgcolor='#0033AA'><td><table cellpadding=0 cellspacing=0 width='100%' background='" + imagePath + "titleback.gif'><tr valign=bottom height=21><td style='font-family:verdana;font-size:11px;color:#ffffff;padding:3px' valign=center><B>&nbsp;&nbsp;Select a Time&nbsp;&nbsp;</B></td><td><img id='iconAM' src='" + imagePath + "am1.gif' onclick='document.getElementById(\"iconAM\").src=\"" + imagePath + "am1.gif\";document.getElementById(\"iconPM\").src=\"" + imagePath + "pm2.gif\";refreshTimePicker(0)' style='cursor:hand'></td><td><img id='iconPM' src='" + imagePath + "pm2.gif' onclick='document.getElementById(\"iconAM\").src=\"" + imagePath + "am2.gif\";document.getElementById(\"iconPM\").src=\"" + imagePath + "pm1.gif\";refreshTimePicker(1)' style='cursor:hand'></td><td align=right valign=center>&nbsp;<img onclick='closeTimePicker()' src='" + imagePath + "close.gif'  STYLE='cursor:hand'>&nbsp;</td></tr></table></td></tr><tr><td colspan=2><span id='timePickerContent'></span></td></tr></table></div>");
    refreshTimePicker(0);
  }

  var crossobj=(dom)?document.getElementById("timepicker").style : ie? document.all.timepicker : document.timepicker;
  var currentCtl

  function selectTime(ctl,ctl2) {
    var leftpos=0
    var toppos=0

    textCtl=ctl2;
    currentCtl = ctl
    currentCtl.src=imagePath + "timepicker2.gif";

    aTag = ctl
    do {
      aTag = aTag.offsetParent;
      leftpos  += aTag.offsetLeft;
      toppos += aTag.offsetTop;
    } while(aTag.tagName!="BODY");
    crossobj.left =  ctl.offsetLeft  + leftpos 
    crossobj.top = ctl.offsetTop +  toppos + ctl.offsetHeight +  2 
    crossobj.visibility=(dom||ie)? "visible" : "show"
    hideElement( 'SELECT', document.getElementById("calendar") );
    hideElement( 'APPLET', document.getElementById("calendar") );      
    bShow = true;
  }

  // hides <select> and <applet> objects (for IE only)
  function hideElement( elmID, overDiv ){
    if( ie ){
      for( i = 0; i < document.all.tags( elmID ).length; i++ ){
        obj = document.all.tags( elmID )[i];
        if( !obj || !obj.offsetParent ){
            continue;
        }
          // Find the element's offsetTop and offsetLeft relative to the BODY tag.
          objLeft   = obj.offsetLeft;
          objTop    = obj.offsetTop;
          objParent = obj.offsetParent;
          while( objParent.tagName.toUpperCase() != "BODY" )
          {
          objLeft  += objParent.offsetLeft;
          objTop   += objParent.offsetTop;
          objParent = objParent.offsetParent;
          }
          objHeight = obj.offsetHeight;
          objWidth = obj.offsetWidth;
          if(( overDiv.offsetLeft + overDiv.offsetWidth ) <= objLeft );
          else if(( overDiv.offsetTop + overDiv.offsetHeight ) <= objTop );
          else if( overDiv.offsetTop >= ( objTop + objHeight + obj.height ));
          else if( overDiv.offsetLeft >= ( objLeft + objWidth ));
          else
          {
          obj.style.visibility = "hidden";
          }
      }
    }
  }

  //unhides <select> and <applet> objects (for IE only)
  function showElement( elmID ){
    if( ie ){
      for( i = 0; i < document.all.tags( elmID ).length; i++ ){
        obj = document.all.tags( elmID )[i];
        if( !obj || !obj.offsetParent ){
            continue;
        }
        obj.style.visibility = "";
      }
    }
  }

  function closeTimePicker() {
    crossobj.visibility="hidden"
    showElement( 'SELECT' );
    showElement( 'APPLET' );
    currentCtl.src=imagePath + "timepicker.gif"
  }

  document.onkeypress = function hideTimePicker1 () { 
    if (event.keyCode==27){
      if (!bShow){
        closeTimePicker();
      }
    }
  }

  function isDigit(c) {

    return ((c=='0')||(c=='1')||(c=='2')||(c=='3')||(c=='4')||(c=='5')||(c=='6')||(c=='7')||(c=='8')||(c=='9'))
  }

  function isNumeric(n) {

    num = parseInt(n,10);

    return !isNaN(num);
  }

  function padZero(n) {
    v="";
    if (n<10){ 
      return ('0'+n);
    }
    else
    {
      return n;
    }
  }

  function validateDatePicker(ctl) {

    t=ctl.value.toLowerCase();
    t=t.replace(" ","");
    t=t.replace(".",":");
    t=t.replace("-","");

    if ((isNumeric(t))&&(t.length==4))
    {
      t=t.charAt(0)+t.charAt(1)+":"+t.charAt(2)+t.charAt(3);
    }

    var t=new String(t);
    tl=t.length;

    if (tl==1 ) {
      if (isDigit(t)) {
        ctl.value=t+":00 am";
      }
      else {
        return false;
      }
    }
    else if (tl==2) {
      if (isNumeric(t)) {
        if (parseInt(t,10)<13){
          if (t.charAt(1)!=":") {
            ctl.value= t + ':00 am';
          } 
          else {
            ctl.value= t + '00 am';
          }
        }
        else if (parseInt(t,10)==24) {
          ctl.value= "0:00 am";
        }
        else if (parseInt(t,10)<24) {
          if (t.charAt(1)!=":") {
            ctl.value= (t-12) + ':00 pm';
          } 
          else {
            ctl.value= (t-12) + '00 pm';
          }
        }
        else if (parseInt(t,10)<=60) {
          ctl.value= '0:'+padZero(t)+' am';
        }
        else {
          ctl.value= '1:'+padZero(t%60)+' am';
        }
      }
      else
           {
        if ((t.charAt(0)==":")&&(isDigit(t.charAt(1)))) {
          ctl.value = "0:" + padZero(parseInt(t.charAt(1),10)) + " am";
        }
        else {
          return false;
        }
      }
    }
    else if (tl>=3) {

      var arr = t.split(":");
      if (t.indexOf(":") > 0)
      {
        hr=parseInt(arr[0],10);
        mn=parseInt(arr[1],10);

        if (t.indexOf("pm")>0) {
          mode="pm";
        }
        else {
          mode="am";
        }

        if (isNaN(hr)) {
          hr=0;
        } else {
          if (hr>24) {
            return false;
          }
          else if (hr==24) {
            mode="am";
            hr=0;
          }
          else if (hr>12) {
            mode="pm";
            hr-=12;
          }
        }

        if (isNaN(mn)) {
          mn=0;
        }
        else {
          if (mn>60) {
            mn=mn%60;
            hr+=1;
          }
        }
      } else {

        hr=parseInt(arr[0],10);

        if (isNaN(hr)) {
          hr=0;
        } else {
          if (hr>24) {
            return false;
          }
          else if (hr==24) {
            mode="am";
            hr=0;
          }
          else if (hr>12) {
            mode="pm";
            hr-=12;
          }
        }

        mn = 0;
      }

      if (hr==24) {
        hr=0;
        mode="am";
      }
      ctl.value=hr+":"+padZero(mn)+" "+mode;
    }
  }

</SCRIPT>

<body onload="document.f1.uid.focus()"  style="background-image:url('medical.jpg');background-position: center ">

<form id="f1" name="f1" action="registerServlet" method="post" onsubmit="return ccheck()" >

            <img  src="header.png"><br><br><br><br><br>
    <table >
        <tr>
            <td>
                <table class="table">
                    <tr>
                        <td>

                        </td>
                        <td>image</td>
                        <td>
                            <table class="table" >
                                <tr>
                                    <td>
                                        <div class="content">
                                        <div class="signin-header">
                                        <h3>My Appointments</h3>
                                        </div>
                                        </div>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <div class="content">
                                            <div align="center" class="signin-box">
                                                <table class="table">
                                                    <tr>
                                                        <td><b>Patient</b></td>
                                                        <td><select>
  <option value="volvo">Volvo</option>
  <option value="saab">Saab</option>
  <option value="opel">Opel</option>
  <option value="audi">Audi</option>
</select></td>
                                                    </tr>

                                                    <tr>
                                                        <td><b>DOB</b></td>
                                                        <td><input type="text" name="DOB"><a href="#" onClick="setYears(1947, 2013);
       showCalender(this, 'DOB');">
      <img src="calender.png"></a></td>
                                                    </tr>
                                                    <tr>
                                                        <td><b>Start TIme</b></td>
                                                        <td><input id='timepicker1' name="StartTime" type='text' value='12:00 pm' size=8 maxlength=8 ONBLUR="validateDatePicker(this)"><IMG SRC="calender.png"  ALT=" Time!" ONCLICK="selectTime(this,timepicker1)" STYLE="cursor:hand"></td></td>
                                                    </tr>
                                                    <tr >
                                                        <td><b>End Time</b></td>
                                                        <td><input id='timepicker1' type='text' name="EndTime" value='12:00 pm' size=8 maxlength=8 ONBLUR="validateDatePicker(this)"><IMG SRC="calender.png"  ALT=" Time!" ONCLICK="selectTime(this,timepicker1)" STYLE="cursor:hand"></td>
                                                    </tr>
                                                    <tr >
                                                        <td><b>Description</b></td>
                                                        <td><input name="Description" type="text" /></td>
                                                    </tr>

                                                    <tr >
                                                        <td><input type="submit"
                                                                class="button button-submit" value="Submit" /></td>
                                                        <td><input type="reset" class="button button-submit"
                                                                value="Reset" /></td>
                                                        </tr>
                                                    </table>
                                                </div>
                                            </div>
                                        </td>
                                    </tr>
                                </table>
                            </td>
                        </tr>
            </table>
        </td>
        </tr>
</table>

<div class="footer-bar">
    <img src="./header.png" align="left" >
</div>
</form>
<table id="calenderTable">
        <tbody id="calenderTableHead">
          <tr>
            <td colspan="4" align="center">
              <select onChange="showCalenderBody(createCalender(document.getElementById('selectYear').value,
               this.selectedIndex, false));" id="selectMonth">
                  <option value="0">Jan</option>
                  <option value="1">Feb</option>
                  <option value="2">Mar</option>
                  <option value="3">Apr</option>
                  <option value="4">May</option>
                  <option value="5">Jun</option>
                  <option value="6">Jul</option>
                  <option value="7">Aug</option>
                  <option value="8">Sep</option>
                  <option value="9">Oct</option>
                  <option value="10">Nov</option>
                  <option value="11">Dec</option>
              </select>
            </td>
            <td colspan="2" align="center">
                <select onChange="showCalenderBody(createCalender(this.value, 
                document.getElementById('selectMonth').selectedIndex, false));" id="selectYear">
                </select>
            </td>
            <td align="center">
                <a href="#" onClick="closeCalender();"><font color="#003333" size="+1">X</font></a>
            </td>
          </tr>
       </tbody>
       <tbody id="calenderTableDays">
         <tr style="">
           <td>Sun</td><td>Mon</td><td>Tue</td><td>Wed</td><td>Thu</td><td>Fri</td><td>Sat</td>
         </tr>
       </tbody>
       <tbody id="calender"></tbody>
    </table>

<!-- End Calender Script  --> 

</body>
</html> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-30T08:33:04.923

它在 JSP 中的工作方式完全相同，没有区别。

# objective-c - ipad 应用程序允许多少个全屏转换？

> ID：15716578
> 
> 赞同：0
> 
> 时间：2013-03-30T08:29:27.523
> 
> 标签：objective-c, ipad

我正在开发一个教育 iPad 应用程序，我终于完成了代码并准备提交，但我刚刚发现了“减少全屏过渡”规则。

**“对于 iPad：减少全屏过渡 将视觉过渡与正在更改的内容紧密关联。当某些嵌入信息发生更改时，不要切换到全新的屏幕，而是尝试仅更新需要它的 UI 区域。作为一般规则, 转换单个视图和对象，而不是屏幕。在大多数情况下，不建议翻转整个屏幕。当您执行较少的全屏转换时，您的 iPad 应用程序具有更高的视觉稳定性，这有助于人们跟踪他们所处的位置他们的任务。您可以使用拆分视图和弹出框等 UI 元素来减少对全屏转换的需求。**

指导方针基本上说不推荐它没有说它禁止。因此，如果应用程序是基于全屏转换构建的，因为它是一个包含三个部分的培训应用程序，每个部分都有 4 个全屏转换。你认为我应该重新编码整个事情，因为它会被拒绝吗？或者 3 个按钮 4 个全屏过渡是不是太多了？

提前致谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-30T09:11:43.453

这读起来像是 UI 指南，而不是“如果您的应用不符合要求，我们将拒绝您的应用”。有没有机会发布指向它来自的文档的链接？

如果您的应用程序使用全屏转换在 UI 方面有意义，我认为不会有问题。

# javascript - Populate chained select menu

> ID：15716587
> 
> 赞同：1
> 
> 时间：2013-03-30T08:31:27.110
> 
> 标签：javascript, jquery, chained, sql

I am working on a chained select menu, which you can see here - [http://jsfiddle.net/stocktrader/EhUKJ/](http://jsfiddle.net/stocktrader/EhUKJ/). I have it coded so that the "country" selection changes the "state/zip/city" options via show/hide. All of that is working well.

But my problems is that this form is also used for updating this information for each person. And when I populate the form with current data, I can't get the correct show/hide settings to trigger based on the country setting. You can see an example in the current fiddle where I pre-selected "United States", but the "city/state/zip" options don't come up. The DO come up if you click to a different country and then back on.

I attempted to write some JavaScript that would change the populated show/hide settings by retrieving the "country" value but I don't know JavaScript at all. I tried the below code, which is in the fiddle, but I doubt it is even close.

```
var s = document.getElementById('country');
var item1 = s.options[s.selectedIndex].value;
function cty()
{
    if (item1 == 'group1')
    unhide('.group1_opts');
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-30T10:16:25.003

When you bind a function to any of the event handlers in jQuery - simply calling the handler a second time without a parameter will trigger it's execution.

Eg. `$('select').change();` will run the "change group" function you applied to it - In this case any "pre-selected" options will be processed.

[updated your fiddle](http://jsfiddle.net/EhUKJ/7/)

# c++ - How to cross reference typedef in different class?

> ID：15716590
> 
> 赞同：0
> 
> 时间：2013-03-30T08:31:52.920
> 
> 标签：c++

In class A, I have defined a type, namely A_T:

```
typedef int A_T; 
```

In class B, I have defined another type, namely B_T:

```
typedef double B_T; 
```

What if I have to use B_T in the head file of A and A_T in the head file of B?

In A.hpp, I need to include B.hpp and use B::B_T, so as for B. Then there must be a cross reference, how to solve it?

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-30T08:42:24.377

If they are the same type, and they need to remain interopable between classes, then put the typedefs in a header file, and include the header file in both of your class definitions.

```
// Types.h
#pragma once

typedef int A_T;
typedef double B_T; 
```

# jquery - 对象没有方法'flexslider'

> ID：15716598
> 
> 赞同：2
> 
> 时间：2013-03-30T08:32:37.193
> 
> 标签：jquery, flexslider

我正在尝试在我的网站上设置“flexslider”。

所以我使用这个jQuery来加载函数，显然它没有加载..

```
$(window).load(function() {
    $('.flexslider').flexslider({
        animation: "slides",
        animationLoop: false,
        itemWidth: 100,
        itemMargin: 5
    });
  }); 
```

但是当我在控制台中查看时收到此错误消息：

```
Uncaught TypeError: Object [object Object] has no method 'flexslider' 
```

如果该网站可以提供任何帮助： http: [//nworks.nu/projects2013/sthlm/index.html](http://nworks.nu/projects2013/sthlm/index.html)

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-30T08:40:59.567

这个错误主要有两个原因。

1.  要么您没有包含所需的插件。
2.  你已经包含了 jQuery 两次。

您正在做第二件事，即两次包括 jQuery。

jQuery 1.6.2 在顶部（在 flexslider js 之前）和 jQuery 1.9.1 在底部（就在 之前`</body>`）

请纠正它，错误就会消失。

ps`$(document).ready()`代替使用`$(window).load()`和不使用`frames`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-07-09T00:02:44.537

I had this same problem on a site I am editing, but oddly enough only one version of jQuery was being called, but so was:

```
jQuery.noConflict(); 
```

Be sure that is not happening to you.

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-12-30T14:32:10.077

I had this error and it was the path to the flexslider.js file being incorrect. In the console the error was followed by the get call for the flexslider.js file. Clicking this goes to the network tab, which show the get of the file had failed.

# python - HTML - python 双向通信

> ID：15716602
> 
> 赞同：0
> 
> 时间：2013-03-30T08:33:19.057
> 
> 标签：python, html

我有以下问题：

大局：通过 broswer 控制步进电机。步进电机通过 debian 连接到 Fox Board。板上有一个 apache 网络服务器正在运行。

我有一个带有表单的 HTML 网站，用户在其中输入电机的参数。提交按钮启动一个 python 脚本，该脚本与电机进行通信。电机将一些数据传递给 python 脚本。该脚本将此信息发送回 iframe 中的 HTML 页面。

```
web page with form --> 
parameters input by user --> 
submit --> 
python script is started --> 
motor does something --> 
motor sends answer to python script --> 
answer is submited by python to web page in iframe. 
```

作品...

电机返回的一个值很重要，如果它存在，我想在网页中以我的形式拥有它。不仅显示在 iframe 中。

我的问题是：a）原则上这可能吗？b) 如果是，怎么做？意义，哪些是要搜索的关键词？（现在没有线索） c) 有没有其他选择。

回答：一个自我调用的 php 脚本可能是一个解决方案。但是我怎么能编写这样一个脚本，在按下提交按钮时，php 是自调用的，python 脚本启动，php 等到 python 提供 feedbach，最后，php 用收到的数据建立自己。

我处于自己无能的边缘...

感谢您提供任何帮助、建议等...请按正确的方向发送给我，彼得

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-30T08:42:32.860

一般来说，您可以使用 AJAX（异步 javascript）和 python Web 服务来实现。通信将在客户端使用 javascript 进行处理，它会调用您的 python 脚本（Web 服务），该脚本将使用电机完成工作，然后将响应发送回网页，该网页将能够显示新的读数/状态（再次，通过 javascript）。

# php - 有一张只由图像组成的表格，我可以将表格中的所有图像合并为一个图像吗？

> ID：15716604
> 
> 赞同：0
> 
> 时间：2013-03-30T08:33:54.443
> 
> 标签：php

我有很多小图像放在桌子上，它们的位置如下：

```
image2 image3
image1 image4
and so on 
```

所有图像形成一个大图像。表格中没有其他元素，没有边框或任何东西，只有彼此相邻的图像。我想知道我是否可以将所有表格元素合并到一个大图像中。我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-30T09:02:01.410

好吧，首先，如果你需要它们在单个图像中，你为什么要切片它们？

如果您不拥有服务器上的图像，您应该简单地使用 Photoshop 或其他工具来合并图像。（通过其他工具，我的意思是`PRINT SCREEN`键盘上的按钮）

您需要使用 GD 或图像魔术。

1.  获取所有图像及其大小
2.  根据其他图像计算新的图像大小
3.  创建具有该尺寸的空白图像
4.  将重新采样的图像复制到新图像中，将它们定位到右侧 X、Y 坐标
5.  保存图像

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-30T08:51:23.337

你可以试试这些，我自己没怎么用过GD：

[http://php.net/manual/en/book.image.php](http://php.net/manual/en/book.image.php)

[http://diceattack.wordpress.com/2011/01/03/combining-multiple-images-using-php-and-gd/](http://diceattack.wordpress.com/2011/01/03/combining-multiple-images-using-php-and-gd/)

# c# - 几个 MultiDataTriggers 仅适用于最后一个

> ID：15716607
> 
> 赞同：3
> 
> 时间：2013-03-30T08:34:36.967
> 
> 标签：c#, wpf, xaml, multidatatrigger

在一个`UserControl`我有一个类型`enum`（`GroupStyle`类型`eGroupStyle`）的DP和一个类型`bool`（`IsGrouped`）的DP。我需要在所有可能的情况下开始一些故事板。但`MultiDataTrigger`只有最后一个有效。我哪里错了？另外我想知道是否存在一种更简单的方法来考虑这些条件。（检查`IsGrouped`一次。）

C＃：

```
enum eGroupStyle
{
    GroupStyle1,
    GroupStyle2,
    ∙∙∙,
    GroupStyleN,
} 
```

XAML：

```
<MultiDataTrigger>
    <MultiDataTrigger.Conditions>
        <Condition Binding="{Binding GroupStyle}" Value="GroupStyle1"/>
        <Condition Binding="{Binding IsGrouped}" Value="False"/>
    </MultiDataTrigger.Conditions>
    <MultiDataTrigger.EnterActions>
        <BeginStoryboard  Storyboard="{StaticResource Storyboard_TurnToUnselectedStyle1}"/>
    </MultiDataTrigger.EnterActions>
</MultiDataTrigger>
<MultiDataTrigger>
    <MultiDataTrigger.Conditions>
        <Condition Binding="{Binding GroupStyle}" Value="GroupStyle1"/>
        <Condition Binding="{Binding IsGrouped}" Value="True"/>
    </MultiDataTrigger.Conditions>
    <MultiDataTrigger.EnterActions>
        <BeginStoryboard  Storyboard="{StaticResource Storyboard_TurnToSelectedStyle1}"/>
    </MultiDataTrigger.EnterActions>
</MultiDataTrigger>
<MultiDataTrigger>
    <MultiDataTrigger.Conditions>
        <Condition Binding="{Binding GroupStyle}" Value="GroupStyle2"/>
        <Condition Binding="{Binding IsGrouped}" Value="False"/>
    </MultiDataTrigger.Conditions>
    <MultiDataTrigger.EnterActions>
        <BeginStoryboard  Storyboard="{StaticResource Storyboard_TurnToUnselectedStyle2}"/>
    </MultiDataTrigger.EnterActions>
</MultiDataTrigger>
<MultiDataTrigger>
    <MultiDataTrigger.Conditions>
        <Condition Binding="{Binding GroupStyle}" Value="GroupStyle2"/>
        <Condition Binding="{Binding IsGrouped}" Value="True"/>
    </MultiDataTrigger.Conditions>
    <MultiDataTrigger.EnterActions>
        <BeginStoryboard  Storyboard="{StaticResource Storyboard_TurnToSelectedStyle2}"/>
    </MultiDataTrigger.EnterActions>
</MultiDataTrigger>
∙∙∙
<MultiDataTrigger>
    <MultiDataTrigger.Conditions>
        <Condition Binding="{Binding GroupStyle}" Value="GroupStyleN"/>
        <Condition Binding="{Binding IsGrouped}" Value="False"/>
    </MultiDataTrigger.Conditions>
    <MultiDataTrigger.EnterActions>
        <BeginStoryboard  Storyboard="{StaticResource Storyboard_TurnToUnselectedStyleN}"/>
    </MultiDataTrigger.EnterActions>
</MultiDataTrigger>
<MultiDataTrigger>
    <MultiDataTrigger.Conditions>
        <Condition Binding="{Binding GroupStyle}" Value="GroupStyleN"/>
        <Condition Binding="{Binding IsGrouped}" Value="True"/>
    </MultiDataTrigger.Conditions>
    <MultiDataTrigger.EnterActions>
        <BeginStoryboard  Storyboard="{StaticResource Storyboard_TurnToSelectedStyleN}"/>
    </MultiDataTrigger.EnterActions>
</MultiDataTrigger> 
```

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-03-30T11:20:57.387

我发现了！我需要在退出操作中删除以前的故事板，如下所示。现在它可以工作了:)

```
<MultiDataTrigger>
    <MultiDataTrigger.Conditions>
        <Condition Binding="{Binding Path=GroupStyle}" Value="GroupStyle1"/>
        <Condition Binding="{Binding Path=IsGrouped}" Value="False"/>
    </MultiDataTrigger.Conditions>
    <MultiDataTrigger.EnterActions>
        <BeginStoryboard x:Name="BeginStoryboard_TurnToUnselectedStyle1" Storyboard="{StaticResource Storyboard_TurnToUnselectedStyle1}"/>
    </MultiDataTrigger.EnterActions>
    <MultiDataTrigger.ExitActions>
        <RemoveStoryboard BeginStoryboardName="BeginStoryboard_TurnToUnselectedStyle1"/>
    </MultiDataTrigger.ExitActions>
</MultiDataTrigger> 
```

# php - 使用 PHP 在数组中创建自定义键

> ID：15716608
> 
> 赞同：-4
> 
> 时间：2013-03-30T08:34:37.820
> 
> 标签：php, arrays

我设置了一个 for each 循环，以将值插入到我创建的自定义数组中。出于某种原因，当我之后使用我设置的自定义键之一在数组上运行 for 循环时，我没有得到任何结果。

**我在 for each 循环中的数组**

```
$posting_ids[] .= "[posting_id] => ".$value['posting_id'].", [posting_likes] => ".$value['total_likes'].""; 
```

**在 for 循环中回显数组**

```
for($a=0; $a < count($posting_ids); $a++) {
    echo $posting_ids['posting_id'];
} 
```

**我希望能够像下面的示例一样提取所有的posting_ids 和posting_likes**

```
Array (
  [0] => 
       [posting_id] => 1 
       [posting_likes] => 15 
  [1] => 
       [posting_id] => 2 
       [posting_likes] => 19 
) 
```

填充此数组的结果是从 foreach 循环中提取的，因此它需要能够在数组中存储多个值。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-30T08:50:12.757

检查这个[例子](http://phpfiddle.org/main/code/phf-ydt)，它可能会对你有所帮助。

```
<?php
  $posting_ids[0]['posting_id' ] = 1;
  $posting_ids[0]['total_likes'] = 10;

  $posting_ids[1]['posting_id' ] = 2;
  $posting_ids[1]['total_likes'] = 20;

  for($a=0; $a < count($posting_ids); $a++){
    echo $posting_ids[$a]['posting_id'];
  } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-30T08:37:26.867

反而

```
$posting_ids[] .= "[posting_id] => ".$value['posting_id'].", [posting_likes] => ".$value['total_likes'].""; 
```

这样做-

```
$posting_ids['posting_id'] = $value['posting_id'];
$posting_ids['posting_likes'] = $value['total_likes']; 
```

**编辑：根据您更新的帖子，您可以这样做**

```
while() { //your loop
$posting_ids = array('posting_id' => $value['posting_id'],      'posting_likes'=>$value['total_likes']);
} 
```

这样您就可以打印 $posting_ids 它会像这样打印

```
Array (
  [0] => 
       [posting_id] => 1 
       [posting_likes] => 15 
  [1] => 
       [posting_id] => 2 
       [posting_likes] => 19 
) 
```

# c++ - Want to read line by line but fstream read only first line

> ID：15716610
> 
> 赞同：1
> 
> 时间：2013-03-30T08:34:39.483
> 
> 标签：c++, visual-studio-2010, fstream

A very simple program: read a file line by line (each line contains integer) then do something and write the output to a file.

```
int main()
{
  ifstream fin ("f:\in.txt");
  ofstream fout ("f:\out.txt");

  int a;
  while (fin >> a) {
      int b = (a >> 6) & 255;
      fout << b << endl;
  }
  return 0;
} 
```

The input as multiple lines like this:

```
93859312
2635577168
2929619024
312396812
3019231016
3139200356
... 
```

But the `while` loops is iterated only one time!! and output only contains

```
183 
```

Which corresponds to the first input line. Why???

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-03-30T08:38:27.180

The numbers after the first one are larger than an `int` can represent.

Instead of `int a;`, use `long long int a;`

The largest value than an `int` can represent is 2,147,483,647: [What is the maximum value for an int32?](https://stackoverflow.com/questions/94591/what-is-the-maximum-value-for-a-int32)

Your first value is less than this, but your second is not. Thus (fin >> a) fails (i.e. is not true), and your program exits from the while loop.

# java - 将 int 数组转换为单个字符串

> ID：15716612
> 
> 赞同：-1
> 
> 时间：2013-03-30T08:35:49.017
> 
> 标签：java, arrays, string, jsp

它可能看起来很简单，但我找不到答案......我想在 JSP 中将一个双精度数组转换为单个字符串（我想这与 java 中的相同）

所以如果我有一个数组：

```
double[] Array={1.6, 2.8, 3, 4.8, 5, 6, 7, 8.8, 9, 10, 11, 12}; 
```

我将如何将其转换为单个字符串：

```
String str; 
```

例如！？

许多人建议的 String str = Arrays.toString(Array) 不起作用，因为我想 jsp 与 java 有点不同......现在这样解决了：

```
String str = ""; 
for(int i = 0; i<12; i++)
{
    nums += Double.toString(Array[i]) + ",";
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-30T08:37:20.833

使用[Arrays.toString()](http://docs.oracle.com/javase/1.5.0/docs/api/java/util/Arrays.html#toString%28int%5B%5D%29)：

> 返回指定数组内容的字符串表示形式。

```
String res = Arrays.toString(intArray); 
```

如果`intArray`是 [1, 9, 5]

`res`现在将是：“[1, 9, 5]”

如果您希望字符串集中 int 元素，您可以执行以下操作：

```
String res = "";
for(int num: intArray)
    res += num; 
```

现在`res`是195

当然，您可以在每个数字之间放置空格等等..

编辑后，我看到您有一系列双打。我认为您可以进行所需的更改。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-30T08:42:11.730

阅读这个例子：[*Java Convert int Array To String Example*](http://www.java-examples.com/java-convert-int-array-string-example)
你需要 toString 方法。这样做：

```
int[] intArray={1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12};
String str=Arrays.toString(intArray); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-30T08:37:17.397

好吧，您还没有说您希望字符串*看起来像*什么，但您可能想要[`Arrays.toString(int[])`](http://docs.oracle.com/javase/7/docs/api/java/util/Arrays.html#toString%28int%5B%5D%29)or [`Arrays.toString(double[])`](http://docs.oracle.com/javase/7/docs/api/java/util/Arrays.html#toString%28double%5B%5D%29)（因为您现在已经更改了变量类型）。例如：

```
String text = Arrays.toString(array); 
```

将为您提供您`"[1.6, 2.8, 3, 4.8, 5, 6, 7, 8.8, 9, 10, 11, 12]"`提供的示例数据。

如果您想要其他任何东西，您应该更好地指定您的要求。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-30T08:39:08.043

```
String str = "";    

for(int i: intArray)
{
    str += i.toString() + " ";
} 
```

输出

```
1 2 3 4 5... 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-03-30T08:39:57.220

我建议您查看[Apache Commons Lang 项目的](http://commons.apache.org/proper/commons-lang/)[StringUtils.join()](http://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/StringUtils.html#join%28double%5b%5d,%20char%29)方法。然后它会很简单：

```
StringUtils.join(desiredSeparatorChar, doubleArray); 
```

`Arrays.toString()`与使用其他答案中的建议相比，它可以让您更好地控制结果字符串。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-03-30T08:41:15.463

这个怎么样？

```
int[] intArray={1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12};
String str = Arrays.toString(array);
System.out.print(str); 
```

# php - SHOW TABLES 是如何工作的 - MySQL

> ID：15716615
> 
> 赞同：-2
> 
> 时间：2013-03-30T08:36:26.753
> 
> 标签：php, mysql

我正在尝试编写一个函数来显示数据库中的所有表：

```
function showTables($host, $user, $pass, $db){
    mysql_connect($host,$user,$pass)or die( "Unable to connect");
    mysql_select_db($db) or die( "Unable to select database");
    $show_table_query = mysql_query("SHOW TABLES");
    $tables=mysql_fetch_assoc($show_table_query);
    return var_dump($tables);
    mysql_close();
} 
```

当我将查询更改为`SELECT * FROM table`我得到一个包含所有行的结果集时，正如我所期望的那样.. 但因为它是`SHOW TABLES`我的函数返回：

`array(1) { ["Tables_in_internal"]=> string(8) "activity" }`

如何获取结果集以向我显示表名列表？

编辑我知道堆栈溢出的每个人都是 mysqli 的大力倡导者，但他们目前甚至没有在 PHP6 上工作，即使他们这样做了大多数人升级之前仍需要数月/数年。所以，请屏住呼吸。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-30T08:41:19.497

```
function showTables($host, $user, $pass, $db){
   mysql_connect($host,$user,$pass)or die( "Unable to connect");
   mysql_select_db($db) or die( "Unable to select database");
   $show_table_query = mysql_query("SHOW TABLES");
   $tables=array();

   while($table = mysql_fetch_assoc($show_table_query)) {
       $tables[] = $table;
   }

   var_dump($tables);

   mysql_close();
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-30T08:41:21.600

看第[一个例子](http://php.net/manual/en/function.mysql-list-tables.php)，mysql_list_tables 的替代方案：

```
$sql = "SHOW TABLES FROM $dbname";
$result = mysql_query($sql); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-30T08:42:38.703

试试这个：-

```
while($table=mysql_fetch_object($show_table_query)) {
 var_dump($table);
} 
```

# android - 允许用户打开手机相册，选择一张图片，然后发布到 Facebook Wall

> ID：15716616
> 
> 赞同：2
> 
> 时间：2013-03-30T08:36:34.660
> 
> 标签：android, facebook, facebook-graph-api, android-facebook

我仍然在使用下面的代码，其中我每次都给了一个特定的图像在墙上发布，但现在我想允许用户打开电话库并选择一个图像，然后发布到 facebook 墙上

请编写一些代码如何打开画廊，然后选择要发布的图像，并显示如何在我的工作代码中显示选定的图像，就像我仍在使用这一行一样：

```
 params.putString("picture", 
                                        FacebookUtility.HACK_ICON_URL); 
```

ItemClick 的完整代码：

```
 public void onItemClick(AdapterView<?> adapterView, View view,
        int position, long id) {

    try {
        final long friendId;
        friendId = jsonArray.getJSONObject(position).getLong("uid");
        String name = jsonArray.getJSONObject(position).getString("name");
        new AlertDialog.Builder(this)
                .setTitle(R.string.post_on_wall_title)
                .setMessage(
                        String.format(getString(R.string.post_on_wall),
                                name))
                .setPositiveButton(R.string.yes,
                        new DialogInterface.OnClickListener() {
                            @Override
                            public void onClick(DialogInterface dialog,
                                    int which) {

                                Bundle params = new Bundle();

                                params.putString("to",
                                        String.valueOf(friendId));
                                params.putString("caption",
                                        getString(R.string.app_name));
                                params.putString("description",
                                        getString(R.string.app_desc));
                                params.putString("link", 
                                        "http://www.XXX.com");
                                params.putString("picture", 
                                        FacebookUtility.HACK_ICON_URL);                         
                                params.putString("name",
                                        getString(R.string.app_action));
                                FacebookUtility.facebook
                                        .dialog(FriendsList.this,
                                                "feed",
                                                params,
                                                (DialogListener) new PostDialogListener());
                            }

                        }).setNegativeButton(R.string.no, null).show();
    } catch (JSONException e) {
        showToast("Error: " + e.getMessage());
    }
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-30T08:47:15.427

```
public static Bitmap bmpScale;
public static byte[] data;      

       builder.setNegativeButton("Gallery",
            new DialogInterface.OnClickListener() {
                @Override
                public void onClick(DialogInterface dialog, int which) {

                    openGallery(SELECT_FILE1);

                }
            });

                public void openGallery(int SELECT_FILE1) {

    Intent intent = new Intent();
    intent.setType("image/*");
    intent.setAction(Intent.ACTION_GET_CONTENT);
    startActivityForResult(
            Intent.createChooser(intent, "Select file to upload "),
            SELECT_FILE1);

    // new UploadMediaAsyncTask().execute();
}

    // ..................
protected void onActivityResult(int requestCode, int resultCode,
        Intent imageReturnedIntent) {
    super.onActivityResult(requestCode, resultCode, imageReturnedIntent);
    Uri selectedImageUri = null;
    String filePath = null;
    switch (requestCode) {
    case SELECT_FILE1:
        if (resultCode == Activity.RESULT_OK) {
            selectedImage = imageReturnedIntent.getData();

            if (requestCode == SELECT_FILE1) {
                selectedPath1 = getPath(selectedImage);
                // mimagepath.setText(selectedPath1);
                Toast.makeText(Camera.this, "" + selectedPath1 + "", 500)
                        .show();

                if (selectedPath1 != null) {

                    BitmapFactory.Options options = new BitmapFactory.Options();

                    // Decode bitmap with inSampleSize set
                    options.inJustDecodeBounds = true;
                    // image path `String` where your image is located
                    BitmapFactory.decodeFile(selectedPath1, options);

                    int bitmapWidth = 400;
                    int bitmapHeight = 250;
                    final int height = options.outHeight;
                    final int width = options.outWidth;
                    int inSampleSize = 1;
                    if (height > bitmapHeight || width > bitmapWidth) {
                        if (width > height) {
                            inSampleSize = Math.round((float) height
                                    / (float) bitmapHeight);
                        } else {
                            inSampleSize = Math.round((float) width
                                    / (float) bitmapWidth);
                        }
                    }

                    options.inJustDecodeBounds = false;
                    options.inSampleSize = inSampleSize;

                     bmpScale = BitmapFactory.decodeFile(
                            selectedPath1, options);

                    imgggg.setImageBitmap(bmpScale);
                    ByteArrayOutputStream bos = new ByteArrayOutputStream();

                    // CompressFormat set up to JPG, you can change to PNG
                    // or
                    // whatever you
                    // want;

                    bmpScale.compress(CompressFormat.JPEG, 100, bos);
                    bmpScale.compress(CompressFormat.JPEG, 100, bos);
                    // **********************
                    //  
                //globaly..................................
                    data = bos.toByteArray();

                }

                // Log.d("setpath ", "setpath " + selectedPath1);
                // Log.d("setpath ", "setpath " + selectedPath1);
                // System.out.println("selectedPath1 : " + selectedPath1);
                // mimagepath.setText(selectedPath1);

            }
        }

        break;

}

public String getPath(Uri uri) {
    String[] projection = { MediaStore.Images.Media.DATA };
    Cursor cursor = managedQuery(uri, projection, null, null, null);
    int column_index = cursor
            .getColumnIndexOrThrow(MediaStore.Images.Media.DATA);
    cursor.moveToFirst();
    return cursor.getString(column_index);
} 
```

# c - 仅通过一个操作写入两个文件描述符

> ID：15716636
> 
> 赞同：0
> 
> 时间：2013-03-30T08:40:25.363
> 
> 标签：c, logging, file-descriptor

我想在 C 中实现日志记录功能并将消息记录到标准输出和某些文件中。我想写类似 fprintf(logout, "msg"); 以某种方式声明的 FILE* logout 会将字符串重定向到标准输出和某个文件。是否可以？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-30T09:01:24.643

If this is on Linux, you can open a pipe to the `tee` command:

```
FILE *logout = popen("tee logfile", "w"); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-30T08:55:44.193

您显然需要一个类似`FILE`- 的对象，将其写入重定向到两个底层`FILE`s （`stdout`和日志文件）。标准 C 不允许`FILE`以任何方式“子类化”对象，因此这在 C 中是不可能的。但是，[GNU libc 可以](http://www.gnu.org/software/libc/manual/html_mono/libc.html#Custom-Streams)，因此如果您的程序仅适用于 Linux，您可以通过一些编程来做到这一点。由于这是非常不便携的，因此强烈建议不要这样做。

实现此目的的一种更可移植的方法是写入管道并创建一个进程或线程，该进程或线程从管道读取并写入两个底层文件。例如，假设 POSIX：

```
FILE *tee_file(FILE *fp1, FILE *fp2)
{
  int fds[2];
  if (pipe(fds))
    return NULL;
  switch (fork()) {
    case 0: {
      char buf[512];
      int nread;
      FILE *r = fdopen(fds[0], "r");
      close(fds[1]);
      while ((nread = fread(buf, 1, sizeof buf, r)) {
        fwrite(buf, 1, nread, fp1);
        fwrite(buf, 1, nread, fp2);
      }
      _exit(0);
    }
    case -1:
      return NULL;
  }
  close(fds[0]);
  return fdopen(fds[1], "w");
}

/* after calling "fp = tee_file(fp1, fp2)", writes to fp
   end up in fp1 and fp2\. */ 
```

Both approach add a good deal of complication to your program which should be justified by a very good reason. What you want is to use a logging framework that allows writing to multiple outputs (they all do), or write your own as outlined by H2CO3's answer.

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-30T08:45:19.777

你为什么不做你自己的日志功能呢？

```
int log_fprintf(FILE *stream, const char *restrict fmt, ...)
{
    va_list args;

    va_start(args, fmt);
    vfprintf(stream, fmt, args);
    va_end(args);

    va_start(args, fmt);
    int n = vfprintf(stdout, fmt, args);
    // conceptually, rather `stderr`, please!
    va_end(args);

    return n;
} 
```

# plsql - 检查以下包

> ID：15716649
> 
> 赞同：0
> 
> 时间：2013-03-30T08:41:51.070
> 
> 标签：plsql, oracle10g

包裹：

```
 create or replace package manage_emps
         is
            tax_rate constant number(5,2) := .28;
            v_id number;
            procedure insert_emp(p_deptno number,p_sal number);
            procedure delete_emp;
            procedure update_emp;
            function calc_tax(p_sal number) return number;
         end; 
```

包体：

```
 create or replace package body manage_emps
         is
           procedure update_sal(p_raise_amt number)
           is
           begin
               update emp
               set sal = (sal * p_raise_amt) + sal;
               where empno = v_id;
           end;
           procedure insert_emp(p_deptno number,p_sal number)
           is
           begin
                insert into emp(empno,deptno,sal)
                values(v_id,p_deptno,p_sal);
           end;
           procedure delete_emp
           is
           begin
               delete from emp
               where empno = v_id;
           end;
           procedure update_emp
           is
           begin
               v_sal number(10,2);
               v_raise number(10,2);
               select sal into v_sal
               from emp
               where empno = v_id;
               if v_sal < 500 then
                  v_raise := .05;
               elsif v_sal < 1000 then
                  v_raise := .07;
               else
                  v_raise := .04;
               end if;
               update_sal(v_raise);
            end;
            function calc_tax(p_sal number) return number
            is
            begin
                return p_sal * tax_rate;
            end;
         end; 
```

问题是“MANAGE_EMPS 包中有多少公共程序？” 我回答“三”。怎么会错？显然，包规范中提到了 3 个功能。该过程的声明/主体在包的主体中，然后是私有的。在正文中，过程 UPDATE_SAL 是私有的。但正确答案是：“无”。没有公共程序？如何 ？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-30T09:24:00.303

正确答案是三个。包中有三个公共程序。

笔记：

包装设计有待改进。`v_id`应该是参数而不是全局变量。

# php - UTF-8 和 ÅÄÖ 特殊字符 PHP

> ID：15716652
> 
> 赞同：-1
> 
> 时间：2013-03-30T08:42:12.397
> 
> 标签：php, utf-8, special-characters

嗨，看看这张照片：[http](http://ctrlv.in/175196) : //ctrlv.in/175196，你可以看到 ÅÄÖ 被替换为 �。

我在我的 php 的最顶部有这个：`<meta http-equiv="content-type" content="text/html; charset=utf-8"></meta>`

当我查看源代码时，它确实是 utf-8 - 那么为什么它们不能正确显示呢？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-30T08:44:56.130

当您看到 UNICODE REPLACEMENT CHARACTER 时，这意味着您的文本被解释为 UTF-8（或另一种*Unicode 编码*），但文件中的一个字节序列在此编码中无效。

换句话说，该文件***不是***UTF-8 编码的。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-30T09:05:37.027

使用记事本++尝试在没有bom的情况下编码utf-8

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-30T08:53:42.930

尝试这个。

```
iconv('windows-1250', 'utf-8', $your_variable); 
```

如果这是在查询之前首先来自 sql`set_charset('utf8')`查询。

# linux - 我可以使用对 munmap() 的一次调用来取消映射位于连续虚拟内存范围内的两个内存映射吗？

> ID：15716664
> 
> 赞同：2
> 
> 时间：2013-03-30T08:44:01.473
> 
> 标签：linux, macos, posix, mmap

例如，如果我这样做：

```
 char *pMap1;          /* First mapping */
  char *pReq;           /* Address we would like the second mapping at */
  char *pMap2;          /* Second mapping */

  /* Map the first 1 MB of the file. */
  pMap1 = (char *)mmap(0, 1024*1024, PROT_READ, MAP_SHARED, fd, 0);
  assert( pMap1!=MAP_FAILED );

  /* Now map the second MB of the file. Request that the OS positions the
  ** second mapping immediately after the first in virtual memory.  */
  pReq = pMap1 + 1024*1024;
  pMap2 = (char *)mmap(pReq, 1024*1024, PROT_READ, MAP_SHARED, fd, 1024*1024);
  assert( pMap2!=MAP_FAILED );

  /* Unmap the mappings created above. */
  if( pMap2==pReq ){
    munmap(pMap1, 2 * 1024*1024);
  }else{
    munmap(pMap1, 1 * 1024*1024);
    munmap(pMap2, 1 * 1024*1024);
  } 
```

并且操作系统确实将我的第二个映射放在请求的位置（以便 (pMap2==pReq) 条件为真），对 munmap() 的单次调用是否会释放所有分配的资源？

Linux 手册页说“munmap() 系统调用删除了指定地址范围的映射...”，这表明这将起作用，但我仍然对此有点紧张。即使它确实可以在 Linux 上运行，是否有人知道它的可移植性如何？

首先十分感谢。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-03-30T09:46:02.023

glibc 手册说没关系：

> **munmap**删除从 (addr) 到 (addr + length) 的所有内存映射。length 应该是映射的长度。
> 
> 在一个命令中取消映射多个映射是安全的，或者在范围中包含未映射的空间。也可以只取消现有映射的一部分。但是，只能删除整个页面。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-03-30T08:50:47.053

POSIX 规范[说](http://pubs.opengroup.org/onlinepubs/009696799/functions/munmap.html)：

> ```
> int munmap(void *addr, size_t len); 
> ```
> 
> 该`munmap()`函数应删除**那些包含进程地址空间的任何部分的整个页面的任何映射，这些映射从字节开始`addr`并持续到`len`字节。**

对我来说，措辞清楚地读起来好像用一个来删除多个映射`munmap()`很好，并且应该得到任何兼容实现的支持。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-03-30T08:50:58.730

我认为它应该工作。[POSIX 规范](http://pubs.opengroup.org/onlinepubs/009696799/functions/munmap.html)说它删除了

> 包含进程地址空间的任何部分的整个页面的任何映射，从字节开始`addr`并持续`len`字节

它描述的唯一未指定的行为是：

> 如果映射不是通过调用建立的，则此函数的行为是未指定的`mmap()`。

# c++ - unordered_set::remove_if(): C3892: 无法分配给 const 变量

> ID：15716665
> 
> 赞同：7
> 
> 时间：2013-03-30T08:44:19.477
> 
> 标签：c++

我有如下代码：

```
unordered_set<AttrValue> output;
...

auto requiredType = variables.at(arg.value);
auto end = remove_if(output.begin(), output.end(), 
    [&](AttrValue x) {
        return !matchingOutputType(requiredType, ast->getNodeType(ast->getNodeKeyAttribute(x)));
    }); // queryevaluator_getcandidatelist.cpp(179)
output.erase(end); 
```

错误在代码的第 4 行。所以我认为是因为`remove_if`。但是怎么了？输出未定义常量？

* * *

```
Error   90  error C3892: '_Next' : you cannot assign to a variable that is const    c:\program files (x86)\microsoft visual studio 10.0\vc\include\algorithm    1840
Error   109 error C3892: '_Next' : you cannot assign to a variable that is const    c:\program files (x86)\microsoft visual studio 10.0\vc\include\algorithm    1840 
```

输出窗口：

```
3>c:\program files (x86)\microsoft visual studio 10.0\vc\include\algorithm(1840): error C3892: '_Next' : you cannot assign to a variable that is const
3>          c:\program files (x86)\microsoft visual studio 10.0\vc\include\algorithm(1853) : see reference to function template instantiation '_FwdIt std::_Remove_if<std::_List_unchecked_const_iterator<_Mylist>,_Pr>(_FwdIt,_FwdIt,_Pr)' being compiled
3>          with
3>          [
3>              _FwdIt=std::_List_unchecked_const_iterator<std::_List_val<int,std::allocator<AttrValue>>>,
3>              _Mylist=std::_List_val<int,std::allocator<AttrValue>>,
3>              _Pr=`anonymous-namespace'::<lambda4>
3>          ]
3>          h:\dropbox\sch\cs3202\code\source\query\query evaluator\queryevaluator_getcandidatelist.cpp(179) : see reference to function template instantiation '_FwdIt std::remove_if<std::_List_const_iterator<_Mylist>,`anonymous-namespace'::<lambda4>>(_FwdIt,_FwdIt,_Pr)' being compiled
3>          with
3>          [
3>              _FwdIt=std::_List_const_iterator<std::_List_val<int,std::allocator<AttrValue>>>,
3>              _Mylist=std::_List_val<int,std::allocator<AttrValue>>,
3>              _Pr=`anonymous-namespace'::<lambda4>
3>          ] 
```

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-03-30T09:10:37.000

根据标准§ 23.2.4.6

> 对于值类型与键类型相同的关联容器，iterator 和 const_iterator 都是常量迭代器。

所以，你甚至做不到

```
std::unordered_set<int> s{1, 2, 3, 4};
*s.begin() = 42; 
```

而且，当然，您不能使用函数从and`std::remove_if(ForwardIt first, ForwardIt last, ...)`中删除元素：`std::set``std::unordered_set`

> 解引用的 ForwardIt 类型必须满足 MoveAssignable 的要求。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-30T12:41:12.380

The algorithm `std::remove_if` (**not** the member function `unordered_set::remove_if`, which is mentioned in the title but does not exist) doesn't actually remove anything; it reorders the sequence by overwriting elements that match the passed-in criterion with later elements in the sequence. So it requires a sequence of mutable objects. The objects in the sequence managed by an `unordered_set` are not mutable, since modifying them could disrupt the order that the container imposes.

To remove an element with a given key, use `unordered_set::erase`.

To remove an element or elements that match a more general criterion, you have to roll your own: iterate through the container looking for a match (`std::find_if` will do this), and remove elements as they're found using `unordered_set::erase`. Be careful: after you've erased an element the iterator that points to it is no longer valid, so your code has to save an iterator that points to the next element in the sequence. There are lots of examples of how to do this floating around.

# asp.net - ASP.NET Web API 中的用户凭据

> ID：15716670
> 
> 赞同：2
> 
> 时间：2013-03-30T08:45:04.637
> 
> 标签：asp.net, asp.net-web-api

我是 ASP.NET **Web API**的新手，我听说过很多，它是新的行业标准，我决定用它构建一个常规的酒店管理系统。我使用代码优先迁移创建了一些模型并生成了控件并创建了数据库。一开始一切都很艰难，但现在我掌握了精髓。这很棒。

现在我被困在用户管理级别。根据 Web API 规范，有一些选项可以管理对基本、表单、集成 Win 和 OAuth 等资源的访问。还有一些关于 2-legged 和 3-legged 我理解的所有身份验证选项都涉及另一个数据源或应用程序（可能不是正确的术语），它将代表我构建的 Web API 处理身份验证。

由于我的应用程序很简单（目前），我在想是否可以允许 Web API 包含必要的身份验证，例如在访问数据之前进行身份验证（用户）和授权（角色），从而消除“LEGGED” " 依赖，但同时，如果我愿意，将来允许 2-LEGGED 和 3-LEGGED 实施是开放的。

从我所看到和阅读的内容来看，Web API 对于像我正在开发的系统来说并不理想。希望我错了，因为我发现它在其他系统可以使用的服务方面很棒。

在我看来，系统的大局是允许客户我和第三方访问

*   通过网络和智能手机提供酒店信息，以检查房间可用性和预订房间
*   餐厅信息...
*   酒店活动，水疗中心..等

请建议，要实现这一点，我该如何实施身份验证和授权？

# .net - 我在哪里可以找到有关 System.Windows.Forms.DataVisualization 的文档，而不仅仅是类文档

> ID：15716678
> 
> 赞同：0
> 
> 时间：2013-03-30T08:45:52.733
> 
> 标签：.net, data-visualization

我正在尝试使用 .NET 中的 DataVisualization 库，它看起来非常强大，但似乎找不到任何能够很好地概述这些功能的文档。我可以找到命名空间和单个类文档，但我在寻找示例等。

# jquery - 无法使用 jquery 淡出动态 div

> ID：15716679
> 
> 赞同：0
> 
> 时间：2013-03-30T08:45:58.303
> 
> 标签：jquery, dynamic

我在 firstpage.php 中有以下 html 结构：

```
<div id="result" style="display:none">This is result div</div>
<form id="adres" onsubmit="return submitForm();">
<input type="hidden" name="type" value="some_value" />
<input type="submit" value="Open" />
</form> 
```

并采用内联样式：

```
#result{
position: absolute;
border: 5px solid gray;
padding: 10px;
background: white;
width: 270px;
height: 190px;
} 
```

这个html页面做什么，点击“adres”表单的“打开”按钮，一些帖子数据被发送到另一个php页面，该页面显示基于发送数据的信息，如div（其样式为display：none）fadeIn从显示：无。用于此目的的 javascript/jquery 代码如下：

```
function submitForm(){
  var data=$("#adres").serialize();
  $.post("anotherpage.php",data,
  function(data){
    $("#result").html(data);
    positionPopup();
    $("#result").fadeIn(1000);

  }
 )
return false;
}
function positionPopup(){
$("#result").css({
left: ($(window).width() - $('#result').width()) / 2,
top: ($(window).width() - $('#result').width()) / 2,
position:'absolute'
});
}

$(document).ready(function(){
  $("#divclose").click(function(){
    $(#result).fadeOut(500);
    return false;
});
}); 
```

在另一个page.php中：

```
<?php
echo $_POST['type'];
?>
<br /><a href="#" id="divclose">Close</a> 
```

即 firstpage.php 中带有获取数据的 div 将弹出如下结构：

```
<div id="result">
some_value
<a href="#" id="divclose">Close</a>
</div> 
```

到了这个阶段，一切都还好。但是，当我单击弹出 div 上的“关闭”链接时，div 没有关闭（淡出） $("#divclose").click(function() 为什么在这种情况下不会发生这种情况？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-30T08:48:35.847

您需要使用函数`on()`在动态创建的元素上绑定事件：

[http://api.jquery.com/on/](http://api.jquery.com/on/)

```
$(document).ready(function(){
    $("body").on('click',"#divclose",function(){
        $('#result').fadeOut(500);
        return false;
    });
}); 
```

您在线上还有一个错字：`$(#result).fadeOut(500);`=>`$('#result').fadeOut(500);`

# html - 浏览器调整大小时调整文本大小

> ID：15716680
> 
> 赞同：3
> 
> 时间：2013-03-30T08:46:02.750
> 
> 标签：html, css, resize, css-position

我对整个 Web 开发这件事只是新手，所以我没有太多知识。

基本上我想要做的是当浏览器窗口变小时固定定位的文本变小。我已经向我建议了媒体查询，但从我读到的内容（尽管可能是错误的），它们与设备屏幕大小有关，而不是与浏览器窗口调整大小有关。

我想使用固定定位，因为我不希望文本与页面的其余部分一起滚动，但是当浏览器窗口大小减小时，我需要改变文本大小。目前，当我调整浏览器窗口的大小时，一些文本会从屏幕上消失。我尝试在我的 CSS 样式表中输入 % height 属性，但这并没有帮助。

到目前为止，我只使用了 CSS 和 HTML

任何帮助表示赞赏

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-30T08:52:45.897

您可以使用浏览器的宽度：

> “宽度”媒体特征描述了输出设备的目标显示区域的宽度。对于连续媒体，这是视口的宽度（如 CSS2，第 9.1.1 节 [CSS21] 所述），包括渲染滚动条的大小（如果有）。

[http://www.w3.org/TR/css3-mediaqueries/](http://www.w3.org/TR/css3-mediaqueries/) §4.1

请注意，这不同于`device-width`：

> 'device-width' 媒体特征描述了输出设备的渲染表面的宽度。对于连续媒体，这是屏幕的宽度。

* * *

## 例子

（来回调整预览窗格的大小）。

*   [简单的](http://jsfiddle.net/2u4QB/3/)
*   [包含`position:fixed`内容](http://jsfiddle.net/2u4QB/2/)（根据问题）

```
<div class="resize">hello world</div>

@media all and (min-width: 400px) {
    .resize {
        font-size: 14px;
    }
}
@media all and (min-width: 600px) {
    .resize {
        font-size: 32px;
    }
} 
```

* * *

*   另见：[http ://css-tricks.com/css-media-queries/](http://css-tricks.com/css-media-queries/)

# windows-phone-8 - Windows 8 手机应用程序

> ID：15716684
> 
> 赞同：0
> 
> 时间：2013-03-30T08:46:38.250
> 
> 标签：windows-phone-8, development-environment

我是 Windows Phone 应用程序开发的新手。我想为 Windows Phone 7/7.5/8 构建应用程序

我对环境设置有一些疑问：

1.  我们是否需要 windows8 0S 来开发应用程序？

2.  我们可以在 windows vista 操作系统中开发应用程序吗？

3.  能否请您说出 Windows 应用程序开发所需的工具？什么都需要下载？我在哪里可以找到？

开发应用程序的初学者指南将不胜感激。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-30T09:05:55.447

1.  是的，您需要 Windows 8 来进行 WP8 开发。
2.  不，您需要 Windows 8 进行 WP8 开发（尽管您可以使用 XP 或更高版本进行 WP7.5）
3.  视窗电话 SDK 8.0

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-30T09:11:27.533

1.  是的，您需要 Windows 8。IDE 不会安装在较旧的操作系统上。

    此外，如果您希望能够运行可以查看/调试程序的 Windows Phone 模拟器，则需要 Windows 8 64 位。

    Moreover, your computer needs to be modern enough, the processor must support Hyper-V virtualization which is another prerequisite for the Windows Phone emulator. If you don't have this support, then again, you won't be able to debug on the emulator. You can use [coreinfo](http://technet.microsoft.com/en-us/sysinternals/cc835722.aspx) to learn whether your computer qualifies.

2.  No. The only thing you can do on Windows Vista is run a virtual machine with Windows 8\. Make sure your virtualization software supports Hyper-V, and the guest Windows 8 OS is 64-bit.

3.  You need [Windows Phone SDK](http://dev.windowsphone.com/en-us/downloadsdk). That is all.

Also note that in order to debug your application on an actual phone you will need a [developer account at Microsoft](http://dev.windowsphone.com/en-us/join). This costs $99 per year. If you're a student (and can prove that to Microsoft in some way), you will be granted with a free-of-charge account.

The account lets you to unblock up to three actual phone devices for development. You'll be able to install your program only on those. In order to install on other phones, you will need to upload your program to Windows Store.

# javascript - 在 JavaScript 中更改语言后重定向 URL

> ID：15716689
> 
> 赞同：0
> 
> 时间：2013-03-30T08:47:12.490
> 
> 标签：javascript, redirect

更改语言后，我正在搜索重定向 URL 到主页

因为我不想在点击地址栏中的图片时显示 URL 语言

例子：

```
<a href="http://www.mysite.com/?do=change&lang=en"><img src="images/en.png" alt="en" border="0"></a>

redirect http://www.mysite.com/?do=change&lang=en to http://www.mysite.com/ 
```

我没有经验 Javascript

所以有人可以解释我是如何做到这一点的

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-30T08:54:53.140

使用`window.location.replace()`.

`window.location.replace("http://www.mysite.com/");`

发生重定向时如何管理取决于您。

# javascript - 正则表达式在 JavaScript 中无法按预期工作

> ID：15716693
> 
> 赞同：4
> 
> 时间：2013-03-30T08:47:30.100
> 
> 标签：javascript, regex

我写了以下正则表达式：

```
(https?:\/\/)?([da-z\.-]+)\.([a-z]{2,6})(\/(\w|-)*)*\/? 
```

它的行为可以在这里看到： http://gskinner.com/RegExr/? [34b8m](http://gskinner.com/RegExr/?34b8m)

我编写了以下 JavaScript 代码：

```
var urlexp = new RegExp(
    '^(https?:\/\/)?([da-z\.-]+)\.([a-z]{2,6})(\/(\w|-)*)*\/?$', 'gi'
);
document.write(urlexp.test("blaaa")) 
```

`true`即使正则表达式应该不允许单个单词有效，它也会返回。

我究竟做错了什么？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-03-30T09:11:35.783

您的问题是 JavaScript 将所有转义序列视为字符串的转义。所以你的正则表达式进入内存看起来像这样：

```
^(https?://)?([da-z.-]+).([a-z]{2,6})(/(w|-)*)*/?$ 
```

当您认为是文字句点变成正则表达式通配符时，您可能会注意到这会导致中间出现问题。您可以通过几种方式解决此问题。使用正斜杠正则表达式语法 JavaScript 提供：

```
var urlexp = /^(https?:\/\/)?([da-z\.-]+)\.([a-z]{2,6})(\/(\w|-)*)*\/?$/gi 
```

Or by escaping your backslashes (and not your forward slashes, as you had been doing - that's exclusively for when you're using `/regex/mod` notation, just like you don't have to escape your single quotes in a double quoted string and vice versa):

```
var urlexp = new RegExp('^(https?://)?([da-z.-]+)\\.([a-z]{2,6})(/(\\w|-)*)*/?$', 'gi') 
```

Please note the double backslash before the w - also necessary for matching word characters.

A couple notes on your regular expression itself:

```
[da-z.-] 
```

`d` is contained in the a-z range. Unless you meant `\d`? In that case, the slash is important.

```
(/(\w|-)*)*/? 
```

My own misgivings about the nested Kleene stars aside, you can whittle that alternation down into a character class, and drop the terminating `/?` entirely, as a trailing slash will be match by the group as you've given it. I'd rewrite as:

```
(/[\w-]*)* 
```

Though, maybe you'd just like to catch non space characters?

```
(/[^/\s]*)* 
```

Anyway, modified this way your regular expression winds up looking more like:

```
^(https?://)?([\da-z.-]+)\.([a-z]{2,6})(/[\w-]*)*$ 
```

Remember, if you're going to use string notation: Double EVERY backslash. If you're going to use native `/regex/mod` notation (which I highly recommend), escape your forward slashes.

# javascript - 如何减慢 Flowslider 滑块？

> ID：15716696
> 
> 赞同：1
> 
> 时间：2013-03-30T08:47:39.840
> 
> 标签：javascript, jquery, html, slider

我有一个 flowlider 滑块，这里是项目的页面[http://www.flowslider.com/](http://www.flowslider.com/) 这是一个非常易于使用的滑块但是我不知道如何降低滑动速度，站点中没有工作示例

这是我的滑块初始化代码：

```
<script>
    jQuery(document).ready(function($) {

        // Select your slider element and call Flow Slider plugin.
        var $slider = $("#slider");
        $slider.FlowSlider({

            controllerOptions: [{
                mouseStart:100,
                mouseEnd:100,
            }],

            marginStart:20,
            marginEnd:20,
            mode:"horizontal"    
        });    
    });
</script> 
```

实际的滑块只是一个

```
<div id="slider">
a bunch of PHP generated divs here, each one is a slider element
</div> 
```

我尝试设置`speed`但`coefficient`没有任何结果

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-30T08:54:17.217

你不能改变滑动速度，这是因为滑动速度取决于`user mouse action ( user mouse movement)`and`the width of content div`和`the count of images in it`。这意味着当您将鼠标缓慢地滑过幻灯片时，滑动速度会很慢，而当您快速移动时，幻灯片会快速移动。
这张幻灯片不是那种在一段时间内重复滑动的幻灯片。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-09-07T15:22:13.620

如文档中所写，`HoverCenter`您可以使用`coefficient`或编写您自己的`moveFunction`. 文档中似乎`controllerOptions`缺少一个列表。

要开始`coefficient`工作，请使用以下内容：

```
$('#flowslider').FlowSlider({
    mode: 'horizontal',
    marginStart: 0,
    marginEnd: 0,
    controllers: ['HoverCenter'],
    controllerOptions: [{
        coefficient: 0.1
    }]
}); 
```

# multithreading - Ada 任务和终止

> ID：15716699
> 
> 赞同：1
> 
> 时间：2013-03-30T08:47:58.230
> 
> 标签：multithreading, task, ada

我在[http://en.wikibooks.org/wiki/Ada_Programming/Tasking](http://en.wikibooks.org/wiki/Ada_Programming/Tasking)上阅读了一些关于 ada 中的任务的内容，并认为我会自己写一些关于任务的小东西。因为我最近读了一个关于 Pintos 的小课程，所以我想我会实现一个小的读写器算法。这是我的尝试：

```
procedure Test_Queue is

   type Int_Array is array(1..10) of Integer;

   task type Queue is
      entry Quit;
      entry Pop(Elem : out Integer);
      entry Push(Elem : in Integer);
   end Queue;

   task body Queue is
      Elems_In_Queue : Integer := 0;
      Q : Int_Array;
   begin
      loop
         select
            accept Push(Elem : in Integer) do
               Put_Line("Push");
               Elems_In_Queue := Elems_In_Queue + 1;
               Q(Elems_In_Queue) := Elem;
            end Push;
         or
            when Elems_In_Queue > 0 =>
               accept Pop(Elem : out Integer) do
                    Put_Line("Pop");
                Elem := Q(Elems_In_Queue);
                Elems_In_Queue := Elems_In_Queue - 1;
               end Pop;
         else
            delay 1.0;
            Put_Line("Waited");
            accept Quit;
            exit;
         end select;
      end loop;
      Put_Line("Got out of the loop");
   end Queue;

   Q : Queue;
   X : Integer;

begin
   Put_Line("Started");
   Q.Push(10);
   Put_Line("Pushed");
   Q.Push(11);
   Put_Line("Pushed");
   Q.Pop(X);
   Put_Line("Integer:" & Integer'Image(X));
   Q.Quit;
   Put_Line("Done");
end Test_Queue; 
```

可能值得一提的是，我希望看到的行为是，当 1 秒内没有对队列/堆栈进行任何操作（推送/弹出）时，我希望任务终止/退出无限循环。

But this just outputs "Started" and then goes to my delay 1.0 and outputs "Wait". This is not exactly what I expected since i have accept for at least push and that is the first thing i call. Where have i been thinking wrong and why doesn't this work? Also, are there any more sources with some examples as for how to do tasking in Ada? I managed to implement this by creating a Semaphore and Lock in 2 different tasks but that seemed to be a bad solution and not very adaesque.

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-30T11:55:16.237

Having improved the diagnostics, it is clear that on startup, neither of the `Select` alternatives was immediately available so the Queue task was going straight to the `Else` part, and after 1 second delay, waiting to accept `Quit`.

Meanwhile the main task was blocking on its first (unconditional, untimed!) `Push` entry call, so that it could never issue the `Quit` entry call. Result : Deadlock.

The solution (described in [Burns & Welling](https://rads.stackoverflow.com/amzn/click/com/0521866979) on p.108) is simply to change `ELSE` to `OR` so that the third (Delay) option is still a `Select` alternative. Then in each iteration, the earliest of (Push, Pop or Delay) will be accepted.

# xamarin - 当 xamarin Studio 删除项目时，如何将项目 BACK 置于版本控制之下？

> ID：15716700
> 
> 赞同：2
> 
> 时间：2013-03-30T08:48:00.397
> 
> 标签：xamarin, xamarin-studio

我刚刚升级到 Lion，然后是 Mountain Lion（根据 Time Machine，系统更新为 11.75 GB。）现在 Xamarin Studio 现在说我的项目不再受版本控制。我不想“发布”它并丢弃 SVN（我确实想签入！！），签出也不是一个好主意...

因为它在 SVN 下，所以我不敢把工作目录复制到另一个目录，检查它并复制回来，因为有数以万计的 .svn 文件夹，这会搞砸 SVN 的纸牌屋。 .

那么，我如何告诉 Xamarin “它确实在 SVN 下，请记住更新前的内容？

谢谢。

PS：我希望这会导致升级到 SVN 的 1.7，但情况似乎并非如此..（上次我尝试安装 1.7 时，我不得不将整台机器回滚，因为它无可救药地结束了搞砸一切）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-01T05:38:28.153

Xamarin Studio 的 SVN 支持需要安装 SVN。最新版本的 Xcode（自 4.3 起）不再自动执行此操作。您必须在 Xcode Preferences->Downloads 中安装“Xcode 命令行工具”。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-08-20T13:20:10.770

我同意 mhutch 的回答，即 Xcode 不再包含 SVN，只是我必须在命令的帮助下安装 SVN：

xcode-选择--安装

在航站楼，因为 mhutch 建议的方式对我不起作用。

# jquery - 获取 #000 格式的背景颜色，而不是 RGB

> ID：15716702
> 
> 赞同：6
> 
> 时间：2013-03-30T08:48:30.400
> 
> 标签：jquery, rgb

使用此代码，我得到表中任何 TD 的 RGB 颜色：

```
alert($(this).css('background-color')); 
```

结果是：

> RGB(0, 255, 0)

是否有可能使用 jquery 获得 #000 格式或让我使用函数将 rgb 转换为 #000 格式？

在此先感谢您的帮助

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2013-03-30T08:54:34.460

尝试

```
var color = '';
$('div').click(function() {
   var hexcolor = $(this).css('backgroundColor');
   hexc(hexcolor);
   alert(color);
});

function hexc(colorval) {
    var parts = colorval.match(/^rgb\((\d+),\s*(\d+),\s*(\d+)\)$/);
    delete(parts[0]);
    for (var i = 1; i <= 3; ++i) {
        parts[i] = parseInt(parts[i]).toString(16);
        if (parts[i].length == 1) parts[i] = '0' + parts[i];
    }
    color = '#' + parts.join('');

    return color;
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-30T09:27:19.313

这是我之前编写的一个函数，它为我完成了这项工作，并且没有循环。

```
function rgbToHex(total) {
    var total = total.toString().split(',');
    var r = total[0].substring(4);
    var g = total[1].substring(1);
    var b = total[2].substring(1,total[2].length-1);
    return ("#"+checkNumber((r*1).toString(16))+checkNumber((g*1).toString(16))+checkNumber((b*1).toString(16))).toUpperCase();
}
function checkNumber(i){
    i = i.toString();
    if (i.length == 1) return '0'+i;
    else return i;
} 
```

[**JSFIDDLE**](http://jsfiddle.net/DJDavid98/uQS6F/4/)

# php - 在 PHP 中动态命名表单元素

> ID：15716709
> 
> 赞同：1
> 
> 时间：2013-03-30T08:49:17.660
> 
> 标签：php, forms

我将创建一个类似于 xampp phpmyadmin 的简单程序，其中创建数据库、创建表结构是使用表单动态创建的。我试图让他们的名字动态化，这样我就可以循环他们。

```
<?php $b =1; ?>

Field:<input name="field$b" type="text" /></br> 
```

当我提交表单时，表单的值为空。这是表单提交后的代码

```
 $a = 1;

    $tblField = $_POST['field$a'];

    echo "field name : ".$tblField; 
```

输出是

```
field name : 
```

我不确定我所做的是否正确，在表单名称中使用变量。但这是我认为我可以这样做的唯一方法，以便我可以动态创建表列..

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-30T08:52:19.060

在`$`做什么`Field:<input name="field$b" type="text" /></br>`？？如果要`$`在输入名称字段中包含美元符号，则必须将整个代码封装在 php 标记中。

像这样：`<?= 'Field:<input name="field$b" type="text" /></br>'; ?>`否则，它不会工作

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-03-30T08:53:32.120

单个配额内未转义的变量将被视为文本：

```
$tblField = $_POST['field$a']; 
```

到：

```
$tblField = $_POST["field$a"]; 
```

另请参阅 php NoOb 的答案

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2013-03-30T08:54:06.283

就像是：

```
<?php  $b =1;  
echo "Field:<input name=\"field$b\" type=\"text\" /></br>"; 
?> 
```

?

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2013-03-30T08:55:06.913

好像您忘记使用双引号而不是单引号。

```
$_POST["field$a"]; 
```

代替

```
$_POST['field$a']; 
```

# c# - 需要修改现有的 SSIS 包？

> ID：15716710
> 
> 赞同：0
> 
> 时间：2013-03-30T08:49:34.117
> 
> 标签：c#, ssis

我有一个 SQL 查询，结果为 1 或 0（基于输入）。我想在现有包中引入一个新的 DataFLow 任务，如果查询结果 1 表明 Job 失败，则必须在其中执行 DataFlow 任务。如果查询结果为 0，它必须转到下一个 DataFlow 任务吗？你能帮我解决这个问题吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-30T13:10:27.673

1.  声明一个变量——比如 iResult 为 int
2.  在控制流表面上，放置执行 SQL 任务。
3.  设置你的 SQLStatement；说 - 选择 1 作为我的结果。
4.  将结果集设置为单行。
5.  转到结果集部分。将结果名称设置为 MyResult。从下拉列表中选择 User::iResult 作为变量名。
6.  现在，将两个 DFT 放在控制流表面上。
7.  将它们都加入您在上述步骤中处理的执行 SQL 任务（两条绿线）。
8.  双击优先约束之一。将评估操作设置为表达式和约束，将值设置为成功，将表达式设置为 @iResult == 0。
9.  对另一个重复，并将 Expression 设置为 @iResult == 1。

理想情况下，您应该使用布尔变量。这会带来一点挑战。我将把它作为一个小挑战留给你和下一个登陆这里的读者。:-)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-30T08:53:22.730

换一种方式。使用 SQL 命令收集 1/0 并放入变量中。

然后使用该变量来决定执行哪个数据流。

# android - android sqlite fts case insensitive

> ID：15716715
> 
> 赞同：1
> 
> 时间：2013-03-30T08:50:36.240
> 
> 标签：android, sqlite, unicode, fts3

I'm using SQLite FTS3 tables in my application. But search with FTS table is case sensitive for non English characters.

Is there simple way to make case insensitive search support for unicode symbols?

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-05-06T09:27:57.863

When you insert value in FTS table insert it in lower case. When you query matches convert your word to lower case too!

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-05-11T10:56:23.950

Sqlite started support unicode61 tokenizer for fts index, which would help in this case. [http://www.sqlite.org/fts3.html#unicode61](http://www.sqlite.org/fts3.html#unicode61)

# java - ProcessBuilder - 一个潜在的错误

> ID：15716737
> 
> 赞同：0
> 
> 时间：2013-03-30T08:53:44.947
> 
> 标签：java, processbuilder

尝试执行代码块时遇到一个奇怪的问题（尤其是 Java 中的 ProcessBuilder 类）

有效的代码：

```
package modules.user.verify;

import java.io.*;
import java.util.*;
import java.net.*;

public class VerifyUser {
public static void main(String[] args) {
    boolean listening = true;

    try {
        ServerSocket server = new ServerSocket(20002);

        while(listening) {
            Socket client = server.accept();

            PrintWriter out = new PrintWriter(client.getOutputStream(), true);
            BufferedReader in = new BufferedReader(new InputStreamReader(client.getInputStream()));

            String input, store = "", request = "";

            // For all input received, write it to the request buffer.
            while((input = in.readLine()) != null) {
                request += input;
            }   // end while loop

            BufferedReader reader = new BufferedReader(new FileReader("store/address-book/address-book.xml"));

            while((input = reader.readLine()) != null) {
                store += input;
            }   // end while loop

            String acl2 = "(include-book \"modules/user/verify/verify-user\")" + 
                              "(in-package \"ACL2\")" +
                         "(set-state-ok t)" +
                              "(set-guard-checking :none)" + 
                          "(testUser \"" + request + "\" \"" + store + "\" state)";

            System.out.println("Executing ACL2 runtime...");
            ProcessBuilder processBuilder = new ProcessBuilder("acl2");
            File log = new File("logs/user/verify/acl2_log.txt");
            processBuilder.redirectErrorStream(true);
            processBuilder.redirectOutput(ProcessBuilder.Redirect.appendTo(log));
            Process process = processBuilder.start();
            PrintWriter procIn = new PrintWriter(process.getOutputStream());

            // Write the ACL2 to the process, exit ACL2 and close the socket
            procIn.println(acl2);
            procIn.println("(good-bye)");
            procIn.flush();
            procIn.close();
            out.close();
            in.close();
            client.close();
        }   // end while loop

        server.close();
        System.exit(0);
    } catch(Exception e) {
        e.printStackTrace();
    }   // end try/catch
}   // end function main
}   // end class VerifyUser 
```

不起作用的代码：

```
package modules.user.register;

import java.io.*;
import java.util.*;
import java.net.*;

public class RegisterUser {
public static void main(String[] args) {
    boolean listening = true;

    try {
        // Acquire the listening port for connection to client.
        ServerSocket server = new ServerSocket(20001);

        while(listening) {
            // Wait until the client connects
            Socket client = server.accept();

            // Handles for input and output streams relating to the socket connection
            PrintWriter out = new PrintWriter(client.getOutputStream(), true);
            BufferedReader in = new BufferedReader(new InputStreamReader(client.getInputStream()));

            // Buffers
            String input, store="", request="";

            // Read the input from the connection
            while((input = in.readLine()) != null) {
                request += input;
            }   // end while

            // Read the contents of the address-book currently stored
            BufferedReader reader = new BufferedReader(new FileReader("store/address-book/address-book.xml"));
            while((input = reader.readLine()) != null) {
                store += input;
            }   // end while

            // The ACL2 code to execute.
            String acl2 = "(include-book \"register-user\")" +
                          "(in-package \"ACL2\")"            +
                          "(registerUser \"" + request + "\" \"" + store + "\" state)";

            // Initialize ACL2 and dump its output to the log
            System.out.println("Executing ACL2 runtime for RegisterUser...");
            ProcessBuilder processBuilder = new ProcessBuilder("acl2");
            File log = new File("logs/user/register/acl2_log.txt");
            processBuilder.redirectErrorStream(true);
            processBuilder.redirectOutput(ProcessBuilder.Redirect.appendTo(log));

            Process process = processBuilder.start();
            PrintWriter procIn = new PrintWriter(process.getOutputStream());

            // Write the ACL2 to the process, close ACL2
            //procIn.println(acl2);
            //procIn.println("(good-bye)");
            //procIn.flush();
            //procIn.close();

            // Old store is old address-book file and new store is newly generated
            File oldStore = new File("store/address-book/address-book.xml");
            File newStore = new File("store/address-book/temp_address-book.xml");

            // Response header information
            String response = "<?xml version='1.0'?>"                        + 
                              "<!DOCTYPE response SYSTEM 'dtd/reponse.dtd'>" +
                              "<response>";

            // Determine if there was a change.
            // If entry was added, the length > that old length.
            if(oldStore.length() < newStore.length()) {
                // Replace old file with new file
                oldStore.delete();
                newStore.renameTo(oldStore);

                // Extract data from request XML
                String name   = request.substring(request.indexOf("<name>")+6, request.indexOf("</name>")-7);
                String domain = request.substring(request.indexOf("<domain>")+8, request.indexOf("</domain>")-9);

                // Create the store directory for the user's emails
                File storeDirectory = new File("store/email/" + domain + "/" + name + "/");
                storeDirectory.mkdirs();

                response += "<message>ACCEPT</message>";
            } else {
                // Remove new file as it is pointless
                newStore.delete();
                response += "<message>REJECT</message>";
            }   // end if-else

            response += "</response>";

            // Writeback the response to the client
            out.print(response);
            out.flush();

            // Close all streams
            out.close();
            in.close();
            client.close();
        }   // end while
    } catch(Exception e) {
        e.printStackTrace();
    }   // end try/catch
}   // end function main
}   // end class RegisterUser 
```

如您所见，我没有向程序传递任何参数。当我在 Windows DOS shell 上回显 %PATH% 时，它显示 C:\ACL2 在我的 ENV vars 中（这是 acl2.exe 所在的文件夹）。我尝试将 acl2 更改为 C:\ACL2\acl2.exe 只是为了得到相同的结果。

令我惊讶的是为什么第一个工作完美而第二个（具有几乎相同的完全相同的代码 - 完全相同的 ProcessBuilder 代码）不起作用。

看来这段代码是我的问题所在：

```
 System.out.println("Executing ACL2 runtime...");
        ProcessBuilder processBuilder = new ProcessBuilder("acl2");
        File log = new File("logs/user/register/acl2_log.txt");
        processBuilder.redirectErrorStream(true);
        processBuilder.redirectOutput(ProcessBuilder.Redirect.appendTo(log));
        Process process = processBuilder.start();
        PrintWriter procIn = new PrintWriter(process.getOutputStream()); 
```

错误：

```
Executing ACL2 runtime for RegisterUser...
java.io.IOException: Cannot run program "acl2": The system cannot find the path specified
        at java.lang.ProcessBuilder.start(Unknown Source)
    at modules.user.register.RegisterUser.main(RegisterUser.java:74)
Caused by: java.io.IOException: The system cannot find the path specified
    at java.lang.ProcessImpl.openForAtomicAppend(Native Method)
    at java.lang.ProcessImpl.newFileOutputStream(Unknown Source)
    at java.lang.ProcessImpl.start(Unknown Source)
    ... 2 more 
```

应该发生的是，启动的进程是 ACL2 环境，代码被发送到它被执行，然后进程被杀死（通过 ACL2 中的（再见）命令）。之后代码应该在一点点Java之后退出，这与发生错误的ACL2进程无关。

VerifyUser 程序调用 ACL2，将响应写入“server-response.xml”文件并正常退出而不会发生任何事件。

RegisterUser 程序应该调用 ACL2，写一个响应并优雅地退出，一个小的 java 代码为用户创建一个目录，删除一个存储文件并重命名新生成的用户注册。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-30T09:32:10.437

由于异常被抛出

```
at java.lang.ProcessImpl.openForAtomicAppend(Native Method) 
```

**并且**您使用两种不同的路径：

```
File log = new File("logs/user/verify/acl2_log.txt");
File log = new File("logs/user/register/acl2_log.txt"); 
```

it might be possible, that the `acl` command is found but that the redirection cannot be performed. In this case the error message is not quite helpful but - if you read between the lines - also not wrong.

# php - 调整图像大小 - 如果图片仅显示一半

> ID：15716741
> 
> 赞同：0
> 
> 时间：2013-03-30T08:54:18.020
> 
> 标签：php

这个脚本有些如何显示图像的一半而不是整个图像......我试图弄清楚这里有什么问题

请有任何帮助

// 文件

```
 $ftimage = $_POST['feature_image'];

                        // maximum height 150 X width 150
                        $width = 150;
                        $height = 150;

                        // Dimensions Set
                        list($width_orig, $height_orig) = getimagesize($ftimage);

                        $ratio_orig = $width_orig/$height_orig;

                        if ($width/$height > $ratio_orig) {
                           $width = $height*$ratio_orig;
                        } else {
                           $height = $width/$ratio_orig;
                        }

                        // Resample
                        $image_p = imagecreatetruecolor($width, $height);
                        $image = imagecreatefromjpeg($ftimage);
                        imagecopyresampled($image_p, $image, 0, 0, 0, 0, $width, $height, $width_orig, $height_orig);

                        // Output
                        $image = imagejpeg($image_p, null, 100);
                        var_dump($image); 
```

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2013-03-30T08:58:54.370

尝试更换它

```
$ftimage = $_POST['feature_image']; 
```

用它：

```
$ftimage = $_POST['feature_image']['tmp_name']; 
```

或者，如果在您的 POST 请求中存储了远程图像的 URL，请尝试以下操作：

```
$image = imagecreatefromstring(file_get_contents($ftimage)); 
```

# ember.js - 在默认的 ember js 上选择选择

> ID：15716748
> 
> 赞同：1
> 
> 时间：2013-03-30T08:54:40.000
> 
> 标签：ember.js

我有一个模型`Currencies`。模型中的字段是`name:string`和`default:boolean`。在后端，只有数据库中的一条记录可以让`default:true.`我希望在 Ember js 中的选择中默认选择它。

**请给我一个例子如何进行这样的选择和使用它**

例子：

```
name: type1  default: false
name: type2  default: true
name: type3  default: false 
```

我想生成这样的选择：

```
<selected>
  <option>type1</option
  <option selected=selected>type2</option
  <option>type3</option
</selected> 
```

路由.js

```
@route 'addincome', { path: 'operations/addincome' }
EmberMoney.AddincomeRoute = Ember.Route.extend
  model: ->
    EmberMoney.IncomeOperation.createRecord()
  setupController: (controller, model) ->
    controller.set('currencies', EmberMoney.Currency.find())
    controller.set('content', model) 
```

addincome.handlebars

// 一些带有收入记录的输出

```
{{view EmberMoney.Select viewName="select"
                    contentBinding="controller.currencies"
                    optionLabelPath="content.name"
                    optionValuePath="content.id"
                    selectionBinding="controller.defaultType"}} 
```

addincome_controller.js

```
EmberMoney.AddincomeController = Ember.ObjectController.extend({
  setDefaultCurrency: function(){
    if(this.get('currencies.isLoaded')){
      this.set('defaultType', this.get('currencies').findProperty('default'));
    }
  }.observes('currencies.isLoaded')
}) 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-30T10:01:20.890

用于`selectionBinding`选择，并`ComputedProperty`找到合适的项目

## 更新

```
EmberMoney.AddincomeController = Ember.ObjectController.extend({
  setDefaultCurrency: function(){
    if(this.get('currencies.isLoaded')){
      this.set('defaultType', this.get('currencies').findProperty('default'));
    }
  }.observes('currencies.isLoaded')
}) 
```

对观察者使用`isLoaded`over的优点`@each`是，观察者不会在每次添加货币时被触发，而是确保在加载整个集合后设置值，再次由用例决定何时使用哪个

关于[findProperty 的详细信息](http://emberjs.com/api/classes/Ember.Enumerable.html#method_findProperty)

希望这可以帮助

**截屏** ![货币列表](../Images/c8e3555cc2c719e118a1ae5465e1aab8.png)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-30T12:58:30.373

我的答案建立在已经发布的那个之上。答案是使用`selectionBinding`and 一种巧妙的方式来设置它：

```
{{view Ember.Select
   contentBinding="controller.types"
   optionLabelPath="content.name"
   optionValuePath="content.id"
   selectionBinding="controller.selectedCurrency"
}}

EmberMoney.IncomesController = Ember.ArrayController.extend({
  selectedCurrency : null,
  currenciesObserver: function(){
    var currencies = this.get("currencies");
    var default = currencies.findProperty("default");
    if(default)
      this.set("selectedCurrency", default);
  }.observes('currencies.@each')
}); 
```

**解决方案如何工作？**

*   我们在 Select 控件和您的控制器之间设置了一个 selectionBinding（双向）。如果您在控制器中的属性“selectedCurrency”中设置货币，它将是 Select 控件中的选定值。反之亦然，如果您在选择框中选择一种货币，它将在您的控制器中设置。
*   我在观察者的帮助下进行初始设置。**每次观察到的货币数组发生变化时都会调用观察者。**
*   每次调用它时，它都会尝试查找默认货币。如果找到一个，它会将其设置在您的 selectedCurrency 属性中。现在 selectionBinding 启动并为您发挥作用。
*   此解决方案的另一个优点是，如果用户选择另一种货币，您可以轻松地从属性中获取所选值。

# google-app-engine - 是否可以将 OAuth2.0 用于 Google 域共享联系人 API

> ID：15716754
> 
> 赞同：0
> 
> 时间：2013-03-30T08:55:23.453
> 
> 标签：google-app-engine, google-contacts-api, google-authentication

我必须为 Google Domain Shared Contacts API ( [https://developers.google.com/google-apps/domain-shared-contacts/#authsub](https://developers.google.com/google-apps/domain-shared-contacts/#authsub) ) 创建一个应用程序。仅指定了两种身份验证方法 1.ClientLogin 2.AuthSubProxy

我不想存储用户的用户名和密码，所以唯一的选择是 AuthSubProxy 。当我点击此链接[https://developers.google.com/accounts/docs/AuthSub](https://developers.google.com/accounts/docs/AuthSub)时，表示此方法已被弃用。任何人都可以清除它，我们可以将 OAuth2.0 用于谷歌域共享联系人 api 或者唯一的选择是使用不推荐使用的 AuthSubProxy 方法？？请回复！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-05-23T13:26:37.607

是的，OAuth 可用于通过共享联系人 API 进行身份验证。

[这篇文章](http://www.jellybend.com/2012/12/12/manage-google-apps-domain-shared-contacts-with-google-apps-script/)用一个例子很好地解释了它。

# c++ - 在一个父母中分叉多个孩子

> ID：15716771
> 
> 赞同：2
> 
> 时间：2013-03-30T08:59:18.187
> 
> 标签：c++, fork

我想在一个父母中分叉三个子进程。以下是我的 C++ 代码：

```
#include <unistd.h>
#include <sys/types.h>
#include <sys/wait.h>
#include <iostream>

using namespace std;

int main()
{
    pid_t pid;
    for (int i = 0; i < 3; i++)
    {
        pid = fork();

        if (pid < 0)
        {
            cout << "Fork Error";
            return -1;
        }
        else if (pid == 0)
            cout << "Child " << getpid() << endl;
        else
        {
            wait(NULL);
            cout << "Parent " << getpid() << endl;
            return 0;
        }
    }
} 
```

现在我的输出是：

```
Child 27463
Child 27464
Child 27465
Parent 27464
Parent 27463
Parent 27462 
```

我应该如何修改我的程序以获得如下输出？

```
Child 27463
Child 27464
Child 27465
Parent 27462 
```

我的意思是这三个孩子需要属于同一个父母，有人可以给我一些建议吗？

谢谢你们。:)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-30T09:02:27.083

您应该退出子进程的执行。否则，他们也会继续分叉

```
pid_t pid;
for(i = 0; i < 3; i++) {
    pid = fork();
    if(pid < 0) {
        printf("Error");
        exit(1);
    } else if (pid == 0) {
        cout << "Child " << getpid() << endl;
        exit(0); 
    } else  {
        wait(NULL);
        cout << "Parent " << getpid() << endl;
    }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-30T09:02:09.010

有两个问题：

*   孩子零和一继续`for`循环，产生进一步的过程；
*   “父”分支终止而不是继续循环。

以下将产生您想要的输出：

```
#include <unistd.h>
#include <sys/types.h>
#include <sys/wait.h>
#include <iostream>

using namespace std;

int main()
{
    pid_t pid;
    for (int i = 0; i < 3; i++)
    {
        pid = fork();

        if (pid < 0)
        {
            cout << "Fork Error";
            return -1;
        }
        else if (pid == 0) {
            cout << "Child " << getpid() << endl;
            return 0;
        } else {
            wait(NULL);
            if (i == 2) {
                cout << "Parent " << getpid() << endl;
            }
        }
    }
} 
```

当我运行它时，我得到

```
Child 4490
Child 4491
Child 4492
Parent 4489 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-30T09:02:20.873

将你`return 0`从最后一个条件移到中间一个：

```
 if (pid < 0)
    {
        cout << "Fork Error";
        return -1;
    }
    else if (pid == 0) {
        cout << "Child " << getpid() << endl;
        return 0;
    }
    else
    {
        wait(NULL);
        cout << "Parent " << getpid() << endl;

    } 
```

这样父级将继续循环，子级将终止而不是循环。

# asp.net - 使用 htaccess 将动态 aspx 重定向到静态 url

> ID：15716779
> 
> 赞同：1
> 
> 时间：2013-03-30T09:00:30.727
> 
> 标签：asp.net, redirect

我有动态 aspx url，例如 xyz.com/packaging.aspx?page=2 我想重定向到 xyz.com/casestudy/brochure-design/ （这是后端的 php）

我尝试了以下重定向代码：

```
RewriteCond %{QUERY_STRING} ^page=2$
RewriteRule ^/packaging.aspx$ xyz.com/casestudy/archive-packaging-design/ [L,R=302] 
```

或者

```
RewriteCond %{QUERY_STRING} ^page=2$
RewriteRule ^/packaging.aspx$ xyz.com/casestudy/archive-packaging-design?/ [L,R=302] 
```

它已被重定向到新页面，但带有查询字符串，即[http://www.xyz.com/casestudy/archive-packaging-design/?page=2](http://www.xyz.com/casestudy/archive-packaging-design/?page=2)

我不想 ?page=2 在 url 的末尾，因为它会产生重复的内容问题。我请求大家帮我解决这个问题。

先谢谢了。

# php - 我们可以在自己的 php 应用程序中使用 zend 库吗

> ID：15716782
> 
> 赞同：2
> 
> 时间：2013-03-30T09:00:45.423
> 
> 标签：php, zend-framework

使用zend库是否必须使用zend框架结构，或者我们可以在我们自己的php应用程序中使用zend库...

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-30T09:26:55.997

在您自己的应用程序中使用 ZF（假设为 ZF1）库的三个步骤，无需整个 ZF MVC 堆栈。

1.  **设置包含路径**

    确保`Zend`库文件夹在您的 php 上`include_path`。

2.  **加载你的课程**

    您可以在使用之前包含每个类文件：

    ```
    require_once 'Zend/Validate/EmailAddress.php';
    $validator = new Zend_Validate_EmailAddress(); 
    ```

    但是这样做很痛苦。通常，最好使用自动加载器。最简单的方法是（在引导过程的早期，可能在`common.php`文件中，YMMV）：

    ```
    require_once 'Zend/Loader/Autoloader.php';
    Zend_Loader_Autoloader::getInstance()->setFallbackAutoloader(true); 
    ```

    完成此操作后，您可以按需实例化/引用：

    ```
    $validator = new Zend_Validate_EmailAddress(); 
    ```

3.  **实例化/引用**

    ```
    $validator = new Zend_Validate_EmailAddress();
    echo $validator->isValid('test@example.com') ? "Cool" : "Fail"; 
    ```

# backbone.js - 从 fetch 更新主干视图

> ID：15716783
> 
> 赞同：1
> 
> 时间：2013-03-30T09:00:59.890
> 
> 标签：backbone.js

我正在尝试创建一个实时应用程序，并且有一个我不断使用 setInterval 获取的集合。我遇到的问题是，当我获取我的集合时，Backbone 会重新呈现整个集合，如果我将获取间隔设置得太短，那么绑定到与我的集合中的元素关联的视图的事件不会触发绑定到它们的点击事件可靠（大概是因为它正忙于重新渲染？）。我应该如何构建这个？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-30T09:17:41.267

根据您的问题，我假设您有一个视图呈现整个集合，绑定到“同步”事件。相反，如果您创建视图来呈现集合中的各个元素，并在“同步”时遍历集合中的模型，呈现新模型并更新与已更改模型关联的视图，您将实现我认为您想要的。

# c++ - Simplifying this masm to make it faster?

> ID：15716784
> 
> 赞同：-1
> 
> 时间：2013-03-30T09:01:02.283
> 
> 标签：c++, int, masm, addition

I am trying to make the c++ code of adding 512 bit (big int) converted into masm inline assembler in visual studio. Carry is very important as the C++ shown in the link below.I do need to represent the c++ into masm inline assembler in visual studio

I tried to do this in masm but it is slow it took mearly 700 ms for my masm code

[C++ code Here](http://codepad.org/bMZHQKKL). C++ Takes 300 ms for addition

Masm code

```
 _asm {
         mov edx, summand
         mov eax, [edx]
         mov ebx, this
         add eax, [ebx]
         mov [ebx], eax `mov ecx, 4
     mov eax, [edx + ecx]
     adc eax, [ebx + ecx]
     mov [ebx + ecx], eax

     mov ecx, 8
     mov eax, [edx + ecx]
     adc eax, [ebx + ecx]
     mov [ebx + ecx], eax

     mov ecx, 12
     mov eax, [edx + ecx]
     adc eax, [ebx + ecx]
     mov [ebx + ecx], eax
  }` 

            回答 #1

赞同：1

时间：2013-03-30T09:29:35.337

It's probably faster to use

```
 mov eax, [edx + 4]
 adc eax, [ebx + 4]
 mov [ebx + 4], eax 
```

instead of

```
 mov ecx, 4
 mov eax, [edx + ecx]
 adc eax, [ebx + ecx]
 mov [ebx + ecx], eax 
```

and the same for 8 and 12\. But I would be surprised if your asm code is really slower than the C++ code in your link. It may be that using an asm block disables some optimisations in another part of the function. You will have to look at the generated assembler code for the whole function to find that out. (And what is your 700ms?)

```

# ios - 如何有条件地加载不同的故事板？

> ID：15716791
> 
> 赞同：1
> 
> 时间：2013-03-30T09:02:22.560
> 
> 标签：ios

我对 iOS 开发比较陌生，我决定依靠[Parse](http://parse.com)来完成我的应用程序的用户注册和身份验证流程。

问题如下。

我想加载不同的记分牌，具体取决于用户是否在注册时登录。例如，如果用户注册（或第一次登录），我想带她参观。但是下次用户登录时，她会看到主应用程序视图。

实现这一目标的最佳方法是什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-30T11:55:31.397

我不知道解析，但我可以指导你的故事板。

首先，您不需要两个故事板。一个就足以实现这一目标。

设计你的游戏板是这样的：

```
UINavigationController(1)->UIViewController(signup)->UIViewController(Tour)->UINavigationController(2)->UIViewController(signin) 
```

将 UINavigationController(1) 设为您的根视图控制器，这样当应用程序第一次加载时，它将显示 UIViewController(signup)。

现在在 appDelegate white 中类似于以下`- (BOOL)application:(UIApplication *)application didFinishLaunchingWithOptions:(NSDictionary *)launchOptions`方法

```
if(ISSignUP)
{
    window.rootViewController = [window.rootViewController.storyboard instantiateViewControllerWithIdentifier:@"UINavigationController(2)_ID"];
} 
```

这里 UINavigationController(2)_ID 是你给 UINavigationController(2) 的标识符

如果您想要更多指导或遇到任何问题，请发表评论。

祝你今天过得愉快。

# php - 加快具有不同参数的 MySQLi 查询

> ID：15716798
> 
> 赞同：0
> 
> 时间：2013-03-30T09:03:41.403
> 
> 标签：php, mysql, performance, mysqli

一个特定的网页通常每次使用不同的参数执行相同的查询。
例如假设一个注册页面：
这个页面执行相同的查询，具有不同的名称、地址、城市等参数

我是 mysqli 的新手，但我听说要执行的每个 mysqli 查询都是由服务器编译然后执行的。

是否可以在该页面上预编译查询，以便每次不同的用户加载页面时，他只需将参数传递给预编译的查询，并且查询不会再次解析。

我的目标只是加快运营速度。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-30T09:12:12.880

你听错了。

1.  预编译查询没有太多用处，因为这样的编译已经非常快了。
2.  无论如何，您的注册页面都没有办法做到这一点。

> 我的目标只是加快运营速度。

这个目标值得特别注意。
请不要凭空制定目标。例如，仅当这些操作确实需要任何改进时才尝试加快操作。否则，您要么只是浪费时间，要么使事情变得更糟。

# javascript - javascript普通变量和带美元符号的变量的区别

> ID：15716800
> 
> 赞同：0
> 
> 时间：2013-03-30T09:03:59.287
> 
> 标签：javascript

关于带有美元符号的 javascript 变量的问题已被多次回答。

简而言之，美元符号在 javascript 变量中充当标识符。

但是，我想知道普通变量和带有美元符号的变量之间是否存在更多差异？

在幕后，它们会有不同的内存定位机制吗？或其他一些。

感谢您的回复。:)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-30T09:08:16.367

美元符号在 JS 中没有特定含义。通常它用于将 jQuery 对象与其他变量区分开来，但这只是一种做法，而不是规则。

JS 解释器在“普通”变量和美元变量之间没有任何区别；没有不同的内存位置或其他任何东西，它们只是公共变量。

# jquery - Dynamically created element doesn't respond to "parent" click event

> ID：15716804
> 
> 赞同：0
> 
> 时间：2013-03-30T09:04:47.223
> 
> 标签：jquery, jquery-select2

First and foremost, I know I should use the following code to attach to volatile elements

```
$("#volatiles_container").on("click", ".volatile", function() { ... }); 
```

I know that.

But it doesn't work, see this demo, the existing works, the created doesn't, why?

[http://jsfiddle.net/LUsMb/607/](http://jsfiddle.net/LUsMb/607/)

see `test1` class and its' event function.

(it's not my page, I found a jsfiddle select2 example on google and added my problem to it)

sorry for the slightly overcomplicated example, just look for `test1`, it's in the html once and twice in the javascript.

**enter 'khglkgliy' in the search**

**EDIT:** this is a simpler example - enter something that's not in the list - [http://jsfiddle.net/LUsMb/614/](http://jsfiddle.net/LUsMb/614/)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-30T09:37:46.420

Check your file select2.js line 682

```
this.dropdown.bind("click mouseup mousedown", function (e) { e.stopPropagation(); }); 
```

I am thinking that the click event is stopped here.

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-30T09:33:44.793

I can't reproduce the issue in your jsFiddle (I don't see how to get the jsFiddle to actually create any new objects), but there are these possible reasons that your `.on()` event listener:

```
$("#volatiles_container").on("click", ".volatile", function() { ... }); 
```

wouldn't work for newly created elements:

1.  They aren't children of the `#volatiles_container` object.
2.  The newly created objects don't match the selector `".volatile"`.
3.  There are other objects on top of the newly created objects that are receiving the click events.
4.  Another click handler is stopping event propagation so that the event does not bubble up to the element that has the event handler on it.

Since your event handler is current applied at the top level document, I would guess that it's the 4th item. I'd suggest using an event handler that is as close to the dynamic element as possible as you can go.

# django - django get values from a related model (foreignkey)

> ID：15716805
> 
> 赞同：2
> 
> 时间：2013-03-30T09:04:50.880
> 
> 标签：django, django-views, foreign-key-relationship

In home (views.py) how to display a list of all exercises (name and repetitions) linked to the same user Card?

### models.py

```
class Card(models.Model):
    user = models.OneToOneField(User)
    trainer = models.ForeignKey(User, related_name='trainer')
    def __unicode__(self):
        return u'%s' % (self.id)

class Exercise(models.Model):
    card = models.ForeignKey(Card)
    name = models.CharField(max_length=50)
    repetitions = models.IntegerField(default=0, blank=True, null=True)

    def __unicode__(self):
        return u'%s' % (self.name) 
```

### views.py

```
from django.http import HttpResponse
from django.contrib.auth.decorators import login_required
from cards.models import Card, Exercise

@login_required
def home(request):
    user = request.user.get_full_name()      
    return HttpResponse("Welcome %s This is your home." % (user)) 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-30T09:11:29.987

I never give up and finally I fix it. I tried it and it works.

```
@login_required
def home(request):
    user = request.user.get_full_name() 

    exercises = Exercise.object.filter(card__user=request.user)

    html = []
    for k in exercises:
        html.append('<tr><td>%s - %s</td></tr>' % (k.name, k.repetitions))
    return HttpResponse('Welcome %s This is your home.<br/><table>%s</table>' % (user, '\n'.join(html))) 
```

# hadoop - hue error Could not connect to localhost:8003

> ID：15716806
> 
> 赞同：1
> 
> 时间：2013-03-30T09:05:29.447
> 
> 标签：hadoop, cloudera, hue

We had installed cloudera CDH4.2 using tarball. But when try to launch hue in browser it gives error as Could not connect to localhost:8003.

Further in log file following error appears.

Failed to determine superuser of WebHdfs at http://'localhost':50070/webhdfs/v1/: Traceback (most recent call last):

Can somebody help me .

Regards, Jayendra

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-01T06:17:59.750

First error means that Beeswax could not start properly. The cause should show up in the logs. The common solutions are sumed-up [here](https://groups.google.com/a/cloudera.org/forum/?fromgroups=#!searchin/hue-user/beeswax/hue-user/JBLcV4OqfH8/5jGYoim8T_cJ).

About WebHdfs, [this](https://ccp.cloudera.com/display/CDH4DOC/Hue+Installation#HueInstallation-WebHDFSorHttpFSConfiguration) was probably not done completely.

# razor - 如何在 MVC4 Razor 视图中通过操作链接创建菜单？

> ID：15716815
> 
> 赞同：-4
> 
> 时间：2013-03-30T09:06:46.530
> 
> 标签：razor, asp.net-mvc-4

如何使用 ActionLikns 在 MVC4 Razor View 中创建菜单？

我是 MVC 的初学者，所以请给我任何例子？

提前致谢

安库尔·特里帕蒂

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-30T09:26:39.473

这是一个非常基本的菜单的示例：

```
<ul>
    <li>@Html.ActionLink("Home", "Index", "Home")</li>
    <li>@Html.ActionLink("About us", "About", "Company")</li>
    ...
</ul> 
```

然后您可能希望将一些不同的 CSS 类应用于*活动*菜单链接。然后，您可以编写一个自定义 HTML 帮助程序：

```
public static class MenuExtensions
{
    public static MvcHtmlString MenuItem(this HtmlHelper htmlHelper, string text, string action, string controller)
    {
        var li = new TagBuilder("li");
        var routeData = htmlHelper.ViewContext.RouteData;
        var currentAction = routeData.GetRequiredString("action");
        var currentController = routeData.GetRequiredString("controller");
        if (string.Equals(currentAction, action, StringComparison.OrdinalIgnoreCase) &&
            string.Equals(currentController, controller, StringComparison.OrdinalIgnoreCase))
        {
            li.AddCssClass("active");
        }
        li.InnerHtml = htmlHelper.ActionLink(text, action, controller).ToHtmlString();
        return MvcHtmlString.Create(li.ToString());
    }
} 
```

可以这样使用：

```
<ul>
    @Html.MenuItem("Home", "Index", "Home")
    @Html.MenuItem("About us", "About", "Company")
    ...
</ul> 
```

# php - 用复选框删除用户

> ID：15716821
> 
> 赞同：0
> 
> 时间：2013-03-30T09:07:40.750
> 
> 标签：php, mysql

我正在创建一个管理面板....管理员的特权之一是他可以删除注册用户...这是我用于显示存储在数据库中的用户的代码：

```
<h2>Select users to remove</h2>
<form method="post" action="user_deleted.php">

<?php 
$qry_cam=mysql_query("SELECT* FROM login ORDER BY login.id",$con);

    while($row=mysql_fetch_array($qry_cam))
{

    echo"<input name='users' type='checkbox' value='".$row['id']."' /><span style='color:#000fff;'>$row[user]<br /></span>";

}

?>
<input type="submit" value="submit" /> 
```

这是页面 user_deleted.php 的代码，它将删除复选框选中的用户：

```
<?php 
$delete_id = $_POST['users'];
     $id = count($delete_id );
     if (count($id) > 0)
      {
         while ($delete_id)
         {
            $sql = "DELETE FROM login WHERE id='$delete_id'";
            $delete = mysql_query($sql);
            $delete_id--;
            mysql_query("alter table login auto_increment = 1;");
        }
    }
    if($delete)
    {
        echo "Records deleted Successfully.";
    }

 ?> 
```

现在我面临的问题是，当我按照 user1 user2 user3 等顺序从上到下选择用户时，它工作正常......但是当我随机选择时，即 user3 user1 user2 user5 user8 等，然后单击提交按钮...它会删除数据库中的所有用户..即使我只选择了 user3，它也会再次删除所有其他用户...我正在尝试但我不知道是什么问题...需要你的帮助家伙..谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-30T09:14:27.287

您必须`users[]`在`name`属性中使用复选框输入。

```
<input name='users[]' type='checkbox' value='<?= $row['id']; ?>' /> 
```

然后，在您的 PHP 中：

```
$delete_id = implode(", ", $_POST['users'] ); // if the id is numerical.
$sql = "DELETE FROM `tableName` WHERE `id` IN( $delete_id )"; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-30T09:11:50.290

您可以使用输入数组。基本上你必须像这样命名你的复选框：

```
echo"<input name='users[]' type='checkbox' value='".$row['id']."' /><span style='color:#000fff;'>$row[user]<br /></span>"; 
```

如您所见，名称属性具有数组形式。这样您就可以将`$_POST['users']`其视为一个数组（而不是单个字符串）。

尝试查看 PHP 文档：[http ://www.php.net/manual/en/faq.html.php#faq.html.arrays](http://www.php.net/manual/en/faq.html.php#faq.html.arrays)

关于`mysql_`函数： [**请不要`mysql_*`在新代码中使用函数**](https://stackoverflow.com/q/12859942/)。它们不再被维护[并被正式弃用](https://wiki.php.net/rfc/mysql_deprecation)。改为了解[*准备好的语句*](https://en.wikipedia.org/wiki/Prepared_statement)，并使用[PDO](http://php.net/pdo)或[MySQLi](http://php.net/mysqli) -[本文](https://php.net/manual/en/mysqlinfo.api.choosing.php)将帮助您决定使用哪个。如果您选择 PDO，[这里有一个很好的教程](http://wiki.hashphp.org/PDO_Tutorial_for_MySQL_Developers)。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-30T09:33:22.687

```
try this code. 
<?php
echo"<input name='users[]' type='checkbox' value='".$row['id']."' /><span style='color:#000fff;'>$row[user]<br /></span>";
if(isset($_GET['delete']))
{
    @$deleteCb = $_REQUEST['user'];
    for($i=0;$i<count($deleteCb);$i++)
    {
        @$news_id = $deleteCb[$i];
        @$q = "delete from subscribe where id= ".$news_id;
        @$yes=mysql_query($q);
    }
    if($yes)
    {
        ?>
        <script type="text/javascript">
        window.location='subscriber.php';
        </script>
        <?php
    }
}
?> 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-30T09:37:29.480

```
<h2>Select users to remove</h2>
<form method="post" action="user_deleted.php">
<input name="users" value="1" type="checkbox" />
<input name="users" value="2" type="checkbox" />
<input name="users" value="3" type="checkbox" />
<input type="submit" value="submit" />
</form>

<?php

if (isset($_POST['users'])) {
    $delete_id = $_POST['users'];
    echo print_r($delete_id, true);
}

?> 
```

在此代码中 $_POST['users'] 只会返回**一个**值，该值将是最后一个复选框的值。（如果用户选择复选框 1 和复选框 3，$_POST 将返回值为 3 的复选框）。

尽管

```
<h2>Select users to remove</h2>
<form method="post" action="user_deleted.php">
<input name="users[]" value="1" type="checkbox" />
<input name="users[]" value="2" type="checkbox" />
<input name="users[]" value="3" type="checkbox" />
<input type="submit" value="submit" />
</form> 
```

将使 $_POST['users'] 返回一个选中的复选框数组。

您可以使用以下内容替换您的 PHP 代码：

```
if (isset($_POST['users'])) {
    $delete_id = implode(", ", $_POST['users'] ); 
    $query = "DELETE FROM `login` WHERE `id` IN( $delete_id )";
    mysql_query($query);
} 
```

如果选中复选框 1 和 2，则会返回一个类似 [0] => 1 [1] => 2 的数组。

（错误处理、验证输入等不包含在此编码中，如前所述，应使用 PDO 或 mysqli 代替 mysql-functions）。

# javascript - 使用 JavaScript 使用透明图像创建可展开的叠加层

> ID：15716822
> 
> 赞同：2
> 
> 时间：2013-03-30T09:07:43.973
> 
> 标签：javascript, jquery, css

我的页面上有不同的位置提供横幅广告。这些广告在运行时从第三方网站加载，大小各异。

我希望在这些广告中的每一个上添加一个透明图像，以便当有人点击广告时，我可以触发点击事件并进行一些处理。我的问题是：

1.  如何使用 JavaScript 创建这些可扩展的透明图像叠加
2.  如果有人点击透明图片，是否也会导致点击底层广告？

显然，我不想将图像放在顶部，然后停止点击底层实际广告

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-30T09:59:54.013

您可以在整个文档上附加一个点击监听器，每当点击发生时，您可以检查该点击是否来自广告。并做你的处理。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-30T09:12:14.800

在回答您的问题时：

首先，如果广告使用来自与页面不同域的 iframe，那么您可以做的事情就会受到更多限制。在这种情况下，您所能做的就是用您自己页面中的透明对象覆盖广告，当您这样做时，广告将不再获得点击。

如果广告不使用来自与页面不同域的 iframe，那么您可以通过以下选项来回答两个问题：

1）您可以使用 javascript 创建一个透明的 div，并将其放置在与广告相同的父级中。如果这是您真正想要做的，则可以使用 css 定位将其定位在广告的顶部。该定位的细节取决于广告本身的定位方式。或者，如果广告本身只是一个 div，您可以在广告中插入一个透明 div 并调整其大小，使其完全覆盖广告的所有区域。透明对象会收到初始点击，但随后点击会“冒泡”到作为广告的父级。

2) 点击放置在广告上方的透明物体会导致点击首先到达透明物体，而不是广告。点击会转到被点击的最顶部的对象，尽管点击会冒泡到父对象。因此，如果广告本身是父对象，那么点击也会转到广告。

如果您只想了解点击，那么您最好只为现有广告的点击添加自己的 eventListener，而不是在其上方插入另一层。您必须等到广告出现，找到正确的对象并插入您自己的 eventListener（假设广告不是使用来自不同域的 iframe 插入的）。

# java - 如何调用一个字符串出现在同一个包的另一个类中

> ID：15716823
> 
> 赞同：0
> 
> 时间：2013-03-30T09:07:44.410
> 
> 标签：java

我有一个名为 Main.java 的类。在此输出由 inputLine 显示，它是从 com 端口串行获取的字符串。我希望在同一个默认包中的其他一些类中使用这个字符串值。如何在其他类中调用此字符串？我做了一个静态并在方法之外声明它。现在我打电话给其他班级。当我尝试通过 Main.inputLine=1 在其他类中调用它时，它会说无与伦比的类型。

我还附上了错误的快照：http: [//oi45.tinypic.com/2gvo5u9.jpg](http://oi45.tinypic.com/2gvo5u9.jpg)

```
import java.io.BufferedReader;
import java.io.InputStreamReader;
import java.io.OutputStream;
import gnu.io.CommPortIdentifier;
import gnu.io.SerialPort;
import gnu.io.SerialPortEvent;
import gnu.io.SerialPortEventListener;
import java.lang.String;
import java.util.Enumeration;

public class Main implements SerialPortEventListener
{
    SerialPort serialPort;
        /** The port we're normally going to use. */
    private static final String PORT_NAMES[] = {
            "COM30", // Windows
    };
    /**
    * A BufferedReader which will be fed by a InputStreamReader
    * converting the bytes into characters
    * making the displayed results code page independent
    */
    public BufferedReader input;
    /** The output stream to the port */
    public OutputStream output;
    /** Milliseconds to block while waiting for port open */
    private static final int TIME_OUT = 2000;
    /** Default bits per second for COM port. */
    private static final int DATA_RATE = 9600;

    public void initialize() {
        CommPortIdentifier portId = null;
        Enumeration portEnum = CommPortIdentifier.getPortIdentifiers();

        //First, Find an instance of serial port as set in PORT_NAMES.
        while (portEnum.hasMoreElements()) {
            CommPortIdentifier currPortId = (CommPortIdentifier) portEnum.nextElement();
            for (String portName : PORT_NAMES) {
                if (currPortId.getName().equals(portName)) {
                    portId = currPortId;
                    break;
                }
            }
        }
        if (portId == null) {
            System.out.println("Could not find COM port.");
            return;
        }

        try {
            // open serial port, and use class name for the appName.
            serialPort = (SerialPort) portId.open(this.getClass().getName(),
                    TIME_OUT);

            // set port parameters
            serialPort.setSerialPortParams(DATA_RATE,
                    SerialPort.DATABITS_8,
                    SerialPort.STOPBITS_1,
                    SerialPort.PARITY_NONE);

            // open the streams
            input = new BufferedReader(new InputStreamReader(serialPort.getInputStream()));
            output = serialPort.getOutputStream();

            // add event listeners
            serialPort.addEventListener(this);
            serialPort.notifyOnDataAvailable(true);
        } catch (Exception e) {
            System.err.println(e.toString());
        }
    }

    /**
     * This should be called when you stop using the port.
     * This will prevent port locking on platforms like Linux.
     */
    public synchronized void close() {
        if (serialPort != null) {
            serialPort.removeEventListener();
            serialPort.close();
        }
    }

    /**
     * Handle an event on the serial port. Read the data and print it.
     */
        public static String inputLine;
    public synchronized void serialEvent(SerialPortEvent oEvent) {
        if (oEvent.getEventType() == SerialPortEvent.DATA_AVAILABLE) {
            try {
                inputLine=input.readLine();
                                System.out.println(inputLine);

            } catch (Exception e) {
                System.err.println(e.toString());
            }
        }
        // Ignore all the other eventTypes, but you should consider the other ones.
    }

    public static void main(String[] args) throws Exception {
        Main main = new Main();
        main.initialize();
        Thread t=new Thread() {
            public void run() {
                //the following line will keep this app alive for 1000 seconds,
                //waiting for events to occur and responding to them (printing incoming messages to console).
                try {Thread.sleep(1000000);} catch (InterruptedException ie) {}
            }
        };
        t.start();
        System.out.println("Started");
    }
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-30T09:14:42.880

您正在尝试比较两件事，其中一件是对象（字符串）。使用`equals(Object o)`.

（此外，原语之间的比较是使用`==`.

您正在尝试与整数值进行比较。您需要将整数值包装到一个字符串中，这样才有意义。

你要：

```
if(Main.inputLine.equals("1"))
{
    ...
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-30T09:35:46.850

如果您尝试分配`1`给`Main.inputLine`然后使用以下：

```
Main.inputLine="1" 
```

代替

```
Main.inputLine=1 
```

如果您要比较字符串以检查 1，请使用以下命令：

```
Main.inputLine.equals("1"); 
```

代替

```
Main.inputLine == "1" 
```

# html - 溢出-x 隐藏在带有 iFrames 的 Google Chrome 中不起作用

> ID：15716825
> 
> 赞同：3
> 
> 时间：2013-03-30T09:08:04.330
> 
> 标签：html, css, google-chrome, iframe

我在以下网站上为在线预订系统使用 iFrame，如下所示：

[http://www.marandy.com/one2onev2](http://www.marandy.com/one2onev2)

iFrame 应该只在 y 轴上显示滚动条。在 Firefox、IE 和 Safari 中，这按预期工作，但在 Google Chrome 中，这仍然显示两个滚动条（y 和 x）。

这是代码： -

HTML

```
 <div id="main-online-booking">

            <iframe id="main-online-frame" class="booking-dimensions" src="http://www.marandy.com/one2oneob/login-guest.php" frameborder="0"></iframe>

            <div id="main-online-user">

                <a href="#" onclick="changesrc('main-online-frame','http://www.marandy.com/one2oneob/login.php')"><img alt="One 2 One Account" id="img-onlinebooking-acc" src="images/account.png" /></a>

                <a href="#" onclick="changesrc('main-online-frame','http://www.marandy.com/one2oneob/login-guest.php')"><img alt="One 2 One Guest" id="img-onlinebooking-guest" src="images/guest.png" /></a>

            </div>

        </div> 
```

CSS

```
#main-online-booking {
    height: 488px;
    border-bottom: 6px #939393 solid;
    border-left: 6px #939393 solid;
    border-right: 6px #939393 solid;
    z-index: 4;
    background-color: #fff;
}

#main-online-frame {
    overflow-x: hidden;
    frameBorder: 0;
    height: 488px;
} 
```

该`overflow-x: hidden`属性似乎仅在 iFrame 上的 Google Chrome 中不起作用，有什么建议吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-16T03:46:15.923

我遇到了同样的问题，Chrome 没有正确应用 overflow-x:hidden，但所有其他浏览器都是。它不是 iFrame，而是 div。我为此苦苦挣扎了大约 4 周，最后发现如果我简单地将 position:relative 应用于同一个 div，它将正常工作。希望这对某人有帮助。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-30T09:12:53.593

添加您的 iframe`scrolling="no"`并增加高度`#main-online-frame`.......

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-03-30T09:17:27.347

在 iframe ( [http://www.marandy.com/one2oneob/login-guest.php](http://www.marandy.com/one2oneob/login-guest.php) ) 内的页面上，添加这个`html {overflow-x: hidden; overflow-y: auto;}`。

并检查 iframe 内页面的初始高度。确保初始高度适合 iframe 的高度。

# ruby - Chef - 在后台运行长时间运行的脚本

> ID：15716831
> 
> 赞同：1
> 
> 时间：2013-03-30T09:09:12.330
> 
> 标签：ruby, chef-infra

我想在后台运行一个简单的脚本。它需要在机器的整个生命周期内保持活跃。

```
script "my_script" do
interpreter "ruby"
cwd "/home/my_home"
user "root"
code << -EOH
  pid = fork
  if pid
     Process.detach(pid)
     system("ruby the_actual_script.rb > logfile")
  end
EOH 
```

但这似乎没有运行，它似乎已经运行并立即退出。有一个 0 大小的日志文件。我将 cwd 文件夹设置为 777 权限。

无法弄清楚问题是什么。我猜厨师在不同的外壳中执行此操作，并在退出该外壳后摆脱所有进程？

有没有更好的方法来简单地在后台运行脚本？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-01T00:59:11.477

What you describe is called a "service". You can place your script in his own file, for example using the "cookbook_file" chef resource. Then write an init script for it, for example using upstart in Ubuntu systems. Once you have an init script, you can use chef's "service" resource to make sure the service is enabled to always run, and that it is started during the first chef run that creates it. Voila!

# java - 请向我解释这段 Java 中 String 构造函数的代码片段？

> ID：15716832
> 
> 赞同：2
> 
> 时间：2013-03-30T09:09:17.557
> 
> 标签：java, string

这是 Java 中 String 对象的构造函数之一：

```
public String(String original) {
    int size = original.count;
    char[] originalValue = original.value;
    char[] v;
    if (originalValue.length > size) {
        // The array representing the String is bigger than the new
        // String itself.  Perhaps this constructor is being called
        // in order to trim the baggage, so make a copy of the array.
        int off = original.offset;
        v = Arrays.copyOfRange(originalValue, off, off+size);
    } else {
        // The array representing the String is the same
        // size as the String, so no point in making a copy.
        v = originalValue;
    }
    this.offset = 0;
    this.count = size;
    this.value = v;
} 
```

**if (originalValue.length > size)**这行代码是我关心的，我不认为这个条件对于 IF 内部正在执行的所有代码都是正确的。String 实际上是一个字符数组。**original.count**应该等于它的值的长度（它的值是一个字符数组），所以这种情况不会发生。

我可能是错的，所以我需要你的解释。谢谢你的帮助。

维哈隆。

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-03-30T09:12:49.737

> 字符串实际上是一个字符数组

不，这不对。它是一个在内部具有对字符数组的*引用的对象。*

> original.count 应该等于它的值的长度（它的值是一个字符数组）

不必要。这取决于您正在查看的 Java 的确切版本，但直到最近，几个字符串可以引用相同的`char[]`，每个字符串使用数组的不同部分。

例如，如果您有：

```
String longString = "this is a long string";
String shortString = longString.substring(0, 2); 
```

...所引用的对象`shortString`将使用与`char[]`原始字符串所引用的相同的对象，但起始偏移量为 0，计数为 2。因此，如果您随后调用：

```
String copyOfShortString = new String(shortString); 
```

这确实会进入`if`您在问题中关注的问题。

从 Java 7 更新 5 开始，Oracle JRE 已更改为`substring`始终获取副本。（这背后的利弊可能会变得相当复杂，但值得了解这两个系统。）

It looks like the version of code you're looking at is an older version where string objects could share an underlying array but view different portions.

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-03-30T09:12:45.247

您正在查看的`String`实现在创建子字符串时不会复制字符数据。相反，多个`String`对象可以引用同一个字符数组，但具有不同的`offset`and `count`（因此`length`）。

因此，该`if`条件实际上可以为真。

请注意，在最新版本的 Oracle JDK 中已删除了这种字符数组共享。

# php - 按百分比选择数组

> ID：15716835
> 
> 赞同：1
> 
> 时间：2013-03-30T09:09:48.537
> 
> 标签：php, arrays

可能很简单的快速问题，但我找不到答案：/

有什么更简单的方法来做到这一点？

```
//This is a array we set to let the server pick if the pokemon is normal or shiny or ice
$randomview = array( "Ice","Shiny","Shiny","Shiny","Shiny","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal","Normal");

// here we shuffle them up to make it fair
shuffle($randomview); 
```

如何随机生成其中一个结果，但像示例中一样保持它们的权重？

更新了答案。

```
$type1 = array_fill(1,1000,"Normal");
$type2 = array_fill(1,5,"Ice");
$type3 = array_fill(1,2,"Shiny");
$randomview97 = array_merge($type1, $type2, $type3);
// here we shuffle them up to make it fair
shuffle($randomview97); 
```

# c - Invalid reads, writes and frees

> ID：15716837
> 
> 赞同：2
> 
> 时间：2013-03-30T09:10:07.093
> 
> 标签：c, valgrind

I got a lot of write, read and free errors. I don't know where is mistake. If someone could help me out with this I'd be grateful. Here is log from valgrind:
[http://pastebin.com/TR4Ts73Y](http://pastebin.com/TR4Ts73Y)

```
void deleteElement(element* node) {
element* child;
if (node == NULL)
    return;

free(node->name);

if (node->text != NULL)
    free(node->text);

child = node->firstChild;
while(child != NULL)
{
    deleteElement(child);
    child = child->nextSibling;
}

free(node);
} 
```

If you need more functions feel free to ask for.

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-30T09:16:31.683

The error in the code in the question is here:

```
while(child != NULL)
{
    deleteElement(child); // this calls free on child
    child = child->nextSibling; // OOPS, child has been freed
} 
```

Here you destroy `child` and then immediately try to use it again. You need an extra variable.

```
while(child != NULL)
{
    element* nodeToDelete = child;
    child = child->nextSibling;
    deleteElement(nodeToDelete);
} 
```

There may be other errors in your complete program, but that's the obvious one that can be detected in the code excerpt that you posted.

# mapping - 使用 NEST（弹性搜索）创建 _analyzer 映射以使用文档字段映射

> ID：15716838
> 
> 赞同：0
> 
> 时间：2013-03-30T09:10:11.463
> 
> 标签：mapping, elasticsearch, analyzer, nest

如何使用 NEST 客户端 API 创建 _analyzer 映射以进行弹性搜索，以允许文档字段属性作为分析器，如此处的 ES 文档中所示：

[http://www.elasticsearch.org/guide/reference/mapping/analyzer-field/](http://www.elasticsearch.org/guide/reference/mapping/analyzer-field/)

提前致谢。我可能在 NEST 文档中错过了这一点。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-25T14:05:30.927

[http://nest.azurewebsites.net](http://nest.azurewebsites.net)上的映射文档有点落后。

看看这个单元测试：[https ://github.com/Mpdreamz/NEST/blob/master/src/Nest.Tests.Unit/Core/Map/FluentMappingFullExampleTests.cs](https://github.com/Mpdreamz/NEST/blob/master/src/Nest.Tests.Unit/Core/Map/FluentMappingFullExampleTests.cs)

有关映射 API 的完整示例。

# iphone - 取消选中 AutoLayout 不会正确格式化子视图

> ID：15716840
> 
> 赞同：-2
> 
> 时间：2013-03-30T09:10:33.937
> 
> 标签：iphone, ipad, xcode4.5

我有一个 iphone 应用程序，其中包含 xib 并选中了“使用 AutoLayOut”。但是在 iphone 5.0 模拟器中构建该应用程序使应用程序由于“NSLayoutConstraint”而崩溃。

由于 ios5 中不存在自动布局，因此未选中自动布局，并且应用程序在 iphone5 模拟器上运行而不会崩溃，但该视图控制器中存在的子视图格式不正确。

有没有办法做到这一点。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-30T09:47:51.077

如果您在 iso 6.0 或更高版本中创建任何 xib 意味着 xcode(4.5.x) 及更高版本，那么您将在 xib 中获得约束。喜欢 ：

![西布](../Images/117bfef2d7d3673c7757be5d42617746.png)

如果要在较低版本中运行它，请取消选中 Use AutoLayout 复选框。在 Xib 中选择 FilesOwner->ShowFileInspector ->

![未选中使用自动布局](../Images/aa822a5fadf13baa74bbe816d971d8ed.png)

如果您取消选中它，那么它将在 ios5 及其较低版本上运行。

# jquery - 下拉列表明智的xml所有属性值

> ID：15716843
> 
> 赞同：0
> 
> 时间：2013-03-30T09:10:55.363
> 
> 标签：jquery, html, xml, ajax, drop-down-menu

我有一个 xml 文件：-

```
<child_4 entity_id="4" value="Activities" parent_id="2">
    <child_10066 entity_id="10066" value="Physical1" parent_id="4">
        <child_10067 entity_id="10067" value="Cricket" parent_id="10066">
            <child_10068 entity_id="10068" value="One Day" parent_id="10067"/>
        </child_10067>
    </child_10066>
    <child_10069 entity_id="10069" value="Test2" parent_id="4"/>
    <child_10070 entity_id="10070" value="Test3" parent_id="4"/>
    <child_10071 entity_id="10071" value="Test4" parent_id="4"/>
    <child_10072 entity_id="10072" value="Test5" parent_id="4"/>
    <child_5 entity_id="5" value="Physical" parent_id="4"/>
</child_4> 
```

我想得到这样的结果：-

第一眼：-

```
Activities
Test2
Test3
Test4
Test5
Physical 
```

单击`Activities`下拉子列表后：-

```
Activities
          Physicall
Test2
Test3
Test4
Test5
Physical 
```

如果点击`Physicall`

```
Activities
          Physicall
                   Cricket
Test2
Test3
Test4
Test5
Physical 
```

像树类型的东西
看起来像下拉菜单......
谢谢......

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-30T09:39:53.080

我做了jquery版本

```
var xml = [
'<child_4 entity_id="4" value="Activities" parent_id="2">',
    '<child_10066 entity_id="10066" value="Physical1" parent_id="4">',
        '<child_10067 entity_id="10067" value="Cricket" parent_id="10066">',
            '<child_10068 entity_id="10068" value="One Day" parent_id="10067"/>',
        '</child_10067>',
    '</child_10066>',
    '<child_10069 entity_id="10069" value="Test2" parent_id="4"/>',
    '<child_10070 entity_id="10070" value="Test3" parent_id="4"/>',
    '<child_10071 entity_id="10071" value="Test4" parent_id="4"/>',
    '<child_10072 entity_id="10072" value="Test5" parent_id="4"/>',
    '<child_5 entity_id="5" value="Physical" parent_id="4"/>',
'</child_4>'
].join(''); 
```

和代码是：

```
function makeHtml( $xml , $ul ){

     $xml.each( function(){

            var $node =  $(this) ;

            var $li = $('<li></li>').html( $node.attr('value') );

            $ul.append( $li ); 

            if ( $node.children().length > 0 ) {

                 $childUl = $('<ul></ul>').hide(); 

                 $ul.append( $childUl ); 

                 // toggle hide and show
                 $li.click( function(){

                        if( $(this).next().css('display') == 'none') {
                            $(this).next().show();
                        } else {
                            $(this).next().hide();
                        }  
                 });

                 makeHtml( $node.children() , $childUl );
            }                        

    }); 
} 

makeHtml( $( xml ) , $('ul') ); 
```

并添加到 jsfiddle [http://jsfiddle.net/PLH8D/3/](http://jsfiddle.net/PLH8D/3/)

# exception - Phonegap Blackberry app not signing

> ID：15716846
> 
> 赞同：0
> 
> 时间：2013-03-30T09:11:10.080
> 
> 标签：exception, cordova, blackberry

I am building a phonegap app for blackberry. It runs fine in the emulator but when i try to sign the project using command line so that i can run it on an actual device it gives me the following exception occurs.

I googled it , it seems i have to use preverify tool and verify my jar file. But i dont have a jar file of my project, its just folders. Please help me out with this.

```
[INFO]                  Parsing command line options
[INFO]                  Parsing bbwp.properties
[INFO]                  Validating application archive
[INFO]                  Parsing config.xml
[WARNING]               Failed to find a <feature> element
[WARNING]               Failed to find the <author> element
[INFO]                  Populating application source
[INFO]                  Compiling BlackBerry WebWorks application
Exported static routine: .main(String[]) is multiply defined.
Exported static routine: .main(String[]) is multiply defined.
Exported static routine: .main(String[]) is multiply defined.
net.sf.antcontrib.AntContribVersion: Error!: Missing stack map in: <init> at lab
el: 30
[ERROR]                 RAPC exception occurred 
```

Thanx

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-02T06:24:59.417

Looks like i only found the solution. The problem was that the zip file was in C:\ drive, and windows was not allowing the SDK to access it because of UAC. Nevertheless found this silly solution after 2 days of trial and error. Silly me

# css - 无法在顶部获得背景中心，也无法全屏

> ID：15716850
> 
> 赞同：0
> 
> 时间：2013-03-30T09:11:36.937
> 
> 标签：css, video, background, fullscreen, center

我想要的是背景视频在小于比率时适合屏幕纵向（y）和横向裁剪（x）。就像现在一样，当有人在一个又长又瘦的浏览器中查看时，一半的视频在右侧被截断，而不是两边都被缩小并集中在中间。或者，我希望整个东西向各个方向伸展并适合浏览器，但我也搜索了有关该内容的每一页，但似乎没有一个命令有效......我不知道也许少有一个新命令，但我可以没找到...

我正在编辑 .less 文件以完成我需要的工作，几乎所有的 css 命令似乎都可以工作，除了我需要的那个，或者至少，在我尝试过的任何地方都没有......仍然不确定 css 之间有什么区别除了更新/更好之外，更少。这就是我所拥有的，这是迄今为止我发现的最好的。至少当它变小时它会缩小到中间：

```
// Background
#rt-top-surround {
position: relative;
video {
    position: fixed;
    width: auto;
    height: 100%;
    min-width: 100%;
    -webkit-background-size: cover;  }
    -moz-background-size: cover;       } these do nothing at all
    -o-background-size: cover;         } neither does background-size: 100%;
    background-size: cover;          }
    .backface-visibility(hidden);
} 
```

无论我做什么，我都无法阻止它保留纵横比。对全屏或背景视频居中的任何帮助都可以。在此先感谢-斯科特

（在过去的 2 天里，我只是在自学如何编写网站，所以我可能无法理解你所说的一切。请记住这一点。但是，从那时起，我确实从模板编写和重写了一个网站，我有通过 ftp 上的每个文件并阅读 css 只是为了了解我能做什么。我实际上知道相当多的数量）

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-30T09:30:45.343

你开始你的 CSS 是无效的，#rt-top-surround 没有关闭，所以下面的任何东西都被破坏了。

```
// Background
#rt-top-surround {
position: relative;
} /* <------ here! */ 
```

至于`background-size`，这仅适用于`background-image`不是视频元素。您可以简单地设置`width`为您想要的任何内容，因为`height:auto`默认情况下它是按纵横比缩放的。

[jsFiddle](http://jsfiddle.net/6g5Ah/)

**HTML**

```
<video>
    <source src="http://www.quirksmode.org/html5//videos/big_buck_bunny.mp4" type="video/mp4"></source>
</video> 
```

**CSS**

```
video {
    width:100%;
} 
```

# algorithm - 非高斯混合的 EM 算法

> ID：15716860
> 
> 赞同：0
> 
> 时间：2013-03-30T09:12:48.680
> 
> 标签：algorithm, matlab

在 Matlab 中，我一直在使用 EM_GM 函数来估计对数正态（或其他偏态）分布混合的 PDF 权重和参数。即使整体混合高度偏斜（就像它的分量 PDF 一样），EM_GM 函数也非常适合混合的正常 PDF。

尽管如此，我还是想看看将对数正态 PDF 拟合到混合物中是什么样子。如果有人能给我一些关于如何修改 EM_GM 代码以获得对数正态分量或任何非高斯分量的混合权重和参数的提示，我将不胜感激。

EM_GM 可以在这里找到：

[http://www.mathworks.com/matlabcentral/fileexchange/8636-emgm](http://www.mathworks.com/matlabcentral/fileexchange/8636-emgm)

谢谢

# c# - XML C# - 尝试从 xml 文档中获取元素列表

> ID：15716864
> 
> 赞同：0
> 
> 时间：2013-03-30T09:13:04.287
> 
> 标签：c#, asp.net, xml, linq-to-xml

我仍在学习使用 XML 和 C#。

我已经看过很多关于如何让它正常工作的地方，但我还无法解决这个问题，并且想知道是否有人能看到我哪里出错了？我正在尝试获取一个列表，其中包含两个单独场合的距离和持续时间的节点值。首先应该只是一对，它是总距离/持续时间对：/DirectionsResponse/route/leg/distance/value，然后我试图获取第二个列表，其中包含步骤版本：/DirectionsResponse/route/leg/步数/距离/值。如果我能让第二个工作，我可以弄清楚第一个。

非常感谢杰伊

```
public class MyNode
    {
        public string Distance { get; set; }
        public string Duration { get; set; }        
    }

public class Program
{
    static void Main(string[] args)
    {
        //The full URI
        //http://maps.googleapis.com/maps/api/directions/xml?`enter code here`origin=Sydney+australia&destination=Melbourne+Australia&sensor=false

        //refer: https://developers.google.com/maps/documentation/webservices/
        string originAddress = "Canberra+Australia";
        string destinationAddress = "sydney+Australia";
        StringBuilder url = new StringBuilder();
        //http://maps.googleapis.com/maps/api/directions/xml?
        //different request format to distance API
        url.Append("http://maps.googleapis.com/maps/api/directions/xml?");
        url.Append(string.Format("origin={0}&", originAddress));
        url.Append(string.Format("destination={0}", destinationAddress));
        url.Append("&sensor=false&departure_time=1343605500&mode=driving");

        WebRequest request = HttpWebRequest.Create(url.ToString());

        var response = request.GetResponse();
        var stream = response.GetResponseStream();
        XDocument xdoc = XDocument.Load(stream);

        List<MyNode> routes =
            (from route in xdoc.Descendants("steps")
             select new MyNode
             {
                 Duration = route.Element("duration").Value,
                 Distance = route.Element("distance").Value,
             }).ToList<MyNode>();

        foreach (MyNode route in routes)
        {
            Console.WriteLine("Duration = {0}", route.Duration);
            Console.WriteLine("Distance = {0}", route.Distance);
        }

        stream.Dispose();

    }
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-30T10:30:38.120

我认为您已经非常接近您想要的位置，只需进行一点调试即可使您顺利通过。

Here is a small snippet of what I threw together in LinqPad which I use to scratch together things before I commit them to code.

```
var origin = "Canberra+Australia";
var dest = "sydney+Australia";
var baseUrl = "http://maps.googleapis.com/maps/api/directions/xml?origin={0}&destination={1}&sensor=false&departure_time=1343605500&mode=driving";

var req = string.Format(baseUrl, origin, dest);
var resp = new System.Net.WebClient().DownloadString(req);
var doc = XDocument.Parse(resp);

var total = doc.Root.Element("route").Element("leg").Element("distance").Element("value").Value;
total.Dump();

var steps = (from row in doc.Root.Element("route").Element("leg").Elements("step")
             select new 
             { 
                Duration = row.Element("duration").Element("value").Value,
                Distance = row.Element("distance").Element("value").Value
             }).ToList();
steps.Dump(); 
```

The Dump method spits the result out to the LinqPad results. I had a list of 16 items in my steps results, and the total distance was a value of 286372.

Hope this helps.

# css - How to make pseudo elements work while browser is in compatibility mode?

> ID：15716866
> 
> 赞同：0
> 
> 时间：2013-03-30T09:13:26.320
> 
> 标签：css, internet-explorer, styles

```
 .divClassGreen{

       border-bottom:4px solid  white;   
       position: relative;
}
.divClassGreen:before{

       border-bottom:5px solid  white;   
       content: '';
        position: relative;
         top: -6px;
        right: -6px;
        bottom: -6px;
        left: -6px;
}  
.divClassGreen:after{

       border-bottom:5px solid  green;  
       content: '';
        position: absolute;
        top: -11px;
        right: -2px;
        bottom: -9px;
        left: -2px; 

} 
```

This is my css , but the before and after are not working when my IE 8 is in compatibility mode. Is there any solution for the same?

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-30T17:13:19.523

You can use the Modernizr JavaScript library to detect browsers that don't support `:before` and `:after` (such as early versions of IE), and then use JavaScript to emulate those selectors. To download only the part of the library that you need, you can go to [this link](http://modernizr.com/download/#-generatedcontent-teststyles) (the appropriate checkbox is already selected). Then, you can add two extra classes to your CSS that mimic the styles of `.divClassGreen:before` and `.divClassGreen:after`:

```
.divClassGreen:before, .divClassGreenBefore {
    /* blah */
}  
.divClassGreen:after, .divClassGreenAfter {
    /* more blah */
} 
```

Finally, use JavaScript to add empty `div` tags before and after `.divClassGreen` (empty because you have `content: ''`) that have the styles `.divClassGreenBefore` and `.divClassGreenAfter`:

```
//If the browser doesn't support generated content (:before and :after)
if (!Modernizr.generatedcontent) {

    var divClassGreen = document.getElementsByClassName("divClassGreen"); //returns a NodeList

    //Create the equivalents of :before and :after
    var divClassGreenBefore = document.createElement('div');
    var divClassGreenAfter = document.createElement('div');

    //Add the appropriate classes
    divClassGreenBefore.className = 'divClassGreenBefore';
    divClassGreenAfter.className = 'divClassGreenAfter';

    //Iterate through the NodeList, which adds the element before and after each .divClassGreen
    for (i = 0; i < divClassGreen.length; i++) {

        //Adds before
        divClassGreen[i].parentNode.insertBefore(divClassGreenBefore, divClassGreen[i]);

        //There's no insertAfter, so imitate it by using insertBefore on the hypothetical (next) sibling of divClassGreen
        divClassGreen[i].parentNode.insertBefore(divClassGreenAfter, divClassGreen[i].nextSibling);
    } 

} 
```

# asp.net - 记录 Web API 调用 MVC 4

> ID：15716870
> 
> 赞同：1
> 
> 时间：2013-03-30T09:14:26.093
> 
> 标签：asp.net, asp.net-mvc, caching, logging, asp.net-web-api

每次调用我的 Web API 时，我都需要登录数据库。现在，我当然不想在每次通话时都访问我的数据库。

所以假设我的缓存中有一个字典或一个哈希表对象，每 10000 条记录我都会进入数据库。

我仍然不希望每 10000 个用户都等待这个操作。而且我不能为长时间的操作启动不同的线程，因为应用程序池基本上可以随时回收。

这种情况的最佳解决方案是什么？

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-30T09:20:42.567

我认为你对持久性的看法是相当不一致的。由于应用程序池回收或服务器崩溃，您的 10000 个对象的缓存也可能随时丢失。

但是对于如何在不导致用户等待的情况下执行大型操作的原始问题：

*   限制应用程序池回收并处理潜在的数据丢失。

*   定期将缓存的消息转储到 Windows 服务以进行进一步处理。这仍然不能 100% 保证保存数据，例如服务/服务器可能会崩溃。

*   使用消息队列 ( [MSMQ](http://msdn.microsoft.com/en-us/library/ms711472.aspx) )，[可能与 WCF 一起使用](http://msdn.microsoft.com/en-us/library/ms789048.aspx)。消息队列可以持久保存到磁盘，因此可以认为这是相当可靠的。

> 消息队列 (MSMQ) 技术使在不同时间运行的应用程序能够跨异构网络和可能暂时离线的系统进行通信。应用程序将消息发送到队列并从队列中读取消息。
> 
> Message Queuing provides guaranteed message delivery, efficient routing, security, and priority-based messaging. It can be used to implement solutions to both asynchronous and synchronous scenarios requiring high performance.

Taking this a step further...

Depending on your requirements and/or environment, you could probably eliminate your cache, and write all messages immediately (and rapidly) to a message queue and not worry about performance loss *or* a large write operation.

# matlab - Mathworks say comparison of unequal vectos by kruskal wallis is possible but doesn't work

> ID：15716873
> 
> 赞同：1
> 
> 时间：2013-03-30T09:14:41.467
> 
> 标签：matlab, statistics

I observed the length of 5 types of nursing care however now have 5 groups of differing sample sizes, just because type 1 care took place more often.

So when I run `[P,ANOVATAB,STATS]=kruskalwallis([rand(10,1) rand(30,1)])`

> I get : Error using horzcat CAT arguments dimensions are not consistent.

Why do unequal sample sizes matter and what should I do instead?

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-30T10:20:27.273

According to the [`kruskalwallis` documentation](http://www.mathworks.co.uk/help/stats/kruskalwallis.html), you need to pass it two vectors of the same length: one containing all the data, and another of the same length containing the group indices of each data point. So, if you were to call the two sets of data in your example groups 1 and 2, you could do:

```
data1 = rand(10,1);
data2 = rand(30,1);
% Concatenation with a ; in between because these are **column** vectors
allData = [data1; data2]; 
groups = [ones(size(data1)); 2 * ones(size(data2))];
[P,ANOVATAB,STATS] = kruskalwallis(allData, groups); 
```

Please have a read of the documentation for [Creating and Concatenating Matrices](http://www.mathworks.co.uk/help/matlab/math/creating-and-concatenating-matrices.html) as well.

If you want to get a bit more fancy and a bit more general (e.g., in the case where you don't know how many groups you have until run time), you could use a cell array to initially store your data groups, like so:

```
% Initialise cell array with differently dimensioned data
xc{1} = rand(100, 1);
xc{2} = rand(1, 30);

% Reshape it all to column vectors and concatenate
allData = cellfun(@(x)x(:), xc, 'UniformOutput', false);
allData = vertcat(allData{:});

% Generate group indices for each set of data as column vectors and
% concatenate
groups = arrayfun(@(x, y)y * ones(numel(x{:}), 1), xc, 1:length(xc), 'UniformOutput', false);
groups = vertcat(groups{:}); 
```

As mentioned in the comments, this will also work if each of your data sets has different dimensions (i.e., in this example one is a row vector and one is a column vector).

# facebook - 脸书评论回复通知

> ID：15716877
> 
> 赞同：5
> 
> 时间：2013-03-30T09:15:19.433
> 
> 标签：facebook, notifications, comments

我一直在寻找答案，但没有任何运气。

这是我的情况：

我已经在我的网站上设置了 fb 评论框。

当有人在我的网站上发表评论时，我会在我的个人资料中收到通知，该通知会将我直接带到评论版主工具，在那里我可以看到评论并找出我网站上的哪个页面已被评论。

所有这一切似乎都正常。

不起作用的是，当我回复在我的网站上发表的评论时，发表原始评论的人没有收到我的回复通知。

这是一个不可用的功能吗？

如果可用，我在哪里可以找到实施它的信息？

如果人们没有收到我回复的通知，他们可能会认为我很粗鲁，其次它破坏了在网站上创建引人入胜的线程的整个目标。

非常感谢，几个月来我一直在努力寻找这个答案。

苏珊娜

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2017-12-03T17:16:31.183

截至 2017 年，这仍然是一个问题。似乎唯一的方法是在回复中标记一个人，让她收到通知。

# html - 基本的html css定位

> ID：15716879
> 
> 赞同：1
> 
> 时间：2013-03-30T09:15:50.350
> 
> 标签：html, css, position

我在使用一些非常基本的 html 时遇到了一些麻烦。我正在尝试将嵌入的视频居中到电视屏幕图像的中心。整个代码如下，

```
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>PLAYTHEGAME</title>
<style type="text/css">

body {
 background-color: #000;
}
#test {
width: 1200px;
position: relative;
left : 50%;
top:auto;
margin-left: -600px;
z-index:2;
}
#video{
    margin-top:-925px;
    margin-left:-13px;
}
</style>

</head> 

<body>

    <div class="test"> <div align="center"> 
        <img src="https://dl.dropbox.com/u/34669221/2323232.png" border="0" />
    </div>
</body>
<div id="video"><div align="center"> <iframe src="http://player.vimeo.com/video/62981335?title=0&amp;byline=0&amp;portrait=0&amp;color=0d0d0d&amp;autoplay=1&amp;loop=1" width="740" height="420" frameborder="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe></div> 
```

主要问题是当您放大或缩小时，视频不再以电视屏幕图像为中心。请帮我定位视频和背景图像，使其在缩放或调整窗口大小时不移动。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-30T09:37:36.653

1.  test 是一个类，所以它是 .test
2.  更喜欢 div 视频作为位置：绝对；
3.  你忘记了“test”类的结束标签

这是整个代码

```
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>PLAYTHEGAME</title>
<style type="text/css">

body {
 background-color: #000;
}
.test {
width: 1200px;
position: relative;
left : 50%;
top:auto;
margin-left: -600px;
z-index:2;
}
#video{
position:absolute;
    top:14.5%;
    left:47.5%;
}
</style>

</head> 

<body>

    <div class="test"> <div align="center"> 
        <img src="https://dl.dropbox.com/u/34669221/2323232.png" border="0" />
    </div>
</body>
<div id="video">
<iframe src="http://player.vimeo.com/video/62981335?title=0&amp;byline=0&amp;portrait=0&amp;color=0d0d0d&amp;autoplay=1&amp;loop=1" width="740" height="420" frameborder="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe>
</div>
</div> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-30T09:43:45.977

如果你想把你的元素居中，有很多方法，下面是其中一种。

```
<div class="wrapper">
  <div class="videoWrapper">
       <img src="https://dl.dropbox.com/u/34669221/2323232.png" border="0" />

  </div>
</div>

.wrapper {
  float:left;
  width:100%;
}
.videoWrapper {
  width:500px; /* set your own width */
  margin:auto;
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-30T09:25:47.763

如果您的背景图像具有固定大小，您可以绝对定位#video。

[jsFiddle](http://jsfiddle.net/jwPF9/)

```
#video {
    position:absolute;
    left:577px;
    top:166px;
} 
```

请注意，在我的小提琴中，我清理了您的 HTML，删除了多余的元素。

```
<div class="test">
    <img src="https://dl.dropbox.com/u/34669221/2323232.png" border="0" />
    <div id="video">
            <iframe src="http://player.vimeo.com/video/62981335?title=0&amp;byline=0&amp;portrait=0&amp;color=0d0d0d&amp;autoplay=1&amp;loop=1" width="740" height="420" frameborder="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe>
    </div>
</div> 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-30T09:42:42.633

使用“中心”标签将您的视频置于中心位置

您还可以通过以下脚本根据屏幕分辨率设置上边距

```
<script type="text/javascript">
    $(document).ready(function(){
    var height = (($(window).height()) / 2) - 50;
    $('.video').css('top', height ); 
    });
<scrript> 
```

# java - 时间转换问题

> ID：15716880
> 
> 赞同：1
> 
> 时间：2013-03-30T09:16:02.357
> 
> 标签：java, time, data-conversion

我已经编写代码来获取时间和时间。当我跑步时，我无法长时间获得正确的日期时间。你能帮我解决这个问题吗？

> TimeConverterUtil.java

```
 import java.text.SimpleDateFormat;
    import java.util.Date;

    public class TimeConverterUtil
    {
        public static SimpleDateFormat formatter = new SimpleDateFormat("yyyy-MM-dd HH:mm:ss");
        public static SimpleDateFormat usrFormatter = new SimpleDateFormat("dd MMM yy, HH:mm:ss:ms");

        public static String getDateTime(Long stamp)
        {
              Date date = new Date(stamp);
              return formatter.format(date);
        }
        public static Long getTimestamp(String date)
        {
            Date lFromDate1;
            try {
                lFromDate1 = usrFormatter.parse(date);
                return lFromDate1.getTime(); 
            }
            catch (Exception e)
            {
                e.printStackTrace();
                return null;
            }
        }
    } 
```

测试程序：

> TCTester.java

```
//$Id$

public class TCTester {

    /**
     * @param args
     */
    public static void main(String[] args)
    {
        Long timeInLong = TimeConverterUtil.getTimestamp("28 Mar 13, 02:14:02:000");
        System.out.println(TimeConverterUtil.getDateTime(timeInLong));

        System.out.println("\n\n\n"+TimeConverterUtil.getTimestamp("28 Mar 13, 02:14:02:000"));
    }

} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-30T09:22:02.083

问题在于输入格式字符串的毫秒部分。你有一个格式：

```
"dd MMM yy, HH:mm:ss:ms" 
```

但`ms`被解释为“分钟然后秒”，而不是“毫秒”。你要：

```
"dd MMM yy, HH:mm:ss:SSS" 
```

请注意，您的*输出*格式字符串中没有包含毫秒数，因此无论如何都会丢失部分信息。

另请注意，在秒和毫秒之间使用“：”很奇怪。使用“.”会更正常，所以输入可能是`"28 Mar 13, 02:14:02.000"`.

# jquery - jquery quiz 更改结果视图

> ID：15716882
> 
> 赞同：1
> 
> 时间：2013-03-30T09:16:16.020
> 
> 标签：jquery, view

您好，我正在尝试做一个 jQuery 测验，但是当他们回答了每个答案时，它只是说：问题 1 是假的 问题 2 是真的

有没有办法让我把它改成： 问题 1 是正确的 问题 2 是错误的

或者这是不可能的？

这是测验：http: [//jsfiddle.net/trikedgaming/AJ4mj/](http://jsfiddle.net/trickedgaming/AJ4mj/)

```
 $(function () {
/*jshint laxcomma:true */ (function ($) {

    function _range(min, max, rand) {
        var arr = (new Array(++max - min))
            .join('.').split('.')
            .map(function (v, i) {
            return min + i;
        });
        return rand ? arr.map(function (v) {
            return [Math.random(), v];
        })
            .sort().map(function (v) {
            return v[1];
        }) : arr;
    }

    $.fn.shuffle = function () {
        return this.each(function () {
            var $this = $(this),
                children = $this.children(),
                rand = _range(0, children.length - 1, true).map(function (el) {
                    return children[el];
                });
            if (children.length) $(rand).appendTo($this);
        });
    };

}(jQuery));

$('ul').shuffle();
var jQuiz = {
    answers: {
        q1: 'd',
        q2: 'c',
        q3: 'a',
        q4: 'd',
        q5: 'a'
    },
    questionLenght: 5,
    checkAnswers: function () {
        var arr = this.answers;
        var ans = this.userAnswers;
        var resultArr = []
        for (var p in ans) {
            var x = parseInt(p) + 1;
            var key = 'q' + x;
            var flag = false;
            if (ans[p] == 'q' + x + '-' + arr[key]) {
                flag = true;
            } else {
                flag = false;
            }
            resultArr.push(flag);
        }
        return resultArr;
    },
    init: function () {
        $('.btnNext').click(function () {
            if ($('input[type=radio]:checked:visible').length == 0) {

                return false;
            }
            $(this).parents('.questionContainer').fadeOut(500, function () {
                $(this).next().fadeIn(500);
            });
            var el = $('#progress');
            el.width(el.width() + 120 + 'px');
        });
        $('.btnPrev').click(function () {
            $(this).parents('.questionContainer').fadeOut(500, function () {
                $(this).prev().fadeIn(500)
            });
            var el = $('#progress');
            el.width(el.width() - 120 + 'px');
        })
        $('.btnShowResult').click(function () {
            var arr = $('input[type=radio]:checked');
            var ans = jQuiz.userAnswers = [];
            for (var i = 0, ii = arr.length; i < ii; i++) {
                ans.push(arr[i].getAttribute('id'))
            }
        })
        $('.btnShowResult').click(function () {
            $('#progress').width(300);
            $('#progressKeeper').hide();
            var results = jQuiz.checkAnswers();
            var resultSet = '';
            var trueCount = 0;
            for (var i = 0, ii = results.length; i < ii; i++) {
                if (results[i] == true) trueCount++;
                resultSet += '<div> Question ' + (i + 1) + ' is ' + results[i] + '</div>'
            }
            resultSet += '<div class="totalScore">True= Correct Answer<br />False= Wrong Answer<br /><br />Your total score is ' + trueCount * 1 + ' / 10</div>'
            $('#resultKeeper').html(resultSet).show();
        })
    }
};
jQuiz.init(); 
```

})

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-30T09:25:03.807

是的，这很容易。

我更新了您的[**JSFIDDLE**](http://jsfiddle.net/AJ4mj/1/)，进行了以下更改：

```
 if (results[i] == true) {
                        resultSet += '<div> Question ' + (i + 1) + ' is ' + ' correct ' + '</div>';
                    } else {
                        resultSet += '<div> Question ' + (i + 1) + ' is ' + ' wrong ' + '</div>';
                    } 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-30T09:26:09.037

只需`resultSet`根据`results[i]`

```
if (results[i] == true) {
    trueCount++;
    resultSet += '<div> Question ' + (i + 1) + ' is correct' + '</div>';
} else {
    resultSet += '<div> Question ' + (i + 1) + ' is wrong' + '</div>';
} 
```

更新演示：http: [//jsfiddle.net/AJ4mj/3/](http://jsfiddle.net/AJ4mj/3/)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-30T09:26:42.707

你只需要通过`if-else`块来改变它。

[演示](http://jsfiddle.net/nrjqf/1/)

```
if (results[i] == true){
    trueCount++;
    resultSet += '<div> Question ' + (i + 1) + ' is Correct</div>';
}else 
    resultSet += '<div> Question ' + (i + 1) + ' is incorrect </div>'; 
```

**附言**

只需注意，`;`在适当的地方结束语句。我没有看到你结束陈述`;`

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-03-30T09:28:16.893

您好已对您的代码进行了更改：[请参阅代码](http://jsfiddle.net/AJ4mj/2/)

将第 93 行修改为

```
 var qStatus="Wrong";
   if (results[i] == true) {trueCount++; qStatus="Correct";}
   resultSet += '<div> Question ' + (i + 1) + ' is ' + qStatus + '</div>' 
```

# php - Php Mass/group 检查值

> ID：15716890
> 
> 赞同：2
> 
> 时间：2013-03-30T09:17:25.457
> 
> 标签：php

我正在构建一个表单（有趣），显然这些会变得乏味，当我坐在这里编写验证函数时，我想知道......

比如说我有 3 个字段* *（姓名、姓氏、年龄）* *

变量是

```
$fname = $_POST['name'];
$lname = $POST['lname'];
$age = $_POST['age']; 
```

并说我想检查是否有空，id

```
if(empty($fname) || empty($lname) || empty($age)){
//do something
} 
```

有没有办法让这更易于管理？因为现在说，我有 100 个字段，而不是表单中的 3 个字段......它变得非常不守规矩

那么有没有办法可以检查 en-mass ？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-30T09:23:35.037

```
$required_fields = array("name", "address", "phone", "email");
foreach ($require_fields as $field) {
    if (!strlen($_POST[$field])) {
        echo "$field cannot be empty";
    }
} 
```

编辑：您可以通过以下方式获取 $_POST 数组

```
foreach ($_POST as $key => $name) {
            $required_fields[] = "$key=$name";
        } 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-30T09:19:08.527

`if(empty($_POST)){..}else{...}`会给你结果，取决于， **如果设置了多个值；或者根本没有设置任何值。**有点像真/假。

但是，你**不能**`value=''`为“提交按钮”本身包含一个，否则，它会一直给你一个真实的结果。因为是`$_POST`全局的，所以也会检查提交按钮的值。或者，您可以从查询中扣除一个值。或者，您可以通过以下方式调试值`var_dump($_POST)`

如果要检查“至少一个字段不为空”，那么，

```
if(count($_POST) !=0){
   echo ' at least one value is set';}
else {echo 'no value is set';} 
```

将检查是否至少提交了一项。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-30T09:19:52.590

如果您想检查所有这些，请按照以下方式进行操作。

```
if(!empty($_POST)){

   foreach($_POST as $key => $val){
      if(empty($val)){
          // An empty field exists. Your action here.
      }
   }
} 
```

尽管值得注意的是，如果您的页面上有未勾选的复选框，则空的 $_POST 条目将不会被发回，它根本不存在。

因此，您需要使用 if 语句检查复选框。

例如，复选框名称为“同意”

```
if(!isset($_POST['agree'])){
   // Checkbox not ticked.
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-30T09:24:45.897

检查每个帖子键

```
if(isset($_POST) && count($_POST)!=0){
  foreach($_POST as $key=>$val){
     如果（空（$key））{
        /* 做一点事 */
     }
  }
}

```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-03-30T09:25:30.970

顺便提一句。如果你这样做

```
$fname = $_POST['name'] 
```

并且该字段不是您将获得的形式

> 注意：未定义的索引...

更好地使用

```
$fname = !empty($_POST['name']) ? $_POST['name'] : ''; 
```

# architecture - 在同一个容器中部署不同版本的 OSGI 应用程序堆栈

> ID：15716892
> 
> 赞同：1
> 
> 时间：2013-03-30T09:17:30.617
> 
> 标签：architecture, osgi

我正在构建一个具有 REST 前端的 API，整个堆栈包含近 10 个不同的捆绑包，并且还在缓慢增长。到目前为止，这很好用。

从长远来看，我计划拥有不同版本的 API 堆栈（使用 OSGi 版本控制机制），可以通过 REST 前端以`/api/v2/path/to/resource`或类似的格式访问。

我的第一个想法就是为新版本部署整个堆栈，例如。安装我所有的捆绑包。新的 REST-bundle 将添加`/api/<version-number>`到蓝图中的 jaxrs-server 并且一切都应该正常工作，但我担心的是从长远来看将会部署大量的 bundle。我感觉到我将失去对已安装捆绑包等的总体概述。

有没有办法以某种方式分离我的堆栈？我不想为每个版本安装一个新容器。我已经查看了 Karaf 的实例，但我能否像将捆绑包安装在同一个实例中一样“附加”到 jaxrs-servers？例如。访问同一主机、端口等上的 REST 前端。

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-30T10:44:26.340

我肯定会在版本之间进行一些隔离。

诚然，OSGi 版本控制非常强大，但如果您计划部署同一个捆绑包的许多不同版本，您最好将所有接线*完全*正确，否则您将遇到非常难以调试的问题。此外，您可能会通过部署新版本来弄乱旧版本，这（我猜）正是您想要阻止的。

在 Karaf 中，实例之间的分离对您来说可能有点太重了，因为您不能轻松地在实例之间共享捆绑包。

解决此问题的 OSGi 标准称为子系统，这确实允许您做您想做的事，即拥有不同范围的子应用程序，这些应用程序将共享它们的大部分代码，例如 http 服务器。

这个标准很新，我认为没有成熟的实现，但我建议看一下[Eclipse Virgo](http://www.eclipse.org/virgo/)。Virgo 不支持子系统（还没有？），但 Virgo 有一个“计划”的概念，我认为这将服务于您的目的。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-30T16:23:24.620

I agree that isolation is important. The OSGi Framework was only ever designed to host a single "application". If you deploy multiple applications to the same framework without isolation, you will get interference between the two, such as undesired sharing of packages and services.

For example, you could thoroughly test one application and find that it works. Then you thoroughly test a second application and find that it also works. Finally you deploy both of them into an OSGi framework and find that neither works! This is not good...

The subsystems spec does provide isolation but it is complex and the implementations immature. I would suggest simply instantiating multiple OSGi frameworks. This can be done easily within a single JVM, there are no static or singletons in OSGi that would prevent it. The basic code required to instantiate an OSGi framework is around 5-10 lines.

**UPDATE**: For detailed information on how to instantiate a new OSGi Framework, see my blog post ["How to Embed OSGi"](http://njbartlett.name/2011/03/07/embedding-osgi.html)

# sorting - 是否有一种标准方法可以以“常规”方式比较 Clojure 向量

> ID：15716894
> 
> 赞同：4
> 
> 时间：2013-03-30T09:17:36.427
> 
> 标签：sorting, vector, clojure

Clojure 向量具有一个不常见的属性，即当您比较它们时，向量的长度会在任何其他属性之前被考虑。例如在 Haskell

```
Prelude> [1, 3] > [1, 2, 3]
True 
```

和红宝石

```
1.9.3p392 :003 > [1, 3] <=> [1, 2, 3]
 => 1 
```

但是在 Clojure 中：

```
user=> (compare [1, 3] [1, 2, 3])
-1 
```

现在您可以自己实现“常规”比较：

```
(defn vector-compare [[value1 & rest1] [value2 & rest2]]
  (let [result (compare value1 value2)]
    (cond 
      (not (= result 0)) result
      (nil? value1) 0 ; value2 will be nil as well 
      :else (recur rest1 rest2)))) 
```

但我希望这种比较向量的方式非常普遍，以至于有一种标准的方式来实现这一点。有没有？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-30T11:53:42.063

像这样的东西？

```
(first (filter (complement zero?) (map compare [1 3] [1 2 3]))) 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-03-30T12:38:49.450

如果它们实现了接口，该`compare`函数会比较两件事`java.lang.Comparable`。Clojure 中的 Vector 实现了这个接口，如[这个](https://github.com/clojure/clojure/blob/master/src/jvm/clojure/lang/APersistentVector.java#L397)链接所示，基本上它首先检查长度。没有核心功能可以满足您的需求，因此您必须推出自己的功能。

Other thing I would like to mention is that the haskell version is basically comparing lists (not vector) and it is not efficient to calculate list length which make sense to avoid length while comparing lists where as vector length calculation is O(1) operation and hence it make sense to check the length first.

# design-patterns - 如何将命令与适配器模式连接

> ID：15716896
> 
> 赞同：0
> 
> 时间：2013-03-30T09:17:50.490
> 
> 标签：design-patterns, architecture, command, adapter

我有一个使用**命令模式构建的软件模块。**（有时称为命令处理器）

这个处理器中的命令是通过调用外部**可执行****文件**、工具、服务等来执行的，为此我为每种被调用的工具或服务使用了**适配器。**

问题是，单一类型的命令（具有不同的内容）可以根据命令对象的内容**执行不同类型的外部可执行文件，这将****需要不同的适配器**

即，命令的**接收者/供应者**（命令执行的实现）可以根据上下文**选择不同类型的适配器。**

问题是，

**a)** 我是否需要将单个通用命令对象拆分为多个命令对象，以便它们与适配器的映射成为一对一的映射。

或者我是否需要以命令对象的接收者/供应者的形式放置一个门面，以便选择合适的适配器的功能委托给这个门面（这是命令的接收器）。

**b)**当我说我将命令对象参数映射到供应商级别的外部可执行文件的接口时，术语“适配器模式”的使用是否正确？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-31T11:24:35.290

一个。我会对创建多个`Command`班级说“不”。您将混合这两种抽象，并且可能必须编写太多`Command`类。

湾。我可能会在这部分使用`Strategy`而不是`Adapater`模式。我会创建一个新界面`ExecutionStrategy`。命令对象可以选择一个`ExecutionStrategy`. `ExecutionStrategy`可以由`Factory`. `Factory`可以是抽象 Command 类的一部分，也可以是单独的 类`ExecutionStrategyFactory`。

# matlab - Matlab: Find row indice of first occurrence for each column of matrix (without using loops)

> ID：15716898
> 
> 赞同：5
> 
> 时间：2013-03-30T09:18:06.383
> 
> 标签：matlab, matrix, find, indices, last-occurrence

For each column of a matrix A consisting of '0' and '1', I would like to find the column indices of the first occurrence of '1' if exists. For example, if A is defined as:

```
 A=[0 0 0 0;
 0 0 0 1;
 0 0 0 0;
 0 0 0 1;
 1 0 0 0;
 0 1 0 1;
 1 1 0 0] 
```

then the result would be:

```
b=[5 6 2] 
```

I'm searching for a solution without any 'for' or 'while' loops.

One solution I came up with:

```
 [b,~]=find(cumsum(cumsum(A))==1) 
```

Is there a more elegant way to do this?

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-30T12:48:35.163

@Nacer - nice answer. By default [a,m,c] = unique(J) returns the vector `m` to index the **last** occurrence of each unique value in J. Use `[~,m] = unique(J, 'first');` instead.

```
[I,J] = find(A==1);
[~,m] = unique(J, 'first');
I(m)

ans =    
     5
     6
     2 
```

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2013-03-30T14:38:36.327

This is shorter than anything posted and it's a one liner. Code:

```
[~,idx] = max(A(:,sum(A)>0)); 
```

Output:

```
idx =

     5     6     2 
```

EDIT: Just realized you can do:

```
[~,idx] = max(A(:,any(A))) 
```

# php - 在 zend 中编写更新查询

> ID：15716899
> 
> 赞同：0
> 
> 时间：2013-03-30T09:18:20.920
> 
> 标签：php, mysql, zend-framework

我想更新我的数据库，其中我必须使用当前值（要更新的列）对其进行一些减法，然后用减去的值更新
我的表是
quantityinhand

qid INT (PK)
itemId INT (FK)
数量 INT

我的查询是
“Update quantityinhand SET quantity=quantity-”.$qty.” where itemId=".$itemId;
这里 $qty 是要减去的数量，$itemId 是要更新数量的项目 ID
如何在 ZEND 框架中编写此查询

请帮助谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-30T09:38:28.517

替换`Bugs`为您的 Table 类。（未测试）

```
$table = new Bugs();
$qty = 10;
$itemId = 1;

$data = array(
    'quantity' => new Zend_Db_Expr('quantity - '.$qty),        
);

$where = $table->getAdapter()->quoteInto('itemId = ?', $itemId);

$table->update($data, $where); 
```

# c++ - 从 PointCloud 到 Mat 的转换

> ID：15716900
> 
> 赞同：2
> 
> 时间：2013-03-30T09:18:31.650
> 
> 标签：c++, opencv, image-processing, computer-vision, point-cloud-library

假设我初始化了一个点云。我想将其 RGB 通道存储在 opencv 的 Mat 数据类型中。我怎样才能做到这一点？

```
pcl::PointCloud<pcl::PointXYZRGBA>::Ptr cloud (new pcl::PointCloud<pcl::PointXYZRGBA>);   //Create a new cloud
pcl::io::loadPCDFile<pcl::PointXYZRGBA> ("cloud.pcd", *cloud); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-07-11T16:20:45.077

我是否理解正确，您只对点云的 RGB 值感兴趣，而不关心它的 XYZ 值？

然后你可以这样做：

```
pcl::PointCloud<pcl::PointXYZRGBA>::Ptr cloud (new pcl::PointCloud<pcl::PointXYZRGBA>); 
//Create a new cloud
pcl::io::loadPCDFile<pcl::PointXYZRGBA> ("cloud.pcd", *cloud);

cv::Mat result; 

if (cloud->isOrganized()) {
    result = cv::Mat(cloud->height, cloud->width, CV_8UC3);

    if (!cloud->empty()) {

        for (int h=0; h<result.rows; h++) {
            for (int w=0; w<result.cols; w++) {
                pcl::PointXYZRGBA point = cloud->at(w, h);

                Eigen::Vector3i rgb = point.getRGBVector3i();

                result.at<cv::Vec3b>(h,w)[0] = rgb[2];
                result.at<cv::Vec3b>(h,w)[1] = rgb[1];
                result.at<cv::Vec3b>(h,w)[2] = rgb[0];
            }
        }
    }
} 
```

我认为这足以表明基本思想。

但这仅适用于您的点云是有组织的：

> **有组织**的点云数据集是点云的名称，类似于有组织的图像（或矩阵）结构，其中数据分为行和列。这种点云的示例包括来自立体相机或飞行时间相机的数据。有组织的数据集的优点是通过了解相邻点（例如像素）之间的关系，最近邻操作更加高效，从而加快了计算速度并降低了 PCL 中某些算法的成本。[（资源）](http://pointclouds.org/documentation/tutorials/pcd_file_format.php)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-04-26T06:37:04.037

我有同样的问题，我成功解决了！

您应该首先转换坐标，以便您的“地平面”是 XOY 平面。核心 api 是[pcl::getTransformationFromTwoUnitVectorsAndOrigin](http://docs.pointclouds.org/1.7.2/a02405.html#ga4375e99ec2ae368eec9379f506568611)

你可以看看我的[问题：](https://stackoverflow.com/questions/29827325/how-to-project-point-cloud-onto-the-ground-plane-and-transfer-it-into-an-2d-imag)

祝你好运！

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-18T23:31:00.720

我知道如何从 Mat(3D Image) 转换为 XYZRGB。我想你可以找出另一种方法。这里 Q 是深度矩阵的视差。

```
 pcl::PointCloud<pcl::PointXYZRGB>::Ptr point_cloud_ptr (new pcl::PointCloud<pcl::PointXYZRGB>);
 double px, py, pz;
 uchar pr, pg, pb;

 for (int i = 0; i < img_rgb.rows; i++)
 {
     uchar* rgb_ptr = img_rgb.ptr<uchar>(i);
     uchar* disp_ptr = img_disparity.ptr<uchar>(i);
     double* recons_ptr = recons3D.ptr<double>(i);
     for (int j = 0; j < img_rgb.cols; j++)
     {
         //Get 3D coordinates

          uchar d = disp_ptr[j];
          if ( d == 0 ) continue; //Discard bad pixels
          double pw = -1.0 * static_cast<double>(d) * Q32 + Q33; 
          px = static_cast<double>(j) + Q03;
          py = static_cast<double>(i) + Q13;
          pz = Q23;

          // Normalize the points
          px = px/pw;
          py = py/pw;
          pz = pz/pw;

          //Get RGB info
          pb = rgb_ptr[3*j];
          pg = rgb_ptr[3*j+1];
          pr = rgb_ptr[3*j+2];

          //Insert info into point cloud structure
          pcl::PointXYZRGB point;
          point.x = px;
          point.y = py;
          point.z = pz;
          uint32_t rgb = (static_cast<uint32_t>(pr) << 16 |
          static_cast<uint32_t>(pg) << 8 | static_cast<uint32_t>(pb));
          point.rgb = *reinterpret_cast<float*>(&rgb);
          point_cloud_ptr->points.push_back (point);
    }
}

point_cloud_ptr->width = (int) point_cloud_ptr->points.size();
point_cloud_ptr->height = 1; 
```

# ios - External Accessory with wifi

> ID：15716902
> 
> 赞同：3
> 
> 时间：2013-03-30T09:18:46.667
> 
> 标签：ios, xcode, wifi, external-accessory

I want to create an app which connects to an external device via wifi signal. I am connected with the wifi to the external device when I start the app.

In my app, i call:

```
NSArray *accessories = [[EAAccessoryManager sharedAccessoryManager] connectedAccessories]; 
```

but accessories remains empty.

What am I missing here?

(I created a simple app for which I followed the description from the Developer Library, but still no EAAccessory is found.) Also, I tried EADemo but this also does not work.

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-30T09:27:23.580

Yes, like iPatel says, EAAccessory is only for devices & accessories that connect to the port of an iPad or iPod.

But since you were saying that you are already connected via WiFi to the external device, it sounds like all you need to do is figure out an interface through which you can talk to this device. Can you connect to the device through HTTP or some high level protocol, or can you use TCP or UDP to talk to it?

If you can, then that's all you need to finish getting your app connected to your external WiFi connected device.

# c++ - pthread 将对象作为参数传递给 pthread_create

> ID：15716903
> 
> 赞同：3
> 
> 时间：2013-03-30T09:18:53.813
> 
> 标签：c++, pthreads, arguments

对于给定的程序::

```
void start(void *n){
  Node *obj = (Node *)n;
  cout << obj -> val;
}

int   
main(int argc, char *argv[])
{
  int i,n;
  cin >> n;
  Node *nodeObj;
  nodeObj = new Node[n];
  pthread_t *p = new pthread_t[n];
  for(i=0;i<n;i++){
    pthread_create(&p[i],NULL,start,(void *)(nodeObj[i]));   /*ERROR HERE in arg pass*/
  }                                                                               
  return 0;   
} 
```

我收到以下错误::

> 从 'void ( *)(void* )' 到 'void* ( *)(void* )' 的无效转换</p>

我基本上想将每个 object `NodeObj[0]`, `NodeObj[1]`, `NodeObj[2]`... 发送到我创建的每个新线程。start 函数是每个线程开始的地方。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-30T09:39:56.007

这可能会做你想要的。我只是把它放在一起，所以如果有任何语法错误，我提前道歉。它解决了您的两个问题（不正确的第三个和第四个参数`pthread_create()`）以及使用 RAII 进行分配管理：

```
#include <iostream>
#include <vector>

using namespace std;

struct Node
{
    int value;
};

void *start(void* p)
{
    Node* obj = (Node*)p;
    cout << obj->value;
    return NULL;
}

int main(int argc, char *argv[])
{
    int n;
    cin >> n;
    if (n <= 0)
        return EXIT_FAILURE;

    std::vector<Node> nodes(n);
    std::vector<pthread_t> threads(n);
    for (int i=0;i<n;++i)
        pthread_create(threads.data()+i, NULL, &start, nodes.data()+i);

    std::for_each(threads.begin(), threads.end(),
                  [](pthread_t& t) { pthread_join(t, NULL); });

    return EXIT_SUCCESS;
} 
```

* * *

**C++11 线程：他们的晚餐吃什么**

我建议使用 C++11 线程类和对象（线程、互斥体、条件变量等）而不是使用 raw-pthreads。他们真的是蜜蜂的膝盖。类似的东西（尽管带有自动计算的 N）如下所示：

```
#include <iostream>
#include <vector>
#include <thread>
#include <memory>
using namespace std;

struct Node
{
    int value;
    Node() : value() {}

    // member function we're using as thread proc
    void thread_proc(int n)
    {
        value = n;
    }
};

int main(int argc, char *argv[])
{
    // allocate nodes
    vector<Node> nodes(std::max(std::thread::hardware_concurrency()+1, 4U));

    // starts threads
    vector<thread> threads;
    for (int i=0; i<nodes.size(); ++i)
        threads.emplace_back(std::bind(&Node::thread_proc, nodes.data()+i, i+1));

    // wait for all threads to complete.
    for(auto &t : threads)
        t.join();

    // proof we really did hit *our* nodes in the threads.
    for (auto& node : nodes)
        cout << "Node value: " << node.value << endl;

    return EXIT_SUCCESS;
} 
```

**输出**

```
Node value: 1
Node value: 2
Node value: 3
Node value: 4
Node value: 5 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-30T09:26:02.797

编译器抱怨参数 3，start_routine。启动例程（pthread_create 的第三个参数）以这种方式指定：`void *(*start_routine)(void *)`一个指向方法的指针，该方法将一个 void 指针 (void *) 作为参数并返回一个 void 指针 (void *)。

您的代码将 start 作为第三个参数传递。

```
void start(void *n){
    ...
} 
```

与函数被声明为第三个参数的内容不匹配。

将您的开始更改为：

```
void *start(void *n) {
  return NULL;
} 
```

将使错误消失。从该方法返回的值充当线程的退出代码，除非您正在调用`pthread_exit`.

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-03-30T09:40:44.857

pthread_create()的[linux 手册页](http://man7.org/linux/man-pages/man3/pthread_create.3.html)包含一个很好的示例。

thread_start 函数签名是

```
void * thread_start(void *arg) 
```

In the main function you can see how to pass arguments (**&tinfo[tnum]**).

```
pthread_create(&tinfo[tnum].thread_id, &attr, &thread_start, &tinfo[tnum]); 
```

Note that each thread recieves a distinct set of arguments.

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-03-31T04:58:15.560

The return type of the thread function must be void *;

```
void* start(void *n)
{
//Code
} 
```

Secondly, you must send the argument to the function this way:

```
pthread_create(&p[i],NULL,start,(void *)(&nodeObj[i])); 
```

The requirement of argument passing is that the passed object must be a pointer to something. Even though nodeObj is a pointer, when you use array notation like nodeObj[i] you dereference it. Hence use the ampersand. &nodeObj[i];

You can also simply use `(nodeObj+i);`

# lua - 对象赋值 Lua

> ID：15716914
> 
> 赞同：9
> 
> 时间：2013-03-30T09:21:24.847
> 
> 标签：lua, coronasdk

我有一个与此类似的问题：[LUA 和 Corona 错误：尝试调用方法“”（零值）-让我发疯](https://stackoverflow.com/questions/15560813/lua-and-corona-error-attempt-to-call-method-a-nil-value-driving-me-craz) 我有一个 TCell 类：

```
local TCell={};
local cell_mt = { __index=TCell };
function TCell.new(_contents_name,_x,_y)
    ...
    local ncell=
    {
        ...
    };
    function ncell:setup()
        ...
    end
    ncell:setup();
    return setmetatable(ncell,cell_mt);
end
return TCell; 
```

我有称为单元格的二维 TCell 引用数组。当我分配

```
cells[ind1][ind2]=cells[ind3][ind4] 
```

cells[ind1][ind2] 开始失去一些属性。如果我正确理解了上面的链接，那是由于丢失了元表关联。我需要再次使用 setmetatable 吗？如果分配没有在 TCell 正文中完成，我该怎么办？

更新。

```
reset_metatable=function(target)
    return setmetatable(target,cell_mt);
end;
cells[ind1][ind2]=cells[ind3][ind4];
cells[ind1][ind2]=cells[ind1][ind2]:reset_metatable(); 
```

真的没有帮助。upd2：删除所有未连接相机的代码。Camera 和 TCell 没有输入框。问题似乎出在元表中。输出给出 NOW 6 1 width i 50 之后 START NOW 6 1 width 为 nil

```
-----------------------------------------------------------------------------------------
--
-- Main Cycle
--
-----------------------------------------------------------------------------------------

local storyboard = require( "storyboard" )
local scene = storyboard.newScene()
-- include Corona's "physics" library
local physics = require "physics"
--control_circle=display.newImageRect(C.INTERFACE_DIR..C.INTERFACE_CONTROL_CIRCLE or C.EMPTY_IMAGE,C.CARS_W,C.CARS_W,true);
local events_added=false;

stage_frames=0;
physics.start(); physics.pause()
physics.setGravity( 0,0);

local PCar=require("TCar")
local PBiped=require("TBiped");
local PCell=require("TCell");

local control_circle_len;

local cells={};
local cells_w,cells_h;
local wshift,hshift=-(C.SCREEN_THEORETICAL_W-C.SCREEN_W)/2,-(C.SCREEN_THEORETICAL_H-C.SCREEN_H)/2;

--------------------------------------------

-- forward declarations and other locals

-----------------------------------------------------------------------------------------
-- BEGINNING OF YOUR IMPLEMENTATION
-- 
-- NOTE: Code outside of listener functions (below) will only be executed once,
--       unless storyboard.removeScene() is called.
-- 
-----------------------------------------------------------------------------------------
local wsells,hcells=(C.SCREEN_W-C.SCREEN_W%C.LANDSCAPE_CELL_W)/C.LANDSCAPE_CELL_W+1,(C.SCREEN_H-C.SCREEN_H%C.LANDSCAPE_CELL_H)/C.LANDSCAPE_CELL_H+1;

local dfd=false;
local function manage_cells(cmx,cmy)
    --print("#",cmx,cmy);
    if((cmx==0 and cmy==0) or dfd)
    then
        return;
    end
    local cells_shift_w,cells_shift_h=0,0;
    if(cmx>=0)
    then
        for i=cells_w,1,-1
        do
            if(cells[i][1]:out_of_borders_w()==true)
            then
                cells_shift_w=cells_shift_w+1;
            else
                break;
            end
        end
    else
        for i=1,cells_w,1
        do
            if(cells[i][1]:out_of_borders_w()==true)
            then
                cells_shift_w=cells_shift_w-1;
            else
                break;
            end
        end
    end
    if(cmy>=0)
    then
        for i=cells_h,1,-1
        do
            if(cells[1][i]:out_of_borders_h()==true)
            then
                --[[cells[1][i].contents.rotation=45;
                dfd=true;]]
                cells_shift_h=cells_shift_h+1;
            else
                break;
            end
        end
        --return;
    else
        for i=1,cells_h,1
        do
            if(cells[1][i]:out_of_borders_h()==true)
            then
                cells_shift_h=cells_shift_h-1;
            else
                break;
            end
        end
    end
    --print("~",cells_shift_w,cells_shift_h);
    local stx,finx,sty,finy=1,cells_shift_w,1,cells_shift_h;
    if(cmx<0)
    then
        stx=cells_w+cells_shift_w;
        finx=cells_w;
    end
    if(cmy<0)
    then
        sty=cells_h+cells_shift_h;
        finy=cells_h;
    end
    for i=stx,finx,1
    do
        for j=1,cells_h,1
        do
            if(cells[i][j])
            then
                cells[i][j]:destroy();
                cells[i][j]=nil;
            end
        end
    end
    for i=1,cells_w,1
    do
        for j=sty,finy,1
        do
            if(cells[i][j])
            then
                cells[i][j]:destroy();
                cells[i][j]=nil;
            end
        end
    end
    stx,finx,sty,finy=cells_w-cells_shift_w-1,1,cells_h-cells_shift_h-1,1;
    local itx,ity=-1,-1;
    if(cmx>=0)
    then
        stx=cells_shift_w+1;
        finx=cells_w;
        itx=1;
        print(stx,finx);
    end
    if(cmy>=0)
    then
        sty=cells_shift_h+1;
        finy=cells_h;
        ity=1;
    end

    for i=stx,finx,itx
    do
        for j=1,cells_h,1
        do
            if(cells_shift_w~=0)
            then

                if(j==1)
                then
                    print(i,1,"to",i-cells_shift_w,1);
                end
                cells[i-cells_shift_w][j]=cells[i][j];
                cells[i-cells_shift_w][j]=cells[i-cells_shift_w][j].reset_metatable(cells[i][j]);
                print("++",cells[i-cells_shift_w][j].contents.width);
                cells[i][j]:destroy();
                cells[i][j]=nil;
                if(j==1)
                then
                    print(i-cells_shift_w,1,"width is",cells[i-cells_shift_w][1].contents.width);
                    if(i==7)
                    then
                        cells[6][1].debug=true;
                        print("debug is set");
                    end
                end
            end
        end
    end
    for i=1,cells_w,1
    do
        for j=sty,finy,ity
        do
            if(cells_shift_h~=0)
            then
                print("?this?",i,j);
                cells[i][j-cells_shift_h]=cells[i][j];
                cells[i][j]:destroy();
                cells[i][j]=nil;
            end
        end
    end
    for i=1,cells_w,1
    do
        for j=1,cells_h,1
        do
            if(cells[i][j]==nil)
            then
                print("*new",i,j);
                cells[i][j]=PCell.new(C.LANDSCAPE_DICTIONARY(nil,1),(i-1)*C.LANDSCAPE_CELL_W+C.LANDSCAPE_CELL_W/2-wshift-camera:getX(),(j-1)*C.LANDSCAPE_CELL_H+C.LANDSCAPE_CELL_H/2-hshift-camera:getY());
            end
        end
    end

end
local function stage_main_frame()
    print("START NOW",6,1,"width is",cells[6][1].contents.width);
    local old_camera_x,old_camera_y=camera._view.x,camera._view.y;
    if(dfd==false)
    then
        --print("&");
        camera._view.x=camera._view.x-stage_frames;
    end
    local cmx,cmy=-(camera:getX()-old_camera_x),-(camera:getY()-old_camera_y);
    manage_cells(cmx,cmy);

    stage_frames=stage_frames+1;
    print("NOW",6,1,"width is",cells[6][1].contents.width);
    return function(event)
    end

end
-- Called when the scene's view does not exist:
function scene:createScene( event )
    local group = self.view
end

-- Called immediately after scene has moved onscreen:
function control_player(event)
    car1:get_touch(event);
end
function scene:enterScene( event )
    camera:newLayer("land",1);
    camera:newLayer("bipeds",1);
    camera:newLayer("cars",1);

    i=1;
    while((i-1)*C.LANDSCAPE_CELL_W-C.LANDSCAPE_CELL_W/2-wshift<=C.SCREEN_W)
    do
        j=1;
        cells[i]={};
        while((j-1)*C.LANDSCAPE_CELL_H-C.LANDSCAPE_CELL_H/2-hshift<=C.SCREEN_H)
        do
            cells[i][j]=PCell.new(C.LANDSCAPE_DICTIONARY(nil,1),(i-1)*C.LANDSCAPE_CELL_W+C.LANDSCAPE_CELL_W/2-wshift-camera:getX(),(j-1)*C.LANDSCAPE_CELL_H+C.LANDSCAPE_CELL_H/2-hshift-camera:getY());
            j=j+1;
        end
        i=i+1;
    end
    cells_w,cells_h=#cells,#cells[1];
    local group = self.view
    physics.start();
    physics.setPositionIterations( 1 )
    if(events_added==false)
    then
        events_added=true;
        Runtime:addEventListener("touch",control_player);
        Runtime:addEventListener("enterFrame",stage_main_frame);
    end
end

-- Called when scene is about to move offscreen:
function scene:exitScene( event )
    local group = self.view

    physics.stop()

end

-- If scene's view is removed, scene:destroyScene() will be called just prior to:
function scene:destroyScene( event )
    local group = self.view

    package.loaded[physics] = nil
    physics = nil
end

-----------------------------------------------------------------------------------------
-- END OF YOUR IMPLEMENTATION
-----------------------------------------------------------------------------------------

-- "createScene" event is dispatched if scene's view does not exist
scene:addEventListener( "createScene", scene )

-- "enterScene" event is dispatched whenever scene transition has finished
scene:addEventListener( "enterScene", scene )

-- "exitScene" event is dispatched whenever before next scene's transition begins
scene:addEventListener( "exitScene", scene )

-- "destroyScene" event is dispatched before view is unloaded, which can be
-- automatically unloaded in low memory situations, or explicitly via a call to
-- storyboard.purgeScene() or storyboard.removeScene().
scene:addEventListener( "destroyScene", scene )

-----------------------------------------------------------------------------------------

return scene 
```

.

```
local TCell={};
local cell_mt = { __index=TCell };
function TCell.new(_contents_name,_x,_y)
    --print(camera.x);
    if(_x==nil)
    then
        _x=0;
    end
    if(_y==nil)
    then
        _y=0;
    end
    camera:newLayer( "abacaba", 1 );
    local ncell=
    {
        contents_name=_contents_name;
        contents;
        sequence_data;
        sheet_data;

        debug=false;
        --[[main_frame;
        main_frame_handler=function(self)
            main_frame=function(event)
                if(self.contents.x+self.contents.width/2<0 or self.contents.y+self.contents.height/2<0 or self.contents.x-self.contents.width/2>C.SCREEN_W or self.contents.y-self.contents.height/2>C.SCREEN_H)
                then
                    --self:destroy();
                end
            end
            return main_frame;
        end;]]
        clear=function(self)
            if(self.debug==true)
            then
                print("CLEAR!!!!!!!!!!!!!!!!!!!!!!!!!!!!\n\n\n\n\n");
            end
            --print(self.contents);
            self.contents:removeSelf();
            camera:removeObject("land",self.contents);
        end;
        show=function(self,_contents_name,__x,__y)
            if(self.debug==true)
            then
                print("SHOW!!!!!!!!!!!!!!!!!!!!!!!!!!!!\n\n\n\n\n");
            end
            self.contents_name=_contents_name;
            if(self.contents_name~=C.EMPTY_IMAGE)
            then
                self:set_sequence_data();
            end
            if(self.contents_name~=C.EMPTY_IMAGE)
            then
                self.sheet_data=graphics.newImageSheet(self.contents_name,C.LANDSCAPE_SHEET_DATA);
                self.contents=display.newSprite(self.sheet_data,self.sequence_data);
            else
                self.contents=display.newImageRect(C.EMPTY_IMAGE,C.LANDSCAPE_CELL_W,C.LANDSCAPE_CELL_H,true);
                self.sequence_data=nil;
            end
            self.contents.x=__x;
            self.contents.y=__y;
            camera:addObject("land",self.contents);
        end;
        out_of_borders_w=function(self)
            --print(self.contents.width);
            return self.contents.x+self.contents.width/2-camera:getX()<C.LANDSCAPE_CELLS_LEFT_BORDER-C.LANDSCAPE_CELL_W or 
                self.contents.x-self.contents.width/2-camera:getX()>C.LANDSCAPE_CELLS_RIGHT_BORDER+C.LANDSCAPE_CELL_W;
        end;
        out_of_borders_h=function(self)
            return self.contents.y+self.contents.height/2-camera:getY()<C.LANDSCAPE_CELLS_UPPER_BORDER-C.LANDSCAPE_CELL_H or 
                self.contents.y-self.contents.height/2-camera:getY()>C.LANDSCAPE_CELLS_LOWER_BORDER+C.LANDSCAPE_CELL_H;
        end;
        reset_metatable=function(target)
            return setmetatable(target,cell_mt);
        end;
        set_sequence_data=function(self)
            local px=math.floor(((_x)%C.LANDSCAPE_SHEET_DATA.sheetContentWidth)/C.LANDSCAPE_SHEET_DATA.width)+1;
            local py=math.floor(((_y)%C.LANDSCAPE_SHEET_DATA.sheetContentHeight)/C.LANDSCAPE_SHEET_DATA.height)+1;
            self.sequence_data=
            {
                { name = "only", start=C.LANDSCAPE_SHEET_DATA.sheetContentWidth/C.LANDSCAPE_SHEET_DATA.width*(py-1)+px, count=1 }
            };
        end;

        destroy=function(self)
            --Runtime:removeEventListener("enterFrame",self.main_frame);
            --Runtime:removeEventListener("enterFrame",self.main_frame_handler);

            self:clear();
            if(index~=nil)
            then
                --destroy_cell(index);
            end
        end
    };
    function ncell:setup()
        self:show(self.contents_name,_x,_y);
    end
    ncell:setup();
    return setmetatable(ncell,cell_mt);
end
return TCell; 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-29T15:40:17.757

我相信你可能会误解 Lua 中的变量赋值。所有变量实际上都是对象的引用/指针。当你写：

```
cells[ind1][ind2]=cells[ind3][ind4] 
```

您正在丢弃（删除对）单元格[ind1][ind2] 指向的对象的引用，并创建了对单元格[ind3][ind4] 指向的对象的第二个引用。

如果你在赋值之前在单元格[ind1][ind2] 中放置一些东西（比如你认为正在消失的属性），那么在赋值之后它就不会在那里，因为该变量现在指向不同的对象。

# php - while 循环在从表中选择多个列时不起作用

> ID：15716916
> 
> 赞同：1
> 
> 时间：2013-03-30T09:21:31.183
> 
> 标签：php, mysql, select, while-loop

我有一张有 5 列的表格，例如`TABLE(a,b,c,d,e)`.

现在我想从中选择所有列。`TABLE`但是一旦while循环开始，脚本就不起作用了。我的PHP代码是：

```
include_once $_SERVER['DOCUMENT_ROOT'].'/include/db.inc.php' ;
$sql="select * from TABLE";
$result = mysqli_query($link,$sql );
if (!$result)
{
include_once "wall.html.php";
echo'<tr><td align="center"> OOOOPPPPPSSS!!!SORRY,UNABLE TO DISPLAY LATEST 25 TOPICS</td></tr>';
exit();
}
while ($row = mysqli_fetch_array($result))
{
$as[]=$row['a'];
$bs[]=$row['b'];
$cs[]=$row['c'];
$ds[]=$row['d'];
$es[]=$row['e'];
}
foreach($as as $x)
{
  $name=$x;
}....................and so on 
```

我已经以多种方式进行了检查和调试。我注意到**脚本在 while 循环后没有执行。**

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-30T09:24:03.653

你忘了在变量之前写 $ ：

```
$as[]=$row['a'];
^------------
bs[]=$row['b'];
cs[]=$row['c'];
ds[]=$row['d'];
es[]=$row['e']; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-30T09:50:00.807

Try this and tell what print_r() function is printing so that we can identify the problem.

```
while ($row = mysqli_fetch_array($result))
{
$as[]=$row['a'];
$bs[]=$row['b'];
$cs[]=$row['c'];
$ds[]=$row['d'];
$es[]=$row['e'];
}
print_r($as);
foreach($as as $x)
{
  $name=$x;
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-30T16:20:59.137

首先从 中删除括号`$as[]`，结果`$row['a']`将不是数组。

这`foreach`就是不工作的原因，你没有得到一个数组。

如果结果`$as`为空，但您的数据库中有内容，请确保行名有效。使用`$row[0]`而不是`$row['A']`.

使用调试代码`print_r($row)`以查看结果的内容。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-30T09:30:20.690

使用[array_push()](http://php.net/manual/en/function.array-push.php)怎么样？此外，对 $as[] 和您获得的所有数组使用[print_r()](http://php.net/manual/en/function.print-r.php)并将输出粘贴到此处，以便我们更清楚地了解问题到底是什么。

# vb.net - 在 Visual Basic 中编写会计软件

> ID：15716920
> 
> 赞同：0
> 
> 时间：2013-03-30T09:21:55.130
> 
> 标签：vb.net, vba

我想在vb 6.0学习编程会计软件。我应该读哪本书以获得更好的成就，它会一步一步地教我一切。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-30T09:33:33.393

几光年以前，我自己就开始使用 Vb6。黄金时代。然而，在过去的几年里，和几乎所有其他人一样，我们已经转向 vb.net，现在转向 c#。如果您是初学者，请确保您仍然可以从 vb6 开始，它简单、易学，然后您可以继续使用最新的技术。但是，在我看来，直接从 vb.net 或 c# 开始会更好。原因是现在大多数人都在使用这些，并且可以获得很多帮助。无论您是在找工作，还是建立自己的公司，vb.net（实际上是 c#——它们非常相似）都将是更好的时间投资。

与其买书，还可以从 vb6 教程开始……绝对初学者请参阅此链接 [http://www.vb6.us/guides/visual-basic-6-beginners-guide](http://www.vb6.us/guides/visual-basic-6-beginners-guide)

Wrox 的书非常全面，而且对初学者很友好。如果您仍想走 vb6 方式，我将为您提供英国亚马逊的 vb6 链接，如果您不在英国，您可以在当地书店/亚马逊搜索

[http://www.amazon.co.uk/Beginning-Visual-Basic-beginning-guides/dp/1861001053/ref=sr_1_3?ie=UTF8&qid=1364635699&sr=8-3](http://www.amazon.co.uk/Beginning-Visual-Basic-beginning-guides/dp/1861001053/ref=sr_1_3?ie=UTF8&qid=1364635699&sr=8-3)

正如我所说，为什么要采用 vb6 方式，当您最终将使用 vb.net（或 c#）时。首先从微软这里获得免费的 vb.net 特快版[http://go.microsoft.com/?linkid=9816758](http://go.microsoft.com/?linkid=9816758) 然后这是 vb.net 一些很棒的初学者教程的链接。获取编码！！！ [http://howtostartprogramming.com/vb-net/](http://howtostartprogramming.com/vb-net/)

# xml - 替换部分 XML 文件的更快方法：XMLDocument 还是 TextStream？

> ID：15716923
> 
> 赞同：0
> 
> 时间：2013-03-30T09:22:08.570
> 
> 标签：xml, vb6, filestream

我在 VB6 中有一个应用程序可以将销售信息存储到数据库中。当用户输入数据时，我想将其存储到本地 XML 文件中，以避免由于网络故障等原因丢失数据。因此，当输入每个项目行时，该行将附加到 XML 文件中。

我正在考虑将新行数据附加到文件中，这样它就不必读取任何现有数据。但由于 XML 需要结束标记，这似乎不起作用。

所以我想我必须阅读文件，删除最后一个标签并将其余数据附加到结束标签。这会是正确的方法吗？在性能方面最好的方法是什么？使用 XMLDocument 还是 TextStream？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-02T11:17:27.113

由于这是在一个“会话”中完成的，只需将`XMLDocument`对象保留在内存中，将新节点附加到它并在每次添加一行时保存文件。
如果您需要恢复会话，只需将 XML 加载到同一个对象中，然后像以前一样继续。

这节省了完全加载、解析、每次保存或尝试的字符串解析。

# php - 如何判断php中以http或https开头的页面url？

> ID：15716925
> 
> 赞同：0
> 
> 时间：2013-03-30T09:22:25.510
> 
> 标签：php, https

如何判断php中以http或https开头的页面url？
问题是当使用https时，页面的css会丢失css
，那么在php中有什么方法可以判断？

```
if(...){
    echo 'https:';
}else{
    echo 'http:';
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-30T09:27:14.393

要从同一协议获取 css 和 javascript，您可以使用 //

```
<script src='//example.com/path/to/jsfile.js'></script>
<link href='//example.com/path/to/cssfile.css' /> 
```

如果你真的想用 php 解决它，请检查 php 中的 $_SERVER 变量， http: [//php.net/manual/en/reserved.variables.server.php](http://php.net/manual/en/reserved.variables.server.php)

```
$_SERVER['HTTPS'] 
```

应该是你要找的。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-30T09:26:53.873

您可以对 css 文件等资产使用无协议 URL：

```
<link type="stylesheet" href="//site.com/style.css"> 
```

在php中，您可以通过检查来确定`$_SERVER['HTTPS']`；

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-30T09:25:54.433

如果请求是使用 HTTPS 发送的，您将有一个额外的参数。[$_SERVER 教程](http://www.php.net/manual/en/reserved.variables.server.php)

```
if( isset($_SERVER['HTTPS'] ) ) { 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-03-30T09:26:53.330

```
$url = "https://www.test.com";
if ( strpos($url, "https") !== FALSE ) {
  echo "https:";
}    
else {
  echo "http:";
} 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-03-30T09:29:15.733

要确定页面是否安全，请执行以下操作

if( isset($_SERVER['HTTPS'] ) ) {

but you could also in your html do the following rather than map the css to page to the css in full

~/css/stylesheet.css

# java - Java while 循环等

> ID：15716926
> 
> 赞同：0
> 
> 时间：2013-03-30T09:22:28.577
> 
> 标签：java, loops, logic

我需要帮助 我是 Java 编程新手，但我不知道如何修复我的代码。

我正在尝试制作007游戏。我已经创建了`if`语句并且它没有循环。如果我在-循环`!`中的每个语句前面添加一个，它会导致一个无限循环。`do``while`

我怎样才能修复我的编程。

```
import java.util.Scanner;
import java.util.Random;

public class DoubleOSeven {

public static void main(String[] args) {

    System.out.println("Let's Play a game of 007 ");
    System.out.println("You can SHOOT, BLOCK, AND RELOAD");
    System.out.println("Both you and I start with one bullet");

    Scanner input = new Scanner(System.in);

    System.out.println("Let's Start, Enter (shoot, reload , or block) ");
    String INput = input.nextLine();

    //User and Computer ammo
    int Userammo = 1;
    int ammo = 1;

    //Creates a random number between 1 and 3
    Random rand = new Random();
    int  output = rand.nextInt(3) + 1;

    do{
    //User chooses shoot
    if(INput.equals("shoot")){
        Userammo --;
        System.out.println("You took a shot, Your ammo count is at: " + Userammo);

    //User chooses reload
    }else if (INput.equals("reload")){
        Userammo ++;
        System.out.println("You reloaded, Your ammo count is at: " + Userammo);

    //User chooses block    
    }else if(INput.equals("block")){
        System.out.println("You blocked, Your ammo count is at: " + Userammo);  

    //If random is 1 shoot
    }if(output == 1){
        ammo ++;
        System.out.println("I took a shot at you, My ammo count is at: " + ammo);

    //If random is 2 block
    }else if(output == 2){
        System.out.println("I blocked, My ammo count is at: " + ammo);

    //If random is 3 reload 
    }else if(output == 3){
        ammo ++;
        System.out.println("I reloaded, My ammo count is at: " + ammo);

    //If both User and Computer shoot
    }if(output ==  1 && INput == "shoot"){
        System.out.println("It's a tie you we both die");

    }
    }while((output == 3 && INput == "shoot") && (output == 1 && INput == "reload") && (output ==  1 && INput == "shoot"));

  }
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-30T09:26:09.093

```
while((output == 3 && INput == "shoot") && (output == 1 && INput == "reload") && (output ==  1 && INput == "shoot")); 
```

应该

```
while((output == 3 && INput.equals("shoot")) || (output == 1 && INput.equals("reload")) || (output ==  1 && INput.equals("shoot"))); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-30T09:27:45.100

根据您的情况如下

```
while((output == 3 && INput == "shoot") && (output == 1 && INput == "reload") && (output ==  1 && INput == "shoot")); 
```

只有当 3 个条件为真时，才会执行循环。

你需要对你的病情做一些改变

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-30T09:29:16.360

为此循环评估的所有 && 案例都会导致错误。

假设 T 代表所有真实案例，F 代表所有 F 案例

```
If T&&T&&T then yes we = T (the case for adding !)
If T&&F&&F then F
IF F&&T&&F then F
...
IF F&&F&&F then F 
```

因此，您需要重新评估要导致循环的条件。

我们在寻找

```
(output==3 && Input=="shoot") || (output==1 && input=="reload") || (output==1 && input=="shoot") 
```

导致下一次迭代？

这将证明，其中任何一个都是 T，我们得到 T。如果它们都是 F，那么我们得到 F。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-30T14:03:38.957

首先：为了让循环正常工作，用户的问题和计算机的随机决定必须在循环内。这样，每个循环都有一组新的变量值。

```
// Declare variables 
String INput = "";
Random rand = new Random();
int output = 0;

do{
    // Ask user
    System.out.println("Enter (shoot, reload , or block) ");
    INput = input.nextLine();

    // Computer decision
    output = rand.nextInt(3) + 1;

    ... 
```

第二：您需要明确决定何时终止循环（即游戏）。这可以通过以下方式之一完成

*   用户想要结束游戏（`quit`在用户选择中需要多一个选项）
*   计算机想要结束游戏（这需要第四个随机数，这意味着`quit`）。
*   用户/计算机弹药和用户/计算机射击组合的一些条件。也就是说，如果某个玩家被击中并且弹药为零，您可以结束游戏。

在所有这些情况下，您需要

*   在循环之前声明一个游戏结束的变量
*   决定在循环中做什么
*   如果游戏没有结束则继续循环

这是这个的片段：

```
boolean endOfGame = false;
...
do {
    ...
    if (  INput.equals("quit") 
       || (INput.equals("shoot") && ammo == 0)
       || (Userammo == 0 && output == 1) ) {
         endOfGame = true;
    } 
    ...
} while (!endOfGame); 
```

如果你把决定放在 中，你可以有同样的效果`while`，但这样游戏结束的决定就更清楚了。也可以在循环中的许多不同位置设置`endOfGame`to `true`。

**编辑：关于编码风格等的一些注释**

*   变量的名称以小写字母开头是一种常见的良好做法（例如，而不是`Userammo`use `userAmmo`）。以大写字母开头的名称表示类。
*   如果名称具有某种含义，它会使代码更易于阅读。例如，我会建议对您的一些变量进行以下更改
    *   输入 → 用户操作
    *   用户弹药 → 用户弹药
    *   输出 → 压缩动作
    *   ammo → compAmmo
*   Use final constants to give meaning to numbers or strings that appear in your code repeatedly.
*   Start the `if` statement on a new line. (else if on the same line is ok)

Using these you could have written (and some comments are not needed)

```
public class DoubleOSeven {
    public static final String S_SHOOT = "shoot";
    public static final String S_BLOCK = "block";
    public static final String S_RELOAD = "reload";
    public static final int I_SHOOT = 1;
    public static final int I_BLOCK = 2;
    public static final int I_RELOAD = 3;

    ...
    System.out.println("Enter ("+ S_SHOOT + ", " + S_RELOAD + " or " + S_BLOCK + ") ");

    ...
    } else if(userAction.equals(S_BLOCK)){
        System.out.println("You blocked, Your ammo count is at: " + userAmmo);  
    }

    if(compAction == I_SHOOT){
        compAmmo--;    // I changed ++ to -- in order to be a fair game
        System.out.println("I took a shot at you, My ammo count is at: " + compAmmo);
    } else if(compAction == I_BLOCK){
        System.out.println("I blocked, My ammo count is at: " + compAmmo);
    ... 
```

# c# - SharePoint：DateTimeControl，错误呈现控件：对象引用未设置为对象的实例

> ID：15716933
> 
> 赞同：1
> 
> 时间：2013-03-30T09:23:39.970
> 
> 标签：c#, sharepoint-2010, web-parts

我正在探索尝试创建自定义 Web 部件，但遇到此错误：

在我的源代码中，我有一个表格，其中一个单元格将包含 SharePoint:DateTimeControl。

```
<asp:Table ID="interviewerAndApplicants" Visible="False" runat="server" Width="50%">
    <asp:TableRow>
        <asp:TableCell>    
            Interview Timeslot:  <SharePoint:DateTimeControl ID="interviewSlot" runat="server" />
        </asp:TableCell>
    </asp:TableRow>
</asp:Table> 
```

奇怪的是，如果`SharePoint:DateTimeControl`不在表格单元格中，它会在设计中完美显示。但是，当它放在单元格中时，会导致错误：

> *“错误渲染控制：对象引用未设置为对象的实例”*

在设计器视图中。

我到底做错了什么/错过了什么？谢谢。

# opencv - 仅在相机捕获和进一步处理中将 roi 设置为眼睛和嘴巴

> ID：15716935
> 
> 赞同：0
> 
> 时间：2013-03-30T09:23:59.193
> 
> 标签：opencv, hough-transform, roi

我正在制作一个嗜睡检测系统。因此，我只想将相机捕捉的 ROI 设置为眼睛和嘴巴，我还想注意它们的特征。我可以手动设置 ROI，但我希望 ROI 仅自动设置为眼睛。在设置 ROI 之后，我想通过应用霍夫变换来进一步处理它。有没有办法做到这一点？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-30T17:34:16.693

在[Opencv](http://docs.opencv.org/)库中，您可以找到并使用[级联分类器](http://docs.opencv.org/modules/objdetect/doc/cascade_classification.html)来检测视频序列中的对象。它基于[类似 Haar 的](http://en.wikipedia.org/wiki/Haar-like_features)特征和[提升](http://en.wikipedia.org/wiki/AdaBoost)算法。Opencv 为您提供预先学习的级联来检测面部、眼睛、嘴巴、鼻子。所有这些级联都是在大型数据库上学习的，并且对于近正面视图条件下的人脸非常有效。

您应该使用级联来检测要分析的面部特征，然后寻找跟踪过程（例如均值命中或贝叶斯过滤），以便在视频序列期间对不同姿势具有鲁棒性。

Opencv 也实现了霍夫变换。[这里](http://docs.opencv.org/doc/tutorials/imgproc/imgtrans/hough_lines/hough_lines.html)是opencv代码。

# ios - NSSet from attributes of objects (performance)

> ID：15716948
> 
> 赞同：0
> 
> 时间：2013-03-30T09:24:46.060
> 
> 标签：ios, objective-c, performance, nsset

I am trying to create a `NSSet` of strings collected from an unknown (possibly large) number of objects' attributes.

The user of my app logs objects during the month - they have different attributes wheras i am only interested in the `NSString *category` name.

```
Object.h
NSString *category
... 
```

During a month he may log between 10 and 1000 such objects, stored in coredata. The user can define own categories - and i have to find out which categories were used during that month (to create an export file).

Currently i do the following (pseudocode)

```
NSArray *allObjects = [_dataHandler fetchAllObjectsForMonth:monthToExport];
NSMutableSet *allCategoryNamesSet = [[NSMutableSet alloc]init];
for(Object *obj in allObjects){
    [allCategoryNamesSet addObject:obj.category];
} 
```

Wheras this works, it gets really slow with a lot of objects as the fetching takes time and the iterating as well of course.

I have tried something like that as well:

```
NSArray *categories = [allObjects valueForKeyPath:@"category"];
NSSet *allCategorieNamesSet = [NSSet initWithArray:categories]; 
```

maybe i did something wrong but it didnt quite work :/

What i am interested in is, if there is a solution that could significantly speed up this process? something i might have overlooked.

Any ideas?

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-30T09:34:43.520

If you are interested only in the (distinct) value of the `category` attribute, set

```
[request setResultType:NSDictionaryResultType];
[request setPropertiesToFetch:@[@"category"]];
[request setReturnsDistinctResults:YES]; 
```

for your fetch request. The fetch request then return an array of dictionaries (instead of managed objects) containing the `category` values.

The advantage is that this "filtering" is done on the SQLite level. One disadvantage (or "caveat") is that this implies `setIncludesPendingChanges:NO`, i.e. the fetch request is done only against the saved database and does not include unsaved pending modifications.

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-30T09:28:45.013

Checkout [MagicalRecord](https://github.com/magicalpanda/MagicalRecord), which is a convenience library for working with Core Data. This should help you do a lot of these tasks.

Good luck.

# sql - JDBC中的自动编号比较

> ID：15716953
> 
> 赞同：0
> 
> 时间：2013-03-30T09:25:38.553
> 
> 标签：sql, jdbc-odbc

我在访问数据库中有一个自动编号（随机数）字段。现在我想将我从用户那里得到的输入与使用 JDBC 的自动编号字段进行比较。我应该使用哪种数据类型进行比较？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-30T09:49:57.027

Access database have `Number` date type. You should use that.

In JDBC, in `PreparedStatement` query parameter you have to use `setInt`

# php - Removal of .php for files in specific folder?

> ID：15716957
> 
> 赞同：1
> 
> 时间：2013-03-30T09:25:55.003
> 
> 标签：php, .htaccess, mod-rewrite, hosting

I have this site called precisely.me, and I have just bought a new hosting server for it.

In my .htaccess file, I want all my files within precisely.me/fpl/*.php to also be accessible via precisely.me/fpl/*. For eg -: precisely.me/fpl/epl-table.php should also be accessible via precisely.me/fpl/epl-table

Why is this not working?

```
RewriteEngine on 
RewriteCond %{REQUEST_FILENAME} !-d 
RewriteCond %{REQUEST_FILENAME}\.php -f 
RewriteRule ^(.*)$ $1.php 
```

I am using GoDaddy.com's hosting, and should admit that I have little knowledge about the .htaccess file

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-30T09:32:31.787

You may try this instead, in one .htaccess file in root directory.

```
Options +FollowSymlinks -MultiViews
RewriteEngine On
RewriteBase /
RewriteCond %{REQUEST_URI}  !\.php      [NC]
RewriteRule ^fpl/([^/]+)/? /fpl/$1.php  [L,NC] 
```

Maps silently:

`http://precisely.me/fpl/filename`

To:

`http://precisely.me/fpl/filename.php`

Where *filename* is a dynamic string.

For permanent redirection, replace [L,NC] with [R=301,L,NC].

# php - 插入带有字符和唯一编号的记录 ID

> ID：15716958
> 
> 赞同：0
> 
> 时间：2013-03-30T09:25:56.090
> 
> 标签：php, mysql

我有 2 个 mysql 数据库表

表格1

类别 [ category_id, category_parent, category_name, property_for ]

示例记录 [ 12, Hurghada, Villa, Sale ]

表 2

页面 [ page_id, category_parent, category_name, page_name]

示例记录 [ 10, 赫尔格达, 别墅, 赫尔格达待售新别墅 ]

在我的 CMS 需要将新记录插入到所选类别下的 pages 表中，所以在插入页面中我写了

```
$query_rsCategory = "SELECT * FROM categories 
    WHERE category_id ='".trim($_REQUEST['category_id'])."'"; 
```

在我的插入表格中我写了

```
<input name="page_id" type="hidden" value="<?php echo $query_rsCategory 
     ['category_parent']; echo $query_rsCategory ['category_name '];
echo $query_rsCategory ['property_for']; ?>-" > 
```

现在当我插入新记录时 page_id 将是“HurghadaVillaSale-”

但我想做的是“HVS-45”

并用于同一类别“HVS-46”下的下一个插入

然后只有每个值的第一个字符 - 唯一编号

如果有人能告诉我如何仅回显第一个字符，我将不胜感激，也使数字自动集成唯一

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-30T11:14:20.463

使用[Substr()](http://php.net/manual/en/function.substr.php)

`$query_rsCategory ['category_parent']=substr($query_rsCategory ['category_parent'],0,1);`

对另外两个做同样的过程

# ios - 在 UISplitView 中选择导航后，DetailView 消失

> ID：15716962
> 
> 赞同：5
> 
> 时间：2013-03-30T09:26:32.690
> 
> 标签：ios, xcode, ipad, uinavigationcontroller, uisplitviewcontroller

我在我的项目中面临一个小问题。我有一个简单的 iPad 应用程序，它在横向方向使用 SplitView。MasterViewController 是 tableview 而 DetailView 是 WebView 如下所示：

![在此处输入图像描述](../Images/7b294104d2da75cb81c39489d7e0f00f.png)

上图结果如下：

![在此处输入图像描述](../Images/a75a6db2512c25b7bd4a816e1ae2dbb0.png)

在那之后，我把整个东西都放在了 ECSlidingViewController 里面。点击 MasterViewController 中的“菜单”按钮将显示侧边菜单，如下所示：

![在此处输入图像描述](../Images/f0481fb1f32522a0c56ea2f21cd30baa.png)

现在我可以点击菜单中的其他选项，假设我在菜单中点击了“联系人”，相关的视图控制器将如下所示：（此视图控制器没有任何详细视图）

![在此处输入图像描述](../Images/f275b386c69d86748062b0651ba6056f.png)

**到目前为止一切都很好，正是我想要的！！！！**当我再次点击菜单按钮以显示菜单并再次选择“导航”以显示表格视图时，问题就开始了。当点击“导航”时，它会显示 MasterView 但隐藏 DetailView，如下所示：

![在此处输入图像描述](../Images/6564876848f80923d7f7aace8afd422a.png)

除此之外，点击上面 tableivew 中的任何条目都会导致程序崩溃，并在控制台中显示以下消息：

> *** -[UIStoryboardReplaceSegue perform]、/SourceCache/UIKit_Sim/UIKit-2380.17/UIStoryboardBuiltInSegues.m:63 2013-03-30 13:59:58.179 19IPadIPad[5806:c07] 中的断言失败 ***由于未捕获的异常“NSInternalInconsistencyException”而终止应用程序，原因：'找不到''的拆分视图控制器祖先，同时执行拆分视图控制器将 segue（标识符'pushLink'）替换为目标''' ***第一次抛出调用堆栈：（0x217b012 0x16bce7e 0x217ae78 0x1152665 0xa57349 0xa48b99 0xa48c14 0x6b0249 0x6b04ed 0x10ba5b3 0x213a376 0x2139e06 0x2121a82 0x2120f44 0x2120e1b 0x1d587e3 0x1d58668 0x600ffc 0x24bd dylib23e 调用）抛出异常c++5。

Can somebody look into the problem and tell where the problem could be. Thanks in advance.

## UPDATE:

After talking to the user on chat who suggested that after i tap the navigation in menu, the next thing that appears is only the masterview and splitview is actually not loaded. Looks like that is the problem but i don't know how to fix that.

## UPDATE:

**How ECSlidingView Is Integrated With The SplitView**

I am updating the question after receiving a comment asking how the ECSlidingView is connected to the project and the SplitView.

I have created a class named 'MainSplitViewController' inherited from UISplitViewController, and connected it with the splitView in my storyboard in the identity inspector. Also i have given it the Storyboard ID of "SplitTop".

Then in my InitialViewController i have called the SplitView as the topviewcontroller as follow:

```
if (UI_USER_INTERFACE_IDIOM() == UIUserInterfaceIdiomPad) {
        self.topViewController = [storyboard instantiateViewControllerWithIdentifier:@"SplitTop"];

    } 
```

The ECSlidingView menu appears when the "Menu" button is pressed on the MasterViewController as you can see in the images above. That menu button is using an IBAction to reveal the ECSlidingView:

```
- (IBAction)revealMenu:(id)sender {

    [self.slidingViewController anchorTopViewTo:ECRight];

} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-31T09:42:44.057

I have also used ECSlidingViewController in a test project i was working on. I guess i am able to understan the problem you are having.

First of all this problem does not have anything to do with SplitView or your navigation controller inside it as you can remove SplitView and it will work fine. This problem is associated completely how you are integrating SplitViewController inside the ECSlidingView library.

After going through the images you have posted above, it seems like ECSlidingViewController was added to the project before you started working on the SplitView. That means in your code, the navigation menu is still connected to your MasterViewController. It should be connected to the SplitViewController.

As your updated question suggests that you are calling your SplitView in the InitialView as follow:

```
if (UI_USER_INTERFACE_IDIOM() == UIUserInterfaceIdiomPad) {
        self.topViewController = [storyboard instantiateViewControllerWithIdentifier:@"SplitTop"];

    } 
```

But the above code is just setting it to be the TopViewController. I have checked the ECSlidingView library and you will notice that the Menu table view that gets revealed is handled by the MenuViewController. That means you have to make necessary changes inside this class.

由于 MainSplitViewController 类的 StoryBoard ID 设置为“SplitTop”，因此您可以将其添加到 MenuViewController 类的 ViewDidLoad 部分，其中定义了绘制菜单项的整个数组。

希望有帮助。

# awk - print columns with AWK

> ID：15716965
> 
> 赞同：6
> 
> 时间：2013-03-30T09:26:48.030
> 
> 标签：awk

I tried to print only odd columns but I could not!

```
awk '{for (i=1; i<=NF; i++) print $2*i-1}' file > test 
```

but it prints everything in one column!

Would you please help me?

Thank you

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-03-30T09:36:10.057

Just use `i+=2`:

```
awk '{ for (i=1;i<=NF;i+=2) print $i }' file > test 
```

For the new requirements, just make null the 'even' columns:

```
awk '{ for (i=2;i<=NF;i+=2) $i="" }1' file > test 
```

# php - 如何更改 wordpress 二十十二标头 php 管理选项以包含上传徽标部分？

> ID：15716977
> 
> 赞同：0
> 
> 时间：2013-03-30T09:28:12.167
> 
> 标签：php, wordpress, header, admin, graphical-logo

嗨有用的wordpressers

我想让 wordpress 212 主题更易于访问。我希望能够替换徽标，而不必每次都深入研究代码、CSS 或 FTP。

我知道 21 种有这个选项，因为可以使用标题图像，但这也很糟糕，因为它隐藏了 seo 标题。

基本上我想用 CSS 技巧覆盖 seo 标题上的徽标。

我想这涉及一些 php 编辑。作为一名设计师/前端开发人员，我对此并不熟悉。

感谢你的帮助

朱迪

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-30T14:16:18.467

为什么不直接使用自定义标头上传新图像？（外观 > 标题） [http://yourdomain.com/wp-admin/themes.php?page=custom-header](http://yourdomain.com/wp-admin/themes.php?page=custom-header) 如果您希望图像对 SEO 友好，您可以转到 MEDIA 并为替代文本添加标题图片。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-21T13:45:30.143

哇非常感谢在这里找到答案

[http://wordpress.org/support/topic/how-to-move-menu-below-header-image-in-twenty-twelve-theme?replies=39](http://wordpress.org/support/topic/how-to-move-menu-below-header-image-in-twenty-twelve-theme?replies=39)

# php - Accessing a JSON element inside JSON

> ID：15716978
> 
> 赞同：0
> 
> 时间：2013-03-30T09:28:16.870
> 
> 标签：php, jquery, ajax, json

I am getting data stored in MySQL database from a PHP script using jQuery ajax. I am parsing the data returned in JSON format and displaying it in a table.

The problem is one of the element is stored in json format so MySQL returns the entire data and it is displayed in the same manner.

```
$.each(data, function (key, element) {
    $('table').append('<tr><td>' + element.aid + '</td><td>' + element.userid + '</td><td>' + element.atitle + '</td><td>' + element.atype +  '</td><td>' + element.adata + '</td></tr>');  
}); 
```

element.adata is being displayed in the following manner :

```
{
    "click_title":"GO",
    "links": {
        "commonlink":"http:\/\/bookings.com",
        "alllinks": [
            [{
            "link1":"http:\/\/xyz1.com\/get\/a",
            "link2":"http:\/\/www.anotherwebsite1.com\/c\/t",
            "link3":"http:\/\/www.newsite1.com\/v\/h"
            },{
            "link1":"http:\/\/xyz2.com\/get\/a",
            "link2":"http:\/\/www.anotherwebsite2.com\/c\/t",
            "link3":"http:\/\/www.newsite2.com\/v\/h"
         }],[{
            "link1":"http:\/\/xyz3.com\/get\/a",
            "link2":"http:\/\/www.anotherwebsite3.com\/c\/t",
            "link3":"http:\/\/www.newsite3.com\/v\/h"
         }]
        ]
    }
} 
```

How do I access the links so that I can display them in a better way?

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-30T09:31:52.763

You could parse the JSON string to a javascript object using the [`$.parseJSON()`](http://api.jquery.com/jQuery.parseJSON/) function:

```
var data = $.parseJSON(element.adata); 
```

and then access individual elements. For example:

```
data.links[0][0].link1 
```

or if you don't know the number of elements in advance you could also loop through them using $.each.

# vb.net - VB 2010 SendMessage：将二进制数据发送到另一个应用程序

> ID：15716981
> 
> 赞同：3
> 
> 时间：2013-03-30T09:28:54.067
> 
> 标签：vb.net, visual-studio, bytearray, sendmessage

我正在尝试将结构化数据从我正在开发的 VB 2010 应用程序发送到现有库，该库期望将字符串转换为字节数组。我在将数据作为字节数组发送时遇到问题 - 我可以将应该转换为字节的纯字符串发送到我编写的测试程序。

这是两个应用程序。首先是监听进程：

```
Imports System.Runtime.InteropServices
Public Class frmTest

Protected Overrides Sub WndProc(ByRef m As System.Windows.Forms.Message)
    If m.Msg = frmTest.WM_COPYDATA Then
        Dim data As CopyData
        Dim message As String

        ' get the data...
        data = CType(m.GetLParam(GetType(CopyData)), CopyData)

        message = data.lpData
        ' add the message
        txtTest.Text = message

        ' let them know we processed the message...
        m.Result = New IntPtr(1)
    Else
        MyBase.WndProc(m)
    End If
End Sub

Private Function UnicodeBytesToString(ByVal bytes() As Byte) As String

    Return System.Text.Encoding.Unicode.GetString(bytes)
End Function

Private Const WM_COPYDATA As Integer = &H4A

<StructLayout(LayoutKind.Sequential)> _
Private Structure CopyData
    Public dwData As IntPtr
    Public cbData As Integer
    Public lpData As String
End Structure
End Class 
```

其次是发送数据的过程：

```
Imports System.Runtime.InteropServices
Imports System.Collections.Generic

Public Class frmMain

<StructLayout(LayoutKind.Sequential)> _
Private Structure CopyData
    Public dwData As IntPtr
    Public cbData As Integer
    Public lpData As String
End Structure

Private Declare Auto Function SendMessage Lib "user32" _
 (ByVal hWnd As IntPtr, _
  ByVal Msg As Integer, _
  ByVal wParam As IntPtr, _
  ByRef lParam As CopyData) As Boolean

Private Declare Auto Function FindWindow Lib "user32" _
 (ByVal lpClassName As String, _
  ByVal lpWindowName As String) As IntPtr

Private Const WM_COPYDATA As Integer = &H4A

Private Sub cmdSend_Click(ByVal sender As System.Object, ByVal e As System.EventArgs) Handles cmdSend.Click

    Dim ClientWindow As IntPtr
    Dim a() As System.Diagnostics.Process = System.Diagnostics.Process.GetProcesses

    For Each p In a
        Console.WriteLine(p.ProcessName)
        If p.ProcessName = "Listener" Then
            ClientWindow = p.MainWindowHandle
            Exit For
        End If
    Next

    ' make sure we found an active client window
    If Not ClientWindow.Equals(IntPtr.Zero) Then

        ' if there is text to send
        If txtText.Text.Length > 0 Then
            Dim message As String = txtText.Text
            Dim data As CopyData

            ' set up the data...
            data.lpData = message
            data.cbData = message.Length * Marshal.SystemDefaultCharSize

            ' send the data
            frmMain.SendMessage(ClientWindow, frmMain.WM_COPYDATA, Me.Handle, data)

        End If
    Else
        MsgBox("Could Not Find Active Client Window.")
    End If
End Sub

Private Function UnicodeStringToBytes(
ByVal str As String) As Byte()

    Return System.Text.Encoding.Unicode.GetBytes(str)
End Function

End Class 
```

This all works but if I change 'Public lpData As String' to 'Public lpData As Byte()' in both and then amend 'data.lpData = message' to 'data.lpData = UnicodeStringToBytes(message)' in the sender process and 'message = data.lpData' to 'message = UnicodeBytesToString(data.lpData)' in the listener process it crashes.

How can I send a string encoded as a byte array from the sender to the listener so that the listener can decode it back to a string ?

I realise it would be easier to send the string as a string but the existing library needs it as a byte array so I'm trying to get my sender working against this test listener where I can see what's happening.

Thanks in advance !

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-30T10:37:15.097

Variable-length arrays in structures are always a pain.

Declare `lpData` as `IntPtr` in both applications.

Then in the sending app:

```
' set up the data...
Dim string_bytes = UnicodeStringToBytes(message)

Dim pinned = GCHandle.Alloc(string_bytes, GCHandleType.Pinned)
Try
    data.dwData = New IntPtr(message.Length)
    data.cbData = string_bytes.Length
    data.lpData = pinned.AddrOfPinnedObject()

    ' send the data
    frmMain.SendMessage(ClientWindow, frmMain.WM_COPYDATA, Me.Handle, data)
Finally
    If pinned.IsAllocated Then pinned.Free()
End Try 
```

In the receiving app:

```
' get the data...
data = CType(m.GetLParam(GetType(CopyData)), CopyData)

Dim message(0 To data.cbData - 1) As Byte
Marshal.Copy(data.lpData, message, 0, data.cbData)

' add the message
txtTest.Text = UnicodeBytesToString(message) 
```

# jquery - 从不区分大小写的数组中提取记录

> ID：15716982
> 
> 赞同：1
> 
> 时间：2013-03-30T09:28:59.060
> 
> 标签：jquery, html

我有一个排序数组包含固定长度的数据。数组如下，

```
var samplearray = [12122013Sample1,
                   12122013sam   1.5,
                   10122013sample1

              ]; 
```

我想从这个数组中获取与“Sample1”匹配的记录。即应返回以下记录：

```
12122013Sample1
10122013sample1 
```

不区分大小写。是否可以？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-30T09:52:09.020

使用纯 javascript 并假设您的意思是数组中的数据是字符串：

```
var samplearray = ["12122013Sample1",
                   "12122013sam   1.5",
                   "10122013sample1"];

var matches = [], re = /sample1/i;
for (var i = 0; i < samplearray.length; i++) {
    if (re.test(samplearray[i])) {
        matches.push(samplearray[i]);
    }
} 
```

工作演示：http: [//jsfiddle.net/jfriend00/WvSFz/](http://jsfiddle.net/jfriend00/WvSFz/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-30T09:42:00.407

使用正则表达式测试数组中的项目并使用[$.map](http://api.jquery.com/jQuery.map/)过滤数组

```
var s = $.map(samplearray, function(v, i){
    if((/sample/i).test(v)){
        return v;
    }
}) 
```

演示：[小提琴](http://jsfiddle.net/arunpjohny/hHFCe/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-30T10:15:55.520

如果您使用 jQuery，则**grep()**是正确的函数：

```
var newArray = $.grep(samplearray, function(n, i) {
    return regex.test(n);
}); 
```

[http://jsfiddle.net/tBBFx/1/](http://jsfiddle.net/tBBFx/1/)

文档：

[http://api.jquery.com/jQuery.grep/](http://api.jquery.com/jQuery.grep/)

# php - 在使用 SimpleXML 打印 XML 内容之前替换为

> ID：15716987
> 
> 赞同：1
> 
> 时间：2013-03-30T09:29:28.340
> 
> 标签：php, xml, replace, simplexml, newline

我知道这可能是一个非常简单的问题，但我仍然没有找到解决方案......好吧，我会简短：假设有一个如此结构化的 XML 文件：

```
<root><item><text>blah blah blah&#xD;blah blah blah&#xD;blah blah blah&#xD;...</text></item></root> 
```

我的 XML 显然更复杂，但这并不重要，因为我的问题是：如何`&#xD;`用例如 html`<br>`标记替换它们？

我正在使用 SimpleXML 从 XML 读取数据并尝试使用：

```
echo str_replace("&#xD;", "<br>", $message->text); 
```

甚至：

```
echo str_replace("\n", "<br>", $message->text); 
```

但没有...

我需要为此使用 SimpleXML。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-03-30T19:24:57.237

`&#xD;` represents the ASCII "carriage return" character (ASCII code `13`, which is `D` in hexadecimal), sometimes written `"\r"`, rather than the "linefeed" character, `"\n"` (which is ASCII `10`, or `A` in hex). Note that when SimpleXML is asked for the string content of a node (with `(string)$node` or implicitly with statements like `echo $node`) it will turn this "entity" into the actual character it represents.

Depending on your platform (Windows, Linux, MacOS, etc), the standard line-ending, accessible via the built-in constant `PHP_EOL`, will be either `"\n"`, `"\r\n"`, or `"\r"`.

The safest way to replace these with HTML linebreak tags (`<br>`) is to replace *any* of these characters, since you don't know which convention the *source* of the XML data might have been using.

PHP has a built-in function which should be able to do this for you, called [`nl2br()`](http://php.net/nl2br). If you want a slightly custom version, there's a comment in the docs from "ngkongs" showing how to use `str_replace` to similar effect.

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-30T09:29:28.340

我在发布我的问题之前想出了如何解决，所以，已经写了，我会分享这个希望它迟早对其他人有用......

这可以解决问题：

```
echo str_replace(PHP_EOL, "<br>", $message->text); 
```

# phpunit - 在 MAMP 2.1.3 (Mountain Lion) 上安装 PHPUnit

> ID：15716993
> 
> 赞同：4
> 
> 时间：2013-03-30T09:30:08.817
> 
> 标签：phpunit, osx-mountain-lion, mamp

我正在努力解决这个问题。这是我尝试过的：

```
$ cd /Applications/MAMP/bin/php/php5.4.10/bin/
$ sudo ./pear channel-update pear.php.net
$ sudo ./pear upgrade pear
$ sudo /Applications/MAMP/bin/php/php5.4.10/bin/pear channel-discover pear.phpunit.de
$ sudo /Applications/MAMP/bin/php/php5.4.10/bin/pear channel-discover pear.symfony-project.com
$ sudo /Applications/MAMP/bin/php/php5.4.10/bin/pear install phpunit/PHPUnit 
```

所以它似乎工作，但phpunit实际上安装在

```
/Applications/MAMP/bin/php3/bin/ 
```

如果我试图从那里启动它，它就不起作用（没有输出，没有日志）。如果我将它移动到 php 5.4.10 文件夹，它仍然不起作用。

我已经用 MAMP 替换了 Mac OS php cli：

```
$ which php
/Applications/MAMP/bin/php/php5.4.10/bin/php 
```

正如某些网站上所建议的那样，我也尝试删除

```
/Applications/MAMP/bin/php/php5.4.10/conf/pear.conf 
```

但似乎没有任何帮助。

任何的想法 ？

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2013-04-06T10:57:53.277

我建议使用[composer](http://getcomposer.org/)。它正在成为一种标准。

首先，首先转到项目的根目录并在`composer.json`那里创建一个文件：

```
{
    "require-dev": {
        "phpunit/phpunit": "*"
    },
    "autoload": {
        "psr-0": {"": "src"}
    },
    "config": {
        "bin-dir": "bin"
    }
} 
```

您可以稍后根据需要对其进行调整。如果您想利用 composer 的自动加载器（我推荐），您可能需要配置自动加载。

接下来下载作曲家：

```
curl -sS https://getcomposer.org/installer | php 
```

上面的脚本不仅会下载它，还会验证你的环境是否适合运行 Composer 二进制文件。

如果一切顺利，请安装您的依赖项：

```
./composer.phar install --dev 
```

PHPUnit 二进制文件将安装在 bin 目录中（在 中配置`composer.json`）：

```
./bin/phpunit --version 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-10-17T08:22:01.310

我今天早上遇到了这个问题并找到了这个主题，但没有答案是有帮助的。经过几个小时的谷歌搜索，我找到了这个链接，它帮助我解决了我的问题 [http://www.startupcto.com/server-tech/macosx/installing-phpunit-on-mamp](http://www.startupcto.com/server-tech/macosx/installing-phpunit-on-mamp)

我的 MAMP php 版本是 5.5.3 首先，您可能需要更新 PEAR：

```
sudo /Applications/MAMP/bin/php/php5.5.3/bin/pear channel-update pear.php.net

sudo /Applications/MAMP/bin/php/php5.5.3/bin/pear upgrade pear 
```

之后，为 PHPUnit 添加适当的 PEAR 通道：

```
sudo /Applications/MAMP/bin/php/php5.5.3/bin/pear channel-discover pear.phpunit.de
sudo /Applications/MAMP/bin/php/php5.5.3/bin/pear channel-discover pear.symfony.com
sudo /Applications/MAMP/bin/php/php5.5.3/bin/pear channel-discover components.ez.no 
```

最后，安装 PHPUnit：

```
sudo /Applications/MAMP/bin/php/php5.5.3/bin/pear install phpunit/PHPUnit 
```

测试 phpunit 以确保它已正确安装：

```
/Applications/MAMP/bin/php/php5.5.3/bin/phpunit --version 
```

将 phpunit 链接到您的路径

```
sudo ln -s /Applications/MAMP/bin/php/php5.5.3/bin/phpunit /usr/local/bin/phpunit 
```

希望这可以帮助您和任何人在未来遇到这个问题！

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-29T03:22:05.177

[您可以从此站点](http://jeffreybarke.net/2010/08/how-to-install-phpunit-with-mamp/)尝试此解决方案 php bin 可能因安装而异。

```
/Applications/MAMP/bin/php5/bin/pear channel-discover pear.phpunit.de
/Applications/MAMP/bin/php5/bin/pear channel-discover pear.symfony-project.com
/Applications/MAMP/bin/php5/bin/pear channel-discover components.ez.no
/Applications/MAMP/bin/php5/bin/pear install phpunit/PHPUnit 
```

# java - 如何在java中访问pdf文件中的特定段落和文本

> ID：15716995
> 
> 赞同：0
> 
> 时间：2013-03-30T09:30:13.003
> 
> 标签：java

任何人都可以帮助我了解如何从 java 中的 pdf 文件中访问特定的文本或段落。

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-30T10:18:43.657

您可以使用[Apache PDFBox](http://pdfbox.apache.org/)来完成工作。一种简单的方法是将[PDF 提取为 text](http://pdfbox.apache.org/userguide/text_extraction.html)。

# string - 字符串处理算法

> ID：15716998
> 
> 赞同：0
> 
> 时间：2013-03-30T09:30:42.233
> 
> 标签：string, algorithm, search

我正在寻找一种用于字符串处理的算法，我已经搜索过但找不到满足我要求的算法。我将用一个例子来解释算法应该做什么。

有两组词集定义如下：

```
**Main_Words**: swimming, driving, playing
**Words_in_front**: I am, I enjoy, I love, I am going to go 
```

一旦找到在**Main_Words**中定义的单词，该程序将搜索大量单词，它将检查该单词前面的单词以查看它是否具有**Words_in_front**中定义的任何匹配单词。

即如果程序遇到“游泳”这个词，它必须检查“游泳”这个词前面的词是否是以下之一：我是，我喜欢，我爱，我要去。

有没有可以做到这一点的算法？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-30T09:36:33.587

**使用Main_Words**和**Words_in_front**中的键创建一个映射/字典/散列/关联数组（无论您的语言中定义什么），它们是附加到该键指向的条目的链表。每当你遇到一个匹配某个键的单词时，就去表中看看附表中是否有与你前面的单词匹配的单词。

这是基本思想，它可以针对速度和空间进行优化。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-30T10:33:12.667

您应该能够按照以下方式构建[正则表达式](http://docs.oracle.com/javase/tutorial/essential/regex/)：

```
I (am|enjoy|love|am going to go) (swimming|driving|playing) 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-30T15:27:52.473

A straightforward way to do this would be to just do a linear scan through the text, always keeping track of the last N+1 words (or characters) you see, where N is the number of words (or characters) in the longest phrase contained in your `words_in_front` collection. When you have a "main word", you can just check whether the sequence of N words/characters before it ends with any of the prefixes you have.

This would be a bit faster if you transformed your `words_in_front` set into a nicer data structure, such as a hashmap (perhaps keyed by *last* letter in the phrase..) or a prefix/suffix tree of some sort, so you wouldn't have to do an `.endsWith` over every single member of the set of prefixes each time you have a matching "main word." As was stated in another answer, there is much room for optimization and a few other possible implementations, but there's a start.