# StackOverflow 问答 12776000-12776999

# java - 如何调整 jws 小程序窗口的大小？

> ID：12776003
> 
> 赞同：1
> 
> 时间：2012-10-08T05:51:58.397
> 
> 标签：java, jframe, awt, jnlp, java-web-start

我正在使用 JWS 启动我的应用程序。我需要重置我的 JFrame 大小并且不应该调整它的大小。我试过了 `frame.setSize(new Dimension(500, 500));`，`frame.setResizable(false);`但它不起作用。我浏览了论坛并尝试了其他可用的选项。我的完整代码是

```
/**
 * 
 */
package com.bus.oprs;

import java.util.Properties;
import java.awt.Color;
import java.awt.Cursor;
import java.awt.Dimension;
import java.awt.Font;
import java.awt.GridLayout;
import java.awt.Insets;

import java.awt.event.ActionListener;
import java.awt.event.ActionEvent;
import java.awt.image.BufferedImage;

import javax.swing.JButton;
import javax.swing.JFrame;
import javax.swing.JOptionPane;
import javax.swing.JPanel;
import javax.swing.JLabel;
import javax.swing.SwingConstants;
import javax.swing.UIManager;
import javax.swing.border.EmptyBorder;
import javax.swing.plaf.basic.BasicBorders;
import javax.swing.plaf.basic.BasicBorders.ButtonBorder;

import java.io.IOException;
import java.io.InputStream;
import java.net.URISyntaxException;
import java.net.URL;
import java.net.MalformedURLException;

// classes of the web-start API, used in this example.
import javax.imageio.ImageIO;
import javax.jnlp.BasicService;
import javax.jnlp.ServiceManager;
import javax.jnlp.UnavailableServiceException;

/**
 * @author sreekanth
 * @date Aug 29, 2012 11:33:16 AM
 * @version 1.0
 */
public class ApsrtcOprsJNLP extends JFrame {

    private static final long serialVersionUID = 8221867230431906706L;
    private Color titleColor = new Color(241,248,255);
    final private JPanel panel = new JPanel();
    final Properties properties = new Properties();
    /**
     * @throws IOException, URISyntaxException 
     */
    public ApsrtcOprsJNLP() throws IOException, URISyntaxException {
    super();
    launchApplication();
    }

    private void loadProperties() {
    try {
        InputStream inputStreamUrl = this.getClass().getResourceAsStream("/AppResources.properties");
        properties.load(inputStreamUrl);
    } catch (Exception e) {
        e.printStackTrace();
    }
    }

    private void setButtonProperties(JButton button){
    try {
        Color buttonColor =  new Color(102,153,255);
        button.setBackground(buttonColor);
        button.setForeground(Color.WHITE);
        button.setCursor(Cursor.getPredefinedCursor(Cursor.HAND_CURSOR));
    } catch (Exception e) {
        e.printStackTrace();
    }
    }

    private void launchApplication() throws IOException, URISyntaxException {
    JLabel clickMessageLabel = null;
    JLabel label = null;
    Dimension dimension = null;
    try {
        final BasicService basicService = (BasicService) ServiceManager.lookup("javax.jnlp.BasicService");
        dimension = new Dimension(400, 300);
        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
        this.loadProperties();
        setTitle(properties.getProperty("app.title"));

        UIManager.put("InternalFrame.activeTitleBackground", new javax.swing.plaf.ColorUIResource(titleColor));  
        JFrame.setDefaultLookAndFeelDecorated(true); 
        panel.setBackground(titleColor);

        label = new JLabel(properties.getProperty("app.welcome.msg"));
        Font newLabelFont = new Font(label.getFont().getName(), Font.BOLD, label.getFont().getSize());

        label.setHorizontalAlignment(SwingConstants.CENTER);
        panel.add(label);
        label.setFont(newLabelFont);

        clickMessageLabel = new JLabel(properties.getProperty("app.click.link.txt"));
        clickMessageLabel.setHorizontalAlignment(SwingConstants.CENTER);
        panel.add(clickMessageLabel);
        clickMessageLabel.setFont(newLabelFont);

        String[] jButton = properties.getProperty("urls").split(",");
        String[] jLabel = properties.getProperty("urlLabels").split(",");

        for (int i = 0; i < jLabel.length; i++) {
            JLabel labels = new JLabel(jLabel[i]);
            panel.add(labels);
            JButton button = new JButton(jButton[i]);
            this.setButtonProperties(button);
            button.addActionListener(new ActionListener() {
            public void actionPerformed(ActionEvent ae) {
            try {
                URL url = new URL(ae.getActionCommand());
                basicService.showDocument(url);
                setVisible(false);
                dispose();
            } catch (MalformedURLException murle) {
                JOptionPane.showMessageDialog(panel,
                    murle.getMessage());
            }
            }
        });
            panel.add(button);
        }

        panel.setBorder(new EmptyBorder(8, 8, 8, 8));
        setSize(dimension);
        setResizable(false);
        getContentPane().add(panel);        
        pack();

        setLocationRelativeTo(null);
    } catch (UnavailableServiceException use) {
        use.printStackTrace();
        System.exit(-1);
    } finally {
        label = null;
        clickMessageLabel = null; dimension = null;
    }
    }
    /** 
     * Construct the GUI and display it.
     *  
     * @throws IOException 
     * @throws URISyntaxException
     */
    public static void main(String[] args) throws IOException, URISyntaxException {
    BufferedImage image = null;
    ApsrtcOprsJNLP app = new ApsrtcOprsJNLP();
    try {
        image = ImageIO.read(app.getClass().getResource("/logo.png"));
        app.setPreferredSize(new Dimension(image.getWidth(null), image.getHeight(null)));
    } catch (IOException e) {
        e.printStackTrace();
    }
    app.setIconImage(image);
    app.setVisible(true);
    }
} 
```

JNLP：

```
<?xml version="1.0" encoding="UTF-8" ?>
<jnlp spec="1.0+"
      href="http://localhost:9999/apsrtc-oprs-jnlp/launch-app.jnlp">
  <information>
    <title>APSRTC-OPRS</title>
    <vendor>APSRTC</vendor>
    <description kind="one-line">
      APSRTC-OPRS WEB START
    </description>
    <icon kind="shortcut" href="logo.png" width="128" height="128"/>
    <shortcut online="false">
      <desktop/>
    </shortcut>
  </information>
  <resources>
    <j2se version="1.6+" href="http://java.sun.com/products/autodl/j2se" />
    <jar href="http://localhost:9999/apsrtc-oprs-jnlp/oprs-jnlp.jar" main="true" />
    <applet-desc
       name='apsrtc-oprs-jnlp'
       main-class='com.abhibus.oprs.ApsrtcOprsJNLP'
       width="800"
       height="800">
   </applet-desc>
  </resources>
 <application-desc main-class="com.abhibus.oprs.ApsrtcOprsJNLP"/>
</jnlp> 
```

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-14T12:25:13.230

调用 pack() 会将大小更改为适合放置在该窗口中的 UI 内容所需的最小值。如果我们删除这条线，尺寸应该保持在您设置它们的位置。

```
private void launchApplication() {
    /* other code omitted */
    panel.setBorder(new EmptyBorder(8, 8, 8, 8));
    setSize(dimension);
    setResizable(false);
    getContentPane().add(panel);        
    //pack();
} 
```

# java - 字符串检查 while 循环无法正常工作

> ID：12776004
> 
> 赞同：1
> 
> 时间：2012-10-08T05:52:05.963
> 
> 标签：java, loops

```
Scanner scanner = new Scanner(system.in);
String input = new String();

while(!input.equalsIgnoreCase("stop")) {
input = scanner.nextLine();
} 
```

为什么这不起作用？循环永远持续。我以前使用过这种方法一百万次，现在它不起作用。

编辑**

好的，我正在使用 JGrasp（因为这是我的教授希望我们使用的），当我在 netbeans 中尝试它时，它运行良好......

编辑2**

首先，我不确定这是否是问题，但在我的代码中，我在主扫描仪扫描仪 = new Scanner(file); 的开头有类似的东西。后来像这个扫描仪 = new Scanner(System.in); 这就是前面的代码片段开始的地方。所以首先我改变了这一点，让 main 为我需要带有字符串检查的 while 循环的区域调用一个新方法。我还重新格式化了循环：

```
Scanner scanner = new Scanner(System.in);
    String input = new String();

    while(!input.contains("stop")) {
        System.out.print("Enter an option: ");
        input = scanner.nextLine();
    } 
```

现在它工作正常。

编辑3**

所以我尝试了新方法中的原始格式，它也可以完美运行。我现在相信这与我如何使用文件扫描仪然后使用 System.in 为新的扫描仪对象重用该引用有关。我对此不是 100% 的，但是将 while 循环移动到它自己的方法并且不将其保留在 main 中是有效的，所以我觉得它与此有关。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-08T05:56:45.380

也许您应该检查 Scanner 是否还有要解析的内容？

```
while(scanner.hasNextLine() && !input.equalsIgnoreCase("stop")) {
    input = scanner.nextLine();
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-08T06:16:54.050

代码工作正常：除了**编译**错误，即请使用`System.in`而不是`system.in`

```
Scanner scanner = new Scanner(System.in);
String input = new String();

while(!input.equalsIgnoreCase("stop")) {
    input = scanner.nextLine();
} 
```

# c - 在 C 中附加字符串

> ID：12776005
> 
> 赞同：2
> 
> 时间：2012-10-08T05:52:18.727
> 
> 标签：c, string

如何组合多个字符串。例如，

```
char item[32];
scanf("%s", item);
printf("Shopping list: %s\n", item); //I want to combine this string 
char string_2[] = "To do list: Sleep\n"; // with this string 
char hw[32];
scanf("%s", hw); 
printf("Homework: %s\n", hw); // and this string 
```

所以他们会像下面这样打印，

购物清单：（项目）

待办事项清单：睡觉

作业：（hw）

* * *

但是我不想像上面的代码那样单独给 printf 命令，而是结合字符串并在最后调用 printf /

* * *

我将如何做到这一点，因为我无法将这样的内容保存到单独的字符串中，`char string1 = ("Shopping list: %s \n", item)`

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-08T05:56:15.837

您最好使用函数*连接字符串。*[`strcat`](http://en.cppreference.com/w/c/string/byte/strcat)

但请确保您连接的目标字符串足够大以适合所有内容（包括终止`'\0'`字符）。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-08T05:59:06.470

使用`strcpy`和`strcat`

```
char item[] = "Shopping list";
char hw[] = "To do list: Sleep \n";
char* itemhw;
itemhw = malloc(strlen(item)+strlen(hw)+1);
strcpy(itemhw, item);
strcat(itemhw, hw); 
free(itemhw); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-08T05:55:32.203

您可以使用`sprintf`：

```
char combinedstring[100];
sprintf(combinedstring,"%s %s %s",item,string_2,hw); 
```

您还可以查找`string.h`标题及其功能。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-10-08T06:07:13.710

在 C 中处理原始字符串总是很丑陋。您必须执行两个步骤来连​​接字符串：

1.  为新字符串分配内存。

2.  将源字符串复制到新缓冲区中。

作为一个教训，请注意这个问题已经有三个不同的答案，*三个不同的缓冲区溢出错误。*

这是一个连接两个字符串并返回一个新字符串的函数：

```
char *astrcat(const char *x, const char *y)
{
    size_t nx = strlen(x), ny = strlen(y);
    char *z = malloc(nx + ny + 1);
    if (!z)
        return NULL;
    memcpy(z, x, nx);
    memcpy(z + nx, y, ny + 1);
    return z;
} 
```

您可以将其扩展为使用三个字符串，或者您可以调用它两次。理智的人倾向于使用库或广泛使用固定大小的缓冲区。

**替代方案：** 使用固定大小的缓冲区和`snprintf`，您可以获得安全性和易用性，但您会遇到固定大小的缓冲区。

```
const char *x = ..., *y = ...;
char buf[100];
snprintf(buf, sizeof(buf), "%s%s", x, y); 
```

如果您没有`snprintf`，那么您可能正在使用 MSVC，它`_snprintf`几乎相同，但并不总是终止输出。

**不要使用`strcat`or `strcpy`：**在极少数情况下`strcat`可以接受：

```
char buf[100];
strcpy(buf, x); // buffer overflow
strcat(buf, y); // buffer overflow 
```

**不要使用`sprintf`：**它也会溢出：

```
char buf[100];
sprintf(buf, "%s%s", x, y); // buffer overflow 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-10-08T06:11:57.507

我将要忽略多个问题（输入和输出的排序；输入的错误处理；输入缓冲区溢出；条目中的单个单词与多个单词等），但是：

```
char item[32];
scanf("%s", item);
char hw[32];
scanf("%s", hw);
char string_2[] = "To do list: Sleep\n";

printf("Shopping list: %s\n%sHomework: %s\n", item, string_2, hw); 
```

这为您提供了一个`printf()`提供串联输出的语句。显然，连接是在输出文件（标准输出）上而不是直接在内存中。如果您希望将字符串连接到内存中，那么您必须通过一些机制来确保有足够的内存可以复制到其中，但是您可以将其`snprintf()`用于该作业，而不是`printf()`：

```
char item[32];
scanf("%s", item);
char hw[32];
scanf("%s", hw);
char string_2[] = "To do list: Sleep\n";

// This length does account for two extra newlines and a trailing null
size_t totlen = strlen(item) + strlen(homework) + sizeof(string_2) +
                sizeof("Shopping list: ") + sizeof("Homework: ");
char *conc_string = malloc(totlen);

snprintf(conc_string, totlen, "Shopping list: %s\n%sHomework: %s\n",
         item, string_2, hw); 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2017-08-29T09:18:39.923

考虑使用伟大但未知的 open_memstream() 函数。

`FILE *open_memstream(char **ptr, size_t *sizeloc);`

用法示例：

```
// open the stream
FILE *stream;
char *buf;
size_t len;
stream = open_memstream(&buf, &len);

// write what you want with fprintf()
char item[32];
scanf("%s", item);
fprintf(stream, "Shopping list: %s\n", item);
char string_2[] = "To do list: Sleep\n";
fprintf(stream, "%s\n", string_2);
char hw[32];
scanf("%s", hw); 
fprintf(stream, "Homework: %s\n", hw);

// close the stream, the buffer is allocated and the size is set !
fclose(stream);
printf ("the result is '%s' (%d characters)\n", buf, len);
free(buf); 
```

让内核管理缓冲区分配，它比你做得更好！

# xml - 如何在 Joomla JForm XML 文件中添加动态下拉列表

> ID：12776006
> 
> 赞同：10
> 
> 时间：2012-10-08T05:52:29.467
> 
> 标签：xml, forms, joomla

Joomla 开发相当新。在模型文件夹中放置一个名为 Forms 的文件夹以加载必要的 JForm 数据。一切正常，但我需要从数据库中动态获取数据以填充下拉框。

```
 <field name="category"
        type="list"
        label="Item Category"
        description="Item Category"
        class="inputbox"
                >
        <option value="1">
            Data from database</option>
        <option value="2">
            Data from database</option>
        <option value="3">
            Data from database</option>
    </field> 
```

上面是一个粗略的例子。我希望值和选项名称来自数据库。我是否使用 JTable 或参数，如果是，如何使用？我非常感谢任何帮助。谢谢大家。

* * *

## 回答 #1

> 赞同：17
> 
> 时间：2012-10-08T06:15:25.097

You can use "sql" type for dynamic data-

[http://docs.joomla.org/SQL_form_field_type](http://docs.joomla.org/SQL_form_field_type)

like below example-

```
<field 
    name="link" 
    type="sql" 
    default="" 
    class="articleselectbox" 
    label="Select an article"
    query="SELECT 
    concat(#__categories.alias, '/', #__content.id,'-', #__content.alias,'.html') as value,              
    concat(#__categories.alias, '/', #__content.id,'-', #__content.alias,'.html') as title 
    FROM #__content 
    LEFT JOIN #__categories ON #__content.catid=#__categories.id 
    ORDER BY #__content.title" 
    key_field="title" 
    value_field="value" 
/> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2015-02-17T12:11:51.170

您可以通过创建自己的字段类型来做到这一点。Joomla Com_Categories 具有该字段类型 (administrator/com_categories/models/fields/categoryedit.php) 以使用 categoryedit 作为下拉 html 元素的 category.xml 中的字段类型来填充下拉列表。

`<field name="parent_id" type="categoryedit" label="COM_CATEGORIES_FIELD_PARENT_LABEL" description="COM_CATEGORIES_FIELD_PARENT_DESC"/>`

# git - 变量未按预期工作的 Git 别名：pathspec 与 git 已知的任何文件都不匹配

> ID：12776015
> 
> 赞同：5
> 
> 时间：2012-10-08T05:53:23.607
> 
> 标签：git, alias, git-bash

我创建了一个别名来根据需要赶上我的跟踪分支。`[alias]`这是我的 .gitconfig 部分的当前行：

```
catchup = !CURRENTBRANCH=$(git symbolic-ref --short HEAD) && echo Currently on $CURRENTBRANCH - switching to $1 && git checkout $1 && git merge origin/$1 && echo Going back to $CURRENTBRANCH && git checkout "$CURRENTBRANCH" 
```

我按如下方式使用它（例如）：

```
git catchup new_design 
```

此代码导致（例如）：

```
Currently on integration
Switched to branch 'new_design'
Your branch is behind 'origin/new_design' by 1 commit, and can be fast-forwarded.
Updating c82f7db..51eea8a
Fast-forward
 themes/theme1/css/styles.less | 17 +++++++++++++++++
 themes/theme1/js/app.js       |  6 +++---
 2 files changed, 20 insertions(+), 3 deletions(-)
Going back to integration
error: pathspec 'new_design' did not match any file(s) known to git. 
```

我已经尝试了别名中的最后一个命令，无论是否使用双引号，结果都相同。

有谁知道最后如何解决该错误？

对于那些可能建议使用的人`git pull`，它不能解决我的问题，并且需要输入我的密码。如果我最近使用过此别名`git fetch`，则无需返回远程仓库。

我在 Windows 7 上运行 git bash，仅供参考。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-08T10:43:39.397

为别名使用 shell 函数：

```
[alias]

catchup = "!f() { CURRENTBRANCH=$(git symbolic-ref --short HEAD) && .... ;}; f" 
```

那里`$n`按预期处理工程。

* * *

[OP mwotton](https://stackoverflow.com/users/283991/mwotton)在[评论](https://stackoverflow.com/questions/12776015/git-alias-with-variables-not-working-as-expected-pathspec-did-not-match-any-fil#comment17294150_12780101)中确认以下工作：

```
catchup = "!_(){ CURRENTBRANCH=$(git symbolic-ref --short HEAD) ; echo \"Currently on \"$CURRENTBRANCH\" - switching to \"$@ ; git checkout $@ ; git merge origin/$@ ; echo \"Going back to \"$CURRENTBRANCH ; git checkout $CURRENTBRANCH; }; _" 
```

在多行中，为了获得更多可见性：

```
catchup = "!_(){ 
  CURRENTBRANCH=$(git symbolic-ref --short HEAD) ; 
  echo \"Currently on \"$CURRENTBRANCH\" - switching to \"$@ ; 
  git checkout $@ ; 
  git merge origin/$@ ; 
  echo \"Going back to \"$CURRENTBRANCH ; 
  git checkout $CURRENTBRANCH; }; _" 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2019-11-14T06:21:10.007

聚会迟到了..失败的原因是git运行命令为

```
git catchup new_design
# turns
CURRENTBRANCH= ... && git checkout "$CURRENTBRANCH\" new_design 
```

也就是说，它将“new_design”附加到命令中。证明这一点很容易证明：

```
# [alias]
#   proof = !echo fixed text

> git proof tryme
# prints "fixed text tryme", not "fixed text" 
```

[因此， stefan 回答](https://stackoverflow.com/a/12780101/3645375)的另一种选择是使用评论技巧

```
# [alias]
#   proof = "!echo fixed text #"

> git proof tryme
# prints "fixed text", since command it ranned was
# echo fixed text #tryme

catchup = "!CURRENTBRANCH=$(git symbolic-ref --short HEAD) && echo Currently on $CURRENTBRANCH - switching to $1 && git checkout $1 && git merge origin/$1 && echo Going back to $CURRENTBRANCH && git checkout \"$CURRENTBRANCH\" #"

# multiline version:
catchup = "! \
  CURRENTBRANCH=$(git symbolic-ref --short HEAD) && \
  echo Currently on $CURRENTBRANCH - switching to $1 && \
  git checkout $1 && \
  git merge origin/$1 && \
  echo Going back to $CURRENTBRANCH && \
  git checkout \"$CURRENTBRANCH\" \
#" 
```

笔记：

*   `"!..."`并且`!"..."`是等价的
*   注意“\”结尾（后面有空格），它不起作用！
*   即使使用“所有参数”（`$*`），这个技巧也有效，因为它完全防止了追加

# php - PHP函数在后台执行脚本？

> ID：12776017
> 
> 赞同：-2
> 
> 时间：2012-10-08T05:53:49.780
> 
> 标签：php, function, background, cross-platform, execution

我有一堆 PHP 脚本，需要在 HTML 网页中按下按钮时执行。我浏览了各种可以做到这一点的 PHP 函数，但是我很困惑 PHP 手册中列出的这些函数中的哪些函数最适合我的情况。

[http://www.php.net/manual/en/ref.exec.php](http://www.php.net/manual/en/ref.exec.php)

一个网页上总共有以下四个按钮链接到它们各自的脚本。

1.  Archive ==> archive.php // 需要几分钟。
2.  下载 ==> download.php // 需要 3 到 6 个小时。
3.  格式 ==> format.php // 需要几秒钟。
4.  更新 ==> update.php // 需要几分钟

另外，这些功能中哪些是跨平台的？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-08T05:59:49.140

Abhishek，我相信当有人单击您 HTML 页面上的按钮时，您正在查看运行 PHP 脚本。要运行 PHP 脚本，您只需调用 URL。唯一的先决条件是您需要运行 PHP 服务器。您应该查看[开始 PHP 开发 - 编程堆栈推荐和网站资源](https://stackoverflow.com/questions/847515/beginning-php-development-programming-stack-recommendation-and-web-site-resour)，以了解如何运行 PHP 脚本。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-08T06:02:12.593

我正在使用“系统”，它工作正常。

```
$last_line = system('ls', $retval);
    echo "<br>";
    echo "the last line of the output: ". $last_line;
    echo "<br>";
    echo "Return value: ".$retval; 
```

只需将“ls”替换为您的命令，例如“php text.php”。

祝你好运。

# java - 如何使 JTable 单元格可动态编辑/不可编辑？

> ID：12776021
> 
> 赞同：9
> 
> 时间：2012-10-08T05:54:24.230
> 
> 标签：java, swing, jtable

有没有办法在 jtable 中动态制作不可编辑的单元格？每当用户提供像假这样的输入时，我想制作不可编辑的单元格......我在 DefaultTableModel 中看到了 isCellEditable 方法。但如果我想使用它，我每次都创建新对象。所以我想动态更改它不可编辑。你能帮我吗？..谢谢

* * *

## 回答 #1

> 赞同：18
> 
> 时间：2012-10-08T06:13:44.803

```
public class MyDefaultTableModel extends DefaultTableModel {
    private boolean[][] editable_cells; // 2d array to represent rows and columns

    private MyDefaultTableModel(int rows, int cols) { // constructor
        super(rows, cols);
        this.editable_cells = new boolean[rows][cols];
    }

    @Override
    public boolean isCellEditable(int row, int column) { // custom isCellEditable function
        return this.editable_cells[row][column];
    }

    public void setCellEditable(int row, int col, boolean value) {
        this.editable_cells[row][col] = value; // set cell true/false
        this.fireTableCellUpdated(row, col);
    }
} 
```

其他类

```
... stuff
DefaultTableModel myModel = new MyDefaultTableModel(x, y); 
table.setModel(myModel);
... stuff 
```

然后，您可以使用已存储的 myModel 变量并在其上调用 setCellEditable() 函数来动态设置值。理论上。我没有测试过这段代码，但它应该可以工作。您可能仍然需要触发某种事件来触发表格以注意到更改。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-05-14T11:18:40.597

我有类似的问题要弄清楚如何动态启用/禁用单元格的编辑（在我的情况下是基于数据库中的出现）。我这样做是这样的：

```
jTableAssignments = new javax.swing.JTable() {
public boolean isCellEditable(int rowIndex, int colIndex) {
    return editable;
}}; 
```

这当然会覆盖 isCellEditable。顺便说一句，我可以使它工作的唯一方法是将声明添加到表本身的实例化中，而不是表模型。

然后我将可编辑声明为可以设置的私有布尔值，例如：

```
 private void jTableAssignmentsMouseClicked(java.awt.event.MouseEvent evt) {                                               
    if(jTableAssignments.getSelectedRow() == 3 & jTableAssignments.getSelectedColumn() == 3) {
        editable = true;
    }
    else {
        editable = false;
    } 

} 
```

而且效果很好。

# c++ - 为什么我会收到“重新声明为不同类型的符号”错误？

> ID：12776022
> 
> 赞同：2
> 
> 时间：2012-10-08T05:54:37.770
> 
> 标签：c++, functor

我有一个这样的函子，

```
class PrintParentheses
{
public:
    PrintParentheses(unsigned pairsCount)
    {}

    void operator ()() {}
}; 
```

在里面`main()`我使用它就像，

```
#include <iostream>

int main()
{
  unsigned pairsCount = 0;

  // Error:  ‘PrintParentheses pairsCount()’ redeclared as different kind of symbol
  PrintParentheses(pairsCount)();

  PrintParentheses(5)(); // But this works

} 
```

错误位置标记在代码本身内部。我已经测试了`GCC-4.6`和`clang-3.1`。两者都给出了相同的错误。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-10-08T05:57:09.433

这被解读为*pairsCount 是一个不带参数并返回 PrintParentheses 的函数*。由于被称为最令人烦恼的 Parse，因此必须将其视为函数声明。相反，创建一个对象并使用它：

```
PrintParentheses obj(pairsCount);
obj(); 
```

# android - App kill Android 后恢复

> ID：12776023
> 
> 赞同：1
> 
> 时间：2012-10-08T05:54:43.700
> 
> 标签：android

我正在设计一个 Android 应用程序。

我的目标是，如果应用程序在后台被杀死，并且如果用户再次启动应用程序，那么它应该可以选择恢复应用程序。

现在，我的`onStart`函数在两种情况下被调用：

1.  活动第一次开始时
2.  就算activity在kill之后开始。

我想检查哪个可以确定，`onStart()`应用程序是从头开始，还是从以前的状态恢复？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-08T06:04:57.330

您可以将共享首选项用于此类任务。

在您的 onStop() 函数中，在共享首选项中设置一个标志，例如：

```
SharedPreferences.Editor editor = getPreferences(MODE_PRIVATE).edit();
editor.putString("killed", "yes"); 
```

在您的 onStart() 中，检索首选项并像这样检查它：

```
SharedPreferences prefs = getPreferences(MODE_PRIVATE); 
String flag = prefs.getString("killed", null);

if(flag!=null && flag.equals("yes")
{
//activity is resumed
}
else
{
//activity is started from scratch
} 
```

有关共享首选项的更多信息，请参阅此处的官方文档：http: [//developer.android.com/guide/topics/data/data-storage.html#pref](http://developer.android.com/guide/topics/data/data-storage.html#pref)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-08T06:10:34.830

你可以做什么。在 onDestroy 方法中创建一个 Shared Preference 变量

并检查变量是否存在。在恢复以前的状态时，它不会存在。只有在活动被破坏时才会存在

# symfony - Doctrine 2 如何防止丢失外键

> ID：12776025
> 
> 赞同：3
> 
> 时间：2012-10-08T05:55:14.180
> 
> 标签：symfony, doctrine-orm

我目前正在将 Symfony2 与 Doctrine 一起使用。我直接向我的数据库添加了一些外键，而不使用 Doctrine 中的关系。似乎每次我执行 a`doctrine:schema:update --force`时，我所有的外键都会被丢弃。这通过运行来验证`doctrine:schema:update --dump-sql`。

有没有办法可以防止教义丢弃手动创建的外键？或者有没有一种方法可以使用没有关系的注释创建外键？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-08T15:46:05.257

像[**sgoettschkes**](https://stackoverflow.com/users/372562/sgoettschkes)一样，我认为不可能完全按照您的要求去做（但是您可以为将来的版本写一张票！我什至没有找到，这似乎是个好主意..！）：

> 我不这么认为。您应该决定是使用原则还是让您的数据库模式 100% 由它定义，或者根本不使用更新（手动更改数据库）。

*   [**斯戈特奇克斯**](https://stackoverflow.com/users/372562/sgoettschkes)

但是，在那之前，我建议您使用本机 SQL 编写一个脚本，并在您的学说模式中（之后）运行它：更新内容。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-11T22:54:59.273

您不应该在生产环境中使用doctrine:schema:update，查看Doctrine Migrations 以在生产环境中运行，这样您就可以准确地知道部署后正在运行哪些查询。

您可以手动添加索引或手动重命名它们。更新架构功能旨在在开发期间使用，您可以在架构的不同版本之间频繁更改，并且数据库的内容价值要低得多。如果您想在开发中测试索引，您可以在这种情况下手动重新创建它们，但我相信这些情况不会经常发生。

我不知道你为什么不想定义一个关系，因为它所做的只是创建这个索引，加上其他可以被查询禁用的功能。

# c# - 这是通过“使用”构造为记录锁编码结构的好方法吗？

> ID：12776028
> 
> 赞同：1
> 
> 时间：2012-10-08T05:55:37.110
> 
> 标签：c#, multithreading, locking, using

对于非高性能锁定......只是健壮的线程安全代码......我想要简单的`lock (obj) { code; }`，但我想在它之前和之后记录（这样我可以通过获取来自用户的日志），我想支持 ReaderWriterLocks。（是的，我意识到 Monitor 和 SpinLock 等更快......但这不是高性能的高线程数......速度在这里不是问题。）

我已经看到了通过 执行此操作的建议`using (new ReadLock(myLock)) { code; }`，但是经常怀疑新类的编码。

Sooo，这就是我想出的。我对你们所有人的问题：（1）当我在评论中指出使用以下代码时，有什么问题吗？(2) 关于如何改进此代码以使其更可靠、更简单或更高效的任何建议？

请注意，TccLog 只是我们自己的 log4net 包装器......但它可以是您选择的任何日志库。

```
// Locks.cs == structs intended to be used with using statements for reliable, easy-to-code, logged locks
using System;
using System.Threading;
namespace Tcc.Common
{
/// <summary>
/// A ReadLock allows any number of readers but prevents any writers until the ReadLock is disposed.
/// ReadLocks do NOT log as they can't cause deadlocks without some other thread having a WriteLock.
/// Use a ReadLock with the following syntax:
/// 
/// using (new ReadLock(someReaderWriterLock, timeoutInMS))
/// { code; }
/// 
/// which is equivalent to:
/// 
/// someReaderWriterLock.AcquireReaderLock(timeoutInMS);
/// try
/// { code; }
/// finally
/// { someReaderWriterLock.ReleaseReaderLock(); }
/// </summary>
public struct ReadLock : IDisposable
{
    ReaderWriterLock TheLock;

    public ReadLock(ReaderWriterLock theLock)
    {
        TheLock = theLock;
        TheLock.AcquireReaderLock(100000);
    }

    public ReadLock(ReaderWriterLock theLock, int timeoutMS)
    {
        TheLock = theLock;
        TheLock.AcquireReaderLock(timeoutMS);
    }

    public void Dispose()
    {
        TheLock.ReleaseReaderLock();
    }
}

/// <summary>
/// A WriteLock allows only that one writer and no readers.
/// WriteLocks will log when they start waiting for the lock and again when they release the lock.
/// You may want to log.TraceLock("LOCKED") in the first line of your code that you have acquired the lock.
/// Use a WriteLock with the following syntax:
/// 
/// using (new WriteLock(someReaderWriterLock, timeoutInMS))
/// { code; }
/// 
/// which is equivalent to:
/// 
/// LOG.TraceLock("LOCKING");
/// someReaderWriterLock.AcquireWriterLock(timeoutInMS);
/// try
/// { code; }
/// finally
/// { someReaderWriterLock.ReleaseWriterLock(); LOG.TraceLock("UNLOCKED"); }
/// </summary>
public struct WriteLock : IDisposable
{
    private static TccLog LOG = new TccLog(2);

    ReaderWriterLock TheLock;

    public WriteLock(ReaderWriterLock theLock)
    {
        TheLock = theLock;
        LOG.TraceLock("LOCKING");
        TheLock.AcquireWriterLock(100000);
    }

    public WriteLock(ReaderWriterLock theLock, int timeoutMS)
    {
        TheLock = theLock;
        LOG.TraceLock("LOCKING");
        TheLock.AcquireWriterLock(timeoutMS);
    }

    public void Dispose()
    {
        TheLock.ReleaseWriterLock();
        LOG.TraceLock("UNLOCKED");
    }
}

/// <summary>
/// A FullLock is like the built-in 'lock' (Monitor on any heap object), except it implements logging.
/// FullLocks will log when they start waiting for the lock and again when they release the lock.
/// You may want to log.TraceLock("LOCKED") in the first line of your code that you have acquired the lock.
/// Use a FullLock with the following syntax:
/// 
/// using (new FullLock(someHeapObject))
/// { code; }
/// 
/// which is equivalent to:
/// 
/// LOG.TraceLock("LOCKING");
/// lock (someHeapObject)
/// { code; }
/// LOG.TraceLock("UNLOCKED");
/// </summary>
public struct FullLock : IDisposable
{
    private static TccLog LOG = new TccLog(2);

    object TheLock;

    public FullLock(object theLock)
    {
        TheLock = theLock;
        LOG.TraceLock("LOCKING");
        Monitor.Enter(TheLock);
    }

    public void Dispose()
    {
        Monitor.Exit(TheLock);
        LOG.TraceLock("UNLOCKED");
    }
}

/// <summary>
/// A NamedLock is like the built-in 'lock' (Monitor on any heap object), except it implements logging.
/// NamedLocks will log when they start waiting for the lock and again when they release the lock.
/// You may want to log.TraceLock("LOCKED") in the first line of your code that you have acquired the lock.
/// Use a NamedLock with the following syntax:
/// 
/// using (new NamedLock(someHeapObject, "name"))
/// { code; }
/// 
/// which is equivalent to:
/// 
/// LOG.TraceLock("LOCKING name");
/// lock (someHeapObject)
/// { code; }
/// LOG.TraceLock("UNLOCKED name");
/// </summary>
public struct NamedLock : IDisposable
{
    private static TccLog LOG = new TccLog(2);

    object TheLock;
    string Name;

    public NamedLock(object theLock, string name)
    {
        Name = name;
        TheLock = theLock;
        LOG.TraceLock("LOCKING " + name);
        Monitor.Enter(TheLock);
    }

    public void Dispose()
    {
        Monitor.Exit(TheLock);
        LOG.TraceLock("UNLOCKED " + Name);
    }
} 
```

# ruby-on-rails-3.1 - 多态关联的使用

> ID：12776029
> 
> 赞同：0
> 
> 时间：2012-10-08T05:55:39.333
> 
> 标签：ruby-on-rails-3.1

我是协会的新手。任何人解释我在哪里使用多态关联及其目的。

class Picture < ActiveRecord::Base belongs_to :imageable, :polymorphic => true end

class Employee < ActiveRecord::Base has_many :pictures, :as => :imageable end

类 Product < ActiveRecord::Base has_many :pictures, :as => :imageable end

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-08T06:08:07.827

当父对象或子对象类未知时使用多态关联。

例如

```
A has_many :cs, :as => resource, :dependent => :destroy
B has_many :cs, :as => resource, :dependent => :destroy

C belongs_to :resource, :polymorphic => true 
```

这里，C 可能属于 A 或 B。

有关更多信息，请参见[http://guides.rubyonrails.org/association_basics.html#polymorphic-associations](http://guides.rubyonrails.org/association_basics.html#polymorphic-associations)。

# wpf - 屏幕捕获程序 (WPF 4)

> ID：12776033
> 
> 赞同：0
> 
> 时间：2012-10-08T05:56:01.387
> 
> 标签：wpf, screen, capture

我有一个关于屏幕捕获程序的问题。我有一个 WPF 4 应用程序，它需要能够读取位于同一网络上另一台计算机上的屏幕并查找其中的更改。我以前从来没有这样做过，所以我希望有人能给我一些指示或指出正确的方向。

非常感谢。

蒂姆

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-08T06:17:44.093

你需要检测任何变化吗？您可以使用钩子进行少量更改；

[http://msdn.microsoft.com/en-us/library/ms644991%28VS.85%29.aspx（ShellProc](http://msdn.microsoft.com/en-us/library/ms644991%28VS.85%29.aspx)回调函数）

它会通知您是否移动了某些窗口，是否重绘了某些内容。我不确定它对您有多大用处，但您可以查看一下。

还有更多方法：[如何检测窗口内容何时发生变化](https://stackoverflow.com/questions/4013933/how-to-detect-when-window-content-has-changed)

如果您只需要内容是否发生变化的信息，可以在“另一台计算机”上进行处理。

1）设置socket连接

2）让彼此交流

3) 现在实际代码应该在 Win32(C++) 中完成以获得最佳性能。但是，您可以使用 C# 来完成。只需谷歌在 C# 中进行快照，您应该会找到一些东西。

4）要实际进行比较，有很多方法。一种方法是与最后一张图片逐像素比较。将图像拆分为 COMPUTER_PROCESSORS-1 线程并比较像素。

或者，您可以运行使用 GPU 着色器，这可能使其比 CPU 方法更快。

# javascript - 使用 JavaScript 检查文本框是否具有“提示”值

> ID：12776040
> 
> 赞同：0
> 
> 时间：2012-10-08T05:57:07.110
> 
> 标签：javascript, forms

我的搜索表单在文本框上使用“提示”，当聚焦时它会清除文本框并在模糊时显示“提示”。

```
<script type="text/javascript">
function checkform(form)
{
  if (search.s.value == "Pesquisar...") || (search.s.value == "") {
    var term = prompt("Enter a value:");
    if (term) { search.s.value = term; }
    else { return false; }
  }
}
</script>

<form id="search" method="get" action="[@siteurl]/search.php" onsubmit="return checkform(this);" >
  <fieldset>
    <input type="text" name="s" value="Pesquisar..." onfocus="if(this.value=='Pesquisar...') { this.value=''; }" onblur="if(this.value=='') { this.value='Pesquisar...'; }"  /> 
    <input type="submit" id="searchsubmit" value="Go!" />
  </fieldset>
</form> 
```

这是行不通的。它正在搜索提示文本而不是提示。怎么了？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-08T06:02:19.797

```
function checkform(form)
{
   if (search.s.value == "Pesquisar..." || search.s.value == "")//brackets not closed properly 
   {
      var term = prompt("Enter a value:");
      if (term) { search.s.value = term; }
      else { return false; }
   }
} 
```

检查这个[演示](http://jsfiddle.net/NmJ7H/)

# c++ - QJson QVariantMap 到 QByteArray

> ID：12776043
> 
> 赞同：0
> 
> 时间：2012-10-08T05:57:26.627
> 
> 标签：c++, qt, qjson

我正在使用 QJson 解析以 json 格式返回的数据。返回的项目之一是一个 80 字符字节数组。从 QJson 返回的是一个 QVariantMap，当在 Qt Creator 调试器中查看时，它看起来是一个长整数数组。

有没有更好的方法将 QVariantMap 转换为 Byte 数组而不是遍历 Map，将每个 QVariant 转换为一个字节并将其分配给字节数组？

```
QByteArray byteArray[60];
QVariantMap returnedMap;
for (int n=0; n< returnedMap.count(); ++n){
  byteArray[n] = (char)returnedMap[n];
} 
```

（上面的代码用于说明，我不确定将整数转换为字节的正确语法是什么。上面的代码导致“从类型'QVariant'到类型'char'的无效转换）

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-08T06:06:35.463

我不知道你为什么要转换一个映射，它是一个“键值”对的数量到一个值数组中，但如果你愿意，语法将类似于

```
QByteArray arr;
QVariantMap map;
foreach( QVariant tmp, map )
    arr.append( tmp.toChar() ); 
```

请注意，在遍历映射时，您按升序从一个键到另一个键，因此数组的第一个元素将具有最低键，反之亦然。

# javascript - 如何展平嵌套的 JSON？

> ID：12776046
> 
> 赞同：3
> 
> 时间：2012-10-08T05:57:43.620
> 
> 标签：javascript, jquery, json

假设我正在处理这样的 JSON：

[http://hndroidapi.appspot.com/nestedcomments/format/json/id/4620423?appid=hntoolbar&callback=](http://hndroidapi.appspot.com/nestedcomments/format/json/id/4620423?appid=hntoolbar&callback=)

可以无限嵌套。我想以“扁平化”格式提取所有评论信息，只是用户名列表及其评论内容，而不用担心评论的“级别”。我将如何使用 Javascript/JQuery 做类似的事情？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-08T06:35:26.093

use recursion:

```
var getall = function(comments,out) {
    var out = out || {};
    var cuser = undefined;
    var comment;
    for (var key in comments) {
        if (key == 'username') {
            cuser = comments[key];
            continue;
        }
        if (key == 'comment') {
            comment = comments[key];
            continue;
        }
        var mytype = typeof(comments[key]);
        if (mytype == 'object'
        || mytype == 'array') {
            out=getall(comments[key],out);
        };
    }
    if (cuser !== undefined) {
        if (out[cuser] === undefined) {
            out[cuser] = [];
        }

       out[cuser].push(comment);
    }
    return (out);
}
b=getall(a);
console.log(b);​ 
```

a here - parsed JSON, b - result;

b structure is

`{user1: [comment,comment,comment],user2: [] ...}`

[http://jsfiddle.net/NkTst/1/](http://jsfiddle.net/NkTst/1/)

check [http://jsfiddle.net/NkTst/2/](http://jsfiddle.net/NkTst/2/) if you still need extended info on comments

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-08-15T17:51:25.383

这就是我不得不在 python 中执行此操作时所做的：（它不完整，我将尝试在稍后在 javascript 中执行此操作以进行实践。）我发布了这个，因为递归的概念在这个中更加清晰。

```
#Builds the names and makes a nested list with {"table.hierarchy.id":value} pairs:
def undic(dic,levs=0,tmp=""):
    if(isinstance(dic,dict)):
        return([undic(dic[d],levs=levs+1,tmp=tmp+d+".") for d in dic.keys()])
    else:
        return {tmp : dic}

#Flattens the list to something we can easilly work with:
def flat_content(dic):
    ll=undic(dic)
    if(isinstance(ll[0],dict)):
        return(ll)
    return(reduce(lambda x,y:x+y,ll)) 
```

然后找到唯一的列名并将行名保留在第零级层次结构中，制作一些实用程序函数来处理丢失的键等（我用 .update({"missingKey":""}) 做到了，你有一个漂亮的小 json 到表格转换器（轻松转换为 CSV）！

不过，您问题中的 json 不可见。

# json - jEasyUI 和 JSON

> ID：12776048
> 
> 赞同：0
> 
> 时间：2012-10-08T05:57:57.013
> 
> 标签：json, gridview, subgrid

我正在尝试在我的项目中使用 JEasyUI 来显示一个数据网格，该数据网格具有一个具有主网格功能的子网格。

我的应用程序调用一个返回 JSON 格式数据的 web 服务。我从网站上阅读了教程，但它是关于 php 语言的。

任何机构都可以举例说明使用 JSON 结果从 JEasyUI 填充数据网格吗？

如果整个过程可以在 jQuery/client side 中涵盖，那将是非常有帮助的。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-20T09:09:08.093

我相信你指的是这个页面？

[http://jeasyui.com/tutorial/datagrid/datagrid22.php](http://jeasyui.com/tutorial/datagrid/datagrid22.php)

PHP 位不是 jEasyUI 页面的一部分。如您所见，它以外部脚本结尾`echo json_encode($items);`，**仅**在`url`jEasyUI 设置的参数中使用。

因此，只需忽略页面上的 PHP 位，所有信息都在其中。如果您有具体问题，请随时提出。

# javascript - Chrome 控制台中的奇怪行为

> ID：12776051
> 
> 赞同：4
> 
> 时间：2012-10-08T05:58:25.050
> 
> 标签：javascript, google-chrome, google-chrome-devtools, object-literal

看一下截图...

![截屏](../Images/c0c48b70dbf0bb5821b51d73bae943b5.png)

我之所以尝试这个是因为我做了一个简单的谷歌搜索来检查一个参数是否是一个函数，我发现了这个......

```
var getClass = {}.toString;
...
function isFunctionA(object) {
    return object && getClass.call(object) == '[object Function]';
} 
```

来源：http: [//jsperf.com/alternative-isfunction-implementations/4](http://jsperf.com/alternative-isfunction-implementations/4)

那么我输入的内容和示例源代码有什么区别？为什么 Chrome 在输入 just 时会出错`{}.toString`，但在括号内时却可以正常工作？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-08T06:20:26.833

语句开头的 {} 有歧义，是空代码块还是对象？该定义通过将其定义为代码块来解决歧义，在语句的开头使用 {} 作为对象，通过将其括在括号中使其成为表达式：({})

另请参阅[为什么直接在 Object 文字上访问属性会引发 SyntaxError？](https://stackoverflow.com/questions/8553792/why-does-accessing-a-property-directly-on-an-object-literal-throw-a-syntaxerror)

# android - 带有 2.3.3 的 Android HTTPS 流式传输

> ID：12776052
> 
> 赞同：1
> 
> 时间：2012-10-08T05:58:25.940
> 
> 标签：android

我遇到了托管在 Amazon s3 服务器上的视频文件的问题。我创建了一个预签名 URL 并将该 URL 提供给视频视图。在 ICS 及更高版本上，VideoView 播放文件，但在 android 2.3.3 中无法播放文件。我从 https 预签名的 url 中删除了“s”，现在 videoview 可以播放文件了吗？这里发生了什么？有任何想法吗 ？

亲切的问候，

# fullcalendar - 如何使用 FullCalendar 插件实现打印功能？

> ID：12776055
> 
> 赞同：3
> 
> 时间：2012-10-08T05:58:32.340
> 
> 标签：fullcalendar

我正在使用 fullcalendar 作为演示。如何实现打印功能？我在 FullCalendar 包中找到了一个文件“fullcalendar.print.css”，它有什么用？

如果有一个“打印”按钮，单击该按钮时我会做什么？任何帮助将不胜感激！

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2013-09-30T16:17:12.087

我知道这是一个老问题，但我想我还是会回答。

以它告诉您的方式包含文件，例如：

```
<link href="//cdnjs.cloudflare.com/ajax/libs/fullcalendar/1.6.4/fullcalendar.css" rel="stylesheet" type="text/css" />
<link href="//cdnjs.cloudflare.com/ajax/libs/fullcalendar/1.6.4/fullcalendar.print.css " rel="stylesheet" type="text/css" media="print" /> 
```

然后我将按如下方式设置我的按钮：

```
<button class="printBtn hidden-print">Print</button>

<script type="text/javascript">
  $('.printBtn').on('click', function (){
    window.print();
  });
</script> 
```

这样，您的按钮就会从打印屏幕中隐藏起来，当您单击该按钮时，它会为您弹出一个打印屏幕。

hidden-print 是 Bootstrap 提供的一个类，如果您不使用 bootstrap，您可以在样式表中使用如下内容：

```
@media print {
  .visible-print  { display: inherit !important; }
  .hidden-print   { display: none !important; }
} 
```

至于使用 fullcalendar.print.css？当您`media == print`根据您的`<link>`

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2014-12-16T10:33:42.300

您可以将以下链接中使用的解决方案用于 primefaces 时间表（与完整日历相同）。 [http://eves4code.blogspot.in/2014/12/to-print-primefaces-schedule.html](http://eves4code.blogspot.in/2014/12/to-print-primefaces-schedule.html)

此示例在新选项卡中打开日历的打印预览。

从上面的链接中提取的是

此示例是针对在后端使用 fullcalendar 的 primefaces 调度组件实现的

printScheduleArea 是包含 primefaces 时间表的 div 标签。

在您的 XHTML 中，为您的新 print.css 添加一个链接标记

```
<link rel="stylesheet" href="#{request.contextPath}/css/print.css" 
type="text/css" media="print"/> 
```

在 print.css

```
@media print {
    body, html, #wrapper {
     width: 100%;
    }
   div {
     overflow: visible !important;      
    }

} 
```

在您的视图页面中添加一个打印按钮。

```
function printPreview() {
  var headerElements = document.getElementsByClassName('fc-header');//.style.display = 'none';
  for(var i = 0, length = headerElements.length; i < length; i++) {
    headerElements[i].style.display = 'none';
  }
  var toPrint = document.getElementById('printScheduleArea').cloneNode(true);

  for(var i = 0, length = headerElements.length; i < length; i++) {
        headerElements[i].style.display = '';
  }

  var linkElements = document.getElementsByTagName('link');
  var link = '';
  for(var i = 0, length = linkElements.length; i < length; i++) {
    link = link + linkElements[i].outerHTML;
  }

  var styleElements = document.getElementsByTagName('style');
  var styles = '';
  for(var i = 0, length = styleElements.length; i < length; i++) {
    styles = styles + styleElements[i].innerHTML;
   }

  var popupWin = window.open('', '_blank');
  popupWin.document.open();
  popupWin.document.write('<html><title>Schedule Preview</title>'+link
 +'<style>'+styles+'</style></head><body">')
  popupWin.document.write(toPrint.innerHTML);
  popupWin.document.write('</html>');
  popupWin.document.close();

  setTimeout(popupWin.print(), 20000);
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2021-05-06T19:33:26.383

这是你的 html 代码

```
<div class="" id="component1">
      <full-calendar></full-calendar>
    </div> 
```

添加打印按钮并将id传递给方法

```
<button (click)="printComponent('component1')">Print</button> 
```

--

```
printComponent(cmpName) {
        var docHead = document.head.outerHTML;
        var printContents = document.getElementById('component1').outerHTML;
        var winAttr = "location=yes, statusbar=no, menubar=no, titlebar=no, toolbar=no,dependent=no, width=865, height=600, resizable=yes, screenX=200, screenY=200, personalbar=no, scrollbars=yes";

        var newWin = window.open("", "_blank", winAttr);
        var writeDoc = newWin.document;
        writeDoc.open();
        writeDoc.write('<!doctype html><html> <style>.fc-header-toolbar{display :none !important;} .fc-scroller.fc-scroller-liquid{overflow:visible !important;} .fc-view-harness.fc-view-harness-active{height:auto !important;}</style>' + docHead + '<body onLoad="window.print()">' + printContents + '</body></html>');
        writeDoc.close();
        newWin.focus();
      } 
```

使用它你可以打印日历

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2021-03-26T08:45:12.650

所需的 Js 文件

```
<script  src="https://cdnjs.cloudflare.com/ajax/libs/amcharts/3.13.3/exporting/jspdf.plugin.addimage.js"></script>
<script  src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/0.5.0-beta4/html2canvas.min.js"></script>

  /*print*/

    <script>
        $("#print_calendar").click(function () {

            html2canvas(document.getElementById("calendar")).then(function (canvas) {

            //for give white BG
            var context  = canvas.getContext('2d');
            context.save();
            context.globalCompositeOperation = 'destination-over';
            context.fillStyle = "rgb(255, 255, 255)";
            context.fillRect(0, 0, canvas.width, canvas.height);
            context.restore();

            var imgData = canvas.toDataURL('image/jpeg',1);

            //for Save as Image
            /*
            downloadImage(imgData, 'my-canvas.jpeg');
            return; 
            */

            //var doc = new jsPDF();
            var doc = new jsPDF("p", "mm", "a4");
            doc.addImage(imgData, 'JPEG', 10, 10,180, 297);
            download(doc.output(), "calendar.pdf", "text/pdf");

        });
    });
    // Save As Image
    function downloadImage(data, filename = 'untitled.jpeg') {
        var a = document.createElement('a');
        a.href = data;
        a.download = filename;
        document.body.appendChild(a);
        a.click();
    }

    //Save As PDF (Using jsPDF)
    function download(strData, strFileName, strMimeType) {
        var D = document,
            A = arguments,
            a = D.createElement("a"),
            d = A[0],
            n = A[1],
            t = A[2] || "text/plain";

        //build download link:
        a.href = "data:" + strMimeType + "," + escape(strData);

        if (window.MSBlobBuilder) {
            var bb = new MSBlobBuilder();
            bb.append(strData);
            return navigator.msSaveBlob(bb, strFileName);
        } /* end if(window.MSBlobBuilder) */

        if ('download' in a) {
            a.setAttribute("download", n);
            a.innerHTML = "downloading...";
            D.body.appendChild(a);
            setTimeout(function() {
                var e = D.createEvent("MouseEvents");
                e.initMouseEvent("click", true, false, window, 0, 0, 0, 0, 0, false, false,
                    false, false, 0, null);
                a.dispatchEvent(e);
                D.body.removeChild(a);
            }, 66);
            return true;
        } /* end if('download' in a) */

        //do iframe dataURL download:
        var f = D.createElement("iframe");
        D.body.appendChild(f);
        f.src = "data:" + (A[2] ? A[2] : "application/octet-stream") + (window.btoa ? ";base64"
            : "") + "," + (window.btoa ? window.btoa : escape)(strData);
        setTimeout(function() {
            D.body.removeChild(f);
        }, 333);
        return true;
    } 
    </script>
    /*print*/ 
```

# iphone - 代号一的表格布局

> ID：12776061
> 
> 赞同：2
> 
> 时间：2012-10-08T05:59:10.093
> 
> 标签：iphone, tablelayout, codenameone

我正在尝试使用**CodeName One**构建一个非常简单的 UI 。我想要一个矩形屏幕（显示图像）和它下面的按钮。我找不到类似矩形屏幕面板的东西，所以我只放了一个标签。

层次结构如下图所示：

*   容器（TableLayout，3行1列）

容器内的组件有：容器：

*   标签（行 = 0，列 = 0，垂直跨度 = 2）
*   按钮（行=2，列=0，垂直跨度=1）

由于Label的垂直跨度为2，不应该占据两行吗？但是，它的可见高度与 1 行相同。怎么了？

此 API 中面板（显示图像）的等效项是什么？TableLayout 管理器有很好的教程吗？我熟悉 JGoodies，我可以通过这个 API 使用 JGoodies 吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-09T12:29:16.703

[在这里](http://www.codenameone.com/discussion-forum.html?place=msg/codenameone-discussions/kuzslJJWFfQ/5tFsS6izTQ4J)给出了答案

为了完整起见，粘贴在这里：

这是一个非常简单的布局，您根本不应该为此使用表格布局。

对于单列，只需将父级设置为 BorderLayout 并将白色面板的标签放置在中心，将按钮放置在南部。

对于两列布局，您可以再次使用边框布局，在中心放置一个具有两列/一行网格布局的组件。为面板放置两个标签。通过放置一个具有两列网格布局和两个按钮的容器，对南部执行相同的操作。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-05-05T18:39:20.060

您可以在不指定两个垂直跨度的情况下执行此操作。指定一个有 2 行的表格，它将扩展第一行以适合图像的大小。

# javascript - jquery - 返回子元素的数量，但对于不同的父元素

> ID：12776066
> 
> 赞同：1
> 
> 时间：2012-10-08T05:59:51.883
> 
> 标签：javascript, jquery, jquery-plugins, jquery-selectors

我有这个问题，其中 jquery 语法中的 .length 没有返回正确数量的子元素。

我的代码是这样的 smtg。

```
<div class="swiper-container swiper1">
    <div class="swiper-wrapper">
        <div class="swiper-slide">item1</div>
        <div class="swiper-slide">item2</div>
        ...
        <div class="swiper-slide">
            <div class="swiper-container swiper-v">
                <div class="swiper-wrapper">
                    <div class="swiper-slide">item1</div>
                    <div class="swiper-slide">item2</div>
                </div>
            </div>
        </div>
    </div>
</div> 
```

现在这里发生的是，当我使用 jquery 返回两个 swiper 的子元素的数量时，它给了我一个不正确的值。

例如

```
alert($('.swiper1 .swiper-slide').length); // which returns me 11 
```

和

```
alert($('.swiper-v .swiper-slide').length); // which return me 2 - which is correct 
```

任何的想法？

PS 我正在使用 iDangero.us Mobile Swiper 插件 :)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-08T06:09:06.440

采用

```
$('.swiper1 > .swiper-wrapper').children().length; 
```

和

```
$('.swiper-v > .swiper-wrapper').children().length; 
```

在[jsFiddle上测试](http://jsfiddle.net/HxJAb/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-08T06:13:54.143

我实际上在这里没有看到问题。检查这个[jsfiddle 链接](http://jsfiddle.net/NETNU/1/)。

# android - 分享意图不起作用

> ID：12776069
> 
> 赞同：0
> 
> 时间：2012-10-08T05:59:59.043
> 
> 标签：android, android-intent, android-imageview, onitemclicklistener

![在此处输入图像描述](../Images/a30829fa1b20e563153bf57d9f122831.png)

我有存储在 R.drawable 文件中的图像列表。当用户单击图像列表中的一个图像时，我想共享图像。我有以下显示图像列表和排序顺序。但是当我点击一张图片时，分享意图不起作用。

我的代码：

```
 public class MainActivity extends Activity {
         EditText edittext;
         ListView listview;
         ImageView imageview;

         String[] text = { "AbdulKalam", 
                 "AIGross", 
                 "AlbertAbrahamMichelson",
                  "AlbertEinstein", 
                 "AlbertHofmann",
                 "AlbrechtvonHaller", 
                 "AlessandroVolta",
                 "AlexanderCalder "};

    int[] image={R.drawable.abdul_kalam,
                         R.drawable.ai_gross,
                         R.drawable.albert_abraham_michelson,
                         R.drawable.albert_einstein,
                         R.drawable. albert_hofmann,
                         R.drawable. albrecht_von_haller,
                         R.drawable. alessandro_volta,
                         R.drawable. alexander_calder,
                         R.drawable. alexander_fleming};

     int textlength = 0;

                 ArrayList<String> text_sort = new ArrayList<String>();
                 ArrayList<Integer> image_sort = new ArrayList<Integer>();

        @Override
        public void onCreate(Bundle savedInstanceState) {
            super.onCreate(savedInstanceState);
            setContentView(R.layout.activity_main);

            edittext = (EditText) findViewById(R.id.EditText01);
            final ListView  listview = (ListView) findViewById(R.id.ListView01);
              imageview=(ImageView)findViewById(R.id.ImageView01);

              listview.setAdapter(new MyCustomAdapter(text, image));

              edittext.addTextChangedListener(new TextWatcher()
              {

               public void afterTextChanged(Editable s)
               {

               }

               public void beforeTextChanged(CharSequence s, int start,
                int count, int after)
               {

               }

               public void onTextChanged(CharSequence s, int start,
                int before, int count)
               {

                textlength = edittext.getText().length();
                text_sort.clear();
                image_sort.clear();

                for (int i = 0; i < text.length; i++)
                {
                 if (textlength <= text[i].length())
                 {
                  if (edittext.getText().toString().
               equalsIgnoreCase((String) text[i].subSequence(0, textlength)))
                  {
                   text_sort.add(text[i]);
                   image_sort.add(image[i]);
                  }
                 }
                }

                listview.setAdapter(new MyCustomAdapter
                 (text_sort, image_sort));

               listview.setOnItemClickListener(new OnItemClickListener(){

                    @Override
                    public void onItemClick(AdapterView<?> parent, View view,
                            int position, long rowId) {
                        // TODO Auto-generated method stub
                        finalStringTouch=listview.getItemAtPosition(position).toString();
Intent sharingIntent = new Intent(Intent.ACTION_SEND);

                    sharingIntent.setType("image/png");
                     sharingIntent.putExtra("image",  Touch);

                    startActivity(Intent.createChooser(sharingIntent, "Share image using"));

                    }

                });

               }
              });
             }

             class MyCustomAdapter extends BaseAdapter
             {

              String[] data_text;
              int[] data_image;

              MyCustomAdapter()
              {

              }

              MyCustomAdapter(String[] text, int[] image)
              {
               data_text = text;
               data_image = image;
              }

              MyCustomAdapter(ArrayList<String> text, ArrayList<Integer> image)
              { 

               data_text = new String[text.size()];
               data_image = new int[image.size()];

               for(int i=0;i<text.size();i++)
               {
                data_text[i] = text.get(i);
                data_image[i] = image.get(i);
               }

              }

              public int getCount()
              {
               return data_text.length;
              }

              public String getItem(int position)
              {
               return null;
              }

              public long getItemId(int position)
              {
               return position;
              }

              public View getView(int position, View convertView, ViewGroup parent)
              {

               LayoutInflater inflater = getLayoutInflater();
               View row;

               row = inflater.inflate(R.layout.listview, parent, false);

               TextView textview = (TextView) row.findViewById(R.id.TextView01);
               ImageView imageview = (ImageView) row
                 .findViewById(R.id.ImageView01);

               textview.setText(data_text[position]);

               imageview.setImageResource(data_image[position]);

               return (row);

              }
             } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-08T11:25:57.590

[文档中](http://developer.android.com/reference/android/content/Intent.html#ACTION_SEND)`"image"`没有额外命名. 您需要使用图像，在文件系统上提供相关图像的路径。结果，AFAIK，您不能直接共享可绘制资源 - 您必须将其复制到文件中，然后共享文件。[`ACTION_SEND`](http://developer.android.com/reference/android/content/Intent.html#ACTION_SEND)`EXTRA_STREAM`

# css - 设置谷歌图表宽度

> ID：12776070
> 
> 赞同：0
> 
> 时间：2012-10-08T06:00:03.497
> 
> 标签：css, grails, stylesheet, google-visualization

如何设置谷歌图表 api 的宽度？当我把它放在脚本标签上时，我可以调整它的大小，但我用这种方式来创建图表：

```
 <g:lineChart title='Sample Line Chart' titleAttrs="${['440000',30]}"colors="${colors}"axes="x,y" gridLines="10,10,1,0" type='xy' lineStyles="${[[3,6,3],[6,3,6],[6,6,7]]}" legend="${labels}" axesLabels="${[0['Jan','Feb','Mar'],1:[0,10,30,50]]}" fill="${'bg,s,efefef'}" dataType='text'data='${values5}' /> 
```

我尝试放置一个 width='800px' 但它不起作用。请帮忙，谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-08T06:11:36.423

内联样式应采用以下格式 `style="width:800px;"`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-08T06:53:04.313

好的，我想我找到了一个代码片段，它可以工作。这里是：

```
 size="${[600,500]}" 
```

# c++ - 何时使用动态内存 C++

> ID：12776072
> 
> 赞同：3
> 
> 时间：2012-10-08T06:00:11.443
> 
> 标签：c++, memory, pointers, dynamic

所以我一直被告知，当你在编译时不知道数组的大小时，你应该使用动态内存。例如，用户需要输入数组的大小。

```
 int n;

cin >> n;

int array[n];

for(int ii = 0; ii < n; ii++)
{
    array[ii] = ii;
}

for(int ii = 0; ii < n; ii++)
{
    cout << array[ii] << endl;
} 
```

然而，这对我来说很好，我一直认为我需要使用指针和 new 运算符。那么动态内存是否仅适用于您想要更改数组大小、释放空间或能够控制何时释放内存的情况？谢谢。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-10-08T06:02:06.530

它工作正常，因为它是编译器允许的扩展。它不是合法的 C++，我建议你避免使用它。为了帮助您避免这种情况，我建议您在编译时`-pedantic`将非标准扩展的使用标记为警告，并将`-Werror`警告视为错误。或者，`-pedantic-errors`如果您不想将*所有*警告都视为错误，只需将此类警告视为错误。

但这并不意味着您应该使用指针和`new`. 您应该改用[`std::vector`](http://en.cppreference.com/w/cpp/container/vector). 或者可能是`std::deque`or `std::list`，但仅用于非常特殊的目的。对于大多数通用动态数组，`std::vector`是选择。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-10-08T06:02:55.350

首先，您使用的不是标准 C++。可变长度数组是一种语言扩展，因此不可移植。其次，您可以通过使用在幕后为您执行此操作的类来避免显式使用动态分配的内存，并自行处理内存管理。这种情况的明显示例是[`std::vector`](http://en.cppreference.com/w/cpp/container/vector)：

```
std::vector<int> v;

for(int ii = 0; ii < n; ii++)
{
    v.push_back(ii);
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-08T06:12:06.820

在 C++ 中，数组用于静态存储。大小仅在编译时已知。在编译期间将分配一个恒定大小的空间。

通常，编译器不允许动态创建数组。您编写的代码是 C++ 的扩展，它允许动态创建数组。我更喜欢你用`std::vector`。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-08T16:58:47.920

编译时限制不仅适用于数组。

1.  C++ 中的所有类型都有编译时限制
2.  新操作可以避免的原因是没有类型包含所有堆分配的数组元素 - 堆分配在类型系统之外
3.  sizeof(T) 记录了该功能，因为它的返回值始终是编译时常量。
4.  std::vector 可以避免这个问题，因为元素在 std::vector 的类型之外

# mysql - 在mysql中存储在varchar中的日期之间搜索数据

> ID：12776075
> 
> 赞同：5
> 
> 时间：2012-10-08T06:00:29.033
> 
> 标签：mysql, date, compare, between

我`varchar`以`dd/mm/yyyy`格式将日期存储在 server_date_time 列中，并且我想获取位于某些日期之间的记录，因此我使用了查询

```
 select * from activity_emp 
where date_format(str_to_date(substr(server_date_time,1,10),'%d/%m/%Y'),'%d/%m/%Y')>=
'29/09/2012'
    and date_format(str_to_date(substr(server_date_time,1,10),'%d/%m/%Y'),'%d/%m/%Y')<=
'07/10/2012'; 
```

我已`varchar`在查询中转换为字符串，但我的查询返回的查询数据仅与 29/09/2012 和 30/09/2012 相关。它还应该返回 10 月份的查询

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-10-08T06:27:22.817

试试这个。您可以在问题中以 dd/mm/yyyy 格式输入日期...

```
SELECT * FROM activity_emp
WHERE STR_TO_DATE(server_date_time, '%d/%m/%Y')
  BETWEEN STR_TO_DATE('29/08/2012', '%d/%m/%Y')
    AND STR_TO_DATE('07/10/2012', '%d/%m/%Y') 
```

**更新：**我强烈建议您将数据类型从更改`VARCHAR`为`DATETIME`

干杯！！！

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-08T06:06:00.830

`STR_TO_DATE`足够的。`DATE_FORMAT`将其改回`VARCHAR`

```
SELECT...
FROM...
WHERE str_to_date(substr(server_date_time,1,10),'%d/%m/%Y') 
         BETWEEN '29/09/2012' AND '07/10/2012' 
```

交易时`date`请使用`DATE`或`DATETIME`数据类型。这将避免您进行影响查询性能的强制转换。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-08T06:12:10.997

试试这个——

```
SELECT * FROM activity_emp
WHERE STR_TO_DATE(server_date_time, '%d/%m/%Y')
  BETWEEN '2012-09-29' AND '2012-09-30' 
```

但最好存储`server_date_time`在 DATETIME 数据类型中，以便 MySQL 可以使用索引。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-08T06:12:42.353

如果您始终将日期存储在`dd/mm/yyyy`列中，那么这是一项简单的任务：

```
SELECT * from activity_emp 
where server_date_time BETWEEN '29/09/2012' AND '07/10/2012' 
```

这还不够吗？希望对你有帮助

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-06-30T15:23:41.193

```
SELECT * 
FROM  `activity_emp` 
WHERE STR_TO_DATE(  `column_name` ,  '%d/%m/%Y' ) 
BETWEEN  '2010-10-10'
AND  '2010-11-10' 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2016-03-07T08:45:40.277

这是在两个日期之间进行搜索的简单易懂的日期查询

```
Date that stored in datebase in like 01/01/2016 and datatype is varchar
SELECT * FROM `test` WHERE STR_TO_DATE(`test`.`date`, '%d/%m/%Y') BETWEEN '2016-01-01' AND '2016-01-31' ORDER BY `test`.`date` ASC 
```

# nswindow - 不要在透明度上绘制窗口阴影

> ID：12776077
> 
> 赞同：0
> 
> 时间：2012-10-08T06:00:40.023
> 
> 标签：nswindow

我的应用程序中有一个自定义的半透明窗口。我希望它的边缘有阴影，但不在窗口的半透明部分下方。我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-08-05T06:29:34.337

1.  Make the window transparent
2.  Handle the transparency inside the elements you have inside the NSWindow while keeping the NSWindow transparent
3.  Set the NSWindow to have no shadow
4.  Apply a custom shadow to the elements while the NSWindow shadow remains none

# macos - 如何从 mac 应用程序访问设备 (iphone/ipod) 的照片库？

> ID：12776078
> 
> 赞同：1
> 
> 时间：2012-10-08T06:01:01.637
> 
> 标签：macos

我正在编写一个 Mac 桌面应用程序。我想知道是否可以获得存储在通过 USB 连接的 iPhone/iPod 库中的照片的文件/文件名列表。

我搜索了它，找到了一些链接，但不知道如何继续：http: [//developer.apple.com/library/mac/#documentation/DeviceDrivers/Conceptual/AccessingHardware/AH_Finding_Devices/AH_Finding_Devices.html](http://developer.apple.com/library/mac/#documentation/DeviceDrivers/Conceptual/AccessingHardware/AH_Finding_Devices/AH_Finding_Devices.html)

我将不胜感激，谢谢！

# android - xml解析空值处理

> ID：12776079
> 
> 赞同：1
> 
> 时间：2012-10-08T06:01:03.483
> 
> 标签：android, xml-parsing

您好我正在使用将解析值并使用列表视图显示的 android 应用程序。我正在使用 XML 解析方法来解析数据并成功显示在列表视图中。现在的问题是当我尝试解析没有值（NULL）的xml标记时，它会出错并强制关闭应用程序。我尝试如果节点具有某些值然后只允许解析它仍然显示一些问题并且只有第一个标签显示在第一个列表项中。其他列表项没有显示。

```
Below is the xml tags to parse.

<UserScore>
<GameId>daily_1349375400</GameId>
<Location></Location>
<GameName>Football - 5th October 2013</GameName>
<Date>Oct 5, 2013</Date>
</UserScore>
−
<UserScore>
<GameId>136</GameId>
<GameName>Company Cricket</GameName>
<Location>France </Location>
<Date>Jan 6, 2012</Date>
</UserScore>

For the first time the location tag having "france" as its value, but when again played the second location tag contains nothing.
Here is my coding please tell me the solution.

public class AsynTaskScoreboard extends AsyncTask<Void, Void, Void> {

        private ProgressDialog dialog = ProgressDialog.show(getParent(), "Retrieving data ", " Loading. Please wait ... ", true);

        // can use UI thread here
        protected void onPreExecute() {
            this.dialog.setMessage("Loading...");
            this.dialog.setCancelable(false);
            this.dialog.show();
        }

        @Override
        protected Void doInBackground(Void... params) {

            try {
                URL xpto = new URL(my url here);

                HttpURLConnection conn;

                conn = (HttpURLConnection) xpto.openConnection();
                conn.setDoInput(true);

                conn.connect();
                InputStream is = conn.getInputStream();

                DocumentBuilderFactory dbf = DocumentBuilderFactory.newInstance();

                try {

                    DocumentBuilder db = dbf.newDocumentBuilder();
                    Document doc = db.parse(is);
                    doc.getDocumentElement().normalize();
                    NodeList nodeList;
                    nodeList = doc.getElementsByTagName("TotalPoints");
                    Log.d("Background", "TotalPoints " + nodeList);

                    for (int i = 0; i < nodeList.getLength(); i++) {
                        Node name = nodeList.item(i);
                        NodeList nodeEle = name.getChildNodes();
                        strTotalPoints = ((Node) nodeEle.item(0)).getNodeValue();
                        Log.d("Background", "TotalPoints " + nodeList);

                    }

                    nodeList = doc.getElementsByTagName("ChallengesPlayed");

                    for (int i = 0; i < nodeList.getLength(); i++) {
                        Node name = nodeList.item(i);
                        NodeList nodeEle = name.getChildNodes();
                        strChallengesPoint = ((Node) nodeEle.item(0)).getNodeValue();

                                            }

                    android.os.Message msg = Message.obtain();
                    msg.what = 11;
                    handler.sendMessage(msg);

                    /**
                     * Check whether it is my points or high score
                     */
                    switch (flagMypointsOrHighScore) {
                    case 0:
                        nodeList = doc.getElementsByTagName("UserScore");

                        // Define Array based on nodelist

                        arrLength = nodeList.getLength();
                        strGameid = new String[arrLength];
                        strGameNameArr = new String[arrLength];
                        strGameLocationArr = new String[arrLength];
                        strGameDate = new String[arrLength];

                        String[] strXMLTag = { "GameId", "GameName", "Location", "Date" };
                        for (int i = 0; i < arrLength; i++) {

                            Node node = nodeList.item(i);
                            Log.d("scoreList", "node " + node);
                            Element fstElmnt = (Element) node;
                            Log.d("scoreList", "fstElmnt " + fstElmnt);
                            for (int j = 0; j < strXMLTag.length; j++) {
                                NodeList scoreList = fstElmnt.getElementsByTagName(strXMLTag[j]);
                                                                Element scoreElement = (Element) scoreList.item(0);
                                                                scoreList = scoreElement.getChildNodes();
                                                                switch (j) {
                                case 0:
                                    strGameid[i] = ((Node) scoreList.item(0)).getNodeValue();
                                                                        break;

                                case 1:
                                    strGameNameArr[i] = ((Node) scoreList.item(0)).getNodeValue();
                                                                        break;
                                case 2:

    strGameLocationArr[i]=((Node) scoreList.item(0)).getNodeValue();

                                    break;

                                case 3:
                                    strGameDate[i] = ((Node) scoreList.item(0)).getNodeValue();
                                                                        break;
                                }

                            }

                        }// End of for loop
                            // Your rank

                        break;

                    case 1:// Top rank 5

                        nodeList = doc.getElementsByTagName("Top5Rank");

                        // Define Array based on nodelist

                        arrLength = nodeList.getLength();
                        strGameNameArr = new String[arrLength];
                        strGameLocationArr = new String[arrLength];
                        strGameDate = new String[arrLength];
                        for (int i = 0; i < arrLength; i++) {

                            Node node = nodeList.item(i);
                            Element fstElmnt = (Element) node;

                            NodeList rankList = fstElmnt.getElementsByTagName("Person");
                            //
                            int rankListLength = rankList.getLength();

                            if (strPersonNameArr == null) {
                                strPersonNameArr = new String[rankListLength];
                                strPersonRankArr = new String[rankListLength];
                                strPersoonPointsArr = new String[rankListLength];
                            }
                            for (int j = 0; j < rankListLength; j++) {
                                rankList = fstElmnt.getElementsByTagName("Person");
                                Element rankElement = (Element) rankList.item(j);
                                rankList = rankElement.getChildNodes();
                                strPersonNameArr[j] = rankElement.getAttribute("Name");

                                strPersonRankArr[j] = rankElement.getAttribute("Rank");

                                strPersoonPointsArr[j] = rankElement.getAttribute("Points");
                                                            }

                        }// End of for loop

                        break;

                    }// End of switch
                } catch (Exception e) {
                    // TODO: handle exception
                    e.printStackTrace();
                }// try below db 2try

            } catch (Exception e) {
                // TODO Auto-generated catch block

                if (e.toString().equalsIgnoreCase("java.net.SocketException: Network unreachable")) {
                    android.os.Message msg = android.os.Message.obtain();
                    msg.what = 0;
                    handler.sendMessage(msg);
                }
                e.printStackTrace();
            }

            return null;
        }// End of do in background method

        // do the stuff after the heavy task

        protected void onPostExecute(Void result) {
            android.os.Message msg = Message.obtain();
            switch (flagMypointsOrHighScore) {
            case 0:
                listViewMyPoints.setAdapter(new JR_LB_ListAdapter(ScoreboardActivity.this));
                break;
            case 1:
                listViewHighScores.setAdapter(new JR_LB_ListAdapter_HighScores(ScoreboardActivity.this));
                // Set textview value in the
                msg.what = 10;
                handler.sendMessage(msg);
                break;
            default:

            }

            if (this.dialog.isShowing()) {
                this.dialog.dismiss();
            }
        }// End of on post execute method

        @Override
        protected void onProgressUpdate(Void... values) {
            // TODO Auto-generated method stub
            Totalpoint.setText(strTotalPoints);
            challengeplay.setText(strChallengesPoint);
            txtViewRank.setText(strRank);
            txtViewPoint.setText(strPoint);
            txtViewPersonName.setText(strPersonName);
            Log.d("ProgressUpdate", "strTotalPoints " + strTotalPoints);
            Log.d("ProgressUpdate", "strChallengesPoint " + strChallengesPoint);
            Log.d("ProgressUpdate", "strRank " + strRank);
            Log.d("ProgressUpdate", "strPoint " + strPoint);
        }

    }// End of Asynchronous task class 
```

在异步任务之后，我通过意图将值传递给下一个活动。在那个值也传递为空。使用该值，我将进行进一步的活动。请告诉如何克服这个问题。

# java - 将焦点设置在 jtable 中的指定行上

> ID：12776084
> 
> 赞同：0
> 
> 时间：2012-10-08T06:01:34.030
> 
> 标签：java, swing, jtable

如何在指定行上获得焦点，`JTable`即如果单击第一行，第一行将获得焦点，如果我单击第二行，第二行将获得焦点，依此类推...

但是我需要将焦点放在指定的行上，即如果我想将焦点放在第一行上，它只会得到焦点，当我点击其他行时，它们不应该得到焦点。

我尝试了`getTable().requestFocus()`和`getTable().changeSelection(1, 1, false, false)`方法，但它不起作用。

谁能帮帮我吗？我是 Java Swing 的新手。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-08T06:11:52.447

您正在寻找的方法是[JTable#setRowSelectionInterval](http://docs.oracle.com/javase/7/docs/api/javax/swing/JTable.html#setRowSelectionInterval%28int,%20int%29)和[JTable#setColumnSelectionInterval](http://docs.oracle.com/javase/7/docs/api/javax/swing/JTable.html#setColumnSelectionInterval%28int,%20int%29)

# php - 如何在 PHP 中创建 Outlook 日历会议请求？

> ID：12776088
> 
> 赞同：14
> 
> 时间：2012-10-08T06:01:57.363
> 
> 标签：php, outlook, icalendar

有人可以指出我正确的方向吗？我知道这与附加 .ics 文件有关，但我只能将其下载到用户可以下载然后将事件导入到他们的 Outlook 日历中？如何以编程方式创建这些会议请求？

* * *

## 回答 #1

> 赞同：24
> 
> 时间：2014-01-28T10:50:35.253

这是多个参与者的工作示例：

```
<?php

    $to = 'boushh@arturito.net,bobafett@arturito.net';
    $subject = "Millennium Falcon";

    $organizer          = 'Darth Vader';
    $organizer_email    = 'darthvader@arturito.net';

    $participant_name_1 = 'Boushh';
    $participant_email_1= 'boushh@arturito.net';

    $participant_name_2 = 'Boba Fett';
    $participant_email_2= 'bobafett@arturito.net';  

    $location           = "Stardestroyer-013";
    $date               = '20131026';
    $startTime          = '0800';
    $endTime            = '0900';
    $subject            = 'Millennium Falcon';
    $desc               = 'The purpose of the meeting is to discuss the capture of Millennium Falcon and its crew.';

    $headers = 'Content-Type:text/calendar; Content-Disposition: inline; charset=utf-8;\r\n';
    $headers .= "Content-Type: text/plain;charset=\"utf-8\"\r\n"; #EDIT: TYPO

    $message = "BEGIN:VCALENDAR\r\n
    VERSION:2.0\r\n
    PRODID:-//Deathstar-mailer//theforce/NONSGML v1.0//EN\r\n
    METHOD:REQUEST\r\n
    BEGIN:VEVENT\r\n
    UID:" . md5(uniqid(mt_rand(), true)) . "example.com\r\n
    DTSTAMP:" . gmdate('Ymd').'T'. gmdate('His') . "Z\r\n
    DTSTART:".$date."T".$startTime."00Z\r\n
    DTEND:".$date."T".$endTime."00Z\r\n
    SUMMARY:".$subject."\r\n
    ORGANIZER;CN=".$organizer.":mailto:".$organizer_email."\r\n
    LOCATION:".$location."\r\n
    DESCRIPTION:".$desc."\r\n
    ATTENDEE;CUTYPE=INDIVIDUAL;ROLE=REQ-PARTICIPANT;PARTSTAT=NEEDS-ACTION;RSVP=TRUE;CN".$participant_name_1.";X-NUM-GUESTS=0:MAILTO:".$participant_email_1."\r\n
    ATTENDEE;CUTYPE=INDIVIDUAL;ROLE=REQ-PARTICIPANT;PARTSTAT=NEEDS-ACTION;RSVP=TRUE;CN".$participant_name_2.";X-NUM-GUESTS=0:MAILTO:".$participant_email_2."\r\n
    END:VEVENT\r\n
    END:VCALENDAR\r\n";

    $headers .= $message;
    mail($to, $subject, $message, $headers);    
?> 
```

如果您需要添加/删除选项，这里是 VCALENDAR 的参考： [维基百科上的 VCALENDAR](http://en.wikipedia.org/wiki/ICalendar)

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2012-10-08T06:13:29.243

您可以以编程方式生成 .ics :)

就是这样：

*   [使用 ICAL 从 PHP 向 Microsoft Outlook 添加事件](https://dcblog.dev/adding-events-to-microsoft-outlook-from-php-using-ical)

```
<?php
    $date      = $_GET['date'];
    $startTime = $_GET['startTime'];
    $endTime   = $_GET['endTime'];
    $subject   = $_GET['subject'];
    $desc      = $_GET['desc'];

    $ical = "BEGIN:VCALENDAR
    VERSION:2.0
    PRODID:-//hacksw/handcal//NONSGML v1.0//EN
    BEGIN:VEVENT
    UID:" . md5(uniqid(mt_rand(), true)) . "example.com
    DTSTAMP:" . gmdate('Ymd').'T'. gmdate('His') . "Z
    DTSTART:".$date."T".$startTime."00Z
    DTEND:".$date."T".$endTime."00Z
    SUMMARY:".$subject."
    DESCRIPTION:".$desc."
    END:VEVENT
    END:VCALENDAR";

    //set correct content-type-header
    header('Content-type: text/calendar; charset=utf-8');
    header('Content-Disposition: inline; filename=calendar.ics');
    echo $ical;
    exit;
?> 
```

# php - 如何使用 jquery/javascript 读取文件（带窗口路径）然后上传到另一台服务器或 pc

> ID：12776103
> 
> 赞同：0
> 
> 时间：2012-10-08T06:03:14.730
> 
> 标签：php, javascript, jquery, json

我想在 jQuery 和 PHP 中有一个代码，它将......

*   使用 jQuery/json 从 HTML 读取文件（Windows 路径，例如“C:\Documents and Settings\user\Desktop\Sample_CSV.csv”）

< HTML 代码 > 文件名 : < input type="file" name="FileToBeUploaded" id="FileToBeUploaded" >

*   使用 jQuery 和 PHP 上传到另一台服务器或 PC

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-08T06:06:11.580

这在 JavaScript 中是不可能的（尽管使用 Java 是可能的（例如 Webstart 应用程序））。您将不得不使用[jQuery-File-Upload](http://blueimp.github.com/jQuery-File-Upload/)`<input type="file" name="your-upload-name" />`等库。

# sql - SQL 查询执行不止一次？

> ID：12776105
> 
> 赞同：0
> 
> 时间：2012-10-08T06:03:41.337
> 
> 标签：sql, sql-server, security, design-patterns

我有 2 个表（A，B）和 1 个查询

我的查询是这样的

1.  从 A 中读取
2.  使用来自 A 的数据更新 B
3.  使用更新后的表 B，设置 A 的最终值。

示例执行可以在以下问题中找到： [Proper way to keep a single data in sql server?](https://stackoverflow.com/questions/12775845/proper-way-to-keep-a-single-data-in-sql-server)

现在，由于所有进程都已连接，因此此查询不应同时执行两次，或者由 2 个不同的用户执行，直到进程结束。我该如何防止这种情况？还是它已经像这样安全地工作了？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-08T06:10:21.563

**编辑：** 你必须在更新时使用一些锁来锁定数据库。[http://msdn.microsoft.com/en-us/library/ms173763.aspx](http://msdn.microsoft.com/en-us/library/ms173763.aspx)

你的伪代码：

```
 int x=(select val from tableB)+1
 query="update tableB set tableB.field="+x+"where......." 
 if query executed successfully:
   update tableA 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-08T07:07:39.133

我希望您的表 A 和 B 必须有一些`Primary Key`例如`EmployeeID`。在这种情况下，一个简单的解决方案是创建一个表（例如`Lock_Table`），该表记录被`EmployeeID`修改的beign。
所以在这里你需要这样：

```
BEGIN TRANSACTION  
1- Read EmployeeID From A   
2- Check if EmployeeID already exists in Lock_Table. If Yes then Quit Else insert that EmployeeID in Lock_Table
3- Update B with this data(EmployeeID in this case) from A   
4- Using the updated table B, set final value of A.   
5- Delete this EmployeeID from the Lock_Table   
 COMMIT TRANSACTION

On any error ROLLBACK the Transaction. 
```

希望能帮助到你。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-08T06:34:49.063

Use transaction lock :

```
SET TRANSACTION ISOLATION LEVEL SERIALIZABLE
GO

BEGIN TRANSACTION

--select * from A
-- update B ....
--update A

WAITFOR DELAY '00:00:02'   -- tables remain locked for 2 secs   hh:mm:ss

commit TRANSACTION 
```

during the transaction execution, any try to read or write from/to tables will timeout...

# rest - 如何从 Jira REST API 获取一段时间内的所有工作日志？

> ID：12776109
> 
> 赞同：12
> 
> 时间：2012-10-08T06:04:18.223
> 
> 标签：rest, jira

我正在使用 PHP 和 Jira REST API 编写一个应用程序，该应用程序需要生成一个特定时间段的报告，其中包含一个人在特定项目上花费的小时数。

为此，我需要一个电话，它会给出这样的东西。

例如：`For the period 01/01/2012 - 31/01/2012 give me the worklogs for project X.`

到目前为止，我发现的方法是在开始日期之后获取更新的问题，并再次按期间过滤每个问题的工作日志。

有更好的选择吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2015-01-08T19:35:45.547

正如许多人所说，没有直接的方法。但是，如果您有效地缩小搜索空间，那还不错。以下 PHP 代码在我的设置中运行得非常快，但当然，您的里程可能会有所不同：

```
<?php
$server   = 'jira.myserver.com';
$fromDate = '2012-01-01';
$toDate   = '2012-01-31';
$project  = 'X';
$assignee = 'bob';

$username = 'my_name';
$password = 'my_password';

$curl = curl_init();
curl_setopt($curl, CURLOPT_USERPWD, "$username:$password");
curl_setopt($curl, CURLOPT_RETURNTRANSFER, 1);
curl_setopt($curl, CURLOPT_FOLLOWLOCATION, 1);
curl_setopt($curl, CURLOPT_SSL_VERIFYPEER, 0);
curl_setopt($curl, CURLOPT_SSL_VERIFYHOST, 0);

# Give me up to 1000 search results with the Key, where
# assignee = $assignee  AND  project = $project
#  AND created < $toDate  AND  updated > $fromDate
#  AND timespent > 0
curl_setopt($curl, CURLOPT_URL, 
            "https://$server/rest/api/2/search?startIndex=0&jql=".
            "assignee+%3D+$assignee+and+project+%3D+$project+".
            "and+created+%3C+$toDate+and+updated+%3E+$fromDate+".
            "and+timespent+%3E+0&fields=key&maxResults=1000");

$issues = json_decode(curl_exec($curl), true);
foreach ($issues['issues'] as $issue) {
    $key = $issue['key'];
    # for each issue in result, give me the full worklog for that issue
    curl_setopt($curl, CURLOPT_URL,
                "https://$server/rest/api/2/issue/$key/worklog");

    $worklog = json_decode(curl_exec($curl), true);
    foreach ($worklog['worklogs'] as $entry) {
        $shortDate = substr($entry['started'], 0, 10);
        # keep a worklog entry on $key item,
        # iff within the search time period
        if ($shortDate >= $fromDate && $shortDate <= $toDate)
            $periodLog[$key][] = $entry;
    }
}
# Show Result:
#  echo json_encode($periodLog);
#  var_dump($periodLog);
?> 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-10-14T11:11:13.257

如果您找不到可以满足您要求的开箱即用功能，我可以考虑除您之外的其他三种解决方案：

1.  [直接查询数据库，](https://developer.atlassian.com/display/JIRADEV/Database+Schema#DatabaseSchema-Worklogs)这样您就可以使用一个查询来获取工作日志。确保不要直接插入/删除/更新数据库，而只是查询它。
2.  使用诸如[Jira Scripting Suite](https://marketplace.atlassian.com/plugins/com.quisapps.jira.jss)或[Behaviors Plugin](https://marketplace.atlassian.com/plugins/com.onresolve.jira.plugin.Behaviours)之类的东西来添加将工作日志写入磁盘某处的脚本。然后使用另一个应用程序从磁盘读取写入的信息并将其显示给用户。
3.  使用[速度插件](http://www.tempoplugin.com/)

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2016-03-16T00:20:05.393

值得指出的是，Jira 查询有一个`expand`选项，允许您指定要附加到搜索的字段：

```
// Javascript
$jql = 'project = MyProject and updated > 2016-02-01 and updated < 2016-03-01';

// note this definition
$fields = 'key,summary,worklog';

$query = "https://{server}/rest/api/2/search?maxResults=100&fields={fields}&jql={jql}"
  .replace(/{server}/g,$server)
  .replace(/{jql}/g,encodeURIComponent($jql))
  .replace(/{fields}/g,$fields)
  ; 
```

返回的 JSON 对象将是一个工单列表，每个工单将附加一组工作项（可能长度为零）。

Javascript 而不是 PHP，但同样的想法也成立：

```
function getJql(params){
    $.ajax({
        url: getJiraUrl() 
            + "/rest/api/2/search?startIndex=0&fields=worklog,assignee,status,key,summary&maxResults=1000&jql=" 
            + encodeURI(params.jql),
        success: function (resp) {
            resp.issues.forEach(function(issue) {
                issue.fields.worklog.worklogs.forEach(function(work){
                    alert(JSON.stringify(work));
                    db.AddWork(work);
                });
            });
        }
    });
} 
```

发布在 GitLab：[https ://gitlab.com/jefferey-cave/ProductivityBlockers/blob/5c4cb33276e8403443d4d766fc94ab2f92292da6/plugin-data-jira.js](https://gitlab.com/jefferey-cave/ProductivityBlockers/blob/5c4cb33276e8403443d4d766fc94ab2f92292da6/plugin-data-jira.js)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-09T13:30:18.857

我个人用于同类应用程序的方法是每周从 JIRA 获取所有记录，然后从存储它们的数据库中生成报告。

这样，如果发生重大 JIRA 崩溃，您也可以获得可用的数据。当 RAID 阵列烧毁并且大部分数据无法恢复时，我们公司在 OnDemand 实例中遇到了这样的问题。

# iphone - 从字符串中获取不同的数据类型值并将它们分开

> ID：12776112
> 
> 赞同：1
> 
> 时间：2012-10-08T06:04:35.053
> 
> 标签：iphone, nsstring, qr-code

我正在使用 QR 码并在扫描后获取用户名、事件标题和票证代码。我需要在三个不同的字符串中分别获取这些值，以便我可以将它们保存在 sqlite 中。我只想知道如何进行这种分离，节省是我能做的。提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-08T06:24:26.470

```
- (void)saveData {
    sqlite3_stmt    *statement;

    const char *dbpath = [databasePath UTF8String];

    if (sqlite3_open(dbpath, &contactDB) == SQLITE_OK)
    {
        NSString *insertSQL = [NSString stringWithFormat: @"INSERT INTO CONTACTS (name, address, phone) VALUES (\"%@\", \"%@\", \"%@\")", @"NameString", @"Address", @"Phone"];

        const char *insert_stmt = [insertSQL UTF8String];

        sqlite3_prepare_v2(contactDB, insert_stmt, -1, &statement, NULL);
        if (sqlite3_step(statement) == SQLITE_DONE)
        {
            NSLog(@"Success");
        } else {
            NSLog(@"Failed");
        }
        sqlite3_finalize(statement);
        sqlite3_close(contactDB);
    }
} 
```

**注意** 如果您发布您获得的字符串类型，我将添加您必须如何拆分它。以下是如何拆分的示例

```
NSArray arrResult = [str componentsSeparatedByString:@"-"]; 
```

**或按字符集**

```
NSString* str = @"A string with newlines in it";

NSArray *arrTemp =  [str componentsSeparatedByCharactersInSet:[NSCharacterSet whitespaceCharacterSet]]; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-08T06:16:54.910

您可以使用`componentsSeparatedByString`

```
NSString *str = @"userName:Password:etc";
NSArray* parts1 = [str componentsSeparatedByString:@":"];     
NSLog(@" [[parts1 objectAtIndex:0] integerValue]=%d", [[parts1 objectAtIndex:0] integerValue]);

//the output will be: username for index 0, and so on 
```

# c# - 应用程序域隔离

> ID：12776115
> 
> 赞同：0
> 
> 时间：2012-10-08T06:05:00.357
> 
> 标签：c#, .net, clr

## “应用程序域提供的隔离具有以下好处：

一个应用程序中的故障不会影响其他应用程序。因为类型安全代码不会导致内存故障，所以使用应用程序域可以确保在一个域中运行的代码不会影响进程中的其他应用程序。”## [http://msdn.microsoft.com/en-us/library/2bh4z9hs.aspx](http://msdn.microsoft.com/en-us/library/2bh4z9hs.aspx)

以上文字来自The MSDN，

我的问题是，

> 1、句子中的“Faults”是指异常，还是别的什么？
> 
> 2，什么是“一个应用程序中的故障不能影响其他应用程序”是什么意思？，是不是意味着如果一个应用程序域中抛出异常，该异常不会导致其他应用程序域崩溃，对吗？能给我举个例子 ？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-08T06:32:59.067

这篇文章谈到了内存隔离。与 C/C++ 不同，托管代码不能任意修改内存（没有`unsafe`），因此在一个 AppDomain 中运行的托管代码不会损坏其他 AppDomain 中的内存。即托管运行时可以防止缓冲区溢出类型的错误，同时在 C/C++ 中很容易实现，例如`int arr[4]; arr[-1]=2;`.

异常不限于 AppDomain（或者更确切地说，在有/没有 AppDomain 的情况下行为相似） - 大多数异常只会影响调用引发异常的方法的代码，默认情况下，一些（即 StackOverflow）将终止进程。如果正常异常未处理，通常会导致进程终止。如果堆栈上的代码指向多个 AppDomain，则异常可以自由地跨越 AppDomain 边界。

# c# - FixedDocument 作为报告引擎？

> ID：12776117
> 
> 赞同：2
> 
> 时间：2012-10-08T06:05:23.867
> 
> 标签：c#, wpf, reporting

我想知道使用 WPF`FixedDocument`作为报告引擎。有没有人有这样的经历？有哪些可能的陷阱？

我现在正在开发的一个应用程序，必须打印一些报告。这些是订单，发票 - 也就是说，没有什么不寻常的。最近，我查看了`FlowDocument`一些`FixedDocumet`概念，我发现了，也`FixedDocumet`就是理论上我需要的东西。

比，我草拟了一份样本报告，但遇到了一个问题：

```
 <PageContent>
        <FixedPage Width="793.76" Height="1122.56" Margin="50,50,50,50" PrintTicket="">
            <ListView Width="Auto" Height="Auto" ItemsSource="{Binding}">
                <ListView.View>
                    <GridView>
                        <GridViewColumn Header="First name" 
                                        Width="200"
                                        DisplayMemberBinding="{Binding FirstName}"/>
                        <GridViewColumn Header="Last name" 
                                        Width="200"
                                        DisplayMemberBinding="{Binding LastName}"/>
                    </GridView>
                </ListView.View>
            </ListView>
        </FixedPage>
    </PageContent> 
```

![固定文档的页脚](../Images/d2e0eff7611715a1df108ee291b48ca0.png)

报告中的一种常见做法是将长表类数据拆分为多个页面（例如，包含 1000 个项目的发票）。此外，用户通常可以选择在每一页上重复表头，或者不重复。

有什么开箱即用的方法可以用`FixedPage`/做到这一点`ItemsControl`吗？
如果不是，如何在运行时定义当前要渲染的项目不在页面中？只要固定页面只是一组 UIElements，我就可以动态生成它们。

PS 我知道不同的商业报告引擎，问题不在于它们。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-08T07:59:05.460

我的经验表明，FixedDocument 在打印/自定义解决方案方面完全没用。

首先，它甚至默认不支持打印多页。您需要具有该功能的自定义 DocumentPaginator。

我的两分钱就是，不要用。使用 ReportViewer。很大的灵活性。

使用 FixedDocument 可以完成所有工作，但成本/时间不值得。这与比较 ASM 和高级语言几乎相同。是的，你可以在 ASM 中做任何事情，但这不值得。

FixedDocument 不能真正称为报告引擎，因为它没有任何“类似引擎”的功能。

# asp.net-mvc - 在 MVC 的 ViewModel 中包含业务逻辑是否有意义？

> ID：12776119
> 
> 赞同：1
> 
> 时间：2012-10-08T06:05:31.580
> 
> 标签：asp.net-mvc, asp.net-mvc-3, design-patterns, viewmodel

目前我正在使用：存储库、工作单元模式、服务层和视图模型来开发 Asp.Net MVC。

在这个项目中，每个视图都链接到一个 ViewModel 类，控制器是瘦的，因此业务层位于服务层上。

我在控制器中创建 ViewModel 类的实例并将其传递给这样的视图

```
 public ActionResult Create()
    {
        EventCreateViewModel eventViewModel = new EventCreateViewModel();
        return View(eventViewModel);
    } 
```

在一些 ViewModel 中我用来调用服务层。

系统可以工作，但我想知道在 ViewModel 中添加对服务层的调用是否是个好主意，或者更好的是将此操作留给控制器。

* * *

```
 public class EventCreateViewModel
    {

        public CandidateListViewModel CandidateList = new CandidateListViewModel();

        public EventCreateViewModel()
        {
            DateTimeStart = DateTime.UtcNow;    // Add a default value when a Date is not selected
        }
    }
} 
```

* * *

```
using System;
using System.Collections.Generic;
using System.Linq;
using System.Web;

using System.Web.Mvc;
using System.ComponentModel.DataAnnotations;

    using System;
    using System.Collections.Generic;
    using System.Linq;
    using System.Web;

    using XXX.Models;
    using XXX.Service;

        namespace XXX.ViewModels
        {
            public class CandidateListViewModel
            {
                // We are using the Service Layer
                private ICandidateBL serviceCandidate;

                // Property
                public IDictionary<string, string> Candidates = new Dictionary<string, string>();

                // An utility method that convert a list of Canddates from Enumerable to SortedDictionary
                // and save the result to an inner SortedDictionary for store
                public void ConvertSave(IEnumerable<Candidate> candidates)
                {
                    Candidates.Add("None", "0");    // Add option for no candidate
                    foreach (var candidate in candidates)
                        Candidates.Add(candidate.Nominative, candidate.CandidateId.ToString());
                }

                #region Costructors
                public CandidateListViewModel()
                {
                    serviceCandidate = new CandidateBL();
                    ConvertSave(serviceCandidate.GetCandidates());
                }

                // Dependency Injection enabled constructors
                public CandidateListViewModel(ICandidateBL serviceCandidate)
                {
                    this.serviceCandidate = serviceCandidate;
                }

                public CandidateListViewModel(IEnumerable<Candidate> candidates)
                {
                    serviceCandidate = new CandidateBL();
                    ConvertSave(candidates);
                }
                #endregion
            }
        } 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-08T06:10:18.107

控制器是应该控制的组件，可以这么说。ViewModel 应该只是一个数据容器，仅此而已。

记住单一职责原则。一旦你开始分配逻辑，记住和理解所有活动部分将变得越来越困难。

# javascript - 设置可观察值后清除 jQuery 事件

> ID：12776132
> 
> 赞同：1
> 
> 时间：2012-10-08T06:06:59.083
> 
> 标签：javascript, jquery, knockout.js

我有一个初始化函数应用 Knockout 绑定并使用 jQuery 委托绑定其他一些事件。

```
init = function (){

    ko.applyBindings(_data);

    $('#tabs').tabs();

    $('#container').delegate(".expand_all", "click", (function () {...})
} 
```

视图模型有一个 observable 和一个在 ajax 调用后改变 observable 的函数：

```
function(data){

    var self = this;
    var name = ko.observable(data.name);

    self.changeName = function(){
        getName(function(data){
            ......
            self.name(data.name);
            ......
            ......
        }
    }
} 
```

HTML 标记

```
<div id="container">
    <a href='#' data-bind='click: changeName'></a>
    <div id="tabs">
          <ul>
                 <li>......</li>
                 <li>......</li>
          </ul>
    </div>
    <a href='#' class="expand_all"></a>
</div> 
```

奇怪的是，在 changeName 被触发后，#tabs 和 #div 上的事件绑定都丢失了。

有人请阐明一下吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-08T08:30:59.140

knockout.js observables 应该是公开的，而不是私有的：

```
self.name = ko.observable(data.name); 
```

如前所述，回调中没有`self.name()`可用的函数，因为该变量被错误地声明为私有。`self.changeName()``name`

您很可能会在浏览器的控制台中发现异常。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-08T08:20:29.037

自定义绑定会解决您的问题吗？

```
ko.bindingHandlers.myBindingName = {
    init: function(element, valueAccessor, 
                   allBindingsAccessor, viewModel, bindingContext) {

        var $elem = $(element);
        // Apply event handler on $elem

    },
    update: function(element, valueAccessor, 
                     allBindingsAccessor, viewModel, bindingContext) {

        // Handle value updated here

    }
}; 
```

在您的标记中：

```
<a href='#' data-bind='myBindingName: changeName'></a> 
```

# iphone - 如何对包含特定字符串名称的字典数据进行分叉？

> ID：12776135
> 
> 赞同：1
> 
> 时间：2012-10-08T06:07:21.963
> 
> 标签：iphone, objective-c, cocoa-touch, ios4

在我的应用程序中，我得到了 MutableDictionary 中的数据，如下所示，

```
 ApproverDetails:(
    {
    "APPROVER_ID" = "5000";
    "APPROVER_USER_NAME" = "38400 user";
    "END_DATE" = "12/29/10";
    "START_DATE" = "12/14/10";
    "SUBSTITUTE_ID" = SUPERVISOR;
    "SUBSTITUTE_USER_NAME" = "ACCESS ONLY";
    },
    {
    "APPROVER_ID" = "6000";
    "APPROVER_USER_NAME" = "ACCESS ONLY";
    "END_DATE" = "12/31/10";
    "START_DATE" = "12/15/10";
    "SUBSTITUTE_ID" = SSEEMON;
    "SUBSTITUTE_USER_NAME" = "Sunil Seemon";
    },
    {
    "APPROVER_ID" = "7000";
    "APPROVER_USER_NAME" = mit;
    "END_DATE" = "11/22/10";
    "START_DATE" = "11/09/10";
    "SUBSTITUTE_ID" = 2000;
    "SUBSTITUTE_USER_NAME" = mitul;
   }
 ) 
```

从上面的字典中，我希望通过**以“ACC”开头的键“Approved_User_Name”来分叉数据**

并将分叉的数据放入其他数组。

请建议我该怎么做？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-08T06:15:19.300

您可以使用 NSPredicate 获取数据，如下所示：

```
NSPredicate *predicate = [NSPredicate predicateWithFormat:@"APPROVER_USER_NAME BEGINSWITH[cd] ACC"];
searchResults = [[ApproverDetails filteredArrayUsingPredicate:predicate] mutableCopy]; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-08T06:18:40.050

试试这个

```
NSMutableArray *bifurcateArray=[[NSMutableArray alloc]initWithArray:nil];
for (NSDictionary *temp in ApproverDetails) {
    NSString *string=[temp objectForKey:@"APPROVER_USER_NAME"];
    if ([string rangeOfString:@"ACC"].location!=NSNotFound && [string rangeOfString:@"ACC"].location==0 ) {
        [bifurcateArray addObject:temp];
    }
}
NSLog(@"bifurcated data : %@",bifurcateArray); 
```

# html - 用 HTML4 编写的网站的 Flash 播放器

> ID：12776136
> 
> 赞同：0
> 
> 时间：2012-10-08T06:07:28.687
> 
> 标签：html, flash, html4

我想在我的网站上放一个**.swf** 格式的 flash 电影，所以我需要一个在浏览器中运行的 flash 播放器。
我发现了类似[flowplayer](http://www.flowplayer.org)的东西，但它似乎适用于 HTML5。我需要一个用于 HTML4 的免费 Flash 播放器。

你知道有什么建议吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-08T13:25:25.193

我使用[jw 播放器](http://www.longtailvideo.com/players)和嵌入模式做到了 :)

# silverlight - 每一行的 Selectionchanged 事件触发

> ID：12776141
> 
> 赞同：0
> 
> 时间：2012-10-08T06:08:11.670
> 
> 标签：silverlight, xaml, mvvm, datagrid

我在 datagrid 中使用级联组合框。我能够根据 selectionchanged 获取数据，但该事件为每一行触发。这是我的代码：

```
<sdk:datagridtemplatecolumn header="Category" width="110">

    <sdk:datagridtemplatecolumn.celltemplate>
        <datatemplate>                                    
            <combobox foreground="Black" height="30" isenabled="{Binding Source={StaticResource EffortViewModel}, Path=ComboBoxStatus}" itemssource="{Binding Source={StaticResource EffortViewModel},Path=ProjTypeTaskCtry}" displaymemberpath="TaskCtgyName" selectedvaluepath="TaskCtgy_FK" selectedvalue="{Binding Source={StaticResource EffortViewModel}, Path=TaskCtgy_FKField,Mode=TwoWay}" />
        </datatemplate>
    </sdk:datagridtemplatecolumn.celltemplate>
</sdk:datagridtemplatecolumn>

<sdk:datagridtemplatecolumn header="SubCategory" width="110">

    <sdk:datagridtemplatecolumn.celltemplate>
        <datatemplate>
            <combobox foreground="Black" height="30" isenabled="{Binding Source={StaticResource EffortViewModel}, Path=ComboBoxStatus}" itemssource="{Binding Source={StaticResource EffortViewModel},Path=SubCtry,Mode=OneWay}" displaymemberpath="TaskSubCtgyName" selectedvaluepath="{Binding TaskSubCtgy_PK, Mode=TwoWay}" selectedvalue="{Binding TaskSubCtgy_FKField,Mode=OneTime}" selectedindex="{Binding TaskSubCtgy_FKField}" /> 
        </datatemplate>
    </sdk:datagridtemplatecolumn.celltemplate>
</sdk:datagridtemplatecolumn> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-08T07:38:21.233

我在 Silverlight MVVM 中遇到了同样的问题。我从某个地方找到了解决方案。希望这会帮助你。

```
namespace Test
{

     public class ComboBoxSelectionChange : TriggerAction<DependencyObject>
         {
           public ComboBoxSelectionChange()
            {
            }
       public ComboBox DayComboBox
       {
         get { return (ComboBox)GetValue(DayComboBoxProperty); }
         set { SetValue(DayComboBoxProperty, value); }
        }

       public static readonly DependencyProperty DayComboBoxProperty =
                         DependencyProperty.Register("DayComboBox",
                         typeof(ComboBox),
                         typeof(ComboBoxSelectionChange),
                         new PropertyMetadata(null, OnDayComboBoxPropertyChanged));

       private static void OnDayComboBoxPropertyChanged(DependencyObjectd, DependencyPropertyChangedEventArgs e)
          {
             var source = d as ComboBoxSelectionChange;
             if (source != null)
              {
                var value = (ComboBox)e.NewValue;
              }
          }

       protected override void Invoke(object o)
         {
            if (this.DayComboBox != null)
              {
                //this method will execute when the selection is changed
              }
         }

     }
 } 
```

在 Usercontrol 程序集中使用 Test 命名空间

```
 xmlns:Common="clr-namespace:Test"

  <UserControl.Resources>
        <Common:ComboBoxSelectionChange x:Name="ComboBoxItem"/>
  </UserControl.Resources>

     <DataTemplate x:Key="EditMondayDataTemplate">
        <ComboBox x:Name="cmbMonday" Height="26" Margin="3" ItemsSource="{Binding Monday,Mode=OneTime}" DisplayMemberPath="displayText" SelectedItem="{Binding Path=MonSelected,Mode=TwoWay}" HorizontalAlignment="Center" VerticalAlignment="Center" Width="80">
            <i:Interaction.Triggers>
                  <i:EventTrigger EventName="SelectionChanged">
                        <Common:ComboBoxSelectionChange DayComboBox="{Binding ElementName=cmbMonday}" TextParam="Monday"/>
                  </i:EventTrigger>
            </i:Interaction.Triggers>
        </ComboBox>         
    </DataTemplate> 
```

# java - 动态添加来自不同类的文本框和 JSlider

> ID：12776144
> 
> 赞同：0
> 
> 时间：2012-10-08T06:08:25.727
> 
> 标签：java, swing, layout-manager, jslider

我想在单击按钮时动态添加文本字段，但要获取的值和按钮在一个类中，而我要添加相邻的文本框和滑块的面板在不同的类中。代码是 -

```
public class TipSplitting extends JPanel 

JLabel lblNoOfGuests = new JLabel("No. Of guests");
    lblNoOfGuests.setBounds(10, 26, 95, 14);
    add(lblNoOfGuests);

private JTextField noofguests = new JTextField();
    noofguests.setBounds(179, 23, 86, 20);
    add(noofguests);
    noofguests.setColumns(10);
JButton btnTiptailoring = new JButton("TipTailoring");
    btnTiptailoring.setBounds(117, 286, 89, 23);
    add(btnTiptailoring);

public class TipTailoring extends JPanel {} 
```

在这个类中，我需要根据 no 动态创建文本字段。进入。在变量`noofguests`和上一个类中的按钮的单击中。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-08T07:58:35.450

我真的看不出有什么问题，但这里有一些你所描述的简单演示代码。

```
import java.awt.BorderLayout;
import java.awt.FlowLayout;
import java.awt.GridBagConstraints;
import java.awt.GridBagLayout;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;

import javax.swing.JButton;
import javax.swing.JFormattedTextField;
import javax.swing.JFrame;
import javax.swing.JLabel;
import javax.swing.JPanel;
import javax.swing.JScrollPane;
import javax.swing.JTextField;
import javax.swing.SwingUtilities;

public class TestDynamicallyAddedTextFields {

    private void initUI() {
        JFrame frame = new JFrame(TestDynamicallyAddedTextFields.class.getSimpleName());
        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
        final JPanel textfieldContainerPanel = new JPanel();
        textfieldContainerPanel.setLayout(new GridBagLayout());
        JLabel nrOfGuests = new JLabel("Nr. of guests");
        final JFormattedTextField textfield = new JFormattedTextField();
        textfield.setValue(Integer.valueOf(1));
        textfield.setColumns(10);
        JButton add = new JButton("Add");
        add.addActionListener(new ActionListener() {

            @Override
            public void actionPerformed(ActionEvent e) {
                if (textfield.getValue() != null) {
                    addTextFieldsToPanel((Integer) textfield.getValue(), textfieldContainerPanel);
                }
            }
        });
        JPanel panel = new JPanel(new FlowLayout(FlowLayout.LEADING));
        panel.add(nrOfGuests);
        panel.add(textfield);
        panel.add(add);
        frame.add(panel, BorderLayout.NORTH);
        frame.add(new JScrollPane(textfieldContainerPanel));
        frame.setSize(300, 600);
        frame.setLocationRelativeTo(null);
        frame.setVisible(true);
    }

    protected void addTextFieldsToPanel(Integer value, JPanel textfieldContainerPanel) {
        GridBagConstraints gbc = new GridBagConstraints();
        gbc.gridwidth = GridBagConstraints.REMAINDER;
        gbc.gridheight = 1;
        for (int i = 0; i < value; i++) {
            textfieldContainerPanel.add(new JTextField(20), gbc);
        }
        textfieldContainerPanel.revalidate();
        textfieldContainerPanel.repaint();
    }

    public static void main(String[] args) {
        SwingUtilities.invokeLater(new Runnable() {

            @Override
            public void run() {
                new TestDynamicallyAddedTextFields().initUI();
            }
        });
    }

} 
```

结果：

![结果图片](../Images/9b6532c3e14b608ce4dd463fe24757cc.png)

# ios5 - Network Link Conditioner 不能与 Reachability 一起使用？

> ID：12776146
> 
> 赞同：1
> 
> 时间：2012-10-08T06:08:49.610
> 
> 标签：ios5, afnetworking, reachability

Network Link Conditioner 是 Apple 提供的开发工具，但似乎不能与其他工具 Reachability 一起使用。

Network Link Conditioner 是模拟 3G/Edge/Wifi 网络案例的工具。可达性是识别不同的网络案例。

有没有人有这样的经验让他们一起工作？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2015-03-04T14:25:34.473

可达性不会测试网络的速度来确定它是什么类型。可达性是关于接口的可用性（飞行模式与非飞行模式，wifi 开/关）。

重要的提示：

> 当应用程序发送到网络堆栈的数据包可以离开本地设备时，远程主机被认为是可达的。可达性并不能保证数据包会真正被主机接收。

来自 Apple 的[SCNetworkReachability](https://developer.apple.com/library/ios/documentation/SystemConfiguration/Reference/SCNetworkReachabilityRef/index.html#//apple_ref/doc/uid/TP40007260)文档。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-13T00:23:32.083

你不应该对可达性有任何问题，因为它实际上只是告诉你是否有网络连接，而不是它的运行情况。唯一的区别在于 Wifi 和蜂窝网络之间，而不是不同速度或蜂窝连接之间的区别。

# javascript - WordPress 没有使用我的 javascript？

> ID：12776149
> 
> 赞同：1
> 
> 时间：2012-10-08T06:09:17.717
> 
> 标签：javascript, wordpress, twitter-bootstrap, wordpress-theming

我正在尝试使用 jQuery 创建 ajax 表单提交和验证，但 wordpress 拒绝执行我的代码。

我有这个片段，在[http://jsfiddle.net上工作](http://jsfiddle.net)

```
$(document).ready(function(){
    alert("Test");
    $('.sendbutton').click(function(){
        var nimi = $('input[name=nimi]').val();
        var viesti = $('textarea[name=viesti]').val();
        $('.control-group').removeClass("error");

        if(nimi == ""){
        $('.control-group#nimi').addClass("error");
        return false;    
        }
        if(viesti == ""){
        $('.control-group#viesti').addClass("error");
        return false;    
        }
        var message = $('#contact').serialize();
        alert(message);return false;
        $.ajax({
        data : message,
        error : function(){alert('Viestiäsi ei lähetetty. Yritä uudelleen?');},
        success : function(){alert('Onnistui');}

        });
        return false;
    });
});​ 
```

但它不适用于 wordpress 或我的主题。我正在使用 Roots 主题（Twitter Bootstrap），我尝试将代码放在 plugins.js 中，因为 jQuery UI 正在工作，我把它放在那里，但没有。包括来自不同文件的脚本

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-08T06:47:30.547

来自法典：

> WordPress 附带的 jQuery 库以“[无冲突](http://docs.jquery.com/Using_jQuery_with_Other_Libraries)”模式加载。这是为了防止与 WordPress 可以加载的其他 javascript 库的兼容性问题。

[http://codex.wordpress.org/Function_Reference/wp_enqueue_script#jQuery_noConflict_wrappers](http://codex.wordpress.org/Function_Reference/wp_enqueue_script#jQuery_noConflict_wrappers)

你应该使用：

```
jQuery(document).ready(function($) {
    // $() will work as an alias for jQuery() inside of this function
}); 
```

# mysql - Hibernate 使用 InnoDB 而不是 MyISAM

> ID：12776151
> 
> 赞同：0
> 
> 时间：2012-10-08T06:09:50.697
> 
> 标签：mysql, hibernate, glassfish-3

创建表时如何让休​​眠状态使用 InnoDB 而不是 MyISAM？Hibernate的建议[：创建 Mysql InnoDB 表而不是 MyISAM](https://stackoverflow.com/questions/1459265/hibernate-create-mysql-innodb-tables-instead-of-myisam)对我不起作用。

我正在使用 Glassfish 3.1.2 和 MySql 5。我还在 Mac OSX Lion 上通过 XAMPP 安装了 MySQL。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-09T00:33:51.497

经过大量研究，我了解到将数据库默认设置为 InnoDB 并不是一个好习惯。给出了很多原因，例如 InnoDB 价格昂贵。鉴于所有原因，我得出的结论是，如果将 InnoDB 设为默认是最佳实践，那么很可能数据库会被配置为这样。所以我一直在寻找不同的解决方案。

无论如何，解决方案是这样的：转到 glassfish 并将以下属性添加到有问题的 JDBC 连接池中。

```
Name: SessionVariables
Value: storage_engine=InnoDB. 
```

这对我来说就像一个魅力。如果有人有更好的解决方案，我真的很想听听。

# python - 最后坐标值返回零

> ID：12776153
> 
> 赞同：0
> 
> 时间：2012-10-08T06:10:01.573
> 
> 标签：python, list

当假定返回坐标[] 的先前值时，last_coordinate[] 值返回零。它从摄像头实时读取数据，该摄像头告诉检测到的物体的坐标。我实现 last_coordinates 值的原因是为了比较以前的坐标值和新的坐标值来区分它们并执行一个动作。我该如何解决？

```
 import socket
    import os,sys
    import time
    from threading import Thread

    HOST = '59.191.193.67'
    PORT = 5555

    coordinates = []

    def connect():   
        globals()['client_socket'] = socket.socket(socket.AF_INET, socket.SOCK_STREAM)
        client_socket.connect((HOST,PORT))

    def update_coordinates():
        screen_width = 0
        screen_height = 0
        global last_coordinates
        last_coordinates = [0 for _ in range(19)]
        while True:
            try:
                client_socket.send("loc\n")
                data = client_socket.recv(8192)
            except:
                connect();
                continue;

            globals()['coordinates'] = data.split()
            if(not(coordinates[-1] == "eom" and coordinates[0] == "start")):
                continue

            if (screen_width != int(coordinates[2])):
                    screen_width = int(coordinates[2])
                    screen_height = int(coordinates[3])
                    return

            if (coordinates != last_coordinates):
                 return last_coordinates[16:19]
            last_coordinates = coordinates[:]

Thread(target=update_coordinates).start() 
```

# android - 如何启用输入类型提交按钮

> ID：12776165
> 
> 赞同：0
> 
> 时间：2012-10-08T06:11:07.283
> 
> 标签：android, cordova

我的 Android Phonegap 应用程序中有下拉列表和输入类型提交按钮。默认情况下，我禁用了提交按钮，我想启用下拉列表的按钮 onchange 事件。

我尝试了以下选项

```
$("buttonId").attr("disabled", false);

$("buttonId").removeAttr("disabled"); 
```

[http://forum.jquery.com/topic/disable-enable-button-in-form](http://forum.jquery.com/topic/disable-enable-button-in-form)

基于上述链接的书面事件监听器

但上述选项对我不起作用。有人可以帮我解决这个问题。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-08T08:56:09.510

请尝试下面的代码，用于根据下拉“dropList”的更改事件管理禁用/启用输入按钮。确保您没有在 HTML 中为输入提交按钮“default_sub”添加“禁用”属性。并假设页面 id 是默认的。

将以下代码放入 onDocumentReady 事件中。

```
//PageShow event task binding
$('#default').on('pageshow', function(){
    //setup disabled property for submit button.
    $("#default_sub").attr("disabled", "disabled");
});

//Submit button click for test alert only
$('#default_sub').on("tap, click", function(){
    alert("Submit : Pressed");
});

//Dropdowns onChange Event binding  
$('#dropList').on('change',function(){
    //Removing Disabled property
    $("#default_sub").removeAttr("disabled");
}); 
```

这段代码对我有用，可以根据 Dropdown 的 onchange 事件启用按钮。

上面的代码仅适用于 <'input type="submit"> 标签，但不会对其 UI 产生任何影响，如果您使用 jquery data-role="button" 和 div 那么您可以使用禁用和启用按钮将类“ui-disabled”添加到其类属性中。

谢谢，普拉尚特·阿格拉瓦尔

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-08T06:15:20.433

你试试这个。

```
document.getElementById('submitbuttonidhere').disabled = false; 
```

你也可以试试这个。

```
<input type="submit" name="submit" value="Next" disabled="disabled"/>
$("input[name='submit']").removeAttr('disabled'); 
```

# javascript - 通知其他 html 页面中的 javascript

> ID：12776166
> 
> 赞同：0
> 
> 时间：2012-10-08T06:11:15.283
> 
> 标签：javascript

我只是从 Objective-c 转移到 javascript 并开发基于 html 的应用程序。在 objc 中，ViewController 之间的通信有两种方式。1.protocol 2.post 通知

只是想知道javascript中是否有相同的机制？

欢迎任何评论

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-08T06:15:24.877

可能您可以查看 HTML5 的网络消息传递。

[http://dev.opera.com/articles/view/window-postmessage-messagechannel/](http://dev.opera.com/articles/view/window-postmessage-messagechannel/)

[http://en.wikipedia.org/wiki/Cross-document_messaging](http://en.wikipedia.org/wiki/Cross-document_messaging)

# wireshark - 如何使 tshark 可执行

> ID：12776168
> 
> 赞同：0
> 
> 时间：2012-10-08T06:11:45.163
> 
> 标签：wireshark, gcc-warning, strict-aliasing, tshark

下载并解压wireshark 1.7.1后，我做了一个禁用gtk的配置。但是，我无法做“make”它会引发以下错误。

cc1：警告被视为错误 packet-h248_annex_e.c:679：警告：取消引用类型双关指针将破坏严格的别名规则。

有人可以帮助构建和安装这个wireshark版本吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-08T10:09:32.743

看起来开发人员在此版本中留下了一些警告。尝试使用 --disable-warnings-as-errors 进行配置。

# c++ - 在openGL中绘制平面

> ID：12776172
> 
> 赞同：1
> 
> 时间：2012-10-08T06:12:03.817
> 
> 标签：c++, opengl, plane

我正在尝试使用从 Parasolid x_t 文件中读取的参数在 openGL 中绘制一个立方体。谁能指导我使用以下输入在openGL中绘制平面，

*   平面上的点
*   垂直于平面（单位向量）
*   平面的 x 轴（单位向量）

这些是我从 parasolid *.x_t 文件中读取的输入。使用它我必须找到 y 轴向量，它是法线和 x 轴的叉积。我完全对我应该在我的 c++ 代码中使用的过程或方程感到困惑，以便获得平面的其他三个点。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-08T06:20:40.417

给定法线 [nx,ny,nz]、X 向量 [xx,xy,xz] 和平面上的点 P=[px,py,pz]
然后 Y 向量 = N 交叉 X；

我们现在可以假设，*P*代表立方体面的左下角。
那么bottom_right = P+X，top_right = P+X+Y，top_left = P+Y。

# sql - SQL：选择包含完全给定成员的集合

> ID：12776178
> 
> 赞同：9
> 
> 时间：2012-10-08T06:12:43.630
> 
> 标签：sql

我确定有一个合适的词我不记得了，但问题很容易描述：我有一个表 groupmembers，这是组和成员之间的简单关系：

```
id | groupid | memberid
1  | g1      | m1
2  | g1      | m2
3  | g2      | m1
4  | g2      | m2
5  | g2      | m3 
```

上面描述了两组，一组是 m1 和 m2，一组是 m1、m2 和 m3。如果我想选择有成员 m1,m2 但没有其他成员的 groupids，我该怎么做？我尝试过的方法也会返回 g2，因为 m1 和 m2 是它们的子集。

**更新**：哇，一些很棒的答案！让我首先澄清一下我的问题——我希望能够选择与给定成员 m1 和 m2 完全匹配的组。因此，如果组还包含比 m1 和 m2 更多的成员，则它不应该匹配，如果组包含的成员少于 m1 和 m2，它也不应该匹配。

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-10-08T06:14:38.493

从你的短语

> *我想选择有成员 m1,m2 但没有其他成员的 groupid*

试试这个，背后的想法是`count`匹配条件和子句的记录的总实例，`where`并且它等于每组的记录总数。

```
SELECT groupid
FROM table1 a
WHERE memberid IN ('m1','m2')
GROUP BY groupid
HAVING COUNT(*) = 
(
  SELECT COUNT(*)
  FROM table1 b
  WHERE b.groupid = a.groupid
  GROUP BY b.groupID
) 
```

# [SQLFiddle 演示](http://sqlfiddle.com/#!6/d2778/7)

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-10-08T06:55:17.543

您正在寻找具有 m1 和 m2 的组与恰好具有两个成员的组之间的交集。SQL 有一个运算符：

```
select groupid
from group_table
where memberid in ('m1','m2')
group by groupid 
having count(distinct memberid) = 2
intersect
select groupid 
from group_table
group by groupid 
having count(distinct memberid) = 2 
```

（如果您使用的是 Oracle，`intersect`则称为`minus`）

这是一个 SQLFiddle 演示：[http ://sqlfiddle.com/#!12/df94d/1](http://sqlfiddle.com/#!12/df94d/1)

虽然我认为 John Woo 的解决方案在性能方面可能更有效。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-07-09T16:12:33.157

此查询有问题

```
SELECT groupid
FROM table1 a
WHERE memberid IN ('m1','m2')
GROUP BY groupid
HAVING COUNT(*) = 
(
  SELECT COUNT(*)
  FROM table1 b
  WHERE b.groupid = a.groupid
  GROUP BY b.groupID
) 
```

它将仅匹配具有 m1 或仅 m2 的组。为此，我们可以添加另一个计数检查

```
SELECT groupid
FROM table1 a
WHERE memberid IN ('m1','m2')
GROUP BY groupid
HAVING COUNT(*) = 2 --since we already know we should have exactly two rows
AND COUNT(*) = 
(
  SELECT COUNT(*)
  FROM table1 b
  WHERE b.groupid = a.groupid
  GROUP BY b.groupID
) 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-10-08T06:58:00.797

```
-- sample table for discussion
CREATE TABLE tbl
  (id int, groupid varchar(2), memberid varchar(2));
INSERT INTO tbl
  (id, groupid, memberid)
VALUES
    (6, 'g4', 'm1'),
    (7, 'g4', 'm2'),
    (8, 'g6', 'm1'),
    (9, 'g6', 'm3'),
    (1, 'g1', 'm1'),
    (2, 'g1', 'm2'),
    (3, 'g2', 'm1'),
    (4, 'g2', 'm2'),
    (5, 'g2', 'm3')
;

-- the query
select a.groupid, b.groupid peer
from (select groupid, count(*) member_count, min(memberid) x, max(memberid) y
      from tbl
      group by groupid) A
join
     (select groupid, count(*) member_count, min(memberid) x, max(memberid) y
      from tbl
      group by groupid) B
  on a.groupid<b.groupid and a.member_count=b.member_count and a.x=b.x and a.y=b.y
join tbl A1
  on A1.groupid = A.groupid
join tbl B1
  on B1.groupid = B.groupid and A1.memberid = B1.memberid
group by A.groupid, b.groupid, A.member_count
having count(1) = A.member_count;

-- the result
GROUPID PEER
g1  g4 
```

上面显示了一种以`groups`高度优化的方式与同行一起列出的方法。通过将组分解为成员计数并采用最小值和最大值，它适用于大型数据库。使用直接连接可以快速减少组，并且仅对于剩余的匹配项，查询完整的表并重新加入组 id A 和 B 以确定它们是否是等效组。

如果您有 3 个相似的组 (101,103,104)，这些组将显示为三个单独的行 (101,103),(101,104),(103,104) - 因为每一对都形成一个对等互连，因此如果您已经知道其中一个，最好使用这样的查询您要为其查找对等的组。此过滤器将适合第一个子查询。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-10-08T07:02:39.743

```
SELECT DISTINCT                          -- if (groupid, memberid) is unique
                                         -- no need for the DISTINCT
    a.groupid
FROM 
    tableX AS a
  JOIN
    tableX AS b  
      ON b.groupid = a.groupid 
WHERE a.memberid = 'm1' 
  AND b.memberid = 'm2'
  AND NOT EXISTS
      ( SELECT *
        FROM tableX AS t
        WHERE t.groupid = a.groupid
          AND t.memberid NOT IN ('m1', 'm2') 
      ) ; 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2014-03-20T12:11:26.183

```
id | groupid | memberid
1  | g1      | m1
2  | g1      | m2
3  | g2      | m1
4  | g2      | m2
5  | g2      | m3

select GRPID from arcv where GRPID in (
select GRPID from arcv  
group by GRPID  having count(1)=2) and memberid in ('m1','m2') 
```

# javascript - JavaScript 可以检测通过 window.open() 打开的窗口的 onblur() 吗？

> ID：12776179
> 
> 赞同：0
> 
> 时间：2012-10-08T06:13:00.030
> 
> 标签：javascript

我要做的是使用创建一个新窗口`window.open`，然后当新窗口打开时，我想检查该窗口是否始终处于活动状态？

例如：我有

```
myNewWindow = window.open(document.getElementById("inputbox").value).focus(); 
```

`myNewWindow`一旦这个窗口打开，如果失去焦点，我想增加变量增加的值。

我正在做 ：

```
if(myNewWindow.onblur()){
    increment value...
}
setTimeout('myNewWindow.close()',3000); // closing window after 3 seconds. So, I'm really trying to check if the window was in focus for those 3 seconds. 
```

但是，`onblur`无论我尝试什么，它似乎都不起作用。但是，窗口确实关闭了。有什么想法吗？我只需要找出新打开的窗口是否被最小化或一些失焦。

检测运行 JS 的窗口是否失去焦点相当容易。在我的情况下，这似乎不起作用。例如：[JavaScript / jQuery: 测试窗口是否有焦点](https://stackoverflow.com/questions/3479734/test-if-window-has-focus)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-08T06:17:45.387

从 page1，不，您不能直接设置或订阅 page2 上的事件。但是，您可以使用诸如 window.postMessage 之类的东西在它们之间传递消息。

# android - Google play 发布——如何加快新应用发布的速度

> ID：12776188
> 
> 赞同：7
> 
> 时间：2012-10-08T06:14:05.517
> 
> 标签：android, publishing, google-play

我刚刚在 google play 上发布了一个新版本的 android 应用程序，但它似乎需要很长时间才能出现在 google play 商店的用户面前。在开发人员控制台中，它会立即更新，所以我认为 apk 一切正常。花费年龄对我来说现在意味着超过一个小时。这是正常的吗？如果是这样，有没有办法加快这个过程？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-10-08T06:15:24.787

是的，这很正常，不，你不能加快速度。这只是在 Google 的所有服务器上传播新信息所需的时间。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2020-09-06T16:42:04.383

这是为了更新。我刚刚发布了一个新的 APK 作为初始 Beta 版本（V1.0），花了将近 6 天的时间在 Play 商店中发布以进行开放测试。（**01.09.2020**至**06.09.2020**）。之后我发布了V1.1，28分钟就发布了。( **06.09.2020** )

# c - strn*() 与 str*() 相比有多快？

> ID：12776189
> 
> 赞同：3
> 
> 时间：2012-10-08T06:14:06.220
> 
> 标签：c, performance, optimization

> **可能重复：**
> [为什么要使用 strncpy 而不是 strcpy？](https://stackoverflow.com/questions/1258550/why-should-you-use-strncpy-instead-of-strcpy)

我正在读一本关于计算机/密码学等的书。而且作者经常使用诸如此类的东西`strncpy(dest, src, strlen(src));`代替`strcpy(dest, src);`它对我来说没有多大意义。嗯，我是一名专业程序员。

问题是：它真的有真正的不同吗？真正的应用程序使用这样的东西？

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2012-10-08T06:30:35.367

作者几乎可以肯定是在滥用这些`strn*`功能。不幸的是，几乎没有使用`strn*`函数的充分理由，因为它们实际上并没有做你想做的事。

让我们看一下`strcpy`和`strncpy`：

```
char *strcpy(char *dest, const char *src);

char *strncpy(char *dest, const char *src, size_t n); 
```

该`strcpy`函数复制`src`到`dest`中，包括尾随`\0`. 它很少有用：

1.  除非您知道源字符串适合目标缓冲区，否则缓冲区溢出。缓冲区溢出是安全隐患，它们可能会使您的程序崩溃，并导致其行为不正确。

2.  如果您*确实*知道源字符串和目标缓冲区的大小，您不妨使用`memcpy`.

相比之下，`strncpy`最多复制 in 的字节`n`，然后用. 它很少有用：`src``dest``\0`

1.  除非您知道源字符串小于目标缓冲区，否则您无法确定生成的缓冲区是否会被 nul 终止。如果您假设结果是 nul 终止的，这可能会导致程序中的其他地方出错。

2.  如果您确实知道源字符串更小，那么您不妨再次使用`memcpy`.

3.  您可以在调用后简单地终止字符串`strncpy`，但您确定要静默截断结果吗？我想大多数时候，您宁愿收到一条错误消息。

## 为什么会有这些功能？

该`strcpy`功能偶尔会很方便，但它主要是人们不太关心验证输入的时代的遗物。为程序提供太大的字符串会使程序崩溃，建议是“不要那样做”。

`strncpy`当您想在固定大小的字段中传输数据并且不想在字段的其余部分中放置垃圾时，该功能很有用。这主要是人们使用固定大小字段的时代的遗迹。

所以你很少会在现代 C 软件中看到`strcat`或。`strncpy`

## 更严重的问题

但是，您的示例结合了两全其美。让我们检查一下这段源代码：

```
strncpy(dest, src, strlen(src)); 
```

这将复制`src`到`dest`中，**没有**`\0`终止符，也**没有**边界检查。它将`strcpy`（无边界检查）的最坏方面与`strncpy`（无终止符）的最坏方面结合在一起。如果您看到这样的代码，请逃跑。

## 如何使用字符串

好的 C 代码通常使用以下几个选项之一来处理字符串：

1.  使用固定缓冲区 和`snprintf`，只要您不介意固定缓冲区。

2.  使用有界字符串函数，例如`strlcpy`和`strlcat`。这些是 BSD 扩展。

3.  使用跟踪字符串长度的自定义字符串点，并使用 和 编写您自己的`memcpy`函数`malloc`。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-08T06:30:39.347

如果该代码是书中的逐字副本，则作者要么不了解 C，要么不是安全专家，要么两者兼而有之。

也可能是他使用了错误配置的编译器，明确禁止使用某些已知可能不安全的函数。当编译器无法区分安全、不安全和潜在不安全时，这是一个有问题的做法，并且一直在妨碍。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-08T06:18:42.983

strn 系列的原因是为了防止您溢出缓冲区。如果您从调用者那里传递数据并且盲目地相信它正确地以空值终止并且不会溢出您将其复制到的缓冲区，那么您将被缓冲区溢出攻击所拥有。

效率差异可以忽略不计。strn 系列可能会*稍微*慢一些，因为它需要不断检查您是否没有溢出。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-08T06:19:10.480

strncpy(dest, src, strlen(src)); 与 strcpy(dest, src) 相同；所以这里没有区别，但是..

strcpy 可能会导致安全漏洞，因为您不知道字符串有多长。聪明的人可以使用它覆盖您服务器上的某些内容。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-10-08T06:30:48.580

对 strcpy 使用 strncpy 与它的执行速度几乎没有关系，但 strncpy 大大降低了缓冲区溢出攻击的可能性。在 C 中，指针是最强大的，但它们也使系统易受攻击。

从一本好的 Hack-Proofing 书中摘录可能会对您有所帮助。

*许多溢出错误是错误的字符串操作的结果。诸如 strcpy() 之类的调用在复制字符串之前不会检查字符串的长度。结果是可能发生缓冲区溢出。预计会出现 NULL 终止符。从某种意义上说，攻击者依靠这个漏洞来利用机器；然而，这也意味着攻击者注入的缓冲区也必须不含 NULL 字符。如果攻击者插入一个 NULL 字符，字符串副本将在整个有效负载插入之前终止。*

# perl - DBD::SQLite: sqlite_unicode Pragma

> ID：12776192
> 
> 赞同：0
> 
> 时间：2012-10-08T06:14:27.703
> 
> 标签：perl, sqlite, unicode, utf-8

当我使用 DBI/DBD::SQLite 连接到 sqlite 数据库而不设置`sqlite_unicode`编译指示时，是否使用了`sqlite_unicode`创建数据库的设置？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-08T06:21:26.127

不，这不是[pragma](http://www.sqlite.org/pragma.html)，而是控制 DBD::SQLite 是否解码文本的设置。

# sql - 如何更改字符串中的大小写

> ID：12776195
> 
> 赞同：0
> 
> 时间：2012-10-08T06:14:37.747
> 
> 标签：sql, sql-server, sql-server-2008, tsql

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-08T07:37:33.763

这是实现它的功能：

```
create function f_test
(
@a varchar(max)

)
returns varchar(max)
as
begin
  set @a = lower(@a)
  while @a LIKE '%\_%' ESCAPE '\'
  begin
    select @a = stuff(@a, v, 2, upper(substring(@a, v+1,1)))
    from (select charindex('_', @a) v) a
  end
  return @a
end 
```

例子：

```
select dbo.f_test( HRM_APPLICATION_DELAY_IN') 
```

结果：

```
hrmApplicationDelayIn 
```

要更新您的表，这里是一个如何使用函数编写语法的示例：

```
UPDATE <yourtable>
SET <yourcolumn> = dbo.f_test(col)
WHERE <yourcolumn> LIKE '%\_%' ESCAPE '\' 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-08T06:42:04.187

对于一个变量，这是矫枉过正，但我​​用它来演示一个模式

```
declare @str varchar(100) = 'HRM_APPLICATION_DELAY_IN';
;with c(one,last,rest) as (
  select cast(lower(left(@str,1)) as varchar(max)),
         left(@str,1), stuff(lower(@str),1,1,'')
  union all
  select one+case when last='_'
             then upper(left(rest,1))
             else left(rest,1) end,
         left(rest,1), stuff(rest,1,1,'')
  from c
  where rest > ''
)
select max(one)
from c; 
```

可以扩展到表中的列

```
-- Sample table
declare @tbl table (
  id int identity not null primary key clustered,
  str varchar(100)
);
insert @tbl values
  ('HRM_APPLICATION_DELAY_IN'),
  ('HRM_APPLICATION_DELAY_OUT'),
  ('_HRM_APPLICATION_DELAY_OUT'),
  (''),
  (null),
  ('abc<de_fg>hi');

-- the query
;with c(id,one,last,rest) as (
  select id,cast(lower(left(str,1)) as varchar(max)),
         left(str,1), stuff(lower(str),1,1,'')
  from @tbl
  union all
  select id,one+case when last='_'
             then upper(left(rest,1))
             else left(rest,1) end,
         left(rest,1), stuff(rest,1,1,'')
  from c
  where rest > ''
)
select id,max(one)
from c
group by id
option (maxrecursion 0);

-- result
ID  COLUMN_1
1   hrm_Application_Delay_In
2   hrm_Application_Delay_Out
3   _Hrm_Application_Delay_Out
4   
5   (null)
6   abc<de_Fg>hi 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-08T07:08:54.697

我想向您展示我的漂亮而简单的解决方案。它使用 Tally 函数按模式分割字符串，在我们的例子中是通过下范围。要了解 Tally 功能，请阅读[本文](http://www.sqlservercentral.com/articles/T-SQL/62867/)。

所以，这就是我的计数功能的样子：

```
CREATE FUNCTION [dbo].[tvf_xt_tally_split](      
     @String NVARCHAR(max)
    ,@Delim   CHAR(1))
RETURNS  TABLE
as
return
    (

        WITH Tally AS (SELECT top (select isnull(LEN(@String),100)) n = ROW_NUMBER() OVER(ORDER BY [name]) from master.dbo.syscolumns)      
        (
            SELECT LTRIM(RTRIM(SUBSTRING(@Delim + @String + @Delim,N+1,CHARINDEX(@Delim,@Delim + @String + @Delim,N+1)-N-1))) Value, N as Ix
            FROM Tally
            WHERE N < LEN(@Delim + @String + @Delim)
            AND SUBSTRING(@Delim + @String + @Delim,N,1) = @Delim 
         )
    ) 
```

这个函数返回一个表，其中每一行代表@Delim 之间的字符串的一部分（在我们的例子中是在下范围之间）。剩下的工作很简单，只是结合了 LEFT、RIGHT、LEN、UPPER 和 LOWER 功能。

```
 declare @string varchar(max)
    set @string = ' HRM_APPLICATION_DELAY_IN'

    -- convert to lower case 
    set @string = LOWER(@string)
    declare @output varchar(max)

    -- build string 
    select @output = coalesce(@output + '_','') +
        UPPER(left(Value,1)) + RIGHT(Value, LEN(Value) - 1) 
            from dbo.tvf_xt_tally_split(@string, '_')

-- lower first char
select left(lower(@output),1) + RIGHT(@output, LEN(@output) - 1) 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-08T09:32:35.483

下面两个步骤可以解决问题，例如我使用 sys.table.user 可以使用任何一个

```
declare @Ret varchar(8000), @RetVal varchar(8000), @i int, @count int = 1;
declare @c varchar(10), @Text varchar(8000), @PrevCase varchar, @ModPrefix varchar(10);

DECLARE @FileDataTable TABLE(TableName varchar(200))

INSERT INTO @FileDataTable
select name FROM sys.tables where object_name(object_id) not like 'sys%'  order by name

SET @ModPrefix = 'Pur'

DECLARE crsTablesTruncIns CURSOR 
FOR select TableName FROM @FileDataTable
    OPEN crsTablesTruncIns
    FETCH NEXT FROM crsTablesTruncIns INTO @Text

    WHILE @@FETCH_STATUS = 0
    BEGIN

            SET @RetVal = '';

            select @i=1, @Ret = '';

               while (@i <= len(@Text))
               begin

                        SET @c = substring(@Text,@i,1)

                        --SET  @Ret = @Ret + case when @Reset=1 then UPPER(@c) else LOWER(@c)       

                        IF(@PrevCase = '_' OR @i = 1)
                            SET  @Ret = UPPER(@c)
                        ELSE
                            SET  @Ret = LOWER(@c)
                                   --@Reset = case when @c like '[a-zA-Z]' then 0 else 1 end,

                        if(@c like '[a-zA-Z]')
                            SET  @RetVal = @RetVal +  @Ret    

                        if(@c = '_')
                            SET @PrevCase = '_'
                        else
                            SET @PrevCase = ''

                        SET @i = @i +1

                end

            SET @RetVal = @ModPrefix + @RetVal

            print cast(@count as varchar) + ' ' + @RetVal 
            SET @count = @count + 1

            EXEC sp_RENAME @Text , @RetVal

            SET @RetVal = ''

    FETCH NEXT FROM crsTablesTruncIns INTO @Text
    END
CLOSE crsTablesTruncIns
DEALLOCATE crsTablesTruncIns 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-10-08T06:33:08.170

```
select 
replace(replace(replace(replace(replace(replace(replace(
replace(replace(replace(replace(replace(replace(replace(
replace(replace(replace(replace(replace(replace(replace(
replace(replace(replace(replace(replace(replace(lower('HRM_APPLICATION_DELAY_IN'),'_a','A'),'_b','B'),'_c','C'),'_d','D'),'_e','E'),'_f','F'),
'_g','G'),'_h','H'),'_i','I'),'_j','J'),'_k','K'),'_l','L'),
'_m','M'),'_n','N'),'_o','O'),'_p','P'),'_q','Q'),'_r','R'),
'_s','S'),'_t','T'),'_u','U'),'_v','V'),'_w','W'),'_x','X'),
'_y','Y'),'_z','Z'),'_','') 
```

# jquery - jquery悬停功能需要帮助

> ID：12776196
> 
> 赞同：0
> 
> 时间：2012-10-08T06:14:44.423
> 
> 标签：jquery, click, jquery-hover

我的页面中有一次跨度。我使用悬停功能在鼠标悬停时显示弹出窗口，并在鼠标移开后自动隐藏该弹出窗口。我的代码在下面，它工作正常。

我需要的是，如果我单击跨度，弹出窗口应该冻结，并且只有当我关闭弹出窗口时它必须关闭。但是悬停也应该起作用。我需要同时使用悬停和单击功能..

我的悬停代码：

```
$('td#' + parentElement).find('span.likes').hover(function (e) {
    topPos = e.pageY - ($('div#pop-up').height()) - 35;
    leftPos = e.pageX - ($('div#pop-up').width()) - 30;
    if (leftPos < 0) {
        leftPos = 10;
    }
    GetLikesList(json_row.value.task_id);
    $('div#pop-up').show().css('top', topPos).css('left', leftPos).appendTo('body');
    $('#mopopuptitle').html('People who liked this Request');
}, function () {
    $('div#pop-up').hide();
}); 
```

我的点击代码：

```
$('#' + parentElement).find('span.likes').click(function (e) {
    topPos = e.pageY - ($('div#pop-up').height()) - 35;
    leftPos = e.pageX - ($('div#pop-up').width()) - 30;
    if (leftPos < 0) {
        leftPos = 10;
    }
    GetLikesList(json_row.value.task_id);
    $('div#pop-up').show().css('top', topPos).css('left', leftPos).appendTo('body');
    $('#mopopuptitle').html('People who liked this Request');
    e.stopPropagation();
}) 
```

两者如何结合？？？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-08T06:22:12.757

您可以使用`.on()`绑定多个事件：

```
$('#' + parentElement).find('span.likes').on('mouseenter click', function(e) {
    topPos = e.pageY - ($('div#pop-up').height()) - 35;
    leftPos = e.pageX - ($('div#pop-up').width()) - 30;

    if (leftPos < 0) {
        leftPos = 10;
    }

    GetLikesList(json_row.value.task_id);

    $('div#pop-up').show().css({
        top: topPos,
        left: leftPos
    }).appendTo('body');

    $('#mopopuptitle').html('People who liked this Request');
}).on('mouseleave', function () {
    $('div#pop-up').hide();
}); 
```

尽管除非您想运行处理程序两次，否则我认为绑定两者没有多大用处。要单击元素，鼠标必须悬停在它上面。

# c# - Reading Multiple XML files

> ID：12776198
> 
> 赞同：0
> 
> 时间：2012-10-08T06:14:57.610
> 
> 标签：c#, .net, xml, xmldocument, xmltextreader

I have Created a small XML tool, to find the numbers of element present in Multiple XML files.

This code gives the fine result for the elements which are must in XML files.

But when it comes to specific elements, which may be present or not in XML files, Software give me result as:

```
10/8/2012 11:27:51 AM
C:\Documents and Settings\AlaspuMK\Desktop\KS\success\4CPK-PMF0-004D-P565-00000-00.xml 
Instance: 0

10/8/2012 11:27:51 AM
C:\Documents and Settings\AlaspuMK\Desktop\KS\success\4CPK-PMF0-004D-P566-00000-00.xml 
Instance: 0

10/8/2012 11:27:51 AM
C:\Documents and Settings\AlaspuMK\Desktop\KS\success\4CPK-PMF0-004D-P567-00000-00.xml 
Instance: 0

10/8/2012 11:27:51 AM
C:\Documents and Settings\AlaspuMK\Desktop\KS\success\4CPK-PMG0-004D-P001-00000-00.xml 
**Instance: 11**

10/8/2012 11:27:51 AM
C:\Documents and Settings\AlaspuMK\Desktop\KS\success\4CPK-PMG0-004D-P002-00000-00.xml 
Instance: 0 
```

Now here the problem is XML files may be 500-1000 when i search the tag which may be present or not the tool gives me result for each and every files. In this case specific tag present instance may be 0 or multiple.

Can any one suggest the changes in my Code to find the file name in which instance is greater than 0\. and if instance > 0 print it in text box.

My current code:

```
public void SearchMultipleTags()
        {
            if (txtSearchTag.Text != "")
            {
                try
                {
                    //string str = null;
                    //XmlNodeList nodelist;
                    string folderPath = textBox2.Text;
                    DirectoryInfo di = new DirectoryInfo(folderPath);
                    FileInfo[] rgFiles = di.GetFiles("*.xml");
                    foreach (FileInfo fi in rgFiles)
                    {
                        int i = 0;
                        XmlDocument xmldoc = new XmlDocument();
                        xmldoc.Load(fi.FullName);
                        //rtbox2.Text = fi.FullName.ToString();

                        foreach (XmlNode node in xmldoc.GetElementsByTagName(txtSearchTag.Text))
                        {

                            i = i + 1;

                            //
                        }
                        rtbox2.Text += DateTime.Now + "\n" + fi.FullName + " \nInstance: " + i.ToString() + "\n\n";
                        //rtbox2.Text += fi.FullName + "instances: " + str.ToString();
                    }

                }
                catch (Exception ex)
                {

                    MessageBox.Show("Invalid Path or Empty File name field.");

                }
            }
            else
            {
                MessageBox.Show("Dont leave field blanks.");
            }

        } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-08T06:20:19.680

利用

```
if(i > 0)
rtbox2.Text += DateTime.Now + "\n" + fi.FullName + " \nInstance: " + i.ToString() + "\n\n"; 
```

而不是简单

```
rtbox2.Text += DateTime.Now + "\n" + fi.FullName + " \nInstance: " + i.ToString() + "\n\n"; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-08T06:20:54.160

如果我理解正确，您只想在 i 大于 0 时显示文本？

```
if(i > 0 )
rtbox2.Text += DateTime.Now + "\n" + fi.FullName + " \nInstance: " + i.ToString() + "\n\n"; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-08T06:38:16.047

您总是可以在 try 块中使用此代码：

```
rtbox2.Text =
    String.Join(Environment.NewLine + Environment.NewLine,
        from fi in (new DirectoryInfo(textBox2.Text)).GetFiles("*.xml")
        let xd = XDocument.Load(fi.FullName)
        let i = xd.Descendants(txtSearchTag.Text).Count()
        where i > 0
        select String.Join(Environment.NewLine, new []
        {
            DateTime.Now.ToString(),
            fi.FullName,
            i.ToString(),
        })); 
```

在一行中完成所有操作（禁止格式）。:-)

# android - Buffer/Cache youtube videos and play in Android using MediaPlayer

> ID：12776200
> 
> 赞同：3
> 
> 时间：2012-10-08T06:15:00.777
> 
> 标签：android, caching, youtube, video-streaming, buffer

I am having one application in which I would like to play Youtube Videos. I do some googling and I found lots of tutorial on how to play youtube videos in Android. But most of all gives me the solution which uses WebView.

For e.g. **startActivity(new Intent(Intent.ACTION_VIEW, Uri.parse("http://www.youtube.com/watch?v=cxLG2wtE7TM")));**

This wil play the video in WebView. But I don't want to user WebView, Can't we use MediaPlayer functionality to do this task? Also I would like to Buffer/Cache the video to make it user friendly.

1) So my question is how to play youtube video through MediaPlayer in Android?

2) Same time how to buffer/cache the video in Background/Service/AsyncTask?

Please if anyone have any idea guide me.

Thanks

# jsp - JBoss - redirecting url without changing address bar URL in browser

> ID：12776201
> 
> 赞同：0
> 
> 时间：2012-10-08T06:15:03.040
> 
> 标签：jsp, jboss, url-rewriting

I will put multiple related questions here I hope there is no problem with that.

I have `JBoss` server on my pc and I want to do the following:

when user clicks a link like ( www.abc.com/login ) I want to redirect him to ( www.abc.com/jsp/login.jsp) without showing the new URL.

The purpose of this is to hide folders and file extensions from users so they don't starting testing and messing with stuff.

So my questions about that are:

1) How to do it while keeping the (www.abc.com/login) on the user browser?

2) How to hide some of the url? like if the url is www.abc.com/jsp/login.jsp, how to hide the (.jsp) or changing the file/folder arrangement to show less information to users?

3) If I think in a wrong way and/or there is a better/easier way to do it then please advice me.

I found some related stuff like [this](http://www.jboss.org/jbossweb/modules/rewrite.html) but I didn't understand it because I have no knowledge in jboss and also a bit weak in english.

Thank you all, and sorry for the confusion.

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-08T07:07:04.710

您应该始终将 Servlet 与 JSP 结合使用。

`Servlets`在 Web 应用程序中充当控制器。

IMO，您应该创建一个 Servlet 并将其映射为您的名称`login`，然后转发到一个页面。这实现了隐藏目录结构并保持 URL 不变的目标。

例如

```
<servlet>
        <servlet-name>LoginServlet</servlet-name>
        <servlet-class>com.test.controllers.LoginServlet</servlet-class>
</servlet>

<servlet-mapping>
    <servlet-name>LoginServlet</servlet-name>
    <url-pattern>/login</url-pattern>
</servlet-mapping> 
```

传入你`/login`的.`action``form`

在您的 Servlet 中执行业务逻辑之后。转发到所需页面

```
request.getRequestDispatcher("/jsp/login.jsp").forward(request, response); 
```

您没有提到您在 Servlet 方面的技能。所以，我建议

阅读更多：

1.  [https://stackoverflow.com/tags/servlets/info](https://stackoverflow.com/tags/servlets/info)
2.  [JSF、Servlet 和 JSP 有什么区别？](https://stackoverflow.com/questions/2095397/what-is-the-difference-between-jsf-servlet-and-jsp)
3.  [http://pdf.coreservlets.com/Servlet-Basics.pdf](http://pdf.coreservlets.com/Servlet-Basics.pdf)

# android - InMobi ad do not display on activity

> ID：12776204
> 
> 赞同：0
> 
> 时间：2012-10-08T06:15:19.597
> 
> 标签：android, ads, inmobi

Below is my code snippet... There is no error, but the ad is not showing on the activity... I do not know what I am missing.. PLease HELP!

```
 public class InMobiAdActivity extends Activity {

@Override
protected void onCreate(Bundle savedInstanceState) {

    super.onCreate(savedInstanceState); 

        setContentView(R.layout.main);

        IMAdView imAdView = new IMAdView(this, IMAdView.INMOBI_AD_UNIT_320X50,"4028cba631d63df10131e1d3818b00cc (code taken from inmobi wiki as sample code for testing ads");
        LinearLayout layout = (LinearLayout)findViewById(R.id.ll);
        layout.addView(imAdView);
        IMAdRequest adRequest = new IMAdRequest();
        adRequest.setTestMode(true);
        imAdView.setIMAdRequest(adRequest);;
        imAdView.loadNewAd();

    }

} 
```

On my Logcat it shows;

```
10-08 14:23:02.534: D/InMobiAndroidSDK_3.6.0(2388): requestactivity=AdRequest&u-rt=0&d-device-screen-density=1.5&d-device-screen-size=480X800&mk-siteid=4028cba631d63df10131e1d3818b00cc&u-id-map=fGtq8K%2F5btMGW7t0WElg0rMcqUSCfbWD8E%2FCvECMDB9eWL5VBtsR3k9awVDmgjD4BS024QxddQlU%0AmAdObyz5KA%3D%3D%0A&u-id-key=-1447871561&u-key-ver=1&aid=b281bb6c-ddd8-4ffe-bb5d-395be16b6607&mk-version=pr-SAND-DTGTA-20120915&mk-rel-version=pr-SAND-DTGTA-20120915&format=xhtml&mk-ads=1&h-user-agent=Mozilla%2F5.0+%28Linux%3B+U%3B+Android+2.3.3%3B+en-us%3B+sdk+Build%2FGRI34%29+AppleWebKit%2F533.1+%28KHTML%2C+like+Gecko%29+Version%2F4.0+Mobile+Safari%2F533.1&u-appBId=com.dtan.inmobi&u-appDNM=InMobiAndroidSDKSampleApp&u-appVer=1.0&d-localization=en_us&d-netType=umts&d-orientation=1&mk-ad-slot=15
10-08 14:23:02.684: I/ActivityManager(61): Displayed com.dtan.inmobi/.InMobiAdActivity: +1s472ms 
```

EDIT: Here is my Manifest. All the permissions are indicated here as well;

```
 <manifest xmlns:android="http://schemas.android.com/apk/res/android"
package="com.dtan.inmobi"
android:versionCode="1"
android:versionName="1.0" >
<uses-sdk
    android:minSdkVersion="10"
    android:targetSdkVersion="15" />
 <uses-permission android:name="android.permission.INTERNET"/>
 <uses-permission android:name="android.permission.ACCESS_COARSE_LOCATION"/>
 <uses-permission android:name="android.permission.ACCESS_FINE_LOCATION"/>
 <uses-permission android:name="android.permission.ACCESS_NETWORK_STATE"/>
<uses-permission android:name="android.permission.CALL_PHONE"/>
<application
    android:icon="@drawable/ic_launcher"
    android:label="@string/app_name"
    android:theme="@style/AppTheme" >
    <activity
        android:name=".InMobiAdActivity"
        android:label="title_activity_main" >
        <intent-filter>
            <action android:name="android.intent.action.MAIN" />

            <category android:name="android.intent.category.LAUNCHER" />
        </intent-filter>
    </activity>
    <activity android:name="com.inmobi.androidsdk.IMBrowserActivity" android:configChanges="keyboardHidden|orientation|keyboard" />
</application>

</manifest> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-08T07:21:40.773

试试下面的帖子修复连接互联网到模拟器

[Android 模拟器无法连接到互联网](https://stackoverflow.com/questions/7252924/android-emulator-is-not-connecting-to-internet)

[android模拟器浏览器无法连接到互联网](https://stackoverflow.com/questions/5296047/android-emulator-browser-not-connecting-to-internet)

[在此处](https://www.google.co.in/#hl=en&sclient=psy-ab&q=android+emulator+is+not+connecting+to+internet&oq=android+emulator+is+not+&gs_l=hp.3.1.0l4.4226198.4235963.7.4237508.41.21.8.12.14.2.574.4905.0j13j5j0j1j2.21.0.les;..0.0...1c.1.ztwJwPwidJw&pbx=1&bav=on.2,or.r_gc.r_pw.r_cp.r_qf.&fp=6d6293a3b7e47b4d&biw=1360&bih=677)从 Google 获取更多帮助

如果您发现同样的问题，请尝试通过互联网连接检查它的真实设备！

# dynamics-crm - 在 CRM 2011 中动态创建功能区按钮

> ID：12776209
> 
> 赞同：0
> 
> 时间：2012-10-08T06:15:25.173
> 
> 标签：dynamics-crm, dynamics-crm-2011, dynamics-crm-online

谁能帮我在 CRM 2011 中动态创建功能区按钮。场景是，当我们创建记录时，必须根据在该记录中选择的选项集值动态创建一个功能区按钮。我们可以使用 JScript 或插件或工作流让它工作吗？启用或显示规则在这里没有用，不应触及 XML 代码。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-08T10:17:31.050

快速原则：功能区按钮不是记录的一部分，它们是 UI 的一部分。您可以根据您正在查看的记录进行 UI 更改。因此，您不能向记录“添加”按钮。您可以将按钮添加到实体表单。

插件肯定不会在这里工作，它们在“后端”上执行逻辑。JavaScript 可能会工作，但我认为这会很尴尬。您应该做的是编辑功能区 Xml。现在有一个非常适合编辑功能区的工具：[Ribbon Workbench](http://www.develop1.net/public/page/Ribbon-Workbench-for-Dynamics-CRM-2011.aspx)，这个工具使编辑功能区变得更加容易（这是编辑 XML，但这是它的本意）。

那我想你需要

1.  为每个操作创建一个功能区按钮。
2.  然后按照本教程启用和禁用它们：[根据表单值动态启用/禁用功能区按钮。](http://ribbonworkbench.uservoice.com/knowledgebase/articles/121427-enable-disable-a-ribbon-button-dynamically-based-o)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-13T22:21:14.887

使用显示规则将是执行此操作的正确方法。

创建多个按钮并在所选选项等于按钮的名称时设置显示规则。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-14T15:41:01.000

我们可以通过两种方式完成它-

**通过插件：（**注意：沙盒模式下不工作，会消耗一些时间。）

*   创建一个解决方案并向其添加指定的实体。[在此处](http://charanmandya.blogspot.in/2012/10/plug-in-to-create-solution-and-add.html)浏览源代码

*   将此解决方案导出到*Temp*文件夹并解压缩。

*   编辑customizations.xml 文件以添加我们自己的 RibbondiffXml 标记。

*   压缩所有 XML 文件并将其导入 CRM。

*   发布自定义。

**通过 XML 编辑：**

*   导出应用程序功能区，更新 XML 以添加按钮并在所有地方用 {!EntityLogicalName} 替换实体名称。例如：`<CustomAction Id="New.{!EntityLogicalName}.MyButton.CustomAction" Location="Mscrm.HomepageGrid.{!EntityLogicalName}.MainTab.Management.Controls._children" Sequence="70">`...
*   仅当当前实体存在配置记录时，添加 EnableRule 以启用此按钮。

    `<EnableRule Id="New.{!EntityLogicalName}.MyButton.Check"> <CustomRule FunctionName="checkConfigRecord" Library="$webresource:new_/Scripts/ValidateConfigRecords.js"> <CrmParameter Value="SelectedEntityTypeName" /> </CustomRule> </EnableRule>`

*   创建一个名为*new_/Scripts/ValidateConfigRecords.js*的 JavaScript 库，其中包含计算特定实体存在的配置记录的函数*checkConfigRecord 。*如果 count 大于 1 返回*true*。否则为*假*。

*   导入 ApplicationRibbon 压缩文件

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2018-09-29T11:47:32.273

我在 Dynamics 365 上遇到了同样的问题并找到了解决方案。

RibbonWorkbench 包含一个名为“Fly Out Anchor Buttons”的功能

这包括一个名为 PopulateQueryCommand 的属性。

您可以使用此命令在运行时动态（使用 JScript）将菜单选项添加到锚按钮。

RibbonWorkbench 文档包含使用此功能所需的所有信息。

# php - get a value from function in php

> ID：12776212
> 
> 赞同：0
> 
> 时间：2012-10-08T06:15:41.323
> 
> 标签：php

i am trying to do the paging in the php file. i have written php function in function.php file and include that file in other php file. the problem is how can i get the value of $count,$res in other php file. in the other.php i am not getting value of $count,$res.

```
//function.php
function Paging($tbl_name,$targetpage,$where,$limit,$page,$qstr)
        {

            //$tbl_name="shopitup_productmaster";       //your table name
            // How many adjacent pages should be shown on each side?
            $adjacents = 3;

            /* 
               First get total number of rows in data table. 
               If you have a WHERE clause in your query, make sure you mirror it here.
            */
            $query = "SELECT COUNT(*) as num FROM $tbl_name where ".$where;
            $total_pages = mysql_fetch_array(mysql_query($query));
            $total_pages = $total_pages[num];

            /* Setup vars for query. */
            //$targetpage = "paging.php";   //your file name  (the name of this file)
            //$limit = 2;                               //how many items to show per page
            //$page = $_GET['page'];
            if($page) 
                $start = ($page - 1) * $limit;          //first item to display on this page
            else
                $start = 0;                             //if no page var is given, set start to 0

            /* Get data. */
            echo $sql = "SELECT * FROM $tbl_name where ".$where." LIMIT $start, $limit";
            $res = mysql_query($sql);
            $count=mysql_num_rows($res);

            /* Setup page vars for display. */
            if ($page == 0) $page = 1;                  //if no page var is given, default to 1.
            $prev = $page - 1;                          //previous page is page - 1
            $next = $page + 1;                          //next page is page + 1
            $lastpage = ceil($total_pages/$limit);      //lastpage is = total pages / items per page, rounded up.
            $lpm1 = $lastpage - 1;                      //last page minus 1         

            $pagination = "";
            if($lastpage > 1)
            {   
                $pagination .= "<div class=\"pagination\">";
                //previous button
                if ($page > 1) 
                    $pagination.= '<a href="'.$targetpage.'?page='.$prev.$qstr.'">« previous</a>';
                else
                    $pagination.= "<span class=\"disabled\">previous</span>";   

                //pages 
                if ($lastpage < 7 + ($adjacents * 2))   //not enough pages to bother breaking it up
                {   
                    for ($counter = 1; $counter <= $lastpage; $counter++)
                    {
                        if ($counter == $page)
                            $pagination.= "<span class=\"current\">$counter</span>";
                        else
                            $pagination.= '<a href="'.$targetpage.'?page='.$counter.$qstr.'">'.$counter.'</a>';                 
                    }
                }
                elseif($lastpage > 5 + ($adjacents * 2))    //enough pages to hide some
                {
                    //close to beginning; only hide later pages
                    if($page < 1 + ($adjacents * 2))        
                    {
                        for ($counter = 1; $counter < 4 + ($adjacents * 2); $counter++)
                        {
                            if ($counter == $page)
                                $pagination.= "<span class=\"current\">$counter</span>";
                            else
                                $pagination.= "<a href=\"$targetpage?page=$counter.$qstr\">$counter</a>";                   
                        }
                        $pagination.= "...";
                        $pagination.= "<a href=\"$targetpage?page=$lpm1.$qstr\">$lpm1</a>";
                        $pagination.= "<a href=\"$targetpage?page=$lastpage.$qstr\">$lastpage</a>";     
                    }
                    //in middle; hide some front and some back
                    elseif($lastpage - ($adjacents * 2) > $page && $page > ($adjacents * 2))
                    {
                        $pagination.= "<a href=\"$targetpage?page=1\">1</a>";
                        $pagination.= "<a href=\"$targetpage?page=2\">2</a>";
                        $pagination.= "...";
                        for ($counter = $page - $adjacents; $counter <= $page + $adjacents; $counter++)
                        {
                            if ($counter == $page)
                                $pagination.= "<span class=\"current\">$counter</span>";
                            else
                                $pagination.= "<a href=\"$targetpage?page=$counter.$qstr\">$counter</a>";                   
                        }
                        $pagination.= "...";
                        $pagination.= "<a href=\"$targetpage?page=$lpm1.$qstr\">$lpm1</a>";
                        $pagination.= "<a href=\"$targetpage?page=$lastpage.$qstr\">$lastpage</a>";     
                    }
                    //close to end; only hide early pages
                    else
                    {
                        $pagination.= "<a href=\"$targetpage?page=1.$qstr\">1</a>";
                        $pagination.= "<a href=\"$targetpage?page=2.$qstr\">2</a>";
                        $pagination.= "...";
                        for ($counter = $lastpage - (2 + ($adjacents * 2)); $counter <= $lastpage; $counter++)
                        {
                            if ($counter == $page)
                                $pagination.= "<span class=\"current\">$counter</span>";
                            else
                                $pagination.= "<a href=\"$targetpage?page=$counter.$qstr\">$counter</a>";                   
                        }
                    }
                }

                //next button
                if ($page < $counter - 1) 
                    $pagination.= "<a href=\"$targetpage?page=$next.$qstr\">next</a>";
                else
                    $pagination.= "<span class=\"disabled\">next »</span>";
                $pagination.= "</div>\n";       
            }
        //return $pagination;   
           echo $pagination;

        }
?> 
```

other.php

```
<?php
    ob_start();
    session_start();
    include("conn.php");
    include("function.php");
    $tbl="gallary"; 
    $tb="album";

 $aid=$_GET['aid'];
 $aname=$_GET['name'];  
?>

$where="aid='$aid'";
                     $limit="6";
                     $qstr="&aid=$aid";
                     $counter=1;
                     $tbl_name = "gallary";
                     $targetpage = $_SERVER['PHP_SELF'];

                     if(strlen(trim($_GET['page'])) > 0)
                        {   $page =($_GET['page']); }

                        if($page) { $start = ($page - 1) * $limit; }            //first item to display on this page
                        else {  $start = 0; }

                    ?>

                    <?php $pagination=Paging($tbl_name,$targetpage,$where,$limit,$page,$qstr);?>
                     <?php echo "count=$count;"  ?>

<?php

    if($count==0)
    {?>
     <table align="center" style="padding-top:30px;">
     <tr><b>NO Image Available in this Album....!!!!</tr></table>
     <?
    }
    else
    {

                        $i=0;
                        for($j=1;$j<=$count;$j+=3)
                        {
                          ?>
                          <table align="center" style="padding-top:30px;">
                          <tr></tr>
                             <tr><td>
                          <?php

                            $row= mysql_fetch_assoc($res);
                            $img=stripslashes($row['image']);
                            $img_id=$row['eid']; 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-08T06:21:26.450

这都是关于范围的。函数之外的任何东西`Paging()`都无法访问该`$count`var，因为它仅在`Paging()`

我建议将数据库内容放回 other.php 中，然后将回显导航所需的内容（页面总数、目标页面、当前页面等）传递给 Paging() 函数。

您还可以尝试在包含 functions.php 之前创建一个全局变量，然后在包含的脚本中设置值，如下所示：

```
...
session_start();
$count = 0;
include("conn.php");
include("function.php"); 
```

在你的functions.php中：

```
...
$GLOBALS["count"] = mysql_num_rows($res); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-08T06:25:30.167

您可以在那里使用 3 个选项 a.) 使用全局变量（我不建议这样做，但为了完整起见，我想提一下）。b.）您在分页函数中返回一个类 c.）您在分页函数中返回一个数组

我认为 b 在你的情况下有点过头了，所以我会解释 b。）

**函数分页（$tbl_name,$targetpage,$where,$limit,$page,$qstr）：**

在函数的末尾插入以下代码：

```
$returnarray['pagination']=$pagination;
$returnarray['count']=$count;
$returnarray['res']=$res; 
```

然后在您的“其他文件”中使用以下行：

```
$array=Paging($tbl_name,$targetpage,$where,$limit,$page,$qstr);
$pagination=$array['pagination'];
$count=$array['count'];
$res=$array['res']; 
```

永远记住，所有变量都有一个设置和有效的范围。因此，如果您在方法中使用变量，则它仅在该方法中有效，而不是在它之外，也不在方法本身调用的任何方法中。

此外，您应该考虑是否要真正返回 $res 作为一个整体而不是定义一个数组，而不是定义一个数组，而不是定义一个数组，在那里您已经进行了以后想要做的转换（因此您不返回结果集而是返回数据），但那是更多的是那里的品味问题。

全局变量（a.）我不推荐，因为它带来了自己的问题（另外在 PHP 的某些版本中，我发现它们仅在定义它们的位置和从那里调用的方法的地方起作用，但不在方法内调用的子方法中）。

# ios - xcode xml web service missing node

> ID：12776213
> 
> 赞同：1
> 
> 时间：2012-10-08T06:15:44.520
> 
> 标签：ios, xml, xcode, web-services

Although the proper operation of the Web service or Web service xcode comes with missing content. There are five nodes in the web service node values ​​are, however, two of reply from the web service does not.How can I solve this problem?

```
<parent>
   <node1> content1 </node1>
   <node2> content2 </node2>
   <node3> longer content  </node3>// missing response
</parent> 
```

# sql - What is the value of maxvalue in partition

> ID：12776215
> 
> 赞同：0
> 
> 时间：2012-10-08T06:15:59.287
> 
> 标签：sql, oracle, partitioning, database-partitioning

How can I know the exact value of maxvalue in high_value in partition?

```
PARTITION "PARTMAXVALUE" VALUES LESS THAN (MAXVALUE) 
```

Also if the table has already a partition created where high value is set to maxvalue, will I still able to create other partitions?

Thank you.

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-08T13:05:20.060

您将无法创建新分区，但您可以将 MAXVALUE 分区拆分为您喜欢的任何值。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-08T07:26:06.173

来自 Oracle 文档：

> MAXVALUE 表示一个虚拟的无限值，它的排序高于分区键的任何其他可能值，包括 NULL 值。

要查找分区中的上限值，您可以运行：

```
select table_owner, table_name, partition_name, high_value
from all_tab_partitions; 
```

如果范围分区表中有“max_value”分区，则在删除该分区之前，您将无法添加分区。

（您可以将 maxvalue 分区中包含的所有信息保存在另一个表（副本表）中，删除问题分区，创建所需的分区，然后从副本表中重新插入。）

# android - Android make Call from specific 3rd party Voip App (like Cisco Jabber) using Telephony Manager

> ID：12776217
> 
> 赞同：1
> 
> 时间：2012-10-08T06:16:16.463
> 
> 标签：android, broadcastreceiver, call, cisco, telephonymanager

I am making a call from my Android Application and it lists a set of apps that is capable of placing calls and user can select one to place calls. But what I want to know, Is there a way to redirect the call to a **specific 3rd party VOIP App (like Cisco Jabber)** instead of listing all apps** capable of placing calls. I have tried using

register for `ACTION_NEW_OUT_GOING_CALLS` using a broadcast receiver to interrupt the outgoing calls but I dont know how to redirect the call following is the code of broadcast receiver.

```
public void onReceive(Context context, Intent intent) {

    Bundle bundle = intent.getExtras();

    String phoneNumber = intent.getStringExtra(Intent.EXTRA_PHONE_NUMBER);

    Log.d("Test", ""+phoneNumber);

    TelephonyManager telephoneManager = (TelephonyManager) context.getSystemService(Context.TELEPHONY_SERVICE);

    try {
        Class<?> c = telephoneManager.getClass();
        Class className = Class.forName(c.getName());
        Log.d("Test", c.getSimpleName());
    } catch (ClassNotFoundException e) {
        e.printStackTrace();
    }

    List<ResolveInfo> callAppList =  context.getPackageManager().queryIntentActivities(intent, 0);

    Log.d("Test", ""+callAppList.size());
    if(callAppList.size() > 0)
        Log.d("Test", callAppList.get(0).activityInfo.targetActivity);

} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-08T06:24:52.367

我可以想到几个解决方案。

1.  第 3 方是否提供 API？您可以与之集成（例如Skype API）

2.  如果第 3 方软件有一个可以接受您的呼叫的活动，那么您可以通过提供适当的意图将控制权转发给该活动。

我不知道电话管理器可以捕获有关 VOIP 呼叫的数据。我相信它的责任是特定于电话本身的呼叫。我以前没有和电话经理一起工作过，所以我不知道。

# c++ - C++ Array outputting address?

> ID：12776221
> 
> 赞同：1
> 
> 时间：2012-10-08T06:16:28.180
> 
> 标签：c++, arrays, operator-overloading

I posted earlier for the first time and was able to almost complete this assignment. The program isn't giving an error, but I'm getting undesired results. The output appears to be outputting the array address instead of the data I input. Or at least I think it is based on my very very limited knowledge. Can anyone help guide me in how to fix this? I've been working on this all day and at this hour, I think I'm ready to throw in the towel. Any advice is greatly appreciated, thanks!

```
// Amanda 
// SoccerPlayer.cpp : main project file.
// October 6, 2012
/* a. Design a SoccerPlayer class that includes three integer fields: a player's jersey     number,
number of goals, and number of assists. Overload extraction and insertion operators for    the class.
b. Include an operation>() function for the class. One SoccerPlayer is considered greater
than another if the sum of goals plus assists is greater.
c. Create an array of 11 SoccerPlayers, then use the > operator to find the player who  has the
greatest goals plus assists.*/

#include "stdafx.h"
#include<conio.h>
#include<iostream>
#include<string>
using namespace std;

class SoccerPlayer
{
    friend std::ostream& operator<<(std::ostream&, const SoccerPlayer&);
    friend istream& operator>>(istream&, SoccerPlayer&);
private:
    int jerseyNum;
    int numGoals;
    int numAssists;
public:
    SoccerPlayer(int, int, int);
    int score;
    int operator>(SoccerPlayer&);
    void DisplayStar();

};

SoccerPlayer::SoccerPlayer(int jersey = 0, int goal = 0, int assist = 0)
{
    jerseyNum = jersey;
    numGoals = goal;
    numAssists = assist;
} 

void SoccerPlayer::DisplayStar()
{
    cout<<"Player Number: "<< jerseyNum <<endl;
    cout<<"Goals Scored:  "<< numGoals <<endl;
    cout<<"Assists Made:  "<< numAssists <<endl;
} 

std::ostream& operator<<(std::ostream& player,  const SoccerPlayer& aPlayer)
{
    player << "Jersey #" << aPlayer.jerseyNum <<
        " Number of Goals " << aPlayer.numGoals << 
        " Number of Assists " << aPlayer.numAssists;
    return player;
}

std::istream& operator>>(std::istream& inPlayer, SoccerPlayer& aPlayer)
{

    cout << "Please enter the jersey number: ";
    inPlayer >> aPlayer.jerseyNum;
    cout << "Please enter the number of goals: ";
    inPlayer >> aPlayer.numGoals;
    cout << "Please enter the number of assists: ";
    inPlayer >> aPlayer.numAssists;

    aPlayer.score=(aPlayer.numGoals) + (aPlayer.numAssists);

    return inPlayer;
}

int SoccerPlayer::operator>(SoccerPlayer& aPlayer)
{

    int total = 0;
    if (score > aPlayer.score)
        total = 1;
    return total;

}

int main()
{
const int sz = 11;
int x;

SoccerPlayer aPlayer[sz];

for(x = 0; x < sz; ++x)
cin >> aPlayer[x];

{
 double max = aPlayer[x].score; 
 for(int i = 1; i<sz; ++i)
 {
     if(aPlayer[i] > aPlayer[x])
     {
         max=aPlayer[i].score;
     }

  }
 cout << max << endl;
 cout << aPlayer[x];
}
    _getch();
    return 0;
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-08T06:32:32.687

看起来好像您打算在这里循环，但它的格式不正确：

```
for(x = 0; x < sz; ++x)
cin >> aPlayer[x];

{
 double max = aPlayer[x].score; 
 for(int i = 1; i<sz; ++i)
 {
     if(aPlayer[i] > aPlayer[x])
     {
         max=aPlayer[i].score;
     }

  }
 cout << max << endl;
 cout << aPlayer[x];
} 
```

您的意思是（我认为）`double max ...`应该在循环内，但该行在`cin >> ...`语句之后，*在*大括号*之外。*所以迭代只适用于语句；完成后，控制继续到，但 x（从 剩下的）等于，因此在数组之外，在无人区。`for`*`cin >> ...``double max = aPlayer[x].score;``for(...)``sz``aPlayer[x]`*

 *把`cin >> ...`括号放在里面。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-08T06:32:41.830

问题是您只打印元素`aPlayer[x]`。但请注意，您的第一个 for 循环在`x = 11`. 好吧，那是数组末尾的一个，所以实际上，您正在输出垃圾。

我只是尝试了一下`aPlayer[0]`，得到了预期的结果。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-09T03:01:39.103

这就是我最终的结果。感谢大家的帮助！

```
// Amanda 
// SoccerPlayer.cpp : main project file.
// October 6, 2012
/* a. Design a SoccerPlayer class that includes three integer fields: a player's jersey number,
number of goals, and number of assists. Overload extraction and insertion operators for  the class.
b. Include an operation>() function for the class. One SoccerPlayer is considered greater
than another if the sum of goals plus assists is greater.
c. Create an array of 11 SoccerPlayers, then use the > operator to find the player who has the
greatest goals plus assists.*/

#include "stdafx.h"
#include<conio.h>
#include<iostream>
#include<string>
using namespace std;

//soccer player class - see above description
class SoccerPlayer
{
    friend std::ostream& operator<<(std::ostream&, const SoccerPlayer&);
    friend istream& operator>>(istream&, SoccerPlayer&);
private:
    int jerseyNum;
    int numGoals;
    int numAssists;
public:
    SoccerPlayer(int, int, int);
    int score;
    int operator>(SoccerPlayer&);
    void DisplayStar();

};

//soccerplayer constructor
SoccerPlayer::SoccerPlayer(int jersey = 0, int goal = 0, int assist = 0)
{
    jerseyNum = jersey;
    numGoals = goal;
    numAssists = assist;
}
//to display star player
void SoccerPlayer::DisplayStar()
{
    cout<<"Jersey #: "<< jerseyNum <<endl;
    cout<<"Goals Scored:  "<< numGoals <<endl;
    cout<<"Assists Made:  "<< numAssists <<endl;
} 

//overload operator out
std::ostream& operator<<(std::ostream& player,  const SoccerPlayer& aPlayer)
{
    player << "Jersey #" << aPlayer.jerseyNum <<
        " Number of Goals " << aPlayer.numGoals << 
        " Number of Assists " << aPlayer.numAssists;
    return player;
} 
//overload operator in
std::istream& operator>>(std::istream& inPlayer, SoccerPlayer& aPlayer)
{

    cout << "Please enter the jersey number: ";
    inPlayer >> aPlayer.jerseyNum;
    cout << "Please enter the number of goals: ";
    inPlayer >> aPlayer.numGoals;
    cout << "Please enter the number of assists: ";
    inPlayer >> aPlayer.numAssists;

    aPlayer.score=(aPlayer.numGoals) + (aPlayer.numAssists);
    return inPlayer;
} 

//overload operator greater than
int SoccerPlayer::operator>(SoccerPlayer& aPlayer)
{
    int total = 0;
    if (score > aPlayer.score)
        total = 1;
    return total;
}
//main declaration
int main()
{
    //11 players
    const int sz = 11;
    int x;
    SoccerPlayer aPlayer[sz];
    double max = 0;
    //to display star
    SoccerPlayer Star;
//allow user to input players, show what they input
for(x = 0; x < sz; ++x)
{
    cin >> aPlayer[x];
    cout << aPlayer[x] << endl << endl;
    for(int i=1; i<sz; i++)
    {
        Star=aPlayer[0];
        if(aPlayer[i] > aPlayer[i+1])

            Star=aPlayer[i];

    }
} 
//show star player
cout << "The Star Player: "<< endl;
Star.DisplayStar();
_getch();
return 0;
} 
```*

# google-chrome - SMIL“开始”和“结束”动画属性不在 Chrome 中调用但在 Firefox 中调用

> ID：12776227
> 
> 赞同：0
> 
> 时间：2012-10-08T06:17:04.567
> 
> 标签：google-chrome, svg, smil

```
<ellipse cx="150" cy="75" rx="10" ry="40" fill="blue">
<animate id="A" attributeName="rx" begin="click"
end="A.begin+4"
onbegin="alert('started')" onend="alert('stopped')"
dur="4s" values="10;110;10" repeatCount="indefinite"/>
</ellipse> 
```

上面的代码在 Firefox 中按预期工作，但在 Chrome 中没有。在 Firefox 中，警报显示在动画的开头和结尾。如何在 Chrome 中实现这一点？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-08T06:44:33.707

您可能已经为[错误 81995](https://bugs.webkit.org/show_bug.cgi?id=81995)编写了一个补丁，或者花钱请其他人为您做这件事，以使其在 webkit 中工作。

# ruby - 如何在处理此输入后将 STDin 传递给 IRB 而不会退出？

> ID：12776230
> 
> 赞同：0
> 
> 时间：2012-10-08T06:17:13.250
> 
> 标签：ruby, pipe, stdin, irb

我正在使用一个简短的 bash 脚本来帮助我在 ruby​​ 中测试链接列表的实现。我知道 rspec 和单元测试，我确信它们是我想要做的更好的选择，但我能够弄清楚这个命令

```
echo "require './nodes'" | irb 
```

之后的输出是

```
Switch to inspect mode.
require './nodes'
true 
```

从技术上讲是成功的，但是 irb 过程到此结束。所以我尝试了

```
echo "require './nodes'" | irb --noinspect 
```

这给了我

```
Switch to non inspect mode.
require './nodes'
true 
```

它再次退出 irb 进程。

我只是想让我的工作流程更方便一点，因为我喜欢使用 irb 来测试我的文件，方法是四处查看并查看会发生什么。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-08T07:37:07.930

创建一个简单的脚本，下面的代码将带您进入`irb`包含“节点”gem 的 shell。如果您使用的是 Ruby 1.8.x，那么您需要`require 'rubygems'`在需要节点之前添加 gem

```
#!/path/to/ruby -w

require 'irb'
require 'nodes'
IRB.start 
```

# asp.net-mvc - 在 aspnet mvc 和 jquery 中使用富文本编辑器发布问题

> ID：12776232
> 
> 赞同：1
> 
> 时间：2012-10-08T06:17:37.000
> 
> 标签：asp.net-mvc, jquery-ui, rich-text-editor

因此，我正在尝试通过 jquery (jqueryrte.com) 实现这个富文本编辑器，当我为文本区域发布一些已编辑的值时，它给了我以下错误。

> 从客户端检测到具有潜在危险的 Request.Form 值（Model.Description="...wn and track sports..."）。

我看到了一些可以解决此问题的方法，您可以关闭它的验证。我还阅读了有关某种白名单标签和东西的信息。但这是我第一次使用这种插件，我有点担心会受到 JavaScript 攻击。寻找关于我应该如何处理这个问题的建议。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-08T06:23:14.490

根据您问题的信息，我可以告诉您：

您应该将以下属性添加到从富文本框中获取请求的操作方法中。

```
[ValidateInput(false)]
public ActionResult Add(string richtext)
{
} 
```

这不会仅针对该 Action 方法上的参数检查危险代码。

要将危险标签列入白名单，您可能需要查看 Microsoft AntiXss 库：http: [//msdn.microsoft.com/en-us/security/aa973814.aspx](http://msdn.microsoft.com/en-us/security/aa973814.aspx)

# iphone - 动态规划。这个的递归关系是什么

> ID：12776238
> 
> 赞同：2
> 
> 时间：2012-10-08T06:18:00.960
> 
> 标签：iphone, dynamic

有一只青蛙可以跳**3,5,7**的长度。**在距离a1、a2……an**的河流中有石头。流的另一端距离**n**远。青蛙能过溪吗？如果青蛙可以向后跳怎么办？

现在这可能是什么递归关系。

就像我们如何根据**T(n-1)**和**T(n-2)来写****T(n** )等等。

 ****我回答

**`T(n) = min{T(n-1)+3, T(n-2) + 5, T(n-2) + 7)}`**

这个对吗 ？****

# php - 从 Web 服务获取数据

> ID：12776239
> 
> 赞同：0
> 
> 时间：2012-10-08T06:18:07.573
> 
> 标签：php, joomla

我正在从 Web 服务中获取数据，一旦有任何方法可以限制结果，它就会从页面显示 25 个结果。意味着我想显示 5 个结果，一旦有人知道它是如何可能的。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-08T06:27:28.567

您是否以编程方式执行此操作？还是通过某种 Joomla 的“东西”？

如果以编程方式，它就像馅饼一样简单！

```
$count = 0;
$limit = 5;
foreach ($result as $item) {
  // Display your item
  if ($count++ >= $limit) {
    // If we hit the limit, we'll bow out of the loop.
    break;
  }
} 
```

如果您可以从服务中请求 5 个项目会更好，但如果这是不可能的并且您只获得 25 个（而不是 2500 个！）那么这会很好。

# php - 从 sql 中选择随机变量并将其分配给函数

> ID：12776249
> 
> 赞同：1
> 
> 时间：2012-10-08T06:19:16.647
> 
> 标签：php, sql

我有这个功能：

```
function userPicBySkill($mainPassion){
$query  = mysql_query("SELECT id, username, imagename FROM users WHERE mainpassion =    '$mainPassion' ORDER BY RAND() LIMIT 5"); 

while ($row = mysql_fetch_array($query)) { 

$uid = $row["id"];
$username = $row["username"];   
$imagename = $row["imagename"];

echo "<a href='/$username'>  <img src='image/$imagename' width='40' height='41' alt =    '$username'></a>"; 
 } 
   } 
```

如果我分配它会起作用：

```
 $mainpassion = 'some skill'; 
```

我想做的是从我的表“技能”中随机选择 5 个“技能”：

```
+----------+-----------+
|skill_id  | skill_name|
+----------+-----------+
|        1 |   guitar  |  
|        2 |   cooking |   
|        3 |   math    |    
|        4 |   plumbing|
|        5 |   piano   |
+----------+-----------+ 
```

然后为每个技能获取 5 张用户图片。我试过这个，但它没有显示任何东西：

```
function findRandomSkill(){

$skill_list = mysql_query("SELECT skill_name FROM skills ORDER BY RAND() LIMIT 5");
while($row = mysql_fetch_array($skill_list)){
$skill = $row['skill_name'];
echo '<div class="userBySkillDiv">
<h5>'.$skill.'</h5>';
userPicBySkill($skill);
echo'</div>';
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-08T06:29:12.190

最好应用连接而不是执行 25 次查询：

```
SELECT id, username, imagename 
FROM users 
INNER JOIN (SELECT skill_name
    FROM skills
    ORDER BY RAND() 
    LIMIT 5
) userskills ON users.mainpassion = userskills.skill_name
ORDER BY RAND()
LIMIT 5 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-08T06:23:14.247

“什么都不显示”是什么意思？5个技能名的列表是否被返回？

要获得 5 个随机技能，请尝试`$skill_list = mysql_query("SELECT DISTINCT(skill_name) FROM skills ORDER BY RAND() LIMIT 5");`

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-08T06:35:04.253

像这样在函数中使用不同`$row`的变量，这会导致问题。

```
function userPicBySkill($mainPassion){
$query  = mysql_query("SELECT id, username, imagename FROM users WHERE mainpassion =    '$mainPassion' ORDER BY RAND() LIMIT 5"); 

while ($row1 = mysql_fetch_array($query)) { 

$uid = $row1["id"];
$username = $row1["username"];   
$imagename = $row1["imagename"];

echo "<a href='/$username'>  <img src='image/$imagename' width='40' height='41' alt =    '$username'></a>"; 
 } 
} 
```

# cakephp - CakePHP 资产压缩插件问题

> ID：12776256
> 
> 赞同：0
> 
> 时间：2012-10-08T06:19:42.147
> 
> 标签：cakephp, compression

在我的 CakePHP 应用程序中使用 AssetCompress 插件时遇到问题。它似乎确实有点工作，之前是当前的asset_compress.ini 文件。当调试设置为 2 时，我的网站似乎找到了我的 javascript 文件，但它没有保存到缓存文件夹中。当我将调试设置为 0 时它根本不起作用并说文件丢失？

我非常严格地遵循指南，所以我错过了什么？如果您需要粘贴我网站上的其他任何内容，请告诉我！

```
[一般的]
缓存配置 = 真
始终启用控制器 = 假
writeCache = 真

[js]
baseUrl = http://www.MYDOMAIN.net/projects/cake/DrWho/
时间戳=假
路径[] = WEBROOT/js/*
cachePath = WEBROOT/cache_js/

[CSS]
cachePath = WEBROOT/cache_css/
[js_DataFile.js]
文件[] = jquery-1.8.1.min.js
文件[] = jquery-ui-1.8.24.min.js
文件[] = html5shiv.js
文件[] = menu.js
```

谢谢格伦。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-08T23:49:56.807

更新 :: 当您将调试设置为 0 时，您必须使用 Shell 来制作文件，或者使用 cake 命令行调用。

工作中...

# asp.net-mvc-3 - 如何在 mvc 中单击 actionlink 时显示部分视图

> ID：12776257
> 
> 赞同：0
> 
> 时间：2012-10-08T06:20:06.150
> 
> 标签：asp.net-mvc-3

我在页面上有以下两个操作链接：

```
@Html.ActionLink("User List","list");
@Html.ActionLink("Admin List","admin"); 
```

在他们单击时，我想使用 jQuery 显示/隐藏部分视图。帮我解决这个问题。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-08T06:27:47.140

您可以改用`Ajax.ActionLink`帮助程序：

```
@Ajax.ActionLink("User List","list", new AjaxOptions { UpdateTargetId = "someDiv" });
@Ajax.ActionLink("Admin List","admin", new AjaxOptions { UpdateTargetId = "someDiv" }); 
```

这假设`list`and`admin`动作返回部分视图：

```
public ActionResult List()
{
    return PartialView();
} 
```

并且这个局部视图的结果将被注入到带有`id="someDiv"`. 同样为了这个工作不要忘记将`jquery.unobtrusive-ajax.js`脚本包含到您的页面中

```
<script src="@Url.Content("~/Scripts/jquery.unobtrusive-ajax.js")" type="text/javascript"></script> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-08T06:28:00.923

```
<div id="test"></div>

@Ajax.ActionLink("User List","list", new AjaxOptions{ UpdateTargetId = "test" });
@Ajax.ActionLink("Admin List","admin", new AjaxOptions{ UpdateTargetId = "test" }); 
```

# java - Hibernate：在 StackOverflowError 中与多对多结果合并

> ID：12776262
> 
> 赞同：7
> 
> 时间：2012-10-08T06:20:20.267
> 
> 标签：java, spring, hibernate, merge, many-to-many

我有一个多对多的关系，链接表有一个附加字段。因此，根据以下教程，该关系是通过 2 个一对多关系完成的：

[http://www.mkyong.com/hibernate/hibernate-many-to-many-example-join-table-extra-column-annotation/comment-page-1/#comment-122181](http://www.mkyong.com/hibernate/hibernate-many-to-many-example-join-table-extra-column-annotation/comment-page-1/#comment-122181)

我有 2 个实体，第三个实体定义了链接表并由一个 @Embeddable ID 字段组成。

关系定义为：

```
@OneToMany(fetch = FetchType.LAZY, mappedBy = "pk.compound", cascade = CascadeType.ALL)

@OneToMany(fetch = FetchType.LAZY, mappedBy = "pk.structure", cascade = CascadeType.ALL) 
```

是 pk = @Embeddable ID 字段。插入和删除工作正常但是当我打电话时

```
session.merge(compound); 
```

我得到一个 StackOverflowError 并且日志显示 hibernate 正在制作大量的选择语句。请注意，数据库恰好包含 1 个关联，例如。1 个化合物包含 2 个结构。看起来休眠进入了一个无限循环。

我也在[http://giannigar.wordpress.com/2009/09/04/mapping-a-many-to-many-join-table-with-extra-column-using-jpa/](http://giannigar.wordpress.com/2009/09/04/mapping-a-many-to-many-join-table-with-extra-column-using-jpa/)上看到了这个解决方案，但是如何你更新了吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-09T12:40:09.510

我的解决方案是在拥有方使用 FetctType.EAGER，在子方使用 FetchType.Lazy，并在链接表的 2 个 ManyToOne 关系中使用。像这样，我可以从拥有方加载，而不会让 LazyInitializationException 和 mergign 按预期工作。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-08T13:23:55.337

我支持 SpaceTuckker 的回答。我不认为 Persist 与合并相同。合并将在持久化之前加载对象。坚持不行。因此，当您调用 merge 恕我直言时，它需要加载惰性关系。如果你打电话坚持它不会。

您还可以使用 @ElementDependent 将相关的 @OneToMany 关系标记为依赖于另一个表。这就是我用连接表中的附加列解决多对多关系的方法。

# java - 创建实例变量不起作用？

> ID：12776263
> 
> 赞同：0
> 
> 时间：2012-10-08T06:20:24.927
> 
> 标签：java, variables, instance

自从我使用 JAVA 以来已经有一段时间了。

我正在尝试创建一个实例变量以便在另一个类中使用方法。

但它给了我一条错误消息，上面写着“构造函数 BB 未定义”

有什么帮助吗？

```
public class AA implements CC { //this is the class where I am trying to create an instance variable

        public int Get() {
        throw new IllegalStateException("Please implement me.");
        BB fifo = new BB(); // this is where I am declaring.
    }
} 
```

还有 FIFOLock 类的签名。

```
public class BB implements DD {
       public int Get() {}
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-08T06:24:11.080

你的陈述`BB fifo = new BB();`应该在之前

`throw new IllegalStateException("Please implement me.");`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-08T06:25:39.473

我不确定您为什么会收到该错误消息，但问题可能是您正在编写的代码是一个永远无法执行的地方（在您抛出异常之后）

我建议您删除异常或将其放在方法的末尾。

顺便说一句，我建议您使用`camelCase`for 方法并使用`UnsupportedOperationException`as`IllegalStateException`表示对象处于一种状态，这意味着该方法无法使用，即另一个令人困惑的错误。

还有一个`FIFOLock`内置的锁，所以我建议你使用它`new ReentrantLock(true);`是一个 fifo 锁。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-08T06:25:49.380

当你在你的类中声明一个**1-arg 构造函数**或任何**n-arg 构造函数**时，你也应该自己声明一个**0-arg 构造函数**。因为`Compiler`不会为你做这件事。

当您的类中没有声明其他构造函数时，编译器仅添加默认构造函数。

所以，如果你想使用： - ，除了你已经存在的构造函数之外，在你的 BB 类中`BB obj = new BB()`声明一个**公共构造函数： -**

```
public BB() {
}

public BB(String arg) {  // Whatever constructor you have declared
} 
```

**或者，如果您无法更改类，请使用 1-arg 构造函数创建实例：-**

```
 public int Get() {
    BB fifo = new BB("rohit"); // this is where I am declaring.
    throw new IllegalStateException("Please implement me.");
 } 
```

**注意**： - 您应该`throw`在实例创建行之后有语句。否则，代码不会`Compile`......因为那将是`UnreachableCode`

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-08T06:24:44.297

添加默认构造函数，这样做：

```
public class BB implements DD {
BB()
{
}

       public int Get() {}
} 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-10-08T06:25:59.620

`BB`请在您的课程中添加以下内容

```
 public BB() {
    } 
```

我怀疑您在类中使用了**参数化构造函数**`BB`，而没有创建**默认构造函数/无参数构造函数**。如果您的`BB`类中有默认构造函数，请制作它，`public`以便其他类也可以访问它。

* * *

## 回答 #6

> 赞同：-1
> 
> 时间：2012-10-08T06:36:24.350

As you said that you have `public BB (String name) { mt = name}`

**You should have mentioned the above in your code.**

Then you should initialize the Instance of class BB in class AA like this:

`BB b = new BB("Vivek");`

**ie.** with a String as an argument.

And place your `BB b = new BB("Hello");` before the **throw** statement.

# ruby-on-rails - check_box 表单助手的正确用法是什么？

> ID：12776265
> 
> 赞同：0
> 
> 时间：2012-10-08T06:20:26.937
> 
> 标签：ruby-on-rails, ruby-on-rails-3

我有两个模型 - `Client`& `Topic`，它们之间有 HABTM 关系。

`form`我正在尝试在客户端部分生成一系列主题复选框。

这就是我正在做的事情：

```
<% Topic.all.each do |topic| %>
  <% checked = @client.topics.include?(topic) %>
    <%= f.label(:name, topic.name) %> <%= f.check_box @topics, topic.id %>
<% end %> 
```

这是我得到的错误：

```
undefined method `merge' for 1:Fixnum 
```

我知道一种解决方案是使用`check_box_tag`，但这迫使我手动更新关联的记录。

所以我宁愿使用 form_helper 作为复选框标签。[文档](http://api.rubyonrails.org/classes/ActionView/Helpers/FormHelper.html#method-i-check_box)让我有点困惑。

我怎样才能让它与`f.check_box`.

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-08T06:30:23.217

代码让我感到困惑。`@topics`包含什么？如果它是一个集合，`Topic`那么为什么您要直接访问`Topic`视图中的模型？这将是：

```
@topics.each.do 
```

而不是你

```
Topic.all.each 
```

此外，您正在使用 @topics 作为循环内的集合。check_box 如何从集合中生成复选框？

请看以下几点：

1.  [接受_nested_attributes_for](http://api.rubyonrails.org/classes/ActiveRecord/NestedAttributes/ClassMethods.html#method-i-accepts_nested_attributes_for)。除了客户端`has_many`主题关联之外，您还需要在客户端模型中进行设置
2.  [fields_for](http://apidock.com/rails/ActionView/Helpers/FormHelper/fields_for)否则，rails 将不知道您要从同一表单更新主题模型。
3.  查看[此截屏视频](http://railscasts.com/episodes/196-nested-model-form-part-1)以了解如何使其工作

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-08T07:08:07.090

无论出于何种原因，`form`助手都不能与`check_box`.

所以，这是有效的代码：

```
<%= check_box_tag "client[topic_ids][]", topic.id, checked %> 
```

根据类似问题的[其他答案](https://stackoverflow.com/questions/4721058/undefined-method-merge-for-2fixnum)，助手`f.check_box`是模型绑定的，并且提供给复选框的值是表单上模型的隐含值。问题是，我不知道如何获得 form_helper 的隐含值来生成正确的标签 - 即`client[topic_ids][]`，所以我不得不求助于`check_box_tag`.

# asp.net - 测试 Authorize.net ARB (SOAP) 创建订阅过程。

> ID：12776266
> 
> 赞同：1
> 
> 时间：2012-10-08T06:20:34.867
> 
> 标签：asp.net, soap, authorize.net, authorize.net-arb

我正在尝试将 Authorize.net ARB Payment 模块集成到我的 asp.net 应用程序（使用 SOAP）中，同样我需要测试其中的功能。但是对于**CreateSubscription()**方法，我收到一个错误： **支付网关帐户处于测试模式。无法处理该请求。**

所以请告诉我（如果可能的话）如何在我的 ASP.Net 应用程序的 TEST-MODE 中测试 ARB 的功能。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-09T11:27:07.203

您需要使用[开发者帐户](https://developer.authorize.net/testaccount/)进行测试，因为您无法在真实帐户中设置订阅，即使在测试模式下也是如此。

# c# - 工厂反思是一种好的做法？

> ID：12776274
> 
> 赞同：4
> 
> 时间：2012-10-08T06:21:09.053
> 
> 标签：c#, design-patterns, factory

我想编写一个工厂来实例化一个具体类并将其接口返回给客户端。通过这种方式，我可以将客户端与直接依赖于具体类解耦。但是，同时我不希望工厂依赖于具体类。我可以使用反射来满足我的需要，但在这样做之前我想知道这是否是一个好习惯。

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-10-08T06:26:29.770

没有更多细节很难说，但我通常*希望*工厂实现依赖于它创建实例的具体类。在我看来，这是一种完全自然的依赖。

如果你想让它成为一个非常*通用*的工厂，它本质上正是*因为*它使用反射来增加价值——本质上是做大多数 IoC 容器所做的一小部分——那很好；但如果它是一种特定类型的工厂，那么我只会接受依赖。它可能会导致代码更易于理解和测试，并且效率更高。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-08T06:30:59.527

是的，您的方法将是很好的做法。但是已经有一些框架可以为你工作。请参阅[MEF](http://bit.ly/OhgfFa)框架。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-08T07:01:15.370

是的，你的方法很好，我认为它没有任何问题。但是，与其花时间去做，不如使用一些已经存在的框架。

可以考虑[Spring Framework 的 IOC 模块](http://www.springframework.net/doc-latest/reference/html/objects.html)。

# awk - 批处理脚本中的 AWK 等效项

> ID：12776283
> 
> 赞同：3
> 
> 时间：2012-10-08T06:21:51.317
> 
> 标签：awk, find, batch-file

我想要一个与此 AWK 脚本等效的批处理脚本：

```
awk '{print $3}' 
```

文件具有以下内容：

```
XXX YYY : 8
Rrr rrr : 7
ddd rrr : 9 
```

我想打印一个批处理脚本

```
8, 7, 9 
```

有什么方法可以将每个值分配给循环并重定向到 if 条件？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-10-08T07:26:22.080

我不知道您要求的是 Windows Batch 脚本还是 awk 脚本，所以两者都有：

测试.txt：

```
XXX YYY : 8
Rrr rrr : 7
ddd rrr : 9 
```

**AWK**：

```
awk 'NR > 1 {printf ", "}{printf $4}END{printf "\n"}' test.txt 
```

输出：

```
8, 7, 9 
```

* * *

**Windows 批处理脚本**：

```
@echo off
SET _c=
FOR /F "tokens=4 delims= " %%G IN (test.txt) DO (
    IF DEFINED _c <nul set /p z=", "
    <nul set /p z=%%G
    SET _c=1
) 
```

输出：

```
8, 7, 9 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-08T06:30:26.113

```
awk -F: '{x=x","$2;}END{print substr(x,2,length(x)-1)}' your_file 
```

测试如下：

```
> cat temp
XXX YYY : 8
Rrr rrr : 7
ddd rrr : 9
> awk -F: '{x=x","$2;}END{print substr(x,2,length(x)-1)}' temp
 8, 7, 9 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-08T07:00:01.730

另一种解决方案：

```
 awk '{ if(NR<3) printf "%s, ", $4 }END{ print $4 }' file 
```

结果：

```
echo -e "XXX YYY : 8\nRrr rrr : 7\nddd rrr : 9" | awk '{ if(NR<3) printf "%s, ", $4 }END{ print $4 }'
8, 7, 9 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-06-02T08:59:44.693

这将从您的示例文件`awk '{print $3}'`中打印一个列表，而不是数字。`:`你应该用过`$4`. 或者，您在这里向我们展示了错误的文件格式。

该 awk 脚本的确切 Windows 等效项是：

```
FOR /F "tokens=4" %%a IN (file.txt) DO ECHO %%a 
```

但是，您显示的所需输出`8, 7, 9`也不是您的 Awk 脚本打印的内容。产生输出的最简单的批处理命令是：

```
FOR /F "tokens=4" %%a IN (file.txt) DO <nul SET /p="%%a, " 
```

如果你真的无法忍受最后多余的逗号，它会变得更加复杂：

```
SETLOCAL
FOR /F "tokens=4" %%a IN (file.txt) DO <nul CALL SET /p=%%,%% %%a& SET ,=, 
```

**Windows 上的 AWK**

顺便说一句，Awk 可用于 Windows。引用不同，因此您的脚本将是：

```
awk "{printf $4 \", \"}" file.txt 
```

或者为了摆脱那个额外的逗号，它会变得更加混乱：

```
awk "{printf (NR>1?\", \":\"\") $4}" file.txt 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2015-08-21T16:16:38.830

## 直接输出到终端

**如果您已经有 awk.exe，请先尝试步骤 (3)，然后再尝试 (1:3)**

**AWK**被同样向后兼容的**GAWK**取代（检查**(3)**）。

1.  **获得正确的 GAWK**

    所以我使用 Gawk v3.6.1 运行设置[链接](http://sourceforge.net/projects/gnuwin32/files/gawk/3.1.6-1/gawk-3.1.6-1-setup.exe/download)。运行**gawk-3.1.6-1-setup.exe**。

    在安装过程中记下您提取/安装到的目录的路径，**选中二进制文件和文档**，其余的是您的偏好。

2.  **提取 GAWK**

    安装后，通过导航到您在 install 中记下的路径并转到**bin 目录**，从安装目录中提取***gawk.exe***。复制**gawk.exe**然后导航到您希望赋予 gawk 功能的批处理文件 (*.bat) 的目录并粘贴它（因为它是可移植的 *.exe 并且我的批处理的目的需要是自包含的）。

*****   **使用正确的命令**

    这些命令直接打印到终端，很好地格式化了我缺少的关键字，我花了一整天的时间在互联网上搜索，然后阅读一个近 2000 行长的文本文件并在大括号前找到**BEGIN 。****在阅读*\man\cat1**中的**gawk.1.txt**之前，我没有想到

     **```
    gawk "BEGIN { print \"Hello world\"}"

    REM If you have printf from GNUwin32
    gawk "BEGIN { printf \"Hello world\"}" 
    ```******

# javascript - 使灯箱闪烁以全屏显示 div

> ID：12776287
> 
> 赞同：1
> 
> 时间：2012-10-08T06:22:03.033
> 
> 标签：javascript, html, flash, internet-explorer

`<div>`我想在 IE中对网页中的单个标签使用全屏功能。我已经尝试过[IE](http://xme.im/display-fullscreen-website-using-javascript#comment-829)的链接。但它使整个屏幕成为全屏我只想单个`<div>`标记突出显示`onclicking`按钮。

当我听说flash可以实现那个功能时，我在[这里](https://sites.google.com/site/drupalvsgoooglesites/Google-Sites-Embed/flash-embed/flash-lightbox)得到了一个参考。我只是想用它在我的 IE6 上工作。如果有人知道如何做到这一点，可以帮助我实现我的目标。

如果有人有任何建议？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-16T15:32:12.013

检查这个小提琴[http://jsfiddle.net/Tv2pP/7/](http://jsfiddle.net/Tv2pP/7/)。使 div 位置相对并将其宽度更改为 100%

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-13T08:57:55.867

理解您的概念的简单方法是使用

> 位置：相对

和

> 宽度：100%

到你的 div

# c++ - boost::variant 对象的吸气剂

> ID：12776289
> 
> 赞同：4
> 
> 时间：2012-10-08T06:22:13.723
> 
> 标签：c++, boost

我有一个 getter 对象，它返回一个 Type 类型的对象，定义如下：

```
typedef boost::variant<int, std::string> Empty; 
```

通常情况下，我既没有要返回的 int 也没有要返回的字符串，而是必须返回一个空状态。你认为我如何恢复这种状态？

a) typedef 一个空类型并将其添加到变体中：`boost::variant<int, std::string, Empty>`.

b）返回类型（）

c) 抛出异常

d) 返回一个 boost::shared_ptr，它在为空的情况下指向 NULL。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-10-08T07:55:57.070

正确的答案是`boost::blank`用于其中可以没有任何内容的变体。因此，您的变体 typedef 如下所示：

```
typedef boost::variant<boost::blank, int, std::string> Empty; 
```

`blank`是专门为此设计的，并`variant`有基于它的特殊代码。通过使用它，您可以在复制时获得无内存分配保证（如果成员未在复制时分配）。所以这很好。

由于您的变体可以是“空的”，因此您的所有处理访问者都可以处理它是很重要的。添加额外的访问者路径通常比基于某个`optional`或某事的多个条件更方便。不同的代码路径将本地化给访问者，这通常比`optional<variant>`.

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-10-08T07:00:14.053

将它包装在 a 中`boost::optional`，这有一个简单的测试（可转换为布尔值）来确定是否分配了有效值 - 那么您不需要用“空”状态污染您的变体。例如

```
boost::optional<boost::variant<... > > some_func()
{
:
} 
```

当您实际需要返回某些内容时，请记住在您的函数中使用就地构造。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-08T06:33:28.417

如果方法可能无法返回对象，这是一种常见的方法 - 使方法返回布尔值：

```
bool get_value(Type& type) {
  if ( /*check variant emptyness*/) // one can use this - http://stackoverflow.com/a/7668530/670719
    return false;
  // else assign type 
} 
```

对您的解决方案的评论：

a) 如果您将返回 Empty，您仍然需要在方法调用后进行检查。那么，如果已经有内置的布尔值，为什么还要添加更多类型。

b) Type() 可以具有与合法变量相同的值

c）例外是针对特殊情况，但根据您的描述“通常是”

d) 你的问题是你不能使用 Type 并且同时不能返回 boost::variant，所以添加一个带有额外所有权问题的类型会带来更多的问题，而不解决最初的清洁界面问题.

# asp.net-mvc-3 - Html.Display 不适用于 ViewBag

> ID：12776291
> 
> 赞同：3
> 
> 时间：2012-10-08T06:22:25.350
> 
> 标签：asp.net-mvc-3, razor, html.textbox

Html.Display 不适用于 ViewBag。

```
@Html.Display("disp", (string)@ViewBag.disp) 
```

我必须使用这个视图包，因为它可以通过选择另一个显示的搜索按钮进行修改。

```
@Html.TextBox("disp", (string)@ViewBag.disp) 
```

如果我使用 TextBox 而不是 Display 它可以工作，但我希望是只读的。怎么可能？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-10-08T06:26:39.590

因为没有将值作为参数的 Display 重载。

所以。

你可以简单地做

```
@ViewBag.disp 
```

或（如果它包含 HTML）

```
@Html.Raw(ViewBag.disp) 
```

或者如果你想要一个文本框

```
@Html.TextBox("disp", (string)@ViewBag.disp, new{@readonly = true}) 
```

# android - 如何从非活动类获取 AsyncTask 完成状态

> ID：12776293
> 
> 赞同：0
> 
> 时间：2012-10-08T06:22:37.540
> 
> 标签：android, android-asynctask

我想等到我`AsynTask`完成后再继续。但是，状态始终显示为**RUNNING**。`AsyncTask`已经完成的信号如何返回？为什么我的while循环没完没了？我认为一旦`onPostExecute()`在任务上被调用，状态就会变为 FINISHED。

```
private void methodOne(Context context) {

MyNewTask getMyTask = null;

    try {

        getMyTask = new MyNewTask(context, null, null, param1);

        getMyTask.execute(getUrl());

        while(getResourceTask.getStatus().equals(AsyncTask.Status.RUNNING)){

            Log.i("log", "STATUS : " + getMyTask.getStatus());
        }

    } catch (Exception e) {
        e.printStackTrace();
    }
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-08T06:48:13.457

Is this method executed in UI thread? If so, `onPostExecute()` won't have a chance to be executed (UI thread blocked).

You normally don't wait for AsyncTask to complete by looping. This is a serious code smell. You should just start whatever you want to do in `onPostExecute()`.

So, instead of

```
task.execute();
while(task.getStatus().equals(AsyncTask.Status.RUNNING)) {};
doSomeWork(); 
```

You should use:

```
task.execute(); 
```

And:

```
void onPostExecute(Param... params) {
    doSomeWork();
} 
```

Where `doSomeWork()` is a method in class that calls `AsyncTask`. This way you get informed that task has finished.

# asp.net - Asp.net webforms 生成的代码格式不正确

> ID：12776297
> 
> 赞同：0
> 
> 时间：2012-10-08T06:23:08.390
> 
> 标签：asp.net

嗨，我最近开始学习 asp.net webforms，当您检查页面的源代码时，我注意到它生成的代码非常混乱。我的意思是： ![在此处输入图像描述](../Images/96e9f83cde7eedaa0eea97811fc0075e.png)

有没有办法让代码看起来更好地格式化，或者这是 webforms 应该生成代码的方式？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-08T06:27:35.890

你不能做任何事情来修复它。

# android - Android：应用程序在使用 progurad 配置后崩溃

> ID：12776300
> 
> 赞同：2
> 
> 时间：2012-10-08T06:23:21.783
> 
> 标签：android, proguard

我刚刚开发了我的应用程序并想发布，但在此之前我想删除日志和其他不必要的东西。我发现使用[Proguard](http://proguard.sourceforge.net/)的最佳方式。我正在使用命令行，所以我使用该命令`ant release`并且我的应用程序已成功构建，并且在 /bin 目录中生成的新 apk 文件是`<app-name>-release.apk`. 我在我的设备中安装了那个apk，但是在几个屏幕之后它崩溃了，当我尝试重新启动我的应用程序并移动到其他选项卡时，它在某些时候崩溃了。

不知道为什么会这样。所以这是我的`project.properties`文件 的包含`target=android-15`
`proguard.config=proguard-project.txt`

这是我的`proguard-project.txt`

```
-optimizationpasses 5
-dontusemixedcaseclassnames
-dontskipnonpubliclibraryclasses
-dontpreverify
-verbose
-optimizations !code/simplification/arithmetic,!field/*,!class/merging/*
-libraryjars smack.jar
-libraryjars libphonenumber-5.0v1.5.jar
#-keep class com.** { *; }
#-keep class org.** { *; }

-keep public class * extends android.app.Activity
-keep public class * extends android.app.Application
-keep public class * extends android.app.Service
-keep public class * extends android.content.BroadcastReceiver
-keep public class * extends android.content.ContentProvider
-keep public class * extends android.app.backup.BackupAgentHelper
-keep public class * extends android.preference.Preference
-keep public class com.android.vending.licensing.ILicensingService

-keepclasseswithmembernames class * {
native <methods>;
}

-keepclasseswithmembers class * {
public <init>(android.content.Context, android.util.AttributeSet);
}

-keepclasseswithmembers class * {
public <init>(android.content.Context, android.util.AttributeSet, int);
}

-keepclassmembers class * extends android.app.Activity {
public void *(android.view.View);
}

-keepclassmembers enum * {
public static **[] values();
public static ** valueOf(java.lang.String);
}

-keep class * implements android.os.Parcelable {
public static final android.os.Parcelable$Creator *;
} 
```

**错误日志：**

```
10-08 07:25:18.356: E/AndroidRuntime(1733): FATAL EXCEPTION: Contact_sync_Service
10-08 07:25:18.356: E/AndroidRuntime(1733): java.lang.NoClassDefFoundError: com.google.i18n.phonenumbers.PhoneNumberUtil
10-08 07:25:18.356: E/AndroidRuntime(1733):     at org.sipchat.sipua.ui.ai.run(Unknown 
Source)
10-08 07:25:18.356: E/AndroidRuntime(1733):     at java.lang.Thread.run(Thread.java:856)
10-08 07:26:26.756: E/dalvikvm(1751): Could not find class 'org.jivesoftware.smack.filter.MessageTypeFilter', referenced from method org.sipchat.sipua.ui.ConnectionService.a
10-08 07:26:26.786: E/dalvikvm(1751): Could not find class 'org.jivesoftware.smack.ConnectionConfiguration', referenced from method org.sipchat.sipua.ui.ConnectionService.onStartCommand
10-08 07:26:26.806: E/dalvikvm(1751): Could not find class 'org.jivesoftware.smack.ConnectionConfiguration', referenced from method org.sipchat.sipua.ui.af.run
10-08 07:26:26.956: E/AndroidRuntime(1751): FATAL EXCEPTION: main
10-08 07:26:26.956: E/AndroidRuntime(1751): java.lang.NoClassDefFoundError: org.jivesoftware.smack.ConnectionConfiguration
10-08 07:26:26.956: E/AndroidRuntime(1751):     at org.sipchat.sipua.ui.ConnectionService.onStartCommand(Unknown Source)
10-08 07:26:26.956: E/AndroidRuntime(1751):     at android.app.ActivityThread.handleServiceArgs(ActivityThread.java:2359)
10-08 07:26:26.956: E/AndroidRuntime(1751):     at android.app.ActivityThread.access$1900(ActivityThread.java:123)
10-08 07:26:26.956: E/AndroidRuntime(1751):     at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1210)
10-08 07:26:26.956: E/AndroidRuntime(1751):     at android.os.Handler.dispatchMessage(Handler.java:99)
10-08 07:26:26.956: E/AndroidRuntime(1751):     at android.os.Looper.loop(Looper.java:137)
10-08 07:26:26.956: E/AndroidRuntime(1751):     at android.app.ActivityThread.main(ActivityThread.java:4424)
10-08 07:26:26.956: E/AndroidRuntime(1751):     at java.lang.reflect.Method.invokeNative(Native Method)
10-08 07:26:26.956: E/AndroidRuntime(1751):     at java.lang.reflect.Method.invoke(Method.java:511)
10-08 07:26:26.956: E/AndroidRuntime(1751):     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:784)
10-08 07:26:26.956: E/AndroidRuntime(1751):     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:551)
10-08 07:26:26.956: E/AndroidRuntime(1751):     at dalvik.system.NativeStart.main(Native Method) 
```

**更新 ：**

错误提到的包是我已经添加的jar文件的包`proguard-project.txt`

如果我在任何地方出错，请让我清楚？
谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-08T06:37:16.940

你试过 Dexguard 了吗？正如proguard网站上所说

> ProGuard 现在有一个用于 Android 的同级优化器和混淆器：DexGuard。它与 ProGuard 兼容，并提供额外的功能，如字符串加密、类加密和隐藏对敏感 API 的访问。它直接针对 Dalvik 字节码并简化了 Android 构建过程。

[http://www.saikoa.com/dexguard](http://www.saikoa.com/dexguard)

# mysql - 连接不同服务器的两个数据库

> ID：12776301
> 
> 赞同：0
> 
> 时间：2012-10-08T06:23:35.490
> 
> 标签：mysql

我在不同的服务器上有两个数据库：服务器 A 和服务器 B

服务器 A 有表：用户 服务器 B 有表：userProfile

有什么方法可以让我加入 user 到 userProfile ？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-08T06:27:49.627

在这里，您需要将服务器 A 作为链接服务器添加到服务器 B，反之亦然，以访问这两个表并加入服务器 A 或服务器 B 中的任何一个。

# bash - Bash - 从外部文件中获取变量

> ID：12776302
> 
> 赞同：2
> 
> 时间：2012-10-08T06:23:40.183
> 
> 标签：bash, configuration

我正在尝试制作一个配置文件来帮助运行 bash 脚本。

这个想法是有一个像这样的文件（script.conf）

```
directory=c:/path/to/a/specific/directory/
logo=y
title=y
hotspots=n
combobox=n 
```

然后，运行脚本，它将读取 script.conf 并获取这些变量以在脚本中使用。

我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-10-08T06:26:01.447

该`source`命令（也称为`.`，但不要与同名目录混淆）将允许您在当前 shell 中运行另一个文件。只需使该文件包含变量分配。

foo.sh

```
#!/bin/bash
. bar.sh
echo "$baz" 
```

酒吧.sh

```
baz=42 
```

# android - 应用不同颜色的样式

> ID：12776303
> 
> 赞同：1
> 
> 时间：2012-10-08T06:23:47.290
> 
> 标签：android, android-view

![在此处输入图像描述](../Images/ee222d7411ebf83d94e7f1b14f3d4a5f.png)

如何应用样式和颜色与前半个单词一种颜色和其他半个世界其他颜色如上图

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-08T06:57:04.000

试试这个，

```
<TextView 
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:id="@+id/tvText"
        android:background="#FF0000"
        android:textSize="28dip"
        android:textStyle="bold"
        android:paddingLeft="10dip"
        android:paddingRight="10dip"
        />

TextView tvText = (TextView)findViewById(R.id.tvText);
Spannable WordtoSpan = new SpannableString("AIRTEL");        

WordtoSpan.setSpan(new BackgroundColorSpan(Color.WHITE), 0, 3,   Spannable.SPAN_EXCLUSIVE_EXCLUSIVE);

tvText.setText(WordtoSpan); 
```

这可能会对您有所帮助。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-08T06:50:01.350

```
Spannable str = "AIRTEL"; 

            str.setSpan(new ForegroundColorSpan(Color.RED), 0, 2, Spannable.SPAN_EXCLUSIVE_EXCLUSIVE);

            str.setSpan(new ForegroundColorSpan(Color.BLACK), 3, 5, Spannable.SPAN_EXCLUSIVE_EXCLUSIVE); 
```

# delphi - Delphi 7 - 从网站获取价值

> ID：12776304
> 
> 赞同：0
> 
> 时间：2012-10-08T06:23:47.363
> 
> 标签：delphi

看看yaw能不能帮到我

假设有一个链接：www.example.com/test.html

打开时，它将显示 0 或 1。

我需要获取该值。IE：

```
if internet.value := 0 then ShowMessage('False') else ShowMessage('True'); 
```

它可能使用 indy 组件或 winsockets，我将如何处理这个？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-08T07:27:55.607

如果你在谈论一个只包含一个整数值的纯文本文件，你可以使用 Indy，例如这种方式。以下函数在页面下载成功且页面包含整数值时返回 True，否则返回 False。请注意，我是在浏览器中编写的，因此未经测试：

```
uses
  IdHTTP;

function TryWebContentToInt(const AURL: string; out AValue: Integer): Boolean;
var
  S: string;
  IdHTTP: TIdHTTP;
begin
  IdHTTP := TIdHTTP.Create(nil);
  try
    IdHTTP.HandleRedirects := True;
    try
      S := IdHTTP.Get(AURL);
      Result := TryStrToInt(S, AValue);
    except
      Result := False;
    end;       
  finally
    IdHTTP.Free;
  end;
end; 
```

以及用法：

```
procedure TForm1.Button1Click(Sender: TObject);
var
  I: Integer;
begin
  if TryWebContentToInt('http://example.com/page.html', I) then
    ShowMessage('Value: ' + IntToStr(I))
  else
    ShowMessage('Page downloading failed or it doesn''t contain an integer value!');
end; 
```

# c - C 指向指针、字符的指针

> ID：12776305
> 
> 赞同：0
> 
> 时间：2012-10-08T06:23:48.780
> 
> 标签：c, pointers, multidimensional-array, char

我已经尝试解决这个问题好几个小时了。包括研究，但不行。基本上，我们必须使用以下方法创建函数：

`int reverseSentence(char** sentence, char ** newsentance, int maxWords){`

它返回句子中的单词数。

这里有更多信息：

您必须保持句子大写，这意味着如果句子大写，则保留大写。如果单词大写，例如名称，则保留大写

*   参数 sentence 是对带有要反转的句子的字符数组的引用，不应由您的函数直接修改。每个单词都是句子中的一个数组条目。
*   参数 newsentance 是对保存新句子的字符数组的引用。
*   参数 maxWords 是字符数组的最大大小。
*   返回句子中的单词数
*   不要将字符串复制到临时存储并在句子中替换它们。移动指针。

例如：“存在还是不存在：这是个问题。” 变成“问题是那是：不是或是，到。

现在，我遇到的问题是，目前我的代码有效。但我似乎想不出一种方法来大写某些东西而不会出错。（因为我们不能做一个新的存储）。

我在这里拥有的基本上是我的代码的一部分：

```
char ** fptr = sentence; //front sentence
char ** lptr = sentence; //last sentence
char ** nptr = newsentance;//front of new sentance

 if( isupper(**fptr)){ //if the first letter of the first word is capital set flag
   capflag = 1;
}
// find last word before null sentence and also calculate size

while(**(++lptr)) 
   ++size;      

 --lptr;

 if(capflag){ 
    *nptr = *lptr;
    **nptr = toupper(**lptr);            //error here
 } 
```

另外，我不得不假设句子中的最后一个“单词”是“”，否则我找不到计算句子大小的方法。我希望有人可以帮助我。

我用它来测试：

```
 char ** test = malloc(1000);
   *test = "To ";
   *(test+1) = "be ";
   *(test+2) = "or ";
   *(test+3) = "not ";
   *(test+4) = "to ";
   *(test+5) = "be ";
   *(test+6) = "";
   char ** ztest = malloc(1000);
   int rs = reverseSentence(test, ztest, 1000 ); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-08T06:56:23.643

您的代码尝试修改字符串文字，这是未定义的行为（您不能执行“ABC”[1] = 48；某些实现将字符串文字放入只读内存）。尝试使用 malloc 为每个单独的字符串分配空间，并使用 memcpy 从每个字符串文字中复制数据。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-08T07:07:37.043

下面的代码给了我输出：

```
To be or not to be; that is the question.
Number of words: 10
To be or not to be; that is the question.
question. the is that be; to not or be To 
```

它只会随机播放（复制）指针；它不会尝试修改单词的大小写。如果要这样做，它必须更加努力，分配原始句子中前导词的副本（但是你怎么知道那是不是一个名字？）和最后一个词。假设句子是“伦敦举办了 2012 年奥运会”；反转时，您不想对 London 的 L 进行大小写转换，因为它恰好是句子开头的名称（而且您也不需要对 Olympics 的 O 进行大小写转换）。

您可以合理地决定句子末尾的句号（句点）不应包含在数据中（因此 my`"question."`应替换为`"question"`），然后让句子打印代码在末尾添加句号；这是一个微不足道的修改。

```
#include <stdio.h>

int reverse_sentence(char **fwd_order, char **rev_order, int max_words)
{
     char **end = fwd_order;
     int    num_words = 0;
     for (end = fwd_order; *end != 0 && num_words < max_words; end++)
         num_words++;
     for (int i = 0; i < num_words; i++)
         *rev_order++ = *--end;
     *rev_order = 0;
     return num_words;
}

static void print_sentence(char **words)
{
     const char *pad = "";
     while (*words)
     {
         printf("%s%s", pad, *words++);
         pad = " ";
     }
     putchar('\n');
}

int main(void)
{
     char *sentence[] =
     { "To", "be", "or", "not", "to", "be;", "that", "is", "the", "question.", 0 };
     enum { NUM_WORDS = sizeof(sentence) / sizeof(sentence[0]) };
     char *reversed[NUM_WORDS];
     int num_words;

     print_sentence(sentence);
     num_words = reverse_sentence(sentence, reversed, NUM_WORDS);
     printf("Number of words: %d\n", num_words);
     print_sentence(sentence);
     print_sentence(reversed);
     return(0);
} 
```

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2012-10-08T06:57:59.790

*例如：“存在还是不存在：这是个问题。” 变成“问题是那是：不是或是，到。*

这是规范的一部分还是您的解释？如果是后者，你应该验证你的解释是否正确，或者你是否只是简单地颠倒单词的顺序，这很容易实现。你甚至知道你是否需要处理标点符号吗？您的代码没有，并且您的测试与您的示例不匹配。

软件工程的第一条规则：确定需求。

# java - 多个 && 语句 - 效率

> ID：12776307
> 
> 赞同：2
> 
> 时间：2012-10-08T06:23:51.743
> 
> 标签：java, performance

> **可能重复：**
> [Java 是否在布尔结果已知后评估剩余条件？](https://stackoverflow.com/questions/6352139/does-java-evaluate-remaining-conditions-after-boolean-result-is-known)

在 java 中执行具有多个`&&`语句的代码时，如果第一个解析为 false，编译器是否会继续解析额外的布尔比较？

```
if (1==2 && 3==4 && 4==5) { Do Something } 
```

一旦确定`1==2`为假，编译器会立即跳出 if 语句，还是会继续解析`3==4`并`4==5`在之后继续解析？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-08T06:26:40.713

如果`&&`它检测到其中一个条件为假，它将停止评估。这称为[短路评估](http://en.wikipedia.org/wiki/Short-circuit_evaluation)。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-08T07:36:56.777

## “编程语言中的短路评估”

在任何逻辑表达式的情况下`most compiler stop evaluation expression as soon as result evaluated`。它**不仅在 Java 中，而且在几乎所有语言中**。（但不是全部，例如 VB6）

您也可以按如下方式进行检查：

> i = 0 , j =1;
> 我 && ++j;
> system.out.print(" j=" + j);

的值`j will be 1`，表示**++j 没有被执行。**

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-08T06:29:10.470

> 如果第一个布尔比较解析为 false，编译器是否继续解析其他布尔比较

简短的回答。不！编译器`javac`和`JIT`静态分析所有代码。像这样走捷径是不行的。例如，如果第二个条件没有编译，无论第一个条件如何，你总是会得到一个编译错误。

你可能想问的是；如果第一个或第二个条件是，程序会执行其他条件吗`false`？在这种情况下，它不会。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-10-08T06:29:37.310

这对编译器没有任何影响——它所做的只是将布尔比较解析为机器代码，由一个或多个 .class 文件表示。

至于实际的运行时间......如果我在计算机科学课上没记错的话，Tarun 和 Lews 的答案都是正确的——一旦得到一个不正确的表达式，比较就会短路。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-10-08T06:28:02.927

IF "1==2" 为假，编译器会立即跳出 if 语句。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-10-08T06:30:16.007

`&&`

**-**以上是一个`short-circuit AND operator`。如果第一个条件结果为假，则不评估第二个条件。

**例如：**

```
if ((a==false) && (b==true)){

  } 
```

**以上将在第一次评估后停止**。

**-**如果您想**强制**评估**这两个条件**，请尝试`Non-Short Circuit AND (&)`

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2012-10-08T06:41:39.090

标题中关键字“效率”的旁注：-正如其他答案所述，您的基本问题很容易回答，因此这不是效率问题，而是如果您出于某种原因需要评估所有表达式的问题，例如执行更改状态的代码时（顺便说一句，这根本不是好的编码）。

但是，如果您从执行速度的角度考虑“效率”，那么您几乎不必在该级别上进行优化，编译器会为您完成，或者您不会注意到差异。在某些时间关键的操作或在非常大的循环中运行的操作中可能很重要，但在几乎所有其他情况下，编写干净的代码更为重要，以便其他人可以很好地阅读它。

# php - 如何使用anyscript在PHP中最后一个字符之后修剪多余的空格

> ID：12776311
> 
> 赞同：-1
> 
> 时间：2012-10-08T06:24:05.613
> 
> 标签：php

你们能帮我编写一个代码，在将字符插入到我的 sql 后面时消除前面和后面的空格吗

例如：让我们说这个词`" hello "`。现在，当我在 MySQL 中输入我的数据时，我想删除所有这些空格，这样当它被插入时，单词的前面或后面都没有更多的空格。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-10-08T06:26:21.817

您可以使用[`trim()`](http://php.net/trim)：

```
$string = '    aaa ';
$string = trim($string);
var_dump($string);
string(3) "aaa" 
```

*此函数返回一个字符串，其中从 str 的开头和结尾去除了空格。*

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-10-08T06:26:27.900

[PHP Trim Function](http://php.net/trim)正是这样做的。

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2012-10-08T06:26:39.767

使用 PHP 的[修剪](http://php.net/manual/en/function.trim.php)功能。

> trim — 从字符串的开头和结尾去除空格（或其他字符）

```
$string = "   hello   ";
echo trim($string); // "hello" 
```

还有[ltrim](http://www.php.net/manual/en/function.ltrim.php)和[rtrim](http://www.php.net/manual/en/function.rtrim.php)用于仅修剪字符串的开头/结尾。

* * *

您还标记了 JavaScript，因此我还将提供一个 JS 资源：

[Faster JavaScript Trim](http://blog.stevenlevithan.com/archives/faster-trim-javascript)在 JS 中有许多 trim 的实现。

```
String.prototype.trim = function() {
    return this.replace(/^\s+|\s+$/g, "");
};

"   hello   ".trim();  // "hello" 
```

* * *

## 回答 #4

> 赞同：4
> 
> 时间：2012-10-08T06:36:27.153

使用 Php，您可以使用内置函数`trim`，这是一个示例：-

```
<?php
    $my_var = '   hello world  ';
    echo $my_var . "\n";  //  hello world  
    $trimmed = trim($my_var);
    echo $trimmed ;       //hello world

?> 
```

你可以[在这里](http://codepad.org/F3hdXQY6)查看。PHP官方参考为同一个[PHP参考TRIM](http://php.net/manual/en/function.trim.php)

* * *

## 回答 #5

> 赞同：3
> 
> 时间：2012-10-08T06:26:51.290

使用 PHP 的[`trim()`](http://php.net/manual/en/function.trim.php)函数：

```
$trimmed = trim($text); 
```

如果您也想使用 JavaScript 执行此操作，您可以使用`.trim()`：

```
> '   asd   '.trim()
"asd" 
```

* * *

## 回答 #6

> 赞同：3
> 
> 时间：2012-10-08T06:27:42.477

尝试`trim()`功能[PHP 手册 - 修剪](http://php.net/trim)

```
$str = ' Hello World ';
echo trim($str);

// will result in "helloworld" 
```

* * *

## 回答 #7

> 赞同：3
> 
> 时间：2012-10-08T06:29:50.150

您想使用修剪功能，例如：

```
$myString = ' The string to trim ';
$myString = trim($myString);

echo $myString; 
```

这个的输出是：'要修剪的字符串'

注意删除空格...

# c++ - x509 证书的验证

> ID：12776320
> 
> 赞同：0
> 
> 时间：2012-10-08T06:24:32.440
> 
> 标签：c++, cryptography, openssl, x509certificate, digital-signature

我已经阅读了很多关于此的文章和问题@ SO，但我仍然不清楚。我有一个数字签名的 PE，我能够计算文件的 Sha1 哈希，但不知道如何使用公钥解密签名。我读过它可以使用**openssl**源代码来完成，但它们太多了。谁能给我提供各自的源代码或链接以及如何使用它们的详细信息？有没有同样的好教程？TIA

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-08T07:19:43.497

您可以使用 openssl 命令行界面。这应该是这样的：

openssl rsautl -verify -inkey 1-cert.pem -keyform PEM -certin -in 签名 > 已验证

如果你想使用这个库，你可以使用 openssl cli，尤其是 verify 命令作为起点。

# java - MongoDB“不能调用某些东西”

> ID：12776326
> 
> 赞同：0
> 
> 时间：2012-10-08T06:25:16.773
> 
> 标签：java, mongodb, jboss

我有一台运行 JBoss 7.1 和 MongoDB 2.2.0 的 Windows Server 2008 机器。有时，在这台机器上使用 arquillian 进行单元测试时，我会从 MongoDB 收到错误：

```
08:07:36,789 ERROR [some.class] (pool-8-thread-18) com.mongodb.MongoException$Network: can't call something : /127.0.0.1:27017/someCollection
at com.mongodb.DBTCPConnector.call(DBTCPConnector.java:226) [3cdb2ec6-2136-422e-b4ca-28508d3911be.jar:]
at com.mongodb.DBApiLayer$MyCollection.__find(DBApiLayer.java:313) [3cdb2ec6-2136-422e-b4ca-28508d3911be.jar:]
at com.mongodb.DB.command(DB.java:174) [3cdb2ec6-2136-422e-b4ca-28508d3911be.jar:]
at com.mongodb.DB.command(DB.java:158) [3cdb2ec6-2136-422e-b4ca-28508d3911be.jar:]
at com.mongodb.DB.command(DB.java:198) [3cdb2ec6-2136-422e-b4ca-28508d3911be.jar:]
at com.mongodb.DBCollection.getCount(DBCollection.java:899) [3cdb2ec6-2136-422e-b4ca-28508d3911be.jar:]
at com.mongodb.DBCollection.getCount(DBCollection.java:870) [3cdb2ec6-2136-422e-b4ca-28508d3911be.jar:]
at com.mongodb.DBCollection.count(DBCollection.java:825) [3cdb2ec6-2136-422e-b4ca-28508d3911be.jar:]
at com.mongodb.gridfs.GridFS.<init>(GridFS.java:93) [3cdb2ec6-2136-422e-b4ca-28508d3911be.jar:]
at some.Someclass.doSomething(SomeClass.java:623) [3cdb2ec6-2136-422e-b4ca-28508d3911be.jar:]
at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) [rt.jar:1.6.0_25]
at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source) [rt.jar:1.6.0_25]
at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) [rt.jar:1.6.0_25]
at java.lang.reflect.Method.invoke(Unknown Source) [rt.jar:1.6.0_25]
at org.jboss.as.ee.component.ManagedReferenceMethodInterceptorFactory$ManagedReferenceMethodInterceptor.processInvocation(ManagedReferenceMethodInterceptorFactory.java:72) [jboss-as-ee-7.1.1.Final.jar:7.1.1.Final]
at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:288) [jboss-invocation-1.1.1.Final.jar:1.1.1.Final]
at org.jboss.invocation.InterceptorContext$Invocation.proceed(InterceptorContext.java:374) [jboss-invocation-1.1.1.Final.jar:1.1.1.Final]
at org.jboss.as.weld.ejb.Jsr299BindingsInterceptor.doMethodInterception(Jsr299BindingsInterceptor.java:127) [jboss-as-weld-7.1.1.Final.jar:7.1.1.Final]
at org.jboss.as.weld.ejb.Jsr299BindingsInterceptor.processInvocation(Jsr299BindingsInterceptor.java:135) [jboss-as-weld-7.1.1.Final.jar:7.1.1.Final]
at org.jboss.as.ee.component.interceptors.UserInterceptorFactory$1.processInvocation(UserInterceptorFactory.java:36) [jboss-as-ee-7.1.1.Final.jar:7.1.1.Final]
at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:288) [jboss-invocation-1.1.1.Final.jar:1.1.1.Final]
at org.jboss.invocation.WeavedInterceptor.processInvocation(WeavedInterceptor.java:53) [jboss-invocation-1.1.1.Final.jar:1.1.1.Final]
at org.jboss.as.ee.component.interceptors.UserInterceptorFactory$1.processInvocation(UserInterceptorFactory.java:36) [jboss-as-ee-7.1.1.Final.jar:7.1.1.Final]
at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:288) [jboss-invocation-1.1.1.Final.jar:1.1.1.Final]
at org.jboss.as.jpa.interceptor.SBInvocationInterceptor.processInvocation(SBInvocationInterceptor.java:47) [jboss-as-jpa-7.1.1.Final.jar:7.1.1.Final]
at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:288) [jboss-invocation-1.1.1.Final.jar:1.1.1.Final]
at org.jboss.as.weld.ejb.EjbRequestScopeActivationInterceptor.processInvocation(EjbRequestScopeActivationInterceptor.java:82) [jboss-as-weld-7.1.1.Final.jar:7.1.1.Final]
at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:288) [jboss-invocation-1.1.1.Final.jar:1.1.1.Final]
at org.jboss.invocation.InitialInterceptor.processInvocation(InitialInterceptor.java:21) [jboss-invocation-1.1.1.Final.jar:1.1.1.Final]
at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:288) [jboss-invocation-1.1.1.Final.jar:1.1.1.Final]
at org.jboss.invocation.ChainedInterceptor.processInvocation(ChainedInterceptor.java:61) [jboss-invocation-1.1.1.Final.jar:1.1.1.Final]
at org.jboss.as.ee.component.interceptors.ComponentDispatcherInterceptor.processInvocation(ComponentDispatcherInterceptor.java:53) [jboss-as-ee-7.1.1.Final.jar:7.1.1.Final]
at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:288) [jboss-invocation-1.1.1.Final.jar:1.1.1.Final]
at org.jboss.as.ejb3.component.pool.PooledInstanceInterceptor.processInvocation(PooledInstanceInterceptor.java:51) [jboss-as-ejb3-7.1.1.Final.jar:7.1.1.Final]
at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:288) [jboss-invocation-1.1.1.Final.jar:1.1.1.Final]
at org.jboss.as.ejb3.tx.CMTTxInterceptor.invokeInCallerTx(CMTTxInterceptor.java:202) [jboss-as-ejb3-7.1.1.Final.jar:7.1.1.Final]
at org.jboss.as.ejb3.tx.CMTTxInterceptor.required(CMTTxInterceptor.java:306) [jboss-as-ejb3-7.1.1.Final.jar:7.1.1.Final]
at org.jboss.as.ejb3.tx.CMTTxInterceptor.processInvocation(CMTTxInterceptor.java:190) [jboss-as-ejb3-7.1.1.Final.jar:7.1.1.Final]
at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:288) [jboss-invocation-1.1.1.Final.jar:1.1.1.Final]
at org.jboss.as.ejb3.component.interceptors.CurrentInvocationContextInterceptor.processInvocation(CurrentInvocationContextInterceptor.java:41) [jboss-as-ejb3-7.1.1.Final.jar:7.1.1.Final]
at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:288) [jboss-invocation-1.1.1.Final.jar:1.1.1.Final]
at org.jboss.as.ejb3.component.interceptors.LoggingInterceptor.processInvocation(LoggingInterceptor.java:59) [jboss-as-ejb3-7.1.1.Final.jar:7.1.1.Final]
at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:288) [jboss-invocation-1.1.1.Final.jar:1.1.1.Final]
at org.jboss.as.ee.component.NamespaceContextInterceptor.processInvocation(NamespaceContextInterceptor.java:50) [jboss-as-ee-7.1.1.Final.jar:7.1.1.Final]
at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:288) [jboss-invocation-1.1.1.Final.jar:1.1.1.Final]
at org.jboss.as.ejb3.component.interceptors.AdditionalSetupInterceptor.processInvocation(AdditionalSetupInterceptor.java:32) [jboss-as-ejb3-7.1.1.Final.jar:7.1.1.Final]
at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:288) [jboss-invocation-1.1.1.Final.jar:1.1.1.Final]
at org.jboss.as.ee.component.TCCLInterceptor.processInvocation(TCCLInterceptor.java:45) [jboss-as-ee-7.1.1.Final.jar:7.1.1.Final]
at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:288) [jboss-invocation-1.1.1.Final.jar:1.1.1.Final]
at org.jboss.invocation.ChainedInterceptor.processInvocation(ChainedInterceptor.java:61) [jboss-invocation-1.1.1.Final.jar:1.1.1.Final]
at org.jboss.as.ee.component.ViewService$View.invoke(ViewService.java:165) [jboss-as-ee-7.1.1.Final.jar:7.1.1.Final]
at org.jboss.as.ee.component.ViewDescription$1.processInvocation(ViewDescription.java:173) [jboss-as-ee-7.1.1.Final.jar:7.1.1.Final]
at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:288) [jboss-invocation-1.1.1.Final.jar:1.1.1.Final]
at org.jboss.invocation.ChainedInterceptor.processInvocation(ChainedInterceptor.java:61) [jboss-invocation-1.1.1.Final.jar:1.1.1.Final]
at org.jboss.as.ee.component.ProxyInvocationHandler.invoke(ProxyInvocationHandler.java:72) [jboss-as-ee-7.1.1.Final.jar:7.1.1.Final]
at de.cluetec.catalogueRepository.dao.CatalogueManagementDAOBean$$$view9.storeMediaData(Unknown Source) [3cdb2ec6-2136-422e-b4ca-28508d3911be.jar:]
at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) [rt.jar:1.6.0_25]
at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source) [rt.jar:1.6.0_25]
at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) [rt.jar:1.6.0_25]
at java.lang.reflect.Method.invoke(Unknown Source) [rt.jar:1.6.0_25]
at org.jboss.weld.util.reflection.SecureReflections$13.work(SecureReflections.java:264) [weld-core-1.1.5.AS71.Final.jar:2012-02-10 15:31]
at org.jboss.weld.util.reflection.SecureReflectionAccess.run(SecureReflectionAccess.java:52) [weld-core-1.1.5.AS71.Final.jar:2012-02-10 15:31]
at org.jboss.weld.util.reflection.SecureReflectionAccess.runAsInvocation(SecureReflectionAccess.java:137) [weld-core-1.1.5.AS71.Final.jar:2012-02-10 15:31]
at org.jboss.weld.util.reflection.SecureReflections.invoke(SecureReflections.java:260) [weld-core-1.1.5.AS71.Final.jar:2012-02-10 15:31]
at org.jboss.weld.bean.proxy.EnterpriseBeanProxyMethodHandler.invoke(EnterpriseBeanProxyMethodHandler.java:111) [weld-core-1.1.5.AS71.Final.jar:2012-02-10 15:31]
at org.jboss.weld.bean.proxy.EnterpriseTargetBeanInstance.invoke(EnterpriseTargetBeanInstance.java:56) [weld-core-1.1.5.AS71.Final.jar:2012-02-10 15:31]
at org.jboss.weld.bean.proxy.ProxyMethodHandler.invoke(ProxyMethodHandler.java:105) [weld-core-1.1.5.AS71.Final.jar:2012-02-10 15:31]
at de.cluetec.catalogueRepository.dao.CatalogueManagementDAOBean$Proxy$_$$_Weld$Proxy$.storeMediaData(CatalogueManagementDAOBean$Proxy$_$$_Weld$Proxy$.java) [3cdb2ec6-2136-422e-b4ca-28508d3911be.jar:]
at de.cluetec.catalogueRepository.dao.CatalogueManagementTest.testDeleteCatalogueElements(CatalogueManagementTest.java:748) [3cdb2ec6-2136-422e-b4ca-28508d3911be.jar:]
at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) [rt.jar:1.6.0_25]
at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source) [rt.jar:1.6.0_25]
at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) [rt.jar:1.6.0_25]
at java.lang.reflect.Method.invoke(Unknown Source) [rt.jar:1.6.0_25]
at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:45) [arquillian-service:]
at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:15) [arquillian-service:]
at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:42) [arquillian-service:]
at org.jboss.arquillian.junit.Arquillian$6$1.invoke(Arquillian.java:270) [arquillian-service:]
at org.jboss.arquillian.container.test.impl.execution.LocalTestExecuter.execute(LocalTestExecuter.java:60) [arquillian-service:]
at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) [rt.jar:1.6.0_25]
at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source) [rt.jar:1.6.0_25]
at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) [rt.jar:1.6.0_25]
at java.lang.reflect.Method.invoke(Unknown Source) [rt.jar:1.6.0_25]
at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94) [arquillian-service:]
at org.jboss.arquillian.core.impl.EventContextImpl.invokeObservers(EventContextImpl.java:99) [arquillian-service:]
at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:81) [arquillian-service:]
at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:135) [arquillian-service:]
at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:115) [arquillian-service:]
at org.jboss.arquillian.core.impl.EventImpl.fire(EventImpl.java:67) [arquillian-service:]
at org.jboss.arquillian.container.test.impl.execution.ContainerTestExecuter.execute(ContainerTestExecuter.java:38) [arquillian-service:]
at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) [rt.jar:1.6.0_25]
at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source) [rt.jar:1.6.0_25]
at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) [rt.jar:1.6.0_25]
at java.lang.reflect.Method.invoke(Unknown Source) [rt.jar:1.6.0_25]
at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94) [arquillian-service:]
at org.jboss.arquillian.core.impl.EventContextImpl.invokeObservers(EventContextImpl.java:99) [arquillian-service:]
at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:81) [arquillian-service:]
at org.jboss.arquillian.test.impl.TestContextHandler.createTestContext(TestContextHandler.java:89) [arquillian-service:]
at sun.reflect.GeneratedMethodAccessor159.invoke(Unknown Source) [:1.6.0_25]
at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) [rt.jar:1.6.0_25]
at java.lang.reflect.Method.invoke(Unknown Source) [rt.jar:1.6.0_25]
at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94) [arquillian-service:]
at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88) [arquillian-service:]
at org.jboss.arquillian.test.impl.TestContextHandler.createClassContext(TestContextHandler.java:75) [arquillian-service:]
at sun.reflect.GeneratedMethodAccessor158.invoke(Unknown Source) [:1.6.0_25]
at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) [rt.jar:1.6.0_25]
at java.lang.reflect.Method.invoke(Unknown Source) [rt.jar:1.6.0_25]
at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94) [arquillian-service:]
at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88) [arquillian-service:]
at org.jboss.arquillian.test.impl.TestContextHandler.createSuiteContext(TestContextHandler.java:60) [arquillian-service:]
at sun.reflect.GeneratedMethodAccessor157.invoke(Unknown Source) [:1.6.0_25]
at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) [rt.jar:1.6.0_25]
at java.lang.reflect.Method.invoke(Unknown Source) [rt.jar:1.6.0_25]
at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94) [arquillian-service:]
at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88) [arquillian-service:]
at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:135) [arquillian-service:]
at org.jboss.arquillian.test.impl.EventTestRunnerAdaptor.test(EventTestRunnerAdaptor.java:111) [arquillian-service:]
at org.jboss.arquillian.junit.Arquillian$6.evaluate(Arquillian.java:263) [arquillian-service:]
at org.jboss.arquillian.junit.Arquillian$4.evaluate(Arquillian.java:226) [arquillian-service:]
at org.jboss.arquillian.junit.Arquillian.multiExecute(Arquillian.java:314) [arquillian-service:]
at org.jboss.arquillian.junit.Arquillian.access$100(Arquillian.java:46) [arquillian-service:]
at org.jboss.arquillian.junit.Arquillian$5.evaluate(Arquillian.java:240) [arquillian-service:]
at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:263) [arquillian-service:]
at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:68) [arquillian-service:]
at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:47) [arquillian-service:]
at org.junit.runners.ParentRunner$3.run(ParentRunner.java:231) [arquillian-service:]
at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:60) [arquillian-service:]
at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:229) [arquillian-service:]
at org.junit.runners.ParentRunner.access$000(ParentRunner.java:50) [arquillian-service:]
at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:222) [arquillian-service:]
at org.jboss.arquillian.junit.Arquillian$2.evaluate(Arquillian.java:185) [arquillian-service:]
at org.jboss.arquillian.junit.Arquillian.multiExecute(Arquillian.java:314) [arquillian-service:]
at org.jboss.arquillian.junit.Arquillian.access$100(Arquillian.java:46) [arquillian-service:]
at org.jboss.arquillian.junit.Arquillian$3.evaluate(Arquillian.java:199) [arquillian-service:]
at org.junit.runners.ParentRunner.run(ParentRunner.java:300) [arquillian-service:]
at org.jboss.arquillian.junit.Arquillian.run(Arquillian.java:147) [arquillian-service:]
at org.junit.runner.JUnitCore.run(JUnitCore.java:157) [arquillian-service:]
at org.junit.runner.JUnitCore.run(JUnitCore.java:136) [arquillian-service:]
at org.jboss.arquillian.junit.container.JUnitTestRunner.execute(JUnitTestRunner.java:65) [arquillian-service:]
at org.jboss.arquillian.protocol.jmx.JMXTestRunner.runTestMethodInternal(JMXTestRunner.java:128) [arquillian-service:]
at org.jboss.arquillian.protocol.jmx.JMXTestRunner.runTestMethod(JMXTestRunner.java:107) [arquillian-service:]
at org.jboss.as.arquillian.service.ArquillianService$ExtendedJMXTestRunner.runTestMethod(ArquillianService.java:226) [arquillian-service:]
at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) [rt.jar:1.6.0_25]
at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source) [rt.jar:1.6.0_25]
at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) [rt.jar:1.6.0_25]
at java.lang.reflect.Method.invoke(Unknown Source) [rt.jar:1.6.0_25]
at com.sun.jmx.mbeanserver.StandardMBeanIntrospector.invokeM2(Unknown Source) [rt.jar:1.6.0_25]
at com.sun.jmx.mbeanserver.StandardMBeanIntrospector.invokeM2(Unknown Source) [rt.jar:1.6.0_25]
at com.sun.jmx.mbeanserver.MBeanIntrospector.invokeM(Unknown Source) [rt.jar:1.6.0_25]
at com.sun.jmx.mbeanserver.PerInterface.invoke(Unknown Source) [rt.jar:1.6.0_25]
at com.sun.jmx.mbeanserver.MBeanSupport.invoke(Unknown Source) [rt.jar:1.6.0_25]
at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(Unknown Source) [rt.jar:1.6.0_25]
at com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(Unknown Source) [rt.jar:1.6.0_25]
at org.jboss.as.jmx.PluggableMBeanServerImpl$TcclMBeanServer.invoke(PluggableMBeanServerImpl.java:498)
at org.jboss.as.jmx.PluggableMBeanServerImpl.invoke(PluggableMBeanServerImpl.java:246)
at org.jboss.remotingjmx.protocol.v1.ServerProxy$InvokeHandler.handle(ServerProxy.java:1034)
at org.jboss.remotingjmx.protocol.v1.ServerProxy$MessageReciever$1.run(ServerProxy.java:215)
at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(Unknown Source) [rt.jar:1.6.0_25]
at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source) [rt.jar:1.6.0_25]
at java.lang.Thread.run(Unknown Source) [rt.jar:1.6.0_25]

Caused by: java.io.IOException: couldn't connect to [/127.0.0.1:27017] bc:java.net.ConnectException: Connection refused: connect
at com.mongodb.DBPort._open(DBPort.java:222) [3cdb2ec6-2136-422e-b4ca-28508d3911be.jar:]
at com.mongodb.DBPort.go(DBPort.java:111) [3cdb2ec6-2136-422e-b4ca-28508d3911be.jar:]
at com.mongodb.DBPort.call(DBPort.java:78) [3cdb2ec6-2136-422e-b4ca-28508d3911be.jar:]
at com.mongodb.DBTCPConnector.call(DBTCPConnector.java:217) [3cdb2ec6-2136-422e-b4ca-28508d3911be.jar:]
... 158 more 
```

此错误仅有时会发生。我不知道该怎么办了。我尝试重新安装 mongodb，将其显式绑定到 127.0.0.1。似乎没有任何效果。有什么建议么？

# tfs - 在 MSBuild 中使用的命令行工具的 TFS 路径

> ID：12776328
> 
> 赞同：0
> 
> 时间：2012-10-08T06:25:25.347
> 
> 标签：tfs, msbuild

据我了解，在`<Exec \>`MSBuild 期间使用 MSBuild 任务和 shell 到 TF.exe 以 TFS 命令行仍然是最简单的，特别是如果您不想创建对自定义构建任务或扩展包等的依赖项。 （请参阅[使用 MSBuild 从 TFS 签出](https://stackoverflow.com/questions/224460/checkout-from-tfs-with-msbuild)）

鉴于此，使用 tf.exe 的最佳路径是什么，尤其是因为不同的开发人员可能将 TFS2010 或 TFS2012 与 VS2010 和 VS2012 混合，并且还与 64 位工作站混合。

无论VS或TFS版本如何，是否有一种变量/路径标准方法可以从MSBuild调用TF.exe命令？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-08T11:14:30.577

`ProgramW6432`您可以通过查找环境变量来查看系统是否为 64 位。

并且只要用户选择了默认安装路径，即使是VS2012，TF.exe仍然安装在Visual Studio的32位部分。因此，您唯一需要查找的是用户是否安装了 2012 或 2010。这应该是可能的`Exists`条件：

```
<PropertyGroup>
  <ProgramFiles32 Condition="$(ProgramW6432) != ''">$(PROGRAMFILES) (x86)</ProgramFiles32>
  <ProgramFiles32 Condition="$(ProgramFiles32) == ''">$(PROGRAMFILES)</ProgramFiles32>

  <VS10Dir>$(ProgramFiles32)\Microsoft Visual Studio 10.0</VS10Dir>
  <VS11Dir>$(ProgramFiles32)\Microsoft Visual Studio 11.0</VS11Dir>

  <TF Condition="Exists('$(VS10Dir)')">&quot;$(VS10Dir)\Common7\IDE\TF.exe&quot;</TF>
  <TF Condition="Exists('$(VS11Dir)')">&quot;$(VS11Dir)\Common7\IDE\TF.exe&quot;</TF>
</PropertyGroup>
...
<Exec Command="$(TF) checkout ..."></Exec> 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-10-08T11:21:03.773

tbergstedt 有一个解决方案可能更健壮，也可以适应其他问题。我确实发现有一个快捷方式，因为 TF.exe 可执行文件也在开发环境路径**$(DevEnvDir)**中。见下文：

```
 <PropertyGroup>
    <TfCommand>&quot;$(DevEnvDir)\tf.exe&quot;</TfCommand>
  </PropertyGroup> 
```

# android - SqliteOpenHelper 类的 getReadbleDataBase() 中的异常

> ID：12776339
> 
> 赞同：0
> 
> 时间：2012-10-08T06:26:14.783
> 
> 标签：android, sqlite

当我使用时`android 4.0.3`，我在方法中遇到异常`getReadbleDataBase()`。`

```
 10-08 11:34:24.163: E/SQLiteOpenHelper(18710): Couldn't open quytech.db for writing (will try read-only):
10-08 11:34:24.163: E/SQLiteOpenHelper(18710): android.database.sqlite.SQLiteException: Can't downgrade database from version 6 to 1
10-08 11:34:24.163: E/SQLiteOpenHelper(18710):  at android.database.sqlite.SQLiteOpenHelper.onDowngrade(SQLiteOpenHelper.java:325)
10-08 11:34:24.163: E/SQLiteOpenHelper(18710):  at android.database.sqlite.SQLiteOpenHelper.getWritableDatabase(SQLiteOpenHelper.java:186)
10-08 11:34:24.163: E/SQLiteOpenHelper(18710):  at android.database.sqlite.SQLiteOpenHelper.getReadableDatabase(SQLiteOpenHelper.java:249)
10-08 11:34:24.163: E/SQLiteOpenHelper(18710):  at com.quytech.androidclient.data.MessageCountProvider.query(MessageCountProvider.java:156)
10-08 11:34:24.163: E/SQLiteOpenHelper(18710):  at android.content.ContentProvider$Transport.query(ContentProvider.java:189)
10-08 11:34:24.163: E/SQLiteOpenHelper(18710):  at android.content.ContentResolver.query(ContentResolver.java:315)
10-08 11:34:24.163: E/SQLiteOpenHelper(18710):  at com.quytech.androidclient.service.SmackableImp$6.processPacket(SmackableImp.java:1781)
10-08 11:34:24.163: E/SQLiteOpenHelper(18710):  at org.jivesoftware.smack.Connection$ListenerWrapper.notifyListener(Connection.java:829)
10-08 11:34:24.163: E/SQLiteOpenHelper(18710):  at org.jivesoftware.smack.PacketReader$ListenerNotification.run(PacketReader.java:463)
10-08 11:34:24.163: E/SQLiteOpenHelper(18710):  at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:442)
10-08 11:34:24.163: E/SQLiteOpenHelper(18710):  at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:305)
10-08 11:34:24.163: E/SQLiteOpenHelper(18710):  at java.util.concurrent.FutureTask.run(FutureTask.java:137)
10-08 11:34:24.163: E/SQLiteOpenHelper(18710):  at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1076)
10-08 11:34:24.163: E/SQLiteOpenHelper(18710):  at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:569)
10-08 11:34:24.163: E/SQLiteOpenHelper(18710):  at java.lang.Thread.run(Thread.java:864) 
```

但这在`android 2.0.3`.

首先我尝试从数据库中获取查询。

```
Cursor cursor = mContentResolver.query(MessageCountProvider.CONTENT_URI,
                        null,  MessageCountConstant.JID + " = ? AND "
                        + MessageCountConstant.To_USER + " = ? AND " 
                        + MessageCountConstant.DATE + " = ? ", new String [] {mConfig.userName,toJID,date},null);

                if(cursor.getCount() > 0)
                {
                    cursor.moveToFirst();
                    int recieveMessageCountColmnIndex = cursor.getColumnIndexOrThrow(MessageCountConstant.RECIEVE_MESSAGE_COUNT);
                    int sendMessageCountColmnIndex = cursor.getColumnIndexOrThrow(MessageCountConstant.SEND_MESSAGE_COUNT);
                    int dateColumnIndex = cursor.getColumnIndexOrThrow(MessageCountConstant.DATE);
                    String dateDB = cursor.getString(dateColumnIndex);
                    int sendMessageCount = cursor.getInt(sendMessageCountColmnIndex);
                    int reciveMessageCount = cursor.getInt(recieveMessageCountColmnIndex);

                    updateMessageCountInDB(mConfig.userName, toJID, sendMessageCount+1, reciveMessageCount, date);
                }
                else
                {
                    addMessageCountInDB(mConfig.userName, toJID, 1, 0, date);

                } 
```

在它调用它之后，我使用 ContentProvider 扩展。

并调用 query() 方法。

```
@Override
public Cursor query(Uri url, String[] projectionIn, String selection,
        String[] selectionArgs, String sortOrder) {
    // TODO Auto-generated method stub
    SQLiteQueryBuilder qBuilder = new SQLiteQueryBuilder();
    int match = URI_MATCHER.match(url);

    switch (match) {
    case MESSAGES:
        qBuilder.setTables(TABLE_NAME);
        break;
    case MESSAGE_ID:
        qBuilder.setTables(TABLE_NAME);
        qBuilder.appendWhere("_id=");
        qBuilder.appendWhere(url.getPathSegments().get(1));
        break;
    default:
        throw new IllegalArgumentException("Unknown URL " + url);
    }

    String orderBy;
    if (TextUtils.isEmpty(sortOrder)) {
        orderBy = ChatConstants.DEFAULT_SORT_ORDER;
    } else {
        orderBy = sortOrder;
    }

    SQLiteDatabase db = mOpenHelper.getReadableDatabase();
    Cursor ret = qBuilder.query(db, projectionIn, selection, selectionArgs,
            null, null, orderBy);

    if (ret == null) {
        infoLog("MessageCountProvider.query: failed");
    } else {
        ret.setNotificationUri(getContext().getContentResolver(), url);
    }

    return ret;
}

private static class MessageCountDataBaseHelper extends SQLiteOpenHelper {

private static final String DATABASE_NAME = "quytech.db";
private static final int DATABASE_VERSION = 1;

public MessageCountDataBaseHelper(Context context) {
    super(context, DATABASE_NAME, null, DATABASE_VERSION);
}

@Override
public void onCreate(SQLiteDatabase db) 
{
    if (LogConstants.LOG_DEBUG) {
        infoLog("creating new chat table");
    }

    db.execSQL("CREATE TABLE " + TABLE_NAME + " (" 

            + MessageCountConstant._ID+ " INTEGER PRIMARY KEY AUTOINCREMENT,"
            + MessageCountConstant.JID + " TEXT," 
            + MessageCountConstant.To_USER + " TEXT,"
            + MessageCountConstant.SEND_MESSAGE_COUNT + " INTEGER,"
            + MessageCountConstant.RECIEVE_MESSAGE_COUNT + " INTEGER,"
            + MessageCountConstant.DATE + " DATE"

            +");"

            );
}

@Override
public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {
    infoLog("onUpgrade: from " + oldVersion + " to " + newVersion);

    infoLog("onUpgrade: from " + oldVersion + " to " + newVersion);
    switch (oldVersion) {
    default:
        db.execSQL("DROP TABLE IF EXISTS " + TABLE_NAME);
        onCreate(db);
    }
}
} 
```

请帮我..

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-08T07:12:50.900

错误消息说：

> 无法将数据库从版本 6 降级到 1

该设备上的当前数据库*具有*版本 6。

如果您的应用无法处理降级（在 API 版本 11 中引入），您必须通过清除应用数据或卸载应用来删除该数据库。

# linux - 系统调用实现

> ID：12776340
> 
> 赞同：4
> 
> 时间：2012-10-08T06:26:19.857
> 
> 标签：linux, linux-kernel, system-calls

如果用户应用程序进行系统调用，则会触发软件中断/异常。如何查看生成软件中断的源代码？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-10-08T19:18:42.467

它在[Linux Assembly Howto](http://tldp.org/HOWTO/Assembly-HOWTO/)中有解释。您应该阅读 wikipedia[系统调用](http://en.wikipedia.org/wiki/System_call)页面（以及关于[VDSO](http://en.wikipedia.org/wiki/VDSO)），以及[intro(2)](http://www.kernel.org/doc/man-pages/online/pages/man2/intro.2.html)和[syscalls(2)](http://www.kernel.org/doc/man-pages/online/pages/man2/syscalls.2.html)手册页。另请参阅[此](https://stackoverflow.com/a/11609768/841108)答案和[此](https://stackoverflow.com/a/10151524/841108)答案。还可以查看[Gnu Libc](http://www.gnu.org/software/libc/)和[musl-libc](http://www.musl-libc.org/)源代码。还可以学习使用`strace`来找出给定命令或进程进行了哪些系统调用。

另请参阅与您的系统相关的[调用约定](http://en.wikipedia.org/wiki/X86_calling_conventions)和应用程序二进制接口规范。对于 x86-64，它在[这里](http://www.x86-64.org/documentation/abi.pdf)。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-10-08T08:33:46.520

很久以前，有一个`int 0x80`陷阱可以进入内核，但现在`sysenter`是首选。

您可以通过转储`vsyscall`部分来获取代码，该部分由内核自动映射到每个进程中。

```
$ cat /proc/self/maps 
blah blah blah
...
blah blah blah
ffffffffff600000-ffffffffff601000 r-xp 00000000 00:00 0                  [vsyscall] 
```

有关更多信息，请查看[本文](https://lwn.net/Articles/446528/)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-08T07:21:23.393

可以使用 Intel x86 汇编指令触发软件中断`int n`，其中`n`是中断号。系统调用是软件中断的一种特殊情况；在您可以手动进行系统调用

```
mov eax, m
int 0x80 
```

where`m`应替换为中断号。下面是[32 位系统调用号](http://www.acsu.buffalo.edu/~charngda/linux_syscalls_32bit.html)和[64 位系统调用号](http://www.acsu.buffalo.edu/~charngda/linux_syscalls_64bit.html)的列表，它们链接到每个函数的在线联机帮助页。您还需要通过其他寄存器（、、等）将参数传递给系统调用`ebx`，`ecx`您可以[在此处](http://docs.cs.up.ac.za/programming/asm/derick_tut/#syscalls)阅读更多相关信息。

这是执行系统调用的最通用方式，因为它独立于外部库，如 libc，如果需要，可以使用内联汇编在 C/C++ 中实现。

# c# - 如何在C#中使用同一类的多个线程

> ID：12776344
> 
> 赞同：4
> 
> 时间：2012-10-08T06:26:26.590
> 
> 标签：c#, multithreading, class, methods

我有一个包含一堆方法的类。例如

```
 private int forFunction(String exceptionFileList, FileInfo z, String compltetedFileList, String sourceDir)
        {
            atPDFNumber++;
            exceptionFileList = "";
            int blankImage = 1;
            int pagesMissing = 0;

            //delete the images currently in the folder
            deleteCreatedImages();
            //Get the amount of pages in the pdf
            int numberPDFPage = numberOfPagesPDF(z.FullName);

            //Convert the pdf to images on the users pc
            convertToImage(z.FullName);

            //Check the images for blank pages
            blankImage = testPixels(@"C:\temp", z.FullName);

            //Check if the conversion couldnt convert a page because of an error
            pagesMissing = numberPDFPage - numberOfFiles;
} 
```

现在我现在尝试的是在一个线程中访问该类..但不仅仅是一个线程，也许大约 5 个线程来加速处理，因为一个有点慢。

现在在我看来，那将是一片混乱……我的意思是一个线程更改变量，而另一个线程忙于处理它们等等，并在所有这些方法中锁定每个变量……不会有一个好的时间...

那么建议什么，不知道它是否正确..是这个

```
 public void MyProc()
    {
      if (this method is open, 4 other threads must wait)
    {
      mymethod(var,var);
    }
     if (this method is open, 4 other threads must wait and done with first method)
    {
      mymethod2();
    }
  if (this method is open, 4 other threads must wait and done with first and second method)
       {
          mymethod3();
    }
         if (this method is open, 4 other threads must wait and done with first and second and third method)
        {
          mymethod4();
        }
    } 
```

这是否是解决多个线程同时访问多个方法的问题的正确方法？

这些线程只会访问 Class 5 次，不会更多，因为工作负载将被平均分配。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-08T06:51:48.073

是的，这是您的选择之一。但是，您拥有的条件表达式应该使用`lock`语句替换，或者更好的是，使方法同步：

```
[MethodImpl(MethodImplOptions.Synchronized)]
private int forFunction(String exceptionFileList, FileInfo z, String compltetedFileList, String sourceDir) 
```

它不是真正的条件，因为这里没有任何条件。下一个到来的线程必须等待，然后它必须继续。它实际上是在不执行任何指令的情况下休眠，然后从外部唤醒。

另请注意，当您担心在非同步方法的并行执行期间变量会混乱时，这只适用于成员变量（类字段）。它不适用于在方法内声明的局部变量，因为每个线程都有自己的副本。

# opengl-es - 在 FBO 中切换当前 GL_COLOR_ATTACMENT

> ID：12776345
> 
> 赞同：0
> 
> 时间：2012-10-08T06:26:27.650
> 
> 标签：opengl-es, opengl-es-2.0

然后我们创建缓冲区对象，我们可以指定从 0 到 N 的许多颜色附件

```
glBindFramebuffer(GL_FRAMEBUFFER, some_buffer);
glFramebufferTexture2D(GL_FRAMEBUFFER, GL_COLOR_ATTACHMENT0, GL_TEXTURE_2D,some_texture_0, 0);
glFramebufferTexture2D(GL_FRAMEBUFFER, GL_COLOR_ATTACHMENT1, GL_TEXTURE_2D,some_texture_1, 0); 
```

但是接下来我们绘制到缓冲区，**如何控制我们在 FBO 中使用哪种颜色附件？**（默认为 0），或者多个颜色附件的工作方式不同？

```
glBindFramebuffer(GL_FRAMEBUFFER, some_buffer);
//draw something
//switch to colour_attachment1
//draw something
//switch back to colour_attacment0 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-08T07:03:42.973

```
glFramebufferTexture2D(GL_FRAMEBUFFER, GL_COLOR_ATTACHMENT1, GL_TEXTURE_2D,some_texture_1, 0); 
```

此行在 OpenGL ES 2.0 中是不允许的。至少，不是[没有](http://www.khronos.org/registry/gles/extensions/NV/GL_NV_draw_buffers.txt) [扩展](http://www.khronos.org/registry/gles/extensions/NV/GL_NV_fbo_color_attachments.txt)。OpenGL ES 根本不支持拥有多个颜色缓冲区。只有`GL_COLOR_ATTACHMENT0`; 仅此而已。

因此，如果您想先绘制到一个缓冲区，然后再绘制另一个缓冲区，则需要绑定一个新的 FBO 来执行此操作。

# android - 具有相同 id 的不同按钮

> ID：12776351
> 
> 赞同：2
> 
> 时间：2012-10-08T06:26:42.570
> 
> 标签：android, button

我只是想知道如果不同活动中的两个按钮具有相同的 ID，我的应用程序是否可以正常工作。因此可能出现的并发症是什么。

谢谢您的帮助！！

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-08T06:29:14.550

是的，您可以在两个不同的活动中使用相同的 ID。事实上，这可能是一个好习惯。

如果在相同的布局中，您将无法创建重复的 id。

**编辑**

AFAIK 您可以在不同的活动中使用相同的 ID，因为当您

```
setContentView(R.layout.splash); 
```

然后膨胀布局，然后android本身在那个特定的布局中搜索那个特定的id，所以这里没有问题。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-08T06:28:59.767

如果按钮在不同的活动中，根本没有复杂性，但是当按钮在同一个活动中时，findViewById，将返回在xml中声明的最新按钮，将被返回。

实际上，如果您要在不同的 xml 中声明一些具有相同 id 的视图，那么生成的 R 中的变量将更少。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-08T06:29:48.863

不会有并发症。只要它们在不同的活动中，您的应用程序就可以正常工作。

当你创建一个资源说一个 Button 时，它将在 R.java 中注册，并带有自己的 id，例如，

```
 public static final int button=0x7f03002b;
  public static final int button1=0x7f03002c; 
```

所以这将是独一无二的，你不会有问题。

# sql - 执行触发器时出错

> ID：12776352
> 
> 赞同：1
> 
> 时间：2012-10-08T06:26:45.143
> 
> 标签：sql, oracle, triggers, oracle11g

```
CREATE OR REPLACE TRIGGER PROCESS_POPULATE_INSTANCE
AFTER INSERT OR UPDATE ON PROCESS_INSTANCE
FOR EACH ROW
DECLARE
 InstanceExists NUMBER;
BEGIN
 SELECT COUNT(*)
 INTO InstanceExists
 FROM TEST_PROCESSDATA
 WHERE TEST_PROCESSDATA.PROCESS_INSTANCE_ID = :NEW.INSTANCE_ID ;

 IF ( InstanceExists > 0 ) THEN
UPDATE TEST_PROCESSDATA SET PROCESS_STATUS =:NEW.STATUS WHERE PROCESS_INSTANCE_ID = NEW.INSTANCE_ID;
 ELSIF 
 INSERT INTO TEST_PROCESSDATA (PROCESS_INSTANCE_ID,PROCESS_STATUS, STARTED_TIME) VALUES (:NEW.INSTANCE_ID,:NEW.STATUS,:NEW.START_TIME);
 END IF;
END PROCESS_POPULATE_APPDATA; 
```

在执行上述触发器时，我收到以下错误：

> 错误（12,2）：PLS-00103：在预期以下情况之一时遇到符号“INSERT”：（-+ case mod new not null continue avg count current exists max min prior sql stddev sum variance execute forall merge time timestamp interval
> 日期管道
> 错误（13,2）：PLS-00103：遇到符号“END”

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-08T07:07:33.793

除了[Ravindra bagale](https://stackoverflow.com/a/12776411/997660)已经指出的内容之外，我还要添加以下内容：

第一的。在声明中

```
UPDATE TEST_PROCESSDATA SET PROCESS_STATUS =:NEW.STATUS 
 WHERE PROCESS_INSTANCE_ID = NEW.INSTANCE_ID; 
```

`:`前面缺少冒号`NEW.INSTANCE_ID`

第二。您可能会考虑使用 of`merge`语句而不是`IF .. THEN .. ELSE.. END IF`构造和附加`select`语句。例如。

```
create or replace trigger process_populate_instance     
after insert or update on process_instance 
for each row
begin

   merge into test_processdata
   using dual
     on (process_instance_id = :new.instance_id)
   when matched
    then update
            set process_status =:new.status
   when not matched
   then insert (process_instance_id,process_status, started_time) 
        values (:new.instance_id,:new.status,:new.start_time);

end; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-08T06:31:40.843

在这里使用`ELSE instead of ELSIF`
你使用了elseif，但没有使用else，你不能在没有else的情况下使用elseif，
当有两种以上的方式时你可以使用elsif。

```
IF ( InstanceExists > 0 ) THEN
UPDATE TEST_PROCESSDATA SET PROCESS_STATUS =:NEW.STATUS WHERE PROCESS_INSTANCE_ID = NEW.INSTANCE_ID;
 ELSE 
 INSERT INTO TEST_PROCESSDATA (PROCESS_INSTANCE_ID,PROCESS_STATUS, STARTED_TIME) VALUES (:NEW.INSTANCE_ID,:NEW.STATUS,:NEW.START_TIME);
 END IF;
END PROC 
```

# iphone - 移动到显示 UITableView 的弹出窗口中的下一个视图

> ID：12776353
> 
> 赞同：0
> 
> 时间：2012-10-08T06:26:46.450
> 
> 标签：iphone, ipad, uitableview, uipopovercontroller

我已经为 iPhone 界面创建了一个应用程序，它显示 a`UITableView`作为它的 rootviewcontroller。当我们选择它的任何一行时，它会打开相应的 detailViewController，我们从中选择值，它会显示`UITableView`在 masterViewController 的单元格中。这个应用程序在 iPhone 模拟器中运行得非常好。

现在我想将此应用程序合并到 iPad 应用程序中。为此，我创建了一个`UIPopOver`masterViewController 并将其分配给弹出框。现在的问题是，`UITableView`最初显示在弹出窗口中。但是当我们选择任何一行时，下一个视图不会出现在弹出窗口中，因为它在应用程序仅针对 iPhone 运行时出现。我应该如何使它工作，以便我可以导入具有原始功能的应用程序`UIPopOver`？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-08T07:14:54.780

我认为您正在从 masterViewController 推送 DetailViewController。但是您的 masterviewController 应该实现 NavigationController，我的意思是在弹出窗口中显示 masterViewController(your tableviewcontroller) 时，您应该执行以下操作：

```
MasterViewController *theMasterViewController = [[MasterViewController alloc] init];

    UINavigationController *navCont = [[UINavigationController alloc] initWithRootViewController:theMasterViewController]; 
    [theMasterViewController release];
    UIPopoverController *popOverController = [[UIPopoverController alloc] initWithContentViewController:navCont];
    popOverController.popoverContentSize = CGSizeMake(400, 400);
    [popOverController presentPopoverFromRect:btn.frame inView:self.view permittedArrowDirections:UIPopoverArrowDirectionAny animated:YES]; 
```

当用户选择任何行时，在 didSelectRowAtIndexPath 中执行以下操作：

```
DetailViewController *detailViewController = [[DetailViewController alloc] init];
    [self.navigationController pushViewController:detailViewController animated:YES];
    [detailViewController release]; 
```

希望这可以帮助！

# ios - ARC 转换工具问题：标记的保留/释放和随机解析错误

> ID：12776357
> 
> 赞同：1
> 
> 时间：2012-10-08T06:27:25.907
> 
> 标签：ios, xcode, automatic-ref-counting

`Edit -> Refactor -> Convert to Objective-C ARC...`我正在重新访问一个较旧的项目并转换为 ARC，这是我第一次通过 Xcode 的转换工具 (

正如预期的那样，我得到了一个工具发现阻止它完成的事情的大清单，但是：

1.  许多（全部？）保留/释放/自动释放的实例似乎被标记为错误，例如“释放不可用：在自动引用计数模式下不可用”。我真的应该自己摆脱所有这些吗？我认为这就是该工具所做的。

2.  在我的许多课程中，我看到一堆看起来像幻像解析/构建错误的错误，这些错误与 ARC 无关。例如，在一个显然没有 ARC 相关问题的简单类中，我将在一些任意方法实现上得到一个“未声明的标识符”，然后在文件末尾出现一堆“解析错误：预期 }”，等等。这些不是真实的——项目构建良好，我没有看到任何错误的直接原因或解决方案。

列表中也有“真正的”问题（需要在代码中明确澄清的预期桥接问题），但上述各种随机错误如此之多，以至于很难在噪声中找到信号。这对我来说似乎是错误的。

我是否误解了这个工具的真正作用？苹果的文档是这样说的：

> Xcode 提供了一个工具，可以自动化 ARC 转换的机械部分（例如删除保留和释放调用）并帮助您修复迁移器无法自动处理的问题

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-08T06:30:18.270

1.  该工具不会为您摆脱它们，而只是在编译时根据需要添加保留/释放代码。
2.  当您摆脱旧的引用计数代码时，这些问题很可能会消失。

**编辑：**进一步解释：

> 在 Xcode 4.2 中，除了在您键入时进行语法检查外，新的 Apple LLVM 编译器还可以将手动内存管理的负担交给编译器，通过内省代码来决定何时释放对象。Apple 的文档对 ARC 的描述如下：
> 
> “自动引用计数 (ARC) 是编译器级别的功能，可简化 Cocoa 应用程序中管理对象生命周期（内存管理）的过程。”</p>

换句话说，ARC 不会从您的代码中“剥离”引用计数，而是在引擎盖下自行完成。您不再需要键入`release`或`retain`或`dealloc`再次。ARC 需要工作的一件事是让它*完全*自己进行引用计数（没有用户引用计数来“妨碍”）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-11T15:38:25.507

花了很长时间才解决，但这两个问题似乎都源于我使用的一些自定义宏。我有一个经常使用的 release-and-set-to-nil 宏，如下所示：

```
#define RELEASENIL(x)   [(x) release]; \
                        (x) = nil; 
```

我仍然不确定为什么，但由于某种原因，ARC 转换工具并没有从容应对，而是窒息，抛出了发布警告和解析错误。（与预处理器的一些交互？）当我更改宏以删除发布行时，转换进行得更符合我的预期。

是的，它当然会为您删除消息。（我正在回答我自己的问题，以防其他人遇到这个问题。）

# c# - asp.net中的图像处理库（使用C#），没有flash

> ID：12776367
> 
> 赞同：0
> 
> 时间：2012-10-08T06:28:13.010
> 
> 标签：c#, asp.net, image-processing, dll

我有以下要求，其中我必须在 asp.net Web 应用程序中实现一种画笔功能。基本上它应该支持调整大小、绘制线条、正方形等以及很多功能，比如画笔。我在互联网上搜索图像处理库。
我找到了一些——但问题是大多数都与闪存有关。我正在寻找一些不带闪存的选项，因为该应用程序也应该在 ipad 上运行。

你能推荐一些我可以在我的asp.net（使用C#）应用程序中使用的好的图像处理库吗？

我对它们做了足够好的研究。我没有太多时间下载试用版并尝试每个库。所以我需要你们所有人的帮助，根据经验给我一些建议。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-08T06:46:52.287

你可以使用 AForge.NET，一个 C# 框架，这里是代码项目链接：

[http://www.codeproject.com/Articles/16859/AForge-NET-open-source-framework](http://www.codeproject.com/Articles/16859/AForge-NET-open-source-framework)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-08T06:33:53.287

对于图像调整大小和裁剪，您可以使用[Image Resizer](http://imageresizing.net/)并且`drawing lines, squares, etc`您应该使用[HTML5 Canvus](http://www.w3schools.com/html/html5_canvas.asp)。

HTML5 Canvus有很多[好的库](http://www.suburban-glory.com/blog?page=141)和[教程](http://www.html5canvastutorials.com/)。

它易于使用，可在[Nuget 获得](http://nuget.org/packages/ImageResizer)。

```
var settings = new ResizeSettings {
  MaxWidth = thumbnailSize,
  MaxHeight = thumbnailSize,
  Format = "jpg"
};
settings.Add("quality", quality.ToString());
ImageBuilder.Current.Build(inStream, outStream, settings);
resized = outStream.ToArray(); 
```

您可以使用 Nuget 安装它

> PM> Install-Package ImageResizer

# asp.net - ASP.NET：当 customError 页面出现错误时，我该怎么办？

> ID：12776368
> 
> 赞同：0
> 
> 时间：2012-10-08T06:28:17.537
> 
> 标签：asp.net, web-config

我的 ASP.NET 应用程序中有以下 customErrors 部分：

```
<customErrors mode="RemoteOnly">
   <error statusCode="500" redirect="500.aspx"/>
</customErrors> 
```

如果“500.aspx”给出错误（例如，当数据库关闭时可能发生），我如何显示用户友好的消息？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-08T06:41:52.973

您可以使用静态页面（例如 500.html）来避免这个问题。

作为回应共同评论：

> 我只想在“500.aspx”不起作用时使用静态页面。

知道 500.aspx 是否会工作的唯一可靠方法是尝试一下。因此在这种情况下，您可以在`customErrors`web.config 的元素中定义 500.aspx，并在 global.asax 中处理 500.aspx 的具体情况，例如：

```
void Application_Error(object sender, EventArgs e)
{
    HttpException httpException = Server.GetLastError() as HttpException;
    if (httpException == null) return;
    int httpCode = httpException.GetHttpCode();
    if (httpCode == 500 && 
        Request.Path.EndsWith("/500.aspx", StringComparison.OrdinalIgnoreCase))
    {
        Server.ClearError();
        Response.Redirect("~/500.htm");
    }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-08T06:32:39.847

如果您创建一个错误页面并始终让用户在那里结束。还是您希望每个 statusCode 都有一个特定的页面？如果您愿意，您甚至可以添加一个邮件方法来通知您某些错误。

# .net - 通过 PropertyPath 获取属性

> ID：12776370
> 
> 赞同：2
> 
> 时间：2012-10-08T06:28:28.077
> 
> 标签：.net, data-binding

此论坛条目（http://stackoverflow.com/questions/2767557/wpf-get-property-that-a-control-is-bound-to-in-code-behind）给出了以下语句以获得“绑定到”来自“绑定自”DependencyProperty 的 PropertyPath：

```
BindingExpression be = BindingOperations.GetBindingExpression((FrameworkElement)yourComboBox, ((DependencyProperty)Button.SelectedItemProperty));
string Name = be.ParentBinding.Path.Path; 
```

我想更进一步 - 从该 PropertyPath 中找到 DependencyProperty。有什么标准方法可以做到这一点吗？最终目标是在一个 Behavior 中使用它来移除现有绑定（AssociatedObject.PropertyPath 到 smth）并替换为两个（Behavior.Original 到 smth 和 AssociatedObject.PropertyPath 到 Behavior.Modified）。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-12-18T13:17:28.667

您可以使用反射按名称获取依赖项属性：

```
public static class ReflectionHelper
{

    public static DependencyProperty GetDependencyProperty(this FrameworkElement fe, string propertyName)
    {
        var propertyNamesToCheck = new List<string> { propertyName, propertyName + "Property" };
        var type = fe.GetType();
        return (from propertyname in propertyNamesToCheck
                select type.GetPublicStaticField(propertyname)
                    into field
                    where field != null
                    select field.GetFieldValue<DependencyProperty>(fe))
            .FirstOrDefault();
    }

    public static FieldInfo GetPublicStaticField(this Type type, string fieldName)
    {
        return type.GetField(fieldName, BindingFlags.FlattenHierarchy | BindingFlags.Public | BindingFlags.Static);
    }
} 
```

# iphone - 数据未更新的 NSFetchedResultsController

> ID：12776371
> 
> 赞同：1
> 
> 时间：2012-10-08T06:28:41.943
> 
> 标签：iphone, objective-c, ios, core-data, nsfetchedresultscontroller

我正在制作一个从服务器获取产品列表的应用程序。然后我将它们存储在核心数据数据库中，并使用[GMGridView](https://github.com/gmoledina/GMGridView)呈现它们，数据源是 NSFetchedResultsController。当我更改服务器中的产品详细信息时，我希望我的 iOS 应用程序能够同步并进行必要的更改，因此我实现了 NSFetchedResultsControllerDelegate 方法。我应该如何正确更新我的 gridView？

```
- (void)controller:(NSFetchedResultsController *)controller
   didChangeObject:(id)anObject
       atIndexPath:(NSIndexPath *)indexPath
     forChangeType:(NSFetchedResultsChangeType)type
      newIndexPath:(NSIndexPath *)newIndexPath
{
        switch(type)
        {
            case NSFetchedResultsChangeInsert:
                [_currentData insertObject:anObject atIndex:newIndexPath.row];
                [_currentData removeObjectAtIndex:indexPath.row];
                [_gmGridView insertObjectAtIndex:newIndexPath.row animated:YES];
                [_gmGridView removeObjectAtIndex:indexPath.row animated:YES];

                [_gmGridView reloadObjectAtIndex:newIndexPath.row animated:YES];
                [_gmGridView reloadObjectAtIndex:indexPath.row animated:YES];

                [_gmGridView reloadData];

                //[self updatePageControl];
                break;

            case NSFetchedResultsChangeDelete:
                [_currentData removeObjectAtIndex:indexPath.row];

                [_gmGridView removeObjectAtIndex:indexPath.row animated:YES];
                //[self updatePageControl];
                [_gmGridView reloadInputViews];
                [_gmGridView reloadData];

                break;

            case NSFetchedResultsChangeUpdate:
                [_gmGridView reloadObjectAtIndex:indexPath.row animated:YES];

                ////////might be irrelevant, but just trying it out
                [_currentData insertObject:anObject atIndex:newIndexPath.row];
                [_currentData removeObjectAtIndex:indexPath.row];
                [_gmGridView insertObjectAtIndex:newIndexPath.row animated:YES];
                [_gmGridView removeObjectAtIndex:indexPath.row animated:YES];

                [_gmGridView reloadObjectAtIndex:newIndexPath.row animated:YES];
                [_gmGridView reloadObjectAtIndex:indexPath.row animated:YES];

                ////////

                [_gmGridView reloadInputViews];
                [_gmGridView reloadData];

                break;

            case NSFetchedResultsChangeMove:
                [_currentData removeObjectAtIndex:indexPath.row];
                [_currentData insertObject:anObject atIndex:newIndexPath.row];
                [_gmGridView removeObjectAtIndex:indexPath.row animated:YES];
                [_gmGridView insertObjectAtIndex:newIndexPath.row animated:YES];

                [_gmGridView reloadInputViews];

                [_gmGridView reloadData];

                break;
        }
} 
```

一些细节：

```
_currentData = [[self.fetchedResultsController fetchedObjects]mutableCopy];
//I did this because previously I wasn't using a fetchedResultsController but a NSMutableArray instead. I know that it's inefficient (because I have 2 models) but this is the simplest implementation I want to do now. 
```

我通过从相同的本地 URL 修改相同的 UIManagedDocument alloc,init-ed 在不同的类中更改 CoreData。

但是，我遇到了两个重要问题：

*   数据库中的项目已更新（例如更改产品名称或价格）但更改未反映在 UI 中，即我无法正确重新加载我的 GMGridViewCell。（注意上面与重新加载相关的代码）
*   大多数时候，我在服务器中更新的产品在数据库中是重复的，尽管我有一个机制来防止这样的错误。（在创建产品之前，我首先使用唯一标识符搜索现有产品。如果有现有产品，我只需修改其详细信息）。这是代码：

* * *

```
NSFetchRequest *request = [NSFetchRequest fetchRequestWithEntityName:@"Product"];        

request.predicate = [NSPredicate predicateWithFormat:@"product_id = %@", [imonggoInfo   objectForKey:PRODUCT_ID]];    

NSSortDescriptor *sortDescriptor = [NSSortDescriptor sortDescriptorWithKey:@"name" ascending:YES];    

request.sortDescriptors = [NSArray 

arrayWithObject:sortDescriptor];  NSError *error = nil;  

NSArray *matches = [context executeFetchRequest:request error:&error];

if (!matches | ([matches count] > 1)){
    //handle error
}else if ([matches count] == 0){
    //make a new product
}else{
    //return existing
    item = [matches lastObject];
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-15T13:31:21.560

原来我必须听`NSManagedObjectContextDidSaveNotification`，我必须合并在后台线程中修改的上下文中的更改和主线程中的更改。我从这个[问题中选择的答案中得到了这个想法](https://stackoverflow.com/questions/11192916/nsfetchedresultscontroller-does-not-update-tableview-after-uimanageddocuments-ge)

```
[[NSNotificationCenter defaultCenter] addObserver:self selector:@selector(contextChanged:) name:NSManagedObjectContextDidSaveNotification object:nil]; 
```

//然后必须合并上下文中的更改

```
- (void)contextDidSave:(NSNotification*)notification{
    NSLog(@"contextDidSave Notification fired.");
    SEL selector = @selector(mergeChangesFromContextDidSaveNotification:);
    [self.itemDatabase.managedObjectContext performSelectorOnMainThread:selector withObject:notification waitUntilDone:NO]; 
} 
```

# ios - sharekit facebook没有显示登录页面

> ID：12776372
> 
> 赞同：0
> 
> 时间：2012-10-08T06:28:43.683
> 
> 标签：ios, facebook, sharekit

您好我正在尝试在我的应用程序中集成 fb 图像共享。所以我决定使用sharekit。我下载了最新版本。我创建了一个 facebook 应用程序，并`shkconfig.h`按照 sharekit 文档的指导添加了 appkey 和 secretkey。我面临的问题是，当我点击 facebook 分享时，会出现 fbshare 屏幕，我可以看到活动监视器，但过了一段时间没有任何反应，屏幕的标题也消失了。当我删除应用程序密钥和密钥时，我看到了登录页面。我做错了什么还是我必须配置其他东西。我添加了正在发生的事情的屏幕截图。

![单击 fb 分享时的屏幕截图](../Images/4e0b6416ddf25bae2c6d29913302f725.png)

![在此处输入图像描述](../Images/779240456b0d5740080b8b45072ed40d.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-08T06:56:33.067

您必须遵循他们教程中的所有步骤。

在您的情况下，我想到的是：

1）将appKey和secretKey添加到info.plist

2）在您的委托类中添加这些方法：

*   (BOOL)handleOpenURL:(NSURL*)url;
*   (BOOL)application:(UIApplication *)application openURL:(NSURL *)url sourceApplication:(NSString *)sourceApplication注解:(id)注解；
*   (BOOL)应用程序:(UIApplication *)应用程序句柄OpenURL:(NSURL *)url;

我一步一步地跟着他们的步骤，它就像一个魅力。另外，请确保您使用过[这个](https://github.com/ShareKit/ShareKit)。也有旧的，但不支持。

希望这可以帮助。

干杯!

编辑：

据我所知，这是旧版本。你应该得到我上面链接的那个，并按照[这里 wiki 部分](https://github.com/ShareKit/ShareKit/wiki/Installing-sharekit)中的说明进行操作。在此之前，请删除您安装的旧版本的 ShareKit。让我知道事情的后续。

# objective-c - 基于视图的 NSOutlineView cellviews 重叠

> ID：12776376
> 
> 赞同：4
> 
> 时间：2012-10-08T06:29:04.020
> 
> 标签：objective-c, macos, cocoa, nsview, nsoutlineview

有什么方法可以重叠单元格视图`NSOutlineView`吗？

`NSView`没有 clipsToBounds 属性。我尝试打开`wantsLayer`单元格视图的属性及其超级视图 - rowView，然后设置 outlineView 属性`setIntercellSpacing:NSMakeSize(0.f, -10.f)`，但视图被修剪到其边界。
我试图重载 a`NSView`的 visibleRect 方法，但没有结果。如何重叠单元格视图？

# python - 分发python应用教程

> ID：12776380
> 
> 赞同：0
> 
> 时间：2012-10-08T06:29:23.203
> 
> 标签：python, setuptools, software-distribution, pyinstaller

嗨，作为 python 新手，我编写了一个小型 python 应用程序，可以将 excel 工作表转换为 sqlite 数据库表。它不是一个非常复杂的应用程序，但它确实使用了外部模块/包，如 xlrd (http://pypi.python.org/pypi/xlrd)，我在编写我的应用程序时必须下载并安装它们。现在一切都完成了，我想将它分发给我的朋友，所有 Windows 用户，虽然他们的机器上有 python，但他们可能有也可能没有 xlrd 模块。

我想打包我的应用程序，确保它包含运行所需的所有内容，并与我的朋友分享最终的 .zip 文件，以便他们可以使用该应用程序。是否有一个很好的教程来介绍如何打包 python 应用程序，以及所有必要的外部模块/包，以便另一个 Windows 用户可以轻松运行我的应用程序。

我不断听到有关 disutils 的消息，任何人都可以向我指出一些好的教程，或者任何其他 python 打包教程，这些教程展示了如何将所有内容放入一个简单的易于分发的文件中。非常感谢

注意：我还想在我的应用程序中包含 sqlite 数据库文件，因此最终用户不必担心任何事情

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-18T00:43:38.910

首先下载[Pyinstaller](http://pyinstaller.org)并将其保存在某个地方。然后，如果您正在运行 Python 2.6 或 2.7，请安装[pywin32](http://sourceforge.net/projects/pywin32/)。

去为你的输出文件创建一个目录。

打开命令提示符并输入以下命令：

```
python path/to/pyinstaller/pyinstall.py file/to/be/converted.py --onefile 
```

如果要添加图标，请添加`--icon`参数。

如果您希望它隐藏 CMD 窗口，请添加`--windowed`参数。

因此，如果您希望它使用图标并隐藏 CMD 窗口，它将如下所示：

```
python path/to/pyinstaller/pyinstall.py file/to/be/converted.py --onefile --icon="path/to/icon.ico" --windowed 
```

该`--onefile`参数使将所有内容保存到一个文件中，没有它，输出将是很多文件。

输出保存在它使用的目录中的“dist”文件夹中。

将 python 脚本转换为 .exe 后，将其与您需要的任何其他文件（在您的情况下为 squite 数据库文件）一起放入 .zip 文件中，您可以将其提供给不需要 Python 的任何人.

如果您想要一个程序为您完成这一切，您可以下载一个名为[PTEC](https://code.google.com/p/ptec/)的程序。

# android - 安卓联系人列表界面

> ID：12776386
> 
> 赞同：0
> 
> 时间：2012-10-08T06:29:46.007
> 
> 标签：android, listview

![在此处输入图像描述](../Images/a4cbc1f5895ea1e5a040407c24251cf5.png)我想实现类似于 android 中的联系人 UI 的列表视图，即屏幕右侧的字母列表，部分标题由起始字母组成，数据来自数据库。

我发现了一些链接，但这些链接正在使用`AlphabetIndexer`，而不是在屏幕右侧显示 AZ 列表。[此链接](http://w2davids.wordpress.com/android-sectioned-headers-in-listviews/)显示如何创建标题，但这些标题是静态的我想动态创建标题意味着如果我没有以字母“B”开头的数据，则不应创建标题。下面是用户界面的屏幕截图

```
 ![contact listview screenshot][1] 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-08T06:40:27.030

您可以尝试使用我编写的[Simple Section Adapter 。](https://github.com/ragunathjawahar/simple-section-adapter)您需要一个模仿联系人应用程序的标题布局以及联系人列表项的另一个布局。这里也有[几个例子](https://github.com/ragunathjawahar/simple-section-adapter/tree/09a9342e9e73cd39685e8e44fd47fd6902820d1d/src/com/mobsandgeeks/demo)。

我在上述链接中指定的书籍示例也完全符合您的要求。

# jquery - Jquery 刷新内容的连续垂直文本滚动器

> ID：12776395
> 
> 赞同：0
> 
> 时间：2012-10-08T06:30:27.410
> 
> 标签：jquery, refresh, scroller, vticker

我一直在尝试调整 JQuery 来做我想做的事，在花了几个小时试图找到答案之后，我对我的更好的人有吸引力。我正在使用 vticker 创建一个连续滚动的显示。此信息每 60 - 90 秒更新一次，但长度可能不同。所以我正在寻找两件事之一：

1）显示AZ数据的第一次迭代，当Z开始在​​屏幕上滚动时，立即抓取下一次AZ数据的迭代，所以A的第2次迭代立即跟随Z的第1次迭代。

2) 只需在定时间隔后重新加载数据的下一次迭代，但在上一次迭代完成之前不显示它。

我非常擅长 PHP，所以我既可以从 PHP 脚本返回数据，也可以从我的 PHP 脚本创建的静态 HTML 文件中返回数据。

更新：

这是我的代码。它主要是有效的——除了如果我们在一个列表的中间，它会当场刷新这些条目。例如，假设我的列表是 AZ，但屏幕上只有 FN。当刷新触发时，它会更新我屏幕上的 FN，而不是等到 WXYZ 从底部向上移动。

代码：

```
<script>
$(function(){
    var $scroller = $("#scroller");
    $scroller.vTicker('init', {height: 350, showItems: 2, speed: 600, pause: 0, mousePause: false });
    $("#scroller").load("stand1.php"); // /Main_Page #jq-p-Getting-Started li");

    $(document).ready(function() {
$.ajaxSetup({ cache: false }); // This part addresses an IE bug.  without it, IE will only load the first number and will never refresh
setInterval(function() {
$('#scroller').load('stand1.php');
}, 30000); // the "3000" here refers to the time to refresh the div.  it is in milliseconds. 
}); 

});
</script> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-12T06:30:55.243

我使用[DataTables](http://datatables.net/release-datatables/examples/basic_init/scroll_y_infinite.html)来无限滚动我的表格。它还为您提供了四种将数据加载到表中的[选项。](http://datatables.net/usage/#data_sources)“DataTables”最好的一点是您可以使用 jQueryUI 为其设置主题。

# python - 从局部变量创建python字典的最简洁方法

> ID：12776400
> 
> 赞同：6
> 
> 时间：2012-10-08T06:30:50.593
> 
> 标签：python, dictionary

在 Objective-C 中，您可以使用`NSDictionaryOfVariableBindings`宏来创建这样的字典

```
NSString *foo = @"bar"
NSString *flip = @"rar"
NSDictionary *d = NSDictionaryOfVariableBindings(foo, flip)
// d -> { 'foo' => 'bar', 'flip' => 'rar' } 
```

python中有类似的东西吗？我经常发现自己在写这样的代码

```
d = {'foo': foo, 'flip': flip}
# or
d = dict(foo=foo, flip=flip) 
```

有没有捷径可以做这样的事情？

```
d = dict(foo, flip) # -> {'foo': 'bar', 'flip': 'rar'} 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-08T06:34:04.867

不，python 中的这个快捷方式不存在。

但也许这就是你需要的：

```
>>> def test():
...     x = 42
...     y = 43
...     return locals()
>>> test()
{'y': 43, 'x': 42} 
```

此外，python 为这些事情提供`globals()`和`vars()`内置函数。请参阅[文档](http://docs.python.org/library/functions.html#locals)。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-10-08T06:36:35.343

你有没有尝试过[`vars()`](http://docs.python.org/library/functions.html#vars)

> **vars([object])**
> 返回`__dict__`模块、类、实例或任何其他具有属性的对象的`__dict__`属性。
> 
> 模块和实例等对象具有可更新`__dict__` 属性；但是，其他对象可能对其 `__dict__`属性有写入限制（例如，新型类使用 dictproxy 来防止直接字典更新）。

所以

```
variables = vars()
dictionary_of_bindings = {x:variables[x] for x in ("foo", "flip")} 
```

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-10-08T06:37:05.717

Python 并没有办法做到这一点，尽管它确实有一些功能`locals`，`globals`并且可以让您访问*整个*本地或全局命名空间。但是如果你想挑选出选定的变量，我认为最好使用`inspect`. 这是一个应该为您执行此操作的函数：

```
def compact(*names):
    caller = inspect.stack()[1][0] # caller of compact()
    vars = {}
    for n in names:
        if n in caller.f_locals:
            vars[n] = caller.f_locals[n]
        elif n in caller.f_globals:
            vars[n] = caller.f_globals[n]
    return vars 
```

确保检查它是否适用于您使用的任何 Python 环境。用法是这样的：

```
a = 1
b = 2
def func():
    c = 3
    d = 4
    compact('b', 'd')  # returns {'b': 2, 'd': 4} 
```

不过，我认为没有任何方法可以摆脱变量名周围的引号。

# jquery - “使用严格”；+ jQuery.getScript() = 脚本不能导出到全局命名空间

> ID：12776405
> 
> 赞同：5
> 
> 时间：2012-10-08T06:31:05.580
> 
> 标签：jquery, global-variables, getscript, use-strict

假设我有以下脚本，名为`include_strict.js`. 执行后我应该`window.global1`定义：

```
"use strict";

var globalVar = {};
alert(typeof window.globalVar); 
```

但是，如果我从一个 javascript 块中包含它

```
$.getScript("include_strict.js"); 
```

警报说`undefined`。为什么？这里发生了什么？

仅供参考，如果我使用脚本标签包含文件，则不会发生这种情况：

```
<script type="text/javascript" src="include_strict.js"></script> 
```

在这里，我看到了预期的警报，`object`。如果我删除`"use strict";`，那么两者都`jQuery.getScript()`具有`<script>;`相同的显示效果`object`。

我创建了一个示例（[https://docs.google.com/file/d/0B-XXu97sL1Ckb0x0OHptTmVMY00/edit](https://docs.google.com/file/d/0B-XXu97sL1Ckb0x0OHptTmVMY00/edit)）来演示这一点。

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-10-08T06:43:42.117

它使用`$.getScript()`which uses`eval`执行在严格模式下无法修改全局范围的脚本：

> 其次，`eval`严格模式代码不会将新变量引入周围范围。在普通代码`eval("var x;")`中，将变量 x 引入到周围的函数或全局范围中。这意味着，一般来说，在一个包含对 eval 的调用的函数中，每个不引用参数或局部变量的名称必须在运行时映射到特定的定义（因为 eval 可能引入了一个新变量，该变量将隐藏外部变量）。在严格模式下，eval 只为正在评估的代码创建变量，因此 eval 不能影响名称是指外部变量还是某个局部变量：

来源：[https ://developer.mozilla.org/en-US/docs/JavaScript/Reference/Functions_and_function_scope/Strict_mode](https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Functions_and_function_scope/Strict_mode)

解决方案不是使用 jQuery 加载脚本，而是将`script`元素附加到 DOM。请注意，您甚至不能使用 jQuery 附加元素；它会自动使用`$.getScript()`它。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-08T06:43:45.093

jQuery`eval`使用脚本。“使用严格；” inside`eval`改变了代码的语义。这就是为什么严格模式可能很危险！因为在不支持它的浏览器中，您的代码会执行其他操作。

> 其次，严格模式代码的 eval 不会将新变量引入周围范围。在普通代码中， eval("var x;") 将变量 x 引入到周围的函数或全局范围中。这意味着，一般来说，在一个包含对 eval 的调用的函数中，每个不引用参数或局部变量的名称必须在运行时映射到特定的定义（因为 eval 可能引入了一个新变量，该变量将隐藏外部变量）。在严格模式下，eval 只为正在评估的代码创建变量，因此 eval 无法影响名称是指外部变量还是某个局部变量。

[https://developer.mozilla.org/en/JavaScript/Strict_mode](https://developer.mozilla.org/en/JavaScript/Strict_mode)

解决方案是使用`window.foo = "bar;"`而不是`var foo = "bar";`. 你应该把你的代码放在一个 IIFE 中，以使“使用严格；” 更可预测。

```
(function(window) {
    "use strict";

    window.globalVar = {};
    alert(typeof window.globalVar);
}(window)); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2016-11-02T09:01:32.737

在执行之前处理删除严格模式的响应：

```
 $.ajax({
    url: scriptUrl,
    dataType: "script",
    dataFilter: function (data, type) {
        return data.replace("\'use strict\';", "");
    }
}); 
```

# java - 父子微调器

> ID：12776408
> 
> 赞同：0
> 
> 时间：2012-10-08T06:31:12.243
> 
> 标签：java, android, spinner

我创建了一个类，并在布局中添加了两个微调器。

目标：如果您从第一个微调器中选择任何项目，它将更改第二个微调器的内容。

我从`onCreate()(onItemSelected(spinnercategoryl, spinnerEnterprisel, x, i);)`. 问题是，当我从第一个中选择任何项目时，它会更改第二个的内容，但是如果我需要从第二个中选择任何项目，那么它将不会显示为选定项目。

```
public void onItemSelected(AdapterView<?> parent, View view, int pos,
        long id) {
    // TODO Auto-generated method stub
    Spinner spinnerEnterprisel = (Spinner) findViewById(R.id.spinner_enterprise_folding_inserter);
    Spinner spinnercategoryl = (Spinner) findViewById(R.id.spinner_categories);

    switch (spinnercategoryl.getSelectedItemPosition()) {
    case 0:
        ArrayAdapter<CharSequence> adapterDatal = ArrayAdapter
                .createFromResource(this,
                        R.array.enterprise_folding_inserter,
                        android.R.layout.simple_spinner_item);
        adapterDatal
                .setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);

        spinnerEnterprisel.setAdapter(adapterDatal);

        break;
    case 1:
        ArrayAdapter<CharSequence> adapterData1 = ArrayAdapter
                .createFromResource(this, R.array.enterprise_sorters,
                        android.R.layout.simple_spinner_item);
        adapterData1
                .setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);

        spinnerEnterprisel.setAdapter(adapterData1);

        break;

    case 2:
        ArrayAdapter<CharSequence> adapterData2 = ArrayAdapter
                .createFromResource(this, R.array.Softwares,
                        android.R.layout.simple_spinner_item);
        adapterData2
                .setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);

        spinnerEnterprisel.setAdapter(adapterData2);

        break;
    case 3:
        ArrayAdapter<CharSequence> adapterData3 = ArrayAdapter
                .createFromResource(this, R.array.workflow,
                        android.R.layout.simple_spinner_item);
        adapterData3
                .setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);

        spinnerEnterprisel.setAdapter(adapterData3);

        break;
    }

    spinnerEnterprisel.setOnItemSelectedListener(enterprise.this);
    spinnercategoryl.setOnItemSelectedListener(enterprise.this);
    // Spinner spinnerEnterprisel1 = (Spinner)
    // findViewById(R.id.spinner_enterprise_folding_inserter);
}

public void onNothingSelected(AdapterView<?> arg0) {
    // TODO Auto-generated method stub

}` 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-08T17:25:06.587

您为两个 Spinner 设置了相同的侦听器。每当您在任一 Spinner 中做出选择时，“子”Spinner 都会被重置。只需删除设置“子”微调器的任何代码`OnItemSelectedListener`：

```
~~spinnerEnterprisel.setOnItemSelectedListener(enterprise.this);~~
```

~~现在“子”微调器将保留您选择的选项。~~

# php - ajax 聊天 Web 应用程序中的错误，index.php 不会显示任何内容

> ID：12776409
> 
> 赞同：1
> 
> 时间：2012-10-08T06:31:24.720
> 
> 标签：php, html, ajax

我在使用 ajax 聊天时遇到问题，我刚刚安装了它并对 config.php 文件进行了更改，方法是填写主机名、数据库、用户名等。当我在浏览器上访问 index.php 文件时，全部我得到的是：此页面包含以下错误：

第 2 行第 1 列的错误：文档末尾的额外内容 下面是第一个错误之前的页面呈现。

然后在消息之后，什么都没有显示，页面的其余部分是空白的。这看起来像是脚本开发人员发出的错误消息，因为我打开 index.php 文件并遇到：

```
// Show all errors:
error_reporting(E_ALL); 
```

有没有人遇到过类似的问题，你是怎么解决的？就像一步一步一样，我检查了网络，但似乎没有合法的答案。我恳请任何可以帮助我解决此错误的人提供帮助，并可能告诉我为什么会出现，在此先感谢。这是网址：（http://sourceforge.net/projects/ajax-chat/）在哪里找到它（删除多余的空格和括号），以防有人不熟悉它，自述文件一步一步地给出如何安装它的指南。提前致谢。

# oop - 与实例相反，存储在内存中的类的定义在哪里？

> ID：12776414
> 
> 赞同：0
> 
> 时间：2012-10-08T06:31:56.500
> 
> 标签：oop, memory-management

这个问题只是出于兴趣，并试图了解面向对象语言中的内存管理。它不是特定于一种语言的，但我只是想理解为一般原则。

我想知道的是，与该引用的实例相比，对象引用的定义是如何存储的。

当您在 OO 源代码中定义和对象时，例如在 Java 中，而不实例化它：

```
String s; 
```

这是如何存储的？此定义的内存使用情况与实际实例化对象时有何不同：

```
s = new String("abc"); 
```

? 就内存分配方式或不同语言实现者使用不同技术分配内存而言，是否有适用于所有 OO 语言的一般原则？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-08T06:41:52.973

通常，当我们声明像**String s 这样的引用时；**它被创建为一个普通变量，就像 int ， float 但是这种类型的变量保存内存地址（它类似于 C 语言中的指针的概念）但是当我们使用 **s = new String("abc");** ，它在堆中创建一个对象并将该地址分配给引用变量**s**。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-08T08:41:33.790

在 Java 字节码中，所有对象都存储为对象。需要时添加显式类型检查。例如这个Java函数

```
public Integer getValue(Object number){
  int i = ((Number) number).toInt();
  return new Integer(i);
} 
```

被翻译成这样的字节码：

```
(accepts java.lang.Object, returns java.lang.Integer)

-read the first argument as an Object
-if the value is not a Number, raise an exception
-call the virtual method toInt(java.lang.Integer) of the value
    and remember the int result
-use the value as an int argument
-instantiate a new java.lang.Integer
-call the constructor(int) of java.lang.Integer on the new number,
    getting an Object back
[since the declared return value of Number.toInt is the same
    as the return value of our function, no type checking is needed]
-return the value 
```

因此，编译器会去除未使用的变量类型。公共和受保护字段的类型与其类一起存储。

对象的运行时类型与对象一起存储。在 C++ 中，它是指向虚拟方法表的指针。在 Java 中，它是所有已加载类表的 16 位索引。

Java 类文件将所有依赖类的索引存储在一个类似的表中。这里只存储类名。然后所有字段描述都指向该表。

因此，当您编写`String s = new String("abc")`（甚至`String s = "abc"`）时，您的班级会存储：

*   它依赖于依赖表中的类 java.lang.String
*   字符串文字表中的“abc”
*   您的方法按 ID 加载字符串文字
*   （在第一种情况下）您的方法调用其第一个依赖类（String）的构造函数，并将第一个依赖类（String）作为参数。
*   编译器可以证明将新字符串存储在字符串变量中是安全的，因此它会跳过类型检查。

一个类可以在被引用后立即加载，或者在第一次使用时加载（在这种情况下，它由其依赖的类和类中的 ID 引用）。我认为后者现在总是如此。

加载类时：

```
-its class loader is asked to retreive the class by its name.
-(in the case of the system loader) the class loader looks
    for the corresponding file in the program JAR, in the system library
    and in all libraries referenced.
-the byte stream is then decoded into a structure in memory
-(in the case of early loading) all dependent classes are loaded recursively
    if not already loaded
-it is stored in the class table
-(in the case of late loading) its static initialiser is run
    (possibly loading more classes in the process). 
```

在 C++ 中，不会发生任何类加载，因为所有用户类和大多数库都作为单纯的虚拟方法表和相应的方法存储在程序中。所有系统函数（不是类）仍然可以存储在 DLL（在 Windows 的情况下）或类似文件中，并在运行时由库加载。如果显式类型转换隐含类型检查，则在虚拟方法表上执行。另请注意，C++ 有一段时间没有类型检查机制。

# java - 快速准确的稀疏 svd 库？

> ID：12776415
> 
> 赞同：3
> 
> 时间：2012-10-08T06:32:00.450
> 
> 标签：java, c++, c, matrix, svd

我正在寻找一个快速的 svd 库，无论是 c、c++ 还是 java。最终我使用的是 Java，但我很喜欢使用 jna 来包装 c++，例如[http://github.com/hughperkins/jeigen](http://github.com/hughperkins/jeigen)

我正在寻找一个可以处理稀疏矩阵的快速 svd 库。为了保持这个客观性，这样问题就不会被标记为过于主观，让我们说：

*   与 news20.binary 一起使用，例如来自[http://mldata.org/repository/data/viewslug/news20binary/](http://mldata.org/repository/data/viewslug/news20binary/)
*   运行需要多快？
*   保留多少方差，例如对于大小为 6 或 20 的 S 矩阵？

我环顾了几个图书馆，发现：

*   matlab：超级快，大约 10 秒，但它并不是真正的“库”。平均平方投影误差：0.93
*   redsvd：超快，运行1秒左右，6个特征，但平均平方投影误差为0.97，非常高
*   Eigen 的 svd 都非常慢，并且仅适用于密集矩阵
*   svdlibc：在我停止之前运行了 28 分钟；我想它是在计算完整的 S，而不仅仅是前 6 个特征左右

基本上，我正在寻找一个库，它提供与 matlab 相同的速度和平均平方投影误差，或者至少具有可比性。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-30T22:30:03.680

根据我的经验，svdlibc 是这些选项中最好的库。我之前已经对它的代码进行了一些研究，但我不相信它正在计算完整的 S 矩阵（即，它是一个真正的“薄 svd”）。如果您可以控制磁盘上的矩阵表示，则 svdlibc 在使用稀疏二进制输入格式时执行得更快，因为 I/O 开销显着降低。

S-Space 包提供了一个围绕 SVDLIBC 的 SVDLIBJ java 端口的[可执行 jar 。](http://code.google.com/p/airhead-research/downloads/detail?name=svd.jar&can=2&q=#makechanges)但是，他们发现对于某些输入解决方案，它的结果与 SVDLIBC 不同。

# c - 如何避免在线程中使用全局变量

> ID：12776416
> 
> 赞同：2
> 
> 时间：2012-10-08T06:32:06.180
> 
> 标签：c, global-variables

我编写了一个 C 程序，它使用两个线程进行读写。我已将两个线程都访问的变量声明为全局变量。在这种情况下如何避免使用全局变量。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-08T06:46:12.567

请查看 C 中的以下`pthread`库方法以独占访问 C 中的共享全局变量：

```
int pthread_mutex_init(pthread_mutex_t *restrict mutex, const pthread_mutexattr_t *restrict attr);
int pthread_mutex_lock(pthread_mutex_t *mutex);
int pthread_mutex_unlock(pthread_mutex_t *mutex);
int pthread_mutex_destroy(pthread_mutex_t *mutex); 
```

同样，您可以查看 Semaphores 以同步 C 线程中全局变量的使用。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-10-08T06:46:32.787

您真的需要一个*共享*变量，还是每个线程实际上需要 2 个相同数据的副本？如果是这样，不要将其声明为全局的，而是在创建时将其作为参数传递给线程。

如果确实需要共享，则需要使用互斥锁进行保护。如果您将共享变量与互斥锁一起捆绑到一个结构中并在创建时将其作为参数传递给线程，您仍然可以取消全局变量。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-10-08T06:46:58.043

> 在这种情况下如何避免使用全局变量。

没有必要避免全局变量。您唯一需要考虑的是某些锁定机制的有效数据。

将所有全局变量放入结构中是为了在项目增长时提高可读性和代码控制。

我建议你使用互斥锁。这是一个修改后的示例代码。

```
#include <pthread.h>
#include <stdio.h>
#include <stdlib.h>

typedef struct 
 {
   double      *a;
   double      *b;
   double     sum; 
   int     veclen; 
 } DOTDATA;

/* Define globally accessible variables and a mutex */

#define NUMTHRDS 4
#define VECLEN 100
   DOTDATA dotstr; 
   pthread_t callThd[NUMTHRDS];
   pthread_mutex_t mutexsum;

void *dotprod(void *arg)
{

   /* Define and use local variables for convenience */

   int i, start, end, len ;
   long offset;
   double mysum, *x, *y;
   offset = (long)arg;

   len = dotstr.veclen;
   start = offset*len;
   end   = start + len;
   x = dotstr.a;
   y = dotstr.b;

   /*
   Perform the dot product and assign result
   to the appropriate variable in the structure. 
   */

   mysum = 0;
   for (i=start; i<end ; i++) 
    {
      mysum += (x[i] * y[i]);
    }

   /*
   Lock a mutex prior to updating the value in the shared
   structure, and unlock it upon updating.
   */
   pthread_mutex_lock (&mutexsum);
   dotstr.sum += mysum;
   pthread_mutex_unlock (&mutexsum);

   pthread_exit((void*) 0);
}

/* 
The main program creates threads which do all the work and then 
print out result upon completion. Before creating the threads,
the input data is created. Since all threads update a shared structure, 
we need a mutex for mutual exclusion. The main thread needs to wait for
all threads to complete, it waits for each one of the threads. We specify
a thread attribute value that allow the main thread to join with the
threads it creates. Note also that we free up handles when they are
no longer needed.
*/

int main (int argc, char *argv[])
{
   long i;
   double *a, *b;
   void *status;      

   /* Assign storage and initialize values */
   a = (double*) malloc (NUMTHRDS*VECLEN*sizeof(double));
   b = (double*) malloc (NUMTHRDS*VECLEN*sizeof(double));

   for (i=0; i<VECLEN*NUMTHRDS; i++)
    {
     a[i]=1.0;
     b[i]=a[i];
    }

   dotstr.veclen = VECLEN; 
   dotstr.a = a; 
   dotstr.b = b; 
   dotstr.sum=0;

   pthread_mutex_init(&mutexsum, NULL);             

   for(i=0; i<NUMTHRDS; i++)
   {
      /* 
      Each thread works on a different set of data.
      The offset is specified by 'i'. The size of
      the data for each thread is indicated by VECLEN.
      */
      pthread_create(&callThd[i], NULL, dotprod, (void *)i);
   }  

   /* Wait on the other threads */
   for(i=0; i<NUMTHRDS; i++)
   {
      pthread_join(callThd[i], &status);
   }

   /* After joining, print out the results and cleanup */
   printf ("Sum =  %f \n", dotstr.sum);
   free (a);
   free (b);
   pthread_mutex_destroy(&mutexsum);
   pthread_exit(NULL);
} 
```

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2012-10-08T06:50:18.603

我想您是在问如何通过在启动期间传递它们的工作数据来避免让您的线程访问全局变量。

请参阅 pthread_create 的最后一个参数，它允许您定义一个用户定义的自定义指针，它可以是您想要的任何东西。使用它来传递数据（例如结构地址甚至按值，只要该值可以适合平台的 void 指针大小。

例如，父母可以通过以下方式发送子线程数据：

```
Data data;
pthread_create(&thrd, NULL, threadProc, &data); 
```

子进程将通过以下方式引用它：

```
void *threadProc(void *pv)
{
   Data *pData = (Data*)pv;
   .. use data here...
   pthread_exit(NULL);
} 
```

我希望这是有道理的，并希望它可以帮助您了解如何将数据传递给线程 proc，这就是我*认为*您的问题所在。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-10-08T06:37:28.183

1.  如果您希望每个线程都有一个单独的变量副本，请将变量声明为线程本地的。

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2012-10-08T06:40:11.160

你可以制作结构。我通常使用一个名为的结构`globalArgs`，我将所有全局变量放在其中。

像这样的东西：

```
static typedef struct {
int foo;
int baa;
} globalargs; 
```

或者，您可以将所有值作为参数传递给需要的函数。

# c - 嵌入式 Keil C 是否支持多线程？

> ID：12776420
> 
> 赞同：5
> 
> 时间：2012-10-08T06:32:40.080
> 
> 标签：c, multithreading, embedded, keil

我正在使用 Keil C 编译器在[LM3S6965](http://www.ti.com/product/lm3s6965)评估板上开发一个嵌入式应用程序。有没有创建多线程嵌入式应用程序的选项？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-10-08T06:40:26.653

您可能想查看[FreeRTOS](http://www.freertos.org/)。这是一个非常简单且轻量级的操作系统，可为您提供多线程。

还有许多其他轻量级操作系统。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-10-08T19:02:23.867

多线程不是 C 的固有部分，因此根本不是由编译器提供的，而是由库提供的。在这方面，可以使用任何 C 编译器来实现多线程；更多的是选择（或编写）合适的库。

ARM Cortex-M 存在许多 RTOS 内核，但[Keil MDK-ARM](http://www.keil.com/arm/mdk.asp)包含支持多线程的 RTX 实时 OS 库。

uVision IDE 明确具有包含 RTX 库的选项，并且调试器具有基本的内核感知水平。RTX 本身相当原始，但适用于小型项目，并且 Keil 的所有其他中间件（如 TCP/IP、USB、CAN 和文件系统）都可以直接使用它。

# jquery - 如何使用 jQuery 在悬停时设置 z-index？

> ID：12776424
> 
> 赞同：2
> 
> 时间：2012-10-08T06:32:57.927
> 
> 标签：jquery, html, css, z-index

如何在 img 元素悬停时设置 z-index？当鼠标指针在 img 之外时，z-index 必须为 0，否则应为 9。

我确实知道如何设置它，但不知道如何在悬停时更改它。

```
$('#content img').click(function () {
    $(this).css("z-index", "99")
}); 
```

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-10-08T06:36:12.307

```
$('#content img').mouseover(function () {
    $(this).css("z-index", "9")
});

$('#content img').mouseout(function () {
    $(this).css("z-index", "0")
}); 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-10-08T06:54:44.843

仅使用 css 的解决方案：

```
 #content img{
   z-index:0;
 }

 #content img:hover{
   z-index:9;
 } 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-10-08T07:35:28.983

试试这个

```
$('#content img').hover( 
   function() { 
     $(this).css("z-index", "99")
   },
   function() { 
     $(this).css("z-index", "0")
   }); 
```

# php - 禁用 IE 浏览器中的 WIN+D 键

> ID：12776427
> 
> 赞同：-1
> 
> 时间：2012-10-08T06:33:16.470
> 
> 标签：php, javascript, internet-explorer

我正在研究 javascript 和 php，我想禁用 win+d 键功能并最小化浏览器（IE）中的按钮。我在 java-script 中使用全屏模式。请帮帮我。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-08T06:35:34.143

您不能从脚本中禁用操作系统功能。但是，在 Windows 上运行的软件可以通过低级键盘挂钩禁用它。但是没有任何方法可以做到这一点，而且永远不会从网站上做到这一点。

您需要某种“信息亭”软件来运行您的网页。这些软件就是为此目的，允许用户查看网站但不会弄乱系统的其余部分。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-08T06:36:56.407

如果不在内核级别进行，我不相信这是可能的。Windows 密钥旨在供操作系统使用，而不是供单个应用程序使用。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-08T06:36:21.510

Win+D 快捷方式由 Windows 提供。IE 无法禁用此行为。

您不太可能禁用最小化按钮。

从本质上讲，听起来您正在尝试做的是阻止用户离开浏览器窗口。如果浏览器让这种情况发生，那将是一个巨大的安全风险。一个好的浏览器实际上会试图阻止你实现这个目标。

# c# - 如何验证 TextBox 值是 C# Windows 窗体应用程序中的字符串

> ID：12776428
> 
> 赞同：0
> 
> 时间：2012-10-08T06:33:15.347
> 
> 标签：c#

我正在使用 TextBox 输入用户名，在这里我想**验证该框仅**包含以大写字母开头并以简单字母开头的字母。为此，我使用以下代码，即使它正在验证，但如果我在一些字母后输入一个数字，它不能识别，请有人帮我找到问题。

```
if (!Regex.IsMatch(textBox3.Text, @"[a-zA-Z]"))
{
    errorProvider2.SetError(textBox3, "Only use alphabates");
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-08T06:40:47.480

试试这个：

```
if (!Regex.IsMatch(textBox3.Text, @"[A-Z][a-zA-Z\s\'-]*")) 
    { 
        errorProvider2.SetError(textBox3, "Only use alphabates"); 
    } 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-08T06:40:39.233

使用这种模式

^[AZ]?[az]*$

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-08T06:35:22.100

试试这个：

```
string input = textBox3.Text;
Regex.IsMatch(input, @"^[a-zA-Z]+$"); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-08T06:35:56.533

试试这个正则表达式，它可能会对你有所帮助。

```
if (!Regex.IsMatch(textBox3.Text, @"^[A-Z][A-Za-z]*$"))
{
    errorProvider2.SetError(textBox3, "Only use alphabets");
} 
```

它以大写字母开头，后跟零个或多个任意大小写的字母。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-10-08T06:51:34.407

这将起作用。满足您的所有条件：

```
@"^[A-Z]{1}[a-z]+$" 
```

* * *

`[A-Z]{1}`- 将第一个字母与大写匹配，并且只匹配一次。
`[a-z]+` - 仅匹配小写字母一次或多次
`$`- 标记字符串的结尾，因此不再匹配数字

# android - Android WebView PDF 查看

> ID：12776429
> 
> 赞同：0
> 
> 时间：2012-10-08T06:33:17.317
> 
> 标签：android, pdf, webview

我想在我的 Android 应用程序中查看 PDF 文件。目前我正在使用下面的代码来查看 PDF 文件，

```
webView.loadUrl("http://docs.google.com/gview?embedded=true&url=http://www.xyz/docs/pdf1.pdf"); 
```

我不想使用上述方法，即 Google Doc，因为它显示带有两个小放大镜的浅蓝色标题，用于放大缩小，我只想查看纯 PDF，其中缩放是通过手指完成的。那可能吗？

# css - 媒体查询：使用 css 更改图像 src 属性

> ID：12776434
> 
> 赞同：0
> 
> 时间：2012-10-08T06:33:34.410
> 
> 标签：css, html, media-queries

我正在为 Android、iPhone 和 Windows 手机开发一个 HTML5 应用程序，并且我正在使用媒体查询来根据屏幕宽度显示不同的图像文件。

如果我使用 CSS`background-image`属性显示图像，我可以根据媒体查询值使用不同的 CSS 类更改图像文件。`img`但是，如果使用标签显示图像，我将无法更改图像。

有没有办法`img`使用 CSS 媒体查询更改与标签关联的图像源？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-08T06:36:09.197

根据您的媒体查询标准，使用精灵表并更改`background-position`a`<div>`或类似（将替换页面上的 a）以对精灵的新部分进行采样。`<img>`

例子：

HTML：

```
<div></div> 
```

CSS：

```
div
{
    width: 100px;
    height: 100px;
    background: url(http://martywallace.com/view/textures/photo/terraria.jpg) no-repeat;
}

@media all and (max-width: 1000px)
{
    div
    {
        background-position: -20px -50px;
    }
} 
```

# puppet - puppet 可以强制模板传播吗？

> ID：12776435
> 
> 赞同：1
> 
> 时间：2012-10-08T06:33:35.147
> 
> 标签：puppet

我希望我的所有 puppet 托管主机在配置文件中都有这些主机的列表。我的第一个想法（可能不是一个好的想法）是使用模板文件将主机列表插入到好的配置文件中。

配置新主机时，puppet 将计算模板，新主机将获得正确的配置文件。

但是其他主机呢？模板文件不会更改，因此 puppet 不想重新传播它。所以我猜所有其他主机都不会知道新的主机列表。

确切的用例是将我的主机列入白名单 /etc/ssh/sshd_config ：

允许用户：root@host1 root@host2 ... root@newhost

模板到达 SQL ENC 以获取节点列表。

有什么提示吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-08T11:51:12.283

每次服务器执行 Puppet 运行时，Puppet 都会重新评估模板，因为 Puppet 代理将请求新目录。如果 ENC 更改其数据以提供新的主机列表，则模板输出将更改，客户端将获得新目录并应用文件的新内容。

Puppet 代理通常作为守护进程运行，每 20 分钟执行一次。当它运行时，文件将得到更新。

# iphone - 我应该让我的 iPhone 应用程序向后兼容 iOS 5 吗？

> ID：12776436
> 
> 赞同：0
> 
> 时间：2012-10-08T06:33:40.453
> 
> 标签：iphone, ios, ios5, ios6

iOS 6 最近推出，它包含一些不错的功能，例如[SLComposeViewController](https://developer.apple.com/library/ios/#documentation/NetworkingInternet/Reference/SLComposeViewController_Class/Reference/Reference.html)。但是，我不愿打破与 iOS 5 的向后兼容性。有多少人更新到最新 iOS 版本的统计数据？我无法找到 Apple 发布的数据。何时建议使用 iOS 6 特有的功能？

**更新：**我从一家名为 Chitika 的公司找到了 iOS 采用统计数据：http: [//insights.chitika.com/2012/ios-by-device/](http://insights.chitika.com/2012/ios-by-device/)。截至 2012 年 10 月 1 日，60% 的 iPhone 用户拥有 iOS 6。不幸的是，这看起来像是一篇静态文章，而不是一个不断更新数据的页面，但可以假设使用一点推断 iOS 5 仍然（截至10/8/2012）代表大量用户。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-08T06:59:59.027

Apple 可能永远不会告诉你，但这里有一项使用来自 Chitika 广告网络的移动广告印象的研究，显示 60% 的 iPhone 在 iOS6 发布两周后更新（针对北美市场）：

[http://insights.chitika.com/2012/ios-by-device/](http://insights.chitika.com/2012/ios-by-device/)

Chartboost 的数据表明采用率略低：

[http://techcrunch.com/2012/10/05/after-early-boom-new-numbers-suggest-ios-6-adoption-may-be-reaching-a-plateau/](http://techcrunch.com/2012/10/05/after-early-boom-new-numbers-suggest-ios-6-adoption-may-be-reaching-a-plateau/)

我猜主要是因为害怕丢失谷歌地图并且没有得到那么多回报（对于旧设备）。可能是一个好主意，然后不要专门针对 iOS6 ......

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-08T06:56:29.693

您今天可以使用 iOS 6.0 的功能，数以百万计的用户已经将他们的 iDevices 升级到了最新版本（他们中的很多人甚至不知道他们这样做了，现在一切都那么容易）。

但是，有数以百万计的用户要么不想升级，要么因为他们的设备不支持 iOS 6.0 而无法升级，所以在让这些用户被冷落之前，你应该好好想想。

如果您想出一个完全依赖于 iOS 6.0 功能的应用程序创意，那么一定要去做。如果没有，请为 5.0 及更高版本的用户提供标准功能集，并通过在运行时询问哪些内容有哪些没有，为那些采用 iOS 6.0 的用户增强此功能。

# asp.net - MVC 4 ApiController 和异步并发

> ID：12776444
> 
> 赞同：3
> 
> 时间：2012-10-08T06:34:20.500
> 
> 标签：asp.net, .net, asp.net-mvc-4, asp.net-web-api, async-await

我正在使用 ApiController 中的异步方法，这种行为让我感到惊讶。我调用以下方法：

```
// GET api/values/{id}
public async Task<object> Get(int id)
{
    var received = DateTime.Now;
    await Task.Delay(10000);
    var finished = DateTime.Now;
    return new { id, received, finished };
} 
```

从四个浏览器窗口依次访问以下 URL，每个窗口之间有大约一秒的延迟：

```
http://localhost:55571/api/values/1
http://localhost:55571/api/values/2
http://localhost:55571/api/values/3
http://localhost:55571/api/values/2 
```

正如预期的那样，第一个 URL 在我启动它 10 秒后返回，紧随其后的是第二个和第三个 URL。但是，与第二个 URL 相同的第四个 URL 在第二个 URL 返回后十秒返回。

这向我表明，浏览器和我的代码之间的某些东西正在将请求序列化到相同的 URL、相同的参数集或其他东西（那么 POST、PUT 等呢？）。而不是逆向工程这个，我想问......

这种行为是否记录在某处？

**编辑：**我试图抓住[这根稻草](https://stackoverflow.com/a/10527055/9990)，但无济于事。

**编辑：**根据评论中的要求，时间（大致）如下：

```
 0 s: GET …/values/1
 1 s: GET …/values/2
 2 s: GET …/values/3
 3 s: GET …/values/2 (2nd instance)
10 s: GOT …/values/1
11 s: GOT …/values/2
12 s: GOT …/values/3
21 s: GOT …/values/2 (2nd instance) 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-08T10:11:23.943

浏览器将自愿限制它们与主机的连接数。[RFC 2616](http://www.w3.org/Protocols/rfc2616/rfc2616-sec8.html#sec8.1.4) (HTTP 1.1) 建议限制两个持久连接；您的浏览器似乎使用了三个限制。

# mysql - JOIN 查询未按预期运行

> ID：12776446
> 
> 赞同：2
> 
> 时间：2012-10-08T06:34:27.940
> 
> 标签：mysql, sql

我正在处理一个不符合预期的查询，如果能帮助我指出正确的方向，我将不胜感激。

**表格** 我有三个中央表格，包括以下内容。

```
table_categories
- id (int)
- name (varchar)

table_events
- id (int)
- name (varchar)
- created (date time)

table_taxonomy
- cat_id (id from table_categories)
- event_id (id from table_events)
- type (varchar in this example always 'category') 
```

**GOAL** 计算每个类别中某个日期之后创建的事件。结果应该是这样的：

```
COUNT   NAME    ID
3       Rock     1
2       Punk     3 
```

**QUERY** 这是我提出的查询。问题是结果不关心创建日期，而是抓取所有事件，无论它们何时创建。

```
SELECT COUNT(*) AS count,
            table_categories.name,
            table_categories.id
            FROM table_taxonomy
            INNER JOIN table_categories
            ON table_categories.id = table_taxonomy.cat_id
            LEFT JOIN table_events
            ON table_events.id = table_taxonomy.events_id
            WHERE table_taxonomy.type = 'category'
            AND table_taxonomy.cat_id IN(2,3)
            AND table_events.created > '2012-10-07 05:30:00'
            GROUP BY (table_categories.name) 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-08T06:42:32.507

试试这个，在比较日期时只做一点小改动：

```
SELECT COUNT(*) AS count,
            table_categories.name,
            table_categories.id
            FROM table_taxonomy
            INNER JOIN table_categories
            ON table_categories.id = table_taxonomy.cat_id
            LEFT JOIN table_events
            ON table_events.id = table_taxonomy.events_id
            WHERE table_taxonomy.type = 'category'
            AND table_taxonomy.cat_id IN(2,3)
            AND Date(table_events.created) > '2012-10-07 05:30:00'
            GROUP BY (table_categories.name) 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-08T06:40:45.233

试试这个，

```
SELECT  c.ID, c.Name, COUNT(*)
FROM    table_categories a
        INNER JOIN table_taxonomy b
            ON a.id = b.cat_id
        INNER JOIN table_events c
            ON b.event_ID = c.ID
WHERE   c.created > 'dateHere' 
        -- AND .....                  -- other conditions here
GROUP BY    c.ID, c.Name 
```

# mysql - 如何指定在此 MySQL 查询中包含特定的邮政编码？

> ID：12776462
> 
> 赞同：0
> 
> 时间：2012-10-08T06:35:25.393
> 
> 标签：mysql

此查询中使用的基本邮政编码是 90210 的 lat/lng，其平均 agi（2008 年）超过 40 万美元。由于介于 100000 和 200000 之间的范围内，我不希望它出现在此输出中。

```
SELECT 
  zip, city, state, avg_agi, 
  ( 3959 
      * acos( 
              cos( radians(34.088808) ) 
            * cos( radians( lat ) ) 
            * cos( radians( lng ) - radians(-118.40612) ) 
            + sin( radians(34.088808) ) 
            * sin( radians( lat ) ) 
        ) 
  ) AS distance 
FROM 
  zip_codes, avgagi 
where 
      zip=zipcode 
  and avg_agi BETWEEN 100000 and 200000 
HAVING 
  distance < 5 ORDER BY distance LIMIT 0 , 10000;

+-------+----------------+-------+---------+------------------+
| zip   | city           | state | avg_agi | distance         |
+-------+----------------+-------+---------+------------------+
| 90069 | West Hollywood | CA    |  121753 | 1.42816585190112 |
| 90211 | Beverly Hills  | CA    |  164538 | 2.06804933097035 |
| 90024 | Los Angeles    | CA    |  187134 | 2.47751318825072 |
| 90025 | Los Angeles    | CA    |  130983 | 3.76591348160737 |
| 91604 | Studio City    | CA    |  103328 |  3.8634176735557 |
| 90064 | Los Angeles    | CA    |  130769 | 3.95933331921038 |
| 90068 | Los Angeles    | CA    |  100370 | 4.52908379278674 |
+-------+----------------+-------+---------+------------------+ 
```

但是，对于我的应用程序，我需要它在输出中包含基本邮政编码。有人建议我对 zip="90210" 使用带有 OR 的 WHERE，但是我很难弄清楚如何使它工作。当我尝试采纳这个建议时，它会旋转最长时间并且永远不会回来。

无论 BETWEEN 范围如何，如何修改上述 MySQL 查询以使其包含 90210 的邮政编码。谢谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-08T07:35:43.063

可能更容易使用 UNION 语句：

```
SELECT 
  zip, city, state, avg_agi, 0 AS distance 
FROM 
  zip_codes, avgagi 
where 
      zip=zipcode 
UNION
SELECT 
  zip, city, state, avg_agi, 
  ( 3959 
      * acos( 
              cos( radians(34.088808) ) 
            * cos( radians( lat ) ) 
            * cos( radians( lng ) - radians(-118.40612) ) 
            + sin( radians(34.088808) ) 
            * sin( radians( lat ) ) 
        ) 
  ) AS distance 
FROM 
  zip_codes, avgagi 
where 
      zip=zipcode 
  and avg_agi BETWEEN 100000 and 200000 
HAVING 
  distance < 5 ORDER BY distance LIMIT 0 , 10000; 
```

否则试试这个：

```
SELECT 
      zip, city, state, avg_agi, 
      ( 3959 
          * acos( 
                  cos( radians(34.088808) ) 
                * cos( radians( lat ) ) 
                * cos( radians( lng ) - radians(-118.40612) ) 
                + sin( radians(34.088808) ) 
                * sin( radians( lat ) ) 
            ) 
      ) AS distance 
    FROM 
      zip_codes, avgagi 
    where 
          zip=zipcode 
    AND(zip = 90210
    OR avg_agi BETWEEN 100000 and 200000 )
    HAVING 
      distance < 5 ORDER BY distance LIMIT 0 , 10000; 
```

# ruby-on-rails - Sort Table on link_to click event

> ID：12776464
> 
> 赞同：0
> 
> 时间：2012-10-08T06:35:33.553
> 
> 标签：ruby-on-rails

I have two tables with a has_and_belongs_to_many relationship, Project and Category.

I list out all my Project records on my views/projects/new.html.erb like this:

```
<% @projects.each do |project| %>
  <tr class="project <% project.categories.all.each do |cat| %><%= cat.name %> <% end %>">
     <td><a href='project/<%= project.id %>'><%= project.filename %></a></td>
 <td><%= project.author %>
 <td><% project.categories.all.each do |cat| %><%= cat.name %>, <% end %></td>
  </tr>
<% end %> 
```

And have defined several link_to remote links like this:

```
<div class="filterBy">SORT BY:</div>
<div class="filterBy"><%= link_to "Category", :update => "projects", :url => { :action => "sortTable", :filter => "Category" }, :remote => true %></div>                                        
<div class="filterBy"><%= link_to "Author", :update => "projects", :url => { :action => "sortTable", :filter => "Author" }, :remote => true %></div>
<div class="filterBy"><%= link_to "Date", :update => "projects", :url => { :action => "sortTable", :filter => "Date" }, :remote => true %></div> 
```

And in my projects_controller I have

```
def sortTable 
  @projects = Project.find(:all, :order => params[:filter])
end 
```

When I click the links though, nothing happens. What am I doing wrong? I want it to update without refreshing the page as well. If need be, my routes.rb looks like

```
Docside::Application.routes.draw do
  resources :projects
  resources :categories
  #get "home/index"
  root :to => "projects#new"
  match 'project/new',:controller=>"projects",:action=>"create"
  match "project/:id", :controller => "projects", :action=>"download"
end 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-08T07:11:33.163

在您的代码中，您发送远程服务器请求只是为了获取排序数据。这将通过许多请求杀死服务器。由于您的列表页面的主要要求是在不刷新页面的情况下对数据进行排序，因此您可以使用数据表。使用数据表的示例页面 -

添加到你的 appliation.js

```
//= require jquery.dataTables.min 
```

在用户控制器中

```
def index
  @users = User.all #collect all the users
end 
```

在您的列表/索引视图中

```
%table#users
   %thead
     %tr
       %th User Name
       %th User Age
   %tbody
   %tfoot

:javascript 
  var users_list = true;
  var users = #{@users.to_json};  #convert the object collection to json 
```

在你的 users.js.coffee 文件中

```
if users_list?
  usersColumnDefs = [ { "bSearchable": true, "bSortable": true, "bVisible": true, "aTargets": [ 0, 1 ] }, { "sClass": "user-name", "aTargets": [ 0 ] }, { "sClass": "user-age", "aTargets": [ 1 ] } ]

  data = $.map(users, (user) ->
    return [[ user.name, user.age ]]
  )

  $('#users').dataTable
    "bSort": false,
    "bPaginate": false,
    "sDom": sDom
    "aaData": data
    "aoColumnDefs": usersColumnDefs 
```

另请参阅 [将 jquery DataTables 用于大型数据库的优势是什么？](https://stackoverflow.com/questions/12743974/what-is-the-advantage-of-using-jquery-datatables-for-large-databases/12744212#12744212)

# c# - 如何在asp mvc中清除指定控制器中的缓存？

> ID：12776466
> 
> 赞同：7
> 
> 时间：2012-10-08T06:35:41.340
> 
> 标签：c#, asp.net, .net, asp.net-mvc, caching

> **可能重复：**
> [如何以编程方式清除控制器操作方法的输出缓存](https://stackoverflow.com/questions/1167890/how-to-programmatically-clear-outputcache-for-controller-action-method)

如何清除指定控制器中的缓存？

我尝试使用几种方法：

```
Response.RemoveOutputCacheItem();
Response.Cache.SetExpires(DateTime.Now); 
```

没有任何效果，它不起作用。:( 可能存在任何方法来获取控制器缓存中的所有键并显式删除它们？我应该在哪个重写方法中执行清除缓存？以及如何做到这一点？

有什么想法吗？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-10-08T08:09:23.323

你有没有尝试过

```
[OutputCache(NoStore = true, Duration = 0, VaryByParam = "*")]
public ActionResult DontCacheMeIfYouCan()
{

} 
```

如果这不适合你，那么像 Mark Yu 这样的自定义属性建议。

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2012-10-08T06:45:42.030

试试这个：

把它放在你的模型上：

```
public class NoCache : ActionFilterAttribute
{
    public override void OnResultExecuting(ResultExecutingContext filterContext)
    {
        filterContext.HttpContext.Response.Cache.SetExpires(DateTime.UtcNow.AddDays(-1));
        filterContext.HttpContext.Response.Cache.SetValidUntilExpires(false);
        filterContext.HttpContext.Response.Cache.SetRevalidation(HttpCacheRevalidation.AllCaches);
        filterContext.HttpContext.Response.Cache.SetCacheability(HttpCacheability.NoCache);
        filterContext.HttpContext.Response.Cache.SetNoStore();

        base.OnResultExecuting(filterContext);
    }
} 
```

并在您的特定控制器上：例如：

```
[NoCache]
[Authorize]
public ActionResult Home()
 {
     ////////...
} 
```

来源：[原始代码](https://stackoverflow.com/questions/1160105/asp-net-mvc-disable-browser-cache?rq=1)

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-10-08T09:12:23.630

试试这个 ：

```
public void ClearApplicationCache()
{
    List<string> keys = new List<string>();

    // retrieve application Cache enumerator
    IDictionaryEnumerator enumerator = Cache.GetEnumerator(); 

    // copy all keys that currently exist in Cache
    while (enumerator.MoveNext())
    {
        keys.Add(enumerator.Key.ToString());
    }

    // delete every key from cache
    for (int i = 0; i < keys.Count; i++)
    {
        Cache.Remove(keys[i]);
    }
} 
```

# php - PHP序列化和反序列化数组不起作用？

> ID：12776477
> 
> 赞同：3
> 
> 时间：2012-10-08T06:36:26.187
> 
> 标签：php, mysql

我使用 php`serialize()`来序列化一个数组。然后我把它放在数据库中（列类型文本）。我的数组包含其他语言字符，如中文或日文字符。

它能够正确序列化并将其存储在数据库中，但是，当我从数据库中获取序列化数组并将其反序列化以便我可以使用该数组时，它将不起作用，反序列化数组将是空白的。

这是我的代码，保存脚本：

```
$all = array (
    "points" => '123',
    "photo" => '写真',
    "video" => 'video'
);

$sall = serialize($all);

mysql_query("UPDATE users SET lang = '$sall' WHERE uname='$uname'")
    or die(mysql_error()); 
```

检索脚本：

```
$result = mysql_query("SELECT * FROM users WHERE uname='$uname'")
    or die(mysql_error());

$row = mysql_fetch_array($result);

if($row) {
    $lang = $row['lang'];
    $orilang = unserialize($lang);
    // orilang contains the array
    echo $orilang['photo'];
}
else {

} 
```

`$orilang['photo']`出来是空的，但 `$lang`有序列化的数据。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-08T06:38:45.267

由于`serialize()`不是二进制安全的，我建议您用来`json`对数据进行编码：

```
$all = array (
    "points" => '123',
    "photo" => '写真',
    "video" => 'video'
);
$sall = json_encode($all);
// {"points":"123","photo":"\u5199\u771f","video":"video"}

$decode = json_decode($sall, true);

/*array(3) {
  ["points"]=>
  string(3) "123"
  ["photo"]=>
  string(6) "写真"
  ["video"]=>
  string(5) "video"
}*/ 
```

附带说明一下，如果您开始构建一些东西，我建议您迁移到 MySQLi 或 PDO，`mysql_*`函数已被弃用。[这](http://wiki.hashphp.org/PDO_Tutorial_for_MySQL_Developers)是一个很好的教程，可以帮助您开始使用 PDO。

要获得结果：

```
$result = mysql_query("SELECT * FROM users WHERE uname='$uname'")
    or die(mysql_error());

$row = mysql_fetch_assoc($result);

if($row) {
    $lang = $row['lang'];
    $orilang = json_decode($lang, true);
    // orilang contains the array
    echo $orilang['photo'];

    // or
    // $orilang = json_decode($lang);
    // echo $orilang->photo;

} else {

} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-08T06:39:58.027

你可以试试json

```
$all = array (
    "points" => '123',
    "photo" => '写真',
    "video" => 'video'
  );

  $sall = json_encode($all);

    mysql_query("UPDATE users SET lang = '$sall' WHERE uname='$uname'")
    or die(mysql_error()); 

$result = mysql_query("SELECT * FROM users WHERE uname='$uname'")
   or die(mysql_error()); 
   $row = mysql_fetch_array($result);
   if($row)
   {
     $lang = $row['lang'];
     $orilang = json_decode($lang,true);//for getting assoc array add second param  as true
     //orilang contains the array
     echo $orilang['photo'];
   }
   else{
   } 
```

参考[http://php.net/manual/en/function.json-decode.php](http://php.net/manual/en/function.json-decode.php)

# javascript - 用来自另一个对象的所有元素填充 JavaScript 对象

> ID：12776479
> 
> 赞同：0
> 
> 时间：2012-10-08T06:36:33.083
> 
> 标签：javascript, jquery

我的目标是有一个像下面这样的对象：

```
var attrs = {
    price       : [0, 500000],
    housesize   : [0, 40],
    lotwidth    : [0, 30],
    storeys     : 'both',
    bedroom     : 0,
    bathroom    : 0
}; 
```

但我不想对此进行硬编码，而是想从另一个对象的元素中自动生成。该对象如下所示：

```
var Defaults = {
      steps             : [10,3,3],                                 // steps for the slider to jump 
      filters           : {
        rangeFilter     : ['price',  'housesize', 'lotwidth'],      // list of slider inputs 
        radioFilter     : ['storeys'],                              // list of radio inputs 
        increamentFilter: ['bedroom', 'bathroom'],
      }
}; 
```

所以我正在尝试构建一个对象，其键将是对象的所有值`filters`。我想这样做的原因是，如果我给`filters`对象添加一些值，我就不需要在`attrs`对象中创建一个键。对象中键的数量与`attrs`对象中的元素完全相同`filters`。

任何帮助，将不胜感激。干杯。

===========================================

# ****** *** ** *** ****编辑***** ** *** ** *** *****

 **这就是我此刻想出的

```
var attrs = {};
for (var key in Defaults.filters) {
   var obj = Defaults.filters[key];
   for (var prop in obj) {
      attrs[obj[prop]] = 0; 
   }
} 
```

但目前我正在向新元素的所有键添加 0。我需要想出一种方法来动态添加特定的值。可能是范围过滤器内的另一个对象？？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-08T06:44:02.460

我总是用这个剪断来完成这样的任务：

```
function deepCopy(obj) {
if (Object.prototype.toString.call(obj) === '[object Array]') {
    var out = [], i = 0, len = obj.length;
    for ( ; i < len; i++ ) {
        out[i] = arguments.callee(obj[i]);
    }
    return out;
}
if (typeof obj === 'object') {
    var out = {}, i;
    for ( i in obj ) {
        out[i] = arguments.callee(obj[i]);
    }
    return out;
}
return obj;
} 
```

来自：[http ://snipplr.com/view/15407/](http://snipplr.com/view/15407/)**

# php - 如何使用 php 在 mongo db 中获取具有限制的内部数组？

> ID：12776482
> 
> 赞同：1
> 
> 时间：2012-10-08T06:36:51.287
> 
> 标签：php, mongodb, mongodb-php

在 php 中使用 with`limit`和in获取 mongo 文档的内部数组。`skip`

```
$db->users->findOne(array('_id' => new MongoId('5045fa0213cfcdfc06000008'))); 
```

上面的查询会给我下面的 mongo 数组

```
[_id] => MongoId Object (
    [$id] => 5045fa0213cfcdfc06000008
)
[items] => Array (
    [0] => 13
    [1] => 4
    [2] => 3
    [3] => 7
    [4] => 10
    [5] => 11
    [6] => 28
    [7] => 54
    [8] => 31
    [9] => 33
    [10] => 37
    [11] => 12
) 
```

是否可以与上面的mongo doc一起使用`limit`，`skip`如下所示

```
$db->users->
  findOne(array('_id' => new MongoId('5045fa0213cfcdfc06000008')))->
    limit(5)->skip(5); 
```

这将输出为

```
[_id] => MongoId Object (
    [$id] => 5045fa0213cfcdfc06000008
)
[items] => Array (
    [5] => 11
    [6] => 28
    [7] => 54
    [8] => 31
    [9] => 33
) 
```

以及如何`items`使用 mongo 计算数组的总数？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-08T07:10:17.340

`limit()`and`skip()`方法仅适用于文档级别，不适用于数组级别。

您可以使用[`$slice`运算符](http://www.mongodb.org/display/DOCS/Retrieving+a+Subset+of+Fields#RetrievingaSubsetofFields-RetrievingaSubrangeofArrayElements)来获取数组的子集：

```
$skip = 5;
$limit = 5;

$filter = array('_id' => new MongoId('5045fa0213cfcdfc06000008'));
$slice = array('items' => array( '$slice' => array( $skip, $limit ) ));

$db->users->findOne($filter, $slice); 
```

目前（在 MongoDB 2.2.0 中）没有直接的方法来确定数组的大小而不获取它。[您可以使用新的聚合框架](http://docs.mongodb.org/manual/applications/aggregation/)进行一些操作，但这可能是矫枉过正。

一种常见的使用模式是[`$inc`](http://www.mongodb.org/display/DOCS/Updating#Updating-%24inc)在从数组中添加或删除项目时，在同一更新中调整文档中的计数器。

> 以及如何使用 mongo 获取项目数组的总数？

`mongo`下面是一个在shell中使用聚合框架的简单示例：

```
db.users.aggregate(
    { $unwind: '$items' },
    { $group: {
        '_id': '$_id',
        itemcount: { $sum: 1 }
    }}
) 
```

# c++ - set::insert 的复杂度

> ID：12776485
> 
> 赞同：24
> 
> 时间：2012-10-08T06:37:05.490
> 
> 标签：c++, stl, set, time-complexity

我已经读过集合中的插入操作只需要 log(n) 时间。这怎么可能？

要插入，首先我们在排序数组中找到新元素必须位于的位置。使用二分查找需要 log(n)。然后要插入到那个位置，它后面的所有元素都应该向右移动一个位置。又需要n次。

我的怀疑是基于我的理解，即 set 是作为数组实现的，并且元素是按排序顺序存储的。如果我的理解有误，请纠正我。

* * *

## 回答 #1

> 赞同：47
> 
> 时间：2012-10-08T06:39:09.243

`std::set`通常实现为红黑二叉搜索树。由于树保持平衡，因此在此数据结构上的插入具有 O(log(n)) 复杂度的最坏情况。

# c# - WinForms 嵌入 ASP.Net

> ID：12776491
> 
> 赞同：2
> 
> 时间：2012-10-08T06:37:40.353
> 
> 标签：c#, asp.net, winforms

我已经建立了一个**asp.net 网站**和一个**C# 桌面应用程序**。我的客户要求我**将 C# 应用程序嵌入**到网站中。我知道，这只有在`windows control library.`

我试了一下！但是，这也没有奏效。在 IE 浏览器上也没有用。

谁能帮我解决这个问题？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-08T08:46:11.527

1 您可以`register such as ActiveX control`在.Net 中，并从Web 应用程序调用此组件。

链接（RegSrv32）：http: [//msdn.microsoft.com/en-us/library/ms859484.aspx](http://msdn.microsoft.com/en-us/library/ms859484.aspx)

2 您可以转换为 Sylverlight 应用程序

3 您也可以只调用 Process，以访问功能

# javascript - 从带有参数的javascript调用控制器Actinresult类型动作

> ID：12776495
> 
> 赞同：0
> 
> 时间：2012-10-08T06:38:06.857
> 
> 标签：javascript, ajax, asp.net-mvc-3

我尝试以下方式：

我的行动是：

```
[HttpPost]
        public ActionResult PaymentVoucherCommit(string sParameter)
        {
            try
            {
                _oVoucher = new Voucher();
                _oVoucher = _oVoucher.CommitVoucherNo(2, 1); // Here 2 refere VoucherTypeID that is PaymentVoucher & 1 refere jam company ID
                _oVoucher.BaseCurrencyId = 1; //jas......this code is temporary 
                _oVoucher.CompanyID = 1;//jas......this code is temporary 
                _oVoucher.VoucherTypeID = 2;//jam for temporary basis code 2 is paymenttypeid that is payment voucher
                _oVoucher.CurrencyId = 1;
                _oVoucher.BaseCurrencyNameSymbol = "Taka[Tk]"; //jas......this code is temporary
                _oVoucher.VoucherDetailLst = VoucherDetail.Gets(_oVoucher.VoucherID);
                _oVoucher.LstCurrency = Currency.Gets();
                _oVoucher.Operation = "AddPaymnetVoucher";
                _oVoucher.DebitAccountHeadName = "Press Enter";
                _oVoucher.CreditAccountHeadName = "Press Enter";
                return View(_oVoucher);
            }
            catch (Exception ex)
            {
                return View(ex.Message);
            }
        } 
```

我的javascript代码是：

```
$('#btnCommit').keypress(function (e) {
        debugger;
        var keyCode = e.keyCode || e.which;
        if (keyCode == 13) {
            $.ajax({
                type: "POST",
                dataType: "text json",
                url: '@Url.Action("PaymentVoucherCommit", "Voucher")',
                data: { sParameter: "Bangladesh" },
                contentType: "application/json; charset=utf-8",
                success: function (data) {
                    //                        debugger;
                    alert(data);
                },
                error: function (xhr, status, error) {
                    alert(error);
                }
            });
            return false;
        }
    }) 
```

请修复此错误。

注意：对于 [httpGet] 请求，我成功完成了相同类型的任务。但是 ia triad for post type action(Action Result)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-08T07:47:49.357

尝试简单：

```
$('#btnCommit').keypress(function (e) {
    debugger;
    var keyCode = e.keyCode || e.which;
    if (keyCode == 13) {
        $.post('@Html.Raw(Url.Action("PaymentVoucherCommit", "Voucher"))', { sParameter: "Bangladesh" }, function(view){
             alert(view);
        });
        return false;
    }
}) 
```

如果要返回 Json，则：

```
[HttpPost]
    public JsonResult PaymentVoucherCommit(string sParameter)
    {
        try
        {
            _oVoucher = new Voucher();
            _oVoucher = _oVoucher.CommitVoucherNo(2, 1); // Here 2 refere VoucherTypeID that is PaymentVoucher & 1 refere jam company ID
            _oVoucher.BaseCurrencyId = 1; //jas......this code is temporary 
            _oVoucher.CompanyID = 1;//jas......this code is temporary 
            _oVoucher.VoucherTypeID = 2;//jam for temporary basis code 2 is paymenttypeid that is payment voucher
            _oVoucher.CurrencyId = 1;
            _oVoucher.BaseCurrencyNameSymbol = "Taka[Tk]"; //jas......this code is temporary
            _oVoucher.VoucherDetailLst = VoucherDetail.Gets(_oVoucher.VoucherID);
            _oVoucher.LstCurrency = Currency.Gets();
            _oVoucher.Operation = "AddPaymnetVoucher";
            _oVoucher.DebitAccountHeadName = "Press Enter";
            _oVoucher.CreditAccountHeadName = "Press Enter";
            return Json(_oVoucher);
        }
        catch (Exception ex)
        {
            return Json(ex.Message);
        }
    } 
```

# java - jvm如何使用多核cpu资源？

> ID：12776497
> 
> 赞同：5
> 
> 时间：2012-10-08T06:38:18.073
> 
> 标签：java, multithreading, multicore

通常一个java程序运行一个名为“javaw”的进程。当我运行一个进程时，我只能获得一个核心（多核）的最大资源。但是当我在 jvm 中运行一个多线程程序时，它使用的内核数取决于一个进程可以执行的线程数。那么谁能给我一些关于jvm如何处理多核cpu机器中的多线程程序的信息？

```
/**
* I run this program in my machine which has 8 core cpu
* and the jre is 1.6.0_24
* How does jvm use one process to use all the cpu resources?        
*/

public class MultiCoreUseTest implements Runnable{
@Override
public void run() {

    int i;
    while(true)
         i =1;
}

public static void main(String[] args) {

    //create 8 threads
            //8 threads the usage of cpu is 100%
            // if 4 threads the usage of cpu is 50%
    for(int i = 0; i<8; i++){
        new Thread(new MultiCoreUseTest()).start();     
    }
}

} 
```

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-10-08T06:41:44.920

一个进程的线程可以分布在不同的 CPU 和 CPU 内核上，就像单个进程一样。仅仅因为一个应用程序有一个进程并不意味着它的许多线程都绑定到一个 CPU/内核。

# android - 获取 Youtube 的访问令牌

> ID：12776502
> 
> 赞同：1
> 
> 时间：2012-10-08T06:39:03.860
> 
> 标签：android

我已在此 API 文档的帮助下生成了客户端 ID、客户端密码、重定向 URL 和代码。

[https://developers.google.com/youtube/2.0/developers_guide_protocol_oauth2#OAuth2_Installed_Applications_Flow](https://developers.google.com/youtube/2.0/developers_guide_protocol_oauth2#OAuth2_Installed_Applications_Flow)

我正在做与上述文档相同的操作，但出现以下错误。

> 错误：invalid_request
> 
> 缺少必需的参数：response_type

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-11-20T14:55:20.460

目前对于版本 3，实现非常简单。查看[Google Task](https://code.google.com/p/google-api-java-client/source/browse/tasks-android-sample/src/main/java/com/google/api/services/samples/tasks/android/TasksSample.java?repo=samples)示例。

# ios - Facebook 权限 Facebook SDK for iOS 5

> ID：12776503
> 
> 赞同：0
> 
> 时间：2012-10-08T06:39:04.813
> 
> 标签：ios, xcode, facebook

我正在开发一个 facebook 应用程序，并且想知道如何设置权限数组。

在 Facebook SDK 版本中，我需要做的就是从 Facebook.h 创建一个实例并设置权限。但是现在 facebook.h 文件已经不存在了，并且停止了 SDK3.0 和 3.1 的工作。

Facebook 说要导入折旧的文件，但如果我这样做，我会遇到很多错误，所以这根本不起作用。

我找不到任何关于在 iOS 5 及更高版本上设置权限属性的文件，有人可以帮我吗？

谢谢！！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-08T06:54:48.260

```
[FBSession openActiveSessionWithPublishPermissions:[[NSArray alloc] initWithObjects:@"publish_stream",@"email", nil]
                                   defaultAudience:FBSessionDefaultAudienceFriends
                                      allowLoginUI:YES
                                 completionHandler:^(FBSession *session,
   FBSessionState state, NSError *error) {
     [self sessionStateChanged:session state:state error:error];
 }]; 
```

[您可以在http://developers.facebook.com/docs/getting-started/facebook-sdk-for-ios/3.1/](http://developers.facebook.com/docs/getting-started/facebook-sdk-for-ios/3.1/)中找到简短的教程和简单的代码示例

# java - 为什么我的 JBoss 包装应用程序 JVM 重新启动？

> ID：12776507
> 
> 赞同：2
> 
> 时间：2012-10-08T06:39:33.643
> 
> 标签：java, jboss, jvm

我的操作系统版本是 Windows 7 64 位，JDK 是 32 位版本。我成功地启动了我的 JBoss Wrapper 应用程序，但是在它运行了一段时间之后，JVM 失败并重新启动。

JVM 转储日志中的消息是：

```
#
# There is insufficient memory for the Java Runtime Environment to continue.
# Native memory allocation (malloc) failed to allocate 543672 bytes for Chunk::new
# Possible reasons:
#   The system is out of physical RAM or swap space
#   In 32 bit mode, the process size limit was hit
# Possible solutions:
#   Reduce memory load on the system
#   Increase physical memory or swap space
#   Check if swap backing store is full
#   Use 64 bit Java on a 64 bit OS
#   Decrease Java heap size (-Xmx/-Xms)
#   Decrease number of Java threads
#   Decrease Java thread stack sizes (-Xss)
#   Set larger code cache with -XX:ReservedCodeCacheSize=
# This output file may be truncated or incomplete.
#
#  Out of Memory Error (allocation.cpp:328), pid=5480, tid=4740
#
# JRE version: 7.0_05-b05
# Java VM: Java HotSpot(TM) Server VM (23.1-b03 mixed mode windows-x86 )
# Failed to write core dump. Minidumps are not enabled by default on client versions of Windows
# 
```

我在我的计算机上部署了 3 个包装应用程序。它们中的每一个都设置为 700Mb 的最大 JVM 堆大小。

请帮我回顾一下这个问题。谢谢。我的问题是：

1.  我如何知道当前 JVM 分配的大小？
2.  这个问题的原因是什么？
3.  如何解决？有人推荐我使用 64 位 JDK。有必要吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-08T07:02:21.613

如果使用`32-bit JDK`，我们可以设置的最大堆大小，并且仍然具有`JVM start up is about 1.2 GB.For larger heaps, we need to run a 64-bit JDK. To run 64-bit JDK, you’d also need a`64 位`operating system running on a server that has a`64 位` CPU。

1.  下载了`JDK 64 bit version`

2.  将 JAVA_OPTS 设置为

    ```
     JAVA_OPTS=-Xms1024m -Xmx1024m -XX:MaxPermSize=256m 
    ```

并参考此[链接](http://bugs.sun.com/bugdatabase/view_bug.do;jsessionid=4684c0510e2babffffffffb3f076c6e0ddca0?bug_id=7013538)。

这也是一篇关于[记忆](http://www.ibm.com/developerworks/java/library/j-nativememory-linux/)的好文章。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-08T06:54:35.827

32 位 JVM 被限制为最大 2GB 堆 ( `-Xmx`)。在某些操作系统中，远少于此。

64 位 JVM 将没有此限制。

在 Windows 中，您可以使用 **Task Manager->Processes 跟踪 JVM 的内存消耗。**

# javascript - 谷歌地图：在信息窗口中显示地址

> ID：12776511
> 
> 赞同：1
> 
> 时间：2012-10-08T06:39:53.267
> 
> 标签：javascript, google-maps-api-3, infowindow

我正在尝试实现带有显示地址的 infowindows .. 下面是我的代码

```
 $('#citiesdata').empty(); 

    var listFavourite = [];

    $(responce).find("favorite").each(function() {
      var name = $(this).find("name").text();
      var address = $(this).find("address").text(); 
      var phoneNo = $(this).find("phoneNo").text();
      var lattitude = $(this).find("lattitude").text();
      var longitude = $(this).find("longitude").text();

      var favouriteObject = new Object();
          favouriteObject.name = name;
              favouriteObject.address = address;
              favouriteObject.lattitude = lattitude;
              favouriteObject.longitude = longitude;
          listFavourite.push(favouriteObject);

      $('#citiesdata').append('<tr><td><b>'+name+'</b></td></tr>');
      $('#citiesdata').append('<tr><td>'+address+'</td></tr>');
      $('#citiesdata').append('<tr><td>'+phoneNo+'</td></tr>');

    });
    //call map service to load map with marker
    //method name(listFavourite);
  var content =   "<div id='tabs'>"+
                                "<form id='button'>"+
                                "<div>"+
                                "<input type='button' value='click me' onclick='alert(\"infoWindow\")'>"+
                                "</div>"+
                                "</form>"+
                            "</div>";

         var map = new google.maps.Map(document.getElementById("map_canvas"), {
               mapTypeId: google.maps.MapTypeId.ROADMAP,
               streetViewControl: false
        });
         var infowindow = new google.maps.InfoWindow({
         //content: content
        });

       for (var n = 0 ; n <listFavourite.length ; n++)
           addMarker(listFavourite[n]);
       }

       function addMarker(data) {
           var marker = new google.maps.Marker({
               position: new google.maps.LatLng(data.lattitude, data.longitude),
               map: map,
               title: data.address
           });
           google.maps.event.addListener(marker, "click", function() {
               infowindow.setContent(data.address);
               infowindow.open(map, marker);
           });

       }; 
```

在这里，我从数组列表中获取数据（地址）..我想在 infowindows 中显示该地址..谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-08T08:59:20.657

您需要在单独的函数中创建标记：

```
for (var n = 0 ; n <listFavourite.length ; n++)
    addMarker(listFavourite[n]);
}

function addMarker(data) {
    var marker = new google.maps.Marker({
        position: new google.maps.LatLng(data.lattitude, data.longitude),
        map: map,
        title: data.address
    });
    google.maps.event.addListener(marker, "click", function() {
        infowindow.setContent(data.address);
        infowindow.open(map, marker);
    });

}; 
```

# java - 死锁情况

> ID：12776512
> 
> 赞同：3
> 
> 时间：2012-10-08T06:39:56.077
> 
> 标签：java

我在理解这个程序中死锁情况的概念时遇到了一些麻烦。我得到的输出为： Entered amethod Entered bmethod 然后出现死锁情况。现在由于我的方法是一个同步方法，它不应该首先完全执行，即通过调用 bsum 方法然后启动新线程。? 请解释...

```
public class Deadlock 
{
    public static void main(String[] args) 
    {

        A a= new A();
        B b= new B();
        new MainClass1(a,b);
        new MainClass2(a,b);
    }

}
class MainClass1 extends Thread
{
    A a;
    B b;
    MainClass1(A a,B b)
    {
        super();
        this.a=a;
        this.b=b;
        start();
    }
    public void run()
    {
        a.amethod(b);
    }
}
class MainClass2 extends Thread
{
    A a;
    B b;
    MainClass2(A a,B b)
    {
        super();
        this.a=a;
        this.b=b;
        start();
    }
    public void run()
    {
        b.bmethod(a);
    }

}
class A
{
    public synchronized void amethod(B b)
    {
        System.out.println("Entered amethod");
        try{
            Thread.sleep(500);
        }catch(Exception e){}
        b.bsum(2,3);
    }
    public synchronized void asum(int a,int b)
    {
        System.out.println("Sum in A is");
        System.out.println(a+b);
    }
}
class B
{
    public synchronized void bmethod(A a)
    {
        System.out.println("Entered bmethod");
        try{
            Thread.sleep(500);
        }catch(Exception e){}
        a.asum(3, 5);
    }
    public synchronized void bsum(int a, int b)
    {
        System.out.println("Sum in B is");
        System.out.println(a+b);
    }
} 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-08T06:45:59.137

您似乎在另一个对象的方法中使用了对象**a**和**b 。**当被调用的方法被同步时，没有人可以使用它使用的资源，因此两种方法都需要锁定 => 死锁的东西。您应该与两种方法的公共对象同步，最好是两者之外的一个。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-08T06:53:43.187

实际上你已经启动了两个线程......让我们调用线程 1 和 2

所以当线程 1 获得对象 A 的锁并调用方法 amethod，同时线程 2 获得对象 B 的锁并调用 bmethod 时会发生什么。现在 A 想调用 b 的 sum 方法，因为 B 已经锁定了对象 B通过调用 sum 方法完成。

只需从 sum 方法中删除 synchronized 关键字，它就会起作用（我的意思是不会进入死锁状态）

# java - 如何使用安卓内部存储？

> ID：12776515
> 
> 赞同：1
> 
> 时间：2012-10-08T06:40:11.787
> 
> 标签：java, android, xml

我是java初学者，我正在构建一个android应用程序。

我想要一个包含文本的 xml 文件。每当服务器发送更新时，我都想更改该文件中的某些行（我的意思是更新是通过删除已经写入的文本的某些部分并替换为更新来更改该文件中的某些行）

我对创建、写入或读取文件一无所知。当我搜索时，我发现内部存储最适合我。

但我不知道我是否必须在任何目录中手动创建一个 xml 文件，或者只使用下面的代码自动创建这个文件？

```
 // If this is the first time run,execute one time code
    // create XML Internal store 

    String FILENAME = "My_XML_file";
    try{
        FileOutputStream fos = openFileOutput(FILENAME, Context.MODE_APPEND);
    } catch (final IOException e) {
        e.printStackTrace();
    } 
```

先感谢您！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-08T18:47:04.117

The code you have will create a file in internal storage but you need a bit more to create and maintain an XML file easily. I suggest you use the Build in Android DOM Parser [(Android developers site docs on XML Parse options)](http://developer.android.com/reference/javax/xml/parsers/package-summary.html)

I found this [example](http://www.mkyong.com/java/how-to-create-xml-file-in-java-dom/) which explains how to use the dom parser to build a specific (new) XML file from code. In your context where the output stream in created:

```
StreamResult result = new StreamResult(new File("C:\\file.xml")); 
```

you might want to use the other constructor based on the output stream you created above

```
StreamResult result = new StreamResult(fos); 
```

In a similar fashion this DOM library allows you to read from an input stream (which you might get from android openFileInput) using DocumentBuilder.parse()

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-08T06:47:23.830

**-**首先`External Storage permission`在 Manifest.xml 文件中给出。

**-**您可以使用`JAXP & JAXB`, 甚至`CASTOR`以更好的方式处理 XML，但仍然`DOM`内置`SAX`于 Android 中。

*   你可以使用这样的东西

    `String s = "/sdcard/Myfolder/mytext.txt";`

    `File f = new File(s);`

# jakarta-ee - java - 如何将对象从java类传递给servlet？

> ID：12776516
> 
> 赞同：2
> 
> 时间：2012-10-08T06:40:15.770
> 
> 标签：jakarta-ee, servlets, httpclient, apache-httpcomponents

我正在使用 Apache 的 HttpClient 从 Java 类调用 servlet。我想将一个对象发送到应该使用序列化保存对象的 servlet。如何将对象发送到 servlet？

```
public static void main(String[] args) {

        Names names = new Names();
        names.setName("ABC");
        names.setPlace("Bangalore");
        HttpClient httpclient = new DefaultHttpClient();
        HttpGet httpget = new HttpGet("http://localhost:9080/HttpClientPractice/FirstServlet");
//Rest of the code 
```

在上面的代码片段中，我有另一个类 Names，我想向 servlet 发送一个 Names 对象。现在我只用 URI 调用 servlet，但我想传递对象。

谢谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-08T06:48:20.450

[在您显示的类中使用像Gson](http://code.google.com/p/google-gson/)这样的库将对象转换为 Json 字符串，并将此字符串添加为查询参数 - 向您展示如何使用 Gson 执行此操作。

```
Gson gson = new Gson();
String json = gson.toJson(names);
HttpGet httpget = new HttpGet("http://localhost:9080/HttpClientPractice/FirstServlet?obj="+json); 
```

在要存储此对象的类中，执行 fromJson（Gson 库中的方法）

```
Gson gson = new Gson();
Names names = fromJson(json, Names.class); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-08T06:53:12.927

将对象发送到 URL 的最佳方式是将其作为 XML 或 JSON 发送，而不是序列化对象并发送它。

如果您的方法保持不变，则发送对象的一种方法是将 url 中的对象值附加为查询字符串，例如：
`http://localhost:9080/HttpClientPractice/FirstServlet?name=ABC&place=Banglore`
另一种方法是将请求方法更改为 POST 并将对象作为 XML 或 JSON 内容发送。

# ruby-on-rails-3 - 如何创建安全控制器

> ID：12776517
> 
> 赞同：0
> 
> 时间：2012-10-08T06:40:16.067
> 
> 标签：ruby-on-rails-3, ssl

我是新来的铁路。我想创建安全控制。

这是我所做的：
我创建了一个安全并将 routes.rb 更改为

```
scope :constraints => {:protocol => 'https'} do
  get "secure/index"
end 
```

但是，我有这个错误

> [2012-10-08 12:07:07] 错误 URI `\x12p\x00\x00H\x00��'. [2012-10-08 12:07:07] ERROR bad URI`pqn���|�լ%[�y���\x00\x00H\x00��'。

当我要求`https://localhost:3000/secure`

谢谢。。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-08T08:29:16.797

我认为您对安全 http 通信有误解！

http 和 https 是两个不同的东西。这就是为什么他们通常在两个不同的端口上工作！http 是 80，https 通常是 443。

https 需要一个签名证书，通常由您的网络服务器（apache、nginx 等）处理。也可以在 rails 中处理 https 的东西，并且有一些不错的 gem 可以处理配置 ssl 强制。

看看这篇文章开始：[http ://www.simonecarletti.com/blog/2011/05/configuring-rails-3-https-ssl/](http://www.simonecarletti.com/blog/2011/05/configuring-rails-3-https-ssl/)

# android - 在android中访问javascript sqlite

> ID：12776522
> 
> 赞同：0
> 
> 时间：2012-10-08T06:40:37.170
> 
> 标签：android, cordova

我是 android phonegap 应用程序的新手。我在android中尝试了一个phonegap应用程序，在这里我创建了一个数据库和表并使用javascript插入值，它工作正常，现在我想在android native中检索数据库值。这是我的代码

```
my javascript code:

function loaddb()
{
var db = openDatabase(‘testdb’, ’1.0′, ‘my database’, 2 * 1024 * 1024);

db.transaction(function (tx)
{
tx.executeSql(‘CREATE TABLE IF NOT EXISTS person (_id INTEGER, person_name TEXT, address TEXT)’);

tx.executeSql(‘INSERT INTO person (_id, person_name, address) VALUES(1, “Hardik Trivedi”, “Ahmedabad,Gujarat,India”)’);
tx.executeSql(‘INSERT INTO person (_id, person_name, address) VALUES(2, “Sonam Kapoor”, “Mumbai,Maharashtra,India”)’);
tx.executeSql(‘INSERT INTO person (_id, person_name, address) VALUES(3, “Rajnikanth”, “There is no specific address of him :) “)’);

});
}

my html code:

<html>
<head>
<script src=”db.js”&gt;</script>
<script src=”jquery.js”&gt;</script>

</head>
<body>
<div>
<script language=”javascript”&gt;
$(document).ready(function() {
alert(“Hello”);
loaddb();
});
</script>
</div>
<h4>Hello Friends !!!!!!</h4>
</body >

</html> 
```

有没有可能在 android 中检索这个 javascript 数据库？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-08T07:32:43.043

```
<!DOCTYPE HTML>
 <html>
<head>
<script type="text/javascript">
var db = openDatabase('mydb', '1.0', 'Test DB', 2 * 1024 * 1024);
 var msg;
 db.transaction(function (tx) {
 tx.executeSql('CREATE TABLE IF NOT EXISTS LOGS (id unique, log)');
 tx.executeSql('INSERT INTO LOGS (id, log) VALUES (1, "foobar")');
  tx.executeSql('INSERT INTO LOGS (id, log) VALUES (2, "logmsg")');
 msg = '<p>Log message created and row inserted.</p>';
 document.querySelector('#status').innerHTML =  msg;
});

db.transaction(function (tx) {
tx.executeSql('SELECT * FROM LOGS', [], function (tx, results) {
var len = results.rows.length, i;
msg = "<p>Found rows: " + len + "</p>";
document.querySelector('#status').innerHTML +=  msg;
for (i = 0; i < len; i++){
 msg = "<p><b>" + results.rows.item(i).log + "</b></p>";
 document.querySelector('#status').innerHTML +=  msg;
  }
   }, null);
 });
   </script>
</head>
 <body>
  <div id="status" name="status">Status Message</div>
 </body>
</html> 
```

# c# - Windows Azure 数据库实体框架 DbContext 和 MergeOptions

> ID：12776526
> 
> 赞同：0
> 
> 时间：2012-10-08T06:40:48.640
> 
> 标签：c#, asp.net, razor, azure

我有一个托管`Unity3D`应用程序的 Web 角色。在应用程序中，我有一个连接屏幕。像任何其他连接屏幕一样，您可以填写您的登录名和密码以访问应用程序的核心（例如游戏）。

所有这些信息都存储在一个中`Windows Azure Database`，我可以使用管理面板创建用户。此面板托管在另一个 Web 角色中，并且可以访问数据库。

如果我创建一个新用户，我可以在我的应用程序中连接这些信息。没有问题。但是现在，如果我想使用管理面板更改用户密码，则数据库中的值已更改，但在我的应用程序中，我无法使用新密码连接，总是使用旧密码。

用户创建和密码更改使用`Razor Entity Framework`.

我不明白，因为在我`Unity3D application`的请求中，我向 web 角色和用户控制器发出了请求，并且该角色返回旧密码而不是新密码。但是在我的数据库和我的管理面板中有一个新的......这怎么可能？我该如何解决这个问题？

是响应缓存问题吗？

我如何找到并返回用户：

```
DatabaseContext db = DatabaseContextProvider.WebDatabase;
string login = Request.Form["login"]; //The login typed by user
var users = from u in db.Users where u.Login == login select u;
User[] userArray = users.ToArray<User>(); 
```

然后我用一些像这样的 Header 填充对 Unity3D 的响应
`Response.AddHeader("data", userArray[0].data.ToString());`

如果您需要任何可以帮助您解决我的问题的信息，请问。

非常感谢你的帮助 ！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-08T14:30:07.353

发现问题，这是由实体框架引起的：
[实体框架和 DbContext - 对象跟踪](https://stackoverflow.com/questions/7099134/entity-framework-and-dbcontext-object-tracking)
[http://msmvps.com/blogs/kevinmcneish/archive/2010/02/16/setting-entity-framework-mergeoptions-what-works-什么-t.aspx](http://msmvps.com/blogs/kevinmcneish/archive/2010/02/16/setting-entity-framework-mergeoptions-what-works-what-doesn-t.aspx)

**前**

```
DatabaseContext db = DatabaseContextProvider.WebDatabase;
string login = Request.Form["login"];
var users = from u in db.Users where u.Login == login select u;
User[] userArray = users.ToArray<User>(); 
```

**现在**

```
DatabaseContext db = DatabaseContextProvider.WebDatabase;
string login = Request.Form["login"];
ObjectContext objectContext = ((IObjectContextAdapter)db).ObjectContext;
ObjectSet<User> set = objectContext.CreateObjectSet<User>();
set.MergeOption = MergeOption.OverwriteChanges;
var users = from u in set where u.Login == login select u;
User[] userArray = users.ToArray<User>(); 
```

@Sandrino Di Mattia：感谢您帮助我找到答案！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-08T12:12:34.100

如果您可以在数据库中看到新密码但控制器返回旧密码，请尝试通过创建以下 ActionFilter 并将其添加到返回密码的 Action 来禁用缓存（[如此处所述](https://stackoverflow.com/questions/1160105/asp-net-mvc-disable-browser-cache)）：

```
public class NoCacheAttribute : ActionFilterAttribute
{  
    public override void OnResultExecuting(ResultExecutingContext filterContext)
    {
        filterContext.HttpContext.Response.Cache.SetExpires(DateTime.UtcNow.AddDays(-1));
        filterContext.HttpContext.Response.Cache.SetValidUntilExpires(false);
        filterContext.HttpContext.Response.Cache.SetRevalidation(HttpCacheRevalidation.AllCaches);
        filterContext.HttpContext.Response.Cache.SetCacheability(HttpCacheability.NoCache);
        filterContext.HttpContext.Response.Cache.SetNoStore();

        base.OnResultExecuting(filterContext);
    }
} 
```

就在旁边，你为什么要返回密码？用户名/密码验证应该在服务器端进行，并且应该在身份验证成功后简单地返回 true/false 或令牌。从安全的角度来看，返回密码（即使经过哈希处理）并不是一个好主意。

# java - 长轮询冻结浏览器并阻止其他 ajax 请求

> ID：12776531
> 
> 赞同：8
> 
> 时间：2012-10-08T06:41:13.983
> 
> 标签：java, jquery, ajax, spring-mvc, long-polling

我正在尝试在我的[Spring-MVC Web 应用程序](http://static.springsource.org/spring/docs/2.0.x/reference/mvc.html)中实现长轮询，但它会在 4-5 次继续 AJAX 请求后冻结我的浏览器和其他请求。我不知道这里发生了什么是我的相关代码。

**控制器方法：（服务器端）：-**

```
@Asynchronous
    @RequestMapping("/notify")
    public @ResponseBody
    Events notifyEvent(HttpServletRequest request) {
        Events events = null;
        try {
            events = (Events) request.getSession(false).getServletContext().getAttribute("events");
            System.out.println("Request Came from" + ((com.hcdc.coedp.safe.domain.User) request.getSession(false).getAttribute(Constants.KEY_LOGGED_IN_USER)).getLoginId());
            if (!events.getTypeOfEvents().isEmpty()) {
                System.out.println("Removing older entries");
                events.getTypeOfEvents().clear();
            }
            while (!events.isHappend()) {
                //Waiting for event to happen.
            }
            events = Events.getInstance();
            events.setHappend(false);
            request.getSession(false).getServletContext().setAttribute("events", events);

        }catch (Exception e) {
            e.printStackTrace();
        }
        return events;
    } 
```

**长轮询脚本（客户端）：-**

```
$(document).ready(function() {
                    $.ajaxSetup({
                        async:true//set a global ajax requests as asynchronus
                    });
                     alert('Handler for .onload() called.');
                    waitForMsg();

                });
                function waitForMsg(){

                    xhr=  $.ajax({
                        type: "POST",
                        url: '<%=request.getContextPath()%>/notification/notify',

                        async: true, /* If set to non-async, browser shows page as "Loading.."*/
                        cache: false,
                        timeout:50000, /* Timeout in ms */
                        global:false,
                        success: function(data){ /* called when request to notifier completes */
                          /* Doing smthing with response **/
                            setTimeout(
                            waitForMsg, /* Request next message */
                            1000 /* ..after 1 seconds */
                        );
                        },
                        error: function(XMLHttpRequest, textStatus, errorThrown){
                            addmsg("error", textStatus + " (" + errorThrown + ")");
                            setTimeout(
                            waitForMsg, /* Try again after.. */
                            15000); /* milliseconds (15seconds) */
                        }
                    });
                }; 
```

**更新：**

```
function updateFeed(event, data) {
                var f=eval(data);
                alert(f.typeOfEvents.length);
            }

            function catchAll(event, data, type) {
                console.log(data);
                alert("error");
                console.log(type);
            }

            $.comet.connect('<%=request.getContextPath()%>/notification/notify');
            $(document).bind('feed.comet', updateFeed);
            $(document).bind('.comet', catchAll); 
```

两个警报框都不会弹出..:(

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-12-14T06:58:05.127

好像您遇到了会话文件锁定

对于 PHP

`session_write_close()`在不需要会话值时使用

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-10-13T12:42:35.167

您的浏览器代码中似乎有一个空的 while 循环。这是一种等待事件的 CPU 密集型方式。

如果没有事件发生，客户端将在您期望的 50 秒超时后终止请求。但我不确定服务器线程是否也被杀死，或者它是否永远“在”上（除非有事件）。下一个请求将启动第二个服务器线程，该线程也挂在 while 循环中。也许空的while循环的数量对服务器来说是一种过度杀伤，因此它停止接受更多的请求。所以在一些请求之后（每个请求都触发了一个无限的服务器线程），客户端永远等待一个新的请求......因为它不能被服务器处理。

ps：成功时您评论等待 1 秒，但将超时设置为 10000（10 秒）

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-10-12T09:26:54.337

我遇到了类似的问题，我的浏览器被 AJAX 请求卡住了。提示：而不是直接使用*waitForMsg()*，尝试*setTimeout("waitForMsg()",10)*。

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2012-10-12T19:14:39.970

仅供参考，这是一个可能对您有所帮助的项目：[https ://github.com/SeanOC/jquery.comet](https://github.com/SeanOC/jquery.comet)

一般来说，我会搜索可以支持 Web 套接字的 JavaScript comet API，如果在客户端/服务器上可用，并且可以优雅地回退到长轮询。API 应该处理所有血淋淋的细节，让您专注于应用程序。

这是关于该主题的旧 dojo 文章的链接：http: [//dojotoolkit.org/features/1.6/dojo-websocket](http://dojotoolkit.org/features/1.6/dojo-websocket)

祝你好运。

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2012-10-18T11:02:46.013

您可以尝试使用 jQuery deferred 重写行为：

```
function setShortTimeout() {
    setTimeout(waitForMsg, 1000);
}

function setLongTimeout() {
    setTimeout(waitForMsg, 15000);
}

$(document).ready(function() {
                $.ajaxSetup({
                    async:true//set a global ajax requests as asynchronus
                });
                alert('Handler for .onload() called.');
                $.when(waitForMsg())
                    .done(successHandler, setShortTimeout)
                    .fail(errorHandler, setLongTimeout);

            });

            function waitForMsg(){
                return $.ajax({
                    type: "POST",
                    url: '<%=request.getContextPath()%>/notification/notify',
                    async: true, /* If set to non-async, browser shows page as "Loading.."*/
                    cache: false,
                    timeout:50000, /* Timeout in ms */
                    global:false
                });
            }; 
```

`errorHandler`并且`successHandler`将是您的成功：和错误：回调，为了清楚起见，我省略了它们的 setTimeout 部分（因为它现在是 deferred.done() 和 .fail() 回调的一部分）。

让我知道它是否有效。

* * *

## 回答 #6

> 赞同：2
> 
> 时间：2012-10-18T22:04:02.883

我是一名 PHP 开发人员，但我遇到了你的问题，它可能是相同的行为。所以我给你我的 2 美分，希望它会帮助你。

确实让我怀疑有问题的行是：

```
events = (Events) request.getSession(false).getServletContext().getAttribute("events"); 
```

在 PHP 中，会话存储在文件中，如果我们在会话打开时对 php 脚本进行长轮询，我们会遇到[竞争条件](http://en.wikipedia.org/wiki/Race_condition)问题。

原理很简单：

1.  当请求打开会话时，文件将被锁定，直到会话关闭。
2.  如果其他请求到达服务器，它们将被锁定，直到会话从前一个请求中释放。

在长轮询的情况下，如果会话在获取信息后打开而不是关闭（至少在等待事件之前），所有请求都被锁定，如果你是在其他页面上使用会话。即使您打开一个新选项卡，因为对于一个浏览器只有一个会话，您也会被锁定。

* * *

## 回答 #7

> 赞同：1
> 
> 时间：2012-10-18T09:10:36.150

可能是这样的：

```
 xhr=  $.ajax({ (...) 
```

在您的 waitForMsg 函数中。

尝试

```
 var xhr = (...) 
```

可能是您在全局对象中声明了 xhr，因此无法响应两个不同的请求。

# python - 基于记录属性的金字塔安全性

> ID：12776532
> 
> 赞同：3
> 
> 时间：2012-10-08T06:41:17.870
> 
> 标签：python, pyramid

我在 DB 中有具有相同界面的表，用于使用 Pyramid 应用程序查看和编辑它们。例如：

表查看记录的路径示例`report`：`/birdreport/report/871`;

表编辑记录路径示例`report`：`/birdreport/report/871/edit`;

表的每条记录`report`都有包含的字段`user_id`- 该值与 authenticated_userid 函数返回的值相同。我很清楚如何`edit`通过添加查看权限来禁用访问。但是，我如何才能`edit`仅允许那些用户 ID 出现在相应记录中的用户查看？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-10-08T07:18:02.237

您可以通过在模型中定义来使用[Pyramid 授权策略。](http://docs.pylonsproject.org/projects/pyramid/en/latest/narr/security.html)例如：`__acl__()``Report`

```
from sqlalchemy.orm import relationship, backref
from pyramid.security import Everyone, Allow

class Report(Base):
    # ...
    user_id = Column(Integer, ForeignKey('user.id'))
    # ...

    @property
    def __acl__(self):
        return [
            (Allow, Everyone, 'view'),
            (Allow, self.user_id, 'edit'),
        ]

    # this also works:
    #__acl__ = [
    #    (Allow, Everyone, 'view'),
    #    (Allow, self.user_id, 'edit'),
    #]

class User(Base):
    # ...
    reports = relationship('Report', backref='user') 
```

以上将`__acl__()`允许每个人调用您的视图`view`，但仅限与它相关的`Report`用户`edit`。

* * *

[引用文档](http://docs.pylonsproject.org/projects/pyramid/en/latest/narr/security.html#enabling-an-authorization-policy-imperatively)，您可能没有启用身份验证策略或授权策略：

> 使用 Configurator 的 set_authorization_policy() 方法启用授权策略。
> 
> 您还必须启用身份验证策略才能启用授权策略。这是因为授权通常取决于身份验证。在应用程序设置期间使用 set_authentication_policy() 和方法来指定身份验证策略。

```
from pyramid.config import Configurator
from pyramid.authentication import AuthTktAuthenticationPolicy
from pyramid.authorization import ACLAuthorizationPolicy
authentication_policy = AuthTktAuthenticationPolicy('seekrit')
authorization_policy = ACLAuthorizationPolicy()
config = Configurator()
config.set_authentication_policy(authentication_policy)
config.set_authorization_policy(authorization_policy) 
```

> 上述配置启用了一个策略，该策略将在请求环境中传递的“auth ticket”cookie 的值进行比较，该 cookie 包含对单个主体的引用与尝试调用某个视图时资源树中找到的任何 ACL 中存在的主体的引用。
> 
> 虽然可以混合和匹配不同的身份验证和授权策略，但使用身份验证策略但没有授权策略配置 Pyramid 应用程序是错误的，反之亦然。如果这样做，您将在应用程序启动时收到错误消息。

# fortran - Fortran 90 - 分段错误

> ID：12776534
> 
> 赞同：1
> 
> 时间：2012-10-08T06:41:32.817
> 
> 标签：fortran, fortran90

我正在制作一个将十进制整数转换为其二进制表示的程序。这是我的代码：

```
program test
implicit none
integer, dimension(:), allocatable :: binary
integer :: decimalnum, i, initvalue

print*, "Enter decimal number to convert: "
read*,initvalue

decimalnum = initvalue
i = 0

do while (decimalnum > 0)
    if (MOD(decimalnum,2)==0) then
        binary(i) = 0                  ! this is as far as the program executes up to 
        decimalnum = decimalnum / 2
        i = i + 1
    else if (MOD(decimalnum,2)==1) then
        binary(i) = 1
        decimalnum = (decimalnum -1) / 2
        i = i + 1
    end if
end do
end program test 
```

在标记点，它返回错误`Segmentation fault`并以代码 139 退出。

为什么会这样？

提前致谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-08T08:50:02.587

这是将整数转换`i`为其二进制表示的简单方法：

```
write(*,'(b16)') i 
```

如所写，这不会写任何前导`0`s。如果您想要前导`0`s，请尝试

```
write(*,'(b16.16)') i 
```

当然，前面的代码将二进制表示写入默认输出单元，但使用 Fortran 的内部写入功能，我可以轻松地将位写入字符变量。例如：

```
character(len=16) :: bits
...
write(bits,'(b16.16)') i 
```

将 的二进制数字写入`i`字符变量`bits`。

现在，如果您真正想要的是创建一个整数数组，每个整数代表二进制表示的一位，那么像这样

```
integer, dimension(16) :: bitarray
...
bitarray = 0
...
do ix = 1,len(bits)
    if (bits(ix:ix)=='1') bitarray(ix) = 1
end do 
```

可能会工作。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2014-06-26T19:22:26.577

1) 发生崩溃是因为您只为数组 binary(:) 分配了 1 个元素，而 While 循环可能已移至 i = 2，此时您的数组的索引超出范围（崩溃）。

2) Fortran 有许多直接处理位的内在函数。例如，

a) Bit_Size(var) 返回“var”中的位数，所以如果你必须使用可分配的，现在你提前知道所需的数组大小。

b) BTest(iVar, pos) 返回 .True。如果 iVar 中 pos 的位为 1

例如，使用上面的其他声明：

```
Integer     :: n

n = Bit_Size(decimalnum)    

If( Allocated(Binary) ) DeAllocate(Binary)          ! good practice
Allocate( Binary(1:n) )                             ! in general, should get IOStat, just in case

Binary(:) = 0

ForAll(i=1:n, Mask = BTest( decimalnum, i-1 ) ) ! remember, bit intrinsics index from 0
    Binary(i) = 1
End ForAll 
```

...与 Do 和 While 相比，这更有效，并且可能有助于（一点）实现 smp。Where/EndWhere 结构也可以使用，但我发现 ForAll 的效率更高一些。

c) IBits(var, pos, len) 从 var 中提取从 pos 开始的位以获得 len 个位数，例如，如果您想创建“显式”二进制表示，这可能是一种方法。

等等等等

3）如果您“真的是指”将 DecimalNum 转换为 Bin，那么如果 Dec 还包括浮点 Dec（即 Reals），那么您将遇到（大量）其他问题，因为 Reals 的位表示是根据指数表示的。我会假设情况并非如此，因为对此的代码/解释要复杂得多。

最后，在 Fortran 中，Nums 通常是“有符号的”Nums，并且前导位用于确定 +ve (0) 或 -ve (1)。因此，如果您要朝“其他”方向（Bin2Dec）前进，那么您会更喜欢一个额外的 arg（可能是可选的）来控制结果是有符号还是无符号。如果无符号，则输出 var 与输入 var 相比需要“更大”（例如，如果将无符号 1 字节 int 转换为 Fortran int，则必须使用至少 2 字节 int（即输入 Integer(1) 必须为输出到 Integer(2)) 等。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-08T08:11:34.107

根据评论，您需要先执行一个分配语句（或在幕后为您分配的东西），然后才能定义`binary`数组。分配语句的最简单形式类似于`ALLOCATE(binary(10))`，它将给`binary`数组 10 个元素，使用默认值（可以使用 allocate 语句为该数组更改）起始数组索引 1。

在使用数组之前，分配的大小不容易知道，有两种基本方法：

*   做两遍，第一遍简单地计算需要多少个元素，然后分配数组，然后第二遍实际对相关元素进行分配。
*   将数组分配给初始大小（可能为零），根据需要逐步增长数组。

围绕使用方法的决定与分配相关的相对开销以及计数时每个测试的评估相关，存在权衡。

在 Fortran 90 中（至少是 Fortran 95 的时候了！），增长一个可分配的数组有些复杂（分配一个临时的，将数据从原始复制到临时，释放原始，将原始分配到新的大小，将数据从临时复制回调整原始大小，临时解除分配）。在 Fortran 2003 中，此操作变得微不足道。

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2012-10-08T08:21:44.557

所以这可能是一种糟糕的形式，~~而且运行时肯定很糟糕（它为每一位复制数组）~~，但这就是我想出的。它似乎工作。

```
 program test
      implicit none
      integer, dimension(:), allocatable :: binary
      integer :: decimalnum, i, initvalue, curSize, curBit

      print*, "Enter decimal number to convert: "
      read*,initvalue

      decimalnum = initvalue
      i = 1
      ALLOCATE ( binary(1) )
      curSize = 1

      DO WHILE (decimalnum > 0)
        IF (i > curSize ) THEN
            curSize = curSize * 2
            CALL expandArray( curSize, i-1 )
        END IF

        IF (MOD(decimalnum,2)==0) then
            binary(i) = 0                  ! this is as far as the program executes up to 
            decimalnum = decimalnum / 2
            i = i + 1
        ELSE IF (MOD(decimalnum,2)==1) then
            binary(i) = 1
            decimalnum = (decimalnum -1) / 2
            i = i + 1
        END IF

      end do
      PRINT*, binary

  CONTAINS
      SUBROUTINE expandArray( newSize, oldSize )
          IMPLICIT NONE
          INTEGER, DIMENSION(:), ALLOCATABLE :: temp
          INTEGER :: j, newSize, oldSize
          ALLOCATE( temp(newSize) )
          DO j=1,oldSize
              temp(j) = binary(j)
          END DO
          DEALLOCATE (binary)
          ALLOCATE( binary(newSize) )
          DO j=1,oldSize
              binary(j) = temp(j)
          END DO
          DO j=oldSize+1,newSize
              binary(j) = 0
          END DO
          DEALLOCATE (temp)
      END SUBROUTINE

  END PROGRAM test 
```

# tooltwist - 文件安装期间的 FIP 错误

> ID：12776536
> 
> 赞同：0
> 
> 时间：2012-10-08T06:41:40.683
> 
> 标签：tooltwist

我们在 FIP 安装过程中收到以下错误，知道为什么吗？

> InstallerUtil v1.2，包含 fip v1.3 启动板=ITStagingLaunchpad，类型=测试
> 索引目标...
> 错误：tooltwist.fip.FipException 来自 FIP 服务器的未知响应：500
> 异常：tooltwist.fip.FipException：tooltwist.fip.FipException： FIP 服务器的未知响应：500

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-08T06:57:09.647

“500”是一个 HTTP 状态码。看维基百科...

> 500 Internal Server Error 通用错误消息，当没有更具体的消息适合时给出。[2]

FIP 不会返回任何可能帮助某人破解或破解其操作的错误信息，因此您需要查看目标计算机上 fipserver 的输出。

如果您使用 nohup 启动 fipserver，以便在您注销时不会挂起，请使用

```
nohup ./fipserver 39393 & 
```

然后输出将在同一目录中名为 nohup.out 的文件中。

# jquery - 自动完成仅第一次工作

> ID：12776543
> 
> 赞同：0
> 
> 时间：2012-10-08T06:42:04.767
> 
> 标签：jquery, ajax, autocomplete, jquery-autocomplete

```
<script type="text/javascript" src="js/jquery.js"></script>
<script type='text/javascript' src='js/jquery.autocomplete.js'></script>
<link rel="stylesheet" type="text/css" href="css/jquery.autocomplete.css" /> 
```

自动完成在页面刷新时第一次工作，如果我退格并从开始输入其他字符，我最多输入 4 个字符，它不起作用，有人可以帮我为什么会发生这种情况

```
$().ready(function() {

    $("#customername").autocomplete("ajax/customerlist.php", {
        width: 260,
        dataType: 'json',
        matchContains: false,
        selectFirst: false,
        minlength:4,
        parse: function(data) {

                var array = new Array();
                for(var i=0;i<data.items.length;i++)
                {       //alert(data.items[i].name);
                        array[array.length] = { data: data.items[i], value: data.items[i], result: data.items[i].name };
                }
                return array;
        },
        formatItem: function(row) {                     
                var name = '';
                if (row.first_name && row.last_name)
                        name = '('+row.first_name+', '+row.last_name+')';
                else if (row.first_name)
                        name = '('+row.first_name+')';
                else if (row.last_name)
                        name = '('+row.last_name+')';

                return row.name+' '+name;
        }
    });

    $('#customername').result(function (event, data, formatted) {
      $( "#cust" ).val( data.id );
      var add= data.add1+data.add2;
      $( "#address" ).val( add );
      $( "#email" ).val( data.email );
      $( "#phone" ).val( data.phone );
      $( "#mobile" ).val( data.mobile );

    });
}); 
```

php代码是

```
$getuser=$db->execute("select * from `customer` where customer_name like '%".mysql_$_REQUEST['q']."%'  ");

while($getuserlist = $db->fetchAll($getuser)) {

$list['items'][]=array('name' => $getuserlist['customer_name'],'id'=>$getuserlist['customer_id'],'add1'=>$getuserlist['add1'],'add2'=>$getuserlist['add2'],'city'=>$getuserlist['city'],'state'=>$getuserlist['state'],'pincode'=>$getuserlist['pincode'],'email'=>$getuserlist['email'],'phone'=>$getuserlist['phone'],'mobile'=>$getuserlist['mobile']);

}

echo json_encode($list); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-08T06:45:18.917

改变这个

```
$().ready(function() { 
```

到

```
$("#customername").keyup(function() { 
```

它会在你输入时运行`"#customername"`

# .net - 将 IoC 与旧的 Web 服务项目一起使用

> ID：12776544
> 
> 赞同：3
> 
> 时间：2012-10-08T06:42:07.700
> 
> 标签：.net, inversion-of-control, asmx

我有一个旧的（2008 年）三层后台系统：

*   Web服务层；asmx 类型的网络服务。可能是由“ASP.NET Web 服务应用程序”-模板制作的
*   业务层；我不想碰这个。
*   数据层；一团糟。各种数据访问。

我的目标是清理这个，编写一些单元测试等。

作为一个开始; 是否可以添加 IoC 容器。它应该在哪里初始化？该项目目前在 .NET Framework 3.5 上运行。

伊瓦尔

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-08T06:54:49.507

为你找到了好文章

[http://ruijarimba.wordpress.com/2011/12/27/asp-net-web-services-dependency-injection-using-unity/](http://ruijarimba.wordpress.com/2011/12/27/asp-net-web-services-dependency-injection-using-unity/)

简而言之：

1.  在 global.asax.cs 中设置 DI/IoC 容器并使用它们的 Container 属性来访问您的 DI/IoC 容器

2.  解决您的依赖项或在服务的构造函数中构建容器，或创建一个基类，如示例所示

3.  或者，当您需要时，您可以从容器 a-la“服务定位器”中解决您的依赖关系

# cocos2d-iphone - 控制 CCParticleSystemQuad 中的单个粒子？

> ID：12776548
> 
> 赞同：1
> 
> 时间：2012-10-08T06:42:31.313
> 
> 标签：cocos2d-iphone, ccparticlesystem

我在粒子发射器上调用 setTexture:withRect:... 我的问题是，有什么方法可以提供多个矩形，以便粒子可以由随机精灵组成？或者是使用多个发射器完成此任务的唯一方法？

我想如果有一种方法可以实际获取正在生成的粒子集合，那么我可以遍历它们并设置它们的矩形，甚至颜色属性，但是在 cocos2d 文档中，我看不到获取单个粒子对象的方法......有没有办法做到这一点？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-08T22:41:49.917

如果您希望发射的粒子具有不同的图像，您可以制作粒子图像的精灵表和子类 CCParticleSystemQuad 覆盖`initTexCoordsWithRect:`方法，这样就不会对非常粒子使用相同的帧，而是对不同的粒子使用不同的帧。

有关使用位图字体的此类粒子系统的示例，请参见[此处](http://indieambitions.com/code-snippits/cocos2d-particle-engine-wdifferent-sprites/)。使用相同的想法，我创建了 CCParticleSystemQuad 子类，它使用 CCSpriteFrameCache 来获取帧信息。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-08T14:21:30.747

不，您不能访问或修改单个粒子。

如果您想要随机精灵，只需运行多个粒子系统，每个粒子系统使用不同的纹理。

# android-layout - 设置视图宽度后 LayoutParams 的 ClassCastException 到 MarginLayoutParams

> ID：12776557
> 
> 赞同：4
> 
> 时间：2012-10-08T06:43:53.787
> 
> 标签：android-layout

我编写了一个小型代理类，以便可以使用 ObjectAnimator 为视图的边距设置动画。在检查这是否有效并且所有动画都正确之后，我想在动画之前调整视图的大小，但是在我设置宽度之后，我的动画失败并出现 ClassCastException。我不知道为什么。

```
private class handleClickListener implements View.OnClickListener {
    private static final int LEFT_MARGIN_VISIBLE = 0;
    private static final int LEFT_MARGIN_HIDDEN = -196;

    public void onClick(View view) {
        LinearLayout row = (LinearLayout) view.getParent().getParent();
        RelativeLayout options = (RelativeLayout) row.findViewById(R.id.options);
        LayoutProxy layoutProxy = new LayoutProxy(options);

        // First make sure the options are the right width to fill the screen with the handle
        int rowWidth = row.getWidth();
        int handleWidth = view.getWidth();
        layoutProxy.setWidth(rowWidth - handleWidth);
        ObjectAnimator animation;

        if (layoutProxy.getLeftMargin() == Util.dipsToPixels(options, LEFT_MARGIN_VISIBLE)) {
            animation = ObjectAnimator.ofInt(layoutProxy, "leftMargin", Util.dipsToPixels(view, LEFT_MARGIN_VISIBLE), Util.dipsToPixels(view, LEFT_MARGIN_HIDDEN)); 
        } else {
            animation = ObjectAnimator.ofInt(layoutProxy, "leftMargin", Util.dipsToPixels(view, LEFT_MARGIN_HIDDEN), Util.dipsToPixels(view, LEFT_MARGIN_VISIBLE)); 
        }

        animation.setDuration(200);
        animation.start();
    }

    /**
     * Allows an ObjectAnimator to set/get margins and dimensions of a view
     */
    private class LayoutProxy {
        private ViewGroup mView;

        public LayoutProxy(View view) {
            mView = (ViewGroup) view;
        }

        public int getWidth() {
            ViewGroup.LayoutParams lp = mView.getLayoutParams();
            return lp.width;
        }

        public void setWidth(int width) {
            ViewGroup.LayoutParams lp = mView.getLayoutParams();
            mView.setLayoutParams(new ViewGroup.LayoutParams(width, lp.height));
        }

        public int getHeight() {
            ViewGroup.LayoutParams lp = mView.getLayoutParams();
            return lp.height;
        }

        public void setHeight(int height) {
            ViewGroup.LayoutParams lp = mView.getLayoutParams();
            mView.setLayoutParams(new ViewGroup.LayoutParams(lp.width, height));
        }

        public int getLeftMargin() {
            ViewGroup.MarginLayoutParams lp = (ViewGroup.MarginLayoutParams) mView.getLayoutParams();
            return lp.leftMargin;
        }

        public void setLeftMargin(int margin) {
            MarginLayoutParams lp = (MarginLayoutParams) mView.getLayoutParams();
            lp.setMargins(margin, lp.topMargin, lp.rightMargin, lp.bottomMargin);
            mView.requestLayout();
        }

        public int getTopMargin() {
            MarginLayoutParams lp = (MarginLayoutParams) mView.getLayoutParams();
            return lp.topMargin;
        }

        public void setTopMargin(int margin) {
            MarginLayoutParams lp = (MarginLayoutParams) mView.getLayoutParams();
            lp.setMargins(lp.leftMargin, margin, lp.rightMargin, lp.bottomMargin);
            mView.requestLayout();
        }

        public int getRightMargin() {
            MarginLayoutParams lp = (MarginLayoutParams) mView.getLayoutParams();
            return lp.rightMargin;
        }

        public void setRightMargin(int margin) {
            MarginLayoutParams lp = (MarginLayoutParams) mView.getLayoutParams();
            lp.setMargins(lp.leftMargin, lp.topMargin, margin, lp.bottomMargin);
            mView.requestLayout();
        }

        public int getBottomMargin() {
            MarginLayoutParams lp = (MarginLayoutParams) mView.getLayoutParams();
            return lp.bottomMargin;
        }

        public void setBottomMargin(int margin) {
            MarginLayoutParams lp = (MarginLayoutParams) mView.getLayoutParams();
            lp.setMargins(lp.leftMargin, lp.topMargin, lp.rightMargin, margin);
            mView.requestLayout();
        }
    }
} 
```

和错误：

```
FATAL EXCEPTION: main
java.lang.ClassCastException: android.view.ViewGroup$LayoutParams cannot be cast to android.view.ViewGroup$MarginLayoutParams
at com.test.data.ContactListCursorAdapter$handleClickListener$LayoutProxy.getLeftMargin(ContactListCursorAdapter.java:135)
at com.test.data.ContactListCursorAdapter$handleClickListener.onClick(ContactListCursorAdapter.java:94)
at android.view.View.performClick(View.java:4084)
at android.view.View$PerformClick.run(View.java:16966) 
```

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2014-06-13T11:05:46.853

我有类似的问题

起初我使用的是：

```
LayoutParams viewFlowLayout = new LayoutParams(originalWidth, newHeight);
viewFlow.setLayoutParams(flowViewLayout); 
```

我有和你一样的错误信息：

```
java.lang.ClassCastException: android.view.ViewGroup$LayoutParams cannot be cast to android.view.ViewGroup$MarginLayoutParams 
```

我不知道为什么，因为我没有使用 MarginLayoutParams。

然后我尝试将其更改为

```
LayoutParams viewFlowLayout = viewFlow.getLayoutParams();
viewFlowLayout.height = newheight;
viewFlow.setLayoutParams(flowViewLayout); 
```

并且错误消失了...

* * *

我猜您对上述代码有多个用例。例如：改变这个

```
public void setHeight(int height) {
    ViewGroup.LayoutParams lp = mView.getLayoutParams();
    mView.setLayoutParams(new ViewGroup.LayoutParams(lp.width, height));
} 
```

到

```
public void setHeight(int height) {
    ViewGroup.LayoutParams lp = mView.getLayoutParams();
    lp.height = height  //width will remain and height will be change to the newHeight
    mView.setLayoutParams(lp);
} 
```

希望它对你和很多人有帮助......

* * *

## 回答 #2

> 赞同：-2
> 
> 时间：2012-10-08T12:06:09.957

我只是想知道您将 LayoutParams 转换为 MarginLayoutParams 的原因。有具体原因吗？因为我认为问题出在那儿。

# c++ - 进程内通信 WinRT（消息替换）

> ID：12776559
> 
> 赞同：1
> 
> 时间：2012-10-08T06:43:56.883
> 
> 标签：c++, visual-c++, windows-8, windows-runtime, ipc

我正在使用 Win32 的 WinRT 端口，但线程和消息 (vc++11) 有问题。我只能在 WinRT中使用线程池或**std::thread ......所以我实现了****std::thread**，它似乎正在工作，但我如何在线程之间进行通信？是否有其他选择（如**PostMessage()**等）？在 Android 端口中，我们可以使用管道，但在 winrt 中没有任何内容 :(

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-07-18T10:26:29.363

带有[std::mutex的](http://en.cppreference.com/w/cpp/thread/mutex)[std::conditional_variable](http://en.cppreference.com/w/cpp/thread/condition_variable)和纯[std::deque](http://en.cppreference.com/w/cpp/container/deque)应该可以解决问题。

# jquery - 将音频添加到我的页面

> ID：12776560
> 
> 赞同：0
> 
> 时间：2012-10-08T06:44:01.333
> 
> 标签：jquery, html, html5-audio

我正在尝试将音频添加到我的页面。问题是我有一个灯箱，一旦我点击灯箱，声音就会出来。

这是我的 JavaScript：

```
audio = $("audio").get(0)

$('a').click(function(){
    if(audio.paused){
        audio.play();
    } else {
        audio.pause();
    }
}); 
```

这是我的 HTML 代码：

```
<a href="javascript:void(0)">
    <img src="img/speaker_icon.png" alt="play" />
</a>
<audio>
    <source src="sound/siol.ogg" type="audio/ogg">
    <source src="sound/siol.mp3" type="audio/mpeg">
</audio>​ 
```

知道我应该改变什么吗？有什么快速解决办法吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-08T07:13:42.020

用 jquery 代码更新我之前的答案：

HTML：

```
<a href="javascript:void(0)">
    <img src="http://www.kafkabrigade.org.uk/wp-content/uploads/2011/07/button-pic.jpg" alt="play" />
</a>
<audio>
    <source src="http://www.hellopixel.net/click.mp3" type="audio/ogg">
    <source src="http://www.hellopixel.net/click.ogg" type="audio/mpeg">
</audio> 
```

jQuery：

```
audio = $("audio").get(0)

$('a').click(function(){
    if(audio.paused){
        audio.play();
    } else {
        audio.pause();
    }
}); 
```

这是工作的 js fiddle 代码：http: [//jsfiddle.net/SMR4V/1/](http://jsfiddle.net/SMR4V/1/) ​ ​</p>

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-08T09:21:49.523

请检查以下工作代码以获取解决方案。

```
<html>
<head>

<script src="http://code.jquery.com/jquery-1.8.0.min.js" type="text/javascript">     </script>
<script type="text/javascript">
    function playerClicked() {
     audio=$("audio").get(0);
     audio.load()
       if(audio.paused){
        audio.play();
       } else {
        audio.pause();
       }

    }
</script>

</head>
<body>
<a id ="storyplayer" href="javascript:playerClicked();">
Click here to play.
</a>
<audio>
<source src="sound/siol.mp3" type="audio/mpeg">
</audio>

</body>
</html> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-08T06:51:59.527

暂时打开音频控件以检查元素是否出现在那里并且可以手动使用，使用浏览器的开发人员工具进行调试。乍一看，我会说这是失踪的；从第一行的末尾开始，应该是：

```
audio = $("audio").get(0); 
```

# c# - 如果我不调用 UdpClient.Close() 方法有什么缺点？

> ID：12776563
> 
> 赞同：1
> 
> 时间：2012-10-08T06:44:26.523
> 
> 标签：c#, .net, udpclient

我有以下代码块，它影响了我的程序效率。这里的问题是，如果目标主机存在，一切正常。但如果它确实存在，执行起来需要很长时间。最后，我发现“udp.Close()”占据了大部分的执行时间。如果我不调用close方法，效率还是不错的。

如果我不调用 close 方法，谁能帮我告诉我有什么缺点？非常感谢你。

```
{ // This is my code block, I need to execute it many many times.
string ipAddress = Dns.GetHostAddresses("joe-pc").FirstOrDefault().ToString();
UdpClient udp = new UdpClient(ipAddress, Port);
udp.Send(msg, msg.Length);
udp.Close();
udp = null;
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-08T06:51:11.137

缺点是你会有资源泄漏。您*可能*很幸运，垃圾收集经常发生以至于它没有在您的程序中展示自己，但是为什么要冒险呢？从文档中[`Close`](http://msdn.microsoft.com/en-us/library/system.net.sockets.udpclient.close.aspx)：

> **Close**禁用底层并[`Socket`](http://msdn.microsoft.com/en-us/library/system.net.sockets.socket.aspx)释放与[`UdpClient`](http://msdn.microsoft.com/en-us/library/system.net.sockets.udpclient.aspx).

请注意，它谈到了非托管资源。这些*只会*通过`UdpClient`运行一些代码来释放 - 它要么在`Close`/`Dispose`中执行，要么必须在其`Finalize`方法中执行 - 没有其他任何东西会导致它们被释放（假设程序保持运行）。

您*可以*`Close`通过使用让它在另一个线程上运行来隐藏操作的成本`Task.Run`- 但您必须权衡这样做的成本。

* * *

或者，更具体的说——你说你需要这个方法运行很多次。如果不在这里清理您的资源，您将增加后续调用完全失败的机会，因为它无法*获取*所需的资源（它们都被绑定在现有的非`Close`d`UdpClient`实例中）。

* * *

而且，正如我在评论中指出的那样，以下行毫无意义：

```
udp = null; 
```

此类代码曾经在 COM 时代的 VB 中使用，但在 .NET 世界中却没有位置。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-08T06:50:22.303

`Close()`禁用底层 Socket 并释放与 UdpClient 关联的所有托管和非托管资源。如果你没有关闭，那么它不会禁用和释放资源，比如你的端口和 IP 地址

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-08T06:54:50.113

Instead of Using `Send` could you use `BeginSend` and then in your callback handle an exception when you attempt to Close if that is actually the problem?

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-11T14:25:39.950

You're targeting joe-pc presumably with different ip addresses as the dns record changes, but you reuse the same UdpClient for each send. Just remember to Close() it when you're all done.

Use

```
//
// Summary:
//     Sends a UDP datagram to a specified port on a specified remote host.
//
// Parameters:
//   dgram:
//     An array of type System.Byte that specifies the UDP datagram that you intend
//     to send represented as an array of bytes.
//
//   bytes:
//     The number of bytes in the datagram.
//
//   hostname:
//     The name of the remote host to which you intend to send the datagram.
//
//   port:
//     The remote port number with which you intend to communicate.
//
// Returns:
//     The number of bytes sent.
//
public int Send(byte[] dgram, int bytes, string hostname, int port); 
```

and skip the dns lookup too.

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2017-01-26T13:49:10.673

I know this is a while but I stumbled today upon this question and wanted to add:

udp=null;

is not pointless imho. You can see in some cases in a memory profiler that your instance is still available if you dont set it to null.

# javascript - 未捕获的类型错误：无法调用 null 的方法“显示”

> ID：12776567
> 
> 赞同：0
> 
> 时间：2012-10-08T06:44:47.653
> 
> 标签：javascript, jquery

我在脚本中收到：Uncaught TypeError: Cannot call method 'show' of null" 错误，指出错误在该区域的某处，见下文：

```
 // Show the correct more view images and if there are moreviews displayed, display the more views title
            if (selectedmoreview !== null && selectedmoreview !== undefined && howMany > 0) {
                selectedmoreviewtitle.show();
                selectedmoreview.invoke('show');
            } else {
                if(howMany > 0){ selectedmoreviewtitle.hide(); }
            }

            spConfig.configureElement(dropdownEl); 
```

谁能帮我解决这个问题并让我的功能正常工作？一些专家的建议将不胜感激

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-08T07:46:05.430

根据请求：

据我所见（我只是快速看了一下），您正在尝试这行代码：

```
selectedmoreviewtitle = $('moreviews-title'); 
```

在第 204 行的**colorselected.js**中。并且没有名为“moreviews-title”的 id 或类的元素。所以这就是它变为空的原因。

此外，您可能想要使用类选择器`'.moreviews-title'`或 id 选择器`'#moreviews-title'`。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-08T06:48:15.677

你`selectedmoreview`过牌，但你试图跟注。因为is not null可能是。`selectedmoreview**title**.show()``selectedmoreview``selectedmoreviewtitle`

# jquery - x如何使用引导框架创建确认删除对话框？

> ID：12776570
> 
> 赞同：0
> 
> 时间：2012-10-08T06:45:16.047
> 
> 标签：jquery, css, node.js, twitter-bootstrap

> **可能重复：**
> [使用 Twitter 引导程序确认删除模式/对话框？](https://stackoverflow.com/questions/8982295/confirm-delete-modal-dialog-with-twitter-bootstrap)

如何使用 twitter 的 boostrap 框架创建确认删除对话框？

我有一个链接可以在后端对对象进行 ajax 删除，但我想确保用户在发送请求之前确认他们要删除。

我在前端使用 jQuery，在后端使用 node.js/express。

jQuery 代码如下所示：

```
$("a.remove").click(function(e){
  e.preventDefault();

  $.ajax({
    url: '/api/item/'+itemId,
    type: 'DELETE',
    success: function(d){
      if ( d.status == 'success' ) {
        app.msg({ type: 'info', msg: d.message, before: "#items" });
        $("#item_"+itemId).fadeOut();
        app.log('deleted');
      } else {
        app.msg({ type: 'error', msg: d.message, before: "#items" });
        app.log('failed');
      }
    }
  });
}); 
```

我想注入一个漂亮的确认框。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-08T06:47:46.467

请检查：

[http://bootboxjs.com/](http://bootboxjs.com/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-08T06:51:10.350

[Bootbox.js](http://bootboxjs.com/)是最好的选择。除此之外，您可以检查[此插件](https://gist.github.com/1336443)。此插件可用于锚点，在重定向到链接之前显示确认弹出窗口。

```
(function($){
    $.fn.extend({
        confirmDialog: function(options) {
            var defaults = {
                message: '<strong>Are you sure</strong>',               
                dialog: '<div id="confirm-dialog" class="popover">' +
                            '<div class="arrow"></div>' +
                            '<div class="inner">' +
                                '<div class="content">' +
                                    '<p class="message"></p>' +
                                    '<p class="button-group"><a href="#" class="btn small danger"></a><a href="#" class="btn small"></a></p>' +
                                '</div>' +
                            '</div>' +
                        '</div>',
                cancelButton: 'Cancel'
            };
            var options =  $.extend(defaults, options);

            return this.each(function() {
                var o = options;
                var $elem = $(this)

                //is there an existing click handler registered
                if ($elem.data('events') && $elem.data('events').click) {
                    //save the handler (TODO: assumes only one)
                    var targetClickFun = $elem.data('events').click[0].handler;
                    //unbind it to prevent it firing
                    $elem.unbind('click');
                }else{
                    //assume there is a href attribute to redirect to
                    var targetClickFun = function() {window.location.href = $elem.attr('href');};
                }

                $elem.bind('click', function(e) {
                    e.preventDefault();
                    if(!$('#confirm-dialog').length) {

                        var offset = $elem.offset();
                        var $dialog = $(o.dialog).appendTo('body');

                        var x;
                        if(offset.left > $dialog.width()) {
                            //dialog can be left
                            x = e.pageX - $dialog.width();
                            $dialog.addClass('left');
                        } else {
                            x = e.pageX;
                            $dialog.addClass('right');
                        }
                        var y = e.pageY - $dialog.height() / 2 - $elem.innerHeight() / 2;

                        $dialog.css({
                            display: 'block',
                            position: 'absolute',
                            top: y,
                            left: x
                        });

                        $dialog.find('p.button-group').css({
                            marginTop: '5px',
                            textAlign: 'right'
                        });

                        $dialog.find('a.btn').css({
                            marginLeft: '3px'
                        });

                        $dialog.find('p.message').html(o.message);

                        $dialog.find('a.btn:eq(0)').text($elem.text()).bind('click', function(e) {
                            $dialog.remove();
                            targetClickFun();
                        });

                        $dialog.find('a.btn:eq(1)').text(o.cancelButton).bind('click', function(e) {
                            $dialog.remove();
                        });

                        $dialog.bind('mouseleave', function() {
                            $dialog.fadeOut('slow', function() {
                                $dialog.remove();
                            });
                        });
                    }
                });
            });
        }
    });   
})(jQuery); 
```

# c# - 在运行时添加语言

> ID：12776574
> 
> 赞同：1
> 
> 时间：2012-10-08T06:45:50.390
> 
> 标签：c#, winforms, multilingual

我有一个在 resx 文件中使用标准 .net 本地化的多语言 Windows 应用程序。

现在我有一个请求，让用户可以创建自己的最初不受支持的语言文件，并将它们添加到应用程序而不重新编译它。

实现这一目标的最佳方法是什么？

我正在考虑将语言移动到数据库，然后创建第二个工具，将翻译添加到数据库中，但如果可以动态添加 resx 文件，我宁愿保留当前的方法。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-08T06:55:57.087

您可以使用的一种选择是将翻译保存在 XML 文件中。这样，用户只需将自己的 XML 文件拖放到存在翻译的文件夹中即可。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-11T01:11:28.727

这正是我不使用 .NET 本地化而是自己编写的原因。

我将翻译存储在与 EXE 分开的文件中，有一个基于 Windows-Forms 的用于翻译的 GUI，我可以将它嵌入到任何应用程序中（并使用它的 WPF 克隆），并允许用户在不重新启动应用程序的情况下切换语言。

我不明白为什么有人会希望它有所不同，以及为什么微软创造了如此糟糕和有限的系统。

不幸的是，我现在无法发布我的系统，但我希望我能尽快发布。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-08T06:53:24.487

您可以将翻译写入 .resx 文件，然后将该文件的位置添加到数据库中，然后当您想要翻译一些标签时，只需转到数据库查看该文件的位置，然后从中读取。我不确定它如何适合本地化库......

# javascript - 在 D3.js 的 x 轴上仅使用小时和分钟

> ID：12776583
> 
> 赞同：0
> 
> 时间：2012-10-08T06:46:25.813
> 
> 标签：javascript, d3.js

我有一个如下所示的数据集：

```
data_set=[{date: '2012,09,04,10,54,53'},
{date: '2012,09,05,10,58,57'},
{date: '2012,09,11,10,44,05'},
{date: '2012,09,04,11,25,30'},
{date: '2012,09,04,10,28,55'},
{date: '2012,09,04,12,30,17'},
{date: '2012,09,04,11,14,23'},
{date: '2012,09,04,12,16,10'},
{date: '2012,09,04,11,57,46'},
{date: '2012,09,04,11,15,53'},
{date: '2012,09,04,11,25,43'},]; 
```

我正在尝试制作一个散点图，其中 x 轴是一天中的时间，而不是完整日期。如何让 x 轴仅显示 24 个周期，以及如何让日期点沿 x 轴正确绘制？声音我正在尝试使用 d3.time.scale() 还是应该简单地使用 d3.linear.scale() 并解决格式化问题？我想做的是让一周中的每一天都是沿 y 轴的不同点。一个示例图在[这里](http://i.imgur.com/X1a3B.png)。在此示例中，10 = 星期一、20 = 星期二等。不同的符号代表一周中特定日期的不同日期。

因此，我编写了以下函数来从字符串中提取日期，尤其是小时和分钟：

```
var date_format = d3.time.format("%Y,%m,%d,%H,%M,%S");                                                                                                                               
var time_format = d3.time.format("%X"); 
```

使用这些函数，我编写了以下语句：

```
dd = date_format.parse('2012,01,02,12,39,45')
Mon Jan 02 2012 12:39:45 GMT-0800 (PST)
time_format(dd)
"12:39:45" 
```

所以在控制台中，我可以看到我获取了一个字符串，将其转换为日期，然后使用该日期生成时间。当我尝试设置域时，d3.time.scale() 似乎不接受我传递给它的时间。

[http://i.imgur.com/DRtSW.png](http://i.imgur.com/DRtSW.png) “完成的情节”

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-08T10:31:37.967

您的数据集是一个[JSON](http://www.json.org)数组`[...]`，包含作为键值对的对象`{date: '...'}`。

此配对中的值是逗号分隔的字符串。

您可以遍历数组并（例如）提取小时和分钟值，构建一个新数据集：

```
var new_data = [];
for (var idx = 0; idx < data_set.length; idx++) {
    var datum = data_set[idx];
    var date_value = datum.date;
    var date_elements = date_value.split(",");
    var hour = date_elements[3];
    var minutes = date_elements[4];
    var new_date = {};
    new_date.date = hour + "," + minutes;
    new_data.push(new_date);
}; 
```

然后您可以将修改后的数据集传递给您的 d3 代码`new_data`，该数据集仅包含小时和分钟数据。

**编辑**

如果有用，您可能需要编辑上面的代码以将`new_date`对象实例的格式更改为 d3 函数可以使用的格式。老实说，我对 API 的日期/时间部分不太熟悉，因此可能需要进行一些更改。我只是想以一种通用的方式展示你可以做些什么来预处理你的数据数组，用你需要的数据构建一个数组。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-08T17:58:33.973

Alex Reynolds: Did you mean

```
 new_date.date = hour + ":" + minutes; 
```

?

Also you can provide the time scale with a format function that will format the ticks to hour and minute. See [https://github.com/mbostock/d3/wiki/Time-Formatting](https://github.com/mbostock/d3/wiki/Time-Formatting) and [https://github.com/mbostock/d3/wiki/SVG-Axes#wiki-tickFormat](https://github.com/mbostock/d3/wiki/SVG-Axes#wiki-tickFormat)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-06-09T09:08:17.133

在不需要日期对象的情况下，D3（或者一般来说可能是 JavaScript）似乎不能很好地处理一天中的时间。我的解决方案是将一天中的时间存储为自 00:00:00 以来的整数分钟数（或秒，如果我想要准确性）。在几分钟内，它是 0 到 1440 之间的整数。

如果您需要从字符串时间转换（如“00:00:00”），那么这可能会有所帮助：

```
time = (parseInt(d.x.split(':')[0]) * 60)  + parseInt(d.x.split(':')[1]); 
```

如果您的数据已经是 int，那么在您的 tickformat 中，您可以使用它：

```
.tickFormat(function(d) { 
  return Math.floor((d)/60) + ":" + ((d)%60);
}); 
```

或者

```
.tickFormat(function(d) { 
  return padZero(Math.floor((d)/60)) + ":" + padZero((d)%60));
}); 
```

`padZero`你自己的函数在哪里填充前导零，这样你就不会得到“1:30”或“0:0”而是“01:30”和“00:00”

# iphone - 如何在 tableviewrow (Titanium Studio) 中查找或跟踪子点击

> ID：12776584
> 
> 赞同：2
> 
> 时间：2012-10-08T06:46:26.390
> 
> 标签：iphone

我是钛工作室的新手。我正在处理表格视图。我在 tableviewrow 中添加了一些图像视图和标签。我可以将事件侦听器添加到表视图行中的每个孩子。我正在循环内向表中添加行。下面是我的代码：

```
var tweetsTable = Ti.UI.createTableView({height:360, width: 306, top: 58, backgroundColor: '#FFFFFF',borderColor: '#C8C8C8',borderWidth:2, zIndex: -1});
var tweetsArray = [];

for(int i = 0; i < 5; i++)
{

    var row = Ti.UI.createTableViewRow({contentHeight: 'auto', width: 320,top:0, selectionStyle : Titanium.UI.iPhone.TableViewCellSelectionStyle.NONE});

    var my = Ti.UI.createView({ top:10,width:300,height:100 });

    var accImage = Ti.UI.createImageView({Image: Ti.App.logoImage,width:50,height:50,left:10,top:5,borderRadius:4});

    var addPlus = Ti.UI.createLabel({text:"+",color:"orange", font:{fontSize:18},borderWidth:0,bottom:5,right:20, width: 20, height: 20 });

    var addMinus = Ti.UI.createLabel({text:"-",color:"orange", font:{fontSize:18},borderWidth:0,bottom:5,right:10, width: 20, height: 20 });

    my.add(accImage);
    my.add(addPlus);
    my.add(addMinus);

    row.add(my);
    tweetsArray.push(row);

    accImage.addEventListener('click', function(e){
        alert(i);
    }

    addPlus.addEventListener('click', function(e){
        alert(i);
    }

    addMinus.addEventListener('click', function(e){
        alert(i);
    }

} 
```

我想为 accImage、addPlus、addMinus 添加事件监听器。但我无法分别找到 accImage、addPlus、addMinus 的点击事件。如果我在 for 循环中添加事件侦听器，它可以工作，但最后一行孩子只能工作。如果我单击第一行 addPlus，那么最后一行 addPlus 正在工作。

如何为每行中的每个子项动态添加事件侦听器。请问有人可以吗。。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-09T07:59:06.373

我找到了解决方案。我的代码如下：

```
var tweetsTable = Ti.UI.createTableView({height:360, width: 306, top: 58, backgroundColor: '#FFFFFF',borderColor: '#C8C8C8',borderWidth:2, zIndex: -1});
var tweetsArray = [];

// response contains array of contents. The following loop will runs up to response length

for(int i = 0; i < response.length; i++)
{

    var row = Ti.UI.createTableViewRow({contentHeight: 'auto', width: 320,top:0, selectionStyle : Titanium.UI.iPhone.TableViewCellSelectionStyle.NONE});

    var my = Ti.UI.createView({ top:10,width:300,height:100 });

    var accImage = Ti.UI.createImageView({Image: Ti.App.logoImage,width:50,height:50,left:10,top:5,borderRadius:4});

    var addPlus = Ti.UI.createLabel({text:"+",color:"orange", font:{fontSize:18},borderWidth:0,bottom:5,right:20, width: 20, height: 20 });

    var addMinus = Ti.UI.createLabel({text:"-",color:"orange", font:{fontSize:18},borderWidth:0,bottom:5,right:10, width: 20, height: 20 });

    my.add(accImage);
    my.add(addPlus);
    my.add(addMinus);

    row.add(my);
    tweetsArray.push(row);

    //find whether event from accImage
    tweetsArray[i].children[0].addEventListener('click', function(e){
        imageFunction(response[e.index]['name']);
    });

    //find whether event from addPlus
    tweetsArray[i].children[1].addEventListener('click', function(e){
        plusFunction(response[e.index]['name']);
    });

    //find whether event from addMinus
    tweetsArray[i].children[2].addEventListener('click', function(e){
        minusFunction(response[e.index]['name']);
    });

} 
```

我希望它对某人有用。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-08T14:46:34.507

好吧，我相信您的要求更适合使用 Titanium Mobile 的 Kitchen Sink 示例 (Table_view_layout2.js) 中的示例源代码。您可以在 Titanium Studio IDE 中获取源代码，左下角有一个示例部分，您可以在其中导入代码。在代码中，导航到 Resources/iu/common/baseui/table_view_layout2.js 以查看或调试示例并了解其运行方式。确保你得到一个更新的，因为看起来他们自 2.0.0 版发布以来已经更新了这个代码。

它有一个用于表的事件侦听器并查询点击的来源。该示例显示了一个图像，它使用一个视图而不是图像视图和几个标签。侦听器确定被单击的项目并将其显示在屏幕上。您可以更改该逻辑以执行您想要完成的任何事情。与您的代码类似，他们使用 for 循环构建表，因此您可以绘制一些与您的代码相似的地方。

对于特定的推文 ID，您可以将其放在您的行变量中。

```
var row = Ti.UI.createTableViewRow({
 contentHeight: 'auto', 
 width: 320,
 top:0, 
 selectionStyle : Titanium.UI.iPhone.TableViewCellSelectionStyle.NONE,
 myTweetId: tweetId // <================= Add here
}); 
```

然后在您的侦听器逻辑中，您可以查询 e.rowData.myTweetid 以查找您需要修改的推文。

只是为了澄清一下，监听器将减少为表（tweetsTable）“点击”事件的单个监听器，它将在您拥有的循环逻辑之外定义。

我真的不想把它粘贴在这里，但这是文件中的代码。您可以在我提到的免费源代码中查找它，并且能够使用调试器运行它。

```
function tv_layout2() {
    var win = Titanium.UI.createWindow();
    win.barColor = '#385292';

    if (Ti.Platform.osname !== 'mobileweb') {

        //
        // CREATE SEARCH BAR
        //
        var search = Titanium.UI.createSearchBar({
            barColor:'#385292',
            showCancel:false
        });
        search.addEventListener('change', function(e)
        {
            e.value; // search string as user types
        });
        search.addEventListener('return', function(e)
        {
            search.blur();
        });
        search.addEventListener('cancel', function(e)
        {
            search.blur();
        });
    }

    var tableView;
    var data = [];

    // create first row
    var row = Ti.UI.createTableViewRow();
    row.backgroundColor = '#576996';
    row.selectedBackgroundColor = '#385292';
    row.height = 40;
    var clickLabel = Titanium.UI.createLabel({
        text:'Click different parts of the row',
        color:'#fff',
        textAlign:'center',
        font:{fontSize:14},
        width:'auto',
        height:'auto'
    });
    row.className = 'header';
    row.add(clickLabel);
    data.push(row);

    // when you click the header, scroll to the bottom
    row.addEventListener('click',function()
    {
        tableView.scrollToIndex(40,{animated:true,position:Ti.UI.iPhone.TableViewScrollPosition.TOP});
    });

    // create update row (used when the user clicks on the row)
    function createUpdateRow(text)
    {
        var updateRow = Ti.UI.createTableViewRow();
        updateRow.backgroundColor = '#13386c';
        updateRow.selectedBackgroundColor = '#13386c';

        // add custom property to identify this row
        updateRow.isUpdateRow = true;
        var updateRowText = Ti.UI.createLabel({
            color:'#fff',
            font:{fontSize:20, fontWeight:'bold'},
            text:text,
            width:'auto',
            height:'auto'
        });
        updateRow.className = 'updated_row';
        updateRow.add(updateRowText);
        return updateRow;
    }
    // create a var to track the active row
    var currentRow = null;
    var currentRowIndex = null;

    // create the rest of the rows
    for (var c=1;c<50;c++)
    {
        var row = Ti.UI.createTableViewRow();
        row.selectedBackgroundColor = '#fff';
        row.height = 100;
        row.className = 'datarow';
        row.clickName = 'row';

        var photo = Ti.UI.createView({
            backgroundImage:'/images/custom_tableview/user.png',
            top:5,
            left:10,
            width:50,
            height:50,
            clickName:'photo'
        });
        row.add(photo);

        var user = Ti.UI.createLabel({
            color:'#576996',
            font:{fontSize:16,fontWeight:'bold', fontFamily:'Arial'},
            left:70,
            top:2,
            height:30,
            width:200,
            clickName:'user',
            text:'Fred Smith '+c
        });

        row.filter = user.text;
        row.add(user);

        var fontSize = 16;
        if (Titanium.Platform.name == 'android') {
            fontSize = 14;
        }
        var comment = Ti.UI.createLabel({
            color:'#222',
            font:{fontSize:fontSize,fontWeight:'normal', fontFamily:'Arial'},
            left:70,
            top:21,
            height:50,
            width:200,
            clickName:'comment',
            text:'Got some fresh fruit, conducted some business, took a nap'
        });
        row.add(comment);

        var calendar = Ti.UI.createView({
            backgroundImage:'/images/custom_tableview/eventsButton.png',
            bottom:2,
            left:70,
            width:32,
            clickName:'calendar',
            height:32
        });
        row.add(calendar);

        var button = Ti.UI.createView({
            backgroundImage:'/images/custom_tableview/commentButton.png',
            top:35,
            right:5,
            width:36,
            clickName:'button',
            height:34
        });
        row.add(button);

        var date = Ti.UI.createLabel({
            color:'#999',
            font:{fontSize:13,fontWeight:'normal', fontFamily:'Arial'},
            left:105,
            bottom:5,
            height:20,
            width:100,
            clickName:'date',
            text:'posted on 3/11'
        });
        row.add(date);

        data.push(row);
    }

    //
    // create table view (
    //
    if (Ti.Platform.osname !== 'mobileweb') {
        tableView = Titanium.UI.createTableView({
            data:data,
            search:search,
            filterAttribute:'filter',
            backgroundColor:'white'
        });
    } else {
        tableView = Titanium.UI.createTableView({
            data:data,
            filterAttribute:'filter',
            backgroundColor:'white'
        });
    }

    tableView.addEventListener('click', function(e)
    {
        Ti.API.info('table view row clicked - source ' + e.source);
        // use rowNum property on object to get row number
        var rowNum = e.index;
        var updateRow;
        if (Ti.Platform.osname !== 'mobileweb') {
            updateRow = createUpdateRow('You clicked on the '+e.source.clickName);
            tableView.updateRow(rowNum,updateRow,{animationStyle:Titanium.UI.iPhone.RowAnimationStyle.LEFT});
        } else {
            updateRow = createUpdateRow('Row clicked');
            tableView.updateRow(rowNum,updateRow);
        }
    });

    win.add(tableView);

    return win;
};

module.exports = tv_layout2; 
```

# itextsharp - 使用 itextSharp 替换 pdf 文档中的文本

> ID：12776585
> 
> 赞同：0
> 
> 时间：2012-10-08T06:46:26.437
> 
> 标签：itextsharp

我想替换 PDF 文档中的特定文本。我目前正在使用`itextSharp`库来处理 PDF 文档。

我已经从中提取了字节`pdfdocument`，然后替换了该字节，然后用这些字节再次写入文档，但它不起作用。在下面的示例中，我尝试将字符串 1234 替换为 5678

任何有关如何执行此操作的建议都会有所帮助。

```
PdfReader reader = new PdfReader(opf.FileNames[i]);
byte[] pdfbytes = reader.GetPageContent(1);

PdfString oldstring = new PdfString("1234");
PdfString newstring = new PdfString("5678");
byte[] byte1022 = oldstring.GetOriginalBytes();
byte[] byte1067 = newstring.GetOriginalBytes();
int position = 0;
for (int j = 0; j <pdfbytes.Length ; j++)
{
    if (pdfbytes[j] == byte1022[0])
    {
        if (pdfbytes[j+1] == byte1022[1])
        {
            if (pdfbytes[j+2] == byte1022[2])
            {
                if (pdfbytes[j+3] == byte1022[3])
                {
                    position = j;
                    break; 
                }
            }
        }

    }

}

pdfbytes[position] = byte1067[0];
pdfbytes[position + 1] = byte1067[1];
pdfbytes[position + 2] = byte1067[2];
pdfbytes[position + 3] = byte1067[3];
File.WriteAllBytes(opf.FileNames[i].Replace(".pdf","j.pdf"), pdfbytes); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-08T15:25:02.113

是什么让您认为 1234 是页面内容流的一部分，而不是 XObject 表单的一部分？如果您不解析页面的所有资源，您的代码将永远无法正常工作。

另外：我看到了`GetPageContent()`，但我没有看到你`SetPageContent()`在任何地方使用。更改将如何存储在 PdfReader 对象中？

此外，我没有看到您使用`PdfStamper`将更改后的 PdfReader 内容写入文件。

最后：我不敢引用 Adob​​e 的 PDF 架构师 Leonard Rosenthol 的话，但问他，他会亲自告诉你，你不应该做你想做的事。PDF 不是一种编辑格式。阅读我在 iText 上写的书第 6 章的介绍：http: [//www.manning.com/lowagie2/samplechapter6.pdf](http://www.manning.com/lowagie2/samplechapter6.pdf)

# android - Android Circular 确定 ProgressBar

> ID：12776587
> 
> 赞同：44
> 
> 时间：2012-10-08T06:46:33.020
> 
> 标签：android, material-design, android-progressbar, material-components-android, progress-indicator

我想创建一个 Circluar Determinate ProgressBar，它在栏的中心显示进度。是否有任何默认方法来创建它，或者我必须创建自己的自定义方法。

* * *

## 回答 #1

> 赞同：62
> 
> 时间：2016-05-11T11:04:19.303

我已经在我的博客[demouts.com上写了关于](http://demonuts.com)[Android 循环进度条](https://demonuts.com/circular-progress-bar/)的详细示例，您也可以在那里查看完整的源代码和解释。

这是我在没有任何库的纯代码中制作带有圆圈内百分比的圆形进度条的方法。

[![在此处输入图像描述](../Images/86ca10a3e937bac36c8b08af2aadb81d.png)](https://i.stack.imgur.com/1TkWg.png)

首先创建一个名为的可绘制文件`circular.xml`

```
<?xml version="1.0" encoding="utf-8"?>

<layer-list xmlns:android="http://schemas.android.com/apk/res/android">
    <item android:id="@android:id/secondaryProgress">
        <shape
            android:innerRadiusRatio="6"
            android:shape="ring"
            android:thicknessRatio="20.0"
            android:useLevel="true">

            <gradient
                android:centerColor="#999999"
                android:endColor="#999999"
                android:startColor="#999999"
                android:type="sweep" />
        </shape>
    </item>

    <item android:id="@android:id/progress">
        <rotate
            android:fromDegrees="270"
            android:pivotX="50%"
            android:pivotY="50%"
            android:toDegrees="270">

            <shape
                android:innerRadiusRatio="6"
                android:shape="ring"
                android:thicknessRatio="20.0"
                android:useLevel="true">

                <rotate
                    android:fromDegrees="0"
                    android:pivotX="50%"
                    android:pivotY="50%"
                    android:toDegrees="360" />

                <gradient
                    android:centerColor="#00FF00"
                    android:endColor="#00FF00"
                    android:startColor="#00FF00"
                    android:type="sweep" />

            </shape>
        </rotate>
    </item>
</layer-list> 
```

现在在您`activity_main.xml` 添加以下内容：

```
 <?xml version="1.0" encoding="utf-8"?>
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:tools="http://schemas.android.com/tools"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:background="@color/dialog"
    tools:context="com.example.parsaniahardik.progressanimation.MainActivity">

    <ProgressBar

        android:id="@+id/circularProgressbar"
        style="?android:attr/progressBarStyleHorizontal"
        android:layout_width="250dp"
        android:layout_height="250dp"
        android:indeterminate="false"
        android:max="100"
        android:progress="50"
        android:layout_centerInParent="true"
        android:progressDrawable="@drawable/circular"
        android:secondaryProgress="100"
        />

    <ImageView
        android:layout_width="90dp"
        android:layout_height="90dp"
        android:background="@drawable/whitecircle"
        android:layout_centerInParent="true"/>

    <TextView
        android:id="@+id/tv"
        android:layout_width="250dp"
        android:layout_height="250dp"
        android:gravity="center"
        android:text="25%"
        android:layout_centerInParent="true"
        android:textColor="@color/colorPrimaryDark"
        android:textSize="20sp" />

</RelativeLayout> 
```

在`activity_main.xml`我使用了一张白色背景的圆形图像来显示百分比周围的白色背景。这是图像：

[![在此处输入图像描述](../Images/73f61dfb4e4605437faf22aa772543d9.png)](https://i.stack.imgur.com/O2SCP.png)

您可以更改此图像的颜色以设置百分比文本周围的自定义颜色。

现在最后添加以下代码`MainActivity.java`：

```
import android.content.res.Resources;
import android.graphics.drawable.Drawable;
import android.os.Handler;
import android.support.v7.app.AppCompatActivity;
import android.os.Bundle;
import android.view.animation.DecelerateInterpolator;
import android.widget.ProgressBar;
import android.widget.TextView;

public class MainActivity extends AppCompatActivity {

    int pStatus = 0;
    private Handler handler = new Handler();
    TextView tv;
    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);

        Resources res = getResources();
        Drawable drawable = res.getDrawable(R.drawable.circular);
        final ProgressBar mProgress = (ProgressBar) findViewById(R.id.circularProgressbar);
        mProgress.setProgress(0);   // Main Progress
        mProgress.setSecondaryProgress(100); // Secondary Progress
        mProgress.setMax(100); // Maximum Progress
        mProgress.setProgressDrawable(drawable);

      /*  ObjectAnimator animation = ObjectAnimator.ofInt(mProgress, "progress", 0, 100);
        animation.setDuration(50000);
        animation.setInterpolator(new DecelerateInterpolator());
        animation.start();*/

        tv = (TextView) findViewById(R.id.tv);
        new Thread(new Runnable() {

            @Override
            public void run() {
                // TODO Auto-generated method stub
                while (pStatus < 100) {
                    pStatus += 1;

                    handler.post(new Runnable() {

                        @Override
                        public void run() {
                            // TODO Auto-generated method stub
                            mProgress.setProgress(pStatus);
                            tv.setText(pStatus + "%");

                        }
                    });
                    try {
                        // Sleep for 200 milliseconds.
                        // Just to display the progress slowly
                        Thread.sleep(8); //thread will take approx 1.5 seconds to finish
                    } catch (InterruptedException e) {
                        e.printStackTrace();
                    }
                }
            }
        }).start();
    }
} 
```

如果你想制作水平进度条，点击这个链接，它有很多有价值的例子和源代码：
[http ://www.skholingua.com/android-basic/user-interface/form-widgets/progressbar](http://www.skholingua.com/android-basic/user-interface/form-widgets/progressbar)

* * *

## 回答 #2

> 赞同：44
> 
> 时间：2012-10-15T23:24:46.517

首先将 progress_circle.xml 添加到您的 res/drawable 目录，如下所示：

```
<?xml version="1.0" encoding="utf-8"?>
<layer-list xmlns:android="http://schemas.android.com/apk/res/android" >

<item android:drawable="@drawable/progress_circular_background"/>
<item>
    <shape
        android:innerRadiusRatio="3.4"
        android:shape="ring"
        android:thicknessRatio="6.0" >
        <gradient
            android:endColor="#ffffffff"
            android:startColor="#ffffff"
            android:type="sweep"
            android:useLevel="true" />
    </shape>
</item>
<item>
    <rotate
        android:drawable="@drawable/progress_particle"
        android:fromDegrees="0"
        android:pivotX="50%"
        android:pivotY="50%"
        android:toDegrees="360" />
</item>

</layer-list> 
```

我用谷歌搜索了“progress_particle.png”和“progress_circular_background.png”（带引号）的图像，因为这些的android默认drawables丢失了。您可能想要自定义这些，但它们会帮助您入门。

然后在您的 xml 布局中：

```
<ProgressBar
    android:id="@+id/timer_progress"
    style="?android:attr/progressBarStyleHorizontal"
    android:layout_width="200dp"
    android:layout_height="200dp"
    android:indeterminate="false"
    android:max="60"
    android:progressDrawable="@drawable/progress_circle" /> 
```

我的最大值是 60，因为我将它用于秒计时器，但你可能有不同的东西。

诀窍是你需要使用 style="?android:attr/progressBarStyleHorizo​​ntal" 即使它是一个循环进度。

* * *

## 回答 #3

> 赞同：8
> 
> 时间：2021-01-08T09:25:08.820

对于您问题的*确定*部分，[材料设计库](https://github.com/material-components/material-components-android/releases)现在支持确定的圆形进度条：

```
<com.google.android.material.progressindicator.CircularProgressIndicator
    android:layout_width="wrap_content"
    android:layout_height="wrap_content" /> 
```

有关更多信息，请参阅[此处](https://material.io/components/progress-indicators/android#using-progress-indicators)。

其他答案可能有助于如何在中心插入进度标签。

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2021-06-14T14:14:10.580

确定循环进度指示器的示例

```
<com.google.android.material.progressindicator.CircularProgressIndicator
  android:layout_width="wrap_content"
  android:layout_height="wrap_content"
  android:progress="75"
  app:indicatorColor="#FF0000"
  app:indicatorSize="100dp"
  app:trackColor="#D3D3D3"
  app:trackThickness="10dp" /> 
```

![](../Images/ae98f7970cf2d99707ca348d3bc4f0f9.png)

参考

*   [https://material.io/components/progress-indicators/android](https://material.io/components/progress-indicators/android)
*   [https://developer.android.com/reference/com/google/android/material/progressindicator/CircularProgressIndicator](https://developer.android.com/reference/com/google/android/material/progressindicator/CircularProgressIndicator)
*   [https://github.com/material-components/material-components-android](https://github.com/material-components/material-components-android)

# java - 两次之差总是返回 2 或更大

> ID：12776588
> 
> 赞同：0
> 
> 时间：2012-10-08T06:46:36.187
> 
> 标签：java, android, duration

我的应用程序中有 2 个事件。我需要他们两个之间的时间差，所以我使用这行代码将时间存储在 sharedpreferences 中：

```
public static void PutStatus(Context ctx,boolean stat)
{
        if (ctx != null)
        {
        SharedPreferences shr = ctx.getSharedPreferences("test", Context.MODE_WORLD_READABLE);
        shr.edit().putBoolean("SHIFT", stat).commit();
        if (stat) shr.edit().putLong("START_TIME", System.currentTimeMillis()).commit();
        }

} 
```

然后我使用这个计算两个日期和时间之间的差异：

```
SharedPreferences shr = getApplicationContext().getSharedPreferences("test", Context.MODE_WORLD_READABLE);
            long time_stamp = System.currentTimeMillis() -  shr.getLong("START_TIME", 0);
            Date data = new Date(time_stamp); 
```

分钟工作得很好，但时间提前了 2 小时。

为什么它与时区有任何联系？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-08T07:06:39.307

使用 Java 获得持续时间的正确方法有点复杂。您可以通过以下方式创建它：

```
import javax.xml.datatype.Duration;
import javax.xml.datatype.DatatypeFactory
...
Duration d = DatatypeFactory.newInstance().newDuration(time_stamp);
System.out.println(d.getHours() + "h:" + d.getMinutes() + "m: " + d.getSeconds() + "s"); 
```

有关文档，请参阅[Duration](http://developer.android.com/reference/javax/xml/datatype/Duration.html)和[DatatypeFactory](http://developer.android.com/reference/javax/xml/datatype/DatatypeFactory.html)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-08T07:00:25.900

我建议使用两个日期对象，例如

```
 int diffInDays = (newerDate.getTime() - olderDate.getTime()) / (1000 * 60 * 60 * 24) 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-08T06:51:36.280

If you need time interval, what about just doing some modulo computations? An hour is 3600 * 1000 milliseconds, day is 86400 * 1000\. When you create date this way, you are creating date object relative to 1.1.1970 UTC - this may be as well 2 hours off from timezone where your phone thinks to be.

# django - 模型中的关系问题

> ID：12776590
> 
> 赞同：0
> 
> 时间：2012-10-08T06:46:41.663
> 
> 标签：django, django-models

假设我有一个名为 items 的模型，它具有以下属性名称、大小等。现在我希望我在另一个表中指定这些项目属性名称，并在第三个表中指定值。

因此，每次我尝试上传任何项目时，它都会采用相应表格中指定的属性的值....

我已经尝试过以下方式

```
class item(models.Model):
    title           =models.CharField(max_length=100, blank=True , null=True)
    image           =models.ImageField(upload_to='images')
    size            =models.CharField(max_length=100, blank=True , null=True)
    price           =models.CharField(max_length=100, blank=True , null=True)
    def __unicode__(self):
            return unicode(self.id)

class item_attributes(models.Model):
    item            =models.ForeignKey(Upload_files, blank=True , null=True)
    Name            =models.CharField(max_length=100, blank=True , null=True)
    def __unicode__(self):
            return unicode(self.product)

class item_values(models.Model):
    product         =models.ForeignKey(Upload_files, blank=True , null=True)
    attributes      =models.ForeignKey(Product_attributes, blank=True , null=True)
    value           =models.CharField(max_length=100, blank=True , null=True)
    def __unicode__(self):
            return unicode(self.product) 
```

我希望你能理解我的问题，所以请建议我另一种简单的方法来做到这一点

# asp.net-mvc - 使用 ASP MVC 进行单元测试：Validator.TryValidateObject 始终返回 true

> ID：12776594
> 
> 赞同：1
> 
> 时间：2012-10-08T06:47:00.833
> 
> 标签：asp.net-mvc, unit-testing, validation

我正在尝试使用 Validator.TryValidateObject 验证 MVC 模型。这适用于生产模式，但不适用于单元测试代码。Validator.TryValidateObject 给我总是真实的。

代码部分：

在 Controller-Constructor 中，我注入了模型：

```
private IEmailModel model;  
public JoggenController(IEmailModel m)  
{  
 this.model = m;  
} 
```

在我验证模型的动作方法中，在生产模式下工作正常，isValid 是真还是假：

```
public ViewResult AddEmail(String email)  
{  
model.Email = email;  
var context = new ValidationContext(model, null, null);  
var list = new List<ValidationResult>();   
var isValid = Validator.TryValidateObject(model, context, list, true);              
 //... 
```

现在我将测试我的 AddEmail() 并使用这个测试代码：

```
var emailModel = new Mock<IEmailModel>();  
emailModel  
     .Setup(p => p.Email)  
     .Returns("xxx");  

var controller = new Controller(emailModel.Object);  

//should Faking ModelState.IsValid = false             
controller.ModelState.Add("testError", new ModelState());  
controller.ModelState.AddModelError("testError", "test");  

var result = controller.AddEmail("xxx") as ViewResult;      
//... 
```

如果我调试测试代码，var isValid = Validator.TryValidateObject 总是返回 true。有什么问题？

谢谢

# android - 如何处理 ENTER 键作为鼠标单击或在地图视图上的点击

> ID：12776597
> 
> 赞同：1
> 
> 时间：2012-10-08T06:47:18.713
> 
> 标签：android, maps

我正在开发一个基于 android 地图的应用程序。在触摸模式下一切正常。但是在键盘设备中我有一个有趣的问题！
在触摸模式下，当我点击地图上应用程序生成的新图层时，会出现一个显示一些信息的气球！但在键盘模式下我不能这样做！
我想知道是否有任何方法可以将 ENTER 键处理为鼠标左键单击或点击！

# java - 实施 SpongyCastle BouncyCastle JCEIESCipher

> ID：12776601
> 
> 赞同：0
> 
> 时间：2012-10-08T06:47:31.663
> 
> 标签：java, android, bouncycastle, spongycastle

我一直在玩 Spongy 和 Bouncycastle，但找不到一种方法来实现 Bouncycastle/Spongycastle JCEIESCipher 来加密/解密消息。

有谁知道如何以基本方式使用它？这将不胜感激。谢谢！

这是 javadoc 的链接。[http://www.bouncycastle.org/docs/docs1.5on/index.html](http://www.bouncycastle.org/docs/docs1.5on/index.html)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-08T17:50:01.883

这是答案，使用以下代码：

[https://github.com/bcgit/bc-java/blob/master/prov/src/test/java/org/bouncycastle/jce/provider/test/ECIESTest.java](https://github.com/bcgit/bc-java/blob/master/prov/src/test/java/org/bouncycastle/jce/provider/test/ECIESTest.java)

享受朋友

# java - 通过 hibernate.hbm2ddl.auto 创建具有更长文本字段的表格

> ID：12776602
> 
> 赞同：1
> 
> 时间：2012-10-08T06:47:31.927
> 
> 标签：java, sql-server, hibernate, hbm2ddl

我`hibernate.hbm2ddl.auto`用来创建我的表。

像这样创建我的专栏：

```
@Column(name = "foo", length = 8000)
private String foo; 
```

这将创建一个表和字段：`varchar(8000)`

**我需要的是，我可以`string`在那里节省超过 8000 元。像20000或更多。**

更改`length`高于时`8000`，它不会创建表。

手动更改字段时，它会说：

```
The size (20000) given to the column 'foo' exceeds the maximum allowed for 
any data type (8000). 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-08T11:40:51.953

建议对如此大的字符串列使用 Clob

@Lob 表示属性应该被持久化在 Blob 或 Clob 中，具体取决于属性类型：java.sql.Clob、Character[]、char[] 和 java.lang.String 将持久化在 Clob 中。java.sql.Blob、Byte[]、byte[] 和可序列化类型将被持久化在一个 Blob 中。

```
@Lob
public String getFullText() {
    return fullText;
}

@Lob 
public byte[] getFullCode() {
    return fullCode;
} 
```

如果属性类型实现了 java.io.Serializable 并且不是基本类型，并且如果属性没有使用@Lob 注解，则使用 Hibernate 可序列化类型。

在此处查看示例

[http://tonyyan.wordpress.com/2008/10/28/clob-and-blob-saved-through-hibernate/](http://tonyyan.wordpress.com/2008/10/28/clob-and-blob-saved-through-hibernate/)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-08T07:31:12.313

您可以尝试使用 columnDefinition="LONGVARCHAR" 而不是 length = 8000。如果与 org.hibernate.dialect.SQLServer2005Dialect 一起使用，它应该被转换为 varchar(max)，它能够支持长度最大为 2G 的字符串。

# iphone - Vertical SegmentController

> ID：12776606
> 
> 赞同：0
> 
> 时间：2012-10-08T06:48:13.020
> 
> 标签：iphone, ios, uisegmentedcontrol, uifont

> **Possible Duplicate:**
> [Can I show an UISegmentedControl object in vertical?](https://stackoverflow.com/questions/3490358/can-i-show-an-uisegmentedcontrol-object-in-vertical)

How to make a UIsegmentController vertical ,I tried using,

```
segmentedControl.transform = CGAffineTransformMakeRotation(M_PI / 2.0); 
```

but its make the segment control fonts to vertical.Can any one help me to code for vertical segmentcontrolbar?

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-08T06:58:19.930

用这个，

```
NSArray *arr = [segmentedControl subviews];
    for (int i = 0; i < [arr count]; i++) {
    UIView *v = (UIView*) [arr objectAtIndex:i];
    NSArray *subarr = [v subviews];
        for (int j = 0; j < [subarr count]; j++) {
            if ([[subarr objectAtIndex:j] isKindOfClass:[UILabel class]]) {
                UILabel *l = (UILabel*) [subarr objectAtIndex:j];
                l.transform = CGAffineTransformMakeRotation(- M_PI / 2.0);
            }
        }
    } 
```

请参阅[我可以垂直显示 UISegmentedControl 对象吗？](https://stackoverflow.com/questions/3490358/can-i-show-an-uisegmentedcontrol-object-in-vertical)

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-10-08T06:52:04.360

尝试以下代码并进行一些更改...

首先在 .m 文件顶部定义弧度，如下所示。

```
#define degreesToRadians(x) (M_PI * x / 180.0) 
```

在`viewDidLoad:`or之后`viewWillAppear:`，尝试下面的代码......

```
yoursegControl.transform = 
                CGAffineTransformRotate(segControl.transform, degreesToRadians(90)); 
```

**尝试Dropdawn List，这是给你的要求的输出**

嘿，如果您使用此 seg 控件的 Dropdawn 列表，那么它对您的要求也很有用，请参阅...

[http://code.google.com/p/dropdowndemo/downloads/list](http://code.google.com/p/dropdowndemo/downloads/list)

:)

# c# - nHibernate 具有相同标识符值的不同对象

> ID：12776608
> 
> 赞同：0
> 
> 时间：2012-10-08T06:48:13.370
> 
> 标签：c#, nhibernate, uniqueidentifier

我正在尝试保存一对多映射，nHibernate 会抛出此错误，因为它为`ordPsiPt`表的两个条目分配了相同的 ID。

我环顾四周，使用`Session.merge()`也不起作用。

这是类的映射：

```
<?xml version="1.0" encoding="utf-8"?>
<hibernate-mapping assembly="FrancosPoS" namespace="FrancosPoS.DBMapping" xmlns="urn:nhibernate-mapping-2.2">
  <class name="ordPsiPt" table="ord_psi_pt" lazy="true" >
    <id name="idOrdPastaIT">
        <generator class="identity" />
    </id>
    <many-to-one lazy="false" name="ordPsi">
      <column name="idOrdPastaI" sql-type="int(11)" not-null="true" />
    </many-to-one>
    <many-to-one lazy="false" name="pastaTopping">
      <column name="idPastaT" sql-type="int(11)" not-null="true" />
    </many-to-one>
    <property name="amount">
      <column name="Amount" sql-type="varchar(50)" not-null="true" />
    </property>
  </class>
</hibernate-mapping> 
```

order_psi：

```
<?xml version="1.0" encoding="utf-8"?>
<hibernate-mapping assembly="FrancosPoS" namespace="FrancosPoS.DBMapping" xmlns="urn:nhibernate-mapping-2.2">
  <class name="ordPsi" table="ord_psi" lazy="true" >
    <id name="idOrdPastaI">
      <generator class="identity" />
    </id>
    <many-to-one lazy="false" name="order">
      <column name="idOrder" sql-type="int(11)" not-null="true" />
    </many-to-one>
    <many-to-one lazy="false" name="pastaIndividual" class="pastaIndividual">
      <column name="idPastaI" sql-type="int(11)" not-null="false" />
    </many-to-one>
    <property name="obs">
      <column name="obs" sql-type="varchar(50)" not-null="false" />
    </property>
    <property name="price">
      <column name="price" sql-type="decimal(8,4)" not-null="true" />
    </property>

    <bag name="ordPsiPt" table="ordPsiPt" cascade="save-update" inverse="true">
      <key column="idOrdPastaIT"/>
      <one-to-many class="ordPsiPt"/>
    </bag>

  </class>
</hibernate-mapping> 
```

命令：

```
<?xml version="1.0" encoding="utf-8"?>
<hibernate-mapping assembly="FrancosPoS" namespace="FrancosPoS.DBMapping" xmlns="urn:nhibernate-mapping-2.2">
  <class name="order" table="`order`" lazy="true" >
    <id name="idOrder">
      <generator class="identity" />
    </id>
    <property name="price">
      <column name="price" sql-type="decimal(8,4)" not-null="true" />
    </property>
    <property name="cash">
      <column name="cash" sql-type="tinyint(1)" not-null="false" />
    </property>
    <property name="credit">
      <column name="credit" sql-type="tinyint(1)" not-null="false" />
    </property>
    <property name="obs">
      <column name="obs" sql-type="varchar(350)" not-null="false" />
    </property>

    <bag name="orderPsi" table="ordPsi" cascade="all" inverse="true">
      <key column="idOrdPastaI"/>
      <one-to-many class="ordPsi"/>
    </bag>

  </class>
</hibernate-mapping> 
```

该包采用`IList`cs 映射。

当我`SaveOrUpdate()`使用 order 对象调用时，在一个 orderPsi 中有两个 orderPsiPt（仅作为示例），我收到了关于标识符的错误。

我尝试`conn.Session.Merge(order.orderPsi[0].ordPsiPt[1]);`仅用于此示例，但也没有成功。

如果有帮助，这里是两个 ordPsiPt 的手表：http: [//db.tt/2wNWldyd](http://db.tt/2wNWldyd)

我也试过看看这个：

[http://ayende.com/blog/4282/nhibernate-cross-session-operations](http://ayende.com/blog/4282/nhibernate-cross-session-operations)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-09T20:46:19.593

没关系。我发现我的数据库映射错误。我已经更新了映射并忘记编辑真实的表格。

表 ordPsiPt 是这样的：

[旧表](http://db.tt/yipQpNE2)

应该是这样，以匹配我的新映射，如上所述：

[新表](http://db.tt/9Lm34Zk9)

在数据库上修复表后，第一枪一切顺利！

# c# - 在 C# 中使用 linq 更新 xml

> ID：12776612
> 
> 赞同：1
> 
> 时间：2012-10-08T06:48:36.343
> 
> 标签：c#, xml, linq, c#-4.0, updates

我是.net 初学者。

我正在尝试使用 linq更新我的[**xml 文件。**](http://ideone.com/OnpgJ)

我被困在它的第一点，即我无法使用 linq 从 xml 文件中获取值。

这些是我在代码中使用的控件：

```
cbBrandName -- combobox
cbProduct   -- combobox
txtQuantity -- TextBox 
```

我正在尝试以下代码：

```
XElement doc = XElement.Load(@"..\..\stock.xml");
string quantity = doc.Descendants("quantity")
                  .Select(y => y.Element("quantity").Value.Equals(txtQuantity.Text))
/*red scribbles to 'Element' in 'where'*/ 
                  .Where(x => x.Element("productname").Value.Equals(cbProduct.Text) &&
                  x.Element("brandname").Value.Equals(cbBrandName.Text)).ToString();
MessageBox.Show(quantity.ToString()); 
```

在这里，我试图将“数量”值存储在`quantity`字符串中，以便以后可以对其进行操作，然后再次更新到我的 xml 文件。

当我`.select`发表评论时，它没有显示任何错误，但是当我运行它时，它`system.linq.Enumerable + .....`在 MessageBox 中显示一些而不是文本。

编辑：

![在此处输入图像描述](../Images/8bb87887ddf08b1b1dc8a29746858b45.png)

当我`.toString()`最后给它的时候。它显示错误 - “对象引用未设置为对象的实例。” 当我运行它时。

请帮助
提前致谢。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-10-08T06:55:52.860

```
XElement doc = XElement.Load(AppDomain.CurrentDomain.BaseDirectory + "/App_Data/XMLFile.xml");
        string quantity = doc.Descendants("items")
        .Select(y => y.Element("quantity").Value)
        .Where(x => x.Element("productname").Value.Equals(cbProduct.text) && x.Element("brandname").Value.Equals(cbBrandName.text))
        .Single().Element("quantity").Value; 
```

**这可以**

**更新 XML 值**

```
 doc.Descendants("items")
    .Where(x => x.Element("productname").Value.Equals(cbProduct.Text) && x.Element("brandname").Value.Equals(cbBrandName.Text))
    .Single().Element("quantity").SetValue(quantity);
        doc.Save(AppDomain.CurrentDomain.BaseDirectory + "/App_Data/XMLFile.xml"); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-08T06:51:26.437

它返回您看到的文本，因为它返回的是元素集合，而不是单个元素。如果你只想要一个元素，你可以尝试使用

```
YourCollection.FirstOrDefault() 
```

方法为例。

在你的情况下：

```
XElement doc = XElement.Load(@"..\..\stock.xml");
var quantity = doc.Descendants("quantity")
              .Select(y => y.Element("quantity").Value.Equals(txtQuantity.Text))
/*red scribbles to 'Element' in 'where'*/ 
              .Where(x => x.Element("productname").Value.Equals(cbProduct.Text) &&
              x.Element("brandname").Value.Equals(cbBrandName.Text)).FirstOrDefault();
MessageBox.Show(quantity.ToString()); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-08T06:53:51.133

您需要从集合中获取一个元素，因为`linq`返回“过滤”元素的集合（即使它只包含一个元素）。为此，您可以选择：`First()`、、、、、、`FirstOrDefault()`SingleOrDefault () `Last()`` `LastOrDefault()`。`Single()`

`First()`和之间的区别在于如果序列不包含元素，`FirstOrDefault()`第一个将抛出，第二个将返回集合元素的默认值（对于字符串）`ArgumentNullException``null`

在您的示例中：

```
XElement doc = XElement.Load(@"..\..\stock.xml");
string quantity = doc.Descendants("quantity")
                  .Select(y => y.Element("quantity").Value.Equals(txtQuantity.Text))
/*red scribbles to 'Element' in 'where'*/ 
                  .Where(x => x.Element("productname").Value.Equals(cbProduct.Text) &&
                  x.Element("brandname").Value.Equals(cbBrandName.Text))
                  .First();
MessageBox.Show(quantity.ToString()); 
```

# jquery - Get data with jQuery

> ID：12776613
> 
> 赞同：0
> 
> 时间：2012-10-08T06:48:46.420
> 
> 标签：jquery

I have two text fields on different pages. One text field with the id `a`is on `page 1` and second text field with the id `b` is on `page 2`. I want to know how can I get data from 1st text field and put it into 2nd text field with jQuery.

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-08T06:55:21.113

导航时，您需要将值从一页转移到另一页。您可以通过 url 参数执行此操作，并且可以通过 URL 访问它们。

这是一个示例：第 1 页 HTML：

```
<a id="link" href="#">Link</a>
<input type="text" id="a" value="some value" /> 
```

第 1 页 JS：

```
$('#link').click(function (event) {
    $(this).attr('href', 'page2.html?text=' + $('#a').val());
}); 
```

第 2 页： [有关如何提取 URL 参数的信息，请参阅这篇文章。](https://stackoverflow.com/questions/1403888/get-url-parameter-with-jquery)

# html - 当我在 safari 和 IE8 中看到 768 分辨率的视频时出现 z-index 问题

> ID：12776614
> 
> 赞同：1
> 
> 时间：2012-10-08T06:48:50.930
> 
> 标签：html, ipad, css, safari

现在我在 Ie8 和 safari 浏览器中遇到了视频 z-index 问题。

[在此处输入链接描述](http://www.creativecorp.in/tcg/index.html)

当我以 760 分辨率查看此页面视频时，即使我使用了 z-index reduce，它也没有任何属性。如果您想查看问题，请上下滚动，但请查看 760 分辨率并让我知道任何解决方案。

提前致谢

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-08T06:58:56.217

是的，我知道这个 youtube 视频错误，只需添加`?wmode=transparent`您的 url，它就会解决这个问题：[**fiddle**](http://jsfiddle.net/S9PuP/1/)

所以现在你的网址看起来像这样

`http://www.youtube.com/embed/qcYx4SCYRVU?wmode=transparent`

# file-upload - Filebrowser showing IOError while uploading files(images,docs etc.......)

> ID：12776616
> 
> 赞同：1
> 
> 时间：2012-10-08T06:49:47.077
> 
> 标签：file-upload, content-management-system, django-templates

In django CMS project...i used filebrowser for file uploading .But Filebrowser showing IOError while uploading files in django python 1.4.1. Anyone who solved this one ,please answer or give me any solution. While uploading images or documents using filebrowser the image/document is uploaded but always showing error....

# frameworks - Mac 应用程序在启动时崩溃，链接框架未捆绑

> ID：12776617
> 
> 赞同：0
> 
> 时间：2012-10-08T06:49:49.120
> 
> 标签：frameworks, nsbundle, mac-app-store

（编辑：我能够捆绑框架，但它仍然不会采用更改后的安装目录。因此，下面的问题已更改为“未找到链接和捆绑的框架图像”）

Mac 应用程序已提交给 MAS，但被 Apple 拒绝，原因非常合理：链接的框架未捆绑。

我只是询问如何确保它正确包含在捆绑包中，并在再次提交之前在我的 Mac 上确认。

请让我知道您需要我提供什么/任何额外信息。

编辑：遵循 subzero 的说明后的更多信息。

当进行产品 > 构建时，.app 文件最终位于我机器上的 Documents/build/Release 中。

这是我的构建阶段的外观 - [https://dl.dropbox.com/u/19155207/copyframeworks.jpg](https://dl.dropbox.com/u/19155207/copyframeworks.jpg)

并且 UIKit.Framework*文件夹*位于 WinKonto.app/Contents/Frameworks 内，其中包含：[https ://dl.dropbox.com/u/19155207/frameworksfolder.jpg](https://dl.dropbox.com/u/19155207/frameworksfolder.jpg)

如果我从 Releases 文件夹运行它，它仍然会给出相同的错误。只有当我从 XCode 运行它时它才能工作。你能看出有什么不对吗？

编辑 2：我已将框架文件 (UIKit) 放入包中。

这是崩溃报告错误消息：

> Dyld 错误消息：未加载库：Frameworks/UIKit.framework/Versions/A/UIKit 引用自：/Users/henrikerlandsson/Documents/build/Release/WinKonto.app/Contents/MacOS/WinKonto 原因：找不到图像

但是框架在捆绑包中，并且在添加到项目之前由 install_name_tool 修改。

我不知道为什么那个修改不起作用，但我把它变成了一个私有框架，而是改变了那里的安装目录，它起作用了（见我的回答）。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-08T07:04:52.377

在 XCode 中，

1.  将 Copy Files 构建阶段添加到应用程序的目标
2.  将其移到 Link 阶段上方，将其目标设置为 myApp.app/Contents/Frameworks 并将框架添加到其中。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-17T06:52:54.410

我把它变成了一个私有框架。我按照[Embedding a Private Framework in Your Application Bundle](https://developer.apple.com/library/mac/#documentation/MacOSX/Conceptual/BPFrameworks/Tasks/CreatingFrameworks.html)下的说明进行操作，这让我可以将框架的安装目录正确设置到它在包中出现的位置。

# c# - Read data from DataGridView and save to database

> ID：12776618
> 
> 赞同：3
> 
> 时间：2012-10-08T06:49:53.287
> 
> 标签：c#

I want to save the data from datagrid to database, I used the following code.

```
 foreach (DataGridViewRow r in dataGridView_displaycount.Rows)
        {
            SqlCommand cmd = new SqlCommand("insert into StocktransferlocationDetails(date,stocktransferlocation,Itemcode,Count,Description) values(@date,@stocktransferlocation,@Itemcode,@Count,@Description) ", con);

            cmd.Parameters.AddWithValue("@date",System.DateTime.Now);
            cmd.Parameters.AddWithValue("@stocktransferlocation", comboBox_locationfrom.SelectedText+"-"+comboBox_locationto.SelectedText);
            cmd.Parameters.AddWithValue("@Itemcode", r.Cells[1].Value.ToString());
            cmd.Parameters.AddWithValue("@Count", r.Cells[2].Value.ToString());
            cmd.Parameters.AddWithValue("@Description", r.Cells[3].Value.ToString());
            cmd.ExecuteNonQuery();
        } 
```

Here my problem is the datagrid contains the empty row at the last. So I write the data and when it comes to the empty row it throws me an error.

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-08T07:05:39.167

为什么在这里使用**foreach**循环？

使用**for**循环，例如：

```
for(int i=0; i<dataGridView_displaycount.Rows.Count-1; i++)
{
   //Your code
} 
```

这应该是解决您的问题而不是任何其他代码更改的简单解决方案。

**更新：**将 gridview 数据添加到数据库：

```
for(int i=0; i< dataGridView_displaycount.Rows.Count-1;i++)
 {
    Strquery= @"Insert into StocktransferlocationDetails(date,stocktransferlocation,....) values (" 
                + System.DateTime.Now +", "+ comboBox_locationfrom.SelectedText+"-"+comboBox_locationto.SelectedText +"," 
                + dataGridView_displaycount.Rows[i].Cells[1].Value +".......);";
    cmd.CommandText = Strquery;
    cmd.ExecuteNonQuery();
 } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-08T07:07:43.143

你可以试试这个最后一行：

```
cmd.Parameters.AddWithValue("@Description", r.Cells[3].Value ?? DBNull.Value); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-08T07:05:14.563

尝试检查空值，如下面的代码所示：

```
foreach (DataGridViewRow r in dataGridView_displaycount.Rows)
{
    SqlCommand cmd = new SqlCommand("insert into StocktransferlocationDetails(date,stocktransferlocation,Itemcode,Count,Description) values(@date,@stocktransferlocation,@Itemcode,@Count,@Description) ", con);

    cmd.Parameters.AddWithValue("@date", System.DateTime.Now);
    cmd.Parameters.AddWithValue("@stocktransferlocation", comboBox_locationfrom.SelectedText + "-" + comboBox_locationto.SelectedText);

    if (r.Cells[1] != null && r.Cells[1].Value != null)
        cmd.Parameters.AddWithValue("@Itemcode", r.Cells[1].Value.ToString());
    if (r.Cells[2] != null && r.Cells[2].Value != null)
        cmd.Parameters.AddWithValue("@Count", r.Cells[2].Value.ToString());
    if (r.Cells[3] != null && r.Cells[3].Value != null)
        cmd.Parameters.AddWithValue("@Description", r.Cells[3].Value.ToString());

    cmd.ExecuteNonQuery();
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-08T06:51:21.803

You Can Use for Like This :

```
For(int row=0;row<datagridview.rows.count;row++)

{
//Do Work
} 
```

# php - 在 Mysql 表中搜索带有或不带有前导空格的名称

> ID：12776619
> 
> 赞同：2
> 
> 时间：2012-10-08T06:49:54.097
> 
> 标签：php, mysql, sql

我有一张表，其中有些名称带有前导空格，有些名称没有。

我有一个变量`$name`，我必须与表中的名称匹配，`$name`它没有前导空格。在这种情况下，我应该如何编写查询？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-08T06:51:25.937

修剪每个值的前导和尾随空格。

```
SELECT *
FROM tableName
WHERE TRIM(colName) = '$name' 
```

`TRIM`修剪前导和尾随
`LTRIM`修剪前导空格
`RTRIM`修剪尾随空格

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-08T07:12:50.367

我建议使用`SELECT * FROM tableName WHERE colName = '$name' Or colName = concat(' ' , '$name')` . 主要原因是索引的使用：如果您对计算列进行过滤，`ltrim(colName)`则数据库引擎不能在 colName 上使用任何索引。我的建议是允许在 colName 上使用索引。

# javascript - 我可以将参数类型指定为多种类型之一，而不是 TypeScript 中的任何类型吗？

> ID：12776625
> 
> 赞同：50
> 
> 时间：2012-10-08T06:50:36.657
> 
> 标签：javascript, typescript

在 TypeScript 的方法声明中，参数可以是字符串、布尔值或数字的数组类型。我是否必须将其声明为 any[] 还是有办法将输入类型限制为这三种类型中的一种？

* * *

## 回答 #1

> 赞同：87
> 
> 时间：2015-08-28T05:21:11.610

Typescript 1.4 引入了[Union Types](https://devblogs.microsoft.com/typescript/announcing-typescript-1-4/)所以现在的答案是***肯定的，你可以***。

```
function myFunc(param: string[] | boolean[] | number[]): void; 
```

使用指定类型以外的其他类型将触发编译时错误。

* * *

如果你想要一个包含多个特定类型的数组，你也可以使用联合类型：

```
function myFunc(param: (string|boolean|number)[]): void; 
```

*请注意，这与 OP 要求的不同。这两个例子有不同的含义。*

* * *

## 回答 #2

> 赞同：9
> 
> 时间：2015-05-14T09:56:36.657

这似乎是一个老问题，但无论如何，我遇到了它，并错过了我带来的另一个答案。

从 TypeScript 1.4 开始，似乎可以为函数参数声明多种可能的类型，如下所示：

```
class UtilsClass {
    selectDom(element: string | HTMLElement):Array<HTMLElement> {
        //Here will come the "magic-logic"
    }
} 
```

这是因为“联合类型”的新 TypeScript 概念。

[你可以在这里](https://web.archive.org/web/20180109110246/https://www.sitepen.com/blog/2013/12/31/definitive-guide-to-typescript/#union-types)看到更多。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-10-08T07:07:36.357

您可以使用函数重载来执行此操作：

```
class Thing {
    public foo(x: number[]);
    public foo(x: bool[]);
    public foo(x: string[]);
    public foo(x: any[]) {
       // Note: You'll have to do type checking on 'x' manually
       // here if you want differing behavior based on type
    }
}

// Later...
var t = new Thing();
t.foo(someArray); // Note: External callers will not see the any[] signature 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-10-08T07:21:12.373

解决这个问题的另一种方法是找到输入类型之间的通用方法和属性，并在方法声明中声明一个内联类型，以保存这些通用方法和属性。像这样：

```
methodName(param1: { prop1: number; prop2: string; }, param2: { propA: bool; propB: string; } ): methodResultType; 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-10-08T07:08:11.317

由于字符串、布尔值和数字是原始类型，我认为没有简单的方法。如果您将使用一组不同的对象类型，您可能会想出一个超类，然后在您的方法的接口中指定该超类。另一方面，您也可以使用方法重载来为字符串、布尔值和整数数组指定不同的实现。

# ios - xcode running well on simulator but when deploy to ios 6 encounter error

> ID：12776630
> 
> 赞同：0
> 
> 时间：2012-10-08T06:50:59.600
> 
> 标签：ios, xcode

2012-10-08 14:48:14.579 sageby[2716:907] *** Terminating app due to uncaught exception 'NSInvalidArgumentException', reason: '-[SBJsonParser errorTrace]: unrecognized selector sent to instance 0x1fda4660' *** First throw call stack: (0x352412a3 0x34a1397f 0x35244e07 0x35243531 0x3519af68 0x12932f 0x1293a7 0x12cda3 0x12c9b1 0x12c753 0x12aac7 0x12e567 0x12eac3 0x3a26bef5 0x3a1ab9f1 0x3a1ab90d 0x384ba5df 0x384b9ccb 0x384e2133 0x3518774d 0x384e2593 0x3844615d 0x35216683 0x35215ee9 0x35214cb7 0x35187ebd 0x35187d49 0x35ef02eb 0x37dcd301 0xaaaf1 0x39e0cb20) libc++abi.dylib: terminate called throwing an exception (lldb)

* * *

```
//MBProgressHUD 
    MBProgressHUD *hud=[MBProgressHUD showHUDAddedTo:self.view animated:YES];
    hud.labelText=@"Accessing account..";
    hud.labelFont=[UIFont fontWithName:@"Arial Rounded MT Bold" size:14];

            //URL GETTING
            NSString *phpfile=[[NSString alloc]initWithFormat:@"http://dev.xxxx.com/pxxx/Module_MyPxxx/json_xxxx_xxx_info.php"];
            NSString *param_str=[[NSString alloc]initWithFormat:@"email=%@", mydelegate.overall_email];
            NSString *receivedDataAsString=[mydelegate phpConnection:param_str :phpfile];

            SBJsonParser *parser=[[SBJsonParser alloc]init];
            NSError *error=nil;
            self.dic_user_info=[[parser objectWithString:receivedDataAsString error:&error]objectAtIndex:0];
            if(error)
            {
                NSLog(@"JSON Parser error! Reason: %@", error.localizedDescription);
            }

            //URL GETTING
            phpfile=[[NSString alloc]initWithFormat:@"http://dev.xxx.com/pxxx/Module_MyPxxx/json_get_xxx_xxx_pxxx.php"];
            param_str=[[NSString alloc]initWithFormat:@"email=%@", mydelegate.overall_email];
            receivedDataAsString=[mydelegate phpConnection:param_str :phpfile];

            parser=[[SBJsonParser alloc]init];
            error=nil;
            self.array_polls=[parser objectWithString:receivedDataAsString error:&error];
            if(error)
            {
                NSLog(@"JSON Parser error! Reason: %@", error.localizedDescription);
            }

        [self.tableView reloadData];
        [MBProgressHUD hideHUDForView:self.view animated:YES]; 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-09T12:44:34.217

嗨，我是该应用程序的开发人员。

问题是在 Xcode 4.5 上运行是正确的，但只是在 iphone 设备上运行它不会工作..

# android - Integrating Unity and Eclipse

> ID：12776641
> 
> 赞同：0
> 
> 时间：2012-10-08T06:51:36.593
> 
> 标签：android, unity3d

I've struggled integrating Unity and Android in Eclipse. I was following [these steps.][1]

Importing the unity project as a library, compiler tells me there is no a file in my Android project: com.unity3d.player.unityplayerproxyactivity.jar

Error: The container 'Android Dependencies' references non existing library 'D:\Work\Unity Projects\Tutorials\UnityProjectLibaray\StagingArea\bin\com.unity3d.player.unityplayerproxyactivity.jar'

Help me. I would appreciate it.

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-08T07:15:04.780

您是否考虑过在 Asset Store 中使用 Unity2Eclipse 插件？

# android - 如何在 android 中使用 opengl 绘制 2d 和 3d 文本？

> ID：12776644
> 
> 赞同：1
> 
> 时间：2012-10-08T06:51:53.270
> 
> 标签：android, opengl-es

首先对我的英语感到抱歉。

我通过参考以下链接开始在 android 中学习 opengl [http://developer.android.com/guide/topics/graphics/opengl.html](http://developer.android.com/guide/topics/graphics/opengl.html)

以及通过参考这些链接 [http://developer.android.com/training/graphics/opengl/draw.html来绘制形状](http://developer.android.com/training/graphics/opengl/draw.html)

[http://obviam.net/index.php/opengl-es-android-displaying-graphical-elements-primitives/](http://obviam.net/index.php/opengl-es-android-displaying-graphical-elements-primitives/)

现在我转向在 android 中使用 opengl 绘制 2d 和 3d 文本，但找不到一个完美的链接来提供绘制 2d 和 3d 文本的解决方案。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-08T07:06:12.237

如果您希望文本位于 OpenGL 可视区域之外，则可以将 GLSurfaceView 放置在布局中，并将文本放在其他控件中。这是最简单的选择。

*要在*GLSurfaceView 中放置文本，您可以将单个字符绘制为 3D 对象并适当放置它们，或者使用您想要的文本创建一个位图，并将其用作您在场景中绘制的平面的纹理。

# ruby-on-rails - RVM 和 Rails (3.2) 路径问题 OSX

> ID：12776649
> 
> 赞同：0
> 
> 时间：2012-10-08T06:52:10.553
> 
> 标签：ruby-on-rails, rvm

我在 OSx 10.7.4 上安装了 rails 和 RVM

如果我这样做

```
$ cd ~/
$ rails -v 
```

我明白了

```
$ Rails 3.2.3 
```

现在，如果我进入 Rails 应用程序

```
$ cd ~/rails-project/
Using ~/.rvm/gems/ruby-1.9.2-p320 with gemset ourgemset 
```

rails 应用程序中的 .vmrc 文件如下所示

```
rvm use --create 1.9.2@ourgemset 
```

但是，当我现在尝试使用 rails 时，我得到了

```
$ rails -v
Rails is not currently installed on this system. To get the latest version, simply type:

sudo gem install rails

You can then rerun your "rails" command. 
```

我的 ~/.bash_profile 在它的末尾有这一行（并且这些脚本存在）

```
[[ -s "$HOME/.rvm/scripts/rvm" ]] && . "$HOME/.rvm/scripts/rvm" # Load RVM function 
```

我不知道为什么会发生这种情况或在哪里解决它。

**编辑：**

如果我执行以下操作，则进一步调查

```
$ rvm use default
Using ~/.rvm/gems/ruby-1.9.3-p194 with gemset anothergemset 
```

现在导轨工作正常。如果我切换回

```
$rvm use ruby-1.9.2-p320 
```

我不能再使用导轨了。帮助！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-08T07:24:59.897

您的全局环境具有 Rails，但您的 gemset 不包含 rails gem。因此，当您`cd ~/rails-project/`运行命令时：

```
gem install rails 
```

它会将 gem 安装到您的 rvm gemset 中。

# java-me - （J2ME 波兰语）点击手势以支持触摸屏

> ID：12776651
> 
> 赞同：0
> 
> 时间：2012-10-08T06:52:37.607
> 
> 标签：java-me, j2mepolish

我试图遵循这一点，但没有运气。我用的是treeItem或者Choicegroup，可以选择但不能点击，比如点击后会跳转到下一页。

我不想使用 X 和 Y，因为我的 Item 是动态的，它是通过 XML 生成的。因此，项目位置将被更改。我想要一个特定项目的触摸指针，比如我使用的选择组。

[http://www.enough.de/products/j2me-polish/documentation/lush-ui/touch-support.html#gesture-click](http://www.enough.de/products/j2me-polish/documentation/lush-ui/touch-support.html#gesture-click)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-05-12T07:44:12.367

您有 Choicegroup 并且您希望在单击项目时它应该转到下一页：您可以使用：

```
choicegroupname.addCommand(command of Command.OK type, say commandOpen); 
```

然后，您可以将 setItemCommandListener 设置为 commandOpen，在 commandAction 中您可以遍历选择组，以便获得重点索引并在那里执行代码，然后中断。希望这会有所帮助。

你可以这样做：

```
 commandOpen.setItemCommandListener(new ItemCommandListener() {
        public void commandAction(Command cmd, Item arg1) {
            //size will be count of items
            for(int i=0 ; i < size ; i++){
                if(choicegroupname.focusedIndex== i){
                    //Do your code
                    return;
                }
            }
        }
    }); 
```

# sql - 为指定月份的每一天选择最高值

> ID：12776652
> 
> 赞同：2
> 
> 时间：2012-10-08T06:52:39.023
> 
> 标签：sql, database, sql-server-2008

如果这个问题很愚蠢，我很抱歉，因为我是 SQL Server 的新手。我想为指定月份的每一天选择前 5 条记录。例如

```
top 5 records for day 1 in month september
top 5 records for day 2 in month september
top 5 records for day 3 in month september
.
.
top 5 records for day 31 in month september 
```

并将这些所有记录显示为一个结果。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-08T07:18:54.543

假设您正在检查 2012 年 6 月的超速记录，并且您想要前 5 种速度（按速度`desc`）。

```
SELECT *
  FROM (
    SELECT *, RowNum = Row_number() over (partition by Cast(EventTime as Date)
                                          order by Speed desc)
      FROM Events
     WHERE EventTime >= '20120601'
       AND EventTime <  '20120701'
  ) X
 WHERE RowNum <= 5 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-08T06:56:52.560

试试这个，

```
WITH TopFiveRecords
AS
(
    SELECT  *,
            ROW_NUMBER() OVER (PARTITION BY dayColumn ORDER BY colName DESC) RN
    FROM tableName
)
SELECT  *
FROM TopFiveRecords
WHERE RN <= 5 
      -- AND date condition here .... 
```

`dayColumn`包含月份日期的
`colName`列 要排序的列

# javascript - 如何开始使用 NodeJS Web 应用程序？

> ID：12776654
> 
> 赞同：0
> 
> 时间：2012-10-08T06:52:42.910
> 
> 标签：javascript, node.js, event-handling

我是一名 Java/JavaScript 开发人员，现在想转向 NodeJS 来开发 Web 应用程序。我已经阅读了几个教程，但对如何开始开发感到非常困惑。我找不到任何端到端的应用程序，其中提到了节点的每个方面，例如模型视图和控制器。由于缺乏示例程序和正确的路径，我无法开始。我还有一个问题，是否可以使用 Node.js 制作桌面应用程序。请向我指出适当的教程，这些教程显示了端到端开发模式以及所有其他必要的资源，以便更轻松地开始使用 Node 进行开发。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-08T21:27:09.000

从阅读 node.js 开始。[Mixu 的 Node.js book](http://book.mixu.net/)是一本不错的入门免费书籍。重点关注第 1 章到第 8 章的基础知识。

除了了解 Node.js 事件模型所需的 JavaScript 基础知识之外，您在开始时可能会遇到回调地狱，因此请注意本书的第 7 章。

本书第 8 章将讨论安装 npm 包和 package.json。这些东西很重要，如果你想使用节点包，或者打包你的 node.js 应用程序以进行部署，它们会派上用场。

一旦你掌握了基础知识，你就可以考虑使用[Express](http://expressjs.com/)框架开发 Web 应用程序。对于单元测试，您可以使用[mocha](http://visionmedia.github.com/mocha/)框架

我喜欢通过编写单元测试来进行实验，因此在学习阶段，首先编写简单的单元测试来测试 node.js API。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-08T08:34:38.177

试试[ExpressJs](http://expressjs.com/)

API 和一些教程在现场。

如果您想立即开始编码，请查看[github 上的代码示例](https://github.com/visionmedia/express/tree/master/examples)，它们涵盖了 webapp 的所有基本部分。

# c++ - 输出到控制台重叠

> ID：12776656
> 
> 赞同：0
> 
> 时间：2012-10-08T06:53:01.037
> 
> 标签：c++, cygwin, vi

> **可能重复：**
> [从文本文件中读取直到 EOF 重复最后一行](https://stackoverflow.com/questions/21647/reading-from-text-file-until-eof-repeats-last-line)

我的 c++ 程序的 cout 输出打印到控制台但重叠。

例如：

```
while(pFile.good()){

  getline (pFile, pLine);
  cout<<pLine; 
} 
```

此代码打印最后一行，以及前一行的一些剩余部分。

我在cygwin上使用vi。这件事突然发生了。我是否更改了某些设置？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-08T06:55:12.000

`getline()`丢弃它遇到的任何换行符。为了防止您的代码将所有行合并为一个大行，您需要这样做：

```
cout << pLine << endl; 
```

正如克里斯指出的那样，您也应该使用`getline()`作为您的`while`条件。否则，流现在可能被认为是“好”的，但是当您调用`getline()`. 所以试试这个循环：

```
while (getline(pFile, pLine)) {
    cout << pLine << endl;
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-08T06:55:28.917

在这里你写在同一行，因为 getline 只是丢弃换行符，这就是你必须写的原因`<<endl`

```
 while(pFile.good()){

      getline (pFile, pLine);
      cout<<pLine<<endl; 
    } 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-08T08:07:12.500

最后一行打印两次的原因是因为您上次调用 getline() 失败，但您仍然打印`pLine`（即使其内容未定义）。

```
while(pFile.good()){

  getline (pFile, pLine);  // What happens if this line fails.
                           // Like when you read **past** the end of file.
  cout<<pLine; 
} 
```

您的代码的正确版本是：

```
while(pFile.good()){

  if (getline (pFile, pLine))
  {    cout<<pLine;
  } 
} 
```

但这通常写成：

```
while(getline (pFile, pLine))
{
   // The loop is only entered if the read worked.
   cout<<pLine; 
} 
```

请记住，对 getline() 的最后一次成功调用读取**到**但不超过行尾。这意味着对 getline() 的下一次调用将失败并设置 EOF 位。

另请注意，您的输出相互刺痛，因为您没有在行之间添加 '\n' 分隔符。注意：getline() 会读取到下一个 '\n' 字符，但此终止字符不会添加到字符串`pLine`中。

# android - 我真的需要加密数据吗？

> ID：12776658
> 
> 赞同：1
> 
> 时间：2012-10-08T06:53:09.400
> 
> 标签：android

我想创建一个简单的应用程序来存储一些秘密信息。我会要求用户为此目的创建一个密码。这是否足以保护信息，或者我是否应该做出一些其他规定，比如加密数据。请提供适当的指导。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-08T06:56:12.000

是的，如果您要存储密码，则应该对其进行加密。[检查此链接](http://www.exampledepot.com/egs/javax.crypto/ListCipher.html)以获取所有可能的加密/解密选项的列表。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-08T06:56:37.730

正如您所说的数据是安全的，尽管有密码保护，您仍应始终进行加密。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-08T09:08:23.207

最好的办法是使用 AES 等安全加密算法对数据进行加密，并**以安全的方式**从用户密码生成密钥，从而使每个用户的数据都得到唯一加密。密码应使用加盐散列（如 bcrypt 或 PBKDF2）存储，以便它们不易受到彩虹表攻击（其中散列在表中预先计算以进行匹配）。

这种方案的一个缺点是，如果用户忘记了密码，您可能会丢失数据，因为他们的密码和数据都无法恢复。如果不需要对数据进行如此严格的保护，那么您可以生成**一个安全密钥**并使用它来使用相同的密钥加密所有数据，但是无论如何，当将密码存储回您的数据存储时，绝对应该对密码进行散列和加盐处理。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-08T06:56:52.550

是的 Mohit，在将此类机密信息存储在移动设备上时，您需要对此类信息进行加密以提高安全性。

看看这个[链接](http://www.androidsnippets.com/encryptdecrypt-strings)

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-10-08T07:14:43.487

不要加密密码。相反，为每个用户使用带有随机盐（至少 16 个字节）的盐渍哈希（SHA-2）。然后，通过另一个散列算法运行散列，并使用该散列来加密您的数据。

# jquery - 在 jquery-datatables-editable 插件中添加行

> ID：12776662
> 
> 赞同：1
> 
> 时间：2012-10-08T06:53:24.453
> 
> 标签：jquery, jquery-plugins, row, jeditable

我正在使用这个插件[来](http://jquery-datatables-editable.googlecode.com/svn/trunk/addingrecords.html)添加新记录。在此示例中，单击“添加”按钮时，将打开一个子表单，其中包含表中的字段。在子表单中单击“确定”后，将在表中创建一个新的可编辑行，其中包含子表单中提到的值。但是我需要在不打开子表单的情况下添加一个可编辑的行。用户必须在表中输入值。此代码用于从“jquery.dataTables.editable.js”文件中的子表单添加一行。

```
///Event handler called when a new row is added and response is returned from server
        function _fnOnRowAdded(data) {
            properties.fnEndProcessingMode();

            if (properties.fnOnNewRowPosted(data)) {

                var oSettings = oTable.fnSettings();
                var iColumnCount = oSettings.aoColumns.length;
                var values = new Array();

                $("input:text[rel],input:radio[rel][checked],input:hidden[rel],select[rel],textarea[rel],span.datafield[rel]", oAddNewRowForm).each(function () {
                    var rel = $(this).attr("rel");
                    var sCellValue = "";
                    if (rel >= iColumnCount)
                        properties.fnShowError("In the add form is placed input element with the name '" + $(this).attr("name") + "' with the 'rel' attribute that must be less than a column count - " + iColumnCount, "add");
                    else {
                        if (this.nodeName.toLowerCase() == "select" || this.tagName.toLowerCase() == "select")
                            sCellValue = $("option:selected", this).text();
                        else if (this.nodeName.toLowerCase() == "span" || this.tagName.toLowerCase() == "span")
                            sCellValue = $(this).html();
                        else
                            sCellValue = this.value;

                        sCellValue = sCellValue.replace(properties.sIDToken, data);
                        values[rel] = sCellValue;
                    }
                });

                //Add values from the form into the table
                var rtn = oTable.fnAddData(values);
                var oTRAdded = oTable.fnGetNodes(rtn);
                //Apply editable plugin on the cells of the table
                _fnApplyEditable(oTRAdded);
                //add id returned by server page as an TR id attribute
                properties.fnSetRowID($(oTRAdded), data);
                //Close the dialog
                oAddNewRowForm.dialog('close');
                $(oAddNewRowForm)[0].reset();
                $(".error", $(oAddNewRowForm)).html("");

                _fnSetDisplayStart();
                properties.fnOnAdded("success");
            }
        } 
```

我编辑了上面的代码以添加一行而不打开子表单。但添加的行不可编辑。我应该做哪些更改才能使其可编辑？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-08T07:01:32.627

使用 fnAddData 添加行，然后使该行可编辑。这是一个显示如何使行可编辑的[示例。](http://datatables.net/examples/api/editable.html)

添加行的未经测试的代码（取自 jquery 数据表文档）

```
var giCount = 2;

$(document).ready(function() {
  $('#example').dataTable();
} );

function fnClickAddRow() {
  $('#example').dataTable().fnAddData( [
    giCount+".1",
    giCount+".2",
    giCount+".3",
    giCount+".4" ]
  );

  giCount++;
} 
```

编辑2：这是[小提琴](http://jsfiddle.net/GrfPB/6/)。

```
var oTable = $("table").dataTable();

$("a").click(function() {
    $(oTable).dataTable().fnAddData( ["test"] );
});

$('td', oTable.fnGetNodes()).editable(function(v, s) {
    console.log(v);
    return (v);
}); 
```

请注意，为此您需要[jEditable](http://www.appelsiini.net/projects/jeditable)。

干杯!

# vba - 出现错误运行时错误 9，下标超出范围

> ID：12776666
> 
> 赞同：-2
> 
> 时间：2012-10-08T06:53:43.610
> 
> 标签：vba, excel, vb6

我收到此运行时错误 9，创建图表时 Excel VBA 2003 中的下标超出范围，

在代码中的某个地方，`Public Chrt_color As Variant`还有
`'Assigning the chart colors Chrt_color = Array(4, 7, 9, 10, 11, 12, 13, 14, 17, 18, 21, 22, 23, 3, 43, 51, 50, 39, 47, 52, 56)`

```
Public Sub label_creation_Chart5(ByRef wksht As Excel.Worksheet)

Dim i As Integer
Dim j As Integer
Dim iTemp As Integer
Dim cht_Num As Integer
Dim iTextBoxLoc As Integer
Dim dbTemp As Double
Dim vSeriesValues As Variant
Dim dbSeriesLastValue() As Double

Application.ScreenUpdating = False
cht_Num = 5

wksht.ChartObjects("Chart 5").Activate
wksht.ChartObjects("Chart 5").Select

Do While ActiveChart.TextBoxes.Count > 0
    ActiveChart.TextBoxes(1).Delete
Loop

If ActiveChart.SeriesCollection.Count < 1 Then GoTo Sub_end

ReDim dbSeriesLastValue(1 To ActiveChart.SeriesCollection.Count) As Double
ReDim iSeriesIndex(1 To ActiveChart.SeriesCollection.Count) As Integer

For i = 1 To ActiveChart.SeriesCollection.Count
    vSeriesValues = ActiveChart.SeriesCollection(i).Values

    If wksht.Range("AJ" & (i + 52)).Value = "Yes" Or _
       (prdName = "" And InStr(wksht.Range("A" & (i + 52)).Value, corpName) > 2) Then
        ActiveChart.SeriesCollection(i).Border.ColorIndex = 5
        wksht.Range("Z" & (i + 52) & ":AH" & (i + 52)).Font.ColorIndex = 5
    Else
        ActiveChart.SeriesCollection(i).Border.ColorIndex = Chrt_color(i)
        wksht.Range("Z" & (i + 52) & ":AH" & (i + 52)).Font.ColorIndex = Chrt_color(i)
    End If

    dbSeriesLastValue(i) = vSeriesValues(UBound(vSeriesValues, 1))
    iSeriesIndex(i) = i
    iTextBoxLoc = 12 + 202 * (1 - (vSeriesValues(UBound(vSeriesValues, 1)) / (ActiveChart.Axes(xlValue).MaximumScale - ActiveChart.Axes(xlValue).MinimumScale)))
    With ActiveChart.TextBoxes.Add(195, iTextBoxLoc, 100, 13)
        .AutoSize = True
        .Text = ActiveChart.SeriesCollection(i).Name
        With .Font
            .Name = "Arial"
            .Size = 7
            .ColorIndex = ActiveChart.SeriesCollection(i).Border.ColorIndex
        End With
    End With
Next i
For i = 1 To (ActiveChart.SeriesCollection.Count - 1)
    For j = i + 1 To ActiveChart.SeriesCollection.Count
        If dbSeriesLastValue(j) < dbSeriesLastValue(i) Then
            dbTemp = dbSeriesLastValue(j)
            dbSeriesLastValue(j) = dbSeriesLastValue(i)
            dbSeriesLastValue(i) = dbTemp
            iTemp = iSeriesIndex(j)
            iSeriesIndex(j) = iSeriesIndex(i)
            iSeriesIndex(i) = iTemp
        End If
    Next j
Next i 
```

当错误发生时，我在中间窗口中显示的`ActiveChart.SeriesCollection(i).Border.ColorIndex = Chrt_color(i)` 值也出现错误。`ActiveChart.SeriesCollection(i).Border.ColorIndex = -4105`

请帮忙！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-08T07:29:10.063

当您收到错误消息时，我会查看 i 的值。您的代码将 i 从迭代到系列数。假设您有比 Chtr_color 的元素更多的系列，那么 Chrt_color(i) 不会评估超出范围。

另一个问题可能是系列索引从 1 变为 N，而数组索引从 0 变为 N-1。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-08T08:44:32.813

查看原始问题和评论，一切看起来都很完美。我有几个建议和问题：

*似乎 ActiveChart.SeriesCollection 确实包含一个元素*。

**1.你不确定吗？您没有在监视窗口中查看吗？**

*'分配图表颜色 Chrt_color = Array(4, 7, 9, 10, 11, 12, 13, 14, 17, 18, 21, 22, 23, 3, 43, 51, 50, 39, 47, 52, 56)*

**2.这很可能不是原因，但请检查单引号是否处于活动状态，如果是，则此行将被注释掉，从而使数组为空。**

# codeigniter - 在dompdf中添加带有页码的页眉和页脚

> ID：12776668
> 
> 赞同：7
> 
> 时间：2012-10-08T06:53:57.977
> 
> 标签：codeigniter, dompdf

我正在使用 Codeigniter，并成功实现了 dompdf 来生成 PDF 文件。现在我在生成的 PDF 中添加页眉和页脚时遇到问题。

这是我的 dompdf_helper 代码：

```
<?php if (!defined('BASEPATH')) exit('No direct script access allowed');
function pdf_create($html, $filename='', $stream=TRUE) 
{
require_once("dompdf/dompdf_config.inc.php");

$dompdf = new DOMPDF();
$dompdf->load_html($html);
$dompdf->render();
  $dompdf->set_paper("A4");
if ($stream) {
    $dompdf->stream($filename.".pdf",1);
} else {
    return $dompdf->output();
}
}
?> 
```

这是我调用 PDF 生成的控制器：

```
<?php

$data['store']=$res;  
$this->load->helper(array('dompdf', 'file'));
$html = $this->load->view('store/sales_pdf', $data, true);
$html.= $this->load->view('footer');
$filename="salesbill".$id;
pdf_create($html, $filename);
$data = pdf_create($html, '', false);
write_file('name', $data); 
?> 
```

我使用此脚本获取页码，但仅在退出第二页时才打印，否则不会打印。

```
 <script type="text/php">

    if ( isset($pdf) ) {

      $font = Font_Metrics::get_font("helvetica", "bold");
      $pdf->page_text(500,10, "Page: {PAGE_NUM} of {PAGE_COUNT}", $font, 6, array(0,0,0));

    }
    </script> 
```

我想在每一页中打印公司名称和联系方式以及账单号作为页眉，然后在页脚中。我想添加一个像“1 of 3”这样的页码。

* * *

## 回答 #1

> 赞同：22
> 
> 时间：2012-10-18T11:18:21.950

我希望这将有助于您理解如何在 dompdf 中获取页眉和页脚。也检查此链接....[示例](http://eclecticgeek.com/dompdf/debug.php?identifier=b264f350e6967875987e14faa0c751f0)

```
<html>
  <head>
   <style>
     @page { margin: 180px 50px; }
     #header { position: fixed; left: 0px; top: -180px; right: 0px; height: 150px; background-color: orange; text-align: center; }
     #footer { position: fixed; left: 0px; bottom: -180px; right: 0px; height: 150px; background-color: lightblue; }
     #footer .page:after { content: counter(page, upper-roman); }
   </style>
  <body>
   <div id="header">
     <h1>Widgets Express</h1>
   </div>
   <div id="footer">
     <p class="page">Page <?php $PAGE_NUM ?></p>
   </div>
   <div id="content">
     <p>the first page</p>
     <p style="page-break-before: always;">the second page</p>
   </div>
 </body>
 </html> 
```

* * *

## 回答 #2

> 赞同：12
> 
> 时间：2013-02-19T15:28:21.340

我也尝试将 PHP 代码添加到 html 中，但从未有机会使其工作。这是我保证有效的完整内联代​​码：

```
require_once("dompdf_config.inc.php");
$html ='<html>
        <body>
        <p>Hello Hello</p><p style="page-break-after:always;page-break-before:always">Hello Hello 2</p><p>Hello Hello 3</p>
        </body>
        </html>';

$dompdf = new DOMPDF();
$dompdf->load_html($html);

$dompdf->render();

$canvas = $dompdf->get_canvas();
$font = Font_Metrics::get_font("helvetica", "bold");
$canvas->page_text(72, 18, "Header: {PAGE_NUM} of {PAGE_COUNT}", $font, 6, array(0,0,0));

$dompdf->stream("my_pdf.pdf", array("Attachment" => 0));
?> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2019-11-22T05:26:20.693

```
<style>
        /** 
            Set the margins of the page to 0, so the footer and the header
            can be of the full height and width !
         **/
        @page {
            margin: 0cm 0cm;
        }

        /** Define now the real margins of every page in the PDF **/
        body {
            margin-top: 4cm;
            margin-left: 2cm;
            margin-right: 2cm;
            margin-bottom: 4cm;
        }

        /** Define the header rules **/
        header {
            position: fixed;
            top: 2cm;
            left: 2cm;
            right: 2cm;
            height: 2cm;

            /** Extra personal styles 
            background-color: #03a9f4;
            color: white;
            **/
            text-align: center;
            line-height: 1.5cm;
        }

        /** Define the footer rules **/
        footer {
            position: fixed; 
            bottom: 0cm; 
            left: 0cm; 
            right: 0cm;
            height: 2cm;

            /** Extra personal styles **/
            background-color: #03a9f4;
            color: white;
            text-align: center;
            line-height: 1.5cm;
        }
    </style>
    <header>
        <table  class="table table-bordered" border='1' width='100%' style='font-size:16px; border-collapse: collapse;/* border-collapse: separate; border-spacing: 30px;*/'>
            <tr> 
                <th scope="col" style="padding:10px;" width="10%">Clause No.</th> 
                <th scope="col" style="padding:10px;" width="80%">INSTRUCTIONS TO BIDDERS</th> 
            </tr>
        </table>
    </header>
    <?php endif;?>
    <footer>
        Copyright &copy; <?php echo date("Y");?> 
    </footer> 
```

使用页眉页脚标签

# c# - 将 C# 文本框中的文本保存到 txt 文件。（每次创建一个新的txt文件，没有相同的文件名）

> ID：12776669
> 
> 赞同：0
> 
> 时间：2012-10-08T06:54:01.257
> 
> 标签：c#, filestream

我想从我的 C# 应用程序的文本框中获取文本到 .txt 文件中。我遇到的问题是当前保存的文件将覆盖以前保存的文件。我目前的代码是：

```
string log = @"C:\log.txt";     
using (FileStream fs = new FileStream(log, FileMode.Create)) {
    using (StreamWriter sw = new StreamWriter(fs)) {
         foreach(string line in Textbox1.Lines)
             sw.Write(line + sw.NewLine);
     }
 } 
```

是否可以保存 txt 文件但不会覆盖以前保存的文件？有人可以帮我解决这个问题。。谢谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-08T07:02:17.823

我相信您正在谈论附加以下行：

```
using(FileStream fs = new FileStream(log, FileMode.Append)) {
    //...
} 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-10-08T06:57:25.120

尝试这个

```
string log = @"C:\log"+ DateTime.Now.ToString("dd-MM-yyyy hh-mm-ss") +".txt"; 
```

只需在文件名中添加时间戳

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-08T07:05:58.133

尝试

```
string log = @"C:\log"+ DateTime.Now.ToString("yyyyMMddHHmmssfffffff")+".txt"; 
```

这提供了高达百万分之一秒的精度

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-10-08T07:03:38.930

如果你想写入同一个文件，你可以使用 FileMode.Append：

```
FileStream fs = new FileStream(log, FileMode.Append) 
```

如果您在线程环境中（即我怀疑因为您在谈论下载，我怀疑它），请注意文件锁定等

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-10-08T07:09:20.960

试试这个==>

`string log = @"C:\log"+ new Guid().ToString("N") +".txt";`

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-10-08T06:55:28.913

这应该有助于：

```
string log = @"C:\log.txt";     

int intCounter = 0;
While(File.Exists(log))
{
  log = @"C:\log"+ intCounter.ToString() +".txt";    
} 
```

# c# - 如何在处理时实时汇总链接总数？

> ID：12776672
> 
> 赞同：0
> 
> 时间：2012-10-08T06:54:20.223
> 
> 标签：c#

我有这个代码，它是一个一直调用它的函数。我正在使用 backgroundworker 并且在 backgroundworker Dowork 事件中，我第一次通过单击按钮来调用该函数以启动该过程。

在这个函数中，我有两个地方使用标签 12 和标签 10 文本属性。标签 12 显示坏链接，标签 10 显示好链接。机器人实时工作，文本实时变化。

在这个函数中，我可以在哪里使用标签 3 文本来汇总标签 12 + 标签 10 并显示链接总数？

像这样：

```
this.Invoke(new MethodInvoker(delegate { label3.Text = label12 + label10 })); 
```

问题是：

1.  我如何计算 label12 和 label10 的总和，以便 label3 显示一个数字 int ？

2.  我应该把这个 label3.Text 行放在函数的哪里？

这是代码：

```
private List<string> test(string url, int levels,DoWorkEventArgs eve)
        {

            HtmlWeb hw = new HtmlWeb();
            List<string> webSites;
            List<string> csFiles = new List<string>();

            csFiles.Add("temp string to know that something is happening in level = " + levels.ToString());
            csFiles.Add("current site name in this level is : " + url);
            try
            {
                this.Invoke(new MethodInvoker(delegate { Texts(richTextBox1, "Loading The Url:   " , Color.Red); }));
                this.Invoke(new MethodInvoker(delegate { Texts(richTextBox1, url + "...",Color.Blue); }));
                HtmlAgilityPack.HtmlDocument doc = TimeOut.getHtmlDocumentWebClient(url, false, "", 0, "", "");

                this.Invoke(new MethodInvoker(delegate { Texts(richTextBox1, " Done " + Environment.NewLine, Color.Red); }));

                    currentCrawlingSite.Add(url);
                    webSites = getLinks(doc);
                    removeDupes(webSites);
                    removeDuplicates(webSites, currentCrawlingSite);
                    removeDuplicates(webSites, sitesToCrawl);
                    if (removeExt == true)
                    {
                        removeExternals(webSites);
                    }
                    if (downLoadImages == true)
                    {
                        webContent.retrieveImages(url);                    }
                    if (levels > 0)
                        sitesToCrawl.AddRange(webSites
                    this.Invoke(new MethodInvoker(delegate { label7.Text = sitesToCrawl.Count.ToString(); }));
                    this.Invoke(new MethodInvoker(delegate { label12.Text = currentCrawlingSite.Count.ToString(); }));

                    if (levels == 0)
                    {
                        return csFiles;
                    }
                    else
                    {

for (int i = 0; i < webSites.Count(); i++)//&& i < 20; i++)                         
                        { 

                            string t = webSites[i];
                            if ((t.StartsWith("http://") == true) || (t.StartsWith("https://") == true)) // replace this with future FilterJunkLinks function
                            {
                                csFiles.AddRange(test(t, levels - 1, eve));                                
                            }

                        }
                        return csFiles;
                    }

            }
            catch
            {
                failedUrls++;
                this.Invoke(new MethodInvoker(delegate { label10.Text = failedUrls.ToString(); }));
                this.Invoke(new MethodInvoker(delegate { Texts(richTextBox1, " Failed " + Environment.NewLine, Color.Green); }));
                return csFiles;
            }

        } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-08T07:17:06.453

要将字符串从 a 转换`Label`为数字，请使用以下命令：

```
int number = Int32.Parse(someLabel); 
```

所以你的代码应该是：

```
label3.Text = (Int32.Parse(label12.Text) + Int32.Parse(label10.Text)).ToString(); 
```

# spring - 将 OSwor kflow 与 Spring 和 Hibernate 集成

> ID：12776676
> 
> 赞同：2
> 
> 时间：2012-10-08T06:54:48.370
> 
> 标签：spring, hibernate, opensymphony, osworkflow

如何将 OSwor​​kflow 与 spring 和 hibernate 集成。我需要在 xml 文件中指定哪些配置以及它需要哪些 jar 文件。

更新

我已将 applicationContext.xml 定义如下

```
<bean id="workflowStore" class="com.opensymphony.workflow.spi.hibernate.SpringHibernateWorkflowStore" autowire="byName"> <property name="resource" value="workflow-defs.xml"/>
    <property name="reload" value="true"/>  </bean>

  <bean id="workflowFactory" class="com.opensymphony.workflow.loader.XMLWorkflowFactory" init-method="initDone"/>

    <bean id="workflowConfiguration" class="com.opensymphony.workflow.config.SpringConfiguration">
        <property name="store"><ref local="workflowStore"/></property>
        <property name="factory"><ref local="workflowFactory"/></property>
    </bean>

<bean id="sessionFactory" class="org.springframework.orm.hibernate3.annotation.AnnotationSessionFactoryBean">

        <property name="dataSource" ref="dataSource" />
        <property name="namingStrategy">
            <bean class="org.hibernate.cfg.ImprovedNamingStrategy" />
        </property>
        <property name="hibernateProperties">
            <props>
                <prop key="hibernate.dialect">${hibernate.dialect}</prop>
                <prop key="hibernate.show_sql">${hibernate.show_sql}</prop>
                <prop key="hibernate.format_sql">${hibernate.format_sql}</prop>
                <prop key="hibernate.cache.provider_class">org.hibernate.cache.EhCacheProvider</prop>
                <prop key="hibernate.cache.provider_configuration_file_resource_path">ehcache/ehcache-hibernate-local.xml</prop>
                <prop key="hibernate.hbm2ddl.auto">update</prop>
            </props>
        </property>
        <property name="packagesToScan" value="net.top.*.entity.*" />

        <property name="mappingResources">
    <list>
        <value>com/opensymphony/workflow/spi/hibernate/WorkflowDescriptor.hbm.xml</value>
        <value>com/opensymphony/workflow/spi/hibernate/HibernateCurrentStep.hbm.xml</value>
        <value>com/opensymphony/workflow/spi/hibernate/HibernateHistoryStep.hbm.xml</value>
        <value>com/opensymphony/workflow/spi/hibernate/HibernateWorkflowEntry.hbm.xml</value>               
        <value>com/opensymphony/module/propertyset/hibernate/PropertySetItemImpl.hbm.xml</value>
  </list>
  </property>
    </bean> 
```

它显示错误为

```
Could not determine type for: com.opensymphony.workflow.loader.NotNullStringType, for columns: [org.hibernate.mapping.Column(value)] 
```

我错过了什么吗？

# python - Python 的 IMAP 文件夹路径编码 (IMAP UTF-7)

> ID：12776679
> 
> 赞同：10
> 
> 时间：2012-10-08T06:54:50.020
> 
> 标签：python, encoding, imap, utf-7

我想知道 Python 中是否存在任何用于 IMAP4 UTF-7 文件夹路径编码的“官方”函数/库。

在`imapInstance.list()`我得到以下路径 IMAP UTF-7 编码：

```
'(\\HasNoChildren) "." "[Mails].Test&AOk-"', 
```

如果我执行以下编码：

```
(u"[Mails].Testé").encode('utf-7') 
```

我得到：

```
'[Mails].Test+AOk-' 
```

这是 UTF-7 但不是 IMAP UTF-7 编码。`Test+AOk-`而不是`Test&AOk-` 我需要一个官方函数或库来获取 IMAP UTF-7 编码版本。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-10-09T16:01:27.093

IMAPClient 包具有使用 IMAP 修改后的 UTF-7 进行编码和解码的功能。查看 IMAPClient.imap_utf7 模块。该模块可以独立使用，也可以只使用 IMAPClient 来透明地处理文件夹名称的编码和解码。

该项目的主页是：http: [//imapclient.freshfoo.com/](http://imapclient.freshfoo.com/)

**示例代码：**

```
from imapclient import imap_utf7
decoded = imap_utf7.decode('&BdAF6QXkBdQ-') 
```

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2017-08-20T22:00:22.440

我编写了一个非常简单的 IMAP UTF7 python 3 实现，它遵循规范，它似乎可以工作。("foo\rbar\n\n\n\r\r" 和许多其他往返, '&BdAF6QXkBdQ-', 'Test&Co', "[Mails].Test&AOk-" 和 '~peter/mail/&ZeVnLIqe-/&U, BTFw-' 表现如预期）。

```
#works with python 3

import base64

def b64padanddecode(b):
    """Decode unpadded base64 data"""
    b+=(-len(b)%4)*'=' #base64 padding (if adds '===', no valid padding anyway)
    return base64.b64decode(b,altchars='+,',validate=True).decode('utf-16-be')

def imaputf7decode(s):
    """Decode a string encoded according to RFC2060 aka IMAP UTF7.

Minimal validation of input, only works with trusted data"""
    lst=s.split('&')
    out=lst[0]
    for e in lst[1:]:
        u,a=e.split('-',1) #u: utf16 between & and 1st -, a: ASCII chars folowing it
        if u=='' : out+='&'
        else: out+=b64padanddecode(u)
        out+=a
    return out

def imaputf7encode(s):
    """"Encode a string into RFC2060 aka IMAP UTF7"""
    s=s.replace('&','&-')
    iters=iter(s)
    unipart=out=''
    for c in s:
        if 0x20<=ord(c)<=0x7f :
            if unipart!='' : 
                out+='&'+base64.b64encode(unipart.encode('utf-16-be')).decode('ascii').rstrip('=')+'-'
                unipart=''
            out+=c
        else : unipart+=c
    if unipart!='' : 
        out+='&'+base64.b64encode(unipart.encode('utf-16-be')).decode('ascii').rstrip('=')+'-'
    return out 
```

鉴于此代码的简单性，我将其设置在公共域中，因此请随意使用它。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2015-08-17T14:37:32.540

imapclient 实现虽然有点破：

```
x = "foo\rbar\n\n\n\r\r"
imap_utf7.decode(imap_utf7.encode(x)) 
```

结果：

```
>> 'foo&bar\n\n\r-' 
```

编辑：

经过一些研究，我在[MailPile](https://github.com/mailpile/Mailpile/blob/master/mailpile/mail_source/imap_utf7.py)中找到了一个实现，它在此测试的往返编码中不会失败。如果您有兴趣，我还将它移植到 Python3：[https ://github.com/MarechJ/py3_imap_utf7](https://github.com/MarechJ/py3_imap_utf7)

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2019-10-09T12:42:19.900

您可以使用 imap_tools 包： [https ://pypi.org/project/imap-tools/](https://pypi.org/project/imap-tools/)

```
from imap_tools.imap_utf7 import encode, decode

print(encode('привет'))
>>> b'&BD8EQAQ4BDIENQRC-'

print(decode(b'&BD8EQAQ4BDIENQRC-'))
>>> привет

print(repr(decode(encode("foo\rbar\n\n\n\r\r"))))
'foo\rbar\n\n\n\r\r' 
```

# operating-system - PAE的优势

> ID：12776698
> 
> 赞同：3
> 
> 时间：2012-10-08T06:56:05.140
> 
> 标签：operating-system, processor

我在[http://msdn.microsoft.com/en-us/library/windows/desktop/aa366796(v=vs.85).aspx](http://msdn.microsoft.com/en-us/library/windows/desktop/aa366796(v=vs.85).aspx)阅读了一篇有趣的文章。它指出：

*   物理地址扩展 (PAE) 是一种处理器功能，它使 x86 处理器能够访问支持 Windows 版本上超过 4 GB 的物理内存。
*   PAE 不会更改进程可用的虚拟地址空间量。在 32 位 Windows 中运行的每个进程仍被限制为 4 GB 的虚拟地址空间。

你能告诉我这个功能有什么好处吗？它仅对减少操作系统处理分页的时间有用吗？

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2012-10-08T07:29:24.300

当您运行多个应用程序并消耗内存时，PAE 很有用。就像您在 32 位机器上拥有 16GB 的 RAM 一样，如果没有 PAE，您将只能将 4GB 用于所有应用程序和操作系统本身。但是使用 PAE，您可以让每个进程都有自己的 32 位地址空间，因此您可以使用所有 16GB 的 RAM，而不是来自一个进程......

例如，将数据库和应用程序服务器实例放在同一个盒子上，它就变得有用了。

**编辑** 在第一种方法中，这并不清楚：不需要 64 位 CPU 就可以使用 PAE！从 Pentium Pro 开始，CPU 应该可以使用它：

> 在计算中，物理地址扩展 (PAE) 是一项允许 32 位 x86 处理器访问大于 4 GB 的物理地址空间（包括随机存取内存和内存映射设备）的功能。

（来自：[维基百科：物理地址扩展](http://en.wikipedia.org/wiki/Physical_Address_Extension)）

还推荐阅读：

[维基百科：3GB 障碍](http://en.wikipedia.org/wiki/3_GB_barrier)

[Serverfault：哪些 CPU 支持/不支持 PAE](https://serverfault.com/questions/85980/what-processors-do-do-not-support-pae)

* * *

## 回答 #2

> 赞同：-2
> 
> 时间：2012-10-09T13:28:49.017

要利用 PAE，您确实需要 64 位处理器。总线大小为 36 位。

就像您的硬件能够访问超过 4GB 的内存，但是您有意/无意地安装了 32 位操作系统，默认情况下不允许您访问超过 0xffffffff，因此添加额外的内核模块可以让您访问所有内容.

# sql - 在 T-SQL 函数中使用 while 循环

> ID：12776700
> 
> 赞同：0
> 
> 时间：2012-10-08T06:56:08.010
> 
> 标签：sql, sql-server-2008, tsql

非数据库程序员在这里。它发生了，我需要在 T-SQL 中创建一个函数，它返回给定日期之间的工作日计数。我相信最简单的方法是使用**while**循环。问题是，一旦我写了类似的东西

```
while @date < @endDate
begin

end 
```

该语句不会执行，声称“关键字'return'附近的语法不正确”（不是很有帮助）。问题出在哪里？

PS 完整代码：

```
ALTER FUNCTION [dbo].[GetNormalWorkdaysCount] (
@startDate DATETIME,
@endDate DATETIME
)   
RETURNS INT

AS
BEGIN
    declare @Count INT,
            @CurrDate DATETIME
    set @CurrDate = @startDate

    while (@CurrDate < @endDate)
    begin

    end

    return @Count
END
GO 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-08T07:06:52.540

与某些语言不同，SQL Server 中的[`BEGIN`/`END`](http://msdn.microsoft.com/en-us/library/ms190487.aspx)对不能为空 - 它们必须至少包含一个语句。

* * *

至于您的实际问题-您说过您不是数据库程序员。大多数 SQL 初学者都倾向于走同样的路——尝试编写过程代码来解决问题。

然而，SQL 是一种基于集合的语言——通常最好找到基于集合的解决方案，而不是使用循环。

在这种情况下，日历表将是一个真正的帮助。这样的表格包含每个日期的一行，以及指示对您的业务有用的信息的附加列（例如，您认为是工作日）。然后，它使您对工作日的查询如下所示：

```
SELECT COUNT(*) from Calendar
where BaseDate >= @StartDate and BaseDate < @EndDate and IsWorkingDay = 1 
```

填充日历表成为一次性练习，您可以轻松地用例如 30 年的日期填充它。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-10-08T07:14:16.657

在 SQL Server 中使用任何循环都不是一个好主意 :)

很少有更好的解决方案，参考 StackOverflow 上[已经](https://stackoverflow.com/questions/252519/count-work-days-between-two-dates-in-t-sql)提出的解决方案。

# c# - 在 WPF 中绑定多个 UI 组件失败

> ID：12776704
> 
> 赞同：0
> 
> 时间：2012-10-08T06:56:12.223
> 
> 标签：c#, wpf, mvvm, binding

好吧，我尽力了，但看起来我需要帮助。我的 xaml 文件中有一个文本框、一个列表视图和一个按钮。Listview 有两列：Devicename 和 DeviceAddress。我已经完成了列表视图和文本框的绑定，每当我在列表视图（I2CDeviceList）中选择一个项目时，设备地址（第二列）都会显示在我的文本框中。

**XAML：**

```
<TextBox PreviewTextInput="AddressBox_PreviewTextInput" Name="AddressI2C" Text="{Binding SelectedItem.I2CDeviceAddress, Path=AddressMessage, Mode=TwoWay, ElementName=I2cDeviceList}" />
<Button Content="I2C Read" Command="{Binding Path=I2CReadCommand}" Name="button9" />

<ListView Grid.Column="0" ItemsSource="{Binding I2CDeviceList}" SelectedItem="{Binding SelectedI2CDeviceList, Mode=TwoWay}" Height="100" HorizontalAlignment="Stretch" Name="I2cDeviceList" VerticalAlignment="Stretch" Width="Auto" >
                        <ListView.View>
                            <GridView>
                                <GridViewColumn Header="I2C Device" Width="Auto" DisplayMemberBinding="{Binding I2CDevName}" />
                                <GridViewColumn Header="I2C Device Address" Width="Auto" DisplayMemberBinding="{Binding I2CDeviceAddress}" />
                            </GridView>
                        </ListView.View>
                    </ListView> 
```

因此，使用**SelectedItem.I2CDeviceAddress**为我提供了文本框中的设备地址。

现在我的视图模型具有按钮和文本框的属性，并具有以下方法，当单击按钮时会调用该方法：

```
public void I2CReadCommandExecuted()
{
    ReadMessage = string.Empty;
    Byte[] buffer = new Byte[512];
    int address;

    string strValue = AddressMessage;
    if (strValue.StartsWith("0x"))
    {
       strValue = strValue.Remove(0, 2);
       address = Convert.ToInt32(strValue);
       mComm.setAddress(address);
    }
}   

// This is for textBox
private string _AddressMessage = string.Empty;
public string AddressMessage
{
   get
   {
       return _AddressMessage;
   }
   set
   {
       _AddressMessage = value;
       NotifyPropertyChanged("AddressMessage");
   }
}

// Property for ListView
public ObservableCollection<I2CModel> I2CDeviceList
    {
        get { return _I2CDeviceList; }
        set
        {
            _I2CDeviceList = value;
            NotifyPropertyChanged("I2CDeviceList");
        }
    }

    // Property for Selected Item in ListView 
    private I2CModel _selectedI2CDeviceList;
    public I2CModel SelectedI2CDeviceList
    {
        get { return _selectedI2CDeviceList; }
        set
        {
            _selectedI2CDeviceList = value;
            NotifyPropertyChanged("SelectedI2CDevSize");
        }
    } 
```

基本上我必须从值中删除 0x 并将十六进制值存储在我的整数变量中。

**在这里，我面临两个问题：**

1.  当我同时输入**Text="{Binding SelectedItem.I2CDeviceAddress, Path=AddressMessage, Mode=TwoWay, ElementName=I2cDeviceList}"**时，列表视图中的搜索地址不会出现在我的文本框中。我删除**Path=AddressMessage, Mode=TwoWay,**的那一刻，它工作正常。如何确保两者都能顺利工作？他们是否有任何其他方式可以从列表视图中获取所选项目并将其显示在我的文本框中？

2.  通过使用字符串**strValue = AddressMessage;** 我正在尝试将 AddressMessage 的内容保存在字符串中，但是当我调试代码时，即使我的文本框中有“0x23”（硬编码），它也总是显示“null”。因此，我收到以下错误：**对象引用未设置为对象的实例。**在**if**条件的开头。

我尽力了，但它没有发生。我错过了什么吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-08T07:52:43.970

首先，不需要有单独的 AddressMessage 属性。可以使用 SelectedI2CDeviceList 来完成。但是，如果您想使用它，可以通过以下更改来实现 -

当列表视图的选定项更改时设置 AddressMessage 属性

```
 public I2CModel SelectedI2CDeviceList
        {
            get { return _selectedI2CDeviceList; }
            set
            {
                _selectedI2CDeviceList = value;
                AddressMessage = _selectedI2CDeviceList.I2CDeviceAddress;
                NotifyPropertyChanged("SelectedI2CDevSize");
            }
        } 
```

还将文本框的绑定更改为以下之一：

```
<TextBox
                Name="AddressI2C"
                Text="{Binding Path=AddressMessage, Mode=TwoWay}" /> 
```

因此，每当列表视图的选定项目发生更改时，它将设置文本框的内容，并且当正确设置 AddressMessage 属性时，您希望获得第二个问题。

希望这可以帮助。

# android - 在设备上安装 android 应用程序时如何获取用户输入？

> ID：12776705
> 
> 赞同：-2
> 
> 时间：2012-10-08T06:56:19.883
> 
> 标签：android

当apk第一次安装在设备中时，我想像一些文本一样获取用户输入，并希望将此输入用作非常有用的完整信息

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-08T11:21:40.903

> 我希望当一个用户下载我的应用程序并想要安装时，会出现一个弹出窗口，其中需要输入一个数字，如果用户输入并按确定，那么我的应用程序安装在他的设备上其他不会

这是不可能的。您的应用程序的代码在安装之前无法运行，甚至在安装后也无法自动运行。当用户启动您的一项活动时，您将首先获得控制权。

# java - 如何使 JTextField 文本可见？

> ID：12776707
> 
> 赞同：0
> 
> 时间：2012-10-08T06:56:27.333
> 
> 标签：java, swing, jtextfield, visible

**我的目标是**在 JTextField 中编写用户可见的内容并在控制台中显示此文本。截至目前， JTextField 正在接受文本，但没有显示。没有光标，没有文字。

我尝试使用 textfield.setEditable(true)、textfield.setEnable(true) 和不同的前景色和背景色，但没有任何反应。

奇怪的是，我可以使用 textField.setText("Random text") 并显示它，但我无法在程序运行时删除或编辑它，并且它不包含在 getText() 的输出中。

这是程序：

```
import acm.program.*;

import java.awt.Color;
import java.awt.event.*;
import javax.swing.*;

@SuppressWarnings("serial")
public class TextFieldTest extends ConsoleProgram implements SomeConstants {

public void init() {
    setSize(APPLICATION_WIDTH, APPLICATION_HEIGHT);

    textField = new JTextField(20);
    add(textField, SOUTH);
    textField.addActionListener(this);
}

public void actionPerformed(ActionEvent e) {
    if (e.getSource() == textField)
        println("Hi, " + textField.getText());
}

private JTextField textField;
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-08T14:06:11.127

如果您正在使用[`acm.program.ConsoleProgram`](http://jtf.acm.org/javadoc/student/acm/program/ConsoleProgram.html)，您可能需要使用 Java SE 5（1.5 版），如此处所建议[的](https://stackoverflow.com/a/12130829/230513)。

附录：正如@Tor 评论，`java.awt.TextField`在 JRE 的更高版本下可能是可以接受的。

# jquery - 为 DropDownlist 放置标签

> ID：12776715
> 
> 赞同：1
> 
> 时间：2012-10-08T06:56:58.120
> 
> 标签：jquery, html

我试图将标签放在*DropdownList*前面，但*下拉列表*出现在下一行。我尝试了这个博客上给出的选项，但没有找到解决方案。

这是我正在使用的简单代码：

团体：

```
<div>
    <div style="margin-top: 2%; "; id='jqxWidget' ;>
    </div>
</div> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-08T07:02:56.577

问题是 div 是**块级**元素。这就是你在下一行看到它的原因.. 而不是 div 使用标签元素来解决你的问题..

或者你可以使用 div 并给它一个 float:left 属性..

尝试这个

```
<div style="width:300px;">
    <div style="width:100px; float:left">
        <span> jQWidgets DropDown : </span>
     </div>
    <div style="margin-top: 2%;width:250px; float:left;" id='jqxWidget'>
    </div>
</div> 
```

这应该适合你。我在代码中包含了内联样式，这是一种不好的做法。尝试分配类名。

# matrix - CMA-ES 是 (mu, lambda) 还是 (mu + lambda)？

> ID：12776719
> 
> 赞同：2
> 
> 时间：2012-10-08T06:57:08.647
> 
> 标签：matrix, covariance, evolutionary-algorithm

我知道协方差矩阵适应进化策略所需的基本组件，但我似乎无法找到任何明确说明所选子代（lambda）是否替换父代（mu）或被添加到其中的地方。

我知道这种区别在进化计算中产生了巨大的差异，即你的种群是否卡在局部最优值并收敛，或者它是否能够脱离局部最优值并找到全局最优值。非常感谢任何有关解决此难题的帮助。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-10T17:01:18.087

CMA-ES 中的人口实际上是使用 (mu / mu_w, lambda) 构建的。此符号来自[CMA-ES 教程](http://www.lri.fr/~hansen/cmatutorial.pdf "CMA-ES 教程")，其中详细介绍了该算法：

> (mu / mu_w, lambda)-ES，与父母的进化策略，所有父母的重组，无论是中间的还是加权的，以及后代。

在经典的进化策略中，mu 个体发生突变以产生 lambda 新解决方案。然后，该算法将这些 lambda 解决方案添加到第一个 mu (mu+lambda) 或仅保留 lambda 解决方案 (mu, lambda)。

CMA-ES 首先从高斯分布中采样 lambda 解决方案。然后，它通过计算 mu fittest 采样解决方案的平均值来计算搜索分布的新平均值。最后，该算法使用专门的机制更新分布的协方差矩阵，此处将不介绍，但也使用 mu fittest 采样解决方案。

# ios - phonegap 中的 iframe 问题

> ID：12776721
> 
> 赞同：3
> 
> 时间：2012-10-08T06:57:18.247
> 
> 标签：ios, cordova, iframe

我有一个 IOS 应用程序，它需要在应用程序内的 iframe 中加载一些外部 url。

我的代码看起来像

```
<body>

    <iframe width="560" height="315" src="https://www.google.co.in/" frameborder="0" allowfullscreen></iframe>
<div class="footer"></div>

</body> 
```

科尔多瓦 plist：

```
OpenAllWhitelistURLsInWebView: YES
ExternalHosts: * 
```

但是每当我尝试加载页面时都会出现错误

“无法加载网页并出现错误：操作无法完成。（NSURLErrorDomain 错误 -999。）”

我无法加载外部网址

谁能帮我解决这个问题

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2014-03-09T16:25:22.540

更新你的 config.xml

```
<access origin="*" /> 
```

# javascript - 只是想知道||的所有用途 javascript中的运算符

> ID：12776725
> 
> 赞同：-1
> 
> 时间：2012-10-08T06:57:55.153
> 
> 标签：javascript, logical-operators

我只是想知道`||`javascript 中运算符的其他用途，而不仅仅是`logical OR`！

谢谢 ：）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-08T07:03:32.113

看看[这里](http://addyosmani.com/blog/exploring-javascripts-logical-or-operator/)，它解释并很好地展示了`||`javascript 中的用法。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-08T07:04:50.957

JavaScript 语法中**没有**逻辑运算符。`OR`不知道你想问什么，没有代码，但如果你说类似的话：

```
if (trueText || falseText) // Works
if (trueText or falseText) // Doesn't work! Illegal Operator 
```

另请查看[此](http://addyosmani.com/blog/exploring-javascripts-logical-or-operator/)帖子，这将帮助您了解可以使用的所有内容`||`。

# ruby-on-rails - Ruby on Rails在routes.rb中每页有多个方法？

> ID：12776726
> 
> 赞同：0
> 
> 时间：2012-10-08T06:57:56.647
> 
> 标签：ruby-on-rails

愚蠢的问题...我的views/projects/new.html.erb文件在一页上有两种不同功能的表格。到目前为止，我只实现了一个，可以选择“创建”一个新项目。我想添加另一个函数来对同一页面上显示的记录进行排序，例如：

```
<%= link_to "Category", { :controller => "projects", :action => "sortTable", :filter => "Category" }, :remote => true %> 
```

-- 我的 routes.rb 文件：

```
Docside::Application.routes.draw do
  resources :projects
  resources :categories
  #get "home/index"
  root :to => "projects#new"
  match 'project/new',:controller=>"projects",:action=>"create"
end 
```

但我收到错误“没有路线匹配 {:action=>"sortTable", :controller=>"projects"}”。当我尝试添加“ match 'project/new',:controller=>"projects",:action=>"sortTable" ”时，我的其他功能不起作用，并且创建功能搞砸了。我应该有什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-08T07:26:50.037

试试看：

```
resources :projects do
  collection do
    post :sortTable
  end
end 
```

看看这个[指南](http://guides.rubyonrails.org/routing.html#adding-more-restful-actions)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-08T07:28:02.557

对于给定的路径和方法组合，您只能有一个路由。您正在尝试在同一路径上定义多个路由，因此只有其中一个可以工作（第一个）。如果您为这些操作中的每一个使用不同的路径（而不是所有这些操作的项目/新路径），您应该没问题。小心与现有路线的冲突）

如果你坚持 Rails 的约定，你也会让你的生活更轻松（如果其他人开始编写代码，代码会更容易阅读）。例如`resources :projects`，已经为 create 操作创建了一个路由。可以像这样添加其他操作

```
resources :projects do
  collection do
    get :sort_table
  end
end 
```

为 sort_table 操作设置一个收集路径（即与特定项目无关的路径）并为您设置一个 URL 帮助程序（sort_table_projects_path）。您可以使用其他语法 - 我鼓励您查看路由[指南](http://guides.rubyonrails.org/routing.html)

# android - 单击复选框后创建一个 TextView

> ID：12776730
> 
> 赞同：0
> 
> 时间：2012-10-08T06:58:11.460
> 
> 标签：android, checkbox, textview

在我的活动中，一旦单击复选框，我希望 TextView 出现在复选框下方。我该怎么做。我是否需要创建一个新的活动来在复选框下方显示新的 TextView。或者我可以使用与以前相同的活动来完成此操作。

谢谢！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-08T07:03:06.070

添加`TextView`到您的布局并设置`android:visibility="gone"`.

在您的设置中to`onCheckboxClicked()`的可见性`TextView``VISIBLE`

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-08T07:01:56.327

无需创建新活动。只需在您的布局文件中添加 textview 并使其不可见..当您选中复选框时，只需使该 Textview 可见。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-10-08T07:08:43.780

你可以在同一个活动中做到这一点

在 xml 中创建 CheckBox 下面的 TextView 和`yourTextView.visibility=gone`

在您的班级中编写以下代码：

```
 yourCheckBox.setonClickListener=new onClickListener(){

            @Override
            public void onClick(View v) {
            if(checkBox.isChecked())
              yourTextView.setVisibility(View.VISIBLE);
            else
              yourTextView.setVisibility(View.GONE);

}

} 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-10-08T07:02:04.733

您必须在 onChecked 事件中创建文本框。

你可以参考这个：

[http://www.mysamplecode.com/2011/10/android-programmatically-generate.html](http://www.mysamplecode.com/2011/10/android-programmatically-generate.html)

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-10-08T07:06:46.807

尝试这个：

```
 TextView tv;
 CheckBox cbS;
 OnClickListener checkBoxListener;
 checkBoxListener =new OnClickListener() {

 @Override
 public void onClick(View v) {
 tv=(TextView)findViewById(R.id.tvDetails);
 //by default keep textview visibility as invisible in xml file;
tv.setVisibility(View.GONE)
 };

 cbS.setOnClickListener(checkBoxListener); 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-10-16T05:47:24.977

This should help you. try this..

```
checkBxAutomaticLogin
            .setOnCheckedChangeListener(new OnCheckedChangeListener() {
                public void onCheckedChanged(CompoundButton buttonView,
                        boolean isChecked) {
                    if (isChecked) {
                        ViewGroup automaticLoginLyt = (ViewGroup) findViewById(R.id.yourlayout);
                        LayoutInflater.from(SomeActivity.this).inflate(
                                R.layout.your_layout,
                                automaticLoginLyt, true);
                        editTxtUsername = (EditText) findViewById(R.id.edit_txt_user_name);
                        editTxtPassword = (EditText) findViewById(R.id.edit_txt_password);
                    } else {
                        ViewGroup automaticLoginLyt = (ViewGroup) findViewById(R.id.your_layout);
                        View v = automaticLoginLyt
                                .findViewById(R.id.your_layout);
                        if (v != null) {
                            automaticLoginLyt
                                    .removeView(v);
                        }
                    }
                }
            }); 
```

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2017-05-07T20:21:11.510

你可以试试这个

```
 holder.checkBox.setOnClickListener(new View.OnClickListener() {
        @Override
        public void onClick(View v) {
            if (holder.checkBox.isChecked()==true){

                holder.title.setPaintFlags(holder.title.getPaintFlags() | Paint.STRIKE_THRU_TEXT_FLAG);
            }
            else {

                holder.title.setPaintFlags(holder.title.getPaintFlags() & (~Paint.STRIKE_THRU_TEXT_FLAG));
            }
        }
    }); 
```

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2017-05-07T20:28:45.890

我想这可以帮助你...

```
 holder.checkBox.setOnClickListener(new View.OnClickListener() {
        @Override
        public void onClick(View v) {
            if (holder.checkBox.isChecked()==true){

                holder.title.setPaintFlags(holder.title.getPaintFlags() | Paint.STRIKE_THRU_TEXT_FLAG);
            }
            else {

                holder.title.setPaintFlags(holder.title.getPaintFlags() & (~Paint.STRIKE_THRU_TEXT_FLAG));
            }
        }
    }); 
```

# c++ - Boost MultiIndex 作为 LRU 缓存的 C++ 索引排序问题

> ID：12776731
> 
> 赞同：0
> 
> 时间：2012-10-08T06:58:13.423
> 
> 标签：c++, boost, compiler-errors, lru, boost-multi-index

[我在这个例子](http://www.boost.org/doc/libs/1_51_0/libs/multi_index/example/serialization.cpp)中使用 Boost.MultiIndex 实现了以下 LRU 实现。

问题是当我更改 index_by 部分的顺序（并相应地更新枚举 index_idx）时，我在包含以下内容的行上收到错误：

```
cache_.insert(ci); 
```

通过以下诊断：

> 错误 1 ​​错误 C2661: 'boost::multi_index::detail::sequenced_index::insert' : 没有重载函数需要 1 个参数 c:\code\code.cpp 79

代码如下：

```
#include <boost/multi_index_container.hpp>
#include <boost/multi_index/tag.hpp>
#include <boost/multi_index/member.hpp>
#include <boost/multi_index/hashed_index.hpp>
#include <boost/multi_index/sequenced_index.hpp>

using namespace boost::multi_index;

template <typename Key, typename T>
class lru_cache
{
private:

   struct item_t
   {
      Key key;
      T   t;
   };

   typedef boost::multi_index_container
   <
      item_t,
      boost::multi_index::indexed_by
      <
         hashed_unique<boost::multi_index::member<item_t,Key,&item_t::key> >,
         sequenced<>
      >
   > cache_t;

   enum index_idx
   {
      e_map = 0,
      e_seq = 1,
   };

   cache_t cache_;
   size_t max_cache_size_;

public:

   typedef typename std::pair<Key,T> item_pair_t;

   lru_cache(size_t max_cache_size = 1)
   : max_cache_size_(max_cache_size)
   {}

   bool find(const Key& key, T& t)
   {
      typename cache_t::nth_index<e_map>::type& hash_index = cache_.get<e_map>();
      auto itr = hash_index.find(key);
      if (itr != hash_index.end())
      {
         return false;
      }
      t = itr->t;
      typename cache_t::nth_index<e_seq>::type& sequenced_index = cache_.get<e_seq>();
      auto itr2 = cache_.project<e_seq>(itr);
      sequenced_index.relocate(itr2,sequenced_index.end());
      return true;
   }

   void insert(const Key& key, const T& t)
   {
      if (cache_.size() >= max_cache_size_)
      {
         typename cache_t::nth_index<e_seq>::type& sequenced_index = cache_.get<e_seq>();
         sequenced_index.erase(sequenced_index.begin());
      }
      typename cache_t::nth_index<e_map>::type& hash_index = cache_.get<e_map>();
      auto itr = hash_index.find(key);
      item_t ci = {key,t};
      if (itr == hash_index.end())
         cache_.insert(ci);  // <--- Error here....
      else
         hash_index.replace(itr,ci);
   }
};

int main()
{
   typedef lru_cache<int,int> lru_cache_t;
   lru_cache_t lc(2);
   lc.insert(1,1);
   int v;
   lc.find(1,v);
   return 0;
} 
```

修改后的索引排序：

```
 typedef boost::multi_index_container
   <
      item_t,
      boost::multi_index::indexed_by
      <
         sequenced<>,
         hashed_unique<boost::multi_index::member<item_t,Key,&item_t::key> >
      >
   > cache_t;

   enum index_idx
   {
      e_map = 1,
      e_seq = 0,
   }; 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-08T09:02:39.670

这是因为这个成员函数没有这样的重载！请使用[MultiIndex 参考](http://www.boost.org/doc/libs/1_51_0/libs/multi_index/doc/reference/seq_indices.html#modifiers)。你大概是说`cache_.insert(cache_.end(), ci);`

# .net - Microsoft.Composition 中缺少 InheritedExport

> ID：12776735
> 
> 赞同：1
> 
> 时间：2012-10-08T06:58:25.967
> 
> 标签：.net, windows-8, windows-runtime, mef

似乎[MEF 中没有针对 web 和 Windows Store 应用程序的](https://nuget.org/packages/Microsoft.Composition)`InheritedExport`属性。我可以做些什么来避免通过添加到这个接口的每个实现中我会得到的所有痛苦？`Export(typeof(IMyInterface))`

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-10T02:04:44.360

我没有任何示例可以指向您，但是您是否尝试过使用 ConventionBuilder？您应该能够设置一个约定，说明导出所有实现 IMyInterface 的类型，这基本上会给您与 InheritedExport 类似的行为。

# php - 当我在两个表中输入一条记录时，如果我在第二个表中插入第二个记录，总金额是可以的

> ID：12776737
> 
> 赞同：0
> 
> 时间：2012-10-08T06:58:38.377
> 
> 标签：php, mysql, codeigniter

亲爱的所有朋友，我是 Codeigniter 框架的新手，我希望通过选择两个表数据来获得总金额，问题是当我在第二个表中输入数据时，总金额会翻倍。

```
function total_amount($booking_no = NULL)
{
    $data  = array('forwarding_cargo_booking_details.*',
                   'other_charges.client_amount');

    $this->db->select($data);
    $this->db->where('forwarding_cargo_booking_details.booking_no',$booking_no);
    $this->db->join('other_charges','forwarding_cargo_booking_details.booking_no = other_charges.booking_no','left');
    $this->db->select('sum((`bk_m3`*`o_freight_client`)*(`selling_rate`)+`pod_client`+`thc_client`+`caf_client`+`baf_client`+`haulage_client`+`war_risk_client`+`warehouse_client`+`thc_dest_client`+`pp_surcharge_client`+`doc_charges_client`+`client_amount`) as salam', FAlSE);
    $query = $this->db->get('forwarding_cargo_booking_details');            
    if($query->num_rows() > 0)
    {
        return $query->row();
    }
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-09T06:21:35.887

改成这样。这里使用派生查询并测试它是否工作正常

```
function total_amount($booking_no = NULL)
{
    $sql_query  =   "SELECT
                        forwarding_cargo_booking_details.*,
                        other_charges.client_amount,
                        sum((`bk_m3`*`o_freight_client`)*(`selling_rate`)+`pod_client`+`thc_client`+`caf_client`+`baf_client`+`haulage_client`+`war_risk_client`+`warehouse_client`+`thc_dest_client`+`pp_surcharge_client`+`doc_charges_client`+`client_amount`) as amount
                    FROM forwarding_cargo_booking_details 
                    LEFT JOIN (SELECT booking_no , sum(client_amount) FROM other_charges group by booking_no) as other_charges ON forwarding_cargo_booking_details.booking_no = other_charges.booking_no
                    ";
    $query = $this->db->query();   

    if($query->num_rows() > 0)
    {
        return $query->row();
    }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-08T07:07:54.673

使用此代码打印查询，并检查查询。

```
$this->db->last_query(); 
```

我认为您忘记在查询中使用“分组依据”

# css - 在不同宽度的图像周围添加固定宽度的边框

> ID：12776739
> 
> 赞同：0
> 
> 时间：2012-10-08T06:58:56.450
> 
> 标签：css

我有许多白色背景上的物品图像。有些图像比其他图像宽。我想在图像周围添加一个边框，但希望边框是固定宽度（比如 100 像素）

基本上我希望有可变数量的填充（在图像和边框之间），以便图像宽度 + 填充（左右）= 100px

这是我正在使用的代码：

```
 <td style = "vertical-align: middle; border-left:">
      <div style="border: 1px solid #DDDDDD; width:200px; text-align:center">
        <a href="/styles/15"><img alt="blah" class="thumbnail" src="blah" style="vertical-align: middle; border:none; height:65x; text-align:center" /></a>
       </div>
    </td> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-08T09:58:39.600

**首先请避免使用内联样式**

看**[演示](http://jsbin.com/ovijaq/1/)**

**使用 CSS 作为：**

```
.imageBox {border: 1px solid #DDDDDD; width:200px; text-align:center}
.image {vertical-align: middle; border:none; height:65x; text-align:center} 
```

**和 HTML 为：**

```
<td class="imageBox">
    <div >
        <a href="/styles/15"><img alt="blah" class="thumbnail" src="http://upload.wikimedia.org/wikipedia/commons/1/17/MetroLigeroMad_logo_1.png"  /></a>
    </div>
</td> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-08T07:05:12.810

你可以这样做：

```
<div class="imageholder">
   <img src="images/yourpic.jpg">
</div> 
```

你接下来要做的就是把边框放在 div 上。接下来你要做的就是使 div`100px`变宽。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-08T07:29:05.090

嗨，现在定义这个 css

`img{vertical-align:top;}`

***[现场演示](http://tinkerbin.com/Ef7jA3em)***

# iphone - 如何创建带有粗体和普通文本的 UILabel 或 UITextView？

> ID：12776741
> 
> 赞同：6
> 
> 时间：2012-10-08T06:59:00.193
> 
> 标签：iphone, ios, uilabel, uitextview

我正在尝试在里面创建一个`UILabel`或`UITextView`带有粗体和普通文本的内容。

我已经浏览了属性字符串，但是当我在自定义单元格的标签中设置它时，它不会显示任何文本。

我也使用了该`UITextView setContentToHTMLString:`方法，但它没有记录并且应用程序被拒绝。

任何人都可以为此提供某种解决方案吗？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-08T07:02:38.027

在 iOS 6.0 之前，您无法使用普通的 UILabel 或 UITextView 执行此操作，但您可以将 NSAttributedString 对象与一些可能的开源解决方案一起使用。

像[TTAttributedLabel](https://github.com/mattt/TTTAttributedLabel)或[OHAttributedLabel](https://github.com/AliSoftware/OHAttributedLabel)。

iOS SDK 中内置的一种解决方案是，[您还可以使用 CATextLayer，它具有可以设置为 NSAttributedString 的字符串属性](https://stackoverflow.com/a/4422701/981049)。

而且，就像下面的评论者所说，是的，您可以使用[" `attributedText`" 属性](https://developer.apple.com/library/ios/documentation/UIKit/Reference/UILabel_Class/Reference/UILabel.html#//apple_ref/occ/instp/UILabel/attributedText)来做到这一点。万岁！（对于 Apple 倾听开发人员经常重复的功能请求）

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-10-08T09:59:52.840

使用“ `NSAttributedString`”在单个标签中设置多个字体文本并`CATextLayer`用于渲染它：

只是`#import "NSAttributedString+Attributes.h"`

然后像这样实现它：

```
NSString *string1 = @"Hi";

NSString *string2 = @"How are you ?";

NSMutableAttributedString *attr1 = [NSMutableAttributedString attributedStringWithString:string1];

[attr1 setFont:[UIFont systemFontOfSize:20]];

NSMutableAttributedString *attr2 = [NSMutableAttributedString attributedStringWithString:string2]

[attr2 setFont:[UIFont boldSystemFontOfSize:20]];

[attr1 appendAttributedString:attr2]

CATextLayer *textLayer = [CATextLayer layer];

layer.string = attr1;

layer.contentsScale = [[UIScreen mainScreen] scale];

(Your_text_label).layer = textLayer;

OR (if you want to render on a view directly)

[(Your_View_Name).layer addSublayer:textLayer]; 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-07-25T23:32:31.687

我知道这是一个旧线程，但这是我自己发现的。至少在 Xcode 版本 4.6.3 中，这可以通过使用属性 textView 来实现。更棒的是，一切都可以在 Interface Builder 中完成！

以下是步骤：

将 textView 放在所需位置 选择 textView 并打开 Utilities 面板下的 Attributes 选项卡 将 textView 文本更改为“attributed” 输入所需文本 现在，突出显示您想要加粗、下划线等的任何文本。点击“T " 字体名称旁边的按钮 在弹出窗口中，选择所需的字体（例如：粗体） 您应该会在实用程序面板中看到所需的字体享受！

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2015-04-23T15:25:35.990

以下代码适用于 iOS 6.0 及更高版本。结果是文本“This is bold”将变为粗体，而“This is not bold”。将是普通文本。

```
if ([self.registrationLabel respondsToSelector:@selector(setAttributedText:)])
{
    // iOS6 and above : Use NSAttributedStrings
    const CGFloat fontSize = 17;
    UIFont *boldFont = [UIFont boldSystemFontOfSize:fontSize];
    UIFont *regularFont = [UIFont systemFontOfSize:fontSize];
    //UIColor *foregroundColor = [UIColor clearColor];

    // Create the attributes
    NSDictionary *attrs = [NSDictionary dictionaryWithObjectsAndKeys:
                              boldFont, NSFontAttributeName, nil];
    NSDictionary *subAttrs = [NSDictionary dictionaryWithObjectsAndKeys:
                              regularFont, NSFontAttributeName, nil];
    const NSRange range = NSMakeRange(0,12); // range of " 2012/10/14 ". Ideally this should not be hardcoded

    // Create the attributed string (text + attributes)
    NSString *text = @"This is bold and this is not bold.;
    NSMutableAttributedString *attributedText =
    [[NSMutableAttributedString alloc] initWithString:text
                                           attributes:subAttrs];
    [attributedText setAttributes:attrs range:range];

    // Set it in our UILabel and we are done!
    [self.registrationLabel setAttributedText:attributedText];
} 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-08-23T20:07:58.673

如果您在检查器中编辑属性文本时遇到问题，请将文本复制/粘贴到富文本编辑器中，调整它，将 textView 文本选项切换为属性并粘贴。瓦拉。

# c++ - 空字符数组的初始化是否有效？

> ID：12776746
> 
> 赞同：0
> 
> 时间：2012-10-08T06:59:53.457
> 
> 标签：c++

```
int main()
{
    cout<<"Enter a word"<<endl;
    char word1[]={0}; //first char array initialization
    cin>>word1;
    cout<<"Enter another word"<<endl;
    char word2[]={0};  //second char array initialization
    cin>>word2;
    char word3[]={0};  
    char word4[]={0};
    int i=0;
while (word1[i]!='\0')  //this converts both words to lower case by usinction tolower 
{
    word3[i]=char(tolower(word1[i])); //word3 and word4 stores the new arrays
    word4[i]=char(tolower(word2[i]));
    i++;
}

int output;  //output stores the value of 0,1 or -1
output=compareString(word3,word4);
if (output==0)
{
    cout<<"The two words are the same."<<endl; //if arrays are same
}
if (output==1)  
{
    cout<<"the 1st character of 1st word has a larger value than of 2nd word."<<endl;
}
if (output==-1)
{
    cout<<"the 1st character of 2nd word has a larger value than of 1st word."<<endl;
}
return 0; 
```

}

```
int compareString(char string1,char string2)
{
    int size1=0;  //initialize size of string1
    int j=0;   //string1 position initialize
    while (string1[j]!='\0')  //loop to determine size of string1
    {
        size1+=1;
        j+=1;
    }
    int a=0;    //initialize size of string2
    int size2=0;  //string2 position
    while (string2[a]!='\0')  //loop determines size of string2
    {
        size2+=1;
        a+=1;
    }
     int i=0;
     int k=0;
     for (i=0;i<size1;i++)   //loop to compare the two strings
     {
     if (string1[i]!=string2[i])
     {
        if (string1[i]>string2[i])  //comparing 1st character of string1 & string2
        {
            return 1;
        }    
        else   //if string2's first character is greater in value
        {
            return -1;
        }
      }
      else
      {
          k++;  //incrementing k when character of string1 matches string2 character
      }
      }
   if (k==size1)  //to cjheck if all characters of both strings are same
   {
       if (k==size2)
       {
           return 0;
       }
   }
 } 
```

这是一个比较两个 char 数组的函数，如果字符相互对应，则返回 0，如果 string1 的第一个字符大于 string2 的第一个字符，则返回 1，如果 string1 的第一个字符小于第一个字符，则返回 -1 string2.问题是当我运行它时，即使两个单词不同，输出总是0并且出现“单词相同”的文本。我是否在主程序中正确初始化了两个数组？还是有其他问题？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-08T07:02:28.100

本声明

```
char word1[]={0}; 
```

声明一个大小为 1 的数组，这意味着当您进行输入时，它将覆盖堆栈。对于所有其他数组也是如此。

在 C++ 中处理字符串时，强烈建议使用`std::string`!

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-08T07:03:25.360

```
char word1[]={0}; 
```

这一行创建了一个数组`word1`，它只有一个元素，设置为 0。当使用这个数组来保存一个字符串时，除了空字符串之外，你不能保存*任何东西*。您在这里导致缓冲区溢出，因为您将一个非空字符串读入该数组，然后将写入未分配给该数组的其他内存部分。这真是太糟了。

考虑`std::string`改为使用来保存字符串。它将根据需要自动调整其分配大小。

# android - Android ActionbarSherlock 在顶部显示菜单按钮

> ID：12776752
> 
> 赞同：2
> 
> 时间：2012-10-08T07:00:10.633
> 
> 标签：android, android-actionbar, actionbarsherlock

我正在尝试在我的应用程序中实现 ActionBarSherlock，我需要在我的应用程序顶部显示菜单，并集成在操作栏中。问题是它不能正常工作。我这样使用它：

```
public boolean onCreateOptionsMenu(Menu menu) {
    menu.add("Refresh")
        .setIcon(R.drawable.ic_action_refresh)
        .setShowAsAction(MenuItem.SHOW_AS_ACTION_ALWAYS);

    menu.add("Settings")
        .setIcon(R.drawable.ic_action_settings)
        .setShowAsAction(MenuItem.SHOW_AS_ACTION_ALWAYS);
    return true;
} 
```

所以我想要实现的是在我的操作栏的右侧显示一个刷新图标和一个菜单图标，单击时应该打开默认菜单。我检查`ForcedOverflowItem`了 ActionbarSherlock Demos 中的示例，但它没有按我的意愿工作。我需要看起来与 Android 2.+ 和 Android 4.+ 中的相同。

任何建议/帮助/建议我怎样才能让它工作？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-03-08T10:55:20.953

你可以这样做一个xml文件行。我在其他帖子中看到了这一点，但我现在无法正确跟踪它。

```
<menu xmlns:android="http://schemas.android.com/apk/res/android" >

    <item
        android:id="@+id/more"
        android:showAsAction="always"
        android:icon="@drawable/abs__ic_menu_moreoverflow_holo_dark">
        <menu>
            <item
                android:id="@+id/remove"
                android:showAsAction="withText|never"
                android:title="@string/remove">
            </item>
        </menu>
    </item>

</menu> 
```

然后就像普通菜单一样膨胀它。

```
public boolean onCreateOptionsMenu(Menu menu) {
        getSupportMenuInflater().inflate(R.menu.overlow, menu);
        return true;
    } 
```

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-10-08T07:03:26.397

根据我在 ActionbarSherlock 的文档中阅读的内容，您不能强制菜单图标出现在 Android 4.+ 中。当设备有菜单按钮时，菜单图标不会出现。我猜写 ActionbarSherlock 的人很了解这个主题；-)

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-10-08T07:18:17.023

请阅读 dorjeduck 的回答。如果您想在所有设备上拥有相同的体验，您必须使用他的子菜单添加自定义菜单。这是代码总结：

```
SubMenu sub = menu.addSubMenu("More");
sub.setIcon(R.drawable.abs__ic_menu_moreoverflow_holo_dark);
sub.add(0, MENU_SETTINGS, 0, "Settings"); 
```

# vhdl - Reed-Solomon 使用伽罗瓦表

> ID：12776762
> 
> 赞同：1
> 
> 时间：2012-10-08T07:00:53.030
> 
> 标签：vhdl, verilog, fpga

我对实现 reed-solomon 算法有一个想法。但是在 reed-solomon 中，乘法器和除法器的应用很多，需要在硬件中实现。我用谷歌搜索然后找到了伽罗瓦表来做这件事。

伽罗瓦表的思想是使用对数表和逆对数表来实现乘法器和除法器（将其改为查找表，然后可以使用加法器和减法器）。

我想知道我可以在FPGA架构中实现它吗？是不是很费资源？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-08T16:21:46.530

我没有实现这个特定的算法，但我认识到你描述的解决方案的类型。表驱动对数对于 FPGA 来说无疑是一种合理的方法。您将需要具有大量内部块 RAM 存储器容量的 FPGA。

这可以在 FPGA 上实现吗？可能，在某种程度上。会合身吗？我建议您构建一个小型实现或完整实现的一个子集。注意通过扩展实施来消耗的资源和原因。

也请查看[Opencores](http://opencores.org)。“opencores galois table”的快速谷歌搜索产生了一些点击。

# iphone - 如何维护 UITableView 中特定按钮的状态（即停止覆盖图像）

> ID：12776763
> 
> 赞同：3
> 
> 时间：2012-10-08T07:00:53.470
> 
> 标签：iphone, objective-c, ios, uitableview, uibutton

我有一个 iPhone 应用程序问题已经困扰了我好几天了，而且看起来真的不应该这么困难，所以我确定我遗漏了一些明显的东西。我已经研究了很多关于“类似”主题的论坛讨论，但没有具体解决这个问题。

需要明确的是，如果我应该研究一些文档或其他来源，请指出我正确的方向。

开始...

我有一个在表格（uitableview）中向用户显示的项目列表。每个项目的单元格（uitableviewcell）是自定义的，包含两个图像按钮（uibuttons：绿色和红色）。正如预期的那样，对于表格中的每个项目，用户都可以单击任何按钮。基于一个按钮的monitoringRequestType参数，该按钮调用一个单独的进程来更新服务器。如果状态为“已批准”，则图像分别变为“已批准”和“拒绝”。因此，当我单击红色按钮时，服务器将状态更新为“拒绝”，然后图像更改为“批准”和“已拒绝”。很简单，对吧？

所以，这里是问题：

单击拒绝按钮时，“批准”图像出现在“已批准”图像之上（因此可以看到两个图像），而“已拒绝”图像工作正常。为简洁起见，我只在此处包含相关代码（希望格式化适当地）：

```
CellForRow:
if(indexPath.section==0){
    NSDictionary *dict=[saveJson objectAtIndex:indexPath.row];
    NSString* sMonitoringType = [dict valueForKey:@"monitoringType"];
    UIButton *button1= [[UIButton alloc] initWithFrame:CGRectMake(230,10,40,40)];
    UIButton *button2= [[UIButton alloc] initWithFrame:CGRectMake(280,10,40,40)];
    if([sMonitoringType compare:@"Pending"] == NSOrderedSame){
        [button1 setImage:[UIImage imageNamed:@"approve"]     
                 forState:UIControlStateNormal];
        [button1 addTarget:self
                    action:@selector(greenButtonPressed:withEvent:) 
          forControlEvents:UIControlEventTouchUpInside];
         button1.tag= indexPath.row;   
        [button2 setImage:[UIImage imageNamed:@"reject"]
                 forState:UIControlStateNormal];
        [button2 addTarget:self
                    action:@selector(redButtonPressed:withEvent:) 
          forControlEvents:UIControlEventTouchUpInside];
         button2.tag= indexPath.row;             
    } else if([sMonitoringType compare:@"Approved"] == NSOrderedSame){
        [button1 setImage:[UIImage imageNamed:@"alreadyapproved"] 
                 forState:UIControlStateNormal];
        [button2 setImage:[UIImage imageNamed:@"reject"]
                 forState:UIControlStateNormal];
        [button2 addTarget:self
                    action:@selector(redButtonPressed:withEvent:) 
          forControlEvents:UIControlEventTouchUpInside];
         button2.tag= indexPath.row;
    } else if([sMonitoringType compare:@"Rejected"] == NSOrderedSame){
        [button1 setImage:[UIImage imageNamed:@"approve"] 
                 forState:UIControlStateNormal];
        [button2 setImage:[UIImage imageNamed:@"alreadyrejected"] 
                 forState:UIControlStateNormal];
        [button1 addTarget:self
                    action:@selector(greenButtonPressed:withEvent:) 
          forControlEvents:UIControlEventTouchUpInside];
         button1.tag= indexPath.row;
    }
    [cell addSubview:button1];
    [cell addSubview:button2];
    [button1 release];
    [button2 release];
}
return cell;
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-08T07:10:38.623

每当单元重新加载时，`UIButton`s 就会被添加到单元的子视图中（您正在重用单元，对吗？）。您应该重用已添加到单元格子视图中的旧按钮，而不是添加新按钮，并且只是为了验证问题，停止重用单元格（内存效率低，不应该在生产代码中完成！）。要重用旧按钮，请为每个按钮设置一个唯一标签并将它们恢复为`[cell viewWithTag:uniqueTag]`

```
if(indexPath.section==0){
  NSDictionary *dict=[saveJson objectAtIndex:indexPath.row];
  NSString* sMonitoringType = [dict valueForKey:@"monitoringType"];
  UIButton *button1= [cell viewWithTag:900];
  UIButton *button2= [cell viewWithTag:901];
  if(!button1){// button1 doesn't exist yet (first time)
    button1 = [[UIButton alloc] initWithFrame:CGRectMake(230,10,40,40)];
    [cell addSubview:button1];
  }
  if(!button2){// button2 doesn't exist yet (first time)
    button1 = [[UIButton alloc] initWithFrame:CGRectMake(280,10,40,40)];
    [cell addSubview:button2];
  }
  ...... 
```

# apache - Apache mod_deflate：卷曲 VS 其他一切

> ID：12776766
> 
> 赞同：2
> 
> 时间：2012-10-08T07:01:30.117
> 
> 标签：apache, debugging, logging, user-agent, mod-deflate

我希望有人可以帮助我，因为它让我发疯。

我已经在服务器上设置了 mod_deflate，一切似乎都设置正确，但是当我通过浏览器访问 CSS 或 JavaScript 文件时，它说文件没有被压缩。

但是，当我执行 curl 请求时，响应标头说文件正在被压缩。

是的，模块已安装并启用，因为它正在成功记录：

当我通过浏览器（Chrom、FF 等）、wget 或任何在线页面速度测试请求文件时，它会记录类似

```
"GET /var/cache/_2c95fa0249c997011610ad7ddd3332a8.css HTTP/1.0" gzip, deflate -/- (-%) 
```

当我通过 curl 请求时，它提供了一个类似的日志

```
"HEAD /var/cache/_2c95fa0249c997011610ad7ddd3332a8.css HTTP/1.0" gzip, deflate 108466/358074 (30%) 
```

有没有办法检查 mod_deflate 是否真的有效？我在 mod_deflate 的设置中遗漏了什么吗？与 expires 指令和 mod_deflate 是否存在冲突（我已经删除了除 mod_deflate 之外的所有内容，但它仍然不起作用）？

以下是我设置的配置：

主配置文件

```
<IfModule mod_deflate.c>
    DeflateCompressionLevel 4
    DeflateFilterNote Input instream
    DeflateFilterNote Output outstream
    DeflateFilterNote Ratio ratio
    LogFormat '"%r" %{Accept-Encoding}i %{outstream}n/%{instream}n (%{ratio}n%%)' deflate
    CustomLog logs/deflate_log deflate 
</IfModule> 
```

.htaccess 文件

```
<FilesMatch "\.(css|js)$">
 Allow from all
</FilesMatch>
<IfModule mod_expires.c>
  ExpiresActive On
  ExpiresDefault "access plus 1 seconds"
  ExpiresByType text/css "access plus 604800 seconds"
  ExpiresByType text/javascript "access plus 216000 seconds"
  ExpiresByType application/x-javascript "access plus 216000 seconds"
</IfModule>
<IfModule mod_headers.c>
<FilesMatch "\\.(css)$">
    Header set Cache-Control "max-age=2692000, public"
</FilesMatch>
<FilesMatch "\\.(js)$">
    Header set Cache-Control "max-age=216000, private"
</FilesMatch>
Header unset ETag
Header unset Last-Modified
</IfModule>
<IfModule mod_deflate.c>
SetOutputFilter DEFLATE
SetEnvIfNoCase Request_URI \.(?:gif|jpe?g|png)$ no-gzip dont-vary
SetEnvIfNoCase Request_URI \.(?:exe|t?gz|zip|bz2|sit|rar)$ no-gzip dont-vary
SetEnvIfNoCase Request_URI \.(?:pdf|avi|mov|mp3|mp4|rm)$ no-gzip dont-vary

#Dealing with proxy servers
<IfModule mod_headers.c>
    Header append Vary User-Agent env=!dont-vary
</IfModule>
</IfModule> 
```

有问题的文件：

[http://diva.akqire.com/var/cache/_2c95fa0249c997011610ad7ddd3332a8.css](http://diva.akqire.com/var/cache/_2c95fa0249c997011610ad7ddd3332a8.css)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-11-04T19:33:39.180

添加以下标题：

```
Header set Content-Encoding x-deflate 
```

如果使用编码，Apache 服务器不会发送`Content-Length`响应标头。`gzip`

> 有没有办法检查 mod_deflate 是否真的有效？

使用自定义日志来跟踪 deflate 使用情况：

```
DeflateFilterNote Input input_info
DeflateFilterNote Output output_info
DeflateFilterNote Ratio ratio_info
LogFormat '"%r" %{output_info}n/%{input_info}n (%{ratio_info}n%%)' deflate
CustomLog /var/log/httpd/deflate_log deflate 
```

**参考**

*   [配置 mod_deflate](http://www.websiteoptimization.com/secrets/advanced/configuring-mod_deflate.html)
*   [Mod Deflate - 压缩您的网页并节省带宽](http://www.webreference.com/programming/Mod_deflate/index.html)
*   [如何使用 Apache2 的 mod_deflate 节省流量](https://www.howtoforge.com/apache2_mod_deflate)

# android - Android：如何在后退按钮按下时带来 android 默认启动器？

> ID：12776770
> 
> 赞同：0
> 
> 时间：2012-10-08T07:01:40.970
> 
> 标签：android, android-launcher

我想在按下后退按钮时使用 android 默认启动器，但我得到了一个对话框样式的启动器。另外，我不能调用finish()，因为这不是我的第一个活动，而且之前的一些活动也没有完成。这是我的代码：

```
@Override
public void onBackPressed() {
    Intent intent = new Intent();
    intent.setAction(Intent.ACTION_MAIN);
    intent.addCategory(Intent.CATEGORY_LAUNCHER);
    startActivity(intent);
} 
```

![android_launcher](../Images/52f2b147d8cb2ff02d7fe08b95ff9fe9.png) ![launcher_im_getting](../Images/80e7b196f7cb7bfae3b7ce42667d77cd.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-08T07:21:43.373

尝试从您的代码中删除此行并再次运行

```
 intent.addCategory(Intent.CATEGORY_LAUNCHER); 
```

# php - 在 PHP 中将 SmartTurn webservice API 与 SOAP、XML 集成

> ID：12776771
> 
> 赞同：1
> 
> 时间：2012-10-08T07:01:42.753
> 
> 标签：php, xml, soap, curl, wsdl

我是 SOAP 新手。我正在尝试将我的应用程序集成到 SmartTurn webservice API（它是一家库存管理公司）。它们是用于 API 操作的 SOAP 和 wsdl。我是肥皂新手，所以我不知道如何在 php 中做到这一点。这是我想使用的 xml。

```
<?xml version="1.0" encoding="UTF-8" ?><soapenv:Envelope      xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" 
xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"> 
  <soapenv:Body><saveSalesOrder 
xmlns="http://www.smartturn.com/services/OccamService/sales-order"> 
<inCredential> 
   <ns1:UserId 
xmlns:ns1="http://www.smartturn.com/services/occamtypes">webservice@fithoop.com.au</ns1:UserId>  
  <ns2:Password 
xmlns:ns2="http://www.smartturn.com/services/occamtypes">secret</ns2:Password>  
</inCredential> 
<inSalesOrders> 
  <ns3:externalNumber xmlns:ns3="http://www.smartturn.com/services/sales-order-types">Ext-id-00502</ns3:externalNumber>  
  <ns4:type xmlns:ns4="http://www.smartturn.com/services/sales-order-types">EXTERNAL</ns4:type>  
  <ns5:date xmlns:ns5="http://www.smartturn.com/services/sales-order-types">2012-10-20T00:04:34.479Z</ns5:date>  
 <ns6:dateDue xmlns:ns6="http://www.smartturn.com/services/sales-order-types">2012-10-20T00:04:34.479Z</ns6:dateDue>  
  <ns7:customerName xmlns:ns7="http://www.smartturn.com/services/sales-order-types">customer name</ns7:customerName>  
  <ns8:customerContact 
xmlns:ns8="http://www.smartturn.com/services/sales-order-types">customer contact</ns8:customerContact>  
  <ns9:customerContactPhone 
xmlns:ns9="http://www.smartturn.com/services/sales-order-types">customer phone</ns9:customerContactPhone>  
  <ns10:customerAddress 
xmlns:ns10="http://www.smartturn.com/services/sales-order-types"> 
    <ns11:addressLine1 
xmlns:ns11="http://www.smartturn.com/services/occamtypes">the main street</ns11:addressLine1>  
    <ns12:addressLine2 
xmlns:ns12="http://www.smartturn.com/services/occamtypes">broadway</ns12:addressLine2>  
    <ns13:city 
xmlns:ns13="http://www.smartturn.com/services/occamtypes">Oakland</ns13:city>  
    <ns14:state 
xmlns:ns14="http://www.smartturn.com/services/occamtypes">California</ns14:state>  
    <ns15:country 
xmlns:ns15="http://www.smartturn.com/services/occamtypes">USA</ns15:country>  
    <ns16:postalCode 
xmlns:ns16="http://www.smartturn.com/services/occamtypes">94607</ns16:postalCode>  
  </ns10:customerAddress> 
  <ns17:salesRep xmlns:ns17="http://www.smartturn.com/services/sales-order-types">sales rep</ns17:salesRep>  
  <ns18:useShipToAsBillAddress 
xmlns:ns18="http://www.smartturn.com/services/sales-order-types">false</ns18:useShipToAsBillAddress>  
  <ns19:shipToName xmlns:ns19="http://www.smartturn.com/services/sales-order-types">ship to name</ns19:shipToName>  
  <ns20:shipToContact 
xmlns:ns20="http://www.smartturn.com/services/sales-order-types">ship to contact</ns20:shipToContact>  
  <ns21:shipToContactPhone 
xmlns:ns21="http://www.smartturn.com/services/sales-order-types">ship to contact phone</ns21:shipToContactPhone>  
  <ns22:status xmlns:ns22="http://www.smartturn.com/services/sales-order-types">NEW</ns22:status>  
  <ns23:item xmlns:ns23="http://www.smartturn.com/services/sales-order-types"> 
    <ns23:itemMasterId>BB-10</ns23:itemMasterId>  
    <ns23:description>this is a desc</ns23:description>  
    <ns23:details>these are details</ns23:details>  
    <ns23:orderedQuantity> 
<ns26:value 
xmlns:ns26="http://www.smartturn.com/services/occamtypes">10.0</ns26:value>  
<ns27:unitAbbreviation 
xmlns:ns27="http://www.smartturn.com/services/occamtypes">ea</ns27:unitAbbreviation>  
    </ns23:orderedQuantity> 
  <ns23:customerRequestDate>2007-03-
20T00:04:34.479Z</ns23:customerRequestDate>  
  <ns23:price> 
<ns28:value 
xmlns:ns28="http://www.smartturn.com/services/occamtypes">100.0</ns28:value>  
<ns29:type 
xmlns:ns29="http://www.smartturn.com/services/occamtypes">$10</ns29:type>  
  </ns23:price> 
  <ns23:vendorItemId>vendor item id</ns23:vendorItemId>  
  <ns23:manufacturerItemId>manf item id</ns23:manufacturerItemId>  
  <ns23:upcCode>UPC Code</ns23:upcCode>  
  <ns23:manufacturerId>manf id</ns23:manufacturerId>  
</ns23:item> 
<ns30:comments xmlns:ns30="http://www.smartturn.com/services/sales-order-types">This is a comment</ns30:comments>  
</inSalesOrders> 
</saveSalesOrder> 
</soapenv:Body> 
</soapenv:Envelope> 
```

`

并且 url `$url = "https://services.smartturn.com/occam/services/OccamService?wsdl";` 和我想要执行的操作是'saveSalesOrder' 我怎么能在 php 中做到这一点。

提前致谢 。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-08T07:25:40.303

首先，您需要安装并启用 PHP 的 SOAP 扩展。然后：

```
$url = "https://services.smartturn.com/occam/services/OccamService?wsdl";

$data = array(
    "UserId"               => "secret",
    "Password"             => "secret",
    "type"                 => "EXTERNAL",
    "date"                 => "2012-10-20T00:04:34.479Z",
    "dateDue"              => "2012-10-20T00:04:34.479Z",
    "externalNumber"       => "Ext-id-00502",
    "customerName"         => "test ",
    "customerContact"      => "customer Contact",
    "customerContactPhone" => "123456789",
    "salesRep"             => "w salesRep",
);

try {
    $soapClient = new SoapClient($url, array(
        'trace' => true, // for debugging, disable in production
        //"connection_timeout" => 1
    ));

    // List types to get an idea how to call methods, since it looks like
    // there are no help pages as in .asmx services
    // var_dump($soapClient->__getTypes());

    $soapClient->saveSalesOrder($data);
} catch (Exception $e) {
    trigger_error("SOAP error: ".$e->getMessage(), E_USER_WARNING);
} 
```

链接：

[整体 SmartTurn 服务列表](https://services.smartturn.com/occam/services)

[PHP SoapClient 文档](http://www.php.net/manual/en/soapclient.soapclient.php)

编辑：根据评论更新示例。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-06-24T09:23:08.260

这是 Halil 的一个很好的回答，真的帮助我弄清楚该怎么做。您需要添加更多数组来创建请求，因为 XML 请求的嵌套值需要放入数组中。此外，还需要填写最少数量的字段，因此您最好查看 API 文档并查看示例请求，然后格式化您的数组以匹配嵌套值。例如：

```
$url = "https://stdemo.smartturn.com/occam/services/OccamService?wsdl"; //DEMO URL
// $url = "https://app.smartturn.com/occam/services/OccamService?wsdl"; //LIVE URL

$data = array(
"inCredential" => array("UserId" => "secret", "Password" => "secret"),
"inSalesOrders" => array("type" => "EXTERNAL",
                         "date" => "2012-10-20T00:04:34.479Z",
                         "dateDue" => "2012-10-20T00:04:34.479Z",
                         "externalNumber" => "Ext-id-00502",
                         "customerName" => "test ",
                         "customerContact" => "customer Contact",
                         "customerContactPhone" => "123456789",
                         "salesRep" => "w salesRep",
                          ...
                    )
);

try {
$soapClient = new SoapClient($url, array(
    'trace' => true, // for debugging, disable in production
    //"connection_timeout" => 1
));

// List types to get an idea how to call methods, since it looks like
// there are no help pages as in .asmx services
// var_dump($soapClient->__getTypes());

$soapClient->saveSalesOrder($data);
} catch (Exception $e) {
    trigger_error("SOAP error: ".$e->getMessage(), E_USER_WARNING);
} 
```

使用此方法生成 SOAP 信封的唯一问题是，当您使用关联数组时，您只能在每个销售订单请求中发送 1 个项目对象。一旦您的订单中有多个商品，这将不起作用。您可以调查 SoapVar，我最终形成了完整的 XML 文档，然后使用 CURL 发送它。

# python - 如何用 Python 抓取 XML？

> ID：12776774
> 
> 赞同：0
> 
> 时间：2012-10-08T07:01:57.340
> 
> 标签：python, xml, dom, scrape

我正在尝试用 Python 解析以下 XML。我在用：

```
thumbnail_tag = dom.getElementsByTagName('media:thumbnail')[0].toxml() 
```

这选择了第一个。我知道我可以将 更改`[0]`为`[1]`以获取标签`yt:name="mqdefault"`，但是是否有另一种方法可以更改上述语句中的参数（添加一些内容`media:thumbnail`）？

```
<entry>
<media:thumbnail url="http://i.ytimg.com/vi/k8J-72MmTGg/default.jpg" height="90" width="120" time="00:01:48.500" yt:name="default" />
<media:thumbnail url="http://i.ytimg.com/vi/k8J-72MmTGg/mqdefault.jpg" height="180" width="320" yt:name="mqdefault" />
<media:thumbnail url="http://i.ytimg.com/vi/k8J-72MmTGg/hqdefault.jpg" height="360" width="480" yt:name="hqdefault" />
</entry>

<entry>
<media:thumbnail url="http://i.ytimg.com/vi/k8J-72MmTGg/default.jpg" height="90" width="120" time="00:01:48.500" yt:name="default" />
<media:thumbnail url="http://i.ytimg.com/vi/k8J-72MmTGg/mqdefault.jpg" height="180" width="320" yt:name="mqdefault" />
<media:thumbnail url="http://i.ytimg.com/vi/k8J-72MmTGg/hqdefault.jpg" height="360" width="480" yt:name="hqdefault" />
</entry> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-08T07:05:24.920

[这是有关 python XML 解析器的文档。](http://docs.python.org/library/pyexpat.html)

对于您的实施，您可以使用：

```
for element in thumbnail_tag:
    attr = element.getAttribute('yt:name') 
```

要更改属性的值：

```
for element in thumbnail_tag:
    attr = element.getAttribute('yt:name')
    if attr == 'mqdefault':
        element.setAttribute('yt:name', 'new_value')
        break 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-08T08:54:26.330

我建议使用标准`xml.etree.ElementTree`而不是 DOM。虽然 DOM 更传统，但它也更丑陋且更难使用。看看[Dive Into Python 3, Chapter 12\. XML](http://getpython3.com/diveintopython3/xml.html)。

标准模块支持在您的情况下可能有用的 XPath 语言子集。

这是从 中提取所需元素的示例代码`sample.xml`：

```
import xml.etree.ElementTree as et

tree = et.parse('sample.xml')

root = tree.getroot()     # the root element of the tree

##et.dump(root)             # here is how the input file looks inside

print '==========================================='
print 'Iterate through all media:thumbnail:'

# XPath expressions that describe the wanted elements. Here we have 3 ones;
# however, they are just strings and can be constructed on the fly.
xp_default = ".//{http://search.yahoo.com/mrss/}thumbnail[" \
                 "@{http://gdata.youtube.com/schemas/2007}name='default']"

xp_mqdefault = ".//{http://search.yahoo.com/mrss/}thumbnail[" \
                 "@{http://gdata.youtube.com/schemas/2007}name='mqdefault']"

xp_hqdefault = ".//{http://search.yahoo.com/mrss/}thumbnail[" \
                 "@{http://gdata.youtube.com/schemas/2007}name='hqdefault']"

for e in root.iterfind(xp_default):
    et.dump(e)
    print '-------------------------------------------'

for e in root.iterfind(xp_mqdefault):
    et.dump(e)
    print '-------------------------------------------'

for e in root.iterfind(xp_hqdefault):
    et.dump(e)
    print '-------------------------------------------'
    print 'The e.attrib is a dictionary of attributes:'
    print e.attrib 
```

它打印以下内容...：

```
c:\tmp\___python\sharataka\so12776774>py a.py
===========================================
Iterate through all media:thumbnail:
<ns0:thumbnail xmlns:ns0="http://search.yahoo.com/mrss/" xmlns:ns1="http://gdata
.youtube.com/schemas/2007" height="90" time="00:01:41" url="http://img.youtube.c
om/vi/jXE6G9CYcJs/default.jpg" width="120" ns1:name="default" />

-------------------------------------------
<ns0:thumbnail xmlns:ns0="http://search.yahoo.com/mrss/" xmlns:ns1="http://gdata
.youtube.com/schemas/2007" height="180" url="http://img.youtube.com/vi/jXE6G9CYc
Js/mqdefault.jpg" width="320" ns1:name="mqdefault" />

-------------------------------------------
<ns0:thumbnail xmlns:ns0="http://search.yahoo.com/mrss/" xmlns:ns1="http://gdata
.youtube.com/schemas/2007" height="360" url="http://img.youtube.com/vi/jXE6G9CYc
Js/hqdefault.jpg" width="480" ns1:name="hqdefault" />

-------------------------------------------
The e.attrib is a dictionary of attributes:
{'url': 'http://img.youtube.com/vi/jXE6G9CYcJs/hqdefault.jpg', 'width': '480', '
height': '360', '{http://gdata.youtube.com/schemas/2007}name': 'hqdefault'} 
```

...对于`sample.xml`（在某处找到，已缩短）的内容：

```
<?xml version='1.0' encoding='UTF-8'?>
<feed xmlns='http://www.w3.org/2005/Atom'
  xmlns:media='http://search.yahoo.com/mrss/'
  xmlns:yt='http://gdata.youtube.com/schemas/2007'>
  <entry>
    <media:group>
      <media:title type='plain'>Learning the ABCs</media:title>
      <media:description type='plain'>
        A great method for teaching kids the alphabet.
      </media:description>
      <media:keywords>alphabet, teaching, children</media:keywords>
      <yt:duration seconds='202'/>
      <yt:videoid>jXE6G9CYcJs</yt:videoid>
      <media:credit role='uploader' scheme='urn:youtube'
          yt:display='GoogleDeveloperssFriend'>GoogleDeveloperssFriend</media:credit>
      <media:category label='Education'
        scheme='http://gdata.youtube.com/schemas/2007/categories.cat'>
        Education</media:category>
      <media:content url='http://www.youtube.com/v/jXE6G9CYcJs'
        type='application/x-shockwave-flash' medium='video' isDefault='true'
        expression='full' duration='202' yt:format='5'/>
      <media:content
        url='rtsp://rtsp2.youtube.com/ChoLENySANFEgGDA==/0/0/0/video.3gp'
        type='video/3gpp' medium='video' expression='full'
        duration='202' yt:format='1'/>
      <media:content
        url='rtsp://rtsp2.youtube.com/ChoLENySARFEgGDA==/0/0/0/video.3gp'
        type='video/3gpp' medium='video' expression='full'
        duration='202' yt:format='6'/>
      <media:player url='https://www.youtube.com/watch?v=jXE6G9CYcJs'/>
      <media:thumbnail url='http://img.youtube.com/vi/jXE6G9CYcJs/default.jpg'
        height='90' width='120' time='00:01:41' yt:name='default'/>
      <media:thumbnail url='http://img.youtube.com/vi/jXE6G9CYcJs/hqdefault.jpg'
        height='360' width='480' yt:name='hqdefault'/>
      <media:thumbnail url='http://img.youtube.com/vi/jXE6G9CYcJs/mqdefault.jpg'
        height='180' width='320' yt:name='mqdefault'/>
      <media:thumbnail url='http://img.youtube.com/vi/jXE6G9CYcJs/1.jpg'
        height='90' width='120' time='00:00:50.500' yt:name='start'/>
      <media:thumbnail url='http://img.youtube.com/vi/jXE6G9CYcJs/2.jpg'
        height='90' width='120' time='00:01:41' yt:name='end'/>
      <media:thumbnail url='http://img.youtube.com/vi/jXE6G9CYcJs/3.jpg'
        height='90' width='120' time='00:02:31.500' yt:name='middle'/>
    </media:group>
    <yt:statistics viewCount='286355' favoriteCount='201'/>
  </entry>
</feed> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-08T09:22:38.060

要创建此 xml 字符串的 dom 对象，您必须在根标记或同一标记中定义**XML 命名空间。**

命名空间由元素开头的**xmlns 属性定义。**

命名空间声明具有以下语法：

```
xmlns:prefix="URI" 
```

**例如：**

```
<root>
    <h:table xmlns:h="http://bluejson.com/W3C/">
        <h:tr>
            <h:td>JSON</h:td>
            <h:td>JavaScript</h:td>
            <h:td>Python</h:td>
        </h:tr>
    </h:table>

    <f:table xmlns:f="http://bluejson.com/W3C/">
        <f:name>My Study Room</f:name>
        <f:width>800</f:width>
        <f:height>420</f:height>
        <f:length>1120</f:length>
    </f:table>
</root> 
```

在上面的例子中，标签中的 xmlns 属性给了 h: 和 f: 前缀一个合格的命名空间。

当为一个元素定义一个命名空间时，所有具有相同前缀的子元素都与同一个命名空间相关联。

命名空间可以在使用它们的元素或 XML 根元素中声明：

```
<root xmlns:h="http://bluejson.com/W3C/" xmlns:f="http://bluejson.com/W3C/">
    <h:table>
        <h:tr>
            <h:td>JSON</h:td>
            <h:td>JavaScript</h:td>
            <h:td>Python</h:td>
        </h:tr>
    </h:table>

    <f:table>
        <f:name>My Study Room</f:name>
        <f:width>800</f:width>
        <f:height>420</f:height>
        <f:length>1120</f:length>
    </f:table>
</root> 
```

**现在，使用 Python 代码创建您的 xml dom 对象并获取属性**

```
import xml.dom.minidom

dom = xml.dom.minidom.parseString("""
<root xmlns:media="http://media/" xmlns:yt="http://media/yt/">
    <media:thumbnail url="http://i.ytimg.com/vi/k8J-72MmTGg/default.jpg" height="90" width="120" time="00:01:48.500" yt:name="default" />
    <media:thumbnail url="http://i.ytimg.com/vi/k8J-72MmTGg/mqdefault.jpg" height="180" width="320" yt:name="mqdefault" />
    <media:thumbnail url="http://i.ytimg.com/vi/k8J-72MmTGg/hqdefault.jpg" height="360" width="480" yt:name="hqdefault" />
</root>""")

media_thumbnail = dom.getElementsByTagNameNS("http://media/","thumbnail")
print media_thumbnail[0].getAttribute("height")
print media_thumbnail[0].getAttribute("width")
print media_thumbnail[0].getAttribute("time")
print media_thumbnail[0].getAttributeNS("http://media/yt/","name")
media_thumbnail[0].setAttribute("unit","px")
media_thumbnail[0].setAttributeNS("http://media/yt/","value","1")
print dom.toxml() 
```

输出：

```
90
120
00:01:48.500
default
<?xml version="1.0" ?><root xmlns:media="http://media/" xmlns:yt="http://media/yt/">
    <media:thumbnail height="90" time="00:01:48.500" unit="px" url="http://i.ytimg.com/vi/k8J-72MmTGg/default.jpg" value="1" width="120" yt:name="default"/>
    <media:thumbnail height="180" url="http://i.ytimg.com/vi/k8J-72MmTGg/mqdefault.jpg" width="320" yt:name="mqdefault"/>
    <media:thumbnail height="360" url="http://i.ytimg.com/vi/k8J-72MmTGg/hqdefault.jpg" width="480" yt:name="hqdefault"/>
</root> 
```

# ruby-on-rails - 修改 rails link_to helper

> ID：12776777
> 
> 赞同：1
> 
> 时间：2012-10-08T07:02:15.167
> 
> 标签：ruby-on-rails

我在某个地方找到了helper 中的哪个`:back`选项有以下代码：`link_to`

`@controller.request.env["HTTP_REFERER"] || 'javascript:history.back()`

我在哪里可以改变它？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-08T07:12:08.960

它实际上是使用`url_for`助手。您可以在帮助程序中覆盖它。例如，将它放在 Rails 应用程序的 application_helper.rb 中：

```
def url_for(options = {})
  if options == :back
    # replace this with your code
    controller.request.env["HTTP_REFERER"] || 'javascript:history.back()'
  else
    super(options)
  end
end 
```

# python - 如何通过python中的配置文件设置多个处理程序？

> ID：12776785
> 
> 赞同：3
> 
> 时间：2012-10-08T07:02:46.773
> 
> 标签：python, logging, configuration-files

`addHandler`我知道您可以通过调用Python来设置多个不同级别的记录器处理程序。

但是，我需要通过一个配置文件设置两个处理程序，以便通过调用

```
logging.config.fileConfig('log.conf')
logger = logging.getLogger('my_logger') 
```

我得到一个`logger`有两个不同级别的处理程序。

我应该如何写`log.conf`文件？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-08T07:21:33.593

这是一个具有两个处理程序的根记录器的基本示例：

```
[loggers]
keys=root

[handlers]
keys=hand01,hand02

[formatters]
keys=

[logger_root]
level=DEBUG
handlers=hand01,hand02

[handler_hand01]
class=StreamHandler
args=()

[handler_hand02]
class=StreamHandler
args=() 
```

# android - 如何使用自定义按钮在警报对话框中设置/清除多项选择项？

> ID：12776790
> 
> 赞同：5
> 
> 时间：2012-10-08T07:03:03.950
> 
> 标签：android, android-alertdialog, custom-component, onclicklistener

我做了一个小安卓应用程序。在其中我需要一个带有多项选择的 AlertDialog。但是我需要自定义按钮（单击按钮时，它会隐藏，我们可以在这个地方看到另一个按钮）。我知道了。但是当我试图通过单击我的自定义按钮将所有多选项目设置为真时，我不知道该怎么做。因为我的 onclicklistener 中的自定义按钮没有

```
 public void onClick(DialogInterface dialog, int index, boolean status)
 {                        

 } 
```

而且我不知道如何进入对话框项目。我希望我的问题很清楚）添加我的所有代码：

```
protected Dialog onCreateDialog(int id) {

    // AlertDialog.Builder
    adb = new AlertDialog.Builder(this);

    // multichoice from array and array of checked items
    adb.setTitle("Категории");
    adb.setMultiChoiceItems(category, category_chkd,
            new DialogInterface.OnMultiChoiceClickListener() {

                public void onClick(DialogInterface dialog, int which,
                        boolean isChecked) {

                }
            });

    // dialog buttons from category_buttons.xml
    cat_view = (RelativeLayout) getLayoutInflater().inflate(
            R.layout.category_buttons, null);
    adb.setView(cat_view);

    cat_fill_btn = (Button) cat_view
            .findViewById(R.id.category_fill_button);
    cat_clean_btn = (Button) cat_view
            .findViewById(R.id.category_clean_button);
    cat_ok_btn = (Button) cat_view.findViewById(R.id.category_ok_button);

    //AlertDialog
    alert = adb.create();
    //button Ok
    cat_ok_btn.setOnClickListener(new OnClickListener() {

        public void onClick(View v) {
            alert.cancel();

        }
    });

    //  button to clear the list
    cat_clean_btn.setOnClickListener(new OnClickListener() {

        public void onClick(View v) {
            cat_fill_btn.setVisibility(View.VISIBLE);
        }
    });

    // button to fill the list
    cat_fill_btn.setOnClickListener(new OnClickListener() {

        public void onClick(View v) {
            cat_fill_btn.setVisibility(View.INVISIBLE);

        }
    });

    return alert;

} 
```

# c# - 并行运行两个循环

> ID：12776792
> 
> 赞同：2
> 
> 时间：2012-10-08T07:03:06.887
> 
> 标签：c#, parallel-processing

我正在研究一种视频流算法。我已将整个视频分成一组图像。现在每个图像将根据时间进行流式传输（`Image.TimeInMs`表示图像流式传输或发送的时间）。维持时间我有`System.Timer.Timer`对象。

```
_timer = new System.Timers.Timer(250);
_timer.Elapsed += new ElapsedEventHandler(timeCounterIncrementer);
_timer.Enabled = true;

for( i =0; i<imageArray.length;i++)
{
    while (timeCounter < imageArray[i].TimeInMs)
    {                          
        StreamImage();
    }
}

void timeCounterIncrementer(object sender, ElapsedEventArgs e)
{
    timeCounter+=250;            
} 
```

在上面的代码中当while循环运行时timer方法`timeCounterIncrementer`不会执行。我希望计时器方法一方面运行，另一方面运行 While 循环。换句话说，如何并行运行 while 循环和计时器方法？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-08T07:15:24.560

最近我有一个类似的问题。至少我使用[任务并行（任务并行库）](http://msdn.microsoft.com/en-us/library/dd537609.aspx)修复了它，因为线程对我来说是 2*困难*:)

如果您完成将两个循环分成方法，则可以并行调用这两个方法，如下所示：

```
Parallel.Invoke(() => DoSomeWork(), () => DoSomeOtherWork()); 
```

# java - U0670 支持黑莓开发

> ID：12776795
> 
> 赞同：1
> 
> 时间：2012-10-08T07:03:22.033
> 
> 标签：java, blackberry, unicode

我正在开发一个应用程序，要求我以阿拉伯语文本发布内容。到目前为止，我正在使用 UTF-8，并且这些单词看起来很好。然而，有些词被切成两半。我的客户希望我使用 Unicode 字符 'ARABIC LETTER SUPERSCRIPT ALEF' (U+0670)。我想知道黑莓是否支持这个 unicode。

谢谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-08T07:18:19.847

有一个支持的字符集检查列表
[http://btsc.webapps.blackberry.com/btsc/viewdocument.do;jsessionid=0FDE6789F61D444C44606FD257457AE2?externalId=KB04262&sliceId=1&cmd=displayKC&docType=kc&noCount=true&ViewedDocsListHelper=com.kanisa.apps.common。 BaseViewedDocsListHelperImpl](http://btsc.webapps.blackberry.com/btsc/viewdocument.do;jsessionid=0FDE6789F61D444C44606FD257457AE2?externalId=KB04262&sliceId=1&cmd=displayKC&docType=kc&noCount=true&ViewedDocsListHelper=com.kanisa.apps.common.BaseViewedDocsListHelperImpl)

# rss - dlvr.it RSS 提要在页面墙上没有 youtube 缩略图

> ID：12776797
> 
> 赞同：-1
> 
> 时间：2012-10-08T07:03:25.687
> 
> 标签：rss, thumbnails, feed, facebook-page

目前，我已设置 RSS 以将我的 CMS（IP.Content）中的所有新文章发布到我的 Facebook 页面。这些帖子中的大多数都包含嵌入的 youtube 视频。当 RSS 从文章中提取提要时，不会发布任何图像缩略图或视频缩略图。

以下是它在我的 Facebook 上发布的方式： ![在此处输入图像描述](../Images/3eb17da0e5ef6aa1157aef62c632f4ba.png)

这是使用的示例提要：

[饲料 1](http://forum.liftersloot.com/rss/ccs/1c11-news/)

[饲料 2](http://forum.liftersloot.com/index.php?/rss/ccs/1c11-News/)

我已经在 RSS 阅读器中测试了提要并显示了视频。

这是一个使用 dlvr.it 和 youtube 缩略图的 facebook 页面，这是我想要实现的：

![在此处输入图像描述](../Images/23a8d71d7fa32c3cff0bb1dda5df9d4e.png)

我尝试过 dlvr.it、twitterfeed 和 graffitti RSS。有没有人有任何想法？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-10T11:12:48.623

不确定这是否会有所帮助，但值得一试！

在 dlvr.it 中单击您的 Facebook 目的地上的编辑，单击发布内容选项卡并确保发布样式 = 共享链接和缩略图样式 = 由 facebook 自动检测。

它对我有用！

# actionscript-3 - 将新的外部 swf 加载到舞台上并肯定会删除前一个

> ID：12776807
> 
> 赞同：1
> 
> 时间：2012-10-08T07:04:32.597
> 
> 标签：actionscript-3, flash, removechild, addchild

我有三部电影：1）主要电影 2）外部＃1 3）外部＃2

打开主电影时，它会加载到外部 swf 之一的新容器“MovieClip”中（取决于变量）。在主电影中，我还有一个将外部 SWF 切换到另一个的按钮。每个外部在其关键帧上都有一些声音。当我想用主电影中的“按钮”更改外部时，它正确加载了新的外部，但旧的仍然低于新的，旧的仍然播放它们的声音。加载新的 SWF 时如何删除以前的 SWF。删除或清除或静音此外部的声音？下面是我正在创建的所有代码。

```
var ladujFilm:String = "external#x.swf"; // the name comes with amfPHP so it's dynamic

    var movieLoad:URLRequest = new URLRequest(ladujFilm);
    movieLoader.load(movieLoad);
    movieLoader.contentLoaderInfo.addEventListener(Event.COMPLETE, movieLoaded_fn);

function movieLoaded_fn(event:Event):void {
    addChildAt(movieLoader, 1);
    movieLoader.x = 0;
    movieLoader.y = 0;
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-08T07:50:01.953

Loader 类具有 unloadAndStop 方法，您需要在“旧”加载器上使用它。

[文档](http://help.adobe.com/en_US/FlashPlatform/reference/actionscript/3/flash/display/Loader.html#unloadAndStop%28%29)

[例子](http://helpx.adobe.com/flash/kb/flash-player-10-action-script.html)

此致

# android - 警报对话框太小

> ID：12776810
> 
> 赞同：1
> 
> 时间：2012-10-08T07:04:49.663
> 
> 标签：android, android-layout, android-alertdialog

我有一个自定义警报对话框，我用这个创建：

XML:

```
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent"
    android:background="@drawable/backgroundgeneral"
android:padding="10dp" <!-- editted -->
    android:orientation="vertical" >

    <TextView
        android:id="@+id/tvMensajeAceptarDialogo"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_marginLeft="5dp"
        android:layout_marginRight="5dp"
        android:textColor="@color/negro" />

    <LinearLayout
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:layout_marginTop="10dp"
        android:gravity="center"
        android:weightSum="1" >

        <Button
            android:id="@+id/btnAceptarDialogo"
            style="?android:attr/buttonStyleSmall"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:background="@drawable/bt_rojo"
            android:gravity="bottom|center"
            android:shadowColor="#000000"
            android:shadowDx="0"
            android:shadowDy="-1"
            android:shadowRadius="0.1"
            android:text="Aceptar"
            android:textColor="@color/blanco"
            android:textSize="14sp"
            android:textStyle="bold" />
    </LinearLayout>

</LinearLayout> 
```

爪哇：

```
alerta = new AlertDialog.Builder(ConfirmarVisita.this).create();
LayoutInflater layoutInflater = (LayoutInflater) getApplicationContext().getSystemService(Context.LAYOUT_INFLATER_SERVICE);
View view = layoutInflater.inflate(R.layout.layoutdialogoaceptar, null);
TextView mensaje = (TextView) view.findViewById(R.id.tvMensajeAceptarDialogo);
mensaje.setText("Visita confirmada");
WindowManager.LayoutParams lp = new WindowManager.LayoutParams();
lp.width = LayoutParams.MATCH_PARENT;
lp.height = LayoutParams.MATCH_PARENT;
alerta.getWindow().setAttributes(lp);

Button btnAceptar = (Button) view.findViewById(R.id.btnAceptarDialogo);
btnAceptar.setOnClickListener(new OnClickListener() {

    @Override
    public void onClick(View v) {
        alerta.dismiss();
        Intent detalleServicio = new Intent(Contexto, DetalleServicio.class);
        detalleServicio.putExtra("codigo_parcela_servicio", servicioRecogido);
        startActivity(detalleServicio);
     }
});
alerta.setView(view);              
alerta.show(); 
```

但是当它显示得太小时：

![太小](../Images/5d2e6c64ce81667e407e964b6b6f378c.png)

我究竟做错了什么？我尝试将宽度和高度设置为 500dp，但结果相同。

问题2，如何去除白色边框？我认为这两个问题是相同的，但我不确定。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-12T00:55:33.617

```
Display dm = getWindowManager().getDefaultDisplay();
    final int width = dm.getWidth();
    final int height = dm.getHeight();
dialog.getWindow().setLayout(width, height/2); 
```

你可以试试。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-08T07:43:28.157

试试这样的警报对话框

```
AlertDialog.Builder builder = new AlertDialog.Builder(
                ContactList.this);

        builder.setCancelable(true);
        builder.setTitle("your title");

        builder.setInverseBackgroundForced(true);

        builder.setNegativeButton("No",
                new DialogInterface.OnClickListener() {

                    @Override
                    public void onClick(DialogInterface dialog, int which) {
                        dialog.dismiss();
                    }
                });

        builder.setPositiveButton("Yes",
                new DialogInterface.OnClickListener() {

                    @Override
                    public void onClick(DialogInterface dialog, int which) {

                         //your stuffs
                    }
                });

        AlertDialog alert = builder.create();
        alert.show(); 
```

这可能会帮助你

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2016-01-17T21:41:24.303

尝试`android:layout_height`为 base 设置一些值`LinearLayout`。

例如：

```
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"

    <!-- right here -->
    android:layout_height="100dp"

    android:background="@drawable/backgroundgeneral"
    android:padding="10dp" <!-- editted -->
    android:orientation="vertical" > 
```

# java - java - 如何存储唯一对象以避免java Set中的重复？

> ID：12776813
> 
> 赞同：5
> 
> 时间：2012-10-08T07:04:55.513
> 
> 标签：java, hashmap, set, hashtable

java - 如何存储唯一对象以避免java Set中的重复？

例如

考虑 Employee 对象（员工 ID、姓名、薪水……）

需要在 Set 中添加的对象的员工列表。我们需要对需要通过“Employee Id.”标识的重复元素的 Set 进行限制。

最好的方法是什么？

* * *

## 回答 #1

> 赞同：16
> 
> 时间：2012-10-08T07:10:57.527

如果您使用的是 a 的实现，`java.util.Set`只要您的`equals`和`hashCode`方法正确实现，它就不应该允许重复。不知道为什么你有 hashmap 和 hashtable 作为你的问题的标签。也许您应该改写您的问题并添加给您带来问题的代码？

编辑：考虑您的编辑：

如果你使用 a `Set`，你的 Employee 应该有以下方法：

```
 @Override
    public int hashCode() {
      final int prime = 31;
      int result = 1;
      result = prime * result + ((id == null) ? 0 : id.hashCode());
      return result;
    }

    @Override
    public boolean equals(Object obj) {
        if (this == obj)
          return true;
        if (obj == null)
          return false;
        if (getClass() != obj.getClass())
          return false;
        Employee other = (Employee) obj;
        if (id == null) {
          if (other.id != null)
            return false;
        } else if (!id.equals(other.id))
          return false;
        return true;
      } 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2018-10-08T13:23:03.813

与@Dirk 类似，您也可以使用 org.apache.commons 中的 HashCodeBuilder 和 EqualsBuilder。

它看起来像这样：

```
@Override
public int hashCode() {
    return new HashCodeBuilder()
            .append(id)
            .append(name)
            .append(salary)
            .toHashCode();
}

@Override
public boolean equals(Object obj) {
    if (obj instanceof Employee) {
        final Employee employee = (Employee) obj;

        return new EqualsBuilder()
                .append(id, employee.id)
                .append(id, employee.name)
                .append(id, employee.salary)
                .isEquals();
    } else {
        return false;
    }
} 
```

* * *

## 回答 #3

> 赞同：-3
> 
> 时间：2012-10-08T07:09:09.093

设置仅存储唯一对象

例如：

```
 Set set = new HashSet();
 // Add elements to the set
 set.add("a");//true
 set.add("b");//true
 set.add("c");//true
 set.add("d");//true
 set.add("a");//false 
```

当您尝试存储已在 Set 中的对象时，add 将返回 false

# java - 将时间添加到日历

> ID：12776816
> 
> 赞同：5
> 
> 时间：2012-10-08T07:05:04.580
> 
> 标签：java

> **可能重复：**
> [如何使用 Java 日历从日期中减去 X 天？](https://stackoverflow.com/questions/212321/how-to-subtract-x-days-from-a-date-using-java-calendar)

这应该很容易回答，但我想知道：例如，如果您向日历添加 50 秒，而当前秒数为 20，它会添加 1 分钟并将秒数设置为 10，还是将秒数设置为70？这里有一些代码可以更好地说明我的意思：

```
Calendar cal;  
public void test(){  
cal.add(Calendar.SECOND, 50);  
} 
```

因此，假设当该代码运行时，当前秒为 20，当前分钟为 10。它会变为 11 分 10 秒还是 10 分 70 秒？提前致谢。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-10-08T07:07:10.317

我没有尝试过，但我希望它会通过 1 分 10 秒。

...现在我试过了，显然得到了证实：

```
public class Test {

public static void main(String[] args) {
    Calendar cal = GregorianCalendar.getInstance();
    System.out.println("Minutes : "+ cal.get(Calendar.MINUTE));
    System.out.println("Seconds :" + cal.get(Calendar.SECOND));
    cal.add(Calendar.SECOND, 50);
    System.out.println("Minutes : "+ cal.get(Calendar.MINUTE));
    System.out.println("Seconds :" + cal.get(Calendar.SECOND));
} 
```

}

打印到我的控制台：

```
Minutes : 11
Seconds :33
Minutes : 12
Seconds :23 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-08T07:25:25.873

您描述的时间只是它的格式。实际上，日期的值存储为`long`数字。通过使用适当的参数调用`Calendar#add(type,value)`方法，您只需向该数字添加/减去值`long`。

该数字的 0 值表示[posix 时间，1970 年 1 月 1 日](http://en.wikipedia.org/wiki/Unix_time)

和值`1349591726`，表示格式化后`2012-10-07 06:35:26Z`

# c# - SQL Server 2012 几何 - 使用 SqlDataAdapter 加载架构

> ID：12776833
> 
> 赞同：3
> 
> 时间：2012-10-08T07:06:07.197
> 
> 标签：c#, sql, sql-server

我正在创建：

```
public DataTable CreateEmptyTableGeometryPoint(int srid)
{
    DataTable dt = new DataTable();

    SqlDataAdapter adapter = new SqlDataAdapter(
        string.Format("SELECT * FROM Geometry_Point_SRID_{0}",srid), 
        connection);
    adapter.MissingSchemaAction = MissingSchemaAction.AddWithKey;
    adapter.FillSchema(dt, SchemaType.Source);

    return dt;
} 
```

现在，我尝试了：

```
DataTable dtGeometry = dal.CreateEmptyTableGeometryPoint(srid);
DataRow rowGeometry = dtGeometry.NewRow();

rowGeometry["Geometry"] = SqlGeometry.Point(100.0, 300.0, srid); 
```

我得到一个`ArgumentException`.

为什么我会得到这个异常？有人能帮我吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-20T01:33:39.997

之后添加一个断点`DataRow rowGeometry = dtGeometry.NewRow()`并检查您的架构。

仔细检查“几何”列的数据类型。它可能没有正确填写。

```
foreach(DataColumn column in rowGeometry.table.Columns)
{
    Console.WriteLine(column.DataType);
} 
```

# c++ - 在生产环境中使用 PGO（profile-guided optimization）的风险

> ID：12776845
> 
> 赞同：4
> 
> 时间：2012-10-08T07:07:00.507
> 
> 标签：c++, optimization, gcc, verification, pgo

我有一个系统（Linux 和 C++）进行密集的信号/图像处理操作。我想使用 PGO 来提高我们应用程序的性能。

**使用 PGO 时我应该注意哪些风险/潜在问题？**

单元测试 + E2E 测试是否足以验证 PGO 没有破坏任何东西？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-18T10:20:11.447

微软的系统会根据使用情况统计修改条件跳转，并将经常使用的代码片段压缩成更少的页面。这实质上将有效内存占用压缩了数倍，并将 CPU 消耗降低了 20-50%。

该系统广泛用于用户模式和内核模式。这个系统的质量非常高。在 100% 的情况下，它正确地完成了它的工作。我什至看不到轻微的缺点。

其他类似的系统可能不如 Microsoft 的可靠。微软的那个非常好。

# hibernate - 休眠条件返回具有一对一子记录的父记录不为空？

> ID：12776847
> 
> 赞同：1
> 
> 时间：2012-10-08T07:07:03.993
> 
> 标签：hibernate, nhibernate-mapping, one-to-one, hibernate-criteria

我有这样的一对一关系

父母

```
@JsonAutoDetect
@Entity
@Table(name = "Parent")
public class Parent{

    private Integer id;
    private Child child;

    @Id
    @GeneratedValue(strategy= GenerationType.AUTO)
    @Column (name="idparent")
    public Integer getId() {
        return id;
    }
    public void setId(Integer id) {
        this.id = id;
    }

    @OneToOne(cascade = CascadeType.ALL, fetch = FetchType.LAZY, mappedBy = "parent")
    @JoinColumn(name="idchild", nullable=true)
    public Child getChild() {
        return child;
    }
    public void setChild(Child child) {
        child.setParent(this);
        this.child = child;
    }
} 
```

和孩子

```
@JsonAutoDetect
@Entity
@Table(name="Child")
public class Child{

    private Integer id;
    private Parent parent;

    @Id
    @GeneratedValue(generator = "foreign")
    @GenericGenerator(name = "foreign", strategy = "foreign", parameters = { @Parameter(name = "property", value = "parent") })
    @Column (name = "idchild")
    public Integer getId() {
        return id;
    }
    public void setId(Integer id) {
        this.id = id;
    }

    @OneToOne(fetch = FetchType.LAZY, optional = true)
    @Cascade({ org.hibernate.annotations.CascadeType.SAVE_UPDATE })
    @PrimaryKeyJoinColumn
    @JsonIgnore
    public Parent getParent() {
        return parent;
    }
    public void setParent(Parent parent) {
        this.parent= parent;
    } 
```

}

我想创建返回有孩子 isNotNull 的父母的标准，我尝试了一些想法

```
Criteria criteria = session.createCriteria(Parent.class);
criteria.add(Restrictions.isNotNull("child")); 
```

但不起作用，你能帮我举个例子吗？谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-08T07:28:25.673

首先，映射是错误的。在父类中，您说关联是由 映射的`child.parent`，并且在您说它是使用名为`id_child`. 下定决心。要么它是由`child.parent`属性映射的，你应该删除`@JoinColumn`. 或者它由 JoinColumn 映射，您应该在子实体中删除`@PrimaryKeyJoinColumn`，并`mappedBy="child"`在子实体中使用。

现在，为了使您的查询工作，无论映射是什么，您都应该简单地进行内部连接：

```
Criteria criteria = session.createCriteria(Parent.class);
criteria.createAlias("child"); // inner join 
```

由于联接是内部联接，因此它只会选择具有非空子节点的父节点。

# javascript - 使用单选按钮从 href target="_blank" 更改为 iframe

> ID：12776849
> 
> 赞同：0
> 
> 时间：2012-10-08T07:07:04.593
> 
> 标签：javascript, html

我想创建一个带有链接列表（或按钮或图片无关紧要）的页面，以便当用户单击按钮/链接时，根据单选选择，链接将在 iframe 上打开同一页面或使用 target="_blank" 打开一个新窗口。是否可以？

我想也许可以使用这样的表格：

```
<html>    
 <head><title>Rec. Links</title></head>     
<body>    
<form method="get" action="?">         
<imput type="radio" value="new" name="group1"/>    
<input type="radio" value="iframe"name="group1"/>    
</form>    
<a href="..."/>    
<a href="..."/>    
<a href="..."/>    
...    
<a href="..."/>    
</body>    
</html> 
```

但是我可以将选择发送到哪里？我可以将其发送到同一页面本身吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-08T07:16:39.633

您必须在每个单选按钮上添加一个单击处理程序，例如

```
... onclick="updateTargets('iframe');" />
... onclick="updateTargets('_blank');" /> 
```

创建一个函数来改变每个锚点的目标：

```
function updateTargets(newTarget)
{
    var anchors = document.getElementsByTagName('a');

    for (var i = 0, item; item = anchors[i]; ++i) {
        item.target = newTarget;
    }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-08T07:19:52.517

使用 jQuery 类似这样的东西可能会让你开始 - 基本上你绑定到无线电组更改事件，然后根据所选值更改锚的所有目标属性。

```
<script type="text/javascript">

jQuery(document).ready(function($) {

$('input:radio[name=group1]').change(function() {
        var value = $(this).val();
        if(value == "iframe") {
                $('a').attr('target', '');
        } else {
                $('a').attr('target', '_blank');
        }
});
});
</script>
</head>
<body>

<form method="get" action="?">
<input type="radio" value="new" name="group1" />
<input type="radio" value="iframe"name="group1"/>
</form>
<a href="http://www.google.com">Jello</a>
</body>
</html> 
```

# clojure - 更新原子以最小化内存使用的最佳方法是什么

> ID：12776851
> 
> 赞同：3
> 
> 时间：2012-10-08T07:07:12.260
> 
> 标签：clojure

我有一个原子，

```
(def a (atom {:a <some-value>})) 
```

并且它需要不断更新，从长远来看，最节省内存的调用是什么......？

```
(swap! a assoc :a <next-value>) 
```

或者

```
(swap! a (fn [_] {:a <next-value>})) 
```

直觉上，根据我听到的关于持久结构的谈话，我认为第二种方式会慢一些，但从长远来看会更好......但想要第二个意见。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-08T07:12:56.523

1.  第一种形式不起作用。
2.  内存效率无关紧要：一旦旧值被丢弃，如何获得新值对长期内存使用量没有影响。
3.  你似乎想要`reset!`，不是`swap!`。
4.  考虑一下为什么你要如此频繁地更新一个原子，特别是如果你根本不关心它以前的值。您通常可以使用纯函数方法更轻松地完成类似的事情，或者至少使用`swap!`考虑旧值的函数。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-09T10:38:31.067

遵循 Ankur 的建议以及我的 sigar 分析库包装器的无耻插件[https://github.com/zcaudate/sigmund](https://github.com/zcaudate/sigmund)我为更新和重置运行了一些快速而肮脏的诊断！

### 编码：

```
(ns test-memory
  (:require [sigmund.core :as sig])
  (:import java.lang.management.ManagementFactory))

(def counter (atom 0))

(def data (atom {:data {:a 0
                        :b 0}}))

(defn update-loop [a]
  (swap! a update-in [:data :a] (fn [_] (Math/random)))
  (swap! a update-in [:data :b] (fn [_] (Math/random)))
  (swap! counter + 2)
  (recur a))

(defn update-loop1 [a]
  (reset! a  {:data {:a (Math/random)
                     :b (:b (:data @a))}})
  (reset! a  {:data {:b (Math/random)
                     :a (:a (:data @a))}})
  (swap! counter + 2)
  (recur a))

(defn print-loop [sec]
  (println "date: " (.toString (java.util.Date.)))
  (println "memory: " (/ (:resident (sig/ps-memory)) 1000000.) "MB")
  (println "counter: " @counter)
  (println "")
  (println "")
  (Thread/sleep (* 1000 sec))
  (recur sec))

(def loop1 (future (update-loop1 data)))
(def loop2 (future (update-loop1 data)))
(def loop-pr (future (print-loop 60))) 
```

### `update-in`循环结果：

```
日期：2012 年 10 月 9 日星期二 21:13:06 EST
内存：152.072192 MB
计数器：0

日期：2012 年 10 月 9 日星期二 21:15:06 EST
内存：157.904896 MB
柜台：53109426

日期：2012 年 10 月 9 日星期二 21:18:06 EST
内存：158.007296 MB
柜台：134171090

日期：2012 年 10 月 9 日星期二 21:21:06 EST
内存：157.896704 MB
柜台：214766350

日期：2012 年 10 月 9 日星期二 21:23:06 EST
内存：158.011392 MB
柜台：268002504

```

如您所见，gc 确实起作用了，但数据结构肯定在增长。

### 重置循环的结果

```
日期：2012 年 10 月 9 日星期二 21:25:01 EST
内存：157.667328 MB
计数器：0

日期：2012 年 10 月 9 日星期二 21:26:01 EST
内存：158.86336 MB
柜台：215137676

日期：2012 年 10 月 9 日星期二 21:27:01 EST
内存：150.474752 MB
柜台：428276080

日期：2012 年 10 月 9 日星期二 21:30:02 EST
内存：150.478848 MB
柜台：1052419088

日期：2012 年 10 月 9 日星期二 21:33:02 EST
内存：150.663168 MB
柜台：1697444032

日期：2012 年 10 月 9 日星期二 21:36:02 EST
内存：150.77376 MB
柜台：2360045388

```

重启！速度较慢，但​​占用的内存更少。

# java - 使用反向方法将字符串分开

> ID：12776853
> 
> 赞同：-4
> 
> 时间：2012-10-08T07:07:19.460
> 
> 标签：java, string

一个数组包含回文字符串和其他字符串。不使用字符串反向方法分离回文字符串？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-08T07:17:31.540

```
public boolean isPalindrome(String pal) {

    if (pal.length() <= 1) {
        return true;        // BASE CASE.
    }

    // Get the first and last characters of the String.
    char first = pal.charAt(0);
    char last = pal.charAt(pal.length()-1);

    if (Character.isLetter(first) && Character.isLetter(last)) {

        if (first != last) {
            return false;           // BASE CASE.
        }
        else {
            Palindrome sub = new Palindrome(
            pal.substring(1,pal.length()-1));
            return sub.isPalindrome();  // RECURSIVE CASE.
        }
    }
    else if (!Character.isLetter(first)) {
        Palindrome sub = new Palindrome(pal.substring(1));
        return sub.isPalindrome();      // RECURSIVE CASE.
    }
    else {
        Palindrome sub = new Palindrome(pal.substring(0, pal.length()-1));
        return sub.isPalindrome();      // RECURSIVE CASE.
    }
} 
```

你可以在这里找到一个回文类[http://users.dickinson.edu/~braught/courses/cs132s03/code/Palindrome.src.html](http://users.dickinson.edu/~braught/courses/cs132s03/code/Palindrome.src.html)，写一个for循环并检查回文，希望它有帮助。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-08T08:05:06.367

你可以尝试这样做。让 searchStrings 是包含要搜索的字符串的 ArrayList。

```
for (String str : searchStrings) {
    char[] strArray = str.toCharArray();
    int i = 0;
    int j = strArray.length - 1;
    while (true) {
        if (strArray[i] != strArray[j]) {
            System.out.println(str + " is not a palindrome.");
            break;
        }

        if (i == j || i > j) {
            System.out.println(str + " is a palindrome.");
            break;
        }

        i++;
        j--;
    }
} 
```

# c# - 构建 SPA 应用程序。调用 RenderBody 有必要吗？

> ID：12776854
> 
> 赞同：0
> 
> 时间：2012-10-08T07:07:24.023
> 
> 标签：c#, backbone.js, asp.net-web-api, singlepage

我正在使用它构建`SPA`应用程序，`Backbone.js`并且`back-end`我想使用它`ASP.NET Web API`。我只需要一页，这个事实给我带来了很多困惑。 `ApiController`返回`json`响应，据我了解，根本不需要`asp.net`特定视图。我对吗？

我可以在我的主页上使用纯 html 吗？还是我应该使用`*.cshtml`并拨打电话`RenderBody`？

如果选择第一个选项，那么我将如何处理验证？

谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-08T14:58:35.003

诀窍是，如果您希望搜索引擎能够为您的页面编制索引，或者人们能够使用自定义图标/描述等分享到 Facebook，您将需要返回静态 HTML——这些机器人都不需要能够像浏览器一样运行您的 javascript 来呈现页面。

如果您对此不感兴趣，那么是的，您可以完全避免`RenderBody`.

# asp.net - 如何在多语言站点的母版页中添加基类

> ID：12776855
> 
> 赞同：1
> 
> 时间：2012-10-08T07:07:29.993
> 
> 标签：asp.net

我有多语言网站。我已经为它添加了资源文件。但我在母版页有问题。

我添加了具有`InitializeCulture()`方法的基类。此类从内容页面继承。因此，所有内容页面文本都已根据语言选择进行了更改。但是母版页中的问题因为当我从母版页继承基类时，错误显示母版页确实包含 Intializeculture 的定义。

基类方法是：

```
protected override void InitializeCulture()
{   
    if (Session["myapplication.language"] != null)
    {
        string selectedLanguage = Session["myapplication.language"] as string;

        Thread.CurrentThread.CurrentCulture = CultureInfo.CreateSpecificCulture(selectedLanguage);        
        Thread.CurrentThread.CurrentUICulture = new CultureInfo(selectedLanguage);
    }
} 
```

我还在`Page_Init`母版页的情况下添加了此方法。但是没有找到结果。

# qt - 如何使用 QVector 作为二维数组？

> ID：12776872
> 
> 赞同：4
> 
> 时间：2012-10-08T07:08:26.427
> 
> 标签：qt, vector, multidimensional-array

如何将 a`QVector`作为二维数组声明、初始化和赋值？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-10-08T07:11:56.187

与 a 相同的方式`std::vector`：

```
QVector< QVector< int > > twoDArray;      // Empty.
QVector< QVector< int > > twoDArray( 2 ); // Contains two int arrays.
twoDArray[0].resize(4);
twoDArray[0][2] = 4;  // Assign to the third element of the first array.
...
etc... 
```

* * *

## 回答 #2

> 赞同：9
> 
> 时间：2012-10-08T09:55:39.633

为了避免嵌套向量，您可以将 2D 索引空间映射到 1D 索引空间，至少如果您有一些（恒定的）“宽度”，即 x 坐标的上限：

```
int index(int x, int y) {
    return x + width * y;
} 
```

然后用它来索引一个大小的向量`width * height`：

```
QVector<...> vector(width * height);
vector[index(5, 3)] = ...; 
```

# c# - 数据合同的类型或命名空间

> ID：12776876
> 
> 赞同：2
> 
> 时间：2012-10-08T07:08:56.240
> 
> 标签：c#, visual-studio

我遇到了与这篇文章相同的问题 - [[DataContract]](https://stackoverflow.com/questions/7401795/namespace-for-datacontract)的命名空间，但解决方案不一样。

我已经在项目中引用了 System.Runtime.Serialization，我的目标是 .net4。这是上一个问题的答案

有趣的是 VS 颜色编码似乎认为这是有效的，但它不能编译。

![在此处输入图像描述](../Images/10e24c8cdd7947728e25beef6cae9081.png)

参考：

![在此处输入图像描述](../Images/6f105af1b011c5a7dcf466c5a6b40598.png)

错误消息是：

> 找不到类型或命名空间名称“DataContractAttribute”（您是否缺少 using 指令或程序集引用？）

DataContract、DataMemberAttribute、DataMember 相同。

我正在使用的项目定义了许多类，我现在希望将它们序列化为数据合同并提供给另一个项目。所以这不是一个 WCF 项目，但稍后会用到。

认为它可能会起作用，我关闭了项目并重新打开，但仍然无法正常工作。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-10-09T01:17:56.423

嗬！问题与上一个问题完全相同。这个解决方案中有两个项目；仅添加到其中一个项目的参考资料；并且两个项目都在使用错误的文件。

# c - 将IP号的每一部分转换为C中的三位数字

> ID：12776880
> 
> 赞同：-1
> 
> 时间：2012-10-08T07:09:13.703
> 
> 标签：c, ip, digits

我的问题是如何将IP号码的每一部分转换为三位数？例如`127.0.0.1`变成`127.000.000.001`

用 Python 等语言很容易做到，但我是 C 的新手，不知道如何处理它。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-08T07:13:20.630

打印带有“前导零”的整数如下：

```
int i = 9;
printf("%03i", i); // prints 009 
```

因此，如果说您的 IP 存储为 4 个字节，您可以尝试：

```
char ip[4] = {...};
printf("%03i.%03i.%03i.%03i", (int)ip[0], (int)ip[1], (int)ip[2], (int)ip[3]); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-08T07:20:01.537

```
char ip1[] = "127.0.0.1";

int a1, a2, a3, a4;
sscanf(ip1, "%i.%i.%i.%i", &a1, &a2, &a3, &a4);

char ip2[16];
snprintf(ip2, sizeof(ip2), "%03i.%03i.%03i.%03i", a1, a2, a3, a4); 
```

忘记了 snprintf 中的零！

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2012-10-08T07:22:07.543

您可以使用 1\. strtok 和 2\. 使用 strchr 或 strstr 对字符串进行标记，而不是使用这些标记，您可以检查长度并进行所需的处理。

例如（使用 strtok）有一些变化可以使用 strchr 或 strstr

```
char s[]="127.0.0.1";
char *tokens = strtok(s,".");
while(tokens != NULL)
{

  if(strlen(tokens)!=3){
     //insert zeros till the length is not 3
  }
  tokens=strtok(NULL,".");
} 
```

[此链接](http://www.cplusplus.com/reference/clibrary/cstring/)可能对您有用...

# google-maps-api-3 - 谷歌地图用户可编辑多边形

> ID：12776884
> 
> 赞同：1
> 
> 时间：2012-10-08T07:09:26.067
> 
> 标签：google-maps-api-3

使用 Google maps API V3，特别是使用绘图工具**（仅启用矩形**），如下所示：

[https://developers.google.com/maps/documentation/javascript/overlays#drawing_tools](https://developers.google.com/maps/documentation/javascript/overlays#drawing_tools)

但我有以下问题，

1.  我可以（如果是这样的话），通过用户单击同一页面上的链接的动作，检索多边形左上角和右下角的纬度，经度，并发送到一个网址，即；

[http://foo.bar/script.php?latoftopleft=17.4479216&longoftopleft=78.37720100000001&latofbotright=17.443172404867163&longofbotright=78.39395944192506](http://foo.bar/script.php?latoftopleft=17.4479216&longoftopleft=78.37720100000001&latofbotright=17.443172404867163&longofbotright=78.39395944192506)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-08T07:32:02.440

**检索矩形**

检索用户绘制的矩形的一种方法是使用[绘图事件](https://developers.google.com/maps/documentation/javascript/overlays#drawing_events)：

```
var rectangle;
google.maps.event.addListener(drawingManager, 'rectanglecomplete', function(newRect) {
    rectangle = newRect;
}); 
```

每当用户绘制一个矩形时，它都会将 Rectangle 覆盖对象分配给`rectangle`全局变量。

**提取有关矩形的信息**

该类有一个方法，[`google.maps.Rectangle`该](https://developers.google.com/maps/documentation/javascript/reference#Rectangle)`getBounds()`方法返回一个[`LatLngBounds`](https://developers.google.com/maps/documentation/javascript/reference#LatLngBounds)对象。可以使用`getNorthEast()`和`getSouthWest()`方法推导出左上角和右下角坐标。

您可以将`onclick`事件绑定到链接。click 事件处理程序可能如下所示：

```
function clickEventHandler(event) {
    // check if the rectangle has been assigned
    if (rectangle == undefined) {
        alert('No rectangles have been drawn yet!');
        return;
    }

    // obtain the bounds and corner coordinates of the rectangle
    var rectangleBounds = rectangle.getBounds();
    var northEast = rectangleBounds.getNorthEast();
    var southWest = rectangleBounds.getSouthWest();

    // deduce the top-left and bottom-right corner coordinates
    var topLeft = new google.maps.LatLng(northEast.lat(), southWest.lng());
    var bottomRight = new google.maps.LatLng(southWest.lat(), northEast.lng());

    // Now that you have the coordinates, all you have to do is use an AJAX
    // technique of your choice to send the HTTP request to script.php.
    // ...
} 
```

进一步阅读：

*   [如何在没有框架的情况下将点击绑定到锚点（javascript）](https://stackoverflow.com/questions/2966160/how-do-i-bind-a-click-to-an-anchor-without-a-framework-javascript)
*   [纯 Javascript 无需表单即可发送帖子数据](https://stackoverflow.com/questions/6396101/pure-javascript-send-post-data-without-a-form)

# c# - 从 .Net 连接到 GreenPlum 数据库

> ID：12776885
> 
> 赞同：2
> 
> 时间：2012-10-08T07:09:27.577
> 
> 标签：c#, .net, odbc, oledb, greenplum

我正在尝试从 .net 应用程序连接到 greenplum 数据库。Greenplum 支持 odbc 和 oledb，但我不确定连接字符串和所有内容应该如何。任何人都可以帮忙。

提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-08T16:43:12.423

假设您使用的是 PostgreSQL ODBC 驱动程序 (psqlODBC)：

```
Driver={PostgreSQL};Server=IP address;Port=5432;Database=mydb;Uid=uname;Pwd=passwd; 
```

请参阅 [http://connectionstrings.com/postgre-sql](http://connectionstrings.com/postgre-sql)。

免费驱动程序可以从[http://pgfoundry.org/projects/psqlodbc/](http://pgfoundry.org/projects/psqlodbc/)下载。

如果您想要商业支持的 Greenplum 驱动程序，请尝试[http://www.datadirect.com/products/odbc/greenplum/index.html](http://www.datadirect.com/products/odbc/greenplum/index.html)。

# c# - pdf 和 rar 文件不上传，但图片可以

> ID：12776886
> 
> 赞同：0
> 
> 时间：2012-10-08T07:09:29.133
> 
> 标签：c#, asp.net

我一直在使用 asp.net webforms 控件来学习如何更好地使用它们，我似乎在使用 fileupload 控件时遇到了一些麻烦。我注意到，当我上传 img 时，我编写的代码有效，但是当我尝试上传 PDF 或 RAR 文件时，我收到一条错误消息

> 与 localhost 的连接已中断

这是我的代码：

```
<div id="center">
       <asp:FileUpload ID="FileUpload1" runat="server" />
       <br />
       <asp:Button ID="Button1" runat="server" onclick="Button1_Click" Text="Button" />
       <asp:Label ID="Label1" runat="server" Text="Label"></asp:Label>
</div>

protected void Button1_Click(object sender, EventArgs e)
    {
        if (FileUpload1.HasFile) {
            try
            {
                string filename = FileUpload1.FileName;
                FileUpload1.SaveAs(Server.MapPath("~/Files/") + filename);
                Label1.Text = "File has been uploaded";
            }
            catch (Exception ex) {
                Label1.Text = "The file could not be uploaded";
            }
        }   
    } 
```

问题是什么？为什么我不能上传其他文件类型？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-08T07:38:19.330

当您尝试上传超过默认最大大小（即 4MB）的文件时，您可能会导致页面重置或中断。您可以在配置文件中设置最大大小。

```
<system.web>
<httpRuntime executionTimeout="240" maxRequestLength="20480" />
</system.web> 
```

文件上传控制在这里讨论得很好。 [http://weblogs.asp.net/jgalloway/archive/2008/01/08/large-file-uploads-in-asp-net.aspx](http://weblogs.asp.net/jgalloway/archive/2008/01/08/large-file-uploads-in-asp-net.aspx)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-08T07:46:15.417

尝试与文件扩展名一起上传，如下所示：

```
protected void Button1_Click(object sender, EventArgs e) 
    { 
        if (FileUpload1.HasFile) { 
            try 
            { 
                string filename = FileUpload1.FileName; 
                FileUpload1.SaveAs(Server.MapPath("~/Files/") + filename + System.IO.Path.GetExtension(FileUp.PostedFile.FileName); 
                Label1.Text = "File has been uploaded"; 
            } 
            catch (Exception ex) { 
                Label1.Text = "The file could not be uploaded"; 
            } 
        }    
    } 
```

# java - android中setError（）上的不可见文本

> ID：12776887
> 
> 赞同：1
> 
> 时间：2012-10-08T07:09:33.203
> 
> 标签：java, android

我在 android 的 EditText 中使用 setError() 方法。它确实显示了弹出窗口，但文本是不可见的。似乎文本具有与其背景相同的颜色，即白色。我使用以下代码使其工作，但文本仍然不可见。

```
int ecolor = 65793;
String estring = "Input is incorrect";
ForegroundColorSpan fgcspan = new ForegroundColorSpan(ecolor);
SpannableStringBuilder ssbuilder = new SpannableStringBuilder(estring);
ssbuilder.setSpan(fgcspan, 0, estring.length(), 0);
customPriceInput.setError(ssbuilder); 
```

我怎样才能让它工作？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-09-23T16:04:47.983

```
private EditText adTitle;
// ....
adTitle.setError(Html.fromHtml("<font color='red'>hello</font>")); 
```

摘自：[更改默认的外观和感觉 .setError("I dont like your pink");](https://stackoverflow.com/questions/13269503/changing-the-look-and-feel-of-default-seterrori-dont-like-your-pink-color)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-02T00:57:06.643

[http://code.google.com/p/android/issues/detail?id=22920](http://code.google.com/p/android/issues/detail?id=22920)

这对我有用。（第二条评论）

“#2 shardu...@gmail.com 嗨，

我能够在运行 Android 4.0.3 的 Nexus S 上重现这一点。

这是我如何使它工作的。1\. 创建主题：@android:color/primary_text_light

2.将 MyApp 主题从清单应用到我的应用程序。”

# objective-c - 无法在 Phonegap 中从 javascript 调用本机函数

> ID：12776888
> 
> 赞同：2
> 
> 时间：2012-10-08T07:09:37.860
> 
> 标签：objective-c, ios5, cordova, ios4, phonegap-plugins

这就是我所做的：

**1)**安装 Cordova 2.0.0 版

**2)**我的 XCode 版本是 4.3.3

**3)**通过 ./create 命令创建了一个电话间隙项目。

**4)**在`index.html`：

```
<script   type="text/javascript">

    function nativePluginResultHandler (result) 
    { 
        alert("SUCCESS: \r\n"+result ); 
    } 

    function nativePluginErrorHandler (error) 
    { 
        alert("ERROR: \r\n"+error ); 
    } 

    function callNativePlugin( returnSuccess ) 
    { 
        alert("Invoking..");
        HelloPlugin.callNativeFunction( nativePluginResultHandler, nativePluginErrorHandler, returnSuccess ); 
    } 
</script>

<h1>Hey, it's Cordova!</h1>  
<button onclick="callNativePlugin('success');">Click to invoke the Native Plugin with an SUCCESS!</button>  
<button onclick="callNativePlugin('error');">Click to invoke the Native Plugin with an ERROR!</button> 
```

**5)**内部`HelloPlugin.js`：

```
var HelloPlugin = { 
    callNativeFunction: function (success, fail, resultType) { 
        echo "Welcome";
        return Cordova.exec( success, fail, "com.mycompany.HelloPlugin", "nativeFunction", [resultType]); 
    } }; 
```

**6)** `HelloPlugin.m` :

```
#import "HelloPlugin.h"

@implementation HelloPlugin

- (void) nativeFunction:(NSMutableArray*)arguments withDict:(NSMutableDictionary*)options { 
    //get the callback id 
    NSString *callbackId = [arguments pop]; 
    NSLog(@"Hello, this is a native function called from PhoneGap/Cordova!"); 
    NSString *resultType = [arguments objectAtIndex:0]; 
    CDVPluginResult *result; 
    if ( [resultType isEqualToString:@"success"] ) 
    { 
        result = [CDVPluginResult resultWithStatus:CDVCommandStatus_OK messageAsString: @"Success :)"]; 
        [self writeJavascript:[result toSuccessCallbackString:callbackId]]; 
    } else { 
        result = [CDVPluginResult resultWithStatus:CDVCommandStatus_ERROR messageAsString: @"Error :("]; 
        [self writeJavascript:[result toErrorCallbackString:callbackId]]; 
    }
} 

@end 
```

**7)** `HelloPlugin.h` :

```
#import "Cordova/CDVPlugin.h"
#import "Cordova/CDV.h"

@interface HelloPlugin : CDVPlugin

- (void) nativeFunction:(NSMutableArray*)arguments withDict:(NSMutableDictionary*)options;

@end 
```

**8)**在`Cordova.plist`中，我添加了以下键/值：

```
com.mycompany.HelloPlugin        HelloPlugin 
```

`HelloPlugin`问题是根本没有调用 来自的本机函数。

我在这里想念什么？

帮助将不胜感激。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-08T11:41:00.857

您可以尝试以下方法：

**1 -**在您的文件`Cordova.plist`中，将以下键/值添加到**插件**部分：

```
HelloPlugin                      HelloPlugin 
```

代替：

```
com.mycompany.HelloPlugin        HelloPlugin 
```

**2 -**将您的 javascript 文件的内容更改为`HelloPlugin.js`以下内容：

```
var HelloPlugin = { 
    callNativeFunction: function (success, fail, resultType) { 
        console.log ("Welcome");
        return Cordova.exec( success, fail, "HelloPlugin", "nativeFunction", [resultType]); 
    } }; 
```

**3 -**将您的 HTML 文件更改`index.html`为以下内容：

```
<html>
    <header>

        <script type="text/javascript" src="./js/HelloPlugin.js"></script>

        <script   type="text/javascript">

            document.addEventListener("deviceready",onDeviceReady,false);

            function onDeviceReady()
            {
                // do your thing!
                alert("Cordova is working")
            }

            function nativePluginResultHandler (result) 
            { 
                alert("SUCCESS: \r\n"+result ); 
            } 

            function nativePluginErrorHandler (error) 
            { 
                alert("ERROR: \r\n"+error ); 
            } 

            function callNativePlugin( returnSuccess ) 
            { 
                alert("Invoking..");
                HelloPlugin.callNativeFunction( nativePluginResultHandler, nativePluginErrorHandler, returnSuccess ); 
            } 
        </script>
    </header>

    <body>

        <h1>Hey, it's Cordova!</h1>  
        <button onclick="callNativePlugin('success');">Click to invoke the Native Plugin with an SUCCESS!</button>  
        <button onclick="callNativePlugin('error');">Click to invoke the Native Plugin with an ERROR!</button> 

    </body>
</html> 
```

希望这可以帮助。让我知道这个是否奏效。

另外，我找到了这个链接，我想你可能会觉得它很有趣：

[http://www.adobe.com/devnet/html5/articles/extending-phonegap-with-native-plugins-for-ios.html](http://www.adobe.com/devnet/html5/articles/extending-phonegap-with-native-plugins-for-ios.html)

您可以从上面的链接下载一个示例代码，这可能很有用:)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-08-31T09:30:14.327

**[1]** 确保您在 index.html（您的入口 html 页面）中导入了“cordova.js”

**[2]** 您可以在**cordova.plist 或 config.xml中添加自定义插件**

=> 对于cordova.plist

核心价值

HelloPlugin - HelloPlugin

**[或者]**

=> 对于 config.xml ，添加下面的功能标签

```
<feature name="HelloPlugin">
      <param name="ios-package" value="HelloPlugin" />
      <param name="onload" value="true" />
</feature> 
```

**[3]然后对****HelloPlugin.m**和**HelloPlugin.h** 中的以下函数进行更改

 **```
-(void) nativeFunction:(NSMutableArray*)arguments withDict:(NSMutableDictionary*)options { 
```

到，

```
- (void) nativeFunction:(CDVInvokedUrlCommand*)command {

CDVPluginResult* pluginResult = nil;
NSString* echo = [command.arguments objectAtIndex:0];

if (echo != nil && [echo length] > 0) {
    //pluginResult = [CDVPluginResult resultWithStatus:CDVCommandStatus_OK messageAsString:echo];
    pluginResult = [CDVPluginResult resultWithStatus:CDVCommandStatus_OK messageAsString:@"Sandip"];
} else {
    pluginResult = [CDVPluginResult resultWithStatus:CDVCommandStatus_ERROR];
}

if ( [echo isEqualToString:@"success"] )
{
    NSLog(@"Native log : success");
} else {
    NSLog(@"Native log : failed");
}

[self.commandDelegate sendPluginResult:pluginResult callbackId:command.callbackId]; 
```

}**

# php - Symfony 2 动态嵌入表单，错误（实体）类型

> ID：12776893
> 
> 赞同：0
> 
> 时间：2012-10-08T07:10:12.877
> 
> 标签：php, forms, symfony, doctrine-orm

我有两个具有多对多关系的实体。

一个“条目”有 n 个“标签”。现在我想插入一个带有标签的新条目。该表单由一组“标签”表单组成，这些表单可以通过 javascript 动态添加。控制器代码中默认添加一个字段。

当表单被提交并且我遍历条目的标签时，只有第一个（已添加到控制器中，而不是通过 javascript）具有正确的实体类型。其他的只是数组：

```
object(Entity\Type)[88]
   private 'id' => null
   private 'field' => null
   private 'type' => string 'S' (length=1)

array (size=3)
  'field' => null
  'type' => string 'S' (length=1) 
```

“入口”控制器：

```
$entity = new Entry();
$entity->getParameters()->add(new EntryTag());

$form = $this->createForm($this->get('entryform'),$entity);

if($request->getMethod() == 'POST'){
    $form->bindRequest($request);

    $formData = $form->getData();
    foreach ($formData->getParameters() as $par) {
        var_dump($par);
    }
} 
```

“Entry”类型：$this->tagType 被注入到构造函数中。

```
public function buildForm(FormBuilder $builder, array $options){
    $builder->add('parameters', 'collection', array(
        'type' => $this->tagType,
        'allow_add' => true,
        'allow_delete' => true,
        'by_reference' => false,
    ));
}

public function setDefaultOptions(OptionsResolverInterface $resolver)
{
    $resolver->setDefaults(array(
        'data_class' => 'Entity\Entry',
    ));
} 
```

“标签”类型：

```
public function buildForm(FormBuilder $builder, array $options){
    $builder->add('field', 'text', array('label' => 'Key'));
    $builder->add('type', 'choice', array('label' => 'Type', 'required' => false, 'choices' => $this->getTypes()));
}

public function setDefaultOptions(OptionsResolverInterface $resolver)
{
    $resolver->setDefaults(array(
            'data_class' => 'Entity/Tag',
    ));
} 
```

我用来添加字段的javascript：

```
var $childs = $container.find('.form-child');

fieldIndindex++; 

var template = $container
            .addClass('form-child')
    .attr('data-prototype')
    .replace(/\$\$name\$\$/g, fieldIndindex);

if($childs.length == 0){
    $container.prepend($template);
}else{
    $childs.last().after($template);
} 
```

那么，为什么没有检测到实体类型呢？

编辑：

当我将“data_class”选项添加到“集合”字段时，它可以工作。

```
$builder->add('parameters', 'collection', array(
        'type' => $this->parameterType,
        'allow_add' => true,
        'allow_delete' => true,
        'by_reference' => false,
        'options' => array(
            'data_class' => 'Entity/Tag',
        )
    )); 
```

但是在我的“标签”类型中将其设置为默认选项就足够了。但是为什么不使用呢？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-08T12:25:44.027

我得到了它.....

我在 2.0 中使用 Symfony 2.1 语法。将 setDefault 选项更改为 getDefaultOptions 后，它现在可以工作了。

# search-engine - 如何使用 Java 向 Google 网站管理员提交 sitemap.xml？

> ID：12776906
> 
> 赞同：2
> 
> 时间：2012-10-08T07:11:30.197
> 
> 标签：search-engine, google-search-console

有没有办法`sitemap.xml`通过其 API 上传/发送带有更新链接的动态文件到谷歌网站管理员？它抛出了很多错误，无法继续。

我还尝试了[http://www.google.com/webmasters/tools/ping?sitemap=http%3A%2F%2Fmysite.com%2Fsitemap1.xml](http://www.google.com/webmasters/tools/ping?sitemap=http%3A%2F%2Fmysite.com%2Fsitemap1.xml)，一种 ping 机制，但多次后它没有反映在 Google Webmaster Dashboard 中( `sitemap2.xml`, `sitemap3.xml`) 提交。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-02T00:09:06.653

因此，您已遵循以下详细信息：

查看通过[Google Webmaster Tools API](https://developers.google.com/webmaster-tools/docs/2.0/developers_guide_protocol?hl=zh-CN#Sitemaps_Submitting)提交站点地图的协议。

[这](http://code.google.com/apis/webmastertools/docs/2.0/developers_guide_java.html#AddingSitemaps)是 Java 失败的一个例子，但我想你也可以使用 VB、PHP 等来做到这一点。

让我们知道怎么回事。

# ios - 在 Objective-C 上从 void 中获取价值

> ID：12776908
> 
> 赞同：0
> 
> 时间：2012-10-08T07:11:48.187
> 
> 标签：ios, objective-c, json, string, return

我想从我的 void 方法中获取 json 字符串，让我们看看

```
-(void) getIDfromMarket{} 
```

我想从 getIDfromMarket 显示结果 json 并且它已经成功了，现在我想将它传递给

```
-(void)viewDidLoad 
```

怎么做？这是我的代码

```
#import "ViewController.h"
@interface ViewController ()

@end

@implementation ViewController

- (void)viewDidLoad
{
    [super viewDidLoad];

    [self getIDfromMarket];
     NSLog(@"ID==",ID);
    // Do any additional setup after loading the view, typically from a nib.
}

- (void)didReceiveMemoryWarning
{
    [super didReceiveMemoryWarning];
    // Dispose of any resources that can be recreated.
}

//////get global market From JSOn
-(void) getIDfromMarket{
    NSError *error = nil;
    ///set params url to get market localization
    NSData *jsonData = [NSData dataWithContentsOfURL:[NSURL URLWithString:@"http://someurl"]];
    if (jsonData) {
    id jsonObjects = [NSJSONSerialization JSONObjectWithData:jsonData options:NSJSONReadingMutableContainers error:&error];
    NSArray *Market = [jsonObjects objectForKey:@"market"];
        NSLog(@"%@", Market);
        if(Market==NULL){
            UIAlertView *alert = [[UIAlertView alloc] initWithTitle:@"Oh Snap!" message:@"Can't Get Market ID " delegate:self cancelButtonTitle:@"OK" otherButtonTitles: nil];
            [alert show];

        }
    }
    else{

        NSLog(@"Error Fetch Market ID");
 }

}

@end 
```

我不想登录`NSLog(@"%@", Market);`viewDidLoad，怎么办？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-08T07:36:46.260

```
-(NSArray *) getIDfromMarket{
    NSError *error = nil;
    ///set params url to get market localization
    NSData *jsonData = [NSData dataWithContentsOfURL:[NSURL URLWithString:@"http://someurl"]];
    if (jsonData) {
        id jsonObjects = [NSJSONSerialization JSONObjectWithData:jsonData options:NSJSONReadingMutableContainers error:&error];
        NSArray *Market = [jsonObjects objectForKey:@"market"];
        NSLog(@"%@", Market);
        if(Market==nil){
            UIAlertView *alert = [[UIAlertView alloc] initWithTitle:@"Oh Snap!" message:@"Can't Get Market ID " delegate:self cancelButtonTitle:@"OK" otherButtonTitles: nil];
            [alert show];
            return nil;
        } else {
            return Market;
        }
    }
    else{

        NSLog(@"Error Fetch Market ID");
        return nil;
 }

} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-08T07:29:18.963

如果市场是成员变量，那么您可以登录 viewDidLoad。或返回值`-(id)getIDfromMarket;`

```
-(id) getIDfromMarket{
    // your code
    return market; // autorelase
}

- (void)viewDidLoad
{
    [super viewDidLoad];
    NSArray *lArray  = [self getIDfromMarket];// autorelase
    NSLog(@"ID==",lArray);

} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-08T07:25:24.957

如果您希望能够使用从 JSON 请求返回的结果，您应该将 getIDFromMarket 返回类型从 (void) 更改为 (NSArray)，然后在方法结束时，如果请求成功，则键入“return Market”，如果它失败返回零。

然后从 -(void) viewWillApper 调用类似 NSArray *thisArray = [getIDFromMarket]; 的方法

从这里您将能够使用数组中的内容并在视图加载之前在屏幕上设置数据

另一种选择是拥有 NSArray 的属性，当返回结果时，您会将其存储到此属性中，以后您可以从该类中的任何方法访问该属性。

希望这可以帮助

```
//////get global market From JSOn
-(NSArray) getIDfromMarket{
    NSError *error = nil;
    ///set params url to get market localization
    NSData *jsonData = [NSData dataWithContentsOfURL:[NSURL URLWithString:@"http://someurl"]];
    if (jsonData) {
    id jsonObjects = [NSJSONSerialization JSONObjectWithData:jsonData options:NSJSONReadingMutableContainers error:&error];
    NSArray *Market = [jsonObjects objectForKey:@"market"];
        NSLog(@"%@", Market);
        if(Market==NULL){
            UIAlertView *alert = [[UIAlertView alloc] initWithTitle:@"Oh Snap!" message:@"Can't Get Market ID " delegate:self cancelButtonTitle:@"OK" otherButtonTitles: nil];
            [alert show];
            return nil;
        }
        else {
            return Market;
        }
    }
    else{
        NSLog(@"Error Fetch Market ID");
        return nil;
 } 
```

}

然后在视图中会出现

```
- (void)viewWillAppear
{
    [super viewWillAppear];

    NSArray *results = [self getIDfromMarket];
     NSLog(@"ID==%@",results);
} 
```

# yui - 集成 BIRTViewer 和 YUI

> ID：12776913
> 
> 赞同：0
> 
> 时间：2012-10-08T07:12:05.870
> 
> 标签：yui, birt

我正在使用 BIRTViewer。如何将查看器中生成的报告集成到更好的 Web UI 框架中，比如 YUI。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-09T05:00:04.330

如果您使用的是jsp，则可以使用为其提供的[标签库](http://www.eclipse.org/birt/phoenix/deploy/viewerUsage2.2.php#tags)

# c# - 为什么 C# split 给我一个以空行结尾的数组？

> ID：12776916
> 
> 赞同：5
> 
> 时间：2012-10-08T07:12:18.560
> 
> 标签：c#

我有以下表达式：

```
"<p>What ?</p>\n<pre>Starting Mini</pre>" 
```

当我执行如下拆分时：

```
 var split = content
      .Split(new[] { "<pre>", "</pre>" }, StringSplitOptions.None); 
```

然后它给了我三个条目：

```
"<p>What ?</p>\n"
"Starting Mini"
"" 
```

为什么它给出一个空行作为第三个条目，我该如何避免这种情况？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-08T07:20:09.907

“为什么”很简单：输入（如果您不删除空条目）将始终在分隔符的任何出现处“拆分”，因此如果分隔符`n`在字符串中出现次数，则数组会很`n+1`长。特别是，这基本上让您知道*它们*在原始字符串中出现的位置（尽管使用多个分隔符时，它不会让您知道哪个出现在哪里）。

例如，一个简单的例子（没有任何转义的csv等）：

```
string[] arr = input.Split(','); // even if something like "a,b,c,d,"
// which allows...
int numberOfCommas = arr.Length - 1;
string original = string.Join(",", arr); 
```

如前所述，修复方法是使用`RemoveEmptyEntries`.

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-08T07:13:40.490

改为`StringSplitOptions.RemoveEmptyEntries`删除列表中的空字符串

```
 var split = content
  .Split(new[] { "<pre>", "</pre>" }, StringSplitOptions.RemoveEmptyEntries); 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-10-08T07:43:57.447

您会得到 Microsoft 指定的这种行为： [*“相邻分隔符产生一个包含空字符串 ("") 的数组元素。”*](http://msdn.microsoft.com/en-us/library/system.stringsplitoptions.aspx) 所以因为你有最后一个 pre 你得到最后一个空数组元素

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-10-08T07:14:25.793

你得到这种行为的**原因**`</pre>`是你的分隔符恰好存在于**字符串的末尾**。

您可能会看到：[string.Split - MSDN](http://msdn.microsoft.com/en-us/library/b873y76a.aspx)

> ...在此实例**的开头或结尾找到分隔符，对应的数组元素包含 Empty**

为了克服这个：

使用`StringSplitOptions.RemoveEmptyEntries`代替`StringSplitOptions.None`

[StringSplitOptions.RemoveEmptyEntries - MSDN](http://msdn.microsoft.com/en-us/library/system.stringsplitoptions.aspx)

> 返回值不包括包含空字符串的数组元素

```
 var split = content
       .Split(new[] { "<pre>", "</pre>" }, StringSplitOptions.RemoveEmptyEntries); 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-10-08T07:17:26.200

Mailou，而不是给'StringSplitOptions.None'尝试'StringSplitOptions.RemoveEmptyEntries'。它删除了空行。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-10-08T07:14:23.257

您还需要指定

```
StringSplitOptions.RemoveEmptyEntries enumerator. 
```

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2012-10-08T07:16:18.993

使用**StringSplitOptions.RemoveEmptyEntries拆分字符串 [] 值不包含任何空字符串**

```
var split = content
  .Split(new[] { "<pre>", "</pre>" }, StringSplitOptions.RemoveEmptyEntries); 
```

参考：[StringSplitOptions 枚举](http://msdn.microsoft.com/en-us/library/system.stringsplitoptions.aspx)

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2012-10-08T07:27:30.707

你得到空行是由于

> `</pre>`

您正在指示`split`函数拆分为`<pre>`and`</pre>`

结果是`<pre>`你得到

```
<p>What ?</p>\n
Starting Mini</pre> 
```

下一个结果`</pre>`是

```
<p>What ?</p>\n
Starting Mini
... 
```

# jquery - jquery验证特定单词的隐藏字段

> ID：12776919
> 
> 赞同：-1
> 
> 时间：2012-10-08T07:12:34.920
> 
> 标签：jquery, jquery-validate

> **可能重复：**
> [jQuery 验证插件 - 验证隐藏的输入并且不可见？](https://stackoverflow.com/questions/7952181/jquery-validation-plugin-validating-hidden-inputs-and-not-visible)

我正在尝试使用 equalTo 验证特定单词的隐藏文本字段，但它似乎验证错误。这样做的正确方法是什么？

```
<input type="hidden" name="aImg" value="true" class="aImg">

$("#artcForm").validate({

        rules: {

            aImg: {
                required: true,
                equalTo: "true"
            },
        }, 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-08T08:17:42.730

嘿 Norman 在这里为您查看工作示例案例**演示**：http: [//jsfiddle.net/rgHkD/](http://jsfiddle.net/rgHkD/)

因此，在`equalTo`属性中，我正在比较隐藏字段的默认值 - 单击“继续步骤 2”进行验证。

希望能满足需求！`:)`

**代码**

```
 $('form').validate({
       ignore: "",
       rules: {
           first_nameo: {
                required: true,
                equalTo: "#FirstName"
            },
           first_name: {
                required: true
           },
            last_name: "required",
            address: "required"
        }
    }); 
```

**图片**当你输入 false 时它会失败

![在此处输入图像描述](../Images/9e785d9f0376e84c8fdba15fd28b95be.png)

**在名字文本框中键入 true 时成功**

![在此处输入图像描述](../Images/bb30792aaf8120ef2ef07eeb4eb739bb.png)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-08T07:36:54.527

检查这一点，您必须使用预先请求的值添加另一个隐藏字段：

```
<input name="h1" type="hidden" disabled="disabled" class="required" id="h1" value="your value"/>

<input name="h2" type="hidden" disabled="disabled" class="required"  equalTo="#h1" id="h2" value=""/> 
```

[jQuery 参考](http://forum.jquery.com/topic/jquery-validate-proper-use-of-equalto-along-with-required)

希望它有效:)

# javascript - 无法让 innerHTML 工作？

> ID：12776928
> 
> 赞同：0
> 
> 时间：2012-10-08T07:13:09.547
> 
> 标签：javascript, html

为什么我的代码不起作用？它不应该打印`222`到带有 ID 的元素`p2`吗？

```
<%@ page language="java" contentType="text/html; charset=ISO-8859-1" pageEncoding="ISO-8859-1"%>
<%@page import="java.io.*" %>

<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<title>Insert title here</title>

<script type="text/javascript">
function compareData()
{
document.getElementById('p1').innerHTML = "111";
var inputs = document.getElemementsByTagName("input");
// why can't I display the "222" here??
document.getElementById('p2').innerHTML = "222";
}
</script>
</head>
<body>
<p id="p1"> a </p>

<p id="p2"> b </p>
<input type="button" onclick="compareData()" value="hello"/> 
</body>
</html> 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-08T07:16:37.073

你为什么用这个？`var inputs = document.getElemementsByTagName("input");`

[我的小提琴](http://jsfiddle.net/rYH54/)

你可以像这样使用你使用的方式：[**我的小提琴**](http://jsfiddle.net/rYH54/1/)，但它不起作用，因为元素拼写错误**document.getElemementsByTagName**

它应该是`document.getElementsByTagName`

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-10-08T07:19:53.770

你拼错了`getElemementsByTagName`。这会导致 js 错误，因此您的代码会在该行停止执行。
更正为`getElementsByTagName`. 然后你的代码就可以正常工作了。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-10-08T07:15:57.340

你在这一行有一个错字：

```
var inputs = document.getElemementsByTagName("input"); 
```

你想要的可能是这样的：

```
var inputs = document.getElementsByTagName("input"); 
```

可能是拼写错误停止了脚本的执行，因此之后的行永远不会运行。

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2012-10-08T07:16:59.537

删除以下行，它将起作用...

```
var inputs = document.getElemementsByTagName("input"); 
```

# iphone - 以编程方式创建 pdf 的示例代码

> ID：12776930
> 
> 赞同：8
> 
> 时间：2012-10-08T07:13:13.923
> 
> 标签：iphone, objective-c, ios

我是 iPhone 新手。

是否有任何示例代码或教程。

还需要 plist 的示例代码

请帮我。

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2012-10-08T07:17:40.793

在这里，我有如何在 iPhone 中创建 .pdf 文件的最佳示例 :)

**PdfGenerationDemoViewController.h**

```
#import <UIKit/UIKit.h>

#define kBorderInset            20.0
#define kBorderWidth            1.0
#define kMarginInset            10.0

//Line drawing
#define kLineWidth              1.0

@interface PdfGenerationDemoViewController : UIViewController
{
    CGSize pageSize;
}

- (IBAction)generatePdfButtonPressed:(id)sender;

@end 
```

**PdfGenerationDemoViewController.m**

```
#import "PdfGenerationDemoViewController.h"

@interface PdfGenerationDemoViewController (Private)
- (void) generatePdfWithFilePath: (NSString *)thefilePath;
- (void)drawPageNumber:(NSInteger)pageNum;
- (void) drawBorder;
- (void) drawText;
- (void) drawLine;
- (void) drawHeader;
- (void) drawImage;
@end

@implementation PdfGenerationDemoViewController

#pragma mark - Private Methods
- (void) drawBorder
{
    CGContextRef    currentContext = UIGraphicsGetCurrentContext();
    UIColor *borderColor = [UIColor brownColor];

    CGRect rectFrame = CGRectMake(kBorderInset, kBorderInset, pageSize.width-kBorderInset*2, pageSize.height-kBorderInset*2);

    CGContextSetStrokeColorWithColor(currentContext, borderColor.CGColor);
    CGContextSetLineWidth(currentContext, kBorderWidth);
    CGContextStrokeRect(currentContext, rectFrame);
}

- (void)drawPageNumber:(NSInteger)pageNumber
{
    NSString* pageNumberString = [NSString stringWithFormat:@"Page %d", pageNumber];
    UIFont* theFont = [UIFont systemFontOfSize:12];

    CGSize pageNumberStringSize = [pageNumberString sizeWithFont:theFont
                                   constrainedToSize:pageSize
                                       lineBreakMode:UILineBreakModeWordWrap];

    CGRect stringRenderingRect = CGRectMake(kBorderInset,
                                   pageSize.height - 40.0,
                                   pageSize.width - 2*kBorderInset,
                                   pageNumberStringSize.height);

    [pageNumberString drawInRect:stringRenderingRect withFont:theFont lineBreakMode:UILineBreakModeWordWrap alignment:UITextAlignmentCenter];
}

- (void) drawHeader
{
    CGContextRef    currentContext = UIGraphicsGetCurrentContext();
    CGContextSetRGBFillColor(currentContext, 0.3, 0.7, 0.2, 1.0);

    NSString *textToDraw = @"Pdf Demo - iOSLearner.com";

    UIFont *font = [UIFont systemFontOfSize:24.0];

    CGSize stringSize = [textToDraw sizeWithFont:font constrainedToSize:CGSizeMake(pageSize.width - 2*kBorderInset-2*kMarginInset, pageSize.height - 2*kBorderInset - 2*kMarginInset) lineBreakMode:UILineBreakModeWordWrap];

    CGRect renderingRect = CGRectMake(kBorderInset + kMarginInset, kBorderInset + kMarginInset, pageSize.width - 2*kBorderInset - 2*kMarginInset, stringSize.height);

    [textToDraw drawInRect:renderingRect withFont:font lineBreakMode:UILineBreakModeWordWrap alignment:UITextAlignmentLeft];
}

- (void) drawText
{
    CGContextRef    currentContext = UIGraphicsGetCurrentContext();
    CGContextSetRGBFillColor(currentContext, 0.0, 0.0, 0.0, 1.0);

    NSString *textToDraw = @"Lorem ipsum dolor sit amet, consectetuer adipiscing elit, sed diam nonummy nibh euismod tincidunt ut laoreet dolore magna aliquam erat volutpat. Ut wisi enim ad minim veniam, quis nostrud exerci tation ullamcorper suscipit lobortis nisl ut aliquip ex ea commodo consequat. Duis autem vel eum iriure dolor in hendrerit in vulputate velit esse molestie consequat, vel illum dolore eu feugiat nulla facilisis at vero eros et accumsan et iusto odio dignissim qui blandit praesent luptatum zzril delenit augue duis dolore te feugait nulla facilisi. Nam liber tempor cum soluta nobis eleifend option congue nihil imperdiet doming id quod mazim placerat facer possim assum. Typi non habent claritatem insitam; est usus legentis in iis qui facit eorum claritatem. Investigationes demonstraverunt lectores legere me lius quod ii legunt saepius. Claritas est etiam processus dynamicus, qui sequitur mutationem consuetudium lectorum. Mirum est notare quam littera gothica, quam nunc putamus parum claram, anteposuerit litterarum formas humanitatis per seacula quarta decima et quinta decima. Eodem modo typi, qui nunc nobis videntur parum clari, fiant sollemnes in futurum.";

    UIFont *font = [UIFont systemFontOfSize:14.0];

    CGSize stringSize = [textToDraw sizeWithFont:font
                               constrainedToSize:CGSizeMake(pageSize.width - 2*kBorderInset-2*kMarginInset, pageSize.height - 2*kBorderInset - 2*kMarginInset) 
                                   lineBreakMode:UILineBreakModeWordWrap];

    CGRect renderingRect = CGRectMake(kBorderInset + kMarginInset, kBorderInset + kMarginInset + 50.0, pageSize.width - 2*kBorderInset - 2*kMarginInset, stringSize.height);

    [textToDraw drawInRect:renderingRect 
                  withFont:font
             lineBreakMode:UILineBreakModeWordWrap
                 alignment:UITextAlignmentLeft];

}

- (void) drawLine
{
    CGContextRef    currentContext = UIGraphicsGetCurrentContext();

    CGContextSetLineWidth(currentContext, kLineWidth);

    CGContextSetStrokeColorWithColor(currentContext, [UIColor blueColor].CGColor);

    CGPoint startPoint = CGPointMake(kMarginInset + kBorderInset, kMarginInset + kBorderInset + 40.0);
    CGPoint endPoint = CGPointMake(pageSize.width - 2*kMarginInset -2*kBorderInset, kMarginInset + kBorderInset + 40.0);

    CGContextBeginPath(currentContext);
    CGContextMoveToPoint(currentContext, startPoint.x, startPoint.y);
    CGContextAddLineToPoint(currentContext, endPoint.x, endPoint.y);

    CGContextClosePath(currentContext);    
    CGContextDrawPath(currentContext, kCGPathFillStroke);
}

- (void) drawImage
{
    UIImage * demoImage = [UIImage imageNamed:@"demo.png"];
    [demoImage drawInRect:CGRectMake( (pageSize.width - demoImage.size.width/2)/2, 350, demoImage.size.width/2, demoImage.size.height/2)];
}

- (void) generatePdfWithFilePath: (NSString *)thefilePath
{
    UIGraphicsBeginPDFContextToFile(thefilePath, CGRectZero, nil);

    NSInteger currentPage = 0;
    BOOL done = NO;
    do 
    {
        //Start a new page.
        UIGraphicsBeginPDFPageWithInfo(CGRectMake(0, 0, pageSize.width, pageSize.height), nil);

        //Draw a page number at the bottom of each page.
        currentPage++;
        [self drawPageNumber:currentPage];

        //Draw a border for each page.
        [self drawBorder];

        //Draw text fo our header.
        [self drawHeader];

        //Draw a line below the header.
        [self drawLine];

        //Draw some text for the page.
        [self drawText];

        //Draw an image
        [self drawImage];
        done = YES;
    } 
    while (!done);

    // Close the PDF context and write the contents out.
    UIGraphicsEndPDFContext();
}

#pragma mark - View lifecycle

- (void)viewDidLoad
{
    [super viewDidLoad];
}

- (void)viewDidUnload
{
    [super viewDidUnload];
}

- (BOOL)shouldAutorotateToInterfaceOrientation:(UIInterfaceOrientation)interfaceOrientation
{
    return (interfaceOrientation == UIInterfaceOrientationPortrait);
}

- (void)didReceiveMemoryWarning
{
    [super didReceiveMemoryWarning];
}

- (IBAction)generatePdfButtonPressed:(id)sender
{
    pageSize = CGSizeMake(612, 792);
    NSString *fileName = @"Demo.pdf";
    NSArray *paths = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES);
    NSString *documentsDirectory = [paths objectAtIndex:0];
    NSString *pdfFileName = [documentsDirectory stringByAppendingPathComponent:fileName];

    [self generatePdfWithFilePath:pdfFileName];
}
@end 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-08T07:18:52.100

Apple 的[绘图和打印指南](http://developer.apple.com/library/ios/#documentation/2ddrawing/conceptual/drawingprintingios/GeneratingPDF/GeneratingPDF.html)是您的朋友。基本上，如果您可以在屏幕上绘图，则可以在 iOS（和 Mac OS X）上绘制到 PDF。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-08T07:17:49.537

您可能会发现它有点高级教程，但Ray Wenderlich 的[这个](http://www.raywenderlich.com/6581/how-to-create-a-pdf-with-quartz-2d-in-ios-5-tutorial-part-1)精美教程将真正帮助您，就 plit 而言，您应该先谷歌它，因为您可以找到很多。

最良好的祝愿，

法鲁克·贾维德

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-08T07:23:02.987

```
CFURLRef pdfURL = CFBundleCopyResourceURL(CFBundleGetMainBundle(), CFSTR("iPhoneAppProgrammingGuide.pdf"), NULL, NULL);
        PDFfile = CGPDFDocumentCreateWithURL((CFURLRef)pdfURL);
        CFRelease(pdfURL);    
 CGPDFPageRef page = CGPDFDocumentGetPage(PDFfile,currentpage);

        context = UIGraphicsGetCurrentContext();
        CGContextSaveGState(context);
        CGContextSetRGBFillColor(context, 1.0, 1.0, 1.0, 1.0);
        CGContextFillRect(context,self.bounds);   
        CGContextTranslateCTM(context, -1.0, [self bounds].size.height);
        CGContextScaleCTM(context, 1.0, -1.0);
        CGContextConcatCTM(context, CGPDFPageGetDrawingTransform(page,  kCGPDFArtBox, [self bounds], 0, true));
        CGContextDrawPDFPage(context, page);    
        CGContextRestoreGState(context);
        CGAffineTransform transform = aspectFit(CGPDFPageGetBoxRect(page, kCGPDFMediaBox),
                                                    CGContextGetClipBoundingBox(context));

           CGContextConcatCTM(context, transform);
             UIGraphicsBeginImageContext(CGSizeMake(self.bounds.size.width, self.bounds.size.height)); 
```

# iphone - 支持 iOS 4.3 到 iOS 6.0

> ID：12776932
> 
> 赞同：1
> 
> 时间：2012-10-08T07:13:20.553
> 
> 标签：iphone, ios, ios5, ios6, ios4

我已经有了支持ios 4.3到ios 5的基础代码，现在我也想支持ios 6.0。目前的基本代码有`modal views`，硬编码`CGRect's`，并且每个视图的旋转都不同。所以我想知道我们是否可以通过相同的基本代码支持 ios 4.3 到 ios 6.0，只需调整一些更改，还是我们需要创建一个完整的新目标？

就像如果我想支持以前的版本，我们不能使用 ios 6.0 的自动布局，因为它会导致崩溃。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-08T07:22:46.653

是的，我们可以通过将部署目标设置为 iOS 4.3 来做到这一点。但是，为什么您需要支持 iOS < 5.0，因为大约 85-90% 的设备都在 iOS 5.0+ 上。看到[这个](http://insights.chitika.com/2012/ios-by-device/)

此外，当您设置对 iOS 4.3 甚至 iOS 5.1.1 的支持时，您将不得不处理多种事情。例如，定向的方法，

```
- (BOOL)shouldAutorotateToInterfaceOrientation:(UIInterfaceOrientation)interfaceOrientation 
```

iOS 6 不调用它。它被方法所取代，

```
- (NSUInteger)supportedInterfaceOrientations

- (BOOL)shouldAutorotate 
```

您需要设备上的所有 iOS 版本，然后测试应用程序的各个方面。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-08T07:16:07.733

使用 Xcode 4.5 使用一个代码库来构建 iOS 4.3 - 6.0 应用程序是完全有效的，但与往常一样，关键是在具有给定操作系统版本的真实 iDevice 上进行测试。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-08T07:33:59.473

是的，它非常好，可以使用 xcode 4.5 支持 ios 4.3 到 ios 6.0。

对于 ios 6 中的方向，必须做一些工作，比如必须按照**@Mayur J 的答案中发布的不同方式放置一些代码。**

或者您所能做的只是为所需的控制器添加类别，如`UINavigationController`, `UIPopoverViewController`,`UIImagePickerViewController`等，以返回 ios 6.0 中支持的方向，如下所示

.h 文件

```
#import <UIKit/UIKit.h>

@interface UIPopoverController (UIPopoverController_Orientation)

-(NSUInteger) supportedInterfaceOrientations;

@end 
```

.m 文件

```
#import "UIPopoverController+UIPopoverController_Orientation.h"

@implementation UIPopoverController (UIPopoverController_Orientation)

-(NSUInteger) supportedInterfaceOrientations {
    return UIInterfaceOrientationMaskLandscape;
}
@end 
```

我在这里使用`UIInterfaceOrientationMaskLandscape`，因为我只支持横向，即将我的应用程序限制为仅横向模式。

希望这会帮助你。

快乐编码:)

# three.js - three.js - 识别管圆周上的点并从该点旋转

> ID：12776933
> 
> 赞同：2
> 
> 时间：2012-10-08T07:13:28.377
> 
> 标签：three.js

下面是我的管几何场景代码。我已经从外部文件加载了 200 个坐标作为 JSON 数据。

```
 <!DOCTYPE html>
<html lang="en">
    <head>
        <title>3d Model using HTML5 and three.js</title>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
        <style>
            body {
                font-family: Monospace;
                background-color: #f0f0f0;
                margin: 0px;
                overflow: hidden;
            }
            #info {
                    color:#000;
            position: absolute;
            top: 0px; width: 100%;
            padding: 5px;

            }
        </style>
    </head>
    <body>              
        <div id="info">         
            WASD-move, RF-up/down, QE-roll, mouse-look around, mouse left/right click- zoom-in/out 
        </div>            
        <script src="three.min.js" type="text/javascript"></script>
        <script src="Curve.js" type="text/javascript"></script>             
        <script src="Stats.js" type="text/javascript"></script>
        <script src="Detector.js" type="text/javascript"></script>      
        <script src="path.js" type="text/javascript"></script>

        <script>

        // variables
        var container, stats;

        var camera, scene, renderer, controls;

        var text, plane, tube, tubeMesh, parent;

        var targetRotation = 0;
        var targetRotationOnMouseDown = 0;

        var mouseX = 0, mouseY = 0; var radius = 6371;
        var mouseXOnMouseDown = 0;

        var windowHalfX = window.innerWidth / 2;
        var windowHalfY = window.innerHeight / 2;   

        var clock = new THREE.Clock();

        function plotPath()
        {                                           
            var obj = getPath();
            var segments = 60;
            var closed = false;
            var debug = true;
            var radiusSegments = 12;
            var tube;
            var points = [];
            var x=0,y=0,z=0;
            var extrudePath;

            for(var i=0; i<obj.path.length; i++)
            {                               
                console.log(obj.path[i].point);
                points.push(obj.path[i].point);                                                                                 
            }

            extrudePath = new THREE.SplineCurve3(points);               
            tube = new THREE.TubeGeometry(extrudePath, segments, 2, radiusSegments, closed, debug);         

            tubeMesh = new THREE.Mesh(tube ,new THREE.MeshBasicMaterial({
                color: 0x000000, side: THREE.DoubleSide,
                opacity: 0.5, transparent: true, wireframe: true}));    

            if ( tube.debug ) tubeMesh.add( tube.debug );

            scene.add( tubeMesh );

        } 

        init();                             
        animate();

        function init(){
            // container
            container = document.createElement( 'div' );
            document.body.appendChild( container );         

            // scene            
            scene = new THREE.Scene();
            scene.fog = new THREE.FogExp2( 0xcccccc, 0.002 );

            // renderer         
            renderer = new THREE.WebGLRenderer( { antialias: false } );
            renderer.setClearColor( scene.fog.color, 1 );
            renderer.setSize( window.innerWidth, window.innerHeight );
            container.appendChild( renderer.domElement );

            // camera   
            camera = new THREE.PerspectiveCamera( 60, window.innerWidth / window.innerHeight, 1, 1000 );

            // light
            light = new THREE.DirectionalLight( 0xffffff );
            light.position.set( 1, 1, 1 );
            scene.add( light );

            light = new THREE.DirectionalLight( 0x002288 );
            light.position.set( -1, -1, -1 );
            scene.add( light );

            light = new THREE.AmbientLight( 0x555555 );
            scene.add( light );

            // CONTROLS
            controls = new THREE.RollControls( camera );
            controls.movementSpeed = 50;
            controls.lookSpeed = 3;
            controls.constrainVertical = [ -0.5, 0.5 ];         

            // Grid
            geometry = new THREE.Geometry();
            geometry.vertices.push( new THREE.Vector3( - 500, 0, 0 ) );
            geometry.vertices.push( new THREE.Vector3( 500, 0, 0 ) );

            for ( var i = 0; i <= 20; i ++ ) {

                line = new THREE.Line( geometry, new THREE.LineBasicMaterial( { color: 0x000000, opacity: 0.2 } ) );
                line.position.z = ( i * 50 ) - 500;
                scene.add( line );

                line = new THREE.Line( geometry, new THREE.LineBasicMaterial( { color: 0x000000, opacity: 0.2 } ) );
                line.position.x = ( i * 50 ) - 500;
                line.rotation.y = 90 * Math.PI / 180;
                scene.add( line );
            }                   

            // projector
            projector = new THREE.Projector();

            plotPath();

            // stats
            stats = new Stats();
            stats.domElement.style.position = 'absolute';
            stats.domElement.style.top = '0px';
            stats.domElement.style.zIndex = 100;
            container.appendChild( stats.domElement );

            // events           
            window.addEventListener( 'resize', onWindowResize, false );
        }

        function onWindowResize() {
            windowHalfX = window.innerWidth / 2;
            windowHalfY = window.innerHeight / 2;

            camera.aspect = window.innerWidth / window.innerHeight;
            camera.updateProjectionMatrix();

            renderer.setSize( window.innerWidth, window.innerHeight );
        }

        function animate() {            
            requestAnimationFrame( animate );
            render();
            update();
        }

        function update(){
            controls.update(clock.getDelta());
            stats.update();
        }       

        function render() {         
            renderer.render( scene, camera );
        }
        </script>        
    </body>
</html> 
```

如何识别管圆周上的点以及如何从该点旋转管？

![3d模型截图](../Images/53590ae8f70ae2860f7df9f2fea852dd.png)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-08T16:12:14.730

`OrbitControls`，例如，具有`target`既是旋转中心又是`camera`观察位置的属性。

```
controls = new THREE.OrbitControls( camera ); 
```

您可以使用拾取更改相机的旋转中心。

```
function onDocumentMouseDown( event ) {

    event.preventDefault();

    var vector = new THREE.Vector3( 
        ( event.clientX / window.innerWidth ) * 2 - 1, 
        - ( event.clientY / window.innerHeight ) * 2 + 1, 
        0.5 );

    projector.unprojectVector( vector, camera );
    var ray = new THREE.Raycaster( camera.position, vector.sub( camera.position ).normalize() );

    var intersects = ray.intersectObjects( objects );    

    if ( intersects.length > 0 ) {

        controls.target.copy( intersects[0].point );

    }

} 
```

编辑：这是一个更新的小提琴：http: [//jsfiddle.net/eVkgs/30/](http://jsfiddle.net/eVkgs/30/)

三.js r.65

# regex - 使用正则表达式提取文本模式

> ID：12776936
> 
> 赞同：2
> 
> 时间：2012-10-08T07:13:33.267
> 
> 标签：regex, vb.net

我想从不同页面的输入字符串中提取代码。示例代码是“110-PT-0988”。

此 RegExp 适合其他可能的情况`'^\d{3}-[A-Z]{1,6}-\d{4}[A-Z]{0,2}$'`。

我想返回一个字符串变量，其中包含输入字符串中的代码，例如输入字符串

`'Code part: xx Code No: 120-PXT-2234X System Process .....xyz blah blah'.`

我希望返回字符串是`'120-PXT-2234X'`

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-08T07:19:00.227

问题是[锚点](http://www.regular-expressions.info/anchors.html) `^`和`$`。它们匹配字符串的开头和结尾，并且由于您的模式位于字符串的中间，它不会找到它。

[单词边界](http://www.regular-expressions.info/wordboundaries.html)的锚`\b`，在这里会是一个更好的选择，试试

```
\b\d{3}-[A-Z]{1,6}-\d{4}[A-Z]{0,2}\b# 
```

[在 Regexr 上](http://regexr.com?32cr8)查看

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-08T07:19:17.010

如果你想在一个更大的字符串中匹配这样的模式，那么你需要删除锚（`^`和`$`）：

```
\d{3}-[A-Z]{1,6}-\d{4}[A-Z]{0,2} 
```

这样，正则表达式匹配任何匹配模式的*子字符串*。

# visual-c++ - 如何检查 CString 是否仅包含数字字符

> ID：12776938
> 
> 赞同：8
> 
> 时间：2012-10-08T07:13:40.057
> 
> 标签：visual-c++, cstring, visual-c++-2005

我正在读取文件并解析其内容。我需要确保一个`CString`值只包含数字。我可以实现它的不同方法是什么？

示例代码：

```
Cstring Validate(CString str)
{
  if(/*condition to check whether its all numeric data in the string*/)
  {
     return " string only numeric characters";
  }
  else
  {
     return "string contains non numeric characters";
  }
} 
```

* * *

## 回答 #1

> 赞同：19
> 
> 时间：2012-10-08T07:24:22.923

您可以遍历所有字符并使用函数检查`isdigit`字符是否为数字。

```
#include <cctype>

Cstring Validate(CString str)
{
    for(int i=0; i<str.GetLength(); i++) {
        if(!std::isdigit(str[i]))
            return _T("string contains non numeric characters");
    }
    return _T("string only numeric characters");
} 
```

另一个不使用`isdigit`但仅使用 CString 成员函数的解决方案使用[`SpanIncluding`](http://msdn.microsoft.com/en-us/library/aa300657%28v=vs.60%29.aspx)：

```
Cstring Validate(CString str)
{
    if(str.SpanIncluding("0123456789") == str)
        return _T("string only numeric characters");
    else
        return _T("string contains non numeric characters");
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-08T10:32:07.500

你可以使用**CString::Find**，

```
int Find( TCHAR ch ) const;

int Find( LPCTSTR lpszSub ) const;

int Find( TCHAR ch, int nStart ) const;

int Find( LPCTSTR pstr, int nStart ) const; 
```

**例子**

```
CString str("The stars are aligned");
int n = str.Find('e')
if(n==-1)   //not found
else        //found 
```

见这里在[MSDN](http://msdn.microsoft.com/en-us/library/aa314323%28v=vs.60%29.aspx)

# excel - Excel在数据排序后获取单元格的先前值

> ID：12776952
> 
> 赞同：-1
> 
> 时间：2012-10-08T07:14:41.003
> 
> 标签：excel, excel-formula, vba

如何在 Excel 工作表中获取上一个单元格值？

例如，如果我有以下顺序的数据：

```
A1000 - StackOverflow
A1001 - Some other flow
A2000 - StackOverflow 
```

然后我排序得到这样的东西：

```
A1000 - StackOverflow
A2000 - StackOverflow 
```

因此，值为“StackOverflow”的单元格将位于另一个之下。

我想在排序后找到高于 A2000 的单元格的值？我试过`INDIRECT("A"&Row()-1)`了，但它在我想要 A1000 的地方返回 A1999。

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2012-10-08T07:55:25.623

如果您不能在排序之前简单地将值放入 VBA 变量中，那么您可以在要继续引用的单元格值上放置一个定义的名称。即使您将其移动到不同的地址，定义的名称仍将保留在同一单元格中。您可以在左上角、编辑栏旁边执行此操作。

因此，在这种情况下，您可以为所需的单元格输入一个名称，如“myCell”，然后通过在另一个单元格中写入“=myCell”作为公式来引用它。

# mysql - 如何将整数转换为日期时间？

> ID：12776956
> 
> 赞同：2
> 
> 时间：2012-10-08T07:14:54.670
> 
> 标签：mysql, ruby

我有一个整数 50，它作为持续时间保存在我的数据库中，我想将其转换为日期时间。

我用过`Time.at(50)`，它给出了结果

```
1970-01-01 05:30:50 +0530 
```

在我想要零值的日期。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-08T07:17:16.530

日期部分不能为零；如果可以的话，它就不再是约会了。

您必须有一些起点，并且该起点已确定为 1970-01-01 00:00:00.000 UTC。

[历史](http://en.wikipedia.org/wiki/Unix_time)。

# api - Google Contacts API 404 照片上传

> ID：12776962
> 
> 赞同：0
> 
> 时间：2012-10-08T07:15:26.323
> 
> 标签：api, google-contacts-api, google-shared-contacts

使用 Contact API v3，我有一个将照片上传到现有联系人的工作实现。

几周以来，这以 404 失败。当 API 服务器开始发回 404 时，实施并没有改变，我没有看到任何迹象表明究竟发生了什么变化，现在会导致 404。

我正在使用 HTTP PUT + 联系人的照片 URL。

我所做的一个有趣的观察是，联系人的自我 URL 会随着每个请求而改变（提供的详细信息仍然始终相同且正确）。

有没有人注意到类似的事情？

编辑：问题链接：[http ://code.google.com/a/google.com/p/apps-api-issues/issues/detail?id=3301&q=contact&colspec=API%20ID%20Type%20Status%20Priority% 20颗星%20已打开%20总结](http://code.google.com/a/google.com/p/apps-api-issues/issues/detail?id=3301&q=contact&colspec=API%20ID%20Type%20Status%20Priority%20Stars%20Opened%20Summary)

*   尝试了不同的照片格式和尺寸、不同的内容类型，甚至是之前上传的照片（当它还在工作时）。没有任何改变返回 404 的行为。

*   wrt 更改联系人 ID：API 调用之间的联系人 ID 更改。我首先认为这可能与联系人 ID 更改的重新打开连接（没有保持活动状态）有关。然而，反对此问题的原因是，首先检索联系人然后编辑联系人地址是可能的，没有任何问题。

*   身份验证似乎也不是问题 - 否则编辑联系人的地址将无法正常工作。

PS：我在检索联系人时使用的是 JSON 输出格式。

PS2：第 3 步中的 s/GET/PUT（我尝试将 PUT 更改为 GET 以查看它是否仍返回 404 ......确实如此）。

PS3：我没有使用任何客户端库，而是直接实现协议（这应该与照片链接上的 HTTP PUT 无关

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-11T23:08:35.080

经过数小时的调查，我发现这是使用 OAuth1 的一个特殊问题。使用 OAuth2 时，使用 OAuth1 请求特定联系人记录时返回的照片链接完全相同，并在 HTTP GET 上返回照片数据。我希望使用 OAuth2 的照片链接的 HTTP PUT 也能成功。

如果 OAuth1 有某种解决方法，则保持打开状态。

# size - 二维码规格，我怎样才能让它从手机上扫描

> ID：12776965
> 
> 赞同：0
> 
> 时间：2012-10-08T07:16:04.250
> 
> 标签：size, qr-code, scanning

我需要在 qrcode 中存储很长的文本，是否有任何链接可以了解哪些主要的 qrcode 类型和大小可用？

我尝试将长文本存储在 qrcode 中，但似乎太满了，因为我的 android 扫描仪无法扫描它。

我知道它可以存储 4kb，所以我必须能够存储我的文本，因为它不会达到 4kb。

奇怪的是，稍后我会发布我的 QR，以便有人可以更好地帮助我，希望。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-08T09:26:24.940

包含大量信息的二维码的问题在于，随着它们尺寸的增加，使用智能手机摄像头扫描它们变得越来越困难。例如 QR 码，例如：![这](../Images/51bfb00720087cb9d08d7fe55d1e87ed.png)

（这是 QR 码的最大尺寸）几乎不可能使用智能手机进行扫描，仅仅是因为相机分辨率不足以让大多数算法能够对其进行解码。在本例中，二维码为 177x177 模块，因此即使使用高清分辨率（1280x720px）并扫描到足够近以使二维码填满整个图像宽度，每个模块也不会超过大约 4px，这使得解码非常困难。

这不能解决你的问题，但我希望它能解释它！

# scala - 播放：为所有路由添加一个全局可选 GET 参数

> ID：12776967
> 
> 赞同：1
> 
> 时间：2012-10-08T07:16:05.263
> 
> 标签：scala, playframework, playframework-2.0

我有一个运行良好的 Play 2.0 框架，我希望能够向所有路由添加一个特定的 get 参数（只有 be 知道）。该参数应该被路由忽略。

我解释。假设我有如下路线：

```
GET     /add/:id              controllers.MyController.add(id : Int)
GET     /remove/:id           controllers.MyController.remove(id : Int) 
```

例如，我想要的是[http://mydomain.com/add/77](http://mydomain.com/add/77) **?mySecretParam=ok**仍然转到*controllers.MyController.add(id : Int)*然后我可以在请求对象中获取 mySecretParam。我**所有**的路线都一样。

你知道我该怎么做吗？

谢谢。格雷格

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-08T08:26:06.003

```
package controllers

import play.api._
import play.api.mvc._
import play.api.data._
import play.api.data.Forms._

object Application extends Controller {

  def mySecretParam(implicit request: Request[_]): Option[String] = {
    val theForm = Form(of("mySecretParam" -> nonEmptyText))
    val boundForm = theForm.bindFromRequest
    if(!boundForm.hasErrors) 
      Option(boundForm.get)
    else
      None
  }

  def index = Action { implicit request=>
   Ok(views.html.index(mySecretParam.getOrElse("the default")))  
  }
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-08T08:52:38.530

这是Java：

你的路线

```
GET     /hello/:id      controllers.Application.hello(id: Int) 
```

在应用程序控制器中

```
public static Result hello(int id){
        //Retrieves the current HTTP context, for the current thread.
        Context ctx = Context.current(); 
        //Returns the current request.
        Request req = ctx.request();    
        //you can get this specific key or e.g. Collection<String[]>
        String[] param = req.queryString().get("mySecretParam"); 
        System.out.println("[mySecretParam] " + param[0]);
        //[req uri] /hello/123?mySecretParam=ok
        System.out.println("[Request URI] "+req.uri().toString()); 
        System.out.println("[Hello-ID]: " + id); //the function parameter in controller
        return ok("[Hello-ID]: " + id + "\n[mySecretParam] " + param[0]);
    } 
```

你的控制台输出

```
[info] play - Application started (Dev)
[Request] GET /hello/123?mySecretParam=imhereyee
[mySecretParam] imhereyee
[Request URI] /hello/123?mySecretParam=imhereyee
[Hello-ID]: 123 
```

你问题的关键是`Context`对象和`Request`对象

# java - 触发paintComponent（Java）的动画Gifs？

> ID：12776969
> 
> 赞同：1
> 
> 时间：2012-10-08T07:16:11.550
> 
> 标签：java, swing, jpanel, animated-gif, imageicon

在通过 SO 虔诚地阅读时，我看到了许多通过经典在 java 中使用动画 gif 的示例：

```
 JLabel mylabel=new JLabel(new ImageIcon("animated.gif")); 
```

效果很好，但是当我将 mylabel 添加到 a 时`JPanel`，我注意到`paintComponent`每次`gif`更改帧时都会调用 JPanel 的方法。

这真的有必要吗？
gif 不是与 JLabel 隔离的吗？

每次 gif 循环帧时，重新绘制整个面板（以及添加到其中的任何其他组件）似乎是一种昂贵的时间浪费。

如果您想知道我为什么关心：从做网页设计 (js/css) 开始，我学会了如何几乎完全避免重排并将重绘隔离到仅被更改的元素。为性能创造了奇迹。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-08T08:19:39.110

> 这真的有必要吗？

是的：JLabel 默认情况下是不透明的，这就是为什么它的父级*必须*在标签更改后重新绘制自己。如果您进行了更深入的探索：父级*仅*重新绘制标签后面的区域（参见剪辑）

# css - JSF,CSS - 动态降低亮度

> ID：12776975
> 
> 赞同：1
> 
> 时间：2012-10-08T07:16:41.067
> 
> 标签：css, jsf, richfaces

我正在玩 CSS 样式。如何以某种方式智能地做到这一点？

![在此处输入图像描述](../Images/1c40a2a5b017935c5f56da0e0756d776.png)

我可以在 css 文件中手动创建绿色的 x 变体，但它一定不是解决方案..

```
<h:outputText value="#{bean.date1}" styleClass="green1"/>
<h:outputText value="#{bean.date2}" styleClass="green2"/>
<h:outputText value="#{bean.date3}" styleClass="green3"/> 
```

如何“动态”减少它？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-08T07:44:55.383

我假设当您说*“动态”*时，您的意思是*“以某种方式以编程方式，无需手动维护不同的 CSS 类”*。如果是这样，您的方案相当简单 - 您可以让所有输出具有相同的颜色，但不透明度不同。您应该可以直接设置`style`属性：

```
<h:outputText value="#{bean.date1}" style="opacity:1"/>
<h:outputText value="#{bean.date2}" style="opacity:0.8"/>
<h:outputText value="#{bean.date3}" style="opacity:0.6"/> 
```

~[摆弄](http://jsfiddle.net/ovfiddle/bcL7L/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-08T07:29:51.783

使用 JQuery（许多 JSF 框架已经使用它/包含它），您可以选择具有以下类的所有元素`MyClass`：

```
$(".myClass") 
```

然后你可以使用`each()`定义一个函数在所有这些函数中执行，并`css`在函数中使用来改变属性。

```
$(".myClass").each(function() {
  $this.css("color", "myNewColor");
} 
```

使用超时启动此代码并设置各种颜色级别。

我已经搜索过，但我没有找到直接编辑 CSS 样式的方法；我不知道是否有人可以提出一种方法。

更新：[改变班级的一种方式](https://stackoverflow.com/questions/3452778/jquery-change-class-name)；缺点是它似乎替换了所有类，如果 JSF 库在组件中，它可能会自行添加一些类。小心使用。

# android - android上的tablayout设计

> ID：12776976
> 
> 赞同：2
> 
> 时间：2012-10-08T07:16:45.857
> 
> 标签：android, android-layout, android-tabhost, tabwidget

我需要将**标签栏背景设置为白色**。此外，我需要将**选定的选项卡背景颜色设置为 pink**并将其余选项卡（**未选择**的选项卡）背景颜色设置为**blue**。我现有的代码如下所示。我需要改变什么？

**主.xml：**

```
<?xml version="1.0" encoding="utf-8"?>
<TabHost xmlns:android="http://schemas.android.com/apk/res/android"
android:id="@android:id/tabhost"
android:background="#ffffffff"
android:layout_width="fill_parent"
android:layout_height="fill_parent">
<LinearLayout
    android:orientation="vertical"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent"
    android:background="#ffffffff" >
    <TabWidget
        android:id="@android:id/tabs"
        android:background="@drawable/tabicon"
        android:layout_width="fill_parent"
        android:layout_height="wrap_content" />
    <FrameLayout
        android:id="@android:id/tabcontent"
        android:layout_width="fill_parent"
        android:background="#ffffffff"
        android:layout_height="fill_parent"/>
</LinearLayout>
</TabHost> 
```

**tab_indicator.xml：**

```
<?xml version="1.0" encoding="utf-8"?>
<selector xmlns:android="http://schemas.android.com/apk/res/android">
<!-- Non focused states -->
<item android:state_focused="false" android:state_selected="false"
    android:state_pressed="false"
    android:drawable="@drawable/tab_unselected_v4" />
<item android:state_focused="false" android:state_selected="true"
    android:state_pressed="false"
    android:drawable="@drawable/tab_selected_v4" />

<!-- Focused states -->
<item android:state_focused="true" android:state_selected="false"
    android:state_pressed="false"
    android:drawable="@drawable/tab_focus" />
<item android:state_focused="true" android:state_selected="true"
    android:state_pressed="false"
    android:drawable="@drawable/tab_focus" />

<!-- Pressed -->
<item android:state_pressed="true"
    android:drawable="@drawable/tab_press" />
</selector> 
```

**tab_unselected_v4.xml：**

```
 <?xml version="1.0" encoding="utf-8"?>
   <selector xmlns:android="http://schemas.android.com/apk/res/android" >
<item android:state_pressed="true">
    <shape>
        <gradient android:startColor="#FFFFFF"
            android:endColor="#FFFFFF"
            />

    </shape>
</item>
</selector> 
```

**tab_focus.xml：**

```
 <?xml version="1.0" encoding="utf-8"?>
<shape xmlns:android="http://schemas.android.com/apk/res/android"
android:shape="rectangle">
<!-- Gradient BgColor for listrow Selected -->
<gradient
  android:startColor="#5e8fb7"
  android:centerColor="#5e8fb7"
  android:endColor="#5e8fb7"
  />
 </shape> 
```

**tab_selected.xml：**

```
 <?xml version="1.0" encoding="utf-8"?>
<shape xmlns:android="http://schemas.android.com/apk/res/android"
android:shape="rectangle">
<!--  Gradient Bg for listrow -->
<gradient
  android:startColor="#5e8fb7"
  android:centerColor="#5e8fb7"
  android:endColor="#5e8fb7"
  />
</shape> 
```

**tab_press.xml：**

```
<?xml version="1.0" encoding="utf-8"?>
<shape xmlns:android="http://schemas.android.com/apk/res/android"
android:shape="rectangle">
<!--  Gradient Bg for listrow -->
<gradient
  android:startColor="#FFFFFF"
  android:centerColor="#FFFFFF"
  android:endColor="#FFFFFF"
   />
 </shape> 
```

**编辑：** 我添加了下面的代码。现在我的背景颜色变为白色。但是我选择的项目和未选择的项目颜色没有设置所需的颜色。请帮助我。给我一些好的解决方案。

**tabicon.xml:**

```
 <?xml version="1.0" encoding="utf-8"?>
 <selector xmlns:android="http://schemas.android.com/apk/res/android" >
<item android:state_pressed="true">
    <shape>
        <gradient android:startColor="#FFFFFF"
            android:endColor="#FFFFFF"
            android:angle="90" 
                 />
                 </shape>
                 </item>
         <item android:state_focused="true">
    <shape>
        <gradient android:startColor="#FFFFFF"
            android:endColor="#FFFFFF"
            android:angle="90"  />

    </shape>
</item>
               </selector> 
```

还添加了下面的java代码：

```
 for(int i=0;i<tabHost.getTabWidget().getChildCount();i++)
   {

  tabHost.getTabWidget().getChildAt(i).setBackgroundResource(R.drawable.tab_indicator);
    }
   tabHost.getTabWidget().setCurrentTab(0);

   tabHost.getTabWidget().getChildAt(0).setBackgroundResource(R.drawable.tab_indicator);

     }

   public void onTabChanged(String tabId) {

   // TODO Auto-generated method stub
    for(int i=0;i<tabHost.getTabWidget().getChildCount();i++)
       {
   tabHost.getTabWidget().getChildAt(i).setBackgroundResource(R.drawable.tab_indicator);
    }
  tabHost.getTabWidget().getChildAt(tabHost.getCurrentTab()).setBackgroundResource(R.drawable.tab_indicator);
    }
      } 
```

**编辑：**

在这里我必须设置选定的背景颜色和未选择的背景颜色是成功的。

现在我希望在这里需要一个实现。

第**一个标签宽度大于第二个和第三个标签宽度**。我该怎么做？？？？请帮我。

在这里，仪表板选项卡大于订单和客户选项卡。请帮助我。我该如何设计和开发它。这是我的输出： ![电流输出](../Images/068542711cfe26feb515343fbb26a09d.png)

我希望需要 o/p 如下图所示：

![希望需要o/p](../Images/d7383f57c4f80c854bda027cb59127b1.png)

**编辑：**

在这里，我必须在我的**style.xml**上使用此代码：

```
 <style name="CustomTheme" parent="@android:style/Theme">
  <item name="android:tabWidgetStyle">@style/CustomTabWidget</item>
  </style>
  <style name="CustomTabWidget" parent="@android:style/Widget.TabWidget">
  <item name="android:textAppearance">@style/CustomTabWidgetText</item>
  </style>
   <style name="CustomTabWidgetText" 
   parent="@android:style/TextAppearance.Widget.TabWidget">
   <item name="android:textSize">20sp</item>
   <item name="android:textStyle">bold</item>
   </style> 
```

之后在 AndroidManifest.xml 文件中添加以下行：

```
<activity android:name="MyTabActivity" android:theme="@style/CustomTheme"> 
```

现在我已经成功地改变了我在 tabhost 上的字体大小、颜色和样式。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-09T06:50:45.350

如果您希望第一个选项卡的宽度大于第二个和第三个选项卡的宽度，您可以为其设置一个单独的 xml 并相应地指定宽度。我说的是这个xml：

```
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
        android:id="@+id/tabsLayout"
        android:layout_width="fill_parent"
        android:layout_height="wrap_content"
        android:background="@drawable/selector_selected_unselected">

</RelativeLayout> 
```

在为标签指示器充气时，您可以使用不同的 xml 为不同的标签指示器充气。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-08T11:39:42.237

我认为如果将 TabWidget 放在具有类似于以下白色背景的 LinearLayout 中会更好：

```
 <LinearLayout
                android:id="@+id/ll_tab_widget"
                android:layout_width="match_parent"
                 android:layout_height="wrap_content"
                android:background="@android:color/white" >

        <TabWidget
        android:id="@android:id/tabs"
        android:background="@drawable/tabicon"
        android:layout_width="fill_parent"
        android:layout_height="wrap_content" />

        </LinearLayout> 
```

此外，为了设置选中和未选中的颜色，您可以创建一个带有 RelativeLayout 的 xml，其背景是选择器（选中和未选中状态具有不同的图像或颜色），如下所示：

```
 <RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
        android:id="@+id/tabsLayout"
        android:layout_width="fill_parent"
        android:layout_height="wrap_content"
        android:background="@drawable/selector_selected_unselected">

</RelativeLayout> 
```

然后，您可以通过上述 xml 扩展 TabHost.TabSpec 指标。

如果您发现任何困难，您可以发布相同的内容。一切顺利！

# android - Android：在后台删除一个活动

> ID：12776981
> 
> 赞同：2
> 
> 时间：2012-10-08T07:17:11.940
> 
> 标签：android

我有 4 个活动，让它成为 A->B->C->D。在每个 A、B、C 活动中，用户需要输入数据，如果用户数据正确，所有数据都将发送到 C 活动中的服务器，他将移动到 D 活动和从堆栈中删除的所有活动 A、B、C。如果数据正确，我需要让用户重新输入数据，即在背面按下它必须移动 C->B->A。我的问题是当用户进入 D 活动时如何删除 A、B、C 活动。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-08T07:27:39.777

使用 FLAG_ACTIVITY_CLEAR_TOP 这将解决您的问题

[http://developer.android.com/reference/android/content/Intent.html](http://developer.android.com/reference/android/content/Intent.html)

如果设置，并且正在启动的活动已经在当前任务中运行，那么不会启动该活动的新实例，而是关闭它上面的所有其他活动，并且此 Intent 将被传递到（现在顶部）作为新意图的旧活动。

例如，考虑一个由以下活动组成的任务：A、B、C、D。如果 D 调用 startActivity() 并带有一个解析为活动 B 的组件的 Intent，那么 C 和 D 将完成并且 B 接收给定的 Intent ，导致堆栈现在是：A，B。

像使用它一样

```
Intent intent = new Intent(getApplicationContext(),
        yourActivity.class);
intent.setFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);

startActivity(intent); 
```

另外，看看这个问题：

[带有标志 FLAG_ACTIVITY_CLEAR_TOP 的活动 (android)](https://stackoverflow.com/questions/5179041/activity-with-flag-flag-activity-clear-top-android)

编辑：我以为您想从 D 移至您的家庭活动并希望从堆栈中删除所有活动

你的堆栈就像 homeactivity ， A ， B ， C ， D 所以我给了你这个解决方案，因为这将删除你的家庭活动之上的堆栈中的所有活动。但是你想在去 D 的时候清理堆栈，你可以使用

FLAG_ACTIVITY_TASK_ON_HOME

[http://developer.android.com/reference/android/content/Intent.html#FLAG_ACTIVITY_TASK_ON_HOME](http://developer.android.com/reference/android/content/Intent.html#FLAG_ACTIVITY_TASK_ON_HOME)

或 FLAG_ACTIVITY_CLEAR_TASK

[http://developer.android.com/reference/android/content/Intent.html#FLAG_ACTIVITY_CLEAR_TASK](http://developer.android.com/reference/android/content/Intent.html#FLAG_ACTIVITY_CLEAR_TASK)

但这些都适用于 api 级别 11

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-08T07:33:04.390

正确答案对我来说也很有趣，但我可以提供一个解决方案：例如，您从 O 开始活动 A：O->A->B->C->D。在活动 O 上，您可以放入 android manifest`android:launchMode="singleTop"` 然后，当数据正常时，您可以使用标志“FLAG_ACTIVITY_CLEAR_TOP”启动活动 O - 它从堆栈 A、B、C 中删除，并将被称为方法`onNewIntent (Intent intent)` [http://developer.android.com /reference/android/app/Activity.html#onNewIntent(android.content.Intent](http://developer.android.com/reference/android/app/Activity.html#onNewIntent(android.content.Intent) ) 在O，你可以在这里启动activity D。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-08T07:29:01.590

当您想将 D 活动移到那里时，您需要检查您的条件，如果您的条件满足，那么您需要进入您的下一个活动（即 D）。在这种情况下，您需要使用以下代码。

```
Intent intent = new Intent(this,D.class);
intent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TASK);
startActivity(intent); 
```

假设在后台你需要使用finish()。向后移动，即 C -> B -> A。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-08T07:22:21.403

您可以使用 startActivityForResult 启动活动，并从例如活动 D 调用 setResult，在 C 活动中您可以侦听活动结果，以及与此结果相关的是否完成活动，或者从 C 活动调用 setResalt ...

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-10-08T07:32:38.007

尝试这段代码并进行一些修改：

```
Intent intent = new Intent(this, D.class);
intent.setFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP); // To clean up all activities
startActivity(intent); 
```

* * *

## 回答 #6

> 赞同：-1
> 
> 时间：2012-10-08T07:34:31.860

[尝试在此处](http://developer.android.com/reference/android/app/Activity.html)查找 Activity 的公共方法 startActivity(Intent i) 和 finish()

在使用方面，它应该看起来像这样。

```
Intent i = new Intent(MainActivity.this, MainActivity.class);
startActivity(i);
finish(); 
```

希望这会有所帮助：D

# indexing - Google电子表格获取具有行和列索引的单元格值

> ID：12776983
> 
> 赞同：14
> 
> 时间：2012-10-08T07:17:14.923
> 
> 标签：indexing, google-sheets

我们如何从谷歌电子表格中的单元格中获取价值？

我有来自的行和列索引`ROW() and COLUMN() - 1.`

换句话说，**“= B1”**的另一种方法是什么，我将行作为1，列作为2。

任何建议，一个电子表格查询。除了向电子表格添加功能。

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-10-08T08:48:07.737

假设行号在 A1 中，列号在 A2 中，这些都应该有效：

```
=OFFSET(A1;A1-1;A2-1)
=INDIRECT("R"&A1&"C"&A2)
=INDEX(A1:400000;A1;A2) 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2015-08-28T19:34:57.227

为此，请使用indirect()：

```
=indirect("'PAGE ASD'!"&A2&A3) 
```

其中 A2 包含列的字母，例如“D”或“AA”，其中 A3 包含行的数字，例如“2”或“35”，您从中调用数据的页面称为“PAGE ASD”

# delphi - 我想从“详细带”中删除所有控件，这是DELPHI中“快速报告”的控件

> ID：12776989
> 
> 赞同：-2
> 
> 时间：2012-10-08T07:17:33.860
> 
> 标签：delphi, quickreports

> **可能重复：**
> [从快速报告详细信息带中删除/销毁所有控件](https://stackoverflow.com/questions/12741170/remove-destroy-all-the-control-from-quick-report-detail-band)

一些用户说这是#"incomplete question" #，但这是一个非常明确的问题。我想从“详细带”中删除所有控件，这是DELPHI中“快速报告”的控件。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-08T07:45:15.230

我想这样的事情会奏效......

```
for i := DetailBand.ControlCount - 1 downto 0 do
  DetailBand.Controls[0].Free; 
```

但我是凭记忆写的……不确定`QR***`组件是否是`TControl`后代。

# ios - 快速向左/向右滑动，使 UIImageView 飞离屏幕

> ID：12776993
> 
> 赞同：1
> 
> 时间：2012-10-08T07:17:57.820
> 
> 标签：ios, swipe-gesture

遵循以下链接中@Rob 的回答：

[https://stackoverflow.com/a/10407713/1692914](https://stackoverflow.com/a/10407713/1692914)

@抢

谢谢你的例子。但是我有一个问题，如果我快速滑动屏幕，会发生什么情况是 imageViews 从左到右飞行（反之亦然），这取决于动画，并且它们从屏幕上消失而没有出现在视图中，因为它们应该在我滑动屏幕时出现慢慢地。

# javascript - 使用 javascript 在更新框架内的文本框上回发

> ID：12776996
> 
> 赞同：0
> 
> 时间：2012-10-08T07:18:01.910
> 
> 标签：javascript, asp.net, postback

我有一个包含更新面板中的 gridview 的 asp.net 页面。在这个 Gridview 上有许多文本框。这些文本框之一在失去焦点（textChanged 事件）并且更新面板执行回发时会导致回发。我希望这个文本框只有在失去焦点时有 20 个字符时才进行回发。我已经编写了一个 javascript 函数来执行此操作，但我仍然有问题。当我进行回发时，整个页面都会重新加载，而不仅仅是更新面板。我有类似下面的功能，谁能解释我如何让它只回发更新面板：

```
<script language='Javascript'>
     function CheckPostback(var textbox)
     {
        if(textbox.value.length() == 20)
        {
            __doPostBack(textbox.Id, '');
        }
     }

</script> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-08T09:02:21.123

`__doPostBack`使用要执行部分回发的 UpdatePanel 的 ID调用应该是更好的选择。有关详细信息，请参阅[使用 javascript 轻松刷新更新面板](http://encosia.com/easily-refresh-an-updatepanel-using-javascript/)。

这个问题[ASP.NET: Manually updated an UpdatePanel using jQuery](https://stackoverflow.com/questions/1460288/asp-net-manually-updating-an-updatepanel-using-jquery)应该也很有用。

# java - 如何从同一个 java 包中的其他主类调用多个外部 jpanel？

> ID：12776997
> 
> 赞同：-3
> 
> 时间：2012-10-08T07:18:11.147
> 
> 标签：java, swing

下面是`search_menu`包含在名为 admin 的包中定义的 jpanel 的类。

该包还包含一个主类。如何使用方法或类似方法`search_menu`从主类调用 jpanel 和其他在同一包中外部定义的此类面板。`SetVisible()`

这是我的代码：

```
package admin;

import javax.swing.JPanel;
import javax.swing.UIManager;
import javax.swing.JButton;
import javax.swing.GroupLayout;
import javax.swing.GroupLayout.Alignment;

public class Search_menu extends JPanel {

/**
 * 
 */
private static final long serialVersionUID = 1L;

/**
 * Create the panel.
 */
public Search_menu() {
    setBackground(UIManager.getColor("Button.darkShadow"));

    JButton btnNewButton = new JButton("New button");
    GroupLayout groupLayout = new GroupLayout(this);
    groupLayout.setHorizontalGroup(
        groupLayout.createParallelGroup(Alignment.LEADING)
            .addGroup(groupLayout.createSequentialGroup()
                .addContainerGap()
                .addComponent(btnNewButton)
                .addContainerGap(251, Short.MAX_VALUE))
    );
    groupLayout.setVerticalGroup(
        groupLayout.createParallelGroup(Alignment.LEADING)
            .addGroup(groupLayout.createSequentialGroup()
                .addGap(25)
                .addComponent(btnNewButton)
                .addContainerGap(339, Short.MAX_VALUE))
    );
    setLayout(groupLayout);

}
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-08T07:21:00.960

使用以下方法可见 Jpanel

```
 setVisible(true) 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-16T17:00:36.243

如果所有类都在同一个包中，那么您可以创建要调用的类的对象，然后使用它`setVisible`的方法

```
like apanel obj=new apnel()
obj.setVisible(true); 
```

# ruby-on-rails - Facebook OpenGraph API 中的 Food Styles 字段

> ID：12776999
> 
> 赞同：2
> 
> 时间：2012-10-08T07:18:15.857
> 
> 标签：ruby-on-rails, ruby, facebook

是否可以从 facebook Open Graph API 获取食物风格？出于某种原因，我似乎无法从 fb_graph gem 中获得它，并且想知道它是否只是从 facebook 的角度来看不可用。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-23T00:25:19.673

不，这是不可能的（在撰写本文时）。但它应该是。我提交了一个错误。

将来，当这样的事情看起来有问题时，也请这样做：[https ://developers.facebook.com/bugs](https://developers.facebook.com/bugs)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-22T14:20:48.753

不，您不能从图形 API 或直接使用 FQL 获取此字段。

如果您查看页面的[可用字段](http://developers.facebook.com/docs/reference/api/page/#fields)，它不会被列出。该文档还指出：

> 页面还可能包含其他（或附加）特定于类别的字段。

但是，如果您使用 API 获取餐厅页面的信息，则食物样式会被忽略，正如[该线程](https://stackoverflow.com/questions/11525705/food-styles-missing-from-opengraph-restaurant-place-data)中的链接所示。

这是另一个您可以看到该信息不可用的示例，该示例适用于东京的一家餐厅：http: [//graph.facebook.com/hakusyu](http://graph.facebook.com/hakusyu)