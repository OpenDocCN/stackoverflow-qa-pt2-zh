# StackOverflow 问答 13619000-13619999

# iphone - UITableView 中的蓝色页脚，用于 Objective C 中的 iPhone 本机应用程序

> ID：13619000
> 
> 赞同：0
> 
> 时间：2012-11-29T04:46:56.167
> 
> 标签：iphone, objective-c, xcode, uitableview

我正在使用目标 C 中的 X-Code 开发 iPhone 应用程序。我想在表格底部添加一个蓝色页脚（与页眉相同）。

任何人都可以帮助我建议如何实现这一点。另外如何在此页脚中添加按钮。

提前致谢。

![在此处输入图像描述](../Images/9d41b8fcae678056217283737db4bb71.png)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-29T06:27:29.920

希望对你有帮助

```
-(UIView *)tableView:(UITableView *)tableView viewForFooterInSection:(NSInteger)section{
    UIView *viewFotter = [[UIView alloc]initWithFrame:CGRectMake(0, 0, 320, 44)];
    [viewFotter setBackgroundColor:[UIColor blueColor]];
    return viewFotter;
} 
```

但问题是，你不能调整按钮的大小。因为它对我不起作用。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-29T04:52:28.823

将此代码粘贴到您的`.m`文件中，您也可以在页脚视图中添加图像

```
-(CGFloat)tableView:(UITableView *)tableView heightForFooterInSection:(NSInteger)section{
    return 44;
}

-(UIView *)tableView:(UITableView *)tableView viewForFooterInSection:(NSInteger)section{
    UIView *viewFotter = [[UIView alloc]initWithFrame:CGRectMake(0, 0, 320, 44)];
    [viewFotter setBackgroundColor:[UIColor blueColor]];
    UIButton *GoBtn = [UIButton buttonWithType:UIButtonTypeCustom];
    [GoBtn setTitle:@"GO" forState:UIControlStateNormal];
    GoBtn.frame = CGRectMake(85, 7, 150, 39 );
    [GoBtn addTarget:self action:@selector(GOButtonClicked:) forControlEvents:UIControlEventTouchUpInside];
    [viewFotter addSubview:GoBtn];
    return viewFotter;
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-29T04:58:16.147

```
 - (CGFloat)tableView:(UITableView *)tableView heightForFooterInSection:(NSInteger)section{
    return 40;
  }

- (UIView *)tableView:(UITableView *)tableView viewForFooterInSection:(NSInteger)section{
            UIView *footerView = [[UIView alloc] initWithFrame:CGRectMake(0, 0, 320, 40)];
            footerView.backgroundColor =[UIColor blueColor];
            UIButton *btn = [UIButton buttonWithType:UIButtonTypeCustom];
            [btn setTitle:@"BUTTON" forState:UIControlStateNormal];
            btn.frame = CGRectMake(100, 5, 100, 30 );
            [btn addTarget:self action:@selector(btnClicked:) forControlEvents:UIControlEventTouchUpInside];
            [footerView addSubview:btn];
            return footerView;
    }

   -(void) btnClicked:(id) sender{
     //ur code
    } 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-29T04:50:02.417

您可以使用所需的组件（ 、 等）创建自定义视图，`UIButton`并`UIImageView`在 `-(UIView*)tableView:(UITableView *)tableView viewForFooterInSection:(NSInteger)section`

或者您可以将相同的视图分配给 tableFooterView

> tableView.tableFooterView = yourBlueView;

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-11-29T05:00:47.077

您可以通过将按钮拖动`UIButton`到 xib 的页脚来添加按钮`UITableView`。但是您不能调整按钮的大小，因为它会自动分配给表格视图的宽度。但我不明白你在说什么关于页脚颜色。你能详细说明一下吗？

# ruby-on-rails - 使用 embeds_many / embedded_in 关系对 Rails3/Mongoid 中的产品变体进行建模......？

> ID：13619002
> 
> 赞同：2
> 
> 时间：2012-11-29T04:47:34.447
> 
> 标签：ruby-on-rails, ruby-on-rails-3, mongodb, mongoid

我知道这是一个（有点）常见的问题，但我是一个新手，我总是很欣赏我一直在思考的问题的第二（或第 100）双眼睛。

我想知道我是否在这里采用了正确的方法——我正在尝试对具有多种变体的产品以及针对该产品销售的相关礼券进行建模。

例如，餐厅的产品可能是“2 人品尝菜单”，而变体可能是“仅食物”、“部分配酒”和“配酒”等（只是一个说明性示例） .

这是我想出的提炼版本：

```
class Product
  include Mongoid::Document

  field :name, type: String

  has_many :gift_certificates
  embeds_many :variations
end

class Variation
  include Mongoid::Document

  field :name, type: String

  embedded_in :product
  has_many :gift_certificates      
end

class GiftCertificate
  include Mongoid::Document

  field :recipient, type: String
  field :amount, type: Float

  belongs_to :product
  belongs_to :variation
end 
```

因此，当我们创建 GiftCertificate 时，它​​被定义为同时属于产品和变体（对吗？）。一个例子可能是“200 美元的礼券，用于 2 种 [产品] 的品尝菜单和部分葡萄酒配对 [变体]”等。

我觉得这里的 Products/Variations 的 embeds_many / embedded_in 关系是理想的，因为它适合什么时候应该使用的配置文件：我永远不会访问没有变体的产品，而且我永远不需要访问独立于 a 的变体产品——它们齐头并进。

所以问题是我这样做是否正确。

我已经设法使用 ryanb 的出色的[nested_form](https://github.com/ryanb/nested_form) gem 将基本的 CRUD 表单按摩到工作中，并进行了一些调整。编辑产品和变体很容易（基本用例），但我在使用礼券时遇到了麻烦。

Mongoid 给我带来了一些麻烦......同时属于产品及其变体的 GiftCertificate 看起来很笨拙，每次查找时我都必须手动设置 GiftCertificate.variation，即

```
@gc = GiftCertificate.find(params[:id]) // as normal
@gc.variation // ==> nil, doesn't work by itself
@gc.variation = @gc.product.variations.find(@gc.variation_id) // Have to manually set this
@gc.variation // Now this works as it's supposed to 
```

无论如何，在我继续之前 - 很想对上述内容有所了解。

提前致谢！

# jquery - 使用 AJAX 加载另一个数据后，Facebox 不起作用

> ID：13619003
> 
> 赞同：0
> 
> 时间：2012-11-29T04:47:36.063
> 
> 标签：jquery, comments, facebox

我在一篇文章中创建了一个评论区，然后发表评论的会员名称会有一个链接，并且可以点击链接以使用facebox显示会员资料，问题是当另一个会员评论加载AJAX时，该链接无法正常使用 Facebox 显示会员资料。

**会员名及链接：**

```
<a href="/view/profile/<?php print $data['mId']; ?>/" title="View <?php print stripquote($data['mName']); ?>'s Profile" rel="facebox" class="membername"><?php print $data['mName']; ?></a> 
```

**加载更多评论按钮：**

```
<a href="#" id="<?php echo $msg_id; ?>" class="more">Load more comment</a> 
```

**脸书配置：**

```
jQuery(function($){
    $('a[rel*=facebox]').facebox();
}); 
```

那么，如何在使用 AJAX 加载更多成员评论后使 Facebook 正常工作。时间

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-29T05:33:09.157

有几种方法可以解决这个问题。

您可以在 ajax 加载后设置 facebox 链接，例如

```
// I don't know how you're doing the ajax load, but say you were using jQuery #load
$(".more").click(function() {
  $("#yourdiv").load("something.php", function() {
     $(this).find("a[rel*=facebox]").facebox();
  });  
}); 
```

或者你可以变得更花哨，并在点击链接时懒洋洋地加载 Facebook，例如：

```
$(document).on("click", "a.facebox", function() {
  // I've never used facebox, but according to the docs (link below), this should work.
  $.facebox({ ajax: $(this).attr('href') });
}); 
```

请参阅文档中的以[编程方式控制 Facebox](http://defunkt.io/facebox/)。

# python - 线程化 wxPython 和 XMLRPC

> ID：13619005
> 
> 赞同：1
> 
> 时间：2012-11-29T04:47:42.683
> 
> 标签：python, multithreading, wxpython, xml-rpc

我正在做一个带有 wxPython 和 XMLRPC 的应用程序，我需要在每次 XMLRPC 服务器有请求时窗口执行一个操作

我怎么能在不阻塞主窗口的情况下做到这一点？

我尝试使用线程，但它也不起作用我尝试在 Frame 的构造函数中调用线程的 run 方法，但它也不起作用

对不起语言我希望清楚谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-08T19:23:20.593

下面是一个使用 SimpleXMLRPCServer 的线程化 XMLRPC 服务器示例。请注意 wx.CallAfter 调用 wx 主线程和“返回 0”（尽管您可以配置服务器以便返回值 None 是可以的。）

```
from SimpleXMLRPCServer import SimpleXMLRPCServer
import threading

class XMLRPCServerThread(threading.Thread):
    def __init__(self, remoteObject, host='localhost', port=8000):
        self.remoteObject = remoteObject
        self.host = host
        self.port = port
        threading.Thread.__init__(self)

    def stop(self):
        self.server.shutdown()    

    def run(self):
        self.server = SimpleXMLRPCServer( (self.host, self.port), logRequests=False )
        self.server.register_instance( self.remoteObject )
        self.server.serve_forever()

class MyRemoteCalls(object):

    def __init__(self, obj):
        self.obj = obj

    def exampleCall(self, arg):
        wx.CallAfter(self.obj.method, arg)
        return 0  

def getRPCThread(obj, host='localhost', port=8000):
    remoteObj = MyRemoteCalls(obj)
    rpcThread = XMLRPCServerThread(remoteObj, host, port)
    rpcThread.start()
    return rpcThread 
```

# html - 更改网站字体样式

> ID：13619007
> 
> 赞同：1
> 
> 时间：2012-11-29T04:48:02.110
> 
> 标签：html, css

我正在为我的网站使用一种字体，即“Aparajita”。不需要在访问我的站点的每个系统中都可用。

我的问题是在浏览 PC 上安装此字体时看起来会有所不同，而在未安装相同字体时看起来会很糟糕。

我应该如何解决这个问题。

我应该在我的托管服务器上安装“Aparajita”字体还是其他什么...

提前致谢..

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-11-29T04:56:40.143

1.  确保您拥有该字体的合法权利。

2.  使字体在您的 Web 服务器上可用（即，将它放在一个目录中，从该目录中可以响应 HTTP 请求，就像处理图像或样式表一样）。

3.  在你的 CSS 中使用`@font-face`.

参见：[https ://developer.mozilla.org/en-US/docs/CSS/@font-face](https://developer.mozilla.org/en-US/docs/CSS/@font-face)

[Font Squirrel](http://www.fontsquirrel.com/fontface)有许多免费字体和[字体相关工具](http://www.fontsquirrel.com/fontface/generator)。[谷歌字体](http://www.google.com/webfonts)对整个过程进行了抽象，使其变得非常容易。

现在您（希望）知道要搜索哪些术语，您可以在 SO 上找到许多使用自定义字体的示例。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-11-29T04:57:04.323

您可以使用**CSS3** `@font-face` **属性**在您的网站中使用自定义字体，借助此属性，您的字体在所有计算机上看起来都一样，无论他们是否安装了该字体......

你可以这样写：-

```
@font-face {
    font-family: 'MyWebFont';
    src: url('webfont.eot'); /* IE9 Compat Modes */
    src: url('webfont.eot?#iefix') format('embedded-opentype'), /* IE6-IE8 */
         url('webfont.woff') format('woff'), /* Modern Browsers */
         url('webfont.ttf')  format('truetype'), /* Safari, Android, iOS */
         url('webfont.svg#svgFontName') format('svg'); /* Legacy iOS */
    } 
```

[**或阅读有关如何为我们的网站使用自定义字体的更多信息.....**](http://www.red-team-design.com/css3-font-face-or-how-to-use-a-custom-font-for-your-website)

* * *

## 回答 #3

> 赞同：-2
> 
> 时间：2012-11-29T04:52:37.160

`<font face="Your font_family">`

这里是字体样式。

> `<FONT SIZE=7 COLOR=RED>word</FONT></U></B>`

# c++ - C ++在文件中查找所有指针算法

> ID：13619008
> 
> 赞同：1
> 
> 时间：2012-11-29T04:48:04.040
> 
> 标签：c++, pointers, pointer-arithmetic

有几个大型 C++ 源文件。我们需要在这些文件中找到所有的指针算术运算。是否可以自动执行此任务？

是否可以在某些编译器中禁用指针运算并获取错误列表？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-29T05:02:46.157

复制您的代码并将所有指针变量更改为 (void *)。然后所有的指针算术都会得到编译错误。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-29T04:51:57.907

最简洁的答案是不”。

但是，如果您的软件可以完全解析和理解您的源代码，那么该软件将能够确定此信息。如果您要自己编写这样的软件，这是一项艰巨的任务。

# xcode - xcode ipad 模拟器 - 几个问题

> ID：13619012
> 
> 赞同：0
> 
> 时间：2012-11-29T04:48:31.730
> 
> 标签：xcode, ipad, simulator

我在 xcode 4.5.2 的 ipad 模拟器中看到了一些意外行为。如果有人可以提供任何建议，将不胜感激。

1）当我的应用程序运行时，ipad 总是以纵向而不是横向开始 - 即使我将模拟指标 - >方向设置为横向。

2）在project->summary->ipad deployment info->launch images中，4个图标都显示一个黄色的三角扁平警告“当前图像的大小与推荐的AAAA x BBBB像素大小不匹配”。我没有导入任何启动图像。所有 4 个图标都以纵向显示一个黑色块，包括两个横向的。iphone 部分中不会显示此类警告。

我有什么设置不正确吗？非常感谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-09-10T07:40:41.730

[根据此说明](http://www.idev101.com/code/User_Interface/launchImages.html)，确保文件名为 Default-Portrait.png 和 Default-Landscape.png 。

如果您将该文件命名为 Default.png，模拟器会将该文件识别为默认启动图像，但 Xcode 无法识别此文件名并产生此警告。

# java - 如何使用java检查myApp中图像（16位，灰度）的运行时是否有任何变化？

> ID：13619013
> 
> 赞同：0
> 
> 时间：2012-11-29T04:48:33.980
> 
> 标签：java, image, swing

我正在用 Java Swing 制作桌面应用程序。

在我的应用程序中，我对 16 位、灰度和 tiff 图像的图像进行了一些图像处理。

在我的应用程序中，用户可以使用将图像拖放到`JDesktopPane`.

现在，当用户对图像进行一些处理（如去除噪点或设置对比度）时，当他们关闭图像时，我的应用程序应该询问他们是否要保存图像中的更改？

那么如何检查原始图像中某些更改的运行时间？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-29T13:14:13.320

`java.awt.image.Raster`包含在a`BufferedImage`中*不会*覆盖`Object#equals()`。这主要是因为迭代*w* * *h*像素会变得昂贵：*O(wh)*。任何优化都取决于更改的性质。如果您只是在寻找全局变化，例如噪声或对比度，则比较多个样本可能就足够了。您还需要[分析](https://stackoverflow.com/q/2064427/230513)您的预期用途。

# ajax - 我必须向这个 js 外部页面加载器添加什么才能从页面加载 java 脚本？

> ID：13619016
> 
> 赞同：1
> 
> 时间：2012-11-29T04:48:47.630
> 
> 标签：ajax, jquery, callback

$(窗口).load(函数() {

```
var rel = $('#nav li a').each(function(){
    var page = $(this).attr('rel');

});

$('#nav li a').click(function(){

    var toLoad = $(this).attr('rel')+' #content';
    $('#content').toggle("slide", { direction: "up" }, 700,loadContent);
    $('#load').remove();
    $('#wrapper').append('<span id="load">LOADING...</span>');
    $('#load').fadeIn('normal');
    window.location.hash = $(this).attr('rel').substr(0,$(this).attr('rel').length-5);
    function loadContent() {
        $('#content').load(toLoad,'',showNewContent())

    }
    function showNewContent() {
        $('#content').toggle('slide',{direction: 'up'}, 700,hideLoader());

    }

                function hideLoader() {
        $('#load').fadeOut('normal');
    }
    return false;

}); 
```

});

我的网页上有一个菜单，然后单击一个按钮，在#content 中加载了一个外部页面（更确切地说是更改了内容 div），并带有幻灯片效果，代码工作正常，但我也有一个照片库java脚本，照片不再有效果等等，因为我猜java脚本没有加载！请帮忙！！

# php - 如何根据用户选择显示下拉字段（从 mysql db 填充）

> ID：13619018
> 
> 赞同：1
> 
> 时间：2012-11-29T04:49:06.347
> 
> 标签：php, javascript, mysql, ajax, forms

我有一个表格。第一个字段是下拉选择选项。用户将选择公司的名称。根据名称，需要生成第二个下拉选择选项，显示公司所有分支机构的地址。

公司数据存储在 mysql 数据库中。

我怎样才能使上述情况发生？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-29T04:52:27.043

### 如果您说的是`<select>`标签，则可以使用它。

```
<select name="option">
    <option value="one"<?php echo ($data["option"] == "one") ? ' selected="selected"' : ""; ?>>One</option>
    <option value="two"<?php echo ($data["option"] == "two") ? ' selected="selected"' : ""; ?>>Two</option>
    <option value="three"<?php echo ($data["option"] == "three") ? ' selected="selected"' : ""; ?>>Three</option>
</select> 
```

* * *

### 对于子选择，请参阅此演示：http: [//jsfiddle.net/ah4rx/](http://jsfiddle.net/ah4rx/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-29T04:52:33.680

你在这里有两个选择

1.  在第一个下拉列表更改时发布表单，并根据发布的值获取数据并显示。
2.  使用 ajax 功能根据下拉列表中选择的值获取数据并显示

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-30T15:56:32.667

尽可能基本 - 通过 ajax 将公司名称发送到 php，查询数据库以获取地址，在循环中填充相同 php 脚本中的下一个下拉列表并回显。用ajax接收回来

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-30T16:05:17.980

我会将该代码用于第一个列表的第一代。然后第二个列表必须使用 AJAX 完成（[JQUERY](http://api.jquery.com/jQuery.post/)可以在这里为您提供帮助）。你想让 JQUERY 得到

```
var client=$('#client_name').find("option:selected"); 
```

然后发出一个正常的 AJAX 请求。

我建议您使用[PDO](http://net.tutsplus.com/tutorials/php/why-you-should-be-using-phps-pdo-for-database-access/)连接到您的数据库，而不是使用该通用连接。

根据您在回复 Vamsi 中发布的代码，代码将是

```
 <label>Client Name</label><br> 
    <select id="client_name"> 
    <?php
    // PDO connect to the DB
    $db = new PDO ('mysql:host=localhost;dbname=DB_NAME','DB_USER','DB_PASS');

    $sql = 'SELECT name FROM client'
    $result = $db->query($sql)->fetchAll(PDO::FETCH_ASSOC);

    if(count($results)>0){ echo "<option></option>";}

     foreach( $result as $key => $val)
     { 
// could also be $val['name'] depending on your db
echo "<option>".$key['name']."</option>"; 
} 

     ?>
     <select> 
```

# python - 如何设置 WSGI 服务器以与 Apache 类似地运行？

> ID：13619021
> 
> 赞同：1
> 
> 时间：2012-11-29T04:49:28.097
> 
> 标签：python, tornado, wsgi, cherrypy

我来自`PHP/Apache`运行应用程序非常容易的世界。每当`PHP`应用程序崩溃时，运行该请求的 Apache 进程将停止，但服务器仍将愉快地破坏并响应其他客户端。有没有办法让 Python 应用程序以 smilar 的方式工作。我将如何设置 wsgi 服务器，`Tornado`或者`CherryPy`它会类似地工作？另外，我将如何从具有不同域的一台服务器上运行多个应用程序？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-29T06:06:03.193

无论如何，对于 WSGI 服务器，您所追求的可能会发生。这是因为任何 Python 异常只影响当前请求，框架或 WSGI 服务器会捕获异常，记录它并将其转换为 HTTP 500 状态页面。该应用程序仍将在内存中，并将继续处理未来的请求。

我们得到的是你所说的“崩溃 Apache 进程”究竟是什么意思。

您的代码很少会崩溃，因为整个过程由于核心转储而导致进程完全退出。因此，您是否对将应用程序语言级别错误等同于整个进程崩溃的术语感到困惑。

即使您确实找到了使进程崩溃的方法，Apache/mod_wsgi 也可以处理，并且该进程将被替换。Gunicorn WSGI 服务器也会这样做。CherryPy 不会，除非您有一个正在运行的进程管理器来监控它并且进程监视器重新启动它。Tornado 在其单进程模式下也会有同样的问题。在 Gunicorn 中使用 Tornado 作为 worker 是一种解决方法，而且我相信 Tornado 本身现在可能有一些进程管理器来运行多个进程，如果它们死亡，它可以重新启动进程。

请注意，如果导致 Python 异常的应用程序错误足够严重并且破坏了进程中的状态，则后续请求可能会出现问题。这是与 PHP 的一个区别。使用 PHP，在任何请求之后，无论成功与否，应用程序都会被有效地丢弃并且不会持续存在。因此错误代码不会影响后续请求。在 Python 中，由于加载代码和保留状态的进程保留在请求之间，因此从技术上讲，您可以使事情处于必须重新启动进程才能修复它的状态。我不知道有任何 WSGI 服务器，尽管它具有在一个请求返回错误响应时自动重新启动进程的机制。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-29T04:54:26.233

如果您在类 UNIX 环境中，您可以在 Apache 下以守护程序模式运行[mod_wsgi 。](http://code.google.com/p/modwsgi/)这意味着 Python 代码将有一个单独的进程，即使它崩溃，服务器也会继续正常运行（并且希望 WSGI 进程会自行重启）。一个 WSGI 应用程序可以在多个进程和每个进程的多个线程下运行。

至于在同一台服务器上运行多个域，请检查[Name-Based Virtual Hosts](http://httpd.apache.org/docs/2.2/vhosts/name-based.html)。

# ios - iOS 应用程序通常如何与服务器通信？

> ID：13619022
> 
> 赞同：1
> 
> 时间：2012-11-29T04:49:32.523
> 
> 标签：ios, ios5

我是一名 Ruby on Rails 开发人员，我有一个关于 iOS 开发的问题。

iPhone 应用程序通常如何与服务器交互？

例如，假设您希望将 GPS 坐标从 iPhone 发送到服务器以进行存储或处理。这通常是怎么做的？是通过典型的服务器 API（如 JSON）吗？

抱歉问了这么一个基本问题。

编辑：感谢以下答案。现在，如何将数据从服务器推送到 iPhone 应用程序（无需请求）。这是怎么做的？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-29T04:52:18.300

通常，每个客户端和服务器都通过公共 API 交换信息。

在 iOS 中，我们更喜欢提供 JSON 的 RESTful Web 服务。（也有其他选择，但我们更喜欢这个）

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-29T04:52:41.863

通信格式通常是通过 HTTP 调用的 XML 或 JSON，但这取决于您希望在服务器和应用程序之间通信的数据。您可以使用套接字连接。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-05-16T15:28:40.800

我想说确保从服务器向应用程序传递数据的最佳方式取决于您是否知道应用程序正在运行。推送通知可以向应用程序提供有效负载数据，尽管数量很少，并且它当前是否正在运行并不重要。这是一个很大的主题，但这是一个好的开始。

# c++ - Cuda 奇怪的 bug

> ID：13619025
> 
> 赞同：0
> 
> 时间：2012-11-29T04:49:44.333
> 
> 标签：c++, cuda

我无法理解简单 Cuda 内核中的错误。我将内核缩小到仍然显示错误的最小值。

我有一个“多边形”类，它只存储一些点。我有一个“添加一个点”的函数（只是增加计数器），我向我的多边形数组中的所有多边形添加 4 个点。最后，我调用一个使用循环更新点数的函数。如果在这个循环中我调用`new_nbpts++`一次，我会得到预期的答案：所有多边形都有 4 个点。如果在同一个循环中我`new_nbpts++`第二次调用，那么我的多边形有一个垃圾点数（4194304 个点），这是不正确的（我应该得到 8 个）。

我希望有一些我误解的东西。

完整的内核：

```
#include <stdio.h>
#include <cuda.h>

class Polygon {
public:
  __device__ Polygon():nbpts(0){};
  __device__ void addPt() {
    nbpts++;
  }; 
  __device__ void update() {
    int new_nbpts = 0;
    for (int i=0; i<nbpts; i++) {
        new_nbpts++;
        new_nbpts++;  // calling that a second time screws up my result
    }
    nbpts = new_nbpts;
  }

 int nbpts;
};

__global__ void cut_poly(Polygon* polygons, int N)
{
  int idx = blockIdx.x * blockDim.x + threadIdx.x;
  if (idx>=N) return;

  Polygon pol;
  pol.addPt();
  pol.addPt();
  pol.addPt();
  pol.addPt();

  for (int i=0; i<N; i++) {
    pol.update();
  }

  polygons[idx] = pol;
}

int main(int argc, unsigned char* argv[])
{
  const int N = 20; 
  Polygon p_h[N], *p_d;

  cudaError_t err = cudaMalloc((void **) &p_d, N * sizeof(Polygon));   

  int block_size = 4;
  int n_blocks = N/block_size + (N%block_size == 0 ? 0:1);
  cut_poly <<< n_blocks, block_size >>> (p_d, N);

  cudaMemcpy(p_h, p_d, sizeof(Polygon)*N, cudaMemcpyDeviceToHost);

  for (int i=0; i<N; i++)
   printf("%d\n", p_h[i].nbpts);

  cudaFree(p_d);

  return 0;
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-29T05:35:01.057

你为什么在你的内核结束时这样做：

```
 for (int i=0; i<N; i++) {
    pol.update();
  } 
```

?

请记住，每个线程都有自己的实例：

多边形 pol;

如果你想在内核结束时更新每个线程的 pol 实例，你只需要这样做：

```
pol.update(); 
```

现在，在你的情况下会发生什么？

假设您的 update() 代码只有一个：

```
new_nbpts++; 
```

在里面。

您的 0 到 N-1 的 for 循环调用 pol.update() 将在每次迭代中：

1.  将 new_nbpts 设置为零
2.  将 new_nbpts 总共增加 nbpts 次。
3.  将 nbpts 的值替换为 new_nbpts

希望您可以看到这具有使 nbpts 保持不变的效果。即使在调用 pol.update() 的 for 循环的 N 次迭代之后，nbpts 的值也不会改变。

现在如果我有会发生什么：

```
new_nbpts++;
new_nbpts++; 
```

在我的 update() 方法中？然后在每次调用 pol.update() 时，我将：

1.  将 new_nbpts 设置为零
2.  将 new_nbpts 增加两倍，总共 nbpts 次
3.  用新的 nbpts 替换 nbpts 的值

希望您可以看到这*对每次调用 pol.update()具有使 nbpts 翻倍的效果*

现在，由于您*在每个线程*中调用 pol.update() N 次，因此您将 nbpts 的起始值加倍 N 次，即 nbpts *2^N。由于 nbpts 以 4 开头（在本例中），因此我们有 4*2^20=4194304

我不太确定你对这一切的追求是什么，但我猜你是在内核末尾运行那个 for 循环，以为你会以这种方式更新 Polygon pol 的所有不同实例。但这不是怎么做的，你只需要一个

```
pol.update(); 
```

在内核的末尾，如果这是您的意图。

# android - 弹出窗口内的微调器

> ID：13619028
> 
> 赞同：1
> 
> 时间：2012-11-29T04:50:04.770
> 
> 标签：android, android-spinner, android-dialog

我创建了一个弹出窗口并在其中放置了一个微调器。但是当从中选择一个项目时，我无法获取值。

我创建弹出窗口的代码：

```
LayoutInflater inflater = (LayoutInflater) this.getSystemService(Context.LAYOUT_INFLATER_SERVICE);
    popwindow=new PopupWindow(inflater.inflate(R.layout.addpain, null,false),300,350,true);
    popwindow.showAtLocation(this.findViewById(R.id.tabHost), Gravity.CENTER, 0, 0); 
```

弹出窗口的 XML 文件

```
<LinearLayout  xmlns:android="http://schemas.android.com/apk/res/android"
android:layout_width="fill_parent"
android:layout_height="fill_parent"
android:background="#A0BBBBBB">

<RelativeLayout
    android:layout_width="fill_parent"
    android:layout_height="fill_parent"
    android:background="#A0BBBBBB" >

    <TextView
        android:id="@+id/addpaintext"
        android:layout_width="fill_parent"
        android:layout_height="wrap_content"
        android:text="@string/addpain"
        android:textColor="#000000"
        android:textSize="18dp"
        android:typeface="serif" />

    <EditText
        android:id="@+id/statustbox"
        android:layout_width="fill_parent"
        android:layout_height="150dp"
        android:layout_alignParentLeft="true"
        android:layout_below="@+id/addpaintext"
        android:layout_marginTop="17dp"
        android:hint="@string/addpain"
        android:inputType="textMultiLine"
        android:textColor="#000000"
        android:textSize="20dp"
        android:typeface="serif" />

    <Button
        android:id="@+id/addpainbutton"
        android:layout_width="80dp"
        android:layout_height="45dp"
        android:layout_alignParentLeft="true"
        android:layout_below="@+id/statustbox"
        android:layout_marginLeft="18dp"
        android:layout_marginTop="98dp"
        android:onClick="statusupload"
        android:text="@string/statusupload" />

    <Button
        android:id="@+id/cancelbutton"
        android:layout_width="80dp"
        android:layout_height="45dp"
        android:layout_alignBaseline="@+id/addpainbutton"
        android:layout_alignBottom="@+id/addpainbutton"
        android:layout_alignParentRight="true"
        android:layout_marginRight="18dp"
        android:onClick="canceladdpain"
        android:text="@string/cancel" />

    <Spinner
        android:id="@+id/spinner_list"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_alignLeft="@+id/addpainbutton"
        android:layout_alignRight="@+id/cancelbutton"
        android:layout_below="@+id/statustbox"
        android:layout_marginTop="20dp"
        android:prompt="@string/testtxt"
        android:entries="@array/list"/>

</RelativeLayout>

</LinearLayout> 
```

我的状态上传功能：

```
public void statusupload(View view)
{

    EditText status=(EditText) popwindow.getContentView().findViewById(R.id.statustbox); 

    Spinner spinner=(Spinner) popwindow.getContentView().findViewById(R.id.spinner_list);    

    spinner.setOnItemSelectedListener(new OnItemSelectedListener() {

        @Override
        public void onItemSelected(AdapterView<?> parent, View view, int position,long id)
        {
            category=parent.getSelectedItem().toString();
        }

        @Override
        public void onNothingSelected(AdapterView<?> parent) {
            category="Miscellaneous";
        }
    });

    Toast.makeText(getBaseContext(),category, Toast.LENGTH_LONG).show();

} 
```

发生的事情是可变类别没有得到任何值！它只是空白。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-29T05:44:07.450

你没有看到你想要的结果，因为一切都取决于按钮来打开你的微调器监听器。因此，您必须单击按钮，选择微调器，然后再次单击按钮。我会认真重新考虑设计。例如，您是否知道不需要监听器来选择项目？你可以使用：

```
public void statusupload(View view)
{
    EditText status=(EditText) popwindow.getContentView().findViewById(R.id.statustbox); 
    Spinner spinner=(Spinner) popwindow.getContentView().findViewById(R.id.spinner_list);    

    category = spinner.getSelectedItem().toString();
    Toast.makeText(getBaseContext(),category, Toast.LENGTH_LONG).show();
} 
```

# html - 具有居中文本和浮动元素的 Div

> ID：13619033
> 
> 赞同：0
> 
> 时间：2012-11-29T04:50:53.697
> 
> 标签：html, css

我`<footer>`的页面底部有一个。在这个元素中，我希望有几个`<p>`s 在页脚内居中，并且我希望块图像链接`float: left`位于页脚的默认位置。浮动块图像将我居中的文本推向右侧。

`<footer>`无论块图像链接在哪里，如何使我的文本居中在中？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-29T04:53:25.490

当我问这个问题时想通了...

1.  `footer{ position: relative; }`
2.  `#blocklink { display: inline-block; position: absolute; left: 0; }`

文本将保持居中，`text-align: center;`块元素将位于左上角。

# android - Android 谷歌地图触控事件

> ID：13619036
> 
> 赞同：0
> 
> 时间：2012-11-29T04:51:17.050
> 
> 标签：android, google-maps

我想要一个关于 android 谷歌地图的想法。Thins 是每当我触摸 geopint 位置时，它应该弹出一个对话框。请任何人用一个例子回答我的问题。

谢谢.....

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-29T04:59:51.837

有一个很棒的地图库，叫做**“北极星地图”**。它非常易于使用，我认为它将解决您的问题。

那里是 [http://android.cyrilmottier.com/?p=824](http://android.cyrilmottier.com/?p=824)

# bash - 文件解析器中的 awk 错误

> ID：13619037
> 
> 赞同：0
> 
> 时间：2012-11-29T04:51:18.100
> 
> 标签：bash, awk

我正在尝试使用 awk 解析和插入文件的元素。

```
clear

MESSAGE=$(cat emailTranscript.txt)

awk -F READLINE="$MESSAGE" 'BEGIN{
FS=","}
{
    CURRENTMESSAGE=READLINE
    gsub("#FIRSTNAME", $1, CURRENTMESSAGE)
    gsub("#LASTNAME", $2, CURRENTMESSAGE)
    gsub("#MAJOR", $3, CURRENTMESSAGE)
    gsub("#ADDRESS", $4, CURRENTMESSAGE)

    print CURRENTMESSAGE "\n--------------------------\n s"
}' nameAddresses.csv 
```

我处理 csv 文件的方式有问题吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-29T05:05:53.683

你没有准确地说出你想要做什么，但我可以很有信心地说你做错了。从您的代码中，我猜它`emailTranscript.txt`包含一个套用信函并`nameAddresses.csv`包含要替换的数据。

最大的错误，我怀疑是你的问题，是`-F`指定字段分隔符。您想要`-v`, 设置一个变量。

# php - 在 JQVMAPS 中添加带有国家名称的实时时间

> ID：13619038
> 
> 赞同：1
> 
> 时间：2012-11-29T04:51:19.583
> 
> 标签：php, javascript, jquery, jqvmap

我想将当前时间添加到`JQVMAP`. 像这样：`Eqypt-05:30 AM`

默认情况下，当我们将鼠标悬停在一个国家上时，它只在世界地图上显示国家名称。我还想添加当前时间。请帮我。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-07T21:50:17.443

Pleasing to consult the documentation regarding:

```
onRegionOver: function(event, code, region)
    {
      // log out the region and or code to see the ID
      if (window.console) console.log( region );
    }, 
```

[http://jqvmap.com/](http://jqvmap.com/)

youll need to do a time conversion hash/object based on element ID or similar

```
var foo = { "jqvmap1_thisID";"+5","jqvmap1_anotherID":"-2" }; 
```

then do the conversion

(not writing all the pseudo code)

OR you could have script that sets the labels onload, and then updates (settimeout 5000), though this is not ideal at all.

good luck! Bo

# iphone - 如何找到一个月中的特定日期？

> ID：13619039
> 
> 赞同：3
> 
> 时间：2012-11-29T04:51:19.080
> 
> 标签：iphone, ios, cocoa-touch

我已经做了很多研究`NSDate` `NSDateFormatter`，`NSCalendar`但无法找到一种方法来找到一个月中的某一天。例如，我想查找 12 月的第 2 个星期一的日期 ( `10/12/2012`)。我知道如何找到周数或月数，但无法弄清楚如何做到这一点。

谢谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-29T05:16:26.227

```
 // Set start date of the month you want
    NSString *str = @"01 - 12 - 2012";
    NSDateFormatter *formatter1 = [[[NSDateFormatter alloc] init] autorelease];
    [formatter1 setDateFormat:@"dd - MM - yyyy"];
    NSDate *date = [formatter1 dateFromString:str];
    NSCalendar *gregorian = [[[NSCalendar alloc] initWithCalendarIdentifier:NSGregorianCalendar] autorelease];
    NSDateComponents *weekdayComponents = [gregorian components:(NSDayCalendarUnit | NSWeekdayCalendarUnit) fromDate:date];
    // Get the weekday with sunday as one
    NSInteger weekday = [weekdayComponents weekday];
    int weekNumber = 2;
    int dayOfweek = 2;
    int x = (7 - weekday) * (weekNumber - 1) + dayOfweek;
    // Add the no. of weeks - 1 or - 2 depending on the value of x.
    // Also Add 1 as the start date is 1st Dec.
    if(x < 7)
    {
        x += 7 * (weekNumber - 1) + 1;
    }
    else
    {
        x += 7 * (weekNumber - 2) + 1;
    } 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-29T04:55:04.850

尝试从这些代码中找到一周中的特定日期，然后将其应用于该月:)

请参考以下链接：-

[如何使用 Cocoa Touch 获取星期几？](https://stackoverflow.com/questions/4269093/how-do-i-get-the-day-of-the-week-in-objective-c)

[当月使用 iPhone SDK 的天数？](https://stackoverflow.com/questions/1179945/number-of-days-in-the-current-month-using-iphone-sdk)

希望他们帮助:)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-29T07:42:37.607

Robin 和 Gill 的回答帮助我找到了解决问题的方法。通过更多的编辑，我能够解决我的问题。

这是我用来获取解决方案的代码

```
 -(void)findWeekDay:(NSInteger)weekDay forWeek:(NSInteger)week OfMonth:(NSInteger)month OfYear:(NSInteger)year
{
        NSDateComponents *dateComp = [[NSDateComponents alloc]init];
[dateComp setYear:year];
[dateComp setMonth:month];
[dateComp setDay:1];
NSCalendar *gregorian = [[NSCalendar alloc] initWithCalendarIdentifier:NSGregorianCalendar];
NSDate *firstDate=[gregorian dateFromComponents:dateComp];  //Sets first date of month.
firstDate=[self dateToGMT:firstDate];
NSLog(@"First date: %@",firstDate);
NSDateComponents *dateComp1 = [gregorian components:NSDayCalendarUnit|NSWeekdayCalendarUnit fromDate:firstDate];
NSInteger firstWeekDay=[dateComp1 weekday];  //Gets firstday of a week. 1-Sunday, 2-Monday and so on.
NSLog(@"First Week Day: %d",firstWeekDay);
NSRange daysInMonth = [gregorian rangeOfUnit:NSDayCalendarUnit inUnit:NSMonthCalendarUnit forDate:firstDate];   //To get number of days in that month
NSInteger x;    //days to be added to first date
if (firstWeekDay < weekDay) {
    x = (weekDay - firstWeekDay) + (7 * (week-1));
}
if (firstWeekDay > weekDay) {
    x = (7 - firstWeekDay + weekDay) + (7 * (week-1));
}
if (firstWeekDay == weekDay) {
    x = (7 * (week-1));
}
if (x > daysInMonth.length) {
    NSLog(@"Invalid Date: %d",x);
}
else {
    NSLog(@"Days to be added: %d",x);
    NSDateComponents *dateComp2 = [[NSDateComponents alloc]init];
    [dateComp2 setYear:0];
    [dateComp2 setMonth:0];
    [dateComp2 setDay:x];
    NSDate *desiredDate = [gregorian dateByAddingComponents:dateComp2 toDate:firstDate options:0];
    NSLog(@"Your desired date is: %@",desiredDate);
} 
```

}

```
 - (NSDate *)dateToGMT:(NSDate *)sourceDate {
NSTimeZone* destinationTimeZone = [NSTimeZone systemTimeZone];
NSInteger destinationGMTOffset = [destinationTimeZone secondsFromGMTForDate:sourceDate];
NSDate* destinationDate = [[NSDate alloc] initWithTimeInterval:destinationGMTOffset sinceDate:sourceDate];
return destinationDate; 
```

}

现在找到 2012 年 12 月的第 3 个星期一，将方法称为

```
 [self findWeekDay:2 forWeek:3 OfMonth:12 OfYear:2012]; 
```

# c# - 数组的数组变成一个数组c#

> ID：13619040
> 
> 赞同：1
> 
> 时间：2012-11-29T04:51:36.583
> 
> 标签：c#

我正在尝试转换

```
string[][] allcats

into 

string[] ToOneArray 
```

请问有什么快速Linq方式的帮助或建议吗？非常感谢

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-11-29T04:52:43.547

> 我想将 allcats 的每个元素组合成单个字符串，然后将其映射到一个数组中

试试这个：

```
var res = allcats.Select(a => string.Join("", a)).ToArray(); 
```

# php - PHP/jQuery：jQuery 发布变量但 PHP 没有读取它

> ID：13619042
> 
> 赞同：1
> 
> 时间：2012-11-29T04:51:37.867
> 
> 标签：php, jquery

```
echo "function disp_player (playerID) {";
    echo "$.post('editor.php', {'idval': playerID});";

    echo "alert(playerID);";
    echo "alert(" . $playerlist[$_POST['idval']][0] . ");"; 
```

我正在编写一个 PHP 脚本，该脚本应该根据从下拉列表中进行的选择来更改文本。

该页面可以在这里查看 - [http://superonlinehockey.com/editor.php](http://superonlinehockey.com/editor.php)

第一个警报有效，并输出了 playerID。将 $playerlist[$_POST['idval']][0] 设置为像 $playerlist[770][0] 这样的静态值也可以。使用 Firebug，我看到该值被添加到 post 中，而且使用 Firebug，看起来代码一切正常。但是，当我希望它与第一个警报不同时，第二个警报给了我一个“未定义”。

谁能帮我？我发错了吗？我是 jQuery 新手，所以我不确定这应该如何工作，但根据我所知道的，我看不出我的代码有什么问题。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-29T04:52:38.563

尝试

```
echo '$.post(\'editor.php\', {\'idval\': playerID});'; 
```

这是因为在`"`$some 之间的 php 中将表现为变量

和

```
echo "alert('" . $playerlist[$_POST['idval']][0] . "');"; 
```

[**键盘**](http://codepad.org/CwZuJ04n)

# android - 如何在 jQuery Mobile + PhoneGap 中捕捉返回和主页按钮

> ID：13619043
> 
> 赞同：0
> 
> 时间：2012-11-29T04:51:38.833
> 
> 标签：android, cordova, jquery-mobile

我已经尝试过这里和其他网站上发布的大多数解决方案。我仍然无法在我的 PhoneGap + jQuery Mobile android 应用程序上找到后退按钮。让我们从基本的开始：

```
document.addEventListener("backbutton", backKeyDown, true);
function backKeyDown() {
    alert('back button pressed');
} 
```

这似乎根本没有开火。

我想做的另一件事是在按下主页按钮时捕捉。我想让它在我按下主页按钮时被杀死，主要是出于安全目的。

任何人都可以帮助我解决上述困境吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-03T05:16:40.437

我遇到了同样的问题。我还没有完全解决它，但问题似乎是对应用程序插件的调用，包括启用按钮事件的调用，没有运行。

通过在 java 代码中启用事件绑定的本机部分，我能够触发后退按钮事件：

```
super.loadUrl("file:///android_asset/www/loading.html", 20000);
appView.bindButton(true); 
```

更新：

我找到了问题的真正原因——cordova 开发版本中的一个错误，现在已修复。

通常更新cordova是我尝试的第一件事，但是一个简单的拉动不起作用，因为repo现在是[http://github.com/apache/cordova-android](http://github.com/apache/cordova-android) - 旧的incubator-cordova-android仍然存在，但不是正在更新并包含修复此错误之前的代码版本。

# wpf - 在 Windows 应用商店应用程序（Windows 8 Metro）中创建图标的最佳方式？

> ID：13619045
> 
> 赞同：1
> 
> 时间：2012-11-29T04:51:51.757
> 
> 标签：wpf, button, icons, windows-store-apps

我只是了解在 Visual Studio 2012 的 Windows Store App 中创建后退按钮，微软使用这个值/键对

```
<x:String x:Key="BackButtonGlyph">&#xE071;</x:String> 
```

`&#xE071;`是 Unicode 吗？如果是，如何获取 Windows 应用商店应用程序的有效代码列表，因为我使用了其中一些代码，它显示了一个空矩形？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-29T10:28:33.483

基于[这篇](http://blog.jerrynixon.com/2012/03/windows-8-1000-metro-icons-you-already.html)文章我创建了一个样式。

首先，在 StandardStyle.xaml（文件顶部）中添加字符串字典项

```
<ResourceDictionary.ThemeDictionaries>
         <ResourceDictionary x:Key="Default">
         <x:String x:Key="DeleteButtonGlyph">&#xE107;</x:String>
   </ResourceDictionary>
   . 
```

然后，在另一个或相同的 xaml 文件（样式文件）中添加以下样式

```
 <Style x:Key="DeleteButtonStyle" TargetType="Button">
    <Setter Property="MinWidth" Value="0"/>
    <Setter Property="ToolTipService.ToolTip" Value="Delete Selected Word"></Setter>
    <Setter Property="Margin" Value="5"/>
    <Setter Property="VerticalAlignment" Value="Bottom"/>
    <Setter Property="FontFamily" Value="Segoe UI Symbol"/>
    <Setter Property="FontWeight" Value="Normal"/>
    <Setter Property="FontSize" Value="24"/>
    <Setter Property="AutomationProperties.AutomationId" Value="DeleteButton"/>
    <Setter Property="AutomationProperties.Name" Value="Delete"/>
    <Setter Property="AutomationProperties.ItemType" Value="Delete Button"/>
    <Setter Property="Template">
        <Setter.Value>
            <ControlTemplate TargetType="Button">
                <Grid x:Name="RootGrid" Width="80">
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition/>
                        </Grid.ColumnDefinitions>
                        <Grid.RowDefinitions>
                            <RowDefinition/>
                            <RowDefinition/>
                        </Grid.RowDefinitions>
                        <TextBlock Text="&#xE0DD;" FontSize="32" Margin="15, 0,0,0"></TextBlock>
                        <TextBlock x:Name="BackgroundGlyph" FontSize="32" Margin="15,0,0,0" Text="&#xE0DE;" Foreground="{StaticResource BackButtonBackgroundThemeBrush}"/>
                        <TextBlock Grid.Column="0" Grid.Row="0" Margin="25, 9,0,0"  x:Name="NormalGlyph" Text="{StaticResource DeleteButtonGlyph}" Foreground="{StaticResource BackButtonForegroundThemeBrush}"/>
                        <TextBlock Grid.Column="0" Grid.Row="0" Margin="25, 9,0,0" x:Name="ArrowGlyph" Text="{StaticResource DeleteButtonGlyph}" Foreground="{StaticResource BackButtonPressedForegroundThemeBrush}" Opacity="0"/>
                        <TextBlock Margin="0,10,0,5" Grid.Row="1" FontSize="12" Text="Delete Word" VerticalAlignment="Center" HorizontalAlignment="Center"></TextBlock>
                    </Grid>

                    <VisualStateManager.VisualStateGroups>
                        <VisualStateGroup x:Name="CommonStates">
                            <VisualState x:Name="Normal" />
                            <VisualState x:Name="PointerOver">
                                <Storyboard>
                                    <ObjectAnimationUsingKeyFrames Storyboard.TargetName="BackgroundGlyph" Storyboard.TargetProperty="Foreground">
                                        <DiscreteObjectKeyFrame KeyTime="0" Value="{StaticResource BackButtonPointerOverBackgroundThemeBrush}"/>
                                    </ObjectAnimationUsingKeyFrames>
                                    <ObjectAnimationUsingKeyFrames Storyboard.TargetName="NormalGlyph" Storyboard.TargetProperty="Foreground">
                                        <DiscreteObjectKeyFrame KeyTime="0" Value="{StaticResource BackButtonPointerOverForegroundThemeBrush}"/>
                                    </ObjectAnimationUsingKeyFrames>
                                </Storyboard>
                            </VisualState>
                            <VisualState x:Name="Pressed">
                                <Storyboard>
                                    <ObjectAnimationUsingKeyFrames Storyboard.TargetName="BackgroundGlyph" Storyboard.TargetProperty="Foreground">
                                        <DiscreteObjectKeyFrame KeyTime="0" Value="{StaticResource BackButtonForegroundThemeBrush}"/>
                                    </ObjectAnimationUsingKeyFrames>
                                    <DoubleAnimation
                                        Storyboard.TargetName="ArrowGlyph"
                                        Storyboard.TargetProperty="Opacity"
                                        To="1"
                                        Duration="0"/>
                                    <DoubleAnimation
                                        Storyboard.TargetName="NormalGlyph"
                                        Storyboard.TargetProperty="Opacity"
                                        To="0"
                                        Duration="0"/>
                                </Storyboard>
                            </VisualState>
                            <VisualState x:Name="Disabled">
                                <Storyboard>
                                    <ObjectAnimationUsingKeyFrames Storyboard.TargetName="RootGrid" Storyboard.TargetProperty="Visibility">
                                        <DiscreteObjectKeyFrame KeyTime="0" Value="Collapsed"/>
                                    </ObjectAnimationUsingKeyFrames>
                                </Storyboard>
                            </VisualState>
                        </VisualStateGroup>
                        <VisualStateGroup x:Name="FocusStates">
                            <VisualState x:Name="Focused">
                                <Storyboard>
                                    <DoubleAnimation
                                        Storyboard.TargetName="FocusVisualWhite"
                                        Storyboard.TargetProperty="Opacity"
                                        To="1"
                                        Duration="0"/>
                                    <DoubleAnimation
                                        Storyboard.TargetName="FocusVisualBlack"
                                        Storyboard.TargetProperty="Opacity"
                                        To="1"
                                        Duration="0"/>
                                </Storyboard>
                            </VisualState>
                            <VisualState x:Name="Unfocused" />
                            <VisualState x:Name="PointerFocused" />
                        </VisualStateGroup>
                    </VisualStateManager.VisualStateGroups>
                </Grid>
            </ControlTemplate>
        </Setter.Value>
    </Setter>
</Style> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-08-14T12:28:47.597

关于获取有效代码列表，如果您有 Windows 8 设备可以运行它，我强烈推荐[此应用程序。](http://apps.microsoft.com/windows/en-us/app/windows-8-dev-icons/883517c5-13c1-4843-b288-ed0d4bd8b20e)它提供了大量现有 Windows 8 Dev 图标及其匹配代码的列表。它还让您更好地了解它们在 Metro 环境中的显示方式，并且该应用程序还提供了 XAML 示例，用于在各种结构中呈现图标，包括按钮、文本框或 AppBar。

正如您在上面的链接中看到的那样，您已经将 Metro Icons 作为字体，但我建议使用我提供的应用程序作为参考，以便轻松找到每个图标的代码。

# javascript - ajax请求依赖前一个

> ID：13619047
> 
> 赞同：0
> 
> 时间：2012-11-29T04:51:57.830
> 
> 标签：javascript, jquery, ajax, promise

我想做这样的事情：

```
$.ajax({
  url: SOMEWHERE,
  ...
  success: function(data){
    // do sth...
    var new_url = data.url;

    $.ajax({
      url: new_url,
      success: function(data){
        var another_url = data.url;

        // ajax call rely on the result of previous one
        $.ajax({
           // do sth
        })
      }
    })
  },
  fail: function(){
    // do sth...

    // ajax call too
    $.ajax({
      // config
    })
  }
}) 
```

代码对我来说看起来很糟糕。

我想知道如何让它看起来很漂亮。一些最佳实践？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-29T04:59:09.067

我会考虑分解它，也许是这样的。

```
function initialSuccessHandler(data) {
    $.ajax({url:data.url, success:secondarySuccessHandler});
}

function secondarySuccessHandler(data) {
    //do stuff
}

function initialFailHandler() {
    $.ajax({...});
}

$.ajax({url:"whatever.com", success:initialSuccessHandler, fail: initialFailHandler}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-29T05:01:08.260

除了成功函数相似（例如，只需要与新的 AJAX 调用不同的 URL）之外，您可能无法做很多事情，您也许可以定义一个通用函数来递归调用，如下所示：

```
function do_something(data) {
    // some logic
    $.ajax({
        url: data.url,
        success: do_something(data);
        fail: function (){
            // handle failure
        }
    });
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-29T05:05:00.497

使用 $.post 而不是 $.ajax 更容易和干净

```
$.post('yourAjaxUrl.com/index.html',(newVal:'val'), function(data) {
     $.post('yourSecondAjaxUrl.com/index.html',{newVal1:data}, function(data) {
              //do something 
     });
}); 
```

或者，如果您想使用 GET 请求，请像这样使用。

```
$.get('yourAjaxUrl.com/index.html',(newVal:'val'), function(data) {
     $.get('yourSecondAjaxUrl.com/index.html',{newVal1:data}, function(data) {
              //do something 
     });
}); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-29T05:07:22.937

其他答案也很好，因为在很多情况下使用函数肯定会对您的代码有所帮助。您的功能的问题是它一次完成了很多事情。降低功能的复杂性将有助于很多（在不同的功能中分离不同的动作）。

这里有一些很好的 Bocoup 培训视频，可以帮助您降低功能复杂性：[http ://training.bocoup.com/screencasts/](http://training.bocoup.com/screencasts/)

虽然，回调地狱的基本答案：
您可以使用[jquery Defered](http://api.jquery.com/category/deferred-object/)在某些情况下通过防止“厄运的缩进金字塔”做得很好。（但不会降低功能的复杂性）

```
$.ajax({
  url: SOMEWHERE
})
.pipe(function() {

  // First success callback
  return $.ajax({
    url: new_url
  });

}, function() {

  // First error callback
  $.ajax({
    // config
  });

  // we ain't returning anything so this end here.

})
.done(function( data ) {

  // Second success callback
  var another_url = data.url;

  // ajax call rely on the result of previous one
  $.ajax({
    // do sth
  })

}); 
```

Deferred 可以适应更多的上下文，了解它们真的很有用。这只是他们背后的基本思想。

希望这有帮助！

# performance - 典型的二维阵列寻路的最快方法是什么？

> ID：13619049
> 
> 赞同：2
> 
> 时间：2012-11-29T04:52:17.700
> 
> 标签：performance, algorithm, python-3.x

一个预期的结果是这样的。

```
0 0 0 1 0 * * * 0 0 0 0
0 0 0 0 1 * 1 * * 0 0 0
0 0 1 1 1 * 1 0 * 0 0 0
0 * * 0 1 * 1 0 * 0 0 0
0 * 1 1 1 * 1 0 * * 0 0
0 * 0 1 1 * 1 0 0 * 0 0
0 * 0 0 1 * 1 0 0 * 0 0
0 * * * * * 1 0 0 * * 0
0 0 0 0 0 0 1 0 0 0 * 0
0 0 0 0 0 0 1 0 0 0 * 0
0 0 0 0 0 0 1 0 0 0 * 0
0 0 0 0 0 0 1 0 0 0 * * 
```

您只能在 4 个方向上行走，没有 45 度方向，我使用 A*，我更改了部分原始算法以更适合我的情况。

这是我的python代码：

我运行它 1000 次。

成本为1.4s~1.5s

```
def astar(m,startp,endp):
    w,h = 12,12
    sx,sy = startp
    ex,ey = endp
    #[parent node, x, y,g,f]
    node = [None,sx,sy,0,abs(ex-sx)+abs(ey-sy)] 
    closeList = [node]
    createdList = {}
    createdList[sy*w+sx] = node
    k=0
    while(closeList):
        node = closeList.pop(0)
        x = node[1]
        y = node[2]
        l = node[3]+1
        k+=1
        #find neighbours 
        #make the path not too strange
        if k&1:
            neighbours = ((x,y+1),(x,y-1),(x+1,y),(x-1,y))
        else:
            neighbours = ((x+1,y),(x-1,y),(x,y+1),(x,y-1))
        for nx,ny in neighbours:
            if nx==ex and ny==ey:
                path = [(ex,ey)]
                while node:
                    path.append((node[1],node[2]))
                    node = node[0]
                return list(reversed(path))            
            if 0<=nx<w and 0<=ny<h and m[ny][nx]==0:
                if ny*w+nx not in createdList:
                    nn = (node,nx,ny,l,l+abs(nx-ex)+abs(ny-ey))
                    createdList[ny*w+nx] = nn
                    #adding to closelist ,using binary heap
                    nni = len(closeList)
                    closeList.append(nn)
                    while nni:
                        i = (nni-1)>>1
                        if closeList[i][4]>nn[4]:
                            closeList[i],closeList[nni] = nn,closeList[i]
                            nni = i
                        else:
                            break

    return 'not found'

m = ((0,0,0,1,0,0,0,0,0,0,0,0),
     (0,0,0,0,1,0,1,0,0,0,0,0),
     (0,0,1,1,1,0,1,0,0,0,0,0),
     (0,0,0,0,1,0,1,0,0,0,0,0),
     (0,0,1,1,1,0,1,0,0,0,0,0),
     (0,0,0,1,1,0,1,0,0,0,0,0),
     (0,0,0,0,1,0,1,0,0,0,0,0),
     (0,0,0,0,0,0,1,0,0,0,0,0),
     (0,0,0,0,0,0,1,0,0,0,0,0),
     (0,0,0,0,0,0,1,0,0,0,0,0),
     (0,0,0,0,0,0,1,0,0,0,0,0),
     (0,0,0,0,0,0,1,0,0,0,0,0)
     )

t1 = time.time()
for i in range(1000):
    result = astar(m,(2,3),(11,11))
print(time.time()-t1) 
cm = [list(x[:]) for x in m]

if isinstance(result, list):
    for y in range(len(m)):
        my = m[y]
        for x in range(len(my)):
            for px,py in result:
                if px==x and py ==y:
                    cm[y][x] = '*'

for my in cm:
    print(' '.join([str(x) for x in my]))

exit(0) 
```

告诉我你现在是否知道更快或最快的方法。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-29T05:53:39.243

对于已知图，A* 算法非常快（所有边都是已知的，您可以使用一些可接受的启发式方法估计到目标的距离）。

*A* 算法有一些改进，它以不太理想*为代价使其更快。最常见的是[A*-Epsilon (AKA bounded A*)](http://en.wikipedia.org/wiki/A*_search_algorithm#Bounded_relaxation)。这个想法是允许算法开发节点`(1+epsilon)*MIN`（其中常规 A* 仅开发 MIN）。结果（当然取决于 epsilon 值）通常是更快的解决方案，但找到的路径最多为`(1+epsilon) * OPTIMAL`.

* * *

另一种可能的优化是从一端执行 A* - 从另一端（“出口”）同时执行 BFS。这种技术称为**[双向搜索](http://en.wikipedia.org/wiki/Bidirectional_search)**- 当问题具有单个最终状态时，通常是提高未加权图性能的好方法。[我试图在这个线程](https://stackoverflow.com/q/7220232/572670)中解释一次双向搜索的原理

# javascript - FullCalendar 重新渲染事件

> ID：13619053
> 
> 赞同：0
> 
> 时间：2012-11-29T04:52:31.553
> 
> 标签：javascript, jquery, jquery-mobile, fullcalendar

我正在使用与 jQuery Mobile 集成的 Fullcalendar。当我尝试在事件期间使用以下方法动态[添加新事件](http://arshaw.com/fullcalendar/docs/event_rendering/renderEvent/)`pageshow`时，它会导致 JavaScript 异常，如下所示

```
Uncaught TypeError: Cannot call method 'empty' of undefined 
```

我的 JavaScript 代码

```
 $('#myCalendar').live('pageshow',function(event){
            Newevents = [
                    {
                        title  : 'event1',
                        start  : '2012-11-24 01:00',
                        color:'red'

                    },
                    {
                        title  : 'event2',
                        start  : '2012-11-25',
                        end    : '2012-11-27'
                    },
                    {
                        title  : 'event3',
                        start  : '2012-11-28 12:30:00',
                        allDay : false // will make the time show
                    },
                    {
                        title  : 'event4',
                        start  : '2012-11-29 01:30:00',
                        allDay : false // will make the time show
                    }
                ];
        $('#calendar').fullCalendar('renderEvent',Newevents);
        $('#calendar').fullCalendar('rerenderEvents'); 

    });

$('#myCalendar').live('pagecreate',function(event){

    $('#calendar').fullCalendar({
            // put your options and callbacks here
            header: {
                    left:   '',
                    center: '',
                    right:  ''
                    },
            firstDay :1,
            viewDisplay: function(view) {
                $('#calendarLabel').html(view.title);
            },
             events:[
                {
                    title  : 'event1',
                    start  : '2012-11-21 01:00',
                    end:'2012-11-24 02:00',
                    color:'red'

                },
                {
                    title  : 'event2',
                    start  : '2012-11-05',
                    end    : '2012-11-07'
                },
                {
                    title  : 'event3',
                    start  : '2012-11-09 12:30:00',
                    allDay : false // will make the time show
                },
                {
                    title  : 'event4',
                    start  : '2012-11-09 01:30:00',
                    allDay : false // will make the time show
                }
            ],
            eventClick: function(calEvent, jsEvent, view) {
                alert('Event: ' + calEvent.title);
            },
            dayClick: myDayClick,
            height: 999999999
           });

}); 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-11-30T14:32:26.370

而不是

```
.fullcalendar( 'renderEvent', []); 
```

和

```
.fullCalendar( 'rerenderEvents'); 
```

你有没有尝试过 ... ？

```
.fullCalendar( 'addEventSource', NewEvents ); 
```

# c# - 网格视图的数据绑定

> ID：13619056
> 
> 赞同：0
> 
> 时间：2012-11-29T04:52:35.493
> 
> 标签：c#, asp.net, data-binding, gridview

我正在尝试使用以下代码将我的 sql 表与网格视图绑定：

```
 string connectionString = WebConfigurationManager.ConnectionStrings["Gen_Lic"].ConnectionString; //<-- error
 string selectSQL = "SELECT * FROM Gen_Lic";
 SqlConnection con = new SqlConnection(connectionString);
 SqlCommand cmd = new SqlCommand(selectSQL, con);
 SqlDataAdapter adapter = new SqlDataAdapter(cmd);
 DataSet ds = new DataSet();

 adapter.Fill(ds, "Gen_Lic");

 Gen_Lic_Grid.DataSource = ds;
 Gen_Lic_Grid.DataBind(); 
```

但我不知道我哪里出了问题，但我收到了一个错误：

`Object reference not set to an instance of an object.`

有什么建议么？

这是我的 web.config 文件：

```
<connectionStrings>
<add name="Gen_LicConnectionString" connectionString="Data Source=ESHA\SQLEXPRESS;Initial Catalog=Gen_Lic;User ID=sa;Password=sa@" providerName="System.Data.SqlClient" />
</connectionStrings> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-29T05:06:00.723

使用此链接在 Web 配置中添加连接字符串。

[http://www.aspdotnet-suresh.com/2011/11/write-connection-strings-in-webconfig.html](http://www.aspdotnet-suresh.com/2011/11/write-connection-strings-in-webconfig.html)

您在通话和 webconfig 中使用了不同的名称。

```
string connectionString = ConfigurationManager.ConnectionStrings["Gen_LicConnectionString"].ConnectionString; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-29T06:59:25.783

您没有打开 SqlConnection。您必须在创建命令变量之前打开连接。

```
string connectionString = WebConfigurationManager.ConnectionStrings["Gen_Lic"].ConnectionString; //<-- error
 string selectSQL = "SELECT * FROM Gen_Lic";
 SqlConnection con = new SqlConnection(connectionString);
 con.Open();// Need to Open Connection before to Create SQL Comamnd
 SqlCommand cmd = new SqlCommand(selectSQL, con);
 SqlDataAdapter adapter = new SqlDataAdapter(cmd);
 DataSet ds = new DataSet();

 adapter.Fill(ds, "Gen_Lic");

 Gen_Lic_Grid.DataSource = ds;
 Gen_Lic_Grid.DataBind(); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2017-07-31T01:59:58.457

始终检查您的连接字符串并将连接设置为打开。为了安全起见，请始终将连接设置为关闭。

```
if(connection.State == ConnectionState.Open)
   connection.Close();

connection.Open(); 
```

# php - 如何在 zend 框架 2 中执行 sql 查询？

> ID：13619064
> 
> 赞同：4
> 
> 时间：2012-11-29T04:53:06.077
> 
> 标签：php, sql, zend-framework2

我想在 zf2 中执行类似以下查询的查询。

> 显示来自 Mytable 的列，例如“Mycolumn”

这样做的正确方法是什么？

顺便说一句，我正在使用`AbstractTableGateway`类。

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2012-11-29T12:24:17.217

我这样做：

1.  [创建适配器](http://packages.zendframework.com/docs/latest/manual/en/modules/zend.db.adapter.html)
2.  将其传递给所选类并运行如下内容：

    ```
    $sql = "SHOW COLUMNS FROM Mytable LIKE 'Mycolumn'"; 

    $statement = $this->adapter->query($sql); 
    return $statement->execute(); 
    ```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-12T12:16:51.500

我知道在一个非常古老的线程上回复，但也许有人在用 LIKE 寻找 SELECT

```
 $this->table = $data['table'];
    $select = new Select();
    $spec = function (Where $where) {
        $where->like('company', '%1%');
    };
    $select->from($this->table);
    $select->where($spec);
    $resultSet = $this->selectWith($select);
    $resultSet->buffer();
    return $resultSet; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-29T05:24:21.173

这是从谷歌找到的一些东西，希望这对你有帮助...

```
use Zend\Db\Sql\Sql;
$sql = new Sql($adapter);
$select = $sql->select(); // @return Zend\Db\Sql\Select
$insert = $sql->insert(); // @return Zend\Db\Sql\Insert
$update = $sql->update(); // @return Zend\Db\Sql\Update
$delete = $sql->delete(); // @return Zend\Db\Sql\Delete 
```

欲了解更多信息，请访问：[点击](http://framework.zend.com/manual/2.0/en/modules/zend.db.sql.html)

# javascript - 对于数字时钟，每小时 (r)、分钟 (g)、秒 (b) 增加 RGB 分量

> ID：13619070
> 
> 赞同：2
> 
> 时间：2012-11-29T04:53:38.573
> 
> 标签：javascript, clock

因此，我正在学习我的第一个 javascript 课程（总菜鸟），其中一项任务是通过将红色分配给小时、绿色分钟、蓝色分配给秒来修改数字时钟，然后在它改变时增加相应的颜色分量。我已经成功地为每个元素（小时、分钟、秒）分配了一个十进制颜色值（例如“#850000”），但是我的大脑在试图弄清楚如何在小时、分钟、秒变化时增加亮度，即红色从下午 1:00:00 到下午 2:00:00 上升到“#870000”。我到处搜索，但对如何成功做到这一点没有帮助。这是我到目前为止所拥有的以及对此的任何帮助将不胜感激。

TJ

```
<script type="text/javascript">
<!--
    function updateClock()
    {

      var currentTime = new Date();
      var currentHours = currentTime.getHours();
      var currentMinutes = currentTime.getMinutes();
      var currentSeconds = currentTime.getSeconds();

      // Pad the minutes with leading zeros, if required 
      currentMinutes = ( currentMinutes < 10 ? "0" : "" ) + currentMinutes;

      // Pad the seconds with leading zeros, if required 
      currentSeconds = ( currentSeconds < 10 ? "0" : "" ) + currentSeconds;

      // Choose either "AM" or "PM" as appropriate
      var timeOfDay = ( currentHours < 12 ) ? "AM" : "PM";

      // Convert the hours component to 12-hour format
      currentHours = ( currentHours > 12 ) ? currentHours - 12 : currentHours;

      // Convert an hours component if "0" to "12"
      currentHours = ( currentHours == 0 ) ? 12 : currentHours;

        // Get hold of the html elements by their ids
        var hoursElement = document.getElementById("hours");
        document.getElementById("hours").style.color = "#850000";
        var minutesElement = document.getElementById("minutes");
        document.getElementById("minutes").style.color = "#008500";
        var secondsElement = document.getElementById("seconds");
        document.getElementById("seconds").style.color = "#000085";
        var am_pmElement = document.getElementById("am_pm");

        // Put the clock sections text into the elements' innerHTML
        hoursElement.innerHTML = currentHours;
        minutesElement.innerHTML = currentMinutes;
        secondsElement.innerHTML = currentSeconds;
        am_pmElement.innerHTML = timeOfDay;
    }               
// -->
</script>

</head>
<body onload="updateClock(); setInterval( 'updateClock()', 1000 )">
    <h1 align="center">The JavaScript digital clock</h1>
    <h2 align="center">Thomas Fertterer - Lab 2</h2>
    <div id='clock' style="text-align: center">
        <span id="hours"></span>:
        <span id='minutes'></span>:
        <span id='seconds'></span>
        <span id='am_pm'></span>
    </div>
</body>
</html> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-29T05:01:51.567

只需使用`rgb`颜色。它们更容易使用，因为您可以用整数表示颜色通道的值：

```
document.getElementById("hours").style.color = 'rgb(100, 200, 300)'; 
```

这是为您提供的辅助功能。它接受数字 rgb 值并返回一个字符串：

```
function rgb(r, g, b) {
    return 'rgb(' + r + ', ' + g + ', ' + b + ')';
} 
```

例子：

```
> rgb(1, 2, 3)
"rgb(1, 2, 3)" 
```

另外，我建议不要使用字符串参数`setInterval`：

```
setInterval( 'updateClock()', 1000 ) 
```

只需使用对函数的引用：

```
setInterval(updateClock, 1000) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-29T05:03:00.787

在我工作的一个类似项目中，我使用`Math.sin`函数让红色、蓝色和绿色分量根据当前时间波动。根据您想要更改颜色的确切程度，您可以修改以下示例代码：

```
setInterval(function () {
   var currentTime = new Date()
 var red = Math.floor( (Math.sin(+currentTime/100000)+1) * 255/2);
   var blue = Math.floor( (Math.sin(2 * (+currentTime/100000 + 50))+1) * 255/2);
   var green = Math.floor( (Math.sin(3 * (+currentTime/100000 + 170))+1) * 255/2);

   var color = "rgba(" + red + "," + green + "," + blue + ",255)";
   document.getElementById('clock').style.color = color;
}, 100); 
```

一个完整的例子可以在[这里](http://collegesnippets.blogspot.com/2011/09/time-color.html)看到。

在您的情况下，我将修改代码以使红色、蓝色和绿色组件仅取决于`Date();`.

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-29T05:26:34.827

在将颜色分配给小时部分的位置进行以下更改：

```
document.getElementById("hours").style.color = "rgb(" + (135 + (5 * currentHours)) + ",0,0)"; 
```

# java - 处理多部分/表单数据

> ID：13619071
> 
> 赞同：0
> 
> 时间：2012-11-29T04:53:39.420
> 
> 标签：java, ajax, jsp, file-upload

我正在使用`XMLHttpRequest()`我的 jsp 中进行文件上传，当我在控制器中执行 request.getContentType() 时，我得到：

```
multipart/form-data; boundary=---------------------------4664151417711. 
```

此外，我不知道如何获取文件并在我的控制器中获取它的内容。请任何人帮助。

更新——我在我的 jsp 中这样做。

```
 function fileUpload() {
var url= document.getElementById("urlId").value;
 var file= document.getElementById("xslId").files[0];
 var formdata = new FormData();
 formdata.append("url", url);
 formdata.append("file", file);
 var xhr = new XMLHttpRequest();       
 xhr.open("POST","http://localhost:8080/XlsUpload/openSource.htm", true);
 xhr.send(formdata);
 xhr.onload = function(e) {
    };                    
   } 
```

在我的控制器中——

```
 public void openSource(@ModelAttribute("domTool") DomTool   domTool,HttpServletRequest     request,HttpServletResponse response){
     String type=request.getContentType(); 
```

此外，我对如何在我的控制器中获取上传文件的内容和文本字段的值（即 URL）感到震惊。我得到的类型为 multipart/form-data

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-29T07:50:55.223

有一个称为`commons-fileupload`解析多部分内容的 Apache 公共解决方案。你可以在[这里](http://commons.apache.org/fileupload/)找到它。

[从他们的教程](http://commons.apache.org/fileupload/using.html)中复制的最简单的示例如下所示：

```
@Override
public void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
    FileItemFactory factory = new DiskFileItemFactory();
    ServletFileUpload upload = new ServletFileUpload(factory);
    List items = upload.parseRequest(request);

    // iterate over items (i.e. list of FileItem) and access 
    // the content with getInputStream()
} 
```

# php - PHP中令人分心的事情

> ID：13619072
> 
> 赞同：-5
> 
> 时间：2012-11-29T04:53:40.670
> 
> 标签：php, html-entities

我在 PHP 中被这件事分心了。我有一个搜索引擎，人们有时会搜索很多东西，这个值会出现“/”，例如“她不介意”。由于我也在使用 mod_rewrite，所以看起来像这样“她不介意”，所以 Apache 将它作为一个目录：s 并且事情不起作用。

请帮帮我。

使用哪个功能以及在哪里避免这种情况？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-29T04:55:57.427

在 PHP 中的搜索周围使用函数[stripslashes 。](http://us3.php.net/manual/en/function.stripslashes.php)

例如

```
$search = stripslashes( $_POST['search'] ); 
```

# java - 使用来自 servlet 的重定向

> ID：13619073
> 
> 赞同：1
> 
> 时间：2012-11-29T04:53:48.963
> 
> 标签：java, servlets

我正在使用 servlet 为我的 Web 应用程序引入登录页面。但是一旦我登录并单击“提交”按钮，我应该被重定向到另一个页面。我该怎么做呢？我目前正在尝试使用

```
RequestDispatcher rd = null;
rd = getServletContext().getRequestDispatcher("/NextServlet");
rd.forward(request, response); 
```

也尝试使用

```
response.sendRedirect("http://localhost:8080/myProject/NextServlet"); 
```

但是单击提交时没有任何反应，我不想包含带有href和使用的链接。我该怎么办？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-29T05:14:52.590

试试这个

```
response.sendRedirect("NextServlet"); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-29T05:10:38.040

我认为您需要将`contextPath`重定向 URL 添加为：

```
 String destinationURL = request.getContextPath()+"/NextServlet";
  RequestDispatcher rd = getServletContext().getRequestDispatcher(destinationURL);
  rd.forward(request, response); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-29T07:23:50.283

您是否在 html 中设置了表单的“操作”？

```
<form action="your_jsp_script.jsp" method="post"> 
```

# javascript - 点击链接 javascript 播放 iframe 视频

> ID：13619074
> 
> 赞同：12
> 
> 时间：2012-11-29T04:53:59.000
> 
> 标签：javascript, jquery, iframe, youtube-api

我`iframe video`在我的网页中使用了一个。这是我的html代码

```
<iframe id="video1" width="520" height="360" src="http://www.youtube.com/embed/TJ2X4dFhAC0?enablejsapi" frameborder="0" allowtransparency="true" allowfullscreen></iframe>
<a href="#" id="playvideo">Play video</a> 
```

我需要`play`视频`onclick`播放视频链接。我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：29
> 
> 时间：2012-11-29T05:08:09.660

这有效，它附加`autoplay=1`到导致视频开始播放的 url。

*附录*：如果您的视频源还没有查询字符串，那么添加 a`?`而不是 a是谨慎的`&`做法，有时会出现这种情况。这可以通过寻找它的存在来完成。

```
<iframe id="video1" width="520" height="360" src="http://www.youtube.com/embed/TJ2X4dFhAC0?enablejsapi" frameborder="0" allowtransparency="true" allowfullscreen></iframe>
<a href="#" id="playvideo">Play video</a>
<script>
 //use .one to ensure this only happens once
 $("#playvideo").one(function(){
  //as noted in addendum, check for querystring exitence
  var symbol = $("#video1")[0].src.indexOf("?") > -1 ? "&" : "?";
  //modify source to autoplay and start video
  $("#video1")[0].src += symbol + "autoplay=1";
 });
</script> 
```

但是，大多数人天生就明白，如果他们想要播放视频，他们只需点击它，我建议将其留给他们或通过自动播放开始视频。

还需要提到自动播放在移动设备上不起作用（由 Android 或 iOS 提供支持）

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2017-05-19T11:00:32.787

我正确设置了 end src - ?autoplay=1

```
 <iframe id="video1" width="450" height="280" src="http://www.youtube.com/embed/TJ2X4dFhAC0?enablejsapi" frameborder="0" allowtransparency="true" allowfullscreen></iframe>
    <a href="#" id="playvideo">Play button</a>
    <script>
     $("#playvideo").click(function(){
      $("#video1")[0].src += "?autoplay=1";
     });
    </script> 
```

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2018-03-31T05:26:30.253

这是另一个例子。在这里检查：[https ://codepen.io/rearmustak/pen/VXXOBr](https://codepen.io/rearmustak/pen/VXXOBr)

```
const Player = document.getElementById('player2');
const PlayBtn = document.getElementById('play');
const stopBtn = document.getElementById('stop');
let times = 0, playY;
const playVideo = PlayBtn.addEventListener( 'click' , () => {
    if(times == 0){
      playY = Player.src += '?autoplay=1';
      times = 1;
    }
});

stopBtn.addEventListener( 'click' , () => {
    playY = playY.slice(0, -11);
    Player.src = playY
    times = 0;
});
```

```
.video-frame{
  overflow: hidden;
  margin-bottom: 10px;
}
button{
  border: none;
  background-color: #e75252;
  color: #ffffff;
  padding: 10px 15px;
  border-radius: 3px;
  cursor: pointer;
}
button:focus{
  outline: 0;
}
#stop{
  background-color: #ff0002;
}
```

```
<h1>Youtube video Play/Stop</h1>

<div class="video-frame">
  <iframe id="player2" width="560" height="315" src="https://www.youtube.com/embed/cs1e0fRyI18" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe>
</div>

<button id="play">Play</button>
<button id="stop">Stop</button>
```

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2015-11-25T08:42:52.333

由于第一个答案已经有 3 年的历史了，让我指出 Youtube Player API。有了它，您可以远程控制您的嵌入式播放器。请参阅[https://developers.google.com/youtube/iframe_api_reference?hl=en](https://developers.google.com/youtube/iframe_api_reference?hl=en)

稍作调整，您就可以通过链接启动视频，而无需重新加载整个 iframe：

```
<!DOCTYPE html>
<html>
  <body>
    <!-- 1\. The <iframe> (and video player) will replace this <div> tag. -->
    <div id="player"></div>

    <!-- The Play-Link will appear in that div after the video was loaded -->
    <div id="play"></div>

    <script>
      // 2\. This code loads the IFrame Player API code asynchronously.
      var tag = document.createElement('script');

      tag.src = "https://www.youtube.com/iframe_api";
      var firstScriptTag = document.getElementsByTagName('script')[0];
      firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);

      // 3\. This function creates an <iframe> (and YouTube player)
      //    after the API code downloads.
      var player;
      function onYouTubeIframeAPIReady() {
        player = new YT.Player('player', {
          height: '390',
          width: '640',
          videoId: 'M7lc1UVf-VE',
          events: {
            'onReady': onPlayerReady,
            'onStateChange': onPlayerStateChange
          }
        });
      }

      // 4\. The API will call this function when the video player is ready.
      function onPlayerReady(event) {
        //event.target.playVideo();
        document.getElementById('play').innerHTML = '<a href="#" onclick="play();">Play Video</a>';
      }

      function play(){
        player.playVideo();
      }

      // 5\. The API calls this function when the player's state changes.
      //    The function indicates that when playing a video (state=1),
      //    the player should play for six seconds and then stop.
      var done = false;
      function onPlayerStateChange(event) {
        if (event.data == YT.PlayerState.PLAYING && !done) {
          setTimeout(stopVideo, 6000);
          done = true;
        }
      }
      function stopVideo() {
        player.stopVideo();
      }
    </script>
  </body>
</html> 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-11-29T05:21:14.250

这是指向示例[http://jsfiddle.net/WYwv2/5/的链接](http://jsfiddle.net/WYwv2/5/)

看看这个

```
<!DOCTYPE html> 
<html> 
<body> 
<a href="#" id="playvideo" onclick="playme()">Play video</a>
    <iframe id="video1" width="520" height="360"  frameborder="0" ></iframe>
<script>
function playme() {
document.getElementById("video1").src = 'http://www.w3schools.com/tags/mov_bbb.mp4';
}
</script>
</body> 
</html>
​ 
```

我们动态设置视频来源。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2020-12-17T06:12:08.540

这对我有用。请看看这个。

```
$("#player").on("pause", function(e) {
          clearTimeout(playTimeout);
      });
      var tag = document.createElement('script');
      tag.src = "https://www.youtube.com/iframe_api";
      var firstScriptTag = document.getElementsByTagName('script')[0];
      firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);

      var player;
        function onYouTubeIframeAPIReady() {
          player = new YT.Player('player', {
            height: '390',
            width: '640',
            videoId: 'M7lc1UVf-VE',
            events: {
              'onReady': onPlayerReady,
              'onStateChange': onPlayerStateChange
            }
          });
        }
      function onPlayerReady(event) {
        event.target.playVideo();
          }
       var done = false;
        function onPlayerStateChange(event) {
          if (event.data == YT.PlayerState.PLAYING && !done) {
            setTimeout(stopVideo, 2000);//replace time here 
            $("#player").get(0).load();
            $("#player").get(0).pause();
            done = true;
          }
        }
        function stopVideo() {
          player.stopVideo();
        } 
```

# c - 为什么函数不能访问泛型参数

> ID：13619076
> 
> 赞同：0
> 
> 时间：2012-11-29T04:54:04.890
> 
> 标签：c, generics

我正在慢慢学习如何用 C 语言编写泛型函数，现在经常遇到麻烦。我正在制作一个合并两个数组的程序，在这个实现中是两个 int 数组。第一个问题，也导致第二个问题，是 compareints（函数）不访问传递的参数之一（void *）：我不知道为什么？我盯着屏幕看了很久...

```
#include <stdio.h>
#include <string.h>
#include <stdlib.h>

//makes union of two generic arrays and eliminates duplicates if there are some...
void **
unite(int (*comp)(void *f, void *s), void **first, void **second, int f_size, int s_size,     int bytes, int *x)
{
     int i;
     void **arr=malloc(bytes*(f_size+s_size));
     for(i=0; i<f_size+s_size; i++)
     {
         /* first bigger */
         if(((*comp)(*first, *second))>0)
         {
            *(arr+i)=*(first++);
         }
         /* second bigger */
         else if(((*comp)(*first, *second))<0)
         {
            *(arr+i)=*((second++));
         }
         /* equal => just one copy */
         else
         {
            *(arr+i)=*(first++);
            second++;
         }
     }
     *x=i;
     return arr;
 }

 int
 compareints(void *first, void *second)
 {
     if(*((int *)first)>*((int *)second)) //can't access the memoryloc in second...
         return 1;
     else if(*((int *)first)<*((int *)second))
         return -1;
     else
         return 0;
 }

 int main(int argc, const char * argv[])
 {

     int arr[10]={1, 2, 4, 12, 22, 29, 33, 77, 98};
     int arr2[5]={3, 5, 7, 8, 9};
     void **first=malloc(sizeof(int *)*10);
     void **second=malloc(sizeof(int *)*5);
     //make pointers to static arrays in dynamic arrays
     int f_ind, s_ind;
     for(f_ind=0; f_ind<10; f_ind++)
         first[f_ind]=&arr[f_ind];
     for(s_ind=0; s_ind<5; s_ind++)
         second[s_ind]=&arr2[s_ind];
     int i;
     //make union of the two arrays and print out the result
     void **ret=unite(&compareints, first, second, 10, 5, sizeof(int), &i);
     for(int k=0; k<i; k++)
         printf("%d  ", *((int *)ret[k]));
     return 0;
 } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-29T05:01:48.680

```
Why can't function access generic parameter ? 
```

这个问题的简单答案是功能可以访问，但`void *`无法进一步操作。

使用指针算法（需要单个元素的大小）访问元素，因为指针`void *`指向您传递的地址，但不知道该数组或内存位置中每个字段的大小。因此访问或取消引用将引导您到`Undefined Behaviour`.

如果要在函数内访问该类型的每个元素，请将`size`单个元素的 传递给该函数，并在此基础上创建指向该相同类型的指针，然后使用该类型的新指针进行访问。

有关更多信息，请阅读[此](https://stackoverflow.com/questions/13469381/how-to-make-generic-function-using-void-in-c)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-29T05:58:30.257

感谢@WhozCraigs 关于索引超出范围的帖子，我尝试了一种方法。所以我做了一些小模组，现在程序可以按照它的意图去做。

```
void **
unite(int (*comp)(void *f, void *s), void **first, void **second, int f_size, int s_size, int bytes, int *x)
{
    int i;
    int f_ind=0, s_ind=0;
    void **arr=malloc(bytes*(f_size+s_size));
    for(i=0; i<f_size+s_size; i++)
    {
        /* first bigger */
        if(((*comp)(*first, *second))>0)
        {
            s_ind++;
            if(s_ind<s_size)
                *(arr+i)=*(second++);
            else
            {
                f_ind++;
                if(f_ind<f_size)
                    *(arr+i)=*(first++);
                else
                    break;
            }
        }
         /* second bigger */
        else if(((*comp)(*first, *second))<0)
        {
            f_ind++;
            if(f_ind<f_size)
                *(arr+i)=*(first++);
            else
            {
                s_ind++;
                if(s_ind<s_size)
                    *(arr+i)=*(second++);
                else
                    break;
            }
        }
        /* equal => just one copy */
        else
        {
            f_ind++;
            s_ind++;
            if(f_ind<f_size && s_ind==s_size)
            {
                *(arr+i)=*(first++);
            }
            else if(f_ind==f_size && s_ind<s_size)
            {
                *(arr+i)=*(second++);
            }
            else
            {
                *(arr+i)=*(first++);
                second++;
            }  
        }
    }
    *x=i;
    return arr;
} 
```

# ios - 缺少支持文件

> ID：13619080
> 
> 赞同：0
> 
> 时间：2012-11-29T04:54:47.923
> 
> 标签：ios, xcode

我有一个应用程序，我更新了一些视频资产。视频存储在支持文件夹中。我删除了旧的视频文件并用更新的视频替换它们。但是老视频还在播放？像这样的资产是否被复制到某种根文件夹？如果有，那在哪里？

# facebook - 帖子到我的博客 URL 将我的元标记作为 facebook 上的描述

> ID：13619085
> 
> 赞同：2
> 
> 时间：2012-11-29T04:55:09.753
> 
> 标签：facebook, meta-tags

我已经阅读了这个较早的问题： [META Description 和 Facebook](http://facebook.stackoverflow.com/questions/12179020/meta-description-and-facebook) 并应用了其中所述的指示，因为我们的问题是相似的。调试器返回的消息包含在此处附加的 png 文件中：我还不能上传图片，所以我提供了一个链接： [https ://docs.google.com/open?id=0B4Z774E5dZ-9RU1zX1A3RGdHRWc](https://docs.google.com/open?id=0B4Z774E5dZ-9RU1zX1A3RGdHRWc)

我该如何解决这个问题谢谢

# python - Virtualenv 和 python - 如何在终端外工作？

> ID：13619088
> 
> 赞同：3
> 
> 时间：2012-11-29T04:55:31.533
> 
> 标签：python, virtualenv

当我进入我的虚拟环境（源代码`django_venv/bin/activate`）时，如何使该环境转移到在终端之外运行的应用程序，例如 Eclipse 甚至 Idle？即使我从`virtualenv`终端窗口命令行运行 Idle（通过键入 idle），我的 pip 安装的框架在 Idle 中都不可用，例如`SQLAlchemy`（在虚拟环境中运行 python 脚本时发现它很好）。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-29T05:11:23.323

告诉 Eclipse 或 Idle，python 解释器是 django_venv/bin/python 而不是 /usr/bin/python

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-05-21T19:51:06.037

如果您希望您`virtualenv`的项目真正永久存在，您可以将以下两行直接填充到您的代码中：

```
activate_this = 'this_is_my_project/bin/activate_this.py'
execfile(activate_this, dict(__file__=activate_this)) 
```

# encryption - 从 Visual Studio 2012 到服务器的 FTP 到 Webhostingpad

> ID：13619103
> 
> 赞同：1
> 
> 时间：2012-11-29T04:57:10.233
> 
> 标签：encryption, ftp, visual-studio-2012

在 Visual Studio 中，我单击文件 > 打开网站... > FTP 站点

在输入所有凭据时，我确实注意到在表单的底部它说“密码以明文（未加密的文本）通过网络发送，使它们容易被拦截”

单击确定后，我会收到一个错误窗口，最终显示“抱歉，此服务器不接受明文会话 (421)”

有什么方法可以让 VS 启动加密会话？如果没有，我应该使用什么？如果我不需要的话，我真的不想在 Visual Studio 中保存然后通过另一个 FTP 客户端复制特定文件。

# php - PHP将文本文件中的解析值插入MySQL DB

> ID：13619104
> 
> 赞同：1
> 
> 时间：2012-11-29T04:57:11.700
> 
> 标签：php, mysql, file, text, import

我是 PHP 新手，正在尝试解析 txt 文件中的某些文本，然后将文本插入 MySQL 数据库。所以，让我们更具体一点。文件的格式就是这样，并且通过文档结尾重复。椭圆代表上一个音调和下一个音调。

```
...

[Tone27]                            
Atone = 707.3                        
Btone = 746.8                        
Btonelength = 3                        
Btonedebounce = 1                    
Description = Fire Department 1                
mp3_Emails = email@address.com,email2@address.com,email3@address.com          
amr_Emails = email2@textmessaging.com,email1@textmessaging.com        
alert_command = c:\test.bat                
post_email_command = c:\test2.bat            
radio_frequency = 154.475    
exclude_from = 13:25                        
exclude_to = 13:35                        
exclude_emails = email2@textmessaging.com,email2@address.com

... 
```

我想要做的是解析文件中每个“音块”中的第一项（例如'[tone27]'）并将其插入到数据库中新行的第一个字段中。然后，我需要评估每一行的“=”之前的内容，例如“Atone”，并将该行的“=”之后的内容，例如“707.3”插入到该名称的字段中。因此，该行在数据库中可能如下所示：

```
$id | [tone27] | 707.3 |746.8 | 3 | 1 | Fire Department 1 |email1@x.com,email2@x.com,e...|... 
```

等等...

我已经能够通过执行字符串函数来隔离每一件事，但我不确定如何设置一个可以正确插入每个值的循环。这是我用来隔离它们的代码，但它对实际将它们放入数据库没有任何帮助。

```
$txt_file    = file_get_contents('config/tones.txt');
$rows        = explode("\n", $txt_file);
foreach($rows as $row => $data)
{   
$row_data = explode(' = ', $data);

if ((isset($row_data[0])) && ($row_data[0] !== " " )){
    $info[$row]['attribute'] = $row_data[0];
    $info_attribute = trim($info[$row]['attribute']);
}
if (isset($row_data[1])){
    $info[$row]['value']         = $row_data[1];
    $info_value = trim($info[$row]['value']);
    //display data
    echo 'Row ' . $row . ' Attribute: ' . $info_attribute . '<br />';
    echo 'Row ' . $row . ' Value: ' . $info_value . '<br />';
} elseif (($info[$row]['attribute']) && (!empty($info_attribute))) {
    echo "<br>";
    echo 'Row ' . $row . ' Attribute: ' . $info_attribute . '<br />';
    continue;
} 
```

我是菜鸟，毫无疑问。我迷路了。在此先感谢您的帮助！！！

```
****|| EDIT ||**** 
```

感谢所有出色的答案！这就是我最终想出的。还没有查询，只是 CRUD 的读取部分的简单破折号，但代码将是相同的，只有查询。非常感谢@leepowers 向我介绍了精彩的 parse_ini_file() 函数。

```
foreach(parse_ini_file("config/tones.txt", true) as $k => $v){
extract($v, EXTR_SKIP);
echo "<br>";
echo $k . "<br>"; 
foreach($v as $sv => $ssv){ 

    $lcase_sv = strtolower($sv); 
    if (trim($lcase_sv) == 'amr_emails'){ 
        echo "sv: amr_Emails:<br>"; 
        echo "ssv:<br>";
        $eA = explode(',', trim($ssv));
        foreach($eA as $eK => $eV){ 
            echo "email" . filter_var($eK + 1, FILTER_SANITIZE_NUMBER_INT) . ": " . $eV . "<br>"; 
        }
    } elseif (trim($lcase_sv) == 'mp3_emails'){ 
        echo "ssv:<br>";
        $eA = explode(',', trim($ssv));
        foreach($eA as $eK => $eV){
            echo "email" . filter_var($eK + 1, FILTER_SANITIZE_NUMBER_INT) . ": " . $eV . "<br>";
        }
    }else {
        echo "sv: " . $sv .", " . "s: " . $ssv . "<br>"; 
    }
} 
```

}

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-29T05:22:04.597

[parse_ini_file($source);](http://php.net/manual/ru/function.parse-ini-file.php) 返回一个关联数组

```
$query = 'INSET INTO ... (key, value) VALUES (:key, :value)';
$stmt  = DB::prepare($query);

foreach( parse_ini_file($source) as $key => $value )
{
  $stmt->execute(array(':key' => $key, ':source' => $source));
} 
```

本例使用[PDO](http://php.net/manual/ru/book.pdo.php)

循环中文件的输出只是：

```
foreach( parse_ini_file($source) as $key => $value )
{
  echo $key; // Atone in first loop
  echo $value; //707.3 in first loop

  // BUT NOT USE THIS!!! use mysqli or PDO
  mysql_query("INSERT INTO ... (key, value) VALUES ($key, $value)");
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-29T05:23:12.493

用于[`parse_ini_file`](http://us1.php.net/parse_ini_file)将数据结构加载到数组中。

从那里您可以构建和执行 SQL 语句：

```
$entries = parse_ini_file("config/tones.txt", true);
foreach ($entries as $section => $fields) {
  extract($fields, EXTR_SKIP);
  $sql = "INSERT INTO mytable (section, atone, btone) VALUES ($section, '$Atone', '$Btone'";
   ....
} 
```

当然，您需要在执行 SQL 语句之前对其进行准备和转义。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-29T08:44:50.290

这是另一种方法。只需要根据您的需要（行数/凭据）进行修改。最好使用 PDO。

```
$username = 'yourusername';
$password = 'yourpass';

try {
    $conn = new PDO('mysql:host=127.0.0.1;dbname=yourdbname', $username, $pass);
    $conn->setAttribute(PDO::ATTR_ERRMODE, PDO::ERRMODE_EXCEPTION);
    echo 'successfully connected';
} catch(PDOException $e) {
    echo 'ERROR: ' . $e->getMessage();
}

foreach(parse_ini_file('yourfile.ini', true) as $row)
{
    try {
        // just adjust the number of columns accordingly
        $stmt = $conn->prepare('insert into tablename values(?,?,?,?,?,?,?,?,?,?,?,?,?)');
        // $row contains the values to insert
        $stmt->execute($row);
        echo 'rows affected' . $stmt->rowCount(); // 1      
    }catch(PDOException $e) {
        echo 'ERROR: ' . $e->getMessage();
    }
} 
```

# matlab - matlab：图例；CAT 参数维度不一致

> ID：13619112
> 
> 赞同：0
> 
> 时间：2012-11-29T04:57:46.443
> 
> 标签：matlab, user-interface, legend, strcat

我有一个奇怪的问题......我无法创造传奇：假设我有：

```
 fraction1Str = strcat('F1 = ', sprintf('%g',round(fraction1*100)/100), '+/-',sprintf('%g',round(fraction1STD*100)/100));
    fraction2Str = strcat('F2 = ', sprintf('%g',round(fraction2*100)/100), '+/-',sprintf('%g',round(fraction2STD*100)/100));
    fraction3Str = strcat('F3 = ', sprintf('%g',round(fraction3*100)/100), '+/-',sprintf('%g',round(fraction3STD*100)/100));

    fractionStr = [fraction1Str; fraction2Str; fraction3Str];
    ...
    hleg = legend(fractionStr); 
```

这给了我错误：CAT 参数尺寸不一致。

所有字符串都是相同的格式，偶数个字符......有趣的是，如果我改为其中之一

```
fractionStr = [fraction3Str; fraction3Str; fraction3Str];
fractionStr = [fraction2Str; fraction2Str; fraction2Str];
fractionStr = [fraction1Str; fraction1Str; fraction1Str]; 
```

它的工作，但没有这三个不同的字符串......有什么想法吗？

# objective-c - 来自 NSURLConnection 的 iOs receivedData 为零

> ID：13619114
> 
> 赞同：0
> 
> 时间：2012-11-29T04:57:52.497
> 
> 标签：objective-c, ios, nsurlconnection

我想知道是否有人可以指出为什么我无法捕获网络回复。My`NSLog`表明 my`[NSMutableData receivedData]`在整个连接运行中的长度为 0。单击登录按钮时点击的脚本返回一个字符串。我的`NSLog`结果粘贴在下面，之后我粘贴了我拥有的 .h 和 .m 文件。

**NSLog 结果**

```
2012-11-28 23:35:22.083 [12548:c07] Clicked on button_login
2012-11-28 23:35:22.090 [12548:c07] theConnection is succesful
2012-11-28 23:35:22.289 [12548:c07] didReceiveResponse
2012-11-28 23:35:22.290 [12548:c07] didReceiveData
2012-11-28 23:35:22.290 [12548:c07] 0
2012-11-28 23:35:22.290 [12548:c07] connectionDidFinishLoading
2012-11-28 23:35:22.290 [12548:c07] 0 
```

**视图控制器.h**

```
#import <UIKit/UIKit.h>

@interface ViewController : UIViewController

// Create an Action for the button.
- (IBAction)button_login:(id)sender;

// Add property declaration.
@property (nonatomic,assign) NSMutableData *receivedData;

@end 
```

**视图控制器.m**

```
#import ViewController.h

@interface ViewController ()
@end

@implementation ViewController

@synthesize receivedData;

- (void)connection:(NSURLConnection *)connection didReceiveResponse:(NSURLResponse *)response {
    NSLog(@"didReceiveResponse");    
    [receivedData setLength:0];
}

- (void)connection:(NSURLConnection *)connection didReceiveData:(NSData *)data {    
    NSLog(@"didReceiveData");    
    [receivedData appendData:data];
    NSLog(@"%d",[receivedData length]);
}

- (void)connectionDidFinishLoading:(NSURLConnection *)connection {    
    NSLog(@"connectionDidFinishLoading");
    NSLog(@"%d",[receivedData length]);
}

- (IBAction)button_login:(id)sender {

    NSLog(@"Clicked on button_login");    
    NSString *loginScriptURL = [NSString stringWithFormat:@"http://www.website.com/app/scripts/login.php?"];

    NSMutableURLRequest *theRequest = [NSMutableURLRequest requestWithURL:[NSURL URLWithString:loginScriptURL]];

    NSString *postString = [NSString stringWithFormat:@"&paramUsername=user&paramPassword=pass"];
    NSData *postData = [postString dataUsingEncoding:NSASCIIStringEncoding allowLossyConversion:YES];

    [theRequest setHTTPMethod:@"POST"];
    [theRequest setHTTPBody:postData];

    // Create the actual connection using the request.
    NSURLConnection *theConnection = [[NSURLConnection alloc] initWithRequest:theRequest delegate:self];

    // Capture the response
    if (theConnection) {        
        NSLog(@"theConnection is succesful");        
    } else {        
        NSLog(@"theConnection failed");
    }
}
@end 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-29T05:05:08.703

问题是您没有初始化`receivedData`实例。只需更改您的属性，例如：

```
@property (nonatomic, retain) NSMutableData *receivedData; 
```

并更改方法，例如：

```
- (void)connection:(NSURLConnection *)connection didReceiveResponse:(NSURLResponse *)response
{
    NSLog(@"didReceiveResponse");    
    [self.receivedData setLength:0];
}

- (void)connection:(NSURLConnection *)connection didReceiveData:(NSData *)data
{    
    NSLog(@"didReceiveData");    
    [self.receivedData appendData:data];
    NSLog(@"%d",[receivedData length]);
}

- (void)connectionDidFinishLoading:(NSURLConnection *)connection
{    
    NSLog(@"connectionDidFinishLoading");
    NSLog(@"%d",[receivedData length]);
}

- (IBAction)button_login:(id)sender
{

    NSLog(@"Clicked on button_login");    
    NSString *loginScriptURL = [NSString stringWithFormat:@"http://www.website.com/app/scripts/login.php?"];

    NSMutableURLRequest *theRequest = [NSMutableURLRequest requestWithURL:[NSURL URLWithString:loginScriptURL]];

    NSString *postString = [NSString stringWithFormat:@"&paramUsername=user&paramPassword=pass"];
    NSData *postData = [postString dataUsingEncoding:NSASCIIStringEncoding allowLossyConversion:YES];

    [theRequest setHTTPMethod:@"POST"];
    [theRequest setHTTPBody:postData];

    // Create the actual connection using the request.
    NSURLConnection *theConnection = [[NSURLConnection alloc] initWithRequest:theRequest delegate:self];

    // Capture the response
    if (theConnection)
    {        
        NSLog(@"theConnection is succesful");  
        self.receivedData = [NSMutableData data];      
    } else
    {        
        NSLog(@"theConnection failed");
    }
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-29T05:00:50.893

请在 nslog 中尝试“%i”而不是 %d

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-29T05:03:23.000

您可以尝试以下代码可能对您有所帮助。

```
- (IBAction)button_login:(id)sender {

    NSLog(@"Clicked on button_login");  
            NSMutableDictionary *dictionnary = [NSMutableDictionary dictionary];
            [dictionnary setObject:@"user"  forKey:@"Username"];
            [dictionnary setObject:@"pass" forKey:@"Password"];

            NSError *error = nil;
            NSData *jsonData = [NSJSONSerialization dataWithJSONObject:dictionnary
                                                               options:kNilOptions
                                                                 error:&error];   

            NSString *urlString = @"Sample URL";

            NSURL *url = [NSURL URLWithString:urlString];
     NSMutableURLRequest *request = [NSMutableURLRequest requestWithURL:url];
            [request setHTTPMethod:@"POST"];

            [request setHTTPBody:jsonData];
            NSURLResponse *response = NULL;
            NSError *requestError = NULL;
            NSData *responseData = [NSURLConnection sendSynchronousRequest:request returningResponse:&response error:&requestError];
            NSString *responseString = [[NSString alloc] initWithData:responseData encoding:NSUTF8StringEncoding] ;
             NSLog(@"%@", responseString); 

} 
```

如果是 GET 请求，你可以试试链接：**/login.php?username=admin&password=1212‌​3**

```
- (IBAction)button_login:(id)sender {

    NSLog(@"Clicked on button_login");  
    NSURLRequest *request = [NSURLRequest requestWithURL:[NSURL URLWithString:@"/login.php?username=adm‌​in&password=1212‌​3"]];

     // Perform request and get JSON as a NSData object

    NSData *response = [NSURLConnection sendSynchronousRequest:request returningResponse:nil error:nil];
     NSLog(@"response=%@",response ); 

} 
```

并使用此代码。

# android - 应用程序在 Google Play 上销售时的电子邮件通知？

> ID：13619116
> 
> 赞同：3
> 
> 时间：2012-11-29T04:57:58.830
> 
> 标签：android, google-play

默认情况下，当用户取消订单并退回我的应用程序时，我会收到一封电子邮件通知。有没有办法更改通知设置，以便在应用销售时我也会收到一封电子邮件？我查看了 google play 开发者控制台并进行了大量搜索，但找不到该选项。

# java - Quartz Scheduler没有选择quartz.properties中提到的调度器

> ID：13619118
> 
> 赞同：1
> 
> 时间：2012-11-29T04:58:02.260
> 
> 标签：java, quartz-scheduler, weblogic8.x

在我的 web 应用程序中，调度程序在我的 weblogic 8.1 服务器启动期间没有被拾取。它`DefaultQuartzScheduler'insted`在我的`quartz.properties`.

相同的代码和设置在我的本地环境中运行良好。

请帮助我是什么导致调度程序启动？

提前致谢..！

**与我的本地环境相比的额外日志：** 2012-11-01 04:31:23,257 [ExecuteThread: '0' for queue: 'weblogic.kernel.System'] INFO org.quartz.simpl.SimpleThreadPool -Job 执行线程将使用类线程加载器：ExecuteThread：'0' 用于队列：'weblogic.kernel.System

**日志：**

```
2012-11-01 04:31:23,180 [ExecuteThread: '0' for queue: 'weblogic.kernel.System'] INFO  org.apache.struts.util.PropertyMessageResources -Initializing, config='ftp', returnNull=true
2012-11-01 04:31:23,245 [ExecuteThread: '0' for queue: 'weblogic.kernel.System'] INFO  org.apache.struts.tiles.xmlDefinition.I18nFactorySet -Factory initialized from file '/WEB-INF/tileDefinitions.xml'.
2012-11-01 04:31:23,245 [ExecuteThread: '0' for queue: 'weblogic.kernel.System'] INFO  org.apache.struts.tiles.TilesPlugin -Tiles definition factory loaded for module ''.
2012-11-01 04:31:23,257 [ExecuteThread: '0' for queue: 'weblogic.kernel.System'] INFO  org.quartz.simpl.SimpleThreadPool -Job execution threads will use class loader of thread: ExecuteThread: '0' for queue: 'weblogic.kernel.System'
2012-11-01 04:31:23,260 [ExecuteThread: '0' for queue: 'weblogic.kernel.System'] INFO  org.quartz.simpl.RAMJobStore -RAMJobStore initialized.
2012-11-01 04:31:23,261 [ExecuteThread: '0' for queue: 'weblogic.kernel.System'] INFO  org.quartz.impl.StdSchedulerFactory -Quartz scheduler 'DefaultQuartzScheduler' initialized from default resource file in Quartz package: 'quartz.properties'
2012-11-01 04:31:23,261 [ExecuteThread: '0' for queue: 'weblogic.kernel.System'] INFO  org.quartz.impl.StdSchedulerFactory -Quartz scheduler version: 1.4.5
2012-11-01 04:31:23,261 [ExecuteThread: '0' for queue: 'weblogic.kernel.System'] INFO  org.quartz.core.QuartzScheduler -Scheduler DefaultQuartzScheduler_$_NON_CLUSTERED started
2012-11-01 04:31:23,263 [ExecuteThread: '0' for queue: 'weblogic.kernel.System'] INFO  EMD -DefaultQuartzScheduler Scheduler  Successfully Started 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-29T07:50:31.553

从日志看来，Quartz 根本没有找到您的quartz.properties 文件（“从默认资源文件初始化......”）。两个最可能的原因是：

1.  WAR 中根本不存在quartz.properties 文件
2.  quartz.properties 文件在错误的位置（它应该在 WEB-INF/classes 中）

# ruby-on-rails - 初学者 ROR 错误

> ID：13619120
> 
> 赞同：2
> 
> 时间：2012-11-29T04:58:06.257
> 
> 标签：ruby-on-rails

```
<h1>All Articles</h1>

<ul>
   <% @articles.each.do |article| %>
  <li>
     <%= article.title %>
  </li>
 <% end %>
</ul> 
```

我不断收到“语法错误，意外的keyword_ensure，期待$end”我对发生的事情完全感到困惑。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-29T04:59:16.430

`do`不是每个方法的方法：它是块开始的能指。你要这个：

```
<h1>All Articles</h1>

<ul>
   <% @articles.each do |article| %>
  <li>
     <%= article.title %>
  </li>
 <% end %>
</ul> 
```

# c# - 在xml中搜索元素忽略大小写

> ID：13619127
> 
> 赞同：1
> 
> 时间：2012-11-29T04:59:13.757
> 
> 标签：c#, xml, linq-to-xml

```
 if (temp.Element(any_string) == null)//marked
                        {
                            temp.Add(new XElement(node_arr[j]));
                        }
                        temp = temp.Element(any_string); 
```

在这里，我正在通过 Linq 在 XML 中搜索现有元素，如果未找到该元素（即，它不存在），则正在添加它。如果我输入要添加的“Guava”并且“GUAva”存在，则“ Guava' 被添加到 XML 文件中。现在我在同一个 XML 文件中同时拥有我不想要的 'Guava' 和 'GUAva'。请帮助。

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2012-11-29T05:20:17.467

```
Temp.Elements().Where( x=> x.Name.ToUpper() == "FOO").FirstOrDefault(); 
```

未经测试...

# c# - 为什么 .net 没有复制整个目录的方法

> ID：13619145
> 
> 赞同：2
> 
> 时间：2012-11-29T05:00:59.220
> 
> 标签：c#, file, directory, copy

在 .net Directory 类中有一个移动、删除目录的方法。但是，它没有复制目录及其内容的方法。我们必须使用循环复制每个文件和子目录，如下[如何：复制目录](http://msdn.microsoft.com/en-us/library/bb762914.aspx)

我想知道没有 Copy 方法的合理/原因是什么。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-29T05:06:35.127

这是因为 Windows API`MoveFile`和相关函数也可以用于移动目录，但`CopyFile`相关函数不能用于目录。

更根本的是，这是因为移动文件或目录只是重命名它。它实际上并不需要在磁盘上物理移动文件（或文件）数据。当您重命名目录时，它包含的文件会自动“通过引用”选择新路径，就像它一样。不必对每个文件的条目进行操作。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-11-29T05:41:05.067

并不是*.NET*没有复制整个目录的方法（因为[VB.NET](http://msdn.microsoft.com/en-us/library/2swy9y5e%28VS.90%29.aspx)中存在一个），而是*C#*没有复制整个目录的方法。

鉴于其他 .NET 语言支持此功能，C# 中没有此功能似乎不太可能有技术或哲学原因，我们可以退回到[“默认情况下不存在功能”](http://blog.ryjones.org/2005/07/12/product-development/)的零假设（[通常](http://blogs.msdn.com/b/ericlippert/archive/2009/06/22/why-doesn-t-c-implement-top-level-methods.aspx) 由 Eric Lippert[解释）。](http://blogs.msdn.com/b/ericlippert/archive/2009/05/18/foreach-vs-foreach.aspx)

# c# - 在网格视图中使用的输入字符串格式不正确。

> ID：13619151
> 
> 赞同：0
> 
> 时间：2012-11-29T05:02:14.423
> 
> 标签：c#, asp.net, .net, operators

我正在使用这个三元运算符来显示值，但它总是说输入字符串的格式不正确。

```
 <asp:TextBox ID="txtPerOfBase" runat="server" Style="text-align: right;" Text='<%# decimal.Parse(Eval("CommissionableAmountBase").ToString()) == 0 ? Eval("CommissionablePercentBase","{0:N2}"): Eval("CommissionableAmountBase","{0:N2)")%>'
                                                                        Width="80px"></asp:TextBox> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-29T05:11:48.940

看这里：

```
Eval("CommissionableAmountBase","{0:N2)") 
```

它应该`}`在 N2 之后

```
Eval("CommissionableAmountBase","{0:N2}") 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-29T06:07:18.073

愚蠢的错误，将您在此处显示的整个代码替换为以下内容

```
<asp:TextBox ID="txtPerOfBase" runat="server" Style="text-align: right;" 
Text='<%#   decimal.Parse(Eval("CommissionableAmountBase").ToString()) == 0 ?  Eval("CommissionablePercentBase","{0:N2}"): Eval("CommissionableAmountBase","{0:N2}")%>'
Width="80px">
</asp:TextBox> 
```

您使用**)**而不是**}**。这是你的错...

# javascript - jquery撕纸广告

> ID：13619154
> 
> 赞同：-2
> 
> 时间：2012-11-29T05:02:38.910
> 
> 标签：javascript, jquery

我想要像[美高梅大酒店网站那样在街角做广告的](http://www.mgmgrand.com/)**撕纸**脚本，但不需要flash动画。我想要 jquery 或任何想法。

怎么称呼这种效果？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-29T05:04:21.493

很多选择 - [http://www.jquery4u.com/plugins/10-jquery-page-peel-plugins/](http://www.jquery4u.com/plugins/10-jquery-page-peel-plugins/)

对于stackoverflow来说不是一个好问题。一个快速的谷歌会为你带来这些可能性。

# html - 自动调整图像大小

> ID：13619160
> 
> 赞同：1
> 
> 时间：2012-11-29T05:03:07.363
> 
> 标签：html, css

我在[这里](http://elixdesigns.com/gisell/)创建一个站点，以复制[香奈儿](http://www.chanel.com/)网站的功能。

目前，重新调整大小适用于宽度，但是当涉及到高度时，我无法终生让它正常工作，以便图像居中并且略高于页脚。我所有的图像都是 1920 x 1080，就像香奈儿一样。此外，如果您向下滚动一点，Chanel 网站也会自动将下半部分拉上来，因为我只使用按钮即可使用它。

当我在 iPad 上查看页面时，只有大约 75% 的网站显示。我认为这与更多按钮填充有关，但这不是问题。

谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-29T05:10:03.080

> 此外，如果您向下滚动一点，Chanel 网站也会自动将下半部分拉上来，因为我只使用按钮即可使用它。

这是因为`div`顶部的 是固定的或绝对的。“下半部分”可能具有 100% 的上边距，仅在滚动时可见。

它通过javascript“自动拉起”；如果您关闭 javascript 行为正常。为此，他们可能会使用类似`document.body.onscroll = function() { ...animation... }`.

(id = 语言, class = popin)的 CSS`div#languages.popin`如下：

```
.popin {
    position: absolute;
    top: 50%;
    left: 50%;
    width: 900px;
    height: 600px;
    margin-top: -300px;
    margin-left: -450px;
    background: none repeat scroll 0% 0% rgb(255, 255, 255);
    z-index: 150;
    overflow: hidden; 
} 
```

我假设按照这个，你会得到类似的结果。试用 firebug 或其变体，并检查元素以找到您可能忘记的部分。

# mysql - 选择缓存数据库结果？

> ID：13619168
> 
> 赞同：0
> 
> 时间：2012-11-29T05:03:37.890
> 
> 标签：mysql, database, performance, caching

我想要从几个异构数据库中查询数据，并且每次加入 1k~1m 行结果。为了提高性能，我想为结果数据添加缓存。因为用户也可能对结果数据进行一些排序或过滤，所以我想将结果缓存到类似关系数据库的系统，而不是 KV-cache(memcached)

这种用法有什么好的工具吗？恕我直言，mysql具有良好的读取性能，但它的写入性能不适合作为缓存系统，是这样吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-29T05:12:37.750

Hibernate 会自动缓存，但我以前也遇到过这种情况，缓存不是要走的路：它增加的问题多于解决的问题，并且通常只会短暂地延迟技术不可避免的变化，以...... NoSQL 数据库方法。

尝试 lucene 或 mongodb，并在其中存储完全非规范化的数据。你不会后悔的。

# php - 如果数组存在数据，则检查数据

> ID：13619171
> 
> 赞同：1
> 
> 时间：2012-11-29T05:04:05.763
> 
> 标签：php, arrays

我想检查数据数组中是否存在数据，以便我可以执行函数。我会用`in_array`吗？

**大批：**

```
["OpenHomes"]=>
array(2) {
  [0]=>
  array(2) {
    ["Start"]=>
    string(21) "/Date(1354323600000)/"
    ["End"]=>
    string(21) "/Date(1354326300000)/"
  } 
```

我会做以下事情吗？

```
if(in_array($detail['OpenHomes']))
{
    echo 'yes';
}else{
    echo 'no';
} 
```

我想检查里面是否有任何东西`OpenHomes`。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-29T05:07:38.380

试试这个

```
if(!empty($detail) && in_array('OpenHomes',$detail))
{
    echo 'yes';
}else{
      echo 'no';
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-29T05:11:43.057

你也可以检查

```
 if ($detail['OpenHomes']) { 
```

或者

```
 if (count($detail['OpenHomes']) > 0) { ... } 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-29T05:11:57.247

您还可以使用：

```
count($detail['OpenHomes']) 
```

或者

```
sizeof($detail['OpenHomes']) // its alias, same function with different name 
```

获取该数组中元素的计数，但这也会计算空元素。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-11-29T05:16:54.767

或这个

```
if( !empty($details['openHomes']) )
{
  //
}
else
{
  //
} 
```

# computer-science - 为什么 windows 应用程序不能在 linux 或 mac 中运行？

> ID：13619173
> 
> 赞同：0
> 
> 时间：2012-11-29T05:04:11.680
> 
> 标签：computer-science

我阅读了 SO 问题，但我仍然有疑问 -[为什么特定 CPU 的可执行程序在 Linux 和 Windows 上不起作用？](https://stackoverflow.com/questions/2059605/why-an-executable-program-for-a-specific-cpu-does-not-work-on-linux-and-windows)

其中一个回复说：“每个操作系统都要求二进制文件符合特定的二进制格式。”

那是对的吗 ？如果是，那么我们可以将其添加到上述语句中吗 - 可执行文件包含二进制代码 (???)。假设 100011 表示 Windows 二进制格式的 5。但是这些相同的代码在另一个操作系统中意味着其他甚至什么都没有。因此，为 win 制作的可执行文件将无法在 linux 中运行。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-29T05:35:09.820

Windows 和 Linux 是使用不同的基础构建的。Windows 是基于 DOS 的，Linux 是基于 UNIX 的。如果 Windows 已经发布了他们操作系统的源代码，那么 Linux 可能会更兼容并能够运行 Windows 程序，但这并没有发生。Linux 是自行开发的，因此可以理解它会有所不同。除此之外，Linux 还使用不同的系统命令和调用，因此即使它们都有“可执行程序”，它们的执行方式也是特定于操作系统的。

一个示例：在 Windows 中打开命令提示符并键入`dir`. 这将列出当前目录的所有文件和子目录。但是，Linux 等价于列出目录的内容是`ls`.

来源：[为什么linux不能运行windows程序？](http://ubuntuforums.org/showthread.php?t=409563)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-29T07:52:38.983

回答我自己的问题的粗鲁，简单的英语尝试-

操作系统允许应用程序/程序与硬件交互——显示器、键盘、网卡等。它就像应用程序和硬件之间的中间人。

为什么我们首先需要一个中间人？我不知道答案，但我会猜。也许我们可以向我们的应用程序添加代码，使其能够与所有硬件进行交互。但是，如果每个应用程序都这样做，那么每个应用程序将需要太多空间 - 浪费。他们将是冗余的。例如，所有游戏都会有自己的代码在不同品牌的显示器上显示游戏画面。也许还会有其他问题。

要与硬件交互，程序需要与操作系统“对话”或进行“系统调用”。操作系统使用的“语言”称为“API”。每个操作系统都有一个独特的 API。因此，Windows API 中“对话”的程序将无法与 linux 系统“对话”。

我使用的链接 - [http://en.wikipedia.org/wiki/Operating_system](http://en.wikipedia.org/wiki/Operating_system) http://en.wikipedia.org/wiki/System_call

# php - if statement not echoing out html

> ID：13619177
> 
> 赞同：0
> 
> 时间：2012-11-29T05:04:34.593
> 
> 标签：php, html, if-statement, echo

For some reason I can't get my if-statement to echo out the HTML.

```
<?php
    $my_description = meta('description');
    if (!empty($my_description)): echo '<p class="description">'.$my_description.'</p>';
    echo '<br>'; ?>
<?php endif; ?> 
```

It only outputs the text, nothing else.

`meta('description')` is from a plugin in Wordpress that should output the text I placed in the backend. The above code ONLY outputs the following: `Lorem Ipsum...`

**Update:** I would like it to output: `<p class="description">Lorem Ipsum...</p>`

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-29T05:16:06.997

After a [discussion in chat](https://chat.stackoverflow.com/rooms/20296/discussion-between-sachleen-and-christopher-burton), we discovered that the `meta()` function was not returning the value we expect. The correct function is [`get_post_meta`](http://codex.wordpress.org/Function_Reference/get_post_meta)

```
<?php
    $my_description = get_post_meta(get_the_ID(), 'description', 1);
    if (!empty($my_description)):
?>
    <p class="description"><?php echo $my_description; ?></p>
    <br>
<?php endif; ?> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-29T05:14:48.083

Ugh... sooo ugly, just do it like this:

```
<?php
echo !empty($my_description) ? '<p class="description">'.$my_description.'</p>' : '<br />';
?> 
```

Use the ternary operator, don't use that messy `if` formatting...

# java - Android：如何让用户重新排列 ListView 中的元素？

> ID：13619179
> 
> 赞同：1
> 
> 时间：2012-11-29T05:04:51.437
> 
> 标签：java, android, listview

iOS 能够允许用户重新排列/重新排序列表中的元素。

这是通过进入编辑模式并将元素拖动到所需位置来完成的。

一个很好的例子是设置应用程序中通知屏幕中的编辑模式。

![iOS 通知编辑示例](../Images/8eeb397fadbe29eb1e9a3e64c4a1493f.png)

Android中是否默认存在这种功能？是否可以在 ListView 或 LinearLayout 中启用此功能？

如果这在基本的 Android 功能中不存在，是否有一个库可以做类似的事情？

我知道拖放功能，但据我所知，这很可能太低了。

[http://developer.android.com/guide/topics/ui/drag-drop.html](http://developer.android.com/guide/topics/ui/drag-drop.html)

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-29T05:10:01.010

android中有一些第三方库可用

[https://github.com/commonsguy/cwac-touchlist](https://github.com/commonsguy/cwac-touchlist)

[https://github.com/bauerca/drag-sort-listview](https://github.com/bauerca/drag-sort-listview)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-11-02T15:50:08.303

现在有一个来自 Google 的 DevBytes 的示例。

*   视频在这里：[http ://www.youtube.com/watch?v=_BZIvjMgH-Q](http://www.youtube.com/watch?v=_BZIvjMgH-Q)
*   源代码在这里：http: [//developer.android.com/shareables/devbytes/ListViewDraggingAnimation.zip](http://developer.android.com/shareables/devbytes/ListViewDraggingAnimation.zip)

# sql-server-2008 - 后台进程跳转后单用户模式会话丢失

> ID：13619180
> 
> 赞同：2
> 
> 时间：2012-11-29T05:04:59.207
> 
> 标签：sql-server-2008

我们有一个使用 SQL 服务器的应用程序。此应用程序使用单用户模式非常频繁地恢复数据库。以下是在单用户模式下恢复数据库并在多用户模式下恢复数据库所执行的 SQL。

```
alter database [test-db] set single_user with rollback immediate;   
use master;restore database [test-db] from database_snapshot = 'snapshot_test-db';
alter database [test-db] set multi_user; 
```

将 test-db 切换到单用户模式后，Taskmanager 的一些 4-5 个后台进程跳入，应用程序不再能够使用同一会话对数据库执行进一步的操作（恢复数据库和更改数据库）。这些后台进程在它们之间是死锁的。请参考下面 sp_who2 的输出。

13 ,BACKGROUND ,sa, ., .,master,BRKR EVENT HNDLR,0,27,11/28 16:13:40, ,13 ,0
14 ,BACKGROUND ,sa, ., .,master,BRKR TASK ,0, 0,11/28 16:13:40, ,14 ,0
15 ,sleeping ,sa, ., .,master,TASK MANAGER ,0,2,11/28 16:13:40, ,15 ,0
**16 ,BACKGROUND ,sa, .,23 ,test-db,TASK MANAGER ,16,5,11/28 16:13:40,** ,16 ,0
17 ,BACKGROUND ,sa, ., .,master,BRKR TASK ,0,0, 11/28 16:13:40, ,17 ,0
18 ,BACKGROUND ,sa, ., .,master,BRKR TASK ,0,36,11/28 16:13:40, ,18 ,0
19 ,sleeping ,sa, ., .,master,TASK MANAGER ,0,0 ,11/28 16:13:40, ,19 ,0
**20 ,BACKGROUND ,sa, .,23 ,test-db,TASK MANAGER ,0,1,11/28 16:13:40, ,20 ,0**
**21 ,背景 ,sa, .,23 ,test-db,TASK MANAGER ,0,1,11/28 16:13:40, ,21 ,0**
22 ,BACKGROUND ,sa, ., .,msdb,DELETE ,6094,835, 11/28 16:13:40, ,22 ,0
**23 ,BACKGROUND ,sa, .,21 ,test-db,TASK MANAGER ,0,0,11/28 16:13:40, ,23 ,0**
24 ,sleeping ,sa, ., .,master,TASK MANAGER ,0 ,0,11/28 16:13:40, ,24 ,0
25 ,sleeping ,sa, ., .,master,TASK MANAGER ,0,0,11/28 16:13:40, ,25 ,0
26 ,睡觉 ,sa, ., .,master,TASK MANAGER ,0,41,11/28 16:13:40, ,26 ,0
27 ,BACKGROUND ,sa, ., .,master,TRACE QUEUE TASK,3047,1680, 11/28 16:13:40, ,27 ,0
28 ,sleeping ,sa, ., .,master,TASK MANAGER ,0,5,11/28 16:13:40, ,28 ,0
29 ,sleeping ,sa, ., .,master,TASK MANAGER ,0,0 ,11/28 16:13:40, ,29 ,0
30 ,sleeping ,sa, ., .,master,TASK MANAGER ,0,0,11/28 16:13:40, ,30 ,0
31 ,sleeping , sa, ., .,master,TASK MANAGER ,0,0,11/28 16:13:40, ,31 ,0
51 ,RUNNABLE ,DY-EPO46\Administrator,DY-EPO46, .,master,SELECT INTO ,110 ,64,11/28 16:30:44,Microsoft SQL Server Management Studio - 查询,51,0
52 ,sleeping ,DY-EPO46\Administrator,DY-EPO46, .,master,AWAITING COMMAND,156,14,11/28 16:16:39,Microsoft SQL Server Management Studio ,52 ,0
**53 ,sleeping ,DY-EPO46 \Administrator,DY-EPO46, .,test-db,AWAITING COMMAND,16,16,11/28 16:30:40,Microsoft SQL Server Management Studio - Query,53 ,0**

在搜索这个问题时，我发现人们也遇到过类似的问题，但我无法找出这个问题的根本原因和调试步骤。提供停止 SQL 服务器作为退出这些后台进程的解决方案，但在我们的案例中这是不可行的，因为恢复数据库的代码运行非常频繁，导致这个问题的频率很高。

我还确保 SQL Server 代理没有运行。服务器上运行的 SQL 服务有 SQL Server、SQL Server Browser 和 SQL Server VSS Writer。

# android - 如何将json的元素添加到android中的List中？

> ID：13619182
> 
> 赞同：0
> 
> 时间：2012-11-29T05:05:01.863
> 
> 标签：android

我是 Android 应用程序开发的新手。

在我的应用程序中，我有一个 Json 文件，例如 ["India","USA"]

我的要求是将该 Json 文件的元素添加到 ArrayList。

请帮助我前进。

谢谢你，再见....

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-29T05:44:09.027

```
Reader reader = new StringReader(json);

JsonReader jsr = new JsonReader(reader);

JsonParser parser = new JsonParser();

JsonElement rawJson = parser.parse(jsr);

JsonArray asJsonArray = rawJson.getAsJsonArray();

for (JsonElement jsonElement : asJsonArray) {
   jsonElement.getAsString();
} 
```

或者

```
Type collectionType = new TypeToken<Collection<Integer>>(){}.getType();

Collection<Integer> ints2 = gson.fromJson(json, collectionType); 
```

在这两个实例中都使用 GSON 库。

# javascript - 使用 Ajax 更改 div 的内部内容

> ID：13619183
> 
> 赞同：0
> 
> 时间：2012-11-29T05:05:03.240
> 
> 标签：javascript, html, ajax, xmlhttprequest, server-side

我是 Ajax 的初学者，我有这个 html 代码，旨在通过使用 xmlhttprequest 请求不同的 html 地址并将其内容放入 div 来更改 div 的内部内容。我究竟做错了什么？这是代码：

```
 <meta http-equiv="content-type" content="text/html; charset=UTF-8"/>
    <script type="text/javascript">
        var xmlhttp= null;
        if(window.XMLHttpRequest){
            xmlhttp = new XMLHttpRequest();
        }else{
            alert("You must be using a different browser.");
        }

        function makeRequest(serverPage,objID){

            var obj = document.getElementById(objID);
            xmlhttp.open("GET",serverPage);
            xmlhttp.onreadystatechange = function(){
                if(xmlhttp.readyState == 4 && xmlhttp.status == 100){
                    obj.innerHTML = xmlhttp.responseText;
                }
            }
            xmlhttp.send(null);
        }
    </script>
</head>
<body onload="makeRequest ('content1.html','hw')">
    <div align="center">
        <h1>My Webpage</h1>
        <a href="content1.html" onclick="makeRequest('content1.html','hw'); return false;"> Page1</a> | <a href="content2.html" onclick="makeRequest('content2.html','hw'); return false;"> Page2</a> | <a href="content3.html" onclick="makeRequest('content3.html','hw'); return false;"> Page3</a> | <a href="content4.html" onclick="makeRequest(content4.html,hw); return false;"> Page4</a>
        <div id = "hw"></div>
</body> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-29T05:22:02.490

一般来说，这对我来说看起来不错。

然而，`xmlhttp.status == 100`支票看起来很可疑。

100 是一个不寻常的 HTTP 状态代码。通常，Web 服务器在成功请求时返回 200（“OK”）。

尝试将`status == 100`支票替换为`status == 200`.

参考请见：[http ://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html](http://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-29T05:08:31.580

更改`xmlhttp.status == 100`以`xmlhttp.status == 200`检查这是否可以解决您的问题

如果您尝试在 IE 中运行该页面，请尝试添加此行

```
xmlhttp=new ActiveXObject("Microsoft.XMLHTTP"); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-29T05:10:04.137

测试 xmlhttp.status == 200 而不是 100。

[http://www.w3schools.com/ajax/ajax_xmlhttprequest_onreadystatechange.asp](http://www.w3schools.com/ajax/ajax_xmlhttprequest_onreadystatechange.asp)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-29T05:10:28.580

我想应该是：

```
function makeRequest(serverPage,objID){
    xmlhttp.open("GET",serverPage);
    xmlhttp.onreadystatechange = function(){
        if(xmlhttp.readyState == 4 && xmlhttp.status == 200){
            document.getElementById(objID).innerHTML = xmlhttp.responseText;
        }
    }
    xmlhttp.send(null);
} 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-11-29T05:29:46.280

```
function AjaxGet(url,helm)
{ 
  if (xmlhttp == null)
  {  if (window.XMLHttpRequest) // code for IE7+, Firefox, Chrome, Opera, Safari
       xmlhttp = new XMLHttpRequest();
    else  // code for IE6, IE5
       xmlhttp = new ActiveXObject("Microsoft.XMLHTTP");  
  }

 xmlhttp.onreadystatechange = function()
 {   if (xmlhttp.readyState==4)
     {  if ( (xmlhttp.status==200) ||  (xmlhttp.status==304) )
          { document.getElementById(helm).innerHTML = xmlhttp.responseText; }
          else { document.getElementById(helm).innerHTML = xmlhttp.status + " " +xmlhttp.statusText; }
    }
 }

   xmlhttp.open("GET",url,true);
   xmlhttp.send();
} 
```

# windows-8 - 全文搜索 winrt（windows 运行时、windows 商店应用等）

> ID：13619186
> 
> 赞同：3
> 
> 时间：2012-11-29T05:05:26.787
> 
> 标签：windows-8, lucene, windows-runtime

我使用 Lucene.Net 在 WPF 应用程序中搜索文本文件，并考虑将其移植到 Windows 应用商店应用程序中。当我尝试使用包管理器添加 Lucene.Net 时，出现以下错误。是否有任何其他库提供可用于 WinRT 的完全索引文本搜索？

```
install-package : Could not install package 'SharpZipLib 0.86.0'. 
You are trying to install this package into a project that targets     
'.NETCore,Version=v4.5', but the package does not contain any 
assembly references or content files that are compatible with that 
framework. For more information, contact the package author 
```

*SharpZipLib 是 Lucene.Net 的依赖项

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-30T08:05:07.487

我会警告说，我不知道这是否真的有效，但它可能会有希望。

SQLite 具有全文搜索 (FTS)，Windows RT 支持 SQLite。[This article](http://www.sqlite.org/fts3.html#section_2)似乎表明默认情况下未打开全文搜索，因此需要重新编译。这也假定 Windows RT 也支持（FTS + 重新编译）带来的任何其他依赖项。

[Tim Heuer 的博客](http://timheuer.com)是关于使用 Windows 8 应用程序的 SQLite 的优秀资源，他有这篇关于[如何编译 SQLite](http://timheuer.com/blog/archive/2012/06/05/howto-video-using-sqlite-in-metro-style-app.aspx)的帖子（在它被很好地打包为扩展之前），所以值得一试。

# objective-c - 错误：--FigCreateCGImageFromJPEG 返回 -12910。49152 字节

> ID：13619191
> 
> 赞同：2
> 
> 时间：2012-11-29T05:06:10.227
> 
> 标签：objective-c

当我在设备中运行程序并且它崩溃时，我遇到了上述错误，而它在模拟器中运行良好，我正在使用资产库加载图像并在滚动视图中显示。这是我的代码::

-

```
(void)usingAssets{
    x=0;
    y=0;
    w=320;
    h=460;

   void (^assetEnumerator)( ALAsset *, NSUInteger, BOOL *) = ^(ALAsset *result, NSUInteger index, BOOL *stop) {

        if(result != NULL) {
             [app hideLoading];

            [assets addObject:result];
            NSLog(@"assets count: %i", assets.count);

            NSString *assetType = [result valueForProperty:ALAssetPropertyType];
            if ([assetType isEqualToString:ALAssetTypePhoto]) {
                NSLog(@"Photo Asset");

                [self success];
            }

        }
        else {
            [app hideLoading];
            NSLog(@"AssetEnum: result nil or end of list");
        }

   };

    void (^assetGroupEnumerator)( ALAssetsGroup *, BOOL *) =  ^(ALAssetsGroup *group, BOOL *stop) {

        if(group != nil) {
            [group enumerateAssetsUsingBlock:assetEnumerator];
        }
        else {
            NSLog(@"GroupEnum: group nil or end of list..");
        }

        [assets retain];

    };

    ALAssetsLibrary* library = [[ALAssetsLibrary alloc] init];

    [library enumerateGroupsWithTypes:ALAssetsGroupSavedPhotos 
                           usingBlock:assetGroupEnumerator
                         failureBlock: ^(NSError *error) {
                             NSLog(@"Failure: %@", error.description);
                         }];
   // [library release];

    isVisited=YES;
}

-(void)success{

    dispatch_async(dispatch_get_main_queue(), ^(void){

        for(int i=0;i<[assets count];i++){
            asset = [assets objectAtIndex:i];
            UIImage *images = [UIImage imageWithCGImage:[[asset defaultRepresentation] fullScreenImage] scale:1.0 orientation:[[asset valueForProperty:@"ALAssetPropertyOrientation"] intValue]];
                       imageview =[[UIImageView alloc]init];

            imageview.frame=CGRectMake(x, y, w, h);

            [imageview setImage:images];

            [scrollview addSubview:imageview];

            x = x  + w ;

        }

    });

}

#pragma mark:----scroll view methods

- (void)scrollViewDidScroll:(UIScrollView *)scrollView
{
    CGPoint scrollOffset=scrollView.contentOffset;

    ///at any time, it will have only 3 pages loaded- previous, current and next
    if(pageno < ((int)scrollOffset.x/320))
    {
        //unload
        if(pageno>1)[self unloadPreviousPage:pageno-2];

        //load the next page
        [self loadScrollViewWithPage:((int)scrollOffset.x/320)+1];
    }
    else if(pageno > ((int)scrollOffset.x/320))
    {
        //unload
        if(pageno<(kNumberOfPages-2))[self unloadPreviousPage:pageno+2];

        //load back the previous page
        [self loadScrollViewWithPage:((int)scrollOffset.x/320)-1];
    }

    pageno=scrollOffset.x/320;
}

-(void)unloadPreviousPage:(int)index
{

    for(int i=index*4;i<(index+1)*4;i++)
    {
        [[scrollview viewWithTag:i+1] removeFromSuperview];

    }

}

- (void)loadScrollViewWithPage:(int)page {
    if (page < 0)
        return;
    if (page >= kNumberOfPages)
        return;

        pageno=page;
    pgControl.currentPage=pageno-1;

    if(isVisited==NO){
    [NSThread detachNewThreadSelector:@selector(usingAssets) toTarget:self withObject:nil];
        assets = [[NSMutableArray alloc] init];
    for (ALAsset* a in assets){
        NSLog(@"Item in asset");
    }

    }

} 
```

请纠正我哪里出错了。另外我想使用延迟加载加载图像，因为它首先迭代所有图像，然后在滚动视图中显示，因此当有大量图像时需要更多时间。另外，如果有任何其他链接，那么请发布它。感谢您提前回复。

# lua - Lua 中的贪婪/非贪婪模式匹配和可选后缀

> ID：13619193
> 
> 赞同：17
> 
> 时间：2012-11-29T05:06:26.520
> 
> 标签：lua

在 Lua 中，我正在尝试进行模式匹配和捕获：

```
+384 Critical Strike (Reforged from Parry Chance) 
```

作为

```
(+384) (Critical Strike) 
```

其中后缀`(Reforged from %s)`是可选的。

## 长版

我正在尝试使用[*模式*](http://www.lua.org/manual/5.1/manual.html#5.4)[匹配Lua中的字符串（即）*`strfind`*](http://www.lua.org/manual/5.1/manual.html#5.4)

 *> **注意**：在 Lua 中，他们不称它们为*正则表达式*，而是称它们为*模式*，因为它们不是[正则](http://en.wikipedia.org/wiki/Regular_expression)的。

示例字符串：

```
+384 Critical Strike
+1128 Hit 
```

这分为我要捕获的两个部分：

![在此处输入图像描述](../Images/f89ef433016515ff192dc1aebed9dc02.png)

*   *数字*，带有领先的正或负指示符；他的情况是`+384`
*   *字符串*，在这种情况下是`Critical Strike`。

我可以使用一个相当简单的*模式*来捕获这些：

![在此处输入图像描述](../Images/36671edd85476135b10caf92f8639322.png)

lua 中的这种模式有效：

```
local text = "+384 Critical Strike";
local pattern = "([%+%-]%d+) (.+)";
local _, _, value, stat = strfind(text, pattern); 
```

*   价值 =`+384`
*   统计 =`Critical Strike`

## 棘手的部分

[现在](http://us.battle.net/wow/en/blog/7922040)我需要扩展该~~*正则表达式*~~ *模式*以包含一个*可选*的后缀：

```
+384 Critical Strike (Reforged from Parry Chance) 
```

其中分为：

![在此处输入图像描述](../Images/35a0735feb19b0cebb2b17ffc8eb44f8.png)

**注意：**我并不*特别*关心可选的尾随后缀；这意味着我不需要*捕获*它，虽然捕获它会很方便。

这就是我开始解决贪婪捕获问题的地方。我已经拥有的模式立即做了我不希望它做的事情：

*   模式 =`([%+%-]%d+) (.+)`
*   价值 =`+384`
*   统计 =`Critical Strike (Reforged from Parry Chance)`

但是让我们尝试在模式中包含后缀：

![在此处输入图像描述](../Images/4d7387c84fa1eecabe81d3849b8b2253.png)

与模式：

```
pattern = "([%+%-]%d+) (.+)( %(Reforged from .+%))?" 
```

而且我正在使用`?`运算符来指示后缀`0`的`1`外观，但不匹配**任何内容**。

我*盲目地*尝试将可选的后缀组从括号更改`(`为括号`[`：

```
pattern = "([%+%-]%d+) (.+)[ %(Reforged from .+%)]?" 
```

但是现在比赛又变得贪婪了：

*   价值 =`+384`
*   统计 =`Critical Strike (Reforged from Parry Chance)`

基于[Lua*模式*参考](http://www.lua.org/manual/5.1/manual.html#5.4)）：

> *   ***x***：（其中 x 不是魔术字符之一 ^$()%.[]*+-?）表示字符 x 本身。
> *   **.** :（一个点）代表所有字符。
> *   **%a**：代表所有字母。
> *   **%c**：代表所有控制字符。
> *   **%d**：代表所有数字。
> *   **%l** : 代表所有小写字母。
> *   **%p** : 代表所有标点符号。
> *   **%s**：代表所有空格字符。
> *   **%u**：代表所有大写字母。
> *   **%w**：代表所有字母数字字符。
> *   **%x**：代表所有十六进制数字。
> *   **%z** : 表示表示为 0 的字符。
> *   **%x**：（其中 x 是任何非字母数字字符）表示字符 x。这是逃脱魔法角色的标准方法。任何标点符号（即使是非魔法字符）在用于在模式中表示自身时都可以在前面加上“%”。
> *   **[set]**：表示集合中所有字符并集的类。可以通过用“-”分隔范围的结束字符来指定字符范围。上面描述的所有类 %x 也可以用作集合中的组件。集合中的所有其他角色都代表他们自己。例如，[%w_]（或[_%w]）表示所有字母数字字符加下划线，[0-7]表示八进制数字，[0-7%l%-]表示八进制数字加小写字母加上“-”字符。范围和类之间的交互没有定义。因此，像 [%az] 或 [a-%%] 这样的模式没有意义。
> *   **[^set]**：表示 set 的补集，其中 set 解释如上。
> 
> 对于所有由单个字母（%a、%c 等）表示的类，对应的大写字母代表类的补码。例如，%S 代表所有非空格字符。
> 
> 字母、空格和其他字符组的定义取决于当前的语言环境。特别是，类 [az] 可能不等同于 %l。

和魔法匹配器：

*   **`*`**，它匹配类中的 0 个或多个重复字符。这些重复项将始终匹配最长的可能序列；
*   **`+`**，它匹配类中的 1 个或多个重复字符。这些重复项将始终匹配最长的可能序列；
*   **`-`**，它也匹配类中的 0 个或多个重复字符。与 '*' 不同，这些重复项将始终匹配最短的可能序列；
*   **`?`**，匹配类中出现的 0 或 1 个字符；

我注意到有一个*greedy* `*`和一个*non-greedy* `-`修饰符。由于我的中间字符串匹配器：

```
(%d) (%s) (%s) 
```

似乎直到最后都在吸收文本，也许我应该尝试通过将其更改为 a来使其*不贪婪*：`*``-`

```
oldPattern = "([%+%-]%d+) (.*)[ %(Reforged from .+%)]?"
newPattern = "([%+%-]%d+) (.-)[ %(Reforged from .+%)]?" 
```

除了现在它不匹配：

*   价值 =`+384`
*   统计 =*无*

而不是中间组捕获*“任何”*字符（即**`.`**），我尝试了一个包含*除* **`(`**以下所有内容的集合：

```
pattern = "([%+%-]%d+) ([^%(]*)( %(Reforged from .+%))?" 
```

车轮从那里脱离了马车：

```
local pattern = "([%+%-]%d+) ([^%(]*)( %(Reforged from .+%))?"
local pattern = "([%+%-]%d+) ((^%()*)( %(Reforged from .+%))?"
local pattern = "([%+%-]%d+) (%a )+)[ %(Reforged from .+%)]?" 
```

我以为我很接近：

```
local pattern = "([%+%-]%d+) ([%a ]+)[ %(Reforged from .+%)]?" 
```

捕获

```
- value = "+385"
- stat = "Critical Strike "  (notice the trailing space) 
```

所以这就是我把头撞在枕头上睡觉的地方；我不敢相信我在这个正则表达式上花了四个小时......*模式*。

* * *

@NicolBolas 使用伪正则表达式语言定义的所有可能字符串的集合是：

```
+%d %s (Reforged from %s) 
```

在哪里

*   **`+`**表示[加号 ( `+`)](http://www.fileformat.info/info/unicode/char/002b/index.htm)或[“减号” ( `-`)](http://www.fileformat.info/info/unicode/char/2d/index.htm)
*   **`%d`**表示任何拉丁数字字符（例如`0..9`）
*   **`%s`**表示任何拉丁大写或小写字母，或嵌入的空格（例如`A-Za-z`）
*   其余字符是文字​​。

如果我必须编写一个显然试图做我想做的事情的正则表达式：

```
\+\-\d+ [\w\s]+( \(Reforged from [\w\s]+\))? 
```

但是如果我解释得不够好，我可以给你几乎完整的列表，列出我在野外可能遇到的所有值。

*   `+123 Parry` *正数，单字*
*   `+123 Critical Strike` *正数，两个字*
*   `-123 Parry` *负数，单字*
*   `-123 Critical Strike` *负数，两个字*
*   `+123 Parry (Reforged from Dodge)` *正数，单个单词，可选后缀与单个单词一起出现*
*   `+123 Critical Strike (Reforged from Dodge)` *正数，两个单词，可选后缀，两个单词*
*   `-123 Parry (Reforged from Hit Chance)` *负数，单个单词，可选后缀，带有两个单词*
*   `-123 Critical Strike (Reforged from Hit Chance)` *负数，两个单词，可选后缀，两个单词*

有一些**奖励**模式看起来很明显这些模式也会匹配：

*   `+1234 Critical Strike Chance` *四位数字，三个字*
*   `+12345 Mount and run speed increase` *五位数字，五个字*
*   `+123456 Mount and run speed increase` *六位数字，五个字*
*   `-1 MoUnT aNd RuN sPeEd InCrEaSe` *一位数字，五个字*
*   `-1 HiT (Reforged from CrItIcAl StRiKe ChAnCe)` *负的一位数字，一个单词，可选的后缀存在 3 个单词*

虽然理想的模式*应该*与上述奖励条目相匹配，但并非*必须*如此。

## 本土化

实际上，我试图解析的所有*“数字”都将被本地化，例如：*

*   `+123,456`英语（en-US）
*   `+123.456`在德国 (de-DE)
*   `+123'456`法语 (fr-CA)
*   `+123 456`爱沙尼亚语 (et-EE)
*   `+1,23,456`阿萨姆语 (as-IN)

任何答案**都不得**试图解释这些本地化问题。您不知道将显示数字的区域设置，这就是为什么从问题中删除了数字本地化的原因。您**必须**严格假设数字包含`plus sign`,`hyphen minus`和 拉丁数字`0`到`9`. 我已经知道如何解析本地化数字。这个问题是关于尝试将可选后缀与贪婪模式解析器匹配。

**编辑**：您真的不必尝试处理本地化号码。在某种程度上试图在不知道语言环境的情况下处理它们是错误的。例如，我没有包括所有可能的数字本地化。另一方面：我不知道未来可能存在哪些本地化。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-11-29T06:39:25.147

嗯，我没有安装 Lua4，但这种模式在 Lua5 下有效。我希望它也适用于 Lua4。

**更新 1**：由于已指定附加要求（本地化），我已调整模式和测试以反映这些要求。

**更新 2**：更新了模式和测试以处理包含@IanBoyd 在评论中提到的数字的附加文本类。添加了对字符串模式的解释。

**更新 3**：添加了针对问题的最后更新中提到的单独处理本地化号码的情况的变体。

尝试：

```
"(([%+%-][',%.%d%s]-[%d]+)%s*([%a]+[^%(^%)]+[%a]+)%s*(%(?[%a%s]*%)?))" 
```

或（不尝试验证数字本地化标记） - 只需在模式末尾使用不是带有数字标记的字母的任何内容：

```
"(([%+%-][^%a]-[%d]+)%s*([%a]+[^%(^%)]+[%a]+)%s*(%(?[%a%s]*%)?))" 
```

上述两种模式都不是为了处理科学记数法中的数字（例如：1.23e+10）

Lua5 测试（编辑清理 - 测试变得混乱）：

```
function test(tab, pattern)
   for i,v in ipairs(tab) do
     local f1, f2, f3, f4 = v:match(pattern)
     print(string.format("Test{%d} - Whole:{%s}\nFirst:{%s}\nSecond:{%s}\nThird:{%s}\n",i, f1, f2, f3, f4))
   end
 end

 local pattern = "(([%+%-][',%.%d%s]-[%d]+)%s*([%a]+[^%(^%)]+[%a]+)%s*(%(?[%a%s]*%)?))"
 local testing = {"+123 Parry",
   "+123 Critical Strike",
   "-123 Parry",
   "-123 Critical Strike",
   "+123 Parry (Reforged from Dodge)",
   "+123 Critical Strike (Reforged from Dodge)",
   "-123 Parry (Reforged from Hit Chance)",
   "-123 Critical Strike (Reforged from Hit Chance)",
   "+122384    Critical    Strike      (Reforged from parry chance)",
   "+384 Critical Strike ",
   "+384Critical Strike (Reforged from parry chance)",
   "+1234 Critical Strike Chance (Reforged from CrItIcAl StRiKe ChAnCe)",
   "+12345 Mount and run speed increase (Reforged from CrItIcAl StRiKe ChAnCe)",
   "+123456 Mount and run speed increase (Reforged from CrItIcAl StRiKe ChAnCe)",
   "-1 MoUnT aNd RuN sPeEd InCrEaSe (Reforged from CrItIcAl StRiKe ChAnCe)",
   "-1 HiT (Reforged from CrItIcAl StRiKe ChAnCe)",
   "+123,456 +1234 Critical Strike Chance (Reforged from CrItIcAl StRiKe ChAnCe)",
   "+123.456 Critical Strike Chance (Reforged from CrItIcAl StRiKe ChAnCe)",
   "+123'456 Critical Strike Chance (Reforged from CrItIcAl StRiKe ChAnCe)",
   "+123 456 Critical Strike Chance (Reforged from CrItIcAl StRiKe ChAnCe)",
   "+1,23,456 Critical Strike Chance (Reforged from CrItIcAl StRiKe ChAnCe)",
   "+9 mana every 5 sec",
   "-9 mana every 20 min (Does not occurr in data but gets captured if there)"}
 test(testing, pattern) 
```

以下是模式的细分：

```
local explainPattern =  
   "(" -- start whole string capture
   ..
   --[[
   capture localized number with sign - 
   take at first as few digits and separators as you can 
   ensuring the capture ends with at least 1 digit
   (the last digit is our sentinel enforcing the boundary)]]
   "([%+%-][',%.%d%s]-[%d]+)" 
   ..
   --[[
   gobble as much space as you can]]
   "%s*"
   ..
   --[[
   capture start with letters, followed by anything which is not a bracket 
   ending with at least 1 letter]]
   "([%a]+[^%(^%)]+[%a]+)"
   ..
   --[[
   gobble as much space as you can]]
   "%s*"
   ..
   --[[
   capture an optional bracket
   followed by 0 or more letters and spaces
   ending with an optional bracket]]
   "(%(?[%a%s]*%)?)"
   .. 
   ")" -- end whole string capture 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-29T06:05:06.450

当您可以使用多个模式时，为什么要在*一个*模式中解析呢？

首先，获取号码：

```
local num, rest = string.match(test_string, "([%+%-]?%d+)%S*(.+)") 
```

然后制作一个表格，列出命中类型的可能性。

```
local hitTypes =
{
  "Hit",
  "Critical Strike",
  -- Insert more.
} 
```

现在，遍历列表，对每一个进行测试。

```
local hitIndex = nil
local reforge = nil

for i, htype in ipairs(hitTypes) do
  local final = string.match(rest, htype .. "%S*(.*)")
  if(final) then
    hitIndex = i
    reforge = string.match(final, "%(Reforged from (.+)%)")
  end
end 
```

Lua 模式是有限的，所以最好使用实际代码来避免它们的限制。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2019-05-29T22:31:11.970

简单多了，不只是匹配模式，可以直接找短输出到你需要的字符串，就可以使用了`string.gsub`

例子：

```
local testing = {"+123 Parry",
"+123 Critical Strike",
"-123 Parry",
"-123 Critical Strike",
"+123 Parry (Reforged from Dodge)",
"+123 Critical Strike (Reforged from Dodge)",
"-123 Parry (Reforged from Hit Chance)",
"-123 Critical Strike (Reforged from Hit Chance)",
"+122384    Critical    Strike      (Reforged from parry chance)",
"+384 Critical Strike ",
"+384Critical Strike (Reforged from parry chance)",
"+1234 Critical Strike Chance (Reforged from CrItIcAl StRiKe ChAnCe)",
"+12345 Mount and run speed increase (Reforged from CrItIcAl StRiKe ChAnCe)",
"+123456 Mount and run speed increase (Reforged from CrItIcAl StRiKe ChAnCe)",
"-1 MoUnT aNd RuN sPeEd InCrEaSe (Reforged from CrItIcAl StRiKe ChAnCe)",
"-1 HiT (Reforged from CrItIcAl StRiKe ChAnCe)",
"+123,456 +1234 Critical Strike Chance (Reforged from CrItIcAl StRiKe ChAnCe)",
"+123.456 Critical Strike Chance (Reforged from CrItIcAl StRiKe ChAnCe)",
"+123'456 Critical Strike Chance (Reforged from CrItIcAl StRiKe ChAnCe)",
"+123 456 Critical Strike Chance (Reforged from CrItIcAl StRiKe ChAnCe)",
"+1,23,456 Critical Strike Chance (Reforged from CrItIcAl StRiKe ChAnCe)",
"+9 mana every 5 sec",
"-9 mana every 20 min (Does not occurr in data but gets captured if there)"}

for k,v in ipairs(testing) do
  local result = string.gsub(v, "([%+%-][',%.%d%s]-[%+%d]+)%s*([%a]+[^%(^%)]+[%a]+)%s*(%(?[%a%s]*%)?)", '(%1) (%2) %3')
  print(result)
end 
```

**输出**

> ```
> (+123) (Parry) 
> (+123) (Critical Strike) 
> (-123) (Parry) 
> (-123) (Critical Strike) 
> (+123) (Parry) (Reforged from Dodge)
> (+123) (Critical Strike) (Reforged from Dodge)
> (-123) (Parry) (Reforged from Hit Chance)
> (-123) (Critical Strike) (Reforged from Hit Chance)
> (+122384) (Critical    Strike) (Reforged from parry chance)
> (+384) (Critical Strike) 
> (+384) (Critical Strike) (Reforged from parry chance)
> (+1234) (Critical Strike Chance) (Reforged from CrItIcAl StRiKe ChAnCe)
> (+12345) (Mount and run speed increase) (Reforged from CrItIcAl StRiKe ChAnCe)
> (+123456) (Mount and run speed increase) (Reforged from CrItIcAl StRiKe ChAnCe)
> (-1) (MoUnT aNd RuN sPeEd InCrEaSe) (Reforged from CrItIcAl StRiKe ChAnCe)
> (-1) (HiT) (Reforged from CrItIcAl StRiKe ChAnCe)
> (+123,456 +1234) (Critical Strike Chance) (Reforged from CrItIcAl StRiKe ChAnCe)
> (+123.456) (Critical Strike Chance) (Reforged from CrItIcAl StRiKe ChAnCe)
> (+123'456) (Critical Strike Chance) (Reforged from CrItIcAl StRiKe ChAnCe)
> (+123 456) (Critical Strike Chance) (Reforged from CrItIcAl StRiKe ChAnCe)
> (+1,23,456) (Critical Strike Chance) (Reforged from CrItIcAl StRiKe ChAnCe)
> (+9) (mana every 5 sec) 
> (-9) (mana every 20 min) (Does not occurr in data but gets captured if there) 
> ```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-29T06:10:11.473

```
function match_some_stat_thing(str)
    local sign, amount, label, note = string.match(str.."()", "^([%+%-])(%d+) ([%a ]-) ?(%b())")
    return sign == "+" and amount or -amount, label, string.match(note, "%((.*)%)")
end
print(string.format("%d %q %q", match_some_stat_thing("+384 Critical Strike (Reforged from Parry Chance)")))
print(string.format("%d %q %q", match_some_stat_thing("+384 Critical Strike")))
print(string.format("%d %q %q", match_some_stat_thing("+384 Critical Strike "))) 
```

不是一个单一的模式，但它的工作原理。*

# ruby-on-rails - rails 制动器命令 sql 注入

> ID：13619195
> 
> 赞同：5
> 
> 时间：2012-11-29T05:06:31.570
> 
> 标签：ruby-on-rails, ruby-on-rails-3, brakeman

从参数构造订单方法时，如何避免 Rails 中的刹车警告？

```
def index
  @methods = [:name, :manager, :deadline]
  assignments = Assignment.order(sort_column(@methods) + " " + sort_direction).received(current_user).root
end

def sort_column(column_names)
  column_names.each do |column|
    return column if column == params[:sort]
  end
  return 'updated_at'
end

def sort_direction
  params[:direction] == 'asc' ? 'asc' : 'desc'
end 
```

我正在努力避免将用户生成的代码直接放入查询中，但制动器仍然警告（中等可信度）这是一个 SQL 注入漏洞。

这是误报吗？如果没有，我该如何纠正这个漏洞？

如果是这样，有没有一种简单的方法可以避免误报？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-12-01T16:54:58.233

好的，评论太长了。

根据我的测试，将字符串构建移动到这样的方法中确实会使警告消失：

```
def index
  @methods = [:name, :manager, :deadline]
  assignments = Assignment.order(sort_order).received(current_user).root
end

def sort_order
  sort_column(@methods) + " " + sort_direction
end 
```

然而，这只是隐藏了问题。我建议在`Assignment`模型中添加这样的东西：

```
class Assignment < ActiveRecord::Base

  def self.sorted_by(column, direction)
    direction = direction.downcase == 'asc' ? 'asc' : 'desc'
    column = sanitize_sql(column)
    order("#{column} #{direction}")
  end

end 
```

请记住，有时您必须在保持工具满意和保持代码合理之间做出选择。至于误报，我认为这个特定问题没有得到解决，因为检查`sort_column`并知道它是安全的并不容易。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-11-29T07:28:40.923

您可以在 order by 子句中添加 sanitize 方法

```
 assignments = Assignment.order(ActiveRecord::Base::sanitize(sort_column(@methods) + " " + sort_direction)).received(current_user).root 
```

# java - Jstl 遍历列表

> ID：13619197
> 
> 赞同：2
> 
> 时间：2012-11-29T05:06:36.173
> 
> 标签：java, jsp, jstl

我正在尝试遍历列表并尝试将值打印为：

```
<jsp:useBean class="com.lftechnology.db.EmployeeDaoImpl" id="empImpl"></jsp:useBean>
<jsp:useBean class="com.lftechnology.employee.Employee" id="employee"></jsp:useBean>

<%
List<com.lftechnology.employee.Employee> empList = null; 
empList = empImpl.getAllEmployee();
out.println(empList.size());
%>

<c:forEach items="${empList}" var="element"> 
  <tr>
    <td>${element.name}</td>
    <td><c:out value="${element.name}" /></td>
     </tr>
</c:forEach> 
```

但是，只打印列表的大小，而不是`name`jstl 中定义的大小。有什么帮助吗？我想打印`employee`对象的所有属性。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-29T05:14:27.200

你为什么要使用scriptlet？像这样的东西应该可以工作（我无法测试）：

```
<jsp:useBean class="com.lftechnology.db.EmployeeDaoImpl" id="empImpl"></jsp:useBean>

<c:forEach items="${empImpl.allEmployee}" var="element"> 
  <tr>
    <td>${element.name}</td>
    <td><c:out value="${element.name}" /></td>
  </tr>
</c:forEach> 
```

**一些背景**

仅在 scriptlet 中声明一个变量并不会自动使其可用于 JSTL 运行时。事实上，JSTL 是`pageContext`在运行时由容器注入到每个 JSP 中的。因此，如果您确实需要在 scriptlet 中声明一个变量并希望将其提供给 JSTL，您必须明确地执行此操作：

```
<%
List<String> stuff = new ArrayList<String>();
request.setAttribute("mystuff", stuff);
%>

<c:out value="${mystuff" /> 
```

# java - 缓存的可用性

> ID：13619200
> 
> 赞同：0
> 
> 时间：2012-11-29T05:07:15.573
> 
> 标签：java, caching, concurrency, map

**`HashMap`**在我的应用程序中，我以**`key-value`**从数据库中获取缓存的形式构建缓存。
现在我必须在这个缓存中添加一些东西，这里我正在做的是更新或将这个新值插入数据库并刷新缓存，以便它应该由更新的数据库填充。
现在我正在做的是 -
**1.** 我正在使用两个**`Maps`**，**`cache1`**所以**`cache2`**当一个缓存正在使用时，另一个将是一个空缓存
**2.**当我想刷新缓存时，我开始填充空缓存，当它完成时我清除较早的缓存。
**3.**所有数据都将由这个新的缓存给出。
*我只想知道我的方法是否可行，或者我可以做任何其他更有成效和效率的事情。*因为我觉得我不需要两张地图来做到这一点，但我认为如果我只使用一张地图会影响数据的准确性。

**编辑：**
在回答之前，您需要了解有关该应用程序的一些信息。
1\. 数据既不大也不小。
2\. 从数据库填充缓存大约需要 2-3 分钟。
3\. 刷新频率不高，一天只需要一两次。
4\. 应用程序24小时运行（每天早上重启一次服务器）

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-29T05:50:24.883

您可以尝试的是 EHCache，在这里您可以找到一个示例：[ehcache](https://stackoverflow.com/questions/6214105/hello-world-example-for-ehcache)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-29T06:21:39.580

此外，如果您想实现一个简单的缓存，您可以使用 SoftReference。这是一种比使用 HashMap 更好的实现缓存的方法。

当您存储对 HashMap 的引用时，它会存储对对象的强引用，并且当您将对象设置为 时`null`，它仍然不会被垃圾收集，因为映射中有对它的强引用。

有关缓存的更多信息，这里有一个很好的链接： [基于 SoftReference 的缓存](http://www.java2s.com/Code/Java/Collections-Data-Structure/CachebasedonSoftReference.htm)

# regex - awk：如果不为零则替换第二列

> ID：13619204
> 
> 赞同：4
> 
> 时间：2012-11-29T05:07:37.647
> 
> 标签：regex, unix, if-statement, awk

我正在尝试使用`awk`检查三列数据集的第二列，如果它不为零则替换它的值。我找到了[这个正则表达式](https://stackoverflow.com/questions/9081130/regular-expression-not-to-allow-zero)来查找非零数字，但我不知道如何结合`gsub`替换`print`内容并将其输出到新文件。我只想`gsub`在第二列上运行，而不是第一列或第三列。是否有一个简单`awk`的单线来做到这一点？还是我正在考虑做一些更复杂的事情？我什至尝试过做一个表达式来检查零，但我不确定如何在`awk`.

我半成功的命令是：

`awk '$2 != 0 {print $1, 1, $3}' input > output`

问题是如果第二列为零，它不会打印出该行。这是我认为`gsub`if/else 语句可以工作的地方，但我无法弄清楚`awk`语法。对此的任何指导将不胜感激。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-11-29T05:19:09.120

请记住，在 awk 中，任何不是 0 的东西都是真的（尽管任何不是“0”的字符串也是真的）。所以：

```
awk '$2 { $2 = 1; print }' input > output 
```

`$2`如果不是 ，则评估为true `0`。其余的很明显。这会复制您的脚本。

如果要打印所有行，包括 $2 中的零，我会这样做：

```
awk '$2 { $2 = 1 } 1' input > output 
```

这与上面的替换相同，但`1`最后是“真”的简写。如果没有语句，`{print}`则运行默认语句。

这是你要找的吗？

实际上，它看起来像这样：

```
[ghoti@pc ~]$ printf 'none 0 nada\none 1 uno\ntwo 2 tvo\n'
none 0 nada
one 1 uno
two 2 tvo
[ghoti@pc ~]$ printf 'none 0 nada\none 1 uno\ntwo 2 tvo\n' | awk '$2 { $2 = 1 } 1'      
none 0 nada
one 1 uno
two 1 tvo
[ghoti@pc ~]$ 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-11-29T05:11:50.940

这是你想要的吗？

```
awk '$2 != 0 {print $1, 1, $3} $2 == 0 {print}' input > output 
```

或使用 sed：

```
sed 's/\([^ ]*\) [0-9]*[1-9][0-9]* /\1 1 /' input > output 
```

# java - 这是一个有效的 SQLite 查询吗

> ID：13619206
> 
> 赞同：3
> 
> 时间：2012-11-29T05:07:38.207
> 
> 标签：java, android, mysql, sql, sqlite

我有：

```
String sqlite = "SELECT count(_id) AS _lCount FROM answers WHERE phase = 3 and correct_incorrect='1' 
```

作为查询，但我需要正确的不正确列也考虑到“1 *”

这是一种有效的解释方法吗？

```
String sqlite = "SELECT count(_id) AS _lCount FROM answers WHERE phase = 3 and correct_incorrect='1'or'1*' 
```

我会测试它，但“1*”的可能性很少，需要几个小时的测试。所以我想确保我不只是在浪费时间。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-11-29T05:18:13.983

尝试使用`IN`

```
String sqlite = "SELECT count(_id) AS _lCount FROM answers WHERE phase = 3 and correct_incorrect IN ('1','1*')" 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-29T05:09:21.280

据我所知，它应该是这样的：

```
String sqlite = "SELECT count(_id) AS _lCount FROM answers WHERE phase = 3 and (correct_incorrect='1' or correct_incorrect = '1*') 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-29T05:22:18.773

由于这里给出了许多查询，但我认为 '1' 会出现在 '1*' 中

```
String sqlite = "SELECT count(_id) AS _lCount FROM answers WHERE phase = 3 and correct_incorrect like '1*'"; 
```

这个查询呢？

# php - iOS6存折通过Apns_PHP更新推送通知不播放声音，与手机设置无关

> ID：13619207
> 
> 赞同：1
> 
> 时间：2012-11-29T05:07:39.067
> 
> 标签：php, ios6, apple-push-notifications, passbook

我正在测试`ApnsPHP_Push`示例文档中指示的对象。APNS 通知到达设备，但我无法听到声音，无论我如何使用 setSound(); 配置消息；

我试过了：

*   不调用 setSound();
*   调用 setSound();
*   调用 setSound('default'); - 调用 setSound('chimes');

我还研究了 2 部不同 iPhone 的设置，启用和禁用通知设置中的替代方案，但没有成功。通行证是否可能需要一些可能缺少的配置来启用声音通知，或者，例如，在这种情况下，优惠券通行证无法接收声音通知？

我在 iPhone 3GS 上使用最新版本的 iOS 6.0.1。

谢谢！

附录：我收到了来自[Apple 开发者论坛的回复](https://devforums.apple.com)

“通过推送通知与 App 推送通知不同，推送仅作为通知通知设备联系 webServiceURL 并请求发送更新的传递。应用推送包含新数据的有效负载，当推到了。

根据文档，您的推送应该包含一个空的有效负载 - 您的声音很可能被设备忽略。最好的办法是提交功能请求，以查看未来版本是否支持声音，但就目前而言，无法触发声音进行通行证更新。”

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-08T14:25:39.283

我在 Apple Dev Forums 上写了这篇文章，它仍然是最新的 6.1 beta 版本。

您无法触发存折通行证的声音警报。

# html - 如何从右侧的 Sprite 显示外部链接图标

> ID：13619209
> 
> 赞同：2
> 
> 时间：2012-11-29T05:07:42.570
> 
> 标签：html, css, background, css-sprites

如何在精灵的链接文本的右侧显示外部链接图标？

**使用 :after psudo 进行**编辑：****

 **```
a.external:after {
    width:12px;
    height:12px;
    content:url(../img/icons/ico_sprite.png) no-repeat -985px -3px;
} 
```

这会在链接后加载精灵，但不会裁剪为所需的图标。任何更多的额外线索将非常有帮助....

我的 HTML：

```
<a class="external_ico" href="">myLink</a> 
```

和 CSS：

```
a.external_ico {
    width:12px;
    height:12px;
    background: url(../img/icons/ico_sprite.png) no-repeat -985px -3px;
} 
```

显示：

> [>]我的链接

但我需要的是：

> 我的链接 [>]

我也试过这个CSS：

```
a.external_ico {
    width:12px;
    height:12px;
    background: url(../img/icons/ico_sprite.png) center right no-repeat -985px -3px;
} 
```

但显示：

> 我的链接

如果我没有从精灵中获取图标，我没有问题，但我有很多图标，并且想从精灵中获取这个图标。任何帮助，将不胜感激。谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-29T10:04:52.933

只需在`a`元素的右侧添加一个填充

```
a.external_ico {
    padding-right: 12px;
    background: url('http://www.placehold.it/12x12') center right no-repeat;
}​ 
```

[http://jsfiddle.net/DoubleYo/S2meu/](http://jsfiddle.net/DoubleYo/S2meu/)**

# iphone - iPad 触摸仅在 320x480 边界内注册

> ID：13619210
> 
> 赞同：0
> 
> 时间：2012-11-29T05:07:43.667
> 
> 标签：iphone, objective-c, ios, ipad, cocoa-touch

（这个问题类似于：[iPad touch detected only in 320x480 region](https://stackoverflow.com/questions/2653761/ipad-touch-detected-only-in-320x480-region)，但该问题的答案来自 2010 年并且已过时）

在我的应用程序中，我添加了 iPad 支持，并且该应用程序在 ViewController_iPad.xib 中运行良好，但是当我像这样添加另一个类时：

（objMainMenu 是 ViewController 的一个属性）

```
//iPhone
if (objMainMenu == nil && UI_USER_INTERFACE_IDIOM() == UIUserInterfaceIdiomPhone)
    objMainMenu = [[MainMenuClass alloc] initWithNibName: @"MainMenuClass"  bundle:nil];
//iPad
if (objMainMenu == nil && UI_USER_INTERFACE_IDIOM() == UIUserInterfaceIdiomPad)
    objMainMenu = [[MainMenuClass alloc] initWithNibName: @"MainMenuClass_iPad" bundle:nil];

objMainMenu.delegate = self;
[self.view addSubview: objMainMenu.view]; 
```

...它只记录 320 x 480 边界内的触摸。有什么建议么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-29T09:06:15.740

您链接的问题中的答案并没有因为它们已经过时而过时。在您的窗口上设置“启动时全屏”应该可以工作。

# ios - iOS Facebook SDK 3.1 openActiveSessionWithReadPermissions：检测用户何时未授予访问权限

> ID：13619214
> 
> 赞同：4
> 
> 时间：2012-11-29T05:07:57.457
> 
> 标签：ios, facebook, facebook-graph-api, social-framework

我需要知道在 openActiveSessionWithReadPermissions 执行期间用户何时未授予 Facebook 访问我的应用程序的权限。（未授予意味着在设置->Facebook->我的应用程序下将开关设置为“关闭”。）

这是未授予时的错误：

> 错误域=com.facebook.sdk 代码=2“操作无法完成。（com.facebook.sdk 错误 2。）”UserInfo=0x1fd46780 {com.facebook.sdk:ErrorLoginFailedReason=com.facebook.sdk:ErrorLoginFailedReason }

为了比较，这里是没有网络的错误：

> 错误域=com.facebook.sdk 代码=2“操作无法完成。（com.facebook.sdk 错误 2。）”UserInfo=0x1edf2eb0 {com.facebook.sdk:ErrorLoginFailedReason=com.facebook.sdk:ErrorLoginFailedReason , com.facebook.sdk:ErrorInnerErrorKey=错误域=NSURLErrorDomain 代码=-1009 "Internet 连接似乎处于脱机状态。" UserInfo=0x1ed47a20 {NSErrorFailingURLKey=https://api.facebook.com/method/auth.iosauthorizeapp, NSErrorFailingURLStringKey=https://api.facebook.com/method/auth.iosauthorizeapp, NSLocalizedDescription=互联网连接似乎处于离线状态。 }}

是否有一种万无一失的方法来检测何时未授予用户？我是否只在 UserInfo 字典中查找错误代码 2 和一个键/值对？

我希望 Facebook 给我们点`BOOL granted`赞`ACAccountStoreRequestAccessCompletionHandler`。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-05-22T13:09:08.753

您可以使用以下代码检查权限：

```
- (void)checkForPermissions {
    // We will request the user's public profile and the user's birthday
    // These are the permissions we need:
    NSArray *permissionsNeeded = @[@"basic_info", @"email"];
    // Request the permissions the user currently has
    [FBRequestConnection startWithGraphPath:@"/me/permissions"
                          completionHandler:^(FBRequestConnection *connection, id result, NSError *error) {
                          //If there is error, handle it accordingly.

                          //Results contains all the permissions user has granted the app.
                          //If you do not have the desired permissions, reauthorize the app
                          // Ask for the missing permissions
                          //requestPermissions = array of permissions to be asked
                          [FBSession.activeSession
                           requestNewReadPermissions:requestPermissions
                           completionHandler:^(FBSession *session, NSError *error) {
                               //Handle the session object as per your requirements.
                           }];
                      }];
} 
```

希望这可以帮助。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-10T06:02:15.643

@peter-warbo：我没有找到好的解决方案。我正在使用这个：

```
[FBSession openActiveSessionWithReadPermissions:FACEBOOK_READ allowLoginUI:YES 
    completionHandler:^(FBSession *session, FBSessionState state, NSError *error) {

    // find error for not granted
    if(error && error.code == 2) {
        NSDictionary *userInfo = error.userInfo;
        if(userInfo && userInfo.count == 1) {
            [self fallbackLogin];
            return;
        }
    }
    [self sessionStateChanged:session state:state error:error];
}];

- (void)fallbackLogin {

    // use deprecated
    [FBSession openActiveSessionWithPermissions:FACEBOOK_READ allowLoginUI:YES
completionHandler:^(FBSession *session, FBSessionState state, NSError *error) {
          [self sessionStateChanged:session state:state error:error];
    }];   
} 
```

# objective-c - 如何在 AppDelegate 中决定 rootView

> ID：13619221
> 
> 赞同：2
> 
> 时间：2012-11-29T05:08:31.337
> 
> 标签：objective-c, ios

我正在学习 iOS 并开发我的第一个 iPone 应用程序。我想向我的应用程序添加一个功能：如果用户之前登录过，我想将用户重定向到主视图。否则，我想将用户重定向到登录视图。

我[在运行时阅读了 ios 更改故事板默认视图控制器](https://stackoverflow.com/questions/10610012/ios-change-storyboard-default-view-controller-at-run-time)，但我想知道是否可以编写决定 AppDelegate 中根视图的代码。因此，我不会有一个永远不会启动的视图。

这是我在 AppDelegate 中的代码：

```
- (BOOL)application:(UIApplication *)application didFinishLaunchingWithOptions:(NSDictionary *)launchOptions
{
    self.window = [[UIWindow alloc] initWithFrame:[[UIScreen mainScreen] bounds]];

    [[UIApplication sharedApplication] registerForRemoteNotificationTypes:
     (UIRemoteNotificationTypeSound | UIRemoteNotificationTypeAlert)];

    MainViewController *rootVC = [[MainViewController alloc] init];
    if (userNeverLogin) {
       LoginViewController *rootVC = [[LoginViewController alloc] init];
    }

    self.window.rootViewController = [[UINavigationController alloc] initWithRootViewController:rootVC];
    return YES;
} 
```

此代码不起作用（它不会触发任何错误，但它不会在模拟器中显示任何内容）。我应该如何修改它？或者在 AppDelegate 中不可能做到这一点？

对不起，我是 iOS 的新手。我希望这个问题不是愚蠢的。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-29T05:19:16.463

我会尝试将要显示的视图控制器的整个初始化放入 if-else 语句中。您正在设置`rootVC`输入`MainViewController`，然后如果用户尚未登录，则尝试更改`rootVC`为输入`LoginViewController`

例如

```
id rootVC = nil;    
if (userNeverLogin) {
   rootVC = [[LoginViewController alloc] init];
} else {
   rootVC = [[MainViewController alloc] init];
}

self.window.rootViewController = [[UINavigationController alloc] initWithRootViewController:rootVC]; 
```

**更新视图不​​显示**

如果您还没有创建使用 nib 名称初始化视图控制器的方法（其他人建议您这样做），还有另一种解决方法。单击您的`MainViewController.xib`并在 Interface Builder 中单击`File Owner`。单击实用程序侧栏（屏幕右侧）左侧的第三个图标`Identity Inspector`，并将自定义类更改为`MainViewController`。为你做同样的事情`LoginViewController.xib`

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-11-30T06:51:05.280

[我终于从 AppDelegate 的故事板的不同位置有条件地开始的](https://stackoverflow.com/questions/8451975/conditionally-start-at-different-places-in-storyboard-from-appdelegate)@followben 找到了答案，这实际上是我想要的。这是他的示例代码：

```
- (BOOL)application:(UIApplication *)application didFinishLaunchingWithOptions:(NSDictionary *)launchOptions
{        
    BOOL isLoggedIn = ...;    // from your server response

    NSString *segueId = isLoggedIn ? @"MainIdentifier" : @"LoginIdentifier";
    self.window.rootViewController = [self.window.rootViewController.storyboard instantiateViewControllerWithIdentifier:segueId];

    return YES;
} 
```

设置视图控制器标识符的方法：![在此处输入图像描述](../Images/8b8bf1b277b19da71cc783fce7284a35.png)

我给@ekims 和@X Slash 一个+1 以供您进行鼓舞人心的讨论。真诚地感谢你们。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-11-29T05:30:45.580

在您的代码中，

```
MainViewController *rootVC = [[MainViewController alloc] init];
if (userNeverLogin) 
{
   LoginViewController *rootVC = [[LoginViewController alloc] init];
}
self.window.rootViewController = [[UINavigationController alloc] initWithRootViewController:rootVC]; 
```

rootVc 将始终属于 MainViewController，因为如果 userNeverLogin 为 true，则 if 块内的 rootVC 仅适用于 if 块范围，因此请执行以下操作

```
id rootViewController = nil;
if (userNeverLogin)
{
    rootViewController = [[LoginViewController alloc] init];
}
else
{
    rootViewController = [[MainViewController alloc] init];
}
self.window.rootViewController = [[UINavigationController alloc] initWithRootViewController:rootViewController]; 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-29T05:22:33.787

如果您的视图从 Nib 加载，请尝试此操作。

```
 - (BOOL)application:(UIApplication *)application didFinishLaunchingWithOptions:(NSDictionary *)launchOptions
    {
        self.window = [[UIWindow alloc] initWithFrame:[[UIScreen mainScreen] bounds]];

        [[UIApplication sharedApplication] registerForRemoteNotificationTypes:
         (UIRemoteNotificationTypeSound | UIRemoteNotificationTypeAlert)];

        if (userNeverLogin) {
           LoginViewController *rootVC = [[LoginViewController alloc] nitwithNibName:@"LoginViewController" Bundle:nil];
        }
else
 MainViewController *rootVC = [[MainViewController alloc] initwithNibName:@"MainViewController" Bundle:nil];

    UINavigationcontroller *nvc= = [[UINavigationController alloc] initWithRootViewController:rootVC];
        self.window.rootViewController=nvc;
        return YES;
    } 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-11-29T07:20:46.470

在 App 委托中确定根视图控制器应该可以工作。

我想你缺少的是

```
 MainViewController *rootVC = [[MainViewController alloc] init]; 
```

尝试像这样初始化控制器

```
 MainViewController *rootVC = [[MainViewController alloc] initWithNibName:@"nibFileName" bundle:nil]; 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-11-29T07:26:17.963

```
Follow this Steps:

1>keep your LoginView as a rootView       
2>In View viewDidAppear of LoginView check this
-(void)viewDidAppear:(BOOL)animated{
   [super viewDidAppear:animated];
   if ([User isLogin] == YES) {
   MainViewController *viewC = [[MainViewController alloc]     initWithNibName:@"EditStoreViewController" bundle:nil];
   [self.navigationController pushViewController:viewC animated:YES];
} 
```

}

这将解决您的问题

# typescript - 如何从构造函数中访问静态成员

> ID：13619222
> 
> 赞同：4
> 
> 时间：2012-11-29T05:08:35.993
> 
> 标签：typescript

```
class MockFamily implements IFamily {
    static instances: MockFamily[] = [];

    constructor (nodeClass: { new (): Node; }, engine: Engine) {
        MockFamily.instances.push(this);
    }

    /* sniiiiiip */
} 
```

`instances`在上面的示例中，有什么方法可以在不使用实际类名的情况下从构造函数中访问静态值？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-11-29T07:37:10.830

静态变量总是通过类名访问。类对象充当具有属性的对象。你最接近的可能是：

```
with (MockFamily) {
    instances.push(this);
} 
```

虽然我不会推荐它。

模块是另一回事。在运行时，它们的内容是函数范围内的变量，几乎可以在其中的任何地方直接访问。

```
module MyModule {
    var instances: IFamily[] = [];

    export class MockFamily implements IFamily {
        constructor (nodeClass: { new (): Node; }, engine: Engine) {
            instances.push(this);
        }

        /* sniiiiiip */
    }
} 
```

# jquery - 在同一选择器上的 jquery 中同时触发两个事件

> ID：13619224
> 
> 赞同：3
> 
> 时间：2012-11-29T05:08:44.833
> 
> 标签：jquery, simultaneous

这应该很容易，但我是新手...

如何使显示功能和单击动画功能合二为一？

```
function scrollit() {
    $("#scrollDown").show();
    $("#scrollDown").click(function() {
        $('html,body').animate({scrollTop: $('#scrollDown').offset().top}, 1500);
    });
} 
```

见：http: [//jsfiddle.net/elasticGurl/3r6Jp/4/](http://jsfiddle.net/elasticGurl/3r6Jp/4/)

应该发生的是

1.  按钮被点击
2.  显示隐藏的 div scrollDown
3.  与#2同时，它也应该同时向下移动一点

问题是它需要点击两次才能向下移动。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-29T05:15:03.700

您只是绑定了单击事件，您也需要触发该事件：

```
function toggleDiv() {

$("#scrollDown").show().click(function() {
  $('html,body').animate({scrollTop: $('#scrollDown').offset().top}, 1500);
});
   $("#scrollDown").click();
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-29T05:16:33.623

那是因为您的点击功能在隐藏的 div 上，而不是在您的按钮上

```
function scrollit() {

    $("#scrollDown").show();
    $('html,body').animate({scrollTop: $('#scrollDown').offset().top}, {duration:1500, queue:false});
}​ 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-29T05:23:58.343

尝试使用**jQuery 1.8.2**

```
$(document).on('click','p#scrolltest', function (){
  $("div#scrollDown").show('fast', function(){
       $('body').animate({
           scrollTop: $('#scrollDown').offset().top
           }, 1500);
        });
}); 
```

[`Working Demo`](http://jsfiddle.net/3r6Jp/15/)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-29T05:32:02.263

这是工作示例：http: [//jsfiddle.net/FSfRR/1/](http://jsfiddle.net/FSfRR/1/)

```
 var count = 0;
   $(".checkout_btn").click(function() {
       $("#scrollDown").show();
      count++;
      $('html,body').animate({scrollTop: $('#scrollDown').offset().top}, 1500);
      if(count==1)
          $(this).trigger('click');
      else 
          count = 0;
   }); 
```

# sql-server-2008 - 报告在 SSRS 中显示不匹配的数据？

> ID：13619227
> 
> 赞同：0
> 
> 时间：2012-11-29T05:08:58.367
> 
> 标签：sql-server-2008, ssrs-2008

嗨，我使用存储过程在 SSRS 中创建了一份报告，但即使表中不存在记录，它也会显示数据。

但是如果我在我的 sql 服务器中执行它，它运行良好。

任何人都可以告诉我如何克服这种情况

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-29T05:19:15.417

在 2008 年 SSRS 报告项目中，设计者似乎会缓存数据，除非发布了对参数、数据源或数据集的刷新。此外，报告 UI 更改应该会导致 VS2008 报告查看器刷新。如果您不修改报告，它将在不确定的时间内使用缓存版本的数据。这可能是你所看到的吗？

# javascript - 将表单提交到侧边栏菜单链接的目的地（javascript / php / html 表单）

> ID：13619230
> 
> 赞同：0
> 
> 时间：2012-11-29T05:09:34.427
> 
> 标签：javascript, forms

我有一个多页表单，可以通过前进和后退按钮导航，也可以通过侧边栏菜单导航。

如果用户通过侧边栏菜单导航离开页面，我想避免在当前页面上输入的数据丢失：

**期望目标：**

当用户点击菜单中的链接时，表单的“action”属性会被调整以匹配该链接的目的地。由于有几个页面，我宁愿不硬编码几个“如果指向page1.php的链接是点击，则使动作等于page1.php等”，就像一个可以在点击链接时调用的函数，并将操作设置为链接目标。

**我的尝试：**

（我正在学习JavaScript，所以我真的有点在黑暗中刺痛，我想`this`更好地理解）

这是我的html

```
<form id="myform" action="default_action.php" method="POST">

... form inputs...

<input type="submit" name="DefaultSubmit" value="Next Page">
</form>

<div id="navmenu" class="navmenu">
    <ul id="sidebarmenu1">
        <li><a href="?page=1" class="menu1" onclick="OnMenuClick()">Page 1</a></li>
        <li><a href="?page=2" class="menu2" onclick="OnMenuClick()">Page 2</a></li>
        <li><a href="?page=3" class="menu3" onclick="OnMenuClick()">Page 3</a></li>
    </ul>
</div> 
```

这是我对 javascript 的尝试：

```
<script>
function OnMenuClick()
{
document.myform.action ="this.getAttribute("href")"
document.myform.submit();
}
</script> 
```

我通过阅读各种教程将它拼接在一起，但似乎有很多方法可以做一件事，到目前为止这对我不起作用，有什么建议吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-29T05:15:18.770

如果您愿意在您的网站上包含 jQuery（嘿，每个人都在这样做 :) ），我会建议以下内容：

```
<form id="myform" action="default_action.php" method="POST">

... form inputs...

<input type="submit" name="DefaultSubmit" value="Next Page">
</form>
<div id="navmenu" class="navmenu">
    <ul id="sidebarmenu1">
        <li><a href="?page=1" class="menu1">Page 1</a></li>
        <li><a href="?page=2" class="menu2">Page 2</a></li>
        <li><a href="?page=3" class="menu3">Page 3</a></li>
    </ul>
</div> 
```

和 jQuery：

```
$(function () {
    $('#sidebarmenu1 a').on('click', function (event) {
        var url = $(this).attr('href');
        $('#myform').attr('action', url);
        $("#myform").submit();
        event.preventDefault();
    });
});​ 
```

如果您刚接触 javascript，jQuery 是一个很好的入门起点，您只需在您的`<head>`标签中添加以下内容即可将其包含在您的网站中：

```
<script src="//ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-29T05:14:42.950

尝试：

```
<div id="navmenu" class="navmenu">
    <ul id="sidebarmenu1">
        <li><a href="?page=1" class="menu1" onclick="OnMenuClick(this)">Page 1</a></li>
        <li><a href="?page=2" class="menu2" onclick="OnMenuClick(this)">Page 2</a></li>
        <li><a href="?page=3" class="menu3" onclick="OnMenuClick(this)">Page 3</a></li>
    </ul>
</div>

<script>
function OnMenuClick(element)
{
    document.myform.action = element.getAttribute("href");
    document.myform.submit();
}
</script> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-29T05:15:49.753

这应该是世界：

```
<div id="navmenu" class="navmenu">
    <ul id="sidebarmenu1">
        <li><a href="?page=1" class="menu1" onclick="OnMenuClick(this)">Page 1</a></li>
        <li><a href="?page=2" class="menu2" onclick="OnMenuClick(this)">Page 2</a></li>
        <li><a href="?page=3" class="menu3" onclick="OnMenuClick(this)">Page 3</a></li>
    </ul>
</div>

<script>
    function OnMenuClick(t)
    {
      document.getElementById('myform').action =t.getAttribute("href")
      document.myform.submit();
    }  
</script> 
```

# python - 如何使用 python 中的现有文本文件添加 XML 标记新文件？

> ID：13619231
> 
> 赞同：2
> 
> 时间：2012-11-29T05:09:35.967
> 
> 标签：python, xml, text-files

所以我遇到的问题是我需要能够获取现有的文本文件并制作一个新文件，将 xml 标签添加到每一行。例如：

```
Hello
World
This
Is
The
Text 
```

应该像这样写入一个新的文本文件

```
<tag1>Hello</tag1>
<tag2>World</tag2>
<tag3>This</tag3>
<tag4>Is</tag4>
<tag5>The</tag5>
<tag6>Text</tag6> 
```

我知道如何打开和写入一个新文件，但是在处理数据时遇到了麻烦，我仍然是一个菜鸟，这是我在 stackoverflow 上的第一个问题，所以任何帮助都将不胜感激。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-29T05:31:50.897

如果您想做简单的事情，请使用 vim 打开文本文件并键入以下内容。

```
:%s!\(.*\)!\=printf("<tag%d>%s</tag%d>", line("."), submatch(1), line("."))!g 
```

或者如果你想使用 python，

```
from xml.sax.saxutils import escape
with open('file.txt', 'r') as f:
  print "\n".join((lambda y: ["<tag%d>%s</tag%d>" % (i+1, escape(y[i].strip()), i+1) for i in range(0, len(y))])(f.readlines())) 
```

也是@goncalopp的回答

```
from xml.sax.saxutils import escape
for i,line in enumerate(open('file.txt')):
  print "<tag{0}>{1}</tag{0}>".format(i+1,escape(line.strip())) 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-29T05:34:00.103

这是一个非常简单的问题，您应该能够自己解决。由于您遇到了一些麻烦，我将向您展示如何解决大多数编程问题。

首先，**划分**问题。您有一个文本文件，您必须对其进行修改以包含 xml 标记。您已经正确地识别出打开和写入文件是*不同*的问题——并且您已经知道如何解决这些问题。此外，很明显但值得一提的是，您正在处理*每一行上*类似的重复模式。所以，如果你知道如何将每一行文本转换成你想要的，你就解决了这个问题。现在，让我们看一下第一行：

```
Hello 
```

变成

```
<tag1>Hello</tag1> 
```

必须执行哪些步骤才能将一个转换为另一个？好吧，第二个只是第一个，在字符串的开头和结尾插入了一些文本！这称为*字符串连接*，只需谷歌搜索即可立即找到答案。此外，您还有标签号的问题，每行都不同。这可以通过保留一个*计数器*变量、将数字转换为字符串并将其连接起来来解决。

下面是一个计数器的例子：

```
for i in range(10):
    print i 
```

另一个：

```
i=0
while i<10:
    print i
    i+=1 
```

而已。我相信你现在可以自己解决问题。

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2012-11-29T05:28:56.423

```
>>> f = open('file.txt', 'r')
>>> lines = f.readlines()
>>> for index in range(len(lines)):
...     print '<tag%s>%s</tag%s>'%(index+1, lines[index].strip(), index+1)
... 
<tag1>Hello</tag1>
<tag2>World</tag2>
<tag3>This</tag3>
<tag4>Is</tag4>
<tag5>The</tag5>
<tag6>Text</tag6>
Hope you know how to write into file. 
```

# php - wordpress 硬币滑块不工作

> ID：13619235
> 
> 赞同：3
> 
> 时间：2012-11-29T05:09:58.943
> 
> 标签：php, javascript, jquery, html, wordpress

我正在开发我的自定义 wordpress 主题，我想在主页上创建一个特色内容滑块，所以我安装了 coinslider wordpress 插件，但没有特色帖子。我对wordpress开发很陌生，所以如果答案很明显，请原谅我的无知。我包括了functions.php，并且我的header.php 很好地链接到了jquery。为什么这不是劳动人民？请帮忙

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-07T06:24:53.877

你知道吗，默认情况下，Wordpress 加载 jQuery 时没有冲突？

基本上，你有两个选择：

**jQuery：**

```
jQUery(document).ready(function(){
    // code using jQuery.fn
}); 
```

**或（函数（$））（jQuery）：**

```
(function($){
    // code using $.fn
})(jQuery); 
```

# c# - 可以让一个 Hello World exe 在所有版本的 .NET 中工作吗？（2.0 和 4.5）

> ID：13619241
> 
> 赞同：4
> 
> 时间：2012-11-29T05:10:12.930
> 
> 标签：c#, .net, deployment, .net-2.0, .net-4.5

是否可以在 2.0 到 4.5 的所有 .NET 版本上运行单个 .NET exe，而无需单独的二进制文件？

假设我需要做的就是`Console.Writeline("Hello world");`

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-11-29T05:11:09.820

是的，只要确保以框架 .Net 2.0 为目标。

您可能会看到：[.NET Framework 中的版本兼容性](http://msdn.microsoft.com/en-us/library/ff602939.aspx)

> .NET Framework 4.5**向后兼容**使用 .NET Framework 版本 1.1、2.0、3.0、3.5 和 4 构建的应用程序。换句话说，使用以前版本的 .NET Framework 构建的应用程序和组件将在.NET 框架 4.5。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-29T05:11:58.100

您可以针对 .NET 2.0，由于向后兼容性，它也将在 .NET 4.0 上运行。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-29T06:46:19.657

使用 .Net Framework 2.0 创建应用程序任何 IDE。这样你就可以在任何2.0以上的Framework中运行。.Net Framework 支持向后兼容性。

# iphone - UIKeyboardType 默认键盘覆盖语言？

> ID：13619244
> 
> 赞同：0
> 
> 时间：2012-11-29T05:10:30.940
> 
> 标签：iphone, uikeyboard, uikeyboardtype

我目前正在开发一个主要面向日语（次要英语）市场的应用程序，我发现`UIKeyboardType`如果使用 Tenkey/flick 风格的日语键盘，我无法设置文本字段并使其实际工作。即使`UIKeyboardType`应该做出适当的回应，

```
userIdField = [[[UITextField alloc] initWithFrame:CGRectMake(120, 5, 185, 35)]autorelease];
userIdField.delegate = self;
userIdField.keyboardType = UIKeyboardTypeASCIICapable;
userIdField.autocorrectionType = UITextAutocorrectionTypeNo;
userIdField.contentVerticalAlignment = UIControlContentVerticalAlignmentCenter;
userIdField.returnKeyType = UIReturnKeyDone;
userIdField.autocapitalizationType = UITextAutocapitalizationTypeNone;
userIdField.backgroundColor = [UIColor clearColor];
[cell addSubview:userIdField]; 
```

当我点击文本字段时，它将打开默认的日文 Tenkey 风格键盘。我试过`UIKeyboardTypeASCIICapable`, `UIKeyboardTypeURL`, `UIKeyboardTypeEmailAddress`，`UIKeyboardTypeNamePhonePad`它们总是显示默认的十键日文键盘。我知道正在读取代码，因为设置`UIKeyboardTypePhonePad`可以正常工作，但由于某种原因，手机除了默认的日文 Tenkey 键盘外不会显示任何内容。

有没有办法解决这个问题，或者这是一个自古以来就存在的错误？如何强制用户使用只能输入字母、数字、“_/.”字符的键盘？

使用韩文（韩文）键盘，它偶尔会工作 - ASCII 键盘可以正常使用，url 键盘可以使用带有 .com 按钮的韩文。对于 ASCIICapable，查看 UITextInputTraits.h 文件，它说： `UIKeyboardTypeASCIICapable, // Displays a keyboard which can enter ASCII characters, non-ASCII keyboards remain active` 这没有任何意义，因为韩文和日文都是非 ASCII，但韩文 + ASCIICapable = ASCII（虽然它应该是韩文，因为它是非 ascii） , 而日语 Tenkey + ASCIICapable = 日语 Tenkey。

我看到其他有关以编程方式更改键盘语言的帖子，这是无法完成的，但这个问题更侧重于询问为什么 UIKeyboardType 指定的键盘类型没有出现。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-29T05:26:39.523

之所以显示日文 Tenkey 键盘是因为它在*技术上*是一个 ASCIICapable 键盘，即使您必须先单击该`ABC`按钮才能使键盘更改为 ASCII 输入。我已经想到了解决这个问题的方法，尽管它很复杂并且充满了问题：

1.  2 个文本字段，一个在另一个之上。顶部文本字段隐藏
2.  底部文本字段的secureTextEntry 设置为YES，这会强制使用实际的ASCII 键盘，但会混淆输入的文本
3.  当用户点击底部文本字段时，顶部文本字段将显示
4.  当在键盘上输入文本时，它首先进入底部文本字段，然后设置顶部文本字段的文本。否则，您只会得到用于隐藏文本输入的全黑圆圈。

如果您犯了一个错误并想要编辑文本，那么您必须执行大量其他代码才能使其正常工作，分配第一响应者等（例如确保输入文本时，将其输入正确位置的底部文本字段）。

这显然不是最佳解决方案。

# javascript - 导航离开后重新初始化 ACE 编辑器

> ID：13619248
> 
> 赞同：1
> 
> 时间：2012-11-29T05:10:51.693
> 
> 标签：javascript, ace-editor

我正在将[ACE 编辑器](http://ace.ajax.org)用于使用 Bootstrap 构建的 Web 应用程序。这并不容易，但我已经让 ACE 使用 iframe 在此框架中加载，该 iframe 加载编辑器并使用数据库中的数据填充它。这工作正常，但是在我导航到另一个页面然后返回编辑页面后，我收到此错误：

> 将 chrome JS 对象暴露给没有**暴露Props**的内容是不安全的并且不推荐使用。有关详细信息，请参阅[https://developer.mozilla.org/en/XPConnect_wrappers](https://developer.mozilla.org/en/XPConnect_wrappers)。

如果我尝试保留编辑器对象的句柄并重用它，则会收到此错误：

> NS_ERROR_NOT_INITIALIZED：组件返回失败代码：0xc1f30001 (NS_ERROR_NOT_INITIALIZED) [nsIDOMJSWindow.setTimeout]（在 ace.js，第 1 行）

每次我导航回此页面时，是否有创建新编辑器的技巧？或者重新初始化编辑器使其不会抛出错误？

# wcf - .NET 4.5 和 WCF 请求压缩

> ID：13619253
> 
> 赞同：4
> 
> 时间：2012-11-29T05:11:28.187
> 
> 标签：wcf, rest, compression, asp.net-4.5

我们有一个托管在第三方托管环境中的 Web 应用程序。服务器应用程序向我们的 iPad 应用程序公开一些 WCF RESTFUL 服务。

WCF 服务是 .svc-less 并在 Glonbal.asax 文件中注册。样本：

```
 RouteTable.Routes.Add("service name", new ServiceRoute("url", 
    new WebServiceHostFactory(), routingServiceContract)); 
```

由于我们需要将一些海量数据从我们的 iPad 应用程序传输到服务器应用程序，因此一些请求在发送到 WCF 服务之前进行了 GZIP 压缩。由于服务器应用程序最初是基于 .NET 3.5 构建的，因此类似这样的一段代码负责解压缩压缩的请求：

```
public void Application_BeginRequest(object sender, EventArgs e)
{
  if (!string.IsNullOrEmpty(Request.Headers["Content-Encoding"]))
  {                
    if (Request.Headers["Content-Encoding"].ToLower().Contains("gzip"))
     Request.Filter = new GZipStream(Request.Filter, CompressionMode.Decompress);

    if (Request.Headers["Content-Encoding"].ToLower().Contains("deflate"))
      Request.Filter = new DeflateStream(Request.Filter, CompressionMode.Decompress);
  }
} 
```

这一直有效，直到我们的托管服务提供商在他们的服务器上安装了 .NET 4.5。然后压缩的 JSON 请求开始失败（我们得到 http 400 或有时 500 错误）。经过这么多调查，结果发现代码和 web.config 文件都可以，因为 WCF 服务在没有安装 .NET 4.5 的服务器上运行良好。

我什至评论了上面的代码并发布到同一个服务器，但它不再工作了。我原以为请求被解码了两次！

现在我想知道如何利用 WCF 4.5 的内置压缩功能并使该网站正常工作？我更喜欢摆脱自定义 c# 代码，只使用 WCF 4.5 压缩功能。

ps Web 服务在 ASP.NET 兼容模式下运行。

pps 如果我们不压缩 http 请求，web 服务可以完美运行。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-04T21:16:04.667

我检查了您的配置文件和 Application_BeginRequest 方法。我使用 .net 4.0 在我的机器上复制了您的配置文件，并验证它工作正常。我还可以看到相同的设置在 .net 4.5 的机器上失败。根据我的观察，您的问题与 Application_BeginRequest 中的压缩/解压缩代码无关。但是您遇到了我在此 [post][1] 中描述的相同问题

[1]：[WCF - .Net 4.5 安装](https://stackoverflow.com/questions/12643113/wcf-conflicting-endpoints-after-net-4-5-installation)“发布”后的端点冲突。在这篇文章中，我还发布了解决此问题的方法。解决方法是显式定义 REST 端点。在进行相同的工作后，我可以看到您的项目开始工作。为了让您的项目正常运行，我所要做的就是在配置中添加这两行并显式配置服务端点。

```
 <services>
      <service name="<YourNamespace>.TestService">
        <endpoint address="" binding="webHttpBinding" contract="<YourNamespace>.TestService" behaviorConfiguration="RESTEndpointBehavior"/>
      </service>
    </services> 
```

你能检查一下这是否能解决你的问题吗？

# asp.net-mvc-3 - 将 WebGrease 升级到 1.3.0 版让我出错

> ID：13619255
> 
> 赞同：44
> 
> 时间：2012-11-29T05:11:46.153
> 
> 标签：asp.net-mvc-3, asp.net-mvc-4, webgrease

升级`WebGrease`到版本`1.3.0`时出现错误：

> 无法加载文件或程序集“WebGrease，Version=1.0.0.0，Culture=neutral，PublicKeyToken=31bf3856ad364e35”或其依赖项之一。找到的程序集的清单定义与程序集引用不匹配。（来自 HRESULT 的异常：0x80131040）

源错误：

```
Line 6:      <title>@ViewBag.Title</title>
Line 7:      @Styles.Render("~/Content/bundles/bootstrap") 
```

如何解决此错误。

* * *

## 回答 #1

> 赞同：64
> 
> 时间：2013-01-23T19:32:51.990

这是对我有用的答案，它是上述一些答案的组合。首先安装/卸载/重新安装以下软件包：

```
Install-Package Microsoft.AspNet.Web.Optimization 
Update-Package WebGrease
Uninstall-Package Microsoft.AspNet.Web.Optimization
Uninstall-Package WebGrease
Install-Package Microsoft.AspNet.Web.Optimization 
Update-Package WebGrease 
```

然后复制 ~/Views/Shared/_Layout.cshtml 的内容，删除 _Layout.cshtml 文件，重新创建并将内容粘贴回去。

这是对我有用的最终修复。

* * *

## 回答 #2

> 赞同：17
> 
> 时间：2013-02-20T09:34:54.837

```
<assemblyIdentity name="WebGrease" publicKeyToken="31bf3856ad364e35" culture="neutral" />
<bindingRedirect oldVersion="0.0.0.0-1.3.0.0" newVersion="1.3.0.0" /> </dependentAssembly> 
```

将上面的代码更改`Web.config`为以下

```
<assemblyIdentity name="WebGrease" publicKeyToken="31bf3856ad364e35" culture="neutral" />
<bindingRedirect oldVersion="0.0.0.0-1.3.0.0"/> </dependentAssembly> 
```

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2012-11-29T05:29:57.597

看起来您参考了旧版（1.0.0.0？）程序集（假设当前版本是 1.3.0.0）。在这种情况下，您需要在 web.config 中进行[程序集重定向，或者更好地重新编译您的二进制文件以使用最新版本。](http://msdn.microsoft.com/en-us/library/7wd6ex19.aspx)

另一种可能性，如果最新版本与旧版本（1.0.0.0）共享相同的程序集版本，您需要重新编译代码以使用正确的程序集并确保使用正确的副本（检查 GAC 是否有错误，使用[fuslogv](http://msdn.microsoft.com/en-us/library/e74a18c4.aspx)调查确切的文件导致错误）。

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2013-04-18T17:20:13.293

以下组合为我解决了这个问题。首先，在 Package Manager 命令行上运行以下命令（类似于 sec_goat 提供的答案，但不完全相同）：

```
Uninstall-Package Microsoft.AspNet.Web.Optimization
Uninstall-Package WebGrease
Install-Package Microsoft.AspNet.Web.Optimization
Update-Package WebGrease 
```

然后，与 Hriju 类似，我需要在 web.config 中更改这一行：

```
<assemblyIdentity name="WebGrease" publicKeyToken="31bf3856ad364e35" culture="neutral" />
<bindingRedirect oldVersion="0.0.0.0-1.3.0.0" newVersion="1.3.0.0" /> 
```

进入这个：

```
<assemblyIdentity name="WebGrease" publicKeyToken="31bf3856ad364e35" culture="neutral" />
<bindingRedirect oldVersion="0.0.0.0-1.3.0.0" /> 
```

* * *

## 回答 #5

> 赞同：3
> 
> 时间：2012-12-13T04:41:38.143

我遇到过同样的问题。另一位开发人员升级了 WebGrease 包（以及其他包），但没有同步或签入某些内容。我编辑了包文件以删除对现有包的引用。然后我通过包管理器重新安装。最后，我更新了软件包。

如果 packages.config 文件与项目中的文件（包括正确的版本）不匹配，似乎不会安装或更新包。包管理器中没有错误，它只是无法更新或安装包。

* * *

## 回答 #6

> 赞同：2
> 
> 时间：2013-04-23T18:51:15.060

对我有用的绑定重定向：

```
<dependentAssembly>
  <assemblyIdentity name="WebGrease" publicKeyToken="31bf3856ad364e35" culture="neutral" />
  <bindingRedirect oldVersion="0.0.0.0-1.2.0.0" newVersion="1.3.0.0"/> </dependentAssembly>
</assemblyBinding> 
```

细微的差别是我没有在`oldVersion`attr 中包含这个版本（1.3.0.0）。

失败的蛋糕！

* * *

## 回答 #7

> 赞同：1
> 
> 时间：2013-01-09T17:09:40.317

这是 Microsoft.AspNet.Web.Optimization 的问题（优化前进）。

您需要通过卸载 Optimize 并从 web.config 中删除任何 WebGrease 程序集重定向来降级 WebGrease。

然后重新安装 Optimize 并确保**不**升级 WebGrease。

这是一个快速修复，但它让我的构建工作！

* * *

## 回答 #8

> 赞同：1
> 
> 时间：2013-05-31T14:19:17.197

对于一个 Web API 项目，我正在研究真正有效的方法如下：

1.  打开 NuGet 包管理器，点进去`Installed packages`然后卸载 `Microsoft.AspNet.Web.Optimization`。它提示它将删除`WebGrease 1.1.0`. 打`Yes`。

2.  现在重新安装它，单击 NuGet 的在线选项卡并搜索`Microsoft.AspNet.Web.Optimization`.

现在一切都按预期工作。

* * *

## 回答 #9

> 赞同：1
> 
> 时间：2012-12-08T21:25:29.817

我有一个类似的问题，除了它不是错误而是警告。将 WebGrease 更新到 1.3.0 后，构建将警告源放在声明中。在确保我的 web.config 文件中具有适当的程序集重定向之后，我最终创建了一个新的 _Layout.cshtml 视图并使用与之前完全相同的剃刀标记（复制/粘贴）保存在旧文件上。之后，警告消失了。

我不确定警告的全部内容，但尝试将代码复制到文件中，将其粘贴到新文件中并覆盖原始文件。

如果有人对为什么这样做有任何见解，我会全神贯注。

* * *

## 回答 #10

> 赞同：0
> 
> 时间：2013-04-01T15:25:39.010

为了解决这个问题，我所做的只是更新 package.config 文件（WEBMATRIX）

```
<packages>
  <package id="Microsoft.AspNet.Web.Optimization" version="1.0.0" targetFramework="net40" />
  <package id="Microsoft.Web.Infrastructure" version="1.0.0.0" targetFramework="net40" />
  <package id="WebGrease" version="1.3.0" targetFramework="net40" />
</packages> 
```

干杯！！！

* * *

## 回答 #11

> 赞同：0
> 
> 时间：2014-03-17T13:48:54.700

就我而言，所有这些方法都不起作用。最后我通过包管理器卸载 Microsoft.AspNet.Web.Optimization 和 WebGrease 包来解决这个问题，然后我在记事本中打开我的项目文件（.csproj）并删除与这两个包相关的所有条目，结果是有问题。最后我再次通过包管理器安装这两个包并运行项目。现在所有工作都很好。

* * *

## 回答 #12

> 赞同：0
> 
> 时间：2013-01-12T17:48:08.463

感谢@roadsunknown。在我的主机冻结后，我的配置被破坏，从而导致我的虚拟机无法正常关闭。为了解决这个问题，我通过 NuGet 卸载了 Microsoft.AspNet.Web.Optimization，然后不得不删除 packages.config 中对 WebGrease 的引用，最后通过 NuGet 重新安装了 Microsoft.AspNet.Web.Optimization。

* * *

## 回答 #13

> 赞同：0
> 
> 时间：2013-04-24T05:38:52.740

与 Hriju 和 Nathan 相同（卸载、重新安装和更新），只是我没有省略该`newVersion`属性，而是保留了它。但是由于 WebGrease 从 1.1.0 直接升级到 1.3.0，因此不需要 1.2.0（就像 jenson-button-event 所拥有的那样）（祝西班牙 JB 好运，顺便说一句）。

```
<assemblyIdentity name="WebGrease" publicKeyToken="31bf3856ad364e35" culture="neutral" />
<bindingRedirect oldVersion="0.0.0.0-1.1.0.0" newVersion="1.3.0.0" /> 
```

迂腐？也许吧，但它总是在细节中，对吧？这为我修好了。

无论如何，这是希望他们在下一次更新中做对。

* * *

## 回答 #14

> 赞同：0
> 
> 时间：2013-05-07T02:04:50.757

这就是我的运行时部分的样子，它可以工作

```
<runtime>
    <assemblyBinding xmlns="urn:schemas-microsoft-com:asm.v1">
        <dependentAssembly>
            <assemblyIdentity name="System.Web.Mvc" publicKeyToken="31bf3856ad364e35" />
            <bindingRedirect oldVersion="1.0.0.0-2.0.0.0" newVersion="3.0.0.0" />
        </dependentAssembly>
        <dependentAssembly>
            <assemblyIdentity name="WebGrease" publicKeyToken="31bf3856ad364e35" culture="neutral" />
            <bindingRedirect oldVersion="0.0.0.0-1.2.0.0" newVersion="1.3.0.0" />
        </dependentAssembly>
    </assemblyBinding>
</runtime> 
```

# angularjs - AngularJS 中的可重用组件

> ID：13619264
> 
> 赞同：57
> 
> 时间：2012-11-29T05:12:17.587
> 
> 标签：angularjs

`AngularJS`到目前为止，我是新手并且喜欢它。我找不到任何文档的一个问题是：

我有一个带有重复出现的 HTML 的页面，一个带有子类别的类别页面都具有相同的 html 模板。我目前正在做的是让一个控制器一次加载所有 Json，这有点慢。我想将其分解为子视图（**类似于 ASP.NET MVC 中的局部视图）**，但每个视图在初始化时都会对服务进行自己的调用。我还想将类别名称作为参数传递。

最有效的方法是什么？我也尝试过使用 Directives，但我没有任何运气将每个调用的范围分开。如果您需要更多详细信息，请告诉我。

* * *

## 回答 #1

> 赞同：67
> 
> 时间：2012-12-01T18:44:07.127

我终于能够解决这个问题。阅读文档并玩弄之后，这很容易

这是指令：

```
angular.module('components', []).directive('category', function () {
return {
    restrict: 'E',
    scope: {},
    templateUrl: '/Scripts/app/partials/CategoryComponent.html',
    controller: function ($scope, $http, $attrs) {
        $http({
            url: "api/FeaturedProducts/" + $attrs.catName,
            method: "get"
        }).success(function (data, status, headers, config) {
            $scope.Cat = data;
        }).error(function (data, status, headers, config) {
            $scope.data = data;
            $scope.status = status;
        });

    }
}
}); 
```

这是具有多次调用相同组件但具有不同参数的主页

```
 <ul class="unstyled">
    <li>
    <category cat-name="Ultrabooks"></category>
    </li>
    <li>
    <category cat-name="Tablets"></category>
    </li>
    <li>
    <category cat-name="Laptops"></category>
    </li>
    <li>
    <category cat-name="Digital SLR Cameras"></category>
    </li> 
```

类别组件.html

```
<a href="#/Categories/{{Cat.CategoryName}}">
    <h4>{{Cat.CategoryName}}</h4>
</a>
<div ng-switch on="status">
    <div ng-switch-when="500" class="alert alert-error">
        {{status}}
        {{data}}
    </div>
    <div ng-switch-default>
        <ul class="unstyled columns">
            <li class="pin" ng-repeat="p in Cat.Products">
                <a href="#/reviews/{{p.UPC}}">
                    <h5>{{p.ProductName}}</h5>
                    <img src="{{p.ImageUrl}}">
                </a>
            </li>
        </ul>
    </div>
</div> 
```

# sql - SQL-PL 触发器编译错误

> ID：13619265
> 
> 赞同：-1
> 
> 时间：2012-11-29T05:12:19.117
> 
> 标签：sql, oracle

我正在尝试创建一个触发器，当我们从 nm_employees 表中删除值时，该触发器会将值输入到表 terminate_employees 中。我已经编写了触发器，但是我收到了 PL 语句的编译错误。有任何想法吗？

```
CREATE TABLE nm_departments(
dept2 varchar(20),
CONSTRAINT empPK PRIMARY KEY (dept2)
);

CREATE TABLE nm_employees(
name varchar(20),
dept varchar(20),
CONSTRAINT departments FOREIGN KEY (dept) REFERENCES nm_departments (dept2)ON DELETE     CASCADE
);

CREATE TABLE terminated_employees(
te_name varchar(20),
te_dept varchar(20)
);

CREATE OR REPLACE TRIGGER DeleteCustomer
BEFORE DELETE ON nm_employees
FOR EACH ROW
BEGIN
INSERT INTO terminated_employees (te_name,te_dept)
VALUES(:Old.te_name, :Old.te_dept);
END DeleteCustomer; 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-29T05:23:48.053

如果您在 *nm_employees* 上编写触发器，这将编译，这将是您必须编写的代码

```
 CREATE TABLE nm_departments(
    dept2 varchar(20),
    CONSTRAINT empPK PRIMARY KEY (dept2)
    );

CREATE TABLE nm_employees(
name varchar(20),
dept varchar(20),
CONSTRAINT departments FOREIGN KEY (dept) REFERENCES nm_departments (dept2)ON DELETE     CASCADE
);

CREATE TABLE terminated_employees(
te_name varchar(20),
te_dept varchar(20)
);

CREATE OR REPLACE TRIGGER DeleteCustomer
BEFORE DELETE ON nm_employees
FOR EACH ROW
BEGIN
INSERT INTO terminated_employees (te_name,te_dept)
VALUES(:Old.name, :Old.dept);
END DeleteCustomer; 
```

# c - 为什么 clutter_actor_animate 会影响错误的演员？

> ID：13619268
> 
> 赞同：1
> 
> 时间：2012-11-29T05:12:33.267
> 
> 标签：c, clutter

我一直在使用 Clutter，使用[本教程](http://www.tuxradar.com/content/clutter-beginners-tutorial)作为参考，并尝试为三个组设置动画，每个组包含一个彩色矩形。我正在尝试使用`clutter_actor_animate`本教程中使用的方法。如果我只为这三个中的一个设置动画，它会起作用；但是，如果我尝试为两个或更多组设置动画，第一个动画似乎适用于所有动画。为什么是这样？这是我的代码的相关部分：

```
clutter_actor_animate (group_red, CLUTTER_EASE_OUT_SINE, 500, "x", 0-width, "y", 0, NULL);
clutter_actor_animate (group_green, CLUTTER_EASE_OUT_SINE, 500, "x", 0, "y", 0, NULL);
clutter_actor_animate (group_yellow, CLUTTER_EASE_OUT_SINE, 500, "x", width, "y", 0, NULL); 
```

`width`包含 value 的 gfloat在哪里`200`。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-29T19:24:41.200

我知道了答案：`clutter_actor_animate`这些值需要浮点数，所以我需要放置`0.0`而不是`0`. 正确的版本是：

```
clutter_actor_animate (group_red, CLUTTER_EASE_OUT_SINE, 500, "x", 0.0-width, "y", 0.0, NULL);
clutter_actor_animate (group_green, CLUTTER_EASE_OUT_SINE, 500, "x", 0.0, "y", 0.0, NULL);
clutter_actor_animate (group_yellow, CLUTTER_EASE_OUT_SINE, 500, "x", width, "y", 0.0, NULL); 
```

# matlab - 簇中的质心错位

> ID：13619272
> 
> 赞同：-1
> 
> 时间：2012-11-29T05:13:18.073
> 
> 标签：matlab, cluster-analysis, octave, k-means, centroid

所以我实现了一些聚类算法，我应该创建一个算法来规范化数据并比较有和没有归一化的聚类。

我实现的非常简单，只是最小-最大归一化（我正在使用 Matlab 顺便说一句）：

```
 function [dataNorm] = nMinMax(data)
 [x, y] = size(data);
 dataNorm = zeros(x, y);

 for j = 1:y
     m = min(data(:,j));
     M = max(data(:,j));
     for i = 1:x
         n = (data(i,j) - m)/(M-m);
         dataNorm(i,j) = n;
     end
 end  
 end 
```

这就是我从没有标准化的聚类中得到的：

![在此处输入图像描述](../Images/4af3211d50875fcfaf5aff809018efbb.png)

现在它变得奇怪了，在标准化之后，这就是我得到的：

![在此处输入图像描述](../Images/87412cb91ced5cf2436634dfe71af838.png)

集群是相同的，当我认为它应该改善结果时......

所以我的问题是，我的算法有问题还是我以错误的方式解释结果？如果我是，标准化后集群应该是什么样子？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-29T09:05:38.750

你的第二个**情节**不正确。

您正在绘制*标准化*的聚类中心，但绘制的是未*标准化*的数据集。标准化后，您的数据应该在 [0:1] 范围内，但显然不是 - 但您的集群意味着是。注意到它们在 0:1 框内吗？

难怪他们不匹配。绘制归一化数据集，或对集群中心应用反向归一化以获得它们的非归一化位置。

但是，您的原始数据集“几乎是正方形”。X 和 Y 轴的取值范围相同，大约为 -6 到 +6；X 和 Y 的差异明显小于簇分离。因此，如果您没有看到归一化对该数据集的任何影响，这并不奇怪。尝试更硬的数据集，其中轴的缩放比例大不相同，集群具有不同的大小（对象数量）、扩展（即空间大小）和形状，并且集群不太清楚地分开。

# android - android片段区别？

> ID：13619273
> 
> 赞同：3
> 
> 时间：2012-11-29T05:13:27.677
> 
> 标签：android, android-fragments

支持库片段和直接使用 android.app.Fragment 的主要核心区别是什么。它们在性能以及未来的扩展和灵活性方面有何不同？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-24T19:45:46.257

使用支持库允许您将应用程序定位到较旧的 Android 版本（API 级别 4 及更高版本）。

使用支持库 Fragments 会强制您的 Activity 扩展 ActivityFragment，如果您希望 Activity 扩展 Activity 的不同子类，这可能是一个限制。

至于性能差异，我不知道是否有差异，但更有可能是原生片段的性能优于支持库。

如果您正在编写一个应用程序，其唯一的“新 API”要求是 Fragments，您可能应该使用支持库，因为市场上的许多设备仍然使用 Android 3.0（API 级别 11）之前的版本。如果您正在使用其他新 API，则应考虑使用较新 API 的原生 Fragments。

# asp.net-mvc - 服务器端调用 apiController 用 iis7 给出 404

> ID：13619276
> 
> 赞同：0
> 
> 时间：2012-11-29T05:13:43.237
> 
> 标签：asp.net-mvc, iis-7, asp.net-web-api

这是我的代码：

```
1 HttpClient client = new HttpClient();
2 client.BaseAddress = new Uri("http://localhost/");
3 HttpResponseMessage message = client.GetAsync("api/MyAPI").Result;
4 IEnumerable<string> supplies = 
                 message.Content.ReadAsAsync<IEnumerable<string>>().Result;
5 return View(supplies); 
```

并且错误发生在第 3 行 Error:404

但是当我使用 Visual Studio 2010 开发服务器时，没有出现错误。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-29T09:37:16.677

本质上，您必须自己在这里处理这些案件。

对于开发，您的 API 的路径是：

```
http://localhost/api/MyAPI 
```

对于 IIS 上的生产，它是：

```
http://localhost/WebAPITest/api/MyAPI 
```

最简单的方法，实际上是我们在我公司所做的，是将基本路径放入配置（可能是应用程序设置）中，然后执行以下操作：

```
Settings.BaseUrl = "http://localhost/";
client.BaseAddress = new Uri(Settings.BaseUrl); 
```

当您部署到 IIS 时，更改`Settings.BaseUrl`为`http://localhost/WebAPITest/`.

理想情况下，您还可以删除 VS 开发服务器并在 IIS 上进行调试。（这需要以管理员权限运行 VS）

# android - 如何获取带有resourceid的图像名称？

> ID：13619277
> 
> 赞同：0
> 
> 时间：2012-11-29T05:13:55.897
> 
> 标签：android

```
int igotit=getResources().getIdentifier(val, "drawable", getPackageName()); 
```

上面的语句返回`resourceid`。从中`resourceid`获取**图像**在`drawable`文件夹中的图像名称。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-29T05:18:31.883

我希望您正在从资源 id 中寻找资源名称。使用下面的 api

```
 String name = getResources().getResourceEntryName(resid); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-29T05:18:38.680

试试这样

```
String res_name = getResources().getResourceEntryName(int resid); 
```

或者

```
String res_name = getResources().getResourceName(int resid); 
```

# cuda - cuda 错误消息：无效的设备符号

> ID：13619279
> 
> 赞同：2
> 
> 时间：2012-11-29T05:14:19.040
> 
> 标签：cuda

当我运行 cuda 二进制文件时，我看到了“无效设备符号”的消息。编译过程中没有错误。消息在下面。

```
Cuda error in file 'euler3d.cu' in line 416 : invalid device symbol. 
```

相关源代码如下。

```
CUDA_SAFE_CALL( cudaMemcpyToSymbol(ff_variable, h_ff_variable, NVAR*sizeof(float)) ); 
```

源代码有什么问题吗？实际上这段代码来自 Rodinia v2.1，cfd 基准程序。我正在使用 cuda 3.1 版并使用以下选项进行编译。

```
nvcc -Xptxas -v -O3 --gpu-architecture=compute_13 --gpu-code=compute_13 euler3d.cu -o euler3d -I$(CUDA_SDK_PATH)/common/inc  -L$(CUDA_SDK_PATH)/lib $(CUTIL_LIB) 
```

ff_variable 相关代码在这里。

```
#define NDIM 3
#define VAR_MOMENTUM  1
#define VAR_DENSITY_ENERGY (VAR_MOMENTUM+NDIM)
#define NVAR (VAR_DENSITY_ENERGY+1)
__constant__ float ff_variable[NVAR]; 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-29T09:36:00.260

`kk_d`编译器下方的代码并运行正常，但在替换时重现您的错误`"kk_d"`（即它编译，但`invalid device symbol`在运行时报告）。CUDA[参考（v. 4.2）](http://www.clear.rice.edu/comp422/resources/cuda/html/group__CUDART__MEMORY_gf268fa2004636b6926fdcd3189152a14.html#gf268fa2004636b6926fdcd3189152a14)在这里有点误导，因为它说第一个参数确实应该是 const 文字。

```
#include <cstdio>
#include "XFC_cudaError.cuh"   //my error reporting

__device__ int kk_d;

__global__ void foo() {
  printf("%i ", kk_d);
}

int main() {
  int kk = 10;
  cudaMemcpyToSymbol(kk_d, &kk, 4);
  CUDA_CHK;
  foo<<<1,1>>>();
  CUDA_CHK;
  cudaDeviceSynchronize();
} 
```

您现在应该能够适当地修改代码。请注意，这`printf`不会与`arch=sm_13`;一起编译。您至少需要`sm_20`，但这与您的问题无关。

**通过您的编辑**：复制数组的语法是......与您在代码中的完全一样。特别是添加`__constant__ float ff[2];`到全局设备变量和`float rr[] = {1,2};`主机代码允许复制 via `cudaMemcpyToSymbol(ff, rr, 8);`，它编译和运行正常，即使在`sm_13`.

也许错误源于较早的代码，或者来自您的`h_ff_variable`?

# c - 用于 C 程序的 Valgrind 报告令人难以置信的无效写入

> ID：13619283
> 
> 赞同：0
> 
> 时间：2012-11-29T05:14:35.263
> 
> 标签：c, valgrind

有人对 Valgrind 错误地报告无效写入有问题吗？我有一个带有这个循环的 C 程序：

```
void myfunc4(int *myData, ...) 
{
 int *variable1, *variable2, ii, ss, bb, jj;
 ...
 bb = 0;
 for (ii=0; ii<ss; ii++) {  
   for (jj=0; jj<(variable2[ii]-variable1[ii]+1); jj++) {
       myData[bb] = variable1[ii] + jj; /* valgrind reports error is on this line */
       bb = bb+1;
   }
   printf("ss = %d, ii = %d, bb = %d \n", ss, ii, bb);
 }
} 
```

我运行 Valgrind 使用，

```
valgrind --log-file=./logfile --leak-check=full ./myProgram 
```

它列出的第一个也是唯一一个“无效”错误是：

```
==6135== Invalid write of size 4
==6135==    at 0x4090AA: myfunc4 (myfunc4.c:170)
==6135==    by 0x408527: myfunc3 (myfunc3.c:168)
==6135==    by 0x406CA1: myfunc2 (myfunc2.c:84)
==6135==    by 0x410163: myfunc1 (myfunc1.c:133)
==6135==    by 0x413726: main (myProgram.c:511)
==6135==  Address 0x1077c250 is 209,712 bytes inside a block of size 209,715 alloc'd
==6135==    at 0x4A05FDE: malloc (vg_replace_malloc.c:236)
==6135==    by 0x408248: myfunc3 (myfunc3.c:119)
==6135==    by 0x406CA1: myfunc2 (myfunc2.c:84)
==6135==    by 0x410163: myfunc1 (myfunc1.c:133)
==6135==    by 0x413726: main (myProgram.c:511)
==6135== 
==6135== More than 10000000 total errors detected.  I'm not reporting any more.
==6135== Final error counts will be inaccurate.  Go fix your program! 
```

Valgrind 指出错误发生在代码行中：

```
myData[bb] = variable1[ii] + jj; 
```

如果我当时使用 gdb 逐步执行该程序，它运行良好。循环完成之前显示的最后一个 printf 是：

```
ss = 687, ii = 686, bb = 2690 
```

我似乎无法观察到 Valgrind 之外的任何问题。Valgrind 始终给出此错误，但 gdb 始终显示没有问题。

正如 Valgrind 正确报告的那样，分配的内存`myData`是 209712 字节，这是 209712/4 = 52428 个整数的空间（我使用的是 Linux 64 位机器）。从`printf`语句中，我可以看到 for 循环以 bb=2690 退出。所以用于数组的最大索引`myData[bb]`（Valgrind 抱怨的地方）是`myData[2689]`.

谁能阐明我接下来可以看的地方？我整天都在盯着这个。我没有太多使用 Valgrind，我不想称它为谎言，但我在这里做错了吗？非常感谢任何建议。

更新 1

`myfunc4()`对inside的调用`myfunc3()`是：

```
int *myData, lengthA; 
...
myData = malloc( sizeof(int) * lengthA / 10); 
myfunc4(myData); 
```

更新 2

如果我修改循环以包含一个`if (bb>10000)`语句，gdb 永远不会测试为真，但 Valgrind 会。编译的程序是一样的。任何人都知道发生了什么？

```
void myfunc4(int *myData, ...) 
{
 int *variable1, *variable2, ii, ss, bb, jj;
 ...
 bb = 0;
 for (ii=0; ii<ss; ii++) {  
   for (jj=0; jj<(variable2[ii]-variable1[ii]+1); jj++) {
       myData[bb] = variable1[ii] + jj; 
       bb = bb+1;
       if (bb>10000) {
          printf("bb=%d \n", bb); /* valgrind executes this line but gdb does not */
          exit(1);
       }
   }
   printf("ss = %d, ii = %d, bb = %d \n", ss, ii, bb);
 }
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-29T10:02:08.627

我终于弄清楚了这个错误。当然，Malloc 不会初始化为零，并且我有一个`if`设置一些数组值的语句（上面未显示），但是没有一条`else`语句可以捕获另一个路径来设置相同的数组值，因此其他path 使用了导致不良行为的未初始化值。

在这个调试工作中，与 Valgrind 相比，gdb 将数组初始化为零（通过 malloc）做得更好。并不是说应该依赖它，但这似乎是使用 gdb 和 Valgrind 获得的结果之间的差异，至少。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-29T06:20:26.360

获取为数据分配的实际字节数并将其传递给函数：

```
size_t szData = sizeof(int) * lengthA / 10; 
myData = malloc(szData);
myfunc4(myData, szData); 
```

并检查访问以验证 valgrind：

```
/* .... */
assert((bb +1) * sizeof(int) < szData);
myData[bb] = variable1[ii] + jj; 
```

# iphone - 如何在 IOS 上编写内存高效的代码？

> ID：13619288
> 
> 赞同：-1
> 
> 时间：2012-11-29T05:14:48.193
> 
> 标签：iphone, objective-c, ios, cocoa-touch, uiview

这个问题看起来很直接，但是我这里有一个情况，我只需要一些帮助如何有效地做到这一点。例如：我有三个视图视图 1、视图 2、视图 3。

首先，我从基础视图推送视图 1，然后从视图 1 推送视图 2，然后从视图 2 推送视图 3。现在视图 3 需要一个保存用户信息的对象。所以在这里我所做的是将用户对象从基础 1 传递给视图 1，并在加载所有视图时传递给视图 2 和视图 3，这里每个视图都将该对象存储为 Ivar，即使视图 1 和 2 不使用它.

我不认为直接从基础访问视图 3 来设置对象，或者从视图 3 访问基础以获得价值，知道如何处理这种情况。

作为一个初学者，我只想澄清这个疑惑。谢谢。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-11-29T06:36:38.293

如果您在所有 3 个视图中传递相同的对象，它不会占用任何额外的内存，因为每个视图只会增加该对象的保留计数。因此，有效地只计算了一个对象的内存。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-29T05:24:37.240

使用单例将您需要的信息保存在应用程序的不同类/视图中。

如果您不知道如何在 Objective C 中实现单例，请[遵循这个很好的教程。](http://www.galloway.me.uk/tutorials/singleton-classes/)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-29T05:27:32.473

据我了解，您正试图在视图 1 中创建一个对象并在视图 3 中使用。假设该对象是 Employee Class。以下是如何使用它。

视图 1 中的 Alloc 和 init Employee 对象。重写视图 2 的 init 方法，如

```
-(id)initWith:(Employee*)emp
{
     temEmp=emp;
} 
```

同样覆盖 View 3 init。

由于您只分配和初始化对象一次，因此所有三个视图共享同一个对象。你不会浪费内存

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-11-29T05:39:41.107

您可以将用户信息定义为一个类 UserInfo。然后您可以在 UserInfo.m 中编码如下：

```
static UserInfo *sharedUserInfo_ = nil;
+ (UserInfo*)sharedUserInfo{
  if(sharedUserInfo_ == nil){
  sharedUserInfo_ = [[UserInfo alloc] init];
}
return sharedUserInfo_;  
} 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-11-29T06:34:19.503

在 AppDelegate 中创建该用户对象。在 view3 中创建 appdelegate 引用。

```
 in view3.h
     AppDelegate *appdelegate;

 in view3.m
 -(void)viewDidLoad
   {
   appdelegate = (AppDelegate *)[[UIApplication SharedApplication]delegate];

   appdelegate.userobj=......

   } 
```

直接在 view3 中使用该对象

# php - php提取函数显示警告

> ID：13619290
> 
> 赞同：0
> 
> 时间：2012-11-29T05:14:51.983
> 
> 标签：php, extract

当我使用提取时，它会显示一些警告，例如**“PHP 警告：提取（） [function.extract]：第一个参数应该是一个数组”**

以下是代码

```
$HTTP_RAW_POST_DATA = file_get_contents('php://input');

ob_start();

global $mmb_core;
$data = unserialize(base64_decode($HTTP_RAW_POST_DATA));
$data =array($data);
$num  = extract($data); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-29T05:33:31.283

1.  首先，你要么不需要 line`$data =array($data);`要么不需要`unserialize`. 哪一个取决于输入的格式。如果输入是序列化数组，那么只有它就足够了`unserialize`。

2.  您需要确保这`$data`是一个关联数组。意味着其中的每个元素都有一个`string key`并且该键符合变量命名规则（例如，不以数字开头）。如果是数组，而不是关联数组，就会产生这个错误。

此函数还验证这些键是否会覆盖已定义的变量。所以你需要使用正确的密钥。我会这样使用它

```
if(is_array($data)){
  $num = extract($data, EXTR_PREFIX_ALL, "data_");
} 
```

这将在每个键前面加上`data_`. 也适用于非关联数组制作变量`$data_0`等`$data_1`。

更多细节最好参考[官方文档](http://us3.php.net/extract)

# c# - 将枚举标志（位组合）与 linq 进行比较

> ID：13619291
> 
> 赞同：0
> 
> 时间：2012-11-29T05:14:54.370
> 
> 标签：c#, linq, enums, flags

我有一个这样声明的枚举

```
[Flags]
public enum PermissionEnum
{
    [EnumStringValue("None")]
    None = 0x0,
    [EnumStringValue("Create")]
    Create = 0x1,
    [EnumStringValue("Edit")]
    Edit = 0x2,
    [EnumStringValue("View")]
    View = 0x4
} 
```

我随后有一些 linq 试图获得可用的最高权限。

```
List<SecurityRolePermissionView> AvailablePermissions = GetPermissions();

SecurityRolePermissionView HighestPermission = AvailablePermissions.OrderByDescending(o => o.Permission).FirstOrDefault(); 
```

使用当前的枚举值，这似乎符合它的建议。但是，我非常确信这段代码是不正确的，但我不确定我能否解释为什么或如何实现正确的实现。

无论哪种方式，有人可以确认这是否实际上不正确（以及为什么）并解释如何实现我想要的结果？

**编辑：在解释我的最高权限是什么时，我可能不够清楚。这是一个标志枚举。因此它可以包含 None、Create、Edit、View 的任意组合。我希望找到的最高级别基本上是创建 + 编辑 + 视图。如果失败，编辑+查看，最后查看**

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-29T05:36:47.080

枚举排序与枚举的基础类型的排序相同（C# 规范第 7.9.5 节，“枚举运算符”）。因此，这是您可能的枚举值的顺序：

```
View | Edit | Create ( = 7)
View | Edit          ( = 6)
View | Create        ( = 5)
View                 ( = 4)
Edit | Create        ( = 3)
Edit                 ( = 2)
Create               ( = 1)
None                 ( = 0) 
```

如果该订购符合您的要求，那么您的代码是正确的。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-29T05:21:55.913

我不确定是否有任何从八进制到整数的直接转换函数。

您可以创建一个函数，它在我们传递枚举值时返回 int 值。例如， `GetIntValue(PermissionEnum.None)` 这将返回 0；

所以你可以编写如下的排序逻辑：

```
SecurityRolePermissionView HighestPermission = AvailablePermissions.OrderByDescending(o => GetIntValue(o.Permission)).FirstOrDefault(); 
```

# c++ - 将二维数组传递给只接受一维数组的函数 (C++)

> ID：13619293
> 
> 赞同：0
> 
> 时间：2012-11-29T05:15:01.243
> 
> 标签：c++, opengl, codeblocks

我正在学习 OpenGL 中的顶点数组对象。使用 mingw gcc 作为我的编译器运行代码块。我使用它从文本文件中加载数据（只是一堆用作墙壁的四边形）

```
void setup_world()                                                          // Sets up the world using the world.txt file
{
    float x, y, z, u, v;
    FILE *filein;
    char oneline[255];
    filein = fopen("Data/world.txt", "rt");
    readstr(filein, oneline);
    sscanf(oneline, "NUMPOLLIES %d\n", &numpolygons);
    int cols = 13;
    int rows = numpolygons+1;
    polygondata = new float*[rows];
    for(int i = 0; i < rows; i++)
        polygondata[i] = new float[cols];
    polygondata[0][0] = 69.01;
    for (int loop = 0; loop < numpolygons; loop++)
    {
        readstr(filein, oneline);
        sscanf(oneline, "%f %f %f %f %f %f", &x, &y, &z, &u, &v);
        polygondata[loop][0] = x;
        polygondata[loop][1] = y;
        polygondata[loop][2] = z;
        readstr(filein, oneline);
        sscanf(oneline, "%f %f %f %f %f %f", &x, &y, &z, &u, &v);
        polygondata[loop][3] = x;
        polygondata[loop][4] = y;
        polygondata[loop][5] = z;
        readstr(filein, oneline);
        sscanf(oneline, "%f %f %f %f %f %f", &x, &y, &z, &u, &v);
        polygondata[loop][6] = x;
        polygondata[loop][7] = y;
        polygondata[loop][8] = z;
        readstr(filein, oneline);
        sscanf(oneline, "%f %f %f %f %f %f", &x, &y, &z, &u, &v);
        polygondata[loop][9] = x;
        polygondata[loop][10] = y;
        polygondata[loop][11] = z;
    }
    fclose(filein);
    return;
} 
```

我知道这有点多余，但在我开始重写将所有数据存储到数组中的部分之前它会起作用。
通常，数据被传递给 OpenGL 的顶点数组对象使用

```
glBufferData(GL_ARRAY_BUFFER, sizeof(g_vertex_buffer_data), g_vertex_buffer_data, GL_STATIC_DRAW); 
```

OpenGL 通常会接收一个类似的数组，生成一个四边形

```
float g_vertex_buffer_data[] =
{
    -1.0, -1.0,-5.0,
    1.0, -1.0, -5.0,
    1.0,  1.0, -5.0,
    -1.0,  1.0, -5.0,
}; 
```

该函数期望 g_vertex_buffer_data 是一维数组，但是我将所有顶点数据存储到一个二维数组中，第一维用于存储多个多边形（在本例中为 QUADS），第二维用于存储所有 12四边形的顶点。

解决这个问题的最佳方法是什么？

我提出的一个建议的解决方案是创建另一个数组（但是是一维的），它将一次临时存储一个多边形的顶点数据。在我将这个单维数组传递给 glBufferData 函数之后（因为 glBufferData 接收单维数组没有问题）。我会为每个多边形重复此操作，有效地遍历我的整个二维数组，并将函数数据逐个多边形传递给 glBufferData 多边形。我知道我必须将每个多边形放在单独的顶点缓冲区中，无需提醒我。我只需要知道是否可以传入我的二维数组的一部分！
有没有更简单、更有效的方法来做到这一点。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-29T05:26:09.853

这是一个更好的想法，它不涉及......你做了什么。

```
std::vector<GLfloat> polygondata;
polygondata.reserve(numpolygons * 4 * 3);
for (int loop = 0; loop < numpolygons * 4 * 3; loop++)
{
    readstr(filein, oneline);
    sscanf(oneline, "%f %f %f %f %f %f", &x, &y, &z, &u, &v);
    polygondata.push_back(x);
    polygondata.push_back(y);
    polygondata.push_back(z);
} 
```

不仅删除了无意义的内存分配，您现在还拥有一维数组中的数据，您可以以一维方式对其进行索引。如果要访问多边形 Y 的顶点 X，请使用`Y * numpolygons + X`索引。`glBufferData(..., sizeof(GLfloat) * polygondata.size(), &polygondata[0], ...)`您可以使用简单的命令将数据上传到 OpenGL 。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-29T05:23:54.350

您可以只传递二维数组的 1 行并给出两个索引之一，然后它将仅引用特定的多边形数据。

[您可以在https://stackoverflow.com/a/13427008/1520364](https://stackoverflow.com/a/13427008/1520364)看到类似的用法

# cocos2d-iphone - Cocos 2D First App 基础问题

> ID：13619299
> 
> 赞同：0
> 
> 时间：2012-11-29T05:15:33.080
> 
> 标签：cocos2d-iphone, uikit, nib

我是 Cocos 2D 的新手，我研究了 cocos 2D 框架，两天后我很困惑，想问你一些问题。

我必须为 iPhone 和 iPad 目标创建一个带有 cocos2D 框架的应用程序。

1.  什么时候使用 cocos Box 2d？
2.  我们可以在 Cocos2D 中使用 nib 文件吗？创建 UI 的标准方法是什么？
3.  我必须为 iPhone 和 iPad 设备创建一个应用程序。我应该如何管理这个？我们是否可以为 iphone 和 ipad 目标提供不同的 nib 文件？或者我必须在我的应用程序中为 iphone 和 ipad 提供支票。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-29T10:05:57.677

根据我的回答你的问题是

1- 仅当您想模拟真实世界之类的东西时才使用 Box2d。重力、质量、自然碰撞等其他明智的简单 2d 游戏只能使用 cocos2d 制作。Box2d 用于许多真实世界的模拟。

2-据我所知 cocos2d 中没有 Nib 文件，但我们使用 CCLayer 代替。游戏的所有可见内容都安排在 CCLayer 或其子级上。没有任何类似界面生成器的东西，但我们使用 CCSprite、CCMenu 编码，ETC。

3-为 i 手机和 ipad 创建应用程序，在应用程序的信息页面上使用设备系列中的通用构建。为不同的设备使用不同的资源并编写类似的代码

```
if(UI_USER_INTERFACE_IDIOM()==UIUserInterfaceIdiomPad)
    {

CCSprite *back=[CCSprite spriteWithFile@"back-ipad.png"];
// rest of coding

    }
else
{

CCSprite *back=[CCSprite spriteWithFile@"back-.png"];
// rest of coding

    } 
```

# jsf - 如何使用 PrimeFaces 实现递归菜单

> ID：13619305
> 
> 赞同：3
> 
> 时间：2012-11-29T05:16:10.493
> 
> 标签：jsf, dynamic, menu, primefaces

我正在尝试创建一个动态菜单：类似于在亚马逊或 eBay 上找到的用于浏览类别的菜单。我的第一次尝试如下所示：

支持bean：

```
@ManagedBean
@ViewScoped
public class CategoryBackBean implements ActionListener {
    private MenuModel model;
    private Category category;

    public CategoryBackBean() throws IOException {
        category = Category.createRootCategory();
        createModel();
    }

    private void createModel() throws IOException {
        MenuModel tempModel = new DefaultMenuModel();
        for(Category c : category.getChildCategories()) {
            MenuItem childItem = new MenuItem();
            childItem.setValue(c.getName());
            childItem.addActionListener(this);
            tempModel.addMenuItem(childItem);
        }
        this.model = tempModel;
    }

    public MenuModel getModel() {
        return model;
    }

    @Override
    public void processAction(ActionEvent event) throws AbortProcessingException {
        try {
            MenuItem item = (MenuItem) event.getSource();
            String categoryName = (String) item.getValue();
            for(Category c : category.getChildCategories()) {
                if(c.getName().equals(categoryName)) {
                    category = c;
                    createModel();
                    return;
                }
            }
        } catch (IOException ex) {
            Logger.getLogger(CategoryBackBean.class.getName()).log(Level.SEVERE, null, ex);
        }
    }
} 
```

网页：

```
<h:body>
    <h:form>
        <p:menubar model="#{categoryBackBean.model}" />
    </h:form>
</h:body> 
```

对于初学者，我的设计不起作用：创建了初始菜单，但是单击按钮时，不会在子类别中重新创建菜单。

解决这个普遍问题的**最佳方法是什么？**我不是在寻找让上述代码正常工作的快速技巧——我正在寻找递归菜单的通用设计。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-01-12T01:03:57.347

操作完成后，您需要更新菜单。鉴于您不想对菜单 ID 进行硬编码，请使用`@parent`.

```
childItem.setUpdate("@parent"); 
```

如果菜单是表单中的唯一组件，另一种选择是仅使用`@form`.

这一切是否是“最好”的方式都无法客观回答。如果代码以最简单且干扰最少的方式完成了您想要的工作，那么它是可以接受的。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-29T22:31:12.050

解决方案 1。

我认为要通知 actionListener，首先必须有一个 action 事件。所以我尝试添加这个丑陋的代码（肯定有更好的方法吗？）为每个 childItem 添加一个动作事件：

```
private void createModel() throws IOException {
    FacesContext facesCtx = FacesContext.getCurrentInstance();
    ELContext elCtx = facesCtx.getELContext();
    ExpressionFactory expFact = facesCtx.getApplication().getExpressionFactory();

    MenuModel tempModel = new DefaultMenuModel();
    for(Category c : childCategories) {
        MenuItem childItem = new MenuItem();
        childItem.setValue(c.getName());
        childItem.addActionListener(this);
        childItem.setActionExpression(expFact.createMethodExpression(elCtx, "#{categoryBackBean.doSomething()}", void.class, new Class[0]));
        tempModel.addMenuItem(childItem);
    }
    this.model = tempModel;
} 
```

Where`doSomething()`只是一个用于调用动作侦听器的虚拟方法。

这导致了在提交响应后创建会话的[问题，这需要这个 hack：](https://stackoverflow.com/questions/8072311/illegalstateexception-cannot-create-a-session-after-the-response-has-been-commi)

```
@PostConstruct
public void sessionStart() {
    FacesContext.getCurrentInstance().getExternalContext().getSession(true);
} 
```

毕竟，我需要在每个元素上禁用 Ajax 以便提交表单：

```
childItem.setAjax(false); 
```

所以总而言之，一个hack链，但它现在可以运行（没有ajax）。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-30T04:08:48.880

另一个解决方案，解决方案 2。这个解决方案避免了设置操作表达式的需要，但是，它确实引入了对 XHTML 代码的向后依赖（在这种情况下，`<p:menubar ..>`必须有一个 id 为“menuid”）。

```
private void createModel() throws IOException {
    MenuModel tempModel = new DefaultMenuModel();
    for(Category c : childCategories) {
        MenuItem childItem = new MenuItem();
        childItem.setValue(c.getName());
        childItem.addActionListener(this);
        childItem.setUpdate("menuId");     // Magic new line.
        tempModel.addMenuItem(childItem);
    }
    this.model = tempModel;
} 
```

这是通过使每个菜单项导致整个菜单栏通过 Ajax 更新来实现的。如果有某种方法可以在不进行硬编码的情况下获取菜单的 ID...

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-12-01T00:44:32.573

解决方案 3\. 这个解决方案非常简单。支持bean：

```
@ManagedBean 
@ViewScoped 
public class CategoryBackBean implements Serializable {
    private Category category = Category.createRootCategory();
        public void setCategory(Category category) {
        this.category = category;
    }     

    public Category getCategory() { 
        return category;
  }
} 
```

网页：

```
<h:form>
    <p:menu id="myMenu">
        <c:forEach items="#{categoryBackBean.category.childCategories}" var="subCategory">
            <p:menuitem value="#{subCategory.name}" update="myMenu">
                <f:setPropertyActionListener target="#{categoryBackBean.category}" value="#{subCategory}" />
            </p:menuitem>
        </c:forEach>
    </p:menu>
</h:form> 
```

值得注意的点：

*   `<c:forEach>`被使用而不是`<ui:repeat>`因为后者在 Primefaces 菜单中不起作用。

*   是在 XHTML 中设置的`update="myMenu"`，而不是在支持代码中。这消除了我的解决方案 #2 的问题。

*   该设计违背了建议的 Primefaces 设计启发式，正如[这里](http://forum.primefaces.org/viewtopic.php?f=3&t=7502)所暗示的那样，即应该使用支持模型而不是使用`<ui:repeate>`or创建菜单`<c:forEach>`（鉴于技术的简单性，我会反对这一点`<c:forEach>`）。

**更新**

不要使用这个答案！在`<c:forEach/>`创建组件树之前“运行”，并且在通过 Ajax 或使用回发更新页面时不会重新运行。它对我有用的唯一原因是第一个类别具有最多的子类别，因此，它最初会创建足够`<p:menuitems />`用于任何其他类别的组件树。

# javascript - JavaScript 函数格式：其中之一是方法吗？

> ID：13619306
> 
> 赞同：2
> 
> 时间：2012-11-29T05:16:16.780
> 
> 标签：javascript

有什么区别：

```
pause: function () {
    this.state.gamePaused = true;
}, 
```

和

```
function pause() {
    this.state.gamePaused = true;
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-29T05:18:12.317

第一个示例可能是对象的一部分，这意味着 pause 是 Javascript 对象的函数，第二个示例 pause 作为独立函数。

我希望看到第一个示例，例如：

```
var someObject = {
  pause: function () {
    this.state.gamePaused = true;
  },
  anotherProperty : "some value"
} 
```

因此它的用法如下：

```
someObject.pause(); 
```

另一方面，第二个示例的用法如下：

```
pause(); 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-11-29T05:24:07.350

两者都是函数（又名方法），只是它们以两种不同的方式声明以在两种不同的设置中使用。

在 JS 中，您可以像这样定义对象：

```
var obj = {
    flagVariable:  false,
    intVariable:    115,
    stringVariable:  'hello world',
    functionVariable:  function() { alert("Hello world!"); }
} 
```

在这个例子中，对象的最后一个属性是一个函数。这是一个匿名函数，这意味着它本身没有被命名。这就是为什么'function'和'()'之间没有名字的原因。因此，您可以使用分配给它的变量来引用它，如下所示：

```
foo.functionVariable(); 
```

您还可以传递它并通过分配给它的任何变量的名称来执行它：

```
var callback = foo.functionVariable;
callback(); 
```

你也可以在任何地方声明函数，所以在全局范围内你可以说：

```
function pause () {  alert("Hello world!"); } 
```

这定义了一个命名函数，它可以在任何地方按名称执行：

```
pause(); 
```

顺便说一句，这也可以传递：

```
var callback = pause;
callback(); 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-11-29T13:46:57.837

ECMAScript 将方法定义为作为属性值的函数。因此，当您将函数放在对象上时，我们将其称为该对象的方法。

所以要回答这个问题，第一个是方法。

> [ECMAScript 4.3.27 - 方法](http://es5.github.com/#x4.3.27)
> 
> 函数是一个属性的值。
> 
> 注意 当函数作为对象的方法被调用时，对象作为其`this`值传递给函数。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-11-29T13:50:47.923

1.  附加到一个对象，这仍然是一个**函数**，但称为一个方法。它附加到对象，它的`this`参数指的是该对象。像这样称呼它：`obj.pause()`

2.  该函数定义在全局命名空间中，可以从任何地方调用，并附加到`window`对象上。`this`在函数中引用`window`对象。简单地这样称呼它：`pause()`

请注意，这两个函数*实际上*都是方法，尽管后者很少被称为一个。

# javascript - 如何调用其他jsp页面脚本函数的java脚本函数

> ID：13619307
> 
> 赞同：1
> 
> 时间：2012-11-29T05:16:23.437
> 
> 标签：javascript, jsp

在获取 index.jsp 脚本函数中的值之后，我想`index.jsp`从这里调用 JavaScript 函数，然后我想从这些函数内部调用 servlet`file.jsp`

这是我的 index.jsp

```
<%@page import="org.apache.catalina.connector.Request"%>
<%@ page language="java" contentType="text/html; charset=ISO-8859-1" pageEncoding="ISO-8859-1"%>
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<%@ taglib prefix="c" uri="http://java.sun.com/jstl/core" %>
<%@ taglib prefix="fmt" uri="http://java.sun.com/jstl/fmt" %>
<%@ taglib prefix="sql" uri="http://java.sun.com/jstl/sql" %>
<%@ taglib prefix="x" uri="http://java.sun.com/jstl/xml" %>
<html>
    <head>
     <script type="text/javascript">
           function popuponclick()
           {
              var mywindow=window.open("file.jsp", "file","status=1,width=350,height=150");
           }
           function onLoadById(long id)
           {
              after getting value call the servlet GetEmployeeServlet passing id as a parameter
           }
           function onLoadByname(String name)
           {
              after getting value call the servlet GetEmployeeServlet passing name as a parameter
           }    
     </script>
    </head>
    <body>

    <form name="form1">

    <%String name11=request.getParameter("name"); 
    out.println(name11);%>
        <% if(name11!=null){
            out.println(name11);
            session.setAttribute("EmployeeById","1");}
        %>
    <table>
    <tr>
    <td><input type="submit"  onclick="popuponclick()" value="GetEmployeeById" name="name"/>
    <input type="hidden" name="GetEmp" value="1"></td>
    </tr>

    <tr>
    <td><input type="submit"  onclick="popuponclick()" value="GetEmployeeByname" name="name1"></td>
    </tr>
     </table>
     </form>
    </body>
    </html> 
```

这是我的文件 .jsp

```
 <!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<%@ taglib prefix="c" uri="http://java.sun.com/jstl/core"%>
<%@ taglib prefix="fmt" uri="http://java.sun.com/jstl/fmt"%>
<%@ taglib prefix="sql" uri="http://java.sun.com/jstl/sql"%>
<%@ taglib prefix="x" uri="http://java.sun.com/jstl/xml"%>
<%@page
    import="com.nousinfo.tutorial.employee.service.model.bo.EmployeeBO"%>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<title>Insert title here</title>

<script>
function myfuntion()
{
    var d=document.getElementById('first');
    var c=document.getElementById('second');
    alert(window.parent);
    window.close();
    }
</script>
</head>

<bod>

<% if (session.getAttribute("EmployeeById")!=null) {
    session.removeAttribute("EmployeeById");
%>
<div>
<table>
<tr>
<td>GetEmployeeByName</td>
</tr>
<tr>
<td><input id="first" type="text" name="GetEmployeeByName"/></td></tr>
</table>
</div>
<% } else { %>
<div>
<table>
<tr>
<td>GetEmployeeById</td>
</tr>
<tr>
<td><input id="second" type="text" name="GetEmployeeById"/></td></tr>
</table>
</div>
<% } %>
<table>
<tr>
<td><input id="submit"  type="submit" name="submit" value="find" onclick="myfuntion()"></td>
</tr>
</table>

</body>
</html> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-29T05:21:05.943

执行以下步骤：

1.  将文件中的脚本移动`index.jsp`到新的 JavaScript 文件（例如`index.js`文件）中，并将文件放在新文件夹中，例如`js`在您的`WebContent`文件夹中。

2.  通过在该部分中放置以下链接来`index.js`链接文件：`index.jsp``<head>`

    ```
    <script language="JavaScript" src="<%=request.getContextPath()%>/js/index.js"> 
    ```

3.  `file.jsp`在文件中做同样的事情。

这样，相同的 javascript 代码将可用于`index.jsp`和`file.jsp`文件。

# ruby - 如何将 EM::Synchrony::Multi 与 redis 一起使用？

> ID：13619308
> 
> 赞同：0
> 
> 时间：2012-11-29T05:16:23.947
> 
> 标签：ruby, asynchronous, concurrency, eventmachine, em-synchrony

我正在尝试并行执行多个 redis 查询，但出现错误：

```
/var/lib/gems/1.9.1/gems/em-synchrony-1.0.2/lib/em-synchrony.rb:53:in `resume':
dead fiber called (FiberError) 
```

这是代码：

```
require 'em-synchrony'
require 'redis/connection/synchrony'
require 'redis'

redis = EM::Synchrony::ConnectionPool.new(size: 4) do
  Redis.new
end

EM.synchrony do
  multi = EM::Synchrony::Multi.new
  multi.add :a, redis.alpush('foo', 1)
  multi.add :b, redis.alpush('foo', 2)
  res = multi.perform

  p res

  EM.stop
end 
```

请帮忙

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-02T17:47:18.387

使用 Eventmachine 特定`em-hiredis`gem 而不是默认驱动程序。

`gem install em-hiredis`

```
require 'em-synchrony'
require 'em-synchrony/em-hiredis'

redis = EM::Synchrony::ConnectionPool.new(size: 4) do
          EM::Hiredis.new
        end 
```

在任何地方`EM::Synchrony`都可以使用，通常建议使用随`em-synchrony`. 这就是为什么声明`em-synchrony/em-hiredis`而不是`require em-synchrony`.

# linux - bash 系统范围的交互式非登录配置

> ID：13619313
> 
> 赞同：0
> 
> 时间：2012-11-29T05:16:41.630
> 
> 标签：linux, bash, shell, ubuntu

在 ubuntu 目录 /etc/profile.d 中，我可以从我的软件包（我的意思是 *.deb）中配置**bash 。**但它不适用于交互式非登录 shell。如何在系统范围内的那种类型的 shell 中添加一些东西？

因为我需要它用于**deb**包，所以我无法修改 /etc/bash.bashrc （或者我可以以某种方式吗？）

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-29T08:14:21.453

好的。我找到了解决方法。我正在修改 /etc/bash.bashrc。

只是我想知道 bash 是否会更新，它会覆盖我的更改？

# wso2esb - 创建 Carbon 应用程序项目 WSO2 不创建 root-artifact.xml

> ID：13619314
> 
> 赞同：1
> 
> 时间：2012-11-29T05:16:52.847
> 
> 标签：wso2esb, wso2carbon

当我尝试创建 Carbon Application project.pom.xml 文件时，我没有得到文件**root-artifact.xml**

# html - 如何在css中将一个图像堆叠在另一个图像上？

> ID：13619316
> 
> 赞同：0
> 
> 时间：2012-11-29T05:16:59.903
> 
> 标签：html, css

我想将图像 b 堆叠在图像 a 上，图像 b 将自动与图像 a 一起移动，无论它移动到哪里。这是我的代码

```
 <div id="down">
  <img id="yes" src="http://img.wallpaperstock.net:81/hi%2c-loser-wallpapers_17839_1024x768.jpg" >

  <div id="up">
  <img id="no" src="http://upload.wikimedia.org/wikipedia/commons/thumb/5/5a/SMirC-hi.svg/320px-SMirC-hi.svg.png">
  </div>

 </div> 
```

这是我的CSS：

```
 #down{

         float: right;

     }

     #up{

        position: absolute;
        top: 10px;
        left: 10px;

     } 
```

我认为图像 b 也将与图像 a 一起浮动，并且绝对位置距离图像 b 的顶部和左侧 10px 的绝对位置。为什么不是那样？？？希望你明白我的意思

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-29T05:19:26.783

首先，正确添加您的图像 imagea.png 或 imagea.jpg 什么？

在此处添加 z-index

```
#up{
z-index:1;
position: absolute;
top: 10px;
left: 10px; 
```

}

并添加这个

```
#down{
     z-index:0;
         float: right;
     } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-29T05:27:08.860

我会使用`position:absolute`而不是浮动。

这是工作示例：[JSBin 中的位置](http://jsbin.com/welcome/54777/)

据我了解，定位`float`不起作用`left`，`right`只有`absolute`定位起作用。如果我错了，请有人纠正我。

# php - 将项目添加到包含相似索引的数组

> ID：13619318
> 
> 赞同：1
> 
> 时间：2012-11-29T05:17:06.870
> 
> 标签：php, arrays, multidimensional-array

我正在尝试将一个项目添加到 PHP 数组中。我尝试添加到数组中的项目可能与已经在数组中的项目具有相同的索引。如何在不覆盖在数组中共享相同索引的项目的情况下将项目添加到数组中？我希望类似的索引变成二维数组。

```
//Original Array
$array = array (
            "item1" => "data1",
            "item2" => "data2",
            "item3" => "data3"
        );

//Add items to array
$array["item1"] = "data2d";
$array["item5"] = "data4";

//Desired output
array (
    "item1" => array("data1", "data4"),
    "item2" => "data2",
    "item3" => "data3",
    "item4" => "data4"
); 
```

我将如何实现所需的输出？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-29T05:24:33.327

尝试如下功能。该函数尚未经过测试，因此可能存在一些语法错误。

```
function addArray(&$array, $key, $value) {
  if (isset($array[$key])) {
    if (!is_array($array[$key])) {
      $tmp = $array[$key];
      $array[$key] = array($tmp, $value);
    }
    else {
      array_push($array[$key], $value);
    }
  }
  else {
    $array[$key] = $value;
  }      
} 
```

像这样使用

```
$array = array (
  "item1" => "data1",
  "item2" => "data2",
  "item3" => "data3"
);

//Add items to array
addArray($array, 'item1', 'data2d'); 
```

# php - 在 Bash 脚本中使用 Grep 获取代码库版本

> ID：13619325
> 
> 赞同：0
> 
> 时间：2012-11-29T05:17:58.757
> 
> 标签：php, bash, drupal

假设我编写了一个 bash 脚本，其中我提到了我的代码库的版本。（比如在 settings.php 下）。现在我想要一个 bash 脚本，它将获取另一个 bash 脚本中提到的代码库版本，在这种情况下我如何使用“Grep”命令。我试过了，但没有成功。请帮忙。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-29T05:26:57.433

`grep`是一个线匹配工具。它将输出找到匹配子字符串的整行。但是在`bash`脚本中你可以从中读取输出，但是使用`read`只会给你整个`grep`输出的最后一行。例如，如果输出`grep "version"`为：

```
version:1.1.1
module_version:0.1.2 
```

然后`read`将只捕获最后一行`module_version:0.1.2`，而不是第一行。

假设您的文件中的案例有 line `version:1.1.1`。在 bash 脚本中你可以做

```
cat your_file | grep 'version'
read LINE 
```

这会给你 variable `LINE="version:1.1.1"`。然后您将需要解析生成的字符串。但是由于我不确定字符串的格式是什么，所以我无法为您提供如何解析它的确切代码。

在获得更多详细信息后，这里是合适的解决方案：

```
db_version=$(cat $portal_codebase_version/sites/default/settings.php | grep "$GLOBALS['sdm_version']" | sed -n -e "s/^[^=]*= '[^ ]* \(.*\)';$/\1/p") 
```

这给了你

```
$ echo $db_version 
3.8.0.4
$ 
```

# mysql - MySQL主键声明

> ID：13619328
> 
> 赞同：3
> 
> 时间：2012-11-29T05:18:11.240
> 
> 标签：mysql, reference, foreign-keys, primary-key

我必须创建一个理货表，其中理货是通过从 booksavailable 和 newarrivals 获取售价、出版商的成本价格生成的，然后将两者相减以获得损益表。

如何使用引用上述键的语法声明计数表？该表的主键应该是什么？该表需要显示相应的 bookid 即买价和从该账簿带来的损益。

使用的代码：

```
CREATE TABLE BOOKSAVAILABLE( 
BID VARCHAR(5) PRIMARY KEY, 
        TITLE    VARCHAR(50),
        AUTHOR    VARCHAR(40), 
        CATEGORY VARCHAR(40), 
        PRICE VARCHAR(10),
        AVAILABLE VARCHAR(5)
);

CREATE TABLE NEWARRIVALS(
        BID VARCHAR(5) PRIMARY KEY, 
        TITLE VARCHAR(50), 
        AUTHOR VARCHAR(40), 
        CATEGORY VARCHAR(40),
        PRICE VARCHAR(10), 
        AVAILABLE VARCHAR(10)
);

CREATE TABLE PUBLISHER( 
        PID VARCHAR(5), 
        BID VARCHAR(5),
        PRIMARY KEY(PID,BID), 
        NAME VARCHAR(40), 
        CONTACT VARCHAR(10),
        UNITS VARCHAR(40), 
        SOLDAT VARCHAR(10)
); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-26T16:22:47.163

```
CREATE TABLE TALLY( 
ID int PRIMARY KEY,
BID VARCHAR(5) , 
PRICE_PROFIT_LOSS INT) 
```

无论如何，在你的所有表中，价格的所有属性都是 varchar() 而它们应该是 int 或 bigint ..

也很高兴将 BID ， PID 声明为 int 而不是 varchar() 并且实际上不需要计数表，因为它基本上是一个计算..但是如果你需要一个，那么结构 cud 就像上面一样.. PK因为计数表实际上只是一个自动生成的 ID..

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-26T16:12:47.893

我相信如果你正在做一些编程，比如 PHP，你可能会将你的 MySql 设计更改为更简单的设计。特别是，计算库存和利润是一项非常简单的任务。您也可以为发布者使用联合表，为什么？因为，在当前设计下，您最终将获得发布者的冗余数据。由于一个出版商可以拥有多本书，因此无需在每本书的每个出版商字段中存储出版商名称、地址。我建议在 bookavailable 中添加一个日期列，这使您有机会简单地将 newarivals 与可用书籍区分开来。这将删除 newarrivals 表，该表与 bookavailable 非常相同，因此是多余的。

您也可以添加一个名为 ORDER 的表来将您的购买放入其中，购买从您可以计算您的损失/利润的实际书籍价格中减去您出售书籍的金额。此外，如果您在 mysql 中使用 InnoDB 引擎，它使您能够定义外键，则无需使用不同的名称调用每个表的主键，它们都可以命名为 ID。我推荐以下设计：

![mysql工作台图](../Images/e0ca605914ee3207319946ca3d5b662c.png)

# sql-server-2008 - 将powershell结果导出到sql数据库

> ID：13619331
> 
> 赞同：1
> 
> 时间：2012-11-29T05:18:17.167
> 
> 标签：sql-server-2008, powershell

我是 powershell 的新手，目前正在研究将 powershell 结果导出到特定数据库的代码，例如 ITAMMVCDB.mdf 和表名 Hardware。

我用表创建了这个数据库（SQL Server 2008）（假设所有属性都是 varchar(5000) 类型）并尝试将 powershell 脚本结果导出到这个数据库中。

```
[cmdletbinding()]
param (
 [parameter(ValueFromPipeline=$true,ValueFromPipelineByPropertyName=$true)]
    [string[]]$ComputerName = $env:computername
)            

begin {}
process {
 foreach ($Computer in $ComputerName) {
  if(Test-Connection -ComputerName $Computer -Count 1 -ea 0) {
   $Networks = Get-WmiObject Win32_NetworkAdapterConfiguration -ComputerName $Computer | ? {$_.IPEnabled}
   $OsName = Get-WmiObject Win32_OperatingSystem -ComputerName  $Computer | Select Name, Version
   $Memory = Get-WmiObject Win32_ComputerSystem  -ComputerName  $Computer | Select  TotalPhysicalMemory, Manufacturer, Model , Domain
   $Disk = Get-WMIObject Win32_LogicalDisk  -ComputerName   $Computer  | Select DeviceID,Size  
   $Serial = Get-WMIObject Win32_SystemEnclosure  -ComputerName   $Computer  | Select SerialNumber
   $Processor = Get-WMIObject Win32_Processor  -ComputerName   $Computer  | Select Name
   $Serial = Get-WMIObject Win32_SystemEnclosure  -ComputerName   $Computer  | Select SerialNumber

   foreach ($Network in $Networks) {
    $IPAddress  = $Network.IpAddress[0]

    $os = $OsName.Name 
    $Version=$OsName.Version
    $mem= $memory.TotalPhysicalMemory
    $Manufacturer= $memory.Manufacturer
    $Model= $memory.Model
    $Domain = $Memory.Domain
    $DiskSize = $Disk.Size
    $SerialNo = $Serial.SerialNumber
    $ProcessorSpeed = $Processor.Name
    $SerialNo = $Serial.SerialNumber

    $OutputObj  = New-Object -Type PSObject
    $OutputObj | Add-Member -MemberType NoteProperty -Name ComputerName -Value $Computer.ToUpper()
    $OutputObj | Add-Member -MemberType NoteProperty -Name IPAddress -Value $IPAddress

    $OutputObj | Add-Member -MemberType NoteProperty -Name Name -Value $os
    $OutputObj | Add-Member -MemberType NoteProperty -Name Version -Value $Version
    $OutputObj | Add-Member -MemberType NoteProperty -Name TotalPhysicalMemory -Value $mem
    $OutputObj | Add-Member -MemberType NoteProperty -Name Manufacturer -Value $Manufacturer
    $OutputObj | Add-Member -MemberType NoteProperty -Name Model -Value $Model
    $OutputObj | Add-Member -MemberType NoteProperty -Name DiskSize -Value $Disk
    $OutputObj | Add-Member -MemberType NoteProperty -Name Processor -Value $ProcessorSpeed
    $OutputObj | Add-Member -MemberType NoteProperty -Name SerialNumber -Value $SerialNo
    $OutputObj | Add-Member -MemberType NoteProperty -Name Domain -Value $Domain
    $OutputObj | Export-CSV -Path “C:\y3s1\report.csv”
   }
  }
 }
}            

end {} 
```

我设法将其导出到 csv 文件并且工作正常。我应该如何修改上面的代码以将结果导出到“ITAMMVCDB.mdf”数据库和名为“Hardware”的表中

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-29T11:55:40.843

通过简单的 T-SQL BULK INSERT 命令使用 SQL Server 2005 及更高版本中包含的 sqlcmd.exe 命令行实用程序：

```
$query = @"
BULK INSERT [ITAMMVCDB.mdf].[dbo].[Hardware] FROM 'C:\y3s1\report.csv' WITH (FIRSTROW = 2, FIELDTERMINATOR = ',', ROWTERMINATOR = '\n')
"@
sqlcmd -S "yourSQLServer" -E -Q $query 
```

# ios - 免费订阅是唯一的应用内购买类型

> ID：13619332
> 
> 赞同：22
> 
> 时间：2012-11-29T05:18:29.340
> 
> 标签：ios, in-app-purchase

我正在尝试将 In-App purhcase 集成到我的 iPhone 应用程序中。当我点击“管理应用内购买”时，我只看到

“免费订阅”。我没有看到“消耗品”或任何其他类型。苹果说我需要完成一些合同才能看到缺失的类型。应填写什么样的合同并同意在自己的 iOS 应用中支持“消耗品”

![在此处输入图像描述](../Images/75ee0a4ac6efc281f0da16477931ea12.png)

* * *

## 回答 #1

> 赞同：26
> 
> 时间：2013-06-20T04:17:25.913

您必须同意支付应用程序的苹果合同。

转至[https://itunesconnect.apple.com](https://itunesconnect.apple.com)上的“合同、税务和银行业务”部分并请求付费应用程序合同。填写联系信息+银行信息+税务信息，一旦状态更改为已处理，您将能够测试产品的InApp购买。

只有您可以在不设置这些信息的情况下测试的免费订阅。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-29T05:24:14.867

您必须先转到协议部分并同意合同，然后才会出现该选项。我相信是 iTunes connect 中的合同和协议。之后，您可以允许消耗品选项。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2016-03-11T07:00:20.267

要在应用购买中添加消耗品或非消耗品，必须是团队代理或其他具有管理员或财务角色的 iTunes Connect 用户。

然后只有协议、税收和银行业务部分可见。如果此部分不可见，则 iTunes Connect 用户帐户没有访问合同信息的角色。该用户应联系具有管理员角色的用户以更改分配给该帐户的角色。

参考：[苹果文档。](https://developer.apple.com/library/ios/documentation/LanguagesUtilities/Conceptual/iTunesConnect_Guide/Chapters/ManagingContractsandBanking.html)

# node.js - 如何读取从 Web 客户端发送的 nodejs 服务器中的文件

> ID：13619336
> 
> 赞同：4
> 
> 时间：2012-11-29T05:18:54.790
> 
> 标签：node.js, file-io

我是 nodeJS 和 Java Script 的新手。我需要实现一种机制来读取从 Web 客户端发送的 nodeJS 服务器中的文件。

谁能给我一些指示如何做到这一点？我`readFileSync()`在 nodeJS 文件系统中找到了可以读取文件内容的文件。但是如何从 Web 浏览器发送的请求中检索文件呢？如果文件很大，那么在 nodeJS 中读取该文件内容的最佳方法是什么？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-11-29T06:16:31.167

[formidable](https://github.com/felixge/node-formidable)是一个非常方便的用于处理表单的库。

下面的代码是一个功能齐全的示例节点应用程序，我取自 formidable 的 github 并稍作修改。它只是在 GET 上显示一个表单，并在 POST 上处理从表单上传，读取文件并回显其内容：

```
var formidable = require('formidable'),
    http = require('http'),
    util = require('util'),
    fs = require('fs');

http.createServer(function(req, res) {
  if (req.url == '/upload' && req.method.toLowerCase() == 'post') {
    // parse a file upload
    var form = new formidable.IncomingForm();

    form.parse(req, function(err, fields, files) {
      res.writeHead(200, {'content-type': 'text/plain'});

      // The next function call, and the require of 'fs' above, are the only
      // changes I made from the sample code on the formidable github
      // 
      // This simply reads the file from the tempfile path and echoes back
      // the contents to the response.
      fs.readFile(files.upload.path, function (err, data) {
        res.end(data);
      });
    });

    return;
  }

  // show a file upload form
  res.writeHead(200, {'content-type': 'text/html'});
  res.end(
    '<form action="/upload" enctype="multipart/form-data" method="post">'+
    '<input type="text" name="title"><br>'+
    '<input type="file" name="upload" multiple="multiple"><br>'+
    '<input type="submit" value="Upload">'+
    '</form>'
  );
}).listen(8080); 
```

这显然是一个非常简单的示例，但对于处理大文件也非常有用。它使您可以访问处理的已解析表单数据的读取流。这允许您在上传数据时处理数据，或将其直接通过管道传输到另一个流中。

```
// As opposed to above, where the form is parsed fully into files and fields,
// this is how you might handle form data yourself, while it's being parsed
form.onPart = function(part) {
  part.addListener('data', function(data) {
    // do something with data
  });
}

form.parse(); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-29T05:43:43.297

您将需要解析可以包含来自 HTML 文件输入的文件的 http 请求的正文。例如，当使用带有 node 的 express web 框架时，您可以通过 HTML 表单发送 POST 请求并通过 req.body.files 访问任何文件数据。如果您只是使用节点，请查看“net”模块以帮助解析 http 请求。

# php - 在PHP中提取具有特定ID的IMG的SRC

> ID：13619337
> 
> 赞同：0
> 
> 时间：2012-11-29T05:18:58.020
> 
> 标签：php, regex

我知道这个问题已经发布了很多次，并且我阅读了之前的所有问题。我找不到一种方法来完成这项工作。

我需要提取具有特定 id 的 img 标签的 src url。输入格式是 -

```
<img class"image" id="prdImage" width="277" height="400" alt="someimage" src="http://url/image.jpg"/> 
```

src 属性总是最后一个，class 总是第一个。此外，此代码将位于一个大型 HTML 文档中。我只给出了相关部分。

到现在为止我所拥有的——

```
/<img class="image" id="prdImage".+?src="(.+?)".+?\/>/i 
```

这工作正常，除了它返回整个 img 标签而不是只返回 src 属性；

*注意：我知道在这种情况下我应该使用 DOM 解析器。但是对于这个项目，我只能使用正则表达式。*

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-29T09:17:06.623

尝试这个

```
(?<=<img.*?src=")(.*?)(?="/>) 
```

该正则表达式将返回

```
http://url/image.jpg 
```

从您的输入字符串

```
<img class"image" id="prdImage" width="277" height="400" alt="someimage" src="http://url/image.jpg"/> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-29T11:05:13.360

我自己想出了答案。这是表达式

```
/<img class="image" id="prdImage"(.*?)src="(.*?)"\/>/i 
```

这将返回一个数组，其中 url 在第二个位置。

我接受这个答案，因为我自己想通了。如果其他人有更好的解决方案，我会接受他们的回答。

# android - 新闻标题关键字通知？

> ID：13619338
> 
> 赞同：0
> 
> 时间：2012-11-29T05:18:59.680
> 
> 标签：android

我想制作一个应用程序，当新闻报道的标题中带有某些关键字时，它会通知你，也许有各种新闻网站要“扫描”。对编程相当陌生，希望得到任何建议或帮助，谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-29T08:38:04.210

了解如何创建服务。然后了解如何从用户给定的源获取 XML RSS 源。创建一个应用程序以使用提要和关键字配置您的服务，并让用户为各种新闻站点添加 RSS 提要。让服务将生成的 xml 解析为标题数组，并通过遍历数组来比较关键字。匹配后创建通知。

# javascript - 在执行下一行之前，Javascript 不会等待函数完成

> ID：13619339
> 
> 赞同：0
> 
> 时间：2012-11-29T05:19:04.770
> 
> 标签：javascript, jquery, html, css

我正在做一个非常简单的图像更改，假设淡出当前图像，更改图像的 src，然后淡出图像。这是基本代码...

```
 $("#picViewer").fadeOut("slow");
    document.getElementById("picViewer").src = "myImage.jpg";
    $("#picViewer").fadeIn("slow"); 
```

代替 ...

1.  淡出图像
2.  更改源
3.  淡入新图像

Javascript 不会等待淡出完成，这就是您所看到的......

1.  更改图像源
2.  消退
3.  淡入

我错过了什么吗？这里还有一个好处，......`JQuery`会让我褪色到白色以外的其他颜色，还是我必须使用典型的黑客来解决这种情况？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-29T05:25:28.600

`.fadeOut`完成后接受回调。你可以放置任何你想要在淡出后发生的事情。

回调函数还提供`this`作为刚刚淡出的元素。您可以重复使用 using`this`而不必再次使用`id`元素的 ，以避免`id`在多个地方对元素的 进行硬编码。

此外，您可以链接 jQuery 函数调用。由于`attr()`返回它修改的对象（`$(this)`），您可以链接`.fadeIn()`到淡入相同的元素。

```
$("#picViewer").fadeOut("slow", function() {
   $(this).attr('src','myImage.jpg').fadeIn("slow");
}); 
```

实际上，更少的代码。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-11-29T05:22:01.937

可选的第二个参数`fadeOut`是一个回调函数，将在元素完成淡出后调用。

```
$("#picViewer").fadeOut("slow", function() {
   document.getElementById("picViewer").src = "myImage.jpg";
   $("#picViewer").fadeIn("slow");
}); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-29T05:22:15.987

尝试：

```
$("#picViewer").fadeOut("slow", function(){
    document.getElementById("picViewer").src = "myImage.jpg";
    $("#picViewer").fadeIn("slow");
}); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-29T05:22:46.500

动画是异步发生的，所以你要做的是使用动画方法的回调：

```
$("#picViewer").fadeOut('slow', function () {
   //change image src
   //fadeIn
   ... 
```

如果淡化颜色是指 CSS 颜色，那么除非您使用 CSS3 过渡，否则您必须使用 jQuery UI（或其他插件）来动画颜色变化。

# android - 如何在android的ViewPager中增加孩子的宽度？

> ID：13619346
> 
> 赞同：1
> 
> 时间：2012-11-29T05:20:11.960
> 
> 标签：android, android-viewpager

我正在 ViewPager 上制作一个应用程序。我正在尝试增加和减少 ViewPager 孩子的宽度。是否可能？如果可能的话，请帮助我提前感谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-29T05:29:57.390

您可以使用 LayoutParam 设置孩子的宽度，假设您的 viewpager 中有 TextView 然后在`instantiateItem()`

```
@Override
public Object instantiateItem(final ViewGroup vGroup, int position) {
     TextView tv = new TextView(context);
     // set as fill parent
     tv.setLayoutParams(new LayoutParams(LayoutParams.FILL_PARENT, LayoutParams.WRAP_CONTENT));

     // set as wrap_content
     tv.setLayoutParams(new LayoutParams(LayoutParams.WRAP_CONTENT,LayoutParams.WRAP_CONTENT));

    // or by set as fixed size
     tv.setLayoutParams(new LayoutParams(150, 200));

     vGroup.add(tv);
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-29T05:32:08.823

尝试设置 View pager 的 padding 选项，它会减小内部内容的大小

# puppet - 在哪里写关于傀儡大师的事实？

> ID：13619347
> 
> 赞同：0
> 
> 时间：2012-11-29T05:20:12.787
> 
> 标签：puppet

任何人都告诉我我们在 puppet master 上定义事实的文件路径。我正在使用因素版本 1.6.6

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-29T20:23:48.343

有几个地方可以放置它们。有关完整详细信息，请参阅[http://docs.puppetlabs.com/guides/custom_facts.html](http://docs.puppetlabs.com/guides/custom_facts.html)。

我喜欢这样做的方式是使用“pluginsync”。我有一个名为“自定义”的模块。我有 $modulepath/custom/lib/facter/.rb

在旧版本上，您需要确保 pluginsync=true 在您的主服务器和代理上的 [main] 中，较新版本的 puppet 默认情况下启用此功能。

有关这种分发事实/函数/类型/等方法的更多信息，请访问[http://docs.puppetlabs.com/guides/plugins_in_modules.html](http://docs.puppetlabs.com/guides/plugins_in_modules.html)

# c# - 控制台应用程序 - 找不到运行此应用程序的运行时版本

> ID：13619348
> 
> 赞同：0
> 
> 时间：2012-11-29T05:20:16.390
> 
> 标签：c#, asp.net, deployment, iis-7, console-application

我有一个控制台应用程序，我正在尝试在服务器上运行 .exe 文件。但我收到以下错误。

> 找不到运行此应用程序的运行时版本

我在 3.5 框架中开发了控制台应用程序，而服务器具有 4.0 框架。

我应该在 2.0 还是 3.0 框架中开发应用程序？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-29T05:31:54.150

4.0 框架不包括 2.0-3.5。

您需要在服务器上安装 3.5 版或在应用程序的配置中添加条目以允许它在 4.0 下运行。

```
<supportedRuntime>V4.0</supportedRuntime> 
```

检查[在 .net 4.0 上执行应用程序时，在 .net 2.0](https://stackoverflow.com/questions/6921976/when-executing-an-application-on-net-4-0-complied-under-net-2-0)和[app.config <supportedRuntime>](https://stackoverflow.com/questions/2961600/app-config-supportedruntime)下编译以获取详细信息。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-29T05:32:07.357

您可以只更改应用程序的**目标框架**。它在项目属性上。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-29T06:43:02.593

您无法使用 Visual Studio 2008 创建 .Net 4.0 应用程序，如果您有 2010 VS IDE，则可以创建 .Net 3.5 应用程序。

![在此处输入图像描述](../Images/d6ef0bfec9a4ba0d7406f800cef39768.png)

您可以使用 .Net 3.5 应用程序继续使用 VS 2010

# jsf - Primefaces命令按钮未被调用

> ID：13619351
> 
> 赞同：1
> 
> 时间：2012-11-29T05:20:17.340
> 
> 标签：jsf, primefaces

我知道关于此的帖子足够多，但我还没有找到针对我的具体问题的正确答案。另外，我不得不承认我一直在使用许多编程语言，但我是使用 jsf 的新手。

主要问题是我正在尝试制作一个包含两个 p:commandbutton 的表单。第一个是要注册一些东西，另一个是当我弹出一个对话框时出现的。当我删除显示对话框的代码时，它工作正常，但是当我添加它时，没有调用任何方法。希望您能够帮助我。

```
 <p:dialog id="dlgAgregarProducto" header="Agregar Producto" widgetVar="dlgAgregarProducto" modal="true" width="800" height="300">  
            <h:outputText value="Código"/>   
            <h:inputText value=" "/>
            <h:outputText value="Nombre"/>   
            <h:inputText value=" "/>   
            <p:commandButton id="btnAgregarProducto" value="Agregar" action="#{productoController.agregarProducto}" type="button"/>  

            <p:dataTable id="tblProductos2" value="" 
                         var="prov" 
                         style="margin: 0 auto;"
                         paginator="true" rows="10">

                <p:column style="width:24%">
                    <f:facet name="header">
                        <h:outputText value="Código"/>
                    </f:facet>
                    <h:outputText value=""/>
                </p:column>

                <p:column style="width:24%">
                    <f:facet name="header">
                        <h:outputText value="Foto"/>
                    </f:facet>
                    <h:outputText value=""/>
                </p:column>                

                <p:column style="width:24%">
                    <f:facet name="header">
                        <h:outputText value="Descripción"/>
                    </f:facet>
                    <h:outputText value=""/>
                </p:column>

                <p:column style="width:24%">
                    <f:facet name="header">
                        <h:outputText value="Marca"/>
                    </f:facet>
                    <h:outputText value=""/>
                </p:column>

                <p:column style="width:24%">
                    <f:facet name="header">
                        <h:outputText value="Modelo"/>
                    </f:facet>
                    <h:outputText value=""/>
                </p:column>

                <p:column style="width:24%">
                    <f:facet name="header">
                        <h:outputText value="Precio"/>
                    </f:facet>
                    <h:outputText value=""/>
                </p:column>
            </p:dataTable>                            
        </p:dialog> 

        <p:commandButton id="registrar" value="Registrar" action="#{promocionController.registrarPromocion}" style="margin-left:370px"/>   
    </h:form>
</h:body> 
```

# python - python - 在模块加载时设置类的属性

> ID：13619354
> 
> 赞同：2
> 
> 时间：2012-11-29T05:20:54.363
> 
> 标签：python, properties

我正在编写处理 python 上的 dict 数据的代码。在实现这样的类时，我必须定义很多属性。这并不难，但最近我认为如果我可以使用辅助函数之类的东西会更好。

例如，假设我有一个像下面这样的类。

```
class MyClass(object):

    def __init__(self, data):
        self.data = data

    @property
    def version(self):
        return self.data["version"] 
```

如果我可以像下面这样写这个类。

```
 class MyClass(object):

     def __init__(self, data):
         self.data = data

     define_own_property("data", "version") 
```

它看起来微不足道，但如果我能做到这一点，我想我可以重用很多验证/异常处理案例。

任何的想法？:D

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-29T05:31:39.293

您可以通过编写一个函数来返回您想要的访问器来实现类似的功能：

```
def define_own_property(attr, key):
    def prop(self):
        return getattr(self, attr)[key]
    return property(prop)

class MyClass(object):
    def __init__(self, data):
        self.data = data

    version = define_own_property("data", "version") 
```

请注意，您必须这样做`version = ...` 没有办法让简单的函数调用`define_own_property`向正在定义的类添加属性，因为该类尚不存在，因此您无法引用它。

另一种可能性是给你的类一个属性，它是一个列表或字典或包含相关参数（“数据”、“版本”等）的东西，然后编写一个类装饰器来读取这些参数并自动创建一系列特性。这将完全消除在类内部定义属性的需要；您只需列出您希望属性访问的内容，并在类上使用一次装饰器。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-29T05:30:22.727

看来您可以使用描述符：

```
class Descr(object):
    def __init__(self,attr,key):
        self.attr = attr
        self.key = key

    def __get__(self,obj,type=None):
        return getattr(obj,self.attr)[self.key]

    def __set__(self,obj,value):
        getattr(obj,self.attr)[self.key] = value

    def __delete__(self,obj):
        del getattr(obj,self.attr)[self.key]

class MyClass(object):
    def __init__(self, data):
        self.data = data

    version = Descr("data","version")
    foobar = Descr("data","foobar")

a = MyClass({})
a.version = 1
print a.version
a.foobar = 'string'
print a.data 
```

# android - 无法在展开式 ListView 中保留视图的值

> ID：13619359
> 
> 赞同：0
> 
> 时间：2012-11-29T05:21:17.860
> 
> 标签：android, checkbox, state, expandablelistview

我有具有不同视图的可扩展列表视图，例如 EditText、CheckBox、DateTime Picker 等。
现在的问题是，在滚动列表或折叠组时，所有值都会丢失。请建议我以任何方式保持我的价值观。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-29T07:08:45.957

每次用户单击不同的列表项或折叠列表视图时，最好将输入的所有值存储在数组列表中并通知数据集更改

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-29T05:28:23.330

你需要使用`getViewTypeCount()`和`getItemViewType()`

您将需要一个通常更复杂的适配器。特别是，您需要覆盖`getViewTypeCount()`and `getItemViewType()`。您可以查看我的 SackOfViewsAdapter 作为对短列表执行此操作的一种方式，或者查看我的 MergeAdapter 以将单个视图与数据库或 Web 服务查询的结果混合。

我建议一些链接代码应用程序检查它，你会知道如何使用它..see [this](https://github.com/tjerkw/Android-SlideExpandableListView)

从下面的链接中找到代码

# r - 在 R 中为奇数范围生成有序的整数列

> ID：13619361
> 
> 赞同：1
> 
> 时间：2012-11-29T05:21:27.357
> 
> 标签：r

总 newb R 问题，但这里是：假设我想创建一个包含两列的数据框，一列包含一个范围内的所有年份，另一列包含每年的每个月。当我完成后，我应该有这个：

```
year month
1990 1
1990 2
1990 3 
```

等等。对于 cbind 来说，这似乎是一项非常明显的工作，将一个范围变成一个列，然后重复，每年生成 12 个实例。这很有效，但仅适用于该范围内的偶数年。因此，例如：

```
df <- data.frame(cbind(year=rep(c(1990:2000), 12))) 
```

工作正常。这也是如此：

```
df <- data.frame(cbind(year=rep(c(1990:2000), 12), month=c(1:12))) 
```

但这会产生明显的废话：

```
df <- data.frame(cbind(year=rep(c(1990:2001), 12), month=c(1:12))) 
```

正如您所期望的那样，第一行代码在该范围内每年生成 12 个实例；第二行产生所需的结果。第三行每年生成 12 个实例，其中每年只有一个月数。因此：

```
year month 
1990  1
1990  1
1990  1 
```

有没有办法解决这个问题，不需要总是增加一年并在以后修剪它？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-29T05:26:13.720

你正在寻找`expand.grid`

```
 df <- expand.grid(year = 1990:2001, month = 1:12) 
```

# windows-installer - 如何在 Windows 7 中制作自动安装程序？

> ID：13619367
> 
> 赞同：1
> 
> 时间：2012-11-29T05:22:01.017
> 
> 标签：windows-installer, iexpress

在 Windows 7 中，我列出了许多`.msi`必须按特定顺序执行的文件。

现在，我想将它们打包成一个`.exe`文件或`.msi`无需用户交互即可自动处理的文件。

我搜索了谷歌，很多人推荐使用 iexpress。然而，该工具只允许我打包许多文件并`.exe`在第一次运行一个文件。

谁能帮我？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-29T09:05:25.500

实际上有很多变体如何做到这一点。从带有自解压存档的普通批处理文件开始，以 Chained MSI 结束。您应该选择您最了解的以及您拥有的工具。
如果您熟悉 MSI 技术，则可以`chained MSI`用于此目的。与其他方法相比，用户安装和卸载会更方便。您可以在 stackoverflow 上找到有关此的信息。
您还可以使用不同的包装器和安装工具，如 NSIS、InnoSetup 等...

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2017-01-24T22:46:13.087

从命令行工作时的 OCSetup。您可以将系统组件添加到在线 Windows 映像，或者安装和删除 MSI 组件。您还可以使用此功能将包传递到包管理器以进行自动安装/删除。

请记住，所有系统 MSI 必须在安装前进行分段。此外，必须在无人参与安装应答文件的服务部分中指定包的路径。

我建议安装 Windows OEM 预安装工具包。

# php - Windows Azure SDK for PHP 中列出的容器

> ID：13619369
> 
> 赞同：1
> 
> 时间：2012-11-29T05:22:03.197
> 
> 标签：php, cakephp, azure

我正在尝试列出容器，但到目前为止完全没有运气......我已经尝试过

```
$aBlobContainer = $blobRestProxy->listContainers();

for($i = 0;$i<= count($aBlobContainer); $i++)
{
 echo 'Blob Container name is: '.$aBlobContainer[$i]->Name."\n";
} 
```

但我有错误

`Cannot use object of type WindowsAzure\Blob\Models\ListContainersResult as array`

整天都在努力解决它似乎无法取得任何进展......让我知道我是否在做一些愚蠢的事情，或者是否有更好的方法来确定容器是否已经存在？谢谢！

编辑：

变量 $aBlobContainer 的 var_dump 出现为

```
    对象（WindowsAzure\Blob\Models\ListContainersResult）#42 (5) {
      ["_containers":"WindowsAzure\Blob\Models\ListContainersResult":private]=>
      数组（2）{
        [0]=>
        对象（WindowsAzure\Blob\Models\Container）#48 (4) {
          ["_name":"WindowsAzure\Blob\Models\Container":private]=>
          字符串（6）“abc123”
          ["_url":"WindowsAzure\Blob\Models\Container":private]=>
          字符串（48）“http://orig.blob.core.windows.net/abc123”
          ["_metadata":"WindowsAzure\Blob\Models\Container":private]=>
          数组（0）{
          }
          ["_properties":"WindowsAzure\Blob\Models\Container":private]=>
          对象（WindowsAzure\Blob\Models\ContainerProperties）#47 (2) {
            ["_lastModified":"WindowsAzure\Blob\Models\ContainerProperties":private]=>
            对象（日期时间）#49 (3) {
              [“日期”]=>
              字符串（19）“2012-11-29 01:32:20”
              ["timezone_type"]=>
              整数（2）
              [“时区”]=>
              字符串（3）“格林威治标准时间”
            }
            ["_etag":"WindowsAzure\Blob\Models\ContainerProperties":private]=>
            字符串(19) ""0x8CF9BE88256926F""
          }
        }
        [1]=>
        对象（WindowsAzure\Blob\Models\Container）#46 (4) {
          ["_name":"WindowsAzure\Blob\Models\Container":private]=>
          字符串（8）“multi123”
          ["_url":"WindowsAzure\Blob\Models\Container":private]=>
          字符串（50）“http://orig.blob.core.windows.net/multi123”
          ["_metadata":"WindowsAzure\Blob\Models\Container":private]=>
          数组（0）{
          }
          ["_properties":"WindowsAzure\Blob\Models\Container":private]=>
          对象（WindowsAzure\Blob\Models\ContainerProperties）#45 (2) {
            ["_lastModified":"WindowsAzure\Blob\Models\ContainerProperties":private]=>
            对象（日期时间）#53 (3) {
              [“日期”]=>
              字符串（19）“2012-11-29 03:13:16”
              ["timezone_type"]=>
              整数（2）
              [“时区”]=>
              字符串（3）“格林威治标准时间”
            }
            ["_etag":"WindowsAzure\Blob\Models\ContainerProperties":private]=>
            字符串(19) ""0x8CF9BF69C25759F""
          }
        }
      }
      ["_prefix":"WindowsAzure\Blob\Models\ListContainersResult":private]=>
      无效的
      ["_marker":"WindowsAzure\Blob\Models\ListContainersResult":private]=>
      无效的
      ["_nextMarker":"WindowsAzure\Blob\Models\ListContainersResult":private]=>
      无效的
      ["_maxResults":"WindowsAzure\Blob\Models\ListContainersResult":private]=>
      无效的
    }

```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-02T21:51:02.623

查看[源代码](https://github.com/WindowsAzure/azure-sdk-for-php)：

```
$blobContainers = $blobRestProxy->listContainers(); //returns ListContainersResult 
```

为了获得容器列表，您必须随后调用：

```
$blobContainerArray = $blobContainers->getContainers(); //exposes the array of containers 
```

然后您应该能够在**foreach**或**for**语句中使用该数组。此工作流程与从容器内返回 blob 列表的工作流程相匹配，如 README.md 文件中所示：

```
try {
    // List blobs.
    $blob_list = $blobRestProxy->listBlobs("mycontainer");
    $blobs = $blob_list->getBlobs();

    foreach($blobs as $blob)
    {
        echo $blob->getName().": ".$blob->getUrl()."<br />";
    }
} catch(ServiceException $e){
    $code = $e->getCode();
    $error_message = $e->getMessage();
    echo $code.": ".$error_message."<br />";
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2017-03-11T19:24:19.363

```
$options = new ListContainersOptions();
$options->setPrefix("prefixxxx");
$blobContainers = $blobRestProxy->listContainers($options);
$blobContainerArray = $blobContainers->getContainers();

foreach ($blobContainerArray as $container) 
{
    Trace("Container: " . $container->getName());
} 
```

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2012-11-29T05:48:13.617

从错误消息中，看起来 $blobRestProxy->listContainers() 正在返回一个对象。试试下面的代码。

```
$aBlobContainer = $blobRestProxy->listContainers();

foreach($aBlobContainer as $row) {
    echo 'Blob Container name is: '.$row->Name."\n";
} 
```

当访问 $aBlobContainer 作为数组（即 $aBlobContainer[$i]）时，它可能会给出错误。

*** 编辑 ***

```
foreach($aBlobContainer as $key => $row) {
  echo $row->Name . "\n";
} 
```

# android - Android：延迟 AudioTrack

> ID：13619375
> 
> 赞同：0
> 
> 时间：2012-11-29T05:22:33.007
> 
> 标签：android, audio, audiotrack

我有一个 Android AudioTrack，例如：

```
private AudioTrack mAudioTrack;
int min = AudioTrack.getMinBufferSize(sampleRate, AudioFormat.CHANNEL_OUT_STEREO, AudioFormat.ENCODING_PCM_16BIT);
mAudioTrack = new AudioTrack(AudioManager.STREAM_MUSIC, sampleRate, AudioFormat.CHANNEL_OUT_STEREO, AudioFormat.ENCODING_PCM_16BIT, min, AudioTrack.MODE_STREAM);
mAudioTrack.play(); 
```

我填写：

```
mAudioTrack.write(buffer, 0, bufsize); 
```

我想让这首曲目延迟 2 秒播放。知道我怎么能做到这一点吗？提前感谢您的任何好主意。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-03T16:42:54.227

如果有人感兴趣，这是我自己的问题的答案。这个想法是创建一个临时缓冲区来创建和存储音频“延迟”。

一、初始化：

```
final int mSizeTable = 300;
private byte[][] mTableAudioBuffer = byte[mSizeTable][];
private int mCountAudioBuffer = 0;
...
mAudioTrack.play(); 
```

然后，我填写：

```
mTableAudioBuffer[mCountAudioBuffer] = buffer.clone();
int ret = 0;
if (mTableAudioBuffer[(mCountAudioBuffer + 1) % mSizeTable] != null)
    ret = mAudioTrack.write(mTableAudioBuffer[(mCountAudioBuffer + 1) % mSizeTable], 0, bufsize);
mCountAudioBuffer = (mCountAudioBuffer + 1) % mSizeTable;
return ret; 
```

显然，就内存而言，它不是非常理想的，如果你想要一个很大的延迟，它可能会很贪婪。

# jquery - jquery wrapAll 函数反转？

> ID：13619377
> 
> 赞同：2
> 
> 时间：2012-11-29T05:22:42.840
> 
> 标签：jquery

jquery 有一个函数`.wrapAll()`，用于环绕具有相同类的所有 div。

但是我想做与此完全相反的操作，这意味着单次打开具有相同类的多个 div，因为那里没有`unwrapAll()`函数？可以做吗？？？

例如之前

```
<div class="outer">
<div class="inner">foon</div>
<div class="inner">foon2</div>
<div class="inner">foo3</div>    
</div>​ 
```

后：

```
<div class="inner">foon</div>
<div class="inner">foon2</div>
<div class="inner">foo3</div> 
```

**使用建议答案的工作示例**：http : [//jsfiddle.net/ScdLX/4/](http://jsfiddle.net/ScdLX/4/)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-29T05:27:01.053

您可以执行以下操作：

```
$(".outerDiv").replaceWith(function () { return $(this).html(); }); 
```

但是，这不会删除 的文本节点子节点`.outerDiv`。

[http://jsfiddle.net/ScdLX/2/](http://jsfiddle.net/ScdLX/2/)

编辑：根据@NullPointer，您可以使用`.unwrap`父选择器的子项上的方法来执行此操作。请参见：

[http://jsfiddle.net/ScdLX/3/](http://jsfiddle.net/ScdLX/3/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-29T05:42:34.433

您可以使用 .

```
jQuery('.classname').children().unwrap(); 
```

删除所有类名为“classname”的元素

# objective-c - 在 Core Data 中传递对象

> ID：13619382
> 
> 赞同：1
> 
> 时间：2012-11-29T05:23:21.503
> 
> 标签：objective-c, ios, xcode, core-data, nsmanagedobject

我是 IOS 编程和构建核心数据概念的新手。我遵循苹果文档中的指南。我有一个表视图控制器和一个可变数组 StocksArray 作为其属性之一。我有另一个视图，DetailedController，它用于获取核心数据模型实体属性的用户输入。我将 NSManagedObject 传递给DetailedController 对象，并使用委托来更新可变数组StocksArray。在编译时，出现错误---由于未捕获的异常“NSInvalidArgumentException”而终止应用程序，原因：“ *** -[NSMutableArray insertObject:atIndex:]：尝试在 0 处插入 nil 对象”。如果有人可以帮助我，我将不胜感激。

```
#import"StockEntity.h"
@protocol DetailedControllerdelegate <NSObject>

-(void)addstockinarray:(StockEntity*)anObject;

@end

@interface DetailedController : UIViewController {

IBOutlet UITextField* stocksymboltextfield;
IBOutlet UITextField* stocknametextfield;

//NSManagedObjectContext* context2;

StockEntity* asinglestock;

}
@property (nonatomic, retain) IBOutlet UITextField* stocksymboltextfield;
@property (nonatomic, retain) IBOutlet UITextField* stocknametextfield;
//@property(nonatomic, retain) NSManagedObjectContext* context2;
@property(nonatomic, retain) StockEntity* asinglestock;
@property (nonatomic, assign) id <DetailedControllerdelegate> delegate;

@implementation DetailedController

@synthesize stocksymboltextfield, stocknametextfield,asinglestock, delegate;//context2;

-(void)onDone:(id)sender{
[asinglestock setStockName:self.stocknametextfield.text];
[asinglestock setStockSymbol:self.stocksymboltextfield.text];

NSLog(@"lets s see: %@", [asinglestock StockName]);
NSError *error = nil;

if (![[asinglestock managedObjectContext] save:&error] ) {
    //handle the error
}

if ([delegate respondsToSelector:@selector(addstockinarray:)]) {

    NSLog(@"before delegate");

    [delegate addstockinarray:asinglestock];

    NSLog(@"am in delegate");

}

[self.navigationController popViewControllerAnimated:YES];

} 
```

这是表格视图的实现

```
@implementation maintable

@synthesize stocksArray, managedObjectContext, addButton;

- (id)initWithStyle:(UITableViewStyle)style {
self = [super initWithStyle:style];
if (self) {
    // Custom initialization.

    self.stocksArray =[[NSMutableArray alloc]init];
}
return self;
}

- (void)viewDidLoad {
[super viewDidLoad];

//self.stocksArray =[[NSMutableArray alloc]init];
self.title = @"Stocks";

// Uncomment the following line to display an Edit button in the navigation bar for this view controller.
self.navigationItem.leftBarButtonItem = self.editButtonItem;

addButton = [[UIBarButtonItem alloc]initWithBarButtonSystemItem:UIBarButtonSystemItemAdd 
                                                         target:self 
                                                         action:@selector(addStock)];
//addButton.enabled = NO;
self.navigationItem.rightBarButtonItem = addButton;
}

-(void) addStock{

DetailedController *detail = [[DetailedController alloc]initWithNibName:NSStringFromClass([DetailedController class]) bundle:[NSBundle mainBundle]];
//detail.context2 = managedObjectContext;
StockEntity *stock = (StockEntity*)[NSEntityDescription insertNewObjectForEntityForName:@"StockEntity"
                                                                 inManagedObjectContext:managedObjectContext];

detail.asinglestock = stock;
detail.delegate = self;

//[stocksArray insertObject:stock atIndex:0];

[self.navigationController pushViewController:detail animated:YES];

[detail release];

}

-(void)addstockinarray:(StockEntity*)anObject{

if (anObject = NULL) {
    NSLog(@"YESSS");
}
[self.stocksArray addObject:anObject];

NSLog(@"LETTTTTT: %i", [self.stocksArray count] );

}

- (void)viewWillAppear:(BOOL)animated {

[self.tableView reloadData];
[super viewWillAppear:animated];
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-29T06:05:25.707

试试这个来处理崩溃，

```
- (void)addstockinarray:(StockEntity*)anObject{

  if (anObject) {
    [self.stocksArray addObject:anObject];
  } else {
    NSLog(@"Object is nil, do the error handling here");
  }

  NSLog(@"LETTTTTT: %i", [self.stocksArray count] );
} 
```

您的问题是您正在尝试向数组插入 nil 值。你应该检查为什么`anObject`是 nil 并在那里修复它。如果我是正确的，`asinglestock`不知何故为零，而您正试图插入它。

# assembly - 如何将参数从外部汇编程序子例程传递回 cobol 程序？

> ID：13619383
> 
> 赞同：2
> 
> 时间：2012-11-29T05:23:46.290
> 
> 标签：assembly, call, external, cobol, subroutine

我正在尝试从用汇编程序编写的外部子例程传回参数。调用例程在 cobol 中，外部汇编例程的参数如下所示：

```
01  CALCSHRS-PARMS.
    05  CS-DEPOSIT-AMT      PIC 9(5)V99 COMP-3.
    05  CS-SHARE-PRC        PIC 9(3)V99 COMP-3.
    05  CS-SHARE-AMT        PIC 9(9)V99 COMP-3. 
```

调用如下所示：

```
CALL 'CALCSHRS' USING CS-DEPOSIT-AMT
                      CS-SHARE-PRC
                      CS-SHARE-AMT. 
```

该例程使用 CS-DEPOSIT-AMT 和 CS-SHARE-PRC 来计算需要传回的 CS-SHARE-AMT。这是汇编程序：

```
CALCSHRS CSECT                                             
*                                                          
         PRINT NOGEN                                       
*                                                           
         STM   14,12,12(13)        SAVE ENTRY REGS         
         LR    12,15               SET BASE REG            
         USING CALCSHRS,12         ESTABLISH ADDRESSABILITY
*                                                          
         LA    14,SUBPSAVE         STANDARD                
         ST    13,4(,14)           SAVE                    
         ST    14,8(,14)           AREA                    
         LR    13,14               LINKAGE                 
*                                                          
         LM    2,4,0(1)            LOAD THE PARAMETERS                                                               
*                                                          
         ZAP   DEPOSITP,0(2,4)       GET THE DEPOSIT AMOUNT  
         ZAP   SHAREPCK,0(3,3)     GET THE SHARE PRICE     
*                                                          
         ZAP   SHARESP(9),DEPOSITP INITIALIZE SHARES       
*                                                          
         MP     SHARESP,=P'10000'     MULTIPLY BY 1000     
         DP     SHARESP,SHAREPCK     DIVIDE BY SHARE PRICE 
         ZAP    SHARESPR,SHARESP(6)  MOVE THE FIRST 5 BYTES
*                                                          
         SRP    SHARESPR(6),(64-1),5 SHIFT TO ROUND        
         SRP    SHARESPR(6),2,5      SHIFT AGAIN           
*                                                          
         MVC   0(6,4),SHARESPR     ME ATTEMPTING TO RETURN SHARESPR...                       
*                                                          
         L     13,4(,13)           STANDARD SAVE                    
         LM    14,12,12(13)        AREA LINKAGE                     
         SR    15,15               SET RETURN CODE TO 0             
         BR    14                                                   
*                                                                   
         LTORG                                                      
*                                                                   
SUBPSAVE DC    18F'0'                                               
*                                                                   
SHAREPCK DS    PL3                   SHARE PRICE PACKED             
DEPOSITP DS    PL5                   DEPOSIT IN PACKED DECIMAL      
SHARESP  DS    PL9                   SHARES  IN PACKED DECIMAL      
SHARESPR DS    PL6                   SHARES ROUNDED                 
*                                                                   
         END   CALCSHRS 
```

我只需要返回 SHARESPR 并将其返回到我的 cobol 程序中的 CS-SHARE-AMT 中。其他一切都按我想要的方式工作。有人知道我需要怎么做吗？任何帮助深表感谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-29T15:42:41.090

事实证明，您可以使用 ZAP 将参数及其地址传递回寄存器中。在我的例子中，CS-SHARE-AMT 在寄存器 4 中，所以这就是我将 SHARESPR 从我的汇编代码传递回我的调用 COBOL 程序的方式：

```
ZAP  0(6,4),SHARESPR(6) 
```

# asp.net-mvc-3 - MVC3 ...更多抽象？

> ID：13619392
> 
> 赞同：1
> 
> 时间：2012-11-29T05:24:09.980
> 
> 标签：asp.net-mvc-3

我正在学习 MVC3（我第一次接触 MVC），并正在阅读 Pro ASP.NET MVC 3 Framework, 3rd edition 一书中的教程。

当我阅读教程时，我开始有点害怕所有自动发生的事情。我讨厌 ASP.NET 网络表单的是所有的自动、烟雾和镜子。

我更喜欢处理具体细节，因为我不喜欢整个“然后你就相信系统会做这件事，相信我们，它会起作用”，因为即使它确实起作用了大部分时间，每当你越界或想做更复杂的事情时，烟雾和镜子的混淆会引起很多头痛（好吧，这一段有点咆哮，尽管我的观点是必要的）。

在我走得太远之前...... MVC3 只是一个更复杂的、烟雾缭绕的、像 ASP.NET 网络表单这样的模糊框架，还是它能让我更容易地窥视引擎盖并了解细节ASP.NET? 这值得继续吗？

旁注：请，如果您不喜欢这个问题，请不要投反对票。帮助我让它变得更好，这样它就可以造福于社区。谢谢！:-)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-29T06:48:10.167

我已经使用这个框架一年半了，所有“神奇”的东西从来没有妨碍过我，实际上大部分时间它都对我有帮助，而当它没有帮助时，我只是编写了代码周围。

我的意思是你可以按照你想要的方式编码。您不喜欢“路由”功能吗？您可以像访问 web.config 并重写它一样简单地对其进行更改。

您不喜欢参数的绑定魔法吗？然后手动获取它们`HttpContext.Request.Params["yourParameter"]`。

您不想使用 EF？，可以使用您想要的任何 ORM，或者只是创建自己的 ORM 并使用它。

你不喜欢 MVC 模式？然后在视图中编写所有代码（我认为我走得太远了）。

我的意思是它甚至是[开源](http://aspnet.codeplex.com/wikipage?title=MVC)的，你想在框架中拥有自己的魔法吗？你能行的。

在我个人看来，值得继续。

# winforms - 将按钮与乘客关联 C#

> ID：13619399
> 
> 赞同：0
> 
> 时间：2012-11-29T05:24:31.390
> 
> 标签：winforms, c#-4.0

嗨，我制作了一个 Windows 窗体。目标是在飞机上预订座位，但现在我发现我选择的路径非常令人苦恼 - 当乘客通过按下按钮以图形方式选择座位时，按钮的颜色正在更改，但现在我需要添加一段代码这可以帮助我保存这些信息并将其与乘客相关联。问候

```
private void button4_Click(object sender, EventArgs e)
{
    this.F16.BackColor = Color.LightBlue;
    this.F16.ForeColor = Color.Red;
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-29T17:11:27.417

如果我理解正确，那么只需创建一个新类Passenger，您可以在其中保留有关乘客的所有信息以及他选择的地点

```
public class Passenger
{
    public string Name { get; set; }
    public string place { get; set; } // or list of places

    public Passenger(String name)
    {
        this.Name = name;
    }

    public void savePlace(string newPlace)
    {
        this.place = newPlace;
    }

} 
```

然后在您的表单中创建一个变量

```
private Passenger currentPassenger; 
```

在你的函数里面保存一个选择的地方

```
private void button4_Click(object sender, EventArgs e)
{
    this.currentPassenge.SavePlace(this.F16.name)//or just "F16"
    this.F16.BackColor = Color.LightBlue;
    this.F16.ForeColor = Color.Red;
} 
```

如果每个地方都有自己的按钮，那么最好在 .Tag 属性中分配一个地方的数据

```
this.button4.Tag = "F16" 
```

如果是这样，那么您只需要一个处理所有按钮的处理程序

```
 private void PlaceButtons_Click(object sender, EventArgs e)
    {
        Button btn = (Button)sender;
        this.currentPassenger.savePlace((string)btn.Tag);
        this.F16.BackColor = Color.LightBlue;
        this.F16.ForeColor = Color.Red;
    } 
```

当然在 Form 的构造函数中向所有地方的按钮添加事件处理程序

```
this.button1.Click +=new EventHandler(PlaceButtons_Click);
this.button2.Click +=new EventHandler(PlaceButtons_Click);
this.button4.Click +=new EventHandler(PlaceButtons_Click); 
```

或者，如果您想以其他方式与乘客相关联，则创建 Place 类

```
public class Place
{
    public string Code{ get; set; }//code of place "F16"
    public string passenger { get; set; } //Name of passenger

    public Place(String passengerName)
    {
        this.passenger = passengerName;
    }

    public void SavePassenger(string newpassenger)
    {
        this.passenger = newpassenger;
    }

} 
```

并在事件处理程序 PlaceButtons_Click 中执行相同的操作，但将乘客姓名保存在 Place 类中。在表单中创建一个地点列表或哈希表（地点；乘客）或其他独立于应用程序使用的东西。

# r - 如何从 R 中的文本文件中读取停用词列表

> ID：13619402
> 
> 赞同：1
> 
> 时间：2012-11-29T05:24:44.867
> 
> 标签：r, text-mining, stop-words

> **可能重复：**
> [将文本文件读入 R](https://stackoverflow.com/questions/3804292/read-a-text-file-into-r)

我有一个自定义停用词列表，它位于一个用换行符分隔的文本文件中。如何在我的 R 脚本中使用该文件？

**代码：**

```
my_stopwords <- c(stopwords(),"aint","wanna","gonna",...) 
```

唯一的问题是我想从文件中读取单词，而不是像上面那样对它们进行硬编码。我的文本文件如下所示：

```
"aint"
"wanna"
"gonna"
... 
```

提前致谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-29T05:33:17.967

`readLines`可以在这里工作：

```
con <- file("filename.txt", "r")
readLines(con) 
```

尽管现在您指定单词是“引用的”，但它可能不是一个很好的解决方案，您最好使用`read.csv("filename.txt")`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-29T05:32:32.153

换行分隔的文件在技术上可以被视为有效的 CSV 文件。尝试`read.csv()`将列表作为 data.frame 获取。您可能想要`unlist`它或仅访问第一列以将其放入数组中，就像您所拥有的一样。

# ios - 通用尺寸“Retina 3.5 全屏”或“Retina 4 全屏”应该选择什么？

> ID：13619407
> 
> 赞同：2
> 
> 时间：2012-11-29T05:25:44.533
> 
> 标签：ios, xcode, user-interface, interface-builder, xib

我正在使用 XCode 4.5 版。对于每个 Xib，我可以选择“Retina 3.5 全屏”或“Retina 4 全屏”的大小。

我的疑问是：如果我选择 Retina 4 Fullscreen，我的应用程序能否在旧款 iPhone（屏幕为 3.5）上正常运行，反之亦然？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-29T05:33:07.810

最好的方法是为 3.5" 和 4" 屏幕创建单独的 Xib 文件并根据设备版本加载它们。您还可以 SET`autoresizingMask` 查看以下代码：

`UIViewAutoresizingFlexibleWidth | UIViewAutoresizingFlexibleHeight | UIViewAutoresizingFlexibleBottomMargin | UIViewAutoresizingFlexibleRightMargin`

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-29T07:16:01.270

US 3.5 Retina 并根据需要设置自动调整蒙版 您也可以通过 XIB 设置自动调整蒙版

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-29T07:10:29.400

Simulated Metrics 下的这些选项不会影响应用程序本身，它只是一种在这些条件下*预览*它在 Xcode 中的外观的方式。

您可以根据设备的屏幕尺寸使用不同的 Xib/Storyboard，但根据我的经验，大多数应用程序可以非常简单地使用单个 Xib/Storyboard（通常有一个元素可以做得更大，例如表格或滚动条视图...我有不止几个只是工作）。比复制 UI*以及*在两个版本之间保持同步进行的任何调整要容易得多。在某些情况下，重复是值得的，但不是大多数。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-29T19:10:02.673

只要正确设置了自动调整大小的掩码，显示器就应该完美地对齐自己，而不管它部署到的终端设备如何。这些尺寸只是为了让您了解 xib 在 3.5" 或 4" 上的外观。尽管如此，建议在您希望支持的所有可用设备上进行测试。对于您的问题，3.5 英寸和自动调整大小应该足以在两组设备上完美运行。HTH。

# c - AVX 中 SSE unpacklo_ps/unpackhi_ps 的等价物（双打）

> ID：13619408
> 
> 赞同：6
> 
> 时间：2012-11-29T05:25:59.580
> 
> 标签：c, sse, avx

在 SSE 中，如果我有一个包含 4 个浮点数的 128 位寄存器，即

```
A = a b c d ('a','b','c','d' are floats and 'A' is a 128-bit SSE register) 
```

和

```
B = e f g h 
```

那么如果我想要

```
C = a e b f 
```

我可以简单地做：

```
C = _mm_unpacklo_ps(A,B); 
```

同样，如果我想要

```
D = c g d h 
```

我可以：

```
D = _mm_unpackhi_ps(A,B); 
```

如果我有一个包含双精度的 AVX 寄存器，是否可以用一条指令来做同样的事情？

根据这些内在函数的工作方式，我知道我不能使用`_mm256_unpacklo_pd()`,`_mm256_shuffle_pd()`或. 除了这些我可以使用的任何指令还是我必须使用上述指令的组合？`_mm256_permute2f128_pd()``_mm256_blend_pd()`

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-29T06:49:16.970

我能想到的一种方法如下：

```
A1 = _mm256_unpacklo_pd(A,B);
A2 = _mm256_unpackhi_pd(A,B);

C = _mm256_permute2f128_pd(A1,A2,0x20);
D = _mm256_permute2f128_pd(A1,A2,0x31); 
```

如果有人有更好的解决方案，请在下面发布。

# loops - 谷歌地图地理编码停止，同时递归执行

> ID：13619409
> 
> 赞同：1
> 
> 时间：2012-11-29T05:26:02.450
> 
> 标签：loops, google-maps-api-3, google-geocoder

我正在使用以下函数从一个数组加载大约 40 个数组的地址 latlng，但它在 10 次迭代后停止。

```
 loadStoreLatLong(40);

   function loadStoreLatLong(i){     

    var paddress = store_locations[i]['address'] +','+store_locations[i]['postal_code'] + ', ' +store_locations[i]['district'] + ',' + store_locations[i]['country'];
    var  pgeocoder = new google.maps.Geocoder();

    pgeocoder.geocode( { 'address': paddress}, function(results, status) {  
        if (status == google.maps.GeocoderStatus.OK) {

        Storelatlong[i] = results[0].geometry.location;
        i--;

        if(i<0){

   clientLocation();

        }else{

   loadStoreLatLong(i);

    //var t = setTimeout("loadStoreLatLong("+(i)+")",1000);
    //jQuery('#map_canvas').text('Loading ... '+i);

        }
        }
    });
} 
```

我真的被困在那里，任何人都可以帮助解决这个问题，当我设置超时 1000 时，这会很好地迭代 40 次，当我减少超时时，迭代也会减少并停止。谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-29T05:32:14.703

Google Maps API Javascript 的地理编码器不适合很多点。他们在短时间内拒绝连续访问。

因此，即使您有 40 分，也请使用 REST 版本。 [https://developers.google.com/maps/documentation/geocoding/](https://developers.google.com/maps/documentation/geocoding/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-29T10:58:51.457

客户端地理编码器不适用于对页面加载时的大量点进行地理编码。它用于对用户输入的地址进行地理编码。

它是异步的，受配额和速率限制。设置了限制，以便您可以快速对大约 10 个点进行地理编码（取决于服务器负载）。

您应该检查返回的状态，如果表明您超出限制，请延迟一段时间并重试。

见安德鲁对[这个问题的回答](https://stackoverflow.com/questions/11792916/over-query-limit-in-google-maps-api-v3-how-do-i-pause-delay-in-javascript-to-sl)

# c++ - 错误：在 C++ 中不匹配 operator=

> ID：13619410
> 
> 赞同：0
> 
> 时间：2012-11-29T05:26:07.827
> 
> 标签：c++

嗨，我在使用 g++ 4.1.2 编译时遇到此错误

> “错误：operator= in 不匹配” ((PoolElementList*)this)->PoolElementList::i_currentElement = ((PoolElementList*)this)->PoolElementList::i_elementList.std::vector<_Tp, _Alloc>::end _Tp = ModifyTerminationPointReqInfo*, _Alloc = std::allocator

PoolElements 的定义如下：

```
template <class Element, Element *intialElementPtr>
class PoolElementList
{
        GenericMemoryPool <Element, intialElementPtr> *i_elementPoolPtr;

        vector <Element *> i_elementList;
        vector <Element *> i_currentElement;
public:

  //Define a constructor that takes in a pointer of the pool.
        PoolElementList(GenericMemoryPool <Element, intialElementPtr> *elementPool):
        i_elementPoolPtr (elementPool)
        { 
                i_currentElement = i_elementList.end();   //error is here**
        }; 
```

请有人可以解释这可能有什么问题。（这是在 g++ 2.9.x 中编译的）

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-29T06:07:01.053

如果（正如您在评论中所说）您打算`i_currentElement`成为 a `std::vector<Element *>::iterator`，那么您必须将其声明为 one。只需更换

```
vector <Element *> i_elementList; 
```

和

```
vector <Element *>::iterator i_elementList; 
```

# c++ - C ++ - 构造带有标头的数据包并通过UDP套接字发送它

> ID：13619412
> 
> 赞同：4
> 
> 时间：2012-11-29T05:26:12.303
> 
> 标签：c++, c, sockets, networking

我正在尝试构建一个将通过 UDP 发送的数据包。但是，我没有在接收方获得正确的数据。

在数据包中，我想包含一个 IP 标头、UDP 标头和需要发送的数据。在这种情况下，我只想发送单词“Hello”以及随机标题信息。

```
char *data = "Hello";
char *packet = (char *)malloc(sizeof(struct iphdr) + sizeof(struct udphdr) + strlen(data));
struct iphdr *ip = (struct iphdr*) packet;
struct udphdr *udp = (struct udphdr*) (packet + sizeof(struct iphdr));
char *send_buff = (char *) (packet + sizeof(struct iphdr) + sizeof(struct udphdr));
ip->saddr = inet_addr("1.2.3.4");
ip->daddr = inet_addr("5.6.7.8");
ip->ttl = 5;
udp->source = 5950;
udp->dest = 5950;
udp->len = sizeof(struct udphdr);
udp->check = 0;
strcpy(send_buff, data);

sendto(sock, packet, (sizeof(struct iphdr) + sizeof(struct udphdr) + strlen(data)), ROUTER_IP); 
```

我遇到的问题是接收端只是获取随机数据，所以我假设某处的字节数不正确。

在接收端，我让它打印出 IP 标头的一个字段作为测试，但它不正确。

```
char recv_buff[1000];
int recv_bytes = recvfrom(sock, recv_buff, sizeof(recv_buff));
struct iphdr *ip = (struct iphdr*) recv_buff;
cout << static_cast<int16_t>(ip->ttl) << endl; 
```

我将数据包放在一起是错误的还是接收端有问题？我使用这个示例[http://www.winlab.rutgers.edu/~zhibinwu/html/c_prog.htm](http://www.winlab.rutgers.edu/~zhibinwu/html/c_prog.htm)作为将数据包放在一起的参考。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-29T05:52:13.547

您正在创建套接字，`socket(AF_INET, SOCK_DGRAM, 0);`这意味着它是一个数据报（通常为 UDP）套接字，因此网络堆栈将自动包含 IP 标头和 UDP 标头等。

但是由于您尝试创建自己的 IP 和 UDP 标头，因此您必须创建一个原始套接字，然后发送数据包（并按照您的参考代码计算校验和）。

要创建原始套接字，请使用`socket(AF_INET, SOCK_RAW, 0)`.

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-29T08:01:33.363

除了不使用原始套接字的问题外，您也没有正确设置例如端口号。必须是网络字节顺序，所以你应该使用例如`htons`。还有其他字段应该按网络字节顺序排列。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-30T07:05:31.813

如果您在堆栈顶部使用自己的 ip 和 udp 标头，我希望您在删除您的标头和堆栈的标头后解析数据。如果接收套接字是 RAW，您还将获得堆栈的 ip 和 udp 标头。

# asp.net - 发送电子邮件：asp.net mvc4

> ID：13619417
> 
> 赞同：1
> 
> 时间：2012-11-29T05:26:41.320
> 
> 标签：asp.net, email, asp.net-mvc-4

我正在尝试将邮件从我的应用程序发送到用户输入的不同收件人。

我的模特班，

```
public class Mail
 {
    public int MailId { get; set; }

    public string Mail_To { get; set; }

    public string Mail_From { get; set; }

    public string Mail_Subject { get; set; }

    public string Mail_Contents { get; set; }

    public DateTime Mail_Date { get; set; }

    [ForeignKey("Anganwadi")]
    public int AnganwadiId { get; set; }
    public virtual Anganwadi Anganwadi { get; set; }
} 
```

我的控制器看起来像，

```
[HttpPost]
    public ViewResult SendMail(Mail mail) 
    {
        try
        {
if (ModelState.IsValid)
            {
                mail.Mail_Date = System.DateTime.Now;
                mail.AnganwadiId = 1;
                mail.Mail_From = "k@gmail.com";
                mail.Mail_Subject = "From Anganwadi";
                MailMessage message = new MailMessage();
                message.From = new MailAddress(mail.Mail_From);
                message.To.Add(new MailAddress("v@gmail.com"));
                message.Subject = mail.Mail_Subject;
                message.Body = mail.Mail_Contents;

                SmtpClient client = new SmtpClient();
                client.Send(message);
                return View("Thanks", mail);
            }
            else
            {
                return View();
            }
        }
        catch (Exception e)
        {
            return View(e);
        }
    } 
```

在我的网络配置中，我添加了以下内容

```
<system.net>
  <mailSettings>
    <smtp from="test@foo.com">
      <network host="smtp.efernssolutions.com" port="587" defaultCredentials="true" />
    </smtp>
  </mailSettings>
</system.net> 
```

收到错误

```
Mailbox unavailable. The server response was: authsmtp12: Host 117.196.165.214: No unauthenticated relaying permitted 
```

我不确定这是正确的方法。请帮我。

谢谢，

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-29T06:00:38.460

您`from="test@foo.com"`在 smtp 配置中使用它而不是代码中的地址。此电子邮件在其域中包含无效的 MX 记录 ( [http://www.digwebinterface.com/?hostnames=foo.com%0D%0A&type=ANY&useresolver=8.8.4.4&ns=auth&nameservers=](http://www.digwebinterface.com/?hostnames=foo.com%0D%0A&type=ANY&useresolver=8.8.4.4&ns=auth&nameservers=) )

即使进行测试，您也应该更好地使用现有的电子邮件。

# android - 我怎样才能知道哪个应用程序包正在调用软键盘？

> ID：13619423
> 
> 赞同：0
> 
> 时间：2012-11-29T05:26:57.567
> 
> 标签：android, android-softkeyboard, android-package-managers

朋友们，我需要开发一个键盘，它应该有一个调用软键盘的应用程序图标。

我在这里找到了一个可能有用的链接[Android 应用程序如何加载键盘？](https://stackoverflow.com/questions/3938523/how-does-an-android-app-load-a-keyboard)

那么我怎样才能知道哪个在调用键盘呢？还是前台活动的包名？有没有人有任何想法，我很感激并非常感谢他们。

谢谢你

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-29T06:24:07.150

您是否尝试过从`ApplicationInfo`上下文对象中获取。查看[此链接](http://developer.android.com/reference/android/content/Context.html#getApplicationInfo%28%29)以获取 Java 文档。

[ApplicationInfo](http://developer.android.com/reference/android/content/pm/ApplicationInfo.html)超类是[PackageItemInfo](http://developer.android.com/reference/android/content/pm/PackageItemInfo.html)，它有一个名为[PackageName](http://developer.android.com/reference/android/content/pm/PackageItemInfo.html#packageName)的字段。这可能会帮助你。

您可以使用包管理器[getApplicationIcon()](http://developer.android.com/reference/android/content/pm/PackageManager.html#getApplicationIcon%28android.content.pm.ApplicationInfo%29)方法通过将 ApplicaiotnInfo 对象传递给此方法来获取应用程序图标的 Drawable ...

编辑1：

您还可以使用上下文类的[getPackageName()](http://developer.android.com/reference/android/content/Context.html#getPackageName%28%29)方法来获取应用程序包的名称。一旦你有了包名，你就可以使用`PackageManager` [getApplicationIcon(String packageName)](http://developer.android.com/reference/android/content/pm/PackageManager.html#getApplicationIcon%28java.lang.String%29)方法来获取图标。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-12T11:39:22.537

这个问题 ans 可以用作解决方案[我如何获得其他包中的第二个顶级活动的包名称？](https://stackoverflow.com/questions/13620037/how-can-i-get-the-package-name-of-2nd-top-activity-which-is-in-other-package)

让最重要的活动运行是启动键盘的活动，有点黑客方式但仍然有效:)

# android - 仍然无法将 iGoogle 小工具转换为 Android（主屏幕）小部件？

> ID：13619432
> 
> 赞同：0
> 
> 时间：2012-11-29T05:27:40.867
> 
> 标签：android, android-widget, google-gadget, igoogle

我想将现有的 Google 小工具转换为 Android 主屏幕小部件。

我发现了类似的问题。

*   [如何将 iGoogle 小工具转换为 Android 小部件？](https://stackoverflow.com/questions/6844886/how-do-i-convert-an-igoogle-gadget-into-an-android-widget)

*   [Android 手机上的 iGoogle 小工具作为 APP 或小部件](https://stackoverflow.com/questions/5044429/igoogle-gadget-on-android-phone-as-app-or-widget)

自上述问题发布以来已经过去了大约 2 年。

是否仍然无法**将 (i)Google 小工具转换为 Android 主屏幕小部件？**

# nvd3.js - 大黑圈叠加散点图

> ID：13619436
> 
> 赞同：12
> 
> 时间：2012-11-29T05:28:13.877
> 
> 标签：nvd3.js

我遇到了一个非常奇怪的问题 - 我使用的代码与 nvd3 网站上的散点图示例大致相同（但已连接到我的 ember.js 应用程序），我看到一个美丽的情节只是被破坏了大约 500 毫秒后，一组黑色圆圈更大，但遵循绘图的相同轮廓。

如果我在 nv.d3.js 中注释掉这一行：

```
gEnter.append('g').attr('class', 'nv-point-paths'); 
```

这似乎没有发生，并且没有动画的图形“工作”ala。

有没有人见过类似的东西？

* * *

## 回答 #1

> 赞同：21
> 
> 时间：2012-12-24T10:33:56.387

我自己刚刚遇到过这个问题，我想我已经弄清楚了，尽管我不确定为什么在任何地方的 nvd3 页面上都没有更好地解释它。

您需要在 html 中包含对[nvd3 样式表](https://github.com/novus/nvd3/blob/master/src/nv.d3.css)`./src/nv.d3.css`的引用，该文件是 download/github 存储库中的文件。

我的猜测是，黑色圆圈是图表上每个点的悬停区域，SVG 中路径的默认样式是黑色填充。

我在 github 上提出了一个问题，看看我们是否可以改进 nvd3 的安装说明：[https](https://github.com/novus/nvd3/issues/19) ://github.com/novus/nvd3/issues/19 。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2014-09-04T15:45:46.243

事实证明，即使您包含 css 文件，点仍然会显示：

[https://dl.dropboxusercontent.com/u/318531/so/black-dots.png](https://dl.dropboxusercontent.com/u/318531/so/black-dots.png)

这似乎只是面积图和折线图的问题，更具体地说是工具提示：

[https://dl.dropboxusercontent.com/u/318531/so/selector.png](https://dl.dropboxusercontent.com/u/318531/so/selector.png)

我所做的是隐藏工具提示，如下所示：

```
<style media="print">    
  .nv-point-paths {
    display: none !important;
  }
</style> 
```

我不确定上面的 css 选择器是否适用于所有情况，请检查工具提示元素以确保您隐藏了正确的元素。

PS：我试图附上截图，但显然我没有足够的声誉:-(

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2017-11-11T15:24:21.360

如果您是 Angular2 的新手，您可能忘记添加：

```
encapsulation: ViewEncapsulation.None 
```

这将允许加载外部样式表。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-05-22T18:52:13.873

我在尝试将 nvd3 scatterPlusLineChart 导入 jsFiddle 时遇到了这个问题。虽然我添加了 css 外部引用，但它不是“接受”；我的解决方法是将 nv.d3.css 的源代码直接放在 CSS 区域的顶部。有任何想法吗？

另外，如果其他人想玩这个例子，它在

[http://jsfiddle.net/mr23/JHWNr/1/](http://jsfiddle.net/mr23/JHWNr/1/)

满足 SO.com 的强制性 jsfiddle 代码，即使它是关于参考...

在：CSS 字段

```
/********************
 * HTML CSS
 */

.chartWrap {
  margin: 0;
  padding: 0;
  overflow: hidden;
} 
```

# version-control - 如何确定在 TFS 2012 中回滚了哪些变更集？

> ID：13619438
> 
> 赞同：3
> 
> 时间：2012-11-29T05:28:23.510
> 
> 标签：version-control, tfs, visual-studio-2012

在 TFS 2012 中，当我回滚变更集时，会为相应的“撤消”更改创建一个新的变更集。但是，如果我查看历史记录，则没有迹象表明回滚了哪些变更集（没有链接等）。有没有办法通过查看一个变更集来判断它正在回滚另一个变更集（以及那个变更集是什么）？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-30T16:26:19.610

根据 Betty 链接的另一个问题以及我在 TFS 中看到的内容，看起来与正在回滚的变更集没有任何关联。我将开始遵循一个约定，即回滚的每个签入注释都将包含正在回滚的变更集。

# asp.net - 从一种方法获取变量并用作私有字符串

> ID：13619439
> 
> 赞同：0
> 
> 时间：2012-11-29T05:28:30.433
> 
> 标签：asp.net, methods

我真的希望有人可以帮助我，我需要从方法 GridView1_RowDataBound 获取变量产品到报价值类字符串产品。

它对于pdf创建者来说，任何帮助将不胜感激，因为我已经坚持了很长一段时间，请原谅，因为我在.net方面相当缺乏经验。

非常感谢！！

```
enter code here
public partial class quotedetail : System.Web.UI.Page
{
    private string quoteId;
    private string product;
    private string connectId = "";
    string description = "Save Your Quote as a PDF with your Company Logo and Print out for Customers";

    public string ConnectId { get { return connectId; } }

    protected void Page_Init(object sender, EventArgs e)
    {
        connectId = Global.GetConnectionString();
        quoteId = Request.QueryString["quote"];
        product = 

    }

    protected void Page_Load(object sender, EventArgs e)
    {
        if (!IsPostBack)
        {
            (Master as WebOnlineMasterPage).PageTitle = "Quote - " + quoteId;

            DisplayPage();
        }    
    }

    protected void DisplayPage()
    {    
        try
        {
            DataSet ds = new WebOnlineQuote.Quote().GetQuote(ConnectId, quoteId);

            FormView1.DataSource = ds.Tables[0];
            GridView1.DataSource = ds.Tables[1];

            Page.DataBind();
        }
        catch (System.Web.Services.Protocols.SoapException ex)
        {
            Global.CheckException(ex);
            description = "Sorry, information about this quote is unavailable.";
            Panel1.Visible = false;
        }

        (Master as WebOnlineMasterPage).PageDescription = description;

    }

    public void GridView1_RowDataBound(object sender, GridViewRowEventArgs e)
    {
        if ((e.Row.RowType == DataControlRowType.DataRow))
        {
            e.Row.Attributes.Add("onmouseover", "className='dataOver'");

            if (e.Row.DataItemIndex % 2 == 1)
                e.Row.Attributes.Add("onmouseout", "className='dataAltRow'");
            else
                e.Row.Attributes.Add("onmouseout", "className='data'");

            string product = ((DataRow)((DataRowView)e.Row.DataItem).Row)["ProductCode"].ToString();

            e.Row.Attributes.Add("onClick", String.Format("document.location='productdetail.aspx?id={0}'", product));

        }
    }

    protected void FormView1_DataBound(object sender, EventArgs e)
    {
        // get the expiry date
        bool isopen = (bool)((DataRow)((DataRowView)FormView1.DataItem).Row)["IsOpen"];
        bool expired = (bool)((DataRow)((DataRowView)FormView1.DataItem).Row)["Expired"];

        int viewIndex = 0;

        if (isopen && !expired)
            viewIndex = 1;

        // set appropriate view
        MultiView view = (MultiView)FormView1.FindControl("QuoteProcessView");

        view.ActiveViewIndex = viewIndex;
    }

    protected void AcceptQuote_Btn_Click(object sender, EventArgs e)
    {
        Response.Redirect("checkout.aspx?quote=" + quoteId);
    }

    protected void Requote_Btn_Click(object sender, EventArgs e)
    {
        Response.Redirect("requestquote.aspx?quote=" + quoteId);
    }

    // ********************PDF Start********************

    protected void SaveAsPdf_Click(object sender, EventArgs e)
    {
        DataSet quote = new WebOnlineQuote.Quote().GetQuote(ConnectId, quoteId);
        Document document = CreateDocument();
        PdfDocumentRenderer renderer = new PdfDocumentRenderer();
        renderer.Document = document;
        renderer.RenderDocument();
        MemoryStream ms = new MemoryStream();
        renderer.PdfDocument.Save(ms);
        byte[] pdfBytes = ms.ToArray();

        Response.Clear();
        Response.ContentType = "application/pdf";
        Response.AddHeader("content-disposition", "attachment; filename=quote.pdf");
        Response.AddHeader("Content-Length", pdfBytes.Length.ToString());
        Response.BinaryWrite(pdfBytes);
        Response.StatusCode = 200;
        Response.End();
    }

    public Document CreateDocument()
    {

        Document document = new Document();
        document.Info.Title = "A sample invoice";
        document.Info.Subject = "Demonstrates how to create an invoice.";
        DefineStyles(document);
        TextFrame addressFrame;
        MigraDoc.DocumentObjectModel.Tables.Table table;
        CreatePage(document, out addressFrame, out table );
        FillContent(document, addressFrame, table);
        return document;
    }

    void DefineStyles(Document document)
    {
        // Get the predefined style Normal.
        MigraDoc.DocumentObjectModel.Style style = document.Styles["Normal"];
        // Because all styles are derived from Normal, the next line changes the 
        // font of the whole document. Or, more exactly, it changes the font of
        // all styles and paragraphs that do not redefine the font.
        style.Font.Name = "Verdana";

        style = document.Styles[StyleNames.Header];
        style.ParagraphFormat.AddTabStop("16cm", TabAlignment.Right);

        style = document.Styles[StyleNames.Footer];
        style.ParagraphFormat.AddTabStop("8cm", TabAlignment.Center);

        // Create a new style called Table based on style Normal
        style = document.Styles.AddStyle("Table", "Normal");
        style.Font.Name = "Verdana";
        style.Font.Name = "Times New Roman";
        style.Font.Size = 9;

        // Create a new style called Reference based on style Normal
        style = document.Styles.AddStyle("Reference", "Normal");
        style.ParagraphFormat.SpaceBefore = "5mm";
        style.ParagraphFormat.SpaceAfter = "5mm";
        style.ParagraphFormat.TabStops.AddTabStop("16cm", TabAlignment.Right);
    }

    void CreatePage(Document document, out TextFrame addressFrame, out MigraDoc.DocumentObjectModel.Tables.Table table)
    {

        // Each MigraDoc document needs at least one section.
        Section section = document.AddSection();

        // Put a logo in the header
        MigraDoc.DocumentObjectModel.Shapes.Image image = section.Headers.Primary.AddImage(Server.MapPath("~/images/cnwlogo.jpg"));
        image.Height = "2.5cm";
        image.LockAspectRatio = true;
        image.RelativeVertical = RelativeVertical.Line;
        image.RelativeHorizontal = RelativeHorizontal.Margin;
        image.Top = ShapePosition.Top;
        image.Left = ShapePosition.Right;
        image.WrapFormat.Style = WrapStyle.Through;

        // Create footer
        Paragraph paragraph = section.Footers.Primary.AddParagraph();
        paragraph.AddText("PowerBooks Inc · Sample Street 42 · 56789 Cologne · Germany");
        paragraph.Format.Font.Size = 9;
        paragraph.Format.Alignment = ParagraphAlignment.Center;

        // Create the text frame for the address
        addressFrame = section.AddTextFrame();
        addressFrame.Height = "3.0cm";
        addressFrame.Width = "7.0cm";
        addressFrame.Left = ShapePosition.Left;
        addressFrame.RelativeHorizontal = RelativeHorizontal.Margin;
        addressFrame.Top = "5.0cm";
        addressFrame.RelativeVertical = RelativeVertical.Page;

        // Put sender in address frame
        paragraph = addressFrame.AddParagraph("PowerBooks Inc · Sample Street 42 · 56789 Cologne");
        paragraph.Format.Font.Name = "Times New Roman";
        paragraph.Format.Font.Size = 7;
        paragraph.Format.SpaceAfter = 3;

        // Add the print date field
        paragraph = section.AddParagraph();
        paragraph.Format.SpaceBefore = "8cm";
        paragraph.Style = "Reference";
        paragraph.AddFormattedText("INVOICE", TextFormat.Bold);
        paragraph.AddTab();
        paragraph.AddText("Cologne, ");
        paragraph.AddDateField("dd.MM.yyyy");

        // Create the item table
        table = section.AddTable();
        table.Style = "Table";
        table.Borders.Color = Colors.DarkBlue;
        table.Borders.Width = 0.25;
        table.Borders.Left.Width = 0.5;
        table.Borders.Right.Width = 0.5;
        table.Rows.LeftIndent = 0;

        // Before you can add a row, you must define the columns
        Column column = table.AddColumn("3cm");
        column.Format.Alignment = ParagraphAlignment.Left;

        column = table.AddColumn("5cm");
        column.Format.Alignment = ParagraphAlignment.Left;

        column = table.AddColumn("1cm");
        column.Format.Alignment = ParagraphAlignment.Left;

        column = table.AddColumn("1cm");
        column.Format.Alignment = ParagraphAlignment.Left;

        column = table.AddColumn("2cm");
        column.Format.Alignment = ParagraphAlignment.Left;

        column = table.AddColumn("2cm");
        column.Format.Alignment = ParagraphAlignment.Left;

        column = table.AddColumn("2cm");
        column.Format.Alignment = ParagraphAlignment.Right;

        // Create the header of the table
        CreateHeaderRow(table);

        table.SetEdge(0, 0, 7, 1, Edge.Box, MigraDoc.DocumentObjectModel.BorderStyle.Single, 0.75, Color.Empty);

        //create data table

    }

    private static void CreateHeaderRow(MigraDoc.DocumentObjectModel.Tables.Table table)
    {
        Row headerRow1 = table.AddRow();
        headerRow1.HeadingFormat = true;
        headerRow1.Format.Alignment = ParagraphAlignment.Center;
        headerRow1.Format.Font.Bold = true;
        headerRow1.Shading.Color = Colors.AliceBlue;
        headerRow1.Cells[0].AddParagraph("PRODUCT");
        headerRow1.Cells[0].Format.Font.Bold = false;
        headerRow1.Cells[0].Format.Alignment = ParagraphAlignment.Left;
        headerRow1.Cells[0].VerticalAlignment = VerticalAlignment.Bottom;
        headerRow1.Cells[0].MergeDown = 1;
        headerRow1.Cells[1].AddParagraph("DESCRIPTION");
        headerRow1.Cells[1].Format.Alignment = ParagraphAlignment.Left;
        headerRow1.Cells[1].MergeDown = 1;
        headerRow1.Cells[2].AddParagraph("QTY");
        headerRow1.Cells[2].Format.Alignment = ParagraphAlignment.Left;
        headerRow1.Cells[2].VerticalAlignment = VerticalAlignment.Bottom;
        headerRow1.Cells[2].MergeDown = 1;

        headerRow1.Cells[3].AddParagraph("UNIT");
        headerRow1.Cells[3].Format.Alignment = ParagraphAlignment.Left;
        headerRow1.Cells[3].VerticalAlignment = VerticalAlignment.Bottom;
        headerRow1.Cells[3].MergeDown = 1;

        headerRow1.Cells[4].AddParagraph("PRICE");
        headerRow1.Cells[4].Format.Alignment = ParagraphAlignment.Left;
        headerRow1.Cells[4].VerticalAlignment = VerticalAlignment.Bottom;
        headerRow1.Cells[4].MergeDown = 1;

        headerRow1.Cells[5].AddParagraph("TAX");
        headerRow1.Cells[5].Format.Alignment = ParagraphAlignment.Left;
        headerRow1.Cells[5].VerticalAlignment = VerticalAlignment.Bottom;
        headerRow1.Cells[5].MergeDown = 1;

        headerRow1.Cells[6].AddParagraph("TOTAL");
        headerRow1.Cells[6].Format.Alignment = ParagraphAlignment.Left;
        headerRow1.Cells[6].VerticalAlignment = VerticalAlignment.Bottom;
        headerRow1.Cells[6].MergeDown = 1;

    }

    class QuoteItemRow
    {
        protected void GridView1_RowDataBound(object sender, GridViewRowEventArgs e)
        {
            if ((e.Row.RowType == DataControlRowType.DataRow))
            {
                e.Row.Attributes.Add("onmouseover", "className='dataOver'");

                if (e.Row.DataItemIndex % 2 == 1)
                    e.Row.Attributes.Add("onmouseout", "className='dataAltRow'");
                else
                    e.Row.Attributes.Add("onmouseout", "className='data'");

                string product = ((DataRow)((DataRowView)e.Row.DataItem).Row)["ProductID"].ToString();

                e.Row.Attributes.Add("onClick", String.Format("document.location='productdetail.aspx?id={0}'", product));

            }
        }

        public QuoteItemRow(decimal quantity, decimal price, decimal discount, string itemNumber, string title)
        {
            Quantity = quantity;
            Price = price;
            Discount = discount;
            ItemNumber = itemNumber;
            Title = title;

        }

        public decimal Quantity;
        public decimal Discount;
        public decimal Price;
        public string ItemNumber;
        public string Title;

    }

    void FillContent(Document document, TextFrame addressFrame, MigraDoc.DocumentObjectModel.Tables.Table table)
    {

            Paragraph paragraph = addressFrame.AddParagraph();
            paragraph.AddText("Joe Bloggs");
            paragraph.AddLineBreak();
            paragraph.AddText("12 Some St");
            paragraph.AddLineBreak();
            paragraph.AddText(product);

            // Iterate the invoice items
            decimal totalExtendedPrice = 0;

            QuoteItemRow[] items = new QuoteItemRow[] {
                new QuoteItemRow (2.0m, 3.4m, 0.2m, "3213421", product ),
                new QuoteItemRow (2.4m, 3.4m, 0.0m, "3534DD21", quoteId ),
                new QuoteItemRow (8, 0.4m, 0.1m, "908587", quoteId ),

            };

            foreach (QuoteItemRow item in items)
            {
                decimal quantity = item.Quantity;
                decimal price = item.Price;
                decimal discount = item.Discount;

                // Each item fills two rows
                Row row1 = table.AddRow();
                Row row2 = table.AddRow();
                row1.TopPadding = 1.5;
                row1.Cells[0].Shading.Color = Colors.LightGray;
                row1.Cells[0].VerticalAlignment = VerticalAlignment.Center;

                row1.Cells[1].Format.Alignment = ParagraphAlignment.Left;
                row1.Cells[2].Format.Alignment = ParagraphAlignment.Left;
                row1.Cells[3].Format.Alignment = ParagraphAlignment.Left;
                row1.Cells[4].Format.Alignment = ParagraphAlignment.Left;
                row1.Cells[5].Format.Alignment = ParagraphAlignment.Left;
                row1.Cells[6].Format.Alignment = ParagraphAlignment.Left;

                paragraph = row1.Cells[1].AddParagraph();
                paragraph.AddFormattedText(item.Title, TextFormat.Bold);
                row2.Cells[1].AddParagraph(item.Quantity.ToString());
                row2.Cells[2].AddParagraph("$" + price.ToString("0.00"));
                row2.Cells[3].AddParagraph("$" + discount.ToString("0.0"));
                row2.Cells[4].AddParagraph();
                row2.Cells[5].AddParagraph("$" + price.ToString("0.00"));
                decimal extendedPrice = quantity * price;
                extendedPrice = extendedPrice * (100 - discount) / 100;
                row1.Cells[5].AddParagraph("$" + extendedPrice.ToString("0.00"));
                row1.Cells[5].VerticalAlignment = VerticalAlignment.Bottom;
                totalExtendedPrice += extendedPrice;

                table.SetEdge(0, table.Rows.Count - 2, 6, 2, Edge.Box, MigraDoc.DocumentObjectModel.BorderStyle.Single, 0.75);
            }

            // Add an invisible row as a space line to the table
            Row row = table.AddRow();
            row.Borders.Visible = false;

            // Add the total price row
            row = table.AddRow();
            row.Cells[0].Borders.Visible = false;
            row.Cells[0].AddParagraph("Total Price");
            row.Cells[0].Format.Font.Bold = true;
            row.Cells[0].Format.Alignment = ParagraphAlignment.Right;
            row.Cells[0].MergeRight = 4;
            row.Cells[5].AddParagraph(totalExtendedPrice.ToString("0.00") + " €");

            // Add the VAT row
            row = table.AddRow();
            row.Cells[0].Borders.Visible = false;
            row.Cells[0].AddParagraph("VAT (19%)");
            row.Cells[0].Format.Font.Bold = true;
            row.Cells[0].Format.Alignment = ParagraphAlignment.Right;
            row.Cells[0].MergeRight = 4;
            row.Cells[5].AddParagraph((0.19m * totalExtendedPrice).ToString("0.00") + " €");

            // Add the additional fee row
            row = table.AddRow();
            row.Cells[0].Borders.Visible = false;
            row.Cells[0].AddParagraph("Shipping and Handling");
            row.Cells[5].AddParagraph(0.ToString("0.00") + " €");
            row.Cells[0].Format.Font.Bold = true;
            row.Cells[0].Format.Alignment = ParagraphAlignment.Right;
            row.Cells[0].MergeRight = 4;

            // Add the total due row
            row = table.AddRow();
            row.Cells[0].AddParagraph("Total Due");
            row.Cells[0].Borders.Visible = false;
            row.Cells[0].Format.Font.Bold = true;
            row.Cells[0].Format.Alignment = ParagraphAlignment.Right;
            row.Cells[0].MergeRight = 4;
            totalExtendedPrice += 0.19m * totalExtendedPrice;
            row.Cells[5].AddParagraph(totalExtendedPrice.ToString("0.00") + " €");

            // Set the borders of the specified cell range
            table.SetEdge(5, table.Rows.Count - 4, 1, 4, Edge.Box, MigraDoc.DocumentObjectModel.BorderStyle.Single, 0.75);

            // Add the notes paragraph
            paragraph = document.LastSection.AddParagraph();
            paragraph.Format.SpaceBefore = "1cm";
            paragraph.Format.Borders.Width = 0.75;
            paragraph.Format.Borders.Distance = 3;
            paragraph.Format.Borders.Color = Colors.DarkBlue;
            paragraph.Format.Shading.Color = Colors.LightGray;
        }

} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-29T06:06:59.367

最简单的解决方案是将价值放入 Session

```
Session.Add("ProductCode", ((DataRow)((DataRowView)e.Row.DataItem).Row)["ProductCode"].ToString()); 
```

要获取值：

```
Session["ProductCode"].ToString() 
```

请记住，尽管您在项目数据绑定中执行此操作，但如果您期望产品代码有多个值，我建议您在将值放入 Session 之前将其存储在集合中。

IE

```
if(Session["ProductCode"] != null)
{
List<string> pcodes = Session["ProductCode"] as List<string>();
pcodes.Add(((DataRow)((DataRowView)e.Row.DataItem).Row)["ProductCode"].ToString());
Session.Add("ProductCode", pcodes);
}
else
{
List<string> pcodes = new List<string>();
pcodes.Add(((DataRow)((DataRowView)e.Row.DataItem).Row)["ProductCode"].ToString());
Session.Add("ProductCode", pcodes);
} 
```

要获取值：

```
Session["ProductCode"] as List<string>() 
```

# javascript - Can (Html5,javascript,css3) 应用程序将在 ios 和 android 上完美运行

> ID：13619445
> 
> 赞同：0
> 
> 时间：2012-11-29T05:28:48.823
> 
> 标签：javascript, android, ios, html, css

我正在为服务器端构建一个 Html5、css3、javascript 和 node.js 站点。我想知道这个应用程序能否在 ios 和 android 操作系统设备上完美运行，例如（iphone、ipad、htc 和其他 android 手机？

请告诉我，以便我继续使用这些技术制作我的应用程序。

谢谢，

**更新：**

我不想使用 phonegap 或所有类似 phonegap 的东西。我想做简单的应用

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-29T05:36:11.077

如果您使用 HTML5 作为您的平台，您将在所有查看设备上获得几乎完全相同的视觉和功能结果：web、android 和 ios。所以是的，它应该“完美”地工作。

但是请注意，HTML5 通常比使用设备的本地语言编写应用程序慢 10%。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-29T05:33:18.073

如果您正确编码，您的网站在智能手机上看起来会很好。今天流行的智能手机可以显示网络，就像你在家里的浏览器上看到的一样（只是更小）。大多数使用 webkit 作为浏览器引擎。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-29T05:36:17.873

根据最近的趋势，许多应用程序都是基于网络的，并且它们运行良好。您仍然可以在尽可能多的设备上进行测试。据我说，它应该可以正常工作。Phone Gap 和 Appcelerator Titanium 是著名的基于 Web 的移动开发平台。

如果您正在创建一个网站，那么它在任何设备中都不应该是一个问题。

# facebook - 如果出现“赞”按钮，则显示不需要的 Facebook 注册按钮

> ID：13619448
> 
> 赞同：2
> 
> 时间：2012-11-29T05:29:07.497
> 
> 标签：facebook

这个问题已经在论坛上讨论过：[Facebook Like Box 中出现绿色的“注册”按钮，](https://stackoverflow.com/questions/8455930/green-sign-up-button-appears-in-facebook-like-box)但没有解决。

我在我的网站上放置了一个“赞”按钮，直到最近一切正常，当它被一个绿色的“登录”按钮自动替换为文本：“在 Facebook 上找到我们。创建一个帐户或登录以查看你的朋友喜欢什么”。该按钮指向以下网址：[http ://www.facebook.com/campaign/landing.php?campaign_id=137675572948107&partner_id&placement=likebox_plugin&extra_2=MK](http://www.facebook.com/campaign/landing.php?campaign_id=137675572948107&partner_id&placement=likebox_plugin&extra_2=MK)

我没有国家和年龄的限制，每个人都可以成为我的FB页面的粉丝，所以我不明白他们为什么要登录？它也破坏了我网站的外观。如何解决这个问题呢？ **截图如下。** 链接：http: [//i1048.photobucket.com/albums/s376/vbbmk/facebook_like_button_error.jpg](http://i1048.photobucket.com/albums/s376/vbbmk/facebook_like_button_error.jpg)

# javascript - Jquery ui滑块滑动功能的问题

> ID：13619450
> 
> 赞同：0
> 
> 时间：2012-11-29T05:29:29.437
> 
> 标签：javascript, jquery, jquery-ui

使用[这个问题](https://stackoverflow.com/questions/10485075/slider-with-multiple-handle-and-background-color-for-content)的第二个答案，我为 4 句柄 jquery 滑块编写了代码。它工作正常，但后来我不得不在同一页面中制作多个滑块，所以我尝试对我的代码进行一些模块化，将幻灯片功能分开。现在滑块中的处理程序完全重叠，忽略了我为这种情况设置的条件。

这是我的幻灯片功能的代码以及我如何在滑块设置中调用它：

滑动功能：

```
function slidegen(event,ui,index){

    //Code for handler 0
    if(ui.handle == $("#weightage_slider_"+index+"_0").get(0)){
        if(ui.values[0] >= ui.values[1]){

            /*FOR SOME REASON THE NEXT LINE HAS NO EFFECT*/

            $("#weightage_slider_"+index).slider('values', 0, ui.values[1]); 
            return false;
        } else {
            // handle-0 will move
            // update display of colored handle ranges
            $("#weightage_slider_a_"+index).css('left', '0%');
            $("#weightage_slider_a_"+index).css('width', (to100(ui.values[0])+'%'));
            $("#weightage_slider_b_"+index).css('left', (to100(ui.values[0])+'%'));
            $("#weightage_slider_b_"+index).css('width', ((to100(ui.values[1])-to100(ui.values[0]))+'%'));
        }
    }

    /*SIMILAR CODE FOR THE REST OF THE HANDLERS HERE*/
} 
```

滑块设置：

```
$("#weightage_slider_0").slider({ 
    min: 1,
    max: 5,
    step: 0.01,
    values: handlers, // set four handles
    slide: function(event, ui) {
        slidegen(event,ui,0);
    }, 
    change: function(event, ui) {    
        changen(event,ui,0);
    }
}); 
```

我知道在滑动期间，会发生以下顺序：（i）更改 ui.value（ii）调用滑块函数（iii）移动滑块句柄。可能是因为我在滑块函数内部进行了另一个调用，所以发生了错误，因此我正在改变那个顺序？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-02T22:41:05.393

问题解决了！您似乎无法将要用作设置的功能模块化。我认为它必须与范围问题有关。相反，我将整个滑块创建模块化，如下所示或在[此链接中](http://jsfiddle.net/urTxY/2/)

```
function makeslider(index,h) {
        $("#weightage_slider_" + index).slider({
            min: 1,
            max: 5,
            step: 0.01,
            values: h,
            // set four handles
            slide: function(event, ui) {
                /*Generic slide function code here*/
            },
            change: function(event, ui) {
                /*Generic change function code here*/
            }, 
            create: function(event, ui) {
                /*Generic create function code here*/
            }    
        });
}

makeslider(0, handlers);
makeslider(1, handlers1);
makeslider(2, handlers2); 
```

# c# - 以特定时间间隔从数据库中获取值

> ID：13619451
> 
> 赞同：2
> 
> 时间：2012-11-29T05:29:35.110
> 
> 标签：c#, .net, sql, sql-server, linq

我想在 C# 中以特定间隔从数据库中获取值，并且需要一个查询。这就是我的数据库的样子

```
Id SensorId 值 CreatedOn   
------------------------------------------------      
1 8 33.5 15-11-2012 下午 5:48        
2 5 49.2 15-11-2012 下午 5:48
3 8 33.2 15-11-2012 下午 5:49  
4 5 48.5 2012 年 11 月 15 日下午 5:49  
5 8 31.8 15-11-2012 下午 5:50
6 5 42.5 15-11-2012 下午 5:50
7 8 36.5 15-11-2012 下午 5:51
8 5 46.5 15-11-2012 下午 5:51
9 8 39.2 15-11-2012 下午 5:52
10 5 44.4 15-11-2012 下午 5:52
11 8 36.5 15-11-2012 下午 5:53
12 5 46.5 15-11-2012 下午 5:53
13 8 39.2 15-11-2012 下午 5:54
14 5 44.4 15-11-2012 下午 5:54
………………………………………………………………………………………………………………

```

间隔以分钟为单位。所以，如果间隔是 10 分钟，那么我们需要 5:48、5:58、6:08 等处的值...

我尝试使用 while 循环来执行此操作，但是当我向数据库发送多个查询时会花费大量时间。

有没有办法在单个查询中获取数据？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-29T05:33:38.737

您可以使用[`datepart`](http://msdn.microsoft.com/en-us/library/ms174420.aspx)模数来获取匹配的行（例如，@interval = 10、@offset = 8）：

```
SELECT * FROM table
WHERE datepart(minute, CreatedOn) % @interval = @offset 
```

* * *

**编辑**

请注意，以上不是按间隔选择的*一般*解决方案。它将跨*小时*（因此跨天）工作，间隔为 2、3、4、5 ......任何分为 60 的分钟间隔。

如果你想使用一个奇怪的间隔，比如 7 分钟，那么你必须定义一个间隔的开始时间并计算每行的*总分钟*数，包括小时/天。此时，您最好根据计算相关间隔的用户定义函数在表上创建一个索引计算列。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-29T08:48:41.490

这是你可以做到的，解释包含在代码的注释中：

```
/*We want 10-minute intervals starting 
  from minimum date to next day same time*/
DECLARE @startDateTime DATETIME = (
    SELECT  MIN(CreatedOn)
    FROM    #yourTable
)
DECLARE @endDateTime DATETIME = DATEADD(DAY, 1, @startDateTime)

DECLARE @startDateTimeTable TABLE (dt DATETIME)
INSERT @startDateTimeTable VALUES (@startDateTime)

/*Create a table that contains relevant datetimes (10-minute 
  intervals from starting date to end date)*/
;WITH a AS (
    SELECT  dt
    FROM    @startDateTimeTable
    UNION   ALL
    SELECT  DATEADD(MINUTE, 10, a.dt)
    FROM    a
    JOIN    @startDateTimeTable b ON a.dt <= @endDateTime
)
SELECT  *
INTO    #requiredDateTimes
FROM    a
OPTION  (MAXRECURSION 32767)

/*Now join data table to datetime table to 
  filter out only records with datetimes that we want*/
SELECT  *
FROM    #yourTable a
JOIN    #requiredDateTimes b ON
        a.CreatedOn = b.dt 
```

这是一个**[SQL 小提琴](http://sqlfiddle.com/#!3/5e475/1/0)**

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-29T21:51:40.567

任何建议使用模数 (%) 的答案都做了几个假设：

1.  您将始终在有问题的确切时间读取每个传感器的读数
2.  每个传感器一分钟内的读数永远不会超过一个。
3.  您将永远不必处理小于一分钟的间隔。

这些可能是错误的假设，因此您需要一种不同的方法。首先，制作您要查询的所有时间点的地图。然后在该点或之前从每个传感器获取最后一个读数。

这是一个完整的单元测试，展示了如何在纯 linq-to-objects 中完成它。您可能需要对查询进行一些小的更改才能使其在 linq-to-sql 中工作，但这是正确的方法。我使用了您提供的确切样本数据。

顺便说一句 - 我希望您在 UTC 中记录您的 CreatedOn 日期，否则在夏令时“回退”转换期间您的传感器读数会模棱两可。您需要以 UTC 格式记录为 DateTime，或使用 DateTimeOffset。两者都是*瞬时时间*的适当表示。带有 .Kind 的 Local 或 Unspecified 的 DateTime 只是*日历时间*的有效表示，不适用于传感器读数。

```
[TestClass]
public class LinqIntervalQueryTest
{
    public class Item
    {
        public int Id { get; set; }
        public int SensorId { get; set; }
        public double Value { get; set; }
        public DateTime CreatedOn { get; set; }
    }

    [TestMethod]
    public void Test()
    {
        var data = new[]
            {
                new Item { Id = 1, SensorId = 8, Value = 33.5, CreatedOn = new DateTime(2012, 11, 15, 17, 48, 0, DateTimeKind.Utc) },
                new Item { Id = 2, SensorId = 5, Value = 49.2, CreatedOn = new DateTime(2012, 11, 15, 17, 48, 0, DateTimeKind.Utc) },
                new Item { Id = 3, SensorId = 8, Value = 33.2, CreatedOn = new DateTime(2012, 11, 15, 17, 49, 0, DateTimeKind.Utc) },
                new Item { Id = 4, SensorId = 5, Value = 48.5, CreatedOn = new DateTime(2012, 11, 15, 17, 49, 0, DateTimeKind.Utc) },
                new Item { Id = 5, SensorId = 8, Value = 31.8, CreatedOn = new DateTime(2012, 11, 15, 17, 50, 0, DateTimeKind.Utc) },
                new Item { Id = 6, SensorId = 5, Value = 42.5, CreatedOn = new DateTime(2012, 11, 15, 17, 50, 0, DateTimeKind.Utc) },
                new Item { Id = 7, SensorId = 8, Value = 36.5, CreatedOn = new DateTime(2012, 11, 15, 17, 51, 0, DateTimeKind.Utc) },
                new Item { Id = 8, SensorId = 5, Value = 46.5, CreatedOn = new DateTime(2012, 11, 15, 17, 51, 0, DateTimeKind.Utc) },
                new Item { Id = 9, SensorId = 8, Value = 39.2, CreatedOn = new DateTime(2012, 11, 15, 17, 52, 0, DateTimeKind.Utc) },
                new Item { Id = 10, SensorId = 5, Value = 44.4, CreatedOn = new DateTime(2012, 11, 15, 17, 52, 0, DateTimeKind.Utc) },
                new Item { Id = 11, SensorId = 8, Value = 36.5, CreatedOn = new DateTime(2012, 11, 15, 17, 53, 0, DateTimeKind.Utc) },
                new Item { Id = 12, SensorId = 5, Value = 46.5, CreatedOn = new DateTime(2012, 11, 15, 17, 53, 0, DateTimeKind.Utc) },
                new Item { Id = 13, SensorId = 8, Value = 39.2, CreatedOn = new DateTime(2012, 11, 15, 17, 54, 0, DateTimeKind.Utc) },
                new Item { Id = 14, SensorId = 5, Value = 44.4, CreatedOn = new DateTime(2012, 11, 15, 17, 54, 0, DateTimeKind.Utc) },
            };

        var interval = TimeSpan.FromMinutes(3);
        var startDate = data.First().CreatedOn;
        var endDate = data.Last().CreatedOn;

        var numberOfPoints = (int)((endDate - startDate + interval).Ticks / interval.Ticks);
        var points = Enumerable.Range(0, numberOfPoints).Select(x => startDate.AddTicks(interval.Ticks * x));

        var query = from item in data
                    group item by item.SensorId
                    into g
                    from point in points
                    let itemToUse = g.LastOrDefault(x => x.CreatedOn <= point)
                    orderby itemToUse.CreatedOn, g.Key
                    select new
                        {
                            itemToUse.CreatedOn,
                            itemToUse.Value,
                            SensorId = g.Key
                        };

        var results = query.ToList();

        Assert.AreEqual(6, results.Count);

        Assert.AreEqual(data[1].CreatedOn, results[0].CreatedOn);
        Assert.AreEqual(data[1].Value, results[0].Value);
        Assert.AreEqual(data[1].SensorId, results[0].SensorId);

        Assert.AreEqual(data[0].CreatedOn, results[1].CreatedOn);
        Assert.AreEqual(data[0].Value, results[1].Value);
        Assert.AreEqual(data[0].SensorId, results[1].SensorId);

        Assert.AreEqual(data[7].CreatedOn, results[2].CreatedOn);
        Assert.AreEqual(data[7].Value, results[2].Value);
        Assert.AreEqual(data[7].SensorId, results[2].SensorId);

        Assert.AreEqual(data[6].CreatedOn, results[3].CreatedOn);
        Assert.AreEqual(data[6].Value, results[3].Value);
        Assert.AreEqual(data[6].SensorId, results[3].SensorId);

        Assert.AreEqual(data[13].CreatedOn, results[4].CreatedOn);
        Assert.AreEqual(data[13].Value, results[4].Value);
        Assert.AreEqual(data[13].SensorId, results[4].SensorId);

        Assert.AreEqual(data[12].CreatedOn, results[5].CreatedOn);
        Assert.AreEqual(data[12].Value, results[5].Value);
        Assert.AreEqual(data[12].SensorId, results[5].SensorId);
    }
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-29T06:32:26.927

以下是在两次调用数据库中的方法（未经测试）：

```
int interval = 10;
DateTime firstDate = db.Items.Select(x => x.CreatedOn).Min();
var items = db.Items.Where(x => (x.CreatedOn - firstDate).TotalMinutes % interval == 0).ToList(); 
```

# mysql - 我无法对 MySql 查询的这一部分进行排序（升序/降序）？

> ID：13619452
> 
> 赞同：1
> 
> 时间：2012-11-29T05:29:43.400
> 
> 标签：mysql

**我想对这些元素进行升序/降序排序。**

部分查询：

```
sum(CASE WHEN a.question_id=39 AND u.answer_id =215 THEN 1 ELSE 0 END) as optcount1,
sum(CASE WHEN a.question_id=39 AND u.answer_id =216 THEN 1 ELSE 0 END) as optcount2,
sum(CASE WHEN a.question_id=39 AND u.answer_id =217 THEN 1 ELSE 0 END) as optcount3,
sum(CASE WHEN a.question_id=39 AND u.answer_id =218 THEN 1 ELSE 0 END) as optcount4, 
```

完整查询：

```
 SELECT 39 AS ques_id,215 as optid1,216 as optid2,217 as optid3,218 as optid4, 
'Easy to start the business' as optans1,
'Lower tax rate than a corporation' as optans2,
'Liability is shared' as optans3,
'Owner has total control and say over business' as optans4, 
sum(CASE WHEN a.question_id=39 AND u.answer_id =215 THEN 1 ELSE 0 END) as optcount1,
sum(CASE WHEN a.question_id=39 AND u.answer_id =216 THEN 1 ELSE 0 END) as optcount2,
sum(CASE WHEN a.question_id=39 AND u.answer_id =217 THEN 1 ELSE 0 END) as optcount3,
sum(CASE WHEN a.question_id=39 AND u.answer_id =218 THEN 1 ELSE 0 END) as optcount4, 
'217' as answer, 4 as count FROM `user_training_answers_statistics` as u,
answers as a WHERE a.question_id='39' AND u.answer_id=a.answer_id 
```

任何人请给我这个解决方案..

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-29T05:35:30.337

将其包装在另一个查询中，然后进行排序：

```
 select * from
    (SELECT 39 AS ques_id,215 as optid1,216 as optid2,217 as optid3,
            218 as optid4, 'Easy to start the business' as optans1,
            'Lower tax rate than a corporation' as optans2,
            'Liability is shared' as optans3,
            'Owner has total control and say over business' as optans4, 
            sum(CASE WHEN a.question_id=39 AND u.answer_id =215 THEN 1 ELSE 0 END) 
            as optcount1,
            sum(CASE WHEN a.question_id=39 AND u.answer_id =216 THEN 1 ELSE 0 END) 
            as optcount2,
            sum(CASE WHEN a.question_id=39 AND u.answer_id =217 THEN 1 ELSE 0 END) 
           as optcount3,
           sum(CASE WHEN a.question_id=39 AND u.answer_id =218 THEN 1 ELSE 0 END) 
           as optcount4, '217' as answer, 4 as count 
     FROM user_training_answers_statistics as u,
          answers as a
     WHERE a.question_id='39' AND u.answer_id=a.answer_id) as tmpTable
 ORDER BY optcount1, optcount2, optcount3, optcount4 ASC; 
```

# c# - 如何从 C#.net 检测 RDC

> ID：13619459
> 
> 赞同：0
> 
> 时间：2012-11-29T05:30:21.973
> 
> 标签：c#, .net, wcf, remote-desktop

> **可能重复：**
> [如何在 .NET 中检索已登录/已连接用户的列表？](https://stackoverflow.com/questions/132620/how-do-you-retrieve-a-list-of-logged-in-connected-users-in-net)

我在一台机器上的 IIS 中托管了 WCF 服务。现在我想在服务中编写一个方法，通过它我可以检测托管机器当前是否被任何远程桌面连接使用。

有没有其他更好的方法来找出这一点，以及检测 RDC 连接的确切代码 API 是什么。

我正在使用 C#.net，框架 3.5

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-29T08:09:10.117

您有两种选择。您可以使用对 WSTAPI 库的P [/](http://msdn.microsoft.com/en-us/library/windows/desktop/aa383454%28v=vs.85%29.aspx) [Invoke 调用](https://stackoverflow.com/questions/132620/how-do-you-retrieve-a-list-of-logged-in-connected-users-in-net)，但是很容易弄乱东西并导致资源泄漏。

您的另一个选择是使用 WTSAPI 包装库[Cassia](https://code.google.com/p/cassia/)。我以前用过它，它很容易使用，而且这些类是相当自我记录的。

在决明子你的功能只是

```
public bool IsComputerUsedByTS()
{
    var tsMgr = new TerminalServicesManager();
    var localSvr = tsMgr.GetLocalServer();
    var sessions = localSvr.GetSessions();
    foreach(var session in sessions)
    {
        if(session.ConnectionState == ConnectionState.Active || 
           session.ConnectionState == ConnectionState.Connected) //Add more states you want to check for as needed
        {
            return true;
        }
    }
    return false;
} 
```

我没有测试上述内容，我认为如果您是控制台会话，其中“已连接”用于 RDP 会话，则使用“活动”。还有更多状态，请查看所有选项[的枚举](https://github.com/danports/cassia/blob/c2a859030c0949ef0f4a8a7771010dd906cdb0b5/Source/Cassia/ConnectionState.cs)。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-29T07:58:52.497

RDP 服务器默认侦听端口 3389（但可以进行不同的配置）。

因此（即使不是 100% 可靠）这可以用来检查任何活动的 RDP 连接。

```
bool inUse = IPGlobalProperties.GetIPGlobalProperties()
              .GetActiveTcpConnections()
              .Any(tcp => tcp.LocalEndPoint.Port == 3389); 
```

**编辑**

我添加了@t3hn00b 的建议。

```
int port = 3389;
using (var key = Microsoft.Win32.Registry.LocalMachine.OpenSubKey(@"SYSTEM\CurrentControlSet\Control\Terminal Server\WinStations\RDP-Tcp", false))
{
    if (key != null)
    {
        object value = key.GetValue("PortNumber");
        if (value != null) port = Convert.ToInt32(value);
    }
} 
```

命名空间：System.Net.NetworkInformation

# javascript - 在 Windows 8 javascript 应用程序中添加实时评分和评论

> ID：13619460
> 
> 赞同：-2
> 
> 时间：2012-11-29T05:30:35.347
> 
> 标签：javascript, jquery, windows-8, microsoft-metro

我开发了一个 Windows 8 应用程序，并希望在我的应用程序中添加评分和评论功能，因为当用户从魅力栏转到设置时，他/她应该看到评分和 riview，然后该页面允许用户在商店对应用程序进行评分。请帮助我。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-29T06:40:27.997

当您的应用在商店中列出时，会自动添加“设置”浮出控件上的“评分和评论”条目。您无需在此处执行任何操作。

如果您想在应用程序的其他地方公开相同的功能，您可以通过协议激活[链接到商店中的应用程序](http://msdn.microsoft.com/en-us/library/windows/apps/Hh974767.aspx)，但不能直接链接到评分/评论页面。

# html - 两个 iframe 在一页中，第二个 iframe 自动高度

> ID：13619462
> 
> 赞同：1
> 
> 时间：2012-11-29T05:31:03.167
> 
> 标签：html, iframe, height, scrollbar

我正在尝试在此代码中实现第二个 iframe 的自动调整大小，

任何帮助，将不胜感激。

**CSS**

```
* {
    margin: 0;
    padding: 0
}
html, body {
    height: 100%;
    width: 100%;
    overflow: hidden
}
table {
    width: 100%;
    table-layout: static;
    border-collapse: collapse
}
iframe {
    width: 100%
}
.header {
    border-bottom: 1px solid #000
}
.content {
    height: 100%
} 
```

**HTML**

```
<table>
    <tr>
        <td class="header"><div><h1>Header</h1></div></td>
    </tr>
    <tr>
        <td class="content"><iframe name="iFrame1" height="85" src="Materials AU Stocked Header.htm" scrolling="no" frameborder="1"></td>
    </tr>
    <tr>
        <td class="content"><iframe name="iFrame2" height="100%" src="Materials AU Stocked.htm" scrolling="yes" frameborder="1"></td>
    </tr>
</table> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-29T07:04:27.863

您可以使用`position: absolute`第二个 iframe 并指定`top`、`bottom`和.`left``right`

这需要你`#header`和首先`iframe`有一个固定的高度。

请注意，我在 iframe 中放入了一些外部网站以`src`进行测试。将这些替换为您想要的 html 页面。

**HTML**

```
<div id="header">
    <h1>Header</h1>
</div>
<iframe id="iFrame1" name="iFrame1" src="http://yahoo.com"></iframe>
<div id="iFrame2Container">
    <iframe id="iFrame2" name="iFrame2" src="http://yahoo.com"></iframe>
</div> 
```

**CSS**

```
* {
    margin: 0;
    padding: 0
}
html, body {
    height: 100%;
    width: 100%;
    overflow: hidden
}
#header {
    border-bottom: 1px solid #000;
    height: 19px;
}

#iFrame1 {
    height: 80px;
    width: 100%;
    border: none;
    overflow: hidden;
}
#iFrame2Container {
    position: absolute;
    top: 100px;
    left: 0px;
    bottom: 0px;
    right: 0px;
}
#iFrame2 {
    width: 100%;
    height: 100%;
    border: none;
} 
```

**[演示](http://jsfiddle.net/kfHz4/)**

我在您的代码中注意到的一些额外内容

*   您不应该使用表格进行布局
*   你不应该在你的 html 文件名中加入空格
    *   重命名`Materials AU Stocked Header.htm`为`Materials-AU-Stocked Header.htm`
*   关闭您打开的标签
    *   `<iframe>`需要`</iframe>`它

# apache - 部署 Play！2 应用程序在其名称为 Apache 或 Tomcat 的路径上

> ID：13619470
> 
> 赞同：3
> 
> 时间：2012-11-29T05:32:06.997
> 
> 标签：apache, tomcat, deployment, playframework-2.0

**如何在Play**中制作我的应用程序！**2.0.4**（最新的“生产就绪”包）导出以在 Apache 2.2 或 Tomcat 6.0.18 上运行，例如`tomcatserver:8080/myApp/`？

该应用程序始终在Dev 或 Prod 环境`/`下运行。`localhost:9000`

*   我尝试了该`war`命令，但此版本似乎不可用。
*   尝试了`stage`命令，但它失败了，因为它需要`chmod`并且我使用的是 Windows XP（尽管我的 Apache 在 FreeBSD 机器上，而 Tomcat 在 Linux 机器上）。
*   然后我尝试了`dist`命令。它制作了*myApp-1.0-SNAPSHOT.zip*，但是......我不能在任何地方使用它，它的内容以一种对 Web 服务器不熟悉的方式构建。

拜托，有人可以在这里分享一下如何将其部署在其中一个上吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-29T09:04:50.050

您应该查看[HTTP Fronted 文档](http://www.playframework.org/documentation/2.0.4/HTTPServer)，尤其是 Apache 集成。

它应该是这样的：

```
LoadModule proxy_module modules/mod_proxy.so
…
<VirtualHost *:80>
  ProxyPreserveHost On
  ServerName www.loadbalancedapp.com
  ProxyPass  /excluded !
  ProxyPass /myApp http://127.0.0.1:9000/
  ProxyPassReverse /myApp http://127.0.0.1:9000/
</VirtualHost> 
```

您需要以[独立模式](http://www.playframework.org/documentation/2.0.4/ProductionDist)部署 Play 应用程序，即没有任何 Java EE 容器（Tomcat & co）。Play 2 核心不提供生成 .war 文件的方法。

如果您想绝对使用 Java EE 容器，请查看[play2-war-plugin](https://github.com/dlecan/play2-war-plugin)。

# ios - 使用 isKindOfClass：我不明白为什么这段代码会这样

> ID：13619477
> 
> 赞同：15
> 
> 时间：2012-11-29T05:33:02.350
> 
> 标签：ios, uiimageview, nsarray

```
-(void)viewWillAppear:(BOOL)animated
{
   [super viewWillAppear:animated];
   UIImageView *imageView = [[UIImageView alloc] initWithFrame:CGRectMake(100, 100, 100, 100)];
   imageView.image = [UIImage imageNamed:@"Sample.png"];
   [self.view addSubview:imageView];
   NSArray *subviews = [self.view subviews];
   for(id element in subviews) {
      if ([[element class] isKindOfClass:[UIImageView class]]) //check if the object is a UIImageView
      {
         NSLog(@"element is a UIImageView\n");
         [element setCenter:CGPointMake(500., 500.)];
      } else {
         NSLog(@"element is NOT a UIImageView\n");
      }
   }
} 
```

我预计输出是“元素是 UIImageView，但它实际上元素不是 UIImageView。为什么？不是有其他子视图。只有一个。此外，运行时，图像显示在 100,100，而不是 500,500正如预期的那样。

* * *

## 回答 #1

> 赞同：45
> 
> 时间：2012-11-29T05:40:08.097

你的支票错了。您应该调用`isKindOfClass:`对象而不是对象类。

```
[element isKindOfClass:[UIImageView class]] 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-29T05:36:38.763

试试下面的代码。

```
-(void)viewWillAppear:(BOOL)animated
{
   [super viewWillAppear:animated];
   UIImageView *imageView = [[UIImageView alloc] initWithFrame:CGRectMake(100, 100, 100, 100)];
   imageView.image = [UIImage imageNamed:@"Sample.png"];
   [self.view addSubview:imageView];
   NSArray *subviews = [self.view subviews];
   for(UIView *view in subviews) {
      if ([view isKindOfClass:[UIImageView class]]) //check if the object is a UIImageView
      {
         NSLog(@"element is a UIImageView\n");
         [element setCenter:CGPointMake(500., 500.)];
      } else {
         NSLog(@"element is NOT a UIImageView\n");
      }
   }
} 
```

您还可以按标签值检查子视图：

```
initially set imageView.tag=101;  //anything you want

for(UIView *subview in [view subviews]) {
    if(subview.tag== 101)/*your subview tag value here*/
     {

 NSLog(@"element is a UIImageView\n");
    } else {
       NSLog(@"element is NOT a UIImageView\n");
    }
} 
```

# android - 从广播接收器发起电话？

> ID：13619484
> 
> 赞同：0
> 
> 时间：2012-11-29T05:33:21.007
> 
> 标签：android, android-intent

我正在尝试在广播事件中拨打电话。此刻我正在从广播接收器的 onreceive() 方法调用另一个活动。在那个活动中我正在使用这个意图

```
Intent callIntent = new Intent(Intent.ACTION_CALL, Uri.parse("tel"+num));
     callIntent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);
     con.startActivity(callIntent); 
```

问题是呼叫在启动后立即断开连接。我正在 Galaxy nexus 4.1.1 上尝试这个，我使用了以下权限：

```
 <uses-permission android:name="android.permission.CALL_PHONE" /> 
```

我是android的初学者，欢迎任何帮助。

当呼叫自动结束时，这会出现在 LogCat 中：

 **```
ActivityManager(387): START u0 {act=android.intent.action.CALL dat=tel:xxxxxxxxxxxxx flg=0x10000000 cmp=com.android.phone/.OutgoingCallBroadcaster} from pid 6329

 I/ActivityManager(387): START u0 {act=com.android.phone.SIP_SELECT_PHONE dat=tel:xxxxxxxxxxxxx flg=0x10000000 cmp=com.android.phone/.SipCallOptionHandler (has extras)} from pid 577

D/CallController(577): placeCall()...  intent = Intent { act=android.intent.action.CALL dat=tel:xxxxxxxxxxxxx (has extras) }

 I/AudioService(387):  AudioFocus  requestAudioFocus() from AudioFocus_For_Phone_Ring_And_Calls

 E/audio_hw_primary(131): Entering IN_CALL state, in_call=0

 E/audio_hw_primary(131): Opening modem PCMs

 I/LocalDevicePlayback(6366): pause: transient=false, currentPos=-1

D/PhoneUtils(577): placeCall()... number: xxxxxxxxxxxxx, GW: null, emergency? false 
```*  ** * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-29T05:43:27.637

我在最后测试了您的代码，经过一点改动后它在我的最后运行良好。我认为问题在于您需要`:`在`tel`. 以下是更正后的代码..

```
String url = "tel:123456789";
            Intent dialIntent = new Intent(Intent.ACTION_CALL, Uri.parse(url));
            dialIntent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);
            context.startActivity(dialIntent); 
```**

# asp.net - HTTP 错误 500.0 - 安全 WCF 服务中的内部服务器错误

> ID：13619487
> 
> 赞同：0
> 
> 时间：2012-11-29T05:33:30.873
> 
> 标签：asp.net

在 IIS 中托管 WCF 服务后出现以下错误。

> HTTP 错误 500.0 - 内部服务器错误。由于发生内部服务器错误，无法显示该页面。
> 
> 模块 IsapiModule
> 通知 ExecuteRequestHandler
> 处理程序 svc-ISAPI-4.0_32bit
> 错误代码 0x00000000

它是具有安全证书 WCF 服务的 HTTPS。请帮我解决这个问题。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-29T06:07:16.950

它可能是由许多不同的事情引起的。您应该尝试以下解决方案：

**1 第一种方式**

1.  右键单击站点所在的文件夹：“C:\Users\NAME\SiteName”并选择“属性”。
2.  选择安全选项卡，然后单击编辑。
3.  添加..并输入“IIS_IUSRS”。

**2 第二种方式**

默认情况下，只能使用 HTTP POST 调用 WCF 服务 OperationContracts。当您在 Titanium HTTPClient 上调用 open() 时，您是否为 HTTP 方法参数指定了 GET 或 POST？

其次，由于您的服务绑定使用的是 SOAP 1.1，因此您需要在请求中传递一个 SOAPAction 标头，以便 WCF 可以将消息路由到 GetData 方法。如果在服务的 OperationContract 属性中未指定 Action 参数，则 Action 应该是方法名称，前面是命名空间和服务合同名称（如果您使用的是默认 WCF，则可能是[http://tempuri.org/IService1/GetData](http://tempuri.org/IService1/GetData)创建的应用程序）。您还需要指定内容类型。因此，在调用 send 之前，您需要像这样设置 xhr：

> xhr.setRequestHeader('Content-Type', 'text/xml; charset=utf-16'); xhr.setRequestHeader('SOAPAction', '"http://tempuri.org/IService1/GetData"'); xhr.send(s); 此外，您可以显式指定 WCF 服务操作的操作：
> 
> [OperationContract(Action = "MyAction")] string GetData() { // ...snip... }
> 
> xhr.setRequestHeader('SOAPAction', '"MyAction"');

最后，您可以通过使用 [WebGet] 属性装饰方法来允许通过 HTTP GET 调用服务操作。这允许以 REST 方式调用操作：http: [//msdn.microsoft.com/en-us/library/system.servicemodel.web.webgetattribute.aspx](http://msdn.microsoft.com/en-us/library/system.servicemodel.web.webgetattribute.aspx)

# javascript - 如何在调整大小时/之后保持同步图像及其文本标题以始终占据相同的宽度

> ID：13619488
> 
> 赞同：0
> 
> 时间：2012-11-29T05:33:36.823
> 
> 标签：javascript, html, css

是否可以在 HTML 页面中包含一个图像，并在它的正下方有一个与图像具有相同宽度的文本字段？

是的，我知道这是可能的。但有趣的部分来了：

我希望当我调整（水平）浏览器窗口的大小时，图像及其标题都会*同步*调整为相同的宽度。

这可以完全使用 CSS 指定吗？

或者，如果仅使用 CSS 无法实现，是否可以使用 Javascript 以有效的方式完成？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-29T05:40:02.633

你的意思[是这样的](http://jsfiddle.net/aA78w/)吗？

HTML：

```
<img src="http://placehold.it/350x150" /><br/>
<p>Lorem ipsum dolor sit amet... </p> 
```

CSS：

```
body {
    text-align: center;
}
img, p {
 margin:0px auto;
    width: 50%;
}​ 
```

这是一个非常基本的示例，说明如何使用 CSS 使`img`标签和`p`标签具有相同的百分比宽度。

# iphone - 如何在 ios 中编辑 iPod 音乐库中歌曲的元数据

> ID：13619489
> 
> 赞同：0
> 
> 时间：2012-11-29T05:33:37.123
> 
> 标签：iphone

我想编辑 iPod 库中存在的歌曲的元数据，这可以用 ios 实现吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-29T05:38:18.657

这在使用公共 API 时是不可能的（即，包含此功能的应用程序将被 Apple 拒绝公开分发）。

所以是的，这是可能的——但它更像是一种“黑客”。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-11-28T07:03:01.593

但是，评级是元数据的一部分，可以进行编辑。

```
var r:Int
var song = MPMusicPlayerController().nowPlayingItem
song?.setValue(r, forKey: "rating") 
```

那么......流派有类似的选择吗？以下不起作用

```
 var song = MPMusicPlayerController().nowPlayingItem
 song?.setValue(r, forKey: "genre") 
```

# powershell - 使用 Powershell 按列拆分 csv 文件

> ID：13619494
> 
> 赞同：4
> 
> 时间：2012-11-29T05:34:02.440
> 
> 标签：powershell, text

我是 powershell 的新手，但这看起来是完成这项任务的最佳工具。有一个如下所示的 csv 文件：

```
Date,mary1,mary2,maryr3,mary4
9/01/2011 1:00,1.39,3.43,3.29,1.83
9/01/2011 3:00,0,0,0,0
9/01/2011 4:00,0,0,0,0
9/01/2011 5:00,0,0,0,0
9/01/2011 6:00,1.91,0.07,0.09,0.09
9/01/2011 7:00,5.57,2.01,2.11,3.4
9/01/2011 8:00,0.53,0.41,0.35,2.01
9/01/2011 9:00,4.72,0.15,0.21,3.15
9/01/2011 10:00,0.21,0,0.49,0.72
9/01/2011 11:00,2.44,0.77,2.06,1.7
9/01/2011 12:00,0,4.91,5.21,1.98 
```

这是逗号分隔的。我正在尝试根据标题列将其拆分为包含一列的多个文本文件。

实际上我将有多个列，所以我希望有一个更通用的代码来处理更多的行和列。

对此有什么想法吗？我可以使用拆分功能并取出各个列，但是我对 powershell 的了解还不允许我进行多次提取。

任何帮助将不胜感激。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-29T06:42:13.867

尝试：

```
$a = Import-Csv .\myfile.csv
$b = $a[0] | Get-Member | ? { $_.membertype -eq 'noteproperty'} | select name
$b | % { $a | ft -Property $_.name | out-file "$($_.name).txt"  } 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2017-02-20T07:25:58.483

```
 ###import csv file with value

$ps1 = Import-Csv .\testps.csv
  foreach($p in $ps1){

## value which will be seprated

$t = $p.test 
#####split delimiter is space you can select your own like , / etc.
$t1 =  $t.Split(" ")
 ##########first value
  $test1 = $t1[0]
######second value
  $test2 = $t1[1]
   #####Adding value in csv file test1 and test2
   echo $p | Select-Object *,@{n='test1';e={"$test1"}},@{n='test2';e=    {"$test2"}}|Export-Csv -Append  testdone.csv 

} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-29T06:18:47.573

`Import-CSV`逐行查找或处理文件。要逐行读取文件，请使用 .Net Framework。用逗号分割每一行，并根据数组索引将所需的列添加到输出文件。逐行处理的警告：如果源数据中有逗号，这将非常糟糕。像这样，

```
# Open the source file
$file = [IO.File]::OpenText("somefile.csv")
# Read each line
while($line = $file.ReadLine()) {
    # Split line data on comma
    $l= $line.Split(',')
    # Add columns 0 and 2 other file 1
    add-content "otherfile1.csv" $("{0},{1}" -f $l[0], $l[2])
    # Add columns 1, 3  and 5 other file 2
    add-content "otherfile2.csv" $("{0},{1},{2}" -f $l[1], $l[3], $l[5])
} 
```

# python - 如何在侧面而不是底部附加新列

> ID：13619498
> 
> 赞同：1
> 
> 时间：2012-11-29T05:34:43.157
> 
> 标签：python

我制作了一个 python 脚本，它获取一个包含很多列的文件，然后提取并复制（到一个新文件中）我需要的两列。但是，每月一次或两次，我需要将其他列添加到同一个（新）文件中，但我需要将它们添加到当前列的一侧，而不是底部。我怎样才能修改脚本来做到这一点？

这些是输入文件的一些示例。

[https://dl.dropbox.com/u/63216126/file5.txt](https://dl.dropbox.com/u/63216126/file5.txt)

[https://dl.dropbox.com/u/63216126/file6.txt](https://dl.dropbox.com/u/63216126/file6.txt)

这是我写的代码。

```
import sys
import re

filetoread = sys.argv[1]
filetowrite = sys.argv[2]

newfile = str(filetowrite) + ".txt"

openold = open(filetoread,"r")
opennew = open(newfile,"a")

rline = openold.readlines()

number = int(len(rline))
start = 0

for i in range (len(rline)) :
    if "2theta" in rline[i] :
        start = i

for line in rline[start + 1 : number] :
    words = line.split()
    word1 = words[1]
    word2 = words[2]
    opennew.write (word1 + " " + word2 + "\n")

openold.close()
opennew.close() 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-29T05:45:13.987

如果您使用标签，请使用.. [CSV](http://docs.python.org/2/library/csv.html)模块。`delimiter = '\t'`

参考[类似问题的答案](https://stackoverflow.com/questions/3376236/how-do-i-add-a-new-column-of-data-to-a-csv-file)

# ant - 子构建失败不会使 Ant 中的父构建失败

> ID：13619501
> 
> 赞同：2
> 
> 时间：2012-11-29T05:35:22.393
> 
> 标签：ant

我正在使用以下方法`build.xml`从父母那里打电话给孩子：`build.xml``subant`

```
 <target name="deploy-vc-orgstr">
    <subant target="deploy" failonerror="true">
      <fileset dir="${orgstr.vc.home}" includes="build.xml"/>
    </subant>
  </target> 
```

当我从子 build.xml 收到编译错误时，我的父版本仍然显示 BUILD SUCCESSFUL。在日志中，我可以在构建目标“deploy-vc-orgstr”时看到编译错误。

如何在子构建失败时使父构建失败？

实际上我定义了两个目标。

```
target: deploy-vc-orgstr
target: deploy 
```

我想如果目标“deploy-vc-orgstr”失败，那么目标“deploy”也应该失败。

我的 build.xml 是：

```
<?xml version="1.0" encoding="windows-1252" ?>
<!--Ant buildfile generated by Oracle JDeveloper-->
<!--Generated Nov 1, 2012 5:00:36 PM-->
<project name="SafetyExcellenceManagementSystem" default="deploy" basedir=".">
  <property file="build.properties"/>
  <!--Change to include model build Starts -->
<target name="deploy-vc-orgstr">
        <subant target="deploy" failonerror="true">
          <fileset dir="${orgstr.vc.home}" includes="*/build.xml"/>
        </subant>
      </target>
  <target name="init">
    <tstamp/>
    <mkdir dir="${output.dir}"/>
  </target>
  <target name="deploy" description="Deploy JDeveloper profiles"
          depends="init,deploy-vc-orgstr">
    <taskdef name="ojdeploy"
             classname="oracle.jdeveloper.deploy.ant.OJDeployAntTask"
             uri="oraclelib:OJDeployAntTask"
             classpath="${oracle.jdeveloper.ant.library}"/>
    <ora:ojdeploy xmlns:ora="oraclelib:OJDeployAntTask"
                  executable="${oracle.jdeveloper.ojdeploy.path}"
                  ora:buildscript="${oracle.jdeveloper.deploy.dir}/ojdeploy-build.xml"
                  ora:statuslog="${oracle.jdeveloper.deploy.dir}/ojdeploy-statuslog.xml">
      <ora:deploy>
        <ora:parameter name="workspace"
                       value="${oracle.jdeveloper.workspace.path}"/>
        <ora:parameter name="profile"
                       value="${oracle.jdeveloper.deploy.profile.name}"/>
        <!--ora:parameter name="nocompile" value="true"/-->
        <ora:parameter name="outputfile"
                       value="${oracle.jdeveloper.deploy.outputfile}"/>
      </ora:deploy>
    </ora:ojdeploy>
  </target>
</project> 
```

# c++ - 为什么三元组会在现代 C++ 编译器中产生错误？

> ID：13619504
> 
> 赞同：8
> 
> 时间：2012-11-29T05:35:44.567
> 
> 标签：c++, c, gcc, compiler-errors

![带有使用 Turbo C++ 编译的三元组的程序的屏幕截图](../Images/725bf78355e6fca9ec0a70c49196bc4f.png)

即使在 GCC 编译器中，如果没有明确指定 trigraph 属性，也不会编译 trigraph。

```
#include<stdio.h>

int main()
 {
 int a=4;
 if((a==4) ??! (a==5))
   printf("\nHello world!");
 return 0;
 } 
```

这个保存为 try.c 的程序只有在我们指定时才会在 GCC 编译器中编译`gcc -Wall -trigraphs try.c`，它仍然显示警告。你能招募一些编译器来处理和处理三元组而不会出现任何错误或警告吗？

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-12-02T08:33:45.153

三元组由 1989 年的 ANSI C 标准引入，并保留在所有后来的 C 标准中。它们还出现在 1998 年发布的第一个 ISO C++ 标准中，以及后来的所有 C++ 标准中，直到并包括 C++14。（三合符在 C++17 中被删除。感谢 Jonathan Leffler 和 dyp 追踪细节。）

引用 C++17 标准的草案：

> 对原始特征的影响：使用三元组的有效 C++ 2014 代码在本国际标准中可能无效或可能具有不同的语义。如果三元组出现在原始字符串文字之外，实现可以选择转换 C++ 2014 中指定的三元组，作为实现定义的从物理源文件字符到基本源字符集的映射的一部分。

它们不是任何一种语言的可选功能（C++17 之前）；所有符合标准的编译器都*必须*支持它们并按照各自语言标准的规定解释它们。

例如，如果这个程序：

```
#include <stdio.h>
int main(void) {
    if ('|' == '??!') {
        puts("ok");
    }
    else {
        puts("oops");
    }
    return 0;
} 
```

prints `oops`，那么您的编译器不合格。

但是许多，也许是大多数，C 编译器默认情况下并不完全符合。只要可以使编译器以某种方式符合标准，就标准而言，这就足够了。（gcc 需要`-pedantic`并`-std=...`这样做。）

但即使编译器完全符合标准，标准中也没有任何内容禁止编译器警告它喜欢的任何东西。符合标准的 C 编译器必须诊断出任何违反语法规则或约束的行为，但它可以发出任意数量的附加警告——它不需要区分所需的诊断和其他警告。

三元组很少使用。绝大多数开发系统直接支持三元组替代的所有字符：`#`, `[`, `\`, `]`, `^`, `{`, `|`, `}`, `~`.

事实上，三元组的*意外*使用可能比正确使用的频率更高：

```
fprintf(stderr, "What just happened here??!\n"); 
```

关于可能改变程序含义的三元组的警告（相对于如果语言没有三元组的含义）是 ISO 标准允许的，恕我直言，这是完全合理的。大多数编译器可能都有关闭此类警告的选项。

相反，对于*不*实现三元组的 C++17 编译器，警告在 C++14 或更早版本中可能被视为三元组的序列和/或提供支持三元组的选项是合理的。同样，禁用此类警告的选项将是一件好事。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-11-29T05:43:45.830

GCC 对三元组过敏。您必须明确启用它们：

```
gcc -trigraphs ... 
```

GCC 4.7.1 手册说：

> `-trigraphs`
> 
> 支持 ISO C 三元组。该`-ansi`选项（以及`-std`严格符合 ISO C 的选项）意味着`-trigraphs`.

它还说：

> `-Wtrigraphs`
> 
> 如果遇到任何可能改变程序含义的三元组，则发出警告（注释中的三元组不会被警告）。此警告由 启用`-Wall`。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-11-29T05:39:39.903

它们可能[默认关闭](http://en.wikipedia.org/wiki/Digraphs_and_trigraphs#Implementations)。

“一些编译器支持关闭三字母识别的选项，或默认禁用三字母并需要一个选项来打开它们”

[GCC 可能是后者之一](http://www.unix.com/programming/122741-trigraph-sequences.html)。虽然默认情况下它应该[忽略并发出警告](https://stackoverflow.com/questions/8435379/trigraph-ignored-use-trigraphs-to-enable)，但在这种情况下，忽略可能会导致编译错误

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-11-29T05:59:38.317

三元组在编译的早期阶段就被转换，甚至可以用字符串文字替换。这使得三元组翻译产生的错误**很难检测到**（如果您考虑使用日志进行调试并且在源代码中找到输出，则情况会更糟）。

您看到的警告将帮助您快速发现可能的罪魁祸首以跟踪错误的来源。基本上它是在*警告*你，有些事情可能不像你想象的那样。

# php - wordpress 中特殊字符的自动换行问题

> ID：13619506
> 
> 赞同：1
> 
> 时间：2012-11-29T05:35:59.053
> 
> 标签：php, wordpress, word-wrap, add-filter

在我的 WordPress 博客中，我在添加新帖子表单的“描述”字段中插入了以下内容。

```
sss'ss''ss'''ss"ss""sss""" 
```

我正在应用**过滤器钩子（add_filter）** the_content（）函数，如下所示。基本上，如果存在超过 50 个字符的意思，我想显示非空格单词，我想在 50 个字符后留出空格。所以我使用了自动*换行*功能来​​做到这一点。但是，在内容中使用特殊字符时，我得到了如下所述的有线输出。

**函数.php**

```
function filter_content($content) {
  global $post;  
     $original = wordwrap($content,50,' ',' ' ); 
  return $original;
}
add_filter( 'the_content', 'filter_content' ); 
```

**输出 ：**

```
 sss’ss”ss”’ss”ss& #8221;"sss”"” 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-30T11:05:10.660

**问题：**

[wordwrap](http://www.php.net/manual/es/function.wordwrap.php)函数正在将特殊字符（引号、双引号等）转换为 html 实体并计为字符串。在 & 和 # from 之间发生 50 个 字符**。**虽然我们得到的输出为**& #8221;** .

**解决方案：**

而不是 php，只需尝试 css 解决方案**word-wrap**属性。所以应用*word-wrap:break-word;* 为您的段落标签添加样式。break-word value 将强制断字。但是没有选项可以给出 50 之类的数字。它将包裹取决于容器的宽度。

```
p{
 word-wrap:break-word; 
} 
```

# java - 使用 Java Addin 安装 QTP 时，使用 Java 开发的客户端应用程序无法启动

> ID：13619516
> 
> 赞同：1
> 
> 时间：2012-11-29T05:36:53.393
> 
> 标签：java, qtp

问题：使用 Java 开发的应用程序在与启用了 Java 插件的 QTP 一起使用时无法启动

在 QTP 中启用 Java Addin 时，会设置以下环境变量

```
_JAVA_OPTIONS : -Xrunjvmhook -Xbootclasspath/a:C:\PROGRA~1\HP\QUICKT~1\bin\JAVA_S~1\classes;C:\PROGRA~1\HP\QUICKT~1\bin\JAVA_S~1\classes\jasmine.jar

IBM_JAVA_OPTIONS : -Xrunjvmhook -Xbootclasspath/a:C:\PROGRA~1\HP\QUICKT~1\bin\JAVA_S~1\classes;C:\PROGRA~1\HP\QUICKT~1\bin\JAVA_S~1\classes\jasmine.jar 
```

当我们尝试启动需要自动化的 Java 客户端应用程序时，它无法启动

我们尝试删除上述环境变量，但 QTP 无法识别 Java 客户端应用程序中的对象

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2015-04-10T03:13:43.257

我遇到了这个问题。经过多次尝试，我认识到更改环境变量并不是解决此问题的完美方法。尝试一些东西：

*   将 Oracle java 更新到最新版本（现在是 8 个），UFT 12.02 很好地支持 jdk 1.8。

如果 Oracle jdk 版本 <> UFT jdk 版本：

*   打开 Java 控制面板 > Java > 查看 > 用户选项卡：找到并激活它们。

最后一种方法，更改系统变量：

*   需要编辑 3 个变量：_JAVA_OPTIONS、JAVA_TOOL_OPTIONS、IBM_JAVA_OPTIONS。应该将这些值添加到用户环境并在那里工作，将系统环境保留为默认值或为空（我的意思是“空格”）：

将它们全部清空，然后首先重新安装 Oracle Java。现在，您的 Java 应用程序可以正常运行，但 UFT 无法识别 Java 小程序。将上面3个环境变量改回QTP路径（如：

> _JAVA_TOOLS = -Xrunjvmhook -Xbootclasspath/a:"C:\Program Files (x86)\HP\Unified Functional Testing\bin\java_shared\classes";"C:\Program Files (x86)\HP\Unified Functional Testing\bin\ java_shared\classes\jasmine.jar"
> 
> JAVA_TOOL_OPTIONS = -agentlib:jvmhook )

重新启动一切以生效，QTP 现在可以很好地与 java 一起使用。

# c# - Silverlight 的 DrawingVisual、DrawingContext 和 Visual 类

> ID：13619519
> 
> 赞同：0
> 
> 时间：2012-11-29T05:37:10.580
> 
> 标签：c#, .net, wpf, silverlight

谁能告诉我如何或在哪里获得**DrawingVisual**、**DrawingContext**和**Silverlight的****Visual**类的任何类或 dll ？

 **我正在尝试将 WPF 程序导入 Silverlight，以便通过使用鼠标单击设置点来在运行时创建自定义多边形。

WPF 程序使用这三个类，但它们在 Silverlight 中不可用。

请建议。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-30T08:45:32.340

正如 sa_ddam213 已经说过的那样，Silverlight 中没有开箱即用的东西。但是，您可以自己实现。在 DrawingContext 中的所有调用都转换为相应的视觉对象（SL 中的 FrameworkElements）之后，因此您无需调用例如 DrawRectangle（或其他），而是将 Rect Shape 添加到视觉树中的容器（例如 Canvas）中。但是，除非您在 WPF 中有大量代码需要“自动”转换，否则我建议您采用直接方法并将调用更改为直接创建元素并将它们添加到可视树中。当我们将 WPF 库转换为 Silverlight 时，我们已经习惯了后一种方法，并且对结果非常满意 - 性能并没有因此受到太大影响。**

# pointers - 在 Rust 中，修改借来的指针会改变原始值吗？

> ID：13619520
> 
> 赞同：1
> 
> 时间：2012-11-29T05:37:16.153
> 
> 标签：pointers, vector, rust

这是锈 0.4

我相信确实如此，但对于我的特定用例来说似乎并非如此。

我有一个指向向量的自有指针的自有指针。

我将其构造如下。

```
let mut table = ~[];
for [0, ..10].each |i| {
    let mut row = ~[];
    for [0, ..128].each |j| {
        row.push(A_CERTAIN_ENUM);
    }
    table.push(row);
} 
```

然后，我将这个二维向量传递给另一个函数以进行进一步初始化。

该函数看起来像这样。

```
fn setT (table: &mut ~[~[SomeEnumType]]) {
    // Demonstration purposes...
    for [0, ..10].each |i| {
        for [0, ..128].each |j| {
            table[*i][*j] = A_DIFFERENT_ENUM;
        }
    }
} 
```

我使用以下代码调用该函数。

```
setT(&table); 
```

然而，经检查，内容`table`并**没有任何**变化！里面的一切都是静止`A_CERTAIN_ENUM`的`A_DIFFERENT_ENUM`。

有谁知道如何让另一个函数修改您传递给它的参数？

任何帮助表示赞赏！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-29T08:08:07.243

你使用的是哪个版本的 Rust？类型检查器没有抱怨使用

```
setT(&mut table); 
```

我也有点难过。当然，指针应该按预期工作！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-29T11:54:41.463

这是类似代码的工作版本（rustc 0.5，commit 19f5f91）：

```
enum Direction {
    North,
    East,
    South,
    West
}

fn main() {
    let mut table = ~[];
    for [0, ..10].each |i| {
        let mut row = ~[];
        for [0, ..128].each |j| {
            row.push(North);
        }
        table.push(copy row);
    }
    io::print(fmt!("before: %d\n", table[0][0] as int));
    setT(&mut table);
    io::print(fmt!("after: %d\n", table[0][0] as int));
}

fn setT(table: &mut ~[~[Direction]]) {
    for [0, ..10].each |i| {
        for [0, ..128].each |j| {
            table[*i][*j] = East;
        }
    }
} 
```

输出：

```
before: 0
after: 1 
```

# bash - 如何在 awk 中提供 bash 变量作为打印字段

> ID：13619521
> 
> 赞同：1
> 
> 时间：2012-11-29T05:37:34.753
> 
> 标签：bash, csv, awk

我目前正在尝试使用 awk 重新排列类似于以下内容的 .csv 文件：

```
stack,over,flow,dot,com 
```

输出将是：

```
over,com,stack,flow,dot 
```

（或任何其他顺序，仅以此为例）

当需要重新排列 csv 文件时，我一直在尝试使用以下内容：

```
first='$2'
second='$5'
third='$1'
fourth='$3'
fifth='$4'

awk -v a=$first -v b=$second -v c=$third -v d=$fourth -v e=$fifth -F '^|,|$' '{print $a,$b,$c,$d,$e}' somefile.csv 
```

出于 awk/print 的目的，将 $a、$b、$c 等解释为字段编号，因此结果如下：

```
{print $2,$5,$1,$3,$4} 
```

并按该顺序打印出 csv 文件的字段，但不幸的是我还不能让它正常工作。我已经尝试了几种不同的方法，这似乎是最有希望的，但不幸的是还没有能够让任何解决方案正常工作。话虽如此，我想知道是否有人可以提出任何建议或指出我的缺陷，因为我此时被难住了，任何帮助将不胜感激，谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-29T05:41:27.533

使用简单的数字：

```
first='2'
second='5'
third='1'
fourth='3'
fifth='4'

awk -v a=$first -v b=$second -v c=$third -v d=$fourth -v e=$fifth -F '^|,|$' \
     '{print $a, $b, $c, $d, $e}' somefile.csv 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-29T05:45:13.833

另一种更短的例子：

```
aa='$2'
bb='$1'
cc='$3'

awk -F '^|,|$' "{print $aa,$bb,$cc}" somefile.csv 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-29T14:00:10.337

您已经得到了特定问题的答案，但您是否考虑过将订单指定为字符串而不是每个单独的字段？例如：

```
order="2 5 1 3 4"

awk -v order="$order" '
   BEGIN{ FS=OFS=","; n=split(order,a," ") }
   { for (i=1;i<n;i++) printf "%s%s",$(a[i]),OFS; print $(a[i]) }
' somefile.csv 
```

这样，如果您想添加/删除字段或更改顺序，您只需简单地重新排列第一行中的数字，而不必弄乱一堆硬编码的变量等。

请注意，我更改了您的 FS，因为它不需要那么复杂。此外，您不需要 shell 变量“order”，您可以显式填充同名的 awk 变量，我刚开始使用 shell 变量，因为您已经开始使用 shell 变量，所以也许您有原因。

# java - 为什么我不能创建自定义 String 类的实例，而我能够创建自定义 System 类的实例

> ID：13619524
> 
> 赞同：0
> 
> 时间：2012-11-29T05:37:47.407
> 
> 标签：java, string

我在第一组代码中有两组代码，我定义了自定义 String 类并尝试创建它的实例，而第二组我定义了自定义 System 类并尝试创建它的实例。

这既不是面试问题也不是作业，我只是在检查后尝试[过](https://www.facebook.com/photo.php?fbid=10151299133464341&set=a.203756194340.129419.201821239340&type=1&theater)

在这个我试图创建我已经定义的 String 类的实例，我得到了`Exception in thread "main" java.lang.NoSuchMethodError: main`

```
public class Test {
    public static void main(String[] args) throws Exception {
        String s = new String();
        java.lang.System.out.println("done");
    }
}

class String {
    public String() {
        java.lang.System.out.println("custom String");
    }
} 
```

在这一部分中，我正在尝试创建我已定义的 System 类的实例，它运行良好

```
public class Test {
    public static void main(String[] args) throws Exception {
        System s = new System();
        java.lang.System.out.println("done");
    }
}
class System {
    public System(){
        java.lang.System.out.println("custom System");
    }
} 
```

String 和 System 类都是 final 的，那么为什么会有不同的行为呢？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-29T05:39:36.543

发生这种情况是因为您`main`使用自定义类作为参数类型，该类型与接受作为参数的标准方法（入口点）`String`不匹配；因此抱怨。`main``java.lang.String[]`

`main`将您的使用`java.lang.String`类更改为：

```
 public static void main(java.lang.String[] args) 
```

# c# - 如何使用 EventBuilder 创建事件？

> ID：13619527
> 
> 赞同：7
> 
> 时间：2012-11-29T05:37:53.740
> 
> 标签：c#, .net, clr

假设我想发出

```
public event PropertyChangedHandler PropertyNameChanged; 
```

我该怎么做？我是否需要像定义属性一样定义支持字段？我找不到一个如何使用 EventBuilder 以及如何实际引发事件的示例？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2016-10-18T19:40:04.640

我知道这是个老问题，这个答案可能永远不会被接受，但我从谷歌来到这里，所以其他人可能会来到这里。对于那些人，这是一个正确的答案：要创建和事件，您必须：

1.  创建字段`{EventName}`
2.  创建同名事件`{EventName}`
3.  创建添加和删除访问器（方法）`add_{EventName}`和`remove_{EventName}`
4.  使用任意名称创建 raise 方法（或不创建，因为此步骤是可选的）

德米特里的回答涵盖了第二个和第四个，但这里有一个完整的代码。当然，您必须更改`EventName`并`EventType`为您的事件正确的值。

1.  活动场地

```
var field = typeBuilder.DefineField("{EventName}", typeof({EventType}), FieldAttributes.Private);
```

2.  事件

```
var eventInfo = typeBuilder.DefineEvent("{EventName}", EventAttributes.None, typeof({EventType}));
```

3.  添加访问器和删除访问器；它们非常相似。

    ```
    var addMethod = typeBuilder.DefineMethod("add_{EventName}",
        MethodAttributes.Public | MethodAttributes.Virtual | MethodAttributes.SpecialName | MethodAttributes.Final | MethodAttributes.HideBySig | MethodAttributes.NewSlot,
        CallingConventions.Standard | CallingConventions.HasThis,
        typeof(void),
        new[] { typeof({EventType}) });
    var generator = addMethod.GetILGenerator();
    var combine = typeof(Delegate).GetMethod("Combine", new[] { typeof(Delegate), typeof(Delegate) });
    generator.Emit(OpCodes.Ldarg_0);
    generator.Emit(OpCodes.Ldarg_0);
    generator.Emit(OpCodes.Ldfld, field);
    generator.Emit(OpCodes.Ldarg_1);
    generator.Emit(OpCodes.Call, combine);
    generator.Emit(OpCodes.Castclass, typeof({EventType}));
    generator.Emit(OpCodes.Stfld, field);
    generator.Emit(OpCodes.Ret);
    eventInfo.SetAddOnMethod(addMethod);
    ```

    ```
    var removeMethod = typeBuilder.DefineMethod("remove_{EventName}",
            MethodAttributes.Public | MethodAttributes.Virtual | MethodAttributes.SpecialName | MethodAttributes.Final | MethodAttributes.HideBySig | MethodAttributes.NewSlot,
            CallingConventions.Standard | CallingConventions.HasThis,
            typeof(void),
            new[] { typeof({EventType}) });
    var remove = typeof(Delegate).GetMethod("Remove", new[] { typeof(Delegate), typeof(Delegate) });
    var generator = removeMethod.GetILGenerator();
    generator.Emit(OpCodes.Ldarg_0);
    generator.Emit(OpCodes.Ldarg_0);
    generator.Emit(OpCodes.Ldfld, field);
    generator.Emit(OpCodes.Ldarg_1);
    generator.Emit(OpCodes.Call, remove);
    generator.Emit(OpCodes.Castclass, typeof(PropertyChangedEventHandler));
    generator.Emit(OpCodes.Stfld, field);
    generator.Emit(OpCodes.Ret);
    eventInfo.SetRemoveOnMethod(removeMethod);
    ```

4.  举法。不是必需的，但是如果您没有方法来引发它，那么创建事件真的没有意义。除非您正在做一些带有反射或调用事件委托值的恶作剧。不管怎样，这里是这个方法的代码。当然，您必须首先获得`XXXEventArgs`在事件内部使用的某种类型的正确构造函数。这个 raise 方法的名称也可能不同，但遵循一些模式通常是更好的主意（如下所示）：

    ```
    var methodBuilder = typeBuilder.DefineMethod("On{EventName}",
        MethodAttributes.Family | MethodAttributes.Virtual | MethodAttributes.HideBySig |
        MethodAttributes.NewSlot, typeof(void),
        new[] { typeof(string) });
    var generator = methodBuilder.GetILGenerator();
    var returnLabel = generator.DefineLabel();
    var eventArgsCtor = typeof({XXXEventArgs}).GetConstructor(new[] { typeof(string) });
    generator.DeclareLocal(typeof({EventType}));
    generator.Emit(OpCodes.Ldarg_0);
    generator.Emit(OpCodes.Ldfld, field);
    generator.Emit(OpCodes.Stloc_0);
    generator.Emit(OpCodes.Ldloc_0);
    generator.Emit(OpCodes.Brfalse, returnLabel);
    generator.Emit(OpCodes.Ldloc_0);
    generator.Emit(OpCodes.Ldarg_0);
    generator.Emit(OpCodes.Ldarg_1);
    generator.Emit(OpCodes.Newobj, eventArgsCtor);
    generator.Emit(OpCodes.Callvirt, typeof(PropertyChangedEventHandler).GetMethod("Invoke"));
    generator.MarkLabel(returnLabel);
    generator.Emit(OpCodes.Ret);
    eventInfo.SetRaiseMethod(methodBuilder);
    return methodBuilder;
    ```

    此外，此方法不是虚拟的或受保护的（`MethodAttributes.Family`），但最好将此方法设为非公共和可覆盖的。参数的类型也必须不同并且与`XXXEventArgs`类型构造函数兼容。您也可以在此方法中使用更多参数，但我建议不要这样做，因为它会使 IL 更加复杂（您应该在 IL 中尽可能少做，以利于您自己和您的理智）。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-29T05:57:37.793

```
 TypeBuilder myClass =
     myModule.DefineType("MyClass", TypeAttributes.Public);

  MethodBuilder onPropertyNameChanged= myClass.DefineMethod("OnPropertyNameChanged",
     MethodAttributes.Public, typeof(void), new Type[]{typeof(Object)});
  ILGenerator onPropertyNameChangedIl= onPropertyNameChanged.GetILGenerator();
  onPropertyNameChangedIl.Emit(OpCodes.Ret);

  // Create the event.
  EventBuilder propertyNameChanged= myClass.DefineEvent("PropertyNameChanged", EventAttributes.None,
     typeof(PropertyChangedHandler)); //should be declared before
  propertyNameChanged.SetRaiseMethod(onPropertyNameChanged);

  myClass.CreateType(); 
```

# javascript - Html.Textbox 值未使用 javascript 传入 url

> ID：13619528
> 
> 赞同：0
> 
> 时间：2012-11-29T05:37:57.253
> 
> 标签：javascript, razor, asp.net-mvc-4

我试图在 javascript url 中传递 Html.Textbox 值，但它给出了错误。

```
Server Error in '/' Application.
The resource cannot be found.
Description: HTTP 404\. The resource you are looking for (or one of its dependencies) could have been removed, had its name changed, or is temporarily unavailable.  Please review the following URL and make sure that it is spelled correctly.

Requested URL: /WebProduct/Add/1 
```

下面是我的视图类。我从中将值传递给我的控制器。

**已编辑**

```
 @model IEnumerable<DatabaseService_WebAPI.Models.ProductType>

@{
    ViewBag.Title = "Tablets";

    <script type="text/javascript">

        $(function () {
            $('#edit').click(function () {
                var name = $('#quantity').val();
                this.href = this.href + '&quantity=' + encodeURIComponent(name);
            });
        });

    </script>

}

<h2>Tablets</h2>
@using (Html.BeginForm("Add", "WebProduct", FormMethod.Post))
{
    @Html.ValidationSummary(true)

    <table>
        <tr>
            <th>
                @Html.DisplayNameFor(model => model.Name)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.Price)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.Batch)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.Expiry)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.Quantity)
            </th>
        </tr>

        @foreach (var item in Model)
        {
            <tr>
                <td>
                    @Html.DisplayFor(modelItem => item.Name)
                </td>

                <td>
                    @Html.DisplayFor(modelItem => item.Price)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.Batch)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.Expiry)
                </td>
                <td>
                    @Html.TextBox("quantity")
                </td>
                <td>
                    @Html.ActionLink("Add", "Add", new { name = item.Name, type = item.Type }, new { id = "edit" })

                </td>
            </tr>
        }

    </table>
}
<div>
    @Html.ActionLink("Back to List", "Create")
</div> 
```

它是我传递值的控制器方法。

```
[HttpPost]
        public ActionResult Add(string quantity, string name, string type)
        {

            Product product = new Product();
            if (type=="Tablet")
            {

                //string order = type.Name + " " + type.Quantity;
                LocalDB tobj = ldb.LocalDBs.Single(s => s.User == User.Identity.Name);

                product.city = tobj.City;
                product.OrderDate = DateTime.Now.Date.ToShortDateString();
                product.ShopName = tobj.ShopName;
                product.User = tobj.User;
                //product.OrderDetail = order;

                db.Products.Add(product);
                db.SaveChanges();

                return RedirectToAction("TypeT", "WebProduct");
            }
            else if (type == "Syrup")
            {
                //string order = type.Name + " " + type.Quantity;
                LocalDB tobj = ldb.LocalDBs.Single(s => s.User == User.Identity.Name);
                product.city = tobj.City;
                product.OrderDate = DateTime.Now.Date.ToShortDateString();
                product.ShopName = tobj.ShopName;
                product.User = tobj.User;
             //   product.OrderDetail = order;

                db.Products.Add(product);
                db.SaveChanges();

                return RedirectToAction("TypeS", "WebProduct");
            }
            else
            {

              //  string order = type.Name + " " + type.Quantity;
                LocalDB tobj = ldb.LocalDBs.Single(s => s.User == User.Identity.Name);
                product.city = tobj.City;
                product.OrderDate = DateTime.Now.Date.ToShortDateString();
                product.ShopName = tobj.ShopName;
                product.User = tobj.User;
             //   product.OrderDetail = order;

                db.Products.Add(product);
                db.SaveChanges();

                return RedirectToAction("TypeC", "WebProduct");
            }

            return View();
        } 
```

此时我不想使用按钮选项。因为我想将数据库记录和用户的输入发送到我的控制器的方法。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-29T06:04:13.277

线

```
 this.href = this.href + '?quantity=' + encodeURIComponent(name); 
```

您的网址将显示为

```
http://localhost:54745/WebProduct/Add?id=1&name=myname&type=mytype?quantity=4 
```

两个问号不能像这样在同一个 url 查询字符串中

更新：您也在 foreach 循环中，这意味着您将有多个带有 id 'quantity' 的文本框和多个带有 id 'edit' 的添加链接

更新 2：在点击事件中添加参数 'e' 以调用 'e.preventDefault()' 这将阻止链接转到其 URL。那么您还需要设置 window.location，而不是 this.href（这是链接 URL）

```
 $(function () {
        $('#edit').click(function (e) {
            e.preventDefault();
            var name = $('#quantity').val();
            window.location = this.href + '&quantity=' + encodeURIComponent(name);
        });
    });

</script> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-29T07:07:16.550

我的理解是你的

```
this.href == localhost:3325/WebProduct/Add?name=Panadol&type=Tablet 
```

如果这是正确的，那么以下应该有效

```
$(function () 
 {
    $('#edit').click(function () 
    {
        var name = $('#quantity').val();

        var href = this.href;
        var splitHalfUrl = href.split('?');
        var splitQueryString = splitHalfUrl[1].split('&');
        window.location = "/WebProduct/Add?" + "quantity=" + encodeURIComponent(name) // Quantity
                                            "&" + splitQueryString[0] +   // Name
                                            "&" + splitQueryString[1];    // Type

     });
   }); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-29T07:23:35.783

好的，我想指出几件事，您需要防止 ActionLink 上的默认行为：

```
<script type="text/javascript">

        $(function () {
            $('#edit').click(function(event) {
                event.preventDefault();
                var name = $('#quantity').val();
                window.location = this.href + '&quantity=' + encodeURIComponent(name);
            });
        });

</script> 
```

这应该将您的页面重定向到您想要的网址：`localhost:port/WebProduct/Add?name=Name&type=Type&quantity=Quantity`

如果您收到另一个错误，请检查您的控制器操作是否设置正确（拼写错误可能是个婊子）。

# java - 多次调用constructor.newInstance（String）时Java堆空间不足错误

> ID：13619529
> 
> 赞同：-1
> 
> 时间：2012-11-29T05:38:13.960
> 
> 标签：java

```
String type = “ClassNames”;
MyInterface mi = (MyInterface) constructor.newInstance(type); 
```

上面的代码片段在我的程序中被多次调用（大约 3000 个类），这会导致堆空间不足错误。堆大小达到 1024mb。任何解决方法可以保持堆大小低？谢谢！

**界面**

```
public interface MyInterface { 
    public String[] getRowHeader(); 
    public String[] getHeaderTable();    
    public String[][] getDataForSearch();
    public String getInfoText();
} 
```

**公共类实现**

```
public TablePanel() {
    try {
        guiInit();
    } 
    catch (Exception exception) {
        exception.printStackTrace();
    }
} 
```

此 guiInit() 执行摆动组件初始化。

在同一个类中，方法的实现如下所示

```
public String[][] getDataForSearch()  
{
    return rowNames;
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-29T06:13:25.410

没有人能在不知道您在代码中做什么的情况下帮助您。解决方案很大程度上取决于您在做什么。

有没有内存泄漏？比如，您仍然持有对不再需要的对象实例的引用，这会阻止 GC 释放内存？

如果你真的需要这么多实例，你可以考虑对你的类进行一些重新设计以减少内存占用，例如，使用 Fly-weight 模式，或者尝试重用已经创建的实例，或者使用更节省空间的实例数据结构等

此外，考虑重新设计您的逻辑，以避免分配那么多对象的需要。例如，如果您的应用程序正在处理输入文件，请避免“读取整个文件并将其全部转换为 POJO，然后执行逻辑”。看看您是否可以“部分读取文件并创建相应的 POJO，为该部分执行逻辑，然后进行下一部分”。

# matlab - 多次运行函数的平均保存输出

> ID：13619532
> 
> 赞同：0
> 
> 时间：2012-11-29T05:38:45.100
> 
> 标签：matlab, for-loop, save, octave, output

我有一个有 11 个输入参数的函数。

```
MyFunction(40, 40, 1, 1, 1, 5, 0, 1, 0, 1500, 'MyFile'); 
```

`'MyFile'`传递时的输入参数`MyFunction`使用save 命令保存一个文本文件，该文件是由行的第10 个输入参数（例如1500）组成的6 列。当我准备好分析不同的运行时，我通常会将这些文件加载​​回 MATLAB。

我想运行`MyFunction` *m*次并最终`'MyFile'`衡量这些*m*运行的集中趋势（例如平均值或中位数）。

```
m=10
for i = 1:m;
    MyFunction(40, 40, 1, 1, 1, 5, 0, 1, 0, 1500, 'MyFile');
end; 
```

我可以使用for循环为每次迭代生成一个新`'MyFile'`名称（例如MyFile1，MyFile2，...，MyFileM），`MyFile = sprintf('MyFile%m');`然后将所有MyFiles加载回MATLAB，然后取它们的平均值并将其保存为UltimateMyFile，但这似乎很麻烦。他们是更直接地平均这些输出文件的更好方法吗？我应该将文件存储为对象、使用`dlmwrite`还是`-append`？

谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-29T05:50:53.187

由于您正在尝试查找中位数，因此您需要访问所有数据。

你可以定义一个 3 维数组说

```
data = zeros(1500,6,m); 
```

然后在 for 循环的每一步更新它：

```
data(:,:,i) = MyFunction(40, 40, 1, 1, 1, 5, 0, 1, 0, 1500); 
```

当然，您需要重新定义您的函数以获得正确的输出。

但是，如果您需要在其他时间访问数据，那么您最好将其写入文件并从那里读取。

如果您只对平均值感兴趣，您可以在分析每个案例时保留一个运行总计，然后将其除以案例数 ( `m`)。

# c# - 为什么SqlClient 在传递SqlXml 时会使用不必要的XML 转换？

> ID：13619533
> 
> 赞同：4
> 
> 时间：2012-11-29T05:38:48.697
> 
> 标签：c#, sql, sql-server, xml, sqlclient

我有一个关于将 xml 数据类型传递给 C# 代码查询的问题。

首先，这是 SQL Server 上的一个表：

```
CREATE TABLE [dbo].[XmlTable](
    [id] [int] IDENTITY(1,1) NOT NULL,
    [dat] [xml] NOT NULL
) 
```

其次，我有一个用 C# 编写的应用程序。`XmlTable`我从应用程序中插入行。

这是代码：

```
XDocument doc = new XDocument(new XElement("root",
     new XElement("abc", "123"),
     new XElement("cba", "321")));

var reader = new XmlTextReader(new StringReader(doc.ToString()));
var xml = new SqlXml(reader);

using (var connection = new SqlConnection(_connectionString))
{
     using (var command = new SqlCommand("insert into XmlTable (dat) values(@data)", connection))
     {
          command.Parameters.Add(new SqlParameter("@data", SqlDbType.Xml){Value = xml});
          connection.Open();
          command.ExecuteNonQuery();
     }
} 
```

一切正常，插入行。但是，如果我运行 SQL Profiler 并检查插入命令，我会看到以下内容：

```
declare @p3 xml
set @p3=convert(xml,N'<root><abc>123</abc><cba>321</cba></root>')
exec sp_executesql N'insert into XmlTable (dat) values(@data)',N'@data xml',@data=@p3 
```

我们可以看到，尽管将`SqlXml`类型传递给查询`SqlClient`执行了从字符串到 XML 的不必要的转换。XML 解析器确实浪费了工作。

问题是：为什么`SqlClient`要这样做？以及如何在没有额外转换的情况下做到这一点？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-11-29T08:46:18.293

现实中没有发生转换。您看到的是 Profiler/Trace 的工件，必须以某种方式将[TDS RPC](http://msdn.microsoft.com/en-us/library/dd357576%28v=prot.20%29.aspx)调用表示为 T-SQL 批处理，您可以复制粘贴并在 SSMS 中执行。*实际*执行的文本只是类型`insert into XmlTable (dat) values(@data)`/`@data`值来自`ParamData`请求的一部分。与*任何*有线协议一样，序列化和编码必须在客户端进行，而解码和反序列化必须在服务器端进行。附带说明一下，两者都没有调用`sp_execute_sql`，这又是 Profiler/Trace 如何显示 RPC 调用的产物。

> *此代码用于高负载场景，额外的转换使其变慢*

那是猜测。您应该将性能分析建立在[测量和观察](http://msdn.microsoft.com/en-us/library/ms182403.aspx)的基础上。

# objective-c - 裁剪图像时添加细白线（Objective-C OSX）

> ID：13619535
> 
> 赞同：4
> 
> 时间：2012-11-29T05:39:12.853
> 
> 标签：objective-c, macos, crop, nsimage

我正在剪切一个大图像并将其保存到许多不同的图像中。我首先在其中实现了`iOS`它并且工作正常，但是当我尝试将代码移植到 时`OSX`，图​​像的顶部和右侧会出现一条细白线（1 像素）。这条线不是纯白色的，也不是实心的（参见下面的示例）。

这是`iOS`制作一个子图像的代码，它就像一个冠军：

```
-(void)testMethod:(int)page forRect:(CGRect)rect{
    NSString *filePath = @"imageName";

    NSData *data = [HeavyResourceManager dataForPath:filePath];//this just gets the image as NSData
    UIImage *image = [UIImage imageWithData:data];

    CGImageRef imageRef = CGImageCreateWithImageInRect([image CGImage], rect);//crop in the rect

    UIImage *result = [UIImage imageWithCGImage:imageRef scale:0 orientation:image.imageOrientation];
    CGImageRelease(imageRef);

    NSArray *paths = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES);
    NSString *documentsDirectoryPath = [paths objectAtIndex:0];

    [UIImageJPEGRepresentation(result, 1.0) writeToFile:[documentsDirectoryPath stringByAppendingPathComponent::@"output.jpg"] atomically:YES];
} 
```

`OSX`这是导致添加白线的移植代码：

```
NSImage *source = [[[NSImage alloc]initWithContentsOfFile:imagePath] autorelease];
//init the image
NSImage *target = [[[NSImage alloc]initWithSize:panelRect.size] autorelease];
//start drawing
[target lockFocus];
[source drawInRect:NSMakeRect(0,0,panelRect.size.width,panelRect.size.height)
          fromRect:NSMakeRect(panelRect.origin.x , source.size.height - panelRect.origin.y - panelRect.size.height, panelRect.size.width, panelRect.size.height)
         operation:NSCompositeCopy
          fraction:1.0];
[target unlockFocus];

//create a NSBitmapImageRep
NSBitmapImageRep *bmpImageRep = [[[NSBitmapImageRep alloc]initWithData:[target TIFFRepresentation]] autorelease];
//write to tiff
[[target TIFFRepresentation] writeToFile:@"outputImage.tiff" atomically:NO];
[target addRepresentation:bmpImageRep];     
NSDictionary *imageProps = [NSDictionary dictionaryWithObject:[NSNumber numberWithFloat:1.0] forKey:NSImageCompressionFactor];

//get the data from the representation
NSData *data = [bmpImageRep representationUsingType: NSJPEGFileType
                                             properties: imageProps];

//write the data to a file
[data writeToFile: @"outputImage.jpg" atomically:NO];

data = [bmpImageRep representationUsingType: NSPNGFileType properties: imageProps];

//write the data to png
[data writeToFile: @"outputImage.png" atomically:NO]; 
```

上面的代码将图像保存为三种不同的格式，以检查问题是否出在特定格式的保存过程中。似乎不是因为所有格式都有相同的问题。

这是图像右上角的放大（4x）版本：

![OSX，注意顶部和左侧的白线](../Images/aee863e9105ceac47257ab5847070b0b.png)

（OSX，注意上面和左边的白线。这里看起来很模糊，因为图像被炸毁了）

![iOS，注意没有白线](../Images/8f53eedf03bcec4d9889f0dc0944b14e.png)

（iOS，注意没有白线）

如果有人能告诉我为什么会发生这种情况，我会非常高兴。也许它与质量差异有关（OSX 版本似乎质量较低 - 尽管您没有注意到）？也许有一种完全不同的方法可以做到这一点？

作为参考，这里是未缩放的 osx 图像：

![OSX 图像原件](../Images/74b5da3fec8818fb46b2d9fcbcc23304.png)

* * *

*更新*：感谢[Daij-Djan](https://stackoverflow.com/a/13620526/377384)，我能够停止该`drawInRect`方法的抗锯齿：

```
 //start drawing on target
    [target lockFocus];
    [NSGraphicsContext saveGraphicsState];
    [[NSGraphicsContext currentContext]
            setImageInterpolation:NSImageInterpolationNone];
    [[NSGraphicsContext currentContext] setShouldAntialias:NO];

    //draw the portion of the source image on target image
    [source drawInRect:NSMakeRect(0,0,panelRect.size.width,panelRect.size.height)
              fromRect:NSMakeRect(panelRect.origin.x , source.size.height - panelRect.origin.y - panelRect.size.height, panelRect.size.width, panelRect.size.height)
             operation:NSCompositeDestinationAtop
              fraction:1.0];

    [NSGraphicsContext restoreGraphicsState];
    //end drawing
    [target unlockFocus]; 
```

* * *

*更新*：将“插值”更改为`NSImageInterpolationNone`，因为这提供了更好的表示。高插值进行细微调整，这在放大文本时很明显。删除插值会阻止像素四处跳动，但颜色仍有少许差异（灰色为 164 到 155）。能够像我在iOS中那样剪切图像会很棒......

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-29T07:07:47.163

它看起来像抗锯齿......你必须在切割/缩放图像时计算你计算的浮点值。

在浮点值上使用 froundf()

# jquery - 由于 javascript 加载，文本跳来跳去

> ID：13619536
> 
> 赞同：1
> 
> 时间：2012-11-29T05:39:16.147
> 
> 标签：jquery, html, css

我正在使用 zurb 的基础来构建一个网站，该网站大量使用了滑块。目前一切正常（没有优化、修复响应错误等），除了网站加载方式的可用性问题。

当我加载网站时，幻灯片的图像在内容存在之后加载，所以所有文本都有点难看的跳跃。访问开发服务器即可看到效果——http: [//www.dentasignclients.com/opo2](http://www.dentasignclients.com/opo2)

我将如何使文本保持原位？我尝试加载标签中的所有 javascript，但这并没有改变结果。

如果图像在之后加载也没关系，只要文本不改变它的位置。有点像有某种不可见的占位符。

你知道我会做些什么来使网站的加载更干净吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-29T07:08:38.203

在谷歌浏览器中看起来不错。但是，不久前我在构建网站时遇到了完全相同的问题。文本跳来跳去，随机 div 会跳来跳去（尽管尽可能设置高度）。很头疼，我调试了好几天。和你一样，我也在使用 jQuery UI 1.8.2。我升级到 jQuery UI 1.9.2，这似乎解决了奇怪的跳跃和奇怪的动画的所有问题。这可能是一个错误。尝试更改您的 jQuery UI 版本，看看它是否有效：

```
<script type="text/javascript" src="http://code.jquery.com/ui/1.9.2/jquery-ui.js" </script> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-29T05:43:55.000

人们似乎总是忘记最基本的...

您需要在元素上有一个`width`and`height`属性`<img>`来创建适当的占位符区域。

[这甚至是 HTML 规范的一部分](http://www.w3.org/community/webed/wiki/HTML/Elements/img#HTML_Attributes)

# matlab - 索引矩阵与其他两个矩阵

> ID：13619537
> 
> 赞同：1
> 
> 时间：2012-11-29T05:39:16.613
> 
> 标签：matlab, octave

我有两个大的行号和列号矩阵以及一个数据矩阵。我想创建一个矩阵，其中：

```
output(i,j) = data(row(i,j),col(i,j)) 
```

我怎样才能快速做到这一点？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-29T05:51:53.323

让`[T, N] = size(Row)`和 让`[DataT, DataN] = size(Data)`，那么一个单行解决方案是：

```
Soln = reshape(Data(sub2ind([DataT DataN], Row(:), Col(:))), T, N); 
```

这个单线看起来有点复杂，让我们在一个示例案例中逐步分解它。我在评论中加入了说明每个部分发生了什么的评论：

```
%# Set fixed parameters for example matrices
T = 3; N = 2; 
DataT = 5; DataN = 4;

%# Generate random Data matrix
Data = rand(DataT, DataN);

%# Generate some random subscript index matrices for indexing Data
Row = randi(DataT, T, N);
Col = randi(DataN, T, N);

%# Obtain the linear indices implied by treating Row and Col as subscript matrices
L = sub2ind([DataT DataN], Row(:), Col(:));

%# Use the linear indices to get the data we want
Soln = Data(L);

%# Reshape the data from a vector into matrix of size T by N
Soln = reshape(Soln, T, N); 
```

解决这些类型问题的标准参考是[Matrix-Indexing-in-MATLAB](http://www.mathworks.com.au/company/newsletters/articles/Matrix-Indexing-in-MATLAB/matrix.html;jsessionid=ac2a6bc2cb56380672900fa970e7)

# c++ - 构造函数的限制函数

> ID：13619538
> 
> 赞同：0
> 
> 时间：2012-11-29T05:39:20.560
> 
> 标签：c++, visual-studio-2010, constructor

请看下面的代码

**游戏对象.cpp**

```
#include "GameObject.h"

GameObject::GameObject(void)
{
    id = 0;
}

GameObject::GameObject(int i)
{
    id = i;
}

GameObject::~GameObject(void)
{
} 
```

**游戏对象.h**

```
#pragma once
class GameObject
{
public:
    GameObject(void);
    GameObject(int);
    ~GameObject(void);

    int id;
}; 
```

**主文件**

```
#include <iostream>
#include "GameObject.h"

using namespace std;

int main()
{
    GameObject obj1;
    cout << obj1.id << endl;

    GameObject obj2(45);
    cout << obj2.id << endl;;

    system("pause");
    return 0;
} 
```

现在，我想确保无法使用默认构造函数定义 gameObject 类型的对象。我该怎么做？请帮忙！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-29T05:44:27.093

您可以将默认构造函数设为私有。

作为一个示例，通常，当我们实现一个单例类时，我们将默认构造函数设为私有并提供一个静态公共“实例”方法。

# ruby-on-rails - 没有路线匹配 {:controller

> ID：13619542
> 
> 赞同：2
> 
> 时间：2012-11-29T05:39:34.213
> 
> 标签：ruby-on-rails, routing

*我已经阅读了 20 多篇关于非常相似的问题的 StackOverflow 文章（以及网络上的许多其他文章），并尝试了他们的解决方案，但都没有奏效。请帮助这个初学者！*

*特别是，我最常发现的解决方案是*

```
form_for [@parent, @child] do |f| 
```

*但它并没有像其他人那样修复错误。*

# 错误：

*错误发生在 localhost:3000/locations/1/restaurants/new*

餐厅中的 NoMethodError#new

显示第 1 行引发的 /app/views/restaurants/_form.html.erb ：

```
undefined method `restaurants_path' for #<#<Class:0x007fb7ab89ea80>:0x007fb7aaadc3c0> 
```

提取的源代码（在第 1 行附近）：

```
1: <%= form_for [@location, @restaurant] do |f| %>
2:   <% if @restaurant.errors.any? %>
3:     <div id="error_explanation">
4:       <h2><%= pluralize(@restaurant.errors.count, "error") %> prohibited this restaurant from being saved:</h2> 
```

*我在任何应用程序代码中都找不到任何关于*restaurants_path的提及*，所以我假设它是一些神奇的Rails 默认值。*

# 代码：

*我正在使用*has_many/belongs_to*模型：一个位置有很多餐馆。*

配置/路由.rb

```
 resources :locations do
    resources :restaurants
  end 
```

$ rake 路线

```
location_restaurants GET    /locations/:location_id/restaurants(.:format)          restaurants#index
                         POST   /locations/:location_id/restaurants(.:format)          restaurants#create
new_location_restaurant GET    /locations/:location_id/restaurants/new(.:format)      restaurants#new
edit_location_restaurant GET    /locations/:location_id/restaurants/:id/edit(.:format) restaurants#edit
location_restaurant GET    /locations/:location_id/restaurants/:id(.:format)      restaurants#show
                         PUT    /locations/:location_id/restaurants/:id(.:format)      restaurants#update
                         DELETE /locations/:location_id/restaurants/:id(.:format)      restaurants#destroy 
```

应用程序/控制器/restaurants_controller.rb

```
 def new
    @restaurant = Restaurant.new

    respond_to do |format|
      format.html
      format.json { render json: @restaurant }
    end
  end

  def edit
    @restaurant = Restaurant.find(params[:id])
  end

  def create
    @location = Location.find(params[:location_id])
    @restaurant = @location.restaurants.create(params[:restaurant])

    respond_to do |format|
      if @restaurant.save
    format.html { redirect_to location_restaurants_path(@location), notice: 'Restaurant was successfully created.' }
        format.json { render json: @restaurant, status: :created, location: @restaurant }
      else
        format.html { render action: "new" }
        format.json { render json: @restaurant.errors, status: :unprocessable_entity }
      end
    end
  end 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-29T05:53:18.767

您尚未初始化 a `@location`，这是您的表单所必需的（在行中`form_for [@location, @restaurant]`）。只需在您的操作中添加一个查找它的行（使用`Location.find`）`new`，然后构建`@restaurant`以使其与位置相关联：

```
def new
  @location = Location.find(params[:location_id])
  @restaurant = @location.restaurants.build
  ...

end 
```

由于您需要`@location`执行所有操作（包括`edit`，我认为这在您当前的代码中也不能正常工作），因此将其放入单独的方法中然后从 a 调用它是有意义的`before_filter`，即：

```
before_filter :find_location

private

def find_location
  @location = Location.find(params[:location_id])
end 
```

`create`然后，您还可以删除在您的操作（以及从`new`操作）中找到该位置的行。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-29T05:57:35.727

我认为问题在于您在操作中实例化`@restaurant`变量的方式`new`。因为它嵌套在位置下，所以您需要这样构建它：

`@location = Location.find(params[:location_id])` `@restaurant = @location.restaurants.new`

# c# - 如何转换列表 到字典 ?

> ID：13619544
> 
> 赞同：0
> 
> 时间：2012-11-29T05:39:35.083
> 
> 标签：c#, c#-4.0

如何将 a 转换`List <string>`为 a `Dictionary<string, int>`？

这应该是从零到 n 的数字。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-11-29T05:42:16.923

您可以使用[`ToDictionary()`](http://msdn.microsoft.com/en-us/library/bb549277.aspx)从`Dictionary`任何`IEnumerable`.

```
var list = new List<string>() { "Foo", "Bar", "Spam" };

// TKey is int, TValue is string
int i = 0;
Dictionary<int,string> dict1 = list.ToDictionary( _ => i++ );          

// TKey is string, TValue is int
i = 0;
Dictionary<string,int> dict2 = list.ToDictionary( x => x, _ => i++ ); 
```

传递给的 lambda`ToDictionary`是`keySelector`. 通常您使用它从 中的项目中*选择*一个属性`IEnumerable`作为键，但在这里，我们使用它来提供计数。

**编辑：**第二个版本使用两个选择器。第一个是关键。通过提供`x => x`lambda，我们只是使用来自列表的字符串。第二个选择器是值。在这里，我们提供柜台，`i`。

* * *

**表现**

我决定测试我的方法与 pst 方法的性能。

测试代码：

```
static void Main(string[] args) {
    const int N = 1000000;
    const int M = 10;
    Stopwatch s;

    // Generate test list of strings.
    var list = Enumerable.Range(0, N).Select(n => n.ToString());

    // Just so it's enumerated once before.
    var ar = list.ToArray(); 

    // Try Jonathon's method M times.
    s = Stopwatch.StartNew();
    for (int x = 0; x < M; x++) {
        int i = 0;
        //var dict1 = list.ToDictionary(_ => i++);    // Before question edit
        var dict1 = list.ToDictionary(x => x, _ => i++);
    }
    s.Stop();
    Console.WriteLine("Jonathon's i++ method took {0} ms", s.ElapsedMilliseconds);

    // Try pst's method M times.
    s = Stopwatch.StartNew();
    for (int x = 0; x < M; x++) {
        var dict2 = list.Select((v, j) => new {v, j}).ToDictionary(p => p.v, p => p.j);
    }
    s.Stop();
    Console.WriteLine("psts' Select() method took {0} ms", s.ElapsedMilliseconds);

    Console.ReadLine();
} 
```

输出：

```
Jonathon's i++ method took 3005 ms
pst's Select() method took 5019 ms 
```

输出（问题编辑后）：

```
Jonathon's i++ method took 3521 ms
pst's Select() method took 5103 ms 
```

总之，通过使用计数器而不是创建中间的匿名类型对象，似乎有大约 40% 的改进。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-11-29T05:44:34.737

假设每个项目都映射到键并`n`表示源中的索引，则：

```
var dict = list
    .Select((v, i) => new {v, i})
    .ToDictionary(p => p.v, p => p.i); 
```

我喜欢这种方法，因为虽然临时匿名类型有点不稳定，但它是一种自包含的无副作用的表达式。

（如果源列表中有任何重复项，这将引发异常。）

# android - 我怎样才能知道哪个应用程序包正在启动我的活动？

> ID：13619553
> 
> 赞同：1
> 
> 时间：2012-11-29T05:40:08.640
> 
> 标签：android, android-activity, android-service, android-package-managers

有许多应用程序在系统中调用我的应用程序> 我想知道当前哪个应用程序调用了我的应用程序或活动或服务？

有人可以帮我解决这个问题吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-29T06:24:17.223

在您的应用程序的启动活动中，您可以尝试以下代码来获取调用您的应用程序的应用程序的**PackageName 。**

```
if(getIntent().getPackage()!=null){
   String packageName = getIntent().getPackage();
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-29T05:59:50.660

您可以提供不同的活动来启动您的应用程序，每个活动都由不同的应用程序调用。或者，您可以在应用启动后监控用户操作（导航到屏幕等），并确定可能是哪个应用启动了您的应用。这两个是相对合乎逻辑的，但除此之外，您可以监视和查找当前正在运行的应用程序（[在此处](https://stackoverflow.com/questions/8091350/how-to-find-the-currently-running-applications-programatically-in-android)查找一种可能的方法），然后可能确定哪个应用程序启动了您的应用程序。

请注意，这些只是策略，而不是明确的答案。

# android - ant 发布期间无法解析项目目标

> ID：13619555
> 
> 赞同：3
> 
> 时间：2012-11-29T05:40:24.710
> 
> 标签：android, ant

我从 Eclipse 生成了一个 ant 脚本，并尝试检查它是否可以在将其传递给 teamcity 服务器之前运行。不幸的是，蚂蚁发布失败并显示以下消息：

```
C:\Program Files (x86)\Android\android-sdk\tools\ant\build.xml:517: Unable to resolve project target 'android-15' 
```

在我使用 target=android-15 的 prohect 属性中，这个 SDK 在我的计算机中安装，ant 使用 java 1.6。这个问题的原因在哪里？你能帮我找到吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2014-10-04T01:28:00.350

列表目标：

```
android list target 
```

项目更新目标：

```
android update project --target target_id -p . 
```

# asp.net - 文件上传控件 (UploadButton.PostedFile.FileName)

> ID：13619557
> 
> 赞同：2
> 
> 时间：2012-11-29T05:40:38.620
> 
> 标签：asp.net

最近我在 asp 上开发了一个代码，需要将文件上传到服务器。正如我从网上发现的那样，为了查看文件的本地文件，可以通过 UploadButton.PostedFile.Filename 来完成。

```
string fileName = UploadButton.PostedFile.Filename; 
```

这将显示整个本地路径（例如 C:\Documents and Settings\christopher.lim\Desktop\HelloWorld.txt）。

如果它在我的桌面上运行代码（我的 PC 是服务器本身），这工作正常但是当我将代码转移到测试服务器并在我的桌面上尝试它（PC 是客户端）时，它只显示我的文件名称而不是整个路径。

例子：

```
string fileName = UploadButton.PostedFile.Filename;

Response.Write("FileName: " + fileName); 
```

1) 本地 PC -> C:\Documents and Settings\christopher.lim\Desktop\HelloWorld.txt

2) 测试服务器 -> HelloWorld.txt

P/S：对不起，如果它令人困惑，因为我是服务器客户端的新手。如我错了请纠正我。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-29T05:50:59.227

根据[MSDN](http://msdn.microsoft.com/en-us/library/system.web.ui.webcontrols.fileupload.filename.aspx) -

> FileName 属性返回的文件名不包括客户端上文件的路径。

虽然在本地系统上确实可以获得完整的路径，但是当您在服务器上运行它时，它只会返回文件的名称。

仅供参考，文件上传控件在不同浏览器中的行为不同。在 Firefox 中，您可能只会使用 fileupload.postedfile.filename 获得文件名而不是完整路径，而在 IE 中，同样的事情可能会显示完整路径。

但是，从客户端系统上传的文件的路径并不重要，因为只有文件名就足够了，但是如果您仍然需要尝试-MSDN`Path.GetFileName(filename)` [链接](http://msdn.microsoft.com/en-us/library/system.io.path.getfilename.aspx)

# python - wtforms 隐藏字段值

> ID：13619558
> 
> 赞同：19
> 
> 时间：2012-11-29T05:40:49.187
> 
> 标签：python, wtforms

我正在使用 WTForms，我遇到了隐藏字段不返回值的问题，而文档说他们应该这样做。这是一个简单的例子：

**表格.py：**

```
from wtforms import (Form, TextField, HiddenField)

class TestForm(Form):
    fld1 = HiddenField("Field 1")
    fld2 = TextField("Field 2") 
```

**实验.html：**

```
{% from "_formshelper.html" import render_field %}
<html>
    <body>
        <table>
        <form method=post action="/exp">
            {% for field in form %}
                {{ render_field(field) }}
            {% endfor %}
            <input type=submit value="Post">
        </form>
        </table>        
    </body>
</html> 
```

（render_field 只是将标签、字段和错误放在 td 标签中）

**实验.py：**

```
from flask import Flask, request, render_template

from templates.forms import *
from introspection import *

app = Flask(\__name__)                  
app.config.from_object(\__name__)
db_session = loadSession()

@app.route('/exp', methods=['POST', 'GET'])
def terms():
    mydata = db_session.query(Peter).one()
    form = TestForm(request.form, mydata)
    if request.method == 'POST' and form.validate():
        return str(form.data)
    return render_template('experiment.html', form = form)

if __name__ == '__main__':
    app.run(debug = True) 
```

mydata 返回具有 2 个字段 fld1 和 fld2 的表中的唯一行。fld1 是一个整数自增字段。表单中填充了该数据，因此如果我运行experiment.py，当我提交表单时，我会得到：

{'fld2': u'blah blah blah', 'fld1': u'1'}

但是如果我将 fld1 更改为 HiddenField，当我点击提交时，我会得到：{'fld2': u'blah blah blah', 'fld1': u''}

我究竟做错了什么？

* * *

## 回答 #1

> 赞同：24
> 
> 时间：2012-11-29T18:24:02.273

我怀疑您的隐藏字段是（1）没有设置值，或者（2）render_field 宏没有正确构建它。如果我必须打赌，我会说您的“mydata”对象没有您期望的值。

我将您的代码剥离到最低限度，这对我有用。注意我明确地为这两个字段赋值：

```
from flask import Flask, render_template, request
from wtforms import Form, TextField, HiddenField

app = Flask(__name__)

class TestForm(Form):
  fld1 = HiddenField("Field 1")
  fld2 = TextField("Field 2")

@app.route('/', methods=["POST", "GET"])
def index():
  form = TestForm(request.values, fld1="foo", fld2="bar")
  if request.method == 'POST' and form.validate():
    return str(form.data)

  return render_template('experiment.html', form = form)

if __name__ == '__main__':
  app.run() 
```

和

```
<html>
<body>
<table>
    <form method=post action="/exp">
        {% for field in form %}
            {{field}}
        {% endfor %}
        <input type=submit value="Post">
    </form>
</table>
</body>
</html> 
```

正如我所料，这给了我 {'fld2': u'bar', 'fld1': u'foo'} 。

检查 mydata 是否有一个属性“fld1”并且它有一个值。我可能会像 form = TestForm(request.values, obj=mydata) 那样明确地设置它——它看起来不像 WTForms 会关心，但我已经被它有时奇怪的挑剔所烧毁。

如果这对您不起作用，请返回并发布您的 HTML 以及 mydata 的值。

# ruby-on-rails - Rails-y 查询具有 belongs_to 关联的模型的方法

> ID：13619560
> 
> 赞同：2
> 
> 时间：2012-11-29T05:40:50.687
> 
> 标签：ruby-on-rails, activerecord, belongs-to

我有两个模型：

```
class Wine
  belongs_to :region
end

class Region
  has_many :wines
end 
```

我正在尝试将#where 方法与通过将参数哈希中的某些元素转换为查询哈希而构建的哈希一起使用，例如`{ :region => '2452' }`

```
def index
  ...
  @wines = Wine.where(hash)
  ...
end 
```

但我得到的只是执行查询时出现列不存在错误：

```
ActiveRecord::StatementInvalid: PGError: ERROR:  column wines.region does not exist
LINE 1: SELECT "wines".* FROM "wines"  WHERE "wines"."region" =... 
```

当然，如果我查询该表，`wines`则不会出现错误。`region_id``region_id`

**问题如下：**

是否有一种 rails-y 方法来使用方法中的`Wine`特定查询对象？根据我知道我能做的，我在下面列出了一些选项。`regions``id``#where`

选项 1：我可以更改构建查询哈希的方式，以便每个字段都具有`_id`（`{ :region_id => '1234', :varietal_id => '1515' }`但不是所有的关联来自`Wine`are `belongs_to`，因此在 wines 中没有条目 for `_id`，使得逻辑更复杂的连接和什么不是。

选项 2：构建一个 SQL where 子句，再次使用一些逻辑来确定是使用 id 还是连接另一个表……再次，逻辑会稍微复杂一些，深入研究 SQL 会让它感觉不那么 Rails-y。或者我在这方面可能是错的。

选项 3..n：我没有想到的事情......你的意见在这里 :)

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-11-29T15:12:54.373

您可以在 Wine 模型中设置一个范围，使其更符合 Rails-y ...

```
class Wine < ActiveRecord::Base

  belongs_to :region
  attr_accessible :name, :region_id

  scope :from_region, lambda { |region|
    joins(:region).where(:region_id => region.id)
  }
end 
```

因此，您可以执行以下操作：

```
region = Region.find_by_name('France')
wine =   Wine.from_region(region) 
```

编辑1：

或者，如果您想真正花哨，您可以为多个区域做一个范围：

```
scope :from_regions, lambda { |regions|
  joins(:region).where("region_id in (?)", regions.select(:id))
}

regions = Region.where("name in (?)", ['France','Spain']) # or however you want to select them
wines =   Wine.from_regions(regions) 
```

编辑2：

如果需要，您还可以链接范围和 where 子句：

```
regions = Region.where("name in (?)", ['France','Spain'])
wines =   Wine.from_regions(regions).where(:varietal_id => '1515') 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-05T03:48:53.187

感谢所有回复的人。我得到的答案非常适合单一条件查询，但我需要一些可以处理不同数量条件的东西。

我最终实现了我的选项 #1，即通过迭代并连接`_id`到值来构建条件哈希：

```
def query_conditions_hash(conditions)
  conditions.inject({}) do |hash, (k,v)| 
    k = (k.to_s + "_id").to_sym
    hash[k] = v.to_i
    hash
  end
end 
```

这样该方法将采用从这样的参数构建的哈希：

```
{ region => '1235', varietal => '1551', product_attribute => '9' } 
```

并将 a`_id`放到每个键的末尾并将值更改为整数：

```
{ region_id => 1235, varietal_id => 1551, product_attribute_id => 9 } 
```

我们将看到这是多么可持续，但这是我现在所做的。

# c++ - Winsock recv() 返回不正确的数据

> ID：13619570
> 
> 赞同：1
> 
> 时间：2012-11-29T05:42:55.860
> 
> 标签：c++, winsock

我的服务器 recv() 来自客户端的数据包并且必须显示它。
问题是它没有显示正确的数据

这是代码：

```
 iResult = recv(ClientSocket, recvbuf, recvbuflen, 0);
    if (iResult > 0) {
        for ( int i = 0; i < iResult; i++ ) {
            printf( "%02x ", buf[i] );
        }
        printf( "\n" );

    // return "cc cc cc cc cc cc cc cc cc cc"
    // correct return "0A 00 2C 01 29 00 0D 00 B4 01" 
```

当客户端连接服务器显示`cc cc cc cc cc cc cc cc cc cc`但这是不对的
它应该是`0A 00 2C 01 29 00 0D 00 B4 01`

* * *

**更新**

```
 #define DEFAULT_BUFLEN 512

    char recvbuf[DEFAULT_BUFLEN];
    int recvbuflen = DEFAULT_BUFLEN;

    iResult = recv(ClientSocket, recvbuf, recvbuflen, 0);
    if (iResult > 0) {
        for ( int i = 0; i < iResult; i++ ) {
            printf( "%02x ", recvbuf[i] );
        }
        printf( "\n" );

    // return "0A 00 2C 01 23 00 0c 00 ffffffB3 01"
    // correct return "0A 00 2C 01 23 00 0c 00 B3 01" 
```

现在数据包上有额外的 ffffff，即使我只有 10 个字节。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-29T06:14:58.330

现在数据是正确的。当`char`您传递给的值`printf`提升为`int`. 您可以将其`char`转换为 an`unsigned char`并且它应该正确显示。

```
for ( int i = 0; i < iResult; i++ ) {
    printf( "%02x ", static_cast<unsigned char>( recvbuf[i] ) );
} 
```

# android - 使用 mediaPlayer -Android 循环

> ID：13619572
> 
> 赞同：0
> 
> 时间：2012-11-29T05:42:59.670
> 
> 标签：android, android-mediaplayer

我的应用程序中有 4 个切换按钮。所有这些都是为了在应用程序中循环声音。因此，这意味着当我想单击第一个 ToggleButoon 并且它的状态将打开时，音乐开始播放并继续*循环*直到它的状态为*ON*。其余的切换按钮也是如此。它们可能同时*开启*（全部），所以我打算让 4 个媒体播放器循环播放。
这是我为第一个 TogglleButton 编写的代码，到目前为止，即使有一个也没有运气......

```
 public MediaPlayer resourcePlayer;
    Context appContext = getApplicationContext();
    resourcePlayer = MediaPlayer.create(appContext,R.raw.loop1);
    .....
    .....
    public void onClick (View v){
    switch (v.getId()) {
    case R.id.toggleButton1:
    boolean on = ((ToggleButton) v).isChecked();

    if (on) {
    resourcePlayer.start();
    resourcePlayer.setLooping(true)
    }
    else {
    resourcePlayer.stop();
    }

    break;
    } 
```

当我单击 ToggleButton 时，没有任何反应，只有手机上的状态在改变，我可以看到，LogCat 也*很清晰*。谢谢）
UPD1：现在它正在循环，但是当我更改状态时它不会停止并继续循环。
UPD2：resourcePlayer 在主要活动中是公开的
UPD3：我已将 MediaPlayer 变量取出到 onCreate 方法中，以免重复。它播放和停止，但只有在 Logcat 给出错误消息之后的第一次

```
 MediaPlayer start called in state 0
    ....
    ....
    MediaPlayer stop called in state 0 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-29T05:53:52.443

你需要使用 resourcePlayer.setLooping(true); 或假

对于您的 UPD3：

因为您正在停止 resourcePlayer，所以它需要重新分配声源，但在您的情况下，它仅在仅第一次调用的 oncreate 方法中分配。所以每次你想在停止后播放时都需要重新初始化它。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-29T07:51:46.470

我认为这是因为您继续创建媒体播放器的新实例。所以你总是向新创建的媒体播放器对象发送停止命令，而不是当前正在播放的对象。

# java - 如何重置列表或地图的内容？

> ID：13619573
> 
> 赞同：1
> 
> 时间：2012-11-29T05:43:01.760
> 
> 标签：java, object, reference

如果我创建一个对象然后将该对象放入 List 或 Map，那么将该对象设置为 null 会影响 List 和 Map 的内容吗？

喜欢：

```
Object obj = new Object();
List<Object> list = new ArrayList<Object>();
Map<Integer, Object> map = new HashMap<Integer, Object>();

list.add(obj);
map.put(1, obj);

obj = null; 
```

现在如果我希望列表和地图中的内容都为空，那么在这一行之后，有可能吗？如果没有，是否可以实现？如何？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-29T05:49:34.777

> 如果我创建一个对象然后将该对象放入 List 或 Map，那么将该对象设置为 null 会影响 List 和 Map 的内容吗？

**不**，那不会发生。您不要将对象放在`List`or`Map`中，而是对该对象的引用。因此，当您将原始引用指向 时， or`null`中的引用仍将指向同一个实例。`List``Map`

> 如果我希望列表和地图中的内容都为空，可以吗？

是的，这是可能的，但您必须手动完成，方法是遍历您的`List`并将每个元素设置为`null`. 里面也是一样的`Map`，你必须`null`手动设置每个值。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-29T05:50:34.517

```
Object obj = new Object(); 
```

请参阅此处`Object obj`是 Object 类型的参考，其中包含`new Object();`

当您这样做时，`list.add(obj);`列表`0th`索引将保留与地图相同的引用`obj`和相同的地图。

现在，当你这样做`obj = null;`意味着 now`obj`引用将保持 null 而不是以前`Object`的，**它不会影响 object**。

在这里看到你`new Object();`还没有无法访问，因为`list and map`仍然持有参考。如果图片中没有商品，`Garbage collector`则将收集该商品，`object`因为该对象将无法访问。

> `WeakHashMap<K,V>`是 map where 的一个例子。WeakHashMap 中的条目在其键不再常用时将被自动删除。更准确地说，给定键的映射的存在不会阻止该键被垃圾收集器丢弃，也就是说，使其可终结，最终确定，然后回收。当一个键被丢弃时，它的条目被有效地从映射中删除，所以这个类的行为与其他映射实现有些不同。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-29T06:11:00.523

> 现在如果我希望列表和地图中的内容都为空，那么在这一行之后，有可能吗？如果没有，是否可以实现？如何？

首先，不要将您的设置`obj`为空。循环遍历列表和映射，将元素与 obj 进行比较，如果匹配，则将它们设置为 null。后来`obj`也设置为null。

```
for(int i=0; i<list.size(); i++) {
  if(list.get(i) == obj) {
    list.set(i, null);
    break;
  }
}

for(Integer key: map.keySet()) {
  if(map.get(key) == obj) {
    map.put(key, null);
  }
  break;
}

obj = null; 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-29T06:03:03.060

> 如果我创建一个对象然后将该对象放入 List 或 Map，那么将该对象设置为 null 会影响 List 和 Map 的内容吗？

不，因为 the`List`和 the`Map`仍然对该对象有**强引用。**所以垃圾收集器无法从内存中回收对象。

> 现在如果我希望列表和地图中的内容都为空，那么在这一行之后，有可能吗？如果没有，是否可以实现？如何？

至于 List 和 Map，您可能希望使用[Wea​​kReferences](http://docs.oracle.com/javase/7/docs/api/java/lang/ref/WeakReference.html)来执行以下操作：

```
Object obj = new Object;
WeakReference<Object> weakReference = new WeakReference<>(obj);

List<WeakReference> list = new ArrayList<>();
list.add(weakReference);

Map<Integer, WeakReference> map = new HashMap<>();
map.put(1, obj);

//Now set the only strong reference to null
obj = null; 
```

因此，如果发生垃圾收集，那么当您尝试执行以下操作时：

```
map.get(1).get(); //May return null if GC ocurred
list.get(0).get(); // Same here 
```

但是您仍然必须从列表中删除地图条目和元素。

对于此清理，您必须使用[ReferenceQueue](http://docs.oracle.com/javase/7/docs/api/java/lang/ref/ReferenceQueue.html)来迭代您的`Map`和`List`.

我引用[这篇文章](http://weblogs.java.net/blog/2006/05/04/understanding-weak-references)：

> 只有弱可达的对象（对它的最强引用是 WeakReferences）将在下一个垃圾回收周期被丢弃 [...]

# .net - 带有 SiteMap 数据源的 GridView - 显示子节点

> ID：13619584
> 
> 赞同：0
> 
> 时间：2012-11-29T05:43:44.610
> 
> 标签：.net, gridview, sitemap

网站地图：

```
<?xml version="1.0" encoding="utf-8" ?>
<siteMap xmlns="http://schemas.microsoft.com/AspNet/SiteMap-File-1.0">
    <siteMapNode  url="" title="hello"  description="hello">
        <siteMapNode  url="~/WFM1.aspx" title="WFM1"  description="This is WFM1" />
        <siteMapNode url="~/WFM2.aspx" title="WFM2"  description="This is WFM2" />
    </siteMapNode>
</siteMap> 
```

.aspx：

```
 <asp:GridView ID="GridView1" runat="server"  DataSourceID="SiteMapDataSource1" Height="52px" style="margin-right: 2px; margin-top: 9px" Width="215px">
            <Columns >
                <asp:BoundField DataField="Description" HeaderText="Description" ReadOnly="True" SortExpression="Description" />
                <asp:BoundField DataField="Title" HeaderText="Title" ReadOnly="True" SortExpression="Title" />
                <asp:BoundField DataField="Url" HeaderText="Url" ReadOnly="True" SortExpression="Url" />
            </Columns>

        </asp:GridView> 
```

出于某种原因，它只向我显示父节点。我想知道我是否没有得到任何东西，但我希望在 GridView 中也显示两个孩子。不要问我为什么需要以这种特殊的方式来做。（我也不知道——欢迎来到学术界）

上下文：VS2012：U

![在此处输入图像描述](../Images/5d8772c0abfe968f4f8599395e9b075b.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-17T18:18:51.487

我正在简化您的代码，但为什么不使用 ChildNodes 作为数据源嵌套一个 Gridview 控件呢？如果可以更好地满足您的目的，您也可以在中继器中执行此操作。

```
<asp:GridView ID="GridView1" runat="server"  DataSourceID="SiteMapDataSource1" Height="52px" style="margin-right: 2px; margin-top: 9px" Width="215px">
    <Columns>
            <asp:TemplateField>
                    <ItemTemplate>
                            <asp:GridView ID="GridView2" runat="server" AutoGenerateColumns="true" DataSource='<%#Eval("ChildNodes")%>'></asp:GridView>
                        </ItemTemplate>
                    </asp:TemplateField>
        </Columns>
</asp:GridView> 
```

# android - 安卓 API 列表

> ID：13619586
> 
> 赞同：6
> 
> 时间：2012-11-29T05:43:47.827
> 
> 标签：android

我想获取 CellInfo 数据，但 cellinfo.size() 总是在模拟器中发生 NullPointerException。

[细胞信息链接](http://developer.android.com/reference/android/telephony/CellInfo.html)

我不确定异常情况，有人知道原因吗？

是否我写错了代码？还是有人遇到同样的例外？

```
 TelephonyManager TM = (TelephonyManager) this
            .getSystemService(Context.TELEPHONY_SERVICE);
    List<CellInfo> cellinfo = TM.getAllCellInfo();
    Log.d("AA",Integer.toString(cellinfo.size())); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-27T11:08:57.270

某些电话信息受权限保护。您的应用程序无法访问受保护的信息，除非它具有在其清单文件中声明的适当权限。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-09-08T22:30:28.153

`TelephonyManager.getAllCellInfo()`很多设备上没有实现，函数总是返回null。

在这里查看我的答案：[getAllCellInfo 在 android 4.2.1 中返回 null](https://stackoverflow.com/questions/16541172/getallcellinfo-returns-null-in-android-4-2-1/18688268#18688268)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-11-07T14:10:50.250

我有同样的问题，它只适用于 s4。因此必须删除单元信息侦听器（PhoneStateListener.LISTEN_CELL_INFO）才能工作。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-11-07T14:19:54.703

`TelephonyManager.getAllCellInfo()`在 API 级别 17 中添加，因此您可以在 API 级别 17 和 + 上使用它。

此外，您必须`ACCESS_COARSE_LOCATION`向清单文件添加权限：

> **如果信息不可用，则返回**
> CellInfo 列表或 null。
> 需要权限：ACCESS_COARSE_LOCATION

[查看文档](http://developer.android.com/reference/android/telephony/TelephonyManager.html#getAllCellInfo%28%29)

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2016-07-18T03:57:07.607

好吧，我也有同样的麻烦！CellInfo 为空，因为我们没有放任何东西。所以我试着帮助听众一点。我强迫他让 .getAllCellInfo 进入监听器。这对我有用。

```
 class MyPhoneStateListener extends PhoneStateListener
{
    int signal;
    String cellList;
    @Override
    public void onCellInfoChanged(List<CellInfo> cellInfo)
    {
        super.onCellInfoChanged(cellInfo);
        cellInfo = Tel.getAllCellInfo();
        if (cellInfo!=null)
            cellList = cellInfo.toString();
        else cellList="ni mierda";
        mSignalStrengthView.append("" + String.valueOf(cellList));
    }
    @Override
    public void onSignalStrengthsChanged(SignalStrength signalStrength)
    {
        super.onSignalStrengthsChanged(signalStrength);
        signal = signalStrength.getGsmSignalStrength()*2-113;
        mSignalStrengthView.append("GSM signal strength is " +    String.valueOf(this.signal));
    }
} 
```

# android - 打开数据库时的Android SQLite空指针异常

> ID：13619589
> 
> 赞同：0
> 
> 时间：2012-11-29T05:43:57.797
> 
> 标签：android, sqlite

我无法在 android 上执行我的 SQLite 应用程序。出于测试目的，我使它尽可能简单。将数据添加到数据库中的查询，当用户单击“查看计划”按钮时，数据库中的所有数据都应显示为 TOAST 消息。“MySQLitehelper.java”文件包含所有与数据库相关的代码，“SelectOptions.java”包含带有“查看计划”按钮的代码。所有正确的导入都已添加，因此我在这里省略了它们。

在 Tracing LogCat 中，我看到调用 MySQLitehelper 类的 helper.open() 方法时出现空指针异常。我尝试打印语句来跟踪它，并发现程序关闭了以下几行：

```
 public MySQLitehelper open() throws SQLException
 {
    System.out.println("Inside open function");
     db = dbhelper.getReadableDatabase();  // even tried helper.getWritableDatabase()
    return this;
 } 
```

并在线路停止时

```
 db = dbhelper.getReadableDatabase(); 
```

遇到。这是我的代码：

/* --------------MySQLitehelper.java 代码 -----*/

```
public class MySQLitehelper {

//public static final String TABLE_COMMENTS = "comments";
  public static final String COLUMN_ID = "GWid";
  public static final String COLUMN_DATE = "date";
  public static final String COLUMN_LOCATION = "location";
  public static final String COLUMN_TIME = "time";

  public static final String TABLE_NAME = "UPDTable";

  private static final String DATABASE_NAME = "UPDdb";
  private static final int DATABASE_VERSION = 1;

  private final Context context;

  // Database creation sql statement
  private static final String DATABASE_CREATE = "CREATE TABLE IF NOT EXISTS " + TABLE_NAME +
                                " (" +COLUMN_ID+ " VARCHAR," + COLUMN_DATE + "VARCHAR," +
                                COLUMN_LOCATION+" VARCHAR," +COLUMN_TIME +" VARCHAR);";

  private static final String DATABASE_INSERT = "INSERT INTO " +TABLE_NAME +
                                                " Values ('47688507','DEC-07-2012','MARVIN 203','20:00');";

  DatabaseHelper dbhelper;
  SQLiteDatabase db;

 public MySQLitehelper(Context ctx)
  {
      this.context = ctx;
  }

 private static class DatabaseHelper extends SQLiteOpenHelper {

     public DatabaseHelper(Context context)
     {
         super(context,DATABASE_NAME, null,DATABASE_VERSION);
     }

 @Override
public void onCreate(SQLiteDatabase db) {
    // TODO Auto-generated method stub
    db.execSQL(DATABASE_CREATE);            //execute create table
    db.execSQL(DATABASE_INSERT);            //execute insert query

}

@Override
public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {
    // TODO Auto-generated method stub
    Log.w(MySQLitehelper.class.getName(),
            "Upgrading database from version " + oldVersion + " to "
                + newVersion + ", which will destroy all old data");
        db.execSQL("DROP TABLE IF EXISTS " + TABLE_NAME);
        onCreate(db);
    }
}

// open the DB
 public MySQLitehelper open() throws SQLException
 {
    System.out.println("Inside open function");
     db = dbhelper.getReadableDatabase();
    return this;
 }

 public void close()
 {
     dbhelper.close();
 }

public Cursor getAllrows()      //function to get all rows in the DB. Testing initially.
{
    //SQLiteDatabase db=this.getReadableDatabase();
    Cursor cur=db.query(TABLE_NAME,new String []{COLUMN_ID, COLUMN_DATE,
            COLUMN_LOCATION,COLUMN_TIME},null,null,null,null, null);

     return cur;
}

  } 
```

/ *------------- SelectOptions.java 类 ------------------* /

```
 public class SelectOptions extends Activity {

Button btnView, btnDrop, btnLocation;

@Override
protected void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.activity_select_options);

    Intent intent = getIntent();
    String message = intent.getStringExtra(MainActivity.EXTRA_MESSAGE);

    btnView = (Button)findViewById(R.id.btnViewShift);
    btnDrop = (Button)findViewById(R.id.btnDropShift);
    btnLocation = (Button)findViewById(R.id.btnViewLocation);

    final MySQLitehelper helper = new MySQLitehelper(this);

    btnView.setOnClickListener(new View.OnClickListener() {

        @Override
        public void onClick(View arg0) {

            helper.open();
            Cursor c = helper.getAllrows();
              if (c.moveToFirst()) {
             do {

                 System.out.println("In Do while");
                 DisplayRecord(c); 

             } while (c.moveToNext());
          }
            helper.close(); 
            System.out.println("Out of Do");

        }  
    });

}

public void DisplayRecord(Cursor c)
{
    System.out.println("In side toast display function");
    Toast.makeText(this, "id: "+c.getString(0)+"\n"+
            "Date: "+c.getString(1)+"\n"+
            "Location: "+c.getString(2)+"\n"+
            "Time: "+c.getString(3), Toast.LENGTH_LONG).show();
}

    } 
```

**日志猫**

```
11-29 06:18:01.393: I/System.out(8162): Inside open function
11-29 06:18:01.453: E/SQLiteLog(8162): (1) no such column: date
11-29 06:18:01.453: D/AndroidRuntime(8162): Shutting down VM
11-29 06:18:01.463: W/dalvikvm(8162): threadid=1: thread exiting with uncaught exception (group=0x40a70930)
11-29 06:18:01.503: E/AndroidRuntime(8162): FATAL EXCEPTION: main
11-29 06:18:01.503: E/AndroidRuntime(8162): android.database.sqlite.SQLiteException: no such column: date (code 1): , while compiling: SELECT GWid, date, location, time FROM UPDTable
11-29 06:18:01.503: E/AndroidRuntime(8162):     at android.database.sqlite.SQLiteConnection.nativePrepareStatement(Native Method)
11-29 06:18:01.503: E/AndroidRuntime(8162):     at android.database.sqlite.SQLiteConnection.acquirePreparedStatement(SQLiteConnection.java:882)
11-29 06:18:01.503: E/AndroidRuntime(8162):     at android.database.sqlite.SQLiteConnection.prepare(SQLiteConnection.java:493)
11-29 06:18:01.503: E/AndroidRuntime(8162):     at android.database.sqlite.SQLiteSession.prepare(SQLiteSession.java:588)
11-29 06:18:01.503: E/AndroidRuntime(8162):     at android.database.sqlite.SQLiteProgram.<init>(SQLiteProgram.java:58)
11-29 06:18:01.503: E/AndroidRuntime(8162):     at android.database.sqlite.SQLiteQuery.<init>(SQLiteQuery.java:37)
11-29 06:18:01.503: E/AndroidRuntime(8162):     at android.database.sqlite.SQLiteDirectCursorDriver.query(SQLiteDirectCursorDriver.java:44) 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-29T05:49:36.290

你没有初始化你的 dbhelper 实例

将此语句写入您的 MySQLitehelper() 构造函数

```
dbhelper = new DatabaseHelper(ctx); 
```

完整代码

```
public MySQLitehelper(Context ctx)
{
      this.context = ctx;
    dbhelper = new DatabaseHelper(ctx);
} 
```

**已编辑**

您的插入查询在最后一个值 20:00 处错误，应为“20:00”

```
private static final String DATABASE_INSERT = "INSERT INTO " +TABLE_NAME +
                                                " Values ('47688507','DEC-07-2012','MARVIN 203','20:00');"; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-29T05:50:33.340

你得到了 NULLPointer 异常，因为你没有在 MySQLitehelper 构造函数中实例化**dbHelper**对象。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-29T06:23:18.980

下面的行中存在语法错误。20:00 参数的格式无效。应该是字符串“20:00”或有效整数或浮点数 - 20.0

```
 enter code here`private static final String DATABASE_INSERT = "INSERT INTO " +
      TABLE_NAME +    " Values ('47688507','DEC-07-2012','MARVIN 203',20:00);"; 
```

# javascript - javascript中的只读选项，然后禁用复选框属性

> ID：13619590
> 
> 赞同：0
> 
> 时间：2012-11-29T05:43:59.043
> 
> 标签：javascript, jquery, html, css

谁能告诉我复选框的只读选项是什么，因为我想提交复选框的值，同时想要实现禁用属性的功能，但使用禁用不会提交值，我认为只读不是在复选框中工作。

请帮我。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-29T07:15:59.613

你可以试试这样的

```
<form action = "your url here" method = "POST">
   NonEditableValue<input type = "checkbox"/ id = "mycheckbox" value = "ValueIwantChecked">
    <input type = "submit" id = "somebutton" value = "Get CheckBox Value" />
</form> 
```

​Javascript

```
$("#somebutton").click(function(e){
    var ischecked = $('#mycheckbox').attr('checked')?true:false;
    if(!ischecked){
        e.preventDefault();
        alert("Please select value");
    }
    else{
        $("#mycheckbox").attr("disabled","true");
        alert($("#mycheckbox").val());
    }
}); 
```

这将禁用提交时的复选框，并且javascript“else”中的警报给出复选框的值。因此该值被保留。

希望这可以帮助 ..

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-29T05:47:09.403

试试这个

```
<input name="chkbox1" type=checkbox readonly>check box 1</input> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-29T05:47:28.000

当您想禁用单击时，只需返回 false：

```
 <input type="checkbox" onclick="return false"/> 
```

这将确保您无法更改复选框的值

# php - 在子类 PHP 中更正确的 parent::method() 或 $this->method()

> ID：13619598
> 
> 赞同：0
> 
> 时间：2012-11-29T05:44:37.873
> 
> 标签：php, class, extend

调用父类函数的更正确方法是什么？`parent::`还是`$this->`？

```
class base{

    public function get_x(){
        return 'x'; 
    }
}

class child extends base{

    public function __construct(){
        //this?
        $x = parent::get_x();
        //or this?
        $x = $this->get_x();
    } 

} 
```

谢谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-29T06:44:42.910

没有“更正确”的合成器，因为它们有自己的意义。

`$this->`表示“当前对象”，所以如果一个方法被覆盖，这就是你要调用的方法。

`parent::`意思是“父母的行为”。当你重写一个方法并且你想为父母的行为添加一些东西时，它很有用。

因此，如果您在类中的某个地方`child`覆盖了 get_x 方法并且您只想要父级的行为，请使用 parent:: 如果没有，请使用 $this。

我会通过说通常建议不要在构造函数中调用*非最终方法*来结束这个答案，因为任何人都可以通过扩展它来重新定义行为。

# mysql - 在另一个表中使用常量进行除法的问题

> ID：13619599
> 
> 赞同：0
> 
> 时间：2012-11-29T05:44:42.803
> 
> 标签：mysql, sql

我正在显示记录的压力值。

我总是将压力作为 PSI 存储在我的数据库中，知道我可以通过除以 14.5 将其转换为 BAR

所以，我有一个叫表`configuration`和一个叫表`measurements`，我想说 `SELECT pressure DIV my_db.configuration.conversion_factor AS pressure FROM my_db.measurements WHERE ...`，我的前端 s/w 将`my_db.configuration.conversion_factor`酌情设置为 1 或 14.5。

但我收到一个错误`unknown column 'my_db.configuration.conversion_factor' in 'filed list'`。

由于我被剪切/粘贴，我怀疑这是拼写错误 - 那么我的查询有什么问题？

* * *

[更新] @JimGarrison 让我走上了正确的道路。我需要的是

`SELECT pressure DIV (SELECT conversion_factor FROM my_db.configuration WHERE 1) AS pressure FROM my_db.measurements WHERE ...`

注意：我会`WHERE 1`为将来阅读此问题的任何人添加此内容；我在配置表中只有一行，所以我不需要`WHERE`- 但你可能..

谢谢，吉姆

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-29T05:49:44.590

您不能像这样引用第二个表中的字段。 `my_db.configuration`是一个有行和列的表。SQL 如何知道您要使用哪一行？

我认为你正在寻找的是

```
select pressure div (select conversion_factor from my_db.configuration where <???>=<???>) ... 
```

where`<???>`是您从 conversion_factor 表中放置要使用的条目的键列名称和值的位置。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-29T05:51:43.627

您必须在 FROM 子句中列出您要引用的所有表——在本例中*为*FROM 子句。

```
SELECT pressure DIV my_db.configuration.conversion_factor AS pressure
  FROM my_db.measurements
 CROSS JOIN my_db.configuration
 WHERE ... 
```

假设您的配置表中只有一行，则使用 CROSS JOIN。它不需要连接条件。

[或者您可以使用Jim Garrison](https://stackoverflow.com/users/18157/jim-garrison)在他的[回答](https://stackoverflow.com/a/13619657/15168)中建议的子选择。它可能更清洁。但请注意，他在 FROM 子句中引用了配置表。

# python - 如何在django中生成临时文件然后销毁

> ID：13619600
> 
> 赞同：35
> 
> 时间：2012-11-29T05:44:45.780
> 
> 标签：python, django

我正在做一些文件处理和生成文件，我需要从现有数据生成一些临时文件，然后将该文件用作我的函数的输入。

但我很困惑我应该在哪里保存该文件然后删除它。

是否有任何临时位置在用户会话后自动删除文件

* * *

## 回答 #1

> 赞同：51
> 
> 时间：2012-11-29T05:49:33.730

Python 具有用于此目的的[tempfile 模块](https://docs.python.org/library/tempfile.html)。您无需担心文件的位置/删除，它适用于所有支持的平台。

临时文件分为三种：

*   `tempfile.TemporaryFile`- 只是基本的临时文件，
*   `tempfile.NamedTemporaryFile`- "*这个函数的操作和原来的完全一样`TemporaryFile()`，除了保证文件在文件系统中有一个可见的名称（在 Unix 上，目录条目没有取消链接）。这个名称可以从文件对象的 name 属性中检索。* ",
*   `tempfile.SpooledTemporaryFile`- "*此函数的操作方式与此完全相同`TemporaryFile()`，只是数据在内存中进行假脱机处理，直到文件大小超过`max_size`，或者直到`fileno()`调用文件的方法，此时内容被写入磁盘并且操作与`TemporaryFile()`.* "一样继续。

**编辑**：您要求的示例用法可能如下所示：

```
>>> with TemporaryFile() as f:
        f.write('abcdefg')
        f.seek(0)  # go back to the beginning of the file
        print(f.read())

abcdefg 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-29T05:49:03.187

你应该使用[`tempfile`](http://docs.python.org/2/library/tempfile.html#module-tempfile)模块中的一些东西。我认为它有你需要的一切。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2020-06-18T18:50:54.810

我要补充一点，Django 在 django.core.files.temp 中有一个内置的 NamedTemporaryFile 功能，建议 Windows 用户使用 tempfile 模块。[这是因为 Django 版本利用了 Windows 中的 O_TEMPORARY 标志，它可以防止在](https://github.com/django/django/blob/master/django/core/files/temp.py)没有提供相同标志的情况下重新打开文件，如代码库中所述。

使用它看起来像：

```
from django.core.files.temp import NamedTemporaryFile

temp_file = NamedTemporaryFile(delete=True) 
```

[这](https://medium.com/@jainmickey/how-to-save-file-programmatically-to-django-37c67d9664b5)是一个关于它和使用内存文件的不错的小教程，[感谢 Mayank Jain](https://www.jainmickey.in/)。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2018-09-24T18:22:31.883

我刚刚添加了一些重要的更改：将 str 转换为字节和一个命令调用，以显示在给定路径时外部程序如何访问文件。

```
import os
from tempfile import NamedTemporaryFile
from subprocess import call

with NamedTemporaryFile(mode='w+b') as temp:
    # Encode your text in order to write bytes
    temp.write('abcdefg'.encode())
    # put file buffer to offset=0
    temp.seek(0)

    # use the temp file
    cmd = "cat "+ str(temp.name)
    print(os.system(cmd)) 
```

# php - php中最后一个位置的子字符串

> ID：13619604
> 
> 赞同：0
> 
> 时间：2012-11-29T05:45:03.223
> 
> 标签：php, string

我想要一个来自 php 中字符串的子字符串，其中包含起始位置和最后位置而不是长度。因为我们在 php 中有函数 substr($str,$start_position,$length); 但我想要 $last_postion 而不是 $length 因为我不知道起始位置后的长度，因为它是可变的。例如 $str = 2012 年 10 月 8 日 $str = 2012 年 2 月 2 日

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-29T05:49:50.680

尝试使用这个：

```
substr($str,$start_position,$last_postion-$start_position); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-29T05:50:19.713

```
substr($str, $start_position, $last_postion-$start_position) 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-29T05:52:29.750

好吧，如果您不知道确切的长度，则需要先使用 strpos 。[http://php.net/manual/en/function.strpos.php](http://php.net/manual/en/function.strpos.php)

您使用 strpos($the_string, $the_string_to_find) 来查找您要查找的字符，然后使用 $length 中的返回值作为 substr。

但是正如@john 所说，如果您尝试操作日期或从日期字符串中获取某些值，那么使用 strtotime("october 8th, 2012") 会容易一百倍。然后，您可以根据需要格式化该日期，或使用第二个乘数对其进行加/减。

# html - 在什么情况下，Web 浏览器会抱怨 HTML 中的错误？

> ID：13619610
> 
> 赞同：0
> 
> 时间：2012-11-29T05:45:30.260
> 
> 标签：html, parsing, firefox, browser

我在编写 HTML 方面没有太多经验。据我所知，现代网络浏览器不会抱怨一些错误，例如：

```
<html>
<ol>
<li> ordered item 1
<li> ordered item 2
</ul>

<ul>
<li> unordered item 1
<li> unordered item 2
</ul>
</html> 
```

`<ol>`它不会报告和之间的不匹配错误`</ul>`，而是将页面呈现如下：

*   订购项目 1*   订购项目 2
    *   未订购的项目 1
    *   未订购的项目 2

    我想知道：

    无论 HTML 中有什么错误，Web 浏览器都会呈现网页吗？

    IE

    在哪些情况下，Web 浏览器会抱怨 HTML 中的错误？

    此外，HTML5 规范是否需要这种无错误报告？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-29T06:03:38.207

答案在于**HTML**和**XHTML**之间的区别。

HTML5 的关键是要有一个规范来同时作为 text/html 和 application/xhtml+xml。这解决了 XHTML 的一些历史问题，如果一个人在 2005 年进入 Web 开发，这些问题是非常紧迫的。我将把这方面的研究留给读者作为练习。

如果您将 HTML5 内容作为**XML**提供（即使用 mime 类型 application/xhtml+xml），那么您可以预期客户端在解析时会失败并出现错误：

```
XML Parsing Error: mismatched tag. Expected: </ol>. 
```

或者**，如果您只是将其作为常规文本/html 提供，您可以期望在格式不佳的文档上出现标准的未定义浏览器行为**。

我想明确指出，当 Web 浏览器显示损坏的 html 文档时，它们不一定能正常工作。像这样不匹配的标签通常会导致页面显示异常。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-29T08:11:41.057

> 无论 HTML 中有什么错误，Web 浏览器都会呈现网页吗？

在 HTML 序列化中，现代浏览器遵循一种旨在容忍标记错误的解析算法，并将呈现它对完整输入流的任何内容。

在 XHTML 序列化中，解析必须遵循 XML 解析规则。这意味着如果它遇到格式正确的错误，它**必须**停止解析输入流。浏览器**不需要**报告错误（Firefox 会，IE9 不会），并且可以选择简单地呈现它在必须停止解析时构建的任何 DOM，并保持 HTML5 符合性。

> 在哪些情况下，Web 浏览器会抱怨 HTML 中的错误？

实际上，浏览器不会报告错误，除了在使用 XHTML 序列化时出现的 XML 格式错误，而且只是有时。如果他们这样做了，那么他们就是在告诉用户，他们对作者在编写页面时是否犯了错误一点也不感兴趣。用户想要的只是访问内容。

> 此外，HTML5 规范是否需要这种无错误报告？

不，不是。浏览器有权报告此类错误。HTML 序列化解析算法非常清楚何时发生错误。在您加价的情况下，相关规则说：

> **一个结束标签，其标签名称是以下之一：“address”、“article”、“aside”、“blockquote”、“button”、“center”、“details”、“dialog”、“dir”、“div”、 “dl”、“fieldset”、“figcaption”、“figure”、“footer”、“header”、“hgroup”、“listing”、“menu”、“nav”、“ol”、“pre”、“section ", "摘要", "ul"**
> 
> 如果打开元素的堆栈在范围内没有与标记名称相同的元素，那么**这是一个解析错误**；忽略令牌。
> 
> ...

那么处理解析错误的规则并不要求浏览器要么报告它们，要么不报告它们。验证者必须报告至少一个这样的解析错误，

# objective-c - 对象共享的实例变量？

> ID：13619614
> 
> 赞同：0
> 
> 时间：2012-11-29T05:46:00.603
> 
> 标签：objective-c

我声明了一个实例变量（**不是**静态的），只是 @implementation 部分中的一个常规变量。当我从几个对象访问该变量时，似乎所有对象都共享同一个变量，就好像我已将其声明为静态一样！

然后我将实例变量更改为（强）属性（在 .m 文件中定义以使其成为私有），它开始按预期工作，每个对象都有自己单独的属性版本。

这种奇怪的“分享”行为是怎么回事？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-29T05:57:49.703

您没有声明实例变量。您定义了一个全局变量。你这样做了：

```
@implementation MyObject

int myVariable; 
```

但你应该这样做：

```
@implementation MyObject {
    int myVariable;
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-29T06:01:02.547

在 @implementation 中定义常规 var 时，您定义了一个全局变量。例如，在 am 中，您定义：

```
@implementation classA

int tryMe = 99; 
```

然后在 bm 中，您也使用 tryMe：

```
@implementation classB

-(void) func {
    extern int tryMe;
    NSLog(@"%i", tryMe); // This will print 99.
} 
```

但是如果你在 am 中使用“static”，那么你会得到构建错误，你会被告知找不到“tryMe”。因为“静态”使变量成为定义变量的文件的本地变量。

同时，如果将 var 定义为属性，则 var 是类的成员，因此类的每个实例都有自己的 var 副本。

# api - 如何通过 api 调用完成多个订单？

> ID：13619619
> 
> 赞同：1
> 
> 时间：2012-11-29T05:47:03.487
> 
> 标签：api, e-commerce, shopify

我想在 api 调用的帮助下一次完成多个订单。我不想每次都为每条记录调用 api。有什么方法或任何 api 可以这样做。每次为每个履行调用 api 都非常耗时。如果有人知道如何通过 api 调用完成多个订单，请回复。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-29T21:26:13.547

1.  使用您的合作伙伴帐户和应用程序编辑屏幕添加指向订单操作下拉列表的链接。

勾选的任何订单都将使用他们的 ID 进入您的应用程序

1.  对于您的应用收到的每个 ID，使用您想要的订单 ID 和履行选项调用 API Fulfillment 端点

# freebase - 是否有完整的 Freebase 转储可用，其中还包括架构？

> ID：13619620
> 
> 赞同：1
> 
> 时间：2012-11-29T05:47:07.530
> 
> 标签：freebase, mql

是否有任何包含所有数据以及模式的 Freebase 转储？它应该具有完整的 Freebase 数据，就好像它部署在 Metaweb 中一样。有没有可用的转储？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-29T13:31:32.703

四元转储包括架构：

```
$ bzgrep $'/type/object/type\t/type/type' freebase-datadump-quadruples.tsv.bz2
/m/01xxrl4      /type/object/type       /type/type
/m/01xxwk6      /type/object/type       /type/type
/m/01y1zzx      /type/object/type       /type/type
/m/021_hyv      /type/object/type       /type/type
/m/0252jv4      /type/object/type       /type/type
/m/0252jw2      /type/object/type       /type/type
/m/0252jx0      /type/object/type       /type/type
/m/025dnqw      /type/object/type       /type/type
/m/0290pj9      /type/object/type       /type/type 
```

可从[http://download.freebase.com/datadumps/latest/freebase-datadump-quadruples.tsv.bz2 获得](http://download.freebase.com/datadumps/latest/freebase-datadump-quadruples.tsv.bz2)

# ios - 如何在 iOS 中突出显示或更改文本颜色？

> ID：13619628
> 
> 赞同：1
> 
> 时间：2012-11-29T05:47:27.470
> 
> 标签：ios, uiwebview, nsstring, uitextview

我想突出显示或更改文本中某些单词的颜色，例如当您搜索一个术语时，您会在搜索结果中获得突出显示的单词。我知道我不能用 NSStrings 做到这一点，但我将如何做到这一点？我想在 UITextView 中显示文本，但如果需要，可以执行其他选项。

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-29T05:58:03.797

在 iOS 6 中您*可以*这样做，因为 iOS 6 现在允许 UITextView（以及 UILabel、UIButton 等）显示样式文本（NSAttributedString）。你用这个词给这个词上色，用`NSForegroundColorAttributeName`它的背景上色，`NSBackgroundColorAttributeName`然后，你的亮点就出来了。关于这个主题有几个非常好的 WWDC 2012 视频。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-29T05:52:59.703

我现在能想到的唯一方法是使用 UIWebView 并使用 CSS 和 javascript 来突出显示单词。

您可以查看此[堆栈溢出答案](https://stackoverflow.com/a/8644513/454165)，了解如何使用 jQuery 和 CSS 突出显示文本的示例。

你也可以检查这个[例子](http://www.nsftools.com/misc/SearchAndHighlight.htm)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-29T06:00:24.810

我更喜欢使用 EgoTextView，您可以更改文本范围的颜色。[请在此处](http://www.cocoacontrols.com/platforms/ios/controls/egotextview)检查代码。

# sammy.js - 何时使用多个 Sammy.js 应用程序？

> ID：13619629
> 
> 赞同：3
> 
> 时间：2012-11-29T05:47:30.613
> 
> 标签：sammy.js

当我了解 Sammy.js 时，我读到您可以在同一页面中拥有多个 Sammy.js 应用程序，每个应用程序都绑定到不同的元素（即 div）。我想了解为什么这会有用。

我在[另一篇文章](https://stackoverflow.com/questions/3899335/why-does-sammy-js-never-use-post-route)中读到，只有在绑定元素内的表单才会触发路由更改，我认为这可以用来模块化您的应用程序。除此之外还有其他用例吗？您能否提供一个如何以这种方式模块化您的应用程序的示例？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-10T14:54:24.973

前段时间，我们在 Silverlight 应用程序中实现了一个类似于 Sammy 的组件。相似之处在于两者都代表一种可以绑定到 UI 区域的简单浏览器。这种方法给我们带来了几个好处：

1.  我们有一种可扩展的方式来添加新的内容实现。我的意思是我们可以将插件添加到我们的应用程序中，其中包含应用程序核心不知道的新表单/视图。
2.  我们可以轻松实现复合视图，例如能够显示在任何模块中实现的任何视图的仪表板。包括他们自己。（啊哈，我们创建了递归仪表板，直到应用程序达到内存限制为止。有点像 Inception。:)）

Sammy 也可以用来实现这些目标。

但是，您必须了解，在一个页面上运行的所有 Sammy 应用程序中，只有一个可以绑定到浏览器位置栏。其他人的位置仅对 javascript 可见，或者您需要在页面上为它们呈现位置栏。

# arrays - 创建 3 维切片（或超过 3 个）

> ID：13619633
> 
> 赞同：2
> 
> 时间：2012-11-29T05:47:54.887
> 
> 标签：arrays, go, slice

如何在 Go 中创建 3（或更多）维切片？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-11-29T05:47:54.887

```
var xs, ys, zs = 5, 6, 7 // axis sizes
var world = make([][][]int, xs) // x axis
func main() {
    for x := 0; x < xs; x++ {
        world[x] = make([][]int, ys) // y axis
        for y := 0; y < ys; y++ {
            world[x][y] = make([]int, zs) // z axis
            for z := 0; z < zs; z++ {
                world[x][y][z] = (x+1)*100 + (y+1)*10 + (z+1)*1
            }
        }
    }
} 
```

这显示了更容易制作 n 维切片的模式。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-11-29T06:49:24.660

你确定你需要一个多维切*片*吗？如果 n 维空间的维度在编译时是已知的/可导出的，那么使用数组会更容易并且运行时访问性能更好。例子：

```
package main

import "fmt"

func main() {
        var world [2][3][5]int
        for i := 0; i < 2*3*5; i++ {
                x, y, z := i%2, i/2%3, i/6
                world[x][y][z] = 100*x + 10*y + z
        }
        fmt.Println(world)
} 
```

（也在[这里](http://play.golang.org/p/ZOzLYEYDSm)）

* * *

输出

```
[[[0 1 2 3 4] [10 11 12 13 14] [20 21 22 23 24]] [[100 101 102 103 104] [110 111 112 113 114] [120 121 122 123 124]]] 
```

# datetime - Powershell脚本根据某些条件重命名TXT文件

> ID：13619636
> 
> 赞同：-1
> 
> 时间：2012-11-29T05:48:04.710
> 
> 标签：datetime, powershell, recursion, rename

我意识到很可能下面列出的每个要求都可以在此处的论坛中单独获得，但我正在努力将它们整合在一起（如果可能的话！）。

希望有人有耐心和时间为我指明正确的方向以实现这一目标。

* * *

我需要做的是以下几点：

1.  扫描目录（和所有子目录）以查找特定文件名

    **注意：虽然子目录中有许多文件名有问题，但我们只希望定位那些后缀为****JERRY** 的子目录中的文件

     **IE。在下面的示例中，箭头指示的文件将被定位

    ```
    ONE\NEW1-JERRY\FILENAME.TXT   <----
    ONE\NEW1-TOM\FILENAME.TXT
    ONE\NEW1-SYLVESTER\FILENAME.TXT
    TWO\NEW2-JERRY\FILENAME.TXT    <----
    TWO\NEW2-TOM\FILENAME.TXT
    TWO\NEW2-SYLVESTER\FILENAME.TXT
    THREE\NEW3-JERRY\FILENAME.TXT    <----
    THREE\NEW3-TOM\FILENAME.TXT
    THREE\NEW3-SYLVESTER\FILENAME.TXT
    FOUR\NEW4-JERRY\FILENAME.TXT    <----
    FOUR\NEW4-TOM\FILENAME.TXT
    FOUR\NEW4-SYLVESTER\FILENAME.TXT 
    ```** 
***   当找到与文件名匹配的文件并且位于上面列出的子目录中时，获取文件的副本（保留在同一目录中）并根据以下条件重命名：

    a) 创建日期/时间

    b) 文件中的某些内容

    文件中的内容始终位于第 8 行，并且是前 9 个字符

    **原始文件名：** FILENAME.txt

    **成品：** FILENAME- *20121129@1300* -123456789.txt** 

 *** * *

### **提前致谢！**

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-29T07:36:59.270

你应该告诉我们到目前为止你尝试了什么以及你的电源问题是什么......试试这个：（删除 -whatif 标志以实际复制文件）

```
#list dir & subdirs
ls c:\ -recurse |
    Foreach { 
        #find subdirs named JERRY
        if($_.PSIsContainer -and $_.name -match "JERRY"){
            ls $_.fullname -filter 'FILENAME*' |
            Foreach{ 
                $fcontent=get-Content $_.FullName
                $content=$fcontent[7].Substring(0,9)
                $newName=Get-Date -UFormat "%Y%m%d"
                $destination="$($_.Directory)\$newName@$content.txt"
                write-verbose $destination
                Copy-Item $_.FullName -Destination $destination -WhatIf 
            }  
        }
    } 
```**

# susy-compass - Susy：带有固定排水沟的流体柱？

> ID：13619637
> 
> 赞同：4
> 
> 时间：2012-11-29T05:48:08.720
> 
> 标签：susy-compass

我正在尝试用流体柱和固定排水沟构建一个 12 列网格。随着窗口大小的调整，列会改变宽度，但排水沟将保持不变。基本上，列的百分比，排水沟的 ems。

苏西有可能吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-29T22:10:57.163

您可以使用填充作为排水沟，并允许您拥有固定的“间距”，同时保持网格的流动性。但是，如果您需要不延伸到“排水沟”区域的背景，这将迫使您添加额外的标记。

# php - PHP设置正确的时区

> ID：13619638
> 
> 赞同：0
> 
> 时间：2012-11-29T05:48:09.707
> 
> 标签：php, timezone

我有以下代码

`date("D j M g a", strtotime($start))." - " . date("ga", strtotime($finish));`

```
`["Start"]=>
        string(21) "/Date(1354323600000)/"
        ["End"]=>
        string(21) "/Date(1354326300000)/"
      }` 
```

上面的代码`Thu 1 Jan 12 pm - 12pm" string(22) "Thu 1 Jan 12 pm - 12pm`以我想要的正确格式输出，但我怎样才能得到正确的日期和时间。

`Pacific/Auckland`是我的时区

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-29T07:40:53.503

问题是您传递给`strtotime`-`/Date(1354323600000)/`字符串的内容不是`strtotime`函数的有效格式。

实际上它是一个以毫秒为单位的常规 unix 时间戳。

所以显而易见的解决方案 - 是清理除数字之外的所有内容并将其除以 1000：

```
$unix_time_with_ms = preg_replace('~\D~', '', $date);
echo date('Y-m-d H:i:s', $unix_time_with_ms / 1000); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-29T05:52:38.807

最好在文件中设置默认时区，`php.ini`如下所示：

```
date.timezone = "Pacific/Auckland" 
```

如果由于某种原因您无法编辑`php.ini`，那么您可以在 PHP 脚本之上设置一个时区（仅对该脚本有效）：

```
date_default_timezone_set('Pacific/Auckland'); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-29T05:53:05.287

您可以使用设置时区

```
date_default_timezone_set('America/Los_Angeles'); 
```

更多[链接](http://php.net/manual/en/function.date-default-timezone-set.php)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-29T05:54:52.300

如果你想在脚本中设置试试

`date_default_timezone_set`— 设置脚本中所有日期/时间函数使用的默认时区

```
date_default_timezone_set('America/Los_Angeles'); 
```

但是如果你想使用相同的时区而不是在 php.ini 中设置将是更好的解决方案

```
 date.timezone = "America/Los_Angeles" 
```

# ruby - 使用 Selenium Ruby Webdriver 运行脚本时，浏览器关闭然后打开一些时间，然后完全关闭

> ID：13619641
> 
> 赞同：0
> 
> 时间：2012-11-29T05:48:14.850
> 
> 标签：ruby, browser, selenium, webdriver

运行 Selenium Ruby Webdriver 脚本时遇到问题，如下所示：

Selenium 完成运行我的脚本后，浏览器关闭（这是预期的行为）。但是，紧接着，浏览器重新打开，什么也不做，然后关闭，不断地，浏览器重新打开然后关闭。在浏览器（FF16，或 IE9，或 Chrome）完全关闭之前，这件事重复了大约 4 次。

每次打开和关闭浏览器时都会显示以下日志消息。请注意，我正在使用 @driver.quit 来关闭浏览器。请帮助指导我需要做些什么来克服这种不便的情况。非常感谢。

```
*** LOG addons.xpi: shutdown
E*** LOG addons.manager: Application has been upgraded
*** LOG addons.xpi: startup
*** LOG addons.xpi: Skipping unavailable install location app-system-local
*** LOG addons.xpi: Skipping unavailable install location app-system-share
*** LOG addons.xpi: checkForChanges
*** LOG addons.xpi-utils: Opening database
*** LOG addons.xpi-utils: Creating database schema
*** LOG addons.xpi: New add-on fxdriver@googlecode.com installed in app-prof
*** Blocklist::_loadBlocklistFromFile: blocklist is disabled
*** LOG addons.xpi: New add-on {82AF8DCA-6DE9-405D-BD5E-43525BDAD38A} instal
in app-global
*** LOG addons.xpi: New add-on {972ce4c6-7e08-4474-a285-3208198ce6fd} instal
in app-global
*** LOG addons.xpi: Updating database with changes to installed add-ons
*** LOG addons.xpi-utils: Updating add-on states
*** LOG addons.xpi-utils: Writing add-ons list
*** LOG addons.xpi: shutdown
*** LOG addons.xpi-utils: shutdown
*** LOG addons.xpi-utils: Database closed
*** LOG addons.xpi: startup
*** LOG addons.xpi: Skipping unavailable install location app-system-local
*** LOG addons.xpi: Skipping unavailable install location app-system-share
*** LOG addons.xpi: checkForChanges
*** LOG addons.xpi: No changes found
*** Blocklist::_loadBlocklistFromFile: blocklist is disabled
!!! error running onStopped callback: TypeError: callback is not a function
*** LOG addons.xpi: shutdown
E*** LOG addons.manager: Application has been upgraded
*** LOG addons.xpi: startup
*** LOG addons.xpi: Skipping unavailable install location app-system-local
*** LOG addons.xpi: Skipping unavailable install location app-system-share
*** LOG addons.xpi: checkForChanges
*** LOG addons.xpi-utils: Opening database
*** LOG addons.xpi-utils: Creating database schema
*** LOG addons.xpi: New add-on fxdriver@googlecode.com installed in app-prof
*** Blocklist::_loadBlocklistFromFile: blocklist is disabled
*** LOG addons.xpi: New add-on {82AF8DCA-6DE9-405D-BD5E-43525BDAD38A} instal
in app-global
*** LOG addons.xpi: New add-on {972ce4c6-7e08-4474-a285-3208198ce6fd} instal
in app-global
*** LOG addons.xpi: Updating database with changes to installed add-ons
*** LOG addons.xpi-utils: Updating add-on states
*** LOG addons.xpi-utils: Writing add-ons list
*** LOG addons.xpi: shutdown
*** LOG addons.xpi-utils: shutdown
*** LOG addons.xpi-utils: Database closed
*** LOG addons.xpi: startup
*** LOG addons.xpi: Skipping unavailable install location app-system-local
*** LOG addons.xpi: Skipping unavailable install location app-system-share
*** LOG addons.xpi: checkForChanges
*** LOG addons.xpi: No changes found
*** Blocklist::_loadBlocklistFromFile: blocklist is disabled
!!! error running onStopped callback: TypeError: callback is not a function
*** LOG addons.xpi: shutdown
E*** LOG addons.manager: Application has been upgraded
*** LOG addons.xpi: startup
*** LOG addons.xpi: Skipping unavailable install location app-system-local
*** LOG addons.xpi: Skipping unavailable install location app-system-share
*** LOG addons.xpi: checkForChanges
*** LOG addons.xpi-utils: Opening database
*** LOG addons.xpi-utils: Creating database schema
*** LOG addons.xpi: New add-on fxdriver@googlecode.com installed in app-prof
*** Blocklist::_loadBlocklistFromFile: blocklist is disabled
*** LOG addons.xpi: New add-on {82AF8DCA-6DE9-405D-BD5E-43525BDAD38A} instal
in app-global
*** LOG addons.xpi: New add-on {972ce4c6-7e08-4474-a285-3208198ce6fd} instal
in app-global
*** LOG addons.xpi: Updating database with changes to installed add-ons
*** LOG addons.xpi-utils: Updating add-on states
*** LOG addons.xpi-utils: Writing add-ons list
*** LOG addons.xpi: shutdown
*** LOG addons.xpi-utils: shutdown
*** LOG addons.xpi-utils: Database closed
*** LOG addons.xpi: startup
*** LOG addons.xpi: Skipping unavailable install location app-system-local
*** LOG addons.xpi: Skipping unavailable install location app-system-share
*** LOG addons.xpi: checkForChanges
*** LOG addons.xpi: No changes found
*** Blocklist::_loadBlocklistFromFile: blocklist is disabled
!!! error running onStopped callback: TypeError: callback is not a function 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-03T13:51:47.163

发生此问题是因为我在脚本中使用“test_”前缀命名了一些函数。只需从这些函数的名称中删除“test_”前缀，问题就得到了解决。

# php - 带有服务器 API 的 iOS/Android 应用程序来传递信息

> ID：13619642
> 
> 赞同：0
> 
> 时间：2012-11-29T05:48:18.880
> 
> 标签：php, android, iphone, mysql, ios

我正在为 iOS/Android 应用程序开发项目，该应用程序允许用户注册/登录，然后创建/共享并将文件存储到服务器并与其他用户共享。

为了达到这个目的，我一直在关注本教程：[http](http://www.raywenderlich.com/2941/how-to-write-a-simple-phpmysql-web-service-for-an-ios-app) ://www.raywenderlich.com/2941/how-to-write-a-simple-phpmysql-web-service-for-an-ios-app但我发现它非常基本的，在我开始研究之前我需要更多信息。

我的问题是，如何创建一个应用程序，例如 Path: [https://path.com](https://path.com)或 instagram，它允许应用程序使用 API 与服务器同步并在服务器、电话和用户之间传递数据而不向用户提供网站？

是否有任何我们可以用于此目的的预构建开源 php/mysql API？

任何简短的教程来解释执行此操作的步骤（因为直到现在我一直在使用基本的 iOS 应用程序并且不需要与服务器和其他东西进行任何交互）？

在我使用 php/mysql 的项目中，在我的研究中，我发现人们还建议使用 AFnetworking (http://afnetworking.com/) 来替换搁浅的 url 获取，对此有何看法？

我希望对这个问题进行很好的讨论，因为关于这个主题有很多问题，但没有完整的描述性答案！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-29T05:55:59.547

您可以使用 tomcat 创建我们自己的服务器并获取充当您的 url 的路径..并且有许多第三方框架可用于解析或在 iphone 中它们使用 NSJSONSerialization.you 可以阅读此链接的详细信息。 [http://developer.apple.com/library/ios/#documentation/Foundation/Reference/NSJSONSerialization_Class/Reference/Reference.html](http://developer.apple.com/library/ios/#documentation/Foundation/Reference/NSJSONSerialization_Class/Reference/Reference.html)

# internet-explorer-8 - 在 IE 8 和 IE 9 中都进行测试？

> ID：13619644
> 
> 赞同：0
> 
> 时间：2012-11-29T05:48:40.393
> 
> 标签：internet-explorer-8, internet-explorer-9

我需要在 IE8 和 IE9 中测试我的网站的样式。如果我安装 IE9 那么它会升级到 IE8，那么有没有办法同时安装 IE8 和 IE9 呢？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-29T05:59:12.960

使用 Virtual PC 在旧版 IE 上进行测试。

Microsoft 构建了一组不需要激活的具有不同 OS/IE 变体的 VHD。但这些图片将在几个月后过期，您需要下载一套新图片。

[http://www.microsoft.com/en-us/download/details.aspx?id=11575](http://www.microsoft.com/en-us/download/details.aspx?id=11575)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-29T06:27:38.593

感谢您的帮助，现在我有办法在 IE 7、8 和 9 中进行测试。安装 IE 9 后，当我们按 F12 进入开发人员工具时，有一个文档模式选项。在那里，您可以使用所有 IE 7、8 和 9 来测试您的网站。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-29T05:58:27.917

试用[IETester](http://www.my-debugbar.com/wiki/IETester/HomePage)是一款非常适合 Web 开发人员的工具。您可以检查 5.5 到 10 的 Internet Explorer 版本的浏览器兼容性

# html - 如何使用 xhtml 或 html4 在表单中输入日期？

> ID：13619645
> 
> 赞同：1
> 
> 时间：2012-11-29T05:48:45.953
> 
> 标签：html, date, input, xhtml, html4

好吧，我知道在 html5 上更容易，但我必须使用 html4 或 xhtml，而且我无法以某种方式找到没有 html5 的任何信息。谁能帮助并解释我如何输入日期？

```
<input type="text" name ="sometext"> 
```

普通的 html4 或 xhtml 似乎没有日期类型作为输入类型。

提前致谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2014-03-26T20:25:15.140

这个问题已经在其他一些 StackOverflow 线程上被询问和回答，但是当我遇到同样的问题时，这里有更多信息。

使用 jQuery DatePicker 是一个好的开始，但它不会在实际日历弹出窗口之外强制执行格式或最小/最大值完整性。意思是，你可以输入或粘贴一些不好的东西。

这里有 2 个网站链接，这些链接演示了如何在 JS 中使用函数“旧方式”进行操作： [http ://www.javascriptkit.com/script/script2/validatedate.shtml](http://www.javascriptkit.com/script/script2/validatedate.shtml) [http://www.w3resource.com/javascript /form/javascript-date-validation.php](http://www.w3resource.com/javascript/form/javascript-date-validation.php)

这是另一个非常好的方法的 StackOverflow 链接： [Detecting an "invalid date" Date instance in JavaScript](https://stackoverflow.com/questions/1353684/detecting-an-invalid-date-date-instance-in-javascript)

就个人而言，我需要验证和限制最小和最大日期范围（SQL 讨厌 1773 年 1 月 1 日之前的日期，有人在我的应用程序中尝试过）。我将连接一个函数来告诉我日期字符串是否有效，然后将其连接到输入的 onchange 事件。

这是我的 HTML：

我也在使用 ASP.NET 和 jQuery 的 DatePicker，所以对人们来说关键元素是 onblur 事件。

这是 FixValidDate() 函数的 JS：

```
var availableDateFormats = ["mmddyyyy","mm/dd/yyyy","mm-dd-yyyy","yyyy/mm/dd","yyyy-mm-dd"];
function FixValidDate(txtDate,nulls, minDate, maxDate) {
    //debugger;
    formats = 
    {
        'mmddyyyy':{
            're':/^(\d{1,2})(\d{1,2})(\d{4})$/,
            'month': 1,'day': 2, year: 3
        },
        'mm/dd/yyyy':{
            're':/^(\d{1,2})[/](\d{1,2})[/](\d{4})$/,
            'month': 1,'day': 2, year: 3
        },
        'mm-dd-yyyy':{
            're':/^(\d{1,2})[-](\d{1,2})[-](\d{4})$/,
            'month': 1,'day': 2, year: 3
        },
        'yyyy/mm/dd':{
            're':/^(\d{4})[/](\d{1,2})[/](\d{1,2})$/,
            'month': 2,'day': 3, year: 1
        },
        'yyyy-mm-dd':{
            're':/^(\d{4})[-](\d{1,2})[-](\d{1,2})$/,
            'month': 2,'day': 3, year: 1
        }
    }

    dateText = txtDate.value;
    matched = false;
    for(i=0; i<availableDateFormats.length; i++)
    {
        f = formats[availableDateFormats[i]];
        match = dateText.match(f.re);
        if(match)
        {
            matched = true;
            month = match[f.month];
            day = match[f.day];
            year = match[f.year];
            //TODO validate if the numbers make sense
            txtDate.value = month+"/"+day+"/"+year;
        }
    }
    if (!matched && nulls) {
        txtDate.value = "";
        return false;
    } else {
        var timestamp = Date.parse(txtDate.value);

        if (isNaN(timestamp) == false) {
            var d = new Date(timestamp);

            if (minDate != null) {
                if (d < minDate) {
                    txtDate.value = "";
                    return false;    
                }

            }

            if (maxDate != null) {
                if (d > maxDate) {
                    txtDate.value = "";
                    return false;
                }
            }

        } else {
            txtDate.value = "";
            return false;
        }
    }
    return true;
} 
```

这是来自一个我已经使用 JS 大约十年的旧库。你可以很容易地找到另一个 JS 验证函数并将我的替换掉。

在我的函数中，我需要接受多种日期格式，如果格式不正确，我会清空该字段并将用户留在同一个框中。你可以改变它。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-29T05:54:26.093

默认情况下，HTML4 没有任何标签来输入日期。您需要做的就是包含第三方库，如 JQUERY。

查看此示例[http://jqueryui.com/datepicker/](http://jqueryui.com/datepicker/)

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2012-11-29T08:36:23.317

基本`input`元素是 HTML（HTML5 除外）所具有的所有元素。对于所有文本输入，您应该有一个带有关联标记的标签。通常，您还应该包括有关预期输入格式的信息，因为这因语言和文化而异，例如

```
<label for="birth">Date of birth (day/month year):</label>
<input id="birth" type="text" name="birth" size="10"> 
```

您还应该使用 JavaScript 预先检查用户输入客户端，以便在出现数据错误时为用户提供快速响应。自然，检查应该在服务器端重复。

# python-2.7 - 测试 Scipy；得到“numpy.distutils 中没有名为 msvccompiler 的模块；尝试从 distutils”

> ID：13619649
> 
> 赞同：3
> 
> 时间：2012-11-29T05:49:00.567
> 
> 标签：python-2.7

我正在尝试`scipy`通过安装`nose`和输入来测试我的安装

```
import scipy
scipy.test('1','10') 
```

我收到了大约 200 个错误，但其中一个更常见的是：

```
.... No module named msvccompiler in numpy.distutils; trying from distutils
Missing compiler_cxx fix for MSVCCompiler 
```

我已经`MS Virtual Studio 2009`安装（python 2.7 需要）

谁能帮我消除这个错误或告诉我为什么我不能？

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2014-05-31T15:26:21.567

你必须做两件事才能让它找到 Visual Studio 编译器：

1.  在您的环境中，设置 VS90COMNTOOLS=%VS__vvv__COMNTOOLS% 其中**vvv**是您安装的版本。在 stackoverflow 上查看有关 setup.py 和 vcvarsall.bat 的其他相关问题

2.  从 Visual Studio 开发人员命令提示符运行 python。VS 在开始菜单中包含了一个链接。它设置了从命令行运行编译器和相关工具所需的所有环境变量。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2015-05-16T06:42:03.040

最好的解决方案是使用 Anaconda Python 发行版

它拥有大部分工程和数据分析包，并自动设置C++编译器的路径。您可以使用 Anaconda 轻松安装 numpy、scipy、matplotlib 等。它不会显示 vcvarshall.bat 以及 numpy 的 numpy.core.multiarray 错误

# c++ - 使用 Indy comps 检查网络中的远程主机状态

> ID：13619651
> 
> 赞同：0
> 
> 时间：2012-11-29T05:49:06.817
> 
> 标签：c++, c++builder, indy, indy10, c++builder-2010

我有与 Firebird 服务器一起使用的客户端服务器应用程序。每次当客户端连接到服务器时，他们（客户端应用程序）不检查是否有网络连接到服务器所以此时我的应用程序有时会在服务器计算机关闭或服务停止时冻结，所以首先我如果远程主机已打开或在某个端口有任何监听，则需要检查连接....

在建立连接之前，我需要检查它并确保服务器和服务正在使用 Indy 组件运行。

有任何想法吗？我也可以使用 IcmpClient 来 ping 远程主机，然后建立连接，但哪种方式是最佳方式？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-29T07:22:22.423

如果您只想检查是否可以访问服务器计算机，则可以执行“ping”来检查。但是，如果您想检查特定的 TCP 端口是否打开，那么找出它的唯一方法是实际进行正确的连接，这会导致“冻结”程序，而如果没有人则连接超时监听那个端口。

# javascript - Javascript 事件委托——将时间选择器添加到弹出表单

> ID：13619656
> 
> 赞同：0
> 
> 时间：2012-11-29T05:49:39.240
> 
> 标签：javascript, jquery, event-delegation

我正在尝试在[弹出表单中创建一个](http://jqueryui.com/dialog/#modal-form)[时间选择器](http://fgelinas.com/code/timepicker/)。我正在与事件委托作斗争——我能够让时间选择器在表格之外工作，但不能在表格内部工作。

我当前的代码，没有时间选择器弹出：

```
 $(document).ready(function() {
   $('#timepick').timepicker({
     showPeriod: true,
     showLeadingZero: true
   });
 });

$(function() {
    $( "#dialog-form" ).dialog({
        autoOpen: false,
        height: 300,
        width: 350,
        modal: true,
        buttons: {
            "Add Time": function() {
                    $( "#time-table tbody" ).append( "<tr>" +
                        "<td>" + time.value + "</td>" + 
                    "</tr>" ); 
                    $( this ).dialog( "close" );
            },
            Cancel: function() {
                $( this ).dialog( "close" );
            }
        },
    });

    $("#add-time").button().click(function() {
            $( "#dialog-form" ).dialog( "open" );
    });
}); 
```

这在弹出框内不起作用，仅适用于其中的#timepick。我知道我需要以某种方式使用 .on() jquery 函数。

```
 $(document).ready(function() {
            $('#timepick').on("click", function(){
                timepicker({
                showPeriod: true,
                showLeadingZero: true
            });
        }); 
```

也没有工作。

当前试用的粘贴箱：

[http://pastebin.com/gta7TD47](http://pastebin.com/gta7TD47)

编辑：

所以这最有效：

```
 $(document).ready(function() {
          $('#dialog-form').on('click','#time',function() {
            $('#time').timepicker({
                showPeriod: true,
                showLeadingZero: true
            });
          });
        }); 
```

唯一的问题是，它目前需要您单击该框，然后添加事件处理程序，然后单击关闭并重新单击 - 因此在工作之前需要单击。我如何让它立即开火？不知何故使用.trigger()？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-29T06:15:13.137

你没有委派任何事情。您只是将事件直接绑定在 timepick 元素上。
如果你想委托一个事件，你需要一个额外的选择器：

```
$('body').on('click','.allElementsYouNeedSelector',function(){}); 
```

上面的代码将应用匿名回调函数作为事件处理程序，用于在标记中*任何位置*具有该类的*任何*元素上触发的*所有点击事件。* 因此，如果您想委托，请说出您的元素：*`allElementsYouNeedSelector`*`$('body')`
`dialog-form`**

 **```
$('#dialog-form').on('click','*',function()
{//will be called when any child of the #dialog-form is clicked
}); 
```

请注意，如果您使用这样的方法，它会[在](http://api.jquery.com/delegate/)`on`内部转换为[方法](http://api.jquery.com/delegate/)。[`delegate`](http://api.jquery.com/delegate/)

*更新：*
鉴于您的更新，我必须说：为具有唯一 ID 的元素委托事件完全没有意义。也许你可以试试这个：

```
$('#time').on('click',{showPeriod: true,showLeadingZero: true},timepicker); 
```

这会将单击侦听器绑定到`#time`元素，并将该`timepicker`方法作为*事件处理程序*应用，将对象文字`{showPeriod: true,showLeadingZero: true}`作为参数传递，就像您正在做的那样。当然，您可以使用委托来做同样的事情：

```
$('#dialog-form').on('click','*',function()
{//regardles of which child was clicked, apply the timepicker method to #time
    $.timepicker.apply($('#time'),[{showPeriod: true,showLeadingZero: true}]);
}); 
```

和以往一样，为了避免每次调用都扫描 DOM，您可以添加一个闭包

```
$('#dialog-form').on('click','*',(function(time)
{
    return function()
    {
        time = time || $('#time');//in case $('#time') didn't exist when function was created
        $.timepicker.apply(time,[{showPeriod: true,showLeadingZero: true}]);
    };
}($('#time'))); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-29T06:40:48.127

试试这个，

```
$(document).ready(function()
{

$( "#dialog-form" ).dialog({

            autoOpen: false,

            height: 300,

            width: 350,

            modal: true,

            buttons: {

                "Add Time": function() {

                        $( "#time-table tbody" ).append( "<tr>" +

                            "<td>" + time.value + "</td>" + 

                        "</tr>" ); 

                        $( this ).dialog( "close" );

                },

                Cancel: function() {

                    $( this ).dialog( "close" );

                }

            }

        });

        $("#add-time").click(function() { //don't use buttun() here

                $( "#dialog-form" ).dialog( "open" );

        });

         $('#time').timepicker({ //use the correct id attr of text field
                });

});//end of document 
```

/////HTML部分/////

```
<div id="dialog-form" title="Create new user">

    <p class="validateTips">All form fields are required.</p>

    <form>

    <fieldset>

        <label for="time">Time</label>

        <input type="text" id="time" name="time" style="width: 70px;" id="timepick" value="01:30 PM" />

    </fieldset>

    </form>

</div>

 <button id="add-time">Add time</button> 
```

希望这可以帮助**

# node.js - 初学者的 Everyauth 示例

> ID：13619659
> 
> 赞同：0
> 
> 时间：2012-11-29T05:49:56.243
> 
> 标签：node.js, express, mongoose, everyauth

我有一个 NodeJs+Express+Mongo 应用程序。应用程序对模型“项目”进行 CRUD 操作

```
 var Item = new Schema({
    name: { type: String, required: true }
  , description: String
  , status: String
  , price: { type: Number, "default": 0 }
   }); 
```

我想要的是使用**everyauth**（密码——而不是通过facebook、twitter...）来实现**身份验证和授权。任何人都可以***提出*一个简单、易于*理解的教程*和一个适合*初学者的**可执行示例*吗？

 ****** * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-29T06:56:27.957

可能不是您正在寻找的答案，但如果您已经阅读[了官方的everyauth 示例](https://github.com/bnoguchi/everyauth/blob/master/example/server.js)并且仍在寻找更多示例，您或许应该考虑一个不同的项目。

首先，这个问题域一般来说对初学者来说并不是很好。您可能应该首先编写自己的数据库基本身份验证代码，并真正理解这一点，然后再将everyauth 库的复杂性放在此之上。您是否构建了一个基本的 Node/Express/Mongo 应用程序，无需任何身份验证即可执行基本的创建、读取、更新和删除操作？如果没有，请先这样做。这是一个尖端技术堆栈，看起来您也在使用 Mongoose，就其使用 JavaScript 的方式而言，这是另一个高度复杂的 API。

Everyauth 大量使用了一些深层的 javascript 魔法、promise 的高级用法，以及在调试器中难以使用的链接/文字 API，对于初学者来说不一定是最佳 API。

您可能会考虑[PassportJS](http://passportjs.org/)而不是 everyauth，因为它的 API 不那么深奥。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-29T13:17:38.117

我同意彼得的回答，但是如果您确定要走这条路，请查看[mongoose-auth](https://github.com/bnoguchi/mongoose-auth)。这是一个基于everyauth 的mongoose 身份验证插件。*****

# logic - 用 DL 语法编写本体？

> ID：13619660
> 
> 赞同：6
> 
> 时间：2012-11-29T05:50:01.070
> 
> 标签：logic, owl, ontology, protege, description-logic

我刚刚发现了 OWL 和 Protege。在阅读了[这个](http://www.obitko.com/tutorials/ontologies-semantic-web/owl-dl-semantics.html)参考页面（我在下面引用）后，我想知道是否可以*不*使用抽象的 OWL 语法，而是用 DL 语法编写。我的背景是逻辑，所以听起来即使我以后必须翻译本体也会更有趣（尽管我确信必须有应用程序来做到这一点——此外，[推理者不使用 DL](http://www.obitko.com/tutorials/ontologies-semantic-web/reasoning.html)吗？）。

如果可能的话，我应该在 Protege（或您建议的其他软件）中使用什么设置配置才能做到这一点？我怀疑这是不可能的，但我想确定一下，因为除了特殊符号的尴尬之外，我认为没有什么好的理由。

**编辑：如果不可能，DL 语言究竟是如何使用的？**

> OWL DL 是支持数据值、数据类型和数据类型属性的描述逻辑SHOIN，即SHOIN(D)，但由于OWL 是基于RDF(S)，所以术语略有不同。...对于OWL本体或知识库的描述，可以使用DL语法。定义了一种“抽象的”类似 LISP 的语法，它更容易用 ASCII 字符集编写。

![猫头鹰](../Images/129cac51190c4ff684f3a620c32ce024.png)

这是相同数据[的两种语法样式的一个非常简短的工作示例。](http://www.obitko.com/tutorials/ontologies-semantic-web/owl-example-with-rdf-graph.html)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-29T06:36:12.543

> 推理者不使用深度学习吗？

不必要。他们使用各种逻辑，其中一些是 DL，一些不是。

> 如果可能的话，我应该在 Protege（或您建议的其他软件）中使用什么设置配置才能做到这一点？

我很确定 Protégé 没有这样的插件。但是，如果您真的想要一些乐趣，请使用文本编辑器并手动编写您的本体。您可以使用许多语法：[函数式语法](http://www.w3.org/TR/owl2-syntax/)、[OWL/XML 语法](http://www.w3.org/TR/owl2-xml-serialization/)、[RDF/XML 语法](http://www.w3.org/TR/owl2-mapping-to-rdf/)都是规范的。此外，您可以使用[曼彻斯特语法](http://www.w3.org/TR/owl2-manchester-syntax/)、[Turtle](http://www.w3.org/TR/turtle/)、[N-Triples](http://dvcs.w3.org/hg/rdf/raw-file/default/rdf-turtle/n-triples.html#)、[JSON-LD](http://www.w3.org/TR/json-ld-syntax/)，这将是未来编写 RDF（以及因此 OWL）的建议。或者更奇特的[RDF/JSON](http://docs.api.talis.com/platform-api/output-types/rdf-json)，[HDT](http://www.w3.org/Submission/2011/03/)。或者，更“强大”的语法，如[Notation3](http://www.w3.org/TeamSubmission/n3/)、[TriG](http://dvcs.w3.org/hg/rdf/raw-file/default/trig/index.html#)、[TriX](http://www.hpl.hp.com/techreports/2004/HPL-2004-56.html)、[NQuads](http://sw.deri.org/2008/07/n-quads/). 很有趣！

在任何情况下，如果您想使用 DL 语法编写代码，则需要使用特殊的 Unicode 字符或特殊命令，例如在 LaTeX 中。处理它的解析器必须读取这些字符或命令。如果您正在编程，则不理想。但是你总是可以在你的作品中使用 DL 语法。

顺便说一句，当前标准的 Web Ontology Language 是[OWL 2](http://www.w3.org/TR/owl2-overview/)。它的 DL 变体（即 OWL 2 DL）基于[更加不可抗拒的 SROIQ](http://www.cs.man.ac.uk/~sattler/publications/sroiq-TR.pdf)。

# kendo-ui - Kendo DataViz Widgets 和 UI Widgets 在同一页面上

> ID：13619669
> 
> 赞同：2
> 
> 时间：2012-11-29T05:50:50.453
> 
> 标签：kendo-ui, kendo-dataviz

是否可以在同一页面上拥有 Kendo UI 小部件 + DataViz 小部件？我想在同一页面上有网格（弹出编辑、内联编辑等）、滑块、自动完成、富文本字段和散点图。我已经下载了最新的试用包——kendoui.trial.2012.3.1114

我已经添加了如下文件..

```
<link href="../../content/shared/styles/examples-offline.css" rel="stylesheet">
<link href="../../../styles/kendo.common.min.css" rel="stylesheet">
<link href="../../../styles/kendo.default.min.css" rel="stylesheet">

<script src="../../../js/jquery.min.js"></script>
<script src="../../../js/kendo.web.min.js"></script>
<script src="../../content/shared/js/console.js"></script>
<script src="../../../js/kendo.dataviz.min.js"></script> 
```

但是在添加“kendo.dataviz.min.js”时，其他小部件似乎行为不端。如何克服这个问题并在同一页面上同时拥有 UI 小部件和 DataViz 小部件..???

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-29T05:56:58.163

我在同一页面上同时使用了 UI 小部件和 dataviz 小部件，没有遇到任何问题。

附带说明一下，您可以单独包含“kendo.all.min.js”文件，而不是包含“kendo.web.min.js”和“kendo.dataviz.min.js”文件，其中包含两个 UI 小部件的代码和 dataviz 小部件。

您可以使用“jsfiddle.net”来展示您的示例，这将帮助其他人提出根本原因。

# perl - 如何在 Perl 中输出二进制文件？

> ID：13619671
> 
> 赞同：3
> 
> 时间：2012-11-29T05:50:54.877
> 
> 标签：perl, file-io

我希望能够输出`0x41`，并将其显示为`A`.

这是我到目前为止所尝试的：

```
my $out;
open $out, ">file.txt" or die $!;
binmode $out;
print $out 0x41;
close $out; 
```

它输出`65`而不是`A`在结果文件中。这不是我想要的。

我也读过[这个类似的问题](https://stackoverflow.com/questions/1464195/how-can-i-create-a-binary-file-in-perl)，但我不会把答案转移过来。`pack`一个简短的结果是 2 个字节而不是 1 个字节。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-29T05:54:30.303

您可以使用[`chr(0x41)`](http://perldoc.perl.org/functions/chr.html).

对于较大的结构，您可以使用[`pack`](http://perldoc.perl.org/functions/pack.html)：

```
pack('c3', 0x41, 0x42, 0x43) # gives "ABC" 
```

关于您对 的怀疑`pack`，请阅读它的页面 - 它非常通用。`'c'`打包一个字节，`'s'`（如该问题所示）将打包一个两个字节的字。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-29T05:53:39.137

使用 chr 函数：

```
print $out chr 0x41 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-29T06:20:33.073

pack 需要两个参数：第一个参数说明必须如何打包*以及*打包多少数据：

```
perl -e 'printf "|%s|\n",pack("c",0x41,0x42,0x44);'
|A|

perl -e 'printf "|%s|\n",pack("c3",0x41,0x42,0x44);'
|ABD|

perl -e 'my @bytes=(0x41,0x42,0x43,0x48..0x54);
         printf "|%s|\n",pack("c".(1+$#bytes),@bytes);'
|ABCHIJKLMNOPQRST| 
```

你甚至可以在第一部分混合格式：

```
perl -e 'printf "|%s|\n",pack("c3B8",0x41,0x42,0x44,"01000001");'
|ABDA| 
```

# c# - 有什么方法可以在 MS Chart 的 Y2 轴上显示折线图？

> ID：13619673
> 
> 赞同：2
> 
> 时间：2012-11-29T05:51:12.287
> 
> 标签：c#, winforms, mschart, linechart

我想在 MS-Charts 的折线图中使用多个 Y 轴。

我在折线图中有多个系列。现在，我想在 Y 轴上展示其中一些系列，在 Y2 轴上展示其他系列。

谁能告诉我如何实现这个？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-11-29T06:14:49.530

我自己得到了答案。

有两种轴类型可用。对于 Y2 轴，我们必须使用以下代码行。

```
 series.YAxisType = AxisType.Secondary; 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-29T06:10:01.147

微软有一个很好的创建图表的库。

System.Windows.Forms.DataVisualization.Charting

试试这个链接。 [http://www.codeproject.com/Articles/168056/Windows-Charting-Application](http://www.codeproject.com/Articles/168056/Windows-Charting-Application)

# c++ - 从 Struct 数据类型加载并将该数据传递给另一个函数时遇到问题

> ID：13619675
> 
> 赞同：0
> 
> 时间：2012-11-29T05:51:26.577
> 
> 标签：c++, visual-c++

我问过我的同学，他们都不知道这是为什么。该计划应该是一个银行计划。我最初在我的功能中特别注意到了问题`findCustomer`。它应该做的是获取结构“帐户”的某个部分，查找帐号是否与您输入的输入匹配，然后将其声明为匹配。

```
int findCustomer(account arr[], int customers)
{
    int index;

    cout << "Account Number?: ";
    cin >> index;

    for (int i = 0; i <= customers + 1; i++)
        if (arr[i].acctNum == index)
        {
            cout << "You dun good!"; //I put this here to try to figure out what the problem was when it was passing in.
            return i;
            break;
        }
        else if (arr[i].acctNum != index)
        {
            cout << "Account Number (" << index << ") Does Not exist!" << endl;
            system("Pause");
            system("CLS");
            return -1;
        } 
```

之后，它应该传递给存款/取款功能（它们的行为相同，但差异很小）。

```
void deposit(account arr[], int customers)
{
    char type;
    float money;
    int i;
    i = findCustomer(arr, customers);
    cout << i << "At this point" << endl;    
    if (i = -1)
    {
        cout << "You dun goofed!"; //again put here as a trigger
        // what normally goes here is a return; statement to break the function
    }

    type = submenu();

    cout << "How much would you like to deposit?: ";
    cin >> money;

    cout << "Number \t Name \t Balance" << endl;
    cout << "=========================================" << endl;
    if (type = 's')
    {    arr[i].sBal += money;
        cout << arr[i].acctNum << "\t" << arr[i].name << "\t" << arr[i].sBal;
    }
    else if (type = 'c')
    {    arr[i].cBal += money;
        cout << arr[i].acctNum << "\t" << arr[i].name << "\t" << arr[i].cBal;
    }
} 
```

我得到的输出表明在函数中间有一个从 0 到 -1 的变化，而没有任何声明这样做（让我头上有一个巨大的 wth），这当然会破坏整个函数。我似乎在读取某些据说已在以前的函数中加载的帐号时也遇到了问题。任何和所有的帮助将不胜感激。

# clang - 如何在 CLANG scan-build xcodebuild 中排除第三方 lib / dll 的分析？

> ID：13619678
> 
> 赞同：9
> 
> 时间：2012-11-29T05:51:59.517
> 
> 标签：clang, scan-build

我在我的项目中使用了一些开源代码和第三方库，并希望在使用 scan-build 文件分析我的项目时排除该代码被分析。我知道我们可以#ifndef **clang_analyzer** 使用此宏来禁止对代码进行分析，但我不想将其复制粘贴到所有文件中。

或者有什么方法可以使使用 scan-build 命令分析后生成的报告不显示从某些文件集生成的警告/错误？

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2020-04-02T05:30:30.810

使用`--exclude` [[1]](https://bugs.llvm.org/show_bug.cgi?id=22594) [[2]](https://reviews.llvm.org/D52153)选项（自 2018 年起可用）

> - 排除
> 
> 不要针对在此目录中找到的文件运行静态分析器（您可以多次指定此选项）。当项目包含 3rd 方库时可能很有用。

同样适用于`scan-build`( `$ pip install scan-build`) 的 Python 实现 - [https://github.com/rizsotto/scan-build](https://github.com/rizsotto/scan-build)

# java - portlet view.jsp 中的单选按钮

> ID：13619687
> 
> 赞同：2
> 
> 时间：2012-11-29T05:52:35.233
> 
> 标签：java, jsp, liferay, portlet

我是 portlet Programming.i 的新手。我有一个 portlet。在这个 portlet 的 view.jsp 中，我有一个带有文本字段和两个单选按钮的表单。当我单击单选按钮时，我需要获取文本字段值。也基于文本字段值我必须重新调整 view.jsp 的值。

```
 PortletURL updateBookURL = renderResponse.createActionURL();
 updateBookURL.setParameter(
 ActionRequest.ACTION_NAME, "update"); 
```

我尝试使用此 Action Url。并放入 .update 的 onclick`radio button(onClick="<%=updateBookURL.toString()%>)`是 portlet 类中的一个函数。但它不应该转到 class.am 使用带有liferay 6.0 的 eclipse indigo 帮助我。提前致谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-09T09:12:37.277

为此，我认为您需要在单选按钮上配置单击事件，然后使用控制器的 ajax 调用 serveresource 方法作为回报，您将所需的值发送回查看并进行相应设置

```
<portlet:resourceURL var="serveResourceURL" id="serveResourceURL"</portlet:resourceURL>
AUI().ready(
    function(A) {
        A.all('.radiobuttonClick').on('click', function(event){
            var checkboxObj = event.currentTarget;
            var textfieldValue = A.one('#textfieldId').val();       
            A.use('aui-io-request', 
                function(aui) {
                A.io.request("<%=serveResourceURL%>", {
                    autoLoad : false,
                    cache : false,
                    dataType : 'json',
                    data:{'textfield':textfieldValue},
                    method:'POST',
                    on : {
                        success : function(event, id, xhr){
                            var response =  this.get('responseData');
                              console.log("response::"+response);
                            //set values accordingly
                        }
                    }
                }).start();
            });
        });
    }); 
```

如果您需要更多帮助，请告诉我

# c# - 当事件获得/失去侦听器时是否有事件？

> ID：13619689
> 
> 赞同：0
> 
> 时间：2012-11-29T05:52:40.867
> 
> 标签：c#, events, .net-3.5

> **可能重复：**
> [是否可以在 C# 中订阅事件订阅？](https://stackoverflow.com/questions/10483935/is-it-possible-to-subscribe-to-event-subscriptions-in-c)

搜索有关事件事件的信息并不容易。我只是希望这不是因为它无法完成。我只是希望答案是“有一个事件”或其他方式。

我正在处理一个监听事件相对昂贵的事件。（必须将手表放在我正在绑定的另一个系统中，包括跟踪要跟踪的内容和 COM 开销。）

因此，除非我知道有什么东西想要，否则我真的不想关注这个事件。

这样做的简单方法是这样的：

```
public class MyThing
{
    public delegate void MyEventHandler(object sender, MyEventArgs ea);
    public event MyEventHandler Change;

    public void StartWatching()
    {
        ...
    }

    public void StopWatching()
    {
        ...
    }
} 
```

这是以这种方式使用的：

```
var thing = new MyThing();
thing.Change += this.thing_Change
thing.StartWatching();

thing.Change -= this.thing_Change
thing.StopWatching();  // Hopefully nothing else is watching... 
```

但这并不像我想要的那样优雅。我可以用 替换`thing.Change += x`，`thing.StartWatching(x)`然后它会开始观看，反之会检查 if `Change == null`，但我希望它可以用事件模型的完整优雅来完成。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-29T05:56:09.593

听起来像[自定义事件访问器](http://msdn.microsoft.com/en-us/library/bb882534.aspx)可能是您正在寻找的。

```
int count = 0;

event EventHandler MyThing.Change
{
    add
    {
        lock (Change)
        {
            if (count == 0)
            {
                StartWatching();
            }

            count++;
            Change += value;
        }
    }
    remove
    {
        lock (Change)
        {
            count--;
            if (count == 0)
            {
                StopWatching();
            }

            Change -= value;
        }
    }
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-29T05:56:27.560

尝试将您的事件声明为属性并使用添加/删除访问器

```
class YourClass
{
    public event EventHandler<EventArgs>  MyEvent
    {
        add
        {
            // Add new subscriber code here
        }

        remove
        {
            // Remove subscriber code here
        }
    }
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-29T06:00:09.473

您可以覆盖事件的添加/删除方法并在那里完成工作。

```
public class MyThing
{
    public delegate void MyEventHandler(object sender, MyEventArgs ea);

    private MyEventHandler _change;
    public event MyEventHandler Change
    {
       add 
      { 
          var previousChange = _change;
          _change += value; 
          if (previousChange == null)
          {
             StartWatching();
          }
       }
       remove 
       { 
          _change -= value;
          if (_change == null) 
          {
             StopWatching();
          }
       }
    }

    public void StartWatching()
    {
        ...
    }

    public void StopWatching()
    {
        ...
    }
} 
```

目前，这不是线程安全的，但您可以轻松做到这一点。

# powershell - 通过 powershell 将文本添加到多个文件

> ID：13619699
> 
> 赞同：1
> 
> 时间：2012-11-29T05:54:03.803
> 
> 标签：powershell, text, coding-style

我正在尝试自定义此处描述的代码[PowerShell 将文本行添加](https://stackoverflow.com/questions/11162939/powershell-add-text-line-to-multiple-files) 到我的案例中的多个文件。我有多个只有数字的 csv 文件，在第一行我想有一个特定的短语（例如集水区降雨文件）。我正在做以下事情：>

```
$header=@"
>"catchment rainfall
>"@

>Get-ChildItem D:\Documents and Settings\mary\testing\mary00 -Recurse -Filter *.aspx | >Foreach-Object { 
>    $header`n" + (Get-Content $_.FullName | Out-String) | Set-Content -Path $_.FullName"
>} 
```

关于我要去哪里错的任何想法？非常感谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-29T11:22:05.400

感谢大家的帮助。我终于想出了这个可行的方法：

```
$header=@"
catchment rainfall
"@ 
Get-ChildItem .\testing\ -Recurse -Filter *.csv| Foreach-Object { $header+"`n"+ (Get-Content $_.FullName | Out-String) | Set-Content -Path $_.FullName} 
```

# javascript - 在 Javascript 中更改 obj.innerHTML？人生游戏

> ID：13619700
> 
> 赞同：1
> 
> 时间：2012-11-29T05:54:07.090
> 
> 标签：javascript

我已经用 Javascript 实现了生命游戏。我正在考虑制作一个可供选择的颜色列表的组合框。从那里我想在游戏中渲染我的网格单元格的 obj.innerHTML img 源。解决此问题的最佳方法是什么？

到目前为止，这是我的游戏代码：

```
 <br>
    <canvas id="canvas" width="100%" height="80%"></canvas>

    <button onClick="generateLevel()">Create New Board</button>
    <button onClick="step()">Step</button>
    <button onClick="multiStep()">Multistep</button>    

    <script type="text/javascript">

    var level;
    var lastLevelDrawn;
    var lvlWidth = 0;
    var lvlHeight = 0;

    function step()
    {

        var tempLevel = new Array(lvlHeight);
        for (var y = 0; y < lvlHeight; y++)
        {
            tempLevel[y] = new Array(lvlWidth);
            for (var x = 0; x < lvlWidth; x++)
            {
                var liveNeighborCount = 0;
                var status = level[y][x];
                for (var k = y-1; k < y+2; k++)
                {
                    for (var j = x-1; j < x+2; j++)
                    {
                        if (k == y && j == x)
                        {

                        }
                        else if (k >= 0 && k < lvlHeight && j >= 0 && j < lvlWidth)
                        {
                            if (level[k][j] == "1")
                            {
                                liveNeighborCount++;
                            }
                        }   
                    }
                }

                if (level[y][x] == "1")
                {
                    if (liveNeighborCount != 2 && liveNeighborCount != 3)
                    {
                        status = "0";
                    }

                }
                if (level[y][x] == "0")
                {
                    if (liveNeighborCount == 3)
                    {
                        status = "1";

                    }

                }
                tempLevel[y][x] = status;                   
            }
        }
        level = tempLevel;
        render();
    }       

    function multiStep()
    {
                    var steps = prompt("How many steps do you want to step?", "10");
        for (var x = 0; x < steps; x++)
            step();
    }   

    function generateLevel()
    {

        var width = prompt("How many cells wide?", "10");
        var height = prompt("How many cells high?", "10");
        lvlWidth = width;
        lvlHeight = height;
        var output = "";
        if (width != null && height != null)
        {
            level = new Array(lvlHeight);
            lastLevelDrawn = new Array(lvlHeight);
            for (var y = 0; y < height; y++)
            {
                level[y] = new Array(lvlWidth);
                lastLevelDrawn[y] = new Array(lvlWidth);
                for (var x = 0; x < width; x++)
                {
                    level[y][x] = Math.floor((Math.random()*2));
                    lastLevelDrawn[y][x] = -1;
                    output += " " + level[y][x];
                }
                output += "<br>";
            }
        }

        //document.getElementById("demo").innerHTML=output;
        setupRender();
    }

    function changeTile(tile)
    {
        var x = tile % lvlWidth;
        var y = parseInt(tile/lvlWidth);
        //document.getElementById("demo").innerHTML=x + ":" + y;
        if (level[y][x] == "1")
            level[y][x] = "0";
        else
            level[y][x] = "1";

        render();           
    }

    function render()
    {
        var widPer = ((1/lvlWidth)*90);
        var heiPer = ((1/lvlHeight)*70);
        for (var y = 0; y < lvlHeight; y++)
        {
            for (var z = 0; z < lvlWidth; z++)
            {
                var send = y*lvlWidth + z;
                if (lastLevelDrawn[y][z] != level[y][z])
                {
                    lastLevelDrawn[y][z] = level[y][z];
                    var obj = document.getElementById(send);
                    if (level[y][z] == "1")
                        obj.innerHTML = "<img src='white.jpg' width='" + widPer + "%' height='" + heiPer + "%' onclick='changeTile(" + send + ")'/>";
                    else 
                        obj.innerHTML = "<img src='black.jpg' width='" + widPer + "%' height='" + heiPer + "%' onclick='changeTile(" + send + ")'/>";
                }
            }
        }
    }

    function setupRender()
    {   
        var x = "";
        var widPer = ((1/lvlWidth)*90);
        var heiPer = ((1/lvlHeight)*70);
        //x += "<table border='1' col width='((1/lvlWidth)*100)%' col height='((1/lvlHeight)*80)%'>";
        for (var y = 0; y < lvlHeight; y++)
        {
            //x += "<tr>";
            for (var z = 0; z < lvlWidth; z++)
            {
                lastLevelDrawn[y][z] = level[y][z];
                //x += level[y][z];
                var send = y*lvlWidth + z;
                x += "<n id='" + send + "'>";
                if (level[y][z] == "1")
                    x += "<img src='white.jpg' width='" + widPer + "%' height='" + heiPer + "%' onclick='changeTile(" + send + ")'/>";
                else 
                    x += "<img src='black.jpg' width='" + widPer + "%' height='" + heiPer + "%' onclick='changeTile(" + send + ")'/>";
                x += "</n>";

            }
            x += "<br>";
            //x += "</tr>";
        }
        //x += "</table>";
        document.getElementById("demo").innerHTML=x;
    }       

    </script> 
```

# c - 在 C 中检测到堆栈粉碎

> ID：13619701
> 
> 赞同：0
> 
> 时间：2012-11-29T05:54:20.103
> 
> 标签：c

我有一个循环运行以在一些特殊字符（&、|、<、>）之间添加空格。以下代码成功在特殊字符前后添加空格：

```
 char keys[] = "<>&|";
    int i = strcspn (input,keys); 
    appenda(input, " " , i);
    appenda(input, " " , i+2); 
```

上面的代码将输入“asdf&asdf”转换为“asdf & asdf”。

但是，我的目标是对整个输入中的每个特殊字符都这样做，即使有多个特殊字符（如“asdf&asdf&asdf”）。所以我做了一个while循环：

```
 char keys[] = "<>&|";
    int i = strcspn (input,keys);
    while(i < strlen(input)){
        appenda(input, " " , i);
        appenda(input, " " , i+2);
        i = strcspn (input,keys);
    } 
```

然而，当我现在运行我的代码时，它返回“ ***** ****检测到堆栈粉碎***** **** ”

关于这意味着什么以及如何解决它的任何想法？

**EDIT** Appenda 在指定点将一个字符串插入另一个字符串。它接受 3 个参数：第一个是我插入的字符串，第二个是我要插入的字符串，第三个是索引。所以 appenda(ABCD, X, 2) 返回 AXBCD

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-29T06:13:36.880

你总是在调用`strcspn`相同的`input`，并且你从来没有真正删除它找到的字符，所以它总是找到同一个。

例如，如果您的字符串是

```
asdf&asdf&asdf 
```

第一次调用

```
int i = strcspn (input,keys) 
```

`i = 3`由于在位置 4 处返回。`&`然后插入空格，效果很好，字符串变为：

```
asdf & asdf&asdf 
```

现在你再次打电话

```
i = strcspn (input,keys) 
```

这会返回`i = 4`，因为现在它`&`在位置 5 中找到了第一个。因此，当您再次插入空格时，字符串变为：

```
asdf  &  asdf&asdf 
```

等等。它不断在 first 周围插入越来越多的空格`&`，并且循环永远不会结束，直到您超出内部缓冲区`appenda`并且您的程序死亡。

相反，一旦你插入了空格，你需要告诉你在找到*前*一个特殊字符的地方`strcspn`开始寻找下一个特殊字符。这应该有效：

 *```
char keys[] = "<>&|";
int i = strcspn (input,keys);
while(i < strlen(input)){
    appenda(input, " " , i);
    i += 2;
    appenda(input, " " , i);
    i += strcspn (input + i,keys);
} 
```

这会“移动” 的值，`i`以便在您调用 时`strcspn(input + i, keys)`，该值`input + i`始终指向尚未查看特殊字符的下一个位置。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-29T06:43:51.837

Tyler McHenry 是完全正确的。虽然我建议逐个字符循环并将其复制到一个新数组中，因为这样可以避免连续移动所有字符的需要。像这样：

```
int len = 200;
char input[len+1];
char output[len*3+1];
int outPos = 0;
for (int i = 0; i < len; i++)
{
  if (input[i] == 0) break; // end of string
  if (input[i] == '<' || input[i] == '>' || input[i] == '&' || input[i] == '|')
  {
    output[outPos++] = ' ';
    output[outPos++] = input[i];
    output[outPos++] = ' ';
  }
  else
    output[outPos++] = input[i];
}
output[outPos] = 0; 
```*

# php - 如何使用 PHP 和 ZipArchive 创建 ZIP 文件而不将其发送到浏览器？

> ID：13619702
> 
> 赞同：0
> 
> 时间：2012-11-29T05:54:21.550
> 
> 标签：php, zip, ziparchive

我的 PHP/MySQL Web 应用程序具有使用 ImageMagick 将每个用户的一组图像组合成单个 PDF 的功能。然后将每个 PDF 放入一个 ZIP 文件中。每个图像的大小最大为 5 MB。我的问题是浏览器在用户下载文档之前超时。

关于如何最好地做到这一点的任何想法？

我在想我可以创建 ZIP 文件而不将其发送到浏览器（即删除代码末尾的“标题”），然后通过电子邮件发送文件的链接；但是，它仍然需要用户等待很长时间才能创建 ZIP 文件（看起来好像浏览器刚刚挂起）。这可以在幕后使用 AJAX 完成，还是直接在服务器上完成？

```
$tmp_path = sys_get_temp_dir().'/';
$archive_name = "myarchive.zip";

$zip = new ZipArchive();

if($zip->open($archive_name,1 ? ZIPARCHIVE::OVERWRITE : ZIPARCHIVE::CREATE) !== true) {
    return false;
}

foreach ($rows AS $row) {

    $irows = get_images($row['user_id']);

    $images = array();

    foreach($irows AS $irow){
        $doc = fetch_document_path($irow['id']);
        $output_file_name = $tmp_path.$irow['id'].'.jpg';  
        exec ('convert '.$doc.' '.$output_file_name);
        $images[] = $irow['id'].'.jpg'; 
    }    

    $images = implode(' ', $images);   
    $output_file_name = $tmp_path.$row['name'].'.pdf';  
    exec ('convert '.$images.' "'.$output_file_name.'"');       
    $zip->addFile($output_file_name,basename($output_file_name));

}

$zip->close();

header('Content-type: application/zip');
header('Content-Disposition: attachment; filename="output.zip"');
readfile($archive_name); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-30T15:56:58.933

IMO 你应该运行一些后台任务来完成这项工作。例如，后台工作人员可以在完成后将 URL 保存到 DB 中的结果文件（也可以保存更多信息，如当前状态和工作进度），同时网页可以使用 AJAX 定期询问服务器是否工作已经完成并最终显示链接何时可用。

实现这一目标的最简单方法是将脚本作为后台进程运行：

```
 $arg1 = escapeshellarg($somearg1);
  $arg2 = escapeshellarg($somearg1);
  exec(sprintf('/usr/bin/php archiver.php %s %s > /dev/null 2>&1 & echo $!', $arg1, $arg2)); 
```

`archiver.php`应以以下几行开头：

```
 <?php
 ignore_user_abort(true);
 set_time_limit(0); 
```

当父脚本完成工作时，它将防止脚本停止。

我的第二个想法更复杂-您可以编写一个将在后台运行以等待作业的守护程序。要与它通信，您可以使用队列（如 AMQP）或仅使用数据库。使用守护程序，您可以更好地控制正在发生的事情和时间 - 在第一种方法中，您的应用程序可能会触发太多进程。

# jquery - 如何自定义 jquery ajax 请求的数据表插件？

> ID：13619707
> 
> 赞同：0
> 
> 时间：2012-11-29T05:55:01.587
> 
> 标签：jquery, datatables

我们可以像这样使用来自服务器的数据表插件请求数据：

```
$('#example').dataTable( {
    "bProcessing": true,
    "bServerSide": true,
    "sAjaxSource": "../server_side/scripts/server_processing.php"
} ); 
```

我们将服务器 url 写为“sAjaxSource”：“../server_side/scripts/server_processing.php”。但如果我想自定义请求，只需使用异步函数，如下所示：

```
$('#example').dataTable( {
    "bProcessing": true,
    "bServerSide": true,
    "requestFunction": function(params, callback){
          callback([....]);
     }
} ); 
```

我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-29T06:04:23.047

尝试使用：`fnServerData`

此参数允许您覆盖从服务器 ( `$.getJSON`) 获取数据的默认函数，以便更适合您的应用程序。例如，您可以使用 POST 数据，或从 Gears 或 AIR 数据库中提取信息。

```
$(document).ready( function() {
  $('#example').dataTable( {
    "bProcessing": true,
    "bServerSide": true,
    "sAjaxSource": "xhr.php",
    "fnServerData": function ( sSource, aoData, fnCallback, oSettings ) {
      oSettings.jqXHR = $.ajax( {
        "dataType": 'json',
        "type": "POST",
        "url": sSource,
        "data": aoData,
        "success": fnCallback
      } );
    }
  } );
} ); 
```

# c# - 检查字母位置以及它是否正确

> ID：13619708
> 
> 赞同：-1
> 
> 时间：2012-11-29T05:55:04.753
> 
> 标签：c#, .net, winforms

我正在创建一个生成随机单词然后让用户猜测单词的游戏。在用户输入他的单词后，游戏将比较它们并返回正确的字母以及它们的位置是否正确。现在，当我输入相同的单词时，它会返回不同的结果。

这是我到目前为止所拥有的：

```
class Game
{
    public string CorrectPlace;
    public string WrongPlace;
    public string NoneExist;
    public string CorrectWord;
    public string InputWord; // the word the uis
    public int points;

    public string[] Wordarray = new string[] { "radar", "andar", "raggar", "rapar", "raser", "rastar", "rikas" };

    public string getRandomWord(string names)
    {   
        Random ran = new Random();
        return Wordarray[(ran.Next(0,Wordarray.Length-1))];
    }

    public void CheckWords(string name)
    {
        InputWord.ToCharArray(); 

        CorrectWord = getRandomWord(CorrectWord); // store the random word in a string

        for (int i = 0; i < CorrectWord.Length; i++)
        {
            if (InputWord[i] == CorrectWord[i])
                MessageBox.Show("Letter #" + (i + 1).ToString() + " was correct!");
            else
                break;
        }  
    }
} 
```

我在我的表单中调用该方法

```
 private void button1_Click(object sender, EventArgs e)
    {

        Game nc = new Game();

        nc.InputWord = textBox1.Text;
        nc.CheckWords(nc.InputWord);

        } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-29T06:28:34.707

像这样更改代码。如果您有任何问题，请告诉我。

类游戏{

```
 public string CorrectWord = null;
    public string InputWord; // the word the uis
    public int points;

    public string[] Wordarray = new string[] { "radar", "andar", "raggar", "rapar", "raser", "rastar", "rikas" };

    public string getRandomWord()
    {
        Random ran = new Random();
        return Wordarray[(ran.Next(0, Wordarray.Length - 1))];
    }

    public void Newgame()
    {
    }

    public void CheckWords(string name)
    {

        char[] charInputWord = name.ToCharArray();

        CorrectWord = getRandomWord(); // store the random word in a string

        Console.WriteLine("Random Word " + CorrectWord);
        Console.WriteLine("User Word " + name);

        char[] charCorrectWord = CorrectWord.ToCharArray();

        for (int i = 0; i < charInputWord.Length; i++)
        {
            if (charInputWord[i] == charCorrectWord[i])
                Console.WriteLine("Letter #" + (i + 1).ToString() + " was correct!");
            else
                break;
        }
    }
}

class Program
    {
        static void Main(string[] args)
        {
            Game ab = new Game();
            ab.CheckWords("raser");

            Console.ReadLine();
        }
    } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-29T06:34:36.553

两者`names`都`name`从未使用过，并且似乎不需要。

看起来你想要这样的东西（转换为控制台打印，因为我没有你的 UI 源）

```
using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;

namespace WordGame
{
    class Game
    {
        static void Main(string[] args)
        {
            Game g = new Game();
            bool gameOver = false;

            while (!gameOver)
            {
                Console.WriteLine("Enter a guess (or type 'exit' to exit):");
                string answer = Console.ReadLine();
                if (answer.ToLower() == "exit")
                    break;

                if (g.CheckWord(answer))
                {
                    Console.WriteLine("You win!");
                    while (true)
                    {
                        Console.WriteLine("Play Again (y/n)?");
                        answer = Console.ReadLine().ToLower();
                        if (answer == "n")
                        {
                            gameOver = true;
                            break;
                        }
                        else if (answer == "y")
                        {
                            g.ChooseRandomWord();
                            break;
                        }
                    }
                }
            }
        }

        public string CorrectWord;

        public string[] Wordarray = new string[] { "radar", "andar", "raggar", "rapar", "raser", "rastar", "rikas" };
        private Random ran = new Random();

        public Game()
        {
            ChooseRandomWord();
        }

        public void ChooseRandomWord()
        {
            CorrectWord = Wordarray[(ran.Next(0, Wordarray.Length - 1))];
        }

        public bool CheckWord(string guess)
        {
            if (guess.Trim() == CorrectWord)
            {
                return true;
            }

            string guessLower = guess.Trim().ToLower();
            string correctLower = CorrectWord.ToLower();

            for (int i = 0; i < correctLower.Length; i++)
            {
                if (guessLower[i] == correctLower[i])
                    Console.Write(guess[i]);
                else
                    Console.Write("#");
            }
            Console.WriteLine();

            return false;
        }

    }
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-29T06:43:45.543

试试这样：

```
class Game
{
    public string CorrectPlace;
    public string WrongPlace;
    public string NoneExist;
    public string CorrectWord;
    public string InputWord;  
    public int points;

    public string[] Wordarray = null;

    public string getRandomWord(string names)
    {   
        Random ran = new Random();
        return Wordarray[(ran.Next(0,Wordarray.Length-1))];
    }

    public void Game()
    {
        Wordarray = new string[] { "radar", "andar", "raggar", "rapar", "raser", "rastar", "rikas" }
        CorrectWord = getRandomWord(); // store the random word in a string
    }

    public void CheckWords(string name)
    {
        for (int i = 0; i < CorrectWord.Length; i++)
        {
            if (InputWord[i] == CorrectWord[i])
                MessageBox.Show("Letter #" + (i + 1).ToString() + " was correct!");
            else
                break;
        }  
    }
} 
```

幕后的想法是在游戏开始时获取一个随机单词（实例化的类的`Game`实例），然后将其与`CheckWords`方法中的用户输入进行比较。

我建议不要`MessageBox.show`循环调用，每次匹配时都会弹出。发生

# java - 在 OpenGL 中跟随并围绕路径旋转

> ID：13619709
> 
> 赞同：2
> 
> 时间：2012-11-29T05:55:08.607
> 
> 标签：java, opengl, rotation, jogl

我正在尝试一个车辆跟随[伯努利的 Lemniscate](http://en.wikipedia.org/wiki/Lemniscate_of_Bernoulli)（或更简单地说，8 字形轨道）的练习。我想使用`glTranslatef`并`glRotatef`实现这一点。到目前为止，我已经能够通过使用如下参数形式成功地让车辆沿着这条路径跟随/平移：

> X = (width * cos(t)) / (1+sin^2(t))
> Y = (width * cos(t) * sin(t)) / (1+sin^2(t))
> 其中 t 是在 -pi, pi

在代码中，如下所示：

```
carX = (float) ((Math.cos(t) / (1 + Math.sin(t)*Math.sin(t))));
carY = 0.0f;
carZ = (float) ((Math.cos(t) * (Math.sin(t))) / (1 + Math.sin(t)*Math.sin(t)));
gl.glTranslatef(carX,carY,carZ); 
```

所以效果很好。我现在的问题是旋转车辆，使其遵循伯努利 Lemniscate 定义的路径。我想通过`glRotatef`绕 Y 轴旋转来实现这一点，但我不确定如何继续寻找要输入的角度`glRotatef`。旋转目前已经到位，因此它只操纵车辆，并且似乎只需要正确的数学来跟随路径。

我尝试过的事情：

*   使用上面列出的 X 和 Y 形式的导数。我彼此独立使用它们，因为我不确定如何/是否需要将它们组合用于角度。通过一些小的操作，它们跟随原点附近的直线区域，但在曲线周围分解。
*   直接求t值的正切并转换成度数。导致不稳定的旋转。

如果有人有任何可能比 glRotatef 方法更好的建议，那也将不胜感激。我已经看到这`gluLookAt` [可能会有所帮助](https://stackoverflow.com/questions/4384155/rotating-towards-path-in-opengl)，我可能会尝试使用它找到解决方案。

*（注意：我正在使用 Java 和 FFP 在 JOGL 中工作，但我对 C/C++ 代码片段感到满意。）*

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-02T07:35:01.907

假设相机视图是驾驶员的视图，`gluLookAt`这正是您所需要的！根据您的`carX,carY,carZ`计算（假设数学很好），您可以存储以前的值并使用它：

```
//globals & imports:
import javax.vecmath.*;

Vector3f current = new Vector3f();
Vector3f prev = new Vector3f(); 
```

计算如下：

```
//on drawing:
prev.set(current);
current.x = (float) ((Math.cos(t) / (1 + Math.sin(t)*Math.sin(t))));
current.z = (float) ((Math.cos(t) * (Math.sin(t))) / (1 + Math.sin(t)*Math.sin(t)));

glu.gluLookAt(current.x, 0f, current.z,
              current.x - prev.x, 0f, current.z - prev.z,
              0f, 1f, 0f); 
```

我回家后会对其进行测试，以确保它正常工作，但据我所知，这应该可以解决问题。

# e-commerce - opencart getcategories 函数进入无限循环

> ID：13619711
> 
> 赞同：0
> 
> 时间：2012-11-29T05:55:18.857
> 
> 标签：e-commerce, opencart

我有一个大约 1300 个类别的 opencart 商店，我无法插入新类别或编辑现有类别。我已经安装了分页功能，但它只加快了类别视图。我做了一些调试，发现一旦我在管理面板中单击插入或编辑，下面的函数就会进入无限循环。谁能帮我解决这个问题

```
public function getCategories($parent_id = 0) {
        $category_data = $this->cache->get('category.' . (int)$this->config->get('config_language_id') . '.' . (int)$parent_id);

        if (!$category_data) {
            $category_data = array();

            $query = $this->db->query("SELECT * FROM " . DB_PREFIX . "category c LEFT JOIN " . DB_PREFIX . "category_description cd ON (c.category_id = cd.category_id) WHERE c.parent_id = '" . (int)$parent_id . "' AND cd.language_id = '" . (int)$this->config->get('config_language_id') . "' ORDER BY c.sort_order, cd.name ASC");

            foreach ($query->rows as $result) {
                $category_data[] = array(
                    'category_id' => $result['category_id'],
                    'name'        => $this->getPath($result['category_id'], $this->config->get('config_language_id')),
                    'status'      => $result['status'],
                    'sort_order'  => $result['sort_order']
                );

                $category_data = array_merge($category_data, $this->getCategories($result['category_id']));
            }   

            $this->cache->set('category.' . (int)$this->config->get('config_language_id') . '.' . (int)$parent_id, $category_data);
        }

        return $category_data;
    } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-02T17:05:16.307

**第一个解决方案：** 数据库中是否还有类别描述？如果是这样，那么 MySQL 加载的这么多描述可能会给服务器带来负担。尝试优化查询，仅选择所需的列，您可以更改查询如下： `$query = $this->db->query("SELECT c.category_id, cd.name FROM ...`

**第二种解决方案** 您可以再做一个调试技巧，它曾经解决了我的问题。添加回声语句：

```
echo $result['name'];
$category_data = array_merge($category_data, $this->getCategories($result['category_id']));` ` 
```

通过这种方式，您将了解进程挂起的类别的确切位置。仅该特定类别可能存在一些问题。

**第三个解决方案** 尝试改变

`'name' => $this->getPath($result['category_id'], $this->config->get('config_language_id')),`

至：

`'name' => $result['name'],`

希望这可以帮助。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-29T07:47:27.830

我有一个适用于我的当前但不是永久的解决方案......我不知道这是否是正确的方法，但它适用于我。我将查询更改为这个

```
$query = $this->db->query("SELECT * FROM " . DB_PREFIX . "category c ORDER BY c.parent_id,c.sort_order"); 
```

并评论了

```
//$category_data = array_merge($category_data, $this->getCategories($result['category_id'])); 
```

这目前对我有用，但我不知道这是否正确。感谢大家的快速帮助。

# c++ - ustream 是如何工作的？

> ID：13619713
> 
> 赞同：2
> 
> 时间：2012-11-29T05:55:52.940
> 
> 标签：c++, unicode, icu

我想让我的程序输出希腊字母。我已经安装并连接了 ICU，但我不知道如何将我的 Unicode 字符串打印到标准输出。这是一些简单的代码：

```
#include <unicode/unistr.h>
#include <unicode/ustring.h>
#include <unicode/ustream.h>
#include <iostream>

int main() {
    UnicodeString mystr("αβγ");
    std::cout << mystr << std::endl;
} 
```

编译：`g++ ./ctest.cpp -licui18n -licuuc -licudata -lpthread -lm`产生以下错误：

> ctest.cpp:(.text+0x27): undefined reference to `icu_46::operator<<(std::basic_ostream >&, icu_46::UnicodeString const&)'
> collect2: ld 返回 1 退出状态

ICU 的文档对于像我这样的菜鸟来说很难，而且对于 ICU 来说尤其稀少`ustream.h`，我认为这是我想要做的事情的关键。任何帮助将不胜感激（特别是如果有人想写一个更用户友好的 ICU 指南！）。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-29T06:44:23.753

使用`-licuio`标志，因为 ICU 的 io 操作在这个库中。 [http://userguide.icu-project.org/howtouseicu](http://userguide.icu-project.org/howtouseicu)

```
forever@pterois:~/My_pro1/cpp_pro$ g++ -o new new.cpp -licui18n
-licuuc -licudata -licuio -lpthread -lm
forever@pterois:~/My_pro1/cpp_pro$ ./new 
αβγ 
```

# php - php header() 函数不会重定向

> ID：13619715
> 
> 赞同：2
> 
> 时间：2012-11-29T05:55:58.977
> 
> 标签：php, redirect, header

我正在尝试使用 insert.php 作为操作从表单中发布数据。但是，一旦数据发布到数据库，我就无法重定向回 index.php。

我搜索了以下网站以找到答案：

[Trip Wire 杂志](http://www.tripwiremagazine.com/2011/04/php-redirect-to-another-page.html)

[Daniweb](http://www.daniweb.com/web-development/php/threads/405266/header-redirect-in-included-file-wont-work-in-pure-php-file)

以及关于该主题的十个 stackoverflow 问题。

这是 insert.php 文件的代码：

```
<?php 
include 'connect.php';
$id = $_POST['id']; 
$idea = mysql_real_escape_string($_POST['new_idea']); 

if(!$_POST['submit']) {
    echo "Please fill out the form!"; 
    header('Location: index.php'); 
} else {
    mysql_query("INSERT INTO user_idea (`id`, `idea`, `time_created`) VALUES(NULL, '$idea', NULL)") or die(mysql_error()); 
    echo "Idea has been added!"; 
    header('Location: index.php'); 
}?> 
```

根据我收集到的信息，如果之前有文本输出，则 header() 函数将不会执行。我已经尝试过没有回显“已添加想法！”的此功能；并回显“请填写表格！”；但我仍然没有得到重定向。

提前感谢您的建议。

-MF

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-11-29T05:58:43.127

来自 PHP[文档](http://php.net/manual/en/function.header.php)：

**header() 必须在发送任何实际输出之前调用**，无论是通过普通 HTML 标记、文件中的空白行还是通过 PHP。

在您的情况下，您在 header() 之前使用 echo

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-11-29T05:57:36.950

**解决方法**：`ob_start()`在页面顶部使用

**其他方法**：请在页面开始之前`<?php`或之后省略任何空白，也请在之后使用`?>``exit()``header()`

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-29T06:00:28.850

试试这个

```
<?php 
 include 'connect.php';
 $id = $_POST['id']; 
 $idea = mysql_real_escape_string($_POST['new_idea']); 

 if(!$_POST['submit']) {
    $message = "Please fill out the form!"; 
    header('Location: index.php?message='.$message); exit;
 } else {
    mysql_query("INSERT INTO user_idea (`id`, `idea`, `time_created`) VALUES(NULL, '$idea', NULL)") or die(mysql_error()); 
    $message = "Idea has been added!"; 
    header('Location: index.php?message='.$message); exit;
 }?> 
```

将错误消息传递给*index.php*并在那里显示。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-29T06:10:58.367

不要在 header() 之前打印输出。将数据存储到会话中或通过 URL 传递。试试这个肯定会对你有所帮助。

# ruby-on-rails - 为 Ruby gem 创建安装生成器

> ID：13619716
> 
> 赞同：7
> 
> 时间：2012-11-29T05:56:04.460
> 
> 标签：ruby-on-rails, ruby, rubygems, generator

我对构建 Ruby gems 很陌生，并且正在尝试我的第一个。我正在为我的 gem 编写一个生成器，它将在我的 Rails 应用程序中生成一个迁移。我希望简单地将 gem 包含在 Rails 应用程序中，运行“rails g mygem:install”让它创建迁移，然后运行“rake db:migrate”完成所有操作。

我找到了几种不同的方法来完成类似的任务，但到目前为止没有任何效果。我似乎无法让 Rails 应用程序找到生成器。我尝试过的最新指南位于：[http](http://www.railsdispatch.com/posts/how-rails-3-enables-more-choices-part-1) ://www.railsdispatch.com/posts/how-rails-3-enables-more-choices-part-1 。

这是我当前的宝石结构的样子：

```
-lib/
  -generators/
    -templates/
      -some_migration.rb
    -install_generator.rb
  -gemname/
    -rails/
      -railtie.rb
      -engine.rb
      -tasks/
        -gemname.rake
  -gemname.rb
 -spec/
 -gemname.gemspec 
```

这是我的 install_generator.rb 文件的样子：

```
require 'rails'

module Gemname
  class InstallGenerator < ::Rails::Generators::Base
    include Rails::Generators::Migration
    source_root File.expand_path('../templates', __FILE__)

    desc "add the migrations"
    def self.next_migration_number(path)
      unless @prev_migration_nr
        @prev_migration_nr = Time.now.utc.strftime("%Y%m%d%H%M%S").to_i
      else
        @prev_migration_nr += 1
      end
     @prev_migration_nr.to_s
    end

    def copy_migrations
     migration_template "some_migration.rb", "db/migrate/some_migration.rb"
    end
  end
end 
```

我不确定我是否缺少某些东西。我正在使用 Rails 3.2 应用程序进行测试，该应用程序的 Gemfile 中列出了我的 gem，并且 gem 已安装。gem 文件夹结构有什么问题可能会阻止我的生成器出现吗？我需要在某处要求什么吗？

任何帮助表示赞赏。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-29T14:40:47.900

好吧，我不确定我所做的哪些更改解决了我的问题，但这是我所做的：

**将生成器的名称更改为 gemname_generator.rb 并将生成器的目录结构更改为：**

```
- lib/
  -generators/
    -templates/
    -gemname_generator.rb 
```

**将此行添加到我的生成器中：**

```
namespace 'gemname' 
```

我现在可以在我的 Rails 应用程序中运行“rails g gemname”并让它调用我的生成器。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-29T08:38:43.790

默认情况下，Rails 不再像以前那样自动加载 lib 中的所有内容。对于需要文件的一些方法，请查看此问题的答案 - [Best way to load module/class from lib folder in Rails 3?](https://stackoverflow.com/questions/3356742/best-way-to-load-module-class-from-lib-folder-in-rails-3) .

# android - 4.1.1 和 4.1.2 之间的 Android Beam 不兼容

> ID：13619721
> 
> 赞同：1
> 
> 时间：2012-11-29T05:56:22.387
> 
> 标签：android, nfc, android-beam

我知道这听起来可能很奇怪，但 android beam 在 4.1.1 和 4.1.2 设备之间不起作用。我有两个 nexus'（4.1.1 和 4.1.2）和一个 xperia U（4.0.3）。我在它们之间测试了这些设备。Android Beam 适用于 4.1.1 和 4.0.3，但不适用于 4.1.2。当我将任何设备靠近 4.1.2 时，会显示触摸束 UI，但交易从未发生。我不知道这是硬件问题还是什么，但我正在修复中。请帮助..

# wcf - Web 服务使用/避免使用哪些端口号（WCF + Rest？）

> ID：13619722
> 
> 赞同：0
> 
> 时间：2012-11-29T05:56:22.083
> 
> 标签：wcf, iis, ports

我正在寻找将 WCF 服务项目部署到 IIS - 目前在同一个项目中的服务既是 wsHttp 又是 webHttp （并不是说它有很大的不同！）。

服务器已经在端口 80 上托管 MVC3 网站，与 Web 服务分开。
将来，服务和站点可能会分开……取决于负载/性能/成本等。

是否有用于 Web 服务的“接受/常用”端口或端口范围？

真正避免的任何范围（*当然忽略明显的端口 - 25/80/8080/443/1521/等）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-29T05:59:48.717

如果您希望您的应用程序能够在各种环境中被人们使用，我强烈建议您弄清楚如何将其托管在端口 80 上。其他一切都会被一种或另一种防火墙阻止。几乎每个公司都允许开放的唯一端口是 80 端口。

我个人的经验来自在非标准端口（端口 4502，尽管它没有太大区别）上托管了一个 Silverlight 可访问的 Web 服务。由于 Silverlight 的网络限制，我们别无选择，但我们一个接一个地遇到了一大堆防火墙问题。帮自己一个忙，把它托管在 80 端口上。

# android - Facebook 应用指南

> ID：13619730
> 
> 赞同：0
> 
> 时间：2012-11-29T05:57:10.943
> 
> 标签：android, facebook, facebook-graph-api

我正在开发一个 android 应用程序，它从 facebook graph api 请求大量数据。如我所见，如果通过图形 api 的请求数量超过一定限制，facebook 不会为您提供所有数据。我尝试过批处理请求，但它们与多个图形 api 请求一样昂贵。我也尝试过 fql，但我没有得到对 fql 中某些查询的响应。为了确保我的应用程序运行顺利并获得我请求的所有数据，我应该遵循哪些指导方针？

编辑

我正在使用 php 收集所有数据。我已经配置了一个服务器来发出所有这些请求。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-29T06:04:13.047

你可以参考：

[链接1](https://stackoverflow.com/questions/4645595/how-to-get-all-friends-name-id-birthday-location-etc-from-facebook-api-in)

[链接2](https://stackoverflow.com/questions/3393610/how-to-get-friends-birthday-list-using-facebook-api)

[链接3](https://stackoverflow.com/questions/6393446/android-facebook-api-user-info-birthdays-and-events-request)

[链接4](https://stackoverflow.com/questions/12251664/android-get-birthday-dates-from-facebook-profile/12274830#12274830)

您还应该发布一些锻炼，以便读者更好地理解并为您的问题获得更好的答案

# android - Activity 显示时会调用哪个生命周期方法？

> ID：13619733
> 
> 赞同：0
> 
> 时间：2012-11-29T05:57:25.500
> 
> 标签：android, android-activity, android-lifecycle

有时我需要在活动刚刚显示时进行一些操作（例如更改布局）。我现在做的是使用`post()`：

```
public class MyActivity extends Activity {

     @Override
     public void onCreate() {
         ...
         container.post(new Runnable(){
               resize(container);
         });
     }
} 
```

有没有什么生命周期方法`onCreate`可以用来简化代码，我不需要调用`post`？

```
@Override
public void onX() {
    resize(container);
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-29T06:12:13.523

我认为您的意思是在显示 UI 后执行某些操作。

使用全局布局监听器对我来说一直很有效。它的优点是能够在布局更改时重新测量事物，例如，如果某些内容设置为 View.GONE 或添加/删除子视图。

```
public void onCreate(Bundle savedInstanceState)
{
     super.onCreate(savedInstanceState);

     // inflate your main layout here (use RelativeLayout or whatever your root ViewGroup type is
     LinearLayout mainLayout = (LinearLayout ) this.getLayoutInflater().inflate(R.layout.main, null); 

     // set a global layout listener which will be called when the layout pass is completed and the view is drawn
     mainLayout.getViewTreeObserver().addOnGlobalLayoutListener(
     new ViewTreeObserver.OnGlobalLayoutListener() {
          public void onGlobalLayout() {
               // at this point, the UI is fully displayed
          }
     }
 );

 setContentView(mainLayout); 
```

[http://developer.android.com/reference/android/view/ViewTreeObserver.OnGlobalLayoutListener.html](http://developer.android.com/reference/android/view/ViewTreeObserver.OnGlobalLayoutListener.html)

# javascript - 尽管在函数内部填充了 Javascript 关联数组，但它返回空/未定义

> ID：13619737
> 
> 赞同：2
> 
> 时间：2012-11-29T05:57:39.447
> 
> 标签：javascript, return-value, associative-array, dynamic-arrays

我正在研究一个 Javascript 函数，它接受一个 XML 文档并创建一个多维（根据需要）关联数组。在函数内部，数组正确构建，但是在返回 Array 对象时，它返回一个空数组。

有趣的是，如果我使用 push 方法，并以 {"index": index, "value":value} 的形式推送一个文字数组，而不是使用赋值运算符 (array[index]=value) 它工作得很好

为了进行测试，我使用了以下 XML 节点对象 (Level_1_node)：

```
<Level_1>
    <Level_2>VALUE</Level_2>
</Level_1> 
```

这是功能：

```
function get_array_from_XML(XML_node){
    var XML_array = new Array();
    var child_node;

    for(var i=0; i<XML_node.childNodes.length; i++){
        child_node = XML_node.childNodes[i];
        if(child_node.childNodes[0]){
            if (child_node.childNodes[0].nodeType == 3){
                XML_array[child_node.nodeName] = child_node.childNodes[0].nodeValue;
            } else {                
                XML_array[child_node.nodeName] = get_array_from_XML(child_node);
            }
        }
    }

    dump(XML_array);  //for my debugging, alerts "LEVEL_2 => VALUE", so everything seems fine

    return XML_array;
} 
```

以下方法有效，但返回格式不理想：

```
function get_array_from_XML_using_push(XML_node){
    var XML_array = new Array();
    var child_node;

    for(var i=0; i<XML_node.childNodes.length; i++){
        child_node = XML_node.childNodes[i];
        if(child_node.childNodes[0]){
            if (child_node.childNodes[0].nodeType == 3){
                XML_array.push({
                    "index" : child_node.nodeName,
                    "value" : child_node.childNodes[0].nodeValue
                });
            } else {                
                XML_array.push({
                    "index" : child_node.nodeName,
                    "value" : get_array_from_XML_using_push(child_node)
                });
            }
        }
    }

    dump(XML_array);  //shows the fully populated array

    return XML_array;
} 
```

现在当我运行`get_array_from_XML(Level_1_node)`它返回一个空数组，但`get_array_from_XML_using_push(Level_1_node)`返回

```
{0 => {"index" => "Level_2", "value" => "VALUE"}} 
```

非常令人沮丧。欢迎任何见解。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-29T06:05:56.230

更改`new Array()`为`new Object()`。构造`Array`函数*不适*用于关联数组；它仅适用于数字索引数组。对象本身在 JavaScript 中兼作关联数组。

```
function get_array_from_XML(XML_node){
    var XML_array = new Object();
    // -------------------^
    var child_node;

    for(var i=0; i<XML_node.childNodes.length; i++){
        child_node = XML_node.childNodes[i];
        if(child_node.childNodes[0]){
            if (child_node.childNodes[0].nodeType == 3){
                XML_array[child_node.nodeName] = child_node.childNodes[0].nodeValue;
            } else {                
                XML_array[child_node.nodeName] = get_array_from_XML(child_node);
            }
        }
    }

    dump(XML_array);  //for my debugging, alerts "LEVEL_2 => VALUE", so everything seems fine

    return XML_array;
} 
```

* * *

## 使用对象作为关联数组

看看下面的例子：

```
var colors = new Object();
colors['red'] = '#f00';
colors['green'] = '#0f0';
colors['blue'] = '#00f';
colors['black'] = '#000';
colors['white'] = '#fff';

conosle.log(colors['red']); // => #f00
conosle.log(colors['green']); // => #0f0
conosle.log(colors['white']); // => #fff

// Use for..in or Object.keys to iterate over an object
for (var key in colors) {
    console.log(key, colors[key]);
}
// Logs all colors and their corresponding code

Object.keys(colors).forEach(function(key) {
    console.log(key, colors[key]);
});
// Also logs all colors and their corresponding code 
```

请注意，`colors['red'] = '#f00';`与 相同`colors.red = '#f00';`。只有当您想要使用无效标识符的字符串或想要使用变量的值作为属性名称时，才真正需要方括号表示法。

# git - 如何开始在我的目录上使用 git 并从 pyrocms 中提取更新的代码？

> ID：13619748
> 
> 赞同：2
> 
> 时间：2012-11-29T05:58:39.580
> 
> 标签：git, version-control, pyrocms

我有一个要使用 git 更新的 pyrocms 版本。核心文件稍作修改。我正在学习 git ( [http://git-scm.com/book](http://git-scm.com/book) )。我知道如何创建目录等等，但我看不到它在哪里被覆盖......

如何开始在我的目录上使用 git 并从 pyrocms 中提取更新的代码？

对人好点。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-29T06:12:42.620

继续阅读书籍：[Git 基础 - 使用遥控器](http://git-scm.com/book/en/Git-Basics-Working-with-Remotes)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-29T06:51:00.973

由于[pyrocms](http://docs.pyrocms.com/)位于[GitHub repo 上](https://github.com/pyrocms/pyrocms/)，这取决于您是否想仅贡献您的更改的版本。

在这两种情况下，在 GitHub 上对该 repo 进行**[fork](https://help.github.com/articles/fork-a-repo)**是最安全的方法：

*   有你自己的本地克隆，你可以修改
*   保持所述本地克隆从原始存储库更新
*   如果您愿意，可以**[拉取请求](https://help.github.com/articles/using-pull-requests)**以便为原始项目做出贡献。

![叉](../Images/a65efe618e3833b405caf9cba7646bae.png)

所以：

*   在 GitHub 上 fork 存储库
*   克隆你的叉子
*   修改您的文件并推回原点
*   不时从“上游”存储库（原始 pyrocms 存储库）中提取，以使您的本地存储库保持最新。

# python - 如何对列表元素求和

> ID：13619752
> 
> 赞同：0
> 
> 时间：2012-11-29T05:58:58.140
> 
> 标签：python, zip, sum

```
list_pairs = str(zip(GetEmpID[row],Duration[row])) 
```

从上面的函数，我得到如下结果。这`1046,8008,8011`是`EmpID`'s 和`1.0,2.3`etc 是值。

```
[(u'1046', 1.0)]
[(u'8008', 2.3)]
[(u'8008', 2.2)]
[(u'8011', 1.3)] 
```

我的结果应该如下所示。如果 EmpID 相同，则添加（总和）该元素。如何在 Python 中执行此操作。

```
[(u'1046', 1.0)]
   total = 1.0    

[(u'8008', 2.3)]
[(u'8008', 2.2)] 
   total = 4.5

[(u'8011', 1.3)]
   total = 1.3 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-29T06:02:11.113

```
answer = []
for empId, entries in itertools.groupby(sorted(list_pairs, key=operator.itemgetter(0)), key=operator.itemgetter(0)):
    answer.append((empId, sum(entry[1] for entry in entries)))

In [17]: list_pairs = [(u'1046', 1.0), (u'8008', 2.3), (u'8008', 2.2), (u'8011', 1.3)]

In [18]: answer = []

In [19]: for empId, entries in itertools.groupby(sorted(list_pairs, key=operator.itemgetter(0)), key=operator.itemgetter(0)):
   ....:     answer.append((empId, sum(entry[1] for entry in entries)))
   ....:     

In [20]: answer
Out[20]: [(u'1046', 1.0), (u'8008', 4.5), (u'8011', 1.3)] 
```

**为了使这个可读**：

```
answer = []
list_pairs.sort(key=operator.itemgetter(0))
groups = itertools.groupby(list_pairs, key=operator.itemgetter(0))
for empId, entries in groups:
    answer.append((empId, sum(entry[1] for entry in entries))) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-29T06:05:06.450

保留一个具有当前 EmpID 的变量以及该 EmpID 迄今为止的值总和。当 EmpID 更改时，将其输出（或将其保存到列表中）

```
list_pairs = str(zip(GetEmpID[row],Duration[row]))
last=""
last_sum=0
for empid, value in list_pairs:
    if empid!=last:
        if last:
            print last, last_sum
        last, last_sum= empid, 0
    else:
        last_sum+=value
print last, last_sum 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-29T11:07:58.337

如果您需要通过在一行中执行来输出，试试这个。

```
data=[(u'1046', 1.0), (u'8008', 2.2999999999999998), (u'8008', 2.2000000000000002), (u'8011', 1.3)]
import itertools
[(key, sum(x for _,x in value))for key, value in itertools.groupby(data, lambda x: x[0])] 
```

# mongodb - MongoDB 更新子文档数组或字典

> ID：13619753
> 
> 赞同：2
> 
> 时间：2012-11-29T05:59:00.343
> 
> 标签：mongodb, pymongo

我正在尝试确定以下哪种模式对于使用 mongodb 实现最有效。我需要跟踪系统中每个用户的好友 ID 和共同好友数量（user_id 在集合中是唯一的）。朋友的数量可能高达 100,000。

模式 1

```
{
“_id” : “…”,
“user_id” : “1”,
friends : {
    “2” : {
        “id” : “2”,
        “mutuals” : 3
    }
     “3” : {
         “id” : “3”,
         “mutuals”: “1”
    }

   “4” : {
         “id” : “4”,
         “mutuals”: “5”
    }
} 
```

}

模式 2

```
{
“_id” : “…”,
“user_id” : “1”,
friends : [
   {
        “id” : “2”,
        “mutuals” : 3
    },
    {
         “id” : “3”,
         “mutuals”: 1
    },
   {
         “id” : “4”,
         “mutuals”: 5
    }
] 
```

}

**要求**：

1.  给定 user_id 和朋友 id 更新文档，如果朋友 ​​id 存在，则将互斥量增加 1，否则添加互斥量为 1 的新朋友
2.  给定 user_id 和朋友 id 更新文档，如果朋友存在并且相互计数 > 1，则将相互计数减 1，否则从文档中删除朋友
3.  使用 id 列表，在文档中查找以确定存在哪些朋友 id（我知道这是可以在客户端完成的事情，但我对服务器端解决方案感兴趣）
4.  应该使用哪些索引来加快上述速度？

在我正在进行的工作中，我已经使用模式 1 实现了大部分功能，但现在我开始意识到它可能不如模式 2 合适。但是，我很难找到解决上述问题的最有效方法。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-29T12:14:34.887

AFAIK，第 1 点和第 2 点不能在 mongoDB 的单个语句中完成。您可能必须查询 mongodb 以检查特定的 user_id、friend.id 组合是否存在。如果确实如此，则更新 else 添加到朋友数组。请参阅下面的 Javascript 代码：

```
 use <dbname>;
    var FriendsList;
    var FriendId = "9";
    var UserId = "1";
    var Friends = db.Friends.findOne({"user_id":UserId, "friends.id":FriendId});
    if (Friends != null){ 
        print ("Friends is not null");
        FriendsList = Friends.friends;
        // print (FriendsList.toSource());
        for (var i = 0; i < FriendsList.length; i++){
            var curFriend = FriendsList[i];
            if (curFriend["id"] == FriendId){
                    curFriend["mutuals"] = curFriend["mutuals"] + 1;
                    FriendsList[i] = curFriend;
                    break;
                }
        }
    }
    if (Friends == null){
            print ("Friends is null");
            Friends = db.Friends.findOne({"user_id":UserId});
            FriendsList = Friends.friends;
            FriendsList.push({"id":FriendId, "mutuals":1});
            // print (FriendsList.toSource());
    }
        Friends.friends = FriendsList;
        db.Friends.save(Friends); 
```

如果您找到更好的方法，请分享。

# primefaces - 如何在 js 文件中打开 p:dialog？

> ID：13619755
> 
> 赞同：3
> 
> 时间：2012-11-29T05:59:09.097
> 
> 标签：primefaces

我想在 js 文件中打开 ap:dialog。我的代码如下： `<h:outputScript name="js/check.js"/> <p:dialog id="dialog1" widgetVar="ex" > </p:dialog>`

在 js 文件中，我编写了一个函数，在里面我尝试过 `ex.show();`，但它说 ex 是未定义的。同样，我也想`p:commandButton` 在该文件中调用 a 并且我尝试过 `document.getElementById("hformid:commandbuttonid").click();`它说它
`document.getElementById("hformid:commandbuttonid")`是空的。如何解决？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-09T06:49:04.437

可能是在您的“check.js”脚本执行后定义的“ex”。假设您使用的是 JQuery，请尝试类似

```
$(document).ready ( function() {
    ex.show();
}); 
```

所以'ex.show();' 将在整个页面解析后执行。

# c# - 通用基类初始化

> ID：13619759
> 
> 赞同：1
> 
> 时间：2012-11-29T05:59:21.530
> 
> 标签：c#, oop, design-patterns, inheritance

取景

BaseA -> SubB -> SubSubC

说明：SubSubC 类继承了 SubB 类。SubB 类继承 BaseA 类

BaseA -> SubD -> SubSubE

说明：SubSubE 类继承 SubD 类。SubB 类继承 BaseA 类

很快..

因此，有许多类的祖父类为 BaseA 。BaseA 类具有所有方法共有的一些属性。例如：CustomerID、LastLogin、UniqueName 等。

这就是我正在使用的服务中类的设计方式。

我的疑问是在调用服务方法时，所有方法都需要任何 SubSub 类的参数。谁能告诉我，有什么办法可以在一个地方为 BaseA 的属性赋值，这样在创建 SubSub 对象时我就不需要每次都填充基本属性？

我使用 C# 作为我的语言。

代码：

```
public class BaseA
    {
        public int CustomerId { get; set; }
        public string UniqueName { get; set; }
    }

    public class SubB : BaseA
    {
    }
    public class SubSubC : SubB
    {

    }

    public class SubD : BaseA
    {
    }
    public class SubSubE : SubD
    {

    }

    public class MyMain
    {
        public void SendRequestToService1()
        {
            (new MyServiceObject()).ServiceMethod1(new SubSubC());
        }

        public void SendRequestToService2()
        {
            (new MyServiceObject()).ServiceMethod2(new SubSubE());
        }
    } 
```

在上面的代码中，在 SendRequestToService1 和 SendRequestToService2 中，我需要初始化基类属性 CustomerId 和 UniqueName。前任：

```
(new SubSubC(){ CustomerId=2, UniqueName="XXBB" }); 
```

如果有很多方法，我需要每次为它们各自的类初始化这些属性。有没有一种方法可以在一个地方初始化基本属性 CustomerId 和 UniqueName，以便继承类（此处为 SubSubC，SubSubE）在创建对象时无需初始化？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-29T06:16:03.653

您是在询问调用基本构造函数吗？如果是这样的话：

```
class SubSubC : SubB
{
    public object CProperty { get; private set; }
    public SubSubC(object cProperty, string bProperty, int id) : base(bProperty, id)
    {
        CProperty = cProperty;
    }
}
class SubB : BaseA
{
    public string BProperty { get; private set; }
    public SubB(string bProperty, int id) : base(id)
    {
        BProperty = bProperty;
    }
}
class BaseA
{
    public int ID { get; private set; }
    public BaseA(int id)
    {
        ID = id;
    }
} 
```

或者您是在询问如何在方法中初始化对象？如果是这样（假设 setter 在以下代码中是公共的，与前面不同）：

```
void SetSubSubCProperties(SubSubC c, object cProperty, string bProperty, int id)
{
    c.CProperty = cProperty;
    SetSubBProperties(c, bProperty, id);
}
void SetSubBProperties(SubB b, string bProperty, int id)
{
    b.BProperty = bProperty;
    SetBaseAProperties(b, id);
}
void SetBaseAProperties(BaseA a, int id)
{
    a.ID = id;
} 
```

好的，亚历克斯·菲利波维奇的回答，看起来您想通过从*不同*派生类的实例复制基类属性来初始化派生类的实例。在这种情况下，为了减少亚历克斯回答中的重复，您可以这样做：

```
void Initialize(BaseA source, BaseA target)
{
    target.CustomerID = source.CustomerID;
    target.UniqueName = source.UniqueName;
} 
```

然后，修改他的例子：

```
public void SendRequestToService1()
{
    var subSub = new SubSubC();
    Initialize(this.baseA, subSub);
    (new MyServiceObject()).ServiceMethod1(subSub);
}

public void SendRequestToService2()
{
    var subSub = new SubSubE();
    Initialize(this.baseA, subSub);
    (new MyServiceObject()).ServiceMethod2(subSub);
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-12-03T08:12:43.577

您是否正在寻找以下功能？

```
 //dummy class replacing the service object and it's methods
    public class MyServiceObject
    {
        public void ServiceMethod1(SubSubC param)
        { }
        public void ServiceMethod2(SubSubE param)
        { }
    }

    public class BaseA
    {
        public int CustomerId { get; set; }
        public string UniqueName { get; set; }
    }

    public class SubB : BaseA
    {
    }
    public class SubSubC : SubB
    {
    }

    public class SubD : BaseA
    {
    }
    public class SubSubE : SubD
    {
    }

    public class MyMain
    {
        //declare the SubSub objects
        //SubSubC subSubC;
        //SubSubE subSubE;
        BaseA baseA;

        public MyMain()
        {
            //assign the values to each class in the MyMain contrsuctor
            baseA = new BaseA { CustomerId = 2, UniqueName = "XXBB" };

        }

        public void SendRequestToService1()
        {
            var subSub=new SubSubC();
            (new MyServiceObject()).ServiceMethod1(Initialize(subSub));
        }

        public void SendRequestToService2()
        {
            var subSub = new SubSubE();
            (new MyServiceObject()).ServiceMethod2(Initialize(subSub));
        }

        private T Initialize<T>(T subSub) where T:BaseA
        {
            subSub.CustomerId = baseA.CustomerId;
            subSub.UniqueName = baseA.UniqueName;
            return subSub;
        }
    }

    class Program
    {
        static void Main(string[] args)
        {
            MyMain myMain = new MyMain();
            myMain.SendRequestToService1();
            myMain.SendRequestToService2();
        }
    } 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-29T06:03:16.917

不确定我是否理解你的问题。

```
public class A {
  public int ID { get; set; }
}

public class B : A {
} 
```

你可以做`B b = new B()`然后`b.ID = 12`。

* * *

或者，如果您有一个`A`在服务中获取类型参数的方法，您可以以相同的方式更改该值。

```
public void doSomething(A a) {
  a.ID = 12;
} 
```

并使用以下实例调用该方法`B`-`doSomething(new B())`

# objective-c - 如何从 NSString 中删除/替换/显示 unicode 字符

> ID：13619771
> 
> 赞同：1
> 
> 时间：2012-11-29T06:00:29.317
> 
> 标签：objective-c, ios, xcode, unicode

我正在解析[http://maps.google.com/maps/geo?q=48.209946,11.539421&output=csv](http://maps.google.com/maps/geo?q=48.209946,11.539421&output=csv)。回复是 200,8，“Lerchenstraße 66, 80995 Munich, Germany”。我只显示 CityName，即“Lerchenstraße 66”。但问题是 CityName 字符串包含 Unicode 字符，并且在视图中显示为“Lerchenstra\U00dfe66”。输出应类似于“Lerchenstrasse”或“Lerchenstraße”。

```
-(void) httpDataDidFinishLoadingWithData:(NSData *)theData {
  m_activityLoaded=NO;
  temp=[[NSString alloc] initWithData:[dataLoader httpData] encoding:NSUTF8StringEncoding];
  NSArray *listItems = [temp componentsSeparatedByString:@","];
  NSArray *tempCountryArray = [[listItems objectAtIndex:[listItems count]-3] componentsSeparatedByString:@"\""];
  NSString *string = [NSString stringWithFormat:@"%@", tempCountryArray];
  NSString *strTe=[[[[string
    stringByReplacingOccurrencesOfString:@"(" withString:@""]
    stringByReplacingOccurrencesOfString:@")" withString:@""]
    stringByReplacingOccurrencesOfString:@" " withString:@""]
    stringByReplacingOccurrencesOfString:@"\"" withString:@"" ];
  self.cityNameString = strTe;
  NSLog(@"CITY NAME IS : %@", strTe);
} 
```

请帮我。提前致谢。

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2012-11-29T07:01:48.057

我得到了答案。感谢您的支持和建议。代码是：

```
NSString* esc1 = [strTe stringByReplacingOccurrencesOfString:@"\\u" withString:@"\\U"];
NSString* esc2 = [esc1 stringByReplacingOccurrencesOfString:@"\"" withString:@"\\\""];
NSString* quoted = [[@"\"" stringByAppendingString:esc2] stringByAppendingString:@"\""];
NSData* data = [quoted dataUsingEncoding:NSUTF8StringEncoding];
NSString* unesc = [NSPropertyListSerialization propertyListFromData:data
  mutabilityOption:NSPropertyListImmutable format:NULL
  errorDescription:NULL];
assert([unesc isKindOfClass:[NSString class]]);
NSLog(@"Output = %@", unesc); 
```

输出是“Lerchenstraße66”。

# ios - Viewdid加载和卸载

> ID：13619773
> 
> 赞同：0
> 
> 时间：2012-11-29T06:00:31.220
> 
> 标签：ios, memory-management

目前我在用完大量内存时遇到了麻烦，我正在尽我所能削减和优化涉及内存的代码......目前我的游戏有大部分 Nib 文件加载它的所有变量ViewDidLoad，现在我的问题是，在我的 viewDidUnload 中，我不仅应该将 viewdidunload 中的所有内容都归零，而且还应该释放它？即使它不是IBoutlet？

另外，如果我释放它并将其归零，则 IBoutlet 或 NSMutablearray ..我还应该在 dealloc 中释放它吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-29T06:04:39.967

在 dealloc 上释放您的实例变量，并在 viewDidUnload 上将您的属性变量设置为 nil。

另外，为什么不在 Xcode 上为您的项目启用 ARC（自动引用计数）。如果您不熟悉 Objective-C 的内存管理，我强烈建议您利用此功能。比垃圾收集器更好，它会自动检测何时不再需要对象并释放它。

# javascript - JQuery 移动网站中的 CSS 和 JS 文件

> ID：13619774
> 
> 赞同：0
> 
> 时间：2012-11-29T06:00:32.577
> 
> 标签：javascript, css, jquery-mobile

我们需要在 JQueryMobile 开发的移动网站的每个 html 页面中包含 CSS 和 JS 文件吗？

```
<link rel="stylesheet" href="http://code.jquery.com/mobile/1.2.0/jquery.mobile-1.2.0.min.css" />
<script src="http://code.jquery.com/jquery-1.8.2.min.js"></script>
<script src="http://code.jquery.com/mobile/1.2.0/jquery.mobile-1.2.0.min.js"></script> 
```

我认为它不在[文档](http://jquerymobile.com/demos/1.2.0/docs/pages/index.html)中，或者我只是错过了它。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-29T08:08:43.483

您应该有一个 html 文档，其中包含`<div data-role="page">`应用程序中所需的每个页面。查看[多页模板](http://jquerymobile.com/demos/1.2.0/docs/pages/multipage-template.html)的源代码。

```
<html>

   <head>
     <meta charset="utf-8">
     <meta name="viewport" content="width=device-width, initial-scale=1"> 
     <title>Multi-page template</title> 

     <!-- CSS and JS files here-->
     <link rel="stylesheet" href="http://code.jquery.com/mobile/1.2.0/jquery.mobile-1.2.0.min.css" />
     <script src="http://code.jquery.com/jquery-1.8.2.min.js"></script>
     <script src="http://code.jquery.com/mobile/1.2.0/jquery.mobile-1.2.0.min.js">/script>
   </head> 

   <body> 

     <div data-role="page" id="first">
       <!-- Code for your first page -->
     </div>

     <div data-role="page" id="second">
       <!-- Code for your second page -->
     </div>

  </body>
</html> 
```

# java - 在java中拆分美国电话号码？

> ID：13619777
> 
> 赞同：-9
> 
> 时间：2012-11-29T06:00:46.693
> 
> 标签：java, regex

我有如下要求。我有美国电话号码 (10) 位，我需要从中提取区号、前缀和号码。

```
Ex: 1234567890
it should take 1234567890 and it should return 3 strings as below:

123
456
7890 
```

我怎样才能做到这一点？

谢谢！

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-11-29T06:03:23.483

```
String areaCode = number.substring(0,3);
String prefix = number.substring(3,6);
String rest = number.substring(6); 
```

希望有帮助！

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-11-29T06:13:52.090

```
import java.util.Scanner;

Scanner keyboard = new Scanner(System.in);
System.out.print("Please enter the 10-digit phone number, e.g. 1234567890");
String phoneNum = Integer.toString(keyboard.nextInt()); 

String first = phoneNum.substring(0,3);
String second = phoneNum.substring(3,6);
String third = phoneNum.substring(6);

System.out.println(first);
System.out.println(second);
System.out.println(third);

Run Output:

A prompt appears asking for this:
Please enter the 10-digit phone number, e.g. 1234567890

You enter (for example) 1234567890.

Method takes the substrings, and prints them on its own separate line.
Final Output: 

123
456
7890 
```

希望有帮助！

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-29T06:49:24.707

你也可以试试这个模式：

```
(\d){3}(\d){3}(\d){4}$ 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-11-29T06:26:12.363

字符串 str = "1234567890";

```
 System.out.println(str.substring(0,3));
    System.out.println(str.substring(3,6));
    System.out.println(str.substring(6)); 
```

# c++ - 是否有共享引用计数智能指针之类的东西？

> ID：13619779
> 
> 赞同：1
> 
> 时间：2012-11-29T06:01:06.933
> 
> 标签：c++, boost, smart-pointers, raii, reference-counting

使用的程序员`boost::shared_ptr`需要避免循环，以免造成资源泄漏。一般建议是`boost::weak_ptr`在可能创建此类循环的情况下使用 a 。然而，这样做会造成意图上的差距，人们可能更喜欢使用 a`shared_ptr`但不是仅仅因为循环问题而这样做。

不过，在我看来，应该可以创建一种特殊的 shared_ptr，它通过链接循环中所有指针的引用计数来避免循环问题。既然我能想到一种方法来做到这一点，我想知道这样的事情是否存在。

为了证明我不是疯了，或者我可能是疯了，我提供了以下经过深思熟虑和丑陋的概念证明：

```
#define BOOST_NO_MEMBER_TEMPLATE_FRIENDS

#include <boost/shared_ptr.hpp>
#include <iostream>

template <typename T>
struct shared_count_ptr
{
    boost::shared_ptr<T> innerPtr;
    template <typename TT>
    void link( boost::shared_ptr<T> & sharedPtr, boost::shared_ptr<TT> & linked )
    {
        innerPtr    = sharedPtr;
        innerPtr.pn = linked.pn;
    }
};

struct Hand;
struct Arm
{
    Arm()  { std::cout << "Creating Arm\n";   }
    ~Arm() { std::cout << "Destroying Arm\n"; }

    shared_count_ptr<Hand> hand;
};

struct Hand
{
    Hand()  { std::cout << "Creating Hand\n";   }
    ~Hand() { std::cout << "Destroying Hand\n"; }

    shared_count_ptr<Arm> arm;
};

int main()
{
    boost::shared_ptr<Arm> savedArm;

    std::cout << "Scope 0 entered\n";
    {
        std::cout << "\tScope 1 entered\n" ;

        boost::shared_ptr<Arm> arm( new Arm );
        {
            std::cout << "\t\tScope 2 entered\n";
            boost::shared_ptr<Hand>  hand( new Hand );

            hand->arm.link( arm, arm->hand );
            arm->hand.innerPtr = hand;

            savedArm = arm;
        }
        std::cout << "\t\tScope 2 exited\n";
    }
    std::cout << "\tScope 1 exited\n";
    std::cout << "\tScope 0 about to exit\n";

    return 0;
} 
```

一般概念是，在想象的眼中`shared_count_ptr`，手臂和手实际上是同一个对象。

所以：

*   **这样的想法是否已经存在`boost`？**
*   **如果不是，是不是因为这是一个糟糕的主意？**（或者我只是想出了一些聪明的东西？）

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-29T08:59:27.217

这是一个简单的测试。在 17 个顶点上创建一个完整的图，这样程序只指向顶点 0。开始随机删除边。你的想法行得通吗？（剧透：它没有）。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-29T08:19:49.187

我想你*可以*按照这些思路做一些事情。但是，在这样的结构中，每个指针都`A`需要了解每个其他指针`B`，以便`B`可以从中访问`A`，反之亦然。我不明白这怎么可能扩展到超过少量互连的指针。

看起来如果你想在没有程序员帮助的情况下支持循环引用，你或多或少需要一个成熟的垃圾收集器，而不是一个简单的引用计数方案（我很想在这方面被证明是错误的）。

# python - Django：当用户根本不填写表单时如何引发异常？

> ID：13619780
> 
> 赞同：2
> 
> 时间：2012-11-29T06:01:21.110
> 
> 标签：python, django, forms

***当用户点击注册表单上的“提交”按钮而没有填写表单上的任何*字段时，如何引发异常？**

* * *

如果发生这种情况，**我只想显示单个错误**（“请在提交前填写表单。”），而不显示通常会在用户忘记填写必填字段时显示的字段错误。

换句话说，如果用户在没有填写单个字段的情况下点击提交按钮，我希望它只显示一个错误：“请在提交前填写字段。”

* * *

我认为可能有两种方法可以实现这一目标：

*   在表单的干净方法中的某处生成错误；并在模板中有一个 if 语句，*如果产生此错误，则忽略所有其他错误*。

*   *一旦用户点击提交按钮，就会在实际模板中*生成错误（我不确定这是否可能）。

第一个选项的问题是我需要使用 if 语句，如下所示。但我不知道如何挑出那个特定的错误。

```
{% if form.special_error %}
...display the special error
...disregard any other field or non_field errors
{% endif %} 
```

我只知道如何在 if 语句中使用`form.errors`,`form.non_field_errors`和。`form.<specific_field>`这些都不会明确表明发生了这种特殊错误。

必须有一个简单的方法来做到这一点！！！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-29T06:12:50.230

如果是这种情况，您可以在服务器端检查表单是否已更改而不是验证它。通过做这个：

```
def submit_form(request):
   if request.method == 'POST':
         form = Form(request.POST)
         if not form.has_changed():
             #Generate Error 
```

# c - Valgrind 给出不正确的行号

> ID：13619782
> 
> 赞同：4
> 
> 时间：2012-11-29T06:01:24.640
> 
> 标签：c, ubuntu, valgrind

我目前正在运行 Ubuntu Raring Ringtail x86。全新安装和更新后，我根据“Learning C The Hard Way”教程中的说明安装了 Valgrind 3.8.1。但是，我可以运行 Valgrind，而不是在代码中给出错误的行号，它只会给我这个：

```
==9300==    by 0x4060714: (below main) (libc-start.c:227) 
```

*完整的 Valgrind 报告在这里： http: [//pastebin.com/1spmkFrU](http://pastebin.com/1spmkFrU)*

我确定我正在使用 -g 标志，并且使用*--track-origins=yes*只会显示错误函数的开始位置，而不是函数内错误的位置。（这是使用*--track的结果：* [http](http://pastebin.com/ktvY8HEM) : //pastebin.com/ktvY8HEM ）

这是我正在尝试使用的生成文件和代码：

生成文件：

```
CFLAGS=-Wall -g

EXECUTABLES=ex1 ex3 ex4

all: $(EXECUTABLES)

clean:
    rm -f $(EXECUTABLES) 
```

代码：

```
#include <stdio.h>

/*This program is purposefully broken */

int main()
{
    int age = 10;
    int height;

    printf("I am %d years old.\n");
    printf("I am %d inches tall.\n", height);

return 0;
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-29T06:23:21.983

堆栈分配语义`main()`有点奇怪。尝试将错误代码放在另一个函数中，从 调用它`main()`，您可能会得到更有意义的结果。

更重要的是，尝试将`-Wall`和添加`-O`到您的`CFLAGS`. 未使用的变量和误用`printf()`都可以在编译时检测到。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-05-09T13:26:33.497

这发生在我身上，在同一个教程的练习 8 中。即使启用了跟踪，Valgrind 也没有发现访问非法地址的行。

似乎对程序来说不是致命的错误，但包括访问非法地址的内存，Valgrind 没有“固定”。您可以在此处阅读有关这些内容的更多信息： [Valgrind 文档摘录](http://cs.ecs.baylor.edu/~donahoo/tools/valgrind/messages.html)

我猜 Valgrind 不会让你免于访问记忆中的错误位置，所以我们必须格外小心。

# ios - 使用 multipart/mixed 在 ios 中上传图像和 json

> ID：13619783
> 
> 赞同：1
> 
> 时间：2012-11-29T06:01:29.037
> 
> 标签：ios

我是 ios webservices 的新手，所以在过去的 2 到 3 天里我遇到了一个问题，我必须向服务器发送一个请求，它有多个部分，如图像和 json，我尝试使用 multipart/form-data 来发送我的请求，但由于某种原因服务器无法获得请求，谁能帮我解决这个问题

我正在使用的代码是

```
NSData *imageData = UIImagePNGRepresentation(img);

   NSMutableURLRequest *theRequest =[NSMutableURLRequest requestWithURL:theURL];

    NSString *boundary = [NSString stringWithFormat:@"---------------------------14737809831466499882746641449"];

 NSString *contentType = [NSString stringWithFormat:@"multipart/form-data; boundary=%@", boundary];

    [theRequest addValue:contentType forHTTPHeaderField:@"Content-Type"];
[theRequest setHTTPMethod:@"POST"];

 NSMutableString *theBody = [[NSMutableString alloc]init];

    [theBody appendString:[NSString stringWithFormat:@"\r\n--%@\r\n", boundary]];

     [theBody appendString:[NSString stringWithFormat:@"Content-Type: application/json\r\n\r\n"]];

//append The Json string

[theBody appendString:myJsonString];

[theBody appendString:[NSString stringWithFormat:@"%@", boundary]]; 

//this appends the image

[theBody appendString:[NSString stringWithFormat:@"Content-Disposition: form-data; name=\"data\"; filename=\"photo\""]];

[theBody appendString:[NSString stringWithFormat:@"Content-Type: image/png\r\n\r\n"]];

[theBody appendString:[NSString stringWithFormat:@"%@",imageData]];

[theBody appendString:[NSString stringWithFormat:@"\r\n--%@\r\n", boundary] ];

[theRequest setHTTPBody:[theBody dataUsingEncoding:NSUTF8StringEncoding]]; 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-29T06:08:19.333

直接使用 NSMutableURLRequest 感觉很复杂，请尝试使用“ASIFormDataRequest”，很好用。它们还具有许多其他功能，例如缓存响应、取消请求。文档在[这里](http://allseeing-i.com/ASIHTTPRequest/)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-29T06:14:58.083

所以，基本上我知道你在`JSON`.

在这种情况下，您首先可以做的事情是在`NSData`需要编码器方案的数据中和之后分解图像`Base64`，如下所示：

```
[Base64 encode:(NSData)data] 
```

现在，您可以存储在所需的结构中，例如如果您需要存储在字典中，那么您可以实现相同的效果，如下所示：

```
NSMutableDictionary* dict = [NSMutableDictionary new];
[dict setObject:[Base64 encode:data] forKey:@"imageBytes"]; // I did in single step but if you need you can do two steps... 
```

现在，只需使用`JSON`之前使用的 。

有任何问题，请告诉我。:)

# eclipse - 即使安装插件后，M2E 插件选项也不可见

> ID：13619784
> 
> 赞同：1
> 
> 时间：2012-11-29T06:01:33.207
> 
> 标签：eclipse, maven, m2e

我正面临 M2E 插件和 Eclipse 3.6(Helios) 最奇怪的问题。我正在使用 Maven 2.2.1

我通过可用的站点选项和市场客户端安装了插件，并且插件安装正常。然而，Maven 选项似乎间歇性地从编辑器中消失。我这样说是因为当我右键单击一个项目时，我应该获得 Maven 选项，但我看不到任何选项。我还检查了 Window->Preferences 并找不到 Maven 选项。最糟糕的是这是间歇性的，我似乎无法弄清楚出了什么问题。

更改 IDE 版本不是一种选择，因为必须在客户端提供的软件中进行开发。

从 M2E 获得 M2E 插件 - [http://download.eclipse.org/technology/m2e/releases](http://download.eclipse.org/technology/m2e/releases)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-10T10:45:40.037

我不再面临这个问题了。我唯一做的就是从市场上重新安装了几次 m2e 插件，它似乎最终被修复了。

问候， 阿伦

# bash - awk 将制表符更改为空格

> ID：13619786
> 
> 赞同：0
> 
> 时间：2012-11-29T06:01:47.420
> 
> 标签：bash, awk

数据：

`Sandnes<space>gecom<tab>Hansen<tab>Ola<space>Timoteivn<space>10`

我用文件中的变量替换特定列（例如：第 2 列）值。所以我正在使用命令：

```
varz="zipval"
awk -v  VAR=$varz '{$2=VAR}1' OutputFile.log 
```

awk 处理后将所有制表符替换为空格。所以我使用了 OFS="\t" 。

但它会删除标签的每个空格 `Sandnes<tab>gecom<tab>Hansen<tab>zipval<tab>Timoteivn<tab>10`

如何处理。谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-29T07:53:18.407

您的问题是 awk 拆分您的输入`FS=[ \t]+`，然后用`OFS=' '`or重新组合它`OFS='\t'`。我认为您无法进行额外的拆分。像这样的工作：

```
<data awk -v VAR="$varz" 'BEGIN { FS=OFS="\t" } { split($1, a, " +"); $1 = a[1]" "VAR } 1' 
```

输出：

```
Sandnes zipval^IHansen^IOla Timoteivn 10 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-29T06:05:03.403

使用此脚本将第 no 列传递给您的 awk 脚本：

```
varz="zipval"
awk -v VAR=$varz -v N=6 '{sub($N, VAR)}1' OutputFile.log 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-29T06:14:17.987

以下在我的地方工作正常：

```
> setenv var "hi"
> echo "1 2 3 4 5 6 7" | awk -v var1=$var '{$6=var1}1'
1 2 3 4 5 hi 7
> 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-29T13:46:27.050

您没有发布您想要的输出，甚至没有告诉我们您想要替换哪些特定文本（“第二个字段”可能意味着几件事）所以这是一个猜测，但假设您的输入文件是制表符分隔的字段，您只需要引用您的 shell 变量并分配 FS 和 OFS：

```
varz="zipval"
awk -v VAR="$varz" 'BEGIN{FS=OFS="\t"} {$2=VAR} 1' OutputFile.log 
```

我还建议您不要使用全大写作为变量名，因为它用于识别 awk 内置变量（NR、NF 等）。

# php - ebook-convert 不将 epub 转换为 pdf

> ID：13619788
> 
> 赞同：1
> 
> 时间：2012-11-29T06:02:12.560
> 
> 标签：php, pdf-generation, epub, calibre

```
1% 
Converting input to HTML... 
InputFormatPlugin: EPUB Input running on /opt/lampp/htdocs/test.epub 
Found HTML cover content/calibre_title_page.html 
Parsing all content... 
34% 
Running transforms on ebook... 
Merging user specified metadata... 
Detecting structure... 
Flattening CSS and remapping font sizes... 
Source base font size is 12.00000pt 
Removing fake margins... 
Cleaning up manifest... 
Trimming unused files from manifest... 
Creating PDF Output... 
67% 
Creating PDF Output 
```

下面是我在 PHP 文件中使用的代码

```
$output = shell_exec("ebook-convert test.epub mej.pdf");
echo $output; 
```

请帮助我完成一个项目所需的。

提前致谢

# grails - Grails 2.1 createCriteria 参数问题

> ID：13619789
> 
> 赞同：0
> 
> 时间：2012-11-29T06:02:14.027
> 
> 标签：grails, grails-orm, grails-2.0

编辑-

我正在尝试返回一个投资组合列表，以及我的 2 个域类中附加到每个投资组合的最后 5 个出版物。我得到了最后一共 5 个出版物，每个列表显示全部 5 个。查询没有返回特定实例拥有的出版物。凯利的伟大想法又回到了另一条轨道。

我在投资组合控制器中创建了该方法，该方法是属于投资组合域类的出版物的 hasMany 方面。

我似乎无法让投资组合列出他们自己的出版物。如果我更改 eq 投资组合，一切正常，除了每个投资组合列表显示相同的出版物。

我如何加载每个投资组合并列出最后 5 个出版物。这是从投资组合/列表页面作为部分呈现的。这可能是问题吗。我应该只从与投资组合列表操作无关的新视图呈现它吗？

grails 的新手并且已经阅读并阅读了文档，只是似乎无法让参数查询正确返回。帮助

```
def _webList (){
    //def per = Portfolio.properties
    def portfolios = Portfolio.list(params.id)
    def results = Publication.withCriteria {

        eq('published', 'Yes')
        order('lastUpdated', 'desc')
        maxResults(5)
    }

    def reportscount = Publication.count()

    [ portfolios: portfolios, results: results, reportscount: reportscount]
} 
```

如果需要，我可以显示 sql 日志。

* * *

**编辑**

以下代码是文件 _webList.gsp 的全部部分。顶部 div -alert 在页面上加载，但 div 属性列表组合中的内容无法加载。使用 Kelly 的休眠条件会在 sql 日志中生成查询，但不会将结果或样式或任何内容返回到视图中？？诡异的。！

```
<div class="alert alert-info" xmlns="http://www.w3.org/1999/html">Permissions apply to    <strong>editing</strong> publications.<br>
<div style="display: inline;"><p>Click portfolio name to read or edit publications. Total number of sites: <strong>${rsNumb}</strong> | Total number of publications:  <strong>${reportscount}</strong> </p>
</div>
</div>
<div class="property-list portfolio">
<g:each in="${portfolios}" var="portfolioInstance">
<div class="site-listing">
    <div><span class="label">Site Name:</span><g:link action="show" id="${portfolioInstance?.id }">${portfolioInstance?.portfolioName?.encodeAsHTML()}</g:link></div>
    <div><span class="label">Site Description:  </span>${portfolioInstance?.portdescrip?.encodeAsHTML() }</div>   <br>
    <div><span class="label">Site Administrator: </span>${portfolioInstance?.profile?.portfolioAdmin?.encodeAsHTML() }</div>   <br>
    <div><span class="label"> Total publications:</span><span class="badge badge-success"> ${portfolioInstance?.publications?.size()}</span> </div>
 <!-- whatever else you need here -->
 <!-- now iterate through the pubs -->
    <g:if test="${portfolioInstance?.publications}">
        <g:set var="publicationInstance" />
            <ul class="site-publication">
                 <li class="fieldcontain">
                     <span id="publications-label" class="property-label"><g:message code="portfolio.publications.label" default="Last 5 published publications:" /></span>
                         <g:each in="${portfolioInstance.publications}" var="publicationInstance">
                             ${publicationInstance?.id}
                                <span class="property-value" aria-labelledby="publications-label"><g:link controller="publication" action="show" id="${publicationInstance.id}">${publicationInstance?.encodeAsHTML()}</g:link></span>
<!-- and again whatever else you need here -->
                         </g:each>
        </g:if>
</g:each>
</div> 
```

* * *

**编辑**- 下面的 sql 日志

```
Hibernate: select this_.id as id5_1_, this_.version as version5_1_, this_.date_created as date3_5_1_, this_.last_updated as last4_5_1_, 
this_.portdescrip as portdesc5_5_1_, this_.portfolio_name as portfolio6_5_1_,   this_.portpublished as portpubl7_5_1_, this_.profile_id as profile8_5_1_, 
this_.status as status5_1_, 
publicatio1_.portfolio_id as portfolio5_5_3_, 
publicatio1_.id as id3_, publicatio1_.id as id2_0_, 
publicatio1_.version as version2_0_, 
publicatio1_.date_created as date3_2_0_, 
publicatio1_.last_updated as last4_2_0_, 
publicatio1_.portfolio_id as portfolio5_2_0_, 
publicatio1_.publication_content as publicat6_2_0_, 
publicatio1_.publication_name as publicat7_2_0_, 
publicatio1_.published as published2_0_, 
publicatio1_.publisheddate as publishe9_2_0_, 
publicatio1_.publishedemail as publish10_2_0_, 
publicatio1_.pubproduct_id as pubproduct11_2_0_ 
from portfolio this_ left outer join publication publicatio1_ 
on this_.id=publicatio1_.portfolio_id where (this_.status=?) 
and (publicatio1_.published=?) order by publicatio1_.last_updated desc 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-29T08:35:59.447

你得到了`java.lang.ClassCastException`因为`portfolios`是一个列表，而`portfolio`在`Publication`类中（可能）不是，它可能是一个 id（长）；无法以任何有意义的方式将列表与 long in 进行比较`eq ('portfolio', portfolios)`

由于域类是相关的，因此您不需要两个单独的查询。

--EDIT-- 编辑不使用单独的动作，只使用列表动作。我也无法`include`正常工作，但以下几乎是我在几十个案例中所拥有的。如果出于某种原因您不能这样做，那么关于仅使用该`include`机制的新问题可能会引起一些关注。

我不确定您当前的列表操作是什么样的。这就是我如何编写一个列表方法来获取所有投资组合及其最近的 5 个出版物。不需要任何参数，因为我要返回所有投资组合。

```
//PortfolioController
def list (){ 
    def portfolios = Portfolio.createCriteria().list {
        //if you needed to filter the list by for example portfolio status or something you could add that here
        or {
            eq('status','ACTIVE')
            eq('status','PENDING')
        }
        publications(org.hibernate.criterion.CriteriaSpecification.LEFT_JOIN) {
            eq("published", "Yes")
            order("lastUpdated", "desc")
            firstResult(5)
        }
    }

    [portfolios: portfolios, portfolioCount:portfolios.size()]
} 
```

现在，出版物已预先附加到他们的投资组合中。

上面的 LEFT_JOIN 部分确保您返回一个投资组合列表，其中仅附有符合标准的出版物；如果您忽略它，则默认为内部连接，并且当您迭代时，您将获得该投资组合的所有出版物（即使它们不符合标准）。

然后在您的 gsp 中遍历投资组合 - 它可以直接 `list.gsp`在`list.gsp`. 如果你把它放在一个名为的模板中，`_webList.gsp`你会在`list.gsp`as

```
<g:render template="weblist" model="['portfolios': portfolios]" /> 
```

这是在`list.gsp`或`_webList.gsp`- 我会直接从它开始，`list.gsp`以确保它一切正常。

```
<g:each in="${portfolios}" var="portfolioInstance" status="i">
    ${portfolioInstance?.portfolioName?.encodeAsHTML()
    <!-- whatever else you need here -->
    <!-- now iterate through the pubs -->
    <g:each in="${portfolioInstance.publications"} var="publicationInstance" status="j">
        ${publicationInstance.id}
        <!-- and again whatever else you need here -->
    </g:each>
</g:each> 
```

--EDIT-- `firstResult(5)`似乎可以解决问题。 - 编辑 -

你会注意到我`maxResults(5)`在那里有评论 - 我无法让它正常工作。即使它在关联块中，它似乎也控制了返回的投资组合的数量。也许其他人会看到这一点并添加那块拼图 - 或者自己修补它。如果我弄清楚了，我会继续尝试和更新。

# objective-c - Obj - C 参数名称 WITH vs WITHOUT

> ID：13619790
> 
> 赞同：0
> 
> 时间：2012-11-29T06:02:15.430
> 
> 标签：objective-c

我是一名java程序员和学习

Obj - C 函数参数

当我看到函数声明时

```
- (void) fraction: (int) n over:(int) n2; 
```

和

```
- (void) fraction: (int) n :(int) n2; 
```

他们之间有什么区别？我应该什么时候在它们之间使用？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-29T06:08:21.100

第一个方法的名称是`fraction:over:`.

第二种方法的名称是`fraction::`.

显然，名字更清楚。未命名的参数是有效的，但不是很自我记录。我个人从不使用第二种形式。

# ruby-on-rails - 没有为 user_recent_media 获取 instagram api 的 next_max_tag_id

> ID：13619796
> 
> 赞同：0
> 
> 时间：2012-11-29T06:02:45.323
> 
> 标签：ruby-on-rails, instagram

我正在访问 user_recent_media 的 instagram api 并进行分页。但没有在响应中获取数据标签和分页标签。所以 next_max_tag_id 丢失了。

你能建议我哪里出错了。谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-03T21:51:00.010

有关端点结果的一般信息，请参阅[http://instagram.com/developer/endpoints/](http://instagram.com/developer/endpoints/)。该页面还提到了可用的分页属性......对于支持分页的端点。

# android - android中的活动指示器

> ID：13619807
> 
> 赞同：0
> 
> 时间：2012-11-29T06:03:43.180
> 
> 标签：android, widget, activity-indicator

在我的应用程序中，我在galleryview 中加载数据。如果用户单击galleryview 中的任何项目，我将从适配器类加载数据。我在此加载和显示数据之间保留了一个活动指示器。但活动指示器并没有消失，它一直在显示。

我的活动代码：

```
gal.setOnItemClickListener(new OnItemClickListener() 
       {                                                                                                                                                                                                                                                                                                                    
        @Override
        public void onItemClick (AdapterView<?> parent, View v, int position,
                long id) {
            // TODO Auto-generated method stub  

//           mDialog = new ProgressDialog(NewsPaperNov28MainGalleryActivity.this);
//           mDialog.setMessage("Please wait...");
//           mDialog.setCancelable(false);

             mDialog=  ProgressDialog.show(NewsPaperNov28MainGalleryActivity.this,"Working..", "Please Wait", true,false);           
             context.getInstance().setAppVariable("sectionurl", adapter.sectionurl[position]);
             Thread thread = new Thread();
             thread.start();

//          ListView list=(ListView)findViewById(R.id.list);
//          listadapter = new ListViewwithimageAdapter(this);
//          list.setAdapter(listadapter);        

        }
    });

        list.setOnItemClickListener(new OnItemClickListener() 
        {

            @Override
            public void onItemClick(AdapterView<?> parent, View view,
                    int position, long id) 
            {

                // TODO Auto-generated method stub
                context.getInstance().setAppVariable("storyurl", listadapter.url[position]);        
                Intent in = new Intent(getApplicationContext(), NewsDescription.class);
                startActivity(in);

            }
        });
    }
    @Override
    public void run() {
        // TODO Auto-generated method stub
//      context.getInstance().setAppVariable("sectionurl", adapter.sectionurl[position]);
        System.out.println("inside run");
        list=(ListView)findViewById(R.id.list);
        listadapter = new ListViewwithimageAdapter(this);
        System.out.println("B4 handle");
        handler.sendEmptyMessage(0);
    }

     private Handler handler = new Handler() {
         @Override
         public void handleMessage(Message msg) {
             System.out.println("Inside handler");
                 mDialog.dismiss();
                 list.setAdapter(listadapter);

         }
 }; 
```

我的 ListViewwithimageAdapter 类：

```
public class ListViewwithimageAdapter extends BaseAdapter
{
    private static Context contxt;
    final String URL = "http://xxxxxxx/xml/stories/"+rgd.xml;   
     String[] kickerimage = {};//new String[50];

    ListViewwithimageAdapter(Context conxt)
    {

        this.contxt=conxt;
        getelement();

    }

         public ListViewwithimageAdapter(
            OnItemSelectedListener onItemSelectedListener) 
         {
        // TODO Auto-generated constructor stub
//           this.contxt=conxt;
            getelement();
    }

        public ListViewwithimageAdapter(OnItemClickListener onItemClickListener) {
            // TODO Auto-generated constructor stub
            getelement();
        }

        String[] itemsarray = {};//new String[100];
        String[] url= {};//new String[30];
    public String[] getelement()
    {
//        System.out.println("Insid getelement");
          ArrayList<String> menuItems = new ArrayList<String>();
          TaplistingParser parser = new TaplistingParser();
//        System.out.println("url="+URL);
          String xml= parser.getXmlFromUrl(URL);
          Document doc=parser.getDomElement(xml);        
//        System.out.println("sssss="+doc);
          NodeList nl=doc.getElementsByTagName("article"); 
          kickerimage = new String[nl.getLength()];
          url = new String[nl.getLength()];

//        String headings = null;

          for(int i=0; i < nl.getLength(); i++)
          {

//            System.out.println("i="+i);
            HashMap<String, String> map = new HashMap<String, String>();
            Element e = (Element) nl.item(i);
//          map.put("Title", parser.getValue(e, "title"));
//          map.put("Date", parser.getValue(e, "create_date"));         
            url[i]=parser.getValue(e, "url");
//          System.out.println("b4 kick");
//          System.out.println("value="+parser.getValue(e, "title"));
            kickerimage[i]=parser.getValue(e, "kickerimage");
//          System.out.println("after kick");
//          System.out.println("kick="+kickerimage[i]);
            menuItems.add(parser.getValue(e, "title"));          
          }  
//         System.out.println("b4 items array");
           itemsarray = new String[menuItems.size()];
//         System.out.println("subbu");
           itemsarray=menuItems.toArray(itemsarray);
//         System.out.println("subbu1");
//         System.out.println("in last");
           return itemsarray;
    }
    @Override
    public int getCount() 
    {
        // TODO Auto-generated method stub
        return itemsarray.length;
    }

    @Override
    public Object getItem(int position) 
    {
        // TODO Auto-generated method stub
        return itemsarray[position];
    }
    @Override
    public long getItemId(int position) 
    {
        // TODO Auto-generated method stub
//      System.out.println("pos in id="+position);
        return position;
    }
    @Override
    public View getView(int position, View convertView, ViewGroup parent) 
    {

        // TODO Auto-generated method stub      
         Bitmap bitmap = DownloadImage(
                 kickerimage[position] );        
//       View listView = convertView;
         if (convertView   == null) 
            {
                //this should only ever run if you do not get a view back            
             LayoutInflater  inflater = (LayoutInflater) contxt
                    .getSystemService(Context.LAYOUT_INFLATER_SERVICE);
             convertView  = inflater.inflate(R.layout.homelistrow, null); 
            }
//       else
//       {
//           holder.removeAllViews();
//       }
//      View listView;
//      if (convertView == null) 
//      {
//          listView = new View(contxt);             
//          LinearLayout holder = (LinearLayout)convertView.findViewById(android.R.id);
////            holder = inflater.inflate(R.layout.homelistrow, null); 
//          System.out.println("pos="+position);
//          System.out.println("item="+getItem(position));
//       else
//       {
            TextView textView = (TextView) convertView
                    .findViewById(R.id.name_label);
            textView.setText(itemsarray[position]);

            ImageView imageView = (ImageView) convertView
                    .findViewById(R.id.icon);
            imageView.setImageBitmap(bitmap);
//      }
//      else        
//      {
//          listView = (View) convertView;
//      } 
//       }

        return convertView ;        
    }   
    private Bitmap DownloadImage(String URL)
    {        
//      System.out.println("image inside="+URL);
        Bitmap bitmap = null;
        InputStream in = null;        
        try {
            in = OpenHttpConnection(URL);
            bitmap = BitmapFactory.decodeStream(in);
            in.close();
        } catch (IOException e1) {
            // TODO Auto-generated catch block
            e1.printStackTrace();
        }
//        System.out.println("image last");
        return bitmap;                
    }
    private InputStream OpenHttpConnection(String urlString)
            throws IOException
            {
                InputStream in = null;
                int response = -1;

                URL url = new URL(urlString);
                URLConnection conn = url.openConnection();

                if (!(conn instanceof HttpURLConnection))                    
                    throw new IOException("Not an HTTP connection");

                try{
                    HttpURLConnection httpConn = (HttpURLConnection) conn;
                    httpConn.setAllowUserInteraction(false);
                    httpConn.setInstanceFollowRedirects(true);
                    httpConn.setRequestMethod("GET");
                    httpConn.connect();

                    response = httpConn.getResponseCode();                
                    if (response == HttpURLConnection.HTTP_OK) 
                    {
                        in = httpConn.getInputStream();                                
                    }                    
                }
                catch (Exception ex)
                {
                    throw new IOException("Error connecting");            
                }
                return in;    
    }
} 
```

我哪里出错了？请帮助我提前谢谢..

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-29T06:48:12.230

我解决了..问题出在这条线上

```
Thread thread = new Thread(); 
```

我没有这样做：

```
Thread thread = new Thread(Myactivity.this); 
```

现在指示器在加载后消失了。谢谢大家..

# plone - 在 plone lineage 子站点之间共享内容文件夹

> ID：13619813
> 
> 赞同：2
> 
> 时间：2012-11-29T06:04:13.997
> 
> 标签：plone

我安装了collective.lineage。我有 /site1 作为子站点，我有 /sharedfolder 作为我的根站点中包含内容的文件夹。我想让这个文件夹在site1（或site2）中可见。我可以在我的子站点中创建一个指向共享文件夹的链接，即 /site1/sharedfolder。但是，这有效，顶级导航和面包屑反映的是根站点而不是子站点。是否有其他方法可以共享此内容或者这是一个错误？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-03T08:18:23.367

这可以是一个解决方案：

*   使用 adi.dropdownmenu（免责声明：我是作者）作为顶部的主菜单，在共享文件夹上分配两个下拉菜单（“导航扩展”），一个镜像站点 1 的文件夹结构，一个镜像站点 2。

*   将 site1 的用户分配给 group1，将 site2 的用户分配给 group2，并应用两个按条件仅交付给 group1 成员的样式表，分别是 group2。Stylesheet1 应该隐藏 menu2，反之亦然。

编辑：除了使用 groupmembership 作为样式表的条件，您还可以区分用户来自哪里，如下所示：

```
python: context.REQUEST.get('HTTP_REFERER').contains('idOfSite1') 
```

# java - 模板生成器：需要更好的建议

> ID：13619814
> 
> 赞同：0
> 
> 时间：2012-11-29T06:04:16.677
> 
> 标签：java

我想制作一个自定义模板生成器（模板将生成报告）。我想提供一个拖放功能，以便用户可以构建自己的模板来生成报告。例如，如果用户选择标题部分，标题部分将与数据一起出现。

这是我想用Java实现的。任何建议表示赞赏。谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-29T06:36:40.593

不要自己构建它。已经有很多此类工具可用。开源：JasperReports。日食 BIRT。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-29T06:37:09.747

我脑海中浮现的一些流行语类似于 XSLT 来生成报告。XSLT 表将是您的模板，并且可以通过您自己的 DSL 定义来创建。只需寻找这两个流行语，尤其是对于 DSL。希望我能提供一点帮助。

# java - 用户会话在 Tomcat 上搞混了

> ID：13619818
> 
> 赞同：4
> 
> 时间：2012-11-29T06:04:27.813
> 
> 标签：java, struts2, thread-safety, interceptor, struts2-interceptors

我们在 IIS7.5 之后使用 Tomcat 6.29，带有 spring、hibernate 和 struts2 框架。我们现在开始注意到服务器会话变得混乱，尤其是在 Ajax 请求中。

有关问题的更多详细信息

*   用户 1 请求 page1，用户 2 请求 page2。但是 user1 获得了 page2 服务，而 user2 获得了服务器 page1。
*   会话 ID 也在变化，但在刷新页面时，会提供正确的页面。
*   当用户数量很多时，问题似乎更频繁地发生。

任何指向问题根源的指针都会有所帮助，代码在用户数量较少的情况下运行良好，并且没有报告此类实例。

编辑

**web.xml**

```
<web-app xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns="http://java.sun.com/xml/ns/javaee" xmlns:web="http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd" xsi:schemaLocation="http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd" id="WebApp_ID" version="2.5">

<display-name>bm</display-name>
<context-param>
<param-name>contextConfigLocation</param-name>
<param-value>classpath:spring/*Context.xml</param-value>
</context-param>
<filter>
<filter-name>encodingFilter</filter-name>
<filter-class>org.springframework.web.filter.CharacterEncodingFilter</filter-class>
<init-param>
  <param-name>encoding</param-name>
  <param-value>UTF-8</param-value>
</init-param>
<init-param>
  <param-name>forceEncoding</param-name>
  <param-value>true</param-value>
</init-param>
</filter>
<filter>
<filter-name>struts2</filter-name>
<filter-class>org.apache.struts2.dispatcher.ng.filter.StrutsPrepareAndExecuteFilter</filter-class>
</filter>
<filter-mapping>
<filter-name>encodingFilter</filter-name>
<url-pattern>/*</url-pattern>
</filter-mapping>
<filter-mapping>
<filter-name>struts2</filter-name>
<url-pattern>/*</url-pattern>
</filter-mapping>
<listener>
  <listener-class>org.springframework.web.context.ContextLoaderListener</listener-class>
</listener>
<listener>
  <listener-class>org.apache.struts2.tiles.StrutsTilesListener</listener-class>
</listener> 
```

**struts.xml**

```
<result-types>
        <result-type name="jasper" class="org.apache.struts2.views.jasperreports.JasperReportsResult"/>
        <result-type name="tiles" class="org.apache.struts2.views.tiles.TilesResult" />
    </result-types> 

    <interceptors>

        <interceptor name="sessionLoggin" class="com.inrev.bm.interceptor.IRLoggingInterceptor" />
        <interceptor name="appAccess" class="appAccessInterceptor" />

        <interceptor-stack name="newStack">
            <interceptor-ref name="exception"/>
            <interceptor-ref name="alias"/>
            <interceptor-ref name="servletConfig"/>
            <interceptor-ref name="i18n"/>
            <interceptor-ref name="prepare"/>
            <interceptor-ref name="chain"/>
            <interceptor-ref name="debugging"/>
            <interceptor-ref name="scopedModelDriven"/>
            <interceptor-ref name="modelDriven"/>
            <interceptor-ref name="fileUpload"/>
            <interceptor-ref name="checkbox"/>
            <interceptor-ref name="multiselect"/>
            <interceptor-ref name="staticParams"/>
            <interceptor-ref name="params">
                <param name="excludeParams"> dojo\..*,^struts\..*</param>
            </interceptor-ref>
            <interceptor-ref name="actionMappingParams"/>
            <interceptor-ref name="sessionLoggin"/>
            <interceptor-ref name="appAccess"/>
        </interceptor-stack>
    </interceptors>

 <default-interceptor-ref name="newStack"/> 
```

**其他信息**

1）用户通过提交表单登录，登录时我们执行以下操作，

```
public class xxxAction extends ActionSupport implements SessionAware  
{
    public String execute()
{
      session.clear();
      if (session instanceof org.apache.struts2.dispatcher.SessionMap) 
      {
    try 
    {
       ((org.apache.struts2.dispatcher.SessionMap) session).invalidate();
    }
    catch (IllegalStateException e) {
      log.error("Session Invalidate Failed ", e);
        }

        //Authorization code happens here
        session.put("orgs", orgs);
    session.put("currentOrg", org);
    session.put("permission", adminDAO.getRolePermission(orgs.get(0).getRoleId()));
    session.put("simplyApp", simplyApp);
    session.put("user", user);

       return "login"
    }
} 
```

2) 使用的操作系统是 windows 2008 RC2

**EDIT2** INCEPTOR 代码

拦截器 1

```
public String intercept(ActionInvocation invocation) throws Exception 
{
    String result = null;

    String className = invocation.getAction().getClass().getName();
    Map session = invocation.getInvocationContext().getSession();

    IRUser user = (IRUser) session.get("user");
    IROrgname org = (IROrgname)session.get("currentOrg");
    IRAppDetails simplyApp = (IRAppDetails)session.get("simplyApp");
    String sessionId = (String)session.get("sessionId");
    boolean switchUser =session.get("switchUser")!=null ? (Boolean)session.get("switchUser") : false;

    if(className.indexOf("IRLoginAction")!=-1 || className.indexOf("IRContactUsAction")!=-1 
            || className.indexOf("IRIPNAction")!=-1 || className.indexOf("IRPaymentAction")!=-1 
            || className.indexOf("IRServiceAction")!=-1 || className.indexOf("IRAppBossAction") !=-1) 
    {
        result= invocation.invoke();
        session.put("PREV_CLASS_NAME", className);
    }
    else if(!(className.indexOf("IRLoginAction")!=-1) && (user !=null && org!=null))
    {
        if(!IRSessionManager.getInstance().compareSession(user.getUserId(), sessionId) && !switchUser)
        {
            session.clear();
            if (session instanceof org.apache.struts2.dispatcher.SessionMap) 
            {
                try 
                {
                    ((org.apache.struts2.dispatcher.SessionMap) session).invalidate();
                }
                catch (IllegalStateException e) 
                {
                    log.error("Session Invalidate Failed ", e);
                }
            }
            result = "sessionDuplicated";

        }
        else
        {
            result= invocation.invoke();
            session.put("PREV_CLASS_NAME", className);
        }
    }
    else if(className.indexOf("widgets") !=-1)
    {
        result= invocation.invoke();
    }
    else if(className.indexOf("ActionSupport") !=-1)
    {
        result= invocation.invoke();
    }
    else if (!(className.indexOf("IRLoginAction")!=-1) && (user ==null || org==null || simplyApp==null))
    {
        result = "sessionExpired";
    }

    return result;
} 
```

**拦截器 2**

```
 public String intercept(ActionInvocation invocation) throws Exception 
{
    String result = null;

    HttpServletRequest request = ServletActionContext.getRequest();

    String className = invocation.getAction().getClass().getName();

    try
    {
        Map session = invocation.getInvocationContext().getSession();

        IRUser user = (IRUser) session.get("user");
        IROrgname org = (IROrgname)session.get("currentOrg");
        IRAppDetails application = (IRAppDetails)session.get("simplyApp");

        if(( user!= null && user.getAppType()!=0) &&  !(className.indexOf("IRLoginAction")!=-1))
        {
            if(hasAccess(user.getAppType(), className))
            {
                result= invocation.invoke();
            }
            else
            {
                result = "checkURL";
            }
        }
        else
        {
            result= invocation.invoke();
        }
    }
    catch (Exception e) 
    {
        e.printStackTrace();
    }

    return result;
} 
```

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-11-29T11:06:49.583

两天前，我在一个遗留项目（不是我的）上调试了类似的东西。

原来这是自定义拦截器的错。

检查我可以在您的堆栈中看到的自定义拦截器，

```
 <interceptor-ref name="sessionLoggin"/>
        <interceptor-ref name="appAccess"/> 
```

并确保他们的代码是[线程安全](http://en.wikipedia.org/wiki/Thread_safety)的（避免拦截器上的字段而不是同步所有东西，只使用局部变量）。

例如，考虑以下代码：

```
public abstract class ThreadUnsafeInterceptor extends AbstractInterceptor {

    private Map<String, Object> session; // <!-- Thread Unsafe

    public final String intercept(ActionInvocation invocation) throws Exception {
        session = invocation.getInvocationContext().getSession();       
        /* Do stuff */

        System.out.println(session.get("myObject"));        

        return invocation.invoke();
    }
} 
```

这样，当 User1 进入方法时，它会设置共享`session`对象及其会话；如果 User2 在 User1 尚未完成时进入该方法，则 User2 将立即`session`用其会话覆盖该对象，并且 User1 将引用 User2 会话而不是它自己的会话。

为了使其线程安全，它应该如下所示：

```
public abstract class ThreadSafeInterceptor extends AbstractInterceptor {

    public final String intercept(ActionInvocation invocation) throws Exception {

        Map<String, Object> session; // <!-- Thread Safe

        session = invocation.getInvocationContext().getSession();

        /* Do stuff */

        System.out.println(session.get("myObject"));        

        return invocation.invoke();
    }
} 
```

* * *

编辑：

您的拦截器存在一些问题：

1) 不得以这种方式访问​​请求（如此处所述[）](https://stackoverflow.com/questions/4922015/servletactioncontext-getrequest-returns-null)：

```
HttpServletRequest request = ServletActionContext.getRequest(); 
```

从 Struts2 拦截器中访问请求的正确方法是：

```
// Constants are from StrutsStatics interface
HttpServletRequest request = (HttpServletRequest) context.get(HTTP_REQUEST); 
```

2）如果您不想`invocation.invoke();`立即返回，请注意将其分配给`result`字符串将触发“流”，并且在`invoke()`操作执行之后执行之后的行，[如下所述](http://viralpatel.net/blogs/struts2-interceptors-tutorial-with-example/)：

```
public String intercept(ActionInvocation invocation) throws Exception {

    String className = invocation.getAction().getClass().getName();
    long startTime = System.currentTimeMillis();
    System.out.println("Before calling action: " + className);

    String result = invocation.invoke();

    long endTime = System.currentTimeMillis();
    System.out.println("After calling action: " + className
            + " Time taken: " + (endTime - startTime) + " ms");

    return result;
} 
```

# playframework-2.0 - Play 框架和依赖项

> ID：13619820
> 
> 赞同：0
> 
> 时间：2012-11-29T06:04:35.957
> 
> 标签：playframework-2.0, sbt

我开始关注 Play 2.0。我最初打算将它与 Java 一起使用，因为有一些我想与之交互的 Java API。但是在阅读了 Scala 之后，我想我会尝试一下。

我遇到了“Grizzled Scala”库和“Grizzled SLF4J”，并想将其添加到 Play 框架项目中，但不确定如何。我正在使用 Eclipse 并安装了 Scala IDE。

说明在这里： [http](http://software.clapper.org/grizzled-scala/) : //software.clapper.org/grizzled-scala/ 它假定您使用的是 Maven，我不是，或者我认为 Play 使用的 sbt。

我看到以下 sbt 命令： sbt> ls-install grizzled-scala

我无法启动一个纯 sbt shell，尽管手册说 play 是一个 sbt shell——它似乎不理解 ls-install 命令。看来我需要安装 ls SBT 插件。

我在这方面走的是正确的道路吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-29T09:09:09.543

Play2 使用 Sbt 作为[构建系统](http://www.playframework.org/documentation/2.0.4/Build)/[依赖管理](http://www.playframework.org/documentation/2.0.4/SBTDependencies)。

如果要添加“Grizzled Scala”[依赖](http://software.clapper.org/grizzled-scala/#using_with_sbt)项，请编辑`project/Build.scala`Play2 项目的文件，并在 appDependencies 部分添加 dep：

```
val appDependencies = Seq(
  "org.clapper" %% "grizzled-scala" % "1.0.13"
) 
```

# c - 如何使可变大小的二维数组指向（并表示）c 中一维数组的起始地址？

> ID：13619822
> 
> 赞同：1
> 
> 时间：2012-11-29T06:04:41.440
> 
> 标签：c, multidimensional-array

我正在尝试执行以下操作

```
float* A = fill_float(); //in other words A is full
float aIn2D[n/p][n] = &A; //the 2d array should be able to alter the 1d 
```

我尝试了上述但不会编译（关于无法使大小可变长度的事情？）。也试过

```
float** aIn2D = &A 
```

但回想起来，这是荒谬的，因为 float** 怎么会神奇地知道我想要 [n/p][n] 的行、列分布（我不认为它确实如此，因为程序在第一次访问 aIn2D 时就崩溃了）。

那么有谁知道如何做类似 float aIn2D[n/p][n] = &A; 在 c?

编辑：还有一件事，我肯定知道 [n/p][n] 的大小将是 A 持有的数据量的大小。

edit2：一个很大的方面是两个数组都指向同一个内存位置，aIn2D 只是我在随后的方法中轻松访问 A 的一种方式。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-29T06:55:22.620

假设 n_rows 和 n_cols 是变量，假设您有一个 n_rows*n_cols 一维浮点数组，您希望将其视为 n_rows x n_cols 二维数组。

使用支持可变大小数组的 C99，您实际上可以做很多您想做的事情：

```
float* A = fill_float();
float (*aIn2D)[n_cols] = (float (*)[n_cols])A; 
```

否则，您可以执行以下操作：

```
float *A = fill_float();
float **aIn2D = malloc(n_rows*sizeof(float*));

{
  int i=0;
  for (; i!=n_rows; ++i) {
    aIn2D[i] = A + i*n_cols;
  }
}

// Use aIn2D[row][col]

free(aIn2D); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-29T06:16:32.030

如果您想将二维数组转换为一维数组，那么您应该这样尝试：

```
float a[MAX];
float dup_a[ROW][COL];
int i,j,k;
for(i = 0 ; i < MAX ; i++)
{
  j= i / ROW ;  // you can do it by i / COL also 
  k= i % ROW ; // you can do it by i % COL also 
  dup_a[j][k] = a[i];
} 
```

或者，你可以试试这个，

```
float* A = fill_float();
float (*aIn2D)[n] = &A; // create a pointer to an array 
```

# php - 删除超过 10 天的表

> ID：13619823
> 
> 赞同：3
> 
> 时间：2012-11-29T06:04:51.003
> 
> 标签：php, mysql

问题已解决

回答：

```
delete from `[table name]` where [row name] > AddTime( CurTime(), '14400 hour' ) 
```

这会立即删除任何早于 10 天的内容。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-29T06:09:41.413

首先在帮助下将字符串更改为 DATETIME [`STR_TO_DATE`](http://dev.mysql.com/doc/refman/5.5/en/date-and-time-functions.html#function_str-to-date)

> 它需要一个字符串 str 和一个格式字符串格式。STR_TO_DATE() 返回一个**DATETIME**

```
SELECT STR_TO_DATE('Wed Nov 21 2012',  '%a %b %d %Y' )

// return 2012-11-21 
```

然后使用[`DATEDIFF`](http://dev.mysql.com/doc/refman/5.5/en/date-and-time-functions.html#function_datediff)

> DATEDIFF(expr1,expr2)
> 
> DATEDIFF() 返回**expr1 – expr2**，表示为从一个日期到另一个日期的天数。

```
SELECT DATEDIFF(CURRENT_TIMESTAMP(),STR_TO_DATE('Wed Nov 21 2012','%a %b %d %Y'))
//return 8 
```

所以完整的查询将是

```
$sql="DELETE FROM `journal` 
      WHERE DATEDIFF(CURRENT_TIMESTAMP(),
                     STR_TO_DATE('journal_date','%a %b %d %Y')
                    ) > 5"; 
```

**注意：**在`STR_TO_DATE`函数中

如果您使用前导零 (01..31) 存储月份部分，则使用**%d**或者如果您存储不带前导零 (1..31) 的月份部分， 则
使用**%e**

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-29T06:16:12.103

MySQL 日期/时间函数都适用于以下格式的 MySQL DATE 和 DATETIME 值：

```
2012-11-28

2012-11-28 22:16:00 
```

如果您实际上是以您指定的格式存储日期，MySQL 无法解析它。

有关 MySQL 日期/时间函数的信息，请参阅：[http ://dev.mysql.com/doc/refman/5.5/en/date-and-time-functions.html](http://dev.mysql.com/doc/refman/5.5/en/date-and-time-functions.html)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-29T09:26:06.557

您可以使用 cron 作业来运行指定的脚本

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-29T06:09:48.633

显然日期的顺序很重要。根据[MySQL 对`datediff()`](http://dev.mysql.com/doc/refman/5.5/en/date-and-time-functions.html#function_datediff)您的日期的参考是向后的，所以您可能只会得到负数（因此永远不会超过 5，所以不会删除）。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-11-29T06:14:25.337

使用[abs()](http://dev.mysql.com/doc/refman/5.0/en/mathematical-functions.html#function_abs)数学函数来忽略明显导致问题的负日期差异。

```
$sql="delete from `journal` where 
        abs(datediff(now(), STR_TO_DATE('journal_date',  '%a %b %d %Y'))) > 5" 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-11-29T07:40:58.490

从`journal`where journal_date < date_sub(curdate(),interval 5 day)删除

它可以在列上使用索引`journal_date`

但是“datediff(now(), journal_date) > 5”不能在列上使用索引`journal_date`

# jquery - jscrollpane 在 Firefox 中不起作用，在 chrome 中起作用

> ID：13619829
> 
> 赞同：0
> 
> 时间：2012-11-29T06:05:31.480
> 
> 标签：jquery, html, css, jscrollpane

我正在使用 jScrollpane 来水平展示图像和 div 的混合。我设法让它在chrome上工作，但我认为firefox没有选择CSS来保持图像不换行，也不会水平滚动。

你可以在这里看到它的作用——

[http://dentasignclients.com/opo2/single-portfolio.php](http://dentasignclients.com/opo2/single-portfolio.php)

相关的 CSS 如下：

```
.scroll-pane{
    width: 100%;
    height: 450px;
    overflow: scroll;
    white-space:nowrap;
}

.scroll-pane ul{
    float:left;
    list-style-type:none;
}

.scroll-pane ul li{
    float:left;
}

.scroll-pane ul li img{
    height:420px;
}

.info{
    display: block;
    clear: left;
    width:300px;
    height:420px;
    background-color:gray;
    overflow:hidden;
    white-space:normal;
} 
```

你对制作这个功能有什么想法？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-29T07:33:05.200

而不是浮动`li`的左侧，使用`display:inline-block`

```
.scroll-pane ul li {
  display: inline-block;
  margin-right: -4px;
} 
```

# windows - 用于在主窗口中展开文件夹的 Explorer 插件

> ID：13619833
> 
> 赞同：0
> 
> 时间：2012-11-29T06:05:57.927
> 
> 标签：windows

我想知道是否有任何适用于 Windows 7 的插件允许您在不实际单击文件夹的情况下展开文件夹？

基本上是导航窗格中的功能，**但不是主资源管理器窗口**的功能......

OS X 和 Ubuntu 都有这个功能，任何人都知道资源管理器插件或注册表调整来添加这个功能？？？

这是 OS X 和 Ubuntu 的屏幕截图，所以你确切地知道我在说什么......

谢谢

![在此处输入图像描述](../Images/180792a0b518ef0d6b979a0a89881299.png)

![在此处输入图像描述](../Images/27bec03cf97ee3a286d53de9bbdb3b6d.png)

# bouncycastle - 使用 Bouncy Castle API 撤销 pgp 密钥

> ID：13619835
> 
> 赞同：1
> 
> 时间：2012-11-29T06:06:02.080
> 
> 标签：bouncycastle, pgp, openpgp

我想使用 Bouncy Castle API 撤销我的 PGP 公钥。我已生成吊销证书。但我无法找到使用撤销证书撤销公钥的方法。我将如何实现它？

我在 PGPPublickey.java 类中找到了 addCertification 方法，但它是用于添加证书而不是用于添加吊销证书。

我尝试了这种方法，但它实际上将任何吊销证书添加到公钥中，并且该密钥也被吊销。但是，公钥应仅添加从相应私钥生成的吊销证书。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2015-03-21T15:54:44.227

你在一个方面是对的，在另一个方面是错的。

正确：您已经找到了将吊销证书添加到密钥的正确功能。addCertification 函数用于将吊销证书添加到 PGP 密钥中。

错误：该功能不应让您添加由公钥所有者以外的人签名的吊销证书（我推测这是您的假设）。

您可以将任何人签署的任何证书添加到 PGP 密钥中。附带的证书是否对密钥有相关影响是另一回事。

例如，我可以将我的密钥生成的撤销证书附加到您的公钥。但是，这是否意味着您的密钥现在已被撤销？简而言之，不，它没有。这是因为公钥只能通过由相应私钥签名的撤销证书来撤销，并且在说您的密钥被撤销之前由各自的实现（例如，像 GPG 这样的加密程序）来验证这一点。

在您的情况下，您的公钥可以附加任意数量的吊销证书。但是，只有由相应私钥（您可能拥有，并且希望是秘密的）签名的吊销证书才会具有实际吊销它的效果。

也就是说，如果您希望将已撤销密钥的事实传达给世界其他地方，即通过密钥服务器，您应该首先生成由您的私钥签名的撤销证书，将其附加到您的公钥（有效地撤销它），然后将此撤销的密钥上传到密钥服务器。密钥服务器将简单地将您的密钥合并到他们拥有的副本（如果他们有的话），并将此密钥传播给它知道的其他密钥服务器。如果一切顺利，在几天或更长时间内，您的撤销密钥应该可以在直接或间接连接到您上传密钥的密钥服务器的密钥服务器上使用。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-26T16:21:16.287

您应该将吊销证书添加到相应的公钥中，并将此更新后的密钥发送给密钥服务器或您正在与之通信的其他方。

# angularjs - Angular JS 注入新的类实例

> ID：13619837
> 
> 赞同：11
> 
> 时间：2012-11-29T06:06:03.333
> 
> 标签：angularjs

我想注入一个类的实例。从这个线程看起来服务返回新的 serviceArgFunction，这就是我想要的。 [https://groups.google.com/forum/#!msg/angular/56sdORWEoqg/VxECXKbn3gsJ](https://groups.google.com/forum/#!msg/angular/56sdORWEoqg/VxECXKbn3gsJ)

但我似乎无法让它工作。出于某种原因，我的两个共享状态实例。谁能帮我弄清楚我做错了什么？ [http://jsfiddle.net/kTjMy/5/](http://jsfiddle.net/kTjMy/5/)

```
var Klass = function() {
    this.count = 0;
    this.getAndIncCount = function() {
        this.count += 1;
        return this.count;
    };
};

app.service('service', Klass); 
```

* * *

## 回答 #1

> 赞同：17
> 
> 时间：2012-11-29T07:04:56.460

您可以使用为您的类返回构造函数的工厂：

```
app.factory('myKlass', function() {
  return Klass
}); 
```

更简单地说，如果`Klass`在其他地方定义，您可以使用`value`：

```
app.value('myKlass', Klass); 
```

无论哪种方式，都照常注入。

```
function CtrlA($scope, myKlass)
{
  new myKlass();
} 
```

看到[这个 jsFiddle](http://jsfiddle.net/BinaryMuse/kTjMy/6/)。

[编辑] 另请参阅[此 Google Groups 帖子](https://groups.google.com/d/msg/angular/56sdORWEoqg/BiUvIS57GgIJ)和[此相关示例](http://plnkr.co/edit/GKnhIN?p=preview)。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-08-14T13:47:15.920

为了清楚起见，我创建[了一个小 Plunker](http://plnkr.co/edit/4ty1RlRGv6iu1WqePDHS)。

它有一个服务和一个工厂。Service 和 Factory 有一个值和 setter 和 getter。

两者都注入到控制器 A 和 B。如果您更改控制器 A 中的服务的值，此更改也会发生在控制器 B 中，因为服务是单例。

但是，当您在控制器 B 中更改 Factory 中的值时，这只会影响 B，因为更改仅发生在 B 中创建的实例中。

享受！

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-03-19T05:38:48.857

马克西米利安 - 谢谢你的好例子。

我将其转换为 JSFiddle，作为试验我想深入研究的另一种设计模式的地方。为什么将提供程序类型从“服务”切换到“工厂”似乎仍然有效？似乎更多关于如何创建提供者，即使用“新”而不是直接引用它。

此外，在服务中，是否存在关于为什么服务应该实现“this”关键字的设计模式，而不是使用 return { myAccessor : function () { return val; } }

见 [http://jsfiddle.net/jeffsteinmetz/XF69p/](http://jsfiddle.net/jeffsteinmetz/XF69p/)

在这个 jsfiddle 中，您可以更改一行代码（第 23 行），它仍然有效，代码行可以是：

```
App.service('MyService', function() { 
```

或者

```
App.factory('MyService', function() { 
```

为什么这两个都有效？

似乎更多的是关于您如何使用“新”来引用服务

```
 var myInstance = new MyFactory(); 
```

这与直接调用它不同

```
 MyService.getVal() 
```

任何有角的人都关心列出最佳实践和背后的推理：

*   何时使用“新”以及何时不需要新
*   为什么使用“this”参考方法来定义您的提供者而不是 return { accessorName : function}
*   为什么在上面的例子中工厂或服务都工作？

# javascript - 使用 javascript 为 Phonegap ios 应用程序创建后退按钮

> ID：13619840
> 
> 赞同：0
> 
> 时间：2012-11-29T06:06:10.543
> 
> 标签：javascript

嗨，我是开发 iOS 应用程序的新手如何使用 javascript 设置设置本机后退按钮。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-29T06:10:15.127

```
document.addEventListener("backbutton", yourCallbackFunction, false); 
```

当您覆盖后退按钮时，您还会阻止其原始行为。所以用户不能用它关闭应用程序。你必须使用

```
document.removeEventListener("backbutton", yourCallbackFunction, false); 
```

恢复原始行为。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-29T06:26:56.690

```
Try this
window.history.back(); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-29T06:15:17.380

你的问题不是很清楚。但我假设您的应用程序中需要一个本机类型的后退按钮。

尝试探索这个[插件](https://github.com/AndiDog/phonegap-ios-navigationbar-plugin)，

如果您不熟悉 cordova（以前是 phonegap）IOS，请`how to use native plugins`使用 phonegap 查找。

请注意，不同的插件可能需要不同的配置（使用它们的方式），在大多数情况下，您会在插件页面上找到步骤。

使用插件也将取决于版本。因此，请确保您使用的插件与您的 cordova 版本兼容

您还可以使用其他答案中注释掉的 javascript 获得后退按钮功能。只需确保在设备准备好后覆盖该功能即可。

```
function onLoad() {
    document.addEventListener("deviceready", onDeviceReady, false);
}

function onDeviceReady() {
    document.addEventListener("backbutton", onBackKeyDown, false);
}

function onBackKeyDown(){
     console.log("put your code for back button here");
} 
```

# jquery - Jquery 中的案例验证

> ID：13619841
> 
> 赞同：-3
> 
> 时间：2012-11-29T06:06:42.747
> 
> 标签：jquery, jquery-validate

我需要在 Jquery 中进行案例验证。意味着如果我的文本框有“kapil kumar”。因此用户只能更改单词的大小写而不是任何字符值。我的意思是用户只能更改单词的大小写。“KAPIL kumar”他们可以使用大写小写但他们不能改变单词的值。我正在使用 MVC3。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-29T06:12:20.760

```
if($.trim($("#textboxId").val().toLowerCase()) === "kapil kumar"){
   //do something
} 
```

# web - GLSL 最小/最大标准化

> ID：13619844
> 
> 赞同：0
> 
> 时间：2012-11-29T06:06:56.663
> 
> 标签：web, glsl

[是否有用于Min/Max Normalization](http://wiki.answers.com/Q/What_is_min-max_normalization)的内置 GLSL 函数？它似乎对很多事情都很有用，但我似乎找不到一个。

```
magicfunction(input, min, max); //=> normalized float
magicfunction(0.3, 0.1, 0.4);   //=> 0.66667 
```

这样的事情存在吗？还是应该将自己的数学实用函数复制到每个着色器中？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-29T18:10:13.513

我想我已经找到[`smoothstep(min, max, input)`](http://en.wikipedia.org/wiki/Smoothstep)了一个奇怪的名字，但它似乎可以满足我的需求。

# android - 如何以编程方式隐藏 Imageview

> ID：13619851
> 
> 赞同：0
> 
> 时间：2012-11-29T06:07:25.967
> 
> 标签：android

我有一个带有三个图标的线性布局，如下所示

```
 <ImageView
            android:id="@+id/cities"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content          
            android:src="@drawable/city" />

        <ImageView
            android:id="@+id/red"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"           
            android:src="@drawable/red"
            android:visibility="gone" 
            />
        <ImageView
            android:id="@+id/deal"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"       
            android:src="@drawable/deal" /> 
```

最初中间图标是隐藏的（android：visibility =“gone”）我有一个登录屏幕..登录成功时我希望图标可见..如下所示..但它不起作用

```
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);

    setContentView(R.layout.fyelogin);                    
    etPassword = (EditText)findViewById(R.id.password);
    btnLogin = (Button)findViewById(R.id.login_button);
    btnCancel = (Button)findViewById(R.id.cancel_button);
    lblResult = (TextView)findViewById(R.id.result);

    final ImageView details = (ImageView)findViewById(R.id.red); 

    btnLogin.setOnClickListener(new OnClickListener() {
        public void onClick(View v) {

            String password = etPassword.getText().toString();

            if(password.equals("guest")){
                lblResult.setText("password successful.");

    giving error @ this line  ----->  details.setVisibility(View.VISIBLE);

            } else {
                lblResult.setText("password doesn't match.");
            }

            finish();
        }
    }); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-29T06:10:37.500

您应该将 ImageView 详细信息对象设为类变量，以便您的侦听器稍后可以访问它。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-29T06:25:13.383

试试这个，

```
ImageView details;
public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);

        setContentView(R.layout.fyelogin);                    
        etPassword = (EditText)findViewById(R.id.password);
        btnLogin = (Button)findViewById(R.id.login_button);
        btnCancel = (Button)findViewById(R.id.cancel_button);
        lblResult = (TextView)findViewById(R.id.result);
        details = (ImageView)findViewById(R.id.red); 

        btnLogin.setOnClickListener(new OnClickListener() {
            public void onClick(View v) {

                String password = etPassword.getText().toString();

                if(password.equals("guest")){
                    lblResult.setText("password successful.");

                     details.setVisibility(View.VISIBLE);

                } else {
                    lblResult.setText("password doesn't match.");

                }

                finish();} }); 
```

# php - CSS 仅与 PHP API 内联工作

> ID：13619852
> 
> 赞同：1
> 
> 时间：2012-11-29T06:07:33.277
> 
> 标签：php, html, css, api

出于某种原因，我的 CSS 仅在内联时有效。我对网页设计有点陌生，并且不确定如何追查为什么会发生这种情况。不是我可以打开控制台检查错误，那我应该寻找什么样的东西呢？对不起，我没有更具体，我真的不知道该怎么做。

假设网址是“www.example.com/testing/3”

页面 testing.php 将加载，调用 API.php 并确定在页面 testing.php 上使用 vale 3 时要做什么。然后 API.php 将调用 testing.php 上的一个函数来处理该函数告诉它做的任何事情。所以基本上它会调用，确定处理 URL 的函数，然后再调用。

当我在 testing.php 的头部包含 CSS 时，它可以工作。当我只有一个链接时，它没有。所有文件都在同一个文件夹中，我正在本地主机上开发，没有文件受管理员限制：无论如何我都是管理员，所以权限不是问题。

```
//test.css
P.special {
    color:green;
    border:solid red;
    margin-top:85px;
} 
```

testing.php 负责人

```
 <link a href="test.css" rel="stylesheet" type="text/css"/> 
```

testing.php 上的一个函数

```
 function view_event($event_id){
    ?>
    <p class ="special">
    //stuff here
    </p>
    <?
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-29T06:28:46.620

您可以在浏览器中检查生成的页面源代码，并确保 CSS 链接有效并加载预期的 CSS 文件。

内置在浏览器中（或作为插件）的 Web 开发人员工具对于调试 html、css 和 js 非常有帮助。好好了解他们。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-29T06:32:34.090

```
<link a href="test.css" rel="stylesheet" type="text/css"/> 
```

将需要更改为：

```
<link a href="/test.css" rel="stylesheet" type="text/css"/> 
```

当您遍历其他目录时，使用相对 URL 将不起作用。使用 / 将其设置为绝对 URL 将允许它在站点的任何位置工作。

# java - Dalvik 无法通过反射在外部 JAR 中找到类

> ID：13619862
> 
> 赞同：0
> 
> 时间：2012-11-29T06:08:51.617
> 
> 标签：java, android, reflection, http-post

我已经做了很长一段时间的一些反射代码，但最近才因为外部 JAR 而出现问题。这里有问题的 JAR 是与 HTTPPost [http://developer.android.com/reference/org/apache/http/client/methods/HttpPost.html](http://developer.android.com/reference/org/apache/http/client/methods/HttpPost.html)相关联的 JAR，以便我可以执行 POST 请求

我使用相同的 IDE Eclipse 在单独的项目中编写我的 Java 代码和 Android 代码。

在我的 Android 项目中，我已将 JAR 文件复制到 /libs 文件夹中，并将 JAR 添加到 Android 依赖项中。

在 Java 项目中，我在 IDE 中添加了依赖项，这样我就不会弹出编码错误。

要“编译”Java 项目，我使用以下命令行

```
javac -classpath android.jar;httpclient-4.1.2.jar;httpcore-4.1.2.jar;httpmime-4.1.2.jar MyReflectionClass.java

jar -cf MyReflectionClass.jar MyReflectionClass.java

dx --dex --output=classes.dex myreflectionclass.jar 
```

没有报告错误。

直到现在，当我不需要外部 JAR 时，这些步骤一直运行良好。似乎第一行不足以“导入” JAR/注释（我不太了解这些术语）

Android 项目能够加载 Java 项目中的类，Java 代码一直执行到这一行

```
MultipartEntity ent = new MultipartEntity(HttpMultipartMode.BROWSER_COMPATIBLE); 
```

我在 Logcat 中得到这个错误的地方

```
tag = dalvikvm
text = Could not find class 'org.apache.http.entity.mime.MultipartEntity', referenced from method MyReflectionClass.mymethod 
```

请帮忙！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-29T09:55:00.357

与 httpclient 类相比，httpmime 类不是 Android 的一部分。您需要自己提供它们（例如，将它们放在 Android 项目的 libs/ 文件夹中）。

# iphone - 如何添加图片滚动？

> ID：13619864
> 
> 赞同：-4
> 
> 时间：2012-11-29T06:09:07.877
> 
> 标签：iphone, ios, image

我是编程新手。我如何添加滚动的小图像，然后当您单击其中一个时，它将显示在主图片上，并且能够移动和放大/缩小尺寸？[像这样](http://s4.hostingkartinok.com/uploads/images/2012/11/146bd3740e96e952fec493be9f97b5f7.png)

请提供一些课程、示例、教程或书籍。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-29T06:10:27.993

请参阅下面的示例和教程..

1.  [HSImageSidebarView](http://www.google.co.in/url?sa=t&rct=j&q=hsimagesidebarview&source=web&cd=1&ved=0CC0QFjAA&url=https://github.com/bjhomer/HSImageSidebarView&ei=oCa3UN60McjlrAf8u4DoCg&usg=AFQjCNHQB7REhfCym0yOitLdp5SQvbNrLg&cad=rja)

2.  [iCarousel](http://haifa.baluyos.net/index.php?option=com_content&view=article&id=60%3aobjective-c-image-carousel-tutorial&catid=1%3aprogramming&Itemid=5) /// 在本教程中演示了许多可用于图像幻灯片的动画和样式

3.  [如何使用 uiscrollview-to-scroll-and-zoom-content](http://www.raywenderlich.com/10518/how-to-use-uiscrollview-to-scroll-and-zoom-content)

4.  [Three20 滚动视图](https://github.com/facebook/three20)

5.  [滚动疯狂](https://github.com/andreyvit/ScrollingMadness)

我希望这对你有帮助..

# jms - 带有 JMS 的 WSO2 BAM

> ID：13619867
> 
> 赞同：1
> 
> 时间：2012-11-29T06:09:16.170
> 
> 标签：jms, wso2, wso2bam

BAM 官方文档指出 BAM 可以通过 Apache Thrift、REST、HTTP 和 Web 服务接收事件。奇怪的是 JMS 不在列表中？而 CEP 和 ESB 都允许 JMS 传输。

我想知道是否可以在 BAM 上启用 JMS，我们想通过 JMS 发布我们的事件并让 BAM 从 JMS 队列中提取它们。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-30T08:56:00.780

作为一种解决方法，如果您将 ESB 与 JMS 队列一起使用，则可以在中介流中使用 BAM 中介从 JMS 消息中捕获数据并将其发布到 BAM。

# sql - 我有什么可以替代光标的吗

> ID：13619868
> 
> 赞同：0
> 
> 时间：2012-11-29T06:09:18.450
> 
> 标签：sql, sql-server, sql-server-2008

`enter code here`我正在开发一个复杂的报表，为此我需要从表 1 中选择一些数据，然后代表表 1 中的数据对表 2、表 3、表 4 中的数据进行一些处理。

喜欢

```
select a,b,c, from table-1

while not rs(table-1).eof

processing data from table-2,
processing data from table-3,
processing data from table-4 
```

做

我试过了，但子查询不能解决我的问题。我知道光标是我唯一的选择，如果有其他解决方案请指导我

问候。

当时我通过在客户端处理数据，然后将其保存到数据库中的临时表中，然后从该表中获取记录到水晶报表中。这是我的代码

```
rs.Open "SELECT distinct Empid,empSalary as EmpSalary,EmpJobStatus From TEmployee where EmpJobStatus ='HIRED' and EmpID not in ( SELECT distinct Empid From VEmpPromotion where convert(VARCHAR(10), PromSalaryMonth , 101)='" & Format(FirstDate, "mm/dd/yyyy") & "') Union SELECT distinct Empid,promempSalary as EmpSalary,PromEmpJobStatus as EmpJobStatus From VEmpPromotion where PromEmpJobStatus ='HIRED' and convert(VARCHAR(10), PromSalaryMonth , 101)='" & Format(FirstDate, "mm/dd/yyyy") & "'", cn, 3, 2

While Not rs.EOF
rsD1.Open "select sum(DATEDIFF(MINUTE,timein,timeout))/60 as HoursWorked ,count(EmpLEave) as EmpLeave,count(TimeIN) as DaysWorked from Tattendance where EmpId =" & rs![EmpId] & " and convert(VARCHAR(10), Attendate, 101)>='" & Format(FirstDate, "mm/dd/yyyy") & "' and convert(VARCHAR(10), attendate, 101)<='" & Format(LastDate, "mm/dd/yyyy") & "'", cn, 3, 2
rsD2.Open "select sum(amount),SUM(CASE EmpTrancID WHEN 1  then amount  ELSE 0 END) AS 'SalaryPaid',SUM(CASE EmpTrancID WHEN 2  then amount  ELSE 0 END) AS 'SalaryAdvancePaid',SUM(CASE EmpTrancID WHEN 3  then amount  ELSE 0 END) AS 'WeeklyIncentivePaid',SUM(CASE EmpTrancID WHEN 4  then amount  ELSE 0 END) AS 'MonthlyIncentivePaid',SUM(CASE EmpTrancID WHEN 5  then amount  ELSE 0 END) AS 'InitialAdvancePaid',SUM(CASE EmpTrancID WHEN 6  then amount  ELSE 0 END) AS 'OtherPayments',SUM(CASE EmpTrancID WHEN 7  then amount  ELSE 0 END) AS 'SalaryAdvanceBack',SUM(CASE EmpTrancID WHEN 8  then amount  ELSE 0 END) AS 'InitialAdvanceBack'From TSalAdvance where TrancStatus =1 and EmpId =" & rs![EmpId] & " and convert(VARCHAR(10), PaidDate, 101)<= '" & Format(DTSearch, "mm/dd/yyyy") & "' and convert(VARCHAR(10), PaidDate, 101)>= '" & Format(FirstDate, "mm/dd/yyyy") & "'", cn, 3, 2
rsD4.Open "select sum(amount),SUM(CASE EmpTrancID WHEN 8  then amount  ELSE 0 END) AS 'TInitialAdvanceBack',SUM(CASE EmpTrancID WHEN 5  then amount  ELSE 0 END) AS 'TInitialAdvancePaid'From TSalAdvance where TrancStatus =1 and EmpId =" & rs![EmpId] & " and convert(VARCHAR(10), SalaryMonth, 101)<'" & Format(LastDate, "mm/dd/yyyy") & "'", cn, 3, 2
rsD5.Open "select sum(amount),SUM(CASE EmpTrancID WHEN 2  then amount  ELSE 0 END) AS 'SalaryAdvancePaid',SUM(CASE EmpTrancID WHEN 7  then amount  ELSE 0 END) AS 'SalaryAdvanceBack'From TSalAdvance where TrancStatus =1 and EmpId =" & rs![EmpId] & " and convert(VARCHAR(10), SalaryMonth, 101)>'" & Format(LastDate, "mm/dd/yyyy") & "'", cn, 3, 2
If IsNull(rsD5![SalaryAdvancePaid]) Then NextAdvPaid = 0 Else NextAdvPaid = rsD5![SalaryAdvancePaid]
If IsNull(rsD5![SalaryAdvanceBack]) Then NextAdvBAck = 0 Else NextAdvBAck = rsD5![SalaryAdvanceBack]
rsD3.Open "select * from SalarySummaryAll", cn, 3, 2
rsD3.AddNew
rsD3![EmpId] = rs![EmpId]
rsD3![EmpSalary] = rs![EmpSalary]
rsD3![EmpJobStatus] = Trim(rs![EmpJobStatus])
.........
.........
rsD3.Update
rs.MoveNext
Wend 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-30T11:02:27.970

您的查询似乎很长，但您似乎没有在那里使用太多变量。

我不明白为什么你不能在这里使用一些内连接和左（外）连接，例如：

```
insert into SalarySummaryAll(EmpId, EmpSalary, ...)
select (TEmployeeAlias.EmpIdAlias, TEmployeeAlias.EmpSalaryAlias, ...) 
from
  (select .... From TEmployee where ...) as TEmployeeAlias
  inner join 
  (select ... From TSalAdvance where ...) as TSalAdvance Alias
     on ...
  inner join  
  (select ... From TSalAdvance where ...) as TSalAdvance Alias
     on ...
  left outer join
  (select...) as tableN 
     on ... 
```

你有没有尝试过这样的事情？如果是这样，您遇到了什么问题？

# php - 通过 OAuthth 授权后，如何在印象笔记中获取用户信息？

> ID：13619871
> 
> 赞同：1
> 
> 时间：2012-11-29T06:09:29.400
> 
> 标签：php, authentication, oauth, authorization, evernote

> **可能重复：**
> [如何通过 OAuthth 授权后在 Evernote 中获取有关用户的信息？](https://stackoverflow.com/questions/13582236/how-to-get-information-about-a-user-in-evernote-after-authorization-through-oaut)

我正在通过 Evernote 在 php 上进行网络服务授权（使用 OAuth 文档：[http](http://dev.evernote.com/documentation/cloud/chapters/Authentication.php) ://dev.evernote.com/documentation/cloud/chapters/Authentication.php ），但我不知道如何获取有关用户的信息通过用户 ID（电子邮件。用户名，全名）。

一步一步的行动（示例）

**步骤 1** 示例临时凭证请求：

```
https://sandbox.evernote.com/oauth?oauth_consumer_key=en_oauth_test&oauth_signature=1ca0956605acc4f2%26&oauth_signature_method=PLAINTEXT&oauth_timestamp=1288364369&oauth_nonce=d3d9446802a44259&oauth_callback=https%3A%2F%2Ffoo.com%2Fsettings%2Findex.php%3Faction%3DoauthCallback 
```

我得到回应

```
oauth_token=en_oauth_test.12BF8802654.687474703A2F2F6C6F63616C686F73742F7E736574682F4544414D576562546573742F696E6465782E7068703F616374696F6E3D63616C6C6261636B.1FFF88DC670B03799613E5AC956B6E6D&oauth_token_secret=&oauth_callback_confirmed=true 
```

**第2步**

将用户重定向到印象笔记授权

```
https://www.evernote.com/OAuth.action?oauth_token=en_oauth_test.12BF8802654.687474703A2F2F6C6F63616C686F73742F7E736574682F4544414D576562546573742F696E6465782E7068703F616374696F6E3D63616C6C6261636B.1FFF88DC670B03799613E5AC956B6E6D 
```

如果用户可以获取我的应用程序数据配置文件 Evernote 将用户重定向到我的回调 url

```
https://example.com/auth/index.php?action=oauthCallback&oauth_token=en_oauth_test.12BF88D95B9.687474703A2F2F6C6F63616C686F73742F7E736574682F4544414D576562546573742F696E6465782E7068703F616374696F6E3D63616C6C6261636B.AEDE24F1FAFD67D267E78D27D14F01D3&oauth_verifier=0D6A636CD623302F8D69DBB8DF76D86E 
```

**第 3 步**

我有 oauth_token 和验证者令牌，并为示例令牌凭据请求创建查询：

```
https://sandbox.evernote.com/oauth?oauth_consumer_key=en_oauth_test&oauth_signature=1ca0956605acc4f2%26&oauth_signature_method=PLAINTEXT&oauth_timestamp=1288364923&oauth_nonce=755d38e6d163e820&oauth_token=en_oauth_test.12BF8888B3F.687474703A2F2F6C6F63616C686F73742F7E736574682F4544414D576562546573742F696E6465782E7068703F616374696F6E3D63616C6C6261636B.C3118B25D0F89531A375382BEEEDD421&oauth_verifier=DF427565AF5473BBE3D85D54FB4D63A4 
```

示例令牌凭据响应

```
oauth_token=S%3Ds4%3AU%3Da1%3AE%3D12bfd68c6b6%3AC%3D12bf8426ab8%3AP%3D7%3AA%3Den_oauth_test%3AH%3D3df9cf6c0d7bc410824c80231e64dbe1&oauth_token_secret=&edam_noteStoreUrl=https%3A%2F%2Fsandbox.evernote.com%2Fedam%2Fnote%2Fshard%2Fs4&edam_userId=161 
```

在此示例中，OAuth 令牌凭证标识符为：

```
S=s4:U=a1:E=12bfd68c6b6:C=12bf8426ab8:P=7:A=en_oauth_test:H=3df9cf6c0d7bc410824c80231e64dbe1 
```

我有用户 ID *&edam_userId=161*

**如何使用令牌访问和 usreid 检索用户配置文件？**

有人可以帮忙吗。

PS对不起，我的英语。才开始教

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-29T16:27:13.337

您可以调用[UserStore.getUser(accessToken)](http://dev.evernote.com/documentation/reference/UserStore.html#Fn_UserStore_getUser)来获取有关用户的一些信息，包括他们的全名。您将无法检索他们的私人电子邮件地址。

# ruby - 如何转换此数组，以便每个元素代表先前元素的累积值？

> ID：13619875
> 
> 赞同：1
> 
> 时间：2012-11-29T06:09:45.643
> 
> 标签：ruby

> **可能重复：**
> [Ruby 中的累积数组总和](https://stackoverflow.com/questions/1475808/cumulative-array-sum-in-ruby)

我有一个这样的整数数组

```
[20, 25, 40, 60] 
```

我怎样才能把它变成一个数组，每个元素代表它之前元素的累积值，包括它自己？

```
[20, 45, 85, 145] 
```

我正在使用 Rails 3.2.0 和 ruby​​ 1.9.3

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-11-29T06:16:34.840

```
s = 0
[20, 25, 40, 60].map{|e| s += e} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-29T06:14:06.770

```
[20, 25, 40, 60].reduce([]) do |arr, v|
  arr << (arr.last || 0) + v
end 
```

或者一个*丑陋*的衬里。

```
[20, 25, 40, 60].reduce([0]){ |a, v| a << a[-1] + v }[1..-1] 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-29T06:14:22.527

```
array = [20, 25, 40, 60]
(array.size - 1).times { |i| array[i + 1] += array[i] }
puts array
# => [20, 45, 85, 145] 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-29T06:15:02.420

## MATLAB：

```
B = cumsum(A) 
```

## 红宝石：

```
class Array
  def ruby_cumsum!
    (1..size-1).each {|i| self[i] += self[i-1] }
    self
  end
end 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-11-29T06:16:50.113

```
arr.each_with_index.map{|x, i| x + (i==0 ? 0 : arr[0..i-1].inject(:+))}

=> [20, 45, 85, 145] 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-11-29T06:19:24.913

```
arr = [20, 25, 40, 60]
first = []
sum = 0

arr.each do |e|
  sum += e
  first << sum
end
puts first 
```

# jasper-reports - 如何删除碧玉报告中的重复行

> ID：13619877
> 
> 赞同：2
> 
> 时间：2012-11-29T06:09:51.287
> 
> 标签：jasper-reports, ireport

我有问题如何删除碧玉报告中的重复行。我只想一个标签和一行。怎么做？。

有人知道这件事吗？这是我的第一张图片：- ![在此处输入图像描述](../Images/cc16da8850d750bc29b027924e1100e1.png) 这是我的第二张图片：- ![在此处输入图像描述](../Images/2e3373680bcc878f1a71c3b5451f9eef.png)

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-29T12:08:29.413

用于显示 SIRI 编号的文本字段应具有“打印重复值”属性。在 iReport 中取消选中此项，或在 jrxml 文件中的该字段的标记`isPrintRepeatedValues="false"`内添加。`reportElement`

# networking - TFS Server 2010：无法添加用户

> ID：13619885
> 
> 赞同：0
> 
> 时间：2012-11-29T06:10:43.587
> 
> 标签：networking, tfs

在 TFS Server 2010 中，我尝试在 Team Foundation Server 管理员控制台的以下路径中添加新用户

应用程序层-> 管理控制台用户-> 添加链接 在添加用户对话框中，我无法找到位于同一 LAN 中的其他用户。我正在使用 Windows Vista。所有机器都在同一个工作组中

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-29T08:30:47.803

除非您实际上在使用 Active Directory 控制和“托管”您的用户的域中，否则您不会自动找到其中的任何一个。工作组中计算机上的用户是这些计算机的本地用户，必须手动输入。

管理此问题的一种方法是在 TFS 服务器服务器上创建帐户，然后在从工作站连接时使用这些帐户作为凭据。

[http://msdn.microsoft.com/en-us/library/ms252507.aspx](http://msdn.microsoft.com/en-us/library/ms252507.aspx)是一篇更详细、更详细地描述了在工作组环境中使用 TFS 的文章。

[How to add new users to TFS 2010](https://stackoverflow.com/questions/3057164/how-to-add-new-users-to-tfs-2010) （和答案）这个问题也应该对如何在您的服务器上添加用户有所帮助。

基本上，

> “计算机管理”->“本地用户和组”-> 用户

并添加您的用户。然后，

> *   转到 Team Foundation Server 管理控制台
> *   导航到您的团队项目集合
> *   从“常规”选项卡中选择“组成员”
> *   打开项目集合有效用户。它应该包括您的团队项目组作为成员。
> *   选择合适的团队项目组并将您的用户添加到该组中。

（根据上面提到的问题。如果这对您有帮助，您也应该去那里并为他们的好和乐于助人的答案投票 - 特别是我在此处引用的 Bizz 和 Kyberias 的答案。）

# c++ - 原始二叉树 Deletewithcopying 问题（改进说明）

> ID：13619887
> 
> 赞同：1
> 
> 时间：2012-11-29T06:10:56.047
> 
> 标签：c++, tree, runtime, binary-tree

我创建了 Raw BinaryTree。在这棵树中，**插入不像 BST**，它像这样::

1.  如果树为空，则添加值并使其成为根。（假设 30）
2.  如果树不为空，则输入父值（30）并将新值（20）添加到其左子树。
3.  如果左子树不为空，则将值（20）插入右子树。
4.  对于下一次插入，再次取父亲值来确定要在哪里添加值。＆ 很快..

它工作正常，除非我尝试删除一个有两个孩子的节点。我用来删除的方法是**deleteWithCopy**。

正如我的导师所说，deletewithcopy 是： 1\. 找到要删除的节点（temp）的父亲。2\. 如果 temp（要删除的节点）是 'father' 的右孩子，则找到 temp 的直接后继 3\. 如果 temp（要删除的节点）是 'father' 的左孩子，则找到 temp 的直接前任 4\. 交换值temp 及其前任/后继 5\. 删除 temp（现在是树的叶子）。

**现在如何找到继任者和前任者。**

Successor = 一个节点的逻辑后继是它在左子树中最右边的子节点

Predecessor = 一个节点的逻辑前驱是它在右子树中最左边的子节点

根据算法我创建了函数，但删除后，当我遍历（或打印）树时，它显示运行时错误，binarytree.exe 中 0x008B5853 处的未处理异常：0xC0000005：访问冲突读取位置 0xFEEEFEEE。这是“0xFEEEFEEE 用于标记 Visual C++ 中释放的内存”的错误。

我一次又一次地试运行了这件事，我试图访问的内存中没有任何越界的东西，我已经修复了每一个松散的结局，但仍然:(

**这是功能：**

```
void BinaryTree<mytype>::deletewithTwoChild(BTNode<mytype> *temp)
{
    BTNode<mytype> *father = findfather(temp, root);    //found address of father of temp node & stored it in pointer
    BTNode<mytype> *leaf = temp;    //created a copy of temp node

    /////CASE 1 (for predecessor)
if(temp==root || father->left==temp)    //if temp is left child of its father then
{
    leaf = leaf->left;  //move leaf 1 time left
    while(leaf->right!=0 )  //until leaf reaches the right most node of left subtree
    {
        leaf = leaf->right; //move leaf 1 time to right
    }
    //swapping values
    mytype var = leaf->key_value;   //created a template variable to store leaf's key
    leaf->key_value = temp->key_value;  //assigning temp's key to leaf
    temp->key_value = var;  //assigning leaf's key to temp
    if(leaf->right!=0)  //if leaf has right child then call deletewithOneChild function
    {
        deletewithOneChild(leaf);   //call to respective function
    }
    else if(leaf->left==0 && leaf->right==0) //if leaf has no children then
    {
        deleteWithNoChild(leaf);    //call to respective function
    }
}
/////CASE 2 (for successor)
else if(father->right==temp)    //if temp is right child of its father, then
{
    leaf = leaf->right; //move leaf 1 time right
    while(leaf->left!=0)    //until leaf reaches the last node of tree which has no child
    {
        leaf = leaf->left;  //move leaf 1 time to left
    }
    //swapping values
    mytype var = leaf->key_value;   //created a template variable to store leaf's key
    leaf->key_value = temp->key_value;  //assigning temp's key to leaf
    temp->key_value = var;  //assigning leaf's key to temp
    if(leaf->right!=0)  //if leaf has right child then call deletewithOneChild function
    {
        deletewithOneChild(leaf);   //call to respective function
    }
    else if(leaf->left==0 && leaf->right==0) //if leaf has no children then
    {
        deleteWithNoChild(leaf);    //call to respective function
    }
} 
```

}

我正在使用的数据集：

```
 30
              /  \
             20  80
            /   /  \
          10  40    120
               \     / \ 
              60  100 140
              / \     /  \
            50  70   130 150 
```

*当运行时错误弹出时，我试图删除节点 80、60、120、140。请帮助 :(( 我还需要指导如何处理树 iff 30 被删除。*

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2016-11-23T03:16:53.943

据我所知，继任者和前任者的定义是不同的。

**Successor** ：右子树的最小节点，即右子树的最左节点。 **Predecessor**：左子树的最大节点，即左子树的最右节点。

回到**问题 1**。我注意到`if-else`在案例 1 中交换值后的情况。因为，在案例 1 中，您正在找到子树的最右边的节点，`leaf->right`始终是`null`并且`leaf->left`可能不是`null`。因此，在交换值后不会调用任何删除函数。这将导致错误的 BST 问题，甚至更糟糕的是，程序崩溃。因此，`if-else`万一的条件是：

```
// leaf->right always be null, only need to verify leaf->left.
if (leaf->left != 0)
{
    deleteWithOneNode(leaf);
}
else 
{
    deleteWithNoChild(leaf);
} 
```

**问题 2**。据我所知，BST中一个节点的删除没有选择前任或后继节点的规则，并且仅在交换整个节点时才使用被删除节点的父（父）节点，而不是仅交换节点的值。因此，我的删除功能将是：

```
void BinaryTree<myType>::delete(BTNode<myType>* node, BTNode<myType>* parent)
{
    if (node->right) // find successor first
    {
        BTNode* ptrParent = node;
        BTNode* ptr = node->right;
        while (ptr->left)
        {
            ptrParnet = ptr;
            ptr = ptr->left;
        }

        // Since the ptr will be delete, we only assign the value of ptr to the value node
        node->key_value = ptr->key_value;

        if (node == ptrParent)
        {
            ptrParnet->right = ptr->right;
        }
        else
        {
            ptrParent->left = ptr->right;
        }
        delete ptr;            
    }
    else if (node->left) // find predecessor
    {
        BTNode* ptrParent = node;
        BTNode* ptr = node->left;
        while (ptr->right)
        {
            ptrParent = ptr;
            ptr = ptr->right;
        }

        // Since the ptr will be delete, we only assign the value of ptr to the value node
        node->key_value = ptr->key_value;

        if (node == ptrParent)
        {
            ptrParent->left = ptr->left;
        }
        else
        {
            ptrParent->right = ptr->left;
        }
        delete ptr; 
    }
    else
    {
        if (node->key_value > parent->key_value)
        {
            parent->right = NULL;
        }
        else
        {
            parent->left = NULL;
        }
        delete node;
    }
} 
```

通过使用该函数，删除 30 后的树将是

```
 40
       /    \
     20      80
    /       /   \
   10      60    120
          /  \   /  \
        50   70 100 140
                    /  \
                  130  150 
```

# rest - Powershell Web 请求 - 400 错误请求

> ID：13619892
> 
> 赞同：1
> 
> 时间：2012-11-29T06:11:59.730
> 
> 标签：rest, powershell, http-status-code-400, system.net.webexception

我正在构建一个 powershell 脚本以在类似 REST 的服务器上执行命令，我正在使用 powershell 将 XML 数据发布到 web 服务。除非“应用程序”产生错误，否则一切正常。应用程序回复 xml 中的详细信息，并在我遇到问题时给我一个 Web 请求错误（在本例中为 400）。每当我收到不是 200 的 Web 请求错误时，命令都会抛出一个错误，这会搞砸我处理错误的方式。

这是我收到的响应示例（使用提琴手）：

```
HTTP/1.1 400 Bad Request
Date: Thu, 29 Nov 2012 04:29:48 GMT
Content-Type: text/xml;charset=ISO-8859-1
Connection: close

<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<Status>
    <operation>Add Network</operation>
    <result>ERROR</result>
    <resultCode>REASON_210</resultCode>
</Status> 
```

这是我在 powershell 中收到的错误：

```
Exception calling "UploadData" with "3" argument(s): "The remote server returned an error: (400) Bad Request."
At C:\Scripting\test.ps1:47 char:34
+     $response = $query.UploadData <<<< ($url,"POST",$byteArray)
    + CategoryInfo          : NotSpecified: (:) [], MethodInvocationException
    + FullyQualifiedErrorId : DotNetMethodException

Exception calling "GetString" with "1" argument(s): "Array cannot be null.
Parameter name: bytes"
At C:\Scripting\test.ps1:48 char:62
+     $stringresponse = [System.Text.Encoding]::ASCII.GetString <<<< ($response)
    + CategoryInfo          : NotSpecified: (:) [], MethodInvocationException
    + FullyQualifiedErrorId : DotNetMethodException 
```

我进一步研究了错误，这与检索响应的内容（XML）非常接近。

我以为我可以把它从这里拉出来。。

```
$error[1].exception.InnerException.Data 
```

但它是空的:(

```
PS C:\Scripting> $error[1].exception.InnerException | fl -force

Status         : ProtocolError
Response       : System.Net.HttpWebResponse
Message        : The remote server returned an error: (400) Bad Request.
Data           : {}
InnerException :
TargetSite     : Byte[] UploadDataInternal(System.Uri, System.String, Byte[], System.Net.WebRequest ByRef)
StackTrace     :    at System.Net.WebClient.UploadDataInternal(Uri address, String method, Byte[] data, WebRequest& request)
                    at System.Net.WebClient.UploadData(Uri address, String method, Byte[] data)
                    at System.Net.WebClient.UploadData(String address, String method, Byte[] data)
                    at UploadData(Object , Object[] )
                    at System.Management.Automation.MethodInformation.Invoke(Object target, Object[] arguments)
                    at System.Management.Automation.DotNetAdapter.AuxiliaryMethodInvoke(Object target, Object[] arguments, MethodInformation methodInformation, Object[]
                 originalArguments)
HelpLink       :
Source         : System

PS C:\Scripting> $error[1].exception.InnerException.response | fl

IsMutuallyAuthenticated : False
Cookies                 : {}
Headers                 : {Connection, Transfer-Encoding, Content-Type, Date}
ContentLength           : -1
ContentEncoding         :
ContentType             : text/xml;charset=ISO-8859-1
CharacterSet            : ISO-8859-1
Server                  :
LastModified            : 29/11/12 4:04:19 PM
StatusCode              : BadRequest
StatusDescription       : Bad Request
ProtocolVersion         : 1.1
ResponseUri             : https://api-au.dimensiondata.com/oec/0.9/cdefb891-1552-4008-8638-7393eda8d7e1/network
Method                  : POST
IsFromCache             : False 
```

这是我正在使用的 powershell 代码：

```
function send_web ($url,$data) {
    [System.Net.ServicePointManager]::ServerCertificateValidationCallback = {$true}
    $query = new-object system.net.WebClient
    $auth = 'Basic ' + [System.Convert]::ToBase64String([System.Text.Encoding]::UTF8.GetBytes($username+":"+$password ))
    $query.Headers.Add('Authorization', $auth )
    [byte[]]$byteArray = [System.Text.Encoding]::ASCII.GetBytes($data) 
    $query.Headers.Add("ContentType","application/xml")
    $response = $query.UploadData($url,"POST",$byteArray)
    $stringresponse = [System.Text.Encoding]::ASCII.GetString($response)
    return $stringresponse
} 
```

这似乎不应该是一件难事，做任何帮助将不胜感激:)

理查德

# java - 使用列表数据类型 java 显示文件夹列表

> ID：13619896
> 
> 赞同：0
> 
> 时间：2012-11-29T06:12:14.347
> 
> 标签：java, list, arraylist

我需要在 java 中显示一个静态文件夹层次结构。我已经定义了一个文件夹类并且必须使用它。不允许使用`File`类！类文件夹是：

```
class Folder
{
    boolean isFile;
    String folderName;
    List<Folder> subFolders;
} 
```

我尝试使用的代码是：

```
class LisF
{
    public static void main(String args[])
    {
        Folder a=new Folder("C:/hello");
        Folder b=new Folder("C:/one");
        Folder c=new Folder("C:/two");
        a.subFolders.add(b);
        b.subFolders.add(c);
        Iterator itr = a.subFolders.iterator();
        Iterator itr1= b.subFolders.iterator();

        while(itr.hasNext()) {
            Object element = itr.next();
            //System.out.print("The list is "+(Folder)element.putFName());
            System.out.println("The lis is "+element);
        }

    }

} 
```

它运行并将输出作为 Folder@1234 给出，这无疑给出了对象的名称。但是我需要传递的字符串的名称，即显示 hello 的子文件夹，它应该显示一个，一个的子文件夹应该显示两个！但相反，我得到了对象名称！！！！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-29T06:14:14.103

您应该`toString`在您想要/需要将对象打印为`String`s 的类中实现该方法。在这种情况下，您需要在`Folder`类中实现它：

```
class Folder {

    //class definition...

    @Override
    public String toString() {
        //implementation sample
        return this.folderName;
    }
} 
```

# asp.net - 通过静默发布 ASP.Net 测试 Authorize.Net 定期付款

> ID：13619898
> 
> 赞同：0
> 
> 时间：2012-11-29T06:12:25.777
> 
> 标签：asp.net, authorize.net, authorize.net-arb, silent-post

我一直在我的 asp.net 应用程序中使用 Authorize.Net 支付网关。
我正在使用**开发人员帐户**来测试从 Authorize.Net ARB (SOAP) 创建的订阅。订阅是为这些帐户创建的，但我无法通过使用静默发布方法来**测试结果，****以便将来与帐户**。

[http://www.johnconde.net/blog/all-about-authorize-nets-silent-post/](http://www.johnconde.net/blog/all-about-authorize-nets-silent-post/)
我读过这篇文章，它真的很有帮助；
但是有什么方法可以让我从 Authorize.net 接收响应数据，以便将来支付从我的 authorize.net 开发者帐户创建的帐户？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-29T13:46:10.447

开发者帐户实际上并不处理付款，包括预定的定期账单付款。它们只允许您验证 API 调用是否成功。所以没有真正的方法，使用开发者帐户，用 ARB 测试 Silent Post。

# c++ - 对象切片和隐式类型转换

> ID：13619900
> 
> 赞同：3
> 
> 时间：2012-11-29T06:12:42.610
> 
> 标签：c++, type-conversion

这是我正在使用的代码的简化版本：

```
namespace BasketNovel {

void Engine::BuryEntities()
{
    std::list<Entity*>::iterator iter = p_entities.begin();
    while (iter != p_entities.end())
    {
        if ( (*iter)->getAlive() == false )
        {
            delete (*iter);
            iter = p_entities.erase( iter ); //.erase returns next element
        }
        else iter++;
    }
}
} 
```

我收到来自英特尔静态分析的以下警告：

> BasketNovel.cpp(567)：警告 #12221：在调用“std::_List_iterator > > std::list >::erase(std::_List_const_iterator > >)”时，对象“iter”的切片作为实际参数 2 传递由于隐式类型转换

我相信这基本上是说我正在导致隐式类型转换：

iter = p_entities.erase(iter);

（注意：即使我将代码更改为： p_entities.erase(iter++); 也会收到相同的警告）

我不太明白我在上面“切片”的是什么。这到底是什么意思，我应该如何解决这个警告？我宁愿稍微复杂的代码也不愿完全关闭警告消息。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-29T06:42:35.940

看起来您的`std::list::erase()`方法需要 a`std::list<Entity*>::const_iterator`并且您正在将其传递给`std::list<Entity*>::iterator`. 这可能意味着您正在编译具有 C++11 支持的代码。

一种解决方案是分两步执行删除。首先，用于`std::for_each`删除并设置`0`指向不活动对象的指针。

```
#include <algorithm>

void deleteDead(Entity* e) { 
  if (e->getAlive()) return; 
  delete e;
  e = 0;
}
std::for_each(p_entities.begin(), p_entities.end(), deleteDead); 
```

其次，使用 [erase-remove idiom]( [erase-remove idiom](http://en.wikipedia.org/wiki/Erase-remove_idiom)删除`0`.

```
#include <algorithm>
p_entities.erase(std::remove(p_entities.begin(), p_entities.end(), 0), 
                 p_entities.end() ); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-29T08:27:48.603

> 什么是对象切片

*对象切片*是仅复制/移动对象的一部分的事实，这通常发生在 Base/Derived 对中：

```
struct Base { int i; };

struct Derived: Base { int j; };

void slice() {
    Derived d = {};

    Base b(d); // b is a "sliced" version of `d`
} 
```

并可能导致肮脏。

**不过，这**只是一个误报......

> 可以更容易吗？

是的，当然了。

```
// Place to be deleted values at the end
auto const it = std::partition(p_entities.begin(), p_entities.end(),
                    [](Entity const* e) { return not e or not e->getAlive(); });

// Delete them
std::for_each(it, p_entities.end(), [](Entity const* e) { delete e; });

// Remove them
p_entities.erase(it, p_entities.end()); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-26T06:33:34.210

经过大约一个月的其他工作，我意识到问题的答案基本上是在改变

> std::list::迭代器

到

> std::list::const_iterator

发生切片是因为 .erase() 需要一个 const_iterator 并从迭代器进行隐式转换。

我建议在标题中使用 typedef ing std::list 以涵盖未来可能的类型更改。

不过，我保留了 MatthieuM. 的答案，因为我认为对象切片的定义比这个答案本身有用得多。

# c# - 用多个变量填充数组c#

> ID：13619906
> 
> 赞同：0
> 
> 时间：2012-11-29T06:13:06.143
> 
> 标签：c#, .net, arrays

我试图弄清楚如何用具有多个变量的对象填充数组。我需要的是创建一个数组，而不是一个列表（我正在尝试学习数组），并用 5 种不同的波旁威士忌填充它。是否可以填充数组并将名称、年龄、酿酒厂存储在一个索引中？例如，

如果我调用索引 0，它将显示：

```
Name: Black Maple Hill
Distillery: CVI Brands, Inc
Age: 8 years 
```

到目前为止，我有这个，其中波旁威士忌是威士忌的派生类，并在主类中调用一个方法来提示用户输入。

```
class Bourbon : Whiskey
{
    private Bourbon[] bBottles = new Bourbon[5];

    public void bourbon(string name, string distillery, int age)
    {
        Name = name;
        Distillery = distillery;
        Age = age;
     }

    public void PopulateBottles()
    {
         Console.WriteLine("Please enter the information for 5 bourbons:");
         for (int runs = 0; runs < 5; runs ++)
         {

         }
     }
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-29T06:33:49.583

在您的代码中，您尚未定义`value`您在 for 循环中使用的变量。您可以创建该类的新实例，然后将它们存储在数组中：

```
public void PopulateBottles()
{
    Console.WriteLine("Please enter the information for 5 bourbons:");
    for (int runs = 0; runs < 5; runs ++)
    {
        Console.WriteLine("Name:");
        var name = Console.ReadLine();
        Console.WriteLine("Distillery:");
        var distillery = Console.ReadLine();
        Console.WriteLine("Age:");
        var age = int.Parse(Console.ReadLine());
        var bourbon = new Bourbon(name, distillery, age);
        bBottles[runs] = bourbon;
    }
} 
```

还要确保您已`Bourbon`正确定义类构造函数：

```
public Bourbon(string name, string distillery, int age)
{
    Name = name;
    Distillery = distillery;
    Age = age;
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-29T06:38:43.613

@乔纳森。是的，这是可能的，根据我的解释。您可以尝试使用索引器。

```
Class Bourbon : Whiskey {
 public Bourbon this[int index]
 {
     get {
         return bBottles[index];
     }
     set {
         bBottles[index] = value;
     }  
    }  
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-29T10:14:25.900

检查此需要创建属性和一个构造函数以实现您的要求。

```
class Bourbon
    {

        private Bourbon[] bBottles = new Bourbon[5];

        private string name;

        public string Name
        {
            get { return name; }
            set { name = value; }
        }
        private string distillery;

        public string Distillery
        {
            get { return distillery; }
            set { distillery = value; }
        }
        private int age;

        public int Age
        {
            get { return age; }
            set { age = value; }
        }

        public Bourbon(string name, string distillery, int age)
        {
            Name = name;
            Distillery = distillery;
            Age = age;
        }

        public void PopulateBottles()
        {
            Console.WriteLine("Please enter the information for 5 bourbons:");
            for (int runs = 0; runs < 5; runs++)
            {
                Console.WriteLine("Name:");
                var name = Console.ReadLine();
                Console.WriteLine("Distillery:");
                var distillery = Console.ReadLine();
                Console.WriteLine("Age:");
                var age = int.Parse(Console.ReadLine());
                var bourbon = new Bourbon(name, distillery, age);
                bBottles[runs] = bourbon;
            }
        }
    } 
```

# php - 表单变量传递

> ID：13619907
> 
> 赞同：2
> 
> 时间：2012-11-29T06:13:10.923
> 
> 标签：php, javascript, html

我正在使用 Javascript 将表单变量传递给 PHP 页面`sprcial_action.php`，但它没有重定向到该页面。我的代码如下，请告诉我问题出在哪里？

```
<script>
function formSubmit(index)
{
    var image = document.getElementById("hdnimage" + index);
    var email = document.getElementById("email" + index);

    window.location.href = "sprcial_action.php?name=" + image; 
}
</script>

<form enctype="multipart/form-data" id="form1" name="form1" method="get">

<div class="offers">

    <div class="offer-banner">
         <img src="/images/specialoffer/offer-1.png" />
    </div>
    <div class="mobile">
         <input type="text" value="Mobile" name="mobile" />
    </div>
    <div class="or-button"></div>
    <div class="email">
         <input type="text" value="Email Address" name="email" id="email0"  />
    </div>
    <input type="hidden" name="hdnimage0" id="hdnimage0" value="/images/specialoffer/offer-1.png" />
    <div class="redem-copon">
         <!--<a href="#"><img src="/images/specialoffer/copun.png" /></a>-->
         <input type="image" src="/images/specialoffer/copun.png" onclick="formSubmit(0)" />
    </div>
</div>
</form> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-29T06:16:17.750

`window.location.href`需要以 . 开头的完整路径`http://`。并添加`.value`到图像对象

你应该写成

```
window.location.href = "http://mydomain.com/sprcial_action.php?name=" + image.value; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-29T06:30:26.643

如果 'sprcial_action.php' 页面在同一个应用程序中，那么请参考上面的答案（@Rab'a 答案），你必须使用 image.value 而不是 image（因为它将被视为一个对象）。您无需提供完整路径。但如果此页面在当前应用程序之外，则您必须指定完整地址。

window.location.href = "http://imagesheaven.com/sprcial_action.php?name=" + image.value;

也尝试使用 document.location.href。谢谢！！

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-29T06:49:37.623

有答案：

```
 <script>
function formSubmit(index)
{
    var image = document.getElementById("hdnimage" + index);
    var email = document.getElementById("email" + index);
var data=image.value;
    window.location.href = "http://yourservername/sprcial_action.php?name=" + data; 
}
</script>

<form enctype="multipart/form-data" id="form1" name="form1" method="get">

<div class="offers">

    <div class="offer-banner">
         <img src="/images/specialoffer/offer-1.png" />
    </div>
    <div class="mobile">
         <input type="text" value="Mobile" name="mobile" />
    </div>
    <div class="or-button"></div>
    <div class="email">
         <input type="text" value="Email Address" name="email" id="email0"  />
    </div>
    <input type="hidden" name="hdnimage0" id="hdnimage0" value="/images/specialoffer/offer-1.png" />
    <div class="redem-copon">
         <!--<a href="#"><img src="/images/specialoffer/copun.png" /></a>-->
         <input type="image" src="/images/specialoffer/copun.png" onclick="formSubmit(0)" />
    </div>
</div>
</form> 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-11-29T06:17:44.940

您的`image`变量指的是`input` **object**，而不是它的值。要获得它的价值，请添加`.value`：

```
window.location.href = "sprcial_action.php?name=" + image.value;
// here -------------------------------------------------^ 
```

但请注意，您正在获取该`email`字段但没有对其进行任何操作，并且设置`href`不会*提交*表单，它只会将您带到给定页面。

如果要更改表单提交到的位置，则必须`action`在对象上设置属性`form`（而不是更改`location.href`）：

```
var form = document.getElementById("form1");
form.action = image.value; 
```

我不能 100% 确定您可以在跨浏览器可靠地提交表单*期间*更改它，您需要在目标浏览器上进行测试。

# sql - 在 SQL Server 2012 中为分析服务创建链接服务器，连接字符串由实例名称组成

> ID：13619909
> 
> 赞同：3
> 
> 时间：2012-11-29T06:13:17.330
> 
> 标签：sql, ssas

我正在使用服务器 ip 和实例名称创建从 SQL 数据库到分析服务的链接服务器。这样做时，我收到以下错误：

> 无法为链接服务器“TEST”初始化 OLE DB 提供程序“MSOLAP”的数据源对象。链接服务器“TEST”的 OLE DB 提供程序“MSOLAP”返回消息“OLE DB 提供程序中的错误。无法连接到重定向器。确保 SQLBrowser 服务正在“ ***** ** *** *** ”服务器上运行。”。***链接服务器“TEST”的 OLE DB 提供程序“MSOLAP”返回消息“OLE DB 提供程序出错。从“ ** ** *** *** ”服务器上的 SQLBrowser 服务检索命名实例信息时出错。”。

所以我为服务器创建了一个别名以及实例名称。这样做后得到以下错误：

> 无法为链接服务器“TEST”初始化 OLE DB 提供程序“MSOLAP”的数据源对象。链接服务器“TEST”的 OLE DB 提供程序“MSOLAP”返回消息“发生以下系统错误：请求的名称有效，但未找到请求类型的数据。”。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-29T19:43:31.297

由于分析服务的端口号存在问题，因此存在上述问题。请参考以下链接：http: [//msdn.microsoft.com/en-us/library/ms174937.aspx](http://msdn.microsoft.com/en-us/library/ms174937.aspx)

按照上述链接中提到的步骤，我观察到命名实例的分析服务使用了不同的端口号。使用“MSOLAP$InstanceName 服务”确定正在使用哪个端口。使用链接服务器脚本创建了链接服务器。

EXEC sp_addlinkedserver @server = 'server'，@srvproduct = 'SSAS'，@provider = 'MSOLAP'，@datasrc = ' **IPAddress:portnumber** '，@catalog = 'catalog'

# iphone - 在 UIViewController 上启用界面方向

> ID：13619918
> 
> 赞同：0
> 
> 时间：2012-11-29T06:14:07.130
> 
> 标签：iphone, ios, uiwebview, uiinterfaceorientation

> **可能重复：**
> [shouldAutorotateToInterfaceOrientation 在 iOS 6 中不起作用](https://stackoverflow.com/questions/12577879/shouldautorotatetointerfaceorientation-is-not-working-in-ios-6)

我使用的是 xcode 4.5，我只需要在一个包含 webview 的 viewController 上启用界面方向。我该如何启用它。

`- (BOOL)shouldAutorotateToInterfaceOrientation`在 iOS6 中似乎已弃用

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-11-29T06:31:58.820

相反，您可以使用此 UIViewController

```
-(BOOL) shouldAutorotate{
        return YES; //supports all
    }

    -(NSUInteger) supportedInterfaceOrientations{

        return UIInterfaceOrientationMaskAllButUpsideDown; //supports all but upside-down
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-29T06:31:50.957

此 API 不再适用于 iOS 6。您无法启用它。查看@Shivan Raptor 分享的链接

# ruby-on-rails - Rails：如何从 new.html.erb 访问 @elements

> ID：13619921
> 
> 赞同：1
> 
> 时间：2012-11-29T06:14:15.957
> 
> 标签：ruby-on-rails, ruby

并感谢您的帮助！

我正在构建我的第一个 Rails 应用程序，但遇到了这个问题：

我从 index.html.erb 为一个名为“Expediente”的类制作了一个脚手架，我可以通过 @expedientes 获得访问权限，但我无法从 new.html.erb 进行访问。

这是代码：

//index.html.erb，这运行得很好：。. .

```
 <% @expedientes.each do |expediente| %>

    <tr>
    <td class="custom"> <%= expediente.id %> </td>

    <td class="custom"> <%= expediente.tipo_expediente %> </td>

    <td class="custom">

<% expediente.pacientes.each do |paciente| %>

    <%= paciente.nombre_completo %><br/>
<% end %> 
```

. . .

//new.html.erb，这根本不起作用，并为 nil:NilClass 错误消息发送未定义的方法 `each'：

. . .

```
 <% @expedientes.each do |expediente| %>

      <%if expediente.individual?%>

      <% expediente.pacientes.each do |paciente| %>

     <option value=126><%= paciente.nombre_completo %></option>

     <%end%>

     <%end%>  

     <%end%> 
```

. . .

再次感谢您的帮助！！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-29T06:22:37.490

因为您的 ExpedientesController（呈现 index.html.erb 视图）中的 index 操作定义了变量`@expedientes`，但您的新操作（呈现 new.html.erb 视图）没有。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-29T06:22:26.913

您`New`在控制器中的操作构建了 Expedientes 类的单个实例，因此，它不是您可以使用`each`.

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-29T06:37:13.903

结合以上 2 个答案在你的索引方法中，你可能有类似的东西

```
@expedientes = Expediente.all 
```

在新方法中，您将拥有

```
@expedient = Expediente.new 
```

在你的新方法中添加这个

```
@expedientes = Expediente.all 
```

最终的

```
def new 
    @expedient = Expediente.new
   @expedientes = Expediente.all  
end 
```

# java - 在java中上传图像并将其保存在服务器上。没有 HTML5

> ID：13619927
> 
> 赞同：-5
> 
> 时间：2012-11-29T06:14:35.427
> 
> 标签：java, javascript, ajax

我想使用 servlet 在服务器上上传图像文件，但我没有使用 HTML5。我在stackoverflow上看到了很多上传图片的问题，但大多数答案都是使用PHP。我已经尝试通过使用 FileReader.readAsDataURL() 方法在 java 脚本中读取客户端的图像文件，然后将其发送到服务器端并通过 BASE64 解密再次制作一个 .jpg 文件。但是制作的文件不能被计算机读取。所以请帮我解决这个问题。其他一些上传方法也值得赞赏。请回答我有关 JAVA JAVA JAVA 的问题。我也想用AJAX :) 谢谢。

我已经完成了使用 servlet 上传图像文件。它工作正常。我正在尝试使用 AJAX 上传图像。我通过 AJAX 请求调用相同的 servlet。但它不起作用。我使用的是 common-fileupload.jar 和 common-io.jar。片段看起来像： List items = new FileUpload(new DiskFileItemFactory()) .parseRequest(request);
此代码不适用于 Ajax 我将 dataForm 对象作为数据发送。

```
data = new FormData();
jQuery.each($('#file')[0].files, function(i, file) {
data.append('file-'+i, file);
}); 
```

ajax 请求如下所示：

```
$.ajax({
type : "POST",
data: data,
cache: false,
url : "/uploadImage/upload", 
contentType: false,    
processData: false,
success : function() {
alert("Done..!!");
}
}); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-29T07:15:29.503

1）首先创建一个html表单发送多方请求。你可以看到创建一个html表单上传文件的吹链接[http://www.caucho.com/resin-3.0/jsp/tutorial/multipart.xtp](http://www.caucho.com/resin-3.0/jsp/tutorial/multipart.xtp)

2）创建一个java动态web项目并添加一个servert。看看这个样本[http://helloworldprograms.blogspot.com/2010/12/dynamic-web-project-eclipse.html](http://helloworldprograms.blogspot.com/2010/12/dynamic-web-project-eclipse.html)

3）创建一个servlet并使用此代码上传我使用com.oreilly.servlet.MultipartRequest库

```
private void uploadImage(HttpServletResponse response,HttpServletRequest request) throws IOException
{
    String dirName = request.getSession().getServletContext().getRealPath("/temp/");
    String fileName = null;
    MultipartRequest multi=null;

    try{
        multi= new MultipartRequest(request, dirName,1024*1024, "ISO-8859-1");
    }catch (IOException ex){
        ex.printStackTrace();

    }
    try{     
        Enumeration files = multi.getFileNames();

        while (files.hasMoreElements()){
            String name = (String) files.nextElement();
            fileName = multi.getFilesystemName(name);
        }
        String filePath = dirName +  System.getProperty("file.separator") + fileName;
        File clientImage = new File(filePath);

    } catch (Exception ioe){
        ioe.printStackTrace();
        logger.info("\nFile does not exist or cant delete\n");
    }       
} 
```

# php - 数据库查询优化，两个查询对一个

> ID：13619935
> 
> 赞同：0
> 
> 时间：2012-11-29T06:15:13.073
> 
> 标签：php, mysql, sql, database, optimization

快速的问题，我知道他们的回答可能不是一个班轮，但是..

**问题**

向具有 100 条记录的表 A 发送一个查询是否更快，例如，

**或者**

向有 50 条记录的表 N 发送两个查询...

谢谢 ！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-29T06:19:45.190

问题不清楚..如果我理解正确，在大多数情况下一个查询会更快，因为表不必被读取两次

# azure - 天蓝色表存储查询

> ID：13619940
> 
> 赞同：4
> 
> 时间：2012-11-29T06:15:36.737
> 
> 标签：azure, azure-storage, azure-table-storage

当我发布数据并使用数据库查询表时：Dev datastorage (emulator) 它可以工作。

当我使用 Azure 数据库中的数据发布数据表（有帐户）时，它可以工作。当我使用 Azure 数据库（有帐户）中的数据从表中获取数据时，它不起作用。

在这两种情况下，代码都是相同的。除了密钥和帐户凭据。

我应该对 Query 做些什么吗？

```
 var query = azure.TableQuery
    .select().from('dummytable').where('PartitionKey eq ?', key); 
```

任何人都可以建议为什么 Query 不起作用。还有什么需要做的吗

从存储资源管理器它可以工作，我可以看到实体。仅从程序中我无法得到响应。但在同一个程序中，“PUT”操作正在运行。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-24T10:00:56.507

我也发生了同样的事情..从 azure npm 包 0.6.1 升级到 0.6.7 现在可以工作了，希望这会有所帮助。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-29T17:28:53.670

我会查看分区键上的值。Azure 存在问题的无效字符列表中没有一些值。例如，在 SDK 1.7 之前，您可以安全地在密钥中插入 %，但如果您专门查询它，它将无法正常工作。要测试这是否是问题，请尝试运行查询但不使用过滤器并确保返回您的行。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-24T19:43:58.970

在阅读了 msdn 邮件列表之后，我使用最新的 0.6.7 包升级了 azure npm，它可以工作了。看起来是天蓝色的问题

# iphone - Sharekit 不分享图片

> ID：13619941
> 
> 赞同：0
> 
> 时间：2012-11-29T06:15:43.243
> 
> 标签：iphone, objective-c, ios, ipad, sharekit

我在 appstore 中有一个应用程序，它使用 sharekit 将图像分享到 facebook。但它现在显示以下错误

```
Error: This endpoint has been deprecated. To temporarily enable it, you may disable the "august 2012" platform migration. It will be disabled permanently on August 1, 2012. 
```

在 IOS6 或更高版本中我可以使用社交框架，但在 IOS 4.3 左右就没有用了。我该怎么做才能将图像分享到支持 4.3 或更高版本的 facebook。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-29T06:33:56.353

**编辑**：供您`issue`参考[此解决方案](https://stackoverflow.com/a/10613740/1106035)。另请参阅[facebook-application-error-resolved](http://kelechizy.blogspot.in/2012/08/facebook-application-error-resolved.html#.ULcpi4Ukjxg)。

将[Facebook-Graph-](https://github.com/reallylongaddress/iPhone-Facebook-Graph-API) API 用于`lesser version`.`iOS 5.0`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-19T21:59:10.723

我遇到了同样的问题，那是因为我使用的是旧版本的 Sharekit（Sharekit 没有更新他们的网站真是太可惜了！）

按照他们的 Github 说明获取最新版本：[https ://github.com/ShareKit/ShareKit/wiki/Installing-sharekit](https://github.com/ShareKit/ShareKit/wiki/Installing-sharekit)

# php - PHP 的 extract() 函数是否使用写时复制将变量添加到符号表？

> ID：13619948
> 
> 赞同：1
> 
> 时间：2012-11-29T06:16:15.190
> 
> 标签：php, function, extract, copy-on-write

对不起，我确定这个答案在互联网上的某个地方（甚至可能是 stackoverflow），但我花了最后一个小时搜索，似乎找不到答案......

PHP 的 extract() 函数是否使用写时复制将变量添加到符号表？

我知道 PHP 函数调用默认情况下都有一个写时复制（除非您通过引用指定），只是对此感到好奇，因为我正在集成一个模板系统，所以我将一大堆变量抓取到一个 $data 数组中，它有时可能会很大，我想知道在包含模板文件之前提取它们是否是解决此问题的最佳方法。

谢谢！

编辑：

澄清：

```
 $array = array('a' => array(1,2,3), 'b' => array(3,4,5), 'c' => array(6,7,8));
    extract($array);
    //is $a, $b, $c Copy-On-Write at this point? Would be a lot better performance as opposed to allocating 3 new array()'s

    //I would like to avoid having this change the original $array values so using EXTR_REFS is not a good solution for me here if I can avoid it and still keep performance!
    $a = array(3); 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-29T12:11:13.903

两个版本都是可能的（提取值并通过引用提取） - 并且很容易展示这两个版本：

```
function value() {
    $array = array('a' => 1, 'b' => 2);
    extract($array);
    var_dump($a);
    var_dump($b);
    $a = 3;
    $b = 4;
    var_dump($a);
    var_dump($b);
    var_dump($array);
}

function reference() {
    $array = array('a' => 1, 'b' => 2);
    extract($array, EXTR_REFS);
    var_dump($a);
    var_dump($b);
    $a = 3;
    $b = 4;
    var_dump($a);
    var_dump($b);
    var_dump($array);
} 

value();
/* 
int(1)
int(2)
int(3)
int(4)
array(2) {
  ["a"]=>
  int(1)    // original array item is unchanged
  ["b"]=>
  int(2)    // original array item is unchanged
}
*/

reference();
/*
int(1)
int(2)
int(3)
int(4)
array(2) {
  ["a"]=>
  &int(3)    // original array item is changed because it's a reference to the extracted variable
  ["b"]=>
  &int(4)    // original array item is changed because it's a reference to the extracted variable
} 
```

[`extract()`](http://de2.php.net/manual/en/function.extract.php)允许第二个参数`EXTR_REFS`作为选项：

> 提取变量作为参考。这实际上意味着导入变量的值仍然引用 var_array 参数的值。您可以单独使用此标志，也可以通过对 extract_type 进行 OR'ing 将其与任何其他标志结合使用。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-29T06:26:50.527

我会说确实如此，因为`EXTR_REFS`您可以传递一个标志，将变量提取为引用。如果不使用 COW，那么这将毫无意义。

知道了这一点，如果需要，我会说继续提取，因为您未修改的变量已针对这些变量进行了优化。

# wordpress - 在 IE8 中截断图像高度

> ID：13619954
> 
> 赞同：0
> 
> 时间：2012-11-29T06:16:51.603
> 
> 标签：wordpress, internet-explorer-8, internet-explorer-7

我客户的 WordPress 网站标题中的徽标图像在除 IE7 和 IE8 之外的所有浏览器中正常显示 - 它被切成两半（不显示上半部分）。

谷歌搜索建议了一系列可能的原因，从最大宽度到 z-index。尝试了我能找到的一切，没有任何改变。

图片：[http ://d.pr/i/KIEA](http://d.pr/i/KIEA)

HTML：

```
<div class="logo">
    <a href="<?php echo home_url(); ?>"> <img src="<?php echo $data['header_logo']; ?>" alt="<?php bloginfo('name'); ?>" /></a>
</div> 
```

计算样式（来自 Chrome）：

```
-webkit-background-clip: border-box;
-webkit-background-origin: padding-box;
-webkit-background-size: auto;
-webkit-border-image: none;
background-attachment: scroll;
background-clip: border-box;
background-color: transparent;
background-image: none;
background-origin: padding-box;
background-position: 0% 0%;
background-size: auto;
border-bottom-color: #EC5923;
border-bottom-style: none;
border-bottom-width: 0px;
border-left-color: #EC5923;
border-left-style: none;
border-left-width: 0px;
border-right-color: #EC5923;
border-right-style: none;
border-right-width: 0px;
border-top-color: #EC5923;
border-top-style: none;
border-top-width: 0px;
color: #EC5923;
cursor: auto;
display: inline-block;
font-family: arial;
font-size: 12px;
font-style: normal;
font-variant: normal;
font-weight: normal;
height: 105px;
line-height: 20px;
margin-bottom: 0px;
margin-left: 0px;
margin-right: 0px;
margin-top: 0px;
max-width: 100%;
padding-bottom: 0px;
padding-left: 0px;
padding-right: 0px;
padding-top: 0px;
position: static;
text-decoration: none;
vertical-align: middle;
width: 460px; 
```

完全没有东西可以尝试。有任何想法吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-29T23:51:58.003

发现问题。父 div 有一个负边距，这会切断图像。

# java - 通过调用 start() 和 run() 来运行 Thread，有什么区别？

> ID：13619958
> 
> 赞同：2
> 
> 时间：2012-11-29T06:17:33.080
> 
> 标签：java, multithreading

这可能是一个基本问题，我对此感到困惑，

在一个文件中我有这样的：

```
public class MyThread extends Thread {
    @Override
    public void run() {
        //stuffs
    }
} 
```

现在在另一个文件中我有这个：

```
public class Test {
    public static void main(String[] args) {
        Thread obj = new MyThread();

        //now cases where i got confused
        //case 1
        obj.start();   //it makes the run() method run
        //case 2
        obj.run();     //it is also making run() method run
    }
} 
```

那么在上面两种情况之间有什么区别，情况1是创建一个新线程而情况2不是创建一个线程吗？这是我的猜测......希望有更好的答案所以伙计们。谢​​谢

* * *

## 回答 #1

> 赞同：17
> 
> 时间：2012-11-29T06:19:28.277

[`start()`](http://docs.oracle.com/javase/7/docs/api/java/lang/Thread.html#start%28%29)`run()`在新线程中运行代码。直接调用`run()`不会`run()`在新线程中执行，而是`run()`从调用线程。

如果您`run()`直接调用，则不是线程。直接调用`run()`将阻塞，直到任何代码`run()`完成。 `start()`创建一个新线程，并且由于代码在`run`该新线程中运行，因此`start()`立即返回。（嗯，从技术上讲，不是立即，而是在创建新线程并启动它之后。）

此外，您应该[实现可运行，而不是扩展线程](https://stackoverflow.com/questions/541487/implements-runnable-vs-extends-thread)。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-29T06:20:14.190

调用start()会创建一个新的执行线程，然后run()会在新创建的线程中执行

其中直接调用 run() 将执行当前线程中的代码

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-11-29T06:20:23.630

*   调用 start() 后的 run() 方法：这是由您创建的线程执行的，它被分配处理器以独立运行。

*   你调用的 run() 方法：从你的调用线程执行。

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2012-11-29T06:22:06.447

你的问题的简单答案是这样的：

run()：运行run()方法中的代码，**阻塞直到完成**

start()：**立即返回（不阻塞）**，另一个线程运行run()方法中的代码

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2012-11-29T06:22:37.170

调用*启动*线程。它执行创建和启动新线程的基础工作，然后调用该新线程。[`start`](http://docs.oracle.com/javase/7/docs/api/java/lang/Thread.html#start%28%29) *`run`*

 *调用`run`只是调用*当前线程上*[`run`](http://docs.oracle.com/javase/7/docs/api/java/lang/Thread.html#run%28%29)的方法。你从不直接打电话，使用.*`run``start`*

 ** * *

## 回答 #6

> 赞同：1
> 
> 时间：2012-11-29T07:20:02.250

在一行中，直接调用`run()`是***同步***的（您的代码将阻塞，直到 run() 返回）并且调用`start()`（您的代码不会等待 run 完成，因为它在其他线程中被调用`obj`）是***异步***的。

当您直接使用`start()`方法时，线程将使用您提供给它的 Runnable 实例运行一次，然后线程将无法使用。

但是要利用 Java 中内置的线程池和调度功能，扩展 Runnable 或 Callable 是可行的方法。

* * *

## 回答 #7

> 赞同：1
> 
> 时间：2012-11-29T21:12:57.707

start() 启动线程。run() 只是在当前线程中运行代码。**

# ajax - 如何使用不同的输入框调用ajax

> ID：13619962
> 
> 赞同：0
> 
> 时间：2012-11-29T06:18:11.663
> 
> 标签：ajax

我有2个输入框。每个都有 ID abc 和 xyz。当两个框中的任何一个失焦并检查另一个框是否为空时，将激活 ajax 功能。如果两个输入框都有值，它会将信息传递给 tmp.php 处理并返回一些值。

我已经写了代码。但想知道是否有可能缩短脚本？我使用的方法实际上是重复不同的输入框。

```
<input id = abc>
<input id = zyx>
$("#abc)     
   .blur(function(){
  if ($("#zyx).val() !=''){
  $.ajax({
   url: tmp.php,
   dataType: "json",
   data: {
   value : zyx
 },
   success: function(data){ 
    alert ("OK");
    }  }
 });
  }
  });

$("#zyx)     
  .blur(function(){
  if ($("#abc).val() !=''){
  $.ajax({
   url: tmp.php,
   dataType: "json",
   data: {
   value : zyx
 },
  success: function(data){  
    alert ("OK");
    }  }
 });
  }
  }); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-29T06:24:40.827

你可以写

```
$("#abc, #xyz)     
   .blur(function(){
  if ($("#zyx).val() !='' && $("#abc).val() !='')
{
.....
.
.
.. 
```

# hibernate - 单向一对多关系查询 GORM grails

> ID：13619969
> 
> 赞同：1
> 
> 时间：2012-11-29T06:18:58.120
> 
> 标签：hibernate, grails, grails-orm, one-to-many

```
Author{
 String name;
 List<Book> books
 static hasMany= [books: Book]
} 
```

* * *

```
Book{
 int number_of_pages;
 String name;
} 
```

我想查询并获取按排序的特定作者的前 10 本书`number_of_pages`

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-29T17:21:36.410

使用 HQL，您可以：

```
 def query = "select book from Author author join author.books book where author=:author order by book.number_of_pages"
    def books = Author.executeQuery(query, [author: author], [max: 10]) 
```

注意：您应该重命名`number_of_pages`为`numberOfPages`.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-29T23:46:40.690

我建议您通过将作者添加为 Book 的属性，使 Author 对 Book 可见。

这样你可以这样做：

```
Book.findAll(sort: 'number_of_pages', max: 10) { author.id == myAuthorVariable.id } 
```

虽然，有更好的方法。如果你让 Author 实现 equals 方法，你可以这样写：

```
Book.findAll(sort: 'number_of_pages', max: 10) { author == myAuthorVariable } 
```

此外，您可以设置“偏移量”，即从 x 寄存器开始给我带来 10 本书。这对于分页很有用：

```
Book.findAll(sort: 'number_of_pages', max: 10, offset: 50) { author == myAuthorVariable } 
```

Author 的 equals 实现可以是：

```
def boolean equals(author) {
    if (this.is(author)) return true

    if (!author || getClass() != author.class) return false

    return this.name == author.name
} 
```

# gcc - gperftools CPU profiler 究竟是如何启动的？

> ID：13619974
> 
> 赞同：10
> 
> 时间：2012-11-29T06:19:28.067
> 
> 标签：gcc, linker, dynamic-linking, google-perftools, gperftools

[gperftools 文档](http://google-perftools.googlecode.com/svn/trunk/doc/cpuprofile.html)说`libprofiler`应该链接到目标程序：

```
$ gcc myprogram.c -lprofiler 
```

（不改变程序的代码）。

然后程序应该使用特定的环境变量运行：

```
CPUPROFILE=/tmp/profiler_output ./a.out 
```

**问题是：**如何`libprofile`有机会启动和完成一个分析器，当它只是被加载，但它的函数没有被调用？

该库中没有构造函数（[proof](http://code.google.com/p/gperftools/source/search?q=%22__attribute__%28%28constructor%29%29%22&origq=%22__attribute__%28%28constructor%29%29%22&btnG=Search%20Trunk)）。 [库代码中“CPUPROFILE”](http://code.google.com/p/gperftools/source/search?q=%22CPUPROFILE%22&origq=%22CPUPROFILE%22&btnG=Search%20Trunk)的所有场合均不涉及启动分析器的任何地方。

我没有想法，下一步该去哪里看？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-12-01T16:39:24.450

根据链接网页的文档，在链接库下，它描述了 -lprofiler 步骤与使用 LD_PRELOAD 选项链接共享对象文件相同。

共享对象文件与头文件不同。头文件包含编译程序时查找的函数声明，因此函数的名称解析，但名称只是名称，而不是实现。共享对象文件 (.so) 包含函数的实现。有关更多信息，请参阅[以下 StackOverflow 答案](https://stackoverflow.com/questions/1176427/shared-libraries-and-h-files)。

[/trunk/src/profiler.cc 的源文件](https://code.google.com/p/gperftools/source/browse/src/profiler.cc)在第 182 行，有一个 CPUProfiler 构造函数，它根据 CPUPROFILE 环境变量（第 187 行和第 230 行）检查是否应该启用分析。

然后它在第 237 行调用 Start 函数。根据该文件中的注释，析构函数在第 273 行调用 Stop 函数。

为了回答您的问题，我相信第 132`CpuProfiler CpuProfiler::instance_;`行是 CpuProfiler 实例化的行。

gperftools 文档中缺乏明确性是已知问题，请参见[此处](http://code.google.com/p/gperftools/issues/detail?id=412)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-08-07T06:29:36.420

我认为探查器使用 profile-handler.cc 底部的 REGISTER_MODULE_INITIALIZER 宏进行初始化（以及 heap-checker.cc、heap-profiler.cc 等）。这会调用 src/base/googleinit.h ，它定义了一个虚拟静态对象，该对象的构造函数在加载库时被调用。然后该虚拟构造函数调用 ProfileHandlerRegisterThread()，然后使用 pthread_once 变量初始化单例对象 (ProfileHandler::instance_)。

函数 REGISTER_MODULE_INITIALIZER 模拟 Linux 可加载内核模块中的 module_init()/module_exit() 函数。

（我的回答是基于gperftools的2.0版本）

# visual-studio-2012 - VS2012 update1 破解roslyn CTP3（九月CTP）

> ID：13619979
> 
> 赞同：0
> 
> 时间：2012-11-29T06:20:00.900
> 
> 标签：visual-studio-2012

安装 VS2012 CTP1 后，C# 交互会抛出如下错误：

```
Value cannot be null.
Parameter name pSrcNativeVariant 
```

我尝试卸载并重新安装 Roslyn CTP，但没有成功。任何的想法？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-03T10:01:06.080

看来我必须再次回答我自己的问题：）。我今天发现实际上是 VS2012 的 Mono for Android 插件才是罪魁祸首。卸载后，Roslyn 恢复正常。

# java-me - Symbian 的 API 桥

> ID：13619982
> 
> 赞同：1
> 
> 时间：2012-11-29T06:20:07.323
> 
> 标签：java-me, symbian

我想从 Symbian Mobile 读取短信并将短信发送到服务器。我不熟悉 symbian 编程语言，所以我想使用 J2ME 并与 API_BRIDGE 交互。我的问题是我找不到任何关于如何将 API_BRIDGE 与 J2ME 一起使用的示例。请协助提供使用 api_bridge 的文章或示例。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-26T02:04:43.230

有关 J2ME 的 API 桥的所有相关信息都在这里： http: [//www.developer.nokia.com/Community/Wiki/J2ME_Api_Bridge_Interface](http://www.developer.nokia.com/Community/Wiki/J2ME_Api_Bridge_Interface)

如您所见，它目前不支持读取 SMS 数据库。如果您愿意 (1) 用 Symbian C++ 编写 sms 插件，自己打包并签名，或者 (2) 寻找其他人已经创建的插件，这是可能的

我已经为您尝试了选项 2，但失败了。希望你会有更好的运气/搜索技巧。

您需要注意的另一件事是 API Bridge 只能安装在 Symbian S60、Anna 和 Belle/Belle Refresh 上。如果您使用的是 Symbian S40 / Asha，那么抱歉，您不走运。据我所知，在这些设备上没有从 J2ME 访问 SMS 数据库的已知方法。

# c# - 列表框中的复选框以选择多个项目并使用 MVVM 将其添加到另一个列表框

> ID：13619990
> 
> 赞同：0
> 
> 时间：2012-11-29T06:20:44.687
> 
> 标签：c#, mvvm, silverlight-5.0

使用 MVVM，

我有两个包含复选框的列表框，并且数据是从数据库绑定的。

在第一个列表框中检查的项目希望将其添加到第二个列表框中。

第一个列表框：

```
 <pmControls:pmListBox SelectionMode="Multiple" Grid.Row="1" Margin="3" ItemsSource="{Binding ParcelFacilities}" >

            <interactivity:Interaction.Triggers>
                <interactivity:EventTrigger EventName="SelectionChanged">
                    <shared:EventToCommandTrigger Command="{Binding Listbox_SelectionChangeCommand}" />
                </interactivity:EventTrigger>
            </interactivity:Interaction.Triggers>

            <pmControls:pmListBox.ItemTemplate >
                <DataTemplate >
                    <pmControls:pmCheckBox  Content="{Binding Title}" Margin="3" Width="200"  IsChecked="{Binding checkedParcelFacility}" >

                    </pmControls:pmCheckBox>

                </DataTemplate>
            </pmControls:pmListBox.ItemTemplate> 
```

第二个列表框：

```
 <pmControls:pmListBox SelectionMode="Multiple"   Grid.Row="1" Margin="3" ItemsSource="{Binding Selected_ParcelFacilities}" 
                                   Height="100">

            <pmControls:pmListBox.ItemTemplate >
                <DataTemplate >

                    <pmControls:pmCheckBox Content="{Binding Title}" Margin="3" Width="200" ></pmControls:pmCheckBox>

                </DataTemplate>
            </pmControls:pmListBox.ItemTemplate> 
```

在视图模型中：

我已经为第一个列表框处理了 SelectionChanged 事件，并尝试将选中的元素添加到名为 Selected_ParcelFacilities 的集合中，并将其绑定到第二个列表框。

```
 public ParcelViewModel(IModalDialogService modalDialogService, IMessageBoxService messageBoxService)
     {       

            parcelFacilities = new ObservableCollection<Parcel_Facility>();

            Selected_ParcelFacilities = new ObservableCollection<Parcel_Facility>();

            Selected_ParcelFacilities.CollectionChanged += new System.Collections.Specialized.NotifyCollectionChangedEventHandler(Selected_ParcelFacilities_CollectionChanged);
  }

 void Selected_ParcelFacilities_CollectionChanged(object sender, System.Collections.Specialized.NotifyCollectionChangedEventArgs e)
 {
     OnPropertyChanged("Selected_ParcelFacilities");
 }

private void Executelistbox_SelectionChangeCommand(EventToCommandArgs args)
 {

     bool a = checkedParcelFacility;

     foreach (Parcel_Facility item in parcelFacilities)
     {

                if (Selected_ParcelFacilities != null)
                {
                    Selected_ParcelFacilities.Add(item);
                }                    
     }             
 } 
```

但是使用上面的代码，第一个列表框中的所有项目都添加到第二个，我不知道如何检查它是否被检查。

请帮忙。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-29T07:49:27.127

您可以简单地将第二个列表框绑定到第一个列表框的 SelectedItems。这将首先在列表框中进行实际选择。

```
<ListBox x:Name="second" ItemsSource="{Binding Elementname=first, Path=SelectedItems, Mode=OneWay}"/> 
```

另一种方法是为您的第二个列表框使用带有过滤器的 ICollectionView。过滤器只处理checkedParcelFacility 属性，第二个列表框绑定到ICollectionView。

# sql - Next Occurance of the day of next week (具体来说，下一个星期三的发生) 基于当前日期

> ID：13619992
> 
> 赞同：4
> 
> 时间：2012-11-29T06:21:25.747
> 
> 标签：sql, oracle, intervals, timestamp

在 Oracle SQL Developer 中，如何根据当前日期确定下一个星期三的日历日期。我已经搜索并看到了许多关于 Ruby、PHP、MYSQL 的示例，但没有针对 oracle sql。我读了这篇关于[DATETIME 计算](http://www.sqlmag.com/content1/topic/datetime-calculations-part-3/catpath/tsql3)的文章，但是这些我们在课堂上没有讨论过。我们正在处理日期转换、大小写、时间、时间戳和间隔，但我不确定如何解决这个问题。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-29T06:39:07.967

[Nex_day](http://docs.oracle.com/cd/B19306_01/server.102/b14200/functions093.htm)函数将返回第一个工作日的日期，指定为函数的第二个参数，晚于指定为函数的第一个参数的日期。例如：

```
SQL> select next_day(sysdate, 'WEDNESDAY') next_day
  2    from dual
  3  ;

NEXT_DAY
-----------
05-DEC-2012 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-29T06:54:56.833

您可以使用名为 NEXT_DAY 的 DATE 函数

试试这个

```
SELECT NEXT_DAY(SYSDATE,'WEDNESDAY') "Next WED"
  FROM DUAL ; 
```

# android - 跨 Android 版本的可用 Linux 命令

> ID：13619993
> 
> 赞同：2
> 
> 时间：2012-11-29T06:21:38.387
> 
> 标签：android, shell

我想在我的 Android 应用程序中编写一些基本的 Linux 命令（即带有递归 -R 选项的 ls、rm、cp、chmod），但我不确定它们是否适用于不同版本的操作系统以及它们是否支持“-R”或不。根据我的经验， cp 似乎已添加到 Jelly Bean 4.2 中。其余的都在早期版本中可用。

请问有这方面的出处或参考吗？（Android 官方网站上似乎没有任何内容。）

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-29T06:33:27.050

您可以随时启动 avd 并在 adb shell 中运行`ls /system/bin`，`ls /system/xbin`它会显示所有存在的命令。