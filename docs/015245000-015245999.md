# StackOverflow 问答 15245000-15245999

# ios - iOS 数据保护的工作原理

> ID：15245001
> 
> 赞同：13
> 
> 时间：2013-03-06T10:38:04.323
> 
> 标签：ios, data-protection

我有一个快速的问题：

我下载了一个 iOS 应用程序，它使用 NSFileProtectionComplete 类来保护包含敏感信息的 sqlite 文件。

根据 iOS 安全文档 ( [http://images.apple.com/ipad/business/docs/iOS_Security_May12.pdf](http://images.apple.com/ipad/business/docs/iOS_Security_May12.pdf) )，当设备 (iPhone/iPad) 与笔记本电脑配对时，笔记本电脑会从移动设备 。密钥包包含解密设备信息所需的所有类密钥。

但是，我注意到当我将设备与笔记本电脑配对并使用 iExplorer 浏览文件系统时，sqlite 文件仅在设备解锁时可用。当手机被锁定（仍然配对）时，文件不可读。未使用 NSFileProtectionComplete 的文件可以在设备锁定时查看。

如果托管密钥包包含解密信息的所有类密钥，为什么我必须解锁设备才能通过 iExplorer 访问它？

我在 iPad3 上使用 iOS 6.0 并使用 ios-dataprotection 工具 ( [https://github.com/ciso/ios-dataprotection](https://github.com/ciso/ios-dataprotection) ) 来确定文件使用的数据保护类。

iOS 应用程序：AccountVault
文件：PointMinder.sqlite

任何帮助将不胜感激。

谢谢。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-03-21T10:43:19.900

From documentation file you've linked:

> Complete Protection (NSFileProtectionComplete): The class key is protected with a key derived from the user passcode and the device UID. Shortly after the user locks a device (10 seconds, if the Require Password setting is Immediately), the decrypted class key is discarded, rendering all data in this class inaccessible until the user enters the passcode again.

So device should be unlocked if you want to access that files. That is how Apple made it.

**Edit:** Found in "Hacking and Securing iOS Applications":

> Protection class keys are master encryption keys used to unlock files based on their access policy. Protection classes are the encryption mechanism used to enforce the access policies of files.
> 
> Some files are so important that the operating system should be able to decrypt them only when the device’s user interface is unlocked. These files’ encryption keys are wrapped with a class key that is available only after the user has entered his passcode. When the device locks again, the key is wiped from memory, making the files unavailable again.
> 
> Protection class master keys are stored in an escrow known as a keybag. The keybag contains the *encrypted* protection class master keys, as well as other keys to system files on the device. The system keybag is encrypted using another encryption key named BAGI, which is also stored in the effaceable storage of the NAND. Whenever the user authenticates to meet a specific security protection policy, the encrypted keys in the keybag can be decrypted.

So keys for that files are transferred, but are encrypted. When you enter your passcode, OS decrypt that key and it can then be used to decrypt files protected with it.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-02T19:00:12.663

这仅适用于我的应用程序中的 SQLite 数据库，而不适用于我希望的其他资源。但是，在锁定设备并等待几分钟 iExplore 仍然打开并且设备仍然连接后，我仍然能够访问数据库。如果我断开 iPad 并重新连接，我猜 iExplore 会强制刷新，然后我就无法访问数据库。所以不确定它是否只是在内存中具有旧的“未加密”数据库信息或什么。

# ember.js - 在一条路线上混合不同的模型

> ID：15245007
> 
> 赞同：2
> 
> 时间：2013-03-06T10:38:23.920
> 
> 标签：ember.js, ember-data

我们将 Ember 与 Ember-Data 一起使用，并且被以下设置难住了：

有一个父对象 ( `Epic`)，它有多个子对象 ( `UserStory`)。我们使用 ember-data 对此进行了相应的建模：

```
App.Epic = DS.Model.extend({
    name: DS.attr("string"),
    description: DS.attr("string"),
    project: DS.belongsTo("App.Project")
});

App.UserStory = DS.Model.extend({
    name: DS.attr("string"),
    description: DS.attr("string"),
    goal: DS.attr("string"),
    benefit: DS.attr("string"),
    epic: DS.belongsTo("App.Epic")
}); 
```

我们现在想要实现的是，我们有一个独立表单列表来编辑`Epic`内联的所有`UserStories`. 显然，我们将简单`UserStories`地`Epic`通过`RESTAdapter`. 然而我们担心这会导致丑陋的更新场景：更改一个`UserStory`会触发整个更新`Epic`及其所有`UserStories`. 在我们的架构中，a`UserStory`是一个独立的实体，应该由专门的 REST 服务维护。

作为 ember 新手，我们希望实现以下方面的内容：

*   `Epic`通过 ember-data加载
*   扩展以`EpicController`将所有内容加载`UserStories`到单独的模型（列表）中。
*   `Epic`通过专用表单更改`Epic Rest Service`.
*   *魔法：*对个体`UserStory`形式的改变会引发对`User Story Rest Service`.

魔法是如何实现的？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T14:49:08.207

看一下controllerFor方法：

[http://emberjs.com/guides/routing/setting-up-a-controller/](http://emberjs.com/guides/routing/setting-up-a-controller/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-07T16:03:39.370

这有点尴尬，但我想要的是 ember-data 在默认情况下的行为方式。我需要做的就是让`Epic`REST-Service 提供`UserStory`id 而不是内联对象。Ember 将一次性获取所有子节点 - URL 设置有点难看但有效 - 并将使用`UserStory`rest-service 进行放置。

Ember 有一个陡峭但令人满意的学习曲线。

感谢您的反馈意见。

斯特凡

# objective-c - 我们可以将字典直接写入 pList 而不进行编码吗？

> ID：15245008
> 
> 赞同：0
> 
> 时间：2013-03-06T10:38:27.720
> 
> 标签：objective-c, serialization, plist

是否可以在不编码的情况下将字典直接写入 plist？我的意思是不使用 encodeWithCoder 函数？？？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T10:50:38.840

是的，有可能...使用此代码

```
 NSString *plistName = @"plistname";
    NSArray *paths = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES);
    NSString *documentsDirectory = [paths objectAtIndex:0];
    NSString *path = [documentsDirectory stringByAppendingPathComponent:[plistName stringByAppendingPathExtension:@"plist"]];
    [dataDic writeToFile:path atomically:YES]; 
```

在这里，dataDic 只不过是您要存储在 plist 中的字典。

# ios - UITableView & Controller 给了我空表视图

> ID：15245012
> 
> 赞同：3
> 
> 时间：2013-03-06T10:38:31.763
> 
> 标签：ios, objective-c, xcode

我有一个应用程序（导航控制器），其中第二个控制器是表视图控制器。我能够通过 segue 发送我需要的数据，但无法以编程方式更新 tableview 中的条目。

我是IOS的新手。

这是我的头文件

```
#import <UIKit/UIKit.h>
@interface HCIResultListViewController : UITableViewController

@property (strong,nonatomic) NSMutableDictionary *resultList;
@property (strong, nonatomic) IBOutlet UITableView *tableListView;

@end 
```

这是我的实现文件。

```
- (NSInteger)numberOfSectionsInTableView:(UITableView *)tableView
{
    #warning Potentially incomplete method implementation.
    // Return the number of sections.
    return 0;
}

- (NSInteger)tableView:(UITableView *)tableView numberOfRowsInSection:(NSInteger)section
{
#warning Incomplete method implementation.
// Return the number of rows in the section.
return 0;
}

- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath
{
static NSString *CellIdentifier = @"HelloCell";
UITableViewCell *cell = [tableView dequeueReusableCellWithIdentifier:CellIdentifier];

if (cell == nil){
    cell = [[UITableViewCell alloc] initWithStyle:UITableViewCellStyleSubtitle reuseIdentifier:CellIdentifier];
}

cell.textLabel.text = @"Hello";

// Configure the cell...

return cell;
} 
```

谁能告诉我如何使用 tableview 和控制器？

我确实浏览了几个文档和示例，但真的无法理解

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T10:40:32.527

`UITableView`如果您将 设置`numberOfRowsInSection` 为 0 ，您的期望是什么？

```
- (NSInteger)tableView:(UITableView *)tableView numberOfRowsInSection:(NSInteger)section
{
#warning Incomplete method implementation.
// Return the number of rows in the section.
return 0; // it should be size of your Array or List 
} 
```

您应该将行数更改为数组大小或您在`UITableView`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-06T10:40:33.773

您需要至少返回 1 才能看到一些数据

```
- (NSInteger)tableView:(UITableView *)tableView numberOfRowsInSection:(NSInteger)section 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-06T10:40:45.607

tableView的section数为0！让它1

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-03-06T10:41:34.287

它可以帮助你

```
- (NSInteger)numberOfSectionsInTableView:(UITableView *)tableView
{
return 1;
}

- (NSInteger)tableView:(UITableView *)tableView numberOfRowsInSection:(NSInteger)section
{
#warning Incomplete method implementation.
// Return the number of rows in the section.
return 4;
} 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2013-03-06T10:41:47.300

您需要指定表格视图的行数和节数。像这样。

```
 - (NSInteger)numberOfSectionsInTableView:(UITableView *)tableView
    {
        #warning Potentially incomplete method implementation.
        // Return the number of sections.
        return 1;
    }

    - (NSInteger)tableView:(UITableView *)tableView numberOfRowsInSection:(NSInteger)section
    {
    #warning Incomplete method implementation.
    // Return the number of rows in the section.
    return [sourceData Count]//i.e., 10;
    }

    - (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath
    {
    static NSString *CellIdentifier = @"HelloCell";
    UITableViewCell *cell = [tableView dequeueReusableCellWithIdentifier:CellIdentifier];

    if (cell == nil){
        cell = [[UITableViewCell alloc] initWithStyle:UITableViewCellStyleSubtitle reuseIdentifier:CellIdentifier];
    }

    cell.textLabel.text = @"Hello";

    // Configure the cell...

    return cell;
    } 
```

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2013-03-06T10:50:27.120

替换你的方法：

```
 - (NSInteger)numberOfSectionsInTableView:(UITableView *)tableView
   {
    #warning Potentially incomplete method implementation.
    return 1;
    } 
```

* * *

## 回答 #7

> 赞同：1
> 
> 时间：2013-03-06T10:50:40.913

这正是 Apple 模板的意思：

```
#warning Potentially incomplete method implementation. 
```

您需要在那里返回适当的值。如果您只有 1 个部分，则返回 1 `numberOfSectionsInTableView`（这是我要说的正常情况）。并返回要从中填充的行数`numberOfRowsInSection`。这很可能是数组的计数或获取的数据集的数量或一些硬编码的值/常量值（如果它不是动态的）。

`cellForRowAtIndexPath`然后将被称为最大可能的每个行/部分组合，但仅适用于从开始可见或即将滚动到可见区域的那些单元格。

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2013-03-06T11:24:49.970

```
 - (NSInteger)tableView:(UITableView *)tableView numberOfRowsInSection:(NSInteger)section
{    
   //warning Incomplete method implementation.
    // Return the number of rows in the section.
   //   
  return 1;
} 
```

* * *

根据这个数据源方法说，作为数字行需要并且您必须返回 0，因此不生成任何行，因此也不生成单元格，以便按照我们的要求静态否则动态生成行至少 1 行返回。

# android - Android 谷歌应用停止

> ID：15245013
> 
> 赞同：0
> 
> 时间：2013-03-06T10:38:34.643
> 
> 标签：android

嗨，我正在尝试在 android 中运行一个显示 Google 地图的简单应用程序，但是每当我尝试在模拟器上运行时，它都会显示`unfortunately gmap has stopped`。请帮帮我。这是我的代码

**gmap清单**：

```
<?xml version="1.0" encoding="utf-8"?>
<manifest xmlns:android="http://schemas.android.com/apk/res/android"
package="com.example.gmap"
android:versionCode="1"
android:versionName="1.0" >

<uses-sdk
    android:minSdkVersion="8"
    android:targetSdkVersion="17" />
    <uses-permission android:name="android.permission.INTERNET" />
<uses-permission android:name="android.permission.ACCESS_NETWORK_STATE"/>
<uses-permission android:name="com.google.android.providers.gsf.permission.READ_GSERVICES"/>
 <uses-permission android:name="android.permission.WRITE_EXTERNAL_STORAGE"/>
 <uses-permission android:name="android.permission.ACCESS_COARSE_LOCATION"/>
     <uses-permission android:name="android.permission.ACCESS_FINE_LOCATION"/>

 <uses-feature
      android:glEsVersion="0x00020000"
      android:required="true"/>

    <application
    android:allowBackup="true"
    android:icon="@drawable/ic_launcher"
    android:label="@string/app_name"
    android:theme="@style/AppTheme" >
    <activity
        android:name="com.example.gmap.MainActivity"
        android:label="@string/app_name" >
        <intent-filter>
            <action android:name="android.intent.action.MAIN" />
            <category android:name="android.intent.category.LAUNCHER" />
        </intent-filter>
    </activity>
</application> 
```

**主要活动**：

```
package com.example.gmap;

import android.os.Bundle;
import com.google.android.maps.MapActivity;
public class MainActivity extends MapActivity 

{

@Override
protected void onCreate(Bundle savedInstanceState) 
{
    super.onCreate(savedInstanceState);
    setContentView(R.layout.activity_main);
}

@Override
protected boolean isRouteDisplayed() {
    // TODO Auto-generated method stub
    return false;
}

} 
```

**活动主.xml**：

```
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
xmlns:tools="http://schemas.android.com/tools"
android:layout_width="match_parent"
android:layout_height="match_parent"
android:paddingBottom="@dimen/activity_vertical_margin"
android:paddingLeft="@dimen/activity_horizontal_margin"
android:paddingRight="@dimen/activity_horizontal_margin"
android:paddingTop="@dimen/activity_vertical_margin"
tools:context=".MainActivity" >
 <com.google.android.maps.MapView
  xmlns:android="http://schemas.android.com/apk/res/android"
  android:id="@+id/map_view"
  android:layout_width="fill_parent"
  android:layout_height="fill_parent"
  android:clickable="true"
  android:enabled="true"
  android:apiKey="AIzaSyBS0vnUbvFlLYpqI9Q1IcAwh0mPuDNG07o" /> 
```

**记录猫错误：**

```
03-06 10:01:05.059: E/Trace(1934): error opening trace file: No such file or directory (2)

03-06 10:01:06.337: E/AndroidRuntime(1934): FATAL EXCEPTION: main

03-06 10:01:06.337: E/AndroidRuntime(1934): java.lang.RuntimeException: Unable to instantiate activity ComponentInfo{com.example.gmap/com.example.gmap.MainActivity}: java.lang.ClassNotFoundException: Didn't find class "com.example.gmap.MainActivity" on path: /data/app/com.example.gmap-1.apk

03-06 10:01:06.337: E/AndroidRuntime(1934):     at 
android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2106)

03-06 10:01:06.337: E/AndroidRuntime(1934):     at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2230)

03-06 10:01:06.337: E/AndroidRuntime(1934):     at android.app.ActivityThread.access$600(ActivityThread.java:141)

03-06 10:01:06.337: E/AndroidRuntime(1934):     at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1234)

03-06 10:01:06.337: E/AndroidRuntime(1934):     at android.os.Handler.dispatchMessage(Handler.java:99)

03-06 10:01:06.337: E/AndroidRuntime(1934):     at android.os.Looper.loop(Looper.java:137)

03-06 10:01:06.337: E/AndroidRuntime(1934):     at android.app.ActivityThread.main(ActivityThread.java:5041)

03-06 10:01:06.337: E/AndroidRuntime(1934):     at java.lang.reflect.Method.invokeNative(Native Method)

03-06 10:01:06.337: E/AndroidRuntime(1934):     at java.lang.reflect.Method.invoke(Method.java:511)
03-06 10:01:06.337: E/AndroidRuntime(1934):     at 
com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:793)

03-06 10:01:06.337: E/AndroidRuntime(1934):     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:560)

03-06 10:01:06.337: E/AndroidRuntime(1934):     at dalvik.system.NativeStart.main(Native Method)

03-06 10:01:06.337: E/AndroidRuntime(1934): Caused by: java.lang.ClassNotFoundException: Didn't find class "com.example.gmap.MainActivity" on path: /data/app/com.example.gmap-1.apk

03-06 10:01:06.337: E/AndroidRuntime(1934):     at dalvik.system.BaseDexClassLoader.findClass(BaseDexClassLoader.java:65)

03-06 10:01:06.337: E/AndroidRuntime(1934):     at java.lang.ClassLoader.loadClass(ClassLoader.java:501)

03-06 10:01:06.337: E/AndroidRuntime(1934):     at java.lang.ClassLoader.loadClass(ClassLoader.java:461)

03-06 10:01:06.337: E/AndroidRuntime(1934):     at android.app.Instrumentation.newActivity(Instrumentation.java:1054)

03-06 10:01:06.337: E/AndroidRuntime(1934):     at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2097)

03-06 10:01:06.337: E/AndroidRuntime(1934):     ... 11 more

03-06 10:07:29.661: E/AndroidRuntime(2071): FATAL EXCEPTION: main

03-06 10:07:29.661: E/AndroidRuntime(2071): java.lang.RuntimeException: Unable to instantiate activity ComponentInfo{com.example.gmap/com.example.gmap.MainActivity}: java.lang.ClassNotFoundException: Didn't find class "com.example.gmap.MainActivity" on path: /data/app/com.example.gmap-1.apk

03-06 10:07:29.661: E/AndroidRuntime(2071):     at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2106)

03-06 10:07:29.661: E/AndroidRuntime(2071):     at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2230)

03-06 10:07:29.661: E/AndroidRuntime(2071):     at android.app.ActivityThread.access$600(ActivityThread.java:141)

03-06 10:07:29.661: E/AndroidRuntime(2071):     at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1234)

03-06 10:07:29.661: E/AndroidRuntime(2071):     at android.os.Handler.dispatchMessage(Handler.java:99)

03-06 10:07:29.661: E/AndroidRuntime(2071):     at android.os.Looper.loop(Looper.java:137)

03-06 10:07:29.661: E/AndroidRuntime(2071):     at android.app.ActivityThread.main(ActivityThread.java:5041)

03-06 10:07:29.661: E/AndroidRuntime(2071):     at java.lang.reflect.Method.invokeNative(Native Method)

03-06 10:07:29.661: E/AndroidRuntime(2071):     at java.lang.reflect.Method.invoke(Method.java:511)

03-06 10:07:29.661: E/AndroidRuntime(2071):     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:793)

03-06 10:07:29.661: E/AndroidRuntime(2071):     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:560)

03-06 10:07:29.661: E/AndroidRuntime(2071):     at dalvik.system.NativeStart.main(Native Method)

03-06 10:07:29.661: E/AndroidRuntime(2071): Caused by: java.lang.ClassNotFoundException: Didn't find class "com.example.gmap.MainActivity" on path: /data/app/com.example.gmap-1.apk

03-06 10:07:29.661: E/AndroidRuntime(2071):     at dalvik.system.BaseDexClassLoader.findClass(BaseDexClassLoader.java:65)

03-06 10:07:29.661: E/AndroidRuntime(2071):     at java.lang.ClassLoader.loadClass(ClassLoader.java:501)

03-06 10:07:29.661: E/AndroidRuntime(2071):     at java.lang.ClassLoader.loadClass(ClassLoader.java:461)

03-06 10:07:29.661: E/AndroidRuntime(2071):     at android.app.Instrumentation.newActivity(Instrumentation.java:1054)

03-06 10:07:29.661: E/AndroidRuntime(2071):     at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2097)

03-06 10:07:29.661: E/AndroidRuntime(2071):     ... 11 more

03-06 10:10:37.347: E/AndroidRuntime(2399): FATAL EXCEPTION: main

03-06 10:10:37.347: E/AndroidRuntime(2399): java.lang.RuntimeException: Unable to instantiate activity ComponentInfo{com.example.gmap/com.example.gmap.MainActivity}: java.lang.ClassNotFoundException: Didn't find class "com.example.gmap.MainActivity" on path: /data/app/com.example.gmap-1.apk

03-06 10:10:37.347: E/AndroidRuntime(2399):     at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2106)

03-06 10:10:37.347: E/AndroidRuntime(2399):     at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2230)

03-06 10:10:37.347: E/AndroidRuntime(2399):     at android.app.ActivityThread.access$600(ActivityThread.java:141)

03-06 10:10:37.347: E/AndroidRuntime(2399):     at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1234)

03-06 10:10:37.347: E/AndroidRuntime(2399):     at android.os.Handler.dispatchMessage(Handler.java:99)

03-06 10:10:37.347: E/AndroidRuntime(2399):     at android.os.Looper.loop(Looper.java:137)

03-06 10:10:37.347: E/AndroidRuntime(2399):     at android.app.ActivityThread.main(ActivityThread.java:5041)

03-06 10:10:37.347: E/AndroidRuntime(2399):     at java.lang.reflect.Method.invokeNative(Native Method)

03-06 10:10:37.347: E/AndroidRuntime(2399):     at java.lang.reflect.Method.invoke(Method.java:511)
03-06 10:10:37.347: E/AndroidRuntime(2399):     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:793)

03-06 10:10:37.347: E/AndroidRuntime(2399):     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:560)

03-06 10:10:37.347: E/AndroidRuntime(2399):     at dalvik.system.NativeStart.main(Native Method)

03-06 10:10:37.347: E/AndroidRuntime(2399): Caused by: java.lang.ClassNotFoundException: Didn't find class "com.example.gmap.MainActivity" on path: /data/app/com.example.gmap-1.apk

03-06 10:10:37.347: E/AndroidRuntime(2399):     at dalvik.system.BaseDexClassLoader.findClass(BaseDexClassLoader.java:65)

03-06 10:10:37.347: E/AndroidRuntime(2399):     at java.lang.ClassLoader.loadClass(ClassLoader.java:501)

03-06 10:10:37.347: E/AndroidRuntime(2399):     at java.lang.ClassLoader.loadClass(ClassLoader.java:461)

03-06 10:10:37.347: E/AndroidRuntime(2399):     at android.app.Instrumentation.newActivity(Instrumentation.java:1054)

03-06 10:10:37.347: E/AndroidRuntime(2399):     at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2097)

03-06 10:10:37.347: E/AndroidRuntime(2399):     ... 11 more

03-06 10:15:48.487: E/Trace(2492): error opening trace file: No such file or directory (2)

03-06 10:15:49.018: E/AndroidRuntime(2492): FATAL EXCEPTION: main

03-06 10:15:49.018: E/AndroidRuntime(2492): java.lang.RuntimeException: Unable to instantiate activity 
ComponentInfo{com.example.gmap/com.example.gmap.MainActivity}: java.lang.ClassNotFoundException: Didn't find class "com.example.gmap.MainActivity" on path: /data/app/com.example.gmap-1.apk

03-06 10:15:49.018: E/AndroidRuntime(2492):     at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2106)

03-06 10:15:49.018: E/AndroidRuntime(2492):     at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2230)

03-06 10:15:49.018: E/AndroidRuntime(2492):     at android.app.ActivityThread.access$600(ActivityThread.java:141)

03-06 10:15:49.018: E/AndroidRuntime(2492):     at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1234)

03-06 10:15:49.018: E/AndroidRuntime(2492):     at android.os.Handler.dispatchMessage(Handler.java:99)

03-06 10:15:49.018: E/AndroidRuntime(2492):     at android.os.Looper.loop(Looper.java:137)

03-06 10:15:49.018: E/AndroidRuntime(2492):     at android.app.ActivityThread.main(ActivityThread.java:5041)

03-06 10:15:49.018: E/AndroidRuntime(2492):     at java.lang.reflect.Method.invokeNative(Native Method)

03-06 10:15:49.018: E/AndroidRuntime(2492):     at java.lang.reflect.Method.invoke(Method.java:511)

03-06 10:15:49.018: E/AndroidRuntime(2492):     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:793)

03-06 10:15:49.018: E/AndroidRuntime(2492):     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:560)

03-06 10:15:49.018: E/AndroidRuntime(2492):     at dalvik.system.NativeStart.main(Native Method)
03-06 10:15:49.018: E/AndroidRuntime(2492): Caused by: java.lang.ClassNotFoundException: Didn't find class "com.example.gmap.MainActivity" on path: /data/app/com.example.gmap-1.apk

03-06 10:15:49.018: E/AndroidRuntime(2492):     at dalvik.system.BaseDexClassLoader.findClass(BaseDexClassLoader.java:65)
03-06 10:15:49.018: E/AndroidRuntime(2492):     at java.lang.ClassLoader.loadClass(ClassLoader.java:501)
03-06 10:15:49.018: E/AndroidRuntime(2492):     at java.lang.ClassLoader.loadClass(ClassLoader.java:461)
03-06 10:15:49.018: E/AndroidRuntime(2492):     at android.app.Instrumentation.newActivity(Instrumentation.java:1054)

03-06 10:15:49.018: E/AndroidRuntime(2492):     at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2097)

03-06 10:15:49.018: E/AndroidRuntime(2492):     ... 11 more

03-06 10:16:57.220: E/AndroidRuntime(2520): FATAL EXCEPTION: main
03-06 10:16:57.220: E/AndroidRuntime(2520): java.lang.RuntimeException: Unable to instantiate activity ComponentInfo{com.example.gmap/com.example.gmap.MainActivity}: java.lang.ClassNotFoundException: Didn't find class "com.example.gmap.MainActivity" on path: /data/app/com.example.gmap-1.apk

03-06 10:16:57.220: E/AndroidRuntime(2520):     at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2106)

03-06 10:16:57.220: E/AndroidRuntime(2520):     at 
android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2230)

03-06 10:16:57.220: E/AndroidRuntime(2520):     at 
android.app.ActivityThread.access$600(ActivityThread.java:141)

03-06 10:16:57.220: E/AndroidRuntime(2520):     at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1234)

03-06 10:16:57.220: E/AndroidRuntime(2520):     at android.os.Handler.dispatchMessage(Handler.java:99)

03-06 10:16:57.220: E/AndroidRuntime(2520):     at android.os.Looper.loop(Looper.java:137)

03-06 10:16:57.220: E/AndroidRuntime(2520):     at android.app.ActivityThread.main(ActivityThread.java:5041)

03-06 10:16:57.220: E/AndroidRuntime(2520):     at java.lang.reflect.Method.invokeNative(Native Method)

03-06 10:16:57.220: E/AndroidRuntime(2520):     at java.lang.reflect.Method.invoke(Method.java:511)

03-06 10:16:57.220: E/AndroidRuntime(2520):     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:793)

03-06 10:16:57.220: E/AndroidRuntime(2520):     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:560)

03-06 10:16:57.220: E/AndroidRuntime(2520):     at dalvik.system.NativeStart.main(Native Method)

03-06 10:16:57.220: E/AndroidRuntime(2520): Caused by: java.lang.ClassNotFoundException: Didn't find class "com.example.gmap.MainActivity" on path: /data/app/com.example.gmap-1.apk

03-06 10:16:57.220: E/AndroidRuntime(2520):     at 
dalvik.system.BaseDexClassLoader.findClass(BaseDexClassLoader.java:65)

03-06 10:16:57.220: E/AndroidRuntime(2520):     at java.lang.ClassLoader.loadClass(ClassLoader.java:501)

03-06 10:16:57.220: E/AndroidRuntime(2520):     at java.lang.ClassLoader.loadClass(ClassLoader.java:461)
03-06 10:16:57.220: E/AndroidRuntime(2520):     at android.app.Instrumentation.newActivity(Instrumentation.java:1054)

03-06 10:16:57.220: E/AndroidRuntime(2520):     at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2097)

03-06 10:16:57.220: E/AndroidRuntime(2520):     ... 11 more 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T10:46:02.047

您需要`<uses-library android:name="com.google.android.maps"/>` 在清单文件中添加标签。

```
<application
android:allowBackup="true"
android:icon="@drawable/ic_launcher"
android:label="@string/app_name"
android:theme="@style/AppTheme" >
<activity
    android:name="com.example.gmap.MainActivity"
    android:label="@string/app_name" >
    <intent-filter>
        <action android:name="android.intent.action.MAIN" />
        <category android:name="android.intent.category.LAUNCHER" />
    </intent-filter>
</activity>
<uses-library android:name="com.google.android.maps"/>
</application> 
```

希望这可以帮助。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-06-15T14:44:00.390

```
 <application
        android:allowBackup="true"
        android:icon="@drawable/ic_launcher"
        android:label="@string/app_name"
        android:theme="@style/AppTheme" >
   <meta-data
    android:name="com.google.android.maps.v2.API_KEY"
    android:value="apikey"/>
         <activity
            android:name="com.example.mappro.MainActivity"
            android:label="@string/app_name" >
            <intent-filter>
                <action android:name="android.intent.action.MAIN" />

                <category android:name="android.intent.category.LAUNCHER" />
            </intent-filter>
        </activity>
        <uses-library android:name="com.google.android.maps"/>
    </application> 
```

你错过了：

```
 <meta-data
    android:name="com.google.android.maps.v2.API_KEY"
    android:value="api key"/>' 
```

# wcf - 某些解决方案中的 WCF 超时

> ID：15245017
> 
> 赞同：2
> 
> 时间：2013-03-06T10:38:50.783
> 
> 标签：wcf, web-services, visual-studio, web-config, timeout

问题是当我在 VS2012 中创建一个新的解决方案并添加 wcf 的服务引用时，一切正常。但是，当我将相同的服务引用添加到我的一个项目时，这些方法会收到超时异常。问题可能是当我将引用添加到我的项目时，Visual Studio 直到我取消选中“在引用的程序集中重用类型”选项才创建代码。我检查了配置文件，但根本没有发现任何区别。无论如何，我包含了配置文件的一部分：

```
<system.serviceModel>
<client>
  <endpoint address="url"
    binding="basicHttpBinding" bindingConfiguration="BasicHttpBinding_IService"
    contract="NewsBannersCampaignService.IService" name="BasicHttpBinding_IService" />
</client>
<bindings>
  <basicHttpBinding>
    <binding name="BasicHttpBinding_IService" />
  </basicHttpBinding>
  <wsHttpBinding>
    <binding name="DefaultBinding">
      <security mode="Message">
        <message clientCredentialType="UserName" />
      </security>
    </binding>
  </wsHttpBinding>
</bindings>
<services>
  <service behaviorConfiguration="DefaultBehavior" name="project.Services.Integration">
    <endpoint address="" binding="wsHttpBinding" bindingConfiguration="DefaultBinding" name="Integration" contract="project.Services.IIntegration" />
    <endpoint address="mex" binding="mexHttpBinding" contract="IMetadataExchange" />
  </service>
</services>
<serviceHostingEnvironment multipleSiteBindingsEnabled="true" />
</system.serviceModel> 
```

**编辑：**对于任何可能有这个问题的人；我的问题是我忘记删除配置文件中的 defaultProxy 设置。删除后一切正常。我刚删了

```
 <system.net>
    <defaultProxy>
       <proxy proxyaddress="http://address" bypassonlocal="True" />
    </defaultProxy>
  </system.net> 
```

# vb.net - Linq Join - 参数类型不匹配

> ID：15245022
> 
> 赞同：0
> 
> 时间：2013-03-06T10:38:59.513
> 
> 标签：vb.net, linq

我正在尝试在我的应用程序（通过 edmx 模型的 Oracle DB）中运行以下查询。在数据库中，TABKE1 和 TABLE2 中的两个字段（我正在尝试加入）都是相似的 [BENUTZERNR VARCHAR2(15 BYTE) NOT NULL] 并且在 edmx fie 中它们都被声明为字符串。

但是我总是收到“参数类型不匹配”错误。（我在其他查询中使用相同的连接，不同之处在于连接的数据类型是十进制的？）

```
 Dim dataObject = (From a In db.TABLE1
        Join p In db.TABLE2 On a.BENUTZERNR Equals p.BENUTZERNR
        Select New TableOneViewModel With {
             .ID= a.ID,
             ...
             .BIBLBENUTZER = New TableTwoViewModel With {
                    .BENUTZERNR= p.BENUTZERNR,
                    ...
                 }
         }) 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-09T16:23:29.773

发现这是一个错字，我在我的一个视图模型属性上缺少数据类型声明！

```
Dim dataObject = (From a In db.TABLE1
    Join p In db.TABLE2 On a.BENUTZERNR Equals p.BENUTZERNR
    Select New TableOneViewModel With {
         .ID= a.ID,
         ...
         .BIBLBENUTZER = New TableTwoViewModel With {
                .BENUTZERNR= p.BENUTZERNR,
                .SOMEVALUE= {MISSED THE "p" HERE}.SOMEVALUE,
                ...
             }
     }) 
```

# c# - 如何从字符串中删除确切出现的字符？

> ID：15245026
> 
> 赞同：7
> 
> 时间：2013-03-06T10:39:05.370
> 
> 标签：c#, asp.net, .net

例如，我有一个字符串，如：

```
string str = "santhosh,phani,ravi,phani123,praveen,sathish,prakash"; 
```

我想从中删除`,phani`字符`str`。

现在，我正在使用`str = str.Replace(",phani", string.Empty);`

那么我的输出是：`str="santhosh,ravi123,praveen,sathish,prakash";`

但我想要一个像这样的输出：`str="santhosh,ravi,phani123,praveen,sathish,prakash";`

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2013-03-06T10:44:54.917

```
string str = "santhosh,phani,ravi,phani123,praveen,sathish,prakash";
var words = str.Split(',');
str = String.Join(",", words.Where(word => word != "phani")); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-06T10:50:10.180

更好的选择是使用拆分和连接方法。在 Linq 中很容易：

```
String str = "santhosh,phani,ravi,phani123,praveen,sathish,prakash";
String token = "phani";
String result = String.Join(",", str.Split(',').Where(s => s != token)); 
```

*（编辑：我花时间进行测试，我不是第一个^^）*

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-06T10:41:09.533

怎么样

```
str = str.Replace(",phani,", ","); 
```

但是，如果“phani”是字符串中的最后一项，这将不起作用。为了解决这个问题，你可以这样做：

```
string source = "...";
source += ",";    // Explicitly add a comma to the end

source = source.Replace(",phani,", ",").TrimEnd(','); 
```

这会添加一个逗号，替换“phani”并删除尾随逗号。

第三种解决方案是：

```
str = String.Join(",", str.Split(',').ToList().Remove("phani").ToArray()); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-06T10:42:00.660

尝试用逗号代替；

```
string str = "santhosh,ravi,phani,phani123,praveen,sathish,prakash";
str = str.Replace(",phani,", ",");
Console.WriteLine(str); 
```

输出将是；

```
santhosh,ravi,phani123,praveen,sathish,prakash 
```

这是一个**[演示](http://ideone.com/HeupAt)**。

正如 Davin在评论[中提到](https://stackoverflow.com/questions/15245026/how-to-remove-the-exact-occurence-of-characters-from-a-string/15245083#comment21496793_15245083)`phani`的，如果是字符串中的最后一项，这将不起作用。Silvermind 的[答案](https://stackoverflow.com/a/15245157/447156)看起来是正确的答案。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-03-06T10:45:50.407

```
String.join(",", str.split(',').ToList().remove("phani")); 
```

从列表中删除任何给定名称。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-03-06T11:01:03.503

```
string str = "santhosh,phani,ravi,phani123,praveen,sathish,prakash";
string pattern = @"\b,phani,\b";
string replace = ",";
Console.WriteLine(Regex.Replace(str, pattern, replace)); 
```

输出：

```
santhosh,ravi,phani123,praveen,sathish,prakash 
```

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2016-03-16T19:57:29.893

您可以使用[正则表达式](https://en.wikipedia.org/wiki/Regular_expression)，但您必须注意字符串以子字符串开头或结尾的情况：

```
var pattern = @",?\bphani\b,?";
var regex = new Regex(pattern);
var result = regex.Replace(input, ",").Trim(','); 
```

较短的符号可能如下所示：

```
var result = Regex.Replace(input, @",?\bphani\b,?", ",").Trim(','); 
```

**正则表达式的解释：** `,?\bphani\b,?`匹配 word `phani`，但前提是前后有单词分隔符（因为 word 边界元字符`\b`），并且可以（但不一定）前后有逗号谢谢这`,?`意味着没有或更多的逗号。

最后，我们需要从字符串的开头和结尾删除可能的逗号，这就是结果中存在的`Trim(',')`原因。

# ruby-on-rails - 任何用于自动完成/建议迁移版本的 bash/rails 插件？

> ID：15245031
> 
> 赞同：0
> 
> 时间：2013-03-06T10:39:22.880
> 
> 标签：ruby-on-rails, bash, shell, terminal, bash-completion

每次我必须在我的 rails 应用程序中运行/重做特定迁移时，我都必须通过以下步骤来获取确切的版本号：

1.  grep - 在 db/migrate 文件夹中搜索包含我需要的模型/表名称的文件，或者
2.  定位 - 与 grep 类似，我搜索包含模型/表名称的文件并使用 grep 将其通过管道过滤掉 db/migrate 结果，或者
3.  ls - 使用 ls db/migrate/2xxx 并继续使用自动完成，直到我缩小我正在寻找的确切迁移范围

我想知道是否有更简单的方法可以做到这一点。也就是说，当我开始输入时可能会建议版本号的插件`rake db:migrate:redo VERSION=`

是否有任何 bash/rails 插件可以做到这一点？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T10:48:04.907

你可以这样做。不指定版本号：

**编辑**：我已经更新了所有你可以使用的列表。我不知道插件，但这也可能会有所帮助。

```
rake db:rollback
rake db:rollback STEP=3
rake db:migrate:down

rake db:migrate:redo
rake db:migrate:redo STEP=3 
```

它会后退 3 步。我会考虑其他选项，如果我找到，我会在这里发布答案。

此外，还有另一种方式。但是，如果您想要插件之类的东西，请告诉我您使用的是什么编辑器。如果您使用 sublime，它可能会很有用。你有一个插件。至少要找到迁移[https://github.com/KELiON/RailsMigrationsList](https://github.com/KELiON/RailsMigrationsList)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-01-19T23:18:30.700

这不是一个解决方案，但它是第一步，它可以节省一点时间。当您按 Tab 时，它会列出迁移，然后您必须复制和粘贴。它使用定义函数的技巧来为 db:migrate 任务设置别名。

键入 migrate_down 或 migrate_up 并按 TAB 键看看会发生什么。

```
function _migrations_complete() {
  local migrations=`ls db/migrate/*rb | cut -b12-`
  COMPREPLY=($(compgen -W "${migrations}" -- ${COMP_WORDS[COMP_CWORD]}))
  return 0
}
function migrate_up() {
  bundle exec rake db:migrate:up VERSION=$1
}
function migrate_down() {
  bundle exec rake db:migrate:down VERSION=$1
}
complete -o default -o nospace -F _migrations_complete migrate_up
complete -o default -o nospace -F _migrations_complete migrate_down 
```

我想做的是完成迁移的名称并获取时间戳。我不知道是否完全可以评估它是否可能。

顺便说一句，这个[https://github.com/jweslley/rails_completion](https://github.com/jweslley/rails_completion)为许多 rails 命令添加了完成，但没有为迁移版本添加完成。

# c# - 南希模块单元测试。单元测试中的异常

> ID：15245035
> 
> 赞同：1
> 
> 时间：2013-03-06T10:39:36.453
> 
> 标签：c#, unit-testing, liquid, nancy

找不到测试不起作用的原因。有人知道为什么会这样吗？这两个测试之间的区别仅在于视图。第一个是“.html”页面，第二个是“.liquid”。在我的项目中，我使用“.liquid”，因此“.html”仅用于测试正确的工作测试。我有一个南希模块

```
public sealed class Module : NancyModule
{
    public Module(IBackend storage)
    {
        Get["/"] = _ => View["Create.liquid"];     
        Get["/Test"] = _ => View["TestHtml.html"];
    }
} 
```

和测试

```
[Test]
public void test_html()
{
    // Given
    var bootstrapper = new ConfigurableBootstrapper(with =>
    {
        var module = new Module(new Endpoint());
        with.Module(module);
    });
    browser = new Browser(bootstrapper);

    // When
    var result = browser.Get("/Test", with =>
    {
        with.HttpRequest();
    });

    // Then
    Assert.AreEqual(HttpStatusCode.OK, result.StatusCode);
}

[Test]
public void test_liquid()
{
    // Given
    var bootstrapper = new ConfigurableBootstrapper(with =>
    {
        var module = new Module(new Endpoint());
        with.Module(module);
    });
    browser = new Browser(bootstrapper);

    // When
    var result = browser.Get("/", with =>
    {
        with.HttpRequest();
    });

    // Then
    Assert.AreEqual(HttpStatusCode.OK, result.StatusCode);
} 
```

第二次测试有异常

```
System.Exception : ConfigurableBootstrapper Exception
----> Nancy.RequestExecutionException : Oh noes!
----> Nancy.ViewEngines.ViewNotFoundException : Unable to locate view 'Create.liquid'
Currently available view engine extensions: sshtml,html,htm
Locations inspected: ,,,,,,,,views/Module/Create.liquid-en-    US,views/Module/Create.liquid,Module/Create.liquid-en-US,Module/Create.liquid,views/Create.liquid-en-US,views/Create.liquid,Create.liquid-en-US,Create.liquid
Root path: D:\Projects\epm-vsp-pasta\Tests\bin\Debug 
```

使用堆栈跟踪

```
at Nancy.Testing.PassThroughStatusCodeHandler.Handle(HttpStatusCode statusCode, NancyContext context) in d:\Nancy-master\src\Nancy.Testing\PassThroughStatusHandler.cs: line 22
at Nancy.NancyEngine.CheckStatusCodeHandler(NancyContext context) in d:\Nancy-master\src\Nancy\NancyEngine.cs: line 219
at Nancy.NancyEngine.HandleRequest(Request request, Func`2 preRequest) in d:\Nancy-master\src\Nancy\NancyEngine.cs: line 112
at Nancy.NancyEngine.HandleRequest(Request request) in d:\Nancy-master\src\Nancy\NancyEngine.cs: line 77
at Nancy.Testing.Browser.HandleRequest(String method, String path, Action`1 browserContext) in d:\Nancy-master\src\Nancy.Testing\Browser.cs: line 125
at Nancy.Testing.Browser.Get(String path, Action`1 browserContext) in d:\Nancy-master\src\Nancy.Testing\Browser.cs: line 62
at Tests.TestModule.test_liquid() in TestModule.cs: line 111 --RequestExecutionException
at Nancy.NancyEngine.InvokeOnErrorHook(NancyContext context, ErrorPipeline pipeline, Exception ex) in d:\Nancy-master\src\Nancy\NancyEngine.cs: line 272
--ViewNotFoundException 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-06T11:43:45.657

这与 .NET 程序集加载有关。由于没有直接使用 Nancy.ViewEngines.Dotliquid 程序集中的类型，.NET 编译器认为它可以是智能的，并且不会在程序集元数据中包含引用。这导致程序集在运行时根本没有加载到应用程序域中。

它适用于 .html 文件的原因是管理 .html 扩展的 SuperSimpleViewEngine 内置在 Nancy.dll 中并已加载。

您可以通过显式使用程序集中的类型来解决此问题，例如`var foo = typeof(DotLiquidViewEngine)`在测试代码中放置类似的内容，或者使用`ViewEngine<DotLiquidViewEngine>()`可配置引导程序设置上的属性。

对于我们的下一个版本 0.17，我们添加了代码以尽可能减少这种影响，方法是扫描“bin”文件夹中的程序集并显式加载任何引用 Nancy* 程序集的程序集。

希望这可以帮助

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-06T11:59:28.737

看起来您还没有从您的测试项目中引用液体视图引擎：

> 当前可用的视图引擎扩展：sshtml,html,htm

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-08-15T20:53:12.457

如果页面未复制到输出目录，我已经看到会发生这种情况。

即在 Visual Studio 中检查 .liquid 文件的属性，并确保它具有与工作 .html 文件相同的“复制到输出目录”设置。

# android - ListFragment 和 onActivityCreated 调用了两次

> ID：15245036
> 
> 赞同：5
> 
> 时间：2013-03-06T10:39:39.593
> 
> 标签：android, android-fragments

我有一个 listFragment 这是我的 onActivityCreated：

```
@Override
public void onActivityCreated(Bundle savedInstanceState) {
    super.onActivityCreated(savedInstanceState);
    if (savedInstanceState != null) {
        utenti=savedInstanceState.getParcelableArrayList("array");
    }else{
        threadutenti= (GetUtenti) new GetUtenti(this.getActivity(), utenti).execute();
    } 
```

当我旋转我的设备时，我首先 saveInstanceState 非 null （我明白了）但是在 onActivityCreated 被调用后 onActivityCreated null ！为什么？我想在 ListFragment 上而不是在我的活动上获得我的对象 utenti..

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2014-09-24T16:42:16.260

如果您总是在*`Activity#onCreate()`*回调中创建新片段，则可能会发生这种情况。
如果是真的，请检查[这个答案](https://stackoverflow.com/a/13306633/1233652)。您*`Fragment#onActivityCreated`*将被调用两次：

*   第一次由*`FragmentActivity#onStart`*'s call to触发*`mFragments.dispatchActivityCreated()`*。它将传递保存的实例。
*   *`FragmentActivity#onStart`*第二次由's call to触发*`mFragments.execPendingActions()`*。这次没有保存的实例（因为它被调用以响应新的 Fragment 添加）。

# android - 意图过滤器的路径模式

> ID：15245037
> 
> 赞同：1
> 
> 时间：2013-03-06T10:39:41.460
> 
> 标签：android, path, intentfilter

我想在点击 URL 时启动 Android 应用程序（可能是电子邮件或短信）。

如何为这两个 URL 编写不同的路径模式？

*   `http://www.hostname.com/folder1/file.ext`
*   `http://www.hostname.com/folder1/folder2/file.ext`

我只想从第一个 URL 而不是第二个 URL 启动我的活动。目前我正在使用它`intent-filter`，但它正在使用两个 URL 启动我的应用程序。

```
<intent-filter>
    <action android:name="android.intent.action.VIEW" />
    <category android:name="android.intent.category.DEFAULT" />
    <category android:name="android.intent.category.BROWSABLE" />

    <data
        android:host="www.hostname.com"
        android:pathPattern=".*\\/folder1/*"
        android:scheme="http" />
</intent-filter> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2017-02-20T07:17:22.610

试试下面的代码

```
<intent-filter>
    <action android:name="android.intent.action.VIEW" />
    <category android:name="android.intent.category.DEFAULT" />
    <category android:name="android.intent.category.BROWSABLE" />

    <data
        android:host="www.hostname.com"
        android:pathPrefix="/folder1"
        android:scheme="http" />
</intent-filter> 
```

# php - 我如何从只有 pageid 的图表中获取页面数据

> ID：15245043
> 
> 赞同：0
> 
> 时间：2013-03-06T10:40:01.640
> 
> 标签：php, facebook, facebook-graph-api, facebook-page

我对图形 api 有疑问。调用“https://graph.facebook.com/[pageID]”失败并显示消息

```
 {
   "error": {
      "message": "Unsupported get request.",
      "type": "GraphMethodException",
      "code": 100
   }
} 
```

我需要 facebook 页面的完整 url。有没有办法只从 pageid 获取页面的 url？

编辑：谢谢你的提示。错误是，当页面不公开时，我无法通过图表查询信息。当我（页面管理员！）调用graph-url时，它也不起作用......

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-06T10:56:36.663

如果您查看[Page Graph API Reference](http://developers.facebook.com/docs/reference/api/page/)有一个示例 url 来获取有关页面的信息，请包含您想要的页面的 url。示例 url 请求是：

[https://graph.facebook.com/19292868552](https://graph.facebook.com/19292868552)

结果是：

```
 {
       "about": "Grow your app with Facebook\nhttps://developers.facebook.com/ ",
       "company_overview": "Facebook Platform enables anyone to build social apps on Facebook, mobile, and the web.\n\n",
       "is_published": true,
       "talking_about_count": 34563,
       "username": "FacebookDevelopers",
       "website": "http://developers.facebook.com",
       "were_here_count": 0,
       "category": "Product/service",
       "id": "19292868552",
       "name": "Facebook Developers",
       "link": "http://www.facebook.com/FacebookDevelopers",
       "likes": 1187896,
       "cover": {
          "cover_id": "10151298218353553",
          "source": "http://sphotos-b.ak.fbcdn.net/hphotos-ak-ash4/s720x720/377655_10151298218353553_500025775_n.png",
          "offset_y": 0,
          "offset_x": 0
       }
    } 
```

我认为在您的问题中您输入了错误的页面 ID。

# ffmpeg - 如何从 ffmpeg 中的流中检索 HTTP 标头？

> ID：15245046
> 
> 赞同：1
> 
> 时间：2013-03-06T10:40:09.687
> 
> 标签：ffmpeg, metadata, icecast, libavformat

我目前正在 Android 上制作音频流应用程序。我正在使用 Android NDK 和 ffmpeg 来执行它到目前为止运行良好。

现在我想在流式传输时检索标题流中包含的广播元数据。显然 ffmpeg 没有提供直接的方法来做到这一点，但我很确定在技术上可以从流中检索 HTTP 标头，因为我们在流式传输时接收所有字节。

有谁知道如何使用 ffmpeg 从流中检索 HTTP 标头？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2014-01-07T18:55:59.577

如果您正在寻找[广播元数据](http://www.smackfu.com/stuff/programming/shoutcast.html)......
从 FFmpeg 2.0 开始，就有对它们的内置支持。这是公开相关 AVOptions的[http 协议。](http://www.ffmpeg.org/ffmpeg-protocols.html#http)

# 执行

`icy AVOption`调用时将 设置为 1 `avformat_open_input`。这将`Icy-MetaData`在打开流时设置 HTTP 标头：

```
AVDictionary *options = NULL;
av_dict_set(&options, "icy", "1", 0);
AVFormatContext* container = avformat_alloc_context();
int err = avformat_open_input(&container, url, NULL, &options); 
```

然后在您的上下文中轮询`icy_metadata_packet`or`icy_metadata_headers AVOption`以检索当前元数据：

```
char* metadata = NULL;
av_opt_get(container, "icy_metadata_packet", AV_OPT_SEARCH_CHILDREN, (uint8_t**) &metadata);
printf("icy_metadata_packet: %s\n", metadata);
av_free(metadata);
metadata = NULL;
av_opt_get(container, "icy_metadata_headers", AV_OPT_SEARCH_CHILDREN, (uint8_t**) &metadata);
printf("\nicy_metadata_headers:\n%s\n", metadata);
av_free(metadata); 
```

接下来，您可能希望将元数据信息上传到 Android 应用程序的 Java 层。我不熟悉 NDK，所以你必须自己解决这个问题；）

## 示例输出

```
icy_metadata_packet: StreamTitle='Zelda Reorchestrated - Twilight Symphony - Gerudo Desert';

icy_metadata_headers:
icy-br: 192
icy-description: Radio Hyrule
icy-genre: Remix
icy-name: Radio Hyrule
icy-pub: 1
icy-url: http://radiohyrule.com/ 
```

# 更多信息

在提出补丁的[邮件列表](http://lists.ffmpeg.org/pipermail/ffmpeg-devel/2013-June/145048.html)中查找更多信息。
这些选项是`AVClass`在 HTTP 和 HTTPS 上下文（[代码](http://www.ffmpeg.org/doxygen/2.0/http_8c_source.html#l00070)）上定义的。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-07T02:53:38.760

这涉及对http响应的2个单独操作，与android-ffmpeg关系不大。

[请参见此处](http://hc.apache.org/httpcomponents-client-ga/tutorial/html/fundamentals.html)的“1.1.3”、“1.1.6”部分

假设您在 android 中使用 HttpClient 的默认实现，则 api 非常相似。有一个用于 android 的 bridge 包，它包装了我的示例中使用的 apache httpclient 库。

当你得到响应时，你做一件事来获取响应头（见链接），然后做另一件事来获取 ENTITY 中的流对象，然后使用 JNI 将 ptr 传递给该流到来自 ffmpeg 的 I/O .

# ios - ios多部分到服务器时图像文件如何损坏

> ID：15245048
> 
> 赞同：0
> 
> 时间：2013-03-06T10:40:12.687
> 
> 标签：ios, image, post, multipart

我的代码

```
NSString *urlString = [NSString stringWithFormat:@"%@%@", urlHeader, urlBody];

NSMutableURLRequest *request = [NSMutableURLRequest requestWithURL:[NSURL URLWithString:urlString] cachePolicy:0 timeoutInterval:TIMEOUT_INTERVAL];
[request setHTTPMethod:@"POST"];

NSString *boundary = @"--Kqcekgk5QEa0NR71B";
NSMutableData *body = [NSMutableData data];
NSMutableData *imageBody = [NSMutableData data];
NSString *contentType = [NSString stringWithFormat:@"multipart/form-data; boundary=%@",boundary];
[request addValue:contentType forHTTPHeaderField: @"Content-Type"];

[body appendData:[[NSString stringWithFormat:@"\r\n--%@\r\n",boundary] dataUsingEncoding:NSUTF8StringEncoding]];
[body appendData:[[NSString stringWithFormat:@"Content-Disposition: form-data; name=\"%@\"\r\n\r\n%@", BOARD_ID, boardType] dataUsingEncoding:NSUTF8StringEncoding]];
[body appendData:[[NSString stringWithFormat:@"\r\n--%@\r\n",boundary] dataUsingEncoding:NSUTF8StringEncoding]];
[body appendData:[[NSString stringWithFormat:@"Content-Disposition: form-data; name=\"%@\"\r\n\r\n%d", BOARD_SEQ, [boardSeq intValue]] dataUsingEncoding:NSUTF8StringEncoding]];
[body appendData:[[NSString stringWithFormat:@"\r\n--%@\r\n",boundary] dataUsingEncoding:NSUTF8StringEncoding]];

for(int i=0; i<[imagesArr count]; i++) {
    if([[imagesArr objectAtIndex:i] isMemberOfClass:[UIImage class]]) {
        NSData *imageData = UIImageJPEGRepresentation([imagesArr objectAtIndex:i] , 90);

        [body appendData:[[NSString stringWithFormat:@"Content-Disposition: form-data; name=\"FILE_UPLOAD%d\"; filename=\"IMG_IPHONE%d.jpg\"\r\n\r\n", i+1, i+1] dataUsingEncoding:NSUTF8StringEncoding]];
        [body appendData:[@"Content-Type:application/octet-stream\r\n\r\n" dataUsingEncoding:NSUTF8StringEncoding]];
        [body appendData:[NSData dataWithData:imageData]];
        [body appendData:[[NSString stringWithFormat:@"\r\n--%@--\r\n",boundary] dataUsingEncoding:NSUTF8StringEncoding]];
    }
}
[body appendData:imageBody]; 
```

发送到服务器成功但图像文件类型为文本/计划我使用图像 .png

为什么图像文件损坏？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2014-01-15T06:00:08.370

您应该像这样在开头删除 \r\n

```
[body appendData:[[NSString stringWithFormat:@"--%@\r\n",boundary] dataUsingEncoding:NSUTF8StringEncoding]]; 
```

# java - 如何使用 sharedPreference 类存储密码？

> ID：15245050
> 
> 赞同：1
> 
> 时间：2013-03-06T10:40:13.947
> 
> 标签：java, android, eclipse

我正在开发一个用于使用消息获取数据的 android 应用程序。这里是我的密码创建代码，我如何使用 sharedPreference 类存储密码？

```
 public class MainActivity extends Activity {

 Button Switchon;
 EditText passwd; //button name
 String ms;
 @Override
    protected void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.activity_main);

    passwd = (EditText) findViewById(R.id.passwd);
    Switchon = (Button) findViewById(R.id.Switchon);

    Switchon.setOnClickListener(new View.OnClickListener() {

        @Override
        public void onClick(View arg0) {
        @SuppressWarnings("unused")
        String  ms = passwd.getText().toString();
            Toast.makeText(getApplicationContext(), "You have  successfully created and this app is on", Toast.LENGTH_SHORT).show();

        }
    });

}

@Override
public boolean onCreateOptionsMenu(Menu menu) {
    // Inflate the menu; this adds items to the action bar if it is present.
    getMenuInflater().inflate(R.menu.main, menu);
    return true;
}

    } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T10:46:30.237

**要将值存储在共享首选项中：**

```
 SharedPreferences preferences = PreferenceManager.getDefaultSharedPreferences(this);
  SharedPreferences.Editor editor = preferences.edit();
  editor.putString("password","123456");
  editor.commit(); 
```

**要从共享首选项中检索值：**

```
SharedPreferences preferences = PreferenceManager.getDefaultSharedPreferences(this);
  String name = preferences.getString("password",""); 
```

# algorithm - 如何解密这个转置密码？

> ID：15245052
> 
> 赞同：6
> 
> 时间：2013-03-06T10:40:27.790
> 
> 标签：algorithm, cryptography, encryption

我的问题是我正在尝试解密以下密文：

```
 AWGNEYDTBSREAHGIDEIEEIHKIWABHPRCROIWSSBHTE
 OCSNASLAIGTTOTYIOBNANNOOCHENEHSADUAIEOSNTH
 TEOOAWUTOVTISNTVIFIHSNADVOGOREAPTBETSIT
 DCSNASAAHOOULITUREICBNOERSNETTNOITTNTSDEOO
 RERNINTOVTINTEFKGITPRCROEEIGREIGREHKFN
 HOCWHPDTOSREGTOUREINDIUATHCHIEOSN 
```

我知道这是英语。我知道它只通过替换、单字母或换位加密过一次。

我检查了巧合指数，我收到了：0.06833754056978002 我还检查了信件的频率，我收到了：

```
 T 11.02, E 10.59, O 10.16, I 9.74, N 8.47, S 6.77, A 6.35, R 5.93, H 5.93, G 3.38, D 3.38, C 3.38, U 2.54, B 2.54, W 2.11, V 1.69, P 1.69, K 1.27, F 1.27, Y 0.84, L 0.84. 
```

所以我声称它是转置密码。我对吗？我检查了 Rail Fence Transposition 的所有组合。我没有收到任何明智的东西。我在不改变顺序的情况下检查了列转置的所有组合。我没有收到任何明智的东西。我检查了一些改变顺序的柱状转置组合。我没有收到任何明智的东西。

你知道我该如何解决这个有趣的任务吗？

# ios - NSFileManager 的方法 createDirectoryAtPath 在 iOS 上返回错误结果

> ID：15245056
> 
> 赞同：4
> 
> 时间：2013-03-06T10:40:33.743
> 
> 标签：ios, directory, nsfilemanager, create-directory

当我尝试使用下面的代码创建一个文件夹时，当我尝试创建一个已经存在的文件夹而不是返回 YES 时，它会返回 NO 并出现错误：

```
[[NSFileManager defaultManager] createDirectoryAtPath:[documentsPath stringByAppendingPathComponent:@"temp"] withIntermediateDirectories:NO attributes:nil error:&error]; 
```

苹果的[文档](https://developer.apple.com/library/ios/documentation/Cocoa/Reference/Foundation/Classes/NSFileManager_Class/Reference/Reference.html#//apple_ref/doc/uid/20000305-SW5)说：

```
Return Value
YES if the directory was created or already exists or NO if an error occurred. 
```

所以我应该在成功或文件夹存在时得到“是”。但是当文件夹存在时我收到此消息：

```
Error Domain=NSCocoaErrorDomain Code=516 "The operation couldn’t be completed. (Cocoa error 516.)" UserInfo=0x200ef5f0 {NSFilePath=/var/mobile/Applications/DA657A0E-785D-49B4-9258-DF9EBAC5D52A/Documents/temp, NSUnderlyingError=0x200ef590 "The operation couldn’t be completed. File exists"} 
```

这是一个错误，应该报告给 Apple 还是我做错了什么？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-06T10:52:21.783

`[NSFileManager createDirectoryAtPath:withIntermediateDirectories:attributes:error:]`如果文件存在并且它不是目录，则会失败。

所以前进的方法是如果目录已经存在就不要创建目录，如果它存在并且不是目录则抛出异常：

```
NSString *filename = [documentsPath stringByAppendingPathComponent:@"temp"];
NSFileManager *fileman = [NSFileManager defaultManager];
BOOL isDir = NO;
if (![fileman fileExistsAtPath:filename isDirectory:&isDir])
{
    // Create the directory
}
else if (!isDir)
{
    NSLog(@"Cannot proceed!");
    // Throw exception
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-06-15T17:00:24.667

我认为您需要使用 withIntermediateDirectories YES 来获取 Apple 文档中的行为。

# rest - Xpage 扩展库休息服务返回：http 200 错误请求，无法读取未读标记

> ID：15245058
> 
> 赞同：1
> 
> 时间：2013-03-06T10:40:43.360
> 
> 标签：rest, xpages, xpages-extlib

我编写了一个 Xpage 扩展库休息服务，它一直工作到今天，在我的开发环境中它工作但在生产环境中不起作用（相同的文档）：这里是 ajax 联系休息服务时的响应：

```
 {
    "code":400,
    "text":"Bad Request",
    "message":"Unable to read Unread Marks",
    "type":"text",
    "data":"com.ibm.domino.services.ServiceException: 
    at com.ibm.domino.services.rest.das.view.RestViewNavigatorFactory$NOINavigator.getRead(RestViewNavigatorFactory.java:175)
    at com.ibm.domino.services.rest.das.view.RestViewItemFileService.writeSystemColumns(RestViewItemFileService.java:359)
    at com.ibm.domino.services.rest.das.view.RestViewItemFileService.writeEntryAsJson(RestViewItemFileService.java:308)
    at com.ibm.domino.services.rest.das.view.RestViewItemFileService.renderServiceJSONGet(RestViewItemFileService.java:280)
    at com.ibm.domino.services.rest.das.view.RestViewItemFileService.renderService(RestViewItemFileService.java:77)
    at com.ibm.domino.services.HttpServiceEngine.processRequest(HttpServiceEngine.java:167)
    at com.ibm.xsp.extlib.component.rest.UIBaseRestService._processAjaxRequest(UIBaseRestService.java:242)
    at com.ibm.xsp.extlib.component.rest.UIBaseRestService.processAjaxRequest(UIBaseRestService.java:219)
    at com.ibm.xsp.util.AjaxUtilEx$1.invokeContextCallback(AjaxUtilEx.java:194)
    at javax.faces.component.UIComponent.invokeOnComponent(UIComponent.java:862)
    at javax.faces.component.UIComponent.invokeOnComponent(UIComponent.java:878)
    at com.ibm.xsp.component.UIDataPanelBase.invokeOnComponent(UIDataPanelBase.java:416)
    at javax.faces.component.UIComponent.invokeOnComponent(UIComponent.java:878)
    at javax.faces.component.UIComponent.invokeOnComponent(UIComponent.java:878)
    at javax.faces.component.UIComponent.invokeOnComponent(UIComponent.java:878)
    at javax.faces.component.UIComponent.invokeOnComponent(UIComponent.java:878)
    at javax.faces.component.UIComponent.invokeOnComponent(UIComponent.java:878)
    at javax.faces.component.UIComponent.invokeOnComponent(UIComponent.java:878)
    at com.ibm.xsp.component.UIViewRootEx.invokeOnComponent(UIViewRootEx.java:1552)
    at com.ibm.xsp.util.AjaxUtilEx.renderAjaxPartialLifecycle(AjaxUtilEx.java:188)
    at com.ibm.xsp.webapp.FacesServletEx.renderAjaxPartial(FacesServletEx.java:225)
    at com.ibm.xsp.webapp.FacesServletEx.serviceView(FacesServletEx.java:170)
    at com.ibm.xsp.webapp.FacesServlet.service(FacesServlet.java:160)
    at com.ibm.xsp.webapp.FacesServletEx.service(FacesServletEx.java:138)
    at com.ibm.xsp.webapp.DesignerFacesServlet.service(DesignerFacesServlet.java:103)
    at com.ibm.designer.runtime.domino.adapter.ComponentModule.invokeServlet(ComponentModule.java:583)
    at com.ibm.domino.xsp.module.nsf.NSFComponentModule.invokeServlet(NSFComponentModule.java:1281)
    at com.ibm.designer.runtime.domino.adapter.ComponentModule$AdapterInvoker.invokeServlet(ComponentModule.java:854)
    at com.ibm.designer.runtime.domino.adapter.ComponentModule$ServletInvoker.doService(ComponentModule.java:803)
    at com.ibm.designer.runtime.domino.adapter.ComponentModule.doService(ComponentModule.java:572)
    at com.ibm.domino.xsp.module.nsf.NSFComponentModule.doService(NSFComponentModule.java:1265)
    at com.ibm.domino.xsp.module.nsf.NSFService.doServiceInternal(NSFService.java:658)
    at com.ibm.domino.xsp.module.nsf.NSFService.doService(NSFService.java:481)
    at com.ibm.designer.runtime.domino.adapter.LCDEnvironment.doService(LCDEnvironment.java:341)
    at com.ibm.designer.runtime.domino.adapter.LCDEnvironment.service(LCDEnvironment.java:297)
    at com.ibm.domino.xsp.bridge.http.engine.XspCmdManager.service(XspCmdManager.java:272)
Caused by: NotesException: Unable to read Unread Marks
    at lotus.domino.local.ViewEntry.getRead(Unknown Source)
    at com.ibm.domino.services.rest.das.view.RestViewNavigatorFactory$NOINavigator.getRead(RestViewNavigatorFactory.java:173)
    ... 35 more
"
} 
```

我不知道出了什么问题。它只是停止工作

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T20:32:00.290

您是否使用提供的示例之一来获取 documentCollection？如果没有，您的生产数据库是否有未读标记？您的 REST 调用是否有权访问/如果没有，您的数据库是否允许通过 REST 进行匿名访问？

您的错误在这里： at lotus.domino.local.ViewEntry.getRead(Unknown Source)

This method of the NotesViewEntry class looks for the user name in order to know whether to return a boolean telling if the entry has been read. If no user is specified, it returns for the current user, and that may be the server or who is authenticated in the REST service.

Also, I find this [http://www-10.lotus.com/ldd/nd8forum.nsf/5f27803bba85d8e285256bf10054620d/2f8ee50784b70b06852577dc0050efeb?OpenDocument](http://www-10.lotus.com/ldd/nd8forum.nsf/5f27803bba85d8e285256bf10054620d/2f8ee50784b70b06852577dc0050efeb?OpenDocument) saying unread marks are not working in some releases, but I've not been able to verify it.

If you can remove the line calling for getRead() and run it, that will confirm for you.

Cheers, Brian

# java - 使用非唯一键创建深度列表

> ID：15245061
> 
> 赞同：-3
> 
> 时间：2013-03-06T10:40:49.250
> 
> 标签：java, arrays, list, map

我创建了以下列表，但在第一个定义中我使用**哈希映射**（对于第一个字符串）但现在我**不希望它是唯一的**，我应该如何定义它？

```
HashMap<String, LinkedHashMap<String, String>> entityList = new HashMap<String, LinkedHashMap<String, String>>(); 
```

由于此处定义了哈希映射，我可以输入主列表重复条目，我应该如何更改我的定义，以便我可以选择输入重复条目。

我需要像以下结构一样构建它。

```
emp<name,test>
   <lastname,lastname>
   <salery,1000> 
emp<firstname,dan>
   <age,20>
adress<post,111>
      <street,hhh> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T10:42:47.937

使用 hashmap 要求键是唯一的，否则 - 你怎么能得到正确的值？？？

您可以做的是将多个值与单个键相关联，使用`HashMap<String, List<valueType>>`

您可以使用：

```
HashMap<String, List<yourObject>> 
```

所以每个键都有几个相关的对象。

在你的情况下：

```
HashMap<String, List<LinkedHashMap<String, String>>> 
```

如果您需要一个包含多个对象的集合，您可以使用`List<yourObject>`and`yourObject`将随心所欲（在您的示例中保持 a`String`和`LinkedHashMap<String, String>`）。

我会使用第一选择，但如果你真的不想要它 - 使用`List<yourObject>`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T12:30:44.763

你真正想要的是，相同的唯一键-多值。但是默认情况下，任何 Map 定义 Key 都是唯一的。因为每个 Map 都对其键执行任何操作。因此，最好为您的应用程序使用不同的结构。你可以试试这样..

> `HashMap <String, Object> entityList = new HashMap<String, Object>();`
> `LinkedHashMap<String, String> linkedHashmap = new LinkedHashMap<String, String>();`
> `entityList.put("key1", updateObject(entityList.get("key1", newkey, new value);`
> 
> `public LinkedHashMap< String, String> updateObject(LinkedHashMap<String, String> linkedHashmap,String newKey,String newValue){`
> `linkedHashmap.put(newKey,newValue);`
> `return linkedHashmap;`
> `}`

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-06T13:01:49.080

或者，您可以查看[`Guava MultiMap`](http://guava-libraries.googlecode.com/svn/tags/release03/javadoc/com/google/common/collect/Multimap.html)

> **`public interface Multimap<K,V>`**
> 
> 类似于 Map 的集合，但可以将多个值与单个键相关联。如果您`put(K, V)`使用相同的键但不同的值调用两次，则多重映射包含从键到两个值的映射。

# manifest - 谷歌浏览器应用提交权限

> ID：15245067
> 
> 赞同：1
> 
> 时间：2013-03-06T10:40:58.457
> 
> 标签：manifest, chrome-web-store

我想将托管在我自己域上的 Web 应用程序提交到 Google Chrome 网上应用店。我想知道是否需要在“权限”部分输入任何内容以允许访问我的 javascript、iamges 和 css 文件（静态文件）或托管站点，您不需要在权限中输入任何内容吗？谢谢。

这是我的清单（带有示例数据）：

```
{
  "name": "My website name",
  "description": "my website description.",
  "manifest_version": 2,
  "version": "1",
  "app": {
    "urls": [
      "*://mywebsite.com/"
    ],
    "launch": {
      "web_url": "http://mywebsite.com/page/"
    }
  },
  "icons": {
    "128": "icon_128.png"
  },
  "permissions": [

  ]
} 
```

# jquery - Jquery - 一个一个地显示 div

> ID：15245077
> 
> 赞同：0
> 
> 时间：2013-03-06T10:41:49.160
> 
> 标签：jquery, html

`previous`当用户单击和`next`标签时，我需要一一显示许多 div（动态创建） 。

我试过的：

HTML：

```
<div style="display: none;" id="panel_steps_page1" class="pages page1"> </div>
<div style="display: none;" id="panel_steps_page2" class="pages page2"> </div>
<div style="display: none;" id="panel_steps_page3" class="pages page3"> </div>
<div style="display: none;" id="panel_steps_page4" class="pages page4"> </div>

<span id="btn_previous" class="previous">previous</span>
<span id="Span1" class="next">next</span> 
```

查询：

```
$(".page1").show();

$(".next").click(function(e) {
    $(".pages").each(function(index) {

        if ($(".page" + index).is(":visible")) {
            $(".page" + index).hide();
            $(".page" + (index + 1)).show();
        }
    });

});

$(".previous").click(function(e) {
    $(".pages").each(function(index) {
        if ($(".page" + index).is(":visible")) {
            $(".page" + index).hide();
            $(".page" + (index - 1)).show();
        }
    });
}); 
```

但它不起作用。

**[现场jsfiddle](http://jsfiddle.net/umtMC/)**

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-06T10:47:28.500

代码过于复杂。这是一个更简单的版本，几乎和它的工作方式一样大声朗读：

```
$(".next").click(function() {
    $(".pages:visible").hide().next().show();
});

$(".previous").click(function() {
    $(".pages:visible").hide().prev().show();
}); 
```

上面是一个很好的起点，但如果你试图越界，它最终可能会隐藏所有的 div。这个问题可以通过一个小的调整来解决：

```
$(".next").click(function() {
    $(".pages:visible").hide().next(".pages").addBack().last().show();
});

$(".previous").click(function() {
    $(".pages:visible").hide().prev(".pages").addBack().first().show();
}); 
```

**[看到它在行动](http://jsfiddle.net/Q5LHJ/)**。

**更新：**根据下面的 insertusernamehere 评论，编辑了代码（但不是小提琴）以替换`.andSelf()`为。`.addBack()`

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-06T10:51:26.277

此代码段将阻止您隐藏最后一页或第一页。它可以防止没有页面显示的情况。

```
$(document).ready(function(){
    $(".page1").show();

    $(".next").click(function(e) {
        var next = $(".pages:visible").next(".pages");
        if(next.length >0){
           $(".pages:visible").hide();
           next.show();
        }
    });

   $(".previous").click(function(e) {
       var prev = $(".pages:visible").prev(".pages");
        if(prev.length > 0){
           $(".pages:visible").hide();
           prev.show();
        }
   });
}); 
```

工作示例：http: [//jsfiddle.net/envDx/1/](http://jsfiddle.net/envDx/1/)

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-03-06T10:53:45.067

```
$(".next, .previous").click(function(e) {
    var $p = $('.pages:visible'), 
        m = this.className == 'next' ? 'next' : 'prev';
    if ($p[m]('.pages').length) $p.hide()[m]().show(); 
}); 
```

[http://jsfiddle.net/xMaZQ/](http://jsfiddle.net/xMaZQ/)

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2013-03-06T11:02:58.700

我使用了另一种更优化的解决方案，因为我避免了**每次**迭代。

```
$(".next").click(function(e) {
    var shown = $(".pages.visible").hide().removeClass('visible');
    var index = (shown.index() + 1) % 4;

    $(".page"+index).show().addClass('visible');
});

$(".previous").click(function(e) {
    var shown = $(".pages.visible").hide().removeClass('visible');
    var index = shown.index();
    index = (index == 0)? 3: index - 1;

    $(".page"+index).show().addClass('visible');
}); 
```

[在这里](http://jsfiddle.net/markus85/NGVf5/4/)尝试我的解决方案，让我知道它是否适合您

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2013-03-06T10:52:26.860

有你更新的[Fiddler](http://jsfiddle.net/umtMC/2/)。

```
$(".next").click(function(e) {
    var $visibleOne = $(".pages:visible");
    var $nextToBeVisible = $visibleOne.next('div.pages');

    if($nextToBeVisible.length > 0) {
        $visibleOne.hide();
        $nextToBeVisible.show();
    }

});

$(".previous").click(function(e) {
    var $visibleOne = $(".pages:visible");
    var $PrevToBeVisible = $visibleOne.prev('div.pages');

    if($PrevToBeVisible.length > 0) {
        $visibleOne.hide();
        $PrevToBeVisible.show();
    }
}); 
```

# javascript - 鼠标悬停时图像缩放到指针位置

> ID：15245086
> 
> 赞同：0
> 
> 时间：2013-03-06T10:42:03.367
> 
> 标签：javascript, jquery, html, css

我需要在移动（可拖动）指针时缩放图像（地图图像）。我在下面的 jsfiddle 中添加了代码，单击搜索并拖动该标志。因此，在拖动该标志并将其移动到地图上时，我希望将地图缩放到该位置。

[http://jsfiddle.net/vigneshvdm/WZEna/2/](http://jsfiddle.net/vigneshvdm/WZEna/2/)

地图图像在

`<div id="map"></div>`

为解决方案编辑 jsfiddle 将非常有帮助。提前致谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T11:08:23.687

您可以使用-callback `stop`from`draggable`并放大您的`#xyz`-image 然后：

像这样的东西（这并不完美，但你可以玩一下）：

```
$("#pointer").draggable({
    stop: function() {
        $("#xyz").css({
            transform: "scale(2)"
        });
    }
}); 
```

# java - 文件上传编码问题与文件名有关。GWT

> ID：15245088
> 
> 赞同：3
> 
> 时间：2013-03-06T10:42:07.633
> 
> 标签：java, google-app-engine, google-chrome, gwt, blobstore

当我尝试在我的 gwt 项目（gae 上的服务器）中上传文件时遇到问题。我在内部有 FormUpload (com.google.gwt.user.client.ui.FormPanel) end FileUpload (com.google.gwt.user.client.ui.FileUpload)，当然还有服务器端。问题是当我尝试上传名称包含“ó”之类的图表的图像时。但这很奇怪，因为当我手动更改“ó”上的“ó”时，它可以工作（删除旧的ó并从我的键盘输入新的，我拥有的图像来自另一个人通过邮件发送）。

在我的表单面板上，我有：

```
setEncoding(FormPanel.ENCODING_MULTIPART);
setMethod(FormPanel.METHOD_POST); 
```

我也托盘：

```
setEncoding(FormPanel.ENCODING_MULTIPART+"; charset=UTF-8"); 
```

在服务器上我有：

```
Map<String, List<BlobKey>> uploads = blobstoreService.getUploads(request); 
```

上传大小为0。

我也尝试过不推荐使用的方法：

```
blobstoreService.getUploadedBlobs(request); 
```

同样奇怪的是，我可以使用 Firefox 上传相同的图像，但在 Chrome、Safari 和 Opera 上我不能，所以可能是它的浏览器错误（错误）。

有没有人和我有类似的问题？我正在努力解决这个问题，我不知道如何解决这个问题。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2014-12-30T22:30:03.633

我找到了一个解决方案，您必须设置表单的接受字符集和请求字符集。

因此，在您创建表单面板的视图/合成中，添加：

```
FormElement.as(formPanel.getElement()).setAcceptCharset("UTF-8"); 
```

在服务器端，处理请求时设置请求：

```
request.setCharacterEncoding("UTF-8"); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-06-25T09:19:31.123

您是否尝试在 dev_appserver 中运行它并注意到任何错误？

我也遇到了类似的错误（不完全发生在文件名上，而是在与上传一起提交的表单字段上），这是问题[https://code.google.com/p/googleappengine/issues/detail?id=9420&can =4&colspec=ID%20Type%20Component%20Status%20Stars%20Summary%20Language%20Priority%20Owner%20Log](https://code.google.com/p/googleappengine/issues/detail?id=9420&can=4&colspec=ID%20Type%20Component%20Status%20Stars%20Summary%20Language%20Priority%20Owner%20Log)

我猜 blobstore 上的 unicode 处理有问题

# arrays - javascript：混淆函数中的参数

> ID：15245089
> 
> 赞同：1
> 
> 时间：2013-03-06T10:42:09.750
> 
> 标签：arrays, function, parameters

我有几个不确定参数计数的函数，我有一个像`arr=[1, 2, 3, 4]`

我想将数组的头号作为参数传递给函数

```
fn1(arr[0], arr[1]);

fn1(arr[0], arr[1], arr[1]);

fn1(arr[0]);

fn1(arr[0], arr[1], arr[2], arr[3]); 
```

仍然现在我必须手动完成，但我想通过循环或其他方式自动完成，通过计算函数的参数计数，并自己传递数组的头部几个

我能怎么做？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T10:58:41.527

您可以将数组作为参数传递，如下所示：

```
function myFunction(arguments)
{
    // set the parameters manually
    var arg1 = arguments[0];
    [...]

    // do your stuff ...
}

var arr=[1, 2, 3, 4];

myFunction(arr); 
```

或者你可以这样做（应该是你想要的）：

```
function myFunction(arg1, arg2, arg3, arg4)
{
    // dump arguments
    document.write(arg1);
    document.write(arg2);
    document.write(arg3);
    document.write(arg4);
}

var arr=[1, 2, 3, 4];

myFunction.apply(null, arr); 
```

# php - 使用php的salesforce沙箱连接

> ID：15245097
> 
> 赞同：2
> 
> 时间：2013-03-06T10:42:27.057
> 
> 标签：php, salesforce

我已经使用 Salesforce 提供的 PHP 工具包中的 phpTookit 连接 salesforce，但是今天我收到一个要求，比如使用 phptoolkit 连接到 salesforce 沙箱，有什么方法可以连接。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2015-11-20T16:57:57.660

调用 createConnection 后在 SforceEnterpriseClient 对象上调用 setEndpoint，并将端点设置为`https://test.salesforce.com`端点：

```
define("USERNAME", "username@example.com.sandboxname");
define("PASSWORD", "yourpassword");
define("SECURITY_TOKEN", "securitytoken");

require_once ('soapclient/SforceEnterpriseClient.php');

$mySforceConnection = new SforceEnterpriseClient();
$mySforceConnection->createConnection("soapclient/enterprise.wsdl.xml");
// this sets the endpoint for a sandbox login:
$mySforceConnection->setEndpoint('https://test.salesforce.com/services/Soap/c/32.0');
$mySforceConnection->login(USERNAME, PASSWORD.SECURITY_TOKEN); 
```

以上代码取自 Force.com Toolkit for PHP 示例，setEndpoint 行是为连接到沙箱而添加的行。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-06T15:47:23.840

连接到生产环境和连接到沙盒 salesforce-org 之间的唯一区别是：

*   网址： http: [//login.salesforce.com](http://login.salesforce.com)（生产）[http://test.salesforce.com](http://test.salesforce.com)（沙盒）
*   安全令牌（如果已激活）

# android - 过滤列表视图时出现空指针异常

> ID：15245111
> 
> 赞同：0
> 
> 时间：2013-03-06T10:42:58.407
> 
> 标签：android, listview, filter

尝试搜索我的编辑文本框时在 lohcat 中出现此异常。当我在搜索框中输入任何后者时，我的应用程序突然被强制关闭并显示此异常。

```
03-06 10:38:31.433: E/AndroidRuntime(750): FATAL EXCEPTION: main
03-06 10:38:31.433: E/AndroidRuntime(750): java.lang.NullPointerException
03-06 10:38:31.433: E/AndroidRuntime(750):  at android.widget.SimpleAdapter.getCount(SimpleAdapter.java:93)
03-06 10:38:31.433: E/AndroidRuntime(750):  at android.widget.AdapterView.checkFocus(AdapterView.java:700)
03-06 10:38:31.433: E/AndroidRuntime(750):  at android.widget.AdapterView$AdapterDataSetObserver.onInvalidated(AdapterView.java:823)
03-06 10:38:31.433: E/AndroidRuntime(750):  at android.widget.AbsListView$AdapterDataSetObserver.onInvalidated(AbsListView.java:5600)
03-06 10:38:31.433: E/AndroidRuntime(750):  at android.database.DataSetObservable.notifyInvalidated(DataSetObservable.java:47)
03-06 10:38:31.433: E/AndroidRuntime(750):  at android.widget.BaseAdapter.notifyDataSetInvalidated(BaseAdapter.java:59)
03-06 10:38:31.433: E/AndroidRuntime(750):  at android.widget.SimpleAdapter$SimpleFilter.publishResults(SimpleAdapter.java:383)
03-06 10:38:31.433: E/AndroidRuntime(750):  at android.widget.Filter$ResultsHandler.handleMessage(Filter.java:282)
03-06 10:38:31.433: E/AndroidRuntime(750):  at android.os.Handler.dispatchMessage(Handler.java:99)
03-06 10:38:31.433: E/AndroidRuntime(750):  at android.os.Looper.loop(Looper.java:137)
03-06 10:38:31.433: E/AndroidRuntime(750):  at android.app.ActivityThread.main(ActivityThread.java:4340)
03-06 10:38:31.433: E/AndroidRuntime(750):  at java.lang.reflect.Method.invokeNative(Native Method)
03-06 10:38:31.433: E/AndroidRuntime(750):  at java.lang.reflect.Method.invoke(Method.java:511)
03-06 10:38:31.433: E/AndroidRuntime(750):  at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:784)
03-06 10:38:31.433: E/AndroidRuntime(750):  at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:551)
03-06 10:38:31.433: E/AndroidRuntime(750):  at dalvik.system.NativeStart.main(Native Method) 
```

# codeigniter - cjax codeigniter如何安装

> ID：15245114
> 
> 赞同：0
> 
> 时间：2013-03-06T10:43:00.307
> 
> 标签：codeigniter

我最近下载了 cajax，但我不知道如何安装。我有这个文件夹：

Codeigniter/应用程序/ ....系统/ ....

我已复制文件夹 Codeigniter 中的所有文件

那：

Codeigniter/ cjax/ ... ajax.php ajaxfw.php 系统/ ...

我写了 localhost/codeigniter/testing.php?test/test

并没有找到结果 404 错误。请帮我安装我需要这个框架。

如果需要更改，这是我的 .htaccess：

```
RewriteEngine on
RewriteCond $1 !^(index\.php|resources|robots\.txt)
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule ^(.*)$ index.php/$1 [L,QSA] 
```

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T11:27:24.030

安装/下载 [http://cjax.sourceforge.net/docs/installing.php](http://cjax.sourceforge.net/docs/installing.php)

以下是在您的站点上安装框架或测试安装的步骤： 1\. 下载最新的稳定版本 2\. 将 zip 的内容放在站点的根目录中，将其与您当前的站点合并。所以你最终会得到你当前的结构加上：

```
 /
     cjax/
     controllers/
     ajax.php
     testing.php 
```

你已经准备好了。现在让我们测试...测试您的 Cjax 安装

出于安全考虑，您不能直接在浏览器上访问ajax.php，所以我们将使用testing.php 来使用。进入您的浏览器并输入您网站的 url，加上 testing.php?test/test，例如：http://yoursite.com/testing.php?test/test[如果](http://yoursite.com/testing.php?test/test) 您看到文本“Ajax View... " 在您的浏览器上，这意味着您已经成功安装并测试了 ajax 框架。您可以在函数 test() 中的文件 controllers/test.php 中找到文本。如果您的安装成功，您可以删除文件 testing.php。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-06-13T02:38:22.307

对于那些在单击“查看：test2”时收到错误“无效功能”的人 - 检查您登陆的 URL。在我的情况下（使用 codeigniter），test.php 中的代码缺少初始的“/”，因此它在当前目录而不是根目录中搜索 ajax.php。更改 /views/test.php 中的最后一行

```
View: <a href='ajax.php?test/test2'>test2</a> 
```

至

```
View: <a href='/ajax.php?test/test2'>test2</a> 
```

希望这可以帮助！

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-11-03T14:12:40.730

```
RewriteEngine on
RewriteCond %{REQUEST_FILENAME} !-s
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule  ^/?ajax\/(.*)$ /ajax.php?$1 [NC,QSA,L]
RewriteCond $1 !^(index\.php|assets|robots\.txt|ajax)
RewriteRule ^(.*)$ index.php?/$1 [L]

This worked for me. 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2016-08-16T18:52:33.450

这是这个问题的解决方案。

您没有考虑到 Cjax 不是 CodeIgniter 独有的。有两种不同的安装说明，一种是可以在任何应用程序或网站上使用的 Cjax 通用代码库，另一种是集成到 CodeIgniter 中的版本，这是您正在使用的版本，尽管您按照错误安装说明进行操作。

CodeIgniter 的 wiki 中有 CodeIgniter 的 Cjax 专有文档：[https ://github.com/bcit-ci/CodeIgniter/wiki/ajax-framework-for-codeigniter](https://github.com/bcit-ci/CodeIgniter/wiki/ajax-framework-for-codeigniter)

另外，还有一些好消息：Cjax 的新版本 5.9 是通用包，但内置了对 CodeIgniter 的支持。这意味着从那里开始，安装说明应该在同一个地方，或者应该是相似的。

# c# - 使用 C# 生成 Powershell 脚本时转义字符

> ID：15245119
> 
> 赞同：3
> 
> 时间：2013-03-06T10:43:17.517
> 
> 标签：c#, powershell, escaping, stringescapeutils

我使用 VS2010、C#、.NET 3.5 来生成 Powershell 脚本（ps1 文件）。

然后，Powershell 需要转义字符。

关于它开发逃脱字符的好方法有什么建议吗？

```
 public static partial class StringExtensions
    {
        /*
        PowerShell Special Escape Sequences

        Escape Sequence         Special Character
        `n                      New line
        `r                      Carriage Return
        `t                      Tab
        `a                      Alert
        `b                      Backspace
        `"                      Double Quote
        `'                      Single Quote
        ``                      Back Quote
        `0                      Null
        */

        public static string FormatStringValueForPS(this string value)
        {
            if (value == null) return value;
            return value.Replace("\"", "`\"").Replace("'", "`'");
        }
    } 
```

用法：

```
var valueForPs1 = FormatStringValueForPS("My text with \"double quotes\". More Text");
var psString = "$value = \"" + valueForPs1  + "\";"; 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T11:26:44.500

另一种选择是使用正则表达式：

```
private static Regex CharactersToEscape = new Regex(@"['""]"); // Extend the character set as requird

public string EscapeForPowerShell(string input) {
  // $& is the characters that were matched
  return CharactersToEscape.Replace(input, "`$&");
} 
```

注意：您不需要转义反斜杠：PowerShell 不将它们用作转义字符。这使得编写正则表达式更加容易。

# zend-framework2 - zf2 提供给 DbTable 的参数未能生成有效的 sql 语句，请检查表名和列名的有效性

> ID：15245122
> 
> 赞同：2
> 
> 时间：2013-03-06T10:43:24.163
> 
> 标签：zend-framework2, tablegateway

在身份验证时，我收到一条错误消息“**提供给 DbTable 的参数未能生成有效的 sql 语句，请检查表名和列名的有效性。** ”我的登录控制器代码是

```
$form= new login();
        $request=$this->getRequest();
        if ($request->isPost())
        {

            $formValidator = new rotaryfilter();
            $post=$request->getPost();
            $form->setInputFilter($formValidator->getInputFilter());
            $form->setData($request->getPost());

      if($form->isValid())
            {
                $formValidator->exchangeArray($form->getData());

                $dbAdapter = $this->serviceLocator->get('Zend\Db\Adapter\Adapter');

                $authAdapter = new DbTable($dbAdapter,'Login','username','pwd');

                $authAdapter->setIdentity($formValidator->username)
                            ->setCredential($formValidator->pwd);
                //->setCredentialTreatment('MD5(?)');
                $authService = $this->serviceLocator->get('auth_service');
                $authService->setAdapter($authAdapter);

                $result = $authService->authenticate();

                if($result->isValid())
                {
                    echo 'valid';
                    exit();
                }
                else { echo 'invalid';exit();}

            }
        }
        return array('form'=> $form); 
```

我的 module.php 包含

```
public function getServiceConfig()
{
    return array(
            'factories' => array(

                'auth_service' => function ($sm) {
                    $authService = new AuthenticationService(new SessionStorage('auth'));

                    return $authService;
                },

                    'General\Model\Login' =>  function($sm) {
                        $tableGateway = $sm->get('LoginGateway');
                        $table = new Login($tableGateway);
                        return $table;
                    },
                    'LoginGateway' => function ($sm) {
                        $dbAdapter = $sm->get('Zend\Db\Adapter\Adapter');
                        $resultSetPrototype = new ResultSet();
                        $resultSetPrototype->setArrayObjectPrototype(new rotaryfilter());
                        return new TableGateway('Login', $dbAdapter, null, $resultSetPrototype);
                    },

                    ),);
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-10-27T01:14:12.710

这可能看起来很旧，但我能够解决这个错误。此错误是由您的 MySQL 版本引起的。

这个对我有用。您需要做的就是从您的数据库设置中删除 driver_options，此代码通常位于您的配置文件中的 global.php 或 .local.php 中。

更改自：

```
'db' => array(
    'driver'         => 'Pdo_Mysql',
    'dsn'            => 'mysql:dbname=dbName;host=localhost',
    'username'       => 'dbUser',
    'password'       => 'dbPass',
    'driver_options' => array(
        PDO::MYSQL_ATTR_INIT_COMMAND => 'SET NAMES \'UTF8\''
    ),
), 
```

至

```
'db' => array(
    'driver'         => 'Pdo_Mysql',
    'dsn'            => 'mysql:dbname=dbName;host=localhost',
    'username'       => 'dbUser',
    'password'       => 'dbPass',
), 
```

谢谢你。这个解决方案解决了我的问题。

# javascript - DOMParser 注入 DOM 但注入后不应用 css 样式表？

> ID：15245124
> 
> 赞同：6
> 
> 时间：2013-03-06T10:43:31.463
> 
> 标签：javascript, dom, domparser

我有一个小测试用例：

[http://jsfiddle.net/9xwUx/1/](http://jsfiddle.net/9xwUx/1/)

代码归结为以下内容（给定一个 id 为“target”的节点）：

```
var string = '<div class="makeitpink">this should be pink, but is not</div>';
var parser = new DOMParser();
var domNode = parser.parseFromString(string,"text/xml");
document.getElementById("target").appendChild(domNode.firstChild); 
```

如果您运行测试用例，然后通过 firebug/chrome web 检查器检查目标节点并选择 jsfiddle 的 iframe 的 body 标记内的任何节点，并执行“编辑为 HTML”，则在任意位置添加一个随机字符作为字符串 [不是属性到一个domnode，要清楚]，然后“保存”，就会应用样式。但不是在那之前。说我很困惑是轻描淡写的。

有人可以澄清这里发生了什么吗？谢谢。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2017-04-18T09:11:39.547

您可以将 mime 类型更改为`text/html`并执行以下操作：

```
var parser = new DOMParser()
var doc = parser.parseFromString(markup, 'text/html')
return doc.body.firstChild 
```

我没有在每个浏览器上进行测试，但它适用于 Chrome 和 Firefox。我看不出它在其他地方不起作用的任何理由。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-07-09T05:58:11.300

有点晚了，但原因是您已经使用`text/xml`选项解析了这些，这意味着结果是 XML 节点，它们没有应用 CSS。当您右键单击并“编辑为 HTML”时，浏览器会将它们重新解释为 HTML，并且元素中的更改将导致重绘，重新应用 CSS。

我一直在使用相对 hack-ish 但绝对可行的方法来解析我的内容，即创建一个临时元素并操作 innerHTML 属性，让浏览器进行解析：

```
var temp = document.createElement("div")
//assuming you have some HTML partial called 'fragment'
temp.innerHTML = fragment
return temp.firstChild 
```

您在 jsfiddle 中已经注意到了这一点。基本上，它归结为当您使用该选项时`DOMParser`的一个实例的输出。`XMLDocument``text/xml`

# javascript - 使用 UglifyJS 修改公共变量名

> ID：15245125
> 
> 赞同：2
> 
> 时间：2013-03-06T10:43:40.340
> 
> 标签：javascript, uglifyjs

我有类似这样的代码：

```
(function (global) {
    var MyObject = function (arg1, arg2) {
        this.publicVar = arg1;
        this._internalVar = arg2;
    };
    MyObject.prototype = {
        publicFunc: function (param) {
            return param + this._internalVar;
        }
    };
    global.MyObject = MyObject;
}(window)); 
```

我可以以某种方式让 UgilfyJS 破坏，`_internalVar`因为它不打算在这个范围之外使用吗？我知道它可以通过使用高级压缩等的闭包编译器来完成，但我使用 anvil 来构建和 uglifyjs 来缩小。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-06T11:16:35.367

为了保护 _internalVar ，我尝试了

```
(function (global) {

    var MyObject = function () {};

    MyObject.prototype = (function(){     

        var _internalVar = 2;        

        return {
             publicVar: 1,             
             publicFunc: function (param) {
                return param +' '+ _internalVar;
            }
        };

    })();

    global.MyObject  = MyObject;

}(window)); 
```

并试图访问

```
console.log(  ( new window.MyObject()).publicVar  ); 
```

哪个打印**1**

```
console.log(  ( new window.MyObject())._internalVar  ); 
```

这是`undefined`

```
console.log( ( new window.MyObject()).publicFunc('value') ); 
```

哪个打印**值 2**

有关更多信息，请查看[http://addyosmani.com/resources/essentialjsdesignpatterns/book/#modulepatternjavascript](http://addyosmani.com/resources/essentialjsdesignpatterns/book/#modulepatternjavascript)

# jquery - 无法编写非冗余函数

> ID：15245130
> 
> 赞同：0
> 
> 时间：2013-03-06T10:43:57.240
> 
> 标签：jquery, function

以下代码是我编写的函数的一部分，但不知何故感觉是多余的。谁能告诉我如何正确处理以下问题：

```
openProject: function() {

    if( $(a).height() == $(b).height() ){

        $( myID )
        .css({ opacity: 0 })
        .show()
        .stop(true, true)
        .animate({ opacity: 1}, 750);

    }else{ /* end $(a).height() == $(b).height() */

        $( a ).stop(true, true).animate({ height : $( b ).height() }, 750, function(){

            $( myID )
            .css({ opacity: 0 })
            .show()
            .stop(true, true)
            .animate({ opacity: 1}, 750);

        });

    } /* end if:else */

} 
```

两个部分之间的唯一区别是是否`$( a )`动画。

任何帮助将不胜感激！

谢谢， 纳尔

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-06T10:48:19.863

制作一个函数:)并在两个地方调用它

**更新代码**

```
//seperate function
function myIdAnimate(){
    $( myID )
    .css({ opacity: 0 })
    .show()
    .stop(true, true)
    .animate({ opacity: 1}, 750);
 }

//your code
openProject: function() {

  if( $(a).height() == $(b).height() ){
     myIdAnimate(); //just call the function here
  }else{ /* end $(a).height() == $(b).height() */
     $( a ).stop(true, true).animate({ height : $( b ).height() }, 750, myIdAnimate()); //and here 
  }

} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-06T10:50:32.983

你只需要写一个小函数：

```
var resetIdSelector = function(idSelector){
   idSelector
     .css({ opacity: 0 })
     .show()
     .stop(true, true)
     .animate({ opacity: 1}, 750); 
} 
```

并称之为：

```
if( $(a).height() == $(b).height() ){
    resetIdSelector($(myID));
}else{ /* end $(a).height() == $(b).height() */
    $( a ).stop(true, true).animate({ height : $( b ).height() }, 750, function(){
       resetIdSelector($(myID));
    });

} /* end if:else */ 
```

# android - 如何使用资源 ID 在屏幕上找出 ImageViews 或 ImageButtons？- 机器人

> ID：15245133
> 
> 赞同：0
> 
> 时间：2013-03-06T10:44:10.783
> 
> 标签：android, robotium, android-resources

场景：主屏幕左上角有`Menu`按钮，右上角有搜索图标。屏幕应用程序显示 10 张图像，例如在专辑/歌曲标签下。

正如开发人员所说，仅显示 1 个图像/资源，然后复制以显示其他 9 个图像。

我想自动化：

*   主屏幕是否在相册标签下包含 10 张图片？
*   如何使用`R.id`Robotium 找到图像？
*   我是否需要包含在我的测试项目的构建路径中才能访问屏幕上的这些资源？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T10:53:47.260

您可以遍历视图的所有子项。

```
int childcount = yourView.getChildCount();
for (int i=0; i < childcount; i++){
    View v = yourView.getChildAt(i);
    // Now here you can check if v is an image..
} 
```

希望我明白你的问题！

# c# - 如何在asp.net中更改柱形图中的条形颜色

> ID：15245141
> 
> 赞同：1
> 
> 时间：2013-03-06T10:44:30.497
> 
> 标签：c#, asp.net, charts

大家好！！！我正在从数据库表中设计一个柱形图..现在我需要图表的每一列（条形）具有不同的颜色，以便我们可以有不同的图例，但我无法实现它。这是我的 c# 代码...... .

```
string conn = "Server=localhost;Port=3306;Database=dma;UID=root;Pwd=techsoft;pooling=false";
    MySqlDataAdapter adp = new MySqlDataAdapter("select ConfID,NoOfCalls from chart1", conn);
    DataSet ds = new DataSet();
    adp.Fill(ds);

    //2.Set the style/Settings for X and Y axis
    Chart1.Font.Size = FontUnit.Medium;
    Chart1.Series["Series1"].XValueType = ChartValueType.Int32;
    Chart1.Series["Series1"].YValueType = ChartValueType.Int32;
    Chart1.ChartAreas[0].AxisY.Title = "No. Of calls";
    Chart1.ChartAreas[0].AxisX.Title = "ConferenceId";

    //3.Define the chart type
    Chart1.Series["Series1"].ChartType = SeriesChartType.Column;
    //4.Add the actual values from the dataset to X & Y co-ordinates
    for (int i = 0; i < ds.Tables[0].Rows.Count; i++)
    {
        Chart1.Series["Series1"].Points.AddXY(ds.Tables[0].Rows[i]["ConfID"], ds.Tables[0].Rows[i]["NoOfCalls"]);
    } 
```

这是我的图表的aspx页面代码...

```
<asp:Chart id="Chart1" runat="server" Width="572px" Height="339px" 
    BorderDashStyle="Solid" BorderWidth="2px" BorderColor="#B54001" 
    onload="Chart1_Load1">
    <Legends>
        <asp:Legend Name="Legend1">
        </asp:Legend>
    </Legends>
<BorderSkin SkinStyle="None" BackGradientStyle="None" BackSecondaryColor="SeaShell" BorderColor="#6198dc"       BorderDashStyle="Solid" BorderWidth="1" BackColor="White"></BorderSkin>     
   <Series>
       <asp:Series MarkerSize="3" BackGradientStyle="HorizontalCenter" BorderWidth="1" 
           Name="Series1" MarkerStyle="Circle" BorderColor="180, 26, 59, 105" 
           Color="220, 65, 140, 240"                  ShadowOffset="0" Legend="Legend1"></asp:Series>
   </Series>   

   <ChartAreas>
        <asp:ChartArea Name="ChartArea1" BorderWidth="0" BackColor="White" ShadowColor="Transparent">
            <AxisY LineColor="64, 220, 64, 64" LineDashStyle="Solid" LineWidth="2">
                       <LabelStyle Font="Trebuchet MS, 8.25pt, style=Bold" />
                       <MajorGrid LineColor="64, 220, 64, 64" />
                 </AxisY>
                 <AxisX LineColor="64, 220, 64, 64" LineDashStyle="Solid" LineWidth="2">
                       <LabelStyle Font="Trebuchet MS, 8.25pt, style=Bold" />
                       <MajorGrid LineColor="64, 220, 64, 64" />
                 </AxisX>
          </asp:ChartArea>
   </ChartAreas> 
```

请大家帮帮我。提前谢谢..

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-06T11:02:27.460

有一种超级简单的方法可以在 asp.net 中自定义您的条形图。

您可以通过 xml 模板或直接通过代码加载样式。

代码隐藏：

```
 protected void Page_Load(object sender, EventArgs e)
 {
      DataTable dt = default(DataTable);
      dt = MyChartDataSource(); //datasource for your chart

     //Give two columns of data to Y-axle
      Chart1.Series[0].YValueMembers = "Volume1";
      Chart1.Series[1].YValueMembers = "Volume2";

       //Set the X-axle as date value
       Chart1.Series[0].XValueMember = "Date";

       //Bind the Chart control with the setting above
       Chart1.DataSource = dt;
       Chart1.DataBind();

       //after databinding your chart, override the colors of bar as below:
       Random random = new Random(); 
       foreach (var item in Chart1.Series[0].Points)
       {
          Color c = Color.FromArgb(random.Next(0, 255), random.Next(0, 255), random.Next(0, 255));
          item.Color = c;
        }
 } 
```

和你的设计师：

```
<asp:Chart ID="Chart1" runat="server" Height="400px" Width="500px">
            <Series>
                <asp:Series Name="Series1" ChartType="Column" ChartArea="ChartArea1">
                </asp:Series>
                <asp:Series Name="Series2" ChartType="Column" ChartArea="ChartArea1">
                </asp:Series>
            </Series>
            <ChartAreas>
                <asp:ChartArea Name="ChartArea1">
                </asp:ChartArea>
            </ChartAreas>
</asp:Chart> 
```

. 我已经绑定了图表并从代码隐藏端定义了它的系列，你可以通过设计端完美地做到这一点，几乎没有什么不同。

注意：MyChartDataSource() 返回要绑定图表的列表或 DataTable 或 dataSet 或集合。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T10:48:24.667

您可以使用 ASP.net 图表中的模板为图表的任何元素添加颜色和其他样式

```
ChartObject.LoadTemplate("templatefile.xml"); 
```

在此处查找更多详细信息

**[使用模板样式化 ASP.Net 图表](http://forums.asp.net/t/1652185.aspx/1?Styling%20a%20chart)**

**[样式表](http://support2.dundas.com/onlinedocumentation/webchart2005/UsingTemplates.html)**

# asp.net-mvc - ASP.NET 独立的 web/admin 应用程序

> ID：15245142
> 
> 赞同：1
> 
> 时间：2013-03-06T10:44:30.940
> 
> 标签：asp.net-mvc, design-patterns, iis-7

我经常在 asp.net webforms 中开发网站，其管理区域始终是应用程序根目录中的一个文件夹，该站点也位于该应用程序的根目录中。它将始终被编译成一个 dll，这意味着每一个小改动都需要完全重新构建解决方案——它只是不能很好地*工作*。

这是一个相当长的问题，所以我的**总结在底部**，但我试图提供尽可能多的信息来提供帮助。

所以目前事情是这样设置的（你应该明白）：

```
¬ Application Root  
  -  /MyAdminPanel
     - dashboard.aspx
  -  /website-css
     - site.css
  - index.aspx 
```

但是，我最近开始使用 ASP.NET MVC 开发我们的网站并在解决方案中使用多个项目，例如：

```
¬ Solution
  - ClientName.Core
  - ClientName.Models
  - ClientName.CMS.Services
  - ClientName.CMS.Web
  - ClientName.Services
  - ClientName.Web 
```

这些`.Web`项目是 CMS 和前端网站。

**记住 99% 的时间都会有网站的管理区域，是否有更好的方法来构建我的 IIS 应用程序？**

有人担心通过管理面板上传的资源需要通过前置网站访问，因此基本上是从子应用程序进入根目录。
这可能是通过这样做`Server.MapPath(string path)`，因为这将转到根应用程序，但是根据设置的方式，可能无法保证根应用程序是文件需要去的地方（例如，如果前面和管理员都面向站点都在单独的虚拟应用程序中）。如果使用路径实际解析到子应用程序的位置，
我正在考虑这里的情况，这显然是不正确的。 `HostingEnvironment.MapPath()``/MyAdminPanel`

**总结**
从本质上讲，长话短说，理想的情况是拥有一个如上所述的 VS 解决方案，以及一个类似结构的网站（尽管我更乐意将其更改为更好的东西），在那里我可以`MapPath`资源到前端网站，不用担心网站是如何托管的。

**重要的一件事是我可以分别构建和维护项目，因为某些管理从一个客户端到另一个客户端将具有不同的功能**

如果你能为这一切想出一个更好的结构，我很乐意倾听！:)

感谢您抽出宝贵时间查看此内容。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T13:41:19.630

解决方案非常简单——你真的只需要担心在这里映射 4 条路径——只需编写一些实用方法即可：

*   从公共站点 http 根映射路径
*   从公共站点文件系统根映射路径
*   从管理站点 http 根映射路径
*   从管理站点文件系统根映射路径

您可能希望使这些配置驱动，或者至少可以覆盖，因为这将在时间线中真正不允许“重新构建并将软件重新交付给客户端”的情况下在生产中迅速改变。

# android - AsyncTaskLoader - 不调用 onLoadFinished()

> ID：15245143
> 
> 赞同：1
> 
> 时间：2013-03-06T10:44:31.140
> 
> 标签：android, asynctaskloader

我有一个`AsyncTaskLoader`：

```
public class FakePdfLoader extends AsyncTaskLoader<Integer> 
```

我开始：

```
getSupportLoaderManager().initLoader(0, args, this); 
```

从一个活动：

```
MyActivity implements LoaderManager.LoaderCallbacks<Integer> 
```

但我的方法：

```
@Override
public void onLoadFinished(Loader<Integer> loader, Integer data) {
    Log.d("TEST", "finished loading " + data);
} 
```

永远不会被调用。我知道 ATL 确实`doInBackground()`并且也达到`deliverResults()`了，而且它肯定会提供`Integer`. 会不会是返回类型`Integer`在这里引起了问题？

编辑：`Integer`与它无关，我测试过。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T12:59:34.017

哦，孩子，我有时很愚蠢。在我的 AsyncTaskloader 中，我覆盖了 DeliverResult，盲目地从 Google 的示例中复制了它。

# linux - 复制文件权限，但不复制文件

> ID：15245144
> 
> 赞同：35
> 
> 时间：2013-03-06T10:44:31.383
> 
> 标签：linux, bash, permissions, copy, chmod

我有同一个目录树的两个副本。它们在两者中几乎都有相同的文件（一个版本可能有几个额外或丢失的文件）。但是，大多数文件对于两个目录都是通用的（具有相同的相对路径和所有内容）。

假设这些在目录中：

```
version1/
version2/ 
```

问题是 version1/ 中的权限搞砸了，我想复制 version2/ 中的权限，但不要替换 version1/ 中较新的文件。

是否有通过 bash 自动执行此操作的方法？（不一定是 bash，也可以是其他方法/编程语言）。

* * *

## 回答 #1

> 赞同：70
> 
> 时间：2013-03-06T10:48:34.683

您应该查看以下`--reference`选项[`chmod`](http://linux.die.net/man/1/chmod)：

```
chmod --reference version2/somefile version1/somefile 
```

以合适的方式应用`find`，`xargs`你应该没问题，即类似

```
 ~/version2$ find . -type f | xargs -I {} chmod --reference {} ../version1/{} 
```

这甚至可以递归地工作，并且对目标目录中丢失的文件很健壮（禁止*No such file ...*错误，可以忽略）。当然，它不会对只存在于目标目录中的文件做任何事情。

干杯，

* * *

## 回答 #2

> 赞同：10
> 
> 时间：2013-03-06T11:03:03.150

您可以使用此脚本（它以递归方式更改权限，但为每个文件/目录单独更改）

```
#!/bin/sh
chmod --reference $1 $2
if [ -d $1 ]
then
    if [ "x`ls $1`" != "x" ]
    then
        for f in `ls $1`
        do
            $0 $1/$f $2/$f
        done
    fi
fi 
```

使用参数 version2 version1 运行脚本

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-06T10:48:49.383

你可以试试：

```
chmod owner-group-other ./dir or ./file 
```

除非权限是细粒度的并且从一个文件到另一个文件不同，否则您可以对目录执行递归 chmod 并统一权限。

有关可能有用的选项的参考，请参阅 man chmod

# java - 将依赖项注入一个普通的旧 Tomcat HTTP servlet

> ID：15245146
> 
> 赞同：3
> 
> 时间：2013-03-06T10:44:36.473
> 
> 标签：java, tomcat, servlets, dependency-injection

在将依赖注入作为一种风格变得非常熟悉之后，我发现自己编写了一个类似这样的 HTTP servlet：

```
public class FooServlet extends HttpServlet {

private Dependency dependency;

public void setDependency(Dependency dependency) {
    this.dependency = dependency;
}

@Override
protected void doPost(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {

        ...
        Result r = dependency.doSomething(...);
        ...
} 
```

这非常容易进行单元测试，而且我很想保留这个模型——但是现在我将它部署在 Tomcat 中，我意识到我不知道我可以从哪里调用 setDependency()。

想到一些模糊的可能性：

*   在 init() 中获取 servlet 参数。这些只是字符串，所以我必须做一些反射来创建。这不是真正的 DI。刚刚配置了依赖创建。
*   JNDI 的一些东西
*   不知何故，从嵌入 Tomcat 的 Java 程序中，让 Tomcat 给我一个 Servlet 对象的引用，让我可以调用它的 setter。
*   使用弹簧。如果我使用 Spring，我会寻找保持它轻量级的方法。这个应用程序不够复杂，不足以保证 Spring MVC。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-06T10:50:28.207

我会使用 Spring，因为它提供了一个庞大的特性和功能生态系统，您的项目可以使用它来增强它。但前提是你真的会使用它们。加载如此庞大的框架只是为了在一个地方使用一个小功能是没有意义的。

也就是说，您还应该小心，因为该`doPost()`方法将由不同的线程调用，而您的`dependency`对象是成员变量。这将使您的代码线程不安全，因为`dependency`如果它是单例，则不同的线程可以同时使用相同的实例。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-06T10:53:05.130

实际上只需要两行代码就可以`@Autowire`在 servlet 中工作：

```
ApplicationContext appContext = WebApplicationContextUtils.getRequiredWebApplicationContext( getServletContext() );
appContext.getAutowireCapableBeanFactory().autowireBean( this ); 
```

但是有一个缺点：Servlet 是单例，它们不是由 Spring 创建的，因此您不能注入原型 bean。因此，只要所有注入的 bean 都是单例，这将起作用。当您稍后添加原型 bean 时，代码将开始失败并出现奇怪的错误。

出于这个原因，我通常创建处理程序 bean（请参阅参考资料`HttpRequestHandler`）并在其中创建它们，`doPost()`而不是自动装配 servlet 本身。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-06T12:41:11.990

感谢 Aaron 和 Filipe，我发现 Spring 似乎是最轻量级的用法。

在 WEB-INF/web.xml 中配置一个 Dispatching servlet：

```
 <servlet>
            <servlet-name>
                    myDispatcher
            </servlet-name>
            <servlet-class>
                    org.springframework.web.servlet.DispatcherServlet
            </servlet-class>
            <init-param>
                    <param-name>contextConfigLocation</param-name>
                    <param-value>/WEB-INF/spring/myDispatcher-context.xml</param-value>
            </init-param>
    </servlet> 
```

在 WEB-INF/spring/myDispatcher-context.xml 中，显式配置应用程序上下文，以便 BeanNameUrlHandlerMapping 将请求映射到您的处理类，并注入您的依赖项。

```
 <bean id="/*" class="org.me.MyHandler">
        <property name="dependency" ref="dependency"/>
    </bean>
    <bean id="dependency" class="org.me.myDependency"/> 
```

将 MyHandler 编写为一个实现`HttpRequestHandler`- 它非常类似于 Servlet。

这给了你依赖注入。它避免了类路径扫描，并且不加载几十个类——但如果你以后想采用更高级的 Spring MVC 特性，机会就在那里。

# c# - 局部视图和条件渲染 Mvc4

> ID：15245147
> 
> 赞同：1
> 
> 时间：2013-03-06T10:44:38.377
> 
> 标签：c#, asp.net-mvc, razor, refactoring, partial-views

我已经开始重构一些项目，并且由于代码重复，我遇到了一些似乎写错的代码，但是我不知道如何以最佳方式重构它。当然，我可以通过提取函数和清理一些代码，使用泛型来删除代码重复，但我想也许我可以做的不止这些。故事是：

我们有一个页面（视图），即根据用户选择呈现多个部分视图：我们有一些链接，例如：

```
 @Html.ActionLink("Create", "SetCreateNewMessageView")</br>
                    @Html.ActionLink("GetMessagesHistory", "SetGetMessagesHistoryView")</br>
                    @Html.ActionLink("UpdateMessageStatus", "SetUpdateMessageStatusView")</br>
                    @Html.ActionLink("AddUser", "SetAddUserView")</br>
                    @Html.ActionLink("RemoveUser", "SetRemoveUserView")</br> 
```

每次单击都会以这种方式呈现部分视图 -> 控制器：

```
 var containModel = new CreatorsViewModel();
        containModel.CreateNewMessage = model;
        **containModel.view = 1;**
        return View("Index", containModel); 
```

这是为每个链接制作的，然后在 Page's View 中，以下条件渲染是：

```
 @if (Model.view == 1)
                    { // Render Partial view 
```

}

在我的情况下是否有一些最佳实践（根据用户选择呈现不同的部分视图）或者仅删除代码重复就足够了？

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T10:47:51.793

您发布的代码没有任何问题，条件渲染在 MVC 中很常见。我要做的唯一更改是将您的`if`语句转换为 a `switch`，只是为了整理一下（假设您有多个 Model 值的 , 等`if`）`else if`。`else if`

# asp.net - 在 aspx 页面中加载 youtube 视频

> ID：15245149
> 
> 赞同：0
> 
> 时间：2013-03-06T10:44:42.010
> 
> 标签：asp.net, iframe, video, youtube

我的主页上有不同的内容文章，其中可能包含视频。如果文章包含视频，则其下方的视频图标将重定向到包含播放视频的 Video.aspx 页面。我的 Video.aspx 就像：

```
<div class="mainvideo" id="video" runat="server">
<iframe id="videoPlayer" runat="server" width="628" height="374" frameborder="0" allowfullscreen></iframe> </div> 
```

视频在 youtube 中管理，每篇文章都包含 youtube 网址。我试图将 src 从后面的代码设置为 iframe，但它不起作用。

```
string articleID = Request.QueryString["ID"].ToString();

        ClassArticleContents objArticleContent = new ClassArticleContents();
        objArticleContent.ArticleID = Convert.ToInt32(articleID);
        objArticleContent = objArticleContent.GetArticleByID();
        if (objArticleContent != null)
    videoPlayer.Attributes.Add("src", objArticleContent.videoURL); 
```

我还尝试使用 iframe 为 div 构建 innerhtml

```
video.InnerHtml = "<iframe width='628' height='374' src='" + objArticleContent.videoURL + "' frameborder='0' allowfullscreen></iframe>"; 
```

这两个都没有在 Video.aspx 页面中显示视频播放器。我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T10:50:59.137

您可以尝试文字并将其添加到面板中吗？

```
Literal videoFrame = new Literal();

videoFrame.Text = string.Format(@"<iframe width=""628"" height=""374"" src=""{0}"" frameborder=""0"" allowfullscreen></iframe>", objArticleContent.videoURL);
panel.controls.add(videoFrame); 
```

只是为了确保检查 objArticleContent.videoURL 等于什么。

# css - 同一页面 CSS 上的两个 Flexslider

> ID：15245156
> 
> 赞同：1
> 
> 时间：2013-03-06T10:44:53.810
> 
> 标签：css, flexslider

在[这个测试页上](http://www.centrumvoorchinesegeneeswijzen.nl/test)，我有两个 Flexslider 工作。一个在顶部（横幅），一个作为文章的一部分。除了横幅中的图像没有占据父 div 的全部宽度......或其他东西......！？我忽略了一些可以肯定的东西，但我的问题是它与 flexslder.css 本身有关。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T10:53:21.123

下面是申请最大宽度的类，请去掉宽度。

p, ul, ol, dl, blockquote{max-width:30em}

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T10:54:06.480

```
p, ul, ol, dl, blockquote {
    font-size: 1em;
    line-height: 1.618em;
    margin-bottom: 1.618em;
    max-width: 30em; /* Optimal width for long-form text (depends on font and size!) */
} 
```

在第 115 行删除`max-width`这段代码`chinesegeneeswijzen-global-test.css`

它强制 flexslider 中的 ul 最大宽度为 30em

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-06T10:57:17.100

```
.flexslider .slides {
zoom: 1;
max-width: 100%;
} 
```

在 flexslider.css 的第 45 行添加最大宽度

# enctype - 在 EmbPerl 的 %fdat 变量中获取表单数据值为 null

> ID：15245158
> 
> 赞同：0
> 
> 时间：2013-03-06T10:44:59.167
> 
> 标签：enctype, embperl

如果我们进行文件上传和表单属性，我将获取表单数据值，如变量`NULL`in 。`%fdat``EmbPerl``enctype="multipart/form-data"`

这是 EmbPerl 代码：

```
if(( defined $fdat{file} && $fdat{file} ) && $fdat{upload} )
{
         $filename = "/tmp/sample.txt";<br/>
         open (FILE, "> $filename") || die("open failed: $!");
         while (read($fdat{file}, $buffer, 32768)) {
         print FILE $buffer || die("print test: $!");
         close FILE || die("close test: $!");  
} 
```

HTML代码是：

```
<form name="form1" method="post" enctype="multipart/form-data" onsubmit="return validation();>
 <table>
<tr>   <td>Select EXCEL sheet</td>
    <td><input type="file" name="file" value=""></td>

  </tr>
    <tr>
   <td>&nbsp;</td>
    <td><input type="submit" name="upload" value="upload"></td>
   </tr>
 </table>
 </form> 
```

我正在使用 EmbPerl/2.3.0、CGI/3.63、Perl/5.10.1、Apache/2.2.22 和 Linux 操作系统。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-05-07T04:32:53.897

如果您将`CGI`版本降级为`3.37`，那么它将起作用。

# ios - 使用一些 UITableViewCell

> ID：15245160
> 
> 赞同：0
> 
> 时间：2013-03-06T10:45:04.963
> 
> 标签：ios, uitableview

如何选择几个`UITableViewCell`（作为复选标记但具有我自己的风格）然后对选定的项目做一些事情？

作为复选标记（或其他），我想使用`UIImageView`：

![在此处输入图像描述](../Images/99b355d6bfc41225ffca294390b7be5b.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T11:19:56.590

要添加到[Pandu1251 的答案](https://stackoverflow.com/a/15245279/46297)，如果您想使用自己的复选标记图像，您可以设置自定义附件视图并遵循他指定的相同逻辑。

要设置自定义附件视图，请使用

```
cell.accessoryView = myAccessoryView; //myAccessoryView is a UIImageView holding your custom check mark image 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T10:50:37.523

-(void)tableView:(UITableView *) tableView didSelectRowAtIndexPath: (NSIndexPath *) indexPath

{

```
UITableViewCell *thisCell = [tableView cellForRowAtIndexPath:indexPath];
if (thisCell.accessoryType == UITableViewCellAccessoryNone)
{
    thisCell.accessoryType = UITableViewCellAccessoryCheckmark;

}
else
{
  for(int i=0;i<[Array count];i++)
  {
    thisCell.accessoryType = UITableViewCellAccessoryNone;
  }

  thisCell.accessoryType = UITableViewCellAccessoryNone;
} 
```

}

现在试试这个......

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-06T11:20:08.763

只需按照以下方式进行。为此，您必须采用 NSMutableArray。我在这里采取了 arrMethodsToBeStored。

```
- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath
{
    static NSString *CellIdentifier = @"Cell";

    UITableViewCell *cell = [tableView dequeueReusableCellWithIdentifier:CellIdentifier];

    if (cell == nil) {
        cell = [[[UITableViewCell alloc] initWithStyle:UITableViewCellStyleDefault reuseIdentifier:CellIdentifier] autorelease];
    }

    [cell setSelectionStyle:UITableViewCellSelectionStyleNone];

    cell.textLabel.textColor=[UIColor darkGrayColor];
    cell.textLabel.font= [UIFont fontWithName:@"Arial Rounded MT Bold" size:15.0];

    Scope_RepairMethod *scpObj=[repairMethodArr objectAtIndex:indexPath.row];
    cell.textLabel.text= scpObj.strRepairMethod;

    if([self.checkedIndexPath isEqual:indexPath])
    {
        cell.accessoryType = UITableViewCellAccessoryCheckmark;
    }
    else
    {
        cell.accessoryType = UITableViewCellAccessoryNone;
    }

    return cell;
}

- (void)tableView:(UITableView *)tableView didSelectRowAtIndexPath:(NSIndexPath *)indexPath
{
   // NSString *selID;

    UITableViewCell *newCell = [tableView cellForRowAtIndexPath:indexPath];

    Scope_RepairMethod *scpObj=[repairMethodArr objectAtIndex:indexPath.row];

    if (newCell.accessoryType == UITableViewCellAccessoryNone)
    {
        newCell.accessoryType = UITableViewCellAccessoryCheckmark;
        [arrMethodsToBeStored addObject:scpObj.strRepairMethod];
    }
    else
    {
        newCell.accessoryType = UITableViewCellAccessoryNone;
        [arrMethodsToBeStored removeObject:scpObj.strRepairMethod];
    }
    NSLog(@"selected method arr==== %@",arrMethodsToBeStored);

// I want to enable my save button only if one or more values from table are selected

    if(arrMethodsToBeStored.count > 0)
        saveBtn.enabled=true;
    else
    {
        saveBtn.enabled=false;
    }
} 
```

# javascript - 如何在我的 JSP 中设置 javascript 路径

> ID：15245162
> 
> 赞同：0
> 
> 时间：2013-03-06T10:45:07.980
> 
> 标签：javascript, jsp, path, resources

我正在使用 Maven 构建 SpringMVC3.2、JSP 和 Tomcat。我的 Web 应用程序结构如下所示。

```
tomcat
  |-- webapps
    |-- MyApp
      |-- css
      |-- js
        |-- jquery.js
      |-- images
      |-- META-INF
      |-- WEB-INF
        |-- classes
        |-- lib
        |-- src
        |-- web.xml
        |-- pages
             |-- index.jsp 
```

我在 index.jsp 中设置了 JavaScript 路径，如下所示：

```
<script src="../js/jquery.js"></script> 
```

但它无法加载 Javascript 文件。我更改了路径并在这里和那里移动了文件，但一切都没有奏效。我错过了什么？请帮我。

提前致谢。

编辑实际上，我通过不同的社区找到了答案。

```
<%@ page language="java" contentType="text/html; charset=UTF-8" %>
<%@page isELIgnored="false" %>
<%@ taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core" %>
<c:set var="contextPath" value="${pageContext.request.contextPath}"/>

<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <link rel="stylesheet" href="http://code.jquery.com/ui/1.10.1/themes/base/jquery-ui.css" />
    <script src="${contextPath}/js/jquery-1.9.1.js"></script>

</head>
<body>
</body>
</html> 
```

这不是一个漂亮的方式，但它对我来说很好，如果你想要不同的解决方案，请在下面查看我的答案。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T10:49:33.457

```
tomcat
  |-- webapps
    |-- YourApplicatipName
      |-- css
      |-- js
        |-- jquery.js
      |-- images
      |-- META-INF
      |-- WEB-INF
        |-- classes
        |-- lib
        |-- src
        |-- web.xml 
```

th js 文件夹应该只在你的根文件夹中

现在你给定的路径可以工作

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-07T04:19:40.407

web.xml

```
<jsp-config>
<jsp-property-group>
<url-pattern>*.jsp</url-pattern>
<page-encoding>UTF-8</page-encoding>
<scripting-invalid>true</scripting-invalid>
<include-prelude>/WEB-INF/common/commonDefinition.jspf</include-prelude>
</jsp-property-group>
</jsp-config> 
```

commonDefinition.jspf

```
<%@ page language="java" contentType="text/html; charset=UTF-8" %><%@ 
taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core" %><%@ 
taglib prefix="x" uri="http://java.sun.com/jsp/jstl/xml" %><%@ 
taglib prefix="fmt" uri="http://java.sun.com/jsp/jstl/fmt" %><%@ 
taglib prefix="fn" uri="http://java.sun.com/jsp/jstl/functions" %>
<c:set var="contextPath" value="${pageContext.request.contextPath}"/> 
```

# matlab - 通过 Matlab 中的另一个结构更新结构

> ID：15245167
> 
> 赞同：8
> 
> 时间：2013-03-06T10:45:16.863
> 
> 标签：matlab, struct

我想知道是否有一种方便的方法可以用 Matlab 中另一个结构的值**更新一个结构。**这是代码，使用`fieldnames`,`numel`和`for`循环，

```
fn = fieldnames(new_values);
for fi=1:numel(fn)
    old_struct.(fn{fi}) = new_values.(fn{fi});
end 
```

当然，我不想松开不在的字段`old_struct`，`new_values`所以我不能使用简单的`old_struct=new_values`.

更新结构是我们可能希望在解释器中用一行短行完成的事情。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-03-06T21:03:02.727

由于您确信没有更简单的方法可以实现您想要的，这里是[Loren Shure 的文章](http://blogs.mathworks.com/loren/2009/10/15/concatenating-structs/)中描述的方法（请参阅 Dan 评论中发布的链接），应用于您的示例：

```
%// Remove overlapping fields from first struct
s_merged = rmfield(s_old, intersect(fieldnames(s_old), fieldnames(s_new)));

%// Obtain all unique names of remaining fields
names = [fieldnames(s_merged); fieldnames(s_new)];

%// Merge both structs
s_merged = cell2struct([struct2cell(s_merged); struct2cell(s_new)], names, 1); 
```

请注意，这个稍微改进的版本可以处理结构数组，以及具有重叠字段名称的结构（我相信你称之为*冲突*）。

# javascript - 无法访问 Javascript 多维数组

> ID：15245169
> 
> 赞同：0
> 
> 时间：2013-03-06T10:45:22.203
> 
> 标签：javascript, jquery, ajax, multidimensional-array

我在这里看到了很多这样的问题，但似乎没有一个能解决我的问题。我有一个通过查询填充的多维（嵌套）数组。我希望通过 AJAX jQuery 发送最终数组：

```
(function() {
    var orderDetails = [];
    orderDetails['retailer'] = [];
    orderDetails['order'] = [];

    db.transaction(function(qry){
        qry.executeSql("SELECT * FROM retailers WHERE pending = '1' ", [], function(tx, results){
            len = results.rows.length; //if rows.length, means retailer is pending so add details to array. If no length, means retailer exists
            for (var i=0; i<len; i++){ 
                console.log('start '+i+' loop in retailers qry');
                orderDetails['retailer'][i] = [];
                orderDetails['retailer'][i]['localID'] = results.rows.item(i).ID;
                orderDetails['retailer'][i]['retailerName'] = results.rows.item(i).retailerName;
                orderDetails['retailer'][i]['address'] = results.rows.item(i).address;
                orderDetails['retailer'][i]['postcode'] = results.rows.item(i).postcode;
                console.log('finish '+i+' loop in retailers qry');
            }               
        }, function(err){console.log(err)})     
    } 
```

这就是我填充数组的方式，这里是 AJAX 请求：

```
 function(){
            console.log('start orders qry success callback');
            //alert(orderDetails['retailer'][0]['localID']);
            var st = JSON.stringify(orderDetails['retailer']);
            console.log(st);

            $.ajax({//send retailer to server, bring back the ID of the retailer as it is on the server so we can insert it into the order
                type: "POST",
                cache: false,
                //async: false,
                url: "https://www.......processOrder.php",
                data: { orderType: 'saved', orderDetails: st},
                dataType: "json",
                success: function(result){

                } 
            })
        }); 
```

当我在 ajax 请求之前记录上面的内容时，它会返回`[[],[],[],[],[],[],[],[],[],[],[]]`，所以我知道某些东西正在工作，我只是认为对象的全部内容将在服务器端可见。

此外，我将整个内容包装在一个匿名函数中，因为我认为这有助于数组变量范围。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T10:53:43.983

把这个改成
`orderDetails['retailer'][i] = [];`
这个
`orderDetails['retailer'][i] = {};`

如果您`item`不是要使用参数调用的函数`i`，请像这样访问它：`results.rows.item[i].ID`

# javascript - 在 UIWebiew 中用 UIImage 替换图像源

> ID：15245171
> 
> 赞同：2
> 
> 时间：2013-03-06T10:45:26.017
> 
> 标签：javascript, html, ios, css, uiwebview

我正在编写一个应用程序来解析嵌入图像和数据的 HTML 字符串。我可以使用 SDWebImage 来缓存图像部分以供以后使用，并且缓存完美。但是，我需要使用缓存的图像 (UIImage) 作为 html 字符串中的 src 的替换。我认为这可以通过一些 javascript 代码来完成，但在涉及 javascript 和 css 时，我是一个彻头彻尾的笨蛋。有人可以给我一些 javascript 代码来将图像 src 更改为此 UIImage 吗？

缓存图像的代码：

```
-(NSString *)fetchImageUrlFromSummary:(NSString *)summaryData
{
    NSError *error = nil;
    NSString *urlString = [NSString string];
    HTMLParser *parser = [[HTMLParser alloc]initWithString:summaryData error:&error];
    if (error) {
        NSLog(@"%@", error);
        return nil;
    }
    HTMLNode *bodyNode = [parser body];
    NSArray *inputNodes = [bodyNode findChildTags:@"img"];
    for (HTMLNode *inputNode in inputNodes) {
            //NSLog(@"%@", [inputNode getAttributeNamed:@"src"]);
        if ([[inputNode getAttributeNamed:@"src"]hasSuffix:@"png"] ||
            [[inputNode getAttributeNamed:@"src"]hasSuffix:@"jpg"]||
            [[inputNode getAttributeNamed:@"src"]hasSuffix:@"jpeg"]) {
            urlString = [inputNode getAttributeNamed:@"src"];
            [SDWebImagePrefetcher.sharedImagePrefetcher prefetchURLs:[NSArray arrayWithObject:urlString]];
        }
    }
    return urlString;
} 
```

在 uiwebview 中设置摘要字符串的代码：

```
NSString *summaryString = [[NSString alloc]initWithData:[_htmlData summary] encoding:NSUTF8StringEncoding];
        NSString *myDescriptionHTML = [NSString stringWithFormat:@"<html><head><style type=\"text/css\"> div{text-align:justify;text-justify:inter-word;margin:auto}
img {max-width:100%%;width:auto;height:auto;}body{font-family: Verdana;font-size: 12pt;max-width: 100%%; width:auto; height:auto;}
<body bgcolor=\"#F5F5DC\"></style><body>%@</body></html>", summaryString];
        [_webView loadHTMLString:myDescriptionHTML baseURL:[NSURL URLWithString:[_htmlData originUrl]]]; 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-07T08:28:58.953

我终于用下面的代码解决了这个问题。这可能效率低下，但这是我目前所能得到的。

```
__block NSData *imageData = [NSData data];
        SDImageCache *imageCache = [SDImageCache sharedImageCache];
        [imageCache queryDiskCacheForKey:_articles.articleImageURL done:^(UIImage *image, SDImageCacheType cacheType)
         {

             imageData = UIImagePNGRepresentation(image);
             NSMutableString *summaryString = [[NSMutableString alloc]initWithData:[_articles articleSummary] encoding:NSUTF8StringEncoding];
         NSString *headerString = [NSString stringWithFormat:@"<html><head><style type=\"text/css\"> div{text-align:justify;text-justify:inter-word;margin:auto}img {max-width:100%%;width:auto;height:auto;}body{font-family: Verdana;font-size: 12pt;max-width: 100%%; width:auto; height:auto;}<body bgcolor=\"#F5F5DC\"></style><body>"];
         if (image) {
             NSRegularExpression *regex = [NSRegularExpression regularExpressionWithPattern:@"<img[^>]*>"
                                                                                    options:NSRegularExpressionCaseInsensitive
                                                                                      error:nil];
             [regex replaceMatchesInString:summaryString
                                   options:0
                                     range:NSMakeRange(0, summaryString.length)
                              withTemplate:@""];

             NSString *imageSource = [NSString stringWithFormat:@"data:image/png;base64,%@",[imageData base64Encoding]];
             NSString *imageSOruceWithTag  = [NSString stringWithFormat:@"<img src='%@' />", imageSource];
             NSMutableString *myDescriptionHTML = [NSMutableString stringWithFormat:@"%@%@%@</body></html>",headerString, imageSOruceWithTag,summaryString];
             [_webView loadHTMLString:myDescriptionHTML baseURL:[NSURL URLWithString:[_articles originUrl]]];
         }
         else {
             NSString *descriptionHTML = [NSString stringWithFormat:@"%@%@</body></html>",headerString,summaryString];
             [_webView loadHTMLString:descriptionHTML baseURL:[NSURL URLWithString:[_articles originUrl]]]; 
```

# actionscript-3 - 无法在 swf 中加载图像

> ID：15245176
> 
> 赞同：0
> 
> 时间：2013-03-06T10:45:47.487
> 
> 标签：actionscript-3, bitmap, loader

将图像加载到 swf 文件时出现错误。这是我的代码：

```
 private var loader:Loader = new Loader(  );
    public function Battle()
    {
        loader.contentLoaderInfo.addEventListener(Event.COMPLETE, onComplete);
        loader.load(new URLRequest("http://www.google.com.vn/images/srpr/logo4w.png"));
    }
    private function onComplete(event:Event):void
    {

        addChild(loader);
     } 
```

非常好，谷歌的标志出现了。但我需要操纵图像已加载的像素。我添加一个图像位图：

```
 private var loader:Loader = new Loader(  );
    private var image:Bitmap;

    public function Battle()
    {
        loader.contentLoaderInfo.addEventListener(Event.COMPLETE, onComplete);
        loader.load(new URLRequest("http://www.google.com.vn/images/srpr/logo4w.png"));
    }
    private function onComplete(event:Event):void
    {

        image =  Bitmap(loader.content);
        this.addChild(image);

    } 
```

什么都没有出现。我在互联网上找不到任何解决方案。我尝试检测：

```
private function onComplete(event:Event):void
    {

        image =  Bitmap(loader.content);
        //after above line, rest of function never run
        addChild(image);   // <-- no run @@
        trace("this no run"); // <-- no run @@
    } 
```

我使用 Flash Builder 4 并且没有错误或任何警告。有人可以告诉我一个解决方案吗？感谢阅读。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T11:07:26.453

如果图像与您的应用程序位于不同的域中，则您无法访问图像的像素数据（并且没有`crossdomain`策略文件）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T13:20:55.353

1 您需要 Google 网站上的 crossdomain.xml :)

2 您需要使用检查策略：

```
var context:LoaderContext = new LoaderContext();
context.checkPolicyFile = true;
loader.contentLoaderInfo.addEventListener(Event.COMPLETE, onComplete);
loader.load(new URLRequest("http://www.google.com.vn/images/srpr/logo4w.png"), context); 
```

但它只有在谷歌添加跨域时才有效。

3 您可以在您的域上使用少量服务器端代理。Flash 调用代理以获取带有您的 url 的文件，代理下载它并返回到 flash...

# javascript - 在 Javascript 中访问全局变量时出现问题

> ID：15245178
> 
> 赞同：0
> 
> 时间：2013-03-06T10:45:52.660
> 
> 标签：javascript

我无法在第二个函数中访问 NatArray[ ]，并且第二个函数中的 u4count 为 0。可能是什么原因？

```
<script type="text/javascript">

var NatArray = [];
var NatArrayloc = [];
var u4count = 0;

function Check1()
{
NatArray[0] = 202116108;
NatArrayloc[0] = 202116109;
NatArray[1] = 202116111;
NatArrayloc[1] = 202116112;
NatArray[2] = 202116113;
NatArrayloc[2] = 202116114;
u4count = 3;
}
function Check()
{
 alert("coming here" + u4count + "natentry" + NatArray[0] );
}
</script> 
```

提前致谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T10:49:02.393

按预期为我工作。在这种情况下，调用函数**的顺序****很重要：**

```
var NatArray = [];
var NatArrayloc = [];
var u4count = 0;

function Check1() {
    NatArray[0] = 202116108;
    NatArrayloc[0] = 202116109;
    NatArray[1] = 202116111;
    NatArrayloc[1] = 202116112;
    NatArray[2] = 202116113;
    NatArrayloc[2] = 202116114;
    u4count = 3;
}

function Check() {
    alert("coming here " + u4count + " natentry " + NatArray[0]);
}

Check1();
Check(); 
```

正如一些回答用户发现的那样，未封闭的内联评论不好，但不是您的问题的原因。[关于内联代码中的注释](https://developer.mozilla.org/en-US/docs/Properly_Using_CSS_and_JavaScript_in_XHTML_Documents#Use_of_Comments_Inside_Inline_style_and_script)

[http://fiddle.jshell.net/r8sKf/](http://fiddle.jshell.net/r8sKf/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-06T10:57:26.393

您可以调用这 2 个函数，`window.onload`这样它就会调用第二个函数以及警报`NatArray[ ]`中的警报和值。

尝试这样的事情：

```
var NatArray = [];
var NatArrayloc = [];
var u4count = 0;

function Check1() {
    NatArray[0] = 202116108;
    NatArrayloc[0] = 202116109;
    NatArray[1] = 202116111;
    NatArrayloc[1] = 202116112;
    NatArray[2] = 202116113;
    NatArrayloc[2] = 202116114;
    u4count = 3;
}

function Check() {
    alert("coming here " + u4count + " natentry " + NatArray[0]);
}

 window.onload=function(){
        Check1();
        Check();
    }; 
```

* * *

## 回答 #3

> 赞同：-2
> 
> 时间：2013-03-06T10:49:45.157

干得好：

[http://jsfiddle.net/R23eD/](http://jsfiddle.net/R23eD/)

~~您需要`<!--`从脚本启动中删除 。而且您也没有调用`Check1()`函数来初始化值~~

# php - 使用堆栈跟踪记录捕获的异常

> ID：15245184
> 
> 赞同：61
> 
> 时间：2013-03-06T10:46:23.263
> 
> 标签：php, exception, logging

如果我没有在 PHP 中捕获异常，我会在我的`error.log`文件中收到一条有用的错误消息，其中包含堆栈跟踪。例如，如果我运行：

```
<?php

  function foo() {
    throw new Exception('Oh no!');
  } 

  foo();

?> 
```

然后我把它写到我的日志中：

> [2013 年 3 月 6 日星期三 10:35:32] [错误] [客户端 86.146.145.175] PHP 致命错误：未捕获的异常“异常”，消息“哦，不！” 在 /var/www/test.php:4\n堆栈跟踪：\n#0 /var/www/test.php(7): foo()\n#1 {main}\n 抛出 /var/www/第 4 行的 test.php

有时我想捕捉异常但仍记录该详细信息。我在想像：

```
<?php

  function foo() {
    throw new Exception('Oh no!');
  } 

  try {
      foo();
  } catch (Exception $e) {
      log_exception($e);
  }

?> 
```

where`log_exception`将以与为未捕获的异常自动写入的格式基本相同的格式向错误日志写入内容 - 除了具有`Caught exception`而不是`PHP Fatal error: Uncaught exception`.

是否有内置函数可以记录这样的异常信息，或者将其捕获到字符串中？我在想象一些类似于`traceback.format_exc()`Python 的东西。

* * *

## 回答 #1

> 赞同：85
> 
> 时间：2014-11-11T14:21:32.000

```
error_log($e); 
```

做你想做的事。它记录的内容与您未捕获异常时记录的内容完全相同，只是在开头减去“未捕获”一词。它这样做是因为这就是[`Exception`类的`__toString()`魔法​​方法](http://php.net/manual/en/exception.tostring.php)返回的内容。

您可以在一个`catch`块中执行此操作：

```
try {
    foo();
} catch (Exception $e) {
    error_log("Caught $e");
} 
```

或者在异常处理程序中：

```
set_exception_handler(function($exception) {
    error_log($exception);
    error_page("Something went wrong!");
}); 
```

* * *

## 回答 #2

> 赞同：10
> 
> 时间：2013-03-06T10:55:43.350

您可以使用[PHP 基`Exception`类](https://www.php.net/manual/en/class.exception.php)中的方法。

用于`getMessage`获取消息`Oh no!`并用于`getTraceAsString`获取格式化的跟踪。

* * *

## 回答 #3

> 赞同：7
> 
> 时间：2018-03-23T09:53:53.003

我们使用 Monolog 在我们的应用程序中进行日志记录。Monolog 有一个可以打印堆栈跟踪的格式化程序。要使用跟踪记录异常，我们使用 LineFormatter 并在其上调用 includeStacktraces()。（下面的代码）

```
$handler = new \Monolog\Handler\StreamHandler(STDOUT);

$lineFormatter = new \Monolog\Formatter\LineFormatter();
$lineFormatter->includeStacktraces();

$handler->setFormatter($lineFormatter);

$logger = new \Monolog\Logger('root', [$handler]);

try {
    //do some throwing
} catch (Exception $e) {
    //do some logging, add exception to context
    $logger->error($e->getMessage(), ['exception' => $e]);
} 
```

* * *

## 回答 #4

> 赞同：-3
> 
> 时间：2013-03-06T11:00:32.103

您可以使用[http://php.net/manual/en/function.set-exception-handler.php](http://php.net/manual/en/function.set-exception-handler.php)注册一个回调函数，该函数将从 $e->getMessage(); 获取消息 并将其转储到文件中。

# actionscript-3 - 如何在flex中更改按钮的labelDisplay xy位置

> ID：15245189
> 
> 赞同：1
> 
> 时间：2013-03-06T10:46:31.357
> 
> 标签：actionscript-3, apache-flex, flex4, flex3, flex4.5

我想更改 flex 4.5 移动应用程序中火花按钮组件的字体位置。目前 flex 默认在按钮中间显示字体。但我想将字体位置更改为其他位置。我尝试覆盖覆盖方法layoutContents。但我得到了两种字体。谁能帮我。

```
<s:Button label="Test &#13; TestGreenGo" skinClass="skins.RoundedButtonSkin"/> 
```

这是我的 RoundedButtonSkin 类

```
package skins
{
    import spark.skins.mobile.ButtonSkin;

    public class RoundedButtonSkin extends ButtonSkin
    {

        private var colorized:Boolean = false;

        public function RoundedButtonSkin()
        { 
            super(); 

            measuredDefaultHeight = 44;
            measuredDefaultWidth = 220; 
        }

        override protected function layoutContents(unscaledWidth:Number, unscaledHeight:Number):void
        {
            super.layoutContents(unscaledWidth, unscaledHeight);
            setElementPosition(upBorderSkin, 0, 0);
            setElementSize(upBorderSkin, unscaledWidth, unscaledHeight);
            setElementPosition(labelDisplay,0,0);
            invalidateDisplayList();
            validateNow();
        }
    } 
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-06T12:08:39.997

我得到了解决方案。

也需要添加 labelDisplayShadow

```
setElementPosition(labelDisplay,0,3);
setElementPosition(labelDisplayShadow, labelDisplay.x, labelDisplay.y + 1); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T11:03:43.670

我认为你应该尝试`labelPlacement`或`textAlign`按钮的属性。您还可以添加`top,left,right,bottom`属性来控制文本位置。希望这对你有用。

如果你`<s:label />`在皮肤中添加一个。然后您可以使用`maxDisplayedLine="2"`标签组件的属性将您的文本分为 2 行。

或者尝试制作这样的皮肤

```
<s:SparkButtonSkin xmlns:fx="http://ns.adobe.com/mxml/2009" 
                   xmlns:s="library://ns.adobe.com/flex/spark" 
                   xmlns:fb="http://ns.adobe.com/flashbuilder/2009"
                   minWidth="21" minHeight="21" 
                   alpha.disabled="0.5">

    <fx:Metadata>
        <![CDATA[ 
        /** 
        * @copy spark.skins.spark.ApplicationSkin#hostComponent
        */
        [HostComponent("spark.components.Button")]
        ]]>
    </fx:Metadata>

    <fx:Script fb:purpose="styling">
        <![CDATA[         
            import spark.components.Group;
            /* Define the skin elements that should not be colorized. 
            For button, the graphics are colorized but the label is not. */
            static private const exclusions:Array = ["labelDisplay"];

            /** 
             * @private
             */     
            override public function get colorizeExclusions():Array {return exclusions;}

            /**
             * @private
             */
            override protected function initializationComplete():void
            {
                useChromeColor = true;
                super.initializationComplete();
            }  

            /**
             *  @private
             */

            override protected function updateDisplayList(unscaledWidth:Number, unscaledHeight:Number) : void
            {
                var cr:Number = getStyle("cornerRadius");

                if (cornerRadius != cr)
                {
                    cornerRadius = cr;
                    shadow.radiusX = cornerRadius;
                    fill.radiusX = cornerRadius;
                    lowlight.radiusX = cornerRadius;
                    highlight.radiusX = cornerRadius;
                    border.radiusX = cornerRadius;
                }

                if (highlightStroke) highlightStroke.radiusX = cornerRadius;
                if (hldownstroke1) hldownstroke1.radiusX = cornerRadius;
                if (hldownstroke2) hldownstroke2.radiusX = cornerRadius;

                super.updateDisplayList(unscaledWidth, unscaledHeight);
            }

            private var cornerRadius:Number = 5;

        ]]>        
    </fx:Script>

    <!-- states -->
    <s:states>
        <s:State name="up" />
        <s:State name="over" />
        <s:State name="down" />
        <s:State name="disabled" />
        <s:State name="selected" />
    </s:states>

    <!-- layer 1: shadow -->
    <!--- @private -->
    <s:Rect id="shadow" left="0" right="0" top="0" bottom="0" radiusX="0">

    </s:Rect>

    <!-- layer 2: fill -->
    <!--- @private -->
    <s:Rect id="fill" left="1" right="1" top="1" bottom="1" topLeftRadiusX="10" topLeftRadiusY="10" bottomLeftRadiusX="10" bottomLeftRadiusY="10"
                topRightRadiusX="10" topRightRadiusY="10" bottomRightRadiusX="10" bottomRightRadiusY="10">
        <s:fill>
                <s:LinearGradient rotation="90">
                    <s:GradientEntry color="0xc9d8e2"  color.selected="0xe7f1f8" color.down="0xe7f1f8"
                                     color.disabled="0xb4b4b4" color.over="0xdbe9f3"
                                     />

                    <s:GradientEntry color="0xa1bbcd" color.over="0xdbe9f3" color.down="0xe2e9ed"
                                     color.disabled="0xb4b4b4" color.selected="0xc8d7e1"
                                     />
                </s:LinearGradient>
        </s:fill>

    </s:Rect>

    <!-- layer 3: fill lowlight -->
    <!--- @private -->
    <s:Rect id="lowlight" left="1" right="1" top="1" bottom="1" topLeftRadiusX="10" topLeftRadiusY="10" bottomLeftRadiusX="10" bottomLeftRadiusY="10">

    </s:Rect>

    <!-- layer 4: fill highlight -->
    <!--- @private -->
    <s:Rect id="highlight" left="1" right="1" top="1" bottom="1" topLeftRadiusX="10" topLeftRadiusY="10" bottomLeftRadiusX="10" bottomLeftRadiusY="10">

    </s:Rect>

    <!-- layer 5: highlight stroke (all states except down) -->
    <!--- @private -->
    <s:Rect id="highlightStroke" left="1" right="1" top="1" bottom="1" excludeFrom="down" topLeftRadiusX="10" topLeftRadiusY="10" bottomLeftRadiusX="10" bottomLeftRadiusY="10"
            topRightRadiusX="10" topRightRadiusY="10" bottomRightRadiusX="10" bottomRightRadiusY="10">
        <s:stroke>
            <s:SolidColorStroke color="0xffffff" color.over="#40608f" alpha="0.3" weight="0" weight.over="1" alpha.over="0.7">
            </s:SolidColorStroke>
            <!--<s:LinearGradientStroke rotation="90" weight="1">
            <s:GradientEntry color="0x57626f" alpha="0.22" alpha.over="0.22" />
            <s:GradientEntry color="0x586678" alpha.over="0.22" />
            </s:LinearGradientStroke>-->
        </s:stroke>
    </s:Rect>

    <!-- layer 6: highlight stroke (down state only) -->
    <!--- @private -->
    <s:Rect id="hldownstroke1" left="1" right="1" top="1" bottom="1" topLeftRadiusX="10" topLeftRadiusY="10" bottomLeftRadiusX="10" bottomLeftRadiusY="10" includeIn="down">
        <s:stroke>
            <s:LinearGradientStroke rotation="90" weight="1">
                <s:GradientEntry color="0x000000" alpha="0.25" ratio="0.0" />
                <s:GradientEntry color="0x000000" alpha="0.25" ratio="0.001" />
                <s:GradientEntry color="0x000000" alpha="0.07" ratio="0.0011" />
                <s:GradientEntry color="0x000000" alpha="0.07" ratio="0.965" />
                <s:GradientEntry color="0x000000" alpha="0.00" ratio="0.9651" />
            </s:LinearGradientStroke>
        </s:stroke>
    </s:Rect>
    <!--- @private -->
    <s:Rect id="hldownstroke2" left="2" right="2" top="2" bottom="2" topLeftRadiusX="10" topLeftRadiusY="10" bottomLeftRadiusX="10" bottomLeftRadiusY="10" includeIn="down">
        <s:stroke>
            <s:SolidColorStroke color="0x2c2c2c" alpha=".56" weight="0.1">

            </s:SolidColorStroke>
            <!--<s:LinearGradientStroke rotation="90" weight="1">
            <s:GradientEntry color="0x000000" alpha="0.09" ratio="0.0" />
            <s:GradientEntry color="0x000000" alpha="0.00" ratio="0.0001" />
            </s:LinearGradientStroke>-->
        </s:stroke>
    </s:Rect>

    <!-- layer 7: border - put on top of the fill so it doesn't disappear when scale is less than 1 -->
    <!--- @private -->
    <s:Rect id="border" left="0" right="0" top="0" bottom="0" width="69" height="20" topLeftRadiusX="10" topLeftRadiusY="10" bottomLeftRadiusX="10" bottomLeftRadiusY="10">

    </s:Rect>

    <!-- layer 8: text -->
    <!--- @copy spark.components.supportClasses.ButtonBase#labelDisplay  -->
    <s:Label id="labelDisplay"
             textAlign="center"
             maxDisplayedLines="1" color="0x3d6295" fontWeight="bold"
             horizontalCenter="0" verticalCenter="1" verticalAlign="middle"
             left="10" right="10" top="2" bottom="2">
    </s:Label>

</s:SparkButtonSkin> 
```

# c# - 使用后台任务使用 Web 服务数据更新动态磁贴

> ID：15245190
> 
> 赞同：0
> 
> 时间：2013-03-06T10:46:39.153
> 
> 标签：c#, .net, windows-8, windows-runtime, windows-store-apps

我想知道是否可以从后台任务在我的应用程序中运行方法？，而不仅仅是后台任务中的代码。我问的原因是我有一个后台任务，我想用来自网络服务器的数据更新我的活动磁贴。我将 web 服务调用放在后台任务中，如下所示：

```
public sealed class TileUpdater : IBackgroundTask
{
    public async void Run(IBackgroundTaskInstance taskInstance)
    {
        ServiceReference.WebServiceSoapClient test = new ServiceReference.WebServiceSoapClient();
        var nb = await test.GetLatestDataAsync("temp");
        double temperature = nb.Value;
        string unit = nb.Unit;
        string latestTemp = " " + nb.Value + " " + nb.Unit;

        var defferal = taskInstance.GetDeferral();

        var updater = TileUpdateManager.CreateTileUpdaterForApplication();
        updater.EnableNotificationQueue(true);

        updater.Clear();

        for (int i = 1; i < 6; i++)
        {
            var tile = TileUpdateManager.GetTemplateContent(TileTemplateType.TileSquareText02);
            tile.GetElementsByTagName("text")[0].InnerText = "Tile " + latestTemp;
            tile.GetElementsByTagName("text")[1].InnerText = DateTime.Now.ToString("hh-mm");

            updater.Update(new TileNotification(tile));
        }

        defferal.Complete();
    }
} 
```

但是，当我运行该应用程序时，什么也没有发生，并且我没有收到错误。似乎它在调用 Web 服务时停止。无论如何我可以让后台任务调用应用程序代码中的方法吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-07T05:50:16.200

您是否尝试过在调试器中运行后台任务以确保不会发生错误？`Debug Location`组合框旁边的工具栏中有一个下拉按钮`Process`，您可以使用它。只需启动您的应用程序，然后在下拉按钮中单击您的后台任务的名称。

![在此处输入图像描述](../Images/01704e477bc04d9e2ee4f168780fca05.png)

它的`Run`方法将立即开始执行，您将能够像您的应用程序代码一样对其进行调试。我想您想从任务中调用应用程序中现有方法的主要原因是能够正确调试它。

[您可以在 MSDN 上的这篇文章](http://msdn.microsoft.com/en-us/library/windows/apps/jj542415.aspx)中找到有关调试任务的更多详细信息。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T14:04:26.493

这里没有太多事情要做，所以我猜测一下。我的建议 - 将这`GetDeferral`条线移到第一位：

```
public async void Run(IBackgroundTaskInstance taskInstance)
{
    var defferal = taskInstance.GetDeferral();

    ServiceReference.WebServiceSoapClient test = new ServiceReference.WebServiceSoapClient();
    var nb = await test.GetLatestDataAsync("temp");
    double temperature = nb.Value;
    string unit = nb.Unit;
    string latestTemp = " " + nb.Value + " " + nb.Unit;

    // move up
    // var defferal = taskInstance.GetDeferral();
    ... 
```

# vba - 更改字体/段落间距/更改幻灯片大小 VBA Powerpoint 2013

> ID：15245195
> 
> 赞同：1
> 
> 时间：2013-03-06T10:47:01.280
> 
> 标签：vba, powerpoint

我想对 Powerpoint 2013 中的演示文稿做几件事：

*   将字体更改为所有文本为“Times New Roman”，大小为 53，粗体
*   将段落间距更改为 0
*   将幻灯片尺寸更改为 27.508 x 19.05 厘米

这就是我所拥有的：

```
Sub use()

 Dim oSl As Slide
 Dim osh As Shape
 For Each oSl In ActivePresentation.Slides
    For Each osh In oSl.Shapes
        If osh.HasTextFrame Then
        With osh.TextFrame.TextRange
           .ParagraphFormat.Alignment = ppAlignCenter
           .ParagraphFormat.SpaceBefore = 0
        End With
        With osh.TextFrame.TextRange
           With .Font
           .Name = "Times New Roman"
           .Italic = False
           .Size = "53"
           End With
        End With
        With ActivePresentation.PageSetup
        .SlideHeight = 19.05
        .SlideWidth = 27.508

        End If
 Next
 Next ' slide

End Sub 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-06T12:13:45.437

这是按要求工作的最终版本：

```
Sub use()

Dim s As Slide
Dim shp As Shape

For Each s In ActivePresentation.Slides

    For Each shp In s.Shapes
        If shp.HasTextFrame Then
            With shp
            .TextFrame.TextRange.Font.Name = "Times New Roman"
            .TextFrame.TextRange.Font.Size = 53
            .TextFrame.TextRange.Font.Bold = True

                With .TextFrame.TextRange
                 .ParagraphFormat.SpaceBefore = 0
                 End With

            End With
            With ActivePresentation.PageSetup
            .SlideWidth = 779.754330709
            .SlideHeight = 540
            End With

        End If
    Next shp

Next s
End Sub 
```

# java - 当变量声明为 Long 时，Primefaces 所选行为空

> ID：15245197
> 
> 赞同：4
> 
> 时间：2013-03-06T10:47:03.597
> 
> 标签：java, jsf, jsf-2, primefaces

我在 ManagedBean 中有以下内容

```
private Employee selectedEmployee; // with getter and setter    

public void onRowSelect(SelectEvent event) {

System.out.println("selected employee "+selectedEmployee.getEmployeeNumber());

} 
```

我的问题出在`Employee`Entity 类中，如果我`employeeNumber`从`String`to 开始`Long`，我在ManagedBean`selectedEmployee`的方法中得到 null`onRowSelect`

**员工实体**类

```
private String employeeNumber; // this works  

private Long employeeNumber; // this doesn't work 
```

这可能是什么原因？

用于选择的 JSF 代码

```
 <p:dataTable id="dataTable" var="emp" lazy="true"
value="#{myMB.lazyModel}" styleClass="userDataTableStyle"
paginator="true" paginatorPosition="bottom" rows="5"
selection="#{myMB.selectedEmployee}">

    <p:ajax event="rowSelectRadio" listener="#{myMB.onRowSelect}"
update=":myform:details" /> 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2014-10-28T11:15:59.743

1.  您必须在`rowKey`字段中有一个有效的主键。
2.  您必须将 包含在`dataTable`表单中。

否则返回集合（空）。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-03-06T14:48:15.210

在使用选择时，`dataTable`您应该提供`rowKey`属性，该属性将用于查找在列表中选择的实际对象。这应该是列表中所有数据唯一的属性（可能是数据库中的主键）：

```
rowKey="#{emp.employeeNumber}" 
```

我不知道这与 String 一起使用的实际原因。也许那是你`toString()`方法的一部分？

# javascript - 按需加载元素后未触发主干事件

> ID：15245198
> 
> 赞同：0
> 
> 时间：2013-03-06T10:47:05.733
> 
> 标签：javascript, backbone.js, user-interface, view

我根据需要在单页应用程序中使用主干和延迟加载视图。但是，这样做似乎会混淆主干在设置事件时知道我的“el”是什么的方式。使用下面的视图定义，我试图获取在提交按钮单击或输入字段更改时触发的代码，但现在，两者似乎都不起作用。

```
$(document).ready(function () {

editaddressView = Backbone.View.extend({

    elementReady: false,

    initialize: function () {
        this.model = window.AccountData;

        this.listenTo(this.model, "change", this.render);

        if ($('#section-editaddress').length == 0) {
            // Load UI
            $('#ajax-sections').prepend('<div class="section" id="section-editaddress" style="display: none;"></div>');
        }
        this.el = $('#section-editaddress');
    },

    events: {
        "click #edit-address-submit": "beginSaving",
        "change input": "updateModel",
        "change select": "updateModel"
    },

    render: function () {
        $(this.el).find("[name=address]").val(this.model.get('owner_address1'));

        // ...

        return this;
    },

    switchTo: function () {
        // Set menu state
        $('.js-NavItem').removeClass('active');
        $('#sN-li-personal').addClass('active');

        if (this.options.isPreLoaded)
            this.elementReady = true;

        if (this.elementReady) {
            this.renderSwitch();
        }
        else {
            var model = this;
            $('#section-editaddress').load('/ajax/ui/editaddress', function (response, status, xhr) {
                if (status == "error") {
                    $('#page-progress-container').fadeOut('fast', function () {
                        $('#page-load-error').fadeIn('fast');
                    });
                } else {
                    $('#section-editaddress').find('.routedLink').click(function (e) {
                        window.Router.navigate($(this).attr('href'), true);
                        return false;
                    });
                    model.delegateEvents();
                    model.elementReady = true;
                    model.render(); // First render
                    model.renderSwitch();
                }
            });
        }
    },

    renderSwitch: function () {
        // Abort showing loading progress if possible
        if (window.firstRunComplete) {
            clearTimeout(window.pageHide);
            // Change screen - Fade progress if needed
            $('#page-progress-container').fadeOut('fast', function () {
                $('#page-load-error').fadeOut('fast');
                var sections = $(".section");
                var numSections = sections.length;
                var i = 0;
                sections.hide('drop', { easing: 'easeInCubic', direction: 'left' }, 350, function () {
                    i++;
                    if (i == numSections) {
                        $('#section-editaddress').show('drop', { easing: 'easeInExpo', direction: 'right' }, 350).removeClass('hidden');
                        $.scrollTo($('#contentRegion'), 250, { margin: true });
                    }
                });
            });
        }

        // Switch complete
        window.changingPage = false;
    },

    updateModel: function () {
        var changedItems = {};
        if (this.model.get('csrf') != $(this.el).find("[name=csrf]").val())
            changedItems.csrf = $(this.el).find("[name=csrf]").val();
        // ...
    },

    beginSaving: function () {
        alert('test');
    }

});
}); 
```

谁能看到我错过了什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T14:58:32.867

每当您需要手动更改或修改 BackboneJS 视图的 DOM 元素时，您应该使用[setElement](http://backbonejs.org/#View-setElement)而不是直接设置属性。它将所有事件处理程序移动到新附加的 DOM 元素并设置`$el`属性。此外，该函数还分离任何现有的事件处理程序。

因此，在您粘贴的代码中，您只需将其更改为：

```
this.setElement($('#section-editaddress')); 
```

# android - Android ListView onItemClickListener 不适用于不可点击的 EditText

> ID：15245200
> 
> 赞同：0
> 
> 时间：2013-03-06T10:47:25.847
> 
> 标签：android, android-listview, android-edittext

我得到了一个 ListView，每行包含一个 ImageView 和一个 EditText。它们都是不可点击的，但 onItemClick 只适用于 ImageView，而不适用于 EditText。请帮忙。

下面是ListView的行：

```
 <ImageView
        android:id="@+id/img_item_info"
        android:cursorVisible="false"
        android:clickable="false"
        android:focusable="false"
        android:focusableInTouchMode="false"
        android:layout_width="@dimen/icon_32"
        android:layout_height="@dimen/icon_32" />

   <EditText
        android:id="@+id/edt_browser_item"
        android:singleLine="true"
        android:background="@drawable/browser_textview_style"
        android:layout_marginLeft="@dimen/margin_between_image_textview"
        android:inputType="none"
        android:scrollHorizontally="true"
        android:cursorVisible="false"
        android:clickable="false"
        android:focusable="false"
        android:focusableInTouchMode="false"
        android:layout_width="fill_parent"
        android:layout_height="wrap_content" >
    </EditText>
</LinearLayout> 
```

此致，

安东尼

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T12:33:45.150

```
android:focusable="true"
android:focusableInTouchMode="true" 
```

在两个视图上（Imageview 和 edittext）

现在您可以选择图像视图并编辑编辑文本。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T15:15:50.577

你为什么使用 EditText 并试图阻止它？如果您想获得不可点击的 EditText，只需使用 TextView。

# asp.net - 调用 Page_ClientValidate JS 函数后不显示错误消息

> ID：15245207
> 
> 赞同：2
> 
> 时间：2013-03-06T10:47:44.343
> 
> 标签：asp.net, validation

我正在开发一个 ASP .Net Web 应用程序。
我的 ASPX 页面之一包含一个自定义 TextBox 控件。

3 个验证控件应用于 TextBox ：

*   1 必填字段验证器
    *   错误消息="*"
    *   显示="动态"
    *   ValidationGroup="IdentityRequired"
*   2 比较验证器：
    *   错误消息="*"
    *   ValidationGroup="身份"

提交表单时执行自定义 JS 函数。
自定义 JS 函数包含以下 2 个语句：

```
var b_RegExp = window.Page_ClientValidate('Identity');
var b_Required = window.Page_ClientValidate('IdentityRequired'); 
```

当 b_Required 为 false 时，会显示由 RequiredFieldValidator => OK 引起的星号！
当 b_RegExp 为 false 时，不显示星号 => KO ！
任何人都可以向我解释什么是错的吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T19:27:38.260

似乎最后一次调用 window.Page_ClientValidate 确定了要显示的错误消息。
即使在 Identity 组中检测到错误，也不会显示错误消息（星号），因为最后一次调用 window.Page_ClientValidate 在 IdentityRequired 组中没有检测到错误。

所以我改变了我的两个 JS 语句如下：

```
var b_Required = window.Page_ClientValidate('IdentityRequired');
var b_RegExp = false;
if (b_Required)
    b_RegExp = window.Page_ClientValidate('Identity'); 
```

我已将 Display="Dynamic" 添加到我的 2 个 CompareValidator 控件的标记中。

# c# - 需要帮助了解此 HTTP GET 请求

> ID：15245214
> 
> 赞同：1
> 
> 时间：2013-03-06T10:47:53.793
> 
> 标签：c#, oauth, https, get

我正在尝试构建满足以下条件的 HTTP GET Web 请求

```
 GET /v1/session  
 Host: developer.messenger.yahooapis.com  
 Authorization: < Standard OAuth credentials > 
```

根据我对获取请求的了解，它们是这样的：

```
https://someaddress.com/&parameterA=valA&parameterB=valB 
```

其中 parameterA 和 parameterB 是所需的参数。

现在我想为上述标准构建一个类似的地址。我怎样才能做到这一点。我相信地址会是`https://developer.messenger.yahooapis.com`但是我不确定这种获取请求的其他要求是什么。如果有人可以剖析并指定上述（最高）获取请求的要求，我将不胜感激，这样我就可以构造一个有效的 GET 请求 URI。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T10:52:58.580

[https://developer.messenger.yahooapis.com](https://developer.messenger.yahooapis.com) 所以你的请求网址应该像

[https://developer.messenger.yahooapis.com?parameterA=valA¶meterB=valB](https://developer.messenger.yahooapis.com?parameterA=valA&parameterB=valB)

您在 $_GET 数组中获取数据，只需添加 print_r($_GET)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T11:08:14.223

对于请求，您需要一个 URL，例如

```
https://developer.messenger.yahooapis.com 
```

*但那*只是主机名。你需要指定一个你想要`GET`喜欢的资源`/v1/session`，所以你的 URL 是

```
https://developer.messenger.yahooapis.com/v1/session 
```

如果你想传递一些参数，你必须表明 URL 的指向部分已经完成。你用一个`?`. 现在要添加参数，您基本上添加名称-值对，例如`var1=value`. 对于多个参数，使用 a`&`来分隔它们。一起拍打你会得到一个

```
https://developer.messenger.yahooapis.com/v1/session?var1=value&var2=value 
```

作为网址。现在把它交给你的 HttpGet 方法。

HttpGet 现在将构建一个`request`，然后将其发送到`https://developer.messenger.yahooapis.com`主机/服务器，主机/服务器会将资源返回给您的客户端。要告诉主机您有权访问该资源，请求必须包含必要的登录信息，这就是`oAuth`目的。在执行 get-request 之前，必须在请求标头中添加这些凭据。

# internet-explorer-8 - IE8 强制文档模式为 IE7 标准

> ID：15245215
> 
> 赞同：2
> 
> 时间：2013-03-06T10:47:54.137
> 
> 标签：internet-explorer-8

对于我的网络应用程序，我使用 IE8 作为标准浏览器。有时浏览器将文档模式设置为 IE-7 标准。

我已经尝试过 Servlet Headers 作为 IE=8,IE=edge 和所有其他设置，我的 DOCTYPE 也是正确的。

有谁知道为什么 IE 强迫这种行为？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-06T10:49:56.620

您可以强制 IE 使用具有[X-UA-Compatible Meta Tag 的](http://webdesign.about.com/od/metataglibraries/p/x-ua-compatible-meta-tag.htm)兼容模式：

即 7：

```
<meta http-equiv="X-UA-Compatible" value="IE=7"> 
```

即 8：

```
<meta http-equiv="X-UA-Compatible" value="IE=8"> 
```

即 9：

```
<meta http-equiv="X-UA-Compatible" value="IE=9"> 
```

IE 也看一下 DOCTYPE 页面：

**标准视图**

```
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
  <head>
    <title>This page is NOT Rendered in Compatibility View</title>
  </head>
  <body>
    <h1>This page is NOT Compatibility View</h1>
  </body>
</html> 
```

**兼容性视图**

```
<html>
  <head>
    <title>This page is NOT Rendered in Compatibility View</title>
  </head>
  <body>
    <h1>This page is NOT Compatibility View</h1>
  </body>
</html> 
```

**标准视图**

```
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
  <head>
    <title>This page is NOT Rendered in Compatibility View</title>
  </head>
  <body>
    <h1>This page is NOT Compatibility View</h1>
  </body>
</html> 
```

**兼容性视图**

```
<?xml version="1.0" encoding="UTF-8">
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
  <head>
    <title>This page is NOT Rendered in Compatibility View</title>
  </head>
  <body>
    <h1>This page is NOT Compatibility View</h1>
  </body>
</html> 
```

**注意，最后一个示例应该在 XHTML 模式下作为标准视图加载。但是 Internet Explorer 将该 XML 声明解释为需要兼容性视图。**

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-04-22T21:44:25.130

我解决了类似的问题：

```
<meta http-equiv="X-UA-Compatible" content="IE=8,IE=9,IE=10,chrome=1" /> 
```

考虑到IE版本应该从最低版本开始。

# mysql - 计算下面特定行的行数

> ID：15245217
> 
> 赞同：2
> 
> 时间：2013-03-06T10:48:02.863
> 
> 标签：mysql

这是我的桌子

![在此处输入图像描述](../Images/9f99bf30cee825560ffb9edaf7394142.png)

如何编写查询，我想从 ID=2 开始选择行数（或者它可以是我输入的任何其他数字）但仅限于 IDveterinar=5 或我输入的其他数字

有人想像`SELECT COUNT(*) AS count FROM mytable...`

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-06T10:49:46.363

```
SELECT 
    COUNT(*) AS count FROM mytable
WHERE 
    ID >= 2
    AND IDveterinar = 5 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-06T10:49:54.540

```
SELECT COUNT(*) AS count FROM mytable WHERE id>=2 AND IDveterinar=5; 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-03-06T10:50:54.547

如果要选择从 ID 2（包括）开始的行数，这是查询：

```
SELECT COUNT(*) AS count
FROM myTable
WHERE ID >= 2 AND IDveterinar = 5; 
```

如果要选择从 ID 2（排除）开始的行数，则查询如下：

```
SELECT COUNT(*) AS count
FROM myTable
WHERE ID > 2 AND IDveterinar = 5; 
```

# c++ - 如何以可维护的方式为整个类层次结构保护析构函数？

> ID：15245219
> 
> 赞同：5
> 
> 时间：2013-03-06T10:48:05.503
> 
> 标签：c++, destructor, code-structure

我想确保没有人能够从我的类层次结构中删除任何对象，而不是使用提供的 Destroy 方法。

基本原理是该层次结构中的任何对象都需要在开始销毁自身之前采用特殊的写入互斥锁，以确保在另一个线程正在使用它们时不会删除对象。

我知道我可以通过引用计数来防止这个问题，但是就潜在的性能影响和内存分配而言，这对系统来说也是一个更大的变化。

有没有办法以某种方式有效/智能地保护所有析构函数，以便子类可以调用其父母析构函数，而外人必须使用 Destroy？

我想出的一种安全（即它不会腐烂）的解决方案是将所有析构函数设为私有并将每个派生类声明为基类的朋友，但我更喜欢更优雅、更少手动和更容易的东西维护（例如不需要修改基类以便从它们派生）。

有这样的东西吗？也许一些聪明的技巧可以让事情像我想要的那样“工作”？

附言。我现在选择的解决方案是不阻止任何人在所有情况下调用 delete（只是在基类中使其受到保护），而是检测这种情况并在基类析构函数中调用 abort。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T11:05:56.180

不要试图重新发明语言提供的生命周期机制。

要正确初始化您的类的对象，它还需要能够自行清理。

在其构造函数中传递互斥体或获取互斥体的方法，它可以在其析构函数中使用。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-20T09:40:29.840

Thanks for all your feedback and discussion. Yes - it proved it's impossible to do what would be my natural first choice :( (to have the "protection" of the destructor take effect in derived classes just as it's "virtuality" does).

My solution in this particular case (solving all potential problems with being able to make hones mistakes by introducing new derived classes that violate previous agreements AND keeping the solution in one place/maintainable (no code duplication in derived classes etc)) is:

1.  Make all the existing class hierarchy destructors I can find protected
2.  Provide a Destroy method in the base class that can be used to initiate the destruction of these objects - if called the method lights up a flag on the destructed object that it was properly destroyed and then calls delete on it
3.  In the base class destructor (once we get to it) check the flag - if it's not set it means someone introduced a new class and called delete on it directly or avoided the compilers protection checks in some other way (abused some friendships etc) - I abort the application in this case to make sure the issue cannot be ignored/missed

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2014-07-01T20:44:30.360

我有同样的需求，但出于不同的原因。在我们公司的框架中，几乎所有的类都派生自一个公共`BaseObject`类。该对象使用*引用计数*来确定其生命周期。`BaseObject`特别是这三种方法：和`retain()`，深受*Objective-C*语言的启发。仅当保留计数达到**0**时，才在内部调用运算符。没有人应该直接调用，并且在堆栈上有实例也是不可取的。`release()``autorelease()`*`delete``release()`**`delete``BaseObject`***

 ***因此，我们所有的析构函数都应该是`protected`or `private`。为了强制执行这一点，据我所知，从语言中这是不可能的，我编写了一个 Perl 脚本，它在源目录中查找所有析构函数并生成报告。然后相对容易检查规则是否得到遵守。

我将脚本公开，可在此处获取：[https ://gist.github.com/prapin/308a7f333d6836780fd5](https://gist.github.com/prapin/308a7f333d6836780fd5)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-06T14:17:59.927

它可以在测试的帮助下完成。对于具有受保护析构函数的类，您需要 2 个测试用例：

1.  一个函数（在一个文件中）无法编译，只需创建这样一个对象
2.  一个函数（在第二个文件中）创建一个带有可编译的派生类的对象。

如果两个测试用例都有效，我认为你可以确保你的类得到了你喜欢的保护。

我不知道你是否能够用你的构建系统来实现它，但我有一个在[git hub](https://github.com/janherrmann/protected_destructor)使用 bjam （来自 boost）的例子。代码很简单，适用于 gcc 和 msvc。如果你不知道 bjam，你应该看看 inte Jamroot.jam。我认为这个简单示例的工作原理很清楚，无需进一步评论。***

# ios - 通过单击按钮调出 iPhone 键盘？

> ID：15245223
> 
> 赞同：4
> 
> 时间：2013-03-06T10:48:27.290
> 
> 标签：ios, objective-c, uikeyboard

如何通过单击按钮调出 iphone 键盘 - 我没有创建任何文本字段。我的意图是制作包含单个字符的标签。

其他人问过这个问题并得到了回答，但这是几年前的事了，我不明白人们在那里的回答是什么意思。

感谢您提前提供任何帮助。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-06T10:52:44.967

你可以做到这一点的唯一方法是通过 hidden `UITextField`，并将 textField 设置为`becomeFirstResponder`

您可以隐藏代码中的文本字段，`textfield.hidden=YES;` 或者您也可以通过进入属性检查器并勾选属性来隐藏 nib 文件`Hidden`中的文本字段

你可以看看这个[UIKeyInput- Displaying keyboard in iPhone without UITextField or UITextView](http://www.ioslearner.com/uikeyinput-displaying-keyboard-iphone-uitextfield-uitextview/)，我自己没试过这个

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T10:50:58.697

将按钮附加到 touchUpInside 事件并在or上调用**becomeFirstResponder**：`textView``textfield`

**这是一个示例（在单击文本视图时显示它）：**

```
-(IBAction)buttonClicked:(id)sender{
   [textView becomeFirstResponder];
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-06T10:50:07.490

您可以在单击按钮时`UITextFeild`添加隐藏。`tempTF`调用`becomeFirstResponder`这个`textFeild`：

```
[self.tempTF becomeFirstResponder]; 
```

隐藏文本字段：

```
UITextField *tempTF = [[UITextField alloc] init]; 
tempTF.hidden = YES 
```

或在您的界面生成器中标记隐藏

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-06T10:59:27.047

```
-(void)ButtonClicked
{
      [textFld becomeFirstResponder];
      [textView becomeFirstResponder];
} 
```

使用这个方法

# asp.net - 在 asp.net mvc 4.0 中，多个保存方法在 api 控制器中不起作用

> ID：15245225
> 
> 赞同：2
> 
> 时间：2013-03-06T10:48:39.080
> 
> 标签：asp.net, json, api, asp.net-mvc-4, controller

我正在使用 asp.net MVC 4.0，在我的 API 控制器中，我有两个通过 AJAX 调用调用的保存方法。问题是它们两个不能同时工作，即没有调用该方法。如果我评论一个其他工作正常

APIController 示例代码：

```
[HttpPost]
public IEnumerable<Model1> Save1 (Model1 model1)
{
    //code
}

[HttpPost]
public IEnumerable<Model2> Save2(Model2 model2)
{

} 
```

json代码：

```
 $.ajax
         ({
             url: "/api/Myapi/Save1",                 
             type: 'POST',
             dataType: "json",
             contentType: "application/json; charset=utf-8",
             data: JSON.stringify(model1),
             success: function (data) {
                 alert("success");

                 return true;
             }
         }); 
```

Save2 方法的类似代码请建议。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T11:00:50.560

如果您想违反标准 RESTful 路由约定并为您的操作使用自定义名称，您将必须在`WebApiConfig`包含其中的`{action}`部件中定义自定义路由：

```
public static class WebApiConfig
{
    public static void Register(HttpConfiguration config)
    {
        config.Routes.MapHttpRoute(
            name: "DefaultApi",
            routeTemplate: "api/{controller}/{action}/{id}",
            defaults: new { id = RouteParameter.Optional }
        );
    }
} 
```

RESTful 路由约定规定每个 HTTP 动词和每个资源（即 API 控制器）应该有一个操作。

# mysql - MySQL，如何按产品和按月计算总和

> ID：15245229
> 
> 赞同：2
> 
> 时间：2013-03-06T10:48:56.193
> 
> 标签：mysql

我有一张如下表

```
 Date        |  Product      |  Qty
-------------|---------------|------
12-Dec-12    | reference1    | 1
14-Dec-12    | reference2    | 2
14-Dec-12    | reference1    | 3
1-Jan-13     | reference2    | 4
3-Jan-13     | reference2    | 5
3-Jan-13     | reference3    | 6 
```

我想通过查询得到它如下

```
Product    | Dec 2012   | Jan 2013
===========|============|========== 
reference1 |    4       | 0
reference2 |    2       | 9
reference3 |    0       | 6 
```

我已经知道如何分组，我的问题是如何拥有动态列（我希望能够选择 last或`6 months`）。`12 months``24 months`

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-06T10:52:32.537

您正在尝试*将*数据从行转换为列。MySQL 没有数据透视函数，但您可以使用带有 a 的聚合函数`CASE`来获取结果：

```
select product,
  sum(case when month(date) = 12 and year(date) = 2012 
           then qty else 0 end) Dec2012,
  sum(case when month(date) = 1 and year(date) = 2013 
           then qty else 0 end) Jan2013
from yourtable
group by product 
```

请参阅[SQL Fiddle with Demo](http://www.sqlfiddle.com/#!2/79edf/2)。

这也可以使用子查询来编写，以获取月-年格式的日期：

```
select product,
  sum(case when MonthYear = 'Dec_2012' then qty else 0 end) Dec2012,
  sum(case when MonthYear = 'Jan_2013' then qty else 0 end) Jan2013
from
(
  select product,
    date_format(date, '%b_%Y') MonthYear,
    qty
  from yourtable
) src
group by product; 
```

请参阅[SQL Fiddle with Demo](http://www.sqlfiddle.com/#!2/79edf/12)。

然后，如果您想动态生成日期列表或想要返回未知数量的日期，您可以使用准备好的语句来生成动态 SQL：

```
SET @sql = NULL;
SELECT
  GROUP_CONCAT(DISTINCT
    CONCAT(
      'sum(case when MonthYear = ''',
      MonthYear,
      ''' then qty else 0 end) AS ',
      MonthYear
    )
  ) INTO @sql
FROM 
(
  select product,
    date_format(date, '%b_%Y') MonthYear,
    qty
  from yourtable
) src;

SET @sql = CONCAT('SELECT product, ', @sql, ' 
                   from
                   (
                    select product,
                      date_format(date, ''%b_%Y'') MonthYear,
                      qty
                    from yourtable
                   ) src
                   GROUP BY product');

PREPARE stmt FROM @sql;
EXECUTE stmt;
DEALLOCATE PREPARE stmt; 
```

请参阅[SQL Fiddle with Demo](http://www.sqlfiddle.com/#!2/79edf/11)。这三个都会给你结果：

```
|    PRODUCT | DEC_2012 | JAN_2013 |
------------------------------------
| reference1 |        4 |        0 |
| reference2 |        2 |        9 |
| reference3 |        0 |        6 | 
```

# fonts - Visual Studio 字体和颜色代码片段

> ID：15245231
> 
> 赞同：2
> 
> 时间：2013-03-06T10:49:02.573
> 
> 标签：fonts, colors, ide, code-snippets

我正在努力手动设置字体和颜色。我试图弄清楚在创建属性时如何设置代码片段的背景颜色（键入“prop”，按 [tab]）。

我试过调整大部分设置，但就是找不到。我已经检查了 Resharper 和常规的。

我正在使用 Visual Studio 2012 和 Resharper 7.1.2

原来我不能发布图片，但相信我背景和前景的颜色非常接近。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-10T07:01:32.060

您可以通过更改Visual Studio 字体和颜色设置中的*选定文本*颜色来更改这些项目的背景颜色。

# python - 处理多权重网络中的内存问题

> ID：15245233
> 
> 赞同：5
> 
> 时间：2013-03-06T10:49:07.137
> 
> 标签：python, numpy, machine-learning, scipy

我有一个具有架构的神经网络`1024, 512, 256, 1`（输入层有`1024`单元，输出层有`1`单元等）。我想使用 中的一种优化算法来训练这个网络`scipy.optimize`。

问题是这些算法期望函数参数在一个向量中给出。这意味着，就我而言，我必须将所有权重展开为长度向量

```
1024*512 + 512*256 + 256*1 = 655616 
```

一些算法（如[`fmin_bfgs`](http://docs.scipy.org/doc/scipy/reference/generated/scipy.optimize.fmin_bfgs.html)）需要使用恒等矩阵，因此它们会调用

```
I = numpy.eye(655616) 
```

毫不奇怪，它会产生一个`MemoryError`. 我有什么办法可以避免将所有权重展开到一个向量中，`scipy.optimize`而不是根据自己的需要调整算法？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-18T13:01:54.043

不要尝试使用 L-BFGS 将权重拟合到 NN。它的效果不是特别好（请参阅 Yann LeCun 早期的论文），并且因为它是一种二阶方法，您将尝试逼近 Hessian，对于这么多的权重，它是一个 655,000 x 650,000 矩阵：这引入了一个根本不合理的性能开销。

网络没有那么深：你有没有理由避免使用标准的反向支持？如果您可以访问库实现，这只是梯度下降，梯度的计算成本很低，并且因为它只是一阶方法，所以您不会有相同的性能开销。

编辑：

反向传播意味着 w_i 在步骤 t 的更新规则是：

w_i(t) = w_i(t-1) - \alpha (dError / dw_i)

此外，您遇到了视觉领域的人经常使用[卷积神经网络](http://deeplearning.net/tutorial/lenet.html)的原因：稀疏连接极大地减小了每个像素有一个神经元的权重向量的大小。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-18T09:32:13.957

我认为内存映射可以解决您的问题。我建议使用[numpy.memmap](http://docs.scipy.org/doc/numpy/reference/generated/numpy.memmap.html)，它针对 numpy 数组进行了优化。请注意，虽然内存映射可能非常快，但您应该留意[thrashing](http://en.wikipedia.org/wiki/Thrashing_%28computer_science%29)。

对于您的一般文化，[mmap](http://docs.python.org/2/library/mmap.html)模块是包含在标准库中的更通用的内存映射库。

# jquery - Firefox 中的切换功能问题（切换的两个 div 中的 wufoo 脚本）

> ID：15245234
> 
> 赞同：2
> 
> 时间：2013-03-06T10:49:08.790
> 
> 标签：jquery, firefox, toggle

我在 Firefox 正确显示我切换的 div 时遇到问题。我看过其他问题，但似乎没有一个涵盖相同的问题。

我在两个正在切换的 div 中都有一个 wufoo 表单，这是我的代码。

```
<script>
$(document).ready(function() {
    $('.cheque-content').hide();
    $('.cheque-function').click(function(){
        $('div.cheque-content').toggle();
});
});
</script>
<h6 class="show-book cheque-function">Book by Cheque</h6>

    <div class="cheque-content">
    <p>sample paragraph</p>

    <div id="wufoo-q7p5z5">
Fill out my <a href="http://zulo.wufoo.com/forms/q7p5z5">online form</a>.
</div>
<script type="text/javascript">var q7p5z5;(function(d, t) {
var s = d.createElement(t), options = {
'userName':'zulo', 
'formHash':'q7p5z5', 
'autoResize':true,
'height':'1346',
'async':true,
'header':'hide', 
'ssl':true};
s.src = ('https:' == d.location.protocol ? 'https://' : 'http://') + 'wufoo.com/scripts/embed/form.js';
s.onload = s.onreadystatechange = function() {
var rs = this.readyState; if (rs) if (rs != 'complete') if (rs != 'loaded') return;
try { q7p5z5 = new WufooForm();q7p5z5.initialize(options);q7p5z5.display(); } catch (e) {}};
var scr = d.getElementsByTagName(t)[0], par = scr.parentNode; par.insertBefore(s, scr);
})(document, 'script');</script>
</div> 
```

另一个 div 遵循具有不同信息的相同代码，我假设这与 wufoo 脚本有关，有人知道为什么这在 Firefox 中不起作用吗？它适用于所有其他浏览器。

谢谢格兰特

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-09-02T17:55:01.503

我今天遇到了同样的问题。我最终不得不将 autoResize 更改为 false。这可能会导致其他问题，例如 iframe 被切断或太长。但至少它是功能性的。如果您确实需要 autoResize 功能，我建议您在取消隐藏 div 后动态注入 Wufoo 代码，以便 Wufoo 可以智能地调整 iframe 的大小。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-15T22:56:41.460

另一种方法是使用单一表格。在表单中添加一个问题，询问他们是否想通过 PayPal 或支票付款。然后使用 Wufoo 的规则功能，使支票注册人不会发送到 PayPal：

[http://www.wufoo.com/2010/07/08/pay-by-check/](http://www.wufoo.com/2010/07/08/pay-by-check/)

# python - 使用 Python 模块 SMBus、Raspberry Pi 和 Arduino 的输入/输出错误

> ID：15245235
> 
> 赞同：9
> 
> 时间：2013-03-06T10:49:09.720
> 
> 标签：python, arduino, raspberry-pi

我用自制的[I²C电平转换器连接了](http://en.wikipedia.org/wiki/I%C2%B2C)[Raspberry Pi](http://en.wikipedia.org/wiki/Raspberry_Pi)和[Rainbowduino](http://en.wikipedia.org/wiki/List_of_Arduino_boards_and_compatible_systems#Software-compatibility_only)，并安装了[Python](http://en.wikipedia.org/wiki/Python_%28programming_language%29)模块[SMBus](http://www.acmesystems.it/i2c)，Raspberry Pi可以与Rainbowduino通信，但在尝试命令时经常收到输入/输出错误消息。`bus.write_i2c_block_data(address, signal, data)`

它说：

> IOError: [Errno 5] 输入/输出错误

为什么会发生，我该如何修复或忽略这些错误？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-12-17T22:36:40.070

长话短说很多人都被这个困扰，我发现一个非常简单的解决方法如下。

它会让你忽略错误并保持 tx/rx-ing，调用 i2cdetect 似乎会以某种方式重新初始化总线，而不是 arduino 从总线上消失。

我在此处发布了有关如何找到此解决方案的说明（现在正在等待 mod 批准） [http://www.raspberrypi.org/phpBB3/viewtopic.php?f=41&t=52517](http://www.raspberrypi.org/phpBB3/viewtopic.php?f=41&t=52517)

```
try:
    bus.write_i2c_block_data(address, signal, data)
except IOError:
    subprocess.call(['i2cdetect', '-y', '1'])
    flag = 1     #optional flag to signal your code to resend or something 
```

尽管这允许 Pi 继续传输不良数据，但仍将其发送到 arduino。我发现解决这个问题的最简单方法是在数据块的末尾添加一个额外的校验和字节。

我在一个允许值翻转的字节变量中添加了消息的每个字节，然后将校验和字节分配为将整个消息求和为零所需的任何值。

然后，arduino 可以通过对所有字节求和来检查每个传入的传输。如果消息总和不为零，则将其作为错误传输而忽略。

我还为我的消息分配了一个单字节消息 ID，每次成功传输后该 ID 都会增加，从而消除了意外重复发送的可能性。但这可能不是真的必要。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2014-02-08T21:19:44.287

我正在使用带有 i2c 的 Raspberry Pi 和 Arduino UNO 创建一个嗡嗡声服务器，并且遇到了同样的问题。我的设计是，当 Pi 收到来自套接字的连接请求（通过网络上的一些外部机器）时，它会向 Arduino 写入“1”，而 Arduino 将通过更改全局变量来启用 loop() 中的循环。写入后 Pi 将不断从 Arduino 读取字节以检查按钮状态。当 Pi 想要停止读取时，它会发送“0”来停止循环并重置所有计数器和 LED。

发生的情况是 Python 在写入字节时会随机通过 IOError。在带有 Arduino 的串行监视器上，我注意到收到的最后一个字节是 1 而不是 0，这是 pi 应该发送的。查看 i2cdetect -y 1 后，我注意到地址错误，我尝试了 Jon 的方法，但正如 user3126397 提到的，错误数据已发送，Arduino 已停止。我尝试了他的 modprobe 并且只抑制了错误消息并且 Arduino 仍处于停止状态。

我最初怀疑数据变坏是因为读/写不完整，因此添加了一个 Serial.println() 来检查 onReceive() 中的参数 byteCount。在不更改任何其他代码的情况下，我观​​察到没有。IOError 之前成功操作的数量增加了很多。因此，我尝试添加更多 println() 来测试相关性，并注意到失败率急剧增加。最后我评论了所有的 Serial 语句，我最终能够在相当多的时间内无故障地使用服务器（我测试了大约 30 次，仍然没有 IOError）。

我怀疑，关于 user3126397 关于重置波特率的解决方案以及我对 Serial.println() 关系的观察，该错误确实是由 pi 和 Arduino 之间的同步问题引起的（因为 Serial 相对较慢并导致程序延迟更多，从而增加失败的机会。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-12-22T02:25:11.667

我在 19 小时前写了这篇文章，当时我认为我已经解决了 IOError 问题：................................................ ...................................................

在使用 bus.write_byte 与 Arduino 对话时，我一直受到同样的输入/输出错误的困扰。我尝试了 Jon 的 i2cdetect 修复程序，但发现此时代码中的损坏已经造成，错误的数字已经到达 Arduino 并以某种方式禁用了它。

起作用的是重置 i2c 波特率，使用

```
 sudo modprobe -r i2c_bcm2708
    sudo modprobe i2c_bcm2708 baudrate=100010 
```

在此之后没有更多的 I/O 错误！我会对可能导致这种明显波特率不匹配的理论非常感兴趣。希望这可以帮助！

..................................................... ...................................

经过更多测试后，我发现波特率修复确实使错误率下降但并没有消除它们。

现在似乎很清楚，在错误发生后立即应用 Jon 的 i2cdetect 调用将初始化 RPi，以便它可以继续。但是您还必须处理错误数据可能已发送到 Arduino 的事实，您需要检测并修复它，并重新初始化 Wire（在我的情况下是伺服驱动器），这样即使 Pi 出现错误，数据将继续通过并可用。希望这可以帮助。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-04-10T18:53:34.463

根据您的 RPi，您可能会使用`bus = SMBus(0)`或`bus = SMBus(1)`初始化 SMBus。

我希望这能解决你的问题。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2016-04-07T21:35:59.487

我最近遇到了同样的问题。当我禁用 teensy 的串行接口时，错误完全消失了。

我正在使用带有 teensy 3.2 的 RPi 2，通过 i2c 以 2.4mhz 进行通信，以大约 38 Kbps 的速率发送 33 字节的有效负载。

# android - 监控不同的值

> ID：15245236
> 
> 赞同：0
> 
> 时间：2013-03-06T10:49:12.160
> 
> 标签：android, monitoring

我正在开发一个应用程序，该应用程序由几个使用平板电脑的用户组成，每个用户都关联了一些标识符。有没有办法检索包含每个用户的列表以及平板电脑标识符和这些标识符以及在特定时间内对标识符所做的更改？

例如，如果有 20 台平板电脑运行该应用程序，管理员可以看到这些平板电脑还显示运行该应用程序的人的用户名。假设是否可以在用户运行应用程序时监控此过程？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T10:53:20.153

如果您自己实现它是可能的：

您将不得不在您的应用程序中开发一个[线程](http://developer.android.com/reference/java/lang/Thread.html)，该线程会不时在您的管理员服务器上发送信息

然后在关闭应用程序时更新信息以通知服务器用户不再使用它

# maven - neo4j.test：maven 中的“包 org.neo4j.test 不存在”错误

> ID：15245238
> 
> 赞同：0
> 
> 时间：2013-03-06T10:49:17.230
> 
> 标签：maven, neo4j

我有一个小问题：当我添加依赖项时

```
 <dependency>
       <groupId>org.neo4j</groupId>
       <artifactId>neo4j-kernel</artifactId>
       <version>1.8.1</version>
       <type>test-jar</type>
       <scope>test</scope>
   </dependency> 
```

对于 Maven，我有错误：

`package org.neo4j.test does not exist`

为什么？

[我在 maven 存储库 ( http://search.maven.org/](http://search.maven.org/) )中没有找到“neo4j.test” 。

TIA。

* * *

尤金尼

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-06T11:00:01.180

如果您的实际代码在下面`src/main/java`，那么范围不应该是`test`。否则，请提供更多详细信息。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-06T11:07:01.460

我不使用 Maven，但我从[http://m2.neo4j.org/content/groups/everything/org/neo4j/neo4j-kernel/1.8.1/neo4j-kernel-1.8.1-tests 复制 jar。罐](http://m2.neo4j.org/content/groups/everything/org/neo4j/neo4j-kernel/1.8.1/neo4j-kernel-1.8.1-tests.jar)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-06T13:27:10.247

您需要使用分类器元素：

```
<dependency>
       <groupId>org.neo4j</groupId>
       <artifactId>neo4j-kernel</artifactId>
       <version>1.8.1</version>
       <classifier>tests</classifier>
       <scope>test</scope>
</dependency> 
```

一些阅读：[http ://maven.apache.org/pom.html#Maven_Coordinates](http://maven.apache.org/pom.html#Maven_Coordinates)

# c# - 无法更新 DataSet 中的特定 DataTable

> ID：15245239
> 
> 赞同：-3
> 
> 时间：2013-03-06T10:49:17.397
> 
> 标签：c#, .net, ado.net, datatable, sqldataadapter

```
private void Form1_Load(object sender, EventArgs e)
{
      da = new SqlDataAdapter("select * from record",@"database=student;server=arun-pc\mypc;integrated security=true");
      da.Fill(ds,"record");
}

private void button1_Click(object sender, EventArgs e)
{
      da.SelectCommand.CommandText = "select * from emp";
      da.Fill(ds,"emp");
      dataGrid1.DataSource = ds;
}

private void button2_Click(object sender, EventArgs e)
{
      cb = new SqlCommandBuilder(da);
      da.Update(ds.Tables[0]);
      MessageBox.Show("updated")
} 
```

我无法更新`table[0]`，但我可以更新，但我`table[1]`无法找到为什么会这样？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-07T10:50:22.167

如果您在进行数据访问时遵循这些教程，对您来说会容易得多（如果您不在 2.0 上，请务必选择您的 .net 版本）：

[http://msdn.microsoft.com/en-us/library/fxsa23t6(v=vs.80).aspx](http://msdn.microsoft.com/en-us/library/fxsa23t6(v=vs.80).aspx)

从“创建一个简单的数据应用程序”开始

至于实际出了什么问题，如果您发现的只是没有更新任何行（更新返回 0），那么您应该首先检查您发送更新的表是否实际上包含修改的行。

按照教程进行操作，然后进行数据访问，它要么全部解决，要么你会收到一条错误消息，告诉你哪里出了问题:)

# javascript - 如何检查div是父div的最后一个孩子

> ID：15245241
> 
> 赞同：5
> 
> 时间：2013-03-06T10:49:22.837
> 
> 标签：javascript, jquery

在**Jquery**或**JavaScript**中具有类似`.hasNext()`. 我有代码：

```
function showArrowClick() {
   var activeContact = $('.contact.white_bg');
   activeContact.removeClass('white_bg');
   activeContact.next().addClass('white_bg');
} 
```

父 div 是

```
<div class="list">
     <div class="contact white_bg all_contacts">All</div>
     <div class="contact">Contact1</div>
     <div class="contact">Contact2</div>
</div> 
```

单击最后一个 div 后需要做**一些事情**。我该怎么做？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-06T10:53:41.167

你可能会想要`:last-child`.

```
$('a').click(function() {

  $('.list .contact:last-child').doSomething();

}); 
```

编辑：

或者，如果您的意思是单击最后一个孩子本身...

```
$('.list .contact:last-child').click(function() {

  $(this).doSomething();

}); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-06T10:51:58.853

你可以试着`.next()`检查一下。[阅读更多](http://api.jquery.com/next/)。将它与`.length`get 方法一起使用以检查 DOM 上是否还有其他项目。

示例代码

```
alert($('div.contact').next().length); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-06T10:52:07.770

您应该在尝试选择它时验证是否有任何元素：

```
function showArrowClick() {   
   var activeContact = $('.contact.white_bg');

   if(activeContact.next('div.contact').length > 0) {
     activeContact.removeClass('white_bg');
     activeContact.next().addClass('white_bg');
   }
} 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-03-06T10:52:12.697

尝试类似的东西

```
$('.list').find("div.contact:last").addClass('white_bg'); 
```

**第二**

```
$('.list .contact:last-child').addClass('white_bg'); 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2013-03-06T10:53:10.030

你看过[$.fn.nextAll()](http://api.jquery.com/nextall/)吗？

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2013-03-06T10:53:39.063

使用:last-child 选择器

```
$(".list div:last-child").on('click', function(){
//Do something
}); 
```

* * *

## 回答 #7

> 赞同：1
> 
> 时间：2013-03-06T10:56:53.383

```
function showArrowClick() {
   var activeContact = $('.contact.white_bg');
   var index = activeContact.index();
   if (index === $(".contact.white_bg").children().length - 1) {
     // Current seleceted is the last div
    }
   activeContact.removeClass('white_bg');
   activeContact.next().addClass('white_bg');
} 
```

# c++ - 通过 CGI python 脚本在服务器端运行 .exe 文件

> ID：15245242
> 
> 赞同：0
> 
> 时间：2013-03-06T10:49:25.053
> 
> 标签：c++, python, html, cgi, exe

我有一个带有一个按钮的 html 文件。单击按钮时，将调用 javascript 函数“运行”：

```
function run() {
            window.open("http://localhost/cgi-bin/run.py", "_self");
        } 
```

run.py 只是试图运行一个 helloworld.exe 程序，该程序在终端中输出字符串“helloworld”，但没有任何反应，并且浏览器无限期地“等待 localhost”。

```
#!python
import sys, string, os, cgitb

cgitb.enable()
os.system("helloworld.exe") 
```

我已经单独尝试了 helloworld.exe 并且它可以工作，我已经在终端上运行 run.py 并且它可以工作，并且我已经在测试站点的浏览器上进行了测试`http://localhost/cgi-bin/helloworld.py`，并且它工作正常（helloworld.py 是另一个脚本只是为了看看我的 apache 配置是否正常）。

我正在使用 wamp。

我想做的是一个更大的程序，它允许客户端连接到服务器，并与服务器端的程序“交互”。该程序已经在 c++ 中完成，不会被翻译成 php 或 javascript。

编辑：我一直在尝试使用以下功能：subprocess.Popen、subprocess.call 和 os.system。我还测试了代码来运行我在 apache/cgi-bin 文件夹中创建的 .exe 文件或在 c:\windows 中的写字板等可执行文件。当 python 脚本从终端运行时它总是成功，而从浏览器尝试时它永远不会工作。是否可能是因为我使用的服务器？我使用 wamp 的 apache，并将句子“AddHandler cgi-script .exe”添加到 httpd.conf 文件中。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-12T08:50:26.120

我确信它在本地不起作用。os.system 返回命令的退出代码，而不是它的输出。

您将需要使用 subprocess.Popen 和管道输出来读取输出。

```
import subprocess
p = subprocess.Popen("whatever.exe",stdout=subprocess.PIPE)
print p.stdout.read()
p.wait() 
```

此外，您的 CGI 脚本的输出不是有效的 HTTP 协议，并且取决于您的服务器，这可能会导致问题（一些服务器会清理脚本的输出，而另一些服务器则希望它们能够正确编写）。

对我来说，这个代码示例有效（在使用 weborf 作为服务器的 GNU/Linux 上，但它应该是相同的）。您可以尝试设置内容类型并发送 \r\n\r\n 最终序列。服务器不应该发送它，因为 CGI 脚本可能想要添加更多的 HTTP 标头。

```
#!/usr/bin/env python

import cgitb
import subprocess
import sys

cgitb.enable()

sys.stdout.write("Content-type: text/plain\r\n\r\n")

p = subprocess.Popen("/usr/games/fortune",stdout=subprocess.PIPE)
data = p.stdout.read()
p.wait()

print data 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T11:25:42.567

一般来说，我的经验是，如果某些东西在本地工作并且当您在不同的服务器上安装所有相同的代码时不起作用，那么您正在查看权限问题。检查您网站上的访问者拥有的权限，并确保通过您的 Web 服务器的用户具有运行`helloworld.exe`和`run.py`.

# grails - Grails 看不到axis-1.4.jar

> ID：15245244
> 
> 赞同：2
> 
> 时间：2013-03-06T10:49:31.147
> 
> 标签：grails, axis

抱歉，我知道我是新手，不擅长编程，这是我的问题：

我的 Grails 看不到 axis-1.4.jar，即使它定义`buildconfig.groovy`并放置在**lib**文件夹中。

**我做了什么：**

我验证了`axis-1.4.jar`它，它包含`TypeMappingRegistryImpl.class`

结果如下：

```
| Error 2013-03-06 11:17:58,786 [localhost-startStop-1] ERROR [localhost].[/SpagoJEEGrails]  - StandardWrapper.Throwable
Message: org/apache/axis/encoding/TypeMappingRegistryImpl
    Line | Method
->>  449 | <init>          in org.apache.axis.deployment.wsdd.WSDDDeployment
- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - 
|    139 | setDocument     in org.apache.axis.deployment.wsdd.WSDDDocument
|     65 | <init> . . . .  in     ''
|    179 | configureEngine in org.apache.axis.configuration.FileProvider
|    172 | init . . . . .  in org.apache.axis.AxisEngine
|    156 | <init>          in     ''
|     88 | <init> . . . .  in org.apache.axis.server.AxisServer
|    109 | createServer    in org.apache.axis.server.DefaultAxisServerFactory
|     73 | getServer . . . in     ''
|    185 | getEngine       in org.apache.axis.transport.http.AxisServletBase
|    396 | getOption . . . in     ''
|    112 | init            in     ''
|    334 | innerRun . . .  in java.util.concurrent.FutureTask$Sync
|    166 | run             in java.util.concurrent.FutureTask
|   1146 | runWorker . . . in java.util.concurrent.ThreadPoolExecutor
|    615 | run             in java.util.concurrent.ThreadPoolExecutor$Worker
^    679 | run . . . . . . in java.lang.Thread

Caused by ClassNotFoundException: org.apache.axis.encoding.TypeMappingRegistryImpl
->>  217 | run             in java.net.URLClassLoader$1
- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - 
|    205 | findClass       in java.net.URLClassLoader
|    321 | loadClass . . . in java.lang.ClassLoader
|    266 | loadClass       in     ''
|    449 | <init> . . . .  in org.apache.axis.deployment.wsdd.WSDDDeployment
|    139 | setDocument     in org.apache.axis.deployment.wsdd.WSDDDocument
|     65 | <init> . . . .  in     ''
|    179 | configureEngine in org.apache.axis.configuration.FileProvider
|    172 | init . . . . .  in org.apache.axis.AxisEngine
|    156 | <init>          in     ''
|     88 | <init> . . . .  in org.apache.axis.server.AxisServer
|    109 | createServer    in org.apache.axis.server.DefaultAxisServerFactory
|     73 | getServer . . . in     ''
|    185 | getEngine       in org.apache.axis.transport.http.AxisServletBase
|    396 | getOption . . . in     ''
|    112 | init            in     ''
|    334 | innerRun . . .  in java.util.concurrent.FutureTask$Sync
|    166 | run             in java.util.concurrent.FutureTask
|   1146 | runWorker . . . in java.util.concurrent.ThreadPoolExecutor
|    615 | run             in java.util.concurrent.ThreadPoolExecutor$Worker
^    679 | run . . . . . . in java.lang.Thread
| Error 2013-03-06 11:17:58,843 [localhost-startStop-1] ERROR [localhost].[/SpagoJEEGrails]  - Servlet /SpagoJEEGrails threw load() exception
Message: org.apache.axis.encoding.TypeMappingRegistryImpl
    Line | Method
->>  217 | run             in java.net.URLClassLoader$1
- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - 
|    205 | findClass       in java.net.URLClassLoader
|    321 | loadClass . . . in java.lang.ClassLoader
|    266 | loadClass       in     ''
|    449 | <init> . . . .  in org.apache.axis.deployment.wsdd.WSDDDeployment
|    139 | setDocument     in org.apache.axis.deployment.wsdd.WSDDDocument
|     65 | <init> . . . .  in     ''
|    179 | configureEngine in org.apache.axis.configuration.FileProvider
|    172 | init . . . . .  in org.apache.axis.AxisEngine
|    156 | <init>          in     ''
|     88 | <init> . . . .  in org.apache.axis.server.AxisServer
|    109 | createServer    in org.apache.axis.server.DefaultAxisServerFactory
|     73 | getServer . . . in     ''
|    185 | getEngine       in org.apache.axis.transport.http.AxisServletBase
|    396 | getOption . . . in     ''
|    112 | init            in     ''
|    334 | innerRun . . .  in java.util.concurrent.FutureTask$Sync
|    166 | run             in java.util.concurrent.FutureTask
|   1146 | runWorker . . . in java.util.concurrent.ThreadPoolExecutor
|    615 | run             in java.util.concurrent.ThreadPoolExecutor$Worker
^    679 | run . . . . . . in java.lang.Thread
| Server running. Browse to http://localhost:8080/SpagoJEEGrails
| Error 2013-03-06 11:20:00,897 [http-bio-8080-exec-4] ERROR common.SsoServiceFactory  - Error occurred
Message: null
    Line | Method
->>   55 | getConfigValue     in it.eng.spagobi.commons.SingletonConfig
- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - 
|     44 | createProxyService in it.eng.spagobi.services.common.SsoServiceFactory
|    151 | findUserId . . . . in it.eng.spagobi.commons.filters.ProfileFilter
|     71 | doFilter           in     ''
|     82 | doFilter . . . . . in it.eng.spagobi.commons.filters.SpagoBICoreCheckSessionFilter
|   1146 | runWorker          in java.util.concurrent.ThreadPoolExecutor
|    615 | run . . . . . . .  in java.util.concurrent.ThreadPoolExecutor$Worker
^    679 | run                in java.lang.Thread
| Error 2013-03-06 11:20:00,905 [http-bio-8080-exec-4] ERROR filters.ProfileFilter  - java.lang.NullPointerException
| Error 2013-03-06 11:20:01,932 [http-bio-8080-exec-4] ERROR utilities.GeneralUtilities  - Error while recovering SpagoBI context address
Message: null
    Line | Method
->>   55 | getConfigValue    in it.eng.spagobi.commons.SingletonConfig
- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - 
|    657 | getSpagoBiContext in it.eng.spagobi.commons.utilities.GeneralUtilities
|    104 | _jspService . . . in org.apache.jsp.WEB_002dINF.jsp.commons.sessionExpired_jsp
|     70 | service           in org.apache.jasper.runtime.HttpJspBase
|    432 | service . . . . . in org.apache.jasper.servlet.JspServletWrapper
|    390 | serviceJspFile    in org.apache.jasper.servlet.JspServlet
|    334 | service . . . . . in     ''
|    146 | route             in it.eng.spago.dispatching.httpchannel.Router
|     91 | render . . . . .  in it.eng.spago.presentation.rendering.AbstractServletModelRenderer
|    546 | render            in it.eng.spago.dispatching.httpchannel.AdapterHTTP
|    449 | service . . . . . in     ''
|    109 | doFilter          in it.eng.spagobi.commons.filters.ProfileFilter
|     82 | doFilter . . . .  in it.eng.spagobi.commons.filters.SpagoBICoreCheckSessionFilter
|   1146 | runWorker         in java.util.concurrent.ThreadPoolExecutor
|    615 | run . . . . . . . in java.util.concurrent.ThreadPoolExecutor$Worker
^    679 | run               in java.lang.Thread
| Error 2013-03-06 11:20:01,937 [http-bio-8080-exec-4] ERROR utilities.GeneralUtilities  - Error while recovering SpagoBI context address
Message: null
    Line | Method
->>   55 | getConfigValue    in it.eng.spagobi.commons.SingletonConfig
- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - 
|    657 | getSpagoBiContext in it.eng.spagobi.commons.utilities.GeneralUtilities
|    117 | _jspService . . . in org.apache.jsp.WEB_002dINF.jsp.commons.sessionExpired_jsp
|     70 | service           in org.apache.jasper.runtime.HttpJspBase
|    432 | service . . . . . in org.apache.jasper.servlet.JspServletWrapper
|    390 | serviceJspFile    in org.apache.jasper.servlet.JspServlet
|    334 | service . . . . . in     ''
|    146 | route             in it.eng.spago.dispatching.httpchannel.Router
|     91 | render . . . . .  in it.eng.spago.presentation.rendering.AbstractServletModelRenderer
|    546 | render            in it.eng.spago.dispatching.httpchannel.AdapterHTTP
|    449 | service . . . . . in     ''
|    109 | doFilter          in it.eng.spagobi.commons.filters.ProfileFilter
|     82 | doFilter . . . .  in it.eng.spagobi.commons.filters.SpagoBICoreCheckSessionFilter
|   1146 | runWorker         in java.util.concurrent.ThreadPoolExecutor
|    615 | run . . . . . . . in java.util.concurrent.ThreadPoolExecutor$Worker
^    679 | run               in java.lang.Thread
| Error 2013-03-06 11:20:02,229 [http-bio-8080-exec-5] ERROR common.SsoServiceFactory  - Error occurred
Message: null
    Line | Method
->>   55 | getConfigValue     in it.eng.spagobi.commons.SingletonConfig
- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - 
|     44 | createProxyService in it.eng.spagobi.services.common.SsoServiceFactory
|    151 | findUserId . . . . in it.eng.spagobi.commons.filters.ProfileFilter
|     71 | doFilter           in     ''
|     82 | doFilter . . . . . in it.eng.spagobi.commons.filters.SpagoBICoreCheckSessionFilter
|   1146 | runWorker          in java.util.concurrent.ThreadPoolExecutor
|    615 | run . . . . . . .  in java.util.concurrent.ThreadPoolExecutor$Worker
^    679 | run                in java.lang.Thread
| Error 2013-03-06 11:20:02,233 [http-bio-8080-exec-5] ERROR filters.ProfileFilter  - java.lang.NullPointerException 
```

谢谢帮助:)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T19:26:24.403

正如其他人已经提到的，请按此顺序尝试以下操作。

```
grails clean
grails refresh-dependencies
grails run-app 
```

以上应该足以解决您的问题。

最好指出您通常使用的 Grails 版本。

# javascript - 浮动图未填充

> ID：15245247
> 
> 赞同：0
> 
> 时间：2013-03-06T10:49:36.643
> 
> 标签：javascript, jquery, flot

我找到了 mt question 的相关答案，但不适用于我的情况。我正在使用 Flot 绘制图形。var qwer = []; 数据 = [[qwer]]; $.plot("#placeholder", data, options);

qwer is having this value [1361451916000,36.862274],[1361451915000,1000.664185],[1361451915000,33.470932],[1361451915000,0.331087],[1361451915000,3.854041],[1361451915000,2.084494],[1361451915000,622.265259],[1361451915000, 167.02771],[1361451853000,1000.628418],[1361451853000,33.482491],[1361451853000,0.34266],[1361451853000,3.781773],[1361451853000,2.14386],[1361451853000,625.780762],[1361451853000,166.767822],[1361451853000,36.863419] ,[1361451793000,1000.501465],[1361451793000,33.446846],[1361451793000,0.339476],[1361451793000,3.729937],[1361451793000,2.390623],[1361451793000,622.265259],[1361451793000,167.497406],[1361451793000,36.860085],[ 1361451733000,33.503113],[1361451733000,0.352068],[1361451733000,3.797665],[1361451733000,2.168059],[1361451733000,631.054565],[1361451733000,167.291168],[1361451733000,36.847496],[1361451732000,1000.508667],[1361451673000,634.570068],[1361451673000,167.753693],[1361451673000,36.867523],[1361451672000,1000.680298],[1361451672000,33.4543],[1361451672000,0.34401],[1361451672000,3.687938],[1361451672000,2.069354] ,[1361451617000,634.570068],[1361451617000,166.691528],[1361451617000,36.854553],[1361451616000,1000.682129],[1361451616000,33.429085],[1361451616000,0.352169],[1361451616000,3.652372],[1361451616000,2.104402],[ 1361451616000,2749.431641],[1361451616000,26.239849][1361451616000,3.652372],[1361451616000,2.104402],[1361451616000,2749.431641],[1361451616000,26.239849][1361451616000,3.652372],[1361451616000,2.104402],[1361451616000,2749.431641],[1361451616000,26.239849]

但它没有绘制我的图表。而如果是使用数据= [[[1361451915000, 100], [1361451853000, 200], [1361451793000, 500], [1361451733000, 300]]];

这对我来说可以 。可能的原因是什么。

提前致谢 。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T14:45:15.310

我建议用一组额外的括号包裹你的 var qwer：

```
qwer =  [[1361451916000,36.862274],[1361451915000,1000.664185],[1361451915000,33.470932]] 
```

然后将该数据集推送到 var 数据

```
data.push(qwer) 
```

看看这个 - [http://jsfiddle.net/KMTjZ/1/](http://jsfiddle.net/KMTjZ/1/)

# android - 如何在动态更改其背景颜色的同时保持视图的边框？

> ID：15245251
> 
> 赞同：2
> 
> 时间：2013-03-06T10:49:44.900
> 
> 标签：android, layout, colors, background

我在线性布局上应用了边框：

```
<LinearLayout
        android:id="@+id/lay1"
        android:layout_width="0dp"
        android:layout_height="wrap_content"
        android:layout_weight="80"
        android:background="@drawable/linearborder2" /> 
```

在我的主要活动中，我想动态更改此活动的背景颜色，但我这样做是边框逐渐消失。那么我该怎么做才能保留这些边框并更改颜色呢？

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T11:00:50.997

假设`linearborder2`是一个可绘制的形状。您可以动态更改可绘制形状的颜色。[这](https://stackoverflow.com/questions/7164630/how-to-change-shape-color-dynamically)应该对此有所帮助。

# java - 如果我们忽略新对象的结果会发生什么？

> ID：15245254
> 
> 赞同：2
> 
> 时间：2013-03-06T10:49:50.543
> 
> 标签：java, constructor

我想知道如果创建一个对象会发生什么：

```
new String("Hello World!"); 
```

并且不要将结果存储在引用变量中。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-06T10:51:42.077

没有什么。

您创建一个对象，该对象将被垃圾收集，因为不存在对它的引用。

编译器还可以决定在`-server`VM 模式下对其进行优化，因为这是“死代码”。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-06T10:52:31.257

创建对象，然后稍后收集垃圾。

如果代码被多次执行，我猜它会被 JIT 编译器删除

# ios - 如何影响相同的 youtube 应用程序？

> ID：15245255
> 
> 赞同：1
> 
> 时间：2013-03-06T10:49:51.060
> 
> 标签：ios, objective-c, xcode

**为什么知道我怎样才能产生相同的效果？**

![在此处输入图像描述](../Images/6477721b820d9f913dd768a5886abfdb.png)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-06T10:52:06.603

看看这个控件：[Sidepanel](http://www.cocoacontrols.com/platforms/ios/controls/jasidepanels)。它的作用与您想要的相似。希望这可以帮助。

# image - TYPO3 - 图像元素中元素的更改顺序

> ID：15245256
> 
> 赞同：0
> 
> 时间：2013-03-06T10:49:51.893
> 
> 标签：image, element, typo3

我在 TYPO3 页面上有一个默认的文本/图像元素，里面的内容是这样的：

1.  标题
2.  图片
3.  文本

我需要这个订单：

1.  图片
2.  标题
3.  文本

我一直在尝试修改我的打字稿中的 tt_content std.header 对象，但它无法正常工作。

有谁知道这个问题的答案？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T11:37:20.683

看看：`/typo3/sysext/css_styled_content/static/setup.txt`

搜索：`CType: image`（〜650行），然后将其整个复制到您的打字稿模板中，清除`tt_content.image.10`（它的标题）并尝试将其放置`lib.stdheader`在所需的位置`tt_content.image.20`......只是一个概念，我几年前做过类似的事情，不记得细节...

其他选项是使用 CSS/JS 更改顺序，也许会更容易？

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2014-01-31T23:08:07.740

```
tt_content.textpic {
# remove default header
    10 >
    20 = < tt_content.image.20                
    20 {
        layout = TEXT
        layout.value = <div class="your-classes###CLASSES###">###IMAGES###</div>###TEXT###

# insert the header as part of text
        text.15 = < lib.stdheader 
        text.20 = < tt_content.text.20
        text.wrap >
    }
} 
```

# mysql - 如何检查mysql过程中是否存在数据库

> ID：15245257
> 
> 赞同：1
> 
> 时间：2013-03-06T10:49:52.400
> 
> 标签：mysql

我在 mysql 中有一个程序正在对 DB 做一些事情，但是如果它存在，它需要抛出异常。我怎么做？

我需要类似的东西

```
if exist <db name> then
  SIGNAL SQLSTATE '45002'
  SET MESSAGE_TEXT = 'This database already exist';
end if; 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T10:52:24.677

你可以使用这个 SQL：

```
SELECT SCHEMA_NAME FROM INFORMATION_SCHEMA.SCHEMATA WHERE SCHEMA_NAME = 'DBName' 
```

在一个过程中，它会是这样的：

```
DECLARE name TEXT;
SELECT SCHEMA_NAME INTO name FROM INFORMATION_SCHEMA.SCHEMATA WHERE SCHEMA_NAME = 'DBName'
IF name = 'DBName' THEN
   SIGNAL SQLSTATE '45002'
   SET MESSAGE_TEXT = 'This database already exist';
END IF; 
```

（免责声明：我之前没有编写过 MySQL 程序，也没有测试过这个程序。只是为了给出一种可能的实现方式而提及。另外，这个例子并不完整。）

# spring - java.lang.NoSuchMethodError: org.springframework.beans.MutablePropertyValues.add(Ljava/lang/String;Ljava/lang/Object;)

> ID：15245258
> 
> 赞同：0
> 
> 时间：2013-03-06T10:49:54.760
> 
> 标签：spring

尝试配置 spring-hibernate 应用程序时出现以下错误：

> org.springframework.beans.factory.BeanDefinitionStoreException：从 ServletContext 资源 [/WEB-INF/spring-servlet.xml] 解析 XML 文档时出现意外异常；嵌套异常是 java.lang.NoSuchMethodError: org.springframework.beans.MutablePropertyValues.add(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/beans/MutablePropertyValues;

我在构建路径中有 org.springframework.beans-3.0.0.M3.jar 。

请帮忙。

提前致谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T13:58:48.473

见[java.lang.NoSuchMethodError: org.springframework.beans.MutablePropertyValues.add](https://stackoverflow.com/questions/7461915/java-lang-nosuchmethoderror-org-springframework-beans-mutablepropertyvalues-add)

为什么你使用 3.0.0.M3 ？

尝试将您的 spring 版本升级到 3.0.0.RELEASE。

add 方法被添加到

## 版本 3.0.0.RC3 中的更改 (2009-12-01)

*   向 MutablePropertyValues 添加了支持链接的“add”方法

# opencv - OpenCV Mat 元素类型及其大小

> ID：15245262
> 
> 赞同：39
> 
> 时间：2013-03-06T10:49:57.067
> 
> 标签：opencv

我对 OpenCV Mat 元素类型感到困惑。这是来自文档：

```
There is a limited fixed set of primitive data types the library can operate on.
That is, array elements should have one of the following types:

8-bit unsigned integer (uchar) 
8-bit signed integer (schar)
16-bit unsigned integer (ushort)
16-bit signed integer (short)
32-bit signed integer (int)
32-bit floating-point number (float)
64-bit floating-point number (double)
...

For these basic types, the following enumeration is applied:
enum { CV_8U=0, CV_8S=1, CV_16U=2, CV_16S=3, CV_32S=4, CV_32F=5, CV_64F=6 }; 
```

众所周知，C++ 标准没有以字节为单位定义基本类型的大小，那么它们如何使用这样的假设呢？我应该期待什么类型，比如说 CV_32S，它是 int32_t 还是 int？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2016-05-27T13:36:38.737

根据[Miki 的回答](https://stackoverflow.com/a/32663709/2436175)，
在 OpenCV 3 中，定义已移至 modules/core/include/opencv2/core/ **traits.hpp**，您可以在其中找到：

```
/** @brief A helper class for cv::DataType

The class is specialized for each fundamental numerical data type supported by OpenCV. It provides
DataDepth<T>::value constant.
*/
template<typename _Tp> class DataDepth
{
public:
    enum
    {
        value = DataType<_Tp>::depth,
        fmt   = DataType<_Tp>::fmt
    };
};

template<int _depth> class TypeDepth
{
    enum { depth = CV_USRTYPE1 };
    typedef void value_type;
};

template<> class TypeDepth<CV_8U>
{
    enum { depth = CV_8U };
    typedef uchar value_type;
};

template<> class TypeDepth<CV_8S>
{
    enum { depth = CV_8S };
    typedef schar value_type;
};

template<> class TypeDepth<CV_16U>
{
    enum { depth = CV_16U };
    typedef ushort value_type;
};

template<> class TypeDepth<CV_16S>
{
    enum { depth = CV_16S };
    typedef short value_type;
};

template<> class TypeDepth<CV_32S>
{
    enum { depth = CV_32S };
    typedef int value_type;
};

template<> class TypeDepth<CV_32F>
{
    enum { depth = CV_32F };
    typedef float value_type;
};

template<> class TypeDepth<CV_64F>
{
    enum { depth = CV_64F };
    typedef double value_type;
}; 
```

在*大多数情况下/编译器*中，使用 C++ 精确数据类型应该没问题。您不会遇到[C++ 中明确定义的](https://stackoverflow.com/a/589684/2436175)`CV_8U`单字节数据类型（ ->`uint8_t`和`CV_8U`-> `int8_t`）的问题。[float (32bit) 和 double (64bit)](http://en.cppreference.com/w/cpp/language/types#Floating_point_types)相同。但是，对于其他数据类型，要完全确保您使用正确的数据类型（例如在使用该方法时），您应该使用例如：`at<>`

```
typedef TypeDepth<CV_WHATEVER_YOU_USED_TO_CREATE_YOUR_MAT>::value_type access_type;
myMat.at<access_type>(y,x) = 0; 
```

作为旁注，我很惊讶他们决定采用这种模棱两可的方法，而不是简单地使用精确的数据类型。

因此，关于您的最后一个问题：

> 比方说，我应该期待什么类型`CV_32S`？

我相信 OpenCV 3 中最准确的答案是：

```
TypeDepth<CV_32S>::value_type 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2015-09-19T03:01:08.280

在`core.hpp`您可以找到以下内容：

```
/*!
  A helper class for cv::DataType

  The class is specialized for each fundamental numerical data type supported by OpenCV.
  It provides DataDepth<T>::value constant.
*/
template<typename _Tp> class DataDepth {};

template<> class DataDepth<bool> { public: enum { value = CV_8U, fmt=(int)'u' }; };
template<> class DataDepth<uchar> { public: enum { value = CV_8U, fmt=(int)'u' }; };
template<> class DataDepth<schar> { public: enum { value = CV_8S, fmt=(int)'c' }; };
template<> class DataDepth<char> { public: enum { value = CV_8S, fmt=(int)'c' }; };
template<> class DataDepth<ushort> { public: enum { value = CV_16U, fmt=(int)'w' }; };
template<> class DataDepth<short> { public: enum { value = CV_16S, fmt=(int)'s' }; };
template<> class DataDepth<int> { public: enum { value = CV_32S, fmt=(int)'i' }; };
// this is temporary solution to support 32-bit unsigned integers
template<> class DataDepth<unsigned> { public: enum { value = CV_32S, fmt=(int)'i' }; };
template<> class DataDepth<float> { public: enum { value = CV_32F, fmt=(int)'f' }; };
template<> class DataDepth<double> { public: enum { value = CV_64F, fmt=(int)'d' }; };
template<typename _Tp> class DataDepth<_Tp*> { public: enum { value = CV_USRTYPE1, fmt=(int)'r' }; }; 
```

您可以看到这`CV_32S`是 type 的值`int`，而不是`int32_t`.

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2016-02-04T23:51:52.230

虽然 C++ 没有定义元素的大小，但问题是假设的：对于运行 OpenCV 的系统，大小是已知的。给定

```
cv::Mat m(32,32,CV_32SC1, cv:Scalar(0));
std::cout << "size of the element in bytes: " << m.depth() << std::endl;
std::cout << "or " << m.step.p[ m.dims-1 ]/m.channels() << std::endl; 
```

那么你怎么能确定它是`int`呢？

尝试调用

```
int pxVal = m.at<int>(0,0); 
```

将要

```
CV_DbgAssert( elemSize()==sizeof(int) ); 
```

其中左手通过`cv::Mat::flags`-- 在此示例中定义为`CV_32SC1`等于的预定义深度

```
CV_DbgAssert( m.depth() == sizeof(int) ) 
```

或者

```
CV_DbgAssert( 4 == sizeof(int) ) 
```

所以如果你成功了，你只剩下字节序了。并且在生成 cvconfig.h 时（通过 CMake）进行了检查。

TL;DR，期待标题中给出的类型，你会没事的。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2014-07-01T06:21:53.230

您可以在 opencv 的来源中找到有关您的问题的所有定义。

请参阅[https://github.com/Itseez/opencv/blob/master/modules/core/include/opencv2/core/cvdef.h](https://github.com/Itseez/opencv/blob/master/modules/core/include/opencv2/core/cvdef.h)文件。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2015-09-22T03:39:15.170

我在 OpenCV 的代码中发现了几个与 CV_8UC1、CV_32SC1 等相关的#define。为了使枚举工作，OpenCV 放置了额外的代码来将普通数字作为参数一起转换（即 CV_8UC1、CV_16UC2 ......各自的数字），并在 CvMat 的定义中将深度和通道分开（我猜 Mat 的定义中可能有类似的代码）。然后，它使用 create() 为矩阵分配空间。由于 create() 是内联的，我只能猜测它类似于 malloc() 什么的。
由于源代码从 2.4.9 到 3.0.0 发生了很大变化，我需要稍后发布更多证据。请给我一点时间来了解更多信息并编辑我的答案。

* * *

## 回答 #6

> 赞同：-3
> 
> 时间：2013-03-06T12:30:21.227

简而言之，您提供的表格是正确的。如果要直接访问像素，请将其类型转换为右侧的说明符，例如 CV_32S 是有符号的 32 位。S 始终表示有符号整数（signed char、signed short、signed int） F 始终表示浮点数（float、double） U 始终表示无符号整数。

枚举仅在创建或转换 Mat 时使用。这是一种告诉垫子是所需类型的方法，据我了解，它是不使用模板时的 C 前身。

我专门使用 C 功能，为了创建图像，传递以下内容将是错误的：

```
cvCreateImage(mySize,char, nChannels); 
```

相反，我通过以下内容：

```
cvCreateImage(mySize, IPL_DEPTH_8U, nChannels); 
```

这里，IPL_DEPTH_8U 是函数使用的标志。该函数本身有一个检查标志的开关类型语句。标志的实际值通常是无意义的，因为它通常由条件而非代数语句控制。

# java - java if语句测试输出错误

> ID：15245263
> 
> 赞同：0
> 
> 时间：2013-03-06T10:50:03.127
> 
> 标签：java

我有一个连接到数据库后端的小型 Java 项目。我有一个登录功能，但是当我把它放在我的测试线束中时，我无法让它给我正确的输出。

```
public boolean validateLogin(User validate) {
        {
            Connection conn = null;

            String dbUserName = "root"; // MySQL database username
            String dbPassword = "nbuser"; // MySQL database password

            boolean returnValue = false;

            String dbUrl = "jdbc:mysql://localhost:3306/project";

            try {
                Class forNam = Class.forName("com.mysql.jdbc.Driver");

                try {

                    forNam.newInstance();
                } catch (InstantiationException ex) {
                } catch (IllegalAccessException ex) {
                }
            } catch (ClassNotFoundException ex) {
            }

            try {

                conn = DriverManager.getConnection(dbUrl, dbUserName, dbPassword);
                System.out.println("Database connection establish...!");

                Statement st = conn.createStatement();
                ResultSet rs = st.executeQuery("SELECT * FROM login_register WHERE user_id='" + validate.getUserID() + "'");
                if (rs.next()) {
                    if (rs.getString(2).equals(validate.getUserPassword())) {
                        System.out.println("User and Password Match");
                    } else {
                        System.out.println("No User Or Password Match");
                    }
                } 
                else {
                    System.out.println("No User Or Password Match");
                }

            } catch (SQLException ex) {
                System.out.println("Cannot connect to database server...!!");

            } finally {
                if (conn != null) {
                    try {

                        conn.close();
                        System.out.println("Database connection terminated...!!!");
                        returnValue = true;
                    } catch (SQLException ex) {
                    }
                }
            }
            return returnValue;

        }
    } 
```

现在我的测试代码看看这个语句是否有效

```
User testLogin = new User();
testLogin.setUserID("userid");
testLogin.setUserPassword("password");
 if (test.validateLogin(testLogin)) {
    System.out.println("User logged in");
} 
 else {
    System.out.println("Failed to login");
} 
```

上面的两位信息都在我的数据库中，所以我在 IDE 中的输出如下：

```
Database connection establish...!
User and Password Match
Database connection terminated...!!!
User logged in 
```

但是如果我将值更改为不在数据库中的值，我会得到

```
Database connection establish...!
No User Or Password Match
Database connection terminated...!!!
User logged in 
```

所以问题出在我的测试代码中，当值不匹配时，我无法说它们不匹配，我稍后在工作中需要一个函数。任何想法我需要在我的测试代码上进行更改才能说出`"failed to login"`我的测试端的 id 和密码是否不匹配

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T10:53:39.187

尝试这个

```
if (rs.getString(2).equals(validate.getUserPassword())) {
        System.out.println("User and Password Match");
        returnValue =true;
                    } else {
        System.out.println("No User Or Password Match");
         returnValue =false;
                    } 
```

并`returnValue =true;`从 finally 块中删除

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-06T10:56:28.907

您的方法存在一些问题：

1.  您应该将代码放在一个 try/catch 块中。你放置的方式，如果`Class forNam = Class.forName("com.mysql.jdbc.Driver");`第一个 try 块中的代码失败，第二个仍然会执行，这会导致连接无法打开而产生异常。

2.  您的 finally() 块确保该方法始终返回 true。您应该将块与“用户和密码匹配”场景一起放在块`returnValue = true;`内。`if (rs.getString(2).equals(validate.getUserPassword())) {`

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-06T10:52:08.043

这是您遇到问题的一部分：

```
 } finally {
            if (conn != null) {
                try {

                    conn.close();
                    System.out.println("Database connection terminated...!!!");
                    //delete the next line:
                    //returnValue = true; // <-- in a finally block, this will always run... 
```

另外，我注意到，当它应该完成时，您没有将 returnValue 设置为 true：

```
 if (rs.next()) {
                if (rs.getString(2).equals(validate.getUserPassword())) {
                    System.out.println("User and Password Match");
                    //add this line:                         
                    returnValue=true;
                } else {
                    System.out.println("No User Or Password Match");
                }
            } 
            else {
                System.out.println("No User Or Password Match");
            } 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-06T10:55:35.313

成功状态不取决于“我可以连接到数据库”，而是应该在密码匹配时设置...

```
 if (rs.next()) {
                if (rs.getString(2).equals(validate.getUserPassword())) {
                    System.out.println("User and Password Match");
                    returnValue = true; // <---
                } else {
                    System.out.println("No User Or Password Match");
                }
            } 
            else {
                System.out.println("No User Or Password Match");
            } 
```

不要在`finally`子句中将值设置为 true。

# c# - 无法在 Windows 8 中读取注册表值

> ID：15245264
> 
> 赞同：4
> 
> 时间：2013-03-06T10:50:05.563
> 
> 标签：c#, windows, windows-8, registry, uac

我有以下 C# 代码，它从 Windows 7 的注册表中读取 UAC 状态

```
object obj = Registry.LocalMachine.GetValue(@"HKEY_LOCAL_MACHINE\Software\Microsoft\Windows\CurrentVersion\Policies\System\EnableLUA", (long)1); 
```

它在具有管理员/非管理员帐户的 Windows 7 上完美运行。它总是返回我在 Windows 8 下提供的默认值。注册表项在那里。我可以通过 regedit 看到它的价值。但是 C# 代码不会读取它。谁能告诉我为什么？这是一个 .net 4 应用程序。用户帐户是未提升的管理员。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2014-12-05T03:34:43.630

它返回默认值（在 Windows 7 和 8 上）。这是在 Windows 7 和 8 上读取正确注册表值的代码，无需以管理员身份运行。

```
 object obj = Registry.GetValue( 
             @"HKEY_LOCAL_MACHINE\Software\Microsoft\Windows\CurrentVersion\Policies\System\", 
             "EnableLUA", 
             (long)1); 
```

请注意，我们调用`GetValue`方法 on `Registry`，而不是 on `Registry.LocalMachine`，并且我们将键和值名称作为两个单独的参数传递。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-08-25T19:57:55.237

默认情况下，您至少需要具有管理权限才能访问注册表。Windows 8 开发人员可能认为保持这种方式更安全。

# jquery - 主题标签工作正常，但未显示在浏览器网址中 - Drupal 7

> ID：15245269
> 
> 赞同：0
> 
> 时间：2013-03-06T10:50:25.280
> 
> 标签：jquery, drupal, drupal-7, hashtag

我在我的菜单链接（Drupal 7）上添加了主题标签，它会根据需要跳转到正确的内容，效果很流畅。但是浏览器 url 没有改变（[http://mysite.com](http://mysite.com)），因为我希望它用哈希（[http://mysite.com/#section1](http://mysite.com/#section1)， ..etc ）改变，所以用户可以按后退按钮并返回上一个（散列）页面。我尝试了“jQuery hashchange 事件”，但没有成功。也许可以在drupal上做些什么？任何建议都非常感谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T11:08:59.017

也许你的页面上有一个 javascript 阻止了这个：像这样的东西：

```
$('a').click(function(e){
   e.preventDefault();
}) 
```

# asynchronous - 使用 seda 的 Apache 骆驼

> ID：15245272
> 
> 赞同：0
> 
> 时间：2013-03-06T10:50:27.267
> 
> 标签：asynchronous, apache-camel

我想要这样的行为：Camel 从目录中读取文件，将其拆分为块（使用流式传输），将每个块发送到 seda 队列以进行并发处理，处理完成后，调用报告生成器。这是我的骆驼路线：

```
from("file://c:/mydir?move=.done")
.to("bean:firstBean")
.split(ExpressionBuilder.beanExpression("splitterBean", "split"))
.streaming()
.to("seda:processIt")
.end()
.to("bean:reportGenerator");

from("seda:processIt")
.to("bean:firstProcessingBean")
.to("bean:secondProcessingBean"); 
```

当我运行它时，reportGenerator bean 与 seda 处理同时运行。整个 seda 处理完成后如何让它运行一次？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-06T18:07:22.477

拆分器具有内置的并行功能，因此您可以更轻松地执行此操作，如下所示：

```
from("file://c:/mydir?move=.done")
  .to("bean:firstBean")
  .split(ExpressionBuilder.beanExpression("splitterBean", "split"))
  .streaming().parallelProcessing()
    .to("bean:firstProcessingBean")
    .to("bean:secondProcessingBean");
  .end()
  .to("bean:reportGenerator"); 
```

您可以在 Camel 拆分器页面查看有关并行选项的更多详细信息：http: [//camel.apache.org/splitter](http://camel.apache.org/splitter)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-06T15:17:25.207

我认为你可以在第二条路线上使用骆驼的延迟器模式来达到目的。

delay(long) 其中参数以毫秒为单位指示时间。[您可以在此处阅读有关此模式的更多信息](http://camel.apache.org/delayer.html)

例如；`from("seda:processIt").delay(2000) .to("bean:firstProcessingBean");`//延迟这条路线2秒

我建议使用**startupOrder**来配置路由的启动。官方文档提供了有关该主题的详细信息。[请在这里阅读](http://camel.apache.org/configuring-route-startup-ordering-and-autostartup.html)

注意点——“startupOrder 最低的路由首先启动。所有定义的 startupOrder 在你的 CamelContext 中的所有路由中必须是唯一的。”

所以，我建议这样的东西 -

```
from("endpoint1").startupOrder(1)
.to("endpoint2");

from("endpoint2").startupOrder(2)
.to("endpoint3"); 
```

希望有帮助..

PS：我是 Apache Camel 和 stackoverflow 的新手。请原谅可能发生的任何错误。

# jsf-2 - 如何在页面上最初加载手风琴时单击哪个选项卡

> ID：15245275
> 
> 赞同：0
> 
> 时间：2013-03-06T10:50:31.450
> 
> 标签：jsf-2, primefaces

我有一个手风琴面板，其中包含学生姓名的标签。我在其中一个选项卡上选择并选择编辑。我正在调用选项卡更改侦听器并获取学生对象并尝试对其进行编辑工作正常。

但是我的问题是第一次加载 Accordion 时，即使我在选项卡上选择并单击编辑，我也不会得到学生对象。它给了我空指针异常。因为选项卡更改事件在第一次加载时不会被调用。我该如何解决这个问题？

```
private StudBean formBean;

    public StudBean  getFormBean() {
        if(formBean==null){
            formBean= new StudBean();
        }

        return formBean;
    }

    public void onTabChange(TabChangeEvent event) {
        formBean = (StudBean) event.getData();
    }

public String edit(){

            formBean = testDelegate.getDetails(formBean.getName(),formBean.getId());

        return "/ui/EditStudent?faces-redirect=true";
    }

<p:commandButton process="@this" value="edit"  action="#{testBean.edit}" >

    <p:accordionPanel  value="#{testBean.students}" var="stud">  
                  <p:ajax event="tabChange"  listener="#{testBean.onTabChange}" immediate="true"/>
                  <p:tab title="#{stud.name}"> 
```

# python - 如果我们知道先行字符，则计算 Python 中的字符出现次数

> ID：15245278
> 
> 赞同：1
> 
> 时间：2013-03-06T10:50:36.993
> 
> 标签：python, character, word

如果我们知道先例字符，我有一个代码可以计算一个字符的出现次数。
这是我尝试过的，但它不起作用。

该文件仅包含字符为“K”、“L”、“G”、“A”、“S”、“”的单词。

```
text = open("fichier_a_compresser 1.txt", 'r')
alphabet = ("K", "L", "G", "A", "S", " ")
for i in text:
    characterlist  = list(i)

j = 0
cont = 0
for i in alphabet:
    for k in alphabet:
        while j < len(characterlist):
            if (characterlist[j-1]==k and characterlist[j]==i):
                cont = cont + 1
            j = j + 1 
        print str(i) + " appears after the character " + str(k) + " " + str(cont) + " times."
        cont = 0 
```

我认为我在“继续”部分做错了，因为出口始终为 0。
在此先感谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T10:59:46.500

以下代码：

```
for i in text:
    characterlist = list(i) 
```

可能不会像您认为的那样做。它为文件的每一行分配字符列表，一次一个。当循环终止时，它具有文件的最后一行，并丢弃了所有其他行。即使您打算只使用最后一行，也不必将其转换为列表，我认为这是`list(i)`. 字符串的行为已经像列表一样。

至于算法本身，我正在努力遵循它。我认为这可能更接近你想要的：

```
freqs = [ (a, b, len(line.split(a + b)) - 1) for a in alphabet for b in alphabet ]
for (a, b, f) in freqs:
    print '{} appears after {} {} times.'.format(a, b, f) 
```

where`line`是包含要分析的文本的字符串。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T11:20:31.890

使用集合模块中 Python 的出色数据结构将使您的生活更轻松：

```
from collections import defaultdict, Counter

txt = open("fichier_a_compresser 1.txt").read()

counts = defaultdict(Counter)

for i in range(len(txt)-1):
    counts[txt[i]][txt[i+1]]+=1

for first, counter in counts.items():
    for second, count in counter.items():
        print '{} appears after the character {} {} times.'.format(second, first, count) 
```

# ant - 循环遍历ant中的目录结构

> ID：15245283
> 
> 赞同：0
> 
> 时间：2013-03-06T10:50:41.620
> 
> 标签：ant, configuration, ant-contrib

我们想在不使用 foreach 的情况下遍历 ant 中的目录结构。有什么优雅的方法可以做到这一点吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-06T21:17:06.047

[apply 任务](https://ant.apache.org/manual/Tasks/apply.html)可以遍历一组目录或文件

```
<target name="run-apply">
    <apply executable="echo">
        <dirset dir="src"/>
    </apply>
</target> 
```

我个人喜欢[groovy ANT 任务](http://groovy.codehaus.org/The+groovy+Ant+Task)

```
<target name="run-groovy">
    <taskdef name="groovy" classname="org.codehaus.groovy.ant.Groovy"/>
    <dirset id="dirs" dir="src"/>
    <groovy>
        project.references.dirs.each {
            ant.echo it
        }
    </groovy>
</target> 
```

任务 jar 的安装很容易自动化：

```
<target name="install-groovy">
  <mkdir dir="${user.home}/.ant/lib"/>
  <get dest="${user.home}/.ant/lib/groovy-all.jar" src="http://search.maven.org/remotecontent?filepath=org/codehaus/groovy/groovy-all/2.1.1/groovy-all-2.1.1.jar"/>
</target> 
```

最后，如果您通过其他构建文件进行迭代，则[subant](http://ant.apache.org/manual/Tasks/subant.html)任务非常有用：

```
<target name="run-subant">
    <subant>
        <fileset dir="src" includes="**/build.xml"/>
    </subant>
</target> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-02-13T17:59:57.040

简短的回答：不是。有一些方法可以解决这个问题，但`<for/>`为了清晰和简单，我更喜欢 ant-contrib 任务。通过该`<local/>`任务，您现在可以本地化变量的值。以前，您有时必须使用 ant-contrib 的`<var/>`任务来重置值，这样您就可以一遍又一遍地循环它们。

```
<for param="directory">
    <fileset dir="${some.dir}"/>
    <sequential>
        <local name="foo"/>
        <local name="bar"/>  <!-- Properties that may change with each iteration -->
        <!-- Here be dragons -->
    </sequential>
</for> 
```

它干净、简单且易于理解。许多人对 Ant Contrib 的最大问题是不是每个人都可能将它安装在他们的`$ANT_HOME/lib`目录中。够远了。因此，如果您使用 ant-contrib，请将其作为您项目的一部分。

我将 ant-contrib jar 放入`${basedir}/antlib/antcontrib`，然后将其放入我的程序中：

```
<taskdef resource="net/sf/antcontrib/antlib.xml">
    <classpath>
        <fileset dir="${basedir}/antlib/antcontrib"/>
    </classpath>
</taskdef> 
```

现在，当有人检查我的项目时，他们已经安装了 ant-contrib（因为它在我的项目中）并且可以访问（因为我将我的`<taskdef>`任务指向我项目中 ant-contrib.jar 的位置）。

# c - 错误：我所有的函数都出现“函数的隐式声明......”

> ID：15245284
> 
> 赞同：3
> 
> 时间：2013-03-06T10:50:44.930
> 
> 标签：c

这是代码

```
main()
{
    short sMax = SHRT_MAX;
    int iMax = INT_MAX;
    long lMax = LONG_MAX;

    // Printing min and max values for types short, int and long using constants
    printf("range of short int: %i ... %i\n", SHRT_MIN, SHRT_MAX);
    printf("range of int: %d ... %d\n", INT_MIN, INT_MAX);
    printf("range of long int: %ld ... %ld\n", LONG_MIN, LONG_MAX);

    // Computing and printing the same values using knowledge of binary numbers
    // Short
    int computed_sMax = computeShort() / 2;
    printf("\n Computed max and min short values: \n %i ... ", computed_sMax);

    int computed_sMin = (computeShort()/2 + 1) * -1;
    printf("%i\n", computed_sMin);

    //Int
    int computed_iMax = computeInt() / 2;
    printf("\n Computed min and max int values: \n %i ... ", computed_iMax);

    int computed_iMin = computeInt() / 2;
    printf("%i", computed_iMin);

    return 0;
}

int computeShort()
{
    int myShort = 0;
    int min = 0;
    int max = 16;

    for (int i = min; i < max; i++)
    {
        myShort = myShort + pow(2, i);
    }

    return myShort;
}

int computeInt()
{
    int myInt = 0;
    int min = 0;
    int max = 32;

    for (int i = min; i < max; i++)
    {
        myInt = myInt + pow(2, i);
    }

    return myInt;
} 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-03-06T10:52:55.603

您必须在使用函数**之前**声明它们：

```
int computeShort(); // declaration here

int main()
{
    computeShort();
}

int computeShort()
{
    // definition here
} 
```

另一种但**不太可取**的方法是在 main 之前定义函数，因为定义也用作声明：

```
int computeShort()
{
    // return 4;
}

int main()
{
    computeShort();
} 
```

但通常更好的做法是为使用的函数单独声明，因为这样您就没有义务在实现中保持一定的顺序。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-03-06T10:51:58.047

您必须在调用函数之前声明它们。即使对于标准库的某些部分也是如此。

例如， `printf()`通过以下方式声明：

```
#include <stdio.h> 
```

对于您自己的功能，可以：

*   将定义移到*上面* `main()`；定义也用作声明。
*   在调用之前添加原型，通常在之前`main()`：

    `int computeShort();`

另外，请注意

*   应声明局部函数`static`。
*   不接受任何参数的函数应该有一个参数列表`(void)`，而不是其他的`()`东西。

# android - 如何识别流式音频 URL？

> ID：15245287
> 
> 赞同：0
> 
> 时间：2013-03-06T10:50:47.410
> 
> 标签：android, streaming, android-webview, android-audiomanager

我`WebView`用来查看一些网页内容。一些页面将我重定向到流式音频。当我使用设备浏览器访问流式音频 URL 时，它会提示我打开外部播放器或只是播放它。当我用 . 打开它时`WebView`，我看到一个空白页。

我的问题是：如何判断链接（或 URL）实际上是流式音频并进行相应处理？

网址例如：

```
http://mobile.internet-radio.com/MobileInternetRadioPlayer.php?radio=dWszLmludGVybmV0LXJhZGlvLmNvbToxMDY5Nw== 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-06-06T06:08:59.180

我是这样做的：

```
 public String getMimeType(String strUrl) throws IOException, Exception {
    HttpHead httpHead = new HttpHead(strUrl);

    HttpResponse response = getHttpClient().execute(httpHead);

    Header[] headersArr = response.getHeaders("Content-Type");
    String mimeType = headersArr[0].getValue();
    return mimeType;
    } 
```

要使用它：

```
 // check for special content
            String mimeType = null;
            try {
                mimeType = getMimeType(urlStr).toLowerCase();
            } catch (Exception e) {
            }

            if (mimeType != null) {
                // AUDIO
                if (mimeType.startsWith("audio")){
                    Uri uri = Uri.parse(urlStr);
                    Intent intent = new Intent(android.content.Intent.ACTION_VIEW); 
                    intent.setDataAndType(uri, "audio/*"); 
                    startActivity(intent);
                    return true;
                } else if (mimeType.startsWith("video")){
                    Uri uri = Uri.parse(urlStr);
                    Intent intent = new Intent(android.content.Intent.ACTION_VIEW); 
                    intent.setDataAndType(uri, "video/*"); 
                    startActivity(intent);
                    return true;
                }
            } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T10:58:18.733

这是响应的 HTTP 标头：

```
HTTP/1.1 200 OK =>
Date => Wed, 06 Mar 2013 10:53:40 GMT
Server => Apache/2.2.16
X-Powered-By => PHP/5.3.3-7+squeeze14
Cache-Control => max-age=600
Expires => Wed, 06 Mar 2013 11:03:40 GMT
Connection => close
Content-Type => audio/mpeg 
```

因此，返回`Content-Type`的是[Audio MimeType](http://en.wikipedia.org/wiki/Mimetype#Type_audio)之一。这意味着正在返回音频数据。

`HttpResponse.getHeaders()`您可以使用方法获取标题列表。

# javascript - 禁用页面上存在的所有 keyup/keydown/keypressed 事件

> ID：15245294
> 
> 赞同：10
> 
> 时间：2013-03-06T10:51:05.930
> 
> 标签：javascript, jquery

我的页面上有很多关键事件。有没有办法禁用页面上存在的所有 keyup/keydown/keypressed 事件，而不是单独禁用每个事件。我正在寻找使用 javascript/jquery 的解决方案。

谢谢！！

* * *

## 回答 #1

> 赞同：16
> 
> 时间：2013-03-06T10:55:15.180

您*可以*这样做，但我预计在较大的页面上它可能会非常慢：

```
$('*').off('keyup keydown keypress'); 
```

这将选择页面上的每个元素，然后删除任何绑定到它们的`keyup`、`keydown`和事件。`keypress`

如果您想阻止用户使用该`backspace`键导航到上一页，您可以尝试以下代码：

```
var inputTags = ['INPUT', 'TEXTAREA'];

$(document).on('keypress', function(e) {
    if(e.which === 8 && $.inArray(e.target.tagName, inputTags) === -1)
        e.preventDefault();
}); 
```

这应该限制退格键的使用，除非焦点是可以输入文本的输入元素（例如 an`<input type="text">`或 a `<textarea>`）。

看看这个[工作演示](http://jsfiddle.net/FqFmF/1/)。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-03-06T10:56:31.573

尝试

```
$(document).find('*').off('keyup keydown keypressed'); 
```

`$(document).ready()`在页面上所有加载的 JS 之后（`</body>`例如，在标记之前），您应该将其放入块中。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-03-06T11:01:30.557

$('*').unbind('keyup keydown keypress')

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2013-03-06T10:59:10.603

你可以使用 preventDefault() 函数来解决它

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2017-04-05T10:33:23.550

对我来说，这个组合是：

开启按键事件

```
$(document).keypress(function(){
// Code
});
```

为了关闭这个事件，我使用了：

```
$(document).off('keypress');
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2019-01-21T14:07:14.180

`$(elem).off('keypress.jstree')`

我最近也在为此苦苦挣扎，因为我正在向树节点添加编辑功能。通过查看源代码，我注意到有一个事件`keypress.jstree`绑定了 500 毫秒的超时。

只需在初始化树后添加上述`off`绑定即可立即解决我的所有问题！这既适用于静态树结构，也适用于加载了 ajax 数据的树。我目前使用的版本是 3.3.5

希望这可以帮助。

* * *

## 回答 #7

> 赞同：-1
> 
> 时间：2015-09-20T13:37:40.030

此代码使用 substr 删除 TextBox2 中按下的最后一个键。

```
 `$("#TextBox2").val($("#TextBox2").val().substr(0, ($("#TextBox2").val().length-1)));`
  //removes last letter pressed. 
```

# jquery - 在 480px 或以下，更改图像并在单击时恢复为旧图像

> ID：15245296
> 
> 赞同：0
> 
> 时间：2013-03-06T10:51:16.093
> 
> 标签：jquery

我对 JQuery 完全陌生，还在学习，所以我需要一些帮助。我有一个带有横幅的网页，当屏幕尺寸为 480 像素或更少时，它将用临时图像替换横幅，以使移动用户更快。这么好。但现在问题来了。当用户单击此临时图像时，它应该恢复为旧图像。在这种情况下，横幅。我怎样才能做到这一点？

到目前为止我的代码：

```
$("document").ready(function() {
    if ( $(window).width() <= 480) {
            $("#img").attr("src", "temp_image.jpg");
    }
}); 
```

和 HTML：

```
<div id="banner">
     <a href="#"><img id="img" src="banner.jpg" alt="banner" /></a>
</div> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T10:54:08.403

您的代码看起来不错，我认为只需在您的 doc ready 语句中从文档周围删除 " 将使您的代码工作 - 为了恢复图像，您可以使用类似的东西

```
$(document).on('click','#img',function() {
    if( $(this).attr('src') === 'temp.jpg' ) 
    {
         $(this).attr('src','mainimg.jpg')
    }
}); 
```

但是我不确定如果单击 img 元素，您是否还想将其恢复为较小的图像？

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T10:59:19.483

要完全按照您的要求进行操作，您可以将点击处理程序附加到 img，然后让它替换图像，就像您在加载文档时所做的那样。例如

```
$('#img').click(function(){
    $("#img").attr("src", "banner.jpg");
    //following line to unbind the click handler so it doesnt keep firing (even though it wont do anything)
    $('#img').unbind();
}); 
```

但是，我认为 Sergios 的答案更适合您想要的。

要记住一件事。你说它会“让移动用户更快”，但此时横幅图像已经加载，你只是用另一个替换它，当然这实际上会使它变慢，因为你正在加载两个图像而不是一个。就外观而言，它看起来会更好，但我认为它不会让它更快。如果我有错误的一端，请纠正我！

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-06T11:01:11.570

您可以将您的 html 更改为：

```
<div id="banner">
     <a href="#"><img id="img" src="banner.jpg" alt="banner" data-big="banner.jpg" data-small="test_image.jpg"/></a>
</div> 
```

结果 js 可能是以下内容（只是为了避免硬编码链接）：

```
$("document").ready(function() {
    if ( $(window).width() <= 480) {
            $("#img").attr("src", $("#img").data("small"));
    }

    $("#img").on("click", function () {
        var img = $("#img");
        if (img.attr("src") != img.data('big') {
            img.attr("src") = img.data('big');
        }
    });
}); 
```

将图像 src 恢复为小尺寸取决于您希望如何处理它，暂时不知道 :)

# python - 如何在烧瓶安全 mongoengine 应用程序中确认 create_user 创建的用户？

> ID：15245299
> 
> 赞同：4
> 
> 时间：2013-03-06T10:51:20.147
> 
> 标签：python, mongodb, flask, mongoengine, flask-security

我有一个使用**mongoengine**和从示例中构建的**flask-security**的 python 烧瓶应用程序，以公开所有确认、注册、跟踪和恢复功能。

一切正常，除了用户在代码中使用命令式创建：

```
MongoEngineUserDatastore.create_user(...) 
```

无法登录。也就是说，当您尝试使用此用户登录时，您会收到一条错误消息：

```
"Email requires confirmation" 
```

由于带有哈希 URL 的电子邮件尚未发送，因此无法确认。是否有一个参数我可以在某处传递以在创建时确认此用户或在某处设置已确认标志？

[这](https://gist.github.com/davidthewatson/327776905ef30815c138)是我的代码：

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-06T18:30:11.910

我通过确认一个新注册的用户并检查 mongodb 以查看添加了哪些字段来解决这个问题。原来确认的必填字段是confirmed_at，它必须有一个日期时间，所以：

```
import datetime

# Create a user to test with
@app.before_first_request
def create_user():
    user_datastore.create_user(
        email='me@mydomain.com',
        password=utils.encrypt_password('password'),
        confirmed_at=datetime.datetime.now()) 
```

我在这里更新了要点：

[https://gist.github.com/davidthewatson/327776905ef30815c138](https://gist.github.com/davidthewatson/327776905ef30815c138)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-06T11:27:59.087

创建测试用户时，您需要使它们处于活动状态，例如：

```
@app.before_first_request
def create_user():
    user_datastore.create_user(
        email='me@mydomain.com', 
        password=utils.encrypt_password('password'),
        active=True) 
```

# java - StartWeblogic.sh linux中环境变量的设置

> ID：15245300
> 
> 赞同：0
> 
> 时间：2013-03-06T10:51:24.660
> 
> 标签：java, linux, environment-variables, weblogic-10.x

我必须在 startWeblogic.sh 的 JAVA_OPTIONS 中设置环境变量

在 Windows 中我设置为

设置 JAVA_OPTIONS=-DCommonFilePath="" -Dwindow.title=App-Name -Dsimulator.context_path=/SiteMinder

上述语句在 Windows 中运行良好

但是如果我尝试在 Linux 中设置，它不会接受它。

JAVA_OPTIONS=-DCommonFilePath="" -Dwindow.title=App-Name -Dsimulator.context_path=/SiteMinder

在服务器启动时，它显示的“-DCommonFilePath=""" 文件或目录不存在。

请帮助我。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T14:48:50.153

你需要编写正确的shell命令：

```
JAVA_OPTIONS='-DCommonFilePath="" -Dwindow.title=App-Name -Dsimulator.context_path=/SiteMinde' 
```

这意味着包含在`'`（更好，`"`但它已经在您的命令中使用），确保部分 -DCommonFilePath="" 是否正确，我怀疑它应该是 -DCommonFilePath=""。对于**这个**目录，或者甚至更好地放在那里绝对路径（你会确定它是正确的）

并且您需要在使用前导出环境变量：

```
export $JAVA_OPTIONS 
```

别忘了上`$`。你可以尝试使用它。如果您不想每次运行应用程序时都将这些命令放入您的**bash_profile**

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T14:47:00.463

您需要在 的值周围加上引号`JAVA_OPTIONS`并转义 中的引号`-DCommonFilePath=""`，如下所示：

```
JAVA_OPTIONS="-DCommonFilePath=\"\" -Dwindow.title=App-Name -Dsimulator.context_path=/SiteMinder" 
```

# java - Java SimpleDateFormat 时区偏移量，分钟用冒号分隔

> ID：15245307
> 
> 赞同：22
> 
> 时间：2013-03-06T10:51:43.227
> 
> 标签：java, simpledateformat

如何将我的日期格式化为`2012-11-25T23:50:56.193+01:00`using `SimpleDateFormat`？
如果我`Z`以如下格式使用

`yyyy-MM-dd'T'hh:mm:ss.SSSZ`

然后它显示

`2013-03-06T11:49:05.490+0100`

* * *

## 回答 #1

> 赞同：52
> 
> 时间：2013-04-29T22:33:41.150

您可以使用**Java 7**中`+01:00`的*SimpleDateFormat* ( ) 或**Joda**的*DateTimeFormat* ( ) 来获取时区偏移量。**`yyyy-MM-dd'T'HH:mm:ss.SSSXXX`***`yyyy-MM-dd'T'HH:mm:ss.SSSZZ`*****

 ****** * *

## 回答 #2

> 赞同：4
> 
> 时间：2017-05-10T14:21:30.257

这是2017年的答案。如果有任何方法可以（有），请将过时的类扔掉，`SimpleDateFormat`并使用[`java.time`](https://docs.oracle.com/javase/tutorial/datetime/index.html). 特别是，所需的格式`2012-11-25T23:50:56.193+01:00`符合 ISO-8601，因此与较新的类一起开箱即用，只需使用`OffsetDateTime.toString()`：

```
 OffsetDateTime time = OffsetDateTime.now();
    System.out.println(time.toString()); 
```

这打印出类似的东西

```
2017-05-10T16:14:20.407+02:00 
```

但是，您可能希望或可能不希望知道的一件事是，它在秒上打印与打印`OffsetDateTime`对象精度所需的一样多的 3 位小数组。显然，在我的计算机上，“现在”的精度为毫秒（秒，小数点后三位）。

例如，如果你有一个老式的`Date`对象，你是通过调用一些遗留方法得到的，我建议你做的第一件事是将它转换为`Instant`现代类之一。从那里您可以根据您的要求轻松进行其他转换：

```
 Date now = new Date();
    OffsetDateTime time = now.toInstant().atZone(ZoneId.systemDefault()).toOffsetDateTime();
    System.out.println(time.toString()); 
```

我真的做了比必要的更多的转换。`atZone(ZoneId.systemDefault())`产生了一个`ZonedDateTime`，它`toString()`并不总是给你你说你想要的格式；但它可以很容易地格式化成它：

```
 ZonedDateTime time = now.toInstant().atZone(ZoneId.systemDefault());
    System.out.println(time.format(DateTimeFormatter.ISO_OFFSET_DATE_TIME)); 
```*****

# c++ - 传递未知大小的引用多维数组

> ID：15245309
> 
> 赞同：2
> 
> 时间：2013-03-06T10:51:44.597
> 
> 标签：c++, c

如何在 C 或 C++ 中通过引用传递未知大小的多维数组？

## 编辑：

例如，在 main 函数中，我有：

```
int main(){
    int x, y;
    int arr[x][y];
    // pass_by_ref(/* passing just arr[][] by reference */);
} 
```

和功能：

```
void pass_by_ref(/* proper parameter for arr[][] */){
    // int size_x_Arr = ???
    // int size_y_arr = ???
} 
```

如何实现注释行？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-06T11:00:15.410

简单地说，你不能。在 C 中，您不能通过引用传递，因为 C 没有引用。在 C++ 中，您不能传递大小未知的数组，因为 C++ 不支持可变长度数组。

替代解决方案：在 C99 中，将指针传递给可变长度数组；在 C++ 中，传递对`std::vector<std::vector<T>>`.

C99 演示：

```
#include <stdio.h>

void foo(int n, int k, int (*arr)[n][k])
{
    int i, j;
    for (i = 0; i < n; i++) {
        for (j = 0; j < k; j++) {
            printf("%3d ", (*arr)[i][j]);
        }
        printf("\n");
    }
}

int main(int argc, char *argv[])
{
    int a = strtol(argv[1], NULL, 10);
    int b = strtol(argv[2], NULL, 10);

    int arr[a][b];
    int i, j;
    for (i = 0; i < a; i++) {
        for (j = 0; j < b; j++) {
            arr[i][j] = i * j;
        }
    }

    foo(a, b, &arr);

    return 0;
} 
```

C++03 演示：

```
#include <iostream>
#include <vector>
#include <cstdlib>
#include <ctime>

void foo(std::vector < std::vector < int > > &vec)
{
    for (std::vector < std::vector < int > >::iterator i = vec.begin(); i != vec.end(); i++) {
        for (std::vector<int>::iterator j = i->begin(); j != i->end(); j++) {
            std::cout << *j << " ";
        }
        std::cout << std::endl;
    }
}

int main(int argc, char *argv[])
{
    int i = strtol(argv[1], NULL, 10);
    int j = strtol(argv[2], NULL, 10);

    srand(time(NULL));

    std::vector < std::vector < int > > vec;
    vec.resize(i);
    for (std::vector < std::vector < int > >::iterator it = vec.begin(); it != vec.end(); it++) {
        it->resize(j);
        for (std::vector<int>::iterator jt = it->begin(); jt != it->end(); jt++) {
            *jt = random() % 10;
        }
    }

    foo(vec);

    return 0;
} 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-03-06T11:58:41.980

H2CO3 的解决方案适用于支持 VLA 的 C99 或 C2011 编译器。对于*不*支持 VLA 的 C89 或 C2011 编译器，或者（上帝保佑）K&R C 编译器，您必须执行其他操作。

假设您要传递一个连续分配的数组，您可以传递一个指向第*一个元素*( `&a[0][0]`) 的指针以及维度大小，然后将其视为一维数组，映射索引如下：

```
void foo( int *a, size_t rows, size_t cols )
{
  size_t i, j;

  for (i = 0; i < rows; i++)
  {
    for (j = 0; j < cols; j++)
    {
      a[i * rows + j] = some_value();
    }
  }
}

int main( void )
{
  int arr[10][20];

  foo( &arr[0][0], 10, 20 );
  ...
  return 0;
} 
```

这将适用于堆栈上分配的数组：

```
T a[M][N]; 
```

对于以下形式的动态分配数组：

```
T (*ap)[N] = malloc( M * sizeof *ap ); 
```

因为两者都将具有连续分配的行。对于以下形式的动态分配数组，这将*不起作用*（或至少不能保证起作用）：

```
T **ap = malloc( M * sizeof *ap );
if (ap)
{
  size_t i;
  for (i = 0; i < M; i++)
  {
    ap[i] = malloc( N * sizeof *ap[i] );
  }
} 
```

因为不能保证所有行都将连续分配给彼此。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-01-24T18:49:41.583

John Bode 的解释很好，但是有个小错误：应该是

```
i * cols + j 
```

代替

```
i * rows + j 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-06T13:20:54.803

这是对@John Bode 的好回答的一种评论

> 对于以下形式的动态分配数组，这将不起作用（或至少不能保证起作用）：

但是这个变体将：

```
T **ap = malloc( M * sizeof *ap );
if (ap) return NULL;     ---> some error atention
if (ap)
{
  ap[0] = malloc( M * N * sizeof *ap[i] );
  if (ap[0]) { free(ap); return NULL;}     ---> some error atention
  size_t i;
  for (i = 1; i < M; i++)
  {
    ap[i] = ap[0] + i * N;
  }
} 
```

使用后：

```
free(ap[0]);
free(ap); 
```

因为你`T`为数组`int`调用`foo`了 als`int ap[M][N];`

```
 foo( &ap[0][0], M, N); 
```

因为您保证所有行都彼此连续分配。这种分配效率更高。

* * *

## 回答 #5

> 赞同：-1
> 
> 时间：2013-03-06T10:55:44.513

如果你真的想要引用，那么它只在 C++ 中。

通过引用传递的二维 int 数组示例

```
void function_taking_an_array(int**& multi_dim_array); 
```

但是参考没有任何优势，所以只需使用：

```
void function_taking_an_array(int** multi_dim_array); 
```

我建议您使用容器来保存您的阵列。

# php - APC 操作码缓存中断应用程序

> ID：15245314
> 
> 赞同：3
> 
> 时间：2013-03-06T10:51:55.350
> 
> 标签：php, zend-framework, deployment, apc, composer-php

我使用 composer 安装 Zend Framework 2 和其他库。每次在同一路径中重新安装应用程序后，我都必须手动清除 APC（版本 3.1.13）操作码缓存（使用 PHP 5.4.8），否则会出现类似错误

```
PHP Fatal error:  Interface 'Zend\\Mvc\\ApplicationInterface' not found 
```

或者

```
PHP Fatal error:  include(): Cannot redeclare class zend\\eventmanager\\eventscapableinterface 
```

每次安装应用程序后，失败的类都会不断变化。我有[apc.stat=1](http://www.php.net/manual/en/apc.configuration.php#ini.apc.stat)，所以如果我之前在同一路径上部署了应用程序，操作码缓存应该注意到新部署的 php 文件并自动重新编译它们。

我已经在 Github 上与作曲家开发人员讨论了这个问题，并在此处发布了我的 APC 设置：[https](https://github.com/composer/composer/issues/1662) ://github.com/composer/composer/issues/1662 。我们同意这看起来更像是一个 APC 问题。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-16T01:39:15.117

我认为这是`include_path`设置了两次。当`include_path`调用两次时，它会使 APC 读取和解析变得混乱。确保您的 ZEND 项目没有在`include_path`.

另一个检查你是否正确配置了 ini 设置或手动放置了 ini 设置数据：

```
apc.include_once_override = 0
apc.canonicalize = 0
apc.stat = 0 
```

与此同时，由于更新，这个问题已经得到解决。

# java - 间歇性 JUnit 错误 - java 虚拟机连接被拒绝

> ID：15245319
> 
> 赞同：1
> 
> 时间：2013-03-06T10:52:03.437
> 
> 标签：java, junit, jvm, jmockit

我在我们的 Jenkins 构建系统中遇到了间歇性的 JUnit 4 错误。重新运行后测试通过。该测试由 Maven 启动，并使用 JMockit 模拟对象。

异常的根本原因来自VM：

```
Caused by: java.io.IOException: Connection refused
at sun.tools.attach.LinuxVirtualMachine.connect(Native Method)
at sun.tools.attach.LinuxVirtualMachine.<init>(LinuxVirtualMachine.java:124) 
```

有没有人经历过这个并找到了解决方案？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-05-03T10:51:17.940

看起来它是 JVM 中的一个错误[http://bugs.sun.com/bugdatabase/view_bug.do?bug_id=6649594](http://bugs.sun.com/bugdatabase/view_bug.do?bug_id=6649594)

解决方法是传递一个 JVM 参数：

```
-XX:+StartAttachListener 
```

并且测试停止失败。

# sql - 未指定 order by 时 SELECT TOP 如何工作？

> ID：15245322
> 
> 赞同：20
> 
> 时间：2013-03-06T10:52:07.700
> 
> 标签：sql, sql-server, tsql, select, sql-order-by

[msdn 文档](http://msdn.microsoft.com/en-us/library/ms189463.aspx)说，当我们写

```
SELECT TOP(N) ..... ORDER BY [COLUMN] 
```

我们得到按`column`（`asc`或`desc`取决于我们选择的内容）排序的前（n）行

但是，如果我们不指定任何 order by，msdn会`random`按照[此处](http://msdn.microsoft.com/en-us/library/ms189463.aspx)`Gail Erickson`指出的那样说。正如他指出的那样，应该是这样。但正如那里指出的那样`unspecified``random` `Thomas Lee`

> 当 TOP 与 ORDER BY 子句结合使用时，结果集仅限于前 N 个有序行；否则，它返回前 N 行随机数

所以，我在没有任何索引的表上运行了这个查询，首先我运行了这个..

```
SELECT *
FROM
    sys.objects so
WHERE
    so.object_id NOT IN (SELECT si.object_id
                         FROM
                             sys.index_columns si)
    AND so.type_desc = N'USER_TABLE' 
```

然后在其中一个表中，（实际上我在上面查询返回的所有这些表中尝试了下面的查询）并且**我总是得到相同的行。**

```
SELECT TOP (2) *
FROM
    MstConfigSettings 
```

这总是返回相同的 2 行，查询 1 返回的所有其他表也是如此。现在执行计划显示 3 个步骤。

![在此处输入图像描述](../Images/ef33d839f8c1a0c41f6daa91ee3e8454.png)

如您所见，没有索引查找，它只是一个纯表扫描，并且

![在此处输入图像描述](../Images/077a967fc19a7544e1de606ebac399e9.png)

显示`Top`实际行数为 2， ; 也是如此`Table Scan`。事实并非如此（我有很多行）。

但是当我运行类似的东西时

```
SELECT TOP (2) *
FROM
    MstConfigSettings
ORDER BY
    DefaultItemId 
```

执行计划显示

![在此处输入图像描述](../Images/52ef4e67b388658134651f021f708a1d.png)

和

![在此处输入图像描述](../Images/350b8862b051ab1bf4b88009ee2761df.png)

所以，当我不应用时`ORDER BY`，步骤是不同的（没有排序）。但问题是，如果没有，它是如何`TOP`工作的`Sort`，为什么以及如何**总是**给出相同的结果？

* * *

## 回答 #1

> 赞同：22
> 
> 时间：2013-03-06T10:55:17.080

无法保证您得到哪两行。它只是从表扫描中检索到的前两个。

一旦返回两个行，执行计划中的`TOP`迭代器将停止请求行。

对于堆的扫描，这可能是分配顺序的前两行，但这不能保证。例如，SQL Server 可能使用[高级扫描](http://msdn.microsoft.com/en-us/library/ms191475.aspx)功能，这意味着您的扫描将读取最近从另一个并发扫描中读取的页面。

# c++ - 将代码从 gcc 移植到 clang

> ID：15245326
> 
> 赞同：3
> 
> 时间：2013-03-06T10:52:08.690
> 
> 标签：c++, templates, parameters, c++11, clang

嗨，我正在尝试使我的代码在 clang 3.2-9 下编译，这是我无法编译的简化示例：

```
template<template <class>class Derived, typename Type>
class Foo
{
    public:
        Foo(){}
};

template<typename Type>
class Bar
    : public Foo<Bar, Type>
{
    public:
        Bar()
            : Foo<Bar, Type>()
        {}
};

int main()
{
    Bar<int> toto;
} 
```

这是clang告诉我的错误：

```
test.cpp:14:19: error: template argument for template template parameter must be a class template
            : Foo<Bar, Type>()
                  ^
test.cpp:14:15: error: expected class member or base class name
            : Foo<Bar, Type>()
              ^
test.cpp:14:15: error: expected '{' or ','
3 errors generated. 
```

它在 gcc 4.7.2 下编译没有任何问题。而且我无法获得正确的语法以使其在clang下工作。谁能帮帮我，我有点卡住了......

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-06T10:55:37.533

只需为您的类模板使用完全限定名称：

```
template<template <class> class Derived, typename Type>
class Foo
{
    public:
        Foo(){}
};

template<typename Type>
class Bar
    : public Foo<::Bar, Type>
//               ^^^^^
{
    public:
        Bar()
            : Foo<::Bar, Type>()
//                ^^^^^
        {}
};

int main()
{
    Bar<int> toto;
} 
```

问题在于，在内部`Bar`，名称`Bar`是指类本身，即类模板（即）的*实例化*，而不是模板本身。`Bar``Bar<Type>`

[您可以在此处](http://liveworkspace.org/code/122SnG$1)查看此示例的编译。

# html - 使用 2 个表单将一个值传递给多个 php 文件

> ID：15245327
> 
> 赞同：0
> 
> 时间：2013-03-06T10:52:11.350
> 
> 标签：html, forms, header, export-to-csv

我有一个用户输入字段'from'和'to'必须提交到两个不同的php文件，它们将mysql表导出到csv文件并在新窗口中打开它以供下载。由于我有 2 个表和 2 个 CSV 文件要由用户下载，因此我使用此表单将值传递给 2 个执行导出的 php 文件。

下面的代码有 2 个表单和 2 个 php，只有第一个工作正常。第二种形式无法访问 $_POST 数组。

```
 <!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
    <html>
    <head>
    <title>EXPORT INVOICE </title>
    <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">

    <SCRIPT LANGUAGE="JavaScript">
      function runscript()
      {
        document.f1.submit();
        document.f2.submit();
      }
    </SCRIPT>

    </head>

    <body>

        <form name="f1" method="post" action="export-tst-with-header.php" target="_blank">

        <br>
        <span class="sty2">Enter to export From Invoice No.:</span> <input type="text" size='10' maxlength='10' name="finv">

        <span class="sty2">To Invoice No:</span>&nbsp; <input type="text"  size='10' maxlength='10' name="tinv">
        </form>

            <form name="f2" method="post" action="export-tst-with-header2.php" target="_blank">
            </form>

        <input type="button" value="Export" onClick="runscript()">

    </body>
    </html> 
```

下面是第一个将 mysql 表转换为 csv 文件的 EXPORT 文件，它工作正常，第二个文件也一样，只是导出的表不同，这是不工作的：

```
 <?php

    //echo "Exporting file - process"."<br><br>";

    $dbservertype='mysql';
    $servername='localhost';
    $dbusername='aab';
    $dbpassword='aabs';
    $dbname='aab';

    ////////////////////////////////////////
    ////// DONOT EDIT BELOW  /////////
    ///////////////////////////////////////
    connecttodb($servername,$dbname,$dbusername,$dbpassword);
    function connecttodb($servername,$dbname,$dbuser,$dbpassword)
    {
    global $link;
    $link=mysql_connect ("$servername","$dbuser","$dbpassword");
    if(!$link){die("Could not connect to MySQL");}
    mysql_select_db("$dbname",$link) or die ("could not open db".mysql_error());
    }
    //////// End of connecting to database ////////
    $from=$_POST['finv'];
    $to=$_POST['tinv'];

    //echo $_POST['action'];

    //if ($_POST['action'] == 'download')
    //{

        header("Content-type: application/csv");
        header("Content-Disposition: attachment; filename=downloadinv.csv");
        header("Pragma: no-cache");
        header("Expires: 0");

    $query = "SELECT * FROM INVHDR WHERE Invno between $from AND $to";

    $export = mysql_query ($query ) or die ( "Sql error : " . mysql_error( ) );

    $fields = mysql_num_fields ( $export );

    for ( $i = 0; $i < $fields; $i++ )
    {
        $header .= mysql_field_name( $export , $i ) . "\t";

    }

    while( $row = mysql_fetch_row( $export ) )
    {
        $line = '';
        foreach( $row as $value )
        {                                            
            if ( ( !isset( $value ) ) || ( $value == "" ) )
            {
                $value = "\t";
            }
            else
            {
                $value = str_replace( '"' , '""' , $value );
                $value = '"' . $value . '"' . "\t";
            }
            $line .= $value;
        }
        $data .= trim( $line ) . "\n";
    }
    $data = str_replace( "\r" , "" , $data );

    if ( $data == "" )
    {
        $data = "\n(0) Records Found!\n";                        
    }

    mysql_query("UPDATE INVHDR SET Export=1 WHERE Invno between $from AND $to");

    print "$header\n$data";

    //}
    exit();
    php?> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T11:07:58.523

您必须将 $_POST['finv'] 和 $_POST['tinv'] 传递到第二个 php 页面。要么将它们存储在 $_SESSION 变量中（并从第二页的 $_SESSION['finv'] 和 $_SESSION['tinv'] 中恢复它们，要么创建一个隐藏字段并重新发布它们。

# java - 计算 2 个字符串之间的相似性度量

> ID：15245328
> 
> 赞同：0
> 
> 时间：2013-03-06T10:52:11.890
> 
> 标签：java, string, string-comparison

我有两个字符串，我将它们拆分为单词，并为两个字符串中的每对单词。

我有他们之间的相似之处。

如何计算两个字符串之间的最终相似度？

# api - 比较来自 Android 和 iOS 应用程序的 API 访问参数

> ID：15245335
> 
> 赞同：0
> 
> 时间：2013-03-06T10:52:26.067
> 
> 标签：api, http, automation, compare, packet-sniffers

我们正在开发现有 iOS 应用程序的 android 端口（由同一家公司制造并访问相同的服务器 API）。服务器 API 很大，包含许多可选参数。开发人员可以倾向于跳过可选参数……这可能会使应用程序在某些用例中的行为略有不同。

针对不同情况手动扫描所有这些参数的代码是乏味的并且仍然容易出错。这里有什么方法可以用软件来做到这一点。

就像嗅探来自两个 API 的 http 调用并获取差异。无论如何，即使不完全自动化，也要在一定程度上实现自动化？

我想这是为不同平台维护应用程序的公司的常见问题。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T11:16:24.817

您可以使用 Fiddler 之类的工具。它有点旧，我最近没用过，但可能对你有用。

更多信息[在这里](http://blogs.esri.com/esri/supportcenter/2011/12/06/configuring-fiddler-to-capture-web-traffic-from-an-iphone-ipad-device/)。

# mysql - 在 SSIS 中使用时 DSN 出错？

> ID：15245340
> 
> 赞同：1
> 
> 时间：2013-03-06T10:52:35.040
> 
> 标签：mysql, ssis, dsn

无法检索连接管理器“MySQL Connector.root”的表信息。尝试读取或写入受保护的内存。这通常表明其他内存已损坏。（微软视觉工作室）

尝试读取或写入受保护的内存。这通常表明其他内存已损坏。（系统.数据）

* * *

节目地点：

```
 at System.Data.Common.UnsafeNativeMethods.SQLFreeStmt(OdbcStatementHandle StatementHandle, STMT Option)
   at System.Data.Odbc.OdbcStatementHandle.FreeStatement(STMT stmt)
   at System.Data.Odbc.CMDWrapper.FreeStatementHandle(STMT stmt)
   at System.Data.Odbc.OdbcDataReader.Close(Boolean disposing)
   at System.Data.Odbc.OdbcDataReader.Dispose(Boolean disposing)
   at System.Data.Common.DbDataReader.Dispose()
   at System.Data.Odbc.OdbcMetaDataFactory.GetTablesCollection(String[] restrictions, OdbcConnection connection, Boolean isTables)
   at System.Data.Odbc.OdbcMetaDataFactory.PrepareCollection(String collectionName, String[] restrictions, DbConnection connection)
   at System.Data.ProviderBase.DbMetaDataFactory.GetSchema(DbConnection connection, String collectionName, String[] restrictions)
   at System.Data.ProviderBase.DbConnectionInternal.GetSchema(DbConnectionFactory factory, DbConnectionPoolGroup poolGroup, DbConnection outerConnection, String collectionName, String[] restrictions)
   at System.Data.Odbc.OdbcConnection.GetSchema(String collectionName, String[] restrictionValues)
   at Microsoft.DataWarehouse.Design.OdbcSchema.GetSchema(String collectionName, String[] restrictionValues)
   at Microsoft.DataWarehouse.Design.DataSourceConnection.GetSchemaTable(DataTable& dataTable, String collectionName, String[] restrictions)
   at Microsoft.DataWarehouse.Design.DataSourceConnection.ConvertGetSchema(DataTable& dataTable, Guid schemaEnum, Object[] restrictions)
   at Microsoft.DataWarehouse.Design.DataSourceConnection.GetSchemaTable(DataTable& dataTable, Guid schemaEnum, Object[] restrictions)
   at Microsoft.DataTransformationServices.Design.ComboBoxWithTables.GetTableInfos(DataSourceConnection dataSourceConnection, String connectionName)
   at Microsoft.DataTransformationServices.Design.ComboBoxWithTables.FillTableOrViewComboBox() 
```

有什么想法可以解决这个问题吗？连接很好，因为测试连接显示已连接，但在运行时会发生这种情况。

# function - 执行 postgresql 函数时出错

> ID：15245343
> 
> 赞同：1
> 
> 时间：2013-03-06T10:52:36.930
> 
> 标签：function, postgresql, stored-procedures, plpgsql

我有这个简单的功能：

```
CREATE OR REPLACE FUNCTION soundavity.perform_search_by_serie_name( in_search_text   text )
RETURNS bigint[] AS

$BODY$

DECLARE 
match_id bigint[];  

BEGIN

SELECT id INTO match_id
FROM soundavity.tv_serieslist_tbl
where id IN (   
        SELECT id 
        FROM table
        WHERE to_tsvector('english', name) @@ to_tsquery('english', in_search_text)
        )
LIMIT 10;   

RETURN match_id;

END; 
```

但是当我尝试

```
select perform_search_by_serie_name('something'); 
```

Postgres 返回：

```
ERROR:  array value must start with "{" or dimension information
CONTEXT:  PL/pgSQL function soundavity.perform_search_by_serie_name(text) line 8 at    SQL statement 
```

错误在哪里？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T11:49:56.017

'SELECT id' 返回 setof bigint 而不是 bigint 数组。试试这个：

```
DECLARE 
    match_id bigint[] = '{}';
    rid bigint;
BEGIN
    for rid in
        SELECT ... -- without INTO
    loop
        match_id:= array_append(match_id, rid);
    end loop;
RETURN match_id; 
```

# iphone - 当 UITableView 和 UIScrollView 都存在时，如何区分 scrollViewDidScroll 调用的来源？

> ID：15245347
> 
> 赞同：7
> 
> 时间：2013-03-06T10:52:48.153
> 
> 标签：iphone, ios, ios5

我同时使用 a`UITableView`和`UIScrollView`inside `UIViewController`。

我的问题是当我滚动表格视图或滚动视图时，会触发 didScroll 委托调用。

如何识别`scrollViewDidScroll`委托调用的来源？

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2013-03-06T10:55:53.917

检查委托中给出的 scrollView 参数。

```
- (void)scrollViewDidScroll:(UIScrollView *)scrollView {
    if(scrollView == self.tableView) {
      // its your tableView
    }
    else if(scrollView == self.scrollView) {
      // its your scrollView
    }
} 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-03-06T11:11:15.810

didScroll 方法将滚动视图作为输入

```
- (void)scrollViewDidScroll:(UIScrollView *)scrollView{
    if(scrollView == self.tableViewInstance){//this is  your table view}
    else {//this is your scroll view}
} 
```

您可以检查输入并查看调用委托方法的是您的滚动视图还是表格视图。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-06T10:55:14.510

您可以将 UIScrollView 的标签`0`添加为 并将 UITableView 的标签添加为`1`。在委托内部检查标签以了解其中哪个被滚动并执行您的操作：

```
- (void)scrollViewDidScroll:(UIScrollView *)scrollView
  {
       if(scrollViewl.tag == 0) // ur in scrollView
        if(scrollViewl.tag == 1) // ur in tableView
   } 
```

# java - 使用 document.execCommand 与 WebView 交互

> ID：15245349
> 
> 赞同：1
> 
> 时间：2013-03-06T10:52:49.637
> 
> 标签：java, javafx-2

我正在使用 WebView 来实现富文本编辑器。我有一个带有控制按钮（粗体、斜体等）的 JavaFX 工具栏和下面的 web 视图。当用户单击工具栏中的按钮时，我使用 javascript 命令 document.execCommand 来操作 webview。

如果在 web 视图中没有选择任何内容，这很好用，但是如果选择了一些文本并且我单击粗体按钮，则文本变为粗体，但一旦我取消选择文本，它就会被删除。

我创建了一个测试用例，其中包含一个 JavaFX 按钮和一个带有 contenteditable 集的 WebView 和一个 HTML 按钮，以表明当我单击它时不会发生这种情况，即使它使用与 JavaFX 按钮相同的 document.execCommand。在我看来，当我单击 JavaFX 按钮时，WebView 失去焦点是一个问题。有没有人有办法解决这个问题，或者我注定要在 HTML 中实现工具栏？

* * *

WebViewTest.java：

```
import javafx.application.Application;
import javafx.event.ActionEvent;
import javafx.event.EventHandler;
import javafx.scene.Scene;
import javafx.scene.control.Button;
import javafx.scene.layout.StackPane;
import javafx.scene.layout.VBox;
import javafx.scene.web.WebView;
import javafx.stage.Stage;

public class WebViewTest extends Application {
    public static void main(String[] args) {
        launch(args);
    }

    @Override
    public void start(Stage primaryStage) {
        primaryStage.setTitle("Hello World!");
        final WebView webView = new WebView();
        webView.getEngine().load(getClass().getResource("test.html").toExternalForm());

        StackPane root = new StackPane();
        VBox box = new VBox();
        Button button = new Button();
        button.setText("Bold");
        button.setOnAction(new EventHandler<ActionEvent>() {
            @Override
            public void handle(ActionEvent actionEvent) {
                webView.getEngine().executeScript("bold();");
            }
        });
        box.getChildren().add(button);
        box.getChildren().add(webView);
        root.getChildren().add(box);
        primaryStage.setScene(new Scene(root, 300, 250));
        primaryStage.show();
    }
} 
```

* * *

测试.html：

```
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr">
<head>
    <title>TinyMCE Test</title>
    <meta http-equiv="content-type" content="text/html; charset=utf-8"/>
    <script>
        window.onload = function() {
            document.designMode = "on";
        };

        function bold() {
            document.execCommand("bold");
        }
    </script>
</head>
<body>
    <br /><br /><input type="button" value="Bold" onclick="bold();" />
</body>
</html> 
```

# android - 使android中的UI内容无效

> ID：15245353
> 
> 赞同：0
> 
> 时间：2013-03-06T10:52:57.413
> 
> 标签：android, invalidation, mapactivity

我有一个 MapActivity 和一个 Spinner。在 Spinner 上有 OnItemSelected 事件，它会改变视图的内容。所以我在微调器 onItemSelected 事件上再次应用了 setContentView，因为我更改了实际包含数据的 var 内容。但在这里它导致了崩溃原因：java.lang.IllegalStateException：您只允许在 MapActivity 中有一个 MapView

所以我这样做了。

```
startActivity(new Intent(MapMultipleUsersActivity.this,MapMultipleUsersActivity.class));
finish(); 
```

我尝试在 mapview 对象上无效，但它的任务不成功。所以我需要做什么呢？

我的完整堆栈跟踪如下

```
 FATAL EXCEPTION: main
android.view.InflateException: Binary XML file line #6: Error inflating class <unknown>
at android.view.LayoutInflater.createView(LayoutInflater.java:513)
at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:565)
at android.view.LayoutInflater.rInflate(LayoutInflater.java:618)
at android.view.LayoutInflater.inflate(LayoutInflater.java:407)
at android.view.LayoutInflater.inflate(LayoutInflater.java:320)
at android.view.LayoutInflater.inflate(LayoutInflater.java:276)
at com.android.internal.policy.impl.PhoneWindow.setContentView(PhoneWindow.java:198)
at android.app.Activity.setContentView(Activity.java:1647)
at com.app.milesoft.phonecash.MapMultipleUsersActivity$2.onItemSelected(MapMultipleUsersActivity.java:93)
at android.widget.AdapterView.fireOnSelected(AdapterView.java:864)
at android.widget.AdapterView.access$200(AdapterView.java:42)
at android.widget.AdapterView$SelectionNotifier.run(AdapterView.java:830)
at android.os.Handler.handleCallback(Handler.java:587)
at android.os.Handler.dispatchMessage(Handler.java:92)
at android.os.Looper.loop(Looper.java:123)
at android.app.ActivityThread.main(ActivityThread.java:4627)
at java.lang.reflect.Method.invokeNative(Native Method)
at java.lang.reflect.Method.invoke(Method.java:521)
at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:868)
at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:626)
at dalvik.system.NativeStart.main(Native Method)
Caused by: java.lang.reflect.InvocationTargetException
at com.app.milesoft.map.multipleusers.MapLocationViewer.<init>(MapLocationViewer.java:28)
at java.lang.reflect.Constructor.constructNative(Native Method)
at java.lang.reflect.Constructor.newInstance(Constructor.java:446)
at android.view.LayoutInflater.createView(LayoutInflater.java:500)
... 20 more
Caused by: java.lang.IllegalStateException: You are only allowed to have a single MapView in a  
    MapActivity
at com.google.android.maps.MapActivity.setupMapView(MapActivity.java:379)
at com.google.android.maps.MapView.<init>(MapView.java:280)
at com.google.android.maps.MapView.<init>(MapView.java:226)
at com.app.milesoft.map.multipleusers.MapLocationViewer.init(MapLocationViewer.java:45)
... 24 more 
```

我的 MapActivity xml 如下

```
<FrameLayout xmlns:android="http://schemas.android.com/apk/res/android"
 android:id="@+id/home_container"
  android:layout_width="fill_parent"
 android:layout_height="fill_parent">
 <com.app.milesoft.map.multipleusers.MapLocationViewer
 android:id="@+id/map_location_viewer"
 android:layout_width="fill_parent"
android:layout_height="fill_parent" > 
```

我的 MapLOcation 类如下

```
public class MapLocationViewer extends LinearLayout {

private MapLocationOverlay overlay;

//  Known latitude/longitude coordinates that we'll be using.
private List<MapLocation> mapLocations;

private MapView mapView;
Context mcontext;

public MapLocationViewer(Context context, AttributeSet attrs) {
    super(context, attrs);
    mcontext=context;
    init();
}

public MapLocationViewer(Context context) {
    super(context);
    init();
}

public void init() {        

    setOrientation(VERTICAL);
    setLayoutParams(new LinearLayout.LayoutParams(android.view.ViewGroup.LayoutParams.FILL_PARENT,android.view.ViewGroup.LayoutParams.FILL_PARENT));
           //this upper row xml is containing the Spinner View
    View v=View.inflate(getContext(), R.layout.map_upper_row, null);

    //mapView = new MapView(getContext(),"0DUEIIn35xtmfWC2DXprK5kqNF-aEaNgRJ4ONxw");

    //Change Your Map Key Here.....
    mapView = new MapView(getContext(),"0YOGrMpIJgaO92C0lXFtI6qF5YRl2Oe5h9UVoiQ");
    mapView.setEnabled(true);
    mapView.setClickable(true);
    addView(v);

    addView(mapView);

    overlay = new MapLocationOverlay(this);
    mapView.getOverlays().add(overlay);

    mapView.getController().setZoom(14);
    //mapView.setSatellite(true);
    mapView.getController().setCenter(getMapLocations().get(0).getPoint());
}
 } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-07T09:51:59.117

您在扩展 xml 布局时遇到问题，请尝试查看`Binary XML file line #6: Error inflating class <unknown>`活动似乎无法找到您的自定义视图，即您的 MapLocationViewer。

尝试正确关闭标签。

```
<com.app.milesoft.map.multipleusers.MapLocationViewer
     android:id="@+id/map_location_viewer"
     android:layout_width="fill_parent"
     android:layout_height="fill_parent" /> 
```

还要检查您的 MapLocationViewer 是否在正确的包中，正如您在 xml 标记中提供的那样`com.app.milesoft.map.multipleusers`。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T12:00:00.870

利用

```
mapview.requestLayout() or mapview.invalidate(). 
```

这最终会导致重绘。

# ios - 如何检查 dispatch_async 队列状态？

> ID：15245355
> 
> 赞同：0
> 
> 时间：2013-03-06T10:53:03.027
> 
> 标签：ios, objective-c

在典型的`dispatch_async`执行中：

```
dispatch_async(dispatch_get_global_queue(DISPATCH_QUEUE_PRIORITY_BACKGROUND, 0), ^{
    // ...
    dispatch_async(dispatch_get_main_queue(), ^{
        // ...
    });
}); 
```

仅限制仅运行一个块：

```
if (_loadingFromServer) return;
_loadingFromServer = YES;
dispatch_async(dispatch_get_global_queue(DISPATCH_QUEUE_PRIORITY_BACKGROUND, 0), ^{
    // ...
    dispatch_async(dispatch_get_main_queue(), ^{
        // ...
        _loadingFromServer = NO;
    });
}); 
```

有没有办法在*不*使用`_loadingFromServer`标志的情况下检查异步块的运行位置？

`dispatch_queue_set_specific`在这种情况下有用吗？

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2013-03-06T11:12:02.880

使用串行调度队列一次执行一项任务

[http://developer.apple.com/library/ios/#documentation/General/Conceptual/ConcurrencyProgrammingGuide/OperationQueues/OperationQueues.html](http://developer.apple.com/library/ios/#documentation/General/Conceptual/ConcurrencyProgrammingGuide/OperationQueues/OperationQueues.html)

像这样

```
 dispatch_queue_t myQueue;
 myQueue = dispatch_queue_create("myQueue", NULL);
 dispatch_async(myQueue, block); 
```

# forms - Zend 框架 1.12 中无法删除 Zend Form 元素

> ID：15245364
> 
> 赞同：0
> 
> 时间：2013-03-06T10:53:31.580
> 
> 标签：forms, zend-framework, frameworks, element

我需要删除一个 zend 表单元素，但该`removeElement($name)`功能不起作用。
我的表单类：

```
 class Forms_Signup extends Zend_Form
{   
    public function init()
    {
        $this->setName('signup');
        $id = new Zend_Form_Element_Hidden('id');
        $id->addFilter('Int');
        $name = new Zend_Form_Element_Text('name');
        $name ->setLabel('Name : ')
                ->setRequired(true)
                ->addFilter('StripTags')
                ->addFilter('StringTrim')
                ->addValidator('NotEmpty')
                ->setValue('nametest');
        $password = new Zend_Form_Element_Text('password');
        $password->setLabel('Mot de Passe')
                ->setRequired(true)
                ->addFilter('StripTags')
                ->addFilter('StringTrim')
                ->addValidator('NotEmpty');
    }
} 
```

在我的控制器动作中：

```
public function signupAction() {
    $signupForm = new Forms_Signup();
    $signupForm->removeElement('password');
    $this->view->signupform = $signupForm;
} 
```

但是“密码”表单元素仍然出现在我的“signup.phtml”页面中。我尝试不使用`setRequired(true)`或其他过滤器和验证器，但没有结果。

# c++ - 为什么在非默认参数之前不允许使用默认参数？

> ID：15245365
> 
> 赞同：3
> 
> 时间：2013-03-06T10:53:33.327
> 
> 标签：c++

[可能重复](https://stackoverflow.com/questions/1123725/why-should-default-parameters-be-added-last-in-c-functions)

所以这是不允许的

```
void foo (int a, int b = 10, int c); 
```

但为什么？为什么不允许这样称呼它？两个连续的逗号表示“使用默认参数”。

```
foo (20,,30); 
```

除了“不允许，因为不允许”和“不允许，因为没有人把它提交给委员会”之外，还有什么真正的理由吗？

编辑：好的，这个呢

```
void bar (int a, int b, int c = 1, 
          int d = 2, int e = 3, 
          int f = 4, int g = 5, int h = 6); 
```

有效的声明，但是我想跳过所有默认参数，除了`h`.

能够做到这一点不是很好吗：

```
bar (20, 30, , , , , , 10); 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-03-06T10:54:32.400

我不了解设计该语言的人，但我发现`f (20,,30);`非常难以理解。

# php - 将 MySQL 一对多结果集转换为 JSON

> ID：15245367
> 
> 赞同：0
> 
> 时间：2013-03-06T10:53:36.270
> 
> 标签：php, javascript, jquery, mysql, json

我有两个由 topic_id 相关的表（讲座和主题）。我需要以他们相关主题的孩子的身份参加讲座。所需的 json_encode($result) 应该是：

```
[
    {"id":"2","name":"topic 3",
      "lectures": [
        {"id":"9", "topic_id":"2","name":"lecture 1"},
        {"id":"10","topic_id":"2","name":"lecture 2"},
        {"id":"11","topic_id":"2","name":"lecture 3"}
      ]
    },
    {"id":"3","name":"topic 4",
      "lectures": [
        {"id":"12","topic_id":"3","name":"lecture 1"},
        {"id":"13","topic_id":"3","name":"lecture 2"},
        {"id":"14","topic_id":"3","name":"lecture 3"}
      ]
    }
] 
```

一种可能的解决方案是像这样重新生成数组

```
$topics = $db->query("select * FROM topic")->fetchAll(PDO::FETCH_ASSOC);
$lectures = $db->query("SELECT * FROM lecture")->fetchAll(PDO::FETCH_ASSOC);

foreach($topics AS $topic) {
    $result[$topic["id"]] = $topic;
    $result[$topic["id"]]["lectures"] = array();
}
foreach($lectures AS $lecture) {
    $result[$lecture["topic_id"]]["lectures"][] = $lecture;
}

echo json_encode($result); 
```

结果是：

```
[
    {"2": {"id":"2","name":"topic 3",
       "lectures": [    
        {"id":"9", "topic_id":"2","name":"lecture 1"},
    {"id":"10","topic_id":"2","name":"lecture 2"},
    {"id":"11","topic_id":"2","name":"lecture 3"}
   ]
    },
    {"3": {"id":"3","name":"topic 4",
       "lectures": [
    // ...
] 
```

这仍然不是我们所需要的。我需要删除最顶层的 id（用作键），可以在服务器或客户端通过重新生成结果数组来完成，只保留值。（不那么优雅的）解决方案可能是：

```
$result2 = array();
foreach($result AS $res) {
    $result2[] = $res;
}
echo json_encode($result2); 
```

这让我得到了想要的结果，但解决方案远非有效。

任何有关这样做的更好方法的建议将不胜感激。建议可能包括更有效的方法：

*   通过改进 MySQL 查询来完成一些工作。
*   php中的数组操作
*   通过在客户端操作（Javascript、jQuery 或 Underscore 便捷方法）获得所需的结果

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T11:09:29.140

你的问题有点模棱两可，所以我在这里猜。我认为您只需要一个 MySQL 语句。

```
SELECT lecture.id lid,lecture.name lname,topic.id tid,topid.name tname 
FROM lecture 
LEFT JOIN topic ON lecture.id = topic.id
ORDER BY lid,tid 
```

你的结果应该是正确的顺序。

# android - Android 定期在特定时间或日期更改 webview 内容

> ID：15245371
> 
> 赞同：0
> 
> 时间：2013-03-06T10:53:41.463
> 
> 标签：android, android-webview, alarmmanager

我有一个非常简单的 webview 布局。

我想每 1 小时更改一次 webview 内容。

尝试使用

```
Uri uri = Uri.parse("http://www.yahoo.com");
    Intent in = new Intent(Intent.ACTION_VIEW, uri);
    context.startActivity(in); 
```

在广播接收器中，但失败了.....

有什么建议吗？谢谢！！！！

主要活动代码：

```
public class MainActivity extends Activity implements OnClickListener {

private int page;

@Override
protected void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.activity_main);

    RelativeLayout layout = (RelativeLayout)
    findViewById(R.id.RelativeLayout1);
    layout.setSystemUiVisibility(View.SYSTEM_UI_FLAG_HIDE_NAVIGATION);

    showeb("http://www.google.com");

    Intent intent =new Intent(MainActivity.this, Alarm.class);
    intent.setAction("repeating");
    PendingIntent sender=PendingIntent
        .getBroadcast(MainActivity.this, 0, intent, 0);

    long firstime=SystemClock.elapsedRealtime();

    AlarmManager am=(AlarmManager)getSystemService(ALARM_SERVICE);
    am.setRepeating(AlarmManager.ELAPSED_REALTIME_WAKEUP
            , firstime, 3600*1000, sender);

}

private void showeb(String string) {
    WebView engine = (WebView) (findViewById(R.id.webView1));
    engine.setWebViewClient(new WebViewClient());
    engine.loadUrl(string);

} 
```

和接收器类

```
public class Alarm extends BroadcastReceiver {

@Override
public void onReceive(Context context, Intent intent) {

        Toast.makeText(context, "short alarm", Toast.LENGTH_LONG).show();

        Uri uri = Uri.parse("http://www.yahoo.com");
        Intent in = new Intent(Intent.ACTION_VIEW, uri);
        context.startActivity(in);

} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T12:04:36.150

如果您正在尝试更新已经在前台（当前正在显示）的 WebView，那么您可以定期调用，`webview.loadUrl`只需使用`java.util.TimerTask`

```
 private Timer webViewUpdater;

    @Override
    public void onResume() {
        super.onResume();
        webViewUpdater = new Timer();
        webViewUpdater.schedule(new TimerTask() {
            @Override
            public void run() {
                runOnUiThread(new Runnable() {
                    public void run() {
                        showeb("http://www.yahoo.com")
                    }
                });
            }
        }, firsttime, 3600*1000);
    }

    @Override
    public void onPause() {
        webViewUpdater.cancel();
        super.onPause();
    } 
```

# php - 从另一个数组中减去一个数组

> ID：15245373
> 
> 赞同：5
> 
> 时间：2013-03-06T10:53:44.100
> 
> 标签：php, arrays

我想从另一个数组中减去一个数组。

例如我有 2 个数组。

```
Array
(
    [0] => 251
    [1] => 251
    [2] => 130
)

 Array
    (
        [0] => 13
        [1] => 13
        [2] => 50
    ) 
```

结果数组必须是

```
Array
    (
        [0] => 238
        [1] => 238
        [2] => 80
    ) 
```

对此的任何形式的帮助表示赞赏。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-06T10:56:00.800

试试这个 ：

```
$array1  = array(251, 251, 130);
$array2  = array( 13,  13,  50);
$res     = array();
for($i=0;$i<count($array1);$i++){
   $res[$i] = $array1[$i]-$array2[$i];
}

echo "<pre>";
print_r($res); 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-03-06T10:56:42.437

解决方案使用[`array_map`](http://php.net/array_map)：

```
function subtract($a, $b) {
  return $a - $b;
}

$arrayA = array(251, 251, 130);
$arrayB = array( 13,  13,  50);
$output = array_map('subtract', $arrayA, $arrayB); 
```

**如果输入数组具有不同的维度，它仍然可以工作。**

使用简单的 foreach 循环的解决方案：

```
$arrayA = array(251, 251, 130);
$arrayB = array( 13,  13,  50);
$output = array();

for ( $i = 0; $i < size($arrayA); ++$i ) {
  $output[] = $arrayA[$i] - $arrayB[$i];
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-06T10:57:36.223

试试这个

```
function subArray($arr1, $arr2) {
  $res = array();
  foreach ($arr1 as $key => $value) {
    $res[$key] = $arr2[$key] - $arr1[$key];
  }
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-06T10:58:11.213

```
$arr1 = array(251, 251, 130);
$arr2 = array( 13,  13,  50);
$result_array = array();

for ( $i = 0; $i < size($arr1); ++$i ) {
  $result_array [] = $arr1[$i] - $arr2[$i];
}

print_r($result_array); 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-03-06T11:09:14.353

我这里有一个示例代码

```
 function array_sub_values($arr1, $arr2)
{
    $result = array();
    foreach ($arr1 as $k => $val)
        $result[] = $val - $arr2[$k];
    return $result;
} 
```

所以你可以这样做：

```
$arr1 = array(1, 2, 3);
$arr2 = array(0, 0, 1);

$arr3 = array_sub_values($arr1, $arr2); 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2017-12-07T23:17:19.977

在一行 $array3 = $array1 - $array2 是

```
$array3 = array_intersect($array1, array_diff($array1, $array2)); 
```

* * *

## 回答 #7

> 赞同：-1
> 
> 时间：2013-03-06T10:59:21.073

如果您不想破坏阵列，那么：-

1.  创建数组 1 的副本
2.  遍历数组
3.  如果数组 2 中存在相同的键，则从当前值中减去该值

代码：

```
$array3=array1;
while(list($key,$value)=each($array3))
{
    if(isset($array2[$key])) $array3[$key]-=$array2[$key];
} 
```

# mysql - 关于mysql中的删除操作和更新触发器

> ID：15245374
> 
> 赞同：0
> 
> 时间：2013-03-06T10:53:44.757
> 
> 标签：mysql, triggers

我不是数据库相关部分的经验丰富的人。这是我的疑问。我正在使用 MySQL 我有两个表假设

*   **项目** （列：- pid、folder_id、p_name）
*   **文件夹**（列：- folder_id，名称）

我为表项目创建了两个触发器

*   trgr_project_before_insert
*   trgr_project_before_update

并且与文件夹和项目存在外键关系。即表中的folder_id`folder`指的是“项目”表。我在项目表中使用“ **Set null ”设置“** **ON DELETE** ”操作。即当在表中删除“ **folder_id** ”时， MySQL 将为那些已删除“ **folder_id** ”的行设置 NULL****`folder`****

 ******在我的“trgr_project_before_update”触发器中，我有一些代码可以检查

```
NEW.folder_id IS NULL THEN 
 --some code are here 
END IF; 
```

**当我从文件夹**表中删除一个“ **folder_id** ”时，所有行都将“ **folder_id** ”设置为NULL，我认为它正在更新表。但是触发器“trgr_project_before_update”不起作用（我检查中的代码）为什么会这样。

 ***** * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-25T12:03:58.820

这似乎是一个 MySQL 错误 - [bugs.mysql.com/bug.php?id=11472](http://bugs.mysql.com/bug.php?id=11472)

当由于表上的外键定义而间接更新/删除表的行时，不会按要求执行该表上的触发器

他们说“我们应该在 5.1 中修复”，请检查 MySQL 版本。**********

# c++ - DirectX::XMMATRIX __declspec(align('16')) 不会对齐

> ID：15245378
> 
> 赞同：3
> 
> 时间：2013-03-06T10:53:47.303
> 
> 标签：c++, windows, visual-studio-2012, directx, directx-11

我正在使用 DirectXMath 构建我的 3D 模拟项目

```
 void SetConstantBuffer(ID3D11DeviceContext*_device_context, DirectX::XMMATRIX _world, DirectX::XMMATRIX _view, DirectX::XMMATRIX _projection)
   {
       ConstantBuffer const_buffer;
       const_buffer.View = DirectX::XMMatrixTranspose(_world);
       const_buffer.World = DirectX::XMMatrixTranspose(_view);
         const_buffer.Projection = DirectX::XMMatrixTranspose(_projection);
       _device_context->UpdateSubresource(m_const_buffer, 0, NULL, &const_buffer, 0, 0);
   } 
```

我可能在 DirectXMath 内的 SIMD 标志上得到这些编译器错误：

> 错误 C2719: '_world': 带有 __declspec(align('16')) 的形式参数不会对齐
> 错误 C2719: '_view': 带有 __declspec(align('16')) 的形式参数不会对齐
> 错误 C2719 : '_projection': 带有 __declspec(align('16')) 的形参不会对齐

有没有其他方法不将其转换为 DirectX::XMFLOAT4X4？
顺便说一句，我使用的是 x86 机器并在 Visual Studio 2012 Express 上进行编译。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-06T11:19:00.317

通过 const 引用而不是按值传递值。

```
void SetConstantBuffer(
    ID3D11DeviceContext*_device_context,
    const DirectX::XMMATRIX &_world,
    const DirectX::XMMATRIX &_view,
    const DirectX::XMMATRIX &_projection) 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-07-22T22:27:59.843

[__declspec(align(16)) 根据 Microsoft： MSDN Align](http://msdn.microsoft.com/en-us/library/83ythb65%28v=vs.71%29.aspx)不适用于堆栈变量。我的测试表明这也适用于#pragma pack(16)

因此，堆栈变量需要存储为 XMFLOAT4X4 并使用 XMLoadFloat4x4 和 XMStoreFloat4x4（您试图避免的）与 XMMATRIX 相互转换。

幸运的是，Direct3D 中的大部分处理都是在显卡中执行的。由于 Microsoft 糟糕的设计决策而偶尔出现的不必要的 64 字节副本应该是难以察觉的。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2017-12-10T09:25:04.410

[MSDN：DirectXMath 库内部](https://msdn.microsoft.com/en-us/library/windows/desktop/ee418728(v=vs.85).aspx)：

> FXMMATRIX 和 CXMMATRIX 别名有助于支持利用通过 __vectorcall 传递的 HVA 参数。
> 
> 使用 FXMMATRIX 别名将第一个 XMMATRIX 作为参数传递给函数。这假设您没有超过两个 FXMVECTOR 参数或超过两个浮点、双精度或 FXMVECTOR 参数到矩阵的“右侧”。有关其他注意事项的信息，请参阅 __vectorcall 文档。
> 
> 否则使用 CXMMATRIX 别名。

[DirectXMath 代码](https://github.com/Microsoft/DirectXMath/blob/master/Inc/DirectXMath.h)

```
// Fix-up for (1st) XMMATRIX parameter to pass in-register for ARM64 and vector call; by reference otherwise
#if ( defined(_M_ARM64) || defined(_M_HYBRID_X86_ARM64) || _XM_VECTORCALL_ ) && !defined(_XM_NO_INTRINSICS_)
typedef const XMMATRIX FXMMATRIX;
#else
typedef const XMMATRIX& FXMMATRIX;
#endif

// Fix-up for (2nd+) XMMATRIX parameters to pass by reference
typedef const XMMATRIX& CXMMATRIX; 
```

**解决方案**

如果你想支持更广泛的处理器架构，你最好使用`XM_CALLCONV`宏来指定调用约定而不是硬编码`__vectorcall`：

```
void XM_CALLCONV SetConstantBuffer(
    FXMMATRIX _world, 
    CXMMATRIX _view, 
    CXMMATRIX _projection, 
    ID3D11DeviceContext *_device_context) {
} 
```

# autocomplete - 具有自动完成功能的链式组合框，自动完成数据应来自 db 表

> ID：15245379
> 
> 赞同：0
> 
> 时间：2013-03-06T10:53:47.680
> 
> 标签：autocomplete, combobox, chained

如何使用自动完成功能制作链式组合框，无需重新加载页面自动完成数据应来自 db 表。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T11:28:35.543

使用**Select2**

基本上，您将服务器设置为接受对某个 URL 的查询，并返回 json。然后将 Select2 配置为使用该 URL。

这是Select2的官方页面。它有这方面的示例代码。

[http://ivaynberg.github.com/select2/](http://ivaynberg.github.com/select2/)

对于链式组合框，请尝试以下操作：

```
$('country_box_selector').on('change', function(){
  update_states($(this).val())
})

update_states = function (country) {
  // Fetch and replace states based on passed country
} 
```

# c++ - 在 Qt 中使用 StackedLayout 类

> ID：15245380
> 
> 赞同：1
> 
> 时间：2013-03-06T10:53:47.767
> 
> 标签：c++, qt, qt4

我正在测试如何在`StackedLayout`按下特定按钮时使用 来更改屏幕上的布局。

**测试.h**

```
#ifndef TEST_H
#define TEST_H

#include <QLabel>
#include <QApplication>
#include <QLabel>
#include <QPushButton>
#include <QHBoxLayout>
#include <QStackedLayout>
#include <QVBoxLayout>
#include <QComboBox>

class Test: public QWidget{
    Q_OBJECT

private:
    QPushButton *button1, *button2;
    QWidget *parentWidget1, *parentWidget2;
    QLabel *label1, *label2;
    QHBoxLayout *layout1, *layout2;
    QStackedLayout *stackedLayout;
    QHBoxLayout *mainLayout;

private slots:
    void layout1_h();
    void layout2_h();

public:
    Test(QWidget* parent=0);

};

#endif 
```

**测试.cpp**

```
#include "test.h"
using namespace std;

void Test::layout1_h()
{
    stackedLayout->setCurrentIndex(0);
    //window->show();
}

void Test::layout2_h()
{
    stackedLayout->setCurrentIndex(1);
    //window->show();
}

Test::Test(QWidget *parent):QWidget(parent)
{
    //widget = new QWidget;
    stackedLayout = new QStackedLayout;
    parentWidget1 = new QWidget;
    parentWidget2 = new QWidget;
    button1 = new QPushButton("change1");
    button2 = new QPushButton("change2");
    label1 = new QLabel("hello1");
    label2 = new QLabel("hello2");
    layout1 = new QHBoxLayout;
    layout2 = new QHBoxLayout;

    layout1->addWidget(label1);
    layout1->addWidget(button1);
    layout1->addWidget(button2);

    layout2->addWidget(label2);
    layout2->addWidget(button1);
    layout2->addWidget(button2);

    parentWidget1->setLayout(layout1);
    parentWidget2->setLayout(layout2);
    stackedLayout->addWidget(parentWidget1);
    stackedLayout->addWidget(parentWidget2);
    stackedLayout->setCurrentIndex(0);
    mainLayout = new QHBoxLayout;
    mainLayout->addLayout(stackedLayout);

    connect(button1, SIGNAL(clicked()), this, SLOT(layout1_h()));
    connect(button2, SIGNAL(clicked()), this, SLOT(layout2_h()));

    setLayout(mainLayout);
    //window.show();

} 
```

所以我启动并运行了应用程序，但由于某种原因，没有显示按钮。怎么了？？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-06T11:15:15.583

button1 和 button2 不能同时在两个布局中。layout2 成为两个按钮的管理器，而 parentWidget2 成为它们的所有者。

# xunit.net - xUnit.net Test Runner 中的蓝条表示什么？

> ID：15245381
> 
> 赞同：1
> 
> 时间：2013-03-06T10:53:48.910
> 
> 标签：xunit.net, test-runner

我知道绿色和红色，但下面看到的蓝色/紫色是什么意思？

![在此处输入图像描述](../Images/8be514a154f5a70135fddbab1525e616.png)

这发生在运行`Sync`测试之后，然后再次运行。
顺便说一句，`Total tests:2, Failures: 1, Skipped: 0`状态栏很奇怪。

# android - Android - 将变量传递给另一个活动

> ID：15245384
> 
> 赞同：-2
> 
> 时间：2013-03-06T10:53:55.293
> 
> 标签：android

我想将一个变量传递给我正在执行 SQLite 查询的 DBConnector.Java，但我不知道该怎么做，需要一些帮助。

```
public void onItemSelected(AdapterView<?> parent, View view, int position,long id) 
    {
                spinnerRub.setSelection(position);      
            myRub = (String) spinnerRub.getSelectedItem();

    } 
```

现在我想将 myRub 传递给我拥有的 DBConnector.Java：

```
public List<String> getAllCapabilities1()
{             

List<String> Caps = new ArrayList<String>();

                String selectQuery = "SELECT Cap_Name FROM capability where Rub_ID = 'myRub'";

            SQLiteDatabase database = this.dbOpenHelper.getReadableDatabase();
            //Cursor cursor = database.rawQuery(selectQuery, null);
            Cursor cursor = database.rawQuery(selectQuery, null);
            // looping through all rows and adding to list
            if (cursor.moveToFirst()) 
            {
                do 
                {
                  Caps.add(cursor.getString(0));
                } while (cursor.moveToNext());
            }

            // closing connection
            cursor.close();
            database.close();

            // returning lables
            return Caps;
        } 
```

但我正在努力做到这一点，需要帮助。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-06T10:59:26.567

使用 Intent 传递您的数据：

```
 i.putExtra("myRub",myRub); 
```

`i`对象在哪里`Intent`。

使用在其他活动中检索它

```
Bundle extras = getIntent().getExtras();
String a = extras.getString("myRub"); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-06T10:56:50.140

在您的 dbconnetion.java 文件中修改它并通过方法或 sharedpref 传递 myrub

```
String selectQuery = "SELECT Cap_Name FROM capability where Rub_ID = '"+myRub+"'"; 
```

两次活动之间

```
Intent i = new Intent(Intent.ACTION_VIEW);
i.putExtra("myrub", "This value one for ActivityTwo ");
startActivity(i); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-06T11:08:14.390

这是一个将数据传递给活动并检索的示例

```
Intent intent = new Intent();
intent.setClass(this, New.class);

Bundle b = new Bundle();
b.putInt("action", nResponse ); // integer value
b.putString("homename", sHomeName); // string value
intent.putExtras(b);
startActivity(intent); 
```

在您的 new.class 的 oncreate 方法中，请遵循

```
Bundle b = getIntent().getExtras();
if( b != null ){
    nAction = b.getInt("action");
    sHomeName = b.getString("homename");
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-06T11:27:57.870

在您的活动中（我假设您有对 dbConnector 的引用？）：

```
spinnerRub.setSelection(position);      
myRub = (String) spinnerRub.getSelectedItem();
dbConnector.setMyRub(myRub); 
```

在 DBConnector.java 中

```
public void setMyRub(String myRub){
    // do what you need to do with myRub
} 
```

* * *

## 回答 #5

> 赞同：-1
> 
> 时间：2013-03-06T11:02:08.483

使用意图在活动之间传递数据

```
 Intent intent = new Intent(yourActivity.this, DBConnector.class);
   intent.putExtra("myRub", myRub);
   startActivity(intent); 
```

并`getIntent().getExtras()`用来取回它

# c# - 无法将 DataTable 与另一个 C# 相关联

> ID：15245386
> 
> 赞同：0
> 
> 时间：2013-03-06T10:54:02.493
> 
> 标签：c#, sql, database, visual-studio-2010

所以，我知道您通过相关列关联数据表......虽然我有一个小问题。

例子：

父表 -**客户**-> {customerName, customerCode(PK), telphoneCell, ... etc}

子表 -**订单**-> { customerCode, orderCode(PK) dateStart, dateEnd, ... 等}

现在...

孙子表 - **ManufacturingSheet** -> {panelNumber, panelWidth, panelHeight, ... etc}

还有一些文本框显示了我根据用户输入计算出的零件数量，例如螺栓和螺母。

那么如何将整个表格保存到单个客户的订单中呢？客户名称、代码和日期详细信息等也出现在此表格上。

即使我可以将 texbox 链接到**Orders**表，我将如何链接到表单的其余部分？

这是显示我想存储在数据库中的所有网格和文本框的代码：

```
using System;
using System.Collections.Generic;
using System.ComponentModel;
using System.Data;
using System.Drawing;
using System.Linq;
using System.Text;
using System.Windows.Forms;

namespace PalisadeWorld
{
public partial class ManufacturingSheet : Form
{
    public ManufacturingSheet()
    {
        InitializeComponent();
    }

    //all the calculated sizes, and parts
    public string[] dis_Width { get; set; }
    public string[] dis_Height { get; set; }
    public string[] dis_Comments { get; set; }
    public int[] dis_PaleQty { get; set; }
    public int[] dis_Blocks { get; set; }
    public int dis_num { get; set; }

    //Method to Convert a string array to int array
    private int[] ConvertArray(string[] s, int rows)
    {
        int[] intArray = new int[rows];

        for (int x = 0; x < rows; x++)
        {
            intArray[x] = Convert.ToInt32(s[x]);
        }
        return intArray;
    }

    //Methods returning other parts calculated with sizes above
    private int GetTotalBearers(string[] bearers, int rows)
    {
        int i;
        int totalBearers = 0;
        int[] temp = ConvertArray(bearers, rows);
        for (i = 0; i < rows; i++)
        {
            if (temp[i] >= 2200)
            {
                totalBearers += 6;
            }
            else totalBearers += 4;
        }
        return totalBearers;
    }
    private int GetTotalPales(int[] pales, int rows)
    {
        int i;
        int totalPales = 0;
        for (i = 0; i < rows; i++)
        {
            totalPales += pales[i];
        }
        return totalPales;
    }
    private int GetTotalBoltsNutsBrackest(int[] pales, int rows)
    {
        int totalBolts = GetTotalPales(pales, rows) + (rows * 4);
        return totalBolts;
    }

    private void ManufacturingSheet_Load(object sender, EventArgs e)
    {
        //displaying number of respective parts
        numBearers.Text = string.Format("{0}", GetTotalBearers(dis_Height, dis_num));
        numPales.Text = string.Format("{0}", GetTotalPales(dis_PaleQty, dis_num));
        numBrackets.Text = numBearers.Text;
        numBoltsNutsWashers.Text = string.Format("{0}", GetTotalBoltsNutsBrackest(dis_PaleQty, dis_num));

        int i;
        int no = 0;

        //displaying sizes etc in DataGrid
        for(i = 0; i < dis_num; i++)
        {
            // Create a new row.
            PalisadeWorldDatabaseDataSet.ManufacturingSheetRow newOutputRow;

            newOutputRow = palisadeWorldDatabaseDataSet1.ManufacturingSheet.NewManufacturingSheetRow();

            newOutputRow.no = ++no ;
            newOutputRow.cutSize = string.Format("{0}", dis_Width[i]);
            newOutputRow.block = string.Format("{0}", dis_Blocks[i]);
            newOutputRow.height = string.Format("{0}", dis_Height[i]);
            newOutputRow.palesQty = string.Format("{0}", dis_PaleQty[i]);
            newOutputRow.comments = string.Format("{0}", dis_Comments[i]);

            // Add the row to the Region table 
            this.palisadeWorldDatabaseDataSet1.ManufacturingSheet.Rows.Add(newOutputRow);

            // Save the new row to the database 
            this.manufacturingSheetTableAdapter.Update(this.palisadeWorldDatabaseDataSet1.ManufacturingSheet);

            this.manufacturingSheetTableAdapter.Fill(this.palisadeWorldDatabaseDataSet1.ManufacturingSheet);
        }           
    }
} 
```

}

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T11:11:44.253

DataAdapter 允许您定义多个表及其关系，并为每个表定义插入和更新命令（以及选择命令和删除命令）。

[http://msdn.microsoft.com/en-us/library/system.data.sqlclient.sqldataadapter.aspx](http://msdn.microsoft.com/en-us/library/system.data.sqlclient.sqldataadapter.aspx)

至于 GUI 问题，通常您会有 OrderItems 表（通常命名为 OrderDetail），并且您会使用 DataGrid 来捕获订单上的一个或多个项目：

```
 OrderItems
        OrderID
        ItemID   typically references a Parts table
        Quantity
        UnitPrice 
```

# sql - 如何连接表值中的字段并将其用作选择语句中的列

> ID：15245390
> 
> 赞同：0
> 
> 时间：2013-03-06T10:54:18.320
> 
> 标签：sql

我创建了一个脚本，从 db 表中动态选择列并将其用作 select 语句中的列。但是，我遇到了一个错误“Select 附近的语法不正确”。有人有想法吗？

```
Table_Sample_Table
ColumnName-SqlColumnName

SqlColumnName Values 
'Salary'
Age
Name
Address

table_to_query_the_data
Columns consist of
Salary
Age
Name
Address

Sample Query
SET @x='Select ' + SELECT STUFF((SELECT ',' + SqlColumnName
            FROM sample_table
            WHERE SqlColumnName ='Salary'
            FOR XML PATH('')) ,1,1,'') AS Txt + 'from table_to_query_the_data' 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T11:00:17.877

表格不是很清楚，但我认为`SET @x`应该是这样的；

```
SET @x= 'SELECT ' + STUFF((SELECT ',' + SqlColumnName
         FROM sample_table
         WHERE SqlColumnName = 'Salary'
         FOR XML PATH('')) ,1,1,'')   + ' FROM table_to_query_the_data' 
```

或者你最好用`[]`as包装你的列名`[col1],[col2],..`

```
SET @x= 'SELECT ' + STUFF((SELECT '],[' + SqlColumnName
         FROM sample_table
         WHERE SqlColumnName = 'Salary'
         FOR XML PATH('')) ,1,2,'')  + '] FROM table_to_query_the_data' 
```

# android - 需要了解 Eclipse 中的 android 特定按钮

> ID：15245391
> 
> 赞同：0
> 
> 时间：2013-03-06T10:54:18.547
> 
> 标签：android, eclipse

我想知道 Eclipse 中的编号位置（如图）。

No-1 是 API 列表。它是要编译的目标 API 还是 API？

No-2 是设备列表，但它有什么用，我已经为我的应用程序制作了 AVD。那它有什么作用呢？

![在此处输入图像描述](../Images/45daa7545745e04098622e25696df2d2.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T10:57:22.950

您正在查看的当前布局是根据在“No-2”中选择的设备上的外观呈现的。您可以尝试更改它以查看它如何扩展到不同的屏幕尺寸和设备。它对您的最终申请没有影响。

“No-1”指定它将使用哪个 android-sdk 版本来呈现视图。因此，您将获得具有较低 api 的旧外观小部件和具有较新 api 级别的新全息样式小部件。同样，这不会**改变**您实际应用程序中的任何内容。它只是让您了解您的布局在不同的 api 级别中会是什么样子。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T11:03:49.300

No-1 :- 它显示不同的布局。它在应用程序设计中非常有用。No-2 : - 你喜欢哪个版本来运行这个布局。

no-1 和 no-2 都将用于 DESIGNING APPS 而没有任何内容。您可以通过在 drawable、drawable-mdi、.... 文件夹中包含图像来修复您的设计，如果需要，可以选择 layout-large、layout-small、layout-sw360dp（适用于 Galaxy 720*1250）等。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-06T10:55:59.347

**“Nexu One”** - 它说您的布局在下面，就像它在 Nexus One 上的样子。

**Android 图标**- sdk 版本..

不多

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-06T11:07:59.117

1：是该特定布局的 sdk 版本

和 2：表示设备屏幕，您可以使用它来检查您的布局在不同屏幕中的外观

# java - Java新手编码。添加显示消息

> ID：15245392
> 
> 赞同：2
> 
> 时间：2013-03-06T10:54:20.327
> 
> 标签：java, swing

我是 java 新手，我现在正在尝试创建一个货币转换器。我制作了这个小货币转换器，可以将美元兑换成欧元和英镑。运行时，它会弹出 java 屏幕，您可以输入要兑换的美元金额，它会给您欧元/英镑的金额。

现在我想先显示一点 Jpannel 消息。我似乎无法弄清楚如何。我相信这很容易，所以请原谅我的新手。帮助会很棒

对不起，如果我的问题的布局看起来很奇怪。我还不熟悉这个网站。我会改进的。

提前感谢您提供的任何帮助。

到目前为止，我已经做到了：

```
import java.awt.*;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;
import javax.swing.*;
import javax.swing.JOptionPane;

class converter extends JFrame {

    private static final double DOLLAR_PER_EURO = 0.77;
    //private static final double   DOLLAR_PER_POUND = 0.66;

    private JTextField _dollarsTF = new JTextField(3);        
    private JTextField _eurosTF   = new JTextField(3);
    private JTextField _poundsTF = new JTextField(3);

    public converter() {

        JButton convertBtn = new JButton("Convert");
        convertBtn.addActionListener(new ConvertBtnListener());

        _dollarsTF.addActionListener((ActionListener) new ConvertBtnListener());
        _eurosTF.setEditable(false);
        _poundsTF.setEditable(false);

        JPanel content = new JPanel();        
        content.setLayout(new FlowLayout());  

        content.add(new JLabel("Enter amounts of dollars to compare: "));  
        content.add(_dollarsTF);              
        content.add(convertBtn);               
        content.add(new JLabel("Euros: "));
        content.add(_eurosTF);
     //   content.add(new JLabel("English Pounds: "));
     //   content.add(_poundsTF);
        setContentPane(content);       
        pack();                        
        setTitle("Currency converter");
        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
        setLocationRelativeTo(null);   
    }

    class ConvertBtnListener implements ActionListener {       
        public void actionPerformed(ActionEvent e) {
            String dyStr = _dollarsTF.getText();          
            int Dollars = Integer.parseInt(dyStr);                 
            double Euros = Dollars * DOLLAR_PER_EURO;
            //double Pounds = Dollars * DOLLAR_PER_POUND;
            _eurosTF.setText("" + Euros);
            // _poundsTF.setText("" + Pounds);
        }
    }

    public static void main(String[] args) {                    
        converter window = new converter();
        window.setVisible(true);
    }
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-06T11:03:16.583

从您的评论中，我明白您的意思。首先，欢迎来到 Stack Overflow，问题格式很好！我很高兴看到你表现出你已经做出了努力。

现在在我看来，您只想弹出一条小消息。对我来说，编写所有出现的 JPanel 代码似乎毫无意义，因为 Swing 有一个可爱的类被调用`JOptionPane`来为你做这些事情。[这是文档](http://docs.oracle.com/javase/1.4.2/docs/api/javax/swing/JOptionPane.html)。

语法很简单，你想要什么。

```
JOptionPane.showMessageDialog("This is your message", parentObject); 
```

这将出现一个小对话框，其中包含您选择的消息。该`parentObject`字段是显示此对话框的容器。在你的情况下，它是`converter`类（应该是`Converter`）。那是因为`converter`扩展了 JFrame。所以你的代码是：

```
JOptionPane.showMessageDialog("This is your message", this); 
```

# javascript - Javascript定位问题

> ID：15245393
> 
> 赞同：2
> 
> 时间：2013-03-06T10:54:27.033
> 
> 标签：javascript, jquery

我正在使用一个插件，该插件采用输入或文本区域的占位符值，并创建一个覆盖此输入的 div，该输入在单击时消失...我使用 javascript 定位此 div，检索其兄弟输入或 textarea 的位置（）。

为了使插件防弹，我每 5 秒更改一次输入的宽度和高度，通常 div.placeholder 应该自行定位，但会出现一些错误。

我在这里做了一个小提琴> [http://goo.gl/Ytmxm](http://goo.gl/Ytmxm)

有人可以帮助解决这个问题吗？

提前致谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T11:01:26.037

你的代码很完美。

您看到的问题是因为您获得的职位`offset()`是旧职位。我已经修改了小提琴以`inputChange`在您更改尺寸后触发 1ms 并且它可以工作。 [http://jsfiddle.net/PvLnH/1/](http://jsfiddle.net/PvLnH/1/)

看看刷新有时它会耍花招。

这是我在评论中描述的解决方案：http: [//jsfiddle.net/PvLnH/3/](http://jsfiddle.net/PvLnH/3/)

# php - (PDO) 准备和执行查询的函数

> ID：15245397
> 
> 赞同：-1
> 
> 时间：2013-03-06T10:54:38.827
> 
> 标签：php, pdo

以下是我到目前为止所拥有的。但它不输出任何东西。我不明白我做错了什么。我已经有一个称为页面结构的连接函数

```
class dataview extends PDO
    {
    public $dbh;
    function prep($querytoprepare = null, $parameters = null)
        {
        $query = $this->dbh->prepare($querytoprepare);
        if($parameters === null)
             {
             $query->execute();
             }
        else
             {
             $query->execute($parameters);      
             }
             $query->fetchAll();

        }  
        function getData()
        {
        $query = prep("SELECT * FROM table");
        $table = "<table>";
        foreach($query as $result
             {
             $table .= "<tr><td>" . $result['product_id'] . "</td><td>" . $result['naam'] . "</td><td>&#8364;" . $result['prijs'] . "</td></tr>";
             }
        $table .="</table>";
        echo $table;
        }
    }
$x = new dataview();
$x->getData(); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T10:57:11.733

您的 prep 函数不会返回任何东西。那应该以

```
 return $query->fetchAll(); 
```

你应该像这样调用 prep 函数：

```
 $query = $this->prep(" ... "); 
```

# android - NotificationCompat.Builder 是否不兼容所有 Android 手机？

> ID：15245398
> 
> 赞同：0
> 
> 时间：2013-03-06T10:54:42.357
> 
> 标签：android, service, android-notifications, android-support-library

以下是我的代码。我想在下载歌曲时显示过程。此代码在 Samsung Tab 和 Grand 中有效，但在 Samsung Ace Plus 中无效。请帮帮我。提前致谢。

```
private void Notification() {
    Intent in = new Intent(this, DownloadSong.class);

    final NotificationManager mNotifyManager = (NotificationManager) getSystemService(Context.NOTIFICATION_SERVICE);
    final NotificationCompat.Builder mBuilder = new NotificationCompat.Builder(
            this);
    mBuilder.setContentTitle("Picture Download")
            .setContentText("Download in progress")
            .setSmallIcon(R.drawable.ic_launcher);

    // Start a lengthy operation in a background thread
    new Thread(new Runnable() {

        @Override
        public void run() {
            int incr;
            // Do the "lengthy" operation 20 times
            for (progress = 0; progress <= 100; progress += 5) {
                // Sets the progress indicator to a max value, the
                // current completion percentage, and "determinate"
                // state
                mBuilder.setProgress(100, progress, false);
                // Displays the progress bar for the first time.
                mNotifyManager.notify(0, mBuilder.build());
                // Sleeps the thread, simulating an operation
                // that takes time
                try {
                    // Sleep for 5 seconds
                    Thread.sleep(5 * 1000);
                } catch (InterruptedException e) {
                    Log.d(TAG, "sleep failure");
                }
            }
            // When the loop is finished, updates the notification
            mBuilder.setContentText("Download complete")
            // Removes the progress bar
                    .setProgress(0, 0, false);
            mNotifyManager.notify(1001, mBuilder.build());
        }
    }
    // Starts the thread by calling the run() method in its Runnable
    ).start();
} 
```

以下是我使用服务下载代码。我想将 progressdialog 的更新与通知区域中的下载相关联。我做的代码是否正确？

```
public class DownloadService extends IntentService {
    String urlPath;
    int next = -1;
    private int result = Activity.RESULT_CANCELED;

    public DownloadService() {
        super("DownloadService");
    }

    // Will be called asynchronously be Android
    @Override
    protected void onHandleIntent(Intent intent) {
        Uri data = intent.getData();
        urlPath = intent.getStringExtra("urlpath");
        String fileName = data.getLastPathSegment();
        final File output = new File(Environment.getExternalStorageDirectory(),
                fileName);
        if (output.exists()) {
            output.delete();
        }

        InputStream stream = null;
        FileOutputStream fos = null;
        try {

            URL url = new URL(urlPath);
            stream = url.openConnection().getInputStream();
            InputStreamReader reader = new InputStreamReader(stream);
            fos = new FileOutputStream(output.getPath());

            while ((next = reader.read()) != -1) {
                fos.write(next);

            }
            // Sucessful finished
            result = Activity.RESULT_OK;

        } catch (Exception e) {
            e.printStackTrace();
        } finally {
            if (stream != null) {
                try {
                    stream.close();
                } catch (IOException e) {
                    e.printStackTrace();
                }
            }
            if (fos != null) {
                try {
                    fos.close();
                } catch (IOException e) {
                    e.printStackTrace();
                }
            }
        }

        Bundle extras = intent.getExtras();
        if (extras != null) {
            Messenger messenger = (Messenger) extras.get("MESSENGER");
            Message msg = Message.obtain();
            msg.arg1 = result;
            msg.obj = output.getAbsolutePath();

            try {
                messenger.send(msg);

            } catch (android.os.RemoteException e1) {
                Log.w(getClass().getName(), "Exception sending message", e1);
            }

        }
    }

} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-06-13T07:29:24.573

问题不在于`NotificationCompat.Builder`. 它与`IntentService`. 我应该使用`byte array and DataInputStream`而不是`InputStream`如下：

```
URL url = new URL(urlPath);
            stream = url.openConnection().getInputStream();
            InputStreamReader reader = new InputStreamReader(stream);
             dis = new DataInputStream(url.openConnection().getInputStream());
            fileData = new byte[url.openConnection().getContentLength()];
             for (int x = 0; x < fileData.length; x++) { // fill byte array with bytes from the data input stream
                    fileData[x] = dis.readByte();

                }
             dis.close();
            fos = new FileOutputStream(output.getPath());
            fos.write(fileData); 
```

# c - shellcode中的无限循环

> ID：15245399
> 
> 赞同：1
> 
> 时间：2013-03-06T10:54:49.130
> 
> 标签：c, assembly, x86, system-calls, shellcode

我想从 shellcode 中显示一个 hello world，c 代码很简单：

```
#include <stdio.h>

char shellcode[] = "\xeb\x17\x59\x31\xc0\xb0\x04\x31\xdb\x43\x31\xd2\xb2\x0f\xcd\x80\xb0\x01\xbb\x00\x00\x00\x00\xcd\x80\xe8\xe4\xff\xff\xff\x48\x65\x6c\x6c\x6f\x20\x73\x68\x65\x6c\x6c\x21\x0a\x0d";

int main(int argc, char **argv){

int (*func)();

func = (int (*)()) shellcode;

(int)(*func)();

return 0;
} 
```

问题应该在汇编文件中，这里是：

```
BITS 32
jmp short one

;write hello world on standard output
two:
pop ecx  ;i get string address
xor eax,eax 
mov al,4 
xor ebx,ebx
inc bl ;bl should be 1
xor edx,edx
mov dl,15
int 0x80

;exit with status 0
mov al,1
xor ebx,ebx
int 0x80

one:
call two
db "Hello shell!",0x0a,0x0d 
```

代码运行良好，但在显示“hello shell！”后不退出，相反它一直显示这句话，就像在无限循环中一样。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-06T11:01:22.677

似乎首先`int 0x80`返回的返回值在`eax`. 之后你设置`al`为`1`，但不是`eax`。

因此，您应该将代码更改为：

```
mov eax,1
xor ebx,ebx
int 0x80 
```

# java - 用于从时间戳到标准日期格式的日期转换的 Unix 命令？

> ID：15245400
> 
> 赞同：0
> 
> 时间：2013-03-06T10:54:50.067
> 
> 标签：java, unix

我需要将日期从时间戳（例如：1362553920）格式转换为标准日期格式（DD:MM:YYYY HH:MM:SS）。

有没有可用的unix命令？

如果在 unix 中不可能，我该如何在 java 中做到这一点？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-06T11:00:19.727

```
date -d @1362553920
Wed Mar  6 08:12:00 CET 2013 
```

这是 unix 命令，`@xxxxxxxxxx`你的输入在哪里

您还可以添加一些格式参数以将输出“剪切”为某些值，例如时间或工作日等

输入`man date`终端以获取更多信息

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-06T10:57:31.863

在 Java 中：

```
java.util.Date dt = new java.util.Date(1362553920L * 1000L);
SimpleDateFormat sdf = new SimpleDateFormat("dd.MM.yyyy HH:mm:ss");
System.out.println(sdf.format(dt)); 
```

但我确信也必须有一些 Unix 工具来实现这一点；）

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-03-06T11:01:17.990

```
date -r 1362553920 +'%d.%m.%Y %H:%M:%S' 
```

对我来说输出是

```
06.03.2013 11:12:00 
```

哦，这是 FreeBSD 特有的。看起来`date`命令对此没有标准开关，因此您需要检查`date`系统上的手册页以了解如何为其指定时间戳。

# sql - sql 数据库 - 数字或字符串数 据类型

> ID：15245401
> 
> 赞同：1
> 
> 时间：2013-03-06T10:54:54.397
> 
> 标签：sql, relational-database, sqldatatypes

我有一个关于在关系数据库中定义代码的原则问题。假设（案例 1）我们有一个代码，例如国籍代码：

```
1
2
...
23
...
125
... 
```

用于此类代码的首选数据类型是什么（例如`INT(3)`或`VARCHAR(3)`？）。范围在 1 到 999 之间。

现在，假设我们再次有一个数字代码（案例 2），但长度固定，例如 4：

```
2342
3252
2641
... 
```

在这种情况下，合适的数据类型是什么？

在这两种情况下都没有信息，即一个数字的位置没有意义，代码只是一个区分id。

我将不胜感激任何评论。谢谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-06T11:00:32.630

整数通常比 varchars 搜索得更快，并且占用的空间更少，所以我会说如果不涉及其他因素，请选择整数。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-06T11:18:34.963

数据库中的字符串更大，速度更慢。如果您不需要“0289”之类的内容，请使用整数。

如果性能对您来说非常重要，那么您可以将它作为整数“289”存储在数据库中，并在您的应用程序中以编程方式将其完成为“0289”，但这真的取决于。

顺便说一句，数据库中的字符串索引不是首选方式。

# java - java执行的scala jar文件 - cp vs. jar

> ID：15245403
> 
> 赞同：2
> 
> 时间：2013-03-06T10:55:03.253
> 
> 标签：java, scala, jar

如果我运行：

```
java -jar corpus-tools-0.0.2.jar removeTSfromCorpus 
```

它给了我错误：

```
Failed to parse the trailing argument list: 'removeTSfromCorpus' 
```

但是，如果我运行：

```
java -cp corpus-tools-0.0.2.jar removeTSfromCorpus 
```

它无缝地工作。scala-library 包含在依赖项（清单）中。-cp 和 -jar 有什么区别？我认为在这种情况下应该是平等的

谢谢！

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-06T10:56:30.717

```
java -cp jarfile classname 
```

使用指定的类路径 ( `-cp`) 执行类名。`-cp`您可以简单地依靠`CLASSPATH`变量来确定在哪里`java`找到类，而不是使用该选项。

```
java -jar jarfile 
```

将使用指定的`.jar`文件并执行文件 MANIFEST中`Main-Class`定义的内容。`.jar`这是 java 对独立应用程序的近似。应用程序打包在`.jar`文件中，并且 MANIFEST 指定该文件中的入口点`.jar`。有关更多详细信息，请参见[此处](http://docs.oracle.com/javase/tutorial/deployment/jar/appman.html)。

所以（回答你原来的问题！）你的第一个例子将运行清单中指定的一个类，它试图以`removeTSFromCorpus`某种方式解释为命令行参数。您的第二个示例将 CLASSPATH 设置为您的 .jar 文件，然后`removeTSFromCorpus`作为类运行。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-06T10:56:29.810

运行 JAR 时，应在 MANIFEST.MF 文件中指定主类和类路径。

然后，您只需像这样运行它：

```
java -jar corpus-tools-0.0.2.jar 
```

看：

[http://docs.oracle.com/javase/tutorial/deployment/jar/appman.html](http://docs.oracle.com/javase/tutorial/deployment/jar/appman.html)

提炼

> 如果您将应用程序捆绑在 JAR 文件中，则需要某种方式来指示 JAR 文件中的哪个类是您的应用程序的入口点。您使用清单中的 Main-Class 标头提供此信息，该标头具有一般形式：
> 
> 主类：类名

和

[http://docs.oracle.com/javase/tutorial/deployment/jar/downman.html](http://docs.oracle.com/javase/tutorial/deployment/jar/downman.html)

提炼：

> 您指定要包含在小程序或应用程序清单文件的 Class-Path 标头字段中的类。Class-Path 标头采用以下形式：
> 
> 类路径：jar1-name jar2-name directory-name/jar3-name

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-06T10:58:48.310

该`-jar`选项是尝试`static main`从您的 jar 文件中定义的主类执行方法，然后为其提供参数`removeTSfromCorpus`.

该`-cp`选项认为您提供了一个类路径，然后尝试从该类运行该`main`方法。`removeTSFromCorpus`

# html - CSS3 li 带有边框半径和 li:hover 的菜单

> ID：15245404
> 
> 赞同：3
> 
> 时间：2013-03-06T10:55:06.813
> 
> 标签：html, css

我对带有圆角的 CSS3 菜单有点问题，我不确定这是否是我应用类的方式导致了我的问题。请注意，在下面的示例中，为了节省空间，我省略了代码的`-moz-`和变体，但它们存在于我的代码中。`-webkit-`

我有一个`<div>`包含自定义`<ul>`菜单的标签，以允许下拉功能，并且还`li:hover`用于突出显示所选菜单。而且，有史以来第一次（以我的经验），IE 第一次真正完美地运行，而 Firefox 和 Chrome 需要一些调整。

我的最左侧菜单项的状态存在问题`li:hover`，因为当它悬停时，它与角落对齐，然后在“mouseout”之后它也影响`border-radius`了包含`<ul>`标签的。我能够通过`border-radius`首先将 应用于 div 标签然后隐藏溢出来解决此问题，但是由于菜单项包含下拉列表，因此它们没有被显示。因此，我将左侧菜单项设置为 class of `menu_end`，并将`border-top-left-radius`and`border-bottom-left-radius`的`li`and设置为与标签`li:hover`的 相匹配，我认为这已经解决了问题。`border-radius``<ul>`

```
.menu_end {
border-top-left-radius: 5px;
border-bottom-left-radius: 5px;
}

.menu_end li:hover {
border-top-left-radius: 5px;
border-bottom-left-radius: 5px;
} 
```

但是，我注意到在`li:hover`状态下创建的子菜单也继承了这些左圆角的样式，我似乎无法清除它们。我试过添加：

```
.menu_end ul li ul li{
border-top-left-radius: 0px;
border-bottom-left-radius: 0px;
}

.menu_end ul li ul li:hover {
border-top-left-radius: 0px;
border-bottom-left-radius: 0px;
} 
```

由于某种原因不起作用。我还尝试为嵌套`<li>`元素分配自己的类：

```
.menu_end_drop li {
border-top-left-radius: 0px;
border-bottom-left-radius: 0px;
}
.menu_end_drop li:hover {
border-top-left-radius: 0px;
border-bottom-left-radius: 0px;
} 
```

这两种方法似乎都不起作用，奇怪的是，如果我在`border-radius`不指定位置的情况下应用样式，它会影响两个先前未指定的角，但不会影响左上角和左下角。

我认为这可能与我的样式顺序有关，但我的理解是，稍后在 css 文件中应用的样式会取代以前的任何样式，所以我有点不知所措！

我已经在这个小提琴中包含了所有内容-> [http://jsfiddle.net/Z5qWe/2/](http://jsfiddle.net/Z5qWe/2/)

任何帮助是极大的赞赏，

最好的祝愿，

乔

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-06T11:01:22.350

问题是因为这个：

```
.menu_end li:hover {
    border-top-left-radius: 5px;
    border-bottom-left-radius: 5px;
} 
```

这应该**只适用于直系后代**（所以我们使用`>`）。

用这个替换它：

```
.menu_end > li:hover {
    border-top-left-radius: 5px;
    border-bottom-left-radius: 5px;
} 
```

小提琴：http: [//jsfiddle.net/Z5qWe/5/](http://jsfiddle.net/Z5qWe/5/)

# css - Div 在 IE 中未正确对齐 - 在 Firefox/Chrome 中完美运行

> ID：15245407
> 
> 赞同：1
> 
> 时间：2013-03-06T10:55:11.517
> 
> 标签：css, internet-explorer, html

我正在尝试将行 div 中的产品 div 与其中的 4 对齐，以使其看起来像一个购物网站，它在 Chrome 和 Firefox 上运行良好，但似乎堆叠在中间重叠并离开它应该留在的 div 内。我尝试了很多解决方案，但都没有奏效，所以我需要帮助！

**CSS**

```
#products1 {
width:1000px;
height:320px;
margin:auto;
margin-top:10px;
margin-bottom:15px;
position:relative;
display:inline-block;
}

.product {
margin:auto;
height:320px;
width:230px;
border:1px solid #d9d9d9;
position:relative;
box-shadow: 0 0 5px #BBB;
display:inline-block;
} 
```

products1 是一个 div 容器，用于容纳 4 个产品，其中产品是 4 个盒子，但只有它在 IE 中不起作用

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-07-27T23:54:15.477

添加“浮动：左；” 在 .product{} 内

顺便说一句，你没有提到哪个版本的 IE

# vb.net - 使用 VB.net 在保存到数据库之前修改记录

> ID：15245409
> 
> 赞同：1
> 
> 时间：2013-03-06T10:55:13.477
> 
> 标签：vb.net

像往常一样，这是我保存按钮中的代码：

```
Private Sub Tbl_Student_InformationBindingNavigatorSaveItem_Click ...
        Me.Validate()
        Me.Tbl_Student_InformationBindingSource.EndEdit()
        Me.TableAdapterManager.UpdateAll(Me.EnrollmentDataSet)
End Sub 
```

在保存之前，我需要修改要保存的记录中的一列。但是我怎样才能访问它？

我试图将名为“状态”的列的字段修改为“活动”。这是我之前决定附加的代码`Me.Validate()`。

```
Me.Tbl_Student_InformationBindingSource.Item("Status") = "Active" 
```

这是错误的，但我认为它必须看起来像这样。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-05-14T04:19:32.893

```
Private Sub Tbl_Student_InformationBindingNavigatorSaveItem_Click ...
    Me.Validate()
    Me.EnrollmentDataSet.Status="Active"
    Me.Tbl_Student_InformationBindingSource.EndEdit()        
    Me.TableAdapterManager.UpdateAll(Me.EnrollmentDataSet)
End Sub 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-05-18T09:27:21.487

好吧，两个月后（我以前停止使用 VB.net）我最终这样做了：

```
Me.EnrollmentDataSet.Tables("tbl_Student_Information").Rows(Tbl_Student_InformationBindingSource.Position).Item("Status") = "Active" 
```

我将该代码片段放在 UpdateAll 方法之后，然后在此（上面的代码）之后，我调用了另一个 UpdateAll。

这是解决我的问题的一种方法，但我认为必须有更好的方法。

# javascript - JavaScript DateTime 转换减少一天

> ID：15245417
> 
> 赞同：0
> 
> 时间：2013-03-06T10:55:31.397
> 
> 标签：javascript

当我使用以下 javascript 代码转换日期 2012-01-01 时。

```
var dtmRDate = new Date('2012-01-01'); 
```

它返回结果：

```
Sat Dec 31 19:00:00 EST 2011 
```

好像有一天会减少。我应该怎么做才能解决这个问题。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T11:03:12.177

它看起来像一个时区问题，默认情况下，解析器将假定输入为 UTC 时区，并且在转换为字符串表示时它使用本地时区

你可以试试`new Date('2012-01-01 EST')`

# android - ActionbarSherlock Android 3.0 之前的版本：防止将选项卡显示为下拉菜单

> ID：15245419
> 
> 赞同：1
> 
> 时间：2013-03-06T10:55:35.853
> 
> 标签：android, android-actionbar, actionbarsherlock, fragment, android-tabs

我有一个`SherlockFragmentActivity`包含三个片段的。您应该能够通过 ActionBar 作为选项卡访问它们，并且在 3.0 之后的 Android 版本中一切正常，但在以前的版本中我遇到了问题，选项卡没有显示在实际操作栏下方，而是直接显示在它的主要部分并且由于空间不足，三个选项卡显示为下拉菜单（在纵向模式下，在横向模式下有足够的空间并且选项卡完全显示）。
我已经在清单中应用了该标志`android:uiOptions="splitActionBarWhenNarrow"`，但没有任何改变。
这是我设置标签的方式`SherlockFragmentActivity`

```
private void setupTabs(int tabSelection) {
    actionbar = getSupportActionBar();
    actionbar.setNavigationMode(ActionBar.NAVIGATION_MODE_TABS);
    ActionBar.Tab buddyTab = actionbar.newTab().setText("Contacts")
            .setIcon(R.drawable.buddys);
    ActionBar.Tab chatsTab = actionbar.newTab().setText("Chats")
            .setIcon(R.drawable.chats);
    ActionBar.Tab schedularTab = actionbar.newTab().setText("Schedular")
            .setIcon(R.drawable.schedular);

    buddysFragment = new BuddysFragment();
    chatsFragment = new ChatsFragment();
    schedularFragment = new SchedularFragment();

    buddyTab.setTabListener(new TabListener(this, "buddys", buddysFragment));
    chatsTab.setTabListener(new TabListener(this, "chats", chatsFragment));
    schedularTab.setTabListener(new TabListener(this, "schedular",
            schedularFragment));

    actionbar.addTab(buddyTab);
    actionbar.addTab(chatsTab);
    actionbar.addTab(schedularTab);
    Log.i("MainActivity Tab selection", "settings tab selection to " + tabSelection);
    actionbar.setSelectedNavigationItem(tabSelection);

} 
```

有没有可能我可以强制标签显示在 android 3.x 和 4.x 中，所以在实际操作栏下方？
提前致谢。

鼠尾草

# asp.net - asp.net 中设计页面和源页面之间的导航快捷方式

> ID：15245426
> 
> 赞同：1
> 
> 时间：2013-03-06T10:56:00.567
> 
> 标签：asp.net, visual-studio-2010

在 Visual Studio 中，是否有任何键盘快捷键可以在 asp.net 的设计和源页面之间导航

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T11:01:46.670

您可以使用以下键盘快捷键：

*   `F7`-> 查看代码

*   `SHIFT`+ `F7`-> 视图设计器

[在这里](http://msdn.microsoft.com/en-us/library/da5kh0wa.aspx)找到

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T11:01:57.980

查看设计师有快捷方式。`shift`+`f7` [键盘快捷键](http://msdn.microsoft.com/en-us/library/da5kh0wa.aspx)

查看代码：`F7`

# oracle-adf - 如何在业务组件视图对象查询中将会话属性值与 where 子句一起使用。？

> ID：15245431
> 
> 赞同：4
> 
> 时间：2013-03-06T10:56:11.887
> 
> 标签：oracle-adf

在 ADF 融合 Web 应用程序的 sessionScoped 托管 bean（在有界任务流和 adfc-config.xml 文件中注册的托管 bean）中，我将会话中的属性设置为

```
FacesContext fctx = FacesContext.getCurrentInstance();
ExternalContext ectx = fctx.getExternalContext();
HttpSession userSession = (HttpSession) ectx.getSession(false);
userSession.setAttribute("compID", defaultCompany); 
```

session 属性在 bean 中工作正常，并且该值显示在有界任务流的 jsff 页面中以及包含有界任务流作为区域的 jsf 页面上

我使用表达式在页面上获取会话属性值

```
"#{sessionScope.compID}" 
```

在输出文本值属性内，但无法获取包含业务组件的模型项目中的值。我想在查询中使用 compID 会话属性值

```
Select.........where COMP_ID ='compID'; 
```

通过在绑定变量值属性中设置值并在 where 子句中传递新创建的投标变量，但它不起作用

那么我如何在业务组件视图对象的查询的where子句中使用这个动态会话属性值呢？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-07T11:56:57.817

您可以尝试执行以下博客中提到的操作

[http://andrejusb.blogspot.com/2012/01/how-to-access-session-scope-in​​-adf-bc.html](http://andrejusb.blogspot.com/2012/01/how-to-access-session-scope-in-adf-bc.html)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-03-07T01:07:54.117

您需要在您的 VO 或 AM 上提供一个接受参数的服务方法 - 您在 JSF 页面中调用此方法并将会话范围作为参数传递。一个例子： [https](https://blogs.oracle.com/shay/entry/passing_parameters_to_an_adf_p) ://blogs.oracle.com/shay/entry/passing_parameters_to_an_adf_p 或 [https://blogs.oracle.com/shay/entry/am_service_method_-_simple_dem](https://blogs.oracle.com/shay/entry/am_service_method_-_simple_dem)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-08T11:48:34.073

我的...最终解决方案使用两个答案中的代码行...

```
protected void prepareSession(Session session) {
Map sessionScope = ADFContext.getCurrent().getSessionScope();
String company = (String)sessionScope.get("compId");
System.out.println("Default Comapny in BC is: " + company);
super.prepareSession(session);
this.getSession().getUserData().put("Company", company);
System.out.println("After setting value in userData map of BC");
} 
```

视图 xml 上使用的表达式

```
adf.userSession.userData.Company

![used expression in the bind variable value][1] 
```

# github - 中间人处理README文件到一个目录

> ID：15245443
> 
> 赞同：2
> 
> 时间：2013-03-06T10:56:39.987
> 
> 标签：github, static, middleman

我在为我的 Middleman 静态网站设置自述文件时遇到问题。当静态内容部署到 Github 时，我添加了 README 和 CNAME 文件。CNAME 文件已正确复制，但 README 文件正在处理为 /readme/index.html。

任何想法如何解决这一问题？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2014-02-17T15:36:19.340

您可以在您的`config.rb`

```
page "/README", :directory_index => false 
```

[它记录在中间人网站上](http://middlemanapp.com/basics/pretty-urls/#toc_2)

# ruby-on-rails - 带有角度和 sql 后端的多页应用程序

> ID：15245446
> 
> 赞同：1
> 
> 时间：2013-03-06T10:56:46.197
> 
> 标签：ruby-on-rails, angularjs, yeoman

我正在设计一个有几个独立页面的小应用程序。我打算在前端使用 Angular，后端需要一个 SQL 数据库。

我并不是真的在设计一个 Web 应用程序，而是一个内部系统，使用（便宜的）手机来执行操作员任务（每个操作员的待办事项列表）和桌面上的主管页面，用于分配任务给操作员.
目前有 3 个不同的页面：1- 移动待办事项列表 2- 管理员调度页面 3- 管理员报告和统计信息。

只有第一个需要角度，另外两个可以作为标准的网络应用程序完成，但如果可能的话，我更喜欢使用角度。

我正在考虑使用 Rails（仅因为我知道）从数据库读取/写入并将 json 导出/导入到角度页面。然而它并没有解决如何做一个多页角度应用程序的问题？即使不同的角度“视图”，所有页面也可能共享相同的组件。我想避免使用角度路由，因为我正在使用便宜且慢速的移动设备来处理类似待办事项，所以我不希望它被不需要的东西超载。

## 更新

我也在使用 yeoman，不确定是不是最好的选择，因为它似乎管理单页应用程序。也许我需要每个视图都有一个 yeoman 项目？？？

那么，让 Rail 应用程序托管不同的 Angular 页面的最佳做法是什么？

此外，如果有一种更简单的方法可以将 sql 直接提供给 angular，我可以使用与该导轨不同的东西。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-09T01:56:21.510

在我的 Rails/Angular 应用程序中，我使用 $resource 在 RoR 创建的数据库中以 REST 方式获取/放置数据。这是 $resource 的文档。

[http://docs.angularjs.org/api/ngResource.$resource](http://docs.angularjs.org/api/ngResource.%24resource)

这是我在为自己构建的简历 Web 应用程序中如何做到这一点的示例。

```
app = angular.module("Resume", ["ngResource"])

app.factory "Entry", ["$resource", ($resource) ->
  $resource("/entries")
]

@EntryCtrl = ["$scope", "Entry", ($scope, Entry) ->
  $scope.entries = Entry.query()
  $scope.showThis = false

  $scope.isClass = (isProject) ->
    if isProject == true
      $scope.myVar = "project alert-info"
    else
      $scope.myVar = "tech alert-success"
] 
```

*coffeescript 函数在数组中以保护它们不被编译。

**此代码类似于 Railscasts.com 上的 Ryan Bates 示例

# google-maps-api-3 - 谷歌地图信息窗口共享

> ID：15245456
> 
> 赞同：0
> 
> 时间：2013-03-06T10:57:02.533
> 
> 标签：google-maps-api-3, google-maps-markers, infowindow

我目前正在构建一个谷歌地图，该地图从 wordpress 中自定义帖子类型的 3 个不同类别中提取 lat/lng 坐标。我在学习时正在构建它，但正在努力解决共享单个信息窗口的问题。

这是代码。

```
(function() {
window.onload = function() {

// Creating an object literal containing the properties // we want to pass to the map
var options = {
zoom: 8,
center: new google.maps.LatLng(53.789397,-2.255003), mapTypeId: google.maps.MapTypeId.ROADMAP
};

// Creating the map
var map = new google.maps.Map(document.getElementById('map_canvas'), options);

var commercialplaces = [];
var commercialmyTitle = [];
var commercialmyContent = [];

var housingplaces = [];
var housingmyTitle = [];
var housingmyContent = [];

var riversideplaces = [];
var riversidemyTitle = [];
var riversidemyContent = [];

// Adding a marker to the map
<?php 
          query_posts( array( 
            'post_type' => 'livesites',
            'livesites-cat'=> 'commercial',
            'showposts' => 1000,
            'order' => ASC,
            'orderby' => title,
            ));

          if ( have_posts() ) : while ( have_posts() ) : the_post();        
?> 

commercialmyTitle.push('<?php the_title(); ?>');
commercialmyContent.push('<?php the_field('address'); ?>');
commercialplaces.push(new google.maps.LatLng(<?php the_field('location_for_map'); ?>));

<?php  endwhile; endif; wp_reset_query(); ?> 

// Looping through the commercialplaces array
for (var i = 0; i < commercialplaces.length; i++) {

// Adding the marker as usual
var marker = new google.maps.Marker({
position: commercialplaces[i],
map: map,
title: commercialmyTitle[i],
icon: 'http://icansee.co.uk/commerciallivesite.png',
});

// Wrapping the event listener inside an anonymous function
// that we immediately invoke and passes the variable i to.
(function(i, marker) {
// Creating the event listener. It now has access to the values of
// i and marker as they were during its creation
google.maps.event.addListener(marker, 'click', function() {
var infowindow = new google.maps.InfoWindow({
content: commercialmyContent[i],
});
infowindow.open(map, marker);
});
})(i, marker);

}

// Adding a marker to the map
<?php 
          query_posts( array( 
            'post_type' => 'livesites',
            'livesites-cat'=> 'housing',
            'showposts' => 1000,
            'order' => ASC,
            'orderby' => title,
            ));

          if ( have_posts() ) : while ( have_posts() ) : the_post();        
?> 

housingmyTitle.push('<?php the_title(); ?>');
housingmyContent.push('<?php the_field('address'); ?>');
housingplaces.push(new google.maps.LatLng(<?php the_field('location_for_map'); ?>));

<?php  endwhile; endif; wp_reset_query(); ?> 

// Looping through the commercialplaces array
for (var i = 0; i < housingplaces.length; i++) {

// Adding the marker as usual
var marker = new google.maps.Marker({
position: housingplaces[i],
map: map,
title: housingmyTitle[i],
icon: 'http://icansee.co.uk/housinglivesite.png',
});
// Wrapping the event listener inside an anonymous function
// that we immediately invoke and passes the variable i to.
(function(i, marker) {
// Creating the event listener. It now has access to the values of
// i and marker as they were during its creation
google.maps.event.addListener(marker, 'click', function() {
var infowindow = new google.maps.InfoWindow({
content: housingmyContent[i],
});
infowindow.open(map, marker);
});
})(i, marker);

}

// Adding a marker to the map
<?php 
          query_posts( array( 
            'post_type' => 'livesites',
            'livesites-cat'=> 'riverside-interiors',
            'showposts' => 1000,
            'order' => ASC,
            'orderby' => title,
            ));

          if ( have_posts() ) : while ( have_posts() ) : the_post();        
?> 

riversidemyTitle.push('<?php the_title(); ?>');
riversidemyContent.push('<?php the_field('address'); ?>');
riversideplaces.push(new google.maps.LatLng(<?php the_field('location_for_map'); ?>));

<?php  endwhile; endif; wp_reset_query(); ?> 

// Looping through the commercialplaces array
for (var i = 0; i < riversideplaces.length; i++) {

// Adding the marker as usual
var marker = new google.maps.Marker({
position: riversideplaces[i],
map: map,
title: riversidemyTitle[i],
icon: 'http://icansee.co.uk/interiorlivesite.png',
});
// Wrapping the event listener inside an anonymous function
// that we immediately invoke and passes the variable i to.
(function(i, marker) {
// Creating the event listener. It now has access to the values of
// i and marker as they were during its creation
google.maps.event.addListener(marker, 'click', function() {
var infowindow = new google.maps.InfoWindow({
content: riversidemyContent[i],
});
infowindow.open(map, marker);
});
})(i, marker);

}
}
})(); 
```

谁能指导我正确的方向？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-07T00:52:49.210

在某处创建单个 infoWindow 实例：

```
infowindow = new google.maps.InfoWindow(); 
```

在标记的点击处理程序中仅设置此 infoWindow 的内容并打开它：

```
(function(i, marker) {
// Creating the event listener. It now has access to the values of
// i and marker as they were during its creation
google.maps.event.addListener(marker, 'click', function() {
infowindow.close();
infowindow.setContent(riversidemyContent[i]);
infowindow.open(map, marker);
});
})(i, marker); 
```

# sql - 存储过程问题 - 无法同时获得两个返回值

> ID：15245457
> 
> 赞同：0
> 
> 时间：2013-03-06T10:57:03.197
> 
> 标签：sql, sql-server-2008, stored-procedures, return

我有一个存储过程，如下所示：

```
ALTER PROCEDURE [dbo].[CreateNewLeague]
    -- Add the parameters for the stored procedure here
    @UserId uniqueidentifier,
    @LeagueName VARCHAR(256),
    @leagueId Int OUTPUT,
    @teamId Int OUTPUT

AS
BEGIN
    -- SET NOCOUNT ON added to prevent extra result sets from
    -- interfering with SELECT statements.
    SET NOCOUNT ON;

    SELECT @teamId = [teamID] FROM [UserTeam] WHERE (userID = @UserId)

    RETURN @teamID
END

BEGIN
    -- SET NOCOUNT ON added to prevent extra result sets from
    -- interfering with SELECT statements.
    SET NOCOUNT ON;

    INSERT INTO League([leagueAdminID], [leagueName]) VALUES (@UserId, @LeagueName)
    SELECT SCOPE_IDENTITY()

    Set @leagueId = SCOPE_IDENTITY()

    RETURN @leagueId
END

BEGIN
    -- SET NOCOUNT ON added to prevent extra result sets from
    -- interfering with SELECT statements.
    SET NOCOUNT ON;

    INSERT INTO LeagueTeam([leagueID], [teamID]) VALUES (@leagueId, @teamID)

END 
```

我的问题是，当我执行 SPROC 时，我无法同时获得两个返回值，我只能获得我放在第一个的返回值。当它们放在第一位时它们都可以工作，但第二个返回一个 NULL 值。

任何想法我做错了什么？

提前致谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T10:59:34.947

“返回”停止执行存储过程，因此第二部分永远不会执行。省略“return”语句并阅读输出变量，您已经在设置它们的值。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T11:02:43.740

如果您使用的是输出参数，则不要使用 return 仅设置变量。前任。设置@teamID = 10

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-06T11:02:54.893

设置值而不是返回..

# linux - 无法使用 java 代码在 linux 运行时创建文件

> ID：15245461
> 
> 赞同：1
> 
> 时间：2013-03-06T10:57:13.233
> 
> 标签：linux, java-io, apache-storm

我正在编译 maven 项目以在 linux 机器上运行 Storm Topology。

以下是 Bolt 类中的一个方法，这里我想在运行时创建一个文件，其中缓冲的 Reader 将从输入中收集数据并将其写入文件。

**元组输入对象**：包含要写入的数据。
**/root/data/javacode/top_output.csv**：文件名。
所有 IO 包都已在代码中导入。

```
public void execute(Tuple input, BasicOutputCollector collector) {
    String sentence = input.getString(0);
    String[] process = sentence.split(" ");
    File file = new File("/root/data/jcode/top_output.csv");
    if (!file.exists()) {
        file.createNewFile();
    }
    FileWriter fw = new FileWriter(file.getAbsoluteFile());  // line no. 36
    BufferedWriter bw = new BufferedWriter(fw);  
    for (String proc : process) {
        proc = proc.trim();
        if (!proc.isEmpty()) {
            collector.emit(new Values(proc));
            bw.write(proc);    // line no. 42
        }
    }
    bw.close();
} 
```

每当我使用**mvn package**编译项目时，都会出现编译错误：

```
[INFO] --- maven-compiler-plugin:2.3.2:compile (default-compile) @ lgassStorm ---
[WARNING] File encoding has not been set, using platform encoding UTF-8, i.e. build is platform dependent!
[INFO] Compiling 4 source files to /root/data/lgassStorm/target/classes
[INFO] -------------------------------------------------------------
[ERROR] COMPILATION ERROR :
[INFO] -------------------------------------------------------------
[ERROR] /root/data/lgassStorm/src/main/java/lgaas/bolts/DataNormalizer.java:[36,19] error: unreported exception IOException; must be caught or declared to be thrown
[ERROR] /root/data/lgassStorm/src/main/java/lgaas/bolts/DataNormalizer.java:[42,13] error: unreported exception IOException; must be caught or declared to be thrown
[INFO] 2 errors 
```

每当我评论 Filewriter 相关代码时，它都会成功运行。上面的代码中提到了行号。代码有什么问题？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T11:01:41.433

您需要指定函数执行会引发 IOException。

```
public void execute(Tuple input, BasicOutputCollector collector) throws IOException { 
```

或者您可以捕获异常。这是为了防止其中一个 IO 操作失败。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T11:12:34.780

尝试抛出 IOException 或将您的代码包围到 TryCatch 块。

```
public void execute(Tuple input, BasicOutputCollector collector){
try{
your code...
}catch (IOException e){
e.printStackTrace ();
}
} 
```

# mongodb - MongoDB：对过滤器字段使用值 1

> ID：15245471
> 
> 赞同：0
> 
> 时间：2013-03-06T10:57:47.893
> 
> 标签：mongodb

我正在处理一个现有代码，他们在其中使用 Mongo DB 和 Java EE。

在某些情况下，出于过滤目的，他们使用硬编码值作为 1 。

```
BasicDBObject query = new BasicDBObject(SEC_TYPE, "A");

BasicDBObject Fields = new BasicDBObject("date", 1);
returnFields.put("unisymbol", 1);
returnFields.put("symbol", 1);

DBCursor cursor = coll.find(query, Fields); 
```

例如，如果您看到上面的查询，诸如 date 、 unisymbol 和 symbol 之类的字段被硬编码为 1 。

请让我知道，将值“1”反对者提交的确切含义是什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T11:01:24.600

这意味着，“仅检索该字段的值”。所以，这个查询：

```
db.users.find({}, {firstname: 1, lastname: 1}) 
```

只会得到两个字段，名字和姓氏。它不会得到电子邮件、地址和其他字段。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-06T11:02:46.737

它用于投影：[http](http://docs.mongodb.org/manual/core/read-operations/#result-projections) ://docs.mongodb.org/manual/core/read-operations/#result-projections文档的字段被过滤掉。在这种情况下`1`，反对该字段意味着包括它，而`0`男性则省略它。

所以上面的代码包括`date`、`unisymbol`和。它包括必须通过以下方式从结果中显式删除的因为：`symbol``_id``_id`

```
returnFields.put("_id", 0); 
```

# sql - NHibernate Profiler 不连接到会话和记录

> ID：15245474
> 
> 赞同：2
> 
> 时间：2013-03-06T10:57:54.850
> 
> 标签：sql, asp.net-mvc, nhibernate

我正在使用 NHProfiler 从 .NET MVC 网站获取 SQL 输出。尽管之前连接到会话并记录 SQL 输出，但它不再这样做，但相同的设置/配置似乎可以在其他计算机上工作。

我搜索了 SO 并找到了相关问题，但他们没有提供解决方案。我已检查以确保端口正确并在需要时包含引用，确保 DLL 在项目中。

除了检查上述内容之外，是否还有其他可能导致会话无法识别的原因？即它可能与某种权限或设置有关吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-06T11:03:02.947

`HibernatingRhinos.Profiler.Appender.v4.0.dll`首先在应用程序启动中添加一个引用并添加以下代码。

```
protected void Application_Start() 
{
  ...
  //do not use on production server ever ever ever
  HibernatingRhinos.Profiler.Appender.NHibernate.NHibernateProfiler.Initialize();

} 
```

就是这样，不需要其他的了

# google-chrome - 如何强制浏览器选项卡（chrome）使用无线和另一个使用以太网电缆？

> ID：15245476
> 
> 赞同：4
> 
> 时间：2013-03-06T10:58:03.007
> 
> 标签：google-chrome, wireless, ethernet

我知道我的问题有点尴尬，但这是我的情况：

我有两个网络，其中一个可以通过无线访问，另一个可以通过以太网电缆访问。

如果我的笔记本电脑连接到两个网络，我可以通过无线网络连接到网站 WW，通过以太网连接到网站 EE，在同一个浏览器 (Chrome) 的两个选项卡中？

注意：假设两个网站都提供视频流。

注意：假设网站WW被以太网封锁，网站EE被无线网络封锁。

我的试验：

1.  我尝试在笔记本电脑仅连接无线时打开网站 WW，然后连接以太网电缆，并打开网站 EE。结果：网站 WW 通过无线关闭连接，并尝试使用以太网连接，因此停止流式传输。

2.  我尝试在笔记本电脑仅连接到以太网时打开网站 EE，然后连接到无线网络，并打开网站 WW。结果：网站 EE 继续流式传输，而 WW 从未加载。

我正在使用 Windows XP，最新的谷歌浏览器。有任何想法吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-10-10T16:00:30.940

如果您可以重新配置接入点，您可以这样做：

1) 将 Wifi 接入点设置为路由器（以便它在其以太网和 Wifi 接口上具有不同的 IP 地址

2）将PC上wifi卡的IP地址设置在路由器的IP网络中（Wifi端）

3）在PC上设置静态路由，通过路由器访问WW，通过以太网设置默认路由（用于EE）。

# hibernate - JPA中的多个可写映射？

> ID：15245481
> 
> 赞同：1
> 
> 时间：2013-03-06T10:58:28.017
> 
> 标签：hibernate, jpa, eclipselink, pojo

我想对我系统中的某个用户进行评论，该评论是由其他用户进行的。所以这是我的用户表：

![用户表](../Images/10f9bd53d1ac77fa6af84abd4dc652ea.png)

这是我的 user_review 表：

![用户评价表](../Images/36c7ddc80474955ce1db0575db6922bd.png)

EclipseLink 是这样生成的（实际上它`@PrimaryJoinColumn`是`@JoinColumn`因为这篇[文章](https://stackoverflow.com/questions/7952115/multiple-writable-mappings-exception-in-eclipselink)而改变的）：

```
 @Id
    @GeneratedValue(strategy=GenerationType.IDENTITY)
    private Integer id;

    @Temporal(TemporalType.DATE)
    private Date date;

    private String review;

    //bi-directional many-to-one association to User
//  @PrimaryKeyJoinColumn(name="id_user_reviewer")
    @ManyToOne 
    @JoinColumn(name="id_user_reviewer")
    private User reviewer;

    //bi-directional many-to-one association to User
//  @JoinColumn(name="id_user")
    @ManyToOne 
    @PrimaryKeyJoinColumn(name="id_user")
    private User user;

    //bi-directional many-to-one association to UserInfo
    @ManyToOne
    @JoinColumn(name="id_user")
    private UserInfo userInfo; 
```

并不断给我这个错误：

```
Join column "user_id" cannot be resolved on table "user_review" 
```

我真的不知道该怎么做，因为我已经尝试了很多事情，不同的关联，但似乎没有任何效果。有任何想法吗 ？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T23:08:15.390

这将是最奇怪的事情..但我只是删除了这一行：

```
//  @JoinColumn(name="id_user") 
```

并且 Eclipse 不再担心.. （到目前为止 =] ）我将保持这个线程打开，因为我真的认为这很奇怪发生并像这样解决。

**更新**

我按照布赖恩的指示做了，它似乎解决了我的问题：

```
@Entity
@Table(name="user_review")
public class UserReview implements Serializable {
    private static final long serialVersionUID = 1L;

    @Id
    private Integer id;

    @Temporal(TemporalType.DATE)
    private Date date;

    private String review;

    //bi-directional many-to-one association to User
    @ManyToOne
    @JoinColumn(name="id_user_reviewer", insertable=false, updatable=false)
    private User user1;

    //bi-directional many-to-one association to User
    @ManyToOne
    @JoinColumn(name="id_user")
    private User user2;

    //bi-directional many-to-one association to UserInfo
    @ManyToOne
    @JoinColumn(name="id_user", insertable=false, updatable=false)
    private UserInfo userInfo;
        .. more code 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-07T23:57:53.333

嗯 - 你的总结：

*JPA中的多个可写映射？*

与您的问题不符：

为什么我会收到此错误：无法在表“user_review”上解析连接列“user_id”？

所以我猜当您在字段中指定 a 时，您会遇到“多个可写...”`@JoinColumn`问题`user`；`@PrimaryKeyJoinColumn`当您在`user`字段上指定 a 时，您会遇到“...无法解决...”问题。

`@PrimaryKeyJoinColumn`不能用于`@ManyToOne`映射。（当实体共享一个主键时，它可以用于`@OneToOne`映射。）因此，Eclipse 正在计算 JPA 规范定义的默认连接列名称（即`"user_id"`），并且由于该列不在您的`user_review`表上，您收到一条错误消息，指示无法在数据库表上解析该字段。

`@JoinColumn`你应该在你的`user`领域取消评论。这将产生两个`@OneToMany`映射，它们将确定要写入`id_user`数据库列的外键 - 它将采用字段引用或字段引用的主键的`User`值。这是不允许的。您需要重新处理数据库关系或对象模型，或者将其中一个映射标记为只读 ( )。`user``UserInfo``userInfo``@JoinColumn(name="id_user", insertable = false, updatable = false)`

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2013-03-06T11:22:27.583

代码与您发布的错误消息之间似乎存在不匹配。错误消息在您的代码中抱怨名为“user_id”的列，但是@JoinColumn 注释使用“id_user”。

这似乎不对，是不是你在某一时刻复制了异常然后更改了代码？

# javascript - 如何在Firefox上使用新标签打开mailto链接

> ID：15245483
> 
> 赞同：1
> 
> 时间：2013-03-06T10:58:32.307
> 
> 标签：javascript, html, mailto

我需要在 Firefox 的新标签中打开 href mailto 链接。我试过 target _blank 它对我没有帮助。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-06T11:03:48.710

这似乎是 Firefox 中的一个错误。

[https://bugzilla.mozilla.org/show_bug.cgi?id=646552](https://bugzilla.mozilla.org/show_bug.cgi?id=646552)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T11:03:56.110

我想，你想为此打开网络邮件客户端。但是，这不会是一个*href mailto*链接。

[***在这里***](https://stackoverflow.com/questions/11576255/how-to-open-mailto-links-in-new-tab-for-users-that-have-gmail-as-the-default-mai)检查这个类似的线程[](https://stackoverflow.com/questions/11576255/how-to-open-mailto-links-in-new-tab-for-users-that-have-gmail-as-the-default-mai)

# python - 第二个 ImageMagick 进程在 Python 中失败

> ID：15245486
> 
> 赞同：0
> 
> 时间：2013-03-06T10:58:46.800
> 
> 标签：python, pyramid, imagemagick-convert

操作系统 Ubuntu 12.04 精确，python 2.7.3，金字塔网络框架，IM 6.4.7-1

我有 Python 代码（在 Pyramid Web 框架应用程序中，但这应该无关紧要），它获取捕获的图像 capture.jpg，然后需要对图像执行两个 ImageMagick 处理。第一个是转换以标记图像（有效），第二个是合成以在图像和标签上应用水印（无效）。起初我认为由于图像尚未准备好，第二次操作静默失败，但添加等待计时器表明事实并非如此。知道如何结合这两种操作吗？它们不能组合成一个 shell 命令。

```
 now = datetime.datetime.utcnow()
    inpfile = "/home/brian/capture.jpg"
    tfile = "/home/brian/watermark.png"
    label = ("SN7 %s" % now.strftime("%Y%m%d%H%M%S")) 
    outfile = ("/home/brian/%s" % now.strftime("CAM_%Y%m%d%H%M%S") + ".jpg")
    args = []
    args += ["-background", "White"]
args += ["-pointsize","42"]
    args += ["label: "+ label]
    args += ["-gravity", "Center"]
args += ["-append"]
subprocess.check_call(["convert",inpfile] + args + [outfile])
time.sleep(5)
imp = []
imp += ["-dissolve", "25"]
imp += ["-gravity", "South"]
subprocess.check_call(["composite"] + [imp] + tfile + outfile + outfile)
    return [] 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T12:46:22.913

我认为您以错误的方式混合了listina。`imp`已经是一个列表，您将其放入`[]`通话中`check_call`。所以你得到一个列表中的列表。Additionaly`tfile`是一个不能连接到列表的字符串，但这应该作为 TypeError 异常可见。我发现了第三个问题；您将 outfile 作为字符串连接到 outfile，因此第二个进程将没有有效的输入和输出文件。

# iphone - 具有自定义视图的可扩展和可折叠 UITableViewCell

> ID：15245488
> 
> 赞同：1
> 
> 时间：2013-03-06T10:58:55.563
> 
> 标签：iphone, uiview, uitableview, ios6

对如何解决这个问题没有任何想法....

好的。`UITableViewCell`这是我使用三种不同的**Child Views**的习惯。你可以看到不同的颜色。

![在此处输入图像描述](../Images/6a5513afd5b3ac7b27ba433d3dd511dc.png)

在这里，我的第二**个子视图的****高度**是动态的，并在运行时计算。我 用来设置高度。**`-heightForRowAtIndexPath``UITableViewCell`**

 ****我尝试过的：**

我设置了子视图的出口，然后在中 `-heightForRowAtIndexPath`，我使用了这个代码......

```
middleView.frame = CGRectMake(0, 60.0, 750.0, size);
footerView.frame = CGRectMake(0, size + 60.0, 750.0, 50.0); 
```

其中，size = 动态计算的中间视图高度。

**更新 ：**

我也尝试过像这样的静态大小值......

```
 middleView.frame = CGRectMake(0, 60.0, 750.0, 350.0);
 footerView.frame = CGRectMake(0, 350.0 + 60.0, 750.0, 50.0); 
```

但是一点运气都没有......

大小由此计算：`size = (elements * 30) + 50;`

其中，元素 = 数组中的元素数。

**问题 ：**

看，截图。

**有什么建议么 ？**

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T12:38:26.827

使用以下方法设置中间视图和页脚视图框架，而不是 heightForRowAtIndexPath：

并保留上面 indra Mohan 给出的其他方法。

```
 - (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath       *)indexPath
{   
NSString * cellIdentifier = @"TableViewCellIdentifier"  ;
InAppTableViewCell *cell = [tableView dequeueReusableCellWithIdentifier:cellIdentifier];

cell.delegate = self;
float size = [self heightForMiddleViewAtIndexPath: indexPath]
cell.middleView.frame = CGRectMake(0, 60.0, 750.0, size);
cell.footerView.frame = CGRectMake(0, size + 60.0, 750.0, 50.0);
return cell; 
```

}

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T12:08:27.733

要解决这个问题，你必须做两件事

1.  为所有子视图设置适当的 autoresizingMask

    ```
     headerView.autoresizingMask = UIViewAutoresizingFlexibleWidth | UIViewAutoresizingFlexibleBottomMargin;
    middleView.autoresizingMask = UIViewAutoresizingFlexibleHeight | UIViewAutoresizingFlexibleWidth;
    footerView.autoresizingMask = UIViewAutoresizingFlexibleWidth | UIViewAutoresizingFlexibleTopMargin; 
    ```

2.  从 UITableViewDelegate 方法返回正确的高度

    ```
     *   (CGFloat)tableView:(UITableView *)tableView heightForRowAtIndexPath:(NSIndexPath *)indexPath
        {
        return [self heightForMiddleViewAtIndexPath: indexPath] + footerViewHeight + headerViewheight;
        }

    *   (CGFloat)heightForMiddleViewAtIndexPath:(NSIndexPath *)indexPath
        {
        \ do some height calculation;
        } 
    ```**

# java - 安装自定义 ToolTipManager

> ID：15245493
> 
> 赞同：0
> 
> 时间：2013-03-06T10:59:01.590
> 
> 标签：java, swing, tooltip, custom-component

我想扩展它`ToolTipManager`以具有自定义外观和行为。

两个问题：

1.  要扩展类，我必须在同一个包中创建子类（`ToolTipManager`具有包可见性的构造函数）。
2.  我必须强制 java 使用我自己的工具提示管理器。我不
    知道怎么...

有没有办法使用我们自己的自定义`ToolTipManager`？

事实上我找到了一个解决方案，但我不喜欢它：

1.  创建一个`ToolTipManager`具有相同全名（相同
    包`javax.swing`）的新类。
2.  把这个类装进一个罐子里。
3.  使用选项`-Xbootclasspath/p`强制类加载器首先加载我的 jar，所以要使用我的类`javax.swing.ToolTipManager`

# objective-c - Cocoa Obj-C：如何使用渐变背景制作 Searchfield？

> ID：15245496
> 
> 赞同：0
> 
> 时间：2013-03-06T10:59:15.917
> 
> 标签：objective-c, macos, cocoa, nssearchfield

根据 Apple 人机界面指南，将所有控件置于项目视图（例如 tableview）上的推荐方法是在 tableview 下方对齐渐变按钮。在我的项目中，这应该包括一个搜索字段，与其他控件一样，它应该具有渐变背景。例如，我可以在左下角的 Xcode 4 中看到，可以在其中过滤项目项列表。

但是当我探索 NSSearchField 的方法时，我看不到指定渐变背景的方法。那么我该怎么做呢？

提前感谢您的回复。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-07-18T23:05:38.817

您是否尝试过类似的方法：

```
- (void)drawRect:(NSRect)dirtyRect {
     NSGradient* g = [[[NSGradient alloc] initWithStartingColor:color1 endingColor:color2]];
    [g drawInRect:[self bounds] angle:a];
    ...
    [super drawRect:dirtyRect];
} 
```

?

# c# - GridView 中不可编辑的行

> ID：15245497
> 
> 赞同：1
> 
> 时间：2013-03-06T10:59:18.200
> 
> 标签：c#, asp.net, gridview

我正在使用 C# ASP.NET 和 Visual Studio 2008 创建一个网页。我想在我的网页上使用`GridView`. 每当用户可以时，他/她可以编辑记录`GridView`（我已经使用编辑、更新、取消选项进行了此操作）但我想在`GridView`名为“关闭”的另一个按钮中放置另一个按钮，用户可以通过该按钮将该特定记录设为“非可编辑”。单击`Gridview`该记录上的关闭按钮后，将被锁定，以后任何人都无法编辑该记录。

有谁能够帮我？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T13:29:04.250

也许您可以通过在数据库中的表中添加一列来做到这一点。如果在您的网格视图中单击了关闭按钮，请更新数据库中的数据并将其关闭，以便无法在您的网格视图中对其进行编辑。

希望这能给你一些想法。

# java - 我在 Swing Worker 中遇到编译错误？

> ID：15245505
> 
> 赞同：0
> 
> 时间：2013-03-06T10:59:30.440
> 
> 标签：java, swing, swingworker

我写了一个扩展 SwingWorker 的类。我编写了覆盖函数：doInBackground、done 和 process，但由于某种原因，我收到了编译错误：

> BillImportAnalyzerGUI.Task 类型的方法 process(List) 必须覆盖或实现超类型方法

这是我的课：

```
 private class Task extends SwingWorker<Void, Void>
  {
    @Override
    public Void doInBackground()
    {
      try
      {
        generateReport(BillImportId.getText());
      }
      catch (InterruptedException e)
      {
      }
      catch (Exception e)
      {
      }

      publish();

      return null;
    }

    @Override
    protected void done()
    {
      try
      {
        jLabel6.setText("Generated Report");
      }
      catch (Exception ignore)
      {
      }
    }

    @Override
    protected void process(List<String> chunks)
    {
      jLabel6.setText("Generating Report");
      jProgressBar1.setVisible(true);
    }
  } 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-06T11:06:09.370

问题是您正在扩展，`SwingWorker<Void,Void>`但您将方法声明为`process(List<String> chunks)`.

`SwingWorker<Void,String>`在这种情况下，您应该扩展。

# php - php mysql导出到excel多张工作表

> ID：15245512
> 
> 赞同：0
> 
> 时间：2013-03-06T10:59:46.990
> 
> 标签：php, mysql, excel, export

我有几个查询需要导出到一个文件，每个查询一张表（带有查询名称）。这是一个代码；

```
$select = "SELECT * from data";

$export = mysql_query ( $select ) or die ( "Sql error : " . mysql_error( ) );

$fields = mysql_num_fields ( $export );

for ( $i = 0; $i < $fields; $i++ )
{
    $header .= mysql_field_name( $export , $i ) . "\t";
}

while( $row = mysql_fetch_row( $export ) )
{
    $line = '';
    foreach( $row as $value )
    {                                            
        if ( ( !isset( $value ) ) || ( $value == "" ) )
        {
            $value = "\t";
        }
        else
        {
            $value = str_replace( '"' , '""' , $value );
            $value = '"' . $value . '"' . "\t";
        }
        $line .= $value;
    }
    $data .= trim( $line ) . "\n";
}
$data = str_replace( "\r" , "" , $data );

if ( $data == "" )
{
    $data = "\nNo Data!\n";                        
}

header("Content-type: application/vnd.ms-excel");
header("Content-Disposition: attachment; filename=Test.xls");
header("Pragma: no-cache");
header("Expires: 0");
print "$header\n$data"; 
exit(); 
```

我如何使用此代码对多个工作表进行多次查询？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T11:01:50.920

建议您查看一些 PHP 库，这些库实际上可以编写真正的 Excel BIFF 或 OfficeOpenXML 文件，而不是简单地使用重命名为 .xls 的 csv

除了我自己的[PHPExcel 之外，您还可以](http://phpexcel.codeplex.com)[在此处](https://stackoverflow.com/questions/3930975/alternative-for-php-excel)找到替代列表

# ranorex - Ranorex Javascript 执行脚本

> ID：15245515
> 
> 赞同：1
> 
> 时间：2013-03-06T10:59:47.873
> 
> 标签：ranorex

我需要从 ranorex 运行网页的 javascript 函数。所以，我给了 Add New Action -> User code，我在 Recording1.UserCode.cs 中写了以下代码

```
 public void greet()
    {
        WebDocument webDocument = "/doc";
        webDocument.ExecuteScript("document.write('Hello World!');");
    } 
```

当我播放录音时，报告中出现以下错误：

“在 10 秒内没有找到路径‘/doc’的元素。”

什么不见​​了？或者正确的方法是什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-15T15:26:21.943

您的问题已在以下帖子中得到解答。 [http://www.ranorex.com/forum/ranorex-javascript-executescript-t4436.html](http://www.ranorex.com/forum/ranorex-javascript-executescript-t4436.html)

# ruby-on-rails - 从数据库中删除字段而不重置它

> ID：15245516
> 
> 赞同：2
> 
> 时间：2013-03-06T10:59:52.753
> 
> 标签：ruby-on-rails, mongodb, mongoose, database

我有这个模型播放器：

```
"sport_id" : ObjectId("512db94e6ee1f54932000001"),
"team_id" : ObjectId("512dbaf36ee1f5523e00000a"),
"twitter" : false,
"twitter_account" : "@brianhartline",
"updated_at" : ISODate("2013-03-06T10:37:45.943Z"),
"version" : 7, 
```

我已经从我的模型中删除了 twitter，但数据库中有 twitter 字段。我不想删除 playerDB，但我想删除现有数据库中的 twitter 字段。

我必须做什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T11:21:29.380

您可以尝试删除这样的属性

```
player.attributes.without('twitter') 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-06T11:26:14.520

这应该有效：

```
Player.each do |player|
  player.unset(:twitter)
end 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-06T13:43:47.987

要在 mongo shell 中执行此操作：

```
db.players.update({}, {$unset: {twitter: 1}}, {multi: true}) 
```

# java - 如何修复 Java webapp 中的地方性 XSS 漏洞

> ID：15245525
> 
> 赞同：2
> 
> 时间：2013-03-06T11:00:25.033
> 
> 标签：java, jsp, struts, xss, html-sanitizing

我正在开发一个已有多年历史的 Java Web 应用程序。

`<bean:write>`JSP 中的大多数s`filter="false"`甚至在不需要时都有，这可能是因为开发人员盲目地复制现有代码。`<bean:write>`是Struts标签输出一个JSP变量，`filter="false"`指定时不做HTML转义（所以和属性`filter="false"`类似）。这意味着应用程序容易受到 XSS 攻击，因为其中一些正在输出用户输入。`<c:out>``escapeXml="false"``<bean:write filter="false">`

一揽子删除`filter="false"`不是一个选项，因为在某些情况下，应用程序允许用户使用 TinyMCE 文本区域输入 HTML，因此在某些情况下我们确实需要输出原始 HTML 以保留用户输入的格式（尽管我们仍然应该清理用户输入的 HTML 以删除脚本）。

代码中有数千个`filter="false"`s，因此审核每个 s 以确定是否需要它需要太长时间。

我们正在考虑做的是制作我们自己的`bean:write`标签版本，比如说`secure:write`，并在我们的 JSP 中使用 secure:write 进行 bean:write 的全局查找/替换。`secure:write`指定时将从输出中删除脚本`filter="false"`。在此更改之后，用户仍然可以将格式化 HTML 输出到他们不应该真正能够输出的位置，但只要修复了 XSS 漏洞，我们暂时不担心这一点。

我们想使用一个库来实现`secure:write`标签中的脚本剥离，我们一直在查看[https://www.owasp.org/index.php/Category:OWASP_AntiSamy_Project](https://www.owasp.org/index.php/Category:OWASP_AntiSamy_Project)和[https://code.google.com/ p/owasp-java-html-sanitizer/](https://code.google.com/p/owasp-java-html-sanitizer/)。两者看起来都能够清理 HTML，尽管 AntiSamy 看起来像是用于在进入应用程序而不是退出时清理 HTML，并且由于数据的输出频率高于输入数据，因此我们是担心`secure:write`通过它运行我们所有的输出可能会很慢。

我有两个主要问题：

1) 我们提出的方法是否可以修复由以下原因引起的 XSS 漏洞`filter="false"`？

2) 任何人都可以推荐一个在显示内容时用于 HTML 清理的库，即它的速度足够快，不会显着影响页面渲染性能吗？有没有人用过 AntiSamy 或 owasp-java-html-sanitizer 来做类似的事情？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-26T03:45:20.807

> 1) 我们提出的方法能否修复由 filter="false" 引起的 XSS 漏洞？

这听起来绝对像是一种可以减少攻击面的改进，但这还不够。一旦攻击者无法再注入`<script>doEvil()</script>`，他们就会专注于`javascript:doEvil()`在预期 URL 的位置注入，因此您还需要强化 URL 注入的位置。

如果您使用的是 XSS 扫描程序，我会按照您的描述进行操作，然后重新运行您的扫描程序，确保它测试注入的 javascript URL。

一旦 URL 被锁定，您应该审核对样式属性或元素和事件处理程序属性的任何写入。

> 2) 任何人都可以推荐一个在显示内容时用于 HTML 清理的库，即它的速度足够快，不会显着影响页面渲染性能吗？有没有人用过 AntiSamy 或 owasp-java-html-sanitizer 来做类似的事情？

无耻插件：[https ://code.google.com/p/owasp-java-html-sanitizer/](https://code.google.com/p/owasp-java-html-sanitizer/)

> 一个用 Java 编写的快速且易于配置的 HTML Sanitizer，它允许您在 Web 应用程序中包含由第三方创作的 HTML，同时防止 XSS。

# c# - 无法在 WinRT MVVM 中执行按钮单击和组合框选择更改

> ID：15245526
> 
> 赞同：1
> 
> 时间：2013-03-06T11:00:25.503
> 
> 标签：c#, mvvm, microsoft-metro, windows-runtime, windows-store-apps

**更新 1：您可以从**[这里](https://skydrive.live.com/redir?resid=9E70869A1583FA52!892&authkey=!AHEXR2PtckK9gJM)下载示例项目。

你能帮我找出我的代码中的错误吗？我无法将项目源分配给组合框以及 WinRT 应用程序中的按钮单击事件。我正在使用 MVVM 和[MetroEventToCommand](http://metroeventtocommand.codeplex.com/)。我是 MVVM 概念的新手，所以请回答我的愚蠢问题。

```
<Grid Background="{StaticResource ApplicationPageBackgroundThemeBrush}">
    <Button Content="Click Here">
        <mvvm:EventToCommandManager.Collection>
            <mvvm:EventToCommand Command="{Binding ButtonClickCommand}" Event="Click"/>
        </mvvm:EventToCommandManager.Collection>
    </Button>

    <ComboBox x:Name="FontsCombo" Height="50" Width="150" SelectedItem="{Binding SelectedFont}"  ItemsSource="{Binding fonts}"  />

    <TextBlock FontSize="30" Text="{Binding SelectedFont}"/>
</Grid>

public MainPage()
{
    this.InitializeComponent();
    this.DataContext = new VM();
}

public class VM : INotifyPropertyChanged
{
    public event PropertyChangedEventHandler PropertyChanged;
    public RelayCommand ButtonClickCommand { get; set; }

    private ObservableCollection<string> _fonts = new ObservableCollection<string>();
    public ObservableCollection<string> fonts
    {
        get { return _fonts; }
        set
        {
            _fonts = value;
            if (null != PropertyChanged)
            {
                PropertyChanged(this, new PropertyChangedEventArgs("fonts"));
            }
        }
    }

    private string _SelectedFont = "";
    public string SelectedFont
    {
        get { return _SelectedFont; }
        set
        {
            // Some logic here
            _SelectedFont = value;
            if (null != PropertyChanged)
            {
                PropertyChanged(this, new PropertyChangedEventArgs("SelectedFont"));
            }

        }
    }
    public VM()
    {
        fonts.Add("Arial");
        fonts.Add("Courier New");
        fonts.Add("Times New Roman");
        ButtonClickCommand = new RelayCommand(Click);
    }

    private void Click()
    {
        new Action(async () => await new Windows.UI.Popups.MessageDialog("Testing dialog").ShowAsync()).Invoke();
    }
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T11:04:18.110

对于 SelectedItem，您没有指定 Mode=TwoWay ：

```
<ComboBox x:Name="FontsCombo" Height="50" Width="150" SelectedItem="{Binding SelectedFont, Mode=TwoWay}"  ItemsSource="{Binding fonts}"  /> 
```

编辑我找到了解决方案：

```
public class VM : INotifyPropertyChanged
{
    public event PropertyChangedEventHandler PropertyChanged;
    public RelayCommand ButtonClickCommand { get; set; }

    private ObservableCollection<string> _fonts;
    public ObservableCollection<string> fonts
    {
        get { return _fonts; }
        set
        {
            _fonts = value;
            if (null != PropertyChanged)
            {
                PropertyChanged(this, new PropertyChangedEventArgs("fonts"));
            }
        }
    }

    private string _SelectedFont;
    public string SelectedFont
    {
        get { return _SelectedFont; }
        set
        {
            // Some logic here
            _SelectedFont = value;
            if (null != PropertyChanged)
            {
                PropertyChanged(this, new PropertyChangedEventArgs("SelectedFont"));
            }

        }
    }
    public VM()
    {
        this.fonts = new ObservableCollection<string>();
        fonts.Add("Arial");
        fonts.Add("Courier New");
        fonts.Add("Times New Roman");
        ButtonClickCommand = new RelayCommand(Click);
    }

    private void Click()
    {
        new Action(async () => await new Windows.UI.Popups.MessageDialog("Testing dialog").ShowAsync()).Invoke();
    }
} 
```

如果我在构造函数中实例化字体，则 UX 不再冻结。

# c++ - 为调试目的嵌入脚本语言

> ID：15245527
> 
> 赞同：1
> 
> 时间：2013-03-06T11:00:29.593
> 
> 标签：c++, debugging, scripting, gdb

我想在 OpenGL C++ 应用程序中嵌入脚本语言（js、python、perl，甚至 php，任何易于使用的东西）。我想这样做是为了能够执行以下操作：

*   在运行时打印各种 C++ 类成员的值
*   导致会在运行时唤醒 gdb 的中断
*   在我发现一个错误后，我想编写一个小脚本 oneliner 来复制它

我很确定这并不容易。我想问这是一个好主意还是坏主意，以及是否值得付出努力。

# 示例用例

假设我旋转了一条线，直到它与某物发生碰撞，并且我的碰撞检测有一些 SIGSEGV 发生在碰撞时。我打印出所有的角度，找出哪一个是 SIGSEGV 之前的那个，然后我写了一个小 Python 的东西，它显示了一些值，这样我就可以弄清楚出了什么问题等等。

我想基本上我想要做的是避免 gdb 和 uhm .. 如果程序崩溃，我想有办法在 Python 中检查东西。

不是我不喜欢 gdb，而是我不喜欢它的有限命令..

**更新：**现在可以[使用 Python](https://sourceware.org/gdb/current/onlinedocs/gdb/Python.html#Python)扩展 GDB 。这解决了[固定命令序列的](https://sourceware.org/gdb/current/onlinedocs/gdb/Sequences.html#Sequences)许多限制。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-06T12:13:07.867

我不认为出于调试目的嵌入脚本语言是一个好主意。这绝对是可能的，但是对于您希望能够从脚本语言访问的所有内容，您必须提供一些接口，因为至少据我所知，没有办法直接调用 C++或从脚本语言读取 C++ 数据结构。如果您不想直接使用 gdb，我建议您学习 gdb 或寻找 gdb 前端。我用过[ddd](http://www.gnu.org/software/ddd/)并发现它非常有用。[Eclipse CDT](http://www.eclipse.org/cdt/)的 gdb 前端也是可用的。使用调试器为您提供了更大的灵活性，因为调试器了解 C++ 及其数据结构，因此允许您在运行时检查任何内容，

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-06T11:58:56.187

首先：您可以很容易地使用 GDB 将所有这些打印出来。进入 GDB 后，您可能想尝试“*帮助数据*”显示的内容。

您使用哪个 IDE？您可能想尝试跨平台的 IDE Code::Blocks，它与 GDB 的接口非常简洁。

如果你想与另一种语言交互，你可能想看看“Lua”。这很容易学习。见[http://en.wikipedia.org/wiki/Lua_%28programming_language%29](http://en.wikipedia.org/wiki/Lua_%28programming_language%29)

> Lua 旨在嵌入到其他应用程序中，因此它提供了一个健壮、易于使用的 C API。API分为两部分：Lua核心和Lua辅助库。

当然，这也适用于 C++。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-06T11:28:25.207

如果这是一个好主意或坏主意，我无能为力。

但你可以看看[Chaiscript](http://chaiscript.com/)真的很容易与 c++ 一起使用

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-12-23T19:17:34.507

使用**lua** - 它是简单的基于堆栈的解释器。使用非常干净的 API。

例如：[将 dt_format|dt_convert 函数添加到 lua 的简单代码](http://libdms.cvs.sourceforge.net/viewvc/libdms/libdms4/luas/utils/lua_utils.cxx?revision=1.1&view=markup)

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-03-06T11:49:12.990

Python 作为应用程序脚本语言是一个非常好的选择。这不是一个强有力的论据，但我知道[lua](http://www.lua.org/)广泛用于游戏编程（我不知道为什么），因为您使用的是 OpenGL，所以它可能很有用。

# android - 在 iPad/Android 上无法正确显示背景

> ID：15245530
> 
> 赞同：0
> 
> 时间：2013-03-06T11:00:35.087
> 
> 标签：android, css, html, ipad

我的网站在大多数浏览器上都能正常显示，但在 iPad 和 Android 浏览器上我有两个不同的问题。

1.  最初网页以 1-1 的比例显示，而我希望访问者看到整个网页。
2.  背景显示不正确。当我缩小时，似乎只加载了部分背景。

我用了：

```
<meta name="viewport" content="width=device-width"> 
```

对于初始缩放和：

```
div.background {
    width: 100%;
    background: #ffffff url('../img/background_first.jpg') center top no-repeat;
} 
```

为背景。我事件试图添加：

```
-webkit-background-size: 1500px 1000px;
background-size: 1500px 1000px; 
```

但背景问题（这是我主要关心的问题）仍然存在。有任何想法吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T11:23:31.557

尝试给你`.background`一个固定的宽度。

100% 宽度是容器的 100%，在这种情况下是`body`. 在移动设备上，它`body`比在桌面上小得多，导致背景图像被裁剪。

还尝试在您的“元视口”中提供固定宽度

```
<meta name="viewport" content="width=940, initial-scale=1"> 
```

# php - 正则表达式 - 排除子域（preg_match）

> ID：15245531
> 
> 赞同：3
> 
> 时间：2013-03-06T11:00:45.410
> 
> 标签：php, regex, preg-match

我想匹配一个域（使用 preg_match），但我想排除一个子域。

示例我想匹配*example.org*上的所有子域，除了*boon.example.org*：

我试过这个：

```
$test = "boon.example.org";
$test2 = "null";
if(preg_match('#(?!boon)(\w+\.)?example\.org#', $test, $output)) {
    $test2 = $output[2] .'example.org';
} 
```

但是 test2 的输出是： *oon.example.org*而不是*example.org*

有人有答案吗？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-06T11:37:58.233

如果您只寻找那个确切的子域，您不能只检查字符串`boon.example.org`是否存在吗？为此，使用正则表达式似乎有点矫枉过正。

无论如何，以下正则表达式应该做你想做的事：

```
.*(?<!\bboon\.|^.)example.org 
```

将返回所有子域，`subdomain.example.org`除了.`boon.example.org``boon.example.org`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T11:05:46.097

试试这个：

```
echo '<pre>';
$test = "boon.example.org";
$test2 = "null";
preg_match('/^(?!boon\.)([\w]+\.)?example\.org$/', $test, $output);
print_r($output); 
```

这将匹配除 boon 之外的所有子域。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-06T11:12:32.793

此正则表达式将为您工作：

```
^(((?!boon).)+\.)?example\.org$ 
```

[正则表达式链接](http://regexr.com?3418h)

# javascript - 使用任何开源的位置的纬度和经度

> ID：15245535
> 
> 赞同：-4
> 
> 时间：2013-03-06T11:00:53.773
> 
> 标签：javascript, perl, api

如何检索位置的经纬度。

*输入*：用户输入位置名称。

*输出*：用户输入的位置的经纬度。

需要注意的点：

> ***它必须是免费的（不像 google。）并且每天还支持超过 2000 万个请求。解决方案可以是任何类型的在线（api、javascript）或离线（文本、.csv 文件）***

已经通过 Mapquest，openstreet 地图服务，但在 Mapquest 的情况下，他们需要钱，而在 openstreet 的情况下，限制是查询的数量

我正在寻找一种解决方案，例如使用 mapquest 中的地图图块，使用传单 javascript 或 openlayer javascript 向 mapquest 服务器发送查询，根据我的搜索，这是免费的，但问题是要请求我们需要提供的地图他们提供位置的纬度和经度（位置的地理代码），在此基础上他们提供维护数据库的图块，这不是一个好的步骤，因为根据位置，有很多地方都同名在世界各地.. 但我们需要与谷歌相比，该位置的地理代码相同或大约 90% 正确。

* * *

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-06T11:10:59.830

## 打开街道地图

或者您可以使用 openstreetmap 数据。[他们有一个全球性的数据库，全是 23G](http://wiki.openstreetmap.org/wiki/Planet.osm#Worldwide_data)。

您可以下载所有这些并根据需要使用它。

您可以使用[Geo::Parse::OSM](https://metacpan.org/module/Geo::Parse::OSM)解析从 openstreetmap 获得的 23 GB OSM 文件。

## 临时解决方案

如果您想按位置 lat/long 进行地理编码，我建议您[在 Postgresql 中制作一个表并进行一些空间索引](https://stackoverflow.com/questions/3944880/postgres-spatial-indexing)。您可以将 Maxmind 在其数据库中的所有内容（见下文）放入该表中，或者您可以将 Openstreetmap 中的数据（见下文）放入该表中。然后您可以在该表上进行快速搜索。Postgresql 可能具有[四叉树](http://en.wikipedia.org/wiki/Quadtree)数据结构或类似的结构，可以轻松搜索该表中的条目。

[这是另一个演示文稿，它告诉您如何](http://postgis.refractions.net/files/OSDB2_PostGIS_Presentation.pdf)对表中的数据进行空间索引，以及您可以对其执行哪些类型的查询。这是一个例子：

```
create table pubs (name varchar,beer_price float4);
addgeometrycolumn(‘beer_db’,'pubs','location’,2167,'POINT',3);
insert into pubs values ( 'Garricks Head', 4.50, 
     GeometryFromText( 'POINT (1196131 383324)’   ,2167));

select name, beer_price, 
distance(location, GeometryFromText('POINT(1195722 
383854)',2167)) 
from pubs order by beer_price;

  name           | beer_price |     distance     
  ---------------+------------+------------------
  Fireside       |       4.25 | 1484.10275160491
  The Forge      |       4.33 | 1533.06561109862 
```

您可能会遇到另一个问题，即纬度/经度到底是什么意思，因为城市可能是一个点、一个圆或一个多边形，具体取决于您如何定义它。也许您想要从城市的纬度/经度到某个半径范围内的点。

## 万能

我想这取决于您所说的位置。如果您正在谈论城市、国家、州、邮政编码、区号等，请使用[Maxmind 网络服务](http://dev.maxmind.com/geoip/web-services#Perl-5)。在该链接中，您可以找到有关查询 Maxmind 的信息。但是您需要一个可以从他们那里购买的许可证密钥。

他们还有一个[用于查询该服务的 C API](http://dev.maxmind.com/geoip/downloadable#C_API-3)。

或者，对于离线使用，您[可以获得他们的免费离线 Maxmind db](http://dev.maxmind.com/geoip/geolite)。

## 谷歌地图

如果您想在街道级别进行地理定位，[我建议您使用 Google Maps API](https://developers.google.com/maps/documentation/javascript/tutorial)。如果您想做这么多请求，您将需要一个 API 密钥，您必须为此付费。

他们也有一个商业套餐，[你可以在这里看到详细的比较](http://www.google.com/enterprise/earthmaps/maps-compare.html)。它们允许您每天查找 100,000 个地址。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-06T11:19:30.570

打开街道地图。免费的世界地图。**这些数据可以免费下载**（与谷歌不同）并在其开放许可下使用。

[***这***](http://www.openstreetmap.org/)将震撼你的世界:)

# javascript - 将部分 json 提取到另一个对象中并保持两者之间的链接

> ID：15245540
> 
> 赞同：0
> 
> 时间：2013-03-06T11:01:12.460
> 
> 标签：javascript, json

```
{
   "data": [
      {
         "date": "2013-03-07",
         "id": "2",
         "vt_color": "#548dd4",
         "vt_name": "follow up",
         "duration": "20",
         "time_booked": "12:00:00",
         "stats": "booked",
         "doctor_id": "00002",
         "patient_id": "00003"
      },
      {
         "date": "2013-03-08",
         "id": "3",
         "vt_color": "#76923c",
         "vt_name": "ultrasound",
         "duration": "30",
         "time_booked": "08:00:00",
         "stats": "booked",
         "pt_name": "demo patien",
         "dr_name": "Momen Alzalabany",
         "doctor_id": "00002",
         "patient_id": "00009"
      }
   ] 
} 
```

我想要的是从中创建另一个数组，包括 vt_name、vt_color 和数据索引，所以我使用 jquery

```
var words = [];

$.each(arr['data'],function(ref){
    words[this.doctor_id].push({name: this.vt_color,color: this.vt_name,index:ref});
});
console.log(koko); 
```

FAIL : words[this.do_id] 未定义....

我怎样才能做到这一点 ？我希望结果是

抱歉，我是 json/js 的新手

我希望 php 的结果是

```
['00002'=>[
            ['name'=>'follow up','color'=>'#548dd4',index=>[0,3,4]],
            ['name'=>'ultrasound','color'=>'#769dd4',index=>[1,5,8]]
          ]
 ] 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T14:40:56.893

1.  将单词的类型更改为对象（不是数组），因为您想要一个以字符串（例如 '00002'）为键的映射：

    ```
    var words = {}; 
    ```

2.  您想要添加到不存在的数组中。您需要先创建它：

    ```
    words[this.doctor_id] = words[this.doctor_id] || []; // creates an array if not already existing
    words[this.doctor_id].push({name: this.vt_color,color: this.vt_name,index:ref}); 
    ```

# web-services - 使用 Visual Studio Express 2012 创建 Web 服务

> ID：15245550
> 
> 赞同：1
> 
> 时间：2013-03-06T11:01:31.307
> 
> 标签：web-services, visual-studio-2012, visual-studio-express

我的机器上安装了 Visual Studio Express 2012 for Desktop。我现在想创建一个 Web 服务。我应该下载完整的 Web 版 Visual Studio Express 2012，还是有任何模板或补丁可以添加到桌面版本中，仅用于创建 Web 服务

# php - $_FILES 在使用 wordpress 自定义字段图像上传时为空，但它在核心 php 网站中工作

> ID：15245551
> 
> 赞同：5
> 
> 时间：2013-03-06T11:01:38.957
> 
> 标签：php, wordpress, file-upload

```
<form enctype="multipart/form-data" method="post" action="uploader.php">
        <input type="file" name="pic" /><br />
        <input type="submit" value="Upload File" />
    </form>

$file_title = $_FILES["pic"]["name"];
echo "$file_title"; 
```

在 wordpress functions.php 文件中；自定义字段方法是：

```
function credits_meta() {
  global $post;

 $custom = get_post_custom($post->ID);
 $designers = $custom["designers"][0];
 $developers = $custom["developers"][0];
 $producers = $custom["producers"][0];
 ?>

<form method="POST" enctype="multipart/form-data">
 <p><label>Designed By:</label><br />
 <textarea cols="50" rows="5" name="designers"><?php echo $designers; ?></textarea></p>
 <p><label>Built By:</label><br />
 <textarea cols="50" rows="5" name="developers"><?php echo $developers;  ?> </textarea></p>
 <p><label>Upload Image :</label><br />
 <input type="file" name="myPhoto" size="25"/></p>
 </form>

  <?php
  }
function save_details(){
 global $post;

 $target_path = get_bloginfo('template_directory')."/images/";
 $file_title = $_FILES["myPhoto"]["name"];

$new_file_title = "wp_".$file_title;

update_post_meta($post->ID, "year_completed", $_POST["year_completed"]);
update_post_meta($post->ID, "designers", $_POST["designers"]);
update_post_meta($post->ID, "developers", $_POST["developers"]);
update_post_meta($post->ID, "producers", $new_file_title);
} 
```

当我用核心 php 尝试上面的代码时，它工作正常，但是，当我尝试在 wordpress 自定义字段图像上传中做同样的事情时：$`_FILES`总是给空。

如果我使用它会给出图像的名称`$_POST["pic"];`

我试图用`print_r`, var_dumb 甚至在 wordpress *functions.php*文件中检查这个：

```
 add_action('init', 'myfunction');
  function myfunction(){
    if($_FILES){

      die("something");
    }
  } 
```

它仍然是空的。我要上传的文件大小是 153kb。

我的**php.ini**文件：

```
file_uploads = on;
upload_max_filesize = 2M 
```

任何帮助，将不胜感激

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2014-08-26T06:08:59.470

在 functions.php 文件中添加以下钩子可以解决问题。

```
add_action( 'post_edit_form_tag' , 'post_edit_form_tag' );

function post_edit_form_tag( ) {
   echo ' enctype="multipart/form-data"';
} 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-03-06T11:04:49.067

删除操作

```
<form enctype="multipart/form-data" method="post" action=""> 
```

# javascript - 在javascript中循环我的错误数组（键/值）

> ID：15245553
> 
> 赞同：0
> 
> 时间：2013-03-06T11:01:45.780
> 
> 标签：javascript

我有一个带有一些数据（键/值）的变量：

```
var errors = JSON.parse(xhr.responseText); 
```

以下是内容：

```
 {
 "vehicle.Model":"Le champ Model est requis.",
 "vehicle.Brand":"Le champ Brand est requis.",
 "vehicle.Registration":"Le champ Registration est requis."
 } 
```

我想循环进入它并显示每个键和值。

如何进行？

谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T11:04:32.563

```
var key;

for (key in errors) {
   if (errors.hasOwnProperty(key)) {
      console.log(key + " : " + errors[key]);
   }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T11:04:14.750

```
for (var key in errors) {
   var code = key;
   var label = errors[key];
   ...
} 
```

请注意，今天的 ECMAScript 中的迭代顺序无法保证。

我建议你阅读 MDN 的[Working with objects](https://developer.mozilla.org/en-US/docs/JavaScript/Guide/Working_with_Objects)。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-06T11:06:13.337

```
for( key in errors ){console.log(key + " = " + errors.key);} 
```

# xml - XSLT 中的空白节点

> ID：15245557
> 
> 赞同：1
> 
> 时间：2013-03-06T11:01:50.113
> 
> 标签：xml, xslt

我正在阅读 Michael Kay 的书*XSLT 2.0 and XPath 2.0*。我已经完成了空白节点的主题。在本主题中，给出了一个示例。

```
<person>
  <name>Prudence Flowers</name>
  <employer>Lloyds Bank</employer>
  <place-of-work>
    71 Lombard Street
   London, UK
   <zip>EC3P 3BS</zip>
</place-of-work>
</person> 
```

上述 XML 中存在多个文本节点。

*   在元素的开始和`<name>`元素的结束之间`<person>`。
*   元素的开始`<name>`和结束`<employer>`
*   元素的开始和元素`<place-of-work>`的结束`<employer>`
*   `<zip>`元素的结尾和`</place-of-work>`。
*   `</place-of-work>`元素和`</person>`元素

如果下面的样式表是转换 XML 的样式表。

```
<?xml version="1.0" encoding="UTF-8"?>
<xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform">
  <xsl:strip-space elements="person"/>
</xsl:stylesheet> 
```

然后我的问题是，如果我执行上面的 XSLT 文件，它不会去除`<zip>`元素末尾和`</place-of-work>`. 为什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T11:16:07.377

> 然后我的问题是，如果我执行上面的 XSLT 文件，它不会去除 Zip 元素的结尾和`</place-of-work>`. 为什么？

因为该文本节点的父节点是`place-of-work`元素，而不是`person`元素，并且`place-of-work`不是您指定为的元素之一`strip-space`。和之间的空白文本节点`<person>`和`<name>`之间是元素的直接子元素，因此它们将被剥离。`</name>``<employer>``person`

# android - 索尼 Xperia MT27i 中的图像捕获不以全尺寸显示？

> ID：15245567
> 
> 赞同：0
> 
> 时间：2013-03-06T09:59:30.683
> 
> 标签：android, camera

我在这个应用程序中创建了一个捕获应用程序我打开设备相机并使用相机类捕获图像。我的问题是当我在 Sony Xperia MT27i 中使用此应用程序时，它的显示如下所示。

![在此处输入图像描述](../Images/4c6f2a51d9f7ac2642ccd5a6a973d718.png)

所以我尝试了相机类的所有东西。我在 HTC Salsa 中测试的另一台设备以全屏模式显示。捕获图像图像结果良好后，它会显示整个图像。

现在有什么问题？设备？否则我的代码来创建相机预览？

请帮助任何人？谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-06-06T12:11:27.353

我遇到了同样的问题，在我使用 Sony Experia LT22I 的情况下，当我旋转屏幕时

> mCamera.setDisplayOrientation(90);

只显示大约 10-20% 的视图。最后我找到了这款手机的解决方案（补丁）。仅更改视图的边距顶部（我不知道为什么）效果很好，如下所示：

```
String model = (Build.MANUFACTURER+Build.MODEL).toUpperCase(Locale.getDefault());
if (model.equals(Constants.MODEL_EXCEPTION)) {
    final ViewGroup.MarginLayoutParams lpt =(MarginLayoutParams)       
    surfaceView.getLayoutParams();
    lpt.setMargins(0,-150,0,0);
    surfaceView.setLayoutParams(lpt);
} 
```

# c# - C# 中的父子流利的 Linq 查询？

> ID：15245569
> 
> 赞同：2
> 
> 时间：2013-03-06T11:02:18.323
> 
> 标签：c#, .net, linq

*我在 fluent LINQ 中遇到了将父母和孩子选择为一个的问题`Ienumerable < anonymous type>`。*

为简单起见：

*   有一个列表`commanders`（每个区域的指挥官）。

*   每个指挥官都有*自己的* `List of Soldiers`。（并且每个`Soldier`人都有一个 bool 属性`IsCanWinWar`和一个`Tool`他用来战斗的）

我想列出***每个****指挥官*（谁有*一个或多个**可以赢得战争的*士兵）*和*那个士兵使用的一个`tool`名字。

我不在乎一个指挥官是否有超过一个可以赢得战争的士兵。

指挥官所需要的只是一名士兵（谁可以赢得战争）的`tool`（*不管是哪个工具*）。

输出是`Ienumerable < anonymous type>`匿名类型的位置：

```
{ 
  theCommander = [commanderObject] , 
  theToolName = [the tool name ]
} 
```

*我做了一些事情，`selectMany`但它又长又丑。*

是否有任何简短的查询（**流利的查询**）可以以更短的方式产生相同的结果？

```
public class Commander
    {
    public List<Soldier> lstSoldiers =new List<Soldier>(); //from db actually.
    }

    public class Soldier
    {
      public bool IsCanWinWar { get; set; }
      public string Tool { get; set; }
    }

void Main()
{
  List<Commander> lstCommanders = new List<Commander>(); //data source is actually from db.
  var MyIernumerableOfAnonymouseTypes= ?
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-06T11:06:19.987

```
var MyIernumerableOfAnonymouseTypes = 
   lstCommanders.Select(c => new { 
                    theCommander = c, 
                    theToolName = c.lstSoldiers.Where(s => s.IsCanWinWar)
                                               .Select(s => s.Tool)
                                               .FirstOrDefault() })
                .Where(x => x.theToolName != null); 
```

如果没有可以赢得战争的士兵，那么工具将是无效的。选择后将那些指挥官过滤掉即可。

顺便说一句，我认为这`Soldiers`是一个更好的属性名称`lstSoldiers`（它没有前缀，它是 PascalCase）。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-06T11:13:02.940

第一种方法（稍后修订）：

```
from commander in lstCommanders
where commander.lstSoldiers.Any(soldier => soldier.IsCanWinWar) // Consider only commanders who have at least one soldier who can win the war
select new
            {
                Commander = commander,
                Tool = (from soldier in commander.lstSoldiers
                        where soldier.IsCanWinWar // Consider tool originating from soldiers who can win the war
                        select soldier.Tool).FirstOrDefault()
            }; 
```

第二个更简洁更快：

```
from commander in lstCommanders
where commander.lstSoldiers.Any(soldier => soldier.IsCanWinWar)
select new { Commander = commander, Tool = commander.lstSoldiers.First(soldier => soldier.IsCanWinWar).Tool }; 
```

以流畅的方式：

```
lstCommanders.Where(commander => commander.lstSoldiers.Any(soldier => soldier.IsCanWinWar))
             .Select(  commander => new
                                         {
                                                 Commander = commander,
                                                 Tool = commander.lstSoldiers.First(soldier => soldier.IsCanWinWar).Tool
                                         }); 
```

一次迭代的第三个选项：

```
from commander in lstCommanders
let winner = commander.lstSoldiers.FirstOrDefault(soldier => soldier.IsCanWinWar)
where null != winner // Consider only commanders who have at least one soldier who can win the war
select new { Commander = commander, Tool = winner.Tool }; 
```

# c# - 反射属性信息：如何在运行时只显示一些属性

> ID：15245570
> 
> 赞同：0
> 
> 时间：2013-03-06T11:02:24.037
> 
> 标签：c#, .net, reflection

我的代码：

```
 namespace Reflection

    {

    class Program
    {
        static void Main(string[] args)
        {
            Type t = typeof(Product);
            PropertyInfo[] proInfo = t.GetProperties();
            foreach (var item in proInfo)
            {
                Console.WriteLine(item.Name);
            }
        }
    }
    public class Product
    {

        public int ProId { get; set; }
        public string ProName { get; set; }
        public string Description { get; set; }
        public decimal UnitPrice { get; set; }
    } 
```

我将所有属性名称作为输出。但我不想在输出中显示 ProId 和 Decriction。我该怎么做？？？？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T11:06:10.040

一个简单的解决方案，如果您只有 2 个不想显示的属性，就是专门过滤它们。您可以为此使用 LINQ 的**[Where](http://msdn.microsoft.com/en-us/library/vstudio/bb311043.aspx)**：

```
 Type t = typeof(Product);
    PropertyInfo[] proInfo = t.GetProperties().Where( p => p.Name != "ProdId" && p.Name != "Description").ToArray() ;

    foreach (var item in proInfo)
    {
        Console.WriteLine(item.Name);
    } 
```

甚至是这样的：

```
string[] dontShow = { "ProId", "Descrpition" };

Type t = typeof(MyObject);
PropertyInfo[] proInfo = t.GetProperties()
        .Where(p => !dontShow.Contains(p.Name)).ToArray(); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T11:03:55.793

您需要向您希望/不想在列表中显示的字段添加一个属性，然后在完成后`GetProperties()`通过查找所述属性将它们过滤掉。

# javascript - 无法使用 Javascript 重定向到另一个页面

> ID：15245572
> 
> 赞同：6
> 
> 时间：2013-03-06T11:02:23.740
> 
> 标签：javascript, asp.net, visual-studio-2010

在html文件中使用Javascript重定向页面我像这样使用

```
window.location.href = "http://www.google.com/"; 
```

它工作正常。但是当我在 .aspx 中尝试时，它不起作用下面是我的代码。提前致谢

```
<head runat="server">
<script type="text/javascript">
   function PageRedirect() {
       window.location.href = "http://www.google.com/";
   }
 </script>
</head>
<body>
<form runat="server">
  <asp:Button ID="Button1" runat="server" Text="Button" OnClientClick="PageRedirect()"/>
  </form> 
```

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-03-06T11:05:50.840

试试这个：

```
<asp:Button ID="Button1" runat="server" Text="Button" OnClientClick="PageRedirect(); return false;"/> 
```

# html - Chrome 扩展程序：如何在同一选项卡中打开 popup.html 中的 url

> ID：15245577
> 
> 赞同：5
> 
> 时间：2013-03-06T11:02:29.390
> 
> 标签：html, google-chrome, url, manifest

谷歌浏览器扩展：

我正在为一件简单的事情发疯。请不要怪我，我不是英国人，我无法阅读和理解所有扩展文档。

我只是想做以下事情：

我可以在我的 popop.html 中说 8 个不同的 URL，当我单击右上角浏览器栏中的图标时会打开。
(url) example.com
(url) 其他示例等...

单击一个 url 什么都不做，`target="_blank"`总是打开一个新选项卡，但我想在单击一个选项卡时在同一个选项卡中打开它们。`target="_top"`或者`target="_self"`在这里似乎不起作用。

我不知道如何编程。我来自 php，我需要一个快速的解决方案。

有没有人准备好（易于理解）的代码片段或想法如何在同一个选项卡中打开我的网址？（在哪里放置什么）（到目前为止，我理解了清单定义，但是对于我来说，目前所有这些上下的 java 都很难理解，只是为了这个“简单”的任务）。

提前致谢 RJ

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2013-03-06T18:04:17.687

我相信 chrome 不允许弹出窗口以任何方式打开外部页面。我知道的唯一解决方案是`iframe`在您的`popup.html`文件中放置一个`src`属性设置为 `popup2.html`并将所有 html 放在`popup2.html`. 但是，考虑到所有网站在 iframe 中都不能正常工作。

**如果您尝试在当前活动选项卡中打开 url，请尝试以下操作：**

将以下脚本附加到您的 popup.html 文件：

```
var hrefs = document.getElementsByTagName("a");

function openLink() {
    var href = this.href;
    chrome.tabs.query({active: true, currentWindow: true}, function(tabs) {
        var tab = tabs[0];
        chrome.tabs.update(tab.id, {url: href});
    });
}

for (var i=0,a; a=hrefs[i]; ++i) {
    hrefs[i].addEventListener('click', openLink);
} 
```

您需要在`tabs`清单文件中添加权限才能使其正常工作。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2018-10-29T11:08:07.353

虽然这是一个老问题，但我将发布 2018 年的工作代码。

要在同一窗口中从 Chrome 扩展程序打开锚链接，请将此代码放在您的 popup.js 中：

```
var links = document.getElementsByTagName("a");
    for (var i = 0; i < links.length; i++) {
        (function () {
            var ln = links[i];
            var location = ln.href;
            ln.onclick = function () {
                chrome.tabs.update({active: true, url: location});
            };
        })();
    } 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2021-02-27T17:17:59.320

您只需要使用`chrome.tabs.update({active: true, url: 'yoursite.com'});`而不是，`chrome.windows.create({url:'yoursite.com'});`并且该位置将在同一个活动选项卡中打开

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2013-03-06T11:11:25.450

如果我理解正确，这可能是一个简单的解决方法；

对于要在同一选项卡中打开的每个链接，请使用以下 HTML：

```
<a href="LINK" target="_self">Link Name</a> 
```

一个更简单的写法是：

```
<a href="LINK">Link Name</a> 
```

希望我有帮助:)

# iphone - IOS 应用程序中的 PDF 打开事件，用于在 UIWebView 上呈现 URL

> ID：15245581
> 
> 赞同：0
> 
> 时间：2013-03-06T11:02:37.907
> 
> 标签：iphone, ios, ipad, cordova, cordova-2.0.0

我正在使用`UIWebView`控件并仅以横向模式在其上打开网页 URL。在特定事件的此 URL 中，正在打开 PDF。这次 PDF 没有正确打开（它总是只显示 PDF 文件的第一页），并且在输出窗口中我收到“flatedecode 解码错误”。

有什么方法可以让我的应用程序捕获该 PDF 打开事件，并且我可以在 Safari 或其他浏览器中打开 PDf 而不是`UIWebView`？

或者Phonegap有什么办法可以做到这一点？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T11:27:40.670

我想您只需要一种方法来确定是否单击了打开 PDF 的特定链接？

确保你让你的 viewcontroller 成为 webview 的代表。然后实现这个方法

```
- (BOOL)webView:(UIWebView *)webView shouldStartLoadWithRequest:(NSURLRequest *)request navigationType:(UIWebViewNavigationType)navigationType 
```

**当点击链接时加载新页面时，**navigationType**将为**UIWebViewNavigationTypeLinkClicked 。****

 ****request**将告诉您正在打开的 URL，如果 URL 是您的 PDF 之一，您可以收听。如果是，那么您可以按照您想要的方法处理它 - 下载它并在另一个 Web 视图中打开或在 safari 中打开。

更多细节[在这里](http://developer.apple.com/library/ios/#documentation/uikit/reference/UIWebViewDelegate_Protocol/Reference/Reference.html)。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-03-06T11:06:39.713

您可以使用此代码将 PDF 保存在文档目录中

```
NSArray *paths = NSSearchPathForDirectoriesInDomains(NSCachesDirectory, NSUserDomainMask, YES);
NSString *cachePath = [paths objectAtIndex:0];
BOOL isDir = NO;
NSError *error;
//You must check if this directory exist every time
if (! [[NSFileManager defaultManager] fileExistsAtPath:cachePath isDirectory:&isDir] && isDir   == NO)
{
    [[NSFileManager defaultManager] createDirectoryAtPath:cachePath withIntermediateDirectories:NO attributes:nil error:&error];
}
NSString *filePath = [cachePath stringByAppendingPathComponent:@"QRScanner.pdf"];
//webView.request.URL contains current URL of UIWebView, don't forget to set outlet for it
NSData *pdfFile = [NSData dataWithContentsOfURL:webView.request.URL];
if(pdfFile)
{
    [AppDelegate obj_appDelegate].Alertview.hidden = YES;
    [[AppDelegate obj_appDelegate].activity stopAnimating];
}
[pdfFile writeToFile:filePath atomically:YES]; 
```**

# regex - 仅在其他模式出现的地方搜索日志文件中出现的模式

> ID：15245585
> 
> 赞同：0
> 
> 时间：2013-03-06T11:02:49.060
> 
> 标签：regex, shell, scripting, grep, ksh

现在我使用这个命令来获取日志文件中模式的出现次数。

```
cat filename.log | grep -c 'myPattern' 
```

问题是我只想知道两三个小时之间发生的事情。事实上，concat 两种模式识别，一种是选择文本范围来应用第二种模式识别。

我尝试这样的事情但不起作用：

```
cat filename.log | grep -c 'myPattern' | grep {21:,22:,23:} 
```

我从来不明白当你连接两个或更多管道时通量是如何变化的。

日志文件示例：

```
20130305-22:31:36 0 0000 pcxvx28p script.ksh               1.10     FIN
20130305-22:36:36 0 0000 pcxvx28p script.ksh               1.10     DEBUT
20130305-22:31:36 0 0000 pcxvx28p script.ksh               1.10     OPERACION BUSQUEDA
20130305-22:36:36 0 0000 pcxvx28p script.ksh               1.10     numero xxx20012 
```

注意：我使用**KornShell (ksh)** 提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T12:02:29.860

尝试

```
grep -c '^20130305-2[1-3].*myPattern' your.log 
```

date 也应该添加到模式中，因为您的日志可能包含超过一天的数据。

上面的行将计算匹配的条目`21:00 -23:59:59`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T11:18:03.973

不应使用 -c 选项，因为它给出匹配行数而不是匹配行文本

```
grep 'myPattern' filename.log | grep '\(21:\)\|\(22:\)\|\(23:\)' 
```

# jquery - jQuery设置参数到下一页

> ID：15245586
> 
> 赞同：0
> 
> 时间：2013-03-06T11:02:51.567
> 
> 标签：jquery, parameters, reload

情况如下：我有一个弹出表单（点击时显示）。提交页面自然重新加载后（不幸的是我不能使用 AJAX `:(`）。所以我想知道是否有任何方法可以检查表单是否在上次重新加载页面时提交？我的意思是：

```
if (lastPage(formSubmitted)) {
   doStuff();
} 
```

感谢您的关注。

# asp.net-mvc - 连接到 MVC3 + EF 应用程序的本地数据库时出现问题

> ID：15245590
> 
> 赞同：1
> 
> 时间：2013-03-06T11:02:59.830
> 
> 标签：asp.net-mvc

我是在 MVC3 + EntityFramework 上实现应用程序的新手。有人可以建议应用什么方法从我现有的本地数据库（Sql server 2008）访问我的表和视图。我可以看到在 App_data 文件夹下创建的一些我不想要的默认文件。

干杯，克里斯

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T11:04:21.683

您可以更改 web.config 中的连接字符串以指向您的真实 SQL 数据库：

```
<connectionStrings>
    <add name="DefaultConnection" connectionString="Server=myServerAddress;Database=myDataBase;User Id=myUsername;Password=myPassword;" providerName="System.Data.SqlClient" />
</connectionStrings> 
```

# android - Android VideoView 带宽检测

> ID：15245594
> 
> 赞同：6
> 
> 时间：2013-03-06T11:03:06.293
> 
> 标签：android, android-videoview, bandwidth, http-live-streaming

在 Android 设备上，我正在播放一个视频 URL，它是 HLS 视频流。我正在为 android VideoView 提供 M3U8 文件的路径。

此 M3U8 文件具有按带宽/比特率（可变比特率视频流）划分的不同版本的视频。

VideoView 的任务是检测设备与服务器连接的当前带宽并请求适当的视频流，以便视频流畅播放。

但是 VideoView 没有这样做，例如：
如果我的设备的带宽约为 30 KBPS，那么 VideoView 正在发送 90 KBPS 视频流的请求，因此我的视频无法正常播放，并且如果我的带宽大于 1 MBPS 然后它也在请求一些随机流。

我们能否改进 VideoView 的带宽检测并为他提供正确的带宽值，以便他可以根据当前带宽请求正确的视频流，VideoView 是否提供这种类型的 API 或者我们可以如何破解它。

# java - ActiveMQ 传输类型选择取决于系统类型

> ID：15245599
> 
> 赞同：1
> 
> 时间：2013-03-06T11:03:14.980
> 
> 标签：java, jms, activemq

ActiveMQ 提供了多种传输类型，根据不同的情况，所以我在这里做了一个小研究 - [http://activemq.apache.org/configuring-version-5-transports.html](http://activemq.apache.org/configuring-version-5-transports.html)

但是我还没有找到根据系统通信类型选择传输类型的最佳实践的任何地方。

假设我有这些典型的沟通方式：

1.  带有小消息的系统负载非常高。
2.  有大量消息的低/平均系统负载。
3.  带有大量消息的系统负载很高。

在所描述的方式中，最常用的传输类型的优缺点是什么？还有什么需要注意的？

这些问题可能看起来很奇怪，但我对 ActiveMQ 有点陌生。我感谢您的帮助。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-06T17:32:01.463

顶一下，这是我的看法...

*   如果您的客户端与您的代理在同一个 JVM 中，则使用 VM 传输，因为它不需要网络通信
*   如果您有大量（1000 个）客户端连接，请使用 NIO，因为它可以更有效地处理连接
*   如果您的客户端不是基于 Java 的，请考虑使用 STOMP
*   如果您需要安全/加密的消息传递，请使用 SSL 或 NIO-SSL
*   否则，对于一般用途...只需使用 TCP

# java - 如何为 GWT AutoBean 设置默认值？

> ID：15245607
> 
> 赞同：1
> 
> 时间：2013-03-06T11:03:24.017
> 
> 标签：java, json, gwt, autobean

我有一个类，我想生成他的 AutoBean。

**Example.class ：**

```
 public static class Example implements Serializable {
       public Example2 example2 = new Example2();
       public static BigDecimal calc(BigDecimal dec){
          return dec != null ? dec: BigDecimal.ZERO;
       }
       public static class Example2 implements Serializable {
         public BigDecimal value1 = BigDecimal.ZERO;
         public BigDecimal value2 = BigDecimal.ZERO;
         public BigDecimal getSum(){
            return calc(value1).add(calc(value2));
         }
       }
   } 
```

**自动豆示例：**

```
public inteface Example {

  @PropertyName("example2")
  public Example2 getExample2();

  BigDecimal calc(BigDecimal dec);
} 
```

我试着这样做

**AutoBean 示例 2：**

```
public interface Example2 {
   @PropertyName("value1")
   public BigDecimal getValue1();

   @PropertyName("value2")
   public BigDecimal getValue2();

   BigDecimal getSum();
} 
```

还有实现该功能的**Example2Category 。**

但是当我尝试获取 value1 或 value2 时出现错误：

> TypeError：无法读取 null 的属性

我认为这是因为没有像它们的类表示一样的初始化值。我尝试了这个[解决方案](https://stackoverflow.com/questions/13011520/gwt-autobean-set-initial-value-of-created-interface)，但似乎不起作用。

那么如何用初始化值表示我的 Example2 类中的 AutoBean？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-14T11:07:54.443

似乎这是一个 BigDecimal 问题。对我来说，我将服务器值更改为双倍，它现在可以工作了。

看到这个[帖子](https://stackoverflow.com/questions/15248844/how-to-deserialize-bigdecimal-by-using-gwt-autobean)。

# sql - 根据定义，SQL SELECT 语句是否稳定？

> ID：15245610
> 
> 赞同：0
> 
> 时间：2013-03-06T11:03:36.347
> 
> 标签：sql, select, sql-order-by, definition

这是我的问题，我被要求确保一个大项目中的语句都被包裹起来：

```
Select * from (Select ... order by column) 
```

保持他们的订单。这就引出了一个问题，是否有一些官方来源定义 SQL 选择结果保持其顺序？

将此场景设置为可抓取但最小的上下文：

假设您有一个名为 exampleTBL 的表，其中包含 A 和 B 列。您执行以下语句：

```
Select * from (Select B from exampleTBL order by A); 
```

独立于使用的结果是否`DBMS/Driver/Platform/...`会由 A 排序？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T11:09:58.180

不，不是每个数据库都支持在子查询中排序，所以你应该在外部查询中定义顺序（或者更好的是去掉外部查询）。此外，如果您想确保获得相同的结果，您应该按顺序包括您选择的每一列。最后，无论是否使用索引，外部的 order by 都不会改变。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-06T11:37:41.297

来自[SQL-2003 标准](http://www.wiscorp.com/sql20nn.zip)(71WD2-02-Foundation-2011-12)：

* * *

**4.15.3 派生表**

派生表是通过对表达式（例如 a `<joined table>`、`<data change delta table>`、`<query expression>`或）求值直接或间接从一个或多个其他表派生的表`<table expression>`。A `<query expression>`可以包含一个可选的 . 由 指定的表的行的顺序`<query expression>`仅对`<query expression>`直接包含 的有保证`<order by clause>`。

* * *

因此，DBMS 没有义务在子查询中维护 order by。在您的示例中，只需使用：

```
Select B from (Select B, A from exampleTBL) t order by A; 
```

无论您的 DBMS 是否维护订单，我都会推荐这种方法。

# r - 根据每列唯一值的数量对矩阵（或 data.frame）进行排序

> ID：15245621
> 
> 赞同：4
> 
> 时间：2013-03-06T11:04:14.427
> 
> 标签：r, sorting, dataframe, matrix

如何在每列的唯一值总数上列一个列`reorder`？`data.frame`举个例子：

```
var1 var2 var3
  1    1   1
  0    2   2
  1    3   3
  0    4   1
  1    5   2 
```

有没有办法像这样`var2, var3, var1`自动重新排序（因为唯一值的长度分别是 5、3 和 2，或者相反，2 3 5）？

在这种情况下，得到我们想要的东西并不难，但在我的情况下，我有很多专栏。有没有办法自动进行这种类型的排序？

此外，我更希望有一个适用于`matrix`（除了`data.frame`）的解决方案，与是否有列名无关。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-03-06T11:07:20.637

像这样的东西？

```
df[names(sort(sapply(df, function(x) length(unique(x))), decreasing = TRUE))]

#   var2 var3 var1
# 1    1    1    1
# 2    2    2    0
# 3    3    3    1
# 4    4    1    0
# 5    5    2    1 
```

如果您的输入是 a `matrix`，则：

```
m[, names(sort(apply(m, 2, function(x) 
       length(unique(x))), decreasing = TRUE))] 
```

应该管用。

```
#      var2 var3 var1
# [1,]    1    1    1
# [2,]    2    2    0
# [3,]    3    3    1
# [4,]    4    1    0
# [5,]    5    2    1 
```

**编辑：**您在帖子中的示例似乎有列名，但您在评论中给出的这个没有。请确保正确生成示例。

```
X <- cbind(1, rnorm(10), 1:10) 
```

由于您不能期望列名，因此您必须返回索引。试试这个（当然，如果你有列名，它会起作用）：

```
m[, sort(apply(X, 2, function(x) 
         length(unique(x))), decreasing = TRUE, index.return = TRUE)$ix] 
```

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2013-03-06T11:33:13.443

另一种使用的解决方案`order`，

```
dat[,order(apply(dat,2,function(x) length(unique(x))),decreasing = TRUE)]
  var2 var3 var1
1    1    1    1
2    2    2    0
3    3    3    1
4    4    1    0
5    5    2    1 
```

现在，如果我们把删除列名，我们仍然会得到好的结果，但有一个警告

```
 colnames(dat) <- NULL
 dat[,order(apply(dat,2,function(x) length(unique(x))),decreasing = TRUE)]
  NA NA NA
1  1  1  1
2  2  2  0
3  3  3  1
4  4  1  0
5  5  2  1 
```

**编辑**测试性能：

我在一个有 1000 列的矩阵上进行测试。2 个解的时间是可比的，略有增益`order`。

```
X <- matrix(rnorm(100*1000),ncol=1000,nrow=100)
Arun <- function() X[, sort(apply(X, 2, function(x) 
  length(unique(x))), decreasing = TRUE, index.return = TRUE)$ix]

AgStudy <- function()  X[,order(apply(X,2,function(x) length(unique(x))),decreasing = TRUE)]

library(microbenchmark)

microbenchmark(Arun(),AgStudy())

Unit: milliseconds
       expr      min       lq   median       uq      max
1 AgStudy() 28.04634 32.37105 34.73820 36.49930 129.6048
2    Arun() 31.15476 32.97180 36.24027 37.91584 132.3871 
```

# php - 无法打开超过 30M 的文件

> ID：15245623
> 
> 赞同：0
> 
> 时间：2013-03-06T11:04:15.443
> 
> 标签：php, file

我有一个 31M 的文件，想打开文件来阅读。
我无法打开文件。
解决方法是逐块读取文件 php 中还有其他选项吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T11:05:26.220

最好的选择是使用

```
set_time_limit(0); 
```

在您提取文件的 php 函数中

或者

```
 change your memory_limit in php.ini file 
```

# c - 简单中断处理程序：request_irq 返回错误代码 -22

> ID：15245626
> 
> 赞同：11
> 
> 时间：2013-03-06T11:04:21.190
> 
> 标签：c, linux, module, linux-kernel, interrupt

我正在编写一个简单的内核模块，它可以注册一个中断并处理它。但是，当我尝试通过调用 request_irq 函数来注册中断时，它返回错误代码 -22 ：

> 错误：无法请求 IRQ 30 - 代码 -22、EIO 5、EINVAL 22

我相信，这个错误代码等于 EINVAL（无效参数）

请告诉我，我做错了什么。这是一个模块：

```
#include <linux/init.h>
#include <linux/module.h>
#include <linux/irq.h>
#include <linux/io.h>
#include <linux/irqdomain.h>
#include <linux/interrupt.h>
#include <linux/of.h>
#include <linux/of_address.h>

#include <asm/exception.h>
#include <asm/mach/irq.h>

void int068_interrupt(int irq, void *dev_id, struct pt_regs *regs)
{
    printk("Interrupt should be handled there\n");
}

static int __init
clcdint_init(void)
{
    unsigned int irq;
    unsigned int irqflags;
    int ret;

    irq=68;
    irqflags=IRQF_SHARED | IRQF_NO_SUSPEND;

    ret = request_irq(irq, int068_interrupt,
            irqflags, "clcdint-int068", NULL);

    if (ret!=0) {
            printk("ERROR: Cannot request IRQ %d", irq);
            printk(" - code %d , EIO %d , EINVAL %d\n", ret, EIO, EINVAL);
    }

    printk("CLCDINT_INIT\n");
    return 0;
}

module_init(clcdint_init);

static void __exit
clcdint_exit(void)
{
    unsigned int irq;
    irq=68;
    free_irq(irq, NULL);
    printk("CLCDINT_EXIT\n");
}

module_exit(clcdint_exit); 
```

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2013-03-06T11:11:06.937

在处理共享中断线（IRQF_SHARED 标志打开）时，您不能传递 NULL 上下文（request_irq() 调用的最后一个参数）。

要理解为什么考虑以下场景：您有两个相同的网卡共享相同的 IRQ。相同的驱动程序将传递相同的中断处理函数、相同的中断号和相同的描述。除了通过上下文参数外，没有办法区分注册的两个实例。

因此，作为预防措施，如果您传递 IRQF_SHARED 标志，则不能传递 NULL 上下文参数。

* * *

## 回答 #2

> 赞同：-3
> 
> 时间：2014-09-29T13:38:29.677

`irqflags`有一个类型`unsigned int`，但最初它有类型`long`。

尝试以下语句，它肯定会起作用：

`request_irq(irq, int068_interrupt,IRQF_SHARED | IRQF_NO_SUSPEND, "clcdint-int068", NULL);`

# java - 超时后中止 countDownLatch.await()

> ID：15245629
> 
> 赞同：12
> 
> 时间：2013-03-06T11:04:26.983
> 
> 标签：java, multithreading, executorservice, executors

我正在使用 an`ExecutorService`来实现一个 3 线程池，并使用 CountDownLatch 来监视所有线程的完成情况，以便进一步处理。

```
ExecutorService threadExecutor = Executors.newFixedThreadPool(3);
CountDownLatch countDownLatch = new CountDownLatch(3);

AuthorisationHistoryTask task1 =
    new AuthorisationHistoryTask(commonDataThread, countDownLatch );
PreAuthHistoryTask task2 = 
    new PreAuthHistoryTask(userID,sessionID, commonDataThread, countDownLatch );

SettlementHistTask task4 = new SettlementHistTask(commonDataThread,countDownLatch);

Future<Map<String, Object>> futureAuthHistory = threadExecutor.submit (task1);
Future<Map<String, Object>> futurePreAuthHist = threadExecutor.submit (task2);
Future<Map<String, Object>> futureSettleHist = threadExecutor.submit(task4);

threadExecutor.shutdown();

try {
     countDownLatch.await();
}catch (InterruptedException e) { 
     logger.logCommon("InterruptedException",CLASS_NAME);                     
}catch (ExecutionException ex) { 
     logger.logCommon("InterruptedException",CLASS_NAME); 
} 
```

我曾经`countDownLatch.await()`等到所有线程都完成。我希望这个过程`countDownLatch.await()`在 TIME OUT 说 45 秒的情况下中止。我该如何实施？

* * *

## 回答 #1

> 赞同：29
> 
> 时间：2013-03-06T11:13:54.057

[`await`](http://docs.oracle.com/javase/6/docs/api/java/util/concurrent/CountDownLatch.html#await%28long,%20java.util.concurrent.TimeUnit%29)使用接受超时的重载变体。

```
countDownLatch.await(45, TimeUnit.SECONDS); 
```

# javascript - 哪个是包装历史 API 的最佳 JavaScript 库？

> ID：15245630
> 
> 赞同：0
> 
> 时间：2013-03-06T11:04:30.743
> 
> 标签：javascript, jquery, web

首先，让我澄清一下，我说的是网站而不是应用程序，因为它是一个简单的网站，包含三个内容领域，没有后端数据库，也没有后端编码。

我想要实现的是一个单页站点，以便使用 jQuery 或其他框架，我可以相应地将内容滑入/滑出（我能够做到这一点）。但是，我希望链接不仅可以加载内容，而且可以这样做：

```
www.address.com/Home
www.address.com/Services
www.address.com/Work 
```

使用 ASP.Net 很容易，但我想已经有一个 javascript 框架可以为我做到这一点，而无需 .net。如果可能的话，我希望能够在需要时加载每个区域的内容。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-06T11:18:48.520

您可以使用[history.js](https://github.com/balupton/History.js/) το 来实现您想要的。它使与历史 API 的接口变得非常容易

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-05-16T23:22:52.903

[Dial.js](http://danielteichman.github.io/Dial.js/)是一个基于 jQuery 和 History.js 构建的浏览器历史框架。它简化了事件驱动界面的浏览器历史集成，并为单页应用程序 (SPA) 提供了 MVC 框架的简单替代方案。

# sql-server - 现有数据的主键

> ID：15245631
> 
> 赞同：0
> 
> 时间：2013-03-06T11:04:32.407
> 
> 标签：sql-server, unique-constraint

我需要从表中删除现有的 PK 并在新列中创建新的。因为新 PK 的列是后来添加的（在创建表之后） - 我们有旧行的空值。我应该使用 UPDATE 语句还是在“ADD CONSTRAINT”子句中有一些选项可以自动确定 NULL 并为它们生成 GUID？

感谢帮助。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T11:32:43.370

> 这是你必须做的。

```
UPDATE TABLE1
SET GUID = NEWID()
WHERE GUID IS NULL 
```

> 现在要添加一个新的约束，您必须删除旧的约束。您可以这样做：

```
ALTER TABLE TABLE1
DROP CONSTRAINT PrimaryKeyName

ALTER TABLE TABLE1
ADD CONSTRAINT PrimaryKeyName PRIMARY KEY (GUID) 
```

# regex - 正则表达式检查单行中出现的多个单词

> ID：15245641
> 
> 赞同：0
> 
> 时间：2013-03-06T11:05:00.243
> 
> 标签：regex, actionscript-3

我有 htmltext 作为

```
<p><strong>Where:</strong> Esplanade Concert Hall <strong>MRT:</strong> Esplanade <strong>When:</strong> Tomorrow, enter code here 
```

我有一组词

**滨海艺术中心，音乐会，大厅，地铁：**

是否有一个正则表达式考虑所有 4 个单词并获取匹配解决方案，其中所有 4 个单词一起出现在一个匹配项中。

我想要实现的是从字符串**Esplanade Concert Hall MRT:** 我想从包含所有单词的特定行的 html 文件中获取可能的匹配项。

我正在用 as3 编码。谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T11:07:42.400

您可以使用形式的正则表达式

```
(Esplanade.*Concert.*Hall.*MRT) 
```

这将按该顺序检索包含这些单词的整行。不过，您的要求有些令人困惑。

# sql-server - 在 SQL Server 2012 中解析 XML 数据

> ID：15245644
> 
> 赞同：2
> 
> 时间：2013-03-06T11:05:04.267
> 
> 标签：sql-server, xml, xml-parsing, sql-server-2012

我在 SQL Server 数据库中有一个表 tblUserData，它有两列：

```
tblUSerData(ID BIGINT, UserData XML) 
```

XML 结构如下：

```
<user>
   <name>
      Akshay
   </name>
   <age>
      23
   </age>
</user> 
```

我想编写一个存储过程，以便读取表并返回 20 岁以上用户的记录。我很困惑如何以**有效**的方式解析数据表。提前致谢。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-03-06T14:00:36.417

您的查询可以使用[exists() 方法（xml 数据类型）编写](http://msdn.microsoft.com/en-us/library/ms189869.aspx)

```
select ID
from tblUserData
where UserData.exist('/user[age > 20]') = 1 
```

从 SQL Server 2012 SP1 开始，您可以使用[选择性 XML 索引 (SXI)](http://msdn.microsoft.com/en-us/library/jj670108.aspx)，支持上述查询的索引如下所示。

```
create selective xml index sxi_UserData on tblUserData(UserData)
for (
    u = '/user' as xquery 'node()' singleton,
    a = '/user/age' as xquery 'xs:double' singleton
    ) 
```

要使用选择性 XML 索引，您必须使用[sp_db_selective_xml_index (Transact-SQL)启用它](http://msdn.microsoft.com/en-us/library/jj670102.aspx)

有关更多信息，您可以查看[Bob Beauchemin](http://www.sqlskills.com/blogs/bobb/getting-started-with-selective-xml-indexes-in-sql-server/)的一些博客文章。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-06T11:47:46.853

假设 tblUserData 中的每一行将只包含一个用户节点，并且该用户中的一个年龄节点可以使用：

```
WHERE   UserData.value('user[1]/age[1]', 'int') > 20 
```

**[SQL Fiddle 示例](http://www.sqlfiddle.com/#!6/e54d4/1)**

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-06T12:08:47.703

所以我创建了表 tblUserData 然后我编写了将提取年龄超过 20 岁的用户的查询

我使用了提供的 xml 结构

```
<user>
  <name>
    Akshay
 </name>
 <age>
    23
 </age>
</user> 
```

创建表 tblUserData (ID BIGINT,

用户数据 xml)

```
insert into tblUserData values (1, '<user>   <name>      Akshay   </name>   <age>         23   </age> </user>')

insert into tblUserData values (2, '<user>   <name>      Tom   </name>   <age>      26   </age> </user>') 
```

以下是将提取年龄超过 20 岁的用户的查询

```
 select node.value('name[1]', 'varchar(255)') as userName, node.value('age[1]','int')      as    age
 from dbo.tblUserData tblu
 CROSS APPLY UserData.nodes('/user') nodes(node)

 where node.value('age[1]', 'int') > 20 
```

# android - 如何将外部库项目放到我的项目中？

> ID：15245645
> 
> 赞同：0
> 
> 时间：2013-03-06T11:05:08.377
> 
> 标签：android, eclipse

我想使用[svg-android](https://github.com/pents90/svg-android/tree/master/svgandroid)库来处理 Android 中的 *.svg 文件。同样，我安装了[apache ant](http://code.google.com/p/winant/)，在工作区中创建了一个名为：的文件夹`SVGAndroid`，然后添加

```
android.library.reference.1=C:\Android\workspace\SVGAndroid 
```

到 project.properties 文件。

自述文件中没有函数文档，所以我想知道安装是否正确，在第二种情况下如何重新安装外部库以及使用 svg-android 的示例在哪里？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T11:35:35.837

如果您想在项目中包含库文件，请按照以下步骤操作；

1.  下载 jar 文件并将其保存在任何文件夹中。
2.  打开你的项目。
3.  右键单击->构建路径->添加外部档案->将外部jar文件添加到项目中

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T11:16:33.460

我宁愿建议不要手动添加项目的路径，而是从`Project Properties`->`Android`中添加一个列表，其中包含工作区中的所有库项目，您可以从中选择所需的项目。

另外我建议添加`project.properties`以下行：

```
manifestmerger.enabled=true 
```

为了将`AndroidManifest.xml`引用的库项目的所有文件合并到主项目的清单中。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-06T11:09:40.750

为了包含项目，只需将项目包含到您的工作区中，并在该项目属性下的相应应用程序中添加对引用 svgandroid 的库的依赖项。确保包含这些文件并确保编译类文件存在于 apk 的最终输出中**。**这通常意味着您将项目添加到构建路径/顺序中。

另一种方法是只获取整个项目并将其编译成一个 jar 文件，然后将该 jar 包含在您的 libs 文件夹中，并将对该相应项目的 jar 文件的依赖项添加到您的核心应用程序中。

## 有用的链接

[如何在 Android 项目中使用外部 JAR？](https://stackoverflow.com/questions/1334802/how-can-i-use-external-jars-in-an-android-project)

# android - 两个Listviews和一个静态内容之间

> ID：15245651
> 
> 赞同：0
> 
> 时间：2013-03-06T11:05:27.643
> 
> 标签：android, android-layout, android-listview

嗨，伙计们，我想知道是否有可能与我在下面附上的布局类似。我需要有两个不同的列表视图，其中包含不同的行项目集和这两个列表视图之间的静态内容。我不知道该怎么做。欢迎您提出宝贵意见。提前致谢。![在此处输入图像描述](../Images/b1aec3a2c1b8bad95f27fc347fca1f02.png)

![在此处输入图像描述](../Images/3ba524556e43c1aa97763ac1f31117d7.png)

我面临的问题是我需要为这两个方向的布局提供支持。所以我已经将所有这些控件包装在一个滚动视图中，滚动出现了问题。我知道在滚动视图中使用列表视图是不可取的，但我想知道我该怎么做。如果在纵向模式下没有 Scrollview，它非常好，但是在横向模式下是我遇到问题的地方。

# reporting-services - 在 SSRS 中，有没有办法让行组根据参数值展开？

> ID：15245652
> 
> 赞同：1
> 
> 时间：2013-03-06T11:05:28.490
> 
> 标签：reporting-services, parameters, ssrs-2008

我有一个包含 5 列的表，其中前 3 列允许用户向下钻取详细信息级别。这些列（地区、国家和办事处）中的每一个都有一个关联的参数，因此用户可以为他们的报告选择地理区域。每个参数允许选择多个值。

如果用户选择 1 个地区、1 个国家和 1 个办事处，那么他们必须扩展每个选择并不完全理想。是否有一个表达式我可以在某处输入来说明如果在参数中仅输入 1 个值，那么该数据集将自动显示为展开？如果这有什么不同的话，这在 SSRS 2008 R2 中。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-06T15:17:32.840

在详细信息组的组属性中，您可以输入初始可见性的表达式。现在，您可能已将其设置为“隐藏”。该表达式需要返回一个布尔值，可能类似于：

```
=Parameters!Country.Count <> 1 
```

如果在参数中选择了多于（或少于）一个值，这将使 SSRS 隐藏这些行`Country`

但是我看到了一些意想不到的结果：彻底测试。根据我的经验，BIDS 比 SSRS 本身更好地处理这些问题，所以当你认为你已经完成了所有工作时，一旦部署它就会惨遭失败。（原因 14 在生产 SSRS 上有一个测试文件夹。）

# ruby-on-rails - rails 将 object1 转换为 object2

> ID：15245654
> 
> 赞同：-1
> 
> 时间：2013-03-06T11:05:32.057
> 
> 标签：ruby-on-rails, ruby, map

我有一个 2 对象

name.to_json (object1):

```
[{"name":{"first":"1","second":"2"}},{"name":{"first":"11","second":"22"}}] 
```

和 object.to_json (object2):

```
[{"first":"1","second":"2"},{"first":"11","second":"22"}] 
```

如何将object1转换为object2

```
rails 2

ruby 1.8.7 
```

也许我可以使用地图，但我不知道该怎么做。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T11:17:31.903

不确定你是否想要这个

```
[1] pry(main)> require "json"
=> true
[2] pry(main)> JSON.parse('[{"name":{"first":"1","second":"2"}},{"name":{"first":"11","second":"22"}}]')
=> [{"name"=>{"first"=>"1", "second"=>"2"}},
 {"name"=>{"first"=>"11", "second"=>"22"}}]
[3] pry(main)> x.collect {|w| w.values}
=> [[{"first"=>"1", "second"=>"2"}], [{"first"=>"11", "second"=>"22"}]] 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T11:09:42.157

“转换”意味着转换结构？我假设你的 object1 是一个哈希数组（它是“看起来像”的，但你只给出 JSON 表示，所以我不能确定）。

关于什么 ：

```
object1.map {|o| o["name"]} 
```

用英语：迭代“object1”中的所有对象，并返回“name”键后面的值。

完整示例（从 irb 会话中复制/粘贴）：

```
irb(main):003:0> object1 = [{"name"=>{"first"=>"1", "second"=>"2"}}, {"name"=>{"first"=>"11", "second"=> "22"}}]
irb(main):004:0> object1.map {|o|o["name"]}
=> [{"first"=>"1", "second"=>"2"}, {"first"=>"11", "second"=>"22"}] 
```

这是你想要的 ？

# sql-server - SQL Server 2005 - 检查/验证空值并添加到结果中

> ID：15245658
> 
> 赞同：0
> 
> 时间：2013-03-06T11:05:43.943
> 
> 标签：sql-server

请参阅下表结构和所需的输出（努力解决这个问题）

```
Table: Employees
Structure
EmpID   Manager   Account Manager
1       Conrad    Craig
2       Rob        
3       Holly     Luke

Output Required (If manager is not null and account manager is not null then Count is 1+1)

EmpdId   Count
1         2
2         1
3         2 
```

我正在努力编写可以给我以上输出的查询

所以我们正在检查经理和客户经理的空值。如果它们不为空，则为它们分配值 1 并将它们相加。

问候

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T11:12:24.660

嗨，你可以这样做：

```
SELECT EmpId 
CASE WHEN Manager IS NOT NULL AND Account Manager IS NULL THEN 1 ELSE 2 END AS Count
FROM TBL 
```

# jquery - jQuery验证错误类未从字段中删除

> ID：15245659
> 
> 赞同：4
> 
> 时间：2013-03-06T11:05:45.453
> 
> 标签：jquery, jquery-validate

我有一个用于 jQuery 验证的自定义方法（基于[Sparky](https://stackoverflow.com/questions/15238958/ensure-at-least-one-from-a-group-of-three-checkboxes-is-checked-using-jquery-val/15240802#15240802)对相关问题的回答），它检查以确保一组四个文本字段中的一个在其中具有值。这工作正常，除了我刚刚注意到，即使在其中一个字段中输入值时错误消息消失，错误类仍然存在，因此文本字段以错误颜色突出显示（本例中为红色背景）。

关于如何解决这个问题的任何想法？

谢谢。

这是问题的一个[jsfiddle](http://jsfiddle.net/u4WM4/2/)。

这是我的脚本：

```
$(document).ready(function () {

  $.validator.addMethod("textboxrule", function (value, element) {
      return ($('#my_text_field_1').val() != '' || $('#my_text_field_2').val() != '' || $('#my_text_field_3').val() != '' || $('#my_text_field_4').val() != '')
  }, "Select at least one of these four");

  $('.my_form').validate({ // initialize the plugin
      errorLabelContainer: ".form_errors",
      wrapper: "li",
      groups: {
          somename: "my_text_field_1 my_text_field_2 my_text_field_3 my_text_field_4"
      },
      rules: {
          'my_text_field_1': {
              textboxrule: true
          },
          'my_text_field_2': {
              textboxrule: true
          },
          'my_text_field_3': {
              textboxrule: true
          },
          'my_text_field_4': {
              textboxrule: true
          }
      },
      submitHandler: function (form) { // for demo
          alert('valid form submitted'); // for demo
          return false; // for demo
      }
  });

}); 
```

这是我的 HTML：

```
<form class="my_form" method="post" action="#">
    <div>
        <ul class="form_errors"></ul>
    </div>
    <p>
<label>My text field 1</label>
<input id="my_text_field_1" name="my_text_field_1"  type="text" value="" /></p>

<p>
  <label>My text field 2</label>
  <input id="my_text_field_2" name="my_text_field_2"  type="text" value="" />
</p>

<p>
  <label>My text field 3</label>
  <input id="my_text_field_3" name="my_text_field_3"  type="text" value="" /></p>

<p>
  <label>My text field 3</label>
  <input id="my_text_field_4" name="my_text_field_4"  type="text" value="" /></p>

    <input type="submit" value="Submit" />
</form> 
```

这是我的CSS：

```
input.error { 
    background: red; 
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-06T11:22:43.267

如果错误类通过验证，您需要扩展验证方法以删除错误类。尝试这个：

```
$.validator.addMethod("textboxrule", function (value, element) {
    var returnValue = ($('#my_text_field_1').val() != '' || $('#my_text_field_2').val() != '' || $('#my_text_field_3').val() != '' || $('#my_text_field_4').val() != '');

    if (returnValue) {
        $("#my_text_field_1, #my_text_field_2, #my_text_field_3, #my_text_field_4").removeClass("error");
    }

    return returnValue;
}, "Select at least one of these four"); 
```

小提琴：http: [//jsfiddle.net/u4WM4/3/](http://jsfiddle.net/u4WM4/3/)

# javascript - 加载时使带有jquery对话框的div滚动到底部

> ID：15245663
> 
> 赞同：1
> 
> 时间：2013-03-06T11:05:52.230
> 
> 标签：javascript, jquery

这是代码：

```
$(document).ready(function(){
 $("#Dialog").dialog({
         title: "dialog",
         width: 360,
         height: 365,
         modal: false,
         resizable: false,
         focus: function (event, ui) {
             $("#ToClientID").val(ToClient); 
         },
         open: function (event, ui) {
             $(this).scrollTop(10000000000000000000000000);
         }
     });

 }); 
```

为什么加载时div没有滚动到底部

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-06T11:21:19.320

我认为你想要的是动画，试试这个：

```
$(document).ready(function(){
    $("#Dialog").dialog({
         title: "dialog",
         width: 360,
         height: 365,
         modal: false,
         resizable: false,
         focus: function (event, ui) {
             $("#ToClientID").val(ToClient); 
         },
         open: function (event, ui) {
             $(this).animate({
                 scrollTop: $(this).scrollTop() + $(this).height()
             });
         }
     });
 }); 
```

# iphone - LinkedIn iOS 集成

> ID：15245665
> 
> 赞同：3
> 
> 时间：2013-03-06T11:06:05.380
> 
> 标签：iphone, ios, social-networking, linkedin

我正在将`Linked-in`我的 iOS 应用程序集成到我的应用程序中。`Login`它对我来说工作正常..当我在应用程序中输入凭据并成功进入应用程序时它成功登录....但是当我`logout`再次`login`要求`Access`- >`allow access`按钮不询问凭据，但我希望`allow access`页面不应该出现在下一次登录...意味着`logout`当我再次单击`linkedin``login`...它应该直接访问应用程序..不应该要求图像 2..

![在此处输入图像描述](../Images/b21ef193baa3b180a44116d045965818.png)

**图 2 第二次出现。`login`我不想来** 。

![在此处输入图像描述](../Images/d51b7dfa4fa497a6a13704a02c56f0f0.png)

```
- (BOOL)webView:(UIWebView*)webView shouldStartLoadWithRequest:(NSURLRequest*)request navigationType:(UIWebViewNavigationType)navigationType
 {

     NSMutableArray *toolbarButtons = [toolBar.items mutableCopy];
     // toolbarItems = [[NSMutableArray arrayWithArray:toolbar.items]
     // This is how you remove the button from the toolbar and animate it
     // This is how you add the button to the toolbar and animate it

    if (!firstTime1||![loginView canGoBack]) 
    {
        [toolbarButtons removeObject:backButton];
        [toolBar setItems:toolbarButtons animated:YES];
        firstTime1=YES;
    }

NSURL *url = request.URL;
NSString *urlString = url.absoluteString;

    BOOL requestForCallbackURL = ([urlString rangeOfString:[LinkedIn linked].linkedInCallbackURL].location != NSNotFound);
    if ( requestForCallbackURL )
    {
        BOOL userAllowedAccess = ([urlString rangeOfString:@"user_refused"].location == NSNotFound);
        if ( userAllowedAccess )
        {
            if ([self logoutPreviousSession])
            {
                [[NSUserDefaults standardUserDefaults] setInteger:1 forKey:@"SuccessfulLogin"];
                [DelegateClass magazine]._loggedThrough=@"LinkedIn";
                [[LinkedIn linked].requestToken setVerifierWithUrl:url];
                [[LinkedIn linked] accessTokenFromProvider];
            }

        }
        else
        {

             [self dismissModalViewControllerAnimated:YES];
        }
    }
return YES;
 } 
```

# entity-framework-5 - EF 数据更改是否仅在调用 SaveChanges() 时保留？

> ID：15245667
> 
> 赞同：0
> 
> 时间：2013-03-06T11:06:07.660
> 
> 标签：entity-framework-5, savechanges

我正在向我的应用程序添加一个“WhatIf”开关（受 Powershell -WhatIf 开关的启发），它只是模拟数据处理，而不会将任何实际数据更改保留回 EF 存储。

我希望实现这一点的方法是在调用 SaveChanges() 之前添加一个检查，如下所示：

```
if (WhatIf == false)
  efEntities.SaveChanges() 
```

这样，应用程序的其余部分可以正常进行更改，只要从不调用 SaveChanges()，我就不必担心意外进行的任何更改。

这行得通吗？我担心 SaveChanges 会被 EF 的其他部分调用，例如 Dispose 或类似的东西？

谢谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-06T11:11:03.467

它会起作用的。EF 不调用`SaveChanges`自己。开发人员始终负责持续更改。

# sql - 使用在 NULL 以上的任何行中具有数据的同一列更新 NULL

> ID：15245674
> 
> 赞同：1
> 
> 时间：2013-03-06T11:06:21.117
> 
> 标签：sql, sql-server, sql-server-2008, tsql

我有类似以下脚本的数据。我想用同一列的数据更新空列，但在同一列中任何不为空的行。

```
DECLARE @tbl TABLE(Country NVARCHAR(100), County NVARCHAR(100),
                     Street NVARCHAR(100), Name NVARCHAR(100))
INSERT INTO @tbl 
VALUES('England', 'County1', 'A Street', 'James'),
('', '', '', 'Deen'),
('', '', 'B Street', 'Adam'),
('', '', 'C Street', 'Max'),
('', 'County2', 'Y Street', 'Dax'),
('', '', '', 'Dax'),
('', '', '', 'Pax'),
('France', 'County i', 'Street ix', 'Chris'),
('', '', '', 'Crai'),
('', '', '', 'Adam') 
```

更新后表格应如下所示：

```
DECLARE @tbl TABLE(Country NVARCHAR(100), County NVARCHAR(100),
                     Street NVARCHAR(100), Name NVARCHAR(100))
INSERT INTO @tbl 
VALUES('England', 'County1', 'A Street', 'James'),
('England', 'County1', 'A Street', 'Deen'),
('England', 'County1', 'B Street', 'Adam'),
('England', 'County1', 'C Street', 'Max'),
('England', 'County2', 'Y Street', 'Dax'),
('England', 'County2', 'Y Street', 'Dax'),
('England', 'County2', 'Y Street', 'Pax'),
('France', 'County i', 'Street ix', 'Chris'),
('France', 'County i', 'Street ix', 'Crai'),
('France', 'County i', 'Street ix', 'Adam')

SELECT * FROM @tbl 
```

我正在从 Excel 表中阅读此内容。如果这是不可能的，那么我可以要求用户在 Excel 工作表的第一列中添加一个行号，如 ID。那会奏效吗？

谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T11:21:55.940

表中的条目是无序的，所以这是不可能的，除非你自己定义一个订单（用 "order by" ）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T11:22:48.003

您可以将选项与 CTE 一起使用

```
 ;WITH cte AS
 (
  SELECT *, ROW_NUMBER() OVER (ORDER BY (SELECT 1)) AS Id
  FROM tbl
  ), cte2 AS
 (
  SELECT Id, Country, County, Street, Name
  FROM cte
  WHERE Id = 1
  UNION ALL
  SELECT c.Id, COALESCE(c.Country, c2.Country), 
               COALESCE(c.County, c2.County), 
               COALESCE(c.Street, c2.Street), c.Name
  FROM cte c JOIN cte2 c2 ON  c.Id = c2.Id + 1
  )
  UPDATE c
  SET c.Country = c2.Country,
      c.County = c2.County,
      c.Name = c2.Name,
      c.Street = c2.Street
  FROM cte c JOIN cte2 c2 ON c.Id = c2.Id 
```

[**SQLFiddle**](http://sqlfiddle.com/#!3/0b143/1)上的演示[](http://sqlfiddle.com/#!3/0b143/1)

# c# - 运行多个任务重用同一个对象实例

> ID：15245679
> 
> 赞同：4
> 
> 时间：2013-03-06T11:06:30.767
> 
> 标签：c#, concurrency, task

这是一个有趣的。我有一个创建一堆`Task`s 的服务。目前，列表中只配置了两个任务。但是，如果我在操作中放置一个断点`Task`并检查 的值`schedule.Name`，它会以相同的计划名称被命中两次。但是，配置了两个单独的计划并在计划列表中。谁能解释为什么任务重用循环中的最后一个时间表？这是范围问题吗？

```
// make sure that we can log any exceptions thrown by the tasks
TaskScheduler.UnobservedTaskException += new EventHandler<UnobservedTaskExceptionEventArgs>(TaskScheduler_UnobservedTaskException);

// kick off all enabled tasks
foreach (IJobSchedule schedule in _schedules)
{
    if (schedule.Enabled)
    {
        Task.Factory.StartNew(() =>
                                {
                                    // breakpoint at line below. Inspecting "schedule.Name" always returns the name 
                                    // of the last schedule in the list. List contains 2 separate schedule items.
                                    IJob job = _kernel.Get<JobFactory>().CreateJob(schedule.Name);
                                    JobRunner jobRunner = new JobRunner(job, schedule);
                                    jobRunner.Run();
                                },
                                CancellationToken.None, 
                                TaskCreationOptions.LongRunning, 
                                TaskScheduler.Default
                                );
    }
} // next schedule 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-06T11:14:59.220

如果您在 foreach 循环中使用临时变量，它应该可以解决您的问题。

```
foreach (IJobSchedule schedule in _schedules)
{
    var tmpSchedule = schedule;
    if (tmpSchedule.Enabled)
    {
        Task.Factory.StartNew(() =>
                                {
                                    // breakpoint at line below. Inspecting "schedule.Name" always returns the name 
                                    // of the last schedule in the list. List contains 2 separate schedule items.
                                    IJob job = _kernel.Get<JobFactory>().CreateJob(tmpSchedule.Name);
                                    JobRunner jobRunner = new JobRunner(job, tmpSchedule);
                                    jobRunner.Run();
                                },
                                CancellationToken.None, 
                                TaskCreationOptions.LongRunning, 
                                TaskScheduler.Default
                                );
    }

} // 
```

有关闭包和循环变量的更多参考，请参阅 [关闭被认为有害的循环变量](http://blogs.msdn.com/b/ericlippert/archive/2009/11/12/closing-over-the-loop-variable-considered-harmful.aspx)

# objective-c - 为什么在 Obj-c 快速枚举循环中设置类型？

> ID：15245684
> 
> 赞同：0
> 
> 时间：2013-03-06T11:06:45.750
> 
> 标签：objective-c, types, for-loop, fast-enumeration

```
NSMutableArray *array = [[NSMutableArray alloc] init];
NSString *string = @"string";
[array addObject:string];
NSDate *date = [[NSDate alloc] init];
[array addObject:date];

    for (*placeholder* stuff in array)
        NSLog(@"one"); 
```

如果我将*占位符*更改为 NSString* 或 NSDate*，我希望看到“one”，因为 for 循环应该忽略不匹配的类型。但是，结果是“一个”。

这是否意味着无论情况如何，您都应该只使用*占位符*id ，因为无论如何它似乎并不重要？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-06T11:08:13.907

快速枚举总是遍历集合中的所有对象。它不过滤。

唯一发生的事情是，你会有一些奇怪的演员阵容。

如果您的数组包含不同类的对象，您可以确定每个对象的类`isMemberOfClass:`

* * *

如果你愿意`for (NSDate *obj in array)`，数组中的任何对象都将被强制转换为 NSDate，无论它是否是有感觉的。并且由于objective-c的性质，它甚至可以工作，只要您不发送只能被NSDate对象理解的消息或将对象作为参数发送给需要接收日期对象的方法，作为cast 无论如何都不会改变对象。强制转换只是您对编译器做出的承诺，即您知道自己在做什么。其实你也可以称之为谎言。

* * *

要回答您的问题标题本身：您不必在循环语句中设置类。通用对象类型`id`就足够了。但通常你在数组中有一种对象——视图、数字、字符串、日期……。通过声明正确的类，您可以获得一些舒适感，例如更好的自动完成功能。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-06T11:10:27.557

是的，使用`id`（或其他一些共同的祖先类）是正确的方法，然后有必要确定枚举了哪种类型的类以便以不同的方式处理它：

```
for (id obj in array)
{
    if ([obj isMemberOfClass:[NSString class]])
    {
        NSString *str = (NSString *)obj;
        NSLog("obj is a string: %@", str);
    }
    else if ([obj isMemberOfClass:[NSDate class]])
    {
        NSDate *date = (NSDate *)obj;
        NSLog("obj is a date: %@", date);
    }
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-06T11:25:48.923

这个问题与快速枚举无关，而是与可以包含任何类型对象的集合有关。当您访问数组的单个元素时会出现同样的问题：

```
id lastObject = [array lastObject]; 
```

或者

```
NSString *string = [array lastObject]; 
```

你会选择哪个？这完全取决于您的代码。如果您确定`array`它只包含字符串，那么在我看来，最好使用第二种选择，因为您可以从编译器获得额外的类型检查、自动完成和方法匹配（即，如果您调用对两个不同对象具有不同签名的方法）。这同样适用于快速枚举：如果您的集合可以包含任何类型的对象，请使用`id`. 如果您知道它包含什么，请使用特定类型。（同样也适用于块测试。在`NSArray`'s 方法

```
- (NSUInteger)indexOfObjectPassingTest:(BOOL (^)(id obj, NSUInteger idx, BOOL *stop))predicate 
```

例如，如果您知道它仅包含字符串，则可以在块参数中替换`id`为。`NSString *`它不会改变所有编译的代码或应用程序的行为，它只会改变编译器类型检查。

# mysql - 如何获得一列的总数

> ID：15245685
> 
> 赞同：1
> 
> 时间：2013-03-06T11:06:50.060
> 
> 标签：mysql, sql

我在 SQL Fiddle有一个示例[表。](http://sqlfiddle.com/#!2/1f61b/2)

```
CREATE TABLE my_table
(id INT NOT NULL AUTO_INCREMENT UNIQUE,
  Shot VARCHAR(4),
  sec varchar(5),
  lay VARCHAR(15) NOT NULL,
  lay_status VARCHAR(15) NOT NULL,
  blk VARCHAR(10) NOT NULL,
  blk_status VARCHAR(15) NOT NULL,
  pri VARCHAR(10) NOT NULL,
  pri_status VARCHAR(15) NOT NULL,
  ani VARCHAR(10) NOT NULL,
  ani_status VARCHAR(15) NOT NULL,
  status VARCHAR(5)
);

INSERT INTO my_table VALUES
(1,'SH01','3','1863','yes','1863','yes','P4645','yes','P4557','yes','Over'),
(2,'SH02','2.5','1863','yes','P4645','no','P4557','yes','1863','no','Over'),
(3,'SH03','0.5','P4645','yes','P4557','yes','1863','yes','1863','yes','WIP'),
(4,'SH04','1.25','1863','no','P4645','no','P4557','yes','1863','yes','RTK'),
(5,'SH05','1','1863','yes','1863','yes','P4645','yes','P4557','yes','WIP'),
(6,'SH06','6','P4557','yes','P4645','yes','P4645','yes','P4557','yes','WIP'); 
```

我使用下面的 SQL 来检索`lay=1863`. 并在秒数的底部得到总数。

但结果是错误的。谁能指导我。

```
SELECT 
  IFNULL(Shot,'TOTAL') AS Shot
  , sec
  , lay
FROM my_table
where lay='1863'
group by shot with rollup; 
```

总的结果（对于 sec 列）应该是 7.75，现在显示为 1

```
SHOT    SEC     LAY
SH01    3       1863
SH02    2.5     1863
SH04    1.25    1863
SH05    1       1863
TOTAL   7.75 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-06T11:15:01.130

如您所愿，请使用此查询

```
SELECT 
  Shot
  , sum(sec)
FROM my_table
where lay='1863'
group by shot with rollup; 
```

GROUP BY 子句允许使用 WITH ROLLUP 修饰符，该修饰符会导致将额外的行添加到摘要输出中。这些行代表更高级别（或超聚合）的汇总操作

参考[http://dev.mysql.com/doc/refman/5.0/en/group-by-modifiers.html](http://dev.mysql.com/doc/refman/5.0/en/group-by-modifiers.html)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-06T11:14:04.730

问题是您使用的 a`GROUP BY`没有聚合函数。在您当前的查询中，您没有在要汇总的列`sum()`上使用该列。`sec`尝试使用：

```
SELECT 
  coalesce(Shot,'TOTAL') AS Shot
  , sum(sec) Sec
  , min(lay) lay
FROM my_table
where lay='1863'
group by shot with rollup; 
```

请参阅[SQL Fiddle with Demo](http://sqlfiddle.com/#!2/1f61b/37)。

您当前的查询未执行任何聚合，因此最终汇总行不正确。

*   MySQL 文档[`GROUP BY`修饰符](http://dev.mysql.com/doc/refman/5.0/en/group-by-modifiers.html)

您会注意到我将`lay`列放在聚合函数中。这是因为大多数数据库产品不允许将选择列表中的列排除在聚合函数内部或包含在`group by`.

MySQL 允许这样做是因为[对`GROUP BY`](http://dev.mysql.com/doc/refman/5.0/en/group-by-extensions.html).

来自 MySQL 文档：

> MySQL 扩展了 GROUP BY 的使用，以便选择列表可以引用未在 GROUP BY 子句中命名的非聚合列。...您可以使用此功能通过避免不必要的列排序和分组来获得更好的性能。但是，这主要在每个未在 GROUP BY 中命名的非聚合列中的所有值对于每个组都相同时很有用。服务器可以从每个组中自由选择任何值，因此除非它们相同，否则选择的值是不确定的。此外，从每个组中选择值不会受到添加 ORDER BY 子句的影响。在选择了值之后对结果集进行排序，并且 ORDER BY 不会影响服务器选择的值。

编辑：如果要`lay`在最后一行的列中隐藏结果，则可以使用：

```
SELECT 
  coalesce(Shot,'TOTAL') AS Shot
  , sum(sec) Sec
  , case when shot is not null then min(lay) else '' end lay
FROM my_table
where lay='1863'
group by shot with rollup; 
```

请参阅[带有演示的 SQL Fiddle](http://sqlfiddle.com/#!2/1f61b/60)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-06T11:16:35.167

尝试这个

```
 SELECT 
  IFNULL(Shot,'TOTAL') AS Shot
 , sum(sec) as sec
 , lay
 FROM my_table
 where lay='1863'
 group by shot with rollup; 
```

[**在这里演示**](http://sqlfiddle.com/#!2/1f61b/47)

**编辑** 您可能会考虑计算 TOTAL 中有多少行，因为总计也许您还会计算有多少字段。像那样

```
 SELECT 
 IFNULL(Shot,'TOTAL') AS Shot
 , sum(sec) as sec
 , if(Shot is null , count(*) , lay) lay
 FROM my_table
 where lay='1863'
 group by shot with rollup; 
```

[**在这里演示**](http://sqlfiddle.com/#!2/1f61b/76)

如果您想为空，只需替换`count(*)`为`''`

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-03-06T13:35:12.710

对 TOTAL 行使用“lay”列看起来不正确。除了这里是 SQL，它会给你预期的结果：

```
SELECT Shot, sec, lay FROM my_table WHERE lay = '1863'
UNION
SELECT 'TOTAL' AS Shot, SUM(sec), '' AS lay FROM my_table WHERE lay = '1863'; 
```

此外，如果列“Shot”在表中是唯一的，例如，可以使用下一个查询：

```
SELECT t1.Shot, t1.sec, t2.lay FROM
    (
    SELECT IFNULL(Shot, 'TOTAL') AS Shot, SUM(sec) As sec
    FROM my_table
    WHERE lay = '1863'
    GROUP BY Shot WITH ROLLUP
    ) t1
LEFT JOIN my_table t2
ON(t1.Shot = t2.shot); 
```

这是在任何情况下都可以使用的解决方案：

```
SELECT t1.Shot, t1.sec, t1.lay FROM
    (
    SELECT IFNULL(Shot, 'TOTAL') AS Shot, SUM(sec) as sec, lay
    FROM my_table
    WHERE lay = '1863'
    GROUP BY Shot, lay WITH ROLLUP
    ) t1
WHERE t1.lay IS NOT NULL OR t1.Shot = 'TOTAL'; 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2013-03-06T11:15:53.093

GROUP BY 用于聚合，如果你想要秒的总和，你必须要求总和。

```
SELECT
    IFNULL(Shot,'TOTAL') AS Shot
    , sum(sec)
    , max(lay)
    FROM my_table
    WHERE lay='1863'
    GROUP BY shot WITH ROLLUP; 
```

[http://sqlfiddle.com/#!2/1f61b/49](http://sqlfiddle.com/#!2/1f61b/49)

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2013-03-06T11:19:15.260

[以下](http://dev.mysql.com/doc/refman/5.0/en/group-by-functions.html)是按聚合分组的 MySQL 内置函数列表

```
AVG() Return the average value of the argument
BIT_AND() Return bitwise and
BIT_OR()  Return bitwise or
BIT_XOR()(v4.1.1) Return bitwise xor
COUNT(DISTINCT)   Return the count of a number of different values
COUNT()   Return a count of the number of rows returned
GROUP_CONCAT()(v4.1)  Return a concatenated string
MAX() Return the maximum value
MIN() Return the minimum value
STD() Return the population standard deviation
STDDEV_POP()(v5.0.3)  Return the population standard deviation
STDDEV_SAMP()(v5.0.3) Return the sample standard deviation
STDDEV()  Return the population standard deviation
SUM() Return the sum
VAR_POP()(v5.0.3) Return the population standard variance
VAR_SAMP()(v5.0.3)    Return the sample variance
VARIANCE()(v4.1)  Return the population standard variance 
```

我相信你想要 SUM()

尝试

```
SELECT 
IFNULL(Shot,'TOTAL') AS Shot
,SUM(sec) AS sec 
, lay
FROM my_table
where lay='1863'
group by shot with rollup; 
```

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2013-03-06T11:14:37.937

尝试这个 ：：

```
 SELECT     
    Shot,
 sec,
lay   
    FROM my_table
    where lay='1863' and Shot is not null
    group by shot with rollup

    UNION

    SELECT 
   'TOTAL' AS Shot,
 SUM(sec),
 lay
FROM my_table
 where lay='1863'
 group by shot with rollup 
```

# javascript - 如何在另一个类（ClassB）中实例化一个类（ClassA）并将ClassA对象用作JavaScript中ClassB中的属性？

> ID：15245687
> 
> 赞同：0
> 
> 时间：2013-03-06T11:07:02.793
> 
> 标签：javascript

考虑以下代码：

```
function Coord(x, y) {
    this.x = x;
    this.y = y;
}

function Ellipse() {
    this.Text = Text;
    this.Cx = Cx;
    this.Cy = Cy;
    this.Rx = Rx;
    this.Ry = Ry;
} 
```

现在在函数中`Ellipse`而不是 using`Cx`等`Cy`。我想`Coord`为每一对实例化函数以实现如下所示：

```
function Coord(x, y) {
    this.x = x;
    this.y = y;
}

function Ellipse() {
    this.Text = Text;
    Coord C = new C(); // where C has its own properties x and y
    Coord R = new R(); // where R has its own properties x and y
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T11:18:03.880

尝试这个：

```
function Coord(x, y) {
    this.x = x;
    this.y = y;
}

function Ellipse(text, cx, cy, rx, ry) {
    this.text = text;
    var c = new Coord(cx, cy);
    var r = new Coord(rx, ry);
} 
```

我不知道你是怎么想的，`Coord C = new C()`但这是绝对错误的。JavaScript 变量没有类型。

另外，您从哪里得到`Text`, `Cx`,`Cy`等？它们不应该作为参数传递给构造函数吗？

# c - 使用 PCRE 正则表达式的奇怪答案

> ID：15245693
> 
> 赞同：3
> 
> 时间：2013-03-06T11:07:23.690
> 
> 标签：c, regex, pcre

我正在使用 C ( [http://www.pcre.org/](http://www.pcre.org/) ) 中的 PCRE 正则表达式库来解析和匹配我的 HTML 字符串。为了简化我的问题，假设我得到了源字符串：***"aaa: bbbb:"***和我的模式：**a(.*?):|b(.*?):**，符号**?** 表示这是一个非贪婪匹配，所以答案应该是两个匹配：一个是**"aaa:"**另一个是**"bbbb:"**，

然后我编程：

```
char *src = "aaa:  bbbb:";
char *pattern = "a(.*?):|b(.*?):";
pcre *re = NULL;

//---missing out---

re = pcre_compile(pattern,  // pattern,  
                  0,            // options,   
                  &error,       // errptr,   
                  &erroffset,   // erroffset,  
                  NULL);        // tableptr, 
while (
      (rc = pcre_exec(re,     // regex ptr,   
               NULL,          // extra arg,   
               src,           // subject,   
               strlen(src),   // length,   
               0,             // startoffset,   
               0,             // options,   
               ovector,       // ovector,   
               OVECCOUNT)     // ovecsize,   
      )!=PCRE_ERROR_NOMATCH)  
    {
       printf("\nOK, string has matched ...there are %d matchups\n\n",rc); //  
       for (i = 0; i < rc; i++)
       {
            char *substring_start = src + ovector[2*i];
            int substring_length = ovector[2*i+1] - ovector[2*i];
            printf("$%2d: %.*s length: %d\n", i, substring_length, substring_start,substring_length);
       }
       src = src + ovector[1];  // to move the src pointer to the end offset of current matchup
       if (!src) break;
    }
pcre_free(re); 
```

我得到了我的结果：

```
Source : aaa:  bbbb:
Pattern: "a(.*?):|b(.*?):"

OK, string has matched ...there are 2 matches

$ 0: aaa: length: 4
$ 1: aa length: 2 

OK, string has matched ...there are 3 matches

$ 0: bbbb: length: 5
$ 1:  length: 0
$ 2: bbb length: 3 
```

我想知道，我是如何得到答案**"$ 1: length: 0"**的？

//------------------------------------------------ --------------------------------------

@Jonathan Leffler 我认为您的回答是正确的。

刚才我试过

```
Source: "aaa: bbb: ccc:"
Pattern: "c(.+?):|a(.+?):|b(.+?):" 
```

得到的结果是这样的：

```
$ 0: aaa: length: 4
$ 1:  length: 0
$ 2: aa length: 2

$ 0: bbbb: length: 5
$ 1:  length: 0
$ 2:  length: 0
$ 3: bbb length: 3

$ 0: cccc: length: 5
$ 1: ccc length: 3 
```

这反过来证明了你的答案：

当找到匹配时，正则表达式的捕获停止，因此在尝试 match 后被`aaa:`捕获，结果的第一行显示整个字符串，#2 显示与替代匹配的结果偏移量`a(.+?):``c(.+?):``c(.+?):`

对于 b(.+?)，它最终在正则表达式中被捕获，这解释了两者`length : 0`

对于 c(.+?)，它首先被捕获，所以没有`length : 0`

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T14:19:07.623

正则表达式中有两个捕获，每个替代项中都有一个。但是，捕获是从左到右编号的。在第二种情况下，第一个 ( `$1`) 捕获是空的；它匹配的内容中没有`a`'，所以第一个捕获是空的；第二个 ( `$2`) 捕获包含`b`您期望的 '。

更令人惊讶的是，在第一次匹配时没有为第二次捕获指定任何内容。我猜如果没有数据，捕获是空的。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T12:28:50.453

尝试使用模式`char *pattern = "a+?:|b+?:";`

**编辑**注意到这`"a+:|b+:"`也可以。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-06T14:27:28.650

图案：

```
a(.*?): 
```

此模式意味着查找未捕获的“a”，然后捕获任意数量的任何内容，修改为返回最小的匹配模式，然后是未捕获的“：”。

如果考虑字符串：

```
aaa: 
```

现在想想冒号前的最后一个“a”：

```
a: 
```

它匹配模式 - 一个“a”，后跟无，后跟一个冒号。“什么都没有”被捕获，这就是为什么你得到一个零长度的结果。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-06T12:13:41.220

A`*`表示任意数量的字符，包括零。这意味着它匹配“无”。应该使用一个`+`字符来代替，它表示“至少匹配 1”。

# java - j2me 中的时：分：秒格式

> ID：15245696
> 
> 赞同：0
> 
> 时间：2013-03-06T11:07:31.590
> 
> 标签：java, java-me, lwuit

我试图创建一个方法，该方法返回一个字符串，该字符串在 j2me 或 lwuit 框架中以小时：分钟：秒格式表示当前时间。

如果我使用以下代码，输出将是：

`Wed Mar 06 13:55:45 GMT+03:00 2013`（只有我需要`13:55:45`）

```
public String   Refresh() {
    java.util.Date t = new java.util.Date(System.currentTimeMillis() );
    String tt = t.toString();
    return tt;
} 
```

如果我使用下面的代码刷新方法总是返回 `3:0:0`！！！

```
java.util.Calendar calendar;
public String   Refresh() {
     calendar = calendar.getInstance();
     StringBuffer time = new StringBuffer();
     time.append(calendar.get(java.util.Calendar.HOUR_OF_DAY)).append(':');
     time.append(calendar.get(java.util.Calendar.MINUTE)).append(':');
     time.append(calendar.get(java.util.Calendar.SECOND));
     String tt = time.toString();
     return tt;
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T11:24:25.090

```
Calendar calendar = Calendar.getInstance();
Date myDate = new Date(); // May be your date too.
calendar.setTime(myDate); 
```

我认为这会奏效。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T11:53:32.260

**谢天谢地， Rj** 解决了我的问题。

所以完整的代码将是

```
public String   Refresh()
    {

    calendar = calendar.getInstance();
    Date myDate = new Date();  
calendar.setTime(myDate);
     StringBuffer time = new StringBuffer();
     time.append(calendar.get(java.util.Calendar.HOUR_OF_DAY)).append(':');
     time.append(calendar.get(java.util.Calendar.MINUTE)).append(':');
     time.append(calendar.get(java.util.Calendar.SECOND));
     String tt = time.toString();
     return tt;

} 
```

# image - 调整使用 GWT 文件上传上传的图像大小

> ID：15245698
> 
> 赞同：0
> 
> 时间：2013-03-06T11:07:32.130
> 
> 标签：image, gwt, resize

我有一个移动应用程序，用户可以在其中上传 JPG，但我想在将图像发送到我的 GAE blobstore 之前限制图像的大小。我不想强迫用户调整他们想要上传的图像的大小，而只是动态地做。有人有办法做到这一点而不会扭曲图像吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T11:36:39.467

如果我是正确的 blobstores 最大文件大小约为 2Gb。您可以在一次 GAE blobstore 服务请求中发送大约 1Mb 的数据。

有一个名为[AppImage](https://github.com/benjaminpearson/gae-web-services/blob/master/README)的应用程序将文件分成更小的部分。有关更多信息，请单击以下链接

[Google App Engine 的大图像大小调整](http://developinginthedark.com/posts/large-image-resizing-for-google-app-engine)

***这只是一个想法：***你为什么要通过 GAE 上传它，因为你可以直接将它上传到 blobstore，除非它**大于 2Gb ！！！**

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T11:24:53.697

没有直接的方法可以做到这一点，gwt 中还没有第三方库。

## 选项1

您可以尝试的最好的方法是使用 html5 apis 上的 GWT 包装器。您可以在另一个 stackoverflow 问题上跟踪此问题[Image resizing client-side with javascript before upload to server](https://stackoverflow.com/questions/2434458/image-resizing-client-side-with-javascript-before-upload-to-the-server)

## 选项 2

在推送到 GAE blobstore 之前在服务器端上传和处理。

# java - 用零填充的 AudioRecord 缓冲区

> ID：15245699
> 
> 赞同：0
> 
> 时间：2013-03-06T11:07:37.843
> 
> 标签：java, android, audiorecord

为什么`audioData` `short[]`我在下面的代码中创建的缓冲区填充了`0`每个

```
samplesIn += mRecordInstance.read(audioData, samplesIn, bufferSize - samplesIn); 
```

?

缓冲区 ( `audioData.length`) 的大小不是零，这意味着缓冲区不是空的，它只是用零填充。

我尝试将其更改`FREQUENCY`为`8000`-> 没有更改。

我正在实现 Echoprint 库 -如果您需要，请[参阅此以获取更多信息。](https://github.com/gvsumasl/EchoprintForAndroid)

`audioData`来自 LogCat 的缓冲区被零填充的证明：

![](../Images/091bd9a4657cda3606c2aea3770be239.png)

```
// ...
public final static int LISTENING_PASS_TIME = 20;
// cap to 30 seconds max, 10 seconds min.
public final static int MAX_LISTENING_PASS_TIME = 30;
public final static int MIN_LISTENING_PASS_TIME = 10;

private final int FREQUENCY = 11025;
private final int CHANNEL = AudioFormat.CHANNEL_IN_MONO;
private final int ENCODING = AudioFormat.ENCODING_PCM_16BIT;    

private Thread thread;
private volatile boolean isRunning = false;
AudioRecord mRecordInstance = null;

private short audioData[];
private int bufferSize; 
private int secondsToRecord;
private volatile boolean continuous;

public void stop() {
    this.continuous = false;
    if (mRecordInstance != null)
        mRecordInstance.stop();     
}

public void run() {
    this.isRunning = true;
    try {
        // create the audio buffer & get the minimum buffer size
        int minBufferSize = AudioRecord.getMinBufferSize(FREQUENCY,
                CHANNEL, ENCODING);
        Log.d("Fingerprinter", "minBufferSize: " + minBufferSize);

        // and the actual buffer size for the audio to record frequency *
        // seconds to record.
        bufferSize = Math.max(minBufferSize, this.FREQUENCY
                * this.secondsToRecord);
        Log.d("Fingerprinter", "bufferSize: " + bufferSize);

        audioData = new short[bufferSize];

        // start recorder
        mRecordInstance = new AudioRecord(MediaRecorder.AudioSource.MIC,
                FREQUENCY, CHANNEL, ENCODING, minBufferSize);

        // start recording
        willStartListening();

        mRecordInstance.startRecording();
        boolean firstRun = true;
        do {
            try {
                willStartListeningPass();

                long time = System.currentTimeMillis();
                // fill audio buffer with mic data.
                int samplesIn = 0;
                do {
                    samplesIn += mRecordInstance.read(audioData, samplesIn,
                            bufferSize - samplesIn);

                    if (mRecordInstance.getRecordingState() == AudioRecord.RECORDSTATE_STOPPED)
                        break;
                } while (samplesIn < bufferSize);
                Log.d("Fingerprinter",
                        "Audio recorded: "
                                + (System.currentTimeMillis() - time)
                                + " millis");

                // see if the process was stopped.
                if (mRecordInstance.getRecordingState() == AudioRecord.RECORDSTATE_STOPPED
                        || (!firstRun && !this.continuous))
                    break;

                // debugging: print audioData short[]
                Log.d("Fingerprinter", "Audio Data Content:");

                // String audioDataContent = "";
                for (int i = 100; i < 110; i++) {
                    // audioDataContent = i + ":" + audioData[i];
                    Log.d("Fingerprinter", i + ":" + audioData[i]);
                }

                Log.d("Fingerprinter", "samplesIn: " + samplesIn);

                firstRun = false;

                didFinishListeningPass();
            } catch (Exception e) {
                e.printStackTrace();
                Log.e("Fingerprinter", e.getLocalizedMessage());

                didFailWithException(e);
            }
        } while (this.continuous);
    } catch (Exception e) {
        e.printStackTrace();
        Log.e("Fingerprinter", e.getLocalizedMessage());

        didFailWithException(e);
    }

    if (mRecordInstance != null) {
        mRecordInstance.stop();
        mRecordInstance.release();
        mRecordInstance = null;
    }
    this.isRunning = false;

    didFinishListening();
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-10T19:11:46.687

我发现我确实记录了一些数据——只是我选择显示的部分只记录了`zeros`。`audioData`我通过汇总数组中的所有条目并将其除以数组中的条目数来证明这一点。结果是`-3.455619047619048`。

# sftp - 'sftp' 未被识别为内部或外部命令，

> ID：15245703
> 
> 赞同：0
> 
> 时间：2013-03-06T11:07:45.407
> 
> 标签：sftp

我需要使用 windows 命令提示符将文件从本地桌面传输到远程 unix 服务器。为此，我正在使用`sftp`连接到服务器。我使用了命令

```
sftp Taps@122.123.124.125 
```

但是我得到的错误是

> 'sftp' 未被识别为内部或外部命令...

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T11:13:31.500

看起来您需要将放置“sftp”的文件夹添加到 PATH 环境变量中。

# javascript - BST 机器上的 Javascript GMT/BST 日期

> ID：15245704
> 
> 赞同：2
> 
> 时间：2013-03-06T11:07:46.840
> 
> 标签：javascript, date, datetime, timezone, timezone-offset

我有一个始终将日期存储为 UTC 的网络应用程序，但它们需要分别以 GMT/BST 的形式向用户显示。

我有一个 UTC/GMT 日期（2013 年 3 月 30 日 22:00），我每小时移动一次以跨越 GMT/BST 边界。我正在使用该`setTime()`方法操纵日期。

所以，我输入的时间戳、显示时间、UTC时间如下：

*   1364808000 - 22:00 GMT+0000 - 22:00
*   1364685500 - 23:00 GMT+0000 - 23:00
*   1364688000 - 00:00 GMT+0000 - 00:00
*   1364691600 - 02:00 GMT+0100 - 01:00
*   1364695200 - 03:00 GMT+0100 - 02:00
*   1364698800 - 格林威治标准时间 04:00+0100 - 03:00

当机器处于 GMT 时，它输出：

*   1364808000 - 22:00 GMT+0000 - 22:00
*   1364685500 - 23:00 GMT+0000 - 23:00
*   1364688000 - 00:00 GMT+0000 - 00:00
*   1364691600 - 02:00 GMT+0100 - 01:00
*   1364695200 - 03:00 GMT+0100 - 02:00
*   1364698800 - 格林威治标准时间 04:00+0100 - 03:00

当机器处于 BST 时，它输出：

*   1364808000 - 22:00 GMT+0000 - 22:00
*   1364685500 - 23:00 GMT+0000 - 23:00
*   1364688000 - 00:00 GMT+0000 - 00:00
*   1364691600 - 00:00 GMT+0000 - 01:00
*   1364695200 - 格林威治标准时间 02:00+0100 - 02:00
*   1364698800 - 03:00 GMT+0100 - 03:00

现在，在我看来，最后 3 个日期是不正确的。

有任何想法吗？

这是一个小提琴：http: [//jsfiddle.net/twilson/WRbyh/](http://jsfiddle.net/twilson/WRbyh/)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T11:33:01.067

事实证明，机器在 BST 时间时未配置为自动更改时区以匹配日期。

结果在 4 月 6 日，它仍然被列为**GMT Standard Time**，而不是**GMT Daylight Time**。

勾选 Automaticlly change 选项，修复了这个问题。

# ruby-on-rails - Rails 在两台服务器上部署asset_sync：第二台服务器上的资产不可用

> ID：15245705
> 
> 赞同：2
> 
> 时间：2013-03-06T11:07:47.577
> 
> 标签：ruby-on-rails, deployment, capistrano, asset-pipeline

我正在尝试在两个不同的服务器上部署一个 rails 3.2.12 应用程序，在一个 nginx 驱动的负载均衡器后面。

我正在使用asset_sync 将资产部署到S3 和Capistrano。

部署完成后，在第一台服务器上一切正常，但在第二台服务器上出现以下错误：

```
A ActionView::Template::Error occurred in home#index:

  application.css isn't precompiled
  actionpack (3.2.12) lib/sprockets/helpers/rails_helper.rb:142:in `digest_for' 
```

我注意到在部署期间，deploy:assets:precompile 仅在第一台服务器上执行。但这对我来说似乎是预期的。

我错过了什么吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-06T17:07:48.807

我弄清楚我的愚蠢错误是什么。我只列出了 web 角色中的两台服务器。

```
role :web, "server1"
role :app, "server1", "server2" 
```

当我宣布两台服务器时，它运行良好。

```
role :web, "server1", "server2"
role :app, "server1", "server2" 
```

# actionscript-3 - 通过使用 flex 4.5 指定数据网格中的数字来过滤行

> ID：15245711
> 
> 赞同：0
> 
> 时间：2013-03-06T11:08:00.427
> 
> 标签：actionscript-3, apache-flex, flex4.5

我正在使用 flex builder 4.5。一个数据网格显示 20 行。我想在数据网格标题中显示指定的行数。有可能吗？有人可以就此提出建议吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T12:56:03.383

这可以通过将字符串绑定到网格列的 headerText 属性来完成。

它看起来像

```
<fx:Script>
    <![CDATA[
    [Bindable]
    private var _personString:String = "";

    /*change this variable's value will change the value of Header Named 
    "fullNameColumn".if you want to make some default value then assign 
    some default value to this _perosnString varialbe.*/

]]>
</fx:Script>

<s:DataGrid id="personsDataGrid"
            width="100%"
            height="100%"
            selectedIndex="0">

    <s:columns>

        <s:ArrayList>

            <s:GridColumn id="fullNameColumn"
                          dataField="YOUR_FNAME_DATAFIELD"
                          headerText="{ _personString.toUpperCase() } NAME"
                          minWidth="100"
                          maxWidth="250" />

            <s:GridColumn headerText="PHONE"
                          dataField="YOUR_EMAIL_DATAFIELD"
                          minWidth="150"
                          maxWidth="250" />

            <s:GridColumn headerText="EMAIL"
                          dataField="YOUR_EMAIL_DATAFIELD"
                          minWidth="150"
                          maxWidth="250" />
        </s:ArrayList>
    </s:columns>
</s:DataGrid> 
```

愿这对你有帮助！！！

# jquery - Jquery从嵌套数组中选择值

> ID：15245713
> 
> 赞同：1
> 
> 时间：2013-03-06T11:08:06.880
> 
> 标签：jquery, arrays, getjson

我需要从嵌套数组中选择值，这是我的代码，

```
<!DOCTYPE html>
<html>
<head>
<script src="jquery.js">
</script>
<script>
$(document).ready(function(){
    $.getJSON('userdetails.json', function(data) {
        $.each(data, function(i,obj){
            $("#placeholder").append('<p>'+obj.firstName+","+obj.lastName+'</p>');
        });
    });
});
</script>
</head>
<body>
<div id="placeholder">
<p>line1</p>
<p>line2</p>
</div>
</body>
</html> 
```

这是我的 userdetails.json

```
{"users":[
    {
        "firstName":"user1",
        "lastName":"lastname1",
        "joined": {
            "month":"January",
            "day":12,
            "year":2012
        }
    },
    {
        "firstName":"user2",
        "lastName":"lastname2",
        "joined": {
            "month":"April",
            "day":28,
            "year":2010
        }
    }
]} 
```

输出：

```
line1
line2
undefined,undefined 
```

这是我得到的输出，但我需要显示名字和姓氏。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T11:12:11.213

您需要传递`data.users`而不是传递`data`给每个函数。Data 是一个已`array`命名的对象`users`，您可能希望对其进行迭代。

**[现场演示](http://jsfiddle.net/9F3EK/)**

```
$.each(data.users, function (i, obj) {
    $("#placeholder").append('<p>' + obj.firstName + "," + obj.lastName + '</p>');
}); 
```

# debugging - 当 Fiddler 可以解密时为什么要使用 HTTPS

> ID：15245718
> 
> 赞同：34
> 
> 时间：2013-03-06T11:08:15.097
> 
> 标签：debugging, networking, encryption, https, fiddler

我刚刚发现 Fiddler 可以解密 HTTPS 流量。

例如，我使用 HTTPS 在 localhost 上部署了一个网站。在 Fiddler 中检查数据包时，我能够查看所有信息，因为它具有解密的选项。

我的问题是，既然 Fiddler 可以轻松解密，为什么还要使用 HTTPS？

* * *

## 回答 #1

> 赞同：34
> 
> 时间：2013-03-06T11:14:00.050

提琴手执行一项`MITM`技术。

要使其工作，您需要信任其证书：

[http://www.fiddler2.com/fiddler/help/httpsdecryption.asp](http://www.fiddler2.com/fiddler/help/httpsdecryption.asp)

如果你不这样做，它不会解密任何东西......

> **Fiddler2 如何调试 HTTPS 流量**？
> 
> 答：Fiddler2 依赖于“中间人”的 HTTPS 拦截方法。对于您的网络浏览器，Fiddler2 声称是安全的网络服务器，而对于网络服务器，Fiddler2 模仿网络浏览器。Fiddler2为了伪装成web服务器，动态生成HTTPS证书。
> 
> 您的网络浏览器不信任 Fiddler 的证书（因为 Fiddler 不是受信任的根证书颁发机构），因此当 Fiddler2 拦截您的流量时，您会在浏览器中看到 HTTPS 错误消息 [...]

* * *

## 回答 #2

> 赞同：15
> 
> 时间：2014-10-30T09:54:15.730

为了解密 HTTPS 流量，您必须首先将 Fiddler 的根证书安装到您的“受信任/根证书”列表中。Fiddler 的根证书*不是*您的操作系统默认附带的根证书。当您尝试安装它时，操作系统通常会警告您。

在这样做时，您明确地开始信任由 Fiddler 的根证书签名的任何证书。当您现在发出 https 请求时，Fiddler 将与您一起执行中间人攻击。

[假设您以https://google.com](https://google.com)的形式提出请求。Fiddler 现在将充当实际的 Google 服务器，并将为 Google.com 创建一个虚拟证书并使用 Fiddler 的根证书对其进行签名。您将收到这个由 Fiddler 签名的*虚拟证书。*此证书将通过您设备的验证，因为 Fiddler 的根证书现在位于您的受信任证书中。现在，您的设备将开始通过安全的 HTTPS 连接与 Fiddler 通信。Fiddler 会将您的消息转发到 Google.com 并返回给您。当然 Fiddler 将能够解密它们。

请注意，从 Fiddler 到 Google 的流量将通过第二个安全 https 通道发生。

因此，不用担心 https 提供的安全性。

# jquery - 使用 Jquery 获取 JSON 时出错

> ID：15245720
> 
> 赞同：2
> 
> 时间：2013-03-06T11:08:20.700
> 
> 标签：jquery, ajax, json

我正在做一个学术项目。有一个 JAVA 后端可以在另一台服务器上为我创建 JSON 响应。JSON 是完美的，我可以从任何其他节点的浏览器中看到它。

我的工作是解析这个 JSON 并以 HTML 格式显示。

这是我正在使用的一段代码：

```
 function sendQueryToBackend () {
    var strURL = "http://10.2.4.234:8080/RestSimpleApp/rest/BingSearch?q=india&callback"; // this is not my system
    alert("Searching...MAIN");
    $.ajax({
        url:strURL,
        async:false,
        type:"GET",
        success: function(result)
           {
                alert("It works!" ); // This alert never comes up
           }
    });
} 
```

在函数中，我只想看看它是否接收到数据。这个警报永远不会出现。

但是，如果我使用具有相同 JSON 格式的本地文件，它可以完美运行，我可以将其解析为我希望的显示。我哪里错了？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T11:13:51.720

对我来说，这听起来像是一个跨域资源共享问题。

如果资源使用 cookie，您需要将其添加到 ajax 调用中：

```
'xhrFields': {'withCredentials': true}, 
```

您还应该检查资源是否具有适当的`Access-Control-Allow-Origin: *`标头，并且它可能还需要`Access-Control-Allow-Headers: Content-Type`. 由于这不是您的脚本，因此项目制作者应在必要时对其进行修复。

最后，如果涉及重定向（即在显示内容之前在地址栏中键入该 URL 会重定向到另一个，即使只是更改大小写），您需要将 URL 更改为*最终*URL。

# c++ - 在 CUDA 内核 memcpy 调用中使用 array[i][j]

> ID：15245723
> 
> 赞同：0
> 
> 时间：2013-03-06T11:08:24.780
> 
> 标签：c++, memory-management, cuda, parallel-processing, gpu

我有一个具有以下设计的数组：`color[100][3]`. 我想在内核中填充这个数组，然后在主机代码中使用它。我怎样才能做到这一点？我只需要`cudaMemcpy()`调用发送和获取。

这是我必须发送到设备的内容：

```
err = cudaMallocPitch(&d_color, &pitch, 3 * sizeof(unsigned char),100); 
```

这就是我现在必须从设备中获取的内容（已编辑）：

```
err = cudaMemcpy2D(color,100*3,d_color,pitch,3 *sizeof(unsigned char),3, cudaMemcpyDeviceToHost); 
```

cudaMemcpy2D 的最后一次调用会引发以下错误：

> “无效的论点”

如何获得`color[100][3]`阵列的间距？我应该假设它是`3+1`填充的吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T11:30:19.160

```
err = cudaMemcpy2D(
        color, 
        pitch, 
        d_color, 
        sizeof(unsigned char) * 100 * 3, // <<< WRONG - source pitch, not it's size!
        3 * sizeof(unsigned char), 
        100 * sizeof(unsigned char), // <<< Shouldn't it be number of rows, not column size in bytes?
        cudaMemcpyDeviceToHost
        ); 
```

顺便说一句 - 使用 uchar3 类型会不会更容易？

# android - 将本地资源加载到浏览器中（而不是加载到 WebView 中）

> ID：15245730
> 
> 赞同：2
> 
> 时间：2013-03-06T11:09:00.753
> 
> 标签：android, uri, android-contentprovider, assets

我的问题是我需要将项目中的 HTML 文件加载到浏览器中。

对于应用程序的详细信息，我不能：

*   复制 SD 卡中的资产，因为在需要读取文件时可以将其卸载。
*   在应用程序中使用 a `WebView`。它必须是浏览器。

到目前为止，我的方法是尝试使用`ContentProvider`. 我一直在关注本[教程](http://helpmeco.de/2012/2/serving-android-webview-resources-with-content-providers)。在这种方法中，我的主要问题是如何传递给浏览器`Uri`并调用我的`ContentProvider`.

我试图像这样向浏览器发送一个意图：

```
Uri uri = Uri.parse( "content://myprovider_authority/my_file.html" ):
intent.setData(uri);
startActivity(intent); 
```

但是库存的 Android 浏览器不理解 URI，并尝试在 Google 中搜索 URI。

有谁知道我应该如何将它传递`Uri`给浏览器，以便我收到一个请求`ContentProvider`？

* * *

**解决方案说明：**

@gimix 解决方案对我有用，即使该方法不使用`ContentProvider`. 我解释一下。

他提出的是向浏览器发送一个数据`URI`方案。这意味着将我们的本地`HTML`资产文件编码为`Base64`并使用`Intent`. 浏览器将解释该数据并呈现结果。一些代码将有助于理解它：

```
String html = "";
try {
    InputStream is = mContext.getAssets().open( "my_file.html" );
    int size = is.available();
    byte[] buffer = new byte[size];
    is.read(buffer);
    is.close();
    html = new String(buffer);
} 
catch (IOException e) {
    e.printStackTrace();
}

intent.setData( Uri.parse( "data:text/html;charset=utf-8;base64," + Base64.encodeToString( html.getBytes(), Base64.NO_WRAP )));
startActivity(intent); 
```

这里棘手的是`HTML`. 对于那些您有两个选择的人，对这些图像进行编码并将实际编码放在`HTML`编码中或参考 Web 图像（因此您不需要进行任何其他编码）。

我`HTML`的很简单，而且我使用了网络图像，所以这对我来说完全有用。

（不确定是否所有浏览器都支持数据方案）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T11:18:39.430

Android 浏览器支持[数据 URI 方案](http://en.wikipedia.org/wiki/Data_URI_scheme)

按照 Wikipedia 示例，您可以使用以下 URL 显示带有文本“42”的 HTML 页面：

```
data:text/html;charset=utf-8,%3C!DOCTYPE%20html%3E%3Chtml%20lang%3D%22en%22%3E%3Chead%3E%3Ctitle%3EEmbedded%20Window%3C%2Ftitle%3E%3C%2Fhead%3E%3Cbody%3E%3Ch1%3E42%3C%2Fh1%3E%3C%2Fbody%3E%3C%2Fhtml%3E 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T11:41:23.000

我认为您不能让默认浏览器直接与您的`ContentProvider`. 该[文档](http://developer.android.com/reference/android/provider/Browser.html)没有公开任何您想要的方法。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-15T09:45:57.513

根据具体情况，甚至还有另一种可能有效的解决方案。实现一个本地 HTTP 服务器，为浏览器提供项目资产。

为此，您需要确保在浏览器请求文件时本地服务器正在运行。如果您的应用程序是向浏览器发送意图的应用程序，这应该不是问题。

还要动态选择一个端口以避免打开一个已经在使用的端口。

我尝试将这个开源项目[NanoHTTPD](http://elonen.iki.fi/code/nanohttpd/)用于 HTTP 服务器。没过多久我就让它像魅力一样发挥作用。

# internationalization - 我们可以在不重新启动java进程的情况下为java进程设置java进程语言环境（-Djava.util.locale=es_ES）吗

> ID：15245731
> 
> 赞同：0
> 
> 时间：2013-03-06T11:09:05.513
> 
> 标签：internationalization

我需要支持国际化，因此用户将选择必须应用于服务器进程和操作系统的不同语言。我们正在使用 CentOS

我们可以在不重新启动java进程的情况下设置java语言环境吗？请提供设置。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T16:53:57.533

如果您需要支持国际化，则不应在 JVM 级别分配 Locale。因此，您不应使用`-Duser.language`nor `-Duser.country`。您也不应该在代码中使用指定区域设置`Locale.setDefault()`- 这还将设置 JVM 范围的区域设置（这将影响***所有***正在运行的 Java 应用程序）。

目前尚不清楚，你在追求什么，但我个人觉得你的问题有些误解。

如果您想支持 I18n，您需要做的是*检测*Locale 并选择性地跟踪它们。根据应用程序和环境的类型，它可能非常简单（`Locale.getDefault(Locale.Category.FORMAT)`在桌面应用程序中（***仅***））或非常复杂（从请求上下文中读取 Locale 并将其存储为会话变量，以防 Web 应用程序）。
如您所见，不需要分配默认语言环境，它应该留给 JVM 启动代码。

# javascript - 如何减慢动画速度？

> ID：15245734
> 
> 赞同：3
> 
> 时间：2013-03-06T11:09:12.067
> 
> 标签：javascript, html, canvas

我有动画矩形[jsFiddle Demo](http://jsfiddle.net/kHvaX/)

如何减慢动画并使其更稳定？

我尝试使用循环延迟，但延迟循环和 requestAnimationFrame 之间存在冲突

我不想更改参数`window.setTimeout(f, 1e3 / 60);`

因为有更多的代码块需要良好的偏好。

非常感谢。

***循环延迟：***

```
for (i = 0; i < 10; i++) {
        (function (i) {
            window.setTimeout(function () {}, i * 2000);
        }(i));
    } 
```

***我的代码：***

```
var canvas = document.getElementById('c');
var ctx = canvas.getContext('2d');
var my_gradient = ctx.createLinearGradient(0, 0, 0, 300);

    window.requestAnimationFrame = function() {
    return window.requestAnimationFrame ||
      window.webkitRequestAnimationFrame ||
      window.mozRequestAnimationFrame ||
      window.msRequestAnimationFrame ||
      window.oRequestAnimationFrame ||
      function(f) {
        window.setTimeout(f,1e3/60);
      }
  }();

  window.cancelAnimationFrame = function() {
    return window.cancelAnimationFrame ||
      window.webkitCancelAnimationFrame ||
      window.mozCancelAnimationFrame ||
      window.msCancelAnimationFrame ||
      window.oCancelAnimationFrame ||
      function(f) {
        window.setTimeout(f,1e3/60);
      }
  }();  
var randompos = {};
RandomPosition();

function DrawBackround() {
    ctx.globalAlpha = 1;
    ctx.clearRect(0, 0, 200, 200);
    my_gradient.addColorStop(0, '#002EB8');
    my_gradient.addColorStop(1, '#4D6DCD');
    ctx.fillStyle = my_gradient;
    ctx.fillRect(0, 0, 200, 200);
}

function get_random_color() {
    var letters = '0123456789ABCDEF'.split('');
    var color = '#';
    for (var i = 0; i < 6; i++) {
        color += letters[Math.round(Math.random() * 15)];
    }
    return color;
}

function RandomPosition() {
    DrawBackround();
    ctx.globalAlpha = 0.5;
    var dt = 10;
    for (i = 0; i < 3; i++) {
        n = Math.floor(Math.random() * 8) + 1;
        switch (n) {
            case 1:
                randompos.x = 0;
                randompos.y = dt; //12
                break;
            case 2:
                randompos.x = dt;
                randompos.y = dt; //1
                break;
            case 3:
                randompos.x = dt;
                randompos.y = 0; //3
                break;
            case 4:
                randompos.x = dt;
                randompos.y = -dt; //4
                break;
            case 5:
                randompos.x = 0;
                randompos.y = -dt; //6
                break;
            case 6:
                randompos.x = -dt;
                randompos.y = -dt;
                break;
            case 7:
                randompos.x = -dt;
                randompos.y = 0;
                break;
            case 8:
                randompos.x = -dt;
                randompos.y = dt;
                break;
            default:
        }
        ctx.fillStyle = get_random_color();
        ctx.fillRect(randompos.x + 50, randompos.y + 50, 100, 100);
    }
    window.requestAnimationFrame(RandomPosition);

    for (i = 0; i < 10; i++) {
        (function (i) {
            window.setTimeout(function () {}, i * 2000);
        }(i));
    }
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-07T17:02:57.523

减慢特定功能的一种选择是使其仅每 X 帧运行一次，

将您的 RandomPosition() 编辑为这样的内容，使其每 10 帧运行一次：

```
var counter=0;
function RandomPosition() {
    if(++counter % 10){
        window.requestAnimationFrame(RandomPosition);
        return false;
    } 
```

[http://jsfiddle.net/jaibuu/kHvaX/1/](http://jsfiddle.net/jaibuu/kHvaX/1/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T11:11:34.637

用这个：

```
setInterval(code, milliseconds); 
```

它返回一个您需要保存的数字，以便您可以停止代码。所以我们可以写：

```
 var interval = setInterval(function() {
     clock();
     x++;
     if (x > 90) clearInterval(interval);
 }, 30); 
```

这将创建一个每 30 毫秒发生一次的函数。

每 30 毫秒，clock() 被调用一次，x 递增，如果 x 大于 90，我们调用 clearInterval 并传入我们调用 setInterval 返回的数字。这可以确保代码打开总共发生 90 次。

# java - Java 访问者的重构选项

> ID：15245737
> 
> 赞同：1
> 
> 时间：2013-03-06T11:09:16.980
> 
> 标签：java, oop, design-patterns, refactoring

我有一个类，它定义了从 AST（抽象语法树）到基于访问者模式的中间表示（IR）的转换。这两个模型都是 EMF 模型，因此访问者扩展了 AST 模型的抽象 EMF Switch 类（我使用 Xtext 来定义 AST）。访问者有一个状态，作为它正在构建的 IR 的一些私有字段（局部变量的映射、正在翻译的当前过程、要添加指令的块列表等）。

访问者为 AST 的所有构造实现方法，因此从 caseExpressionInteger 到 caseStatementIf，总共有 21 个公共“case”方法。我也有 22 个私有方法，除了几个只是助手的方法之外，其中大多数都与状态一起工作。

我现在发现代码变得太长了，我想重构它以使其更易于管理（例如，通过更小的类）。我的问题是我有什么选择？

这是我的想法：

*   让几个类相互扩展，每个类添加访问者某些方法的实现
*   有几个独立的类，以及一个委托给这些类的“主”类，将状态传递给一个单独的类
*   混合两种方法（一些委托，一些继承）

你看到另一种方式吗？您认为什么最好（更容易实施/维护）？我相信这是许多人必须遇到的问题，因为“访客”是一种很常见的模式。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-06T14:52:31.577

根据您的描述，Visitor 类似乎很有凝聚力（这很好:)）。我唯一可以建议的是将翻译逻辑移至 IR[构建器](http://www.oodesign.com/builder-pattern.html)，并成为将命令发送到构建器的访问者（即主管角色）。在这种情况下，构建器将拥有内部状态，从而利用访问者的负担。

也许我遗漏了一些东西，但我不知道子类化如何适合这里来实现你的目的，所以我肯定会去委托。

高温高压

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-06T11:38:47.387

> 一些私有字段（访问者修改/用于完成其工作的状态）。

听起来像是另一个类，一些工作将被委派给它。

一般来说，您最好寻找授权的机会。

这并不是特别针对访问者模式的存在，如果问题中没有更多细节，我们真的无法给出非常完整的答案。

# jquery - 工具提示：Json 内容加载

> ID：15245749
> 
> 赞同：1
> 
> 时间：2013-03-06T11:10:01.513
> 
> 标签：jquery, json, tooltip

我想显示一个工具提示，其中包含从 json 文件加载的内容。我正在使用[工具提示](https://github.com/briancray/tooltipsy)插件。

工具提示必须显示信息的元素被赋予一个带有数字的 REL。

```
<span class="question hastip" rel="1"> 
```

这个数字将代表 json 对象中的元素

```
{
"users" : [ 
    {
        "name"   : "John",
        "functie" : "Frontend webdev"
    },
    {
        "name"   : "Doe", 
        "functie" : "backend webdev"
    }
] 
```

}

这是我调用onready的代码：

```
 $('.hastip').tooltipsy({
    showEvent: 'click',
    hideEvent: 'click',

    content: function ($el, $tip) {
        var $el = $(this);
        var active_tooltip = $el.attr('rel');

        $.getJSON('/Scripts/test.js', function (data) {

            $tip.html(function() {
              var title = data.users[active_tooltip].name;
              var mtext = data.users[active_tooltip].functie;
              return '<div>' + title + mtext +  '</div>';
            });
        });
        return 'Fallback content';
    },

}); 
```

显然我无法修复它，有什么帮助吗？我创建了一个[jsFiddle](http://jsfiddle.net/pwavg/S97Sp/)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T12:55:44.443

试试这个

```
.....
content: function ($el, $tip) {
   // var $el = $(this); //no need ,$el is given by the $el in content options.
    var active_tooltip = $el.attr('rel');

    $.getJSON('/Scripts/test.js', function (data) {

        $tip.html(function() {
          var title = data.users[active_tooltip].name;
          var mtext = data.users[active_tooltip].functie;
          return '<div>' + title + mtext +  '</div>';
        });
    });
    return 'Fallback content';
},
.... 
```

[在这里摆弄](http://jsfiddle.net/bipen/S97Sp/4/)..检查控制台...

# c++ - 使用关系模型（键）来引用其他对象，好主意还是坏主意？

> ID：15245750
> 
> 赞同：2
> 
> 时间：2013-03-06T11:10:02.447
> 
> 标签：c++, reference, coding-style, relational-database, idioms

在我之前的工作中，大部分程序处理依赖于存储在数据库中的持久数据。

所以DB数据模型主导了运行时程序的数据结构。因此，我们使用主键值作为对其他对象的引用非常方便。

**例如 ：**

1 - 考虑到我们有一家公司通过互联网向客户销售书籍等商品。我们有三个类：Book、Order 和 Customer。

*   Book 类包含有关书籍的不同信息以及唯一标识符，例如 ISBN 号。

*   客户类包含公司需要知道的所有数据（通常还有更多），以便将书籍运送给他们的客户，例如电子邮件地址。客户对象还有一个唯一的持久 id 来识别它们。

*   因此 Order 类包含两个关系引用`int isbn;`（书籍 ID）和 `int customer_id;`

    在本示例中，订单类方法不需要访问客户数据或书籍数据，因此订单类不需要依赖它们。

2 - 如果我们现在考虑另一个用于编写和发送订单确认电子邮件的类：

```
class OrderMailer
{
   // Customer index
   std::map<int, Customer *> customers;
...
   // we have a function that send email with low level parameters
   void sendEmail(const std::string& mailAddress, const std::string& body);

   // and we have another method that simply sends the email for a given order
   void sendEmail(const Order& order);
}; 
```

sendEmail(const Order& order) 方法需要获取客户的电子邮件地址，因此需要从其标识符中获取对象。

这就是为什么我们有一个地图，然后地址将被这样访问

```
const std::string& target = customers[order.customer_id]->emailAddress; // not found test omitted for reading. 
```

这就是想法。

**问题部分：**

我在几年中使用这种引用方式，没有问自己“这真的是个好主意吗”，因为：

*   对象/记录 ID 是在公司中识别对象的方式

*   这种无处不在的持久性 ID（代码、日志、与其他 IT 的讨论）

*   运行时数据结构总是反映 DB 数据模型（它可能不是一个可靠的论点，但在 DB 世界和运行时世界（c++、python、js）之间切换时非常有用）

我不再在这家公司工作，但在处理持久记录时我保持这种编程方式，我不确定我是否做对了。

我们做了什么？

我们使用了一种引用对象的逻辑方式，而不是使用语言提供的方式：指针或 C++ 引用。当我这样说的时候，这听起来真的很糟糕。

从我的角度来看，这是使用这种“方法”的利弊列表：

*   优点：

    *   如果有底层的关系数据模型，运行时数据结构反映了数据模型，事情就更容易理解了
    *   这避免了类的无用耦合（在示例中，Order 不依赖于 Customer 和 Book 类）
    *   唯一标识符可以是易于阅读的字符串
*   缺点：

    *   为什么不使用语言的基本特性，即指针和引用来做到这一点？这听起来是一个糟糕的方法。
    *   每次我们想要访问逻辑引用对象的数据时，我们都需要使用字典/索引（映射）

如前所述，我不确定使用逻辑/关系引用是否是一件好事。是否有一些规则可以应用来决定是否使用这种方法？我很乐意听取您对此的意见。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T11:59:16.267

好吧，这就是我会做的。因为这是 C++，如果我们使用标准容器。为什么不使用迭代器。我还添加了一些打印代码以便于测试。

如果您想要迭代器稳定性，请将向量更改为列表。为了更好的查找操作，请查看`boost::multi_index` [http://www.boost.org/doc/libs/1_53_0/libs/multi_index/doc/index.html](http://www.boost.org/doc/libs/1_53_0/libs/multi_index/doc/index.html)。`boost::multi_index`如果迭代器稳定性很重要，也很好用。

`boost::serialization`如果您想将数据结构写入文件，它可能也很容易使用。

```
#include <string>
#include <iostream>
#include <vector>

struct Streamable
{
  virtual ~Streamable() = default;
  virtual std::ostream& print(std::ostream& ost) const = 0;
};

std::ostream& operator<<(std::ostream& ost, const Streamable& str)
{
  return str.print(ost);
}

struct Customer : public Streamable
{
  std::string name_m;
  Customer(const std::string& name_):name_m(name_)
  {}
  std::ostream& print(std::ostream& ost) const
  {
    return ost<<name_m;
  }
};

struct CustomerColl : public std::vector<Customer>,
              public Streamable
{
  CustomerColl(std::initializer_list<Customer> customers)
    :std::vector<Customer>(customers)
  {}
  std::ostream& print(std::ostream& ost) const
  {
    ost<<"Customers:"<<std::endl;
    for(const auto& c: *this)
    {
      ost<<c<<std::endl;
    }
    return ost;
  }
};

struct Book : public Streamable
{
  std::string title_m;
  unsigned int isbn_m;

  Book(const std::string& title_, const unsigned int& isbn_)
    :title_m(title_),isbn_m(isbn_)
  {}
  std::ostream& print(std::ostream& ost) const
  {
    return ost<<title_m<<":{"<<isbn_m<<"}";
  }
};

struct BookColl : public std::vector<Book>,
          public Streamable
{
  BookColl(std::initializer_list<Book> books)
    :std::vector<Book>(books)
  {}
  std::ostream& print(std::ostream& ost) const
  {
    ost<<"Books:"<<std::endl;
    for(const auto& b: *this)
    {
      ost<<b<<std::endl;
    }
    return ost;
  }
};

struct Order : public Streamable
{
  BookColl::const_iterator book_m;
  CustomerColl::const_iterator customer_m;

  Order(const BookColl::const_iterator& book_,
    const CustomerColl::const_iterator& customer_)
    :book_m(book_),customer_m(customer_)
  {}
  std::ostream& print(std::ostream& ost) const
  {
    return ost<<"["<<*customer_m<<"->"<<*book_m<<"]";
  }
};

struct OrderColl : public std::vector<Order>,
           public Streamable
{
  OrderColl(std::initializer_list<Order> orders)
    :std::vector<Order>(orders)
  {}
  std::ostream& print(std::ostream& ost) const
  {
    ost<<"Orders:"<<std::endl;
    for(const auto& o: *this)
    {
      ost<<o<<std::endl;
    }
    return ost;
  }
};

int main()
{
  CustomerColl customers{{"Anna"},{"David"},{"Lisa"}};
  BookColl books{{"C++",123},{"Java",234},{"Lisp",345}};

  OrderColl orders{{books.begin(),customers.begin()},{books.begin(),customers.begin()+1},{books.end()-1,customers.begin()+2}};

  std::cout<<customers<<std::endl;
  std::cout<<books<<std::endl;
  std::cout<<orders<<std::endl;

  return 0;
} 
```

# html - 更改与实际选项文本不同的下拉选择文本

> ID：15245751
> 
> 赞同：3
> 
> 时间：2013-03-06T11:10:07.860
> 
> 标签：html, select, drop-down-menu, options

有多个选项的下拉菜单。第一个选项被选中，因此您可以在第一次查看下拉列表（折叠状态）时看到此选项文本。

有没有办法在折叠状态下的下拉菜单中只显示部分选定的选项文本，但在展开时，然后用全文显示这个相应的选项？

为了更好地理解我想要什么，我画了：http: [//goo.gl/BSwOi](http://goo.gl/BSwOi)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T11:14:13.123

例如，只需固定宽度。我使用了这个 HTML：

```
<select style="width: 40px">
    <option value="Volvo">Volvo</option>
    <option value="Saab">Saab</option>
    <option value="Opel">Opel</option>
    <option value="Audi">Audi</option>
</select> 
```

演示：http: [//jsfiddle.net/MzZxG/](http://jsfiddle.net/MzZxG/)

# python - Python + Regex + UTF-8 无法识别重音符号

> ID：15245752
> 
> 赞同：0
> 
> 时间：2013-03-06T11:10:09.130
> 
> 标签：python, regex, utf-8

我的问题是，即使我使用 utf-8，使用 regex 和 re.search() 的 Python 也无法识别重音符号。这是我的代码串；

```
#! /usr/bin/python
-*- coding: utf-8 -*-
import re

htmlString = '</dd><dt> Fine, thank you.&#160;</dt><dd> Molt bé, gràcies.'

SearchStr = '(\<\/dd\>\<dt\>)+ ([\w+\,\.\s]+)([\&\#\d\;]+)(\<\/dt\>\<dd\>)+ (\w+) (\w+)'

Result = re.search(SearchStr, htmlString)

if Result:
print Result.groups()

passavol23:jO$ catalanword.py
('</dd><dt>', 'Fine, thank you.', '&#160;', '</dt><dd>', 'Molt', 'b') 
```

所以问题是它不能识别 é 并因此停止。任何帮助，将不胜感激。我是 Python 初学者。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-03-06T11:27:15.103

默认情况下，`\w`仅匹配 ascii 字符，它转换为`[a-zA-Z0-9_]`. 并且使用正则表达式匹配 UTF-8 字节已经够难了，更不用说只匹配*单词 characters*了，你必须匹配字节范围。

您需要从 UTF-8 解码`unicode`并使用该[`re.UNICODE`标志](http://docs.python.org/2/library/re.html#re.UNICODE)：

```
>>> re.search(SearchStr, htmlString.decode('utf8'), re.UNICODE).groups()
(u'</dd><dt>', u'Fine, thank you.', u'&#160;', u'</dt><dd>', u'Molt', u'b\xe9') 
```

但是，您实际上应该使用 HTML 解析器来处理 HTML。例如，使用 BeautifulSoup。它将为您正确处理编码和 Unicode。

# ruby-on-rails - 单独的 cookie 表？

> ID：15245753
> 
> 赞同：1
> 
> 时间：2013-03-06T11:10:12.070
> 
> 标签：ruby-on-rails, authentication, cookies

我刚刚从 php 背景开始 Rails，我正在学习本教程：[http ://ruby.railstutorial.org/chapters/sign-in-sign-out#top](http://ruby.railstutorial.org/chapters/sign-in-sign-out#top)

在第[8.2.1](http://ruby.railstutorial.org/chapters/sign-in-sign-out#sec-remember_me)节- 您必须将`remember_token`用户添加到表中，并且令牌的值放置在此字段中。

我的问题是，如果用户在不同的计算机上登录怎么办。由于它更新了该`remember_token`字段，因此 cookie 登录对于用户登录的先前计算机将无效。`id`用: , `remember_token`,为 cookie 创建一个新表是否有意义 `created`，`user_agent_ip_address`或者这是否过于复杂？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-08T17:49:10.860

假设存储在 users 表中的 remember_token 是主密钥。
浏览器就像门。
使用万能钥匙，您可以随心所欲地打开和关闭门。假设您打开门 A、B 和 C。您可以选择关闭门 A，而门 B 和 C 保持打开状态。这就是 remember_token 在那里的工作方式。
您在不同的浏览器上登录，然后选择从一些浏览器中退出并在其他浏览器上保持登录状态。这并不意味着当您在浏览器上退出时，它会自动退出其余部分。
如果您想让用户访问查看他们的会话当前在哪里（哪些计算机）处于活动状态（登录）并允许他们退出这些计算机，那么您可能需要一个单独的 cookie 表。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T13:16:21.177

Rails 很好地处理数据库会话，阅读指南的这一章，很清楚:)

[http://guides.rubyonrails.org/action_controller_overview.html#session](http://guides.rubyonrails.org/action_controller_overview.html#session)

# sql-server-2008 - 第一次从代码运行存储过程时出错

> ID：15245754
> 
> 赞同：0
> 
> 时间：2013-03-06T11:10:19.460
> 
> 标签：sql-server-2008, stored-procedures, recompile

我正在为我的项目使用 Windows 应用程序。现在，有一种表单具有一个用于获取数据并在表单上显示的存储过程。现在的问题是当我每天第一次运行代码时，它会出错。一旦我手动执行该存储过程，它就会正常工作。所以每天第一次打开表格时，它会出错。但在那之后它会正常工作。

存储过程很简单，只需 2 秒即可执行。所以我不知道那有什么问题。我还尝试了各种方法，例如在查询的开头放置了“With Recompile”。但它仍然是第一次给出错误。

那么任何人都可以帮助解决这个错误并建议我任何解决方案吗？

提前致谢。

# html - twitter-bootstrap 关闭警报不起作用

> ID：15245756
> 
> 赞同：13
> 
> 时间：2013-03-06T11:10:22.353
> 
> 标签：html, css, twitter-bootstrap

我无法让它工作。当我单击关闭按钮时，什么也没有发生。

这是代码：

```
 <div class=" alert alert-error alert-block" style="width:200px" >
    <button class="close" data-dismiss="alert">&times;</button>
        <span>errors</span>            
    </div> 
```

我已经在 jsfiddler 上重现了这个问题：http: [//jsfiddle.net/graphicsxp/7L7Nd/](http://jsfiddle.net/graphicsxp/7L7Nd/)

编辑

```
@using (Html.BeginForm(null, null, FormMethod.Post, new { id = "quoteWizard" }))
{
    <input type="hidden" id="ModelType" value="CarQuoteRequestViewModel" />

    ViewBag.ValidationSummaryClass = ViewData.ModelState.IsValid ? "validation-summary-valid" : "validation-summary-errors";

    <div class="@ViewBag.ValidationSummaryClass alert alert-error in fade" data-valmsg-summary="true">
    <button class="close" data-dismiss="alert">&times;</button>
        <span>Before you can continue, please make sure you have completed the mandatory fields
            highlighted below.</span>
        <ul style="display: none" />
    </div>

    @RenderSection("QuoteSection")

    <div class="ui-formwizard-nav">
        <input id="back" value="@Resource.Global.Previous" type="reset" class="btn btn-primary" />
        <input id="next" value="@Resource.Global.Next" class="btn btn-primary" type="submit" />
    </div>
} 
```

* * *

## 回答 #1

> 赞同：22
> 
> 时间：2013-04-16T10:51:27.343

包含 Javascript 源代码的顺序似乎很重要。首先加载 jQuery，*然后*是 Bootstrap Javascript。

例如，这*失败了*：

```
<script src="/js/vendor/bootstrap.min.js"></script>
<script src="/js/vendor/jquery-1.9.1.min.js"></script> 
```

这*有效*：

```
<script src="/js/vendor/jquery-1.9.1.min.js"></script>
<script src="/js/vendor/bootstrap.min.js"></script> 
```

您还将在示例模板中看到这一点。从[英雄模板](http://twitter.github.io/bootstrap/examples/hero.html)：

```
[...]
<script src="/../assets/js/jquery.js"></script>
<script src="/../assets/js/bootstrap-transition.js"></script>
<script src="/../assets/js/bootstrap-alert.js"></script>
[...] 
```

* * *

## 回答 #2

> 赞同：10
> 
> 时间：2013-03-06T12:08:21.467

我已经整理好了。

我现在不使用按钮，而是使用跨度，因此不会提交表单：

```
 <span class="close" data-dismiss="alert">&times;</span> 
```

感谢您的帮助

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2015-07-17T05:39:46.680

从 Shail 编辑，只是从 alert-error 变为 alert-danger

```
<div class=" alert alert-danger alert-block" style="width:200px">
     <button class="close" data-dismiss="alert">&times;</button>
     <span>
             Before you can continuelds
             highlighted below.
     </span>
</div> 
```

Jsfiddle[演示](http://jsfiddle.net/junaserbaserbi/7L7Nd/36/)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-06T11:22:16.813

请包括 jquery 库

```
<script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script> 
```

它应该工作

Jsfiddle[演示](http://jsfiddle.net/shail/7L7Nd/3/)

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-07-02T12:51:51.160

可能你忘记引用这个：

```
<script src="http://twitter.github.com/bootstrap/assets/js/jquery.js"></script> 
```

我有同样的问题。我添加了它，它起作用了。

# android - 什么时候调用 SQLiteOpenHelper 方法？

> ID：15245757
> 
> 赞同：1
> 
> 时间：2013-03-06T11:10:23.923
> 
> 标签：android, android-sqlite, sqliteopenhelper

我很难理解背后的想法`SQLiteOpenHelper`。它有`onCreate()`/`onUpdate()`方法应该被覆盖，但我不明白是什么调用它们或何时调用它们。当应用程序第一次运行时Android会调用这些方法（在我的情况下不会发生），还是我应该手动调用它们？我查阅了文档，但找不到我的问题的答案。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-06T11:15:51.063

`SQLiteOpenHelper`当您创建扩展类的类对象并请求读/写时，它们会自动调用。

从技术上讲，`onCreate`方法是在检测到数据库文件不可用时调用。除非您清理应用程序数据，否则它只会被调用一次。但是，当发现数据库的**版本号**`onUpdate`增加时，就会调用它。

 *** * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-06T11:16:34.713

当您请求可读和/或可写数据库时（以防它未创建），框架会调用诸如“onCreate”之类的覆盖方法。如果您开发应用程序并更改数据库版本，则“onUpgrade”很有用，这就是调用它的部分。该框架将占据最大的部分。您将从数据源类中调用方法。如需更长的解释：http: [//developer.android.com/reference/android/database/sqlite/SQLiteOpenHelper.html](http://developer.android.com/reference/android/database/sqlite/SQLiteOpenHelper.html)

还有一个很棒的教程： [http ://www.vogella.com/articles/AndroidSQLite/article.html](http://www.vogella.com/articles/AndroidSQLite/article.html)**

# java - 孩子的JSoup格式输出

> ID：15245760
> 
> 赞同：0
> 
> 时间：2013-03-06T11:10:29.537
> 
> 标签：java, parsing, jsoup

我正在解析一个包含许多这样的条目的文档（使用 JSoup）

```
 <span class="chart_position position-up position-greatest-gains">1</span>
            <h1>Beauty And A Beat</h1>
        <p class="chart_info">
      <a href="/artist/305459/justin-bieber">Justin Bieber Featuring Nicki Minaj</a>            <br>
      Beauty and a Beat          </p> 
```

我可以提取两个单独的歌曲标题和艺术家列表，如下所示：

```
 Elements song = doc.select("div.chart_listing h1");
    System.out.println("song: " + song);

    Elements li = doc.select("p.chart_info a");
    System.out.println("artists: " + li.text()); 
```

但是，现在输出如下所示：

```
<h1>The Lucky Ones</h1>
<h1>Scream &amp; Shout</h1>
<h1>Clarity</h1>
<h1>We Are Young</h1>
<h1>Va Va Voom</h1>
<h1>Catch My Breath</h1>
<h1>I Found You</h1>
<h1>Sorry</h1>
<h1>Leaving</h1>
artists: Justin Bieber Featuring Nicki Minaj Kerli will.i.am & Britney Spears Nicki Minaj Kelly Clarkson The Wanted Ciara Pet Shop Boys 
```

我希望它看起来像：

```
1 - Song - Artist
2 - Song - Artist
etc 
```

我一直在查看相关的帖子并尝试过这个，但我还没有完全弄清楚：

```
 Elements parents = doc.select("div.chart_listing h1");
        for (Element parent : parents)
        {
            Elements categories = parent.select("p.chart_info a");
            System.out.print("song: " + parent + " - ");
            System.out.print("artist: " + categories.text() + "\n");
        } 
```

这当前会输出一首空白歌曲，如下所示：

```
song: <h1>Beauty And A Beat</h1> - artist: 
song: <h1>The Lucky Ones</h1> - artist: 
song: <h1>Scream &amp; Shout</h1> - artist: 
```

两个主要问题仍然悬而未决：

*   如何打印属于歌曲的艺术家？为什么是白的？
*   如何添加编号（这是次要的，但会很好）

非常感谢！

- -编辑

通过使用更大的父级解决了第一个问题：

```
 Elements parents = doc.select("article.song_review");
    for (Element parent : parents)
    {
        Elements titles = parent.select("h1");
        Elements categories = parent.select("p.chart_info a");
        System.out.print("song: " + titles + " - ");
        System.out.print("artist: " + categories.text() + "\n");
    } 
```

现在输出如下所示：

```
song: <h1>Beauty And A Beat</h1> - artist: Justin Bieber Featuring Nicki Minaj
song: <h1>The Lucky Ones</h1> - artist: Kerli
song: <h1>Scream &amp; Shout</h1> - artist: will.i.am & Britney Spears 
```

关于如何清理 %amp; 的任何想法 并添加编号？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T11:20:34.167

像这样解决它：

```
 Elements parents = doc.select("article.song_review");
    for (Element parent : parents)
    {
        Elements position = parent.select("span.chart_position");
        Elements titles = parent.select("h1");
        Elements categories = parent.select("p.chart_info a");
        System.out.print("position: " + position.text() + " - song: " + titles.text() + " - ");
        System.out.print("artist: " + categories.text() + "\n");
    } 
```

# perl - 通过perl将行与对象的相反顺序进行比较

> ID：15245761
> 
> 赞同：0
> 
> 时间：2013-03-06T11:10:30.597
> 
> 标签：perl

我对使用 Perl 很陌生，我需要用它来比较文件的所有行。该文件有两个由 | 分隔的 ID。以及每个 ID 对的值。它看起来像这样：

```
a|b 9
a|a 1
a|c 4
s|c 3
f|e NA
a|d 2
d|a 2
d|b 5
c|l NA
c|s 3 
```

如果有另一行具有相同的 ID（字母），但顺序相反（如 a|d 和 d|a），我想删除一行，其中我将“NA”作为值的行和具有两个位置的 ID 相同（如 a|a 1）。从这里的示例中，我想获得这样的输出：

```
a|b 9
a|c 4
s|c 3
a|d 2
d|b 5 
```

我正在尝试我编写的代码。它能够消除具有“NA”的行和 ID 相同的行（如 a|a 1），但无法检测到具有倒置 ID 的行。

```
$file = "test.txt";
open (HAN, "$file") || die "No input file";
@r = <HAN>;
close (HAN);
for ($i=0; $i<=$#r; $i++) {
    chomp($r[$i]);      
    ($id, $v) = split (/\t/, $r[$i]);
    if ( $v ne NA ) {
       ($id1, $id2) = split (/\|/, $id);            
        $ii = $id1."|".$id2;
        $dd = $id2."|".$id1;
        if(($id1 ne $id2)||($ii ne $dd)){
           print "$id\t$v\n";
        }
    }       
} 
```

绝对欢迎任何帮助！

提前谢谢你，加布

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T11:26:47.893

要解决此问题，您需要跟踪到目前为止遇到的所有（ID）对。每当处理新行时，都需要将其与 ID 对列表进行匹配，以查找它是否为倒排对。

以下修改使其工作：

```
$file = "test.txt";
open (HAN, "$file") || die "No input file";
@r = <HAN>;
@encountered;
close (HAN);
for ($i=0; $i<=$#r; $i++) {
    chomp($r[$i]);
    $present=0;
    $invertPr=0;
    ($id, $v) = split (/\t/, $r[$i]);
    if ( $v ne NA ) {
       ($id1, $id2) = split (/\|/, $id);
        if($id1 eq $id2) {
            next;
        }
        for($j = 0; $j < $#encountered; $j+=2) {
            if($encountered[$j] eq $id1 && $encountered[$j+1] eq $id2) {
                $present = 1;
            }
            if($encountered[$j+1] eq $id1 && $encountered[$j] eq $id2) {
                $invertPr = 1;
            }
        }
        if($present == 0) {
           push(@encountered, $id1);
           push(@encountered, $id2);
        }
        if($invertPr == 0) {
           print "$id\t$v\n";
        }
    }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T11:35:09.640

以下脚本始终使用“较低”的 id 作为键的第一部分。因此，您不必关心倒置的 id：

```
 #!/usr/bin/perl
use warnings;
use strict;

sub compare {
    my %result;
    for (@_) {
        my ($id1, $id2, $value) = /(.+)\|(.+) (.+)/;
        next if $id1 eq $id2 or 'NA' eq $value;
        ($id1, $id2) = sort $id1, $id2;
        next if exists $result{"$id1|$id2"};
        $result{"$id1|$id2"} = $value;
    }
    return join "\n", map "$_ $result{$_}", keys %result;
}

print compare(<DATA>);

__DATA__
a|b 9
a|a 1
a|c 4
s|c 3
f|e NA
a|d 2
d|a 2
d|b 5
c|l NA
c|s 3 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-07T14:16:34.910

只是另一种方法，以防前两个回答让您感到困惑：

```
#!/usr/bin/perl
use warnings;
use strict;

my %previous;
open (my $IN,'<','file.txt') or die "$!";
while (<$IN>) {
    my ($tmp,$v)=split/ /;
    next if $v=~/NA/; #remove the rows in which I have "NA" as value 
    my ($id1,$id2)=split/\|/,$tmp;
    next if $id1 eq $id2; #remove the rows with the same ID in both positions
    next if exists $previous{"$id2|$id1"}; #remove the row if there is another with the same IDs (letters), but in an inverted order
    $previous{$tmp}=1;
    print;
}
close $IN; 
```

# math - 在二进制加法中进出最高有效位

> ID：15245762
> 
> 赞同：1
> 
> 时间：2013-03-06T11:10:33.890
> 
> 标签：math, binary, overflow

我有这个二进制加法问题，

```
 01010  
+ 11011 
```

= 100101 需要一个 5 位的答案，所以放弃 1 所以 00101 因为发生了溢出。

然而它接着问，

进位到最高有效位的值是多少？

最高有效位的执行值是多少？

我以为这两个都是1，谁能澄清一下，

我通过算术得到了答案，并查看了最高有效位的进位...这是正确的吗？

提前感谢您的任何帮助/澄清，

辛

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-06T11:20:48.687

> 然而它接着问，

它是什么'？

无论如何，要回答您的问题，是的，这似乎是正确的。两个操作数的 MSB（最高有效位）分别为 0 和 1。

进位（来自所有先前位的总和）为 1，因此进位等于：

*   正如您正确指出的那样，0（MSB 第一个操作数）+ 1（MSB 第二个操作数）+ 1（进位）= 1。

# java - 在 WEKA 中运行 StringToWordVector 过滤器

> ID：15245766
> 
> 赞同：1
> 
> 时间：2013-03-06T11:10:48.553
> 
> 标签：java, filter, machine-learning, weka, arff

我在 Java 上使用 WEKA 的 API 来开发应用程序。当运行 StringToWordVector 过滤器（转换字符串类型属性）到我的 input.arff 文件时，如下所示：

```
 @relation Instantzien_Bektorea

    @attribute 5_Ainf_Lema string
    @attribute 6_Arg_PosKat {IZE,ADJ,ADI,ADB,DET,IOR,LOT,PRT,ITJ,BST,ADL,ADT,SIG,SNB,LAB,POST}
    @attribute 7_Arg_Pos_AzpiKat {ARR,IZB,LIB,ZKI,GAL,SIN,ADK,ADP,FAK,ERKARR,ERKIND,NOLARR,NOLGAL,DZH,BAN,ORD,DZG,ORO,PERARR,PERIND,IZGMGB,IZGGAL,BIH,ELK,JOK,JNT,HUTSA}
    @attribute 8_Arg_Kasua {abl,abu,abz,ala,soz,dat,des,erg,gel,gen,ine,ins,mot,abs,par,pro,bnk,desk,aurk,bald,emen,erlt,espl,haut,helb,kaus,konpl,kont,denb,mod,mos,ondo,zhg,neg,gen_post_ine,gen_post,gen_post_abs,ala_des,soz_post_ala,zero_post_abl,-}
    @attribute 9_Argumentuaren_FSint {-,subj,obj}
    @attribute 10_Arg_Posizioa {Aurretik,Atzetik}
    @attribute 11_Dist_HKop numeric
    @attribute 12_Dist_ArgKop numeric
    @attribute 13_Framea string
    @attribute 15_Frame_Unekoa string
    @attribute Klasea {arg0,arg1,arg2,argM*LOC,argM*TMP,argM*MNR,argM*Cause,argM*ADV,argM*PRP,argM*-,argM*NEG,argM*DIS}

    @data
    eta_gero,LOT,ARR,denb,-,Aurretik,999,1,argM_PRED_arg1,ARGM_PRED_arg1,argM*TMP
    Ainf_Lema,ADI,SIN,mod,-,Aurretik,1,1,argM_arg0_arg1_PRED,argM_arg0_ARG1_PRED,arg1
    Ainf_Lema,IZE,ARR,abs,subj,Aurretik,999,2,arg0_argM_arg1_PRED,ARG0_argM_arg1_PRED,arg0
... 
```

我得到了另外一堆写在 output.arrf 中的实例，如下所示：

```
@relation 'Train_Instantzien_Bektorea-weka.filters.unsupervised.attribute.StringToWordVector-R1,9,10-W1000-prune-rate-1.0-N0-stemmerweka.core.stemmers.NullStemmer-M1-tokenizerweka.core.tokenizers.WordTokenizer -delimiters \" \\r\\n\\t.,;:\\\'\\\"()?!\"'

@attribute 6_Arg_PosKat {IZE,ADJ,ADI,ADB,DET,IOR,LOT,PRT,ITJ,BST,ADL,ADT,SIG,SNB,LAB,POST}
@attribute 7_Arg_Pos_AzpiKat {ARR,IZB,LIB,ZKI,GAL,SIN,ADK,ADP,FAK,ERKARR,ERKIND,NOLARR,NOLGAL,DZH,BAN,ORD,DZG,ORO,PERARR,PERIND,IZGMGB,IZGGAL,BIH,ELK,JOK,JNT,HUTSA}
@attribute 8_Arg_Kasua {abl,abu,abz,ala,soz,dat,des,erg,gel,gen,ine,ins,mot,abs,par,pro,bnk,desk,aurk,bald,emen,erlt,espl,haut,helb,kaus,konpl,kont,denb,mod,mos,ondo,zhg,neg,gen_post_ine,gen_post,gen_post_abs,ala_des,soz_post_ala,zero_post_abl,-}
@attribute 9_Argumentuaren_FSint {-,subj,obj}
@attribute 10_Arg_Posizioa {Aurretik,Atzetik}
@attribute 11_Dist_HKop numeric
@attribute 12_Dist_ArgKop numeric
@attribute Klasea {arg0,arg1,arg2,argM*LOC,argM*TMP,argM*MNR,argM*Cause,argM*ADV,argM*PRP,argM*-,argM*NEG,argM*DIS}
@attribute ARG0_PRED_arg1 numeric
@attribute ARG0_arg1_PRED numeric
@attribute ARG0_arg1_PRED_arg1_argM numeric
@attribute ARG0_arg1_PRED_argM numeric
@attribute ARG0_arg1_PRED_argM_argM numeric
@attribute ARG0_argM_PRED numeric

...

@attribute argM_PRED_ARG1_argM_argM numeric
@attribute argM_PRED numeric
@attribute argM_PRED_arg1_ARGM numeric

...

@attribute ARGM_argM_PRED_arg1_argM numeric
@attribute arg0_ARGM_arg1_PRED numeric
@attribute arg0_ARGM_arg1_PRED_argM numeric
@attribute arg0_arg1_PRED_ARGM_argM numeric
@attribute eta_gero numeric
@attribute gaur numeric

@data
{0 LOT,2 denb,5 999,6 1,7 argM*TMP,90 1,162 1,197 1}
{0 ADI,1 SIN,2 mod,5 1,6 1,7 arg1,19 1,42 1,93 1}
{2 abs,3 subj,5 999,6 2,16 1,19 1,29 1} 
```

正如您将在 output.arff 文件中看到的，一些属性从实例中消失（第一个实例-> 没有第一个属性，没有第三个属性等）这是为什么？

运行过滤器的 Java 代码如下所示：

```
 // StringToWordVector filter
      String[] options = new String[1];
      options[0] = "-R <1,9,10>";                                    
      StringToWordVector filter = new StringToWordVector(); 
      filter.setOptions(options);                          
      filter.setInputFormat(input.arff);                         
      Instances output_inst = Filter.useFilter(input_inst, filter); 
```

问题可能出在哪里？非常感谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-08T16:03:44.693

首先，您的输入文件是正常的 ARFF 格式，而输出文件是*稀疏*的ARFF，因为它们以 . 开头`{`和结尾`}`。（请参阅有关[属性关系文件格式](http://www.cs.waikato.ac.nz/ml/weka/arff.html)的信息）

```
{0 LOT,2 denb,5 999,6 1,7 argM*TMP,90 1,162 1,197 1} 
```

在这种稀疏格式中，将省略值为 0 的属性。所有存在的属性都需要通过它们的索引和值来指定。在上面的例子中（你的第一个例子）：

*   属性 0 => 很多
*   属性 1 省略 => 0
*   属性 2 => denb
*   属性 3 省略 => 0
*   ...

如果你看一下属性 1 的定义，你会发现它不是数字而是名义上的，所以 0 是它的值的索引，在这种情况下`ARR`

因此，没有缺少属性，它们只是在输出中被省略，因为它是稀疏格式。

如果您想知道为什么您有不同的属性：那是 StringToWordVector 过滤器的结果。

# php - 强制逐个文件合并 - git

> ID：15245767
> 
> 赞同：1
> 
> 时间：2013-03-06T11:10:50.357
> 
> 标签：php, git, git-merge

我刚刚合并了两个分支“branch1”和“branch2”。问题是现在有很多冲突，有时会出现重复的内容（有可能吗？？）。

我想要做的是强制将“branch1”中的某些文件与“branch2”合并，相反，强制将“branch2”中的某些文件与“branch1”合并，因为我知道我现在在“branch1”上。可能吗 ？

更新： git-merge 似乎有问题？假设我保留了 branch1 版本，那么

```
echo $this->fetch('prehome.html');
        die; 
```

会出现两次，请参阅：

```
protected function prehomepage()
    {
        $var = 'myvar';

        echo $this->fetch('prehome.html');
        die;
    }

<<<<<<< HEAD
    $this->mySmarty->assign('title', 'Primagora');

    echo $this->fetch('prehome.html');
    die;
  }

  /**
   * Generate the campaign block for the general sidebar, called through AJAX.
   */
  protected function getCampaignBlock()
  {
    $from = Utils::fromGet('from');
    echo $this->getCampaignSidebarBlock($from);
    die();
  }
=======
    /**
     * Generate the campaign block for the general sidebar, called through AJAX.
     */
    protected function getCampaignBlock()
    {
        $from = Utils::fromGet('from');
        echo $this->getCampaignSidebarBlock($from);
        die();
    }
>>>>>>> branch2 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-08T12:40:19.610

在与冲突合并时（如果`git config merge.conflictstyle diff3`已设置），您可以：

*   忽略该合并并保留您的原始版本（来自`branch1`）：

```
git show :2:full_path > 文件
＃ 或者
git checkout-index --stage=2 -- 文件

```

*   忽略该合并并保留其他版本（来自`branch2`）：

```
git show :3:full_path > 文件
＃ 或者
git checkout-index --stage=3 -- 文件

```

从那里，`git add`和`git commit`。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T14:15:00.210

您显示的文件是正在进行的 git merge whit 冲突中的中间文件。线从

```
<<<<<<< HEAD 
```

至

```
======= 
```

是一个版本，从

```
======== 
```

至

```
>>>>>branch1 
```

是另一个。然后，您可以手动编辑文件并选择要使用的版本或运行工具来帮助您解决冲突。git 命令 mergetool 将指导您解决所有冲突 [https://www.kernel.org/pub/software/scm/git/docs/git-mergetool.html](https://www.kernel.org/pub/software/scm/git/docs/git-mergetool.html)

```
git mergetool 
```

很可能必须将 git mergetool 配置为使用您最喜欢的冲突解决程序。我发现融合非常有用和直观。

[在 Windows 上使用 Meld 的 Git mergetool](https://stackoverflow.com/questions/14821358/git-mergetool-with-meld-on-windows)或 [如何将 Meld 设置为 git mergetool](https://stackoverflow.com/questions/12956509/how-to-set-meld-as-git-mergetool)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-06T11:19:22.290

您应该始终尝试解决冲突。他们告诉你很多关于正在发生的事情。

Netbeans 可以与 git 一起使用，这使得解决冲突成为一项相当简单的任务。您可以一一解决冲突或选择要保留的版本。

重复内容是什么意思？如果两个文件中的内容相同，则不可能将其标记为更改。

# .net - 如何在 TopShelf 中为服务指定命令行选项

> ID：15245770
> 
> 赞同：9
> 
> 时间：2013-03-06T11:11:04.323
> 
> 标签：.net, topshelf

我正在使用命令行参数将一些配置传递给 Windows 服务（它将是几个具有不同命令行的实例）。

我的代码如下所示：

```
HostFactory.Run(x =>                                 
{
    x.Service<MyHost>(s =>
    {                    
        s.ConstructUsing(name => new MyHost());
        s.WhenStarted(tc => tc.Start());             
        s.WhenStopped(tc => tc.Stop());              
    });
    x.AddCommandLineDefinition("sqlserver", v => sqlInstance = v);
}); 
```

当我安装服务时，我使用：

```
myhost.exe install -sqlserver:someinstance 
```

不幸的是，`sqlserver`命令行选项仅在安装阶段可用，并且不转到服务的参数。所以当我运行服务时，我没有得到我需要的参数值。

有没有办法修改TopShelf启动的服务的命令行？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2016-03-16T18:29:11.980

我有类似的要求，不幸的是，将命令行参数存储在文件中不是一种选择。

**免责声明：此方法仅适用于 Windows**

首先我添加了一个[安装后操作](https://topshelf.readthedocs.org/en/latest/configuration/config_api.html#after-install-actions)

```
x.AfterInstall(
    installSettings =>
    {
         AddCommandLineParametersToStartupOptions(installSettings);
    }); 
```

在`AddCommanLineParameterToStartupOptions`我更新服务的**ImagePath** Windows 注册表项以包含命令行参数。

TopShelf 在此步骤之后添加它的参数，以避免重复，`servicename`我`instance`将它们过滤掉。您可能想要过滤掉的不仅仅是那些，但在我的情况下这已经足够了。

```
 private static void AddCommandLineParametersToStartupOptions(InstallHostSettings installSettings)
     {
            var serviceKey = Microsoft.Win32.Registry.LocalMachine.OpenSubKey(
                $"SYSTEM\\CurrentControlSet\\Services\\{installSettings.ServiceName}",
                true);

            if (serviceKey == null)
            {
                throw new Exception($"Could not locate Registry Key for service '{installSettings.ServiceName}'");
            }

            var arguments = Environment.GetCommandLineArgs();

            string programName = null;
            StringBuilder argumentsList = new StringBuilder();

            for (int i = 0; i < arguments.Length; i++)
            {
                if (i == 0)
                {
                    // program name is the first argument
                    programName = arguments[i];
                }
                else
                {
                    // Remove these servicename and instance arguments as TopShelf adds them as well
                    // Remove install switch
                    if (arguments[i].StartsWith("-servicename", StringComparison.InvariantCultureIgnoreCase) |
                        arguments[i].StartsWith("-instance", StringComparison.InvariantCultureIgnoreCase) |
                        arguments[i].StartsWith("install", StringComparison.InvariantCultureIgnoreCase))
                    {
                        continue;
                    }
                    argumentsList.Append(" ");
                    argumentsList.Append(arguments[i]);
                }
            }

            // Apply the arguments to the ImagePath value under the service Registry key
            var imageName = $"\"{Environment.CurrentDirectory}\\{programName}\" {argumentsList.ToString()}";
            serviceKey.SetValue("ImagePath", imageName, Microsoft.Win32.RegistryValueKind.String);
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-07T01:06:12.963

在这一点上你不能轻易做到。我会在邮件列表中查看此线程

[https://groups.google.com/d/msg/topshelf-discuss/Xu4XR6wGWxw/GFzmKdn_MeYJ](https://groups.google.com/d/msg/topshelf-discuss/Xu4XR6wGWxw/GFzmKdn_MeYJ)

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2015-02-26T17:17:48.900

您不能修改传递给服务的命令行。我通过将这些参数保存到 exe 旁边的配置来解决这个问题。所以用户可以这样做：

```
service.exe run /sqlserver:connectionstring 
```

并且应用程序将连接字符串保存到文件中（使用 System.IO.File 或使用 ConfigurationManager）

然后，如果用户这样做：

```
service.exe run 
```

或者，如果该服务作为 Windows 服务运行，那么该应用程序只是从配置加载。

# html - 用于 Mac 的具有突出显示和格式化功能的触控笔编辑器

> ID：15245773
> 
> 赞同：0
> 
> 时间：2013-03-06T11:11:16.560
> 
> 标签：html, css, editor, stylus

请告知是否有一些轻量级的文本编辑器可以突出显示和可能格式化[Stylus](http://learnboost.github.com/stylus/)标记。

现在我使用 WebStorm 并且喜欢它，但它仍然不支持 Stylus。提前致谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T12:23:43.550

[Sublime Text](http://www.sublimetext.com)是一个非常优秀的轻量级文本编辑器。它是高度可定制的，您可以找到几乎任何语言的语法突出显示/自动完成功能。

github 上有一个[Stylus 项目。](https://github.com/billymoon/Stylus/)只需下载并解压缩到：`~/Application Support/Sublime Text 2/Packages/`就可以了。

# http - 更改页面时背景图像闪烁 - 仅在 IE 中

> ID：15245774
> 
> 赞同：2
> 
> 时间：2013-03-06T11:11:17.213
> 
> 标签：http, browser, cross-browser

在 IE9 中，当更换具有相同背景图像的页面时，它会“闪烁”。在 Firefox 中更改页面保持流畅，没有刷新或闪烁背景图像。

查看 http 流量时，图像的标头是 304 - 所以它们不应该被刷新。我可以对此做些什么吗？

[当您使用 IE9 单击此链接时，您可以看到测试页](http://www.vuyk.eu/testsite/test3/testpage1.html)

这是 IE Developer F12 的配置文件： ![在此处输入图像描述](../Images/a469590a31c39e44a1695363bd274067.png)

# java - 在 Java 中创建基于 GUI 的任务调度程序

> ID：15245778
> 
> 赞同：0
> 
> 时间：2013-03-06T11:11:30.473
> 
> 标签：java, user-interface, timer, jodatime

我有来自不同来源的日志文件（即 S1Log、S2Log、S3Log 等），我想每天上传到服务器。程序应在一天中的特定时间上传每个日志文件（S1Log 上午 9 点，S2Log 下午 3 点，S3Log 下午 6 点）。在某些随机的日子里，我们不想遵循这个时间表，所以我们会阻止部分或全部文件上传。但是，第二天应该像往常一样遵循常规的时间表。

我不确定如何安排这些任务。JodaTime 是否适合这个，或者我应该使用 java.util.Timer 和/或 javax.swing.Timer 代替？

有没有像 Joda 这样的成熟流行的 API 可以帮助我编写代码？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T11:17:20.587

创建调度程序的标准 java 解决方案是使用[ScheduledExecutorService](http://docs.oracle.com/javase/6/docs/api/java/util/concurrent/ScheduledExecutorService.html)

```
ScheduledExecutorService scheduledExecutorService =
        Executors.newScheduledThreadPool(5);

ScheduledFuture scheduledFuture =
    scheduledExecutorService.schedule(new Callable() {
        public Object call() throws Exception {
            System.out.println("Executed!");
            return "Called!";
        }
    },
    5,
    TimeUnit.SECONDS); 
```

我还建议您使用**Quartz Scheduler**。这是关于同一 [http://www.ibm.com/developerworks/library/j-quartz/的有用教程](http://www.ibm.com/developerworks/library/j-quartz/)

**您拥有的其他选项是来自java.util.Timer**的基于 Java 的计时器，这是一个教程。 [http://javapapers.com/core-java/java-timer/](http://javapapers.com/core-java/java-timer/)

**但是该选择哪一个...？让我让你更难**

[使用 java.util.timer 与 Quartz 进行调度的优缺点？](https://stackoverflow.com/questions/8078130/pros-and-cons-of-using-java-util-timer-vs-quartz-for-scheduling)

和

[http://java.dzone.com/articles/why-you-shouldnt-use-quartz](http://java.dzone.com/articles/why-you-shouldnt-use-quartz)

可能评论可以帮助解决这个问题..

# ios - AVAssetImageGenerator 有时会从 2 个连续帧返回相同的图像

> ID：15245781
> 
> 赞同：7
> 
> 时间：2013-03-06T11:11:35.020
> 
> 标签：ios, avfoundation, video-processing, avvideocomposition

我目前正在从带有 的视频中提取每一帧`AVAssetImageGenerator`，但有时它会连续两次返回我几乎相同的图像（它们没有相同的“帧时间”）。有趣的是它总是每 5 帧发生一次（在我的测试视频中）。

[这里](http://img194.imageshack.us/img194/9039/27856470.png)和[这里](http://img507.imageshack.us/img507/6530/85735960.png)是两个图像（在新选项卡中打开每个图像，然后切换选项卡以查看差异）。

这是我的代码：

```
//setting up generator & compositor
self.generator = [AVAssetImageGenerator assetImageGeneratorWithAsset:asset];
generator.appliesPreferredTrackTransform = YES;
self.composition = [AVVideoComposition videoCompositionWithPropertiesOfAsset:asset];

NSTimeInterval duration = CMTimeGetSeconds(asset.duration);
NSTimeInterval frameDuration = CMTimeGetSeconds(composition.frameDuration);
CGFloat totalFrames = round(duration/frameDuration);

NSMutableArray * times = [NSMutableArray array];
for (int i=0; i<totalFrames; i++) {
    NSValue * time = [NSValue valueWithCMTime:CMTimeMakeWithSeconds(i*frameDuration, composition.frameDuration.timescale)];
    [times addObject:time];
}

AVAssetImageGeneratorCompletionHandler handler = ^(CMTime requestedTime, CGImageRef im, CMTime actualTime, AVAssetImageGeneratorResult result, NSError *error){
    // If actualTime is not equal to requestedTime image is ignored
    if(CMTimeCompare(actualTime, requestedTime) == 0) {
        if (result == AVAssetImageGeneratorSucceeded) {
            NSLog(@"%.02f     %.02f", CMTimeGetSeconds(requestedTime), CMTimeGetSeconds(actualTime));
            // Each log have differents actualTimes.
            // frame extraction is here...
        }
    }
};

generator.requestedTimeToleranceBefore = kCMTimeZero;
generator.requestedTimeToleranceAfter = kCMTimeZero;
[generator generateCGImagesAsynchronouslyForTimes:times completionHandler:handler]; 
```

知道它可能来自哪里吗？

* * *

## 回答 #1

> 赞同：17
> 
> 时间：2013-06-21T14:43:01.057

请查看 AVAssetImageGenerator 的以下属性。您应该为这两个属性设置 kCMTimeZero 以获得准确的帧。

```
/* The actual time of the generated images will be within the range [requestedTime-toleranceBefore, requestedTime+toleranceAfter] and may differ from the requested time for efficiency.
   Pass kCMTimeZero for both toleranceBefore and toleranceAfter to request frame-accurate image generation; this may incur additional decoding delay.
   Default is kCMTimePositiveInfinity. */
@property (nonatomic) CMTime requestedTimeToleranceBefore NS_AVAILABLE(10_7, 5_0);
@property (nonatomic) CMTime requestedTimeToleranceAfter NS_AVAILABLE(10_7, 5_0); 
```

在我为这两个属性设置 kCMTimeZero 之前，我得到了一些相同的图像，用于不同的请求时间，就像你所经历的那样。只需尝试以下代码。

```
self.imageGenerator = [AVAssetImageGenerator assetImageGeneratorWithAsset:myAsset];
self.imageGenerator.requestedTimeToleranceBefore = kCMTimeZero;
self.imageGenerator.requestedTimeToleranceAfter = kCMTimeZero; 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2014-06-12T03:09:22.740

我遇到了同样的问题，但更明显的是，当两帧之间的间隔小于 1.0 秒时，重复发生了，我意识到这取决于我用于生成 CMTime 值的时间尺度。

前

```
CMTime requestTime = CMTimeMakeWithSeconds(imageTime, 1); 
```

后

```
CMTime requestTime = CMTimeMakeWithSeconds(imageTime, playerItem.asset.duration.timescale); 
```

...和繁荣，没有更多的重复:)

因此，也许您可​​以尝试使用您的代码将时间尺度增加一倍：

```
NSValue * time = [NSValue valueWithCMTime:CMTimeMakeWithSeconds(i*frameDuration, composition.frameDuration.timescale*2)]; // *2 at the end 
```

供将来参考这里是我的代码：

```
 playerItem = [AVPlayerItem playerItemWithURL:item.movieUrl];
    imageGenerator = [[AVAssetImageGenerator alloc] initWithAsset:playerItem.asset];
    imageGenerator.requestedTimeToleranceAfter = kCMTimeZero;
    imageGenerator.requestedTimeToleranceBefore = kCMTimeZero;

    float duration = item.duration;
    float interval = item.interval;

    NSLog(@"\nItem info:\n%f \n%f", duration,interval);

    NSString *srcPath = nil;
    NSString *zipPath = nil;

    srcPath = [item.path stringByAppendingPathComponent:@"info.json"];
    zipPath = [NSString stringWithFormat:@"/%@/info.json",galleryID];

    [zip addFileToZip:srcPath newname:zipPath level:0];

    NSTimeInterval frameNum = item.duration / item.interval;
    for (int i=0; i<=frameNum; i++)
    {
        NSArray* cachePathArray = NSSearchPathForDirectoriesInDomains(NSCachesDirectory, NSUserDomainMask, YES);
        NSString* cachePath = [cachePathArray lastObject];

        srcPath = [cachePath stringByAppendingPathComponent:@"export-tmp.jpg"];
        zipPath = [NSString stringWithFormat:@"/%@/%d.jpg",galleryID,i];

        float imageTime = ( i * interval );

        NSError *error = nil;
        CMTime requestTime = CMTimeMakeWithSeconds(imageTime, playerItem.asset.duration.timescale);
        CMTime actualTime;

        CGImageRef imageRef = [imageGenerator copyCGImageAtTime:requestTime actualTime:&actualTime error:&error];

        if (error == nil) {
            float req = ((float)requestTime.value/requestTime.timescale);
            float real = ((float)actualTime.value/actualTime.timescale);
            float diff = fabsf(req-real);

            NSLog(@"copyCGImageAtTime: %.2f, %.2f, %f",req,real,diff);
        }
        else
        {
            NSLog(@"copyCGImageAtTime: error: %@",error.localizedDescription);
        }

        // consider using CGImageDestination -> http://stackoverflow.com/questions/1320988/saving-cgimageref-to-a-png-file
        UIImage *img = [UIImage imageWithCGImage:imageRef];
        CGImageRelease(imageRef);  // CGImageRef won't be released by ARC

        [UIImageJPEGRepresentation(img, 100) writeToFile:srcPath atomically:YES];

        if (srcPath != nil && zipPath!= nil)
        {
            [zip addFileToZip:srcPath newname:zipPath level:0]; // 0 = no compression. everything is a jpg image
            unlink([srcPath UTF8String]);
        } 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-03-07T16:42:11.203

我使用了一种稍微不同的方法来计算 CMTime 请求，它似乎有效。这是代码（假设是 iOS）：

```
-(void)extractImagesFromMovie {

// set the asset
    NSString* path = [[NSBundle mainBundle] pathForResource:@"myMovie" ofType:@"MOV"];
    NSURL* movURL = [NSURL fileURLWithPath:path];

NSMutableDictionary* myDict = [NSMutableDictionary dictionaryWithObjectsAndKeys:[NSNumber numberWithBool:YES] , 
                                 AVURLAssetPreferPreciseDurationAndTimingKey , 
                                [NSNumber numberWithInt:0],
                                AVURLAssetReferenceRestrictionsKey, nil];

AVURLAsset* movie = [[AVURLAsset alloc] initWithURL:movURL options:myDict];

// set the generator
AVAssetImageGenerator* generator = [[AVAssetImageGenerator assetImageGeneratorWithAsset:movie] retain];
generator.requestedTimeToleranceBefore = kCMTimeZero;
generator.requestedTimeToleranceAfter = kCMTimeZero;

// look for the video track
AVAssetTrack* videoTrack;
bool foundTrack = NO;

for (AVAssetTrack* track in movie.tracks) {

    if ([track.mediaType isEqualToString:@"vide"]) {
        if (foundTrack) {NSLog (@"Error - - - more than one video tracks"); return(-1);}
        else {
            videoTrack = track;
            foundTrack = YES;
        }
    }
}
if (foundTrack == NO) {NSLog (@"Error - - No Video Tracks at all"); return(-1);}

// set the number of frames in the movie
int frameRate = videoTrack.nominalFrameRate;
float value = movie.duration.value;
float timeScale = movie.duration.timescale;
float totalSeconds = value / timeScale;
int totalFrames = totalSeconds * frameRate;

NSLog (@"total frames %d", totalFrames);

int timeValuePerFrame = movie.duration.timescale / frameRate;

NSMutableArray* allFrames = [[NSMutableArray new] retain];

// get each frame
for (int k=0; k< totalFrames; k++) {

    int timeValue = timeValuePerFrame * k;
    CMTime frameTime;
    frameTime.value = timeValue;
    frameTime.timescale = movie.duration.timescale;
    frameTime.flags = movie.duration.flags;
    frameTime.epoch = movie.duration.epoch;

    CMTime gotTime;

    CGImageRef myRef = [generator copyCGImageAtTime:frameTime actualTime:&gotTime error:nil];
    [allFrames addObject:[UIImage imageWithCGImage:myRef]];

    if (gotTime.value != frameTime.value) NSLog (@"requested %lld got %lld for k %d", frameTime.value, gotTime.value, k)

}

NSLog (@"got %d images in the array", [allFrames count]);
// do something with images here...
} 
```

# eclipse - Maven 提供了部署在 Juno + Tomcat 7 上的作用域

> ID：15245782
> 
> 赞同：3
> 
> 时间：2013-03-06T11:11:35.563
> 
> 标签：eclipse, maven, tomcat, tomcat7

那时也许不是 Maven 问题。m2e / wtp 问题，也许？

只是为了提供背景，我在 Eclipse 中建立了一个 ICEFaces 项目，并将其部署在 Tomcat 7.0.30 中。在部署到 Tomcat 时，似乎忽略了 servlet-api.jar 的 Maven POM 配置在提供的范围内。我错过了什么吗？我如何让 Maven 做对？

在项目中， **javax.servlet-api.jar**作为 ICEFaces 的传递依赖项被引入。由于 Tomcat 带有它自己的 servlet-api.jar，我将其标记为被排除并添加了显式依赖项（范围：提供）。

> 信息：启动 Servlet 引擎：Apache Tomcat/7.0.30
> 06-Mar-2013 10:44:05 org.apache.catalina.loader.WebappClassLoader validateJarFile 信息：validateJarFile(D:\workspaces\test-project\.metadata\.plugins \org.eclipse.wst.server.core\tmp0\wtpwebapps\test-project\WEB-INF\lib\javax.servlet-api-3.0.1.jar) - jar 未加载。请参阅 Servlet 规范 2.3，第 9.7.2 节。违规类：javax/servlet/Servlet.class
> 06-Mar-2013 10:44:07 com.sun.faces.config.ConfigureListener contextInitialized

**Maven POM**

```
<dependency>
  <groupId>org.icefaces</groupId>
  <artifactId>icefaces-ace</artifactId>
  <version>3.2.0</version>
  <exclusions>
    <exclusion>
      <artifactId>javax.servlet-api</artifactId>
      <groupId>javax.servlet</groupId>
    </exclusion>
  </exclusions>
</dependency>

And added a dependency with provided scope

<dependency>
  <groupId>javax.servlet</groupId>
  <artifactId>javax.servlet-api</artifactId>
  <version>3.0.1</version>
  <scope>provided</scope>
</dependency> 
```

设置：
* Eclipse Juno
* Maven webapp 项目已创建。
* JSF 和 ICEFaces 方面已启用和配置。
* 配置 Eclipse 项目的部署程序集以部署 Maven 依赖项。
* 将项目从 Eclipse 部署到 Tomcat（右键单击服务器选项卡 > 添加/删除 > 添加项目 > 发布）

*** 更新 1 ***

**mvn 依赖：tree -Dverbose**

不知道如何处理这些警告。我将查找如何启用调试日志记录。

```
[INFO] Scanning for projects...  
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building test-project Maven Webapp 0.0.1-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-dependency-plugin:2.1:tree (default-cli) @ test-project ---
[WARNING] The POM for org.codehaus.plexus:plexus-utils:jar:1.0.4 is invalid, transitive dependencies (if any) will not be available, enable debug logging for more details  
[WARNING] The POM for classworlds:classworlds:jar:1.1-alpha-2 is invalid, transitive dependencies (if any) will not be available, enable debug logging for more details
[WARNING] The POM for org.apache.maven:maven-plugin-api:jar:2.0 is invalid, transitive dependencies (if any) will not be available, enable debug logging for more details
[WARNING] The POM for org.apache.maven:maven-model:jar:2.0 is invalid, transitive dependencies (if any) will not be available, enable debug logging for more details
[WARNING] The POM for org.codehaus.plexus:plexus-container-default:jar:1.0-alpha-8 is invalid, transitive dependencies (if any) will not be available, enable debug logging for more details
[WARNING] The POM for org.apache.maven:maven-settings:jar:2.0 is invalid, transitive dependencies (if any) will not be available, enable debug logging for more details
[INFO] com.mochapenguin:test-project:war:0.0.1-SNAPSHOT
[INFO] +- junit:junit:jar:3.8.1:test
[INFO] +- org.icefaces:icefaces-ace:jar:3.2.0:compile
[INFO] |  \- org.icefaces:icefaces:jar:3.2.0:compile
[INFO] |     +- org.glassfish:javax.faces:jar:2.1.6:compile
[INFO] |     +- javax.portlet:portlet-api:jar:2.0:compile
[INFO] |     +- org.icepush:icepush:jar:3.2.0:compile
[INFO] |     |  \- javax.mail:mail:jar:1.4.1:compile
[INFO] |     |     \- javax.activation:activation:jar:1.1:compile
[INFO] |     \- com.sun.xml.fastinfoset:FastInfoset:jar:1.2.12:compile
[INFO] +- org.icefaces:icefaces-compat:jar:3.2.0:compile
[INFO] |  +- (org.icefaces:icefaces:jar:3.2.0:compile - omitted for duplicate)
[INFO] |  +- commons-beanutils:commons-beanutils:jar:1.8.0:compile
[INFO] |  +- commons-logging:commons-logging:jar:1.1:compile
[INFO] |  \- javax.servlet:jstl:jar:1.2:compile
[INFO] \- javax.servlet:javax.servlet-api:jar:3.0.1:provided
[INFO] ------------------------------------------------------------------------
[INFO] BUILD SUCCESS
[INFO] ------------------------------------------------------------------------
[INFO] Total time: 2.440s
[INFO] Finished at: Wed Mar 06 13:24:47 GMT 2013
[INFO] Final Memory: 6M/120M
[INFO] ------------------------------------------------------------------------ 
```

*** 更新 2 ***

我在 Juno 中安装了以下版本：

```
m2e - Maven Integration for Eclipse 1.3.0.**20130129-0926** org.eclipse.m2e.feature.feature.group   Eclipse.org - m2e 
```

在@eis 所指向的帖子的答案中添加了链接检查更新。Eclipse 显示有一个小更新可用（**1.3.1.20130219-1424**）。但是更新失败并出现以下错误：

```
An error occurred while collecting items to be installed
session context was:(profile=epp.package.jee, phase=org.eclipse.equinox.internal.p2.engine.phases.Collect, operand=, action=).
No repository found containing: osgi.bundle,com.ning.async-http-client,1.6.5.20130219-0923
No repository found containing: osgi.bundle,org.eclipse.m2e.archetype.common,1.3.1.20130219-0923
No repository found containing: osgi.bundle,org.eclipse.m2e.core,1.3.1.20130219-1424
No repository found containing: osgi.bundle,org.eclipse.m2e.core.ui,1.3.1.20130219-1424
No repository found containing: osgi.bundle,org.eclipse.m2e.discovery,1.3.1.20130219-1424
No repository found containing: osgi.bundle,org.eclipse.m2e.editor,1.3.1.20130219-1424
No repository found containing: osgi.bundle,org.eclipse.m2e.editor.xml,1.3.1.20130219-1424
No repository found containing: osgi.bundle,org.eclipse.m2e.jdt,1.3.1.20130219-1424
No repository found containing: osgi.bundle,org.eclipse.m2e.launching,1.3.1.20130219-1424
No repository found containing: osgi.bundle,org.eclipse.m2e.lifecyclemapping.defaults,1.3.1.20130219-1424
No repository found containing: osgi.bundle,org.eclipse.m2e.maven.indexer,1.3.1.20130219-0923
No repository found containing: osgi.bundle,org.eclipse.m2e.maven.runtime,1.3.1.20130219-0923
No repository found containing: osgi.bundle,org.eclipse.m2e.model.edit,1.3.1.20130219-1424
No repository found containing: osgi.bundle,org.eclipse.m2e.refactoring,1.3.1.20130219-1424
No repository found containing: osgi.bundle,org.eclipse.m2e.scm,1.3.1.20130219-1424
No repository found containing: osgi.bundle,org.jboss.netty,3.2.5.Final-20130219-0923
No repository found containing: org.eclipse.update.feature,org.eclipse.m2e.feature,1.3.1.20130219-1424 
```

所以，我卸载了现有的 m2e 并重新安装了它。这行得通。还包括

```
m2e - slf4j over logback logging (Optional) 1.3.1.20130219-1424 org.eclipse.m2e.logback.feature.feature.group   Eclipse.org - m2e 
```

但问题仍然存在。Juno 仍在部署 javax.servlet-api3.0.1.jar :(

* * *

### 解决了

（首先免责声明：这是我的理解。很高兴得到纠正）

似乎 m2e + m2e extras（不确定它们是否仍然是单独的实体，或者只是 m2e）已经随 Juno 一起安装了。我必须安装[m2e - wtp 连接器](http://www.eclipse.org/m2e-wtp/)才能正常工作。Maven 范围现在受到尊重。

安装 m2e-wtp 连接器：在 Juno - Window > Preferences > Maven > Discovery > Open Catalog > 选中 m2e-wtp 连接器的复选框以安装它。这会将以下内容添加到已安装的软件中

```
m2e-wtp - Maven Integration for WTP (Incubation)    0.17.0.20130212-1821    org.eclipse.m2e.wtp.feature.feature.group   Eclipse.org - m2e-wtp 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T11:48:08.417

你`<artifactId/>`在这两个地方都错了。

*   标签排序约定（当然不是严格执行的）是按以下顺序定义工件和排除标签`groupId`，`artifactId`, `version`, `type`, `classifier`, `scope`。你的是`artifactId`，`groupId`。为了便于阅读，我建议您更正这一点并遵循约定。

*   更改您的排除项，如下所示：

    ```
    <dependency>
        <groupId>org.icefaces</groupId>
        <artifactId>icefaces-ace</artifactId>
        <version>3.2.0</version>
        <exclusions>
            <exclusion>
                <groupId>javax.servlet</groupId>
                <artifactId>servlet-api</artifactId>
            </exclusion>
        </exclusions>
    </dependency> 
    ```

*   将您的依赖项更改为：

    ```
    <dependency>
        <groupId>javax.servlet</groupId>
        <artifactId>servlet-api</artifactId>
        <version>3.0.1</version>
        <scope>provided</scope>
    </dependency> 
    ```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T14:32:25.937

对我来说，这不是 Maven 问题。Maven 获得了提供的 servlet-api，但您不是通过 maven 部署或构建包，您只是使用 maven 编译（也许通过 m2e 进行）并通过 Eclipse 进行部署。m2e/eclipse 应该处理这个问题，但不是。

根据这个[类似的线程](https://stackoverflow.com/questions/5905579/how-to-prevent-duplicate-servlet-jar-using-eclipsem2eclipse)，安装 m2e + m2e-extras 应该可以解决它。另请参阅其他答案以获取有关 Eclipse 行为的更多详细信息。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-28T09:40:09.103

我正在使用 Eclipse Juno 并安装“m2e - wtp”插件也解决了我的问题。

# c# - WPF - 通过代码在数据模板中托管内容控件

> ID：15245786
> 
> 赞同：0
> 
> 时间：2013-03-06T11:11:52.467
> 
> 标签：c#, wpf, wpf-controls

我正在尝试在数据模板中托管内容控件。

与此完全相似： [Puting a ContentControl *inside* a WPF DataTemplate?](https://stackoverflow.com/questions/2099765/putting-a-contentcontrol-inside-a-wpf-datatemplate)

我通过 XAML 成功地做到了。我想通过代码做同样的事情。

我创造了一种风格：

```
<Style x:Key="radioButtonAddtruefalse">
  <Setter Property="Control.Template">
    <Setter.Value>
      <ControlTemplate>
        <StackPanel Orientation="Horizontal">
          <RadioButton Content="True"  IsChecked="{Binding Value}"></RadioButton>
          <RadioButton Content="False" IsChecked="{Binding Value, Converter={StaticResource _invertedBooleanConverter}}"></RadioButton>
        </StackPanel>
      </ControlTemplate>
    </Setter.Value>
  </Setter>
</Style> 
```

在数据模板中：

```
 <DataTemplate>
                  <ContentControl Style="{StaticResource radioButtonAddtruefalse}"> /ContentControl>
                </DataTemplate> 
```

我尝试通过代码执行此操作，但在 DataTemplate 下没有发现任何允许我托管内容控件的内容。有什么建议么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-06T11:17:52.137

[刚刚从MSDN 论坛](http://social.msdn.microsoft.com/forums/en-US/wpf/thread/75b9f834-9afa-481b-8f5b-be81a6338d0c)复制，但这应该可以。不过没试过。

```
FrameworkElementFactory fef = new FrameworkElementFactory(typeof(TextBlock));

Binding placeBinding = new Binding();

fef.SetBinding(TextBlock.TextProperty, placeBinding);

placeBinding.Path = new PropertyPath("Name");

dataTemplate = new DataTemplate();

dataTemplate.VisualTree = fef; 
```

另请查看 [后面代码中的 Create DataTemplate](https://stackoverflow.com/questions/5471405/create-datatemplate-in-code-behind)

# xaml - 将值转换器应用于文本框中更改的值

> ID：15245788
> 
> 赞同：2
> 
> 时间：2013-03-06T11:11:55.150
> 
> 标签：xaml, data-binding, windows-8, winrt-xaml, ivalueconverter

我有一个简单的 WinRT（Win8、.NET/C#/XAML）项目。我的 XAML TextBox 控件之一附加了一个自定义 StringValueConverter，它格式化来自视图模型的数据绑定值。

这很好用，但它缺少一件事：当用户更改 TextBox 中的值（例如：货币值）并离开 TextBox 时，应自动应用转换器。到目前为止，视图模型中的数据绑定值已更新，但视图并未再次应用转换器。

是否有任何内置解决方案或任何已知的自定义解决方案？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T16:04:27.777

我测试了你描述的场景，它工作正常：

XAML：

```
<Window x:Class="ValueConverterTest.MainWindow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:valueConverterTest="clr-namespace:ValueConverterTest"
    Title="MainWindow" Height="350" Width="525">
<Window.Resources>
    <valueConverterTest:CustomConverter x:Key="CustomConverter" />
</Window.Resources>
  <StackPanel>
   <TextBox Text="{Binding CustomText, Converter={StaticResource CustomConverter}}"></TextBox>
    <TextBox></TextBox>
</StackPanel>
</Window> 
```

后面的代码：

```
namespace ValueConverterTest
{
   using System.ComponentModel;
   using System.Windows;

   public partial class MainWindow : Window, INotifyPropertyChanged 
   {

      public string CustomText
      {
        get { return customText; }
        set
        {
           customText = value;
           OnPropertyChanged("CustomText");
        }
      }

      public MainWindow()
      {
        InitializeComponent();
        DataContext = this;
      }

      private string customText;

      public event PropertyChangedEventHandler PropertyChanged;

      protected virtual void OnPropertyChanged(string propertyName)
      {
         PropertyChangedEventHandler handler = PropertyChanged;
         if (handler != null)
         {
            handler(this, new PropertyChangedEventArgs(propertyName));
         }
      }
   }
} 
```

值转换器：

```
using System;
using System.Globalization;
using System.Windows;
using System.Windows.Data;

namespace ValueConverterTest
{
   public class CustomConverter : IValueConverter
   {
      public object Convert(object value, Type targetType, object parameter, CultureInfo culture)
      {
         return value;
      }

      public object ConvertBack(object value, Type targetType, object parameter, CultureInfo culture)
      {
         return value;
      }
   }
} 
```

此示例工作正常。通过首先离开文本框，调用 convert back 方法，然后再调用 convert 方法。

你确定你的装订工作正常吗？

# responsetext - 使用 xmlHttprequest 的 responseText 更新页面，即使 IE8 浏览器的 readyState 不等于 4

> ID：15245795
> 
> 赞同：1
> 
> 时间：2013-03-06T11:12:02.803
> 
> 标签：responsetext

即使readyState不等于4，我也需要使用responseText更新页面。我得到了对浏览器的响应，但是如果我试图获取responseText，它会在IE旧版本和chrome中显示脚本错误。它在 Firefox 和 IE10 浏览器中运行良好。谁能帮我在 IE 旧版本和 chrome 浏览器中获取 responseText。

```
if (window.XMLHttpRequest) {
    self.xmlHttpReq = new XMLHttpRequest();
}
else if (window.ActiveXObject) {
    self.xmlHttpReq = new ActiveXObject("Microsoft.XMLHTTP");
}
self.xmlHttpReq.open('POST', strURL, true);
self.xmlHttpReq.onreadystatechange = function() {
if(self.xmlHttpReq.responseText!="" && self.xmlHttpReq.readyState!=4){
   updatepage(self.xmlHttpReq.responseText);
}
self.xmlHttpReq.send(string); 
```

# javascript - JavaScript 在参数中引用对象

> ID：15245796
> 
> 赞同：0
> 
> 时间：2013-03-06T11:12:02.783
> 
> 标签：javascript, inheritance, reference, extend

JavaScript 是否在代码中的任何位置（函数、对象等）引用全局对象？

我已经写了这个并且它可以正常工作（写在行内评论中）：

```
function Extender(object, property, value) {
    object[property] = value;
}

var MyObject = {};

MyObject.zlatan = 'at stackoverflow';

console.log(MyObject.zlatan); // at stackoverflow

// -----

Extender(MyObject, "stackoverflow", function() {
    return console.log('I am executing MyObject.stackoverflow()');
});

MyObject.stackoverflow(); // I am executing MyObject.stackoverflow() 
```

如您所见，扩展器函数接受三个参数，我可以使用它添加新属性及其值（字符串、数字、数组、对象、函数回调等）。

我在这里的一个问题也是为什么我们不需要任何特殊的指针/标识符来引用变量，就像我们在 PHP 中所做的那样：

```
$something &= $somethingElse; 
```

或在 PHP 函数/方法中：

```
function something( &$argument ) {
    // etc
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T11:18:54.927

JavaScript 中的所有变量都是引用。

# sql-server - 删除 SQL Server 中的隐式转换

> ID：15245797
> 
> 赞同：4
> 
> 时间：2013-03-06T11:12:03.593
> 
> 标签：sql-server, casting, implicit-conversion

我试图从数据库中消除隐式转换。

我在下面的 UpdatedByID 字段上添加了 CAST 语句，因为这是一个 Char(10)，它正在加入 FROM 语句中的一个 INT。但我仍然得到隐式转换。我一定遗漏了一些明显的东西？？

```
 SELECT DISTINCT ba.BookingID INTO #temp1
        FROM BookedItemsAudit_tbl bia  
        INNER JOIN BookingAudit_tbl ba ON bia.BookingAuditID = ba.BookingAuditID    
        INNER JOIN User_tbl u ON  u.UserId  = CAST(ba.UpdatedById AS INT)
        WHERE bia.BookedItemTypeId IN (1, 58, 60)   
        AND u.UserId = 5 
```

这是精简的架构

```
BOOKINGAUDIT_TBL
Column_name     Type        Length
BookingAuditID  int         4
BookingID       int         4
UpdatedByID     CHAR        10
UpdatedBy       varchar     50
UpdatedDate     datetime    8
TotalMargin     money       8
BookingStatusId int         4

 USER_TBL
 Column_name    Type        Length
 UserId         int         4
 FullName       varchar     100
 UserName       varchar     20 
```

此链接中的完整查询和架构

[SQL小提琴](http://sqlfiddle.com/#!6/3ca48/1)

附件是提示出现在执行计划中时的错误信息

![转换为 INT 后的隐式转换](../Images/0b59c4414408732359e7fb065f9c612a.png)

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-03-06T12:55:29.697

警告是关于您的*显式*转换而不是*隐式*转换。您显示的工具提示未提及`CONVERT_IMPLICIT`

`CAST(ba.UpdatedById AS INT)`显示在计划中`CONVERT(int,ba.UpdatedById ,0)`并警告您（它会阻止在 ba.UpdatedById 上进行索引搜索）。

要停止看到此警告，您需要修复架构，以便加入相同数据类型的列。

# ios - 在实例化时初始化一个新数组

> ID：15245805
> 
> 赞同：0
> 
> 时间：2013-03-06T11:12:35.790
> 
> 标签：ios, objective-c++

我正在使用最新的 SDK 开发一个 iOS 应用程序。

我有一个`Objective-C++`具有这两个属性的类：

```
@interface MyClass : NSObject

@property (nonatomic) int* road;
@property (nonatomic) int* cars;

...

@end 
```

在这个方法里面`init`：

```
 _road = new int[16] (0);
    _cars = new int[16] (0); 
```

但我得到这个错误：`Array 'new' cannot have initialization arguments`。

阅读本[教程](http://web.eecs.umich.edu/~sugih/pointers/C++NotInC.html)，他们说我可以这样初始化它们。

**如何初始化这些变量？**

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-06T11:23:27.523

要解决问题，请使用以下代码：

```
_road = new int[16] ();
_cars = new int[16] (); 
```

它将数组的所有成员初始化为默认值。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-06T11:29:34.660

ISO C++ 不允许指定构造函数参数。您链接的教程可能引用了 clang 中不可用的语言扩展。

# php - php auth 用户重定向标头位置

> ID：15245810
> 
> 赞同：0
> 
> 时间：2013-03-06T11:12:48.723
> 
> 标签：php, authentication

这对我有用了很长时间，但突然停止了工作。我在同一个文件夹（用户）中有一个 .htaccess 和 .htpasswd，下面是 index.php 文件

```
<?
if(isset($_SERVER['PHP_AUTH_USER'])) { 
header("Location: http://website.com/users/".$_SERVER['PHP_AUTH_USER']); 
    } 
else header("Location: http://website.com/failed_login"); 
?> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T11:16:18.973

尝试这个

```
<?php
if(isset($_SERVER['PHP_AUTH_USER'])) { 
   header("Location: http://website.com/users/".$_SERVER['PHP_AUTH_USER']); 
} 
else {
   header("Location: http://website.com/failed_login");
} 
?> 
```

# php - 带有php支付页面的ssl

> ID：15245812
> 
> 赞同：-1
> 
> 时间：2013-03-06T11:13:06.823
> 
> 标签：php, ssl, https

我已经查看了该站点上有关 SSL 和 PHP 的其他问题，但我仍然感到困惑。我以前从未设置过 https 页面。我已经阅读了有关 ssl 的文章并且知道它是什么，但我仍然不知道如何使用托管在在线 Linux 服务器上的我的 php 应用程序来设置它。

我很沮丧，因为经过大量搜索（即使在这个网站上），我迷失了我的步骤应该是什么。请帮忙。

*   我需要使用我的付款页面（会员付款）和登录页面进行设置。我正在使用 codeigniter 框架

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T11:18:04.787

假设所有其他（服务器的东西）配置正确，你唯一需要做的就是将页面重定向到`https://your-url`而不是`http://your-url`. 它是完全透明的——只要确保`https`使用绝对路径加载所有资产（外部 CSS/JS）。

最好的方法是通过与协议无关的链接包含 CSS/JS 文件（而不是`http://mydomain/mylibrary`使用`//mydomain/mylibrary`它，它会自动完成。图像等应该是相对路径。

通常，“服务器的东西”需要花费所有时间来正确设置。但是，这些超出了问题的范围（我希望），因为最好在[https://serverfault.com/](https://serverfault.com/)中询问。

# java - 可以同时安全访问ehcache磁盘存储吗？

> ID：15245813
> 
> 赞同：3
> 
> 时间：2013-03-06T11:13:08.107
> 
> 标签：java, concurrency, filesystems, ehcache

我看到 DiskStore 位置有一个 .lock 文件。我一直明白，使文件 IO 原子化是困难的，有时甚至是不可能的。所以，我的期望是多个应用程序不能安全地使用同一个 ehcache DiskStore。但是，锁定文件让我想知道。抛开性能瓶颈，它可以工作吗？

上下文：我想知道运行同一应用程序的两个 Java Servlet 上下文是否可以共享一个 DiskStore。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T21:13:37.060

答案是不。

您可以改用[Terracotta 服务器阵列](http://terracotta.org/documentation/bigmemorymax/terracotta-server-array/server-arrays)。或者，作为第二种选择，[复制缓存](http://ehcache.org/documentation/user-guide/cache-topologies#replicated-caching)也可能适合您，其中每个应用程序/实例都有自己的本地 DiskStore。

# android - 选项卡活动第一个屏幕独立于选项卡

> ID：15245816
> 
> 赞同：1
> 
> 时间：2013-03-06T11:13:12.293
> 
> 标签：android, android-layout, android-widget

我在屏幕底部有一个带有 2 个选项卡的屏幕。运行应用程序后，第一个选项卡将自动处于活动状态，并且将显示与该屏幕相关的活动（屏幕 1）。然后，当用户单击第二个选项卡时，它会打开另一个活动（屏幕 2）。

要求：我想在应用加载时显示屏幕 0 而不是显示屏幕 1。此时两个选项卡都应该处于非活动状态（未按下）。用户单击任何选项卡后，仅应打开相应的屏幕（屏幕 1 和屏幕 2）。

怎么做？

我使用的代码如下：

```
public class TabBarActivity extends TabActivity {

    @Override
    public void onCreate(Bundle savedInstanceState) {

        super.onCreate(savedInstanceState);
        requestWindowFeature(Window.FEATURE_NO_TITLE);
        setContentView(R.layout.main);

        // Your Tab Titles
        String tab_title[] = { "Screen 1", "Screen 2"};

        // Your Tab Drawables for their states
        int tab_drawables[] = { R.drawable.tab_home_custom,
                R.drawable.tab_balance_custom};

        // Your Tab Activities
        Object tab_act[] = { TabB.class,TabC.class};

        // / TabHost setup
        final TabHost tabHost = (TabHost) findViewById(android.R.id.tabhost);
        tabHost.setup();

        TabSpec tab_spec ;

        for (int i = 0; i < tab_act.length; i++) {

                tab_spec = tabHost.newTabSpec(tab_title[i]);
                tab_spec.setIndicator(tab_title[i],
                        getResources().getDrawable(tab_drawables[i]));
                tab_spec.setContent(new Intent(this, (Class<?>) tab_act[i]));
                tabHost.addTab(tab_spec);

        }
        tabHost.setCurrentTab(0);
    }

    @Override
    public boolean onKeyDown(int keyCode, KeyEvent event) {
        if (keyCode == KeyEvent.KEYCODE_BACK) {
            TabBarActivity.this.finish();
            return true;
        }
        return super.onKeyDown(keyCode, event);
    }
} 
```

![截屏](../Images/17083d35299d1d3caf6da966838fb1d4.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T11:22:23.657

只需创建一个新的活动，屏幕 0，并使用意图启动您的选项卡活动，屏幕 1 和屏幕 2。然后，您可以更改清单文件，以便通过将此代码添加到活动声明中来将新活动标记为启动器。

```
<intent-filter>
    <action android:name="android.intent.action.MAIN"/>
    <category android:name="android.intent.category.LAUNCHER"/>
</intent-filter> 
```

您还需要从当前选项卡活动中删除该代码。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T11:23:27.473

这不是 TabActivity 通常支持的。

您可以通过添加“虚拟”选项卡来达到预期的效果：

```
public class TabBarActivity extends TabActivity {

@Override
public void onCreate(Bundle savedInstanceState) {

    super.onCreate(savedInstanceState);
    requestWindowFeature(Window.FEATURE_NO_TITLE);
    setContentView(R.layout.main);

    // Your Tab Titles
    String tab_title[] = { "", "Screen 1", "Screen 2"};

    // Your Tab Drawables for their states
    int tab_drawables[] = { R.drawable.tab_home_custom,
            R.drawable.tab_balance_custom};

    // Your Tab Activities
    Object tab_act[] = {Activity.class, TabB.class,TabC.class};

    // / TabHost setup
    final TabHost tabHost = (TabHost) findViewById(android.R.id.tabhost);
    tabHost.setup();

    TabSpec tab_spec ;

    for (int i = 0; i < tab_act.length; i++) {

            tab_spec = tabHost.newTabSpec(tab_title[i]);
            if(i>0) tab_spec.setIndicator(tab_title[i],
                    getResources().getDrawable(tab_drawables[i]));
            tab_spec.setContent(new Intent(this, (Class<?>) tab_act[i]));
            tabHost.addTab(tab_spec);

    }
    tabHost.setCurrentTab(0);
}

@Override
public boolean onKeyDown(int keyCode, KeyEvent event) {
    if (keyCode == KeyEvent.KEYCODE_BACK) {
        TabBarActivity.this.finish();
        return true;
    }
    return super.onKeyDown(keyCode, event);
} 
```

}

我不确定这是否会在标签栏中创建一个空白标签按钮

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-06T11:30:53.030

我想您想要一个带有应用程序徽标的启动画面，您需要创建另一个活动并从中导航到 tabActivity

```
public class splash2 extends Activity{

    protected boolean _active = true;
    protected int _splashTime = 2000;
    Intent intent;
    Runnable r;
    Handler handler;
    /** Called when the activity is first created. */

    @Override
    public boolean onKeyDown(int keyCode, KeyEvent event) {
        if ( keyCode == KeyEvent.KEYCODE_MENU ) {
            getWindow().setSoftInputMode(
                    WindowManager.LayoutParams.SOFT_INPUT_STATE_ALWAYS_HIDDEN);
            return true;
        }
        return super.onKeyDown(keyCode, event);
    }

    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.splashlayout2);

        //   startActivity(new Intent(splash2.this,splash1.class));
        // thread for displaying the SplashScreen

        handler = new Handler();

        r=new Runnable() {
            public void run() {

                intent = new Intent(splash2.this, TabBarActivity .class);
                //intent.setClass();
                startActivity(intent);

                finish();
            }

        };
        handler.postDelayed(r, _splashTime);

    }

    @Override
    public boolean onTouchEvent(MotionEvent event) {
        if (event.getAction() == MotionEvent.ACTION_DOWN) {
            handler.removeCallbacks(r);
            intent = new Intent();
            intent.setClass(splash2.this, Main_menu.class);
            startActivity(intent);
            overridePendingTransition( R.anim.slide_in_left2, R.anim.slide_out_left2 );
            finish();
        }
        return true;
    }

    @Override
    public void onBackPressed() {
        // TODO Auto-generated method stub

    }
} 
```

并将以下标签添加到此活动的活动标签中，而不是将这些标签包含在 TabBarActivity 中

```
<intent-filter>
    <action android:name="android.intent.action.MAIN"/>
    <category android:name="android.intent.category.LAUNCHER"/>
</intent-filter> 
```

它将使此启动屏幕成为默认活动

# javascript - 骨干路由和 target="_blank" 不起作用

> ID：15245819
> 
> 赞同：3
> 
> 时间：2013-03-06T11:13:22.853
> 
> 标签：javascript, backbone.js, url-routing

有谁知道为什么`target="_blank"`在 Backbone 应用程序中不起作用？页面在同一选项卡中打开..

在我的模板中：

```
<a href="/pages/{{id}}" target="_blank">Open it</a> 
```

它在同一个选项卡中打开。有什么解决办法吗？

谢谢

**回答**

在你的 Router.js 里面的常见点击函数中使用这个条件：

```
if ($(event.currentTarget).prop('target') === '_blank') {
    return true;
} 
```

# asp.net - 获取值以显示为复选框 - 不是 T 或 F

> ID：15245820
> 
> 赞同：1
> 
> 时间：2013-03-06T11:13:23.450
> 
> 标签：asp.net, checkbox

在管理工作室的设计模式中，我在“已检查”表中添加了一行，它有一个“位”作为数据类型，并存储为真或假。

我可以让它在屏幕上正常显示（使用中继器），但是我想使用一个复选框，而不是显示真或假，该复选框根据 T 或 F 勾选或取消勾选。

aspx：

```
<th style="width:200px;"><%# Eval("Checked") %></th> 
```

在后面：

```
DBData db = new DBDatat();
        List<Select_Utility> SelectedUtility = 
            (from SU in db.Select_Utilities
             where SU.Work_Id == 3
             select SU).ToList();

        rptSelectedUtilities.DataSource = SelectedUtility;
        rptSelectedUtilities.DataBind(); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T11:22:31.643

你做得对。而不是纯文本，替换为复选框

```
<th style="width:200px;">
   <asp:CheckBox ID="chkMyCheck" runat="server" 
           Checked='<%# Convert.ToBoolean(Eval("Checked")) %>'/>
</th> 
```

# testing - 使用angularjs编写测试时如何处理重定向？

> ID：15245822
> 
> 赞同：1
> 
> 时间：2013-03-06T11:13:29.953
> 
> 标签：testing, redirect, angularjs

有一个关于如何使用 angularjs 运行 E2E 测试的基本文档：http: [//docs.angularjs.org/guide/dev_guide.e2e-testing](http://docs.angularjs.org/guide/dev_guide.e2e-testing)

在我的项目中，我将 angularjs 用于多页 Web 应用程序。当我单击页面中的链接时，它将打开一个全新的页面。并且有一个登录页面，我必须在测试前登录。

我将在测试中执行以下操作：

1.  访问登录页面
2.  输入用户名和密码
3.  提交表格
4.  访问我要测试的真实页面
5.  测试页面

但我没有在该文件中找到任何信息`redirect`。我应该怎么办？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-01-20T17:21:39.727

不用担心考试准备。整个事情发生在一个可以独立存在的 iframe 中。

因此，如果您单击发生重定向的链接，它无论如何都会重定向。

请注意，在 Angular 的 e2e 测试中没有特殊的设置部分，这意味着一切都是测试，这意味着您的设置阶段也是一个测试。

您可以做的是正确准备设置的第一个测试：

```
describe('My Whole Test Suite', function () {

    it('Should be able to access page', function () {
        browser().navigateTo('/whereSetupOccurs');
        input('#username').enter('john');
        input('#password').enter('psswrd');

        // when you click redirection happen anyway
        element('#submit').click();

        //check that redirection was made properly
        expect(browser().location().url()).toContain("/whereIWantedToGoForMyTests");

    });

    it('Should be able to ...', function () {
        // the real tests you wanted here
    });

}); 
```

# java - Spring IoC 和 Java EE

> ID：15245825
> 
> 赞同：3
> 
> 时间：2013-03-06T11:13:38.980
> 
> 标签：java, spring, jakarta-ee, inversion-of-control

在 Spring 中，通过 ApplicationContext 类，我可以利用 IoC 功能并获得对 bean 的引用，如下所示

```
public class Driver {

    public static void main(String args[])
    {
      ApplicationContext applicationContext = new ClassPathXmlApplicationContext("/spring-config.xml");

      MyClass myClass = (MyClass)applicationContext.getBean("myClass");

} 
```

我希望能够对 Java EE 做同样的事情，但我似乎无法在应用程序服务器之外。

我正在尝试以下

```
public class Driver {

  public static void main(String args[])
  {

    InitialContext ic;

    try {

        ic = new InitialContext();
        // JNDI lookup
        MyClass myClass = (MyClass)ic.lookup("java:module/MyClass");            
    } catch (NamingException e) {
        // TODO Auto-generated catch block
        e.printStackTrace();
    } catch (SecurityException e) {
        // TODO Auto-generated catch block
        e.printStackTrace();
    } catch (IOException e) {
        // TODO Auto-generated catch block
        e.printStackTrace();
    }

} 
```

到目前为止，通过这种方法，我得到了一个 javax.naming.NoInitialContextException。我的问题是如何在使用 Java EE 的独立应用程序中加载 IoC 功能？

**编辑**感谢您的帮助...我选择了 OpenWebBeans CDI 实现...感谢您的帮助。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-06T11:25:38.497

目前您正在使用[JNDI](http://en.wikipedia.org/wiki/Java_Naming_and_Directory_Interface)，而不是 IoC。

如果您希望 JNDI 在独立应用程序中工作以查找“jndi 客户端”的远程数据谷歌。

如果您想在 Java EE 应用程序中使用 IoC - 检查[CDI](http://docs.oracle.com/javaee/6/tutorial/doc/giwhl.html)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T11:27:07.727

如果您需要在 Web 容器或应用程序服务器之外获取 JNDI 资源，那么*在* `lookup`您需要*绑定*资源之前。但在绑定之前，您需要实现并注册`javax.naming.spi.InitialContextFactory`实现。

我建议以最简单的方式将所有绑定保留在全局`java.util.concurrent.ConcurrentHashMap`. 所以它应该如下所示（请记住，这是最简单的解决方案，在某些情况下它可能无法正常工作，但它可以满足您的特定要求）：

```
public class Driver {

    //static initializtion
    static {
        //registering you custom InitialContextFactory
        //note, that you can register it in some other way, check http://docs.oracle.com/javase/jndi/tutorial/beyond/env/source.html
        System.setProperty("java.naming.factory.initial", SimpleInitialContextFactory.class.getName());

        bindMyClass();
    }

    private static void bindMyClass(){
        try {
            InitialContext context = new InitialContext();
            context.bind("java:module/MyClass", new MyClass());
        } catch (NamingException ignored) {}
    }

    public static void main(String args[]) throws Exception {
        InitialContext ic = new InitialContext();
            // JNDI lookup
        MyClass myClass = (MyClass)ic.lookup("java:module/MyClass");//should find it
    }
}

class SimpleInitialContextFactory implements InitialContextFactory {

        @Override
        public Context getInitialContext(Hashtable<?, ?> environment) throws NamingException {
            return new MapBasedContext(environment);
        }
    }

public class MapBasedContext implements Context {
    //actual holder of context
    private static Map values = new ConcurrentHashMap();

    public MapBasedContext() {
    }

    public MapBasedContext(Hashtable<?, ?> environment) {
        values.putAll(environment);
    }

    @Override
    public void bind(String name, Object obj) throws NamingException {
        values.put(name, obj);
    }

    @Override
    public Object lookup(String name) throws NamingException {
        return values.get(name); //you may throw an exception in case if name is absent
    }

    //TODO everything else should be implemented, but actual methods bodies aren't required
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-06T15:05:40.463

CDI 是 java EE 6 中的 spring “等效”
（实际上它并不等效，因为它仅涵盖 Context 和 DI 功能，其他功能则被 EJB 或 JPA 等其他 JSR 实现所涵盖，但如果您的问题只是使用 DI 那么它会非常适合。但是，您将无法使用其他 spring / Java EE 功能，例如容器管理事务）
如果您想在独立应用程序中运行它，请继续 Jboss WELD CDI 实现。

就我个人而言，我认为对于上下文和 DI 管理来说，这比 spring 好得多，但这里不是巨魔的地方

# php - xml编码错误

> ID：15245827
> 
> 赞同：1
> 
> 时间：2013-03-06T11:13:44.527
> 
> 标签：php, xml, encoding, character-encoding

我有这个代码 xml

```
<?php header("Content-Type: text/xml;charset=ISO-8859-7");?>
<pages>
<link>
<title>κεμενο</title>
<url>http://www.example.com</url>
</link>
</pages> 
```

当我在 y xml 上有拉丁字符时，这里的 html 代码用于实时搜索，它工作正常![在此处输入图像描述](../Images/cdb3dc8b14ae374e4248d59e68c0093e.png)，但是当我将字符从英语更改为希腊语时，我有这个错误消息。 **警告：DOMDocument::load() [domdocument.load]: 输入不是正确的 UTF-8，表示编码！字节：/Applications/XAMPP/ 中的 0xE1 0x3C 0x2F 0x74**

```
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-7" />
<script>
function showResult(str)
{
if (str.length==0)
  { 
  document.getElementById("livesearch").innerHTML="";
  document.getElementById("livesearch").style.border="0px";
  return;
  }
if (window.XMLHttpRequest)
  {// code for IE7+, Firefox, Chrome, Opera, Safari
  xmlhttp=new XMLHttpRequest();
  }
else
  {// code for IE6, IE5
  xmlhttp=new ActiveXObject("Microsoft.XMLHTTP");
  }
xmlhttp.onreadystatechange=function()
  {
  if (xmlhttp.readyState==4 && xmlhttp.status==200)
    {
    document.getElementById("livesearch").innerHTML=xmlhttp.responseText;
    document.getElementById("livesearch").style.border="1px solid #A5ACB2";
    }
  }
xmlhttp.open("GET","livesearch.php?q="+str,true);
xmlhttp.send();
}
</script>
</head>
<body>

<form>
<input type="text" size="30" onkeyup="showResult(this.value)">
<div id="livesearch"></div>
</form>
</body>
</html> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-06T19:17:15.443

您正在使用该方法`DOMDocument::load()`从文件加载 XML 文档。

该文件正在使用`ISO-8859-7`编码，但是，XML 并未在其 XML 声明中表示此编码（顺便说一句，该`header()`调用未表示 的编码`load()`）。

因此 DOMDocument 假定文件是 UTF-8 格式，但是它运行在非法的二进制序列上：

二进制八位`"\xE2"`字节表示编码一个 Unicode 代码点的两个后续八位字节。但是，在您的情况下，接下来的两个八位字节`"\x3C\x2F"`不是有效的连续字节。

再次查看错误消息：

> 警告：DOMDocument::load() [domdocument.load]: 输入不是正确的 UTF-8，表示编码！字节：0xE1 0x3C 0x2F 0x74 在...

这暗示了两个潜在的解决方案：

1.  表示编码。
2.  将 XML 字符串提供为 UTF-8 编码。

第一个选项意味着在文件顶部添加一个 XML 声明，表明所使用的编码：

```
<?xml version=\"1.0\" encoding=\"ISO-8859-7\"?>
<pages> 
```

然后可以加载并重新编码此文件：

```
$doc->load($path);
$doc->encoding = 'UTF-8'; 
```

*第二种选择是在加载之前*重新编码字符串，但是如果您设置了我推荐的 XML 声明，通常不需要这样做。

重新编码字符串（不是文件名！）的工作原理如下：

```
$xmlUTF_8 = iconv('ISO-8859-7', 'UTF-8', $xmlISO_8859_7); 
```

希望这可以帮助。另请参阅[如何保持中文或其他外语原样而不是将它们转换为代码？](https://stackoverflow.com/questions/10237238/how-to-keep-the-chinese-or-other-foreign-language-as-they-are-instead-of-convert)以及其他显示解决方法的链接问题。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-06T11:16:43.537

> 输入不是正确的UTF-8，表示编码

...所以我猜你的问题是如何在 XML 中表示编码。由于它似乎是一个静态文档：

```
<?xml version="1.0" encoding="ISO-8859-7"?>
<pages>
<link>
<title>κεμενο</title>
<url>http://www.example.com</url>
</link>
</pages> 
```

根据您的 PHP 设置，您可能需要对`<?`标签进行混淆处理，使其不会被解释为 PHP 标签。

# perl - 从 perl IO stearm 调用时无法读取传递的 java 中的密码

> ID：15245836
> 
> 赞同：-1
> 
> 时间：2013-03-06T11:14:09.627
> 
> 标签：perl, io, stream

我们使用以下命令从 Perl 调用 Java 代码：

```
 $fh = IO::Handle->new();
 open($fh,"| $command"); 
```

命令是：`java MyJavaClass`

在 Java 代码中，我们需要提示用户使用`System.in`.

```
while (true)
{
    switch (c = in.read())
    {
        case '\n':
            break loop;
    }
} 
```

问题是`in.read()`返回-1，即流结束。

有没有人有什么建议？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T11:58:47.000

你没有将任何东西传递到你正在打开的管道中。并且不需要`IO::Handle`因为`open()`会覆盖`$fh`。我认为它应该看起来像

```
 open(my $fh,"| $command");
 print $fh "Mypassword\n"; 
```

# iphone - 并行阵列

> ID：15245839
> 
> 赞同：2
> 
> 时间：2013-03-06T11:14:19.440
> 
> 标签：iphone, ios, arrays, cocoa

我正在创建一个 iPhone 游戏，它将调用一个通用的 Newsfeed 并应用随机份额，以低中或高增加/减少影响股价。有人建议我使用并行数组来解决这个问题。这是最好的方法吗？有没有人有一个有用的链接来指导如何做到这一点？

我有一个简单的数组设置。但是我是 x-code 的新手，我需要获取一些编码来调用数组中的项目。

```
#import "NewsFeedViewController.h"

@interface NewsFeedViewController ()

@end

@implementation NewsFeedViewController

- (id)initWithNibName:(NSString *)nibNameOrNil bundle:(NSBundle *)nibBundleOrNil
{
    self = [super initWithNibName:nibNameOrNil bundle:nibBundleOrNil];
    if (self) {
        // Custom initialization
    }
    return self;
}

- (void)viewDidLoad
{
    [super viewDidLoad];
 //Setup NSArray
    items = [[NSArray alloc] initWithObjects:@"Galaxy", @"Redbull", @"Boost", nil];
}

- (void)didReceiveMemoryWarning
{
    [super didReceiveMemoryWarning];
    // Dispose of any resources that can be recreated.
}

- (NSInteger)tableView:(UITableView *)tableView numberOfRowsInSection:(NSInteger)section;
{
    return items.count;
}

- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath;
{
    UITableViewCell * cell = [tableView dequeueReusableCellWithIdentifier:@"cell"];

    if (cell == nil)
    {
        cell = [[UITableViewCell alloc] initWithStyle: UITableViewCellStyleDefault reuseIdentifier:@"cell"];
    }

    cell.accessoryType = UITableViewCellAccessoryDetailDisclosureButton;
    cell.textLabel.text = [items objectAtIndex:indexPath.row];
    return cell;

}
@end 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T11:28:10.880

如果您正在寻找并行数组，那么这是一个示例：

```
NSArray *alphabets=@[@"A",@"B",@"C",@"D"];
NSArray *words=@[@"Apple",@"BlackBerry",@"Cognizant",@"Dell"];

for (NSInteger i=0; i<alphabets.count; i++) {
    NSLog(@"%@ for %@",alphabets[i],words[i]);
} 
```

很明显，两个数组通过 1-1 映射关联，并且在循环时，我使用相同的索引来匹配记录。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T13:01:38.143

我刚刚回答了一个不相关的问题，但是我构建的项目使用三个数组作为 TableView 的数据源。

示例项目链接如下，但这是代码的核心： [https ://dl.dropbox.com/u/3660978/UniversalTableView.zip](https://dl.dropbox.com/u/3660978/UniversalTableView.zip)

```
-(void)populateArrays {
    // New literal syntax of interacting with Arrays.
    namesArray = @[@"Homer Simpson",@"Marge Simpson",@"Bart Simpson",@"Lisa Simpson",@"Maggie Simpson",@"Mr. Burns",
                   @"Principal Skinner",@"Krusty the Clown"];

    descriptionsArray = @[@"Homer is a lazy, but also a funny father",
                          @"Marge is smart, but not smart enough to not marry Homer lol",
                          @"Bart is just a smart-alec, but he is really funny too",
                          @"Lisa is the smartest one and the brunt of most jokes",
                          @"Maggie is just the baby of the family",
                          @"Mr. Burns is Homer's boss and evil too",
                          @"Principal Skinner is Bart and Lisa's principal at school",
                          @"Krusty is always clowning around (not really that funny though)"];

    imagesArray =  @[@"homer.jpg",@"marge.jpg",@"bart.jpg",@"lisa.jpg",@"maggie.jpg",@"burns.jpg",
                     @"skinner.jpg",@"krusty.jpg"];
}

- (NSInteger)tableView:(UITableView *)tableView numberOfRowsInSection:(NSInteger)section {
    // Return the number of rows in the section.
    return [namesArray count];
}

- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath
{
    static NSString *CellIdentifier = @"MyCustomCell";
    CustomTableViewCell *cell = [tableView dequeueReusableCellWithIdentifier:CellIdentifier];

    // Configure the cell...
    cell.customLabel.text = [namesArray objectAtIndex:indexPath.row];
    cell.customTextView.text = [descriptionsArray objectAtIndex:indexPath.row];
    cell.customImageView.image = [UIImage imageNamed:[imagesArray objectAtIndex:indexPath.row]];

    return cell;
} 
```

# ruby-on-rails-3 - Rails 中的用户特定设置

> ID：15245848
> 
> 赞同：0
> 
> 时间：2013-03-06T11:14:45.287
> 
> 标签：ruby-on-rails-3, global-variables

我正在开发一个 Ruby on Rails 应用程序。在我的应用程序中，我在欢迎页面上有一个设置，用户可以在其中选择语言（默认为英语）。我应该在哪里声明这个变量，一旦用户更改它，我应该在哪里更改它？

我尝试在 development.rb 中声明一个配置变量，但由于它是应用程序的全局变量，如果用户 A 更改语言，用户 B 也会看到用户 A 所做的更改。

我需要一个用户特定的设置。换句话说：一个特定的会话。当我打开网站时，它应该初始化为默认值，当我更改它时，应用程序不应将这些更改应用于其他人。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T16:48:32.363

如果您“需要特定于用户的设置”，您可以定义一个会话变量：

`session[:language]`

# javascript - 根据它们在数组中的位置从数组中获取代表元素

> ID：15245852
> 
> 赞同：0
> 
> 时间：2013-03-06T11:14:59.793
> 
> 标签：javascript, algorithm, filter, underscore.js

这个疑问是关于 underscore.js 的，但可以用普通的 javascript 解决。

假设我们有一个数组

```
['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'] 
```

根据一个参数，我只想显示数组的 X 个代表元素。

例如。

*   如果我想要 2 个元素。对我来说，代表将是：['Jan', 'Dec']
*   对于 3 个元素：['Jan'、'Jul'、'Dec']
*   对于 4 个元素：['Jan'、'Apr'、'Sep'、'Dec']
*   所以...

要求：

1.  我总是想要第一个和最后一个元素
2.  项目数量将是 2 或更多

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-06T11:23:23.923

从您的示例模式来看，“代表性”是中间的第一个、最后一个和 N-2 个元素。

```
function representative(arr, n) {
    n = Math.max(n, Math.min(arr.length, 2));
    var offset = (arr.length - 1) / (n - 1);
    var out = [];
    for(var i = 0; i < arr.length; i += offset) out.push(arr[0|Math.round(i)]);
    return out;
}

var months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];
console.log(representative(months, 2));
console.log(representative(months, 3));
console.log(representative(months, 4)); 
```

似乎可行，尽管“中间”的定义有待商榷......

```
// output
[ 'Jan', 'Dec' ]
[ 'Jan', 'Jul', 'Dec' ]
[ 'Jan', 'May', 'Aug', 'Dec' ] 
```

# php - 在 mamp 上安装 pecl、pear 和 xde

> ID：15245854
> 
> 赞同：1
> 
> 时间：2013-03-06T11:15:03.180
> 
> 标签：php, mamp, xdebug

我正在尝试在 mamp 2.1.2 上安装 pecl、pearl 和 xdebug。我几乎尝试了所有方法，但即使 xdebug 出现在 phpinfo 中，它似乎也不起作用。我也为netbeans尝试过，但没有。我是 mac 新手，对于如何运行它并使用断点调试我的本地项目感到非常沮丧。有人可以帮我弄清楚如何在我的 OSX 上制作 pecl、pear 和 xdebug，以便我可以调试我的项目。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T11:24:24.240

检查此链接：

[http://www.lullabot.com/articles/installing-php-pear-and-pecl-extensions-on-mamp-mac-os-x-107-lion](http://www.lullabot.com/articles/installing-php-pear-and-pecl-extensions-on-mamp-mac-os-x-107-lion)

**编辑**

MAMP 不附带一堆 PHP 源代码

```
Download MAMP components and configure    
URL: http://www.mamp.info/en/downloads/index.html (i.e. MAMP_components_2.0.2.zip)
Unpack your MAMP_components_2.0.2.zip
Identify your php-5.x.x.tar.gz file (where 5.x.x is your version of PHP)
Create directory for your PHP sources: "mkdir -vp /Applications/MAMP/bin/php5/include"
Untar php-5.x.x.tar.gz into /Applications/MAMP/bin/php/php5.*/include or /Applications/MAMP/bin/php5/ include e.g. tar zxvf php-5.x.x.tar.gz -C /Applications/MAMP/bin/php/php5.?.??/include

Rename your php-5.x.x directory to php (without the version numbering) e.g. mv /Applications/MAMP/bin/php/php5.2.17/include/php-5.?.?? /Applications/ MAMP/bin/php/php5.2.17/include/php

Configure PHP sources (it’ll create necessary files i.e. zend_config.h, tsrm_config.h, etc.)

cd /Applications/MAMP/bin/php/php5.?.??/include/php ./configure 
```

该过程用于另一个修复，但这解决了找不到 php.h 的问题

# gwt - GWT 与 Apache CXF

> ID：15245857
> 
> 赞同：0
> 
> 时间：2013-03-06T11:15:15.567
> 
> 标签：gwt, cxf

我正在使用涉及调用 Web 服务的 gwt 代码。我们使用 Apache CXF 为 Web 服务生成存根。它生成所有请求和响应类型。（我不是 gwt 专家）我的理解是，您需要拥有通用数据模型（可序列化）来访问客户端的模型类。我们也可以在客户端访问 Apache CXF 生成的模型类吗？或者我们是否需要复制所有这些类以便在客户端访问它们？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T11:32:04.923

在决定哪种方法最适合您之前，您需要先参考[这一点。](https://developers.google.com/web-toolkit/doc/latest/DevGuideServerCommunication)

根据您的性能要求和屏幕类型（表单、图表和表格数据），您必须选择服务器通信类型。

我猜带有 Requestbuilder 的 RPC 或 Json 会为您提供最好的服务。在这两种情况下，您都可以选择在客户端拥有自己的模型类层（轻量级）。

如果您打算使用 CXF 生成的模型，那么您需要将它们放在 GWT 的共享文件夹中，并避免推入 GWT 无法序列化的数据。

# liferay - 我应该把我的java源代码放在哪里以及在哪里配置liferay Portlet

> ID：15245859
> 
> 赞同：1
> 
> 时间：2013-03-06T11:15:29.990
> 
> 标签：liferay, portlet, liferay-ide

我想为liferay portlet 编写一个简单的java 源代码。当我为 liferay portlet 编写源代码时，我是否还需要对 , 进行任何更改，`portlet.xml`并且我 在任何地方都看不到任何有关此的信息。任何帮助和建议将不胜感激。`liferay-portlet.xml``liferay.display.xml``web.xml`

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-11T17:53:38.887

你创建了一个liferay mvc portlet。只需创建一个liferay project-> liferay portlet 并在portlet 中编写你的java 代码。它将在portlet.xml、liferay-portlet.xml、liferay.display.xml 和web.xml 中自动更改

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-06T12:45:22.490

您必须在`portlet.xml`文件中定义 portlet 类，它是一个完全限定的类名，例如 come.help.me.portlet.HelpPortlet

当 portlet 将被执行时（通过放置页面或当使用 portlet 访问页面或在 portlet 上执行任何操作时），将调用此 portlet 类的方法。

如果您使用的是 liferay-sdk，那么您的 portlet 类应该在`portlet-folder/docroot/WEB-INF/src/eu/ibacz/example/NewPortlet.java`您的 portlet 中。

# java - Java - 从 XML 文件中读取注释

> ID：15245860
> 
> 赞同：3
> 
> 时间：2013-03-06T11:15:29.770
> 
> 标签：java, xml, xml-comments

我必须从 XML 文件中提取注释。我找不到使用 JDOM 或其他方法来获取它们的方法。目前我使用 Regex 和 FileReader，但我不觉得这是要走的路。

您可以使用 JDOM 之类的东西从 XML 文件中获取注释吗？还是仅限于元素/节点和属性？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-06T11:23:36.263

我建议 StAX，最快和简单

```
 XMLStreamReader xr = XMLInputFactory.newInstance().createXMLStreamReader(
            new FileInputStream("1.xml"));
    while (xr.hasNext()) {
        if (xr.next() == XMLStreamConstants.COMMENT) {
            String comment = xr.getText();
        }
    } 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-06T11:17:15.067

您需要实现一个词法处理程序。更多信息在这里 - [http://docs.oracle.com/javase/tutorial/jaxp/dom/readingXML.html](http://docs.oracle.com/javase/tutorial/jaxp/dom/readingXML.html)

看`Lexical Controls`章节。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-06T11:20:34.407

你在使用 XPath 吗？如果是，您可以选择具有`comment()`功能的评论。

# firebird - 如何检查 Firebird 数据库在哪个服务器模式（例如 SuperClassic 或 Superserver）下运行？

> ID：15245861
> 
> 赞同：9
> 
> 时间：2013-03-06T11:15:37.493
> 
> 标签：firebird, firebird2.5

最新的 Firebird 2.5.x 数据库可以在 Classic、SuperClassic 或 SuperServer 模式下运行。如何检查已安装的数据库正在运行的这些模式中的哪一种？

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2013-03-06T15:19:48.377

没有公开这一点的 API。但是因为您在服务器上，所以您可以检查正在运行的进程。

即在 Windows 和 Firebird 2.5 上：

*   一`fb_inet_server.exe`= 很可能是超经典
*   多个`fb_inet_server.exe`= 很可能是经典
*   `fbserver.exe`= 很可能是超级服务器

# javascript - 实现承诺模式

> ID：15245867
> 
> 赞同：7
> 
> 时间：2013-03-06T11:16:00.497
> 
> 标签：javascript, algorithm, design-patterns

我有一个与其他对象一起调用的函数，当我的应用程序加载时，获取参数并且该函数应该等待与所有对象的调用，然后使用承诺模式执行所以我可以确保所有对象都已加载，但我不知道对象计数，我不想为加载设置超时。我不谈论具体的技术，比如`jquery`需要算法。

伪代码：

```
 function loadWidget(id){
        list.push(id);
       //here I should ensure all Widget is loaded

          } 
```

在我调用的其他应用程序中

```
 app.loadWidget.add(widget1.id);
    .
    .
    .      
    app.loadWidget.add(widget2.id); 
```

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2013-03-06T11:55:20.527

如果您不想要现成的解决方案，而是想自己实现所有算法，请阅读 Wikipedia 文章中引用的论文：[Futures and Promises 以及 Promises](http://en.wikipedia.org/wiki/Futures_and_promises) [/A](http://wiki.commonjs.org/wiki/Promises/A)和[Promises/A+](http://promises-aplus.github.com/promises-spec/)的规范。

为了确保您做对了，请阅读Domenic Denicola[的 You're Missing the Point of Promises并查看](http://domenic.me/2012/10/14/youre-missing-the-point-of-promises/)[Promises/A+ 的合规性测试](https://github.com/promises-aplus/promises-tests)。

另一方面，如果您认为重新发明轮子是不值得的（除非是为了教育 - 在这种情况下，无论如何都要重新发明尽可能多的轮子）然后看看[RSVP.js](https://github.com/tildeio/rsvp.js#readme)，一个轻量级的提供用于组织异步代码的工具的库。例如Ember.js使用[RSVP.js。](http://emberjs.com/)

# objective-c - 来自 NSData 的 NSString 为空？

> ID：15245873
> 
> 赞同：0
> 
> 时间：2013-03-06T11:16:18.860
> 
> 标签：objective-c

我从服务器获取数据， NSData 很好，并给出了一个字节数。NSString 为空：（第二个日志）

```
NSData *stringOfData = [data subdataWithRange:NSMakeRange(0, [data length])];
NSString *finalData = [[[NSString alloc] initWithData:stringOfData encoding:NSUTF8StringEncoding] autorelease];

NSLog(@"RECIEVED FROM SERVER:%@",stringOfData); //is ok
NSLog(@"RECIEVED :%@",finalData); //is null

RECIEVED FROM SERVER:<0b000000 02000000 03000000 453242>
RECIEVED : 
```

这里有什么问题？我正在尝试一切，但不知何故它总是 null 。.

**编辑：**数据是我从服务器获取的字节。它假设是一个 int 数字，但我想将它显示为字符串 .. 我正在尝试其他类型的编码，但仍然是 null ..

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T11:30:56.150

如果数据包含整数，那么将原始数据加载到 NSString 将无法满足您的要求。也许你想要更像这样的东西：

```
int *i = (int *)data.bytes;
NSLog(@"RECIEVED :%d, %d, %d, %d", i[0], i[1], i[2], i[3]); 
```

您可能还会发现自己不得不处理字节顺序问题。如果是这样，这可能会有所帮助：

```
NSLog(@"RECIEVED :%d, %d, %d", ntohl(i[0]), ntohl(i[1]), ntohl(i[2]), ntohl(i[3])); 
```

# sql - oracle sql查询联合操作？

> ID：15245880
> 
> 赞同：2
> 
> 时间：2013-03-06T11:16:35.847
> 
> 标签：sql, oracle

我有两张桌子。`TableA`和`TableB`。这两个表都有一些数据，两列如下。

```
TableA
---------
id  Name
--- ----
1   abc
2   def

TableB
---------
id  Name
--- ----
1   xyz
2   pqr 
```

现在我将从我的应用程序中传递 id 列表并获得相同的 id 及其名称：

```
select id, name 
from TableA 
where id in(1,2) 
union select id, name 
from TableB 
where id in(1,2); 
```

上面的查询给出的结果为：

```
1   abc
1   xyz
2   def
2   pqr 
```

但是我需要的是，如果两个表中都存在相同的 id，那么应该考虑 TableB 的名称，而不是 TableA 的名称。

```
Expected output:

1   xyz
2   pqr 
```

还有一个是，如果 TableB 不包含任何数据，则应该获取 TableA 的数据。

我怎样才能做到这一点？

谢谢！

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-06T11:25:05.697

请尝试使用 LEFT JOIN。

```
SELECT TableA.ID, 
  NVL(TableB.Name, TableA.Name) Name FROM 
TableA LEFT JOIN TableB 
 ON TableA.ID=TableB.ID
WHERE TableA.ID IN (1, 2) 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-06T11:21:51.403

使用简单的联合尝试此查询，您可以合并记录

```
SELECT id, name from tableA where id not in (SELECT id FROM tableB)
UNION ALL
SELECT id, name from tableB 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-06T11:22:24.337

尝试这个

```
 SELECT id , name from (
     select id, name from TableA where id in(1,2) 
     union select id, name from TableB where id in(1,2)) t
 GROUP BY id; 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-06T11:33:41.613

如果行可以在 A、A+B 或 B 中，一种方法是（如果`tablea`总是有数据，那么 techdo 的答案会更好）：

```
select id, name
  from (select id, name, row_number() over (partition by id order by rnk) rn
          from (select id, name, 1 rnk from tableb
                union all
                select id, name, 2 rnk from tablea))
 where rn = 1; 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-03-06T11:30:44.177

使用 Union All 和存在/不存在来根据 table_b 中是否存在任何记录来控制从 table_a 返回哪些结果

```
 select id,name
 from (
     select id,name
     from   table_b
     union all
     select id,name
     from   table_a
     where  exists (select null from table_b) and
            not exists (
              select null
              from   table_b
              where  table_b.id = table_a.id)
     union all
     select id,name
     from   table_a
     where  not exists (select null from table_b))
 where id in (1,2) 
```

[http://sqlfiddle.com/#!4/36f26/3](http://sqlfiddle.com/#!4/36f26/3)

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-03-06T11:39:54.560

```
SELECT (case when B.id = A.id then  b.id else a.id end) as id,
(case when B.id = A.id then  b.name else a.name end) as name
 FROM tableA a left JOIN tableB b ON (a.id = b.id) 
```

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2013-03-06T14:30:56.173

MINUS 运算符 - 仅返回第一个查询返回的唯一行，而不返回第二个查询返回的唯一行：

```
WITH tab_a AS
(
SELECT 1 id, 'abc' val FROM dual
UNION
SELECT 2, 'def' FROM dual
),
tab_b AS
(
SELECT 1, 'xyz' val FROM dual
UNION
SELECT 2, 'pqr' FROM dual
)
-- This is your query --
SELECT * FROM tab_b
MINUS
SELECT * FROM tab_a
/

ID    VAL
----------
1    xyz
2    pqr 
```

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2013-03-06T11:20:00.790

尝试这个：

```
select id, name from TableA where id in(1,2) and id not in ( select id from TableB) a  union select id, name from TableB where id in(1,2); 
```

* * *

## 回答 #9

> 赞同：0
> 
> 时间：2018-01-09T03:40:57.660

以下代码用于从两个表（A + B）中选择数据，然后使用减号取出数据并连接不需要的行。如果需求从表 A 而不是表 B 中选择名称发生变化，则可以轻松修改代码。

```
select * from tableA where id in (1,2)
union
select * from tableB where id in (1,4)
minus 
select a,id, a.Name from tableA a join tableB b on a.id = b.id where 
a.id in (1,2); 
```

# jquery - 如何获取包含 Jquery 对话框的标题？

> ID：15245881
> 
> 赞同：0
> 
> 时间：2013-03-06T11:16:37.830
> 
> 标签：jquery

我需要将 jquery 对话框的标题发送到服务器，是否可以在不遍历 DOM 并找到它的情况下检索它？

我知道 ( `<span class="ui-dialog-title"></span>`) 可以使用 jQuery 检索，但我想知道是否有更好的方法。

```
 $(c[0]).html(html).dialog({
                title: "Brief Country List",
                resizable: false,
                draggable: false,
                width: 900,
                modal: true,
                autoOpen: true,
                buttons: {
                    Done: function () {
                        Neptune.BriefCountrySection.SaveCountry();
                    },
                    Export: function () {

                        $.ajax({
                            type: 'POST',
                            url: '/Briefs/ExportCsv',
                            data: /*Get the title here*/,
                            dataType: 'JSON',
                            contentType: 'application/json; charset=utf-8',
                            success: function (res) {
                                if (res.Success) {
                                    var item = ko.utils.arrayFirst(self.Countries(), function (i) {
                                        return i.ListID() == self.SelectedCountryListID();
                                    });

                                    if (item != null) {
                                        self.Countries.remove(item);
                                    }
                                }
                                else {
                                    Neptune.ShowAlert({ content: res.FriendlyErrorMessage });
                                }
                            },
                            error: function (jqXHR, status, err) {
                                Neptune.ShowAlert({ content: status });
                            }
                        });
                    }
                }
            });
        } 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-06T11:27:25.683

你可以通过调用

```
var title = $( ".selector" ).dialog( "option", "title" ); 
```

见[http://api.jqueryui.com/1.9/dialog/#option-title](http://api.jqueryui.com/1.9/dialog/#option-title)

这些选项包含在 dom 元素的数据中

```
$("div#dialog").data("uiDialog").options.title 
```

我不推荐使用第二种方式，因为它可能依赖于 jQuery 版本并在未来发生变化，它只是说明它是如何工作的。

当然，调整您的选择器以选择正确的对话框，如果您从对话框按钮调用此 ajax，那么它应该是`$(this)`

# python - 如何在 Python3 中更改 Gtk3 条目文本颜色？

> ID：15245886
> 
> 赞同：4
> 
> 时间：2013-03-06T11:16:47.040
> 
> 标签：python, gtk3, python-3.2

我的应用程序中有一个列表，`Gtk.Entry()`我想更改其中一些文本的颜色。

我尝试了以下方法：

```
#!/usr/bin/python3
# Filename: mywindow.py

from gi.repository import Gtk
from gi.repository import Gdk

class MyWindow(Gtk.Window):
    def __init__(self):
        Gtk.Window.__init__(self, title="My window")

        self.mainGrid = Gtk.Grid()
        self.add(self.mainGrid)

        self.myOkEntry = Gtk.Entry()
        self.myOkEntry.set_text("This is OK (green)")
        self.myOkEntry.override_color(Gtk.StateFlags.NORMAL, Gdk.RGBA(0.0, 1.0, 0.0, 0.0))

        self.mainGrid.add(self.myOkEntry)

mainWin = MyWindow()
mainWin.connect("delete-event", Gtk.main_quit)
mainWin.show_all()

Gtk.main() 
```

但随后文本是不可见的。我尝试了 Gdk.RGBA 的不同值，从 0.0 到 1.0，从 0 到 65000，它是相同的。另一个测试：

```
print(Gdk.color_parse("green")) 
```

印刷 ：

```
<Gdk.Color(red=0, green=65535, blue=0)> 
```

所以我尝试了：

```
print(Gdk.RGBA(Gdk.color_parse("green"))) 
```

但 ：

```
File "/usr/lib/python3/dist-packages/gi/overrides/Gdk.py", line 55, in __init__
    self.red = red
TypeError: argument 2: Must be number, not Color 
```

我有点困惑。我使用的文档主要是：
[https ://python-gtk-3-tutorial.readthedocs.org/en/latest/](https://python-gtk-3-tutorial.readthedocs.org/en/latest/)
[https://developer.gnome.org/gtk3/stable/](https://developer.gnome.org/gtk3/stable/)

我找到了一些关于 CSS 样式的文档，我可以像这样使用它：

```
GtkEntry {
    color: #000000
}
GtkEntry#ok {
    color: #00cc00
}
GtkEntry#error {
    color: #cc0000
} 
```

例如在 HTML 中？该文档已在上一个有关`Python3/Gtk3` [条目颜色的问题中链接](http://erikos.sweettimez.de/2011/11/23/gtk-3-theme-style-your-applications/)

好吧，我的问题是：如何在不修改其他颜色的情况下更改一个 Gtk.Entry() 的文本颜色？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2015-01-07T15:37:52.460

将 Alpha 通道设置为 1.0：

```
self.myOkEntry.override_color(Gtk.StateFlags.NORMAL, Gdk.RGBA(0.0, 1.0, 0.0, 1.0)) 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-06T15:32:14.313

您可以将[gtk.Widget.modify_fg](https://developer.gnome.org/pygtk/stable/class-gtkwidget.html#method-gtkwidget--modify-fg)（Widget 是 gtk.Entry 的基类之一）与 color_parse 逻辑一起使用，如下所示：

```
self.myOkEntry.modify_fg(Gtk.StateFlags.NORMAL, Gdk.color_parse("green")) 
```

# android - 片段交易不隐藏 Flash 播放器

> ID：15245888
> 
> 赞同：0
> 
> 时间：2013-03-06T11:16:59.093
> 
> 标签：android, flash, fragment

我有两个片段。

在第一个中，我有一个 webview。

在第二个我有另一个 webview。

我已将这些片段作为选项卡添加到操作栏。

在第一个片段 webview 中，当我打开了一些 flash 视频时，一切都很好，但随后发生了灾难——我打开了第二个片段，但从第一个片段中仍然可以看到 flash 播放器。

在此[链接](http://www.facebook.com/photo.php?fbid=167870203365173&set=a.167870216698505.1073741825.100004265825868&type=1&theater)中是裁剪图片 Flash 播放器 google.com 后面在片段二中打开。

我该如何解决。我正在用一个简单的 TabListener 更改片段`ft.show()`；和`ft.hide();`

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T12:12:12.110

我想这是因为 WebView 使用表面来播放视频。问题是`SurfaceView`锁定窗口空间。

我认为在您的情况下`ft.replace()`，更改选项卡更可取，并且应该解决此问题。您也可以尝试保留显示/隐藏事务类型并`WebView`以某种方式（甚至可能通过`wv = null;`）“杀死”您的`onPause()`或`onStop()`回调并将其恢复为`onStart()`.

祝你好运！

# php - 向表单提交添加域后缀

> ID：15245889
> 
> 赞同：1
> 
> 时间：2013-03-06T11:16:59.903
> 
> 标签：php, html, forms, contact

我已经为一个网站创建了一个非常基本的联系表格，但是我在使用“名称”字段时遇到了问题。当邮箱收到电子邮件时，电子邮件发件人列为 $name + [服务器域后缀]。我不明白为什么要添加域后缀。

例如，电子邮件发件人以 YOURNAME@prohost.17.com 的形式收到（这恰好是我的主机域）。

下面是使用的 HTML 和 PHP。

```
 <form action="send.php" method="post">
        <input type="text" class="conform" name="name" value="Your Name">
        <br>
        <input type="text" class="conform" name="phone" value="Contact Number">
        <br>
        <input type="email" class="conform" name="email" value="E-Mail Address">
        <br>
        <textarea class="context" name="message" cols="1" rows="10"></textarea>

        <input name="submit" type="submit" class="conbut" value="Send It">

        </form> 
```

PHP是：

```
<?php 

$name = $_REQUEST['name'] ;
$phone = $_REQUEST['phone'] ;
$email = $_REQUEST['email'] ;
$message = $_REQUEST['message'] ;

$content = " Name: $name \n Phone: $phone \n Email: $email \n\n $message " ;

mail( "myemail@hotmail.com", "Message from mywebsite.co.uk",
    $content, "From: $name" ) ;

    header ( "Location:/success.html" ) ;

?> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T11:20:52.367

标`From`头采用电子邮件地址。你没有给它一个完整的，所以看起来 PHP 或你的 SMTP 服务器正在将它从本地电子邮件地址（没有`@foo`部分）解析为可以在 WWW 上使用的地址。

# linux - 我可以从 php.ini 文件中更改 Nginx 变量 client_max_body_size 的值吗？

> ID：15245891
> 
> 赞同：1
> 
> 时间：2013-03-06T11:17:05.580
> 
> 标签：linux, configuration, nginx, drupal-7

我没有对 /etc/nginx/nginx.conf 文件的写访问权限，我可以看到 client_max_body_size 设置为低于我需要的值。在我联系服务器管理员并解决这个问题之前，是否可以使用 php.ini 覆盖它？

设置是在 CentOS 机器上使用 Nginx 的 Drupal。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-06T12:28:44.903

没门。

这是与 nginx 相关的设置，PHP 不在 nginx 内部（它是另一台服务器，当然是 php-fpm 守护进程），因此任何 PHP 操作都绝对无法更改 Web 服务器设置。

# asp.net - 如何在单选按钮前面显示单选按钮标签？

> ID：15245892
> 
> 赞同：1
> 
> 时间：2013-03-06T11:17:05.753
> 
> 标签：asp.net, css

我试图在 asp.net 中使用单选按钮控件，但我遇到了一个问题，单选按钮的标签显示在单选按钮下方。我想在单选按钮前面使用它。单选按钮是否有任何属性可以在单选按钮前面显示标签？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T11:19:20.107

这可能是因为您添加的文本很长，或者完全控制的空间较小，所以文本被换行了。尝试为控件提供一些较大的固定宽度。如果你发布一些代码会更好。

# jquery - 从jquery中的日期时间获取时间

> ID：15245894
> 
> 赞同：2
> 
> 时间：2013-03-06T11:17:16.187
> 
> 标签：jquery, datetime

如何从jquery中的日期时间获取时间

认为，

```
datetime = Wed Mar 06 2013 11:30:00 GMT+0530 (IST) 
```

我只需要 11:30:00 这样

```
time = 11:30:00 
```

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-03-06T11:22:03.640

查看[W3C Javascript 日期时间对象参考](http://www.w3schools.com/jsref/jsref_obj_date.asp)：

```
var hours = datetime.getHours(); //returns 0-23
var minutes = datetime.getMinutes(); //returns 0-59
var seconds = datetime.getSeconds(); //returns 0-59 
```

你的问题：

```
if(minutes<10)
  minutesString = 0+minutes+""; //+""casts minutes to a string.
else
  minutesString = minutes; 
```

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2013-03-06T11:24:15.417

试试这个来获取当天的当前时间

```
$(document).ready(function() {
    var today = new Date();
    var cHour = today.getHours();
    var cMin = today.getMinutes();
    var cSec = today.getSeconds();
    alert(cHour+ ":" + cMin+ ":" +cSec );
}); 
```

* * *

## 回答 #3

> 赞同：5
> 
> 时间：2013-03-06T11:26:51.183

这是一个解决方案，

创建一个 Javascript 日期：

```
var aDate = new Date(
    Date.parse('Wed Mar 06 2013 11:30:00 GMT+0530 (IST)');
); 
```

构建输出字符串：

```
var dateString = '';

var h = aDate.getHours();
var m = aDate.getMinutes();
var s = aDate.getSeconds();

if (h < 10) h = '0' + h;
if (m < 10) m = '0' + m;
if (s < 10) s = '0' + s;

dateString = h + ':' + m + ':' + s; 
```

文档链接： [http ://www.w3schools.com/jsref/jsref_obj_date.asp](http://www.w3schools.com/jsref/jsref_obj_date.asp)

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2014-10-22T04:27:30.220

使用优秀的[momentjs怎么样](http://momentjs.com/)

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2021-07-02T00:45:01.750

### 你可以用 JavaScript 很容易地做到这一点。

使用 [`Date.prototype.toLocaleTimeString`](https://developer.mozilla.org/pt-BR/docs/Web/JavaScript/Reference/Global_Objects/Date/toLocaleTimeString "JavaScript toLocaleTimeString 参考")

```
var date = new Date();
console.log(date.toLocaleTimeString('pt-BR'));
// Output: "20:30:39" 
```

一些语言环境会给你不同的结果，这就是为什么我使用`pt-BR`格式（24 小时没有 AM/PM）（时区将保持不变，这只会改变格式）。您还可以使用任何其他语言环境并`{hour12:false}`作为选项传递。

```
const event = new Date('August 19, 1975 23:15:30 GMT+00:00');
var options = {hour12:false}
console.log("en-US (options): " + event.toLocaleTimeString('en-US', options));
console.log("en-US          : " + event.toLocaleTimeString('en-US'));
console.log("ar-EG (options): " + event.toLocaleTimeString('ar-EG', options));
console.log("ar-EG          : " + event.toLocaleTimeString('ar-EG'));
console.log("pt-BR (options): " + event.toLocaleTimeString('pt-BR', options));
console.log("pt-BR          : " + event.toLocaleTimeString('pt-BR'));
/* Output: 
"en-US (options): 20:15:30"
"en-US          : 8:15:30 PM"
"ar-EG (options): ٢٠:١٥:٣٠"
"ar-EG          : ٨:١٥:٣٠ م"
"pt-BR (options): 20:15:30"
"pt-BR          : 20:15:30"
*/ 
```

# javascript - 通过 HTTP 返回 AWS 签名

> ID：15245895
> 
> 赞同：0
> 
> 时间：2013-03-06T11:17:17.127
> 
> 标签：javascript, security, amazon-s3

我直接从浏览器执行分段上传到 S3，即绕过我的后端。

我的 JS 代码向 S3 发送握手请求（POST），然后以 5MB 的块（每个 PUT）上传文件，最终完成文件（POST）。

效果很好。您可以猜到，对 S3 的每个请求（握手、部分上传和最终确定）都必须签名。在 JS 中生成签名当然是不可能的，因为它会暴露我的 AWS 密钥。

到目前为止，我正在做的事情如下：在向 S3 发出每个请求之前，我向我自己的后端 (to `/sign?method=HTTPMethod&path=URLToSign`) 发送一个请求，该后端返回签名字符串。这样，所有 AWS 凭证都应该保留在后端。

我的问题如下：**这安全吗？**

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T11:52:41.397

您应该考虑的一件事是，任何看到您调用以获取签名字符串的地址的人都可能滥用它代表您/您的应用程序上传任何文件（和任意数量的文件）。

为避免这种情况，我的第一个猜测是在后端实现某种验证，例如，如果每秒收到超过 X 个请求，则不会对 URL 进行签名。

此外，如果您需要过滤掉一些文件（exe，可能会增加您的 AWS 账单的大文件），我认为绕过您的后端不是一个好主意，因为您无法控制上传哪些文件（也许您的用户上传一个名为的文件`kitten.png`，它实际上是一个 700 mb 的 iso 文件）

# rss - RSS更新单项

> ID：15245896
> 
> 赞同：1
> 
> 时间：2013-03-06T11:17:18.870
> 
> 标签：rss, feed

有没有办法更新旧的 RSS 提要项目并在提要阅读器中将其设为“未读”？

我的提要是由 liferay 本身从 liferay portlet 创建的，它只显示 1 个项目，因为我只能更新那个项目，我无法创建新的项目/portlet。

如果我编辑我的旧提要，在谷歌阅读器或 Firefox 实时书签中它不会显示为未读，即使我刷新并看到新内容，日期仍然是旧的。

我需要一种方法来通知读者旧的提要已经更新......这可能使用一个项目吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-05-29T13:46:18.107

好吧，我认为值得尝试的唯一想法是每次更改项目的 GUID 元素。然后试试 RSS 阅读器会有什么反应。

或者，如果可以，请改用 Atom。使用 Atom，您应该能够这样做，因为它允许您设置上次更新的时间（作为 <updated> XML 元素）。如果我是对的，RSS 无法通知提要项目已更改。它只有 <lastBuildDate> 在整个提要上。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-07-30T09:33:50.743

如果您已更新您的项目，只需向您的项目添加一个`guid`元素并将其更改为新的 guid。guid 可以是任何唯一的字符串。

```
<item>
  <title>...</title>
  <link>Link to your item</link>
  ...
  <guid isPermaLink="false">A unique string</guid>
</item> 
```

请注意，您应该添加属性`isPermaLink="false"`，否则假定 guid 是一个 url。

来自[RSS 2.0 规范](http://cyber.law.harvard.edu/rss/rss.html#ltguidgtSubelementOfLtitemgt)：

> <item> 的 <guid> 子元素
> 
> <guid> 是 <item> 的可选子元素。
> 
> guid 代表全局唯一标识符。这是一个唯一标识项目的字符串。如果存在，聚合器可以选择使用此字符串来确定项目是否是新的。
> 
> <guid> [http://some.server.com/weblogItem3207](http://some.server.com/weblogItem3207) </guid>
> 
> guid 的语法没有规则。聚合器必须将它们视为字符串。建立字符串的唯一性取决于提要的来源。
> 
> 如果 guid 元素有一个名为“isPermaLink”且值为 true 的属性，读者可能会认为它是该项目的永久链接，即可以在 Web 浏览器中打开的指向完整项目的 url由 <item> 元素描述。一个例子：
> 
> <guid isPermaLink="true"> [http://inessential.com/2002/09/01.php#a2](http://inessential.com/2002/09/01.php#a2) </guid>
> 
> isPermaLink 是可选的，其默认值为 true。如果它的值为 false，则 guid 可能不会被假定为 url，或任何特定内容的 url。

# java - 获取要为 Java CurrentAccount 类显示的值

> ID：15245901
> 
> 赞同：1
> 
> 时间：2013-03-06T11:17:36.780
> 
> 标签：java

```
package bankAccount;

public class CurrentAccount {

        int account[];
        int lastMove;
        int startingBalance = 1000;

        CurrentAccount() {
            lastMove = 0;
            account = new int[10];
        }

        public void deposit(int value) {
            account[lastMove] = value;
            lastMove++;
        }

        public void draw(int value) {
            account[lastMove] = value;
            lastMove++;
        }

    public int settlement() {
           int result = 0;
           for (int i=0; i<account.length; i++) {
                  result = result + account[i] + startingBalance;

                  System.out.println("Result = " + result);

           }

           return result;

    }

    public static void main(String args[]) {
                 CurrentAccount c = new CurrentAccount();
                  c.deposit(10);

        }
    } 
```

目前，当我运行该类时，没有出现预期的 System.out.println，如果我只是将 public static void main(String[] args) 移动到顶部，这会产生多个红点。对我来说，重构代码以使其按预期方式工作的最佳方法是什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T11:19:00.790

您可以在文件 Main.java 中有另一个名为 Main 的类，您可以在其中编写您的

```
 public static void main(String args[]) 
```

并打电话

```
 c.settlement(); 
```

在你的 main() 中打印。

还有一个建议，在你的构造函数中，你有

```
account = new int[10]; 
```

只能保持 10`int`秒。

在您的 deposit() 和 draw() 中，您没有检查`account`大小。当 的值`lastMove`大于 10 时，整个代码就会爆炸。

因此我建议你使用[ArrayList](http://docs.oracle.com/javase/6/docs/api/java/util/ArrayList.html)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-06T11:20:01.633

你从来没有调用过结算方法...

```
public static void main(String args[]) {
    CurrentAccount c = new CurrentAccount();
    c.deposit(10);
    c.settlement();
} 
```

我感觉您来自某种非 OOP 语言，例如 C 或 PHP。所以一些解释：

*   该`main`方法是静态的：这意味着即使没有创建对象实例，它也“存在”，可以认为它好像属于类实例。
    *   相反，要让其他方法“工作”，则需要一个实例。
*   这样，该`main`方法可以（并且实际上）用作应用程序的入口点
*   它被执行，当它存在时，（如果没有其他线程在运行）应用程序终止。
*   因此，仅在此方法之外没有其他任何东西运行......
    *   所以如果你不打电话`c.settlement();`- 它不会发生......

其他注意事项：

*   运行`main`不会创建封闭类的实例
*   使用`new CurrentAccount()`，您创建一个对象实例，该实例具有它存储的状态，并且可以被操作
*   小心阵列，它们必须得到照顾，这有时会带来不便......

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-06T11:20:13.320

为什么您希望打印输出出现？您实际上并没有调用结算方法，因此不会执行该命令。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-06T11:24:39.450

你没有打电话给结算..所以什么都没有出现

如果您添加 c.settlement... 很好..

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-03-06T11:36:52.553

在您调用之前，您还没有调用`deposit()`并且`settlement()`在 main 方法中，您无法获得预期的输出。

# objective-c - 将 UIBarButtonItem 添加到 UIToolbar

> ID：15245903
> 
> 赞同：0
> 
> 时间：2013-03-06T11:17:44.490
> 
> 标签：objective-c, ios5, uitoolbar, uitoolbaritem

我需要向 UINavigationController 的 UIToolbar 添加按钮，这也是我的根。我希望 UIToolbar 在显示特定 UIViewController 时出现。因此，我将此代码放在 UIViewController 子类的 viewDidLoad 方法中：

```
UIBarButtonItem* item = [[UIBarButtonItem alloc] initWithTitle:@"Title" style:UIBarButtonItemStyleBordered target:self action:@selector(doSomething)];
item.width = 300;
item.tintColor = [UIColor whiteColor];
UIBarButtonItem* item2 = [[UIBarButtonItem alloc] initWithTitle:@"Title2" style:UIBarButtonItemStyleBordered target:self action:@selector(doSomething)];

NSMutableArray* theItems = [self.navigationController.toolbar.items mutableCopy];
[theItems addObject:item];
[theItems addObject:item2];
[self.navigationController.toolbar setBarStyle:UIBarStyleBlackOpaque];
[self.navigationController setToolbarHidden:NO animated:YES];
[self.navigationController setToolbarItems:theItems animated:NO];
//self.navigationController.toolbarItems = theItems; // Tried both

UILabel* label = [[UILabel alloc] initWithFrame:CGRectMake(0, 0, 100, 20)];
label.text = @"kjhdkjhadsda";
[self.navigationController.toolbar addSubview:label]; 
```

这仅显示 UILabel 处于正确位置，不会出现其他任何内容。UILabel 对我来说没用，它只是一个测试。我还尝试分配一个新数组，而不是从组件中复制一个。忽略缺少的版本，这只是测试代码。

我阅读了很多关于此的问题，但似乎没有答案有助于使其发挥作用。知道这段代码可能有什么问题吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-06T12:05:59.430

似乎您正在尝试在行中制作*nil的可变副本*

```
[self.navigationController.toolbar.items mutableCopy]; 
```

默认情况下， **navigationController.toolbar.items**方法没有项目并返回**nil**

**更新**

方法*- (void)setToolbarItems:(NSArray*)toolbarItems animated:(BOOL)animated*如果您将其发送到 UINavigationController，则不会执行任何操作。您需要将工具栏项目设置为由导航控制器管理的控制器。此行将使您的按钮可见：

```
[self setToolbarItems:theItems animated:NO]; 
```

# ruby-on-rails - “rails 中的明显 url”

> ID：15245907
> 
> 赞同：0
> 
> 时间：2013-03-06T11:17:53.523
> 
> 标签：ruby-on-rails, ruby, url, session, token

首先，如果我没有使用所有正确的术语，请原谅我。我的 rails 应用程序出现 URL 问题。基本上它可以工作，但我只是觉得这个网址有点太“明显”，而且可能是一个安全问题。

例如，我有一个用户资源，用户显示页面将转到 websitename.com/users/user_id 对吗？这可能是惯例，但我该如何改变它以显示随机的东西？我尝试使用安全令牌（不确定这样做是否正确），会话保存在令牌中，但 url 仍然很明显。授权有效，未登录的用户不能只访问让我们说 ID 为 1 的用户大声笑。请如果这有意义，我会尝试澄清只是问。谢谢。

编辑。也有人可以向我解释一下令牌的作用，我的理解是，用户会话不是保存用户会话并显示用户 ID 和 id hets，而是将用户会话保存在安全令牌中，并且令牌（通常是随机字符串）得到显示。错误的？？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T11:50:38.817

您可以覆盖[`to_param`](http://apidock.com/rails/ActiveRecord/Base/to_param)用户对象的方法。然后，您可以在数据库中拥有 ie 列，在其中存储作为对象参数的哈希值。另请参阅[Rails 指南部分](http://guides.rubyonrails.org/active_support_core_extensions.html#to_param)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T11:21:17.683

试试[https://rubygems.org/gems/friendly_id](https://rubygems.org/gems/friendly_id)

它允许在 url 中使用永久链接而不是普通 ID

# eclipse - 我不小心删除了 GWT WAR 文件夹

> ID：15245909
> 
> 赞同：-1
> 
> 时间：2013-03-06T11:17:59.730
> 
> 标签：eclipse, gwt, directory, war

我正在使用 Eclipse 开发 GWT 应用程序，问题是：我删除了我的 war 文件夹。每当我编译时，我都会得到这些看起来很奇怪的 html 页面，命名为 6846513164.html。现在，当我尝试编译说“GWT 编译失败”时，我得到一个错误，没有额外的信息。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T11:45:36.577

要熟悉 gwt 应用程序的工作原理，您可以从[https://code.google.com/p/google-web-toolkit/downloads/list下载示例](https://code.google.com/p/google-web-toolkit/downloads/list)

[从这里](https://google-web-toolkit.googlecode.com/files/gwt-2.5.0.zip)下载并提取示例文件夹。

注意：奇怪编号的 html 文件是必需的，gwt 使用它们来加载应用程序。

**重新编译您的 GWT 应用程序以获取文件 :)。它们由 GWT 编译器生成。**

![在此处输入图像描述](../Images/88c47d935c2786d05f8b806863ba2f70.png)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-07T11:48:54.050

有点题外话，但是使用诸如[EGit之类的](http://www.eclipse.org/egit/)[修订控制系统](https://en.wikipedia.org/wiki/Revision_control)可能会对您有所帮助。

# sitecore - Sitecore：ADC全文查询以搜索GUID

> ID：15245914
> 
> 赞同：0
> 
> 时间：2013-03-06T11:18:08.267
> 
> 标签：sitecore, sitecore6

```
SearchParam searchParam = new SearchParam();
        searchParam.Database = Fields.Database;
        searchParam.Language = Fields.Language;
        searchParam.TemplateIds = templateID;
        if (txtQuery != null && !string.IsNullOrEmpty(txtQuery))
            searchParam.FullTextQuery = txtQuery;
        QueryRunner runner = new QueryRunner("Web");
        IEnumerable<SkinnyItem> items = runner.GetItems(searchParam, sc.Search.QueryOccurance.Should, false, "", true, 0, 500); 
```

我想搜索一个包含特定 GUID 的字段，可以吗？我已经尝试过了，但它返回的结果为 0，我确信会有结果。我错过了什么还是需要格式化 GUID 格式？这是我使用的格式“{xxx-xxx-xxx-xxxx}”

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T11:58:44.003

确保您的索引设置正确以包含您正在搜索的字段并且您使用的是正确的查询语法。请参阅[此页面](http://briancaos.wordpress.com/2011/10/12/using-the-sitecore-open-source-advanceddatabasecrawler-lucene-indexer/)，了解如何配置索引以及如何进行简单和高级搜索。

还可以尝试硬编码查询，以确保您没有在某处使用错误的值或错误的格式。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-06T21:22:25.973

你的问题不清楚，所以我要在这里解释。您说要对 GUID 进行全文搜索。这自然是两个不同的东西。我假设您有一个 GUID，并且想要在索引中查找通过某个（任何？）字段分配了该 GUID 的所有项目。您需要为此使用（[此处的代码](https://github.com/sitecorian/SitecoreSearchContrib/blob/master/scSearchContrib.Searcher/Parameters/SearchParam.cs)`RelatedIds`）的属性：`SearchParam`

这是一些示例代码：

```
var searchParam = new SearchParam
{
  Database = Sitecore.Context.Database.Name,
  Language = Sitecore.Context.Language.Name,
  RelatedIds = {YOUR GUID HERE}
};

using (var runner = new QueryRunner(indexName))
{
  return runner.GetItems(searchParam);
} 
```

此外，如果您有多个 GUID，您可以用管道分隔它们，例如`RelatedIds = {GUID1}|{GUID2}`

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-06T11:53:20.497

查看索引中的内容，您可以使用 Sitecore Rocks 检查存储的字段值 ->

右键单击您的站点，管理，索引，{您的索引}。

检查其中一个 guid 字段以查看其中的内容。

我认为它们的存储没有大括号、连字符和小写字母，您只需要在传递它之前格式化 guid。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-06T12:09:47.297

如果要搜索字段值，则应使用 FieldSearchParam 而不是 SearchParam。这是示例代码：

```
 var searchParam = new FieldSearchParam
        {
            Database = Sitecore.Context.Database.Name,
            Language = Sitecore.Context.Language.Name,
            TemplateIds = DealerTemplateId,
            FieldName = <FieldName>,
            FieldValue = <FieldValue>
        };

        QueryRunner runner = new QueryRunner("Web");
    IEnumerable<SkinnyItem> items = runner.GetItems(searchParam); 
```

此 FieldSearchParam 是从[“Sitecore.SharedSource.Searcher”](http://www.sitecoredevelopment.com/en/Categories/Shared-Source-Library.aspx)库中的 SearchParam 扩展而来的。这在开源中，您可以在项目中添加参考或获取代码。

这里要注意的一件事是FieldValue的格式，你的字段值都应该很小并且没有“-”，所以如果你的GUID是“{A9294EF5-0E36-4616-A77E-B7B100057EBA}”那么你应该传递“”a9294ef50e364616a77eb7b100057eba " 即没有 "{}" 并且所有字符都应该很小。试试这个，因为这对我有用。

注意：请确保您已按照@martijn 的建议检查配置

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-03-07T15:24:39.117

对我有用的是：

```
 <configuration xmlns:patch="http://www.sitecore.net/xmlconfig/">
  <sitecore>
    <databases>
      <database id="master" singleInstance="true" type="Sitecore.Data.Database, Sitecore.Kernel">
        <Engines.HistoryEngine.Storage>
          <obj type="Sitecore.Data.$(database).$(database)HistoryStorage, Sitecore.Kernel">
            <param connectionStringName="$(id)" />
            <EntryLifeTime>30.00:00:00</EntryLifeTime>
          </obj>
        </Engines.HistoryEngine.Storage>
        <Engines.HistoryEngine.SaveDotNetCallStack>false</Engines.HistoryEngine.SaveDotNetCallStack>
      </database>
    </databases>
    <search>
      <configuration>
        <indexes>
          <index id="newsArticles" type="Sitecore.Search.Index, Sitecore.Kernel">
            <param desc="name">$(id)</param>
            <param desc="folder">newsArticle</param>
            <Analyzer ref="search/analyzer" />
            <locations hint="list:AddCrawler">
              <master type="Sitecore.SharedSource.SearchCrawler.Crawlers.AdvancedDatabaseCrawler,Sitecore.SharedSource.SearchCrawler">
                <Database>master</Database>
                <Root>/sitecore/content/Data</Root>
                <IndexAllFields>true</IndexAllFields>
                <MonitorChanges>true</MonitorChanges>
                <include hint="list:IncludeTemplate">
                  <News>{EF11A8D0-D373-4A4B-90BA-16984D277612}</News>
                </include> 
```

现在我已经包含了我需要搜索索引来搜索的模板 ID。当我构建时，我可以看到包含此​​特定模板 ID 的项目存在。

现在搜索：

```
try
        {
            List<Item> items = new List<Item>();
            Sitecore.Search.Index indx = SearchManager.GetIndex("newsArticles");
            using (IndexSearchContext searchContext = indx.CreateSearchContext())
            {
                var db = Sitecore.Context.Database;
                CombinedQuery query = new CombinedQuery();

                QueryBase catQuery = new FieldQuery("category", GuidsToSearchFor); //FieldName, FieldValue.
                SearchHits results = searchContext.Search(catQuery); //Searching the content items by fields.

                SearchResultCollection result = results.FetchResults(0, numOfArticles);
                RetrieveUrlListings(myItems, db, result, true);
            }
        } 
```

您的结果将包含索引查看器中存在的项目列表。

希望这可以帮助！查看此[链接](http://briancaos.wordpress.com/2011/10/13/get-latest-news-using-sitecore-advanceddatabasecrawler-lucene-index/)了解更多信息。

# mysql - 用日期范围内的星期几填充 SQL 列

> ID：15245916
> 
> 赞同：0
> 
> 时间：2013-03-06T11:18:13.143
> 
> 标签：mysql, sql, command

我目前在我的数据库中有一个表格，其中列出了从 5 月到 10 月的一系列日期，格式如下：`YYYY-MM-DD`

我想做的是创建一个包含星期几的新列，与日期匹配。我想到了两个选择；

1.  更新“day”列中的所有行，从星期一开始，然后是下一个星期二、下一个星期三等，等到星期天时，循环序列直到表结束。

2.  读取“日期”列中的日期，并使用匹配的星期几更新“日”列。

我认为选项 1 是最简单的，而且很有可能，因为没有跳过任何日期。但我不知道如何做到这一点，也找不到任何类似的搜索网络。

任何帮助将不胜感激！谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-06T11:36:11.643

作为一般规则，我会说：不要这样做。星期几直接来自日期；将其单独存储在数据库中会破坏规范化的基本规则之一（没有派生数据）。

有 MySQL 函数来查找星期几 - dayofweek() 和 weekday()。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T11:34:07.317

尝试这个：

```
update table
set day = DATENAME(dw, date) 
```

# knockout.js - 使 Observable-Array 可观察

> ID：15245917
> 
> 赞同：0
> 
> 时间：2013-03-06T11:18:13.763
> 
> 标签：knockout.js

我试图展示一张不同的图片，无论它是不是收藏夹

```
<span class="projektZeile" data-bind="visible: isFavorite">
 <a href="" data-bind="click: function(data, event) { $parent.makeNoFavorite(projectName,data, event)}" ><img src="../../Content/Images/isFavorite.png"/></a>                           
</span>

  <span class="projektZeile" data-bind="visible: !isFavorite">     
        <a href="" data-bind="click: function(data, event) {$parent.makeFavorite(projectName,data, event)}" ><img src="../../Content/Images/makeFavorite.png"/></a>
      </span> 
```

这是我填充可观察数组的代码

```
self.favoriten.push({ projectName: item.Values[0].Name,
                            isFavorite: ko.observable(item.Values[0].IsFavorite())
                        }); 
```

现在我的问题是，如果它是收藏夹，则会显示右键，但当它不是收藏夹时，则不会显示图片。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-06T11:24:23.957

您确定图像正确地提供给页面吗？使用 Fiddler（或开发人员工具的网络选项卡）并检查图像是否可用于浏览器，因为代码对我来说看起来不错。

如果做不到这一点，您始终可以在启用测试中使用 isFavorite() 来实际测试该值，尽管我确实认为 Knockout 应该能够应对您所放的内容。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T11:23:56.280

我怀疑您的非收藏夹图像路径存在问题。要弄清楚发生了什么，请使用您喜欢的浏览器的开发人员工具并观察 DOM。

# android - proguard error when i export application

> ID：15245918
> 
> 赞同：2
> 
> 时间：2013-03-06T11:18:15.130
> 
> 标签：android, proguard

```
[2013-03-06 16:35:09 - mathsMagic] Proguard returned with error code 1\. See console
[2013-03-06 16:35:09 - mathsMagic] Warning: android.support.v7.widget.GridLayout: can't find referenced method 'void onSetLayoutParams(android.view.View,android.view.ViewGroup$LayoutParams)' in class android.support.v7.widget.ViewGroup
[2013-03-06 16:35:09 - mathsMagic] Warning: android.support.v7.widget.GridLayout: can't find referenced method 'void onViewAdded(android.view.View)' in class android.support.v7.widget.ViewGroup
[2013-03-06 16:35:09 - mathsMagic] Warning: android.support.v7.widget.GridLayout: can't find referenced method 'void onViewRemoved(android.view.View)' in class android.support.v7.widget.ViewGroup
[2013-03-06 16:35:09 - mathsMagic] Warning: android.support.v7.widget.GridLayout: can't find referenced method 'void onChildVisibilityChanged(android.view.View,int,int)' in class android.support.v7.widget.ViewGroup
[2013-03-06 16:35:09 - mathsMagic] Warning: android.support.v7.widget.GridLayout: can't find referenced field 'int mPaddingLeft' in class android.support.v7.widget.GridLayout
[2013-03-06 16:35:09 - mathsMagic] Warning: android.support.v7.widget.GridLayout: can't find referenced field 'int mPaddingRight' in class android.support.v7.widget.GridLayout
[2013-03-06 16:35:09 - mathsMagic] Warning: android.support.v7.widget.GridLayout: can't find referenced field 'int mPaddingTop' in class android.support.v7.widget.GridLayout
[2013-03-06 16:35:09 - mathsMagic] Warning: android.support.v7.widget.GridLayout: can't find referenced field 'int mPaddingBottom' in class android.support.v7.widget.GridLayout
[2013-03-06 16:35:09 - mathsMagic]       You should check if you need to specify additional program jars.
[2013-03-06 16:35:09 - mathsMagic] Warning: there were 8 unresolved references to program class members.
[2013-03-06 16:35:09 - mathsMagic]          Your input classes appear to be inconsistent.
[2013-03-06 16:35:09 - mathsMagic]          You may need to recompile them and try again.
[2013-03-06 16:35:09 - mathsMagic]          Alternatively, you may have to specify the option 
[2013-03-06 16:35:09 - mathsMagic]          '-dontskipnonpubliclibraryclassmembers'.
[2013-03-06 16:35:09 - mathsMagic] java.io.IOException: Please correct the above warnings first.
[2013-03-06 16:35:09 - mathsMagic]  at proguard.Initializer.execute(Initializer.java:321)
[2013-03-06 16:35:09 - mathsMagic]  at proguard.ProGuard.initialize(ProGuard.java:211)
[2013-03-06 16:35:09 - mathsMagic]  at proguard.ProGuard.execute(ProGuard.java:86)
[2013-03-06 16:35:09 - mathsMagic]  at proguard.ProGuard.main(ProGuard.java:492) 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-06T11:27:44.560

Add this line to your Proguard configuration file:

```
-keep class android.support.v7.widget.** { *; } 
```

If that didn't work, try this:

```
-dontwarn  android.support.v7.widget.** 
```

# javascript - Bootstrap 在 hoover 将链接作为 btn 减半

> ID：15245919
> 
> 赞同：0
> 
> 时间：2013-03-06T11:18:16.173
> 
> 标签：javascript, jquery, css, twitter-bootstrap

我的 HTML 代码：

```
<div class="navbar navbar-inverse navbar-fixed-top">
            <div class="navbar-inner">
                <div class="container">
                    <a class="brand" href="admin">My Page</a>
                    <div class="nav">
                        <ul class="nav">
                            <li><?php echo anchor('admin', 'Home') ?></li>
                            <li><?php echo anchor('admin/emails', 'Eails') ?></li>
                            <li><?php echo anchor('admin/banners', 'Banners') ?></li>
                            <li><?php echo anchor('admin/text', 'Text') ?></li>
                            <li><?php echo anchor('admin/meta', 'Meta') ?></li>
                            <li><?php echo anchor('admin/pass', 'Password') ?></li>
                            <li>
                                <a class="btn btn-danger" href="<?php echo base_url(); ?>admin/logout"><i class="icon-off icon-white"></i>Logout</a>
                            </li>
                        </ul>
                    </div><!--/.nav-collapse -->
                </div><!--/.container -->
            </div><!--/.navbar-inner -->
        </div><!--/.navbar --> 
```

结果还可以，但是在悬停时它会创建如下内容：

![在此处输入图像描述](../Images/33833e70ee1e2e0cf32c248512c4275f.png)

当它向上/切到按钮的一半时会有一个动画。

知道如何“关闭”引导程序中悬停时的向上滚动效果吗？

# asp.net - 自动登录 DNN

> ID：15245921
> 
> 赞同：3
> 
> 时间：2013-03-06T11:18:25.620
> 
> 标签：asp.net, dotnetnuke, autologin

我正在尝试开发一个应用程序，因为我想在 DNN 应用程序中自动登录。意味着在我的应用程序中，当我输入我的用户名和密码时，登录页面会出现，我必须将用户重定向到 DNN 站点。任何人都可以帮助我在这个情况下？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-30T13:06:40.047

您必须开发自己的身份验证提供程序，该提供程序可以接受您提供的信息以登录该人。有关身份验证提供程序的更多信息，请参见此处：http: [//www.dotnetnuke.com/Resources/Wiki/Page/Authentication_Providers.aspx](http://www.dotnetnuke.com/Resources/Wiki/Page/Authentication_Providers.aspx)

# debugging - phonegap 黑莓应用程序的调试工具/方法

> ID：15245929
> 
> 赞同：0
> 
> 时间：2013-03-06T11:18:56.937
> 
> 标签：debugging, cordova, blackberry

是否有任何用于调试 phonegap Blackberry(5,6,7) app 的工具/方法。目前正在使用 Alert 进行非常繁琐的调试。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-08T01:55:51.460

由于您使用的是 PhoneGap，因此在 Chrome/Safari 等 webkit 浏览器上查看/调试您的应用程序总是更好。还可以尝试来自 BlackBerry 的 Ripple 模拟器，它是移动设备上最好的网络模拟器：[https ://chrome.google.com/webstore/detail/ripple-emulator-beta/geelfhphabnejjhdalkjhgipohgpdnoc?hl=en](https://chrome.google.com/webstore/detail/ripple-emulator-beta/geelfhphabnejjhdalkjhgipohgpdnoc?hl=en)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-07T09:51:17.477

由于您正在开发一个网络应用程序，据我所知，BlackBerry Webworks 没有“官方”IDE，所以这个问题不是 BB 或 Phonegap 特定的。您只是在问如何调试 JavaScript。SO中有很多关于此的问题，只需[运行搜索](https://stackoverflow.com/search?q=how%20to%20debug%20javascript)即可。我给你两分钱：

由于 JavaScript 代码在浏览器中运行，因此您需要在浏览器中进行调试。大多数浏览器都有内置的调试器或扩展。对于 Firefox，我推荐 Firebug 扩展，在 Chrome 中内置的调试器非常好。我不能告诉IE，但我认为有类似的东西。

如果您需要在设备上进行调试，请使用`console`而不是警报。

最后，看看 WebStorm。可能是目前最好的 JavaScript IDE，但您需要购买许可证。它允许您附加到浏览器调试器并在 IDE 中进行调试。

# java - 使用以 setVisibility(View.GONE); 开头的布局中的值的问题

> ID：15245930
> 
> 赞同：0
> 
> 时间：2013-03-06T11:18:57.527
> 
> 标签：java, android, view

我有一个连接到串行设备的应用程序。当我启动我的应用程序时，我希望隐藏设置，所以我将线性布局设置为不可见并消失了。但是，这意味着未建立连接。存在一些问题，如果视图设置为消失，则无法读取我在微调器中设置的默认值，这是为什么以及如何修复它。

如果设置被隐藏并且我连接，一旦我打开设置，连接就可以正常工作。

因此，如果两种布局都显示如下：http: [//i.imgur.com/N5cU0Wg.png](http://i.imgur.com/N5cU0Wg.png)

如果设置布局不可见，它可以正常工作：http: [//i.imgur.com/hIttP24.png](http://i.imgur.com/hIttP24.png)

但如果它消失了，直到我拿出设置它才起作用：http: [//i.imgur.com/ViJUgf3.png](http://i.imgur.com/ViJUgf3.png)

这是我在 onCreate 中使用默认 9600 制作的微调器示例

```
mBaudSpinner = (Spinner) findViewById(R.id.bannerBaudSpinner);
        ArrayAdapter<CharSequence> adapter = new ArrayAdapter<CharSequence>(
                this, android.R.layout.simple_spinner_item);
        adapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);
        mBaudSpinner.setAdapter(adapter);
        String[] tempArray = SlickUSB2Serial.BAUD_RATES;
        for (int i = 0; i < tempArray.length; i++) {
            adapter.add(tempArray[i]);
        }
        mBaudSpinner.setSelection(SlickUSB2Serial.BaudRate.BAUD_9600.ordinal()); 
```

编辑：

这是找到连接时发生的一些代码，但在视图消失时没有被调用，我在这里实现了库方法：

```
@Override
    public void onItemSelected(AdapterView<?> parent, View view, int position,
            long id) {
        //bannerView.setVisibility(View.INVISIBLE);
        //bannerView.setVisibility(View.GONE);

        // TODO Auto-generated method stub

        Log.d(TAG3, "in onItemSelected");
        changeSelectedAdapter(mDeviceAdapters.get(position));
    }

    @Override
    public void onNothingSelected(AdapterView<?> arg0) {
        // TODO Auto-generated method stub
    }

    public void changeSelectedAdapter(USB2SerialAdapter adapter) {
        Toast.makeText(this, "in changeselectedadapter", Toast.LENGTH_SHORT)
                .show();
        // if(mSelectedAdapter!=null){
        // mDeviceOutputs.set(mDeviceSpinnerAdapter.getPosition(mSelectedAdapter.getDeviceId()+""),mReceiveBox.getText().toString());
        Log.d(TAG3, "in change selected adapter");
        mSelectedAdapter = adapter;
        mBaudSpinner.setSelection(adapter.getBaudRate().ordinal());
        mDataSpinner.setSelection(adapter.getDataBit().ordinal());
        mParitySpinner.setSelection(adapter.getParityOption().ordinal());
        mStopSpinner.setSelection(adapter.getStopBit().ordinal());

        updateCurrentSettingsText();

        // mReceiveBox.setText(mDeviceOutputs.get(mDeviceSpinner.getSelectedItemPosition()));
        Toast.makeText(this,
                "Adapter switched toooo: " + adapter.getDeviceId() + "!",
                Toast.LENGTH_SHORT).show();
        String getInitialPrompt = "\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\n";
        try {
            sendOverSerial(getInitialPrompt.getBytes("UTF-8"));
        } catch (UnsupportedEncodingException e) {
            // TODO Auto-generated catch block
            e.printStackTrace();
            Log.d(TAG, "exception");
        }

    }

    @Override
    public void onAdapterConnected(USB2SerialAdapter adapter) {
        adapter.setDataListener(this);
        mDeviceAdapters.add(adapter);
        mDeviceOutputs.add("");
        mDeviceSpinnerAdapter.add("" + adapter.getDeviceId());
        mDeviceSpinner.setSelection(mDeviceSpinnerAdapter.getCount() - 1);

        Toast.makeText(this,
                "Adapter: " + adapter.getDeviceId() + " Connected!",
                Toast.LENGTH_SHORT).show();

    } 
```

这确实被称为：

```
public void onAdapterConnected(USB2SerialAdapter adapter) {
        adapter.setDataListener(this);
        mDeviceAdapters.add(adapter);
        mDeviceOutputs.add("");
        mDeviceSpinnerAdapter.add("" + adapter.getDeviceId());
        mDeviceSpinner.setSelection(mDeviceSpinnerAdapter.getCount() - 1);

        Toast.makeText(this,
                "Adapter: " + adapter.getDeviceId() + " Connected!",
                Toast.LENGTH_SHORT).show();

    } 
```

我需要调用它，但它不是：

```
public void onItemSelected(AdapterView<?> parent, View view, int position,
            long id) {
        //bannerView.setVisibility(View.INVISIBLE);
        //bannerView.setVisibility(View.GONE);

        // TODO Auto-generated method stub

        Log.d(TAG3, "in onItemSelected");
        changeSelectedAdapter(mDeviceAdapters.get(position));
    } 
```

我对 onItemListener 的唯一引用是在 onCreate 中，所以它不是因为微调器“消失”而没有被处理吗？

```
mDeviceSpinner = (Spinner) findViewById(R.id.bannerDeviceSpinner);
        mDeviceSpinnerAdapter = new ArrayAdapter<CharSequence>(this,
                android.R.layout.simple_spinner_item);
        mDeviceSpinnerAdapter
                .setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);
        mDeviceSpinner.setAdapter(mDeviceSpinnerAdapter);
        mDeviceSpinner.setOnItemSelectedListener(this); 
```

这是 mSelectedadapter 的文档，i.imgur.com/Ezigt7G.png

它在我的应用程序中是这样定义的：

```
private static USB2SerialAdapter mSelectedAdapter; 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T12:11:34.047

问题是，虽然适配器正在连接，但没有调用 changeSelectedAdapter，因为没有调用 onItemSelected。这是因为如果视图设置为消失，则不能选择项目？

解决此问题的两种方法：

建立连接时手动调用它：

```
changeSelectedAdapter(mSelectedAdapter); 
```

或者当适配器连接时，我可以设置一些默认值：

```
mSelectedAdapter = adapter;
mSelectedAdapter.setCommSettings(BaudRate.BAUD_9600, DataBits.DATA_8_BIT, ParityOption.PARITY_NONE, StopBits.STOP_1_BIT); 
```

第三种方法是让视图可见，但以编程方式将大小设置为一些很小的大小，然后您可以根据需要将其更改回所需的大小

# python - 图像的牛眼图

> ID：15245934
> 
> 赞同：1
> 
> 时间：2013-03-06T11:19:08.993
> 
> 标签：python, matplotlib

我想绘制图像的牛眼图。我用 matplotlib 在极坐标图中尝试了这些代码 [Shade 'cells'](https://stackoverflow.com/questions/10837296/shade-cells-in-polar-plot-with-matplotlib/15245850)

对于牛眼图，我想使用不同的颜色。有没有办法设置这种颜色？`color = choice(['navy','maroon','lightgreen'])`颜色根据 for 循环迭代重复。

有谁知道在 matplotlib 中是否有对应于 matlab 的函数`bullseye()`？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-08T12:49:37.290

我不认为有一个特定的`bullseye`方法`matplotlib`，但是比较matlab函数的作用和这个[答案](https://stackoverflow.com/a/10838501/1860757)中的正确图，我认为你应该能够得到你想要的半径坐标。例如（借用上述答案）

```
import numpy as np
import matplotlib.pyplot as plt

theta, r = np.mgrid[0:2*np.pi:20j, 0.2:1:10j]
z = np.random.random(theta.size).reshape(theta.shape)

fig, ax = plt.subplots(ncols=1, subplot_kw=dict(projection='polar'))

ax.pcolormesh(theta, r, z)
ax.set_yticklabels([])
ax.set_ylim([0, 1])

plt.show() 
```

地块![这](../Images/303225bdd093fb1b0eb6cfa1c88726af.png)

我不明白你关于颜色的问题到底是什么意思。`ax.pcolormesh`接受[colormap](http://matplotlib.org/examples/pylab_examples/show_colormaps.html)或 matplotlib [color](http://matplotlib.org/api/colors_api.html)。如果您想要特定的颜色，您可以使用这两个参数和/或创建自己的颜色图。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2018-01-12T15:54:31.177

为了提供类似于您提到的 matlab 函数的东西，我起草了一些代码（也在 git hub 上共享），用于为每个径向细分创建具有任意数量扇区的靶心。颜色由颜色图和扇区下方的值给出。此外，这允许修改径向细分的中心。

```
import numpy as np
import matplotlib as mpl
import matplotlib.pyplot as plt
import pandas as pd
import matplotlib.ticker as ticker

def bulls_eye(ax, data, cmap=None, norm=None, raidal_subdivisions=(2, 8, 8, 11),
              centered=(True, False, False, True), add_nomenclatures=True, cell_resolution=128,
              pfi_where_to_save=None, colors_bound='-k'):
    """
    Clockwise, from smaller radius to bigger radius.
    :param ax:
    :param data:
    :param cmap:
    :param norm:
    :param raidal_subdivisions:
    :param centered:
    :param add_nomenclatures:
    :param cell_resolution:
    :param pfi_where_to_save:
    :return:
    """
    line_width = 1.5
    data = np.array(data).ravel()

    if cmap is None:
        cmap = plt.cm.viridis

    if norm is None:
        norm = mpl.colors.Normalize(vmin=data.min(), vmax=data.max())

    theta = np.linspace(0, 2*np.pi, 768)
    r = np.linspace(0, 1, len(raidal_subdivisions)+1)

    nomenclatures = []
    if isinstance(add_nomenclatures, bool):
        if add_nomenclatures:
            nomenclatures = range(1, sum(raidal_subdivisions)+1)
    elif isinstance(add_nomenclatures, list) or isinstance(add_nomenclatures, tuple):
        assert len(add_nomenclatures) == sum(raidal_subdivisions)
        nomenclatures = add_nomenclatures[:]
        add_nomenclatures = True

    # Create the circular bounds
    line_width_circular = line_width
    for i in range(r.shape[0]):
        if i == range(r.shape[0])[-1]:
            line_width_circular = int(line_width / 2.)
        ax.plot(theta, np.repeat(r[i], theta.shape), colors_bound, lw=line_width_circular)

    # iterate over cells divided by radial subdivision
    for rs_id, rs in enumerate(raidal_subdivisions):
        for i in range(rs):
            cell_id = sum(raidal_subdivisions[:rs_id]) + i
            theta_i = - i * 2 * np.pi / rs + np.pi / 2
            if not centered[rs_id]:
                theta_i += (2 * np.pi / rs) / 2
            theta_i_plus_one = theta_i - 2 * np.pi / rs  # clockwise
            # Create colour fillings for each cell:
            theta_interval = np.linspace(theta_i, theta_i_plus_one, cell_resolution)
            r_interval = np.array([r[rs_id], r[rs_id+1]])
            angle  = np.repeat(theta_interval[:, np.newaxis], 2, axis=1)
            radius = np.repeat(r_interval[:, np.newaxis], cell_resolution, axis=1).T
            z = np.ones((cell_resolution, 2)) * data[cell_id]
            ax.pcolormesh(angle, radius, z, cmap=cmap, norm=norm)

            # Create radial bounds
            if rs  > 1:
                ax.plot([theta_i, theta_i], [r[rs_id], r[rs_id+1]], colors_bound, lw=line_width)
            # Add centered nomenclatures if needed
            if add_nomenclatures:
                if rs == 1 and rs_id ==0:
                    cell_center = (0, 0)
                else:
                    cell_center = ((theta_i + theta_i_plus_one) / 2., r[rs_id] + .5 * r[1] )

                if isinstance(nomenclatures[0], (int, long, float, complex)):
                    ax.annotate(r"${:.3g}$".format(nomenclatures[cell_id]), xy=cell_center,
                                xytext=(cell_center[0], cell_center[1]),
                                horizontalalignment='center', verticalalignment='center', size=8)
                else:
                    ax.annotate(nomenclatures[cell_id], xy=cell_center,
                                xytext=(cell_center[0], cell_center[1]),
                                horizontalalignment='center', verticalalignment='center', size=12)

    ax.grid(False)
    ax.set_ylim([0, 1])
    ax.set_yticklabels([])
    ax.set_xticklabels([])

    if pfi_where_to_save is not None:
        plt.savefig(pfi_where_to_save, format='pdf', dpi=200)

def multi_bull_eyes(multi_data, cbar=None, cmaps=None, normalisations=None,
                    global_title=None, canvas_title='title', titles=None, units=None, raidal_subdivisions=(2, 8, 8, 11),
                    centered=(True, False, False, True), add_nomenclatures=(True, True, True, True),
                    pfi_where_to_save=None, show=True):
    plt.clf()
    n_fig = len(multi_data)
    if cbar is None:
        cbar = [True] * n_fig
    if cmaps is None:
        cmaps = [mpl.cm.viridis] * n_fig
    if normalisations is None:
        normalisations = [mpl.colors.Normalize(vmin=np.min(multi_data[i]), vmax=np.max(multi_data[i]))
                          for i in range(n_fig)]
    if titles is None:
        titles = ['Title {}'.format(i) for i in range(n_fig)]

    h_space = 0.15 / n_fig
    h_dim_fig = .8
    w_dim_fig = .8 / n_fig

    def fmt(x, pos):
        # a, b = '{:.2e}'.format(x).split('e')
        # b = int(b)
        # return r'${} \times 10^{{{}}}$'.format(a, b)
        return r"${:.4g}$".format(x)

    # Make a figure and axes with dimensions as desired.
    fig = plt.figure(figsize=(3 * n_fig, 4))
    fig.canvas.set_window_title(canvas_title)
    if global_title is not None:
        plt.suptitle(global_title)

    for n in range(n_fig):
        origin_fig = (h_space * (n + 1) + w_dim_fig * n, 0.15)
        ax = fig.add_axes([origin_fig[0], origin_fig[1], w_dim_fig, h_dim_fig], polar=True)
        bulls_eye(ax, multi_data[n], cmap=cmaps[n], norm=normalisations[n], raidal_subdivisions=raidal_subdivisions,
                  centered=centered, add_nomenclatures=add_nomenclatures[n])
        ax.set_title(titles[n], size=10)

        if cbar[n]:
            origin_cbar = (h_space * (n + 1) + w_dim_fig * n, .15)
            axl = fig.add_axes([origin_cbar[0], origin_cbar[1], w_dim_fig, .05])
            cb1 = mpl.colorbar.ColorbarBase(axl, cmap=cmaps[n], norm=normalisations[n], orientation='horizontal',
                                            format=ticker.FuncFormatter(fmt))
            cb1.ax.tick_params(labelsize=8)
            if units is not None:
                cb1.set_label(units[n])

    if pfi_where_to_save is not None:
        plt.savefig(pfi_where_to_save, format='pdf', dpi=330)
    if show:
        plt.show()

if __name__ == '__main__':

    # Very dummy data:
    data = np.array(range(29)) + 1

    # TEST bull-eye three-fold
    if True:

        fig, ax = plt.subplots(figsize=(12, 8), nrows=1, ncols=3,
                               subplot_kw=dict(projection='polar'))
        fig.canvas.set_window_title('Left Ventricle Bulls Eyes')

        # First one:
        cmap = mpl.cm.viridis
        norm = mpl.colors.Normalize(vmin=1, vmax=29)

        bulls_eye(ax[0], data, cmap=cmap, norm=norm)
        ax[0].set_title('Bulls Eye ')

        axl = fig.add_axes([0.14, 0.15, 0.2, 0.05])
        cb1 = mpl.colorbar.ColorbarBase(axl, cmap=cmap, norm=norm, orientation='horizontal')
        cb1.set_label('Some Units')

        # Second one
        cmap2 = mpl.cm.cool
        norm2 = mpl.colors.Normalize(vmin=1, vmax=29)

        bulls_eye(ax[1], data, cmap=cmap2, norm=norm2)
        ax[1].set_title('Bulls Eye ')

        axl2 = fig.add_axes([0.41, 0.15, 0.2, 0.05])
        cb2 = mpl.colorbar.ColorbarBase(axl2, cmap=cmap2, norm=norm2, orientation='horizontal')
        cb2.set_label('Some other units')

        # Third one
        cmap3 = mpl.cm.winter
        norm3 = mpl.colors.Normalize(vmin=1, vmax=29)

        bulls_eye(ax[2], data, cmap=cmap3, norm=norm3)
        ax[2].set_title('Bulls Eye third')

        axl3 = fig.add_axes([0.69, 0.15, 0.2, 0.05])
        cb3 = mpl.colorbar.ColorbarBase(axl3, cmap=cmap3, norm=norm3, orientation='horizontal')
        cb3.set_label('Some more units')

        plt.show()

    if True:
        fig = plt.figure(figsize=(5, 7))
        fig.canvas.set_window_title('Bulls Eyes - segmentation assessment')

        # First and only:
        cmap = mpl.cm.viridis
        norm = mpl.colors.Normalize(vmin=1, vmax=29)

        ax = fig.add_axes([0.1, 0.2, 0.8, 0.7], polar=True)
        bulls_eye(ax, data, cmap=cmap, norm=norm)
        ax.set_title('Bulls Eye')

        axl = fig.add_axes([0.1, 0.15, 0.8, 0.05])
        cb1 = mpl.colorbar.ColorbarBase(axl, cmap=cmap, norm=norm, orientation='horizontal')
        cb1.set_label('Some Units')

        plt.show()

    if True:

        multi_data = [range(1,17), list( 0.000000001 * np.array(range(1,17))), list( 0.001 * np.array(range(1,17)))]
        print multi_data
        multi_bull_eyes(multi_data, raidal_subdivisions=(3,3,4,6),
                  centered=(True, True, True, True), add_nomenclatures=[True]*3)

        plt.show(block=True) 
```

它是在我在 github 上的代码[LabelsManager](https://github.com/SebastianoF/LabelsManager)中提出的，欢迎您使用。

这是一个示例，radal_subdivisions=(2, 8, 8, 11) 和 centered=(True, False, False, True)： [![在此处输入图像描述](../Images/4ac0a02dc7d1244eb997088e2a26fad4.png)](https://i.stack.imgur.com/ig4gB.png)

# javascript - 单页应用程序 (JavaScript) 的架构

> ID：15245935
> 
> 赞同：11
> 
> 时间：2013-03-06T11:19:13.617
> 
> 标签：javascript, design-patterns, model-view-controller, single-page-application, javascript-framework

我想了解设计单页应用程序的整体架构（主要通过 JavaScript）

假设我有一个登录页面（用户名/密码），并且在成功验证后，我会看到主页。现在登录和主页屏幕实际上应该是单个页面的一部分。

我该如何设计这样的页面？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-06T11:36:37.307

这是一个如此广泛的问题，以至于可以写整本书来详细回答它。

基本上你需要做的是使用 AJAX 而不是页面重新加载。您仍然需要连接到服务器以验证用户身份，但不是每次都重新加载整个页面，您需要对服务器进行 AJAX 调用，并根据登录是否成功更改部分内容在页面上（例如将登录按钮更改为“以用户 xxx 身份登录”消息等）。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-03-25T18:32:29.800

如果您还没有看过，John Papa 有一个非常受欢迎的关于在 Pluralsight 上设计单页应用程序的课程： [http ://www.pluralsight.com/training/Courses/TableOfContents/single-page-apps-jumpstart](http://www.pluralsight.com/training/Courses/TableOfContents/single-page-apps-jumpstart)

它确实需要 Pluralsight 订阅，但您可以获得 10 天的免费试用期，以确认内容对您有价值。（顺便说一句，我不隶属于 Pluralsight。）

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-23T01:55:16.387

您可能想查找这本免费的[单页应用程序书](http://singlepageappbook.com/single-page.html)。我在 Google 搜索“单页应用程序”时发现了它。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-03-06T12:44:34.067

您可以从网上找到的现有解决方案中获得灵感：

*   [ExtJS（MVC 应用架构）](http://docs.sencha.com/ext-js/4-1/#!/guide/application_architecture)
*   [淘汰赛（基于 MVVM 模式）](http://knockoutjs.com/)
*   [骨干](http://backbonejs.org/)

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-03-06T15:37:57.953

我刚刚向 SourceForge 添加了一个可能有帮助的项目。我已经开发这个库大约一年了，我认为它已经准备好迎接黄金时段了。该项目允许您从 JavaScript 中引用 asp.net MVC。

[https://sourceforge.net/projects/peachajax/](https://sourceforge.net/projects/peachajax/)

> 该库生成用于 AJAX 操作的动态 JavaScript 代码。该库需要 jQuery。例如，如果您在 Controller 中使用 Action Method 进行 AJAX 操作，您可以通过动态生成的 JavaScript 文件快速访问它，如下所示：

```
peach.ControllerName.ActionMethodName(parameter1, parameter2, parameter3); // javascript 
```

映射参数直接与 ActionMethods 参数相关联。

定制功能包括：

*   自定义参数
*   自定义回调
*   参数的自定义客户端处理函数（用于序列化专用模型类型）
*   自定义预请求处理器
*   自定义请求后处理器

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-03-25T18:40:29.720

If you're more an MVC guy, I personally have been using chaplinjs.org, which is based on backbone, and hbs for single-page app glory. I have a few modifications to use websockets instead of long-polls, but it's pretty quite extendible, and if you're familiar with mvc, easy enough to get into (you'll run into more problems with backbone than with Chaplin)

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2021-10-07T19:40:14.077

我使用 jquery 设置了一个基本的 SPA，如下所示：

```
<script src="jquery.js"></script>
<script>        
            // SPA with JQuery? Hold my beer!

            // Handlers
            function LoadAbout(){
                $("#content").load("about.txt");
                $("#page").html("About");               
            }

            function LoadHome(){
                $("#content").load("home.txt");
                $("#page").html("Home");
            }   

            // Run on document ready
            $(document).ready(function() {

                // load the home page
                LoadHome();

                // Assign nav handlers
                $("#about").click(LoadAbout);
                $("#home").click(LoadHome);
            });         

</script>
```

如果您需要将处理程序附加到模块内的元素，您可以像这样在导航处理程序中附加：

```
function LoadAbout(){
      $("#content").load("about.txt", function(){
          $("#contactusbutton").click(ContactUsClick);
      });
      $("#page").html("About");             
}
```

我 <3 回调

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2019-09-30T17:34:59.700

您需要 index.html 页面，如下所示

```
<html>
  <body>
    <div id="header"><!-- something cool here --></div> 
      <div id="login" class="view"> ... </div> 
      <div id="home" class="view" style="display:none;"> ... </div>
      <div id="page3" class="view" style="display:none;"> ... </div>
      <div id="page4" class="view" style="display:none;"> ... </div>

     <div id="footer"><!-- something cool here --></div>
  </body>
</html> 
```

加载应用程序时，除了登录视图之外，所有视图（具有视图类的 div）都被隐藏（显示：无）。登录视图上应该有登录表单，当它由用户提交时，它会启动 ajax 请求。当 ajax 成功应用程序隐藏登录页面并改为显示主页。

您可以按照下一种方式构建您的代码。对于每个模块，您将拥有模型、视图和控制器文件。

例如，对于登录模块，您可能有 loginModel.js、loginView.js、loginCtrl.js。在模型文件中，您将连接到数据库并检查提供的凭据。在视图中，您会将侦听器绑定到控件。在控制器中，您将对用户按下的提交按钮做出反应。

# jquery - 使用输入元素的动态列表创建表单

> ID：15245936
> 
> 赞同：0
> 
> 时间：2013-03-06T11:19:14.760
> 
> 标签：jquery, html

我将发布一张图片来解释我假装要实现的目标。

我正在使用 HTML，jQuery。

![在此处输入图像描述](../Images/3ca410c675b426f4ed126cfcdc7174a3.png)

我想在左侧有一个输入列表。右边应该是要提交的选定项目。箭头将用作从列表中添加/删除项目。

就是这样，我的问题是：是否有插件或其他东西来促进这一点？

如果，不，我该怎么做？我怎么能开始呢？

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T11:22:11.263

这里有一个关于你所追求的教程：http: [//blog.jeremymartin.name/2008/02/easy-multi-select-transfer-with-jquery.html](http://blog.jeremymartin.name/2008/02/easy-multi-select-transfer-with-jquery.html)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-06T11:23:24.867

试试下面的链接。它可能会帮助你。

*   [http://www.senamion.com/blog/jmultiselect2side.html](http://www.senamion.com/blog/jmultiselect2side.html)
*   第 1 部分：http: [//vijayt.com/Post/Move-items-from-one-listbox-to-another-using-jQuery](http://vijayt.com/Post/Move-items-from-one-listbox-to-another-using-jQuery)
*   第 2 部分：http: [//vijayt.com/Post/Move-items-from-one-listbox-to-another-using-jQuery-%28Part-2%29](http://vijayt.com/Post/Move-items-from-one-listbox-to-another-using-jQuery-%28Part-2%29)

# entity-framework - 如何在插入或更新实体时添加数据

> ID：15245947
> 
> 赞同：1
> 
> 时间：2013-03-06T11:19:46.430
> 
> 标签：entity-framework, entity-framework-5, wcf-ria-services

我们在 Silverlight 应用程序中使用 RIA 服务，对于我们的一个实体，我们希望跟踪谁创建和更新它们以及何时创建和更新它们。为此，我们添加了以下属性：

```
public class Person
{
    public string CreatedBy { get; set; }
    public DateTime CreatedOn { get; set; }
    public string LastModifiedBy { get; set; }
    public DateTime LastModifiedOn { get; set; }
} 
```

我们想在域服务中更新这些值，这样我们就不必在客户端执行此操作（并且因为实体也将被添加/更新服务器端（。我尝试通过修改域服务方法来做到这一点，例如这：

```
public void InsertPerson(Person person)
{
    person.CreatedBy = GetCurrentUser();
    person.CreatedOn = DateTime.Now();

    DbEntityEntry<Person> entityEntry = this.DbContext.Entry(person);
    if ((entityEntry.State != EntityState.Detached))
    {
        entityEntry.State = EntityState.Added;
    }
    else
    {
        this.DbContext.Persons.Add(person);
    }
}

public void UpdatePerson(Person person)
{
    person.LastModifiedBy = GetCurrentUser();
    person.LastModifiedOn = DateTime.Now();

    DbContext.Persons.AttachAsModified(person, ChangeSet.GetOriginal(person), DbContext);
} 
```

但这似乎根本没有添加这些数据。然后我尝试在插入/更新实体后使用 sql 查询

```
DbContext.Database.ExecuteSqlCommand("UPDATE Persons SET LastModifiedById = {0}, LastModifiedOn = {1} where Id = {2}", GetCurrentUser(), DateTime.Now, person.Id); 
```

它实际上更新了数据库，但是在再次从数据库中获取实体之前，客户端不会更新/通知更改。

有谁知道如何最好地实现这一目标？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-06T11:29:30.013

是的，打电话给

```
DBContext.SaveChanges() 
```

将更改实际提交到数据库中

# php - PHP 数组空白选择选项

> ID：15245948
> 
> 赞同：0
> 
> 时间：2013-03-06T11:19:46.313
> 
> 标签：php, mysql, select

我目前正在从事一个大学项目，以使用 PHP 创建一个有效的电子商务网站。尽管我多年来一直使用 HTML，但 PHP 仍然是一门外语。我仍在学习非常基础的知识。我发现对我来说最好的学习方法是拉小提琴。

我有一个 HTML 选择下拉列表的问题，该下拉列表从 PHP 数组中收集其值，该数组是通过 MySQL 数据库收集的。这是我的代码：

```
<?php
session_start();
//Connect to Session
include "conn.php";

//Retrieve Header
include "header.php";

//Query
if (isset($_GET['id'])){
    $product_id = $_GET['id'];
    $q="SELECT ProductName,img,ProductID,Description,p_spec1,p_spec2,p_spec3,p_spec4,p_spec5,Price,size_1,size_2,size_3,size_4,size_5 FROM Products 
                    WHERE ProductID=$product_id";
    $result = mysqli_query($_SESSION['conn'],$q);

//Display
    if ($row = mysqli_fetch_array($result)){

        //DO NOT SHOW BLANK ARRAYS METHOD ONE
        $row = array_filter($row);              
        echo "<div>
        <p><b>Name:</b> $row[0]</p>

        <p><img src=".$row[1]."></p>

        <p><b>Product Code: </b>$row[2]</p>

        <p><b><u>Product Description:</b></u></p>
        <p>$row[3]</p>

        <p><b><u>Product Spec:</b></u> <li>$row[4]</li><li>$row[5]</li><li>$row[6]</li><li>$row[7]</li><li>$row[8]</li></p>

        <p><b>Price:</b> &#163;$row[9]</p>

        <p><b>Quantity:</b>
            <select>
                <option>1</option>
                <option>2</option>
            </select>
        </p>

        <p><b>Size:</b>
            <select>
                <option>$row[10]</option>
                <option>$row[11]</option>
                <option>$row[12]</option>
                <option>$row[13]</option>
                <option>$row[14]</option>
            </select>   
        </p>
        </div>";
    }
    else {
        echo $row="";
    }

//Add Item to basket
    echo "<div><a href=\"cart.php?action=add&product=$product_id\">
                        Add to Bag</a></div>";
}

//Retrieve Footer
include "footer.php";
?> 
```

正如您可能已经解决的那样……我认为问题归结于我宣布了五个选项这一事实。有没有办法让我声明一个，如果其他人在数据库中保存值，它们被添加为选项？

将不胜感激任何帮助！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T11:31:21.273

```
 //Connect to Session
    include "conn.php";

    //Retrieve Header
    include "header.php";

    //Query
    if (isset($_GET['id'])){
        $product_id = $_GET['id'];
        $q="SELECT ProductName,img,ProductID,Description,p_spec1,p_spec2,p_spec3,p_spec4,p_spec5,Price,size_1,size_2,size_3,size_4,size_5 FROM Products 
                        WHERE ProductID=$product_id";
        $result = mysqli_query($_SESSION['conn'],$q);

    //Display
        if ($row = mysqli_fetch_array($result)){

            //DO NOT SHOW BLANK ARRAYS METHOD ONE
            $row = array_filter($row);     

         $option ='';
for($i=10;$i<15;$i++){
    if(isset($row[$i]) && !empty($row[$i])){
        $option.='<option>'".$row[10]."'</option>';
    }

            echo "<div>
            <p><b>Name:</b> $row[0]</p>

            <p><img src=".$row[1]."></p>

            <p><b>Product Code: </b>$row[2]</p>

            <p><b><u>Product Description:</b></u></p>
            <p>$row[3]</p>

            <p><b><u>Product Spec:</b></u> <li>$row[4]</li><li>$row[5]</li><li>$row[6]</li><li>$row[7]</li><li>$row[8]</li></p>

            <p><b>Price:</b> &#163;$row[9]</p>

            <p><b>Quantity:</b>
                <select>
                    <option>1</option>
                    <option>2</option>
                </select>
            </p>

            <p><b>Size:</b>
                <select>".$option."
                </select>   
            </p>
            </div>";
        }
        else {
            echo $row="";
        }

    //Add Item to basket
        echo "<div><a href=\"cart.php?action=add&product=$product_id\">
                            Add to Bag</a></div>";
    }

    //Retrieve Footer
    include "footer.php";
    ?> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T11:39:17.403

假设您的尺寸为空，否则您可以在回显它们之前检查它们：

```
if (!is_null($row10)) {
    echo "<option>" . $row10 . "</option>";
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-06T11:32:36.570

最好的选择是遍历这些值。如果您确定起始值为 $row[10] 那么您可以使用 for 循环进行管理。下面的东西。

```
for ($i=10;i<lenght_of_array;i++)
{
    <option>$row[i]</option>
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-06T11:33:01.263

你到底是什么问题？如果你不会总是在 $row[10] - $row[14] 字段中有值，那么你应该做一个循环。

```
 echo "<div>
        <p><b>Name:</b>".$row[0]."</p>

        <p><img src='".$row[1]."'></p>

        <p><b>Product Code: </b>".$row[2]."</p>

        <p><b><u>Product Description:</b></u></p>
        <p>".$row[3]."</p>

        //Do this up to select box and then 

            <select>";

for($i=10;$i<15;$i++) {
  if($row[$i]!='')
  echo "<option>".$row[$i]."</option>";
}

    echo"</select>   
        </p>
        </div>"; 
```

# trigger.io - 在可用重新加载的情况下应用程序崩溃，与要更新的文件一样多次

> ID：15245949
> 
> 赞同：1
> 
> 时间：2013-03-06T11:19:49.133
> 
> 标签：trigger.io

对于 Reload 可用的每个文件，应用程序崩溃 1 次，所以如果我有 5 个更改的文件，我需要启动应用程序 6 次才能再次工作，跟踪如下：

```
Mar  6 16:33:55 ruben-iphone5 Forge[1633] <Warning>: [DEBUG] Linked reload file to existing assets file: splash/Default-Landscape~ipad.png (f57416f87b40da8ea844d63636908eb1265739a8)
Mar  6 16:33:55 ruben-iphone5 Forge[1633] <Warning>: [INFO] We have 9 Reload files to download
Mar  6 16:33:58 ruben-iphone5 wifid[29] <Error>: WiFi:[384260638.130773]: WiFi unquiescing requested by "locationd"
Mar  6 16:33:58 ruben-iphone5 wifid[29] <Error>: WiFi:[384260638.142137]: WiFi unquiescing requested by "locationd"
Mar  6 16:33:58 ruben-iphone5 wifid[29] <Error>: WiFi:[384260638.781268]: WiFi unquiescing requested by "locationd"
Mar  6 16:34:01 ruben-iphone5 Forge[1633] <Warning>: [DEBUG] Downloaded reload file: assets/fonts/font-awesome/font-awesome.less (f3b7eab4f32ef629e684dff8353af6afaf6bd976)
Mar  6 16:34:01 ruben-iphone5 Forge[1633] <Error>: +[BorderControl returnResult:]: unrecognized selector sent to class 0x36c32c
Mar  6 16:34:01 ruben-iphone5 Forge[1633] <Error>: *** Terminating app due to uncaught exception 'NSInvalidArgumentException', reason: '+[BorderControl returnResult:]: unrecognized selector sent to class 0x36c32c'
    *** First throw call stack:
    (0x346103e7 0x3c301963 0x34613dc1 0x3461264d 0x3456a208 0x34f284a1 0x345e58f7 0x345e515d 0x345e3f2f 0x3455723d 0x345570c9 0x3813533b 0x364732b9 0xe4da7 0xe4d18) 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T14:35:15.387

这是我们 v1.4.32 平台版本中的一个错误 - 感谢您引起我们的注意！

我刚刚在 v1.4.33 中推出了一个修复程序：http: [//docs.trigger.io/en/v1.4/release-notes.html#v1-4-33](http://docs.trigger.io/en/v1.4/release-notes.html#v1-4-33)

# c# - 当用户光标位于屏幕右侧时，如何显示 Windows 窗体？

> ID：15245958
> 
> 赞同：0
> 
> 时间：2013-03-06T11:20:23.397
> 
> 标签：c#, winforms, windows-forms-designer

如果有人能给我一个提示，我会很感激 :) 我有我的 Windows 窗体`C#`应用程序，我将开始位置放在屏幕的右侧。现在我希望它仅在用户光标触摸屏幕右侧边界时出现。如何跟踪光标的位置并显示表单？先感谢您！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-06T11:30:01.423

从分解问题的角度回答：

*   我怎么知道屏幕右侧在哪里？
    *   [如何从 C# winform 应用程序中检索屏幕分辨率？](https://stackoverflow.com/questions/2402739/how-to-retrieve-the-screen-resolution-from-a-c-sharp-winform-app)
*   我怎么知道鼠标光标的位置？
    *   [http://msdn.microsoft.com/en-us/library/system.windows.forms.cursor.position.aspx](http://msdn.microsoft.com/en-us/library/system.windows.forms.cursor.position.aspx)

那应该让你开始。我假设您已经知道如何使用 Timer 重复执行某些操作（例如轮询鼠标位置）。

# android - 谷歌地图 Api V2 缓慢的方向变化

> ID：15245959
> 
> 赞同：1
> 
> 时间：2013-03-06T11:20:26.767
> 
> 标签：android, google-maps-android-api-2, orientation-changes

我在我的应用程序中使用谷歌地图 Api V2，但屏幕旋转时出现问题。它没有任何功能问题，但是当我旋转屏幕时，更改似乎不像在其他应用程序或谷歌默认地图中那样即时。我还使用以下代码：

```
if (savedInstanceState == null) {
        mapFragment.setRetainInstance(true);
    } else {
        map = mapFragment.getMap();
    } 
```

但在方向改变屏幕滞后。我究竟做错了什么？我应该让我的行为不对方向变化做出反应吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-27T10:32:33.390

在托管活动中检查片段本身（这对我有用）：

```
@Override
protected void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);

    mMapFragment = (SupportMapFragment) getSupportFragmentManager().findFragmentByTag(MAP_FRAGMENT_TAG);

    // Only create a fragment if it doesn't already exist.
    if (mMapFragment == null) {
        mMapFragment = SupportMapFragment.newInstance();
        mMapFragment.setRetainInstance(true);

        FragmentTransaction fragmentTransaction = getSupportFragmentManager().beginTransaction();
        fragmentTransaction.add(android.R.id.content, mMapFragment, MAP_FRAGMENT_TAG);
        fragmentTransaction.commit();
    }
    setUpMapIfNeeded();
} 
```

# iphone - 导航栏上未添加点击手势

> ID：15245960
> 
> 赞同：2
> 
> 时间：2013-03-06T11:20:30.490
> 
> 标签：iphone, ios

```
bigLabel = [[UILabel alloc] init];
UITapGestureRecognizer *tap=[[UITapGestureRecognizer alloc] initWithTarget:self action:@selector(tapAction)];
[tap setNumberOfTapsRequired:1];
[bigLabel addGestureRecognizer:tap];
bigLabel.backgroundColor=[UIColor clearColor];
bigLabel.text = _referenceObject.textForCell;
//bigLabel.backgroundColor=[UIColor colorWithPatternImage:[UIImage imageNamed:@"Header1.png"]];
bigLabel.font = [UIFont fontWithName:@"HelveticaNeueLTStd-Bd" size: 21.0];
bigLabel.font =[UIFont boldSystemFontOfSize:21.0f];

bigLabel.textColor = [UIColor whiteColor];
[bigLabel sizeToFit];

[self.navigationItem setTitleView:bigLabel]; 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-03-06T11:23:41.517

使用以下代码：

```
UITapGestureRecognizer* tapRecon = [[UITapGestureRecognizer alloc]
              initWithTarget:self action:@selector(navigationBarTap:)];
    tapRecon.numberOfTapsRequired = 1;
    [navController.navigationBar addGestureRecognizer:tapRecon]; 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-03-06T11:33:10.840

你需要设置

```
bigLabel.userInteractionEnabled = YES; 
```

因为默认情况下 UILabel 实例 userInteractionEnabled 是 NO

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-06T11:24:02.017

尝试为它设置一个框架，如下所示：

```
UIView *iv = [[UIView alloc] initWithFrame:CGRectMake(0,0,32,32)];
[iv setBackgroundColor:[UIColor whiteColor]];
self.navigationItem.titleView = iv; 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2016-09-05T05:35:26.160

```
 UITapGestureRecognizer * tapGesture = [[UITapGestureRecognizer alloc]
                                            initWithTarget:self
                                            action:@selector(hideKeyBoard)];

    tapGesture.cancelsTouchesInView = NO;
    [self.navigationController.view addGestureRecognizer:tapGesture];

-(void)hideKeyBoard
{
    [self.view endEditing:YES];
} 
```

# zurb-foundation - 在 Foundation 4 中显示模态

> ID：15245966
> 
> 赞同：2
> 
> 时间：2013-03-06T11:20:44.267
> 
> 标签：zurb-foundation

您如何在 Foundation 4 中以编程方式显示模式？

在 Foundation 3 中，我们有易于使用的reveal() 方法。

您可以在 Foundation 4 中使用什么？请帮忙。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-12T08:36:55.153

我很确定你可以简单地在你的模式上使用 .foundation 方法来调用它的“打开”。像这样的东西：

`$('#myModal').foundation('reveal', 'open');`

e：刚刚检查了文档，是的，它就在那里： http: [//foundation.zurb.com/docs/components/reveal.html](http://foundation.zurb.com/docs/components/reveal.html)

查找“您也可以通过 JavaScript 打开和关闭 Reveal：”

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-07T10:48:32.693

不幸的是，在 Foundation 4 中，您必须拥有此触发链接才能打开模式 =/ 不幸的是，这不是因为您必须编写更多代码（那不是真的），而是因为这个实现不是，比方说，漂亮。

我的模态代码：

```
<!-- MODAL BOX START CONFIGURATION -->
<a class="reveal-link" data-reveal-id="modal"></a>
<div id="modal" class="reveal-modal medium">
    <div id="modalContent"></div>
    <a class="close-reveal-modal">&#215;</a>
</div> 
```

JS函数打开并放入一些内容到模态

```
function openModal(url,params,text){

// If @url is not empty then we change the #modalContent value with the @url value
if(url !== '')
{
    ajaxLoad('#modalContent',url,params);
}
// If @text is not empty then we change the #modalContent value with the @text value
else if(text !== '')
{
    $('#modalContent').html(text);
}

// If both @url and @text are empty, then the #modalContent remains unchanged. 
// Now we just show de modal with the changed (or not) content
$('a.reveal-link').trigger('click'); } 
```

希望能帮助到你！

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-05-02T02:58:17.073

```
$("#myModal").foundation('reveal', 'open'); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-06T11:43:48.140

对于程序化（javascript）访问，[文档](http://foundation.zurb.com/docs/components/reveal.html)似乎只建议通过点击事件启动。

添加您的模态：

```
<div id="myModal" class="reveal-modal">
  <h2>Awesome. I have it.</h2>
  <p class="lead">Your couch.  It is mine.</p>
  <p>Im a cool paragraph that lives inside of an even cooler modal. Wins</p>
  <a class="close-reveal-modal">&#215;</a>
</div> 
```

设置触发器：

```
<a href="#" data-reveal-id="myModal" id="my-trigger">Click Me For A Modal</a> 
```

以编程方式激活触发器：

```
$('#my-trigger').trigger('click'); 
```

诚然，这似乎是一种解决方法，也许这是由于他们高度重视“轻量级/移动优先”。让我们看看下一个版本会带来什么。

# c++ - C++ 生成文件错误

> ID：15245970
> 
> 赞同：0
> 
> 时间：2013-03-06T11:20:58.897
> 
> 标签：c++, makefile

当我使用 Eclipse 构建项目时，我收到有关 Makefile 的以下错误：µ

```
Type make: *** No rule to make target `hello.exe', needed by `all'.  Stop. 
```

我的 Makefile 是这样的：

```
all: hello

hello: main.o factorial.o hello.o
   g++ main.o factorial.o hello.o -o hello

main.o: main.cpp
   g++ -c main.cpp

factorial.o: factorial.cpp
   g++ -c factorial.cpp

hello.o: hello.cpp
   g++ -c hello.cpp

clean:
   rm -rf *o hello 
```

有谁知道我的错误是什么？先感谢您。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T11:44:02.900

我不知道 Eclipse，但无论`Makefile`你拥有什么，都可以在 Linux 中正常工作。像这样尝试更改目标名称`all`并签出

`all: hello.exe`

`hello.exe: main.o factorial.o hello.o`

`g++ main.o factorial.o hello.o -o hello.exe`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T11:38:26.507

1、祝你用 Eclipse 开发好运，你需要很多 Zen

第二，快速回顾一下如何读取makefile：

```
target: requiredTarget(optional)
 how to generate the target 
```

因此，如您所见，阅读 makefile 的第一行就像是在说：“我有一个名为*all*的目标，而这个目标需要目标*hello*才能生成”。

现在目标`all`是一个特殊的目标，它是隐含的，所以当你或你的 IDE 只是`make`在你的 shell中键入时`make all`是隐含的（当然你可以用 指定你的目标`make`，特殊情况只在没有指定构建目标时应用通过命令行）。

链以总是导致构建目标`make`的显式或显式开头，目标在目标中调用，但由于您在 Windows 上，后缀会自动添加，您找不到名为.`make all``all``all``hello``.exe``make``hello.exe`

基本上，您需要管理特定于操作系统的构建步骤，并且您必须编辑该 makefile 以使其工作，或者您可以等待更深入 Eclipse 的人查看是否有一个与 makefile 相关的好选项来管理这个特定于平台的东西。

一个很好的介绍是[http://www.cprogramming.com/tutorial/makefiles.html](http://www.cprogramming.com/tutorial/makefiles.html)

考虑用于 C++ 开发的 QTcreator。

# mysql - 如何为具有平均票数和票数的排名系统订购 sql 查询？

> ID：15245971
> 
> 赞同：0
> 
> 时间：2013-03-06T11:21:00.883
> 
> 标签：mysql, sql, list, ranking

我正在创建一个基于用户投票（如 imdb）的最佳电影列表。我已经用这个 sql 查询完成了列表：

```
 SELECT data_id, COUNT(point), SUM(point) 
 FROM voting_table
 WHERE data_type='1' 
 GROUP BY data_id 
 order by SUM(point)/COUNT(point) 
 DESC limit 100 
```

这很好用，但我也希望票数（点）影响订单。我的意思是，如果一部电影平均获得 8 票，获得 10 票，而另一部电影获得平均 8 票，获得 5 票。得票多的应该排在比另一个高的位置。我该怎么做？我写的查询对服务器性能有效吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T11:27:23.353

只需添加您想用逗号分隔的第二个订单。试试这个

```
 SELECT data_id, COUNT(point), SUM(point) 
 FROM voting_table
 WHERE data_type='1' 
 GROUP BY data_id 
 order by SUM(point)/COUNT(point) ,COUNT(point)
 DESC limit 100 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T11:27:28.033

尝试将您的`order by`条款更改为：

```
order by SUM(point)/COUNT(point) desc, COUNT(point) desc 
```

就目前而言，您的查询似乎是有效的。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-06T11:36:53.803

有功能`AGV`，我建议你使用它。

按 avg 排序，然后按 count 或 sum

```
...
ORDER BY AVG(point) DESC, COUNT(point) DESC
... 
```

就性能而言，如果不使数据结构复杂化，您无能为力。除非您的网站像 imdb 一样受欢迎，否则应该没问题。如果您的投票表增长超过需要加速的点，那么您需要开始预先计算东西（使用更新电影表或其他一些专门用于该目的的中间表中的分数的触发器进行实时更新，其他方法）

# java - 线程“主”java.util.UnknownFormatConversionException 中的异常：转换 = '-'

> ID：15245975
> 
> 赞同：2
> 
> 时间：2013-03-06T11:21:18.550
> 
> 标签：java, implicit-conversion

问题是“转换='-'”。源代码在这里，我已经注释了“printf”以避免一些问题，总是用“print”来区分：**这是一个用于计算年贷款的程序**。

```
import java.util.*;
public class Loan{
    public static void main(String args[]){
        final double MIN = 0.05;
        final double MAX = 0.08;
        final double ADD = 0.125;
        Scanner input = new Scanner(System.in);
        System.out.print("Loan Amount: ");
        double amount = input.nextDouble();
        System.out.print("Number of Years :");
        int years = input.nextInt();
        /*  
        for(double r = MIN; r < MAX;r = r + ADD){
          double R = Math.pow((1+r),years);
          double monthlyPayment = r * R * amount / 12/(R-1);
          double totalPayment = 12*monthlyPayment*years;
          System.out.printf("%-20s%-20s%-20\n","InterestRate","MonthlyPayment","TotalPayment");
          System.out.printf("%%-20f%-20.2f%-20.2f\n",r,monthlyPayment,totalPayment);
         }
         */     
     }
} 
```

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2013-03-06T11:26:22.200

您缺少格式说明符字符，请替换

```
System.out.printf("%-20s%-20s%-20", "InterestRate", ...) 
```

和

```
System.out.printf("%-20s%-20s%-20s", "InterestRate", ...
                                 ^ 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-06T11:39:15.097

使用下面的代码它会工作

```
System.out.printf("%-20s %-20s %20s %n","InterestRate","Monthly Payment","Total Payment\n");               
System.out.printf("%-20f %-20.2f %-20.2f\n",r,monthlyPayment,totalPayment); 
```

让我知道是否还有其他需要

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-06T11:29:44.887

我猜你想要这个

```
System.out.printf("%-20s%-20s%-20s", "InterestRate",
        "MonthlyPayment", "TotalPayment\n");
System.out.printf("%-20.2f%-20.2f%-20.2f\n", r, monthlyPayment,
        totalPayment); 
```

# jquery - jQuery检测字符串是否包含某些内容

> ID：15245979
> 
> 赞同：20
> 
> 时间：2013-03-06T11:21:31.597
> 
> 标签：jquery

我正在尝试编写 jQuery 代码来检测实时字符串是否包含一组特定的字符，然后该字符串会提醒我。

**HTML**

```
<textarea class="type"></textarea> 
```

**我的jQuery**

```
$('.type').keyup(function() {
    var v = $('.type').val();
    if ($('.type').is(":contains('> <')")){
        console.log('contains > <');        
    }
    console.log($('.type').val());
}); 
```

例如，如果我输入以下内容

```
> <a href="http://google.com">Google</a> <a href="http://yahoo.com">Yahoo</a> 
```

我的代码应该在控制台日志中提醒我字符串中存在 > <。

* * *

## 回答 #1

> 赞同：36
> 
> 时间：2013-03-06T11:25:30.717

你可以用它`String.prototype.indexOf`来实现。尝试这样的事情：

```
$('.type').keyup(function() {
  var v = $(this).val();
  if (v.indexOf('> <') !== -1) {
    console.log('contains > <');
  }
  console.log(v);
});
```

```
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
<textarea class="type"></textarea>
```

**更新**

现代浏览器也有一个[`String.prototype.includes`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/includes)方法。

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2013-03-06T11:22:38.503

你得到 textarea 的值，使用它：

```
$('.type').keyup(function() {
    var v = $('.type').val(); // you'd better use this.value here
    if (v.indexOf('> <')!=-1) {
       console.log('contains > <');        
    }
}); 
```

* * *

## 回答 #3

> 赞同：7
> 
> 时间：2013-03-06T11:26:23.173

您可以使用 javascript 的 indexOf 函数。

```
var str1 = "ABCDEFGHIJKLMNOP";
var str2 = "DEFG";
if(str1.indexOf(str2) != -1){
   alert(str2 + " found");
} 
```

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2013-03-06T11:24:48.863

使用 jQuery 的[Contains](http://api.jquery.com/jQuery.contains/) 像这样包含

```
if ($('.type:contains("> <")').length > 0)
{
 //do stuffs to change 
} 
```

# android - 使用代码中的登录 ID 和密码的 Android Dropbox Sync Api 示例

> ID：15245983
> 
> 赞同：0
> 
> 时间：2013-03-06T11:21:37.047
> 
> 标签：android, dropbox-api

我正在创建一个应用程序，它将从 SDCard 的特定文件夹上传图片。

现在使用我要上传的保管箱功能。但我不希望我的用户获得登录屏幕。

我想要的是代码将写入一个 Dropbox ID 和密码，并且 Api 应该使用它进行处理。

我浏览了 Dropbox 开发者博客。但我在这方面有点新手。因此，我不知道它真正想让我用 oAuth 做什么。其他站点的任何示例都可以。或一些寻求的教程。

如果不可能，那么我需要重新考虑我的流程。

谢谢你

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-07T18:00:58.897

那是不可能的。用户始终必须接受他的帐户将与您的应用程序相关联。仅需要应用程序 ID 才能将帐户与正确的应用程序相关联。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-15T08:10:04.520

这是不可能的。但是，如果您的用户获得此登录页面，则没什么大不了的。您可以将链接的帐户信息保存在 perf 中。

# css - 使用指南针的多个背景渐变

> ID：15245984
> 
> 赞同：1
> 
> 时间：2013-03-06T11:21:37.837
> 
> 标签：css, sass, compass-sass

如何使用 Compass 编写多个背景渐变？文档仅显示一次编写单个渐变的示例，除了两年前安静的谷歌小组讨论外，我无法通过谷歌搜索找到任何关于它的内容！一定有办法做到这一点，因为我认为分层渐变是很常见的做法！

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-06T11:27:17.760

你应该像这样写它们：

```
div{
  @include background( linear-gradient(top left, #333, rgba(1,1,1, .3)),
                       radial-gradient(#c00, #fff 100px));
} 
```

来源：[http ://compass-style.org/reference/compass/css3/images/](http://compass-style.org/reference/compass/css3/images/)

（丑陋但有效）示例：[http ://codepen.io/nobitagit/pen/cFjkv](http://codepen.io/nobitagit/pen/cFjkv)

# c++ - c/c++ 获取添加到排序数组中的元素的索引

> ID：15245986
> 
> 赞同：-5
> 
> 时间：2013-03-06T11:21:44.957
> 
> 标签：c++, c, arrays, sorting, indexing

我需要功能（没有实现，只是基本的想法）

```
int add(int * array, , const int len, const int val); 
```

这是返回索引，其中存储了新元素（ val ）。排序算法是可选的，但我需要存储新元素的位置。

不幸的是，我不能使用 STD。元素可以有重复项。

**编辑：**

目前的情况是我将新元素添加到最后一个位置，然后我运行排序算法。所以在排序过程中索引会丢失。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T12:29:30.690

如果您的 Array 已经排序，请使用插入排序。插入排序将以较低的复杂性为您的新项目提供正确的位置。

否则，您可以对数组中的新项目使用二进制搜索来找到数组中的正确位置。之后转移所有其他元素以放置新项目。

# android - 如何在应用程序中访问 c om.android.internal.R.bool？

> ID：15245991
> 
> 赞同：12
> 
> 时间：2013-03-06T11:21:56.927
> 
> 标签：android, android-wifi

我想访问获取这个参数

`com.android.internal.R.bool.config_wifi_background_scan_support` 但它给出了`com.android.internal.R`无法解决的错误？

我正在尝试使用这种方式：`this.getResources().getSystem().getIdentifier("config_wifi_background_scan_support","id", "android")`

但我什么也没得到。

有人知道如何获取信息`com.android.internal.R.bool`吗？

* * *

## 回答 #1

> 赞同：21
> 
> 时间：2013-04-29T09:55:03.577

你几乎是对的。

```
Resources.getSystem().getIdentifier("config_wifi_background_scan_support","bool", "android"); 
```

为您提供正确的 ID。

# automated-tests - 什么样的 QA 测试与 Java MQ 相关

> ID：15245993
> 
> 赞同：-1
> 
> 时间：2013-03-06T11:22:10.447
> 
> 标签：automated-tests, activemq, mq

什么样的测试与 Java Message Queue 相关？我可以期待什么样的场景？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T11:30:11.160

关于如何测试消息队列的基本 wiki 是 [http://wiki.pentaho.com/display/EAI/Processing+Message+Queues+with+Java+Messaging+Service+(JMS)](http://wiki.pentaho.com/display/EAI/Processing+Message+Queues+with+Java+Messaging+Service+(JMS))

如果您正在尝试测试消息代理......这个 oracle 指南应该会有所帮助 [http://docs.oracle.com/cd/E19340-01/820-6767/aeqas/index.html](http://docs.oracle.com/cd/E19340-01/820-6767/aeqas/index.html)

之前的一篇文章也更多地讨论了一般的 Java MQ 测试 [Mock 或模拟消息队列 (JMS)](https://stackoverflow.com/questions/3970567/mock-or-simulate-message-queue-jms)

# html - 为什么包装元素会自动增加？

> ID：15245996
> 
> 赞同：0
> 
> 时间：2013-03-06T11:22:17.140
> 
> 标签：html, css

```
<div id="wrapper">
  <div id="top-part">
    some para here
  </div>
</div> 
```

主要的CSS：

```
#wrapper {
  position: relative;
  width: 1024px;
  margin: 0 auto;
  display: block;
} 
```

这充满了没有滚动条的窗口。
但是当在上面的包装之后添加另一个内容时，它会出现滚动条。为什么？？

```
<div id="wrapper">
  <div id="wrap">
    <p>
      <img src="images/some.gif" />
      some para here
    </p>
    <a href="#">Link here</a>
  </div>
</div> 
```

我已经插入了 3 次以上的包装内容...... Css 在这里......

```
#wrap {width: 322px; margin: 6px;} 
```

我试过`display: inline-block`了，消除margin等怎么办？我也试过 class="wrap" 。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T11:44:32.207

您遇到问题的可能性有两种。

### 1.出现垂直滚动条导致出现水平滚动条

如果您将元素定位为屏幕的确切宽度，则每当出现垂直滚动条时，这将减少可用的水平宽度，并意味着水平滚动条也会出现。您不需要指定宽度来将`display: block`元素拉伸到页面的整个宽度（使用浮动或绝对位置时除外）。取而代之的是，只需删除`width: 1024px;`，元素就会自动拉伸以填充可用空间。

### 2.横向溢出的孩子

如果通过特定的 CSS 或样式强制这样做，则包装父级中的子级将始终延伸到其父级之外。即如果你有漂浮的孩子——例如：

```
+--------------------+
| +---+ +------+ +------+
| |   | |      | |      |
| +---+ +------+ +------+
+--------------------+ 
```

如果父级的尺寸被设置为页面的整个宽度，则将出现水平滚动条，因为子级正在推动可滚动区域之外。为了防止这种情况，您可以`overflow: hidden`在包装元素上使用：

```
+--------------------+
| +---+ +------+ +---|
| |   | |      | |   |
| +---+ +------+ +---|
+--------------------+ 
```

### 更新：-关于您的评论

当屏幕/视口很小时，您似乎正在尝试找出处理显示内容的最佳方法。最好的做法不是禁用或使用滚动条，`overflow:hidden`而是创建所谓的“响应式布局”。有很多方法可以实现这样的布局，它们都取决于您的目标受众和目标设备。但是，无论您选择哪种路线，它们都遵循相同的基本原则：

1.  设计您的布局，使其折叠，首先显示最重要的内容。
2.  通过调整大小或使用多列结构来设计您的布局以进行拉伸。
3.  避免在包装器上使用固定宽度，但是您可以在子元素上这样做。
4.  学会使用`max-width`和`min-width`
5.  学习使用“渐进式增强”，这意味着您应该有一个对大多数人都适用的基本布局——但对于那些可以支持更好功能的人来说甚至更好。

创建响应式布局的最简单方法是从现成的基本模板开始。以下是一些可以帮助您入门的方法：

1.  [http://www.getskeleton.com](http://www.getskeleton.com)
2.  [http://twitter.github.com/bootstrap](http://twitter.github.com/bootstrap)
3.  [http://www.responsivegridsystem.com](http://www.responsivegridsystem.com)

只需使用关键字`responsive html template`或`responsive html boilerplate`.

**简单地说**

作为基本规则，最好尝试将您的设计分解为列并使用`float: left`或其他定位功能（如`display: inline-block`. 但是，一旦进入浮动状态，您就需要知道如何使用某种[清除修复](https://stackoverflow.com/questions/8554043/what-is-clearfix)或其他具有相同影响的 css 技巧来清除浮动，例如`overflow: hidden`. 一个简单的响应式布局如下：

```
<div class="row">
  <div class="col"></div>
  <div class="col"></div>
  <div class="col"></div>
</div> 
```

使用以下 CSS：

```
.row { 
  overflow: hidden;
  background: #aaa;
  padding: 10px;
}

.row .col {
  float: left;
  width: 200px;
  background: #777;
  margin: 2px;
} 
```

在宽屏幕上，此布局将显示如下：

```
+--------------------+
| +---+ +---+ +---+  |
| |   | |   | |   |  |
| +---+ +---+ +---+  |
+--------------------+ 
```

但在较小的屏幕上会显示：

```
+---------+
| +---+   |
| |   |   |
| +---+   |
| +---+   |
| |   |   |
| +---+   |
| +---+   |
| |   |   |
| +---+   |
+---------+ 
```

诀窍是对元素进行排序，以便将最重要的内容放在首位。最不重要的内容可能会落在页面底部（或者取决于您部署的 CSS/JS 技巧），您可以隐藏该内容或将其转换为出现在完全不同的位置。它可能会变得相当复杂，并且是一个不断发展的领域，这就是为什么从可以为您完成艰苦工作的基本模板开始是一个好主意的原因。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T11:46:10.617

将您的包装器 css 更改为：

```
#wrapper {
  position: relative;
  width: 100%;
  margin: 0 auto;
  display: block;
} 
```

并注意 img 标签的宽度。看看它们中的任何一个是否没有超出界限。

# symfony - Symfony 2 和记住我功能

> ID：15245997
> 
> 赞同：1
> 
> 时间：2013-03-06T11:22:17.203
> 
> 标签：symfony, cookies, symfony-2.1, fosuserbundle, remember-me

有一个其他人似乎没有的奇怪问题。我无法在 Symfony 2.1 应用程序上使用“记住我”功能。

我尝试过本地并部署在服务器上，尝试过使用和不使用 FOS 用户包，但我似乎无法让它工作。

这是 composer 的基本设置，没有任何遗漏，安全工作正常，我可以登录、注销、创建新用户等。

它可以很好地创建会话cookie（检查过），但我认为应该有第二个它没有创建的cookie？

```
# app/config/security.yml
security:
    encoders:
        FOS\UserBundle\Model\UserInterface: sha512

    role_hierarchy:
        ROLE_ADMIN:       ROLE_USER
        ROLE_SUPER_ADMIN: ROLE_ADMIN

    providers:
        fos_userbundle:
            id: fos_user.user_provider.username

    firewalls:
        dev:
            pattern:  ^/(_(profiler|wdt)|css|images|js)/
            security: false
        login_firewall:
            pattern:      ^/login$
            anonymous:    ~
        main:
            remember_me:
                key:      "%secret%"
                lifetime: 31536000 # 365 days in seconds
                path:     /
                domain:   ~ # Defaults to the current domain from $_SERVER
            pattern: ^/
            form_login:
                provider: fos_userbundle
                csrf_provider: form.csrf_provider
            logout:       true
            anonymous:    true

    access_control:
        - { path: ^/login$, role: IS_AUTHENTICATED_ANONYMOUSLY }
        - { path: ^/register, role: ROLE_ADMIN }
        - { path: ^/resetting, role: IS_AUTHENTICATED_ANONYMOUSLY }
        - { path: ^/, role: ROLE_ADMIN } 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-06T12:46:17.347

尝试从此处添加设置：

```
security:
    # ...

    form_login:
        # ...
        remember_me: true
    remember_me:
        # ...
        always_remember_me: true 
```