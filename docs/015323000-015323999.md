# StackOverflow 问答 15323000-15323999

# cordova - PhoneGap builder的替代品？

> ID：15323005
> 
> 赞同：1
> 
> 时间：2013-03-10T13:56:57.137
> 
> 标签：cordova, phonegap-build

我一直在使用 PhoneGap 的 Build 来组装我的应用程序，但最近意识到他们将压缩后的应用程序大小限制在 9.5 mb。这让我的项目搁置，直到我想出我的下一个方法，因为最终大小现在是 20+ mb。

为了节省时间 - 我怎样才能通过 PhoneGap Build 轻松快速地创建这个应用程序？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-10T16:11:21.163

您可以结帐[Telerik AppBuilder](http://www.icenium.com/)。它使用 Cordova 构建，因此您所有的 Cordova API 都可以工作，并且像 Child Browser Barcode Scanner SQLite 这样的插件也可以工作。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-07-27T05:59:39.400

这是一个古老的问题，但值得为从搜索引擎访问此页面的人添加另一个答案。

Telerik AppBuilder/Platform 确实是一个替代方案，但是：

1.  它不是免费的，事实上它相对昂贵。
2.  如果您是开发 Cordova 应用程序的初学者，您可能会发现它很有用，而且 Multiplesight 关于它的教程肯定会给您一个快速入门。
3.  当您擅长这些类型的应用程序并且您开始拥有比基本插件更高级的插件时，恐怕您将开始面临 Telerik 构建的问题，并且他们在这件事上的支持并不好。

所以我的建议是，如果你想从它开始，以一种你可以以最小的痛苦离开它的方式去做。

现在一天，在开发 Cordova 应用程序 2 年多之后，我已经停止使用英特尔 XDK。它很好，方便而且免费。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2019-06-26T20:18:00.000

我正在补充这一点，因为我最近多次被问到这个问题。在撰写本文时，Phonegap Build 似乎处于生命支持状态。他们当前的 CLI 版本是 8.1.1，比当前 CLI 晚了 9 个月。PGB 不再在他们的论坛上回答问题（尽管就在今天，我确实看到一位工作人员回答了关于升级到付费计划的问题……这很有趣，因为在此之前有 100 个问题没有答案，包括一个询问 phonegap build 是否已死。

英特尔 XDK 确实是我们这些想要良好构建但他们停止使用 Cordova 构建以追求物联网的人的首选。我会支付两倍于我支付 adobe 的费用，因为他们的支持非常出色，而 Adob​​e 是 adobe。

您仍然可以使用 cordova CLI 下载 Visual Studio。我已经尝试了两次，发现它非常糟糕......在导入时吞噬了我的一个项目（幸好我备份了它）。

您可以使用 MacInCloud.com 进行 iOS 构建和部署到应用商店。它们很昂贵，但如果这是您唯一的选择，那么我建议您在本地为 android 构建，当您完全运行时，然后使用 MacInCloud 构建 iOS 并将其部署到应用商店。

对于大多数人来说，我认为 Mac 是唯一真正的选择，因为您可以从 Mac 构建所有平台。然而，配置和运行它是一个巨大的学习曲线。

# php - 用户提交的链接 - 使用 PHP、MySQL 存储

> ID：15323007
> 
> 赞同：0
> 
> 时间：2013-03-10T13:57:02.507
> 
> 标签：php, mysql, security

在我的应用程序中，用户可以提交链接。我想在我的 MySQL 数据库中插入链接的文本内容，以便我可以进行进一步的索引和搜索。

我正在考虑在 PHP 中使用 file_get_contents 方法，然后将数据插入 MySQL。这里有哪些安全隐患？或者这个任务流程是错误的，并且有一些特殊的模块可以完成这些类型的工作？

（我已经在使用 PDO，但我之前可能没有明确表示我只想获取主要文本内容，不包括可能包含在 html 中的 css 和 javascript）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-10T14:12:08.220

正如 BenM 所说，不要重新发明 Google。但是，如果你决定了，这里有几点：

1.  file_get_contents() 是获取 URL 内容的正确方法，您可以创建其他上下文选项`stream_context_create()`来避免索引 404 或 500 链接并遵循永久重定向

2.  当你得到你的代码时，你必须解析它，取出不必要的部分并获取文本内容。[这](https://stackoverflow.com/questions/3577641/how-to-parse-and-process-html-xml-with-php)是有关该特定主题的非常有用的问题

3.  **您必须考虑传入内容的字符集**。即使您尊重声明的源字符集，您也很容易陷入困境。[这](https://stackoverflow.com/questions/910793/detect-encoding-and-make-everything-utf-8)是有关该主题的另一个信息链接

4.  最后，只有当您遵循有关使用内置转义函数和**准备好的语句进行****数据转义**的建议时，您的数据才会以安全的方式最终存储在数据库中（请参阅关于和，不要使用旧的 mysql 接口）。如果你错过了其中任何一个，你就要为混乱负责。**`PDO``Mysqli`**

 **希望这可以帮助你。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-10T13:58:55.947

您主要需要警惕 MySQL 注入黑客。要避免这些，请使用 PHP 的 PDO 扩展和准备好的语句。看看 PHP 的文档： http: [//php.net/manual/en/pdo.prepared-statements.php](http://php.net/manual/en/pdo.prepared-statements.php)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-10T14:05:18.107

无需使用**file_get_contents**方法，因为您不需要先将文本存储在文件中，然后再次检索它。

最合适的方法是直接插入数据库。（MySql）。
**PDO**在这方面是最安全的。. .

在保存到数据库之前先拆分文本以获得更好的索引**

# c# - 在 C# 中实现方法装饰器

> ID：15323009
> 
> 赞同：10
> 
> 时间：2013-03-10T13:57:22.027
> 
> 标签：c#, python, design-patterns, decorator

`python`可以实现`function decorators`扩展函数和方法的行为。

特别是我正在将设备库`python`从`C#`. 与设备的通信可能会产生错误，应使用自定义异常重新引发。

在`python`我会这样写：

```
@device_error_wrapper("Device A", "Error while setting output voltage.")   
def set_voltage(self, voltage):
    """
    Safely set the output voltage of device.
    """
    self.__handle.write(":source:voltage:level {0}".format(voltage)) 
```

此方法调用将扩展为

```
try:
    self.__handle.write(":source:voltage:level {0}".format(voltage))
except Error:
    raise DeviceError("Error while setting output voltage.", "DeviceA") 
```

使用这种模式，您可以轻松地包装和扩展方法，而无需`try-except`在每个方法中编写每个子句。

是否可以使用 实现类似的模式`C#`？

如果需要装饰器（`device_error_wrapper`）的实现，请告知。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-03-11T16:35:12.733

正如其他人指出的那样，PostSharp 之类的工具允许您在编译期间（实际上是之后）编织横切逻辑。

另一种方法是在运行时进行。一些 IoC 工具允许您定义拦截器，然后将这些拦截器添加到您的实现的代理类中。这听起来比实际复杂得多，所以我将展示一个基于 Castle DynamicProxy 的示例。

首先，您定义需要包装的类。

```
[Interceptor(typeof(SecurityInterceptor))]
public class OrderManagementService : IOrderManagementService
{
    [RequiredPermission(Permissions.CanCreateOrder)]
    public virtual Guid CreateOrder(string orderCode)
    {   
        Order order = new Order(orderCode);
        order.Save(order); // ActiveRecord-like implementation
        return order.Id;
    }
} 
```

`RequiredPermission`在这里充当装饰者。类本身装饰有`Interceptor`指定接口方法调用的处理程序的属性。这也可以放入配置中，因此对类隐藏。

拦截器实现包含装饰器逻辑

```
class SecurityInterceptor : IMethodInterceptor
{
    public object Intercept(IMethodInvocation invocation, params object[] args)
    {
        MethodInfo method = invocation.Method;
        if (method.IsDefined(typeof(RequiredPermission), true) // method has RequiredPermission attribute
            && GetRequiredPermission(method) != Context.Caller.Permission) {
            throw new SecurityException("No permission!");  
        }

        return invocation.Proceed(args);
    }

    private Permission GetRequiredPermission(MethodInfo method)
    {
         RequiredPermission attribute = (RequiredPermission)method.GetCustomAttributes(typeof(RequiredPermission), false)[0];
        return attribute.Permission;
    }
} 
```

但是也有一些缺点：

*   使用 DynamicProxy 你只能包装接口和虚拟方法。
*   您需要通过 IoC 容器而不是直接实例化对象（如果您已经使用 IoC 容器，这不是问题）

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2013-03-10T14:09:09.140

您可以使用[Aspect Oriented Programming](https://en.wikipedia.org/wiki/Aspect-oriented_programming)实现类似的目标。我过去只使用过[PostSharp](http://www.postsharp.net/)，但它不是免费用于商业用途的。

还有其他 AOP 解决方案，您当然可以使用[Mono.Cecil](http://www.mono-project.com/Cecil)实现类似的目标，但这需要更多的工作。

Reza Ahmadi 写了一篇不错的小介绍文章，名为“[使用 C# 和 PostSharp 进行面向方面编程](http://www.codeproject.com/Articles/337564/Aspect-Oriented-Programming-Using-Csharp-and-PostS)” 。它可以让您清楚地了解预期的内容及其工作原理。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-03-10T14:09:51.093

在 C# 中实现这样的装饰器没有**简单的方法 - 默认情况下，****[自定义属性](http://msdn.microsoft.com/en-us/library/aa288454%28v=vs.71%29.aspx)**只是描述性的。然而，有些项目扩展了 C# 编译器或运行时，以便您可以实际使用它。我认为最好的是**[PostSharp](http://www.postsharp.net)**。有了它，您可以定义这样的方法装饰器（通常是“方面”），并且该方法会在编译期间按照您的需要进行包装。

我也看到通过装饰器类实际包装你的类来实现这一点，但这是**很多**工作，我认为它不能以一种非常通用的方式完成。**[维基百科在装饰器模式文章](http://en.wikipedia.org/wiki/Decorator_pattern)**中显示了这一点

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-03-10T14:37:01.783

正如其他人提到的那样，您正在寻找 AOP。PostSharp 是一个很好的后编译解决方案，但[Castle DynamicProxy](http://docs.castleproject.org/Tools.DynamicProxy-Introduction.ashx)是一个运行时 AOP 解决方案。

# html - 在 WebBrowser / Windows Phone 7 中导航。错误的重定向

> ID：15323015
> 
> 赞同：0
> 
> 时间：2013-03-10T13:57:46.797
> 
> 标签：html, windows-phone-7, webbrowser-control

我有 Windows Phone 7 项目。我将新文件夹“help”和一些 html 文件（如“index.html”等）放入项目内容中。

```
help/index.html
help/index2.html 
```

我可以去我的 index.html 页面

```
Application.GetResourceStream(new Uri("help/index.html", UriKind.Relative)); 
```

但是当我在 index.html 中并单击进入目录时，我只有带有文本“index2.html”的空白站点。

```
<td class="nav-item"><a href="index2.html">Table of contents</a></td> 
```

我应该怎么做 - 更改或设置 WebBrowser（基础、源或其他属性）？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-11T10:32:38.243

Windows Phone **7**不支持对 XAP 中的文件进行相对导航或引用。

为了能够使用 HTML 文件，您需要先将它们复制到 IsolatedStorage 并在那里显示/浏览/导航它们。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-11T10:37:54.127

逐行按照示例进行操作。尝试从这个例子中创建一个 hello world。

[http://msdn.microsoft.com/en-us/library/windowsphone/develop/ff431811%28v=vs.105%29.aspx](http://msdn.microsoft.com/en-us/library/windowsphone/develop/ff431811%28v=vs.105%29.aspx)

# database - 数据库设计中的陷阱

> ID：15323024
> 
> 赞同：2
> 
> 时间：2013-03-10T13:58:33.487
> 
> 标签：database, database-design

我需要为某个地方设计一个数据库。我有以下实体：'food' -> foodId, foodName 'consumers'-> c_Id,cBreakfast,cLunch,cDinner 消费者吃了三顿。早餐、午餐和晚餐，这些字段从带有其 ID 的“食物”实体中获取食物。但最终我会落入陷阱。我不能把它分成三餐早餐、午餐和晚餐呢。什么样的设计更适合这个问题？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-10-23T15:26:01.927

下面的模式可以让你跟踪谁吃了什么，吃了哪顿饭。在我的示例中，您可以看到 Bob 早餐吃煎蛋卷，午餐吃沙拉，晚餐吃牛排。玛丽错过了早餐，午餐吃了牛排，晚餐吃了沙拉。

```
consumers
    id              unsigned int(P)
    name            varchar(30)

+----+------+
| id | name |
+----+------+
|  1 | Bob  |
|  2 | Mary |
| .. | .... |
+----+------+

consumptions
    id              unsigned int(P)
    consumer_id     unsigned int(F consumers.id)
    mealtime_id     unsigned int(F mealtimes.id)
    food_id         unsigned int(F foods.id)

+----+-------------+-------------+---------+
| id | consumer_id | mealtime_id | food_id |
+----+-------------+-------------+---------+
|  1 |           1 |           1 |       1 |
|  2 |           1 |           2 |       2 |
|  3 |           1 |           3 |       3 |
|  4 |           2 |           2 |       3 |
|  5 |           2 |           3 |       2 |
| .. | ........... | ........... | ....... |
+----+-------------+-------------+---------+

foods
    id              unsigned int(P)
    name            varchar(20)

+----+--------+
| id | name   |
+----+--------+
|  1 | Omelet |
|  2 | Salad  |
|  3 | Steak  |
| .. | ...... |
+----+--------+

mealtimes
    id              unsigned int(P)
    name            varchar(10)

+----+-----------+
| id | name      |
+----+-----------+
|  1 | Breakfast |
|  2 | Lunch     |
|  3 | Dinner    |
| .. | ......... |
+----+-----------+ 
```

# email - 为什么电子邮件会成为垃圾邮件？

> ID：15323025
> 
> 赞同：-6
> 
> 时间：2013-03-10T13:58:42.927
> 
> 标签：email, spam

我正在使用 PHP 发送电子邮件，但所有电子邮件都进入垃圾邮件文件夹。请告诉我我在哪里犯了错误。

```
<?
    $name=$_POST['name'];
    $email=$_POST['email'];
    $phone=$_POST['phone'];
    $message=$_POST['message'];
    $ToEmail = "me@example.com";
    $ToSubject = "Message from your site";
    $EmailBody = "Name: $name\n 
        Email: $email\n
        Phone: $phone\n
        Message: $message\n";
    $Message = $EmailBody;
    $headers .= "Content-type: text; charset=iso-8859-1\r\n";
    $headers .= "From:".$name." / ".$email."\r\n";
    mail($ToEmail,$ToSubject,$Message, $headers);
    header("location: thankyou.php");
?> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-10T14:03:02.387

长话短说，如果收件人的服务器将您的邮件放入垃圾邮件箱，那么您的程序运行正常，您无能为力。

**更长的故事：**如今，大多数邮件服务器都会检查电子邮件**是否**来自实际拥有与电子邮件对应的域的服务器。假设您使用 account 发送，`abc@gmail.com`收件人电子邮件的服务器会检查该邮件来自的服务器是否**是** `gmail.com`。这是通过检查[SPF 记录](http://en.wikipedia.org/wiki/Sender_Policy_Framework)来完成的。

# silverlight - Visual Studio 2012 - 调试器随机跳转

> ID：15323032
> 
> 赞同：1
> 
> 时间：2013-03-10T13:59:29.777
> 
> 标签：silverlight, debugging, visual-studio-2012

我已经有这个问题有一段时间了，我只是不能再过去了。我过去只是重新创建项目，但现在该解决方案也不再适用于我，而且我对谷歌一点也不走运。

我有一个带有 WCF 服务的 silverlight 5 网站。基本上发生的事情是我将有一段代码需要调试，例如

```
using (var connection = new SqlConnection(AccessCardConnection))
            {
               connection.Open();
               var command = connection.CreateCommand();
               command.CommandType = CommandType.StoredProcedure;
               command.CommandText = "GetAccessCardTimes";
               command.CommandTimeout = 300;
               command.Parameters.AddWithValue("@EmployeeName", fullName);
               command.Parameters.AddWithValue("@FirstDate", firstDate);
               command.Parameters.AddWithValue("@LastDate", lastDate);
               var accessCardReader = command.ExecuteReader();

               while (accessCardReader.Read())
               {
                  var time = TimeSpan.Parse(accessCardReader["TotalOnSiteTime"].ToString());
                  duration += time;
               }
               return (duration.TotalHours);
            } 
```

然而，一旦第一个断点击中它的任何人猜测它将跳转到哪一行。它不遵循任何逻辑顺序，如果我在 connection.Open() 上设置断点，例如它可能会跳回连接初始化然后再次退后并以任何喜欢的方式跳跃，向上，向下，保持在同一条线上等。跳入和跳出方法，因为它似乎不考虑它在做什么。

我在网上找到的解决方案都没有帮助：

*   [为什么我的调试器会随机跳出调试模式？](https://stackoverflow.com/questions/2468177/why-do-my-debugger-randomly-jump-out-of-debug-mode)（修复适用于 Visual Studio 2008）
*   [Visual Studio 2010 调试器跳来跳去](https://stackoverflow.com/questions/4934073/visual-studio-2010-debugger-jumps-around)（删除 /bin 和 /obj 文件以重新生成符号没有帮助）

请有人给我一个提示，说明我不能这样工作:(

感谢你的协助！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-11T06:34:11.750

听起来您有多个呼叫打到该服务。WCF 为每个请求生成新的工作线程，因此您看到的是调试器在线程之间“跳跃”。

# php - 通过选择下拉列表过滤 mysql 结果

> ID：15323035
> 
> 赞同：6
> 
> 时间：2013-03-10T13:59:45.767
> 
> 标签：php, mysql

我是StackOverflow的新成员，虽然我已经使用该网站很长时间了，但这是我第一次发布问题，希望有人能够帮助我。我将首先说我对 PHP 和 MySQL 的了解是基本的，但我认为我正在尝试做的事情并不太复杂，所以希望我不会要求太多。我已经做了很多先前的研究，但我找不到正确的答案。

简而言之，这就是我想要做的：

我有一个 html 表单，它在提交时将数据写入数据库，然后在单独的 html 页面上发布一个表。每次成功提交时，都会生成并发布一个新表，而旧表会被推到下面。这一切都很好，我还实现了分页，因此每页只有 5 个表可见。

我想做的是允许人们仅根据特定标准查看/显示结果（表格），在本例中为“评级”，方法是从表格所在页面的下拉列表中选择评级发表。评级是我的表单中的字段之一，它被提交到数据库，然后在表中的一行中发布。

下面是发布表格的代码。在此先感谢您的帮助！

```
<?php
include('dbconnect.php'); 

mysql_select_db("vtracker", $con);
$result  = mysql_query("SELECT * FROM userdata");
$age = "Age:";
$rating = "Rating:";
$country = "From:";
$name = "Name:";

        while($row = mysql_fetch_array($result))
        {

                        echo "<table id='mft_table' cellspacing='0'>";
                        echo "<tbody>";
                        echo "<tr>";
                        echo "<td class='row1'>" .$name . " " . $row['personsname'] . "</td>";
                        echo "<td rowspan='4'>";
                        echo "<div class='mft_column'>" . $row['mft'] . "</div>";
                        echo "</td>";
                        echo "</tr>";
                        echo "<tr>";
                        echo "<td class='row2'>" . $country . " " . $row['nationality'] . "</td>";
                        echo "</tr>";
                        echo "<tr>";
                        echo "<td class='row3'>" . $age . " " . $row['personsage'] . "</td>";
                        echo "</tr>";
                        echo "<tr>";
                        echo "<td class='row4'>" . $rating . " " . $row['rating'] . "</td>";
                        echo "</tr>";
                        echo "</tbody>";
                        echo "<br>";
                        echo "</table>"; 

        }
    ?> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-25T12:32:17.067

对于 true 和 false 使用都可以在您的代码中添加 thid：

```
if($_POST['rating_dropdown']!='')
{
    $temp_rating = $_POST['rating_dropdown'];
    $query=mysql_query("SELECT * FROM userdata WHERE rating = '$temp_rating'");
}
else
{
    $query=mysql_query("SELECT * FROM userdata");
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-10T14:03:11.060

不知道这是否有效，这只是一个小插曲。哈哈。它将查看评级是否为真（非空），如果为真，它将回显结果。

```
while($row = mysql_fetch_array($result))
{
if ($rating)
                echo "<table id='mft_table' cellspacing='0'>";
                echo "<tbody>";
                echo "<tr>";
                echo "<td class='row1'>" .$name . " " . $row['personsname'] . "</td>";
                echo "<td rowspan='4'>";
                echo "<div class='mft_column'>" . $row['mft'] . "</div>";
                echo "</td>";
                echo "</tr>";
                echo "<tr>";
                echo "<td class='row2'>" . $country . " " . $row['nationality'] . "</td>";
                echo "</tr>";
                echo "<tr>";
                echo "<td class='row3'>" . $age . " " . $row['personsage'] . "</td>";
                echo "</tr>";
                echo "<tr>";
                echo "<td class='row4'>" . $rating . " " . $row['rating'] . "</td>";
                echo "</tr>";
                echo "</tbody>";
                echo "<br>";
                echo "</table>"; 
}

} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-10T14:03:42.147

选择下拉列表并将其发布到您的显示页面后，请使用以下代码：

```
$temp_rating = $_POST['rating_dropdown'];
mysql_query("SELECT * FROM userdata WHERE rating = '$temp_rating'"); 
```

但是请记住，您应该使用 PDO 或 mysqli 扩展，而不是 mysql 扩展。根据 PHP 的网站：

> 此扩展自 PHP 5.5.0 起已弃用，并将在未来删除。相反，应该使用 MySQLi 或 PDO_MySQL 扩展。另请参阅 MySQL：选择 API 指南和相关的常见问题解答以获取更多信息。

# android - 如何设置 ListView 的高度

> ID：15323036
> 
> 赞同：0
> 
> 时间：2013-03-10T13:59:46.553
> 
> 标签：android, listview, listadapter, baseadapter

我想知道如何`ListView`通过计算项目视图来设置高度，有人这样说。

```
ListAdapter listAdapter = listView.getAdapter();

if (listAdapter == null) {
    return;
}

int totalHeight = 0;

for (int i = 0; i < listAdapter.getCount(); i++) {
    View listItem = listAdapter.getView(i, null, listView);
    listItem.measure(0, 0);
    totalHeight += listItem.getMeasuredHeight();
} 
```

`ListView`但是，如果我将基于 的类放入`BaseAdapter`呢？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-10T15:42:45.323

BaseAdapter 仅实现 ListAdapter 适配器接口，因此您的代码没有理由不能与 BaseAdapter 一起使用。你可以试试这个：

```
BaseAdapter listAdapter = (BaseAdapter)listView.getAdapter();

if (listAdapter == null) {
    return;
}

int totalHeight = 0;

for (int i = 0; i < listAdapter.getCount(); i++) {
    View listItem = listAdapter.getView(i, null, listView);
    listItem.measure(0, 0);
    totalHeight += listItem.getMeasuredHeight();
} 
```

# ruby-on-rails - 通过关联更新 has_many 中的连接模型，使用其他两个模型

> ID：15323039
> 
> 赞同：3
> 
> 时间：2013-03-10T13:59:52.053
> 
> 标签：ruby-on-rails

我在这里阅读了许多其他主题（[1](https://stackoverflow.com/questions/2182428/rails-nested-form-with-has-many-through-how-to-edit-attributes-of-join-model)、[2](https://stackoverflow.com/questions/11087201/nested-form-and-has-many-through)、[3](https://stackoverflow.com/questions/11087201/nested-form-and-has-many-through) ...），但没有一个能真正解决我的问题。

这是我的**3个**模型。

```
User
  has_many :memberships
  has_many :accounts, :through => :memberships
  accepts_nested_attributes_for :memberships
end

Account
  has_many :memberships
  has_many :users, :through => :memberships
  accepts_nested_attributes_for :memberships
end

Membership
  attr_accessible :account_id, :url, :user_id
  belongs_to :account
  belongs_to :user
end 
```

如您所见，我的加入模型**Membership**有一个附加属性：`:url`.

在我的**Accounts**表中，我存储了在线服务的名称，例如 GitHub、Stack Overflow、Twitter、Facebook、LinkedIn。我总共有**9**个。这是一个固定数量的帐户，我不会经常更新。

在我的**用户**表单中，我想创建这个：

![用户嵌套表单](../Images/5bd02d222b36d11c41c491612ea5246c.png)

在这些字段中输入的值应仅在**成员资格**表中提交，使用 3 个值：

*   `url`（在文本字段中输入的值）
*   `user_id`（当前用户表单的id）
*   `account_id`（相关帐户的 id，例如 LinkedIn 是 '5'）

我已经尝试了 3 个选项。它们都起作用，但只是部分起作用。

# 选项1

```
<% for account in @accounts %>
  <%= f.fields_for :memberships do |m| %>
    <div class="field">
      <%= m.label account.name %><br>
      <%= m.text_field :url %>
    </div>
  <% end %>
<% end %> 
```

我想要**9 个**文本字段，每个帐户一个。所以我遍历我的帐户，并创建一个与我的会员模型相关的 url 字段。

**它第一次**正确显示我的字段，但下一次它将显示**81 个**字段：

![循环问题](../Images/d45e399067d7cfa8f61601f08677003a.png)

# 选项 #2

```
<% @accounts.each do |account| %>
  <p>
    <%= label_tag(account.name) %><br>
    <%= text_field_tag("user[memberships_attributes][][url]") %>
    <%= hidden_field_tag("user[memberships_attributes][][account_id]", account.id) %>
    <%= hidden_field_tag("user[memberships_attributes][][user_id]", @user.id) %>
  </p>
<% end %> 
```

我正在尝试在 Memberships 表的每一列中**手动输入 3 个值。**

它有效，但是：

*   同时显示帐户和用户 ID 似乎不是很安全（不是吗？）
*   每次我编辑我的用户时它都会重置字段
*   它将复制每个提交的值

# 选项＃3（最好的一个）

```
<%= f.fields_for :memberships do |m| %>
  <div class="field">
    <%= m.label m.object.account.name %><br>
    <%= m.text_field :url %>
  </div>
<% end %> 
```

我正在我的**用户**表单中为我的**会员**模型创建一个嵌套表单。

它*几乎*完美地工作：

*   正好 9 个字段，每个帐户一个
*   没有重复

**但是**，它只有在我的 Memberships 表已经被填充时才有效！（例如使用选项#2）。

所以我尝试使用 UsersController 构建一些实例：

```
if (@user.memberships.empty?)
  @user.memberships.build
end 
```

但是我的 m.label m.object.account.name 行仍然出现此错误。

```
undefined method `name' for nil:NilClass 
```

无论如何，我可能在这里通过模型遗漏了一些关于 has_many 的内容。我已经设法创建了 has_and_belongs_to_many 关联，但在这里，我想通过第一个模型（用户）使用关于第三个模型（帐户）的信息来处理该连接模型（会员）。

我会很感激你的帮助。谢谢你。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-13T21:28:52.250

我将使用以下数据设计方法。您系统中的所有用户都应具有所有可能帐户的成员资格条目。活动配置将具有该`url`字段的值。

```
User
  has_many :memberships
  has_many :accounts, :through => :memberships
  has_many :active_accounts, :through => :memberships, 
            :source => :account, :conditions => "memberships.url IS NOT NULL"  

  accepts_nested_attributes_for :memberships
end 
```

现在

```
curent_user.active_accounts # will return the accounts with configuration
curent_user.accounts # will return all possible accounts 
```

添加一个`before_filter`以初始化用户可以拥有的所有成员资格。

```
class UsersController

  before_filter :initialize_memberships, :only => [:new, :edit]

private

  def initialize_memberships
    accounts =  if @user.accounts.present? 
      Account.where("id NOT IN (?)", @user.account_ids) 
    else
      Account.scoped
    end        
    accounts.each do |account|
      @user.memberships.build(:account_id => account.id)
    end
  end
end 
```

在这种情况下，您需要在操作之前初始化`new`成员资格，并且所有成员资格都应保存在`create`操作中（即使是没有的成员`url`）。

您的编辑操作不需要执行任何额外的数据按摩。

**笔记：**

我建议采用这种方法，因为它可以直接管理表单/数据。`Account`仅当关联的 '数量很少时才应使用它。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-13T23:37:53.993

在控制器中，获取特定用户的成员列表

```
# controller
# no need to make this an instance variable since you're using fields_for in the view
# and we're building additional memberships later
memberships = @user.memberships 
```

然后遍历每个帐户，如果用户还没有帐户的会员资格，则建立会员资格。

```
# still in the controller
Account.find_each do |account|
  unless memberships.detect { |m| m.account_id == account.id }
    @user.memberships.build account_id: account.id
  end
end 
```

那么在你看来，你什么都没有改变:)

# .net - .net 中的 SOAP 请求

> ID：15323040
> 
> 赞同：1
> 
> 时间：2013-03-10T13:59:59.550
> 
> 标签：.net, wcf, web-services, soap

我正在尝试生成一个肥皂请求，但无法弄清楚我做错了什么......

以下是有关请求外观的文档： [http ://wiki.affiliatewindow.com/index.php/Affiliate_Service_API_v4](http://wiki.affiliatewindow.com/index.php/Affiliate_Service_API_v4)

这就是我所做的：

```
 StringBuilder reqBuilder = new StringBuilder(1000);
        reqBuilder.Append("<soapenv:Envelope xmlns:soapenv=\"http://schemas.xmlsoap.org/soap/envelope/\" xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\" xmlns:ns1=\"http://api.affiliatewindow.com/\">");
        reqBuilder.Append("<soapenv:Header>");
        reqBuilder.Append("<ns1:UserAuthentication soapenv:mustUnderstand=\"1\" soapenv:actor=\"http://api.affiliatewindow.com\">");
        reqBuilder.Append("<ns1:iId>***********</ns1:iId>");
        reqBuilder.Append("<ns1:sPassword>**************</ns1:sPassword>");
        reqBuilder.Append("<ns1:sType>affiliate</ns1:sType>");
        reqBuilder.Append("</ns1:UserAuthentication>");
        reqBuilder.Append("</soapenv:Header>");
        reqBuilder.Append("<soapenv:Body>");
        reqBuilder.Append("<ns1:getTransactionList>");
        reqBuilder.Append("<ns1:dStartDate>" + dateTimePickerFrom.Value.ToString("yyyy-MM-dd")+ "</ns1:dStartDate>");
        reqBuilder.Append("<ns1:dEndDate>" + dateTimePickerTo.Value.ToString("yyyy-MM-dd") + "</ns1:dEndDate>");
        reqBuilder.Append("<ns1:sDateType>transaction</ns1:sDateType>");
        reqBuilder.Append("</ns1:getTransactionList>");
        reqBuilder.Append("</soapenv:Body>");
        reqBuilder.Append("</soapenv:Envelope>");

        string strSoapMessage = reqBuilder.ToString();
        HttpWebRequest req = (HttpWebRequest)WebRequest.Create(new Uri(@"http://api.affiliatewindow.com/v4/AffiliateService?wsdl"));
        req.ContentType = "text/xml; charset=utf-8";
        req.Method = "POST";
        req.Accept = "text/xml";
        req.Headers.Add("SOAPAction", "getTransactionList");

        byte[] reqBytes = System.Text.Encoding.UTF8.GetBytes(strSoapMessage);
        req.ContentLength = reqBytes.Length;

        Stream reqStream = req.GetRequestStream();
        reqStream.Write(reqBytes, 0, reqBytes.Length); reqStream.Close();

        HttpWebResponse response = req.GetResponse() as HttpWebResponse;
        Stream responsedata = response.GetResponseStream();
        StreamReader responsereader = new StreamReader(responsedata);
        string response1 = responsereader.ReadToEnd();

        string saveFileName = "test.xml";
        XmlDocument xmlFile = new XmlDocument();
        xmlFile.LoadXml(response1);
        xmlFile.Save(saveFileName); 
```

我的回复是 wsdl 服务的内容（[http://api.affiliatewindow.com/v4/AffiliateService?wsdl](http://api.affiliatewindow.com/v4/AffiliateService?wsdl)）

任何帮助都将受到欢迎

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-10T14:23:22.340

呃……你的第一个错误是实际上去你做的方向。

因为你有 WDSL。最简单的方法是打开 .net WSDL 工具。

[在 Visual Studio 中从 WSDL 文件创建 Web 服务代理。](https://stackoverflow.com/questions/4304281/create-web-service-proxy-in-visual-studio-from-a-wsdl-file)

或者

[如何：添加对 Web 服务的引用](http://msdn.microsoft.com/en-us/library/bb628649.aspx)

一旦你有了它，你应该能够通过代理轻松地生成和发送请求。

# c# - 如何确定该记录是否已被用户看到

> ID：15323042
> 
> 赞同：0
> 
> 时间：2013-03-10T14:00:13.723
> 
> 标签：c#, asp.net-mvc-4

在我的网站上，我希望突出显示登录用户尚未打开的新闻。我只是不知道如何在不将数据存储到 db 的情况下进行此操作（这是一个非常糟糕的选择）。您能否分享一些有关如何在现代论坛等上解决此问题的信息……或者您对如何使其成为最佳方式的建议。谢谢你的建议！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-10T16:48:21.957

**选项 1：数据库表**

您说您不想这样做，但实际上，这可能是最明智的选择。您可以在用户阅读文章时只存储记录，以减少记录数量（假设不是每个用户都阅读每篇文章）。如果您只需要存储`ArticleID`/`UserID`对，即使有数百万行，此表也不会占用数据库中的太多空间。

**选项 2：客户端存储**

每次用户阅读一篇文章时，将其记录存储在他们的 Web 客户端中。有很多方法可以做到这一点，但我建议你查看[persistence.js](http://persistencejs.org/)。这种方法有一些缺点。它不会从一台机器转移到另一台机器，因此用户在手机上阅读的文章在他们的 PC 上看到它们时似乎是新的。此外，您将无法从服务器访问此信息以查看哪些文章最受欢迎。

# python - 在带有 Skulpt 的浏览器中使用 Matplotlib 输出客户端

> ID：15323043
> 
> 赞同：4
> 
> 时间：2013-03-10T14:00:15.807
> 
> 标签：python, html, matplotlib, codeskulptor, skulpt

我正在编写一个 Python 应用程序以在浏览器中的客户端运行。Skulpt 项目看起来很棒，我很高兴开始使用它。

然而，我可以预见的一个问题是我需要使用 Matplotlib 进行图形输出。Skulpt 是否支持 Matplotlib？如果没有，我还有什么其他选择？

# php - 在执行 php 脚本时将 php 代码回显到 html 文件

> ID：15323046
> 
> 赞同：0
> 
> 时间：2013-03-10T14:00:28.067
> 
> 标签：php, printing, echo

我正在编写一个 php 脚本，我希望该脚本执行，然后执行的结果将保存到另一个文件，然后它将重定向到该保存文件。

现在我的问题是我正在执行的脚本有一些我需要保存的php代码，因为它在保存的文件中

```
<?php
function ago($time)
{
   $periods = array("second", "minute", "hour", "day", "week", "month", "year", "decade");
   $lengths = array("60","60","24","7","4.35","12","10");

   $now = time();

       $difference     = $now - $time;
       $tense         = "ago";

   for($j = 0; $difference >= $lengths[$j] && $j < count($lengths)-1; $j++) {
       $difference /= $lengths[$j];
   }

   $difference = round($difference);

   if($difference != 1) {
       $periods[$j].= "s";
   }

   return "$difference $periods[$j] 'ago' ";
}
?> 
```

我试图从执行脚本中回显这些行，以便可以保存上述行。我正在这样做。

```
 <?php 
            function rowFromVar($last_modified) {
              $result  = " <?php   $$last_modified = filemtime(__FILE__);

                function ago($time)
                    {
                       $periods = array("second", "minute", "hour", "day", "week", "month", "year", "decade");
                       $lengths = array("60","60","24","7","4.35","12","10");

                       $now = time();

                           $difference     = $now - $time;
                           $tense         = "ago";

                       for($j = 0; $difference >= $lengths[$j] && $j < count($lengths)-1; $j++) {
                           $difference /= $lengths[$j];
                       }

                       $difference = round($difference);

                       if($difference != 1) {
                           $periods[$j].= "s";
                       }

                       return "$difference $periods[$j] 'ago' ";
                    }
                    $last=ago($last_modified);";

     return $result;

    }
    print rowFromVar("last_modified"); 
```

但我有一些错误，比如

```
 ( ! ) Parse error: syntax error, unexpected T_STRING in C:\wamp\www\SEO stat[Repica OF     server]\Tools\domain_lookup1.php on line 109 
```

任何帮助，将不胜感激 。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-10T14:06:59.820

```
<?php 
        function rowFromVar($last_modified) {
          $result  = <<<XXX_DELIMETER_XXX
<?php   \$last_modified = filemtime(__FILE__);

            function ago(\$time)
                {
                   \$periods = array("second", "minute", "hour", "day", "week", "month", "year", "decade");
                   \$lengths = array("60","60","24","7","4.35","12","10");

                   \$now = time();

                       \$difference     = \$now - \$time;
                       \$tense         = "ago";

                   for(\$j = 0; \$difference >= \$lengths[\$j] && \$j < count(\$lengths)-1; \$j++) {
                       \$difference /= \$lengths[\$j];
                   }

                   \$difference = round(\$difference);

                   if(\$difference != 1) {
                       \$periods[\$j].= "s";
                   }
XXX_DELIMETER_XXX;
                   return "$difference $periods[$j] 'ago' ";
                }
                $last=ago($last_modified);";

 return $result;

}
print rowFromVar("last_modified"); 
```

它应该可以工作，而且你正在使用未转义的双引号..

如果有帮助，请使用 +1 按钮

# string - 如何使用字符串来表示变量

> ID：15323047
> 
> 赞同：1
> 
> 时间：2013-03-10T14:00:36.507
> 
> 标签：string, actionscript-3, variables

我有一个`e`具有这样的属性的对象`e.property1, e.property2, e.property3 ...`

现在我想使用 for 循环来跟踪所有属性。我怎样才能做到这一点？

我正在寻找这样的东西 -

```
for(var i:int =0; i<10; i++)
{
    trace(e.property+i); //how do I get the property no. i
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-10T14:38:15.533

```
for (var i:* in e) trace(i+" :: "+e[i]);
// if they have to be strings just use ...+e[i].toString(); 
```

痕迹

```
property1 :: test
property2 :: 23.3
property3 :: 29 
```

在这里使用虚构的值

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-10T14:09:59.760

```
for (var s:String in this) trace(this[s]); 
```

# xml - 如何限制 XSL 中的有效位数？

> ID：15323048
> 
> 赞同：-2
> 
> 时间：2013-03-10T14:00:41.827
> 
> 标签：xml, xslt, format, limit

我需要将字段的值设置为“12345678”（8 位数字）或“12345678.1234”（8 位有效数字和小数点后 4 位数字）之类的值。这些数字在用户实际输入时进行检查。这取决于用户输入的内容。但他不能超过限制

我尝试了格式数字功能，但它不起作用。PS：我的雇主不让我在这里复制粘贴代码。

任何帮助都感激不尽。谢谢，阿希克侯赛因。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-10T18:07:35.920

**这种转变**：

```
<xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform">
 <xsl:output omit-xml-declaration="yes" indent="yes"/>

 <xsl:template match="x">
  <xsl:variable name="vIntPart" select="floor(.)"/>
  <xsl:variable name="vFractPart" select=". - $vIntPart"/>

  <xsl:value-of select="concat(substring($vIntPart, 1,8),
                               '.',
                               substring($vFractPart*10000, 1,4)
                               )"/>
 </xsl:template>
</xsl:stylesheet> 
```

**应用于以下 XML 文档时：**

```
<t>
 <x>1234567890.9876543</x>
 <x>1234567890</x>
 <x>.9876543</x>
</t> 
```

**产生想要的正确结果：**

```
 12345678.9876
 12345678.0
 0.9876 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-10T14:56:18.710

所以你想截断小数点前超过 8 位或小数点后超过 4 位的任何内容？这个怎么样？

```
format-number(. mod 100000000, '#.####') 
```

# java - 亚行无法识别安卓手机

> ID：15323054
> 
> 赞同：-2
> 
> 时间：2013-03-10T14:01:07.160
> 
> 标签：java, android, eclipse, android-sdk-2.3

在我重新安装了我的 eclipse & android sdk 后，adb 将无法识别我的手机！我已经尝试重新启动服务器并多次插拔电缆。我也不认为这是驱动程序的问题。有人有想法吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-10T14:40:18.337

您是否[安装了 OEM 驱动程序](http://developer.android.com/tools/extras/oem-usb.html)？您是否在设备上打开了 USB 调试？

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-10T14:43:28.610

如果您在 Windows 上进行开发并想连接 Android 驱动的设备来测试您的应用程序，那么您需要安装适当的 USB 驱动程序。

为最新版本执行此操作。

![在此处输入图像描述](../Images/29d96fe33a404edec9c60c18e339a02d.png)

# android - 如何 fork 整个 Android 操作系统的代码？

> ID：15323055
> 
> 赞同：9
> 
> 时间：2013-03-10T14:01:10.063
> 
> 标签：android, version-control, github, open-source, git-fork

我想 fork 整个 Android 操作系统的代码，以便我可以对 Android 进行自己的修改。如果我可以将整个内容分叉到 GitHub 上的存储库，那是最好的。

关于如何在谷歌上 fork 整个 Android 操作系统的代码似乎没有太多可用的资源，也许有人可以提供更多细节？

在最坏的情况下，我是否可以将每个单独的存储库分叉到我的 GitHub 帐户下的存储库？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-03-10T15:45:12.213

在大多数情况下，您不需要分叉整个平台。您需要派生您正在更改的项目并更新清单 .xmls 以指向这些项目的服务器。

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2013-03-10T15:26:32.590

这个[http://source.android.com/source/downloading.html](http://source.android.com/source/downloading.html)是官方指南，但在 Github 上也有一个镜像 - [https://github.com/android](https://github.com/android)

* * *

## 回答 #3

> 赞同：5
> 
> 时间：2013-03-10T16:13:49.053

CyanogenMod 是一个选项，请按照您的设备说明进行操作：[http ://wiki.cyanogenmod.org/w/Build_Guides](http://wiki.cyanogenmod.org/w/Build_Guides)

# c++ - 如何从汇编代码中找出函数原型？

> ID：15323056
> 
> 赞同：6
> 
> 时间：2013-03-10T14:01:10.383
> 
> 标签：c++, visual-studio, visual-c++, assembly, reverse-engineering

我有一些汇编代码，我想找出调用函数原型，以便我可以从 c++ 代码中获取所有函数。

我真正想做的是将dll注入正在运行的进程中，并从我的dll中调用正在运行的进程的函数。现在我已经成功注入了我的 dll，但不知道如何进行“调用”。

我是新手，对汇编代码知之甚少。我的 dll 是用 Visual c++ 2012 编写的。

下面是运行过程的代码：

```
CPU Disasm
Address   Hex dump          Command                                  Comments
6013BE24  /$  53            PUSH EBX
6013BE25  |.  8B1D 10461860 MOV EBX,DWORD PTR DS:[60184610]
6013BE2B  |.  8B1B          MOV EBX,DWORD PTR DS:[EBX]
6013BE2D  |.  8B40 04       MOV EAX,DWORD PTR DS:[EAX+4]
6013BE30  |.  FFD3          CALL EBX
6013BE32  |.  5B            POP EBX
6013BE33  \.  C3            RETN 
```

你可以看到`6013BE30`它正在调用函数，函数（EBX）在`004BAFAC`

```
CPU Disasm
Address   Hex dump          Command                                  Comments
004BAFAC  /$  55            PUSH EBP                                 ; Test.004BAFAC(guessed void)
004BAFAD  |.  8BEC          MOV EBP,ESP
004BAFAF  |.  53            PUSH EBX
004BAFB0  |.  8BD8          MOV EBX,EAX
004BAFB2  |.  8B43 08       MOV EAX,DWORD PTR DS:[EBX+8]
004BAFB5  |.  E8 3EF40B00   CALL 0057A3F8                            ; [Test.0057A3F8
004BAFBA  |.  8B43 0C       MOV EAX,DWORD PTR DS:[EBX+0C]
004BAFBD  |.  E8 36F40B00   CALL 0057A3F8                            ; [Test.0057A3F8
004BAFC2  |.  8B43 14       MOV EAX,DWORD PTR DS:[EBX+14]
004BAFC5  |.  E8 2EF40B00   CALL 0057A3F8                            ; [Test.0057A3F8
004BAFCA  |.  8B43 18       MOV EAX,DWORD PTR DS:[EBX+18]
004BAFCD  |.  E8 26F40B00   CALL 0057A3F8                            ; [Test.0057A3F8
004BAFD2  |.  8B43 1C       MOV EAX,DWORD PTR DS:[EBX+1C]
004BAFD5  |.  E8 1EF40B00   CALL 0057A3F8                            ; [Test.0057A3F8
004BAFDA  |.  8B43 10       MOV EAX,DWORD PTR DS:[EBX+10]
004BAFDD  |.  E8 16F40B00   CALL 0057A3F8                            ; [Test.0057A3F8
004BAFE2  |.  8B43 20       MOV EAX,DWORD PTR DS:[EBX+20]
004BAFE5  |.  E8 0EF40B00   CALL 0057A3F8                            ; [Test.0057A3F8
004BAFEA  |.  8B43 44       MOV EAX,DWORD PTR DS:[EBX+44]
004BAFED  |.  E8 06F40B00   CALL 0057A3F8                            ; [Test.0057A3F8
004BAFF2  |.  8B43 44       MOV EAX,DWORD PTR DS:[EBX+44] 
```

那么如何`004BAFAC`从Visual C++调用函数呢？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-10T15:16:06.240

在汇编函数中，参数从堆栈中弹出，从最后一个开始。因此，要将参数传递给函数，首先将它们推入堆栈，然后调用该函数。在 MASM 中，这看起来类似于显示消息框：

```
.data 
MsgBoxCaption  db "Attention",0 
MsgBoxText     db "Hello Message Box!",0 

.code
start:
push 0
mov eax, offset MsgBoxCaption
push eax
push offset MsgBoxText
push 0
call MessageBoxA
call ExitProcess
end start 
```

虽然在 C++ 中它看起来像这样：

```
int retval = MessageBox(NULL, "Hello Message Box!", "Attention", 0); 
```

用 OllyDbg 反汇编你会得到：

```
CPU Disasm
Address   Hex dump          Command                                  Comments
011D13C0  |.  6A 00         PUSH 0                                   ; /Type = MB_OK|MB_DEFBUTTON1|MB_APPLMODAL
011D13C2  |.  68 54571D01   PUSH OFFSET 011D5754                     ; |Caption = "Attention"
011D13C7  |.  68 3C571D01   PUSH OFFSET 011D573C                     ; |Text = "Hello Message Box!"
011D13CC  |.  6A 00         PUSH 0                                   ; |hOwner = NULL
011D13CE  |.  FF15 40831D01 CALL DWORD PTR DS:[<&USER32.MessageBoxA> ; \USER32.MessageBoxA 
```

返回值存储在 eax 中。您会看到，如果数据类型大于 DWORD（4 个字节），您实际上不是在传递值，而是在传递引用。每个参数实际上只是一个 DWORD。那是因为堆栈在 32 位系统中是 32 位对齐的，因此只能保存 32 位值。寄存器的情况也是如此。在 32 位系统中，寄存器是 32 位宽的。如果你传递一个字符串，你传递的是对字符串的引用，而不是字符串，也不是可变宽度的字符/字节数组。在 Integer 的情况下，它很可能作为值而不是引用传递。当在 MASM 中对函数进行原型设计时，将所有参数作为 DWORD 原型将起作用（在 C++ 中除外）。

因此，在您上面的示例中，*似乎*有一个参数被传递到堆栈中（推送 ebx）。我说*好像是*因为它很可能只是将 ebx 推送到存储它以供以后检索（即在调用 ebx 再次弹出之后 - 可能需要保留存储在 ebx 中的值）。您只能确定何时实际运行实时调试会话并观察堆栈/寄存器。跳过调用并在前后检查**堆栈指针**（esp），看看有多少参数传递给函数（同样：1 个参数 = 1 个 DWORD = 4 个字节）。

要在 C++ 中对函数进行原型设计，您需要确定参数是什么数据类型，可能通过单步执行汇编代码并检查寄存器和/或堆栈，同时遍历相关函数周围的代码。eax 中的返回值也是如此。所以 eax 永远不会保存字符串，而可能是对字符串的引用，但它可能保存 32 位或更小的整数。您还必须通过反转周围的代码来找出 eax 指向的数据类型。

*编辑：实际上我写的东西有一半是错误的，最值得注意的是参数总是引用，所以请重新阅读我写的内容。很抱歉给您带来不便 - 不应该回答累了的问题 :)*

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-10T17:14:49.160

没有更多细节，真的很难说出发生了什么。由于代码异常，我怀疑该应用程序已被混淆。IDA 可能会让你的运气更好。

简短的回答是，所有函数似乎都采用指向某物的指针`eax`（`0057A3F8`可能采用 4 字节整数）。很难说这些是指向什么的。您可能需要一个汇编助手来从 C++ 调用这些。

* * *

首先，您需要制定调用约定： Both`6013BE24`和`004BAFAC`似乎采用单个参数 in `eax`，根据[Wikipedia 上的此列表，](http://en.wikipedia.org/wiki/X86_calling_conventions#List_of_x86_calling_conventions)仅 Borland（fastcall）、Watcom（默认情况下）或 Embarcadero Delphi 使用该参数。您还没有说您正在逆向工程的应用程序是否是用 C++ 编写的，但即使是，我认为如果没有一点汇编，您将很难调用。

`6013BE24`出现在函数表中查找函数，例如`ebx=**(void***)0x60184610`（我忘记了指针到函数指针的样子）；我会看看这是否指向某处的重定位表。它还需要一个指向结构的指针`eax`（类似于`struct Foo { void * dummy; Bar * bar; ... }`），然后大致执行`return ebx(eax->bar)`. 我不知道它是否真的返回任何东西，但它会返回寄存器中返回的任何东西。我不知道为什么它使用`ebx`而不是不需要保留的寄存器。

`004BAFAC`设置一个堆栈帧，保留`ebx`，然后`0057A3F8`使用 in `bar`(即 eax) 中的内容进行一些调用。如果`bar`是 a `void**`，它看起来像`f(bar[2]); f(bar[3]); f(bar[5]); f(bar[6]); f(bar[7]); f(bar[4]); f(bar[8]); f(bar[17]);`然后它`bar[17]`再次加载（并且反汇编结束）。我怀疑`bar`实际上是某种结构。

`0057A3F8`似乎在`eax`.

# javascript - 关闭浏览器后cookies被删除？

> ID：15323057
> 
> 赞同：1
> 
> 时间：2013-03-10T14:01:11.870
> 
> 标签：javascript

虽然我已经编写了用于设置 cookie 到期日期的代码，但 cookie 在关闭浏览器后被删除。

```
function createCookie(name,value,days) { 
if (days) {  
var date = new Date(); 
date.setTime(date.getTime()+(days*24*60*60*1000));
        var expires = "; expires="+date.toGMTString();} 
else var expires = ""; 
document.cookie = name+"="+value+expires+"; path=/";

} 
```

我想设置30天

```
createCookie('count',count,30); 
```

# jquery - jQuery 在一个被调用的模式中

> ID：15323061
> 
> 赞同：1
> 
> 时间：2013-03-10T14:01:40.440
> 
> 标签：jquery, coldfusion, coldfusion-9

我有一个脚本，我在其中调用一个由另一个 .cfm 页面组成的模式窗口。我的问题是：当脚本调用 .cfm 时，来自父页面的 jQuery 脚本是否被 .cfm 识别？看来我从 jQuery 得到的响应为零。这是 .cfm 中的代码：

```
<head>

<script>
$(document).ready(function(){
 $(".delete-asset").click(function(){
   var delete_id = $(this).attr('id');
   $.ajax({
      type:'GET',
      url:'cfc/Assets.cfc?method=DeleteAsset&returnformat=json',
      dataType: "json",
      data: {
          argdelete_id: delete_id.val(),
        },
      success:function(data) {
        if(data) {   // DO SOMETHING
        } else { // DO SOMETHING }
      }
    }
   });
 });
});
</script>

<cfparam name="url.uid" default="">

        <cfquery name="qPics">
        SELECT aq.Thumbs, aq.photos, aq.notes, a.assetID
        FROM tblAssetAssign a 
        INNER JOIN tblAssets aq ON aq.ID = a.Asset
        WHERE a.AssetItem = <cfqueryparam cfsqltype="cf_sql_varchar" value="#URL.uID#">                
        </cfquery>

</head>

<body>
     <div class="grid_6">
        <cfoutput query="qPics">
           <div class="block-pics">
               <img src="#site.URL#images/thumbs/#thumbs#" />
               <div class="note">#notes#</div>
               <div class="block-pics-remove"><a class="delete-asset" id="#assetID#"><img src="#site.URL#/assets/images/remove.png"></a></div>
           </div>
        </cfoutput>
    </div>
</body> 
```

我正在使用 jQuery-1.9.1.js 和 ColdFusion 9

# php - 使用ajax单击按钮并使用php打印时获取文本字段的值

> ID：15323062
> 
> 赞同：0
> 
> 时间：2013-03-10T14:01:41.783
> 
> 标签：php, html, ajax

请问有人可以帮我吗？当使用 ajax 单击按钮并使用 php 打印时，如何获取文本字段的值？我一直在阅读有关 ajax 的主题，根本不理解它。我希望当我单击按钮时页面不会重新加载，以便文本字段上的值不会消失....或者除了使用 ajax 之外还有其他方法吗？？？

```
<form>
  <table>
    <tr>
      <input type = 'text' name = 'fname'>
      <button type = 'button' >Submit</button>
    </tr>
  </table>
</form> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-10T16:34:16.837

这将严格使用 php 来获取和发布输入
index.php

```
<form action="welcome.php" method="post">
Name: <input type="text" name="fname">
<input type="submit">
</form> 
```

欢迎.php：

```
Welcome  <?php echo $_POST["fname"]; ?> 
```

这将返回没有任何 javascript 的输入值。

# c# - 知道集合中的变量是否已更改

> ID：15323064
> 
> 赞同：0
> 
> 时间：2013-03-10T14:01:42.480
> 
> 标签：c#, wpf, observablecollection, inotify

我有`ObservableCollection`包含类：`MyClass`。

```
 private ObservableCollection<MyClass> _myCollection;

    public ObservableCollection<MyClass> MyCollection
    {
        get { return _myCollection; }
        set
        {
            _myCollection= value;
        }
    } 
```

我想在`C#`代码中知道集合是否发生了变化。

所以我注册了集合事件：`CollectionChanged`当我添加/删除记录时它起作用。

这里注册的：

```
 MyCollection.CollectionChanged += new System.Collections.Specialized.NotifyCollectionChangedEventHandler(MyCollection_CollectionChanged); 
```

当班级发生变化时，我希望这个事件能够工作（或注册另一个事件）。

起初我想注册`PropertyChanged`班级的活动，然后通过它运行活动`CollectionChanged`- 这似乎很复杂且没有必要。

我认为由于`binding`可以`wpf`识别类的变化和集合本身的变化，那么可以通过代码来做到这一点。

我错了吗？（更准确的问题是：有谁知道解决这个问题的方法吗？）

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-10T15:33:00.080

正如 Nik 已经说过的，PropertyChanged 事件是正确的方法。但我认为您不应该手动调用 CollectionChanged 事件或以这种方式“强制”它。您应该在事件中重构您的代码，如下所示：

```
public class MyClass : INotifyPropertyChanged
{
    public event PropertyChangedEventHandler PropertyChanged;

    private string _name;
    public string Name
    {
        get { return _name; }
        set { _name = value; OnPropertyChanged("Name"); }
    }

    private void OnPropertyChanged(string propertyName)
    {
        if (PropertyChanged != null)
            PropertyChanged(this, new PropertyChangedEventArgs(propertyName));
    }
}

public class Class1
{
    private ObservableCollection<MyClass> _myCollection = new ObservableCollection<MyClass>();
    public ObservableCollection<MyClass> MyCollection
    {
        get { return _myCollection; }
        // set { _myCollection = value; } // see Clemens' comment
    }

    public Class1()
    {
        // hook up this event at the appropriate place, does not have to be the ctor
        MyCollection.CollectionChanged += MyCollection_CollectionChanged;

        MyClass m = new MyClass() { Name = "Example" };

        MyCollection.Add(m); // calls ExecuteOnAnyChangeOfCollection
        m.Name = "ChangedValue"; // calls ExecuteOnAnyChangeOfCollection
    }

    void MyCollection_CollectionChanged(object sender, NotifyCollectionChangedEventArgs e)
    {
        if (e.NewItems != null)
        {
            foreach (MyClass item in e.NewItems)
                item.PropertyChanged += MyClass_PropertyChanged;
        }

        if (e.OldItems != null)
        {
            foreach (MyClass item in e.OldItems)
                item.PropertyChanged -= MyClass_PropertyChanged;
        }

        ExecuteOnAnyChangeOfCollection();
    }

    void MyClass_PropertyChanged(object sender, PropertyChangedEventArgs e)
    {
        ExecuteOnAnyChangeOfCollection();
    }

    private void ExecuteOnAnyChangeOfCollection()
    {
        // handling code ...
        System.Windows.MessageBox.Show("Collection has changed.");
    } 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-10T14:11:43.907

你说的对。从 MyClass 获取通知的最简单方法是订阅 PropertyChanged 事件（如果 MyClass 实现 INotifyPropertyChanged）。

然后要更新 UI，您可以删除然后添加更改的项目（这将自动上升 CollectionChanged）或手动调用带有 Reset 参数的 CollectionChanged 事件（您需要扩展 ObservableCollection 类来执行此操作，但这是一项相当容易的任务）。

# iphone - 无法在 iOS 上实现“真正的”facebook SSO

> ID：15323066
> 
> 赞同：0
> 
> 时间：2013-03-10T14:01:45.327
> 
> 标签：iphone, ios, facebook

我的目标：

*   在我的应用程序中，我希望用户能够在他们的墙上分享东西

由于 facebook 直接内置在 iOS 6 中，我想利用 iOS 设置屏幕中的登录凭据，这样没有人需要在我的应用程序中输入他们的用户名/密码。

我希望我的用户直接跳转到 facebook 上的权限对话框。

有人告诉我使用默认对象来访问这些登录凭据：

```
thzAppDelegate *delegate = (thzAppDelegate *)[[UIApplication sharedApplication] delegate];
    NSUserDefaults *defaults = [NSUserDefaults standardUserDefaults];
    if([defaults objectForKey:@"FBAccessTokenKey"]
       && [defaults objectForKey:@"FBExpirationDateKey"]){
        [delegate facebook].accessToken = [defaults objectForKey:@"FBAccessTokenKey"];
        [delegate facebook].expirationDate = [defaults objectForKey:@"FBExpirationDateKey"];
    } 
```

但这不起作用：即使我重置了我的模拟器，在 iOS 上的设置中添加了我的用户名，我仍然会在我的应用程序中看到一个登录屏幕，但我只希望获得权限。

我还在 delegate.m 中添加了推荐的行：

```
#pragma mark Facebook

- (BOOL)application:(UIApplication *)application handleOpenURL:(NSURL *)url {
    return [self.facebook handleOpenURL:url];
}

- (BOOL)application:(UIApplication *)application openURL:(NSURL *)url sourceApplication:(NSString *)sourceApplication annotation:(id)annotation {
    return [self.facebook handleOpenURL:url];
} 
```

我不想每次登录都打扰我的用户。

我做错了什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-10T16:14:41.050

我建议你看一下`Accounts.framework`-`Social.frameworks`前者让你可以通过类访问用户的社交帐户`ACAccount`，然后你可以使用它来创建`SLRequest`对象来运行你的社交请求。

如果您只是想在墙上分享内容，您也许可以完全绕过这些步骤并使用`SLComposeViewController`，它提供了一个模态视图来通过 Facebook、Twitter 或微博分享媒体。Apple 为所有这些类提供了文档和示例代码。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-10T18:36:12.087

您使用 facebook sdk 代码。你想使用这样的东西，它利用了 iOS 6 社交框架。

```
#import <Accounts/Accounts.h>
#import <Social/Social.h>

ACAccountStore *accountStore = [[[ACAccountStore alloc] init] autorelease];

 ACAccountType * facebookAccountType = [accountStore accountTypeWithAccountTypeIdentifier:ACAccountTypeIdentifierFacebook];

    NSArray * permissions = @[@"publish_stream"];

    NSMutableDictionary *dict = [[NSMutableDictionary alloc]initWithObjectsAndKeys:@"whateverYourFacebookKeyIs",ACFacebookAppIdKey,permissions,ACFacebookPermissionsKey,ACFacebookAudienceFriends,ACFacebookAudienceKey, nil];

    [accountStore requestAccessToAccountsWithType:facebookAccountType options:dict completion:^(BOOL granted, NSError *error) {
        if (granted && error == nil) {
            /**
             * Now we can ask for more permissions
             **/
            NSArray *readPermissions = @[@"read_stream"];
            [dict setObject:readPermissions forKey: ACFacebookPermissionsKey];

            [accountStore requestAccessToAccountsWithType:facebookAccountType options:dict completion:^(BOOL granted, NSError *error) {
                if(granted && error == nil) {

                } else {
                    NSLog(@"error is: %@",[error description]);
                    [self performSelectorOnMainThread:@selector(showFacebookAlert) withObject:nil waitUntilDone:NO];
                }
            }];
        } else {
            NSLog(@"error is: %@",[error description]);
            [self performSelectorOnMainThread:@selector(showFacebookAlert) withObject:nil waitUntilDone:NO];
        }
    }]; 
```

# opengl - 尝试在 3D 空间中渲染 2D 点

> ID：15323067
> 
> 赞同：1
> 
> 时间：2013-03-10T14:01:47.410
> 
> 标签：opengl, opengl-es

OpenGL遇到这种情况时会做什么：

`glVertexAttribPointer(m_shader_position, 2, ....`

但是投影矩阵是平截头体，不是正交的？

此`2`函数中的 表示这是一个二维向量。现在，如果我使用 Ortho 设置我的投影矩阵，我可以绘制这些顶点。但是，如果我只是将投影更改为平截头体，它们就不再出现，但这是什么技术原因呢？

平截头体表示 3D 视图，但管道的哪一部分阻止了 2D 顶点的出现？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-10T15:12:18.947

查看在 glVertexAttribPointer 之前绑定到 opengl 的着色器程序。您将看到您的 2D 点 [x, y] 被视为 vec4[x, y, z, w]。

*   如果你不提供 w 它将默认为 1。
*   如果您不提供 z，则默认情况下为 0。

如果您在屏幕上看不到该点，则表示它在截锥体之外。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-10T14:31:24.217

如果你像这样离开 z 坐标，它默认为 0。如果你的顶点（转换后）在平截头体之外，它们将不会被绘制。

为了解决这个问题，您可以修改顶点着色器以将 z 坐标显式设置为常量值（或由统一提供）。

或者，根据你有多少点和你的内存需求，你可以从一开始就提供一个明确的 z 值：

```
glVertexAttribPointer(m_shader_position, 3, .... 
```

# node.js - 如何在不修改源代码的情况下获得 Mocha 测试的代码覆盖率？

> ID：15323068
> 
> 赞同：2
> 
> 时间：2013-03-10T14:01:48.183
> 
> 标签：node.js, unit-testing, code-coverage, mocha.js

我有很多针对使用 Mocha 编写的 Node.js 应用程序的单元测试。现在我想为这些测试提供一些测试覆盖率数据。

我已经看到 Mocha 支持覆盖率报告，但需要使用诸如 JSCoverage 之类的库进行一些预处理。处理 JSCoverage 基本上并不难，但是为了让一切正常工作，这种情况需要您修改源代码，以便根据环境变量导出检测代码或原始代码。

这基本上是我不喜欢的步骤。

我想要的是：

*   像往常一样写我的代码。
*   像往常一样使用 Mocha 编写我的测试。
*   无需修改测试或代码即可获得我的测试的代码覆盖率。

这可能吗？如果是这样，怎么做？

任何让我能够做到这一点的图书馆的提示都会很棒:-)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-10T19:48:55.257

我遇到了同样的审美问题。虽然也有点 hack，但我正在使用以下 Makefile 片段：

```
.PHONY: coverage

coverage:
   mv lib lib-orig
   jscoverage lib-orig lib
   mocha -R html-cov > coverage.html
   mv lib lib-cov
   mv lib-orig lib 
```

最终得到一个隐藏在简单 makefile 后面的不美观的解决方案，而不是美学上令人不快的代码。至少可以继续使用 jscoverage :)

# php - php在后台做代码

> ID：15323076
> 
> 赞同：1
> 
> 时间：2013-03-10T14:02:14.953
> 
> 标签：php, multithreading, execution

我有一个我想连续执行的代码，而不是阻止网站加载。我需要每秒钟左右更新一次数据库中的记录。有人可以帮我怎么做吗？

这是代码：

```
while(true){
    $hits++;
    $db =& JFactory::getDBO();
    $query = "UPDATE u32lb_mt_links SET link_hits='".$hits."' WHERE link_id='".$firma_id."'";
    $db->setQuery( $query );
    $db->query();
    sleep(1);
} 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-10T14:07:16.003

PHP 不支持多线程。

[`pcntl_fork`](http://php.net/manual/en/function.pcntl-fork.php)如果您需要在请求进来时生成后台进程，最好的办法是研究类似的东西。

否则，请使用 cronjob 或使用`php`命令行解释器手动执行脚本。

* * *

话虽如此，我不确定您的脚本在做什么。它的目的只是每秒增加一个值而不是每个请求？

最好使用的东西（假设这个想法并不疯狂）将是一个每分钟运行的 cronjob，`while(true)`而不是只运行任务 60 次。或者，每分钟运行一次 cron 以将命中计数增加 60。

另一种选择是创建一个无限循环的批处理脚本（而不是 PHP 这样做，因此您可以轻松地杀死批处理文件）执行 PHP 命令行解释器直到完成。不过，我仍然不明白这一点。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-10T14:21:22.303

好吧，**CRON JOB**是最好的方法。但是由于某种原因，您的主机不支持添加 cron 作业，并且您不想使用[pcntl_fork](http://php.net/manual/en/function.pcntl-fork.php)，因为**Rudi Visser**说还有一个选项（实际上这是一种逻辑）。

**备选方案；**

创建一个将更新（或做任何你想做的事）记录的页面。此页面应可通过 URL 访问，例如；[http://yourwebsite.com/update_records.php](http://yourwebsite.com/update_records.php)

创建一个[cURL](http://php.net/manual/en/book.curl.php)函数，您可以将 URL 传递给它，或者甚至可以传递超时参数。超时参数应该很短。

这里的逻辑是只执行脚本而不等待返回的结果。只需执行并继续。这样您的页面将能够快速打开，并且您还可以更新您的记录。

我希望这有帮助。

PS 在与**didierc**分享想法后，我意识到我还应该注意可能的安全建议；

*   您可以添加 .htaccess 规则来决定谁可以访问该页面。
*   您可能想要生成一个密钥并将其添加到数据库并通过查询字符串发布此密钥。请确保您保护查询字符串中的值。在继续更新记录之前，您还应该检查并确认密钥（如果愿意，也可以将其称为令牌）。
*   如果您不希望每次访问者访问该页面时都执行它，那么我建议您记录上次执行它的时间（至少）。这样你可以检查它是否需要执行。

根据记录的敏感程度以及您拥有的代码类型，您可能会采取额外的安全措施。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-06-24T23:06:06.800

守护脚本并将其变成后台进程/任务：[PEAR System Daemon](http://pear.php.net/package/System_Daemon "PEAR 系统守护进程")

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-10T14:09:55.763

用你想做的任何事情制作一个 php 脚本文件，然后为它设置一个 CRON JOB。

请参考[http://www.thegeekstuff.com/2009/06/15-practical-crontab-examples/](http://www.thegeekstuff.com/2009/06/15-practical-crontab-examples/)设置 CRON JOB

我希望这可能会有所帮助。

# c++ - 使用 Win32 在 URL 中编码 unicode 字符

> ID：15323078
> 
> 赞同：1
> 
> 时间：2013-03-10T14:02:19.760
> 
> 标签：c++, winapi, url, unicode, character-encoding

我正在开发一个基于 Windows 的应用程序，我需要在其中将 unicode 字符作为 URL 的一部分传递。我读到我需要对它们进行百分比编码才能这样做。根据我的理解，windows程序使用`UCS-2`编码，所以我需要先将字符转换为`UTF-8`，然后再对它们进行百分比编码。我尝试使用`MultiByteToWideChar`with 并`UrlEscape`没有取得多大成功。谁能告诉我这样做的正确方法是什么？

# asp.net-mvc - IIS / ASP.NET MVC - 允许大文件上传

> ID：15323080
> 
> 赞同：0
> 
> 时间：2013-03-10T14:02:24.033
> 
> 标签：asp.net-mvc, iis-7

我正在尝试将我的 ASP.NET MVC Web 应用程序配置为允许上传最大 350MB 的文件。我在IIS7上。

我尝试了以下 Web.config 更改：

**在system.web**下添加以下内容

 **```
<httpRuntime maxRequestLength="2097151" requestLengthDiskThreshold="2097151" executionTimeout="270" /> 
```

我也试过这个**system.webserver**

```
 <system.webServer>
      <security>
          <requestFiltering>
              <requestLimits maxAllowedContentLength="367001600"/>
          </requestFiltering>
      </security>
  </system.webServer> 
```

对于这两种情况，我仍然在服务器日志中看到 HTTP 404 13 问题（文件太大），并且在浏览器中看到 404。

还有其他影响大文件上传的设置吗？**

# jquery - 如何在灯箱/模式中使用 jquery 图片库？

> ID：15323081
> 
> 赞同：0
> 
> 时间：2013-03-10T14:02:28.763
> 
> 标签：jquery

我想就我拥有的 jquery 灯箱/图片库寻求一些帮助。

我正在开发的网站谈论房地产，鼠标悬停时会出现一个叠加层，提供“更多信息”之旅。单击时，应该会出现一个灯箱，其中包含有关该属性的更多信息。

灯箱还应该包含附加图像的幻灯片。

鼠标悬停覆盖和灯箱工作正常，但我无法让图像滑块在灯箱内工作。我看到了滑块的所有内容，没有应该隐藏的示例图像，并且缺少所有功能。

这是我正在使用的两个插件：

[https://github.com/richardscarrott/jquery-modal](https://github.com/richardscarrott/jquery-modal)

[http://i-like-robots.github.com/jQuery-Slideshow/](http://i-like-robots.github.com/jQuery-Slideshow/)

我使用 jquery 1.8.3 作为我的基础，这两个插件都使用该基础。

这是一个小提琴：http: [//jsfiddle.net/stephanief0042/cwKKY/6/](http://jsfiddle.net/stephanief0042/cwKKY/6/)

这是我的代码：

```
<!doctype html>
<html>
<head>
<meta charset="UTF-8">
<title>Image gallery in lightbox</title>
<link rel="stylesheet" type="text/css" href="modal.css" media="all" />
<link rel="stylesheet" href="slideshow.css" />
<link rel="stylesheet" type="text/css" href="outerspaces.css">
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>
<script type="text/javascript" src="jquery.rs.modal.js"></script>
<script src="outerspaces.js" type="text/javascript"></script>
</head>
<body>
<div class="hover firstdiv">Hover here
<div class="overlay-test">overlay test</div>
<!-- First overlay-->
<div class="overlay" style="visibility:hidden">
<a href="#host-space" class="modal-toggle-1"><img src="images/request-a-tour-overlay.png" /></a>
</div>​
<div class="host-space-content" style="display: none;">
<div id="host-space" class="host-space">
<div id="host-image-gallery">
<div class="hostname">Host Name</div>
<div class="hostaddress">Host Address</div>
<!-- Image gallery space -->
<div class="slideshow" data-transition="crossfade" data-loop="true" data-skip="false">
<ul class="carousel">
<li class="slide"><img src="http://placebox.es/440/200/d97ef2/f5f5f5" alt="" width="440"                   height="200" /></li>
<li class="slide"><img src="http://placebox.es/440/200/50ac3d/f5f5f5" alt="" width="440" height="200" /></li>
<li class="slide"><img src="http://placebox.es/440/200/0a77bb/f5f5f5" alt="" width="440" height="200" /></li>
</ul>
</div>
<!-- END image gallery space -->
<div>Host short description</div>
<div>Host indstry/vibe info</div>
<div>Host Website link</div>
<!-- END host-space --></div>
<div id="host-info-area">
<div>Host Info area</div>
<!-- END host-space --></div>
<!-- END host-space-content --></div>
<!-- END CONTAINING DIV --></div>
<script src="slideshow.js"></script>
<script>
$(function()
{
// Create slideshow instances
var $s = $('.slideshow').slides(),
// Access an instance API
api = $s.eq(0).data('slides');
// Transition select
$('select[name=transition]').on('change', function()
{
api.redraw( this.value );
});
});
</script>
<script type="text/javascript">
$(document).ready(function() {
$('.modal-toggle-1').click(function (e) {
e.preventDefault();
$.modal.open($('#host-space').clone(), {
maxHeight: 600,maxWidth: 874,fitViewport: true
});
});
});
</script>
</body>
</html> 
```

我的 jquery 技能不强，除了一些小的样式更改外，我使用的是默认示例。

任何帮助将不胜感激，如果我需要为我的问题提供更多详细信息，请告诉我。

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-10T15:05:36.697

由于您没有完全使用 jscript，我建议您使用一个灯箱插件，该插件允许已经支持画廊，例如 prettyphoto [http://www.no-margin-for-errors.com/projects/prettyphoto-jquery-lightbox-clone/](http://www.no-margin-for-errors.com/projects/prettyphoto-jquery-lightbox-clone/)

示例代码有一个示例，如下所示：

```
<a href="images/fullscreen/1.jpg" rel="prettyPhoto[pp_gal]" title="You can add caption to pictures."><img src="images/thumbnails/t_1.jpg" width="60" height="60" alt="Red round shape" /></a>

<a href="images/fullscreen/2.jpg" rel="prettyPhoto[pp_gal]"><img src="images/thumbnails/t_2.jpg" width="60" height="60" alt="Nice building" /></a>

<a href="images/fullscreen/3.jpg" rel="prettyPhoto[pp_gal]"><img src="images/thumbnails/t_3.jpg" width="60" height="60" alt="Fire!" /></a>

<a href="images/fullscreen/4.jpg" rel="prettyPhoto[pp_gal]"><img src="images/thumbnails/t_4.jpg" width="60" height="60" alt="Rock climbing" /></a> 
```

使这一切工作的原因是 rel 属性。rel="prettyPhoto[pp_gal]" 是它起作用的原因，括号内的文本 [pp_gal] 是将图像分组到一个组/相册中的原因。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-11T16:58:47.090

希望这可以帮助。试试这个，让我知道它是怎么回事。只是在函数内移动了滑块代码。

[http://jsfiddle.net/Purus/qZWDZ/](http://jsfiddle.net/Purus/qZWDZ/)

```
$('.modal-toggle-1').click(function (e) {
   e.preventDefault();

   $.modal.open($('#host-space').clone(), {
      maxHeight: 600,maxWidth: 874,fitViewport: true
   });

    // Create slideshow instances
    var $s = $('.slideshow').slides(),

    // Access an instance API
    api = $s.eq(0).data('slides');

    // Transition select
    $('select[name=transition]').on('change', function()
    {
       api.redraw( this.value );
    });
}); 
```

# java - LibGDX：如何在等距平铺地图上制作动画？

> ID：15323084
> 
> 赞同：7
> 
> 时间：2013-03-10T14:02:36.423
> 
> 标签：java, animation, libgdx, isometric, tiled

我对 LibGDX 和平铺地图有一些问题。我来自 Corona SDK (Lua)，我使用过 Lime（第三方库来处理 tmx 地图），现在我切换到 LibGDX 并遵循了这个最近的功能：[`GraphicsTileMaps`](https://code.google.com/p/libgdx/wiki/GraphicsTileMaps)

`IsometricTiledMapRenderer`我能够使用作为渲染器从资产加载等距地图并`OrthographicCamera`显示地图（所有工作如 wiki 页面中所述）。我还能够以编程方式在地图图层上填充一些图块，但是当我尝试使用时，我的问题就开始了`AnimatedTiledMapTile`：

```
 map = new TmxMapLoader().load(...);

    TiledMapTileLayer layer = (TiledMapTileLayer) map.getLayers().getLayer("layer1");
    TiledMapTileSet tileset =  map.getTileSets().getTileSet("tileset1");
    TiledMapTile grassTile =  tileset.getTile(4);
    TiledMapTile rockTile =  tileset.getTile(6);

    Array<StaticTiledMapTile> playerTileArr = new Array<StaticTiledMapTile>();
    playerTileArr.add((StaticTiledMapTile)tileset.getTile(7));
    playerTileArr.add((StaticTiledMapTile)tileset.getTile(8));

    Cell grass = new Cell();
    grass.setTile(grassTile);

    Cell player = new Cell();
    player.setTile(new AnimatedTiledMapTile(0.1f, playerTileArr));

    layer.setCell(0,0, grass);  // <--- This works.
    layer.setCell(0,1, player); // <--- When I try this, it causes 
                                //      a NullPointerException.

    renderer = IsometricTiledMapRenderer(map, 1 / 30f);
    ... 
```

有人可以帮忙吗？我找到了一个`AnimatedTiledMapTile`用法示例，[`TideMapLoader`](https://github.com/libgdx/libgdx/blob/master/gdx/src/com/badlogic/gdx/maps/tiled/TideMapLoader.java)但我知道我使用的是“**平铺**地图”（而不是“**潮汐**地图”）。但是..有人可以解释我如何在特定图块上制作动画？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-09-24T15:56:15.890

通过这几次搜索我的自我。但现在让它工作。

最好的猜测是您的图块集没有 7 或 8 个图块。

我得到了以下代码来工作：

```
 TiledMapTileLayer layer = (TiledMapTileLayer) map.getLayers().get(0);
    TiledMapTileSet tileset = map.getTileSets().getTileSet(0);

    Array<StaticTiledMapTile> at = new Array<StaticTiledMapTile>();
    if (tileset.getTile(0) != null) at.add((StaticTiledMapTile) tileset.getTile(0));
    if (tileset.getTile(1) != null) at.add((StaticTiledMapTile) tileset.getTile(1));
    if (tileset.getTile(2) != null) at.add((StaticTiledMapTile) tileset.getTile(2));
    if (tileset.getTile(3) != null) at.add((StaticTiledMapTile) tileset.getTile(3));

    layer.getCell(2, 2).setTile(new AnimatedTiledMapTile(0.3f, at)); 
```

只有 getTile(1) 和 getTile(2) 是 != null - 我只有 2 个图块。（我的麻烦是 getTile(0) 不是第一个瓷砖.. getTile(1) 是！）

# ios - iOS上safari浏览器导航栏的高度是多少？

> ID：15323089
> 
> 赞同：-1
> 
> 时间：2013-03-10T14:03:15.567
> 
> 标签：ios, objective-c, safari, uinavigationbar

我正在创建一个 Bowser，就像 iPhone 的 safari 一样，但有些属性我不知道。我想知道图片上标出的三个高度以及页面标题的字体系列和字体大小，有人知道吗？

另一个问题是当页面向下滚动时，如何使导航栏与 web 视图一起滚动，就像在 safari 中一样？

非常感谢！

![ios safari 浏览器](../Images/cf7b2175bd7656da9a6169b1067ef469.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-10T14:49:41.570

实际值会因手机（3G、4、5 等）而异，但对于 4（可能还有 5），值如下：

条的总高度 - 120px

顶部 - 42px

中间部分 - 60px

底部 - 18px

这些数字可能看起来很奇怪，但请记住它们是专门针对 4 的，并且由于此类数据没有正式发布，它们基本上都是估计值（可以说中间部分开始高几个像素等）

希望有帮助

# hardware - 当无法避免闩锁时该怎么办？

> ID：15323091
> 
> 赞同：3
> 
> 时间：2013-03-10T14:03:18.763
> 
> 标签：hardware, verilog, fpga, xilinx

我知道闩锁在硬件和 Verilog 编码中是不受欢迎的。但是，我有时会遇到无法避免闩锁的情况。例如，在这两种情况下：

```
always @ (*)
begin
    random_next = random; //default state stays the same
    count_next_r = count_r;

        random_next = {random[28:0], feedback}; //**shift left the xor'd every posedge clock

    if (count_r == 30) //if all 30 bits are shifted into register
    begin
        count_next_r = 0;
        random_done = random; //assign the random number to output after 13 shifts
    end
    else

        count_next_r = count_r + 1; 
```

这`random_done`是一个闩锁。我看不到任何其他写这个的方式。我只希望`random_done`在 30 个班次后有数据`random`。如果我以这种方式实现它，我会收到闩锁的警告，并且它无法正常工作。

同样，在下面的代码中：

```
always @ (*)
begin
    state_next = state_reg; //default state stays the same
    count_next = count_reg;
    sel_next = sel;
    case(state_reg)
        idle:
            begin
                //DISPLAY HI HERE
                sel_next = 2'b00;
                if(start)
                begin
                    count_next = random_done; //get the random number from LFSR module
                    state_next = starting;
                end
            end
        starting:
            begin
                if(count_next == 750000000) // **750M equals a delay of 15 seconds. 8191 for simulation
                begin                           //and starting from 'rand' ensures a random delay
                    outled = 1'b1; //turn on the led 
                    state_next = time_it; //go to next state
                end

                else
                begin
                    count_next = count_reg + 1; 
                    outled = 1'b0;
                end
            end     
        time_it:
            begin
                    sel_next = 2'b01; //start the timer
                    state_next = done;                  
            end

        done:
            begin
                if(stop)
                    begin
                        sel_next = 2'b10; //stop the timer
                        outled = 1'b0;
                    end

            end

        endcase 
```

从上面的代码中，有问题的部分是这样的：

```
done:
    begin
        if(stop)
            begin
                sel_next = 2'b10; //stop the timer
                outled = 1'b0;
            end 
```

这里`outled`被检测为一个锁存器，在执行过程中我被警告了这一点。我只是想让 LED 在按下停止位时变低。

我怎样才能避免这些闩锁？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-10T14:59:46.750

为什么不分配`random_done`到寄存器。

创建一个计数器并让它从 30 开始倒数，如果它为零，则为寄存器分配`random_done`新的随机值。

```
reg [4:0] counter; 

always@(posedge clk) begin
  if(rst) begin
    counter <= 5'd30;
  end
  else begin
    if(counter == 0) begin
      counter <= 5'd30;
    else begin
      counter <= counter - 1;
    end
end

wire count_done;

assign count_done = (counter == 0);

reg [size-1:0] random_done

always@(posedge clk) begin
  ...
  if(count_done) random_done <= random;
  ...
end 
```

对我来说，这段代码看起来有点混乱，看起来不像你在描述硬件。请记住，Verilog 是一种 HDL 硬件描述语言。当强调**描述**。

将每个寄存器的逻辑拆分到其自己的始终块中。

但是，首先绘制您要执行的操作的 RTL 示意图。如果你不能画出你想要设计的 RTL 原理图，你的设计很可能不是好的硬件。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-10T14:59:51.110

您应该能够`outled`排除逻辑。像这样的东西。

```
always @(posedge clk or negedge nreset) begin
    if (!nreset) begin
        outled <= 0;
    end else if (state_reg == starting) begin
        if (count_next == 750000000) begin
            outled <= 1'b1; //turn on the led 
        end else begin
            outled <= 1'b0;
        end
    end else if ((state_reg == done) && stop) begin
            outled <= 1'b0;
    end
end 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-11T10:39:31.013

如果您使所有代码同步（对 敏感`posedge clk`），您将不会获得锁存器。而且您将更轻松地编写时序约束（在最好的情况下，您只需要一个时钟周期约束！）

# android - 安卓手机内存

> ID：15323094
> 
> 赞同：-5
> 
> 时间：2013-03-10T14:03:30.107
> 
> 标签：android

在我的安卓手机中，我在 XPERIA NEO V 手机中收到“安装内存不足且可用存储空间不足”的指示。

它说明了什么？有什么办法可以增加内存大小？拿新手机需要注意什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-10T14:06:07.470

这表明，安装所有应用程序的 /data 分区几乎已满。

尝试卸载未使用的应用程序。如果可能，还将已安装的应用程序移动到 sdcard 以释放内存以供进一步安装。

# git - 删除几个文件后 git push

> ID：15323101
> 
> 赞同：3
> 
> 时间：2013-03-10T14:04:10.433
> 
> 标签：git, github

我是 git hub 的新手。我创建了一个 repo 并将两个文件推送到它。错误地在我的仓库中创建了一个新文件 .README.md.swp。现在我已经在本地删除了两个文件 .README.md.swp 和 ramu.txt 之后如何在原始 Github 站点上更新我的存储库。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-10T14:15:48.143

试试这些步骤

```
git rm .README.md.swp
git rm ramu.txt
git commit -m "cleaning up blah blah"
git push origin master 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-10T14:05:41.673

删除文件后运行：

```
git add .
git commit -m "files delete"
git push origin master 
```

注意master应该是你的分支的名字，默认的分支名字是master

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-03-10T14:11:44.607

而不是像往常一样`git add`使用`git rm <filename>`然后提交和推送。

您可能还想添加`*.swp`到您的`.gitignore`文件中。

# runtime - 块代码的运行时间

> ID：15323104
> 
> 赞同：0
> 
> 时间：2013-03-10T14:04:54.693
> 
> 标签：runtime, complexity-theory

有人可以向我解释为什么这段代码的运行时复杂度 T(n) 为 2lgn+2。我认为应该是lgn+2。

```
public static reduce(int n){
 int result = 0;
 while (n >1){
   n = n/2;
   result = result +1;
 }
 return result;
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-10T14:26:56.303

假设每一行都需要 1 个单位的时间（不包括`n > 1`检查）。

所以`int result = 0;`, `n = n/2;`,`result = result +1;`和`return result;`每个都归类为花费 1 个单位时间。

2 来自每个`int result = 0;`执行`return result;`一次。

2 log [2] n 来自每个被执行 log `n = n/2;`2 [n]次。`result = result +1;`

**笔记：**

`n > 1`也可以分类为时间单位，得到 3 log [2] n + 2。

`n = n/2;`并且`result = result +1;`每个都可以归类为花费 2 个时间单位，导致（与上述）5 log [2] n + 2。

这都是非常主观的。

对于某些 c 和 d ，唯一的全面协议是 c log [2] n + d。

# c# - 随机化数组中的问题/按钮上的答案

> ID：15323106
> 
> 赞同：1
> 
> 时间：2013-03-10T14:04:58.947
> 
> 标签：c#, winforms, linq-to-xml

我创建了一个问答游戏，并将我的问题存储在 XML 文件中（一个用于简单、中等和困难问题的 xml 文件）并创建了一个数组：

```
 var quiz = XDocument.Load(path);
        _questions = quiz.Descendants("question")
            .Select(q => new Question()
            {
                ID = int.Parse(q.Attribute("id").Value),
                Difficulty = int.Parse(q.Attribute("difficulty").Value),
                QuestionText = q.Element("text").Value,
                Answers = q.Element("answers")
                    .Descendants()
                    .Select(a => a.Value)
                    .ToArray(),
                CorrectAnswer = q.Element("answers")
                    .Descendants()
                    .Select((a, i) => new { node = a.Name, index = i })
                    .First(a => a.node == "correctAnswer").index
            });
    } 
```

我想知道是否有随机化的方法

1.  显示的问题和
2.  哪个答案在哪个按钮上。

我问这个是因为，在这一刻，问题以完全相同的顺序显示（遍历数组并按照它们的写入顺序逐字显示它们），并且每次都在同一个按钮上正确答案。我想知道是否有一种方法可以随机化/随机播放这些不会完全破坏我的程序的方法？

编辑：我现在对随机问题部分进行了排序，只需要弄清楚如何随机化答案出现在按钮上的顺序。XML 文件示例：

```
<question id="2" difficulty="1">
<text></text>
<answers>

</answers> 
```

感谢您的任何帮助和/或回复。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-10T14:09:54.353

从 xml 读取数据时使用随机数排序：

```
 var rand = new Random();
   var quiz = XDocument.Load(path);
    _questions = quiz.Descendants("question")
        .Select(q => new Question()
        {
            ID = (int)q.Attribute("id"),
            Difficulty = (int)q.Attribute("difficulty"),
            QuestionText = (string)q.Element("text"),
            Answers = q.Element("answers")
                .Descendants()
                .Select(a => (string)a)
                .OrderBy(a => rand.Next()) // randomizing answers
                .ToArray(),
            CorrectAnswer = (string)q.Element("answers")
                .Descendants("correctAnswer")
                .First() // use value instead of index
        })
        .OrderBy(q => rand.Next()); // randomizing questions 
```

您的程序的其余部分将保持原样。

* * *

我对您的项目进行了重构。你可以在这里得到结果。你有很多重复的重复代码代码。尝试对应用程序中的任何信息进行单一表示。这将使您的项目易于维护。

关于重构的要点：

*   使用用户控件将相关控件组合在一起。我提取了与难度选择相关的`DifficultySelectionControl`控件，以及与显示问题和选择答案相关的控件`QuestionControl`。
*   更改控件的 Z 顺序的用途`BringToFront`和方法`SendToBack`
*   Use events to notify clients of user control about something happened in user control. I created `DifficultySelected` event for notifying that use selected difficulty. And `QuestionAnswered` event for notifying whether current question was answered correctly or not.
*   Use custom event arguments to pass additional data to event handlers
*   Use enums. `Difficulty.Medium` is much more readable than `2`.
*   If you have similar methods in your code, then try to extract common logic into one method. Take a look on handler of question buttons clicks, which I used instead four different handlers in your code.
*   Use descriptive names of controls instead of `label1` or `button4`.

There still places for improving. E.g. I see duplication in `DifficultySelectionControl` - all handlers look similar. Also there is duplication of button background colors. You should have single place where color is defined for different states of buttons. Also there is ugly hack for filtering by difficulty (I casted enum to int). And I'd moved answers randomizing into `QuestionControl`.

# ios - 创建一个 iOS/OS X 跨平台类

> ID：15323109
> 
> 赞同：16
> 
> 时间：2013-03-10T14:05:31.153
> 
> 标签：ios, objective-c, macos, cocoa-touch, cocoa

我阅读了很多关于为这两个系统创建跨平台库的问题。每个答案都指向静态库作为解决方案。

我不想最终得到一个静态库，我想创建一个类，其中包含适用于 iOS 的方法和适用于 OS X 的对应方法。

```
-(void)createColor:(NSColor*);
-(void)createColor:(UIColor*); 
```

我遇到的第一个问题是我找不到使用仅在特定系统中可用的类的方法。例如，我如何管理一个适用`UIColor`于 iOS 和`NSColor`OS X 的功能？

如果我为 iOS 创建一个项目，当我查看时我在标题列表中`Foundation.h`找不到。`NSColor.h`

我想使用`TARGET_OS_MAC`and`TARGET_OS_IPHONE`定义来区分这两个系统......我走对了吗？

**编辑以添加更多信息：**

目前我有 2 个目标：iOSTestApp 和 OSxTestApp。对于这些目标，我根据系统包括了所需的框架。

仅当我选择 OSXTestApp 作为活动目标时才使用`TARGET_OS_MAC`和工作。`TARGET_OS_IPHONE`当我选择 iOSAppTest 时，Xcode 返回 OS X 数据类型的错误（即`NSColor`）

这是产生这些错误的代码示例：

```
#if TARGET_OS_MAC
-(void)createColor:(NSColor*)color;    

#elif TARGET_OS_IPHONE
-(void)createColor:(UIColor*)color;

#endif 
```

虽然如果我颠倒它的定义......这里是产生这些错误的代码示例：

```
#if TARGET_OS_IPHONE
-(void)createColor:(UIColor*)color;

#elif TARGET_OS_MAC
-(void)createColor:(NSColor*)color;

#endif 
```

* * *

## 回答 #1

> 赞同：22
> 
> 时间：2013-03-10T16:03:06.163

您看到的问题源于`TARGET_OS_IPHONE`定义为`TARGET_OS_MAC`. （换句话说，`TARGET_OS_IPHONE`是 . 的更具体的情况`TARGET_OS_MAC`。或者`TARGET_OS_MAC`对于矩形和`TARGET_OS_IPHONE`正方形一样）。

因此，在为 iOS 编译时会出现以下代码错误，因为 iOS 将匹配这两个条件，但`NSColor`没有为 iOS 定义。

```
#if TARGET_OS_MAC
-(void)createColor:(NSColor*)color;    

#elif TARGET_OS_IPHONE
-(void)createColor:(UIColor*)color;

#endif 
```

以下代码对两者都适用，因为对于 iOS，它匹配第一种情况，而对于 Mac OS X，它不匹配第一种情况，但匹配第二种情况。

```
#if TARGET_OS_IPHONE
-(void)createColor:(UIColor*)color;

#elif TARGET_OS_MAC
-(void)createColor:(NSColor*)color;

#endif 
```

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2013-03-12T00:35:24.290

说到 UIColor/NSColor，我是这样处理的：

```
#if TARGET_OS_IPHONE
#define ImageClassName UIImage
#else
#define ImageClassName NSImage
#endif 
```

然后，在头文件中，如果你只是传递实例，你可以使用 eg `ImageClassName *`。

`#if`当您需要使用 UIColor/NSColor API 时，在您的代码中重复该块。

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2013-03-10T14:20:51.167

您谈论的两个定义设置为 1 或 0，具体取决于您编译的目的！（在编译时）

所以我猜你在正确的轨道上

例如

```
#if TARGET_OS_IPHONE
#import <CoreText/CoreText.h>
#elif TARGET_OS_MAC
#import <ApplicationServices/ApplicationServices.h>
#endif 
```

# r - R编程 - 如何找到特定行中两个值之间的差异

> ID：15323110
> 
> 赞同：-2
> 
> 时间：2013-03-10T14:05:32.397
> 
> 标签：r, rows, subtraction

所以正如你所看到的，我在下面有一个价格和日期列

```
 Price  Day
    2   1
    5   2
    8   3
    11  4
    14  5
    17  6
    20  7
    23  8
    26  9
    29  10
    32  11
    35  12
    38  13
    41  14
    44  15
    47  16
    50  17
    53  18
    56  19
    59  20 
```

然后我想要下面的输出

```
 Difference    Day
    12  5
    15  10
    15  15
    15  20 
```

基本上我每 5 天会有一次价格差异......它基本上只是从第一天减去第 5 天......然后从第 5 天减去第 10 天等等......我已经制作了一个代码，它将将我的数据分成 5 天的间隔......但我想要的代码可以让我减去第 5 天的价格......第 10 天的第 5 天价格......等等我发布了一个类似的问题几天前......这是链接：[如何提取某些行](https://stackoverflow.com/questions/15286287/how-to-extract-certain-rows)......所有答案都很有帮助，我之前尝试过它们，但它们似乎不起作用？任何其他建议都会很棒：D 但我并没有真正得到我想要的输出......我有长达 3000 天的数据......谢谢你

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-10T14:21:14.350

创建示例数据：

```
tmp <- structure(list(Price = c(2L, 5L, 8L, 11L, 14L, 17L, 20L, 23L, 
26L, 29L, 32L, 35L, 38L, 41L, 44L, 47L, 50L, 53L, 56L, 59L), 
    Day = 1:20), .Names = c("Price", "Day"), class = "data.frame", row.names = c(NA, 
-20L)) 
```

定义索引天数：

```
ind <- seq(5, nrow(tmp), by=5) 
```

计算索引天数的差异，与实际天数匹配：

```
data.frame(day = tmp[ind, "Day"], diff = diff(tmp[c(1, ind), "Price"])) 
```

# java - 在客户端和服务器之间发送数据的两种方式

> ID：15323113
> 
> 赞同：0
> 
> 时间：2013-03-10T14:05:46.783
> 
> 标签：java, networking, client-server

顾名思义，任何人都可以解释如何允许客户端与服务器应用程序通信（因此它们都发送和接收数据），我主要想允许使用字符串来发送和接收房屋消息服务。请注意，这是否可以尝试不包括使用 Http 网络。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-10T14:10:45.187

您可以使用普通套接字或 Java 的远程方法调用 (RMI)，它是更高级别的抽象。Oracle 有一个关于使用 RMI 编写简单的客户端/服务器应用程序的[教程。](http://docs.oracle.com/javase/tutorial/rmi/index.html)注意：由于 RMI 是专有的，因此您需要在双方（客户端和服务器）上使用 Java。[如果这是不可能的，您可以使用此处](http://docs.oracle.com/javase/tutorial/networking/sockets/index.html)描述的套接字。

# entity-framework - 如何使用 Entity Framework 一次执行多个 SQL 命令？

> ID：15323116
> 
> 赞同：0
> 
> 时间：2013-03-10T14:06:34.440
> 
> 标签：entity-framework

我有以下代码：

```
var sql = System.IO.File.ReadAllText("data_tables.sql");
context.Database.ExecuteSqlCommand(sql); 
```

我的 data_tables.sql 脚本包含如下 SQL 语句：

```
SET IDENTITY_INSERT Application ON
INSERT INTO Application(ApplicationId, Name) VALUES (1, 'xxxx');
SET IDENTITY_INSERT Application OFF
DBCC CHECKIDENT( 'Application', RESEED ) 
```

除了从文件中读取之外，还有一种方法可以将它们放入一个类中并让命令执行。我正在寻找的是一种一次性执行所有命令的方法。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2015-06-28T10:57:35.783

您可以使用查询`EntityFramework.Extended`来实现此目的`.Future`。

```
// build up queries
var q1 = db.Users
    .Where(t => t.EmailAddress == "one@test.com")
    .Future();

var q2 = db.Tasks
    .Where(t => t.Summary == "Test")
    .Future();

// this triggers the loading of all the future queries
var users = q1.ToList(); 
```

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-03-11T01:57:12.277

实体框架的存在使您可以更轻松地从数据库获取数据到 UI 并返回，以及使用 LINQ 或扩展方法查询数据。如果您的 SQL 语句列表与此有关，那么进行某种转换可能是有利的。但是，如果您只是在执行预先准备好的 SQL 语句的“干”列表，那么我认为您当前的设置没有问题。

这与您尝试做的事情有很大关系，如果没有更多信息，很难提出策略。

# php - 如果表单域不为空，则停止执行脚本

> ID：15323123
> 
> 赞同：0
> 
> 时间：2013-03-10T14:07:31.300
> 
> 标签：php

我有一个联系表格，它应该使用 php 邮件向我发送一封包含内容的电子邮件。

为了避免一些垃圾邮件程序，我在表单中有一个隐藏字段。

现在我想检查该字段是否为空，如果不是，则停止脚本发送邮件。

我将字段的内容请求到 $bot 变量中

所以我想要的是

如果 $bot 不为空，则不要继续，否则执行脚本的其余部分

请帮助初学者

问候

安德斯

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-10T14:11:08.290

使用[empty()](http://php.net/manual/en/function.empty.php)函数：

```
<?php
if (empty($bot)) {
    // send your mail here
} else {
    // redirect, the field is not empty!
}
?> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-10T14:20:08.503

你可以使用**JAVASCRIPT**。应用您想要的任何类型的检查肯定会有所帮助。

如果您只使用下一页上的 php 代码。那么这将不是一个好策略。

# php - 如何在mysql和php中的Session 2012-13、2013-14..等之间切换？

> ID：15323128
> 
> 赞同：0
> 
> 时间：2013-03-10T14:08:50.727
> 
> 标签：php, mysql

如果我选择会话 2012-2013，我想在 php 和 mysql 中创建一个打开与 2012-2013 相关的数据的页面。如果我选择会话 2013-2014，它应该选择另一个与 2013-14 相关的数据库。有可能吗？一个公司可以有很多年的数据，那么如何通过会话来选择它们呢？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-10T14:17:26.650

是的当然！
在页面上，您可以使用任何类型的 INPUT 方法（如下拉框）选择会话。

在必须打开数据库的下一页上，使用
**if-else**结构选择数据库名称，然后使用 mysql_select_db($sessionname)。

示例代码如下：

在您选择会话的第一页上。

```
 <select name="mysession">   
     <option value="ses1213" selected>Session 12-13</option>            
     <option value="ses1314" selected>Session 13-14</option>   
  </select> 
```

在下一页上写下面的 PHP 行，同时选择要打开的数据库。

```
 mysql_select_db($_POST["mysession"]); 
```

这里我假设 ses1213、ses1314 是 mysql 中数据库的名称。

# javascript - Facebook 的 JS API 在隐藏选项卡中的行为不同

> ID：15323130
> 
> 赞同：0
> 
> 时间：2013-03-10T14:09:02.417
> 
> 标签：javascript, facebook, facebook-graph-api, browser

在我的网站上，我检查当前用户是否已经喜欢它的粉丝页面。如果没有，我会显示一个粉红色箭头作为提示。

打开页面并等待加载所有内容时，这似乎可以正常工作。但是，如果我只是输入地址，按回车并立即切换到另一个浏览器选项卡，我可以稍后再回来找到粉红色箭头，即使我已经喜欢粉丝页面。

检测方法如下（调用`$(document).ready()`）：

```
function showLikeHint() {
    if (typeof FB === 'undefined') {
        setTimeout(showLikeHint, 100);
        return;
    }

    FB.api('/me/likes/339255156110755', {limit: 1}, function(r) {
        try {
            if (FB.getUserID() != "" && r.data.length == 1)
                iLikeFanpage();
            else
                iDontLikeFanpage();
        } catch (e) {
            setTimeout(showLikeHint, 200);
        }
    });
} 
```

`FB`在隐藏选项卡中运行时，api（即对象）是否可能表现不同？我不敢相信，但我不知道还有什么可能是原因......

该问题出现在[http://lolkitten.org/](http://lolkitten.org/)上，可以使用最新的 chrome 进行复制。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-31T01:21:37.757

我发现了问题。如果用户尚未通过身份验证，`r.data`将是`undefined`. 我对此的解决方案如下：

```
FB.getLoginStatus(function (loginResponse) {
    if (loginResponse.status !== 'connected') {
        iDontLikeFanpage();
        return;
    }

    FB.api('/me/likes/339255156110755', {limit: 1}, function(r) {
        try {
            var likeData = r.data;
            if (typeof likeData === 'undefined') {
                setTimeout(showLikeHint, 200);
                return;
            }

            if (FB.getUserID() != "" && likeData.length == 1)
                iLikeFanpage();
            else
                iDontLikeFanpage();
        } catch (e) {
            setTimeout(showLikeHint, 200);
        }
    });
}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-10T14:25:30.080

这与浏览器视图端口中可见哪个选项卡无关，您应该将函数`showLikeHint`放在 a`$(window).load`中，我会做什么，`$(document).ready()`在加载 HTML 文档并且 DOM 准备好`$(window).load`时调用，当完整页面完全加载时调用，包括所有框架、对象和图像，希望对您有所帮助。

# python - 使用目标约束 Maya Python Pymel 时出错

> ID：15323137
> 
> 赞同：0
> 
> 时间：2013-03-10T14:09:32.013
> 
> 标签：python, maya, pymel

我有一个 Spot Lights 字段，并试图将`pm.aimConstraint`其目标链接到定位器（称为“Light Point”）。这是我正在努力解决的部分以及它给我的错误：

```
import pymel.core as pm

aimTarget = "Light Point"

selection = pm.ls(sl = True)
for each in selection:
    pm.aimConstraint(aimTarget, each)

Error: MayaNodeError: file C:\Program Files\Autodesk\Maya2013\Python\lib\site-packages\pymel\internal\pmcmds.py line 140:  # 
```

显然选择是所有的聚光灯。

理想情况下，我想这样做而不必选择所有的灯，我认为它看起来像这样：

```
pm.aimConstraint("Light Point", "spotLight"+light) 
```

"light" 是 for 循环范围内的灯数，转换为字符串。这会得到同样的错误。

我对 python 还是很陌生，但之前使用过第一个脚本，我很困惑为什么它不能在任何东西上工作，甚至不仅仅是聚光灯。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-10T15:47:11.840

“Light Point”不是有效的对象名称。

当您在 Maya 中创建节点时，您需要捕获您在创建时给出的对象，否则无法保证它就是您认为的对象。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-05-01T15:02:33.067

我意识到这是一篇较旧的帖子，但如果其他人看到它，PyMEL 就有这个`PyNode()`功能。因此，如果您要通过那里传递“Light Point”，它将返回场景中的对象。

IE

```
from pymel.core import *

PyNode("myCube")
# Result: nt.Transform(u'myCube') # 
```

# android - 从Android中绘图路线的距离值获取纬度-经度值

> ID：15323148
> 
> 赞同：-2
> 
> 时间：2013-03-10T14:10:39.173
> 
> 标签：android

我有两个地理点

```
GeoPoint gp1; 
GeoPoint gp2; 
```

我在这两个地理点之间也有距离。截至目前，它是174公里。我需要这两个地理点之间的准确中间地理点，所以我怎样才能获得中间地理点。

以上两个 GeoPoint 是 Route Draw 的一部分，它不是笔直的，所以我需要绘制路线的中间点而不是直线

我的代码：

```
List<GeoPoint> _geopoints = decodePoly(_path);
GeoPoint gp1; 
GeoPoint gp2; 
gp2 = _geopoints.get(0);
System.out.println("gp2 "+gp2);                                           
System.out.println("_geopoints"+_geopoints.size());
System.out.println("_midgeopoint"+_geopoints.size()/2);       
mGeoPointMiddleOne=_geopoints.get(_geopoints.size()/2);

private List<GeoPoint> decodePoly(String encoded) {

        List<GeoPoint> poly = new ArrayList<GeoPoint>();
        int index = 0, len = encoded.length();
        int lat = 0, lng = 0;

        while (index < len) {
            int b, shift = 0, result = 0;
            do {
                b = encoded.charAt(index++) - 63;
                result |= (b & 0x1f) << shift;
                shift += 5;
            } while (b >= 0x20);
            int dlat = ((result & 1) != 0 ? ~(result >> 1) : (result >> 1));
            lat += dlat;

            shift = 0;
            result = 0;
            do {
                b = encoded.charAt(index++) - 63;
                result |= (b & 0x1f) << shift;
                shift += 5;
            } while (b >= 0x20);
            int dlng = ((result & 1) != 0 ? ~(result >> 1) : (result >> 1));
            lng += dlng;

            GeoPoint p = new GeoPoint((int) (((double) lat / 1E5) * 1E6),
                    (int) (((double) lng / 1E5) * 1E6));
            poly.add(p);
        }

        return poly;
    } 
```

上面的函数 decoePoly(path) 负责在两个地理点之间绘制路线，所以我得到了两点之间的路线。

我还通过调用谷歌地图API来绘制这两个地理点之间的距离，如下图

```
http://maps.googleapis.com/maps/api/directions/xml?  origin=52.31,16.71&destination=51.27,6.75&sensor=false 
```

所以我从网络服务中的标签中得到两点之间的距离

所以我的要求是如何从这条路线获得中距离值的经纬度？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-10T14:16:26.083

如果您有两个 GeoPoint，我认为距离值不是必需的。解析几何说，如果你知道两点的坐标，你就可以简单地计算出中间点。

如果您有不是直线的特定路线。

**看到这个页面：[去](https://gis.stackexchange.com/questions/26726/get-the-latlon-of-middle-points-of-a-road-segment)**

![在此处输入图像描述](../Images/f27a5256f05c068cbbdfe4cfb0b00d60.png)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-10T14:13:35.370

您正在寻找的是“坐标几何”，而您正在寻找“直线方程”。

在这里，互联网上的一个有趣的[链接。](http://www.cliffsnotes.com/study_guide/Equations-of-Lines.topicArticleId-18851,articleId-18845.html)

# logging - 使用 log4net 直接记录到不同的输出文件

> ID：15323150
> 
> 赞同：0
> 
> 时间：2013-03-10T14:10:42.127
> 
> 标签：logging, castle-windsor, log4net

我需要将我的应用程序中的某些事件记录到某个文件中。我有一个正在工作的主日志文件，但是如何将特定事件定向到某个文件。

在下面的示例中，如何将 count 属性记录到某个文件？

```
ILogger mainApplog = container.Resolve<ILogger>(); // this is working just fine to c:\log.txt
ILogger valuesLog = container.Resolve<ILogger>(); // what should I resolve to log to c:\values.txt?

mainApplog.DebugFormat("Calculating values");

var count = 0;
while (true)
{

    count++;
    valuesLog.InfoFormat(count.ToString());

    if (count > 100)
        break;
}
mainApplog.DebugFormat("Calculations completed"); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-15T12:22:49.357

如果只是关于 Log4Net，请尝试以下操作：

```
<?xml version="1.0" encoding="utf-8" ?>
<configuration>
  <configSections>
    <section name="log4net" type="log4net.Config.Log4NetConfigurationSectionHandler,log4net" />
  </configSections>
  <startup>
    <supportedRuntime version="v4.0" sku=".NETFramework,Version=v4.5" />
  </startup>

  <log4net>
    <appender name="MainAppender" type="log4net.Appender.ColoredConsoleAppender" >
      <mapping>
        <level value="ALL" />
        <foreColor value="White" />
        <backColor value="Red, HighIntensity" />
      </mapping>
      <filter type="log4net.Filter.LoggerMatchFilter">
        <LoggerToMatch value="MainApplicationLog" />
      </filter>
      <filter type="log4net.Filter.DenyAllFilter">
      </filter>
      <layout type="log4net.Layout.PatternLayout">
        <conversionPattern value="%date [%thread] %-5level %logger [%ndc] - %message%newline" />
      </layout>
    </appender>

    <appender name="ValueAppender" type="log4net.Appender.ColoredConsoleAppender" >
      <mapping>
        <level value="ALL" />
        <foreColor value="White" />
        <backColor value="Green, HighIntensity" />
      </mapping>
      <filter type="log4net.Filter.LoggerMatchFilter">
        <LoggerToMatch value="ValuesLog" />
      </filter>
      <filter type="log4net.Filter.DenyAllFilter">
      </filter>
      <layout type="log4net.Layout.PatternLayout">
        <conversionPattern value="%date [%thread] %-5level %logger [%ndc] - %message%newline" />
      </layout>
    </appender>

    <root>
      <level value="ALL" />
      <appender-ref ref="MainAppender" />
      <appender-ref ref="ValueAppender" />
    </root>
  </log4net>
</configuration> 
```

您可以使用自己的选择替换附加程序。为了完整起见，这是将进行日志记录的代码。

```
log4net.Config.XmlConfigurator.Configure();

ILog mainAppLog = LogManager.GetLogger("MainApplicationLog");
ILog valuesLog = LogManager.GetLogger("ValuesLog");

mainAppLog.Debug("Calculating values");
valuesLog.InfoFormat("{0}", 0); // do not use ToString, you will use processor time even when not logging 
```

# html - 如何查看 '\t' (tab) 登录 HTML 文档？

> ID：15323155
> 
> 赞同：7
> 
> 时间：2013-03-10T14:11:26.560
> 
> 标签：html

我知道，我可以将它插入到“pre”标签中，但是还有其他解决方案吗？

PS。

当我添加它时，它会打印为空格。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-10T14:14:33.113

使用 & emsp; （没有空格，作为 html 实体）放置一个强调的空格...类似于制表符 &t

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2013-03-10T14:18:51.790

只需使用`&emsp;`
As 相同的`tab`标志效果

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2014-11-23T00:35:01.797

1  = *1 空白字符*

1 **&ensp** = 2  （*2 个空白字符*）

1 **&emsp** = 2 &ensp（*4 个空白字符*或**TAB**）

# xcode - 安装 xcode4.6 后删除 xcode4.2

> ID：15323156
> 
> 赞同：0
> 
> 时间：2013-03-10T14:11:28.757
> 
> 标签：xcode, xcode4.2, xcode4.6

在安装 xcode 4.6 的最后一步中，它会询问您是否要删除以前版本的 xcode 4.2。不幸的是，我忘记了这样做，因为我太快点击了继续按钮。UI 提示不直观，我很快就无法回忆起所有细节。所以我有两个问题： 1\. 我怎么知道我的 Mac 中是否有以前的版本 xcode4.2？2\. 如果我的 Mac 中还有以前版本的 xcode 4.2，我该如何删除它。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-10T14:17:28.317

如果您在 /Applications 下有 n 个 xcode 文件夹，那么如果您只有一个未安装的文件夹，则存在 n 次

可能安装了一些 4.2 特定文档 ~/Library/Developer/Shared/Documentation/Docsets*可以*删除...

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-10T14:30:41.550

Xcode 4.2 安装在`/Developer`驱动器根目录的文件夹中。而是安装了 Xcode 4.3 及更高版本`/Applications`。因此，要卸载 Xcode 4.2，您只需将整个`/Developer`文件夹移至回收站即可。

就这么简单。

# django - UnboundLocalError 与我的程序

> ID：15323157
> 
> 赞同：-3
> 
> 时间：2013-03-10T14:11:29.210
> 
> 标签：django

我必须创建一个新的书签应用程序，但我找不到我的问题在哪里，请帮助我....

![在此处输入图像描述](../Images/313d6aba63cc1053df7d92d9d896d05f.png)

![在此处输入图像描述](../Images/63eb8545c548b6798b0f4bf887d96841.png)

![在此处输入图像描述](../Images/34eb1f595605a78d5cb69d333419b279.png)

![在此处输入图像描述](../Images/4a2f222fd5897e21b5dc1e5859002a0e.png)

![在此处输入图像描述](../Images/3dc8cfd3da671d31b82ed47391d00a5b.png)

![在此处输入图像描述](../Images/1982133a991bb49467af701bcf246a26.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-10T14:43:17.480

**请发布您的实际代码。**

关于您的问题，您必须将 else 语句放在请求 POST 语句之后，而不是 form.is_valid() 中。因为如果你把你的 else 语句放在 form.is_valid 语句之后，渲染将找不到变量

```
def register_page(request):
    if request.method == 'POST':
        form = RegistrationForm(request.POST)
        if form.is_valid():
            ...........
    else:
        form = RegistrationForm()
        variable = RequestContext(request, {'form':form})

    return ...... 
```

# wpf - WPF 选取框文本动画

> ID：15323163
> 
> 赞同：18
> 
> 时间：2013-03-10T14:12:08.820
> 
> 标签：wpf, animation, marquee

我可以滚动文本，`TranslateTransform`但是当动画接近完成时，我希望它重新开始。像一条蛇：）

这就是我所拥有的：

```
<StackPanel Orientation="Horizontal" Margin="0,0,0,0">
    <StackPanel.RenderTransform>
        <TranslateTransform x:Name="transferCurreny" X="-40"/>
    </StackPanel.RenderTransform>
    <StackPanel.Triggers>
        <EventTrigger RoutedEvent="StackPanel.Loaded">
            <BeginStoryboard>
                <Storyboard>
                    <DoubleAnimation From="0" To="-900" Duration="00:00:10"
                      Storyboard.TargetProperty="X"
                      Storyboard.TargetName="transferCurreny"
                      RepeatBehavior="Forever"/>
                </Storyboard>
            </BeginStoryboard>
        </EventTrigger>
    </StackPanel.Triggers>
    <TextBlock FontSize="25"  x:Name="txtKron" Margin="10,0,7,0"/>
</StackPanel> 
```

这就是我想要的：

![在此处输入图像描述](../Images/bfe862bb2339eaeeef57e9b81e2ed094.png)

* * *

## 回答 #1

> 赞同：17
> 
> 时间：2013-03-10T23:04:25.550

像这样的东西应该可以解决问题。

您可以将 a 添加`Canvas`到`StackPanel`2`TextBlocks`一个设置到位置 0 和一个设置到 的`ActualWidth`，`StackPanel`然后当第一个文本块离开屏幕时，另一个块将进入视图。

我使用的原因`Canvas`是因为`Canvas`是唯一真正支持`ClipToBounds="false"`这一点的元素允许第二个`TextBlock`可见，即使它位于自身的边界`Canvas`之外

`IValueConverter`如果要从右向左滚动，我们还需要 a来获得正确的负值。

我还添加了事件触发器，`SizeChanged`因此如果调整窗口大小，动画值将正确更新。

代码：

```
namespace WpfApplication9
{
    /// <summary>
    /// Interaction logic for MainWindow.xaml
    /// </summary>
    public partial class MainWindow : Window
    {

        public MainWindow()
        {
            InitializeComponent();
        }
    }

    public class NegatingConverter : IValueConverter
    {

        public object Convert(object value, Type targetType, object parameter, System.Globalization.CultureInfo culture)
        {
            if (value is double)
            {
                return -((double)value);
            }
            return value;
        }

        public object ConvertBack(object value, Type targetType, object parameter, System.Globalization.CultureInfo culture)
        {
            if (value is double)
            {
                return +(double)value;
            }
            return value;
        }
    }
} 
```

xml:

```
<Window x:Class="WpfApplication9.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:local="clr-namespace:WpfApplication9"
        Title="MainWindow" Height="83" Width="222" Name="UI" Tag="Tol Level">
    <StackPanel Orientation="Horizontal" x:Name="stack">
        <StackPanel.Resources>
            <local:NegatingConverter x:Key="NegatingConverter" />
            <Storyboard x:Key="slide">
                <DoubleAnimation From="0" To="{Binding Width, ElementName=canvas, Converter={StaticResource NegatingConverter}}" Duration="00:00:10"
                      Storyboard.TargetProperty="X"
                      Storyboard.TargetName="transferCurreny"
                      RepeatBehavior="Forever"/>
            </Storyboard>
        </StackPanel.Resources>
        <StackPanel.RenderTransform>
            <TranslateTransform x:Name="transferCurreny" X="0"/>
        </StackPanel.RenderTransform>
        <StackPanel.Triggers>
            <EventTrigger RoutedEvent="StackPanel.Loaded">
                <BeginStoryboard Storyboard="{StaticResource slide}" />
            </EventTrigger>
            <EventTrigger RoutedEvent="StackPanel.SizeChanged">
                <BeginStoryboard Storyboard="{StaticResource slide}" />
            </EventTrigger>
        </StackPanel.Triggers>
        <Canvas x:Name="canvas" Width="{Binding ActualWidth, ElementName=stack}">
            <TextBlock Text="StackOverflow" FontSize="25"  x:Name="txtKron" Canvas.Left="0"/>
            <TextBlock Text="{Binding Text, ElementName=txtKron}" FontSize="25" Canvas.Left="{Binding Width, ElementName=canvas}"/>
        </Canvas>
    </StackPanel>
</Window> 
```

结果：

![在此处输入图像描述](../Images/a3f10e0e36924d0e1668074d4dbeb7b6.png) ![在此处输入图像描述](../Images/20fb2f9592b595006e423368abfad0d7.png)

**编辑：**从左到右

```
 <StackPanel Orientation="Horizontal" x:Name="stack">
        <StackPanel.Resources>
            <local:NegatingConverter x:Key="NegatingConverter" />
            <Storyboard x:Key="slide">
                <DoubleAnimation From="0" To="{Binding Width, ElementName=canvas}" Duration="00:00:10"
                      Storyboard.TargetProperty="X"
                      Storyboard.TargetName="transferCurreny"
                      RepeatBehavior="Forever"/>
            </Storyboard>
        </StackPanel.Resources>
        <StackPanel.RenderTransform>
            <TranslateTransform x:Name="transferCurreny" X="0"/>
        </StackPanel.RenderTransform>
        <StackPanel.Triggers>
            <EventTrigger RoutedEvent="StackPanel.Loaded">
                <BeginStoryboard Storyboard="{StaticResource slide}" />
            </EventTrigger>
            <EventTrigger RoutedEvent="StackPanel.SizeChanged">
                <BeginStoryboard Storyboard="{StaticResource slide}" />
            </EventTrigger>
        </StackPanel.Triggers>
        <Canvas x:Name="canvas" Width="{Binding ActualWidth, ElementName=stack}">
            <TextBlock Text="StackOverflow" FontSize="25"  x:Name="txtKron" Canvas.Left="0"/>
            <TextBlock Text="{Binding Text, ElementName=txtKron}" FontSize="25" Canvas.Left="{Binding Width, ElementName=canvas, Converter={StaticResource NegatingConverter}}"/>
        </Canvas>
    </StackPanel> 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-06-13T12:31:00.430

上面答案中的代码不会产生连续滚动。这是连续平滑滚动的代码。

XAML：

```
<Window x:Class="Window1"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    Title="Window1" Height="300" Width="300">
    <Grid>
        <Canvas Margin="6,83,9,0" Name="ViewingBox" Background="YellowGreen" Height="35" VerticalAlignment="Top">
            <Label Canvas.Left="263" Canvas.Top="-2" Height="49" Name="BoxOne" FontSize="20">I need breakfast.</Label>
            <Label Canvas.Left="263" Canvas.Top="-2" Height="49" HorizontalAlignment="Stretch" Name="BoxTwo" VerticalAlignment="Top" FontSize="20">You can have oranges and egg.</Label>
        </Canvas>   
    </Grid>
</Window> 
```

VB代码背后：

```
Imports System.Windows.Media.Animation

Public Enum Texts
    BoxOne
    BoxTwo
End Enum

Class Window1
    Private dubAnim As New DoubleAnimation()
    Private dubAnim2 As New DoubleAnimation()
    Private NewsTimer As New Windows.Threading.DispatcherTimer()
    Dim leadText As Texts = Texts.BoxOne

    Private Sub Window1_Loaded(ByVal sender As Object, ByVal e As System.Windows.RoutedEventArgs) Handles Me.Loaded
        dubAnim.From = ViewingBox.ActualWidth
        dubAnim.To = -BoxOne.ActualWidth
        dubAnim.SpeedRatio = 0.05
        AddHandler dubAnim.Completed, AddressOf dubAnim_Completed
        Timeline.SetDesiredFrameRate(dubAnim, 320)
        BoxOne.BeginAnimation(Canvas.LeftProperty, dubAnim)

        dubAnim2.From = ViewingBox.ActualWidth
        dubAnim2.To = -BoxTwo.ActualWidth
        dubAnim2.SpeedRatio = 0.05
        Timeline.SetDesiredFrameRate(dubAnim2, 320)
        AddHandler dubAnim2.Completed, AddressOf dubAnim2_Completed

        AddHandler NewsTimer.Tick, AddressOf NewsTimer_Tick
        NewsTimer.Interval = New TimeSpan(0, 0, 0.9)
        NewsTimer.Start()
    End Sub

    Private Sub NewsTimer_Tick(ByVal sender As Object, ByVal e As EventArgs)
        Dim BoxOneLocation As Point = BoxOne.TranslatePoint(New Point(0, 0), ViewingBox)
        Dim BoxTwoLocation As Point = BoxTwo.TranslatePoint(New Point(0, 0), ViewingBox)

        If leadText = Texts.BoxOne Then
            Dim loc As Double = BoxOneLocation.X + BoxOne.ActualWidth
            If loc < ViewingBox.ActualWidth / 1.5 Then
                BoxTwo.BeginAnimation(Canvas.LeftProperty, dubAnim2)
                NewsTimer.Stop()
            End If
        Else
            Dim loc As Double = BoxTwoLocation.X + BoxTwo.ActualWidth
            If loc < ViewingBox.ActualWidth / 1.5 Then
                BoxOne.BeginAnimation(Canvas.LeftProperty, dubAnim)
                NewsTimer.Stop()
            End If
        End If
    End Sub

    Private Sub dubAnim_Completed(ByVal sender As Object, ByVal e As EventArgs)
        leadText = Texts.BoxTwo
        NewsTimer.Start()
    End Sub

    Private Sub dubAnim2_Completed(ByVal sender As Object, ByVal e As EventArgs)
        leadText = Texts.BoxOne
        NewsTimer.Start()
    End Sub
End Class 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2018-07-05T23:25:20.470

扩展 sa_ddam213 的[答案](https://stackoverflow.com/a/15328839/7311767)，这是对第一个动画（从右到左）的修改。这适用于长字符串。:)

```
<StackPanel Orientation="Horizontal"
                    x:Name="stack" 
                    Grid.Column="0"
                    Margin="0"                        >

            <StackPanel.Resources>
                <local1:NegatingConverter x:Key="NegatingConverter" />
                <Storyboard x:Key="slide">
                    <DoubleAnimation From="{Binding ActualWidth, ElementName=stack}" 
                                     To="{Binding ActualWidth, ElementName=txtKron, Converter={StaticResource NegatingConverter}}" 
                                     Duration="00:00:30"
                                     Storyboard.TargetProperty="X"
                                     Storyboard.TargetName="transferCurreny2"
                                     RepeatBehavior="Forever"/>
                </Storyboard>
            </StackPanel.Resources>

            <Label Content="{Binding Path=RSSFeed}" 
                       x:Name="txtKron" 
                       Canvas.Left="0"
                       Foreground="#E9D460"
                       Padding="0"
                       Margin="0"
                       VerticalAlignment="Center">

                <Label.Triggers>
                    <EventTrigger RoutedEvent="Label.Loaded">
                        <BeginStoryboard Storyboard="{StaticResource slide}"/>
                    </EventTrigger>
                    <EventTrigger RoutedEvent="Label.SizeChanged">
                        <BeginStoryboard Storyboard="{StaticResource slide}"/>
                    </EventTrigger>
                </Label.Triggers>

                <Label.RenderTransform>
                    <TranslateTransform x:Name="transferCurreny2" X="0"/>
                </Label.RenderTransform>
            </Label>

        </StackPanel> 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2020-09-17T01:22:15.780

为了使字符串比元素长，并隐藏从元素溢出的文本，我进一步修改了以前的答案。

要直接使用这个，首先创建一个名为 WpfApp1 的项目

xml:

```
<Window x:Class="WpfApp1.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:WpfApp1"
        mc:Ignorable="d"
        Title="MainWindow" Height="450" Width="800">
    <Grid>

        <Border Width="200" HorizontalAlignment="Center" VerticalAlignment="Center" Height="25" ClipToBounds="True" BorderThickness="1.5" BorderBrush="Red">
            <Border x:Name="stack">
                <Border.Resources>
                    <local:NegatingConverter x:Key="NegatingConverter" />
                    <local:MarqueeMargin x:Key="MarqueeMargin" />
                    <local:NegMarqueeMargin x:Key="NegMarqueeMargin" />

                    <Storyboard x:Key="slide">
                        <DoubleAnimation From="0" To="{Binding ActualWidth, ElementName=txt_scroll, Converter={StaticResource NegMarqueeMargin}}" Duration="00:00:2"
                          Storyboard.TargetProperty="X"
                          Storyboard.TargetName="transferCurreny"
                          RepeatBehavior="Forever"/>
                    </Storyboard>
                </Border.Resources>
                <Border.RenderTransform>
                    <TranslateTransform x:Name="transferCurreny" X="0"/>
                </Border.RenderTransform>
                <Border.Triggers>
                    <EventTrigger RoutedEvent="StackPanel.Loaded">
                        <BeginStoryboard Storyboard="{StaticResource slide}" />
                    </EventTrigger>
                    <EventTrigger RoutedEvent="StackPanel.SizeChanged">
                        <BeginStoryboard Storyboard="{StaticResource slide}" />
                    </EventTrigger>
                </Border.Triggers>
                <Canvas Width="{Binding ActualWidth, ElementName=stack}">
                    <TextBlock Text="This text is too long to fit in the parent element." FontSize="15" Foreground="#F00" x:Name="txt_scroll" Canvas.Left="0"/>
                    <TextBlock Text="{Binding Text, ElementName=txt_scroll}" FontSize="15" Foreground="#F00" Canvas.Left="{Binding ActualWidth, ElementName=txt_scroll, Converter={StaticResource MarqueeMargin}}"/>
                </Canvas>
            </Border>
        </Border>

    </Grid>
</Window> 
```

此窗口的 c# 代码：

```
<Window x:Class="WpfApp1.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:WpfApp1"
        mc:Ignorable="d"
        Title="MainWindow" Height="450" Width="800">
    <Grid>

        <Border Width="200" HorizontalAlignment="Center" VerticalAlignment="Center" Height="25" ClipToBounds="True" BorderThickness="1.5" BorderBrush="Red">
            <Border x:Name="moving_border">
                <Border.Resources>
                    <local:NegatingConverter x:Key="NegatingConverter" />
                    <local:MarqueeMargin x:Key="MarqueeMargin" />
                    <local:NegMarqueeMargin x:Key="NegMarqueeMargin" />

                    <Storyboard x:Key="slide">
                        <DoubleAnimation From="0" To="{Binding ActualWidth, ElementName=txt_scroll, Converter={StaticResource NegMarqueeMargin}}" Duration="00:00:2"
                          Storyboard.TargetProperty="X"
                          Storyboard.TargetName="transferCurreny"
                          RepeatBehavior="Forever"/>
                    </Storyboard>
                </Border.Resources>
                <Border.RenderTransform>
                    <TranslateTransform x:Name="transferCurreny" X="0"/>
                </Border.RenderTransform>
                <Border.Triggers>
                    <EventTrigger RoutedEvent="Border.Loaded">
                        <BeginStoryboard Storyboard="{StaticResource slide}" />
                    </EventTrigger>
                    <EventTrigger RoutedEvent="Border.SizeChanged">
                        <BeginStoryboard Storyboard="{StaticResource slide}" />
                    </EventTrigger>
                </Border.Triggers>
                <Canvas Width="{Binding ActualWidth, ElementName=moving_border}">
                    <TextBlock Text="This text is too long to fit in the parent element." FontSize="15" Foreground="#F00" x:Name="txt_scroll" Canvas.Left="0"/>
                    <TextBlock Text="{Binding Text, ElementName=txt_scroll}" FontSize="15" Foreground="#F00" Canvas.Left="{Binding ActualWidth, ElementName=txt_scroll, Converter={StaticResource MarqueeMargin}}"/>
                </Canvas>
            </Border>
        </Border>

    </Grid>
</Window> 
```

# php - 如何为位置感知搜索准备现有数据库？

> ID：15323166
> 
> 赞同：0
> 
> 时间：2013-03-10T14:12:44.117
> 
> 标签：php, geolocation, reverse-geocoding, haversine

**要求**：我目前正在开发一个拥有超过 30000 条记录的应用程序。要求是**基于位置/感知搜索**。例如。距离我现在的位置 5 英里以内。

**如何访问**此服务：将从 Web 和 iOS 应用程序访问此服务。

**开发平台**：

*   网页：Cakephp、php 和 python
*   数据库：MySql
*   iOS：目标-c
*   当前使用的外部库：Google Maps Javascript Api v3

**基于位置的搜索**

我一直在对这个主题进行一些研究，我将为此使用[Haversine Formula](http://en.wikipedia.org/wiki/Haversine_formula)。但是要使 Haversine 公式有效，我需要为我的数据库中的所有记录提供反向地理代码。我曾经使用过的唯一反向地理编码服务来自谷歌，我知道他们不允许这样做，除非在他们的地图上显示结果。

> 注意：Geocoding API 只能与谷歌地图一起使用；禁止在未在地图上显示的情况下对结果进行地理编码。

1.  我可以使用其他 API 或服务来对所有这些记录进行反向地理编码吗？
2.  30000 是一个很大的数字。我显然会在一段时间内为此使用 cron 工作，但是由于这个请求将来自同一个 IP，这可能是一个问题吗？

对此的任何帮助将不胜感激。

**更新 1 #**

我发现[这个](https://stackoverflow.com/questions/2283689/can-anyone-recommend-a-free-geocoding-service)推荐[OpenStreetMap Nominatim的问题](http://wiki.openstreetmap.org/wiki/Nominatim)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-10T14:47:58.877

您可以使用各种地理编码服务，但您很可能需要付费。查看[Cloudmate](http://cloudmade.com/products/geocoding)。他们可能会解决你的情况。如果这是一项商业冒险，最好花一点钱并确保您获得良好的数据。

30,000 条记录根本不会花那么长时间。如果没有速率限制，它应该能够在 10 - 20 分钟内完成。我一次对 2000 条记录进行地理编码（每页 100 条），耗时 5 分钟。

不久前，我构建了一个位置管理界面。它还没有完成，代码也不是最好的，但它可能会给你一个起点。它使用谷歌进行地理编码，但可以很容易地换成任何其他服务。

[http://galengrover.com/projects/Store-Locator-Admin/](http://galengrover.com/projects/Store-Locator-Admin/)

[https://github.com/galen/Store-Locator-Admin](https://github.com/galen/Store-Locator-Admin)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2018-01-22T10:06:10.913

```
 $result = mysql_query("SELECT * FROM abc  ORDER BY id DESC ") or die(mysql_error());  

    while($row = mysql_fetch_array( $result )){

      $lat=$row['latitude'];
      $long=$row['longitude'];

    $url  = "http://maps.googleapis.com/maps/api/geocode/json?latlng=".$lat.",".$long."&sensor=false";
      $json = @file_get_contents($url);
      $data = json_decode($json);
      $status = $data->status;
      $address = '';
      if($status == "OK")
      {
         $address = $data->results[0]->formatted_address;
      }
      else
      {
        echo "No Data Found Try Again";
      }

    mysql_query("UPDATE abc SET location='$address' WHERE id=".$row['id']."") or die(mysql_error());

    printf( $address."%d\n", mysql_affected_rows());
    echo "<br/><br/>";
    } 
```

# git - 从 Git 开始：如何设置工作目录？

> ID：15323174
> 
> 赞同：3
> 
> 时间：2013-03-10T14:13:48.137
> 
> 标签：git, bash, git-bash

关于 Git 的非常基本的初学者问题，来自命令行经验很少的人。

*   我打开了 Git Bash。
*   我一直在关注[这个非常有用的指南](http://git-scm.com/book/en/Git-Basics-Getting-a-Git-Repository)，我已经理解了一点。
*   我想使用`git init`命令开始在文件夹中工作。

打开 Git Bash 时，会显示我的用户名和计算机名称（格式为`username@computername`）并给出`$`提示。在 Windows 的 cmd.exe 中，我可以使用诸如`dir`列出文件夹中的所有内容以及`cd`更改到特定文件夹之类的命令，但除非我错过了某些内容，否则 Git Bash 无法使用这些命令。

**问题**：指南说'如果你开始在 Git 中跟踪现有项目，你需要进入项目目录并输入`$ git init`'。如何列出并导航到我可能想要`git init`在 Git Bash 中使用该命令的文件夹？

...

...

*...按照下面的答案...*

**其他人的资源**：自从得到以下答案（这有助于消除我的初学者对 Bash 脚本语言和 Git Bash 的困惑），我发现以下资源可能对其他努力入门的人有用...

*   [DOS/Windows 到 UNIX/BASH 命令行转换表](http://www.yolinux.com/TUTORIALS/unix_for_dos_users.html)
*   [BASH 命令的 AZ 索引，***并非所有这些都可以与 Git 一起使用（例如，*** `dir` ***！）***](http://ss64.com/bash/)
*   [git - 一个简单的指南](http://rogerdudler.github.com/git-guide/)- 非常有用，但也说明了我作为初学者遇到的问题，见证了评论[“执行 git init？用什么，在哪里？](http://rogerdudler.github.com/git-guide/#comment-408539943)
*   *[添加 20130319]* [在 Linux 中四处走走（基本 Bash 命令的有用介绍）](http://www.linux.org/article/view/getting-around-in-linux-directories)
*   *[添加 20130319]* [LifeHacker 的命令行入门](http://lifehacker.com/5633909/who-needs-a-mouse-learn-to-use-the-command-line-for-almost-anything)

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-03-10T14:26:43.527

您可能想查看 Bash 初学者教程，它将教您有关导航和文件操作的基础知识。

或者或另外，您可以查找有关如何在 cmd.exe 或 PowerShell 中使用 Git 的教程（它适用于两者，但有一些怪癖并需要一些额外的设置）。

目前，您需要的命令是：

1.  `ls`**我**是一个目录**的**内容。`ls`默认使用简短的多列布局，如果您想了解更多关于文件的信息（类似于`dir`cmd.exe 中默认的外观），您可以使用`ls -la`（这两个选项表示“**长**格式”和“显示**所有**条目” "
2.  `cd`**（**等效**：）**`chdir`更改目录；它需要一个参数，即您要更改的文件夹的路径；它可以是绝对的，也可以是相对的，并且必须存在；与 cmd.exe 的 cd 不同：如果要上一级，别忘了空格（必须是;不行）；更多示例：,****`cd ..``cd..``cd localfolder/subfolder``cd /c/absolute/path/example`****
*****   `mkdir`（默认情况下**没有** `md`别名，尽管您可以根据需要定义**它**）**创建**一个**目录**；像在 cmd.exe 中一样工作：**`mkdir new_folder_name`******

 ******* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-03-10T14:18:48.337

使用 ls 代替 dir、cwd、chdir 或 cd 来更改目录...

像

```
$ cd /I/want/to/go/here
$ ls
.
..
File1
File2
............
............
$ mkdir Folder1
$ cd Folder1
$ git init 
```******

# javascript - 为什么 javascript 和 css 文件的名称如此复杂？

> ID：15323183
> 
> 赞同：2
> 
> 时间：2013-03-10T14:15:23.657
> 
> 标签：javascript, css, url

我找到了这个网址

[https://petitions.whitehouse.gov/sites/default/files/js/js_UiAlkc-vULf24xt5asxqvUtyoWeGDuXLXt7ti6xNnGg.js](https://petitions.whitehouse.gov/sites/default/files/js/js_UiAlkc-vULf24xt5asxqvUtyoWeGDuXLXt7ti6xNnGg.js)

作为网站[https://petitions.whitehouse.gov/](https://petitions.whitehouse.gov/)`src`中 javascript 文件的源 () 。

和这个

[https://petitions.whitehouse.gov/sites/default/files/css/css_7HCSWa0-mjR4tMqcKk2MWsaQFvHYUU9FuXNLwF5yIEY.css](https://petitions.whitehouse.gov/sites/default/files/css/css_7HCSWa0-mjR4tMqcKk2MWsaQFvHYUU9FuXNLwF5yIEY.css)

对于一个 CSS 文件。

问题是为什么 javascript 或 css 文件使用如此复杂的名称？是由于任何框架还是什么？即使是由于任何框架，问题仍然存在。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-10T14:24:21.723

这可能是由于`'minification'`删除了生产不需要的任何字符/符号的过程（换行符/注释等）。

通常，此过程是 a 的一部分，`'Bundling'`它不仅会缩小每个源文件，还会将多个源 (css/js) 文件组合在一起以减少 HTTP 请求的数量。

然后使用唯一名称保存每个“捆绑”结果，以便下一次捆绑迭代将具有另一个唯一名称以防止`caching`并能够反映新修改的捆绑的更改。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-10T14:24:38.917

这是通过散列存储静态文件的技巧。

此存储的目的是在某些页面仍然引用它们的情况下继续提供旧静态文件的版本，例如因为它们被您或第 3 方代理服务器缓存。此外，如果您想将[未来的 Expires 标头](http://developer.yahoo.com/performance/rules.html#expires)应用于已部署的文件以加快后续页面访问的加载时间，这将非常有帮助。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-10T14:21:12.560

它可能是由某种缩小器/混淆器生成的名称。
这很复杂，因为每次编译 CSS/JS 脚本都会创建新版本的脚本，并且为了防止浏览器从缓存中加载旧版本，应该使用新名称。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-03-10T14:21:58.763

这些文件名看起来像是被散列和/或版本化的。这很可能确保始终加载正确的样式、JavaScript 和资产。它也可能是机器生成或缩小的结果。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-03-10T15:58:59.353

虽然这里的每个答案都是正确的，为什么 CSS 和 JavaScript 被合并到每种语言的单个文件中（即所有 CSS 都在一个文件中，所有 JavaScript 都在一个文件中），但没有人给出一个真正的理由来解释为什么可以使用字母数字字符串——例如，代替线性数字 id 或版本号。

在这种情况下，使用字母数字哈希的主要原因通常是因为不希望存储与聚合有关的额外数据的麻烦或延迟。每当您有一个自动化系统时，如果您想要一个递增的数字，您需要将该数字存储在某个地方，即数据库中。如果您希望此数字成为版本号，则变得更加复杂，因为这意味着您必须为每个 emalgamated 文件存储一个单独的数字（使用 CMS 时，emalgamed 文件的数量可能会迅速变化，这完全取决于正在加载的内容在该特定页面上）。

简而言之，使用类似于`MD5`或`SHA1`在呈现 HTML 源代码时基于盐值和当前时间戳生成字母数字哈希要容易得多。由于生成的散列的长度和基于不断增加的时间戳，这些函数几乎可以保证与以前的值不冲突（当涉及到缓存时，您希望避免这种情况，正如其他海报所说的那样）。

使文件名随机随机排列的另一个好处是它可以防止外部用户进行盗链或其他恶意技巧。这对于 CSS 来说不是什么大问题，但对于 JS 来说可能是个问题。

# php - 我可以根据查询制作表格吗？就像我数据库中不同字段/表的表单一样

> ID：15323189
> 
> 赞同：0
> 
> 时间：2013-03-10T14:15:48.167
> 
> 标签：php, html, mysql, phpmyadmin, xampp

从标题，你大概可以看出我是个业余爱好者。但是，我想为我的 MySQL/php 站点创建一个表单，它需要来自整个数据库中不同表的字段。这可能吗？还是我需要创建一个包含所有必要字段的表？

此外，是否可以保存此表单的输出并根据要求查看所有输出？

提前致谢。

如果我遗漏了什么，请问任何问题。我保持简短，因为我认为这可能是一个简单的问题：@！

真的很感激。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-10T14:20:18.697

是的你可以！PHP 使用该函数`echo`将数据打印到 HTML 页面。这意味着您可以先从数据库中读取数据并使用`IF`它来打印不同的 HTML 表单。

**例如（伪代码）：**

```
$in=getFrom(DB);

if($in['key']=="value")
{
    echo ".....specific HTML....... ";
}
else
{
     echo ".....alternative HTML....... ";
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-10T23:18:25.427

我不确定我是否正确理解了您的问题，但是..

如果要组合来自不同表的数据，则要使用[JOIN执行数据库查询](http://dev.mysql.com/doc/refman/5.0/en/join.html)

例如，如果您有一张人的桌子和一张宠物的桌子，您可以通过以下方式将这些数据组合到同一个输出中：

```
select * from persons 
left outer join pets on (pets.person_id = persons.id) 
```

现在，如果您想“保存此输出”，您应该创建一个[VIEW](http://dev.mysql.com/doc/refman/5.0/en/create-view.html)

```
create view persons_and_their_pets as 
    (
    select * from persons 
    left outer join pets on (pets.person_id = persons.id)
    ) 
```

您现在可以通过以下方式访问这些数据：

```
select * from persons_and_their_pets 
```

# asp.net-mvc - HTTP 错误 403.14 - ASP.Net MVC 4 应用程序的禁止 IIS 错误

> ID：15323190
> 
> 赞同：26
> 
> 时间：2013-03-10T14:15:49.440
> 
> 标签：asp.net-mvc, asp.net-mvc-4, iis-7.5

我们开发了一个 asp.net mvc 4 应用程序。在 vs 2012 中，这项工作正常。我们发布了这个 Web 应用程序并将其放在 iis 7.5 上，但是当我们想通过 iis 浏览 Web 应用程序时，会显示以下错误消息：

```
HTTP Error 403.14 - Forbidden
The Web server is configured to not list the contents of this directory. 
```

我们认为这个错误可能来自这个 Web 应用程序，但我们创建了另一个 asp.net mvc 4 应用程序（没有任何更改并使用 Internet 模板）并将其放在 iis 上，然后再次向我们显示顶部错误。

我们在互联网上搜索并看到更多人认为这个问题是为他们发生的。例如在这个：[403 - Forbidden on basic MVC 3 deploy on iis7.5](https://stackoverflow.com/questions/6011636/403-forbidden-on-basic-mvc-3-deploy-on-iis7-5/6011811#6011811)链接介绍了解决这个问题的想法，并假设这个问题已经为他们的人解决了，但这个解决方案对我不起作用。我们说的另一个链接包括：这个 [https://stackoverflow.com/questions/6885509/http-error-403-14-forbidden](https://stackoverflow.com/questions/6885509/http-error-403-14-forbidden) 和这个：http: [//yassershaikh.com/http-error-403-14-forbidden- the-web-server-is-configured-to-not-list-the-contents-of-this-directory/](http://yassershaikh.com/http-error-403-14-forbidden-the-web-server-is-configured-to-not-list-the-contents-of-this-directory/)但这个解决方案对我不起作用

解决这个问题的任何想法？

* * *

## 回答 #1

> 赞同：42
> 
> 时间：2013-04-10T20:37:54.233

在安装 IIS 7.5、Visual Studio 等之后，我在一台全新的机器上遇到了同样的问题。我最终刷新了 ASP.NET 注册并且它工作正常。

C:\windows\Microsoft.NET\Framework64\v4.0.30319> .\aspnet_regiis.exe -ir C:\windows\Microsoft.NET\Framework64\v4.0.30319> iisreset

高温高压

* * *

## 回答 #2

> 赞同：12
> 
> 时间：2013-12-12T08:02:38.010

首先，您应该通过在命令提示符中执行以下命令来注册 IIS 框架

C:\windows\Microsoft.NET\Framework\v4.0.30319> aspnet_regiis.exe -i C:\windows\Microsoft.NET\Framework64\v4.0.30319> aspnet_regiis.exe -i

如果您仍然收到错误消息

* * *

HTTP 错误 403.14 - 禁止 Web 服务器配置为不列出此目录的内容

* * *

那么您可能需要更新 IIS，当 URL 不以句点结尾时使用该更新

请访问以下链接以获取更新 [http://support.microsoft.com/kb/980368](http://support.microsoft.com/kb/980368)

有一个更新可用，使某些 IIS 7.0 或 IIS 7.5 处理程序能够处理 URL 不以句点结尾的请求

* * *

## 回答 #3

> 赞同：8
> 
> 时间：2013-06-18T16:27:53.520

IIS 的更新解决了我的问题，可以从以下链接下载：http: [//support.microsoft.com/kb/980368](http://support.microsoft.com/kb/980368)

* * *

## 回答 #4

> 赞同：7
> 
> 时间：2013-06-07T15:38:31.810

这发生在我身上是因为我错误地运行了一个不相关的搜索并替换了在 Global.asax.cs 中重命名了 'id' 参数（第 3 行）的内容：

```
 routes.MapRoute(
               "Default", // Route name
               "{controller}/{action}/{id}", // URL with parameters
               new { controller = "Home", action = "Index", id = UrlParameter.Optional } // Parameter defaults 
```

……换个名字。我立即开始在本地和远程获取 403.14。将其更改回“id”修复了它。

* * *

## 回答 #5

> 赞同：5
> 
> 时间：2015-06-03T12:53:00.833

在 Windows 中打开提升的命令提示符（以管理员身份运行命令提示符）。

`aspnet_regiis -i`并在 .Net Framework 和 .Net Framework64 位置运行命令。如下所示，这里`i`的参数表示安装 ASP.NET 版本 4。第一个命令用于 32 位，第二个命令用于安装 64 位版本。

```
C:\Windows\Microsoft.NET\Framework\v4.0.30319\aspnet_regiis -i
C:\Windows\Microsoft.NET\Framework64\v4.0.30319\aspnet_regiis -i 
```

![截图命令提示符](../Images/ad2a119d676dd3878c931c8a5637a0a1.png)

这些命令用于向 Internet 信息服务 (IIS) 服务器注册 ASP.NET 应用程序。

* * *

## 回答 #6

> 赞同：3
> 
> 时间：2014-04-09T18:45:24.480

也许...如果您碰巧使用发布向导（就像我一样）并选择“发布期间预编译”复选框（就像我一样）并看到相同的症状...

是的，我打了自己的头，但取消选中此框后，看似无关的设置，所有描述的症状都消失了。

希望这可以解决一些人。

* * *

## 回答 #7

> 赞同：2
> 
> 时间：2013-03-10T14:18:28.910

听起来应用程序配置不正确。确保已部署 web.config 以及所有应用程序文件，并且应用程序池已正确配置。

如果您直接访问运行 IIS 的机器，您可能会收到更详细的错误消息。

* * *

## 回答 #8

> 赞同：2
> 
> 时间：2013-12-18T16:25:36.240

如果我有 50 个代表，我会评论 @Seth 的回答。这不仅仅是一个搜索和替换问题。Visual Studio 2012 中有一个[重构 --> 重命名错误](http://connect.microsoft.com/VisualStudio/feedback/details/656466/refactor-rename-bug/ "重构 --> 重命名错误")，它错误地重命名了我的 RouteConfig.cs 中 url 参数*的文字字符串值内的“id”。*当然，它已解决为“无法修复”，因此请注意。

```
routes.MapRoute(
            name: "Default",
            url: "{controller}/{action}/{id}",
            defaults: new { controller = "Home", action = "Index", id = UrlParameter.Optional }
        ); 
```

改为

```
routes.MapRoute(
            name: "Default",
            url: "{controller}/{action}/{replaced_text}",
            defaults: new { controller = "Home", action = "Index", id = UrlParameter.Optional }
        ); 
```

* * *

## 回答 #9

> 赞同：1
> 
> 时间：2014-12-04T02:16:07.603

就我而言，问题出在物理路径设置上。

它指向 **C:\inetpub\wwwroot\MySite**

但导入的站点实际上位于 ***C:\inetpub\wwwroot\MySite\Default Web Site\MySite***

*我通过MySite -> Edit Site -> Basic Settings*更改了 iis 中的路径， 然后我开始参加比赛。

* * *

## 回答 #10

> 赞同：0
> 
> 时间：2015-01-27T18:10:36.453

从我的 web.config 复制一个工作 ConnectionString 到一个较新的项目以替换旧项目上的 ConnectionString 然后开始在 localdb 上进行测试并收到错误后，出现了相同的错误（403.14）。注意：我从新的 web.config 复制到旧的 web.config，只复制了连接字符串的连接字符串部分，并且没有对旧项目的名称或提供者名称进行任何更改。经过几个小时的研究，终于进入旧项目（在 VS 2012 的设计选项卡上）的一个附加 sqldatasources 并重新配置了 sqldatasource（单击“配置数据源”）并在第一个下拉框中选择了关联的名称使用最近复制的 ConnectionStrings 之一。这就是一切，在重新配置 ConnectionString 后它开始工作。

* * *

## 回答 #11

> 赞同：0
> 
> 时间：2016-02-26T16:34:32.733

您需要更改站点的应用程序池：

*   转到“操作”面板
*   然后选择“基本设置”
*   在“应用程序池”上选择“选择...”
*   最后`ASP.NET v4.0`

* * *

## 回答 #12

> 赞同：0
> 
> 时间：2016-04-02T19:02:21.580

我遇到了同样的错误，但上述解决方案都不适合我，最终我的开发机器上安装了 .Net 4.6，但该项目的目标是 .net 4.5。我不明白为什么会发生这种情况，但是这件事对我有用。

* * *

## 回答 #13

> 赞同：0
> 
> 时间：2016-05-10T14:13:57.157

在我的情况下，默认网站被映射到不同的应用程序。当我试图在默认网站中访问我的应用程序时，我收到了 403.14 错误。

解决方案是将默认网站重新映射到默认 C:\inetpub\wwwroot。

# perl - 我需要在我的网页中连接我的哈希值

> ID：15323192
> 
> 赞同：1
> 
> 时间：2013-03-10T14:16:04.237
> 
> 标签：perl

我制作了一个 cgi 表单，并在其中插入了一个哈希以查看输出。逻辑是当用户输入他的名字时，他将获得与他的名字相关的 DNA 序列。我正在尝试从哈希的匿名数组中获取值。

我已经完成了这个程序的两个部分，并坚持最后一个。如果输入有效，则将字符串转为大写，然后使用哈希生成适当的 DNA 序列并输出为：

1.一次取一个用户姓名的字母，并使用步骤1中创建的哈希查找该字母并获得相应的DNA密码子。

1.  构建由这些三元组组成的“DNA”序列，完成后，将其显示给用户。3.对于大多数字母，会有不止一个三元组匹配他们名字的一个字母。在这种情况下，我必须找出有多少选择并使用随机数生成器来选择一个。因此，如果用户多次输入他们的名字，他们将得到不同的输出。

    print "内容类型：text/html\n\n";

    ```
     if (!param){
            #if no data, display blank form
            print headingstuff("");
            print programInfo();
            print form();
            print endingstuff();    
        }else{
            print headingstuff("");
            print programInfo();

            #validate user name
            my $name = param("name");    

            my $nameLength = length($name);       

            if($nameLength == 0){
                print form(param("name"));
                print "<br>Please enter a vaild name!! <br>"; 
            }else{       

        my %hash = (
                    "A"=>["Alanine","Ala",["GCT"," GCC"," GCA"," GCG"]],
                    "R"=>["Arginine","Arg",["CGT"," CGC"," CGA"," CGG"," AGA"," AGG"]],
                    "N"=>["Asparagine","Asn",["AAT"," AAC"]],
                    "D"=>["Aspartic acid","Asp",["GAT"," GAC"]],
                    "C"=>["Cysteine","Cys",["TGT"," TGC"]],
                    "E"=>["Glutamic acid","Glu",["GAA"," GAG"]],
                    "Q"=>["Glutamine","Gln",["CAA"," CAG"]],
                    "G"=>["Glycine","Gly",["GGT"," GGC"," GGA"," GGG"]],
                    "H"=>["Histidine","His",["CAT"," CAC"]],
                    "I"=>["Isoleucine","Ile",["ATT"," ATC"," ATA"]],
                    "L"=>["Leucine","Leu",["TTA"," TTG"," CTT"," CTC"," CTA"," CTG"]],
                    "K"=>["Lysine","Lys",["AAA"," AAG"]],

                    );  

                    print "<br>Codons for user name: <br>";
                  my @nameAsArray = split('', $name);

                foreach my $letter(@nameAsArray){
                    my $uLetter = uc($letter);                    
                    my @val = @{$hash{$uLetter}};
                    my $letterDna = getRandomDNA(\@{$val[2]});              
                    print "<br>";

                }            

            sub linkToOriginalPage{
                return <<L;
                <br><br>
                <a href="xyz.cgi">Click here to return to original page.</a>
                <br><br>
            L
            }

            sub headingstuff {
                my $mytitle = $_[0];
                return <<H;
            <?xml version="1.0" encoding="UTF-8"?>
            <!DOCTYPE html>
            <html>
                <head>
                    <title>$mytitle</title>
                </head>
                <body>
                    <h1>  :) </h1>
            H
            }
            ######################################################
            sub endingstuff{
                return <<E;
                </body>
            </html>
            E
            }
            ####################################################

            sub form{
                return <<F;
                <form method="post" action="xyz" enctype="multipart/form-data">
                     <table>
                        <tr>
                            <td>Enter your name:</td> 
                            <td> <input type="text" name="name" value="$_[0]"/></td>
                        </tr>
                        <tr>
                            <td colspan="2"><input type="submit"/></td>
                        </tr>
                     </table>
                </form>
            F
            } 
    ```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-10T16:34:09.817

我不确定我理解正确，你想要的是显示`%hash`？：

```
print "Content-type: text/html\n\n";

if (!param){
    #if no data, display blank form
    print headingstuff("");
    print programInfo();
    print form();
    print endingstuff();    
}else{
    print headingstuff("");
    print programInfo();

    #validate user name
    my $name = param("name");

    my $nameLength = length($name);       

    if($nameLength == 0){
        print form(param("name"));
        print "<br>Please enter a vaild name!! <br>"; 
    }else{
     my array_name = "", $name;

    my %hash = (
                "A"=>["Alanine","Ala",["GCT"," GCC"," GCA"," GCG"]],
                "R"=>["Arginine","Arg",["CGT"," CGC"," CGA"," CGG"," AGA"," AGG"]],
                "N"=>["Asparagine","Asn",["AAT"," AAC"]],
                "D"=>["Aspartic acid","Asp",["GAT"," GAC"]],
                "C"=>["Cysteine","Cys",["TGT"," TGC"]],
                "E"=>["Glutamic acid","Glu",["GAA"," GAG"]],
                "Q"=>["Glutamine","Gln",["CAA"," CAG"]],
                "G"=>["Glycine","Gly",["GGT"," GGC"," GGA"," GGG"]],
                "H"=>["Histidine","His",["CAT"," CAC"]],
                "I"=>["Isoleucine","Ile",["ATT"," ATC"," ATA"]],
                "L"=>["Leucine","Leu",["TTA"," TTG"," CTT"," CTC"," CTA"," CTG"]],
                "K"=>["Lysine","Lys",["AAA"," AAG"]],

                );  

                print "<br>Codons for user name: <br>";

        # hash display
        foreach my $key ( keys %hash ){
            print "$key : <br>";
            foreach my $elem ( @{ $hash{$key} } ) {
                print "$elem " if ref $elem ne 'ARRAY';
                next if ref $elem ne 'ARRAY';
                print "<br/> @{ $hash{$key} } ";
            }
        }
                print "<br>";

            }

        sub linkToOriginalPage{
            return <<L;
            <br><br>
            <a href="xyz.cgi">Click here to return to original page.</a>
            <br><br>
        L
        }

        sub headingstuff {
            my $mytitle = $_[0];
            return <<H;
        <?xml version="1.0" encoding="UTF-8"?>
        <!DOCTYPE html>
        <html>
            <head>
                <title>$mytitle</title>
            </head>
            <body>
                <h1>  :) </h1>
        H
        }
        ######################################################
        sub endingstuff{
            return <<E;
            </body>
        </html>
        E
        }
        ####################################################

        sub form{
            return <<F;
            <form method="post" action="xyz" enctype="multipart/form-data">
                 <table>
                    <tr>
                        <td>Enter your name:</td> 
                        <td> <input type="text" name="name" value="$_[0]"/></td>
                    </tr>
                    <tr>
                        <td colspan="2"><input type="submit"/></td>
                    </tr>
                 </table>
            </form>
        F
        } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-13T00:14:51.377

看起来您寻找的缺失部分是`getRandomDNA`，特别是如何从数组中获取随机项。

您可以使用`rand $x`从 0 到 获取随机浮点数`$x`，因此要获取数组中的随机项`@array`，请执行以下操作：

```
$item = $array[int rand @array]; 
```

由于您已经传递了包含所有 DNA 序列且没有其他内容的函数，因此将它们组合在一起应该很简单。

# javascript - 如何调用父变量 i++

> ID：15323198
> 
> 赞同：0
> 
> 时间：2013-03-10T14:16:59.033
> 
> 标签：javascript, jquery

我在一个页面上有多个按钮，并希望它们执行类似的任务。在 PHP 中我可以做到这一点，但在 JavaScript 中我似乎无法让它工作：

```
for (i= 0; i<5; i++){
  $("#btn_"+i).click(function(){
    alert(i);                                 
  });
} 
```

警报始终为**5**

我的**PHP 解决方案**运行良好，但我想减少页面上编写的代码......

```
<?php
for ($i= 0; $i<5; $i++){
?>

  $("#btn_page-<?php print $i; ?>").click(function(){
    $("#btn_"+i).click(function(){
      alert("<?php print $i; ?>");                                 
    });

<?php
}
?> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-10T14:20:00.527

为此，您需要闭包。您也可以使用 jQuery 在事件数据中传递引用：

```
for(i = 0; i < 5; i++) {
    $("#btn_"+i).click({ counter: i }, function(e) {
        alert(e.data.counter);                                 
    });
} 
```

这是一个[**jsFiddle**](http://jsfiddle.net/3kx4k/)。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-10T14:26:37.850

不是您的循环问题的答案，但您可以尝试这种方法而不是循环：

```
$('[id^="btn_"]').click( function(e) {
    alert(this.id.replace("btn_",""));                                 
}); 
```

**[样本](http://jsfiddle.net/3kx4k/1/)**

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-10T14:20:03.727

这是众所周知的[for 循环问题](https://stackoverflow.com/questions/750486/javascript-closure-inside-loops-simple-practical-example)。您需要将代码封装在一个自动执行的闭包中。

```
$("#btn_" + i).click(function(i) {
     return function() {
         alert(i);
     };
}(i)); 
```

或者您可以将执行回调放入参数中，如下所示：

```
$("#btn_" + i).click(callback(i));

function callback(i) {
    return function() { alert(i); };
} 
```

所有细节都在副本中解释。

# python - str 和 getpass 输出之间的区别

> ID：15323199
> 
> 赞同：1
> 
> 时间：2013-03-10T14:17:03.247
> 
> 标签：python, string

好吧，自从我上次使用 Python 以来已经有一段时间了，所以我的知识有点生疏。我对 getpass 模块和 raw_input() 以及一般的 python 字符串有疑问。

我正在使用 pycrypto 模块。有一个使用 SHA256 散列的密码字符串，然后使用其摘要来解密 AES 密码。

以下代码有效：

```
password = "applesandpairsstairs"
print len(password)
print type(password)
plaintext = AESDecrypt(ciphertext, password, iv)
print "Plaintext: %s\n" % plaintext 
```

我得到输出：

```
20
<type 'str'>
Plaintext: This is some test data for use. 
```

显然，在程序中设置密码有点傻，所以首先我将其切换为 raw_input()。

```
password = raw_input("Enter Password: ")
print len(password)
print type(password)
plaintext = AESDecrypt(ciphertext, password, iv)
print "Plaintext: %s\n" % plaintext 
```

当它打印时：

```
20
<type 'str'>
Plaintext: (Load of ciphertext characters) 
```

所以这显然行不通。注意我还尝试了一个 str() 围绕 raw_input

最后我有代码：

```
password = getpass.getpass("Enter Password: ",sys.stderr)
print len(password)
print type(password) 
```

其打印与 raw_input 相同。

AESDecrypt 是一种只调用哈希和解密并返回明文的方法：

```
hash = SHA256.new()
hash.update(password)
key = hash.digest()
obj = AES.new(key, AES.MODE_CBC, iv)
plaintext = obj.decrypt(ciphertext)
return plaintext 
```

有人有什么建议吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-10T14:53:42.793

啊发现问题...我是个白痴。我输入的密码错误。

即使重复打印密码，也设法错过了它。

# regex - Nginx 正则表达式 URL 重写不起作用

> ID：15323200
> 
> 赞同：0
> 
> 时间：2013-03-10T14:17:07.643
> 
> 标签：regex, nginx

当我的所有其他 URL 重写工作完美时，为什么这不起作用：

```
rewrite "^/search/?\?q(.+)$" /search.php?q$1 break; 
```

我确实重新启动了 nginx 和所有这些。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-10T15:58:20.127

重写仅适用于 uri 路径。您不需要重写查询字符串部分，因为默认情况下它会自动附加到新的 url。

```
rewrite /search /search.php break; 
```

例如，/search?q=something 将被写入 /search.php?q=something。

有关详细信息，请参阅[http://wiki.nginx.org/HttpRewriteModule#rewrite 。](http://wiki.nginx.org/HttpRewriteModule#rewrite)下面的这一行解决了您的问题

> 同样 rewrite 仅对路径进行操作，而不对参数进行操作。

# eclipse - eclipse设置问题

> ID：15323206
> 
> 赞同：2
> 
> 时间：2013-03-10T14:17:54.070
> 
> 标签：eclipse, ide

直到现在，我一直使用 Netbeans 开发 Java Web 应用程序和 servlet，以及一些 C++ 程序。由于我开始大量使用 playframework 2.1 并且它只支持 IntelliJ 或 Eclipse（也因为 Netbeans 中的一些其他限制），我决定现在更深入地研究 Eclipse (Indigo)。

我创建了一个新的 play 项目，将其 eclipsified 并在 eclipse 中导入。

我有时使用 eclipse，我也知道一些关于它的基本知识（事实上，它在不同的视图和编辑器上是非常模块化的）。在 Mint/Ubuntu 软件管理上安装的 eclipse indigo 裸版缺少一些功能，所以我想安装它们。在我看来，一个好的 IDE 至少应该具备以下特性：

*   语法高亮（用于 Java、Scala、XML、CSS、JavaScript）
*   代码完成和 javadoc（不需要 HTML/XML 完成）
*   简单的重构任务，例如重命名类、生成 getter/setter...
*   也许一些服务器管理支持（在应用程序服务器上启动、停止和部署，但我认为这已经很舒服了）
*   集成版本控制（我使用 Git）
*   编辑：我忘了调试（甚至可能是最重要的功能）

因为 eclipse 在我的机器上缺少 Git，所以我决定通过 eclipse 帮助菜单安装 eGit。我还在帮助菜单中做了“安装更新”。重新启动后，eclipse 不再识别任何东西。没有 git，它没有语法高亮 java 也没有 xml。文件仅在简单文本编辑器中打开。带有 .html 扩展名的文件始终在浏览器中打开。配置文件在外部文本编辑器中打开。

没有用于重构、构建、测试或类似的菜单项。似乎我的简单尝试和错误的天真方法不适用于 eclipse，它使情况变得更糟。有人可以告诉我如何以正确的方式采用 eclipse 来满足上述需求吗？

PS我想我会卸载Eclipse并直接从网站安装它，但我应该选择哪个版本？我更喜欢从一个时尚的 IDE 开始，并在需要时安装插件，所以我不想拥有完整的 Java EE 版本。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-10T17:21:24.503

我不知道玩，所以下面应该带着一粒盐。

*   以[Java Distro](http://www.eclipse.org/downloads/packages/eclipse-ide-java-developers/junosr2)为起始发行版（来自 Eclipse Dowloads） （参见[使用 play 的视频](http://vimeo.com/8926899)，那里是 Java SDK Eclipse）。
*   如果您不确定 Eclipse 4 流，请从 Eclipse 3 中获取最后一个流：[Indigo](http://www.eclipse.org/indigo/)。Egit 应该包含在其中。
*   将 Eclipse 安装在本地目录中，您将在其中将其用于所有工作区。不要相信 Ubuntu 会理解 Eclipse 的先决条件和组织应该是什么（我将给出示例）：
    *   Eclipse 安装的一个目录：（`/usr/local/eclipse/ecl732`对于当前的 Indigo）
    *   所有工作空间的一个目录：`/home/user1/ecl-ws`以及真正的工作空间：`/home/user1/ecl-ws/ecl732-proj1`.
    *   定义批处理文件以在其中启动 Eclipse `/home/user1/ecl-ws`。将其命名为他们使用的工作区：`ecl732-proj1.bash`.
    *   在批处理文件中定义启动参数：采用 JKD（参数`-vm`）、工作空间（参数`-data`），如有必要，添加其他参数。

通过该设置，您可以控制各个方面，并确定安装在哪里。要提供更多建议，您应该提供有关您已完成的步骤的更多信息。

# c# - WCF Web 服务找不到引用默认合同的端点元素

> ID：15323213
> 
> 赞同：2
> 
> 时间：2013-03-10T14:18:44.490
> 
> 标签：c#, wcf, service, web

我有一个有两个服务的服务器：

1.  `ContactService``IContactService`和_
2.  `SessionService`和`ISessionService`

执行时出现错误：

> "Impossible de trouver un élément de point de terminaison par défaut qui fait référence au contrat 'SessionServiceReference.ISessionService' dans la section de configuration du client ServiceModel. Ceci peut être dû au fait que le fichier de configuration de votre application est introuvable ou que l 'élément de point de terminaison 通讯员 à ce contrat est introuvable dans l'élément client。

我的 web.config ：

```
<?xml version="1.0"?>
<configuration>

  <system.web>
    <authentication mode="Windows"/>
    <compilation debug="true" targetFramework="4.0" />
  </system.web>
  <system.serviceModel>
    <bindings>
      <customBinding>
        <binding name="InstantMessagingBinding" closeTimeout="00:10:00">
          <textMessageEncoding>
            <readerQuotas maxStringContentLength="200000" maxArrayLength="200000" />
          </textMessageEncoding>
          <httpTransport keepAliveEnabled="false" maxReceivedMessageSize="200000" authenticationScheme="Ntlm"/>
        </binding>
      </customBinding>
    </bindings>
    <behaviors>
        <serviceBehaviors>
            <behavior name="InstantMessagingBehavior">
                <serviceMetadata httpGetEnabled="true" />
                <serviceDebug includeExceptionDetailInFaults="true" />
            </behavior>
            <behavior name="">
                <serviceMetadata httpGetEnabled="true" />
                <serviceDebug includeExceptionDetailInFaults="false" />
            </behavior>
        </serviceBehaviors>
    </behaviors>
    <serviceHostingEnvironment multipleSiteBindingsEnabled="true" />
    <services>
      <service name="Isima.InstantMessaging.WcfService.ContactService" behaviorConfiguration="InstantMessagingBehavior">
        <endpoint address=""
          binding="customBinding" bindingConfiguration="InstantMessagingBinding"
          contract="Isima.InstantMessaging.WcfService.IContactService" >
          <identity>
            <dns value="localhost" />
          </identity>
        </endpoint>
      </service>
      <service name="Isima.InstantMessaging.WcfService.SessionService" behaviorConfiguration="InstantMessagingBehavior">
        <endpoint address=""
          binding="customBinding" bindingConfiguration="InstantMessagingBinding"
          contract="Isima.InstantMessaging.WcfService.ISessionService" >
          <identity>
            <dns value="localhost" />
          </identity>
        </endpoint>
      </service>
    </services>
  </system.serviceModel>
 <system.webServer>
    <modules runAllManagedModulesForAllRequests="true"/>
  </system.webServer>

</configuration> 
```

和 app.config

```
<?xml version="1.0" encoding="utf-8" ?>
<configuration>
  <system.serviceModel>
    <bindings>
      <customBinding>
        <binding name="CustomBinding_IContactService">
          <textMessageEncoding />
          <httpTransport authenticationScheme="Ntlm" />
        </binding>
        <binding name="CustomBinding_ISessionService">
          <textMessageEncoding />
          <httpTransport authenticationScheme="Ntlm" />
        </binding>
      </customBinding>
    </bindings>
    <client>
      <endpoint address="http://localhost:2984/ContactService.svc"
        binding="customBinding" bindingConfiguration="CustomBinding_IContactService"
        contract="ContactServiceReference.IContactService" name="CustomBinding_IContactService">
        <identity>
          <dns value="localhost" />
        </identity>
      </endpoint>
      <endpoint address="http://localhost:2984/SessionService.svc"
        binding="customBinding" bindingConfiguration="CustomBinding_ISessionService"
        contract="SessionServiceReference.ISessionService" name="CustomBinding_ISessionService">
        <identity>
          <dns value="localhost" />
        </identity>
      </endpoint>
    </client>
  </system.serviceModel>
</configuration> 
```

为什么会出现这个错误？

# highstock - highstock 图表无法显示

> ID：15323216
> 
> 赞同：0
> 
> 时间：2013-03-10T14:19:03.443
> 
> 标签：highstock

我制作了一个 highstock 图表，但无法显示有 2 个问题的数据线。1.只有点击“db2”图例后才能显示行，但如果再次点击“db2”图例，两行同时消失。2.如果点击导航栏，线条就不能再显示了。

图表中有更多数据时找不到错误，与数据集有关系吗？

任何回应表示赞赏。

[http://jsfiddle.net/freedba/PE8w9/](http://jsfiddle.net/freedba/PE8w9/)

```
$(function() {

       chart = new Highcharts.StockChart({
           chart : {
               renderTo : 'container',
               events: {
                   load: function(){
                   this.series[1].hide();
            }}
           },
           title : {
               text : 'CPU Usage'
           },
           rangeSelector : {
               inputEnabled: false,
               enabled : false
           },
           legend : {
               enabled : true,
               align: 'center',
               margin: 1,
               verticalAlign: 'top',
               y: 40
           },
           series : [{
                name: 'db1',
                data: [[1362329987000,66.392],[1362329987000,58.461],[1362333587000,69.202],[1362335387000,57.733],[1362337187000,64.396],[1362337187000,95.374],[1362340786000,70.336],[1362342587000,68.595],[1362342587000,57.584],[1362344386000,70.062],[1362346247000,57.603],[1362347987000,57.104],[1362351586000,58.707],[1362351586000,62.229],[1362353387000,66.306],[1362355186000,71.908],[1362356987000,75.329],[1362358787000,76.908],[1362360586000,78.672],[1362362387000,80.002],[1362366047000,76.953],[1362366047000,76.454],[1362367787000,77.292],[1362369587000,79.394],[1362371386000,79.407],[1362373187000,74.773],[1362376787000,73.813],[1362376787000,74.348],[1362380387000,80.611],[1362380387000,76.722],[1362383986000,74.372],[1362385787000,75.392],[1362385787000,77.195],[1362387587000,75.174],[1362389387000,76.475],[1362391187000,82.395],[1362392987000,73.701],[1362394787000,70.803],[1362396587000,68.749],[1362398387000,67.568],[1362400187000,69.154],[1362402047000,66.909],[1362403786000,76.237],[1362405587000,74.917],[1362407387000,65.742],[1362409187000,61.779],[1362410987000,60.812],[1362412786000,69.091],[1362416447000,64.922],[1362418187000,57.811],[1362418187000,66.428],[1362419986000,59.138],[1362423587000,56.253],[1362425387000,92.792],[1362427187000,78.373],[1362428987000,65.787],[1362430847000,63.182],[1362430847000,64.234],[1362432587000,64.637],[1362436186000,57.338],[1362437987000,59.004],[1362439787000,63.968],[1362439787000,67.604],[1362443387000,72.238],[1362443387000,74.873],[1362445187000,81.961],[1362447047000,82.649],[1362448786000,66.152],[1362452387000,57.261],[1362452387000,57.403],[1362454186000,55.278],[1362455987000,60.189],[1362457787000,63.292],[1362459587000,63.357]]
            },{
                name: 'db2',
                data: [[1362328192000,19.118],[1362329992000,18.965],[1362333592000,19.702],[1362335392000,18.79],[1362335392000,20.061],[1362338992000,23.215],[1362340792000,21.204],[1362340792000,18.421],[1362344391000,17.965],[1362344391000,18.741],[1362347992000,17.357],[1362347992000,18.137],[1362351592000,19.581],[1362353392000,21.412],[1362353392000,21.419],[1362355192000,28.231],[1362356991000,30.765],[1362358792000,32.987],[1362362391000,33.341],[1362362391000,32.515],[1362366052000,32.571],[1362366052000,31.088],[1362367792000,29.784],[1362369591000,29.558],[1362371391000,29.819],[1362374992000,30.587],[1362374992000,29.463],[1362376791000,30.728],[1362378592000,30.446],[1362380392000,30.851],[1362382191000,36.051],[1362383991000,35.441],[1362385792000,33.209],[1362387591000,31.225],[1362389392000,30.339],[1362391192000,34.573],[1362392991000,27.501],[1362394792000,26.62],[1362396592000,26.338],[1362398392000,25.419],[1362400192000,25.533],[1362402052000,21.722],[1362403791000,24.724],[1362405592000,27.066],[1362407392000,26.831],[1362410992000,22.171],[1362410992000,20.194],[1362414591000,18.257],[1362416392000,19.01],[1362418192000,19.03],[1362418192000,19.437],[1362421792000,18.887],[1362421792000,20.634],[1362425391000,23.431],[1362427192000,20.834],[1362428992000,18.702],[1362428992000,18.851],[1362432592000,18.274],[1362434391000,17.454],[1362436192000,18.367],[1362436192000,19.625],[1362437991000,21.239],[1362439792000,21.598],[1362441592000,28.303],[1362443392000,30.406],[1362445191000,32.64],[1362447052000,31.959],[1362450591000,33.007],[1362450591000,31.138],[1362452391000,31.826],[1362454192000,29.662],[1362455991000,28.68],[1362457792000,29.442],[1362459591000,29.61]]
            }]
       });

}); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-10T14:39:59.340

在`StockChart`构造函数中添加：

```
 xAxis: {
           ordinal: false
       }, 
```

我认为由于您有一些具有重复 X 值的数据点，因此如果没有这个，图表绘制就会失败。加载页面时，我注意到 JS 控制台中有一些错误，与“width”或“x”属性为 NaN 相关，可能是因为 delta-X 值在某处用作除数或类似值。

修复：http: [//jsfiddle.net/LULhg/](http://jsfiddle.net/LULhg/)

# javascript - 如何为这个 Javascript 幻灯片添加淡入淡出效果？

> ID：15323217
> 
> 赞同：0
> 
> 时间：2013-03-10T14:19:08.400
> 
> 标签：javascript, slideshow

下面的图像幻灯片脚本按预期工作，因为它循环显示带有可选锚链接和描述的图像数组。

现在我想通过添加淡入/淡出效果来改进这个脚本。任何帮助是极大的赞赏。

先感谢您。

```
<script language="JavaScript1.2">
  var variableslide = new Array()

  variableslide[0] = ['image1.jpg', 'link here', 'description']
  variableslide[1] = ['image2.jpg', 'link here', 'description']
  variableslide[2] = ['image3.jpg', 'link here', 'description']

  var slidewidth = '600px'
  var slideheight = '250px'
  var slidebgcolor = '#FFFFFF'

  var slidedelay = 3000

  var ie = document.all
  var dom = document.getElementById

  for (i = 0; i < variableslide.length; i++) {
    var cacheimage = new Image()
    cacheimage.src = variableslide[i][0]
  }

  var currentslide = 0

  function rotateimages() {
    contentcontainer = '<center>'
    if (variableslide[currentslide][1] != "")
      contentcontainer += '<a href="' + variableslide[currentslide][1] + '">'
    contentcontainer += '<img src="' + variableslide[currentslide][0] + '" border="0" vspace="3">'
    if (variableslide[currentslide][1] != "")
      contentcontainer += '</a>'
    contentcontainer += '</center>'
    if (variableslide[currentslide][2] != "")
      contentcontainer += variableslide[currentslide][2]

    if (document.layers) {
      crossrotateobj.document.write(contentcontainer)
      crossrotateobj.document.close()
    } else if (ie || dom)
      crossrotateobj.innerHTML = contentcontainer
    if (currentslide == variableslide.length - 1) currentslide = 0
    else currentslide++
      setTimeout("rotateimages()", slidedelay)
  }

  if (ie || dom)
    document.write('<div id="slidedom" style="width:' + slidewidth + ';height:' + slideheight + ';     background-color:' + slidebgcolor + '"></div>')

  function start_slider() {
    crossrotateobj = dom ? document.getElementById("slidedom") : ie ? document.all.slidedom : document.slidensmain.document.slidenssub
    if (document.layers)
      document.slidensmain.visibility = "show"
    rotateimages()
  }

  if (ie || dom)
    start_slider()
  else if (document.layers)
    window.onload = start_slider
</script>
<ilayer id="slidensmain" width=&{slidewidth}; height=&{slideheight}; bgColor=&{slidebgcolor}; visibility=hide>
  <layer id="slidenssub" width=&{slidewidth}; left=0 top=0></layer>
</ilayer> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-10T15:11:28.870

可以使用 jQuery 吗？他们已经有 fadeIn 和 fadeOut ，您可以在其中设置各种属性，其中一个是以毫秒为单位的持续时间（以确定它将持续多长时间）。

[http://api.jquery.com/fadeIn/](http://api.jquery.com/fadeIn/)

如果你必须使用纯 JS，那么它会变得有点复杂。您需要与旧版浏览器兼容吗？

最简单的方法是设置间隔，然后将不透明度降低到 0，但并非所有浏览器/版本都支持不透明度。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-10T14:25:55.577

您想要做的是以编程方式降低`opacity`图像 DOM 对象的属性以淡出，同时增加图像的不透明度以淡入。您开始图像以 0 不透明度淡入并向上工作。

我根据您的代码风格为您找到了一个使用没有 jQUery 或其他框架的直接 JavaScript 的示例 - 看看您如何使用[http://tech.pro/tutorial/725/javascript-tutorial-simple-fade-animation](http://tech.pro/tutorial/725/javascript-tutorial-simple-fade-animation)

# compiler-construction - 从 Windows 中的批处理文件调用 Intel 编译器

> ID：15323218
> 
> 赞同：0
> 
> 时间：2013-03-10T14:19:10.617
> 
> 标签：compiler-construction, batch-file, intel, icc

我正在尝试从批处理文件中调用 ICL，但似乎设置环境变量会杀死任何进一步的执行，因此例如我们不会在下面看到“第二行已执行”：

```
echo First line executed
C:\Windows\SysWOW64\cmd.exe /E:ON /V:ON /K ""C:\Program Files (x86)\Intel\Composer XE 2013\bin\ipsxe-comp-vars.bat" intel64 vs2012"
echo Second line executed
icl myCode.c 
```

似乎没有任何关于此的文档；你们中有人成功编写了一个批处理文件来调用icl吗？一个简单的例子会很棒。谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-10T14:26:34.047

为什么要从 CMD 文件中生成的命令 shell 中执行 BAT 文件？

从批处理文件中调用批处理文件的常用方法是使用“调用”，例如“调用 ipsxe-comp-vars.bat intel64 vs2012”。

# html - 渲染图像时，Chrome 中的 CSS 过渡停止或生涩

> ID：15323228
> 
> 赞同：2
> 
> 时间：2013-03-10T14:20:35.070
> 
> 标签：html, google-chrome, mobile, css-transitions, image-gallery

我正在开发一个支持触摸的 html5+css3 图片库。目标设备主要是平板电脑和其他移动设备。图片很大（大约 1000x1500），一个画廊可以有 100 到 200 张图片。画廊基本上是一个旋转木马，用户可以左右滑动以在画廊中移动。它的工作方式是将图像布置在一个 div（名为#ribbon）中，当您向左滑动时，该 div 会向左过渡，从而将下一个图像滑入视图。

```
<div id="carousel">
  <div id="ribbon">
    <div class="slide"><img src=""></div>
    <div class="slide"><img src=""></div> 
```

为了限制带宽消耗和初始加载时间，实际上只将前 10-15 个图像容器插入到 html 中。当您滑动到轮播的中心时，第一个图像容器会跳到轮播的末尾，并在动画结束时加载新的图像。在 Safari 和 iOS 上，这就像黄油一样顺畅。

我知道不要不必要地触摸 DOM，尤其是在 CSS 转换运行时，代码在这方面应该是最佳的。但是，在 Chrome（桌面和 Android）中，每次设置下一个图像 src 时，动画都会出现打嗝。我可以在开发人员工具中看到这一点，显然导致打嗝的事件是图像大小调整和渲染。

为了尝试使动画更流畅，每次拖动事件开始时，所有图像（当前、左、右除外）都设置为白色 gif 像素。当您快速浏览图库时，这也很有帮助，因为它会跳过加载不必要的图像。

有没有办法缓解这个问题？

## jsFiddle 示例

一个简化的例子。不确定这是否足以证明问题，但我尝试计时滑动事件以中断图像解码和渲染。

[http://jsfiddle.net/YevMC/](http://jsfiddle.net/YevMC/)

## 补充说明

*   我尝试通过画布调整图像大小并将图像 src 设置为 canvas.toDataUrl()，但它似乎没有帮助。也许我应该尝试网络工作者？
*   我已经在使用 3D 变换。
*   应用了所有 CSS hack，*translate3d*，*perspective: 1000*（这在 Chrome 中似乎有很大帮助）。
*   *背面可见性：隐藏*会导致不需要的副作用，例如只显示图像的一部分。
*   在 img 元素本身上启用 3D 有助于 chrome，但对 iOS 中的动画性能有不利影响。幸运的是，有一个 window.chrome 对象可以很容易地检测到 chrome。

## 铬时间轴

![Chrome 时间线显示图像绘制大约需要 200 毫秒](../Images/e792f7eb165341c3ae6f85905cefca8c.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-08T13:55:46.667

尝试使用 requestAnimationFrame 而不是 setTimeout

# java - 以编程方式完成下载时始终重定向到不同的 url (Java)

> ID：15323230
> 
> 赞同：1
> 
> 时间：2013-03-10T14:20:44.930
> 
> 标签：java, redirect, download, apache-commons

这是我需要做的。我需要从市场上下载一堆 apk。使用Multi-apk工具分析每个文件是否包含广告并再次压缩（这不是问题，所以我将进一步讨论）

现在，我正在做的部分是从特定市场下载 apk。我获取了页面的源代码并获取了所有以 .APK 结尾的 URL

从页面中提取每个 URL 后，我使用 commons io 下载它。但是，每当下载完成时，我注意到它们的大小都相同。这让我觉得它正在下载相同的文件。

我尝试使用 wget，发现所有 url 都被重定向到一个 url。

当我转到页面并通过单击“下载到 PC”按钮下载相同的文件时，它可以正常工作并下载我想要的文件。

有什么方法可以下载我想要的文件吗？我可以修改代码以获得正确的 APK 吗？这是网络编程的能力之一吗？

这是下载APK的代码

```
private static void downloadSample(String directLink) throws Exception
    {
        String[] getAPKName = directLink.split("/");
        System.out.println(getAPKName[getAPKName.length -1]);
        String APKName = getAPKName[getAPKName.length -1];        
        org.apache.commons.io.FileUtils.copyURLToFile(new URL(directLink), new File("C:\\Users\\Documents\\NetBeansProjects\\JavaApplication21\\APK\\"
+ APKName));

    } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-10T15:02:20.030

> 有什么方法可以下载我想要的文件吗？我可以修改代码以获得正确的 APK 吗？这是网络编程的能力之一吗？

从技术上讲，是的，有一种方法，但我们不能告诉你它是什么。基本上，您已经弄清楚了您的 Java 请求是什么导致服务器的行为与您从浏览器发出请求时不同。使用 FireBug（或等效）查看浏览器请求将是一个好的开始。检查您正在下载的文件（从 Java 下载）以查看其中包含的内容也是值得的。它可能是错误消息或通知或其他东西。

但是，您还应该考虑*为什么要*设置服务器来执行此操作。

*   您是否查看过网站的条款和条件？
*   你的所作所为符合他们吗？
*   你有权做你正在做的事吗？

# c# - C#中的VB默认属性是什么？

> ID：15323232
> 
> 赞同：0
> 
> 时间：2013-03-10T14:21:00.163
> 
> 标签：c#, vb.net

找到一个例子，我不明白它的意思。

[如何使用相同的代码从 DataRow 或 DataReader 读取数据？](https://stackoverflow.com/questions/7666943/how-can-i-read-from-a-datarow-or-a-datareader-using-the-same-code)

我不知道如何转换接口和两个类以响应 C#？

编辑：这是我要转换为 C# 的代码：

```
Interface IIndexer
    Default ReadOnly Property Item(ByVal index As String)
End Interface

Class DataReaderWrapper
Implements IIndexer

Private ReadOnly _reader As IDataReader

Public Sub New(reader As IDataReader)
    _reader = reader
End Sub

Public ReadOnly Property Item(index As String) As Object Implements IIndexer.Item
    Get
        Return _reader(index)
    End Get
End Property
End Class

Class DataRowWrapper
Implements IIndexer

Private ReadOnly _row As DataRow

Public Sub New(row As DataRow)
    _row = row
End Sub

Public ReadOnly Property Item(index As String) As Object Implements IIndexer.Item
    Get
        Return _row(index)
    End Get
End Property
End Class 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-10T14:37:36.790

据我所知，没有等价物。有关[Default](http://msdn.microsoft.com/en-us/library/371ww4fs%28v=vs.110%29.aspx)关键字的更多信息，请参见 MSDN。

您在这里看到的是[Interface 中的 Indexer](http://msdn.microsoft.com/en-us/library/tkyhsw31%28v=vs.110%29.aspx)。

转换后的代码将类似于以下内容：

```
interface IIndexer
{
    object this[string index] { get; }
}

class DataReaderWrapper : IIndexer
{
    private readonly IDataReader _reader;
    public DataReaderWrapper(IDataReader reader)
    {
        _reader = reader;
    }

    public object this[string index]
    {
        get { return _reader[index]; }
    }
}

class DataRowWrapper : IIndexer
{
    private readonly DataRow _row;
    public DataRowWrapper(DataRow row)
    {
        _row = row;
    }

    public object this[string index]
    {
        get { return _row[index]; }
    }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-10T14:26:00.220

像这样的东西会起作用，不清楚“默认属性”是什么意思：

```
var loadedItems = new List<Item>();
SqlDataReader dr = GetItemsDataReader();
while(dr.Read()){
  Item item = GetItemFromData(dr);
  loadedItems.Add(item);
}

private Item GetItemFromData(SqlDataReader dr){
  var loadedItem = new Item();
  loadedItem.ID = dr["ID"];
  loadedItem.Name = dr["Name"];
  'etc., etc.'
  Return loadedItem
} 
```

# vb.net - 制作一组单选按钮 [VB.NET]

> ID：15323235
> 
> 赞同：1
> 
> 时间：2013-03-10T14:21:09.063
> 
> 标签：vb.net

我有两组单选按钮，但它们放在一个组框中，所以我如何在不创建另一个组框的情况下将它们分开，所以如果我从组 1 中选择一个选项，我仍然可以从组 2 中选择选项？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-10T14:29:22.323

如果您不想破坏分组框，请使用 Panels `(System.Windows.Forms.Panel)`。您不会看到边框，但单选按钮将独立工作。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2019-06-14T19:37:05.840

除非分开，否则单选按钮将就好像它们都在一个组中一样。

您可以使用**面板**或**组框来做到这一点**

区别在于**组框**是可见的，而**面板**是不可见的。

[![面板中的单选按钮](../Images/64d0995d05fcd01d585752f14d453537.png)](https://i.stack.imgur.com/jG0Js.png)

^ 此处，下方的 3 个单选按钮位于**面板**中，以将它们与上方的 3 个按钮分开。

# mysql - 在 My SQL oracle 中加入 5 个表

> ID：15323238
> 
> 赞同：0
> 
> 时间：2013-03-10T14:21:16.123
> 
> 标签：mysql, sql

个人：

```
IndividualID (PK)
GroupID*
First name
Surname
Gender
DOB
Emergency contact
Home add
Tel 
```

活动组：

```
ActivityGroupID (PK)
ActivityID*
Individual ID* 
```

活动：

```
Activity ID* (PK)
SessionID* (PK)
Activity description 
```

会议：

```
SessionID (PK)
Activity ID*
Dates
Type (morning/afternoon) Supervisor ID* 
```

活动主管：

```
Supervisor ID (PK)
Name
Mobile number
Comments 
```

这是我当前表的复制和粘贴（我将（PK）作为主键，因为下划线没有通过），问题是：

> “提供单个成员参与的所有活动的完整详细信息的查询，包括每种情况下活动主管的姓名。”

我对 MySQL 相当陌生，任何帮助将不胜感激。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-10T14:48:17.940

> 您需要了解`JOINS`. 我会写一部分`query`。您可以通过自己的一些研究来完成它。

```
SELECT 
     Activity.Activitydescription,
     Sessions.Dates,
     Sessions.Type,
     Activitysupervisor.Name,
     Activitysupervisor.MobileNumber
FROM Activity 
INNER JOIN Sessions ON Sessions.SessionID = Activity.SessionID
INNER JOIN Activitysupervisor ON Activitysupervisor.SupervisorID = Sessions.SupervisorID 
```

> 所以基本上你需要使用`JOINS`. 了解有关不同类型的更多信息`JOINS`并完成`query`.

# android - Android HttpRequest 图片下载

> ID：15323242
> 
> 赞同：0
> 
> 时间：2013-03-10T14:21:54.647
> 
> 标签：android, html, image, load, httprequest

我没有错误，但应用程序。什么都不做。

下载器链接[http://www.helloandroid.com/tutorials/how-download-fileimage-url-your-device](http://www.helloandroid.com/tutorials/how-download-fileimage-url-your-device)

```
package com.androidhive.httprequests;

import java.io.IOException;
import java.net.URL;

import android.util.Log;

import com.androidhive.httprequests.AndroidHTTPRequestsActivity;

public class DownloadFromUrl {

public static void main ()
{
    try {
    AndroidHTTPRequestsActivity hallo = new AndroidHTTPRequestsActivity();
    String imageURL2 = "sample.jpg";
    URL url = new URL("http://api.androidhive.info/images/" + imageURL2);
    String filename2 = String.valueOf(url.hashCode());
    hallo.DownloadFromUrl(imageURL2, filename2);
    } catch (IOException e) {
        Log.d("ImageManager", "Error: " + e);
}
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-03-26T10:44:07.297

基本的下载示例代码应该是这样的：

```
private class DownloadWallpaperTask extends AsyncTask<String, Integer, String> {

    @Override
    protected String doInBackground(String... params) {
        // TODO Auto-generated method stub
        String wallpaperURLStr = params[0];
        String localPath = Integer.toString(wallpaperURLStr.hashCode());
        try {
            URL wallpaperURL = new URL(wallpaperURLStr);
            URLConnection connection = wallpaperURL.openConnection();

            //get file length
            int filesize = connection.getContentLength();
            if(filesize < 0) {
                downloadProgressDialog.setMax(1000000);
            } else {
                downloadProgressDialog.setMax(filesize);
            }

            InputStream inputStream = new BufferedInputStream(wallpaperURL.openStream(), 10240);
            String appName = getResources().getString(R.string.app_name);
            OutputStream outputStream = openFileOutput(localPath, Context.MODE_PRIVATE);
            byte buffer[] = new byte[1024];
            int dataSize;
            int loadedSize = 0;
            while ((dataSize = inputStream.read(buffer)) != -1) {
                loadedSize += dataSize;
                publishProgress(loadedSize);
                outputStream.write(buffer, 0, dataSize);
            }
        } catch (MalformedURLException e) {
            e.printStackTrace();
        } catch (IOException e) {
            // TODO Auto-generated catch block
            e.printStackTrace();
        }

        return localPath;
    }

    protected void onProgressUpdate(Integer... progress) {
        downloadProgressDialog.setProgress(progress[0]);
    }

    protected void onPostExecute(String result) {
        downloadProgressDialog.hide();

        //open preview activity
        Bundle postInfo = new Bundle();
        postInfo.putString("localpath", result);

        if (previewPanelIntent == null) {
            previewPanelIntent = new Intent(MainActivity.this,
                    PreviewPanel.class);
        }

        previewPanelIntent.putExtras(postInfo);
        startActivity(previewPanelIntent);
    }
} 
```

要获取更多信息，我在我的应用程序中使用了一个 android 应用程序源代码：

[Android 下载带进度条的图片](http://jmsliu.com/1902/android-download-image-with-progress-dialog-example.html)

# database - 如何实现自定义的预言机序列？

> ID：15323244
> 
> 赞同：0
> 
> 时间：2013-03-10T14:21:58.200
> 
> 标签：database, oracle, jdbc, oracle10g, oracle11g

oracle 序列旨在返回自动递增的数字。我想知道我是否可以实现一个从我放入的值池中返回的自定义序列，所以我可以告诉序列预期返回什么。

无论如何要实现这个？或替代方案，如添加触发器、oracle 函数或其他任何东西？

甚至使用一个表来保存值，但如何做到最好是性能，比如 oralce 序列

```
I have this, but not sure is it the best one.
create table your_table(
   gap_from int,
   gap_to int
);

insert into your_table values(99999, 9998888);
insert into your_table values(2, 7);
insert into your_table values(200, 10000);
insert into your_table values(10001, 300000);

create table2 as  select
          gap_from,
          1 + nvl(sum(gap_to - gap_from + 1) over (order by gap_from rows between unbounded preceding and 1 preceding), 0) as seq_from,
          sum(gap_to - gap_from + 1) over (order by gap_from) as seq_to
        from your_table;

create sequence your_new_seq;

create or replace function get_PK_inside_gap return number as
  new_seq_val number;
  PK_inside_gap number;
begin
  select your_new_seq.nextval into new_seq_val from dual;
  execute immediate '
    select
      new_seq_val + gap_from - seq_from
    from
      (select :1 as new_seq_val from dual)
      join (
       table2 
      ) on new_seq_val between seq_from and seq_to'
  into PK_inside_gap using new_seq_val;
  return PK_inside_gap;
end; 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-10T16:08:09.387

要仅返回 5 到 10 范围内的值：

```
 create sequence seq1 start with 5 maxvalue 10; 
```

要仅返回 100000 到 999990 之间的值，跳数为 10：

```
 create sequence seq2 start with 100000 maxvalue 999990 increment 10; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-11T07:39:37.923

伙计，我认为这可能会对您有所帮助，通常一旦您创建了序列，就无法从参数开始分配，因此最好删除该序列并重新创建它；

```
create or replace
procedure SEQ_alter(start_with in number,end_with in number,seq_name varchar2)
   as
   sql_qury varchar2(148);
   drop_qury varchar2(148);
   begin
   drop_qury:='drop sequence '||seq_name ;
   execute immediate drop_qury;
   sql_qury:='create sequence '||seq_name|| ' start with '|| to_number(start_with ) ||' maxvalue '|| to_number(end_with);

   execute immediate sql_qury;
   end; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-10T16:09:05.660

您可以创建通常的序列并根据您的间隙列表修改其结果。

```
create table your_table(
   gap_from int,
   gap_to int
);

insert into your_table values(99999, 9998888);
insert into your_table values(2, 7);
insert into your_table values(200, 10000);
insert into your_table values(10001, 300000);

create sequence your_new_seq;

create or replace function get_PK_inside_gap return number as
  new_seq_val number;
  PK_inside_gap number;
begin
  select your_new_seq.nextval into new_seq_val from dual;
  execute immediate '
    select
      new_seq_val + gap_from - seq_from
    from
      (select :1 as new_seq_val from dual)
      join (
        select
          gap_from,
          1 + nvl(sum(gap_to - gap_from + 1) over (order by gap_from rows between unbounded preceding and 1 preceding), 0) as seq_from,
          sum(gap_to - gap_from + 1) over (order by gap_from) as seq_to
        from your_table
      ) on new_seq_val between seq_from and seq_to'
  into PK_inside_gap using new_seq_val;
  return PK_inside_gap;
end; 
```

现在调用`get_PK_inside_gap`以获取您未使用的 PK 序列：2,3,4,5,6,7,200,201,...

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-10T16:00:12.697

使用您想要的条目创建一个表，然后将该表固定在内存中以获得良好的性能。当值被“使用”时，您可以更新它们以设置状态标志。

在来自内存固定表的查询中，查询可以选择未“使用”的最小条目。或者，您可以根据您提到的其他条件进行查询选择，因为您需要这种灵活性。

# c# - 带数据库的 DevExpress 树列表视图

> ID：15323249
> 
> 赞同：0
> 
> 时间：2013-03-10T14:22:15.877
> 
> 标签：c#, treelistview

我目前正在开发一个项目，我有 devexpress 的 treelistview 库存我想要的是我的数据库中有 3 个表，即类别、产品、大小。我希望在我的数据库中使用这样的视图来表示我的库存形式。

*   表示为节点 1 COVERALL(CATEGORY)
*   表示为节点 2 APLAYA(PRODUCT)

    ## > 代表节点 3 SMALL ETC (SIZES)

## | 产品类别 | | |

## * 工作服 | | |

## - 阿普拉亚 | 产品-IN | 出品 | 全部的

## >小号 | 120 | 50 | 70

## >大 | 130 | 40 | 90

## >中 | 140 | 40 | 140

## >超大 | 180 | 30 | 150

这就是为什么我想通过treelistview工具来处理我的应用程序..请帮助我..我真的拒绝它..

非常感谢您

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-10T14:32:44.763

如果您在 WPF 中开发您的应用程序，您可以按照中概述的指南进行操作

[DevExpress 在线文档](http://documentation.devexpress.com/#wpf/CustomDocument9933)

对于winforms，请看[这里](http://documentation.devexpress.com/#WindowsForms/CustomDocument5561)。

# visual-studio-2012 - Visual Studio 中的 LESS 文件未突出显示语法

> ID：15323250
> 
> 赞同：5
> 
> 时间：2013-03-10T14:22:16.603
> 
> 标签：visual-studio-2012, less, web-essentials

我刚刚为 VS2012 安装了 Web Essentials 2012，但是当我打开一个 .less 文件时，没有突出显示任何内容并且不显示预览窗口。是否有任何设置或我缺少的东西来完成这项工作？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-03-11T10:26:02.453

Web Essentials 不再包含 Less 工具，您需要安装[ASP.NET 和 Web Tools 2012.2 更新](http://www.asp.net/vnext/overview/fall-2012-update)才能使用 Less。更多细节可以[在 Web Essential 的开发者博客上找到。](http://madskristensen.net/post/Web-Tools-20122-and-Web-Essentials.aspx)

# perl - 从 2 列文件中查找集群

> ID：15323257
> 
> 赞同：0
> 
> 时间：2013-03-10T14:23:22.310
> 
> 标签：perl

我有以下问题，我有一个文件排序如下：

```
1 2
1 3
2 4
2 5
6 7
6 8
9 1 
```

每个数字代表网络的一个“节点”。左节点与右节点相连，如果它们相连，它们属于同一个“集群”。

我想找到由这些数字和集群组成组成的“集群”的数量，在这种情况下应该给出输出：

```
cluster[1]=(1,2,3,4,5,9)
cluster[2]=(6,7,8) 
```

我认为给每个数字一个标签可能很有用，每次我找到这个数字的邻居或邻居的邻居时，它都会使用相同的标签（这将是集群中的“第 n 个”数字向量`cluster[n]`），如果有一个数字不属于任何过去的集群，那么它需要一个新的标签等......，但我不知道如何在代码中重现这个想法......有什么帮助吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-10T20:42:11.757

如上所述，您应该使用[Graph](http://search.cpan.org/)。您正在寻找无向图的连通分量。

```
#!/usr/bin/env perl

use strict;
use warnings;

use Graph::Undirected;
my $g = Graph::Undirected->new(unionfind => 1);

while (my $line = <DATA>) {
    last unless $line =~ /\A ([0-9]+) \s+ ([0-9]+) \s+ \z/x;
    $g->add_edge($1, $2);
}

my @cc = sort { @$b <=> @$a }
         map { [ sort @$_ ] } $g->connected_components;

printf "[%s]\n", join(', ', @$_) for @cc;

__DATA__
1 2
1 3
2 4
2 5
6 7
6 8
9 1 
```

```
[1、2、3、4、5、9]
[6、7、8]
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-10T20:37:03.307

```
my @node_links = (
    {a => 1, b => 2},
    {a => 1, b => 3},
);

my %clusters;

for my $node_link (@node_links) {
    $clusters{ $node_link->{a} } ||= {};
    $clusters{ $node_link->{a} }->{ $node_link->{$b} } = 1;
    $clusters{ $node_link->{b} } ||= {};
    $clusters{ $node_link->{b} }->{ $node_link->{$a} } = 1;
}

my @clusters;

while (my($node, $node_links) = each %clusters) {
    my %cluster;
    $cluster{$node} = 1;
    delete $clusters{$node};
    build_cluster(\%clusters, \%cluster, $node_links);
    push(@clusters, \%cluster);
}

sub build_cluster {
    my($clusters, $cluster, $node_links) = @_;

    for my $node (keys %$node_links) {
        $cluster->{$node} = 1;
        if ($clusters->{$node}) {
            my $next_node_links = delete $clusters->{$node};
            build_cluster($clusters, $cluster, $next_node_links);
        }
    }
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-12T18:38:36.857

除了此处介绍的解决方案，您还可以使用[Graph::UnionFind](http://search.cpan.org/~jhi/Graph-0.94/lib/Graph/UnionFind.pm)解决此问题。我认为向您指出我最近提出[的一个问题](https://stackoverflow.com/questions/15235301/how-can-i-create-unique-sets-given-a-list-of-pairwise-relationships-with-perl)可能会有所帮助，因为它为同一问题提供了很好的解决方案。

# php - 为php文件创建自定义重写规则

> ID：15323258
> 
> 赞同：0
> 
> 时间：2013-03-10T14:23:32.273
> 
> 标签：php, url-rewriting, seo

我是 SEO 的新手，第一次做，完全不知道怎么做，

```
http://www.XXXXXXXX.com/demo/konkanconnect/realestate/index.php?pages=propertyforsell
to
http://www.XXXXXXXX.com/demo/konkanconnect/realestate/property/sell

and

http://www.XXXXXXXX.com/demo/konkanconnect/realestate/index.php?pages=details&property_id=68
to
http://www.XXXXXXXX.com/demo/konkanconnect/realestate/property/property-name 
```

如何做到这一点，给我一个线索，提前谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-10T14:28:53.540

设置一个`.htaccess`文件并使用`mod_rewrite`：

```
RewriteEngine On
RewriteRule property/sell index.php?pages=propertyforsell [L]
RewriteRule property/(.*) index.php?pages=details&property_name=$1 
```

请注意，在第二条规则中，您不能将`property-name`URL 中的值`property_id`直接转换为 a。您要么必须将它作为另一个参数传递，要么从服务器上的名称中查找它。以下将实现您想要的：

```
RewriteRule property/([0-9]+)/(.*) index.php?pages=details&property_id=$1 
```

该文件应放在您的`demo/konkanconnect/realestate/`目录中。

# c# - 图片框不以表格调整大小为中心

> ID：15323261
> 
> 赞同：0
> 
> 时间：2013-03-10T14:23:46.170
> 
> 标签：c#, .net, winforms, image-processing, designer

我正在处理 C# windows 窗体，但无法重新居中 Picturebox 图像。

我要做的是查看显示器的分辨率并将表单设置为全屏，然后将图片框设置为表单内的全屏。

Windowsstate 在设计器中设置为最大化，FormBorderstyle 在设计器中设置为无。

```
 void Monitorresolution()
    {
        // grabs the resolution of the monitor
        Screen screen = Screen.PrimaryScreen;
        screenWidth = screen.Bounds.Width;
        screenHeight = screen.Bounds.Height;
        //MessageBox.Show("height = " + screenWidth + "/n" + "Width = " + screenHeight);
        // grabs the resolution of the monitor

        // sets the size of the window of Pictureviewer
        this.ClientSize = new Size(screenWidth, screenHeight);
        // sets the size of the window of Pictureviewer

        // sets the size of the picturebox
        pictureBox1.Size = new Size(screenWidth, screenHeight);
        // sets the size of the picturebox

        // sets the size of the image inside picturebox
        pictureBox1.SizeMode = PictureBoxSizeMode.Zoom;
        // sets the size of the image inside picturebox

        // center the image
        pictureBox1.Location = new Point((pictureBox1.Parent.ClientSize.Width / 2) - (pictureBox1.Width / 2), (pictureBox1.Parent.ClientSize.Height / 2) - (pictureBox1.Height / 2));
        // center the image

        // anchors the picturebox
        pictureBox1.Anchor = AnchorStyles.None;

        // MessageBox.Show("WTF");

        pictureBox1.Refresh();       
    } 
```

除非我删除任何消息框语句的注释，否则图像将偏离中心。打开消息框后，图像完美居中。

为什么会发生这种情况，我该怎么做才能解决它。

谢谢安迪

* * *

## 更新

我正在展示更多代码，以便更好地了解我在做什么以及为什么 pictureBox1.Dock = DockStyle.Fill; 在这种情况下对我不起作用。

我对代码进行了一些重新排序，并将调整大小的代码放在了 form_load 代码中。

* * *

```
using System;
using System.Collections.Generic;
using System.ComponentModel;
using System.Data;
using System.Drawing;
using System.Linq;
using System.Text;
using System.Windows.Forms;

namespace Image_Viewer
{
public partial class imageViewer : Form
{
    System.Drawing.Point mouseDown;

    int newWidth = 0;
    int newHeight = 0;
    int newX = 0;
    int newY = 0;

    int screenWidth;
    int screenHeight;

    public imageViewer()
    {
        InitializeComponent();

        var frm2 = new exitform();
        frm2.FormClosed += (o, e) => this.Close();
        frm2.Show();
    }

    private void imageViewer_FormClosed(object sender, FormClosedEventArgs e)
    {

    }

    private void imageViewer_Load(object sender, EventArgs e)
    {
        using (OpenFileDialog dlg = new OpenFileDialog())
        {
            dlg.Title = "Open Image";
            dlg.Filter = "JPG|*.jpg;*.jpeg|PNG|*.png|TIFF|*.tif;*.tiff|BMP|*.bmp|GIF|*.gif|" + "All Graphics Types|*.bmp;*.jpg;*.jpeg;*.png;*.tif;*.tiff";

            if (dlg.ShowDialog() == DialogResult.OK)
            {

                using (var fs = new System.IO.FileStream(dlg.FileName, System.IO.FileMode.Open))
                {
                    var bmp = new Bitmap(fs);
                    pictureBox1.Image = bmp;
                    Invalidate();
                }
            }
        }

        // grabs the resolution of the monitor
        Screen screen = Screen.PrimaryScreen;
        screenWidth = screen.Bounds.Width;
        screenHeight = screen.Bounds.Height;
        // MessageBox.Show("height = " + screenHeight + "\n" + "Width = " + screenWidth);
        // grabs the resolution of the monitor

        // sets the size of the window of Pictureviewer
        this.ClientSize = new Size(screenWidth, screenHeight);
        // sets the size of the window of Pictureviewer

        pictureBox1.Size = new Size(screenWidth, screenHeight);

        pictureBox1.Location = new Point((ClientSize.Width / 2) - (pictureBox1.Width / 2), (ClientSize.Height / 2) - (pictureBox1.Height / 2));

        // MessageBox.Show("When this message box pops, everything seems to work, no idea why though");
    }

    private void pictureBox1_MouseDown(object sender, MouseEventArgs e)
    {
        MouseEventArgs mouse = e as MouseEventArgs;

        if (mouse.Button == MouseButtons.Left)
        {
            mouseDown = mouse.Location;
            pictureBox1.Dock = DockStyle.None;
        }

        else if (mouse.Button == MouseButtons.Right)
        {
            // Do something else, not important in this example
        }
    }

    private void pictureBox1_MouseUp(object sender, MouseEventArgs e)
    {
        MouseEventArgs mouse = e as MouseEventArgs;

        if (mouse.Button == MouseButtons.Left)
        {
            // Pan functions
            Point mousePosNow = mouse.Location;

            int deltaX = mousePosNow.X - mouseDown.X;
            int deltaY = mousePosNow.Y - mouseDown.Y;

            int newX = pictureBox1.Location.X + deltaX;
            int newY = pictureBox1.Location.Y + deltaY;

            pictureBox1.Location = new Point(newX, newY);
        }

        else if (mouse.Button == MouseButtons.Right)
        {
            this.Close();
        }
    }

    private void pictureBox1_MouseMove(object sender, MouseEventArgs e)
    {
        MouseEventArgs mouse = e as MouseEventArgs;

        if (mouse.Button == MouseButtons.Left)
        {
            Point mousePosNow = mouse.Location;

            int deltaX = mousePosNow.X - mouseDown.X;
            int deltaY = mousePosNow.Y - mouseDown.Y;

            int newX = pictureBox1.Location.X + deltaX;
            int newY = pictureBox1.Location.Y + deltaY;

            pictureBox1.Location = new Point(newX, newY);
        }
    }

    protected override void OnMouseWheel(MouseEventArgs e)//zoom function
    {
        if (e.Delta > 0)
        {
            newWidth = pictureBox1.Size.Width + (pictureBox1.Size.Width / 10);
            newHeight = pictureBox1.Size.Height + (pictureBox1.Size.Height / 10);

            newX = pictureBox1.Location.X - ((pictureBox1.Size.Width / 10) / 2);
            newY = pictureBox1.Location.Y - ((pictureBox1.Size.Height / 10) / 2);
        }

        else if (e.Delta < 0)
        {
            newWidth = pictureBox1.Size.Width - (pictureBox1.Size.Width / 10);
            newHeight = pictureBox1.Size.Height - (pictureBox1.Size.Height / 10);
            newX = pictureBox1.Location.X + ((pictureBox1.Size.Width / 10) / 2);
            newY = pictureBox1.Location.Y + ((pictureBox1.Size.Height / 10) / 2);
        }

        pictureBox1.Size = new Size(newWidth, newHeight);
        pictureBox1.Location = new Point(newX, newY);
    }

}
} 
```

* * *

## 表格 2 使用以下代码

```
using System;
using System.Collections.Generic;
using System.ComponentModel;
using System.Data;
using System.Drawing;
using System.Linq;
using System.Text;
using System.Windows.Forms;

namespace Image_Viewer
{
public partial class exitform : Form
{
    private const int CP_NOCLOSE_BUTTON = 0x200;

    public exitform()
    {
        InitializeComponent();
    }

    protected override CreateParams CreateParams
    {
        get
        {
            CreateParams myCp = base.CreateParams;
            myCp.ClassStyle = myCp.ClassStyle | CP_NOCLOSE_BUTTON;
            return myCp;
        }
    }

    private void button1_Click(object sender, EventArgs e)
    {
        this.Close();
    }
}
} 
```

* * *

我只显示表单 2 的代码只是为了显示退出按钮。我将它显示在表单 1 的顶部，并从两者中删除关闭按钮。

AppDeveloper 我确实尝试了您发布的代码，但是在我的情况下它不起作用，我将以较小的形式重试以进行测试。我觉得奇怪的是它出于某种原因在消息框之后起作用。

谢谢安迪

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-10T14:40:08.680

### 您应该`pictureBox1`以`Form`它所在的位置为中心（即父控件/表单）。

我不确定您为什么将图像相对于`PrimaryScreen`

将图片框居中的更好方法是订阅`Form.Resize`事件并动态调整`pixtureBox1`位置。

```
private void Form1_Load(object sender, EventArgs e)
{
    this.Resize += Form1_Resize;
}

private void Form1_Resize(object sender, EventArgs e)
{
    pictureBox1.Left = (this.Width - pictureBox1.Width)/2;
    pictureBox1.Top = (this.Height - pictureBox1.Height)/2;
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-10T14:43:17.040

如我所见，您正在设置图片框的大小=表单的大小。在你的情况下，最好只设置

```
pictureBox1.Dock = DockStyle.Fill; 
```

忘记设置大小/适当调整大小:)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-10T14:50:16.513

我更喜欢 C++ CLI，但下一个示例应该很清楚。

```
 Void MyForm::SetFullScreen(Boolean value)
    {
        if (value == FullScreen)
            return;

        if (value)
        {
            // DO NOT REORDER!!!
            this->LastWindowState = WindowState;                
            this->WindowState = FormWindowState::Normal;
            this->LastWindowBounds = Bounds;
            this->FormBorderStyle = System::Windows::Forms::FormBorderStyle::None;                              
            this->Bounds = Screen::PrimaryScreen->Bounds;
        }
        else
        {
            // DO NOT REORDER!!!
            this->WindowState = LastWindowState;
            this->FormBorderStyle = System::Windows::Forms::FormBorderStyle::Sizable;
            this->Bounds = LastWindowBounds;                    
        }

         Int32 NewX = (pictureBox1.Parent.ClientSize.Width / 2) - (pictureBox1.Width / 2);
         Int32 NewY = (pictureBox1.Parent.ClientSize.Height / 2) - (pictureBox1.Height / 2);
         pictureBox1.Location = new Point(NewX, NewY);
         pictureBox1.Anchor = AnchorStyles.None; 

        // finally save the actual state
        FullScreen = value;
    } 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-11T02:09:56.523

我终于找到了问题所在

我错过了码头风格。如果我将它插入到

```
pictureBox1.Location = new Point((ClientSize.Width / 2) - (pictureBox1.Width / 2), (ClientSize.Height / 2) - (pictureBox1.Height / 2));

pictureBox1.Dock = DockStyle.Top; 
```

它似乎每次都能完美运行。

感谢所有为我看这个的人。

安迪

# c# - unity3d如何进入游戏数字输入

> ID：15323264
> 
> 赞同：0
> 
> 时间：2013-03-10T14:24:03.297
> 
> 标签：c#, unity3d

您好，我想知道如何能够将数据统一输入到文本框中。下图显示了我在说什么

![在此处输入图像描述](../Images/5f4a2a39bf9319f1a3346402e4d1b6e6.png)

在图像中有 3 个数字输入框，我想知道如何统一创建它并从中获取数字数据。

任何帮助表示赞赏

感谢您

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-05T12:17:50.647

如我所见，您已经拥有

```
friction = GUI.TextField(new Rect(10, 10, 200, 20), friction, 10); 
```

为了能够将您的 3 个值相乘，您首先需要将它们转换为 float 或 int

```
float mass = float.parse(friction); 
```

这会将其转换为可用于数学的浮点数

将它们全部转换为浮点数或整数后，如果要显示结果，可以在计算中使用它们，只需使用 toString() 将值转回字符串

# html - html 显示这个框这个单选按钮被选中

> ID：15323265
> 
> 赞同：0
> 
> 时间：2013-03-10T14:24:07.883
> 
> 标签：html

这是我第一次编程并试图解决这个问题。搜索许多放置的答案，但仍然无法得到结果。我正在尝试做的是，如果选择了单选“用户名”，则显示用户名和密码框，如果选择了凭证单选按钮，则显示凭证框。这是代码，现在它将显示所有框。单选按钮不起作用。谢谢。

```
<form action="" method="post">
<input type="radio" name="selectLogin" id="password" value="1" onclick = "choiceType()" checked />Username
<input type="radio" name="selectLogin" id="voucher" value="0" onclick = "choiceType()" />Voucher
</form>

function choiceType() {
if (document.getElementById('password').checked) {
    <div id="login-box-name" style="margin-top:20px;">Username:</div><div id="login-box-field" style="margin-top:20px;"><input name="auth_user" type="text" class="form-login" title="Username" value="" size="30" maxlength="2048" /></div>
    <div id="login-box-name" style="margin-top:20px;">Password:</div><div id="login-box-field" style="margin-top:20px;"><input name="auth_pass" type="password" class="form-login" title="Password" value="" size="30" maxlength="2048" /></div>
    } else {
    <div id="login-box-name" style="margin-top:20px;">Voucher:</div><div id="login-box-field" style="margin-top:20px;"><input name="auth_voucher" type="text" class="form-login" title="Voucher" value="" size="30" maxlength="2048" /></div>
    }
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-10T14:27:56.590

```
 <div id="voucherId" style="margin-top:20px;">Voucher:</div><div id="login-box-field" style="margin-top:20px;"><input name="auth_voucher" type="text" class="form-login" title="Voucher" value="" size="30" maxlength="2048" /></div>

   <div id="userNameId" style="margin-top:20px;">Username:</div><div id="login-box-field" style="margin-top:20px;"><input name="auth_user" type="text" class="form-login" title="Username" value="" size="30" maxlength="2048" /></div>
   <div id="passwordId" style="margin-top:20px;">Password:</div><div id="login-box-field" style="margin-top:20px;"><input name="auth_pass" type="password" class="form-login" title="Password" value="" size="30" maxlength="2048" /></div>

     function choiceType() {
          var inputs = document.getElementsByName("selectLogin");

           for (var i = 0; i < inputs.length; i++) {
                if (inputs[i].checked) {
                    if( inputs[i].value =="1")
                          {
                             document.getElementById("voucherId").style.display = "block";
                             document.getElementById("userNameId").style.display = "none";
                             document.getElementById("passwordId").style.display = "none";

                          }

                           else  ( inputs[i].value =="0")
                          {
                            document.getElementById("voucherId").style.display = "none";
                            document.getElementById("userNameId").style.display = "block";
                             document.getElementById("passwordId").style.display = "block";
                          }

                      }
                    }
 } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-10T14:28:21.983

你必须使用：`document.getElementById('you element id').innerHTML`

```
document.getElementById('you element id').innerHTML='<div id="login-box-name" style="margin-top:20px;">Username:</div><div id="login-box-field" style="margin-top:20px;"><input name="auth_user" type="text" class="form-login" title="Username" value="" size="30" maxlength="2048" /></div><div id="login-box-name" style="margin-top:20px;">Password:</div><div id="login-box-field" style="margin-top:20px;"><input name="auth_pass" type="password" class="form-login" title="Password" value="" size="30" maxlength="2048" /></div>'; 
```

# git - 未找到 git-upload-pack

> ID：15323268
> 
> 赞同：30
> 
> 时间：2013-03-10T14:24:42.897
> 
> 标签：git, github

我正在尝试使用将现有的 github-repository（Windows 版 Git）克隆到一个空文件夹

```
git clone https://github.com/di98jgu/D0016E---Digitalt-projekt.git 
```

但不断收到错误消息：

> 致命：[https](https://github.com/di98jgu/D0016E---Digitalt-projekt.git/info/refs?service=git-upload-pack) ://github.com/di98jgu/D0016E---Digitalt-projekt.git/info/refs?service= git-upload-pack not found：你在服务器上运行了 git update-server-info 吗？

服务器工作正常（其他人正在使用它）。*尝试将git-upload-pack*和*git-receive-pack*的路径添加到*gitconfig*，

```
[remote "origin"] 
url = https://github.com/di98jgu/D0016E--Digital-projekt.git 
fetch = +refs/heads/*:refs/remotes/origin/* 
uploadpack = libexec/git-core/git-upload-pack
receivepack = libexec/git-core/git-receive-pack 
```

但这没有帮助。似乎很多人都遇到了导致类似但不完全相同的错误消息的问题`git-upload-pack command not found`，但不要认为这些解决方案适用于我的情况。

有谁知道如何解决这个问题？

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-04-28T08:45:03.053

我现在才遇到这个问题，是权限问题，请确保你当前账号有and的权限`git pull`，`git push`你的情况可能是你在Github上创建了一个私有仓库，而不是把这个账号添加`Manage Collaborators`为问题来了。

当然，您还应该检查远程 URL 是否完全正确，包括不区分大小写、https 或 http。

* * *

## 回答 #2

> 赞同：10
> 
> 时间：2013-06-07T14:23:17.843

当我在 Github 上重命名我的项目时，这发生在我身上。就我而言，我更改了大小写。修复方法是在您的项目中编辑 .git/config 并确保 github 的远程 URL 反映更新的项目名称。

* * *

## 回答 #3

> 赞同：6
> 
> 时间：2013-09-09T16:15:31.963

删除`s`from`https`解决了我的问题。

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2013-11-16T22:11:51.323

如果存储库是私有的，请检查您的 github 用户 ID 是否被允许访问该存储库。

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2013-08-23T12:24:45.857

如果您更改存储库的所有者，例如在 bitbucket 中，它的 url 将更改 - 尝试推送或拉取您将开始收到此错误。

在这种情况下，您需要在本地配置文件 $WORKDIR/.git/config 中更改远程源 url

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2013-07-31T20:58:26.423

每当我尝试克隆存储库并忘记正确大写 URL 时，我都会收到此错误。

如果您的存储库是`github.com/myrepos/Repo.git`，则需要`git clone https://github.com/myrepos/Repo.git`使用 using `git clone https://github.com/myrepos/repo.git`（“repo”小写）检查它会导致您看到的错误。

* * *

## 回答 #7

> 赞同：1
> 
> 时间：2013-07-26T13:28:00.740

我刚刚得到了同样的错误。我使用 git update-server-info，但没有运气。我将网址复制到浏览器中，它可用。事实证明 git 路径不区分大小写。我在浏览器中查看了github路径，父路径中有些字符是大写的。然后我尝试了页面告诉我的确切路径，砰！它就像一个魅力。

* * *

## 回答 #8

> 赞同：1
> 
> 时间：2014-02-19T17:51:56.343

当我错误地尝试`git clone`一个实际上是一个`Mercurial`回购的回购时，我遇到了这个问题。其他人创建了这个项目，而我以前从未使用过 Mercurial。

感觉像个白痴，但我在 SO 上找不到任何修复它的答案。哎呀！

* * *

## 回答 #9

> 赞同：0
> 
> 时间：2014-10-27T13:30:14.723

我也有同样的信息。

原因：我使用 https 访问 repo，并且更改了我的 github.com 密码。OSX 使用钥匙串中的旧密码。我不得不从钥匙串中删除各种 github.com 条目，以便在我运行 git fetch 时再次提示输入密码。

在此处查看更多信息：[https ://help.github.com/articles/updating-credentials-from-the-osx-keychain/](https://help.github.com/articles/updating-credentials-from-the-osx-keychain/)

* * *

## 回答 #10

> 赞同：0
> 
> 时间：2014-04-09T20:24:05.047

This suddenly started happening to me as well. In .git/config I switched my https version of the repository url to the git@github version. To push/pull successfully I had to create an ssh key following the instructions on github (account settings -> ssh keys).

Everything works great now!

* * *

## 回答 #11

> 赞同：0
> 
> 时间：2014-06-19T11:53:28.923

我们遇到了同样的问题，这是因为 git 通过 .bash_profile 放在 PATH 中，因为 .bash_profile 仅来自交互式会话，它不起作用。

我们通过 .bash.rc 将 git 放入 PATH 中解决了这个问题。

* * *

## 回答 #12

> 赞同：0
> 
> 时间：2013-04-28T08:21:29.120

这很可能是客户端的问题。你还有这个问题吗？也许尝试重新安装git。

据我所知，您正在开发一个 android 应用程序，因此很可能正在使用 Eclipse。git有一个eclipse插件：http: [//www.eclipse.org/egit/](http://www.eclipse.org/egit/)

* * *

## 回答 #13

> 赞同：0
> 
> 时间：2013-10-22T07:22:24.113

您的 URL 中有两个拼写错误：

```
https://github.com/di98jgu/D0016E--Digital-projekt.git 
```

应该：

```
https://github.com/di98jgu/D0016E---Digitalt-projekt.git 
```

查看额外的连字符`-`和`t`之前和之后`Digital`

感谢您提出问题。我无法克隆`gitorious`并继续输入`gitorius`，并且遇到了与您相同的错误。这里的一些答案让我更仔细地查看了 URL，并在网站上查看。

```
https://gitorious.org/gitorious/ce-installer.git 
```

* * *

## 回答 #14

> 赞同：0
> 
> 时间：2013-11-04T02:25:40.437

这是您可以解决此问题的方法。

1.  登录 github
2.  创建一个存储库并将其命名为与您的项目相同的名称
3.  通过执行以下操作再次推送项目：

一个。1\. git远程删除原点 2\. git remote add origin [https://github.com/](https://github.com/) /sample_app.git b. git push -u origin master c. 输入您的用户名 d. 输入您的密码

希望这对你有用

* * *

## 回答 #15

> 赞同：0
> 
> 时间：2013-12-12T22:20:49.063

我删除了 .git 部分，它起作用了！

* * *

## 回答 #16

> 赞同：0
> 
> 时间：2021-02-09T08:04:59.460

就我而言，该项目托管在**Gitlab**中，当我将其移至另一个组时，导致我们的构建管道抛出上述错误。

为了解决此问题，我使用新组的允许成员之一更新了管道中使用的凭据。

* * *

## 回答 #17

> 赞同：0
> 
> 时间：2016-12-31T16:27:40.600

当 git 没有安装在 git repo 正确的远程服务机器上时，我遇到了这个问题。升级服务器软件。

# r - 通过变量编号寻址 aes 中的 x 和 y

> ID：15323269
> 
> 赞同：33
> 
> 时间：2013-03-10T14:24:44.943
> 
> 标签：r, ggplot2

我需要绘制一个散点图，其中通过列号而不是名称来寻址变量，即`ggplot(dat, aes(x=Var1, y=Var2))`我需要类似`ggplot(dat, aes(x=dat[,1], y=dat[,2]))`. （我说“某事”是因为后者不起作用）。

这是我的代码：

```
showplot1<-function(indata, inx, iny){
  dat<-indata
  print(nrow(dat)); # this is just to show that object 'dat' is defined
  p <- ggplot(dat, aes(x=dat[,inx], y=dat[,iny]))
  p + geom_point(size=4, alpha = 0.5)
}

testdata<-data.frame(v1=rnorm(100), v2=rnorm(100), v3=rnorm(100), v4=rnorm(100), v5=rnorm(100))
showplot1(indata=testdata, inx=2, iny=3) 
```

> ```
> # Error in eval(expr, envir, enclos) : object 'dat' not found 
> ```

* * *

## 回答 #1

> 赞同：24
> 
> 时间：2013-03-10T14:53:49.457

你的问题是`aes`不知道你的函数的环境，它只在`global environment`. 因此，`dat`函数中声明的变量对's函数*不可见，**除非您将其显式传递*为：`ggplot2``aes`

 *```
showplot1<-function(indata, inx, iny) {
    dat <- indata
    p <- ggplot(dat, aes(x=dat[,inx], y=dat[,iny]), environment = environment())
    p <- p + geom_point(size=4, alpha = 0.5)
    print(p)
} 
```

注意命令中的`environment = environment()`参数`ggplot()`。它现在应该可以工作了。

* * *

## 回答 #2

> 赞同：15
> 
> 时间：2015-06-03T11:27:24.407

我强烈建议使用`aes_q`而不是将向量传递给`aes`（@Arun 的答案）。它可能看起来有点复杂，但它更灵活，例如更新数据时。

```
showplot1 <- function(indata, inx, iny){
  p <- ggplot(indata, 
              aes_q(x = as.name(names(indata)[inx]), 
                    y = as.name(names(indata)[iny])))
  p + geom_point(size=4, alpha = 0.5)
} 
```

这就是为什么它更可取的原因：

```
# test data (using non-standard names)
testdata<-data.frame(v1=rnorm(100), v2=rnorm(100), v3=rnorm(100), v4=rnorm(100), v5=rnorm(100))
names(testdata) <- c("a-b", "c-d", "e-f", "g-h", "i-j")
testdata2 <- data.frame(v1=rnorm(100), v2=rnorm(100), v3=rnorm(100), v4=rnorm(100), v5=rnorm(100))
names(testdata2) <- c("a-b", "c-d", "e-f", "g-h", "i-j")

# works
showplot1(indata=testdata, inx=2, iny=3)
# this update works in the aes_q version
showplot1(indata=testdata, inx=2, iny=3) %+% testdata2 
```

* * *

**注意：**从*ggplot2 v2.0.0* `aes_q()`开始，已替换`aes_()`为与其他包中 NSE 功能的 SE 版本一致。

* * *

## 回答 #3

> 赞同：13
> 
> 时间：2013-03-10T14:43:05.733

尝试：

```
showplot1 <- function(indata, inx, iny) {
    x <- names(indata)[inx] 
    y <- names(indata)[iny] 
    p <- ggplot(indata, aes_string(x = x, y = y))
    p + geom_point(size=4, alpha = 0.5)
} 
```

编辑以显示正在发生的事情 - aes_string 使用带引号的参数，名称使用您的数字获取它们。

* * *

## 回答 #4

> 赞同：8
> 
> 时间：2018-11-06T09:57:07.313

使用以下新功能对@Shadow 的回答进行了变体`ggplot2 V3.0.0`：

```
showplot <- function(indata, inx, iny){
  nms <- names(indata)
  x <- nms[inx]
  y <- nms[iny]
  p <- ggplot(indata, aes(x = !!ensym(x), y = !!ensym(y)))
  p + geom_point(size=4, alpha = 0.5)
}   

testdata <- data.frame(v1=rnorm(100), v2=rnorm(100), v3=rnorm(100), v4=rnorm(100), v5=rnorm(100))
names(testdata) <- c("a-b", "c-d", "e-f", "g-h", "i-j")
showplot(indata=testdata, inx=2, iny=3) 
```

`ensym`从包含在变量中的字符串创建一个符号（因此我们首先必须在函数的开头创建这些变量），然后`!!`取消引用它，这意味着它将像您提供函数原始名称一样工作。

`!!`仅在旨在支持它的函数的上下文中工作，通常是 tidyverse 函数，否则它只是意味着“不是”（类似于`as.logical`）..

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2019-02-18T20:52:35.167

为了完整起见，我认为使用列名而不是索引更安全，因为数据框中的列位置可能会更改，从而导致意外结果。

下面的`plot_duo`函数（取自[这个答案](https://stackoverflow.com/a/50930640/786542)）可以使用输入作为字符串或裸列名

```
library(rlang)
library(purrr)
library(dplyr)
library(ggplot2)

theme_set(theme_classic(base_size = 14))
set.seed(123456)
testdata <- data.frame(v1 = rnorm(100), v2 = rnorm(100), v3 = rnorm(100), 
                       v4 = rnorm(100), v5 = rnorm(100))

plot_duo <- function(df, plot_var_x, plot_var_y) {

  # check if input is character or bare column name to 
  # use ensym() or enquo() accordingly
  if (is.character(plot_var_x)) {
    print('character column names supplied, use ensym()')
    plot_var_x <- ensym(plot_var_x)
  } else {
    print('bare column names supplied, use enquo()')
    plot_var_x <- enquo(plot_var_x)
  }

  if (is.character(plot_var_y)) {
    plot_var_y <- ensym(plot_var_y)
  } else {
    plot_var_y <- enquo(plot_var_y)
  }

  # unquote the variables using !! (bang bang) so ggplot can evaluate them
  pts_plt <- ggplot(df, aes(x = !! plot_var_x, y = !! plot_var_y)) + 
    geom_point(size = 4, alpha = 0.5)

  return(pts_plt)
} 
```

`plot_duo`使用跨列应用函数`purrr::map()`

```
### use character column names
plot_vars1 <- names(testdata)
plt1 <- plot_vars1 %>% purrr::map(., ~ plot_duo(testdata, .x, "v1"))
#> [1] "character column names supplied, use ensym()"
#> [1] "character column names supplied, use ensym()"
#> [1] "character column names supplied, use ensym()"
#> [1] "character column names supplied, use ensym()"
#> [1] "character column names supplied, use ensym()"

str(plt1, max.level = 1)
#> List of 5
#>  $ :List of 9
#>   ..- attr(*, "class")= chr [1:2] "gg" "ggplot"
#>  $ :List of 9
#>   ..- attr(*, "class")= chr [1:2] "gg" "ggplot"
#>  $ :List of 9
#>   ..- attr(*, "class")= chr [1:2] "gg" "ggplot"
#>  $ :List of 9
#>   ..- attr(*, "class")= chr [1:2] "gg" "ggplot"
#>  $ :List of 9
#>   ..- attr(*, "class")= chr [1:2] "gg" "ggplot"

# test plot
plt1[[3]] 
```

![](../Images/e311b271ea63ae4e2d1df611aa258c48.png)

```
### use bare column names
# Ref: https://stackoverflow.com/a/49834499/
plot_vars2 <- rlang::exprs(v2, v3, v4)
plt2 <- plot_vars2 %>% purrr::map(., ~ plot_duo(testdata, .x, rlang::expr(v1)))
#> [1] "bare column names supplied, use enquo()"
#> [1] "bare column names supplied, use enquo()"
#> [1] "bare column names supplied, use enquo()"

str(plt2, max.level = 1)
#> List of 3
#>  $ :List of 9
#>   ..- attr(*, "class")= chr [1:2] "gg" "ggplot"
#>  $ :List of 9
#>   ..- attr(*, "class")= chr [1:2] "gg" "ggplot"
#>  $ :List of 9
#>   ..- attr(*, "class")= chr [1:2] "gg" "ggplot"

plt1[[2]] 
```

![](../Images/8cc616fd1d2b70056141f75cd53d4409.png)

^(由[reprex 包](https://reprex.tidyverse.org)于 2019-02-18 创建(v0.2.1.9000))

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2021-09-22T14:38:48.143

和方法现在已被软弃用`aes_()`。`aes_quote()`与准引用一致的一种简单方法是通过调用列名`.data[[col_name]]`。您可以根据位置轻松提取这些。例如：

```
library(ggplot2)
library(dplyr)

showplot1<-function(indata, inx, iny){
  dat<-indata
  col_names <- names(indata)
  col_name_x <- col_names[[inx]]
  col_name_y <- col_names[[iny]]

  print(nrow(dat)); # this is just to show that object 'dat' is defined
  p <- ggplot(dat, aes(x=.data[[col_name_x]], y=.data[[col_name_y]]))
  p + geom_point(size=4, alpha = 0.5)
}

testdata<-data.frame(v1=rnorm(100), v2=rnorm(100), v3=rnorm(100), v4=rnorm(100), v5=rnorm(100))
showplot1(indata=testdata, inx=2, iny=3)
#> [1] 100 
```

![](../Images/c4ae32e7e944789bf5f896bf10320ce8.png)

^(由[reprex 包](https://reprex.tidyverse.org)于 2021-09-22 创建 (v2.0.0 ))

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2013-03-10T14:44:32.420

我暂时找到的临时解决方案：

```
showplot1<-function(indata, inx, iny){
  dat<-data.frame(myX=indata[,inx], myY=indata[,iny])
  print(nrow(dat)); # this is just to show that object 'dat' is defined
  p <- ggplot(dat, aes(x=myX, y=myY))
  p + geom_point(size=4, alpha = 0.5)
} 
```

但我不太喜欢它，因为在我的真实代码中，我需要其他列`indata`，在这里我必须在`dat<-`...中明确定义所有这些列*

# php - Can't figure out why insert into db does not work?

> ID：15323282
> 
> 赞同：1
> 
> 时间：2013-03-10T14:26:17.933
> 
> 标签：php, class, methods, insert

I have a query method like this:

```
class classOne {
  // Relevant variables
  protected $db, $result;

  public function query ($sql) {
    $this->result = $this->db->query($sql);
    // So, run mysql query provided by the argument
  }
} 
```

Then an insert method like this:

```
class classTwo extends classOne {
  public function insertStuff ($id, $text) {
    $this->query("INSERT INTO Tablename (id, text, time) VALUES ($id, $text, NOW())");
  }
} 
```

Then I instantiate the class `$c = new classTwo;` and call the method(both are in a different php file, but in the same folder as the class files) `$c->insertStuff(1, "This is a test");`.

I get no erros, the table doesn't get any fields, not even empty ones. However using the method directly with hardcoded values like:

```
public function insertStuff ($id, $text) {
    $this->query("INSERT INTO Tablename (id, text, time) VALUES (1, "Some text", NOW())");
 } 
```

It will work. Then I tried to replace the hardcoded values 1 by one with the argument to see when it stops working, it accepts the `NOW()` field and successfully inserts a new row, but as soon as I use `$text` which references to my method call in the other file, it stops, doesn't add anything.

All the required files are required and it should throw an error if some werent. I'm confused.

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-10T14:30:56.653

You need to add ' before and after strings in the query

**fix code:**

```
$this->query("INSERT INTO Tablename (id, text, time) VALUES ($id, '$text', NOW())"); 
```

# ajax - 是否有可以通过添加/删除组件来处理基于 Ajax 的分页的 JSF2 组件？

> ID：15323294
> 
> 赞同：2
> 
> 时间：2013-03-10T14:27:31.827
> 
> 标签：ajax, jsf-2, mojarra

用例如下：我想每次点击渲染 10 行新行，但不渲染之前的行。所以理论上，我希望它有一个组件，它总是呈现一个额外的面板组，它引用我接下来的 10 行（它们是空的）。当用户单击时，我希望只重新渲染这个面板组而不使用它的 ID，并在底部添加一个带有该 ID 的新空面板。

是否有一个开箱即用的 JSF 标签可以处理这个问题，或者我应该直接进入自定义标签/渲染器？

根据我的测试，UI:repeat 将始终循环遍历整个列表，我无法在标签内进行部分更新（渲染）。据我所知，它不支持标签内的部分渲染。

我不想添加更多的框架，比如 Rich/Primefaces/tomahawk。

我正在使用最新的 Mojarra。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-11T12:48:02.393

我不知道 JSF 中有任何开箱即用的组件能够完成您的任务，但我可以想到一个可能的解决方法。

本质上，您可以有一个带有预定义的空占位符，`id`通过 AJAX 调用填充它，`<h:commandButton>`然后当 HTML DOM 更新时，通过 javascript 移动内容。注意：当您为 JSF 组件分配 id 时，请注意不要将这种方法与[命名容器](http://docs.oracle.com/javaee/6/api/javax/faces/component/UINamingContainer.html)一起使用，例如`<h:dataTable>`或`<ui:repeat>`，因为它们控制其子组件的标识符。最后，它只留下了元素中定义的样式类。基本示例如下。

**观点**：

```
<h:form id="form">
    <h:panelGroup id="basic">
        <ul class="basic-list">
            <ui:repeat var="data" value="#{bean.basicList}">
                <li class="data-class">#{data.value}</li>
            <ui:repeat>
        </ul>
    <h:panelGroup>
    <h:panelGroup id="additional">
        <ul class="additional-list">
            <ui:repeat var="data" value="#{bean.additionalList}">
                <li class="data-class">#{data.value}</li>
            <ui:repeat>
        </ul>
    <h:panelGroup>
    <h:commandButton value="Load 10 more rows">
        <f:ajax render="additional" onevent="replaceData" listener="#{bean.loadAdditionalData}"/>
    </h:commandButton>
</h:form> 
```

**豆子**：

```
@ManagedBean
@ViewScoped
public class Bean implements Serializable {

    private List<Data> basicList;//getter+setter
    private List<Data> additionalList;//getter+setter

    @PostConstruct
    public void init() {
        basicList = new ArrayList<Data>();//populate first rows of data from somewhere
    }

    public void loadAdditionalData(AjaxBehaviorEvent event) {
        additionalList = new ArrayList<Data>();//populate additional rows of data from somewhere
        basicList.addAll(additionalList);//just for a possible postback
    }

} 
```

**的JavaScript**：

```
function replaceData(data) {
    if(data.status == 'success') {
        var toAppend = $('#additional-list').html();
        $('#basic-list').append(toAppend);
    }
} 
```

# css - tumblr 档案中的图像布局

> ID：15323297
> 
> 赞同：0
> 
> 时间：2013-03-10T14:27:38.317
> 
> 标签：css, image, tumblr

我想重现图像在 tumblr 存档中的显示方式（[示例](http://jeffreysimmons.tumblr.com/archive)）。

更明确地说，例如，我有 10 张图像，我想将它们全部显示为矩形中的缩略图；图像必须相互交错。
我想知道使用哪种算法来计算每个缩略图的大小和位置。

有谁知道该怎么做？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-10T16:57:14.427

我有一个网站在[这里](http://computing.bournemouth.ac.uk/i7747061/assignment2/gallery.html)所以认为这个画廊是你所希望的那种东西。您需要做的第一件事是使图像尺寸正确。为此，我使用 photohshop，但任何图像编辑器都可以。创建一个所有图像都适合的文档。以您想要的方式布置图像并相应地调整它们的大小。使用 PhotoShops 标尺工具确保每个图像之间的间隙相同。

完成后，将每个图像保存为该大小。它们现在彼此成比例。CSS 很简单，我通常用百分比来表示，但像素也可以正常工作。如果您有 10 张图像，那么您可能希望在每张图像之间留出 1% 的边距，即 9%，剩下 91% 的空间用于在每张图像之间分割，将宽度设置为 9.1%，这是您的第一行。一个更好的例子是我在上面链接的网站中使用的 CSS 和 html：

[HTML 和 CSS](http://jsfiddle.net/wNDeV/)

```
<section id="gallery">
        <div id="line_1">
            <div id="image_1">
                <a href="images/gallery_1.jpg" class="lightbox"><img style="width: 100%;" src="images/thumbnail_1.jpg" alt="Beach and yacht in the sun" /></a>
            </div>
            <div id="image_2">
                <a href="images/gallery_5.jpg" class="lightbox"><img style="width: 100%;" src="images/thumbnail_2.jpg" alt="Cove - looking out to see" /></a>
            </div>
        </div>
        <div style="clear:both;">
        </div>
        <div id="line_2">
            <div id="image_3">
                <a href="images/gallery_4.jpg" class="lightbox"><img style="width: 100%;" src="images/thumbnail_3.jpg" alt="Blue skies, looking through  stair hole" /></a>
            </div>
            <div id="line_2_2">
                <div id="image_4">
                    <a href="images/gallery_2.jpg" class="lightbox"><img style="width: 100%;" src="images/thumbnail_4.jpg" alt="beach and yacht at night" /></a>
                </div>
                <div style="clear:both;">
                </div>
                <div id="line_2_3">
                    <div id="image_5">
                        <a href="images/gallery_6.jpg" class="lightbox"><img style="width: 100%;" src="images/thumbnail_5.jpg" alt="hills in the summer" /></a>
                    </div>
                    <div id="image_6">
                        <a href="images/gallery_3.jpg" class="lightbox"><img style="width: 100%;" src="images/thumbnail_6.jpg" alt="Blue skies, looking through  stair hole different angle 2" /></a>
                    </div>
                    <div style="clear:both;">
                    </div>
                </div>
            </div>
        </div>
        <div style="clear:both;">
        </div>
        <div id="line_3">
            <div id="image_7">
                <a href="images/attractions_3.jpg" class="lightbox"><img style="width: 100%;" src="images/thumbnail_7.jpg" alt="Blue skies, looking through  stair hole different angle 3" /></a>
            </div>
            <div id="image_8">
                <a href="images/about_3.jpg" class="lightbox"><img style="width: 100%;" src="images/thumbnail_8.jpg" alt="hills in the summer with person looking over village" /></a>
            </div>
        </div>
        <div style="clear:both;">
        </div>
        <div id="line_4">
            <div id="image_9">
                <a href="images/about_1.jpg" class="lightbox"><img style="width: 100%;" src="images/thumbnail_9.jpg" alt="little town in summer" /></a>
            </div>
            <div id="image_10">
                <a href="images/attractions_2.jpg" class="lightbox"><img style="width: 100%;" src="images/thumbnail_10.jpg" alt="Looking at the castle from a distance" /></a>
            </div>
            <div id="image_11">
                <a href="images/about_2.jpg" class="lightbox"><img style="width: 100%;" src="images/thumbnail_11.jpg" alt="very old photo of church with red door" /></a>
            </div>
        </div>
        <div style="clear:both;">
        </div>
    </section> 
```

# c++ - 使用 boost 传递函数指针参数

> ID：15323299
> 
> 赞同：2
> 
> 时间：2013-03-10T14:28:02.997
> 
> 标签：c++, boost, boost-bind, boost-function

可以使用 boost::function 和/或 boost::bind 来简化/改进以下函数指针传递吗？

```
void PassPtr(int (*pt2Func)(float, std::string, std::string))
{
   int result = (*pt2Func)(12, "a", "b"); // call using function pointer
   cout << result << endl;
}

// execute example code
void Pass_A_Function_Pointer()
{
   PassPtr(&DoIt);
} 
```

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-03-10T14:33:26.540

您可以`boost::function<>`使用不同类型的可调用对象作为函数的输入。

下面是一个使用 C++11 的例子（见这个例子后面的备注）。这就是你将如何重写你的函数：

```
#include <functional>
#include <string>
#include <iostream>

void PassFxn(std::function<int(float, std::string, std::string)> func)
//           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
{
   int result = func(12, "a", "b"); // call using function object
   std::cout << result << std::endl;
} 
```

以下是几个测试它的函数：

```
int DoIt(float f, std::string s1, std::string s2)
{
    std::cout << f << ", " << s1 << ", " << s2 << std::endl;
    return 0;
}

int DoItWithFourArgs(float f, std::string s1, std::string s2, bool b)
{
    std::cout << f << ", " << s1 << ", " << s2 << ", " << b << std::endl;
    return 0;
}

struct X
{
    int MemberDoIt(float f, std::string s1, std::string s2)
    {
        std::cout << "Member: " << f << ", " << s1 << ", " << s2 << std::endl;
        return 0;
    }

    static int StaticMemberDoIt(float f, std::string s1, std::string s2)
    {
        std::cout << "Static: " << f << ", " << s1 << ", " << s2 << std::endl;
        return 0;
    }
}; 
```

这是测试例程：

```
int main()
{
    PassFxn(DoIt); // Pass a function pointer...

    // But we're not limited to function pointers with std::function<>...

    auto lambda = [] (float, std::string, std::string) -> int
    {
        std::cout << "Hiho!" << std::endl;
        return 42;
    };

    PassFxn(lambda); // Pass a lambda...

    using namespace std::placeholders;
    PassFxn(std::bind(DoItWithFourArgs, _1, _2, _3, true)); // Pass bound fxn

    X x;
    PassFxn(std::bind(&X::MemberDoIt, x, _1, _2, _3)); // Use a member function!

    // Or, if you have a *static* member function...
    PassFxn(&X::StaticMemberDoIt);

    // ...and you can basically pass any callable object!
} 
```

这是一个[活生生的例子](http://liveworkspace.org/code/4sAas7$81)。

**备注**：

如果您正在使用 C++03，您可以轻松地转换`std::function<>`成`boost::function<>`和`std::bind<>`转换成（事实上，Boost.Function 是受启发的，后来成为标准 C++ 库的一部分）。在这种情况下，您必须包含and标头，而不是包含标头（仅当您想使用时才包含标头）。`boost::bind<>``std::function<>``<functional>``boost/function.hpp``boost/bind.hpp``boost::bind`

另一个例子应该让你感受到`std::function<>`/`boost::function<>`通过它封装任何类型的可调用对象的能力给你带来的力量，另请参阅[StackOverflow 上的这个问答](https://stackoverflow.com/questions/15322058/is-there-a-use-case-for-stdfunction-that-is-not-covered-by-function-pointers)。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-03-10T14:36:07.680

我假设您想改进 的功能`PassPtr`，而不是您提供的所有示例代码。如果您使用 C++11 并且可以使用 lambda 表达式，我会将其简化为：

```
template <typename Func>
void PassPtr(Func f) {
  std::cout << f(12, "a", "b") << std::endl;
} 
```

这将允许任何可调用对象作为`f`. 通过推导模板类型获取函数的原因是允许内联传递的任何 lambda。当然，这不会对传递的函数强制执行任何特定签名（或者它甚至应该是可调用对象）。例如，如果你传递一个`int`，你会得到一些令人困惑的编译器错误。

使用 的替代方法`[boost|std]::function`是这样做：

```
void PassPtr(std::function<int(float, std::string, std::string)> f) {
  std::cout << f(12, "a", "b") << std::endl;
} 
```

这将允许传递任何类型的可调用对象，就像上面一样，但可能不会导致 lambda 被内联。

# google-maps - 使用数学（墨卡托）在静态谷歌地图上覆盖 lat/lng gps 坐标

> ID：15323300
> 
> 赞同：0
> 
> 时间：2013-03-10T14:28:13.563
> 
> 标签：google-maps, maps, geospatial, mercator

（不使用投影库）我知道地图的中心点，(-37.500,175.500).zoom (13) 大小。400x400px，这是一个墨卡托投影（标准谷歌地图）。它用作 400x400 像素画布上的背景图像。我如何计算出这张地图的界限。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-19T04:21:42.513

假设您使用中心坐标订购地图，
Zoom = 13 //google maps zoom level (1-18etc) screenwidth
=400(pixels) //地图宽度
Latctr = -37.450 //地图中间纬度
Longctr = 170.250 //地图中间的经度
1/ Lengthlat = 111111 // 1 度纬度的长度以米为单位
2/ Lengthlong = cos lengthlat * 111111 // 1 度经度的长度
3/ Ratiolengths == lengthlat/lengthlong
4/ LongitudeValueAdjust = ((lengthlat/(2^zoom)/(screenwidth*2)* RatioLengths
5/ LatitudeValueAdjust = (lengthlat/(2^zoom)/(screenwidth*2)
6/ Northwestlat = latctr + latitudeValueAdjust
7/ Northwestlong = longctr -longValueAdjust
8/ Southeastlat = latctr - LatValueAdjust
9/ Southeastlong = longctr + longValueAdjust
现在你知道地图角落的坐标了

```
Plotting lat lng to canvas/screen x,y  
//This is not a mercator projection, works fine for zooms > 9
Assumes 0,0 is the top left hand corner of the canvas  
lattodraw // Latitude value of the coordinate we wish to convert  
longtodraw // Longitude value of the coordinate we wish to convert  
1/Latplot = canavsheight /(southeastlat-northwestlat) * lattodraw-northwestlat  
2/Longplot = canvaswidth /(southeastlong-northwestlong) * longtodraw-northwestlong  
3/Draw pixel at latplot,longplot 
```

# java - Java 同步不起作用

> ID：15323312
> 
> 赞同：1
> 
> 时间：2013-03-10T14:29:16.447
> 
> 标签：java, synchronization

我正在尝试制作一个小程序来演示同步，但无论出于何种原因，它都没有达到我的期望。关键是要创建 1000 个线程，并让它们都将 1 加到静态整数对象“sum”上。输出应该是 1000，但我得到不同的输出。这就像 addSum() 方法根本不同步。我试过延迟 println，认为它打印 sum 太快了，但这不是问题。我在这里想念什么？

```
public class sumsync implements Runnable {
public static Integer sum = new Integer(0);
public sumsync(){
}

private synchronized void addSum(int i){
    sum += i;
}

@Override
public void run() {
    addSum(1);
}
} 
```

主类：

```
public class sumsyncinit {

private static final int max_threads = 1000;

public static void main(String[] args) {

sumsync task = new sumsync();
Thread thread;

    for(int i=0; i<max_threads;i++){
        thread = new Thread(task);
        thread.start();
    }
    System.out.println(sumsync.sum);
}

} 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-10T14:33:47.503

您不是在等待线程完成，因此您无法保证所有增量都已执行。您基本上只是保证`addSum`方法中一次只有一个线程。您可能想使用[Futures](http://docs.oracle.com/javase/6/docs/api/java/util/concurrent/Future.html)来等待结果。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-10T14:38:07.950

使用`ThreadPoolExecutor`（[http://docs.oracle.com/javase/6/docs/api/java/util/concurrent/ThreadPoolExecutor.html](http://docs.oracle.com/javase/6/docs/api/java/util/concurrent/ThreadPoolExecutor.html)）首先有一些池，而不是每次都创建一个新线程，其次, 调用它的`awaitTermination`方法，以便在打印结果之前等待所有线程终止。

**实际上，在您的情况下，您还没有设置一种机制来阻止在所有线程完成其变量增量之后发生打印执行。因此，打印结果可能是随机的。** `awaitTermination`充当`join()`所有线程并实现此要求。

此外，在这种情况下，制作变量`volatile`将是无用且不安全的。

实际上，`synchronized`关键字已经充当了内存屏障**和原子性**，而 volatile 仅确保了内存屏障。

此外，当一个人想要创建一个变量时，请记住以下规则`volatile`：

> 您只能在有限的一组情况下使用 volatile 变量而不是锁。volatile 变量必须满足以下两个条件才能提供所需的线程安全：
> 对变量的写入不依赖于其当前值。
> 该变量不参与其他变量的不变量。

* * *

## 回答 #3

> 赞同：-2
> 
> 时间：2013-03-10T14:39:37.383

你也可以制作`sum`一个`AtomicInteger`.

然后`addSum()`会如下图。

```
public static AtomicInteger sum = new AtomicInteger(0);

private void addSum(int i){
    sum.addAndGet(i);
} 
```

**更新：**上述解决方案仅用于解决竞争条件。在斯蒂芬在下面发表评论之后，我发布了完整的解决方案，以便主线程在打印最终值之前等待其他线程完成。

```
import java.util.concurrent.CountDownLatch;
import java.util.concurrent.atomic.AtomicInteger;

public class sumsync implements Runnable {
public static AtomicInteger sum = new AtomicInteger(0);
private CountDownLatch latch;
public sumsync(CountDownLatch latch){

  this.latch = latch;
}

private synchronized void addSum(int i){
    sum.addAndGet(i);
}

@Override
public void run() {
    addSum(1);
    latch.countDown();
}
}

import java.util.concurrent.CountDownLatch;

public class sumsyncinit {

private static final int max_threads = 1000;

public static void main(String[] args) {

CountDownLatch latch = new CountDownLatch(max_threads);

sumsync task = new sumsync(latch);
Thread thread;

    for(int i=0; i<max_threads;i++){
        thread = new Thread(task);
        thread.start();
    }
    try {
      latch.await();
    } catch (InterruptedException e) {
      e.printStackTrace();
    }
    System.out.println(sumsync.sum);
}

} 
```

# iphone - 生产环境中的服务器信任问题

> ID：15323319
> 
> 赞同：0
> 
> 时间：2013-03-10T14:30:10.793
> 
> 标签：iphone, cocoa-touch, https, nsurlconnection

我们正在测试我们的应用程序是否正在生产中，今天我们遇到了一个问题“此服务器的证书无效。您可能正在连接到伪装成“server.name”的服务器，这可能会使您的机密信息面临风险。

我们正在使用通过 https 的连接，并且 SSL 证书也有效。

这种情况只发生几次，并不总是可重现。

从客户端请求时`NSURLAuthenticationMethodServerTrust`，`canAuthenticateAgainstProtectionSpace:`返回 NO。

然后登录如下错误

```
 - (void)connection:(NSURLConnection *)connection
      didFailWithError:(NSError *)error
{
    NSLog(@"Connection failed! Error - %@ %@",
           [error localizedDescription],
           [[error userInfo] objectForKey:NSURLErrorFailingURLStringErrorKey]);
} 
```

记录的错误是：

```
Connection failed! Error - The certificate for this server is invalid. You might be connecting to a server that is pretending to be “server.name” which could put your confidential information at risk. 
```

服务器证书由 COMODO High-Assurance Secure Server CA 颁发。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-10T14:35:48.213

可能的原因：

*   证书并不完全有效
    *   时间已到，或本地时钟错误
    *   您正在以使主机无效、子网未被证书覆盖等方式访问
*   您正在使用重写代理，即 Charles，因此当前证书不是您的服务器证书。
*   服务器未正确出售证书。
*   其他软件错误！

# javascript - 单击javascript更改背景图像

> ID：15323323
> 
> 赞同：-1
> 
> 时间：2013-03-10T14:30:50.860
> 
> 标签：javascript, css, html

你好我有一些javascript的问题。我有一个 div 来布局一个做某事的按钮（在我的追逐中，它会将数字 1 插入一个框中），并且我想在单击时更改按钮的背景：

```
<div id="nr1"><INPUT TYPE="button" NAME="one"   OnClick="this.style = 'background-image:URL(images/totalback.gif);'; Calc.Input.value += '1'" style="width:45px; height:30px; background-color:transparent;  border-style: none; border-width: 0px 0px 0px 0px"></div> 
```

这是代码，但它忽略了我的背景图像更改。谁能帮我？简短信息：我对 javascript 知之甚少。

还是非常感谢。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-10T14:44:13.557

使用 javascript 时，您可以这样做：

```
this.style.backgroundImage="url()"; 
```

请注意，javascript 稍微改变了语法，而不是使用 backgroundImage 的背景图像。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-10T14:40:34.327

你为什么不只使用 jquery 像这样简单

```
<script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
<script>
   $(document).ready(function(){
      $('#nr1 input').on("click", function(){
         $(this).css({'background' : 'red'});
      });
   });
</script> 
```

[http://api.jquery.com/css/](http://api.jquery.com/css/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-11-22T06:36:36.353

我希望你可以在 css 中使用这样的东西：

```
#your_btn_id{
    width:200px;
    height:50px;
    background-image: url('../images/inactive.png');
} 
```

单击时更改背景图像：

```
#your_btn_id:active{
    background-image: url('../images/active.png');
} 
```

希望它会起作用，而且它使用起来非常简单。

# asp.net-mvc - 如何使用 Ajax 更新这个 div？

> ID：15323324
> 
> 赞同：0
> 
> 时间：2013-03-10T14:30:52.157
> 
> 标签：asp.net-mvc, razor, asp.net-mvc-4

这是我的剃刀观点。要点是当我更改下拉值时，更新`question-editor`div。如您所见，我正在调用一个`EditorFor`.

```
@model Contoso.MvcApplication.Models.Question.CreateQuestionViewModel

@{
    ViewBag.Title = "Create Open Question";
}

<h3>Create Question</h3>

<select id="question-type-dropdown" style="margin-bottom: 20px;">
    <option value="MC">Multiple Choice</option>
    <option value="O">Open Question</option>
</select>

@using (Html.BeginForm()) {
    @Html.ValidationSummary(true)

    <fieldset>
        @Html.HiddenFor(model => model.QuestionSetId)
        <legend>Question Template</legend>

        <div id="question-editor">
            @Html.EditorFor(model => model.Template, "_QuestionEditorBoxPartial")
        </div>

        <p>
            <input type="submit" value="Save" />
        </p>
    </fieldset>
} 
```

这是部分视图，只包含一个 EditorModelFor 来选择它应该使用哪个视图模板。

**_QuestionEditorBox（部分视图）**

 **```
@model Contoso.Core.Base.QuestionTemplate
@Html.EditorForModel(Contoso.Core.QuestionRepositoryManager.GetQuestionTemplateView(Model))
public abstract class Question
{
   public int Id {get;set;}
   public string QuestionText { get; set; }
}

public OpenQuestion : Question { ... }
public MultipleChoiceQuestion : Question { ... }

public class CreateQuestionViewModel
{
    public int QuestionSetId { get; set; }
    public QuestionTemplate Template { get; set; }
} 
```

但是当我这样做时，它不会显示任何内容，因为我正在使用相同的模型执行两次 EditorFor。我尝试用 a 更改第一个 EditorFor `PartialView`，但这不起作用，因为我需要模型绑定器捕获我的模型。

**编辑（AJAX 方法）：**

```
$("#question-type-dropdown").change(function () {
    $.get("/Question/UpdateQuestionEditorBox", { questionType: $(this).val() },
        function (data) {
            $("#question-editor").html(data);
        });
}); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-10T16:14:53.170

一种可能性是使用部分（不是编辑器模板）：

```
<div id="question-editor">
    @Html.Partial("_QuestionEditorBox.cshtml", Model.Template)
</div> 
```

然后在你的局部：

```
@model Contoso.Core.Base.QuestionTemplate
@{
    ViewData.TemplateInfo.HtmlFieldPrefix = "Template";
}
@Html.EditorForModel(Contoso.Core.QuestionRepositoryManager.GetQuestionTemplateView(Model)) 
```

请注意我是如何设置的`HtmlFieldPrefix`，以便将导航上下文保留到部分中，从而为相应编辑器模板中的输入字段生成正确的名称。

您还提到`question-editor`在下拉选择更改时使用 AJAX 调用更新 div，但您没有显示任何 AJAX 代码来执行此操作。我猜你在某处订阅了下拉列表的 .change 事件并触发了 AJAX 调用。**

# javascript - 如何使用静态数据预填充 AutoModelSelect2Field？（django-select2 库）

> ID：15323326
> 
> 赞同：4
> 
> 时间：2013-03-10T14:31:12.377
> 
> 标签：javascript, ajax, django, json, jquery-select2

我有一个如下字段：

```
class ContactSelect(AutoModelSelect2Field):
    queryset = Contact.objects.all()
    search_fields = ['name__contains']
    to_field = 'name'
    widget = AutoHeavySelect2Widget 
```

它工作正常，但只有在我输入 2 个字母后才开始加载，而我希望它在 html 中包含最相关的选择，并在用户仅输入 1 个字母时搜索它们。那么你会推荐什么方法呢？是否可以使用[django-select2](https://github.com/applegrew/django-select2)（显然是[select2](https://ivaynberg.github.com/select2/)本身）来做到这一点，或者我会为此编写自己的 JS 函数？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-06-09T10:42:36.193

可能的解决方案是允许空搜索，因此即使搜索字段中没有任何内容，列表中也会有一些项目。

django-select2 视图总是在“get”方法中跳过空词，所以我们需要覆盖它：

```
class MySelect2ResponseView(AutoResponseView):
  def get(self, request, *args, **kwargs):
    term = request.GET.get('term')
    if term == "":
        return self.render_to_response(self._results_to_context(self.get_results(request, term, -1, None)))
    return super(MySelect2ResponseView, self).get(request, *args, **kwargs) 
```

现在“”术语将进入您的领域的“get_results”方法：

```
class ContactSelectWidget(AutoHeavySelect2Widget):
  def __init__(self, *args, **kwargs):
    kwargs['select2_options'] = {
      # this will allow select2 to send empty search to server 
      'minimumInputLength': 0, 
      # it's needed, otherwise search field will be hided by select2 
      'minimumResultsForSearch': 0, 
    }
    super(ContactSelectWidget, self).__init__(*args, **kwargs)

class ContactSelect(AutoModelSelect2Field):
  widget = ContactSelectWidget 
  queryset = Contact.objects.all()
  search_fields = ['name__contains']
  to_field = 'name'

  def get_results(self, request, term, page, context):
    if term == "":
      # return anything you want here:  
      return ('nil', False, [(1, "my_item1", {}), (2, "my_item2", {})])
    else:
      return super(ContactSelect, self).get_results(request, term, page, context) 
```

# jquery - 使用 jQuery 更改元素的文本

> ID：15323328
> 
> 赞同：-1
> 
> 时间：2013-03-10T14:31:28.267
> 
> 标签：jquery, firefox

我是 jQuery 新手，正在 Ubuntu 11.4 上使用 Netbeans 7.3 为 FF 开发一些练习代码。我使用以下 html 调用从具有文本“Hello world”的 h1 元素开始。

```
<h1>Hello World</h1> 
```

然后，当我使用以下 jQuery 代码单击“Hello world”时，我尝试将测试更改为“Good bye world”。

```
var $j = jQuery.noConflict();
$j( document ).ready( function() {
    $j("h1").click(function( event ) {   
        $("h1").html("Good bye world");
    });    
}); 
```

但是，当我单击 h1“Hello world”文本时，它仍然是“Hello world”。这是更改文本的错误代码吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-10T14:33:52.317

试试这个：

```
$(function() {  
    $('h1').click(function() {  
        $(this).text('Goodbye, world');
    });
}); 
```

这是一个[**jsFiddle 演示**](http://jsfiddle.net/jJkQw/)。

正如评论中所指出的，您也在混淆您的 jQuery 引用。您的代码应该是：

```
var $j = jQuery.noConflict();
$j( document ).ready( function() {
    $j("h1").click(function( event ) {   
        $j("h1").html("Good bye world");
    });    
}); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-10T14:35:22.747

用这个

```
$(this).text('Goodbye, world'); 
```

如果你想追加使用

```
$(this).append('your text'); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-10T14:43:21.507

你在这里错过了一个 jquery 参考 -

正确的代码应该是 -

```
<script type="text/javascript">
    var $j = jQuery.noConflict();
        $j( document ).ready( function() {
            $j("h1").click(function( event ) {   
                $j("h1").html("Good bye world");
            });    
        });
</script> 
```

在您的代码中，一行是-`$("h1").html("Good bye world");`

这应该是 -

```
$j("h1").html("Good bye world"); 
```

# .net - Monotouch 从初始屏幕导航

> ID：15323332
> 
> 赞同：0
> 
> 时间：2013-03-10T14:32:05.230
> 
> 标签：.net, xamarin, xamarin.ios, splash-screen

我想向 monotouch/xamarin 项目添加启动画面。

初始屏幕应该执行一些逻辑，然后将用户导航到两个屏幕之一，登录屏幕/登录屏幕。

在monotouch中正确的方法是什么？（我是 monotouch 和 IOS 的新手）。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-10T16:28:19.243

我会怎么做，是这样的：

1.  将您的启动画面设置为 rootviewcontroller，在后台执行您的逻辑，并开始检查用户是否已登录。
2.  然后在异步完成调用中，将用户导航到登录屏幕并将其设置为导航控制器中的新 rootviewcontroller。如果用户未登录，请在已登录屏幕的顶部推送一个 topviewcontroller - 在您开始在登录屏幕中加载用户特定数据之前，请记住检查用户是否已登录。

**例子：**

```
 MySplashController splash;
        Navigationcontroller nav;
        UIViewController masterviewcontroller;

        Public override void FinishedLaunching(UIApplication app, NSDictionary options){

              splash = new MySplashController();
              window.rootviewcontroller = splash;
              window.makekeyandvisible();

        }
        void MyAsyncLoggedInCall(bool loggedin){
           if(loggedin)
             LoggedIn();
           else
             LogOn();
        }
        void LoggedIn(){
         masterviewcontroller = MyLoggedInScreen();
         nav = new navigationcontroller(masterviewcontroller);
         window.rootviewcontroller = nav;
        }
        void LogOn(){
         masterviewcontroller = MyLoggedInScreen();
         nav = new navigationcontroller(masterviewcontroller);
         window.rootviewcontroller = nav;
         nav.TopViewController.PresentModalViewController(new MyLogInScreen(),false);
        } 
```

This is just one of the ways to do it. You can also look at how to implement the facebook login functions, and do something like that in your application, as its quite similar to your problem. [Monotouch bindings](https://github.com/mono/monotouch-bindings)

# php - php PDO 查询不适用于 hash_hmac()

> ID：15323333
> 
> 赞同：0
> 
> 时间：2013-03-10T14:32:30.027
> 
> 标签：php, hash, pdo, sha

我刚刚阅读了 hash_hmac() 函数，我尝试使用它在数据库中存储密码：

```
<?php
$dsn = 'mysql:host=localhost;dbname=test';
$username = 'root';
$pass = 'password';

$conn = new PDO($dsn, $username, $pass);
$conn->setAttribute(PDO::ATTR_ERRMODE, PDO::ERRMODE_EXCEPTION);
$conn->setAttribute(PDO::ATTR_PERSISTENT, TRUE);

$password = '123MonyeTSahuR456';

    $p = addslashes(hash_hmac('sha256', $password, '13#slP3mK;"dA$@m', TRUE));    

    $query = "INSERT INTO table_one VALUES(NULL, :password)";

try
{
    $pdo = $conn->prepare($query);
    $pdo->bindValue(':password', $p);

    if($pdo->execute())
    {
        echo $pdo->rowCount();
    }
    else
    {
        echo 'fail';    
    }
}
catch(PDOException $e)
{
    echo $e->getMessage();
} 
```

**数据库详细信息：**

```
id INT NOT NULL AUTO INCREMENT
password VARBINARY(32) NOT NULL 
```

之后我手动检查了我的数据库并找到了一行带有 BLOB 的行（我以前从不使用/使用 VARBINARY 或 BLOB 数据类型，所以这是我的第一次）

所以存在 1 行，我尝试选择该行：

```
 $query = "SELECT * FROM table_one WHERE password = :password"; 
```

返回的`pdo->rowCount()`值为 0 ，它没有找到我正在寻找的密码，任何人都可以告诉我为什么？如何解决这个问题？

**另一个细节：**

PHP版本：5.4

操作系统：Ubuntu 12.04 64 位谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-10T14:48:47.413

**解决了**

通过在查询中使用**PDO::PARAM_LOB**，它可以工作..

在我的脑海中还有一件事是：

*   我应该`addslashes()`在查询之前使用吗？`addslashes()`我只是按照教程进行操作

# c - 在函数内安全地初始化锁/互斥锁

> ID：15323334
> 
> 赞同：3
> 
> 时间：2013-03-10T14:32:38.787
> 
> 标签：c, pthreads

**场景：**我想在某个 foo.h/foo.c 模块中提供一个隔离的 foo。这个函数应该能够以线程安全的方式执行。

**问题**如何在函数内部安全地初始化互斥锁（或任何其他锁抽象）。我以为我可以有这样的东西：

```
foo(){
   static pthread_mutex_t *lock=NULL;
   if (lock == NULL){
     lock = init_lock(lock); 
   } 
   //acquire (lock)
   // foo ; 
   //release (lock)
} 
```

但后来我必须执行：

```
if (lock == NULL){
     lock = init_lock(lock); 
   } 
```

原子地，我不知道如何。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-10T15:35:57.783

你想的太复杂了

```
static pthread_mutex_t lock = PTHREAD_MUTEX_INITIALIZER; 
```

是为了做你想做的事。

如果您只需要该函数中的锁，请将静态变量放在那里。如果您在多个函数中需要它，请将其作为全局变量放在 .c 文件中。

# http - 在 Firefox 中向 Rest Client 发送 post 请求

> ID：15323342
> 
> 赞同：3
> 
> 时间：2013-03-10T14:33:08.527
> 
> 标签：http, post, rest-client

我在**Firefox Web 浏览器中使用****Rest Client**添加。我想测试一个处理**HTTP POST**请求并使用 json 的 Web 服务。如何使用 Rest Client 对其进行测试？

 ******如果我在请求正文**中放入一个 json，我会收到*** *HTTP 415 Unsupported Media Type error* ***。

这样做的正确方法是什么？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-03-12T09:26:20.410

如果标题 'Content-Type': 'application/json' 没有添加，我曾经遇到过这个问题。另请参阅[POST JSON failed with 415 Unsupported media type, Spring 3 mvc](https://stackoverflow.com/questions/11492325/post-json-fails-with-415-unsupported-media-type-spring-3-mvc)，大致相同。****

# javascript - Google/Bing 地图加载动态生成的 div

> ID：15323343
> 
> 赞同：0
> 
> 时间：2013-03-10T14:33:10.193
> 
> 标签：javascript, google-maps, bing-maps

如何在动态生成的 div 上加载 Bing/Google 地图？

例子

```
<div id="cont"></div>

...

$('#cont').append('<div id="mapDiv" style="position: relative; width: 100%; height: 100%;"></div>');//dynamically add div

var map = new Microsoft.Maps.Map($("mapDiv"), myOptions);//Bing/Google maps 
```

有什么建议吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-10T14:37:17.267

在动态节点上添加谷歌地图或必应地图没有问题。

但是您应该稍微更改一下代码，以便正确使用带有 [0] 的 HTML 节点。别忘了#

```
var map = new Microsoft.Maps.Map($("#mapDiv")[0], myOptions);//Bing/Google maps 
```

# html - 如何减少菜单标题和项目之间的空间？

> ID：15323348
> 
> 赞同：0
> 
> 时间：2013-03-10T14:33:33.207
> 
> 标签：html, css, menu

我想减少菜单名称（即菜单 I）和相关菜单项（即传记、出版物）之间的巨大空间。是什么导致了额外的空间，我该如何减少它？这是一个jsfiddle链接：[链接](http://jsfiddle.net/Grek/VunKD/) 非常感谢

```
<body>
<div id="header"></div>
<div id="logo">My Name</div>
<div id="mainmenu">
  <ul>
    <li>
      <h5>Menu I</h5>
      <ul>
        <li><a title="" href="">Biography</a></li>
        <li><a title="" href="">Publications</a></li>
      </ul>
    <li>
      <h5>Menu 2</h5>
      <ul>
        <li><a title="" href="">Demo</a></li>
        <li><a title="" href="">Features</a></li>
        <li><a title="" href="">Comparison</a></li>
      </ul>
    </li>
  </ul>
</div>
<div id="intro-text">Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut.</div>
</body> 
```

CSS：

```
@charset "UTF-8";
/* CSS Document */

#header {
    width: 100%;
    height: 76px;
    background-color: #005EBC;
}

#logo {
    position: absolute;
    left: 20px;
    top: 35px;
    color: white;
    font-size: 20px;
}

#intro-text {
    width: 300px;
    position: absolute;
    top: 90px;
    left: 20px;
    font-size:12px;
}

/* mainmenu */

H5 {
text-transform: uppercase;
}

#mainmenu {
    width: 100%;
    min-height: 140px;
    padding-bottom: 20px;
    margin-top: -40px;
    *padding-top: -40px;
    overflow: hidden;
}

#mainmenu ul {
    list-style: none;
    margin: 0;
    float: right;
    color: #C3C;
}

#mainmenu ul li {
    display: inline-block;
    float: left;
    width: 140px;
    line-height: 20px;
}

#mainmenu>ul>li { margin-left: 20px }

#mainmenu ul li a {
    font-size: 12px;
    display: block;
}

#mainmenu ul li a,
#mainmenu ul ul:hover li a { color: green }

#mainmenu ul ul li a:hover,
#mainmenu ul ul li.current-menu-item a { color: red } 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-10T14:36:05.940

您的问题是您使用的`<h5>`是默认带有大量顶部和底部边距的标签。

```
h5 {
    margin-bottom: 0;
} 
```

[jsFiddle](http://jsfiddle.net/QQVtN/)

# c - 无法编译超简单代码

> ID：15323351
> 
> 赞同：0
> 
> 时间：2013-03-10T14:33:43.473
> 
> 标签：c, visual-studio-2010, compiler-construction, compilation, linker

我不明白为什么，但是当它们之间有一些引用时，我无法在两个文件中编译超简单 C 代码。我正在使用 Visual Studio 2010，打开 Empy C++ 项目这里是：

主.c：

```
extern void putc(char c);
int main() {
char c = ' ';
putc(c);
return;
} 
```

另一个文件.c：

```
void putc(char c) {

} 
```

我收到这些错误： ![我的错误](../Images/445dc392c2e12eb03540cc32eade248a.png)

我认为它将在某些项目配置中，但我不知道在哪里....

请帮忙。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-10T15:16:05.743

在 VC2012 项目中，请**禁用**该`Precompiled Headers`选项。这应该可以解决您面临的编译问题。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-10T15:10:47.157

它适用于我的默认设置。也许您的 .sln 有问题。尝试创建一个新的空**控制台项目**，并添加您的文件。如果仍然无法正常工作，请发送您在构建 exe 时遇到的错误。

# python - pyqt 在框之间添加空格

> ID：15323352
> 
> 赞同：0
> 
> 时间：2013-03-10T14:33:43.967
> 
> 标签：python, pyqt

我在pyqt中写了一个小例子。它首先绘制一些文本并在下面添加三个按钮。但是按钮下方有一些空间。如何删除那些空间？

我试过`addStrech(1)`了，但是文本消失了。

这是我的代码：

```
import sys
from PyQt4 import QtGui, QtCore

class CardWidget(QtGui.QWidget):
    def __init__(self):
        super(CardWidget, self).__init__()
        self.initUI()

    def initUI(self):
        lButton = QtGui.QPushButton("left")
        mButton = QtGui.QPushButton("middle")
        rButton = QtGui.QPushButton("right")

        sometext = DrawText()

        hbox = QtGui.QHBoxLayout()
        hbox.addWidget(lButton)
        hbox.addStretch(1)
        hbox.addWidget(mButton)
        hbox.addStretch(1)
        hbox.addWidget(rButton)

        WButton = QtGui.QWidget()
        WButton.setLayout(hbox)

        vbox = QtGui.QVBoxLayout()
        vbox.addWidget(sometext)
        vbox.addStretch(1)

        vbox.addWidget(WButton)
        self.setLayout(vbox)

        self.setGeometry(300, 300, 480, 370)
        self.setWindowTitle('Flashcards')
        self.show()

class DrawText(QtGui.QWidget):
    def __init__(self):
        super(DrawText, self).__init__()
        self.initUI()

    def initUI(self):
        self.text = 'some text'

        self.setGeometry(0, 0, 200, 400)
        #self.setWindowTitle('Draw text')
        self.show()

    def paintEvent(self, event):
        qp = QtGui.QPainter()
        qp.begin(self)
        self.drawText(event, qp)
        qp.end()

    def drawText(self, event, qp):
        qp.setPen(QtGui.QColor(168, 34, 3))
        qp.setFont(QtGui.QFont('Decorative', 10))
        qp.drawText(event.rect(), QtCore.Qt.AlignCenter, self.text)        

def main():
    app = QtGui.QApplication(sys.argv)
    ex = CardWidget()
    sys.exit(app.exec_())

if __name__ == '__main__':
    main() 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-07-16T14:03:45.157

我已经`setFixedSize(int,int)`在您的主窗口中使用以避免`addStretch(1)`，如下所示：

```
def initUI(self):
    lButton = QtGui.QPushButton("left")
    mButton = QtGui.QPushButton("middle")
    rButton = QtGui.QPushButton("right")

    sometext = DrawText()

    hbox = QtGui.QHBoxLayout()
    hbox.addWidget(lButton)
    hbox.addWidget(mButton)
    hbox.addWidget(rButton)

    WButton = QtGui.QWidget()
    WButton.setLayout(hbox)

    vbox = QtGui.QVBoxLayout()
    vbox.addWidget(sometext)
    vbox.addWidget(WButton)

    self.setLayout(vbox)

    self.setGeometry(300, 300, 0, 0)
    w = WButton.sizeHint().width()+10
    h = WButton.sizeHint().height()+sometext.sizeHint().height()+40
    self.setFixedSize(w, h)
    self.setWindowTitle('Flashcards')
    self.show() 
```

是不是更像你想要的样子？您也可以只设置高度固定，这样就不会有额外的上下空间。

# modelica - 如何一对一模拟执行 2 个模型？

> ID：15323356
> 
> 赞同：0
> 
> 时间：2013-03-10T14:33:53.250
> 
> 标签：modelica, openmodelica, dymola

我试图通过状态图在模拟中一个一个地执行 2 个模型。伪代码如下。在模型测试中，有两个块，stateA 和 stateB。在模拟开始时，执行 stateA。10 秒后，stateA 停止，而 stateB 执行。停止点 v 的值需要从 stateA 转移到 stateB。有人可以给我一些建议吗？非常感谢！

* * *

```
model test 
  inner Integer v(start = 1); 

  block StateA 
    outer output Integer v; 
  equation 
    v = previous(v) + 2; 
  end StateA; 
  StateA stateA; 

  block StateB 
    outer output Integer v; 
  equation 
    v = previous(v) - 1; 
  end StateB; 
  StateB stateB; 

equation 
  initialState(stateA); 
  transition(stateA, stateB, t >= t0, immediate=false); 
end test; 
```

* * *

另一件事是为什么我无法在 openModelica 中模拟以下简单示例？

```
model StateMachine1
  inner Integer i(start=0);

  block State1
    outer output Integer i;
  equation
    i = previous(i) + 2;
  end State1;
  State1 state1;

  block State2
    outer output Integer i;
  equation
    i = previous(i) - 1;
  end State2;
  State2 state2;

equation
  initialState(state1);
  transition(state1, state2, i > 10, immediate=false);
  transition(state2, state1, i < 1, immediate=false);
end StateMachine1; 
```

错误：在范围 StateMachine1 中找不到类 initialState

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-18T10:53:01.243

关于您的模型，我认为实现它的最佳方法是将三个模型编码在三个不同的类中，然后有一个包装器，其中包含我们模型的所有变量，然后在包装器中实现 when - elsewhen - elsewhen 语句将重新启动已激活模型的状态变量，最后是 if - elseif - else 语句将包装器变量链接到相应的活动块。这样，您还可以更改模型中变量的因果关系而不会导致错误。作为一个例子，我发布了一个破碎的钟摆模型的案例：

```
model BreakingPendulum2
extends BasePendulum(p(m=1, g=9.81, L=0.5));
input Boolean Broken;
protected
Pendulum pend (p=p, u=u, enable=not Broken);
BrokenPendulum bpend(p=p, u=u, enable=Broken);
equation
when Broken then
reinit(bpend.pos, pend.pos);
reinit(bpend.vel, pend.vel);
end when;
pos = if not Broken then pend.pos else bpend.pos;
vel = if not Broken then pend.vel else bpend.vel;
end BreakingPendulum2; 
```

***BasePendulum***类实现了您需要计算的关于被模拟的系统的变量。从该 cass 扩展，您可以实现在不同情况下有效的三个不同版本的模型。然后，您编写一个像我发布的块一样的块，并根据不同模型的有效性实现逻辑。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-11T15:53:48.153

您正在尝试做的事情在有关 Modelica 3.3 规范中引入的新状态机功能的材料中进行了详细描述。您可以在下面找到一些参考资料：

*   [来自 pag 的状态机的 Presentation Modelica 扩展。21](https://www.google.it/url?sa=t&rct=j&q=&esrc=s&source=web&cd=1&ved=0CDYQFjAA&url=https://chess.eecs.berkeley.edu/pubs/956/dreams-elmqvist-nov-2012.pdf&ei=1uI9UejNNsTi4QSrmIHQBA&usg=AFQjCNHLZWA9n75d3H3VcodX536bFlqgog&bvm=bv.43287494,d.bGE&cad=rja)
*   [Modelica Paper 中的状态机](http://www.ep.liu.se/ecp/076/003/ecp12076003.pdf)

您的模型中的错误是在 Modelica 3.3 中引入了对所有变量的采样时间推断，即不能在相同的方程中使用具有不同时间离散化的离散变量，换句话说，您必须只使用具有相同时钟的变量方程。在您的情况下，您有一个连续变量（时间）和一个离散变量 v。因此，您不能将时间用于影响离散变量 v 行为的转换语句（在 modelica 代码的转换过程中将成为方程） . 为了满足您的需要，一种解决方案是为模型中的所有变量定义一个时钟，然后建立逻辑（如果您需要多个采样时间，则必须使用特殊运算符，例如 superSample）。

```
 model StateMachine3
  Real i(start = 0,fixed=true);
  inner Real id(start = 2);
  Real td(start = 0,fixed=true);

  State1 state1;

  model State1
    outer output Real id;
  equation 
    id = 2;
  end State1;

  model State2
    outer output Real id;
  equation 
    id = - 1;
  end State2;
  State2 state2;
equation 
  td = sample(time, Clock(1, 10));
  when Clock(1, 10) then
    i =  previous(i) + id;
  end when;
  initialState(state1) ;
  transition(
    state1,
    state2,td > 10,
    immediate=false,
    reset=false,
    priority=1,synchronize=false);
end StateMachine3; 
```

# python - 如何使用替换在python中解析wiki markdown

> ID：15323358
> 
> 赞同：-1
> 
> 时间：2013-03-10T14:34:20.077
> 
> 标签：python, replace

我想用 Python 来处理 wikitext！

比如原文：

```
== 123 ==
=== 1234 === 
```

到：

```
<h2> 123 </h2>
<h3> 1234 </h3> 
```

怎么做！我需要正则表达式吗？它会起作用吗？

```
import re
block_head = r"""
(?P<head>
    ^
    \s*
    (?P<head_head> =+ )
    \s*
    (?P<head_text> .*? )
    \s*
    (?P=head_head)
    \s*
    $
  )
"""
while 1:
somestring=raw_input()
dict1=re.search(block_head,somestring, re.X).groupdict()
if(dict1['head_head']=='======'):
    print '<h6>'+dict1['head_text']+'</h6>'
if(dict1['head_head']=='====='):
    print '<h5>'+dict1['head_text']+'</h5>'
if(dict1['head_head']=='===='):
    print '<h4>'+dict1['head_text']+'</h4>' 
```

我想知道如何解决这个问题：

```
abc'''123'''aa 
```

到

```
abc<b>123</b>aa 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-10T14:39:02.983

是的，您可能想要使用正则表达式。

不过，您可能希望避免重新发明轮子。[MoinMoin python wiki 平台](http://moinmo.in)已经实现了各种格式处理程序，包括一个确实使用正则表达式来解析输入文本的 Media Wiki 格式处理程序[。](https://bitbucket.org/thomaswaldmann/moin-2.0/src/tip/MoinMoin/converter/mediawiki_in.py)

为了借鉴该实现，它使用正则表达式：

```
block_head = r"""
    (?P<head>
        ^
        \s*
        (?P<head_head> =+ )
        \s*
        (?P<head_text> .*? )
        \s*
        (?P=head_head)
        \s*
        $
    )
""" 
```

匹配包含 1 个或多个`=`字符的行，后跟文本，后跟相同数量的`=`字符。这使用带有`re.X`标志的详细正则表达式语法（忽略空格）。

使用该正则表达式，您可以匹配标题并通过计算`=`字符数来计算它们的“级别”：

```
>>> re.search(block_head, '=== Some header! ===', re.X).groupdict()
{'head_text': 'Some header!', 'head': '=== Some header! ===', 'head_head': '==='} 
```

非详细版本将是：

```
block_head = r"(?P<head>^\s*(?P<head_head>=+)\s*(?P<head_text>.*?)\s*(?P=head_head)\s*$)" 
```

以此为起点（仔细阅读[`re`模块文档](http://docs.python.org/2/library/re.html)，直到您了解每个部分的作用），然后从那里扩展。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-10T14:56:10.583

当您尝试实现自己的时，请在 PyPi 上查看[Python 中的 Markdown模块作为参考。](https://pypi.python.org/pypi/Markdown)运行`sudo pip install markdown`然后导航到您的 Python 安装目录`/lib/python.version/site-packages/markdown`以获取已构建和安装的包，或者您可以从上面的链接下载存档并浏览原始源。那里有很多，但是您应该能够找到一些很好的例子来说明您正在尝试做的事情。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-10T15:34:04.853

```
import re

reg = re.compile('^(={1,3})(.+?)\\1 *\r?$',re.MULTILINE)

s = '''== B123 ==
=== Z1234 ==='''

def ripl(m, d = {'=':'h1','==':'h2','===':'h3'}):
    return '<{0:s}>{1:s}</{0:s}>'.format(d[m.group(1)],m.group(2))

print reg.sub(ripl,s) 
```

正则表达式模式的解释：

`^`没有`re.MULTILINE`标志将意味着“字符串的开始”。
`^`with`re.MULTILINE`表示“一行或字符串的开头”。

`(={1,3})`是一个捕获组，组 1。
它捕获 1 到 3 个字符**=**，但由于该组前面是，因此它仅在一行的开头 `^`捕获这些**= 。**

`(.+?)`是捕获组号 2.
`.+?`捕获所有类型的字符（除了**\n**，因为没有 re.DOTALL 标志的点不匹配**\n**）
如果它是`(.+)`only ，那将是贪婪的，也就是说它会去尽可能：好吧，在目前的情况下，由于点不匹配**\n**，它会一直到行尾，即直到**\n**前面的位置，第二组将赶上第二个系列**=**或**==**或**===**也是我们不想要的。
但是`?`after要求`.+`这个表达`.+`不贪心，也就是说，一旦它碰到后面指定的东西，就在某处停下来`.+?`

因此，`\\1 *\r?$`定义前面`.+?`将停止的字符组。从这个角度来看，和`)`之间的括号无关紧要。 它的意思是 ： `.+?``\\1 *\r?$`

*   1) 与行前相同的字符组，必须被第 1 组捕获，表示为`\\1`
*   2）然后可能是一系列空白（没用但这个地方可能有一些）
*   3）然后可能**\r**，但不是强制性的。我放这个是因为在 Windows 上，行尾是**\r\n**
*   4) 最后，`$`表示“一行或字符串的结尾”，因为 re.MULTILINE 改变其含义与 for`^`

我用这个条件`\\1 *\r?$`断言将匹配的系列**=**或**==**或**===**将是最后一个。因为，`.+?`据说这部分会在它遇到的第一个部分停止。什么，当第一个不是最后一个时？对于这种情况，我们必须规定，`.+?`仅当同一组位于行尾时，才能在与组 1 相同的组前面停止：所以这使得 charachters **=**出现在行中的可能性（实际上我不知道在wiki上是否可以，但我想到了这个案例）

.

注意
要排除以下情况

```
===abcd=====
======ijk== 
```

被转化为

```
<h3>abcd==</h3>
<h2>====ijk</h2> 
```

模式必须是`'^(={1,3}(?!=))(.+?)(?<!=)\\1 *\r?$'`

该部分的`(?!=)`意思是'就在字符串中连续1到3个字符**=**停止的这个位置之后，必须没有另一个**=** '

该部分的`(?<!=)`意思是'就在字符串中最后一个连续 1 到 3 个字符**=**开始的位置的前面，必须没有另一个**=** '

# mongodb - 日期字段上的 MongoDB 唯一索引

> ID：15323360
> 
> 赞同：2
> 
> 时间：2013-03-10T14:34:25.307
> 
> 标签：mongodb

我尝试了以下

```
db.Wall.ensureIndex({event_time : 1}, {unique: true}) 
```

但是这个输出一直显示

```
{
    "err" : "E11000 duplicate key error index: scrap.Wall.$event_time_1  dup key: { : new Date(0) }",
    "code" : 11000,
    "n" : 0,
    "connectionId" : 10,
    "ok" : 1
} 
```

我尝试 getIndexes 但 event_time 没有显示在那里

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-10T14:39:56.357

如果`wall`收集中的数据不敏感，您可以调用：

```
db.Wall.ensureIndex({event_time : 1}, {unique: true, dropDups: true}) 
```

但**所有重复项**将被**永久删除**！

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-03-10T15:22:43.823

如图所示，您不能创建具有重复值的索引。查找重复值的一种简单方法是使用 MongoDB shell 中的[聚合](http://docs.mongodb.org/manual/reference/sql-aggregation-comparison/)查询，例如：

```
db.Wall.aggregate([
       {$group : { _id: "$event_time" ,  count : { $sum: 1}}},
       {$match : { count : { $gt : 1 } }} ]) 
```

`event_time`这将返回存在于多个`Wall`文档中的所有值的列表。

解释：

1.  `event_time`( `_id: "$event_time"`)组
2.  对于每组`event_time`（一个唯一的时间），计数加一（`count: { $sum: 1}`）
3.  然后，只匹配那些`count`大于 1的组

然后，您可以确定问题的普遍程度。您可以通过填写如下所示的值来进行`find`所有匹配。当然，它还没有被索引，它不会超快。:)`event_time``find`

```
db.Wall.find({ 'event_time' : /* one of the event times */ }) 
```

当然，您可以强制删除重复项 ( `dropDups`)，如另一个答案所示。但是，结果可能看起来不确定，因为它只会保留在索引阶段找到的第一个文档，而所有其他文档都将被删除。

# algorithm - 对于仅具有间隙搜索和追加的有序序列，最有效的数据结构是什么？

> ID：15323362
> 
> 赞同：1
> 
> 时间：2013-03-10T14:34:34.293
> 
> 标签：algorithm, data-structures

我需要存储一组可以形成如下序列的有序整数

```
1,2,3,15,16,20,21,25,26,27,28 
```

它也可以表示为

```
1-3,15-16,20-21,25-28 
```

我不需要对序列进行排序我只需要能够添加整数并知道*集合*中是否有某个整数。

我正在寻找快速`O(lg(n))`或`O(n*lg(n))`在插入和*搜索*方面的数据结构，即。是整数集合中的 X，它可以处理并发读写，如果可能的话，可以在没有锁和没有持久性的情况下进行写写。

对于相同的插入和搜索时间，将选择更节省空间的解决方案。

二叉搜索树，但它不够好，因为由于整数被插入到不断增长的升序中，生成的树看起来不太好，所以我认为我需要一个多版本自平衡树。

没有重复。

不需要代码，只需一个带有参考的解释就可以完成这项工作。

背景：这是针对 mvcc 数据库的，每个事务都有一个事务 id，在订购时应该是唯一的，即。对于两个 T1(t1)，T2(t2)，id(T1) < id(T2)。差距来自于事务未提交其事务 id 丢失的事实。事务ID用于注释数据版本，以了解是否应考虑数据的版本以及如何考虑，您至少必须知道它是否已提交我必须维护已提交事务的列表，整数的哈希映射可以做到非常适合 POC，但从长远来看并非如此。我不知道专业的dbs是如何做到的......

可能有点误导的类似问题：[在相邻数字的有序范围内寻找间隙](https://stackoverflow.com/questions/13793764/finding-a-gap-in-an-ordered-range-of-adjacent-numbers/15316552#15316552)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-10T14:41:16.647

我建议使用[区间树](https://en.wikipedia.org/wiki/Interval_tree)——这是一种压缩区间的修正二叉搜索树。有序插入的问题可以通过使用自平衡变体来处理。可以使用锁或通过实现[持久](https://en.wikipedia.org/wiki/Persistent_data_structure)版本来实现并发支持。

# java - 将 PDF 转换为 HTML 的 Java 程序？

> ID：15323369
> 
> 赞同：0
> 
> 时间：2013-03-10T14:35:37.330
> 
> 标签：java, html, pdf

我如何编写将**PDF**文件转换为**HTML**的 Java 代码。如果我们在**PDF**文档中有表格，则同一个表格也将在**HTML**文件中与颜色、链接等其他内容相同。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-10T14:44:27.387

这是一个两步的过程，因为没有什么能读懂你的想法：

1.  将 PDF 加载到内存中并使用 iText 之类的库解析内容。
2.  将内容添加到标记并输出 HTML。

只有您可以决定标记应该是什么以及应该显示什么内容。没有标准，也没有软件可以读懂你的想法。

为什么不能直接将 PDF 流式传输到浏览器并以这种方式显示？不需要 HTML。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-10T14:53:41.967

我正在这样做，基于 Apache [PDFBox](http://pdfbox.apache.org/)（它是 Java）。请参阅[https://bitbucket.org/petermr/pdf2svg](https://bitbucket.org/petermr/pdf2svg)转换为 SVG 和[https://bitbucket.org/petermr/svg2xml-dev](https://bitbucket.org/petermr/svg2xml-dev)转换为 XML。我将在下周处理桌子。

该过程至少有两个步骤，涉及：

*   将 PDF 转换为具有字体、大小、x/y 等的 SVG 字符（PDFBox 执行此操作）
*   使用坐标查找页面的矩形区域。
*   寻找文本启发式，例如“table 1”
*   尝试将这些区域解释为矩形表格的单元格

然后，我们必须查看表是否有常规列，并查看这些列是否具有有意义的标签。

# events - 带有事件的剑道日历导航

> ID：15323371
> 
> 赞同：0
> 
> 时间：2013-03-10T14:35:46.590
> 
> 标签：events, cordova, calendar, navigation, kendo-ui

我正在尝试将日历嵌入到使用 KendoUI mobile 构建的移动应用程序中，并且我想使用 Kendo 的日历，因为它比其他 jQuery 日历为我提供了更多的控制和样式选项......到目前为止，我能够选择一天并为那一天保存一个事件，该事件会改变颜色以指示其已满。到目前为止它工作得很好，但我面临的唯一问题是当我导航到另一个月/视图并返回时，所有这些事件都被删除，就像日历被重新初始化一样。我真的需要能够“永久”存储这些事件，直到它们与设备的日历应用程序同步。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-07-02T14:21:57.660

使用 kendo 数据源，在您执行任何添加/更新/删除操作后，您需要在数据源上调用 .sync()。这会将更新的数据源值保存到您已设置数据的本地变量中，或者如果使用服务，它将调用定义的任何传输方法。

# html - 任何人都请告诉我#filename 和 filename.html 之间的区别

> ID：15323374
> 
> 赞同：1
> 
> 时间：2013-03-10T14:35:58.207
> 
> 标签：html, url, anchor

```
<html>
<body>
  <a href="#filename">home</a>
<br/>
  <a href="filename.html">home</a>
</body>
</html> 
```

请任何人澄清这一点。当我使用#filename 作为href 元素单击主页时，它不会导航到下一页...

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-10T14:37:04.683

`#filename`是一个[片段标识符](http://en.wikipedia.org/wiki/Fragment_identifier)。*它链接到页面中*的一个元素。

`filename.html`是一个[URI](http://en.wikipedia.org/wiki/Uniform_resource_identifier)。它是指向（通常）不同页面的链接。

给定您的示例+一个小改动：

```
<html>
<body>
  <a href="#filename">home</a>
<br/>
  <a href="filename.html">home</a>
<br/>
 <span id="filename">The home</span>
</body>
</html> 
```

`#filename``span`与的链接`id="filename"`。如果那`span`不可见，页面将跳转到它（但不会调用服务器来重新获取页面）。

`filename.html`链接到文件名为 . 的同一目录中的 html 页面`filename.html`。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-10T14:37:38.917

假设您的网站是 www.website.com

`<a href="#filename">home</a>`会将 URL 更改为 www.website.com#filename 但实际上不会刷新页面。如果碰巧有一个具有该属性`name="filename"`的元素，浏览器将跳转到该元素。

`<a href="filename.html">home</a>`将浏览器重定向到 www.website.com/filename.html

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-10T14:37:22.400

`#filename`将带您到`filename`当前页面上的给定锚点（或 ID 为 的元素）。

`filename.html`将用户带到名为`filename.html`.

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-10T14:38:38.953

`#filename`是一个锚点，指向当前页面上的某些内容。`filename.html`是一个 URI，指的是一个（很可能是不同的）网页。

# android - 尝试发送 gcm 消息时出现 HttpRetryExcepiton

> ID：15323377
> 
> 赞同：4
> 
> 时间：2013-03-10T14:36:39.110
> 
> 标签：android, google-cloud-messaging

尝试从我的服务器向 GCM 服务器发送消息时出现 java.net.HttpRetryException 异常。

```
try {
    multiResult = sender.send(message, devices, RETRY_COUNT);
} catch(IOException e) {
    logger.error("{0}\t- ANDROID : IOException occured during sending message: {1}", e.getMessage());

} 
```

我已经成功注册了设备，但是这个发送方法给了我异常，如下所示

```
java.net.HttpRetryException: cannot retry due to server authentication, in streaming mode
at sun.net.www.protocol.http.HttpURLConnection.getInputStream(Unknown Source)
at java.net.HttpURLConnection.getResponseCode(Unknown Source)
at sun.net.www.protocol.https.HttpsURLConnectionImpl.getResponseCode(Unknown Source)
at com.google.android.gcm.server.Sender.sendNoRetry(Sender.java:362)
at com.google.android.gcm.server.Sender.send(Sender.java:261) 
```

非常感谢任何帮助，谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-08-06T15:05:37.963

我想我找到了原因，我试图用错误的 apikey 发送通知，这是一个 android 密钥，谷歌说它应该是一个服务器密钥（浏览器密钥也可以）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-07-07T12:03:33.050

你是对的，但浏览器密钥无法像我尝试的那样工作，所以如果有人收到此错误，只需尝试重新生成我们通过选择公共 api 生成的 api 密钥（它是服务器密钥，不是浏览器或 android 密钥）从 google api 控制台访问。

# openlayers - SelectFeature 适用于多个 kml 层

> ID：15323378
> 
> 赞同：3
> 
> 时间：2013-03-10T14:36:40.497
> 
> 标签：openlayers, kml

我正在使用 Openlayers 和我自己的 KML 图层制作地图。我想通过弹出窗口访问我的 KML 文件中的属性 - 我做到了，但问题是如何使多个 KML 层可选择，我只能选择最上层。我一直在寻找解决方案，但没有任何效果，我会非常乐意寻求帮助。我的代码是：

```
 var map;
  function init() {    
    var options = {   
                      scales: [500, 1000, 2500, 5000, 10000],
                      numZoomLevels: 26,
                      allOverlays: true,
                      projection: new OpenLayers.Projection("EPSG:900913"),
                      displayProjection: new OpenLayers.Projection("EPSG:4326"),
                      controls:[
                        new OpenLayers.Control.Navigation(),
                        new OpenLayers.Control.PanZoomBar(),
                        new OpenLayers.Control.LayerSwitcher({'ascending':false}), 
                        new OpenLayers.Control.ScaleLine(),
                        new OpenLayers.Control.MousePosition(),
                        new OpenLayers.Control.OverviewMap(),
                        new OpenLayers.Control.Attribution(),
                        new OpenLayers.Control.KeyboardDefaults()],};

    map = new OpenLayers.Map('map_element', options);  

    var gsat = new OpenLayers.Layer.Google(
    "Google Satellite",
    {type: google.maps.MapTypeId.SATELLITE} );
    map.addLayer(gsat);
    gsat.mapObject.setTilt(0);            

    var kml = new OpenLayers.Layer.Vector("zahrada", {
                projection: map.displayProjection,
                strategies: [new OpenLayers.Strategy.Fixed()],
                protocol: new OpenLayers.Protocol.HTTP({
                    url: "kml/zahrada.kml",
                    format: new OpenLayers.Format.KML({
                        extractStyles: true,
                        extractAttributes: true,
                    })
                })  
            });

    map.addLayer(kml);     

    var vrstva_dve = new OpenLayers.Layer.Vector("vrstva_dve", {
                projection: map.displayProjection,
                strategies: [new OpenLayers.Strategy.Fixed()],
                protocol: new OpenLayers.Protocol.HTTP({
                    url: "kml/vrstva_dve.kml",
                    format: new OpenLayers.Format.KML({
                        extractStyles: true,
                        extractAttributes: true,
                    })
                })  
            });

    map.addLayer(vrstva_dve);

    select = new OpenLayers.Control.SelectFeature(kml); // here I tried ([kml, vrstva_dve]) , but still only layer kml is selectable 
            kml.events.on({
                "featureselected": onFeatureSelect,
                "featureunselected": onFeatureUnselect
            });
            map.addControl(select);
            select.activate();   

  }

  function onPopupClose(evt) {
        select.unselectAll();
  }

  function onFeatureSelect(event) {
            var feature = event.feature;
            var content = "<h2>"+feature.attributes.name + "</h2>" + feature.attributes.description;
            if (content.search("<script") != -1) {
                content = "Content contained Javascript! Escaped content below.<br>" + content.replace(/</g, "&lt;");
            }
            popup = new OpenLayers.Popup.FramedCloud("chicken", 
                                     feature.geometry.getBounds().getCenterLonLat(),
                                     new OpenLayers.Size(100,100),
                                     content,
                                     null, true, onPopupClose);
            feature.popup = popup;
            map.addPopup(popup);
  }  

  function onFeatureUnselect(event) {
            var feature = event.feature;
            if(feature.popup) {
                map.removePopup(feature.popup);
                feature.popup.destroy();
                delete feature.popup;
            }
  } 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-10T14:46:59.287

采用：

```
select = new OpenLayers.Control.SelectFeature([kml, vrstva_dve]) 
```

并添加：

```
vrstva_dve.events.on({
  "featureselected": onFeatureSelect,
  "featureunselected": onFeatureUnselect
}); 
```

# javascript - 检测鼠标滚动动作jQuery

> ID：15323380
> 
> 赞同：1
> 
> 时间：2013-03-10T14:37:04.693
> 
> 标签：javascript, jquery, image, scroll, jquery-animate

我正在开发一个图片库，并且成功地进行了滚动。当鼠标向上和向右滚动时，图像分别向左和向右滑动。我使用 animate({"top","left"},500) 将图像设置为滑动动画。但我的问题是，当鼠标一次滚动两次或更多次时，需要 1000 毫秒才能完成，因为每次滚动动画都会被调用。

关于鼠标滚动速度，有什么方法可以加快图像动画的速度吗？

我不能给你任何代码，因为我不知道这是否可以做到。关于如何实施的任何建议？

**编辑**

posn 是一个顶部和左侧的数组，`var posn = [{x:"50%",y:"50%"},{x:"40%",y:"70%"},{x:"30%",y:"90%"},{x:"30%",y:"10%"},{x:"40%",y:"30%"}];`

```
$("#photo0").animate({"top":""+posn[0].x,"left":""+posn[0].y},500);
$("#photo1").animate({"top":""+posn[1].x,"left":""+posn[1].y},500); 
```

#photo2,#photo3,#photo4 共有 5 张照片

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-10T14:41:44.757

您可以[消除滚动回调](http://benalman.com/projects/jquery-throttle-debounce-plugin/)，以便在滚动时不会频繁触发它。如果您确保它仅每 500 毫秒触发一次（与动画的持续时间相同），那么两者应该很好地对齐。

# android - 如何提示用户循环输入文本？

> ID：15323385
> 
> 赞同：0
> 
> 时间：2013-03-10T14:37:18.693
> 
> 标签：android, android-intent

我正在编写一个 android 应用程序，主要活动启动并填充联系人列表，并且需要提示用户今天对所有联系人的评分（promptUserForInput）并立即处理收到的所有联系人评分。我想我可以使用一个对话框来提示每个联系人并从用户那里获得评分。但是下面的代码失败了，因为主线程没有等待用户完成输入所有用户的评分。

这是我在主要活动中为所有联系人姓名在 do while 循环中调用的函数。评级是一个全局变量。

```
double rating=0;
private synchronized void promptUserForInput(String firstName, String lastName) {

    final String fname = firstName;
    final String lName = lastName;

    AlertDialog.Builder alert = new AlertDialog.Builder(this);
    String custName = firstName + " " + lastName;
    final EditText input = new EditText(this);
    alert.setTitle(custName);
    alert.setView(input);
    Log.v("Diva: in promptUserForInput", "setting positive buton");
    alert.setPositiveButton("Ok", new DialogInterface.OnClickListener() {

        @Override
        public void onClick(DialogInterface arg0, int arg1) {
            Editable res = input.getText();
            if(res == null) {
                Log.v("Diva..", "In positivebutton..befoer getting rating res is null");
            }
            rating = Double.valueOf(input.getText().toString());
        }
    });

    alert.setNegativeButton("Cancel", new DialogInterface.OnClickListener() {

        @Override
        public void onClick(DialogInterface dialog, int which) {
            rating=0;
        }
    });

    alert.show();        

} 
```

我的来电者`promptUserForInput()`如下所示。

```
// get list of contacts in a cursor
Cursor cursor = ManageDataBaseActivity.queryDataBase(this,     
ManageDataBaseActivity.CONTACT_INFO_TABLE);

if(cursor.getCount()>0) {

    double totalRatingForStats=0;
    cursor.moveToFirst();
    do {
        String[] colNames = cursor.getColumnNames();
        Log.v("Diva Colum names = ", colNames[0] + " " + colNames[1] + " " + colNames[2] + " " + colNames[3]);

        String firstName = cursor.getString(cursor.getColumnIndex("FirstName"));

        Log.v("Diva ..:", firstName);
        String lastName = cursor.getString(cursor.getColumnIndex("LastName"));
        String key = ManageDataBaseActivity.getDbKey(firstName, lastName, 
                                    date, ManageDataBaseActivity.CUSTOMER_DATA_TABLE);
        promptUserForInput(firstName, lastName);
        double ratingReceived = rating;

        totalRatingForStats = totalRatingForStats+ratingReceived;
        // some more processing

                        ManageDataBaseActivity.insertValueToDB(ManageDataBaseActivity.
                                CONTACT_DATA_TABLE+" ", .....);
    } while(cursor.moveToNext()); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-10T14:44:16.260

简短的回答：不要。

长答案：您不应该在等待用户输入时阻塞 GUI 程序的主线程。相反，您应该提供一个继续按钮，该按钮会触发一个导致程序继续的事件。有几种方法可以实现这一点，首先想到的是信号和信号量。

我不太精通 Android 编程 - 但 API 中应该有类似的东西，可能依赖于 Intents。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-10T14:45:00.770

在 Activity 的主线程中循环通常不是一个好主意。但是您可以实现类似`pollNext()`从光标获取下一个数据集并将单击方法更改为以下方法的方法：

```
@Override
public void onClick(DialogInterface dialog, int which) {
    // do your rating stuff

    // reads the next dataset
    pollNext();

    // shows the next dialog
    // of course, firstName and lastName must be membervariables to make this work
    promptUserForInput(firstName, lastName); 
} 
```

其背后的想法非常普遍，也用于[MVC 模式](http://en.wikipedia.org/wiki/Model%E2%80%93view%E2%80%93controller)

# ios - CATransform3DTranslate 如何翻译？

> ID：15323389
> 
> 赞同：1
> 
> 时间：2013-03-10T14:37:51.037
> 
> 标签：ios, objective-c, core-animation

我知道 CATransform3D 被定义为

```
struct CATransform3D
{
CGFloat m11, m12, m13, m14;

CGFloat m21, m22, m23, m24;

CGFloat m31, m32, m33, m34;

CGFloat m41, m42, m43, m44;
}; 
```

苹果文件说

```
CATransform3DTranslate
Translate 't' by '(tx, ty, tz)' and return the result: t' = translate(tx, ty, tz) * t. 
```

我想实现我的 CATransform3DTranslate 方法，但我不确切知道如何计算 t'，即我有类似的变换`self.layer.transform`，并且 tx = 10，ty=tz=0，如何计算得到 t'？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-10T14:58:45.617

你不必。您只需在图层上使用 CATransform3dMakeTranslation 方法，设置输入值和游戏！CATransform3dMakeTranslation（如 CATransform3DMakeRotation）将完成所有数学运算，但具有坐标变化的旋转平移矩阵。如果您只想平移/旋转/旋转 3d 空间中的图层，则不必担心矩阵本身。

# animation - 绘制多个矩阵 gnuplot

> ID：15323390
> 
> 赞同：0
> 
> 时间：2013-03-10T14:37:52.653
> 
> 标签：animation, matrix, gnuplot

我对 gnuplot 还很陌生，我正在尝试查看我的数组如何随着要调试的程序的迭代而变化，理想情况下，我希望能够制作数据的动画。

这是我的数据的样子：

**'q=0'**

```
1 0 0 

0 1 1

1 1 0 
```

**'q=1'**

```
1 0 0  
0 1 1  
0 1 0 
```

等等。

我尝试使用： plot `"matrix.dat"`index 0 matrix with image，只是为了绘制第一个矩阵，但我得到了`"Warning matrix contains missing or undefined values, Matrix does not represent a grid".`

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-10T15:25:42.530

我认为问题可能出在注释行上。当我使用您的数据文件的这个版本时

```
1 0 0
0 1 1
1 1 0

1 0 0 
0 1 1 
0 1 0 
```

`index`用作品谋划。要制作动画，您可以创建一系列 .png 文件并将[它们与另一个应用程序拼接在一起](http://www.gnuplotting.org/animation-gif/)。制作 .pngs 的 gnuplot 代码示例如下：

```
set terminal png
do for [i=0:100] {
    set output sprintf('matrix%03.0f.png',i)
    plot 'data.dat' index i matrix with image
} 
```

# jquery - 为 Gecko 引擎优化的 jQuery 库

> ID：15323394
> 
> 赞同：4
> 
> 时间：2013-03-10T14:38:11.033
> 
> 标签：jquery, firefox, xul, gecko, zepto

是否有任何 jQuery 库经过优化/最小化仅用于 Gecko 引擎？

不用支持trident、webkit等就不用了！

除了 zepto.js，我没有成功搜索。它足够好和安全吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-05-16T12:34:19.080

jQuery 2.0 删除了对 IE 的支持，并且大大缩小了大小（12%）。

[http://blog.jquery.com/2013/04/18/jquery-2-0-released/](http://blog.jquery.com/2013/04/18/jquery-2-0-released/)

它也看起来有点快..

[http://jsperf.com/jquery-1-9-vs-2-0](http://jsperf.com/jquery-1-9-vs-2-0)

# android - 使用 MediaPlayer 后释放消耗的内存

> ID：15323406
> 
> 赞同：2
> 
> 时间：2013-03-10T14:39:32.983
> 
> 标签：android, android-mediaplayer, android-memory

我正在开发一个包含 100 种音效的应用程序。播放一些声音后，应用力关闭。我知道问题将消耗内存的所有可用空间。我尝试使用 Release() 方法，但在调用此方法后，我无法再次播放声音。我还尝试使用 onDestroy() 方法将媒体播放器的对象设置为 null，但由于这些对象必须是最终的，我不能这样做。你的建议是什么？这是我的代码：

```
final MediaPlayer mp1 = MediaPlayer.create(MainActivity.this, R.raw.a1);

    btn1.setOnClickListener(new View.OnClickListener() {

        @Override
        public void onClick(View v) {

            if (i[0] == false)
            {

                mp1.start();
                Toast.makeText(getBaseContext(), "horn", Toast.LENGTH_SHORT).show();

                b1.setBackgroundResource(R.drawable.stop_button);

                i[0] = true;

            }
            else
            {

                mp1.pause();
                mp1.seekTo(0);

                b1.setBackgroundResource(R.drawable.horn);

                i[0] = false;

            }

        }
    });

    mp1.setOnCompletionListener(new OnCompletionListener() {

        @Override
        public void onCompletion(MediaPlayer mp) {

            b1.setBackgroundResource(R.drawable.horn);

        }
    }); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2014-01-26T01:17:44.327

你有没有尝试过这样的事情？

您可以在 OnDestroy() 方法中调用 release()。

```
 @Override
     public void onDestroy(){
     super.onDestroy();
        mp.release();
     } 
```

# actionscript-3 - 使用分组集合对高级 DataGrid 进行排序

> ID：15323409
> 
> 赞同：1
> 
> 时间：2013-03-10T14:39:58.290
> 
> 标签：actionscript-3, apache-flex, air

我创建了一个高级 datagrd 和分组选项来显示数据。就我而言，我想显示作者列表和他们的书。

```
<mx:AdvancedDataGrid height="350"
         displayItemsExpanded="true">
<mx:dataProvider>
  <mx:GroupingCollection2 id="groupingCollection"
              source="{bookList}">
    <mx:grouping>
      <mx:Grouping>
        <mx:GroupingField name="author"
                 />
      </mx:Grouping>
    </mx:grouping>
  </mx:GroupingCollection2>
</mx:dataProvider>
<mx:columns>
  <mx:AdvancedDataGridColumn dataField="author"
                 width="150"/>
  <mx:AdvancedDataGridColumn dataField="birthday"
                 width="100"/>
  <mx:AdvancedDataGridColumn dataField="title"
                 width="250"/>
  <mx:AdvancedDataGridColumn dataField="dateOfPublication"
                 width="150"
                 />
</mx:columns> 
```

但即使我的数据提供者在开始时按 dateOfPublication 排序，分组后，每个组中的顺序都会丢失。

你知道如何通过 dateOfPublication 强制重新排序每个组吗？

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-11T15:30:07.570

是的，GroupingCollection2 似乎破坏了现有的数据源类型。

您需要为每个 GroupFields 定义一个排序函数 - 查看 GroupFields compareFunction 的文档。例如：

```
<mx:GroupingField name="author" compareFunction="sortByDate"/> 
```

compare 函数接受两个对象（数据源的元素），如果第一项小于/等于/大于第二项，则返回 -1/0/1：

```
private function sortByDate(item1:Object, item2:Object) : int
{
   // Whatever comparison function you want
} 
```

# jquery - 使用 .attr 为变量赋值

> ID：15323415
> 
> 赞同：0
> 
> 时间：2013-03-10T14:40:25.290
> 
> 标签：jquery, sharepoint, sharepoint-2007, href, attr

jquery 的新手，无论我多么努力地谷歌，似乎都找不到答案。

我可能会以完全错误的方式进行此操作，但这与我发现的情况一样接近，但它根本不起作用。我正在尝试获取所有带有以“/ric”开头的 href 值的锚标记，它们是本地链接，然后在开头添加缺少的域信息。

出于某种原因，它根本不允许我设置 originalHref 的值（或者看起来，在声明变量后尝试使用“alert（originalHref）；”进行调试，但我没有得到任何返回）。

```
$('a[href^="/ric"]').each(function(){ 
       var originalHref = $(this).attr("href");
       this.href = this.href.replace(href, 'http://www.test.com' + originalHref);
    };
}); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-10T14:44:40.623

这就是你要找的：

```
$(this).attr('href','http://www.test.com'+originalHerf); 
```

你可以通过这样做来删除一行：

```
$(this).attr('href','http://www.test.com'+$(this).attr('href')); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-10T14:44:58.390

```
$('a[href^="/ric"]').each(function(){ 
    $(this).attr('href', 'http://www.test.com' + $(this).attr('href'));
}); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-11T17:10:07.847

href ^= 的 jQuery 选择器只会查找 URL 中以 /ric 开头的元素。

如果您的 URL 是 www.google.com/ric，它将与选择器不匹配，并且不会使用上面提供的 jQuery 更改 href 属性。

请注意，给出的所有答案都基于以 /ric 开头的 href

如果您检查页面源并找到您尝试更改的锚标记并检查 href 属性。它是否有相对 ('/ric') 或绝对 (' [https://appservicesstd.wss.bank.com/ric](https://appservicesstd.wss.bank.com/ric) ') URL？

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-10T14:42:38.060

```
$(this).attr('href','http://www.test.com'+$(this).attr('href')); 
```

**句法;**

```
$(selector).attr(attribute,value); 
```

它会起作用的

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-03-10T14:46:58.273

试试这个选项：

```
$('a[href^="/ric"]').attr( "href", function(){ 
   return ('http://www.test.com' + $(this).attr('href'));
}); 
```

**[样本](http://jsfiddle.net/ym6ZN/)**

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2014-12-01T17:49:43.047

```
$(this).attr('href','http://www.test.com',$(this).attr('href')); 
```

它是我的测试代码：

```
<script type="text/javascript">
        $(function (){ 
            $('button').click(function(){
               var text = $('.qwerty').html();
            });
        $(".qwerty1").attr('dir',$('.qwerty').html());
        });

        </script>
        <div class="qwerty">123</div>
        <div class="qwerty1" dir=""></div> 
```

我希望我对你有所帮助。

# c# - MenuItem with dynamic MenuItems

> ID：15323417
> 
> 赞同：0
> 
> 时间：2013-03-10T14:40:36.547
> 
> 标签：c#, .net, wpf

I have this `MenuBar` in my application:

```
<Menu Grid.Row="0" Height="22" Name="menu1" HorizontalAlignment="Stretch" VerticalAlignment="Top" >
        <MenuItem Header="File" />
        <MenuItem Header="Youtube">

        </MenuItem>
        <MenuItem Header="Help" />
    </Menu> 
```

And i want to add items to the Youtube `MenuItem` dynamic ,something like this:

```
MenuItem menu = (MenuItem)sender;
        ItemCollection items = menu.Items;
        items.Clear();

        if (YouTubeAuth.CreateInstance().IsLogin())
        {
            MenuItem refreshItem = new MenuItem();
            refreshItem.Header = "Refresh";
            refreshItem.Click += DidPressRefresh;
            items.Add(refreshItem);

            MenuItem logouttItem = new MenuItem();
            logouttItem.Header = "Signout";
            logouttItem.Click += DidPressLogout;
            items.Add(logouttItem);
        }
        else
        {
            MenuItem loginItem = new MenuItem();
            loginItem.Header = "Login";
            loginItem.Click += DidPressLogin;
            items.Add(loginItem);
        } 
```

It say if you login show logout and refresh otherwise shot login. I try to add this method to `Click="DidPressDeleteAllFavorites"` of the `Youtube MenuItem` but it won't work. Any idea how to fix it? what i do wrong?

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-11T12:13:43.010

if you are using the MVVM-pattern

```
<MenuItem Header="Youtube" ItemsSource="{Binding yourProperty}"/> 
```

* * *

if you are working with code-behind

XAML

```
 <MenuItem Header="Youtube" Name="myYoutube"/> 
```

Code-behind

```
 myYoutube.ItemsSource=yourMenuItems; 
```

* * *

## EDIT

the problem in your code is in my opinion you just need to call your Event Code on on startup because your Youtube has no subMenuitem on begin or you could also call `UpdateLayout()` in your event this could also maybe fix it

## Working Example

**Codebehind**

```
 public partial class MainWindow : Window
    {
        bool test = false;
        public MainWindow()
        {
            InitializeComponent();

            MenuItem_Click(myYouTube, null);
        }

        private void MenuItem_Click(object sender, RoutedEventArgs e)
        {
            var mymenuitem = sender as MenuItem;

            MenuItem menu = (MenuItem)sender;
            ItemCollection items = menu.Items;
            items.Clear();

            if (test)
            {
                MenuItem refreshItem = new MenuItem();
                refreshItem.Header = "Refresh";
                //refreshItem.Click += DidPressRefresh;
                items.Add(refreshItem);

                MenuItem logouttItem = new MenuItem();
                logouttItem.Header = "Signout";
                //logouttItem.Click += DidPressLogout;
                items.Add(logouttItem);

                test = false;
            }
            else
            {
                MenuItem loginItem = new MenuItem();
                loginItem.Header = "Login";
                //loginItem.Click += DidPressLogin;
                items.Add(loginItem);

                test = true;
            }
        }
    } 
```

**XAML**

```
 <Menu Height="23" HorizontalAlignment="Left" Margin="84,66,0,0" Name="menu1" VerticalAlignment="Top" Width="200">
            <MenuItem Header="File" />
            <MenuItem Header="Youtube" Name="myYouTube" Click="MenuItem_Click">

            </MenuItem>
            <MenuItem Header="Help" />
        </Menu> 
```

# c# - 合并三个表时出错

> ID：15323418
> 
> 赞同：1
> 
> 时间：2013-03-10T14:40:36.510
> 
> 标签：c#

我遇到错误“对象引用未设置为对象的实例。”

```
 // Define the ADO.NET objects.
        SqlConnection con = new SqlConnection(connectionString);
        string selectSQL = "SELECT * FROM tbl_lecturer_project";
        SqlCommand cmd = new SqlCommand(selectSQL, con);
        SqlDataAdapter adapter = new SqlDataAdapter(cmd);
        DataSet dsPubs = new DataSet();

        // Try to open database and read information.
        try
        {
            con.Open();
            adapter.Fill(dsPubs, "tbl_lecturer_project");

            // This command is still linked to the data adapter.
            cmd.CommandText = "SELECT * FROM tbl_student_project_choice";
            adapter.Fill(dsPubs, "tbl_student_project_choice");

            cmd.CommandText = "SELECT * FROM tbl_team";
            adapter.Fill(dsPubs, "tbl_team");

            DataRelation SCoiceLec = new DataRelation("SCoiceLec",  dsPubs.Tables["tbl_lecturer_project"].Columns["lecturerProjectId"], dsPubs.Tables["student_project_choice"].Columns["choiceProjectId"]);
            DataRelation SChoiceNTeam = new DataRelation("SChoiceNTeam",dsPubs.Tables["student_project_choice"].Columns["choiceGroupId"], dsPubs.Tables["tbl_team"].Columns["teamId"]); 
```

请帮忙。我想从所有 3 个表中检索数据。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-10T14:45:14.200

您的代码存在许多问题。这是一个：

```
adapter.Fill(dsPubs, "tbl_lecturer_project"); 
```

应该

```
adapter.Fill(dsPubs); 
```

* * *

我想你想要的是这样的：

```
string selectSQL = @"SELECT * FROM tbl_lecturer_project;
                     SELECT * FROM tbl_student_project_choice;
                     SELECT * FROM tbl_team";

using(SqlConnection con = new SqlConnection(connectionString))
{
   con.Open();
   using(SqlCommand cmd = new SqlCommand(selectSQL, con))
   {
      using(SqlDataAdapter adapter = new SqlDataAdapter(cmd))
      {
         DataSet dsPubs = new DataSet();

         adapter.Fill(dsPubs);

         // use dataset.
      }
   }
} 
```

这三个表的名称分别为`Table`、`Table1`和`Table2`

# mongodb - mongodb 无法将 $pull/$pullAll 修饰符应用于非数组，如何删除数组元素

> ID：15323422
> 
> 赞同：7
> 
> 时间：2013-03-10T14:41:26.447
> 
> 标签：mongodb

我遇到了一个关于 mongodb 的问题。

```
db.tt.find()
{ "_id" : ObjectId("513c971be4b1f9d71bc8c769"), 
  "name" : "a", 
  "comments" : [ { "name" : "2" }, { "name" : "3" } ] 
} 
```

上面是一个测试文件。

我想提取 comments.name = 2

我做

```
db.tt.update({'comments.name':'2'},{'$pull':{'comments.$.name':'2'}}); 
```

但控制台打印这些消息：

无法将 $pull/$pullAll 修饰符应用于非数组

我的 mongodb 版本是 2.0.6

谁能帮我？非常感谢你

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2013-03-10T15:17:02.513

你的`$pull`语法是关闭的，它应该是：

```
db.tt.update({'comments.name': '2'}, {$pull: {comments: {name: '2'}}}) 
```

# php - 尝试包含文件时“没有这样的文件或目录”

> ID：15323423
> 
> 赞同：-1
> 
> 时间：2013-03-10T14:41:28.583
> 
> 标签：php

今天我有一个小问题，我试图在 php 类中调用一个函数（Auth.php->GetNumOnline()）

我试图从一个处理我所有“统计信息”的类中调用它。

这是我的代码：统计类

```
class statReciever
{

public function GetNumOnline()
{
    set_include_path("{$_SERVER['DOCUMENT_ROOT']}");
    include("../Authentication/Auth.php");
    $auth = new Auth();
    return $auth->NumOnline();
}
} 
```

这是 Auth 类的精简版

```
class Auth
{
 public function NumOnline()
 {
    return 0;
 }
} 
```

这是我的目录的屏幕截图： ![屏风](../Images/b2509c4d7f9dd894ae6fcfd3eeb6a5c7.png)

这是我收到的错误：[Sun Mar 10 14:35:25 2013] [error] [client *MASKED* ] PHP Warning: include(./../Authentication/Auth.php): failed to open stream: No such file或第 16 行 /var/www/example.com/public_html/includes/statReciever.php 中的目录，引用者：[http ://example.com/](http://example.com/)

有人知道怎么修这个东西吗？

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-10T14:45:38.623

include_path 总是从第一个脚本的工作目录计算出来的。

用于`__DIR__`始终使用类的目录作为基本路径。

```
include(__DIR__ . "/../Authentication/Auth.php"); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-10T14:46:56.510

您可以随时使用：

```
include($_SERVER['DOCUMENT_ROOT'].'/projectFolder/Authentication/Auth.php'); 
```

包括您的文件。

当您的项目开始`index.php`并且您想要包含一个包含另一个文件的文件时......然后确保另一个文件的路径是绝对的！（根据`index.php`位置）

例如，我有一个名为的常量文件`config.php`，我总是在其中定义变量，例如：

```
define('PROJECT_LOCATION', $_SERVER['DOCUMENT_ROOT'].'/projectFolder'); 
```

然后我使用这个常量来包含我的文件，例如：

```
include(PROJECT_LOCATION.'/Authentication/Auth.php'); 
```

或类似的东西...

# android - 通过单击/触摸外部来删除片段：

> ID：15323424
> 
> 赞同：7
> 
> 时间：2013-03-10T14:41:29.823
> 
> 标签：android, android-fragments, touch-event

`RelativeLayout`我有一些从动态使用代码中添加和删除的片段。其中一个片段是 a `ListFragment`，与我的其他具有关闭和保存按钮的片段相反，这个片段仅包含一个列表。

我的目标是通过在活动中的任何位置单击它外部来关闭/删除此片段。

我找到了以下代码：

```
@Override
public boolean onTouchEvent(MotionEvent event) {
    // I only care if the event is an UP action
    if (event.getAction() == MotionEvent.ACTION_UP) {
        // create a rect for storing the window rect
        Rect r = new Rect(0, 0, 0, 0);
        // retrieve the windows rect
        this.getWindow().getDecorView().getHitRect(r);
        // check if the event position is inside the window rect
        boolean intersects = r.contains((int) event.getX(), (int) event.getY());
        // if the event is not inside then we can close the activity
        if (!intersects) {
            // close the activity
            this.finish();
            // notify that we consumed this event
            return true;
        }
    }
    // let the system handle the event
    return super.onTouchEvent(event);
} 
```

单击外部时会关闭非全屏活动，但我似乎不明白如何找到我的片段矩形。

有人可以帮助我并指出正确的方向吗？任何帮助，将不胜感激。

谢谢。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-03-11T08:35:36.400

好吧，我终于想通了：

```
@Override
public boolean onTouchEvent ( MotionEvent event ) 
{
    // I only care if the event is an UP action
    if ( event.getAction () == MotionEvent.ACTION_UP ) 
    {
        //and only is the ListFragment shown.
        if (isListFragmentShown)
        {   
            // create a rect for storing the fragment window rect
            Rect r = new Rect ( 0, 0, 0, 0 );
            // retrieve the fragment's windows rect
            currentFragment.getView().getHitRect(r);
            // check if the event position is inside the window rect
            boolean intersects = r.contains ( (int) event.getX (), (int) event.getY () );
            // if the event is not inside then we can close the fragment
            if ( !intersects ) {
                Log.d(TAG, "pressed outside the listFragment");
                FragmentTransaction fragmentTransaction;
                fragmentTransaction = fragmentManager.beginTransaction();
                fragmentTransaction.remove(currentFragment).commit();
                // notify that we consumed this event
                return true;
            }
        }
    }
    //let the system handle the event
    return super.onTouchEvent ( event );
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-10T14:53:32.933

您可以将点击监听器添加到您的容器 RelativeLayout。如果片段已启动，则激活您的 RelativeLayout 的侦听器，以便侦听器仅在片段存在时起作用。

# wix - 使用 wix burn Bootstrapper UI 取消安装和回滚

> ID：15323427
> 
> 赞同：3
> 
> 时间：2013-03-10T14:41:43.740
> 
> 标签：wix, bootstrapper, burn

我正在使用 Wix 3.7。我正在尝试创建安装我的 msi 的 wix burn 引导程序。我在我的 BA UI 中添加了两个按钮用于安装和取消。我正在使用 C# 进行 BA UI 设计。

我在安装按钮中添加了以下代码以进行启动安装。

```
 MySampleBA.Model.Engine.Detect();
  MySampleBA.hwnd = IntPtr.Zero;          
  MySampleBA.Model.Bootstrapper.PlanBegin += this.PlanBegin;
  MySampleBA.Model.Bootstrapper.DetectPackageComplete += this.DetectedPackage;
  MySampleBA.Model.Bootstrapper.DetectComplete += this.DetectComplete;
  MySampleBA.Model.Bootstrapper.PlanPackageBegin += this.PlanPackageBegin;
  MySampleBA.Model.Bootstrapper.PlanComplete += this.PlanComplete;
  MySampleBA.Model.Bootstrapper.ExecuteMsiMessage += this.ExecuteMsiMessage;
  MySampleBA.Model.Bootstrapper.ExecuteProgress += this.ApplyExecuteProgress;
  MySampleBA.Model.Bootstrapper.PlanMsiFeature += this.PlanMsiFeature;
  MySampleBA.Model.Bootstrapper.PlanPackageComplete += this.PlanPackageComplete;
  MySampleBA.Model.Bootstrapper.Progress += this.ApplyProgress;
  MySampleBA.Model.Bootstrapper.CacheAcquireProgress += this.CacheAcquireProgress;
  MySampleBA.Model.Bootstrapper.CacheComplete += this.CacheComplete;
  MySampleBA.Model.Bootstrapper.Error += this.ExecuteError;
  MySampleBA.Model.Bootstrapper.ExecutePackageComplete += this.ExecuteComplte; 
```

并使用启动安装

```
 MySampleBA.Model.Engine.Plan(LaunchAction.Install);
  MySampleBA.Model.Engine.Apply(MySampleBA.hwnd); 
```

安装工作正常。但是我在中途取消安装时遇到问题。

我看到了**[引导程序应用程序回滚](https://stackoverflow.com/questions/15177489/bootstrapper-application-rollback)**链接。但我无法了解 IDCANCEL 以及如何通过单击按钮触发错误事件。

谁能通过单击 BA UI 中详细的取消按钮来告诉如何停止安装？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-03-10T17:13:00.720

Many of the callbacks (like `Progress`) will provide args (like `ProgressEventArgs`) to your bootstrapper application. In the args object you may see a `Result` property. To cancel, set the `Result` property to `Result.Cancel`. When the callback returns to the `Burn` engine, it will see you set the result to cancel and start the rollback process (or do whatever cancel means in that context).

# pagination - 金字塔 + ZODB 和分页

> ID：15323429
> 
> 赞同：1
> 
> 时间：2013-03-10T14:41:45.063
> 
> 标签：pagination, pyramid, zodb

我将图像存储在我的金字塔 ZODB 应用程序中。而且我有一个列出所有图像的视图，但是当我有很多图像时，这会使页面渲染太长/太慢，因此我希望他们分页说，每页 15 张图像。

我在网上看过很多关于 webhelpers 的示例，但都是针对 SQL 的，有没有办法将 webhelpers 与 ZODB 一起使用？还是有其他用于 ZODB 分页的库？

# algorithm - 给定一个数组，找出是否有 2 个数字的差为 c

> ID：15323430
> 
> 赞同：2
> 
> 时间：2013-03-10T14:42:15.703
> 
> 标签：algorithm, big-o

我有这个问题的 O(n ² ) 解决方案，想知道是否有更好的解决方案。如果我们试图找到 2 个数字，其和为 c，那么我知道有一个 O(nlogn) 解决方案。（[在这里](https://stackoverflow.com/questions/8334981/find-pair-of-numbers-in-array-that-add-to-given-sum)给出）我在这里尝试类似的方法：我首先在 O(nlogn) 时间内使用合并排序对数组进行排序，然后从数组的两端开始，并查看它们的差异。如果这等于 c，那么我们就完成了。如果差值大于 c，那么我将最右边的索引减 1，但我认为这是错误的，我们不知道是确实减少了最右边的索引还是必须增加了最左边的索引。我对吗？我们能以更好的时间复杂度解决这个问题吗？谢谢

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-10T14:44:43.233

他们的关键是，一旦对数组进行排序，二分查找就只有`O(logn)`.

对于数组中的每个数，通过二分查找来`x`测试是否在数组中。`x-c`这还是`O(nlogn)`。

如果你想花哨，你可以通过数组迭代两次来做到这一点，但复杂性无论如何都由排序步骤决定。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-10T15:17:19.297

我的方法，使用哈希和`no need for pre-sorting`，它取决于哈希实现，在最好的情况下它可以在 O(n) 中完成，在最坏的情况下 O(nlogn)，

```
arr[] = { ... }
hash[] // maps Integer to Boolean
for e in arr:
    hash[e] = true
    if hash[e+c] == true Or hash[e-c] == true:
        return true
return false 
```

遍历数组，对每个元素`e`执行：

*   `e`在哈希中映射为 true
*   如果存在与`c`当前元素不同的元素，则 Bingo :D

希望这可以帮助 ：）

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-19T18:43:15.947

您可以对需要 O(n log n) 时间的数组进行排序。然后，您可以通过将第一个中的每个成员 x 替换为 c - x，然后反转来创建第二个数组。然后，您可以查看这两个数组是否有一个共同的元素，每个元素都需要两次遍历 O(n)。

# wpf - 在 XAML 中使用字符串作为窗口高度

> ID：15323433
> 
> 赞同：0
> 
> 时间：2013-03-10T14:42:43.730
> 
> 标签：wpf, string, xaml, height, width

我用一些参数制作了一个窗口：

```
<Window x:Class="MsgBox"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    Title="MsgBox" Height="300" Width="500" Topmost="True" WindowStartupLocation="CenterScreen" WindowStyle="None" Loaded="MsgBox_Loaded">
    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="1*"></ColumnDefinition>
            <ColumnDefinition Width="2*"></ColumnDefinition>
        </Grid.ColumnDefinitions>
    </Grid>
</Window> 
```

我想将高度和宽度更改为这些计算出的字符串。它获取用户的屏幕宽度和高度并将其除以四。

```
Public ReadOnly Property PrimaryScreenWidth As Double
    Get
        Return System.Windows.SystemParameters.PrimaryScreenWidth
    End Get
End Property

Public ReadOnly Property PrimaryScreenHeight As Double
    Get
        Return System.Windows.SystemParameters.PrimaryScreenHeight
    End Get
End Property

Private MsgBoxWidth As String = PrimaryScreenWidth \ 4
Private MsgBoxHeight As String = PrimaryScreenHeight \ 4 
```

如何将它设置到我的窗口？

```
 Height="{x:static MsgBoxHeight }" Width="{x:static MsgBoxWidth }" ?? 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-10T14:46:49.283

如果你想这样做，你为什么不干脆

```
Me.Height = MsgBoxHeight
Me.Width = MsgBoxWidth 
```

当你计算属性？

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-10T15:17:21.680

您正在显示并且可能想要的语法，带有花括号：

```
Height="{x:static MsgBoxHeight }" Width="{x:static MsgBoxWidth }" 
```

称为标记扩展语法，它允许使用标记扩展类来设置属性值。以下是你的做法。第一步，创建标记扩展类：

```
Public Class MsgBoxHeight
    Inherits System.Windows.Markup.MarkupExtension

    Public Sub New()
    End Sub

    Public Overrides Function ProvideValue(serviceProvider As IServiceProvider) As Object
        Return System.Windows.SystemParameters.PrimaryScreenHeight / 4
    End Function
End Class 
```

接下来，您将添加一个`xmlns:local="clr-namespace=YourNamespace"`到`<Windows>`，然后您将能够像这样使用它：`Height="{local:MsgBoxHeight}"`。

Window 的完整 XAML 如下所示：

```
<Window x:Class="MainWindow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="clr-namespace:WpfApplication6"
    Title="MainWindow" Height="{local:MsgBoxHeight}" Width="525">
    <Grid>

    </Grid>
</Window> 
```

## 笔记

使用标记扩展意味着您是*从代码*中进行的。您正在向 XAML 引入一个很好的特定于应用程序的扩展，但您需要*代码*才能使其工作。如果您只需要为一个窗口执行此操作，那么从代码隐藏中简单地设置窗口的 and 而不用担心标记扩展会更有`Height`意义`Width`。

# java - JSP 的奇怪错误

> ID：15323437
> 
> 赞同：-2
> 
> 时间：2013-03-10T14:43:12.810
> 
> 标签：java, file, jsp

我的应用程序中的一个 JSP 出现了一个全新的错误。这是我在过去 2 年开发此应用程序时第一次看到这种情况。

```
[/WEB-INF/jsp/customer/landing.jsp]: java.io.IOException: tmpFile.renameTo(inOutClassFile) failed 
```

我试图用谷歌搜索，但大多数链接都含糊不清，并且在讨论 JBoss/Tomcat 错误。我正在使用 Websphere 7.0、JDK 6、Spring 2.5。
知道在哪里调试这个问题吗？
**更新：**这仅在调试模式下发生。任何时候我试图第二次访问该页面时都会抛出错误。
**堆栈跟踪：**

```
[3/9/13 17:28:37:504 CST] 0000002a webapp        E com.ibm.ws.webcontainer.webapp.WebApp logServletError SRVE0293E: [Servlet Error]-[/WEB-INF/jsp/customer/landing.jsp]: java.io.IOException: tmpFile.renameTo(inOutClassFile) failed
    at com.ibm.ws.jsp.translator.utils.SDEInstaller.install(SDEInstaller.java:36)
    at com.ibm.ws.jsp.translator.utils.JspTranslatorUtil.installSmap(JspTranslatorUtil.java:359)
    at com.ibm.ws.jsp.translator.utils.JspTranslatorUtil.translateJspAndCompile(JspTranslatorUtil.java:172)
    at com.ibm.ws.jsp.webcontainerext.AbstractJSPExtensionServletWrapper.translateJsp(AbstractJSPExtensionServletWrapper.java:519)
    at com.ibm.ws.jsp.webcontainerext.AbstractJSPExtensionServletWrapper._checkForTranslation(AbstractJSPExtensionServletWrapper.java:441)
    at com.ibm.ws.jsp.webcontainerext.AbstractJSPExtensionServletWrapper.checkForTranslation(AbstractJSPExtensionServletWrapper.java:299)
    at com.ibm.ws.jsp.webcontainerext.AbstractJSPExtensionServletWrapper.handleRequest(AbstractJSPExtensionServletWrapper.java:149)
    at com.ibm.ws.webcontainer.webapp.WebAppRequestDispatcher.forward(WebAppRequestDispatcher.java:341)
    at org.springframework.web.servlet.view.InternalResourceView.renderMergedOutputModel(InternalResourceView.java:236)
    at org.springframework.web.servlet.view.AbstractView.render(AbstractView.java:257)
    at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1183)
    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:902)
    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:807)
    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:571)
    at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:511)
    at javax.servlet.http.HttpServlet.service(HttpServlet.java:738)
    at javax.servlet.http.HttpServlet.service(HttpServlet.java:831)
    at com.ibm.ws.webcontainer.servlet.ServletWrapper.service(ServletWrapper.java:1657)
    at com.ibm.ws.webcontainer.servlet.ServletWrapper.service(ServletWrapper.java:1597)
    at com.ibm.ws.webcontainer.filter.WebAppFilterChain.doFilter(WebAppFilterChain.java:131)
    at com.opensymphony.sitemesh.webapp.SiteMeshFilter.obtainContent(SiteMeshFilter.java:129)
    at com.opensymphony.sitemesh.webapp.SiteMeshFilter.doFilter(SiteMeshFilter.java:77)
    at com.ibm.ws.webcontainer.filter.FilterInstanceWrapper.doFilter(FilterInstanceWrapper.java:188)
    at com.ibm.ws.webcontainer.filter.WebAppFilterChain.doFilter(WebAppFilterChain.java:116)
    at org.springframework.security.util.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:378)
    at org.springframework.security.intercept.web.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:109)
    at org.springframework.security.intercept.web.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:83)
    at org.springframework.security.util.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:390)
    at org.springframework.security.ui.SessionFixationProtectionFilter.doFilterHttp(SessionFixationProtectionFilter.java:67)
    at org.springframework.security.ui.SpringSecurityFilter.doFilter(SpringSecurityFilter.java:53)
    at org.springframework.security.util.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:390)
    at org.springframework.security.ui.ExceptionTranslationFilter.doFilterHttp(ExceptionTranslationFilter.java:101)
    at org.springframework.security.ui.SpringSecurityFilter.doFilter(SpringSecurityFilter.java:53)
    at org.springframework.security.util.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:390)
    at com.hcsc.premier.provider.web.security.LogContextManagementFilter.doFilter(LogContextManagementFilter.java:59)
    at org.springframework.security.util.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:390)
    at org.springframework.security.providers.anonymous.AnonymousProcessingFilter.doFilterHttp(AnonymousProcessingFilter.java:105)
    at org.springframework.security.ui.SpringSecurityFilter.doFilter(SpringSecurityFilter.java:53)
    at org.springframework.security.util.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:390)
    at org.springframework.security.wrapper.SecurityContextHolderAwareRequestFilter.doFilterHttp(SecurityContextHolderAwareRequestFilter.java:91)
    at org.springframework.security.ui.SpringSecurityFilter.doFilter(SpringSecurityFilter.java:53)
    at org.springframework.security.util.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:390)
    at org.springframework.security.ui.AbstractProcessingFilter.doFilterHttp(AbstractProcessingFilter.java:277)
    at org.springframework.security.ui.SpringSecurityFilter.doFilter(SpringSecurityFilter.java:53)
    at org.springframework.security.util.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:390)
    at org.springframework.security.ui.logout.LogoutFilter.doFilterHttp(LogoutFilter.java:89)
    at org.springframework.security.ui.SpringSecurityFilter.doFilter(SpringSecurityFilter.java:53)
    at org.springframework.security.util.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:390)
    at com.hcsc.premier.provider.web.security.FrameworkUserSessionIntegrationFilter.doFilter(FrameworkUserSessionIntegrationFilter.java:73)
    at org.springframework.security.util.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:390)
    at org.springframework.security.context.HttpSessionContextIntegrationFilter.doFilterHttp(HttpSessionContextIntegrationFilter.java:235)
    at org.springframework.security.ui.SpringSecurityFilter.doFilter(SpringSecurityFilter.java:53)
    at org.springframework.security.util.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:390)
    at org.springframework.security.util.FilterChainProxy.doFilter(FilterChainProxy.java:175)
    at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:236)
    at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:167)
    at com.ibm.ws.webcontainer.filter.FilterInstanceWrapper.doFilter(FilterInstanceWrapper.java:188)
    at com.ibm.ws.webcontainer.filter.WebAppFilterChain.doFilter(WebAppFilterChain.java:116)
    at com.ibm.ws.webcontainer.filter.WebAppFilterChain._doFilter(WebAppFilterChain.java:77)
    at com.ibm.ws.webcontainer.filter.WebAppFilterManager.doFilter(WebAppFilterManager.java:908)
    at com.ibm.ws.webcontainer.servlet.ServletWrapper.handleRequest(ServletWrapper.java:934)
    at com.ibm.ws.webcontainer.servlet.ServletWrapper.handleRequest(ServletWrapper.java:502)
    at com.ibm.ws.webcontainer.servlet.ServletWrapperImpl.handleRequest(ServletWrapperImpl.java:179)
    at com.ibm.ws.webcontainer.webapp.WebApp.handleRequest(WebApp.java:3826)
    at com.ibm.ws.webcontainer.webapp.WebGroup.handleRequest(WebGroup.java:276)
    at com.ibm.ws.webcontainer.WebContainer.handleRequest(WebContainer.java:931)
    at com.ibm.ws.webcontainer.WSWebContainer.handleRequest(WSWebContainer.java:1583)
    at com.ibm.ws.webcontainer.channel.WCChannelLink.ready(WCChannelLink.java:186)
    at com.ibm.ws.http.channel.inbound.impl.HttpInboundLink.handleDiscrimination(HttpInboundLink.java:445)
    at com.ibm.ws.http.channel.inbound.impl.HttpInboundLink.handleNewRequest(HttpInboundLink.java:504)
    at com.ibm.ws.http.channel.inbound.impl.HttpInboundLink.processRequest(HttpInboundLink.java:301)
    at com.ibm.ws.http.channel.inbound.impl.HttpICLReadCallback.complete(HttpICLReadCallback.java:83)
    at com.ibm.ws.tcp.channel.impl.AioReadCompletionListener.futureCompleted(AioReadCompletionListener.java:165)
    at com.ibm.io.async.AbstractAsyncFuture.invokeCallback(AbstractAsyncFuture.java:217)
    at com.ibm.io.async.AsyncChannelFuture.fireCompletionActions(AsyncChannelFuture.java:161)
    at com.ibm.io.async.AsyncFuture.completed(AsyncFuture.java:138)
    at com.ibm.io.async.ResultHandler.complete(ResultHandler.java:204)
    at com.ibm.io.async.ResultHandler.runEventProcessingLoop(ResultHandler.java:775)
    at com.ibm.io.async.ResultHandler$2.run(ResultHandler.java:905)
    at com.ibm.ws.util.ThreadPool$Worker.run(ThreadPool.java:1563) 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-10T14:50:52.400

可能是错误的原因是： -

1.  目标文件已经存在
2.  目标目录不存在
3.  目标目录位于不同的文件系统上
4.  目标目录是只读的（或者至少，当前用户没有写权限）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-03-01T22:08:07.280

我也遇到过这个问题，也很挣扎。当我从调试模式停止 WAS 并在正常模式下重新启动时，终于得到了解决。尝试，它会工作。

# c# - 在 TcpListener 中等待客户端

> ID：15323440
> 
> 赞同：1
> 
> 时间：2013-03-10T14:43:19.703
> 
> 标签：c#, client-server

我正在使用`System.Net.Sockets.TcpListener tcpl`,`System.Net.Sockets.NetworkStream ns`和`System.Net.Sockets.TcpClient echoserver;`在服务器中制作客户端服务器应用程序，并使用此代码来保持应用程序响应：

```
while (!tcpl.Pending())
   Application.DoEvents();
echoserver = tcpl.AcceptTcpClient();
   ns = echoserver.GetStream();
using (MemoryStream ms = new MemoryStream())
{
   while ((i = ns.Read(recivedbytes, 0, recivedbytes.Length)) != 0)
   {
        ms.Write(recivedbytes, 0, i);
   }
} 
```

我正在等待客户端，但这会给处理器带来过多的负载。是否有任何其他逻辑可以在不增加处理器负载的情况下执行此操作？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-10T14:52:12.977

在

```
while (!tcpl.Pending())
   Application.DoEvents();
echoserver = tcpl.AcceptTcpClient(); 
```

`while`- 语句实际上是多余的，因为是`AcceptTcpCLient()`一种阻塞方法。如果您希望您的 UI 具有响应性，请为您创建一个线程`TcpListener`并在那里等待`AcceptTcpClient()`传入请求。

请参阅[MSDN](http://msdn.microsoft.com/de-de/library/system.net.sockets.tcplistener.acceptsocket.aspx)以获取更多参考。

# ruby-on-rails - 无法使用 TestUnit 测试用户名验证

> ID：15323444
> 
> 赞同：0
> 
> 时间：2013-03-10T14:43:36.713
> 
> 标签：ruby-on-rails, unit-testing, testing

我的用户模型中有以下验证：

```
 validates :name, :format => {
    :with    => /^[a-zA-Z]+$/,
    :message => 'Only letters allowed.'
  } 
```

这是我的测试：

```
 test 'name must consist of letters only' do
    user = User.new(:name => 'test123')
    assert user.errors[:name].any?
  end 
```

测试总是失败。我做错了什么？xD

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-10T14:48:36.487

您的断言与应有的相反。反转断言的条件。

试试这个

```
test 'name must consist of letters only' do
  user = User.new(:name => 'test123')
  assert !user.valid?
end 
```

另外，尝试使用`validates_format_of`而不是`validate`

```
validates_format_of :name, :with    => /^[a-zA-Z]+$/, :message => 'Only letters allowed.' 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-10T16:23:12.167

我弄清楚我的问题是什么：
我应该已经完成`user.valid?`​​，`user.invalid?`或者`user.save`在尝试访问之前`user.errors`。上面的这些命令实际上会产生错误，之后我可以访问它们。
最后结果：

```
 validates_format_of :name, :with => /^[a-zA-Z]+$/, :message => 'Only letters allowed'

  test 'name must consist of letters only' do
    user = User.new(:name => 'test123')
    user.save
    assert user.errors[:name].any?
  end 
```

# c# - 解释这个包含 SQLite + C# 代码的类文件

> ID：15323447
> 
> 赞同：0
> 
> 时间：2013-03-10T14:43:44.017
> 
> 标签：c#, entity-framework, ef-code-first

我在这里发布了一个由 C# 为 SQLite 连接制作的项目的代码。我试图理解但不满意。

我认为这段代码的作用是：

*   在名为的数据库中创建一个表`Contact`
*   此表将具有联系人类文件 ID、名字、姓氏和电子邮件中提到的属性。
*   并且`ToString()`方法的实现将返回一个字符串，其中包含输入用户的名字和姓氏。

尽管有人请帮助我做出正确的解释。

开始了...

```
using System.ComponentModel;
using SQLite;

namespace VSMWin8SqliteDemo.DataAccess.Entities
{
    [Table("Contacts")]
    public class Contact
    {
        [PrimaryKey, Unique, AutoIncrement]
        public int Id { get; set; }
        public string FirstName { get; set; }
        public string LastName { get; set; }
        public string Email { get; set; }

        public override string ToString()
        {
            return string.Format("{0}, {1}", LastName, FirstName);
        }
    }
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-11T09:27:27.217

当表格首先由代码生成时，它应该产生类似这样的东西![截屏](../Images/3fec8864af5f4a20f1f761d87dae9d3b.png)

# php - 无法在电子邮件 codeigniter 中加载标签 html

> ID：15323449
> 
> 赞同：0
> 
> 时间：2013-03-10T14:43:50.553
> 
> 标签：php, codeigniter, html-email

我的网站项目有新问题

当我单击验证以向电子邮件用户发送电子邮件时

标签 html 无法在收件箱中加载

例子 ：

```
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
<body>
<h2>selamat datang Cumed Karlam di <a
href="http://www.cam-corp.com/">cam-corp</a></h2>
<br />
terima kasih atas partisipasi di <a
href='http://www.cam-corp.com/'>cam-corp</a>. 
anda telah bergabung menjadi operator di <a
href='http://www.cam-corp.com/'>cam-corp</a> dengan kata lain anda telah
menjadi reseller. 
semoga keberadaan anda di <a href='http://www.cam-corp.com/'>cam-corp</a>
dapat membantu <a href='http://www.cam-corp.com/'>cam-corp</a> menjadi
website jual beli yang terpercaya.
<br />
<br />
<br />
di bawah ini adalah username dan password anda di <a
href='http://www.cam-corp.com/'>cam-corp</a>.
<br />
-------------------------------------------------------
<br />
    username : ahmad7<br />
password : 4<br />
merk : Ahmad-ban<br />
-------------------------------------------------------
<br/>
<br />
<br />
</body>
</html> 
```

你能帮助我吗 ？谢谢 ：）

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-10T14:49:45.357

你的问题比较不清楚。

如果您的意思是用户邮件客户端未解析 HTML 代码，则需要指定内容类型标头，如下所示：

```
$headers = "MIME-Version: 1.0" . "\r\n";
$headers .= "Content-type:text/html;charset=iso-8859-1" . "\r\n"; 
```

# asp.net - IIS 服务器未加载数据库

> ID：15323450
> 
> 赞同：3
> 
> 时间：2013-03-10T14:43:58.143
> 
> 标签：asp.net, sql-server, iis

我已经使用 asp.net 创建了一个网站，当我使用 Visual Studio 开发服务器运行它时，一切都运行良好，但是当我尝试通过 IIS 服务器运行它时，网站的主页会加载，但它无法与数据库服务器建立连接

```
<add connectionString="Data Source=ASHUTOSH-PC\SQLEXPRESS;Initial Catalog=CloudStorage;Integrated Security=True" name="connectionStr"/>
</connectionStrings> 
```

这在 Visual Studio 开发服务器上运行良好，但不适用于 IIS....请帮助

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-10T14:58:29.360

由于您`Integrated Security=True`使用的是应用程序池身份来连接到数据库。运行 Cassini 时，您使用自己的凭据。您应该使用有权登录和查询 SQL Server 的用户设置应用程序池标识。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-10T14:59:20.580

来自[MSDN](http://msdn.microsoft.com/en-us/library/58wxa9w5%28v=vs.80%29.aspx)：

> 当您使用 ASP.NET**开发服务器**运行页面时，**该页面将在您当前用户帐户的上下文中运行**。例如，如果您以管理员级别的用户身份运行，则在 ASP.NET 开发服务器中运行的页面将具有管理员级别的权限。相反，**在 IIS**中，默认情况下 ASP.NET在通常具有有限权限**的特殊用户（ASPNET 或 NETWORK SERVICES）的上下文中运行。**ASPNET 或 NETWORK SERVICES 帐户是服务器计算机的本地帐户（不是域帐户），这限制了对其他计算机上资源的访问。
> 
> **数据库访问**
> 使用 ASP.NET 开发服务器时，您通常可以依靠 Windows 集成身份验证来访问 SQL Server。但是，当同一页面在 IIS 中以 ASPNET 或 NETWORK SERVICES 帐户运行时，该页面将在本地用户的上下文中运行，并且您通常必须**将页面配置为使用包含有关用户和密码的信息的连接字符串**. 有关详细信息，请参阅[从 Web 应用程序访问 SQL Server](http://msdn.microsoft.com/en-us/library/ht43wsex%28v=vs.80%29.aspx)和[ASP.NET 安全体系结构](http://msdn.microsoft.com/en-us/library/yedba920%28v=vs.80%29.aspx)。

# python - 使用 python 进行 Excel 操作，pydev 中没有自动完成功能，并且 dir() 不完整

> ID：15323451
> 
> 赞同：1
> 
> 时间：2013-03-10T14:43:58.707
> 
> 标签：python, excel, python-2.7, win32com

我试过这个：

```
from win32com.client.gencache import EnsureDispach
exc = EnsureDispatch("Excel.Application")
wb = exc.Workbooks.Open(r"C:\testBook.xlsx")
ws = wb.Sheets('Sheet1')
ws.Cells(1,1).Value = "i'm writing" 
```

它正在工作，但是 pydev 在自动完成中没有给我任何东西，并且“dir(ws)”正在返回方法和属性列表，但“Cells”不是其中的一部分。

我在哪里可以找到这些对象上所有可用方法的列表？

谢谢

另外，有人知道 EnsureDispatch 和 Client.Dispatch 之间的区别吗？

# php - 如何使用php删除一个php文件？

> ID：15323453
> 
> 赞同：0
> 
> 时间：2013-03-10T14:44:13.233
> 
> 标签：php, unlink

我想使用 unlink() 函数从服务器中删除另一个 php 文件：

```
unlink('../classes/methods.class.php'); 
```

但我得到一个 permession denied 警告。虽然我对那个文件做了 chmod 777

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-10T14:46:24.703

chmod -**尝试**更改文件或目录的权限。

您很可能不允许 chmod 文件（如果您尝试通过 PHP 更改许可）或取消链接，因为您不是文件所有者。了解文件所有权，而不仅仅是许可。

# scala - 如何在 scala 中构造动态枚举

> ID：15323457
> 
> 赞同：0
> 
> 时间：2013-03-10T14:44:32.270
> 
> 标签：scala, generics

如何在 Scala 中构建动态 EnumCreator？

```
class EnumCreater{
  def create[T <: Enum[_]](clazz :Class[T],input:String):T = Enum.valueOf(clazz,input)
} 
```

sclac 编译器报告：

```
error: inferred type arguments [T] do not conform to method valueOf's type parameter bounds [T <: java.lang.Enum[T]] 
```

我试过 asInstanceOf 来解决这个问题，它不起作用。那我该怎么办？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-10T15:27:42.027

为了使其编译，您需要`_`将`T`

```
def create[T <: Enum[T]](clazz: Class[T], input: String): T = 
  Enum.valueOf(clazz, input) 
```

# winapi - Win32 文本框控件 alt 按键消息

> ID：15323460
> 
> 赞同：0
> 
> 时间：2013-03-10T14:44:39.093
> 
> 标签：winapi, unicode, keyboard, editbox

我需要在子窗口控件中连接 alt+alphanumberic 按键。

我编写了这个程序来测试它的功能。但它似乎对我的应用程序（键盘翻译器）所必需的 ALT+X 、 ALT+X 之类的击键没有响应。

```
#include <windows.h>
#include <stdio.h>
#include <wchar.h>
#include <tchar.h>
#include <string.h>

#ifndef NULL
#define NULL 0
#endif

/* glaobal variables */
HWND hwndEdit = NULL;
HWND hwndWindow = NULL;
WCHAR* lpszClassName  = L"Vijesekara Keyboard Test Application";
WCHAR* lpszAppName = L"Vijesekara Keyboard Test Application";
int main_window_width = 0;
int main_window_height = 0;
WNDPROC edit_old_wndproc;

/*
  GWL_WNDPROC
*/
#ifndef GWL_WNDPROC 
#define GWL_WNDPROC (-4)
#endif

/* child window ID's */
#ifndef __CHILD_WINDOW_EDIT_ID__
#define __CHILD_WINDOW_EDIT_ID__
#define ID_EDIT     2000
// :TODO: more comes from here //
#endif 

/* constrains on child window positions */
#ifndef __CHILD_WINDOW_POSITION__
#define __CHILD_WINDOW_POSITION__
#define EDIT_CHILD_LEFT_PRECENTAGE 0.05
#define EDIT_CHILD_RIGHT_PRECENTAGE 0.05
#define EDIT_CHILD_TOP_PRECENTAGE 0.10
#define EDIT_CHILD_BOTTOM_PRECENTAGE 0.10
// :TODO: Other controls //
#endif

/* main window procedure */
LRESULT CALLBACK WndProc(HWND hwnd, UINT message, WPARAM wParam,LPARAM lParam);
/* edit box procedure */
LRESULT CALLBACK EditBoxProc(HWND ,UINT , WPARAM , LPARAM );

/* resize child windows */
void ResizeChildWindows();

/* win main entry */
int WINAPI WinMain (HINSTANCE hInstance, HINSTANCE hPrevInstance,
                    PSTR szCmdLine, int iCmdShow)
{

  WNDCLASS wndclass;

  wndclass.style = CS_HREDRAW |CS_VREDRAW ;
  wndclass.lpfnWndProc = WndProc;
  wndclass.cbClsExtra = 0;
  wndclass.hInstance = hInstance ;
  wndclass.hIcon = (HICON)LoadIcon(NULL,IDI_APPLICATION);
  wndclass.hCursor = (HCURSOR)LoadCursor(NULL,IDC_ARROW);
  wndclass.hbrBackground =(HBRUSH) GetStockObject( WHITE_BRUSH );
  wndclass.lpszMenuName = NULL ;
  wndclass.lpszClassName = lpszClassName ;

  /* Register class */
  int result ;
  result = RegisterClass( &wndclass) ;

  /* if failed to register window */
  if ( 0 == result )
  {
    MessageBox(NULL,L"Registering Window Have Been Failed" , lpszAppName, MB_OK);
    exit(0);  
  }

  /* Create the window */
  hwndWindow = CreateWindow(lpszAppName , lpszAppName ,WS_OVERLAPPEDWINDOW, CW_USEDEFAULT, CW_USEDEFAULT,\
                 CW_USEDEFAULT, CW_USEDEFAULT,NULL,NULL,hInstance,NULL);
  if(NULL == hwndWindow )
  {
    MessageBox(NULL,L"Window Creation have being failed", lpszAppName,MB_OK);
    exit(0); 
  }              
  ShowWindow(hwndWindow, iCmdShow);

  /* Enter message loop */
  MSG msg ;
  while(GetMessage(&msg,NULL, 0,0 ))
  {
    TranslateMessage(&msg);
    DispatchMessage(&msg); 
  } 
  return msg.wParam;
}

/* window procedure */
LRESULT CALLBACK WndProc (HWND hwnd, UINT message,WPARAM wParam,LPARAM lParam)
{
  switch(message)
  {
    case WM_CREATE:
     if( hwndEdit != NULL)
     {
        MessageBox(NULL,L"Edit control handle have already initialized",lpszAppName , MB_OK);
        exit(0);
     } 
     hwndEdit = CreateWindow( L"edit" ,NULL, WS_CHILD|WS_VISIBLE|WS_VSCROLL\
                              |WS_BORDER|ES_LEFT|ES_MULTILINE|ES_AUTOVSCROLL,0,0,0,0,hwnd,(HMENU)ID_EDIT\
                              ,GetModuleHandle(NULL),NULL);
     if( NULL == hwndEdit )
     {
       MessageBox(hwnd, L"Edit child window control creation failed", lpszAppName, MB_OK);
       exit(0);
     }   

    edit_old_wndproc = (WNDPROC)SetWindowLongPtr(hwndEdit,GWL_WNDPROC,(LONG_PTR)EditBoxProc );
      break;

    case WM_SIZE:
       main_window_height = HIWORD(lParam);
       main_window_width = LOWORD (lParam);
       ResizeChildWindows();
       return 0;
    case WM_COMMAND:

      /*:TODO:process */
      break; 

    case WM_DESTROY:

       PostQuitMessage(0);
       return 0; 
    default:
      return DefWindowProc(hwnd,message,wParam,lParam);
  }
  return DefWindowProc(hwnd,message,wParam,lParam);
}

/* resize window procedure */
void ResizeChildWindows()
{
  MoveWindow(hwndEdit,main_window_width*EDIT_CHILD_LEFT_PRECENTAGE , main_window_height* EDIT_CHILD_TOP_PRECENTAGE , \
    main_window_width * (1- EDIT_CHILD_LEFT_PRECENTAGE - EDIT_CHILD_RIGHT_PRECENTAGE)          ,// height 
    main_window_height * (1- EDIT_CHILD_TOP_PRECENTAGE - EDIT_CHILD_BOTTOM_PRECENTAGE), TRUE   // width 
 );  
}
static int alt=0;
static int ctl=0;
static int sys =0;
WCHAR buffer[1024];

LRESULT CALLBACK EditBoxProc(HWND hwnd, UINT message, WPARAM wParam , LPARAM lParam)
{
  switch ( message)
  {

    case WM_SYSCHAR:
      sys =1;
      if( lParam && (1<<29) ) { alt= 1;}
      else { 
        alt=0;
      }

    case WM_KEYPRESS:
      wsprintf( buffer,TEXT("KeyCode is :%d"), wParam);
      MessageBox( NULL,buffer, TEXT("Vijesekara Keyboard"), MB_OK);
      SetFocus(hwnd);
      /* keyboard procedure */

    alt =0;
    if ( sys==1)
    {
      sys=0;
      break;
      }

    return 0;

    default:
      break;
  }
  return CallWindowProc(edit_old_wndproc ,hwndEdit,message,wParam,
           lParam);
}

// end of vijesekara_keyboard.cpp 
```

注意：在子类文本框内，WM_CHAR 消息不适用于 alt 击键，我没有发送 WM_CHAR 消息并按下 alt 键到 AlT+keystokes。所以我使用 spy++ 记录所有消息，然后我找到了 WM_SYSCHAR对于编辑框子窗口内的这些消息，已发送而不是 WM_CHAR。

知道我该怎么做吗？

- 提前致谢 -

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-10T18:57:04.040

好吧，这很奇怪，这是我的 Alt+A 键的 spy+ 输出。

![在此处输入图像描述](../Images/e284b2b5ca74d3320de6813f3ee94593.png)

那么我已经挂钩了 WM_SYSKEYUP 消息，Fixup 是这样的，

```
case WM_SYSKEYUP:
  if( lParam && (1<<29) ) {alt=1;}else{break;}
  if( wParam == 'A' || wParam=='Z'|| wParam =='X' || wParam== 'W' || wParam == 'Y' ){}else{break;}

case WM_SYSCHAR:
  sys =1;
  if( lParam && (1<<29) ) { alt=1; }
  else { 
    alt=0;
    break;
  }

 case WM_CHAR:
  wsprintf( buffer,TEXT("KeyCode is :%d"), wParam);
  MessageBox( NULL,buffer, TEXT("Vijesekara Keyboard"), MB_OK);
  SetFocus(hwnd);
  /* keyboard procedure */

  alt =0;

  return 0; 
```

而且，当我在 WM_SYSKEYU 上中断（调用默认窗口过程）时，它会在 Windows 内发出令人讨厌的叮咚声。我已经返回它然后那个声音消失了。

arx 的说法很奇怪。是的，我弄错了 WM_KEYPRESS，没有叫做 WM_KEYPRESS 的东西。并且应该更正为 WM_CHAR。据他说没有这些机会 MessageBox 出现。这很奇怪。@Arx，您可以发布您的答案，以便挖掘它的其他人可能会受益，我也可以给您一些积分。并且还要挖掘为什么会发生这种情况，之后我们可以接受，这个答案将作为替代答案保留（不解决问题，但已经修复了应用程序）。

# javascript - 可以从 Windows 机器上远程调试 iPad 上的 javascript 吗？

> ID：15323466
> 
> 赞同：5
> 
> 时间：2013-03-10T14:45:10.950
> 
> 标签：javascript, ios, safari, mobile-safari, remote-debugging

我有一台装有 iOS 6.1 的 iPad，连接到一台 Windows 8 机器。我希望能够调试在 iPad 上运行的一些 javascript 代码。

iPad 上的 safari 有一个网络检查选项，需要将 iPad 通过线连接到计算机，然后可以在 Safari 中访问桌面的开发菜单。我为 Windows 安装了 Safari 5，但在开发菜单中没有看到 iPad。

还有其他想法吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2015-06-16T18:16:56.050

Firefox Tools Adapter 允许在 iOS 上使用 Firefox DevTools for Safari。

[https://github.com/mozilla/valence#debugging-safari-firefox-and-other-webviews-on-ios](https://github.com/mozilla/valence#debugging-safari-firefox-and-other-webviews-on-ios)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2015-09-03T13:07:01.210

对于远程调试，我使用[Weinre](http://people.apache.org/~pmuellr/weinre-docs/latest/)。

Weinre 几乎拥有您需要的一切，但缺少 JavaScript 调试器。

它有一个用于 DOM 操作、网络流量、时间线、资源和控制台的 WebInspector。

在 GitHub 上查看此项目：[weinre-remote-debug](https://github.com/elgervb/weinre-remote-debugging)以在本地设置 weinre。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-09-11T02:48:09.923

[此页面](https://blog.idrsolutions.com/2015/02/remote-debugging-ios-safari-on-os-x-windows-and-linux/)上描述的另一个选项是**[jsconsole.com](http://jsconsole.com)**。通过将`<script>`标签附加到您的页面（或在您的设备上运行书签），您可以访问 JS 控制台。

首先，转到 jsconsole.com 并`:listen`在提示符下运行。这将为您提供一个唯一的会话 ID 和一个插入到移动网页中的脚本标记。

[![在此处输入图像描述](../Images/c7481b59b77f934399eb0475593728b6.png)](https://i.stack.imgur.com/IGP5g.png)

现在，您的移动页面生成的任何控制台输出都将流式传输到在您的桌面 Web 浏览器中打开的控制台，包括任何错误！

[![在此处输入图像描述](../Images/390ef4c36e6a6d824c624b5ed5789404.png)](https://i.stack.imgur.com/OPwyV.png)

它当然不能替代完整的网络检查器，但是当您无法访问 Mac 时，它可以让您摆脱麻烦。

来源：[https ://blog.idrsolutions.com/2015/02/remote-debugging-ios-safari-on-os-x-windows-and-linux/](https://blog.idrsolutions.com/2015/02/remote-debugging-ios-safari-on-os-x-windows-and-linux/)

# php - POP PHP Framework之类的准备好的语句

> ID：15323469
> 
> 赞同：0
> 
> 时间：2013-03-10T14:45:26.980
> 
> 标签：php

我正在使用 POP PHP 框架 ( [http://www.popphp.org/](http://www.popphp.org/) )。我正在尝试编写一个准备好的语句来检查数据库中是否已经存在电子邮件地址。

挖掘手册我找不到任何关于如何将文本字符串与数据库中的结果进行比较的示例，只有数字。要做到这一点并不难，就像：

```
$sql->select()->where()->greaterThanOrEqualTo('id', '?'); 
```

但是比较是否存在电子邮件地址，我找不到解决方案。下面是我不完整的代码。第 6 行是我尝试进行比较的地方。没有错误，因为它不受支持。邮件地址存在于数据库中，因此没有任何问题。

```
// Check if user already exists
$db = Db::factory($this->type, $this->creds);

// Create a prepared statement
$sql = new Sql($db, 'user');
$sql->select()->where()->like('email', '?');

// Prepare the statement, bind the parameters and execute
$db->adapter()->prepare('email', '?');
$db->adapter()->bindParams(array('email' => $post['email']));
$db->adapter()->execute();

print_r($db->adapter()->fetch());

if($db->adapter()->fetch() != false)
{
    $error['userExists'] = "User exists";
    echo "Exists";
} 
```

我该怎么做才能完成此代码？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-10T14:51:26.097

我不知道 POPPHP，但在检查[API](http://www.popphp.org/docs/api/)时，您正在寻找的似乎是[`Pop\Db\Sql\Predicate::equalTo($column, $value, $combine)`](http://www.popphp.org/docs/api/classes/Pop.Db.Sql.Predicate.html#method_equalTo)，例如：

```
$sql->select()->where()->equalTo('email', '?'); 
```

# python - 芹菜在不同的服务器上

> ID：15323472
> 
> 赞同：1
> 
> 时间：2013-03-10T14:46:01.027
> 
> 标签：python, web, flask, celery

我是 Celery 的新手，我不知道如何将工作人员设置在不同的服务器上。我有一个 Web 服务器（使用 Flask）和一个专用的数据库服务器。

是否可以在我的网络服务器上不安装任何东西的情况下为 Celery(RabbitMQ + Workers) 创建服务器？

或者如果我必须将它安装在我的网络服务器上，是否需要在同一位置启动工作人员，或者我可以在网络服务器上定义任务并将它们与我的工作人员一起发送到服务器？

谢谢

# google-chrome - 在 Chrome 中打开 URL 并使用命令提示符保存其源代码

> ID：15323476
> 
> 赞同：14
> 
> 时间：2013-03-10T14:46:15.260
> 
> 标签：google-chrome

我很难找到如何在 Chrome 浏览器中使用命令行将页面保存为 html 或 .txt，

这是我到目前为止所做的，

```
C:\Users\Cipher\AppData\Local\Google\Chrome\Application>chrome.exe --new-window
http://google.com 
```

此命令将打开 Chrome 浏览器的新窗口并访问 google.com，但我无法弄清楚如何将 google.com 保存为 html 或 txt 文件，是否可以使用命令提示符进行操作？

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2013-03-26T23:13:45.857

您无法手动执行您描述的任务，但您可以使用 WebDriver 自动化执行它。

Chrome 可以使用称为[WebDriver](http://code.google.com/p/selenium/)（Selenium 2 自动化套件的一部分）的 API 进行远程控制。WebDrive 具有各种编程语言的绑定，包括 JavaScript 和 Python。

这是[Python](http://pypi.python.org/pypi/selenium)的示例代码（未测试）：

```
from selenium import webdriver

driver = webdriver.Chrome('/path/to/chromedriver')  # Optional argument, if not specified will search path.
driver.get('http://www.google.com/');
html = driver.page_source
f = open("myhtml", "wt")
f.write(html)
f.close() 
```

[原始示例](http://code.google.com/p/chromedriver/wiki/GettingStarted)

* * *

## 回答 #2

> 赞同：9
> 
> 时间：2013-03-20T11:47:39.927

你真的需要打开谷歌浏览器吗？[您可以使用 Wget 获取页面源（在 SuperUser 上的这篇文章中](https://superuser.com/questions/25538/what-is-the-windows-equivalent-of-wget)适用于 UNIX 系统或 Windows ）。安装后，只需使用以下命令：

```
wget http://google.com -O yourfilename.html 
```

这应该就是全部了 :) 我认为没有办法告诉 Chrome 从命令行下载 HTML :(

**更新：** GitHub 上有一个名为[chrome-cli](https://github.com/prasmussen/chrome-cli#)的存储库，允许用户从命令行控制 Chrome。缺点是它只适用于 Mac OS X。

* * *

## 回答 #3

> 赞同：7
> 
> 时间：2014-08-19T22:30:20.080

我创建了一个小脚本来执行此任务：[https](https://github.com/abiyani/automate-save-page-as) ://github.com/abiyani/automate-save-page-as 。请参阅自述文件中的演示 gif。

它会*自动*执行您原本要手动保存页面的键盘操作（字面上将这些键信号发送到操作系统）。作为它在我的另一个项目中使用的副作用，它已经在各种 linux 版本上进行了测试：Ubuntu、Mint、Fedora 等 - 并且在所有这些版本上都运行良好。它可能无法在 Mac 上运行（至少在没有修改的情况下），当然也不能在 Windows 上运行。

# php - php-mysql 页面上没有显示任何内容

> ID：15323479
> 
> 赞同：-3
> 
> 时间：2013-03-10T14:46:28.653
> 
> 标签：php, mysql

您好以下不是在网页上播种任何东西。我哪里出错了？

```
The following is a link to profile.php
?>
<a href="profile.php?id=<?php echo $id ?>"><?php echo $id;?></a>
<?PHP 
```

========================================= 这是链接的php文件profile.php

```
<html>

<body bgcolor='#4c5865'>

<p style="position: absolute ; top: 0; text-align: left><font face="geneva" size='1' color="#ccc"><a href="cbs.php" ><b><font color="white">Home</font></p></a>
<?php

include("db1.php");
$id=$_GET['id'];

$result = $mysql_query ("select agt,dvd FROM agttot where agt='$id'");

// keeps getting the next row until there are no more to get
while($row = mysql_fetch_array( $result )) {
$ac =$row[0];
$dc =$row[1];
$bc =$row[2];

 //   echo "<tr bgcolor='#a9a9a9'><td align='right'>";
    print $ac;
 //   echo "</td><td align='right'><b>"; 
    print $dc;
}
?>
</body>
</html> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-10T15:07:06.687

尝试这个

```
 <html>

  <body bgcolor='#4c5865'>

  <p style="position: absolute ; top: 0; text-align: left><font face="geneva" size='1' color="#ccc"><a href="cbs.php" ><b><font color="white">Home</font></p></a>
 <?php

 include("db1.php");
 $id=$_GET['id'];

$result = $mysql_query ("select agt,dvd FROM agttot where agt='$id'");

// keeps getting the next row until there are no more to get
while($row = mysql_fetch_array( $result )) {
$ac =$row['agt'];
$dc =$row['dvd'];  // you dont have to make numbers here but the column names as it saids in your query
$bc =$row[2];    // you dont have to make numbers here but the column names as it saids in your query

//   echo "<tr bgcolor='#a9a9a9'><td align='right'>";
echo $ac.'<br />';
//   echo "</td><td align='right'><b>"; 
echo  $dc.'<br />';
}
?>
</body>
</html> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-10T15:06:55.190

我不是 100% 确定你的问题是什么。我会检查一些有问题的区域：

1.  定了吗`$id`？它有一个整数值吗？

2.  这里的语法错误：

    ```
    <a href="profile.php?id=<?php echo $id ?>"><?php echo $id;?></a> 
    ```

    需要分号 (;) 第 39 列。（不是 100% 确定在这种情况下是否需要，但始终确定）

3.  数据库中有记录吗？

4.  连接顺序在哪里？

5.  你选择了数据库吗？

6.  你还应该使用 mySQL 吗？

看到 mySQL 现在已贬值，这里有一个 mySQLi 示例（程序）：

```
$con=new mysqli_connect('location','user','password','database');
$query=mysqli_prepare('SELECT agt,dvd FROM agttot WHERE agt=?',$con);
mysqli_stmt_bind_param(, $query, 'i', intval($_GET['id']));
mysqli_stmt_execute($query);
mysqli_stmt_bind_result($query,$agt,$dvd);

while(mysqli_stmt_fetch($query)){
    $result[]='<tr><td>'.$agt.'</td><td>'.$dvd.'</td></tr>';
}

mysqli_stmt_close($query);
mysqli_close($con);

echo(isset($result))?$result:$_GET['id'].' < is this a valid record?'; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-10T15:03:04.923

您应该在将“$id”放入您的 SQL 之前对其进行转义。

您的 mysql_query 在函数名之前包含一个额外的 $:

```
$result = **$**mysql_query ("select agt,dvd FROM agttot where agt='$id'"); 
```

应该

```
$result = mysql_query ("select agt,dvd FROM agttot where agt='$id'"); 
```

PS，避免使用 mysql_ 函数集，它们很快就会被弃用。使用 mysqli_ 或 PDO。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-10T14:59:01.593

您没有在此行中 添加`;`after ：`$id`

`<a href="profile.php?id=<?php echo $id ?>"><?php echo $id;?></a>`

`mysql_query()`是一个函数（也不再使用`mysql_*`函数，它们已被弃用！）所以它不应该`$`在前面用 a 调用：

`$result = $mysql_query ("select agt,dvd FROM agttot where agt='$id'");`

# python - 在python中搜索字典键

> ID：15323480
> 
> 赞同：0
> 
> 时间：2013-03-10T14:46:40.940
> 
> 标签：python

如果键存在与否，我如何在二元字典中搜索键，如果存在则打印它的值？

```
wordsCounts = {('the','computer'): 2 , ('computer','science'): 3 , ('math','lecture'): 4, ('lecture','day'): 2} 
```

所以，我想搜索这对是否`('math','lecture')`存在？

```
pair = ['computer','science']
for k in wordscount.keys():
    if wordscount[k] == pair:
         print wordscount[v] 
```

所以结果将是一个列表`('computer','science'): 3`

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-10T14:48:22.167

只需测试该对的*元组*是否存在：

```
if tuple(pair) in wordscount:
    print wordscount[tuple(pair)] 
```

不需要遍历字典中的所有键；如果你只给它一个要查找的键，python 字典在查找匹配键方面的效率要高得多，但它必须是相同的类型。您的字典键是元组，因此在搜索时请使用元组键。

事实上，在 python 字典中，列表是不允许作为键的，因为它们是可变的；如果可以更改密钥本身，您将无法准确搜索密钥。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-10T14:57:01.930

首先，您可能想知道为什么它不起作用..

```
for k in wordscount.keys():
    if wordscount[k] == pair: 
```

`wordscount.keys()`将返回您的元组列表，下一行是将 dict wordsCount 的值与 list 'pair. 解决方案是

```
for k in wordscount.keys():
    if k == tuple(pair):
        print workscount[k] 
```

# ios - 从后台返回时未调用 UITextView 委托方法 textViewDidChangeSelection

> ID：15323487
> 
> 赞同：4
> 
> 时间：2013-03-10T14:47:03.193
> 
> 标签：ios, cocoa-touch, uitextview, uitextviewdelegate

我`ViewController`实现`UITextView`了委托方法`textViewDidChangeSelection`。测试时一切都按预期工作。但是，如果应用程序被置于后台，然后再次变为活动状态，则在更改`TextView`. 还有其他人有这个问题吗？

我的`UITextView`子类这样做：

```
self.inputView = [[UIView alloc] initWithFrame:CGRectZero]; 
```

以上是为了不显示键盘，但同时保持 TextView 启用。

子类也这样做：

```
-(BOOL)canPerformAction:(SEL)action withSender:(id)sender{
{
    if ( [UIMenuController sharedMenuController] )
    {
        [UIMenuController sharedMenuController].menuVisible = NO;
    }
    return NO;
} 
```

这是为了在单击 UITextView 时不显示复制粘贴弹出。我觉得这个方法看起来有点奇怪，但我前段时间在 SO 上发现了它，它已经做了它应该做的。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-10T16:23:45.120

当应用程序从后台返回时，`UITextView`委托方法`textViewDidChangeSelection:` *将再次触发。*因此，您的应用程序中必须发生其他事情。

只是为了确保我创建了一个带有 2 个`UITextView`控件的简单应用程序，将它们的委托设置为视图控制器并添加以下代码：

```
- (void) textViewDidChangeSelection:(UITextView *)textView
{
    NSLog(@"Fire change selection.");
} 
```

在后台应用程序之前和从后台返回之后都可以正常工作。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-11T21:05:37.733

为我解决问题的是打电话

```
[myTextView reloadInputViews] 
```

在 AppDelegate 方法中：

```
-(void)applicationWillEnterForeground: 
```

我不知道它为什么会起作用，所以如果有人有任何好的解释，那将不胜感激。

# java - 使用新 id 创建新表条目

> ID：15323489
> 
> 赞同：0
> 
> 时间：2013-03-10T14:47:06.773
> 
> 标签：java, sql, mybatis

# 问题

我有一些数据的表，其中包含`ID`整数类型的列（这也是主键）。

当向表中添加新数据条目时，它应该获得一个新 ID，而插入对象的应用程序不知道该 ID，但它应该由数据库给出。例如，ID 应分配为 0、1、2、...

假设我有新条目的所有其他数据，我将如何插入？一般：

```
insert into T values(123, 'data'); 
```

但是现在我不知道该放什么而不是 123 - 你会在数据库中创建某种全局变量`NEXTID`来提供 ID 并在每次插入之前查询/更新这个值`T`吗？

# 问题

1.  如何处理此类问题？最好使用并发保存的解决方案。
2.  如何使用 Java/myBatis 实现这一点？我有一个与表结构对应的 Java 类，应该将一个新对象添加到数据库中，自动获取一个新 ID。

# 更新

我搜索的是自动增量。

*   是否有标准的 SQL 方式（独立于数据库）将列声明为自动增量？我正在使用*Apache Derby*，`GENERATED ALWAYS AS IDENTITY (START WITH 1, INCREMENT BY 1)`建议[在这里](https://stackoverflow.com/questions/3308329/create-autoincrement-key-in-java-db-using-netbeans-ide)。
*   插入到包含自增列的表中是什么样子的？
*   当可以同时访问数据库时，在插入后获取创建的自动增量值的最佳方法是什么？

*我会接受一个答案，其中包括声明和插入的解释和 SQL 指令:)*

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-10T15:04:54.360

在 MySQL 中，您可以使用

```
ALTER TABLE table_name ADD id INT AUTO_INCREMENT; 
```

这会自动增加 id 列，您不必在插入时给出。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-10T14:53:47.707

如果您使用的是 sqlserver，则制作标识类型的列将解决类似这样的目的。

```
 ALTER TABLE [dbo].[T] ADD [Column1] INT identity (1, 1) 
```

对于像 oracle 这样的其他人，您可以使用简单的数据库序列。

# c# - 在类型化数据集中填充多个表

> ID：15323490
> 
> 赞同：1
> 
> 时间：2013-03-10T14:47:07.460
> 
> 标签：c#, .net, database, strongly-typed-dataset, tableadapter

我会尽量简化我的问题。

随意评论和纠正我的英语。希望你能理解我。

我的主要问题是： **是否有任何简单且“自动化”的方法，仅使用与其他表中的数据相关的行来填充数据集中的表？**

假设我们有具有以下架构的数据库：

![数据库架构](../Images/f22dbe78c1bcbec614bdfe3666c5f54b.png)

现在，我正在尝试用“订单”表做同样的事情，并创建自定义方法“FillByDate”。它有效，但有一个小问题：

```
 DataSet1 myDataSetInstance = new DataSet1();
        DataSet1TableAdapters.OrdersTableAdapter OrdersTA = new DataSet1TableAdapters.OrdersTableAdapter();

        OrdersTA.FillByDate(myDataSetInstance.Orders, new DateTime(2013, 1,1), DateTime.Now);

        foreach (var row in myDataSetInstance.Orders)
        {
            MessageBox.Show(row.Comments); // OK
            MessageBox.Show(row.CustomersRow.Name); //NULL
        } 
```

从客户表中获取相关行是不可能的 - 首先我必须手动填写该表。我可以看到两种方法来做到这一点

*   获取此表的全部内容 - 但这将是大量不需要的数据
*   在它的 TableAdapter 中创建自定义查询 - 类似于 FillByOrdersByDate(@Date1, @Date2) - 当我只有 2 个表和 1 个关系时，这很容易，但是对于更多表，此方法将需要为每个 TableAdapter 进行数十个自定义查询。

我真的相信，必须有“更好”的方法来做到这一点。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-05-10T18:30:48.280

~~有一个晦涩难懂的......甚至不知道该怎么称呼它 - ADO.NET SQL 扩展，或者其他什么 - 一个名为 SHAPE 的命令，它描述了您正在寻找的关系，而 ADO.NET 使用那个“特殊” SQL为您提供一个包含多个相关表的数据集。~~

 ~~```
 SHAPE  {select * from customers}
   APPEND ({select * from orders} AS rsOrders
           RELATE customerid TO customerid) 
```~~ 

~~它工作得很好，但我认为它已经过时并且几乎没有（不受）支持~~

MS 建议将 SHAPE 提供程序折旧并改用 XML（抱歉 - 丢失了链接，但那又回到了 .NET 1.1 中）并且他们指向 XML。我认为`FOR XML`T-SQL 子句起到了作用。我自己（还）没有做过，我使用 FOR XML 来填充 a `DataSet`，但是如果您按照[我留下](https://stackoverflow.com/a/16488786/365968)的另一个类似问题的答案中的链接进行操作，我认为它会起作用。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-11T02:22:08.203

有几种方法可以解决这个问题 - 如果您只打算读取数据，则可以使用连接查询来填充数据集。或者，您可以使用连接查询来填充子表。查看您的示例，假设您想要列出特定城市中所有客户的客户和订单。您已经为您的客户 TA 编写了一个“FillbyCity”查询 - 您将为您的订单 TA 编写一个类似的 FillbyCity 查询。是的，您可以使用与客户表的连接来执行此操作： SELECT Orders.* FROM Orders INNER JOIN customers ON customers.customerid = orders.customerid WHERE customers.city = @city 然后您将使用数据关系将各个客户链接到他们的客户订单，具体取决于您的应用程序的要求。

（如果您有 David Sceppa 的“Programming ADO.Net 2.0”，这将在第 7 章中讨论）

“但是对于更多的表，这种方法将需要为每个 TableAdapter 进行数十个自定义查询。” 为什么是几十个？我不确定你要去哪里。

（PS你的英语很好，除了混淆它和它 - 但很多母语人士也这样做。.）

# c# - Roslyn LoadProjectFromCommandLineArguments 语言参数？

> ID：15323495
> 
> 赞同：1
> 
> 时间：2013-03-10T14:47:40.133
> 
> 标签：c#, roslyn

我正在创建一个使用 Roslyn 进行代码分析的自定义 MSBuild 任务。我读到[您不能调用 Workspace.LoadStandAloneProject](https://stackoverflow.com/questions/13052115)，而必须使用 Workspace.LoadProjectFromCommandLineArguments。

好的，但是我应该为第二个参数（语言）指定什么？这是一个**字符串**，而不是枚举，并且在整个互联网上都没有信息。我试过“cs”、“c#”、“CSharp”、“vb”、“vb.net”，然后我放弃了猜测。我总是收到错误消息：“不支持语言'...'。”

它真的有效吗？C# 的正确字符串是什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-10T15:56:52.473

使用`LanguageNames.CSharp`.

顺便说一句 - 制作这样一个构建任务的样本已经在我的待办事项列表上很长时间了。如果您可以发布基本代码（没有您的具体分析）一旦您开始工作，那将不胜感激！

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-10T21:16:31.857

经过大量的 ildasm-ing 我找到了它。

*   “C#”（区分大小写，大写“C”）
*   “Visual Basic”（也区分大小写）

您可以在 Roslyn.Services.CSharp.CSharpProjectFileLoaderService::get_Language() 和 Roslyn.Services.VisualBasic.VisualBasicProjectFileLoaderService::get_Language() 的反汇编中找到它

# java - 将 RSS XML 提要解析为列表视图

> ID：15323496
> 
> 赞同：0
> 
> 时间：2013-03-10T14:47:42.027
> 
> 标签：java, android

直截了当，我对此并不陌生，并尝试使用此[https://github.com/matshofman/Android-RSS-Reader-Library](https://github.com/matshofman/Android-RSS-Reader-Library)库来解析 rss 提要并将所有内容放入列表视图中。（我不介意你给我一个替代解决方案。我选择这个只是因为它看起来更容易理解并且工作量更少......）

我的问题是我不知道该怎么做，当我在谷歌上阅读它时，它要么令人困惑，要么 Eclipse 说它有问题并给我一个错误。

所以 :: 有人可以向我解释一下，我应该如何去做。我了解如何将 URL 放入此提要，以及列表视图通常如何工作，

但是我很难将库从提要中提取的数据传递给我的列表视图。我不知道如何写出 java 代码，告诉它获取这个库传递的数据，然后说，把它放到这个字符串中。

我也对 listadapter / adapter 的工作方式感到困惑。我想我知道如何写它，但是我过去的所有尝试都给了我错误，我不确定那里有什么问题。

如果有人可以解释 list_layout 的工作原理，那也很好。我的意思是，当您创建一个新的 xml 文件并定义列表视图的一行的外观时，但我看不到它是如何通过单个列表视图与主 xml 文件链接的。

感谢您帮助我 - 这是一个学校项目....

（顺便说一句，请简单解释一下。我认为我遇到的主要问题是很多教程都喜欢使用非常技术性的语言，但最终没有让我明白这一点。即使你给我一个代码块，并告诉我所有解析我的网址的内容，这就是我所需要的。）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-10T15:01:37.923

ListView 需要一个 Adapter 来了解数据是什么以及有多少数据。ListView 使用适配器的 getView(....) 方法向适配器请求视图以显示单个项目。在这种方法中，您应该使用 getLayoutInflater().inflate(..) 为您的视图（项目）充气。然后，您将获得一个视图，您可以通过在该视图上使用 findViewById(...) 方法来获取该视图的特定子视图。在每个子视图中，您设置项目的一部分的值。

为了避免必须为每个项目膨胀视图，ListView 尽可能回收项目视图，因此方法 getView(...) 接收视图，如果该视图不为空，您可以使用该视图而不是膨胀新观点。

在读取数据时，或者当您读取所有数据时，您需要告诉适配器数据已更改，然后适配器告诉您的 ListView 它需要重新显示数据。你通过调用 notifyDataSetChanged() 告诉你的适配器。

ListView 上有一个 Google I/O 会话，可能会很有趣：[http://www.google.com/intl/nl/events/io/2010/sessions/world-of-listview-android。 html](http://www.google.com/intl/nl/events/io/2010/sessions/world-of-listview-android.html)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-10T15:53:22.397

在 /samples/android-xx/ 下的 android-sdk 中有一个名为“XmlAdapter”的示例，其中包含一个 RSS-feed 活动。可能是一个有用的选择。

# objective-c - 在应用程序准备好使用（启动）之前调用 NSWorkspaceDidActivateApplicationNotification

> ID：15323499
> 
> 赞同：2
> 
> 时间：2013-03-10T14:48:13.650
> 
> 标签：objective-c, cocoa, nsnotificationcenter, nsnotifications, accessibility-api

我同时使用 NSWorkspaceDidActivateApplicationNotification 和 NSWorkspaceDidLaunchApplicationNotification 通知来了解用户正在与哪个应用程序进行交互。

问题是，如果一个应用程序刚刚打开并仍在启动，我首先会收到一个激活通知，然后很快就会收到启动通知。

有没有办法在激活方法中知道应用程序仍在启动但尚未准备好使用？（仍在码头弹跳）

我看到苹果的 ichat 示例项目没有使用上述方法，而是只监听启动通知。然后它使用 kAXApplicationActivatedNotification 将 AXObserver 添加到应用程序。这是首选方式吗？（还有 NSRunningApplications 为所有已加载的应用程序添加观察者）。

我想继续使用简单的 NSNotifications，因为我认为它可能会占用更少的内存。（无需为每个加载的应用程序留一个观察者）。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-10T14:57:47.813

检查 NSWorkspaceDidActivateApplicationNotification 的 userinfo 中传入的 NSRunningApplication 对象

```
NSRunningApplication *app = [note.userInfo objectForKey:NSWorkspaceApplicationKey]; 
if(app.isFinishedLaunching) 
    NSLog(@"up"); 
```

# c# - 我应该使用什么 IP 来托管我的聊天服务器？

> ID：15323506
> 
> 赞同：0
> 
> 时间：2013-03-10T14:48:51.770
> 
> 标签：c#, sockets, ip

我在 C# 中使用

```
Socket s = new Socket(AddressFamily.InterNetwork, SocketType.Stream, ProtocolType.TCP);
s.Bind(IPAddress.Parse(theIP),thePort); 
```

但后来我得到了一个

> “未处理 SocketException，请求的地址在其上下文中无效”

如何查找要使用的正确 IP？cmd ipconfig IPv4地址？因为那个IP（我相信）是用于内部IP的。我希望服务器 IP 是可以从我的网络外部访问的外部 IP 地址

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-10T14:53:03.310

您需要在路由器中创建一个静态路径（有时称为端口转发），将您的外部 IP/端口之一绑定到内部地址和聊天服务器所需的端口。然后，您将在代码中引用您网络上的内部 IP 地址。

# multithreading - 方法的线程同步？

> ID：15323507
> 
> 赞同：0
> 
> 时间：2013-03-10T14:48:53.013
> 
> 标签：multithreading

如果方法是静态同步的，有多少线程将同时访问，如果方法是静态的，有多少线程将同时访问，如果方法是同步实例方法，最后有多少线程将同时访问？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-10T15:03:30.933

*   仅使用`static`不会阻止任何线程随时访问该方法
*   仅使用`synchronized`，获取的监视器属于调用该方法的对象。您仍然可以在同一类的其他实例上调用相同的方法
*   使用`static synchronized`, 获取到的监听器是属于`class`特定对象的，也就是说静态方法只能被一个线程同时调用，与具体实例无关

后果：请注意，如果其中一个方法是静态的，多个线程可以同时调用同一个对象上的两个同步方法，这可能是一个陷阱。

# bash - Makefile：检查文件是否存在

> ID：15323508
> 
> 赞同：1
> 
> 时间：2013-03-10T14:48:53.837
> 
> 标签：bash, makefile

我正在开发一个使用 c 源文件和头文件的 makefile。

我想在编译之前检查所有这些文件是否存在，这样如果缺少一个，打印一条自定义消息而不是通常的“没有规则来制作目标”。

代码如下：

```
PROG1=file1
PROG2=file2
INCLUDE=header
all: $(PROG1).x $(PROG2).x
%.x : %.c $(INCLUDE).c
     $(CC) -o $/$@ $^
     @ echo File $@ has been successfully created from $^; 
```

如果其中任何一个缺失，我应该在哪里以及如何检查 file1.c、file2.c 和 header.h 是否存在以打印自定义错误消息？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-10T15:31:32.637

```
PROG1=file1
PROG2=file2
INCLUDE=header

all: $(PROG1).x $(PROG2).x

%.x : %.c $(INCLUDE).c
    $(CC) -o $/$@ $^
    @echo File $@ has been successfully created from $^

%.c :
    @echo Missing $@

%.h :
    @echo Missing $@ 
```

那行得通吗？如果这些文件不存在，您将得到类似以下输出的内容：

```
posey@DEATHSTAR:~$ make all
Missing file1.c
Missing header.c
cc -o file1.x file1.c header.c
cc: error: file1.c: No such file or directory
cc: error: header.c: No such file or directory
cc: fatal error: no input files
compilation terminated.
make: *** [file1.x] Error 4 
```

# c++ - 为什么 pthread_mutex_t 不能是类的静态字段？

> ID：15323509
> 
> 赞同：0
> 
> 时间：2013-03-10T14:49:02.793
> 
> 标签：c++, pthreads, mutex

我对 pthread_mutex_t 有疑问。当我尝试创建静态字段 pthread_mutex_t，然后在静态函数中对其进行初始化并最终在某些类方法中使用它时，我遇到了许多错误，例如：

```
main.o: In function `LogWriter::initialize(pthread_mutex_t*)':
 main.cpp:(.text._ZN9LogWriter10initializeEP15pthread_mutex_t[LogWriter::initialize(pthread_mutex_t*)]+0x7): undefined reference to `LogWriter::mutex' 
```

简化类代码：

```
class LogWriter{
    static pthread_mutex_t mutex;

    static void initialize(pthread_mutex_t *mut){
    LogWriter::mutex = PTHREAD_MUTEX_INITIALIZER;
    //if(pthread_mutex_init(&(LogWriter::mutex), NULL) != 0){
        //init failed
    //}
    }
    public:
    static LogWriter getInstance(string module_name){
    LogWriter  instance(module_name);
    return instance;
    }

    LogWriter& operator<<(string a);
}; 
```

我的问题是：为什么？我知道如果我将它定义为普通（非静态）字段，我不会有任何问题。也搜索了谷歌，但我找不到与此相关的任何材料。还创建指向静态 pthread_mutex 的指针并在主函数中初始化，就像这样结束。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-10T14:55:11.503

在代码中的某些源文件中，您需要添加：

```
static LogWriter::pthread_mutex_t mutex; 
```

编译器不会将您的变量“放置”在任何特定的源文件中，您必须为它这样做。该`class`声明只是告诉编译器“我将在某个地方有一个静态变量” - 但是至少在理论上，变量排序和放置可以产生影响[例如，您可能有不同的目标文件产品“数据”进入不同的某些嵌入式系统中的内存部分]，编译器将无法将它扔到它喜欢的任何地方——这可能是你不想要的地方。

# javascript - 在多行中自动完成，相同的 id

> ID：15323512
> 
> 赞同：0
> 
> 时间：2013-03-10T14:49:08.767
> 
> 标签：javascript, jquery, html, jquery-ui-autocomplete

有什么方法可以将下划线脚本用于其文本字段中具有相同 id 的表中的多行？

```
jQuery(document).ready(function($){
    $('#client').autocomplete({
        source:'autocomplete.clients.php',minLength:2
    });
}); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-10T14:50:37.647

您可以使用类名而不是 id。您不能多次使用相同的 id。

# macos - 出乎意料的是，我无法获得安全范围的书签

> ID：15323513
> 
> 赞同：2
> 
> 时间：2013-03-10T14:49:17.550
> 
> 标签：macos, appstore-sandbox

天哪，这个沙盒让我绝望：我有一个应用程序已经在 Apple 的商店发布（所以，理论上，它已经通过了审查......），它是一个幻灯片播放器 - 没什么太花哨的 - 用户可以拖放图像到 NSTableView 或通过 NSOpenPanel 选择。无论如何，我想我自己会使用它，所以我在笔记本电脑上重新编译了一个副本，突然之间我不允许安全书签：

```
QuickSlide(1412) deny mach-lookup com.apple.scopedbookmarksagent.xpc 
```

每当我拖放图像或通过 NSOpenPanel 选择它们时，就会出现上述情况。

我有以下权利：

![在此处输入图像描述](../Images/53e5af89493202984e12564277463b02.png)

我用来生成书签的代码是：

```
-(NSData*)genSec:(NSURL*)aURL
{
    NSError *error;
    NSData  *secData = [aURL bookmarkDataWithOptions:(NSURLBookmarkCreationWithSecurityScope | NSURLBookmarkCreationSecurityScopeAllowOnlyReadAccess | NSURLBookmarkCreationPreferFileIDResolution)
                     includingResourceValuesForKeys:nil relativeToURL:nil error:&error];
    if (error) {
        [self setReport: [NSString stringWithFormat:@"Can't access %@ due to SandBoxing",aURL]];
        return nil;
    }
    return secData;
} 
```

果然，该`report`方法也与控制台日志记录一起被触发。

在我进行开发的几个月中，以前从未这样做过。我还在我的开发 Mac Pro 板条箱上尝试过，尝试使用不同签名或不签名的代码签名，甚至从 App Store 下载它（使用 2 个不同的帐户尝试了两次）；都具有相同的结果。我还使用了非常方便的 Receigen 应用程序来检查编译包中的权利。我正在运行 10.7.5。阻止它抛出错误的唯一方法是，如果我取消选中 Xcode 中的“启用沙盒”选项并进行编译。

啊啊啊。有人能指出一个令人眼花缭乱的明显错误，不知怎的，我和 App Store 的 2 位测试人员、我和一位 App Store 评论员都漏掉了……？！！！！

它必须是显而易见的不是吗？

更新：我让一位同事将新副本下载到他的笔记本电脑上，沙盒没有问题。如果有人能对我的安装发生的事情有所了解，我仍然会很感激......

托德。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-24T15:21:17.380

果然，从您的权利看来，这是显而易见的事情。您还需要添加这个：

```
com.apple.security.files.bookmarks.app-scope 
```

我不知道为什么它以前有效，现在无效，但我很肯定您需要声明此权利才能使安全范围的书签有效。

# javascript - jQuery设置全局变量

> ID：15323514
> 
> 赞同：-1
> 
> 时间：2013-03-10T14:49:30.577
> 
> 标签：javascript, jquery

我在多个地方使用以下 JS 代码；

```
$(this).attr("name") 
```

我在不同的地方使用它；

```
var currentKey = $(this).attr("name");
currentKeyVal = retrievedUserDataObj[$(this).attr("name")];
currentKeyVal = UserDataObj[$(this).attr("name")]; 
```

现在我的问题是是否有可能以某种方式将其设为全局变量，以使上述代码不重复？

我不确定它是否可以因为 $(this) 而成为 gloabl ？

**编辑** 实际/优化代码；

```
 function setFormFieldValues()
{
var currentKey,currentKeyVal;
    if (supports_html5_storage())
    {
    var retrievedUserDataObj = JSON.parse(localStorage.getItem('UserDataObj'));
    localStorageSupport = true;
    }

    $(".formFieldUserData").each(function(){
        var $this = $(this);
        currentKey = $this.attr("name");
        currentKeyVal = UserDataObj[currentKey]; //Set with default values initially

        if (localStorageSupport)
        {
            if(retrievedUserDataObj) //called when there are some values in localStorage
                currentKeyVal = retrievedUserDataObj[currentKey];
        }
        else
        {
            if ($this.val() != "")
                currentKeyVal = $this.val();
        }

        $("#"+currentKey).val(currentKeyVal); //Input text box
        $("#"+currentKey+"Txt").html(currentKeyVal); // Form label
    })
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-10T14:53:50.267

只使用一个函数来进行该处理可能更容易；我不确定为什么`currentKeyVal`定义了两次：

```
// define outside the function to make them global
var currentKey, currentKeyVal;

function getCurrentKeys(element){
    currentKey = $(element).attr("name");
    currentKeyVal = retrievedUserDataObj[currentKey];
    currentKeyVal = UserDataObj[currentKey];
} 
```

按如下方式使用它：

```
getCurrentKeys(this); 
```

* * *

**更新**添加评论中描述的优化：

```
function setFormFieldValues()
{
    var currentKey,currentKeyVal;
    if (supports_html5_storage())
    {
    var retrievedUserDataObj = JSON.parse(localStorage.getItem('UserDataObj'));
    localStorageSupport = true;
    }

    $(".formFieldUserData").each(function(){
        var $this = $(this);
        currentKey = $this.attr("name");
        currentKeyVal = UserDataObj[currentKey]; //Set with default values initially

        if (localStorageSupport)
        {
            if(retrievedUserDataObj) //called when there are some values in localStorage
                currentKeyVal = retrievedUserDataObj[currentKey];
        }
        else
        {
            if ($this.val() != "")
                currentKeyVal = $this.val();
        }

        $("#"+currentKey).val(currentKeyVal); //Input text box
        $("#"+currentKey+"Txt").html(currentKeyVal); // Form label
    });
} 
```

[是的，您可以使用三元运算符](http://en.wikipedia.org/wiki/%3F%3a)对代码进行更多优化，但这会使代码更难阅读。

# ios - 以编程方式将 admob 视图添加到 UITableView 的顶部或底部？

> ID：15323515
> 
> 赞同：1
> 
> 时间：2013-03-10T14:49:40.253
> 
> 标签：ios, cocoa-touch, uitableview

![在此处输入图像描述](../Images/410e68125acc96f594cd55f80078d934.png)

我希望在`UITableView`. 在 Interface Builder 中很简单——只需将视图拖到`UITableView`. 但我想使用代码动态地将视图添加到表格的顶部或底部。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-10T16:03:11.043

`UITableView`您可以通过在您的 中实现以下`UITableViewDelegate`方法来向 a 添加页眉或页脚视图`UITableViewController`：

```
- (CGFloat)tableView:(UITableView *)tableView 
           heightForHeaderInSection:(NSInteger)section
{
    CGFloat height = 100.0; // this should be the height of your admob view

    return height;
}

- (UIView *)tableView:(UITableView *)tableView 
            viewForHeaderInSection:(NSInteger)section 
{
    UIView *headerView = myAdMobView; // init your view or reference your admob view

    return headerView;
} 
```

有关更多信息，请参阅[UITableViewDelegate 协议的文档](http://developer.apple.com/library/ios/#documentation/uikit/reference/UITableViewDelegate_Protocol/Reference/Reference.html)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-10T15:02:42.987

设置表格的 headerView & footerView

# vb.net - appname.exe 中 0x749a4b32 处的第一次机会异常：Microsoft C++ 异常：内存位置 0x009ad9ec vb.net 处的 int

> ID：15323521
> 
> 赞同：0
> 
> 时间：2013-03-10T14:49:55.600
> 
> 标签：vb.net, memory

我的应用程序在任何地方随机崩溃，我不知道为什么！我试图删除所有第三方引用（例如水晶报告）。

错误始终与内存有关，“写入受保护的内存”

最后，我在即时窗口中看到，有这些行，它们出现在应用程序启动时（而不是在应用程序启动事件中）：

```
First-chance exception at 0x749a4b32 in Al-Baraka Enjaz Omra.exe: Microsoft C++ exception: int at memory location 0x009ad9ec.
First-chance exception at 0x749a4b32 in Al-Baraka Enjaz Omra.exe: Microsoft C++ exception: int at memory location 0x009ad9ec.
First-chance exception at 0x749a4b32 in Al-Baraka Enjaz Omra.exe: Microsoft C++ exception: int at memory location 0x009ae2b0.
First-chance exception at 0x749a4b32 in Al-Baraka Enjaz Omra.exe: Microsoft C++ exception: int at memory location 0x009ae2b0.
First-chance exception at 0x749a4b32 in Al-Baraka Enjaz Omra.exe: Microsoft C++ exception: int at memory location 0x0084da7c. 
```

还有更多类似的行，为什么会发生这些错误？那么 vb.net 是托管代码并且不能抛出任何受保护的内存异常，因为它是托管代码呢？？！！

我不能放我的代码：非常大，我不能选择代码导致，那是随机行。

谢谢你

# javascript - 下拉选择不适用于 JS 中用于计算总数的纯文本数字

> ID：15323523
> 
> 赞同：0
> 
> 时间：2013-03-10T14:50:04.693
> 
> 标签：javascript, drop-down-menu

我有一个仅捕获以下字段的表单。（见下文）我需要对其进行修改，以便字段“formdesc”（表单描述）仅将下拉列表中选择的内容捕获为文本。但是现在有一个选项 id = [0, 1, 2,3] 用于 JS 中的价格点来计算购买的总金额。

HTML：

```
 <form action="http://" method="get" name="form">
   <input id="forminv" type="hidden" name="forminv" value="StudentOrg"> (fixed value)
   <input id="formbal" type="hidden" name="formbal" value="0"> (this pulls total from id=tot)
   <input type="text" name="formfname"> (this pulls first name)
   <input type="text" name="formlname"> (this pulls last name)
   <type="text" name="formid"> (this for a student number)
   <select id="apparelType" name="formdesc"> (this should pull value from selection)
   <option selected value="na">Select</option>
   <option value="0">T-Shirt</option> (I need to change this value to “shirt”)
   <option value="1">Shorts</option> (here too, but can't work with JS below)
   <option value="2">Hat</option> (here too)
   <option value="3">Bag</option> (here too)
   <input id="numb" type="number" name="formterm"> (this pulls quantity, and changes total)
   <id="tot"<Total: $0.00&nbsp;>
   <input type="submit" value=" Make a Credit Card Payment">
   </form> 
```

JS：

```
$(document).ready(function () {
    $('#numb').keyup(function () {
        var appVal = new Array();
        appVal[0] = 15; (if I change this, stops working)
        appVal[1] = 20;
        appVal[2] = 25;
        appVal[3] = 30;
        var cost = 0;
        var fmapVal = $('#apparelType').val();
        if (fmapVal == 'na') {
            alert('Please select an apparel type.');
        } else {
            cost = appVal[fmapVal];
        };
        //alert(cost);
        var getNumb = $('#numb').val();
        var baseTotal = cost * getNumb;
        var getTax = baseTotal * .06;
        var getTotal = baseTotal + getTax;
        $('#tot').html('Total: $' + etTotal.toFixed(2));
        $('#formbal').val(getTotal.toFixed(2));
    });
}); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-10T15:27:25.303

这是工作**[小提琴](http://jsfiddle.net/e5aGx/)**

更改`$('#tot').html()`为`$('#tot').val()`

如果您需要所选项目的文本，请使用；

```
var txt = $('#apparelType').find('option:selected').text(); 
```

# javascript - 为 Ember.TextFiled 设置 ID

> ID：15323524
> 
> 赞同：2
> 
> 时间：2013-03-10T14:50:10.267
> 
> 标签：javascript, ember.js

我面临在 Ember.Textfield 中设置 id 的问题。我们有一个从 Em.Object 扩展而来的模型类。

我正在尝试通过`ViewData.id.id1`Ember TextField 中的控制器在 HBS（Handlebars）中访问它。但是模型没有设置id。

```
 {{view Ember.TextField valueBinding="value" id=ViewData.id.id1}} 
```

我正在为 Ember 和车把使用以下库：

```
 (handlebars-1.0.0-rc.3.js)
 (ember-v1.0.0-rc.1.min.js) 
```

我们有这样的代码：

```
 Em.ObjectController.extend({
     ViewData : data.create()
 });
 var data = Em.Object.extend({
     id: {
         id1: "textId1",
     },
 }); 
```

有没有其他人遇到过这个问题？请协助。提前致谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-10T23:26:51.173

您可以使用以下属性设置视图`id`属性`elementId`：

```
{{view Ember.TextField elementId="foobar"}} 
```

不幸的是，这不能是计算属性或绑定。以下将不起作用：

```
{{view Ember.TextField elementIdBinding="id.id1"}} 
```

这也不会：

```
var TextFieldWithID = Ember.TextField.extend({
  elementId: function() {
    return this.get('controller.id.id1');
  }.property('controller.id.id1')
});

{{view TextFieldWithID}} 
```

问题是 Ember 在创建元素时需要一个唯一、稳定的 ID，以便它可以设置绑定。通过使`elementId`属性成为绑定或计算属性，您说它可以更改。然后 Ember 会忽略该属性并生成自己的唯一 ID。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-11T05:24:16.970

elementIdBinding 有效。

我们需要像这样使用 attributeBindings 重新打开 Ember.TextField

Ember.TextField.reopen({ attributeBindings: ['elementId'] });

hbs 将具有以下代码。

{{查看 Ember.TextField valueBinding="data" elementIdBinding="ViewData.id.id1"}}

有用 ！！！！

干杯！！

# javascript - Ruby on Rails 检查是否启用了 javascript

> ID：15323526
> 
> 赞同：3
> 
> 时间：2013-03-10T14:50:22.857
> 
> 标签：javascript, ruby-on-rails

如果用户在其浏览器中启用了 javascript，我如何检查我的布局代码？如果未启用 javascript，我想显示一个错误页面。例如 404 或 500 错误页面。我怎样才能用 Rails 做到这一点？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-03-10T14:57:14.870

我不确定在 Rails 中检查 javascript 是否理想。如果你真的想这样做，我发现了这个：[Check if Javascript is Enabled (Serverside) with Rails](https://stackoverflow.com/questions/2315648/check-if-javascript-is-enabled-serverside-with-rails)

但是，您可以只显示带有以下`<noscript>`标签的消息：

```
<noscript>YOU DON'T HAVE JAVASCRIPT AND THAT OFFENDS ME</noscript> 
```

大多数浏览器默认启用 javascript，因此这是一个不常见的问题。如果您愿意，您可以`link_to`在其中包含一个`<noscript>`，以便向他们展示如何激活 javascript，如下所示：

```
<noscript>You don't have javascript enabled. Please follow this link for assistance in turning it on. <%= link_to "Turn on javascript", "http://www.enable-javascript.com" %> 
```

**编辑**

我刚发现这个。我还没有尝试过，但它看起来正是您正在寻找的东西：[Ruby on Rails, Javascript detection](https://stackoverflow.com/questions/745613/ruby-on-rails-javascript-detection)

```
<head>
    <!-- title, scripts, css etc go here -->
    <noscript>
        <meta http-equiv="refresh" content="2;url=http://yoursite.com/nojswarning.html">
    </noscript>
</head> 
```

# sitecore - 如何使用 Sitecore Advanced Database Crawler 搜索准确的单词/短语？

> ID：15323527
> 
> 赞同：0
> 
> 时间：2013-03-10T14:50:34.830
> 
> 标签：sitecore, lucene.net, sitecore6

Sitecore Advanced Database Crawler 能否用于搜索准确的单词/短语（不是子字符串）。我尝试使用通配符搜索但失败了。我已经对此进行了谷歌搜索，但找不到任何建议或解决方案。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-10T18:03:52.960

默认情况下，Sitecore.Search API 将重写您的查询以利用 a `Lucene.Net.Search.PrefixQuery`，这不会为您提供您正在寻找的精确短语匹配。有一个`Sitecore.Search.IndexSearchContext`接受 a的重载`Sitecore.Search.PreparedQuery`，它绕过了大部分重写逻辑并最终导致使用 a `Lucene.Net.Search.TermQuery`，从而为您提供精确的短语匹配。

Advanced Database Crawler（现在称为 Sitecore Search Contrib）默认不使用 PreparedQuery 重载。您需要修改`QueryRunner`来执行此操作。[在这个拉取请求](https://github.com/sitecorian/SitecoreSearchContrib/pull/6)中可以看到一个例子。您还可以下拉包含此增强功能的[Active Commerce SitecoreSearchContrib 分支。](https://github.com/ActiveCommerce/SitecoreSearchContrib)

# css - 固定背景图像直到页面底部

> ID：15323529
> 
> 赞同：4
> 
> 时间：2013-03-10T14:50:39.770
> 
> 标签：css, background, background-image, css-position

我试图让背景图像开始并保持在固定位置，但直到页面的其余“内容”完成，此时显示完整图像。

我正在研究一个纯粹的 CSS 解决方案。我应该注意到图像比大多数（笔记本电脑）屏幕都大。

具体来说，这是我一直在使用的代码：

```
body {
  background:$bgcolor;
  background-image:url('http://i.imgur.com/cIGSehG.jpg');
  background-repeat:no-repeat;
  background-position:0px 72px;
  background-attachment:fixed;
  margin:0;
  ...
} 
```

我正在使用的图像在`url()`：

![来自片段的背景图像](../Images/886c56e19d0d9030b8fa0616c9898cb4.png)

我正在寻找的效果基本上是当您查看大部分页面时，图像只会显示大约草山的顶部 10%，但是如果您最终一直向下滚动到所有页面内容，将显示剩余的 90% 的草山。

我在任何地方都找不到这个，但我可能只是使用了糟糕的搜索词，因为我对术语不太熟悉。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-11T15:46:08.700

好吧，这是一个跳动的坚果！我确实想出了一个不太稳定的技巧来实现这一点。我现在没有时间再开发它，但也许它可能是一个可行的概念。

### 主要概念

通过提供用户在到达页面底部时**可能会悬停的大而空的页脚区域，我们使用兄弟选择器来更改其包含背景的兄弟元素的位置：**

```
#footer:hover ~ #background {
    background-position: center bottom;
} 
```

除了一些怪癖（应该改进），我们可以实现视差效果。

### 去小提琴

查看[此 JFiddle](http://jsfiddle.net/z4PQA/1/)（在 Chrome 中）以查看和使用它。

# solr - 将持有 Nutch 爬取数据的 Hbase 与 Solr 集成

> ID：15323530
> 
> 赞同：0
> 
> 时间：2013-03-10T14:50:51.463
> 
> 标签：solr, amazon-web-services, hbase, nutch

我有一个 Hbase 数据库，其中包含 wikipedia.org 的爬网信息。我的机器在 Amazon Wweb Services。

我已经下载了 Solr，我想在 Hbase 中对数据进行索引，然后我将对其进行搜索。

我是 Solr 和 Hbase 的新手，我该怎么做？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-09-19T19:21:55.570

你所要做的就是，运行这个命令 -`sudo bin/nutch solrindex http://localhost:8983/solr/ -reindex`

但在您这样做之前，请确保您的 solr 实例已启动并正在运行，您可以通过访问此链接进行验证`http://localhost:8983/solr/`，如果您可以找到 Solr 管理员，那么您的 Solr 实例正在运行。

# html - Html `TextArea` 属性 `rows` 无法正常工作

> ID：15323532
> 
> 赞同：1
> 
> 时间：2013-03-10T14:51:04.693
> 
> 标签：html, textarea

出于某种原因，我需要使用我的“textarea”输入元素，就像“text”类型的输入元素一样。我尝试使用以下代码来实现它。

```
<textarea style="{resize: none; height:25px}" name="myTextArea" rows="1"> 
```

但是，当我单击文本区域的底部时，文本区域中的光标可以向下移动 1 行。简单地说，我只是想让这个文本区域类似于一个简单的文本框（即使用输入标签）。

如果有任何想法，请提供帮助。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-10T15:15:40.263

textarea 和 input 之间的区别在于 textarea 可以有几行。为了使文本区域像输入一样工作，必须不能添加行。

我认为你必须使用 Javascript 来做到这一点。所以看下面的代码：

```
<textarea style="resize: none; height:25px" name="myTextArea" rows="1"></textarea>
<script>
    document.getElementsByTagName("textarea")[0].onkeydown = function(e){
        if (e.which == 13){
            return false
        }
    }
</script> 
```

# android - 片段的第一个 onCreateView 后，复合视图中的复选框文本未正确设置

> ID：15323533
> 
> 赞同：1
> 
> 时间：2013-03-10T14:51:11.113
> 
> 标签：android

我有一个应用程序，它使用复合视图在片段中显示多个相似类型的视图。这些复合视图的一个自定义部分是为每个复合视图中的 CheckBox 设置的文本。片段的生命周期第一次显示视图的内容一切都很好（每个复选框都具有片段的 xml 中使用属性指定的正确文本），但是在每个后​​续视图（在方向更改或通过选项卡导航之后）所有 CheckBox 文本设置为相同的值（最后一个复合视图的复选框文本值）。

我的复合视图的 xml 布局信息。 **复合视图.xml：**

```
<?xml version="1.0" encoding="utf-8"?>
<merge xmlns:android="http://schemas.android.com/apk/res/android">  
  <CheckBox
    android:id="@+id/myCheckBox" 
    style="@style/CheckBoxLeftAligned" 
    android:checked="false"
  />
  ...
</merge> 
```

我的属性文件允许为每个复合视图的复选框设置特定文本。 **属性.xml**

```
<?xml version="1.0" encoding="utf-8"?>
<resources>
  <declare-styleable name="ZZZ">
    <attr name="name"   format="string" />              
  </declare-styleable>
</resources> 
```

我的片段布局，其中包含我的四个复合视图。 **片段布局.xml**

```
<?xml version="1.0" encoding="utf-8"?>
<ScrollView
  xmlns:android="http://schemas.android.com/apk/res/android"
  xmlns:ctd="http://schemas.android.com/apk/res/com.xxx.yyy"
  android:layout_width="match_parent"
  android:layout_height="match_parent"
  android:orientation="vertical">
  <RelativeLayout 
    android:orientation="vertical"
    android:layout_width="match_parent"
    android:layout_height="wrap_content">

    <com.xxx.yyy.ui.zzz
      android:id="@+id/aaa"
      android:layout_width="match_parent"
      android:layout_height="wrap_content"
      ctd:name="@string/aaa"
    />
    <com.xxx.yyy.ui.zzz
      android:id="@+id/bbb"
      android:layout_width="match_parent"
      android:layout_height="wrap_content"
      ctd:name="@string/bbb"
    />
    <com.xxx.yyy.ui.zzz
      android:id="@+id/ccc"
      android:layout_width="match_parent"
      android:layout_height="wrap_content"
      ctd:name="@string/ccc"
    />
    <com.xxx.yyy.ui.zzz
      android:id="@+id/ddd"
      android:layout_width="match_parent"
      android:layout_height="wrap_content"
      ctd:name="@string/ddd"
    />
  </RelativeLayout>
</ScrollView> 
```

我的复合视图的 java 实现。 **zzz.java**

```
package com.xxx.yyy.ui;

... 

public class zzz extends RelativeLayout {

  private static final String TAG = zzz.class.getSimpleName();

  private final Context mContext;

  private CheckBox mLabelCheckBox;

  public zzz(Context context, AttributeSet attrs) {
    super(context, attrs);

    mContext = context;

    initializeLayoutBasics(context);
    processAttributeInformation(context, attrs);

  }

  private void initializeLayoutBasics(Context context) {
    final LayoutInflater inflater = (LayoutInflater) context.getSystemService(Context.LAYOUT_INFLATER_SERVICE);
    inflater.inflate(R.layout.composite_view, this);    
  }

  private void processAttributeInformation(Context context, AttributeSet attr) {
    mLabelCheckBox = (CheckBox) findViewById(R.id.myCheckBox);

    final TypedArray a = context.obtainStyledAttributes(attr, R.styleable.ZZZ);
    String text = a.getString(R.styleable.ZZZ_name);
    mLabelCheckBox.setText(text);
    Log.d(TAG, "CheckBox=" + mLabelCheckBox.toString() + ", Title= " + payName);            

    a.recycle();
  }

  ...
} 
```

**目录日志输出**

```
03-10 08:20:31.151: D/MyFragment(400): MyFragment.onAttach
03-10 08:20:31.151: D/MyFragment(400): MyFragment.onCreate
03-10 08:20:31.151: D/MyFragment(400): MyFragment.onCreateView
03-10 08:20:31.200: D/zzz(400): CheckBox=android.widget.CheckBox@40a78e00, Title= MSP
03-10 08:20:31.220: D/zzz(400): CheckBox=android.widget.CheckBox@40a9da58, Title= ISP
03-10 08:20:31.239: D/zzz(400): CheckBox=android.widget.CheckBox@40aa1248, Title= ASP
03-10 08:20:31.250: D/zzz(400): CheckBox=android.widget.CheckBox@40aa4a88, Title= Board Certified Pay
03-10 08:20:31.260: D/zzz(400): CheckBox=android.widget.CheckBox@40aa8310, Title= HPO Board Cert Pay
03-10 08:20:31.270: D/MyFragment(400): MyFragment.onStart
03-10 08:20:31.270: D/MyFragment(400): MyFragment.onResume
03-10 08:20:32.410: D/App(400): onTabUnselected detaching fragment MyFragment
03-10 08:20:32.426: D/App(400): onTabSelected adding fragment OtherFragment
03-10 08:20:32.440: D/MyFragment(400): MyFragment.onPause
03-10 08:20:32.450: D/TotalPayFragment(400): OtherFragment.onCreateView
03-10 08:20:32.519: D/TotalPayFragment(400): OtherFragment.onStart
03-10 08:20:33.120: D/App(400): onTabUnselected detaching fragment OtherFragment
03-10 08:20:33.120: D/App(400): onTabSelected attaching fragment MyFragment
03-10 08:20:33.170: D/MyFragment(400): MyFragment.onCreateView
03-10 08:20:33.190: D/SimplePay(400): CheckBox=android.widget.CheckBox@40acb618, Title= MSP
03-10 08:20:33.201: D/SimplePay(400): CheckBox=android.widget.CheckBox@40ace530, Title= ISP
03-10 08:20:33.210: D/SimplePay(400): CheckBox=android.widget.CheckBox@40ad1c20, Title= ASP
03-10 08:20:33.230: D/SimplePay(400): CheckBox=android.widget.CheckBox@40ad5310, Title= Board Certified Pay
03-10 08:20:33.280: D/SimplePay(400): CheckBox=android.widget.CheckBox@40ad8ad8, Title= HPO Board Cert Pay
03-10 08:20:33.290: D/MyFragment(400): MyFragment.onStart
03-10 08:20:33.290: D/MyFragment(400): MyFragment.onResume 
```

因此，即使是我的 catlog 输出也显示我的每个复选框都被设置为我在片段的 xlm 中使用属性设置的特定文本。但是在我的片段第二次通过 onCreateView 之后，所有 CheckBox 文本值都设置为“HPO Board Cert Pay”。此输出使用 Honeycomb 仿真器。

在复合视图中设置 TextBoxes 中的文本时，我使用了相同的模式，所以我打赌这与复选框有关。

有什么想法吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-01-14T01:40:00.780

虽然我无法回答为什么 Android 会像我所说的那样表现，但以下是我的解决方法：

我通过在我的 onResume 中创建和调用以下函数并将 forceUpdateOfCheckBoxText 方法添加到我的复合 UI 来解决这个问题。

```
 //Used to force checkboxes to be updated
  private void forceUpdateOfCheckboxesInCompositeViews(ViewGroup parent) {    
    for(int i = 0; i < parent.getChildCount(); i++) {
          View child = parent.getChildAt(i);            

          if(child instanceof ViewGroup) {
            Class<?> c = child.getClass();
            if (c == SimplePay.class) {
              ((SimplePay) child).forceUpdateOfCheckBoxText();
            } 
            else {
                forceUpdateOfCheckboxesInCompositeViews((ViewGroup)child);
            }
          }               
      }
  } 
```

从我的角度来看，这不是最理想的，但它确实有效。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-12-11T19:44:26.990

默认情况下，Android 会恢复`View`Activity 中所有对象的状态。要正确执行此操作，每个视图都需要一个唯一 ID（请参阅重新[创建 Activity](http://developer.android.com/training/basics/activity-lifecycle/recreating.html)）。

您的视图的嵌套结构导致有四个具有 ID 的视图`aaa`，其他视图也是如此。这会导致视图的状态被错误地恢复。

一种解决方法是覆盖`onSaveInstanceState()`并清除`outState`捆绑包。这将阻止 Android 保存视图的状态。缺点是你要自己负责维护状态；否则会丢失，比如用户`EditText`在旋转屏幕后会丢失文本。

# android - 如何使用 2 个字符串参数从 sqlite 数据库中检索特定的字符串数据？

> ID：15323534
> 
> 赞同：2
> 
> 时间：2013-03-10T14:51:22.060
> 
> 标签：android, database, sqlite

这是我用来制作方法的代码

```
String item = item1.getText().toString();
item = item.toLowerCase();
String date = getDate();
edited = new Datahelper(this);
edited.open();
String returnedprice = edited.getprice(item,date);
String returneddetail = edited.getdetail(item,date);
edited.close();
price.setText(returnedprice);
details.setText(returneddetail); 
```

这是我用于获取该字符串的方法代码，但在这里我不知道如何使用第二个日期字符串，以便返回的字符串价格来自包含该项目和该日期的行。请给我如何做到这一点的代码..

```
public String getprice(String item ,String date) {
// TODO Auto-generated method stub
String[] columns = new String[]{KEY_ROWID,
KEY_CATEGORY,KEY_DATE,KEY_PRICE,KEY_DETAILS};
Cursor v =ourDatabase.query(DATABASE_TABLE, columns, KEY_CATEGORY + " ='" + item 
+"'",null,null, null, null);
if(v!=null){
String price = v.getString(3);
return price;
}
return null;
}
public String getdetail(String item,String date) {
// TODO Auto-generated method stub
String[] columns = new String[]{KEY_ROWID, 
KEY_CATEGORY,KEY_DATE,KEY_PRICE,KEY_DETAILS};
Cursor v =ourDatabase.query(DATABASE_TABLE, columns, KEY_CATEGORY + " ='" + item +
"'",null,null, null, null);
if(v!=null){
String detail = v.getString(4);
return detail;
}
return null;
} 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-10T15:17:19.983

所以可能你想在选择查询中使用两个参数：

您可以使用两种方法：

*   原始查询（）
*   询问（）

我将为您提供这两种情况的基本示例。

## 第一的：

```
String query = "select * from Table where someColumn = ? and someDateColumn = ?";
Cursor c = db.rawQuery(query, new String[] {textValue, dateValue}); 
```

## 解释：

所以我建议你使用**`?`**那个叫做占位符。select 语句中的每个占位符将被 selectionArgs 中的值替换（以相同的顺序，因此第一个占位符将被数组中的第一个值替换等） - 它是上面声明的字符串数组。

## 第二：

rawQuery() 方法更容易理解，所以我从它开始。Query() 方法更复杂并且有更多的参数。所以

*   **columns：**表示将选择列的数组。
*   **选择：**换句话说就是 where 子句，所以如果你的选择是 `KEY_COL + " = ?"`它意味着`"where " + KEY_COL + " = ?"`
*   **selectionArgs：**每个占位符都将替换为此数组中的值。
*   **groupBy：**它是多行（分组）功能。[更多关于](http://www.tizag.com/sqlTutorial/sqlgroupby.php)
*   **有：**这个子句总是和 group by 子句一起使用[这里是解释](http://www.techonthenet.com/sql/having.php)
*   **orderBy:** is 子句，用于根据一列或多列对行进行排序

方法也有更多参数，但现在你不需要关心它们。如果您愿意，Google 将成为您的朋友。

所以让我们回到解释和例子：

```
String[] columns = {KEY_COL1, KEY_COL2};
String whereClause = KEY_CATEGORY " = ? and " + KEY_DATE + " = ?";
String[] whereArgs = {"data1", "data2"};

Cursor c = db.query("Table", columns, whereClause, whereArgs, null, null, null); 
```

所以 whereClause 包含两个参数，每个参数都有占位符。因此，第一个占位符将替换为“data1”，第二个占位符将替换为“data2”。

执行查询时，查询将如下所示：

```
SELECT col1, col2 FROM Table WHERE category = 'data1' AND date = 'data2' 
```

**注意：**我建议你看看[`Android SQLite Database and ContentProvider - Tutorial`](http://www.vogella.com/articles/AndroidSQLite/article.html).

我还向您推荐使用占位符，它提供更安全、更易读和更清晰的解决方案。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-10T15:21:52.183

您应该阅读任何 SQL 教程以了解它是什么`WHERE`子句以及如何编写它。

在 Android 中，`selection`参数是`WHERE`子句中的表达式。您的查询可以这样写：

```
c = db.query(DATABASE_TABLE, columns,
             KEY_CATEGORY + " = ? AND " + KEY_DATE + " = ?",
             new String[] { item, date },
             null, null, null); 
```

# apache - open_basedir 限制不能设置为无，plesk cpanel

> ID：15323535
> 
> 赞同：0
> 
> 时间：2013-03-10T14:51:23.450
> 
> 标签：apache, php, plesk, vhosts, open-basedir

我在专用服务器上安装了 Plesk。我`open_basedir restriction in effect`的 PHP 网站出现错误，因此我在服务器根目录中编辑了 php.ini 文件，并在每个域中创建了一个。

在 php.ini 文件`open_basedir`中设置为`none`.

`safe mode`设置为关闭。

**问题：**

我在 php.ini 中所做的任何更改都没有在网站上生效，我仍然收到 open_basedir 错误。我通过 plesk (10.3) cpanel 重新启动了 apache 和服务器。

看起来我的更改在其他地方被覆盖了，但不知道在哪里？

我还在每个域中创建了 vhost.conf 文件，这也不起作用。

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-11T01:02:36.797

看起来只是 Plesk 10.3 for Linux 中的一个错误。Plesk for Windows 中存在一个错误，已在 11.0 修复[http://kb.parallels.com/115269](http://kb.parallels.com/115269)

可能 Linux 的错误也已在 10.4 或 11.0 版本中修复。

# eclipse - .jar 文件与不兼容版本的 Scala (2.10) 交叉编译

> ID：15323537
> 
> 赞同：2
> 
> 时间：2013-03-10T14:51:35.370
> 
> 标签：eclipse, scala, jar, playframework-2.1, scala-ide

我正在构建我的第一个 Scala/Play 应用程序，在从 Play shell 创建并导入一个 eclipse 项目后，我收到 17 个错误。

akka-actor_2.10.jar 与不兼容的 Scala (2.10) 版本交叉编译
akka-slf4j_2.10.jar 与不兼容的 Scala (2.10) 版本交叉编译
anorm_2.10.jar ...
play_2.10。罐子...
play_iterates_2.10.jar ...

该列表继续包括 Scala jars、scalaz jars 等......

我正在使用：
Eclipse 4.2.2
Scala ide 3.0.0.nightly-2_09
Scala 2.10
Play 2.1

有人经历过同样的事情吗？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-10T16:17:55.577

您是否可以使用为 Scala 2.9.x 构建的 Scala IDE？

确保您使用的是 2.10.x：http: [//download.scala-ide.org/sdk/e38/scala210/dev/site/](http://download.scala-ide.org/sdk/e38/scala210/dev/site/)

# mysql - 存储过程中的“@”符号？

> ID：15323538
> 
> 赞同：3
> 
> 时间：2013-03-10T14:51:41.010
> 
> 标签：mysql, database, stored-procedures

我试图在网上找到答案，但找不到任何明确的解释：

存储过程中的 @ 是否有某种特殊用途/特别表示某些东西？我对我们何时使用它感到有些困惑，因为示例似乎在其用法上有所不同。

例如，在以下示例中使用 @：

```
DELIMITER $

DROP PROCEDURE IF EXISTS emp_count_2;

CREATE PROCEDURE emp_count_2(OUT param1 INT)
BEGIN
 SELECT COUNT(*) INTO param1 FROM Employee;
END
$
DELIMITER ;

/* To invoke this procedure use the mysql command statement
   CALL emp_count_2(@empCount);
   SELECT @empCount; 
*/ 
```

再一次，这个例子中的 @ 是否有某种特殊用途，还是我们可以删除 @ 并只使用普通的变量名？

**编辑：我正在使用 MySql

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-03-10T15:19:28.013

MySQL 中的`@variable`语法表示用户定义的会话变量。您可以在存储过程之外设置这些用户变量，但您也可以在存储过程内部设置它们，其效果是在您的过程调用返回后变量保留值。

因此，在您的示例中，以下内容也将执行相同的操作：

```
CREATE PROCEDURE emp_count_2()
BEGIN
 SELECT COUNT(*) INTO @empCount FROM Employee;
END

CALL emp_count_2(); /* sets @empCount as a side-effect */
SELECT @empCount; 
```

多个会话以这种方式同时设置用户变量是可以的，因为用户变量的作用域是单个会话，并且并发会话可能具有相同名称但具有不同值的变量。

不带 @ 前缀的变量语法适用于过程的局部变量，可以是过程参数，也可以是过程主体中使用[DECLARE声明的局部变量。](http://dev.mysql.com/doc/refman/5.5/en/declare.html)

如果您想多次调用一个过程并将结果存储在单独的用户变量中，那么您的这种用法（将用户变量作为参数传递并在过程主体中分配它）非常有用。否则，对该过程的每次调用都会覆盖当前会话的@empCount 用户变量中的先前值。

# z3 - 在 Z3py 中重复匹配的模型

> ID：15323540
> 
> 赞同：0
> 
> 时间：2013-03-10T14:51:56.603
> 
> 标签：z3, smt, constraint-programming

在下面的工作示例中，我试图检索匹配的模型，在这种情况下有两个令人满意的模型：

```
 t1= cl7          t2= cl4      t3= cl5 
```

和

```
 t1= cl4          t2= cl3      t3= cl9 
```

问题是重复匹配的模型，直到运行求解器超时。如何在不重复的情况下检索满意的模型。

非常感谢，

```
 S, (cl1, cl2, cl3, cl4, cl5, cl6, cl7,cl8,cl9) = EnumSort('S', ['cl1', 'cl2', 'cl3', 'cl4', 'cl5','cl6' ,'cl7', 'cl8', 'cl9'])

       s = Solver()

       x = Const('x', S)
      def fun1(x):
        return Or(x == cl1, x == cl2, x == cl3, x == cl4, x == cl5, x == cl6, x == cl7, x == cl8, x == cl9)

       y1, y2 = Consts('y1 y2', S)
      def fun2(y1, y2):
          return Or(And(y1 == cl7, y2 == cl4), And(y1 == cl4, y2 == cl3), And(y1 == cl3, y2 == cl2),And(y1 == cl8, y2 == cl9))

      q1,q2 = Consts('q1 q2', S)
      def fun3(q1,q2):
        return Or(And(q1 == cl7, q2 == cl5), And(q1 == cl4, q2 == cl9))

 t1, t2 ,t3 = Consts('t1 t2 t3', S)

 s.add(fun1(t1))
 s.add(fun2(t1,t2))
 s.add(fun3(t1,t3))

while s.check() == sat:
s.add(Or(t1 != s.model()[t1], t2 != s.model()[t2],t3 != s.model()[t2]))
print s.model() 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-10T15:20:06.857

您似乎在阻止相同模型在新的可满足性检查中再次使用的部分中有一个小错字，特别是倒数第二行应该有`t3 != s.model()[t3]`而不是`t3 != s.model()[t2]`.

这是生成您在开头放置的两个模型的更新示例（z3py 链接：[http](http://rise4fun.com/Z3Py/AxJv) ://rise4fun.com/Z3Py/AxJv ）：

```
S, (cl1, cl2, cl3, cl4, cl5, cl6, cl7,cl8,cl9) = EnumSort('S', ['cl1', 'cl2', 'cl3', 'cl4', 'cl5','cl6' ,'cl7', 'cl8', 'cl9'])

s = Solver()

x = Const('x', S)
def fun1(x):
  return Or(x == cl1, x == cl2, x == cl3, x == cl4, x == cl5, x == cl6, x == cl7, x == cl8, x == cl9)

y1, y2 = Consts('y1 y2', S)
def fun2(y1, y2):
  return Or(And(y1 == cl7, y2 == cl4), And(y1 == cl4, y2 == cl3), And(y1 == cl3, y2 == cl2),And(y1 == cl8, y2 == cl9))

q1,q2 = Consts('q1 q2', S)
def fun3(q1,q2):
  return Or(And(q1 == cl7, q2 == cl5), And(q1 == cl4, q2 == cl9))

t1, t2 ,t3 = Consts('t1 t2 t3', S)

s.add(fun1(t1))
s.add(fun2(t1,t2))
s.add(fun3(t1,t3))

while s.check() == sat:
  s.add(Or(t1 != s.model()[t1], t2 != s.model()[t2], t3 != s.model()[t3]))
  print s.model() 
```

# python - 导出印象笔记附件，保留创建日期

> ID：15323544
> 
> 赞同：1
> 
> 时间：2013-03-10T14:52:19.957
> 
> 标签：python, evernote

我对 Evernote 的扩展评估已经结束，是时候在删除之前将我不明智地提交到其数据库的附件放回我的文件系统了。

我对 Python 有一些基本的了解，并且我已经阅读了 API，但我无法弥合差距。我的计划是遍历所有笔记，检查它是否有附件，并将附件写入笔记标题下的文件系统，并设置创建日期以匹配。我看不出这在 API 中是否可行，更不用说如何去做了，也找不到任何捕捉这种行为的 Python 片段。

由于这可能是一个有用的功能，任何人都可以给我一个框架来遵循我可以工作的功能代码吗？非常感谢。

（当然，从 Evernote 中导出附件不会保留创建日期）。

# android - Android 加载大型位图

> ID：15323545
> 
> 赞同：8
> 
> 时间：2013-03-10T14:52:23.880
> 
> 标签：android, canvas, bitmap

我正在制作一个 Android 应用程序，我需要在 cavas 中加载图像（位图）并使用“捏缩放”手势调整它的大小。但是，当图像超过一定大小时，应用程序会崩溃（OutOfMemory 异常）。如何优化图像的加载和操作？

要加载我使用的图像：

```
BitmapFactory.decodeResource (ctx.getResources (), R.drawable.image) 
```

绘制它：

```
imgCanvas.drawBitmap (image, posX, posY, null), 
```

要更改其大小：

```
Bitmap.createScaledBitmap (originalBitmap, neww, NEWH, true); 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-10T15:48:56.837

这不是微不足道的。

根据图像的当前比例和图像的当前可见部分，仅以适当的分辨率加载该图像的一部分：
[https ://developer.android.com/reference/android/graphics/BitmapRegionDecoder.html](https://developer.android.com/reference/android/graphics/BitmapRegionDecoder.html)

当缩小并且您想显示缩小的整个图像时，请使用此类`BitmapRegionDecoder`中的方法，该方法接受一个`BitmapFactory.Options`参数并将其设置`inSampleSize`为大于 1 的值（最好是 2 的幂的值）：
[https:// developer.android.com/reference/android/graphics/BitmapFactory.Options.html#inSampleSize](https://developer.android.com/reference/android/graphics/BitmapFactory.Options.html#inSampleSize)

放大时，首先放大已经显示的较低分辨率（您使用 inSampleSize > 1 的值），然后`inSampleSize`使用`BitmapRegionDecoder`分辨率版本逐渐。

当用户放大时，继续这样做直到你`inSampleSize`的 1。

# python - tkinter 退出崩溃

> ID：15323546
> 
> 赞同：4
> 
> 时间：2013-03-10T14:52:34.150
> 
> 标签：python, tkinter

我对 Tkinter 很陌生。我在 Tkinter 中制作了这个类似于“Hello World”的 GUI 程序。但是，每次我单击退出按钮时，程序都会崩溃。提前致谢！

```
from Tkinter import *
import sys
class Application(Frame):

def __init__(self,master=None):

    Frame.__init__(self,master=None)
    self.grid()
    self.createWidgets()

def createWidgets(self):
    self.quitButton = Button(text='Quit',command=self.quit)#Problem here
    self.quitButton.grid()
app = Application()
app.master.title("Sample application")
app.mainloop() 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-10T14:56:31.717

在 Tkinter 中，根元素是一个`Tk`对象。`Application`应该是 的子类`Tk`，而不是`Frame`：

```
from Tkinter import *
import sys

class Application(Tk):
    def __init__(self):
        Tk.__init__(self)
        self.grid()
        self.createWidgets()
    def createWidgets(self):
        self.quitButton = Button(text='Quit',command=self.destroy) # Use destroy instead of quit
        self.quitButton.grid()

app = Application()
app.title("Sample application")
app.mainloop() 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2019-08-15T08:15:35.293

尝试使用`raise SystemExit` 它可能会更好。或查看[我](https://stackoverflow.com/questions/73663/terminating-a-python-script)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2016-10-31T13:50:52.910

此代码现在可以正常工作：

```
import tkinter

class MyApp(tkinter.LabelFrame):
    def __init__(self, master=None):
        super().__init__(master, text="Hallo")
        self.pack(expand=1, fill="both")
        self.createWidgets()
        self.createBindings()
    def createWidgets(self):
        self.label = tkinter.Label(self)
        self.label.pack()
        self.label["text"] = "Bitte sende ein Event"
        self.entry = tkinter.Entry(self)
        self.entry.pack()
        self.ok = tkinter.Button(self)
        self.ok.pack()
        self.ok["text"] = "Beenden"
        self.ok["command"] = self.master.destroy
    def createBindings(self):
        self.entry.bind("Entenhausen", self.eventEntenhausen)
        self.entry.bind("<ButtonPress-1>", self.eventMouseClick)
        self.entry.bind("<MouseWheel>", self.eventMouseWheel)
    def eventEntenhausen(self, event):
        self.label["text"] = "Sie kennen das geheime Passwort!"
    def eventMouseClick(self, event):
        self.label["text"] = "Mausklick an Position " \
        "({},{})".format(event.x, event.y)
    def eventMouseWheel(self, event):
        if event.delta < 0:
            self.label["text"] = "Bitte bewegen Sie das Mausrad"\
            " in die richtige Richtung."
        else:
            self.label["text"] = "Vielen Dank!"

root = tkinter.Tk()
app = MyApp(root)
app.mainloop() 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2017-10-17T18:28:12.247

你的使用`__init__`困难。做这个：

```
from tkinter import *
root = Tk()

btn_quit = Button(root, text='Quit', command=quit()).pack()
root.mainloop() 
```

如果你这样做`self.quit`，那就是退出命令，所以事情会崩溃！希望这可以帮助！

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2017-07-20T08:21:02.827

当您使用 `self.quit()`python 解释器关闭时，没有 tkinter 应用程序 bieng 关闭。所以尝试`.destroy()`命令和`.mainloop()`使用后`sys.quit()`。希望这可以帮助。

# java - Hashsets的ArrayList！编译错误

> ID：15323547
> 
> 赞同：-2
> 
> 时间：2013-03-10T14:52:35.837
> 
> 标签：java, arraylist, compiler-errors, hashset, set

我正在编写一个用于加入集合的 java 程序。这只是我不断收到编译错误的代码的一小部分。

```
ArrayList<HashSet<Integer>> list = new ArrayList<HashSet<Integer>>(n+1);

for(int i=0;i<n+1;i++)
{
        list.add(i, new HashSet<Integer>());
        list.get(i).add(i);
}

if(list.get(a).contains(a)  && list.get(b).contains(b))
{
        Iterator it = list.get(b).iterator();
        while(it.hasNext())
        {
            **list.get(a).add((int)it.next());**       //Compilation Error!
        }
        list.get(b).clear();
} 
```

有没有更简单的方法来执行连接？谢谢 ：） ！！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-10T14:54:02.370

尝试用

```
list.get(a).add((Integer)it.next()); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-10T15:07:14.780

换线试试

```
 Iterator it = list.get(b).iterator(); 
```

和

```
 Iterator<Integer> it = list.get(b).iterator(); 
```

# php - 其他变量中的 PHP 回显格式

> ID：15323560
> 
> 赞同：0
> 
> 时间：2013-03-10T14:53:49.250
> 
> 标签：php, html, variables, format, echo

我一直在尝试在变量中回显其他变量。我阅读了有关使用 ' 和 . 以多种不同的方式正确格式化，但它只正确解析了其中一些。

从我阅读的内容来看，`'.$var.''.$var2.'`应该有效，然后我尝试了`'$var . $var2'`,`'$var' . '$var2'`和其他一些。所有返回的错误。

PHP：

```
<?php
$path = "/img/";
$file = "photo.jpg";
$width = "300";
$height = "250";
$x = "<span class=\"showthis\" style=\"background-image: url($path $file); width: $width px; height: $height px\"></span>";
?> 
```

我正在尝试了解如何格式化它，以便将两个变量直接放在一起进行解析而没有空格。

```
<?php echo $x; ?> 
```

作为：

```
<span class="showthis" style="background-image: url(/img/photo.jpg); width: 300px; height: 250px;"></span> 
```

我想我的具体问题是，如何在解析中连续有两个变量而没有空格。

谢谢您的帮助。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-10T14:56:23.620

用大括号表示它是一个变量，然后你可以把它们放在一起

```
$x = "<span class=\"showthis\" style=\"background-image: url({$path}{$file}); width: $width px; height: $height px\"></span>"; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-10T14:57:56.987

通常，您必须`.`在两个字符串之间使用“添加”它们，它必须如下所示：

```
$x = "<span class=\"showthis\" style=\"background-image: url(".$path.$file."); width: ".$width." px; height: ".$height." px\"></span>"; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-10T14:56:13.510

在这种情况下，您可以简单地删除空间。

```
$x = "<span class=\"showthis\" style=\"background-image: url($path $file); width: $width px; height: $height px\"></span>"; 
```

变成

```
$x = "<span class=\"showthis\" style=\"background-image: url($path$file); width: $width px; height: $height px\"></span>"; 
```

# geometry - 切割轨迹软件

> ID：15323564
> 
> 赞同：0
> 
> 时间：2013-03-10T14:54:07.440
> 
> 标签：geometry, computational-geometry

是否有用于计算切割位点的公开软件？我在网上仔细看了看，但似乎没有任何效果。如果您遇到过此类软件，请提供帮助。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-08-28T19:38:18.637

谷歌向我展示了这个： [http](http://projecteuclid.org/DPubS?service=UI&version=1.0&verb=Display&handle=euclid.em/1057860311) ://projecteuclid.org/DPubS?service=UI&version=1.0&verb=Display&handle=euclid.em/ 1057860311 你肯定已经找到了。

# php - Laravel 刀片布局

> ID：15323567
> 
> 赞同：2
> 
> 时间：2013-03-10T14:54:31.830
> 
> 标签：php, frameworks, laravel

这就是问题所在，它没有读取 @layout()

![它不读书](../Images/dfc9eec664d61c152c33d5892693d21c.png)

在文件夹 View/authors/index.blade.php 内

> @layout('layouts.default')
> 
> @section('内容')
> 
> # 作者主页
> 
> @endsection

在文件夹 Controllers/authors.php

> 类 Authors_Controller 扩展 Base_Controller{
> 
> ```
>  public $restful = true;
> 
>   public function get_index(){
>       return View::make('authors.index')->with('title', 'Autores e Livros');
>   } 
> ```
> 
> }

在文件夹 View/layouts/default.blade.php

基本的html

```
<html>
<head> <title> {{ $title }} </title> </head>
<body>
{{ $content }}
</body>
</html> 
```

我的错误在哪里？为什么不读？

![文件夹](../Images/71fc472344b1316bef185744868a022d.png)

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-10T15:49:03.417

第一：内部视图/layouts/default.blade.php

```
<html>
<head> <title> {{ $title }} </title> </head>
<body>
  @yield('content')
</body>
</html> 
```

第二：**更新**

我 99% 确定您的 View/authors/index.blade.php 中的 '@layout('layouts.default')' 不在第一行。它必须位于页面顶部。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-06-07T18:05:54.940

在 Laravel 4 中你应该使用*@extends('layouts.default')*而不是*@layout('layouts.default')*

# php - htaccess 重写不传递查询字符串

> ID：15323572
> 
> 赞同：0
> 
> 时间：2013-03-10T14:55:24.123
> 
> 标签：php, apache, .htaccess, mod-rewrite, get

我的 htaccess 中有以下规则

```
RewriteEngine on
RewriteBase /
RewriteCond %{REQUEST_FILENAME} -d
RewriteRule .+ redirect.php [L]
RewriteRule ^(.*)\.(?!js|css|png)([^.]*)$ redirect.php [L] 
```

一切都很完美，除了一件事，查询字符串。
由于某种原因，查询字符串消失了......

我在 redirect.php 中得到了以下 url myweb.com/subscribe?email=blablabla 我有以下行：

```
echo $_GET['email']; //should echo the email 
```

它没有回显任何东西......
***我检查它确实重写为redirect.php**

任何想法为什么以及如何解决它？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-10T17:07:59.050

通过以下步骤解决：

1.  我不想重写 css、js、png 等文件，所以在我的最后一条规则中，它包含在正则表达式中 - 我将其拆分。
2.  为最后两条规则添加了 [QSA] 标志
3.  添加`RewriteCond %{REQUEST_FILENAME} !-f`
4.  改为。`RewriteCond %{REQUEST_FILENAME} -d`_`RewriteCond %{REQUEST_FILENAME} !-d`

这是它的样子：

```
RewriteEngine on
RewriteBase /
RewriteRule \.(ico|css|png|js|txt|xml)$ - [L]
RewriteCond %{REQUEST_FILENAME} !-d
RewriteCond %{REQUEST_FILENAME} !-f
RewriteRule .+ redirect.php [QSA,L]
RewriteRule ^(.*)$ redirect.php [QSA,L] 
```

# python - 如何将进度条连接到功能？

> ID：15323574
> 
> 赞同：8
> 
> 时间：2013-03-10T14:55:30.200
> 
> 标签：python, tkinter

我正在尝试将进度条连接到我的项目的功能。

这是我到目前为止所拥有的，但我很确定它什么都不做：

```
def main():
    pgBar.start()
    function1()
    function2()
    function3()
    function4()
    pgBar.stop() 
```

如果有帮助的话，这是我制作进度条的代码：

```
pgBar = ttk.Progressbar(window, orient = HORIZONTAL, length=300, mode = "determinate")
pgBar.place(x=45, y=130) 
```

我一直在做一些研究，并了解到 tkinter 窗口在运行函数或类似的东西时会冻结。有没有一种方法可以在主函数内部调用的每个函数的末尾“解冻”窗口？

* * *

## 回答 #1

> 赞同：18
> 
> 时间：2013-03-10T15:30:20.900

由于 tkinter 是*单线程*的，因此您需要另一个线程来执行您的`main`函数而不冻结 GUI。一种常见的方法是工作线程将消息放入同步对象（如 a [`Queue`](http://docs.python.org/2/library/queue.html)），GUI 部分使用这些消息，更新进度条。

以下代码基于ActiveState的完整详细[示例：](http://code.activestate.com/recipes/82965/)

```
import tkinter as tk
from tkinter import ttk
import threading
import queue
import time

class App(tk.Tk):

    def __init__(self):
        tk.Tk.__init__(self)
        self.queue = queue.Queue()
        self.listbox = tk.Listbox(self, width=20, height=5)
        self.progressbar = ttk.Progressbar(self, orient='horizontal',
                                           length=300, mode='determinate')
        self.button = tk.Button(self, text="Start", command=self.spawnthread)
        self.listbox.pack(padx=10, pady=10)
        self.progressbar.pack(padx=10, pady=10)
        self.button.pack(padx=10, pady=10)

    def spawnthread(self):
        self.button.config(state="disabled")
        self.thread = ThreadedClient(self.queue)
        self.thread.start()
        self.periodiccall()

    def periodiccall(self):
        self.checkqueue()
        if self.thread.is_alive():
            self.after(100, self.periodiccall)
        else:
            self.button.config(state="active")

    def checkqueue(self):
        while self.queue.qsize():
            try:
                msg = self.queue.get(0)
                self.listbox.insert('end', msg)
                self.progressbar.step(25)
            except Queue.Empty:
                pass

class ThreadedClient(threading.Thread):

    def __init__(self, queue):
        threading.Thread.__init__(self)
        self.queue = queue

    def run(self):
        for x in range(1, 5):
            time.sleep(2)
            msg = "Function %s finished..." % x
            self.queue.put(msg)

if __name__ == "__main__":
    app = App()
    app.mainloop() 
```

由于 ActiveState 上的[原始示例](http://code.activestate.com/recipes/82965/)在 IMO 上有点混乱（它`ThreadedClient`与`GuiPart`, 以及控制从 GUI 生成线程的时刻之类的事情并不像它们可能的那样简单），我已经重构了它并添加了一个用于启动新线程的按钮。

* * *

## 回答 #2

> 赞同：15
> 
> 时间：2013-03-12T23:12:55.940

要了解“冻结”，您需要了解[`mainloop()`](http://effbot.org/tkinterbook/widget.htm#Tkinter.Widget.mainloop-method)。调用此方法启动*tkinter*事件循环。主线程负责这个循环。因此，当您的工作密集型函数在主线程中运行时，它也会干扰主循环。为了防止这种情况，您可以使用辅助[`Thread`](http://docs.python.org/3.3/library/threading.html?highlight=threading#thread-objects)来运行您的功能。建议不要让辅助线程访问 tkinter 对象。mtTkinter 的作者 Allen B.Taylor[说](http://tkinter.unpythonic.net/wiki/mtTkinter)：

> 问题源于 _tkinter 模块在处理来自其他线程的调用时试图通过轮询技术获得对主线程的控制。如果成功，一切都很好。如果失败（即超时后），应用程序会收到异常消息：“RuntimeError: main thread is not in main loop”。

您可以让辅助线程将信息放入[`Queue`](http://docs.python.org/3.3/library/queue.html?highlight=queue#queue.Queue). 然后有一个函数，通过该方法在主循环中每*x*毫秒检查一次*队列。**[`after()`](http://effbot.org/tkinterbook/widget.htm#Tkinter.Widget.after-method)*

 *首先，确定您希望*Progressbar*的[最大](http://infohost.nmt.edu/tcc/help/pubs/tkinter/web/ttk-Progressbar.html)选项的值是什么。
这是进度条的最大指标值（填充进度条需要多少单位）。例如，您可以`maximum=4`在四个函数中的每一个之后设置适当的指标值并将其放入队列中。然后主线程可以检索这些值（从队列中）以通过`tkinter.IntVar()`. （请注意，如果您使用`progbar.step()`，Progressbar 会在最后重置为 0（空），而不是达到 4（完全填充）。）

以下是如何将 a`tkinter.IntVar()`与 Progressbar 一起使用的快速浏览：

```
int_var = tkinter.IntVar()
pb_instance = ttk.Progressbar(root, maximum=4)
pb_instance['variable'] = int_var
pb_instance.pack()
# completely fill the Progressbar
int_var.set(4)
# get the progress value
x = int_var.get() 
```

这是一个基于您自己的示例（重命名为“主”函数“任意”）：

```
import time
import threading

try: import tkinter
except ImportError:
    import Tkinter as tkinter
    import ttk
    import Queue as queue
else:
    from tkinter import ttk
    import queue

class GUI_Core(object):

    def __init__(self):
        self.root = tkinter.Tk()

        self.int_var = tkinter.IntVar()
        progbar = ttk.Progressbar(self.root, maximum=4)
        # associate self.int_var with the progress value
        progbar['variable'] = self.int_var
        progbar.pack()

        self.label = ttk.Label(self.root, text='0/4')
        self.label.pack()

        self.b_start = ttk.Button(self.root, text='Start')
        self.b_start['command'] = self.start_thread
        self.b_start.pack()

    def start_thread(self):
        self.b_start['state'] = 'disable'
        self.int_var.set(0) # empty the Progressbar
        self.label['text'] = '0/4'
        # create then start a secondary thread to run arbitrary()
        self.secondary_thread = threading.Thread(target=arbitrary)
        self.secondary_thread.start()
        # check the Queue in 50ms
        self.root.after(50, self.check_que)

    def check_que(self):
        while True:
            try: x = que.get_nowait()
            except queue.Empty:
                self.root.after(25, self.check_que)
                break
            else: # continue from the try suite
                self.label['text'] = '{}/4'.format(x)
                self.int_var.set(x)
                if x == 4:
                    self.b_start['state'] = 'normal'
                    break

def func_a():
    time.sleep(1) # simulate some work

def func_b():
    time.sleep(0.3)

def func_c():
    time.sleep(0.9)

def func_d():
    time.sleep(0.6)

def arbitrary():
    func_a()
    que.put(1)
    func_b()
    que.put(2)
    func_c()
    que.put(3)
    func_d()
    que.put(4)

que = queue.Queue()
gui = GUI_Core() # see GUI_Core's __init__ method
gui.root.mainloop() 
```

如果您想要的只是向用户表明有活动的东西，
您可以将进度条的[模式](http://infohost.nmt.edu/tcc/help/pubs/tkinter/web/ttk-Progressbar.html)选项设置为`'indeterminate'`.
指标在此模式下来回反弹（速度与最大选项有关）。

然后可以`start()`在启动辅助线程之前直接调用Progressbar的方法；
然后调用`stop()`after`secondary_thread.is_alive()`返回*False*。

这是一个例子：

```
import time
import threading

try: import tkinter
except ImportError:
    import Tkinter as tkinter
    import ttk
else: from tkinter import ttk

class GUI_Core(object):

    def __init__(self):
        self.root = tkinter.Tk()

        self.progbar = ttk.Progressbar(self.root)
        self.progbar.config(maximum=4, mode='indeterminate')
        self.progbar.pack()

        self.b_start = ttk.Button(self.root, text='Start')
        self.b_start['command'] = self.start_thread
        self.b_start.pack()

    def start_thread(self):
        self.b_start['state'] = 'disable'
        self.progbar.start()
        self.secondary_thread = threading.Thread(target=arbitrary)
        self.secondary_thread.start()
        self.root.after(50, self.check_thread)

    def check_thread(self):
        if self.secondary_thread.is_alive():
            self.root.after(50, self.check_thread)
        else:
            self.progbar.stop()
            self.b_start['state'] = 'normal'

def func_a():
    time.sleep(1) # simulate some work

def func_b():
    time.sleep(0.3)

def func_c():
    time.sleep(0.9)

def func_d():
    time.sleep(0.6)

def arbitrary():
    func_a()
    func_b()
    func_c()
    func_d()

gui = GUI_Core()
gui.root.mainloop() 
```

→[进度条参考](http://infohost.nmt.edu/tcc/help/pubs/tkinter/web/ttk-Progressbar.html)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-09-24T08:11:10.360

您必须使用： `self.pgBar.step(x)` 其中“x”是进度条中要增加的数量。要在您的 UI 中更新此内容，您必须 `self.window.update_idletasks()`在每个`self.pgBar.step(x)`语句之后添加*

# c# - 如何将表格/网格添加到 vb.net/C# WPF 窗口？

> ID：15323577
> 
> 赞同：0
> 
> 时间：2013-03-10T14:55:48.350
> 
> 标签：c#, wpf, vb.net

我有一个异步服务器在本地网络上监听客户端。当每个客户端向服务器发送连接消息时，我希望服务器在表格中显示客户端的名称。

假设我已经将客户端的名称和 IP 地址作为字符串 ClientDetails 用 _ 分隔，例如“PC5_192.168.1.10”

****编辑 ****

**我想要的是**

当客户加入时，我想将每个客户作为新行添加到表/网格中。

我正在使用 WPF。vb.net 或 C# 答案都可以，我可以自己翻译。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-10T15:58:05.500

我准备了一个“WPF方式”的小例子来做到这一点。在我的电脑上看起来像这样：

![在此处输入图像描述](../Images/287fdfaa7ae1d4b1a39142e6be11a2d3.png)

我使用随机值作为数据源：

```
 public class RandomConnectionAdder
    {
        public Timer timer;
        public Random random = new Random();

        public Action<Connection> OnConnectionAdded { get; set; }

        public RandomConnectionAdder(Action<Connection> onConnectionAdded)
        {
            OnConnectionAdded = onConnectionAdded;
            timer = new Timer(x => AddConnection(), null, 5000, 2000);
        }

        private void AddConnection()
        {
            var computernumber = random.Next(1, 50);
            var newrandomconnection = new Connection()
                {
                    ComputerName = "PC" + computernumber.ToString(), 
                    IPAddress = "192.168.1." + computernumber,
                    ConnectionTime = DateTime.Now
                };

            if (OnConnectionAdded != null)
                OnConnectionAdded(newrandomconnection);
        }
    } 
```

请注意，我通过使用委托添加了一个间接级别`Action<Connection>`来保持关注点的分离。“监听器”负责监听传入的连接，添加新连接时该做什么超出了它的范围。

这是模型类：

```
 public class Connection: INotifyPropertyChanged
    {
        private string _computerName;
        public string ComputerName
        {
            get { return _computerName; }
            set
            {
                _computerName = value;
                OnPropertyChanged("ComputerName");
            }
        }

        private string _ipAddress;
        public string IPAddress
        {
            get { return _ipAddress; }
            set
            {
                _ipAddress = value;
                OnPropertyChanged("IPAddress");
            }
        }

        private DateTime _connectionTime;
        public DateTime ConnectionTime
        {
            get { return _connectionTime; }
            set
            {
                _connectionTime = value;
                OnPropertyChanged("ConnectionTime");
            }
        }

        public event PropertyChangedEventHandler PropertyChanged;

        protected virtual void OnPropertyChanged(string propertyName)
        {
            PropertyChangedEventHandler handler = PropertyChanged;
            if (handler != null) handler(this, new PropertyChangedEventArgs(propertyName));
        }
    } 
```

这是窗口代码隐藏：

```
 public partial class Window6 : Window
    {
        private RandomConnectionAdder adder;
        private ObservableCollection<Connection> Connections;

        public Window6()
        {
            InitializeComponent();
            Connections = new ObservableCollection<Connection>();
            adder = new RandomConnectionAdder(x => Dispatcher.BeginInvoke((Action) (() => AddConnection(x))));
            DataContext = Connections;
        }

        private void AddConnection(Connection connection)
        {
            Connections.Add(connection);
        }
    } 
```

如您所见，窗口实例化`RandomConnectionAdder`并将其`OnConnectionAdded`操作设置为 lambda，该 lambda`ObservableCollection`通过`Dispatcher`.

最后，这是整个 XAML：

```
<Window x:Class="WpfApplication5.Window6"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Window6" Height="300" Width="300">
    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition/>
            <ColumnDefinition/>
            <ColumnDefinition/>
        </Grid.ColumnDefinitions>

        <GroupBox Header="DataGrid">
            <DataGrid ItemsSource="{Binding}" AutoGenerateColumns="False" IsReadOnly="True">
                <DataGrid.Columns>
                    <DataGridTextColumn Header="Computer Name" Binding="{Binding ComputerName}"/>
                    <DataGridTextColumn Header="IP Address" Binding="{Binding IPAddress}"/>
                    <DataGridTextColumn Header="Connection Time" Binding="{Binding ConnectionTime, StringFormat='HH:mm:ss'}"/>
                </DataGrid.Columns>
            </DataGrid>
        </GroupBox>

        <GroupBox Header="Large Icons (ListBox)" Grid.Column="1">
            <ListBox ItemsSource="{Binding}">
                <ListBox.Template>
                    <ControlTemplate>
                        <ItemsPresenter/>
                    </ControlTemplate>
                </ListBox.Template>
                <ListBox.ItemTemplate>
                    <DataTemplate>
                        <DockPanel Margin="5" Width="120">
                            <StackPanel DockPanel.Dock="Bottom">
                                <TextBlock Text="{Binding ComputerName}" TextAlignment="Center"/>
                                <TextBlock Text="{Binding IPAddress}" TextAlignment="Center"/>
                                <TextBlock Text="{Binding ConnectionTime, StringFormat='HH:mm:ss'}" TextAlignment="Center"/>
                            </StackPanel>
                            <Border Height="60" Width="60" BorderBrush="Black" BorderThickness="1">
                                <TextBlock Text="Some Icon" VerticalAlignment="Center" TextAlignment="Center"/>
                            </Border>
                        </DockPanel>
                    </DataTemplate>
                </ListBox.ItemTemplate>
                <ListBox.ItemsPanel>
                    <ItemsPanelTemplate>
                        <WrapPanel IsItemsHost="True"/>
                    </ItemsPanelTemplate>
                </ListBox.ItemsPanel>
            </ListBox>
        </GroupBox>

        <GroupBox Header="Tiles (ListBox)" Grid.Column="2">
            <ListBox ItemsSource="{Binding}">
                <ListBox.Template>
                    <ControlTemplate>
                        <ItemsPresenter/>
                    </ControlTemplate>
                </ListBox.Template>
                <ListBox.ItemTemplate>
                    <DataTemplate>
                        <DockPanel Margin="5" Width="120">
                            <Border Height="40" Width="50" BorderBrush="Black" BorderThickness="1" DockPanel.Dock="Left">
                                <TextBlock Text="Some Icon" VerticalAlignment="Center" TextAlignment="Center"/>
                            </Border>
                            <StackPanel>
                                <TextBlock Text="{Binding ComputerName}" TextAlignment="Center"/>
                                <TextBlock Text="{Binding IPAddress}" TextAlignment="Center"/>
                                <TextBlock Text="{Binding ConnectionTime, StringFormat='HH:mm:ss'}" TextAlignment="Center"/>
                            </StackPanel>
                        </DockPanel>
                    </DataTemplate>
                </ListBox.ItemTemplate>
                <ListBox.ItemsPanel>
                    <ItemsPanelTemplate>
                        <WrapPanel IsItemsHost="True"/>
                    </ItemsPanelTemplate>
                </ListBox.ItemsPanel>
            </ListBox>
        </GroupBox>

    </Grid>
</Window> 
```

如您所见，我绝不会在代码中操纵 UI 元素。这使代码保持简洁和良好的分离，因为应用程序逻辑/数据绝不依赖于 UI 元素的状态。

此外，在这个例子中可以看到“将几个不同的视图绑定到同一个视图模型”的概念，在这种情况下就是它`ObservableCollection`本身。

这是适用于所有事物的“WPF”方法。您几乎不必在代码中操作 UI 元素，至少在应用程序逻辑或数据方面不需要。

只需将我的代码复制并粘贴到 a 中`File -> New Project -> WPF Application`，然后自己查看结果。

# lua - 分配不起作用 Lua (corona SDK)

> ID：15323579
> 
> 赞同：0
> 
> 时间：2013-03-10T14:55:51.783
> 
> 标签：lua, coronasdk

```
local car={};
local car_mt = { __index=car };
function car.new(_x, _y,_color,_animation_index)
    local ncar=
    {
        x=_x or 0;
        y=_y or 0;
        color=_color or 0x005500;

        print(_animation_index,animation_index);
        animation_index=(_animation_index or 1);
        print((_animation_index or 1),animation_index);
    }
    return setmetatable(ncar,car_mt);
end
return car; 
```

输出是

> 无 无
> 
> 1 无

调用 car.new 时未定义 _color 和 _animation_index：

```
local pcar=require("car")
...
function scene:enterScene( event )
    local group = self.view
    physics.start();
    local car1=pcar.new(200,200);

end 
```

为什么赋值后animation_index的值没有变化？

UPD：我也无法将名称分配给具有 rranimation_index 之类的变量。

```
 rranimation_index=(_animation_index or 1);

        rranimation_index=5;
        print((_animation_index or 1),rranimation_index); 
```

是：

> 1 无

这不太可能是由已使用的全局变量名称引起的。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-10T15:38:09.267

在表创建结束之前，所有变量都为零。通过使用 vars 解决它：

```
local car={};
local car_mt = { __index=car };
local C=require("_const");
function car.new(_x, _y,_color,_animation_index)
    local ncar=
    {
        x=_x or 0;
        y=_y or 0;
        color=_color or 0x005500;
        animation_index=(_animation_index or 1);
        img;
        frames=0;
    }
    function ncar:setup()
        self.img=display.newImageRect((C.CARS_DIR..C.ANIMATIONS_CARS[self.animation_index]) or C.EMPTY_IMAGE,50,120,true);
    end
    ncar:setup();
    return setmetatable(ncar,car_mt);
end
return car; 
```

# django - 如何将表单中的两个图像上传到 django 中的 2 个不同目录？

> ID：15323584
> 
> 赞同：1
> 
> 时间：2013-03-10T14:56:13.840
> 
> 标签：django

模型：

```
class Model1(models.Model):
    ...
    pic1 = models.ImageField()
    pic2 = models.ImageField() 
```

如何将表单中的两个图像上传到 django 中的 2 个不同目录？例如 MEDIA_ROOT/pic1/ 中的 pic1 和 MEDIA_ROOT/pic2/ 中的 pic2？

我已经阅读了 django 文档，但是我找不到 FileField 的 upload_to 参数的答案。

更新：很抱歉，将图像上传到 2 个不同的目录时，如何分别重命名它们？pic1 将被保存到 MEDIA_ROOT/pic1/year-month-day-original_name.jpg 和 pic2 到 MEDIA_ROOT/pic2/year-month-day-original_name.jpg

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-10T16:12:19.217

我想我一定误解了你的问题。当然，这正是您所描述的-

```
class Model1(models.Model):
    ...
    pic1 = models.ImageField(upload_to="pic1")
    pic2 = models.ImageField(upload_to="pic2") 
```

字段中的文件`pic1`将上传到 MEDIA_ROOT/pic1/，`pic2`字段中的文件将上传到 MEDIA_ROOT/pic2/。

**更新**

查看有关 upload_to 参数的[文档](https://docs.djangoproject.com/en/1.5/ref/models/fields/#django.db.models.FileField.upload_to)- 您可以将其传递给动态创建路径的函数，如 Catherines 回答中所述。

我知道这不是您的计划，但是如果您想要一些超级简单的东西来组织您的文件，那么值得注意的是您还可以在参数中使用[strftime表示法。](http://docs.python.org/2.7/library/time.html#time.strftime)`upload_to`

```
pic1 = models.ImageField(upload_to='pic1/%Y/%m/%d') 
```

这会给你一个像 -`/path/to/media_root/pic1/2013/03/11/filename.jpg`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-11T02:43:20.773

**模型.py**

```
def get_pic1_path(instance, filename):
    return new_path(path="pic1", filename)

def get_pic2_path(instance, filename):
    return new_path(path="pic2", filename)

def new_path(path, filename):
    today = date.now()
    today_path = today.strftime("%Y-%m-%d")
    image_path = "{0}-{1}".format(today_path, filename)
    return os.path.join(path, image_path)

class Model1(models.Model):
    ...
    pic1 = models.CustomImageField(upload_to=get_pic1_path)
    pic2 = models.ImageField(upload_to=get_pic2_path) 
```

**视图.py**

```
...
    if request.method == 'POST':
        form = Model1Form(request.POST, request.FILES)
        if form.is_valid():
            image = Model1.objects.create()
            pic1 = request.FILES['pic1']
            pic2 = request.FILES['pic2']

            image.pic1.save(pic1.name, image_file)
            image.pic2.save(pic2.name, image_file)
... 
```

# java - 如何在 Java 中更新 java.lang.Long 的 long 值？

> ID：15323589
> 
> 赞同：1
> 
> 时间：2013-03-10T14:56:40.310
> 
> 标签：java

我将一个 java.lang.Long 类实例传递给一个方法（显然作为参考），我想知道是否可以修改它的 long 值，以便调用者可以获得修改后的值。我查看了 java.lang.Long 的文档，但似乎不存在这种类型的任何 setter 方法。它是否正确？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-03-10T14:57:59.933

您**不能更改**Long 值。它是不可变的。检查[这个](https://stackoverflow.com/questions/2208943/how-to-increment-a-class-integer-references-value-in-java-from-another-method)和[那个](https://stackoverflow.com/questions/3815173/increment-a-integers-int-value)以获取更多信息

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-03-10T14:57:53.623

[java.lang.Long](http://docs.oracle.com/javase/7/docs/api/java/lang/Long.html)是**不可变**的，唯一的方法是将修改后的值重新分配给先前的引用。

```
public Long someMethod(Long l) {
    l = watever;
    return l;
}

public void someOtherMethod() {
    Long l = 22235637334634263464L;
    l = someMethod(l);
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2014-02-25T11:21:32.513

Long 在 Java 中是不可变的。您可以通过以下方式在方法内更改它：

1.  把它包起来
2.  使用 AtomicLong
3.  返回更改的值并在方法外重新分配它

# html - CSS伪类后备？

> ID：15323591
> 
> 赞同：3
> 
> 时间：2013-03-10T14:56:52.260
> 
> 标签：html, css, pseudo-class

我想`tr:nth-child(even/odd)`为表使用伪类，但我也想支持 IE 2 人口。`tr`那么，如果`nth-child`不支持，是否有任何纯粹的 css 方式来添加边框？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-10T15:00:59.293

您可以尝试[Selectivizr](http://selectivizr.com/)，我认为这是最简单的解决方案。

编辑：

您还可以使用 jquery 为您添加类：

```
$(function() {
    $("tr:odd").addClass("odd");
    $("tr:even").addClass("even");
}); 
```

编辑2：

此外，如果您使用的是 Modernizr，您可以试试[这个](https://stackoverflow.com/questions/7630408/how-to-test-for-nth-child-using-modernizr)。

编辑3 :)

```
tr { border-bottom: 1px solid #ccc; }

tr:nth-child(odd),
tr:nth-child(even) { border: none; }

tr:nth-child(odd) { background: #eee; }

tr:nth-child(even) { background: #ddd; } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-26T20:34:46.247

你可以`+`在你的类/元素之间添加，就像下面这个例子一样，每 5 个`<tr>`删除`margin-right`

```
tr{margin-right:10px;}
tr + tr + tr + tr + tr{margin-right:0;} 
```

一个很好的替代 NTH 伪类没有任何 javascript 和 IE7+ 兼容;)

# javascript - 检测网页中是否不存在锚点

> ID：15323599
> 
> 赞同：0
> 
> 时间：2013-03-10T14:57:25.820
> 
> 标签：javascript, jquery, html

**我有一个 iframe 从不同的 URL**动态加载内容。
内容是相对较长的网页中的某个锚点。所以我的问题是 - 是否有任何选项可以在将网页加载到 iframe 时检测网页中是否存在锚点（不使用服务器端 .. ）？

例如，如果这样的事情以某种方式是可能的，它将达到目的：

```
$('iframe').load({success: function(){...}, failure: function(){..})
$('iframe').attr('src','http://url.com/index.html#anchor-01'); 
```

谢谢！

# javascript - Safari浏览器上隐藏的溢出

> ID：15323600
> 
> 赞同：1
> 
> 时间：2013-03-10T14:57:28.487
> 
> 标签：javascript, safari, scrollbar, overflow

任何其他浏览器都不会显示嵌入的 SVG，如下所示带有滚动条。然而，Safari 确实如此，而且我似乎找不到摆脱它们的方法。有什么想法吗？

```
<!DOCTYPE html>
<head>
    <meta   http-equiv  ="Content-Type"
            content     ="text/html ; charset = utf-8"/>

    <title>La Bella - Ansbach</title>

    <style>
        html, body { margin : 0 ; padding : 0 ; height : 100% ; width : 100% ;overflow:hidden}
          iframe {overflow:hidden}

    </style>
</head>

<body style="margin:0px; padding:0px; overflow:hidden;">
    <script type    ="text/javascript"  src ="JS/WPL.js"></script>

    <object data    ="default.svg"      src     ="default.svg"
            type    ="image/svg+xml"    id      ="SVG"
            width   ="100%"             height  ="100%"
            scrolling="no"
            style   ="position : absolute ; width : 100% ; height : 100% ; overflow : hidden;overflow-x:hidden; overflow-y:hidden;-webkit-overflow-scrolling:touch">
    </object>
</body> 
```

谢谢，提前。

# xcode - 两个项目之间的xcode目标依赖关系

> ID：15323603
> 
> 赞同：5
> 
> 时间：2013-03-10T14:57:40.437
> 
> 标签：xcode, dependencies, nsbundle

我在 XCode 4 中设置不同项目之间的依赖关系时遇到问题。目前，我在同一个工作区中有两个项目。第*一个*项目的产品中有一个*框架*。我想在*第二个*项目中使用这个框架，作为**Bundle**目标的依赖项。

第一个项目构建成功。但是，第二个声称它无法从框架访问标头，尽管它存在于框架中。我将框架添加到目标的*Build Phases -> Link Binary With Libraries*部分，但这无济于事。我一直在寻找答案，但我发现的只是在*摘要*页面上添加库的建议。不幸的是，与*应用程序*目标相反，*捆绑*目标没有此窗格。我应该在哪里添加框架？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-19T00:29:40.057

此答案描述了添加库依赖项的当前过程，包括标题：[https ://stackoverflow.com/a/9726445/382938](https://stackoverflow.com/a/9726445/382938)

# c# - 多个参数 - 查询表达式中字符串中的语法错误：VS 2010 with MS-Access 2003

> ID：15323606
> 
> 赞同：0
> 
> 时间：2013-03-10T14:57:50.357
> 
> 标签：c#, ms-access

我正在接收

> OleDBException 是“查询表达式 '(StudentID = 100' OR StudentName = 'Nick' OR StudentCNCI = '78894452)Bob'中的语法错误（缺少运算符）”的未处理错误。

```
 private void btnFind_Click(object sender, EventArgs e)
    {

        string title = textBox1.Text.ToString();
        string queryString = "SELECT * FROM Students WHERE (StudentID = " + StudIDTb.Text.ToString() + "' OR StudentName = '" + StudNameTb.Text.ToString() + "' OR StudentCNCI = '" + StudCNCITb.Text.ToString() + ")" + title;

        OleDbCommand command = new OleDbCommand();
        command.CommandText = queryString;

        command.Connection = myCon;
        myCon.Open();

        OleDbDataReader dr = command.ExecuteReader(); // error pointing here
        while (dr.Read())
        {
            StudIDTb.Text += String.Format("StudentID: {0}\n", dr["StudentID"].ToString());
            StudNameTb.Text += String.Format("StudentName: {0}\n", dr["StudentName"].ToString());
            StudCNCITb.Text += String.Format("StudentCNIC: {0}\n", dr["StudentCNIC"].ToString());
            StudDOBTb.Text += String.Format("StudentDOB: {0}\n", dr["StudentDOB"].ToString());
        }
        myCon.Close();

     } 
```

我也试过...

```
string queryString = "SELECT * FROM Students WHERE (StudentID = " + StudIDTb.Text + "' OR StudentName = '" + StudNameTb.Text + "' OR StudentCNCI = '" + StudCNCITb.Text + ")" + title; 
```

我不想给你错误的印象，我很“懒惰”，但我假设我收到了这个错误，因为我的查询不正确，或者我犯了拼写错误，或者可能是其他原因。请有人可以帮助我，在此先感谢。

ps 我知道我因为不使用参数化查询而受到批评。一旦我得到基本权利，我会改变它。我知道这里已经问了很多类似的问题，但我仍然无法正确回答。

**更新 1** 我已将其更改为

```
"SELECT * FROM Students WHERE StudentID = " + StudIDTb.Text + " OR StudentName = '" + StudNameTb.Text + "', OR StudentCNCI = '" + StudCNCITb.Text + ")"; 
```

我现在收到错误...

> 查询表达式中的语法错误（逗号）

我正在调查它

**更新 2**

```
string queryString = "SELECT * FROM Students WHERE StudentID = " + StudIDTb.Text + "' OR StudentName = '" + StudNameTb.Text + "' OR StudentCNCI = '" + StudCNCITb.Text + "'"; 
```

收到同样的错误。

调查它

**更新 3** 如果无法解决，我会按照应有的方式进行操作，如果这意味着解决问题并且可能很容易发现代码的任何问题，则强烈建议使用参数化查询

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-10T15:02:26.053

它告诉您您的查询无效。你有这个

```
SELECT * 
FROM Students
WHERE (StudentID='a' OR StudentName='b' or StudentCNCI='c')Bob 
```

最终不喜欢 Bob，也不清楚你为什么需要它。解释您的意图是什么，或者只是摆脱它，因为您的查询似乎没有必要。

```
string queryString = "SELECT * FROM Students WHERE StudentID = '" + 
  StudIDTb.Text + "' OR StudentName = '" + StudNameTb.Text + 
  "' OR StudentCNCI = '" + StudCNCITb.Text + "'"; 
```

正如您在帖子中提到的，您还需要参数化您的查询。如果您在这方面需要帮助，请告诉我们，但它非常简单，并且在这里有一个常见的帖子，因此您已经有足够的资源来解决这个问题。

编辑：如果您愿意，可以删除括号。如果你打算做一个子查询或类似的事情，你真的只需要这样。它们不会损害您的查询，它们只是没有必要。

```
SELECT * 
FROM Students
WHERE StudentID='a' OR StudentName='b' or StudentCNCI='c' 
```

此外，从其他评论中，您实际上有多个引用不匹配（一个在开头，另一个在结尾）。

# javascript - 图像未按所需顺序加载

> ID：15323612
> 
> 赞同：0
> 
> 时间：2013-03-10T14:58:28.003
> 
> 标签：javascript, jquery, image, load

我已经为我的图像分配了一个 div id，以便按特定顺序加载它们。但是，我尝试首先加载的图像（pocket2.png）不是。任何想法为什么？该网站在这里[http://edharrisondesign.com/pocketpictograms/](http://edharrisondesign.com/pocketpictograms/)。

提前致谢！

```
 jQuery(document).ready(function($) {

        $(".preload").each(loadImages);

            function loadImages (i, elem) {

                var numItems = $('.preload').length;
                for (var i = 0; i < numItems; i++) {

                    $("#img" + i).each(function(){
                        var thisSource = $(this).data('src');
                        $(this).html('<img src="' + thisSource + '" alt=""/>');
                    });
                }

        } //<end loadImages function>

    }); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-10T15:00:44.280

图像都是异步加载的，这意味着它们以最先完成的顺序出现，很可能是最小的图像首先出现。我真的不会担心它们加载的顺序，这对体面的连接几乎没有影响。

如果你真的想优化你的图像加载，你应该有一个包含所有图像的巨型图像，并使用 CSS 或 javascript 将其拆分。这意味着对服务器只有一个请求，而不是`numItems`请求。

# ruby-on-rails - Capistrano 与直接 github 克隆相比有什么优势？

> ID：15323614
> 
> 赞同：0
> 
> 时间：2013-03-10T14:58:29.107
> 
> 标签：ruby-on-rails, github, capistrano

我想知道 Capistrano 与将文件从 github 直接克隆到我的服务器的 RoR 应用程序相比有什么优势？

# python - Django 响应总是用 text/html 分块无法设置 Content-Length

> ID：15323619
> 
> 赞同：3
> 
> 时间：2013-03-10T14:59:22.237
> 
> 标签：python, django, http, http-headers, apache2

在我的 Django 应用程序的 views.py 中，我在尝试设置以下 HTTP 标头字段后返回一个 HttpResponse 对象：

```
# Create a Response Object with the content to return 
response = HttpResponse("%s"%(output_display),mimetype='text/html')
response['Cache-Control'] = 'must-revalidate, max-age=20'
response['Vary'] = 'Accept-Encoding'
response['Transfer-Encoding'] = 'gzip'
#response['Content-Encoding'] = 'gzip'
response['Connection'] = 'close'
#response['Content-Type'] = 'text/html'
response['Content-Length'] = '%s'%(len(output_display))
return response 
```

然后我使用带有 FireFox 的 Live HTTP Headers 插件捕获输出，它看起来像：

```
HTTP/1.1 200 OK
Date: Sun, 10 Mar 2013 14:55:09 GMT
Server: Apache/2.2.22 (Ubuntu)
Transfer-Encoding: gzip, chunked   <---------- Why 'chunked'?
Vary: Accept-Encoding
Connection: close
Cache-Control: must-revalidate, max-age=20
Content-Encoding: gzip
Content-Type: text/html <---------------------- No Content-Length even though I set it?
X-Pad: avoid browser bug 
```

我正在尝试使用 Apache2 的 mem_cache 进行缓存，因此我需要设置 Content-Length 并且不能为 Transfer-Encoding 设置“分块”。

我的 Apache2 mem_cache.conf 看起来像（大量仅用于测试）：

```
<IfModule mod_mem_cache.c>
        CacheEnable mem /
        MCacheSize 10000
        MCacheMaxObjectCount 10000000
        MCacheMinObjectSize 1
        MCacheMaxObjectSize 10000000
        MCacheMaxStreamingBuffer 10000000
</IfModule> 
```

但是，即使我在响应代码中明确设置了 Content-Length 和 Transfer-Encoding ，也会自动插入“chunked”，因此我的 Content-Length 不会受到尊重。为什么是这样？如何解决此问题以获得所需的响应？谢谢 -

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2018-12-06T00:33:21.177

我最近在 mod_wsgi 应用程序中遇到了类似的问题；我试图更新使用其内置磁盘缓存的 apache 配置，以改用 socache/memcache。

磁盘缓存工作正常，但切换到 memcache 或 shmcb 不起作用。如果我对想要缓存的资源发出请求，它不会将其存储在缓存中（`CacheDetailHeader`对此很有帮助）。在调试时检查日志，我发现了以下消息：

```
[Wed Dec 05 18:52:16.571002 2018] [cache_socache:debug] \
[pid 884:tid 140422596777728] mod_cache_socache.c(389): \
[client 127.0.0.1:56576] AH02346: URL 'http://127.0.1.1:80/cacheme/c?' \
had no explicit size, ignoring, referer: http://127.0.0.1/ 
```

socache 似乎不喜欢没有明确大小的对象。我尝试将这些 mod_memcache 设置的较新的 socache 等效项设置为足够大的值：`CacheSocacheMaxSize`和`CacheSocacheReadSize`.

我知道`Content-Length`标题已被设置并到达某个地方；当我故意计算错误时，它出现在 mod_wsgi 日志中。

我发现了一些东西：

1.  不要`Transfer-Encoding`自己设置标头，因为 WSGI 规范禁止这样做：

    > [谁设置了 Transfer-Encoding: chunked header？](https://stackoverflow.com/questions/49621559/who-set-the-transfer-encoding-chunked-header)

2.  即使您`Content-Length`自己设置标题，它也被 apache 压缩。这会改变长度；当 Apache 不知道长度是多少时，它会切换到分块并删除`Content-Length`标题。

我发现：

*   `Content-Type: text/html`

*   `Content-Length`设置为我的 utf-8 编码大小

在 python/mod_wsgi 应用程序中设置，并且：

*   `SetEnv no-gzip 1`

在 apache 配置中设置，该对象使其进入 shmcb 缓存。

看起来当 apache gzip 压缩一个对象时，它将标头更改为它不被 socache 接受。

我四处寻找使它们兼容的方法，但在这个问题上找不到太多。在 mod_cache 文档中提到了重新排序缓存/放气过滤器：

> [https://httpd.apache.org/docs/2.4/mod/mod_cache.html#finecontrol](https://httpd.apache.org/docs/2.4/mod/mod_cache.html#finecontrol)

如果我输入一个指令来重新排序缓存/放气过滤器，这将起作用：

```
# within a directory
SetOutputFilter CACHE;DEFLATE 
```

奇怪的是，在缓存未命中时，服务器返回 gzip 压缩的内容，但在缓存命中时，服务器返回未编码的 text/html。这看起来很奇怪，但我对 FilterChain 指令的理解还不够好，无法尝试这些指令。

我还在 php/content-length 的相关问题中发现了一些提及：

> [https://serverfault.com/questions/183843/content-length-not-sent-when-gzip-compression-enabled-in-apache](https://serverfault.com/questions/183843/content-length-not-sent-when-gzip-compression-enabled-in-apache)

那里的答案发现，如果他们将 设置为`DeflateBufferSize`足够大的值，则将设置内容长度。

我无法让它工作。

所以看起来有人在选择缓存或压缩之间陷入困境。

# android - 如何使视图适合布局？

> ID：15323627
> 
> 赞同：0
> 
> 时间：2013-03-10T15:00:14.760
> 
> 标签：android, layout, view

我有一个主布局，我在其中添加了动态视图膨胀，我这样做是在主布局中添加比例，但在某些情况下，视图超过了主布局高度。我怎样才能告诉他们坚持布局高度而不是穿越？

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-10T15:50:45.697

请提供代码，以便我通过分析帮助您。尝试使用正确的 LayoutParams。为什么要动态添加视图。如果你能用 XML 制作它，那就制作吧！

# regex - 正则表达式包括 a-zA-Z、数字和一些带有长度限制的符号

> ID：15323629
> 
> 赞同：1
> 
> 时间：2013-03-10T15:00:22.620
> 
> 标签：regex

我尝试创建一个正则表达式来匹配所有字符串的 大小写和长度限制为的符号`A-Z`。`digits``@#$_``4 to 16`

***我没用的正则表达式：***
`/^([a-zA-Z])|(\d)|(@#\$_){4,16}$/`

我测试在线正则表达式生成器，例如[http://www.jslab.dk/tools.regex.php](http://www.jslab.dk/tools.regex.php)但没有一个好的结果。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-10T15:08:50.533

您的正则表达式`/^([a-zA-Z])|(\d)|(@#\$_){4,16}$/`匹配单个字母或单个数字或 4 到 16 个字符的“@#\$_”。

替代方案周围的团体是无用的。

一种解决方案是围绕整个交替组

```
/^([a-zA-Z]|\d|@#\$_){4,16}$/ 
```

但更好的解决方案是将所有内容添加到一个字符类中

```
/^[a-zA-Z@#$_\d]{4,16}$/ 
```

[在 Regexr 上](http://regexr.com?342m3)查看

您也许可以进一步简化它，因为`[a-zA-Z\d_]`它与`\w`, **when`\w`不是基于 unicode 的相同！**

```
/^[\w@#$]{4,16}$/ 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-10T15:07:00.820

`\w`包括小写和大写字母、数字和`_`字符

正则表达式模式：`^[\w@\#\$]{4,16}$`

在这里解释演示：[http ://regex101.com/r/rK1yH2](http://regex101.com/r/rK1yH2)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-10T15:08:44.660

您需要的表达式是这个：

```
( ([a-zA-Z])|(\d)|(@#\$_) ){4,6} 
```

您遇到的问题是最后一个 {2,6} 仅影响最后一组括号，而不影响整个表达式。还要确保“/^”和“$/”对于您的情况是强制性的，因为“^”的意思是“不是”，所以我不确定你为什么在那里有它。

您还可以在此处以图形方式查看它：http: [//www.debuggex.com/](http://www.debuggex.com/)

# javascript - 当类选择器返回 2 个元素时的 hide() 和 show() 方法

> ID：15323631
> 
> 赞同：0
> 
> 时间：2013-03-10T15:00:30.603
> 
> 标签：javascript, jquery

我有一个返回 2 个元素的类选择器。我做了一个`console.log()`，它是一个数组，其中 0 是第一个元素，1 是第二个元素。

我需要`show()/hide()`根据条件使用这些元素。

我试着做，

```
mySelector[0].hide()
mySelector[0].show()

mySelector[1].hide()
mySelector[1].show() 
```

我也试过，

```
mySelector.first().hide()
mySelector.first().show()

mySelector.last().hide()
mySelector.last().show() 
```

两种方法都不起作用。另外，我知道甚至`css()`不能与 display: none 一起应用。我应该采取什么方法来实现这一目标？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-10T15:16:03.397

鉴于以下匹配两个元素：

```
var mySelector = $(".pre.fileContent") 
```

如果你想同时显示（或隐藏）：

```
mySelector.show(); 
```

如果您想显示（或隐藏）其中之一：

```
mySelector.eq(n).show(); 
```

从零开始`n`。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-10T15:03:14.470

```
$("mySelector:eq(0)").hide();

$("mySelector:eq(1)").show(); 
```

你可以用这个

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-10T15:13:14.637

您可以使用带有类名的 jQuery 方法。

例如。

**HTML**

```
<div class="mySelector"></div>
<div class="mySelector"></div>
<div class="submit">CLICK</div> 
```

**CSS**

```
.mySelector{border:2px dashed green; height:100px; width:100px;} 
```

**jQuery**

```
$(".submit").click(function(){
    $(".mySelector").toggle(); 
}); 
```

现场小提琴[在这里](http://jsfiddle.net/4PHV5/)

# c# - C# 十进制精度函数

> ID：15323633
> 
> 赞同：0
> 
> 时间：2013-03-10T15:00:45.597
> 
> 标签：c#, math, precision

我有一个十进制函数：

```
public decimal NGD(long TotalPages, long XHits, long YHits, long BothHits)
{
    return ((Math.Max(XHits, YHits)-BothHits)/(TotalPages - Math.Min(XHits, YHits)));
} 
```

在打印参数时，我得到 NGD(44000000000,36100000,5630000,3580000) 这意味着`return ((36100000 - 3580000 )/(44000000000 - 5630000));`在我的应用程序中我得到一个 0，而它应该是 0.00073918549

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-10T15:02:04.500

你正在做整数除法，它只能返回一个截断的整数。

您需要将一个操作数转换为非整数类型（可能`decimal`）。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-10T15:03:01.220

那是因为您使用的是整数除法，这会截断结果。用于`return ((decimal)(36100000 - 3580000 )/((decimal)(44000000000 - 5630000)));`小数除法。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-10T15:04:19.327

你所有的算术都是用`long`( `System.Int64`) 完成的，它是一个*整数*类型。只有在除法完成（给出整数结果）后，商才会转换为`decimal`.

考虑将您的红利（或什至只是它的前导项）分配给`decimal`( `System.Decimal`)。然后所有其他`long`值将在此过程中自动“提升” `decimal`。

当然，您可以改为将一个参数（或所有参数）更改为具有 type `decimal`。`long`将 type 的表达式转换为 type的方法参数不需要显式转换`decimal`。

# windows - 如何将 CStringArray 的一部分复制到另一个 CStringArray

> ID：15323636
> 
> 赞同：1
> 
> 时间：2013-03-10T15:00:56.033
> 
> 标签：windows, mfc

我想将 CStringArray 的一部分复制到另一个 CStringArray。等式。复制从 CStringArrayA[5] 到 CStringArrayA[9] 到 CStringArrayB（CStringArrayA 到 CStringArrayB 的 5 个元素）。

请帮忙。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-10T15:12:31.280

查看[CStringArray 的接口，](http://softimage.wiki.softimage.com/sdkdocs/sicppsdk/html/classXSI_1_1CStringArray.html)您似乎没有比仅调用`Add`指定范围内的每个元素更好的选择。

# sql - 如何强制类“indentity”的 ID 生成器为 SQL 中最后插入的 ID 递增

> ID：15323638
> 
> 赞同：0
> 
> 时间：2013-03-10T15:01:05.730
> 
> 标签：sql, hibernate

我想征求一些建议，为什么我`<generator class="identity" />`在表中生成的 id 不像上次插入的 + 1 那样，而是像上次插入的 ID 是 5，当保存记录时，新的 ID 是例如 7，所以 ID 值 6 被跳过

（由于mySql数据库的这个“身份”类的优势，我需要使用**身份**而不是**递增类）**

因为在我的情况下，我需要主键和外键的相同 ID 值，必须相等，但在这种情况下，我得到主键 7 并且外键也会生成，但不会像最后一个 ID 一样递增，

这两个类都有Hibernate映射，`<generator class="identity" />` 我必须使用什么才能通过“身份”获得带有新记录的递增ID？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-10T15:16:25.713

您必须使用“AUTO_INCREMENT”创建具有主键的表，例如：

`CREATE TABLE person ( id BIGINT NOT NULL AUTO_INCREMENT, name CHAR(30) NOT NULL, PRIMARY KEY (id) )`

然后您的 GenerationType.IDENTITY 必须完成这项工作。

# assembly - TASM 中的彩色 Hello World

> ID：15323639
> 
> 赞同：1
> 
> 时间：2013-03-10T15:01:09.027
> 
> 标签：assembly, x86, dos, bios, tasm

再会。我是汇编语言的新手，我正在尝试在 TASM 中打印一个彩色的“Hello World”。到目前为止，这是我的代码。它只是打印没有颜色的“hello world”。

```
.model small
.stack 100h

.data
message db 13,10,"Hello World!$"

.code
main proc near
   lea dx, message
   mov ah, 09h
   int 21h

   mov ah,4ch
   int 21h
main endp 
```

我读过这样的东西

```
mov ah,9    ;Function 9: Write character and attribute at cursor position
mov al,'H'  ;AL = character to display
mov bh,0    ;BH = page number
mov bl,02EH ;BL = attribute (yellow on green)
mov cx,1    ;CX = number of times to write character
int 10H  ;Int 10H: Video (show the character) 
```

在论坛中，但我无法将其与我的 hello world 合并。我很困惑为什么要使用那个特定的寄存器等。请帮我。非常感谢你！

**编辑**

```
.model small
.stack 100h

.data
hello db 'Hello World!',0

.code
main proc near
    mov ax, @data
    mov ds, ax

    mov ax, 3
    int 10h

    mov si, 0             ; cl is the counter register, set it to
                      ; zero (the first character in the string)

start:                ; Beginning of loop
    mov al, hello[si]   ; Read the next byte from memory
    cmp al, 0           ; Compare the byte to null (the terminator)
    je endthis              ; If the byte is null, jump out of the loop

    mov ah, 09h
    mov al, hello[si]
    mov bh, 0
    mov bl,02EH
    mov cx,11
    int 10H  

    add si, 1           ; Move to the next byte in the string
    jmp start           ; Loop

endthis:    
    mov ah, 4ch
    int 21h

main endp
end main 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-10T15:31:28.860

如果您正在为 DOS 进行汇编编程，您应该熟悉一些常用的中断，例如`int 10h`和`int 21h`. 对于每个中断子函数，都有一组相应的参数，您需要通过一个或多个寄存器将其传递给它。

您粘贴的示例代码中使用的中断是“WRITE CHARACTER AND ATTRIBUTE AT CURSOR POSITION”，您可以[在此处](http://www.ctyme.com/intr/rb-0099.htm)找到它的描述。

为了显示具有颜色属性的字符串，您必须在循环中迭代字符串并使用适当的参数为每个字符调用中断。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-10T16:25:00.630

与任何编程语言一样，汇编语言是任意设计决策的结果。有时将特定寄存器用作中断调用输入寄存器（优化）可能是有原因的，但很多时候不是，您只需将接口（此处`int 10h`或`int 21h`）视为理所当然。

与您的几个感叹号问题`!!!!!!!!!!!`（我假设有 11 个感叹号）相关，您的`int 10`中断调用中的参数不正确：

```
mov cx,11 
```

根据[Ralf Brown 的中断列表](http://www.ctyme.com/rbrown.htm)， 的参数`mov ah,9`如下`int 10h`：

```
INT 10 - VIDEO - WRITE CHARACTER AND ATTRIBUTE AT CURSOR POSITION
    AH = 09h
    AL = character to display
    BH = page number (00h to number of pages - 1) (see #00010)
        background color in 256-color graphics modes (ET4000)
    BL = attribute (text mode) or color (graphics mode)
        if bit 7 set in <256-color graphics mode, character is XOR'ed
          onto screen
    CX = number of times to write character
Return: nothing
Notes:  all characters are displayed, including CR, LF, and BS
    replication count in CX may produce an unpredictable result in graphics
      modes if it is greater than the number of positions remaining in the
      current row
    With PhysTechSoft's PTS ROM-DOS the BH, BL, and CX values are ignored
      on entry. 
```

所以，而不是`mov cx,11`，它应该是`mov cx,1`。

而第二个`mov al, hello[si]`是多余的，因为此时`hello[si]`已经加载了`al`与前面相同的指令。但是，这不会影响代码的功能。

**编辑：**添加了有关如何使用`int 10h`.

看来您还需要使用以下参数更新光标位置`mov ah,2`, `int 10h`：

```
INT 10 - VIDEO - SET CURSOR POSITION
    AH = 02h
    BH = page number
        0-3 in modes 2&3
        0-7 in modes 0&1
        0 in graphics modes
    DH = row (00h is top)
    DL = column (00h is left)
Return: nothing 
```

可能您可能需要使用以下参数读取当前光标位置`mov ah,3`, `int 10h`：

```
INT 10 - VIDEO - GET CURSOR POSITION AND SIZE
    AH = 03h
    BH = page number
        0-3 in modes 2&3
        0-7 in modes 0&1
        0 in graphics modes
Return: AX = 0000h (Phoenix BIOS)
    CH = start scan line
    CL = end scan line
    DH = row (00h is top)
    DL = column (00h is left)
Notes:  a separate cursor is maintained for each of up to 8 display pages
    many ROM BIOSes incorrectly return the default size for a color display
      (start 06h, end 07h) when a monochrome display is attached
    With PhysTechSoft's PTS ROM-DOS the BH value is ignored on entry. 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-10-26T03:07:54.277

```
.model small
.data
msg1 10,13,"hellow $"
.code
.startup
mov ah,09h
int 21h
.exit
end 
```

# sql - 创建SQL表，foreign_key混淆

> ID：15323640
> 
> 赞同：1
> 
> 时间：2013-03-10T15:01:15.487
> 
> 标签：sql, reference, foreign-keys, primary-key, database-table

![图式](../Images/0e0dae66fdcfb5b5ab492bdd5dfd1edc.png)

一个问题，我将主管设置为外键。他通过 Activity Participant 收集信息并从个人 ID 中获取信息。

问题：

我应该如何创建`Activity`表？我必须写下关于主管的什么？

```
CREATE TABLE activity
(
act_id VARCHAR(8) CONSTRAINT activity_pk PRIMARY KEY,
act_type VARCHAR2(20),
act_desc VARCHAR2(30),
act_date DATE,
mor_aft VARCHAR2(9),
**CONSTRAINT activity_sup_fk FOREIGN KEY (act_supVisor) REFERENCES person()**
); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-10T15:07:32.657

外键必须引用被引用表的唯一键。表的主键或辅助唯一键。

```
CONSTRAINT activity_sup_fk FOREIGN KEY (act_supVisor) 
  REFERENCES person(Person_id) 
```

# sql - 投标网站的数据库结构

> ID：15323646
> 
> 赞同：0
> 
> 时间：2013-03-10T15:01:44.690
> 
> 标签：sql, database, database-design

我有两张桌子：

```
items              bids
 -id (pk)          -id (pk)
 -user_id (fk)     -user_id (fk) references users (pk)
 -title            -item_id (fk) references items
                   -bid_price 
```

我还希望用户可以选择接受出价。我应该如何构建数据库以拥有此功能。

选项1：

```
bids 
-id (pk)
-user_id
-item_id
-bid_price
-is_accepted 
```

选项 2：

```
items
-id
....
-accepted_bid_id (fk references bid) 
```

我应该采取哪个选项或建议我其他选项？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-10T15:03:49.787

如果每个项目只有一个接受的投标，选项 2 将是更好的方法。选项 1 将允许接受任何数量的投标。

关于推理的更多信息：`accepted_bid_id`选项 2 中的列不仅确保每个项目最多只能接受一个投标，还可以让您更快地访问该投标。如果您使用布尔值（您的选项 1），则必须执行以下操作才能加入接受的出价：

```
SELECT * FROM items
LEFT JOIN bids ON bids.item_id=items.id AND bids.is_accepted 
```

这要求出价（item_id，is_accepted）的复合索引相当快。另一方面，使用选项 2，您可以这样做：

```
SELECT * FROM items
LEFT JOIN bids ON bids.id = items.accepted_bid_id 
```

除了您已经拥有的两个主键之外，这不需要任何索引。

所以总结一下：

*   选项 2 保持完整性
*   选项 2 不需要额外的索引
*   选项 2 允许更简单的查询

所以没有太多指向选项1的方向。

# facebook - 将图像上传到 Facebook 粉丝页面失败

> ID：15323647
> 
> 赞同：0
> 
> 时间：2013-03-10T15:01:46.157
> 
> 标签：facebook, facebook-graph-api

当我尝试将图像上传到我管理的粉丝页面时，它会上传到我的相册而不是粉丝页面的相册。

我已授予“manage_page”权限![图资源管理器工具中的权限选项卡](../Images/8e9bbdd54851e05045212291dd410fa0.png)

我在 Graph Explorer Tool 中尝试了以下操作![在 Graph Explorer 中执行](../Images/2fd2e4be4c35e1a10ae3e225abd046b9.png)

我给出的 id 是我页面的 id。我也尝试将其更改为页面中的专辑 ID（专辑将 can_upload 设置为 true）。

但是图像仍然被上传到我的个人资料而不是页面。有人可以帮帮我吗 ？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-10T15:45:55.850

行。最后我找到了答案。

似乎有两种类型的 access_token。一是管理用户，二是管理页面。

通常，图形浏览器会显示 access_token 来管理用户。要获取 access_token 来管理页面，我们需要从“ [https://graph.facebook.com/](https://graph.facebook.com/) /accounts”中查询。

这将导致像![查询访问令牌以管理 facebook](../Images/c8c1f5a2cbdd0bd6b3a8ad8987db80a6.png)

然后，使用该 access_token 最终将图像上传到您的粉丝页面，如问题中的图片所示。

希望这可以帮助。

# javascript - 在 Google Map API v3 中的 Circle Overlay 内输入文本

> ID：15323648
> 
> 赞同：0
> 
> 时间：2013-03-10T15:01:59.880
> 
> 标签：javascript, google-maps-api-3

我想使用类似于以下站点的 Google Maps API 创建带有圆形叠加层的地图：[链接] [https://whypoll.crowdmap.com/](https://whypoll.crowdmap.com/)

我可以将圆形图层添加到 Google Map API。谁能告诉我如何得到圈内的计数。例如这里它应该在圆圈内打印 1。

![在此处输入图像描述](../Images/89e4a34eb19c42304d3e734a1ee1e0bd.png) 提前致谢。

```
<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <title>Circle Overlay</title>

    <style type="text/css">
      #map {
    width: 1200px;
    height: 775px;
      }
    </style>

  <script type="text/javascript" src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBdTuWJjEUMvQZ6VVPGksE12XNgQgs__Qk&sensor=false&libraries=visualization"></script>

    <script type="text/javascript">
      /**
       * Called on the initial page load.
       */
      function init() {
    var mapCenter = new google.maps.LatLng(23.30, 80.00);
    var map = new google.maps.Map(document.getElementById('map'), {
      'zoom': 5,
      'center': mapCenter,
       draggable: false,
       disableDefaultUI: true,
      'mapTypeId': google.maps.MapTypeId.ROADMAP
    });

      var marker = new google.maps.Marker({
     // map: map,
      position: new google.maps.LatLng(18.7000, 79.1833),
      draggable: false
    });

      var circle = new google.maps.Circle({
      map: map,
      radius: 100000, 
      strokeColor: "#FF0000",
      fillColor: "#FF0000",
      fillOpacity: 0.35,
      strokeWeight: 2,
      strokeOpacity: 0.8
    });

    // Since Circle and Marker both extend MVCObject, you can bind them
    // together using MVCObject's bindTo() method.  Here, we're binding
    // the Circle's center to the Marker's position.
    // http://code.google.com/apis/maps/documentation/v3/reference.html#MVCObject
    circle.bindTo('center', marker, 'position');
      }

      // Register an event listener to fire when the page finishes loading.
      google.maps.event.addDomListener(window, 'load', init);
    </script>
  </head>
  <body>

    <div id="map"></div>
  </body>
</html> 
```

# javascript - nicEdit：编辑 代替

> ID：15323652
> 
> 赞同：3
> 
> 时间：2013-03-10T15:02:24.583
> 
> 标签：javascript, nicedit

如何让 nicEdit`<p>`在编辑区域中使用标签而不是`<div>`标签？或者，至少，更改`<div>`标签的默认样式？

# c++ - 解释频率[toupper(new_letter) - 'A']++;

> ID：15323656
> 
> 赞同：3
> 
> 时间：2013-03-10T15:02:50.900
> 
> 标签：c++, arrays

因此，我一直在寻找解决一个问题的方法，即一个步骤涉及计算每个唯一字母的频率。我去的每个地方都有相同的数组增量器。我没有看到这个表格，也没有完全理解它。我试图找到该格式的支持文档，但无法弄清楚它的实际作用。我可以让它工作；但是，我不确定每个 peice 代表什么。

Peice 我在理解这里括号内发生的事情时遇到了问题。

```
frequency[toupper(new_letter) - 'A']++; 
```

其中频率是一个数组

示例来自：[count 字符出现在数组中的次数？](https://stackoverflow.com/questions/13791426/count-number-of-times-a-character-appears-in-an-array)

**算法：**

*   打开文件/阅读一封信。
*   搜索新字母的字母数组。
*   如果新字母存在：增加该字母的频率槽：frequency[toupper(new_letter) - 'A']++; 如果缺少新字母，则添加到数组并将频率设置为 1。
*   处理完所有字母后，打印出频率数组：`

    cout << 'A' + index << ": " << frequency[index] << endl;

任何帮助理解将不胜感激。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-10T15:06:11.237

这只是一个数组。也许让您感到困惑的部分是`toupper(new_letter) - 'A'`我们在这里所做的 - 我们将字母转换为大写，然后从`'A'`结果的 ASCII 码中减去 ASCII 码。因此，结果是 range 中的一个数字`[0-25]`。之后通过添加这个`'A'`我们得到原始的大写字符。至于算法的其余部分 - 这就像[计数排序](http://en.wikipedia.org/wiki/Counting_sort)一样。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-10T15:09:28.670

不幸的是，这个解决方案不是完全可移植的。它假定在​​执行字符集中，大写字母 AZ 具有连续值。也就是说，它假设`'A' + 1`等于`'B'`，`'B' + 1`等于`'C'`，等等。这*不一定是*真的，但通常是这样。

`toupper`简单地将传递给它的任何字符转换为大写。鉴于上述假设，从中减去，将计算出到给定字母`'A'`的“距离” 。`'A'`也就是说，如果`new_letter`是`'A'`，则结果为0。如果是`'b'`，则结果为1。如您所见，使用的原因`toupper`是为了使其独立`new_letter`于是大写还是小写。

然后使用这个结果（基本上是字母在字母表中的位置）来访问数组。如果`frequency`是一个 26 `int`s 的数组（每个字母一个），您将访问相应的`int`. `int`然后递增。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-10T15:12:07.357

如果它是一个`array`（例如`int frequency[26];`），那么我们就不会添加到数组中——它已经存在，但值为零。

运算符是的`++`简写`add one to the thing`，所以

```
frequency[toupper(new_letter) - 'A']++; 
```

是相同的：

```
frequency[toupper(new_letter) - 'A'] = frequency[toupper(new_letter) - 'A'] + 1; 
```

显然，速记版本更容易阅读，因为重复的次数要少得多，需要仔细检查是否两边都相同，等等。

索引是`toupper(new_letter) - 'A'`- 这首先将任何字母变成大写字母 - 所以我们不关心它是否是`a`or `A`， 'c' or`C`等​​，然后减去字母表中第一个字母的值，`'A'`。这意味着如果`new_letter`是`'A'`索引为零。如果`new_letter`是`'G'`我们使用索引 7 等 [这假设所有字母都是连续的，这不是绝对确定的，并且可以肯定的是，如果我们谈论的语言不是英语，例如 ä、ǹ、Ë 或 ê，等作为语言的一部分，那么那些肯定不会跟随 AZ]

如果您要手动计算一段文本中的字母数量，您可以将所有字母 AZ 列在纸的边缘，然后在阅读文本时在每个字母旁边画一个点，然后然后计算点的数量。这做同样的事情，除了它在你进行时保持每个计数运行。

# textview - Android：动画TextView有长文本显示

> ID：15323665
> 
> 赞同：0
> 
> 时间：2013-03-10T15:04:08.797
> 
> 标签：textview, android

我正在开发在 Eclipse 框架上开发的 Android 项目。在这里我想在屏幕上滚动长文本，因为我使用了 Animation 类。它按照我的要求工作得很好，作为参考，我在这里分享我的代码：

```
 TextView tt = new TextView (this);
    tt.setText("Welcome Here is my very long text to display.But only some part of text is getting displayed, not the entire text.Please provide me the solution so that entire text should be displayed on the screen");
    tt.setEllipsize(TextUtils.TruncateAt.valueOf("MARQUEE"));
    tt.setTextSize(40);
    tt.setSingleLine(true);

    //here actual_scr_width = device screen width
    //here actual_scr_height = device screen height

    if(direction.equalsIgnoreCase("left"))
    {
         Animation animationToLeft = new TranslateAnimation(actual_scr_width, -actual_scr_width, 0, 0);
         animationToLeft.setDuration(12000);
         animationToLeft.setRepeatMode(Animation.RESTART);
         animationToLeft.setRepeatCount(Animation.INFINITE);
         tt.setAnimation(animationToLeft);
    }
    else if(direction.equalsIgnoreCase("right"))
    {
         Animation animationToLeft = new TranslateAnimation(-actual_scr_width, actual_scr_width, 0, 0);
         animationToLeft.setDuration(12000);
         animationToLeft.setRepeatMode(Animation.RESTART);
         animationToLeft.setRepeatCount(Animation.INFINITE);
         tt.setAnimation(animationToRight);
    } 
```

但唯一的问题是，当我将长文本滚动为选框时，它只显示文本的某些部分，而不是整个文本。您能否建议我最合适的解决方案，以便整个文本可以滚动为选框？等待回复...在此先感谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-07-15T10:56:33.847

似乎在您的代码中，即使您删除了动画部分，它也可以作为相同的选取框功能工作。尝试单独动画文本而不是代码中的文本框。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-05T17:06:00.290

我还没有解决上述问题的方法。所以为了克服上述问题，我采用了不同的方法。我与大家分享这个，这样它也可以解决你的目的。我所做的是，我使用了 Webview，然后使用它的 loadurl 方法在其上加载了 html 页面。

```
Webview wv = new Webview();
wv.loadurl("SampleMarquee.html"); 
```

通过html你可以很容易的实现marrqee。在 html 中，文本的长度没有限制。然后最后将此 webview 添加到您的主布局中，这样我们的目的就实现了。

# file - Check if file is in use with VBS

> ID：15323676
> 
> 赞同：5
> 
> 时间：2013-03-10T15:05:18.443
> 
> 标签：file, vbscript

I want to make a small VBS script which tells user if file is in use or not. I have one file and if this file is in use VBS should give me a message that file is in use. If file is not in use by any process, VBS should give me message that file not in use. I tried [this](http://support.microsoft.com/kb/138621) but nothing works.

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-03-11T09:57:06.997

You could try with a WMI query:

```
filename = "..."

Set wmi = GetObject("winmgmts://./root/cimv2")

qry = "SELECT * FROM Win32_Process WHERE CommandLine LIKE '%" & filename & "%'"
For Each p In wmi.ExecQuery(qry)
  WScript.Echo "Media file in use."
  WScript.Quit 0
Next

WScript.Echo "Media file not in use." 
```

# javascript - 与 jquery 连接

> ID：15323678
> 
> 赞同：1
> 
> 时间：2013-03-10T15:05:42.687
> 
> 标签：javascript, jquery, string, concatenation

不知道如何以正确的方式写这个。我可以让它工作，但是当我查看源代码时，它看起来像这样

```
<img "="" "style="width:30%; height:30%;"   src="correctsource"></img> 
```

正如您在图像标签的开头看到的那样，它们是两个额外的引号和一个等号。

这是我的代码

```
var img = $(this).attr('src');
  //grab the visible div and the div with class edititable within it and append image
  $(".open:visible").find('.edititable').append('<img src="' + img + '" "style="width:30%; height:30%;" ">'); 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-10T15:10:49.297

改成：

```
foo.append(
    $("<img />", { 
        src: img, 
        style: "width: 30%; height: 30%" 
    })
); 
```

这样更容易避免引号不匹配的错误，并且通常也提高了可读性

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-10T15:08:47.400

试试这个，你的字符串中有太多的双引号。

```
$(".open:visible").find('.edititable').append('<img src="' + img + '" style="width:30%; height:30%;">'); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-10T15:10:39.923

删除最后一个双引号然后它会工作。你添加了一个额外的。

就是这样写

```
 .................height:30%;">'); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-10T15:12:43.310

关闭，您的字符串格式不正确。你有一个额外的“风格前面。技术你把它写成

```
$(".open:visible").find('.edititable').text('<img src="' + img + ' " style="width:30%; height:30%;" ">'); 
```

相关小提琴：http: [//jsfiddle.net/6cLYf/](http://jsfiddle.net/6cLYf/)

# dart - 在 Dart 编辑器中用于 HTML 注释的键盘快捷键

> ID：15323681
> 
> 赞同：0
> 
> 时间：2013-03-10T15:06:51.803
> 
> 标签：dart, dart-editor

Dart 编辑器中 HTML 注释的键盘快捷键是什么？

我试过 Ctrl+/ 但这似乎只适用于 dart 源代码

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-10T16:52:00.487

html 文件没有注释/取消注释键盘快捷键，但请随时在[dartbug.com/new](http://dartbug.com/new)上添加功能请求。谢谢！

# atl - C++/CX 和 CString

> ID：15323685
> 
> 赞同：1
> 
> 时间：2013-03-10T15:07:02.753
> 
> 标签：atl, c++-cx

如何在 C++/CX 组件中使用 ATL 类（字符串、集合、IPC、文件和 I/O、正则表达式等）？

对于字符串和集合，STL 在功能上或多或少是等价的（它们通常工作速度较慢，并且有时需要更多行代码来完成简单的任务），但是对于其他领域，STL 什么都没有。

提前致谢。

# java - `java.util.List.subList()` 究竟应该如何工作？

> ID：15323694
> 
> 赞同：1
> 
> 时间：2013-03-10T15:08:19.743
> 
> 标签：java, list

`List`当通过调用获得的子列表的方法对a 进行结构修改时，索引以及索引和列表元素之间的关系会发生什么`List.subList(int fromIndex, int toIndex)`？

我对Oracle JVM 中观察到**的事实上的操作不感兴趣；**我对接口行为规范感兴趣，因此人们可以可靠地实现自己的列表类（这里的可靠性是指能够通过实现`java.util.List`接口将Java列表类之一与自己的列表类交换）。

Oracle的[文档`List`](http://docs.oracle.com/javase/6/docs/api/java/util/List.html#subList%28int,%20int%29)似乎并未阐明上述内容。请注意，*这与尝试通过子列表以外的任何其他方式修改列表无关，这**仅*与通过子列表进行修改有关，正如文档所支持的那样。

### 例子：

假设我有 6 个元素的列表`A, B, C, D, E, F`。调用列表会产生一个包含元素*B、C、D*`subList(1, 4)`的子列表。然后我调用这个子列表。我想知道*删除**后子列表将包含哪些元素*？一些替代方案：*`remove(D)`*`D`**

 *1.  *B、C、E*（子列表保留原来的索引范围）？
2.  *B，C*（实际上不再是 a `subList(1, 4)`）？

我的猜测是，由于指定了子列表`subList(1, 4)`，因此列表本身的“窗口”必须具有相同的“大小”，`E`因此可以说滑入视图，因为视图的结束索引仍然是 4，现在`D`已经过去了`E`。第二种选择对我来说似乎不是很明智，但仍然是一种选择。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-10T15:47:09.880

以下引用的规范可能会回答这个问题，已在[类的](http://docs.oracle.com/javase/6/docs/api/java/util/AbstractList.html#subList%28int,%20int%29)[文档中`java.util.AbstractList`](http://docs.oracle.com/javase/6/docs/api/java/util/AbstractList.html#subList%28int,%20int%29)找到（有点令人惊讶的是，**不在**的文档中`java.util.List`）：

> 此实现返回一个子类 AbstractList 的列表。子类在私有字段中存储子列表在后备列表中的偏移量、子列表的大小**（可以在其生命周期内更改）**以及后备列表的预期 modCount 值。

从视图大小可以改变的事实来看，索引也可以改变，这意味着在问题中概述的示例场景中，元素**不会**`E`“滑入视图”。因此，第二种选择是正确的，因为删除后子列表的大小减少了 1 并且该点的子列表包含 2 个元素。**`D``B, C`**

 ***部分 Java 设计者可能有意选择*在页面中指定上述`AbstractList`内容，而不是文档页面`List`- 以便后者保留歧义。但是，我希望实现的两个不同的列表类`List`在这个特定的细节级别上可以轻松交换和兼容。此外，并非每个`List`实现都会扩展`AbstractList`- 这是一种方便，而不是要求。

这是将引用的规范（以及其他一些细节）从`AbstractList`页面移动到`List`文档页面。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-06-23T10:41:07.973

由于子列表是 a `List`，因此删除元素必须减小其大小。此外，该元素还必须从支持列表中删除。（Javadoc 写道：

> 返回的列表由这个列表支持

和

> 返回的列表支持此列表支持的所有可选列表操作。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-06-23T11:00:44.710

List 接口就是契约，不同的实现可以自由地为契约未指定的任何事情做他们喜欢的事情。

它归结为您对短语“在*x*和*y*之间查看此列表部分的视图”是否有“静态”或“动态”解释- 是对在*x*和*y*`subList`之间的支持列表部分的视图在创建子列表时（静态）还是在执行子列表上的每个操作时（动态）？根据合同，这两种读数都是可以接受的，并且可以自由地执行不同的实现。

 **特别是，合同中没有任何内容`remove`说删除后列表*必须*比以前更小，这并不像在多线程或事件侦听器存在的情况下听起来那样奇怪。像这样的案例

```
// lst contains B, C, D
lst.remove(D);
// lst contains B, C, E 
```

可能是动态的结果，`subList`也可能是另一个线程将 E 添加到列表中，或者它可能是在元素删除时触发事件并且事件侦听器添加了 E 的列表实现。无论哪种方式都没有破坏 List 契约。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-06-23T10:35:01.123

[不出所料，可以在List](http://docs.oracle.com/javase/7/docs/api/java/util/List.html#subList%28int,%20int%29)接口的 Javadoc 中找到答案：

> 返回的列表由该列表支持，因此返回列表中的非结构性更改会反映在该列表中，反之亦然。返回的列表支持此列表支持的所有可选列表操作。...如果后备列表（即此列表）以除通过返回列表之外的任何方式进行结构修改，则此方法返回的列表的语义变得未定义。

换句话说，可以通过子列表修改列表。*****

# django - Django 部署的设计建议

> ID：15323699
> 
> 赞同：1
> 
> 时间：2013-03-10T15:08:57.720
> 
> 标签：django, deployment, gunicorn

在过去一年左右的时间里，我断断续续地使用 Django，但我从未将网站部署到生产环境中。我希望对我提议的部署设计提供一些意见。

**用例**

在接下来的几个月里，我将为多个客户部署一页或两页的网站。我计划使用 clienta.mysite.com 或 mysite.com/clienta 布局。这些页面将是客户端输入数据的表单（例如信用卡信息），这些表单将通过 SSL 传输回服务器。然后，服务器将与处理站点建立所需的连接，处理事务，并将结果返回给客户端。

**计划**

我的计划是使用 Nginx + Gunicorn 设置来处理传入连接并提供简单页面。将来我可能会做一些更复杂的页面交互，但现在它们将是简单的 html 表单。django 后端会处理与远程处理服务器的交互，然后通过生成的结果页面将结果返回给客户端。

**问题**

*   此实施是否适用于 10 或 100 名客户？
*   是否有一些我没有看到的明显陷阱？
*   这是矫枉过正吗？有没有更简单/更好的方法来处理这种情况？

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-10T15:12:15.453

如果每个客户端使用一个子域，则每个域需要一个 SSL 证书或通配符证书，这可能比标准 SSL 证书更昂贵。

# forms - 如何不将 RequestMapping 方法重定向到任何视图

> ID：15323701
> 
> 赞同：1
> 
> 时间：2013-03-10T15:09:14.840
> 
> 标签：forms, jsp, spring-mvc, web

我有一个表格，当我提交它时，我想保持在同一页面上。我只想处理发送到服务器的信息并保持在同一页面上。

为此，我有以下表格：

```
<form action='adicionaLoja' method='post'>
<input type='text' autocomplete='off' name='nome'/>
<button type='submit' id='saveStore' class='btn' value='Save'>Save</button>
<input type=hidden name='xValue'/><input type=hidden name='yValue'/></form> 
```

这是我处理数据的地方：

```
@RequestMapping("adicionaLoja")
public void adiciona(Loja loja) {
        System.out.println("adicionou - " + loja.getNome() + " X: " + loja.getxValue() + " Y: " + loja.getyValue());
} 
```

使用此代码，当我点击提交按钮时，服务器会尝试重定向到 adicionaLoja.jsp。但是我没有创建这个文件，我只想点击提交按钮并停留在同一页面上。我试图返回创建表单的页面的名称，但是这样页面被重新加载，我也不想重新加载它，只想将请求发送到服务器。

我该怎么做？

编辑：我的 java 脚本文件：

```
var form = $('#submitLoja');

      form.find('submit:first').click( function() {
        $.ajax( {
          type: "POST",
          url: "adicionaLoja",
          data: form.serialize(),
          success: function( response ) {
            console.log( response );
          }
        } );
      } ); 
```

我的表单（请注意，此表单是在我声明提交点击事件的同一个 .js 文件中声明的）：

```
<form action='adicionaLoja' id='submitLoja' method='post'><input type='text' autocomplete='off' name='nome'/>
<button type='submit' id='saveStore' class='btn' value='Save'>Save</button>
<input type=hidden name='xValue'/><input type=hidden name='yValue'/></form> 
```

这是服务器端：

```
@RequestMapping("adicionaLoja")
    @ResponseBody
    public void adiciona(Loja loja) {
        System.out.println("adicionou - " + loja.getNome() + " X: " + loja.getxValue() + " Y: " + loja.getyValue());
    } 
```

完整的 JavaScript 文件：

```
$(document).ready(function(){

    $('.ImgMapa').popover({
        html: true,
        trigger: 'manual',
        title: "<form id='submitLoja' method='post'><input type='text' autocomplete='off' data-provide='typeahead' data-items='4' name='nome' data-source='[&quot;Alabama&quot;,&quot;Alaska&quot;,&quot;Arizona&quot;,&quot;Arkansas&quot;,&quot;California&quot;,&quot;Colorado&quot;,&quot;Connecticut&quot;,&quot;Delaware&quot;,&quot;Florida&quot;,&quot;Georgia&quot;,&quot;Hawaii&quot;,&quot;Idaho&quot;,&quot;Illinois&quot;,&quot;Indiana&quot;,&quot;Iowa&quot;,&quot;Kansas&quot;,&quot;Kentucky&quot;,&quot;Louisiana&quot;,&quot;Maine&quot;,&quot;Maryland&quot;,&quot;Massachusetts&quot;,&quot;Michigan&quot;,&quot;Minnesota&quot;,&quot;Mississippi&quot;,&quot;Missouri&quot;,&quot;Montana&quot;,&quot;Nebraska&quot;,&quot;Nevada&quot;,&quot;New Hampshire&quot;,&quot;New Jersey&quot;,&quot;New Mexico&quot;,&quot;New York&quot;,&quot;North Dakota&quot;,&quot;North Carolina&quot;,&quot;Ohio&quot;,&quot;Oklahoma&quot;,&quot;Oregon&quot;,&quot;Pennsylvania&quot;,&quot;Rhode Island&quot;,&quot;South Carolina&quot;,&quot;South Dakota&quot;,&quot;Tennessee&quot;,&quot;Texas&quot;,&quot;Utah&quot;,&quot;Vermont&quot;,&quot;Virginia&quot;,&quot;Washington&quot;,&quot;West Virginia&quot;,&quot;Wisconsin&quot;,&quot;Wyoming&quot;]'/>"
            + "<button type='submit' id='saveStore' class='btn' value='Save'>Save</button><input type=hidden name='xValue'/><input type=hidden name='yValue'/></form>"
    });

      $("#submitLoja").submit(function(event) { 
          alert("oie");

          return false;
      });

});

// Function to show popover on the image mouse click
$(function() {
    var xMousePos = 0;
    var yMousePos = 0;
    var lastScrolledLeft = 0;
    var lastScrolledTop = 0;

    // Manages the page scrolling and add X and Y when the page is scrolled
    $(window).scroll(function(event) {
        if (lastScrolledLeft != $(document).scrollLeft()) {
            xMousePos -= lastScrolledLeft;
            lastScrolledLeft = $(document).scrollLeft();
            xMousePos += lastScrolledLeft;
        }
        if (lastScrolledTop != $(document).scrollTop()) {
            yMousePos -= lastScrolledTop;
            lastScrolledTop = $(document).scrollTop();
            yMousePos += lastScrolledTop;
        }
    });

    function captureMousePosition(event) {
        xMousePos = event.pageX;
        yMousePos = event.pageY;
    }

    $('.ImgMapa').click(function(e) {
        $(this).popover('show');//this is used to correct the popover location on the first time click

        captureMousePosition(e);
        var offset = $(this).offset();
        var left = xMousePos;
        var top = yMousePos;
        var theHeight = $('.popover').height();

        //http://jsfiddle.net/2EBGE/1/
        $('.popover').css('cssText', 'left: ' + (left+10) + 'px !important; top: ' + (top-(theHeight/2)-10) + 'px !important');

        $(this).popover('show');

        $("input[name='xValue']").val(xMousePos);
        $("input[name='yValue']").val(yMousePos);
    });

    // Hide popover when ESCAPE key is pressed
    $(document).keydown(function(e) {
        if (e.keyCode === 27)
            $('.ImgMapa').popover('hide');
    });
}); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-10T15:28:40.357

当您提交表单时，浏览器希望服务器返回一个 HTML 页面并显示返回的 HTML。如果您想留在同一页面上，您应该使用 AJAX 请求提交表单。请参阅[使用 AJAX 和 jQuery 提交表单以](https://stackoverflow.com/questions/425095/submit-form-using-ajax-and-jquery)了解如何执行此操作。

您仍然需要告诉 Spring 不要转发到 adicionaLola.jsp。您可以[使用 @ResponseBody 注释](http://static.springsource.org/spring/docs/3.1.x/spring-framework-reference/htmlsingle/spring-framework-reference.html#mvc-ann-responsebody)来做到这一点。

# c# - SQL 语句只返回一条记录

> ID：15323703
> 
> 赞同：0
> 
> 时间：2013-03-10T15:09:16.820
> 
> 标签：c#, ms-access-2007

在订单表中，我有以下数据：

```
OrderNum | Item | Quantity|
1234     | EE1  | 1       |
1234     | EE3  | 1       |
1235     | EE2  | 1       |
1236     | EE5  | 1       |
1236     | EE8  | 1       | 
```

我想在 datagridview 中显示订单号为 1234 的订单。

这是我的代码..但它只显示一条记录..仅 EE1 项目。

```
 con.Open();
        com.CommandText = "SELECT * FROM Orders WHERE OrderNo="+Convert.ToInt32(txtStudNo.Text)+"";

        reader = com.ExecuteReader();

        int indx = dataGridView1.Rows.Add();
        DataGridViewRow row = dataGridView1.Rows[indx];

        if (reader.HasRows)
        {
            while (reader.Read())
            {
                com2.CommandText = "SELECT Description, Price FROM Books WHERE BookID='" + reader[2].ToString() + "'";
                reader2 = com2.ExecuteReader();
                    if (reader2.Read())
                    {
                        row.Cells[0].Value = reader[2].ToString();
                        row.Cells[1].Value = reader2[0].ToString();
                        row.Cells[2].Value = reader[4].ToString();
                        row.Cells[3].Value = reader2[1].ToString();
                    }

                } 
```

需要一些帮助..拜托。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-10T15:24:58.147

您正在将所有记录写入一行：

```
dataGridView1.Rows[indx]; 
```

为了不覆盖已写入网格视图的数据，您必须增加`indx`值并为每条记录获取另一个行引用。

也许以下代码对您有用？

```
con.Open();
com.CommandText = "SELECT * FROM Orders WHERE OrderNo="+Convert.ToInt32(txtStudNo.Text)+"";

reader = com.ExecuteReader();

if (reader.HasRows)
{
    while (reader.Read())
    {
        int indx = dataGridView1.Rows.Add();
        DataGridViewRow row = dataGridView1.Rows[indx];

        com2.CommandText = "SELECT Description, Price FROM Books WHERE BookID='" + reader[2].ToString() + "'";
        reader2 = com2.ExecuteReader();

        if (reader2.Read())
        {
            row.Cells[0].Value = reader[2].ToString();
            row.Cells[1].Value = reader2[0].ToString();
            row.Cells[2].Value = reader[4].ToString();
            row.Cells[3].Value = reader2[1].ToString();
        }
    }
} 
```

# wordpress - 将 blogroll（博客列表）从 Blogger 导入到 Wordpress

> ID：15323714
> 
> 赞同：0
> 
> 时间：2013-03-10T15:10:37.290
> 
> 标签：wordpress, import, blogger

我正在将 Blogger 博客转移到自托管的 Wordpress 网站。使用 Wordpress 中的 Blogger 导入工具导入博客文章和评论是一件轻而易举的事，但我找不到任何方法将*博客列表*从 Blogger 导入到 Wordpress 中的*链接管理器*。

Blogger 中的*博客列表*基本上是一个带有标题、链接和缩略图 url的经典**blogroll 。**您可以在单个 Blogger 博客上创建多个*博客列表*类别并将它们显示在侧边栏中，例如“朋友”、“音乐”等。

我的第一个想法是我可以使用 OPML 导入工具从 Wordpress 导入 blogroll，但我找不到任何方法从 Blogger 导出博客列表。

那么，关于如何将博客列表从 Blogger 导入 Wordpress 有什么建议吗？或者从 Blogger 导出包含博客列表的 OPML 文件？我是 Blogger 平台的新手，所以我可能忽略了文档或设置部分中的某些内容。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-11T06:49:21.210

很少有博客有这个列表。如果有的话，他们最多只有 20 个外部链接。手动添加它们（几乎不需要 15 分钟）比为工具编写长代码更可行。也许这就是存在的原因之一没有工具，如果有的话。

你有多少链接？即使你有 50 个外部链接，你也可以在 30 分钟内手动在 wordpress 中获得它？（只是一个题外话提示：有太多的外部链接会导致谷歌认为你有付费链接并且可以导致你受到惩罚）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-16T11:14:35.890

# java - 使用 Libgdx 的圆和多边形碰撞

> ID：15323719
> 
> 赞同：10
> 
> 时间：2013-03-10T15:10:58.473
> 
> 标签：java, collision-detection, polygon, libgdx, geometry

Libgdx 中有没有办法验证多边形和圆之间的碰撞？

我看到了`Intersector`课程，但只找到了 Circle 和 Rectangle 的碰撞测试。其他多边形呢？

如果我需要手动完成，使用 Libgdx 的最佳方法是什么？

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2015-04-29T08:44:15.497

可悲的是，我没有足够的声誉来发表评论，所以我将其添加为另一个答案......

克里斯蒂亚诺的出色答案适用于检查圆是否与多边形的线段之一重叠，但它不会检查圆完全包含在多边形内的更不寻常的情况，如果一个快速移动的小圆相撞，可能会发生这种情况有一个大多边形。

我在下面重新编写了克里斯蒂亚诺的代码，并进行了一些小改动以解决问题......

```
public static boolean overlaps(Polygon polygon, Circle circle) {
    float []vertices=polygon.getTransformedVertices();
    Vector2 center=new Vector2(circle.x, circle.y);
    float squareRadius=circle.radius*circle.radius;
    for (int i=0;i<vertices.length;i+=2){
        if (i==0){
            if (Intersector.intersectSegmentCircle(new Vector2(vertices[vertices.length - 2], vertices[vertices.length - 1]), new Vector2(vertices[i], vertices[i + 1]), center, squareRadius))
                return true;
        } else {
            if (Intersector.intersectSegmentCircle(new Vector2(vertices[i-2], vertices[i-1]), new Vector2(vertices[i], vertices[i+1]), center, squareRadius))
                return true;
        }
    }
    return polygon.contains(circle.x, circle.y);
} 
```

* * *

## 回答 #2

> 赞同：13
> 
> 时间：2013-03-20T22:59:45.193

因此，我设法在 Circle 和 Polygon 之间创建了一个碰撞测试方法。至少，它对我有用。

这是代码：

```
public boolean overlaps(Polygon polygon, Circle circle) {
    float []vertices=polygon.getTransformedVertices();
    Vector2 center=new Vector2(circle.x, circle.y);
    float squareRadius=circle.radius*circle.radius;
    for (int i=0;i<vertices.length;i+=2){
        if (i==0){
            if (Intersector.intersectSegmentCircle(new Vector2(vertices[vertices.length-2], vertices[vertices.length-1]), new Vector2(vertices[i], vertices[i+1]), center, squareRadius))
                return true;
        } else {
            if (Intersector.intersectSegmentCircle(new Vector2(vertices[i-2], vertices[i-1]), new Vector2(vertices[i], vertices[i+1]), center, squareRadius))
                return true;
        }
    }
    return false;
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2018-01-31T12:55:28.120

...并跟进 Phil Anderson 的出色回答，这是我的版本，它只是避免在每次检查时创建新的 Vector2，而是重新使用 Vector2 的静态实例。

```
public class PolygonUtil {

static final Vector2 center = new Vector2();
static final Vector2 vec1 = new Vector2();
static final Vector2 vec2 = new Vector2();

public static boolean overlaps(Polygon polygon, Circle circle) {
    float []vertices=polygon.getTransformedVertices();
    center.set(circle.x, circle.y);
    float squareRadius=circle.radius*circle.radius;
    for (int i=0;i<vertices.length;i+=2){
        if (i==0){
            if (Intersector.intersectSegmentCircle(vec1.set(vertices[vertices.length - 2], vertices[vertices.length - 1]),
                    vec2.set(vertices[i], vertices[i + 1]), center, squareRadius))
                return true;
        } else {
            if (Intersector.intersectSegmentCircle(vec1.set(vertices[i-2], vertices[i-1]), vec2.set(vertices[i], vertices[i+1]), center, squareRadius))
                return true;
        }
    }
    return polygon.contains(circle.x, circle.y);
} 
```

}

# django - Django - 在模板中单独渲染 CheckboxSelectMultiple() 小部件（手动）

> ID：15323724
> 
> 赞同：32
> 
> 时间：2013-03-10T15:11:31.223
> 
> 标签：django, django-forms

我有这两个模型：

模型.py

```
class App(models.Model):
    app_name = models.SlugField(max_length=50)
    options_loaded = models.ManyToManyField(Option)
    created_by = models.ForeignKey(User)

    def __unicode__(self):
        return self.name

class Option(models.Model):
    option_name = models.SlugField(max_length=50)
    condition = models.BooleanField('Enable condition')
    option = models.BooleanField('Enable option1')
    created_by = models.ForeignKey(User)

    def __unicode__(self):
        return self.option_name 
```

我想呈现一个看起来像这样的表单，其中复选框来自不同的模型（来自 M2M 字段的第一列，带有 CheckboxSelectMultiple() 小部件），并且 Option_name 可以是`<a href="/link/">Option_name</a>`

![在此处输入图像描述](../Images/22c56a2c1906dafdd838edfbd3a44dfd.png)

是否可以？

* * *

## 回答 #1

> 赞同：37
> 
> 时间：2013-03-15T20:26:51.133

这是我的简单解决方案：在模板中手动渲染 CheckboxSelectMultiple()

```
<table>
<thead>
  <tr>
    <td>&nbsp;</td>
    <td>V</td>
    <td>S</td>
  </tr>
</thead>    
{% for pk, choice in form.options.field.widget.choices %}
<tr>
  <td><a href="/link/{{ choice }}">{{ choice }}</a></td>
  <td>
    <label for="id_options_{{ forloop.counter0 }}">
      <input {% for m2moption in model.m2moptions.all %}{% if option.pk == pk %}checked="checked"{% endif %}{% endfor %} type="checkbox" id="id_options_{{ forloop.counter0 }}" value="{{ pk }}" name="options" />
    </label>
  </td>
</tr>
{% endfor %}                
</table> 
```

* * *

## 回答 #2

> 赞同：13
> 
> 时间：2013-03-13T16:15:10.610

[http://dev.yaconiello.com/playground/example/one/](http://dev.yaconiello.com/playground/example/one/)

首先，我会像这样重组你的模型。按照您当前的设置方式，选项/应用复选框关系会表现不佳。每个选项只能有一个与所有应用程序对象共享的布尔检查值。

## 楷模

```
from django.db import models
from django.utils.translation import ugettext as _

class Option(models.Model):
    condition = models.CharField(
        verbose_name = _(u'Condition Text'),
        max_length = 255,
    )
    option = models.CharField(
        verbose_name = _(u'Option Text'),
        max_length = 255,
    )

    def __unicode__(self):
        return self.condition

class App(models.Model):
    title = models.CharField(
        verbose_name = _(u'App Name'), 
        max_length = 255
    )
    slug = models.SlugField(
        max_length = 50,
        unique = True
    )
    activated = models.BooleanField(
        verbose_name = _(u'Activated'),
        default = False,
    )
    options = models.ManyToManyField(
        Option,
        through="AppOption"
    )

    def __unicode__(self):
        return self.title

class AppOption(models.Model):
    app = models.ForeignKey(
        App,
        verbose_name = _(u'App'), 
    )
    option = models.ForeignKey(
        Option,
        verbose_name = _(u'Option'), 
    )
    condition_activated = models.BooleanField(
        verbose_name = _(u'Condition Activated'),
        default = False,
    )
    option_activated = models.BooleanField(
        verbose_name = _(u'Option Activated'),
        default = False,
    )

    class Meta:
        unique_together = (("app", "option"),)

    def __unicode__(self):
        return "%s %s (%s | %s | %s)" % (self.app, self.option, self.app.activated, self.option_activated, self.condition_activated) 
```

其次，您应该使用模型表单集和模型表单，其中包含自定义逻辑......

## 形式

```
from django.forms.models import modelformset_factory
from django import forms

class AppOptionForm(forms.ModelForm):
    class Meta:
        model = AppOption
        fields = ("app", "option", "condition_activated", "option_activated")

AppOptionFormSet = modelformset_factory(AppOption, form=AppOptionForm)

class AppForm(forms.ModelForm):
    def __init__(self, *args, **kwargs):
        super(AppForm, self).__init__(*args, **kwargs)

        if self.instance:
            self.appoptions_prefix = "appoptions-%s"%self.instance.pk
            self.appoptions_formset = AppOptionFormSet(prefix=self.appoptions_prefix, 
                queryset=AppOption.objects.filter(app=self.instance).order_by('option'))

    class Meta:
        model = App
        fields = ("id", "activated",)

AppFormSet = modelformset_factory(App, form=AppForm) 
```

好的，刚刚发生的是我们为它创建了一个模型表单`AppOption`，然后将它变成了一个模型表单集。

然后，我们为其创建了一个模型表单，该模型表单`App`具有一个重写的**init**`App`方法，该方法为模型表单的实例实例化一个 AppOption表单集。

最后，我们使用模型表单创建了一个模型`App`表单集。

## 这是保存所有应用程序和应用程序选项的视图

```
def one(request):
    if request.method == 'POST':
        formset = AppFormSet(request.POST, prefix="apps") # do some magic to ALSO apply POST to inner formsets
        if formset.is_valid(): # do some magic to ALSO validate inner formsets
            for form in formset.forms:
                # saved App Instances
                form.save()
                for innerform in form.appoptions_formset:
                    # saved AppOption instances
                    innerform.save()
    else:
        formset = AppFormSet(prefix="apps")

    options = Option.objects.all()

    return render(
        request,
        "playground/example/one.html",
        {
            'formset' : formset,
            'options' : options,
        }
    ) 
```

## 模板

```
this is a test
<style>
thead td {
    width: 50px;
    height: 100px;
}
.vertical {
    -webkit-transform: rotate(-90deg);
    -moz-transform: rotate(-90deg);
    -ms-transform: rotate(-90deg);
    -o-transform: rotate(-90deg);
    filter: progid:DXImageTransform.Microsoft.BasicImage(rotation=3);
}
</style>
<form>
<table>
<thead>
    <tr>
        <td>&nbsp;</td>
        <td><p class="vertical">Activate App</p></td>
        {% for option in options %}
        <td><p class="vertical">{{ option.condition }}</p></td>
        <td><p class="vertical">{{ option.option }}</p></td>
        {% endfor %}
    </tr>
</thead>
{% for form in formset.forms %}
    {% if form.instance.pk %}
    <tr>
        <td align="center">{{ form.instance.title }}{{ form.id.as_hidden }}</td>
        <td align="center">{{ form.activated }}</td>
        {% for optionform in form.appoptions_formset.forms %}
        {% if optionform.instance.pk %}
        <td align="center">
            {{ optionform.app.as_hidden }}
            {{ optionform.app.as_hidden }}
            {{ optionform.condition_activated }}
        </td>
        <td align="center">{{ optionform.option_activated }}</td>
        {% endif %}
        {% endfor %}
    </tr>
    {% endif %}
{% endfor %}
</table>
</form> 
```

* * *

## 回答 #3

> 赞同：8
> 
> 时间：2017-02-10T05:46:47.090

对于那些希望以标准方式手动呈现 CheckBoxMultipleSelect 的人（Django 的方式，使用 HTML 列表），以下是我想出的（@below-the-radar 的解决方案帮助我实现了它）

```
<ul id="id_{{field.name}}">
  {% for pk, choice in field.field.widget.choices %}
    <li>
      <label for="id_{{field.name}}_{{ forloop.counter0 }}">
      <input id="id_{{field.name}}_{{ forloop.counter0 }}" name="{{field.name}}" type="checkbox" value="{{pk}}" />
      {{ choice }}
      </label>
    </li>
  {% endfor %}
</ul> 
```

# java - 准备好的语句，批量更新，不同的更新

> ID：15323725
> 
> 赞同：4
> 
> 时间：2013-03-10T15:11:41.307
> 
> 标签：java, jdbc

是否可以进行批量更新但有不同的语句？我发现的每个教程和在线资源都使用相同的语句。这就是我所拥有的，但它不起作用。

```
public static void resetNotifications(User user)
{
    DataSource dataSource = null;
    Context initialContext = null;
    Context environmentContext = null;
    Connection connection = null;
    PreparedStatement preparedStatement = null;
    String stride = "UPDATE stride SET recipientView = 1 WHERE recipientId = ?";
    String strideLike = "UPDATE strideLike SET recipientView = 1 WHERE recipientId = ? ";
    String strideCommentMe = "UPDATE strideComment SET recipientView = 1 WHERE recipientId = ? ";
    String strideCommentLike = "UPDATE strideCommentLike SET recipientView = 1 WHERE recipientId = ? ";
    String strideCommentFollow = "UPDATE strideCommentNotification SET recipientView = 1 WHERE userId = ? ";

    try
    {
        initialContext = new InitialContext();
        environmentContext = (Context) initialContext.lookup("java:/comp/env");
        dataSource = (DataSource) environmentContext.lookup("jdbc/instride");
        connection = dataSource.getConnection();
        connection.setAutoCommit(false);

        preparedStatement = connection.prepareStatement(stride);
        preparedStatement.setLong(1, user.getId());
        preparedStatement.addBatch();

        preparedStatement = connection.prepareStatement(strideLike);
        preparedStatement.setLong(1, user.getId());
        preparedStatement.addBatch();

        preparedStatement = connection.prepareStatement(strideCommentMe);
        preparedStatement.setLong(1, user.getId());
        preparedStatement.addBatch();

        preparedStatement = connection.prepareStatement(strideCommentLike);
        preparedStatement.setLong(1, user.getId());
        preparedStatement.addBatch();

        preparedStatement = connection.prepareStatement(strideCommentFollow);
        preparedStatement.setLong(1, user.getId());
        preparedStatement.addBatch();

        preparedStatement.executeBatch();
        connection.commit();
    }
    catch(NamingException error)
    {
        System.out.println("NotificationsDAO - resetNotifications() - Error With JNDI Lookup - " + error.getMessage());
        error.printStackTrace();
    }
    catch(SQLException error)
    {
        System.out.println("NotificationsDAO - resetNotifications() - Error With SQL - " + error.getMessage());
        error.printStackTrace();
    }
    finally
    {
        if (initialContext != null) try{initialContext.close();} catch(NamingException ignore) {}
        if (environmentContext != null) try{environmentContext.close();} catch(NamingException ignore) {}
        if (connection != null) try{connection.close();} catch(SQLException ignore) {}
        if (preparedStatement != null) try{preparedStatement.close();} catch(SQLException ignore) {}
    }
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-10T15:15:37.490

您不能在一个批次中执行多个不同的语句，但是，您可以使用一个存储过程，该过程可以在与服务器的一次往返中完成所有操作，同时保持单个事务的好处

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-10T15:31:23.383

如果使用 simple`Statement`而不是不同`PrepareStatement`的 s，则可以在一批中执行多个不同的语句。[请参阅此处](http://docs.oracle.com/javase/6/docs/technotes/guides/jdbc/getstart/statement.html#1000712)的文档和示例。

# c# - 创建按钮单击事件c#

> ID：15323733
> 
> 赞同：8
> 
> 时间：2013-03-10T15:12:25.277
> 
> 标签：c#, click

我使用了一个按钮

```
Button buttonOk = new Button(); 
```

连同其他代码，如何检测是否已单击创建的按钮？并使其如果单击表单将关闭？

* * *

## 回答 #1

> 赞同：16
> 
> 时间：2013-03-10T15:15:24.293

```
 public MainWindow()
    {
        // This button needs to exist on your form.
        myButton.Click += myButton_Click;
    }

    void myButton_Click(object sender, RoutedEventArgs e)
    {
        MessageBox.Show("Message here");
        this.Close();
    } 
```

* * *

## 回答 #2

> 赞同：10
> 
> 时间：2013-03-10T15:16:49.953

您需要一个在单击按钮时触发的事件处理程序。这是一个快速的方法 -

```
 var button = new Button();
  button.Text = "my button";

  this.Controls.Add(button);

  button.Click += (sender, args) =>
                       {
                           MessageBox.Show("Some stuff");
                           Close();
                       }; 
```

但最好多了解一下按钮、事件等。

如果您使用 Visual Studio UI 创建一个按钮并在设计模式下双击该按钮，这将创建您的事件并为您连接它。然后，您可以转到设计器代码（默认为 Form1.Designer.cs），您将在其中找到事件：

```
 this.button1.Click += new System.EventHandler(this.button1_Click); 
```

您还将看到按钮的许多其他信息设置，例如位置等 - 这将帮助您以您想要的方式创建一个，并提高您对创建 UI 元素的理解。例如，一个默认按钮在我的 2012 机器上给出了这个：

```
 this.button1.Location = new System.Drawing.Point(128, 214);
        this.button1.Name = "button1";
        this.button1.Size = new System.Drawing.Size(75, 23);
        this.button1.TabIndex = 1;
        this.button1.Text = "button1";
        this.button1.UseVisualStyleBackColor = true; 
```

至于关闭Form，只要把Close(); 在您的事件处理程序中：

```
private void button1_Click(object sender, EventArgs e)
    {
       MessageBox.Show("some text");
       Close();
    } 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-10T15:16:19.327

如果您的按钮在您的表单类中：

```
buttonOk.Click += new EventHandler(your_click_method); 
```

（可能不完全是`EventHandler`）

并在您的点击方法中：

```
this.Close(); 
```

如果需要显示消息框：

```
MessageBox.Show("test"); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-10T15:44:29.993

创建`Button`并将其添加到`Form.Controls`列表以将其显示在您的表单上：

```
Button buttonOk = new Button();
buttonOk.Location = new Point(295, 45);  //or what ever position you want it to give
buttonOk.Text = "OK"; //or what ever you want to write over it
buttonOk.Click += new EventHandler(buttonOk_Click);
this.Controls.Add(buttonOk); //here you add it to the Form's Controls list 
```

在此处创建按钮单击方法：

```
void buttonOk_Click(object sender, EventArgs e)
        {
            MessageBox.Show("clicked");
            this.Close(); //all your choice to close it or remove this line
        } 
```

# php - 在预匹配验证中允许撇号

> ID：15323736
> 
> 赞同：0
> 
> 时间：2013-03-10T15:12:45.370
> 
> 标签：php, regex, validation, preg-match

我想知道是否有人可以帮助我。

我使用以下 preg 匹配表达式作为我的字段验证的一部分。

```
(!preg_match('/^$|^[A-Za-z0-9 .,;-]{5,60}$/', $address4)) 
```

我遇到的问题是，当我将撇号作为我想要允许的字符的一部分时，我无法让它工作。

我已经阅读了许多教程并尝试了以下方法但没有成功，所以我显然做错了：

`(!preg_match('/^$|^[A-Za-z0-9 .,;-\']{5,60}$/', $address4)),`和

```
(!preg_match('/^$|^[A-Za-z0-9 .,;-\'\]{5,60}$/', $address4)) 
```

我只是想知道是否有人可以看看这个，让我知道我哪里出错了。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-10T15:27:43.617

正则表达式的字符类中的减号必须始终位于末尾。否则它将被视为一个字符范围。所以尝试切换撇号和减号：

```
preg_match('/^$|^[A-Za-z0-9 .,;\'-]{5,60}$/', $address4) 
```

# ruby-on-rails - Rails 多个资源，同一个控制器

> ID：15323739
> 
> 赞同：0
> 
> 时间：2013-03-10T15:13:12.503
> 
> 标签：ruby-on-rails, routes

在 Rails 指南中，有一段代码：

```
scope "admin" do
   resources :photos, :as => "admin_photos"
end
resources :photos 
```

我的问题是，如果这两个请求被路由到同一个控制器，有什么方法可以区分它们吗？例如，/photos 和 /admin/photos 都会路由到 Photos 控制器的 index 方法，但是如何区分这些请求呢？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2014-01-10T15:48:37.157

你可以用`defaults`它来区分它，像这样：

```
scope "admin" do
   resources :photos, :as => "admin_photos", defaults: { area: 'admin' }
end
resources :photos, defaults: { area: 'public' } 
```

您将`params[:area]`在控制器中获得可用的值。你当然可以用不同的名字来命名它。

我认为您可能遇到的问题是，`form_for @photo`它将始终适用于普通`:photos`路线。您必须添加`form_for @photo, as: admin_photos`（这会将值放入`params[:admin_photos]`），或传递`url: admin_photos_path`.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-10T16:07:07.797

我认为你不能。无论如何，您可以使用`namespace`方法并为管理命名空间使用不同的控制器（如果它们相似，您可以从照片控制器继承您的管理控制器）。[您可以在此处](http://guides.rubyonrails.org/routing.html#controller-namespaces-and-routing)找到有关`namespace`方法的更多信息

# algorithm - 线性时间排序

> ID：15323740
> 
> 赞同：6
> 
> 时间：2013-03-10T15:13:13.633
> 
> 标签：algorithm, sorting, big-o, radix-sort

我正在阅读算法介绍第 2 版，有一个问题说我们可以对 n 个整数进行排序，这些整数在线性时间内介于 0 和 n ³ -1 之间。我正在考虑 IBM 的基数排序方法。我从最低有效数字开始，根据最低有效数字分开数字，然后排序，然后根据下一个最低有效数字分开，依此类推。每次分离需要 O(n) 时间。但我有一个疑问，例如，如果其中一个数字由 n 位组成，那么算法需要 O(1*n+2*n+...+n*n)=O(n ² ) 时间，对吗？我们能否保证数字由少于 n 个数字组成，或者任何人都可以为这个问题提供另一个提示？谢谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-10T19:14:18.857

基数排序的复杂性`O(dn)`与`d`数字中的位数一样。

`d`该算法仅在恒定时才以线性时间运行！在您的情况下`d = 3log(n)`，您的算法将在`O(nlog(n))`.

老实说，我不确定如何在线性时间内解决这个问题。有没有关于数字性质的任何其他信息我想知道是否缺少关于数字性质的任何其他信息......

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-11T03:08:13.800

假设一个词 RAM 模型，并且 n 适合 O(1) 个词，则有一个线性时间算法。

以 n 为底写下每个数字，并进行基数排序（使用稳定版本的计数排序作为基础数字排序）。

如果你想假设n无界，那么输入的大小实际上是n log n，在这种情况下基数排序再次起作用（在O（n log n）时间内），从技术上讲，它仍然是一个线性时间算法！（当然，我想这仍然假设算术是O（1）......）

# ruby-on-rails - 如何将循环中的数据放入数组

> ID：15323744
> 
> 赞同：0
> 
> 时间：2013-03-10T15:13:36.600
> 
> 标签：ruby-on-rails, ruby, arrays, loops

我有这个看起来像这样的数组。

```
@a = ["foo","bar"].join(",") 
```

但是我想通过循环从我的数据库中检索“foo”和“bar”，而不是手动创建它们并将它们插入到数组中。我该怎么做？例如，我有数据，我希望将所有用户名放在一个数组中并用“，”分隔。如何将所有用户名放入数组中？

```
@data = Data.all

@data.each do |d|
   d.username
end 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-10T15:15:42.510

```
usernames = Data.all.map(&:username)
joined = usernames.join(',') 
```

# c# - 如何在 Web 服务中获取最后插入的记录 ID

> ID：15323745
> 
> 赞同：0
> 
> 时间：2013-03-10T15:13:42.763
> 
> 标签：c#, asp.net, visual-studio-2010, web-services, web

我试图在 Web 方法执行插入之后从 Web 服务获取插入的记录 id，但它没有 id，即使插入进展顺利，所以如果我们知道插入方法返回 bool，我怎么能在 Web 服务中获得该 id它在Web服务中返回ID的方式但是当我转到我的应用程序时它仍然为空

```
 if (ExecuteSqlCommand(Comm) > 0)
        {
            result = true;
            Obj.CUSTOMER_BANK_ACC_ID = (decimal)Comm.Parameters["p_CUSTOMER_BANK_ACC_ID"].Value;
        }
        return result; 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-11T08:09:39.433

我明白了，如果你想在传递的对象中被阻止的 web 服务中返回插入的记录 id，只需通过 ref 传递对象，这里是代码

**网络服务功能**

```
 public bool AddObject(ref T_COMN_CUSTOMER_BANK_ACC_Entity Obj)
    {
        bool result = false;
        OracleCommand Comm = new OracleCommand(InsertCommandName, Connection);
        Comm.CommandType = CommandType.StoredProcedure;
        Comm.Parameters.Add("p_CUSTOMER_ID", OracleType.Number).Value = Obj.CUSTOMER_ID;
        Comm.Parameters.Add("p_CUSTOMER_TP_ID", OracleType.Number).Value = Obj.CUSTOMER_TP_ID;
        Comm.Parameters.Add("p_CUSTOMER_BANK_ACC_ID", OracleType.Number).Direction = ParameterDirection.Output;
        Comm.Parameters.Add("p_BANK_ID", OracleType.Number).Value = Obj.BANK_ID;
        Comm.Parameters.Add("p_IBAN", OracleType.NVarChar, 200).Value = Obj.IBAN;
        Comm.Parameters.Add("p_IS_DELETED", OracleType.Number).Value = Obj.IS_DELETED;
        Comm.Parameters.Add("p_CREATED_BY", OracleType.NVarChar, 200).Value = Obj.CREATED_BY;
        Comm.Parameters.Add("p_CREATED_DT", OracleType.DateTime).Value = Obj.CREATED_DT;
        Comm.Parameters.Add("p_MODIFIED_BY", OracleType.NVarChar, 200).Value = Obj.MODIFIED_BY;
        Comm.Parameters.Add("p_MODIFIED_DT", OracleType.DateTime).Value = Obj.MODIFIED_DT;
        if (ExecuteSqlCommand(Comm) > 0)
        {
            result = true;
            Obj.CUSTOMER_BANK_ACC_ID = (decimal)Comm.Parameters["p_CUSTOMER_BANK_ACC_ID"].Value;
        }
        return result;
    } 
```

我像这样在网络应用程序中调用它

```
pers.AddObject(ref Customer_Bank_Acc_Obj); 
```

# java - java程序过度消耗内存

> ID：15323746
> 
> 赞同：-1
> 
> 时间：2013-03-10T15:13:46.090
> 
> 标签：java, string, performance

我有以下创建哈希映射的程序。

```
public class sample {
    private HashMap<String, String> joindata = new HashMap<String, String>();

    public void map() 
    throws IOException{

        BufferedReader reader = new BufferedReader(new FileReader("/tmp/table2"));

        String line;
        String[] tokens;

        while ((line = reader.readLine()) != null)
        {
            tokens = line.split(",");

            if(tokens.length == 2)
               joindata.put(tokens[0], tokens[1]);
        }

    }
} 
```

这个实现中似乎有一些错误，因为当我读取 32M 的文件（/tmp/table2）时，我的堆已达到 300M。

谁能建议我可以进行的优化以减少堆大小，300M 的堆显然是错误的实现。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-10T15:41:16.213

在您的堆填满之前，Java 不会进行垃圾收集。这种内存消耗不是问题。

尝试锁定你的主线程（例如调用`(new Object()).wait()`，JMX in，进行垃圾收集*然后*堆转储，你的消耗看起来会更好。

# google-analytics - google-analytic 测量端点忽略了 x-forwarded-for 标头！任何解决方案？

> ID：15323748
> 
> 赞同：3
> 
> 时间：2013-03-10T15:13:47.753
> 
> 标签：google-analytics

最近，我开始玩[GA Measurement 协议](https://developers.google.com/analytics/devguides/collection/protocol/v1/reference)，它对于定制应用程序具有巨大的潜力，尤其是对于 webapps 的事件跟踪。

我面临的问题是；GA 始终使用请求者的 IP 作为源 IP！

> 甚至 GA 文档都说；
> 
> > “IP 地址——在 HTTP 请求中隐式发送，用于计算 Google Analytics 中的所有地理/网络维度。”

这是个大问题！为什么？
就像我的情况一样；
我正在通过 Heroku 中托管的一个后端代理不同的跟踪调用。有趣的是，在这种情况下，所有被跟踪的电话似乎都来自美国（Heroku）......

应该有更好的解决方案！
**有没有人处理过类似的问题以及解决此问题的任何建议解决方案？**

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-09-21T17:51:08.713

尚不支持此功能（截至 2013 年 9 月）。有一个 Google Group 线程正在跟踪此功能请求。我的谷歌团队成员说他们正在考虑。

[https://groups.google.com/forum/#!topic/google-analytics-measurement-protocol/8TAp7_I1uTk](https://groups.google.com/forum/#!topic/google-analytics-measurement-protocol/8TAp7_I1uTk)

**2014 年 2 月 24 日更新**
此功能已添加到 Google Universal Analytics。参数名称是“uip”。它应该是一个有效的 IP 地址。它总是匿名的，就像使用了 aip（匿名 IP）一样。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-02T10:53:20.913

我正在处理同样的问题。这是我想出的跟踪地理定位的可能解决方案：调用 GA 时，将请求者 IP 添加到自定义变量 [1]。现在您可以导出所有 GA 数据并将这个 IP（从您的自定义变量）转换到一个位置（MaxMind[2] 的数据库看起来不错，并且在 CC 下）并自己显示。

1：[https ://developers.google.com/analytics/devguides/collection/gajs/gaTrackingCustomVariables](https://developers.google.com/analytics/devguides/collection/gajs/gaTrackingCustomVariables)

2：[http ://dev.maxmind.com/geoip/geolite#IP_Geolocation-1](http://dev.maxmind.com/geoip/geolite#IP_Geolocation-1)

# c++ - 从二进制文件中读取和搜索数据

> ID：15323751
> 
> 赞同：2
> 
> 时间：2013-03-10T15:14:15.167
> 
> 标签：c++

在我的实验室工作中，我们必须从 txt 读取数据并将它们以二进制格式写入 .dat 文件，然后我们应该在二进制文件中通过给定 id 搜索和查找数据。我们`worker.txt`在这个文件

**格式：**

```
ID firstname lastname age salary 
```

像：

```
341 Alex Morgan 32 3400
234 Jessica Gibson 28 2000
... 
```

程序读取这些数据，然后将它们全部作为二进制文件写入 worker.dat。

问题是当输入有效的 Id 以搜索程序查找并打印它但随后因 windows 停止执行错误而关闭时，我需要您的帮助来处理它。

**我的 searchByID 函数：**

```
void searchByID( int key )
{
bool find=false;
int id,age,sal;
string fn,ln;
ifstream InFile;
InFile.open("worker.dat", ios::in | ios::binary);
int i = getSize( initialArr );
int j;
for( j=0; j<i; j++ ){
    InFile.read( (char*)&id, sizeof(int));
    InFile.read( (char*)&fn, sizeof(string));
    InFile.read( (char*)&ln, sizeof(string));
    InFile.read( (char*)&age, sizeof(int));
    InFile.read( (char*)&sal, sizeof(int));
    if( id == key )
    {
        cout << "Datas for Entered ID:\n"
            << id <<" "<< fn <<" "
            << ln <<" "<< age <<" "
            << sal << endl;
        find = true;
    }
}
if( !find )
    cout << "Entered ID not Found on File" << endl;
InFile.close();
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-10T15:25:31.483

做这样的事情是行不通的：

```
InFile.read( (char*)&fn, sizeof(string)); 
```

字符串通常在内部包含指向实际字符的指针，因此实际文本不会存储在文件中的任何位置。您需要使用 char 数组来读取和写入字符串。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-10T15:26:28.487

这里似乎存在许多问题，正如我在评论中所说，您正在描述 worker.txt 的格式并从名为 worker.dat 的文件中读取。它们是相同的格式吗？如果不是，那么您正在阅读文本文件。如果是这样，那么您不知道字符串的长度——但我猜它们是空终止的。

这是您的问题之一的示例- sizeof(string) 将始终是指针的大小，而不是您正在阅读的字符串的长度。

如果这是一个文本文件，你想要做的是：

*   从文本文件中读取一行。

*   解析那行

# html - 带有 CSS 的 TLFTextField 中的 AS3 htmlText和 标记错误

> ID：15323752
> 
> 赞同：3
> 
> 时间：2013-03-10T15:14:18.847
> 
> 标签：html, css, xml, actionscript-3, tlf

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-10T16:04:02.220

正如你所说，Flash 在样式表方面存在问题。也许您应该尝试直接在 as3 中设置样式！一直为我工作！

```
var style:StyleSheet = new StyleSheet();

var hover:Object = new Object();
hover.color = "#FF9900";

var link:Object = new Object();
link.fontWeight = "bold";
link.textDecoration= "underline";
link.color = "#00FF00"; //green

style.setStyle("a:link", link);
style.setStyle("a:hover", hover);

html_txt.styleSheet = style; 
```

那就是链接问题！对于其他人，我必须自己测试，当我这样做时我会更新答案！但是您可以尝试在 as3 中设置所有样式属性。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-10T19:10:12.607

在 CSS 中使用 a:link 设置 Flash 中的链接样式。

插入具有特定样式（没有行高）的段落标签有效地解决了标题问题。

还没有弄清楚粗体和斜体，但这并不是一个主要的担忧。如果有人这样做，请告诉我！

这是任何感兴趣的人的当前工作代码：

```
import flash.net.URLLoader;
import flash.net.URLRequest;
import flash.events.Event;
import flash.text.TextField;
import flash.events.ProgressEvent;
import fl.text.TLFTextField;

var fonts:Array = Font.enumerateFonts();
for each (var font:Font in fonts)
{
    trace( font.fontName+":"+font.fontType );
}

var rss_xml:XML = new XML();
var test_txt:TLFTextField = new TLFTextField  ;
with (test_txt)
{
    antiAliasType = AntiAliasType.ADVANCED;
    width = 940;
    height = 600;
    x = 0;
    y = 0;
    autoSize = TextFieldAutoSize.LEFT;
    wordWrap = true;
    embedFonts = true;
}
var sulsc_style:StyleSheet = new StyleSheet();
var css_loader:URLLoader = new URLLoader();

css_loader.load(new URLRequest("sulsc_style.css"));
css_loader.addEventListener(Event.COMPLETE, onCSSComplete);
function onCSSComplete(e:Event):void
{
    sulsc_style.parseCSS(e.target.data);
    rss_xml.ignoreWhitespace = false;
    var rss_loader:URLLoader = new URLLoader(new URLRequest("http://news.sulsc.org/feed"));
    rss_loader.addEventListener(Event.COMPLETE,rss_loaded);
    l.mode = "manual";
    rss_loader.addEventListener(ProgressEvent.PROGRESS,rss_load);
}

function rss_load(e:ProgressEvent):void
{
    //trace(e.bytesLoaded/(113*1024));
    l.setProgress(e.bytesLoaded,(113*1024));
}

function rss_loaded(e:Event):void
{
    removeChild(l);
    l = null;
    rss_xml = XML(e.target.data);
    rss_xml.ignoreWhiteSpace = true;
    var rss_raw:String = String(rss_xml);
    rss_raw = rss_raw.split(":encoded").join("");
    rss_raw = rss_raw.split("\n").join("");
    rss_raw = rss_raw.split('<p style="text-align: right;">').join('<p class="right">');
    rss_raw = rss_raw.split('<p style="text-align: center;">').join('<p class="centre">');
    rss_raw = rss_raw.split('<p style="text-align: left;">').join('<p class="left">');
    rss_raw = rss_raw.split('<p style="text-align: justify;">').join('<p class="just">');
    var heading_replace:RegExp = new RegExp("(</h[0-9]>)(<h[0-9]>)","g9");
    var underline_replace:RegExp = new RegExp('<span style="text-decoration: underline;">(.*?)</span>',"gi");
    var bold_replace:RegExp = new RegExp('<strong>(.*?)</strong>',"gi");
    var italic_replace:RegExp = new RegExp('<em>(.*?)</em>',"gi");
    rss_raw = rss_raw.replace(heading_replace,'$1<p class="space"></p>$2');
    rss_raw = rss_raw.replace(underline_replace,'<u>$1</u>');
    rss_raw = rss_raw.replace(bold_replace,'<b>$1</b>');
    rss_raw = rss_raw.replace(italic_replace,'<i>$1</i>');
    rss_xml = XML(rss_raw);
    test_txt.styleSheet = sulsc_style;
    test_txt.htmlText = rss_xml.channel.item.(guid == "http://news.sulsc.org/?page_id=400").content;
    addChild(test_txt);
} 
```

和CSS：

```
/*
flash doesn't support:
-bold and italic
-strikethrough
*/
p, ol, ul, li, body {
    font-family: Fontin Sans Rg;
    font-size: 12pt;
    color: #666666;
    text-align: justify;
    padding-bottom: 12px;
    padding-top: 6px;
}
h1 {
    font-family: Nilland;
    font-size: 30pt;
    text-align:left;
    color: #999999;
}
h2 {
    font-family: Nilland;
    font-size: 20pt;
    color: #ff9900;
    margin-left:25px;
    letter-spacing: 1px;
}
h3 {
    font-family: GeosansLight;
    font-size: 16pt;
    text-align:left;
    color: #999999;
    margin-left:50px;
    letter-spacing: 1px;
}
h4, h5, h6 {
    font-family: GeosansLight;
    font-size: 14pt;
    text-align:left;
    color: #999999;
    margin-left:75px;
    letter-spacing: 1px;
}
ol, ul, li {
    margin-left: 50px;
    line-height:5px
}
b-quote,blockquote {
    font-family: Fontin Sans Rg;
    font-style:italic;
    color:#999999;
    margin-left: 100px;
    margin-right: 100px;
    padding-bottom: 12px;
}
a:link {
    text-decoration: underline;
    color: #666666;
}
a:hover {
    color: #FF9900;
    text-decoration: underline;
}
/* DO NOT DELETE THESE */
.space { 
    line-height:1px;
    padding-bottom: 0px;
    padding-top:0px;
}
.right {
    text-align:right;
}
.centre {
    text-align:center;
}
.left {
    text-align:left;
}
.just {
    text-align:justify;
} 
```

这使得：

![在职的！](../Images/29e081e8db43397073d7433952b22c71.png)

谢谢你的帮助！

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-09-12T22:48:00.923

在粗体/斜体问题上，我们发现我们需要完全独立的字体/类来处理它们。因此，您需要分别导出一个常规、斜体和粗体样式的字体，然后将相应的部分包装在字体标签中。我们使用 and 进行查找/替换，将 parentClassName_italic 添加到字体标签，然后指向 css 中导出的字体。一个真正的皮塔饼，但你去。

# mercurial - 提交后添加到 mercurial 中的重命名跟踪

> ID：15323753
> 
> 赞同：2
> 
> 时间：2013-03-10T15:14:22.353
> 
> 标签：mercurial, rename, tortoisehg

简单场景：

我重命名了一个文件。更改已提交并推送。我没用过`hg rename`。

我如何告诉 mercurial 提交中的添加/删除是重命名？有没有我可以手动编辑的 svn .mergeinfo 之类的东西？

（这不是最后一次提交，因此修改提交的解决方案很好，但对我没有帮助。）

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-10T20:49:38.257

您可以尝试以下方法：

1.  `hg update`到文件重命名之前的提交。

2.  对新文件名执行`hg rename`操作，并确保文件的内容与主分支上的内容相同。

3.  `hg commit`.

4.  `hg update`到主分支。

5.  `hg merge --tool internal:other`新分支进入主分支。

从合并的提交开始，Mercurial 应该知道重命名。

# asterisk - asterik 拨号方案中的多个 dtmf 输入

> ID：15323755
> 
> 赞同：1
> 
> 时间：2013-03-10T15:14:28.847
> 
> 标签：asterisk

在星号拨号计划中，为什么当 dtmf 输入是两个或多个数字并且如果在播放提示时按下一个数字，它会进入 i 分机（无效分机），就像单个数字 dtmf 输入的情况一样，如果按数字作为提示正在播放它移动到正确的扩展？谢谢

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-12T17:56:15.723

这是另一个示例，其中用户必须输入 4 位 PIN 才能继续拨号方案：

```
[Login]
exten = s,1,Playback(/var/lib/asterisk/sounds/custom/login)
exten = s,n,Set(rightPIN=1234)
exten = s,n,Read(inPIN,/var/lib/asterisk/sounds/custom/enterPIN,4)
exten = s,n,GotoIf($["${inPIN}" = "${rightPIN}"]?pin-accepted,1)

; Didn't go to pin-accepted, so play badPIN and hangup
exten = s,n,Playback(/var/lib/asterisk/sounds/custom/badPINgoodbye)
exten = s,n,Hangup()

; correct pin, play something
exten = pin-accepted,1,Playback(/var/lib/asterisk/sounds/custom/something)
... 
```

Read() 应用程序的第三个参数是等待多少位数。有关阅读的更多信息，请参阅[Asterisk Wiki：阅读](https://wiki.asterisk.org/wiki/display/AST/Application_Read)

**编辑：**还有一个名为[Authenticate](https://wiki.asterisk.org/wiki/display/AST/Application_Authenticate)的拨号方案应用程序做得很好。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-13T06:52:36.197

我建议您从阅读以下内容开始：

[http://astbook.asteriskdocs.org/en/2nd_Edition/asterisk-book-html-chunk/asterisk-CHP-5-SECT-1.html](http://astbook.asteriskdocs.org/en/2nd_Edition/asterisk-book-html-chunk/asterisk-CHP-5-SECT-1.html)

或 ORelly 的书“Asterisk the future of telephony”。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-12T14:58:08.953

这将取决于您的 diaplan 是如何配置的，但听起来您正在使用 background() 应用程序。Background() 将侦听 DTMF，然后在第一次明确匹配时路由到当前上下文中的扩展。

例如，如果您在上下文中有 1、2 和 100，那么按 2 将直接路由到 2（因为它是明确的。）按 1 将等待超时，因为 background() 不知道您是要去 1 还是 100 . 超时后，它将路由到 1。按 3 将转到 i 特殊扩展，因为当前上下文中没有以 3 开头的扩展。

如果所需的行为是从您的 IVR 上下文路由到您的一部内部电话，那么您需要在 IVR 上下文中包含电话上下文：

```
[phones]
exten => 100,1,Dial(SIP/phone1)
exten => 101,1,Dial(SIP/phone2)
...

[IVR]
exten => s,1,Background(message)

exten => 1,1,Queue(Sales)
exten => 2,1,Queue(Support)
exten => i,1,Playback(pbx-invalid)

include => phones 
```

官方文档中的更多信息： [https ://wiki.asterisk.org/wiki/display/AST/Application_BackGround](https://wiki.asterisk.org/wiki/display/AST/Application_BackGround)

# java - Android：如何按下软键盘上方的按钮

> ID：15323758
> 
> 赞同：68
> 
> 时间：2013-03-10T15:14:46.987
> 
> 标签：java, android, xml, android-layout, android-softkeyboard

我有一个“保存”按钮，我想将它与软键盘一起向上推。因此，当用户在我的布局中单击 EditText 时，按钮必须保持在键盘上方。现在按钮隐藏在键盘下方。你怎么做到这一点？

提前致谢！

* * *

## 回答 #1

> 赞同：121
> 
> 时间：2013-03-10T15:32:57.077

您需要将键盘的输入模式设置为`adjustResize`. 您可以在清单中将以下行添加到您的活动属性中：

```
 android:windowSoftInputMode="adjustResize" 
```

这是在活动中添加的属性的示例：

```
<activity 
     android:name=".activity.MyActivity"
     android:windowSoftInputMode="adjustResize">
</activity> 
```

* * *

## 回答 #2

> 赞同：46
> 
> 时间：2016-07-02T03:50:15.143

随着 Inthathep 的回答，您必须在父视图组中添加一个属性

```
android:fitsSystemWindows="true" 
```

根据需要工作。即，在清单文件中，为活动添加

```
android:windowSoftInputMode="adjustResize" 
```

例如。

```
<LinearLayout
    android:layout_width="match_parent"
    android:layout_height="wrap_content"
    android:padding="10dp"
    android:fitsSystemWindows="true" <!-- add this -->
    android:orientation="vertical"
    >
    <EditText
        android:id="@+id/et_assetview_comment"
        android:layout_width="match_parent"
        android:layout_height="match_parent"
        android:minHeight="80dp"
        android:background="@color/white"
        android:hint="Enter comments"
        />
    <Button
        android:id="@+id/btn_assetview_postcomment"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:text="POST"
        />
</LinearLayout> 
```

* * *

## 回答 #3

> 赞同：24
> 
> 时间：2017-11-01T04:50:26.133

像这样订购您的布局，您将能够将按钮放在键盘上方

```
<?xml version="1.0" encoding="utf-8"?>
<RelativeLayout
    xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    >

    <ScrollView
        android:layout_width="match_parent"
        android:layout_height="match_parent"
        android:layout_above="@+id/button_next"
        android:background="#0ff"
        >

        <LinearLayout
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:orientation="vertical"
            >

            <EditText
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:layout_marginTop="250dp"
                android:hint="Hint"
                />

            <TextView
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:text="ABC"
                android:textSize="50sp"
                />
        </LinearLayout>
    </ScrollView>

    <Button
        android:id="@+id/button_next"
        android:layout_width="match_parent"
        android:layout_height="60dp"
        android:layout_alignParentBottom="true"
        android:layout_margin="10dp"
        android:text="Button Next"
        />

</RelativeLayout> 
```

在android清单中

```
<application
        ...
        >
        <activity android:name=".YourActivity"
            android:windowSoftInputMode="adjustResize"
           >
        </activity>
</application> 
```

[![在此处输入图像描述](../Images/6680cc32c98088e1c27c089fe805e7f8.png)](https://i.stack.imgur.com/JaEMy.gif)

请注意，除了`RelativeLayout`，您还可以使用其他`ViewGroup`类似`LinearLayout`的重量`CordinatorLayout`，...

* * *

## 回答 #4

> 赞同：10
> 
> 时间：2017-02-28T23:59:02.070

所以这是一个很老的帖子，但我对提供的答案感到很困惑。oneavi 和 Intahep 都是正确的，但让我告诉你确切的去向`android:windowSoftInputMode="adjustResize"`。

在 Android 清单中

```
 <activity android:name=".DataScreen" />
    <activity android:name=".PauseScreen" />
    <activity android:name=".RouteInfo"
               android:windowSoftInputMode="adjustResize"> <!--This goes in the specific activity with the button -->
    </activity> 
```

* * *

## 回答 #5

> 赞同：4
> 
> 时间：2019-04-20T13:50:09.417

最好的方法是隐藏击键，如有必要，按下键盘上方的按钮

```
 android:windowSoftInputMode="adjustResize|stateHidden" 
```

* * *

## 回答 #6

> 赞同：2
> 
> 时间：2020-05-28T12:04:42.563

*附加点*`"adjustResize"`除非您的活动是全屏的，否则 上述任何一项都将起作用。那是我的情况。检查您的活动代码以确保其不是全屏显示。

* * *

## 回答 #7

> 赞同：1
> 
> 时间：2021-06-02T02:43:41.620

这个简单的设置使用键盘向上滚动整个布局。

```
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:tools="http://schemas.android.com/tools"
    android:layout_width="match_parent"
    android:layout_height="match_parent">

        <ImageView
            android:id="@+id/image_iv"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_above="@id/recycler_view"
            android:layout_alignParentTop="true"
            android:layout_centerHorizontal="true"
            android:src="@drawable/image" />

        <androidx.recyclerview.widget.RecyclerView
            android:id="@+id/recycler_view"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_above="@id/button"
            android:layout_centerHorizontal="true" />

        <Button
            android:id="@+id/button"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_alignParentBottom="true"
            android:layout_centerHorizontal="true"
            android:text="Button" />

</RelativeLayout> 
```

关键点：

*   清单中没有添加任何内容。
*   图像必须是“wrap_content”（不是固定大小）以允许 android 根据需要调整它的大小。
*   所有视图必须如上所示链接。底视图 layout_alignParentBottom="true"，顶视图 layout_alignParentTop="true"，以及所有中间视图 layout_above="@id/view_below"。
*   layout_below="@id/view_above" 属性由于某种原因不起作用。

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2021-10-05T16:44:10.587

**在 AndroidX 中：**

用于`CoordinatorLayout`主父布局并`NestedScrollView`为您的内容添加一个布局或按钮，在`CoordinatorLayout`软键盘上方的按钮中添加您的布局或按钮

```
<androidx.coordinatorlayout.widget.CoordinatorLayout  
    android:layout_width="match_parent"
    android:layout_height="match_parent"
     >
    <androidx.core.widget.NestedScrollView
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
         android:isScrollContainer="true"  >
        .......
    </androidx.core.widget.NestedScrollView>
    <com.google.android.material.button.MaterialButton
        android:id="@+id/send_btn"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:layout_gravity="bottom"
        android:text="@string/login" /> 
```

**照片：**

[![https://snipboard.io/n45tbx.jpg](../Images/3416581553d59678110e331577fc91ba.png)](https://i.stack.imgur.com/6lXil.png)

# java - 中断运行线程

> ID：15323762
> 
> 赞同：2
> 
> 时间：2013-03-10T15:15:34.227
> 
> 标签：java, multithreading, interrupt

我只是即兴使用线程中断来取消线程。尽管在我的代码中两个线程都已停止，但看起来我没有捕捉到`InterruptedException` 我只是想知道为什么？

制片人：

```
public class Producer implements Runnable{

    private BlockingQueue<String> queue ;

    public Producer(BlockingQueue<String> queue) {
        this.queue = queue;
    }

    @Override
    public void run() {
            try {

        while (!Thread.currentThread().isInterrupted()){
                queue.put("Hello");
            } 
        }catch (InterruptedException e) {
                System.out.println("Interupting Producer");
                Thread.currentThread().interrupt(); 
        }
    }
} 
```

消费者：

```
public class Consumer implements Runnable {

    BlockingQueue<String> queue;

    public Consumer(BlockingQueue<String> queue) {
        super();
        this.queue = queue;
    }

    @Override
    public void run() {

        String s;
        try {
            while (!Thread.currentThread().isInterrupted()) {
                s = queue.take();
                System.out.println(s);
            }
        } catch (InterruptedException e) {
            System.out.println("Consumer Interupted");
            Thread.currentThread().interrupt();
        }
    }
} 
```

现在主要：

```
public static void main(String[] args) {
    BlockingQueue<String> queue = new LinkedBlockingQueue<String>();

    Thread producerThread = new Thread(new Producer(queue));
    Thread consumerThread = new Thread(new Consumer(queue));
    producerThread.start();
    consumerThread.start();

    try {
        Thread.sleep(1000);
    } catch (InterruptedException e) {
    } finally {
        producerThread.interrupt();
        consumerThread.interrupt();
    }
} 
```

虽然线停了，但我想不通为什么`InterruptedException`不咳嗽。它应该在 catch 块内打印中断消息，但没有打印任何内容

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-10T15:21:17.417

您有一个无界队列，因此生产者和消费者都不会被阻塞在队列中。因此，不会中断任何可能引发 InterruptedException 的操作。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-10T15:25:02.027

这是中断的示例：

公共类 TestThread1 实现 Runnable {

```
public void run() {
    while(Thread.currentThread().isInterrupted() == false) {
        System.out.println("dans la boucle");

        //on simule une courte pause

        for(int k=0; k<100000000; k++);

        System.out.println("Thread isInterrupted = " + Thread.currentThread().isInterrupted());
    }
}

public static void main(String[] args) {
    Thread t = new Thread(new TestThread1());
    t.start();

    //on laisse le temps à l'autre Thread de se lancer
    try {
        Thread.sleep(1000);

    } catch(InterruptedException e) {}

    System.out.println("interruption du thread");
    t.interrupt();
} 
```

}

执行的结果是：

> dans la boule
> 
> 线程 isInterrupted = false
> 
> dans la boule
> 
> 线程中断
> 
> 线程 isInterrupted = true

# if-statement - Go 是否有类似于 Python 的“if x in”结构？

> ID：15323767
> 
> 赞同：404
> 
> 时间：2013-03-10T15:15:56.520
> 
> 标签：if-statement, go

**在不**遍历整个数组的情况下，如何`x`使用 Go 检查是否在数组中？语言有结构吗？

像 Python 一样：`if "x" in array: ...`

* * *

## 回答 #1

> 赞同：472
> 
> 时间：2013-03-10T15:36:14.113

Go 中没有内置的运算符来执行此操作。您需要遍历数组。您可以编写自己的函数来执行此操作，如下所示：

```
func stringInSlice(a string, list []string) bool {
    for _, b := range list {
        if b == a {
            return true
        }
    }
    return false
} 
```

如果您希望能够在不遍历整个列表的情况下检查成员资格，则需要使用映射而不是数组或切片，如下所示：

```
visitedURL := map[string]bool {
    "http://www.google.com": true,
    "https://paypal.com": true,
}
if visitedURL[thisSite] {
    fmt.Println("Already been here.")
} 
```

* * *

## 回答 #2

> 赞同：138
> 
> 时间：2015-11-25T23:45:39.223

如果列表包含静态值，则另一种解决方案。

例如：从有效值列表中检查有效值：

```
func IsValidCategory(category string) bool {
    switch category {
    case
        "auto",
        "news",
        "sport",
        "music":
        return true
    }
    return false
} 
```

* * *

## 回答 #3

> 赞同：54
> 
> 时间：2015-10-24T21:03:51.590

这是从“Go 编程：为 21 世纪创建应用程序”一书中引述的：

> 像这样使用简单的线性搜索是未排序数据的唯一选择，适用于小切片（最多数百个项目）。但是对于较大的切片——特别是如果我们重复执行搜索——线性搜索效率非常低，平均每次需要比较一半的项目。
> 
> Go 提供了一个 sort.Search() 方法，该方法使用二分搜索算法：这需要每次只比较 log2(n) 个项目（其中 n 是项目数）。从这个角度来看，1000000 个项目的线性搜索平均需要 500000 次比较，最坏的情况是 1000000 次比较；一个二分查找最多需要 20 次比较，即使在最坏的情况下也是如此。

```
files := []string{"Test.conf", "util.go", "Makefile", "misc.go", "main.go"}
target := "Makefile"
sort.Strings(files)
i := sort.Search(len(files),
    func(i int) bool { return files[i] >= target })
if i < len(files) && files[i] == target {
    fmt.Printf("found \"%s\" at files[%d]\n", files[i], i)
} 
```

[https://play.golang.org/p/UIndYQ8FeW](https://play.golang.org/p/UIndYQ8FeW)

* * *

## 回答 #4

> 赞同：36
> 
> 时间：2018-10-08T21:02:47.857

刚刚有一个类似的问题，并决定尝试这个线程中的一些建议。

我已经对 3 种查找类型的最佳和最坏情况进行了基准测试：

*   使用地图
*   使用列表
*   使用 switch 语句

这是功能代码：

```
func belongsToMap(lookup string) bool {
list := map[string]bool{
    "900898296857": true,
    "900898302052": true,
    "900898296492": true,
    "900898296850": true,
    "900898296703": true,
    "900898296633": true,
    "900898296613": true,
    "900898296615": true,
    "900898296620": true,
    "900898296636": true,
}
if _, ok := list[lookup]; ok {
    return true
} else {
    return false
}
}

func belongsToList(lookup string) bool {
list := []string{
    "900898296857",
    "900898302052",
    "900898296492",
    "900898296850",
    "900898296703",
    "900898296633",
    "900898296613",
    "900898296615",
    "900898296620",
    "900898296636",
}
for _, val := range list {
    if val == lookup {
        return true
    }
}
return false
}

func belongsToSwitch(lookup string) bool {
switch lookup {
case
    "900898296857",
    "900898302052",
    "900898296492",
    "900898296850",
    "900898296703",
    "900898296633",
    "900898296613",
    "900898296615",
    "900898296620",
    "900898296636":
    return true
}
return false
} 
```

最好的情况选择列表中的第一项，最坏的情况使用不存在的值。

结果如下：

```
BenchmarkBelongsToMapWorstCase-4         2000000           787 ns/op
BenchmarkBelongsToSwitchWorstCase-4     2000000000           0.35 ns/op
BenchmarkBelongsToListWorstCase-4       100000000           14.7 ns/op
BenchmarkBelongsToMapBestCase-4          2000000           683 ns/op
BenchmarkBelongsToSwitchBestCase-4      100000000           10.6 ns/op
BenchmarkBelongsToListBestCase-4        100000000           10.4 ns/op 
```

Switch一路赢，最坏情况比最好情况快得多。

地图是最差的，列表更接近切换。

所以道德是：如果你有一个静态的、相当小的列表，那么 switch 语句就是要走的路。

* * *

## 回答 #5

> 赞同：29
> 
> 时间：2016-01-04T20:53:15.013

上面使用排序的例子很接近，但在字符串的情况下只需使用 SearchString：

```
files := []string{"Test.conf", "util.go", "Makefile", "misc.go", "main.go"}
target := "Makefile"
sort.Strings(files)
i := sort.SearchStrings(files, target)
if i < len(files) && files[i] == target {
    fmt.Printf("found \"%s\" at files[%d]\n", files[i], i)
} 
```

[https://golang.org/pkg/sort/#SearchStrings](https://golang.org/pkg/sort/#SearchStrings)

* * *

## 回答 #6

> 赞同：12
> 
> 时间：2020-04-24T14:42:33.947

这与 Python 的“in”运算符的自然感觉非常接近。您必须定义自己的类型。然后，您可以通过添加像“has”这样的方法来扩展该类型的功能，该方法的行为就像您希望的那样。

```
package main

import "fmt"

type StrSlice []string

func (list StrSlice) Has(a string) bool {
    for _, b := range list {
        if b == a {
            return true
        }
    }
    return false
}

func main() {
    var testList = StrSlice{"The", "big", "dog", "has", "fleas"}

    if testList.Has("dog") {
        fmt.Println("Yay!")
    }
} 
```

我有一个实用程序库，我在其中为几种类型的切片定义了一些常见的东西，比如那些包含整数或我自己的其他结构的切片。

是的，它以线性时间运行，但这不是重点。重点是询问和了解 Go 有哪些通用语言结构，哪些没有。这是一个很好的锻炼。这个答案是愚蠢还是有用取决于读者。

* * *

## 回答 #7

> 赞同：8
> 
> 时间：2016-01-07T03:56:45.830

另一种选择是使用地图作为一组。您只使用键，并将值设为始终为真的布尔值。然后您可以轻松检查地图是否包含密钥。如果您需要集合的行为，这很有用，如果您多次添加一个值，它只会在集合中出现一次。

这是一个简单的示例，我将随机数作为键添加到地图中。如果多次生成相同的数字也没关系，它只会在最终地图中出现一次。然后我使用一个简单的 if 检查来查看一个键是否在地图中。

```
package main

import (
    "fmt"
    "math/rand"
)

func main() {
    var MAX int = 10

    m := make(map[int]bool)

    for i := 0; i <= MAX; i++ {
        m[rand.Intn(MAX)] = true
    }

    for i := 0; i <= MAX; i++ {
        if _, ok := m[i]; ok {
            fmt.Printf("%v is in map\n", i)
        } else {
            fmt.Printf("%v is not in map\n", i)
        }
    }
} 
```

[这是在旅途中的游乐场](https://play.golang.org/p/dliU4qXvGG)

# scala - 使用 Scalacheck 生成伪随机测试

> ID：15323772
> 
> 赞同：1
> 
> 时间：2013-03-10T15:16:15.503
> 
> 标签：scala, automated-tests, scalatest, scalacheck

我想用**基于属性的**测试风格来测试我的代码。
我有一些生成器，它总是生成`Some(data)`，数据永远不会被过滤掉。我想运行 100 个测试，在运行中使用相同的数据集。现在，我正在这样做，但它不是非常惯用的代码：

```
import org.scalacheck._
import java.util.Random
import org.scalatest._

class ExplainItOnStackOverflow extends PropSpec {
  property("Just a test property to explain my problem!") {
    val g = Gen.choose(1,100)
    for (i <- 1 to 100) {
      val Some(res) = g.apply(Gen.Params(rng = new Random(i)))
      assert (res > 0)
    }
  }
} 
```

这个类`PropSpec`有它自己的方法`runAll`，在我看来我应该想用它来运行这些属性检查。

# image - 更改按钮图像

> ID：15323773
> 
> 赞同：3
> 
> 时间：2013-03-10T15:16:18.237
> 
> 标签：image, button, highcharts

我创建了一个新的自定义按钮，我可以设置不同的背景图像而不是“圆形”或“三角形”吗？

谢谢查南

```
 exporting: {
        enabled: true,
            buttons: {
                'realTimeButton': {
                id: 'realTimeButton',
                    symbol: 'diamond',
                    x: -88,
                    symbolFill: realTimeColor,
                    hoverSymbolFill: realTimeColor,
                    _titleKey: "realTimeButtonTitle",
                    onclick: function(event) {
                      // handle change to real time
                      if ( enable_lastRoundsChart_realtime )
                      {
                         // disable real time flag
                         enable_lastRoundsChart_realtime = 0;

                         // re-create detail in real time mode disabled
                         createDetail(cache_last_rounds.last_rounds_data, window.show_top_round_ids);

                         // enable plotBand
                         if ( pb_master_chart )
                         {
                            pb_master_chart.options.chart.events.selection.enabled = 'true';
                            pb_master_chart.options.chart.zoomType = 'x';
                          }
                    }
                    else
                    {
                        // enable real time flag
                        enable_lastRoundsChart_realtime = 1;

                        // re-create detail in real time mode enabled
                        createDetail(cache_last_rounds.last_rounds_data, window.show_top_round_ids);

                        // update title
                        this.setTitle({text:"Players/Drops Per Round"}, {text:"Real Time"});

                        // if master found, remove plotBand and disable master selection
                        if ( pb_master_chart )
                        {
                            // remove plotBand
                            pb_master_chart.xAxis[0].removePlotBand('mask-before');
                            pb_master_chart.xAxis[0].removePlotBand('mask-after');
                            pb_master_chart.xAxis[0].addPlotBand({
                                id: 'mask-before',
                                from: -1,
                                to: 99999,
                                color: 'rgba(0, 0, 0, 0.2)'
                            })

                            // disable selection
                            pb_master_chart.options.chart.events.selection.enabled = 'false';
                            pb_master_chart.options.chart.zoomType = null;
                        }
                    }
                }
            }, 
```

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-03-10T21:06:37.407

根据[文档](http://api.highcharts.com/highcharts#exporting.buttons.exportButton.symbol)，形状是在`Highcharts.Renderer.symbols`集合中定义的。检查此对象会发现以下可用形状：

```
Highcharts.Renderer.prototype.symbols:
  arc: function (a,b,c,d,e){var f=e.start,c=e.r||c||d,g=e.end-1.0E-6,d=e.innerR,h=e.open,i=W(f),j=Z(f),k=W(g),g=Z(g),e=e.end-f<Aa?0:1;return["M",a+c*i,b+c*j,"A",c,c,
  circle: function (a,b,c,d){var e=0.166*c;return["M",a+c/2,b,"C",a+c+e,b,a+c+e,b+d,
  diamond: function (a,b,c,d){return["M",a+c/2,b,"L",a+c,b+d/2,a+c/2,b+d,a,b+d/2,"Z"]}
  exportIcon: function (a,b,c,d){return y(["M",a,b+c,"L",a+c,b+d,a+c,b+d*0.8,a,b+d*0.8,"Z","M",a+c*0.5,b+d*0.8,"L",a+c*0.8,b+d*0.4,a+c*0.4,b+d*0.4,a+c*0.4,b,a+c*0.6,b,a+c*0.6,b+d*0.4,a+c*0.2,b+d*0.4,"Z"])}
  printIcon: function (a,b,c,d){return y(["M",a,b+d*0.7,"L",a+c,b+d*0.7,a+c,b+d*0.4,a,b+d*0.4,"Z","M",a+c*0.2,b+d*0.4,"L",a+c*0.2,b,a+c*0.8,b,a+c*0.8,b+d*0.4,"Z","M",a+c*0.2,b+d*0.7,"L",a,b+d,a+
  square: function (a,b,c,d){return["M",a,b,"L",a+c,b,a+c,b+d,a,b+d,"Z"]}
  triangle: function (a,b,c,d){return["M",a+c/2,b,"L",a+c,b+d,a,b+d,"Z"]}
  triangle-down: function (a,b,c,d){return["M",a,b,"L",a+c,b,a+c/2,b+d,"Z"]} 
```

您还可以通过扩展集合来添加自己的符号。例如，绘制一个简单的 X：

```
$.extend(Highcharts.Renderer.prototype.symbols, {
    anX: function (a,b,c,d){return["M",a,b,"L",a+c,b+d,"M",a+c,b,"L",a,b+d]}
}); 
```

产生：

![在此处输入图像描述](../Images/0f881d7d4269bc70aee98dbd615356b8.png)

[在这里](http://jsfiddle.net/e5DVf/)拉小提琴。

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2013-03-12T12:03:23.403

您可以将图像设置为图标

[http://jsfiddle.net/Udgb3/](http://jsfiddle.net/Udgb3/)

```
 symbol: 'url(http://highcharts.com/demo/gfx/sun.png)',
                symbolX:5,
                symbolY:0 
```

# c++ - 为什么不能跨程序集删除指针？

> ID：15323787
> 
> 赞同：3
> 
> 时间：2013-03-10T15:17:20.500
> 
> 标签：c++, pointers, c++-cli

最近，我发现（[在这里](https://stackoverflow.com/questions/15286300/access-violation-exception-when-deleting-an-array "访问冲突异常")）不能在创建其内存的不同程序集中删除指针（或至少是数组）。据我所知，指针是内存中的一个变量，它的值是内存中另一个变量的地址。因此，为什么不能擦除指针的值（变量的地址），并从另一个程序集中释放它的内存？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-10T15:30:10.667

任何动态分配都需要回到分配它的同一个堆上。每个 DLL（我希望一个`assembly`DLL 对应于一个 DLL）能够拥有自己的堆，因此您需要在分配它的同一个 DLL 或奇怪的事情（未定义的行为 - 例如错误或崩溃）中释放它会发生。

因此，除非您知道两个不同的模块（DLL、程序集）具有相同的堆，否则您无法释放一个模块中分配给另一个模块的东西。

将某些东西返回到它来自的堆的要求有点像把图书馆的书还给“错误”的图书馆——当图书馆员在图书馆找不到它来自的书时，这会引起各种各样的混乱，并且“新”图书馆也不会对这本书有任何了解。想象一下，如果我们在访问我们的库时都这样做了……堆将包含“跟踪”堆中对象的内部数据结构。如果我们突然开始把它们放回不属于它们的地方，就会发生奇怪的事情。

# xml - 使用 xslt 对 xml 文件元素进行排序

> ID：15323789
> 
> 赞同：0
> 
> 时间：2013-03-10T15:17:21.930
> 
> 标签：xml, xslt

我有以下 xml 文件：

```
<WindowProperties>
<skin>LP Connect</skin>
<showToOperator>false</showToOperator>
<showToVisitor>false</showToVisitor>
<ChatWindow>
  <field>
    <key>direction</key>
    <val>ltr</val>
  </field>
  <field>
    <key>enableCustomizedHeaderImageUrl</key>
    <val>false</val>
  </field>
  <field>
    <key>brandType</key>
    <val>noImage</val>
  </field>
  <field>
    <key>brandHeight</key>
    <val>158</val>
  </field>      
</ChatWindow> 
```

我想使用 key 元素对聊天窗口中的字段进行排序，因此 xml 将如下所示：

```
<WindowProperties>
    <skin>LP Connect</skin>
    <showToOperator>false</showToOperator>
    <showToVisitor>false</showToVisitor>
    <ChatWindow>
    <field>
        <key>brandHeight</key>
        <val>158</val>
      </field> 
<field>
        <key>brandType</key>
        <val>noImage</val>
      </field>

      <field>
        <key>direction</key>
        <val>ltr</val>
      </field>
      <field>
        <key>enableCustomizedHeaderImageUrl</key>
        <val>false</val>
      </field>

    </ChatWindow>
 </WindowProperties> 
```

我尝试了以下 xsl：

```
<ChatWindow>

                    <xsl:template match="ChatWindow">
                        <xsl:for-each select="field">
                            <xsl:sort select="key"/>
                            <key><xsl:value-of select="key"/></key>
                            <value><xsl:value-of select="val"/></value>
                        </xsl:for-each>
                    </xsl:template>

                </ChatWindow> 
```

但这没有用。任何帮助表示赞赏。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-10T17:32:01.420

这个简单的 XSLT 应该可以完成这项工作：

```
<xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform">
  <xsl:output method="xml" indent="yes" omit-xml-declaration="yes" />
  <xsl:strip-space elements="*" />

  <xsl:template match="@* | node()">
    <xsl:copy>
      <xsl:apply-templates select="@* | node()"/>
    </xsl:copy>
  </xsl:template>

  <xsl:template match="ChatWindow">
    <xsl:copy>
      <xsl:apply-templates select="field">
        <xsl:sort select="key" />
      </xsl:apply-templates>
    </xsl:copy>
  </xsl:template>
</xsl:stylesheet> 
```

在您的示例输入上运行时，这会产生：

```
<WindowProperties>
  <skin>LP Connect</skin>
  <showToOperator>false</showToOperator>
  <showToVisitor>false</showToVisitor>
  <ChatWindow>
    <field>
      <key>brandHeight</key>
      <val>158</val>
    </field>
    <field>
      <key>brandType</key>
      <val>noImage</val>
    </field>
    <field>
      <key>direction</key>
      <val>ltr</val>
    </field>
    <field>
      <key>enableCustomizedHeaderImageUrl</key>
      <val>false</val>
    </field>
  </ChatWindow>
</WindowProperties> 
```

如果`<xsl:output method="text" />`出于某种原因绝对必须使用，可以执行以下操作，但我不建议这样做：

```
<xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform">
  <xsl:output method="text" indent="yes" omit-xml-declaration="yes" />

  <xsl:template match="*">
    <xsl:value-of select="concat('&lt;', name(), '&gt;')"/>
    <xsl:apply-templates />
    <xsl:value-of select="concat('&lt;/', name(), '&gt;')"/>
  </xsl:template>

  <xsl:template match="ChatWindow">
    <xsl:value-of select="concat('&lt;', name(), '&gt;')"/>
    <xsl:apply-templates select="field">
      <xsl:sort select="key" />
    </xsl:apply-templates>
    <xsl:value-of select="concat('&lt;/', name(), '&gt;')"/>
  </xsl:template>
</xsl:stylesheet> 
```

或者更长一点，但更干净一点：

```
<xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform">
  <xsl:output method="text" indent="yes" omit-xml-declaration="yes" />

  <xsl:template name="tag">
    <xsl:param name="slash" />
    <xsl:value-of select="concat('&lt;', $slash, name(), '&gt;')"/>
  </xsl:template>

  <xsl:template name="cTag">
    <xsl:call-template name="tag">
      <xsl:with-param name="slash" select="'/'" />
    </xsl:call-template>
  </xsl:template>

  <xsl:template match="*">
    <xsl:call-template name="tag" />
    <xsl:apply-templates />
    <xsl:call-template name="cTag" />
  </xsl:template>

  <xsl:template match="ChatWindow">
    <xsl:call-template name="tag" />
    <xsl:apply-templates select="field">
      <xsl:sort select="key" />
    </xsl:apply-templates>
    <xsl:call-template name="cTag" />
  </xsl:template>
</xsl:stylesheet> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-10T15:43:43.593

**编辑：**请参阅@JLRishe 的回答，因为这是正确的做法。我在下面的回答满足了“文本”输出要求，但实际上更加复杂并且完成了同样的事情。

我已经删除了我的完整示例，并保留了`<CDATA>`原始答案中的代码，我将保留在这里，以防有人确实需要在 XSLT 的文本输出中生成 XML 元素或其他标记（比如生成评论或其他内容）。如果您希望生成纯 XML，这不是最好的方法：

**原答案：**

回顾一下，以便我理解这个问题，您有一个返回“文本”（不是 XML）的 XSLT 模板，但您希望在输出中保留 XML 标记，使其*看起来*像 XML。

为此，您需要`<CDATA[ ]]>`围绕要视为文本的 XML 标记的部分，如下所示：

```
 <xsl:template match="ChatWindow">
      <xsl:for-each select="field">
        <xsl:sort select="key"/>
        <![CDATA[<key>]]>
          <xsl:value-of select="key"/>
        <![CDATA[</key>]]>
        <![CDATA[<value>]]> 
          <xsl:value-of select="val"/>
        <![CDATA[</value>]]>
      </xsl:for-each>
    </xsl:template> 
```

请注意，您也可以在中间执行此操作以组合 CDATA 部分，但我认为上面看起来更干净。（结果相同）

```
 <xsl:template match="ChatWindow">
      <xsl:for-each select="field">
        <xsl:sort select="key"/>
        <![CDATA[<key>]]>
          <xsl:value-of select="key"/>
        <![CDATA[</key>
        <value>]]>
          <xsl:value-of select="val"/>
        <![CDATA[</value>]]>
      </xsl:for-each>
    </xsl:template> 
```

# javascript - 使用 javascript 和 css 的树视图

> ID：15323793
> 
> 赞同：-6
> 
> 时间：2013-03-10T15:17:54.817
> 
> 标签：javascript, css, dom

我正在[通过引用此链接进行树视图](http://catcode.com/domcontent/display/menus.html)

我在萤火虫中收到此错误

```
**Non-standard document.all property was used.
Use W3C standard document.getElementById() instead.

return document.all[id].style[property];** 
```

如何`document.getElementById()`在那个地方使用

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-10T18:09:45.070

此错误消息意味着您访问了 variable 的属性“all” `document`，但比方说，该属性已被弃用，因此不应使用。控制台说您应该使用方法“getElementById”，它返回具有给定 id 的元素，然后您可以继续。

如果您知道 id，要通过 id 访问元素，例如，您可以声明一个变量并将结果分配给它`getElementById`（会有问题`style[property]`）：

```
var myElement=document.getElementById("id");
return myElement.property; // height for example 
```

要不就

```
return document.getElementById("id").property;  // height for example 
```

# android - 首选项 api。设置摘要崩溃的方法

> ID：15323794
> 
> 赞同：1
> 
> 时间：2013-03-10T15:17:58.937
> 
> 标签：android, settings

如果我调用这个方法

（变量声明 public static SharedPreferences prefs = null;）

* * *

```
public void setManualycallResetCal(long time)
{   
    Preference calPrefCal = findPreference("callReset");
    callResetCal.setTimeInMillis(time);

    Date d = new Date(time);
    SimpleDateFormat simpleDateFormat = new SimpleDateFormat();
    simpleDateFormat.setTimeZone(TimeZone.getTimeZone("GMT"));

    StringBuilder sumValue = new StringBuilder("Since :");
    sumValue.append(simpleDateFormat.format(d));
    calPrefCal.setSummary( sumValue.toString() );

    edit = prefs.edit();
    edit.putString("calDate", sumValue.toString() );
    edit.commit();
} 
```

应用程序因空指针而崩溃是有线还是什么

错误：

```
 calPrefCal.setSummary( sumValue.toString() ); 
```

我的呼叫代码

```
if (Settings.prefs != null) {
        Calendar cal = Settings.callResetCal;
        Calendar comp = Calendar.getInstance();
        if (cal.getTimeInMillis() < comp.getTimeInMillis()) {
            int reset = Settings.callReset;
            Calendar end = Calendar.getInstance();
            end.setTimeInMillis(cal.getTimeInMillis());
            end.add(Calendar.DATE, reset);

            new Settings().setManualycallResetCal(end.getTimeInMillis());
        } // end if
    } // end if null check 
```

* * *

如果我评论整个调用代码块，一切正常

* * *

整页代码

```
 package srinath.logger.app;

import java.text.SimpleDateFormat;
import java.util.Calendar;
import java.util.Date;
import java.util.TimeZone;

import android.content.Intent;
import android.content.SharedPreferences;
import android.content.SharedPreferences.OnSharedPreferenceChangeListener;
import android.os.Bundle;
import android.preference.Preference;
import android.preference.PreferenceActivity;
import android.preference.PreferenceManager;
import android.widget.Toast;

public class Settings extends PreferenceActivity {

    private OnSharedPreferenceChangeListener listener;
    public static SharedPreferences prefs = null;
    static SharedPreferences.Editor edit = null;

    public static boolean callEnable;
    public static boolean callNotify;
    public static int callUpdate;
    public static int callReset; // sec

    // since
    public static Calendar callResetCal;
    public static int callUnits;
    public static int callLimit;
    //public static int unitPulse; // cost per unit of extra usage

    public static boolean dataEnable;
    public static boolean dataNotify;
    public static int dataUpdate;
    public static int dataReset; // sec
    public static Calendar dataResetCal;
    public static long dataUnits;
    public static long dataLimit;

    String dummy = "";

    public Settings() {
        // TODO Auto-generated constructor stub
    }

    public void setManualycallResetCal(long time)
    {   
        //
        Preference calPrefCal = findPreference("callReset");
        callResetCal.setTimeInMillis(time);

        Date d = new Date(time);
        SimpleDateFormat simpleDateFormat = new SimpleDateFormat();
        simpleDateFormat.setTimeZone(TimeZone.getTimeZone("GMT"));

        StringBuilder sumValue = new StringBuilder("Since :");
        sumValue.append(simpleDateFormat.format(d));
        calPrefCal.setSummary( sumValue.toString() );

        prefs = Settings.this.getSharedPreferences("Prefs_Name", 
                MODE_WORLD_READABLE);
        edit = prefs.edit();
        edit.putString("calDate", sumValue.toString() );
        edit.commit();

        edit = prefs.edit();
        edit.putString("calDate", sumValue.toString() );
        edit.commit();
    }

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        // TODO Auto-generated method stub
        super.onCreate(savedInstanceState);
        addPreferencesFromResource(R.xml.settings);

        prefs = PreferenceManager.getDefaultSharedPreferences(this);
        Preference calPrefCal = findPreference("callReset");

        // set defaults to class variable   
        // array list stores in string format .. seems getInt cant parse

        // call

        callEnable = prefs.getBoolean("callEnable", false);
        //Log.d("callEnable","" + callEnable);

        callNotify = prefs.getBoolean("callNotify", false);
        //Log.d("notify","" + callNotify);

        dummy = prefs.getString("callUpdate", "0");
        callUpdate = Integer.parseInt(dummy);
        //Log.d("callUpdate","" + callUpdate);

        dummy = prefs.getString("callReset", "0");
        callReset = Integer.parseInt(dummy);
        //Log.d("callReset","" + callReset);

        callResetCal = Calendar.getInstance();

            if(prefs.getString("calDate", "0").equals("0")) // no pref with name calDate
            {
                Calendar cMain = Calendar.getInstance();
                cMain.setTimeInMillis(0);
                cMain.set(Calendar.DATE, callResetCal.get(Calendar.DATE));
                cMain.set(Calendar.MONTH, callResetCal.get(Calendar.MONTH));
                cMain.set(Calendar.YEAR, callResetCal.get(Calendar.YEAR));

                // set since
                callResetCal.setTimeInMillis(cMain.getTimeInMillis());

                // to print create date
                Date d = new Date(cMain.getTimeInMillis());
                SimpleDateFormat simpleDateFormat = new SimpleDateFormat();
                simpleDateFormat.setTimeZone(TimeZone.getTimeZone("GMT"));

                StringBuilder sumValue = new StringBuilder("Since :");
                sumValue.append(simpleDateFormat.format(d));
                calPrefCal.setSummary( sumValue.toString() );

                edit = prefs.edit();
                edit.putString("calDate", sumValue.toString() );
                edit.commit();
            } // else set summary as of pref 
            else
            {
                calPrefCal.setSummary(prefs.getString("calDate", "0"));
            }

        dummy = prefs.getString("callUnits", "0");
        callUnits = Integer.parseInt(dummy);

        //Toast toast = Toast.makeText(getApplicationContext(), "" + dummy , Toast.LENGTH_SHORT);
        //toast.show();

        //Log.d("callUnits","" + callUnits);

        dummy = prefs.getString("callLimit", "0");
        callLimit = Integer.parseInt(dummy);
        //Log.d("callLimit","" + callLimit);

        // data

            dataEnable = prefs.getBoolean("dataEnable", false);

            dataNotify = prefs.getBoolean("dataNotify", false);

            dummy = prefs.getString("dataUpdate", "0");
            dataUpdate = Integer.parseInt(dummy);

            dummy = prefs.getString("dataReset", "0");
            dataReset = Integer.parseInt(dummy);

            dummy = prefs.getString("dataUnits", "0");
            dataUnits = Long.parseLong(dummy);

            dummy = prefs.getString("dataLimit", "0");
            dataLimit = Long.parseLong(dummy);

        // end

        // preference onChange listener

        listener = new SharedPreferences.OnSharedPreferenceChangeListener() {
              public void onSharedPreferenceChanged(SharedPreferences prefs, String key) {

                  //DEBUGGING ONLY

                  Toast toast = Toast.makeText(getApplicationContext(), "preferenceUpdate:DEBUG_ONLY", Toast.LENGTH_SHORT);
                  toast.show();

                    if(key.equals("callEnable"))
                    {
                        callEnable = prefs.getBoolean(key, false);
                    }
                    else if(key.equals("callNotify"))
                    {
                        callNotify = prefs.getBoolean(key, false);                      
                    }
                    else if(key.equals("callUpdate"))
                    {
                        dummy = prefs.getString(key, "0" );
                        callUpdate = Integer.parseInt(dummy);
                    }
                    else if(key.equals("callReset"))
                    {
                        Preference calPrefCal = findPreference(key);
                        dummy = prefs.getString(key, "0" );
                        callReset = Integer.parseInt(dummy);
                        callResetCal = Calendar.getInstance(); 

                        Calendar cMain = Calendar.getInstance();
                        cMain.setTimeInMillis(0);
                        cMain.set(Calendar.DATE, callResetCal.get(Calendar.DATE));
                        cMain.set(Calendar.MONTH, callResetCal.get(Calendar.MONTH));
                        cMain.set(Calendar.YEAR, callResetCal.get(Calendar.YEAR));
                        callResetCal.setTimeInMillis(cMain.getTimeInMillis());

                        // to print create date
                        Date d = new Date(cMain.getTimeInMillis());

                        SimpleDateFormat simpleDateFormat = new SimpleDateFormat();
                        simpleDateFormat.setTimeZone(TimeZone.getTimeZone("GMT"));

                        StringBuilder sumValue = new StringBuilder("Since :");
                        sumValue.append(simpleDateFormat.format(d));
                        calPrefCal.setSummary( sumValue.toString() );

                        edit = prefs.edit();
                        edit.putString("calDate", sumValue.toString() );
                        edit.commit();
                    }
                    else if(key.equals("callUnits"))
                    {
                        dummy = prefs.getString(key, "0" );
                        callUnits = Integer.parseInt(dummy);
                    }
                    else if(key.equals("callLimit"))
                    {                       
                        dummy = prefs.getString(key, "0" );
                        callLimit = Integer.parseInt(dummy);
                    }

                    // data

                    else if(key.equals("dataEnable"))
                    {
                        dataEnable = prefs.getBoolean(key, false);
                    }
                    else if(key.equals("dataNotify"))
                    {
                        dataNotify = prefs.getBoolean(key, false);                      
                    }
                    else if(key.equals("dataUpdate"))
                    {
                        dummy = prefs.getString(key, "0" );
                        dataUpdate = Integer.parseInt(dummy);
                    }
                    else if(key.equals("dataReset"))
                    {
                        dummy = prefs.getString(key, "0" );
                        dataReset = Integer.parseInt(dummy);
                        dataResetCal = Calendar.getInstance(); 
                    }
                    else if(key.equals("dataUnits"))
                    {
                        dummy = prefs.getString(key, "0" );
                        dataUnits = Long.parseLong(dummy);
                    }
                    else if(key.equals("dataLimit"))
                    {                       
                        dummy = prefs.getString(key, "0" );
                        dataLimit = Long.parseLong(dummy);
                    }

              } // end of 
        }; // end of 
        prefs.registerOnSharedPreferenceChangeListener(listener);

    }

} 
```

# c# - 为 Windows XP x86 编译程序

> ID：15323795
> 
> 赞同：1
> 
> 时间：2013-03-10T15:18:17.280
> 
> 标签：c#, visual-studio, build, x86

我在 Windows 8 计算机 (x64) 上使用 VS2012 编写了一个 Windows 窗体应用程序，我希望它在 Windows XP x86 上运行。当我尝试运行该程序时，我收到错误“...不是有效的 Windows 32 应用程序”。我该如何解决？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-10T15:28:47.180

*   右键单击解决方案资源管理器上的项目名称。
*   选择属性
*   选择构建选项卡
*   为平台目标 DropDownList 选择 x86 选项
*   保存并构建项目

还要确保您将 .Net Framework 版本定位为与测试机中存在的版本相同的版本。

如果您正在构建 C++ 项目，请尝试以下操作：

> 常规 -> 平台工具集 -> Visual Studio 2012 -> Windows XP (v110_xp)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-10T15:44:37.877

最好将目标选择为 Any CPU 。

当您选择 Any CPU 选项时，编译器将决定如何调用程序（x86 或 x64），同时选择 Any CPU 平台。

![在此处输入图像描述](../Images/dcac857f46af5736fb005aecfb4b22fa.png)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-10T15:24:14.910

考虑到较少的信息，也许很遥远。

您应该将编译目标从

```
Project->Application Properties->Compile 

Set Target CPU to x86 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-03-10T15:37:39.313

听起来您可能会遇到与 Visual Studio 2012 中针对 C++ 的 Windows XP 目标相关的问题。Visual Studio 2012 Update 1 中添加了对具有 C++ 目标的 Windows XP 的支持，但仍必须在项目属性中明确选择。

[在 Visual Studio 2012 中使用 C++ 进行 Windows XP 定位](http://blogs.msdn.com/b/vcblog/archive/2012/10/08/10357555.aspx)

上述链接中有大量附加信息，但您在 C++ 项目属性中查找的具体设置是常规 → 平台工具集 → **Visual Studio 2012 - Windows XP (v110_xp)**

# wpf - 替换 WPF 渲染管道

> ID：15323796
> 
> 赞同：1
> 
> 时间：2013-03-10T15:18:36.163
> 
> 标签：wpf, performance, culling

WPF 在渲染期间似乎没有传达可见性信息，因此它没有剔除，因此性能可能很糟糕。所以我对绕过 WPF 的正常渲染管道以用更高效的渲染管道替换它的想法很感兴趣。

例如，给定一个包含控件网格的滚动查看器，我想预先计算网格中控件的位置，以便在给定滚动查看器中的可见区域的情况下仅呈现潜在的可见控件。因此，我将滚动查看器的渲染器替换为传递该可见性信息的渲染器，然后将网格的渲染器替换为使用该可见性信息来剔除完全位于可见区域之外的控件的渲染器。

这可能吗？如果可以，如何实现？

# java - Java中的覆盖方法

> ID：15323797
> 
> 赞同：0
> 
> 时间：2013-03-10T15:18:36.180
> 
> 标签：java, overriding

我正在尝试从“Operatii”类中执行一个方法。该方法写在“PolinomIntreg”类中。问题是，在执行时，程序会转到没有代码的覆盖方法，而不是代码所在的方法。

我该怎么做才能让程序转到有代码的那个？

PolinomIntreg 类：

```
import java.util.Scanner;

public class PolinomIntreg<INTEGER> implements IPolinom<INTEGER> {

int grad1, grad2, x, i;
double val = 0;

int[] pol1 = new int[100];
int[] pol2 = new int[100];
int[] pol3 = new int[200];

public void grad(int grad1, int grad2){

    System.out.println("Introduceti gradele celor doua polinoame: ");
    Scanner in = new Scanner(System.in);
    this.grad1 = in.nextInt();
    this.grad2 = in.nextInt();

}

public void coef(int pol1[], int pol2[], int grad1, int grad2){

    System.out.println("Introduceti coeficientii reali ai primului polinom: ");

    for(i = 0; i < this.grad1; i++)
    {
        Scanner in = new Scanner(System.in);
        pol1[i] = in.nextInt();
    }

    System.out.println("Introduceti coeificientii reali ai celui de al doilea polinom: ");

    for(i = 0; i < this.grad2; i++)
    {
        Scanner in = new Scanner(System.in);
        pol2[i] = in.nextInt();
    }
}

public void add(int pol1[], int pol2[], int grad1, int grad2){

    if(this.grad1 > this.grad2)
    {
        for(i = 0; i < this.grad1 ; i++)
            pol1[i] = pol2[i] + pol1[i];
    }
    else
        for(i = 0; i < this.grad2 ; i++)
            pol2[i] = pol2[i] + pol1[i];
}

public void substract(int pol1[], int pol2[], int grad1, int grad2){

    if(this.grad1 > this.grad2)
    {
        for(i = 0; i < this.grad1 ; i++)
            pol1[i] = pol2[i] - pol1[i];
        afisare(pol1,this.grad1);
    }
    else
        for(i = 0; i < this.grad2 ; i++)
            pol2[i] = pol2[i] - pol1[i];
        afisare(pol2,this.grad2);

}

public void value(int pol1[], int grad1){

    System.out.println("Introduceti o valoare pentru x: ");
    Scanner in = new Scanner(System.in);
    x = in.nextInt();

    for( i = 0; i < this.grad1; i++)
        val = val + pol1[i] * Math.pow(x,i);

    System.out.println("Valoarea polinomului in punctul" + x + " este " + val);
}

public void afisare(int pol1[], int grad1){

    for(i = grad1 - 1; i >= 0; i--)
        System.out.println(pol1[i] + "^" + i + "+ ");
}

public void multiply(int pol1[], int pol2[], int grad1, int grad2){

    int j = 0;

    for ( i = 0; i < this.grad1 ; i++)
        for (j = 0; j < this.grad2 ; j++)
        {
            pol3[i+j] = pol3[i+j] + pol1[i] + pol2[j]; 
        }
}

@Override
public void add(INTEGER[] pol1, INTEGER[] pol2, INTEGER grad1, INTEGER grad2) {
    // TODO Auto-generated method stub

}

@Override
public void value(INTEGER[] pol1, INTEGER grad1) {
    // TODO Auto-generated method stub

}

@Override
public void multiply(INTEGER[] pol1, INTEGER[] pol2, INTEGER[] pol3,
        INTEGER grad1, INTEGER grad2, INTEGER grad3) {
    // TODO Auto-generated method stub

}

@Override
public void grad(INTEGER grad1, INTEGER grad2) {

}

@Override
public void coef(INTEGER[] pol1, INTEGER[] pol2, INTEGER grad1,
        INTEGER grad2) {
    // TODO Auto-generated method stub

}

@Override
public void afisare(INTEGER[] pol1, INTEGER grad1) {
    // TODO Auto-generated method stub

}

@Override
public void substract(INTEGER[] pol1, INTEGER[] pol2, INTEGER grad1,
        INTEGER grad2) {
    // TODO Auto-generated method stub

}

} 
```

操作类：

```
import java.util.Scanner;

public class Operatii {

static Integer[] pol1 = new Integer[100];
static Integer[] pol2 = new Integer[100];
static Integer[] pol3 = new Integer[200];
static public Integer grad1, grad2,grad3, x, i;

static Float[] pol11 = new Float[100];
static Float[] pol21 = new Float[100];
static Float[] pol31 = new Float[200]; 
    static Float grad11, grad21, grad31;
Float x1;

public static void main(String args[]){

    IPolinom<Integer> poli = new PolinomIntreg<>();
    IPolinom<Float> polr = new PolinomReal<>();

    System.out.println("Apasati 1 pentru operatii cu polinoame cu coef reali");
    System.out.println("Apasati 0 pentru operatii cu polinoame cu coef intregi");

    Scanner in = new Scanner(System.in);
    int meniu = in.nextInt();

    if( meniu == 0){

    poli.grad(grad1, grad2);
    poli.coef(pol1, pol2, grad1, grad2);
    poli.add(pol1, pol2, grad1, grad2);
    //poli.multiply(pol1, pol2, pol3, grad1, grad2, grad3);
    //poli.value(pol1, grad1);
    //poli.afisare(pol1, grad1);
    //poli.afisare(pol2, grad2);

            }

    else if ( meniu == 1 ){
        polr.grad(grad11, grad21);
        polr.coef(pol11, pol21, grad11, grad21);
        polr.add(pol11, pol21, grad11, grad21);
        polr.multiply(pol11, pol21, pol31, grad11, grad21, grad31);
        polr.value(pol11, grad11);
        polr.afisare(pol11, grad11);
        polr.afisare(pol21, grad21);
    }

    else System.out.println("Eroare introducere optiune! ");

}

} 
```

IPolinom 是一个接口。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-10T15:24:59.033

如果我正确理解了您的问题，如果您尝试调用 add 方法，那么您将尝试调用最后具有“整数”变量的 add 方法，因此如果您将 grad 变量声明为“int”类型然后它将转到具有代码的方法。

所以更准确地说：

```
 poli.add(pol1, pol2, grad1, grad2);  here grad1 and grad2 are type of Integer. Declare grad1 and grad2 to be int then the add method which has code will be called. 
```

像这样声明 grad1 和 grad2

```
 int grad1, grad2; 
```

更新：

还将 pol1 和 pol2 的类型更改为 int 类型

```
 static int[] pol1 = new int[100];
   static int[] pol2 = new int[100]; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-10T15:25:56.197

**您没有覆盖方法**。为了覆盖，您需要使用**确切的**签名（您使用`int`而不是`Integer`）。我建议您将所有代码复制到“没有代码的方法”（或自动生成的方法）中，并删除您的非覆盖方法。

顺便说一句，这是使用注释**强制的最终论据。`@Override`**如果您尝试添加它 - 您会看到您的代码没有覆盖任何方法。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-10T15:27:29.913

从您的代码中，您似乎`INTEGER`在签名中有一些方法，而在其他方法中`int`，例如

```
public void afisare(int pol1[], int grad1){

}

@Override
public void afisare(INTEGER[] pol1, INTEGER grad1) {
    // TODO Auto-generated method stub

} 
```

您编写的方法具有`int`签名，而 的方法`Interface`具有`INTEGER`签名。您并没有覆盖您只是编写不同方法的方法。

将您的实现代码移动到具有正确签名的方法中。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-03-10T15:30:11.813

```
public void value(int pol1[], int grad1) 
```

和

```
public void value(INTEGER[] pol1, INTEGER grad1) 
```

是不同的 。您正在调用`public void value(INTEGER[] pol1, INTEGER grad1)`它没有实现。

# php - 默认值不粘在mysql中

> ID：15323798
> 
> 赞同：4
> 
> 时间：2013-03-10T15:18:40.047
> 
> 标签：php, mysql, conditional-statements

我`IsTrial`在 MySQL 中有这个字段，类型`bit(1)`为`NULL set to No`and`default value of 0`

![在此处输入图像描述](../Images/32c0a88f2e531e221a7949e4bab0f7e2.png)

现在这个条件：

```
if(!empty($subscription['IsTrial']) && (bool)$subscription['IsTrial'] == TRUE ) 
{ 
    echo ' (Trial)'; 
} 
```

..结果总是这样`true`，因为mysql实际上并没有设置默认值`0`，它使字段保持空白？？为了使上述条件起作用，我必须将 MYSQL 中的默认值设置为`0`to `null`，但我不想这样做。

我真的很困惑这里发生了什么，为什么`0`不设置默认值并且该字段保持空白？

重申一下，问题是，**当没有手动指定值时****，mysql不会将字段保存为默认值，它会将字段保留为空白，从而导致条件失败。`0`**

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-03-10T15:42:08.787

该字段不为空。它的**二进制**值是 0。

您没有将默认值定义为`0`，即 ASCII 码为 48 的字符。您将默认值定义为二进制值 0，即`nul`ASCII 字符。当您尝试将 ASCII nul 打印为字符串时，没有可见的表示。同样，值`1`是二进制值 1，或 Control-A，它也不是打印字符。

```
mysql> create table t (isTrial bit(1) not null default 0);

mysql> insert into t () values ();
mysql> insert into t (isTrial) values (DEFAULT);
mysql> insert into t (isTrial) values (0);
mysql> insert into t (isTrial) values (1);
Query OK, 2 rows affected (0.00 sec)
Records: 2  Duplicates: 0  Warnings: 0

mysql> select * from t;
+---------+
| isTrial |
+---------+
|         |
|         |
|         |
|        |
+---------+

mysql> pager cat -v
PAGER set to 'cat -v'
mysql> select * from t;
+---------+
| isTrial |
+---------+
|         |
|         |
|         |
| ^A       |
+---------+ 
```

但是 PHP 做了大多数用户可能想要的事情，即将这些 BIT 值分别映射到**字符串**值“0”和“1”。这是一些测试代码（使用 PHP 5.3.15，MySQL 5.5.30）：

```
$stmt = $dbh->prepare("select isTrial from t");
$result = $stmt->execute();
while ($row = $stmt->fetch(PDO::FETCH_ASSOC)) {
    var_dump($row);
    if(!empty($row['isTrial']) && (bool)$row['isTrial'] == TRUE ) 
    { 
        echo "isTrial is true\n";
    } else {
        echo "isTrial is false\n";
    }
    echo "\n";
} 
```

输出：

```
$ php bit.php
array(1) {
  ["isTrial"]=>
  string(1) "0"
}
isTrial is false

array(1) {
  ["isTrial"]=>
  string(1) "0"
}
isTrial is false

array(1) {
  ["isTrial"]=>
  string(1) "0"
}
isTrial is false

array(1) {
  ["isTrial"]=>
  string(1) "1"
}
isTrial is true 
```

* * *

回复您的评论：

使用 BIT(1) 对 PHP 来说应该可以正常工作，但是当我们直接在查询工具中查看数据时会引起混乱。如果想让数据更清晰，可以使用 TINYINT。另一种选择是 CHAR(1) CHARACTER SET ASCII。两者都需要 1 个字节来存储。

BIT(1) 的唯一优点是它拒绝除 0 或 1 之外的任何值。但无论如何，这种数据类型的存储要求最多为 1 个字节。

# c - 如何防止在初始化数组时过度使用程序堆栈内存？

> ID：15323802
> 
> 赞同：-1
> 
> 时间：2013-03-10T15:18:54.393
> 
> 标签：c, memory, memory-management, memory-leaks

```
#include<stdio.h>    
int main(){
  scanf("%d",&Testcase)
  while(Testcase--){
  int a[100000] = {0};

  /* Other statements */

  }
} 
```

在上面的程序中，对于每个 Testcase，程序分配 100000*sizeof(int) 字节的内存。但在 codechef 中，我们可以使用的最大内存约为 10 MB。那么，有没有什么优化的方法来减少内存使用呢？

PS我尝试将其声明为全局变量。但问题是，在每个测试用例之后，旧的测试用例值会干扰新的测试用例值。

另外，我尝试在每个测试用例之后使用 for 循环重新初始化整个数组，值为 0。但这需要很长时间，超过了 3 秒的时间要求。

我要解决的问题是[http://www.codechef.com/MARCH13/problems/FIRESC](http://www.codechef.com/MARCH13/problems/FIRESC)

编辑：允许的总内存限制实际上约为 10 MB

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-10T15:20:14.207

如果您将数组声明为全局变量，它将被分配到`.bss`再次不是非常优化的部分中。如果您希望分配大部分内存，`malloc`则将是您在`heap`部分中分配内存的首选方式。

# python - 如何在python中编写一个超时的AI函数

> ID：15323805
> 
> 赞同：0
> 
> 时间：2013-03-10T15:19:13.093
> 
> 标签：python, artificial-intelligence, signals, multiprocessing, pygame

**语境**

我正在为 python 中的确定性两人游戏编写 AI。我希望编写一个函数，它将超时值作为其参数之一，并在超时后不久返回一个动作。该函数搜索（negamax 或类似的）直到超时，然后返回它可以找到的最佳移动。

**规格**

*   无论以何种方式或何时导致该函数返回，该函数都应返回一个有效的移动。
*   该函数可能会在超时后返回一点，只要这对用户来说是不明显的（约 100 毫秒）。
*   如果自定义 AI_INTERRUPT 事件被放置在 pygame 事件队列中，该函数应该返回。（这样不耐烦的用户就可以强制电脑玩了）。

**建议实施**

我想我知道如何实现这一点，但我在网上发现了很多相互矛盾的建议（主要是针对与这个不太一样的问题）。我也担心我过度设计了一些东西。因此，我在问这个实施建议是否明智，或者您是否推荐其他东西。

我正在考虑将我的 AI 算法编写为一个生成器，以不断产生更好的动作。收益率之间的时间延迟可能很长，但第一次收益率几乎是立竿见影的。

然后我会在一个子进程中调用这个生成器，并让它将产量值输入管道。

然后主进程将在以下循环中运行：

*   轮询管道。如果产生了新值，则将其存储。
*   检查时间。如果已超过超时，则返回最新值。
*   检查 AI_INTERRUPT 事件，如果找到则返回最新值。
*   根据需要处理其他 pygame 事件

我正在使用 Python 3 和 pygame。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-10T15:24:16.230

您可以使用包装您的 negamax 方法的[超时线程。](https://stackoverflow.com/questions/492519/timeout-on-a-python-function-call)

该方法将使用迄今为止的最佳解决方案更新共享数据结构。共享数据结构可以简单地是您传递给您的 negamax 方法的列表。当超时发生时，调用者将从列表中读取解决方案。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-10T15:25:19.393

如果你在 UNIX 上工作，你可以使用信号库来实现一个超时功能：[超时功能，如果它需要太长时间才能完成](https://stackoverflow.com/questions/2281850/timeout-function-if-it-takes-too-long-to-finish)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-10T16:41:49.337

由于您已经在使用 pygame，请使用：

```
def foo(duration):
    # time as MS
    start = pygame.time.get_ticks()
    while True:
        now = pygame.time.get_ticks()
        if now - start >= duration:
            return

        # do stuff 
```

或以下两个功能之一：

[pygame.time.wait](http://www.pygame.org/docs/ref/time.html#pygame.time.wait)或[pygame.time.delay](http://www.pygame.org/docs/ref/time.html#pygame.time.wait)

你可以制作一个稍微复杂一点的版本，它仍然可以让你的主循环继续。但是，如果您的显示器没有在短时间内更新，那可能是矫枉过正。

# .net - 将软件发布到服务器

> ID：15323807
> 
> 赞同：0
> 
> 时间：2013-03-10T15:19:41.430
> 
> 标签：.net, visual-studio-2012, publishing

我有一个 Windows VPS，我想用它来托管我的 .NET 软件项目的应用程序文件。这样我就可以在 Visual Studio 2012（高级版）中检查“应用程序应检查更新”的方便选项。

然而，让它发挥作用是一场噩梦。

我需要填写 2 个字段：

![在此处输入图像描述](../Images/5cd5d94e387dc4480f8c355d3860a13c.png)

我的问题是，每个外观设置是什么，我的网络服务器应该如何设置？

我假设发布文件夹（红色）可以指向一个 FTP 站点，因此，由于我使用的是 FileZilla，我不需要在我的 VPS 上配置 IIS。

然后我有安装文件夹（蓝色）。我假设这必须是一个可解析的 URL，因此需要在 IIS 中配置并通过简单地将这个值复制到浏览器中进行测试。

我对这两个值的假设是否正确？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-10T16:00:32.813

发布文件夹应指向服务器上的任何 ftp 位置，您可以将代码复制/发布到该位置，安装文件夹是安装/发布网站的位置，可以通过 url 访问，您需要在 IIS 中设置网站，它应该是可解析的

[在此处](https://stackoverflow.com/questions/2639910/clickonce-publishing-folder-vs-installation-folder)查看此 SO 线程以获取更多详细信息

# tomcat7 - 请求的资源在 tomcat 7 中不可用

> ID：15323811
> 
> 赞同：0
> 
> 时间：2013-03-10T15:20:06.927
> 
> 标签：tomcat7

我已经创建了一个基于 spring mvc 的 Web 应用程序部署后，在 Tomcat 管理器中显示了该应用程序，并且它已成功部署。但是当我访问 Web 应用程序时，它给了我一个错误，说请求的资源不可用。到目前为止，在日志文件中没有错误。请帮忙。

问候， 施鲁蒂

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-10T15:30:00.043

当您使用 Spring MVC 时，

您的项目中应该有 SpringController。

所以在你的每个控制器中 -

对于每种方法都应该有

一部分`@RequestMapping(value = "/login", method = RequestMethod.GET)`。

所以你的应用程序网址应该是这样的 -

```
<<web server address>>/<your deployed war file name>/<The Request mapping url> 
```

IE

就像是 -

```
http://localhost:8080/samplewebproject/login 
```

这将为您提供所请求的资源。

# codeigniter - CSS background-image url 未显示在浏览器中，但显示在设计视图中

> ID：15323816
> 
> 赞同：0
> 
> 时间：2013-03-10T15:20:10.117
> 
> 标签：codeigniter, dreamweaver

我刚刚开始使用dreamweaver，我遇到了这个奇怪的问题（我使用**codeigniter**框架）：

我将此代码放在我的 CSS 选择器之一中（网址由 Dreamweaver 的**浏览**功能自动生成）：

```
background-image: url(../images/main.jpg); 
```

此图像在设计视图（dreamweaver）中完美显示，但未在真实浏览器中显示（我使用最新的 Google Chrome）。

我尝试使用以下代码手动浏览图像：

```
background-image: url(http://localhost/ci_latihan_dreamweaver/images/main.jpg); 
```

但结果是一样的。

我该怎么办？谢谢 :D

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-10T17:46:50.620

试试这个，它会工作

```
 background-image: url(../../images/main.jpg); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-15T02:11:13.867

我们只需在 Dreamweaver（从 Dreamweaver 运行站点）中按**f12 。**Dreamweaver 将生成一个不使用的链接`localhost`，并且图像和 css 可以完美运行：D

# cakephp - 我如何在多对多关联中获取用户数据

> ID：15323818
> 
> 赞同：0
> 
> 时间：2013-03-10T15:20:15.533
> 
> 标签：cakephp, cakephp-2.0, cakephp-model

我对 CakePHP 有疑问。我测试了很多方法，但找不到解决方案。我有这些表：

**用户**

```
id
name
country_code 
```

**国家**

```
code
title 
```

**技能**

```
code
title 
```

**角色**

```
id
title 
```

**事件**

```
id
title
country_code 
```

**events_users**

```
event_id
user_id
role_id
skill_code 
```

* * *

events hasAndBelongsToMany users 和 events_users 是我的联接表，当我读取数据时，它给了我这样的信息：

```
array(
    (int) 0 => array(
        'Event' => array(
            'id' => '1',
            'title' => '40th WorldSkills Competitions',
            'year' => '2011',
            'country_code' => 'LV',
            'created' => '2013-02-08 00:00:00'
        ),
        'User' => array(
            (int) 0 => array(
                'password' => '*****',
                'id' => '14',
                'name' => 'test',
                'family' => 'testian',
                'username' => 'test@mail.me',
                'country_code' => 'BR',
                'telphone' => '465465',
                'avatar' => 'avatar_51299c1da268f20110912043238_rodekamp_04.jpg',
                'address' => 'AA',
                'admin' => '0',
                'created' => '2013-02-24 05:50:37',
                'modified' => '2013-02-24 05:50:37',
                'EventsUser' => array(
                    'id' => '1',
                    'user_id' => '14',
                    'event_id' => '1',
                    'role_id' => '1',
                    'skill_code' => '17',
                    'manage' => '100'
                )
            ),
            (int) 1 => array(
                'password' => '*****',
                'id' => '5',
                'name' => 'John',
                'family' => 'Smith',
                'username' => 'john@me.com',
                'country_code' => 'IE',
                'telphone' => '147',
                'avatar' => '20120504124040_franziska_peter_ok.jpg',
                'address' => 'No 55',
                'admin' => '0',
                'created' => '2013-02-10 15:24:13',
                'modified' => '2013-02-10 15:28:50',
                'EventsUser' => array(
                    'id' => '2',
                    'user_id' => '5',
                    'event_id' => '1',
                    'role_id' => '2',
                    'skill_code' => '17',
                    'manage' => '0'
                )
            ),
            (int) 2 => array(
                'password' => '*****',
                'id' => '4',
                'name' => 'hadi',
                'family' => 'mm',
                'username' => 'design.zerzem@gmail.com',
                'country_code' => 'AE',
                'telphone' => '415456',
                'avatar' => '',
                'address' => 'sadjfklsaf asd f',
                'admin' => '0',
                'created' => '2013-02-10 09:01:28',
                'modified' => '2013-02-24 06:43:42',
                'EventsUser' => array(
                    'id' => '3',
                    'user_id' => '4',
                    'event_id' => '1',
                    'role_id' => '4',
                    'skill_code' => '17',
                    'manage' => '0'
                )
            )
) 
```

没关系，但是使用 events_users 我想获取有关 events_users 中的技能和角色的数据（skill_code 和 role_id）。我应该如何创建模型来提供所有这些数据？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-10T15:35:30.940

我认为阅读[“hasMany Through”](http://book.cakephp.org/2.0/en/models/associations-linking-models-together.html#hasmany-through-the-join-model)应该可以回答您的问题。

基本上，你为你的连接表创建一个模型，然后你可以像任何其他模型一样关联它。

当您去检索您的数据时，请使用[CakePHP 的 Containable 行为](http://book.cakephp.org/2.0/en/core-libraries/behaviors/containable.html)（如果您以前没有使用过它，请准备好沉迷于它）。

# ruby - Active Admin has_many 动态表单

> ID：15323820
> 
> 赞同：0
> 
> 时间：2013-03-10T15:20:20.423
> 
> 标签：ruby, ruby-on-rails-3, activeadmin

如何为 Active Admin 设置 has_many 关系？

我有几个模型：

```
Category <--->> Case <--->> Question <--->> Answer
                     <--->> Key 
```

在 Active Admin 上找不到任何可以指出如何为 has_many 关系创建嵌套表单的文档。

谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-10T17:05:18.680

设法使用`form`方法完成此任务，但是知道是否存在任何自动解决方案（如 django admin）会很有趣:)

```
ActiveAdmin.register Case do
  menu :priority => 3

  index do
    selectable_column
    column :id
    column :title do |test_case|
      link_to test_case.title, [:admin, test_case]
    end
    column :category
    default_actions
  end

  form do |f|
    f.inputs "Details" do
      f.input :category
      f.input :title
    end

    f.inputs "Questions" do
      f.has_many :questions do |question_f|
        question_f.input :body

        question_f.inputs "Answers" do
          question_f.has_many :answers do |answer_f|
            answer_f.input :body
          end
        end

      end
    end

    f.inputs "Keys" do
      f.has_many :keys do |key_f|
        key_f.input :prevalent_answer
        key_f.input :body
      end
    end

    f.buttons
  end
end 
```

# windows-7 - CMake 生成的 Makefile：“make ”在 shell 内反复打开 shell

ID：15323821

赞同：1

时间：2013-03-10T15:20:22.613

标签：windows-7, cmake, mingw32

# jquery - 在 html/jscript 中使用事件对象共享变量

> ID：15323822
> 
> 赞同：0
> 
> 时间：2013-03-10T15:20:33.577
> 
> 标签：jquery

我有两个功能如下。当我不允许修改底部函数时，有没有办法使用“e”访问顶部函数中的变量“result”？在这里，“添加”事件由按钮单击自动触发。

```
elem.addEventListener('add',function (e) {
    // need to do something with the variable "result"      
},true);

$(#myButton).click(function(evt) {
       var result = myFunction();
       if (result != null) {
       doSomething();
    }
}); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-10T15:30:51.097

首先是 javascript 还是 jQuery？大声笑只是 javascript 这样做：
请注意 javascript 事件侦听器正在寻找添加事件而不是点击。

```
elem.addEventListener('click',function(e) {
    var result=myFunction();
    if(result!==NULL)doSomething(); 
},true); 
```

使用 jQuery 库：

```
$('#myButton').click(function() {
       var result=myFunction();
       if(result!==NULL)doSomething();
}); 
```

使用参数传递变量：

```
var variable=2;//send an int
myFunction(variable);
myFunction('send a string');
variable===true;//send a boolean
myFunction(variable); 

myFunction(passedOver){
    console.log(passedOver);
} 
```

# html - 在不使用缓存清单的情况下为离线模式保存图像

> ID：15323824
> 
> 赞同：0
> 
> 时间：2013-03-10T15:20:42.460
> 
> 标签：html

我正在构建一个 HTML5 食谱应用程序。当用户浏览食谱时，他们应该能够将食谱保存为收藏夹以供离线浏览。这意味着还要在食谱中保存一个照片库。

鉴于我无法提前知道用户将选择哪个配方，我无法将适当的图像添加到缓存清单中。我最好的选择是什么？如果必须，我会使用 WebSQL，但我会明智地使用它，因为它总有一天会被替换。有没有我可以采用的策略来利用本地存储？有人知道一个例子吗？

谢谢！

克里斯

# internet-explorer - IE 将锚名称 # 嵌入标题

> ID：15323826
> 
> 赞同：1
> 
> 时间：2013-03-10T15:20:44.987
> 
> 标签：internet-explorer, embed, anchor, title

# 问题

IE 8 将锚名称嵌入到标题中。在下图中，我们可以看到它嵌入了#home 锚点

Chrome 或 Firefox 不会发生这种情况

![错误图像](../Images/3b8303263ed33f65369d88615949aaa9.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-10T15:55:54.387

是的，添加

```
<script type="text/javascript">
// <![CDATA[
 window.onload = function()
 {
  document.title = "My Website Title";
 }
// ]]>
</script> 
```

到页面底部 - 就在之前`</body>`！

# asp.net - PlaceHolder vs Literal 用于添加运行时生成的 HTML 标记

> ID：15323838
> 
> 赞同：11
> 
> 时间：2013-03-10T15:22:08.377
> 
> 标签：asp.net, asp.net-controls, asp.net-placeholder, asp-literal

这个问题指出了[Literal vs Label](https://stackoverflow.com/questions/3309398/asp-net-literal-vs-label)而这个问题指出了[Panel VS。PlaceHolder](https://stackoverflow.com/questions/483352/asp-net-panel-vs-placeholder)但就在今天，我正在与我的同事讨论使用**PlacHolder 与 Literal**来添加在运行时生成的 HTML 标记。这两个控件都不会产生任何额外的标记，但我们正在寻找合适的控件来动态添加生成的标记。这个[问题的答案](https://stackoverflow.com/a/2071255/14118)建议使用两者来添加生成的标记，所以我想知道我们应该使用哪种控制/方法来添加生成的标记，仅此而已。

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2013-03-10T15:47:50.250

既不渲染自己的任何标记（这可能是一件非常好的事情）。但是，a`Placeholder`可以包含子控件，而 a`Literal`不能。

相比之下，a`Placeholder`可以包含其他控件，但没有`Text`属性。

> 我想知道我们应该使用哪种控制/方法来添加生成的标记，仅此而已。

如果“生成”是指最终结果是一个字符串，我会使用`Literal`. 如果要生成控件树，则将这些控件附加到`Placeholder`.

或者，如果您想完全省略服务器控件的声明：

```
<h2>Hello World</h2>
<p>The following is generated markup.</p>
<%= base.GetGeneratedMarkup() %> 
```

我相信 a`Literal`仍然在后台生成，但它允许您将生成的内容与页面/控件的标记部分混合（类似于 Razor）。

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2013-03-10T16:06:31.043

```
PlaceHolder vs Literal for adding HTML 
```

主要的不同是 Literal 控件具有`Text`也保存在 Viewstate 上的属性（和 Mode），`PlaceHolder`完全是空的。

所以你可以使用**Literal 控件直接添加一些字符串 html 代码**，并且可以使用**PlaceHolder 添加一些其他控件**但不添加任何直接 html 代码。

# html - 在图像上放置一个 div

> ID：15323840
> 
> 赞同：0
> 
> 时间：2013-03-10T15:22:45.287
> 
> 标签：html

我想在图像上放置一个 div。截至目前，我想我希望它位于图像的左上角。这需要与不同屏幕尺寸上的视图兼容，所以我认为绝对定位的 div 不起作用......我该怎么做？请帮忙。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-10T15:37:22.520

您可以将图像作为 div 的背景，并在第一个 div 中插入另一个 div。像这样的东西：

```
<div style="background: url('myimg.png'); width: '100px'; height: '100px' float: left;">
   <div style="float: left;">TEST</div>
</div> 
```

测试将出现在图像的左上角。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-10T15:35:31.503

A`<div>`已经从其父元素的左上角开始。由于它是块级元素，因此您必须指定宽度，否则它将占用所有可用空间。

工作示例：http: [//jsfiddle.net/pd39B/](http://jsfiddle.net/pd39B/)

```
<div></div>
<img src="https://twimg0-a.akamaihd.net/profile_images/2642324404/46d743534606515238a9a12cfb4b264a.jpeg">

div {
    height: 50px;
    width: 50px;
    background-color: blue;
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-10T15:52:51.337

这有点棘手......

**在 iframe/视频上放置一个 div...**

（只需用您的图像替换 iframe）....

技巧部分是针对视频的...您必须在 src url 的末尾添加 ... ?wmode=transparent ... ...

```
<!DOCTYPE HTML > 
<style type="text/css"> 
.Container {position:relative;  float:left;  border: 1px solid #0f0; }
.Vid {position:absolute; top:7px; left:7px; width:90%; height:90%;  }
.Lyr {position:absolute; top:7px; left:7px; width:90%; height:90%; background-color: #a3E1a6;  opacity:0.5; }
</style>

<div id="Cntr0" class="Container" style="width:220px; height:140px;">
    <iframe id="frm0" class="Vid" src='http://www.youtube.com/embed/y1VVXrUdO2s?wmode=transparent' frameborder='0'></iframe>
    <div id="div0" class="Lyr" ></div>
</div> 
```

# java - Android 将位图设置为 Imageview

> ID：15323844
> 
> 赞同：44
> 
> 时间：2013-03-10T15:23:04.553
> 
> 标签：java, android, bitmap, imageview

嗨，我有一个 Base64 格式的字符串。我想将其转换为位图，然后将其显示为 ImageView。这是代码：

```
ImageView user_image;
Person person_object;
@Override
protected void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.user_profile_screen);

    // ImageViews
    user_image = (ImageView) findViewById(R.id.userImageProfile);

    Bundle data = getIntent().getExtras();
    person_object = data.getParcelable("person_object");
    // getPhoto() function returns a Base64 String
    byte[] decodedString = Base64.decode(person_object.getPhoto(), Base64.DEFAULT);

    Bitmap decodedByte = BitmapFactory.decodeByteArray(decodedString, 0, decodedString.length);
    user_image.setImageBitmap(decodedByte);
    } 
```

此代码成功获取 Base64 字符串，我没有收到任何错误。但它不显示图像。可能是什么问题？谢谢

* * *

## 回答 #1

> 赞同：58
> 
> 时间：2013-03-10T15:30:41.327

请试试这个：

```
byte[] decodedString = Base64.decode(person_object.getPhoto(),Base64.NO_WRAP);
InputStream inputStream  = new ByteArrayInputStream(decodedString);
Bitmap bitmap  = BitmapFactory.decodeStream(inputStream);
user_image.setImageBitmap(bitmap); 
```

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2016-02-23T11:52:01.150

有一个名为**Picasso**的库，它可以有效地从 URL 加载图像。它还可以从文件中加载图像。

例子：

1.  将 URL 加载到 ImageView 中而不生成位图：

    ```
    Picasso.with(context) // Context
           .load("http://abc.imgur.com/gxsg.png") // URL or file
           .into(imageView); // An ImageView object to show the loaded image 
    ```

2.  通过生成位图将 URL 加载到 ImageView 中：

    ```
    Picasso.with(this)
           .load(artistImageUrl)
           .into(new Target() {
               @Override
               public void onBitmapLoaded(final Bitmap bitmap, Picasso.LoadedFrom from) {
                   /* Save the bitmap or do something with it here */

                   // Set it in the ImageView
                   theView.setImageBitmap(bitmap)
               }

               @Override
               public void onBitmapFailed(Drawable errorDrawable) {

               }

               @Override
               public void onPrepareLoad(Drawable placeHolderDrawable) {

               }
           }); 
    ```

毕加索还有更多选择。[这是文档](https://square.github.io/picasso/2.x/picasso/)。

* * *

## 回答 #3

> 赞同：6
> 
> 时间：2019-12-12T06:48:17.130

```
 //decode base64 string to image
    imageBytes = Base64.decode(encodedImage, Base64.DEFAULT);
    Bitmap decodedImage = BitmapFactory.decodeByteArray(imageBytes, 0, imageBytes.length);
    image.setImageBitmap(decodedImage);

  //setImageBitmap is imp 
```

* * *

## 回答 #4

> 赞同：5
> 
> 时间：2018-06-11T10:11:49.930

这段代码适用于我

```
 ImageView carView = (ImageView) v.findViewById(R.id.car_icon);

                            byte[] decodedString = Base64.decode(picture, Base64.NO_WRAP);
                            InputStream input=new ByteArrayInputStream(decodedString);
                            Bitmap ext_pic = BitmapFactory.decodeStream(input);
                            carView.setImageBitmap(ext_pic); 
```

# c# - 如何绕过 CheckedListBox 字符数限制？

> ID：15323847
> 
> 赞同：0
> 
> 时间：2013-03-10T15:23:26.180
> 
> 标签：c#, winforms, limit, checkedlistbox

我有包含 1250 多个项目（行）的数据，当我将其粘贴到 CheckedListBox 项目中时，我注意到并非所有数据都被复制。我试图在里面写一些东西来检查复制粘贴是否有问题，但是没有，我只是无法添加更多字符。我使用 NotePad++ 来计算字符数，结果显示为 30 811，所以限制为 30811 个字符，但我想添加更多我能做什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-10T15:53:33.017

CheckedListBox 从来都不是表格的替代品，也不是〜1250行的包装器...正如您在评论中建议的那样，请使用不同的控件，例如`DataGridView`或可能`ListView`（如果在您的场景中有意义）。

[http://msdn.microsoft.com/en-us/library/system.windows.forms.datagridview.aspx](http://msdn.microsoft.com/en-us/library/system.windows.forms.datagridview.aspx)
[http://msdn.microsoft.com/en-us/library/system.windows.forms.listview.aspx](http://msdn.microsoft.com/en-us/library/system.windows.forms.listview.aspx)

# android - 不断添加接近警报，如何使用 id 删除它们？

> ID：15323848
> 
> 赞同：1
> 
> 时间：2013-03-10T15:23:41.160
> 
> 标签：android, broadcastreceiver

我为每个地图标记设置了我的地图和接近警报，在这里我将经纬度和地名传递给添加接近警报方法：

```
if(alerts==true)
{
addProximityAlert(l1, l2, place);
} 
```

添加接近警报方法：

```
//The following sets up proximity alerts, getting a unique id for each one
private void addProximityAlert(Double latitude, Double longitude, String tit) {

    Intent intent = new Intent(PROX_ALERT_INTENT);
    intent.putExtra("name", tit);
    intent.putExtra("id", alertid);
    PendingIntent proximityIntent = PendingIntent.getBroadcast(this, alertid, intent, PendingIntent.FLAG_ONE_SHOT);
    lm.addProximityAlert(latitude, longitude, POINT_RADIUS, PROX_ALERT_EXPIRATION,proximityIntent );
    alertid++;

    IntentFilter filter = new IntentFilter(PROX_ALERT_INTENT );
    registerReceiver(new ProximityIntentReceiver(), filter);
} 
```

以下是接近警报类：

```
public class ProximityIntentReceiver extends BroadcastReceiver {
    private static final int NOTIFICATION_ID = 1000;

    @SuppressWarnings("deprecation")
    @Override
    public void onReceive(Context context, Intent intent) {
       String key = LocationManager.KEY_PROXIMITY_ENTERING;
       Boolean entering = intent.getBooleanExtra(key, false);
       if (entering) {
                  Log.d(getClass().getSimpleName(), "entering");
           }else {
                  Log.d(getClass().getSimpleName(), "exiting");
           }
           NotificationManager notificationManager = (NotificationManager) context.getSystemService(Context.NOTIFICATION_SERVICE);

           Intent notificationIntent = new Intent(context, Map.class);
           PendingIntent pendingIntent = PendingIntent.getActivity(context, 0, notificationIntent, 0);
           Notification notification = createNotification();

        notification.setLatestEventInfo(context, "Proximity Alert!", "You are approaching: " +intent.getStringExtra("name"), pendingIntent); 
        notificationManager.notify( intent.getIntExtra("id", -1), notification);

   }

    private Notification createNotification() {
           Notification notification = new Notification();
           notification.defaults |= Notification.DEFAULT_SOUND;
           notification.icon = R.drawable.ic_launcher;
           notification.when = System.currentTimeMillis();
           notification.flags |= Notification.FLAG_AUTO_CANCEL;
           notification.flags |= Notification.FLAG_SHOW_LIGHTS;
           notification.defaults |= Notification.DEFAULT_VIBRATE;
           notification.defaults |= Notification.DEFAULT_LIGHTS; 
           notification.ledARGB = Color.CYAN;
           notification.ledOnMS = 15000;
           notification.ledOffMS = 15000;
           return notification;
     }
} 
```

第一次设置地图alertid为0，有四个地图标记，设置了四个接近警报，效果很好。离开地图并重新设置时，alertid重置为0，但再次添加警报，因此8个警报消失，每次添加4个新警报。我认为通过将 alertid 重置为 0，再次重新创建它们会覆盖以前的，因为它们有一个 id，但这显然不会发生。谁能看到他们是如何建立的，也许可以告诉我如何确保每次设置只创建一次？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-10T15:36:04.107

我想您应该维护某种列表，在其中保留所有警报的意图，以避免将它们添加两次或多次。此外，根据您的使用场景，您可能应该在收到通知后将其删除：

```
lm.removeProximityAlert(PendingIntent intent) 
```

但更有可能的是您多次注册了 BroadcastReceiver :) 尝试只调用一次（而不是每次添加警报时）：

```
registerReceiver(new ProximityIntentReceiver(), filter); 
```

# android - Android 守护线程测试

> ID：15323851
> 
> 赞同：1
> 
> 时间：2013-03-10T15:24:04.130
> 
> 标签：android, multithreading, spawn

我在 Android 中像这样在 Java 的多线程中测试 Think：

```
private void testDeamon(){

    Thread d = new Daemon();
    System.out.println(
            "d.isDaemon() = " + d.isDaemon());

    try {
        Thread.sleep(2000);
    } catch (InterruptedException e) {
        // TODO Auto-generated catch block
        e.printStackTrace();
    }

}

public class Daemon extends Thread {
    private static final int SIZE = 10;
    private static final String TAG = null;
    private int i = 9000;

    private Thread[] t = new Thread[SIZE];
    public Daemon() { 
        setDaemon(true);
        start();
    }
    public void run() {
        for(int i = 0; i < SIZE; i++)
            t[i] = new DaemonSpawn(i);
        for(int i = 0; i < SIZE; i++)
            System.out.println(
                    "t[" + i + "].isDaemon() = " 
                            + t[i].isDaemon());
        while(true) {
            Log.d(TAG, "Deamon running..."+ i--);
            if (i==0) 
                break;

            yield();
        }
    }

    class DaemonSpawn extends Thread {
        public DaemonSpawn(int i) {
            System.out.println(
                    "DaemonSpawn " + i + " started");
            start();
        }
        public void run() {
            while(true) 
                yield();
        }
    }
} 
```

1.  为什么 spawn 守护进程的结果是错误的，所以守护进程的 spawn 不是这里的守护进程

2.  为什么Android应用程序退出后守护程序tad一直在运行？根据 TIJ，JVM 在所有非守护线程被杀死后退出，并且守护线程也退出。那么JVM在应用程序销毁后没有关闭？谢谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-10T15:33:55.670

我无法回答第一个问题。它们也应该是守护进程（[http://www.linuxtopia.org/online_books/programming_books/thinking_in_java/TIJ315_005.htm](http://www.linuxtopia.org/online_books/programming_books/thinking_in_java/TIJ315_005.htm)）
对于 Android 目的，守护线程或非守护线程没有实际意义。您的应用程序的进程永远不会退出：它要么保留在后台，要么在某个时候被杀死。

您的第二个问题：“... Android 应用程序退出...”是什么意思？应用程序不会“退出”，它们只是进入后台，如果操作系统认为有必要，它们可能会被杀死。

换句话说，当您的应用程序进入后台时，它不会退出。它一直在后台运行（直到它在某个时候被杀死）。

# ruby - 在 EventMachine 中使用 Socket Keep Alive

> ID：15323852
> 
> 赞同：1
> 
> 时间：2013-03-10T15:24:13.853
> 
> 标签：ruby, tcp

我有一个接受 TCP 连接的 EventMachine。这些连接在大约 10 分钟不活动后自动关闭，这对我来说很糟糕。我需要他们保持开放。我想我需要在连接上设置 KEEPALIVE 套接字选项，但我在弄清楚语法时遇到了一些麻烦。

这是我尝试过的，但这并没有解决任何问题：

```
class Connection < EventMachine::Connection
    def initialize
      set_sock_opt Socket::SOL_SOCKET, Socket::SO_KEEPALIVE, true
    end 
```

作为参考，这是我的主要 EventMachine 循环：

```
 EventMachine::run do
    EventMachine::start_server(host, port, Connection)
  end 
```

# f# - 为 F# 中的可区分联合自动生成谓词和访问器

> ID：15323855
> 
> 赞同：3
> 
> 时间：2013-03-10T15:24:19.217
> 
> 标签：f#, algebraic-data-types, discriminated-union

是否可以在 F# 中以类型安全的方式为任意代数数据类型自动生成谓词和访问器？

例如，如果我们有用户定义的类型：

```
type A = 
    B of string
    | C of int * sting 
```

应该生成这样的东西：

```
type A = 
    B of string
    | C of int * sting
    with
        member __.isB = match __ with B -> true | _ -> false
        member __.isC = match __ with C -> true | _ -> false
        member __._1 = match __ with B(x) -> Some(x) | _ -> None
        member __._2 = match __ with C(x,_) -> Some(x) | _ -> None
        member __._3 = match __ with C(_,x) -> Some(x) | _ -> None 
```

如果可以为访问器指定名称可能带有这样的注释会更好：

```
[<GenerateAccessors(["BName", "CName", "Value"])>] 
```

如果我想简化对内部数据的访问，可能无法完成，或者我应该使用记录而不是区分联合（DU）。但是使用 DU 的模式匹配更简单，我希望同时获得这两个好处 - 简单的模式匹配和简单的“直接数据访问”。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-10T16:38:49.007

您可以使用[FSharpType.GetUnionCases反映已区分的联合，并使用](http://msdn.microsoft.com/en-us/library/ee353736.aspx)[F# PowerPack](http://fsharppowerpack.codeplex.com/)中提供的 F# CodeDOM或仅通过编写文本来生成代码。

```
open Microsoft.FSharp.Reflection

type A = B of string | C of int * string

let generate t =
    let cases = FSharpType.GetUnionCases(t)
    printfn "type %s with" t.Name
    for case in cases do
        printfn "\tmember value.is%s = " case.Name
        let fields = 
            match [for field in case.GetFields() -> "_"] with
            | [] -> ""
            | fields -> " (" + (fields |> String.concat ",") + ")"
        printfn "\t\tmatch value with %s%s -> true | _ -> false" case.Name fields

generate typeof<A> 
```

生成[F# 类型扩展](http://msdn.microsoft.com/en-us/library/dd233211.aspx)：

```
type A with
    member value.isB =
        match value with B (_) -> true | _ -> false
    member value.isC =
        match value with C (_,_) -> true | _ -> false 
```

# c#-4.0 - Facebook Like 模块未显示

> ID：15323857
> 
> 赞同：1
> 
> 时间：2013-03-10T15:24:40.547
> 
> 标签：c#-4.0, orchardcms, orchardcms-1.6

我已经成功安装了 fekke 的 Facebook Like 模块。

但是，当我将此模块添加到图层（例如主页）时，除了标题之外什么都没有显示。

使用 firebug 检查小部件时，我得到以下代码（仅复制主要元素，由于长度原因未显示完整代码）：

```
<div class="zone zone-tripel-second">
<article class="widget-tripel-second widget-facebook-like-widget widget">
<header>
<script src="http://connect.facebook.net/en_US/all.js#xfbml=1">
<fb:like class=" fb_edge_widget_with_comment fb_iframe_widget" colorscheme="" font="Lucida Grande" action="like" width="450" show_faces="show_faces" href="http://localhost:30320/OrchardLocal/" fb-xfbml-state="rendered">
</article>
</div> 
```

# flash - 首先会发生什么，MovieClip.onLoad() 或 Event.ENTER_FRAME？

> ID：15323861
> 
> 赞同：0
> 
> 时间：2013-03-10T15:25:18.693
> 
> 标签：flash, actionscript, flash-cs4

我正在用 Flash 制作一个小游戏作为学校项目，我想知道放置影片剪辑时会首先触发什么 - onLoad 函数或 ENTER_FRAME 事件。

任何帮助将不胜感激。

编辑：我删除了 onLoad，因为当对象放在舞台上时它实际上并没有被调用。

```
var loaded:Boolean = false;
var angle:Number = 0; //in radians
this.addEventListener(Event.ENTER_FRAME, update);
function init():void {
    //get projectile position based on relation to mouse and spawning point.
    trace("init");
    loaded = true;
    this.angle = Math.atan2(mouseY - this.y, mouseX - this.x);
}
function update(e:Event):void {
    /* TRIG TIME! Move the object a certain amount
     * of pixels-- based on the delta, in the specified angle.
     */
    if (!loaded) {
        init();
    }
    trace("update");
    var slope:Number = Math.tan(angle);
} 
```

不过，这种方法可能仍然行不通……

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-10T16:51:42.127

在这种情况下，onLoad 似乎不像我预期的那样工作——我通过将 onLoad 函数更改为 ADDED_TO_STAGE 事件来解决这个问题。我将类的所有 actionscript 代码从 flash 文件中移出，并移到单独的 actionscript 文件中，并将事件侦听器`event.ENTER_FRAME`和`event.ADDED_TO_STAGE`事件放入类的构造函数中，现在整个类的工作就像一个魅力。

```
public function Projectile() {
    this.addEventListener(Event.ADDED_TO_STAGE, init);
    this.addEventListener(Event.ENTER_FRAME, update);
    super();
} 
```

在函数更新之前调用了函数 init，现在我可以继续我的工作了！

特别感谢[Don](https://stackoverflow.com/users/548414/don)帮我解决了这个难题

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-10T16:54:23.663

在 actionscript 3 中，您必须添加一个侦听器，而不是使用 onLoad，所以代替 MovieClip.onLoad() 执行以下操作：

```
MovieClip.addEventListener(Event.ADDED,mcLoaded);

function mcLoaded(e:Event):void {

trace("MovieClip added.");

} 
```

至于提出的问题，ADDED / ADDED_TO_STAGE 在 ENTER_FRAME 之前运行。

此解决方案适用于时间线代码（不是单独的 .as 文件。OP 有其他情况的解决方案。）

# java - 我可以有意发送课程吗？

> ID：15323864
> 
> 赞同：13
> 
> 时间：2013-03-10T15:25:25.080
> 
> 标签：java, class, android-intent, setting, extra

我试图通过额外的类名，怎么做？

```
Intent p = new Intent(StartScreen.this, Setting.class);
p.putExtra(" ",StartScreen.this); 
```

我想在 Setting 类中获取类名，但我不希望它是`String`因为我将像这样使用这个类名：

```
Bundle extras = getIntent().getExtras();
extras.getString("class");
Intent i = new Intent(Setting.this, class);
startActivity(i); 
```

* * *

## 回答 #1

> 赞同：20
> 
> 时间：2013-03-10T16:23:18.690

你可以使用这个代码

```
Intent p = new Intent(StartScreen.this, Setting.class);
p.putExtra("class","packagename.classname"); 
```

并在设置类

```
Bundle extras = getIntent().getExtras();
String classname=extras.getString("class");
Class<?> clazz = Class.forName(classname);
Intent i = new Intent(Setting.this, clazz);
startActivity(i); 
```

* * *

## 回答 #2

> 赞同：12
> 
> 时间：2016-01-07T21:01:38.453

比接受的答案更整洁的方法是使用`Serializable`or `Parcelable`。

这是一个如何使用的示例`Serializable`：

在您的第一个活动中...

```
Intent intent = new Intent(FirstActivity.this, SecondActivity.class);
intent.putExtra("EXTRA_NEXT_ACTIVITY_CLASS", ThirdActivity.class);
startActivity(intent); 
```

然后在你的第二个活动中......

```
Bundle extras = getIntent().getExtras();
Class nextActivityClass = (Class<Activity>)extras.getSerializable("EXTRA_NEXT_ACTIVITY_CLASS");
Intent intent = new Intent(SecondActivity.this, nextActivityClass);
startActivity(intent); 
```

这样做`Parcelable`几乎是一样的，除了你将`extras.getSerializable("EXTRA_NEXT_ACTIVITY_CLASS")`在上面的代码中替换为`extras.getParcelable("EXTRA_NEXT_ACTIVITY_CLASS")`.

Parcelable 方法会更快，但更难设置（因为您需要实现第三个 Activity `Parcelable`- 请参阅[http://developer.android.com/reference/android/os/Parcelable.html](http://developer.android.com/reference/android/os/Parcelable.html)）。

# c# - 使用 C# 的 SQL 语法

> ID：15323871
> 
> 赞同：1
> 
> 时间：2013-03-10T15:26:23.840
> 
> 标签：c#, .net, sql

我正在尝试使用 C# 和 SQL 将值插入到带有此代码的某个表中：

```
string query1 = "select PlayerID from Table1";
string query2 = "select GameID from Table2";

string q = "insert into Table3 (PlayerID, GameID) values(" + query1 + "," + query2 + ")"; 
```

可能吗？

**编辑：**

我有 3 张桌子：

1.  `playersTbl`- 具有自动增量 ID（主键）
2.  `gameTbl` - 具有自动增量 ID（主键）
3.  `JoinTbl`

游戏开始时，用户可以在同一个游戏中注册一些玩家，所以在同一个游戏中假设有 4 个玩家。

当我添加这 4 个玩家时，`playersTbl`将如下所示：

```
ID | first name|
----------------
1  | p1        |
2  | p2        |
3  | p3        |
4  | p4        | 
```

并且`gameTbl`会看起来像：

```
ID | Date | Hour|
-----------------
1  |      |     | 
```

所以我想做的是`Table3`遗嘱看起来像：

```
PlayerID | GameID|
------------------
1        | 1     |
2        | 1     |
3        | 1     |
4        | 1     | 
```

现在当我和一个玩家开始新游戏时

我将玩家添加到`playersTbl`，并将游戏添加到`gameTbl`，但现在第三张桌子看起来像

```
 PlayerID | GameID|
    ------------------
    1        | 1     |
    2        | 1     |
    3        | 1     |
    4        | 1     |
    5        | 2     | 
```

**更清楚地说，我不希望在第二场比赛中注册的玩家将在第一场比赛中..**

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-10T15:27:57.813

使用`INSERT INTO..SELECT`声明，

```
INSERT INTO Table3(PlayerID, GameID)
SELECT  a.PlayerID, b.GameID
FROM    Table1 a CROSS JOIN Table2 b 
```

查询的作用是从两个表中生成笛卡尔积。

考虑以下示例，

表格1

```
PlayerID
========
1
2
3 
```

表2

```
GameID
=======
10
11
12 
```

当执行下面的查询时，

```
SELECT  a.PlayerID, b.GameID
FROM    Table1 a CROSS JOIN Table2 b 
```

它产生以下结果，

```
PlayerID    GameID
=========   ======
1           10
1           11
1           12
2           10
2           11
2           12
3           10
3           11
3           12 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-10T15:47:04.597

您应该能够使用 INSERT INTO SELECT 方法，如下所示：

```
INSERT INTO Table3 (PlayerID, GameID) SELECT Table1.ID, Table2.ID FROM Table1, Table2 
```

# android - Android：ActionBarSherlock Title Ellipsize

> ID：15323873
> 
> 赞同：0
> 
> 时间：2013-03-10T15:26:26.040
> 
> 标签：android, actionbarsherlock, title

有没有办法防止 ActionBar (sherlock) 的标题被裁剪（比如 ThisIsMyTi ...）

我希望始终看到完整的标题，因此标题应该始终具有最高优先级，除了没有硬件菜单按钮的设备上的溢出菜单按钮。

如果有解决方案就好了。将标题的椭圆大小设置为 null 不起作用，它只是在没有 ...

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-10T15:47:23.587

在顶部添加：

```
private TextView titleTV; 
```

在您的 OnCreate 中：

```
ActionBar Bar=getSupportActionBar();
Bar.setDisplayShowTitleEnabled(false);
LayoutInflater inflater = LayoutInflater.from(this);
View customView = inflater.inflate(R.layout.bar, null);
titleTV = (TextView) customView.findViewById(R.id.title);
titleTV.setSelected(true);
Bar.setCustomView(customView);
Bar.setDisplayShowCustomEnabled(true); 
```

在 bar.xml 中：

```
<?xml version="1.0" encoding="utf-8"?>
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:background="@android:color/transparent" >
<TextView
    android:id="@+id/title"
    android:layout_width="match_parent"
    android:layout_height="wrap_content"
    android:textSize="19dp"
    android:singleLine="true"           
    android:duplicateParentState="true"
    android:fadingEdge="horizontal"
    android:ellipsize="marquee" 
    android:marqueeRepeatLimit="marquee_forever" 
    android:scrollHorizontally="true" 
    android:focusable="true" 
    android:focusableInTouchMode="true"
    android:text="">
    <requestFocus
        android:duplicateParentState="true"
        android:focusable="true"
        android:focusableInTouchMode="true" />
</TextView>
</RelativeLayout> 
```

您可以设置标题

```
titleTV.setText(t); 
```

# data-warehouse - 事实表主键

> ID：15323876
> 
> 赞同：4
> 
> 时间：2013-03-10T15:26:41.403
> 
> 标签：data-warehouse

我有一个包含 8 个外键（引用 8 个维度）的事实表，但即使是所有八个键的组合也不能唯一标识一行。我是否需要从原始数据中添加另一个属性（即“project-id”属性，这对任何东西都没用），这样我就可以拥有一个主键，或者我可以保持事实表不变，没有主键?

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-03-11T14:35:14.533

事实表的第一条规则是**[声明你的粒度](http://www.kimballgroup.com/2001/03/design-tip-21-declaring-the-grain/)**- 唯一标识一行的内容。

听起来你还没有为这张桌子宣布你的粮食。如果表的粒度是“每个项目一行”，那么您需要将项目作为退化维度包含在表中。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-10T15:27:42.027

每个表都必须有一个主键。这是关系规则#1。

您始终可以添加代理键，但我喜欢事实表具有满足唯一约束的属性的想法。我赞同你的想法：添加更多属性，直到你有一个唯一的约束。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-05-26T11:31:59.737

除了这 8 个外键外，每行还包括一个简单的代理键（如行索引）。这将唯一标识事实表的每一行

对于代理键，您可以从第一行的索引开始，例如 1，然后每次在事实表中创建新条目时将索引增加一个

# usb - pc发送什么文件到usb设备

> ID：15323878
> 
> 赞同：2
> 
> 时间：2013-03-10T15:26:53.353
> 
> 标签：usb, monitor, traffic, sniffing

我想知道是否有通过 USB 分析流量的程序。例如，我想知道此刻从计算机向设备传输了哪些文件，他对设备做了什么。我需要它来调试设备，而不是驱动程序！有这样的程序吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-10T15:31:29.417

我认为您可以将此站点作为起点，并自行详细检查不同的方法。

[线鲨维基](http://wiki.wireshark.org/CaptureSetup/USB)

# ios - 如何使导航栏与 webview 一起滚动作为 iOS 中的 safari？

> ID：15323879
> 
> 赞同：0
> 
> 时间：2013-03-10T15:26:53.980
> 
> 标签：ios, objective-c, uiscrollview, safari, uinavigationbar

就像iOS中safari浏览器的效果，当网页向下滚动时，导航栏一起向下，随着网页向上滚动，导航从视图中出去，这样如何实现呢？非常感谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-10T17:14:42.543

您应该将该导航栏设置为表格标题视图（不要与节标题视图混淆）。表格视图有一个属性 tableHeaderView，您可以将其设置为您想要的任何自定义视图。它将出现在表格视图的顶部，并随之滚动。

# python - 如何在不使用自动模型表单的情况下从 Django 中的文本框中获取数据？

> ID：15323880
> 
> 赞同：2
> 
> 时间：2013-03-10T15:26:59.423
> 
> 标签：python, database, django, forms, model

我想做一件非常简单的事情，但由于某种原因我还没有找到解决方案。我有一个 HTML 表单

```
<form id="user_form" method="POST" action="/ProjectName/home/">

    {% csrf_token %}

    <div class="registerLabel">
        Full name:
    </div>
    <div class="registerTextLabel">
        <input type="text" id="registerFullName" class="registerTextDetails">
    </div>
    <div class="registerLabel">
        Username:
    </div>
    <div class="registerTextLabel">
        <input type="text" id="registerUsername" class="registerTextDetails">
    </div>

    <div id="registerButtonDiv">
        <button class="registerButtons" id="cancelRegisterButton">Cancel</button>
        <button type="submit" class="registerButtons" id="submitRegistration">Register</button>
    </div>
</form> 
```

我想要的是在填写此表单并提交它以获取所有文本框值并将其放入我的数据库中之后。

db 模型是这样实现的：

```
class User(models.Model):
    username = models.CharField(max_length=200)
    password = models.CharField(max_length=200)
    ...
    def __unicode__(self):
        return self.username 
```

这是视图的代码：

```
def register(request):
    context = RequestContext(request)
    registed = False
    if request.method == 'POST':
        form = User(data = request.POST)
        username = request.POST.get('registerUsername')
        password = request.POST.get('registerPass')
        user = form.save()
        username = User.username
        password = User.password
        u = User(username,password,...)
        u.save()
        registered = True
        else:
            form = User()

        return render_to_response('ProjectName/home.html', {'user_form':User}, context) 
```

我不想使用 Django 从模型生成表单的自动化方式。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-10T15:39:43.807

您忘记在表单中定义名称。获取 POST 数据很重要。

```
<form .........>
   {{error}}<br/><br/>
<div class="registerLabel">Username:</div>
<div class="registerTextLabel">
    <input type="text" id="registerUsername" name="registerUsername" class="registerTextDetails">
</div>

<div class="registerLabel" id="registerLabelPass">Password:</div>
<div class="registerTextLabel">
    <input type="password" id="registerPass" name="registerPass" class="registerTextDetails">
</div>
</form>

def register(request):
    context = RequestContext(request)
    registered = False
    error = ''
    if request.method == 'POST':
        username = request.POST.get('registerUsername')
        password = request.POST.get('registerPass')

        if username and password:
            username_exist = User.objects.filter(username=username)
            if username_exist:
                error = username is already taken, try another
            else:
                User.objects.create(username=username, password=password)
                registered = True
        else:
            error = all fields are required

    return render_to_response('ProjectName/home.html', {'error':error}, context) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-10-22T02:43:18.403

这个用户名不应该 = User.username 密码 = User.password

是

User.username = 用户名 User.password = 密码

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2017-04-04T16:06:58.900

这是我的 html 文件：

```
{% block content %}
    <div class="container">
        <h6 class="dress"><a href="{% url 'home' %}">Home</a> <i> </i> Register </h6>
    </div>
    <div class="back">
        <h2>PRODUCTS</h2>
    </div>
     <div class="container">
        <div class="register">
        <h3>PERSONAL INFORMATION</h3>
              <form method='POST' action=''>{% csrf_token %}
                    <div class="mation">
                    <div>
                        <span>User Name</span>
                        <input id="id_username" maxlength="150" name="username" type="text" required />
                        <span class="helptext">Required. 150 characters or fewer. Letters, digits and @/./+/-/_ only.</span></p>
                    </div>
                     <div>
                         <span>Email Address</span>
                         <input id="id_email" maxlength="254" name="email" type="text" />
                         </div>
                         <div>
                            <span>Password</span>
                                <input id="id_password1" name="password1" type="password" required />
                    </div>
                             <div>
                            <span>Confirm Password</span>
                                <input id="id_password2" name="password2" type="password" required />
                    </div>
                     </div>
                     <input type="submit" value="Register">
                </form>

           </div>
            </div>
{% endblock %} 
```

现在您可以看到我的 RegisterFrom：

```
class RegistrationForm(forms.ModelForm):
    password1 = forms.CharField(label="Password", widget=forms.PasswordInput())
    password2 = forms.CharField(label="Confirm Password", widget=forms.PasswordInput())

    class Meta:
        model = User
        fields = ['username', 'email']

    def clean_password2(self):
        password1 = self.cleaned_data.get("password1")
        password2 = self.cleaned_data.get("password2")

        try:
            if ((password1 and password2) and (password1 != password2)):
                raise forms.ValidationError("Password Do not Match")
        except:
            pass
        return password2

    def save(self, commit=True):
        user = super(RegistrationForm, self).save(commit=False)
        user.set_password(self.cleaned_data['password1'])
        if commit:
            user.save()
        return user 
```

像这样我在 Django 中使用自定义文本框

# javascript - 当函数定义为没有参数时，我怎么能调用带有参数的函数？

> ID：15323881
> 
> 赞同：2
> 
> 时间：2013-03-10T15:27:04.790
> 
> 标签：javascript

再会！

我偶然发现了在 JavaScript 领域从未见过的东西，但我想对于更了解该语言的人来说，这很容易解释。下面我有以下功能：（取自书中的代码：“JavaScript Ninja 的秘密”）

```
function log() {
  try {
    console.log.apply(console, arguments);
  }
  catch(e) {
    try {
      opera.postError.apply(opera, arguments);
    }
    catch(e) {
      alert(Array.prototype.join.call(arguments, " "));
    }
  }
} 
```

如您所见，该函数是用一个空参数列表定义的，但是当我在本书后面看到他们实际上像这样使用所述函数时，我完全感到困惑......

```
var x = 213;
log(x); //Hmmm, I thought this function had an empty parameter list. 
```

有人可以向我解释一下，为什么允许/可能调用该函数？支持此功能的 JS 中涉及哪些概念？提前谢谢，我很困惑。

此致，

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-03-10T15:32:21.693

您可以根据需要调用具有错误数量参数的函数。多余的参数将被忽略；缺少的参数将被赋予一个默认值。

正如您从代码示例中看到的那样，您可以访问实际使用“参数”对象传递的参数。

JavaScript 的设计原则之一是宽容而不是严格。如果有办法继续前进，JavaScript 就会继续前进。未能传递足够数量的参数在 JavaScript 中并不像在 C# 这样的语言中那样被认为是致命的，其中设计原则之一是“通过在编译时失败将可能的错误引起开发人员的注意”。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-10T15:32:37.263

Javascript 函数有一个隐式`arguments`参数，它是一个具有长度属性的类数组对象。

你`log`可以做的方法。

```
function log(){

  alert(arguments[0]); 

  alert(arguments[1]);

} 
```

你可以调用日志。

```
log("first","second"); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-10T15:37:48.053

JavaScript 函数是[可变参数](http://en.wikipedia.org/wiki/Variadic_function)的，即它们可以接受任意且无限数量的参数。您可以通过[`arguments`object](https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Functions_and_function_scope/arguments)访问它们，并通过传递可变数量的值[`apply`](https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/Function/apply)。形参列表只是声明了一些变量名，它们是指向参数的指针，如果给定的参数少于定义的参数名，它们将默认为`undefined`.

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-03-12T17:52:38.537

JavaScript 允许您使用任意数量的参数调用函数，但如果您想要更严格的东西，可以使用[TypeScript](http://www.typescriptlang.org/)。

它可以防止不正确的方法调用和许多其他 JavaScript 愚蠢行为。

# php - 它是依赖注入吗？这是一种不好的做法吗？

> ID：15323882
> 
> 赞同：9
> 
> 时间：2013-03-10T15:27:13.197
> 
> 标签：php, oop, dependency-injection

我有一个小框架，我像这样编码它。我不确定它是否称为依赖注入。我不知道它是否像一种设计模式。我也不知道并想知道`$this`作为参数传递是否是一种不好的做法。

看看这个；（不是一个工作示例，只是将这些代码写入浏览器以进行解释。）

```
/* This is engine model */
require_once('Database.class.php');
require_once('Image.class.php');
require_once('Misc.class.php');
require_once('BBCode.class.php');

class FrameWork_Engine_Model
{
    public $database, $config, $misc, $bbcode, $controller, $image;

    function __construct($config)
    {
            $this->database = new Database($configParams);
            $this->image = new Image($this);
            $this->misc = new Misc($this);
            $this->bbcode = new BBCode($this);
            $this->controller = new Controller($this); //here I call Register controller depending on routing, in this case, register controller.
    }
 ...
 } 
```

* * *

```
 /* This is register controller */
 class Register extends Base_Controller
 {
       /*I can access anything over Engine Model in my controllers */
       $this->engine->database->query(); //I access database model
       $this->engine->bbcode->tag('you'); //I access bbcode model
       $this->engine->image->sanitizeUploadedFile(); //I access image model

       //etc. I can access others models like this.
 } 
```

基本上，我的控制器可以通过引擎模型访问任何模型。我相信`dependency injection is all about injecting dependencies into controllers?`就像，我的注册控制器需要一个数据库模型、路由模型和模板模型才能工作。这里有它所依赖的一切。我弄错了吗？

说了这么多，我的问题是：

1.  它是一个有效的依赖注入示例吗？如果不是，那是什么？它在设计模式中有名字吗？

2.  如果和依赖注入无关，需要做哪些改变才能成为DI？

3.  在新创建的类上传递`$this`参数是一种不好的做法吗？如果是这样，为什么？

附言。我知道在一个主题中问 3 个问题不是 stackoverflow 喜欢的，但我不想复制粘贴整个文本来问他们。

* * *

## 回答 #1

> 赞同：19
> 
> 时间：2013-03-10T16:41:59.883

你快到了。

### 问题 1

不，我不认为它是一个有效的依赖注入示例。它有点像服务定位器（因为您将整个容器注入到您的服务中并使用它来“定位”相关服务）。

### 问题2

您在依赖注入和依赖注入容器之间产生了一点混淆。

首先，依赖注入意味着在运行时将依赖推送到对象中，而不是创建/拉取它们。

举例说明：

```
//hardcoded dependecies
class BadService
{
    public function __construct() 
    {
        $this->dep1 = new ConcreteObject1();
        $this->dep2 = new ConcreteObject2();
    }
} 
```

因此，在上面的示例中，这`BadService`使得在运行时连接其他依赖项变得不可能，因为它们已经被硬拉到构造函数本身中。

```
//service locator pattern
class AlmostGoodService
{
    public function __construct(Container $container)
    {
        $this->dep1 = $container->getADep1();
        $this->dep2 = $container->getADep2();
    }
} 
```

在这个`AlmostGoodService`例子中，我们从前面的例子中移除了硬依赖，但我们仍然依赖于我们容器的特定实现（这意味着如果不提供该容器的实现，我们的服务是不可重用的）。这是与您正在做的事情相匹配的示例。

```
//dependecy injection    
class GoodService
{
    public function __construct($dep1, OptionalInterface $dep2)
    {
        $this->dep1 = $dep1;
        $this->dep2 = $dep2;
    }
} 
```

该`GoodService`服务不关心它的具体依赖项的创建，并且可以在运行时轻松地与任何实现“协议”`$dep1`或 OptionalInterface 的依赖项“连接” `$dep2`（因此称为[控制反转](http://en.wikipedia.org/wiki/Inversion_of_control)- 背后的基本概念依赖注入）。

进行这种连接的组件称为[依赖注入容器](http://fabien.potencier.org/article/12/do-you-need-a-dependency-injection-container)。

现在，最简单形式的[依赖注入容器](http://fabien.potencier.org/article/12/do-you-need-a-dependency-injection-container)只不过是一个能够在运行时基于某种形式的配置连接您的对象的对象。

我说你快到了，但你的实现存在一些问题：

*   布线应该是懒惰的（你不想在你的构造函数中做所有的工作，因为你的应用程序会随着它的增长而大大减慢）
*   您不应该将整个容器 ( `$this`) 作为依赖项传递，因为那样您会退回到较弱[的控制反转](http://en.wikipedia.org/wiki/Inversion_of_control)，即[服务定位器](http://en.wikipedia.org/wiki/Service_locator_pattern)。您应该将具体的依赖项传递给您的服务构造函数

### 问题 3

在某些情况下，您会发现自己希望将整个`$container`作为依赖项传递给服务（即控制器或惰性服务工厂），但通常最好远离这种做法，因为它会使您的服务更可重用并且更容易测试。当你觉得你的服务有太多的依赖时，这是一个很好的迹象，表明你的服务做了太多的事情，现在是拆分它的好时机。

### 原型容器实现

因此，根据我上面的回答，这是一个经过修改（远非完美）的实现：

```
/* This is the revised engine model */
class FrameWork_Engine_Model
{
    function __construct($config)
    {
            $this->config = $cofig; 
    }

    public function database()
    {
        require_once('Database.class.php');
        return new Database($this->config['configParams']);
    }

    public function bbcode()
    {
        require_once('BBCode.class.php');
        return new BBCode($this->database());
    }

    public function image()
    {
        require_once('Image.class.php');
        $this->image = new Image($this->config['extensionName']);
    }
    ....

    public function register_controller($shared = true)
    {
        if ($shared && $this->register_controller) {
          return $this->register_controller;
        }

        return $this->register_controller = new Register_Controller($this->database(), $thus->image(), $this->bbcode());
    }
 } 
```

现在，要使用您的服务：

```
$container = new FrameWork_Engine_Model(); 
$container->register_controller()->doSomeAction() 
```

有什么可以改进的？您的容器应该：

*   提供一种共享服务的方式——即只初始化一次
*   可[锁定](https://github.com/catacgc/juice-di-container#locking-behaviour)- 提供一种在配置后锁定它的方法
*   能够与其他容器“合并” - 这样您的应用程序将真正模块化
*   允许[可选依赖](http://symfony.com/doc/2.1/book/service_container.html#making-references-optional)
*   允许[范围](http://symfony.com/doc/2.0/cookbook/service_container/scopes.html)
*   支持[标记服务](http://symfony.com/doc/2.1/book/service_container.html#tags)

### 准备使用 DI 容器实现

所有这些都附有关于[依赖注入的清晰文档](http://en.wikipedia.org/wiki/Dependency_injection)

*   [Pimple](http://pimple.sensiolabs.org/) - PHP 5.3 轻量级 DI 容器
*   [Symfony2 DI Container](http://symfony.com/doc/master/components/dependency_injection/introduction.html) - PHP 5.3 功能完整的 DI 容器
*   [Juice DI](https://github.com/catacgc/juice-di-container) - 小型 PHP 5.2 DI 容器

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2013-03-10T16:40:51.723

1.  您`FrameWork_Engine_Model`是一个注册表（[注册表模式](http://c2.com/cgi/wiki?RegistryPattern)）。将注册表作为依赖注入到所有对象中是一种被误解的依赖注入。从技术上讲，它*是*DI，但是您创建了*从一切到一切*的依赖关系，并且还剥夺了 DI 应该提供的灵活性。
2.  如果您`FrameWork_Engine_Model`打算实例化服务并管理它们的依赖项，您可以将其更改[为控制反转容器](http://www.martinfowler.com/articles/injection.html)（与 DI 相关的典型模式）
3.  不，一般不会。

我不会争论您选择的类名以及您的服务和控制器的职责，因为我认为这不在这个问题的范围内。只是一个评论：看起来你的控制器做的太多了。如果你对干净的代码感兴趣，你可能想看看[单一职责原则](http://c2.com/cgi/wiki?SingleResponsibilityPrinciple)并保持你的控制器“瘦”，将业务逻辑和数据库查询移动到服务层和输出机制，如 bbcode 到视图。

因此，回到您的示例以及如何将其更改为对依赖注入的合理使用。一个原始的 IoC 容器可能如下所示：

```
public function createRegisterController()
{
    $controller = new RegisterController();
    $controller->setImage($this->getImageService());
    // ...
    return $controller;
}
public function getImageService()
{
    if ($this->imageService === null) {
        $this->imageService = new Image();
        // inject dependencies of Image here
    }
    return $this->imageService;
} 
```

这里的重点是：**只注入需要的依赖项。**并且不要创建一堆伪装成 DI 的全局变量。

# javascript - 可以使用 jQuery 或 Javascript 将图片的特定部分用作链接吗？

> ID：15323883
> 
> 赞同：2
> 
> 时间：2013-03-10T15:27:16.727
> 
> 标签：javascript, jquery, hyperlink, image

我有这个想法，将图片的各个部分（不是文本）链接到不同的页面或网站，我想在不实际创建不同的照片并将它们彼此靠近的情况下完成，这样看起来就像是一张完整的图片. 这里有没有人知道如何使用 JavaScript 的一种变体来实现这一点，比如 jQuery 或纯 JavaScript 之类的？谢谢！:-)

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-10T15:35:50.390

我想，您想让图像的各个部分具有交互性。即用户应该导航到不同的位置，点击图像的不同部分或执行一些动画。

有多种方法可以解决这个问题。

1.  [图像映射](http://www.w3schools.com/tags/tag_map.asp)。

您可以在图像上创建各种可点击部分，如下所示：

```
<img src="planets.gif" width="145" height="126" alt="Planets" usemap="#planetmap">

<map name="planetmap">
  <area shape="rect" coords="0,0,82,126" href="sun.htm" alt="Sun">
  <area shape="circle" coords="90,58,3" href="mercur.htm" alt="Mercury">
  <area shape="circle" coords="124,58,8" href="venus.htm" alt="Venus">
</map> 
```

`2`. 创建各种紧密定位的 div（或任何其他合适的容器，甚至是 img 标签本身），并使用 CSS:`Background-position`属性。就像是

```
 <div style="background-image:url('myImage.png'); background-position:0 0; width:50px height:50px" >
    </div>
  <div style="background-image:url('myImage.png'); background-position:50 0; width:50px height:50px" >
    </div>
  <div style="background-image:url('myImage.png'); background-position:0 50; width:50px height:50px" ></div>
  <div style="background-image:url('myImage.png'); background-position:50 50; width:50px height:50px" >
</div> 
```

了解有关[背景位置的更多信息](http://www.w3schools.com/cssref/pr_background-position.asp)

也看看[图像精灵](http://css-tricks.com/css-sprites/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-10T15:34:03.643

您是否尝试过[HTML 图像映射](http://www.htmlcodetutorial.com/images/images_famsupp_220.html)...？

图像[映射](http://www.javascriptkit.com/howto/imagemap.shtml)是一张图片，其中图片中的区域是链接。创建图像涉及使用`<IMG ...>`、、`<MAP ...>`和`<AREA ...>`标签。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-10T15:43:45.547

当然 CSS 会做。HTML：

```
<div id="linkPictureThing">
    <img src="yourimgage.png" title="" alt=""/>
    <a href="" class="imageSection"></a>
    <a href="" class="imageSection"></a>
    <a href="" class="imageSection"></a>
    <a href="" class="imageSection"></a>
</div> 
```

CSS：

```
a,img{border:none;}
#linkPictureThing>img{
    width:100%;
    height:100%;/*or auto */
    z-index:-1;
} 
```

链接：

```
#linkPictureThing>a.imageSection{
    display:inline-block;/*Sorry [lt IE 8] lover*/
    width:50%;
    height:50%;
    z-index:1;
    content:'';
}
a.imageSection:hover{
    background:#FF0000;
    opacity:0.8;
} 
```

或者可以尝试使用链接进行相对/绝对定位以获得更独特的位置：

```
#linkPictureThing>a.imageSection:first-child{
    position:absolute;
    top:20;
    left:0;
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-10T15:43:59.137

最正确的语义方式是使用图像映射。

最简单的方法是在图像顶部放置一个 div。在这个 div 中，在不同的区域制作两个可点击的块。

使用以下代码在[http://jsfiddle.net/3mQV2/](http://jsfiddle.net/3mQV2/)上找到示例。此示例的优点是搜索引擎可以索引两个链接。

HTML

```
<img src="http://lorempixel.com/400/200/" />
<div>
    <a href="test1"></a><!--
 --><a href="test2"></a>    
</div> 
```

CSS

```
img {
    width:400px;
    height:200px;
    position:absolute;
}
div {
    width:400px;
    height:200px;
    position:relative;
}
div a {
    display:inline-block;
    width:200px;
    height:200px;   
}
div a:nth-child(1):hover {
    background-color:blue;
}
div a:nth-child(2):hover {
    background-color:red;
} 
```

# php - 使用 Javascript 解析 JSON。来自 Laravel 的 JSON

> ID：15323884
> 
> 赞同：3
> 
> 时间：2013-03-10T15:27:18.463
> 
> 标签：php, javascript, jquery, json, laravel

我正在使用 laravel 来查询 google 的搜索 api。这是执行此操作的代码：

```
Route::get('google/(:any)', function($query)
{
    $uri = "http://ajax.googleapis.com/ajax/services/search/web?v=1.0&q=".$query;
    $response = Httpful::get($uri)->send();
    $r = json_decode($response); 
    return Response::json($r);
}); 
```

这可以通过[http://example.com/w/google/queryhere访问](http://example.com/w/google/queryhere)

我还尝试在 javascript 中发出多个请求并解析 json。

```
$.when( $.ajax(google), $.ajax(bing), $.ajax(yahoo)).then(function(resp1, resp2, resp3)
{ 
    var obj = jQuery.parseJSON(resp1);
}); 
```

但是，在使用 parseJSON 方法时，我得到了一个意外的语法标记。我不知道我哪里错了。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-10T15:57:19.247

首先，[`$.ajax`](http://api.jquery.com/jQuery.ajax/)在检测到内容类型时自行解析 JSON 响应 - 您无需手动执行此操作。

其次，[`$.when`](http://api.jquery.com/jQuery.when/)应用于使用多个参数解析的 Promise 有点模糊。通常，ajax deferred 的回调有 3 个参数：`data, textStatus, jqXHR`. 然而，合并后的 Promise 会将它们作为一个数组解析（每个延迟一个数组）。

所以改成

```
$.when( $.ajax(google), $.ajax(bing), $.ajax(yahoo)).then(function(resp1, resp2, resp3){ 
    var obj = resp1[0];
}); 
```

# objective-c - NSTask 子进程卡在 _dyld_start

> ID：15323886
> 
> 赞同：5
> 
> 时间：2013-03-10T15:27:25.523
> 
> 标签：objective-c, cocoa, nstask, dyld

我使用*NSTask*来运行我的助手应用程序。在 99% 的一个我的客户系统上，这工作正常，但有两个回复我，让我知道它没有。其中一个很好，可以让我查看每个远程桌面的问题。

我为 StandardOutput/StandardError 尝试了很多不同的*NSPipe/NSFileHandle*组合，以确保问题与填充这些缓冲区无关。示例[1](http://cocoadev.com/wiki/WrappingUnixApps)和[2](http://cocoadev.com/wiki/NSTaskWaitUntilExit)。我的猜测是它不相关，因为它在很多系统上都可以正常工作，并且 _dyld_start 在应用程序生命周期中太早而无法填充 StandardOutput/StandardError。

关于该问题的其他说明：

*   从终端启动帮助应用程序工作正常。
*   在卡住的进程上附加和分离 gdb 并且事后价值它工作正常，当它完成时*NSTask在**-waitUntilExit*之后开始工作。
*   使用*fork(2)*和*execv(3)*而不是*NSTask*能够很好地启动和运行帮助程序。
*   父进程是沙盒的，但我认为以前的报告在 Mac OS X 10.6/10.7 上是非沙盒的。

来自活动监视器的流程示例的屏幕截图：

![活动监视器](../Images/005cadf786f6c56390ac570135fda41b.png)

欢迎提供任何线索或调试提示来找出帮助程序卡在 _dyld_start 中的原因！

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2013-03-25T20:22:41.330

由于没有人回答，我提出了一些想法。也许其中一个是答案——只是猜测——但由于欢迎提供线索和提示，你可以看看：

*   崩溃转储中已加载库的列表（那里可能有线索）
*   子进程中会发生的任何错误（在 fork 之后）。但是，我明白为什么很难恢复任何分叉后错误。

如果我没记错的话，NSTask 调用`posix_spawn(2)`. 这可能是一个线索，因为使用`fork(2)`and`execv(3)`似乎有效，您可以关注`NSTask`与非阻塞替代方案之间的差异。显然，一开始就发生了一些事情，阻止了孩子正确执行。

*   你确定它是卡住而不是崩溃吗？据用户所知，您的应用程序看起来不会崩溃。只有子进程会崩溃。
*   作为最后的手段，您可以尝试查找是否发生了任何马赫异常（如果有的话，那将意味着一个错误，您无论如何都无法恢复。但它仍然会提供有价值的线索）。
*   您可以告诉愿意的客户向您发送他们的系统诊断。为了这个目标，请他们
    打`Command`++++`Option`等待`Control`几分钟。不久之后，他们的查找器应该会弹出一个窗口，显示一个名为：. 请让他们邮寄给您。我的大约 5 MB。[有关sysdiagnose 手册页](http://developer.apple.com/library/mac/#documentation/Darwin/Reference/Manpages/man1/sysdiagnose.1.html)的更多详细信息。`.``Shift``sysdiagnose_timestamp_.tar.gz`

# javascript - jQuery Slidetoggle 旋转 45 度并返回

> ID：15323887
> 
> 赞同：1
> 
> 时间：2013-03-10T15:27:29.953
> 
> 标签：javascript, jquery, rotation, slidetoggle

我试图让元素在点击动作时旋转 45º，切换元素应该打开。如果您再次单击它，我希望它向后旋转并且切换元素应该关闭。

我已经尝试了很多代码，我想让它尽可能简单。

[我正在使用的插件](http://ricostacruz.com/jquery.transit)

jQuery：

```
$(".category-desc-toggle").click(function () {
    $('.category-desc').slideToggle(300);
    $(".category-desc-toggle").toggleClass("rotate45");
}); 
```

CSS：

```
.rotate45 { 
    -ms-transform: rotate(45deg);
    -webkit-transform: rotate(45deg);
    -o-transform: rotate(45deg); 
    -moz-transform: rotate(45deg); 
    transform: rotate(45deg);
}
.category-desc-toggle { 
    -moz-transition: all .3s; 
    -webkit-transition: all .3s; 
    -o-transition: all .3s; 
    transition: all .3s;
} 
```

我究竟做错了什么？有没有更简单的方法（更少的代码）？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-10T15:40:00.717

在不知道您的要求的情况下，很难给您一个完整的答案。不过，这可以通过 css3 的旋转和过渡属性来完成。

```
transform: rotate(45deg); 
```

我创建了一个 jsfiddle 来证明这一点。[http://jsfiddle.net/hGZbW/](http://jsfiddle.net/hGZbW/)

编辑：如果有人试图在没有 CSS 的情况下完成此操作，则有一个支持大多数主要浏览器的 jquery 插件。要对 IE 产生这种影响，您需要使用矩阵过滤器。

[https://github.com/heygrady/transform/wiki](https://github.com/heygrady/transform/wiki)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-10T15:56:17.163

事实上，JuanT 是正确的，CSS3 可以完成转换，有关更多信息，请参阅[Firefox MDN 链接](https://developer.mozilla.org/en-US/docs/CSS/transform)。

**jsfiddle：http: [//jsfiddle.net/7K6GP/4/](http://jsfiddle.net/7K6GP/4/)**

```
<div class="description-wrapper">
    <div class="category-desc-toggle rotate"></div>
    <div class="category-desc">Just Some Description</div>
</div>

<script>
    $(".description-wrapper").click(function() {
        $(this).children('div.category-desc').slideToggle(300);
        $(this).children('div.category-desc-toggle').toggleClass("rotate45");
    });
</script> 
```

# c++ - 返回对象的两种形式有什么区别？

> ID：15323895
> 
> 赞同：3
> 
> 时间：2013-03-10T15:28:00.453
> 
> 标签：c++, operator-overloading

我正在尝试为创建为的 Integer 类重载二进制 +：

```
const Integer operator+(const Integer& left,const Integer& right) 
{
    return Integer(left.i + right.i);
} 
```

和

```
 const Integer operator+(const Integer& left,const Integer& right)
 {
     Integer tmp(left.i + right.i);
     return tmp;
 } 
```

现在我学到的是，在第一种情况下，创建并返回一个临时 Integer 对象，在第二种情况下，通常使用构造函数调用创建对象，然后复制然后调用析构函数。Ecekl 所说的第一个是编译器通过将对象直接构建到外部返回值的位置来利用这一点。我们从中推断出什么？我阅读了有关返回值优化的信息，但无法通过直接复制到位置事物中来理解它的含义。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-03-10T15:30:09.203

绝对没有区别，在大多数情况下，体面的编译器会将第二种形式优化为第一种形式 - 并在返回时通过[命名返回值优化 (NRVO)](http://en.wikipedia.org/wiki/Return_value_optimization)`tmp`执行复制/移动省略。

如果它使代码对您更易读，或者更易于维护和/或调试，您可能希望使用第二种形式。如果您关心性能，则没有理由（除非您关闭了编译器优化，但这表明您首先对性能不感兴趣）。

但是请注意，返回 a`const Integer`没有多大意义。由于您是按值返回，因此您应该返回一个`Integer`：

```
Integer operator + (const Integer& left, const Integer& right) 
{
    return Integer(left.i + right.i);
} 
```

作为最后的评论，这甚至可以重写如下，前提是`Integer`有一个非`explicit`构造函数接受一个`int`（注意，这通常*不是*这种情况，因为接受一个参数的构造函数通常被标记为`explicit`避免尴尬的隐式转换）：

```
Integer operator + (const Integer& left, const Integer& right) 
{
    return left.i + right.i;
} 
```

# java - 如何从 jdk 中删除 java 包

> ID：15323898
> 
> 赞同：2
> 
> 时间：2013-03-10T15:28:18.907
> 
> 标签：java

我只想保留`java util`、和包`io`，并想从我的 JDK 中删除所有其他包，例如和其他包。`nio``math``java.sql`

我怎样才能删除它们？

*   因此，如果我编写一些导入已删除包的程序，它将给出错误包不存在。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-10T15:35:17.477

使用 SecurityManager 而不是破解 JDK

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-10T15:35:43.983

我会尽我所能给你最好的答案。

**为什么你真的不应该做你想做的事**

* * *

当您编写代码时，通常同意以可扩展的方式开发代码。也就是说，您的代码可以很容易地插入到其他应用程序中，或者可以很容易地对其进行更改和添加。现在牢记这一原则，让我们回顾一下当您删除程序的可能功能时会发生什么。假设您删除了 SQL 包，并且在将来，您希望后端数据库在您的程序中提供一些持久性。你完蛋了。

Java 的理念，事实上我会说 Java 的主要优势，是它的通用性、一致性和模式的标准化。吸气剂始终是吸气剂。变量（不是常量）以小写字母开头。类具有标准化的结构化方式。所有这些都让 Java 开发变得非常直观。

JDK 是这种一致性的一部分，编辑它是真正影响 Java 的主要观点之一。听起来你想用一种不同的、更紧凑的语言来实现你的程序。

最后，您不知道客户将来可能希望如何扩展您的项目。如果您想从客户那里获得一些可重复的业务，并同时产生良好的声誉，那么您希望在设计代码时考虑到良好的设计实践。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-10T15:39:41.187

1.  没有这样的工具，AFAIK。
2.  从 Java 库中删除东西在技术上可能很棘手，因为很难知道您的代码是否可能直接或间接使用某些类或方法。
3.  如果您在 JRE 安装程序中添加或删除类并将其发送给其他人，则可能存在“许可问题”。

* * *

关于您提出的用例。

1.  如果您将其构建为 Web 应用程序，那么您将很难删除不需要的类。一个典型的 webapp 服务器端框架使用大量的 Java SE 接口。
2.  如果您接受并运行代码，某人想尝试降低您的服务，他们可以在不使用`Object`类的情况下完成。（提示：无限循环并填充堆。）在您的服务器上运行不受信任的代码是一个坏主意。时期。
3.  想想有人试图在你的服务器上运行合法代码的后果。为什么不允许他们使用库类/方法？（如果我不能使用“普通”库类，我肯定会有点生气......）

我的建议是重新考虑实施这样的服务是否是一个好主意……考虑到风险，以及如果你的保障措施无效可能会遇到的困难。如果您决定继续，我建议在 JVM 中的安全框中运行不受信任的代码。作为第二层防御，以防 Java 安全受到威胁，我建议在一个隔离的虚拟机中运行“chrooted”服务，或者更好的是，如果遇到问题可以关闭该虚拟机。

# c++ - C ++中的计算器具有不同的类型和操作可供选择

> ID：15323900
> 
> 赞同：0
> 
> 时间：2013-03-10T15:28:36.193
> 
> 标签：c++, types, numbers, switch-statement

我即将用 C++ 创建简单的计算器。它应该允许用户在两​​个输入的数字上选择类型和操作。所以首先，用户必须从列表中选择数字类型（显示不同的类型，如 int、double、short 等）。之后，它应该允许您编写您之前选择的两个类型的数字。最后，您需要决定要对这些数字（+、-、/、*）执行什么操作。我的问题是我不知道如何将这些输入的数字从方法带到 main()，所以我可以对其进行操作。

```
#include <iostream>
using namespace std;

int integer()
{
    int number1;
    int number2;
    cout << "First number: " << endl;
    cin >> number1;
    cout << "Second number: " << endl;
    cin >> number2;
}

double doubl()
{
    double number1;
    double number2;
    cout << "First number: " << endl;
    cin >> number1;
    cout << "Second number: " << endl;
    cin >> number2;
}

int main()
{

cout << "Type to choose:" << endl;
cout << "1\. int" << endl;
cout << "2\. double" << endl;

int choosed;
cin >> choosed;

switch(choosed) {
    case 1:
        integer();
        break;
    case 2:
        doubl();
        break;
    default:
        cout << "Error" << endl;
        break;
}

cout << "What operation would like to do on this numbers?" << endl;
cout << "1\. +" << endl;
cout << "2\. -" << endl;
cout << "3\. *" << endl;
cout << "4\. /" << endl;

int result;

switch(result){ //at this point i don't know how to invoke those numbers from      methods
    case 1:  
}

cin.get();
} 
```

谢谢！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-10T15:34:51.673

你可以`std::pair`从你的函数中返回

```
std::pair<double,double> doubl()
{
  ...
  return std::make_pair(number1,number2);
} 
```

然后使用它

```
std::pair<double,double> nums = doubl();
double res = nums.first <operation> nums.second; 
```

当您对此感到满意时，我建议您考虑使用模板来创建您的阅读功能。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-26T13:39:28.787

如果我是你，我会这样编写代码：我认为它比上述任何其他代码都更标准。

```
#include<iostream>
#include<string>
using namespace std;
const string EXIT = "-1";
void add(float num1, float num2)
{
    cout<<"Result is: "<< num1 + num2 <<endl;
}
void subtract(float num1, float num2)
{
    cout<<"Result is: "<< num1 - num2 <<endl;
}
void multiply(float num1, float num2)
{
    cout<<"Result is: "<< num1 * num2 <<endl;
}
void divide(float numerator, float denominator)
{
    if (denominator != 0)
        cout<<"Result is: "<< numerator / denominator <<endl;
    else
        cout<<"You can not divide by denominator\n";
}
void modulus(float num1, float num2)
{
    cout<<"Result is: "<<  (int)num1 % (int)num2 <<endl;
}
int main(void)
{
    string mathematicalOperation;
    float num1, num2;
    char operatorSign;

    cout << "Please enter an arithmetic expression (-1 to Exit)\n";
    cin >> mathematicalOperation;
    //search for operator sign and perform calculation
    while(mathematicalOperation.compare(EXIT))
    {
        int getFirstDigitIndex = mathematicalOperation.find_first_of("0123456789");
        int operatorSignIndex = mathematicalOperation.find_first_of("+-*/%", getFirstDigitIndex);

        if (operatorSignIndex != -1)
        {   
            operatorSign = mathematicalOperation.at(operatorSignIndex);

            string firstNumber = mathematicalOperation.substr(0,operatorSignIndex);
            string secondNumber = mathematicalOperation.substr(operatorSignIndex + 1);
            //convert numbers from string to float
            num1 = (float)atof(firstNumber.c_str());
            num2 = (float)atof(secondNumber.c_str());
            switch(operatorSign)
            {
                case '+':
                    add(num1,num2);
                    break;
                case '-':
                    subtract(num1,num2);
                    break;
                case '*':
                    multiply(num1,num2);
                    break;
                case '/':
                    divide(num1,num2);
                    break;
                case '%':
                    modulus(num1,num2);
                    break;
            }
        }

        cout<<"Please Enter Another Expression or Enter -1 to Exit:\n";
        cin>>mathematicalOperation;
    }
    cout<<"SEE YOU LATER!\n";
    return 0;
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-10T16:08:42.570

这是在 C++ 中执行此操作的一种方法。基本上，您必须将答案存储在 main() 中的变量中，并且可以使用标志来告诉您它是一个变量`int`还是一个`double`变量和操作。

```
#include <iostream>
using namespace std;

template<class T>
class numbers
{
   private:
   T num1;
   T num2;

   public:
   numbers() : num1(0), num2(0) {}
   void setvalues(T n1, T n2) {num1 = n1; num2 = n2;}
   T add()      {return num1 + num2;}
   T subtract() {return num1 - num2;}
   T multiply() {return num1 * num2;}
   T divide()   {return (num2 != 0) ? num1 / num2 : 0;}
};

void integer(numbers<int>& numo)
{
    int number1;
    int number2;
    cout << "First number: " << endl;
    cin >> number1;
    cout << "Second number: " << endl;
    cin >> number2;
    numo.setvalues(number1, number2);
}

void doubl(numbers<double>& numo)
{
    double number1;
    double number2;
    cout << "First number: " << endl;
    cin >> number1;
    cout << "Second number: " << endl;
    cin >> number2;
    numo.setvalues(number1, number2);
}

int main()
{

cout << "Type to choose:" << endl;
cout << "1\. int" << endl;
cout << "2\. double" << endl;

int choosed;
cin >> choosed;

numbers<int> num_int;
numbers<double> num_dbl;
int typeOfVal = 0; // 1 for integer, 2 for double

switch(choosed) {
    case 1:
        integer(num_int);
        typeOfVal = 1;
        break;
    case 2:
        doubl(num_dbl);
        typeOfVal = 2;
        break;
    default:
        cout << "Error" << endl;
        return 1;
}

int typeOfOp = 0;
cout << "What operation would like to do on this numbers?" << endl;
cout << "1\. +" << endl;
cout << "2\. -" << endl;
cout << "3\. *" << endl;
cout << "4\. /" << endl;
cin >> typeOfOp;

int resint; //result for int
double resdbl; // result for double

switch(typeOfOp){ 
    case 1: 
      if (typeOfVal == 1) resint = num_int.add(); else resdbl = num_dbl.add();
      break;
    case 2: 
      if (typeOfVal == 1) resint = num_int.subtract(); else resdbl = num_dbl.subtract();
      break;
    case 3: 
      if (typeOfVal == 1) resint = num_int.multiply(); else resdbl = num_dbl.multiply();
      break;
    case 4: 
      if (typeOfVal == 1) resint = num_int.divide(); else resdbl = num_dbl.divide();
    default:
      cout << "Error" << endl;
      return 1;
}

cout << "The answer:" << endl;
if (typeOfVal == 1) cout << resint << endl;
else cout << resdbl << endl;

cin.get();
return 0;
} 
```

# c++ - 使用 pthread API 的并发服务器

> ID：15323905
> 
> 赞同：0
> 
> 时间：2013-03-10T15:28:51.890
> 
> 标签：c++, pthreads, client-server

我正在使用 pthread-s API 编写一个简单的客户端-服务器应用程序，它在伪代码中看起来像这样：

```
static volatile sig_atomic_t g_running = 1;
static volatile sig_atomic_t g_threads = 0;
static pthread_mutex_t g_threads_mutex;

static void signalHandler(int signal)
{
  g_running = 0;
}

static void *threadServe(void *params)
{
  /* Increment the number of currently running threads. */
  pthread_mutex_lock(&g_threads_mutex);
  g_threads++;
  pthread_mutex_unlock(&g_threads_mutex);

  /* handle client's request */

  /* decrement the number of running threads */
  pthread_mutex_lock(&g_threads_mutex);
  g_threads--;
  pthread_mutex_unlock(&g_threads_mutex);
}

int main(int argc, char *argv[])
{
   /* do all the initialisation 
      (set up signal handlers, listening socket, ... ) */

   /* run the server loop */
   while (g_running)
   {
     int comm_sock = accept(listen_socket, NULL, 0);
     pthread_create(&thread_id, NULL, &threadServe, comm_sock) ;
     pthread_detach(thread_id);
   }

   /* wait for all threads that are yet busy processing client requests */
   while (1)
   {
     std::cerr << "Waiting for all threads to finish" << std::endl;;

     pthread_mutex_lock(&g_threads_mutex);
     if (g_threads <= 0)
     {
       pthread_mutex_unlock(&g_threads_mutex);
       break;
     }
     pthread_mutex_unlock(&g_threads_mutex);
   }

   /* clean up */
} 
```

因此，服务器在无限循环中运行，直到收到信号（SIGINT 或 SIGTERM）。第二个 while 循环的目的是让所有线程（在收到信号时正在处理客户端请求）有机会完成它们已经开始的工作。但是我不太喜欢这种设计，因为第二个while循环基本上是一个浪费cpu资源的繁忙循环。

我试图在谷歌上搜索线程并发服务器上的一些好例子，但我没有运气。我想到的一个想法是使用`pthread_cond_wait()`i 而不是那个循环，但我不确定这是否会带来更多问题。

所以问题是，如何改进我的设计，或者指出一个很好的简单示例来处理与我类似的问题。

编辑：

我正在考虑`pthread_join()`，但我不知道如何加入工作线程，而主服务器循环（其中有`accept()`调用）仍在运行。如果我`pthread_join()`在之后的某个地方调用`pthread_create()` （而不是`pthread_detach()`），那么 while 循环将被阻塞，直到工作线程完成并且整个线程将没有意义。如果我在程序启动时生成所有线程，我可以使用`pthread_join()`它们，但是我会在我的服务器的整个生命周期中使用它们，我认为这可能有点低效。同样在阅读手册页后，我明白了，这`pthread_detach()`完全适合这个目的。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-10T16:14:37.810

`usleep(10000);`通过在互斥锁之外有一个或类似的东西，可以很容易地改变繁忙的循环 slurping CPU 。

如果您使用 - 会更轻量级`std::atomic<int> g_threads;`，您可以完全摆脱互斥锁。

如果你有一个（活动的）thread_id 的数组，你可以只使用一个循环

```
for(i = 0; i < num_active_threads; i++) 
   pthread_join(arr[i]); 
```

# php - 我可以将 php 变量作为附件发送吗

> ID：15323906
> 
> 赞同：0
> 
> 时间：2013-03-10T15:29:10.000
> 
> 标签：php, email, phpmailer

我正在使用 livedoc 创建一个 pdf。我没有将文件保存到服务器就成功了，这就是这里的目标。

我可以通过 phpmailer 附加我在变量上创建的文件并通过电子邮件发送它。

```
require("php_mailer/phpmailer.inc.php");

$mail = new phpmailer;
$mail->From = "noreply@credireto.com";
$mail->FromName = "Crédireto";
$mail->Host = "smtp1.site.com;smtp2.site.com";  // specify main and backup server
$mail->AddAddress("$email");   // name is optional
$mail->WordWrap = 50;    // set word wrap
$mail->AddAttachment("$data","Simulação.pdf");  // add attachments
$mail->IsHTML(true);    // set email format to HTML
$mail->Subject = "Simulação Crédireto";
$mail->Body = filegetcontents("emailagradecimento");
$mail->Send(); // send message 
```

变量 $data 包含我要发送的文件。

* * *

## 回答 #1

> 赞同：-2
> 
> 时间：2013-03-11T16:02:27.130

我解决了。创建了一个临时文件并发送了附件。如果您需要任何帮助，请告诉我。

# python - 将 Python 实例属性存储在文本文件中的更好方法是什么？

> ID：15323910
> 
> 赞同：2
> 
> 时间：2013-03-10T15:29:43.927
> 
> 标签：python, file, text, csv

我需要在一个文本文件中存储一个相对较大的可变实例变量列表。这是我当前阅读和写作方法的细分：

```
class Car():
    def __init__(self, name, size, color):
        self.name = name
        self.size = size
        self.color = color

aa = Car('truck','big','red')
bb = Car('sedan','small','blue')
cc = Car('bus','big','yellow')

with open('test.csv', 'ab') as ff:
    ww = csv.writer(ff)
    for i in [aa, bb, cc]:
        ww.writerow([i.name, i.size, i.color])

carList = []
with open('test.csv', 'rb') as ff:
    rr = csv.reader(ff)
    for i in rr:
        carList.append(Car(i[0], i[1], i[2]) )

print carList[1].color 
```

这有几个问题。列的数量和顺序被有效地硬编码。我不确定这是否可以轻松避免，但我觉得应该可以。我相信，修改文件中间的一个实例需要遍历所有行并重写它们，同时检查'name'（与其他变量不同的是唯一的），以便以不同的方式写入。此外，在实例化之前，我不能直接按名称访问值，这也没什么大不了的，但我觉得我应该避免它。

该系统运行良好，但似乎可以大大改进。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-10T15:45:24.387

您可能会考虑使用数据库管理系统，如 postgresql 或 mysql。（甚至可能是一个花哨的新 noSql 数据库？）他们工作并普遍解决了如何处理大数据并仍然保持性能的问题......

如果您设计自己的格式，您最终可能会重新实现诸如索引（例如 btree）之类的东西以提高性能。

话虽这么说：对于您的简单示例，我会说 csv 是合适的。只需添加一个标题行（名称；大小；颜色），以便可以从标题中看到列的顺序。这解决了订单问题的硬编码......

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-10T15:37:25.847

我从未使用过它，但请查看[pickle/cpickle](http://docs.python.org/2/library/pickle.html)。它可能更容易处理：

```
# Save a dictionary into a pickle file.
import pickle

favorite_color = { "lion": "yellow", "kitty": "red" }

pickle.dump( favorite_color, open( "save.p", "wb" ) )

#Load the dictionary back from the pickle file.

favorite_color = pickle.load( open( "save.p", "rb" ) )
# favorite_color is now { "lion": "yellow", "kitty": "red" } 
```

# javascript - jScrollPane 不工作

> ID：15323913
> 
> 赞同：0
> 
> 时间：2013-03-10T15:30:01.230
> 
> 标签：javascript, html, scrollbar, jscrollpane, jquery-jscrollpane

我正在尝试使用 jScrollPane，原来的滚动条消失了，它不起作用！大约一个月前，我已经在另一个网站上使用过它，而且效果很好。唯一的问题是：鼠标滚轮不起作用（这是我的第二个问题）。

代码：

```
<link type="text/css" href="jScrollPane/jquery.jscrollpane.css" rel="stylesheet" media="all" />
<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.4.2/jquery.min.js"></script>
<script type="text/javascript" src="jScrollPane/jquery.mousewheel.js"></script>
<script type="text/javascript" src="jScrollPane/jquery.jscrollpane.min.js"></script>
<script type="text/javascript" src="jScrollPane/mwheelIntent.js"></script>

<script type="text/javascript">
$(function(){ $("#body").jScrollPane(); });
</script>
</head>
<body id="body"> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-05-05T18:50:46.690

我正在研究同样的问题并发现了一些事情。我同意您应该使用更新版本的 jQuery。如果您使用 1.8.2，它将工作。但是，如果您使用 1.9.1，则需要删除 mWheelIntent.js，因为它和 1.9.1 存在一些问题。希望这对某人有帮助！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-05-28T15:12:46.053

该插件需要与包含滚动窗格元素基本样式的 css 文件进行交互。window.load 方法，在运行初始化脚本之前加载页面的所有资产。在这种情况下，我使用了 jQuery 1.9.1。

```
$(window).load(function(){
  $(".scroll-pane").jScrollPane();
}); 
```

我希望这有帮助。此致

# volume - 从封闭的三角形网格创建四面体网格

> ID：15323926
> 
> 赞同：4
> 
> 时间：2013-03-10T15:30:58.763
> 
> 标签：volume, mesh

我正在寻找一种算法（或实现）来从封闭（即没有孔）3D 三角形网格创建四面体网格。

最好的解决方案是一个开源应用程序，它可以导入网格文件（例如 OBJ、STL 和 VTK），显示它们，并提供一个选项来四面体化网格。但我也可以使用命令行工具，或者只是算法的轮廓。

一些背景知识——我在 Linux 系统上使用 Blender 来设计表面网格。最终我计划在 Python 或 MATLAB 中实现一个四面体化算法。

在寻找一个好的网格器时，我已经偶然发现了一些应用程序名称，但到目前为止我还没有任何具体的结果。因此，欢迎任何有关相关论文、算法或实现的信息！

到目前为止发现的应用程序：

*   网格实验室
*   泰根
*   Gmsh
*   犀牛

一些相关术语：

*   德劳内 (3D)
*   推进前网格化

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2015-07-28T16:12:24.443

您可以使用我正在开发的 GEOGRAM 软件：

[http://alice.loria.fr/software/geogram/doc/html/index.html](http://alice.loria.fr/software/geogram/doc/html/index.html) （支持STL和OBJ文件格式）。

在场景下，它使用 tetgen。它还具有 OpenGL 的可视化功能。

# haskell - “return”关键字有什么特别之处

> ID：15323927
> 
> 赞同：12
> 
> 时间：2013-03-10T15:31:01.543
> 
> 标签：haskell, functional-programming, monads

当我似乎理解了 Haskell 中 return 的用途时，我尝试使用不同的替代方案，似乎 return 不仅可以在 monad 链中的任何地方使用，而且可以完全排除

```
*Main> Just 9 >>= \y -> (Just y) >>= \x -> return x
Just 9

*Main> Just 9 >>= \y -> (return y) >>= \x -> (Just y)
Just 9

*Main> Just 9 >>= \y -> (Just y) >>= \x -> (Just x)
Just 9 
```

即使我在自己的实例中省略 return ，我也只会收到警告......

```
data MaybeG a = NothingG | JustG a deriving Show 
instance Monad MaybeG where  
    --    return x = JustG x  
        NothingG >>= f = NothingG  
        JustG x >>= f  = f x  
        fail _ = NothingG  

Monad.hs:3:10:
    Warning: No explicit method nor default method for `return'
    In the instance declaration for `Monad MaybeG' 
```

我仍然可以使用单子

```
*Main> JustG 9 >>= \y -> (JustG 11) >>= \x -> (JustG y)
JustG 9

*Main> JustG 9 >>= \y -> (NothingG) >>= \x -> (JustG y)
NothingG 
```

那么 return 关键字有什么特别之处呢？这是关于我不能省略的更复杂的情况吗？还是因为这是做事的“正确”方式，即使它们可以以不同的方式完成？

**更新：** ..或另一种选择，我可以定义我自己的一元值构造函数

```
finallyMyLastStepG :: Int -> MaybeG Int
finallyMyLastStepG a = JustG a 
```

并产生同一链的另一个变体（具有相同的结果）

```
*Main> JustG 9 >>= \y -> (JustG 11) >>= \x -> (finallyMyLastStepG y)
JustG 9 
```

* * *

## 回答 #1

> 赞同：37
> 
> 时间：2013-03-10T16:34:08.567

> 那么 return 关键字有什么特别之处呢？

首先，`return`不是Haskell*中*的关键字。它是一个重载函数。

其类型由下式给出：

```
class  Monad m  where
    -- | Sequentially compose two actions, passing any value produced
    -- by the first as an argument to the second.
    (>>=)       :: m a -> (a -> m b) -> m b

    -- | Inject a value into the monadic type.
    return      :: a -> m a 
```

所以你看到这`return`是一个给定类型值的函数`a`，返回一个新的类型值`m a`，其中`m`某个类型是 的一个实例`Monad`。此类类型包括：

*   单子`[]`
*   单子`I0`
*   单子`Maybe`
*   单子`STM`
*   单子`((->) r)`
*   单子`(Either e)`
*   单子`(ST s)`

还有更多。'Monad' 的实例应满足以下定律：

```
> return a >>= k  ==  k a
> m >>= return  ==  m
> m >>= (\x -> k x >>= h)  ==  (m >>= k) >>= h 
```

函数的实现`a -> m a`很容易猜到。以下是最常见的 monad 的定义：

*列表*：

```
 return x = [x] 
```

*也许*

```
 return x = Just x 
```

所以你会看到这`return`是一个重载函数，它把一个值“提升”到一个单子包装器中。因此，您可以在任何可以使用其定义的地方使用它。例如

```
Prelude> 1 : return 2
[1,2] 
```

或在[概念`do`中（在](http://book.realworldhaskell.org/read/io.html#io.bind)[链接表达式](http://book.realworldhaskell.org/read/monads.html#id638573)时很有用）。

```
> do v <- return 7 ; return v :: Maybe Int
Just 7 
```

使用单子的真正原因`return`是在某些单子中组合多个值时：

```
Prelude> do x <- return 1 ; y <- return 2 ; return (x + y) :: Maybe Int
Just 3
Prelude> do x <- Nothing  ; y <- return 2 ; return y
Nothing 
```

在最后一个语句中，您会看到链在给定 monad 达到零值后是如何短路的。在这种情况下`Nothing`。

摘要：`return`是一个重载函数，它将一个值提升到一个单子包装器中。当您需要提升价值时，您可以使用它。它*不是*控制流关键字，因为它在命令式语言中。

* * *

## 回答 #2

> 赞同：13
> 
> 时间：2013-03-10T15:35:49.240

我怀疑您误解了在 Haskell 的单子上下文中“返回”的含义。return 是一个*函数*，它接受`a`并返回一个“包装的`a`”——也就是说，monad 的最简单的可能实例。在其他语言中，它通常被称为`Unit`. `return`这不是您在类 C 语言中看到的“控制流” 。

因此，在您的`Maybe`monad 示例中，我们将 return 定义为一个接受 an`a`并返回 a的函数`Maybe a`：

```
return :: a -> Maybe a 
```

它有什么作用？如果你给它`x`，它会给你回报`Just x`：

```
return x = Just x 
```

现在，`return`当您需要该功能时，您可以将其用作速记，而不是写出：

```
\x -> Just x 
```

之所以这样称呼它，是`return`因为当你用符号写出 monad 时`do`，它看起来就像你在类似 C 的语言中所做的那样。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-03-12T10:03:08.057

Mike Hartl 的评论将我引向了正确的方向，虽然不是那么正式的恕我直言，所以我只是发布了我的最终理解，“return”运算符有什么特别之处。

任何类型类都列出了它支持的运算符，并且有些函数只能在此类上下文中工作（通过类约束符号 => 强加）。因此，例如 filterM 签名

```
filterM :: Monad m => (a -> m Bool) -> [a] -> m [a] 
```

向我们展示了它只能在单子上下文中使用。神奇的是，在主体中，该函数可以自由使用该类具有的任何运算符（>>= 并返回 Monad），如果一个实例（例如我的 MaybeG ）缺少方法（在我的情况下返回），那么该函数可以失败。所以当回报在那里

```
> filterM (\x -> JustG (x > 0)) [2, 1, 0, -1] 
JustG [2,1] 
```

当它被评论时（请参阅我在问题中对 MaybeG 的实现）

```
> filterM (\x -> JustG (x > 0)) [2, 1, 0, -1] 

*** Exception: Monad.hs:3:10-21: No instance nor default method for class operation GHC.Base.return 
```

因此，如果计划将实例与使用此类（在本例中为 monad）约束的函数一起使用，则需要实现任何运算符（在 monad 情况下返回）。

我认为我最初的误解是由于大多数教程在没有多态（即席）上下文的情况下解释单子链。在我看来，这种情况使 monad 更加强大和可重用。

# c++ - C++ std::string 搜索特殊字符

> ID：15323934
> 
> 赞同：0
> 
> 时间：2013-03-10T15:31:46.437
> 
> 标签：c++, string, search

我从 HTML 请求中得到了一个长字符串。我需要在其中找到以下子字符串：

```
<b><i> 
```

但是，当我尝试搜索时，它会给我错误的结果。

如果我用不包含 < 或 > 的东西替换字符串，它可以完美地工作。

相关代码：（未复制，可能有一些拼写错误，但可以在没有特殊字符的情况下使用）

```
std::string readBuffer; //longlongstring
std::string starttag;
std::string endtag;

size_t sstart;
size_t send;

//...................

sstart=readBuffer.find(starttag);
send=redBuffer.find(endtag);

correction=readBuffer.substr(sstart,send-sstart);

//.................... 
```

所以，是的，如果有人碰巧知道解决这个问题的方法，我会非常感激:) 提前致谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-10T15:46:26.483

这按预期工作：

```
#include <cassert>
#include <string> 

int main(int,char**)
{
  std::string data = "...<b><i>Berlin</b></i>";
  size_t sstart = data.find("<b><i>")+6;
  size_t send = data.find("</b></i>");
  std::string correction = data.substr(sstart,send-sstart);
  assert(correction=="Berlin");
  return 0;
} 
```

如果您创建了一个像这样的小型完整示例，但是您遇到了失败，那么确定问题所在会变得更加容易。

# java - Eclipse如何直接显示可用功能列表

> ID：15323942
> 
> 赞同：20
> 
> 时间：2013-03-10T15:32:46.297
> 
> 标签：java, eclipse

Eclipse 有一个特性，您可以在其中编写一个类名，后跟一个点，然后会出现可用公共函数的列表。但是，如果我想查看我目前所在班级的功能怎么办？我知道的唯一解决方案是编写`this.`，从出现的列表中选择函数，然后删除`this.`.

有没有什么办法不用写就可以显示弹出菜单`this.`，也许是热键？

* * *

## 回答 #1

> 赞同：35
> 
> 时间：2013-03-10T15:34:27.360

您所指的是代码完成，可以在 Eclipse 中使用`Ctrl`+访问。`Space`这将列出适用于当前上下文的所有变量、字段、方法、类。

此外，在 Eclipse 中还有`Ctrl`+ `O`，它将为您提供当前类中所有可用方法的列表。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-03-10T15:34:40.400

您需要做的就是按`ctrl`和`spacebar`键。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-10T15:34:40.527

你可以使用`Ctrl`+`O`

你可以看到一个类中所有可用的方法

如果只想从一个成员跳到下一个（或上一个），可以使用`Ctrl`++`Shift``↓</kbd> or `Ctrl` + `Shift` + `↑</kbd>, respectively.)``

或`Ctrl`+`Space`

# css - 在包装器/容器 div 元素上使用相对位置的目的是什么？

> ID：15323943
> 
> 赞同：0
> 
> 时间：2013-03-10T15:32:47.363
> 
> 标签：css, position

几个月前我正在练习 HTML 标记和 CSS，现在我对网页设计标准和布局非常了解。我已经多次看到其他 Web 布局的来源，它们在主包装器或容器 div 上使用相对位置。我想知道使用它的目的，因为该包装器 div 上没有出现任何物理/视觉变化..那么背后的目的是什么？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-10T15:34:13.727

在容器上使用`position: relative;`是这样`position: absolute;`，后代将应用于容器元素，而不是`body`.

请参阅[`position`](http://learnlayout.com/position.html)learnlayout.com 上的页面。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-10T15:34:42.580

[http://www.w3.org/wiki/CSS/Properties/position](http://www.w3.org/wiki/CSS/Properties/position)

相对位置将告诉浏览器在正常文档流中“保留”元素的空间，并且您可以以任何方式替换所述元素而不会进一步影响文档流（例如`left: -50%`）。

此外，相对位置允许内部绝对定位的子元素相对于该元素定位。例如，如果子元素的绝对位置为`top: 50px`，它将相对于父元素（相对定位的）的上边框相对定位 50px，而不是从`<body>`元素开始。

# linux - 如何将 git 存储库分离/解耦到不同的位置

> ID：15323951
> 
> 赞同：3
> 
> 时间：2013-03-10T15:33:43.253
> 
> 标签：linux, git, repository, backup

我的请求可能看起来很奇怪，但在我解释了我为什么这样做之后会更有意义。

所以我有我的个人项目`/path/to/myprojects`。下面可能是 C、Perl、Shell、Tcl 等。现在我想将这些项目组（C、Perl 等）放在 git 下，但在不同的位置，例如`/path/to/mygits/`.

我想这样做的原因是，传统上我首先通过 rar 将我的 /path/to/myprojects 备份到其他位置。由于它们都是基于文本的，因此将它们 rar 起来将产生出色的压缩比。现在我想保持同样的做法，即使我已经引入了 git。因此，我需要将二进制 git 存储库远离我的文本基础文件夹，放入单独的二进制基础文件夹中。

我在 stackoverflow 上的所有发现都表明不可能，或者我“必须使用可能非常痛苦的子模块”： [Git：不同的工作目录和存储库位置](https://stackoverflow.com/questions/14723577/git-different-working-directory-and-repository-location)， [具有不同位置的文件夹的 git 存储库](https://stackoverflow.com/questions/10660048/git-repository-with-folders-in-different-locations)， [将单独的目录/项目/文件添加到 Git 存储库](https://stackoverflow.com/questions/9334444/add-separate-directories-projects-files-to-git-repository)

但是，有一个答案说可以将 git 工作目录和 git 存储库目录解耦： [如何更改 Git 存储库的位置，](https://stackoverflow.com/questions/7448660/how-do-i-change-the-location-of-a-git-repository) 但它说了一些`git reset --hard`我想知道细节的事情。

也使用`GIT_DIR`似乎是另一种解决方案。

有人可以帮忙吗？

谢谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-11T03:18:15.053

好吧，等够了，让我回答我自己的问题。正如 DCoder 所指出的，答案是[我可以将 .git 文件夹存储在我想要跟踪的文件之外吗？](https://stackoverflow.com/questions/505467/can-i-store-the-git-folder-outside-the-files-i-want-tracked).

即，那里列出了许多基于 git 的解决方案，都需要一些额外的 git 配置。如果在 Windows 下，您可能必须这样做。但是，在 Linux 下，将 .git 目录符号链接到其他地方是最简单和最干净的解决方案。

# c++ - GDI+ 双缓冲

> ID：15323952
> 
> 赞同：4
> 
> 时间：2013-03-10T15:33:49.460
> 
> 标签：c++, winapi, visual-c++, gdi+

我已经设法用 GDI 实现双缓冲，但不能用 GDI+。我想显示一个 png 图像而不让它闪烁。此外，在某些时候，我还想使用 GDI+ 用 png 图像实现动画，因此了解如何使用 GDI+ 进行双缓冲是必要的。

我已经设法通过 ISTREAM 将 png 图像转换为 Image 对象：这是我的代码的一部分，可以帮助您了解我遇到问题的地方：

```
memmove(pBlock,pImage, size);
CreateStreamOnHGlobal(hBlock, FALSE, &pStream);
Graphics graphics(memDC);
Image image(pStream);
int image_width;
int image_height;
image_width= image.GetWidth();
image_height=image.GetHeight();
graphics.DrawImage(&image, posX,posY, image_width, image_height);
BitBlt(hdc, 0, 0, image_width, image_height, memDC, 0, 0, SRCCOPY); 
```

注意：如果我将 png 图像直接绘制到屏幕 DC (hdc) 上，它会渲染得很好。但是，当我尝试先将图像绘制到 memDC，然后将该 memDC 映射到 screenDC 时，没有图像出现！

有人可以指出我如何使用 GDI plus 进行双重缓冲的正确方向吗？谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-12T08:10:45.810

我认为您的问题可能在于您如何创建 memDC - 您是否使用 CreateCompatibleDC() 来创建它以确保它与您正在执行 BitBlt() 的 hdc 兼容？

我之前回答过一个与此类似的关于双缓冲的问题，您可能会发现该答案很有帮助：

[Windows 7 中的 GDI 加速/绘制到内存位图](https://stackoverflow.com/questions/10840464/gdi-acceleration-in-windows-7-drawing-to-memory-bitmap/10841445#10841445)

那里有很多代码，我用 GDI 将缓冲区加倍，但使用 GDI 或 GDI+ 绘制到内存位图。我发现能够使用 GDI 非常有用，因为它对于某些操作（尤其是与位图相关的功能）比 GDI+ 快得多，但是 GDI+ 做一些事情要容易得多，因此它可以两全其美。

# linux-kernel - 来自内存 inode 的 ext4 指针

> ID：15323959
> 
> 赞同：1
> 
> 时间：2013-03-10T15:34:20.793
> 
> 标签：linux-kernel, ext4

我正在尝试在内核模块中检索 ext4 文件系统 inode 中的直接/间接等地址。我知道我需要查看 ext_inode_info 结构（我通过 container_of 使用相关的 vfs_inode 执行此操作）。但是我应该研究哪个领域？

例如，我在哪里可以找到第一个直接指针？我以为它存储在 i_data 数组中（它在 ext3_inode_info 中）。但是对于 ext4 inode，当我检查 i_data 中的第一个条目时，我得到的扇区地址与保存第一个数据块地址的实际扇区不太相似。

任何帮助将不胜感激。

==编辑==

好的，所以我似乎已经理解了基本问题。我有一个基于范围的 ext4 文件系统。不知道此更改，并且默认情况下已启用。那么有没有一种简单的方法可以通过偏移量提取块的物理地址呢？我再次尝试通过查看第一个范围来验证第一个物理块（逻辑 0），但我得到了一些乱码（尽管每个 inode/文件都是一致且唯一的，因此取得了一些进展）。

# php - 我想保护我的 mysql 连接和 php 页面

> ID：15323961
> 
> 赞同：-2
> 
> 时间：2013-03-10T15:34:31.257
> 
> 标签：php, mysql, security

我希望在 php 页面中为我的 mysql 连接提供安全防护。

我的数据库用户密码与 root 密码不同。我用过这个查询：

```
function make_safe2($safe) 
{
$safe = strip_tags(mysqli_real_escape_string(trim($_POST['bname'] . $_POST['why'] . $_POST['email'] . $_POST['submit'])));
return $safe; 
} 
```

有没有其他方法可以确保安全免受 SQL 注入和其他黑客攻击。我没有任何登录页面。我有一个带有 bname、原因和电子邮件字段的表单以及一个提交按钮。提交按钮是否需要转义字符串？:P 愚蠢的问题，我猜。

其他预防 SQL 注入的方法和其他方法的完整语法将不胜感激。:)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-10T15:35:40.597

您应该使用带有绑定参数的准备好的语句。

```
$stmt = mysqli_prepare($link, "INSERT INTO CountryLanguage VALUES (?, ?, ?, ?)");
mysqli_stmt_bind_param($stmt, 'sssd', $code, $language, $official, $percent);

$code = 'DEU';
$language = 'Bavarian';
$official = "F";
$percent = 11.2;

/* execute prepared statement */
mysqli_stmt_execute($stmt); 
```

[请参阅文档](http://php.net/manual/en/mysqli-stmt.bind-param.php)

[这个答案](https://stackoverflow.com/a/60496/679449)是了解如何防止 SQL 注入的完整指南。

# ember.js - Ember 自定义视图 创建图表视图

> ID：15323966
> 
> 赞同：2
> 
> 时间：2013-03-10T15:34:44.920
> 
> 标签：ember.js

我正在使用 jquery.flot 为图表创建视图。所以我创建了一个视图，并在我的模板中这样称呼它：

```
{{view GraphView graphableBinding="graphables"}} 
```

问题是图形对象是一个数组，观察者不会触发，它会通知我视图中数组的更改。

我考虑过使用 CollectionView，但是，数组本身不会影响模板的 html 结果，而是需要使用新的数据数组在容器 div 上触发 $.plot() 命令。关于我将如何实现这种事情的任何想法？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-10T19:59:31.237

你可以使用`@each`key让你观察数组内容的变化。请参阅有关此功能的 ember.js 指南：

[http://emberjs.com/guides/object-model/computed-properties-and-aggregate-data/](http://emberjs.com/guides/object-model/computed-properties-and-aggregate-data/)

# java - 将帖子信息发送到 php 文件 (Java)

> ID：15323968
> 
> 赞同：-2
> 
> 时间：2013-03-10T15:35:11.177
> 
> 标签：java, php, post, send

如何将 Post 值发送到 PHP 文件？

这样 PHP 文件就可以将此值发送到数据库或其他东西。

这样我就可以将我的 java 文件中的字符串发送到使用它的 php 文件中。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-10T15:37:29.230

正如我前段时间回答的那样，我为此开设了一个课程，希望对您有所帮助。

但是，您应该向我们展示您尝试过的内容，而不仅仅是询问。

```
import java.io.*;
import java.net.URL;
import java.net.URLConnection;
import java.net.URLEncoder;
import java.util.Vector;

public class SiteFX {

   private String postParameters = "";
   private String webPage;
   private Vector<String>names;
   private Vector<String>values;

   public SiteFX(){
      values = new Vector<String>();
      names = new Vector<String>();
   }

   /**
    * Adds a post variable (page.php?name=value)
    *
    * @param name the variable name
    * @param value the variable value, can be set to null, the url will simply become &name instead of &name=value
    * null
    */
   public void addPostValue(String name, String value) {
      if (value == null) {
         try {
            postParameters += "&" + URLEncoder.encode(name, "UTF-8");
            names.add(name);
            values.add("");
         } catch (Exception ex) {
            ex.printStackTrace();
         }
      } else {
         postParameters += "&" + URLEncoder.encode(name, "UTF-8") + "=" + URLEncoder.encode(value, "UTF-8");
         names.add(name);
         values.add(value);
      }
   }

   /**
    * Send post data without waiting for site output
    *
    * @return true if sending data terminated succesfully
    */
   public boolean sendPost() {
      try {
         if (webPage == null || webPage.equals("")) {
            throw new Exception("Empty url");
         }
         URL url = new URL(webPage);
         URLConnection conn = url.openConnection();
         conn.setDoOutput(true);
         OutputStreamWriter wr = new OutputStreamWriter(conn.getOutputStream());
         wr.write(postParameters);
         wr.flush();
      } catch (Exception e) {
         e.printStackTrace();
         return false;
      }
      postParameters = "";
      return true;
   }

   /**
    * Sends data, then waits for site output
    *
    * @return null if no data is received, or a String containing the data
    */
   public String sendPostWithReturnValue() {

      String returnValue = "";
      try {
         if (webPage == null || webPage.equals("")) {
            throw new Exception("Empty url");
         }
         URL url = new URL(webPage);
         URLConnection conn =
                 url.openConnection();
         conn.setDoOutput(true);
         OutputStreamWriter wr =
                 new OutputStreamWriter(conn.getOutputStream());
         wr.write(postParameters);
         wr.flush();
         BufferedReader rd = new BufferedReader(new InputStreamReader(conn.getInputStream()));
         String line;
         while ((line = rd.readLine()) != null) {
            returnValue += line + "\n";
         }
         wr.close();
         rd.close();
      } catch (Exception e) {
         e.printStackTrace();
         return null;
      }
      postParameters = "";
      values = null;
      names=null;
      values = new Vector<String>();
      names = new Vector<String>();
      return returnValue;
   }

   /**
    * Sets the page to point at for sending post variables
    *
    * @param webPageToPointAt the page that will receive your post data
    */
   public void setWebPageToPointAt(String webPageToPointAt) {
      webPage = webPageToPointAt;
   }

   /**
    * @returns A Nx2 matrix containing all parameters name and values
    */
   public String[][] getParameters() {
      String[][] str = new String[names.size()][2];
      for (int i = 0; i < str.length; i++) {
         str[i][0] = names.get(i);
         str[i][1] = values.get(i);
      }
      return str;
   }
} 
```

# c# - 通过 Ajax 将复杂对象发布到 MVC

> ID：15323973
> 
> 赞同：3
> 
> 时间：2013-03-10T15:35:27.890
> 
> 标签：c#, javascript, asp.net-mvc-3, jquery

我一直在摆弄 MVC 很长一段时间，我有兴趣创建一个将所有 cd 内容记录在一张 cd 下的迷你应用程序。我现在的主要障碍是如何将内容列表与其他属性值一起传递给 Cd.class？

```
public class Cd
{
    public int CdId { get; set; }
    public string Description { get; set; }
    public virtual ICollection<Content> Contents { get; set; } 
}

public class Content
{
    public int Id { get; set; }
    public string Name { get; set; }
    public string ContentType { get; set; }
} 
```

看法：

```
 $.ajax({
 url: '/cd/addCd',
 type: 'POST',
 data:$('form').serialize()
    });

@using(Html.BeginForm()){
@Html.LabelFor(x=>x.CdId)
@Html.TextBoxFor(x=>x.CdId) <br/>
@Html.LabelFor(x=>x.Description)
@Html.TextBoxFor(x=>x.Description)<br />
<input type="submit" value="Submit" id="submit"/> 
```

}

请注意，ajax 的 Serialize 函数已经传递了 CdId 和 Description 值 - 只有 Contents 属性是我无法理解的那个

**更新**

我通过创建一个将序列化数据发送到控制器的 ajax 片段来解决我的查询：

```
 $.ajax({
            type: 'POST',
            url: 'http://localhost:54004/Cd/AddCd',
            data: JSON.stringify(formData),
            contentType:'application/json;charset=utf-8'
        })
        .success(function () { }) 
```

**使用以下 formData obj：**

```
 var formData = {
        'Description': "Learning Visual Studio 2012",
        'CdId': 1,
        'Contents': [{ "Id": 1, "Name": "Video #1", "ContentType": "Mp4" }, { "Id": 2, "Name": "Video #2", "ContentType": "Mp4" }]
    }; 
```

现在控制器正在接收完整的 Cd 实体值及其内容。希望这对将来的某人有用。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-10T18:52:16.583

实现您想要的最佳方法是删除 JQuery 并用 Ajax.BeginForm 替换您的 HTML.BeginForm

```
@using(Ajax.BeginForm()){
@Html.LabelFor(x=>x.CdId)
@Html.TextBoxFor(x=>x.CdId) <br/>
@Html.LabelFor(x=>x.Description)
@Html.TextBoxFor(x=>x.Description)<br />

@Html.TextBoxFor(x=>x.Contents[0].Id)<br />
@Html.TextBoxFor(x=>x.Contents[0].Name)<br />
@Html.TextBoxFor(x=>x.Contents[0].ContentType)<br />
@Html.TextBoxFor(x=>x.Contents[1].Id)<br />
@Html.TextBoxFor(x=>x.Contents[1].Name)<br />
@Html.TextBoxFor(x=>x.Contents[1].ContentType)<br />
<input type="submit" value="Submit" id="submit"/>
} 
```

现在您的提交按钮将发布到以您的视图命名的方法并发送整个模型

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-09-17T16:06:28.390

代替通过迭代手动构建 JSON 对象，有一种有趣的替代方法，即 knockoutmvc（与 MVC 集成的 Knockout）

检查示例 - [http://knockoutmvc.com/BetterList](http://knockoutmvc.com/BetterList)

它无需编写任何额外代码即可发送完整的 JSON 对象。

# javascript - Cloudflare 的 Rocket Loader + Wordpress -> 忽略脚本？

> ID：15323986
> 
> 赞同：2
> 
> 时间：2013-03-10T15:35:59.177
> 
> 标签：javascript, wordpress, cloudflare

我正在尝试让 Cloudflare 的 Rocket Loader 在我的 WP 网站上运行。除了 WP 可视化编辑器外，一切正常。我遵循了这里的建议，但它不起作用：

如何在 Wordpress 中向 javascript 标签添加自定义属性？

Cloudflare 说，为了让 Rocket Loader 忽略 javascript 文件，我需要在脚本之前添加 data-cfasync="false" 标记：

```
<script data-cfasync="false" src="/javascript.js"></script> 
```

[https://support.cloudflare.com/entries/22063443--How-can-I-have-Rocket-Loader-ignore-my-script-s-in-Automatic-Mode-](https://support.cloudflare.com/entries/22063443--How-can-I-have-Rocket-Loader-ignore-my-script-s-in-Automatic-Mode-)

Rocket loader 不会忽略我的 JS 文件。

这是我的代码：

```
function rocket_loader_attributes( $url )
{
$ignore = array (

'http://www.mysite.com/wp-includes/js/tinymce/tiny_mce.js?ver=349-21274',
'http://www.mysite.com/wp-admin/js/editor.js?ver=3.4.2'

);
if ( in_array( $url, $ignore ) )
{ // this will be ignored
return "$url' data-cfasync='false";
}

return $url;
}
add_filter( 'clean_url', 'rocket_loader_attributes', 11, 1 ); 
```

我的代码有什么问题？

我目前在自动模式下使用 Rocket Loader。

任何人都可以帮忙吗？

也许你可以指出我正确的方向。

谢谢你。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2014-03-25T13:42:12.917

我已经找到了解决方案！

正如本文所述： [控制 Cloudflare Rocket Loader](http://wp-dreams.com/cloudflare-rocket-loader-for-wordpress/)

您的脚本几乎是正确的，但手动模式已损坏。您需要切换到自动模式，然后进行一些修改：

```
function rocket_loader_attributes_start() {
    ob_start();
}

function rocket_loader_attributes_end() {
    $script_out = ob_get_clean();
    $script_out = str_replace(
      "type='text/javascript' src='{rocket-ignore}", 
      'data-cfasync="false"'." src='", 
      $script_out);  
    print $script_out;
}

function rocket_loader_attributes_mark($url) {
    // Set up which scripts/strings to ignore
    $ignore = array (
        'script1.js'
    );
    //matches only the script file name
    preg_match('/(.*)\?/', $url, $_url);
    if (isset($_url[1]) && substr($_url[1], -3)=='.js') {
      foreach($ignore as $s) {
         if (strpos($_url[1], $s)!==false)
           return "{rocket-ignore}$url";
      }
      return "$url' data-cfasync='true";
    }

    return "$url";

}
if (!is_admin()) {
  add_filter( 'clean_url', 'rocket_loader_attributes_mark', 11, 1);
  add_action( 'wp_print_scripts', 'rocket_loader_attributes_start');
  add_action( 'print_head_scripts', 'rocket_loader_attributes_end');
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-27T20:55:22.523

请注意，该示例中的标签没有该`type='text/javascript'`属性。出于某种原因，Rocket Loader 需要`data-cfasync='false'`在没有`type='text/javascript'`...错误的情况下使用？

您的代码确实添加了该`data-cfasync='false'`属性，但也没有覆盖 WordPress 添加该`type='text/javascript'`属性的行为，这使得 Rocket Loader 不会“忽略”您的脚本。

由于[相关代码](http://core.trac.wordpress.org/browser/tags/3.5.1/wp-includes/class.wp-scripts.php#L123)不支持过滤器，因此覆盖此 WordPress 行为可能会很棘手......

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2021-04-26T02:48:34.757

Ernest Marcinko 的[解决方案](https://stackoverflow.com/a/22636423/10310114)运行良好；然而，如今更简单（并且可能更安全）的解决方案是使用在[WordPress 4.1](https://wordpress.org/support/wordpress-version/version-4-1/)`script_loader_tag`中添加的钩子。

有关示例，请参[见此答案。](https://stackoverflow.com/questions/60883508/how-to-add-cloudflares-data-cfasync-false-attribute-to-script-elements-in-word/60884017#60884017)

# django - 关闭 IE10 后 Django 显示错误

> ID：15323992
> 
> 赞同：0
> 
> 时间：2013-03-10T15:36:47.947
> 
> 标签：django, internet-explorer, session, session-cookies

在我的 settings.py 上设置 SESSION_EXPIRE_AT_BROWSER_CLOSE = True 后，我在下面收到此错误。我可以毫无错误地打开、登录和注销……但如果我在登录前关闭，我会收到此错误。有没有办法解决它？提前致谢！

```
----------------------------------------
Exception happened during processing of request from ('127.0.0.1', 63792)
Traceback (most recent call last):
  File "c:\Python27\lib\SocketServer.py", line 582, in process_request_thread
    self.finish_request(request, client_address)
  File "c:\Python27\lib\SocketServer.py", line 323, in finish_request
    self.RequestHandlerClass(request, client_address, self)
  File "c:\Python27\lib\site-packages\django\core\servers\basehttp.py", line 150
, in __init__
    super(WSGIRequestHandler, self).__init__(*args, **kwargs)
  File "c:\Python27\lib\SocketServer.py", line 638, in __init__
    self.handle()
  File "c:\Python27\lib\wsgiref\simple_server.py", line 116, in handle
    self.raw_requestline = self.rfile.readline()
  File "c:\Python27\lib\socket.py", line 447, in readline
    data = self._sock.recv(self._rbufsize)
error: [Errno 10054] An existing connection was cancelled by the remote host
---------------------------------------- 
```

# android - Android 不加载我的 webView

> ID：15323994
> 
> 赞同：0
> 
> 时间：2013-03-10T15:36:48.943
> 
> 标签：android, webview

我想加载我的 webView，其 url 是[http://pickalize.info:4000](http://pickalize.info:4000)并使用大量的 javascript。

所以我写这样的代码。

```
@Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.webview);
        WebView webView = (WebView)findViewById(R.id.webview);
        webView.getSettings().setJavaScriptEnabled(true);
        webView.getSettings().setDomStorageEnabled(true);
        webView.loadUrl("http://pickalize.info:4000/");
    } 
```

我尝试将 url 更改为[http://www.google.co.jp](http://www.google.co.jp)然后它正确显示页面。但是我的网站没有出现。

为什么它不显示我的网站？

你有什么主意吗？提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-10T17:11:17.863

您能否在您的 Android 设备上的网络浏览器中仔细检查您的网站正在侦听端口 4000 - 它似乎正在侦听端口 80（HTTP 的默认端口）。

[当我在默认端口（例如http://pickalize.info/](http://pickalize.info/)）上访问您的网站时，我会得到一个包含 URL 列表的网页。注意：[http](http://pickalize.info:80/) ://pickalize.info:80/相当于上面的内容，并且加载了我在 URL 中没有端口号时看到的相同网页。

该页面具有以下文本：

```
Pickalize

    Iphone Apps
    Profile
    Others
    RSS

    no valid 'aps-environment' error 2013-03-02
    ノートを買った 2013-03-02
    JavaでJSON 2013-03-01
    もしかして 2013-03-01
    半日で作ったしょぼいアプリがリリースされた 2013-02-27
    WordBench香川に行ってきた 2013-02-25
    Apple's game center problem. 2013-02-24
    observer 2013-02-21
    ナビゲーションバーを作ってみた。 2013-02-21
    My App has rejected. 2013-02-20
    プログラミングを始めて20ヶ月経って（経過） 2013-02-18
    Python のスクリプトをどこでも実行する 2013-02-17
    やっと... AppStoreに提出できた 2013-02-17
    iOS開発のために画像を編集するやつ作った. 2013-02-17
    Admobを埋め込む注意点 2013-02-16
    Flaskで自分だけのブログを作った。 2013-02-15 
```

我在刚刚创建的使用您的示例代码的迷你 Android 应用程序中获得了类似的内容。为了确保它可以处理 URL 中的端口号，我做了以下小改动：

```
 webView.loadUrl("http://pickalize.info:80/"); 
```

但是，当我尝试使用端口 4000 访问您的网站时，我收到一条消息，告诉我该网站不可用。我已经尝试过使用我的 Android 设备和笔记本电脑。似乎没有站点在端口 4000 上侦听/托管；80 端口上似乎确实有一个站点。

请仔细检查您的站点是否托管在端口 4000 上，并且您可以从使用 Internet 连接到站点的计算机访问它（以防路由器或防火墙限制阻止到端口 4000 的流量）。

PS：端口 80 上的网页有最少的 javascript，从我的笔记本电脑网络浏览器中查看源代码，这是我可以看到的

```
<script src="/static/js/rainbow.js"></script>
<script src="/static/js/languages/javascript.js"></script>
<script src="/static/js/languages/generic.js"></script>
<script src="/static/js/languages/python.js"></script>

<!--google analytics-->
<script type="text/javascript">

  var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-15508754-4']);
      _gaq.push(['_trackPageview']);

        (function() {
                var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
                    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
                        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
                          })();
// google feed

google.load("feeds","1");
var init = function(){
};
google.setOnLoadCallback(init);

</script> 
```

# android - 如何关闭地图和文本框

> ID：15323995
> 
> 赞同：1
> 
> 时间：2013-03-10T15:36:53.473
> 
> 标签：android, lua, coronasdk

我是 Corona 和 Lua 的新手，我正在尝试弄清楚如何关闭地图和文本框。地图和文本框出现在主屏幕上，我能够创建一个按钮（只是一个典型的黑色 x）并使其关闭，但我无法关闭地图或文本框。下面是我正在使用的代码片段，但我被卡住了。我搜索了谷歌，并阅读了他们的文档，但我只是遗漏了一些东西。

```
 local obj = display.newImageRect( "closeButton.jpg" ,25,25 )
            obj.x = 60
            obj.y = 410     -- replaced with newImageRect for dynamic scaling (adjust X & Y as required)

    obj.touch = function (event)
             local btn = event.target
                if event.phase == "ended" then 
                btn.alpha = 0  -- example to show the function doing something
                myMap.alpha = 0
                textBox.alpha = 0
            end

    end

    -- begin detecting touches
    obj:addEventListener( "touch", obj.touch)

myMap = native.newMapView( 25, 0, 275, 180 )
myMap.mapType = "hybrid" -- other mapType options are "satellite" or "hybrid"
myMap.isScrollEnabled = true
myMap.isZoomEnabled = true 
myMap.isLocationUpdating = true
isVisible = myMap.isLocationVisible
myMap:setCenter( 38.354614, -81.726351 )
myMap:addMarker(  38.354614, -81.726351)
-- Adding the Text Box that contains the Directions
textBox = native.newTextBox( 22, 183, 280, 225 )
textBox.text = "blah blah blah boring directions."
local group = display.newGroup()
group:insert( obj ) 
```

我不断收到“尝试索引本地'myMap'（一个零值）”，以及 textBox 的相同错误。因此，如果有人可以提供帮助，我们将不胜感激。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-12T11:13:11.480

在 'obj.touch' 函数上方本地声明您的 'MapView' 和 'textBox'，如下所示：

```
 local myMap;
 local textBox; 
```

**注意**：模拟器不支持 Corona mapView。

继续编码......

# python - Python：在列中查找组合并使用索引值进行相关操作

> ID：15323996
> 
> 赞同：0
> 
> 时间：2013-03-10T15:36:55.193
> 
> 标签：python, combinations, itertools

我需要在列表/列中找到可能的组合（两对）并对相对列/列表执行相对操作。就像，减法对的值。

示例输入：

```
column 1 column2
----------------
A         10
C         20
B         30 
```

输出

```
column1  column2    #internal operation
--------------------------------------
[A,B]    -20        A-B
[A,C]    -10        A-C
[C,B]    -10        C-B 
```

我已经用于`itertools.combinations`组合。

有什么技巧可以完成这项工作吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-10T15:52:13.443

将您的初始列放入地图 P （`P = {'A': 10, ..}`等）中，而不仅仅是计算`w = [((c1, c2), P[c1] - P[c2]) for c1, c2 in itertools.combinations(P.keys(), 2)]`. 它应该包含您想要放入结果列的所有数据。

按列获取数据：`letters_pairs, values = zip(*w)`