# StackOverflow 问答 15737000-15737999

# haproxy - Haproxy 真实 IP + Cloudflare

> ID：15737001
> 
> 赞同：9
> 
> 时间：2013-04-01T02:45:14.650
> 
> 标签：haproxy, cloudflare

我似乎无法完成这件事。我仍然在我的日志中看到 cloudflare IP。目前，我有一个 Cloudflare 后面的负载均衡器。

目前，这是与 forwardfor 相关的块：

```
 option          forwardfor except 127.0.0.1
option          forwardfor except 204.93.240.0/24
option          forwardfor except 204.93.177.0/24
option          forwardfor except 199.27.128.0/21
option          forwardfor except 173.245.48.0/20
option          forwardfor except 103.22.200.0/22
option          forwardfor except 141.101.64.0/18
option          forwardfor except 108.162.192.0/18
    option          forwardfor header X-Real-IP
    reqadd          X-Forwarded-Proto:\ http 
```

有人知道正确的配置可以从 Cloudflare 获取真实 IP 吗？或者可能相当于 nginx 的 set_real_ip_from cloudflareIP 和/或 real_ip_header CF-Connecting-IP 到 haproxy？谢谢。

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2018-09-11T07:57:05.017

你这样做：

*   创建一个包含来自[https://www.cloudflare.com/ips-v4](https://www.cloudflare.com/ips-v4)和[https://www.cloudflare.com/ips-v6](https://www.cloudflare.com/ips-v6)`cloudflare_ips.lst`的所有 IP 范围的文本文件
*   使您在 HaProxy 中**未**启用的疼痛`option forwardfor`

HaProxy 配置：

```
acl from_cf    src -f /path/to/cloudflare_ips.lst
acl cf_ip_hdr  req.hdr(CF-Connecting-IP) -m found

http-request set-header X-Forwarded-For %[req.hdr(CF-Connecting-IP)] if from_cf cf_ip_hdr 
```

*   测试时要小心，因为使用 KeepAlive，您可能每次都需要使用新的浏览器/选项卡。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2016-08-22T22:08:39.253

您正在寻找的是：

```
http-request add-header X_FORWARDED_FOR %[req.hdr(CF-Connecting-IP)] 
```

这将添加正确的 cloudflare 源 IP。如果您什么都不做，那么您最终会得到`src`地址和 cloudflare 地址的标头。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2014-02-21T09:01:32.930

你实际上应该什么都不做。问题是您正在尝试插入转发，除了难以管理的 cloudflare IP 列表，但无论如何您的所有流量都来自 cloudflare。

只需取出任何 forwardfor 选项，cloudflare 标头将通过 haproxy 持续存在。

如果你必须做一些你正在尝试的事情，请确保添加“option httpclose”以确保它总是这样做。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2021-10-29T04:22:42.160

就我而言，简单且最佳的解决方案。

例如，使用 CloudFlare ip 创建文件`/etc/haproxy/cf-ips/cf-ips`，并将字符串添加到配置中：

```
 acl from_cf src -f /etc/haproxy/cf-ips/cf-ips
  http-request set-src req.hdr(CF-Connecting-IP) if from_cf 
```

*来自这篇博文[的信息](https://vitobotta.com/2019/12/23/real-ip-haproxy-ingress-behind-cloudflare/)*

# php - 排行榜除了得分还返回排名

> ID：15737005
> 
> 赞同：0
> 
> 时间：2013-04-01T02:46:24.500
> 
> 标签：php, mysql, actionscript-2

我使用 php mysql 在我的游戏中设置了前 100 名排行榜，并且运行良好。但是，我还想向玩家展示他们的位置，即使他们没有足够高的分数进入前 100 名。

所以我的表有`id`, `user`, `score`php 如下：

```
$getscore = mysql_query("SELECT * FROM $nameTable order by userscore desc LIMIT 0 , 100 ");

if (!$getscore || mysql_num_rows($getscore)==0) {
    $msg = mysql_error();
    $string .= '&kode=Data Failed&';
} else {
    $string .= '&nr='.mysql_num_rows ($getscore);
    $i = 0;
    while ($row = mysql_fetch_assoc ($getscore)) {
        while (list ($key, $val) = each ($row)) {
            $string .= '&' . $key . $i . '=' . stripslashes($val) ;
        }
        $i++;
    }
    $string .='&';
} 
```

as2 脚本是：

```
myData.onLoad = function(success)
{
    if (success)
    {
        for (i = 0; i < myData.nr; i++)
        {
            scroll.spContentHolder["n" + i].text = myData["username" + i];
            scroll.spContentHolder["s" + i].text =  myData["userscore" + i];
        }
    } 
```

那么我将如何将玩家的排名和分数返回到我的排行榜顶部？我已经阅读了有关在 MySQL 中索引分数的信息，但不确定如何将其与 php 和 as2 关联起来。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-01T02:50:47.937

我不确定您是否正在寻找执行此操作的 SQL 查询或 PHP 代码或两者兼而有之。这是您要查找的 SQL 查询，因为我对操作脚本一无所知。

假设您拥有（或可以获得）用户名或 ID 到变量中（我将假设您拥有 ID）

```
SELECT username, score FROM $tablename WHERE id=$id; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-10-14T12:35:01.823

查询玩家所在的行已经给了你分数。但是，您需要添加一个子查询来获得排名，如下所示：

```
SELECT  t0.*,
    (
        SELECT  COUNT(*)
        FROM    $tablename t1
        WHERE   t1.score >= t0.score
    ) AS rank
FROM    $tablename t0
WHERE   $id = '$id'; 
```

在 PHP 中，排名将在结果集中的“排名”键下可用。然后，您必须在您的 AS2 代码中解析额外的键值对以获得排名。tutsplus.com 上有一个教程，其中描述了整个系统：[Self-Hosted PHP/SQL Leaderboard](http://gamedevelopment.tutsplus.com/tutorials/how-to-code-a-self-hosted-phpsql-leaderboard-for-your-game--gamedev-11627)

# mysql - MySQL MIN() 函数只返回一条记录

> ID：15737006
> 
> 赞同：2
> 
> 时间：2013-04-01T02:46:34.047
> 
> 标签：mysql, sql, select, min

我有一个数据集：

```
+----+---------------+-------+-------------+---------------------+
| id | ip            | port  | point_count | create_time         |
+----+---------------+-------+-------------+---------------------+
|  1 | 192.168.20.28 | 10000 |           0 | 2013-03-29 14:29:14 |
|  2 | 0.0.0.0       | 10000 |           0 | 2013-03-29 14:29:32 |
|  3 | 0.0.0.1       | 11111 |           2 | 2013-03-29 14:29:38 |
|  4 | 0.0.0.5       | 11112 |           3 | 2013-03-29 14:29:44 |
+----+---------------+-------+-------------+---------------------+
4 rows in set (0.00 sec) 
```

现在，我使用mysql的`MIN()`函数来获取记录：

```
mysql> SELECT s.id, s.ip, s.port, MIN(s.point_count) FROM origin_server s;
+----+---------------+-------+--------------------+
| id | ip            | port  | MIN(s.point_count) |
+----+---------------+-------+--------------------+
|  1 | 192.168.20.28 | 10000 |                  0 |
+----+---------------+-------+--------------------+
1 row in set (0.00 sec) 
```

显然，列 point_count 有两行具有相同的值，但它只返回了一条记录。我只是想确认这种情况是否正确。提前致谢 ：）

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-04-01T02:48:06.840

您只获得一条记录的原因是因为`MIN()`它是一个聚合函数，它为每个组返回一条记录。由于您没有指定`GROUP BY`子句，因此结果是正常的，它只给您一条记录。

您可以使用子查询来获取 的最小值`point_count`并将其等同于外部查询的 `point_count`.

```
SELECT  *
FROM    origin_server 
WHERE   point_count = (SELECT MIN(point_count) FROM origin_server) 
```

*   [SQLFiddle 演示](http://www.sqlfiddle.com/#!2/5dc94/1)

输出

```
╔════╦═══════════════╦═══════╦═════════════╦═════════════════════╗
║ ID ║      IP       ║ PORT  ║ POINT_COUNT ║     CREATE_TIME     ║
╠════╬═══════════════╬═══════╬═════════════╬═════════════════════╣
║  1 ║ 192.168.20.28 ║ 10000 ║           0 ║ 2013-03-29 14:29:14 ║
║  2 ║ 0.0.0.0       ║ 10000 ║           0 ║ 2013-03-29 14:29:32 ║
╚════╩═══════════════╩═══════╩═════════════╩═════════════════════╝ 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-01T02:53:45.010

是的，**只返回一条记录是正确的：返回**的其他值是“不明确的”，不能可靠地视为聚合的一部分！

*如果使用聚合函数，则它有效地将整个查询视为一个组*（除非任何其他定义的分组）。为了获得*明确定义的*行为，选择列表中的所有列都必须是聚合的，或者必须在 GROUP BY 子句中提及。

使用`SELECT s.ip, MIN(s.point_count) FROM origin_server s GROUP by s.ip`将返回 4 条记录（*每个组*`MIN`都应用），因为它定义了不同的分组。

 *Using`SELECT MIN(s.point_count) FROM origin_server s`将仅返回最小 point_count（在整个查询中），这在逻辑上是正确的，并且是原始查询中唯一可以保证的信息。当这样查看时，只返回一条记录是有道理的。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-01T02:59:40.527

很难知道你想要什么，但试试这个：

```
select
   ip,
   port,
   min(point_count)
from origin_server 
```

这为您提供了 ip 和端口的每个唯一组合的 point_count 的最小值。

如果您想要具有最小 point_count 的 ip 和端口，请尝试以下操作：

```
select
   ip,
   port,
   point_count
from origin_server
order by 3
limit 1 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-01T02:55:47.470

MIN() 函数是一个聚合函数。所以如果你的代码只返回 1 行结果是正确的*

# ruby-on-rails - 在 Rails 中使用连接模型。将项目添加到列表

> ID：15737009
> 
> 赞同：0
> 
> 时间：2013-04-01T02:46:59.560
> 
> 标签：ruby-on-rails

这似乎是一个非常基本的问题，但我在互联网上的任何地方都没有找到关于如何做到这一点的解释，我想很多人都有这个问题。

我有三个模型：运动、锻炼和锻炼_锻炼（连接表）

在我的连接表中，我有与每个练习相关的额外列，例如要执行的组数和重复次数。所以我的`workout_exercises`表是这样的：

```
 t.integer  "workout_id"
    t.integer  "exercise_id"
    t.integer  "repetitions"
    t.integer  "set"
    t.integer  "rest" 
```

我可以将练习添加到锻炼中，并且在我的锻炼显示视图中，我有一个与每个练习相关的练习列表。

我不知道如何在锻炼显示视图中显示每个练习的组数、重复次数和休息时间。

这是我的模型代码：

```
class Exercise < ActiveRecord::Base
  attr_accessible :name, :description, :photo, :video

  has_many :workout_exercises 
  has_many :workouts, :through => :workout_exercises
end

class Workout < ActiveRecord::Base
  attr_accessible :name

  has_many :workout_exercises
  has_many :exercises, :through => :workout_exercises

end

class WorkoutExercise < ActiveRecord::Base
  attr_accessible :exercise_id, :repetitions, :rest, :set, :workout_id

  belongs_to :exercise
  belongs_to :workout
end 
```

在我的锻炼控制器中，我有

```
class WorkoutsController < ApplicationController     
     before_filter :get_workouts, :only => [:show, :edit, :update, :destroy]
     before_filter :get_exercises, :only => [:show]    

     def get_exercises
        @workout_exercise = @workout.exercises
      end

    def get_workouts
        @workout = Workout.find(params[:id])
      end 
```

最后，我的锻炼显示视图中有这个表格：

```
<% @workout_exercise.each do |exercise| %>
  <%= exercise.name %>
<% end %> 
```

谢谢您的帮助！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-10T15:34:12.700

您要查找的字段在`workout_exercises`表中。

在`workouts_controller`：

```
def get_exercises
    @workout_exercise = @workout.workout_exercises
end 
```

在您看来，您可以按如下方式列出信息——练习的名称仍然存在，`exercise`但每个`workout_exercise`都引用了`exercise`

```
<% @workout_exercise.each do |w| %>
    Name: <%= w.exercise.name %>
    Set: <%= w.set %>
    Reps: <%= w.repetitions %>
    Rest: <%= w.rest %>
<% end %> 
```

## 编辑-锻炼控制器##确保在以下`@workout_exercise`位置实例化`show`：

```
def show
    @workout = Workout.find(params[:id])
    @workout_exercise = @workout.workout_exercises
end 
```

用于解释的 github

[https://github.com/twairball/workoutapp](https://github.com/twairball/workoutapp)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-07-30T05:43:26.680

我制作[这个 Gist](https://gist.github.com/arelenglish/6110438)是为了准确展示如何做到这一点。一步步。

# python - Python 3 中嵌套列表的对角线

> ID：15737011
> 
> 赞同：1
> 
> 时间：2013-04-01T02:47:02.077
> 
> 标签：python, list, nested

我在一个列表中有几个列表，它们形成了一个三分球游戏：

```
list = [
        ['X', 'O', 'O'], 
        ['O', 'X', 'O'], 
        [' ', 'X', ' ']
       ] 
```

我需要编写一个函数，从左上角到右下角，然后从右上角到左下角返回游戏的对角线，因此输出将是：

```
diags = (['X', 'X', ' '],['O', 'X', ' ']) 
```

我已经尝试过嵌套 for 循环的各种组合，但似乎无法理解它。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-01T02:52:51.590

```
nw_to_se = [your_list[i][i] for i in range(3)]
ne_to_sw = [your_list[i][2-i] for i in range(3)]
diags = (nw_to_se, ne_to_sw) 
```

代替`[2-i]`你也可以使用`[-i-1]`，它可以缩放到任何大小的正方形。

# solr - 选择哪个开源搜索引擎：社交性、大量更新、方面搜索......？

> ID：15737016
> 
> 赞同：0
> 
> 时间：2013-04-01T02:48:10.553
> 
> 标签：solr, open-source, elasticsearch

我正在做一个需要支持这些关键要求的搜索引擎的项目：

1.  可销售的：索引行将达到数百万并不断增长。

2.  实时更新：会有不断的记录插入和更新。理想情况下，新插入或修改的记录可以立即进行搜索。会有删减，但很少。

3.  分面搜索。

4.  相关结果：高置顶搜索结果必须比结果集中后面的结果更相关。

5.  控制结果：搜索结果可以控制。例如：只返回某个日期之前的记录。

我之前在考虑 Solr，但因为要求 #2 而担心。我不确定 Solr 是否可以很好地处理非常大的数据库的 #2。

关于 Solr 或其他开源搜索引擎的任何建议或指示。

提前致谢！

问候。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-01T11:37:13.523

[弹性搜索](http://www.elasticsearch.org/)

尽管 Solr 为您的 #2 提供了 Solr NRT（近乎实时），但 ES 实际上是从头开始构建的，以提供实时搜索功能。它还建立在 Lucene（如 Solr）之上，因此 Solr、Lucene 和 ES 之间的功能有很好的交叉。

尽管 Solr 最近在这方面也取得了一些进展，但对 ES 来说，可扩展性也是一个从根本上关注的问题。尽管如此，foursquare、github 等还是依赖 ES，所以我敢打赌，你至少可以在一段时间内继续使用 ;)

# android - 使用硬件调试 - 我可以自动卸载吗？

> ID：15737018
> 
> 赞同：0
> 
> 时间：2013-04-01T02:48:29.023
> 
> 标签：android, debugging

我是 Android 编程的新手，我正在设置我的平板电脑来调试我的软件，因为模拟器似乎太慢了。

我刚刚设置了我的 android 平板电脑进行调试，但我注意到当我停止调试时，它实际上并没有删除我安装的应用程序。

所以我只是想知道，eclipse中是否有一个选项可以在我停止调试后自动从我的平板电脑上卸载应用程序，如果没有，是否只是从平板电脑设置中手动卸载它？如果是后者，那会完全删除所有内容吗？我只是不想让我的平板电脑开始充满我的调试会话产生的垃圾。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-01T03:09:03.727

不，没有选项可以从 Eclipse 中自动卸载它。

您有两个选项可以卸载它。其中之一（您提到的）是从您设备上的设置中删除它。

另一种是使用 adb 命令。转到`platform-tools`目录中的 SDK 文件夹并打开命令提示符（在 Windows 中，您可以在文件夹中使用 shift+右键单击以直接在该文件夹中打开它）然后运行以下命令：

```
adb uninstall com.your.apps.package.name 
```

但是使用你自己的包名。这将从您的设备上卸载该应用程序，并且可能比使用您设备上的设置更快。

# objective-c - 在不同的函数中使用变量？Objective-C

> ID：15737020
> 
> 赞同：-2
> 
> 时间：2013-04-01T02:48:55.657
> 
> 标签：objective-c

我正在尝试在第二个函数 -(void) 加速度计中使用 -(void) awakeaccelerometer 中的 randX 和 randY。程序无法识别它们。提前致谢。

```
-(void) awakeaccelerometer
{
    [[UIAccelerometer sharedAccelerometer]setUpdateInterval:1.0/50.0];
    [[UIAccelerometer sharedAccelerometer]setDelegate:self];

    float randX = arc4random() % 320;
    float randY = arc4random() % 548;

    CGPoint randNewPlace = CGPointMake(randX, randY);
    Rand.center = randNewPlace;

}

//Controlling the accelerometer
-(void) accelerometer:(UIAccelerometer *)accelerometer didAccelerate:(UIAcceleration *)acceleration
{
.....

CGRect blockRect = CGRectMake(newX, newY, 20, 20);
CGRect targetRect = CGRectMake(randX, randY, 20, 20);

    if (CGRectIntersectsRect(blockRect, targetRect))
    {
        float tnewX = arc4random() % 320;
        float tnewY = arc4random() % 548;

        CGPoint randNewPl = CGPointMake(tnewX, tnewY);
        Rand.center = randNewPl;
    }

} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-01T03:37:49.933

您缺少对变量的*生命周期*和*范围的理解。*变量的生命周期是它存在并且可以包含值的时间段。变量的范围是可以访问变量的代码范围。变量可以存在但超出范围（反之亦然）。

局部变量的生命周期`randX`是`randY`从它们与方法的声明点到创建它们`awakeaccelerometer`的特定调用返回。`awakeaccelerometer`这两个变量的作用域是从它们的声明点到方法结束的代码。当在两个变量`CGMakePoint`中进行调用并保持活动状态但超出范围时 - 内部的任何代码都无法引用它们。`awakeaccelerometer``randX``randY``CGMakePoint`

这两个变量`randX`并`randY`没有在范围内`accelerometer:didAccelerate:`。

您的问题的答案是，如果您希望这两个变量在这两种方法中都可用，那么您需要将它们提升到封闭范围，以便它们在两种方法中都处于活动状态和范围内。通常的建议是将它们提升为*实例变量*`@interface`（在or开头的大括号内声明`@implementation`） - 实例变量的生命周期与封闭对象相同，并且范围至少包括所有实例方法那个物体的。

但是您确实需要了解为什么会这样以及这是否是您所需要的，这些是任何语言编程的基础，您应该阅读并理解它们。在 SO 上尝试搜索“[objective-C] 范围生命周期”，你会得到很多点击。如果你放弃“[objective-C]”，你会得到更多，因为这些主题是与其他语言相关的。更好地查看有关编程（语言概念）的文本，这里列出的太多了！

高温高压

# c++ - ofstream的C ++向量，如何写入一个特定元素

> ID：15737023
> 
> 赞同：0
> 
> 时间：2013-04-01T02:49:13.773
> 
> 标签：c++, pointers, vector, ofstream

为了避免不断打开和关闭我正在写入的多个文件，我正在尝试使用 ofstream 对象的向量。到目前为止，我的代码如下所示：

```
std::vector<shared_ptr<ofstream>> filelist;

void main()
{
  for(int ii=0;ii<10;ii++)
  {
     string filename = "/dev/shm/table_"+int2string(ii)+".csv";
     filelist.push_back(make_shared<ofstream>(filename.c_str()));
  }

} 
```

我正在使用 ofstream 指针向量，因为 ofstream 没有复制构造函数。此外，我使用的是共享指针，因为它应该更能防止内存泄漏。

以上成功在目标目录中创建了我想要的文件。如果我想关闭文件，我可以做类似 filelist[5]->close();

我不确定的唯一部分是我如何实际写入每个文件。通常，对于单个文件，我会执行以下操作：

```
ofstream fout;
fout.open("myfile.txt");
fout<<"some text"<<endl; 
```

在这种情况下，我想使用的 << 等价物是什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-01T02:55:47.223

试试这个：

```
for (auto& stream : filelist)
{
    *stream << "some text" << std::endl;
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-01T02:55:54.643

您需要一个`ostream`或`ostream&`。

`filelist[i]``shared_ptr<ostream>`在这种情况下，您可以将其视为基本上是`ostream*`. 这意味着这`*filelist[i]`给了你一个`ostream&`（通过[operator*](http://en.cppreference.com/w/cpp/memory/shared_ptr/operator%2a)重载）。所以，你会使用类似的东西`*filelist[i] << "some text << std::endl;`

# dll - EnumServicesStatus 帕斯卡声明

> ID：15737024
> 
> 赞同：0
> 
> 时间：2013-04-01T02:49:16.447
> 
> 标签：dll, windows-services, pascal

我在 pascal 中调用*EnumServicesStatus*函数。但是如何声明它。这是*OpenSCManager的示例*

```
function OpenSCManager(lpMachineName, lpDatabaseName: string; dwDesiredAccess :cardinal): HANDLE;
external 'OpenSCManagerA@advapi32.dll stdcall'; 
```

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-01T03:02:16.540

看起来有人已经完成了将您可以使用的整个 API .pas 文件放在一起的艰苦工作。查看：

[http://gr32ex.googlecode.com/svn/trunk/GR32Ex/Examples/DesktopSnow/GPSysHook/api/JwaWinSvc.pas](http://gr32ex.googlecode.com/svn/trunk/GR32Ex/Examples/DesktopSnow/GPSysHook/api/JwaWinSvc.pas)

搜索`EnumServicesStatusA`或`EnumServicesStatusW`；ANSI 和 Unicode 都在那里。您可能会找到各种可以获取的结构、枚举和其他好东西。

万一该文件的 URL 发生变化，其中相关的行是：

```
function EnumServicesStatusA(hSCManager: SC_HANDLE; dwServiceType: DWORD;
  dwServiceState: DWORD; lpServices: LPENUM_SERVICE_STATUSA; cbBufSize: DWORD;
  var pcbBytesNeeded, lpServicesReturned, lpResumeHandle: DWORD): BOOL; stdcall;
{$EXTERNALSYM EnumServicesStatusA}

function EnumServicesStatusW(hSCManager: SC_HANDLE; dwServiceType: DWORD;
  dwServiceState: DWORD; lpServices: LPENUM_SERVICE_STATUSW; cbBufSize: DWORD;
  var pcbBytesNeeded, lpServicesReturned, lpResumeHandle: DWORD): BOOL; stdcall;
{$EXTERNALSYM EnumServicesStatusW}

function EnumServicesStatus(hSCManager: SC_HANDLE; dwServiceType: DWORD;
  dwServiceState: DWORD; lpServices: LPENUM_SERVICE_STATUS; cbBufSize: DWORD;
  var pcbBytesNeeded, lpServicesReturned, lpResumeHandle: DWORD): BOOL; stdcall;
{$EXTERNALSYM EnumServicesStatus} 
```

# excel - 将未链接的 Excel 图表粘贴到 Powerpoint

> ID：15737026
> 
> 赞同：1
> 
> 时间：2013-04-01T02:50:01.123
> 
> 标签：excel, vba, powerpoint, paste

我目前正在开展一个项目，将 50 多组 Excel 图表转换为 powerpoint 演示文稿。我有 50 多个项目要比较并制作 50 多个相同的图表。我在我的 excel 工作簿中设置它的方式是图表始终是相同的图表（即图表 2），但是通过更改唯一的 ID 号，我的图表将来自工作表的不同区域。

在通常情况下，我只是将图表复制并粘贴为图片。

但是，就我而言，我还需要去掉所有 <10% 的数据标签。我在 Powerpoint 中找到了删除 <10% 数据标签的代码，但不是 excel。为了执行此代码，我必须将对象保持为“图表”格式。不幸的是，由于我将图表设置为可以获取不同数据的同一图表，每当我更改唯一 ID 号以复制新图表时，我以前的图表已经复制到 Powerpoint 中“更新”自己，看起来像信息来自最新项目。

我现在的选择是 1) 一次复制和粘贴每个项目，在 Powerpoint 上运行我的数据标签代码，然后将幻灯片中的所有内容转换为图片。这很乏味。2) 弄清楚如何在 Excel 中编辑数据标签，然后复制并粘贴为图像 3) 最理想：将未链接的图表从 Excel 复制并粘贴到 PPT。这允许我运行我的 Powerpoint <10% 格式化代码，但取消链接也允许我更改我的 excel 工作表而不会弄乱我当前的图表。

有没有人知道如何将未链接的图表从 Excel 复制并粘贴到不是图片的 PPT 中？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-02T14:30:26.710

这里为您提供可能的解决方案：

```
Sub Breaking_links()

Dim CHR As Shape

Set CHR = ActivePresentation.Slides(1).Shapes(3) 'for 3rd chart shape on 1st slide

CHR.Chart.ChartData.BreakLink

End Sub 
```

简短说明 - 将图表复制到 PP 后，您需要断开与上述示例中的数据源的链接。

此外，我认为您可以像在 PP 中一样轻松地在 Excel 中修改轴。如果您发现该选项更好，请向我们展示您的 PP 代码，这将有助于为您提供一些 Excel 提示。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2018-12-14T18:38:28.930

如果您想将 Excel 图表作为 Unliked 对象粘贴到 PowerPoint 中，但仍将其作为嵌入的 OLEObject 进行维护，**我建议您将其粘贴为 OLEObject。**粘贴看起来像这样：

```
'Create a new slide in the Presentation, set the layout to blank, and paste chart on to the newly added slide.
Set PPTSlide = PPTPres.Slides.Add(SldIndex, ppLayoutBlank)
               PPTSlide.Shapes.PasteSpecial DataType:=ppPasteOLEObject, Link:=msoFalse 
```

这是一些简单的代码，您**可以在其中将多个图表粘贴到工作簿中，作为不带链接的 OLEObject 到 PowerPoint 演示文稿中。**

```
Sub ExportChartsToPowerPoint_MultipleWorksheets()

    ' OVERVIEW:
    ' This script will loop through all the worksheets in the Active Workbook
    ' and copy all the Charts to a new PowerPoint presentation that we create.
    ' Each chart will get their own individual slide and will be placed in the center of it.

    'Declare PowerPoint Variables
    Dim PPTApp As PowerPoint.Application
    Dim PPTPres As PowerPoint.Presentation
    Dim PPTSlide As PowerPoint.Slide
    Dim PPTShape As PowerPoint.Shape
    Dim SldIndex As Integer

    'Declare Excel Variables
    Dim Chrt As ChartObject
    Dim WrkSht As Worksheet

    'Create new PowerPoint Application & make it visible.
    Set PPTApp = New PowerPoint.Application
        PPTApp.Visible = True

    'Create new presentation in the PowerPoint application.
    Set PPTPres = PPTApp.Presentations.Add

    'Create an index handler for slide creation.
    SldIndex = 1

    'Loop throught all the Worksheets in the Worksheets Collection.
    For Each WrkSht In Worksheets

        'Loop through all the CHARTOBJECTS in the ACTIVESHEET.
        For Each Chrt In WrkSht.ChartObjects

            'Copy the Chart
            Chrt.Chart.ChartArea.Copy

            'Create a new slide in the Presentation, set the layout to blank, and paste chart on to the newly added slide.
            Set PPTSlide = PPTPres.Slides.Add(SldIndex, ppLayoutBlank)
                PPTSlide.Shapes.PasteSpecial DataType:=ppPasteOLEObject, Link:=msoFalse

            'Increment index so that way we paste the next chart on the new slide that is added.
            SldIndex = SldIndex + 1

        Next Chrt

    Next WrkSht

End Sub 
```

现在，这实际上是我在我的一个 YouTube 视频中回顾的一些代码，所以如果你想浏览整个代码，我鼓励你访问下面的链接。

**[https://youtu.be/DOaBtYMCCEM](https://youtu.be/DOaBtYMCCEM)**

**完全披露这是我的个人 YouTube 频道。**

# java - Android xml属性等价于Java代码

> ID：15737029
> 
> 赞同：1
> 
> 时间：2013-04-01T02:50:21.567
> 
> 标签：java, android, xml

是否有任何文档页面显示哪些 android`XML`属性等效于 android Java 代码？例如我有一个类似的`TextView`东西：

```
<TextView
    android:id="@+id/tview"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:text="v0.5 (beta)"
    android:textColor="#ffffff"
    android:textSize="10sp" /> 
```

我需要一个在线文档页面或显示/列出与上述属性等效的所有使用的 java 代码的东西。IE：

`android:id`相当于`setId(int id)`

`android:text`相当于`setText(String string)`

... 等等

我希望你们明白我想要什么。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-01T02:54:11.970

[http://developer.android.com/reference/android/widget/TextView.html](http://developer.android.com/reference/android/widget/TextView.html)

在“XML 属性”部分下。

# delphi - 显示自上次访问以来的天数

> ID：15737033
> 
> 赞同：0
> 
> 时间：2013-04-01T02:50:28.597
> 
> 标签：delphi, delphi-xe2, delphi-7, delphi-2010, delphi-xe

我有一个显示酒店客人入住数据的查询（START_DATE，END_DATE）。我想要一个标签来显示自客人上次访问以来相对于今天过去了多少天。因此，例如，如果客人在 2013 年 3 月 29 日离开并且我查看数据，我希望标签告诉我：上次访问“2”天前。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-01T03:01:42.353

`DaysBetween`也可以在这里工作，就像在您的上一个问题中一样。

```
Label1.Caption := Format('Last visit %d days ago', 
                    [DaysBetween(Date, Qry.FieldByName('END_Date').AsDateTime)]); 
```

# ruby-on-rails - Rails find_by 访问器

> ID：15737034
> 
> 赞同：1
> 
> 时间：2013-04-01T02:50:36.207
> 
> 标签：ruby-on-rails, ruby-on-rails-3, ruby-on-rails-3.2

我可能会遗漏一些简单的东西，但是如何通过非持久属性找到记录？

**例子**

```
class Post < ActiveRecord::Base
  attr_accessible :title
  attr_accessor :slug

  def slug
    title.parameterize
  end
end 
```

我正在使用 Rails 3.2.11

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-01T02:55:07.720

不幸的是，我认为这样做的唯一方法是遍历所有记录，直到找到目标，如：

```
def self.find_by_slug(slug)
   Post.select("title").detect { |post| post.slug == slug }
end 
```

可能有表达相同逻辑的替代方法，但我认为它们都需要大量的 Ruby 迭代。因此，如果您希望它对大量帖子有效，最好保留该属性。

# r - 统计权变R

> ID：15737037
> 
> 赞同：-2
> 
> 时间：2013-04-01T02:50:52.120
> 
> 标签：r, statistics, regression, correlation, contingency

我有两个向量，它们是 TRUE 或 FALSE。基本上是关于家庭的数据，以及他们是否拥有汽车以及是否有金表。（注意，“汽车”和“金表”不是实际的类别，但它们是这个问题的有效替代品）。

我想找出汽车所有权和手表所有权之间的关系，并且可以就使用哪些功能对统计数据和 R 提出一些建议。

这个想法是能够说：“如果有人有车，我们可以有 95% 的信心说他们有 25% 的机会拥有金表”

我一直在搞乱 Cross.Table 和 assocscats 并且基本上让自己对我认为的标准统计问题完全感到困惑。

关于应该使用哪些测试/功能的任何快速见解？我的相关性为 0.265，但想量化置信度。

我环顾四周，包括： [如何获得应急表？](https://stackoverflow.com/questions/7442207/contingency-table-with-r) [R中缺少拟合值的逻辑回归列联表](https://stackoverflow.com/questions/11532920/contingency-table-on-logistic-regression-in-r-with-missing-fitted-values?rq=1)

谢谢！！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-01T03:47:43.247

你会想要做一个 logit / probit 回归。查找 glm 的用法（一般线性模型的简写）。在此类模型中，您需要将族指定为二项式，并带有指向 probit / logit 的链接。键入 ?glm, ?family 以阅读有关这些功能的说明。他们使用 na.action 参数处理丢失的数据，该参数可以设置为 na.pass。置信度为估计系数 +- 系数标准误差 * 临界值

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-01T04:30:30.940

这是细节的镜头，使用风险自负。我不是`glm`专家，但这里有一些关于[r](/questions/tagged/r "显示标记为“r”的问题")的问题，也许他们会很好地指出任何问题，等等：

```
# reproducible data
set.seed(2)
car <- as.factor(sample(c("TRUE","FALSE"), 1000, replace=TRUE))
watch <- as.factor(sample(c("TRUE","FALSE"), 1000, replace=TRUE))

# inspect data
(mytable <- table(car,watch))
       watch
car     FALSE TRUE
  FALSE   247  250
  TRUE    254  249
summary(mytable)
Number of cases in table: 1000 
Number of factors: 2 
Test for independence of all factors:
    Chisq = 0.06381, df = 1, p-value = 0.8006
# variables are probably not independent 

# reshape for glm
(mydf <- as.data.frame(mytable))
    car watch Freq
1 FALSE FALSE  247
2  TRUE FALSE  254
3 FALSE  TRUE  250
4  TRUE  TRUE  249 
```

Aditya Sihag 建议的模型：

```
summary(glmlp <- glm(watch ~ car, data = mydf, family=binomial(link=logit)))
Call:
glm(formula = watch ~ car, family = binomial(link = logit), data = mydf)

Deviance Residuals: 
     1       2       3       4  
-1.177  -1.177   1.177   1.177  

Coefficients:
              Estimate Std. Error z value Pr(>|z|)
(Intercept)  1.110e-16  1.414e+00       0        1
carTRUE     -2.220e-16  2.000e+00       0        1

(Dispersion parameter for binomial family taken to be 1)

    Null deviance: 5.5452  on 3  degrees of freedom
Residual deviance: 5.5452  on 2  degrees of freedom
AIC: 9.5452

Number of Fisher Scoring iterations: 2 
```

有关更多详细信息的有用页面`glm`：

[http://www.ats.ucla.edu/stat/r/dae/probit.htm](http://www.ats.ucla.edu/stat/r/dae/probit.htm)

[http://data.princeton.edu/R/glms.html](http://data.princeton.edu/R/glms.html)

[https://stat.ethz.ch/pipermail/r-help/2007-March/126891.html](https://stat.ethz.ch/pipermail/r-help/2007-March/126891.html)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-01T10:52:36.840

另一种方法可以使用重采样来获取 2x2 列联表中元素的置信区间：

```
set.seed(2)
car <- as.factor(sample(c("TRUE","FALSE"), 1000, replace=TRUE))
watch <- as.factor(sample(c("TRUE","FALSE"), 1000, replace=TRUE))

library(boot)
b <- boot(data.frame(car,watch), function(d,i) { table(d[i,]) }, 1000)
boot.ci(b, index=4, type="basic")

BOOTSTRAP CONFIDENCE INTERVAL CALCULATIONS

Based on 1000 bootstrap replicates

CALL : 
boot.ci(boot.out = b, type = "basic", index = 4)

Intervals : 
Level      Basic         
95%   (222, 276 )  
Calculations and Intervals on Original Scale 
```

因此，拥有手表和汽车的概率的 95% CI = 0.22,0.28。

# python - Python paramiko 无法在 CMD 中连接

> ID：15737040
> 
> 赞同：0
> 
> 时间：2013-04-01T02:50:59.250
> 
> 标签：python, ssh, paramiko

我有几行 Python 脚本使用 Paramiko 设置 SSH 连接，脚本如下，

```
import paramiko

self.SSH_CLIENT = paramiko.SSHClient()
self.SSH_CLIENT.set_missing_host_key_policy(paramiko.AutoAddPolicy())
self.SSH_CLIENT.connect(ip, port, username, password, timeout=10)
self.LOCAL_IP = self.SSH_CLIENT.get_transport().getpeername() 
```

并且该脚本在带有 PyDev 的 Eclipse 中运行良好，但是，当它在 CMD 中调用时，脚本卡在了

```
self.SSH_CLIENT.connect(ip, port, username, password, timeout=10) 
```

没有任何错误信息。有人可以告诉我为什么以及如何解决它吗？

# java - 类型不匹配：无法从 int 转换为 String

> ID：15737043
> 
> 赞同：1
> 
> 时间：2013-04-01T02:51:39.583
> 
> 标签：java

```
public String getMessage (int numEggs) {

    int a = numEggs/12;
    int b = numEggs%12;

    if ( numEggs < 0) {
        System.out.println("Invalid number");
    } else {
        System.out.println("Your number of eggs is "+ a +" dozen(s) and "+ b+".");
        return;
    }
} 
```

因此，`Type mismatch: cannot convert from int to String`当我尝试在回报中放入一些东西时，我会不断得到；代码有什么问题？我必须使用`getMessage (int numEggs)`它，因为它是我提出的问题的一部分。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-01T02:53:57.827

> 当我尝试将某些内容放入返回时，无法从 int 转换为 String，

该方法期望您返回一个字符串。所以你不能这样做：

```
return 1; //ie 1, does not get automatically converted to "1" 
```

但你可以这样做：

```
return "I'm a String"; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-01T02:55:38.330

我不明白`Type mismatch: cannot convert from int to String`，但错误是：`This method must return a result of type String`

您的方法中缺少 return 语句：

```
public String getMessage(int numEggs) {

    int a = numEggs / 12;
    int b = numEggs % 12;

    if (numEggs < 0) {
        return "Invalid number";
    } else {
        return "Your number of eggs is " + a + " dozen(s) and "
                + b + ".";          
    }
} 
```

即使我将`getMessage`返回类型更改为`void`它也不会给我`Type mismatch: cannot convert from int to String`

```
public void getMessage(int numEggs) {

    int a = numEggs / 12;
    int b = numEggs % 12;

    if (numEggs < 0) {
        System.out.println("Invalid number");
    } else {
        System.out.println("Your number of eggs is " + a + " dozen(s) and "
                + b + ".");
        return;
    }
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-01T02:58:09.500

你需要返回一个字符串吗？如果您只想打印，只需将返回类型设为 void 并删除底部的“返回”即可。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-01T17:23:59.650

如果你想返回一个字符串：

公共字符串 getMessage (int numEggs) {

```
int a = numEggs/12;
int b = numEggs%12;
String strReturn = "";

if ( numEggs < 0) {
    strReturn = "Invalid number";
} else {
    strReturn = "Your number of eggs is "+ a +" dozen(s) and "+ b+".";

}
return strReturn; 
```

}

如果您想在控制台中打印它，那么

公共无效getMessage（int numEggs）{

```
int a = numEggs/12;
int b = numEggs%12;

if ( numEggs < 0) {
    System.out.println("Invalid number");
} else {
    System.out.println("Your number of eggs is "+ a +" dozen(s) and "+ b+".");
} 
```

}

# date - 批处理程序在特定日期执行？

> ID：15737045
> 
> 赞同：-2
> 
> 时间：2013-04-01T02:52:27.180
> 
> 标签：date, time, batch-file, execute, schedule

我一直试图让**一批**在某个日期开始另一批。（指定）我已经尝试了所有我能想到的。TIMEOUT 不适用于此。有什么建议么？编辑：对不起，我没有提供足够的信息。我所说的“批次”是指批次，就像语言中一样。我需要使用**批处理**语言编写脚本以在所需日期执行。说如果我批量编写这段代码......

```
@echo off
:start
start notepad.exe
pause >nul
goto start 
```

...我希望它在指定的日期自动执行，例如 11 月 25 日，我该怎么做呢？谢谢你的理解。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-01T04:07:02.917

你总是可以`Task Scheduler`用来做这项工作——这就是它的目的。

你可以试试

在 23:30 /every:1,4,8,14,16,23,28 “yourbat.bat”

要在（每月运行）或许多其他选项`yourbat.bat`之后的日期的 23:30（晚上 11:30）运行 - 请参阅`/every:`

```
at /? 
```

从提示开始，并准备进行一些实验。

但是，如果您想在不使用任务调度程序的情况下在特定日期运行（尽管`AT`只是安排一个作业......）那么您可以添加

```
if not "%date%"=="whateverdateyouwant" goto :eof 
```

在`yourbat.bat`代码的开头（并且目标日期必须与`echo %date%`指令上显示的日期格式相同

但是有无穷无尽的可能性——比如在文件中有一个日期/时间/进程列表并将这些与当前日期/时间进行匹配并使用

```
if "%date%"=="%%A" if "%time%" gtr "%%B" start "" %%C 
```

精确的构造取决于对您正在做什么的更具体的定义以及您正在使用的日期和时间格式的规范。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-01T06:45:28.597

无限循环会浪费太多的系统资源。任务计划程序是一个不错的选择。

```
schtasks /create /tn "My App" /tr C:\test.bat /sc once /st 00:00:00 /sd 11/25/2013 /ru System 
```

# python - 在python中处理非ASCII码字符串

> ID：15737048
> 
> 赞同：1
> 
> 时间：2013-04-01T02:53:12.607
> 
> 标签：python, unicode, encoding, decoding, non-ascii-characters

在 python 中处理非 ascii 代码字符真的很令人困惑。谁能解释一下？

我正在尝试读取纯文本文件并将所有非字母字符替换为空格。

我有一个字符列表：

```
ignorelist = ('!', '-', '_', '(', ')', ',', '.', ':', ';', '"', '\'', '?', '#', '@', '$', '^', '&', '*', '+', '=', '{', '}', '[', ']', '\\', '|', '<', '>', '/', u'—') 
```

对于我得到的每个令牌，我通过调用用空格替换该令牌中的任何字符

```
 for punc in ignorelist:
        token = token.replace(punc, ' ') 
```

请注意，末尾有一个非 ascii 代码字符`ignorelist`：`u'—'`

每次我的代码遇到该字符时，它都会崩溃并说：

```
UnicodeDecodeError: 'ascii' codec can't decode byte 0xe2 in position 
```

我试图通过`# -*- coding: utf-8 -*-`在文件顶部添加来声明编码，但仍然无法正常工作。有谁知道为什么？谢谢！

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-01T03:08:23.323

您的文件输入不是 utf-8。因此，当您点击该 unicode 字符时，您的输入会在比较中出现错误，因为它将您的输入视为 ascii。

尝试用这个来读取文件。

```
import codecs
f = codecs.open("test", "r", "utf-8") 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-01T03:08:03.213

您使用的是 Python 2.x，它会尝试自动转换`unicode`s 和 plain `str`s，但它通常会因非 ascii 字符而失败。

`unicode`你不应该把s 和s混`str`在一起。您可以坚持使用`unicode`s：

```
ignorelist = (u'!', u'-', u'_', u'(', u')', u',', u'.', u':', u';', u'"', u'\'', u'?', u'#', u'@', u'$', u'^', u'&', u'*', u'+', u'=', u'{', u'}', u'[', u']', u'\\', u'|', u'<', u'>', u'/', u'—')

if not isinstance(token, unicode):
    token = token.decode('utf-8') # assumes you are using UTF-8
for punc in ignorelist:
    token = token.replace(punc, u' ') 
```

或仅使用普通`str`s（注意最后一个）：

```
ignorelist = ('!', '-', '_', '(', ')', ',', '.', ':', ';', '"', '\'', '?', '#', '@', '$', '^', '&', '*', '+', '=', '{', '}', '[', ']', '\\', '|', '<', '>', '/', u'—'.encode('utf-8'))
# and other parts do not need to change 
```

通过手动将您编码`u'—'`为 a `str`，Python 不需要自己尝试。

我建议你`unicode`在你的程序中使用 all 来避免这种错误。但如果工作量太大，您可以使用后一种方法。但是，在调用标准库或第三方模块中的某些函数时要小心。

`# -*- coding: utf-8 -*-`只告诉 Python 你的代码是用 UTF-8 编写的（或者你会得到一个`SyntaxError`）。

# c++ - 指针和 0xDEADBEEF，为什么这段代码不起作用？

> ID：15737049
> 
> 赞同：-7
> 
> 时间：2013-04-01T02:53:23.417
> 
> 标签：c++, pointers

我正在尝试分析 C++ 程序中的一些代码（我对 C++ 很陌生），但我没有得到以下代码试图完成的任务。
根据我在这里阅读的线程，设置指向 deadbeef 的指针将使指针为空。但是，Visual Studio 不允许我这样做并给我一个错误。我不知道第二个指针应该做什么。任何输入将不胜感激。

```
long* firstpointer = (long *)((void *)0);
char* secondpointer = (char*) ((void *)0);

*firstpointer = 0xDEADBEEF;
strcpy(secondpointer,"Here is some text, here is some more"); 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-01T03:01:47.040

> 根据我在这里阅读的线程，设置指向 deadbeef 的指针将使指针为空。

不，这是不正确的。虽然`deadbeef`是常见的“废话模式”，但绝对*不是*平等`null`的。将指针（更一般地，内存区域）设置为已知且不寻常的模式的一个常见原因`deadbeef`是检测内存的未初始化区域。通常用于表示`null`指针的全零模式不是很好的候选者，因为在连续内存位置中找到零序列的机会比找到`deadbeef`s 序列的机会要高得多。

您在调用中看到的崩溃是`strcpy`因为`secondpointer`设置为无效值。您需要分配足够的内存来适应`"Here is some text, here is some more"`，以及它的终止零，以免`strcpy`表现出未定义的行为。

# perl - 使用 Perl 将段落转换为句子

> ID：15737050
> 
> 赞同：1
> 
> 时间：2013-04-01T02:53:25.670
> 
> 标签：perl, text-segmentation

我正在做 Perl 编程。我需要阅读一段并将每个句子打印成一行。

有人知道该怎么做吗？

下面是我的代码：

```
#! /C:/Perl64/bin/perl.exe

use utf8;

if (! open(INPUT, '< text1.txt')){
die "cannot open input file: $!";
}

if (! open(OUTPUT, '> output.txt')){
die "cannot open input file: $!";
}

select OUTPUT;

while (<INPUT>){
print "$_";
}

close INPUT;
close OUTPUT;
select STDOUT; 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-04-01T03:46:37.227

我将让 Perl 来处理文件名，而不是处理文件名。

这在多个层面上都非常粗糙，整个工作无疑是艰巨的。

### 句子.pl

```
#!/usr/bin/env perl
use strict;
use warnings;
use Lingua::EN::Sentence qw(get_sentences);

sub normalize
{
    my($str) = @_;
    $str =~ s/\n/ /gm;
    $str =~ s/\s\s+/ /gm;
    return $str;
}

{
    local $/ = "\n\n";
    while (<>)
    {
        chomp;
        print "Para: [[$_]]\n";
        my @sentences = split m/(?<=[.!?])\s+/m, $_;
        foreach my $sentence (@sentences)
        {
            $sentence = normalize $sentence;
            print "Ad Hoc Sentence: $sentence\n";
        }
        my $sref = get_sentences($_);
        foreach my $sentence (@$sref)
        {
            $sentence = normalize $sentence;
            print "Lingua Sentence: $sentence\n";
        }
    }
} 
```

正`split`则表达式查找前面有句号（句点）、感叹号或问号的一个或多个空格，并匹配多行。后视`(?<=[.!?])`意味着标点符号与句子保持一致。该`normalize`函数只是将换行符展平为空格并将多个空格呈现为单个空格。（请注意，这不会正确识别括号中的句子。）这将被视为前一句的一部分，因为`.`后面没有空格。

### 样本输入

```
This is a paragraph with more than one sentence in it.  How many will be
determined later.  Mr. A. P. McDowney has been rather busy.  This
incomplete sentence will still be counted as one

This is the second paragraph.  With three sentences in it, it is a lot
less exciting than the first paragraph, but the middle sentence extends
over multiple lines and   there   is     some         wonky spacing too.
But 'tis time to finish. 
```

### 样本输出

```
Para: [[This is a paragraph with more than one sentence in it.  How many will be
determined later.  Mr. A. P. McDowney has been rather busy.  This
incomplete sentence will still be counted as one]]
Ad Hoc Sentence: This is a paragraph with more than one sentence in it.
Ad Hoc Sentence: How many will be determined later.
Ad Hoc Sentence: Mr.
Ad Hoc Sentence: A.
Ad Hoc Sentence: P.
Ad Hoc Sentence: McDowney has been rather busy.
Ad Hoc Sentence: This incomplete sentence will still be counted as one
Lingua Sentence: This is a paragraph with more than one sentence in it.
Lingua Sentence: How many will be determined later.
Lingua Sentence: Mr. A. P. McDowney has been rather busy.
Lingua Sentence: This incomplete sentence will still be counted as one
Para: [[This is the second paragraph.  With three sentences in it, it is a lot
less exciting than the first paragraph, but the middle sentence extends
over multiple lines and   there   is     some         wonky spacing too.
But 'tis time to finish.
]]
Ad Hoc Sentence: This is the second paragraph.
Ad Hoc Sentence: With three sentences in it, it is a lot less exciting than the first paragraph, but the middle sentence extends over multiple lines and there is some wonky spacing too.
Ad Hoc Sentence: But 'tis time to finish.
Lingua Sentence: This is the second paragraph.
Lingua Sentence: With three sentences in it, it is a lot less exciting than the first paragraph, but the middle sentence extends over multiple lines and there is some wonky spacing too.
Lingua Sentence: But 'tis time to finish. 
```

请注意如何`Lingua::EN::Sentence`设法处理“先生”。AP McDowney 比头脑简单的正则表达式更好。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-04-01T03:19:59.573

识别句子是非常困难的并且是特定于语言的。你需要帮助。也许[Lingua::EN::Sentence](http://search.cpan.org/perldoc?Lingua%3a%3aEN%3a%3aSentence)是要走的路？

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2013-04-01T03:16:20.630

如果将段落作为字符串给出，则可以[split()](http://perldoc.perl.org/functions/split.html)将其拆分为标记句子结尾的字符。

例如：

```
my @sentences = split /[.?!]/, $paragraph; 
```

# asp.net - SharePoint Foundation 2010 客户端对象模型身份验证

> ID：15737059
> 
> 赞同：3
> 
> 时间：2013-04-01T02:54:17.900
> 
> 标签：asp.net, sharepoint, office365, sharepoint-clientobject

我想通过传递身份验证信息来实现自定义日志记录，如下面的参考链接所示：

*   [http://blogs.msdn.com/b/cjohnson/archive/2011/05/03/authentication-with-sharepoint-online-and-the-client-side-object-model.aspx](http://blogs.msdn.com/b/cjohnson/archive/2011/05/03/authentication-with-sharepoint-online-and-the-client-side-object-model.aspx)
*   [http://msdn.microsoft.com/en-us/library/hh147177(v=office.14).aspx](http://msdn.microsoft.com/en-us/library/hh147177(v=office.14).aspx)

我正在使用下面的代码，但它不会自动登录，而是会弹出登录窗口以输入用户名和密码。我想通过以编程方式传递凭据来自动登录。

```
using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using Microsoft.SharePoint.Client;
using System.Net;
using MSDN.Samples.ClaimsAuth;

namespace Sp_Ctx
{
    class Program
    {
        [STAThread]
        static void Main(string[] args)
        {
            //if (args.Length < 1) { Console.WriteLine("SP_Ctx <url>"); return; }

            string targetSite = "https://mysite.sharepoint.com";//args[0];
            using (ClientContext ctx = ClaimClientContext.GetAuthenticatedContext(targetSite))
            {
                if (ctx != null)
                {
                    ctx.Credentials = new NetworkCredential("guest@mysite.com.au", "password", "mysite.sharepoint.com");
                    ctx.Load(ctx.Web); // Query for Web
                    ctx.ExecuteQuery(); // Execute
                    Console.WriteLine(ctx.Web.Title);
                }
            }
            Console.ReadLine();
        }
    }
} 
```

**更新：**

我托管了一个**MS 365 sharepoint 2013 站点**，但我想使用版本 2010 身份验证机制。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-10-03T07:30:55.503

尝试这个：

```
ctx.Credentials = new NetworkCredential("guest", "password", "mysite.com.au"); 
```

凭据中的域应该是您的来宾帐户的域，而不是共享点服务器名称。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-04-23T20:28:44.670

您使用的 MSDN 示例项目仅允许通过弹出窗口进行基于声明的身份验证。为了以编程方式执行此操作，我使用了不同的帮助程序库，即 Wictor Wilén 的[声明演示](http://www.wictorwilen.se/Post/How-to-do-active-authentication-to-Office-365-and-SharePoint-Online.aspx)。然后，您可以使用他的 MsOnlineClaimsHelper 类进行身份验证。以下是直接取自 Wictor 博客的示例代码：

```
MsOnlineClaimsHelper claimsHelper = new MsOnlineClaimsHelper(url, username, password);    

using (ClientContext context = new ClientContext(url)) {

  context.ExecutingWebRequest += claimsHelper.clientContext_ExecutingWebRequest;

  context.Load(context.Web);

  context.ExecuteQuery();

  Console.WriteLine("Name of the web is: " + context.Web.Title);

} 
```

这就是我六个月前为一个项目所做的。但是，我很想知道是否有新的最佳实践或 Microsoft 提供的东西。

# c++ - C++千位分隔符不适用于double

> ID：15737064
> 
> 赞同：1
> 
> 时间：2013-04-01T02:54:36.177
> 
> 标签：c++

尝试在 C++ 中用千位分隔符格式化一些值，

这是代码，

```
double value = 123456789.123456789; 

std::ostringstream stream1; 
stream1.imbue(std::locale(""));
stream1.precision(2);
stream1<<std::fixed;

stream1 << value;   

const std::string stdString = stream1.str();
const char* cStr = stdString.c_str();
std::cout << cStr << std::endl; 
```

这适用于 long 值，但不适用于 double。我在这里错过了什么吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-01T03:10:29.713

您的默认值可能不包括逗号，但您应该能够通过创建自己的[numpunct](http://en.cppreference.com/w/cpp/locale/numpunct)来强制使用逗号，如下所示：

```
#include <iostream>
#include <sstream>
#include <iomanip>
#include <locale>

class commaPunct : public std::numpunct<char>
{
  protected:
     virtual std::string do_grouping() const
    {
        return "\03";
    }

    virtual char do_thousands_sep() const
    {
        return ',';
    }
};

int main()
{
   double value = 123456789.123456789; 

   std::ostringstream stream1; 
   std::locale comma(std::locale(), new commaPunct());
   stream1.imbue(comma);

   stream1.precision(2);
   stream1<<std::fixed;

   stream1 << value;   

   const std::string stdString = stream1.str();
   const char* cStr = stdString.c_str();
   std::cout << cStr << std::endl;
} 
```

您的示例也对我不起作用，但使用此代码我能够获得逗号。您还可以看到[do_thousands_sep](http://en.cppreference.com/w/cpp/locale/numpunct/thousands_sep)。

# ruby - 大集合的独特排列

> ID：15737065
> 
> 赞同：4
> 
> 时间：2013-04-01T02:54:43.453
> 
> 标签：ruby, algorithm

我正在尝试找到一种方法来为 y 长度的 x 值生成唯一排列。我想要做的是：

```
[0,1].unique_permutations(15)
# => [[0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
#     [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1],
#     [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1],
#     ... massive snip
#     [1, 0, 1, 1, 0, 1, 0, 0, 1, 0, 0, 1, 0, 1, 1],
#     [1, 0, 1, 1, 0, 1, 0, 0, 1, 0, 0, 1, 1, 1, 1],
#     ... massive snip
#     [0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1],
#     [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1], 
```

需要明确的是，我知道这是可能的：

```
[0, 0, 0, 1, 1, 1].permutation.count
# => 720
[0, 0, 0, 1, 1, 1].permutation.to_a.uniq.count
# => 20 
```

但这与我正在寻找的并不完全相同，并且对于长列表而言，性能变得不切实际：

```
[1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1].permutation.count
# => 479001600 (after a long wait...)
[1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1].permutation.to_a.uniq.count
# => 1 (didn't actually run this - answer is obvious) 
```

我能找到的最接近的是[python 的这个答案](https://stackoverflow.com/questions/6284396/permutations-with-unique-values)，但遗憾的是我不知道 python 并且不能完全弄清楚如何将它移植到 Ruby。

我确信还有其他算法可以解决这类问题，但我真的很想把它保留在 Ruby 中。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-04-01T03:37:58.510

您正在寻找的是`n`集合与自身的 -ary 笛卡尔积（在您的示例中具有`n = 15`过度集`[0, 1]`。）这与`#permutation`您稍后在问题中引用的列表不同。

此列表的大小随 呈指数增长`n`。对于所有人`n`来说，实际上实现它是不切实际的。您可以改用生成器（请原谅我生锈的红宝石）：

```
class Array
  def cartesian_power(n)
    current = [0] * n
    last = [size - 1] * n

    loop do
      yield current.reverse.collect { |i| self[i] }
      break if current == last

      (0...n).each do |index|
        current[index] += 1
        current[index] %= size

        break if current[index] > 0
      end
    end
  end
end 
```

然后：

```
>> [0, 1].cartesian_power(3) { |l| puts l.inspect }
[0, 0, 0]
[0, 0, 1]
[0, 1, 0]
[0, 1, 1]
[1, 0, 0]
[1, 0, 1]
[1, 1, 0]
[1, 1, 1]
=> nil

>> %w{a b c}.cartesian_power(2) { |l| puts l.inspect }
["a", "a"]
["a", "b"]
["a", "c"]
["b", "a"]
["b", "b"]
["b", "c"]
["c", "a"]
["c", "b"]
["c", "c"]
=> nil 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-01T03:17:06.550

这里有一个想法——对于这个`[0,1]`集合，你可以从二进制的 0 开始计数，然后简单地插入前导零，直到你有一个长度为 15 的字符串。

```
n = 15
max = ('1' * n).to_i(2)

(0..max).map do |i|
  i.to_s(2).rjust(n).gsub(" ","0")
end 
```

这个结果几乎是瞬间返回排列后的字符串；将它们转换为整数数组（添加`.split('').map(&:to_i)`到块中）需要一两秒钟。

这不是一个包罗万象的解决方案（它假定源数组的每个元素至少出现`n`一次），但它适用于您的示例。它也应该可以转换为其他数字基数（我认为您可以在 Ruby 中达到基数 36）。

**编辑：**好吧，由于它们的大小，其他数字基础可能效果不佳。但是它们应该让您知道您正在寻找多少独特的排列；例如，长度为 15 的 3 个元素 = 14,348,906，4 个元素是 1,073,741,823（也许更熟悉数学的人可以证实这一点）。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-04-01T03:29:17.247

递归解决方案可能如下所示（伪代码，因为我的 Ruby 不是很好）：

```
unique_permutations(n,values) {
    if (n == 0) {
        return EmptyList
    } else {
        lst = unique_permutations(n-1,values)
        newList = EmptyList
        for i in values {
            for j in lst {
                newList.append(prependElementToList(i,j))
            }
        }
        return newList
    }
 } 
```

然后可以调用`unique_permutations(15,[0,1])`

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2015-01-16T22:02:34.220

对于任何仍然在此绊脚石的人。从 ruby​​ 1.9.2 开始，[Array#repeated_permutations](http://apidock.com/ruby/Array/repeated_permutation)也是如此。

```
1.9.2-p320 :056 > 

puts %w(a b c).repeated_permutation(2).map(&:inspect)
["a", "a"]
["a", "b"]
["a", "c"]
["b", "a"]
["b", "b"]
["b", "c"]
["c", "a"]
["c", "b"]
["c", "c"]
 => nil 
1.9.2-p320 :057 > 
```

# string - mips assembler - 按索引从字符串中删除一个字符

> ID：15737073
> 
> 赞同：0
> 
> 时间：2013-04-01T02:55:52.710
> 
> 标签：string, assembly, mips

我需要它来做作业。用户输入他想要擦除的字符的字符串和索引。我应该返回没有这个字符且没有空格的字符串。我尝试过的最后一件事是将字符从一个字符串一个接一个地复制到另一个字符串，然后跳过我要删除的字符。示例：收到字符串“asdfghjkl”，我想删除 char No3，所以我应该打印字符串“asfghjkl”，但它看起来像“ssfggggggggggggggggggggggggggggggggggggggg.......”。我尝试了不同的组合并使用了计数器，尝试了 .space 128 而不是 n 等，但没有成功。代码在 QtSpim 中运行 谢谢

MIPS 代码是：

```
.data
# $s0   str1
# $s7   str2

str1: .space n
str2: .space n
msg1:   .asciiz "Input your string\n\n"
msg2:   .asciiz "\nNumber of character to erase "
err:    .asciiz "error in number"
result: .asciiz "\nthe new string is\n\n"

.text

main:   
    la $a0, str1
add $s0, $a0, $0
la $a0, str2
add $s7, $a0, $0
la $a0, msg1    #Input your string
li $v0, 4
syscall

li $v0, 8   #Read input string to $s0
syscall
move $s0, $a0

la $a0, msg2    #Input your string
li $v0, 4
syscall 

li $v0, 5   #Read Number of character to erase to $s1
syscall
add $s1, $v0, $0    #Number of character to erase $s1==
addi $t0, $s1,-1    #Number of character to erase $t0
addi $t1, $0, 127   #$t1=127 counter

findchar:

ret:
lbu $t5, 0($s0) #copy chars from string1 to string1
sb $t5, 0($s7)

addi $t1, $t1, -1   #counter of whole string1
addi $t0, $t0, -1   #counter of the character we want to erise

addi $s0, $s0, 1    #move to next char
addi $s7, $s0, 1    #move to next char
beqz $t0, shift     #if we at char we want to erise, 
                            #we skip it in string1 and continue
beqz $t1, print     #if string is finished, print result
j findchar

print:  addiu $s7, $s7, -127    #return to first char of new string
la $a0, 0($s7)      #and print it
li $v0, 4
syscall

end:    li $v0, 10
syscall
shift:  addi $s0, $s0, 1    #skip erised char in string1
addi $t1, $t1, -1

j ret           #continue copy chars from string1 to string2 
```

&&&&&&&&&&&&&&&&&&&

谢谢你。得到答案后，我更改了代码，但从 $a1 获得的“长度”值为 0x7ffff550。这是我的主要问题 - 我没有成功获得正确的长度。

```
.data
# $s0   str1
# $s7   str2

    str1: .space n
    str2: .space n
    msg1:   .asciiz "Input your string\n\n"
    msg2:   .asciiz "\nNumber of character to erase "
    err:    .asciiz "error in number"
    result: .asciiz "\nthe new string is\n\n"
.text

main:
    la $a0, str1
    add $s0, $a0, $0
    la $a0, str2
    add $s7, $a0, $0
    la $a0, msg1    #Input your string
    li $v0, 4
    syscall

    li $v0, 8   #Read input string to $s0
    syscall
    move $s0, $a0
    move $s6, $a1

    la $a0, msg2    #Input your Number of character to erase
    li $v0, 4
    syscall 
    li $v0, 5   #Read Number of character to erase to $s1
    syscall
    add $s1, $v0, $0    #Number of character to erase $s1==

    addi $t0, $s1,-1    #Number of character to erase $t0
    add $t1, $s6, $0    #$t1= counter of length

findchar:

ret:
    lb $t5, 0($s0)  #copy chars from string1 to string1
    sb $t5, 0($s7)

    addi $t1, $t1, -1   #counter of whole string1
    addi $t0, $t0, -1   #counter of the character we want to erise

    addi $s0, $s0, 1    #move to next char
    addi $s7, $s0, 1    #move to next char
    beqz $t0, shift     #if we at char we want erise, we skip it in string 1 and continue
    beqz $t1, print     #if string is finished, print result
j findchar

print:  
    la $a0, str2
    #sub $s7, $s7, $s6  #return to first char of new string
    #addi $t1, $t1, -1
    #sub $s7, $s7, $t6
    la $a0, 0($s7)      #and print reult string
    li $v0, 4
    syscall

end:    li $v0, 10
    syscall
shift:  addi $s0, $s0, 1    #skip erised char in string1
    addi $t1, $t1, -1

    j ret           #continue copy chars from string1 to string2 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-01T09:29:41.783

我发现您的代码存在一些问题。

*   首先是您似乎没有在复制的字符串中添加任何 NULL 终止符，这可能会导致您在尝试打印字符串时打印出大量垃圾。

*   第二个是您总是循环 127 次，但输入字符串不太可能是 127 个字符长。当您到达输入字符串的末尾（NULL 终止符）时，您应该停止循环。

*   第三是如果用户想要删除第一个字符，您的实现将失败，因为您的跳过检查是在复制字符后执行的。

然后还有不必要的复杂做事方式的问题。我在代码中看到了一些地方，您可以根据一些较早的值计算常量值，而不是仅仅再次加载常量。例如，`addiu $s7, $s7, -127`/`la $a0, 0($s7)`可以被一个简单的. 代替`la $a0, str2`。当你的代码中断时，这类东西只会让你头疼，因为它依赖于不再有效的东西，因为你在代码的其他地方更改了一些东西。

# xpath - Xpath 表达式帮助 - 多个表达式

> ID：15737075
> 
> 赞同：1
> 
> 时间：2013-04-01T02:56:18.617
> 
> 标签：xpath, expression, element, xmlnode

给定以下示例：

```
<?xml version="1.0" encoding="UTF-8"?>
<Patients>
  <patientRole>
    <id extension="996-756-495" root="2.16.840.1.113883.19.5"/>
    <id extension="775-756-495" root="2.16.840.1.113883.14.6"/>
    <patient>
      <name>
        <given>Henry</given>
        <family>Levin</family>
      </name>
      <administrativeGenderCode code="M" codeSystem="2.16.840.1.113883.5.1"/>
      <birthTime value="19320924"/>
    </patient>
    <providerOrganization>
      <id root="2.16.840.1.113883.19.5"/>
      <name>Good Health Clinic</name>
    </providerOrganization>
    <admissionTime value="2012030111:32"/>
  </patientRole>
  <patientRole>
    <id extension="65" root="2.16.840.1.113883.3.933"/>
    <patient>
      <name>
        <given>Paul</given>
        <family>Pappel</family>
      </name>
      <administrativeGenderCode code="M" codeSystem="2.16.840.1.113883.5.1"/>
      <birthTime value="19551217"/>
    </patient>
    <providerOrganization>
      <id extension="84756-11241-283-OPTD-3322" root="1.2.3.4.5.6.1.8.9.0"/>
      <name> Dr.med. Hans Topp-Glucklich</name>
    </providerOrganization>
    <admissionTime value="201201152200"/>
  </patientRole>
  <patientRole>
    <id extension="800001" root="2.16.840.1.113883.19.5"/>
    <patient>
      <name>
        <given>JEANNE</given>
        <family>PETIT</family>
      </name>
      <administrativeGenderCode code="F" codeSystem="2.16.840.1.113883.5.1"/>
      <birthTime value="19480105"/>
    </patient>
    <providerOrganization>
      <id root="2.16.840.1.113883.19.5"/>
      <name>Good Health Clinic</name>
    </providerOrganization>
    <admissionTime value="20120101T22:00"/>
  </patientRole>
</Patients> 
```

我需要为每个找到一个 xpath 表达式来执行以下操作。

我是 XML/Xpath 的新手，并且尝试了很多表达式，但我无法完全得到我需要的东西。

1.  具有两个 id 的患者的患者元素节点

2.  2012年1月「好康诊所」收治病人数：

有了这个，我试过`/Patients/patientRole[providerOrganization/name='Good Health Clinic' and substring(admissionTime/@value,1,6)='201201']`了，它会生成它，但我正在处理的网站不会接受那个提交，所以我想知道是否有另一种表达方式可以生成可能不太复杂的表达方式。

谢谢，

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-01T04:28:20.580

> 我不能完全得到我需要的东西。
> 
> 1.  具有两个 id 的患者的患者元素节点

**使用**：

```
/*/*[id[2]]/patient 
```

. . .

> 1.  2012年1月「好康诊所」收治病人数：

**使用**：

```
count(/*/*[starts-with(admissionTime/@value, '201201')]/patient) 
```

**基于 XSLT 的验证**：

```
<xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform">
 <xsl:output omit-xml-declaration="yes" indent="yes"/>

 <xsl:template match="/">
  <xsl:copy-of select="/*/*[id[2]]/patient"/>
  =====
  <xsl:value-of select=
  "count(/*/*[starts-with(admissionTime/@value, '201201')]/patient)"/>
 </xsl:template>
</xsl:stylesheet> 
```

**当此转换应用于提供的 XML 文档时：**

```
<Patients>
    <patientRole>
        <id extension="996-756-495" root="2.16.840.1.113883.19.5"/>
        <id extension="775-756-495" root="2.16.840.1.113883.14.6"/>
        <patient>
            <name>
                <given>Henry</given>
                <family>Levin</family>
            </name>
            <administrativeGenderCode code="M" codeSystem="2.16.840.1.113883.5.1"/>
            <birthTime value="19320924"/>
        </patient>
        <providerOrganization>
            <id root="2.16.840.1.113883.19.5"/>
            <name>Good Health Clinic</name>
        </providerOrganization>
        <admissionTime value="2012030111:32"/>
    </patientRole>
    <patientRole>
        <id extension="65" root="2.16.840.1.113883.3.933"/>
        <patient>
            <name>
                <given>Paul</given>
                <family>Pappel</family>
            </name>
            <administrativeGenderCode code="M" codeSystem="2.16.840.1.113883.5.1"/>
            <birthTime value="19551217"/>
        </patient>
        <providerOrganization>
            <id extension="84756-11241-283-OPTD-3322" root="1.2.3.4.5.6.1.8.9.0"/>
            <name> Dr.med. Hans Topp-Glucklich</name>
        </providerOrganization>
        <admissionTime value="201201152200"/>
    </patientRole>
    <patientRole>
        <id extension="800001" root="2.16.840.1.113883.19.5"/>
        <patient>
            <name>
                <given>JEANNE</given>
                <family>PETIT</family>
            </name>
            <administrativeGenderCode code="F" codeSystem="2.16.840.1.113883.5.1"/>
            <birthTime value="19480105"/>
        </patient>
        <providerOrganization>
            <id root="2.16.840.1.113883.19.5"/>
            <name>Good Health Clinic</name>
        </providerOrganization>
        <admissionTime value="20120101T22:00"/>
    </patientRole>
</Patients> 
```

**对 Xpath 表达式进行求值，并将该求值的结果复制到输出中：**

```
<patient>

   <name>

      <given>Henry</given>

      <family>Levin</family>

   </name>

   <administrativeGenderCode code="M" codeSystem="2.16.840.1.113883.5.1"/>

   <birthTime value="19320924"/>

</patient>
  =====
  2 
```

# java - JSlider中每秒帧数的重要性以及选择什么值？

> ID：15737080
> 
> 赞同：0
> 
> 时间：2013-04-01T02:56:57.053
> 
> 标签：java, swing, jslider

我正在学习如何使用`JSlider`from [oracle tutorials](http://docs.oracle.com/javase/tutorial/uiswing/components/slider.html)。我想用它来改变我的代码中变量的值，而不是改变动画的速度/fps。我注意到我在电脑游戏中看到的“每秒帧数”并在[此处](http://en.wikipedia.org/wiki/Frame_rate)阅读。我看到了不同的 JSlider 示例，它们都使用不同的 FPS 常量值。如何决定为 JSlider FPS 常量使用哪些值？另外，为什么我们将它们设为常量而不是变量？我是否应该将这些值复制粘贴到所有使用 JSlider 的代码中？

```
static final int FPS_MIN = 0;
static final int FPS_MAX = 30;
static final int FPS_INIT = 15;    //initial frames per second
. . .
JSlider framesPerSecond = new JSlider(JSlider.HORIZONTAL,
                                  FPS_MIN, FPS_MAX, FPS_INIT);
framesPerSecond.addChangeListener(this); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-01T03:09:28.360

> 如何决定为 JSlider FPS 常量使用哪些值？

这取决于您的要求。太慢了，动画看起来很糟糕。太快了，电脑跟不上。无论如何，监视器也只以给定的频率刷新。我想我在另一个帖子中看到 60 是一个很好的最大值。

> 我是否应该将这些值复制粘贴到所有使用 JSlider 的代码中？

滑块可用于 FPS 功能以外的其他功能。因此，您选择的值取决于您的要求。

# java - 显示图形而不是空白的窗口

> ID：15737082
> 
> 赞同：0
> 
> 时间：2013-04-01T02:57:01.693
> 
> 标签：java, methods

导入Graphics并添加paint方法后，橱窗展示一下子变成了复印机。它显示了它背后的任何图形和文本。窗口确实显示了字符串，但很难看到，因为上面有文本。在添加图形之前，窗口很好。问题是什么？感谢帮助。

```
package gamenew.Comstock;

import java.awt.Graphics;

import javax.swing.JFrame;

public class JavaGame extends JFrame {

public JavaGame() {                     
    setTitle("Aetas Sterci");
    setSize(500, 500);
    setResizable(false);
    setVisible(true);
    setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE); //ends prog cleanly
}

public void paint(Graphics g) {                    //text string and position 
    g.drawString("Showing Some Strings", 75, 75);

}

public static void main(String[] args) {
    new JavaGame();              

} 
```

}

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-01T02:59:57.070

> 在添加图形之前，窗口很好。问题是什么？

不要覆盖 JFrame 的 paint() 方法！！！

阅读 Swing 教程中关于[自定义绘画](http://docs.oracle.com/javase/tutorial/uiswing/painting/index.html)的部分，了解执行此操作的正确方法。

# emacs - Mac 上的 Lisp 开发

> ID：15737086
> 
> 赞同：1
> 
> 时间：2013-04-01T02:58:09.200
> 
> 标签：emacs, lisp, common-lisp, sublimetext2, sublimetext

所以我准备学习一些lisp。我正在考虑学习 Common Lisp。似乎使用 emacs 是最好的 IDE。但是，我已经使用 Sublime Text 2 有一段时间了，所以如果我能坚持下去，那就太棒了。

还有其他人用它做lisp开发吗？你能把它作为 lisp 的 IDE 和 Emacs with Slime 等一样好吗？我看到了 Sublime REPL 插件，但不确定它的比较。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-01T05:10:51.137

Emacs 本身本质上是一个 Lisp 环境，我会说它非常适合与 Lisp 一起工作，因为这个原因，也因为出色的 SLiME 模式。

您当然可以将 Lisp 与 SublimeText 一起使用，但与使用 Emacs 相比没有优势，而且还有很多缺点。

在 Mac 上，从[https://github.com/railwaycat/emacs-mac-port](https://github.com/railwaycat/emacs-mac-port)获取最新的 Emacs mac 端口构建（提供直接编译、自制和预构建的二进制安装程序）

然后通过 elpa 安装软件包。

```
M-x package-list-packages 
```

最近 Emacs 发生了很多事情，在过去 12 个月左右的时间里，我们看到了大量的包被添加，检查@melpa_emacs 每天都有更新。

别忘了，当 Jon Skinner 懒得继续开发 SublimeText 时，它会和 TextMate 完全一样，即。下厕所。

# c - C - 连接字符串

> ID：15737094
> 
> 赞同：3
> 
> 时间：2013-04-01T02:59:44.537
> 
> 标签：c, string, char, concat

尝试使用 C 连接字符串 (*char) 并遇到很多分段错误：

```
void printDateFormat( char *in ) { /* begin function printDateFormat */

   char *month;          // month by char
   int month_int;        // month by digit
   char *day;            // day by char
   char *year;           // year by char
   char *dateToken;      // date token in split
   char *formatted;      // formatted string

   dateToken = strtok (in, "/");
   month = &dateToken;

   formatted = formatted = getMonth(month);

   dateToken = strtok (NULL, "/");
   day = &dateToken;

   formatted = strcat (formatted, day);
   formatted = strcat (formatted, ", ");

   dateToken = strtok (NULL, "/");
   year = &dateToken;

   formatted = strcat (formatted, year);

   in = *formatted;

} /* End function printDateFormat */

char *getMonth( int d) { /* begin function *getMonth */

switch (d) {

  case 1:
     return "January";
 //    break;
  case 2:
     return "February";
 //    break;
  case 3:
     return "March";
 //    break;
  case 4:
     return "April";
//     break;
  case 5:
     return "May";
//     break;
  case 6:
     return "June";
//     break;
  case 7:
     return "July";
//     break;
  case 8:
     return "August";
//     break;
  case 9:
     return "September";
//     break;
  case 10:
     return "October";
 //    break;
  case 11:
     return "November";
//     break;
  case 12:
     return "December";
//     break;
   }

} /* End function *getMonth */ 
```

输入 printDateFormat() 应为格式中的另一个字符串：MM/dd/yyyy ... 即。2013 年 3 月 31 日。目的是将其变为：2013 年 3 月 31 日。

编辑：

这是我进入的方式`printDateFormat`

```
void option1( void ) { /* begin function option1 */

    char date[10]; /*user input date string */

    printf("\n\nEnter date [Format: MM/dd/yyyy]: ");
    fgets(date, 10, stdin);

    scanf("%s", &date);

    printDateFormat(date);

    printf("\n%s", date);

} /* End function option2 */ 
```

编辑2：

好的，做了一些更改，但仍然没有骰子...

这是我的编译器警告：

```
asgn9.c: In function `printDateFormat':
asgn9.c:224: warning: passing arg 1 of `getMonth' makes integer from pointer without a cast
asgn9.c:237: warning: assignment makes pointer from integer without a cast 
```

他们指的是`getMonth()`在我的内部使用`printDateFormat()`

这是我更新的代码，我仍然在同一个地方遇到分段错误......

```
void printDateFormat( char *in ) { /* begin function printDateFormat */

    char *month;          // month by char
    int month_int;        // month by digit
    char *day;            // day by char
    char *year;           // year by char
    char *dateTkn;      // date token in split
    char *formatted;      // formatted string

    dateTkn = strtok (in, "/");
    month = dateTkn;

    formatted = getMonth(month);

    dateTkn = strtok (NULL, "/");
    day = dateTkn;

    formatted = strcat (formatted, day);
    formatted = strcat (formatted, ", ");

    dateTkn = strtok (NULL, "/");
    year = dateTkn;

    formatted = strcat (formatted, year);

    in = *formatted;

} /* End function printDateFormat */

char *getMonth( int d) { /* begin function *getMonth */

    static char *months[] = {"January", "February", "March", "April", "May",
        "June", "July", "August", "September", "October", "November", "December"};

    return strcpy(malloc(32), months[d]);

} /* End function *getMonth */ 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-01T03:05:03.570

您`getMonth`返回一个指向字符串文字的指针。`strcat`不允许尝试修改它（例如，使用）——它会导致未定义的行为。

我（强烈）建议使用`strftime`来处理格式化日期和/或时间字符串以进行打印。这不仅可以将您的格式化代码简化为单行代码，还可以让您在需要时/如果需要也支持本地化结果。

编辑：如果你不能使用`strftime`，你会想在你自己的缓冲区中建立一个格式化的日期，可能使用`sprintf`：

```
char buffer[256];
static const char *months[] = {
    "January", 
    "February", 
    /* ... */ , 
    "November", 
    "December"
};

sprintf(buffer, "%s %d %d", months[monthnum], day, year); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-01T03:05:18.427

返回的值由

```
getMonth(month); 
```

是一个指向*常量*字符串的点。您不能修改此字符串，包括 strcat()。您可以更改功能以满足您的要求：

```
char formatted[MAXSIZE];      // formatted string
getMonth(month, formatted);

void getMonth( int d, char *cache) { /* begin function *getMonth */
    switch (d) {
        case 1:
            strcpy(cache, "January");
            return;
        ......
} 
```

之后，您可以继续修改“格式化”字符数组中的内容。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-01T03:05:52.213

您还没有为格式化分配任何内存。将格式化的声明更改为

`char formatted[80];`

并将第一个作业更改为格式化为

`strcpy ( formatted, getMonth ( month ), sizeof ( getMonth ( month ) ) );`

你应该没事。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-04-01T03:06:17.263

假设您的帖子是正确的，那么问题是

```
month = &dateToken;
....
day = &dateToken;
....
year = &dateToken; 
```

strtok return char *，所以只需从每个“dateToken”中删除 &。而你的'getMonth'输入原型是'int'类型，但是你给的函数是'char *'类型，'switch'表不会识别非数字表的情况。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2013-04-01T03:08:46.323

C 不是用于字符串处理的语言。如果可能，请使用 C++ 和 std::string。

在 C 中执行此操作的一种方法是定义一个大`char buffer[BUFFERSIZE]`缓冲区以将两个字符串复制到其中以连接它们。小心不要超出缓冲区！

您还可以 malloc/free 缓冲区，但这是另一个令人头疼的问题。

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2013-04-01T03:14:40.480

您可以通过以下方式解决一些问题并简化代码：

```
char *getMonth(int d) {
  static char *months[] = { "January", "February", "March",
    . . .
  };

  return strcpy(malloc(60), months[d]);
} 
```

这边走，

*   返回值是可写的
*   它为您的 strcat() 操作提供了额外的空间

* * *

^(对于工业强度，您可能需要检查 的返回值`malloc()`，查看是否`n`在范围内，诸如此类。)

# php - mysql PHP比较两个表中的值

> ID：15737114
> 
> 赞同：0
> 
> 时间：2013-04-01T03:04:19.040
> 
> 标签：php, mysql

假设我有两个表：“user”和“grade”

我的“用户”表如下所示：

```
id|username|password|email 
```

我的“等级”表如下所示：

```
studentid|names|exam1|exam2|... 
```

我想将**用户表中的“id”列与****成绩**表中的“studentid”列进行比较。如果登录用户的 id 为 5，那么我需要从**成绩表**中提取带有“names,exam1,exam2”的 studentid 5，并以 html 格式显示。我该怎么做呢？

请帮忙。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-01T03:13:35.280

尝试这个..

```
SELECT  names, 
        exam1, 
        exam2
FROM  grade g
   INNER JOIN user u
      ON u.id = g.studentid
WHERE u.id = 5 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-01T03:06:08.370

你需要`JOIN`两张桌子，

```
SELECT  a.*, b.*
FROM    user a
        INNER JOIN grade b
            ON a.ID = b.StudentID
WHERE   a.ID = 5 
```

要进一步了解有关联接的更多信息，请访问以下链接：

*   [SQL 连接的可视化表示](http://www.codinghorror.com/blog/2007/10/a-visual-explanation-of-sql-joins.html)

# opencv - 面部内的眼睛检测

> ID：15737115
> 
> 赞同：1
> 
> 时间：2013-04-01T03:04:23.013
> 
> 标签：opencv, eye-detection

我试图检测只落在面部区域内的眼睛，因此我对代码做了一些小的改动：

```
 if( cascade )
    {
        double t = (double)cvGetTickCount();
        CvSeq* faces = cvHaarDetectObjects( small_img, cascade, storage,
                                            1.1, 2, 0|CV_HAAR_DO_CANNY_PRUNING,
                                            cvSize(30, 30) );
        t = (double)cvGetTickCount() - t;

        printf( "detection time = %gms\n", t/((double)cvGetTickFrequency()*1000.) );
        for( i = 0; i < (faces ? faces->total : 0); i++ )      
        {

            CvRect* r = (CvRect*)cvGetSeqElem( faces, i );

            CvMat small_img_roi;
            CvSeq* nested_objects;
            CvPoint center;
            CvPoint center_1;
            CvScalar color = colors[i%8];
            int radius,radius_1;
            center.x = cvRound((r->x + r->width*0.5)*scale);
            center.y = cvRound((r->y + r->height*0.5)*scale);
            radius = cvRound((r->width + r->height)*0.25*scale);
            cvCircle( img, center, radius, color, 3, 8, 0 );
            if( !nested_cascade )
                continue;
            else
                printf("not continuing!\n");
            cvGetSubRect( small_img, &small_img_roi, *r );
            nested_objects = cvHaarDetectObjects( &small_img_roi, nested_cascade, storage,
                                        1.1, 2, 0
                                        |CV_HAAR_DO_CANNY_PRUNING,                                        ,
                                        cvSize(0, 0) );
            for( j = 0; j < (nested_objects ? nested_objects->total : 0); j++ )
            {
                printf("start of nested objects loop!\n");
                CvRect* nr = (CvRect*)cvGetSeqElem( nested_objects, j );
                center_1.x = cvRound((r->x + nr->x + nr->width*0.5)*scale);
                center_1.y = cvRound((r->y + nr->y + nr->height*0.5)*scale);
                radius_1 = cvRound((nr->width + nr->height)*0.25*scale);
                if(center_1.x+radius_1<center.x+radius&& center.x-radius<center_1.x-radius_1 && center_1.y<center.y+radius&& center.y<center_1.y+radius )
                {
                cvCircle( img, center_1, radius_1, color, 3, 8, 0 );
                }
                else
                    printf("cant find thy eyes!\n");
            } 
```

然而，它并不是很成功。在尝试调试它时，我尝试注释掉他们为脸部画一个圆圈的部分，这导致根本没有画出任何圆圈。这使我得出结论，可能嵌套对象的部分不起作用。因此，我在代码中实现了几个 printfs 并监控了控制台。但是在观察了控制台之后，我得出的结论是部分嵌套对象确实不起作用。但是，我仍然不知道为什么会这样，因为嵌套对象部分类似于人脸检测部分。因此，如果人脸检测部分有效，嵌套的目标代码不也应该有效吗？

(>_<)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-01T15:20:38.923

请提供更多信息：

1.  您使用的是哪个级联文件？
2.  small_img 的高度和宽度是多少？

关于您的代码：

1.  您正在使用`nested_cascade`变量而不初始化它。

通常 - 尝试使用`haarcascade_mcs_eyepair_big.xml`带有以下参数的 openCV 文件：(image, cascade, storage, 1.1, 3, 0, cvSize()) 甚至使用较小的 scaleFactor 参数值。

我在写我的 BSc 论文（眼动追踪系统）时做过类似的事情，并以非常简单的解决方案结束。一开始我试图在面部内部找到所有可以是眼睛的“物体”，然后决定哪个是左眼，哪个是右眼，但现在我认为这不是一个好的解决方案。
最后我决定尝试`haarcascade_mcs_eyepair_big.xml`在面部（）内一次搜索两只眼睛（对 - 来自opencv的文件`haarcascade_frontalface_default.xml`），我发现这是更好的解决方案。它更快，更简单（您不必决定哪个对象是您正在寻找的对象 - 如果您尝试拥有先前的眼睛位置和其他一些东西，它可能会非常复杂）并且更容易实现。
准确度对我来说足够好，速度也很高（整个系统 - 大约 10-25fps - 这取决于几件事）。如果您想使用您的代码进行实时眼睛检测，我可以为您提供有关优化的更多详细信息。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2019-03-25T08:39:31.427

```
import  cv2

#loading cascade
eye_Cascade=cv2.CascadeClassifier('haarcascade_eye.xml')
face_Cascade=cv2.CascadeClassifier('haarcascade_frontalface_default.xml')

def detect(gray,frame):
faces=face_Cascade.detectMultiScale(gray,1.3,5)
for (x,y,w,h) in faces:
    cv2.rectangle(frame,(x,y),(x+w ,y+h),(255,0,0),2)
    roi_gray=gray[y:y+h,x:x+w]
    roi_color=frame[y:y+h,x:x+h]
    eyes=eye_Cascade.detectMultiScale(roi_gray,1.1,3)
    for(ex,ey,ew,eh) in eyes:
        cv2.rectangle(roi_color,(ex,ey),(ex+ew,ey+eh),(0,255,0),2)
return frame        

video_capture=cv2.VideoCapture(0)  #here 0 is used for inbuilt cam and 1 for 
external cam
while True :
   _,frame=video_capture.read()
   gray = cv2.cvtColor(frame, cv2.COLOR_BGR2GRAY) 
   canvas = detect(gray, frame)
   cv2.imshow('Face and Eye ', canvas)

   #exit when user pressed 'q'
   if cv2.waitKey(1) & 0xFF == ord('q'):   
    break

video_capture.release()
cv2.destroyAllWindows() 
```

# workflow-foundation - Window 工作流程对最终用户的好处

> ID：15737126
> 
> 赞同：0
> 
> 时间：2013-04-01T03:05:52.657
> 
> 标签：workflow-foundation

使用 Windows 工作流基础对应用程序的最终用户有什么好处吗？WF如何与WCF相适应？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-18T18:13:27.640

WF 对最终用户是否有用取决于您的解决方案的需求。
如果您正在创建一个用户将设计流程的解决方案，那么它会非常有用。您可以创建适合您需求的 WF 设计器，并获得比使用 VS direclty 更好的用户体验。

我一直在一个项目中工作，我们的用户是工程师，他们经常为工作流程建模，以便创建流程然后执行它们，我可以告诉你，这在速度和可用性方面非常重要。

关于工作流服务，请查看：http: [//msdn.microsoft.com/en-us/library/vstudio/dd456788 (v=vs.100).aspx](http://msdn.microsoft.com/en-us/library/vstudio/dd456788(v=vs.100).aspx)

我希望这有帮助！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-03T18:49:38.913

一般来说，对于最终用户来说，服务或业务层实现所使用的技术应该是虚拟的。

如果您为最终用户提供用于在运行时编辑工作流（实现业务逻辑）的设计器，他们可能会受益。这样，最终用户可以非常轻松地即时修改应用程序。

WF 和 WCF 是用于两种不同事物的两种技术。WCF 更面向通信，而 WF 是进程内工作流引擎。它们在 Workflow Services 中结合在一起，您可以在其中使用 Workflow 活动创建 WCF 服务。

# php - 发件人，php 发送邮件

> ID：15737130
> 
> 赞同：0
> 
> 时间：2013-04-01T03:06:24.050
> 
> 标签：php, gmail, sendmail

我已经设置了 sendmail 和 PHP，sendmail 通过启用 SSL 和 SPF 的 Gmail/Google Apps 帐户发送电子邮件。

电子邮件已交付并正常工作。

到目前为止，唯一的限制是所有外发电子邮件都是从 sendmail.ini 中设置的 Gmail 帐户发送的，FROM: 值被忽略。

无论如何让脚本在指定时使用自定义 FROM 并为未指定的脚本使用 Gmail？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-01T03:12:10.087

希望这可能会有所帮助..

```
// Please specify your Mail Server - Example: mail.example.com.
ini_set("SMTP","mail.example.com");

// Please specify an SMTP Number 25 and 8889 are valid SMTP Ports.
ini_set("smtp_port","25");

// Please specify the return address to use
ini_set('sendmail_from', 'example@YourDomain.com'); 
```

或了解更多信息..

[在此](https://stackoverflow.com/questions/15649657/php-mail-return-path-issues/15649703#15649703)链接中进入。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-01T14:38:35.500

I have Googled a lot for this but it seems like it's not a problem actually. The thing is I have to add whatever email I want to use as Sender (send from account) to the main Gmail account configured within sendmail.ini after that I was able to send from the allowed addresses.

However the problems accrues when we have a public form on the site and some one sends us an email, their address won't be shown as sender email either. the solution for this is to use the Reply-To header tag. Gmail still has limitations regarding this as the Reply-To address won't show correctly within Gmail. Tested both Web & Mobile/Android versions.

But it works fine within other email clients like MS Outlook and Thunderbird.

# python - 查找与最新条目对应的数据

> ID：15737132
> 
> 赞同：0
> 
> 时间：2013-04-01T03:06:43.030
> 
> 标签：python, postgresql, psycopg2, postgresql-9.2

我正在通过 psycopg2 处理数据库，我想在数据库中找到“最新”条目。我似乎不需要做任何排序来获得这个，因为我实际上只想要最新的。数据看起来像：

```
 id    |  x  |  y  |               param_a      |      param_b |    param_c
-------+-----+-----+----------------------------+-------------------------+---------------------------+------------+----------------+-------------
     1 | 324 | 229 | 2013-03-27 22:41:39.052966 |       75.000 |    82.000 
     2 | 317 | 232 | 2013-03-27 22:41:39.185109 |       70.000 |    86.000 
     3 | 278 | 364 | 2013-03-27 22:41:39.203416 |       68.000 |    75.000 
```

假设 #3 是最新的（它在这个数据集中）。我想发现，如果不对整个数据库进行排序，因为数据集会随着时间的推移变得非常大，因为数据通过串行端口流入的速度相当快。

下面的示例代码需要什么类型的查询？：

```
conn = psycopg2.connect(database = POSTGRESQL_DATABASE, host = POSTGRESQL_SERVER, user = POSTGRESQL_USERNAME, password = POSTGRESQL_PASSWORD)
cur = conn.cursor()
cur.execute("") #need help here 
```

另外，如果我想找到最新的 N，有很大的不同吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-05-12T13:05:01.190

好的，最好的是：

```
SELECT * FROM mytable ORDER BY param_a DESC LIMIT 1 
```

现在就其本身而言，您假设它会表现不佳是正确的。但是，如果您将索引添加到 param_a，那么它实际上可以进行非常快速的索引查找，然后获取您要查找的一条记录。

因此，您在 PostgreSQL 上的关键问题不是调整查询，而是调整数据库以使查询快速运行。简单的索引可以创造奇迹。

有趣的是，如果可用，下面会在 PostgreSQL 上执行两次索引扫描查找（并且表足够大，并且数据有足够的选择性）：

```
SELECT min(param_a), max(param_a) from mytable; 
```

所以请记住这一点。这是通过智能索引而不是智能查询来解决的。

# jquery - jquery点击链接

> ID：15737135
> 
> 赞同：0
> 
> 时间：2013-04-01T03:06:56.453
> 
> 标签：jquery

我在我正在构建的网站上使用了奇妙的无限滚动插件。问题是，因为我的 body 和 html 是 height:100% 我需要使用“加载更多”按钮加载帖子。

但是，我发现我可以使用 jquery 在滚动接近底部时甚至在按钮上触发“点击”，当它应用于不是 a 标签的元素时效果很好，但由于某种原因点击 # next-paginav 不起作用。

如果它绑定到页面的任何其他非链接部分，它将触发正常。

这是jquery的一个特性还是一个bug？以及如何在#next-paginav 上触发事件，而它是一个标签？

```
$(function(){ 
    $(document).scroll(function (e) { 

        var intBottomMargin = 300; 

        if ($(window).scrollTop() >= $(document).height() - $(window).height() - intBottomMargin) {
            $("#next-paginav").click();
        }

    });
}); 
```

# matlab - 如何在 3D 矩阵中进行 2D 逻辑数组索引？

> ID：15737137
> 
> 赞同：0
> 
> 时间：2013-04-01T03:07:48.977
> 
> 标签：matlab

```
TEMP = taux(LAT < 0 & LAT > -9 & LON < 90 & LON > 70,timeIndex); 
```

输出这个奇妙的错误：

```
Index exceeds matrix dimensions.

taux is 360x160x192. 
```

LAT 是**160x360**，**LON**也是。timeIndex 是**192x1**（例如，它是时间在 1998 年到 1999 年之间的值的索引）

即使我反转矩阵或尝试以下操作，错误仍然存​​在。

```
TEMP = taux((LAT < 0 & LAT > -9 & LON < 90 & LON > 70)',timeIndex) 
```

**或者**

```
TEMP = taux(LAT < 0 & LAT > -9 & LON < 90 & LON > 70,LAT < 0 & LAT > -9 & LON < 90 & LON > 70,timeIndex); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-01T06:48:17.433

据我所知，您只能使用索引来单独选择每个维度的部分，或者一次性对所有维度使用单个索引矩阵。没有办法将一些维度连接在一起，而让一些维度独立存在。

我猜您希望特定纬度和经度的值以某种方式保持分组。一种方法是根据`LAT`和`LON`矩阵找到要选择的值的线性索引，然后为每个时间索引偏移这些值：

```
latlon = (LAT < 0 & LAT > -9 & LON < 90 & LON > 70)';
timeOffset = size(taux, 1) * size(taux, 2) * (timeIndex' - 1)
indices = bsxfun(@plus, find(latlon), timeOffset);
TEMP = taux(indices); 
```

这将返回一个矩阵，其中每一行对应不同的纬度和经度，每列对应不同的时间。

# parsing - 带有 epsilon 转换的简单 CFG 解析器

> ID：15737140
> 
> 赞同：1
> 
> 时间：2013-04-01T03:07:58.113
> 
> 标签：parsing, context-free-grammar, cyk, earley-parser

我偶然发现了许多不同的算法（CYK 和 Earley）来检查字符串是否是提供 CFG 的 CFL 的一部分。我正在寻找一些易于理解和实施的东西。我需要知道的是字符串是否在 CFG 中。CFG 通常以以下形式给出

```
S->S1 S2
S1->S1 a | a
S2->S2 b | b 
```

该解决方案也应该接受 epsilon 转换，例如 S1-> a | e

有任何想法吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-07T03:42:54.823

我在这个项目上找到了一种非常直接的方法

[https://code.google.com/p/cykparser/downloads/list](https://code.google.com/p/cykparser/downloads/list)

与其他经过不​​必要的语法验证的 CYK 解析器不同。这个解析器是一个非常好的概念证明，它只是用基本语法实现了 CYK 算法。

代码在python中。

# jpa - JBoss 部署问题 - 无法部署此 Jar

> ID：15737143
> 
> 赞同：10
> 
> 时间：2013-04-01T03:08:37.150
> 
> 标签：jpa, jboss, ejb, jms

我正在尝试在 jBoss 中部署应用程序，但遇到了这个问题。我正在尝试部署一个 jar，但我遇到了问题。

附上完整日志：

```
jboss@ubuntu:/usr/share/jboss-as-7.1.1.Final/bin$ ./standalone.sh -c standalone-full.xml
=========================================================================

  JBoss Bootstrap Environment

  JBOSS_HOME: /usr/share/jboss-as-7.1.1.Final

  JAVA: java

  JAVA_OPTS:  -server -XX:+UseCompressedOops -XX:+TieredCompilation -Xms64m -Xmx512m -XX:MaxPermSize=256m -Djava.net.preferIPv4Stack=true -Dorg.jboss.resolver.warning=true -Dsun.rmi.dgc.client.gcInterval=3600000 -Dsun.rmi.dgc.server.gcInterval=3600000 -Djboss.modules.system.pkgs=org.jboss.byteman -Djava.awt.headless=true -Djboss.server.default.config=standalone.xml

=========================================================================

20:01:39,863 INFO  [org.jboss.modules] JBoss Modules version 1.1.1.GA
20:01:40,029 INFO  [org.jboss.msc] JBoss MSC version 1.0.2.GA
20:01:40,071 INFO  [org.jboss.as] JBAS015899: JBoss AS 7.1.1.Final "Brontes" starting
20:01:40,724 INFO  [org.xnio] XNIO Version 3.0.3.GA
20:01:40,726 INFO  [org.jboss.as.server] JBAS015888: Creating http management service using socket-binding (management-http)
20:01:40,735 INFO  [org.xnio.nio] XNIO NIO Implementation Version 3.0.3.GA
20:01:40,741 INFO  [org.jboss.remoting] JBoss Remoting version 3.2.3.GA
20:01:40,765 INFO  [org.jboss.as.logging] JBAS011502: Removing bootstrap log handlers
20:01:40,770 INFO  [org.jboss.as.configadmin] (ServerService Thread Pool -- 32) JBAS016200: Activating ConfigAdmin Subsystem
20:01:40,784 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 37) JBAS010280: Activating Infinispan subsystem.
20:01:40,786 INFO  [org.jboss.as.jacorb] (ServerService Thread Pool -- 38) JBAS016300: Activating JacORB Subsystem
20:01:40,807 INFO  [org.jboss.as.security] (ServerService Thread Pool -- 54) JBAS013101: Activating Security Subsystem
20:01:40,810 INFO  [org.jboss.as.osgi] (ServerService Thread Pool -- 49) JBAS011940: Activating OSGi Subsystem
20:01:40,815 INFO  [org.jboss.as.connector] (MSC service thread 1-8) JBAS010408: Starting JCA Subsystem (JBoss IronJacamar 1.0.9.Final)
20:01:40,816 INFO  [org.jboss.as.naming] (ServerService Thread Pool -- 48) JBAS011800: Activating Naming Subsystem
20:01:40,821 INFO  [org.jboss.as.webservices] (ServerService Thread Pool -- 58) JBAS015537: Activating WebServices Extension
20:01:40,828 INFO  [org.jboss.as.security] (MSC service thread 1-1) JBAS013100: Current PicketBox version=4.0.7.Final
20:01:40,878 INFO  [org.jboss.as.naming] (MSC service thread 1-6) JBAS011802: Starting Naming Service
20:01:40,887 INFO  [org.jboss.as.mail.extension] (MSC service thread 1-7) JBAS015400: Bound mail session [java:jboss/mail/Default]
20:01:40,901 INFO  [org.jboss.as.connector.subsystems.datasources] (ServerService Thread Pool -- 33) JBAS010403: Deploying JDBC-compliant driver class org.h2.Driver (version 1.3)
20:01:40,928 INFO  [org.jboss.jaxr] (MSC service thread 1-5) JBAS014000: Started JAXR subsystem, binding JAXR connection factory into JNDI as: java:jboss/jaxr/ConnectionFactory
20:01:40,988 INFO  [org.jboss.ws.common.management.AbstractServerConfig] (MSC service thread 1-14) JBoss Web Services - Stack CXF Server 4.0.2.GA
20:01:41,013 WARN  [org.jboss.as.messaging] (MSC service thread 1-12) JBAS011600: AIO wasn't located on this platform, it will fall back to using pure Java NIO. If your platform is Linux, install LibAIO to enable the AIO journal
20:01:41,031 INFO  [org.apache.coyote.http11.Http11Protocol] (MSC service thread 1-6) Starting Coyote HTTP/1.1 on http-localhost-127.0.0.1-8080
20:01:41,062 INFO  [org.hornetq.core.server.impl.HornetQServerImpl] (MSC service thread 1-10) live server is starting with configuration HornetQ Configuration (clustered=false,backup=false,sharedStore=true,journalDirectory=/usr/share/jboss-as-7.1.1.Final/standalone/data/messagingjournal,bindingsDirectory=/usr/share/jboss-as-7.1.1.Final/standalone/data/messagingbindings,largeMessagesDirectory=/usr/share/jboss-as-7.1.1.Final/standalone/data/messaginglargemessages,pagingDirectory=/usr/share/jboss-as-7.1.1.Final/standalone/data/messagingpaging)
20:01:41,067 INFO  [org.hornetq.core.server.impl.HornetQServerImpl] (MSC service thread 1-10) Waiting to obtain live lock
20:01:41,124 INFO  [org.hornetq.core.persistence.impl.journal.JournalStorageManager] (MSC service thread 1-10) Using NIO Journal
20:01:41,186 INFO  [org.jboss.as.jacorb] (MSC service thread 1-11) JBAS016330: CORBA ORB Service started
20:01:41,275 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-2) JBAS015876: Starting deployment of "postgresql-9.2-1002.jdbc4.jar"
20:01:41,277 INFO  [org.jboss.as.server.deployment.scanner] (MSC service thread 1-7) JBAS015012: Started FileSystemDeploymentService for directory /usr/share/jboss-as-7.1.1.Final/standalone/deployments
20:01:41,279 INFO  [org.jboss.as.server.deployment.scanner] (DeploymentScanner-threads - 1) JBAS015014: Re-attempting failed deployment postgresql-9.2-1002.jdbc4.jar
20:01:41,281 INFO  [org.jboss.as.remoting] (MSC service thread 1-8) JBAS017100: Listening on /127.0.0.1:9999
20:01:41,282 INFO  [org.jboss.as.jacorb] (MSC service thread 1-13) JBAS016328: CORBA Naming Service started
20:01:41,282 INFO  [org.jboss.as.remoting] (MSC service thread 1-14) JBAS017100: Listening on localhost/127.0.0.1:4447
20:01:41,350 INFO  [org.hornetq.core.server.impl.FileLockNodeManager] (MSC service thread 1-10) Waiting to obtain live lock
20:01:41,350 INFO  [org.hornetq.core.server.impl.FileLockNodeManager] (MSC service thread 1-10) Live Server Obtained live lock
20:01:41,518 INFO  [org.jboss.as.connector.subsystems.datasources] (MSC service thread 1-16) JBAS010400: Bound data source [java:jboss/datasources/ExampleDS]
20:01:41,578 INFO  [org.jboss.as.connector.deployers.jdbc] (MSC service thread 1-14) JBAS010404: Deploying non-JDBC-compliant driver class org.postgresql.Driver (version 9.2)
20:01:41,589 INFO  [org.jboss.as.connector.subsystems.datasources] (MSC service thread 1-11) JBAS010400: Bound data source [java:jboss/datasources/LoggerDS]
20:01:41,783 INFO  [org.hornetq.core.remoting.impl.netty.NettyAcceptor] (MSC service thread 1-10) Started Netty Acceptor version 3.2.5.Final-a96d88c localhost:5445 for CORE protocol
20:01:41,784 INFO  [org.hornetq.core.remoting.impl.netty.NettyAcceptor] (MSC service thread 1-10) Started Netty Acceptor version 3.2.5.Final-a96d88c localhost:5455 for CORE protocol
20:01:41,785 INFO  [org.hornetq.core.server.impl.HornetQServerImpl] (MSC service thread 1-10) Server is now live
20:01:41,786 INFO  [org.hornetq.core.server.impl.HornetQServerImpl] (MSC service thread 1-10) HornetQ Server version 2.2.13.Final (HQ_2_2_13_FINAL_AS7, 122) [26df2dd3-96ba-11e2-a76d-685d436e1847]) started
20:01:41,789 INFO  [org.hornetq.core.server.impl.HornetQServerImpl] (MSC service thread 1-4) trying to deploy queue jms.queue.demo
20:01:41,825 INFO  [org.jboss.as.messaging] (MSC service thread 1-4) JBAS011601: Bound messaging object to jndi name java:jboss/exported/demo
20:01:41,841 INFO  [org.jboss.as.messaging] (MSC service thread 1-10) JBAS011601: Bound messaging object to jndi name java:jboss/exported/jms/RemoteConnectionFactory
20:01:41,842 INFO  [org.jboss.as.messaging] (MSC service thread 1-10) JBAS011601: Bound messaging object to jndi name java:/RemoteConnectionFactory
20:01:41,843 INFO  [org.hornetq.core.server.impl.HornetQServerImpl] (MSC service thread 1-3) trying to deploy queue jms.queue.loggerQueue
20:01:41,844 INFO  [org.jboss.as.messaging] (MSC service thread 1-3) JBAS011601: Bound messaging object to jndi name java:/queue/logger
20:01:41,844 INFO  [org.jboss.as.messaging] (MSC service thread 1-3) JBAS011601: Bound messaging object to jndi name java:jboss/exported/jms/queue/logger
20:01:41,845 INFO  [org.jboss.as.messaging] (MSC service thread 1-1) JBAS011601: Bound messaging object to jndi name java:/ConnectionFactory
20:01:41,845 INFO  [org.hornetq.core.server.impl.HornetQServerImpl] (MSC service thread 1-13) trying to deploy queue jms.queue.demoQ
20:01:41,847 INFO  [org.jboss.as.messaging] (MSC service thread 1-13) JBAS011601: Bound messaging object to jndi name java:jboss/exported/jms/queue/demoQ
20:01:41,849 INFO  [org.jboss.as.messaging] (MSC service thread 1-13) JBAS011601: Bound messaging object to jndi name java:/queue/demoQ
20:01:41,850 INFO  [org.hornetq.core.server.impl.HornetQServerImpl] (MSC service thread 1-15) trying to deploy queue jms.topic.testTopic
20:01:41,850 INFO  [org.jboss.as.deployment.connector] (MSC service thread 1-16) JBAS010406: Registered connection factory java:/JmsXA
20:01:41,863 INFO  [org.hornetq.ra.HornetQResourceAdapter] (MSC service thread 1-16) HornetQ resource adaptor started
20:01:41,863 INFO  [org.jboss.as.connector.services.ResourceAdapterActivatorService$ResourceAdapterActivator] (MSC service thread 1-16) IJ020002: Deployed: file://RaActivatorhornetq-ra
20:01:41,865 INFO  [org.jboss.as.deployment.connector] (MSC service thread 1-3) JBAS010401: Bound JCA ConnectionFactory [java:/JmsXA]
20:01:41,895 INFO  [org.jboss.as.messaging] (MSC service thread 1-15) JBAS011601: Bound messaging object to jndi name java:jboss/exported/jms/queue/test
20:01:41,895 INFO  [org.jboss.as.messaging] (MSC service thread 1-15) JBAS011601: Bound messaging object to jndi name java:/topic/test
20:01:41,904 INFO  [org.jboss.as.server] (Controller Boot Thread) JBAS018559: Deployed "postgresql-9.2-1002.jdbc4.jar"
20:01:41,916 ERROR [org.jboss.as.controller.management-operation] (DeploymentScanner-threads - 2) Operation ("add") failed - address: ([("deployment" => "postgresql-9.2-1002.jdbc4.jar")]) - failure description: "JBAS014803: Duplicate resource [(\"deployment\" => \"postgresql-9.2-1002.jdbc4.jar\")]"
20:01:41,936 ERROR [org.jboss.as.server.deployment.scanner] (DeploymentScanner-threads - 1) {"JBAS014653: Composite operation failed and was rolled back. Steps that failed:" => {"Operation step-1" => "JBAS014803: Duplicate resource [(\"deployment\" => \"postgresql-9.2-1002.jdbc4.jar\")]"}}
20:01:41,937 ERROR [org.jboss.as.server.deployment.scanner] (DeploymentScanner-threads - 1) undefined
20:01:42,148 INFO  [org.jboss.as] (Controller Boot Thread) JBAS015951: Admin console listening on http://127.0.0.1:9990
20:01:42,149 INFO  [org.jboss.as] (Controller Boot Thread) JBAS015874: JBoss AS 7.1.1.Final "Brontes" started in 2492ms - Started 199 of 281 services (80 services are passive or on-demand) 
```

错误（捕捉）

```
20:01:41,916 ERROR [org.jboss.as.controller.management-operation] (DeploymentScanner-threads - 2) Operation ("add") failed - address: ([("deployment" => "postgresql-9.2-1002.jdbc4.jar")]) - failure description: "JBAS014803: Duplicate resource [(\"deployment\" => \"postgresql-9.2-1002.jdbc4.jar\")]"
20:01:41,936 ERROR [org.jboss.as.server.deployment.scanner] (DeploymentScanner-threads - 1) {"JBAS014653: Composite operation failed and was rolled back. Steps that failed:" => {"Operation step-1" => "JBAS014803: Duplicate resource [(\"deployment\" => \"postgresql-9.2-1002.jdbc4.jar\")]"}}
20:01:41,937 ERROR [org.jboss.as.server.deployment.scanner] (DeploymentScanner-threads - 1) undefined 
```

我收到此错误，我正在运行 jboss，

```
./standalone.sh -c standalone-full.xml 
```

帮助将不胜感激。

* * *

## 回答 #1

> 赞同：22
> 
> 时间：2013-07-02T00:46:33.540

我认为这个问题发生在我手动部署时，同时还使用了 Eclipse 部署工具。我发现我无法启动服务器，这意味着我无法访问管理控制台。

1.  去`<myJBossDirectory>\standalone\configuration`
2.  打开“standalone.xml”
3.  在 XML 文件的末尾删除节点，`<deployments><deployment></deployment></deployments>` （这应该会清除您可能手动完成的所有部署）
4.  尝试重新启动服务器“standalone.sh”或“standalone.bat”。

* * *

## 回答 #2

> 赞同：10
> 
> 时间：2014-07-12T23:05:14.403

编辑文件 /standalone/configuration/standalone.xml。

搜索部署扫描器并将重复条目删除到同一文件夹。

当我使用 jbosstools 在 eclipse 中添加 wildfly 8.1 服务器时遇到了这个问题。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-12-08T20:12:12.287

您可能需要检查以下位置不存在同名文件 1\. /standalone/deployments 2\. //deployments

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2015-04-14T17:05:31.203

`ls $JBOSS_HOME/standalone/deployments/`显示我有两个`knob.yml`条目，删除它们并且在后续部署中没有遇到此错误

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-05-15T13:44:08.210

我遇到了类似的问题，原来我使用管理控制台部署了一个版本。当我从那里删除它时，重复错误就消失了。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2014-02-28T21:55:18.797

对于未来的搜索者：我发现 kolossus 是对的。快速搜索显示我已将 EAR 文件复制到两个不同的文件夹（./deploy 和 ./deploy/comp/prod/）。删除意外副本解决了问题。

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2016-04-05T21:38:30.233

前面提到的不适用于我的情况。我所做的解决了这个问题：删除由 JBoss 创建的 ./tmp 文件夹下的所有内容。

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2017-09-11T08:24:35.223

从 jboss-eap-6.4\standalone\deployments 文件夹中删除所有 ear/war

# c++ - 在向量中移动元素

> ID：15737144
> 
> 赞同：0
> 
> 时间：2013-04-01T03:08:38.680
> 
> 标签：c++, c++11, move-semantics

我正在尝试移动向量中的元素，这是一个简化的示例

```
#include <iostream>
#include <vector>

struct A
{
    A(size_t i) noexcept : i(i) 
    { std::cout << "A-" << i << std::endl; }

    A(A const& a) noexcept : i(a.i) 
    { std::cout << "A copy" << std::endl; }

    void operator=(A const& a) noexcept
    {
        i = std::move(a.i);
        std::cout << "A op=" << std::endl;
    }

    A(A&& a) noexcept : i(std::move(a.i)) 
    { std::cout << "A move" << std::endl; }

    ~A() noexcept { }

    int i;
};

int main()
{
    // A a0(0);
    // A a1 = std::move(a0);

    std::vector<A> v;
    v.reserve(2);
    v.emplace_back( 0 );
    v.emplace_back( 1 );
    v.emplace_back( 2 );
    v[0] = std::move( v[2] );
    v[2] = std::move( A(3) );

    return 0;
} 
```

调整大小时矢量调用move；我不明白为什么`v[0] = std::move( v[2] );`不调用移动功能？

使用 gcc 4.7.2 版构建时的输出是

```
A-0
A-1
A-2
A move
A move
A op=
A-3
A op= 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-01T03:11:48.180

您定义了一个移动构造函数，但没有定义移动分配。

```
A& operator = (A&&); 
```

并且您的常规赋值运算符应该返回一个参考：

```
A& operator=(A const& a) 
{
    std::cout << "A op=" << std::endl;
    return *this;
} 
```

# nosql - Redsmin，无法连接到 redis 实例

> ID：15737150
> 
> 赞同：3
> 
> 时间：2013-04-01T03:10:25.283
> 
> 标签：nosql, redis, redsmin

我正在将 redis 服务器实例作为 Windows 服务器运行，并且可以从命令行 cient 成功连接到实例到 127.0.0.1:6379。但是我无法通过 Redsmin 连接到同一个实例。你能告诉我具体是什么吗

*   服务器名称
*   Redis 实例类型
*   Redis 连接字符串

应该是？我的服务器实例没有密码保护。

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-01T14:22:13.853

**服务器名称**是一个逻辑名称，仅用于在 Redsmin 中引用您的服务器。

由于您有自己的 redis 实例，因此您需要向 Redsmin 添加一个“本地可用的”redis 实例，[**请参阅文档**](https://redsmin.uservoice.com/knowledgebase/articles/121169-can-i-manage-redis-instances-only-accessible-from-)。

而且由于您在 Windows 上，安装应该是这样的（**在 powershell 终端中运行这些命令**）

```
npm install redsmin -g
REDSMIN_KEY=YOUR_REDSMIN_CONNECTION_KEY redsmin 
```

在这种情况下，您的**Redis 连接字符串**将用作**RKEY**的值。

如果您需要其他任何东西，您可以随时通过我们的用户[语音](https://redsmin.uservoice.com/)页面与我们联系。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2015-04-27T05:05:21.460

接受的答案对我不起作用。相反，我最终在普通命令提示符（不是 powershell）中使用了以下命令：

```
npm install redsmin@latest -g
set REDSMIN_KEY=[Proxy Connection Key]
redsmin 
```

然后我可以从 Redsmin 网络应用程序连接。

# javascript - 在 jQuery 对话框上禁用回发

> ID：15737153
> 
> 赞同：1
> 
> 时间：2013-04-01T03:11:37.417
> 
> 标签：javascript, jquery, asp.net, drop-down-menu, postback

有没有办法阻止每次调用下拉列表回发时弹出jquery模式对话框？因为似乎整个页面都会刷新，因此我的 jquery 模态对话框也会弹出，但我想阻止这种情况发生，我只需要在第一次加载页面时弹出它。

这是我的 Javascript，尝试使用 event.preventDefault 但它仍然无法正常工作。

```
$(function() {
    $("#ddlNo").click(function(event) {
        event.preventDefault();
    });
    $("#dialog").dialog({
        autoOpen: true,
        closeOnEscape: false,
        modal: true,
        show: { effect: "fade", duration: 1000 },
        buttons: {
            "Confirm": function() {
                var bValid = true;
                allFields.removeClass("ui-state-error");
                bValid = bValid && check(true);

                if (bValid) {
                    $("#users tbody").append("<tr>" +
                "<td>" + agree.val() + "</td>" + "</tr>");
                    $(this).dialog("close");
                }
            }
        },
        close: function() {
            allFields.val("").removeClass("ui-state-error");
        }
    });
}); 
```

这是我的标记：

```
<asp:DropDownList ID="ddlNo" runat="server" DataSourceID="odsEq"
    DataTextField="No" DataValueField="Id" AutoPostBack="true">
</asp:DropDownList> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-01T03:21:19.883

我建议你创建一个打开弹出窗口的函数，从服务器端的页面加载事件，让我们注册一个客户端脚本`Postback != True`，这个脚本会调用你的js脚本来打开对话框。希望这有帮助。

如果您不知道如何使用注册客户端脚本，您可以查看[MSDN](http://msdn.microsoft.com/en-us/library/asz8zsxy.aspx)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-01T03:28:57.977

如果当有人更改下拉列表时您不需要它回发，则将其更改为 AutoPostBack="false"

如果您确实需要回发，请将其放在 UpdatePanel 中，其他控件取决于其状态，使用正确的异步语法，如此处的示例：http: [//msdn.microsoft.com/en-us/library/system.web .ui.asyncpostbacktrigger.aspx](http://msdn.microsoft.com/en-us/library/system.web.ui.asyncpostbacktrigger.aspx)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-02T03:31:55.253

只是想我应该分享一个解决方案。找到了一个可行的解决方案，对于那些需要它的人，您可以使用：

```
<%if (!this.IsPostBack)
      { %>
    <script type = "text/javascript">
        $(function () {
            //logic
        });
    </script>
    <%} %> 
```

# android - 如何在此处设置 onListItemClick？

> ID：15737154
> 
> 赞同：0
> 
> 时间：2013-04-01T03:11:43.770
> 
> 标签：android, listview, onclick

如果这是一个非常基本的问题，我深表歉意，但是如果我从服务器上的文本文件中获取列表项，我该如何设置 onListItemClick？我想要做的只是在单击列表视图上的项目时显示祝酒词，但我似乎无法添加 onListItemClick 来执行此操作。我认为这是因为 try/catch ？

```
import java.io.BufferedReader;
import java.io.IOException;
import java.io.InputStreamReader;
import java.net.MalformedURLException;
import java.net.URL;

import android.app.Activity;
import android.app.ListActivity;
import android.os.Bundle;
import android.view.View;
import android.widget.ArrayAdapter;
import android.widget.Toast;

public class ListView extends ListActivity {
    public String[] ListItems = new String[]{};

    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);

        URL textUrl;
        try {
            textUrl = new URL("http://172.30.54.153/databases/result.txt");
            BufferedReader bufferReader = new BufferedReader(new InputStreamReader(textUrl.openStream()));
            String StringBuffer;
            String stringText = "";
            stringText.split(",");
            while ((StringBuffer = bufferReader.readLine()) != null) {
                stringText += StringBuffer;
            }
            String DbLines = new String(stringText);
            ListItems = DbLines.split(",");

            setListAdapter(new ArrayAdapter<String>( this,
            android.R.layout.simple_list_item_1, ListItems));
            bufferReader.close();

        } catch (MalformedURLException e) {
            // TODO Auto-generated catch block
            e.printStackTrace();
        } catch (IOException e) {
            // TODO Auto-generated catch block
            e.printStackTrace();
        }
    }

    private void OnListItemClick(ListView Parent,View v, int position, long id) {
        // TODO Auto-generated method stub
        Toast.makeText(this, "y"+ ListItems[position], Toast.LENGTH_LONG).show();
    }
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-01T04:33:29.967

你的问题：

**首先**，您的私有事件侦听器的处理程序位于 中**`private`**，因此它不再是继承的方法，您的代码与以下内容有误**`private`**：

```
private void OnListItemClick(ListView Parent,View v, int position, long id) 
```

您必须使用扩大函数范围来覆盖方法，即**public**或**protected**。建议，您应该使用@Override 标识符来确保您的继承意图。像这样修改您的代码（使用 @Override 和 protected 或 public）：

```
@Override
protected void onListItemClick (ListView l, View v, int position, long id)
{
....
} 
```

请参阅 SDK 指南： [ListActivity.onListItemClick()](http://developer.android.com/reference/android/app/ListActivity.html#onListItemClick%28android.widget.ListView,%20android.view.View,%20int,%20long%29)

**其次**，你必须让你的列表视图监听点击事件：

更改您的类定义：

```
public class ListView extends ListActivity implements OnItemClickListener 
{
...
} 
```

并在**`onCreate()`**. 此行将使用指定的侦听器注册当前列表活动（this）：

```
this.setOnItemClickListener(this); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-01T03:21:10.243

将此添加到您的 onCreate 中：

```
ListView lv = getListView();
lv.setOnItemClickListener(new OnItemClickListener() {
    @Override
    public void onItemClick(AdapterView<?> parent, View view, int position, long id) {
        Toast.makeText(ListView.this, "y"+ ListItems[position], Toast.LENGTH_LONG).show();
    }
}); 
```

并删除它：

```
private void OnListItemClick(ListView Parent,View v, int position, long id) {
    // TODO Auto-generated method stub
Toast.makeText(this, "y"+ ListItems[position], Toast.LENGTH_LONG).show();

} 
```

您可能希望将您的类重命名为 MyListView 之类的名称以避免混淆

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-01T03:52:32.060

在 OnListItemClick 的 Lint
`The method OnListItemClick(ListView, View, int, long) from the type ListActivity is never used locally`

将其替换为：
`protected void onListItemClick(ListView l, View v, int position, long id)`

那是`onListItemClick`-`on`小写不是`OnListItemClick`-`On`大写

希望这有帮助！

# jquery - 除了获得更好的性能，为什么我们需要在 jQuery 中使用 find()？

> ID：15737165
> 
> 赞同：0
> 
> 时间：2013-04-01T03:13:55.277
> 
> 标签：jquery, jquery-selectors, find

我知道在搜索元素时使用 find 可能会获得更好的性能

`$('#parent').find('.child');`>`$('#parent .child');`

但是有没有我们**必须**使用的条件来`find()`代替`selector`?

* * *

为什么人们投票结束这个问题？

find() 必须有特定的创建原因，我只想知道为什么。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-01T03:41:58.043

`.find()`当您已经拥有父 DOM 元素或父 jQuery 元素时最有用。我经常看到它在事件处理程序中这样使用：

```
$(".whatever").click(function() {
    // change the label in this section to red
    $(this).closest("section").find("label").css("color", "red");
}); 
```

或者，由于其他原因，当您已经有一个 jQuery 对象并且您只想在其中找到子对象并对其进行操作时，它很有用，特别是涉及链式操作：

```
// jQuery object previously built for other reason
var items = ...;
// find all child labels and remove a class
items.closest(".item").find("label").removeClass("active"); 
```

虽然，可以`.find()`通过在 jQuery 构造函数中使用可选的上下文参数来完全避免该方法，但它并不方便，也不适合链接，而且 jQuery 的一半首先是为了让事情变得更快更容易，所以我们有`.find()`。

# c - 使用缓冲区的堆栈损坏

> ID：15737166
> 
> 赞同：0
> 
> 时间：2013-04-01T03:13:57.593
> 
> 标签：c, unix

我试图了解堆栈损坏时会发生什么。这是我试图理解的示例程序。我已将缓冲区的大小定义为 1 个字节。但是堆栈损坏发生在我输入第 13 个字节之后。为什么在第 13 个字节后会损坏？

C代码：

```
#include<stdio.h>
#include<string.h>
int main(int argc,char *argv[]){
 char buffer[1];
 strcpy(buffer,argv[1]);
 printf("\n buffer : %s \n",buffer);
 return 0;
} 
```

汇编代码：

```
 .file   "buffer_overflow.c"
        .section        .rodata
.LC0:
        .string "\n buffer : %s \n"
        .text
.globl main
        .type   main, @function
main:
        pushl   %ebp
        movl    %esp, %ebp
        andl    $-16, %esp
        subl    $32, %esp
        movl    12(%ebp), %eax
        addl    $4, %eax
        movl    (%eax), %eax
        movl    %eax, 4(%esp)
        leal    31(%esp), %eax
        movl    %eax, (%esp)
        call    strcpy
        movl    $.LC0, %eax
        leal    31(%esp), %edx
        movl    %edx, 4(%esp)
        movl    %eax, (%esp)
        call    printf
        movl    $0, %eax
        leave
        ret
        .size   main, .-main
        .ident  "GCC: (Ubuntu/Linaro 4.4.4-14ubuntu5) 4.4.5"
        .section        .note.GNU-stack,"",@progbits 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-01T03:27:17.500

当CPU进入一个函数时，它需要将一些值推入内存堆栈。根据你的代码，在调用'strcpy'之前，堆栈帧在x86系统上是这样显示的。

```
------------  offset 13
char buffer[1]
------------  offset 12
char *argv[]
------------  offset 8
int argc
------------  offset 4
ret
------------  offset 0 
```

所以在你写了13bytes之后，`strcpy`已经重写了ret区。当主要完成时，它已损坏。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-01T03:22:15.433

堆栈在英特尔处理器上向下增长。并且变量被放置在堆栈上。在函数调用之后，ABI（应用程序二进制接口）也可能占用几个字节来存储帧指针、变量块指针以及它想要的任何其他内容。你可以在你的程序集中看到它在开始时推动 ebp。

那么为什么你只在第 13 个字节之后才看到堆栈损坏呢？好吧，1 个字节是可以的，因为你有 1 个字节的内存。接下来的 12 个没问题，因为 ABI 将其他变量推入了那个房间。由于覆盖它，您可能会得到奇怪的结果，但您不会崩溃。然后进入下一个变量，即返回地址。覆盖它，你几乎肯定会崩溃（缺乏非凡的运气）。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-01T03:24:19.220

最重要的是 - 当您经过第一个字节时，堆栈已损坏。:) 但我离题了。

在调用 main 之前，堆栈可能已将以下内容推送到它上面。

此函数的返回地址为 4 个字节。

“argc”为 4 个字节

“argv”为 4 个字节。

“缓冲区”为 1 个字节，但编译器可能将其对齐在 4 字节边界上

所以栈的前 12 个字节都是变量。一旦在偏移量 12 或 13 左右破坏了返回地址，您就会使程序处于错误状态，并且在尝试从该调用返回时可能会崩溃。

# html - CSS 悬停（标题和文本）

> ID：15737167
> 
> 赞同：0
> 
> 时间：2013-04-01T03:14:08.717
> 
> 标签：html, css

是否可以使用 CSS `hover`，当我将鼠标悬停在标题背景上时，标题中的`h1`和`p`标签会褪色和模糊，如果是这样，我该怎么做？

如何告诉我的标题模糊文本？

# 到目前为止我的 CSS：

### 标题：

```
.header:hover {
  background-image: url('img/bg.jpg');
  background-position: center top;
  background-repeat: no-repeat;
  background-color: #000000;
  color: #f6f6f6;
  -moz-box-shadow: 0px 2px 9px #888;
  -webkit-box-shadow: 0px 2px 9px #888;
  box-shadow: 0px 2px 9px #888;
  max-height: 420px;
  -webkit-transition: all 3.2s ease;
  -moz-transition: all 3.2s ease;
  -o-transition: all 3.2s ease;
  -ms-transition: all 3.2s ease;
  transition: all 3.2s ease;
  -webkit-filter: grayscale(0.5) blur(10px);
}
p {
  font-size: 16px;
  line-height: 24px;
}
h1 {
  font-weight: 200;
  font-size: 42px;
} 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-01T03:17:03.910

您可以将`:hover`选择器应用于链中较早的元素，例如：

```
.header:hover p {
    /* blur filters, etc. */
    -webkit-filter: grayscale(0.5) blur(10px);
} 
```

这将在div 悬停`.header`时将指定的属性应用于 div内的段落。`.header`您应该能够为`h1`

# java - 如何使用 POI API 编辑现有的 word 文件

> ID：15737169
> 
> 赞同：1
> 
> 时间：2013-04-01T03:14:33.717
> 
> 标签：java, apache-poi

使用：

XWPFDocument 文档 = new XWPFDocument();

如何分配它以便它不会覆盖已经存在的文件？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-04-01T04:49:43.817

以下将创建一个全新的空 XWPF Word 文档以供使用：

```
XWPFDocument document = new XWPFDocument(); 
```

而这将打开一个现有的进行编辑：

```
XWPFDocument document = new XWPFDocument(OPCPackage.open("MyFile.docx")); 
```

或者，如果您有一个`InputStream`而不是一个文件：

```
XWPFDocument document = new XWPFDocument(inputStream); 
```

# glassfish - 如何在 glassfish 3.1.2 中使alternatedocroot 工作？

> ID：15737171
> 
> 赞同：1
> 
> 时间：2013-04-01T03:14:42.587
> 
> 标签：glassfish, glassfish-3

我正在尝试从 proyect 工作文件夹中获取我的页面资源和上传的文件（使用 JSF 2 和 Netbeans IDE 7.2），所以我不知道如何访问它们，所以我开始阅读如何去做，我找到了“alternatedocroot”......我一直试图让它工作创建 glassfish-web 文件（因为它没有被创建）并将属性留下我的 glassfish-web.xml，如下所示：

```
<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE glassfish-web-app PUBLIC "-//GlassFish.org//DTD GlassFish Application Server 3.1 Servlet 3.0//EN" "http://glassfish.org/dtds/glassfish-web-app_3_0-1.dtd">
<glassfish-web-app error-url="">
  <property name="alternatedocroot_1" value="from=/images/* dir=d:/Plataforma_RAQ-Recursos/3D" />
</glassfish-web-app> 
```

我的 web.xml 是这样的：

```
<?xml version="1.0" encoding="UTF-8"?>
<web-app version="3.0" xmlns="http://java.sun.com/xml/ns/javaee" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd">

<context-param>
    <param-name>javax.faces.PROJECT_STAGE</param-name>
    <param-value>Development</param-value>
</context-param>
<servlet>
    <servlet-name>Faces Servlet</servlet-name>
    <servlet-class>javax.faces.webapp.FacesServlet</servlet-class>
    <load-on-startup>1</load-on-startup>
</servlet>

<servlet-mapping>
    <servlet-name>Faces Servlet</servlet-name>
    <url-pattern>/faces/*</url-pattern>
</servlet-mapping>
<session-config>
    <session-timeout>
        30
    </session-timeout>
</session-config>
<welcome-file-list>
    <welcome-file>faces/inicio.xhtml</welcome-file>
</welcome-file-list>

<context-param>  
    <param-name>primefaces.THEME</param-name>  
    <param-value>sunny</param-value>  
</context-param>

<filter>
    <filter-name>PrimeFaces FileUpload Filter</filter-name>
    <filter-class>org.primefaces.webapp.filter.FileUploadFilter</filter-class>
</filter>

<filter-mapping>
    <filter-name>PrimeFaces FileUpload Filter</filter-name>
    <servlet-name>Faces Servlet</servlet-name>
</filter-mapping>

</web-app> 
```

我还需要什么才能让它工作？，我错过了什么？，除了将路径放在 glassfish-web.xml 中还有什么要做的吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-03T05:03:59.303

多亏了这篇文章，我终于解决了：http: [//www.marceble.com/2009/07/virtual-directories-in-glassfish/](http://www.marceble.com/2009/07/virtual-directories-in-glassfish/)

所以，恢复，

1.  如果您没有，`glassfish-web.xml`您可以通过菜单文件 > 新文件 > Glassfish > Glassfish 描述符自己创建它。

2.  你的 xml 应该是这样的：

    ```
    <?xml version="1.0" encoding="UTF-8"?>
    <!DOCTYPE glassfish-web-app PUBLIC 
    "-//GlassFish.org//DTD GlassFish Application Server 3.1 Servlet 3.0//EN"
     "http://glassfish.org/dtds/glassfish-web-app_3_0-1.dtd">
    <glassfish-web-app error-url="">
        <parameter-encoding default-charset="UTF-8" />
        <!-- Here is the problem, you should have your path of "dir" to the 
        containing folder you wish to share, so in "from" you set the name of the 
        folder and that is all, you should be able to access to the contents of
        the folder -->
        <property name="alternatedocroot_1" value="from=/media/* dir=D:\" />
        <!-- in this case, the contaning folder is D:\ and the folder to share is 
        "media" so the requests to "localhost:8080/MyApplication/media/" should 
        redirect to D:\media\ -->
    </glassfish-web-app> 
    ```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-06-27T21:12:05.503

我工作了几个小时来解决这个问题，但最终发现了我的错误。

需要***指出***的是，“From=/yourFolder/*”必须以相同的名称存在于“dir=/yourDocRoot/”文件夹下。

意思是：如果你的链接应该是“ [http://yourdomain.com/template/](http://yourdomain.com/template/) ...”，那么你的来自将是“from=/template/*”，所以你的“dir=/yourDocRoot/”必须有一个文件夹里面的名称为“模板”。

不要将此“模板”文件夹输入到您的“dir=...”中

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2018-06-01T13:33:46.023

我有同样的问题，我正在添加

```
<property name="alternatedocroot_1" value="from=/uploads/* dir=/Users/osama/Files/"/>
```

内部标签，这是完全不正确的。

# python - 存储文本文件中出现的每个单词的计数

> ID：15737173
> 
> 赞同：1
> 
> 时间：2013-04-01T03:15:28.047
> 
> 标签：python

我想将文本文件中出现的每个单词的计数存储在字典中。我是说

```
fob= open('D:/project/report.txt','r') 
```

我可以将这些行存储到一个列表中，但我需要将这些行拆分为单个单词并最终存储它们的计数（就像在字典中一样）。

```
lst=fob.radlines()

#This doesn't work, gives error
#AttributeError: 'list' object has no attribute 'split' 
mylst=lst.split() 
```

我怎样才能做到这一点 ？这样做的有效方法是什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-01T03:17:42.443

对于 Python`2.7+`

```
from collections import Counter

with open('D:/project/report.txt','r') as fob:
    c = Counter(word for line in fob for word in line.split()) 
```

对于 Python`2.5+`

```
from collections import defaultdict
dd = defaultdict(int)

with open('D:/project/report.txt','r') as fob:
    for line in fob:
        for word in line.split():
            dd[word] += 1 
```

对于年长的蟒蛇或讨厌的人`defaultdict`

```
d = {}

with open('D:/project/report.txt','r') as fob:
    for line in fob:
        for word in line.split():
            d[word] = d.get(word, 0) + 1 
```

# ruby-on-rails - select_tag rails，仅显示特定列表

> ID：15737174
> 
> 赞同：1
> 
> 时间：2013-04-01T03:15:55.550
> 
> 标签：ruby-on-rails, ruby-on-rails-3, forms, html-select

我有这个公司的模型

```
class Company < ActiveRecord::Base
   attr_accessible :description, :name, :type
   belongs_to :type, :class_name => "CompanyType", :foreign_key => :company_type_id
end 
```

而这个公司类型的模型

```
class CompanyType < ActiveRecord::Base
  attr_accessible :name
end 
```

然后在另一个 _form 文件中，我想创建一个仅显示公司类型为“财务”的公司列表的选择。如果该公司的类型是“石油”，则不要在下拉列表中显示它。

如何将其插入此 select_tag 代码并更改模型？

```
<%= select_tag :company, 
    options_from_collection_for_select(Company.order(:name), "id", "name"),
    :include_blank => true%> 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-01T03:20:54.687

```
<%= select_tag :company, 
options_from_collection_for_select(Company.where(:type => "Financial").order(:name), "id", "name"),
:include_blank => true%> 
```

基本上只需添加 .where(:type => "Financial")，您可以在其中添加一个简单的 .where 语句。虽然你可能想删除

```
Company.where(:type => "Financial").order(:name) 
```

到您的控制器并将其保存在这样的实例变量中

```
@companies = Company.where(:type => "Financial").order(:name) 
```

并让视图逻辑看起来像这样。

```
<%= select_tag :company, 
options_from_collection_for_select(@companies, "id", "name"),
:include_blank => true%> 
```

编辑更新的问题

模型

```
class CompanyType < ActiveRecord::Base
  has_many :companies
  attr_accessible :name
end 
```

控制器

```
@companies = CompanyType.where(:name => "Financial").companies.order(:name) 
```

并让视图逻辑看起来像这样。

```
<%= select_tag :company, 
options_from_collection_for_select(@companies, "id", "name"),
:include_blank => true%> 
```

# symfony - Symfony2 路由可选参数和格式路径/模式

> ID：15737175
> 
> 赞同：0
> 
> 时间：2013-04-01T03:16:15.903
> 
> 标签：symfony, routing, pattern-matching

我想使用单个路由模式构建以下 URI

```
1 hello/first.format
2 hello/first
3 hello/first/last.format
4 hello/first/last 
```

其中**first**是必需的，**last**和**format**是可选的。

这是我尝试过的：

```
hello-route:
  pattern:  /hello/{fist_name}/{last_name}.{_format}
  defaults: { _controller: AcmeHelloBundle:Default:index, last_name:Default, _format:html}
requirements:
  _format: html|rss|json
  first_name: \w+
  last_name: \w+ 
```

但不正确，因为它匹配 2、3 和 4 但不匹配 1。1 不会失败，但尽管有要求，它仍会将 {first_name} 匹配为“first.format”。

如何使用基本路由来做到这一点？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-01T04:15:24.253

定义两条路线来完成此任务

```
hello-route-first:
  pattern:  /hello/{fist_name}.{_format}
  defaults: { _controller: AcmeHelloBundle:Default:index, _format:html}
requirements:
  _format: html|rss|json
  first_name: \w+

hello-route-last:
  pattern:  /hello/{fist_name}/{last_name}.{_format}
  defaults: { _controller: AcmeHelloBundle:Default:index, _format:html}
requirements:
  _format: html|rss|json
  first_name: \w+
  last_name: \w+ 
```

然后在你的控制器中使 $last_name 参数可选

```
function indexAction($first_name, $last_name = "")
   { 
```

# php - 回显字符串返回数字

> ID：15737182
> 
> 赞同：0
> 
> 时间：2013-04-01T03:16:53.443
> 
> 标签：php

由于某种原因，此代码作为数字返回（应该是“$RTEXT”）；有什么我想念的吗？愚蠢的错误？请帮忙。

```
 if($_POST['Action_3']){
    if(isset($_POST['act4_0'])){
    $rank = 0;
    $RTEXT = "Member";
    }elseif(isset($_POST['act4_1'])){
    $rank = 1;
    $RTEXT = "Graphic designer";
    }elseif(isset($_POST['act4_2'])){
    $rank = 2;
    $RTEXT = "Moderator";
    }elseif(isset($_POST['act4_3'])){
    $rank = 3;
    $RTEXT = "Administrator";
    }elseif(isset($_POST['act4_4'])){
    $rank = 4;
    $RTEXT = "Director of media";
    }elseif(isset($_POST['act4_5'])){
    $rank = 5;
    $RTEXT = "Community manager";
    }elseif(isset($_POST['act4_6'])){
    $rank = 6;
    $RTEXT = "Senior manager";
    }elseif(isset($_POST['act4_7'])){
    $rank = 7;
    $RTEXT = "Senior moderator/Admin";
    }
echo "<div style='float:left;margin:-660px 100px;min-width:760px;text-indent:190px;font-size:15px;'class='alert alert-success'><strong>Success!</strong> You have successfully changed (<b>" . $_POST['username'] . "'s</b>) rank to (<b>" . $RTEXT . "</b>). </div>"; 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-01T03:52:35.770

也许您忘记在语句末尾用 } 关闭 if($_POST['Action_3'])

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-01T03:39:03.540

你有没有尝试回应每一个`$RTEXT`

在每个条件中首先查看它将落在哪个条件下，然后查看它返回的值`$RTEXT`是字符串还是整数？

# php - 从 MYSQL 获取页面 ID 并显示该记录的内容

> ID：15737183
> 
> 赞同：0
> 
> 时间：2013-04-01T03:16:59.627
> 
> 标签：php, mysql

好的，伙计们，我没有任何编码来显示（抱歉）我需要的是 php 编码来做到这一点

我目前正在创建一个网站，该网站将托管数百页游戏数据，例如图像名称和描述之类的内容，因此不必创建数百个页面，有没有一种方法可以使用 1 页来显示不同的数据

例如，用户想要 gta iv，所以他们点击链接，它会给他们描述和名称，但是用户想要 farcry，所以他们点击链接，它会显示该信息

有没有办法使用 php 和 MySql 使用一个页面并在显示 mysite.com/index.php?PID=00001 (GTA IV DATA) 或 mysite.com/index.php?PID=00002 (相距甚远）

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-01T03:38:54.817

您可以使用`$_GET`

```
mysite.com/index.php?PID=00001 
```

获取PID的值

```
$pid = $_GET['PID']; 
```

现在你在变量 $pid 中有 PID 的值并清理它

```
$pid = mysql_escape_string($pid); 
```

现在使用这样的查询

```
$query = "SELECT * FROM your_table WHERE pid = $pid"; 
```

执行查询并在您的页面中显示结果

**对不起。我不能为你写完整的代码。只是一个样本。**

```
<?php

if (isset($_GET['PID'])) {

  // Getting & cleaning value from url
  $pid = mysql_escape_string($_GET['PID']);

  // connection to your mysql
  $con = mysql_connect("localhost", "your_username", "your_password");
  $db = mysql_select_db("your_database", $con);

  // Getting data from table
  $query = "SELECT * FROM your_table WHERE pid = $pid";
  $result = mysql_query($query);

  // Checking weather we have results from table
  if (!empty($result)) {
    while ($row = mysql_fetch_array($result)) {
      print_r($row);
      // do operations with your data
    }
  } else {
    echo 'no results';
  }
} else {
  echo 'no pid';
}
?> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-01T03:39:08.297

这是一个简单的解释。

```
<?php if(isset($_GET['PID'])) {

$employee = array('nina','simon','tom','zannel','bob');
foreach($employee as $key=>$e) {

if($key == $_GET['PID']) {
echo 'PID: '.$_GET['PID'].' Name: '.$e.' PHONE No: '.'00'.$key; }
    }
 }else {
echo 'Id is not found';

} 
```

这是它的显示方式：

如果你输入了 URL`index.php?PID=1`

> PID：1 姓名：simon 电话号码：001

如果你输入了 URL`index.php?PID=2`

> PID：2 姓名：Tom 电话号码：002

如果你输入了 URL`index.php?PID=2`

> PID：3 名称：zannel 电话号码：003

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-01T04:30:24.720

您应该考虑使用框架来开发它。我使用[CakePHP](http://cakephp.org/)来开发您所说的页面。您需要在这个网站上做很多常见的事情，并且已经做到了。您主要担心站点中的信息或数据如何交互。

数据保存在具有不同字段的数据库中，CakePHP 为您整理页面。你可以有一个网站表。表中的每个站点都有一个 ID、名称、URL、制造商等。当用户访问 somewebsite.com/sites/1 时，CakePHP 会将 ID 为 1 的站点放在一起。

只是一个想法。

# c++ - 检查迭代器不起作用

> ID：15737187
> 
> 赞同：0
> 
> 时间：2013-04-01T03:17:13.130
> 
> 标签：c++, templates, exception-handling, c++11, iterator

我正在尝试从 c++ 编程语言（第 3 版）书中运行检查过的迭代器示例，但我遇到了错误，我想我需要一些帮助来理解，为什么我会遇到这些错误，我得到了书中的代码，在此先感谢。

```
#include <iostream>
#include <vector>
#include <iterator>
#include <exception>
#include <cstddef>

// using namespace std;

template<class Iter> struct iterator_traits{
    typedef typename Iter::iterator_category iterator_category;
    typedef typename Iter::value_type value_type;
    typedef typename Iter::difference_type difference_type;
    typedef typename Iter::pointer pointer;
    typedef typename Iter::reference reference;
};

// specialization for pointer
//template<class T> struct iterator_traits<T*>
//{
//    typedef ptrdiff_t difference_type;
//    typedef T value_type;
//    typedef T* pointer;
//    typedef T& reference;
//    typedef std::random_access_iterator_tag iterator_category;
//};

template<class Cat, class T, class Dist=ptrdiff_t, class Ptr=T*, class Ref=T&>
struct iterator{
    typedef Cat iterator_category;
    typedef T value_type;
    typedef Dist difference_type;
    typedef Ptr pointer;
    typedef Ref reference;
};

template<class Ran>
typename iterator_traits<Ran>::difference_type dist_helper(Ran first, Ran last, random_access_iterator_tag)
{
    return last-first;  //rely on random access

}
template<class In >
typename iterator_traits<In>::difference_type distance(In first, In last)
{
    return dist_helper(first, last, iterator_traits<In>::iterator_category());

}

//Code
template <class Cont, class Iter=typename Cont::iterator>
class Checked_iter : public iterator_traits<Iter>{   //deriving from iterator_traits
    Iter curr;
    Cont* c;
//....

public:
    void valid(Iter p)
    {
        if ( c->end() == p)
            return;
        for(Iter pp= c->begin(); pp != c->end(); ++pp){
            if (pp==p)
                return;
        }
        throw std::out_of_range("out of range");
    }
    friend bool operator==(const Checked_iter& i, const Checked_iter& j)
    {
        return i.c == j.c && i.curr == j.curr;
    }
    //no default initialzer
    //use defaul t copy constructor and cop assignment.

    Checked_iter(Cont& x, Iter p):c(&x), curr(p) {valid(p);}

    //Error:Unkown type name "reference"
    reference operator*()
    {
        if (curr == c->end()) throw std::out_of_range("out of range");
        return *curr;
    }

    //Error:Unkown type name "pointer"
    pointer operator->()
    {
        return &*curr;                    // checked by *
    }
    //Error:Unkown type name "difference_type"
    Checked_iter operator+(difference_type d )        // for random access iterators only
    {
        if(c->end() - curr <= d )
            throw std::out_of_range("out of range");
        return Checked_iter(c ,curr+d );
    }

    //Error:Unkown type name "difference_type"
    reference operator[](difference_type d )      // for random access iterators only
    {
        if (c->end() - curr <= d)
            throw std::out_of_range("out of range");
        return c[d];
    }

    Checked_iter& operator++()             // prefix ++
    {
        if (curr == c->end())
            throw std::out_of_range("out of range");
        ++curr;
        return *this ;
    }

    Checked_iter& operator++(int)
    {
        Checked_iter tmp= *this;
        ++*this; //Checked by prefix ++
        return tmp;
    }

    Checked_iter& operator--()    //prefix--
    {
        if(curr == c->begin())
            throw std::out_of_range("out of range");
        --curr;
        return *this;

    }

    Checked_iter& operator--(int)   //postfix
    {
        Checked_iter tmp=*this;
        --*this;       //checked by prefix --
        return tmp;

    }

   //Error:Unkown type name "difference_type"
    difference_type index() {return curr-c.begin();}  //random access only
    Iterator unchecked() {return curr;}
    //+-<
};

template<class Cont, class Iter> Checked_iter<Cont,Iter>make_checked(Cont& c, Iter i)
{
    return Checked_iter<Cont, Iter>(c,i);

}
template<class Cont>Checked_iter<Cont,typename Cont::iterator>make_checked(Cont& c)
{
    return Checked_iter<Cont, typename Cont::iterator>(c,c.begin());
}

void f_count(vector<int>& vec)
{
    int count=0;
    try{
        Checked_iter<vector<int>> p(vec, vec.begin());
        while(true){
            ++p;
            ++count;
        }
    }
    catch(out_of_range){
        cout<<"overrun after"<<count<<"tries\n";
    }
}

void test_f(){
    int a[] = {0,1,2,3,4,5,6,7,8,9};
    vector<int> l(a, a+sizeof(a)/sizeof(int));
    print_v(l);
    f_count(l);
}

void print_v(vector<int>vec)
{
    for(aut i=vec.begin();i != vec.end(); ++i)
        cout<<*i<<" ";
}

int main()
{
    test_f();

    return 0;
} 
```

我收到`unknown type name`错误`reference`,`pointer`和`difference_type`.

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-01T03:23:31.060

标准库中已经有[std::iterator_traits](http://en.cppreference.com/w/cpp/iterator/iterator_traits)`<iterator>`了。您`using namespace std;`使标题中的内容与用户定义的内容一起可见。从代码中**删除。** `using namespace std;`

另一个大问题是像这里这样的地方：`reference operator*()`. 使用模板，当您使用`reference`编译器时，编译器只会在里面`Checked_iter`查看它是否存在。您需要像这样完全限定它：`typename iterator_traits<Iter>::reference operator*()`或使用所谓的**注入类名**，即`typename Checked_iter::reference operator*()`。否则，编译器会告诉你它不存在。顺便说一句，`reference`等等就是所谓的**从属名称**。

修复上述错误后，您将需要包含`<stdexcept>`get`std::out_of_range`等。并在所有内容前面加上`std::`.

此外， in `difference_type index() {return curr-c.begin();}`,`c`是一个**指针**，因此您需要更改为`c->begin()`.

很多错误......我有一个可[编译的程序](http://liveworkspace.org/code/4xvsYI%2437)：

```
#include <iostream>
#include <vector>
#include <iterator>
#include <exception>
#include <cstddef>
#include <stdexcept>

template<class Iter> struct iterator_traits{
    typedef typename Iter::iterator_category iterator_category;
    typedef typename Iter::value_type value_type;
    typedef typename Iter::difference_type difference_type;
    typedef typename Iter::pointer pointer;
    typedef typename Iter::reference reference;
};

// specialization for pointer
//template<class T> struct iterator_traits<T*>
//{
//    typedef ptrdiff_t difference_type;
//    typedef T value_type;
//    typedef T* pointer;
//    typedef T& reference;
//    typedef random_access_iterator_tag iterator_category;
//};

template<class Cat, class T, class Dist=ptrdiff_t, class Ptr=T*, class Ref=T&>
struct iterator {
    typedef Cat iterator_category;
    typedef T value_type;
    typedef Dist difference_type;
    typedef Ptr pointer;
    typedef Ref reference;
};

template<class Ran>
typename iterator_traits<Ran>::difference_type dist_helper(Ran first, Ran last, std::random_access_iterator_tag)
{
    return last-first;  //rely on random access

}
template<class In >
typename iterator_traits<In>::difference_type distance(In first, In last)
{
    return dist_helper(first, last, iterator_traits<In>::iterator_category());

}

//Code
template <class Cont, class Iter=typename Cont::iterator>
class Checked_iter : public iterator_traits<Iter>{   //deriving from iterator_traits
    Iter curr;
    Cont* c;
//....
public:
    void valid(Iter p)
    {
        if ( c->end() == p)
            return;
        for(Iter pp= c->begin(); pp != c->end(); ++pp){
            if (pp==p)
                return;
        }
        throw std::out_of_range("out of range");
    }
    friend bool operator==(const Checked_iter& i, const Checked_iter& j)
    {
        return i.c == j.c && i.curr == j.curr;
    }
    //no default initialzer
    //use defaul t copy constructor and cop assignment.

    Checked_iter(Cont& x, Iter p):c(&x), curr(p) {valid(p);}

    typename iterator_traits<Iter>::reference operator*()
    {
        if (curr == c->end()) throw std::out_of_range("out of range");
        return *curr;
    }
    typename iterator_traits<Iter>::pointer operator->()
    {
        return &*curr;                    // checked by *
    }

    Checked_iter operator+(typename iterator_traits<Iter>::difference_type d )        // for random access iterators only
    {
        if(c->end() - curr <= d )
            throw std::out_of_range("out of range");
        return Checked_iter(c ,curr+d );
    }

    typename iterator_traits<Iter>::reference operator[](typename iterator_traits<Iter>::difference_type d )      // for random access iterators only
    {
        if (c->end() - curr <= d)
            throw std::out_of_range("out of range");
        return c[d];
    }

    Checked_iter& operator++()             // prefix ++
    {
        if (curr == c->end())
            throw std::out_of_range("out of range");
        ++curr;
        return *this ;
    }

    Checked_iter& operator++(int)
    {
        Checked_iter tmp= *this;
        ++*this; //Checked by prefix ++
        return tmp;
    }

    Checked_iter& operator--()    //prefix--
    {
        if(curr == c->begin())
            throw std::out_of_range("out of range");
        --curr;
        return *this;

    }

    Checked_iter& operator--(int)   //postfix
    {
        Checked_iter tmp=*this;
        --*this;       //checked by prefix --
        return tmp;

    }

    typename iterator_traits<Iter>::difference_type index() {return curr - c->begin();}  //random access only
    Iter unchecked() {return curr;}
    //+-<
};

template<class Cont, class Iter> Checked_iter<Cont,Iter>make_checked(Cont& c, Iter i)
{
    return Checked_iter<Cont, Iter>(c,i);

}
template<class Cont>Checked_iter<Cont,typename Cont::iterator>make_checked(Cont& c)
{
    return Checked_iter<Cont, typename Cont::iterator>(c,c.begin());
}

void f_count(std::vector<int>& vec)
{
    int count=0;
    try{
        Checked_iter<std::vector<int>> p(vec, vec.begin());
        while(true){
            ++p;
            ++count;
        }
    }
    catch(std::out_of_range){
        std::cout<<"overrun after"<<count<<"tries\n";
    }
}

void print_v(std::vector<int>vec)
{
    for(auto i=vec.begin();i != vec.end(); ++i)
        std::cout<<*i<<" ";
}

void test_f(){
    int a[] = {0,1,2,3,4,5,6,7,8,9};
    std::vector<int> l(a, a+sizeof(a)/sizeof(int));
    print_v(l);
    f_count(l);
}

int main()
{
    test_f();

    return 0;
} 
```

# bash - 令人费解的 Bash 行为

> ID：15737188
> 
> 赞同：0
> 
> 时间：2013-04-01T03:17:39.507
> 
> 标签：bash

我只想在一行上声明几个变量名。这些名称应该作为已*采用*的名称可见，即使不一定设置为特定值。

在`C`中，我会这样做：

```
int i, j, k; 
```

在`Bash`，我被欢迎来到一个惊奇的世界：

```
declare -a a1 a2 a3; echo ${!a*} 
```

输出：

```
a1 a2 a3 
```

作品！:) 但这些是数组，所以大概它们是空创建的.. 不是正确的例子。

让我们再试一次。这：

```
declare -r b1 b2 b3; echo ${!b*} 
```

输出：

```
<nothing> 
```

但现在：

```
b1=foo 
```

炸弹：

```
bash: b1: readonly variable 
```

奇怪的。

它将名称标记为只读，但名称本身不会被`${!...}`间接看到。

让我想告诉`Bash`“下定决心！你知道这些符号吗？”

无论如何，这肯定会奏效：

```
declare -g c1 c2 c3; echo ${!c*} 
```

输出：

```
<nothing> 
```

最后：

```
declare -x d1 d2 d3; echo ${!d} 
```

输出：

```
<nothing> 
```

令人不解的是：

```
declare -p 
```

*看到*所有定义的变量，但只有`${!...}`在它们被赋值时才会被调用打印。但是该`man`页面并没有说：“那些具有值的名称将被扩展......”。奇怪的。

所以我得出的结论是，这不会像我最初打算的那样声明我的变量名，而且无论如何都是我的目标，因为我没有分配一个值：

```
declare y1= y2= y3=; echo ${!y*} 
```

...但是，令我沮丧的是，这会产生：

```
y1 y2 y3 
```

于是问题就变成了：

**哪些值在 y1、y2、y3 之后`declare y1= y2= y3=`？**

我试图回答自己，因为如果最终被视为可用名称，那么这些变量中**肯定**有一些东西。甚至，可能是`\0`价值。他们不应该，以上都没有意义，对吧？

```
printf "$v1" > /tmp/tmp 
```

给出了这个：

```
hexdump -C /tmp/tmp
<nothing> 
```

和：

```
wc -c /tmp/tmp 
```

给出：

```
0 /tmp/tmp 
```

文件完全为空。

有人明白这个吗？我想做的只是一个`C`-like `int i, j, k;`..

我需要它，因为在我的函数中，我通过检查某些变量是否“可见”来非常合理地检查一些用户和环境条件。基于此，脚本会做一些事情并更新这些状态信号变量。应该进入符号表并独立于是否具有值而出现在 declare -p 中的东西*只有*在它具有值时才会出现在变量名扩展中是不一致的。除了设置值之外，完全空，这使名称再次可见。显然我不能在这里依赖一致的行为？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-01T10:41:02.863

> 于是问题就变成了：
> 
> **哪些值在 y1、y2、y3 之后`declare y1= y2= y3=`？**

您的问题的答案在于`declare -p`：

```
cobalt@carbon:~ $ declare foo
cobalt@carbon:~ $ declare -p | grep -- "-- foo"
**declare -- foo**
cobalt@carbon:~ $ declare foo=
cobalt@carbon:~ $ declare -p | grep -- "-- foo"
**declare -- foo=""**
cobalt@carbon:~ $ declare -a foo
cobalt@carbon:~ $ declare -p | grep foo
**declare -a foo='([0]="")'**
```

`${!prefix*}`显然只扩展了已声明并分配给它们的值的变量的名称。无论变量是导出的 ( `-x`) 还是声明的全局 ( `-g`)，简单声明都不会赋值。`declare -a var`然而，数组变量 ( ) 的声明是不同的，因为它确实分配了一个值。显式分配值 ( `declare var=`) 的声明也是如此。

# java - struts 2文件上传没有这种方法异常

> ID：15737191
> 
> 赞同：1
> 
> 时间：2013-04-01T03:18:38.923
> 
> 标签：java, jakarta-ee, file-upload, struts2, nosuchmethoderror

我正在尝试使用 struts2 上传文件但没有成功。我一直在关注 struts 2 展示指南，并且浏览了很多论坛。

这是我的 JSP

```
<form action="uploadFile" method="post" enctype="multiform/form-data">
        <div class="overlay">
            <div class="modal">
                <div class="content">
                    <div class="headerText">Upload File</div>

                    <div class="fileuploadwindow">
                         <s:file id="upload" name="upload" label="File"/>
                    </div>

                    <div class="footerText" align="right">

                        <input type="button" class="aButton" value="Close"
                            onclick="closeCreate()"> <s:submit
                            class="aButton" value="Upload"/>
                    </div>
                </div>
            </div>
        </div>
    </form> 
```

这是我的动作课

```
private File upload;

private String uploadFileName;

private String uploadContentType;

@Override
public String execute() throws Exception {
    LOGGER.error("uploaded file : "+upload);
    LOGGER.error("File name : "+uploadFileName);
    LOGGER.error("content type : "+uploadContentType);
    return super.execute();
}

@Override
public String input() throws Exception {
    // TODO Auto-generated method stub
    return super.input();
}

public String upload() throws Exception {
    return SUCCESS;
}

public File getUpload() {
    return upload;
}

public void setUpload(File upload) {
    this.upload = upload;
}

public String getUploadFileName() {
    return uploadFileName;
}

public void setUploadFileName(String uploadFileName) {
    this.uploadFileName = uploadFileName;
}

public String getUploadContentType() {
    return uploadContentType;
}

public void setUploadContentType(String uploadContentType) {
    this.uploadContentType = uploadContentType;
} 
```

当我尝试上传文件时，出现异常

```
Error setting expression 'upload' with value '[Ljava.lang.String;@66fc92f'ognl.MethodFailedException: Method "setUpload" failed for object org.verientouch.opendrive.actions.UploadFileAction@61a8a328 [java.lang.NoSuchMethodException: org.verientouch.opendrive.actions.UploadFileAction.setUpload([Ljava.lang.String;)] 
```

我也经历过[Struts 2 文件上传空指针异常](https://stackoverflow.com/questions/15256761/struts2-file-upload-null-pointer-exception)和[struts2-cant-upload-file-invalid-field-value](https://stackoverflow.com/questions/11665627/struts2-cant-upload-file-invalid-field-value)。但仍然没有成功

请建议我哪里错了

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-01T09:08:12.713

在 JSP 中你应该使用

```
<form action="uploadFile" method="post" enctype="multipart/form-data"> 
```

因为你有错误的编码类型。

# python - 在启发式中使用属性

> ID：15737194
> 
> 赞同：2
> 
> 时间：2013-04-01T03:19:07.890
> 
> 标签：python, networkx

我想在networkx中对A *使用启发式，但我不知道如何在启发式中访问节点属性（我的启发式需要它们）。如何在启发式函数中访问节点属性？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-01T03:25:42.557

如果`G`是你的图，那么`key`节点的属性`n`可以通过

```
G.node[n][key] 
```

* * *

如果`G`不在启发式函数的外部范围内，则要使`G`启发式函数可以访问，请使用闭包：

```
def make_heuristic(G):
    def heuristic(a, b):
        a_attr, b_attr = [G.node[n][key] for n in (a, b)]
        ...
    return heuristic

nx.astar_path(G,start,end,make_heuristic(G)) 
```

# c++ - 无法使用 include(ctest) 构建测试单元？

> ID：15737196
> 
> 赞同：1
> 
> 时间：2013-04-01T03:19:24.903
> 
> 标签：c++, cmake

我的项目结构是[https://github.com/yumyai/cmake-sample](https://github.com/yumyai/cmake-sample)。它类似于此线程[CMake: Project structure with unit tests](https://stackoverflow.com/questions/14446495/cmake-project-structure-with-unit-tests)中的项目。

每当我添加`include(CTest)`到顶级 CMakeLists.txt 中时，我都无法构建测试文件（`make test`不构建任何东西）。但是，如果我注释掉，我可以使用很好的`include(CTest)`方式构建单元测试执行程序。`make test`

这是正常行为还是我忘记了什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-01T06:51:52.137

您的示例看起来不错 - 它应该可以使用或不使用该`include(CTest)`线。

可能是在更改 CMakeLists.txt 后没有重新编译任何内容，所以看起来`make test`什么都不做？

如果省略该`include(CTest)`行并执行`make test`，`ctest -N`则应输出如下内容：

```
 Test project <path to build>

 Total Tests: 0 
```

如果添加`include(CTest)`line 和 do `make test`，`ctest -N`则应输出如下内容：

```
 Test project <path to build>
 Test #1: SqrTest

 Total Tests: 1 
```

这应该是唯一的区别 - 测试是否在 CTest 注册。在每种情况下，如果`make test`之前已成功运行，那么`make test`真正产生的唯一效果就是重新运行 CMake。如果运行之间 CMakeLists.txt 中的更改不影响实际的测试目标，则不会重建它。

# google-chrome - chrome 26.0.1410.43 与旧版本的渲染差异

> ID：15737198
> 
> 赞同：2
> 
> 时间：2013-04-01T03:19:38.040
> 
> 标签：google-chrome, rendering, css

我的网站在 Firefox Opera 和 chrome 中正常运行（我没有 IE，所以我不确定——因为我使用的是 fedora linux 18）。在最近更新 chrome（最多一个月）之后，页面没有正确呈现。有人知道发生了什么变化吗？我怀疑盒子模型的解释方式发生了变化，因为我以这种方式使用 display:table-cell ：

```
 <div id="midboxmidleft" style="display: table;">
    <div style="display: table-cell; vertical-align: middle; width: 100%;">
          <div id="sideleft">
          <ul>
          <li>blahblah</li>
          <li>blahblah</li>
          <li>blahblah</li>
          <li>blahblah</li>
          <li>bla blah</li>
          </ul>
          </div>
      </div>
 </div> 
```

...右侧相同（为了实现垂直居中）

我还因为鼠标悬停时发生了一些尴尬，我想提一下我也在使用这个 css：

```
li :hover{background-color:#fff;-moz-opacity:.500;filter:alpha(opacity=50);opacity:.50;} 
```

标记已成功验证。对于 CSS 验证，[报告](http://jigsaw.w3.org/css-validator/validator?uri=andreas.galazis.com&profile=css3&usermedium=all&warning=1&vextwarning=&lang=en)了一些错误，但我认为它们不是问题。

如果您想检查问题，这是指向我的网站的[链接。](http://andreas.galazis.com/)

我建议在禁用 java-script 的情况下对其进行检查，因为这反映了已验证页面的状态。

这个问题的关键是找出导致这个问题的 Chrome 最近发生了什么变化（因为我的代码已经过验证，但我可能仍然是错误的）。如果您知道我在哪里可以找到有关所用渲染引擎的更改日志，请告诉我。任何帮助表示赞赏！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-01T04:01:01.147

我不知道您的确切问题是什么，但我的猜测与您的猜测一样，盒子模型发生了一些变化，您总是可以尝试使用`box-sizing`它将所有边框和填充推入盒子内部，而不是将它们添加到外部该框将使浏览器之间的中断变得更加困难，您可以像这样应用此属性

**CSS**

```
*,*:before,*:after {
    -webkit-box-sizing: border-box;
    -moz-box-sizing: border-box;
    box-sizing: border-box;
} 
```

另外我建议使用 CSS 重置，它将重置元素上的所有默认边距和填充，如果你使用它（CSS 重置），你将不得不添加自己的边距，但它会解决不同浏览器解释默认边距的问题等不同。任何方式都希望这会有所帮助，这里有一个 CSS 重置的链接，只需将其添加到单独的样式表中，并在其他样式表之前链接到它。这是链接[http://www.cssreset.com/scripts/eric-meyer-reset-css/](http://www.cssreset.com/scripts/eric-meyer-reset-css/)

PS：IE 9 和 Blow 往往有最多的问题，但是那里有快速修复可以帮助您解决 IE 的问题，我建议在这里[http://code.google.com/p/ie7-js /](http://code.google.com/p/ie7-js/)和使用 IE9 之一。

**编辑请阅读！重要**

查看您的代码并解决您的问题，您需要从第45行`height: 48%`的类中删除该行，这将解决闪烁问题，但您必须修复您的位置。`.midimage``andreas.css`

# c++ - 服务器到多客户端系统计时器以跟踪消息

> ID：15737201
> 
> 赞同：1
> 
> 时间：2013-04-01T03:19:46.377
> 
> 标签：c++, time, timer, client-server

我有一个多客户端到服务器的系统，其中从*客户端 x*发送的消息在最终发送到其目标*客户端 y*之前由服务器处理。该处理涉及将消息推送到全局队列和不同线程之间（例如，当消息需要在不同节点之间传播时才能被传递）。我需要收集有关*客户端 x*发送消息和*客户端 y*接收消息之间的延迟的信息。

我想知道这样做的常见方法是什么（我没有计时器经验并且想学习）并且我得出了两个假设：

1.  *当服务器收到来自客户端 x*的消息时，给消息打上时间戳，然后从所需客户端最终收到消息的时间中减去该时间
2.  为每条到达的消息启动一个计时器（这可以跨越 '00 到 '000s 的消息，我觉得处理器太重了）。

我需要计时器尽可能轻量级（并且我正在查看*ms*精度），因为有 '0-'00s 客户端，而集中式服务器系统意味着可能存在巨大的瓶颈。我很感激任何建议！

# jquery - JQuery AJAX post方法的烦恼

> ID：15737203
> 
> 赞同：0
> 
> 时间：2013-04-01T03:20:09.163
> 
> 标签：jquery, ajax

我无法弄清楚这个 AJAX 帖子有什么问题。数据被发布到服务器并由数据库记录，但我没有成功重定向，而是收到一条莫名其妙的错误消息。我应该从这个错误消息中删除什么来解决我没有成功重定向的原因？

**编辑：**我还应该注意 POST 在开发人员工具网络选项卡中处于“待处理”状态。

代码：

```
$('#submit').click(function(e) {

    data = {
      vimeoVideoId : '22077152'
    };

    console.dir(data);

    var url = '/videos/new-entry';

    $.ajax({
      type: 'POST',
      url: url,
      data: data,
      dataType: 'json',
      success: function(response) {
        console.log('response.status == "OK"');
        if (response.status == "OK") {
          window.location.href = '/videos/' + '22077152';
        }
      },
      error : function(error) {
        console.dir(error);
      }
    });
  e.preventDefault();
  return false;
}); 
```

错误信息：

```
Object {readyState: 4, getResponseHeader: function, getAllResponseHeaders: function, setRequestHeader: function, overrideMimeType: function…}
abort: function (e){var t=e||T;return l&&l.abort(t),k(0,t),this}
always: function (){return i.done(arguments).fail(arguments),this}
complete: function (){if(u){var t=u.length;(function i(t){b.each(t,function(t,n){var r=b.type(n);"function"===r?e.unique&&p.has(n)||u.push(n):n&&n.length&&"string"!==r&&i(n)})})(arguments),n?o=u.length:r&&(s=t,c(r))}return this}
done: function (){if(u){var t=u.length;(function i(t){b.each(t,function(t,n){var r=b.type(n);"function"===r?e.unique&&p.has(n)||u.push(n):n&&n.length&&"string"!==r&&i(n)})})(arguments),n?o=u.length:r&&(s=t,c(r))}return this}
error: function (){if(u){var t=u.length;(function i(t){b.each(t,function(t,n){var r=b.type(n);"function"===r?e.unique&&p.has(n)||u.push(n):n&&n.length&&"string"!==r&&i(n)})})(arguments),n?o=u.length:r&&(s=t,c(r))}return this}
fail: function (){if(u){var t=u.length;(function i(t){b.each(t,function(t,n){var r=b.type(n);"function"===r?e.unique&&p.has(n)||u.push(n):n&&n.length&&"string"!==r&&i(n)})})(arguments),n?o=u.length:r&&(s=t,c(r))}return this}
getAllResponseHeaders: function (){return 2===x?a:null}
getResponseHeader: function (e){var t;if(2===x){if(!c){c={};while(t=Tn.exec(a))c[t[1].toLowerCase()]=t[2]}t=c[e.toLowerCase()]}return null==t?null:t}
overrideMimeType: function (e){return x||(p.mimeType=e),this}
pipe: function (){var e=arguments;return b.Deferred(function(n){b.each(t,function(t,o){var a=o[0],s=b.isFunction(e[t])&&e[t];i[o[1]](function(){var e=s&&s.apply(this,arguments);e&&b.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[a+"With"](this===r?n.promise():this,s?[e]:arguments)})}),e=null}).promise()}
progress: function (){if(u){var t=u.length;(function i(t){b.each(t,function(t,n){var r=b.type(n);"function"===r?e.unique&&p.has(n)||u.push(n):n&&n.length&&"string"!==r&&i(n)})})(arguments),n?o=u.length:r&&(s=t,c(r))}return this}
promise: function (e){return null!=e?b.extend(e,r):r}
readyState: 4
responseText: "<!DOCTYPE html><html><head><link rel="stylesheet" href="//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.1/css/bootstrap-combined.min.css"><link rel="stylesheet" href="/stylesheets/flat-ui.css"><link rel="stylesheet" href="//netdna.bootstrapcdn.com/font-awesome/3.0.2/css/font-awesome.css"><link rel="stylesheet" href="/stylesheets/unislider/dpUniSlider.css"><link rel="stylesheet" href="/stylesheets/styles.css"><link rel="stylesheet" href="/stylesheets/D3.css"><script type="text/javascript" src="http://d3js.org/d3.v3.min.js"></script></head><body><div class="topbar navigation"><div class="fill"><div class="navbar navbar-inverse"><div class="navbar-inner"><div class="container"><ul class="nav"><li><a href="/videos/">Notestream</a></li></ul></div></div></div></div></div><div class="container-fluid"><section class="row-fluid"><div class="span6"><h2 id="video-title"></h2><p id="video-id" class="video-info">5158f3c7fd03dda7f6000002</p><p id="vimeoVideoId" class="video-info">22077152</p><a href="/videos/22077152/destroy">Delete</a></div><div class="span6"><br><div class="btn-group"><button id="your-notes" class="btn">Your Notes</button><button id="all-notes" class="btn">All Notes</button></div></div></section><br><section class="row-fluid"><div id="add-video" class="span6"><iframe id="player" src="http://player.vimeo.com/video/22077152?api=1&amp;player_id=player" width="540" height="304" frameborder="0" webkitallowfullscreen="webkitallowfullscreen" allowfullscreen="allowfullscreen"></iframe></div><div class="span4 note-edit-view"><h4>Your Recent Notes</h4><div id="notes-append"></div></div><div class="span6 unislider-view"><div id="chartSet"><script type="text/javascript" async src="/js/D3/chart.js"></script></div></div></section><br><section class="row-fluid notes-edit-view"><div class="span5 note-edit-view"><form id="noteForm" method="POST" action="/videos/5158f3c7fd03dda7f6000002/note"><fieldset><textarea id="noteText" name="noteText" rows="6" cols="50" placeholder="Add a note" autofocus class="input-xlarge"></textarea><input id="timecode" type="hidden" name="timecode" value="timecode"><input type="hidden" name="videoId" value="5158f3c7fd03dda7f6000002"><input type="hidden" name="author" value="ee"><br><button id="noteButton" type="button" class="btn btn-large">Enter</button></fieldset></form></div></section><section class="row-fluid note-edit-view"><br><a href="/videos/22077152/csv">Download notes</a><br><br></section></div><div class="container-fluid unislider-view"><h4>All Notes</h4><div class="unslider-bkgr">&nbsp;<ul id="unislider"></ul></div></div><script type="text/javascript" src="http://code.jquery.com/jquery-latest.min.js"></script><script type="text/javascript" src="//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.1/js/bootstrap.min.js"></script><script type="text/javascript" src="/js/unislider/jquery.dpUniSlider.min.js"></script><script type="text/javascript" src="http://a.vimeocdn.com/js/froogaloop2.min.js?8a15a-1360785454"></script><script type="text/javascript" src="/js/notestreamjs/notestream-show.js"></script><script type="text/javascript" src="//use.typekit.net/hbs1mpa.js"></script><script type="text/javascript">try{Typekit.load();}catch(e){}↵&lt;/script></body></html>"
setRequestHeader: function (e,t){var n=e.toLowerCase();return x||(e=v[n]=v[n]||e,y[e]=t),this}
state: function (){return n}
status: 200
statusCode: function (e){var t;if(e)if(2>x)for(t in e)m[t]=[m[t],e[t]];else N.always(e[N.status]);return this}
statusText: "OK"
success: function (){if(u){var t=u.length;(function i(t){b.each(t,function(t,n){var r=b.type(n);"function"===r?e.unique&&p.has(n)||u.push(n):n&&n.length&&"string"!==r&&i(n)})})(arguments),n?o=u.length:r&&(s=t,c(r))}return this}
arguments: null
caller: null
length: 0
name: ""
prototype: Object
__proto__: function Empty() {}
<function scope>
then: function (){var e=arguments;return b.Deferred(function(n){b.each(t,function(t,o){var a=o[0],s=b.isFunction(e[t])&&e[t];i[o[1]](function(){var e=s&&s.apply(this,arguments);e&&b.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[a+"With"](this===r?n.promise():this,s?[e]:arguments)})}),e=null}).promise()}
__proto__: Object 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-01T03:33:26.087

改变：

```
success: function(response) {
        console.log('response.status == "OK"');
        if (response.status == "OK") {
          window.location.href = '/videos/' + '22077152';
        }
      } 
```

到

```
....
success: function(response,  textStatus, xhr) {
    if (xhr.statusText == "success") {
      window.location.href = '/videos/' + '22077152';
    }
} 
```

参见：[jQuery.ajax()](http://api.jquery.com/jQuery.ajax/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-01T03:57:33.173

您可以使用简单的方法：

```
$.post('http://your.ajax.url/', 'data=1&data2', function(response){
      console.log(response);
}, 'json'); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-01T04:23:14.253

您设置`dataType`为“json”，因此 jQuery.ajax 需要一个 json 文本，但它会获取 html，因此会引发错误。仅当您的请求返回 json 时，才将 dataType 设置为 json。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2016-03-05T13:06:53.313

您设置`dataType`为`'json'`因此`jQuery.ajax`需要 JSON 文本，但它会获取 HTML，因此会引发错误。仅在您的请求`dataType`返回`json`JSON 时设置。

当我在 PHP 中进行测试时，我们会抛出消息，`json_encode`并且没有错误。

# arrays - 设置浮点数组并在 MIPS 中打印它们

> ID：15737204
> 
> 赞同：0
> 
> 时间：2013-04-01T03:20:18.020
> 
> 标签：arrays, assembly, floating-point, mips

我在设置浮点整数数组然后打印它们时遇到问题...我需要做一些算术，我可以弄清楚，然后将其打印到屏幕上。

```
.data
    time:       .float 310, 393, 422, 494, 514 
miles:      .float 0.0, 42.2, 78.8, 129.4, 133.0
.text  

la $a1, time         # put address of list into $a1
l.s $f1 ($a1)

l.s $f1, ($t3)       # get the value from the array cell

li $v0, 2           
l.s $a0, $f1            
syscall 
```

我不确定我需要做什么才能打印数组的某个值。这让我对如何调用某个浮点数以及如何打印它感到困惑。我已经在互联网上四处寻找了几个小时，这越来越令人沮丧。任何帮助都会很棒。谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-01T12:48:41.683

要打印浮点数，您必须使用`syscall`2`$f12`作为输入浮点数来打印。例如：

```
.data
    time:       .float 310, 393, 422, 494, 514 
    miles:      .float 0.0, 42.2, 78.8, 129.4, 133.0
.text  

    la $a1, time         # put address of list into $a1
    l.s $f12 ($a1)       
    li $v0, 2           
    syscall              # This will print 310.0

    l.s $f12 4($a1)
    syscall              # And this will print 393.0 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-01T18:01:50.057

```
li $t0, 13      #terminating value
li $t1, 4       #byte shifting 
li $t2, 1       #i increments by 1  
la $a1, time            # put address of time into $a1
la $a2, miles       # put address of miles into $a2 

add $a1, $a1, $t1
add $a2, $a2, $t1
l.s $f1, ($a1)
l.s $f2, ($a2)
mul.s $f3, $f1, $f2
s.s $f3, ($a3)

li $v0, 2           
l.s $f12, ($a3)         
syscall 
```

当我将 f1 和 f2 相乘并将它们放入 f3 时，我如何打印 f3？

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-05-19T05:29:38.970

我们总是使用浮动寄存器，除了`$f0`and `$f12`，因为它分别用于读取和写入值..

# javascript - 更改 json 中的“子”节点

> ID：15737206
> 
> 赞同：1
> 
> 时间：2013-04-01T03:20:25.973
> 
> 标签：javascript, json, d3.js

我正在尝试使用 d3s 可折叠树。我正在使用许多示例中看​​到的节点层次结构。但是，我正在尝试放置我自己的节点层次结构数据集，例如

[http://jsfiddle.net/Nszmg/2/](http://jsfiddle.net/Nszmg/2/)

```
 var flare = {

"Name": "Example",
"children": [

    {
     "BName":"Ja",   
     "Email":"",
     "children":[
     {

        "NickName":"NC",
        "id":2

     },
     {

        "NickName":"Fi",
        "id":68

     }
  ],

 }
     ]}; 
```

我可以将其更改为另一个名字，而不是拥有“孩子”吗？我试图找到类似的请求，但没有找到任何匹配的请求。

如果有人对示例有任何建议，我将不胜感激。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-01T22:34:59.397

您可以使用树布局的[*子*功能。](https://github.com/mbostock/d3/wiki/Tree-Layout#wiki-children)

```
var tree = d3.layout.tree()
    .size([height, width])
    .children(function(d) { return d.children1; }); 
```

[这](http://jsfiddle.net/mEyQW/)是一个以“children1”为属性的分叉小提琴。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-01T03:31:56.213

`children`是核心js中用来解析你的参数的key，所以如果你想换另一个，恐怕你必须改变核心，但我不鼓励你这样做。

# xcode - 如何将文件复制到 Xcode 中的构建目标包中？

> ID：15737207
> 
> 赞同：0
> 
> 时间：2013-04-01T03:20:28.567
> 
> 标签：xcode, macos, file-copying

我现在正在 Xcode 中做一个简单的项目。这个项目需要我在运行时读取应用程序包中的配置文件（将来会修改）。

配置文件是在项目中手动编写的，应该复制到目标应用程序的包中。我怎样才能做到这一点？这可能包括以下两个子问题：

1）我应该如何在项目中创建配置文件？通过“新”？还是其他 Xcode 命令或选项？

2）如何让Xcode在构建应用时自动复制配置文件？

非常感谢你！！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-01T03:48:27.097

1) 是的，您可以使用 XCode 的 New 命令来创建一个新文件。具体来说，新建 > 新文件...，您可能需要选择其他 > 空模板。这将创建文件并将其添加到您的项目中。

2) 创建一个不是源文件的文件可能会自动将其添加到目标的 Copy Bundle Resources 构建阶段。核实：

*   在项目导航器中选择项目
*   选择你的目标
*   选择构建阶段选项卡
*   展开 Copy Bundle Resources 阶段

如果新文件未在此处列出，您可以从项目导航器中将其拖过来。

# jquery - 从 URL 获取数据并使用 HTML 显示

> ID：15737214
> 
> 赞同：2
> 
> 时间：2013-04-01T03:21:25.980
> 
> 标签：jquery

我需要一些关于 jQueury 的帮助。我正在构建一个侧边栏时间表，其中包含“前一天”和“下一天”按钮。我想要的是，如果用户访问该网站，它将显示当天的结果（无需单击任何按钮）。但是，如果用户单击“下一个”或“上一个”，它将显示请求日期的结果。

数据是从 /home/schedule/ url 获取的。例如，如果 url 是：/home/schedule/20130331，它将获取 3 月 31 日的计划注册。

我有这段代码，但是，它当然不起作用。我对 jQuery 不是很好，所以任何帮助将不胜感激。

```
<div class="btn-group" style="padding-bottom:3px;">
  <a href="#" id="prev" class="btn">Previous Day</a>
  <a href="#" id="next" class="btn">Next Day</a>                
</div>
<div id="displayResults" name="displayResults"></div>

<script type="text/javascript">
$("#next, #prev").click(function(e){
    e.preventDefault();
    $.ajax({
        url: '{{ URL::base() }}/home/schedule/' + date,
        data: date,
        type: 'GET',
        success: function (data) {
            $('#displayResults').html(data);
        }
    });
});
</script> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-01T06:06:50.760

最后：

**HTML** 前一天 下一天 **在 js fiddle 中你不会看到 url 的任何变化**

**CSS**

```
#displayResults {
    width: 300px;
    height: 200px;
    border: 1px solid;
    padding: 10px;
} 
```

**JS**

```
var tm;//holds timer that checks changing of url
var date='';// holds the date
    $(document).ready(function(){

        getDateFromUrl();

        updateNextBack()

        tm=setInterval(function(){ // check that is the url changed
            var tmp;
            tmp=date;
            getDateFromUrl();
            if(date!=tmp){
                updateNextBack()
                changeDate();
            }
        },300);

        function updateNextBack(){// updates next and back links
            $('#next').attr('href','#'+nextDay(date));
            $('#prev').attr('href','#'+prevDay(date));
        }

        function getDateFromUrl(){//anallyse url
            var str=new String(document.location);
            date='';
            if(str.indexOf('#')>0){
                date=str.substr(str.indexOf('#')+1,str.length-str.indexOf('#'));
            }if(date==''){
                date='20130329';
            }
            date=addToDate(date,0);
        }

        function addToDate(md,i){// adds i to md and then return md
            var tmp=new String(md); // to get date in string format

            var day , month , year; // these will hold year month and day
            day=tmp.substr(6,2);
            month=parseInt(tmp.substr(4,2))-1;
            year=tmp.substr(0,4);
            var myDate=new Date();// create a date object and set its year month and day
            myDate.setFullYear(year);
            myDate.setMonth(month);
            myDate.setDate(day);

            myDate.setDate(myDate.getDate()+i); // adds i day to date
            md=''+myDate.getFullYear();
            md+=''+(myDate.getMonth()<9?'0':'');
            md+=''+parseInt(myDate.getMonth())-(-1);
            md+=''+(myDate.getDate()<10?'0':'');
            md+=''+parseInt(myDate.getDate());

            return md;
        }

        function nextDay(md){// you should write real function
            return addToDate(md,1);
        }

        function prevDay(md){// you should write real function
            return addToDate(md,-1);
        }

        $('#next').click(function(){// for clicking next
        // its empty !!!
        });

        $('#prev').click(function(){// for clicking prev
        // its empty !!!
        });

        function changeDate(){// uses $.get('filename',callbackfunc) to update div value related to date val
            /*$.get('getDate.php?d='+date,function(data){ // you should uncomment this when you are in server
                $('#displayResults').html(data);
            });*/

            //use this when in jsfiddle
            data='content of date:'+date;
            $('#displayResults').html(data);
        }

    }); 
```

[这里](http://jsfiddle.net/wpKKP/4/)是工作小提琴。

# excel - 如何让excel“等待”单元格的值改变？

> ID：15737219
> 
> 赞同：4
> 
> 时间：2013-04-01T03:22:45.703
> 
> 标签：excel, vba

我正在调用第三方远程调用来获取数据。调用此函数后，数据将从单元格（1,1）填充到单元格（10,1）我的代码是这样的

```
application.caculation = xlmanual
cells(1,1) = "some remotefunction"
application.calculate
while cells(10,1)<>"result"

wend
'if it goes here means we get the data
deal_with_data 
```

但是，我的代码会挂在 while 循环中。那么如何处理这个问题呢？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-04-01T14:06:36.350

您当前在 while 循环中旋转的方法不是一个好主意，因为它消耗了所有可用资源来做......什么都不做。`cells(10,1)<>"result"`或者更确切地说，它会尽可能快地一遍又一遍地执行比较。同时用户界面挂起。

简而言之，您会发现 VBA 不适合异步或多线程编程。

值得庆幸的是，Excel 确实为您提供了一种内置的方法来完成此任务，只需付出一点努力：[**Application.OnTime 方法**](http://msdn.microsoft.com/en-us/library/office/ff196165.aspx)。它允许您安排对方法的延迟调用，同时保持 UI（和任何其他 VBA 代码）响应并可用。您可以使用它来实现一种计时器。

这是您的案例的基本方法。它每 1 秒检查一次测试单元的值。如果值没有改变，它会安排自己在另一秒钟内再次检查。如果值为“结果”，它会调用另一个子程序，您可以在其中放置代码来处理结果。

```
Public Sub CallRemoteFunc()
    Application.Calculation = xlManual
    Cells(1, 1) = "some remotefunction"
    Application.Calculate
    Call WaitForUpdate
End Sub

Public Sub WaitForUpdate()
    If Cells(10, 1) <> "result" Then
        Debug.Print "Still waiting"
        Application.OnTime Now + TimeValue("00:00:01"), WaitForUpdate
    Else
        Call DoStuffWithData
    End If
End Sub 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-01T10:45:29.460

当 vba 代码正在运行时，除非您在循环中执行某些操作，否则我不希望任何其他单元格发生更改。

当您想检查最后一个单元格时，我会使用 if 函数并调用此宏。如果你需要，我可以详细说明。

或者，`DoEvents`如果您设想循环运行时数据发生变化，请在循环中使用 vba 函数/方法。我相信，此功能将使应用程序在此宏运行时仍能运行并更新单元格。

**经过一些测试**：我现在怀疑该`DoEvents`功能最适合您。

# ruby - Ruby：递归混淆

> ID：15737220
> 
> 赞同：1
> 
> 时间：2013-04-01T03:22:55.170
> 
> 标签：ruby, recursion

我正在阅读使用 ruby​​ 构建域爬虫方法的人的代码。我是递归概念的新手，无法理解如何阅读他们的代码。

**代码：**

```
def crawl_domain(url, page_limit = 100)
  return if @already_visited.size == page_limit                # [1]
  url_object = open_url(url)
  return if url_object == nil                                  # [2]
  parsed_url = parse_url(url_object)
  return if parsed_url == nil                                  # [3]
  @already_visited[url]=true if @already_visited[url] == nil
  page_urls = find_urls_on_page(parsed_url, url)
  page_urls.each do |page_url|
    if urls_on_same_domain?(url, page_url) and @already_visited[page_url] == nil
      crawl_domain(page_url)
    end
  end
end 
```

**问题：**

1.  连续`return`语句的组合是什么意思？
2.  在第 [1] 行，如果 @already_visited 的大小***与***page_limit 不同，程序是否会跳出 crawl_domain 方法并跳过其余代码？
3.  如果@already_visited 的大小***与***page_limit 相同，是否在设置后继续下一个return 语句`url_object = open_url(url)`

提前感谢您的帮助！

*资料来源：* [http ://www.skorks.com/2009/07/how-to-write-a-web-crawler-in-ruby/](http://www.skorks.com/2009/07/how-to-write-a-web-crawler-in-ruby/)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-01T03:52:04.613

忘记网络爬虫。考虑如何使用递归来添加构成数组的数字：

```
arr = [1, 2, 3, 4]
def sum(array)
  # ??
end
puts sum(arr) #=> 10, please 
```

假装问题已经解决。（所有递归都取决于假装这个。）然后`sum([1, 2, 3, 4])`是`1 + sum([2, 3, 4])`，并且通常`sum`对于任何数组，都是第一个元素加上`sum`数组的其余部分。在 ruby​​ 中，将数组拆分为第一个数组和剩余数组的方法是`shift`; 调用`shift`返回数组的第一个元素*并将*其从数组中删除。所以我们可以写：

```
arr = [1, 2, 3, 4]
def sum(array)
  return array.shift + sum(array)
end
puts sum(arr) 
```

看哪，递归解决方案！然而，有一个问题：我们永远递归（或者，至少，直到遇到某种错误）。*在所有递归中，在递归之前*在退化情况下放置某种“停止”是至关重要的。在我们的情况下，这种退化的情况是什么？当数组为空时！（最终会是这样，因为每次`sum`调用都会从数组中删除一个元素。）对于一个空数组，显然`sum`是零。所以：

```
arr = [1, 2, 3, 4]
def sum(array)
  return 0 unless array.length > 0
  return array.shift + sum(array)
end
puts sum(arr) 
```

结束。

您的网络爬虫类似。我们将递归爬取当前页面的每个子级别，但首先我们有一些“停止”（`return`语句）以防止在各种退化情况下陷入错误情况。（在网络爬虫的情况下，不需要检查当前页面是否真的*有*子级别，因为如果没有，`each`将什么都不做，我们也不会递归。）

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-01T03:27:34.423

对递归感到困惑？阅读本书：

[http://mitpress.mit.edu/sicp/](http://mitpress.mit.edu/sicp/)

您将成为一个更好的程序员，并且您将永远递归蓝线。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2017-05-03T23:50:47.103

# c++ - 什么时候应该使用 C++14 自动返回类型推导？

> ID：15737223
> 
> 赞同：161
> 
> 时间：2013-04-01T03:23:10.700
> 
> 标签：c++, c++14, return-type-deduction

随着 GCC 4.8.0 的发布，我们有了一个支持自动返回类型推断的编译器，它是 C++14 的一部分。使用`-std=c++1y`，我可以这样做：

```
auto foo() { //deduced to be int
    return 5;
} 
```

我的问题是：我应该什么时候使用这个功能？什么时候需要，什么时候让代码更干净？

## 方案 1

我能想到的第一个场景是尽可能的。每个可以这样写的函数都应该是。这样做的问题是它可能并不总是使代码更具可读性。

## 方案 2

下一个场景是避免更复杂的返回类型。作为一个非常简单的例子：

```
template<typename T, typename U>
auto add(T t, U u) { //almost deduced as decltype(t + u): decltype(auto) would
    return t + u;
} 
```

我不相信这真的会成为一个问题，尽管我想在某些情况下让返回类型显式地依赖于参数可能会更清楚。

## 方案 3

接下来，为了防止冗余：

```
auto foo() {
    std::vector<std::map<std::pair<int, double>, int>> ret;
    //fill ret in with stuff
    return ret;
} 
```

在 C++11 中，我们有时可以只`return {5, 6, 7};`代替向量，但这并不总是有效，我们需要在函数头和函数体中指定类型。这纯粹是多余的，而自动返回类型扣除使我们免于这种冗余。

## 方案 4

最后，它可以用来代替非常简单的函数：

```
auto position() {
    return pos_;
}

auto area() {
    return length_ * width_;
} 
```

但是，有时我们可能会查看函数，想知道确切的类型，如果那里没有提供它，我们必须转到代码中的另一个点，比如`pos_`声明的位置。

## 结论

列出了这些场景，其中哪些实际上被证明是该功能有助于使代码更清晰的情况？我在这里没有提到的场景呢？在使用此功能之前我应该​​采取哪些预防措施，以免它以后咬我？如果没有它，这个功能有什么新东西是不可能的吗？

[请注意，多个问题旨在帮助找到回答这个问题的观点。]

* * *

## 回答 #1

> 赞同：68
> 
> 时间：2013-04-01T04:41:58.740

C++11 提出了类似的问题：何时在 lambda 中使用返回类型推导，何时使用`auto`变量。

C 和 C++03 中问题的传统答案是“跨越语句边界，我们使类型显式，在表达式中它们通常是隐式的，但我们可以通过强制转换使它们显式”。C++11 和 C++1y 引入了类型推导工具，以便您可以在新的地方省略类型。

对不起，但你不会通过制定一般规则来解决这个问题。您需要查看特定的代码，并自行决定是否有助于在所有地方指定类型的可读性：您的代码是否更好地说，“这个东西的类型是 X”，还是更好你的代码说，“这个东西的类型与理解这部分代码无关：编译器需要知道，我们可能会解决它，但我们不需要在这里说出来”？

由于“可读性”不是客观定义的[*]，而且它因读者而异，因此您有责任作为无法完全满足样式指南的代码的作者/编辑者。即使风格指南确实指定了规范，不同的人也会喜欢不同的规范，并且倾向于发现任何不熟悉的东西“可读性较差”。因此，特定提议的样式规则的可读性通常只能在其他样式规则的上下文中进行判断。

您的所有场景（甚至是第一个场景）都将用于某人的编码风格。就我个人而言，我发现第二个是最引人注目的用例，但即便如此，我预计它将取决于您的文档工具。看到记录的函数模板的返回类型是 不是很有帮助`auto`，而看到它记录为`decltype(t+u)`创建一个您可以（希望）依赖的已发布接口。

[*] 偶尔有人会尝试进行一些客观的测量。在任何人曾经提出任何具有统计意义和普遍适用的结果的小范围内，它们被工作的程序员完全忽略，有利于作者对什么是“可读”的直觉。

* * *

## 回答 #2

> 赞同：31
> 
> 时间：2013-04-08T14:44:13.943

一般来说，函数返回类型对记录一个函数有很大帮助。用户将知道预期的内容。但是，在一种情况下，我认为删除该返回类型以避免冗余可能会很好。这是一个例子：

```
template<typename F, typename Tuple, int... I>
  auto
  apply_(F&& f, Tuple&& args, int_seq<I...>) ->
  decltype(std::forward<F>(f)(std::get<I>(std::forward<Tuple>(args))...))
  {
    return std::forward<F>(f)(std::get<I>(std::forward<Tuple>(args))...);
  }

template<typename F, typename Tuple,
         typename Indices = make_int_seq<std::tuple_size<Tuple>::value>>
  auto
  apply(F&& f, Tuple&& args) ->
  decltype(apply_(std::forward<F>(f), std::forward<Tuple>(args), Indices()))
  {
    return apply_(std::forward<F>(f), std::forward<Tuple>(args), Indices());
  } 
```

此示例取自官方委员会文件[N3493](http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2013/n3493.html)。函数的目的`apply`是将 a 的元素转发`std::tuple`给函数并返回结果。`int_seq`和只是实现的`make_int_seq`一部分，可能只会让任何试图理解它的用户感到困惑。

如您所见，返回类型只不过`decltype`是返回表达式的一个。此外，`apply_`不打算被用户看到，我不确定记录它的返回类型是否有用，当它或多或少与`apply`' 相同时。我认为，在这种特殊情况下，删除返回类型会使函数更具可读性。请注意，这种返回类型实际上已在添加到标准[N3915](http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2014/n3915.pdf)`decltype(auto)`的提案中被删除并替换为（另请注意，我的原始答案早于本文）：`apply`

```
template <typename F, typename Tuple, size_t... I>
decltype(auto) apply_impl(F&& f, Tuple&& t, index_sequence<I...>) {
    return forward<F>(f)(get<I>(forward<Tuple>(t))...);
}

template <typename F, typename Tuple>
decltype(auto) apply(F&& f, Tuple&& t) {
    using Indices = make_index_sequence<tuple_size<decay_t<Tuple>>::value>;
    return apply_impl(forward<F>(f), forward<Tuple>(t), Indices{});
} 
```

但是，大多数情况下，最好保留该返回类型。在我上面描述的特定情况下，返回类型相当不可读，潜在用户不会从知道它中获得任何收益。带有示例的良好文档将更加有用。

* * *

尚未提及的另一件事：虽然`declype(t+u)`允许使用[表达式 SFINAE](http://en.cppreference.com/w/cpp/language/sfinae#Expression_SFINAE)，`decltype(auto)`但不允许使用（即使[有](http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2016/p0238r0.html)更改此行为的建议）。以一个`foobar`函数为例，如果它存在则调用一个类型的`foo`成员函数，或者如果它存在则调用该类型的`bar`成员函数，并假设一个类总是具有精确的`foo`，或者`bar`两者都没有：

```
struct X
{
    void foo() const { std::cout << "foo\n"; }
};

struct Y
{
    void bar() const { std::cout << "bar\n"; }
};

template<typename C> 
auto foobar(const C& c) -> decltype(c.foo())
{
    return c.foo();
}

template<typename C> 
auto foobar(const C& c) -> decltype(c.bar())
{
    return c.bar();
} 
```

调用`foobar`的实例`X`将显示`foo`，而调用`foobar`的实例`Y`将显示`bar`。如果您改用自动返回类型推导（使用或不使用`decltype(auto)`），您将不会获得表达式 SFINAE 并调用`foobar`任一实例`X`或`Y`将触发编译时错误。

* * *

## 回答 #3

> 赞同：12
> 
> 时间：2013-04-01T03:28:59.413

从来没有必要。至于你什么时候应该——你会得到很多不同的答案。在它实际上是标准的公认部分并以同样的方式得到大多数主要编译器的良好支持之前，我完全不会说。

除此之外，这将是一个宗教论点。我个人会说从不输入实际的返回类型使代码更清晰，更容易维护（我可以查看函数的签名并知道它返回什么而不是实际必须阅读代码），并且它消除了以下可能性您认为它应该返回一种类型，而编译器认为另一种类型会导致问题（就像我曾经使用过的每种脚本语言一样）。我认为汽车是一个巨大的错误，它会带来比帮助更多的痛苦。其他人会说你应该一直使用它，因为它符合他们的编程理念。无论如何，这超出了本网站的范围。

* * *

## 回答 #4

> 赞同：8
> 
> 时间：2015-06-02T20:35:14.890

它与函数的简单性无关（作为这个问题的[现已删除的副本](https://stackoverflow.com/q/30605871/103167)）。

返回类型要么是固定的（不要使用`auto`），要么以复杂的方式依赖于模板参数（在大多数情况下使用，与有多个返回点时`auto`配对使用）。`decltype`

* * *

## 回答 #5

> 赞同：4
> 
> 时间：2018-05-17T23:48:04.467

我想提供一个返回类型 auto 完美的示例：

想象一下，您想为后续较长的函数调用创建一个短别名。使用 auto 你不需要关心原始的返回类型（也许将来会改变），用户可以点击原始函数来获取真正的返回类型：

```
inline auto CreateEntity() { return GetContext()->GetEntityManager()->CreateEntity(); } 
```

PS：取决于[这个](https://stackoverflow.com/questions/50401618/c-shorten-subsequent-function-calls)问题。

* * *

## 回答 #6

> 赞同：3
> 
> 时间：2015-10-09T15:14:17.183

考虑一个真实的生产环境：许多函数和单元测试都相互依赖于`foo()`. 现在假设由于某种原因需要更改返回类型。

如果返回类型`auto`无处不在，并且调用者`foo()`和相关函数`auto`在获取返回值时使用，则需要进行的更改是最小的。如果没有，这可能意味着数小时的极其繁琐且容易出错的工作。

作为一个真实的例子，我被要求将一个模块从到处使用原始指针更改为智能指针。修复单元测试比实际代码更痛苦。

虽然还有其他方法可以处理这种情况，但`auto`返回类型的使用似乎很合适。

* * *

## 回答 #7

> 赞同：2
> 
> 时间：2018-09-14T13:13:01.240

对于场景 3，我将使用要返回的局部变量来转换函数签名的返回类型。这将使函数返回的客户端程序员更清楚。像这样：

**场景 3** 为防止冗余：

```
std::vector<std::map<std::pair<int, double>, int>> foo() {
    decltype(foo()) ret;
    return ret;
} 
```

是的，它没有 auto 关键字，但原则是相同的，以防止冗余并为无法访问源代码的程序员提供更轻松的时间。

# css - CSS 选择器：一个祖先的多个类

> ID：15737225
> 
> 赞同：1
> 
> 时间：2013-04-01T03:23:49.320
> 
> 标签：css, css-selectors

有没有比这更好的方法来选择具有类选项或作为#height 后代的输入的元素，而不选择任何具有非#height 后代的类的元素？

```
#height .inputs, #height .options 
```

#height 似乎是多余的，但 #height .inputs,.options 会选择页面上的所有 class="options"，而不仅仅是从 #height 继承的那些。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-01T03:25:14.543

不，这就是 CSS 的设计方式，这也是我现在在所有项目中使用[LESS CSS的原因之一。](http://lesscss.org/)使用 LESS，您可以通过嵌套选择器将 CSS 构建得更像 JavaScript。例如：

```
#height {
    .inputs, .options {
        /* properties */
    }
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-01T04:50:38.617

**metadept**是绝对正确的。逗号分隔您的选择器，并且由于您没有指定要作为`.options`子级的`#height`，因此它将针对`.options`页面上具有该类的每个元素。

[LESS CSS](http://www.lesscss.org)是一个很好用的工具；您可能还想考虑[SASS](http://sass-lang.com/) - 它归结为您更喜欢什么。

# python - 从表中删除所有数据，但最后 N 个条目

> ID：15737227
> 
> 赞同：0
> 
> 时间：2013-04-01T03:24:11.780
> 
> 标签：python, sql, postgresql, psycopg2, postgresql-9.2

我正在将 psycopg2 与 Python 一起使用。

我想定期从我的数据库中刷新数据。我`Timer`为此设置了一个任务。我以前问过[这个问题](https://stackoverflow.com/questions/15712239/psql-how-to-flush-database-content-without-dropping-table)，但是使用那里列出的答案会冻结我的机器（键盘停止响应，整个系统停止运行）。相反，我想删除表中的所有条目，尽管最后一个 N （也不确定这是否是正确的方法）。

基本上，还有另一个 python 进程正在运行（单独的可执行文件），它正在填充我希望询问的数据库。似乎如果我删除所有条目，并且其他进程正在运行，它可能会导致冻结。我不知道删除条目的安全方法；几乎就好像另一个进程在写入数据库时​​依赖于递增的 ID。

如果有人可以帮助我解决这个问题，将不胜感激。想法？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-01T03:56:21.433

一个可能的解决方案是在所有 id 上运行 a `DELETE`，除了`select ... order by pk desc limit N`给定的自动增量 pk 返回的那些。如果不存在这样的 pk，则拥有 a`created_date`并按其排序应该做同样的事情。

未测试示例：

```
import psycopg2
connection = psycopg2.connect('dbname=test user=postgres')
cursor = conn.cursor()

query = 'delete from my_table where id not in (
            select id from my_table order by id desc limit 30)'
cursor.execute(query)
cursor.commit() #Don't know if necessary
cursor.close()
connection.close() 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-01T13:14:16.010

这可能要快得多：

```
CRETE TEMP TABLE tbl_tmp AS
SELECT * FROM tbl ORDER BY <undisclosed> LIMIT <N>;

TRUNCATE TABLE tbl;
INSERT INTO tbl SELECT * FROM tbl_tmp; 
```

在*一个会话*中完成所有操作。具体情况取决于您未披露的其他情况。

与这个相关的综合答案相比（您的情况更简单）：
[根据多个条件从表中删除重复项并保留到其他表](https://stackoverflow.com/questions/15717674/remove-duplicates-from-table-based-on-multiple-criteria-and-persist-to-other-tab/15717892#15717892)

# extjs - REST 代理请求忽略的身份验证 cookie

> ID：15737230
> 
> 赞同：2
> 
> 时间：2013-04-01T03:24:31.650
> 
> 标签：extjs, extjs4, asp.net-web-api, membership-provider

同一域上的 3 台服务器。具有表单身份验证的自定义成员资格提供程序。

1.  带有登录名的 ASP.net 网络表单（表单身份验证）
2.  ASP.net webapi
3.  ExtJs 网络应用程序

1 和 2 之间的身份验证工作正常。Auth cookie 正在按预期在浏览器中设置。直接从浏览器使用 webapi 方法可以。

问题：服务器#3 中的 ExtJs REST 代理没有发送授权 cookie。服务器以 401 Unauthorized 响应所有 OPTIONS 和 GET。

我真的很感激任何帮助。谢谢。

请求标头：

```
GET /api/codigos/?aux=xtiposoli&_dc=1364785770273&page=1&start=0&limit=25&filter=%5B%7B%22property%22%3A%22nombre%22%7D%5D HTTP/1.1
Host: webapi.pruebas.com:8888
Connection: keep-alive
Origin: http://users.pruebas.com:8889
X-Requested-With: XMLHttpRequest
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.22 (KHTML, like Gecko) Chrome/25.0.1364.172 Safari/537.22
Accept: */*
Referer: http://users.pruebas.com:8889/app.html
Accept-Encoding: gzip,deflate,sdch
Accept-Language: es-ES,es;q=0.8
Accept-Charset: ISO-8859-1,utf-8;q=0.7,*;q=0.3 
```

响应标头：

```
HTTP/1.1 401 Unauthorized
Cache-Control: no-cache
Pragma: no-cache
Content-Type: application/json; charset=utf-8
Expires: -1
Server: Microsoft-IIS/8.0
X-AspNet-Version: 4.0.30319
X-SourceFiles: =?UTF-8?B?QzpcVXNlcnNcVG9ueU1heW9yYWxcRHJvcGJveFxQcm95ZWN0b3NcTmV0MjAxMlxTRVNcU0VTLldlYkFwaVxhcGlcY29kaWdvc1w=?=
Access-Control-Allow-Origin: *
Access-Control-Allow-Headers: Origin, X-Requested-With, Content-Type, Accept
Access-Control-Allow-Methods: GET, POST, PUT, DELETE, OPTIONS
Date: Mon, 01 Apr 2013 03:09:35 GMT
Content-Length: 71 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-01T19:18:45.080

我设法通过以下更改解决了这个问题：

ExtJs 应用程序启动：

```
Ext.Ajax.useDefaultXhrHeader = false;
Ext.Ajax.withCredentials=true; 
```

WebApi 的 web.config：

```
 <add name="Access-Control-Allow-Credentials" value="true" />
  <add name="Access-Control-Allow-Origin" value="http://users.pruebas.com:8889" />
  <add name="Access-Control-Allow-Headers" value="Origin, X-Requested-With, Content-Type, Accept" />
  <add name="Access-Control-Allow-Methods" value="GET, POST, PUT, DELETE, OPTIONS" /> 
```

# android - JsonArray，查找索引？或数组中的多个项目

> ID：15737231
> 
> 赞同：0
> 
> 时间：2013-04-01T03:24:31.860
> 
> 标签：android, arrays, json, google-maps

在这个例子中，我想知道哪个城市离温哥华更近。维多利亚、华盛顿还是德克萨斯？一个我找到最短距离的我如何查看该值属于哪个destination_address？

```
{
   "destination_addresses" : [
      "Victoria, BC, Canada",
      "Texas, États-Unis",
      "Washington, District de Columbia, États-Unis"
   ],
   "origin_addresses" : [ "Vancouver, BC, Canada" ],
   "rows" : [
      {
         "elements" : [
            {
               "distance" : {
                  "text" : "135 km",
                  "value" : 134638
               },
               "duration" : {
                  "text" : "6 heures 37 minutes",
                  "value" : 23815
               },
               "status" : "OK"
            },
            {
               "distance" : {
                  "text" : "3 457 km",
                  "value" : 3456694
               },
               "duration" : {
                  "text" : "7 jours 15 heures",
                  "value" : 658855
               },
               "status" : "OK"
            },
            {
               "distance" : {
                  "text" : "5 000 km",
                  "value" : 4999636
               },
               "duration" : {
                  "text" : "11 jours 2 heures",
                  "value" : 956487
               },
               "status" : "OK"
            }
         ]
      }
   ],
   "status" : "OK"
} 
```

我试图通过解析距离并找到最小距离来找到离温哥华最近的城市。通过发现我们看到最短的距离属于维多利亚。我怎么能说这个最小距离属于维多利亚。 **这是我寻找最近城市（最短距离）的代码**

```
public class MainActivity extends Activity {
HttpClient client; 
double minDistance=0;
String destination_addresses;
JSONArray rows;
JSONArray elements;
final static String URL= "http://maps.googleapis.com/maps/api/distancematrix/json?origins=Vancouver+BC&destinations=San+Francisco|Victoria+BC&mode=bicycling&language=fr-FR&sensor=false";
protected void OnCreate (Bundle savedInstanceState ){
    super.onCreate(savedInstanceState);
    setContentView(R.layout.activity_main);
    client = new DefaultHttpClient();
    }
public JSONObject ClosestObject (String Origin) throws ClientProtocolException, IOException , JSONException {

    StringBuilder url= new StringBuilder (URL);
    HttpGet get = new HttpGet(url.toString());
    HttpResponse r = client.execute(get);
    int status = r.getStatusLine().getStatusCode();
    if (status == 200){
        HttpEntity e = r.getEntity();
        String data = EntityUtils.toString(e);
        JSONArray locations = new JSONArray(data);
        for (int i=0; i< locations.length(); i++){
            rows=  (JSONArray) locations.getJSONObject(2).get("rows");
            elements= (JSONArray) locations.getJSONObject(0).get("elements");
            String Value= elements.getJSONObject(i).toString();
            double distanceValue = Double.parseDouble(Value);
            if ( distanceValue< minDistance){
                minDistance= distanceValue;
            }
        }

    } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-01T05:24:45.380

试试看 ：）

```
JSONObject bigData = new JSONObject(data);
rows = bigData.getJSONArray("rows");
elements = rows.getJSONObject(0).getJSONArray("elements");
JSONObject ob = elements.getJSONObject(0);
String value = ob.getJSONObject("duration").getString("value");//or "distance"
minDistance = Double.parseDouble(value);
int index = 0;
for (int i = 1; i < elements.length(); i++) {
    ob = elements.getJSONObject(i);
    value = ob.getJSONObject("duration").getString("value");//or "distance"
    double distanceValue = Double.parseDouble(value);
       if (distanceValue < minDistance) {
        minDistance = distanceValue;
        index = i;
    }
}
JSONArray closers = bigData.getJSONArray("destination_addresses");
String closer = closers.getString(index);
Log.d("closer", closer);
} catch (Exception ex) {
ex.printStackTrace();
}
}
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-01T04:10:57.477

通过您提供的代码，您正在从 Google url 获取 JSON，因此您应该阅读 API 的文档，您肯定会在那里得到答案。 **编辑：** 如果你想遍历 JSON 数组，你可以使用`yourjsonarray.getJSONObject(index).getString("Distance")`.

# c++ - 捕获和格式化 cout

> ID：15737232
> 
> 赞同：1
> 
> 时间：2013-04-01T03:24:44.383
> 
> 标签：c++

如何捕获 cout 的输入？

例子：

如果我输入：

```
std::cout<<"Some normal text here" << fout <<"Test %, %", 1, 2<< "works 100% fine."<<std::endl 
```

然后它会打印：

> “这里的一些普通文本测试 1、2 可以 100% 正常工作。”

由于 << 运算符，100% 未格式化。只有在 fout 之后的内容才会被格式化，直到遇到 << 运算符。

我可以这样做吗？

```
#include <iostream>
#include <sstream>
#include <vector>
#include <algorithm>

std::ostream& fout (std::ostream& I)
{
    //Some how format my text here.. Then return it as the ostream.
    return I;
}

int main(int argc, char* argv[])
{    
    std::cout<< fout << "Test %", 1 << "Other stuff 20%.";
    //So Anything after fout<< should be stolen and formatted then given back to cout.. Other stuff 20% isn't formatted because of the <<.
} 
```

我知道这看起来很愚蠢，但我真的很想知道它是如何完成的。我看到 boost 通过执行 Format("%20") % SomeVar 做了类似的事情

但我想弄清楚如何使用插入运算符和逗号运算符来做到这一点。有什么想法或类似的吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-01T03:55:47.500

您需要为您的`<<`和`,`操作员定义一个新类型，以使其唯一地工作。

像这样的东西。

```
struct fout
{
    // To establish the formatting string (returns *this)
    fout& operator << ( const std::string &format_string );

    // To insert data into the formatted string (returns *this)
    template < typename T >
    fout& operator , ( const T &data );

    // To produce a type that can be sent to std::cout, etc.
    operator std::string ();
}; 
```

这将允许这样的代码：

```
cout << "Normal text " << (fout() << "Test %, %", 1, 2 ) << "works";
//                             ^^ A fout object is being constructed here. 
```

如果您不喜欢这些括号，请重命名该结构并创建一个名为`fout`.

# bash - Bash 不同意我的管道，拒绝执行完整的命令

> ID：15737234
> 
> 赞同：-2
> 
> 时间：2013-04-01T03:25:16.250
> 
> 标签：bash

到目前为止，这是我的代码：

```
#! /bin/bash

Options=("1" "2" "3")
select opt in "${Options[@]}"
do
  case "$REPLY" in
     1)
        who=$(whoami)
        echo -e "you are: $who"
        ;;
     2)
        var=$(uptime | awk '{print $3}' | cut -d, -f 1)
        echo $var
        ;;
     3) break;;
     *) echo "Invalid input";;
  esac
done 
```

它不起作用。第一个选项工作得很好。然而第二个没有。

进一步的测试表明 bash 不太喜欢管道，输出只是“#”，这表明它只是实际执行的命令的 awk 部分。该命令在 shell 中运行良好（它只报告它在线的时间）。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-01T03:49:03.873

这行没有任何意义：

```
var=$(uptime | awk '{print 3}' | -d, -f 1) 
```

`awk`声明应该是

```
awk '{print $3}' 
```

并且`cut`声明应该是

```
cut -d ',' -f 1 
```

老实说，您可能根本不需要该`awk`声明来完成您想要做的事情。只需管道`uptime`到`cut`上面的语句。

```
var=$(uptime | cut -d ',' -f 1) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-15T15:54:03.083

当您使用 Windows/Dos 中的文本文件并在 unix 中重用它时，就会发生这种情况。

每个操作系统中的行终止符都不同。高温高压

ps 当您在 vi/vim 中打开文本文件时，您会注意到行尾有一个 ^M。

> 不起作用说“剪切：无效的字节或字段列表” – user2230627 Apr 1 at 3:34
> 
> ：

# tcp - TCP协议中的重传机制

> ID：15737236
> 
> 赞同：0
> 
> 时间：2013-04-01T03:25:16.983
> 
> 标签：tcp, ip

有人可以简单地描述一下 TCP 中的重传机制吗？我想知道在这种情况下它是如何处理的？

A向B发送数据包：

1.  A 发送一个数据包。
2.  B 接收并发送 ack，但是这个 ack 丢失了。
3.  超时并重新发送。

在这种情况下 B 会收到 2 个相同的数据包，B 如何避免再次处理相同的数据包？

谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-01T03:38:13.793

每个数据包都有一个与之关联的序列号。随着数据的发送，序列号会增加数据包中原始数据的数量。您可以将序列号视为数据包中第一个字节与数据流开头的偏移量，尽管它可能不会，也可能不会从零开始。当 A 发送重试时，它将使用与第一次相同的序列号。B 在接收数据时跟踪序列号，并且可以知道它之前已经看到了重试的序列号。如果它已经使（上层）客户端可以使用该数据，那么它就知道它不应该再这样做了。

# opencv - 如何检测旋转和相当变形的物体

> ID：15737239
> 
> 赞同：0
> 
> 时间：2013-04-01T03:25:29.417
> 
> 标签：opencv, image-processing, feature-detection, object-detection

我有一张带有黑色描边矩形的 A4 纸。我扫描图像并尝试使用一些基本的 OpenCV 功能，例如模板匹配，但是当我将它放在扫描仪上时，我看到有时会旋转的图像或者纸张以某种方式起皱，因此模板匹配不起作用。
我对图像处理很陌生，我希望你能告诉我一些步骤来解决我的问题。
谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-01T08:04:18.967

如果您的对象检测器有信心根据具有特定比例和方向的模板找到对象，那么您所要做的就是对该查询模板应用一些缩放、旋转或仿射变换并重新应用搜索。

例如。如果您的模板 T 用于图像 I，基于搜索方法 S(T,I)，那么您可以应用 S，以及许多基于 T 的产品：

比例尺：T1=0.5*T...Tn=1.5*T 旋转：T1=R(T,-pi)...Tn=R(T,+pi)

# php - 使用 Google Anayltics Experiments 代码时标头已发送警告

> ID：15737242
> 
> 赞同：0
> 
> 时间：2013-04-01T03:26:02.563
> 
> 标签：php, google-analytics

我收到错误警告，标头已发送，

出于某种原因，它说输出开始于我的谷歌实验的谷歌分析跟踪代码的末尾，

该文件的完整文件是这个

```
<!-- Google Analytics Content Experiment code -->
<script>function utmx_section(){}function utmx(){}(function(){var
k='62393235-4',d=document,l=d.location,c=d.cookie;
if(l.search.indexOf('utm_expid='+k)>0)return;
function f(n){if(c){var i=c.indexOf(n+'=');if(i>-1){var j=c.
indexOf(';',i);return escape(c.substring(i+n.length+1,j<0?c.
length:j))}}}var x=f('__utmx'),xx=f('__utmxx'),h=l.hash;d.write(
'<sc'+'ript src="'+'http'+(l.protocol=='https:'?'s://ssl':
'://www')+'.google-analytics.com/ga_exp.js?'+'utmxkey='+k+
'&utmx='+(x?x:'')+'&utmxx='+(xx?xx:'')+'&utmxtime='+new Date().
valueOf()+(h?'&utmxhash='+escape(h.substr(1)):'')+
'" type="text/javascript" charset="utf-8"><\/sc'+'ript>')})();
</script><script>utmx('url','A/B');</script>
<!-- End of Google Analytics Content Experiment code --> 
```

为什么我会收到此错误？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-01T03:28:12.430

标题上方不应有任何输出。造成这种情况的原因有很多。例子。

```
<?php
header ("Location: test.php");
?> 
```

这不会引发错误

```
<?php
 echo "blabla";
header ("Location: test.php");
?> 
```

或者

```
<strong> test</strong>
<?php
header ("Location: test.php");
?> 
```

以上将触发错误。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-01T06:28:46.840

使用 ob_start(); 作为代码的第一行，以避免错误消息“标头已发送”。

# java - 弱引用和 `OutOfMemoryError`s

> ID：15737244
> 
> 赞同：7
> 
> 时间：2013-04-01T03:26:32.877
> 
> 标签：java, garbage-collection, out-of-memory, javasound, weak-references

我有一个`SoundManager`简单的声音管理课程。本质上：

```
public class SoundManager {
    public static class Sound {
        private Clip clip; // for internal use

        public void stop() {...}
        public void start() {...}
        public void volume(float) {...}
        // etc.
    }

    public Sound get(String filename) {
        // Gets a Sound for the given clip
    }

    // moar stuff
} 
```

它的大部分用途如下：

```
sounds.get("zap.wav").start(); 
```

据我了解，这不应该*在*内存中保留对新创建声音的引用，并且应该很快地对它进行垃圾收集。但是，对于一个简短的声音文件（108 KB，以惊人的 00:00:00 秒打卡，实际上大约 0.8 秒），我只能进行大约 2100 次调用，然后才能获得`OutOfMemoryError`：

> # Java 运行时环境没有足够的内存来继续。
> # Native memory allocation (malloc) failed to allocate 3874172 bytes for jbyte in C:\BUILD_AREA\jdk6_34\hotspot\src\share\vm\prims\jni.cpp
> # 包含更多信息的错误报告文件保存为：
> # *[path ]*

我尝试`private static final Vector<WeakReference<Sound>>`在`SoundManager.Sound`类中实现 a ，将以下内容添加到构造函数中：

```
// Add to the sound list.
allSounds.add(new WeakReference<SoundManager.Sound>(this));
System.out.println(allSounds.size()); 
```

这也允许我在程序结束时迭代并停止所有声音（在小程序中，这并不总是自动完成）。

但是，在同样的情况发生之前，我仍然只得到了大约 10 次调用`OutOfMemoryError`。

如果重要的话，对于每个文件名，我将文件内容缓存为`byte[]`，但是每个文件只执行一次，所以它不应该累积。

那么为什么要保留这些引用，我怎样才能在不增加堆大小的情况下阻止它呢？

* * *

**编辑：** “带有更多信息的错误报告”在第 32 行包含：

```
Java frames: (J=compiled Java code, j=interpreted, Vv=VM code)
J  com.sun.media.sound.DirectAudioDevice.nWrite(J[BIIIFF)I
J  com.sun.media.sound.DirectAudioDevice$DirectDL.write([BII)I
j  com.sun.media.sound.DirectAudioDevice$DirectClip.run()V+163
j  java.lang.Thread.run()V+11
v  ~StubRoutines::call_stub 
```

这是否意味着这个问题完全不受我的控制？javasound 需要时间“冷却”吗？出于调试目的，我以 300/秒的速度喷出这些声音。

* * *

**编辑**有关我使用 JavaSound 的更多信息。

我第一次调用时`sounds.get("zap.wav")`，它看到“zap.wav”之前没有加载过。它将文件写入 a`byte[]`并存储它。然后它继续进行，就好像它以前被缓存过一样。

第一次和所有后续时间（在缓存之后），该方法将`byte[]`存储在内存中，创建一个新的`ByteArrayInputStream`，并`AudioSystem.getAudioInputStream(bais)`在所述流上使用。难道是这些流持有内存？我认为当`Sound`（以及因此`Clip`）被收集时，流也会被关闭。

* * *

**`get`使用每个请求的方法进行**编辑。**这是`public Sound get(String name)`.**

 ***   `byteCache`是一个`HashMap<String, byte[]>`
*   `clazz`是一个`Class<?>`

`byteCache`是一个`HashMap<String, byte[]>`并且`clazz`是一个`Class<?>`

```
try {
    // Create a clip.
    Clip clip = AudioSystem.getClip();

    // Find the full name.
    final String fullPath = prefix + name;

    // See what we have already.
    byte[] theseBytes = byteCache.get(fullPath);

    // Have we found the bytes yet?
    if (theseBytes == null) {
        // Nope. Read it in.
        InputStream is = clazz.getResourceAsStream(fullPath);

        // Credit for this goes to Evgeniy Dorofeev:
        // http://stackoverflow.com/a/15725969/732016

        // Output to a temporary stream.
        ByteArrayOutputStream baos = new ByteArrayOutputStream();

        // Loop.
        for (int b; (b = is.read()) != -1;) {
            // Write it.
            baos.write(b);
        }

        // Close the input stream now.
        is.close();

        // Create a byte array.
        theseBytes = baos.toByteArray();

        // Put in map for later reference.
        byteCache.put(fullPath, theseBytes);
    }

    // Get a BAIS.
    ByteArrayInputStream bais = new ByteArrayInputStream(theseBytes);

    // Convert to an audio stream.
    AudioInputStream ais = AudioSystem.getAudioInputStream(bais);

    // Open the clip.
    clip.open(ais);

    // Create a new Sound and return it.
    return new Sound(clip);
} catch (Exception e) {
    // If they're watching, let them know.
    e.printStackTrace();

    // Nothing to do here.
    return null;
} 
```

* * *

**堆分析后**编辑。****

 **在崩溃前大约 5 秒进行了堆转储。好吧，这说明了：

![堆转储图](https://i.stack.imgur.com/KXjm5.png)

问题嫌疑人#1：

> 由“”加载的“com.sun.media.sound.DirectAudioDevice$DirectClip”的2062个实例占用了230207264（93.19%）字节。
> 
> 关键词 com.sun.media.sound.DirectAudioDevice$DirectClip

这些`Clip`对象被对象强引用，`Sound`但`Sound`对象仅在 a 中被弱引用`Vector<WeakReference<Sound>>`。

我还可以看到每个`Clip`对象都包含`byte[]`.

* * *

**根据菲尔的评论**编辑：****

 **我改变了这个：

```
// Convert to an audio stream.
AudioInputStream ais = AudioSystem.getAudioInputStream(bais);

// Open the clip.
clip.open(ais); 
```

对此：

```
// Convert to an audio stream.
AudioInputStream ais = AudioSystem.getAudioInputStream(bais);

// Close the stream to prevent a memory leak.
ais.close();

// Open the clip.
clip.open(ais);
clip.close(); 
```

这修复了错误，但从不播放任何声音。

如果我省略`clip.close()`错误仍然会发生。如果我移动`ais.close()`到之后`clip.open`错误仍然发生。

我还尝试`LineListener`在创建剪辑时添加一个：

```
@Override
public void update(LineEvent le) {
    if (le.getType() == LineEvent.Type.STOP) {
        if (le.getLine() instanceof Clip) {
            System.out.println("draining");
            ((Clip)le.getLine()).drain();
        }
    }
} 
```

每次剪辑完成或停止时（即开始发生后 30+ 次/秒），我都会收到一条“耗尽”消息，但仍然会收到相同的错误。替换`drain`为`flush`也没有效果。Using`close`使线路稍后无法打开（即使在监听`START`和调用`open`and时`start`）。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-01T05:11:09.053

我怀疑问题在于您没有*明确*关闭音频流。您不应该依赖垃圾收集器来关闭它们。

分配似乎在本机分配中失败，而不是在普通 Java 分配中，我怀疑“GC 在抛出 OOME 之前运行”的正常行为适用于这种情况。

无论哪种方式，最好的做法是显式关闭您的流（使用或带有资源`finally`的 Java 7 ）。`try`这适用于涉及外部资源或堆外内存缓冲区的任何类型的流。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-01T18:22:14.847

如果这完全不正确，请原谅，但我想检查两个我无法从随意阅读您的代码中辨别出来的基础知识。

1) 你的声音文件有多长？给定特定数量的文件、以毫秒为单位的长度、采样率和编码（例如，16 位、立体声），您应该能够计算出预期的内存消耗量。那是多少？

2) Clips 的一个非常常见的错误是每次播放时都重新创建它们，而不是重复使用现有的 Clips。我在评论中看到：“sounds.get("zap.wav").start()" 这让我想知道你是否犯了这个基本错误。您应该只制作一次剪辑，然后在您希望再次播放时将帧位置重置为 0。如果您以极快的​​速度重新创建剪辑，您将很快填满内存，因为每次播放都会创建一个带有自己的 PCM 数据副本的附加对象。

此外，正如一位评论者所说，关闭各种流很重要。不这样做会导致内存泄漏。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-03T19:56:07.827

另一种方法：放弃使用 Java 的 Clip 并编写自己的。我这样做了。我制作了一个将数据存储在内存中的对象和另外两个将“光标”提供到存储中以进行两种不同类型播放的对象。一种用于循环播放，另一种用于重叠播放。两者都可以设置为以不同的播放速度运行，因此您可以通过加快或减慢播放速度来获得不同的效果。两者都将它们的输出定向到我编写的混合器，数据被合并到单个 SourceDataLine 中。

此处提供了代码，包含在第一篇文章中链接的 jar 中： [http ://www.java-gaming.org/topics/simple-audio-mixer-2nd-pass/27943/view.html](http://www.java-gaming.org/topics/simple-audio-mixer-2nd-pass/27943/view.html)

我期待着重新开始研究它，可能会把它放在 GitHub 上。

此外，TinySound 是一个非常有能力的声音管理器。你可以在这里了解它。该方法与我所做的非常相似，将其混合为单个输出。TinySound 提供对 Ogg​​ 等的支持。我不认为它提供变速播放。

[http://www.java-gaming.org/topics/need-a-really-simple-library-for-playing-sounds-and-music-try-tinysound/25974/view.html](http://www.java-gaming.org/topics/need-a-really-simple-library-for-playing-sounds-and-music-try-tinysound/25974/view.html)******

# python - Django Formset - 检查行标记是否已删除

> ID：15737245
> 
> 赞同：1
> 
> 时间：2013-04-01T03:26:37.230
> 
> 标签：python, django

如何检查表单集行是否标记为已删除？

```
for row in myformset:
    //check if row is mark as deleted 
```

先感谢您！

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-04-01T03:50:10.963

[https://docs.djangoproject.com/en/dev/topics/forms/formsets/#can-delete](https://docs.djangoproject.com/en/dev/topics/forms/formsets/#can-delete)

> 与 can_order 类似，这会为每个名为 DELETE 的表单添加一个新字段，并且是 forms.BooleanField。

它只是一个调用的 django 表单字段`DELETE`，因此它应该可以通过`row.cleaned_data.get('DELETE')`

# asp.net - 字母数字正则表达式验证

> ID：15737248
> 
> 赞同：1
> 
> 时间：2013-04-01T03:27:17.237
> 
> 标签：asp.net, .net, regex, validation

什么是asp.net中仅针对字母和数字的正则表达式验证？

我需要输入前两个应该是字符，然后它可以带连字符（`-`），空格（`），撇号（`'`）`

 `我试过

```
^[A-Z a-z\s-'\s]{2,25}$ 
```

这是行不通的。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-01T03:33:27.430

如果我明白你想要什么，这应该有效：

```
^[a-zA-Z]{2}[-\040']*$ 
```

这将匹配两个字母，后跟任意数量的连字符、空格或撇号。它将匹配以下字符串

```
ab --
xy'
zz 
```

但不会匹配这些

```
12
'ab
x- 
```

*注意：*这不会限制匹配表达式的长度（就像您原来的那样）。如果这很重要，请将其替换`*`为`{,23}`.`

# php - mySQL 多查询解决方案

> ID：15737252
> 
> 赞同：0
> 
> 时间：2013-04-01T03:27:59.520
> 
> 标签：php, html, mysql, mysqli, echo

我正在尝试为正在构建的网站构建 CMS，并且我需要能够编辑保存到数据库中的文章。我面临的问题是我有很多`query`语句 1 为我的输入选择所有文章字段值，然后另一个语句从我的类别表中选择所有内容（对于选择下拉菜单，其中包含我拥有的所有类别的选项） ，从类别中获取所有记录的最佳方法是什么，并且只有具有 art_id 的记录 = 到我通过 URL 传递的记录。

**表类别**

```
cat_id  cat_name
1       soccer
2       baseball
3       basketball 
```

**表文章**

```
art_id art_cat_id art_title
1      1          lorem 
```

**HTML / PHP**

```
<?php
 $sql_articles = "SELECT art_id, art_cat_id, art_title, cat_id, cat_name
                FROM app_articles LEFT JOIN app_categories
                ON app_articles.art_cat_id = app_categories.cat_id
                WHERE art_id =".$_GET['art_id']; 

$result = query($sql_articles);
if($result===false) {
    echo("query failed");
}
else {
    $row = mysqli_fetch_array($result)              
?>

<form id="articles" action="" method="post">

<input type="text" name="title" value="<?php echo $row['art_title']; ?>">

<select name="category">
    <option value="<?php echo $row['art_cat_id'] ?>" selected="selected">
            <?php echo $row['cat_name'] ?>
    </option>
    <?php
    $sql_categories = "SELECT cat_id, cat_name FROM app_categories";

    $result = query($sql_categories);

    if($result===false) {
            echo("Query Fail");
    }
    else {
        while( $data = mysqli_fetch_array($result)) {
            if ($row['art_cat_id'] == $data['cat_id']) continue;
    ?>     
            <option value="<?php echo $data['cat_id'] ?>">
                    <?php echo $data['cat_name'] ?>
             </option>
    <?php
        }
    }
?>
</select>

<input type="submit" value="Save">
</form>
<?php
    }
?> 
```

我猜我要问的是，是否有可能做一个 sql 语句，它会返回类似的东西

```
art_id  art_cat_id  art_title  art_slug  art_company cat_id  cat_name
1       1           lorem      lorem     lorem       1       soccer
                                                     2       baseball
                                                     3       basketball 
```

所以我可以做到这一点，这是 1 条声明，提前感谢您的帮助！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-01T03:31:01.547

是的，您可以使用`GROUP_CONCAT`for`MySQL`为您提供组合结果的查询`category name`。

### `[Good Example](http://www.mysqlperformanceblog.com/2006/09/04/group_concat-useful-group-by-extension/)`

### `[SQL DEMO](http://www.sqlfiddle.com/#!2/86dac/34)`

# ruby-on-rails - Rails 包含未加载所需数据

> ID：15737258
> 
> 赞同：0
> 
> 时间：2013-04-01T03:29:07.920
> 
> 标签：ruby-on-rails, ruby

我有两个简单的模型，ProjectSetting 和 ProjectSettingQuestions。ProjectSettingQuestions 属于 ProjectSetting。我想在查询 ProjectSetting 时加载 ProjectSettingQuestions 数据。似乎不可能用这个查询做到这一点：

```
 ProjectSetting.includes(:project_setting_questions).where(:project_id=>params[:project_id]) 
```

参数不是问题。此行获取 ProjectSetting 数据，但不获取问题。谢谢！

日志显示以下内容：

```
ProjectSetting Load (0.3ms)  SELECT "project_settings".* FROM "project_settings" WHERE    "project_settings"."project_id" = 31 LIMIT 1
ProjectSettingQuestion Load (0.4ms)  SELECT "project_setting_questions".* FROM "project_setting_questions" WHERE "project_setting_questions"."project_setting_id" IN (2) 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-01T03:57:37.317

假设你有`has_many`和`belongs_to`关系，你可以这样做：

```
project_setting = ProjectSetting.first
project_setting.project_setting_questions 
```

或者你也可以这样做，因为`ProjectSettingQuestions`belongs_to `ProjectSetting`，它包含`foreign_key`of`ProjectSetting`

```
project_setting = ProjectSetting.first
ProjectSettingQuestion.where(:project_setting_id => project_setting.id) 
```

如果您还没有看过本指南，您应该看看：http: [//guides.rubyonrails.org/association_basics.html](http://guides.rubyonrails.org/association_basics.html)

希望能帮助到你。

# java - 写入太多日志会导致 OutOfMemory 错误？

> ID：15737260
> 
> 赞同：1
> 
> 时间：2013-04-01T03:29:24.937
> 
> 标签：java, log4j, slf4j

我正在使用 Java，并且使用 sl4j/log4j 进行日志记录。只是出于好奇，我想知道写太多日志是否会导致Java OutOfMemory错误？

什么太多了？嗯，说 10 分钟内 100 mb 的登录，同时进行过多的数据库操作（我知道这个信息不足以给出一个精确的答案，但即使我不是在寻找一个精确的答案，只是想知道一般情况下可以这样情况永远到来）。

此外，我的日志记录过程不是异步的。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-01T03:51:06.793

您收到堆已用尽的错误，对吗？不是 PermGen 错误？

显然日志库没有泄漏，但毫无疑问，如果您编写了一些在很短的时间内创建了大量字符串的代码，您可能会耗尽内存。您会认为这会导致 permgen 错误，因为很难想象您的日志记录对象足以解雇堆。

过多的数据库操作是典型的 OOME 罪魁祸首：特别是返回大型结果集。我不会称之为内存泄漏。长时间运行后，泄漏通常会导致故障。如果您有一个包含一百万条记录和 20 列的表，并尝试在查询中返回它，那么它将一直运行到堆消失并崩溃，第一次，没有泄漏或引用问题。

[从大表中检索所有记录时如何避免OOM（内存不足）错误？](https://stackoverflow.com/questions/1107732/how-to-avoid-oom-out-of-memory-error-when-retrieving-all-records-from-huge-tab)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-01T03:32:19.700

> 我想知道写太多日志是否会导致Java OutOfMemory错误？

我非常怀疑。

如果您遇到 OOME 问题，最可能的原因是内存泄漏。您应该有条不紊地进行调查，而不是（基本上）猜测可能的原因。

*（如果内存泄漏发生在某个日志库中，那将是库中的错误。这并非不可能，但很可能很久以前*就已经发现并修复了这样的错误。）

参考：[解决Java内存泄漏的一般策略？](https://stackoverflow.com/questions/1473510/general-strategy-to-resolve-java-memory-leak?rq=1)

# google-chrome - Mac Chrome“包无效详细信息：无法加载扩展程序图标”

> ID：15737267
> 
> 赞同：2
> 
> 时间：2013-04-01T03:30:54.267
> 
> 标签：google-chrome, google-chrome-extension

我仅在 OSX 计算机上遇到了我的 Chrome 扩展程序的问题。它过去工作得很好，但是在我的最新版本中，我有很多文件被组织到文件夹中（css、js 和 img）。该扩展在 Windows 计算机上安装得很好（这是我在 Windows 7 上创建扩展的操作系统），但是当我尝试在 Mac 上安装时，我收到以下消息：
*“包无效。详细信息：'无法加载扩展图标'img\icon_16.png'。'。*
我知道图像在那里，但我的猜测是因为我在 Windows 上做了这个，OSX 不喜欢路径选项。任何想法我可以如何纠正这个并仍然保留文件夹组织？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-11-15T20:47:41.727

晚了，我知道，但解决这个问题的方法是 img\ 中的斜线，将其反转并且效果很好。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-09-07T15:19:24.330

就我而言，问题在于 Google Play 允许使用 .crx 文件进行 zip 压缩。所以在第一次尝试时它说我要压缩我的 crx（在 crx 上传尝试之后），然后它说它需要 zip 文件中的清单文件。之后一切都很好，除了扩展安装 - 它抛出了“无法加载扩展图标”之类的错误。

所以解决方案是压缩src目录（manifest文件所在的目录），而不将扩展名打包到crx中。

# forms - 带有从数据库生成的单选按钮的 Form_for

> ID：15737268
> 
> 赞同：1
> 
> 时间：2013-04-01T03:30:55.500
> 
> 标签：forms, devise, ruby-on-rails-3.2, has-many-through

这似乎很容易做到，基本上我将 Devise 用于管理目的，因此每个注册用户都可以创建一个链接到他们的帐户的产品/图形，然后将该产品与另一个用户进行交易。

```
Class User
  rolify
  :recoverable, :rememberable, :trackable, :validatable
  attr_accessible :role_ids, :as => :admin
  attr_accessible :email, :password, :password_confirmation, :remember_me

  has_many :trades
  has_many :figures, :through => :trades
  accepts_nested_attributes_for :trades

Class Figure
  attr_accessible :image_url, :name, :series, :figure_id

  has_many :trades
  has_many :users, :through => :trades
  accepts_nested_attributes_for :trades

Class Trade
  attr_accessible :figure_id, :user_id

  belongs_to :user
  belongs_to :figure 
```

贸易管制员

```
def new
  @trade = Trade.new
end

def create
  @trade = current_user.figures.build(params[:trade])
end 
```

贸易表格

```
<%= form_for(@trade) do |f| %>
  <div class="field">
    <% Figure.all.each do |figure| %>
      # Create a list of figurines radio buttons
      <%= f.radio_button :figure_id, figure.id, :checked => (params[:figure_id] == nil ? false : params[:figure_id]) %>
        # Link the figures thumbnail to the radio button
      <%= f.label :figure_id, image_tag(figure.image_url, :size => "40x58", :alt => figure.name ), :value => "#{figure.id}" %>
   <% end %>
 </div>

 <div class="actions">
   <%= f.submit %>
 </div>
<% end %> 
```

这是参数

```
{"utf8"=>"✓",
  "authenticity_token"=>"lo+RWOLxGhPIP1pmJhk9v+vetO7cGEKGY844egaQ6A0=",
  "trade"=>{"figure_id"=>"12"},
  "commit"=>"Create Trade"} 
```

这是我遇到的问题：**未知属性：figure_id**

为什么我会收到此错误？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-01T03:46:01.517

`Trade`如果我对您的理解正确，如果您构建 a而不是 a ，则此错误应该消失`Figure`（您只是试图通过新交易将数字链接到用户，对吗？）：

```
def create
   @trade = current_user.trades.build(params[:trade])
   @trade.save
end 
```

# java - 当我尝试从二维数组中传递一行时出错

> ID：15737272
> 
> 赞同：1
> 
> 时间：2013-04-01T03:32:16.220
> 
> 标签：java, arrays, multidimensional-array

在尝试传递一行二维数组时，函数调用出现错误：

```
Tester.java:10: illegal start of expression
            function(arr[0][]);
                            ^
1 error 
```

* * *

我们不能从二维数组中传递一行吗？

```
class Tester {
    public static void main(String args[]) {
        char arr[][] = new char[3][3];
        arr[0][0] = 'x';
        arr[0][1] = 'x';
        arr[0][2] = 'o';
        arr[2][0] = 'x';
        arr[2][1] = 'o';
        arr[2][2] = 'x';
        function(arr[0][]); // ERROR STATEMENT
    }

    public void function(char arr[]) {
        for(char s : arr) {
            System.out.println(s);
        }
    }
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-01T03:33:18.523

这是因为数据是数组的数组，并且 [] 用作传入类型声明的一部分，而不是数组的根节点的一部分，在这种情况下，它们被用作对其进行索引的访问器。

`char arr[][]`是 char 数组的声明。要访问其中一个内部数组，您只需索引到其中一个基本数组，您返回的值将是内部数组。

```
function(arr[0]); // CORRECT STATEMENT 
```

# javascript - 当更改是通过 javascript 函数时，如何捕获文本更改。在这种情况下，Javascript 更改事件不起作用

> ID：15737280
> 
> 赞同：0
> 
> 时间：2013-04-01T03:33:40.377
> 
> 标签：javascript, textbox, onchange

我的代码如下。

```
$(document).ready(function($)
            {            
                var form = $("#video_detail_form");
                var name = $("#videoTitle");
                var nameInfo = $("#valid_videoTitle");
                function validateName(){
                    //if it's NOT valid
                    var titleValue=$.trim(name.val());
                    if(titleValue.length == 0){
                        nameInfo.text("Please Enter Title");
                        return false;
                    }
                    //if it's valid
                    else{
                            nameInfo.text("");
                            return true;
                        }
                }
                name.blur(validateName);
                name.keyup(validateName);
                name.change(validateName);

                $('#editVideoCancel').click(function(){

                    cancelVideoDetailAjaxCall( '/video/cancelVideoDetail', callBackCancelVideoDetail);
                });
            }); 
```

我的 cancelVideoDetailAjaxCall 函数更改了 videoTitle 输入框的文本。但是我的这段代码没有通过 name.change 捕获该事件。

如果我手动更改，那么它会捕获它。因此，当我的回调函数动态地更改文本时，更改事件不会捕获它。

我应该如何捕捉这种变化？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-01T06:22:51.207

通过在 jQuery.valHooks 中设置自定义设置器，您实际上可以使用 jQuery val 方法将值更改捕获到来自某个脚本的所有更改。

假设您将输入类型更改为 myCustomType，然后您将实现 jQuery.valHooks.myCustomType.set 方法，每次使用 val 设置输入值时都会调用该方法，并且您将在此处包含您的特定调用。但我坚持：这不是最佳实践。

您肯定会在网络上找到该挂钩的明确代码。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-12-23T15:56:46.490

正如评论所提到的，如果您通过 jQuery 以编程方式更改值，您还必须以编程方式触发该更改，如果您希望订阅它的任何内容来注册该更改。

如果您不想“干扰”已订阅常规事件的其他事物，您可以随时制作自己的事件并相应地触发它们：

```
$el.on('mycustomevent', function() { ... })
$el.trigger('mycustomevent'); 
```

您甚至可以为“常规事件”和“自定义事件”订阅相同的回调：

```
$el.on('change', myChangeCallback);
...
$el.on('mycustomevent', myChangeCallback); 
```

如果您不想`$el.val('...').trigger('mycustomevent')`重复输入，请声明一个辅助函数来为您执行此操作：

```
// helper function for changing the value
function changeInput(newVal) {
    if(!this.$target) this.$target = $('#text'); // stash the target for reuse
  this.$target
    // programmatically change the value; does not fire 'change' event
    .val(newVal)
    // now trigger your custom action that behaves 
        .trigger('customaction'); // add extra parameters, etc
} 
```

完整示例：[https ://jsfiddle.net/drzaus/ds6g745s/8/](https://jsfiddle.net/drzaus/ds6g745s/8/)

# php - jquery在循环中触发点击

> ID：15737281
> 
> 赞同：0
> 
> 时间：2013-04-01T03:33:47.463
> 
> 标签：php, jquery, facebook

嗨，我正在尝试在列表项中附加 facebook 朋友缩略图并在每个人上添加触发器。但现在它触发了点击，但它只获得点击回调中最后一个附加项目的 fbid。如何正确附加每个点击事件？

```
for(var i=0;i<obj.photo.length;i++) {
var img=$('<img src="https://graph.facebook.com/'+obj.photo[i]['fb_id']+'/picture" />');
var anchor=$('<a href="#" id="'+obj.photo[i]['fb_id']+'"></a>');
var li = $('<li></li>');
var fbul = $('#fb_friends');

anchor.append(img);
li.append(anchor);
fbul.append(li);

anchor.click(function(){
    alert(anchor.attr('id'));
});
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-01T03:36:23.680

问题是因为，您`anchor`在回调函数中使用了一个闭包变量来处理点击事件。此问题的解决方案是从事件属性中获取单击的元素，如下所示。事件处理程序方法内部`this`指向处理程序注册到的元素。

```
anchor.click(function() {
    var $this = $(this);
    alert($this.attr('id'));
}); 
```

但是由于您使用的是动态元素，我建议您使用带有[.on()的事件委托](http://api.jquery.com/on/)

```
var fbul = $('#fb_friends');

fbul.on('click', 'a', function() {
    var $this = $(this);
    alert($this.attr('id'));
})

for (var i = 0; i < obj.photo.length; i++) {
    var img = $('<img src="https://graph.facebook.com/' + obj.photo[i]['fb_id']
            + '/picture" />');
    var anchor = $('<a href="#" id="' + obj.photo[i]['fb_id'] + '"></a>');
    var li = $('<li></li>');

    anchor.append(img);
    li.append(anchor);
    fbul.append(li);
} 
```

# python - 让 apache 和 gevent(django-socketio) 一起工作

> ID：15737284
> 
> 赞同：0
> 
> 时间：2013-04-01T03:34:27.527
> 
> 标签：python, django, gevent-socketio

我正在使用 python、django 和最近的 django-socketio ( [https://github.com/stephenmcd/django-socketio](https://github.com/stephenmcd/django-socketio) ) 开发 ubuntu 12.04。我的问题是当我通过套接字向服务器发送一些东西并等待它发回时，它没有。django 服务器在默认的 http 端口（80）上运行。以及 8080 端口上的 socketio。如果我像这样访问我的网站：' [http](http://mysite.com/) : //mysite.com/' 使用 socketio 的页面根本不起作用。但是使用 8080 端口，一切正常！

我不使用 socketio 服务器来处理请求的原因（它有一个通过键入 manage.py 命令启动的服务器）是我不知道如何使用 apache 来完成它。无法设置 wsgi 文件。到目前为止我所知道的是，您必须将 SocketIOServer 附加到 django 应用程序等等。试过这个，没有成功。

我的问题是：我怎样才能使这项工作？也许在一个端口上处理另一个在另一个端口上应该可以工作。但也试过这个。

我真的不想使用 ajax，因为有很多异步请求。

有事，拜托！

提前致谢。

# c# - Accord.net haar 对象检测

> ID：15737287
> 
> 赞同：1
> 
> 时间：2013-04-01T03:35:28.127
> 
> 标签：c#

我正在尝试构建能够识别受过训练的物体的机器人手臂。我知道它可以用opencv来完成。但我不精通 C++ 编程。所以我需要用 C# 来做。首先我使用 Aforge.net 并使用颜色过滤识别对象，但这是一种糟糕的方法。所以我发现 Accord.net 有先进的技术来做到这一点。Haar 特征对象检测就是其中之一。我阅读了 Accord.net 文档。它有一个构造函数

```
HaarCascade(Int32, Int32,HaarCascadeStage[]) 
```

前两个整数是基本宽度和基本高度。他们是什么。什么是阶段？怎么做？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-01T23:43:41.150

Please take a look on [Accord.NET documentation](http://accord.googlecode.com/svn/docs/html/T_Accord_Vision_Detection_HaarCascade.htm). There is also the [accompanying CodeProject](http://www.codeproject.com/Articles/441226/Haar-feature-Object-Detection-in-Csharp) article which explains what a stage is and even demonstrates how to create a Haar Object Detector using a Haar Cascade.

Also, please keep in mind that the current implementation can only use existent classifiers to perform the recognition. The framework does not yet offer a way to create your own classifiers at this time. However, note that it can work with any OpenCV-compatible XML definition of a Haar cascade, such as any of the ones which come bundled in OpenCV or even definitions created by [other researchers](http://alereimondo.no-ip.org/OpenCV/34).

# ruby - 如何在没有导轨的情况下禁用 activerecord-oracle_enhanced-adapter 中的序列？

> ID：15737290
> 
> 赞同：5
> 
> 时间：2013-04-01T03:35:59.313
> 
> 标签：ruby, oracle, activerecord

我只是将 ActiveRecord 用于使用旧版 Oracle 数据库进行一些开发。我的适配器是 activerecord-oracle_enhanced-adapter ( [https://github.com/rsim/oracle-enhanced](https://github.com/rsim/oracle-enhanced) )。所以我不想让 AR 处理主键生成。如何禁用序列生成的主键？

```
class User < Activied::Base
  self.table_name = "users"
  self.primary_key = "user_id"
end

user = User.new
user.save 
```

然后我得到了错误：

```
stmt.c:230:in oci8lib_191.so: ORA-02289: sequence does not exist (OCIError) 
```

当我将代码更改为

```
class User < ActiveRecord::Base
  self.table_name = 'users'
  self.primary_key = "user_id"
  self.sequence_name = nil
end 
```

我得到另一个错误：

```
stmt.c:230:in oci8lib_191.so: ORA-00936: missing expression (OCIError) 
```

那么有没有人知道如何手动管理主键？我只想做一些简单的插入。

谢谢

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2014-01-18T08:51:45.013

也许为时已晚，但最终我找到了答案。不久：

```
self.sequence_name = :autogenerated 
```

[从这里](https://github.com/rsim/oracle-enhanced/blob/master/lib/active_record/connection_adapters/oracle_enhanced_adapter.rb)的源代码注释：

> # 使用说明：
> 
> ```
> # * Key generation assumes a "${table_name}_seq" sequence is available
> # for all tables; the sequence name can be changed using
> # ActiveRecord::Base.set_sequence_name. When using Migrations, these
> # sequences are created automatically.
> 
> # ***Use set_sequence_name :autogenerated **** with legacy tables that have
> # triggers that populate primary keys automatically.** 
> ```

# javascript - Javascript 秒倒计时

> ID：15737292
> 
> 赞同：1
> 
> 时间：2013-04-01T03:36:04.390
> 
> 标签：javascript

我已经尝试了几个小时来制作一个 javascript 函数，该函数将以秒为单位输入时间并提供倒计时。出于某种原因，它只是拒绝在第一秒后倒计时，我不知道为什么不倒计时。

这是我的 HTML：

```
<span style="display:none;" id="unixtime_coming_0">600</span><span onload='timer()' id="timer_coming_0"></span> 
```

这是我的javascript：

```
setInterval(function timer() {
  var count = document.getElementById("unixtime_coming_0").innerHTML;
  count = count - 1;
  if (count <= 0) {
    clearInterval(counter);
    return;
  }
  var days = Math.floor(count / 86400);
  var hours = Math.floor(count / 3600) % 24;
  var minutes = Math.floor(count / 60) % 60;
  var seconds = count % 60;
  document.getElementById("timer_coming_0").innerHTML = days + "d " + hours + "h " + minutes + "m " + seconds + "s"; // watch for spelling
}, 1000); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-01T03:38:49.407

定义命名函数不会返回任何内容。您必须在以下范围内定义它`setInterval`：

```
var counter = setInterval(timer, 1000);

function timer() {
    var unixtime = document.getElementById("unixtime_coming_0");
    var count = parseInt(unixtime.innerHTML, 10);
    unixtime.innerHTML = count - 1;

    if (count < 1) {
        clearInterval(counter);
        return;
    }

    var days = Math.floor(count / 86400);
    var hours = Math.floor(count / 3600) % 24;
    var minutes = Math.floor(count / 60) % 60;
    var seconds = count % 60;

    document.getElementById("timer_coming_0").innerHTML= days + "d " + hours + "h " + minutes + "m " + seconds + "s"; // watch for spelling
} 
```

我会完全摆脱`setInterval`。只需`timer`通过自身`setTimeout`内部调用`timer`。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-01T03:44:49.447

`count`在每个循环中都被重置为 600。只需将其声明移到函数之外，如下所示：

```
var count = parseInt(document.getElementById("unixtime_coming_0").innerHTML, 10);
setInterval(function timer() {
    count = count - 1;
[...] 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-01T04:51:33.230

为了准确倒计时，您需要使用 new Date().getTime()。请查看此答案以了解类似问题[https://stackoverflow.com/a/15635372/1523245](https://stackoverflow.com/a/15635372/1523245)

# c# - 如何从其模板字段wpf中获取datagrid单元对象

> ID：15737294
> 
> 赞同：0
> 
> 时间：2013-04-01T03:36:16.053
> 
> 标签：c#, wpf, validation, datagrid, datatemplate

下面是我正在使用的示例代码。我已经为`TextBox`被调用创建了附加属性`ErrorMessageServce.ErrorMessage`。每当`ValidationError`填充 时，它都会调用 的属性更改事件`ErrorMessageService`。

从那里我想要的是，如果出现错误，我想突出显示该特定单元格。所以我想去做`ErrorMessageServicePropertyChanged`，但在那里我得到了`TextBox`反对。

所以问题是：

1) 如何从该文本框对象中获取 Datagridcell；

或者：

2）如何突出显示该特定单元格；

3）如何在编辑模式下显示特定的单元格（即应该显示文本框）

**XAML：**

```
<DataGridTemplateColumn>
    <DataGridTemplateColumn.CellTemplate>
        <DataTemplate>
            <TextBlock Grid.Column="1" 
                Width="150" Height="25">
            </TextBlock>
        </DataTemplate>
    </DataGridTemplateColumn.CellTemplate>

    <DataGridTemplateColumn.CellEditingTemplate>
        <DataTemplate>
            <TextBox Grid.Column="1" Style="{DynamicResource ValidatingTextBox}"  
                x:Name="NameText" Text="{Binding CompanyName,ValidatesOnDataErrors=True,ValidatesOnExceptions=True}" App:ErrorMessageService.ErrorMessage="{Binding ValidationResult,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}" Width="150" Height="25">
            </TextBox>
        </DataTemplate>
    </DataGridTemplateColumn.CellEditingTemplate>
</DataGridTemplateColumn> 
```

`ErrorMessageService`

```
public static class ErrorMessageService
{       
    public static readonly DependencyProperty ValidationErrorProperty =
        DependencyProperty.RegisterAttached("ErrorMessage", typeof(ValidationResult), typeof(ErrorMessageService),
       new FrameworkPropertyMetadata(default(ValidationResult), ErrorMessageServicePropertyChanged));

    public static ValidationResult GetErrorMessage(Control control)
    {
        return (ValidationResult)control.GetValue(ValidationErrorProperty);
    }

    public static void SetErrorMessage(Control control, object value)
    {
        control.SetValue(ValidationErrorProperty, value);
    }      

    private static void ErrorMessageServicePropertyChanged(DependencyObject d, DependencyPropertyChangedEventArgs e)
    {
       //here i am getting d as textbox , from this how to get datagridcell object , so that i can highlight
    }
} 
```

谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-09T08:02:21.447

我已经尝试了以下方法，并且从单元格编辑模板内的文本框中获取 Datagridcell 对象效果很好。我想它也可能对其他人有帮助

```
 public static T FindAncestor<T>(DependencyObject dependencyObject)
        where T : class
     {
        DependencyObject target = dependencyObject;
        do
        {
            target = VisualTreeHelper.GetParent(target);
        }
        while (target != null && !(target is T));
        return target as T;
       } 
```

获得 DatagridCellobject 后，它具有 IsEdit 之类的属性，使该单元格可编辑

谢谢

# ruby-on-rails - heroku push 被拒绝，无法编译 Ruby/rails 应用程序

> ID：15737296
> 
> 赞同：18
> 
> 时间：2013-04-01T03:36:30.537
> 
> 标签：ruby-on-rails, heroku

遇到以下问题，对 RoR 来说是全新的，第一次尝试上传应用程序以上线，首先遇到托管问题，然后决定是否可以使用 heroku 修复它们，我只会使用带有 heroku 的自定义域..... . 不，这不是一个测试应用程序“学习轨道”的东西，我想部署的实际应用程序在我拥有的业务中使用，任何帮助都会很棒，我已经搜索并没有看到解决这个问题的方法。

在捆绑之前确保“gem install sqlite3 -v 1.3.7”成功。

```
Failed to install gems via Bundler

Heroku push rejected, failed to compile Ruby/rails app

To git@heroku.com:peaceful-chamber-6371.git
[remote rejected] master -> master <pre-receive hook declined>
error: failed to push some refs to 'git@heroku.com:peaceful-chamber-6371.git 
```

***宝石文件***

```
source 'https://rubygems.org'

gem 'rails', '3.2.12'

# Bundle edge Rails instead:
# gem 'rails', :git => 'git://github.com/rails/rails.git'
group :development, :test do
gem 'sqlite3'
end
group :production do
  gem 'pg'
end

# Gems used only for assets and not required
# in production environments by default.
group :assets do
  gem 'sass-rails',   '~> 3.2.3'
  gem 'coffee-rails', '~> 3.2.1'

  # See https://github.com/sstephenson/execjs#readme for more supported runtimes
  # gem 'therubyracer', :platforms => :ruby

  gem 'uglifier', '>= 1.0.3'
  gem 'twitter-bootstrap-rails'
end

gem 'jquery-rails'

# To use ActiveModel has_secure_password
# gem 'bcrypt-ruby', '~> 3.0.0'

# To use Jbuilder templates for JSON
# gem 'jbuilder'

# Use unicorn as the app server
# gem 'unicorn'

# Deploy with Capistrano
# gem 'capistrano'

# To use debugger
# gem 'debugger' 
```

* * *

## 回答 #1

> 赞同：46
> 
> 时间：2013-04-01T03:44:26.697

试试这个，

删除`Gemfile.lock`文件并执行`bundle install`，然后`git add`，`git commit`和`git push`。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-10-10T11:41:25.900

查看 Heroku 写入控制台的所有输出——您的错误很可能在某处。我遇到了这个，发现预编译步骤失败了。这也可以在本地运行：

```
rake assets:precompile 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2015-10-09T15:01:22.483

尽管该问题有一个公认的答案，但答案对我没有帮助，我遇到了同样的问题。以下内容对我有用，因此做出了贡献。Heroku 不支持 sqlite 3。在这种情况下，我的 gemfile 中有 sqlite3 gem，您应该将其放入开发组，并将 postgres gem（heroku 支持）放入生产组。

1）删除 gemfile.lock 文件（从您的项目文件夹中）

2）在gemfile中，删除`gem sqlite3`或类似sqlite3 gem

3）而不是将以下内容添加到文件末尾：

```
group :development, :test do
  gem 'sqlite3'
end
gem 'pg', group: :production` 
```

现在，在终端中运行以下命令：

```
bundle install
git add .
git commit
git push
git push heroku master 
```

尽管这是一个愚蠢的错误，但我花了一些时间才意识到这一点。希望它可以帮助某人。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-10-22T11:56:40.037

Heroku 的资产插件不再工作，因为 Rails 4 不支持插件。您需要改用 Heroku 的资产宝石。把它放在你的 Gemfile 中：

```
group :production do
  gem 'rails_12factor'
end 
```

在这里找到答案：[Heroku 不编译 Rails 4 中资产管道下的文件](https://stackoverflow.com/questions/15354539/heroku-does-not-compile-files-under-assets-piplines-in-rails-4)为我工作

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2014-07-14T17:38:16.340

我的问题是我在.gitignore 中忽略了我的凉亭目录。

所以我要么需要从我的 packages.json 安装 bower，要么检查我的 bower 目录。

[http://xseignard.github.io/2013/02/18/use-bower-with-heroku/](http://xseignard.github.io/2013/02/18/use-bower-with-heroku/)

我现在选择检查我的凉亭目录以获得快速解决方案。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2016-03-21T17:50:43.570

Heroku 不喜欢 sqlite3，`gem 'sqlite3'`改用`gem 'pg'`

# jsf - 不合作

> ID：15737298
> 
> 赞同：0
> 
> 时间：2013-04-01T03:36:52.910
> 
> 标签：jsf, jsf-2

我有一个奇怪的问题，我不知道主要原因，我有这些登录页面，用于`<f:ajax event="">`验证用户名和密码：

```
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
xmlns:h="http://java.sun.com/jsf/html"
xmlns:f="http://java.sun.com/jsf/core"
xmlns:ui="http://java.sun.com/jsf/facelets">

<h:head></h:head>
<h:body>
<h:form>
<h:panelGrid columns="3">
Name:
<h:inputText id="name" value="#{validateBean.name}"
    validator="#{validateBean.validateName}">
    <f:ajax event="blur" render="nameError" />
</h:inputText>
            <h:message for="name" id="nameError" style="color:red" />

Password:
<h:inputText id="password" value="#{validateBean.password}"
    validator="#{validateBean.validatePassword}">
    <f:ajax event="blur" render="passwordError" />
</h:inputText>
        <h:message for="password" id="passwordError" style="color:red" />
                <h:commandButton value="Login" action="# {validateBean.login}" />

</h:panelGrid> 
```

这些 JSF 可以正常工作，但是当我将上述相同的组件放在 a 下`<ui:composition template="">`以便将这些页面与模板一起使用时，就会出现问题

```
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
xmlns:h="http://java.sun.com/jsf/html"
xmlns:f="http://java.sun.com/jsf/core"
xmlns:ui="http://java.sun.com/jsf/facelets">

<ui:composition template="/WEB-INF/Templates/BasicTemplate.xhtml">
<ui:define name="content">
    <center>
        <h:form>
            <h:panelGrid columns="3">
Name:
<h:inputText id="name" value="#{validateBean.name}"
                    validator="#{validateBean.validateName}">
                    <f:ajax event="blur" render="nameError" />
                </h:inputText>
                <h:message for="name" id="nameError"  style="color:red" />
Password:
<h:inputText id="password" value="#{validateBean.password}"
                    validator="# {validateBean.validatePassword}">
                    <f:ajax event="blur" render="passwordError"  />
                </h:inputText>
                <h:message for="password" id="passwordError"   style="color:red" />
                <h:commandButton value="Login" action="# {validateBean.login}" />
            </h:panelGrid>
        </h:form>
    </center>
</ui:define>
</ui:composition>
</html> 
```

为了更清楚，这里是 jsf 模板页面：

```
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
  xmlns:ui="http://java.sun.com/jsf/facelets">
<head>
<title><ui:insert name="title">Default title</ui:insert></title>
</head>

<body>

<div id="header">
<ui:insert name="header">

    <ui:include src="header.xhtml"/> // normal page contains plain text
 </ui:insert>
 </div>

 <div id="content">
 <ui:insert name="content">
    Content area.  See comments below this line in the source.

  </ui:insert>
  </div>

   <div id="footer">
   <ui:insert name="footer">

    <ui:include src="footer.xhtml"/> // normal page contains plain text
    </ui:insert> 
    </div>

    </body>

     </html> 
```

当我尝试后一种方法时，AJAX 操作根本不会触发，请任何人向我解释为什么会发生这种情况？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-01T19:38:36.433

您在主模板中使用`<head>`而不是。`<h:head>`这种方式 JSF 无法自动包含`jsf.js`ajax 工作所需的 JavaScript 文件。

相应地修复它：

```
<html ...>
    <h:head>
        ...
    </h:head>
    <h:body>
        ...
    </h:body>
</html> 
```

### 也可以看看：

*   [未调用 commandButton/commandLink/ajax 操作/侦听器方法或未更新输入值](https://stackoverflow.com/questions/2118656/hcommandlink-hcommandbutton-is-not-being-invoked/2120183#2120183)- 第 6 点

# apache - ImproperlyConfigured：请求设置 MIDDLEWARE_CLASSES，但未配置设置

> ID：15737301
> 
> 赞同：0
> 
> 时间：2013-04-01T03:37:41.890
> 
> 标签：apache, http, python-2.7, apache2, mod-python

我将 apache mod_wsgi 配置为 django 项目

这是我的 djangotest.wsgi 文件

```
import os
import sys
sys.path = ['/home/pavan/djangoproject'] + sys.path
os.environ['DJANGO_SETTINS_MODULE'] = 'djangoproject.settings'

import django.core.handlers.wsgi

_application = django.core.handlers.wsgi.WSGIHandler()

def application(environ, start_response):
    environ['PATH_INFO'] = environ['SCRIPT_NAME'] + environ['PATH_INFO']
    return _application(environ, start_response) 
```

我将 WSGIScrptAlias 添加到我的虚拟目录中

当我尝试获取项目的主页时，它显示以下错误

配置不当：请求设置 MIDDLEWARE_CLASSES，但未配置设置。您必须在访问设置之前定义环境变量 DJANGO_SETTINGS_MODULE 或调用 settings.configure()。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-12-02T12:03:28.893

看起来您在第 4 行有错字。“DJANGO_SETTINS_MODULE”应该是“DJANGO_SETTINGS_MODULE”。

# c# - 获取“预期标识符”

> ID：15737303
> 
> 赞同：-1
> 
> 时间：2013-04-01T03:37:50.147
> 
> 标签：c#, arrays

这是我正在做的练习：

> 编写一个应用程序，创建一个 5 行 4 列的二维数组。用 0 到 100 之间的随机数填充数组。在数组中搜索最小值。显示存储最小值的数组和索引。

这是我到目前为止的位置，可以使用一些帮助。目前，我在粗体行或用 ** 括起来的行上遇到两个错误（应为标识符）。我也不确定我是否朝着正确的方向前进。任何帮助或提示将不胜感激。我是商科专业，选修 C# :(

```
Random random = new Random();
int smallest = 100;
int x = 0, y = 0;

int[,] numbers = { 
    {random.Next(1,100), random.Next(0,100), random.Next(0,100),   random.Next(0,100)}, 
    {random.Next(1,100), random.Next(0,100), random.Next(0,100), random.Next(0,100)}, 
    {random.Next(1,100), random.Next(0,100), random.Next(0,100), random.Next(0,100)}, 
    {random.Next(1,100), random.Next(0,100), random.Next(0,100), random.Next(0,100)}, 
    {random.Next(1,100), random.Next(0,100), random.Next(0,100), random.Next(0,100)} 
};

for (int i = 0; i < 5; i++)
{
    for (int j = 0; j < 3; j++)
    {
        if (numbers[i, j] < smallest)
        {
            smallest = numbers[i, j];
            x = i;
            y = j;
        }
        **Console.WriteLine("Element({0},{1})={2}"... i, j, numbers[i, j]);**
    }
    Console.Write("\n\n smallest number is {0} at element [{1}, {2}]", smallest, x, y);
    Console.ReadLine(); 
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-01T03:40:27.323

尝试

```
Console.WriteLine("Element({0},{1})={2})", i, j, numbers[i, j]); 
```

# java - 剪切&粘贴丢失主要？

> ID：15737310
> 
> 赞同：0
> 
> 时间：2013-04-01T03:38:57.023
> 
> 标签：java

**背景：**

我正在尝试学习 java 并想尝试打印 hello world 作为我的第一个程序，并要求我的朋友给我发送一个。他说我懒，不想干活，但他确实给我发了一个程序，很不情愿。

这是他发送的代码。

```
public class af {
    public static void mаin(String [] args) {
        System.out.println("Hello World!");
    }
} 
```

**我尝试了什么：** 我将它剪切并粘贴到 gvim 中，但是当我尝试运行它时出现以下错误（它编译得很好）。

**错误：**线程“main”中的异常 java.lang.NoSuchMethodError: main

> **但是，当我真正做打字的工作时（如他所愿），它起作用了！**

**问题：**

这是如何运作的？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-01T03:51:30.950

我试图将其粘贴到我的 IDE 中，它向我指出

> 某些字符无法使用“Cp1252”字符编码进行映射。

它突出显示了无法映射的字符，并突出显示了“a”`public static void m`**`a`**`in`

将 更改`а`为 normal`a`后，代码运行良好。

`a`必须是某种不同的字符，看起来像`a`. `a`尝试再次输入并重试。

# android - 如何为我的事件处理程序 android 设置容差

> ID：15737317
> 
> 赞同：0
> 
> 时间：2013-04-01T03:39:41.397
> 
> 标签：android, gps, numbers

我正在尝试制作 GPS Android 应用程序，但无法设置目的地点。目前程序所做的只是获取您的 GPS 位置，并显示您的纬度和经度，我希望应用程序在您达到某个纬度或经度时告诉您，但坐标不会保持在一个稳定的数字，所以我可以在坐标改变之前永远不要让事件发生超过一秒钟，我想我需要在两个不同的坐标之间发生事件，一个高于目标坐标，另一个低于目标坐标，但我不知道如何这样做，请有人帮忙

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-01T04:12:36.893

指定您将接受的更广泛的区域。

```
if(lat > TARGET_LAT - 0.02 && lat < TARGET_LAT + 0.02 && lon > TARGET_LON - 0.02 &&  lon < TARGET_LON + 0.02){
    // close enough!
} 
```

看到[这个](https://en.wikipedia.org/wiki/Wikipedia%3aWikiProject_Geographical_coordinates#Precision)关于数字应该是什么的想法。

# cocoa - Scene Kit 的枢轴矩阵的语义是什么？

> ID：15737320
> 
> 赞同：3
> 
> 时间：2013-04-01T03:40:00.667
> 
> 标签：cocoa, opengl, 3d, collada, scenekit

我正在努力理解 Scene Kit 使用节点的变换相关属性的语义。特别是，节点上的 pivot 属性不是一个点，而是一个完整的变换矩阵，我在 Collada 规范或其他文档中没有找到任何可比较的参考。

有没有人有使用 Scene Kit 中的枢轴矩阵或具有类似语义的属性的经验？有人可以提供有关如何使用它的简要说明/示例或指向相关文档的指针吗？它看起来像是一种潜在有用的方法，但如果我可以避免它，我宁愿不必对它进行逆向工程。

**编辑：**根据 OMZ 的响应，看起来枢轴可能只是变换树中的另一层。但是，如果是这样的话，它与仅仅添加一个中间节点有什么不同呢？确定在哪里应用哪些转换的依据是什么？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-04T21:44:07.383

我尝试了@omz 的想法。但是得到一些相互矛盾的结果，所以我用一些有趣的结果进一步研究了这个。

答案是枢轴的倒数作为主变换的子级应用。这提供了与提供中间父节点完全不同的语义。

具体来说，如果我从一个带有变换 P 的父节点和一个带有变换 C 的子节点开始，它们组合起来形成一个世界变换 W = CATransform3DConcat(C, P)。相同的世界变换 W 是通过将父节点的枢轴设置为 C 的倒数，而不是对子节点设置变换来获得的。

这种方法似乎确实提供了一些额外的实用程序，因为它不能通过插入中间节点来复制，也不能在应用之前被反转。正如 Hal Mueller 指出的那样，文档确实说枢轴会影响旋转和缩放以及位置，但对影响的性质保持沉默。

以下是测试此结论的结果：

```
Set parent rotation and node position.

Transform:
{  1.00,  0.00,  0.00,  0.00 }
{  0.00,  1.00,  0.00,  0.00 }
{  0.00,  0.00,  1.00,  0.00 }
{  1.00,  2.00,  3.00,  1.00 }

Pivot:
{  1.00,  0.00,  0.00,  0.00 }
{  0.00,  1.00,  0.00,  0.00 }
{  0.00,  0.00,  1.00,  0.00 }
{  0.00,  0.00,  0.00,  1.00 }

World Transform:
{  1.00,  0.00,  0.00,  0.00 }
{  0.00,  0.00,  1.00,  0.00 }
{  0.00, -1.00,  0.00,  0.00 }
{  1.00, -3.00,  2.00,  1.00 }
2013-04-04 13:49:55.453 Model Importer[43504:303] 

CATransform3DConcat(node.transform, node.parentNode.transform)]
{  1.00,  0.00,  0.00,  0.00 }
{  0.00,  0.00,  1.00,  0.00 }
{  0.00, -1.00,  0.00,  0.00 }
{  1.00, -3.00,  2.00,  1.00 }
2013-04-04 13:49:55.454 Model Importer[43504:303] 

Set parent rotation and parent.pivot to inverse position.

Transform:
{  1.00,  0.00,  0.00,  0.00 }
{  0.00,  1.00,  0.00,  0.00 }
{  0.00,  0.00,  1.00,  0.00 }
{  0.00,  0.00,  0.00,  1.00 }

Pivot:
{  1.00,  0.00,  0.00,  0.00 }
{  0.00,  1.00,  0.00,  0.00 }
{  0.00,  0.00,  1.00,  0.00 }
{  0.00,  0.00,  0.00,  1.00 }

World Transform:
{  1.00,  0.00,  0.00,  0.00 }
{  0.00,  0.00,  1.00,  0.00 }
{  0.00, -1.00,  0.00,  0.00 }
{  1.00, -3.00,  2.00,  1.00 } 
```

这是代码：

```
 // Verification
    SCNVector3 v3 = {1.0, 2.0, 3.0};
    SCNVector4 v4 = {1.0, 0, 0, M_PI/2.0};
    node.parentNode.rotation = v4;
    node.position = v3;
    NSLog(@"\n\nSet parent rotation and node position.%@",
          [self transformsForNodeToString:node]);
    //
    // Verify match with CATransform3DConcat
    NSLog(@"\n\nCATransform3DConcat(node.transform, node.parentNode.transform)]%@",
          [self transformToString:CATransform3DConcat(node.transform, node.parentNode.transform)]);
    //
    // Clear the child node transform and put the inverse in the parent's pivot.
    CATransform3D position = node.transform;
    CATransform3D inversePosition = CATransform3DInvert(position);

    node.transform = CATransform3DIdentity;
    node.parentNode.pivot = inversePosition;
    NSLog(@"\n\nSet parent rotation and parent.pivot to inverse position.%@",
          [self transformsForNodeToString:node]);
    node.parentNode.pivot = CATransform3DIdentity;
    node.parentNode.transform = CATransform3DIdentity;

+ (NSString*)transformsForNodeToString: (SCNNode*)node {
    NSString* result = @"\n";
    result = [result stringByAppendingFormat:
          @"\nTransform:%@\nPivot:%@\nWorld Transform:%@",
          [self transformToString:node.transform],
          [self transformToString:node.pivot],
          [self transformToString:[node worldTransform]]];
    return result;
}

+ (NSString*)transformToString: (CATransform3D)transform {
    NSString* result = @"\n";
    result = [result stringByAppendingFormat:
              @"{ % .2f, % .2f, % .2f, % .2f }\n", transform.m11, transform.m12, transform.m13, transform.m14];
    result = [result stringByAppendingFormat:
              @"{ % .2f, % .2f, % .2f, % .2f }\n", transform.m21, transform.m22, transform.m23, transform.m24];
    result = [result stringByAppendingFormat:
              @"{ % .2f, % .2f, % .2f, % .2f }\n", transform.m31, transform.m32, transform.m33, transform.m34];
    result = [result stringByAppendingFormat:
              @"{ % .2f, % .2f, % .2f, % .2f }\n", transform.m41, transform.m42, transform.m43, transform.m44];
    return result;
} 
```

欢迎评论！

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-01T04:26:16.930

我对 SceneKit 没有太多经验，但在 3D 建模应用程序中，枢轴是一个可以旋转的点（有时称为定位器）是很常见的。例如，这使您可以更轻松地使对象围绕自己的轴旋转（不一定对应于世界轴）。

对于未旋转的枢轴，矩阵将只是`CATransform3DMakeTranslation(x, y, z)`.

编辑：我认为枢轴被指定为完整矩阵的事实仅仅是因为它是一种方便的数据结构并且与模型的其余部分一致。我想不出您想要缩放枢轴的情况，但是将其表示为矩阵可以很容易地使用通常的矩阵操作函数对其进行操作。

您当然可以将枢轴表示为另一个中间节点并获得相同的结果，但枢轴是表达对象中心的一种更“语义”的方式，更适合交互式编辑。当您在建模应用程序中选择对象时，通常会将转换工具手柄定位在枢轴所在的位置，以便您可以围绕其“自然”中心旋转/缩放对象，而无需在节点层次结构中向上导航。

我真的找不到任何好的参考资料。出现的大多数事情似乎都涉及各种软件包中的具体实现细节。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-02T01:00:51.953

我想你会在 Core Animation 材料中找到一些相关的示例。的`pivot`of an`SCNNode`被定义为 a `CATransform3D`，它在 Mac 和 iOS 上的 Core Animation 中使用。

我自己对 Scene Kit 的研究还不够权威。但是我发现[了 Brad Larson 的这篇文章](http://www.sunsetlakesoftware.com/2009/01/13/opengl-es-catransform3d)：“Core Animation 提供的用于操作 CALayers 的 CATransform3D 结构在结构上与 OpenGL 中的模型视图矩阵相同”。

GitHub 上还有一个很酷的可视化工具，[https://github.com/honcheng/CATransform3D-Test](https://github.com/honcheng/CATransform3D-Test)。Honcheng 的演示仅适用于 iPad，但我认为仍然很有帮助。

# php - 模式匹配，不以零开头

> ID：15737322
> 
> 赞同：0
> 
> 时间：2013-04-01T03:40:07.050
> 
> 标签：php, javascript, design-patterns, matching

我有一个用户输入年龄的字段，我想做一些错误检查。如果用户输入数字“0”并单击`submit`，它将显示一个错误，指出他们不能以零开头。但我也想允许包含数字 0 的年龄，例如 20 岁。我不知道如何不允许某人输入 0 的开头数字。

我的 PHP 代码是：

```
<?php
$age_numeric = preg_match("/^(^[1-9]){1,}$/", $age);
?>
//some more code
<?php if (!$age_numeric) echo "age can only be numeric."; ?> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-01T03:42:46.297

那么为什么不只是

```
$age_numeric = preg_match("/^[1-9][0-9]*$/", $age); 
```

?

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-01T03:46:01.790

此正则表达式匹配不带前导零的有效数字：

```
^(0|[1-9]\d*)$ 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-01T03:43:42.577

采用`is_numeric`

```
if(!empty($age) && is_numeric($age)) {
  echo 'valid age';
} else {
  echo 'invalid age';
} 
```

// 样本输出

```
$age = 0; // invalid age
$age = ''; // invalid age
$age = 'lkjsd'; // invalid age
$age = 12a; // invalid age
$age = 1; // valid age 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-01T03:44:29.860

或者

```
$begin_with_zero = preg_match("/^0/", $age);
<?php if ($begin_with_zero) echo "Can't begin with zero."; ?> 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-04-01T04:57:41.617

没有正则表达式：

```
if (is_numeric($age) && strspn($age, '0') == 0) {
    // $age is numeric and doesn't start with "0"
} 
```

也可以看看：[`strspn()`](http://php.net/strspn)

# ios - 如何恢复下载 Apple 托管内容？

> ID：15737325
> 
> 赞同：2
> 
> 时间：2013-04-01T03:41:03.423
> 
> 标签：ios, download, in-app-purchase

我正在使用 Apple 托管内容进行应用内购买。现在购买和下载没有问题。但是，如果我退出应用程序并再次返回我的应用程序，我不知道如何恢复下载。根本没有关于这部分的文档。有人有这方面的经验吗？谢谢

# debian - nom de paquet 不正确 - steam debian

> ID：15737326
> 
> 赞同：0
> 
> 时间：2013-04-01T03:41:20.423
> 
> 标签：debian, steam

我搜索了很多天的解决方案，但我没有找到它。当我尝试为 debian 安装 Steam 时，出现此错误：

```
dpkg -i steam-debian_1.0.0.36-4_all.deb 
dpkg : erreur de traitement de steam-debian_1.0.0.36-4_all.deb (--install) :
 erreur d'analyse, dans le fichier '/var/lib/dpkg/tmp.ci/control' vers la ligne 7 paquet 'steam-debian':
 champ « Depends », nom de paquet incorrect « libgl1-mesa-glx:i386 » : caractère « : » non autorisé (seuls les lettres, les chiffres et « -+._ » le sont)
Des erreurs ont été rencontrées pendant l'exécution :
 steam-debian_1.0.0.36-4_all.deb 
```

文件“控制”：

```
Package: steam-debian
Source: steam
Version: 1.0.0.36-4
Architecture: all
Maintainer: Keith Henderson <keithhendersonjr@gmail.com>
Installed-Size: 5427.2
Depends: python, curl, libc6, python-apt, realpath, xterm | gnome-terminal | konsole, xz-    utils, zenity, ttf-mscorefonts-installer, libgl1-mesa-glx:i386, libgl1-mesa-dri:i386
Conflicts: steam, steam64
Replaces: steam, steam64
Section: games
Priority: optional
Homepage: http://www.steampowered.com/
Description: A modified version of the Steam .deb 
 Note that this version of the .deb is meant
 to be installed and ran on Debian Testing.
 The command to launch is steam-debian 
```

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-02T19:35:55.063

如错误所示，dpkg 无法识别 :i386 令牌。这个令牌来自 dpkg multilib 实现（[http://wiki.debian.org/Multiarch/Implementation](http://wiki.debian.org/Multiarch/Implementation)）。Multilib 已在 dpkg 1.16.2 中实现。Debian stable 当前使用 dpkg 1.15.8 ( [http://packages.debian.org/squeeze/dpkg](http://packages.debian.org/squeeze/dpkg) )。查看软件包描述，它显然是为 Debian Testing 制作的，并且您使用的是不兼容的旧（或稳定）版本的 dpkg。

# math - 解决 AVL 树中节点数的递归关系？

> ID：15737329
> 
> 赞同：4
> 
> 时间：2013-04-01T03:42:12.707
> 
> 标签：math, data-structures, discrete-mathematics, avl-tree, recurrence

假设我们有这个递归关系，它出现在 AVL 树的分析中：

*   F [1] = 1
*   F [2] = 2
*   F [n] = F [n - 1] + F [n - 2] + 1（其中 n ≥ 3）

你将如何解决这种递归以获得 F(n) 的封闭形式？此数字用于获取高度为 n的[AVL 树中的内部节点的最小数量。](http://en.wikipedia.org/wiki/AVL_tree)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-01T03:57:59.513

有很多方法可以解决这种重复，但其中大多数都非常复杂。我认为最简单的方法是扩展该系列的一些术语，看看你会发现什么：

*   F(1) = 1
*   F(2) = 2
*   F(3) = 4
*   F(4) = 7
*   F(5) = 12
*   F(6) = 20

如果你看一下这个，你会注意到以下内容：

*   F(1) = 1 = 2 - 1
*   F(2) = 2 = 3 - 1
*   F(3) = 4 = 5 - 1
*   F(4) = 7 = 8 - 1
*   F(5) = 12 = 13 - 1
*   F(6) = 20 = 21 - 1

看起来这些术语只是斐波那契数列中减去 1 的术语。特别要注意 F [3] = 2、F [4] = 3、F [5] = 5 等。因此，模式看起来是

*   F(1) = 2 - 1 = F [3] - 1
*   F(2) = 3 - 1 = F [4] - 1
*   F(3) = 5 - 1 = F [5] - 1
*   F(4) = 8 - 1 = F [6] - 1
*   F(5) = 13 - 1 = F [7] - 1
*   F(6) = 21 - 1 = F [8] - 1

因此，更一般地说，模式看起来是 F(n) = F [n + 2] - 1。我们可以尝试使用数学归纳法将其形式化：

基本情况：

*   F(1) = 1 = 2 - 1 = F [3] - 1
*   F(2) = 2 = 3 - 1 = F [4] - 1

归纳步骤：假设 F(n) = F [n+2] - 1 和 F(n + 1) = F [n+3] - 1。那么我们有

*   F(n + 2) = F(n) + F(n + 1) + 1 = F [n+2] - 1 + F [n+3] - 1 + 1 = (F [n+2] + F [n+3] ) - ( 1 + 1) + 1 = F [n+4] - 1 = F [(n + 2) + 2] - 1

瞧！感应检查。

那么我是如何想用斐波那契数列寻找这种模式的呢？嗯……递归定义有点像斐波那契数列的定义，所以我预计它们两者之间可能存在某种联系。观察一切都是斐波那契数减一只是创造性的洞察力。您可能会尝试通过使用生成函数或其他组合技巧来解决这个问题，尽管我对它们不是很熟悉。

希望这可以帮助！

# api - soundcloud 最近播放 api

> ID：15737330
> 
> 赞同：0
> 
> 时间：2013-04-01T03:42:13.650
> 
> 标签：api, soundcloud

当您将 soundcloud 连接到 facebook 时，它可以在您收听时将您收听的曲目发布到您的新闻源中。

是否可以通过公共 api 访问用户最近播放的曲目？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-01T22:05:25.830

不，此信息无法通过公共 API 获得。所有公共 API 端点都[记录在这里](http://developers.soundcloud.com/docs/api/reference)。

# jsp - 如何让表格重新出现？

> ID：15737332
> 
> 赞同：0
> 
> 时间：2013-04-01T03:42:41.307
> 
> 标签：jsp, jakarta-ee, servlets

我在看，如果表单包含空值，那么表单需要再次出现在用户面前，要求填写信息。此检查必须在 servlet 中完成。我正在尝试使用以下代码，但是当我单击提交按钮时，它仍然不会再次出现。

```
String firstname = request.getParameter("firstname");
String lastname = request.getParameter("lastname");
if(request.getParameter("firstname").equals(" ") || request.getParameter("lastname").equals(""))
{
            getServletContext().getRequestDispatcher("/index.jsp").forward(request, response);
            return;
} 
```

我还缺少什么吗？？有人可以解释一下吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-01T06:10:49.853

正如所有人所说，请清理您的代码。就`servlet`这样做。

```
 if(request.getParameter("firstname") ==null){//and other conditions here
       response.sendRedirect("/index.jsp");        
    } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-01T05:02:08.247

1.  当你得到参数时，总是检查空值。
2.  即使您正在测试垃圾代码（使其成为一种实践，**编码提示**），例如使用 request.getParameter("firstname"); 也要避免重复代码；在已经分配给 String 变量的条件下。
3.  避免不必要的代码。例如，代码中的“return”语句

如果处理不当，您可能会遇到 NPE 空指针异常。

```
 String firstname = request.getParameter("firstname"); // check other condiftions as well
    if(firstname==null || "".equals(firstname) || " ".equals(firstname)){
    /* your code
    use below line to redirect to any page 
    make sure you are providing correct path of index.jsp or any servlet for redirection
    servlet mapping should be defined in web.xml*/

response.sendRedirect("index.jsp"); 
    } 
```

# maven - 如何将 ivy 本地存储库用作 maven 存储库

> ID：15737335
> 
> 赞同：3
> 
> 时间：2013-04-01T03:42:55.917
> 
> 标签：maven, ivy

ivy 本地存储库位于 ~/.ivy2 中，我想将其用作本地 maven 存储库。有什么简单的方法可以设置吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-01T21:57:36.777

我怀疑你想要做的是共享 ivy 的缓存，而不是本地存储库。[通过调用发布任务](http://ant.apache.org/ivy/history/latest-milestone/use/publish.html)将文件放置在 ivy 的存储库中。Ivy 在这些文件类型之间有明确的存储区别：

```
~/.ivy2/cache
~/.ivy2/local 
```

另一方面，Maven 混合了以下目录下的两种文件类型：

```
~/.m2/repository 
```

通过安装像[Nexus](http://www.sonatype.org/nexus/)这样的 Maven 存储库管理器并配置 Maven 和 Ivy 来使用它来优化缓存会简单得多。[Nexus](http://www.sonatype.org/nexus/)是一个非常高效的 Java 进程，并且在您的开发机器上易于设置。

最后，如果您决定共享缓存，您可以尝试使用 ivy 设置文件中的[缓存](http://ant.apache.org/ivy/history/latest-milestone/settings/caches.html)指令。它具有“ivyPattern”和“artifactPattern”指令，表明可以自定义缓存文件的存储方式。要完成这项工作，您必须自定义 ivy。Maven 在这方面没有灵活性。

# objective-c - 使用 AVAudioPlayer 当前播放歌曲的艺术作品

> ID：15737336
> 
> 赞同：2
> 
> 时间：2013-04-01T03:42:59.420
> 
> 标签：objective-c, macos, cocoa, avaudioplayer

我正在使用 AVAudioPlayer，想知道“如何在 MAC os x 中显示当前播放歌曲（音频）的艺术品（如果有的话）”。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-01T04:12:49.350

`-[AVAudioPlayer url]`将为您提供正在播放的文件的 url。

将其传递`+[AVURLAsset assetWithURL:]`给您将给您一个`AVURLAsset`代表正在播放的曲目的对象。调用`-[AVAsset commonMetadata]`会给你一个`AVMetadataItem`s 数组。您可以`+[AVMetadataItem metadataItemsFromArray:withKey:keySpace:]`使用`AVMetadataCommonKeyArtwork`键将该数组传递给以获取`AVMetadataItem`与艺术品对应的正确值。

相关文件：

[https://developer.apple.com/library/mac/#documentation/AVFoundation/Reference/AVAsset_Class/Reference/Reference.html#//apple_ref/occ/cl/AVAsset](https://developer.apple.com/library/mac/#documentation/AVFoundation/Reference/AVAsset_Class/Reference/Reference.html#//apple_ref/occ/cl/AVAsset) [https://developer.apple.com/library/ mac/#documentation/AVFoundation/Reference/AVURLAsset_Class/Reference/Reference.html#//apple_ref/occ/cl/AVURLAsset](https://developer.apple.com/library/mac/#documentation/AVFoundation/Reference/AVURLAsset_Class/Reference/Reference.html#//apple_ref/occ/cl/AVURLAsset) [https://developer.apple.com/library/mac/#documentation/AVFoundation/Reference/AVMetadataItem_Class/Reference /Reference.html#//apple_ref/occ/cl/AVMetadataItem](https://developer.apple.com/library/mac/#documentation/AVFoundation/Reference/AVMetadataItem_Class/Reference/Reference.html#//apple_ref/occ/cl/AVMetadataItem)

祝你好运！

# c# - 从 LinkBut ton 下载时文件损坏

> ID：15737337
> 
> 赞同：2
> 
> 时间：2013-04-01T03:43:04.030
> 
> 标签：c#, asp.net

在我的 ASP 代码中，我有一个用于上传文件的 LinkBut​​ton：

```
<asp:Linkbutton ID="lnkContract" Text="" runat="server" Visible="false" onclick="lnkContract_Click"></asp:Linkbutton> 
```

我设法用 C# 编写代码，在`lnkContract_Click`此处触发文件下载：

```
protected void lnkContract_Click(object sender, EventArgs e)
{
    string[] strFileType = lnkContract.Text.Split('.');
    string strPath = Server.MapPath("~") + FilePath.CUST_DEALS + lnkContract.Text;
    Open(lnkContract.Text, strFileType[1], strPath);
}

private void Open(string strFile, string strType, string strPath)
{
    FileInfo fiPath = new FileInfo(@strPath);

    //opens download dialog box
    try
    {
        Response.Clear();
        Response.ContentType = "application/" + strType.ToLower();
        Response.AddHeader("Content-Disposition", "attachment; filename=\"" + strFile + "\"");
        Response.AddHeader("Content-Length", fiPath.Length.ToString());
        Response.TransmitFile(fiPath.FullName);
        HttpContext.Current.ApplicationInstance.CompleteRequest();
        Response.Clear();
    }//try
    catch
    {
        ucMessage.ShowMessage(UserControl_Message.MessageType.WARN, CustomerDefine.NOFILE);
    }//catch if file is not found
} 
```

当我单击`LinkButton`文件时会自动下载，但是当我打开文件时，它已损坏（或者如果文件是`.jpeg`文件显示“ **x** ”）。我哪里做错了？

**更新** 链接按钮位于更新面板下。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-01T06:05:03.550

而不是第二个`Response.Clear();`替换它`Response.End();`来刷新缓冲区并将所有数据发送到客户端。

但是，您的代码会出现问题，也就是说，这`Response.End()`实际上会导致线程中止异常，因此，您应该更具体地捕获捕获的异常。

**更新：**

在您的评论中，您提到这是在`UpdatePanel`. 在这种情况下，这将不起作用。您将不得不强制该链接按钮执行常规回发而不是 ajax 回发。

方法如下：[https ://stackoverflow.com/a/5461736/1373170](https://stackoverflow.com/a/5461736/1373170)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-01T05:23:36.100

尝试使用我从[http://forums.asp.net/post/3561663.aspx](http://forums.asp.net/post/3561663.aspx)无耻地提升的这个功能来获取内容类型：

（与您的 fiPath.Extension 一起使用）

```
public static string GetFileContentType(string fileextension)
{
    //set the default content-type
    const string DEFAULT_CONTENT_TYPE = "application/unknown";

    RegistryKey regkey, fileextkey;
    string filecontenttype;

    //the file extension to lookup
    //fileextension = ".zip";

    try
    {
        //look in HKCR
        regkey = Registry.ClassesRoot;

        //look for extension
        fileextkey = regkey.OpenSubKey(fileextension);

        //retrieve Content Type value
        filecontenttype = fileextkey.GetValue("Content Type", DEFAULT_CONTENT_TYPE).ToString();

        //cleanup
        fileextkey = null;
        regkey = null;
    }
    catch
    {
        filecontenttype = DEFAULT_CONTENT_TYPE;
    }

    //print the content type
    return filecontenttype;
} 
```

# z3 - Z3 FP 逻辑：产生意想不到的模型

> ID：15737340
> 
> 赞同：1
> 
> 时间：2013-04-01T03:43:54.407
> 
> 标签：z3

对于这个问题：[http ://rise4fun.com/Z3/YNBG](http://rise4fun.com/Z3/YNBG)

Z3 产生模型：

```
sat
((s0 FP!val!0)) 
```

我期待看到一个真实的数字作为模型。`FP`对于这种情况，它几乎就像是一种未解释的类型。有没有办法让 Z3 在这里产生一个实数？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-02T12:49:32.520

感谢您报告此事。事实上，FPA 的模型完成中存在错误。该修复程序已在[Codeplex](http://z3.codeplex.com)的不稳定分支中提供。

请注意，==（浮点相等）与 NaN 始终为假，即，在此示例中，any`s0`满足公式。这些值现在完全正确地省略了（在 get-model 中）或者模型用 NaN 完成（对于 get-value 或通常在启用模型完成时）。

# web - www.mydomainname.com/support - 到 - support.mydomainname.com

> ID：15737347
> 
> 赞同：0
> 
> 时间：2013-04-01T03:44:53.577
> 
> 标签：web, dns

我只是想知道如何用我的域做到这一点。

我的网站上有一个支持页面，可以像这样访问它：

**www.mydomainname.com/support**

但我想这样做

**support.mydomainname.com**

这可能是一个简单的问题，答案非常简单，但我对此感到困惑和困惑。

任何帮助，将不胜感激。谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-01T04:14:31.260

有无数种方法可以做到这一点，最简单的是页面上的简单[302 重定向](http://en.wikipedia.org/wiki/HTTP_302)。根据您的 Web 服务器设置，您还可以[设置一个`.htaccess`](http://www.internetofficer.com/seo/302-redirect/)文件来实现重定向。

# javascript - 如何使用 Google Maps API 查找街段？

> ID：15737351
> 
> 赞同：2
> 
> 时间：2013-04-01T03:45:32.553
> 
> 标签：javascript, api, google-maps, google-maps-api-3, geospatial

在 Google Map Maker 中，您可以右键单击某个区域并选择“在该点附近查找”，它会显示附近每个路段和交叉路口的列表。谷歌地图 API 中是否有任何方法可以检索有关路段的类似信息？

我正在开发一个简单的锻炼应用程序，需要知道我走过了多少街区，而不仅仅是距离。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-06-12T15:41:38.240

不，Maps API 不提供直接查询道路要素的功能。

# module - Angular.js：如何在模块中创建控制器？

> ID：15737353
> 
> 赞同：12
> 
> 时间：2013-04-01T03:45:56.777
> 
> 标签：module, angularjs, controls

我想在使用模块时定义一个控制器：

```
angular.module('todoList', [], function () {

}).controller('myCtrl', function ($scope) {
    return function ($scope) {
        $scope.todos = [
            {
                text: "Hello"
            }, {
                text: "World"
            }
        ]
    }

}) 
```

然后我想使用模块和ccontroller：

```
<div ng-controller="myCtrl" ng-app="todoList">  
        <li ng-repeat="todo in todos">
            <span>{{todo.text}}</span>
        </li>>
</div> 
```

但它什么也不渲染，我的代码有什么问题？

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2013-04-01T03:51:43.190

你的控制器错了，没有必要有返回功能。

```
angular.module('todoList', [], function () {

}).controller('myCtrl', function ($scope) {

        $scope.todos = [
            {
                text: "Hello"
            }, {
                text: "World"
            }
        ]
}) 
```

演示：[Plunker](http://plnkr.co/edit/zZfj0qM1nQfxr40ulG62?p=preview)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2014-04-11T02:06:46.153

## 官方文档：

[http://docs.angularjs.org/guide/controller](http://docs.angularjs.org/guide/controller)

## 句法：

```
var myApp = angular.module('myApp',[]);

myApp.controller('GreetingController', ['$scope', function($scope) {
  $scope.greeting = 'Hola!';
}]); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2014-03-29T14:44:11.577

```
var myName1=angular.module("myName",[]);
myName1.controller("nameInfo",["$scope",function($scope){
$scope.name="Rajnish";
$scope.address="Delhi";
}
]) 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-11-26T00:45:08.103

没有太大的不同，但这个也有效。

```
angular.module('todoList', []).
    controller('myCtrl', 
      function ($scope){
       $scope.todos=[{text: "Hello"},{text: "World"}];
     }); 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2016-06-20T17:30:10.647

你也可以通过使用 JS 严格模式来做到这一点 -

```
(function() {
'use strict';
angular.module('listProject', []);
})();

(function() {
'use strict';
angular.module('listProject').controller('MyController', ['$scope', 
  function($scope) {
    console.log("Hello From ListProject Module->My Controller"):

   }

])

})(); 
```

# c# - Sharepoint 顺序工作流未将任务添加到任务列表中

> ID：15737363
> 
> 赞同：0
> 
> 时间：2013-04-01T03:47:30.203
> 
> 标签：c#, sharepoint, workflow

在将工作流部署到共享点站点后，我可以通过创建列表的新行来启动工作流。这些也反映在“正在进行的工作流数量”字段中。但是，我似乎无法在任务列表中找到为特定用户创建的任务。

作为 Sharepoint 开发的初学者，我不确定哪里出了问题。请多多指教。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-01T09:02:45.757

这是我测试过的代码：

```
 private void OnCreateTask_MethodInvoking(object sender, EventArgs e)
    {
        taskId1 = Guid.NewGuid();
        //   SPContentTypeId myContentTypeId=new SPContentTypeId("0x01080100e73fd5f172cb40d8a5dca97fad7a58b8");
        SPContentType myContentType = SPContext.Current.Web.ContentTypes["Powerfull Approval Workflow Task"];
        CreateTaskApproval_ContentTypeID = myContentType.Id.ToString();
        #region Enable ContentTypes
        if (this.workflowProperties.TaskList.ContentTypesEnabled != true)
        {
            workflowProperties.TaskList.ContentTypesEnabled = true;
        }
        bool contenTypeExists = false;
        foreach (SPContentType contentType in workflowProperties.TaskList.ContentTypes)
        {
            if (contentType.Name == myContentType.Name)
            {
                contenTypeExists = true;
                break;
            }
        }
        if (contenTypeExists != true)
        {
            workflowProperties.TaskList.ContentTypes.Add(myContentType);
        }
        myContentType.EditFormUrl = "_layouts/SequentialWorkflow/TaskEdit/TaskEditForm.aspx";
        myContentType.DisplayFormUrl = "_layouts/SequentialWorkflow/TaskEdit/TaskEditForm.aspx";
        myContentType.Update();
        #endregion
        taskProperties.PercentComplete = (float)0.0;
        taskProperties.AssignedTo = myInstantiationData.User;
        taskProperties.DueDate = myInstantiationData.DueDate;
        taskProperties.Description = myInstantiationData.Request;
        taskProperties.StartDate = DateTime.Now;
        taskProperties.Title = "Please approve " + this.workflowProperties.Item.DisplayName;
    } 
```

# ruby-on-rails - 尝试使用 postgresql 进行 rake db:create 时，Ruby 搞砸了

> ID：15737367
> 
> 赞同：0
> 
> 时间：2013-04-01T03:48:26.110
> 
> 标签：ruby-on-rails, ruby, postgresql

我刚刚安装了 postgresql，因为我想把我的应用程序放到 heroku 上。尝试使用 pq 设置新的 rails 应用程序时，一旦我 rake db:create 并收到以下错误消息，我不知道这意味着什么，也不知道该怎么做。

这是我收到的错误消息。

```
new-host-2:scheduleScraper rickmasta$ rake db:create:all
could not connect to server: No such file or directory
    Is the server running locally and accepting
    connections on Unix domain socket "/var/pgsql_socket/.s.PGSQL.5432"?
/Users/rickmasta/.rvm/gems/ruby-1.9.3-p392/gems/activerecord-3.2.13/lib/active_record/connection_adapters/postgresql_adapter.rb:1216:in `initialize'
/Users/rickmasta/.rvm/gems/ruby-1.9.3-p392/gems/activerecord-3.2.13/lib/active_record/connection_adapters/postgresql_adapter.rb:1216:in `new'
/Users/rickmasta/.rvm/gems/ruby-1.9.3-p392/gems/activerecord-3.2.13/lib/active_record/connection_adapters/postgresql_adapter.rb:1216:in `connect'
/Users/rickmasta/.rvm/gems/ruby-1.9.3-p392/gems/activerecord-3.2.13/lib/active_record/connection_adapters/postgresql_adapter.rb:324:in `initialize'
/Users/rickmasta/.rvm/gems/ruby-1.9.3-p392/gems/activerecord-3.2.13/lib/active_record/connection_adapters/postgresql_adapter.rb:28:in `new'
/Users/rickmasta/.rvm/gems/ruby-1.9.3-p392/gems/activerecord-3.2.13/lib/active_record/connection_adapters/postgresql_adapter.rb:28:in `postgresql_connection'
/Users/rickmasta/.rvm/gems/ruby-1.9.3-p392/gems/activerecord-3.2.13/lib/active_record/connection_adapters/abstract/connection_pool.rb:315:in `new_connection'
/Users/rickmasta/.rvm/gems/ruby-1.9.3-p392/gems/activerecord-3.2.13/lib/active_record/connection_adapters/abstract/connection_pool.rb:325:in `checkout_new_connection'
/Users/rickmasta/.rvm/gems/ruby-1.9.3-p392/gems/activerecord-3.2.13/lib/active_record/connection_adapters/abstract/connection_pool.rb:247:in `block (2 levels) in checkout'
/Users/rickmasta/.rvm/gems/ruby-1.9.3-p392/gems/activerecord-3.2.13/lib/active_record/connection_adapters/abstract/connection_pool.rb:242:in `loop'
/Users/rickmasta/.rvm/gems/ruby-1.9.3-p392/gems/activerecord-3.2.13/lib/active_record/connection_adapters/abstract/connection_pool.rb:242:in `block in checkout'
/Users/rickmasta/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/monitor.rb:211:in `mon_synchronize'
/Users/rickmasta/.rvm/gems/ruby-1.9.3-p392/gems/activerecord-3.2.13/lib/active_record/connection_adapters/abstract/connection_pool.rb:239:in `checkout'
/Users/rickmasta/.rvm/gems/ruby-1.9.3-p392/gems/activerecord-3.2.13/lib/active_record/connection_adapters/abstract/connection_pool.rb:102:in `block in connection'
/Users/rickmasta/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/monitor.rb:211:in `mon_synchronize'
/Users/rickmasta/.rvm/gems/ruby-1.9.3-p392/gems/activerecord-3.2.13/lib/active_record/connection_adapters/abstract/connection_pool.rb:101:in `connection'
/Users/rickmasta/.rvm/gems/ruby-1.9.3-p392/gems/activerecord-3.2.13/lib/active_record/connection_adapters/abstract/connection_pool.rb:410:in `retrieve_connection'
/Users/rickmasta/.rvm/gems/ruby-1.9.3-p392/gems/activerecord-3.2.13/lib/active_record/connection_adapters/abstract/connection_specification.rb:171:in `retrieve_connection'
/Users/rickmasta/.rvm/gems/ruby-1.9.3-p392/gems/activerecord-3.2.13/lib/active_record/connection_adapters/abstract/connection_specification.rb:145:in `connection'
/Users/rickmasta/.rvm/gems/ruby-1.9.3-p392/gems/activerecord-3.2.13/lib/active_record/railties/databases.rake:144:in `rescue in create_database'
/Users/rickmasta/.rvm/gems/ruby-1.9.3-p392/gems/activerecord-3.2.13/lib/active_record/railties/databases.rake:85:in `create_database'
/Users/rickmasta/.rvm/gems/ruby-1.9.3-p392/gems/activerecord-3.2.13/lib/active_record/railties/databases.rake:52:in `block (5 levels) in <top (required)>'
/Users/rickmasta/.rvm/gems/ruby-1.9.3-p392/gems/activerecord-3.2.13/lib/active_record/railties/databases.rake:184:in `local_database?'
/Users/rickmasta/.rvm/gems/ruby-1.9.3-p392/gems/activerecord-3.2.13/lib/active_record/railties/databases.rake:52:in `block (4 levels) in <top (required)>'
/Users/rickmasta/.rvm/gems/ruby-1.9.3-p392/gems/activerecord-3.2.13/lib/active_record/railties/databases.rake:38:in `each_value'
/Users/rickmasta/.rvm/gems/ruby-1.9.3-p392/gems/activerecord-3.2.13/lib/active_record/railties/databases.rake:38:in `block (3 levels) in <top (required)>'
/Users/rickmasta/.rvm/gems/ruby-1.9.3-p392@global/gems/rake-10.0.4/lib/rake/task.rb:246:in `call'
/Users/rickmasta/.rvm/gems/ruby-1.9.3-p392@global/gems/rake-10.0.4/lib/rake/task.rb:246:in `block in execute'
/Users/rickmasta/.rvm/gems/ruby-1.9.3-p392@global/gems/rake-10.0.4/lib/rake/task.rb:241:in `each'
/Users/rickmasta/.rvm/gems/ruby-1.9.3-p392@global/gems/rake-10.0.4/lib/rake/task.rb:241:in `execute'
/Users/rickmasta/.rvm/gems/ruby-1.9.3-p392@global/gems/rake-10.0.4/lib/rake/task.rb:184:in `block in invoke_with_call_chain'
/Users/rickmasta/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/monitor.rb:211:in `mon_synchronize'
/Users/rickmasta/.rvm/gems/ruby-1.9.3-p392@global/gems/rake-10.0.4/lib/rake/task.rb:177:in `invoke_with_call_chain'
/Users/rickmasta/.rvm/gems/ruby-1.9.3-p392@global/gems/rake-10.0.4/lib/rake/task.rb:170:in `invoke'
/Users/rickmasta/.rvm/gems/ruby-1.9.3-p392@global/gems/rake-10.0.4/lib/rake/application.rb:143:in `invoke_task'
/Users/rickmasta/.rvm/gems/ruby-1.9.3-p392@global/gems/rake-10.0.4/lib/rake/application.rb:101:in `block (2 levels) in top_level'
/Users/rickmasta/.rvm/gems/ruby-1.9.3-p392@global/gems/rake-10.0.4/lib/rake/application.rb:101:in `each'
/Users/rickmasta/.rvm/gems/ruby-1.9.3-p392@global/gems/rake-10.0.4/lib/rake/application.rb:101:in `block in top_level'
/Users/rickmasta/.rvm/gems/ruby-1.9.3-p392@global/gems/rake-10.0.4/lib/rake/application.rb:110:in `run_with_threads'
/Users/rickmasta/.rvm/gems/ruby-1.9.3-p392@global/gems/rake-10.0.4/lib/rake/application.rb:95:in `top_level'
/Users/rickmasta/.rvm/gems/ruby-1.9.3-p392@global/gems/rake-10.0.4/lib/rake/application.rb:73:in `block in run'
/Users/rickmasta/.rvm/gems/ruby-1.9.3-p392@global/gems/rake-10.0.4/lib/rake/application.rb:160:in `standard_exception_handling'
/Users/rickmasta/.rvm/gems/ruby-1.9.3-p392@global/gems/rake-10.0.4/lib/rake/application.rb:70:in `run'
/Users/rickmasta/.rvm/gems/ruby-1.9.3-p392@global/gems/rake-10.0.4/bin/rake:33:in `<top (required)>'
/Users/rickmasta/.rvm/gems/ruby-1.9.3-p392@global/bin/rake:19:in `load'
/Users/rickmasta/.rvm/gems/ruby-1.9.3-p392@global/bin/rake:19:in `<main>'
/Users/rickmasta/.rvm/gems/ruby-1.9.3-p392/bin/ruby_noexec_wrapper:14:in `eval'
/Users/rickmasta/.rvm/gems/ruby-1.9.3-p392/bin/ruby_noexec_wrapper:14:in `<main>'
Couldn't create database for {"adapter"=>"postgresql", "encoding"=>"unicode", "database"=>"scheduleScraper_development", "pool"=>5, "username"=>"scheduleScraper", "password"=>nil}
could not connect to server: No such file or directory
    Is the server running locally and accepting
    connections on Unix domain socket "/var/pgsql_socket/.s.PGSQL.5432"?
/Users/rickmasta/.rvm/gems/ruby-1.9.3-p392/gems/activerecord-3.2.13/lib/active_record/connection_adapters/postgresql_adapter.rb:1216:in `initialize'
/Users/rickmasta/.rvm/gems/ruby-1.9.3-p392/gems/activerecord-3.2.13/lib/active_record/connection_adapters/postgresql_adapter.rb:1216:in `new'
/Users/rickmasta/.rvm/gems/ruby-1.9.3-p392/gems/activerecord-3.2.13/lib/active_record/connection_adapters/postgresql_adapter.rb:1216:in `connect'
/Users/rickmasta/.rvm/gems/ruby-1.9.3-p392/gems/activerecord-3.2.13/lib/active_record/connection_adapters/postgresql_adapter.rb:324:in `initialize'
/Users/rickmasta/.rvm/gems/ruby-1.9.3-p392/gems/activerecord-3.2.13/lib/active_record/connection_adapters/postgresql_adapter.rb:28:in `new'
/Users/rickmasta/.rvm/gems/ruby-1.9.3-p392/gems/activerecord-3.2.13/lib/active_record/connection_adapters/postgresql_adapter.rb:28:in `postgresql_connection'
/Users/rickmasta/.rvm/gems/ruby-1.9.3-p392/gems/activerecord-3.2.13/lib/active_record/connection_adapters/abstract/connection_pool.rb:315:in `new_connection'
/Users/rickmasta/.rvm/gems/ruby-1.9.3-p392/gems/activerecord-3.2.13/lib/active_record/connection_adapters/abstract/connection_pool.rb:325:in `checkout_new_connection'
/Users/rickmasta/.rvm/gems/ruby-1.9.3-p392/gems/activerecord-3.2.13/lib/active_record/connection_adapters/abstract/connection_pool.rb:247:in `block (2 levels) in checkout'
/Users/rickmasta/.rvm/gems/ruby-1.9.3-p392/gems/activerecord-3.2.13/lib/active_record/connection_adapters/abstract/connection_pool.rb:242:in `loop'
/Users/rickmasta/.rvm/gems/ruby-1.9.3-p392/gems/activerecord-3.2.13/lib/active_record/connection_adapters/abstract/connection_pool.rb:242:in `block in checkout'
/Users/rickmasta/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/monitor.rb:211:in `mon_synchronize'
/Users/rickmasta/.rvm/gems/ruby-1.9.3-p392/gems/activerecord-3.2.13/lib/active_record/connection_adapters/abstract/connection_pool.rb:239:in `checkout'
/Users/rickmasta/.rvm/gems/ruby-1.9.3-p392/gems/activerecord-3.2.13/lib/active_record/connection_adapters/abstract/connection_pool.rb:102:in `block in connection'
/Users/rickmasta/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/monitor.rb:211:in `mon_synchronize'
/Users/rickmasta/.rvm/gems/ruby-1.9.3-p392/gems/activerecord-3.2.13/lib/active_record/connection_adapters/abstract/connection_pool.rb:101:in `connection'
/Users/rickmasta/.rvm/gems/ruby-1.9.3-p392/gems/activerecord-3.2.13/lib/active_record/connection_adapters/abstract/connection_pool.rb:410:in `retrieve_connection'
/Users/rickmasta/.rvm/gems/ruby-1.9.3-p392/gems/activerecord-3.2.13/lib/active_record/connection_adapters/abstract/connection_specification.rb:171:in `retrieve_connection'
/Users/rickmasta/.rvm/gems/ruby-1.9.3-p392/gems/activerecord-3.2.13/lib/active_record/connection_adapters/abstract/connection_specification.rb:145:in `connection'
/Users/rickmasta/.rvm/gems/ruby-1.9.3-p392/gems/activerecord-3.2.13/lib/active_record/railties/databases.rake:144:in `rescue in create_database'
/Users/rickmasta/.rvm/gems/ruby-1.9.3-p392/gems/activerecord-3.2.13/lib/active_record/railties/databases.rake:85:in `create_database'
/Users/rickmasta/.rvm/gems/ruby-1.9.3-p392/gems/activerecord-3.2.13/lib/active_record/railties/databases.rake:52:in `block (5 levels) in <top (required)>'
/Users/rickmasta/.rvm/gems/ruby-1.9.3-p392/gems/activerecord-3.2.13/lib/active_record/railties/databases.rake:184:in `local_database?'
/Users/rickmasta/.rvm/gems/ruby-1.9.3-p392/gems/activerecord-3.2.13/lib/active_record/railties/databases.rake:52:in `block (4 levels) in <top (required)>'
/Users/rickmasta/.rvm/gems/ruby-1.9.3-p392/gems/activerecord-3.2.13/lib/active_record/railties/databases.rake:38:in `each_value'
/Users/rickmasta/.rvm/gems/ruby-1.9.3-p392/gems/activerecord-3.2.13/lib/active_record/railties/databases.rake:38:in `block (3 levels) in <top (required)>'
/Users/rickmasta/.rvm/gems/ruby-1.9.3-p392@global/gems/rake-10.0.4/lib/rake/task.rb:246:in `call'
/Users/rickmasta/.rvm/gems/ruby-1.9.3-p392@global/gems/rake-10.0.4/lib/rake/task.rb:246:in `block in execute'
/Users/rickmasta/.rvm/gems/ruby-1.9.3-p392@global/gems/rake-10.0.4/lib/rake/task.rb:241:in `each'
/Users/rickmasta/.rvm/gems/ruby-1.9.3-p392@global/gems/rake-10.0.4/lib/rake/task.rb:241:in `execute'
/Users/rickmasta/.rvm/gems/ruby-1.9.3-p392@global/gems/rake-10.0.4/lib/rake/task.rb:184:in `block in invoke_with_call_chain'
/Users/rickmasta/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/monitor.rb:211:in `mon_synchronize'
/Users/rickmasta/.rvm/gems/ruby-1.9.3-p392@global/gems/rake-10.0.4/lib/rake/task.rb:177:in `invoke_with_call_chain'
/Users/rickmasta/.rvm/gems/ruby-1.9.3-p392@global/gems/rake-10.0.4/lib/rake/task.rb:170:in `invoke'
/Users/rickmasta/.rvm/gems/ruby-1.9.3-p392@global/gems/rake-10.0.4/lib/rake/application.rb:143:in `invoke_task'
/Users/rickmasta/.rvm/gems/ruby-1.9.3-p392@global/gems/rake-10.0.4/lib/rake/application.rb:101:in `block (2 levels) in top_level'
/Users/rickmasta/.rvm/gems/ruby-1.9.3-p392@global/gems/rake-10.0.4/lib/rake/application.rb:101:in `each'
/Users/rickmasta/.rvm/gems/ruby-1.9.3-p392@global/gems/rake-10.0.4/lib/rake/application.rb:101:in `block in top_level'
/Users/rickmasta/.rvm/gems/ruby-1.9.3-p392@global/gems/rake-10.0.4/lib/rake/application.rb:110:in `run_with_threads'
/Users/rickmasta/.rvm/gems/ruby-1.9.3-p392@global/gems/rake-10.0.4/lib/rake/application.rb:95:in `top_level'
/Users/rickmasta/.rvm/gems/ruby-1.9.3-p392@global/gems/rake-10.0.4/lib/rake/application.rb:73:in `block in run'
/Users/rickmasta/.rvm/gems/ruby-1.9.3-p392@global/gems/rake-10.0.4/lib/rake/application.rb:160:in `standard_exception_handling'
/Users/rickmasta/.rvm/gems/ruby-1.9.3-p392@global/gems/rake-10.0.4/lib/rake/application.rb:70:in `run'
/Users/rickmasta/.rvm/gems/ruby-1.9.3-p392@global/gems/rake-10.0.4/bin/rake:33:in `<top (required)>'
/Users/rickmasta/.rvm/gems/ruby-1.9.3-p392@global/bin/rake:19:in `load'
/Users/rickmasta/.rvm/gems/ruby-1.9.3-p392@global/bin/rake:19:in `<main>'
/Users/rickmasta/.rvm/gems/ruby-1.9.3-p392/bin/ruby_noexec_wrapper:14:in `eval'
/Users/rickmasta/.rvm/gems/ruby-1.9.3-p392/bin/ruby_noexec_wrapper:14:in `<main>'
Couldn't create database for {"adapter"=>"postgresql", "encoding"=>"unicode", "database"=>"scheduleScraper_test", "pool"=>5, "username"=>"scheduleScraper", "password"=>nil}
could not connect to server: No such file or directory
    Is the server running locally and accepting
    connections on Unix domain socket "/var/pgsql_socket/.s.PGSQL.5432"?
/Users/rickmasta/.rvm/gems/ruby-1.9.3-p392/gems/activerecord-3.2.13/lib/active_record/connection_adapters/postgresql_adapter.rb:1216:in `initialize'
/Users/rickmasta/.rvm/gems/ruby-1.9.3-p392/gems/activerecord-3.2.13/lib/active_record/connection_adapters/postgresql_adapter.rb:1216:in `new'
/Users/rickmasta/.rvm/gems/ruby-1.9.3-p392/gems/activerecord-3.2.13/lib/active_record/connection_adapters/postgresql_adapter.rb:1216:in `connect'
/Users/rickmasta/.rvm/gems/ruby-1.9.3-p392/gems/activerecord-3.2.13/lib/active_record/connection_adapters/postgresql_adapter.rb:324:in `initialize'
/Users/rickmasta/.rvm/gems/ruby-1.9.3-p392/gems/activerecord-3.2.13/lib/active_record/connection_adapters/postgresql_adapter.rb:28:in `new'
/Users/rickmasta/.rvm/gems/ruby-1.9.3-p392/gems/activerecord-3.2.13/lib/active_record/connection_adapters/postgresql_adapter.rb:28:in `postgresql_connection'
/Users/rickmasta/.rvm/gems/ruby-1.9.3-p392/gems/activerecord-3.2.13/lib/active_record/connection_adapters/abstract/connection_pool.rb:315:in `new_connection'
/Users/rickmasta/.rvm/gems/ruby-1.9.3-p392/gems/activerecord-3.2.13/lib/active_record/connection_adapters/abstract/connection_pool.rb:325:in `checkout_new_connection'
/Users/rickmasta/.rvm/gems/ruby-1.9.3-p392/gems/activerecord-3.2.13/lib/active_record/connection_adapters/abstract/connection_pool.rb:247:in `block (2 levels) in checkout'
/Users/rickmasta/.rvm/gems/ruby-1.9.3-p392/gems/activerecord-3.2.13/lib/active_record/connection_adapters/abstract/connection_pool.rb:242:in `loop'
/Users/rickmasta/.rvm/gems/ruby-1.9.3-p392/gems/activerecord-3.2.13/lib/active_record/connection_adapters/abstract/connection_pool.rb:242:in `block in checkout'
/Users/rickmasta/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/monitor.rb:211:in `mon_synchronize'
/Users/rickmasta/.rvm/gems/ruby-1.9.3-p392/gems/activerecord-3.2.13/lib/active_record/connection_adapters/abstract/connection_pool.rb:239:in `checkout'
/Users/rickmasta/.rvm/gems/ruby-1.9.3-p392/gems/activerecord-3.2.13/lib/active_record/connection_adapters/abstract/connection_pool.rb:102:in `block in connection'
/Users/rickmasta/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/monitor.rb:211:in `mon_synchronize'
/Users/rickmasta/.rvm/gems/ruby-1.9.3-p392/gems/activerecord-3.2.13/lib/active_record/connection_adapters/abstract/connection_pool.rb:101:in `connection'
/Users/rickmasta/.rvm/gems/ruby-1.9.3-p392/gems/activerecord-3.2.13/lib/active_record/connection_adapters/abstract/connection_pool.rb:410:in `retrieve_connection'
/Users/rickmasta/.rvm/gems/ruby-1.9.3-p392/gems/activerecord-3.2.13/lib/active_record/connection_adapters/abstract/connection_specification.rb:171:in `retrieve_connection'
/Users/rickmasta/.rvm/gems/ruby-1.9.3-p392/gems/activerecord-3.2.13/lib/active_record/connection_adapters/abstract/connection_specification.rb:145:in `connection'
/Users/rickmasta/.rvm/gems/ruby-1.9.3-p392/gems/activerecord-3.2.13/lib/active_record/railties/databases.rake:144:in `rescue in create_database'
/Users/rickmasta/.rvm/gems/ruby-1.9.3-p392/gems/activerecord-3.2.13/lib/active_record/railties/databases.rake:85:in `create_database'
/Users/rickmasta/.rvm/gems/ruby-1.9.3-p392/gems/activerecord-3.2.13/lib/active_record/railties/databases.rake:52:in `block (5 levels) in <top (required)>'
/Users/rickmasta/.rvm/gems/ruby-1.9.3-p392/gems/activerecord-3.2.13/lib/active_record/railties/databases.rake:184:in `local_database?'
/Users/rickmasta/.rvm/gems/ruby-1.9.3-p392/gems/activerecord-3.2.13/lib/active_record/railties/databases.rake:52:in `block (4 levels) in <top (required)>'
/Users/rickmasta/.rvm/gems/ruby-1.9.3-p392/gems/activerecord-3.2.13/lib/active_record/railties/databases.rake:38:in `each_value'
/Users/rickmasta/.rvm/gems/ruby-1.9.3-p392/gems/activerecord-3.2.13/lib/active_record/railties/databases.rake:38:in `block (3 levels) in <top (required)>'
/Users/rickmasta/.rvm/gems/ruby-1.9.3-p392@global/gems/rake-10.0.4/lib/rake/task.rb:246:in `call'
/Users/rickmasta/.rvm/gems/ruby-1.9.3-p392@global/gems/rake-10.0.4/lib/rake/task.rb:246:in `block in execute'
/Users/rickmasta/.rvm/gems/ruby-1.9.3-p392@global/gems/rake-10.0.4/lib/rake/task.rb:241:in `each'
/Users/rickmasta/.rvm/gems/ruby-1.9.3-p392@global/gems/rake-10.0.4/lib/rake/task.rb:241:in `execute'
/Users/rickmasta/.rvm/gems/ruby-1.9.3-p392@global/gems/rake-10.0.4/lib/rake/task.rb:184:in `block in invoke_with_call_chain'
/Users/rickmasta/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/monitor.rb:211:in `mon_synchronize'
/Users/rickmasta/.rvm/gems/ruby-1.9.3-p392@global/gems/rake-10.0.4/lib/rake/task.rb:177:in `invoke_with_call_chain'
/Users/rickmasta/.rvm/gems/ruby-1.9.3-p392@global/gems/rake-10.0.4/lib/rake/task.rb:170:in `invoke'
/Users/rickmasta/.rvm/gems/ruby-1.9.3-p392@global/gems/rake-10.0.4/lib/rake/application.rb:143:in `invoke_task'
/Users/rickmasta/.rvm/gems/ruby-1.9.3-p392@global/gems/rake-10.0.4/lib/rake/application.rb:101:in `block (2 levels) in top_level'
/Users/rickmasta/.rvm/gems/ruby-1.9.3-p392@global/gems/rake-10.0.4/lib/rake/application.rb:101:in `each'
/Users/rickmasta/.rvm/gems/ruby-1.9.3-p392@global/gems/rake-10.0.4/lib/rake/application.rb:101:in `block in top_level'
/Users/rickmasta/.rvm/gems/ruby-1.9.3-p392@global/gems/rake-10.0.4/lib/rake/application.rb:110:in `run_with_threads'
/Users/rickmasta/.rvm/gems/ruby-1.9.3-p392@global/gems/rake-10.0.4/lib/rake/application.rb:95:in `top_level'
/Users/rickmasta/.rvm/gems/ruby-1.9.3-p392@global/gems/rake-10.0.4/lib/rake/application.rb:73:in `block in run'
/Users/rickmasta/.rvm/gems/ruby-1.9.3-p392@global/gems/rake-10.0.4/lib/rake/application.rb:160:in `standard_exception_handling'
/Users/rickmasta/.rvm/gems/ruby-1.9.3-p392@global/gems/rake-10.0.4/lib/rake/application.rb:70:in `run'
/Users/rickmasta/.rvm/gems/ruby-1.9.3-p392@global/gems/rake-10.0.4/bin/rake:33:in `<top (required)>'
/Users/rickmasta/.rvm/gems/ruby-1.9.3-p392@global/bin/rake:19:in `load'
/Users/rickmasta/.rvm/gems/ruby-1.9.3-p392@global/bin/rake:19:in `<main>'
/Users/rickmasta/.rvm/gems/ruby-1.9.3-p392/bin/ruby_noexec_wrapper:14:in `eval'
/Users/rickmasta/.rvm/gems/ruby-1.9.3-p392/bin/ruby_noexec_wrapper:14:in `<main>'
Couldn't create database for {"adapter"=>"postgresql", "encoding"=>"unicode", "database"=>"scheduleScraper_production", "pool"=>5, "username"=>"scheduleScraper", "password"=>nil} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-01T19:44:48.703

这是在 Mountain Lion 上使用 brew 安装 PostgreSQL 时的一个已知问题。Postgres 将套接字文件放在不同的目录中`/var/pgsql_socket_alt`，然后 psql、createdb、Rails 等知道在哪里寻找它。您需要通过 postgres.conf 文件更改套接字文件的位置。请参阅[此链接](https://coderwall.com/p/1mni7w)以了解如何修复它。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-06-14T01:28:39.617

您可能已经安装了 postgres，但它正在运行吗？

重新启动机器后，我遇到了几乎相同的错误，因为我不记得在本地（重新）启动 postgres 应用程序。在我再次启动 PostGres 应用程序后，一切正常。

这些是我的错误：

```
 Is the server running on host "localhost" (::1) and accepting
    TCP/IP connections on port 5432?
could not connect to server: Connection refused
    Is the server running on host "localhost" (127.0.0.1) and accepting
    TCP/IP connections on port 5432?
could not connect to server: Connection refused
    Is the server running on host "localhost" (fe80::1) and accepting
    TCP/IP connections on port 5432?
    from /Users/gregorysmith/.rvm/gems/ruby-1.9.3-p429/gems/activerecord-3.2.13/lib/active_record/connection_adapters/postgresql_adapter.rb:1216:in `new'
etc, etc. ........ 
```

# javascript - javascript - 日期时间选择器位置 - 中间

> ID：15737374
> 
> 赞同：0
> 
> 时间：2013-04-01T03:49:03.913
> 
> 标签：javascript, css, jquery-ui-datepicker, jquery-ui-timepicker

我是使用任何 jQuery 的新手。**我需要使用 datepicker 和 timepicker 制作我的表单，因为我需要两者**，我选择这个： [http](http://trentrichardson.com/2010/04/19/timepicker-addon-for-jquery-ui-datepicker/) ://trentrichardson.com/2010/04/19/timepicker-addon-for-jquery-ui-datepicker/ 我想make 显示在时间低于日期的页面中，并带有用于设置时间的条。

**我的代码**

**cobadate.html**

```
<meta name="viewport" content="width=device-width,initial-scale=1.0"/>
<link rel="stylesheet" type="text/css" href="css/style1.css" />
<link type="text/css" href="timepicker/css/ui-lightness/jquery-ui-1.7.2.custom.css" rel="stylesheet" />

<script src="jq/jquery-1.9.1.min.js"></script>
<script type="text/javascript" src="timepicker/js/jquery-ui.js"></script> 
<link type="text/css" href="timepicker/js/jquery.ui.all.css" rel="stylesheet" />

<script src="timepicker/js/jquery-ui-timepicker-addon.js"></script>
<script src="timepicker/js/jquery-ui-sliderAccess.js"></script>
<link type="text/css" href="timepicker/css/jquery-ui-timepicker-addon.css" rel="stylesheet" />

<script src="jq/proses/set_ip.js"></script> 
<script src="jq/proses/glukosa/add_glucose.js"></script>
<script src="jq/proses/script.js"></script>

<script src="jq/timer.js" type="text/javascript" charset="utf-8"></script>
<title>edc - e diabet consult</title>
<h1 align="center">Tambah Glukosa</h1>
<p align="left" class="navigation">
<a href="glukosa.html" class="back">
<img src="ico/kembali.png">
</a>
</p>

<form id="form_glukosa">
<p align="center">
<strong>Tanggal:</strong><br />
<input type="text" id="tanggal" name="tanggal" value="" placeholder="01-02-2013 10:00"/><br />

<strong>Glukosa (mg/dl):</strong><br />
<input type="text" name="glukosa" id="glukosa" value=""/><br />

<strong>Konsumsi obat:</strong><br />
<input type="text" id="obat" name="obat" value=""/><br />

<strong>Konsumsi makanan:</strong><br />
<input type="text" id="makanan" name="makanan" value=""/><br />

<strong>Status</strong><br />
<select name="status" id="status">
<option value="">--Pilih--</option>
<option value="1">Sebelum sarapan</option>
<option value="2">Sesudah sarapan</option>
<option value="3">Sebelum makan siang</option>
<option value="4">Sesudah makan siang</option>
<option value="5">Sebelum makan malam</option>
<option value="6">Sesudah makan malam</option>
<option value="7">Sebelum tidur</option>
</select><br />

<strong>Keterangan</strong><br />
<select name="ket" id="ket">
<option value="">--Pilih--</option>
<option value="1">Telat</option>
<option value="2">Tepat waktu</option>
</select><br />

<strong>Emosional</strong><br />
<select name="emosi" id="emosi">
<option value="">--Pilih--</option>
<option value="1">Sedang Emosi</option>
<option value="2">Tidak Emosi</option>
</select><br />

<input type="button" value="Simpan" onclick="save_glukosa()" id="simpan_glukosa" class="button"/>
<input type="reset" value="Reset" class="button"/>

</p>
</form> 
```

**add_glukosa.js**

```
var urlini = seturl();
var part= 'glukosa/';

$(document).ready(function() {
    $('#tanggal').val(curdate()+' '+curtime());

    $('#tanggal').datetimepicker({
        onClose: function(dateText, inst) {
            //confirm('closing');
               var retVal = confirm("Do you want to continue ?");
               //call the function that calculate which is the meal name according the condition of date

                if( retVal == true ){
                    alert("User wants to continue!");
                    //the value that we set is true
                    return true;
                }else{
                    alert("User does not want to continue!");
                    //the value that we set is wrong
                    return false;
                }
        }
    });

});

function curdate(){
    var today = new Date();
    var dd = today.getDate();
    var mm = today.getMonth()+1; //January is 0!
    var yyyy = today.getFullYear();

    if(dd<10){dd='0'+dd} if(mm<10){mm='0'+mm} today = mm+'/'+dd+'/'+yyyy;
    return today;
}

function curtime(){
    var d = new Date();
    var curr_hour = d.getHours();
    var curr_min  = (d.getMinutes()<10?'0':'') + d.getMinutes();
    return (curr_hour + ":" + curr_min);
}

//Save data into db
function save_glukosa() {
    glu = /^([-0-9_-])+$/i.test($("#glukosa").val());
    obat =  /^([-a-z-A-Z 0-9_-])+$/i.test($("#obat").val());
    makanan =  /^([-a-z- A-Z_-])+$/i.test($("#makanan").val());
    stat = ($("#status").val());
    ket = ($("#ket").val());
    emo = ($("#emosi").val());

    if(glu == "")
    {
        alert("Terjadi kesalahan pada penginputan glukosa. Glukosa harus bernilai angka.");
    } 
    else if(obat == "")
    {
        alert("Masukan obat yang dikonsumsi");
    }
    else if(makanan == "")
    {
        alert("Masukan makanan yang dikonsumsi");
    }
    else
    {
        $.post(urlini+part+'add',
            $('#form_glukosa').serialize(),function(msg){
            if(msg == '1')
            {
                alert("Data berhasil disimpan!");
                window.location="glukosa.html";
            }
            else if(msg == '0')
            {
                alert("Masih ada data yang kosong.");
            }
        });
    }
} 
```

**问题：** 我希望我的 datetimepicker 出现在中间，而不是我制作的左侧。我不知道如何更改CSS。

**我的问题：** 如何让 datetimepicker 出现在中间？

你能给我代码来回答这些问题吗？

# c# - SQL & c# 中的自动 ID 生成

> ID：15737378
> 
> 赞同：0
> 
> 时间：2013-04-01T03:50:36.953
> 
> 标签：c#, sql

我正在开发一个应用程序，我需要根据类型生成自动 ID，它是缩写，然后是 seq no。例如：如果动物类型是猫，我需要使用代号 CT，然后没有 001。所以 ID 将是 CT-001，CT-002。对于动物型狗，它将是 DG-001、DG-002 等。它是从网络表格中获取的类型。

我试图通过以下方式实现这一点：首先我有两个表。类型的第一个＆它的代号。第二个是具有 code_name、seq_No 和生成的 ID。然后编写如下存储过程：

```
@X= Select code_name from Tb_first where type = 'input from from';

@Y = Select max(seq_No) from Tb_Second where code_name= @X;

@Y= @Y+1;

@z= @X + convert (String, @Y)

insert (code_name, seq_No, ID) into Tb_second (@X, @Y, @Z) 
```

请让我知道这是否可以通过这种方式实现？还是有其他更好的方法来实现这一目标？提前致谢

# mysql - 数据步骤/SQL 连接/合并/联合 2 数据集/表并删除相同的行/观察

> ID：15737381
> 
> 赞同：3
> 
> 时间：2013-04-01T03:50:52.487
> 
> 标签：mysql, join, union, sas, datastep

例如，我有 2 个这样的表

```
data have;
input name $ status $;
datalines;
A    a
B    b
C    c
;;;;
run; 
```

第二张表：

```
data addon;
input name $ status $;
datalines;
A    a
C    f
D    d
E    e
F    f
B    z
;;;;
run; 
```

我如何得到如下结果：

```
B    b
C    c
C    f
D    d
E    e
F    f
B    z 
```

行 A - a 与 2 个表相同，因此被删除。我正在尝试使用左连接，但结果不正确。请提前帮助和感谢。我真的很感激。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-01T05:42:12.330

试试这个：

```
 SELECT COALESCE(table1.input, table2.input) AS input
         , COALESCE(table1.status, table2.status) AS status
    FROM table1
         FULL OUTER JOIN table2 ON table1.input = table2.input
         AND table1.status = table2.status
   WHERE (table1.input IS NULL OR table2.input IS NULL)
ORDER BY 1 
```

**输出 ：**

```
INPUT STATUS
----- ------
B     b      
B     z      
C     f      
C     c      
D     d      
E     e      
F     f 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-01T12:29:03.413

没有时间对此进行测试，但这大约是正确的。不能在 SQLFiddle 中工作，因为 MySQL 不支持 except。

```
select * from (
  select * from have union select * from addon)
except
( select * from have, addon 
   where have.status=addon.status and have.name=addon.name) 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-01T13:37:22.300

其他方式

```
data have;
 input name $ status $;
 datalines;
A    a
B    b
C    c
;;;;
run;

data addon;
 input name $ status $;
datalines;
A    a
C    f
D    d
E    e
F    f
B    z
;;;;
run;

Data Together;
 Set have addon;
 /* If the data sets were already sorted */
 /* By Name Status;                      */
/*  Then skip the Proc Sort              */
Run;

Proc sort data=together;
 by name status;
Run;

Data final;
 Set Together;
 by name status;
 if first.status and last.status;
Run; 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-01T04:27:11.167

```
SELECT t1.name,t1.status
FROM 
  (
    SELECT name,status
    FROM have
    UNION ALL
    SELECT name,status
    FROM addon
  ) as t1
JOIN have t2 ON t1.name!=t2.name AND t1.status!=t2.status
JOIN addon t3 ON t2.name=t3.name AND t2.status=t3.status 
```

我为你创建了一个[SQL 小提琴](http://www.sqlfiddle.com/#!2/fa096/11)。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-04-02T11:25:12.603

```
data have;
input name $ status $;
datalines;
A    a
B    b
C    c
;;;;
run; 
```

第二张表：

```
data addon;
input name $ status $;
datalines;
A    a
C    f
D    d
E    e
F    f
B    z
;;;;
run; 
```

我如何得到如下结果：

```
B    b
C    c
C    f
D    d
E    e
F    f
B    z 
```

简单使用合并语句。在此步骤之前使用键对数据集进行排序

```
DATA RESULT;
KEEP H.NAME A.STATUS;
MERGE HAVE(IN = H) ADDON (IN = A);
BY NAME;
RUN; 
```

# mysql - MySql 计划事件

> ID：15737383
> 
> 赞同：0
> 
> 时间：2013-04-01T03:51:03.777
> 
> 标签：mysql, events, stored-procedures, scheduled-tasks

我想在每个月初向表中插入数据，我想使用 mysql 事件。但是有人告诉我，如果我错过了那个事件（意味着如果我的服务器在预定的日期/时间关闭，那么 mysql 将不会在上线后重新运行该事件，不确定）然后 mysql 将不会再次重新运行它。

所以我创建了一个表格`event_balance`，其中将记录事件。然后我创建了一个名为的事件，该事件`balance_update_check`将每小时运行一次，并检查本月是否执行了事件，如果没有，则它将调用一个过程，该过程将为本月创建行，然后 `event_balance`使用`event_type`and更新表`date`。

但我对此不满意，请检查我的代码并告诉我可以吗？如果可能，提供更好的解决方案。谢谢你的时间。

**事件 balance_update_check**

```
CREATE
    EVENT `balance_update_check`
    ON SCHEDULE EVERY 1 Hour
    DO BEGIN
        set @check_if_cont_doc:= (SELECT count(*) FROM event_balance WHERE event_type = 'doctor_contract' and monthname(event_balance.date) = monthname(CURDATE()));        

        set @check_if_cont_other:= (SELECT count(*) FROM event_balance WHERE event_type = 'other_contract' and monthname(event_balance.date) = monthname(CURDATE()));

        IF (@check_if_cont_doc = 0) Then
            call proc_leave_bal_doc_cont();
            Insert into event_balance (event_type,`date`) values('doctor_contract',CURDATE())       
        END IF;     

        IF (@check_if_cont_other = 0) Then
            call proc_leave_bal_other_cont();
            Insert into event_balance (event_type,`date`) values('other_contract',CURDATE())        
        END IF;
END // 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-06-21T08:39:06.837

您要确保在 my.cnf 文件中将 event_scheduler 设置为 ON。转到您的 my.cnf 文件（或 my.ini 文件，如果您使用的是 Windows）并注释掉`event_scheduler=DISABLED`或设置`event_scheduler=ON`. 然后重新启动。这是为了确保您的事件在服务器重新启动后运行。这里有更多关于它的信息：dev.mysql.com/doc/refman/5.5/en/events-configuration.html

# c# - 用c#进行数组重复消除？

> ID：15737386
> 
> 赞同：0
> 
> 时间：2013-04-01T03:51:19.770
> 
> 标签：c#, arrays, for-loop, nested, duplicate-removal

我这里有一个需要改进的程序。该程序在一个数组中输入 5 个元素，如果有重复则删除。它有效，但问题是它将每个重复项设置为零。我不想显示零。我希望它完全被摧毁和消除。我不希望出现那个重复的元素。这就是我到目前为止所拥有的！可以使用一些帮助。谢谢你。

```
// Gurpreet Singh
// Duplicate Program
using System;

class duplicate 
{
    static void Main() 
    {
    const int Array_Size = 5;
    int [] number = new int [Array_Size];
    int i;

    for ( i = 0; i < Array_Size; i++) 
    {
        Console.Write("Element " + i + ":    ");
        number[i] = Int32.Parse(Console.ReadLine());
        if (number[i] < 9 || number[i] > 101)
        {
            Console.WriteLine("Enter Number between 10 - 100");
            number[i] = Int32.Parse(Console.ReadLine());
        }
    }

    for (i = 0; i < Array_Size; i++)
    {
        for (int j = 0; j < Array_Size; j++) 
        {
            if (i != j)
            {
                if (number[j] == number[i])
                    number[j] = 0;
            }
        }
    }

    Console.WriteLine("Duplicate Removed:");
    for (i = 0; i < Array_Size; i++)
    {
        Console.WriteLine("Element " + i + "    " + number[i]);
    }
    Console.ReadLine();
}
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-01T03:57:39.807

最简单的方法是使用Linq的[`Distinct`](http://msdn.microsoft.com/en-us/library/system.linq.enumerable.distinct.aspx)方法：

```
number = number.Distinct().ToArray(); 
```

这将返回一个没有任何重复的新数组。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-01T03:57:54.160

重复项显示为零，因为您在该行中将重复项的值分配为零，

```
if(number[j]==number[i])
    number[j]=0 
```

要从数组中删除元素，请使用以下代码：

```
if(number[j]==number[i])
{
    int k=j;
    while(k<Array_Size-1)
    {
        number[k]=number[k+1];
        k++;
    }
    Array_Size--;
} 
```

该语句`Array_Size--;`已完成，因此最后一个元素不会重复两次

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2015-11-25T14:22:00.030

这是我的完整代码，我在其中放置了一些双循环语句，以防止它在数组中插入重复的整数。看一看。

```
 class Program
 {
  static void Main(string[] args)
  {
     const int ARRAY_SIZE = 5;
     int[] ArrayTable = new int[ARRAY_SIZE];
     int Element=0;
     int a;

     for(a=0; a<ArrayTable.Length;a++)
     {

        Console.Write("Please Enter an integer (between 10-100): ");
        Element = Int32.Parse(Console.ReadLine());
        while (Element < 10 || Element > 100)
        {
           Console.Write("Try again (between 10-100): ");
           Element = Int32.Parse(Console.ReadLine());
        }

        ArrayTable[a] = Element;
        for (int b = 0; b < a; b++)
        {
           while (ArrayTable[a] == ArrayTable[b])
           {
              Console.Write("Integer Duplicated!\nTry again: ");
              Element = Int32.Parse(Console.ReadLine());
              ArrayTable[a] = Element;
              Console.WriteLine();
              while (Element < 10 || Element > 100)
              {
                 Console.Write("Try again (between 10-100): ");
                 Element = Int32.Parse(Console.ReadLine());
                 ArrayTable[a] = Element;
              }
           }
        }
     }

     for (int c = 0; c < ArrayTable.Length; c++)
     {
        Console.Write("{0} ", ArrayTable[c]);
     }
  } 
```

# c++ - 在 Netbeans 7.2 中运行 C++ 程序时出现 java.lang.NullPointer 异常

> ID：15737390
> 
> 赞同：14
> 
> 时间：2013-04-01T03:52:15.683
> 
> 标签：c++, netbeans, nullpointerexception, netbeans-7.2

我想尝试使用 C++ 并想使用相同的 netbeans IDE，因为我已经将它用于 Java 开发有一段时间了。我下载了 Cygwin 工具并相应地设置了 IDE。当我尝试运行应用程序时，它说构建成功......，

```
"/usr/bin/make" -f nbproject/Makefile-Debug.mk QMAKE= SUBPROJECTS= .build-conf
make[1]: Entering directory `/cygdrive/c/Users/LJee/netbeans/tut-install/CppApplication_1'
"/usr/bin/make"  -f nbproject/Makefile-Debug.mk dist/Debug/Cygwin-Windows/cppapplication_1.exe
make[2]: Entering directory `/cygdrive/c/Users/LJee/netbeans/tut-install/CppApplication_1'
make[2]: `dist/Debug/Cygwin-Windows/cppapplication_1.exe' is up to date.
make[2]: Leaving directory `/cygdrive/c/Users/LJee/netbeans/tut-install/CppApplication_1'
make[1]: Leaving directory `/cygdrive/c/Users/LJee/netbeans/tut-install/CppApplication_1'

BUILD SUCCESSFUL (total time: 450ms) 
```

但是程序不会运行。它会引发 Java Null 指针异常。

```
java.lang.NullPointerException

RUN FAILED (exit value -1, total time: 26ms) 
```

由于 C++ 程序中没有 Java 代码，这一定是 IDE 的问题。我在 Netbeans 论坛上看到了这个帖子 [http://forums.netbeans.org/topic52231.html](http://forums.netbeans.org/topic52231.html)

在这里，用户更改了我不想做的 IDE 版本。

有没有遇到这种情况的人可以帮助我。我会很高兴的！提前致谢！！

* * *

## 回答 #1

> 赞同：27
> 
> 时间：2016-09-18T20:34:38.347

我在 Linux Mint 18 Cinnamon 和 Netbeans 8.1 下遇到了同样的问题，我通过右键单击项目名称项 -> 属性 -> 运行 -> 控制台类型 -> “标准输出”解决了这个问题

之后，“运行”命令完美运行。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-04-01T04:07:39.727

我找到了解决方案，您必须将 Cygwin 路径 (C:\cygwin\bin) 添加到环境路径变量中，然后它可以正常工作吗？查看链接[https://netbeans.org/community/releases/72/cpp-setup-instructions.html#compilers](https://netbeans.org/community/releases/72/cpp-setup-instructions.html#compilers)

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2016-08-01T06:15:31.590

当我将 Ubuntu 从 14.04 LTS 升级到 16.04 LTS 并通过 Synaptic 将 NetBeans IDE 从 8.0.2 升级到 8.1 时，我遇到了同样的问题。我猜我的 JVM 安装搞砸了。我的解决方案是使用 Synaptic 卸载 NetBeans 8.1，然后从[https://netbeans.org/downloads/](https://netbeans.org/downloads/)（全功能安装程序）下载并安装相同的 8.1 版本。它解决了这个问题。

# linux - 在命令“ls -d */”中使用“*/”列出目录的任何原因？

> ID：15737399
> 
> 赞同：6
> 
> 时间：2013-04-01T03:53:03.830
> 
> 标签：linux, bash, shell

我知道还有其他一些方法可以做同样的事情，例如

```
ls -l | grep "^d" 
```

或者

```
ls -F | grep "/$" 
```

我只是好奇在“ls -d”之后添加“*/”的原因。为什么简单地使用“ls -d”不起作用？背后有什么故事或棘手的事情吗？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-04-01T03:59:32.463

添加`-d`标志只是指示`ls`简单地列出目录条目而不是它们的内容。给定的`*`to`ls`扩展到当前目录中的所有条目，包括文件和目录。因此`ls -d *`将列出该目录中的所有条目，而不展开子目录。但是，如果您使用`*/`，则 bash 会将其扩展为仅包含此目录中的目录。但是只需`ls */`，所有目录都将被扩展。添加`-d`标志可以防止这种情况发生，并且您只会获得此目录中的目录。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-04-01T03:56:21.503

如果您使用`ls -d *`，那么您不仅会看到目录，还会看到文件。如果您使用`ls -d */`，您将只能看到目录。

# java - Hibernate 中的 buildSessionFactory 出现空指针异常

> ID：15737400
> 
> 赞同：0
> 
> 时间：2013-04-01T03:53:16.543
> 
> 标签：java, hibernate3

经过一些研究，这些都不能帮助我。我决定为此创建一个新问题。

产生错误的代码：

```
public class HibernateUltils 
{
    static SessionFactory sessionFactory;       
    public static Session getSession()
    {
        try
        {
            Configuration config = new Configuration();
            config.configure();          
            sessionFactory = config.buildSessionFactory();
            return sessionFactory.openSession();
        }
        catch(Exception e)
        {               
            e.printStackTrace();
        }
        return null;        
    }
} 
```

我的休眠配置：

```
<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE hibernate-configuration PUBLIC
        "-//Hibernate/Hibernate Configuration DTD 3.0//EN"
        "http://www.hibernate.org/dtd/hibernate-configuration-3.0.dtd">
<hibernate-configuration>
    <session-factory>
        <property name="hibernate.connection.driver_class">com.mysql.jdbc.Driver</property>
        <property name="hibernate.connection.password">root</property>
        <property name="hibernate.connection.url">jdbc:mysql://localhost:3306/education</property>
        <property name="hibernate.connection.username">root</property>
        <property name="connection.useUnicode">true</property >
        <property name="connection.characterEncoding">UTF-8</property>
        <property name="dialect">org.hibernate.dialect.MySQLDialect</property>

        <property name="current_session_context_class">thread</property>
        <property name="hibernate.transaction.factory_class">org.hibernate.transaction.JDBCTransactionFactory</property > 
        <property name="show_sql">true</property>
        <mapping resource="com/education/bean/Education.hbm.xml"/>
    </session-factory>
</hibernate-configuration> 
```

Tomcat服务器抛出java空指针异常，通过调试，我发现它发生在sessionFactory = config.buildSessionFactory()。

```
java.lang.NullPointerException
    com.education.serivces.DataConnect.getEducation(DataConnect.java:69)
    com.education.dao.DataConnectDao.getEducation(DataConnectDao.java:18)
    com.education.actions.ListEdu.execute(ListEdu.java:27)
    sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
    sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
    sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
    java.lang.reflect.Method.invoke(Unknown Source)
    com.opensymphony.xwork2.DefaultActionInvocation.invokeAction(DefaultActionInvocation.java:440)
    com.opensymphony.xwork2.DefaultActionInvocation.invokeActionOnly(DefaultActionInvocation.java:279)
    com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:242)
    com.opensymphony.xwork2.interceptor.DefaultWorkflowInterceptor.doIntercept(DefaultWorkflowInterceptor.java:163)
    com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:87)
    com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:236)
    com.opensymphony.xwork2.validator.ValidationInterceptor.doIntercept(ValidationInterceptor.java:249)
    org.apache.struts2.interceptor.validation.AnnotationValidationInterceptor.doIntercept(AnnotationValidationInterceptor.java:68)
    com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:87)
    com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:236)
    com.opensymphony.xwork2.interceptor.ConversionErrorInterceptor.intercept(ConversionErrorInterceptor.java:122)
    com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:236)
    com.opensymphony.xwork2.interceptor.ParametersInterceptor.doIntercept(ParametersInterceptor.java:195)
    com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:87)
    com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:236)
    com.opensymphony.xwork2.interceptor.ParametersInterceptor.doIntercept(ParametersInterceptor.java:195)
    com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:87)
    com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:236)
    com.opensymphony.xwork2.interceptor.StaticParametersInterceptor.intercept(StaticParametersInterceptor.java:148)
    com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:236)
    org.apache.struts2.interceptor.CheckboxInterceptor.intercept(CheckboxInterceptor.java:93)
    com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:236)
    org.apache.struts2.interceptor.FileUploadInterceptor.intercept(FileUploadInterceptor.java:235)
    com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:236)
    com.opensymphony.xwork2.interceptor.ModelDrivenInterceptor.intercept(ModelDrivenInterceptor.java:89)
    com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:236)
    com.opensymphony.xwork2.interceptor.ScopedModelDrivenInterceptor.intercept(ScopedModelDrivenInterceptor.java:128)
    com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:236)
    org.apache.struts2.interceptor.ProfilingActivationInterceptor.intercept(ProfilingActivationInterceptor.java:104)
    com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:236)
    org.apache.struts2.interceptor.debugging.DebuggingInterceptor.intercept(DebuggingInterceptor.java:267)
    com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:236)
    com.opensymphony.xwork2.interceptor.ChainingInterceptor.intercept(ChainingInterceptor.java:126)
    com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:236)
    com.opensymphony.xwork2.interceptor.PrepareInterceptor.doIntercept(PrepareInterceptor.java:138)
    com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:87)
    com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:236)
    com.opensymphony.xwork2.interceptor.I18nInterceptor.intercept(I18nInterceptor.java:148)
    com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:236)
    org.apache.struts2.interceptor.ServletConfigInterceptor.intercept(ServletConfigInterceptor.java:164)
    com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:236)
    com.opensymphony.xwork2.interceptor.AliasInterceptor.intercept(AliasInterceptor.java:128)
    com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:236)
    com.opensymphony.xwork2.interceptor.ExceptionMappingInterceptor.intercept(ExceptionMappingInterceptor.java:176)
    com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:236)
    org.apache.struts2.impl.StrutsActionProxy.execute(StrutsActionProxy.java:52)
    org.apache.struts2.dispatcher.Dispatcher.serviceAction(Dispatcher.java:468)
    org.apache.struts2.dispatcher.ng.ExecuteOperations.executeAction(ExecuteOperations.java:77)
    org.apache.struts2.dispatcher.ng.filter.StrutsPrepareAndExecuteFilter.doFilter(StrutsPrepareAndExecuteFilter.java:76) 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-01T04:14:38.330

在您的代码中

```
Configuration config = new Configuration(); 
```

它不会准备您的 hibernate.cfg.xml 文件。

使用以下代码创建配置对象。

```
// This step will read hibernate.cfg.xml and prepare hibernate for use
SessionFactory sessionFactory = new Configuration().configure().buildSessionFactory();

session = sessionFactory.openSession(); 
```

# vba - Mac Word - 将当前页面另存为 PDF 或 ExportAsFixedFormat？

> ID：15737401
> 
> 赞同：2
> 
> 时间：2013-04-01T03:53:58.953
> 
> 标签：vba, macos, ms-word

我正在尝试在 Word 中创建一个宏，以将当前页面保存为 PDF，其名称由所选文本设置。我有这个宏可以在 PC 上的 Word 2010 中使用，但似乎找不到可以在 Word 2011 for Mac (v14.1.4) 上使用的等效宏。

```
Sub PDF_CurrentPage_Selection()
    Dim strTemp As String
    strTemp = Selection.Text
    ActiveDocument.ExportAsFixedFormat OutputFileName:=strTemp & ".pdf", ExportFormat:=wdExportFormatPDF, Range:=wdExportCurrentPage
End Sub 
```

我也有这个，它使用选定的文本作为文件名制作 PDF，但不能让它只做当前页面：

```
Sub SaveActiveDocAsPDF()
Dim strTemp As String
strTemp = Selection.Text
If Right(strTemp, 1) = vbCr Then strTemp = Left(strTemp, Len(strTemp) - 1)
Set mySaveAs = Dialogs(wdDialogFileSaveAs)
With mySaveAs
'Selection.Information(wdActiveEndPageNumber)
    .Name = strTemp & ".pdf"
    .Format = wdFormatPDF
    .Show
End With
End Sub 
```

感谢您的任何帮助。

# iphone - Restkit 0.10.0 & ios 6.1 - objectLoaderWithResourcePath:delegate 方法不进行 http 调用

> ID：15737402
> 
> 赞同：0
> 
> 时间：2013-04-01T03:54:28.303
> 
> 标签：iphone, ios, objective-c, ios6, restkit

我的 ios 代码（使用 Restkit 0.10.0）在 iPhone **5.1**模拟器中运行良好。但是，相同的代码似乎不适用于 iPhone **6.1** Simulator。

在下面的代码中，[objectLoader send] 被调用，我看到调用被添加到 RKRequestQueue。但是，**没有进行 http 调用，并且活动指示器不停地旋转。**

```
-(void)myMethodCall:(NSString*)myparam1 password:(NSString*)myparam2{
RKObjectMapping* wsReturnMapping = ... //assume some complex mapping logic lives here

RKObjectLoader *objectLoader = [objectManager objectLoaderWithResourcePath:@"/somevalidurl" delegate:self]; //this line shows a deprecation warning
objectLoader.method = RKRequestMethodPOST;
objectLoader.objectMapping = wsReturnMapping;
objectLoader.params = [NSDictionary dictionaryWithObjectsAndKeys:myparam1, @"myparam1", myparam2, @"myparam2", nil];
[objectLoader send];
} 
```

我还尝试了这些方法来进行 http 调用（但没有奏效）：

**替代方法1：**

```
 [objectManager loadObjectsAtResourcePath:@"/somevalidurl" usingBlock:^(RKObjectLoader *loader) {
    loader.delegate = self;
    loader.method = RKRequestMethodPOST;
    loader.objectMapping = wsReturnMapping;
    loader.params = [NSDictionary dictionaryWithObjectsAndKeys:myparam1, @"myparam1", myparam2, @"myparam2", nil];
}]; 
```

**替代方法2：**

```
NSDictionary *dict = [NSDictionary dictionaryWithObjectsAndKeys:myparam1, @"myparam1", myparam2, @"myparam2", nil];
NSString *resourcePath = [@"/somevalidurl" appendQueryParams:dict];
[objectManager loadObjectsAtResourcePath:resourcePath delegate:self]; 
```

**问题：**

1) 有没有人让 Restkit 0.10.0 与 iOS 6.x 一起工作？

2) 知道为什么 [objectLoader send] 没有进行 http 调用吗？（适用于 iOS 5.x）

3）如果升级 Restkit 是唯一的选择，我还能利用我拥有的**objectMapping**吗？换句话说，我在最近的 Restkit 中找不到使用 objectMapping 的示例。

任何帮助表示赞赏。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-02T16:36:30.377

行。每当我在 iphone 5.1 模拟器和 6.1 模拟器之间切换时，问题似乎就会发生。我坚持原来的方法。对我有用的解决方案是
1）从模拟器中卸载应用程序，*然后*

2）清理并重建项目。

古怪-但有效。

# android - 当我递增的间隔为 5 时，在 Android TimePicker 中编辑之前和之后的分钟

> ID：15737403
> 
> 赞同：6
> 
> 时间：2013-04-01T03:54:30.367
> 
> 标签：android, android-timepicker

我已经按照教程将 Android TimePicker 增加到 15 以外的间隔。

[Android - TimePicker 分钟到 15](https://stackoverflow.com/questions/2580216/android-timepicker-minutes-to-15)

事实上，我已经正确设置我的 timePicker 以 5 的间隔递增。但是，当我不滚动 TimePicker 时，显示的前一分钟和后一分钟不是以 5 为增量。它们是个位数的增量。有没有办法在 Android TimePicker 中编辑之前和之后的分钟？

这是 TimePicker 的图像。当您滚动分钟时，中间的数字会以 5 为增量跳跃，正如我所希望的那样，但该中间数字（当前分钟）上方和下方的分钟不是以 5 为增量，我希望它们也是。

![在此处输入图像描述](https://i.stack.imgur.com/naGNy.jpg)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2021-09-08T15:39:13.317

此解决方案也适用于侦听器以及以编程方式设置时间时。

```
import android.content.Context
import android.util.AttributeSet
import android.widget.NumberPicker
import android.widget.TimePicker
import androidx.databinding.BindingAdapter
import java.lang.reflect.Field
import java.util.*

class TimePickerInterval @JvmOverloads constructor(
        context: Context, attrs: AttributeSet? = null, defStyleAttr: Int = 0
) : TimePicker(context, attrs, defStyleAttr) {

    private var MINUTE_INTERVAL = 1
    override fun getCurrentMinute(): Int {
        return super.getCurrentMinute() * MINUTE_INTERVAL
    }

    override fun getMinute(): Int {
        return super.getMinute() * MINUTE_INTERVAL
    }

    override fun onAttachedToWindow() {
        super.onAttachedToWindow()
        setUp()
    }

    private fun setUp() {
        try {
            val classForid = Class.forName("com.android.internal.R\$id")
            val field: Field = classForid.getField("minute")
            val mMinuteSpinner = findViewById<NumberPicker>(field.getInt(null))
            mMinuteSpinner.minValue = 0
            mMinuteSpinner.maxValue = 60 / MINUTE_INTERVAL - 1
            val displayedValues: MutableList<String> = ArrayList()
            var i = 0
            while (i < 60) {
                displayedValues.add(String.format("%02d", i))
                i += MINUTE_INTERVAL
            }
            mMinuteSpinner.displayedValues = displayedValues.toTypedArray()

        } catch (e: Exception) {
            e.printStackTrace()
        }
    }

    override fun setOnTimeChangedListener(onTimeChangedListener: OnTimeChangedListener) {
        super.setOnTimeChangedListener { tp, hour, minute ->
            onTimeChangedListener.onTimeChanged(tp, hour, minute * MINUTE_INTERVAL)
        }
    }

    override fun setMinute(minute: Int) {
        super.setMinute(minute/MINUTE_INTERVAL)
    }

    companion object {
        @JvmStatic
        @BindingAdapter("time_picker_set_minute_interval")
        fun setInterval(view: TimePickerInterval, interval: Int?) {
            interval?.let {
                view.MINUTE_INTERVAL = interval
                view.setUp()
            }
        }
    }
} 
```

在您的 XML 中：

```
 <com.gixon.shared.widgets.TimePickerInterval
        android:id="@+id/tp_to"
        android:layout_width="0dp"
        android:layout_height="wrap_content"
        android:timePickerMode="spinner"
        time_picker_set_minute_interval="@{5}"
        /> 
```

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-07-02T11:14:16.373

所有相关答案都需要您设置一个 OnTimeChangedListener。我的解决方案是扩展 android TimePicker，并修改它的构造函数：

```
// minute
mMinuteSpinner = (NumberPicker) findViewById(R.id.minute);
mMinuteSpinner.setMinValue(0);
mMinuteSpinner.setMaxValue(3);
mMinuteSpinner.setDisplayedValues(new String[]{"0", "15", "30", "45"});
mMinuteSpinner.setOnLongPressUpdateInterval(100);
mMinuteSpinner.setFormatter(NumberPicker.getTwoDigitFormatter()); 
```

所以你可以有你想要的间隔。

# php - PHP 查找字符串中所有出现的子字符串

> ID：15737408
> 
> 赞同：66
> 
> 时间：2013-04-01T03:55:51.703
> 
> 标签：php, string

我需要解析一个 HTML 文档并在`asdf`其中找到所有出现的字符串。

我目前已将 HTML 加载到字符串变量中。我只想要字符位置，所以我可以遍历列表以在字符串之后返回一些数据。

该`strpos`函数只返回第*一次*出现。*全部*退还怎么样？

* * *

## 回答 #1

> 赞同：94
> 
> 时间：2013-04-01T04:01:40.260

在不使用正则表达式的情况下，这样的东西应该适用于返回字符串位置：

```
$html = "dddasdfdddasdffff";
$needle = "asdf";
$lastPos = 0;
$positions = array();

while (($lastPos = strpos($html, $needle, $lastPos))!== false) {
    $positions[] = $lastPos;
    $lastPos = $lastPos + strlen($needle);
}

// Displays 3 and 10
foreach ($positions as $value) {
    echo $value ."<br />";
} 
```

* * *

## 回答 #2

> 赞同：22
> 
> 时间：2014-12-06T15:34:56.447

您可以重复调用该[`strpos`](http://php.net/manual/en/function.strpos.php)函数，直到找不到匹配项。您必须指定偏移参数。

*注意：在下面的例子中，搜索从**下一个**字符开始，而不是从上一个匹配的结尾开始。根据这个函数，`aaaa`包含**三个**出现的 substring `aa`，而不是两个。*

```
function strpos_all($haystack, $needle) {
    $offset = 0;
    $allpos = array();
    while (($pos = strpos($haystack, $needle, $offset)) !== FALSE) {
        $offset   = $pos + 1;
        $allpos[] = $pos;
    }
    return $allpos;
}
print_r(strpos_all("aaa bbb aaa bbb aaa bbb", "aa")); 
```

输出：

```
Array
(
    [0] => 0
    [1] => 1
    [2] => 8
    [3] => 9
    [4] => 16
    [5] => 17
) 
```

* * *

## 回答 #3

> 赞同：17
> 
> 时间：2013-11-14T11:42:06.853

它更好地使用`substr_count`。[在php.net](http://php.net/manual/en/function.substr-count.php)上查看

* * *

## 回答 #4

> 赞同：4
> 
> 时间：2013-04-01T04:04:24.533

用于`preg_match_all`查找*所有*事件。

```
preg_match_all('/(\$[a-z]+)/i', $str, $matches); 
```

如需进一步参考，请查看[此链接](http://www.php.net/manual/en/function.preg-match-all.php)。

* * *

## 回答 #5

> 赞同：4
> 
> 时间：2014-03-08T15:32:21.837

```
function getocurence($chaine,$rechercher)
        {
            $lastPos = 0;
            $positions = array();
            while (($lastPos = strpos($chaine, $rechercher, $lastPos))!== false)
            {
                $positions[] = $lastPos;
                $lastPos = $lastPos + strlen($rechercher);
            }
            return $positions;
        } 
```

* * *

## 回答 #6

> 赞同：3
> 
> 时间：2014-02-04T16:56:48.423

这可以使用**strpos()**函数来完成。下面的代码是使用 for 循环实现的。这段代码非常简单而且非常直接。

```
<?php

$str_test = "Hello World! welcome to php";

$count = 0;
$find = "o";
$positions = array();
for($i = 0; $i<strlen($str_test); $i++)
{
     $pos = strpos($str_test, $find, $count);
     if($pos == $count){
           $positions[] = $pos;
     }
     $count++;
}
foreach ($positions as $value) {
    echo '<br/>' .  $value . "<br />";
}

?> 
```

* * *

## 回答 #7

> 赞同：2
> 
> 时间：2020-04-22T09:06:36.727

Salman A 有一个很好的答案，但请记住让您的代码多字节安全。要使用 UTF-8 获得正确的位置，请使用 mb_strpos 而不是 strpos：

```
function strpos_all($haystack, $needle) {
    $offset = 0;
    $allpos = array();
    while (($pos = mb_strpos($haystack, $needle, $offset)) !== FALSE) {
        $offset   = $pos + 1;
        $allpos[] = $pos;
    }
    return $allpos;
}
print_r(strpos_all("aaa bbb aaa bbb aaa bbb", "aa")); 
```

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2020-04-10T16:07:20.227

简单**的 strpos_all()**函数。

```
function strpos_all($haystack, $needle_regex)
{
    preg_match_all('/' . $needle_regex . '/', $haystack, $matches, PREG_OFFSET_CAPTURE);
    return array_map(function ($v) {
        return $v[1];
    }, $matches[0]);
} 
```

用法：简单的绳子作为针。

```
$html = "dddasdfdddasdffff";
$needle = "asdf";

$all_positions = strpos_all($html, $needle);
var_dump($all_positions); 
```

*输出：*

```
array(2) {
  [0]=>
  int(3)
  [1]=>
  int(10)
} 
```

或者用正则表达式作为针。

```
$html = "dddasdfdddasdffff";
$needle = "[d]{3}";

$all_positions = strpos_all($html, $needle);
var_dump($all_positions); 
```

*输出：*

```
array(2) {
  [0]=>
  int(0)
  [1]=>
  int(7)
} 
```

* * *

## 回答 #9

> 赞同：0
> 
> 时间：2020-07-20T17:01:36.817

```
<?php
$mainString = "dddjmnpfdddjmnpffff";
$needle = "jmnp";
$lastPos = 0;
$positions = array();

while (($lastPos = strpos($html, $needle, $lastPos))!== false) {
    $positions[] = $lastPos;
    $lastPos = $lastPos + strlen($needle);
}

// Displays 3 and 10
foreach ($positions as $value) {
    echo $value ."<br />";
}
?> 
```

* * *

## 回答 #10

> 赞同：0
> 
> 时间：2021-05-08T22:59:39.767

另一种解决方案是使用`explode()`：

```
public static function allSubStrPos($str, $del)
{
    $searchArray = explode($del, $str);
    unset($searchArray[count($searchArray) - 1]);
    $positionsArray = [];
    $index = 0;
    foreach ($searchArray as $i => $s) {
        array_push($positionsArray, strlen($s) + $index);
        $index += strlen($s) + strlen($del);
    }
    return $positionsArray;
} 
```

# javascript - 如何让js知道新创建的html元素

> ID：15737409
> 
> 赞同：2
> 
> 时间：2013-04-01T03:56:13.293
> 
> 标签：javascript, jquery, html

我正在用 js 创建新的 html 元素。

```
$('#write_comment').on('click',function(){
  $(this).html('<textarea> </textarea><button onclick="test()">save</button>');
});

function test(){
 alert('testme');
} 
```

但是在这些`textarea`和`button`创建之后，如果我点击`save`，什么也没有发生。

有没有我可以说的jquery函数。`(newly_created_element).find(js_function)`?

那个或具有相同功能的东西会很高兴。

请帮忙。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-01T03:58:54.413

```
$('#write_comment').on('click',function(){
  $(this).html('<textarea> </textarea><button id="test">save</button>');
});

$('body').delegate('#test','click',function(){
 alert('testme');
}); 
```

使用类

```
$('#write_comment').on('click',function(){
      $(this).html('<textarea> </textarea><button class="test">save</button>');
    });

    $('body').delegate('.test','click',function(){
     alert('testme');
    }); 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-04-01T03:59:55.030

单独创建按钮：

```
$('#write_comment').on('click',function(){
  var myButton = $('<button>save</button>').click(function() {
    test();
  });
  $(this).html('<textarea></textarea>').append(myButton);
}); 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-04-01T04:02:05.767

```
$('#write_comment').on('click',function(){
  $(this).html('<textarea> </textarea><button class="NewlyAdded">save</button>');
}); 
```

`$(document).on`表现得像`.live()`或`delegate()`在许多方面。并且**适用于稍后添加的元素**。

```
$(document).on('click','#write_comment button.newlyAdded',function()
{
  alert('testme');
}); 
```

# vhdl - 来自低频时钟的高频

> ID：15737412
> 
> 赞同：0
> 
> 时间：2013-04-01T03:56:37.937
> 
> 标签：vhdl, clock, fpga, spartan

我的 spartan 3a fpga 板在使用 ram ddr2 实现 microblaze 时有一个 50mhz 时钟，它需要由我的程序编辑的 62mhz 频率，当被问及这个时，他们告诉我 60mhz 时钟用于在内部生成其他时钟但是如何50mhz 时钟会产生更高的 62mhz 时钟吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-01T06:03:00.307

在 Xilinx Spartan 器件中，您可以使用所谓的 DCM（数字时钟管理器），它为您提供了很多可能性；请参阅[Spartan 用户指南](http://www.xilinx.com/support/documentation/user_guides/ug331.pdf)或[Xilinx Spartan 3 DCM](http://www.xilinx.com/support/documentation/application_notes/xapp462.pdf)。使用合成器选项，时钟倍增/分频是可能的。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-01T04:01:55.760

有将时钟倍频到更高频率的内置技术。见[倍频器](http://en.wikipedia.org/wiki/Frequency_multiplier)和[锁相环](http://en.wikipedia.org/wiki/Phase-locked_loop)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-08T19:50:06.027

在 ISE 的实施窗口中的设计名称下，右键单击并添加新源，选择 IPcore，然后选择时钟向导，您可以输入主频率：50 mhz 和所需的频率：62 mhz，核心生成器将为您完成。

# php - 单例数据库类：删除旧查询结果

> ID：15737415
> 
> 赞同：0
> 
> 时间：2013-04-01T03:57:27.737
> 
> 标签：php, mysqli

我为 PHP 制作了一个单例数据库类。我认为它工作得很好，但实际上并非如此。我现在制作一个有 3 个查询的页面。1检查相册是否存在，1检查用户是否拥有相册，另一个人从相册中获取照片。

现在在我的第三个查询中，我填充了一个对象，但是第一个 2 个查询的结果也在该数组中，所以我得到了通知！

这是一个例子：

```
Array
(
[0] => Array
    (
        [id] => 2
        [name] => My new album 1
        [slug] => my-new-album-1
        [user_id] => 1
        [views] => 0
        [datecreated] => 2013/03/23 16:00:43
    )

[1] => Array
    (
        [id] => 3
        [name] => My new album 1
        [slug] => my-new-album-1
        [user_id] => 1
        [views] => 0
        [datecreated] => 2013/03/23 23:51:58
    )

[2] => Array
    (
        [id] => 2
    )

[3] => Array
    (
        [id] => 117
        [title] => 
        [location_id] => 
        [date] => 2013-03-30 00:42:26
        [user_id] => 1
        [album_id] => 2
    ) 
```

这就是我进行查询并返回数组的方式：

```
mysqli_conn::getInstance()->query($sql)->all_assoc() 
```

这是我的数据库类的一部分，它执行查询并返回结果：

```
public function query( $sql ){

 $starttime = $this->time_to_float();        
 $this->query = mysqli_query($this->connection, $sql);          
 $endtime = $this->time_to_float();
 $exectime = ($endtime - $starttime);

 if (!$this->query){        
    throw new Exception(mysqli_error($this->connection));        
 } else {

    $this->arQueryLog[] = array ( 'query' => $sql, 
                                  'exectime' => $exectime, 
                                  'affected_rows' => mysqli_affected_rows($this->connection),
                                  'last_insert_id' => $this->lastID() );                                      

 }

 return $this;

}

public function all_assoc ()
{
    while($result = mysqli_fetch_assoc($this->query)){
        $this->result[] = $result;
    }

    return $this->result;

} 
```

怎么可能只有最后一个查询结果在结果数组中？

谢谢！！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-01T04:50:20.853

您正在将结果推送到类的结果属性。由于它是单例，以前的值保留在结果属性中，每次调用 all_assoc() 方法时，新结果都会被推送到属性中。

在推送新结果之前，您应该取消设置 all_assoc() 方法中的结果属性。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-01T05:14:53.863

2大故障，与数据库类无关

*   每个变量都必须在使用前进行初始化。这段代码失败了。
*   **如果您对本地数据使用局部**变量，PHP 甚至会原谅上述错误

所以，正确的代码必须是

```
public function all_assoc ()
{
   $result = array(); //initializing a local variable 
   while($result = mysqli_fetch_assoc($this->query)){
        $result[] = $result;
    }
    return $result;
} 
```

这个 all_assoc 函数最好使用 $result 变量而不是使用类属性。

1 与数据库类相关的主要故障。

*   您没有使用占位符，因此您的查询容易受到 SQL 注入的影响。

所以，既然你已经开始上课了，那就看看[SafeMysql 吧](https://github.com/colshrapnel/safemysql)。它将使您的代码更短且更安全。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-01T07:00:09.787

我认为@Jueecy 在设计方面可能有一个有效的观点，但是由于我们无法访问您的完整实现，所以让我们使用我们所拥有的。

尽管将数据库连接存储在单例中是有意义的，但将查询结果存储在单例中（当然也不是数据库连接单例）并不合适，因为每个请求很可能会有多个查询。

从您共享的代码中，我最好的建议是直接返回`$query`值（不将其存储在 $this 上），并让`all_assoc()`（和相关函数）直接接受`$query`并返回`$result`（不将其存储在 $this 上）。

如果您需要提供自定义逻辑（也就是函数中的and逻辑），您可以创建一个`Query`用于包装的类`$query`和一个用于包装单个结果集的类，但是您还没有提供任何表明这是必要的代码。`Result``exectime``arQueryLog``query()`

祝你好运，

——大卫·法瑞尔

# python - Python 3 ElementTree 的奇怪输出

> ID：15737418
> 
> 赞同：0
> 
> 时间：2013-04-01T03:57:35.517
> 
> 标签：python, xml, python-3.x

我正在`.xml`用这个片段解析一个非常简单的文件

```
import xml.etree.ElementTree as etree
tree = etree.parse('/home/user/dummy.xml')
print(tree.getroot()) 
```

输出是

```
<Element 'doc' at 0x1d2f090> 
```

这是正确的，但我期待一些更清洁和简单的东西

```
doc 
```

这是正常输出吗？我怎样才能清理这个？

我正在使用 Python 3.x

* * *

`dummy.xml`文件_

```
<?xml version="1.0"?>
<doc>
    <branch name="testing" hash="1cdf045c">
        text,source
    </branch>
    <branch name="release01" hash="f200013e">
        <sub-branch name="subrelease01">
            xml,sgml
        </sub-branch>
    </branch>
    <branch name="invalid">
    </branch>
</doc> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-01T05:14:14.683

是的，这是`Element`. 如果您只想要标签，请尝试：

```
print(tree.getroot().tag) 
```

# entity-framework - 使用实体框架的 MVC 4 应用程序

> ID：15737424
> 
> 赞同：0
> 
> 时间：2013-04-01T03:57:55.337
> 
> 标签：entity-framework, asp.net-mvc-4

我最近按照指示使用 MVC3 完成了 MVCMusicStore 教程的一部分。但是，由于我有 Visual Studio 2012，我正在尝试在 MVC4 应用程序中使用 EF。我试图添加 using System.Data.Entity; 指令，但没有找到。

我知道我可能只是添加对它的引用。但我想知道为什么它还不能用于我的 MVC4 项目。是否有使用 MVC4 创建实体框架支持的应用程序的新方法？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-01T04:27:11.370

自 Visual Studio 2012 起，Entity Framework 现在通过 NuGet 包管理系统与 Visual Studio 分开分发。这样做的原因是将 EF 与 VS 的发布分离，因此它可以在不同的时间安排上发布。他们最近还发布了 EF 作为开源框架，因此它作为一个项目从 .net 框架版本中删除。

您必须使用 NuGet 在您的项目中安装实体框架。右键单击项目并选择管理 Nuget 包。确保在打开的对话框中选择 Online 选项卡，然后在搜索类型 Entity Framework 中并单击 Install。然后，您将能够添加 using 语句。

# c# - 从 SQL 数据库表中读取数据到通用集合

> ID：15737425
> 
> 赞同：10
> 
> 时间：2013-04-01T03:57:57.227
> 
> 标签：c#

我想从表中读取所有数据（包含 3 行）并将所有数据添加到通用集合中。我想从集合中绑定到 gridview。

下面显示的代码有效，但只有最后一行在 gridview 中显示 3 次。你能帮帮我吗。我是初学者

```
protected void Page_Load(object sender, EventArgs e)
{
    List<Student> listid = new List<Student>();
    Student stud = new Student();
    SqlConnection con = new SqlConnection("........");
    string sql = "select * from StudentInfo";
    con.Open();
    SqlCommand cmd = new SqlCommand(sql, con);
    SqlDataReader dr = cmd.ExecuteReader();
    while (dr.Read())
    {
        stud.Studid = Convert.ToInt32(dr["StudId"]);
        stud.StudName = dr["StudName"].ToString();
        stud.StudentDept = dr["StudentDept"].ToString();
        listid.Add(stud);               
    }
    GridView1.DataSource = listid;
    GridView1.DataBind();
}
public class Student
{
    private int studid;
    public int Studid
    {
       get { return studid; }
       set { studid = value; }
    }    
    private string studName;
    public string StudName
    {
       get { return studName; }
       set { studName = value; }
    }
    private string studentDept;
    public string StudentDept
    {
       get { return studentDept; }
       set { studentDept = value; }
    } 
```

输出是这样的：

![在此处输入图像描述](https://i.stack.imgur.com/T8gf5.png)

* * *

## 回答 #1

> 赞同：20
> 
> 时间：2013-04-01T04:11:19.813

你需要在while循环中实例化你的对象
否则你将在集合中拥有相同的数据
所以代码应该是

```
protected void Page_Load(object sender, EventArgs e)
{
    List<Student> listid = new List<Student>();
    SqlConnection con = new SqlConnection("........");
    string sql = "select * from StudentInfo";
    con.Open();
    SqlCommand cmd = new SqlCommand(sql, con);
    SqlDataReader dr = cmd.ExecuteReader();
    while (dr.Read())
    {
        Student stud = new Student();
        stud.Studid = Convert.ToInt32(dr["StudId"]);
        stud.StudName = dr["StudName"].ToString();
        stud.StudentDept = dr["StudentDept"].ToString();
        listid.Add(stud);               
    }
    GridView1.DataSource = listid;
    GridView1.DataBind();
} 
```

此外，使用 while 数据读取器或直接打开连接也不是一个好习惯，
您应该使用`using`语句。

```
using(SqlConnection con = new SqlConnection("connection string"))
{

    con.Open();

    using(SqlCommand cmd = new SqlCommand("SELECT * FROM SomeTable", connection))
    {
        using (SqlDataReader reader = cmd.ExecuteReader())
        {
            if (reader != null)
            {
                while (reader.Read())
                {
                    //do something
                }
            }
        } // reader closed and disposed up here

    } // command disposed here

} //connection closed and disposed here 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-04-01T04:02:10.340

在 DataReader while 循环中，为数据库表中的每一行实例化一个新 Student：

```
while (dr.Read())
{
 var stud = new Student();
 stud.Studid = Convert.ToInt32(dr["StudId"]);
 stud.StudName = dr["StudName"].ToString();
 stud.StudentDept = dr["StudentDept"].ToString();
 listid.Add(stud);
} 
```

# php - SimplePie 分页/缓存

> ID：15737427
> 
> 赞同：1
> 
> 时间：2013-04-01T03:58:00.083
> 
> 标签：php, simplepie

我试图了解 Linux 上 SimplePie 的缓存功能。它从来没有告诉我们为 RSS 提要创建一个单独的 mySql 数据库，所以我猜所有的缓存都是在本地完成的。（在 /httpdocs/ 目录中？）

我无法弄清楚 SimplePie 在导入后如何存储它的文章......（使用 Linux 上的默认安装指令）以及这些文章在数据库中存储多长时间。

这个问题主要是关于 SimplePie 的简单分页设置，如其网站上指定的那样 -

[http://simplepie.org/wiki/tutorial/how_to_do_item_paging](http://simplepie.org/wiki/tutorial/how_to_do_item_paging)

但问题是，在它们相互覆盖之前，它只保留一定数量的项目（文章）。

例如，我在这里有一个基本的 SimplePie 小页面设置 -

[http://www.oil-gas-prices.com/](http://www.oil-gas-prices.com/)

在底部，它总是在 76 左右切断。（显示 1 - 10 of 76）

我想指定一个 1000。这样它就会在那里切断。

调整以下任何这些特定值都不会增加索引/缓存项目的总量：

```
// Set our paging values
$start = (isset($_GET['start']) && !empty($_GET['start'])) ? $_GET['start'] : 0; // Where do we start?
$length = (isset($_GET['length']) && !empty($_GET['length'])) ? $_GET['length'] : 5; // How many per page?
$max = $feed->get_item_quantity(); // Where do we end? 
```

我的主要优先事项是在缓存中存储更多，而不是其他文章覆盖它们，从而降低存储项目的数量。

我在 linux 上安装了最新版本的 SimplePie。没有wordpress扩展或任何东西。

我非常感谢任何帮助。这些天很难找到合法的 SimplePie 帮助，

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-05-01T22:02:58.377

它默认将缓存的文章存储在 /cache 目录中，尽管他们的文档指出：“SimplePie 包含一个缓存系统，可以与基于文件的缓存、数据库缓存或 Memcache 支持的缓存系统一起使用。”。默认缓存持续时间为一小时。`set_cache_duration`但是，您可以使用该功能覆盖它。确保您已将缓存文件夹权限设置为至少 755。您可能需要将其增加到 775 或 777（但尽可能避免这样做）。

至于项目数量的限制，您是设置最大提要数，还是每个提要的最大项目数？对于我的实施，我将其限制为每个提要 25 和 3 个，并且效果很好。我不知道是否有默认最大值，但可能有并且您可能必须手动覆盖它。例如，我的网站上有这个 PHP 代码：

```
$max_items_total = 25;     // This sets the maximum number of blogroll items to display
$max_items_per_feed = 3;   // this sets the maximum number of items from each feed to display

$feed = new SimplePie();
$feed->set_feed_url($feed_ary);

// limit the number of items
$feed->set_item_limit($max_items_per_feed);
$feed->enable_cache(true);  // on by default, but I want to be sure
$feed->set_cache_duration(86400);  // set cache duration to 24 hours

foreach ($feed->get_items(0, $max_items_total) as $key=>$item) {
   ...
} 
```

for 循环为我获取项目 1 到 25。您可以使用类似的方法进行分页。

我也遇到了缓存问题，也希望从其他人那里获得更多信息。

# matlab - 绘制Matlab时如何将不同的线型自动应用于数组

> ID：15737430
> 
> 赞同：2
> 
> 时间：2013-04-01T03:58:33.560
> 
> 标签：matlab, plot

当被告知绘制更高维数组时，是否可以让 Matlab 自动应用不同的线条样式，就像使用颜色一样？

例如：

```
plot(t,X1(:,4:6)) 
```

用三条不同颜色的线创建一个图。Matlab 可以用线条样式做同样的事情吗？即使它是这样的：

```
plot(t,X1(:,4:6),{':','-','-*'}) 
```

如果可以的话，我宁愿不必单独为每个一维数组调用绘图命令并在那里分配线型。我正在使用已经有大量没有线条样式的调用的遗留代码，每个都绘制了六行。手动完成需要一段时间，我不得不认为 Matlab 可以做一些更聪明的事情

谢谢！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-01T04:02:47.023

您可以在一个命令中完成，但您仍然必须单独分配样式。

```
plot(t,X1(:,4),':',t,X1(:,5),'-',t,X1(:,6),'-*') 
```

您拥有的另一个选择是编写您自己的函数，该函数通过一个 for 循环并以不同的样式绘制每个函数。

# java - 获取给定日期的日期以排除两个日期之间的差异

> ID：15737432
> 
> 赞同：1
> 
> 时间：2013-04-01T03:58:51.237
> 
> 标签：java, date

我想从两个日期之间的差异中排除星期日。我使用以下代码来获取两个日期之间的差异：

```
leaveDuration  = (int)( (leavetodate.getTime() - leavefromdate.getTime()) / (1000 * 60 * 60 * 24) ); 
```

现在我想在两个日期之间排除星期日。或者就此而言，我想排除一般的假期。上面的代码应该如何修改才能得到想要的结果呢？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-01T04:05:17.740

您需要使用日历

```
int getDiff(Date fromDate, Date toDate) {
    Calendar c = Calendar.getInstance();
    c.setTime(fromDate);
    int workDays = 0;
    while (c.getTime().before(toDate)) {
        if (c.get(Calendar.DAY_OF_WEEK) != Calendar.SUNDAY) {
            workDays++;
        }
        c.add(Calendar.DATE, 1);
    }
    return workDays;
} 
```

# python - Python请求模块：对json数据进行urlencoding

> ID：15737434
> 
> 赞同：10
> 
> 时间：2013-04-01T03:58:55.273
> 
> 标签：python, json, http, python-requests

我正在开发一个 API 包装器。我正在尝试构建的规范中有以下请求：

```
curl -H "Content-type:application/json" -X POST -d data='{"name":"Partner13", "email":"example@example.com"}' http://localhost:5000/ 
```

这个请求从我设置的一个小测试服务器产生以下响应，以查看发送的标头/参数等。这个小脚本产生：

```
uri: http://localhost:5000/,
method: POST,
api_key: None,
content_type: application/json,
params: None,
data: data={"name":"Partner13", "email":"example@example.com"} 
```

所以上面是我希望我的 python 脚本在遇到小测试脚本时创建的结果。

我正在使用 python requests 模块，这是我用过的最漂亮的 HTTP 库。所以这是我的python代码：

```
uri = "http://localhost:5000/"
headers = {'content-type': 'application/json' }
params = {}
data = {"name":"Partner13", "email":"example@exmaple.com"}
params["data"] = json.dumps(data)
r = requests.post(uri, data=params, headers=headers) 
```

这么简单的东西。设置标题，并为 POST 参数创建字典。该字典有一个名为“数据”的条目，它是我要发送到服务器的数据的 JSON 字符串。然后我打电话给邮局。但是，我的小测试脚本返回的结果是：

```
uri: http://localhost:5000/,
method: POST,
api_key: None,
content_type: application/json,
params: None,
data: data=%7B%22name%22%3A+%22Partner13%22%2C+%22email%22%3A+%22example%40example.com%22%7D 
```

所以本质上我想在data参数下发送的json数据已经被urlendcode了。

有谁知道如何解决这一问题？我查看了请求文档，似乎找不到不自动对发送数据进行 urlencode 的方法。

非常感谢，凯文

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-04-01T06:32:58.857

在为 data 关键字创建对象时，只需将 json.dumps(data) 的结果分配给一个变量。

此外，因为 HTTP POST 可以接受 url 参数以及请求正文中的数据，并且因为 requests.post 函数有一个名为“params”的关键字参数，所以最好使用不同的变量名以提高可读性。请求文档使用变量名“payload”，这就是我使用的。

```
data = {"name":"Partner13", "email":"example@exmaple.com"}
payload = json.dumps(data)
r = requests.post(uri, data=payload, headers=headers) 
```

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2013-04-01T15:30:02.287

[请求自动对作为数据传递的](https://github.com/kennethreitz/requests/blob/master/requests/models.py#L59)字典进行 URL 编码。John_GG 的解决方案之所以有效，是因为它不是在“数据”字段中发布包含 JSON 编码字符串的字典，而是直接传递 JSON 编码字符串：字符串不会自动编码。我不能说我理解 Requests 中这种行为的原因，但无论如何，它就是这样。没有办法关闭我能找到的这种行为。

祝你好运，凯文。

# jquery - 'div'和'之间的jQuery区别 ' 什么时候加课？

> ID：15737435
> 
> 赞同：0
> 
> 时间：2013-04-01T03:59:16.743
> 
> 标签：jquery, html, tags, refer

我正在分析一个插件，但我意识到作者使用：

```
$('<div/>').addClass('sample-piece'); 
```

而不是以下

```
$('div').addClass('sample-piece'); 
```

是什么意思`<div/>`，`<a/>`......它似乎不是一个有效的html标签。

我似乎找不到任何解决方案，因为谷歌不允许我在线搜索运营商.....

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-04-01T04:01:50.880

`$('<div/>').addClass('sample-piece');`创建一个新`div`元素并向`sample-piece`其添加类。新创建的 div 当时不在 dom 树中，您可能需要将其附加到其他元素。

`$('div').addClass('sample-piece');`将类添加`sample-piece`到 dom 树中的所有`div`元素。

***总结：***

`$('<div/>')`创建一个新`div`元素。

`$('div')`选择所有`div`元素。

# c++ - Amazon EC2 上的 socket.h 中的编译器错误

> ID：15737437
> 
> 赞同：-1
> 
> 时间：2013-04-01T03:59:32.453
> 
> 标签：c++, amazon-ec2, bitcoin

我正在尝试在我的 EC2 实例上编译比特币，但遇到了一个我无法弄清楚的问题。构建脚本在以下命令上停止

```
g++ -c -Wall -Wextra -Wformat -Wformat-security -Wno-unused-parameter -g   -DMSG_NOSIGNAL=0 -DBOOST_SPIRIT_THREADSAFE -DUSE_UPNP=1 -DUSE_IPV6=1 -I/home/ec2-user/bitcoin/src/leveldb/include -I/home/ec2-user/bitcoin/src/leveldb/helpers -DHAVE_BUILD_INFO -I"/home/ec2-user/bitcoin/src" -I"/home/ec2-user/bitcoin/src/obj" -I"/usr/local/include" -I"/usr/include/openssl" -MMD -MF obj/alert.d -o obj/alert.o alert.cpp 
```

通过返回以下错误

```
In file included from /usr/include/sys/socket.h:40:0,
                 from compat.h:19,
                 from netbase.h:11,
                 from util.h:27,
                 from alert.h:13,
                 from alert.cpp:11:
/usr/include/bits/socket.h:231:5: error: expected identifier before numeric constant
/usr/include/bits/socket.h:231:5: error: expected ‘}’ before numeric constant
/usr/include/bits/socket.h:231:5: error: expected unqualified-id before numeric constant
In file included from compat.h:19:0,
                 from netbase.h:11,
                 from util.h:27,
                 from alert.h:13,
                 from alert.cpp:11:
/usr/include/sys/socket.h:254:1: error: expected declaration before ‘}’ token 
```

我尝试使用 -std=c++0x 选项集进行编译，但没有任何区别。这是我唯一能想到的。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-01T04:38:08.803

我敢打赌，您拥有的某些头文件正在`#define`生成一个干扰`socket.h`. 你能编译一个只包含`<sys/socket.h>`，没有其他包含的程序吗？

接下来要检查的是查看`/usr/include/bits/socket.h`第 231 行（第一个错误发生的位置）上的内容。如果代码看起来没问题，那么下一步就是看看预处理后的源代码是什么样子的。要获取预处理输出，请将命令行中的`-c`选项替换为，并将选项更改为将预处理器输出放入文件中。`-E``-o obj/alert.o``-o alert.ii``alert.ii`

如果您比较`alert.ii`with的内容`/usr/include/bits/socket.h`，您可以查看它是否按预期编译。特别是，如果有一个宏将某些东西定义为意想不到的东西，您会在编译器指出的位置看到明显错误的代码。

# python - 谷歌应用引擎过度数据存储小操作

> ID：15737438
> 
> 赞同：2
> 
> 时间：2013-04-01T03:59:34.337
> 
> 标签：python, google-app-engine, appstats

我的站点有大约 50 个用户，并且我的小型数据存储操作过多。我正在积极地进行内存缓存，没有那么多记录，但我仍然获得数百万个小型数据存储操作。Appstats 说成本是 0，但实际成本不是 0。我基本上知道小型数据存储操作可能发生在哪里。

仅关键操作：我这样做，但我将其内存缓存，直到数据未更改。另外，我的大多数键操作都有限制 = 100（这是最大值），因此要获得 12m 操作，我需要进行 120000 次调用（我假设获取 1 个键是 1 个小操作）。因为我每天大约有 60-70 次访问，这似乎有点过分了。我只是无法弄清楚是什么导致了这么多操作。Appstats 没有给我任何线索。

这是仪表板。 ![在此处输入图像描述](https://i.stack.imgur.com/2XwTx.png)

这是应用程序统计信息。 ![在此处输入图像描述](https://i.stack.imgur.com/V9MwO.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-01T04:10:28.387

你用很多`counts`吗？似乎这可能[是](https://groups.google.com/forum/#!msg/google-appengine/LsVSKbFCLwI/FpYEd1fPFLYJ)导致过多数据存储小型操作的问题。

我没有你的代码，但是[这个答案](https://stackoverflow.com/a/9291749/399704)有一些建议，可以在遇到这个问题时优化你的代码。

另外，请看一个类似的问题 - [Google app engine 过多的小型数据存储操作](https://stackoverflow.com/questions/8098878/google-app-engine-excessive-small-datastore-operations)以获得类似的答案

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-09-23T12:44:22.927

我注意到这个老问题还没有解决，所以根据你的信息，这是另一个潜在的原因。

在一个非常新的公共 Azure VM 实例 (xxx.cloudapp.net) 上运行我的 GAE SDK，我注意到很多机器人流量试图找到一个通用的开源 CMS 或购物车的管理页面。我相信这是由于机器人利用 AXFR 请求或对子域的暴力检测。

确保您阻止任何不需要的机器人流量，而不是为他们提供动态页面，从而更多地访问您的数据存储。

同样的情况也可能是由这 50 个用户请求的每个页面上循环的恶意 AJAX 请求引起的。

# nginx - Nginx 配置中静态位置的多个位置

> ID：15737440
> 
> 赞同：6
> 
> 时间：2013-04-01T04:00:09.830
> 
> 标签：nginx

我的应用程序将在两个位置提供静态文件，一个是 /my/path/project/static，另一个是 /my/path/project/jsutils/static。

我很难让网络服务器在两个目录中查找静态内容。这是我的应用程序的 nginx 配置文件中的静态位置条目。

```
 location ^~ /static {
        root   /my/path/project/static;
        alias /my/path/project/jsutils/static;
       index  index.html index.htm;
    } 
```

我收到一条错误消息：“别名”指令重复，“根”指令已在前面指定。

我不确定如何让 nginx 在这两个路径中查找静态内容。

预先感谢您的任何帮助。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2014-10-22T19:26:29.817

```
location ^~ /static {
    root /my/path/project/static;
    index index.html index.htm;
    try_files $uri $uri/ @secondStatic;
}

location @secondStatic {
    root /my/path/project/jsutils/static;
} 
```

因此，首先将在 /my/path/project/static 中搜索文件，如果在那里找不到，将触发 secondStatic 位置，将根更改为 /my/path/project/jsutils/static。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-01T04:51:17.497

您可以使用 try_files ( [http://wiki.nginx.org/HttpCoreModule#try_files](http://wiki.nginx.org/HttpCoreModule#try_files) )。假设您的静态文件位于 /my/path/project/static 和 /my/path/project/jsutils/static 中。你可以试试这个：

```
location ^~ /static {
   root   /my/path/project;
   index  index.html index.htm;
   try_files $uri $uri/ /jsutils$uri /jsutils$uri/ =404;
} 
```

让我知道它是否有效。谢谢！

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-01T15:34:11.007

只需用 nginx 语言实现您的配置：

```
location /my/path/project/static {
  try_files $uri =404;
}
location /my/path/project/jsutils/static {
  try_files $uri =404;
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2014-08-15T14:24:52.163

我遇到了完全相同的问题，看起来 nginx 不喜欢什么时候`root`被`alias`. 我首先删除了`root`server 部分中的声明，而是直接在 location 部分中适当地声明了`root`and来修复它`alias`（注意注释掉的行）：

```
server {
#    root /usr/share/nginx/html;
    location /logs/ {
        root /home/user/develop/app_test;
        autoindex on;
    }
    location /logs2/ {
#        root /home/user/branches/app_test;
        alias /home/user/branches/app_test/logs/;
        autoindex on;
    }
} 
```

# c - 用一些零初始化一个 int 数组

> ID：15737445
> 
> 赞同：0
> 
> 时间：2013-04-01T04:01:04.987
> 
> 标签：c, arrays

我做了一个简单的排序程序，我在其中初始化了如下所示的数组。

```
int a[]={9,4,7,8,5,2,6,1,0,3}; 
```

但我的排序函数将数组 a[0] 排序为 a[7] 并将 0 视为 '\0' 并停止。如果我将 0 放在其他地方，它会排序到 0 并忽略数组的其余部分。C 在这里对待 0 和 '\0' 是一样的吗？

我的冒泡排序程序如下。

```
#include<stdio.h>
#include<conio.h>

int main()
{
int a[]={9,4,7,8,5,2,6,1,0,3};

void bubble_sort(int *a);
void print(int *a);

bubble_sort(a);

print(a);

getch();

return 0;
}

void bubble_sort(int *a)
{
int i=0,j,t,n;
for(i=0;a[i]!='\0';i++)
{
    n=0;
    for(j=1;a[j]!='\0';j++)
    {
        if(a[j-1]>a[j])
        {
            t=a[j-1];
            a[j-1]=a[j];
            a[j]=t;
            n++;
        }
    }
    if(n==0)
    {
         break;
    }
}
}

void print(int a[])
{
int i=0;

for(i=0;a[i]!='\0';i++)
{
    printf("%d ",a[i]);
}

printf("\n");
} 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-04-01T04:02:44.257

`'\0'`是`0`根据定义。您需要将数组的长度传递给排序函数，或者选择一个不同的整数值作为终止符，并确保您永远不会将该值用于其他任何事情。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-04-01T04:03:34.653

该字符`'\0'`完全等于 0。您需要将数组长度传递给排序算法，然后使用它。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-04-01T04:06:43.080

> C 在这里对待 0 和 '\0' 是一样的吗？

是的。这是因为两者都是零。正如其他人所提到的，或者您将数组的长度传递给函数或使用为您的数组选择另一个分隔符，您需要确保它不会包含在您的数组中。

编辑：@Jim Balter，感谢您的澄清。

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2013-04-01T04:08:29.673

**'\0' 为 NULL 字符**。NULL 字符的 ASCII 码为 0。

```
a[i]!='\0' is equivalent to a[i]!=0 
```

因为 '\0' 被强制转换为它的 ASCII 值（整数）。

因此，当当前元素为零时，循环停止。

为了**修复**它，传递一个额外的参数：**数组大小**

```
bubble_sort(a,sizeof(a)/sizeof(int));
print(a,sizeof(a)/sizeof(int)); 
```

**将bubble_sort**函数更改为：

```
void bubble_sort(int *a,int sz)
{
    int i=0,j,t,n;
    for(i=0;i<sz;i++)
    {
        n=0;
        for(j=1;j<sz;j++)
        {
        ................................... 
```

**将打印**功能更改为：

```
void print(int a[],int sz)
{
    int i=0;
    for(i=0;i<sz;i++)
    {
                 ....................... 
```

请注意：

在 C++ 中，几乎不可能从衰减指针（int *a 或 int a[]）计算数组的大小。因此，总是有一个额外的参数：数组的**大小与数组**一起传递。

但是，每当将字符数组传递给函数时，只需迭代数组直到遇到 NULL 字符就可以像在 C/C++ 中一样工作，字符串存储在字符数组的连续元素中并以 NULL 字符终止。

# ios - 应用程序未运行时基于位置的推送通知？

> ID：15737446
> 
> 赞同：8
> 
> 时间：2013-04-01T04:01:05.920
> 
> 标签：ios, ios5, location, apple-push-notifications

当您的应用程序未运行但用户在特定位置附近时仍然能够收到推送通知时，是否有可能。这将需要检查用户当前的纬度和经度（即使应用程序没有运行）。

如果可能，您能否就如何实现它提供一些指导？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-05-15T09:04:17.857

即使应用程序未运行，您也可以使用两种方法来跟踪用户位置：

1.  重大地点变更服务。

    `startMonitoringSignificantLocationChanges`在 CLLocationManager 实例中调用该方法。这将有助于显着节省电力，但与下面的第二种方法相比，它不能提供高精度。

    如果您选择此方法，则*无需*设置`location`密钥。`UIBackgroundModes`

2.  标准定位服务。

    `startUpdatingLocation`在 CLLocationManager 实例中调用该方法。这需要大量的设备功率，但它提供了更高的精度。请记住设置`location`密钥`UIBackgroundModes`以确保即使应用程序被终止，跟踪仍然有效。

您可以使用上述任何一种方法。我使用第一种方法结合区域监控来触发本地通知。

您可以查看以下 Apple 文档以获得更全面的解释和示例：

[http://developer.apple.com/library/ios/#documentation/userexperience/conceptual/LocationAwarenessPG/CoreLocation/CoreLocation.html](http://developer.apple.com/library/ios/#documentation/userexperience/conceptual/LocationAwarenessPG/CoreLocation/CoreLocation.html)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2016-02-03T08:17:46.810

**即使应用程序根本没有运行，基于区域（CLRegion）的通知**

好吧，这个答案不是很快，但 Apple 在 UILocalNotification 中引入了新概念。不需要发送推送通知，当用户进入/离开地理区域时，iOS 会自动显示本地通知`CLRegion`。从 iOS 8 及更高版本开始，我们可以根据位置**而不是通过设置`fireDate`属性**来安排本地通知。

```
 let localNotification = UILocalNotification()
    localNotification.alertTitle = "Hi there"
    localNotification.alertBody = "you are here"

    let region = CLCircularRegion(center: CLLocationCoordinate2D(latitude: 4.254, longitude: 88.25), radius: CLLocationDistance(100), identifier: "")
    region.notifyOnEntry = true
    region.notifyOnExit = false
    localNotification.region = region       

    localNotification.timeZone = NSTimeZone.localTimeZone()
    localNotification.soundName = UILocalNotificationDefaultSoundName

    UIApplication.sharedApplication().scheduleLocalNotification(localNotification) 
```

以下是来自[Apple](https://developer.apple.com/library/prerelease/ios/documentation/iPhone/Reference/UILocalNotification_Class/index.html#//apple_ref/occ/instp/UILocalNotification/region)的更多详细信息。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-02-20T23:35:12.180

你需要做两件事：

1.  startMonitoringSignificantLocationChanges 与 CLLocationManager。那是在代码方面。您可能想收听通知，并使用您获得的信息做任何事情。但是，如果应用程序没有运行，除非您执行以下两项操作，否则您将不会获得此信息：
2.  在 Capabilities 中：启用 BackgroundModes 和 Modes：位置更新。这样，我相信即使您的应用从非活动列表中滑落，您也将始终收到通知。

但是，用户仍然可以将其关闭（设置->常规->后台应用刷新）。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2014-11-19T09:52:21.430

您可以在应用程序处于后台时执行此操作。首先..每当应用程序进入后台时调用 CLLocationManager deleagte。每当设备将获得新的纬度和经度.. 这个委托将被解雇。-(void)locationManager:(CLLocationManager *)manager didUpdateLocations:(NSArray *)locations; 现在调用网络服务并更新您的当前位置。然后发送推送通知。

# exception - 使用多个“mule config xmls”的 mule 应用程序的异常策略

> ID：15737447
> 
> 赞同：1
> 
> 时间：2013-04-01T04:01:15.733
> 
> 标签：exception, mule

我有一个关于骡子如何将全局异常策略应用于使用多个配置 XML 文件的应用程序的问题。让我试着解释一下我的困惑。假设我的应用程序中有 4 个 mule 配置 XML（每个 mule 配置 XML 有一个或多个流），并且其中 1 个定义了全局异常策略。其他配置 XML 的流程没有任何自定义异常处理，即它们使用 mule 提供的默认异常策略。

现在的问题是——“当应用程序运行时，如果它遇到异常并且异常发生在 XML 中定义的流中，没有全局异常策略”

此异常是否由 XML 之一中定义的全局异常策略处理？或由包含流的配置 XML 处理。

我的期望是，在特定 XML 文件中定义的全局异常策略将仅处理在该 XML 内的流中发生的异常。

但是，如果你们能对这个主题有更多的了解，我将不胜感激。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-01T16:09:32.167

当 Mule 加载多个 XML 配置文件时，它的行为就好像只有一个，即所有全局定义的元素（转换器、组件、安全管理器和异常策略）都可用于任何地方的所有流。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2017-06-30T08:34:16.507

要在项目中的所有其他配置 XML 文件中使用全局异常策略，请定义一个全局配置。

例如，如果全局异常策略在*'global.xml'*中定义，则在该 xml -> 转到 Global Elements - 添加新*的 'Configuration'*并在下拉列表*'Default exception strategy'*中选择定义的全局异常策略。

# html - 将 HTML5 本地存储数据存储到其他文件

> ID：15737452
> 
> 赞同：2
> 
> 时间：2013-04-01T04:02:03.347
> 
> 标签：html, local-storage

是否可以将 HTML5 本地存储数据存储到其他 .txt 或 .doc 或 excel 文件？

因为，我想将本地存储数据备份到其他文件。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-01T04:06:03.367

您可以使用 HTML5 创建客户端文件。[此链接](http://updates.html5rocks.com/2011/08/Saving-generated-files-on-the-client-side)显示了如何做到这一点。但请注意，并非所有浏览器都支持此功能。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-01T04:11:16.197

如果您的问题是询问是否可以告诉浏览器将本地存储转换为 .txt 或 .doc 文件，答案是否定的。本地存储在浏览器中实现并保留在浏览器中（[由 W3C 定义](http://www.w3.org/TR/webstorage/#dom-localstorage)）。

如果您希望有某种机制将本地存储数据转换为文件系统文件，您可能希望改用[File API](http://dev.w3.org/2009/dap/file-system/pub/FileSystem/#using-localfilesystem)。

# jquery - 使用 parsley.js 异步提交表单

> ID：15737455
> 
> 赞同：9
> 
> 时间：2013-04-01T04:02:37.960
> 
> 标签：jquery, parsley.js

我正在尝试创建一个使用 Parsley.js 验证前端并异步提交的表单。该表单名为#contactForm，提交按钮为#sendData，当我在空或无效表单上点击提交时出现错误。我希望看到来自无效表单数据的“错误”警报，但它只是继续出现 Else 条件，并且数据由 contactForm.php 处理。

* * *

```
$(document).ready(function() { 

    // submit data on click and check if valid 
    $('#sendData').click(function(e) { 
        //check if valid with parsley
        var valid = $('#contactForm').parsley ( 'validate' );
        if ( valid === false )
        {
            e.preventDefault();
        }
        else 
        {
            $.post("contactForm.php", $("#contactForm").serialize());       
        }
    });
}); 
```

* * *

下面的适当解决方案。

* * *

## 回答 #1

> 赞同：41
> 
> 时间：2013-04-01T07:09:46.820

这是您的代码的外观。

```
$(function() { 
    $('#contactForm').submit(function(e) { 
        e.preventDefault();
        if ( $(this).parsley().isValid() ) {
            $.post("contactForm.php", $(this).serialize());       
        }
    });
}); 
```

*   您想捕捉表单提交事件，而不是点击提交按钮。（还有其他提交表单的方法——比如按 Enter 键——不会触发点击，但也必须处理。）
*   您总是希望阻止默认操作。您通过 Ajax 提交表单，因此您实际上永远不想以传统方式提交它。
*   无需`=== false`明确比较。（当表单有效时，Parsley 将返回一个真实值，只需使用它。）
*   `$(document).ready(function() { ...`是`$(function() { ...`。
*   确定一种放置花括号的方法。（JS 中最常见的约定是“不对称”，即`{`在语句开始的那一行。）
*   你的评论是多余的。（他们准确地说出代码所说的内容，因此不需要它们。）

* * *

编辑：在旧版本的 parsely（2.x 之前）中，使用

```
if ( $(this).parsley('validate') ) {
    // ...
} 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2014-06-28T08:29:15.983

这对我有用：

```
<form id="signupform" data-parsley-validate>
    (....)
</form>

<script>
$(function() {
    $('#signupform').parsley().subscribe('parsley:form:validate', function (formInstance) {
        formInstance.submitEvent.preventDefault(); //stops normal form submit
        if (formInstance.isValid() == true) { // check if form valid or not
            //code for ajax event here
            $.post("createuser.php", $(#signupform).serialize());
    }});
});
</script> 
```

是的，它是从 parsleyjs.org 示例中复制的。但它工作正常！

# jquery - 将一个 id 数组输入到 jquery 选择器中

> ID：15737457
> 
> 赞同：2
> 
> 时间：2013-04-01T04:02:44.677
> 
> 标签：jquery, arrays, jquery-selectors

所以我试图将一个数组输入到一个 jquery 选择器中，由于某种原因我根本无法让它工作。我尝试了以下第一种方法：

```
var id = ["#id1", "#id2", "#id3"];
$(id[0]).css('color', '#000'); 
```

我的另一个尝试：

```
var id = [];
for(var x = 0;x < 3; x++){
id[x] = x;
$("#id"+id[0]).css('color', '#000');
} 
```

所以我想知道解决这个问题的方法可能是什么？

我使用它的例子：

```
for(var x = 0;x < 28; x++){
function randomizerlet(){
randlet[x] = Math.floor(Math.random()*156);
timesletrun[x] += 1;
if (masterlet[randlet[x]] == letter[x]){
$('#flipL4_1').css('background-position', masterlet[randlet[x]]);
clearInterval(intervallet[x]);
}
else{
    if(timesletrun[x] == 300){
        masterlet[randlet[x]] = letter[x];
        $('#flipL4_1').css('background-position', masterlet[randlet[x]]);
        clearInterval(intervallet[x]);
        }
    else{
        $('#flipL4_1').css('background-position', masterlet[randlet[x]]);
        }}

        }
var intervallet[x] = setInterval(function() {
 randomizerlet();}, 10);
} 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-04-01T04:03:55.203

将数组元素连接成一个字符串：

```
var id = ["#id1", "#id2", "#id3"];
$(id.join(',')).css('color', '#000'); 
```

或使用循环：

```
for (var i=0; i<id.length; i++) {
    $(id[i]).css(...);
} 
```

或另一种循环：

```
$.each(id, function (i, elt) {
    $(elt).css(...);
}); 
```

或者更花哨的循环：

```
var $elements = $.map(id, function (elt, i) {
    return $(elt);
});
$elements.css(...); 
```

* * *

综上所述，使用通用类而不是 ID 可能会更好。任何时候你认为你需要类似数字的索引，这强烈暗示你最好使用类来代替。

# c++ - 程序不断出现分段错误

> ID：15737461
> 
> 赞同：2
> 
> 时间：2013-04-01T04:03:05.737
> 
> 标签：c++, segmentation-fault, codeblocks

在 CodeBlocks 中对此进行编码，该程序不断出现段错误。有人可以帮忙吗？

```
#include <string>
#include <iostream>
#include <sstream>
#include "include/hugeint.h"

using namespace std;

int main(int argc, char *argv[])
{
    HugeInt h("123");

    return 0;
} 
```

我的 HugeInt 类（相关的），将非常大的整数存储为整数数组

```
class HugeInt
{
public:
    HugeInt(string);
private:
    DynArray dyn;
    //HugeInt& reverse();
    int size;
};

HugeInt::HugeInt(string input)
{
    string digits = input;

    for(unsigned int i = 0; i < digits.length(); i++){
        dyn.add(digits.at(i) - 48);
    }
    size = dyn.size();
} 
```

我的动态数组整数类

```
class DynArray
{
public:
    DynArray();
    ~DynArray();
private:
    int length;
    int *arr;   //points to this array
    int nextIndex;
};

DynArray::DynArray() {
    arr = new int[10];
    for (int i = 0; i < 10; i++)
        arr[i] = 0;
    length = 10;
    nextIndex = 0; }

DynArray::~DynArray()
{
    delete [] arr;
}

int DynArray::size(){
    return nextIndex;
}

void DynArray::add(int val) {
     int *newArr;
     if (nextIndex == length) {
         length = length + 10;
         newArr = new int[length];
         for (int i = 0; i < nextIndex; i++)
            newArr[i] = arr[i];
         for (int j = nextIndex; j < length; j++)
            newArr[j] = 0;
         delete [] arr;
         arr = newArr;
     }
     arr[nextIndex++] = val;
} 
```

编辑：我评论了 delete [] arr; 出来，它仍然段错误：/

Edit2：好的，如果 main 如下，则代码可以工作。谁能解释一下为什么？

```
#include <string>
#include <iostream>
#include <sstream>
#include "include/hugeint.h"

using namespace std;

int main(int argc, char *argv[])
{
    string in = "1234";
    HugeInt h(in);

    return 0;
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-01T04:41:35.673

您发布的代码编译并运行没有错误。

我可以推测问题正在其他地方发生，因为`DynArray`不满足[三规则](http://en.wikipedia.org/wiki/Rule_of_three_%28C++_programming%29)。

目前，如果 a`DynArray`以任何方式被复制，则该副本将包含指向相同 的相同指针`int *arr`。

当该副本被销毁时，所有其他副本使用的数组也是如此。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-01T04:13:03.800

在开始使用 DynArray add() 方法之前，您可能需要在 HugeInt 构造函数中初始化 DynArray。您没有在代码中包含 add 方法，但如果它按照我的想象执行，您可能在使用它之前没有构造 DynArray 对象，因此出现 seg 错误。

# asp.net-mvc-3 - MVC3 多次保存模型

> ID：15737464
> 
> 赞同：0
> 
> 时间：2013-04-01T04:03:37.343
> 
> 标签：asp.net-mvc-3, entity-framework

我需要能够使用 for 循环多次保存同一个模型。我的 Action 有两个参数，InventoryViewModel 电影和 int 数量。如果数量为3，例如，我需要将三个副本保存到数据库中。

在我的控制器中，我有：

```
[HttpPost]
    public ActionResult addInventory(InventoryViewModel movie, int Quantity)
    {
        movie.Inventory.isAvail = true;
        if (ModelState.IsValid)
        {
            for (int i = 0; i < Quantity; i++)
            {
                inventoryRepository.save(movie.Inventory);
                movie = new InventoryViewModel();
            }
            return RedirectToAction("index");
        }
        return View("index", movie);
    } 
```

我认为设置 movie = new InventoryViewModel 会创建电影的新实例，但它不起作用。如果我去掉那条线，它会在将第一个副本添加到数据库后点击 else 语句。CheckoutNum 是表的主键，因此我无法在 for 循环中将其设置为 0。我不记得确切的错误，但它是关于主键无法修改的东西。

存储库：

```
public void save(Inventory movie)
    {
        if (movie.CheckoutNum == 0)
            db.Inventory.Add(movie);
        else
            db.Entry<Inventory>(movie).State = System.Data.EntityState.Modified;

        db.SaveChanges();
    } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-01T04:08:12.807

当您第一次保存您的实体时，它已被标记为“不是新的”。因此，在成功调用时，它将进行更新。您应该做的是`Inventory`在每个循环上创建一个新实例：

```
for (int i = 0; i < Quantity; i++)
{
    var entityToSave = new Inventory();
    // map the property values to save

    inventoryRepository.save(entityToSave);
} 
```

# php - Jquery ajax php只工作一次

> ID：15737470
> 
> 赞同：1
> 
> 时间：2013-04-01T04:04:38.690
> 
> 标签：php, jquery

我有以下 jQuery

```
 $("button#submit").click(function(){
            $.ajax({
                type: "POST",
                url: "process.php",
                data: $('form.contact').serialize(),
              success: function(msg){
                $("#form-content").modal('hide');                     
                $("#thanks").html(msg);
                $("#thanks").delay(2000).fadeOut("slow");
              },
                error: function(){
                    alert("failure");
                }
            });
        }); 
```

和 PHP

```
<?php
    if (isset($_POST['name'])) {
    $name = strip_tags($_POST['name']);
    $email = strip_tags($_POST['Email']);
    $sug = strip_tags($_POST['sug']);

    echo "<span class='label label-info'>Your Website has been submitted .. Thank you</span>";
}?> 
```

这是第一次工作并在我的页面上显示 php echo。但是当我再次提交表单时，它没有显示。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-04-01T04:10:27.280

你的`$("#thanks")`dom 是隐藏的。

```
 $("button#submit").click(function(){
        $.ajax({
            type: "POST",
            url: "process.php",
            data: $('form.contact').serialize(),
          success: function(msg){
            $("#form-content").modal('hide');                     
            $("#thanks").html(msg);
            $("#thanks").show();  <----------------ADD THIS
            $("#thanks").delay(2000).fadeOut("slow");
          },
            error: function(){
                alert("failure");
            }
        });
    }); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-01T04:10:32.620

使用`.on()`.

```
$(document).on('click','button#submit',function(){  }) 
```

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2013-04-01T04:12:40.740

像这样使用

```
$("button#submit").live('click', function(e) {
  $.ajax({
            type: "POST",
            url: "process.php",
            data: $('form.contact').serialize(),
          success: function(msg){
            $("#form-content").modal('hide');                     
            $("#thanks").html(msg);
            $("#thanks").delay(2000).fadeOut("slow");
          },
            error: function(){
                alert("failure");
            }
        });
    }); 
```

在此处检查差异`.live`和`.on` [jQuery .live() 与 .on() 方法，用于在加载动态 html 后添加点击事件](https://stackoverflow.com/questions/8752321/jquery-live-vs-on-method-for-adding-a-click-event-after-loading-dynamic-ht)

# c# - iOS 换网点——Monotouch

> ID：15737474
> 
> 赞同：1
> 
> 时间：2013-04-01T04:05:03.410
> 
> 标签：c#, iphone, ios, xamarin.ios

我创建了标签和文本字段，但我将它们命名为错误的东西。因为我使用 Android 我做了 tv_xxx <-- textview，而不是 tf_xxxx <--textfield...

所以，我所做的是我从头文件和 .m 文件中删除了 IBOutlets。我还从 Designer.cs 文件中删除了它们。

但是，designer.cs 文件不喜欢这样，因为它仍然认为它们仍然存在。

```
this class is not key value coding-compliant for the key tv_xxxx 
```

当我暂时放置：

```
[Outlet]MonoTouch.UIKit.UITextField tf_xxx { get; set; } 
```

它有效......但无论如何我可以做到，所以它不再寻找这个了吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-01T12:09:25.210

在 XCode 中，右键单击您的控制器或查看旧插座所在的位置。

您的所有插座都应该出现一个黑色弹出窗口。您应该在弹出窗口中看到带有警告感叹号的旧的 - 删除它们。

该`key value coding-compliant`错误意味着您在 XIB 或 Storyboard 中定义了一个出口，但在类中没有。

# php - 使用现有 MySQL 数据库重新安装 Joomla 站点

> ID：15737475
> 
> 赞同：0
> 
> 时间：2013-04-01T04:05:03.747
> 
> 标签：php, content-management-system, phpmyadmin, joomla2.5, joomla1.7

我的客户端 joomla 网站是 1.7 版本。现在他们的网站在前端和后端都没有显示任何内容，因为他们配置错误。我可以用现有数据库重新安装这个 joomla 网站吗？重新安装网站可以解决这个问题。请不要否决我的问题，因为我只是 joomla CMS 的初学者。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-01T04:11:17.437

抱歉，您是否要保存数据库以便重新安装 joomla 而无需重新执行所有数据库？

# breeze - 微风不是实体化的实体

> ID：15737479
> 
> 赞同：0
> 
> 时间：2013-04-01T04:05:35.147
> 
> 标签：breeze

我正在使用 NoDb 解决方案，我使用我在此处发生的对话后创建的命令行工具生成我的 POCO 模型的元数据：[https ://stackoverflow.com/a/14904913/178620](https://stackoverflow.com/a/14904913/178620)

即使有了这个元数据，我发现 Breeze 并没有具体*化*加载了简单查询的实体。结果，`typeInitializers`不被执行并且实体属性不是可观察的。

我知道我的设置和元数据是正确的，因为`ko.computed`我在`typeInitializer`函数上定义的属性以前有效。让我解释一下发生了什么变化！

以前，由于我们使用 AutoMapper，我不得不避免`IQueryable`，这导致我使用 jQuery get 来一一加载我的实体。这样实体就不会被具体化，所以我已经公开公开了手动执行此操作的`mergeEntity`功能`entityManager`，瞧（轻描淡写）事情奏效了。

从那时起，我们实现了一个横切模型并消除了 AutoMapper，现在我可以`IQueryable`再次使用，因此可以使用 Breeze 查询。但是，我对为什么我的实体没有按预期工作感到困惑！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-01T18:18:30.573

查看 yourEntityManager.metadataStore.getEntityTypes() 方法返回的 entityTypes，并将其与服务器返回的 json 中嵌入的实体类型名称进行比较。

json 结果中每个实体的 $type 属性用于在 metadataStore 中定位相应的“entityType”。我的猜测是类型名称现在不同，或者您的 ApiController 上缺少 [BreezeController] 属性。此属性确保使用正确的 JSON.NET 序列化设置。

# asp.net-mvc - 哪个连接字符串是正确的？

> ID：15737483
> 
> 赞同：1
> 
> 时间：2013-04-01T04:06:36.683
> 
> 标签：asp.net-mvc, entity-framework, connection-string

我用 mvc 和实体框架编写了一个程序。我的连接字符串有问题。

我的主人说您的连接字符串必须如下所示：

```
Server=sql2005.yourdomain.com,1430;Database=databaseName;Uid=userName;Password=password; 
```

我的程序中的连接字符串是：

```
<add name="sbiEntities" connectionString="metadata=res://*/Models.modelCompany.csdl|res://*/Models.modelCompany.ssdl|res://*/Models.modelCompany.msl;provider=System.Data.SqlClient;provider connection string=&quot;data source=(LocalDB)\v11.0;attachdbfilename=|DataDirectory|\sbi.mdf;integrated security=True;MultipleActiveResultSets=True;App=EntityFramework&quot;" providerName="System.Data.EntityClient" /> 
```

怎么改呢？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-01T07:51:39.347

实体框架具有特殊类型的连接字符串，其中包含 CSDL、SSDL、MSL 和您的原始连接字符串。

概念模式定义语言 (CSDL)：本节描述 EDMX 文件的概念模型。

存储模式定义语言 (SSDL)：本节描述 EDMX 文件的数据库模式模型。

映射规范语言（MSL）：本节用于两个世界（CSDL 和 SSDL）的映射。

EF 实际上是从连接字符串中获取 CSDL、SSDL 和 MSL 文件名。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-01T08:00:02.333

一个 EF 连接字符串由分号 (;) 分隔的几个部分组成。

*   第一部分是模型元数据，它是从您的 edmx 文件自动生成的。

*   第二部分是提供者 EF 应该用来与您的存储进行通信。

*   第三部分是提供者连接字符串，它是您当前的连接字符串（为便于阅读而换行）：

    ...提供者连接字符串=`&quot;`数据源=(LocalDB)\v11.0; attachdbfilename=|数据目录|\sbi.mdf; 集成安全=True;MultipleActiveResultSets=True;App=EntityFramework`&quot;`

    两者之间的文本`&quot;`是您当前的连接字符串，应该被替换。请注意保持 MultipleActiveResultSets=True，并将 App=EntityFramework 切换为反映您的应用程序的应用程序名称，以便于诊断。

# java - 将已在项目中指定为库的 jar 添加到 tomcats 类路径中

> ID：15737490
> 
> 赞同：0
> 
> 时间：2013-04-01T04:07:10.757
> 
> 标签：java, eclipse, tomcat7

当我在 Eclipse 及其构建路径中创建一个 Web 项目时，我添加了 src 文件夹，并在库中添加了 spring3 jar 作为外部库。现在，当我在 tomcat 服务器上部署这个项目（创建了一个单独的服务器项目）时，tomcat 类路径有一些 tomcat jar，为什么不能将项目本身添加到类路径中就足够了？为什么我需要在 tomcats 类路径上的项目 lib 文件夹中添加 jar？它似乎不是循环的，因为该项目已经在库下的构建路径上指定了它的依赖项？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-01T05:00:51.080

问题有一些含糊不清“*因为项目已经在库下的构建路径上指定了它的依赖项？* ”

但我会尝试回答其中的某些部分。

通常服务器按照一定的结构部署应用程序。

例如，WEB-INF 中的 web.xml，或者 WEB-INF 文件夹中的 lib（用于存储 jar 的文件夹）。

这甚至适用于在 Eclipse 类路径中添加 jar 还不够的简单独立项目，您必须在运行 jar 时更新 MANIFEST.MF 或使用 '-cp' arg 更新类路径。

现在我将尝试分部分回答您的问题：

使用eclipse添加外部jar，你会在eclipse项目的.classpath文件中看到修改，该文件只对eclipse有意义，对tomcat服务器没有意义。

添加 jar 有两种方法，但由于您尝试添加没有许可问题的 spring3，您可以将其打包到 WEB-INF/lib 文件夹下的 war 文件中。

或者，如果您不想遵循方法 -1，请使用方法 -2：

[在 Java Web 应用程序中加载外部库](https://stackoverflow.com/questions/13704915/load-external-library-in-java-web-application)

# authentication - 测试登录用户在 Laravel 4 中具有正确的 id

> ID：15737491
> 
> 赞同：6
> 
> 时间：2013-04-01T04:07:18.637
> 
> 标签：authentication, laravel, laravel-4

我正在尝试研究如何测试 Laravel 4 中的登录用户是否可以访问正确的用户帐户。

目前这是我的 routes.php 文件中的内容。

```
Route::get('user/{id}', array('before' => 'auth', function(){
    // logged in user
    // but can visit any account!!
})); 
```

如果这是当前登录的用户 ID，我将如何将其限制为这样 user/1 只能看到配置文件？

```
Auth::user()->id 
```

返回要测试的登录 id，但我不知道如何编写一个过滤器来检查它是否等于 url 中的 {id}。

请帮忙！谢谢。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-04-01T04:53:26.127

通过 Laravel irc 频道获得了一些帮助。

这就是我一直以来的方式。

```
Route::filter('user', function($route, $request)
{
    if( $request->segment(2) != Auth::user()->id)
    {
        return Redirect::to('/login');
    }
}); 
```

然后在我的路线上做。

```
Route::get('user/{id}', array('before' => 'auth|user', 'uses' => 'UsersController@index')); 
```

# c++ - C++：执行一个while循环，直到按下一个键，例如Esc？

> ID：15737495
> 
> 赞同：10
> 
> 时间：2013-04-01T04:08:07.657
> 
> 标签：c++, while-loop, exit, multiplatform, onkeypress

有没有人有一段代码不`windows.h`用于在while循环中检查按键。基本上是这段代码，但不必用`windows.h`它来做。我想在 Linux 和 Windows 上使用它。

```
#include <windows.h>
#include <iostream>

int main()
{
    bool exit = false;

    while(exit == false)
    {
        if (GetAsyncKeyState(VK_ESCAPE))
        {
            exit = true;
        }
        std::cout<<"press esc to exit! "<<std::endl;
    }

    std::cout<<"exited: "<<std::endl;

    return 0;
} 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-04-01T04:26:38.307

```
#include <conio.h>
#include <iostream>

int main()
{
    char c;
    std::cout<<"press esc to exit! "<<std::endl;
    while(true)
    {
        c=getch();
        if (c==27)
          break;
    }

    std::cout<<"exited: "<<std::endl;

    return 0;
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-01T04:14:35.273

```
char c;
while (cin >> c) {
...
} 
```

`ctrl-D`终止上述循环。只要输入一个字符，它就会继续。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-04-01T04:23:00.613

您最好的选择是创建一个自定义的“GetAsyncKeyState”函数，该函数将使用#IFDEF for windows 和 linux 来选择适当的 GetAsyncKeyState() 或等效项。

没有其他方法可以达到预期的结果，cin 方法有其问题 - 例如应用程序必须处于焦点。

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2015-10-11T17:11:35.100

**//最简单的。**

```
 #include <iostream>
    #include <conio.h>

using namespace std;
    int main()
    {

        char ch;
        bool loop=false;

      while(loop==false)
       {
        cout<<"press escape to end loop"<<endl;
        ch=getch();
        if(ch==27)
        loop=true;
       }
        cout<<"loop terminated"<<endl;
        return 0;
    } 
```

* * *

## 回答 #5

> 赞同：-2
> 
> 时间：2016-06-17T18:45:38.433

```
//its not the best but it works

#include <vector>
#define WINVER 0x0500
#include <windows.h>
#include <conio.h>
#include <iostream>

int main()
{
char c;
std::cout<<"press esc to exit! "<<std::endl;
while(true)
{

std::cout<<"executing code! , if code stops press any key to     continue or esc to stop"<<std::endl;

 INPUT ip;

// Set up a generic keyboard event.aa
ip.type = INPUT_KEYBOARD;
ip.ki.wScan = 0; // hardware scan code for key
ip.ki.time = 0;
ip.ki.dwExtraInfo = 0;

int lol =   65; //a key
    // Press the "A" key
ip.ki.wVk = lol; // virtual-key code for the "a" key
ip.ki.dwFlags = 0; // 0 for key press
SendInput(1, &ip, sizeof(INPUT));

// Release the "A" key
ip.ki.dwFlags = KEYEVENTF_KEYUP; // KEYEVENTF_KEYUP for key release
SendInput(1, &ip, sizeof(INPUT));

    c=getch();
    if (c==27)
      break;
  }

std::cout<<"exited: "<<std::endl;
return 0;
} 
```

# python - Python print 语句在连续运行时发生变化

> ID：15737496
> 
> 赞同：0
> 
> 时间：2013-04-01T04:08:12.210
> 
> 标签：python, image, loops

我遇到了以下问题，一些我正在运行的 python 代码。它应该只是遍历一个列表，但它似乎在做一些我真的无法弄清楚的奇怪而微妙的事情。

```
from skimage.io import imread

def addImageData(self):
    for image in self.images:
        print image.signatureId
    for image in self.images:
        print image.signatureId
        imageNumber = str(image.signatureId).zfill(4)
        filePath = self.imageDirectory + imageNumber + ".jpg"
        image.construct(filePath)

def construct(self, filePath):
    self.imageData = imread(filePath, as_grey=True) 
```

imread 来自 skimage.io。addImageData 下的第一个 for 循环完美运行，打印出一系列从 1 到 ~600 的数字。然而，第二个循环，当添加构造方法时，只打印数字 1 直到遇到内存错误。老实说，我不知道是什么原因造成的。想法？

当使用键盘中断时，这是回溯：

```
 File "rbm.py", line 22, in buildImages
    self.addImageData()
  File "rbm.py", line 41, in addImageData
    image.construct(filePath)
  File "rbm.py", line 61, in construct
    self.imageData = imread(filePath, as_grey=True)
  File "/usr/local/lib/python2.7/dist-packages/scikit_image-0.8.2-py2.7-linux-i686.egg/skimage/io/_io.py", line 142, in imread
    img = rgb2grey(img)
  File "/usr/local/lib/python2.7/dist-packages/scikit_image-0.8.2-py2.7-linux-i686.egg/skimage/color/colorconv.py", line 540, in rgb2gray
    return _convert(gray_from_rgb, rgb[:, :, :3])[..., 0]
  File "/usr/local/lib/python2.7/dist-packages/scikit_image-0.8.2-py2.7-linux-i686.egg/skimage/color/colorconv.py", line 339, in _convert
    out = np.dot(matrix, arr) 
```

在下面添加与 self.images 相关的所有代码：

```
class TrainingImages:
    def __init__(self, csvFile = "../train.csv", imageDirectory = "../images/"):
        self.csvFile = csvFile
        self.imageDirectory = imageDirectory
        self.images = []

    def appendCsvLine(self, line):
        '''Assumes the line is from a csv.reader object'''
        signatureId = line[1]
        if len(self.images) <= signatureId:
            newImage = Image(signatureId)
            self.images.append(newImage)
            newImage.append(line)
        else:
            self.images[(signatureId-1)].append(line)

    def buildImages(self):
        with open(self.csvFile, 'rb') as strokeData:
            reader = csv.reader(strokeData, delimiter=",")
            for line in reader:
                self.appendCsvLine(line)
        self.addImageData() 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-02T00:49:49.880

感谢所有的评论家伙，他们对解决这个问题非常有帮助，但是当一切都说完了，这是一个非常奇怪的错误，但我发现了源代码并想分享它。

在函数 appendCsvLine 中，我显然是在将字符串与整数进行比较。csv.reader 类的结果始终是一个字符串，而不管条目中的实际对象如何。我的隐含假设是，如果我做一些像比较字符串和整数 python 那样愚蠢的事情会抛出 valueError。显然情况并非如此。

```
def appendCsvLine(self, line):
    '''Assumes the line is from a csv.reader object'''
    signatureId = int(line[1])
    if len(self.images) <= signatureId:
        newImage = Image(signatureId)
        self.images.append(newImage)
        newImage.append(line)
    else:
        self.images[(signatureId-1)].append(line) 
```

这个令人难以置信的微小更改修复了我的代码，这是一个非常难以追踪和查找的错误。这个问题可能最好通过以下代码片段来解释：

```
>>> "100" > 99999999999999999999999
True 
```

* * *

至于我注意到这个问题的方法，我首先实现了 EOL 的建议，即`print [img.signatureID for img in self.images]`在我的代码中添加该行。我发现它打印出一个长数组，其中有大量的 1，然后是大量的 2，然后是大量的 3，等等。

然后我开始查看实际构建图像的代码段，并将简单的打印行放在 appendCsvLine 函数的 if 和 else 下。我意识到程序永远不会到达 else 语句，并且从那里我测试了 if 语句的输出，然后意识到将 signatureId 显式转换为整数可以解决问题。然后在使用 csvl.reader 在 shell 中运行一些测试并在 python 中比较字符串和整数之后，我意识到我的错误。

# regex - 通过雅虎管道的正则表达式匹配字符串中的第一个 URL

> ID：15737500
> 
> 赞同：0
> 
> 时间：2013-04-01T04:08:32.427
> 
> 标签：regex, yahoo-pipes

我正在使用 Yahoo Pipes 并尝试操作来自 RSS 提要的链接。Feed 的 URL 格式如下：

```
http://domainone.com?blahblahblah?url=http://otherdomain.com/the_rest_of_the_link 
```

使用管道正则表达式模块，我想搜索字符串中的第二个链接并删除第一个。结果字符串将是：“ [http://otherdomain.com/the_rest_of_the_link](http://otherdomain.com/the_rest_of_the_link) ”到该行的末尾。

谢谢你。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-01T13:40:03.047

从[文档](http://pipes.yahoo.com/pipes/docs?doc=operators#Regex)中： ![在此处输入图像描述](https://i.stack.imgur.com/0ZK1J.png)

您可以根据需要使用此**正则表达式**：

`(http:\/\/.*){2}`

在这里查看：[http ://rubular.com/r/zRZOLX5j54](http://rubular.com/r/zRZOLX5j54)

# objective-c - 将十六进制字符串转换为无符号字符[]

> ID：15737501
> 
> 赞同：1
> 
> 时间：2013-04-01T04:08:45.937
> 
> 标签：objective-c, hex, unsigned-char

我问这个问题主要是因为我在这个网站上搜索了可能的解决方案，但没有一个能达到我希望的效果。

我想将此十六进制字符串转换为无符号字符 []。

`NSString *text = @"0043600001";`进入 `unsigned char dataSmall[] = {0x00, 0x43, 0x60, 0x00, 0x01}`

我需要十六进制表示**0x##**因为我发送的主机只接受消息`hexadecimal format`。我说得对吗，我也需要`NSScanner`执行这些步骤来分隔 2 个字符？真的很迷茫，对我需要做什么感到困惑。

这是连接并将十六进制消息发送到主机的步骤：

```
unsigned char dataSmall[] = {0x00, 0x43, 0x60, 0x00, 0x01}
NSData *data = [NSData dataWithBytes:dataSmall length:sizeof(dataSmall)]; 
```

PS，我不知道这`NSData`部分，但是当我使用 NSData 行向主机发送十六进制消息时，它似乎可以工作。所以我保持原样。目前，`dataSmall[]`是硬编码的，我想知道如何动态处理它。非常感谢这里的所有帮助。

**编辑 1** 啊，我错过了一个重要信息。十六进制数据`ISO8583`本身就是一条消息。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-01T04:12:55.773

```
NSScanner *scan = [[NSScanner alloc] initWithString:@"1F61E"];
unsigned int val;
[scan scanHexInt:&val];
char cc[4];
cc[3] = (val >> 0) & 0xFF;
cc[2] = (val >> 8) & 0xFF;
cc[1] = (val >> 16) & 0xFF;
cc[0] = (val >> 24) & 0xFF;
NSString *s = [[NSString alloc]
               initWithBytes:cc
               length:4
               encoding:NSUTF32StringEncoding];
NSLog(@"[%@]", s); 
```

# linux - 为什么在“else”之前出现这个“语法错误”？

> ID：15737503
> 
> 赞同：1
> 
> 时间：2013-04-01T04:09:05.647
> 
> 标签：linux, bash, shell, size, unzip

我正在编写一个 shell 脚本来解压缩目录中的文件。不同的zip文件中存在同名文件；代码必须保留较大的代码。

我需要解压缩 /test 目录中的文件。有数千个 zip 文件，我没有空间同时解压缩它们。因此，我创建了一个文件夹 /test/tmp 并将一个 zip 文件解压缩到该文件夹​​中。然后比较 /test 和 /test/tmp 文件夹中的文件。如果有重复文件，比较它们的大小并将较大的文件保留在 /test 中。如果没有重复，请将文件从 /test/tmp 移动到 /tmp。

这是我的代码：

```
#!/bin/bash
A="/test"
B="/test/tmp"
archives=$(ls $A *.zip 2>/dev/null)
for archive in "${archives}"  
do
    mkdir -p "${B}" && unzip "${archive}" -d $B
    for file_tmp in 'ls $B *.log 2>/dev/null'
    do
        file_root="${A}${file_tmp}"
        if [-f "${file_root}"] then
            if [[$(stat -c %s "${file_tmp}") -ge $(stat -c %s "${file_root}")]]
            then mv "${file_tmp}" "${file_root}"
            else rm "${file_tmp}"
            fi 
        else mv "${file_tmp}" $A
        fi
    done
done 
```

但我不断收到错误

```
unziptest.sh: line 16: syntax error near unexpected token `else'
unziptest.sh: line 16: `            else mv "${file_tmp}" $A' 
```

怎么了？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-01T04:16:27.010

如果您要使用单行，则：

```
if [-f "${file_root}"] then 
```

之前必须有一个分号`then`：

```
if [ -f "${file_root}" ]; then 
```

您还需要命令名称周围的空格`[`，以及命令的最后一个参数之前的`]`空格`[`。如果您使用该`[[`符号，那么间距就不那么重要了。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-01T05:19:49.150

改变 `if [-f "${file_root}"] then`

到

```
if [-f "${file_root}"]
then 
```

或者

```
if [-f "${file_root}"] ; then 
```

# amazon-web-services - 在 AWS 中设置弹性负载均衡器

> ID：15737504
> 
> 赞同：1
> 
> 时间：2013-04-01T04:09:08.510
> 
> 标签：amazon-web-services, amazon-ec2

我正在尝试在我的 AWS 托管网站中设置 ELB。我认为对于 ELB，必须存在两个实例以进行负载平衡，然后将负载平衡器应用于它们。

我已经有一个 EC2 实例正在运行，并且想要创建另一个实例。我是 ELB 概念的新手，所以我很困惑如何启动第二个实例？

我是否应该启动具有与前一个实例相同的 EBS 卷的实例？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-01T05:55:20.283

拉贾特

ELB 在可用区域之间平均转移流量，假设在新加坡区域，有 2 个可用区域，所以 ELB 在两个区域之间平均转移您的流量。因此，您需要在两台服务器上维护**相同数量**的**相同服务器**，以便您的流量可以保持相同，并避免一台机器上的额外负载。每个区域上的两台服务器必须具有相同的实例类型才能正确处理负载。希望它能解答你的疑惑。

# asp.net - 用于页面请求的 ASP.NET MVC 4.0 GobalFilter

> ID：15737505
> 
> 赞同：1
> 
> 时间：2013-04-01T04:09:36.260
> 
> 标签：asp.net, asp.net-mvc, asp.net-mvc-4, asp.net-mvc-routing, action-filter

我想在我的 ASP.NET MVC 4.0 网站中捕获网站流量。我已经做到了

**我的基本控制器：**

```
 public class BlogActionFilterAttribute : ActionFilterAttribute
        {
            public override void OnResultExecuting(ResultExecutingContext filterContext)
            {
                base.OnResultExecuting(filterContext);
                BaseModels.StoreSessionData(filterContext);
            }
        } 
```

**全球.ASAX：**

```
protected void Application_Start()
        {

            // Register global filter
            GlobalFilters.Filters.Add(new BaseController.SiteActionFilterAttribute());
} 
```

到目前为止，一切都很好。

如果我的操作视图有任何渲染操作或操作助手，那么我的会话事件正在我的数据库中存储另一条新记录，这是因为我的全局过滤器是针对**`ActionFilterAttribute`**.

如果一个页面请求有多个操作，那么我的会话事件将捕获所有这些操作作为事件。

如何限制我的过滤器在每页请求上工作，而不是在操作及其子操作上工作？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-01T04:26:36.103

如果我正确理解你，你想限制你 StoreSessionData 的操作类型。我假设您要限制的一种类型是 ChildActions。如果是这样，这就是你将如何做到这一点”

```
 public class BlogActionFilterAttribute : ActionFilterAttribute
        {
            public override void OnResultExecuting(ResultExecutingContext filterContext)
            {
                base.OnResultExecuting(filterContext);
                if (!filterContext.IsChildAction)
                    BaseModels.StoreSessionData(filterContext);
            }
        } 
```

# javascript - 如何为幻灯片制作图像的 div href

> ID：15737511
> 
> 赞同：0
> 
> 时间：2013-04-01T04:10:45.967
> 
> 标签：javascript, jquery, html, css, slideshow

我正在尝试让我的幻灯片的文本 div 将其作为链接引用到活动背景中，但我似乎无法完成它。

我想要得到的是每次加载第一个文本块时都必须有一个背景表示它是活动的，当您单击文本块上的文本时，它将变为活动状态并通过单击标题（h1s）访问内容.

我会感谢你的帮助。

[http://jsfiddle.net/EDc8M/1/](http://jsfiddle.net/EDc8M/1/)

HTML：

```
<div id="sShow">
        <div id="sShowGallery">
            <ul>
                <li id="sld1"><a href="#article1"><img src="resource/images/sShow/img_news1.png" alt="img1" width="510" height="240"></a></li>
                <li id="sld2"><a href="#article2"><img src="resource/images/sShow/img_news2.jpg" alt="img2" width="510" height="240"></a></li>
                <li id="sld3"><a href="#article3"><img src="resource/images/sShow/img_news1.png" alt="img3" width="510" height="240"></a></li>
            </ul>
        </div>
        <div id="sShow_nav">
            <div class="sShow_bg">
                <a href="#article1"><h1>30 Characters max title 1</h1></a>
                <a href="#sld1"><p>Donec nisi velit, posuere sit amet bibendum at, hendrent rhoncus nunc. Aenean leo purus.</p></a>
            </div>
            <div class="sShow_bg">
                <a href="#article2"><h1>30 Characters max title 2</h1></a>
                <a href="#sld2"><p>Donec nisi velit, posuere sit amet bibendum at, hendrent rhoncus nunc. Aenean leo purus.</p></a>
            </div>
            <div class="sShow_bg">
                <a href="#article3"><h1>30 Characters max title 3</h1></a>
                <a href="#sld3"><p>Donec nisi velit, posuere sit amet bibendum at, hendrent rhoncus nunc. Aenean leo purus.</p></a>
            </div>
        </div>
    </div> 
```

脚本：

```
$(document).ready(function(){
    $("#sShowGallery").css("overflow", "hidden");
    $(".sShow_bg").css("visibility", "visible");
    $(".sShow_bg a[href=#sld1]").addClass("ss_active");

    $("#sShow_nav").localScroll({
        target:'#sShowGallery', axis: 'x'
    });

    $(".sShow_bg a").click(function(){
        $(".sShow_bg a").removeClass("ss_active");
        $(this).addClass("ss_active");
    });
}); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-01T05:10:04.690

无需`anchors`在`div`元素中使用两个。

**html**

```
<div class="sShow_bg">
    <a href="#sld1"><h1>This is a title</h1>
    <p>Lorem ipsum dolar sit amet</p></a>
</div> 
```

**css**

```
.sShow_bg a {
    display: block;
    /* other code here */
}
.ss_active {
    background-color: orange;
    color: #FFFFFF;
} 
```

**javascript**

```
$(document).ready(function(){
    $("#sShowGallery").css("overflow", "hidden");
    $(".sShow_bg").css("visibility", "visible");
    $(".sShow_bg a[href=#sld1]").addClass("ss_active");

    $("#sShow_nav").localScroll({
        target:'#sShowGallery', axis: 'x'
    });

    $(".sShow_bg a").click(function(){
        $(".sShow_bg a").removeClass("ss_active");
        $(this).addClass("ss_active");
    });
}); 
```

这将使您的盒子成为一个用户友好的大按钮。除非您回复我在上面留下的评论，否则我假设您*不想*默认隐藏这些段落。话虽如此，没有必要为您的操作设置两个单独的锚点，因为这会使用户感到困惑——他们可能习惯于单击一次以移动轮播。

# 3d - 四元数乘法的几何意义是什么？

> ID：15737519
> 
> 赞同：1
> 
> 时间：2013-04-01T04:11:49.580
> 
> 标签：3d, directx, quaternions

我目前正在编写一个 Arcball（用于模型视图相机），我正在研究 MS DXUT 代码，他们有一个 Arcball 实现如下

```
#include "ArcBall.h"

ArcBall::ArcBall(void)
{
        Reset() ;
        m_vDownPt = D3DXVECTOR3( 0, 0, 0 ) ;
        m_vCurrentPt = D3DXVECTOR3( 0, 0, 0 ) ;
        m_Offset.x = 0 ;
        m_Offset.y = 0 ;
}

ArcBall::~ArcBall(void)
{
}

void ArcBall::Reset()
{
        D3DXQuaternionIdentity( &m_qDown );
        D3DXQuaternionIdentity( &m_qNow );
        D3DXMatrixIdentity( &m_mRotation );
        m_bDrag = FALSE;
        m_fRadius = 1.0f;

        RECT rc ;
        GetClientRect(GetForegroundWindow(), &rc) ;
        SetWindow(rc.right, rc.bottom) ;
}

void ArcBall::OnBegin(int nX, int nY)
{
        // enter drag state only if user click the window's client area
        if( nX >= m_Offset.x && 
                nX <= m_Offset.x + m_nWidth &&
                nY >= m_Offset.y &&
                nY < m_Offset.y + m_nHeight )
        {
                m_bDrag = true ; // begin drag state
                m_qDown = m_qNow ;
                m_vDownPt = ScreenToVector((float)nX, (float)nY) ;
        }
}

void ArcBall::OnMove(int nX, int nY)
{
        if(m_bDrag)
        {
                m_vCurrentPt = ScreenToVector((float)nX, (float)nY) ;
                m_qNow = m_qDown * QuatFromBallPoints( m_vDownPt, m_vCurrentPt ) ;
        }
}

void ArcBall::OnEnd()
{
        m_bDrag = false ;
}

void ArcBall::SetOffset( INT nX, INT nY )
{
        m_Offset.x = nX ; 
        m_Offset.y = nY ;
}

void ArcBall::SetWindow( int nWidth, int nHeight, float fRadius)
{
         m_nWidth = nWidth; 
         m_nHeight = nHeight; 
         m_fRadius = fRadius; 
         m_vCenter = D3DXVECTOR2(m_nWidth / 2.0f, m_nHeight / 2.0f);
}

const D3DXMATRIX* ArcBall::GetRotationMatrix()
{
        return D3DXMatrixRotationQuaternion(&m_mRotation, &m_qNow) ;
}

D3DXQUATERNION ArcBall::QuatFromBallPoints(const D3DXVECTOR3 &vFrom, const D3DXVECTOR3 &vTo)
{
        D3DXVECTOR3 vPart;
        float fDot = D3DXVec3Dot( &vFrom, &vTo );       // rotation angle
        D3DXVec3Cross( &vPart, &vFrom, &vTo );          // rotation axis

        return D3DXQUATERNION( vPart.x, vPart.y, vPart.z, fDot );
}

D3DXVECTOR3 ArcBall::ScreenToVector(float fScreenPtX, float fScreenPtY)
{
        // Scale to screen
        // xÖµÎª¸º£¬ÊÇÒòÎªDirectXÊ¹ÓÃ×óÊÖÏµ
        FLOAT x = -( fScreenPtX - m_Offset.x - m_nWidth / 2 ) / ( m_fRadius * m_nWidth / 2 );
        FLOAT y = ( fScreenPtY - m_Offset.y - m_nHeight / 2 ) / ( m_fRadius * m_nHeight / 2 );

        FLOAT z = 0.0f;
        FLOAT mag = x * x + y * y;

        if( mag > 1.0f )
        {
                FLOAT scale = 1.0f / sqrtf( mag );
                x *= scale;
                y *= scale;
        }
        else
                z = sqrtf( 1.0f - mag );

        // Return vector
        return D3DXVECTOR3( x, y, z );
} 
```

在函数 Move 中，我们可以看到两个四元数的乘法

```
m_qNow = m_qDown * QuatFromBallPoints( m_vDownPt, m_vCurrentPt ) ; 
```

函数 QuatFromBallPoints 根据两个点计算四元数。我想知道产品是什么意思？

代码说明：轨迹球在用户拖动鼠标时起作用，当鼠标按钮按下时（假设是左键），调用了 OnBegin 函数。当鼠标按钮向上时，调用 OnEnd 函数，当用户拖动鼠标时，调用 OnMove 函数。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-03T15:10:14.543

乘法意味着旋转的组合。返回映射到`QuatFromBallPoints`的旋转。这个新的旋转必须与轨迹球的当前旋转（开始拖动时的旋转）相结合。`m_vDownPt``m_vCurrentPt`

# ios - 具有 facebook 集成和多个帐户的 ios 应用程序

> ID：15737520
> 
> 赞同：1
> 
> 时间：2013-04-01T04:12:21.780
> 
> 标签：ios, facebook, cocoa-touch, accounts

我正在制作一个与 iOS 5 兼容的应用程序，所以我不会使用内置的苹果框架。我希望我的应用程序能够发布到多个 Facebook 帐户（包括页面），类似于旧的 facebook ios 应用程序在您可以选择要登录的帐户时的工作方式。任何人都可以给我一些指示，因为即使在 Facebook 开发中心花费了很多时间之后，这似乎也不那么明显。

# c# - 和地址掩码（需要低位）C#

> ID：15737524
> 
> 赞同：2
> 
> 时间：2013-04-01T04:12:41.597
> 
> 标签：c#

所以我知道我可以将 0xFFFFFFFF 的掩码移位 8 位，例如获得 0xFFFFFF00 和它的地址并获取除最后 8 位之外的所有内容，但我想换一种方式，这样我就可以抓住带有 0x000000FF 之类的掩码的地址，但是右移显然不起作用。有任何想法吗？

这是我提到的第一种位移的代码。

```
public int Block_tag(int address, int block_size, int max_address)
    {
        int bit_shift = (int)Math.Log(block_size, 2);
        int bit_mask = max_address << bit_shift;
        return (address & bit_mask);
    } 
```

我可以用大约 12 个“If”语句手动完成，但这不是很干净。

谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-01T04:18:00.870

要简单地反转掩码，请使用[`~`](http://msdn.microsoft.com/en-us/library/d2bd4x66.aspx)运算符

```
int not_mask = ~bit_mask; 
```

例如，`~0xFFFFFF00 == 0x000000FF`。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-01T04:28:45.457

您可以将其右移`(32 - number of mask bits you need)`。因此，如果您需要低 8 位，您可以按位右移`(32-8 = 24)`。

# static-libraries - Automake 不包括内置静态库中的目标文件

> ID：15737526
> 
> 赞同：0
> 
> 时间：2013-04-01T04:12:51.397
> 
> 标签：static-libraries, autoconf, automake

我目前有一个包含多个应用程序的大型项目，并且正在尝试与我的一个应用程序一起构建一个静态库，以包含在其他几个应用程序中。

我按照[http://www.gnu.org/software/automake/manual/html_node/A-Library.html](http://www.gnu.org/software/automake/manual/html_node/A-Library.html)提供的教程进行了操作，并设置了适当的 Makefile.am，如下所示：

```
include Makefile.shared

noinst_LIBRARIES = libas2transition.a
bin_PROGRAMS = as2transition

BUILT_SOURCES = \
    TransitionFormatter.cpp

libas2transition_a_SOURCES =
    TransitionFormatter.re2c \
    TransitionPath.cpp \
    Timestep.cpp \
    Predicate.cpp \
    StringUtils.cpp

as2transition_SOURCES = \
    main.cpp

as2transition_LDADD = libas2transition.a 
```

Makefile.shared 包含我所有子项目的共享配置，并包含：

```
if DEBUG
AM_CFLAGS = -g3 -O0 -DDEBUG
AM_CXXFLAGS = -g3 -O0 -DDEBUG --std=c++0x
else
AM_CFLAGS = -O3 -DNDEBUG
AM_CXXFLAGS = -O3 -DNDEBUG --std=c++0x
endif

if MAINTAINER_MODE
if HAVE_RE2C
.re2c.cpp:
    $(RE2C) -o $@ $^
else
.re2c.cpp:
    @- echo "ERROR: Configured to build in maintainer mode but re2c is not installed on the computer."
    @- echo "ERROR: Modified re2c files cannot be compiled into the corresponding .cpp file."
    @- echo "ERROR: Please install re2c before continuing."
    @- exit 1
endif
else
.re2c.cpp:
    @- echo "WARNING: The system must be configured to build in maintainer mode in order to rebuild re2c files."
    @- echo "WARNING: These files will not be rebuilt unless you rerun the configure script with the '--enable-maintainer-mode' flag."
endif 
```

据我所知，一切都已正确设置，首先构建静态库 libas2transition.a，然后编译针对它的二进制链接。但是，当我尝试运行 make 时，会得到以下输出（请注意，这是 make clean 后的全新构建）。

```
make  all-am
make[1]: Entering directory `/home/jbabb1/workspace/as2transition/src'
rm -f libas2transition.a
ar cru libas2transition.a
ranlib libas2transition.a
g++ -DHAVE_CONFIG_H -I. -I..    -O3 -DNDEBUG --std=c++0x -g -O2 -MT main.o -MD -MP -MF .deps/main.Tpo -c -o main.o main.cpp
mv -f .deps/main.Tpo .deps/main.Po
g++ -O3 -DNDEBUG --std=c++0x -g -O2   -o as2transition main.o libas2transition.a
main.o: In function `as2transition::TransitionFormatter::format(std::basic_istream<char, std::char_traits<char> >&, std::basic_ostream<char, std::char_traits<char> >&, bool) const':
/home/jbabb1/workspace/as2transition/src/TransitionFormatter.h:123: undefined reference to `as2transition::TransitionFormatter::format(std::basic_istream<char, std::char_traits<char> >&, bool) const'
/home/jbabb1/workspace/as2transition/src/TransitionFormatter.h:124: undefined reference to `as2transition::TransitionPath::output(std::basic_ostream<char, std::char_traits<char> >&) const'
main.o: In function `main':
/home/jbabb1/workspace/as2transition/src/main.cpp:136: undefined reference to `as2transition::TransitionFormatter::parseOption(char const*, bool)'
/home/jbabb1/workspace/as2transition/src/main.cpp:193: undefined reference to `as2transition::TransitionFormatter::help(std::basic_ostream<char, std::char_traits<char> >&, bool)'
collect2: ld returned 1 exit status
make[1]: *** [as2transition] Error 1
make[1]: Leaving directory `/home/jbabb1/workspace/as2transition/src'
make: *** [all] Error 2 
```

重要的线条似乎是

```
rm -f libas2transition.a
ar cru libas2transition.a
ranlib libas2transition.a 
```

这似乎表明 Automake 没有将任何目标文件附加到构建的库（编译后 libas2transition.a 的文件大小为 8 个字节进一步证实了这一点）。

我究竟做错了什么？

同样作为后续问题，我如何使该库可用于更大构建中的其他项目（使用嵌套的 configure.ac 文件）。

谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-02T00:19:10.410

这是你的问题：

```
libas2transition_a_SOURCES = # <-- You forgot a '\'
    TransitionFormatter.re2c \
    TransitionPath.cpp \
    Timestep.cpp \
    Predicate.cpp \
    StringUtils.cpp 
```

这意味着 automake 看到了一个空的来源列表。

# java - 如何在谷歌地图中绘制所有路线

> ID：15737529
> 
> 赞同：1
> 
> 时间：2013-04-01T04:13:06.820
> 
> 标签：java, javascript, android, google-maps, latitude-longitude

我在 android 中制作了一个应用程序，用于跟踪车辆并使用 JavaScript 在 Web 浏览器中可视化移动。移动时 android 应用程序将新的纬度和经度插入数据库中，而另一侧则由 Web 应用程序使用以显示在线跟踪。

不知何故，我为一辆车做到了。

但是假设有五辆车，那么我们如何在谷歌地图中显示所有五辆在线跟踪

谁能告诉我该怎么做..

我的代码如下

**地图.jsp**

```
<html>
   <head>
   <meta http-equiv="content-type" content="text/html; charset=utf-8"/>
   <style type="text/css">
   body { font: normal 10pt Helvetica, Arial; }
    #map { width: 100%; height: 100%; border: 0px; padding: 0px; }
   </style>

   <script type="text/javascript" src="http://maps.google.com/maps/api/js?v=3&sensor=false"></script>
   <script type="text/javascript" src="http://code.jquery.com/jquery-1.8.3.js"></script>
   <script type="text/javascript">

   var icon = new google.maps.MarkerImage("http://maps.google.com/mapfiles/ms/micons/blue.png");
   var center = null;
   var map = null;
   var currentPopup;
   var bounds = new google.maps.LatLngBounds();
   var markLAT,markLNG;
   var marker;

function moveMarker( map, marker, lat, lon) {

    marker.setPosition( new google.maps.LatLng( lat, lon ) );
    map.panTo( new google.maps.LatLng( lat, lon ) );

};

  function addMarker(lat, lng, info)
 { 
   var pt = new google.maps.LatLng(lat, lng);
   map.setCenter(pt);
   map.setZoom(17);
bounds.extend(pt);
marker = new google.maps.Marker(
{
    position: pt,
    icon: icon,
    map: map
});

var popup = new google.maps.InfoWindow(
{
    content: "Driver: Manu",
    maxWidth: 300
});

google.maps.event.addListener(marker, "click", function()
{
    if (currentPopup != null)
    {
        currentPopup.close();
        currentPopup = null;
    }
    popup.open(map, marker);
    currentPopup = popup;
   });
    google.maps.event.addListener(popup, "closeclick", function()
   {
    //map.panTo(center);
    //currentPopup = null;
   });
   }

function initMap()
{
 map = new google.maps.Map(document.getElementById("map"), {
center: new google.maps.LatLng(10.013566, 76.331549),
zoom: 17,
mapTypeId: google.maps.MapTypeId.ROADMAP,
mapTypeControl: false,
mapTypeControlOptions:
{
   style: google.maps.MapTypeControlStyle.DROPDOWN_MENU
},
navigationControl: true,
navigationControlOptions:
{
style: google.maps.NavigationControlStyle.SMALL
 }
 });

routePoints = [];
  $.getJSON('Coordinates', function(items)
  {

   for (var i = 0; i < items.length; i++) {
      (function(item) {
          if(i==items.length-1)
        addMarker(item.lat, item.lng,  item.lng);
        markLAT=items[i].lat;
        markLNG=items[i].lng;
    })(items[i]);
    routePoints.push(new google.maps.LatLng(items[i].lat,items[i].lng));
   }
   var route= new google.maps.Polyline({
    path: routePoints,
    strokeColor: '#FF0000',
    strokeOpacity: 2.0,
    strokeWeight: 5,
    editable: false
  });

  route.setMap(map);

  });

 center = bounds.getCenter();
 //map.fitBounds(bounds);

   }

 var auto_refresh = setInterval(
function ()
{
    $.getJSON('Updates', function(items)
  {

if(markLAT!=items[0].lat&&markLNG!=items[0].lng)
    {

    routePoints.push(new google.maps.LatLng(items[0].lat,items[0].lng));
    var route= new google.maps.Polyline({
    path: routePoints,
    strokeColor: '#FF0000',
    strokeOpacity: 2.0,
    strokeWeight: 5,
    editable: false
  });

  route.setMap(map);  
  //removeMarker(markLAT,markLNG);
  moveMarker(map,marker,items[0].lat,items[0].lng);
     markLAT=items[0].lat;
     markLNG=items[0].lng;        
    }
  });
//$('#load').load('index1.jsp').fadeIn("slow");
}, 1000); // refresh every 10000 milliseconds

   </script>
   <script  type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.3.0/jquery.min.js"></script>
<script type="text/javascript">

</script>

    </head>
   <body onload="initMap()" style="margin:0px; border:0px; padding:0px;">
       <div id="load"> </div>
   <div id="map"></div>

    </html> 
```

**两个 Servlet 类 Coordinates.java、Updates.java**

**坐标.java**

```
package model;

import com.google.gson.Gson;
import java.io.IOException;
import java.io.PrintWriter;
import java.sql.*;
import java.util.ArrayList;
import java.util.LinkedHashMap;
import java.util.Map;
import java.util.logging.Level;
import java.util.logging.Logger;
import javax.servlet.ServletException;
import javax.servlet.http.HttpServlet;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;

public class Coordinates extends HttpServlet {
    protected void processRequest(HttpServletRequest request, HttpServletResponse response)
            throws ServletException, IOException, ClassNotFoundException, SQLException {
        response.setContentType("text/html;charset=UTF-8");
        PrintWriter out = response.getWriter();
        try {
             Connection connection;
             Class.forName("com.mysql.jdbc.Driver");
             String url="jdbc:mysql://144.76.19.105/iload?user=nidhish123&password=nidhish123";
             connection=DriverManager.getConnection(url);
             Statement statement = connection.createStatement();
             ResultSet set = statement.executeQuery("SELECT lat, lng from latng");
             ArrayList ar=new ArrayList();

             while(set.next())
             {
             Map<String, String> options = new LinkedHashMap<String, String>();
             options.put("lat", set.getString(1));
             options.put("lng", set.getString(2));
             ar.add(options);
             }
             String json = new Gson().toJson(ar); 
             response.setContentType("application/json");
             response.setCharacterEncoding("UTF-8");
             response.getWriter().write(json);
        } finally {            
            out.close();
        }
    }

    @Override
    protected void doGet(HttpServletRequest request, HttpServletResponse response)
            throws ServletException, IOException {
        try {
            processRequest(request, response);
        } catch (ClassNotFoundException ex) {
            Logger.getLogger(Coordinates.class.getName()).log(Level.SEVERE, null, ex);
        } catch (SQLException ex) {
            Logger.getLogger(Coordinates.class.getName()).log(Level.SEVERE, null, ex);
        }
    }

    @Override
    protected void doPost(HttpServletRequest request, HttpServletResponse response)
            throws ServletException, IOException {
        try {
            processRequest(request, response);
        } catch (ClassNotFoundException ex) {
            Logger.getLogger(Coordinates.class.getName()).log(Level.SEVERE, null, ex);
        } catch (SQLException ex) {
            Logger.getLogger(Coordinates.class.getName()).log(Level.SEVERE, null, ex);
        }
    }

    @Override
    public String getServletInfo() {
        return "Short description";
    }// </editor-fold>
} 
```

**更新.java**

```
package model;

import com.google.gson.Gson;
import java.io.IOException;
import java.io.PrintWriter;
import java.sql.Connection;
import java.sql.DriverManager;
import java.sql.ResultSet;
import java.sql.Statement;
import java.util.ArrayList;
import java.util.LinkedHashMap;
import java.util.Map;
import javax.servlet.ServletException;
import javax.servlet.http.HttpServlet;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;
public class Updates extends HttpServlet {
    protected void processRequest(HttpServletRequest request, HttpServletResponse response)
            throws ServletException, IOException {
        response.setContentType("text/html;charset=UTF-8");
        PrintWriter out = response.getWriter();
        try {
             ArrayList ar=new ArrayList();
             boolean foundResults = false;
             ResultSet set = null;
             Statement statement = null;         
             String lat=null;
             String lng=null;
                    int count=0;
                        try 
                        {
                            Class.forName("com.mysql.jdbc.Driver");
                            Connection conn=DriverManager.getConnection("jdbc:mysql://144.76.19.105/iload", "nidhish123", "nidhish123");
                            statement = conn.createStatement();
                            set = statement.executeQuery("SELECT lat,lng FROM latng ORDER BY id DESC LIMIT 1");
                            while(set.next())
                            {
                                Map<String, String> options = new LinkedHashMap<String, String>();
                                options.put("lat", set.getString(1));
                                options.put("lng", set.getString(2));
                                ar.add(options);
                            }
                            conn.close(); 
                            String json = new Gson().toJson(ar); 
                            response.setContentType("application/json");
                            response.setCharacterEncoding("UTF-8");
                            response.getWriter().write(json);
                        }
                        catch(Exception e)
                        {
                            out.print(e);
                        }
        }catch(Exception s){
            System.out.println("ERROR!!!");
            s.printStackTrace();
        }
         finally {            
            out.close();
        }
    }

    @Override
    protected void doGet(HttpServletRequest request, HttpServletResponse response)
            throws ServletException, IOException {
        processRequest(request, response);
    }

    @Override
    protected void doPost(HttpServletRequest request, HttpServletResponse response)
            throws ServletException, IOException {
        processRequest(request, response);
    }

    @Override
    public String getServletInfo() {
        return "Short description";
    }// </editor-fold>
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-06-18T07:54:04.507

您可以将每个导航路径保存为[Polyline](https://developers.google.com/maps/documentation/javascript/reference?hl=zh-cn#Polyline)，然后通过调用将它们全部渲染为循环`Polyline.setVisible(true)`

# asp.net-mvc-3 - 在 MVC3 Razor 中显示带有样式的数据

> ID：15737532
> 
> 赞同：0
> 
> 时间：2013-04-01T04:13:36.227
> 
> 标签：asp.net-mvc-3, razor

我将从富文本编辑器输入的数据作为 html 字符串存储到数据库，并在 MVC3 Razor 中设置字体。例如：**大胆的红色**

在另一个页面中，我必须将这些信息与样式一起显示回来。我试图将其显示为

```
<label id="lblDisplay" >@Html.Raw(@Model.IncidentDescription)</label> 
```

哪里`@model.IncidentDescription`有价值 `<strong><span style="color:#ff0000">Bold Red</span></strong>`。但它只显示没有样式设置的“Bold Red”。如何让我的样式设置显示在 .cshtml 页面中？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-01T06:44:53.907

请尝试以下方法：

```
<label id="lblDisplay">
 @Html.Raw(HttpUtility.HtmlDecode(@Model.IncidentDescription))</label> 
```

[参考](https://stackoverflow.com/questions/9556008/html-raw-is-not-working-asp-net-mvc)

# loops - Python用for循环计算核苷酸

> ID：15737534
> 
> 赞同：0
> 
> 时间：2013-04-01T04:14:01.447
> 
> 标签：loops, count, dna-sequence

我正在尝试从输入文件中获取 DNA 序列，并使用循环计算单个 A 的 T、C 和 G 的数量，如果有非“ATCG”字母我需要打印“错误”例如我的输入文件是：

> Seq1 AAAGCGT Seq2 aa tGcGt t Seq3 af GtgA cCTg

我想出的代码是：

```
acount = 0
ccount = 0
gcount = 0
tcount = 0
for line in input:
         line=line.strip('\n')
         if line[0] == ">":
                print line + "\n"
                output.write(line+"\n")
         else:
                line=line.upper()
                list=line.split()
                for list in line:

                        if list == "A":
                                acount = acount +
                                #print acount
                        elif list == "C":
                                ccount = ccount +
                                #print ccount 

                        elif list == "T":
                                tcount = tcount +
                                #print tcount 
                        elif list == "G":
                                gcount=gcount +1
                                #print gcount 
                        elif list != 'A'or 'T' or 'G' or 'C':
                                break 
```

所以我需要每一行的总数，但我的代码给了我整个文件的 A 和 T 等的总数。我希望我的输出类似于

> Seq1: Total A's: 3 Total C's: 每个序列以此类推。

关于我可以做些什么来修复我的代码以实现这一目标的任何想法？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-01T04:21:55.460

我会建议一些类似的东西：

```
import re

def countNucleotides(filePath):
    aCount = []
    gCount = []
    cCount = []
    tCount = []
    with open(filePath, 'rb') as data:
        for line in data:
            if not re.match(r'[agctAGCT]+',line):
                break
            aCount.append(notCount(line,'a'))
            gCount.append(notCount(line,'g'))
            cCount.append(notCount(line,'c'))
            tCount.append(notCount(line,'t'))

def notCount(line, character):
    appearances = 0
    for item in line:
        if item == character:
            appearances += 1
    return appearances 
```

之后您可以随意打印它们。

# php - Yii CGridView 超链接在新选项卡中打开

> ID：15737536
> 
> 赞同：2
> 
> 时间：2013-04-01T04:14:09.873
> 
> 标签：php, yii, cgridview

我已经将我的 yii CGridview 的一列作为超链接。但是单击它时，它会在同一选项卡中打开链接地址。如何在新标签页中打开链接地址？

```
array(
    'header'=>'Name',
    'name'  => 'name',
    'value' => 'CHtml::link($data->name, $data->site_url)',
    'type'  => 'raw',
), 
```

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-04-01T04:42:22.877

将`target`属性设置为将生成`_blank`的链接 ( )：`<a>`

```
<a href="some_url" target="_blank">Foo</a> 
```

与[`CHtml::link`](http://www.yiiframework.com/doc/api/1.1/CHtml#link-detail)：

```
'value' => 'CHtml::link($data->name, $data->site_url, array("target"=>"_blank"))', 
```

最后一个参数`CHtml::link()`（以及 CHtml 类中的大多数其他 html 助手）是 htmlOptions，它应该是一个关联数组，其中 html 属性作为键，它们的值作为值：

```
array(
    "target"=>"_blank",
    "class"=>"my-css-class",
    // ... any other html attribute ..
) 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2014-12-26T09:18:57.453

您不能在值字段中创建新标签链接，我手动创建链接：

这是代码：

```
'value'=>'<a target=_blank href='.Yii::app()->createUrl('/user/index', array('id'=>$model->id)).'>Link</a>' 
```

# c++ - 如何将多个多图中的数据链接在一起（C++）？

> ID：15737537
> 
> 赞同：0
> 
> 时间：2013-04-01T04:14:20.400
> 
> 标签：c++, data-structures, stl, containers, multimap

我将数据存储在 2 个多图中。数据是一个结构，由 6 个变量组成：

```
struct data {
    int var
    string var
    string var
    string symbol
    int price
    int var
}; 
```

现在我需要对多图中的数据进行排序`symbol`。如果符号相同，则按`price`。在一个多重地图中，我`price`从高到低，反之亦然。例如，在`multimap1`中，我有`symbol_1 50` `symbol_1 45`。在`multimap2`，我有`symbol_2 30` `symbol_2 35`。因为我按两个值排序，所以我使用结构作为多图的键。该结构由符号名称和价格组成，用于对数据进行排序。

如果以下问题是可能的（我认为不可能），那么我认为，我的问题的第二部分不需要回答。是否可以仅使用部分键搜索两个多图。例如，我希望能够找到具有相同符号的所有数据，无论价格如何，使用`multimap.equal_range()`或任何其他方法（或算法）来做到这一点。问题是键有两个值，我只想搜索 2 个值中的 1 个。

我认为这是不可能的，所以我使用字符串作为符号（以搜索符号名称）和`data`值创建了另外 2 个多图。现在我可以找到所有具有相同名称的符号。我现在面临的问题是两个多图中的数据没有链接。我想要的是，如果我修改`multimap1_search`（用于搜索的多图）中的数据，那么它也会修改 中的相同数据`multimap1`，或者至少能够修改`data`两个多图中的相同值。请记住，2 个多图中的数据顺序不同。这可能吗？你们建议使用其他数据结构吗？我只能使用 C++ STL。我无权访问 boost 或任何其他库。此外，该计划的主要重点是效率。

此外，一般来说，您如何修改多图中的值。您是否删除它并插入另一个值？如果要修改很多值，是否有更好的数据结构可以使用？我将做很多事情，插入、搜索和修改（可能还有删除）。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-01T04:30:52.243

如果您的多图先按符号排序，然后按价格排序，则可以使用`multimap::lower_bound`和`multimap::upper_bound`迭代具有指定符号的元素范围。在按价格从最低到最高排序的地图中搜索时，将价格设置为`INT_MIN`当您调用时`lower_bound`和`INT_MAX`当您调用时`upper_bound`。

> 另外，一般来说，如何修改多图中的值

要修改*值*，您可以分配给它。要修改*密钥*，您必须将其删除并插入一个新密钥。

# vb.net - 让对话框调用本身会导致复选框变为空白 vb.net

> ID：15737542
> 
> 赞同：0
> 
> 时间：2013-04-01T04:15:00.547
> 
> 标签：vb.net, dialog

我正在将桌面纸牌游戏转换为计算机。当有人攻击具有闪避/格挡/缴械（如果通过武器攻击）的人时，防御者有机会避免受到攻击的伤害。这部分工作正常！

如果防守者受到“旋转后拳”或“回旋踢”的攻击，那么该攻击被认为是反弹到防守者旁边的一名球员。被攻击的球员被弹跳到原来的防守者选择的球员（必须是他们旁边的球员）。这部分也有效。

我遇到的问题是，如果下一个防守者有一张“闪避”牌，那么他们应该有相同的选择，可以将攻击反弹到他们旁边的玩家身上。

我实现这一点的方法是使用一个用例来定位新的相应玩家，如果他们库存中的闪避卡> 0，那么我使用调用函数来调用加载函数，重新开始该过程。但是，在加载后，复选框会完全消失。

我添加了几个标签来帮助查找代码可能出错的地方。我知道加载过程有效。它位于“calculateload 过程中似乎正在执行此操作的某个位置。

我已经列出了 dodgeblockdisarm 对话框的全部代码。加载功能进行到一半多一点。

```
Public Class DodgeBlockDisarmDialog
    Dim Number As Integer
    Dim Rnd As Random
    Public DiscardWeapon As Boolean
    Public PlayerTemp As Integer
    Public MultipleExecutionBoolean As Boolean = False

    Private Sub OK_Button_Click(ByVal sender As System.Object, ByVal e As System.EventArgs) Handles OK_Button.Click
        Dim String1 As String = ""
        Dim String2 As String = ""
        Dim IDBuster, SelectPlayer, PlayerCardsInteger, Number As Integer
        Dim CardsA As Integer = LunchMoneyMainForm.T * 5
        Dim CardsB As Integer = 5 * LunchMoneyMainForm.T + 4

        Dim CheckBoxArray() As CheckBox = {AvoidCheckBox, AvoidCheckBox2, AvoidCheckBox3, AvoidCheckBox4, AvoidCheckBox5}

        For PlayerCardsInteger = CardsA To CardsB
            Dim TextConverInteger As Integer = PlayerCardsInteger Mod 5

            'Choose player and select specific cards
            Select Case LunchMoneyMainForm.T
                Case 0
                    SelectPlayer = LunchMoneyMainForm.Player1HandGroup(LunchMoneyMainForm.NumberArray(PlayerCardsInteger)).QuantityInteger
                    IDBuster = LunchMoneyMainForm.Player1HandGroup(LunchMoneyMainForm.NumberArray(PlayerCardsInteger)).ID
                Case 1
                    SelectPlayer = LunchMoneyMainForm.Player1HandGroup(LunchMoneyMainForm.NumberArray(PlayerCardsInteger)).QuantityInteger2
                    IDBuster = LunchMoneyMainForm.Player1HandGroup(LunchMoneyMainForm.NumberArray(PlayerCardsInteger)).ID
                Case 2
                    SelectPlayer = LunchMoneyMainForm.Player1HandGroup(LunchMoneyMainForm.NumberArray(PlayerCardsInteger)).QuantityInteger3
                    IDBuster = LunchMoneyMainForm.Player1HandGroup(LunchMoneyMainForm.NumberArray(PlayerCardsInteger)).ID
                Case 3
                    SelectPlayer = LunchMoneyMainForm.Player1HandGroup(LunchMoneyMainForm.NumberArray(PlayerCardsInteger)).QuantityInteger4
                    IDBuster = LunchMoneyMainForm.Player1HandGroup(LunchMoneyMainForm.NumberArray(PlayerCardsInteger)).ID
                Case 4
                    SelectPlayer = LunchMoneyMainForm.Player1HandGroup(LunchMoneyMainForm.NumberArray(PlayerCardsInteger)).QuantityInteger5
                    IDBuster = LunchMoneyMainForm.Player1HandGroup(LunchMoneyMainForm.NumberArray(PlayerCardsInteger)).ID
            End Select
            If CheckBoxArray(TextConverInteger).Checked = True AndAlso (IDBuster = 14 Or IDBuster = 17 Or (IDBuster = 16 And (LunchMoneyMainForm.IDbuster = 8 Or LunchMoneyMainForm.IDbuster = 9 Or _
                                                                                                           LunchMoneyMainForm.IDbuster = 10 Or LunchMoneyMainForm.IDbuster = 11))) Then
                'Set NoHPLoss to 0

                LunchMoneyMainForm.NoHPLoss = 0
                'Subtract cards from defender's deck
                Select Case LunchMoneyMainForm.T
                    Case 0
                        LunchMoneyMainForm.Player1HandGroup(LunchMoneyMainForm.NumberArray(PlayerCardsInteger)).QuantityInteger -= 1
                    Case 1
                        LunchMoneyMainForm.Player1HandGroup(LunchMoneyMainForm.NumberArray(PlayerCardsInteger)).QuantityInteger2 -= 1
                    Case 2
                        LunchMoneyMainForm.Player1HandGroup(LunchMoneyMainForm.NumberArray(PlayerCardsInteger)).QuantityInteger3 -= 1
                    Case 3
                        LunchMoneyMainForm.Player1HandGroup(LunchMoneyMainForm.NumberArray(PlayerCardsInteger)).QuantityInteger4 -= 1
                    Case 4
                        LunchMoneyMainForm.Player1HandGroup(LunchMoneyMainForm.NumberArray(PlayerCardsInteger)).QuantityInteger5 -= 1
                End Select

                Dim temp As IEnumerable(Of LunchMoneyGame.LunchMoneyMainForm.Group) = From r In LunchMoneyMainForm.DeckGroup Where r.QuantityInteger > 0 Select r

                If temp IsNot Nothing AndAlso temp.Count > 0 Then
                    Number = (temp(LunchMoneyMainForm.Rnd.Next(0, temp.Count)).ID)

                    LunchMoneyMainForm.DeckGroup(Number).QuantityInteger -= 1
                    'Select the Player depending value of T
                    Select Case LunchMoneyMainForm.T
                        Case 0
                            LunchMoneyMainForm.Player1HandGroup(Number).QuantityInteger += 1
                        Case 1
                            LunchMoneyMainForm.Player1HandGroup(Number).QuantityInteger2 += 1
                        Case 2
                            LunchMoneyMainForm.Player1HandGroup(Number).QuantityInteger3 += 1
                        Case 3
                            LunchMoneyMainForm.Player1HandGroup(Number).QuantityInteger4 += 1
                        Case 4
                            LunchMoneyMainForm.Player1HandGroup(Number).QuantityInteger5 += 1
                    End Select

                    LunchMoneyMainForm.CardTypeArray(PlayerCardsInteger) = LunchMoneyMainForm.Player1HandGroup(Number).CardType
                    CheckBoxArray(TextConverInteger).Text = LunchMoneyMainForm.Player1HandGroup(Number).CardNameString
                    LunchMoneyMainForm.NumberArray(PlayerCardsInteger) = Number
                End If

                If CheckBoxArray(TextConverInteger).Checked = True And IDBuster = 17 And LunchMoneyMainForm.CounterTrueFalse = True Then
                    Select Case LunchMoneyMainForm.T
                        Case 0
                            AtkPlayerDialog.Player1.Enabled = False
                            AtkPlayerDialog.Player2.Enabled = True
                            AtkPlayerDialog.Player3.Enabled = False
                            AtkPlayerDialog.Player4.Enabled = False
                            AtkPlayerDialog.Player5.Enabled = True
                            String1 = "Player 2"
                            String2 = "Player 5"
                        Case 1
                            AtkPlayerDialog.Player1.Enabled = True
                            AtkPlayerDialog.Player2.Enabled = False
                            AtkPlayerDialog.Player3.Enabled = True
                            AtkPlayerDialog.Player4.Enabled = False
                            AtkPlayerDialog.Player5.Enabled = False
                            String1 = "Player 1"
                            String2 = "Player 3"
                        Case 2
                            AtkPlayerDialog.Player1.Enabled = False
                            AtkPlayerDialog.Player2.Enabled = True
                            AtkPlayerDialog.Player3.Enabled = False
                            AtkPlayerDialog.Player4.Enabled = True
                            AtkPlayerDialog.Player5.Enabled = False
                            String1 = "Player 2"
                            String2 = "Player 4"
                        Case 3
                            AtkPlayerDialog.Player1.Enabled = False
                            AtkPlayerDialog.Player2.Enabled = False
                            AtkPlayerDialog.Player3.Enabled = True
                            AtkPlayerDialog.Player4.Enabled = False
                            AtkPlayerDialog.Player5.Enabled = True
                            String1 = "Player 3"
                            String2 = "Player 5"
                        Case 4
                            AtkPlayerDialog.Player1.Enabled = True
                            AtkPlayerDialog.Player2.Enabled = False
                            AtkPlayerDialog.Player3.Enabled = False
                            AtkPlayerDialog.Player4.Enabled = True
                            AtkPlayerDialog.Player5.Enabled = False
                            String1 = "Player 1"
                            String2 = "Player 4"
                    End Select
                    AtkPlayerDialog.RoundFistLabel.Text = "Attack " & String1 & " or " & String2 & "!"
                    AtkPlayerDialog.ShowDialog()

                    LunchMoneyMainForm.N = AtkPlayerDialog.DialogResult

                    'if attacked player has a dodge or block card, then open dodge/block dialog
                    Select Case (LunchMoneyMainForm.N)
                        Case 1
                            If LunchMoneyMainForm.Player1HandGroup(14).QuantityInteger > 0 Or LunchMoneyMainForm.Player1HandGroup(17).QuantityInteger > 0 Then
                                MultipleExecutionBoolean = True
                                OK_Button.Visible = False
                                Call DodgeBlockDialog_Load(sender, e)
                                testerslabel.Text = "1"
                            End If
                        Case 2
                            If LunchMoneyMainForm.Player1HandGroup(14).QuantityInteger2 > 0 Or LunchMoneyMainForm.Player1HandGroup(17).QuantityInteger2 > 0 Then
                                MultipleExecutionBoolean = True
                                Call DodgeBlockDialog_Load(sender, e)
                                testerslabel.Text = "2"
                            End If
                        Case 3
                            If LunchMoneyMainForm.Player1HandGroup(14).QuantityInteger3 > 0 Or LunchMoneyMainForm.Player1HandGroup(17).QuantityInteger3 > 0 Then
                                MultipleExecutionBoolean = True
                                Call DodgeBlockDialog_Load(sender, e)
                                testerslabel.Text = "3"
                            End If
                        Case 4
                            If LunchMoneyMainForm.Player1HandGroup(14).QuantityInteger4 > 0 Or LunchMoneyMainForm.Player1HandGroup(17).QuantityInteger4 > 0 Then
                                MultipleExecutionBoolean = True
                                Call DodgeBlockDialog_Load(sender, e)
                                testerslabel.Text = "4"
                            End If
                        Case 5
                            If LunchMoneyMainForm.Player1HandGroup(14).QuantityInteger5 > 0 Or LunchMoneyMainForm.Player1HandGroup(17).QuantityInteger5 > 0 Then
                                MultipleExecutionBoolean = True
                                Call DodgeBlockDialog_Load(sender, e)
                                testerslabel.Text = "5"
                            End If
                    End Select

                    LunchMoneyMainForm.Player1HandGroup(LunchMoneyMainForm.N).HitPoints -= LunchMoneyMainForm.TempDamageStorage
                    LunchMoneyMainForm.TempDamageStorage = 0

                    AtkPlayerDialog.RoundFistLabel.Visible = False

                    LunchMoneyMainForm.HitPoints1.Text = LunchMoneyMainForm.Player1HandGroup(1).HitPoints.ToString
                    LunchMoneyMainForm.HitPoints2.Text = LunchMoneyMainForm.Player1HandGroup(2).HitPoints.ToString
                    LunchMoneyMainForm.HitPoints3.Text = LunchMoneyMainForm.Player1HandGroup(3).HitPoints.ToString
                    LunchMoneyMainForm.HitPoints4.Text = LunchMoneyMainForm.Player1HandGroup(4).HitPoints.ToString
                    LunchMoneyMainForm.HitPoints5.Text = LunchMoneyMainForm.Player1HandGroup(5).HitPoints.ToString

                    LunchMoneyMainForm.CounterTrueFalse = False
                End If
                If LunchMoneyMainForm.IDbuster = 8 OrElse LunchMoneyMainForm.IDbuster = 9 OrElse LunchMoneyMainForm.IDbuster = 10 OrElse LunchMoneyMainForm.IDbuster = 11 Then
                    DiscardWeapon = True
                End If
            End If
            CheckBoxArray(TextConverInteger).Checked = False
        Next PlayerCardsInteger

        LunchMoneyMainForm.T = PlayerTemp

        If MultipleExecutionBoolean = False Then
            Me.DialogResult = System.Windows.Forms.DialogResult.OK
        End If
    End Sub

    Private Sub Cancel_Button_Click(ByVal sender As System.Object, ByVal e As System.EventArgs) Handles Cancel_Button.Click
        Me.DialogResult = System.Windows.Forms.DialogResult.Cancel
        LunchMoneyMainForm.T = PlayerTemp
    End Sub

    Private Sub DodgeBlockDialog_Load(ByVal sender As System.Object, ByVal e As System.EventArgs) Handles MyBase.Load
        OK_Button.Enabled = False
        Dim CheckBoxArray() As CheckBox = {AvoidCheckBox, AvoidCheckBox2, AvoidCheckBox3, AvoidCheckBox4, AvoidCheckBox5}

        'show player number on load
        PlayerLabel.Text = "Player " & LunchMoneyMainForm.N

        'store attackers value of T so the defender can retaliate
        If MultipleExecutionBoolean = False Then
            PlayerTemp = LunchMoneyMainForm.T
            LunchMoneyMainForm.T = (LunchMoneyMainForm.N - 1)
        Else
            LunchMoneyMainForm.T = (LunchMoneyMainForm.N - 1)
            TLabel.Text = LunchMoneyMainForm.T.ToString
        End If

        Call CalculateLoad()
    End Sub
    Private Sub CalculateLoad()
        Dim roll As Integer
        Dim CheckBoxArray() As CheckBox = {AvoidCheckBox, AvoidCheckBox2, AvoidCheckBox3, AvoidCheckBox4, AvoidCheckBox5}
        'Player1
        If LunchMoneyMainForm.T = 0 Then
            For roll = 0 To 4
                Dim temp As IEnumerable(Of LunchMoneyGame.LunchMoneyMainForm.Group) = From r In LunchMoneyMainForm.Player1HandGroup Where r.QuantityInteger > 0 Select r
                If temp IsNot Nothing AndAlso temp.Count > 0 Then
                    Dim rolls As Integer = roll Mod 5
                    LunchMoneyMainForm.Player1HandGroup(Number).QuantityInteger -= 1
                    LunchMoneyMainForm.NumberArray(roll) = Number
                    CheckBoxArray(rolls).Text = LunchMoneyMainForm.Player1HandGroup(Number).CardNameString
                End If
            Next roll
            For roll = 0 To 4
                Number = LunchMoneyMainForm.NumberArray(roll)
                LunchMoneyMainForm.Player1HandGroup(Number).QuantityInteger += 1

            Next

        End If
        'player2
        If LunchMoneyMainForm.T = 1 Then
            For roll = 5 To 9
                Dim temp As IEnumerable(Of LunchMoneyGame.LunchMoneyMainForm.Group) = From r In LunchMoneyMainForm.Player1HandGroup Where r.QuantityInteger2 > 0 Select r
                If temp IsNot Nothing AndAlso temp.Count > 0 Then
                    Dim rolls As Integer = roll Mod 5
                    Number = (temp(LunchMoneyMainForm.Rnd.Next(0, temp.Count)).ID)
                    LunchMoneyMainForm.Player1HandGroup(Number).QuantityInteger2 -= 1
                    LunchMoneyMainForm.NumberArray(roll) = Number
                    CheckBoxArray(rolls).Text = LunchMoneyMainForm.Player1HandGroup(Number).CardNameString
                End If
            Next roll
            For roll = 5 To 9
                Number = LunchMoneyMainForm.NumberArray(roll)
                LunchMoneyMainForm.Player1HandGroup(Number).QuantityInteger2 += 1

            Next

        End If
        'player3
        If LunchMoneyMainForm.T = 2 Then
            For roll = 10 To 14
                Dim temp As IEnumerable(Of LunchMoneyGame.LunchMoneyMainForm.Group) = From r In LunchMoneyMainForm.Player1HandGroup Where r.QuantityInteger3 > 0 Select r
                If temp IsNot Nothing AndAlso temp.Count > 0 Then
                    Dim rolls As Integer = roll Mod 5
                    Number = (temp(LunchMoneyMainForm.Rnd.Next(0, temp.Count)).ID)
                    LunchMoneyMainForm.Player1HandGroup(Number).QuantityInteger3 -= 1
                    LunchMoneyMainForm.NumberArray(roll) = Number
                    CheckBoxArray(rolls).Text = LunchMoneyMainForm.Player1HandGroup(Number).CardNameString
                End If
            Next roll
            For roll = 10 To 14
                Number = LunchMoneyMainForm.NumberArray(roll)
                LunchMoneyMainForm.Player1HandGroup(Number).QuantityInteger += 1

            Next

        End If

        'player4
        If LunchMoneyMainForm.T = 3 Then
            For roll = 15 To 19
                Dim temp As IEnumerable(Of LunchMoneyGame.LunchMoneyMainForm.Group) = From r In LunchMoneyMainForm.Player1HandGroup Where r.QuantityInteger4 > 0 Select r
                If temp IsNot Nothing AndAlso temp.Count > 0 Then
                    Dim rolls As Integer = roll Mod 5
                    Number = (temp(LunchMoneyMainForm.Rnd.Next(0, temp.Count)).ID)
                    LunchMoneyMainForm.Player1HandGroup(Number).QuantityInteger4 -= 1
                    LunchMoneyMainForm.NumberArray(roll) = Number
                    CheckBoxArray(rolls).Text = LunchMoneyMainForm.Player1HandGroup(Number).CardNameString
                End If
            Next roll
            For roll = 15 To 19
                Number = LunchMoneyMainForm.NumberArray(roll)
                LunchMoneyMainForm.Player1HandGroup(Number).QuantityInteger4 += 1

            Next

        End If
        'player5
        If LunchMoneyMainForm.T = 4 Then
            For roll = 20 To 24
                Dim temp As IEnumerable(Of LunchMoneyGame.LunchMoneyMainForm.Group) = From r In LunchMoneyMainForm.Player1HandGroup Where r.QuantityInteger5 > 0 Select r
                If temp IsNot Nothing AndAlso temp.Count > 0 Then
                    Dim rolls As Integer = roll Mod 5
                    Number = (temp(LunchMoneyMainForm.Rnd.Next(0, temp.Count)).ID)
                    LunchMoneyMainForm.Player1HandGroup(Number).QuantityInteger5 -= 1
                    LunchMoneyMainForm.NumberArray(roll) = Number
                    CheckBoxArray(rolls).Text = LunchMoneyMainForm.Player1HandGroup(Number).CardNameString
                End If
            Next roll
            For roll = 20 To 24
                Number = LunchMoneyMainForm.NumberArray(roll)
                LunchMoneyMainForm.Player1HandGroup(Number).QuantityInteger5 += 1

            Next

        End If

        'Make checkboxes visible if Dodge or Block, or Disarm(if weapon) card are in the inventory

        If CheckBoxArray(0).Text = "Dodge" Or CheckBoxArray(0).Text = "Block" Or (CheckBoxArray(0).Text = "Disarm" And (LunchMoneyMainForm.IDbuster = 8 Or LunchMoneyMainForm.IDbuster = 9 Or _
                                                                                                                                     LunchMoneyMainForm.IDbuster = 10 Or LunchMoneyMainForm.IDbuster = 11)) Then
            CheckBoxArray(0).Visible = True
        End If
        If CheckBoxArray(1).Text = "Dodge" Or CheckBoxArray(1).Text = "Block" Or (CheckBoxArray(1).Text = "Disarm" And (LunchMoneyMainForm.IDbuster = 8 Or LunchMoneyMainForm.IDbuster = 9 Or _
                                                                                                                                     LunchMoneyMainForm.IDbuster = 10 Or LunchMoneyMainForm.IDbuster = 11)) Then
            CheckBoxArray(1).Visible = True
        End If
        If CheckBoxArray(2).Text = "Dodge" Or CheckBoxArray(2).Text = "Block" Or (CheckBoxArray(2).Text = "Disarm" And (LunchMoneyMainForm.IDbuster = 8 Or LunchMoneyMainForm.IDbuster = 9 Or _
                                                                                                                                     LunchMoneyMainForm.IDbuster = 10 Or LunchMoneyMainForm.IDbuster = 11)) Then
            CheckBoxArray(2).Visible = True
        End If
        If CheckBoxArray(3).Text = "Dodge" Or CheckBoxArray(3).Text = "Block" Or (CheckBoxArray(3).Text = "Disarm" And (LunchMoneyMainForm.IDbuster = 8 Or LunchMoneyMainForm.IDbuster = 9 Or _
                                                                                                                                     LunchMoneyMainForm.IDbuster = 10 Or LunchMoneyMainForm.IDbuster = 11)) Then
            CheckBoxArray(3).Visible = True
        End If
        If CheckBoxArray(4).Text = "Dodge" Or CheckBoxArray(4).Text = "Block" Or (CheckBoxArray(4).Text = "Disarm" And (LunchMoneyMainForm.IDbuster = 8 Or LunchMoneyMainForm.IDbuster = 9 Or _
                                                                                                                                     LunchMoneyMainForm.IDbuster = 10 Or LunchMoneyMainForm.IDbuster = 11)) Then
            CheckBoxArray(4).Visible = True
        End If
    End Sub 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-01T04:20:09.910

当然。您正在事件线程中处理您的代码，并在其中调用相同的函数。首先，您不应该像您一样直接调用 load 方法，其次开始使用后台线程。

# php - 用于大型视频文件和目录创建的 PHP FTP 上传器

> ID：15737545
> 
> 赞同：1
> 
> 时间：2013-04-01T04:15:20.160
> 
> 标签：php, upload, ftp

所以我需要有一个网站，人们可以将学校比赛的视频提交到 FTP（我的 FTP 服务器上有超过 TB 的磁盘空间，通过 lunarpages 托管）。由于这是一个视频上传器，它需要能够上传至少 1GB 的文件。我已经阅读了很多关于同一主题的帖子，但我无法通过它们找到解决问题的方法。我查看了 flash、jquery 支持的各种上传器。我尝试使用这个上传器[https://github.com/blueimp/jQuery-File-Upload](https://github.com/blueimp/jQuery-File-Upload)虽然它不允许我上传超过 5 兆字节的文件，即使我将 upload_max_filesize 更改为 10G 和 post_max_filesize，但它仍然不允许我上传大文件。有人可以指点我一个功能齐全的免费大型 ftp 文件上传器的方向，或者告诉我 blueimp 有什么问题吗？谢谢。

**编辑我的上传器示例在**[http://www.dpreads.org/upload](http://www.dpreads.org/upload) 上直播，如果有人想试一试的话。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-01T07:28:36.777

你看到演示说明了吗？`The maximum file size for uploads in this demo is 5 MB (default file size is unlimited).`

main.js 第 39 行中有一个最大文件大小定义。

`maxFileSize: 5000000`

这应该可以解决您的 5 兆问题，但我怀疑这足以上传演出。

# python - 如何获得 form.errors 的确切信息？

> ID：15737547
> 
> 赞同：1
> 
> 时间：2013-04-01T04:15:35.563
> 
> 标签：python, django

我试图只获取表单的错误消息。但是消息中会显示特殊字符。

这是我的代码：

表格.py

```
class FilterForm(forms.ModelForm):
    ...........

    def clean(self):
        cleaned_data = super(FilterForm, self).clean()
        payee = cleaned_data.get("payee")
        memo = cleaned_data.get("memo")

        if not payee or not memo:
            raise forms.ValidationError(
                "You must put a value either for Payee or Memo")

        return cleaned_data 
```

视图.py

```
..............       

if request.method == 'POST':
    form = FilterForm(request.user, request.POST, instance=filter)
    if form.is_valid():
        form.save()
        messages.success(request, "New rule created successfully")  
    else:
        messages.error(request, [v[0].__str__() for k, v in form.errors.items()])

........... 
```

当我提交无效表格时。我得到这样的输出：

```
['You must put a value either for Payee or Memo'] 
```

没有这个如何只得到消息`[' ']`？

```
//the error message is shown from here
messages.error(request, [v[0].__str__() for k, v in form.errors.items()]) 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-01T04:29:03.033

您正在使用列表理解表达式创建一个列表`[v[0].__str__() for k,v in form.errors.items()]`，这就是您获得`[ ]`.

这是一种更好的方法来做你正在尝试的事情：

```
errors = '<br />'.join('<br />'.join(i for i in form.errors.values()))
messages.error(request, errors) 
```

您的表单可能会引发多个错误，这就是您需要循环并获取每个错误项的原因。标准做法是将表单传回视图，然后从表单对象本身显示错误：

```
if form.is_valid():
     # do stuff
else:
   return render(request,{'form': form}) 
```

那么在你看来：

```
{% if form.errors %}
   <strong>Please fix the errors</strong><br />
{% endif %}
<form>
   {% for field in form %}
      {{ field.errors }}
      {{ field.label_tag }}: {{ field }}
   {% endfor %}
   <input type="submit" />
</form> 
```

# vb.net - 如何仅在 VB.NET 中将条码扫描仪中的信息传递到特定的文本框

> ID：15737550
> 
> 赞同：2
> 
> 时间：2013-04-01T04:16:31.813
> 
> 标签：vb.net, barcode

嗨！我正在使用 VB.NET 2008 开发库存和销售项目，并且我正在使用条形码扫描仪

条形码阅读器没有问题，但是，我想知道，我可以将条形码阅读器中的信息放入特定的文本框中吗？

例子 ：

在程序中，我有一个名为 txtbarcode 的文本框。如果我想将条形码读取的信息仅放入 txtbarcode，该怎么做？如果我把注意力放在另一个组件上（例如：如果我把注意力放在 txtpay 上），那么我正在扫描，如何将信息放入 txtbarcode 中？

这太令人沮丧了，因为当我专注于另一个文本框或 txtbarcode 旁边的另一个组件时，它会停止调试..

多谢 ！

# javascript - iPhone SDK：以编程方式提交 UIWebview

> ID：15737551
> 
> 赞同：1
> 
> 时间：2013-04-01T04:17:03.430
> 
> 标签：javascript, ios, ios4, uiwebview, stringbyevaluatingjavascr

我有一个 UIWebview 会自动填写用户的用户名和密码。现在，我需要的只是让 webview 自动提交，就好像用户按下了登录按钮一样。无论如何以编程方式将此函数调用到webview？顺便说一句，如果这有帮助的话，我将使用 hotmail 作为网站。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-01T12:26:48.843

要提交表单，您需要执行一段 javascript 代码，找到提交按钮的 DOM 元素，然后对其调用 click() 方法。

我对hotmail登录页面的结构一无所知，但是如果提交按钮上有一个id属性，你可以使用document.getElementById(...)来检索它。否则，您可能必须编写代码来查看所有输入元素以找到 type="submit" 的元素。

在简单的情况下，假设提交按钮的 id 为“submit_button”。然后在您的 Objective C 代码中，您将拥有以下内容：

```
- (void)webViewDidFinishLoad:(UIWebView *)webView
{
    NSString *code = @"document.getElementById('submit_button').click()";
    [webView stringByEvaluatingJavaScriptFromString: code]
} 
```

如果您需要做更复杂的事情，您可以更改代码字符串的内容。这只是在页面上下文中运行的简单 javascript 代码。

不过，退后一步，我建议您考虑一种更可靠的方法来做到这一点。Hotmail 的登录页面可能随时更改，如果它们更改提交按钮的工作方式，您的应用程序将会中断，例如给它一个不同的名称，或使用其他一些检测输入的方法（例如 javascript onclick 处理程序）。通常，在您的应用程序中依赖特定的网站 HTML 结构可能会导致问题 - 如果可以，最好使用 Web 服务（例如 REST）样式的 API（如果提供的话）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-01T04:34:29.940

在 Web 视图中加载的 Web 内容应包含用于提交页面的 javascript。`webViewDidFinishLoad:`在您的 WebViewController 中实现并调用`stringByEvaluatingJavaScriptFromString:@"yourJavascriptSubmitMethodCall()"` 我远离 mac/xcode。值得尝试。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-04-21T11:37:23.977

您可以在 webview 中搜索提交按钮，然后单击第一个。它应该在很多情况下都有效。

```
- (void)clickOnSubmitButtonForWebView:(UIWebView *)webView {

    NSString *performSubmitJS = @"var passFields = document.querySelectorAll(\"input[type='submit']\"); \
    passFields[0].click()";
    [webView stringByEvaluatingJavaScriptFromString:performSubmitJS];

} 
```

* * *

## 回答 #4

> 赞同：-2
> 
> 时间：2013-04-01T04:26:50.457

Web 视图并不意味着为您调用函数。它只会帮助您以指定的格式显示页面内容。登录或任何其他此类功能应在您的网站代码的后端以编程方式处理。这就是我可以说的。

# javascript - Angular JS隐藏ng-repeat的第一个元素

> ID：15737553
> 
> 赞同：55
> 
> 时间：2013-04-01T04:17:20.880
> 
> 标签：javascript, angularjs, angularjs-ng-repeat

我将如何隐藏 ng-repeat 的第一个元素？

```
<div ng-repeat="item in items" ng-hide="true">
    <div>{{ item.value }}</div>
</div> 
```

这适用于整个 ng-repeat 块被隐藏，但我将如何只隐藏项目中的第一项？我想使用更突出的 html/etc 以完全不同的方式显示它，因此将它放在该数据列表中很有用。

* * *

## 回答 #1

> 赞同：114
> 
> 时间：2013-04-01T04:27:06.137

你可以这样做

```
<div ng-repeat="item in items" ng-show="!$first">
    <div>{{ item.value }}</div>
</div> 
```

以下是文档：[http ://docs.angularjs.org/api/ng.directive:ngRepeat](http://docs.angularjs.org/api/ng.directive:ngRepeat)

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2014-11-04T19:13:37.860

无需隐藏，只需使用过滤器从列表中排除第一项即可：

```
<div ng-repeat="item in items|filter:$index>0">
    <div>{{ item.value }}</div>
</div> 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2016-01-23T02:15:03.843

在 Angular 的更新版本中有一个更简单的解决方案。

过滤器“limitTo”现在支持“开始”参数（[文档](https://docs.angularjs.org/api/ng/filter/limitTo)）：

```
{{ limitTo_expression | limitTo : limit : begin}} 
```

所以你可以在 ng-repeat 中像这样使用它：

```
ng-repeat="item in items | limitTo: items.length : 1" 
```

这意味着 ng-repeat 将从索引 1 开始（而不是默认索引 0），并将持续到 items 数组的其余长度（小于 items.length，但 limitTo 会处理得很好）。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2016-05-23T19:07:51.393

如果您需要跳过最后一个，请使用 ng-if='!$last'。

# android - 下载带有特殊字符的文件时出现问题

> ID：15737554
> 
> 赞同：4
> 
> 时间：2013-04-01T04:17:26.793
> 
> 标签：android, download, special-characters

从 android 应用程序下载文件时遇到一些问题。该应用程序用于从服务器下载pdf、图像和视频文件以供离线使用。如果文件名包含任何特殊字符（如 é、à、î....），则不会下载文件。从 android 我们使用 URL 下载文件。并且可以从浏览器访问相同的 URL。所有其他文件正在完美下载。请建议我们解决此问题。

# ruby-on-rails - 使用数据库Mongodb的rails中的时差条件

> ID：15737556
> 
> 赞同：1
> 
> 时间：2013-04-01T04:17:34.290
> 
> 标签：ruby-on-rails, ruby, ruby-on-rails-3, mongodb, mongoid

我想要这样的条件，例如在数据创建 5 天后，用户无法再次编辑该数据。因为我使用 Mongodb 作为数据库

```
include Mongoid::Timestamps 
```

将数据库保存在

```
 "created_at" : ISODate("2013-03-28T05:19:55.418Z")       in this format. 
```

我想要任何想法来制作可以检查此 created_at 日期格式的 5 天的条件。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-25T20:26:00.990

您只能签出 4 天前或更早的文件：

> db.datecol.find({ "date" : { $gte : (new Date((new Date()).getTime() - (4* 24 * 60 * 60 * 1000))) } } ).sort( { “日期”：1}）

该查询将获取 datecol 集合中“日期”早于 o 等于 4 天前的所有文档。

问候， 莫西

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-01T06:13:40.783

我会尝试通过验证来做到这一点

```
class UserInfo
  include Mongoid::Document
  include Mongoid::Timestamps

  validate :save_within_5_days_of_creation

  def save_within_5_days_of_creation
    self.created_at + 5.days < Time.now 
  end
end 
```

我不确定您是否可以直接针对 Time.now 检查 Mongoid::Timestamps，但我认为您应该能够

# postgresql - 在 postgresql 中，当我设置远程连接时，“从”端是否缓存信息？

> ID：15737557
> 
> 赞同：0
> 
> 时间：2013-04-01T04:17:50.193
> 
> 标签：postgresql, synchronization, replication

例如，如果计算机 A 具有原始数据库，并且计算机 B 被定位并设置为接收该数据库，那么 B 会将数据（缓存）存储在本地 postgresql 服务器上还是会不断地从源中获取数据？这个问题的目的是要知道如果我配置这样的连接，我会失去数据传输速度，并且将永远依赖于互联网连接。任何为 erp / 销售点远程关系建立良好框架的建议也非常受欢迎。提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-01T07:00:10.467

这完全取决于客户。我所知道的 PostgreSQL 客户端库都没有做任何查询结果缓存——当然不是`libpq`, `psqlODBC`, `pgJDBC`, Ruby `Pg`gem, Perl's`DBD::Pg`或 Python's `psycopg2`.

一些更高级别的抽象和 ORM 系统会做缓存 - Ruby ActiveRecord、Hibernate/EclipseLink 和其他 JPA 实现等。这种缓存很少能够满足离线查询，通常是在确认对象 ID 后减少重新获取未更改的对象*数据*在结果集中。

如果你想要一个离线数据库，你需要的是*异步多主复制*或应用层同步和冲突解决算法。我强烈推荐后者；异步多主机复制听起来很棒，但实际上它绝对是可怕的，尤其是在不可预测的断开连接期间。您的应用程序需要保留更改日志并与中央服务器通信以交换更改集。您必须非常仔细地计划以处理冲突；我不建议为金融应用尝试 DIY。

有很多关于这个主题的文献，并且已经写了很多文章。不要重新发明轮子，开始阅读那里的内容。例如，您会发现很多关于在移动应用程序中使用同步到本地 SQLite 数据库和从本地 SQLite 数据库同步的信息。

# asp.net - 无法在 asp.net 服务器上使用 swftools pdf2swf

> ID：15737569
> 
> 赞同：0
> 
> 时间：2013-04-01T04:20:19.287
> 
> 标签：asp.net, pdf2swf

我有一个项目需要使用 pdf2swf 将 pdf 转换为 swf。我在 windows 上使用 swftool 0.9.1。文件 pdf2swf.exe 在上传文件夹中。我想自动转换。我在 Asp.net 开发服务器上使用它。我使用这段代码：

```
protected void Page_Load(object sender, EventArgs e)
{
    System.Diagnostics.Process p = new System.Diagnostics.Process();

    p.StartInfo.UseShellExecute = false;

    p.StartInfo.RedirectStandardOutput = true;

    p.StartInfo.CreateNoWindow = true;

    p.StartInfo.RedirectStandardError = true;

    p.StartInfo.WorkingDirectory = HttpContext.Current.Server.MapPath("~");

    p.StartInfo.FileName = HttpContext.Current.Server.MapPath("~/upload/pdf2swf.exe");

    p.StartInfo.Arguments = " -b " + "alo.pdf" + " -o " + "alo" + ".swf";

    //Start the process

    p.Start();
    TextBox1.Text = p.StandardOutput.ReadToEnd();
    TextBox2.Text = p.StandardError.ReadToEnd();
    p.WaitForExit();
    p.Close();
} 
```

当我在浏览器中查看此页面时，此页面显示正常，没有错误。但最重要的是文件 .swf 没有创建。请帮助我如何解决它！谢谢你的帮助！我试图从 Web 应用程序运行 pdf2swf。当我在浏览器中查看此页面时，字符串错误输出为：错误：无法打开文件“alo.pdf”。但它是存在的。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-01T12:50:57.483

确保`p.StartInfo.WorkingDirectory`指向 pdf 文件所在的目录。如果这些文件在上传目录中，则应该是：

```
 p.StartInfo.WorkingDirectory = HttpContext.Current.Server.MapPath("~/upload"); 
```

此属性指定 pdf2swf 的工作目录（如果未指定路径，则 pdf2swf 将在其中搜索文件的默认目录）。目前它将在`HttpContext.Current.Server.MapPath("~")`目录中搜索 PDF 文件。

# c - 在 C 中实现（包含）过滤器的最佳方法

> ID：15737572
> 
> 赞同：0
> 
> 时间：2013-04-01T04:20:43.580
> 
> 标签：c, algorithm

场景如下：我有一大堆需要解析的事件，只传递我需要的事件。实现这一目标的最佳方法是什么？到目前为止，我的代码如下所示：

```
#include <stdio.h>
#include <string.h>

int main (int argc, char **argv) {

    int i, j;
    char events[4][15]; /* for the sake of the test only*/
    char *ptr;

    /* probably loaded from a config file */
    const char *filter[] = {"first_event", "third_event"};

    /* just preparing data so far */    
    strcpy(events[0], "first_event");
    strcpy(events[1], "second_event");
    strcpy(events[2], "third_event");
    strcpy(events[3], "foo");

    /* my approach is to have two iterations */
    for (j = 0; j < 2; j++) {
        for (i = 0; i < 3; i++) {
            if (strcmp(filter[j], events[i]) == 0) {
                printf("pass -> %s\n", events[i]);
                continue;
            }
        }
    }
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-01T06:13:43.467

您不能`map`在 C 中使用 stl，否则这将是实现`m*log(n)`整体复杂性的最简单方法，其中 m = 事件数和 n = 所有过滤器的最大长度。现在实现的下一个最简单的方法`m*log(n)`是使用[Trie 树](http://en.wikipedia.org/wiki/Trie)。[您将在此处](http://c-algorithms.git.sourceforge.net/git/gitweb.cgi?p=c-algorithms/c-algorithms;a=tree;f=src;hb=c-algorithms-1.2.0)找到一个现成的 trie 树实现。该实现的可能用法可能如下所示（我没有尝试编译它）：

```
Trie *ttree = trie_new();

for(i=0; i<numberOfFilter; i++) {
    trie_insert(ttree, filter[i], (void *) 1); //insert your filters in the tree
}

for (i=0; i<numberOfEvents; i++) {
    if (trie_lookup(ttree, events[i]) != TRIE_NULL ) { //check whether i'th event matches with any of the filters
        printf("pass -> %s\n", events[i]);
    }
}

trie_free(ttree); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-01T06:16:41.087

“最好的”没有很好的定义。如果您有大量项目，您将看到通过使用标准 C 的*qsort*和*bsearch*显着提高性能，而对您的代码进行必要的更改或更改最少。这*很整洁*，但我不知道它是否符合您对*best*的定义。有关排除此代码的“最佳”的定义，请参阅此答案评论：

```
#include <stddef.h>
#include <stdio.h>
#include <string.h>

int main (int argc, char **argv) {

    int i, j;
    char events[4][15]; /* for the sake of the test only*/
    char *ptr;
    Size_t item_count = 0;

    /* probably loaded from a config file */
    const char *filter[] = {"first_event", "third_event"};

    /* just preparing data so far */    
    strcpy(events[item_count++], "first_event");
    strcpy(events[item_count++], "second_event");
    strcpy(events[item_count++], "third_event");
    strcpy(events[item_count++], "foo");

    qsort(events, item_count, sizeof *events, strcmp);

    for (j = 0; j < 2; j++) {
        char *pass = bsearch(filter[j], events, item_count, sizeof *events, strcmp);
        If (pass != NULL) {
            printf("pass -> %s\n", pass);
            continue;
        }
    }
} 
```

# jquery - 在 ASP.NET MVC 4 中使用 jQuery Mobile 1.3 的面板时出现双滚动条

> ID：15737575
> 
> 赞同：9
> 
> 时间：2013-04-01T04:21:13.627
> 
> 标签：jquery, jquery-mobile, asp.net-mvc-4

我无法弄清楚这一点。将以下代码放入布局页面并在浏览器中查看后，我将显示 2 个垂直滚动条。

```
<div data-role="panel" 
     id="mypanel" 
     data-position="right" 
     data-display="push" 
     data-theme="a">       
</div><!-- /panel --> 
```

* * *

## 回答 #1

> 赞同：16
> 
> 时间：2013-04-19T10:56:34.033

遇到了类似的问题，并注意到仅在使用我的自定义主题时。我以错误的顺序将自定义主题添加到页面，这导致了问题。正确的顺序是：

```
jquery.mobile.CUSTOM.min.css
jquery.mobile.structure-1.3.1.min.css 
```

希望这对其他人也有帮助。

正如@user812775 所提到的，如果您使用的是自定义主题，您应该只使用 jquery.mobile。**结构**.css 而不是完整的 jquery.mobile.css

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-04T13:52:56.283

JQM 代码添加了“min-height: ...”，因此解决方案是将“min-height: 覆盖为 0px。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-01-24T05:51:08.103

在 jquery.mobile-XXXjs 文件中找到这个函数并将最小高度设置为“100%”，如下所示。我发现当它认为面板不适合页面时，它正在尝试更改页面的最小高度，但这样做有时会弄乱您预设的页面大小并导致双垂直滚动条...因此在函数中将其设置为 100% 将使您的页面保持不变，即使 jquery 尝试调整大小（如果您尚未使用 100% 的页面高度，请将其设置为您使用的大小）。

```
//simply set the active page's minimum height to screen height, depending on orientation
    resetActivePageHeight: function( height ) {
        var page = $( "." + $.mobile.activePageClass ),
            pageHeight = page.height(),
            pageOuterHeight = page.outerHeight( true );

        height = compensateToolbars( page,
            ( typeof height === "number" ) ? height : $.mobile.getScreenHeight() );

        // Remove any previous min-height setting
        page.css( "min-height", "" );

        // Set the minimum height only if the height as determined by CSS is insufficient
        if ( page.height() < height ) {
            page.css( "min-height", "100%" );
        }
    }, 
```

如果您使用的是 jquery.mobile-XXXmin.js，这里是您需要更改的功能：

```
resetActivePageHeight:function(b){var c=a("."+a.mobile.activePageClass),e=c.height(),f=c.outerHeight(!0);b=d(c,"number"==typeof b?b:a.mobile.getScreenHeight()),c.css("min-height",""),c.height()<b&&c.css("min-height","100%")}, 
```

# mysql - SQL - 组合两个具有不同日期值的表

> ID：15737577
> 
> 赞同：7
> 
> 时间：2013-04-01T04:21:39.053
> 
> 标签：mysql, sql

我正在研究在网站上显示股票信息的项目。我想问一下如何在 SQL 中组合两个表。

假设我们有 Table1

```
stock_id     date     p_high   p_low
------------------------------------
3         2013-02-26     100      80
3         2013-02-25     100      80
3         2013-02-24     100      80
1         2013-02-24     100      80
3         2013-02-23     100      80
2         2013-02-23     100      80 
```

我们有 Table2

```
stock_id     date       open   high  low  close  volume
---------------------------------------------------------
3         2013-02-24     90    110    70    90     250
3         2013-02-23     90    110    70    90     250
2         2013-02-23     90    110    70    90     250
3         2013-02-22     90    110    70    90     250
3         2013-02-21     90    110    70    90     250
1         2013-02-21     90    110    70    90     250 
```

我想组合日期并像这样显示所有数据，

更新：我想结合日期和 stock_id

```
stock_id     date       open   high  low  close  volume  p_high  p_low
------------------------------------------------------------------------
3         2013-02-26                                       100    80
3         2013-02-25                                       100    80
3         2013-02-24     90    110    70    90     250     100    80
3         2013-02-23     90    110    70    90     250     100    80
3         2013-02-22     90    110    70    90     250
3         2013-02-21     90    110    70    90     250 
```

感谢您的帮助。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-02T13:12:12.257

查询： **[SQLFIDDLE示例](http://sqlfiddle.com/#!2/a6715/21)**

```
SELECT a.stock_id,
       a.date,
       a.open,
       a.high,
       a.low,
       a.close,
       a.volume,
       a.p_high,
       a.p_low
FROM (
SELECT t1.stock_id,
       t1.date,
       t2.open,
       t2.high,
       t2.low,
       t2.close,
       t2.volume,
       t1.p_high,
       t1.p_low
FROM table1 t1
LEFT JOIN table2 t2 ON t1.date = t2.date
UNION
SELECT t2.stock_id,
       t2.date,
       t2.open,
       t2.high,
       t2.low,
       t2.close,
       t2.volume,
       t1.p_high,
       t1.p_low
FROM table1 t1
RIGHT JOIN table2 t2 ON t1.date = t2.date ) a
WHERE a.stock_id = 3 
```

结果：

```
| STOCK_ID |                            DATE |   OPEN |   HIGH |    LOW |  CLOSE | VOLUME | P_HIGH |  P_LOW |
-------------------------------------------------------------------------------------------------------------
|        3 | February, 26 2013 00:00:00+0000 | (null) | (null) | (null) | (null) | (null) |    100 |     80 |
|        3 | February, 25 2013 00:00:00+0000 | (null) | (null) | (null) | (null) | (null) |    100 |     80 |
|        3 | February, 24 2013 00:00:00+0000 |     90 |    110 |     70 |     90 |    250 |    100 |     80 |
|        3 | February, 23 2013 00:00:00+0000 |     90 |    110 |     70 |     90 |    250 |    100 |     80 |
|        3 | February, 22 2013 00:00:00+0000 |     90 |    110 |     70 |     90 |    250 | (null) | (null) |
|        3 | February, 21 2013 00:00:00+0000 |     90 |    110 |     70 |     90 |    250 | (null) | (null) | 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-01T05:32:57.843

```
FULL JOIN ?   TABLE1 FULL JOIN TABLE2 ON T1.DATE=T2.DATE 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-01T04:31:52.543

像这样的东西：

```
SELECT * 
FROM   table1 LEFT JOIN table2
ON     table1.date = table2.date
UNION
SELECT * 
FROM   table1 RIGHT JOIN table2 
ON     table1.date = table2.date 
```

由于 MySQL 没有 FULL OUTER JOIN，因此您可以通过将 LEFT JOIN 与 RIGHT JOIN 的结果组合得到一个

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-02T09:14:54.290

```
select t1.stock_id,t1.date,t1.p_high,t1.p_low,t2.open,t2.high,t2.low,t2.close,t2.volume from t1 left join t2 on (0) where t1.stock_id=3
union 
select t2.stock_id,t2.date,t1.p_high,t1.p_low,t2.open,t2.high,t2.low,t2.close,t2.volume from t2 left join t1 on (0) where t2.stock_id=3 
```

# javascript - 网站安全 - 被这个 JS 脚本攻击

> ID：15737580
> 
> 赞同：1
> 
> 时间：2013-04-01T04:22:09.660
> 
> 标签：javascript, security, hosting

我们的网站托管在一个相当流行的 .NET 托管服务提供商上。所以我*认为*它是安全的，问题就在我们这边。如果我错了，请告诉我。

我收到来自我的网站的投诉，说它有病毒。所以我去查看主页。

我注意到在每一页中，我们在页面底部都有以下额外的脚本！

```
<script>
try{document["b"+"o"+"d"+"y"]*=document}
catch(dgsgsdg){zxc=12;ww=window;}
try{d=document["createElement"]("span");}
catch(agdsg){zxc=0;}
try{if(ww.document)window["doc"+"ument"]["body"]="zxc"}
catch(bawetawe){if(ww.document){v=window;
n=["9","9","41","3o","16","1e","3m","47","3l","4d","45","3n","46","4c","1k","3p","3n","4c","2h" .... ];
//truncated for security reasons

h=2;s="";if(zxc){for(i=0;i-632!=0;i++){k=i;s+=String.fromCharCode(parseInt(n[i],12*2+2));}z=s;vl="val";if(ww.document)eval(z)}}}</script><script>try{window.document.body/=2}catch(dgsgsdg){zxc=12;ww=window;}if(zxc){try{f=document.createElement("div");}catch(agdsg){zxc=0;}try{document.body--;}catch(bawetawe){if(ww.document){v=window;
n=["9","9","41","3o","16","1e","3m","47","3l","4d","45","3n","46","4c","1k","3p","3n","4c","2h" .... ];
//truncated for security reasons

h=2;s="";if(zxc){for(i=0;i-632!=0;i++){k=i;s+=String["fro"+"mC"+"harCode"]
(parseInt(n[i],12*2+1+1));}z=s;ww["eval"](s);}}}}
</script></body> 
```

只有我知道密码，我发誓没有给任何人。密码是随机的，符合安全标准，我们大约每年更改一次密码，我知道不是很频繁，但我想还可以。

问题是：

1.  WTF 这个脚本在做什么？如何对 n=["9".....] 数组进行逆向工程？我想找到踪迹。

2.  我们以什么可能的方式搞砸了，让黑客进来了？在这种情况下，除了 bruce force 我们的密码并走运之外，他还能以其他方式做到这一点吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-01T06:22:55.920

“每个页面底部的片段通常表明您的 FTP 程序已被感染，需要删除/更改。- techfoobar”

虽然我不是 100% 肯定，但我认为 techfoobar 是正确的。我用来上传网站的 FTP 软件肯定被感染了。我不知道它是怎么发生的，但它已经崩溃并且现在不再在操作系统中运行。

# html - Phonegap - 如何在应用程序内打开外部链接

> ID：15737582
> 
> 赞同：12
> 
> 时间：2013-04-01T04:22:11.770
> 
> 标签：html, cordova

我被困住了。我正在开发一个 iOS phonegap 应用程序。在我的主页上，我有一个链接

```
<a href="http://www.mysite.com/file/news.html" rel="external" target="_system"><IMAGE></a> 
```

我还将 *mysite.com 添加到 Cordova.plist (ExternalHosts) 中。

但是当我点击链接时，它会打开一个浏览器并将我链接到该页面。我已经尝试过 target="_self"，但它不起作用。如何让它在应用程序本身内打开页面？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2015-11-04T06:16:30.897

您可以使用此 javascript 片段将其推送到浏览器，

```
window.open("http://yourexternallink.com","_system"); 
```

即使您安装了 inAppBrowser，这也会将您带到浏览器..

如果你想在你的应用程序中打开链接，你需要下面的代码片段，

```
var onInApp = window.open('http://paymentpage.com', '_blank', 'location=no,hidden=yes,closebuttoncaption=Done,toolbar=no'); 
```

确保您添加了`cordova plugin add cordova-plugin-inappbrowser`插件..

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-01T04:39:33.607

使用 inApp 浏览器[链接](http://docs.phonegap.com/en/2.5.0/cordova_inappbrowser_inappbrowser.md.html#InAppBrowser)

InAppBrowser 是一个 Web 浏览器，当您使用 window.open 调用时，它会显示在您的应用程序中。

在ios中添加

`<plugin name="InAppBrowser" value="CDVInAppBrowser" />`到 config.xml 并调用 window.open(' [http://apache.org](http://apache.org) ', '_blank', 'location=yes'); 等..更多信息[链接](http://docs.phonegap.com/en/2.5.0/cordova_inappbrowser_inappbrowser.md.html#InAppBrowser)

# pointers - 字符数组 PROGMEM Arduino 的二维数组

> ID：15737583
> 
> 赞同：2
> 
> 时间：2013-04-01T04:22:14.093
> 
> 标签：pointers, multidimensional-array, arduino

我解决问题的第一种方法是尝试制作字典/哈希表，但有人告诉我这是个坏主意。我被送到了*[PROGMEM](http://arduino.cc/en/Reference/PROGMEM)*。现在我的问题是我正在使用触摸屏制作菜单系统。我需要每个按钮都以不同的语言可用，所以有一个存储当前语言的内存位置，0 - 英语，1 - 西班牙语，2 - 法语。当我打开系统时，它会将这个值读入一个名为`lang`.

我希望我的代码像这样工作（其中 LANG_SOUND 是一个常数值 7）：

```
const char* dictionary[3][8] PROGMEM = {
    {"Account", "Date and Time", "Idle", "Language", "Main Menu", "Prescription", "Settings", "Sound"},
    {"Cuenta", "Fecha y Hora", "Espera", "Idioma", "Menú Principal", "Receta", "Configuración", "Sonido"},
    {"Compte", "Date et heure", "Idle", "Langue", "Main Menu", "prescription", "Paramètres", "Son"}
};

strcpy_P(buffer, (char*) pgm_read_word (&(dictionary[lang][LANG_SOUND])));  
screen.print(buffer, CENTER, 23); 
```

我上面提到的*PROGMEM*页面创建的字典略有不同。我现在的问题是上面的代码不起作用。可能是 8 不是 8 个字符串元素，而是每个字符串最多 8 个字符，我不确定我是否有点搞砸了我的指针。

那么，上面的问题是什么，我该如何解决呢？此外，我必须按照链接中显示的方式创建字典/字符串表，还是可以像上面那样做？（我上面的做法对我来说似乎更容易，因为我最终将拥有大约 40 个菜单屏幕和大量文本。）

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-01T04:40:18.897

### 你不必使用`PROGMEM

好吧，你真的不使用`PROGMEM`. 如果您现在想避免这种麻烦，只需删除`PROGMEM`属性`dictionary`并使用以下内容：

```
screen.print(dictionary[lang][LANG_SOUND], CENTER, 23); 
```

但是，如果您有很多这样的数据，您可能需要使用`PROGMEM`. 但是，如果您想立即开发应用程序的其他部分，请暂时忽略该`PROGMEM`部分。

### 使用`PROGMEM`

不幸的是，您必须`PROGMEM`几乎完全按照该示例中的方式使用，即为每个`PROGMEM`字符串声明一个唯一变量。不过，您不必将表格存储在其中`PROGMEM`。但是像这样的行：

```
prog_char dictEnglishSalami[] PROGMEM = "Salami";
prog_char dictEnglishProsecco[] PROGMEM = "Prosecco"; 
```

将被要求。`dictionary`看起来像的表

```
const char *string_table[] = {
   dictEnglishSalami,
   dictEnglishProsecco,
   ...
   }; 
```

可以声明也可以不声明`PROGMEM`，但为什么不能在这一点上呢？

# javascript - javascript：大型位数组上最快按位运算的表示？

> ID：15737588
> 
> 赞同：1
> 
> 时间：2013-04-01T04:23:00.950
> 
> 标签：javascript, node.js

我有一小组（〜10）长度〜10,000的位数组。什么是允许对整个集合进行最快的“AND &”按位运算的位数组数据结构？

到目前为止，我正在考虑 node.js 的缓冲区或类型化数组。但是，尚不清楚是否允许对整个数组进行按位操作，或者是否必须使用缓慢的逐字节迭代来完成。

# c - fgets 不阅读 EOL？

> ID：15737589
> 
> 赞同：1
> 
> 时间：2013-04-01T04:23:06.567
> 
> 标签：c, fgets

所以基本上我正在用 C 语言编写一个基于文本的 rpg，我想创建一个地图系统。基本上，我遇到问题的功能是从如下所示的文件中读取“文本映射”：

```
----------\n
|c  x    [\n
|   x    |\n
]        |\n
----------\0 
```

它基本上是使用二维数组构建的。****编辑***我添加了地图在实际数组中的样子。是不是因为我不喜欢终止每一行

这是我遇到问题的功能：

```
char** readMap(char* map_to_read,int h, int w){
    FILE* fp;
    int a = 0, b = 0;
    char map_return[h][w];
    char* c;

    fp = fopen(map_to_read, "r");

    for(a = 0; a < h; a++){
        for(b = 0; b < w; b++){
            c = (char*)malloc(sizeof(char) * w);
            map_return[a][b] = fgets(c, w, fp);
            printf("%s", c);
        }
        free(c);
    }

    fclose(fp);
    return map_return;
} 
```

一切都读到最后，因为 fgets() 没有读取 EOL。这是 printf 从内部看的样子：http: [//i.imgur.com/KojbjDm.png](http://i.imgur.com/KojbjDm.png)

我可以为此获得第二双眼睛吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-01T05:09:30.400

### 分析

> 有什么价值`w`？对于您显示的数据，获取换行符也应该至少为 12（10 个字符，换行符和空值）。稍后您将遇到问题，因为您不能（安全地）返回本地数组`map_return`，但这是一个单独的错误。此外，您应该`map_return[a][b] = fgets(c, w, fp);`在线上收到类型不匹配警告，因为`map_return[a][b]`is a`char`并`fgets()`返回 a `char *`。`free(c)`如果您要保存指向它的指针，您将负担不起。这里有很多问题...

你回复：

> 基本上它是`array[h][w]`, 所以`w`表示数组的一行中的元素数。

得到了进一步的回应：

> 所以你需要两个独立的内存块。一个用于读取该行并对其进行验证。可以很简单`char line[128];`。然后你使用`if (fgets(line, sizeof(line), fp) == 0) { ...process EOF/error...}`. 假设通过，您验证该行，当它通过验证时，您可以安排将最多`w`字符从该行复制到`map_return`数组中。您必须决定是否使用字符串（以 '\0' 结尾）。你可以为任何一个提出理由。然后，您必须处理“不返回局部变量”的问题。

### 合成

我建议您将接口更改为函数，以便调用者为其分配内存。

此代码编译（但尚未运行）。它不会对读取的行进行太多验证；你可以决定要做什么。

```
#include <stdio.h>
#include <stdbool.h>

extern bool readMap(char* map_to_read, int h, int w, char map[h][w]);

bool readMap(char* map_to_read, int h, int w, char map[h][w])
{
    FILE* fp;

    if ((fp = fopen(map_to_read, "r")) == 0)
        return false;

    for (int a = 0; a < h; a++)
    {
        char line[128];
        if (fgets(line, sizeof(line), fp) == 0)
        {
            fclose(fp);
            return false;
        }
        for (int b = 0; b < w; b++)
        {
            // Validation
            if (line[b] == '\n' || line[b] == '\0')
            {
                fclose(fp);
                return false;
            }
            map[a][b] = line[b];
            printf("%c", line[b]);
        }
        putchar('\n');
    }

    fclose(fp);
    return true;
} 
```

此代码假定您没有在`map`数组中存储以 null 结尾的字符串。

示例调用：

```
int h = 5;
int w = 10;
char map[h][w];

if (mapRead("somefile", h, w, map))
    ...process initialized map...
else
    ...report failure... 
```

该函数的错误报告很少；你可以尽可能多地改进它。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-01T05:23:07.760

与其责备，不如`fgets`看看你的逻辑。您在内部循环中循环时间，每次`w`读取字节......这是总字节数。`w``h*w*w`

# file - JSF PrimeFaces 3.5 FileUpload 本地路径

> ID：15737594
> 
> 赞同：1
> 
> 时间：2013-04-01T04:24:10.157
> 
> 标签：file, jsf, primefaces, filepath

我正在使用 PrimeFaces 3.5 并正在使用 p:fileUpload 处理上传的 PDF 文件。我想在我的应用程序中提供一个链接，以在最终用户刚刚选择上传到服务器的本地计算机上启动 PDF 文件。

我知道服务器不应该关心最终用户上传到服务器的文件的本地路径。但是，最终用户希望通过上传屏幕本身上的链接验证他们上传的文件是否正确。较慢的方法是链接到服务器上现在上传的副本。我宁愿从他们自己的机器上启动他们的本地原始文件，以避免下载他们只是等待上传的潜在大文件。但这意味着 JavaScript 对象或服务器必须知道每个上传文件的完整本地路径。我还是 JSF 的新手，并且能够在旧系统中毫无问题地做到这一点（带有签名小程序的 Java swing）。

如果强制链接到服务器副本，则可能会在新系统中显示为性能下降。感谢您的任何建议。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-01T19:42:31.813

`File`只有当浏览器支持新的 HTML5 API时，这在 JavaScript 中才有可能。如您所见，唯一的选择是使用 Applet 或 JWS。

JSF 不相关，因为它在这个问题的上下文中只是一个 HTML 代码生成器。

# php - 什么是 err:504 在 phpexcel 中？

> ID：15737598
> 
> 赞同：1
> 
> 时间：2013-04-01T04:25:39.003
> 
> 标签：php, phpexcel

有人知道 phpexcel 中的错误 Err:504 是什么吗？我在带有公式的 excel 单元格上收到此错误

`=INDEX($'Country Data (D)'.F1:F25;MATCH($G$7&$G$8;$'Country Data (D)'.A1:A25&$'Country Data (D)'.B1:B25;0))`

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-01T04:52:53.783

HTTP 错误 504 网关超时 [http://www.checkupdown.com/status/E504.html](http://www.checkupdown.com/status/E504.html)

# jquery - 如何更改jquery mobile页脚的背景颜色？

> ID：15737599
> 
> 赞同：2
> 
> 时间：2013-04-01T04:25:49.163
> 
> 标签：jquery, ios, css, cordova, jquery-mobile

我正在使用 jquerymobile 为 iOS 构建一个 PhoneGap 应用程序，我尝试更改 jquerymobile 的背景，但我不能。这是我的html源代码：

```
<!DOCTYPE html>
<html>
    <head>
        <title></title>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        <meta name="format-detection" content="telephone=no" />
        <meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width, height=device-height, target-densitydpi=device-dpi" />

        <link rel="stylesheet" href="http://code.jquery.com/mobile/1.2.1/jquery.mobile-1.2.1.min.css" />

        <script src="http://code.jquery.com/jquery-1.8.3.min.js"></script>
        <script src="http://code.jquery.com/mobile/1.2.1/jquery.mobile-1.2.1.min.js"></script>
        <script type="text/javascript" src="../../js/cordova-2.5.0.js"></script>
            <link rel="stylesheet" href="mainUI.css"/>

    </head>
    <body>

        <div data-role="page" id='mypage'>
            <div data-role="header" data-position="fixed">
                <h1>Page Title</h1>
                <a data-role="button" data-rel="back">back</a>
            </div><!-- /header -->

            <div data-role="content">
                content
            </div><!-- /content -->
            <div class="my-footer" style="background-color: #00FF00;" data-role="footer" data-position="fixed">
                <div class="my-tabbar">
                    MYTEST div
                </div>
            </div>
        </div><!-- /page -->
    </body>
</html> 
```

这是我的自定义 CSS 文件：

```
.my-footer {
    background-color:   #ff0000;    
}
.my-footer .my-tabbar{
    background-color:   #ff0000;
}
.my-tabbar{
    background-color: #ff00ff;
} 
```

当我在 Chrome 浏览器上运行这个 html 时，我工作了。但是当我在 iPhone5 设备上运行时，它没有。请帮忙。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-01T05:49:53.097

感谢我的同事，我终于找到了根本原因。当我用 PC 浏览器测试这个 html 文件时，我双击它。所以它作为一个普通的 html 文件运行，它将加载`<header>`标签内所有声明的资源。但是当我在 iPhone 上测试时，我使用 导航到另一个页面的这个 html 文件`$.mobile.changePage()`，这将只加载`<body>`标签的内容。在这种情况下，我的`css`文件没有加载。这就是为什么我的页面无法在 iPhone 上运行的原因。

所以，要解决这个问题，我只需要将所有资源声明（内部）移动到标签`<head>`的底部。`<body>`通过这种方式，资源文件将始终被加载。

希望这可以帮助。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-01T05:46:29.387

您需要使用实际的 jQuery 页脚移动选择器。您可以在 iPhone 上使用 Safari 网络检查器来找到任何东西的确切选择器，并在您自己的样式表中相应地更改它。

以下是一些我认为可以完成工作的选择器：

.ui-bar-a.ui-footer {

```
/*Change background here */ 
```

}

PS 在您的样式表中，如果您想覆盖 jQuery mobile，请让您的选择器更加具体。**所以，而不是...**

.ui-bar-a.ui-footer {

```
/*Change background here */ 
```

}

**利用....**

.my-footer.ui-bar-a.ui-footer {

```
/*Change background here */ 
```

}

**或者....**

.home-page .ui-bar-a.ui-footer {

```
/*Change background here */ 
```

}

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2013-04-01T04:58:05.073

为什么要手动编辑 CSS 并弄乱框架。JQuery Mobile 提供了一个优雅的解决方案来更改 JQM 元素（如页眉、页脚、按钮等）的颜色主题。

你听说过[主题滚轮](http://jquerymobile.com/themeroller/index.php)吗？主题滚轮可让您将您选择的颜色导入您的 UI 元素。添加您的颜色并将 css 文件导入项目并将`data-theme`元素更改为您在 Theme Roller 中使用的色板。

我个人推荐您在 Swatch “g” 之后的自定义主题，并在 jQuery 移动 css 文件之前导入您的 css 文件。

# ios - 尝试实现相机功能时，xcode 将“DetailViewController *”投掷到不兼容类型警告的参数中

> ID：15737600
> 
> 赞同：2
> 
> 时间：2013-04-01T04:26:12.533
> 
> 标签：ios, objective-c, uiimagepickercontroller

所以我正在尝试为我的 ObjectiveC 应用程序实现相机功能。我有一个`MasterViewController`有一个`tableview`。`DetailViewController`句柄查看详细信息`cells`并添加新信息。我有一个相机按钮`navbar`，我想打开系统相机的东西并能够从那里抓取图像。

唯一的问题是，出于某种原因，我`UIImagePickerController`不会让我将我设置为代表。`DetailViewController`它只是在这篇文章的标题中提出警告。我已确保已正确实施委托。类似的帖子也建议`navigationcontrollerdelegate`实施，所以我这样做了。

就目前而言，我*认为*在我正确设置委托之前，相机将无法工作。我在这里附上了相关课程的代码：

```
#import "DetailViewController.h"
#import "MasterViewController.h"
#import "BucketItem.h"

@interface DetailViewController ()
@property (strong, nonatomic) UIPopoverController *masterPopoverController;
- (void)configureView;
@end

@implementation DetailViewController

- (void)dealloc
{
    [_detailItem release];
    [_masterPopoverController release];
    [super dealloc];
}

#pragma mark - Managing the detail item

-(void)setCellForEditing:(UITableViewCell*)cell
{
    cellBeingEdited = cell;
}

- (void)setDetailItem:(id)newDetailItem
{
    if (_detailItem != newDetailItem) {
        [_detailItem release];
        _detailItem = [newDetailItem retain];

        // Update the view.
        [self configureView];
    }

    if (self.masterPopoverController != nil) {
        [self.masterPopoverController dismissPopoverAnimated:YES];
    }
}

- (void)configureView
{
    // Update the user interface for the detail item.
    if(cellBeingEdited != nil)
    {
        NSUInteger cellNumber = [self.data.bucketItemCells indexOfObject:cellBeingEdited];
        BucketItem *item = [self.data.bucketItems objectAtIndex:cellNumber];
        titleInputBox.text = item.title;
        descriptionInput.text = item.description;
        isCompletedSwitch.on = item.isCompleted;
        date = item.date;
        imageView.image = item.image;
    }
}
- (void)viewDidLoad
{
    [super viewDidLoad];
    // Do any additional setup after loading the view, typically from a nib.
    [self configureView];
    UIBarButtonItem * doneButton =[[[UIBarButtonItem alloc] initWithBarButtonSystemItem: UIBarButtonSystemItemDone target:self action:@selector(saveObject:)] autorelease];
    UIBarButtonItem * cameraButton = [[[UIBarButtonItem alloc] initWithBarButtonSystemItem: UIBarButtonSystemItemCamera target:self action:@selector(takePicture:)] autorelease];
    self.navigationItem.rightBarButtonItems = [NSArray arrayWithObjects: doneButton, cameraButton, nil];

}

-(void) takePicture:(id)sender
{
    UIImagePickerController *imagePicker = [[UIImagePickerController alloc]init];
    if([UIImagePickerController isSourceTypeAvailable:UIImagePickerControllerSourceTypeCamera])
    {
        [imagePicker setSourceType:UIImagePickerControllerSourceTypeCamera];
    }
    else
    {
        [imagePicker setSourceType:UIImagePickerControllerSourceTypePhotoLibrary];
    }
    DetailViewController *tmp = self;
    [imagePicker setDelegate: tmp];

}

- (void) imagePickerController:(UIImagePickerController *)picker didFinishPickingMediaWithInfo:(NSDictionary *)info
{
    UIImage *image = [info objectForKey:UIImagePickerControllerOriginalImage];

    [imageView setImage:image];
    [self dismissViewControllerAnimated:NO completion:nil];
}

-(void) saveObject:(id)sender
{

    UIImage *image = nil;
    if(imageView.image != nil)
    {
        image = imageView.image;
    }
    if(cellBeingEdited == nil)
    {
        [self.data addNewItemWithTitle: titleInputBox.text
                        andDescription: descriptionInput.text
                       thatIsCompleted: isCompletedSwitch.on
                              withDate: date
                             withImage: image];

    }
    else
    {
        NSUInteger cellNumber = [self.data.bucketItemCells indexOfObject:cellBeingEdited];
        BucketItem *item = [self.data.bucketItems objectAtIndex:cellNumber];
        item.title = titleInputBox.text;
        item.description = descriptionInput.text;
        item.isCompleted = isCompletedSwitch.on;
        item.date = date;
        item.image = image;
        [self.data.bucketItemCells replaceObjectAtIndex:cellNumber withObject:[self.data cellWithBucketItem:item]];
    }
    MasterViewController *vc = [self.navigationController.viewControllers objectAtIndex:0];
    [vc.tv reloadData];
    [self.navigationController popViewControllerAnimated:YES];

}

-(IBAction) onSwitchToggle:(id)sender
{
    if(isCompletedSwitch.on == YES)
    {
        date = [[NSDate dateWithTimeIntervalSince1970:1.0] retain];
        NSDateFormatter *format = [[NSDateFormatter alloc] init];
        [format setDateFormat: @"yyyy-MM-dd"];
        dateLabel.text =[format stringFromDate: date];
        [format release];
    }
    else
    {
        date = nil;
    }
}

- (void)didReceiveMemoryWarning
{
    [super didReceiveMemoryWarning];
    // Dispose of any resources that can be recreated.
}

- (id)initWithNibName:(NSString *)nibNameOrNil bundle:(NSBundle *)nibBundleOrNil
{
    self = [super initWithNibName:nibNameOrNil bundle:nibBundleOrNil];
    if (self) {
        self.title = NSLocalizedString(@"Detail", @"Detail");
    }
    return self;
}

-(BOOL)textFieldShouldReturn:(UITextField* )aTextField
{
    [aTextField resignFirstResponder];
    return YES;
}

#pragma mark - Split view

- (void) navigationController: (UINavigationController *) navigationController didShowViewController:(UIViewController *)viewController animated:(BOOL)animated
{
}

-(void) navigationController: (UINavigationController *) navigationController willShowViewController:(UIViewController *)viewController animated:(BOOL)animated
{
}

-(void) imagePickerControllerDidCancel:(UIImagePickerController *)picker
{

}

- (void)splitViewController:(UISplitViewController *)splitController willHideViewController:(UIViewController *)viewController withBarButtonItem:(UIBarButtonItem *)barButtonItem forPopoverController:(UIPopoverController *)popoverController
{
    barButtonItem.title = NSLocalizedString(@"Master", @"Master");
    [self.navigationItem setLeftBarButtonItem:barButtonItem animated:YES];
    self.masterPopoverController = popoverController;
}

- (void)splitViewController:(UISplitViewController *)splitController willShowViewController:(UIViewController *)viewController invalidatingBarButtonItem:(UIBarButtonItem *)barButtonItem
{
    // Called when the view is shown again in the split view, invalidating the button and popover controller.
    [self.navigationItem setLeftBarButtonItem:nil animated:YES];
    self.masterPopoverController = nil;
}
@end 
```

这是所要求的 .h 文件：

```
@interface DetailViewController : UIViewController <UIImagePickerControllerDelegate, UINavigationControllerDelegate, UISplitViewControllerDelegate, UITextFieldDelegate>
{
    IBOutlet UITextField *titleInputBox;
    IBOutlet UITextField *descriptionInput;
    IBOutlet UISwitch *isCompletedSwitch;
    IBOutlet UILabel *dateLabel;
    IBOutlet UIImageView *imageView;
    NSDate *date;
    UITableViewCell *cellBeingEdited;
}

@property (strong, nonatomic) id detailItem;
@property (readwrite, assign) BucketListDataSource *data;

-(IBAction) onSwitchToggle:(id)sender;

-(void)setCellForEditing:(UITableViewCell*)cell;

-(void) imagePickerController:(UIImagePickerController *)picker didFinishPickingMediaWithInfo:(NSDictionary *)info;

-(void) imagePickerControllerDidCancel:(UIImagePickerController *)picker;
@end 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-01T04:30:21.647

很可能您没有声明您的类符合`UIImagePickerControllerDelegate`协议。通过更改此行来更新您的 .m：

```
@interface DetailViewController () 
```

到：

```
@interface DetailViewController () <UIImagePickerControllerDelegate> 
```

有些人可能会将其添加到`@interface`.h 文件的行中，但除非其他类需要知道您的视图控制器符合委托协议，否则最好将其添加到 .m 文件中的类扩展名中。

此外，以下代码：

```
DetailViewController *tmp = self;
[imagePicker setDelegate: tmp]; 
```

应该只是：

```
imagePicker.delegate = self; 
```

**更新**：既然您已经发布了 .h，请注意，您不应`UIImagePickerControllerDelegate`将 .h 文件中的方法声明为类接口的一部分。添加协议会为您完成此操作。从您的 .h 文件中删除这些：

```
-(void) imagePickerController:(UIImagePickerController *)picker didFinishPickingMediaWithInfo:(NSDictionary *)info;

-(void) imagePickerControllerDidCancel:(UIImagePickerController *)picker; 
```

# matlab - 用误差线绘制曲线拟合

> ID：15737601
> 
> 赞同：2
> 
> 时间：2013-04-01T04:26:16.193
> 
> 标签：matlab

当使用 Matlab 包 cftool 进行曲线拟合时，可以选择生成与拟合对应的代码。这是一个示例结果：

```
%% Fit: 'myfit'.
[xData, yData, weights] = prepareCurveData( x, y, weights);

% Set up fittype and options.
ft = fittype( 'a^x+b', 'independent', 'x', 'dependent', 'y' );
opts = fitoptions( ft );
opts.Display = 'Off';
opts.Lower = [-Inf -Inf];
opts.StartPoint = [0 0];
opts.Upper = [Inf Inf];
opts.Weights = weights;

% Fit model to data.
[fitresult, gof] = fit( xData, yData, ft, opts );

% Plot fit with data.
figure( 'Name', 'myfit' );
h = plot( fitresult, xData, yData );
% Label axes
xlabel( 'x' );
ylabel( 'y' );
grid on 
```

我想使用单独的错误向量绘制与自定义误差线相同的拟合。通常，我会使用该函数`errorbar()`代替`plot()`，但它不接受此代码中`fitobject`的对象`fitresult`。实际上，此代码使用的唯一原因`plot()`是曲线拟合工具箱中有[一个重载版本，`plot()`](http://www.mathworks.com/help/curvefit/plot.html)与 normal 完全分开`plot()`，它确实接受这些对象。

**如何绘制 cftool 适合误差线？**

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-02T03:51:52.040

*要在数据*上绘制拟合和误差条，而不是拟合，请使用：

```
plot(fitresult, xData, yData);
hold on;
errorbar(xData,yData,errors, '.'); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-01T05:06:36.173

好吧，您已经有了拟合，因此您可以使用 插值拟合的 y 值`feval()`。将此数据与您的自定义错误配对并将其发送到`errorbar()`.

```
yFit = feval(fitresult, xData);
errorbar(xData,yFit,xError,yError); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-01T05:05:19.767

我不确定您希望如何将误差线纳入您的合身状态。

如果要同时显示 'a' 和 'b' 并带有代表 CI 的错误栏，可以使用[confint](http://www.mathworks.com/help/curvefit/confint.html)函数提取 CI：

```
errorbar([fitresult.a; fitresult.b], diff(confint(fitresult))/2,'x') 
```

# linux - 设置 gdb 断点选择一组不同的构造函数 32 位与 64 位

> ID：15737603
> 
> 赞同：3
> 
> 时间：2013-04-01T04:26:20.757
> 
> 标签：linux, gdb, 32bit-64bit, breakpoints

我在两台机器上本地编译了完全相同的源代码/make 文件：Linux Fedora 16 32 位和 Linux Fedora 17 64 位。

在 32 位机器上：

```
(gdb) break FRS::FRS
Breakpoint 4 at 0x804ea29: file ntfs.cpp, line 751.
Breakpoint 5 at 0x804e18f: file ntfs.cpp, line 505.
warning: Multiple breakpoints were set.
Use the "delete" command to delete unwanted breakpoints.

GNU gdb (GDB) Fedora (7.3.50.20110722-16.fc16) 
```

在 64 位机器上：

```
(gdb) break FRS::FRS
Breakpoint 1 at 0x407daf: file ntfs.cpp, line 751.

GNU gdb (GDB) Fedora (7.4.50.20120120-54.fc17) 
```

使用 32 位调试会话中的知识，我设置了另一个断点（并删除了第一个断点）来调试正确的功能。但是，它的执行方式不同，并且对于同一个测试用例只命中了两次该构造函数。在 32 位环境中，它会遇到十几次断点。

```
FRS::FRS (MFT *Mft, uint32 MFTRef, bool shallow)   // this is line 505
{
        memset (this, 0, sizeof *this);
        ParentMFT = Mft;
        MFTReference = MFTRef;
        Volume  *vol = GetParentVolume ();

        frs_bytes = ParentMFT -> GetFRSSizeInBytes();
        frs_buf = new uint8 [frs_bytes];
        if (!frs_buf)
        {
                fprintf (stderr, "FRS: alloc(%u) err\n", frs_bytes);
                exit (1);
        }

        int     sects = ParentMFT->GetFRSSizeInSectors();       // sectors per FRS
        bool    rc;

        if (!MFTRef)
                rc = vol -> RelativeRead (frs_buf, ParentMFT->GetMFTStart(), sects);
        else
        {
                uint32 FirstLsn = Mft -> LogicalFromVirtual(MFTReference * sects);
                uint32 LastLsn  = Mft -> LogicalFromVirtual(MFTReference * sects + sects - 1);

                if (FirstLsn + sects - 1 == LastLsn)    // is contiguous?
                        rc = vol -> RelativeRead (frs_buf, FirstLsn, sects);    // optimize read
                else
                {       // not contiguous:  read sectors one at a time
                        for (int j = 0;  j < sects;  ++j)
                        {
          ... (170 more lines)

// copy constructor
FRS::FRS(FRS *frs)   // this is line 751
{
        int     j;
        *this = *frs;
        if (frs_buf)
        {
                frs_buf = new uint8 [frs_bytes];
                memcpy (frs_buf, frs -> frs_buf, frs_bytes);
        }

        DAttr = NULL;
        StreamList = NULL;
      ...  // 50 more lines 
```

这个函数将被编译掉的 64 位代码有什么本质上的不同吗？（它是一个 204 行函数，所以我在证明它不平凡后将其截断。）

什么可以解释为什么`gdb`没有“看到”相同的构造函数集，以及为什么代码似乎没有被调用那么多——尽管为什么它与“全部或全部”不同是一个谜。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-05-26T18:57:07.947

您正在比较不同版本的 gdb 以及不同版本的 gcc。那只是太多变数了。

很可能是调试信息差异。但仅凭这些信息是不可能的。

要知道的一件事是 C++ ABI 指定要发出的构造函数的多个副本。有“负责”和不负责的变体。gdb 将在它找到的所有断点上放置断点。

但是，我认为这可能会受到 debuginfo 和其他因素的影响。从源代码到可执行文件所发生的情况并不总是很明显......如果您真的想确切地找到发生这种情况的原因，您可以使用“nm”和“readelf -wi”等工具来挖掘符号和调试信息。

# javascript - 自举模态重叠

> ID：15737614
> 
> 赞同：0
> 
> 时间：2013-04-01T04:27:47.680
> 
> 标签：javascript, html, css, twitter-bootstrap

我已经实现了引导模式，它工作正常。这是我的代码

```
<div id="myModal" class="modal fade hide" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
    <div class="modal-header" style="background-color:#bb4837">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">x</button>
        <h2 style="color:white;vertical-align:middle"id="myModalLabel">Add Multiple Stores</h2>
    </div>
    <div class="modal-body">
        <des style="font-family:garrisons">You can upload a excel sheet with your store details.Please download the multistore template in .xls format <a href="#">here</a>.</des><br><br>
            <input style="margin-left:5em" type="text" id="upload-textstore" onclick="select_file('store','storefile','store','text/csv');" class="span3"/><button type="button" style="margin-bottom:25px;margin-left:10px" onclick="upload('/merchant/v1/fileupload','store')" class="btn btn-upload">Upload</button><br>
        <br><br><br><br>
    </div>
    <div class="modal-footer">
            <form class="form-inline" style="margin-bottom:0px">
                <button class="btn btn-danger " data-dismiss="modal" style="font-size:1.2em;height:32px;width:7em;margin-left:4em;margin-right:.5em" href="#">Select</button>
                <a data-dismiss="modal" href="#" style="font-size:1.2em;margin-top:.4em;margin-left:0px;margin-right:1em">Cancel</a>

            </form>
    </div>
</div> 
```

问题是它与网页中的其他组件重叠并且看起来很隐藏。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2014-04-10T03:09:59.800

以防万一它会帮助其他人，我遇到了这个问题，这是因为我没有在明确定义的行类中包含我的引导列。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2013-04-01T05:16:21.840

我在评论中回答了这个问题，但这是我的正式回答，如果假设某些内容隐藏在网站上但它仍然存在，您应该查看元素`CSS`显示属性并确保将它们设置`display:none`为此将从中删除该元素页面流，如果该元素具有`visibility: hidden`更改为`display:none`as的属性，`visibility: hidden`则会删除元素的视觉方面，但不会将其从站点流中删除。

# ruby-on-rails - 登录 ActiveAdmin 时出现路由错误

> ID：15737616
> 
> 赞同：2
> 
> 时间：2013-04-01T04:28:19.150
> 
> 标签：ruby-on-rails, routes, activeadmin

我刚刚安装了 ActiveAdmin，一切顺利：

gem 已安装，我运行了 install 命令。我能够访问 localhost:3000/admin 并使用文档中列出的 admin@example 和“密码”凭据登录。

但是，当我单击“登录”时，我得到以下信息：

```
No route matches {:action=>"show", :controller=>"users", :id=>nil} 
```

我的 routes.rb 文件：

```
devise_for :admin_users, ActiveAdmin::Devise.config
ActiveAdmin.routes(self)

devise_for :users, :path => '', :path_names => {:sign_in => 'login', :sign_out => 'logout'}

resources :offers

resources :users do
collection do
  get :currentoffers
end 
```

我的 users_controller.rb：

```
def index
end

def show
    @user = User.find(params[:id])
end

def currentoffers
    #calls the currentoffers.js.erb file
    respond_to do |format|
        format.html
        format.js
    end
end 
```

运行 rake 路线时得到的结果：

```
admin_root            /admin(.:format)                          admin/dashboard#index
batch_action_admin_admin_users POST       /admin/admin_users/batch_action(.:format) admin/admin_users#batch_action
         admin_admin_users GET        /admin/admin_users(.:format)              admin/admin_users#index
                           POST       /admin/admin_users(.:format)              admin/admin_users#create
      new_admin_admin_user GET        /admin/admin_users/new(.:format)          admin/admin_users#new
     edit_admin_admin_user GET        /admin/admin_users/:id/edit(.:format)     admin/admin_users#edit
          admin_admin_user GET        /admin/admin_users/:id(.:format)          admin/admin_users#show
                           PUT        /admin/admin_users/:id(.:format)          admin/admin_users#update
                           DELETE     /admin/admin_users/:id(.:format)          admin/admin_users#destroy
           admin_dashboard            /admin/dashboard(.:format)                admin/dashboard#index
 batch_action_admin_comments POST       /admin/comments/batch_action(.:format)    admin/comments#batch_action
            admin_comments GET        /admin/comments(.:format)                 admin/comments#index
                           POST       /admin/comments(.:format)                 admin/comments#create
             admin_comment GET        /admin/comments/:id(.:format)             admin/comments#show
    new_admin_user_session GET        /admin/login(.:format)                    active_admin/devise/sessions#new
        admin_user_session POST       /admin/login(.:format)                    active_admin/devise/sessions#create
destroy_admin_user_session DELETE|GET /admin/logout(.:format)                   active_admin/devise/sessions#destroy
       admin_user_password POST       /admin/password(.:format)                 active_admin/devise/passwords#create
   new_admin_user_password GET        /admin/password/new(.:format)             active_admin/devise/passwords#new
  edit_admin_user_password GET        /admin/password/edit(.:format)            active_admin/devise/passwords#edit
                           PUT        /admin/password(.:format)                 active_admin/devise/passwords#update
          new_user_session GET        /login(.:format)                          devise/sessions#new
              user_session POST       /login(.:format)                          devise/sessions#create
      destroy_user_session DELETE     /logout(.:format)                         devise/sessions#destroy
   user_omniauth_authorize            /auth/:provider(.:format)                 devise/omniauth_callbacks#passthru {:provider=>/facebook/}
    user_omniauth_callback            /auth/:action/callback(.:format)          devise/omniauth_callbacks#(?-mix:facebook)
             user_password POST       /password(.:format)                       devise/passwords#create
         new_user_password GET        /password/new(.:format)                   devise/passwords#new
        edit_user_password GET        /password/edit(.:format)                  devise/passwords#edit
                           PUT        /password(.:format)                       devise/passwords#update
  cancel_user_registration GET        /cancel(.:format)                         devise/registrations#cancel
         user_registration POST       /                                         devise/registrations#create
     new_user_registration GET        /sign_up(.:format)                        devise/registrations#new
    edit_user_registration GET        /edit(.:format)                           devise/registrations#edit
                           PUT        /                                         devise/registrations#update
                           DELETE     /                                         devise/registrations#destroy 
```

有谁知道我为什么会收到这个错误？在 routes.rb 文件中包含用户资源是否会干扰 ActiveAdmin？

- -更新：

```
# Application_controller.rb:

class ApplicationController < ActionController::Base
    protect_from_forgery

def after_sign_in_path_for(resource)
    user_path(@user)
end

end 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-03T14:31:37.727

试试这个，

```
def after_sign_in_path_for(resource)
  user_path(resource)
end 
```

问题在于，

```
 user_path(@user) 
```

其中@user 未定义，因此为零。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-04-03T14:38:09.233

移动这条线

```
ActiveAdmin.routes(self) 
```

在这条线之上

```
devise_for :admin_users, ActiveAdmin::Devise.config 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-10-16T10:58:36.523

移动

```
ActiveAdmin.routes(self) 
```

前

```
 devise_for :admin_users, ActiveAdmin::Devise.config 
```

由于生成了额外的“/”路由的 ActiveAdmin 错误导致错误，该错误已在 ActiveAdmin 0.6.1 中修复，升级 ActiveAdmin 将允许修复为我们解决问题。

# css - 在 Windows 7 上旋转时字体呈现模糊和锯齿状

> ID：15737618
> 
> 赞同：1
> 
> 时间：2013-04-01T04:28:26.753
> 
> 标签：css, windows, rendering, font-face, webfonts

[http://stage.bravo-company.info/panaplast/index2.php/](http://stage.bravo-company.info/panaplast/index2.php/)

上面的链接，我意识到在 Windows 7 上的 chrome/ie/ff 上查看时，导航侧边栏（右侧）上的字体显得超薄和锯齿状/模糊。

我读到了 cleartype 的东西，但对我来说，除了侧边栏导航上的旋转字体外，其他字体似乎是可以接受的。

字体“vitesse”是使用 font-face 嵌入的 css。但我禁用了字体并使用了默认的网络字体，但问题仍然存在。

与我的 css 语法有关吗？我该如何解决？

编辑：这里的截图：

![在此处输入图像描述](https://i.stack.imgur.com/TgTrJ.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-01T04:35:42.287

> Web 字体在所有浏览器中都不是流畅的。对于 web-kit 浏览器，您可能必须使用 -webkit-font-smoothing: antialiased。
> 
> 您最好使用 text-shadow: 0px 0px 1px #GOOD-COLOR-HERE 或 text-shadow: 0px 0px 1px rgba(COLOR-SETTINGS-HERE) 并调整颜色设置和阴影以获得最佳效果。

在与您类似的另一个问题上找到。[其他帖子](https://stackoverflow.com/questions/15251399/font-looks-distorted-in-windows)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-01T04:36:08.873

您仍在使用 vitesse 字体：

```
$("#link-home").css("font-family") 
```

返回

```
"vitessel" 
```

我用 Arial 覆盖，它工作正常，看起来可能只是字体的问题？

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-01T04:40:34.303

> Web 字体在所有浏览器中都不是流畅的。对于 web-kit 浏览器，您可能必须使用 -webkit-font-smoothing: antialiased。
> 
> 您最好使用 text-shadow: 0px 0px 1px #GOOD-COLOR-HERE 或 text-shadow: 0px 0px 1px rgba(COLOR-SETTINGS-HERE) 并调整颜色设置和阴影以获得最佳效果。

在与您类似的另一个问题上找到。[其他帖子](https://stackoverflow.com/questions/15251399/font-looks-distorted-in-windows)

还。 [这个帖子](https://stackoverflow.com/questions/7285061/font-face-text-gets-jagged-on-windows?rq=1)

> 网页字体的渲染效果取决于 5 件事；
> 
> 字体的设计有多合适？字体的提示效果如何？它是从哪个字体交付服务提供的？正在使用什么字体大小？在什么系统配置上查看？欲了解更多信息： [http ://elliotjaystocks.com/blog/choose-your-web-fonts-wisely/](http://elliotjaystocks.com/blog/choose-your-web-fonts-wisely/)

# android - Android 编程中的可移动存储路径

> ID：15737619
> 
> 赞同：0
> 
> 时间：2013-04-01T04:28:28.343
> 
> 标签：android, storage, external, sd-card

我的问题应该有点简单，但我从互联网上搜索了很多，找不到答案。

Environment.getExternalStorageDirectory() 应该是获取外部存储目录（路径）但是，由于制造商“mnt/sdcard”，大多数手机会返回内部存储

那么我怎样才能获得真正的可移动外部存储（SD卡）的路径？有很多答案。

```
mnt/sdcard0/...
mnt/sdcard/sd
mnt/sdcard/ext_sd
mnt/sdcard/external_sd
mnt/sdcard/extSdCard 
```

以上所有内容在我的三星 Galaxy S3 (i9300) 中均无法正常工作

我发现我手机中sd卡的路径是mnt/extSdCard和一些索尼手机中的mnt/ext_sd。

这意味着我们不能有一种简单的方法来获取路径而不是“硬编码”吗？如果是这样，是否有不同版本的android系统的不同手机的可移动存储路径列表？

谢谢你。

# android - Android Eclipse ddms 线程视图透视图

> ID：15737626
> 
> 赞同：2
> 
> 时间：2013-04-01T04:29:15.827
> 
> 标签：android, eclipse, ddms

在 Eclipse 的 Thread 视图透视图中需要帮助。

由于某种原因，当我在线程视图中选择特定线程时，看不到线程的详细信息（在刷新按钮下方）

类名被截断并且看不到文件/方法名列...我尝试更改 ddms 视图设置但徒劳无功！！

这里的任何帮助将不胜感激！...！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-01T04:45:52.717

我面临同样的问题，作为一种解决方法，选择窗口中的内容，然后将其粘贴到记事本中。

# java - 我们如何获得 Obect 类方法的访问权限？即使我们没有将（Obects 类）扩展到我们的子类？

> ID：15737627
> 
> 赞同：-3
> 
> 时间：2013-04-01T04:29:22.080
> 
> 标签：java

我们不会这样写——

类对象{}

类 Myclass 扩展对象{

// 我们仍然可以访问 Object 类的方法。

}

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-01T04:31:33.133

Java 会为您做到这一点。Java 中的所有类都继承自 Object。这就是它在 Java 中的实现方式。

Java 编译器可以理解您的类隐式扩展 Object，就像您不必导入 Java.lang 包一样

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-01T04:33:21.467

默认情况下，所有 Java 对象都是**Object**的子对象。

[http://docs.oracle.com/javase/tutorial/java/IandI/subclasses.html](http://docs.oracle.com/javase/tutorial/java/IandI/subclasses.html)

[http://docs.oracle.com/javase/6/docs/api/overview-tree.html](http://docs.oracle.com/javase/6/docs/api/overview-tree.html)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-01T05:48:53.650

> 我们如何获得 Obect 类方法的访问权限？即使我们没有将（Obects 类）扩展到我们的子类？

因为你是，除非你明确地扩展了另一个类。“扩展对象”是默认设置。

# java - 将我的值作为字符串存储在数组的下一行？二维数组？

> ID：15737631
> 
> 赞同：0
> 
> 时间：2013-04-01T04:29:47.627
> 
> 标签：java, arrays, multidimensional-array

我需要使用二维数组作为分配的一部分。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-01T05:08:02.370

如果您绝对必须使用二维数组，那么您将需要嵌套循环将其打印出来。

**为了**

```
for(int i=0; i < FutureValueArray.length; ++i) {
   System.out.println("whatever you print before each row);
   for(int j=0; j < utureValueArray[i]; ++j) {
      Sytem.out.print(utureValueArray[i][j] + "\t");
   }
} 
```

**对于每个**

```
for(String[] row : FutureValueArray) {
   System.out.println("whatever you print before each row);
   for(String cell : row) {
      Sytem.out.print(cell + "\t"); 
   }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-01T04:40:26.060

与您之前的帖子一样，您将遇到超出**10** x 4 数组边界的问题。

考虑改用字符串数组的**ArrayList**。ArrayList（与数组不同）可以增长。

看看这个小（不相关的样本）是否给你足够的提示：

```
import java.util.*;

public class ListOfStrings {
    public static void main(String[] args) {
        ArrayList<String[]> los = new ArrayList<String[]>();
        for(int i = 0; i<=10; ++i) {
            String[] str = {Integer.toString(i), "a" +i, "b"+i, "c" + i};
            los.add(str);
        }
        for(String[] strArray : los) {
            System.out.println();
            for(String str : strArray) {
                System.out.print(str + "\t");
            }
        }

    }
} 
```

# css - 我需要在我的 CSS 菜单中添加子菜单

> ID：15737637
> 
> 赞同：1
> 
> 时间：2013-04-01T04:30:42.010
> 
> 标签：css, drop-down-menu, menu

我希望我的子菜单水平向右滑动，我尝试了其他一些 CSS 菜单，但它在我的网页中产生了问题。这是我的菜单的 html 页面

```
<li class="widget">
    <h2>Categories</h2>
    <ul>
        <li><a href="index.php" title="Category 1">All </a></li>
        <li><a href="search.php?category=Groceries" title="Category 1">Groceries</a></li>
        <li><a href="search.php?category=Personal_care" title="Category 2">Personal Care</a></li>
        <li><a href="search.php?category=Dining" title="Category 5">Dining</a></li>
        <li><a href="search.php?category=entertainment" title="Category 7">Entertainment</a></li>
        <li><a href="search.php?category=travel" title="Category 6">Travel </a></li>
        <li><a href="search.php?category=Books_Magazine" title="Category 3">Books &amp; Magazine</a></li> 
        <li><a href="search.php?category=clothing" title="Category 4">Clothing</a></li>
        <li><a href="search.php?category=Sport_Fitness" title="Category 9">Sport &amp; Fitness</a></li>
        <li><a href="search.php?category=other" title="Category 11">Other</a></li>
        <li></li>
    </ul>
</li> 
```

这是我的菜单css，如何添加css以在右侧创建下拉子菜单

```
.widget { padding-bottom: 16px; }
.widget h2 {
    height: 37px;
    line-height: 37px;
    background: url('images/widget-title.png') no-repeat 0 0;
    font-family: 'Museo500', arial, sans-serif;
    font-size: 18px;
    color: #fff;
    font-weight: normal;
    padding: 0 9px 5px 22px;
}
.widget li a {
    background: #6692C6;
    line-height: 26px;
    height: 26px;
    padding-left: 23px;
    font-size: 13px;
    border-bottom: 1px solid #fff;
    color: #EEEEEE;
    display: block;
}
.widget li.last a { border: none; }
.widget li a:hover {
    color: #333333;
    background: #fff;
    text-decoration: none;
    font-weight: bold;
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-01T06:33:01.590

看看这是如何工作的

**HTML**

```
<li class="widget">
<h2>Categories</h2>
<div class='subMenu'>
<ul>
    <li><a href="index.php" title="Category 1">All </a></li>
    <li><a href="search.php?category=Groceries" title="Category 1">Groceries</a></li>
    <li><a href="search.php?category=Personal_care" title="Category 2">Personal Care</a</li>
</ul>
</div>
</li> 
```

**CSS**

```
.subMenu{
display:none;
}
.widget:hover .subMenu{
 display:block;
} 
```

**小提琴**

[点击这里](http://jsfiddle.net/Venugopal/gbutv/3/)

# python - 在 Python 中结束一个函数

> ID：15737640
> 
> 赞同：0
> 
> 时间：2013-04-01T04:31:09.447
> 
> 标签：python, function, python-2.7, tkinter

我在 python 中有一个使用 Tkinter 的循环函数，当我使用 Tkinter 按下一个按钮时，它并没有结束。它继续使用按钮指定的新功能，但也继续使用旧功能

这是代码（部分）：

```
def countdown(self):

        if self.seconds <= 0:
            if self.minutes > 0:
                self.seconds += 59
                self.minutes -= 1
            elif self.minutes == 0:
                if self.hours != 0:
                    self.minutes += 59
                    self.seconds += 59
                    self.hours -= 1
                else:
                    self.timerLab.configure(text="Times Up!")

        self.timerLab.configure(text="Time Remaining: %d:%d:%d " % (self.hours,self.minutes,self.seconds))
        self.seconds -= 1
        self.after(1000, self.countdown) 
```

那么一旦按下另一个按钮，我该如何结束。有什么东西可以结束当前的进程吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-01T15:21:57.093

Tkinter 通过该方法提供了解决此问题的[`after_cancel()`](http://infohost.nmt.edu/tcc/help/pubs/tkinter/web/universal.html)方法。您必须存储返回的“后标识符”`after`并将其传递给`after_cancel`：

```
def start_countdown(self):
    if self.after_id is not None:
        self.after_cancel(self.after_id)
    self.countdown()

def countdown(self):
    # ...
    self.after_id = self.after(1000, self.countdown) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-01T04:46:43.423

如果您可以使用 Ctrl+C 停止它，那么有很多方法可以实现这一点。我不是他们的专家，但从快速的谷歌搜索来看，看起来像这样的东西可以工作：

```
import signal 
import sys
import subprocess

def signal_handler(signal, frame):
    print 'You pressed Ctrl+C!'
    sys.exit(0) 
```

还有[这个](http://code.activestate.com/recipes/146066-exiting-a-loop-with-a-single-key-press/)解决方案，它在 ESC 上退出（您只需将 27 更改为另一个键的编号即可更改）：

```
import msvcrt

while 1:
    print 'Testing..'
    # body of the loop ...
    if msvcrt.kbhit():
    if ord(msvcrt.getch()) == 27:
        break 
```

我希望这会有所帮助。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-01T10:45:59.303

有一个设置变量的按钮。让您的倒计时函数检查该变量，并且仅在变量设置为特定值时才重新安排自身。

像这样的东西：

```
def __init__(self):
    ...
    self.running = False

    start_button = Button(..., self.start, ...)
    quit_button = Button(..., self.stop, ...)

def start(self):
    self.running = True;
    self.countdown()

def stop(self):
    self.running = False;

def countdown(self):
    ...
    if (self.running):
        self.after(1000, self.countdown) 
```

* * *

## 回答 #4

> 赞同：-2
> 
> 时间：2013-04-01T07:05:18.650

> 有什么东西可以结束当前的进程

停止当前主循环并销毁所有小部件；你可以打电话`root.destroy()`：

```
#!/usr/bin/env python
import sys
from Tkinter import Tk, Button

def counter(root, n=0):
    sys.stderr.write("\r%3s" % n)
    root.after(1000, counter, root, n + 1)

root = Tk()
Button(root, text="Quit", command=root.destroy).pack()
counter(root)
root.mainloop() 
```

# android - 如何通过 Httppost 发送 Viewstate 字符串、asp 页面值

> ID：15737649
> 
> 赞同：0
> 
> 时间：2013-04-01T04:32:10.373
> 
> 标签：android, asp.net, http-post

我有一个用python编写的代码，它以这种方式发送视图状态和表单值

发送（'_ *VIEWSTATE=%2FwEPDwULLTE0MDM4Mz.........%2BhFiTeLDMyk...................&* _EVENTVALIDATION=%2FwEWA....I%2 .................mtK6HmOBny%2............NHcX5PO4r9oSpA&TextBox1='+payload+'&Button1=click\r\n')

点代表字符串的其余部分。现在我想通过 android 的 httppost 发送这个。我无法理解如何将上述代码转换为 httppost，我尝试将`__VIEWSTATE`,`__EVENTVALIDATION`作为键和字符串作为值，但这不起作用。怎么寄？？我如何通过 httppost 发送上述字符串。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-01T05:15:19.440

**这样做**：

```
private static final String DATA = "_VIEWSTATE=%2FwEPDwULLTE0MDM4Mz.........";  

public String send() {
    String result = null;
    try {
        HttpPost request = new HttpPost(new URI("<your POST uri>"));
        List<NameValuePair> params = new ArrayList<NameValuePair>();
        params.add(new BasicNameValuePair("data", DATA));
        request.setEntity(new UrlEncodedFormEntity(params));

        HttpClient client = new DefaultHttpClient(); 
        HttpResponse response = client.execute(request);
        BasicResponseHandler handler = new BasicResponseHandler();
        result = handler.handleResponse(response);
    } catch (Exception e) {
        e.printStackTrace();
    }
    return result;
} 
```

从后台线程调用 send() 方法。

# php - 如何从php while循环动态警告复选框到jquery函数

> ID：15737651
> 
> 赞同：2
> 
> 时间：2013-04-01T04:32:39.623
> 
> 标签：php, javascript, jquery

在我的页面中，我正在根据数据库表迭代值。当我检查驻留在 php while 循环中的单选按钮时，当用户单击它时，我必须发出警报消息。

我尝试了下面的代码，但它不起作用。当我单击页面上的任何单选按钮时，我没有收到警报消息。请帮我解决我的问题。

我的PHP代码：

```
 <?php  $result = mysql_query("SELECT * FROM group_expenditure_details where creater_id =   
       '$uid'");
           $a=0; 
           while($row = mysql_fetch_array($result))
               {

                       echo "<tr>";
                           echo "<td width='20%' align='center'><input type='checkbox'  
       name='test".$a++."'  id='test".$a++."' value='1'  /></td>";
                               echo "</tr>";
                }
              echo "</table>";
              echo "</div>";
              mysql_close($con);
           ?> 
```

我的jQuery代码：

```
 <script type="text/javascript">
            $(function(){
             <?php  $od=$_SESSION['id']; $result1 = mysql_query("SELECT * FROM            
                   group_expenditure_details where creater_id = '$od'");  $a=0;
             while($row = mysql_fetch_array($result1))  {  ?>
                $('<?php  '#test'.$a++?>').click(function(){
            <?php } ?>
                    alert('clicked');
                });
            }); 
    </script> 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-01T04:36:26.207

```
$(function()
{
    $('input[id^="test"]').on('click',function()
    {
        alert('Clicked');
    });
}); 
```

这`$('input[id^="test"]')`将做的是选择所有`input`以.`id``test`

`.on`是新版本 jQuery的替代`.live()`品。`.delegate()`

`.on()`适用于动态加载的内容，因此如果`checkbox`稍后添加，则`click`事件也将适用于新添加`DOM`的 .

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-01T04:36:23.520

我将向单选按钮添加一个类属性

```
<input type='checkbox' class="my-radio" name='test".$a."'  id='test".$a."' value='1'  /> 
```

然后

```
$(function(){
    $('.my-radio').click(function(){
        alert('Clicked');
    });
}); 
```

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2013-04-01T04:34:36.787

```
$(function(){  //ensure dom is ready
    $('input[id^=test]').click(function(){ //id starts with test
        alert('Clicked');
    });
}); 
```

不要为此在您的 javascript 中使用任何 PHP。你构建你的方式`id='test'.$a`将确保 id `总是以 test. 所以在上面的点击函数中，我们已经处理了模式。

# asp.net - Universal Membership Provider (System.Web.Providers) 的源代码是否可用？

> ID：15737657
> 
> 赞同：5
> 
> 时间：2013-04-01T04:33:10.163
> 
> 标签：asp.net, asp.net-membership, membership-provider

Universal Membership Provider 的源代码是否可用？项目是开源的吗？更清楚地说，我说的是 System.Web.Providers.dll，可从 Nuget 获得：( [http://nuget.org/packages/Microsoft.AspNet.Providers/](http://nuget.org/packages/Microsoft.AspNet.Providers/) )

该 DLL 似乎不是[Codeplex 上托管的 ASP.NET 源代码的一部分。](http://aspnet.codeplex.com/)但也许它可以从其他地方获得？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-09-09T12:55:55.883

[快速查看Google 搜索“Microsoft ASP.NET 通用提供程序”“源代码”](https://www.google.com/#q=%22Microsoft+ASP.NET+Universal+Providers%22+%22source+code%22)的前几页结果显示没有源代码或指向源代码的链接。[此外， Microsoft ASP.NET 通用提供程序](https://www.nuget.org/packages/Microsoft.AspNet.Providers)的 NuGet 库页面上没有指向任何源代码的链接，并且[许可条款](http://www.microsoft.com/web/webpi/eula/system.web.providers-1.0-eula.htm)似乎禁止披露或分发源代码。

可以肯定地说该项目是封闭源代码，但如果您仍然*真的*想要源代码，则必须选择：

1.  [向微软索取](https://www.nuget.org/packages/Microsoft.AspNet.Providers/ContactOwners)。这不太可能奏效，但是嘿——谁知道呢？

2.  违反[许可条款并使用](http://www.microsoft.com/web/webpi/eula/system.web.providers-1.0-eula.htm)[.NET Reflector](http://www.red-gate.com/products/dotnet-development/reflector/) ($$) 或[ILSpy](http://ilspy.net/)（免费）等工具反编译 DLL 。出于显而易见的原因，我不容忍走这条路。

祝你好运！

# android - android：如何在不运行模拟器的情况下操作sqlite数据库？

> ID：15737667
> 
> 赞同：1
> 
> 时间：2013-04-01T04:34:04.737
> 
> 标签：android, android-sqlite

因为需要预填充sqlite数据库，请问如何对数据库进行操作呢？就像创建一个表并插入一些行？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-01T04:55:46.123

您可以使用 Android SDK 提供的 SQLite3 工具。它位于 SDK 根目录下的工具文件夹中。

1.  将以下目录添加到 PATH：*{SDK root}\tools*

2.  打开命令窗口

3.  输入 sqlite3

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-01T04:38:49.133

许多工具允许操作 sqlite 文件。如何使用 sqlite odbc 驱动程序并使用像 microsoft access 这样的工具（如果你有的话）

[http://www.ch-werner.de/sqliteodbc/](http://www.ch-werner.de/sqliteodbc/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-01T19:21:50.070

根据您的问题，我认为您不熟悉 Android 中的数据库处理。您可以非常轻松地使用**DatabaseHandler**类和**DatabaseHelper**（扩展**SQLiteOpenHelper**）

下面的代码很好的解释了如何使用这个类来做所有的数据库操作

```
import java.util.ArrayList;
import java.util.List;
import android.content.ContentValues;
import android.content.Context;
import android.database.sqlite.SQLiteDatabase;
import android.database.sqlite.SQLiteDatabase.CursorFactory;
import android.database.sqlite.SQLiteOpenHelper;

public class DatabaseHandler{
    private static final int DATABASE_VERSION = 1;
    private static final String DATABASE_NAME = "Fruitsdb";
    private static final String TABLE_FRUITS = "fruits_table";
    private static final String KEY_ID = "id";
    private static final String KEY_NAME = "name";
    private static final String CREATE_FRUITS_TABLE = "CREATE TABLE " + TABLE_FRUITS + " ("
            + KEY_ID + " INTEGER PRIMARY KEY autoincrement, " + KEY_NAME + " TEXT not null);";

    private SQLiteDatabase db;
    private final Context ct;
    private DatabaseHelper dbhelper;

    public DatabaseHandler(Context context){
        this.ct=context;
        dbhelper=new DatabaseHelper(ct,DATABASE_NAME,null,DATABASE_VERSION); 
    }
    public DatabaseHandler open(){
        db=dbhelper.getWritableDatabase();
        return this;
    }
    public void close(){
        db.close();
    }
    private static class DatabaseHelper extends SQLiteOpenHelper{
        public DatabaseHelper (Context ct,String fruitname,CursorFactory cf,int ver){
            super(ct,fruitname,cf,ver);
        }
        //this oncreate method is called only once when the database is created
        //and this inserts the values into the tables the first time the app is started
        @Override
        public void onCreate(SQLiteDatabase sqldb) {
            sqldb.execSQL(CREATE_FRUITS_TABLE);
            List <String> lstfruits=new ArrayList<String>();
            lstfruits.add("Orange");
            lstfruits.add("Apple");
            lstfruits.add("Guava");
            lstfruits.add("Grapes");
                for(String strFruits:lstfruits){
                ContentValues cv=new ContentValues();
                cv.put(KEY_NAME, strFruits);
                sqldb.insert(TABLE_FRUITS, null, cv);
            }
        }
            @Override
        public void onUpgrade(SQLiteDatabase sqldb, int oldVersion, int newVersion) {
            sqldb.execSQL("DROP TABLE OF EXISTS"+TABLE_FRUITS);
            onCreate(sqldb);
        }
    }
    public long insertEntry(String strFruit){
        //write code here of insert and change the return statement
            //using sqldb.insert(parameters..);
        return -1;
    }
    public boolean removeEntry(String strFruit){
        //write code here of delete a entery and change the return statement
            //using sqldb.delete(parameters..);
        return true;
    }
 } 
```

你可以从你的主要活动中调用这个类

```
DatabaseHandler dbhandler=new DatabaseHandler(this);
dbhandler.open(); //The database is created and the values are inserted
//here you can do insert, updated ,remove,select operations
dbhandler.close();  // don't forget his one 
```

这是在 sqlite3 数据库中访问和存储值的最简单方法。希望它可以解决您的问题。

# javascript - 具有递归函数的程序

> ID：15737675
> 
> 赞同：0
> 
> 时间：2013-04-01T04:35:03.070
> 
> 标签：javascript, string, parsing, recursion

我对这个递归函数感到很困惑。我用它来突出显示文本框中的单词，但它给了我一些奇怪的输出：

```
 should be:
 #define
 testing #define

 but instead it's:

 testing #define
 testing #define 
```

这是代码

```
function replace_all( text, old_str, new_str ){

    index_of = text.indexOf( old_str );

    if( index_of != -1 ){

            old_text = text.substring( 0, index_of );
            new_text = text.substring( index_of + old_str.length );

            new_text = replace_all( new_text, old_str, new_str );

            text = old_text + new_str + new_text;
    }
    return text;
} 
```

关于该功能有什么问题的任何想法？它似乎正在用找到的最后一个关键字替换所有旧关键字。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-01T04:38:04.633

您至少需要在函数中的所有变量声明为局部变量，方法`var`是在第一次使用之前添加。

```
function replace_all( text, old_str, new_str ){

    var index_of = text.indexOf( old_str );

    if( index_of != -1 ){

            var old_text = text.substring( 0, index_of );
            var new_text = text.substring( index_of + old_str.length );

            new_text = replace_all( new_text, old_str, new_str );

            text = old_text + new_str + new_text;
    }
    return text;
} 
```

通过不使用`var`，您的变量是全局的，并且每次调用都`replace_all`将共享相同的变量副本，这将扰乱递归，因为递归调用会扰乱更高级别调用的状态。如果变量都是局部变量，那么每个函数调用都有自己的一组变量，一个递归调用不会弄乱其他变量。

另外，通常最好将变量的范围限制在实际的本地范围内，并尽可能避免使用全局变量。像这里这样的隐式全局变量特别邪恶，因为它们很容易导致意外误用。

正如 Kolink 建议的那样，您可能只想`.replace()`使用正则表达式搜索/替换来执行单个全局操作。您需要确保搜索字符串中的任何正则表达式特殊字符都已正确转义。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-01T12:32:23.147

将我的评论转换为答案：

这样会容易得多：

```
function replace_all(text,old_str,new_str) {
    var old_regex = old_str).replace(/[.\\+*?\[\^\]$(){}=!<>|:-]/g, '\\$&');
    // the above line escapes any characters that may interfere with regex behaviour
    return text.replace(new RegExp(old_regex,"g"),new_str);
} 
```

# search - 使用 grep 搜索字符串

> ID：15737687
> 
> 赞同：0
> 
> 时间：2013-04-01T04:37:21.260
> 
> 标签：search, grep

`$string['site:config']`我想在我的文件夹中搜索这个特定的字符串。但是当我使用普通的 grep 函数`grep -r "$string['site:config']"`时，它会给我随机结果。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-01T05:11:51.250

您的模式的问题在于，像这样`$ [ ]`的字符是用于定义正则表达式的字符，您必须对它们进行转义：

```
grep "\$string\['site:config'\]" 
```

或指示 grep 按原样查找给定的字符串：

```
grep -F "$string['site:config']" 
```

而不试图将其解释为正则表达式。

# c - 设置和获取值的方法/函数的命名约定是什么？

> ID：15737692
> 
> 赞同：4
> 
> 时间：2013-04-01T04:38:07.463
> 
> 标签：c, function, naming-conventions

这可能是一个奇怪的问题，因为约定通常是有单独的 set 和 get 方法。但在我的情况下，它有点不同：函数的参数决定该函数是 getter 还是 setter，所以我正在寻找一个函数名来指示这样的函数。

我发现的一些名字是 getset、setget、rw 等，但我觉得这些名字很奇怪。什么样的命名约定适合这些功能？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-04-01T04:59:37.937

在 Java bean 出现 get/set 命名约定之前，人们经常会看到完全按照您描述的功能（特别是 C++ 和其他 OO 语言中的方法）。

它们通常以它们设置或获得的变量命名，例如：

```
int counter_;

int counter () {
    return counter_;
}

int counter (int c) {
    counter_ = c;
    return counter_;
} 
```

在变量和函数具有不同命名空间的语言中，您甚至可以让变量和 get/set 函数具有完全相同的名称（不需要尾随 _，如我在此处所示）。

在具有默认参数的语言中，您可能会将 getter 和 setter 编写为一个函数，例如：

```
int counter (int c = MAX_INT) {
    if (c != MAX_INT) {
        counter_ = c;
    }
    return counter_;
} 
```

...虽然我并不是特别热衷于这种方法`counter (MAX_INT)`，因为例如，如果有人调用它会导致微妙的错误。

我一直认为这种命名方法是有道理的，并且我已经编写了一些以这种方式工作的库。

然而，这种命名约定确实可能使代码的读者感到困惑，特别是在可以调用没有尾括号的无参数函数的语言中，因此很难看出是否正在调用函数或是否正在访问公共变量直接地。当然，有些人会将后者称为功能而不是问题......

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-01T04:59:26.563

以它填充的变量的名称命名函数怎么样？和属性一样，当传递的参数为null或其他特殊值时，则为get，否则为set。

# apache - 我如何让这个 mod_rewrite 工作

> ID：15737694
> 
> 赞同：0
> 
> 时间：2013-04-01T04:38:27.940
> 
> 标签：apache, mod-rewrite, url-rewriting

我正在尝试强制将所有请求重定向到

```
http://website.com/ 
```

到

```
http://website.com/2013/04/ 
```

这样做

```
RewriteEngine on
Options +FollowSymlinks
Options -Multiviews

RewriteRule ^2013/03/ index.html 
```

将指导任何请求

```
website.com/2013/03/ to the index.html 
```

但我如何强制重定向到 website.com/2013/03/

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-01T04:48:52.560

**使您的网址可爱并适合搜索引擎排名。**

```
 Options +FollowSymLinks
 RewriteEngine on
 RewriteCond %{HTTP_HOST} ^yoursite.com
 RewriteRule (.*) http://www.yoursite.com/$1 [R=301,L]
 RewriteCond %{THE_REQUEST} ^[A-Z]{3,9} /index.html HTTP/
 RewriteRule ^index.html$ http://www.yoursite.com/ [R=301,L] 
```

**重定向**

```
redirect 301 /old-page.php http://www.yoursite.com/new-page.php 
```

# java - 带有eclipse的Hadoop没有连接

> ID：15737699
> 
> 赞同：1
> 
> 时间：2013-04-01T04:38:56.193
> 
> 标签：java, hadoop

我正在使用 ubuntu 12.04。我正在尝试在 Eclipse 中连接 hadoop。成功安装了 1.04 的插件。我为此使用java 1.7。

我的配置数据是 username:hduser,locationname:test,map/reduce 主机端口是 localhost:9101 和 M/R masterhost localhost:9100。

我的临时目录是 /app/hduser/temp。根据这个位置，我设置了高级参数。但我无法设置 fs.s3.buffer.dir，因为没有像 /app/hadoop/tmp//s3 这样创建的目录。无法设置 map reduce 主目录。我只找到本地目录。我没有找到 mapred.jobtracker.persist.job.dir。并且还映射红色临时目录。

当我在伪分布式模式下运行 hadoop 时，我没有发现任何使用 JPS 运行的数据节点。

我不确定这里有什么问题。在 Eclipse 中，我在设置 dfs 服务器时遇到了错误。我收到了类似...的消息

在“连接到 DFS 测试”期间发生内部错误。org/apache/commons/配置/配置

谢谢大家

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-05-11T23:13:40.373

我面临着同样的问题。后来发现这个： [Hadoop eclipse mapreduce is not working？](https://stackoverflow.com/questions/15195734/hadoop-eclipse-mapreduce-is-not-working)

主要的博客文章是[这个](http://cloudfront.blogspot.com/2012/07/how-to-run-mapreduce-programs-using.html#.UY7PR6DQWKg)。HTH 正在寻找解决方案的人。

# php - 使用 AJAX 使用 jQuery 更新数据库

> ID：15737700
> 
> 赞同：0
> 
> 时间：2013-04-01T04:38:57.050
> 
> 标签：php, html, jquery

我无法获取此 AJAX 代码来更新我的数据库。该代码是`onClick`将运行命令以更新数据库的图像

HTML：

```
<a>
    <img class       = "heart" 
         src         = "images/heart.png" 
         onClick     = "favUpdate(0,1)" 
         onMouseover = "this.src='images/heart_mo.png'"
         onMouseout  = "this.src='images/heart.png'"/>
</a> 
```

Javascript代码：

```
function favUpdate(fav_up, id_up) {
        $.ajax({
            type: 'post',
            url: 'includes/fav_update.php',
            data: {favorite: fav_up, id: id_up},
            success: function(output) {
              alert('success, server says '
                            + output
                            + 'Variables passed are '+fav_up+' '+id_up);
                }, 
                    error: function() {
              alert('something went wrong, Favorite update failed');
            }
            });
} 
```

PHP代码：

```
<?php
    require_once('../Connections/main.php');
    $fav_update = mysql_real_escape_string($_POST['favorite']);
    $fav_id     = mysql_real_escape_string($_POST['id']);
    $query      = "UPDATE projects SET favorite = $fav_update WHERE id = $fav_id";
    mysql_query($query, $main); 
?> 
```

主文件

```
<?php
$hostname_main = "localhost";
$database_main = "test";
$username_main = "root";
$password_main = "";
$main = mysql_pconnect($hostname_main, $username_main, $password_main) or trigger_error(mysql_error(),E_USER_ERROR); 
?> 
```

有谁知道它为什么不更新数据库以及为什么“选项”没有获取变量的数据？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-01T04:46:01.397

尝试这个

```
<?php
    require_once('../Connections/main.php');
    $fav_update = mysql_real_escape_string($_POST['favorite']);
    $fav_id = mysql_real_escape_string($_POST['id']);
    $query = "UPDATE projects SET favorite = '".$fav_update."' WHERE id = '".$fav_id."'";
    mysql_query($query, $main); 
?> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-01T04:41:42.560

`$fav_update`如果它的数据类型是字符串，你必须加上单引号`VARCHAR,TEXT`

```
$query = "UPDATE projects SET favorite = '$fav_update' WHERE id = $fav_id";
                                         ^           ^ 
```

从这里删除`$main`并尝试

```
mysql_query($query); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-01T04:57:47.120

请尝试调试您的 PHP（首先是服务器端代码）：-

```
<?php
    require_once('../Connections/main.php');
    $fav_update = mysql_real_escape_string($_REQUEST['favorite']);
    $fav_id = mysql_real_escape_string($_REQUEST['id']);
    $query = "UPDATE projects SET favorite = $fav_update WHERE id = $fav_id";
    echo $query;
     mysql_query($query, $main); 
?> 
```

使用 $_REQUEST 而不是 $_POST，并直接从浏览器调用此 api，方法是创建其 url，如`http://localhost/filename.php?favorite=somevalue1&id=somevalue2`

并检查您是否在数据库中插入，并通过打印来检查查询。

检查API后，请将$_REQUEST改回$_POST

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-01T16:39:01.753

将php脚本更改为：

```
<?php
    require_once('../Connections/main.php');
    $fav_update = mysql_real_escape_string($_POST['favorite']);
    $fav_id = mysql_real_escape_string($_POST['id']);
    $updateSQL = sprintf("UPDATE projects 
                          SET favorite=%s  
                          WHERE id=%s",
                          $fav_update,
                          $fav_id);
    mysql_select_db($database_main, $main);
    $Result1 = mysql_query($updateSQL, $main) or die(mysql_error());

?> 
```

希望如果有人遇到同样的问题会有所帮助

# java - 如何反转这个简单的模数 128 加密？

> ID：15737706
> 
> 赞同：-7
> 
> 时间：2013-04-01T04:39:44.307
> 
> 标签：java, math, encryption

我正在运行一个简单的程序，将字符串转换为字符数组，然后将字符转换为整数，然后在其中添加或减去数字，以加密字符串。我唯一的问题是，在解密我刚刚加密的内容时，我陷入了困境。

使用这个：

```
num % 128 + 65 
```

字符串“hello world”更改为“uryy|-E|Àyq”

我似乎无法弄清楚如何将其更改回来。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-01T04:49:38.317

为了首先具有有效的加密函数，该函数需要是单射的。然后它可以被逆转，只有这样。

模不是单射的。1 和 129 % 128 都是 1。因此，您的加密方法没有反向功能。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-01T04:53:55.440

```
f(x) = x % 128 + 65 
```

这个函数是不可逆的，它不是一个线性加密函数，它是一个哈希函数

```
g(x):
   g(X0) = X0 ^ KEY
   g(Xi) = Xi ^ Xi-1 
```

g(x) 是使用 KEY 的加密函数，为了解密我们再次使用 g(x) 本身，因为 XOR 是对称运算

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-01T04:44:48.370

你不能。您丢失了信息：每个字节的高位。这个函数没有逆函数。所以它根本不是加密功能。

而且该功能不会从该输入中提供该输出。

# html - 简单的 HTML 目录/index.html 问题

> ID：15737708
> 
> 赞同：1
> 
> 时间：2013-04-01T04:39:52.113
> 
> 标签：html, hyperlink

我觉得自己像个婴儿，不得不这样做，但请耐心等待。我正在尝试在我的桌面上的文件夹中设置网页结构。它有一个 index.html 和几个自己的文件夹。一个文件夹“research”有自己的 index.html。我正在尝试从更高的 index.html 链接到此页面，但没有将我带到 research/index.html，而是将我带到了“文件目录视图”（因为不知道该怎么称呼它）目录研究/

显然我可以通过这样做来解决这个问题，但这很烦人。想法？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-01T04:43:43.450

如果要在本地浏览，则必须包含文件名。换句话说：

```
<a href='research/index.html'>research</a> 
```

它在远程服务器上工作的原因是因为替换是由网络服务器完成的，所以如果你想研究/工作，那么你需要一个本地网络服务器，比如 windows 上的 wamp 或 mac 上的 mamp。

# centos5 - 在 CentOS 5 上编译 Ceph：使用了 `doc_DATA' 但 `docdir' 未定义？

> ID：15737709
> 
> 赞同：0
> 
> 时间：2013-04-01T04:39:54.693
> 
> 标签：centos5, distributed-filesystem, ceph

[`Ceph`](http://ceph.com/)有没有人在 CentOS 5 上成功编译？

```
[user@host ceph-0.56.4]# make
...

checking boost/spirit.hpp usability... 
src/Makefile.am:1115: `doc_DATA' is used but `docdir' is undefined
make: *** [Makefile.in] Error 1
make: *** Waiting for unfinished jobs....
yes 
```

中的第 1115 行`src/Makefile.am`：

```
# work around old versions of automake that don't define $docdir
# NOTE: this won't work on suse, where docdir is /usr/share/doc/packages/$package.
docdir ?= ${datadir}/doc/ceph

doc_DATA = $(srcdir)/sample.ceph.conf sample.fetch_config 
```

我试图将其更改`docdir`为绝对路径：

```
docdir = /usr/share/doc/ceph 
```

但这无济于事。

```
# rpm -qa | grep automake
automake16-1.6.3-8.el5.1
automake15-1.5-16.el5.2
automake-1.9.6-2.3.el5
automake17-1.7.9-7.el5.2
automake14-1.4p6-13.el5.1 
```

令我惊讶的是`ceph.spec`，我看到：

```
%{configure}    CPPFLAGS="$java_inc" \
        --prefix=/usr \
        --sbindir=/sbin \
        --localstatedir=/var \
        --sysconfdir=/etc \
        --docdir=%{_docdir}/ceph \
        --without-hadoop \
        --with-nss \
        --without-cryptopp \
        --with-rest-bench \
        --with-debug \
        --enable-cephfs-java \
        $MY_CONF_OPT \
        %{?_with_ocf} \
        %{?with_tcmalloc:--with-tcmalloc} %{!?with_tcmalloc:--without-tcmalloc} \
        CFLAGS="$RPM_OPT_FLAGS" CXXFLAGS="$RPM_OPT_FLAGS" 
```

`--docdir`但是在搜索时没有配置选项`./configure --help`。

我知道 CentOS 5 已经很老了，但是在这种情况下有什么解决方法吗？

* * *

**更新星期四 4 月 4 日 23:05:53 ICT 2013**

[Ceph](http://ceph.com/download/) 0.46 编译成功，但现在我得到：

```
# ceph-fuse --no-fuse-big-writes -m 192.168.2.15:6789 /mnt/ceph/
ceph-fuse[7528]: starting ceph client
ceph-fuse[7528]: starting fuse
fuse: unknown option `atomic_o_trunc'
2013-04-04 13:51:21.128506 2b82d6e9e8f0 -1 fuse_lowlevel_new failed
ceph-fuse[7528]: fuse finished with error 33
ceph-fuse[7526]: mount failed: (33) Numerical argument out of domain 
```

[http://tracker.ceph.com/issues/4286](http://tracker.ceph.com/issues/4286)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-02T17:55:21.287

虽然没有一个内核客户端可以工作，但 ceph*曾经*在 CentOS 5 上运行。当然，有可能引入了一些令人讨厌的构建问题。我知道我们测试了 RHEL/CentOS 6 ( [http://ceph.com/rpm/el6/](http://ceph.com/rpm/el6/) ) 的软件包，但我认为有一段时间没有人看过 5。

当它建立在 5 上时，我知道如果你走到那一步，会有一堆依赖项：

autotools-dev autoconf automake cdbs g++ gcc git libatomic-ops-dev libboost-dev libcrypto++-dev libcrypto++ libedit-dev libexpat1-dev libfcgi-dev libfuse-dev libgoogle-perftools-dev libgtkmm-2.4-dev libtool pkg-config

抱歉，我无法具体回答您的问题，但是自从这里的任何人在 Cent5 上查看 Ceph 以来已经有一段时间了。如果您访问 irc://irc.oftc.net/ceph，那么有人可能会给您比我更好的历史视角。

祝你好运。

* * *

[编辑]：刚刚与经历过并使其工作的人交谈过。他这样说：“它需要编译 GCC、所有 GNU 库、autoconf、automake，可能还有大约 10-20 个其他库，当然还有 ceph 本身。” 所以，有可能……只是不推荐。希望有帮助。

# python - executor.map() TypeError: zip 参数 #2 必须支持迭代

> ID：15737716
> 
> 赞同：1
> 
> 时间：2013-04-01T04:41:15.737
> 
> 标签：python, python-3.x

executor.map() TypeError: zip 参数 #2 必须支持迭代

当我运行它时，刚刚生成 TypeError: zip argument #2 must support iteration。谁能帮我解决这个问题？

```
import time, concurrent.futures
lst100=[i for i in range(100)]

t1=time.clock()
print(list(map(str,lst100)))
t2=time.clock()
print(t2-t1)

t3=time.clock()
with concurrent.futures.ThreadPoolExecutor(max_workers=100) as executor:
    future_to_url = executor.map(str,lst100, 60)
    print(list(future_to_url))
t4=time.clock()
print(t4-t3) 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-01T04:55:02.980

[`concurrent.futures.Executor.map`](http://docs.python.org/3/library/concurrent.futures.html#concurrent.futures.Executor.map)在语义上与内置函数 相同[`map`](http://docs.python.org/3/library/functions.html#map)。第二个和后续*的非关键字*参数指定应用给定函数的迭代。

在您的情况下，您说“这里有两个可迭代对象：100 个元素`lst100`的列表（ " 但是由于整数 60 实际上不是一个可迭代的对象，所以它失败了。`str()``a``b`

假设您想指定 60 秒的超时，您需要将其作为关键字参数传递，如下所示：

```
future_to_url = executor.map(str, lst100, timeout=60) 
```

关键字参数与位置参数的区别在于`name=`在传递值之前存在前缀。在这种情况下，参数名称是`timeout`。

# javascript - 使用下划线中的 _.each 调用骨干对象中的方法

> ID：15737721
> 
> 赞同：0
> 
> 时间：2013-04-01T04:41:50.153
> 
> 标签：javascript, backbone.js, underscore.js

我是 Backbone、Javascript、jQuery 菜鸟，并试图解决问题。在我的 Backbone 视图中，我有这个方法：

```
 setError: function (selection, text) {
        console.log("set error");
        this.$el.find(selection).html(text);
        this.$el.find(selection).show();
    }, 
```

我想从填充错误字段的另一个方法调用此方法，并在 div 中附加其他消息。所以我尝试像这样调用 setError ：

```
 populateErrors: function (sampleErrors) {
       console.log("populateErrors");
        _.each(sampleErrors, function (sample) {
            // Set the error
            this.setError('#sample-error', 'test');
            $('#sample-validation-form').append('<p>testing</p>');
        }, this);
    } 
```

我不明白的是如何调用 setError。因此，如果我在 _.each 语句之外调用它，我可以执行 this.setError。这对我来说很有意义，因为我用这个 Backbone 对象调用 setError。至少我是这么解释的。请让我知道这是否不正确。

但是在 _.each 语句中，我想既然我将语句与`this`作为最后一个参数绑定，我认为我不需要`this`在 setError 前面。但是当我尝试这样做时，我得到 setError 是未定义的。所以然后我尝试如上所示，但是当我在 _.each 循环之外`this.setError`调用时，我没有得到我的“测试”输出。`this.setError`有人可以向我解释一下这个函数上下文在这个例子中是如何工作的。我彻底糊涂了！提前致谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-01T15:32:11.450

当您将对象`foo`作为第三个参数传递时，您是在说：在匿名函数中，`this`应该是`foo`.

```
populateErrors: function (sampleErrors) {
    // `this` is the Backbone view here
    this.setError('#sample-error', 'test');

    _.each(sampleErrors, function (sample) {
        // since you passed the view (this) to `each`
        // `this` is the Backbone view here also
        this.setError('#sample-error', 'test');
    }, this);
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-01T16:13:02.807

_.each 的第三个参数是上下文。javascript 函数的上下文是对函数中“this”的引用。通过传递“this”，您可以保留当前上下文。

例如：

```
populateErrors: function (sampleErrors) {
   var x = {
          blah: "x context"
       };

   this.blah = "orig context";

   console.log("populateErrors");

    _.each(sampleErrors, function (sample) {
        // Here, your current context is the same context as 
        // when you called populate Errors
        // this.blah === "orig context";
    }, this);

    _.each(sampleErrors, function (sample) {
        // Here, you've defined a different context.
        // this.blah === "x context";
    }, x);
} 
```

唯一一次可以避免使用“this”。在你的表达前面是当你使用“with”关键词时。请参阅[https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Statements/with](https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Statements/with)

# ruby-on-rails-3 - 如何通过link_to将属性名称作为辅助参数传递？

> ID：15737726
> 
> 赞同：0
> 
> 时间：2013-04-01T04:42:31.533
> 
> 标签：ruby-on-rails-3

在我的应用程序控制器中

```
class FeedEntriesController < ApplicationController
  def index
    @search = FeedEntry.search(params[:search])
    @feed_entries = @search.page(params[:page])
    @app_keys = AppKey.all
  end

  def update
    @feed_article = FeedEntry.find(params[:id])
    @feed_article.toggle!(@saad)
    redirect_to feed_entries_path
  end
end 
```

在我的 Views/feed_entries/index.html.erb

```
<div id="content">
<%= paginate @feed_entries, :theme => 'twitter-bootstrap'%>
<p><%= render(@feed_entries) || 'There is no Feeds'%><p>
<%= paginate @feed_entries, :theme => 'twitter-bootstrap'%>
</div> 
```

而在 _feed_entry.html.erb 部分。

```
<%= link_to "Make UnStar |", feed_entry_path(:id => feed_entry.id, @saad => :is_to_read), method: :put %> <%= link_to feed_entry.name, feed_entry.url %> 
```

但是上面的代码不起作用，我只想将属性名称（`:is_to_read`）作为辅助参数传递`link_to`到控制器的更新操作中。

`:is_to_read is boolean`feedentries 表的属性。

请有人帮我解决这个问题。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-01T04:53:06.253

参数是一对名称和值。所以它应该是： :saad => ... 而不是 @saad => 此外，您需要调用对象的 is_to_read 属性。所以：

```
<%= link_to "Make UnStar |", feed_entry_path(:id => feed_entry.id, :saad => @feedentry.is_to_read), method: :put %> 
```

# php - 如何从 php 图片库生成 xml

> ID：15737728
> 
> 赞同：0
> 
> 时间：2013-04-01T04:42:57.033
> 
> 标签：php, jquery, html, ajax

我对php有点陌生，对ajax完全陌生，所以我还在学习。下面的功能是我目前拥有的，它查询数据库并为我的网站输出图像。这工作正常。

我现在正在尝试从结果中生成 xml 以输入到 javascript 中，这样如果用户想要拥有不同的画廊视图 - （例如 2 行而不是 4 行），页面只会更新而不刷新。我是否必须将所有结果分配给一个数组，然后用 javascript 提取它？甚至不知道从哪里开始。请指点我的方向，非常感谢！

```
<?php include 'library/connect.php';
$result = mysql_query("SELECT * FROM fproduct WHERE fproduct.category='Shirts'");
$cols=3;
echo "<table>";
do{
   echo "<tr>"; // adds a new row after the for loop has been executed for 4 times (4 columns)
    for($i=1;$i<=$cols;$i++){
        $row=mysql_fetch_array($result); 
        if ($row) {?>               
            <td> <a href = "Shirtbuy.php?id=<? echo $row['product_id'] ?>" ><img border="0" alt="pic" src="images/products/shirts/largethumbs/<? echo $row['pic']?>" /></a>     
            <br/>
            <b><?= $row['prod_name']?> </b><br/>    
            <b><?= $row['price']?>   </b><br/> 
            </td>
            <td width="100">&nbsp;</td> <?  
            }
        else{
            echo "<td>&nbsp;</td>"; //If there are no more records at the end, add a blank column
            }
    } 
} while($row);
    echo "</table>";
include 'library/close.php'; 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-01T04:52:44.923

而不是`XML`使用`json`

您可以使用 php 函数`json_enode`将 php 数组转换为`json`格式字符串。

```
$json_data = json_encode($result_array); 
```

然后将其传递给您的 javascript 并解析它

[json编码](http://php.net/manual/en/function.json-encode.php)

在javascript方面。使用`jquery`和解析json函数

```
var obj = $.parseJSON(json_data); 
```

[解析 Json](http://api.jquery.com/jQuery.parseJSON/)

Jquery Ajax 示例请求

```
 function send_data() {
    $.ajax({
      url   : "my_php_code.php", 
      type  : "POST",
      cache : false,
      data  : {
        the_key : the_value
      }
    });
  } 
```

# ios - 无法保持表格行被选中

> ID：15737731
> 
> 赞同：0
> 
> 时间：2013-04-01T04:43:45.660
> 
> 标签：ios, objective-c, uitableview

在我的应用程序中，我使用了 splitView。有3张不同的桌子。

当我从第一个表中选择任何行时，详细视图和行中的显示在左侧菜单中保持选中状态。但是，当我从第二个或第三个表中选择任何行时，该行仅以蓝色突出显示并迅速消失选定的蓝色（即它不会保持突出显示）。

帮我解决这个问题。

我的代码如下：

```
- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath
{

    static NSString *CellIdentifier=@"CellIdentifier";

    UITableViewCell *cell = [tableView dequeueReusableCellWithIdentifier:CellIdentifier];
    cell = [[[UITableViewCell alloc] initWithStyle:UITableViewCellStyleDefault reuseIdentifier:CellIdentifier] autorelease];

    if (cell == nil) {

        cell = [[UITableViewCell alloc] initWithStyle:UITableViewCellStyleDefault reuseIdentifier:CellIdentifier];
    }

    if(tableView == tbl_class)
    {

         btnEdit1 = [UIButton buttonWithType:UIButtonTypeCustom];
        [btnEdit1 setFrame:CGRectMake(220, 15, 20, 20)];
        [btnEdit1 addTarget:self action:@selector(btnEditPressed:) forControlEvents:UIControlEventTouchUpInside];

        [btnEdit1 setImage:[UIImage imageNamed:@"edit-3-black.png"]                   forState:UIControlStateNormal];

        UIButton *btnDelete = [UIButton buttonWithType:UIButtonTypeCustom];
        [btnDelete setFrame:CGRectMake(260, 15, 20, 20)];
        [btnDelete addTarget:self action:@selector(btnDelete:) forControlEvents:UIControlEventTouchUpInside];

        [btnDelete setImage:[UIImage imageNamed:@"recycle-bin2.png"]                   forState:UIControlStateNormal];

        [btnEdit1 setTag:indexPath.row];
        [btnDelete setTag:indexPath.row];

        cell.textLabel.text=[NSString stringWithFormat:@"%@",[[classNames objectAtIndex:indexPath.row]valueForKey:@"class_name"]];

        if(! isEditing)
        {
            [cell.contentView addSubview:btnEdit1];
            [cell.contentView addSubview:btnDelete];
        }

     }
     if(tableView==tbl_assessment)
    {
        if (classNames.count > 0)
        {
            [btnAddAssesst setHidden:NO];
        }
        else
        {
            [btnAddAssesst setHidden:YES];
        }

       cell.textLabel.text=[NSString stringWithFormat:@"%@",[[assessment_list objectAtIndex:indexPath.row]valueForKey:@"assessment_name"]];

    }

    if (tableView==tbl3)
    {

        cell.textLabel.text=[arr_result objectAtIndex:indexPath.row];

    }

    cell.textLabel.font=[UIFont fontWithName:@"Trebuchet MS" size:17.0f];

    cell.textLabel.textColor=[UIColor grayColor];

    return cell;
}

- (void)tableView:(UITableView *)aTableView didSelectRowAtIndexPath:(NSIndexPath *)indexPath {

    /*
     When a row is selected, set the detail view controller's detail item to the item associated with the selected row.
     */
    //NSUInteger row = indexPath.row;

    if (aTableView==tbl_class)
    {
          [self.appDelegate.splitViewController viewWillDisappear:YES];
    NSMutableArray *viewControllerArray=[[NSMutableArray alloc] initWithArray:[[self.appDelegate.splitViewController.viewControllers objectAtIndex:1] viewControllers]];
    [viewControllerArray removeLastObject];

        self.secondDetailViewController=[[[Class_Vice_ViewController alloc]init]autorelease];
        [viewControllerArray addObject:self.secondDetailViewController];
        self.appDelegate.splitViewController.delegate = self.secondDetailViewController;

        [[NSUserDefaults standardUserDefaults]setInteger:[[[classNames objectAtIndex:indexPath.row]valueForKey:@"class_id"]intValue] forKey:@"psel_class"];

        [self databaseOpen];
        assessment_list=[[NSMutableArray alloc]init];
        NSString *qq=[NSString stringWithFormat:@"select * from Assessment where class_id=%d",[[[classNames objectAtIndex:indexPath.row]valueForKey:@"class_id"]intValue]];
        assessment_list=[[database executeQuery:qq]mutableCopy];

        [database close];

        if (classNames.count > 0)
        {
            [btnAddAssesst setHidden:NO];
        }
        else
        {
            [btnAddAssesst setHidden:YES];
        }

        if (!assessment_list.count==0) {
            [tbl_assessment setHidden:NO];
            [btnDelete setHidden:NO];
            [tbl_assessment reloadData];
        }

    [[self.appDelegate.splitViewController.viewControllers objectAtIndex:1] setViewControllers:viewControllerArray animated:NO];

    [self.appDelegate.splitViewController viewWillAppear:YES];

        [tbl_assessment reloadData];
    }

    else if (aTableView==tbl_assessment)
    {
           [self.appDelegate.splitViewController viewWillDisappear:YES];
        NSMutableArray *viewControllerArray=[[NSMutableArray alloc] initWithArray:[[self.appDelegate.splitViewController.viewControllers objectAtIndex:1] viewControllers]];
        [viewControllerArray removeLastObject];

        self.thirdDetailViewController=[[[GameAssessment alloc]init]autorelease];
        [viewControllerArray addObject:self.thirdDetailViewController];
        self.appDelegate.splitViewController.delegate = self.thirdDetailViewController;

        [[NSUserDefaults standardUserDefaults]setInteger:[[[assessment_list objectAtIndex:indexPath.row]valueForKey:@"assessment_id"]intValue] forKey:@"ASSESSMENT_ID"];

        [self databaseOpen];
        assessment_list=[[NSMutableArray alloc]init];
        NSString *qq=[NSString stringWithFormat:@"select * from Assessment where class_id=%d",[[NSUserDefaults standardUserDefaults]integerForKey:@"psel_class"]];
        assessment_list=[[database executeQuery:qq]mutableCopy];

        [database close];

        if (!assessment_list.count==0) {
            [tbl_assessment setHidden:NO];

            [tbl_assessment reloadData];
        }

        [[self.appDelegate.splitViewController.viewControllers objectAtIndex:1] setViewControllers:viewControllerArray animated:NO];

        [self.appDelegate.splitViewController viewWillAppear:YES];

    }

    else {

        [self.appDelegate.splitViewController viewWillDisappear:YES];
        NSMutableArray *viewControllerArray=[[NSMutableArray alloc] initWithArray:[[self.appDelegate.splitViewController.viewControllers objectAtIndex:1] viewControllers]];
        [viewControllerArray removeLastObject];

        if (indexPath.row==0) {
            self.fifthViewController=[[[ResultStudent_vice alloc]init]autorelease];
            [viewControllerArray addObject:self.fifthViewController];
            self.appDelegate.splitViewController.delegate = self.fifthViewController;
        }

        if (indexPath.row==1) {
            self.fourthDetailViewController=[[[ResultClass_vice alloc]init]autorelease];
            [viewControllerArray addObject:self.fourthDetailViewController];
            self.appDelegate.splitViewController.delegate = self.fourthDetailViewController;
        }

        [[self.appDelegate.splitViewController.viewControllers objectAtIndex:1] setViewControllers:viewControllerArray animated:NO];

        [self.appDelegate.splitViewController viewWillAppear:YES];

    }

} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-01T06:26:41.883

要使该行保持选中状态，需要做两件事

*   -`deselectRowAtIndexpath`不应该在那里`didselectRowAtIndexpath`
*   将NSINDEXPATH的NSMutableArray保留以存储所选值。选择一行将其添加到数组中时，在方法中，请检查单元格中的Indexpath `-cellForRowAtIndexpath`，如果它在那里，则不可行`[tablecell setSelected:YES];`

# linux - JasperReports 在 linux 机器上失败

> ID：15737732
> 
> 赞同：1
> 
> 时间：2013-04-01T04:43:49.273
> 
> 标签：linux, jasper-reports, itext, openjdk, jasper-plugin

我有一个`Java HotSpot(TM) 64-Bit Server VM (build 23.1-b03, mixed mode)`安装了 Win7 的开发 PC 和一个带有 Ubuntu 的测试服务器，`OpenJDK Runtime Environment (IcedTea6 1.12.3) (6b27-1.12.3-0ubuntu1 ~12.04.1).`我还有一个带有`jasper`插件的 Grails 应用程序来打印一些 pdf 文件。虽然它可以在开发 PC 上运行，但在测试服务器上它会失败并出现以下异常：

```
ERROR errors.GrailsExceptionResolver - NoSuchMethodError 在处理请求时发生：[GET] /test/printer/print
com.lowagie.text.pdf.PdfWriter.setRgbTransparencyBlending(Z)V。堆栈跟踪如下：
org.codehaus.groovy.grails.web.servlet.mvc.exceptions.ControllerExecutionException：执行控制器[com.***.PrinterController]的动作[print]导致异常：运行时错误执行动作
```

到目前为止，我已经读到这可能是由不适当的`iText`库版本引起的，但是`itext.jar`两台机器上的插件中都包含相同的内容。我会很感激任何可能有助于使这个插件工作的想法

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-03T10:54:48.827

最后发现该项目有一个`pdf 0.6`插件，其中包含一个`itext 2.0.8`使用而不是预期的库`itext 2.1.7`

# joomla2.5 - joomla自定义下拉列表开发中的问题

> ID：15737738
> 
> 赞同：2
> 
> 时间：2013-04-01T04:45:00.700
> 
> 标签：joomla2.5

在过去的 3 天里，我一直坚持使用 joomla 2.5 进行下拉列表开发，我必须从数据库中检索数据并在下拉列表中显示这些数据，我遵循的步骤如下所述：

在模型文件夹中，我在字段文件夹中创建了一个新模型并将此文件命名为“fieldname.php”

现在文件“Models/fields/fieldname.php”包含以下源代码：

```
 <?php

    defined('JPATH_BASE') or die;

    jimport('joomla.html.html');
    jimport('joomla.form.formfield');
    jimport('joomla.form.helper');
    JFormHelper::loadFieldClass('list');

    class JFormFieldMyCompany extends JFormFieldList
    {

            protected $type = 'MyCompany';

             public function getOptions()
            {
                    // Initialize variables.
                    $options = array();

                    $db     = JFactory::getDbo();
                    $query  = $db->getQuery(true);

                    $query->select('id As value,name As text');
                    $query->from('#_k2_tags AS a');
                    $query->order('a.name');
                    $db = $this->getDbo();

                    // Get the options.
                    $db->setQuery($query);

                    $options = $db->loadObjectList();

                    // Check for a database error.
                    if ($db->getErrorNum()) {
                            JError::raiseWarning(500, $db->getErrorMsg());
                    }
                    print_r($options);exit;
                    return $options;
            }
    } 
```

在我的模型 filter.php 之后，我添加了以下代码。

**模型/filter.php**：

```
<?php
defined( '_JEXEC' ) or die;

jimport('joomla.application.component.modeladmin');

class FiltersModelFilter extends JModelAdmin
{

    //Add this handy array with database fields to search in
        protected $searchInFields = array('text','a.name');

//Override construct to allow filtering and ordering on our fields
        public function __construct($config = array()) {
                $config['filter_fields']=array_merge($this->searchInFields,array('a.name'));
                parent::__construct($config);
        }

    public function getTable($type = 'Filter', $prefix = 'FiltersTable', $config = array())
    {
        return JTable::getInstance($type, $prefix, $config);
    }

    protected function loadFormData()
    {
        $data = JFactory::getApplication()->getUserState('com_filters.edit.filter.data', array());

        if (empty($data)) {
            $data = $this->getItem();
        }

        return $data;
    }
    public function getForm($data = array(), $loadData = true)
    {
        $form = $this->loadForm('com_filters.filter', 'filter', array('control' => 'jform', 'load_data' => $loadData));

        return $form;
    }
     protected function getListQuery(){
                $db = JFactory::getDBO();
                $query = $db->getQuery(true);

                //CHANGE THIS QUERY AS YOU NEED...
                $query->select('id As value, name As text')
                        ->from('#_k2_tags AS a');

                // Filter search // Extra: Search more than one fields and for multiple words
                $regex = str_replace(' ', '|', $this->getState('filter.search'));
                if (!empty($regex)) {
                        $regex=' REGEXP '.$db->quote($regex);
                        $query->where('('.implode($regex.' OR ',$this->searchInFields).$regex.')');
                }

                // Filter company
                $company= $db->escape($this->getState('filter.name'));
                if (!empty($company)) {
                        $query->where('(a.name='.$company.')');
                }

                // Filter by state (published, trashed, etc.)
                $state = $db->escape($this->getState('filter.state'));
                if (is_numeric($state)) {
                        $query->where('a.published = ' . (int) $state);
                }
                elseif ($state === '') {
                        $query->where('(a.published = 0 OR a.published = 1)');
                }

                //echo $db->replacePrefix( (string) $query );//debug
                return $query;
        }

        /**
         * Method to auto-populate the model state.
         *
         * Note. Calling getState in this method will result in recursion.
         *
         * @since       1.6
         */
        protected function populateState($ordering = null, $direction = null)
        {
                // Initialise variables.
                $app = JFactory::getApplication('administrator');

                // Load the filter state.
                $search = $this->getUserStateFromRequest($this->context.'.filter.search', 'filter_search');
                //Omit double (white-)spaces and set state
                $this->setState('filter.search', preg_replace('/\s+/',' ', $search));

                //Filter (dropdown) state
                $state = $this->getUserStateFromRequest($this->context.'.filter.published', 'filter_state', '', 'string');
                $this->setState('filter.state', $state);

                //Filter (dropdown) company
                $state = $this->getUserStateFromRequest($this->context.'.filter.name', 'filter_company', '', 'string');
                $this->setState('filter.name', $state);

                //Takes care of states: list. limit / start / ordering / direction
                parent::populateState('a.name', 'asc');
        }

} 
```

在“Views/filter/view.html.php”里面

```
<?php
defined( '_JEXEC' ) or die;

jimport( 'joomla.application.component.view');

class FiltersViewFilter extends JView
{
    protected $item;
    protected $form;
    protected $state;
    protected $sortColumn;
    protected $sortDirection;
    protected $searchterms;

    public function display($tpl = null)
    {

        $this->item = $this->get('Item');
        $this->state = $this->get('State');
        $this->form = $this->get('Form');
         $this->state= $this->get('State');

                //Following variables used more than once
                $this->sortColumn = $this->state->get('list.ordering');
                $this->sortDirection= $this->state->get('list.direction');
                $this->searchterms= $this->state->get('filter.search');
        $this->addToolbar();

      parent::display($tpl);
    }

    public function addToolbar()
    {
        if ($this->item->ID) {
            JToolBarHelper::title(JText::_('Filter Title'));
        } else {
            JToolBarHelper::title(JText::_('Add Filter Title'));
        }

        JToolBarHelper::apply('filter.apply', 'JTOOLBAR_APPLY');
        JToolBarHelper::save('filter.save', 'JTOOLBAR_SAVE');
        JToolBarHelper::save2new('filter.save2new', 'JTOOLBAR_SAVE_AND_NEW');

        JToolBarHelper::cancel('filter.cancel');
    }
} 
```

在**views/filter/tmpl/default.php里面**

```
<?php defined( '_JEXEC' ) or die; 
//Get companie options
JFormHelper::addFieldPath(JPATH_COMPONENT . '/models/fields');
$companies = JFormHelper::loadFieldType('MyCompany', false);
$companyOptions=$companies->getOptions(); // works only if you set your field getOptions on public!!
//Get companie options
?>
<form action="index.php?option=com_filters&amp;ID=<?php echo $this->item->ID ?>"
    method="post" name="adminForm" class="form-validate">

   <fieldset id="filter-bar">
                <div class="filter-search fltlft">
                        <input type="text" name="filter_search" id="filter_search" value="<?php echo $this->escape($this->searchterms); ?>" title="<?php echo JText::_('Search in Names, etc.'); ?>" />
                        <button type="submit">
                                <?php echo JText::_('JSEARCH_FILTER_SUBMIT'); ?>
                        </button>
                        <button type="button" onclick="document.id('filter_search').value='';this.form.submit();">
                                <?php echo JText::_('JSEARCH_FILTER_CLEAR'); ?>
                        </button>
                </div>
                <div class="filter-select fltrt">
                        <select name="filter_state" class="inputbox" onchange="this.form.submit()">
                                <option value="">
                                        <?php echo JText::_('JOPTION_SELECT_PUBLISHED');?>
                                </option>
                                <?php echo JHtml::_('select.options', JHtml::_('jgrid.publishedOptions', array('archived'=>false)), 'value', 'text', $this->state->get('filter.published'), true);?>
                        </select>

                        <select name="filter_type" class="inputbox" onchange="this.form.submit()">
                                <option value=""> - Select Company - </option>
                                <?php echo JHtml::_('select.options', $companyOptions, 'value', 'text', $this->state->get('filter.name'));?>
                        </select>

                </div>
        </fieldset>
<div class="width-60 fltlft">
        <fieldset class="adminform">
            <ul class="adminformlist">
                <?php foreach ($this->form->getFieldset() as $field): ?>
                    <li><?php echo $field->label; ?>
                    <?php echo $field->input; ?></li>
                <?php endforeach ?>
            </ul>

        </fieldset>
    </div>

    <input type="hidden" name="task" value="" />
    <?php echo JHtml::_('form.token'); ?>
</form> 
```

请帮助我识别我的错误，我需要尽快解决问题。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-07-15T12:04:40.483

将此 Models/fields/fieldname.php 更改为 Models/fields/mycompany.php

也从 JFormFieldMyCompany 更改为 JFormFieldMycompany

并受保护 $type = 'MyCompany'; 受保护的 $type = 'mycompany';

# objective-c - IOS：由于内存警告导致应用程序崩溃

> ID：15737740
> 
> 赞同：1
> 
> 时间：2013-04-01T04:45:23.133
> 
> 标签：objective-c, cocoa-touch, crash, automatic-ref-counting

当我加载带有缩略图的配置文件时，我的应用程序崩溃了`UITableView`。

它可以正确加载多达 5 个带有图片的配置文件。但是，当我创建第六个时，然后在带有图片的表格视图中加载配置文件时它会崩溃，向我显示内存警告消息。

其实我用过`ARC`。所以，我无法释放内存。我只能使用`autoreleasepool`来释放内存。

下面是我用来加载`UITableView`带有个人资料图片的个人资料的代码。

```
- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:  (NSIndexPath *)indexPath 
{
     @autoreleasepool 
     {
         static NSString *CellIdentifier=@"Cell";
         UITableViewCell *cell = nil;

         cell = [tableView dequeueReusableCellWithIdentifier:CellIdentifier];
         if (cell == nil) {
            cell = [[UITableViewCell alloc] initWithStyle:UITableViewCellStyleSubtitle reuseIdentifier:CellIdentifier] ;
         }

         MyProfile * objMP1 = [GlobalgroupedProfileArray objectAtIndex:[indexPath row]];
         NSString *titleText =[@"Name: " stringByAppendingString:objMP1.Name];
         cell.textLabel.text=titleText;

         NSString *strTitle1=[@"Owner: "stringByAppendingString:[objMP1.Owner  stringByAppendingString:@"\n"]];

         NSString *strTitle2=[@"Breed: "stringByAppendingString:[objMP1.Breed stringByAppendingString:@"\n"]];

         NSString *strTitle=[[strTitle1 stringByAppendingString:strTitle2] stringByAppendingString:[@"ID Number: "stringByAppendingString:[NSString stringWithFormat:@"%@",objMP1.IDNumber]]];

        cell.detailTextLabel.text=strTitle;
        cell.detailTextLabel.numberOfLines =3;

        @autoreleasepool 
        {
            UIImageView * imageView = [[UIImageView alloc]    initWithFrame:CGRectMake(cell.frame.size.width-70-25, 15, 50, 50)];
            imageView.image = objMP1.img;
            [cell addSubview:imageView];
            imageView=nil;
        }

        @autoreleasepool 
        {
            // Load the image with an GCD block executed in another thread

            dispatch_queue_t downloadQueue = dispatch_queue_create("image downloader",  NULL);
            dispatch_async(downloadQueue, ^{

              CGSize newSize = CGSizeMake(50, 50);  //whaterver size
              UIGraphicsBeginImageContext(newSize);
              [objMP1.img drawInRect:CGRectMake(0, 0, newSize.width, newSize.height)];
              UIImage *newImage = UIGraphicsGetImageFromCurrentImageContext();
              UIGraphicsEndImageContext();

              dispatch_async(dispatch_get_main_queue(), ^{
                  @autoreleasepool 
                  {
                      UIImageView * imageView = [[UIImageView alloc]  initWithFrame:CGRectMake(cell.frame.size.width-70-25, 15, 50, 50)];
                      imageView.image = newImage;
                      [cell addSubview:imageView];
                      imageView=nil;
                  }
              });
          });
              dispatch_release(downloadQueue);
          }
       [cell.imageView setImage:newImage];
       cell.accessoryType=UITableViewCellAccessoryDisclosureIndicator;
       return cell;
    }
} 
```

任何提示？

# asp.net - 嵌套的 Gridview 删除返回未指定的错误

> ID：15737741
> 
> 赞同：0
> 
> 时间：2013-04-01T04:45:26.503
> 
> 标签：asp.net, gridview

我一直在寻找一段时间，但我找不到答案。以下代码有效，但删除按钮给出了 Oledb 未指定的错误。我在 EmptyTemplate 上添加了一条新记录，下面显示的代码可以正常工作，但是当我在网格中有记录并单击“删除”按钮时，给了我一个错误。请帮忙。

```
 <asp:SqlDataSource ID="AllotDataSource" runat="server" ConnectionString='<%$ ConnectionStrings:BlastConnString %>' DeleteCommand="DELETE FROM [Allotment] WHERE [AllotID] = ?" InsertCommand="INSERT INTO [Allotment] ([AllotID], [LinkConvID], [LinkHotelID], [NumRooms], [DateIn], [DateOut], [Notes]) VALUES (?, ?, ?, ?, ?, ?, ?)" ProviderName='<%$ ConnectionStrings:BlastConnString.ProviderName %>' SelectCommand="SELECT dbo.Allotment.AllotID, dbo.Allotment.LinkConvID, dbo.Allotment.LinkHotelID, dbo.Allotment.NumRooms, dbo.Allotment.DateIn, dbo.Allotment.DateOut, dbo.Allotment.Notes, dbo.Hotels.Name, dbo.Hotels.Grade FROM dbo.Allotment INNER JOIN dbo.Hotels ON dbo.Allotment.LinkHotelID = dbo.Hotels.htID WHERE (dbo.Allotment.LinkConvID = CONVERT (varchar(36), ?))" UpdateCommand="UPDATE [Allotment] SET [LinkConvID] = ?, [LinkHotelID] = ?, [NumRooms] = ?, [DateIn] = ?, [DateOut] = ?, [Notes] = ? WHERE [AllotID] = ?">
                                    <DeleteParameters>
                                        <asp:Parameter Name="AllotID" Type="Object"></asp:Parameter>
                                    </DeleteParameters>
                                    <InsertParameters>
                                        <asp:Parameter Name="AllotID" Type="Object"></asp:Parameter>
                                        <asp:Parameter Name="LinkConvID" Type="Object"></asp:Parameter>
                                        <asp:Parameter Name="LinkHotelID" Type="Int32"></asp:Parameter>
                                        <asp:Parameter Name="NumRooms" Type="Int32"></asp:Parameter>
                                        <asp:Parameter Name="DateIn" Type="DateTime"></asp:Parameter>
                                        <asp:Parameter Name="DateOut" Type="DateTime"></asp:Parameter>
                                        <asp:Parameter Name="Notes" Type="String"></asp:Parameter>
                                    </InsertParameters>
                                    <SelectParameters>
                                        <asp:ControlParameter ControlID="ConvID" PropertyName="Value" Name="LinkConvID" Type="Object"></asp:ControlParameter>
                                    </SelectParameters>
                                    <UpdateParameters>
                                        <asp:Parameter Name="LinkConvID" Type="Object"></asp:Parameter>
                                        <asp:Parameter Name="LinkHotelID" Type="Int32"></asp:Parameter>
                                        <asp:Parameter Name="NumRooms" Type="Int32"></asp:Parameter>
                                        <asp:Parameter Name="DateIn" Type="DateTime"></asp:Parameter>
                                        <asp:Parameter Name="DateOut" Type="DateTime"></asp:Parameter>
                                        <asp:Parameter Name="Notes" Type="String"></asp:Parameter>
                                        <asp:Parameter Name="AllotID" Type="Object"></asp:Parameter>
                                    </UpdateParameters>
                                </asp:SqlDataSource>
                                <asp:GridView ID="AllotGridView" runat="server" AutoGenerateColumns="False" DataKeyNames="AllotID" DataSourceID="AllotDataSource" OnRowCommand="AllotGridView_RowCommand">
                                    <Columns>
                                        <asp:CommandField ShowDeleteButton="True" ShowEditButton="True"></asp:CommandField>
                                        <asp:BoundField DataField="NumRooms" HeaderText="NumRooms" SortExpression="NumRooms"></asp:BoundField>
                                        <asp:BoundField DataField="DateIn" HeaderText="DateIn" SortExpression="DateIn"></asp:BoundField>
                                        <asp:BoundField DataField="DateOut" HeaderText="DateOut" SortExpression="DateOut"></asp:BoundField>
                                        <asp:BoundField DataField="Notes" HeaderText="Notes" SortExpression="Notes"></asp:BoundField>
                                        <asp:BoundField DataField="Name" HeaderText="Name" SortExpression="Name"></asp:BoundField>
                                        <asp:BoundField DataField="Grade" HeaderText="Grade" SortExpression="Grade"></asp:BoundField>                                            
                                    </Columns>                                        
                                    <EmptyDataTemplate>
                                        <p style="font-style: italic">Add a new allotment:</p>
                                        <table style="font-size:small">
                                            <tr>
                                                <th>Hotel
                                                </th>
                                                <th># Rms
                                                </th>
                                                <th>From
                                                </th>
                                                <th>To
                                                </th>
                                                <th>Notes
                                                </th>
                                            </tr>
                                            <tr>
                                                <td>
                                                    <asp:DropDownList ID="htlDDL" runat="server" DataSourceID="HtlDataSource" DataTextField="Name" DataValueField="htID"></asp:DropDownList>
                                                </td>
                                                <td>
                                                    <asp:TextBox ID="NoRoomsBox" runat="server" Width="10px"></asp:TextBox>
                                                </td>
                                                <td>
                                                    <asp:TextBox ID="DateInBox" runat="server" TextMode="Date"></asp:TextBox>
                                                </td>
                                                <td>
                                                    <asp:TextBox ID="DateOutBox" runat="server" TextMode="Date"></asp:TextBox>
                                                </td>
                                                <td>
                                                    <asp:TextBox ID="NotesBox" runat="server" TextMode="MultiLine"></asp:TextBox>
                                                </td>
                                                <td>
                                                    <asp:Button ID="AddHtlBut" runat="server" CausesValidation="false" Text="Add" CssClass="button" CommandName="emptyInsert"></asp:Button>
                                                </td>
                                            </tr>
                                        </table>
                                    </EmptyDataTemplate>
                                </asp:GridView> 
```

这是后面的代码：

```
 protected void AllotGridView_RowCommand(object sender, GridViewCommandEventArgs e)
    {

        if (e.CommandName.Equals("emptyInsert"))
        {
            try
            {
                GridView childGrid = (GridView)sender;
                GridViewRow parentGridRow = (GridViewRow)childGrid.Parent.Parent;
                Control control = parentGridRow.Controls[0];
                string convID = (control.FindControl("ConvID") as HiddenField).Value;

                control = childGrid.Controls[0].Controls[0];
                string hotelID = (control.FindControl("htlDDL") as DropDownList).SelectedValue;
                string nRooms = (control.FindControl("NoRoomsBox") as TextBox).Text;
                string dateIn = (control.FindControl("DateInBox") as TextBox).Text;
                string dateOut = (control.FindControl("DateOutBox") as TextBox).Text;
                string note = (control.FindControl("NotesBox") as TextBox).Text;

                OleDbConnection Bconn = new OleDbConnection(ConfigurationManager.ConnectionStrings["BlastConnString"].ConnectionString);

                OleDbCommand cmd = new OleDbCommand();
                cmd.CommandText = "INSERT INTO Allotment(LinkConvID, LinkHotelID, NumRooms, DateIn, DateOut, Notes) VALUES (?, ?, ?, ?, ?, ?)";
                cmd.CommandType = CommandType.Text;
                cmd.Connection = Bconn;

                cmd.Parameters.Add("LinkConvID", OleDbType.VarChar).Value = convID;
                cmd.Parameters.Add("LinkHotelID", OleDbType.Integer, 4).Value = Convert.ToInt16(hotelID);
                cmd.Parameters.Add("NumRooms", OleDbType.Integer, 4).Value = Convert.ToInt16(nRooms);
                cmd.Parameters.Add("DateIn", OleDbType.Date).Value = Convert.ToDateTime(dateIn);
                cmd.Parameters.Add("DateOut", OleDbType.Date).Value = Convert.ToDateTime(dateOut);
                cmd.Parameters.Add("Notes", OleDbType.VarChar).Value = note;

                cmd.Connection.Open();
                cmd.ExecuteNonQuery();
                cmd.Dispose();
                Bconn.Dispose();
            }
            catch (OleDbException ex)
            {
                SQLErrorLabel.Text = ex.ToString();
            }
        }

        ConvGridView.DataBind();

    }
} 
```

抱歉忘记包含错误消息：

[OleDbException (0x80004005): 未指定错误] System.Data.OleDb.OleDbCommand.ExecuteReaderInternal(CommandBehavior 行为，字符串方法) +745 System.Data.OleDb.OleDbCommand.ExecuteNonQuery() +107 System.Web.UI.WebControls.SqlDataSourceView。 ExecuteDbCommand（DbCommand 命令，DataSourceOperation 操作）+380 System.Web.UI.WebControls.SqlDataSourceView.ExecuteDelete（IDictionary 键，IDictionary oldValues）+568 System.Web.UI.DataSourceView.Delete（IDictionary 键，IDictionary oldValues，DataSourceViewOperationCallback 回调）+ 84 System.Web.UI.WebControls.GridView.HandleDelete(GridViewRow row, Int32 rowIndex) +930 System.Web.UI.WebControls.GridView.HandleEvent(EventArgs e, Boolean CauseValidation, String validationGroup) +974 System.Web.UI. WebControls.GridView。RaisePostBackEvent(String eventArgument) +205 System.Web.UI.WebControls.GridView.System.Web.UI.IPostBackEventHandler.RaisePostBackEvent(String eventArgument) +13 System.Web.UI.Page.RaisePostBackEvent(IPostBackEventHandler sourceControl, String eventArgument) +13 System.Web.UI.Page.RaisePostBackEvent（NameValueCollection postData）+9642898 System.Web.UI.Page.ProcessRequestMain（布尔 includeStagesBeforeAsyncPoint，布尔 includeStagesAfterAsyncPoint）+1724布尔型 includeStagesAfterAsyncPoint) +1724布尔型 includeStagesAfterAsyncPoint) +1724

编辑：我隔离了这个问题。我在这个表上创建了一个只有 sqldatasource 和基本 GridView 的空白页面，并且在 Delete 按钮上仍然有相同的错误消息。我连接到 MS SQL 2000 并且必须使用 OleDb...这可能是个问题吗？我能做些什么来修复它？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-06T05:14:03.873

我修复它。sqldatasource 无法使用 MSSQL 2000 删除记录。我必须使用 ADO.NET 并使用自定义删除按钮

# c++ - 如何在 C++ 中获取应用程序运行时的运行路径

> ID：15737747
> 
> 赞同：0
> 
> 时间：2013-04-01T04:46:02.173
> 
> 标签：c++, linux

我通过双击文件来运行应用程序，因此 getcwd API 将运行路径作为根目录。但我正在从不同的路径运行应用程序。如何在 linux c++ 中获取运行应用程序的正确路径。请帮助提前谢谢

# cakephp - 使用 Cakephp SessionId

> ID：15737748
> 
> 赞同：-1
> 
> 时间：2013-04-01T04:46:22.207
> 
> 标签：cakephp

我正在研究 CakePHP，我有这个问题：

*   为什么我在使用 Firebug 时看不到 Cookie 中的会话 ID？

*   如何强制 CakePHP 使用会话 ID？

请帮帮我：D

编辑 ：

我的意思是 ：

Exp : 在控制器 I 用户中`$this->Session->write(....);`

据我所知，这将启动，`session()`但是当我使用 Firebug 时，我看不到`SESSIONID`.

我的问题是在`SESSIONID`哪里`cakephp`？

我试图`session_start()`查看但会收到错误消息：`"session already start".`

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-01T10:00:43.310

您可能正在寻找一个`PHPSESSID`cookie，但不必将该名称赋予会话 cookie。[改变它](http://www.php.net/manual/en/function.session-name.php)很容易，CakePHP 确实做到了。您还可以在 CakePHP 中[配置您自己的 cookie 名称。](http://book.cakephp.org/2.0/en/development/sessions.html)

最后，不要使用`session_start()`自己。你正在一个已经处理了这些东西的高级框架之上构建一个应用程序。

# eclipse - eclipse中不同的JRE名称导致源代码控制头痛

> ID：15737749
> 
> 赞同：0
> 
> 时间：2013-04-01T04:46:23.713
> 
> 标签：eclipse

我有一个 java 项目，我正在尝试跨两台机器开发（使用 eclipse），但它们之间存在 .classpath 差异。在第一台机器上：

```
<classpathentry kind="con" path="org.eclipse.jdt.launching.JRE_CONTAINER/org.eclipse.jdt.internal.launching.macosx.MacOSXType/JVM Contents (MacOS X Default)"> 
```

第二台机器：

```
<classpathentry kind="con" path="org.eclipse.jdt.launching.JRE_CONTAINER/org.eclipse.jdt.internal.launching.macosx.MacOSXType/Java SE 6 (MacOS X Default)"> 
```

所以区别是：

```
"JVM Contents (MacOS X Default)"
            vs
"Java SE 6 (MacOS X Default)" 
```

如果我进入 Preferences -> Java -> Installed JREs，我可以在其中一台机器上修改“JRE name”属性。但我害怕这样做，因为它可能会对我所有可能依赖于该全球名称的其他项目造成严重破坏？

关于如何解决这个问题的任何建议？

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-01T06:13:01.090

不要直接引用 JRE，只引用项目中的一个[执行环境](http://wiki.eclipse.org/Execution_Environments)。然后在每台机器上以不同的方式映射/解析执行环境。

[您可以在本 Eclipse 教程](http://help.eclipse.org/juno/index.jsp?topic=/org.eclipse.jdt.doc.user/gettingStarted/qs-with-java7.htm&cp=1_1_3)的第二个屏幕截图中了解如何为现有机器选择执行环境。

# java - 图像没有出现在我的 Java 小程序上

> ID：15737750
> 
> 赞同：0
> 
> 时间：2013-04-01T04:46:28.980
> 
> 标签：java, eclipse, image, applet

嘿，我正在尝试创建一个视频游戏，我正在测试是否可以让精灵或图像出现在我之前向同行和教授寻求帮助的小程序上，但他们似乎没有帮助. 我不知道我的图像是否在错误的位置，或者我的代码是否存在错误，但如果有人看一下它，我将不胜感激谢谢！哦！顺便说一句，我正在用 Java 编程，并且正在使用 Eclipse JUNO。

```
enter code here

package meh;
import java.awt.*;
import javax.swing.JApplet;
import javax.swing.ImageIcon;

public class Draw  extends JApplet{
    public static void main(String[] args)
    {
        Draw test = new Draw();

    }
    private Image exImage;
    private boolean imagesLoaded;

    public void run()
    {

        imagesLoaded = false;

        try
        {
            loadImages();
            try
            {
                Thread.sleep(10000);

            }
            catch(InterruptedException ex){}
        }
        finally{}

    }
    public void loadImages()
    {
        exImage = loadImage("C:/Users/Temp/workspace/From Scratch/bin/Ma_rn_0");
        imagesLoaded = true;
        repaint();
    }
    private Image loadImage(String fileName)
    {
        return new ImageIcon(fileName).getImage();
    }
    public void paint(Graphics g)
    {
        if(g instanceof Graphics2D)
        {
            Graphics2D g2 = (Graphics2D)g;
            g2.setRenderingHint(RenderingHints.KEY_TEXT_ANTIALIASING, RenderingHints.VALUE_TEXT_ANTIALIAS_ON);
        }
        if(imagesLoaded)
        {
            drawImage(g, exImage,0,0, null);
        }
        else
        {
            g.drawString("Loading...", 5, 12);
        }
    }

    public void drawImage(Graphics g, Image image, int x, int y, String caption)
    {
        g.drawImage(image, x, y, null);
        g.drawString(caption, x+5, y + 12 +image.getHeight(null));
    }

} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-01T04:53:00.643

除非它们被签名，否则小程序只能从它们起源的相同位置加载图像。在这里，您尝试从本地磁盘加载图像。小程序资源的所有初始化都应通过该`init`方法完成。图像可以作为资源从部署它们的同一 JAR 文件中加载。你可以做

```
Image exImage = ImageIO.read(getClass().getResourceAsStream("images/MyImage.jpg")) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-01T04:53:47.177

1`public static void main(String[] args)`

小程序不应该有，`main()`它使用`init`，`start`和。`stop``destroy`

[http://docs.oracle.com/javase/tutorial/deployment/applet/getStarted.html](http://docs.oracle.com/javase/tutorial/deployment/applet/getStarted.html)

2 尝试了解`EDT`概念

3 不要覆盖`paint`方法

4`ImageIO`用于加载图像

# security - 访问放置在 WEB-INF 中的静态文件

> ID：15737754
> 
> 赞同：-1
> 
> 时间：2013-04-01T04:46:43.833
> 
> 标签：security, jsp, servlets

我的要求是保护静态文件，使其无法从 url 访问。我将这些 css 和 js 文件放在 WEB-INF 中，但现在我无法从我的 jsp 页面访问它。我尝试了以下操作。

```
 webpages|
     WEB-INF|
       img|
          batman.jpg
 test.jsp 
```

现在我尝试从jsp页面`<img src="../WEB-INF/img/batman.jpg"/>`以及

```
<img src="img/batman.jpg"/> 
```

但是没有一个works.test.jsp被放置在web-inf之外并且将它放置在web-inf中对我来说目前不是一个选择。我没有使用Spring Framework，只是基本的jsp和servlet，我想要他们的解决方案。谢谢伙计们.

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-01T04:51:36.870

你的要求是相互矛盾的。您正在通过 URL 使资源无法访问，然后尝试通过 URL 访问它。

下定决心。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-01T05:36:05.323

正如 EJP 所说，如果您想在页面中嵌入图像，您必须通过 URL 访问它。可以这样想：即使您设法限制对图像源的访问（尽管您不能这样做），用户仍可以将其复制到屏幕外，这违反了您的假设，并且留给*了客户端*。

但是，当然有一些解决方法可以针对您的问题实现“次优”功能。我将列出其中一些想到的：

1.  **放个水印**。将您的图像放在公共文件夹中，但通过为每个合理的图像提供水印来修改内容。这样您就不会限制访问，而是降低图像曝光后欺诈行为的可能性；
2.  **修改文件名**。您可以修改图像的文件名，并在服务器上（例如，在数据库中）保持“真实”名称和人工名称之间的对应关系。这样，您将显着降低安全图像大量泄漏的风险；
3.  **引入客户端限制**。您可以对图像元素引入客户端限制，例如不允许出现弹出菜单、在对话框中显示完整图像以迫使用户认为图像受到保护等。当然，任何浏览器经验不足的人都可以获取内容，但基本用户不会。

我认为还有很多方法可以降低不当行为的概率，但这些方法都没有将这种概率降低到零。因此，您基本上可以访问您的图像，而您可能会通过在所有敏感图像上添加水印来使恶意工作更加困难。

# java - android xml解析中的hashmap

> ID：15737756
> 
> 赞同：2
> 
> 时间：2013-04-01T04:47:53.303
> 
> 标签：java, android, xml-parsing, iterator, hashmap

我必须从 xml 提要中获取数据并显示在 android 应用程序上。

我的 xml 提要看起来像：

```
<root>
 <Categories>
  <Category name="Books">
   <Articles>
  <article articleid="4537" title="Android" />
  <article articleid="4560" title="Java" />
   <article articleid="4585" title="PHP" />
   <article articleid="4731" title="MySql" />
  </Articles>
 </Category>
  <Category name="Names">
   <Articles> 
      <article articleid="266" title="Dita" />
       <article articleid="268" title="Frieda" />
        <article articleid="269" title="Demi" />
        <article articleid="271" title="Shyamalan" />
          <article articleid="269" title="Krish" /></Articles>
         </Category>
          </Categories></root> 
```

在这里我必须显示类别名称。还必须显示属于类别的文章标题。我希望显示的输出是：

```
 Books

      Android  Java  PHP  MySql

     Names

     Dita  Frieda  Demi  Shyamalan Krish 
```

我使用以下代码：

```
static final String KEY_TITLE = "Category";
   static final String KEY_ARTICLE = "article";
      @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);

        final ArrayList<HashMap<String, String>> songsList = new ArrayList<HashMap<String, String>>();
        XMLParser parser = new XMLParser();
        String xml = parser.getXmlFromUrl(URL); // getting XML from URL
        Document doc = parser.getDomElement(xml); // getting DOM element

        NodeList nl = doc.getElementsByTagName(KEY_TITLE);
        NodeList nl1 = doc.getElementsByTagName(KEY_ARTICLE);
                System.out.println(nl.getLength());
        // looping through all song nodes &lt;song&gt;
        for (int i = 0; i < nl.getLength(); i++) {
            // creating new HashMap
            System.out.println(nl.getLength());
            HashMap<String, String> map = new HashMap<String, String>   ();
            map.put( KEY_TITLE,((Element)nl.item(i)).getAttribute("name"));
           for (int j = 0; j < nl1.getLength(); j++) {
              map.put( KEY_ARTICLE,((Element)nl1.item(j)).getAttribute("title"));
                }
           songsList.add(map);
          } 
```

在这里我必须运行应用程序意味着显示文章标题。但文章标题没有正确显示。我当前的 o/p 如下所示：

```
 Books

      Krish  Krish  

     Names

     Krish  Krish 
```

最后一篇文章标题显示在所有类别中。为什么会出现这些错误？？？请帮助我...我该如何解决这些错误？？？请给我一些想法？？？

**编辑：**

我已经改变了我的代码，如下所示：

```
 public class MainActivity extends Activity {
      static final String URL = "xxx";

 static final String KEY_TITLE = "Category";
 static final String KEY_ARTICLE = "article";
 static final String KEY_IMAGE = "image";
 LazyAdapter adapter;

 @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);

     final ArrayList<HashMap<String, List<String>>> songsList = new ArrayList<HashMap<String, List<String>>>();
        XMLParser parser = new XMLParser();
        String xml = parser.getXmlFromUrl(URL); // getting XML from URL
        Document doc = parser.getDomElement(xml); // getting DOM element

        NodeList nl = doc.getElementsByTagName(KEY_TITLE);
        NodeList nl1 = doc.getElementsByTagName(KEY_ARTICLE);
        NodeList nl2 = doc.getElementsByTagName(KEY_IMAGE);
        System.out.println(nl.getLength());
        HashMap<String, List<String>> map = new HashMap<String, List<String>>();
        for(int i = 0; i < nl.getLength(); i++) {
            String name = ((Element) nl.item(i)).getAttribute("name");
             populateMap(map, name, KEY_TITLE);

           for(int j = 0; j < nl1.getLength(); j++) {
                String title=((Element) nl1.item(j)).getAttribute("title");
                populateMap(map, title, KEY_ARTICLE);
                String url=((Element) nl2.item(j)).getAttribute("url");
                populateMap(map, url, KEY_IMAGE);
                } 
           songsList.add(map); 
       } 
    GridView list = (GridView) findViewById(R.id.listView1);
         adapter = new LazyAdapter(this, songsList);
         list.setAdapter(adapter);
   private void populateMap(HashMap<String, List<String>> map, String value,
        String key) {
    // TODO Auto-generated method stub
     List<String> myList;
     if(!map.containsKey(key)) {
         myList = new ArrayList<String>();
         myList.add(value);
         map.put(key, myList);
     } else {
         myList = map.get(key);
         myList.add(value);
     } 
```

现在我必须运行该应用程序，这意味着我得到了如下所示的 o/p：

```
[Books,Names]
[Android,Java,PHP,Mysql,Dita,Frieda,Demi,Shyamalan,Krish]  [Android,Java,PHP,Mysql,Dita,Frieda,Demi,Shyamalan,Krish]

[Books,Names]
[Android,Java,PHP,Mysql,Dita,Frieda,Demi,Shyamalan,Krish]  [Android,Java,PHP,Mysql,Dita,Frieda,Demi,Shyamalan,Krish] 
```

请为我提供一些想法来获得正确的 o/p（我需要的设计）。

这是我的 LazyAdpter 文件：

```
 public class LazyAdapter extends BaseAdapter {
            private Activity activity;
            private ArrayList<HashMap<String, List<String>>> data;
            private static LayoutInflater inflater = null;
           public ImageLoader imageLoader;
          ListAdapter listViewAdapter;
            public LazyAdapter(Activity a, ArrayList<HashMap<String, List<String>>> songsList) {
                   activity = a;
                  data = songsList;
                  inflater = (LayoutInflater) activity
            .getSystemService(Context.LAYOUT_INFLATER_SERVICE);
                            imageLoader = new ImageLoader(activity.getApplicationContext());
                }

        public int getCount() {
                    return data.size();
                   }

             public Object getItem(int position) {
              return position;
            }

         public long getItemId(int position) {
            return position;
            }

            public View getView(int position, View convertView, ViewGroup parent) {
            View vi = convertView;
                vi = inflater.inflate(R.layout.list_row,parent, false);

                TextView title = (TextView) vi.findViewById(R.id.title); 
                Gallery listview = (Gallery) vi .findViewById(R.id.model);

            HashMap<String, List<String>> item = new HashMap<String, List<String>>();
             item = data.get(position);
             title.setText(item.get(MainActivity.KEY_TITLE).toString());
                  listViewAdapter = new ListAdapter(activity, data);
                 listview.setAdapter(listViewAdapter);
                     return vi;
            } 
```

这是 ListAdapter 类：

```
 public View getView(int position, View convertView, ViewGroup parent) {
           View vi = convertView;
            vi = inflater.inflate(R.layout.listrow,parent, false);
            TextView title = (TextView) vi.findViewById(R.id.textView1); 
            HashMap<String, List<String>> item = new HashMap<String, List<String>>();
            item = data.get(position);
        title.setText(item.get(MainActivity.KEY_ARTICLE).toString());
         return vi;
            } 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-01T16:16:17.510

```
Map<String,List<String>> categoryToArticlesMap = new HashMap<String,List<String>>();
NodeList categoryNd = doc.getElementsByTagName("Category");
for (int i = 0; i < categoryNd.getLength(); i++) 
{
    Element e = (Element) categoryNd.item(i);
    String categoryName = e.getAttribute("name"); 
    NodeList articlesNd = e.getElementsByTagName("Articles");
    Element e1 = (Element) articlesNd.item(0);
    NodeList articleNd = e1.getElementsByTagName("article");
    List<String> articles = new ArrayList<String>();
    for (int j = 0; j < articleNd.getLength(); j++) {
        Element articleNode = (Element) articleNd.item(j);
        String articleName = articleNode.getAttribute("title");
        articles.add(articleName);
    }
    categoryToArticlesMap.put(categoryName, articles);
} 
```

这将为您提供所需的输出。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-01T05:13:11.030

在这一行`map.put( KEY_ARTICLE,((Element)nl1.item(j)).getAttribute("title"));`中，您将重写地图中存在的先前值。更改`ArrayList<HashMap<String, String>> songsList`并`ArrayList<HashMap<String, List<String>>> songsList`添加每个值以列出并将其放入地图。
即使你这样做，你也会得到输出，

```
Books    
Android Java PHP MySQL Dita Frieda Demi Shyamalan Krish     
Names     
Android Java PHP MySQL Dita Frieda Demi Shyamalan Krish 
```

要获得所需的输出，您应该考虑`article`每个下的节点列表，`Category`而不是获取`article`文档中的所有标签。

# java - 在横向视图中获取旋转（倾斜）角度 - Android Java

> ID：15737762
> 
> 赞同：1
> 
> 时间：2013-04-01T04:49:07.240
> 
> 标签：java, android, sensors, angle, tilt

我在网上搜寻了一个很好的例子或有人试图尝试同样的事情，但到目前为止我还没有多少运气。

我试图让我的设备旋转角度（如果你能想象）从 180°（平面）开始。

当用户左右倾斜设备时，角度会相应调整。当它旋转时，我想简单地更新一个 TextView。

我只是不知道这是什么演变，有些人建议使用陀螺仪，加速度计，甚至是磁力计，或组合。我已经使用了一些不同的传感器，但是我所遵循的示例都没有实现我想要实现的目标。

我不想与 3D 有任何关系，只是计划旋转。

任何人都可以在正确的导演中转发我，或提供一些信息吗？

非常感谢你！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-01T04:53:14.087

您实现 OrientationEventListener 这将为您提供设备旋转。人像为 0 度。

# javascript - 如何使用javascript检查文本框中的第一个字符是否为数字？

> ID：15737763
> 
> 赞同：7
> 
> 时间：2013-04-01T04:49:06.893
> 
> 标签：javascript, forms, textbox, numbers

我正在制作一个简单的表格并有一个街道地址的文本框......我要做的就是检查输入的第一个值是否是数字。

我该怎么做？

```
if(document.forms[0].elements[2].value. 
```

这就是我现在所拥有的，但我不确定我应该添加什么来仅检查第一个字符。

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-04-01T04:57:35.117

正如您在问题中所说，您只想检查第一个字符，您可以对字符串使用[charAt](https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/String/charAt)函数来检查第一个字符是从 0 到 9 还是您想要的第一个字符的任何其他检查

可能的解决方案

```
var firstChar = document.forms[0].elements[2].value.charAt(0);
if( firstChar <='9' && firstChar >='0') {
      //do your stuff
} 
```

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2014-11-18T13:10:20.007

这可以简单地使用`isNaN`. 只需在它前面放一个 bang 来检查它是否是一个数字，而不是`isNaN`正常使用检查它是否不是一个数字，如下所示：

```
var val = document.forms[0].elements[2].value;
if (!isNaN(val.charAt(0))){ //If is a number
  //Stuff
} 
```

这也与数字作为字符串一起使用，因此需要担心引号或任何类似的东西。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-01T04:56:09.190

您可以使用`if (document.forms[0].elements[2].value.match(/^\d+/))`来检查字段的开头是否由数字组成。

它将匹配：

```
0 - valid
1 - valid
1a - valid
1 a - valid
1234567 - valid
a - invalid
a1 - invalid 
```

从字面上看，任何以数字开头的东西。

您可以将其功能扩展到`if (document.forms[0].elements[2].value.match(/^\d+ +.+/))`

在这种形式中，它现在需要一个数字，加上一个或多个空格，然后是其他任何内容。

```
0 - invalid
1 - invalid
1(space) - invalid
1 1 - valid
1 a - valid
12345 abcdef - valid 
```

阅读有关[正则表达式](http://www.w3schools.com/jsref/jsref_obj_regexp.asp)的更多信息以详细说明更复杂的检查。

但首先要记住，不是每个地址都有数字，而且世界上大多数国家都不使用这种写地址的格式。至于地址字段，我相信您应该将其保持打开状态，以便以用户希望的任何格式写入。

# sql-server - 防止 SQL Server IDENTITY 在 INSERT 失败时增长

> ID：15737764
> 
> 赞同：0
> 
> 时间：2013-04-01T04:49:26.363
> 
> 标签：sql-server, identity, sql-insert, autogrow

我注意到在 SQL Server 中，当 INSERT 失败时，IDENTITY ID 仍在增长。这在 MySQL 中不是问题

这是示例[http://sqlfiddle.com/#!3/51b7d/8](http://sqlfiddle.com/#!3/51b7d/8)

我怎样才能防止这种情况？谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-01T07:46:29.437

MySQL 和 SQL Server 都不保证紧凑标识。这两种产品都可以而且将会在生成的身份中留下空白。这是一个[MySQL SqlFiddle](http://sqlfiddle.com/#!2/c872c/1/0)证明 MySQL 可以留下空白。

所以现在你知道你的假设是不正确的，回到绘图板并改变你的设计，不要假设紧凑的身份。

# java - 如何在我的 Java TicTacToe 程序中将空字符转换为空白字符？

> ID：15737765
> 
> 赞同：0
> 
> 时间：2013-04-01T04:49:36.777
> 
> 标签：java

目前，我有一个用 java 编写的简单井字游戏程序的工作代码。正如您将在下面看到的那样，唯一的问题是显示我的板时正在打印空字符（\u0000）而不是空白区域。

我的教授告诉我们编写这个程序的方式是检测空空格并用 X 或 O 填充它们，我这样做了。

现在，我希望能够将空字符从显示为 00 更改为只是一个空格，因为否则格式不正确。

我已经尝试简单地擦除 '\u0000' 字符并将其替换为 ' ' 字符，但是我的板根本没有出现。任何帮助表示赞赏！

```
import java.util.Scanner; 

  public class TicTacToe
  {
  public static void main(String[] args)
  {

     char[][] board = new char[3][3];

     while (true) {

        makeCompMove(board, 'X');

        displayBoard(board);
        if(isWon('X', board)) {
           System.out.println("\n\nComputer won!");
           System.exit(1);
        }

        else if (isDraw(board)) {
           System.out.println("\n\nDraw Game! No winner");
           System.exit(2);
        }

        makeAMove(board, 'O');
        displayBoard(board);

        if (isWon('O', board)) {
           System.out.println("\n\nPlayer won!");
           System.exit(3);
        }
        else if (isDraw(board)) {
           System.out.println("\n\nDraw Game! No winner");
           System.exit(4);
        }
     }
  }

  public static void displayBoard(char[][] board) 
  {

     for(int k = 0; k < 3; k++)
     {
        for(int i = 0; i < 28; i++)
        {
           System.out.print("-");
        }
        System.out.println();

        for(int j = 0; j < 3; j++)
        {
           System.out.print("|" + "  " + board[k][j] + "  ");
        }
        System.out.println("|");

     }
        for(int i = 0; i < 28; i++)
     {
        System.out.print("-");
     }

  }

  public static void makeAMove(char[][] board, char o)
  {
     Scanner input = new Scanner(System.in);
     while(true)
     {
        System.out.print("\n\nYour turn. Enter a row and col(0,1 or 2): ");
        int row = input.nextInt();
        int col = input.nextInt();
        if(row > 2 || row < 0 || col > 2 || col < 0)
        {
           System.out.println("Incorrect Input. Try Again!");
           continue;
        }
        if(board[row][col] == '\u0000')
        {
                System.out.print("\n You (O) have made your move...\n\n");
           board[row][col] = 'O';
                break;
        }
        else
           System.out.println("Incorrect Input. Try Again!");
     }
  }

    public static void makeCompMove(char[][] board, char x)
  {
      System.out.println();
      System.out.println();
    System.out.print("Computer (X) has made his move...\n");
     while(true)
     {
        int row = (int)(Math.random()*3);
        int col = (int)(Math.random()*3);

            if(board[row][col] == '\u0000')
        {
           board[row][col] = x;
           break;
        }
     }
        System.out.println();
    }

 public static boolean isDraw(char[][] board)
  {
     for(int row = 0; row < 3; row++)
     {
        for(int col = 0; col < 3; col++)
        {
           if(board[row][col] == '\u0000')
           {
              return false;
           }
        }
     }
     return true;
  }

  public static boolean isWon(char x, char[][] board)
  {
    // Check Rows
        for (int i = 0; i < 3; i++)
            if (x == board[i][0] && x == board[i][1] && x == board[i][2]) 
                return true;

    // Check Columns
        for (int j = 0; j < 3; j++)
            if (x == board[0][j] && x == board[1][j] && x == board[2][j]) 
                return true;

    // Check first diagonal
        if (x == board[0][0] && x == board[1][1] && x == board[2][2]) 
            return true;

    // Check second diagonal
        if (x == board[0][2] && x == board[1][1] && x == board[2][0]) 
            return true;

    return false;
    }
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-01T05:02:16.437

无需更改您在显示前检查的任何代码

在 displayBoard 中这样使用

```
 for(int j = 0; j < 3; j++)
    {
        if(board[k][j]=='\u0000')
    System.out.print("|" + "     ");
    else
    System.out.print("|" + "  " + board[k][j] + "  ");

    } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-01T04:56:06.380

二维数组中的元素在数组初始化时设置为空字符。如果要将它们全部转换为空格，则遍历它们并用空格替换字符。

```
for (int i = 0; i < board.length; i++) {
    for (int j = 0; j < board[i].length; j++) {
        board[i][j] = ' ';
    }
} 
```

如果该位置从未使用过，那么它将有一个空格而不是其中的空字符。在使用阵列*之前*执行此操作。

# asp.net - SimpleMemberShip 的安全性

> ID：15737778
> 
> 赞同：0
> 
> 时间：2013-04-01T04:51:04.227
> 
> 标签：asp.net, simplemembership

我有个问题。我正在查看新实施的 Simple Membership Provider，它开箱即用地满足了我的需求。然而，我有点担心这个提供商，因为我正在考虑为自己创建一个自定义 Web 应用程序，并想知道使用它的安全优缺点，以及是否有任何最佳实践来构建一个安全的 Web 应用程序。简单会员制安全吗？在安全方面，我是个菜鸟。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-26T00:37:29.817

我建议不要编写自己的身份验证和会话管理例程。安全性很困难，您的设计或代码中的任何缺陷都可能导致暴露或违规。

我们在几个处理 PHI（受保护的健康信息）的门户网站中使用了 Simple Membership。我们的客户会定期审核我们的开发方法，到目前为止，没有人认为这是一种风险。如果我们开发自己的，他们会举起危险信号。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-26T01:18:50.000

您可能可以通过创建一个辅助函数库类来添加您认为现有提供者缺少的功能，或者将现有提供者子类化（我认为它们不是密封/最终的），从而更进一步。

在任何情况下，您的第一步都是列出您想要的功能，检查现有提供程序是否已经这样做（例如，如果您想要 XML 文件提供程序，CodePlex 上存在），如果没有，扩展或编写自己的。如果您自己编写，您会希望确保存在另一层安全性，例如在 Intranet 上，或仅本地访问或其他一些防御层。

# matlab - 如何在 MATLAB 中训练数据以便在 ANFIS 中使用？

> ID：15737779
> 
> 赞同：1
> 
> 时间：2013-04-01T04:51:14.340
> 
> 标签：matlab, neural-network, fuzzy-logic

我有`data = [a b c d]`并且这些数据在一个循环中，其中、`a`和的值会发生变化。`b``c``d`

```
for num=START:END
    [out1 out2] = some_funstion(input_image);
    a = out1+out2;
    b = out2-out1; %example
    data = [a b];
end 
```

如何保存整个数据并进行训练？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-01T05:57:30.213

更改您的代码如下：

```
data = [];
for num=START:END
    [out1 out2] = some_funstion(input_image);
    a = out1+out2;
    b = out2-out1;%example
    data = [data; a b]; % each row of data will be a and b
end

save('file.mat','data'); % save 'data' in the 'file.mat' file
load('file.mat'); % load 'data' from 'file.mat'. 
```

顺便说一句，在matlab中，注释后面是'%'

# jquery - 如何做造型 使用 jquery 还是 css？如何为选项 html 标签设置样式？<option> 使用 jquery 还是 css？您可以使用 try_files (http://wiki.nginx.org/HttpCoreModule#try_files)。假设您的静态文件位于 /my/path/project/static 和 /my/path/project/jsutils/static 中。你可以试试这个： location ^~ /static {

> ID：15737780
> 
> 赞同：0
> 
> 时间：2013-04-01T04:51:14.493
> 
> 标签：jquery, css

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-01T04:56:54.693

您可能需要查看 jQuery 插件 **[`jqtransform`](http://www.dfc-e.com/metiers/multimedia/opensource/jqtransform/)**。

我已经亲自测试过它及其在`IE-7`.

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-01T04:56:40.723

非常低质量的问题..但是这里..

您可以使用以下方法在外部 CSS 中对其进行样式设置：

```
option {color:green;} 
```

您可以像这样使用内联样式：

```
<option style="color:green;"> 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-01T04:57:40.680

这是用于选择选项标签的出色 css 和 jQuery 的链接：

[样式选择框仅使用 css](http://bavotasan.com/2011/style-select-box-using-only-css/)。
[选择元素的自定义样式](http://cssglobe.com/custom-styling-of-the-select-elements/)。
[收获hq.github](http://harvesthq.github.com/chosen/)。

希望这些链接对您有所帮助。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-04-01T05:02:01.857

嗨试试这些链接

```
http://bavotasan.com/2011/style-select-box-using-only-css/
http://cssdeck.com/item/265/styling-select-box-with-css3
http://cssglobe.com/post/8802/custom-styling-of-the-select-elements 
```

或者您可以使用 jquery 插件，例如

```
http://adam.co/lab/jquery/customselect/
http://www.paulund.co.uk/how-create-nice-looking-dropdowns-using-dropkick-js 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-04-01T04:56:22.870

您可以使用 jquery 选择的库来设置选择框的样式

[http://harvesthq.github.com/chosen/](http://harvesthq.github.com/chosen/)

[https://github.com/harvesthq/chosen/](https://github.com/harvesthq/chosen/)

# objective-c - 在 iOS 中以 1:1 纵横比拍摄视频

> ID：15737781
> 
> 赞同：4
> 
> 时间：2013-04-01T04:51:16.730
> 
> 标签：objective-c, video-capture

我想用 1:1 纵横比的 iOS 相机拍摄视频。

我试过了`UIImagePickerController`，但它不提供改变纵横比。谁能给我一些想法？

此外，iPhone 应用程序“Viddy”提供 1:1 纵横比视频捕捉：

![Viddy 应用程序](https://gyazo.com/1ccba9990bb589961f1d5df23b71b84b.png?1364791668)

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-06-04T05:14:35.243

```
AVCaptureVideoPreviewLayer *_preview = [AVVideoCaptureVideoPreviewLayer layerWithSession:_session];

_preview.frame = CGRectMake(0,0,320,320);
_preview.videoGravity = AVLayerVideoGravityResizeAspectFill;

NSDictionary *videoSettings = [NSDictionary dictionaryWithObjectsAndKeys:
                               AVVideoCodecH264, AVVideoCodecKey,
                               [NSNumber numberWithInt:320], AVVideoWidthKey,
                               [NSNumber numberWithInt:320], AVVideoHeightKey,
                               AVVideoScalingModeResizeAspectFill,AVVideoScalingModeKey,
                               nil];

self.videoInput = [AVAssetWriterInput assetWriterInputWithMediaType: AVMediaTypeVideo
                                                     outputSettings: videoSettings];

self.videoInput.transform = CGAffineTransformMakeRotation(M_PI);
if([_writer canAddInput:_videoInput]) // AVAssetWriter *_writer
    [_writer addInput:_videoInput]; 
```

**笔记：**

_preview 的 videoGravity 和 videoSettings AVVideoScalingModeKey 应该相同才能获得 320 x 320 的输出。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-05-30T12:30:34.557

```
 GPUImageMovie* movieFile = [[GPUImageMovie alloc] initWithAsset:asset];
    GPUImageCropFilter *cropFilter = [[GPUImageCropFilter alloc] initWithCropRegion:CGRectMake(0.0, 0.1, 1.0, 0.8)];

    [movieFile addTarget:cropFilter];
    GPUImageMovieWriter* movieWriter = [[GPUImageMovieWriter alloc] initWithMovieURL:movieURL size:CGSizeMake(320.0, 320.0)];

    [cropFilter addTarget:movieWriter];
    [movieWriter startRecording];
    [movieFile startProcessing]; 
    [movieWriter finishRecordingWithCompletionHandler:^{

               NSLog(@"Completed Successfully");
               [cropFilter removeTarget:movieWriter];
               [movieFile removeTarget:cropFilter];
    }]; 
```

**在哪里**

*   `asset`是输入电影文件。
*   `cropRegion`是要裁剪的区域。
*   `movieUrl`是保存裁剪后的电影的目标 url。

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2013-04-01T04:56:49.723

我认为没有某些应用程序的帮助是不可能做到这一点的，或者即使有一个应用程序可以做到，您也可以捕获视频然后将其裁剪为 1:1

# php - 从数据库中删除数据

> ID：15737786
> 
> 赞同：0
> 
> 时间：2013-04-01T04:52:05.843
> 
> 标签：php, mysql, join, inner-join

我正在设计一个预订系统，我需要知道当另一个用户已经接受该约会时，您将如何从数据库中删除约会（因此不再显示）。

```
<?php
{
    mysql_connect("localhost" , "" , "" or die (mysql_error());
    mysql_select_db("") or die(mysql_error());

    $pid=intval($_SESSION["Patient_id"]); $query = "SELECT t1.*, t2.Doctor_name, t2.Doctor_room FROM Appointment AS t1 INNER JOIN Doctor AS t2 ON t1.Doctor_id=t2.Doctor_id";

    //executes query on the database
    $result = mysql_query ($query) or die ("didn't query");

    //this selects the results as rows
    $num = mysql_num_rows ($result);    

    //if there is only 1 result returned than the data is ok 
    if ($num == 1) {}
    {
        $row=mysql_fetch_array($result);
        $_SESSION['Appointment_date'] = $row['Appointment_date'];
        $_SESSION['Appointment_time'] = $row['Appointment_time'];
        $_SESSION['Doctor_name'] = $row['Doctor_name'];
        $_SESSION['Doctor_room'] = $row['Doctor_room'];
    }
} 
```

上面的代码目前允许用户预约。如果已拍摄，我需要不显示时间和日期。

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-01T05:00:24.287

您应该在表 Appointment 表中有一个布尔字段来将其标记为已使用或未使用.. 我假设它为`'Appointment_taken`...如果这是 0，那么约会仍然要进行..

然后你可以检查条件如下

```
 <?php
        {
            mysql_connect("localhost" , "" , "") or die (mysql_error());
            mysql_select_db("") or die(mysql_error());

            $pid=intval($_SESSION["Patient_id"]); 
            $query = "SELECT t1.*, t2.Doctor_name, t2.Doctor_room ".
                     "FROM Appointment AS t1 INNER JOIN Doctor AS t2 ".
                     "ON t1.Doctor_id=t2.Doctor_id";

            //executes query on the database
            $result = mysql_query ($query) or die ("didn't query");

            //this selects the results as rows
            $num = mysql_num_rows ($result);    

            //if there is only 1 result returned than the data is ok 
            if ($num == 1)
            {
                $row = mysql_fetch_array($result);

                if($row['Appointment_taken'] == 0 )
                {
                    $_SESSION['Appointment_date'] = $row['Appointment_date'];
                    $_SESSION['Appointment_time'] = $row['Appointment_time'];
                }

                $_SESSION['Doctor_name']      = $row['Doctor_name'];
                $_SESSION['Doctor_room']      = $row['Doctor_room'];
            }
        }

        ?> 
```

正如其他人建议的那样，您应该开始学习 PDO 和 mysqli

# java - 数组索引越界异常 JAVA

> ID：15737788
> 
> 赞同：0
> 
> 时间：2013-04-01T04:52:13.203
> 
> 标签：java, arrays, exception

我尝试运行此代码，它是一个移到前端的编码器，但我得到了这个异常：

> 线程“main”中的异常 java.lang.ArrayIndexOutOfBoundsException: 0 在 MTFencoder.main(MTFencoder.java:10)

有人可以解释为什么会这样吗？

```
import java.io.FileReader;
import java.io.BufferedReader;
import java.util.StringTokenizer;
import java.io.IOException;

public class MTFencoder {
    public static void main(String[] args) {
        String filename = args[0];
        WordList wordList = new WordList();

        try {
            String line;
            BufferedReader br = new BufferedReader(new FileReader(filename));
            StringTokenizer st;
            int index;

            while ((line = br.readLine()) != null) {
                st = new StringTokenizer(line);

                while (st.hasMoreTokens()) {
                    String currentword = st.nextToken();

                    if (wordList.hasElement(currentword)) {
                        index = wordList.Index(currentword);
                        wordList.remove(currentword);
                        wordList.add(currentword);
                        System.out.println(Integer.toString(index));
                    } else {
                        wordList.add(currentword);
                        System.out.println("0" + currentword);
                    }
                }
            }
        } catch (IOException e) {
        }
    }
}

class Node {
    private String word;
    private Node next;

    public Node(String w) {
        word = w;
        next = null;
    }

    public String getWord() {
        return word;
    }

    public Node getNext() {
        return next;
    }

    public void setNext(Node n) {
        next = n;
    }
}

class WordList {
    Node head;

    public WordList() {
    }

    public void add(String w) {
        Node n = new Node(w);
        n.setNext(head);
        head = n;
    }

    public int length() {
        Node tmp = head;
        int count = 0;
        while (tmp != null) {
            count++;
            tmp = tmp.getNext();
        }
        return count;
    }

    public boolean hasElement(String w) {
        Node tmp = head;
        while (tmp != null) {
            if (tmp.getWord().equals(w)) return true;
            tmp = tmp.getNext();
        }
        return false;
    }

    public void remove(String w) {
        if (!hasElement(w)) return;
        if (head.getWord().equals(w)) {
            head = head.getNext();
            return;
        }
        Node tmp = head;
        while (!(tmp.getNext().getWord().equals(w))) tmp = tmp.getNext();
        tmp.setNext(tmp.getNext().getNext());
    }

    public void dumpList() {
        for (Node tmp = head; tmp != null; tmp = tmp.getNext())
            System.out.println(" >> " + tmp.getWord());
    }

    public int Index(String w) {
        int counter = 1;
        Node temp = head;
        while (!(temp.getWord().equals(w))) {
            counter++;
            temp = temp.getNext();
        }
        return counter++;
    }
} 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-01T04:53:35.683

该程序需要命令行参数。你没有通过它。

该程序需要以`java MTFencoder fileyouwanttoprocess`. 您没有传递文件名参数。

这是第 10 行

```
String filename = args[0]; 
```

args[0] 是第一个命令行参数 - 您没有传递命令行参数。

# ios - 如何知道 UILocalNotification 在火灾前的剩余时间？

> ID：15737789
> 
> 赞同：0
> 
> 时间：2013-04-01T04:52:21.967
> 
> 标签：ios, uilocalnotification

我想知道`UILocalNotification`火灾前的剩余时间，然后`UIabel`实时显示。

我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-01T05:03:37.283

通知具有属性**fireDate** - 系统应发送通知的日期和时间。因此，您可以使用它和当前日期来计算剩余时间。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-01T05:03:57.773

以下两种方法可用于获取已注册的 LocalNotifications，获取它的对象并访问 FireDate，并计算您的时间

获取所有通知

```
[[UIApplication sharedApplication] scheduledLocalNotifications]; 
```

如果您知道要获取哪个对象，则获取特定的通知对象。

```
[[UIApplication sharedApplication] scheduleLocalNotification:yourNOtificationObject]; 
```

# android - 在应用程序中创建警报服务

> ID：15737791
> 
> 赞同：0
> 
> 时间：2013-04-01T04:52:43.483
> 
> 标签：android

我是android的新手，只能用android做一些简单的小任务。现在我正在努力学习一些更难的东西。我想构建一个应用程序，就像待办事项管理器一样。我想在其中包括为每个特定任务设置提醒的功能，其余的我将能够处理。任何人都可以指导我或为我提供设置提醒的教程。我认为这包括一个后台服务，它不断监控时间和日期，以确保特定事件的发生，并且当该时间和日期与应用程序中的任务匹配时，它会弹出一个提醒。此外，即使在重新启动手机后，该服务也应该会自动启动。如果我的思维方向有些正确，请有人指导我...

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-01T05:26:54.233

您可以使用[AlarmManager 和 BroadCastReceiver](http://www.vogella.com/articles/AndroidBroadcastReceiver/article.html)来接收您的警报。

> 注意：警报管理器适用于您希望应用程序代码在特定时间运行的情况，即使您的应用程序当前没有运行。

# iphone - 如何在iOS中实现类似于Android Phone（默认）的裁剪功能。？

> ID：15737793
> 
> 赞同：3
> 
> 时间：2013-04-01T04:52:48.720
> 
> 标签：iphone, ios, objective-c, xcode, ios6.1

我已经使用 Github 的 BJImageCropper 类来实现裁剪功能，但我想要像 Android Default Crop Box 这样的图像裁剪。

像这样：

![在 Android 中裁剪](https://i.stack.imgur.com/QIKv0.png)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-01T07:09:28.353

我没有找到带箭头的东西..但你可以检查一下：

*   [图像裁剪器](http://www.cocoacontrols.com/controls/image-cropper)
*   [JBCropableView](http://www.cocoacontrols.com/controls/jbcroppableview)

正如 CRDave 在评论中提到的，您也可以查看此链接[https://github.com/nicholjs/BFCropInterface](https://github.com/nicholjs/BFCropInterface)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-04-17T16:19:37.197

如果您想要像 fb 应用程序中那样的裁剪器，请尝试使用我的。 [https://github.com/quaddef/QDImageCropper](https://github.com/quaddef/QDImageCropper)

# heroku - Heroku run rake db:migrate 导致数据库没有变化，应用重启了几次

> ID：15737800
> 
> 赞同：17
> 
> 时间：2013-04-01T04:53:19.673
> 
> 标签：heroku, migration, rake, database-migration, rails-migrations

我在将迁移推送到生产数据库时遇到问题。

问题：

1.  我通过添加 1 列更改了数据库架构。
2.  我已将其迁移到生产数据库：

    MacBook-Air-Mac:app msc$ rake db:migrate RAILS_ENV="production" [RailsAdmin] RailsAdmin 初始化默认禁用。如果需要，请传递 SKIP_RAILS_ADMIN_INITIALIZER=false。== AddLengthColumnToBooks: 迁移 ==========================================--add_column( :books, :length, :integer) -> 0.0017s == AddLengthColumnToBooks: 已迁移 (0.0019s) ============================ ====

3.  考虑到新的数据库模式现在已经投入生产，我已经部署了使用`:length`.

4.  在生产中，我收到以下错误：

    未定义的方法 `length=' for #

5.  我做`heroku rollback`了并将应用程序降级到最新的可靠版本。

6.  然后（可能有点太晚了）我发现我必须`heroku restart`在应用程序中加载新索引。我这样做了好几次。

7.  然后我打开控制台并检查`Book.column_names`，但没有`length`

8.  我确实`heroku run rake db:migrate`又跟着了`heroku restart`一次，没有变化。

9.  我尝试将另一列迁移到生产数据库，但根本没有收到任何消息，甚至没有来自 p.2 的消息。

## 我在这里做错了什么？

**更新**

根据[Philipe](https://stackoverflow.com/users/405865/philipe)的回答，我做了一些额外的步骤：

1.  `git add db/schema.rb`,`git add db/migrate/20130325103953_add_length_column_to_books.rb` 和 'git add db/migrate/20130401041910_add_duration_column_to_books.rb'。吉特的回答是：
2.  要提交的更改：（使用“git reset HEAD ...”取消暂存）

    新文件：db/migrate/20130325103953_add_length_column_to_books.rb 新文件：db/migrate/20130401041910_add_duration_column_to_books.rb 修改：db/schema.rb

3.  然后我做到了`git commit -m "Updating the schema"`。

4.  同样的输出是：

    ```
     3 files changed, 168 insertions(+), 156 deletions(-) 
    ```

    创建模式 100644 db/migrate/20130325103953_add_length_column_to_books.rb 创建模式 100644 db/migrate/20130401041910_add_duration_column_to_books.rb

5.  然后我跑`heroku run rake db:migrate`。不幸的是，没有迁移的迹象，只是得到了：

    运行`rake db:migrate`连接到终端... up, run.5428 就是这样。

6.  在生产 Rails 控制台中，运行`Book.column_names`仍然缺乏长度和持续时间。

现在我更没有想法了。`

* * *

## 回答 #1

> 赞同：37
> 
> 时间：2013-04-01T12:12:19.243

看起来您并没有将更改推送到 Heroku。步骤应如下；

1.  更改本地代码
2.  在本地运行任何迁移
3.  将所有更改的文件添加到 Git`git add .`
4.  将所有添加的文件提交到 git`git commit -m "Adding features"`
5.  将更改推送到 Heroku `git push heroku master`- 假设您使用`heroku`远程名称并且您正在`master`分支中工作
6.  如果您`heroku run rake db:migrate`运行迁移以在 HEROKU 上运行迁移
7.  以下迁移`heroku restart`

这应该是你工作所需要的一切。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2014-05-31T23:02:04.777

我有同样的问题; 我git添加了迁移，git将它们推送到服务器，cap部署它们，数据库没有改变。直接登录服务器，运行 rake db:migrate，命令行好像运行迁移，但没有任何变化。

就我而言，不知何故 rake db:migrate 使用了错误的 RAILS_ENV。我登录到服务器，然后运行

rake db:migrate RAILS_ENV=production

这导致数据库创建新列，然后我在测试数据库中调试的所有代码都开始在服务器上运行。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2015-11-18T21:15:40.873

我只是有同样的问题。在本地向我的数据库添加一列后，我做了`heroku run rake db:migrate -app [my app name]`. 在生产环境中运行我的代码，我得到了`ActiveRecord::UnknownAttributeError (unknown attribute '_____' for [table name].)`

这解决了我的问题：

`heroku restart --app [my app name]`

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2017-04-21T15:36:53.383

根据我的经验，我的两分钱：我认为这`heroku run db:migrate`也将数据库内容迁移到生产中。不！只有结构。因此，就我而言，登录在生产环境中不起作用，因为其中没有用户。我不得不再次注册测试用户，然后它就起作用了。希望对像我这样的新手有帮助

# ajax - 当 PrimeFaces ajax 请求正在进行时，将鼠标光标更改为忙碌模式

> ID：15737801
> 
> 赞同：9
> 
> 时间：2013-04-01T04:53:21.080
> 
> 标签：ajax, jsf, primefaces, mouse-cursor, progress-indicator

在 JSF（特别是 primefaces）中处理 ajax 按钮时，是否可以将鼠标光标的形式更改为忙碌模式（例如：沙漏）？当我导航到下一页时，我想在 p:dataTable 加载数据时更改光标的形式。谢谢。

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2013-04-01T20:03:50.450

你可以在 CSS 和 jQuery 的帮助下实现这一点。使用 CSS，您可以创建一个更改整个文档上的光标的类。使用 jQuery，您可以添加/删除该 CSS 类。在幕后，PrimeFaces 使用 jQuery 来实现 ajax 魔法，您可以使用 PrimeFaces <4 挂钩标准 jQuery`ajaxStart`和`ajaxStop`事件，以及 PrimeFaces 4+ 挂钩 PrimeFaces 特定`pfAjaxSend`和`pfAjaxComplete`事件来执行该 CSS 类的添加/删除。

CSS：

```
html.progress, html.progress * {
    cursor: progress !important;
} 
```

*（`!important`覆盖任何由`style`属性设置的样式和更强的 CSS 选择器）*

jQuery 和 PrimeFaces：

```
$(document).on("ajaxStart pfAjaxSend", function() {
    $("html").addClass("progress");
}).on("ajaxStop pfAjaxComplete", function() {
    $("html").removeClass("progress");
}); 
```

对于您还在`<f:ajax>`其他地方使用标准 JSF 并希望拥有相同进度指示器的情况，您可以这样做：

```
jsf.ajax.addOnEvent(function(data) {
    $("html").toggleClass("progress", data.status == "begin");
}); 
```

这也被[OmniFaces 展示应用程序使用](http://showcase.omnifaces.org)。[当您在此页面上](http://showcase.omnifaces.org/components/commandScript)运行民意调查时，您可以在其中看到它。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-01T06:56:49.097

Primefaces 本身看起来不像那样做。它有一些组件可以让您在其工作时可视化（AjaxStatus、BlockUI），但看起来它对光标没有任何作用。

你必须直接使用Javascript来做到这一点。这看起来是个不错的选择。

[在页面加载时将光标更改为忙](https://stackoverflow.com/questions/4053565/change-cursor-to-busy-while-page-is-loading)

# python - 使用 PdfMiner 和 PyPDF2 合并列提取文本

> ID：15737806
> 
> 赞同：8
> 
> 时间：2013-04-01T04:54:37.370
> 
> 标签：python, pypdf, pdftotext

我正在尝试使用 pdfMiner 解析 pdf 文件文本，但提取的文本被合并。我正在使用以下链接中的 pdf 文件。

[PDF文件](http://www.housingnyc.com/downloads/resources/sta_bldngs/2011StatenIslBldgs.pdf)

我擅长任何类型的输出（文件/字符串）。这是将提取的文本作为字符串返回的代码，但由于某种原因，列被合并了。

```
from pdfminer.converter import TextConverter
from pdfminer.layout import LAParams
from pdfminer.pdfinterp import PDFResourceManager, process_pdf
import StringIO

def convert_pdf(filename):
    rsrcmgr = PDFResourceManager()
    retstr = StringIO()
    codec = 'utf-8'
    laparams = LAParams()
    device = TextConverter(rsrcmgr, retstr, codec=codec)

    fp = file(filename, 'rb')
    process_pdf(rsrcmgr, device, fp)
    fp.close()
    device.close()

    str = retstr.getvalue()
    retstr.close()
    return str 
```

我也尝试过 PyPdf2，但遇到了同样的问题。这是 PyPDF2 的示例代码

```
from PyPDF2.pdf import PdfFileReader
import StringIO
import time

def getDataUsingPyPdf2(filename):
    pdf = PdfFileReader(open(filename, "rb"))
    content = ""

    for i in range(0, pdf.getNumPages()):
        print str(i)
        extractedText = pdf.getPage(i).extractText()
        content +=  extractedText + "\n"

    content = " ".join(content.replace("\xa0", " ").strip().split())
    return content.encode("ascii", "ignore") 
```

我也尝试过[pdf2txt.py](https://github.com/euske/pdfminer/blob/c7709045e9c9b19676b9df12656664f32b0963b1/tools/pdf2txt.py)但无法获得格式化的输出。

* * *

## 回答 #1

> 赞同：17
> 
> 时间：2013-10-04T10:33:02.857

我最近遇到了类似的问题，尽管我的 pdf 结构稍微简单一些。

PDFMiner 使用称为“设备”的类来解析 pdf 文件中的页面。基本设备类是 PDFPageAggregator 类，它只是解析文件中的文本框。转换器类，例如 TextConverter、XMLConverter 和 HTMLConverter 也将结果输出到文件中（或在您的示例中的字符串流中）并对内容进行更精细的解析。

TextConverter（和 PDFPageAggregator）的问题在于它们没有足够深地递归到文档结构以正确提取不同的列。其他两个转换器需要有关文档结构的一些信息以用于显示目的，因此它们会收集更详细的数据。在您的示例 pdf 中，两个简单的设备都只解析（大致）包含列的整个文本框，这使得正确分隔不同的行成为不可能（或至少非常困难）。我发现这个问题的解决方案效果很好，要么

*   创建一个继承自 PDFPageAggregator 的新类，或
*   使用 XMLConverter 并使用例如[Beautifulsoup解析生成的 XML 文档](http://www.crummy.com/software/BeautifulSoup/)

在这两种情况下，您都必须使用它们的边界框 y 坐标将不同的文本段组合到行中。

在新设备类的情况下（我认为这更有说服力），您必须覆盖`receive_layout`在渲染过程中为每个页面调用的方法。然后，此方法递归地解析每个页面中的元素。例如，这样的事情可能会让你开始：

```
from pdfminer.pdfdocument import PDFDocument, PDFNoOutlines
from pdfminer.pdfparser import PDFParser
from pdfminer.pdfinterp import PDFResourceManager, PDFPageInterpreter
from pdfminer.converter import PDFPageAggregator
from pdfminer.layout import LTPage, LTChar, LTAnno, LAParams, LTTextBox, LTTextLine

class PDFPageDetailedAggregator(PDFPageAggregator):
    def __init__(self, rsrcmgr, pageno=1, laparams=None):
        PDFPageAggregator.__init__(self, rsrcmgr, pageno=pageno, laparams=laparams)
        self.rows = []
        self.page_number = 0
    def receive_layout(self, ltpage):        
        def render(item, page_number):
            if isinstance(item, LTPage) or isinstance(item, LTTextBox):
                for child in item:
                    render(child, page_number)
            elif isinstance(item, LTTextLine):
                child_str = ''
                for child in item:
                    if isinstance(child, (LTChar, LTAnno)):
                        child_str += child.get_text()
                child_str = ' '.join(child_str.split()).strip()
                if child_str:
                    row = (page_number, item.bbox[0], item.bbox[1], item.bbox[2], item.bbox[3], child_str) # bbox == (x1, y1, x2, y2)
                    self.rows.append(row)
                for child in item:
                    render(child, page_number)
            return
        render(ltpage, self.page_number)
        self.page_number += 1
        self.rows = sorted(self.rows, key = lambda x: (x[0], -x[2]))
        self.result = ltpage 
```

在上面的代码中，每个找到的 LTTextLine 元素都存储在一个有序的元组列表中，其中包含页码、边界框的坐标以及该特定元素中包含的文本。然后你会做类似的事情：

```
from pprint import pprint
from pdfminer.pdfparser import PDFParser
from pdfminer.pdfdocument import PDFDocument
from pdfminer.pdfpage import PDFPage
from pdfminer.pdfinterp import PDFResourceManager, PDFPageInterpreter
from pdfminer.layout import LAParams

fp = open('pdf_doc.pdf', 'rb')
parser = PDFParser(fp)
doc = PDFDocument(parser)
doc.initialize('password') # leave empty for no password

rsrcmgr = PDFResourceManager()
laparams = LAParams()
device = PDFPageDetailedAggregator(rsrcmgr, laparams=laparams)
interpreter = PDFPageInterpreter(rsrcmgr, device)

for page in PDFPage.create_pages(doc):
    interpreter.process_page(page)
    # receive the LTPage object for this page
    device.get_result()

pprint(device.rows) 
```

变量 device.rows 包含有序列表，其中所有文本行使用其页码和 y 坐标排列。您可以循环使用相同 y 坐标的文本行和组行以形成行、存储列数据等。

我尝试使用上面的代码解析您的 pdf，并且大部分列都被正确解析。但是，某些列非常靠近，以至于默认 PDFMiner 启发式无法将它们分成自己的元素。您可以通过调整字边距参数（命令行工具 pdf2text.py 中的 -W 标志）来解决这个问题。在任何情况下，您可能都想通读（文档很少的）[PDFMiner API](http://www.unixuser.org/~euske/python/pdfminer/programming.html)以及浏览 PDFMiner 的源代码，您可以从 github 获得这些源代码。（唉，我无法粘贴链接，因为我没有足够的代表点：'<，但你可以希望谷歌正确的回购）

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-01T06:09:28.960

我尝试了你的第一个代码块，得到了一堆看起来像这样的结果：

多个住宅阿加登复合物14945010314370至372Willowrd W多个住宅Agarden Complex 14945010314380至384Willowrd W多个居住Agarden Complect 149450103141000至1020WillowBRookrd多个居住的房屋

我猜您的位置与此[答案](https://stackoverflow.com/a/11087993/163809)相似，并且所有空格都用于将单词放置在适当的位置，而不是实际的可打印空格字符。您尝试使用其他 pdf 库的事实使我认为这可能是任何 pdf 库都难以解析的问题。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2020-03-09T11:22:16.827

@hlindblo 提供的解决方案给出了很好的结果。为了进一步按页面和段落对提取的文本块进行分组，以下是我使用的简单命令。

```
from collections import OrderedDict
grouped_text = OrderedDict()
for p in range(1000): # max page nb is 1000
    grouped_text[p] = {}
for (page_nb, x_min, y_min, x_max, y_max, text) in device.rows:
    x_min = round(x_min)//10 # manipulate the level of aggregation --> x_min might be slitghly different
    try:
        grouped_text[page_nb][x_min]+= " " + text
    except:
        grouped_text[page_nb][x_min] = text 
```

# asp.net - ASP.NET MVC 中的 URL 重定向

> ID：15737810
> 
> 赞同：4
> 
> 时间：2013-04-01T04:55:07.477
> 
> 标签：asp.net, asp.net-mvc-4, asp.net-mvc-routing, webforms

我在一个网站上工作，该网站之前是用 ASP.NET Web Forms 构建的，现在是用 ASP.NET MVC 构建的。

我们上周发布了新的 MVC 版本。

但是旧的登录网址***www.website.com/login.aspx***已被许多用户添加为书签，他们仍然使用该网址，因此出现 404 错误。

所以我想知道将用户从旧 url 重定向到新的 mvc url 是***www.website.com/account/login的最简单和最好的方法***

就像这个登录网址一样，我希望用户也可能已经为其他几个网址添加了书签，那么处理这个问题的最佳方法是什么？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-04-01T05:59:37.173

您可以[`URL Rewrite module`](http://www.iis.net/downloads/microsoft/url-rewrite)在 IIS 中使用。就像在您的`<system.webServer>`部分中放置以下规则一样简单：

```
<system.webServer>
    <rewrite>
        <rules>
            <rule name="Login page redirect" stopProcessing="true">  
                <match url="login.aspx" />  
                <action type="Redirect" redirectType="Permanent" url="account/login" />  
            </rule>  
        </rules>
    </rewrite>

    ...
</system.webServer> 
```

该模块非常强大，允许您进行任何类型的重写和重定向。这里有一些其他的[`sample rules`](http://ruslany.net/2009/04/10-url-rewriting-tips-and-tricks/)。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2013-04-01T05:50:50.157

在 global.asax

```
void Application_BeginRequest(Object source, EventArgs e)
    {
        //HttpApplication app = (HttpApplication)source;
        //HttpContext context = app.Context;

        string reqURL = HttpContext.Current.Request.Url;

        if(String.compare(reqURL, "www.website.com/login.aspx")==0)
        {
            Response.Redirect("www.website.com/account/login");
        }
    } 
```

# php - mysql表中的多个id序列

> ID：15737811
> 
> 赞同：0
> 
> 时间：2013-04-01T04:55:14.950
> 
> 标签：php, jquery, mysql, codeigniter, backbone.js

我有一个会计应用程序，该应用程序具有称为公司资料的功能，而该功能又具有一个名为“InvoicePrefix”的字段。因此，如果我的公司的发票前缀为 MY，则所有发票都应生成为 MY/2013-2014/001，依此类推......同样，如果我的 invoicePrefix 为 ME，发票应从 ME/2013-2014/ 开始001 等等。

现在我在 mysql 中有一个所有公司的通用发票表，因为我不知道之前的公司数量。

我需要的是每个 invoicePrefix 从 1 开始的发票序列。目前我正在生成发票编号（最后出现 -MY/2013-2014/ **001**）。这有一个问题，即每个公司的顺序都会中断。

那么我怎样才能用一些智能的mysql查询语句来完成呢？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-01T05:08:44.770

维护一个种子表，记录每个公司的当前指针，例如

```
Company | Year      | Seed
MY      | 2013-2014 |  1
ME      | 2013-2014 |  20
ME      | 2012-2013 |  1120 
```

创建一个用于在您的表中插入记录的过程首先检查该特定年份的表中是否存在公司记录，如果没有插入该记录并启动种子计数器，`1`否则获取最新的种子值并更新计数器，并在获得值后插入相应地记录在您的表格中。

# android - AndEngine：如何附加一个孩子两次

> ID：15737812
> 
> 赞同：0
> 
> 时间：2013-04-01T04:55:22.200
> 
> 标签：android, andengine

我创建了一个文本，将 MoveXModifier（即 modA）注册到文本，并将文本附加到场景，效果很好。

然后我给修饰符绑定一个监听器，在监听器的方法中我做的`onFinish()`是：

1.  将文本设置为不可见；
2.  做一些计算；
3.  将文本从场景中分离出来；
4.  清除文本的修饰符；
5.  创建一个新的MoveXModifier(即modB)并将其注册到原始文本中，设置文本可见；
6.  再次将其附加到场景中。

第一个修饰符（modA）效果很好，但第二个修饰符（modB）并没有像我想象的那样起作用，文本只是停留在那里，似乎我不能两次附加相同的文本。

（PS：我将文字设置为不可见，以确保文字再次由modB带来，而不是由modA只带一次）。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-01T11:27:07.737

一个孩子只能有一个父母，如果您想在不同的场合使用两次单个精灵，您可以先将其分离，然后将其附加到新的父母。如果你想同时使用两个，你必须有两个对象。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-01T11:02:28.533

您可以使用`newModifier=oldModifierObj.deepCopy();`.

然后注册新的。`registerEntityModifier(newModifier);`

# python - Django中的UnicodeDecodeError

> ID：15737813
> 
> 赞同：1
> 
> 时间：2013-04-01T04:55:24.857
> 
> 标签：python, unicode, utf-8

我遇到了这个问题：即使我`# -*- coding: utf-8 -*-`在views.py的顶部添加了，我也得到了`UnicodeDecodeError`。在我看来，我该如何处理那些德国变音符号`ü,ö,ä`？我正在尝试在其内容中发送带有德国变音符号的电子邮件。

请帮我解决这个问题。我希望以原始形式正确显示德语变音符号。我可以`ä`这样写`ae`，但这是我想要避免的。

我用谷歌搜索了很多，但找不到任何对我有帮助的东西

**错误**：
**UnicodeDecodeError at /location-save/ ('ascii', ' kannst Du \n diese Location einsehen. M\xc3\xb6glichkeiten zur Bearbeitung der Locations werden bald zur Verfuegung stehen。\n\n Herzliche Gruesse, \n Dein LocateYourDate Team ', 55, 56, '序数不在范围内(128)')**

**无法编码/解码的字符串是：en。麦格利克**

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-01T05:07:05.820

您收到 UnicodeDecodeError 是因为您尝试将非 ascii 字节字符串（`str`在 Python 2 和`bytes`Python 3 中调用）转换为 Unicode 字符串（`Unicode`在 Python 2 和`str`Python 3 中调用）而不指定其编码。

如果没有完整的回溯，不可能比这更有帮助。

我猜你正在使用 Python 2，你做了这样的事情：

```
mystring = 'Det här är ju helt omöjligt' 
```

你可能想要的是这样的：

```
mystring = u'Det här är ju helt omöjligt' 
```

注意 u''，使其成为 Unicode 字符串。

# azure - 具有 Knockoutjs 绑定的 HTML 网站存在性能问题

> ID：15737814
> 
> 赞同：0
> 
> 时间：2013-04-01T04:55:30.310
> 
> 标签：azure, knockout.js, datatables

我正在开发我的客户的纯 HTML CSS 网站，该网站使用 Knockoutjs 与 JSON 数据集进行数据绑定。对于表，我使用了 Datatables 库。

我在 Windows Azure 网站上托管了该网站。

这是网站的链接：[http](http://bit.ly/(REMOVED) : //bit.ly/（已删除，因为它是机密的）

即使我使用 CDN 处理常见的 JS 库，加载网站也需要大约 4 秒。

它不应该有那么多的加载时间。我在这里找不到罪魁祸首。我正在从 4 个不同的数据集中获取数据。对性能有影响吗？或者 Windows Azure 数据中心有问题，需要一段时间才能从 Azure 服务器获得响应。Azure 是罪魁祸首吗？

您可以在上面给出的网站链接上检查页面加载时间。

任何帮助，将不胜感激。

**解决方案 ：**

而不是使用同步调用，使用

```
$.getJSON(url, function(data){
 //whole knockoutjs logic and bindings
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-01T06:42:19.390

所有模型 .js 文件（以 开头`patientMedicationChart-Index.js`）都是同步加载的（`async:false`在该文件中设置）。这意味着浏览器必须等待每个脚本文件加载完毕才能继续加载下一个。

我为您的演示计算了大约 10 个像这样加载的文件，（对我而言）每个需要大约 200 毫秒来加载（大约 200 毫秒的 95% 用于等待响应，这似乎也相当慢；这可能是服务器问题天蓝色）。所以 10 次已经是 2 秒加载这些文件了，只有在加载完所有文件后才会`ready`触发页面的事件。

想要同步加载这些文件可能是有原因的，但事实上，它会导致整个页面加载时间的很大一部分。

# python - 在python中测量时间的异常结果

> ID：15737816
> 
> 赞同：1
> 
> 时间：2013-04-01T04:55:57.407
> 
> 标签：python, performance, time

这是我的秒表课

```
import time

class StopWatch:

    def __init__(self, tag="", startTime=time.time(), elapsedTime=-1):
        self._tag=tag
        self._elapsedTime=elapsedTime
        self._startTime=startTime

    # other codes here............#

    def stop(self, tag=None):
        if tag is not None:
            self._tag = tag
        self._elapsedTime = time.time() - self._startTime
        return self

    def getStartTime(self):
        return self._startTime 
```

秒表测试文件是：

```
import unittest
import time
from metric.StopWatch import StopWatch

class StopWatchTest(unittest.TestCase):

    def test_stopwatch(self):
        now=time.time()
        print "now:%f" % now

        stopwatch=StopWatch("firstHook")
        print "start time:%r" % stopwatch.getStartTime()
        self.assertTrue(stopwatch.getStartTime()>now, "start time is wrong") 
```

我得到的是错误：

```
now:1364791630.047630
start time:1364791629.158797 
```

..

```
AssertionError: start time is wrong 
```

稍后执行的代码显示更早的时间。这背后的原因是什么？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-01T05:00:03.733

原因是这一行：

```
def __init__(self, tag="", startTime=time.time(), elapsedTime=-1): 
```

在 Python 解释器到达时对其进行评估（因为尽管它实际上编译了代码，尽管它是字节码）。所以 startTime 是在定义类时设置的，而不是在`__init__`调用时设置的。

将其更改为：

```
def __init__(self, tag="", start_time=None, elapsed_time=-1):
    if start_time is None:
        start_time = time.time()
    self._tag=tag
    self._elapsed_time=elapsed_Time
    self._start_time=start_time 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-04-01T05:01:18.313

默认参数只计算一次。

```
def __init__(self, tag="", startTime=time.time(), elapsedTime=-1):
    self._tag=tag
    self._elapsedTime = elapsedTime
    self._startTime = startTime 
```

为了解决这个问题，我们需要明确检查默认值并在函数体中评估它们：

```
def __init__(self, tag="", startTime=None, elapsedTime=-1):
    self._tag=tag
    self._elapsedTime = elapsedTime
    if startTime is None:
        startTime = time.time()
    self._startTime = startTime 
```

# ios - HTML 形式的 iOS NSURLRequest

> ID：15737821
> 
> 赞同：0
> 
> 时间：2013-04-01T04:56:19.910
> 
> 标签：ios, objective-c, cocoa-touch, cocoa, nsurlrequest

我正在创建一个 NSMutableURLRequest，一个发布请求，所以有没有一种方法可以检查我的 HTML 请求，以便我可以与 Web 开发人员验证我的请求是否正确。

谢谢你。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-01T06:17:21.560

`NSURLRequest`并且`NSMutableURLRequest`是 Objective C 对象，它们抽象出发送到服务器的原始字节。

但是您可以通过打印（或使用“ `NSLog`”）对象的各种属性的内容来近似服务器所看到的内容`NSURLRequest`。

例如：

```
- (void) printOutURLRequestInfo: (NSURLRequest *) yourRequest
{
    if(yourRequest)
    {
        NSLog( @"url is %@", [yourRequest.URL absoluteString]);
        NSLog( @"header fields (as a dictionary) is: %@", yourRequest.allHTTPHeaderFields );
        NSLog( @"request body is %@", yourRequest.HTTPBody);
        // and there are a number of other properties / pieces you can print 
        // out as well...
    } else {
        NSLog( @"why am I passing in a NULL NSURLRequest in here?");
    }
} 
```

# riak - Riak 插入列表和查询列表

> ID：15737822
> 
> 赞同：1
> 
> 时间：2013-04-01T04:56:22.080
> 
> 标签：riak, riak-search

我想知道是否有在 Riak 中处理数组/列表的有效方法。现在我将整个数组存储为字符串并搜索字符串以找出数组中是否存在元素。

ID（键）：int[]（值）

还有我如何编写一个 map/reduce 查询来给出值数组包含一个元素的所有键

例如 1 : 2,3,4 2 : 2,5

我将如何编写一个 M/R 查询来给我所有值包含 2 的键，在这种情况下结果是 1,2。

任何帮助表示赞赏

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-01T20:44:08.713

如果您正在搜索列表中的特定元素并使用 LevelDB 后端，您可以创建一个[二级索引](http://docs.basho.com/riak/kv/2.2.3/developing/usage/secondary-indexes/)来包含数组的值。Riak 中的二级索引可能包含多个值，并且可以搜索是否相等，这应该允许您搜索数组中的单个元素，而不必求助于 MapReduce。

如果您需要根据列表中的几个元素或其他参数进行更复杂的查询，您可以根据二级索引检索记录的子集，然后在客户端或什至通过 MapReduce 作业进一步处理它们。

# android - TwitterException：在 android 中将图像上传到 twitpic 时

> ID：15737824
> 
> 赞同：0
> 
> 时间：2013-04-01T04:56:25.783
> 
> 标签：android, twitpic

我需要将图像上传到 twitpic。在我的 sd 卡目录中有一些图片，我必须将它们上传到 twitpic。现在我想从他们上传一张图片。这是我的代码

```
protected void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.activity_main);

    sharedPref = getApplicationContext().getSharedPreferences(
            "MyPref", 0);
    editor        = sharedPref.edit();

    uploadImage = (Button) findViewById(R.id.uploadImage);
    uploadImage.setOnClickListener(new View.OnClickListener() {

        @Override
        public void onClick(View v) 
        {
            new ImageSender().execute();                
        }
    });

    uri = getIntent().getData();
    if (uri != null && uri.toString().startsWith(TWITTER_CALLBACK_URL)) {
        // oAuth verifier
        String verifier = uri
                .getQueryParameter(URL_TWITTER_OAUTH_VERIFIER);
        try {
            // Get the access token
            oAuthAccessToken = twitter.getOAuthAccessToken(
                    verifier);

            editor.putString(PREF_KEY_OAUTH_TOKEN, oAuthAccessToken.getToken());
            editor.putString(PREF_KEY_OAUTH_SECRET,
                    oAuthAccessToken.getTokenSecret());
            editor.commit();
        }
        catch (Exception e) 
        {
            e.printStackTrace();
        }
    }
}
private class ImageSender extends AsyncTask<URL, Integer, Long> {
     private String url;

     protected void onPreExecute() {
mProgressDialog = ProgressDialog.show(MainActivity.this, "", "Sending image...", true);

mProgressDialog.setCancelable(false);
mProgressDialog.show();
}

        protected Long doInBackground(URL... urls) {
            long result = 0;

Configuration conf = new ConfigurationBuilder()
            .setOAuthConsumerKey(twitter_consumer_key)
            .setOAuthConsumerSecret(twitter_secret_key)
            .setOAuthAccessToken(sharedPref.getString(OAuth.OAUTH_TOKEN, ""))
            .setOAuthAccessTokenSecret(sharedPref.getString(OAuth.OAUTH_TOKEN_SECRET, ""))
            .build();

OAuthAuthorization auth = new OAuthAuthorization (conf, conf.getOAuthConsumerKey (), conf.getOAuthConsumerSecret (),
new AccessToken (conf.getOAuthAccessToken (), conf.getOAuthAccessTokenSecret ()));

ImageUpload upload = ImageUpload.getTwitpicUploader (twitpic_api_key, auth);

Log.d(TAG, "Start sending image...");

try {
    String ExternalStorageDirectoryPath = Environment
              .getExternalStorageDirectory()
              .getAbsolutePath();

    String targetPath = ExternalStorageDirectoryPath + "/Friends/"+"image4.jpg";

    File targetDirector = new File(targetPath);
url = upload.upload(new File(targetDirector.getAbsolutePath()));
result = 1;

Log.d(TAG, "Image uploaded, Twitpic url is " + url);    
} catch (Exception e) { 
Log.e(TAG, "Failed to send image "+e);
e.printStackTrace();
}

            return result;
        }

        protected void onProgressUpdate(Integer... progress) {
        }

        protected void onPostExecute(Long result) {
         mProgressDialog.cancel();

         String text = (result == 1) ? "Image sent successfully.\n Twitpic url is: " + url : "Failed to send image";

         Toast.makeText(getApplicationContext(), text, Toast.LENGTH_LONG).show();
        }
    } 
```

在我的代码的以下部分中，我在日志中收到一条消息

```
try {
    String ExternalStorageDirectoryPath = Environment
              .getExternalStorageDirectory()
              .getAbsolutePath();

    String targetPath = ExternalStorageDirectoryPath + "/Friends/"+"image4.jpg";

    File targetDirector = new File(targetPath);
url = upload.upload(new File(targetDirector.getAbsolutePath()));
result = 1;

Log.d(TAG, "Image uploaded, Twitpic url is " + url);    
} catch (Exception e) { 
Log.e(TAG, "Failed to send image "+e);
e.printStackTrace();
} 
```

这是我的日志

> 04-01 05:32:39.394：E/Tag(1438)：无法发送图像写入错误：ssl=0x2a19e750：系统调用期间 I/O 错误，Broken pipeTwitterException{exceptionCode=[f69e96cd-132d5002 883a7a68-527cabed]，statusCode =-1，retryAfter=0，rateLimitStatus=null，版本=2.1.6}

我该如何解决这个问题？谢谢

# c# - XAML 图像按钮的某些部分没有被点击

> ID：15737826
> 
> 赞同：0
> 
> 时间：2013-04-01T04:56:37.003
> 
> 标签：c#, xaml, click, imagebutton

我在 XAML 中有以下代码

```
<Button Tag='{Binding id}' Click="RecordClick">
                                            <Button.Template>
                                                <ControlTemplate>
                                                    <Image Source='./Images/RecordBG.png'  Height="270" Width="270" Margin='15,-5,0,0'/>
                                                </ControlTemplate>
                                            </Button.Template>
                                        </Button> 
```

在 C# 背后的代码中：

```
private void RecordClick(object sender, RoutedEventArgs e)
        {
            string buttonName = (string)((Button)sender).Tag;

            this.Frame.Navigate(typeof(QRChart),buttonName);
        } 
```

当我单击图像按钮时，某些部分没有被单击。有些部分只是工作。我想知道它为什么会发生以及如何解决这个问题？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-01T05:01:53.310

尝试将演示者包装在具有设置背景的 Border 元素中。

```
<ControlTemplate TargetType="{x:Type Button}">
    <Border Background="{TemplateBinding Background}">
    </Border>
</ControlTemplate> 
```

像：

```
 <Button Tag='{Binding id}' Click="RecordClick">
        <Button.Template>
            <ControlTemplate>
                <Border Background="image here"/></Border>
            </ControlTemplate>
         </Button.Template>
    </Button> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-04T06:38:15.743

我为图像顶部的 s添加了`Tapped`事件。`Texblock`现在它按预期工作。

# sonarqube - 声纳与 Windows 操作系统的兼容性

> ID：15737829
> 
> 赞同：0
> 
> 时间：2013-04-01T04:56:44.487
> 
> 标签：sonarqube

我想问声纳兼容所有版本的windows操作系统吗？如果我将在 Windows 8 或 Windows Server 2012 或任何其他 Windows 操作系统上安装和运行声纳，那么它可以正常工作吗？

如果有人对此有任何想法，请回复。

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-01T10:35:33.580

是的，除了 Windows Mobile :) [http://docs.codehaus.org/display/SONAR/Requirements](http://docs.codehaus.org/display/SONAR/Requirements)

# javascript - Angular JS 深层链接和浏览器刷新

> ID：15737832
> 
> 赞同：2
> 
> 时间：2013-04-01T04:56:52.990
> 
> 标签：javascript, angularjs

我正在构建一个基于 angular-js 的单页解决方案。我认为我的深度链接工作正常，前进和后退浏览器历史工作正常。但是，如果我刷新 (F5) 单个记录页面... bootstrap 和 angular 似乎没有加载并且页面显示不正确。所以我希望 /owners 提供一个列表， /owners/XYZ 提供 XYZ 单一所有者记录。

我收到的错误表明 Chrome 没有将其解释为 html - 在第一个 css 链接上失败......但它是深度链接 - 使用浏览器历史记录时正常。当我刷新时，我收到错误 ->> 资源解释为样式表，但使用 MIME 类型 text/html 传输：“ [http://myfakedomain.com/owners/css/bootstrap.css](http://myfakedomain.com/owners/css/bootstrap.css) ”。

好的代码 - 在这里我连接了 routeProvider：

```
.config(['$routeProvider','$locationProvider', function ($routeProvider, $locationProvider) {
$locationProvider.html5Mode(true).hashPrefix("!");
$routeProvider
    .when('/owners', {templateUrl: '/partials/owner-list.html',  controller:OwnerListCtrl})
    .when('/owners/:name', {templateUrl: '/partials/owner-details.html',   controller:OwnerCtrl})
     .when('/', {templateUrl:'/partials/home.html', controller:HomeCtrl})
    .otherwise({redirectTo:'/home'});
}]); 
```

2 个与此处相关的简单控制器......后端是一个工厂服务，用于从 RESTful Web 服务中检索。

```
function OwnerListCtrl($scope, $routeParams, backend) {
var ug = $( "#ug" ).html();
var mydata = null;

// load the params coming from the UI
if (($routeParams != null)&& ($routeParams.nm != null))
    mydata = $routeParams.nm;
else{
    // in case we get here directly - ensure only super users
    // will access other owner entities
    if (ug != SUPERUSER)
        mydata = $( "#on" ).html();     
}
backend.owners(mydata).then(function (result){
        $scope.owners = result.data.data;
});
$scope.orderProp = 'name';
} 
```

和单记录控制器...

```
function OwnerCtrl($scope, $routeParams, $http, backend,$log, $location){
    // populate the companys select dropdown
    $scope.companys=function(){
        backend.companys().then(function (response){
            $scope.companies = response.data.data;
        })
    }
    if (($routeParams == null) && ($routeParams.name == null)){
        var ug = $( "#ug" ).html();
        var myParam = null;

        if (ug != SUPERUSER)
            myParam = $( "#on" ).html();

        backend.owners(myParam).then(function (result){
            $scope.owner = result.data.data[0];
            $scope.companys();
        });
    }else{
        backend.owners($routeParams.name).then(function (result){
            $scope.owner = result.data.data[0];
            $scope.companys();
            $log.info($location.url());
        });     
    }

} 
```

任何见解都会受到欢迎。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-03T20:32:20.280

我认为这是一个路由问题。如果您查看它尝试从 myfakedomain.com/owners/css/bootstrap.css 加载的 css 文件的路径，我假设它应该是 myfakedomain.com/css/bootstrap.css。您的html文件中是否相对定义了路径？

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-05-01T12:05:38.057

我认为您需要对链接文件、js 和 css 都使用绝对路径。您需要在根目录中设置一个 .htaccess 文件，该文件将所有请求重写为 index.html，假设这是您的 Angular 应用程序。这是建议的解决方案：

```
# if a directory or a file exists, use it directly
#RewriteCond %{REQUEST_FILENAME} -s [OR]
#RewriteCond %{REQUEST_FILENAME} -l [OR]
#RewriteCond %{REQUEST_FILENAME} -d
#RewriteCond %{REQUEST_URI} !/api
#RewriteRule ^.*$ - [NC,L]

# otherwise forward it to index.html
#RewriteRule ^app/(.*) /app/#/$1 [NC,L] 
```

但是，简化版本适用于我，我的应用程序子目录位于根文件夹中，而不是示例中的 app 文件夹中。这适用于我的情况

```
RewriteEngine on
RewriteEngine on
RewriteCond %{REQUEST_FILENAME} !-d
RewriteCond %{REQUEST_FILENAME} !-f
RewriteRule . index.html [L] 
```

希望这可以帮助。

# php - 如何使用codeigniter从表单动作中传递控制器中的id

> ID：15737838
> 
> 赞同：0
> 
> 时间：2013-04-01T04:57:44.133
> 
> 标签：php, codeigniter, codeigniter-2, codeigniter-routing, codeigniter-form-helper

嘿伙计们，我是codeigniter的新手，我有这样的表格

```
<form class="addinvestmentform" action="<?php echo base_url();?>index.php/ctl_dbcont/input_investment/$id" name="application" method="post" >
//some code
</form> 
```

我有一个控制器方法

```
function input_investment($id)
{
$this->load->helper('form');
                $this->load->helper('html');
                $this->load->model('mod_user');
                $this->mod_user->insertinvestment($id);
} 
```

我想从表单操作获取 $id 到控制器方法我该怎么做。. 请帮助我 。.

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-01T05:04:23.387

最好在隐藏字段中传递值

```
<form class="addinvestmentform" action="<?php echo base_url();?>index.php/ctl_dbcont/input_investment" name="application" method="post" >
<input type="hidden" name="my_id" value="<?php echo $id; ?>"/>
</form> 
```

在你的 ci 函数中

```
function input_investment() {
    $id = $this->input->post('my_id');
    $this->load->helper('form');
    $this->load->helper('html');
    $this->load->model('mod_user');
    $this->mod_user->insertinvestment($id);
} 
```

或者如果你想要（测试）

// 示例视图

```
<?php $id = 1; ?>
<form action="<?php echo base_url('my_class/my_method/' . $id); ?>" method="post" >
  <input type="submit" />
</form> 
```

// 控制器

```
class My_class extends CI_Controller {

  public function index() {
    $this->load->view('my_class');
  }

  public function my_method($id) {
    echo $id; // outputs 1
  }

} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-01T05:04:55.163

如果您想要该值，您需要使用 PHP 并在元素中回显 $id，现在您将“$id”发送到 input_investment($id)。

```
<form class="addinvestmentform" action="<?php echo base_url();?>index.php/ctl_dbcont/input_investment/<?php echo $id; ?>" name="application" method="post" >
//some code
</form> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-01T05:05:18.057

在这里，您的表单方法是 post，因此您可以通过 get 方法继续获取 id，您可以这样做

```
<form class="addinvestmentform" action="<?php echo base_url();?>index.php/ctl_dbcont/input_investment" name="application" method="post" > 
    <input type="hidden" name='id' value="<?php echo $id;?>">
</form> 
```

在您的控制器中，您可以尝试使用类似的帖子

```
$id = $_POST['id']; 
```

或者

```
$id = $this->input->post('id'); 
```

如果您尝试将单个或多个数据从表单发送到控制器，那么它在所有情况下都是更好的选择......

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-01T05:09:15.920

```
$route['ctl_dbcont/input_investment/(:num)'] = "ctl_dbcont/input_investment/$1"; 
```

只需在您的配置/路线中添加这一行 :) 。

这仅适用于数字，如果您有其他类型的 ID 可以使用 (:any)

其他选择是直接使用以下方法捕获 id：

```
$id = $this->uri->segment(3); 
```

其中 segment(3) 是您的 domain 之后的第三个元素：

```
http://domain/segment1/segment2/segment3 
```

# wordpress - Wordpress：将 url 重定向到子域

> ID：15737840
> 
> 赞同：0
> 
> 时间：2013-04-01T04:58:00.193
> 
> 标签：wordpress, web, hosting

我刚刚在 godaddy 上托管了一个 wordpress 网站。

我有一种情况。

我有一个 `www.example.com/cn`我想要的网站，当有人打开这个页面时，这个页面应该重定向到一个子域 `cn.example.com` 。

我第一次托管 wordpress 应用程序，请让我知道我该怎么做。我是 Python Guy，我不知道`htaccess`

我尝试`header('location:cn.example.com')` 在`index.php` 文件中使用，但问题是`cn.example.com` 并且`example.com/cn`都指向同一个 wordpress 应用程序。所以我遇到了问题。

请帮我解决这个问题。**更新了 Htaccess **

```
RewriteCond %{REQUEST_URI} ^/_dm/s/ [NC,OR]
RewriteCond %{REQUEST_FILENAME} !\.(jpg|gif|png|css|js|txt|ico|pdf|bmp|tif|mp3|wav|wma|asf|mp4|flv|mpg|avi|csv|doc|docx|xls|xlsx|ppt|pptx|zip|rar|tar|gz|dmg|iso)$ [NC]
RewriteBase /
RewriteRule ^(.*)$ http://mobile.example.com/ [R,L]
##END MOBILE

# BEGIN WordPress
<IfModule mod_rewrite.c>
RewriteEngine On
RewriteBase /
RewriteCond %{HTTP_HOST} (?!cn.example.com)
RewriteRule ^cn/?$ http://cn.example.com/ [R=301,L]
</IfModule>

<IfModule mod_rewrite.c>
RewriteEngine On
RewriteBase /
RewriteRule ^index\.php$ - [L]
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule . /index.php [L]
</IfModule>

# END WordPress
# BEGIN WordPress
<IfModule mod_rewrite.c>
RewriteEngine On
RewriteBase /
RewriteRule ^index\.php$ - [L]
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule . /index.php [L]
</IfModule>

# END WordPress 
```

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-01T05:13:00.977

假设您让 Wordpress 从不同的主机名加载，您可以通过在您`.htaccess`的 Wordpress 安装根目录中找到的文件中包含以下内容来处理重写：

```
RewriteEngine On
RewriteBase /
RewriteCond %{HTTP_HOST} (?!cn.example.com)
RewriteRule ^cn/?$ http://cn.example.com/ [R=301,L] 
```

它将匹配`/cn`或`/cn/`完全来自任何尚未（防止循环）的主机*，*`cn.example.com`并重定向到使用`http://cn.example.com`301 HTTP 响应。

你可以在这里测试这些规则：http: [//htaccess.madewithlove.be/](http://htaccess.madewithlove.be/)

# c++ - C ++：来自向量的子向量作为函数的参数

> ID：15737844
> 
> 赞同：2
> 
> 时间：2013-04-01T04:58:26.543
> 
> 标签：c++, function, vector, arguments

我使用来自另一个库的函数，该函数将任何 STL 顺序容器作为参数。只是为了争论，我将其保留为`std::vector`.

```
do_something (std::vector<double>& k)
{
    ...
} 
```

我有一个完整`vector`的数据（碰巧是类型`double`）有没有办法通过参考传递一个子向量，而**不是事先复制**和**拆分向量**，到这个函数？它通过复制直接进行（通过简单地复制*subvector*，返回`vector`from 函数并将相应的子*向量*放回`vector`）。为什么？：

1.  我不想复制的原因完全是因为速度，我会多次调用这个函数（我的意思是很多次），性能是最重要的。
2.  我不想事先拆分向量的原因是文件 IO 操作。顺序向量允许快速文件写入，特别是在二进制模式下

换句话说，我可以做这样的事情（在下面的*伪代码*示例中）吗？

```
std::vector<double> myVector{1.2, 5.6, 8.6, 2.2, 1.7, 9.1}; // myVeector of size 6

do_something (&myVector[ -- elementss 2,3,4--]); 
```

任何帮助表示赞赏，即使不可能，并且如果您知道一种有效地来回复制的方法

**注意：**如果对 SO 程序员有任何帮助，我的向量将与相同的预定位子向量大小相同，不等于 from`myVector.begin()`或`myVector.back()`。对于那个向量，这也永远不会改变

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-01T05:04:45.043

不，这做不到。这就是为什么标准算法接受两个（或更多）迭代器作为参数，而不是一个容器。

您还可以查看 Boost.Range 库，它允许包含切片的范围适配器。

根据您调用的此函数模板中的内容，您*可能*能够传递切片范围来代替序列，因为 Boost 中定义的具体范围确实具有`begin()`成员`end()`函数。但是由于它需要一个对容器的非常量引用，所以它有可能添加或删除元素，在这种情况下你就不走运了。

# javascript - for 循环使用淘汰赛 js view.items()

> ID：15737852
> 
> 赞同：0
> 
> 时间：2013-04-01T04:59:53.270
> 
> 标签：javascript, for-loop, knockout.js

我正在使用下面的代码来遍历项目列表，

```
alert(view.items().length);
for(var i=0; i < view.items().length; i++){
      alert(view.items(i).productStatus);
} 
```

我收到一个未定义的错误。我错过了什么吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-01T05:12:46.217

您应该以 view.items()[i].productStatus 的形式访问该数组。假设 items 是一个可观察的数组。

```
for(var i=0; i < view.items().length; i++){
      alert(view.items()[i].productStatus);
} 
```

# arrays - 给定一个支点，我如何分解序言中的列表？

> ID：15737858
> 
> 赞同：2
> 
> 时间：2013-04-01T05:00:55.853
> 
> 标签：arrays, split, prolog, infinite-loop, break

我正在做一个小项目来精简序言。我现在要做的是，给定一个句子，返回一个单词列表。所以，我正在接受一个字符数组，例如“highs and lows”，并试图将它分成“highs”“和”“lows”。我正在使用字符数组，因为我想自己玩单词，而且我认为字符串不适用于此。

这是我的代码。

```
get_first_word([], _, []):-
  !.
get_first_word(X, Pivot, Input):-
  append(X, [Pivot|_], Input),
  !.

split_at([],_).
split_at(Input, Pivot):-
  get_first_word(X, Pivot, Input),
  writef(X),
  append(X, Y, Input),
  split_at(Y, Pivot). 
```

我遇到的问题是这变成了一个无限循环。最终它会传递自己的空输入，而我的基本案例写得不够好，无法处理这个问题。我该如何解决？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-01T06:26:19.250

我认为这`get_first_word`遗漏了一个论点：它应该“返回”单词和其余部分，说明 Pivot 没有出现在输入中的可能性。

我还移动了参数以遵循传统的“开始时输入，结束时输出”。

```
get_first_word(Input, Pivot, Word, Rest):-
  append(Word, [Pivot|Rest], Input), !.
get_first_word(Input, _Pivot, Input, []).

split_at([], _).
split_at(Input, Pivot):-
  get_first_word(Input, Pivot, W, Rest),
  writef(W),nl,
  split_at(Rest, Pivot). 
```

测试：

```
?- split_at("highs and lows", 0' ).
highs
and
lows
true . 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-01T13:30:59.927

如果使用 SWI-Prolog，值得考虑使用原子来表示句子、单词、单词的一部分等。正如你[在这里](http://www.swi-prolog.org/pldoc/doc_for?object=section%282,%274.21%27,swi%28%27/doc/Manual/manipatom.html%27%29%29)看到的，你的问题变成了（如果你的句子是一个原子）：

```
?- atomic_list_concat(Ws, ' ', 'highs and lows').
Ws = [highs, and, lows]. 
```

还有其他有用的谓词，例如`atom_concat/3`（我们可以说它是`append/3`用于原子的），或者`sub_atom/5`可以以多种方式使用。

作为旁注，SWI-Prolog 对原子的长度没有人为的限制，实际上建议使用原子而不是字符串或字符代码列表。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-01T18:03:21.920

在描述列表时（在这种情况下：字符代码列表，这就是您的字符串），请始终考虑使用 DCG。例如：

```
string_pivot_tokens(Cs, P, Ts) :- phrase(tokens(Cs, P, []), Ts).

tokens([], _, Ts)     --> token(Ts).
tokens([C|Cs], P, Ts) -->
        (   { C == P } -> token(Ts), tokens(Cs, P, [])
        ;   tokens(Cs, P, [C|Ts])
        ).

token([])     --> [].
token([T|Ts]) --> { reverse([T|Ts], Token) }, [Token]. 
```

例子：

```
?- string_pivot_tokens("highs and lows", 0' , Ts), maplist(atom_codes, As, Ts).
Ts = [[104, 105, 103, 104, 115], [97, 110, 100], [108, 111, 119, 115]],
As = [highs, and, lows] ;
false. 
```

# android - 接收所有触摸事件的 Android Jelly Bean 服务

> ID：15737861
> 
> 赞同：4
> 
> 时间：2013-04-01T05:01:14.110
> 
> 标签：android, service, accessibility, android-4.2-jelly-bean, touch-event

我是一名本科生研究助理，从事 android 可访问性项目。我的任务涉及尽可能多地收集有关用户体验的数据，包括触摸事件和其他视图交互。我需要 2 个服务：一个可访问性服务来收集有关视图当前交互的详细信息，以及一个`TouchListener`能够拦截`MotionEvents`.

我的问题是`TouchListener`服务。是否有任何已知的方法来拦截所有触摸事件并将它们传递给当前视图？

本质上，似乎需要一个不可见的系统覆盖视图来不断侦听触摸事件，但是视图可以拦截所有触摸事件而不将它们传递给后面的视图，或者它可以传递偶数并注册触摸事件作为一个模棱两可的`ACTION_OUTSIDE`事件，没有提供有关交互的详细信息。

我的问题与[此类似，](https://stackoverflow.com/questions/9085022/android-overlay-to-grab-all-touch-and-pass-them-on?lq=1)[此处](https://stackoverflow.com/questions/9656185/type-system-overlay-in-ics)讨论了障碍。如果有人找到解决方法，请发布！

# ruby-on-rails - NoMethodError 在 # 未定义的方法` ' 为了

> ID：15737864
> 
> 赞同：0
> 
> 时间：2013-04-01T05:01:48.570
> 
> 标签：ruby-on-rails, module, nomethoderror

对基础知识感到抱歉，但我很难让一个非常基本的流程工作：

1) 使用将 url 保存到 var 的方法定义模块（或返回它）

2) 在控制器中调用该方法以初始化该方法

3）有一个视图显示该URL

AuthController#oauth 中的 NoMethodError 未定义方法 `oauthurl' 用于 GetAccessToken:Module

模块：\lib\get_access_token.rb

```
module GetAccessToken
    CONSUMER_TOKEN = { :token=>"mytokenstringwhichisreallylong", :secret=> "mysecretstringwhichisreallylong" }
    def self.oauthurl    
      @oauthurl="https://us.etrade.com/e/t/etws/authorize?key=#{(CONSUMER_TOKEN[:token])}&token="
    end
end 
```

控制器：app\controllers\auth_controllers.rb

```
require 'get_access_token'
class AuthController < ApplicationController
include GetAccessToken
before_filter :oauthurl1
    def oauthurl1
        GetAccessToken.oauthurl
    end
end 
```

查看：app\views\auth\oauth.html.erb

```
<% provide(:title, 'oAuth') %>
<h1>oAuth</h1>
<%= link_to "oAuth", @oauthurl %> 
```

我更高级别的目标是让 eTrade oAuth 流程正常工作，但我想确保我理解每一行代码而不是使用别人的代码，我还不能让这个非常基本的构建块工作。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-01T05:26:28.300

将以下内容添加到 config/application.rb：

```
config.autoload_paths += Dir["#{config.root}/lib/**"] 
```

将您的 AuthController 更改为：

```
class AuthController < ApplicationController
  include GetAccessToken

  def oauthurl1
    GetAccessToken.oauthurl
  end
end 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-01T05:37:43.020

您的模块代码将是

```
module GetAccessToken
  CONSUMER_TOKEN = { :token=>"mytokenstringwhichisreallylong", :secret=> "mysecretstringwhichisreallylong" }
  def self.oauthurl    
    "https://us.etrade.com/e/t/etws/authorize?key=#{(CONSUMER_TOKEN[:token])}&token="
  end
end 
```

你的控制器代码应该是

```
require 'get_access_token'

class AuthController < ApplicationController
  include GetAccessToken

  def oauthurl1
    @oauthurl = GetAccessToken.oauthurl
  end
end 
```

我们需要`@oauthurl`在控制器中初始化才能在视图中使用这个变量，否则它将是`nil`.

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-04T05:21:58.617

在上述贡献的慷慨帮助下，这就是我最终解决错误的方法。我在控制器而不是模型中定义了实例变量，并使用 before_filer 初始化了控制器方法：

型号：\lib\test_module.rb

```
module TestModule
    CONSUMER_TOKEN = { :token=>"myReallyLongToken", :secret=> "myReallyLongSecret" }

    def self.testUrl
        "https://us.etrade.com/e/t/etws/authorize?key=#{(CONSUMER_TOKEN[:token])}&token="
    end
end 
```

控制器：app\controllers\test_controller.rb

```
require 'test_module'

class TestController < ApplicationController
  include TestModule

  before_filter :testUrl1Init

  def testUrl1Init
    @testurl=TestModule.testUrl
  end
end 
```

查看：\app\views\test\test.html.erb

```
<% provide(:title, 'test') %>
<h1>test</h1>
<%= link_to "test link", @testurl %> 
```

# python - 像在自己的调用者中一样调用函数？

> ID：15737869
> 
> 赞同：0
> 
> 时间：2013-04-01T05:02:12.773
> 
> 标签：python, debugging

我正在尝试复制在 Python 中使用 C 编程时经常使用的错误检查模式。我有一个功能`check`如下：

```
def check(exceptions, msg, handler):
    def wrapped(func, *args, **kwargs):
        try:
            return func(*args, **kwargs)
        except exceptions as err:
            log_err(msg)
            # Do something with handler
    return wrapped 
```

通过`check`使用适当的参数调用，然后使用函数及其参数调用结果，可以在`try-except`不牺牲清晰度的情况下将语句减少到两行代码（无论如何，在我看来）。

例如

```
def caller():
    try:
        files = listdir(directory)
    except OSError as err:
        log_err(msg)
        return []
    # Do something with files 
```

变成

```
def caller():
    c = check(OSError, msg, handler)
    files = c(listdir, directory) # caller may return [] here
    # Do something with files 
```

问题是，为了使这种转换对程序的其余部分透明，*必须*`handler`像在. （不必是函数对象。我追求的是效果，而不是方法。）*`wrapped``handler`*

 *在 CI 中只会使用宏并内联扩展所有内容（因为无论如何我都会在那里编写代码），但 Python 没有宏。是否有可能以其他方式实现这种效果？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-01T06:00:42.897

没有办法编写 Python 代码来创建对象`c`，以便在您调用 时`c`，调用它的函数返回。您只能通过`return`直接在该函数的主体中直接键入语句（或从结尾处掉下来）来从函数返回。

您可以轻松地做到这一点，以便您的“已检查”函数仅*返回*默认值。然后调用者可以正常使用它，但不能让调用者本身返回。您也可以编写一个装饰器来`caller`捕获您指定的错误并返回`[]`，但这会捕获所有`OSError`在 s 中的任何地方引发的 s `caller`，而不仅仅是通过调用特定函数（例如`listdir`）引发的那些。例如：

```
def check(exceptions, msg, handler):
    def deco(func):
        def wrapped(*args, **kwargs):
            try:
                return func(*args, **kwargs)
            except exceptions as err:
                print "Logged error:", msg
                return handler(err)
        return wrapped
    return deco

def handler(err):
    return []

@check(ZeroDivisionError, "divide by zero", handler)
def func(x):
    1/0

>>> func(1)
Logged error: divide by zero
[] 
```

你描述的情况似乎有些不寻常。在大多数情况下，将处理分解为“处理程序”函数是值得的，该处理程序函数要么不知道它希望调用者返回什么值，要么它可以仅根据错误知道要返回什么，而无需知道是哪一行引发了错误。

例如，在您的示例中，您显然有一个`caller`可能会`OSError`在许多不同点引发 a 的函数。如果你只有一个地方需要 catch`OSError`和 return `[]`，只需写一个 try/except ，这没什么大不了的。如果您想在函数中捕获*任何* `OSError`内容并返回`[]`，请如上所示对其进行装饰。您所描述的似乎仅在您想要捕获不止一个但不是所有可能`OSError`的情况下才有用`caller`异常。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-01T05:33:18.560

如果我不太明白，请原谅我，但是您不能将处理程序放在调用函数中吗？

```
def caller():
    def handler():
        print("Handler was called")
    # ... 
```

## 更好的方法...

或者，如果你想简化你调用它的方式，你可以使用`with`语句来达到想要的效果。我认为这会容易得多，而且它的“hack”要少得多：

```
class LogOSError(object):
    def __init__(self, loc):
        self.loc = loc
    def __enter__(self):
        return None
    def __exit__(self, exc_type, exc_value, traceback):
        if isinstance(exc_value, OSError):
            print("{}: OSError: {}".format(self.loc, exc_value))
            return True 
```

你可以像这样使用它：

```
with LogOSError('example_func'):
    os.unlink('/does/not/exist') 
```

输出是：

```
>>> 使用 LogOSError('some_location'):
... os.unlink('/does/not/exist')
...
some_location: OSError: [Errno 2] 没有这样的文件或目录：'/does/not/exist'

```*

# c# - .NET- 树视图控件

> ID：15737872
> 
> 赞同：0
> 
> 时间：2013-04-01T05:02:37.757
> 
> 标签：c#, .net

```
<?xml version="1.0" encoding="UTF-8" ?>
<properties>
    <general>
        <title type="textbox">title1</title>
        <subtitle type="textbox">subtitle1</subtitle>
        <radius type="textbox">20</radius>
    </general>
    <behavior>
        <sorting>
            <enable type="checkbox">True</enable>
            <by type="dropdown">Data</by>
            <order type="dropdown">Descending</order>
        </sorting>
    </behavior>
    <appearance>
        <series>
            <innerseries type="colorpicker">#996666</innerseries>
            <innerseries type="colorpicker"></innerseries>
            <innerseries type="colorpicker"></innerseries>
            <transparency type="slider">19</transparency>
        </series>
    </appearance>
</properties> 
```

以上是我的 XML。

在我的 .ASPX 页面中：

```
<asp:TreeView ID="TreeView1"  runat="server" 
    OnSelectedNodeChanged="TreeView1_SelectedNodeChanged1"  ImageSet="Arrows"       
    EnableTheming="true">
</asp:TreeView>  
<asp:Button ID="Button1" runat="server" Text="Submit" OnClick="Button1_Click" /> 
```

在我的代码隐藏中，我动态加载一个 xml 并构建一个树视图

```
protected void Button1_Click(object sender, EventArgs e)
   {
   doc.LoadXml("XmlFile");
      XmlNode node = doc.DocumentElement;
       TreeView1.Nodes.Clear();
       TreeView1.Nodes.Add(new TreeNode(doc.DocumentElement.Name));

       TreeNode tNode = new TreeNode();
       tNode = TreeView1.Nodes[0];

       Property obj = new Property();
       obj.AddChildNode(node, tNode);
       }

       In my Property.cs  (Class File)

       public void AddChildNode(XmlNode inXmlNode, TreeNode inTreeNode)
    {
        XmlNode xNode;
        TreeNode tNode;
        XmlNodeList nodeList;
        int i;

        // Loop through the XML nodes until the leaf is reached.
        // Add the nodes to the TreeView during the looping process.
        //if (inXmlNode.HasChildNodes)

        if (inXmlNode.ChildNodes.Count >= 1 && inXmlNode.ChildNodes[0].HasChildNodes)
        {

            nodeList = inXmlNode.ChildNodes;

            for (i = 0; i <= nodeList.Count - 1; i++)
            {

                xNode = inXmlNode.ChildNodes[i];

                inTreeNode.ChildNodes.Add(new TreeNode(xNode.Name));

                tNode = inTreeNode.ChildNodes[i];
                AddChildNode(xNode, tNode);

            }
        }
        else
        {
            if (inXmlNode.ChildNodes.Count > 1)
            {
                nodeList = inXmlNode.ChildNodes;

                for (i = 0; i <= nodeList.Count - 1; i++)
                {

                    xNode = inXmlNode.ChildNodes[i];

                    inTreeNode.ChildNodes.Add(new TreeNode(xNode.Name));

                    tNode = inTreeNode.ChildNodes[i];
                    AddChildNode(xNode, tNode);

                }
            }
            // Here you need to pull the data from the XmlNode based on the
            // type of node, whether attribute values are required, and so forth.
            else
            {

                if (inXmlNode.ChildNodes.Count == 0)
                {

                    inTreeNode.Text = (inXmlNode.Name).Trim();
                    inTreeNode.Target = inXmlNode.Attributes[0].Value;

                }
                else
                {
                    inTreeNode.Text = (inXmlNode.Name).Trim();
                    inTreeNode.Target = inXmlNode.Attributes[0].Value;
                    inTreeNode.Value = inXmlNode.ChildNodes[0].Value;
                }
            }
            //inTreeNode.Value = (inXmlNode.OuterXml).Trim();

        }
} 
```

这里的问题是，当我运行我的代码并选择 Title 或 Subtile 节点时，焦点设置到该节点并触发 SelectIndexChanged 事件。但是，当我选择第一个孩子（Innerseries）时，它会完美运行。当第二个 Innerseries 孩子被选中，选择集中在那个节点上。但是，当我选择第三个孩子（Innereseries）时，焦点在第二个孩子上。所以，看起来当节点名称和值相同时，它选择了第一个节点.

# php - 使用 codeigniter 在电子邮件中发送链接

> ID：15737873
> 
> 赞同：0
> 
> 时间：2013-04-01T05:02:46.487
> 
> 标签：php, codeigniter, email, hyperlink

我正在尝试向新注册的用户发送电子邮件，并在该电子邮件中发送带有验证码的链接，如果用户单击此链接，则只会激活他的帐户。

我设法发送电子邮件，但链接只是一个文本，它不是超链接，这是我的代码

```
$verification_code = "dkeoKUd";

$this->email->from('xyz@xyz.com', 'xyz');
$this->email->to($user_email);
$this->email->subject('Email Test');

$link = 'Click on this link - <a http://localhost/Registration_Demo/update_verification_status/update_code='.$verification_code.'>http://localhost/Registration_Demo/update_verification_status/update_code='.$verification_code.'</a>';

$this->email->message($link);
$this->email->send(); 
```

在这个控制器的构造函数中，我写了

```
$this->load->library('email');
$this->email->set_mailtype("html"); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-01T05:06:44.877

该链接缺少一个 href ：

```
Registration_Demo/update_verification_status/update_code='.$verification_code.'>http://localhost/Registration_Demo/update_verification_status/update_code='.$verification_code.'</a>' 
```

结果，a 标签将不起作用

# maven - Maven 编译文件列表

> ID：15737874
> 
> 赞同：0
> 
> 时间：2013-04-01T05:03:06.970
> 
> 标签：maven

当我们执行 mvn compile 时，我们是否必须列出所有由 maven 编译的文件及其文件名和位置。

先感谢您。

# android - Android如何在relativelayout中拖动imageview然后将其放回原处

> ID：15737875
> 
> 赞同：3
> 
> 时间：2013-04-01T05:03:27.580
> 
> 标签：android, android-layout, drag-and-drop, android-imageview, touch-event

我正在尝试使用 onTouchListener 使图像视图可拖动。这是我到目前为止用于拖动的代码

```
switch (ME.getAction()){
    case MotionEvent.ACTION_DOWN://IF USER PRESSED ON THE IMAGE

        origix = v.getLeft();   //save original x coordinate calculated with the offset
        origiy = v.getTop();
break;
case MotionEvent.ACTION_MOVE://IF USER IS MOVING THE IMAGE

            System.out.println("MOVED");
            int x_cord = (int)ME.getRawX(); //get coordinate of the user touch
            int y_cord = (int)ME.getRawY(); 

            //set the image to the new coordinates based on where the user is touching and dragging
            MarginLayoutParams marginParams = new MarginLayoutParams(v.getLayoutParams());   
            marginParams.setMargins(x_cord - origix, y_cord - origiy,0, 0);
            RelativeLayout.LayoutParams layoutParams = new RelativeLayout.LayoutParams(marginParams);
            v.setLayoutParams(layoutParams);  
            MOVED = true;   //mark that the image has been move

    break; 
```

变量“v”是图像视图。我得到的问题是 getRawX 和 getRawY 没有返回正确的坐标（我认为......）。当我尝试触摸图像然后尝试拖动它时，图像开始从另一个位置拖动。通常比原来的位置高得多，向右一点。图像视图在相对布局中，我正在使用 API 10

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-01T05:41:05.957

移动开始时，您`x_offset`需要`y_offset`使用`ImageView`.

然后，移动应该修改如下：

```
marginParams.setMargins(x_cord - x_offset, y_cord - y_offset,0, 0); 
```

这将阻止您从与开始位置不同的位置开始拖动`ImageView`。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-14T03:18:05.460

需要获取相对布局和屏幕的偏移量

```
int offsety = (screenheight - relheight); //screenheight is the height of the screen and rel height is the height of the relativelayout that the image is in then changed     
marginParams.setMargins(x_cord - origix, y_cord - origiy,0, 0); to this     
marginParams.setMargins(x_cord - (v.getWidth()/2), y_cord - offsety - (v.getHeight()/2),0, 0); 
```

# java - 从源代码构建 Mockito

> ID：15737877
> 
> 赞同：0
> 
> 时间：2013-04-01T05:03:38.807
> 
> 标签：java, ant, mockito

我做了一个 git 克隆：[https ://github.com/mockito/mockito](https://github.com/mockito/mockito)

我要做的是重新打包它，以便最终的 mockito-core jar 将使用修改后的 Objenesis 库。

但是，我是一个 maven 用户，我不确定如何让 Mockito 使用我自己的库版本，然后用 ant 重新打包它。使用 Maven，这很容易做到，只需更改`<dependency>`然后`run mvn clean install`

新的 Objenesis 库在我的本地`M2_HOME`maven 存储库中，我是否需要手动将其复制到`mockito`git 目录中的 a 文件夹中？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-15T13:38:50.530

Mockito`build.xml`定义了一个`compile.classpath`包含所有文件`lib/run`（以及几个其他目录）的文件。您可以更改构建文件中的定义，或者简单地将 jar 替换为`lib/run`.

构建完成后，与`install.artifact`目标一起安装将使用 pom in `maven/mockito-core.pom`，因此您还需要对其进行编辑以引用修改后的库。

# mysql - MySQL时间戳修改、添加和比较

> ID：15737878
> 
> 赞同：1
> 
> 时间：2013-04-01T05:03:39.690
> 
> 标签：mysql, views, timestamp

我正在创建一个涉及一些时间戳的视图。

我有一个带有时间戳的表 A。视图将处理时间戳以查看每个时间戳是否在特定范围内（上午 9 点 - 下午 5 点）。如果时间戳在该范围内，我将在另一个表 (B) 中获取与确切时间匹配的数据。否则，我将获取第二天（或当天）的第一个有效时间（即上午 9 点）以及从那里获取的相应数据。

例子：

*   时间戳为`12/28/2012 17:01`-> 的记录从 B 获取数据 for `12/29/2012 09:00`，将标志设置为`after`。
*   时间戳为`12/28/2012 08:59`-> 的记录从 B 获取数据 for `12/28/2012 09:00`，将标志设置为`before`。
*   时间戳为`12/28/2012 09:55`-> 的记录从 B 获取数据 for `12/28/2012 09:55`，将标志设置为`null`。

这是我到目前为止所拥有的（不工作，有些是伪代码）。我主要不知道如何根据比较设置标志，然后根据标志对 b 执行下一个操作 - 全部在一个语句中。

```
CREATE VIEW C as 
SELECT time, (CASE WHEN (time< '9:00' ) THEN'before'
CASE WHEN(time> '17:00') THEN'after' else null END) AS flag FROM A

//These two should be combined into one create view statement
//The below is utterly wrong, I know, but explains what I mean
SELECT(
CASE WHEN (flag=='before') THEN SELECT * FROM B WHERE B.time = time set hour='9:00'
CASE WHEN(flag=='after') THEN SELECT* FROM B WHERE B.time = time + one day set hour='9:00'
ELSE SELECT* FROM B WHERE B.time = time ) as data 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-01T05:16:52.213

使用这个小提琴测试：[http ://sqlfiddle.com/#!2/15be5/50](http://sqlfiddle.com/#!2/15be5/50)

```
SELECT
  q.time as original_time_check,
  q.flag as flag_check,
  case q.flag
    when 'before' then q.NINE_AM_ON_THE_DAY 
    when 'after' then q.NINE_AM_THE_NEXT_DAY 
    else q.time
  end as time

FROM
(
    SELECT
       time,
       date(time) + INTERVAL 9 HOUR as NINE_AM_ON_THE_DAY,
       date(time) + INTERVAL '1 9' DAY_HOUR as NINE_AM_THE_NEXT_DAY,  
       case
         when time < (date(time) + INTERVAL 9 HOUR) then 'before'
         when time < (date(time) + INTERVAL 17 HOUR) then 'in-range'
         else 'after'
       end as flag
    FROM 
       Your_table 
) q 
```

# java - 将默认值设置为 h：单击按钮时的 selectOneMenu

> ID：15737879
> 
> 赞同：0
> 
> 时间：2013-04-01T05:03:47.457
> 
> 标签：java, javascript, jsf, selectonemenu

我在按钮单击时显示一个输出面板，它有一个 selectonemenu 项，默认值 1 被选中，当我更改一些值并单击 CANCEL 按钮并重新打开输出面板时，将显示最后选择的值。有什么方法可以显示默认值“1”...在此先感谢

```
<a4j: outputPanel id="new"> 

<h:selectOneMenu id="menuID" value="#{myController.count}" immediate="true"> 
<f:selectItem itemLabel="1" itemValue="1" /> 
<f:selectItem itemLabel="2" itemValue="2" /> 
<f:selectItem itemLabel="3" itemValue="3" /> 
<f:selectItem itemLabel="4" itemValue="4" /> 
<f:selectItem itemLabel="5" itemValue="5" /> 
<f:selectItem itemLabel="6" itemValue="6" /> 
<f:selectItem itemLabel="7" itemValue="7" /> 
<f:selectItem itemLabel="8" itemValue="8" /> 
<f:selectItem itemLabel="9" itemValue="9" /> 
<f:selectItem itemLabel="10" itemValue="10" /> 
</h:selectOneMenu></td> 

<div id="popActionButtons"> 
<h:commandLink value="cancel" onclick="return closePoUpWindow(this);" /> 

<c1:ajaxCommandButton id="save" title="Save" 
onclick="return vailidatesav();" 
value="save" validationType="required" 
eventType="click" styleClass="inputButton" /></div> 
</div> 
</a4j: outputPanel> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-03T06:21:23.187

您可以在面板打开时重置“#{myController.count}”吗？问题是您在 selectOneMenu 上设置了 immediate="true"，因此在单击取消按钮时，表单被提交，并且所有过程（如验证、转换、更新模型）都发生在“应用请求值”阶段。这就是你看到最后一个值的原因。因此，要么从 selectOneMenu 中删除 immediate="true" 并将其放在取消按钮上，要么必须在单击按钮时重置“#{myController.count}”，这会打开面板。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-12-11T07:22:27.823

检查以下情况是否有问题

1.我认为您正在使用`<t:savestate>`此变量**计数**..如果是这种情况，请删除。
2\. 检查 bean weather ur 的构造函数，为这个变量**count**设置任何值。

如果不是上述情况，您最好使用我建议的 java 脚本

1.  页面的 onload 将默认值设置为下拉菜单。
2.  使用**onclick**事件取消按钮并调用java函数将下拉框值设置为1..

# linux - 将输出重定向到命令结果给出的文件名

> ID：15737881
> 
> 赞同：2
> 
> 时间：2013-04-01T05:03:58.077
> 
> 标签：linux, bash, shell

假设我有一个文件格式，我想将数据库备份保存为这样的：

```
echo "~/backups/$(date +'%Y-%m-%d_%H-%M-%S').sql" 
```

现在如何将此结果指定为 shell 中输出的文件名？

```
mysqldump my_db > ....? 
```

~~**顺便说一句：** shell 将嵌套 echo 命令的结果解释为可执行命令/文件。所以~~    看起来：

```
 mysqldump my_db > $(echo "something") 
```

不工作。相反，shell 会查找一个名为`something`并尝试执行它的文件？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-04-01T05:29:28.093

无需使用嵌套回声。你可以避免它：

```
mysqldump my_db > ~/backups/$(date +'%Y-%m-%d_%H-%M-%S').sql 
```

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-04-01T06:07:16.767

$(echo "something") 不是问题，而 ~ 是。如果您使用完整路径，它可以正常工作：

```
echo 'hello world' > $(echo "/home/root/backups/$(date +'%Y-%m-%d_%H-%M-%S').sql") 
```

如果您对如何使用感兴趣〜：

```
eval "echo 'hello world' > $(echo "~/backups/$(date +'%Y-%m-%d_%H-%M-%S').sql")" 
```

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2019-01-06T08:20:42.060

我认为有更多的可能性来回答这个问题： [如何用当前时间命名文件？](https://stackoverflow.com/questions/54054496/how-to-name-a-file-with-current-time) [复制]

--

您可以使用不同的实用程序在 bash 中创建文件

*使用触摸*

```
root@ubuntu:~/T/e/s/t# touch $(date +"%T") //you can format time as per your need 
```

*使用编辑器*

```
root@ubuntu:~/T/e/s/t# vi $(date +"%T") 
```

*使用重定向*

```
root@ubuntu:~/T/e/s/t# echo "Input for file" > $(date +"%T") 
```

**时间格式**

代替`%T`你可以使用你自己的时间格式参考： http: [//man7.org/linux/man-pages/man1/time.1.html](http://man7.org/linux/man-pages/man1/time.1.html)

# jsf - 以编程方式创建的 h:commandButton 不会调用 onclick="processInput(id)"

> ID：15737885
> 
> 赞同：0
> 
> 时间：2013-04-01T05:04:29.717
> 
> 标签：jsf

这是我以编程方式创建一个`<h:commandButton>`：

```
private HtmlCommandButton generateButton(String id,String label){
  HtmlCommandButton button = (HtmlCommandButton)app.createComponent
      (HtmlCommandButton.COMPONENT_TYPE);
  button.setId(id);
  button.setValue(label);
  button.setOnclick("processInput(id)");
  return button;
} 
```

单击按钮时，我需要执行该`processInput(id)`功能。但是，当我单击该按钮时，什么也没有发生。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-01T12:11:41.037

Onclick 函数会将 processInput 添加为 JavaScript 函数。您需要在 Java 方法中传递 id，例如，

```
setOnClick("processInput(" + id + ")"); 
```

要添加您需要使用的操作方法`setActionExpression`，

```
HtmlCommandButton button = new HtmlCommandButton();
FacesContext fc = FacesContext.getCurrentInstance();
ELContext ctx = fc.getELContext();
String expression = "#{processInput('id')}";
Class[] parameterTypes = new Class[1];
parameterTypes[0]=String.class;
MethodExpression me = fc.getApplication().getExpressionFactory().
                      createMethodExpression(ctx, 
                      expression, returnType, parameterTypes);
button.setActionExpression(me);
button.setOnclick("alert('');"); 
```

# css - 向代码框添加水平滚动

> ID：15737888
> 
> 赞同：0
> 
> 时间：2013-04-01T05:04:56.467
> 
> 标签：css, scroll, blogger

我的博客上有一个代码框，我在其中添加了`HTML`//代码`CSS``Javascript`

我的 CSS 代码如下所示：

```
.post blockquote {
    background-image: url("https://dl.dropbox.com/u/76401970/All%20Blogger%20Tricks/Images/blockquote.png");
    background-position: 0 0;
    background-repeat: no-repeat repeat;
    border-color: #DDDDDD #666666 #666666 #DDDDDD;
    border-radius: 6px 6px 6px 6px;
    border-style: solid;
    border-width: 1px;
    color: #000000;
    font-family: Consolas,'Courier New',Monaco,Courier,monospace;
    line-height: 18px;
    margin: 0 20px;
    overflow: hidden;
    padding: 10px 20px 10px 45px;
} 
```

每当我添加一个大代码（单行）。代码进入下一行，但我希望代码位于同一行并在框下方水平滚动。我试过了`overflow: auto` `overflow-x: scroll` `overflow-y: hidden`

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-01T05:18:35.823

在 W3SCHOOLS 上查看这个[实时示例。](http://www.w3schools.com/cssref/tryit.asp?filename=trycss_overflow)

如您所见..您需要指定a`width`和`height`..这就是您的代码不起作用的原因

除此之外，使用 :`white-space: nowrap;`这样您就可以在一行中编写代码

看看这个[jsfiddle](http://jsfiddle.net/Ssps3/)的代码

# windows-services - 如何检查 services.msc 中是否存在服务，如果存在则添加对该服务的依赖[有条件地]

> ID：15737889
> 
> 赞同：0
> 
> 时间：2013-04-01T05:04:57.370
> 
> 标签：windows-services, dependencies

我确实有自己的名为 ExchangeOfData 的服务。这依赖于 Sqlexpress 服务。当我重新启动系统时，我确实遇到了问题，sqlexpress 停止或在少数机器上它不存在它不会按预期工作。因为它无法与数据库通信。

我想知道我们如何检查：

1.  “Sqlexpress”服务是否存在。
2.  如果存在则仅添加依赖项。

请指导我。我在这里先向您的帮助表示感谢。

# android - Android在更改按钮边距时使用动画

> ID：15737895
> 
> 赞同：1
> 
> 时间：2013-04-01T05:05:35.807
> 
> 标签：android, animation, button, margin

我使用框架布局来包含一个按钮板。

```
FrameLayout.LayoutParams buttonLayoutParameters = new FrameLayout.LayoutParams(
            wN, hN);
    // Add Margin to the LayoutParameters
    buttonLayoutParameters.setMargins(marginLeft, marginTop, marginRight,
            marginBottom);
    button.setLayoutParams(buttonLayoutParameters); 
```

在游戏中，按钮可以改变位置到另一个位置。这时候我已经重用了

```
buttonLayoutParameters.setMargins(marginLeft, marginTop, marginRight,
                marginBottom); 
```

但我也想在位置变化时添加动画。我已经尝试了一些翻译动画，但没有成功。请帮我解决它谢谢

# android - HTML5 Android 应用程序 - 非常慢

> ID：15737898
> 
> 赞同：0
> 
> 时间：2013-04-01T05:06:14.103
> 
> 标签：android, jquery, html, jquery-mobile

我使用 HTML5 和 JQuery Mobile 创建了一个非常简单的 android 应用程序，并使用 phonegap 创建了 android 应用程序。我的应用程序包含一个没有任何资产的 html 页面。它包括 jQuery 库、jQueryMobile 库和 jQueryMobile css 文件。

在我的安卓手机上运行这个应用程序时，我觉得它的响应速度很慢。

有人能帮我吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-01T05:25:32.533

我建议您将代码从 Phonegap 移植到[Titanium](https://www.google.co.in/url?sa=t&rct=j&q=&esrc=s&source=web&cd=3&cad=rja&ved=0CEgQFjAC&url=http://www.appcelerator.com/&ei=ChlZUYnxBsiNrQfy3IGgAQ&usg=AFQjCNE6ODec3SjXQMtqVytSNYT3Ua3FzA&sig2=5M9yf1ZOSNrJd0WuyLXgHw&bvm=bv.44442042,d.bmk) 。它要快得多`native javascript library`。这意味着您的代码实际上被转换为 Objective-C 或 Java，而不是在容器中运行。这就是它比 Phonegap 快的原因。

继续阅读：

*   [**比较Phonegap和Titanium**](http://developer.appcelerator.com/blog/2012/05/comparing-titanium-and-phonegap.html)

但是你会认为是*他们*，所以他们总是写得*很好*！[`See this Q/A here`](https://stackoverflow.com/a/9983142/1221203)了解开发人员对此有何看法。

即使我将应用程序从 phonegap 移植到钛，它的性能也提高到了基准水平 -alhumdulillah-。

如果这可以指导您，请将其标记为答案。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-01T05:11:31.590

根据我的经验，HTML5 与原生应用程序相比要慢得多。难怪连 Facebook 都决定放弃 HTML5 应用程序，转而使用很酷的原生应用程序。

如果您在中档或入门级 Android 智能手机上运行您的应用程序，那么动画缓慢和难看的按钮是很正常的。在 SIII 或 SIV 上尝试您的 JQM 应用程序，它会更好更漂亮。

我听说[Sencha](http://www.sencha.com/)比 JQM 快得多，但上手有点困难。不过值得一试。

# amazon-web-services - 使用 Chef 引导 EC2 实例时出现错误“缺少参数：-l (OptionParser::MissingArgument)”

> ID：15737899
> 
> 赞同：0
> 
> 时间：2013-04-01T05:06:19.570
> 
> 标签：amazon-web-services, chef-infra, bootstrapping

我对 Chef 和 A​​WS 都很陌生，但我正在尝试使用两者。我尝试使用以下命令引导 AWS 实例：

```
knife ec2 server create -I ami-62fd7152 -x ubuntu -f t1.micro --region 'us-west-2' 
```

但是，当我检查我的 ec2 服务器列表时，该服务器未列出，尽管它已列在我的节点列表中。SSH 进入我的实例并检查我的厨师日志会产生以下信息，但我不确定如何处理这些信息。我究竟做错了什么？

```
~$ sudo chef-client -l
/opt/chef/embedded/lib/ruby/gems/1.9.1/gems/mixlib-cli-1.3.0/lib/mixlib/cli.rb:226:in `parse_options': missing argument: -l (OptionParser::MissingArgument)
from /opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.4.0/lib/chef/application.rb:78:in `configure_chef'
from /opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.4.0/lib/chef/application.rb:65:in `reconfigure'
from /opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.4.0/lib/chef/application/client.rb:217:in `reconfigure'
from /opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.4.0/lib/chef/application.rb:71:in `run'
from /opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.4.0/bin/chef-client:26:in `<top (required)>'
from /usr/bin/chef-client:23:in `load'
from /usr/bin/chef-client:23:in `<main>' 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-01T14:43:56.267

唯一让我大吃一惊的是您需要指定您正在使用的 AWS 密钥对。当您通过 AWS 控制台创建新服务器时，AWS 会提示您创建一个。当您的 ec2 实例启动时，Amazon 将此密钥放在 authorized_key 文件中，以便您可以 ssh 进入实例。Knife 需要知道使用什么密钥，以便它可以使用相同的密钥 ssh 进入实例并引导它。您可以使用密码而不是密钥对，但我不建议这样做。出于安全原因，这通常被认为是不好的做法。

ssh 密钥的选项是“--ssh-key”或“-S”。不过，您不会将路径传递到您在本地拥有该密钥的位置。相反，只需传递您在 AWS 控制台中给它的名称。希望这可以帮助。

# mysql - Web 服务器不支持 InnoDB MYSQL

> ID：15737905
> 
> 赞同：3
> 
> 时间：2013-04-01T05:06:47.287
> 
> 标签：mysql

我用`InnoDB`Engine 创建了一个数据库。现在我正在使用[www.000webhost.com](http://www.000webhost.com)并且它不支持`InnoDB Engine`; 我应该怎么办？我的数据库已经完成，可以启动了！有人知道如何解决这个问题吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-06-26T16:35:43.050

我曾经也有过一样的问题。我被迫使用的提供者只有 MyISAM，我在 InnoDB 中开发。可以迁移，因为似乎 MyISAM 忽略了您在创建模式时使用的所有 FK 命令。

我使用了 Mysql 工作台的简单导出，并在远程主机中导入了架构和内容。

我认为数据库的约束会保留，因为我使用带有 FK 检查的 InnoDB 进行开发和测试。如果您的代码是可靠的，那么数据库失去完整性的风险应该是最小的。但是，如果您不管理代码中的某些约束，当然可能会出现无法预料的问题。

[InnoDB](http://dev.mysql.com/doc/refman/5.1/en/innodb-storage-engine.html)和[MyISAM](http://dev.mysql.com/doc/refman/5.1/en/myisam-storage-engine.html)存储引擎的概述可以为您提供答案，如果您依赖任何其他将两者区分开来的东西。

# jquery - Jquery 在 Wordpress 中无法正常工作

> ID：15737906
> 
> 赞同：0
> 
> 时间：2013-04-01T05:06:58.557
> 
> 标签：jquery, wordpress

这是我在 wordpress 中的 footer.php 代码

```
<div class="col-fr col-space flink" id="a-1">
    <h4>title</h4>
    <?php 
$menuParameters = array(
  'menu'            => 'New To website', 
  'container'       => false,
  'container_class' => 'footmenu',
  'echo'            => false,
  'items_wrap'      => '%3$s',
  'depth'           => 0,
);

echo strip_tags(wp_nav_menu( $menuParameters ), '<a>' );
?>

  </div>
  <div class="col-fr flink col-space" id="a-2">
    <h4>title</h4>
    <?php 
$menuParameters = array(
  'menu'            => 'Most Popular', 
  'container'       => false,
  'container_class' => 'footmenu',
  'echo'            => false,
  'items_wrap'      => '%3$s',
  'depth'           => 0,
);

echo strip_tags(wp_nav_menu( $menuParameters ), '<a>' );
?>

  </div>
  <div class="col-fr flink col-space" id="a-3">
    <h4>title?</h4>

       <?php 
$menuParameters = array(
  'menu'            => 'Need Help', 
  'container'       => false,
  'container_class' => 'footmenu',
  'echo'            => false,
  'items_wrap'      => '<ul>%3$s</ul>',
  'depth'           => 0,
);

echo strip_tags(wp_nav_menu( $menuParameters ), '<a>' );
?>

  </div>
  <div class="col-fr flink" style="margin-right:0px" id="a-4">
    <h4>title</h4>
       <?php 
$menuParameters = array(
  'menu'            => 'quicklink', 
  'container'       => false,
  'container_class' => 'footmenu',
  'echo'            => false,
  'items_wrap'      => '%3$s',
  'depth'           => 0,
);

echo strip_tags(wp_nav_menu( $menuParameters ), '<a>' );
?>

  </div>
  <script>

var ul = $("<ul></ul>").appendTo("#a-1");
$("#a-1 a").each(function() {
    $(this).wrap("<li></li>").parent().appendTo(ul);
});

var ul = $("<ul></ul>").appendTo("#a-2");
$("#a-2 a").each(function() {
    $(this).wrap("<li></li>").parent().appendTo(ul);
});

var ul = $("<ul></ul>").appendTo("#a-3");
$("#a-3 a").each(function() {
    $(this).wrap("<li></li>").parent().appendTo(ul);
});

var ul = $("<ul></ul>").appendTo("#a-4");
$("#a-4 a").each(function() {
    $(this).wrap("<li></li>").parent().appendTo(ul);
});

    </script> 
```

这个脚本不能正常工作，但如果我添加

```
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js" type="text/javascript"></script> 
```

到 header.php 文件之前

```
 <?php
    wp_head();
?>
</head> 
```

然后它的工作正常......所以我的代码有什么问题......我不想添加 jquery 再次添加标题。它已经默认加载了。版本也相同..我尝试粘贴该代码 heaer.php 但不起作用还尝试为此制作一个单独的 js 文件并加载..但没有工作..

任何解决方案..？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-01T05:10:07.410

使用`jQuery`而不是`$`

因为大多数 CMS 使用[noConflict](http://api.jquery.com/jQuery.noConflict/)

# html - HTML 表单提交和 JSP mySQL

> ID：15737908
> 
> 赞同：0
> 
> 时间：2013-04-01T05:07:09.983
> 
> 标签：html, jsp

我最近制作了一个验证表单提交的 HTML 页面，以便提交具有姓名、电子邮件地址、性别、评论和相同密码的值。现在，我正在尝试实现，以便可以将每个表单的这些值插入到数据库中。以下是代码片段

HTML 部分

```
 <form id="regForm" action="insertInfo.jsp" onsubmit="return validation();" method="post" enctype="text/plain">
        <fieldset>
            <legend>Registration</legend>
            <p>Name: <input type="text" name="name" id="name"/></p>
            <p>Email Address: <input type="text" name="emailAddress" id="emailAddress"/></p>
            <p>Gender: 
                <input type="radio" name="gender" id="genderM" value="Male" /> Male
                <input type="radio" name="gender" id="genderF" value="Female" /> Female
            </p>
            <p>Password: <input type="password" name="password_1" id="password_1"/></p>
            <p>Confirm Password: <input type="password" name="password_2" id="password_2"/></p>
            <p>Comments: <input type="text" name="comments" id="comments"/></p>
            <p><input type="submit" name="submit" value="Submit"/></p>
        </fieldset>
    </form> 
```

名为 insertInfo.jsp 的 JSP 代码

```
<%@ page import="java.sql.*" %>
<%
   String connectionURL = "jdbc:mysql://sql.school.edu:3306/user";
   Connection connection = null;
   Statement statement = null;
   ResultSet rs = null;
   Class.forName("com.mysql.jdbc.Driver").newInstance();
   connection = DriverManager.getConnection(connectionURL, "user", "password");
   statement = connection.createStatement();
   String name=request.getParameter("name");
   String password=request.getParameter("password_1");
   String email=request.getParameter("emailAddress");
   String gender=request.getParameter("gender");
   String comments=request.getParameter("comments"); 
   rs = statement.executeQuery("INSERT INTO Information VALUES ('"+name+"', '"+password+"', '"+email+"', '"+gender="', '"+comments+"')");
%> 
```

当我尝试提交表单时，系统会提示我进入类似于

> HTTP 状态 404 - /~user/insertInfo.jsp
> 
> 类型状态报告
> 
> 消息 /~user/insertInfo.jsp
> 
> 描述 请求的资源 (/~​​user/insertInfo.jsp) 不可用。Apache Tomcat/5.5.29

我很困惑为什么会发生这种情况。此外，HTML 和 JSP 文件位于同一个 public_html 目录中。

# android - Edittext 输入在字符周围有线条，不会删除

> ID：15737910
> 
> 赞同：2
> 
> 时间：2013-04-01T05:07:34.040
> 
> 标签：android, eclipse, android-edittext

我的应用程序中的编辑文本一直存在问题。我使用基本的创建它们

```
etCurr = (EditText) findViewById(R.id.etCurr);
etWorth = (EditText) findViewById(R.id.etWorth);
etNeed = (EditText) findViewById(R.id.etNeed); 
```

但是每当我运行程序并尝试输入输入时，我都会遇到这个问题

![在此处输入图像描述](https://i.stack.imgur.com/lWtyP.png)

当我尝试删除输入时，当前输入不会消失。

另外，当我尝试使用

```
nWorth = Integer.valueOf(etWorth.getText().toString()); 
```

应用程序崩溃。

这个问题是由于使用 Swiftkey 还是我做错了什么？

编辑：当我尝试输入屏幕下方的编辑文本时，我也会遇到这个问题。这是关闭键盘后的效果。

![在此处输入图像描述](https://i.stack.imgur.com/COeiF.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-01T05:40:10.717

尝试这个，

```
<EditText
    android:id="@+id/etCurr"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:ems="10"
    android:singleLine="true"  <!-- use this single line -->
    android:inputType="number" >
    <requestFocus />
</EditText> 
```

然后使用此代码不要从编辑文本中删除字符，

```
 etCurr.addTextChangedListener(new TextWatcher(){
        @Override
        public void onTextChanged(CharSequence s, int start, int before, int count) {}
        @Override
        public void beforeTextChanged(CharSequence s, int start, int count,int after) { etCurrBeforeText=s.toString();
        }
        @Override
        public void afterTextChanged(Editable txt) {
}
});
@Override
public boolean onKeyDown(int keyCode, KeyEvent event)
{   
    if (keyCode == KeyEvent.KEYCODE_DEL) 
    {   
        if(etCurr.hasFocus())
        {
             etCurr.setText(etCurrBeforeText);
        }
    }
} 
```

然后，

```
nCurr= Integer.valueOf(etCurr.getText().toString()); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-01T05:12:43.617

试试这个，

```
<EditText
    android:id="@+id/editText1"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:ems="10"
    android:singleLine="true"  <!-- use this single line -->
    android:inputType="textPersonName" >

    <requestFocus />
</EditText> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-03-21T02:41:31.710

我遇到了你描述的同样的问题。当我在每个字母后输入一些东西时，会出现一行。删除文本后，您仍然可以看到字母。只有在更改屏幕方向后，视图才会更新。就我而言，我执行了以下操作来修复错误：

我的 AndroidManifest.xml 看起来像这样：

```
<application ..>
  <activity .. android:theme="@style/FullscreenTheme">
  </activity>
</application> 
```

我删除了该`android:theme`属性，因为我过去不小心添加了一次，问题就解决了。

# iphone - 在核心数据中使用 NSFetchedResultsController 中的 NSPredicate

> ID：15737914
> 
> 赞同：1
> 
> 时间：2013-04-01T05:07:56.360
> 
> 标签：iphone, ios, objective-c, ipad

我有一个使用核心数据的应用程序，我正在尝试使用 NSPredicate 生成过滤后的提取结果。我的核心数据模型如下：

![在此处输入图像描述](https://i.stack.imgur.com/yHxCm.png)

本质上，作者可以有一个或多个引用。一个标签可以有多个引用，反之亦然，一个引用可以属于一个或多个包（因此一个包可以有一个或多个引用）。

所以现在我已经能够使用以下方法从作者那里获得所有报价：

```
self.fetchedResultsController = [Author MR_fetchAllGroupedBy:nil
                                                           withPredicate:[NSPredicate predicateWithFormat:@"quotes.@count != 0"]
                                                                sortedBy:AuthorKeys.name
                                                               ascending:YES
                                                                delegate:self]; 
```

如果现在我想说给我一个在包 x、y 和 z 中有引号的作者列表怎么办。我将如何修改上面的 NSPredicate？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-01T05:18:19.160

我认为以下应该有效。

```
NSArray *allowedPackNames = @[ @"x", @"y" ];
[NSPredicate predicateWithFormat:@"quotes.packs.packName IN %@", allowedPackNames]; 
```

请参阅[格式字符串摘要](https://developer.apple.com/library/mac/#documentation/Cocoa/Conceptual/Predicates/Articles/pCreating.html#//apple_ref/doc/uid/TP40001793-SW4)

# java - 遵循 Android NFC 教程/示例时无法解决类型错误

> ID：15737916
> 
> 赞同：0
> 
> 时间：2013-04-01T05:08:03.983
> 
> 标签：java, android, eclipse, nfc

我正在尝试使用以下示例源代码将 NFC 功能添加到我的应用程序：

[http://gitorious.org/0xdroid/development/blobs/150dd1693ff06a7683076eebe669277631ddf06/samples/NFCDemo/src/com/example/android/nfc/TagViewer.java](http://gitorious.org/0xdroid/development/blobs/150dd1693ff06a7683076eebe669277631dedf06/samples/NFCDemo/src/com/example/android/nfc/TagViewer.java)

但是，当我这样做时，我会遇到几个“无法解析为类型”的错误。

...有人有什么建议吗？

附言

我有一种感觉，它源于这条线：`import com.nfc.linked.record.ParsedNdefRecord;`

但我不确定如何解决这个问题。

错误：

```
ParsedNdefRecord cannot be resolved to a type       line 97 Java Problem
title_scanned_tag cannot be resolved or is not a field      line 77 Java Problem
ParsedNdefRecord cannot be resolved to a type       line 100    Java Problem
NdefMessageParser cannot be resolved        line 97 Java Problem
The import com.nfc.linked.record cannot be resolved     line 30 Java Problem
title cannot be resolved or is not a field      line 51 Java Problem
list cannot be resolved or is not a field       line 50 Java Problem 
```

资源：

```
import android.app.Activity;
import android.app.PendingIntent;
import android.content.Context;
import android.content.DialogInterface;
import android.os.Bundle;
import android.view.MenuInflater;
import android.view.MenuItem;
import android.view.View;
import android.view.Menu;
import android.graphics.BitmapFactory;
import android.view.View.OnClickListener;
import android.widget.Button;
import android.content.Intent;
import android.app.PendingIntent;
import android.app.Notification;
import android.app.NotificationManager;
import android.nfc.NdefMessage;
import android.nfc.NdefRecord;
import android.nfc.NfcAdapter;
import android.os.Bundle;
import android.os.Parcelable;
import android.util.Log;
import android.view.LayoutInflater;
import android.view.WindowManager;
import android.widget.LinearLayout;
import android.widget.TextView;
import com.nfc.linked.record.ParsedNdefRecord;
import java.util.List;

public class AppActivity extends Activity implements OnClickListener  {

    static final String TAG = "ViewTag";
    static final int ACTIVITY_TIMEOUT_MS = 1 * 1000;
    private TextView mTitle;
    private LinearLayout mTagContent;   
        private Button b;

        @Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.main);
    mTagContent = (LinearLayout) findViewById(R.id.list);
    mTitle = (TextView) findViewById(R.id.title);
    resolveIntent(getIntent());
    b=(Button)findViewById(R.id.button1);
    b.setOnClickListener(this);

}

        void resolveIntent(Intent intent) {
            String action = intent.getAction();
                if (NfcAdapter.ACTION_TAG_DISCOVERED.equals(action)) {
                    Parcelable[] rawMsgs = intent.getParcelableArrayExtra(NfcAdapter.EXTRA_NDEF_MESSAGES);
                                NdefMessage[] msgs;
                                if (rawMsgs != null) {
                                    msgs = new NdefMessage[rawMsgs.length];
                                    for (int i = 0; i < rawMsgs.length; i++) {
                                        msgs[i] = (NdefMessage) rawMsgs[i];
                                    }
                                } else {
                                    // Unknown tag type
                                    byte[] empty = new byte[] {};
                                    NdefRecord record = new NdefRecord(NdefRecord.TNF_UNKNOWN, empty, empty, empty);
                                    NdefMessage msg = new NdefMessage(new NdefRecord[] {record});
                                    msgs = new NdefMessage[] {msg};
                                }

                                setTitle(R.string.title_scanned_tag);
                                            buildTagViews(msgs);
                                        } else {
                                            Log.e(TAG, "Unknown intent " + intent);
                                            finish();
                                            return;
                                        }
                                    }

        void buildTagViews(NdefMessage[] msgs) {
                    if (msgs == null || msgs.length == 0) {
                        return;
                    }
                    LayoutInflater inflater = LayoutInflater.from(this);
                    LinearLayout content = mTagContent;
                    // Clear out any old views in the content area, for example if you scan
                    // two tags in a row.
                    content.removeAllViews();
                    // Parse the first message in the list
                    // Build views for all of the sub records
                    List<ParsedNdefRecord> records = NdefMessageParser.parse(msgs[0]);
                    final int size = records.size();
                    for (int i = 0; i < size; i++) {
                        ParsedNdefRecord record = records.get(i);
                        content.addView(record.getView(this, inflater, content, i));
                        inflater.inflate(R.layout.main, content, true);
                    }
                }
        @Override
            public void onNewIntent(Intent intent) {
                setIntent(intent);
                resolveIntent(intent);
            }
            @Override
            public void setTitle(CharSequence title) {
                mTitle.setText(title);
            }

@Override
public void onClick(View v) {
    Intent intent = new Intent();
    PendingIntent pIntent = PendingIntent.getActivity(this, 0, intent, 0);
    Notification noti = new Notification.Builder(this)
    .setTicker("Link Access Granted!")
    .setContentTitle("Linking Manager")
    .setContentText("Link Access Granted!")
    .setSmallIcon(R.drawable.ic_stat_notify_template3)
    .setContentIntent(pIntent).getNotification();
    noti.flags=Notification.FLAG_AUTO_CANCEL;
    NotificationManager notificationManager = (NotificationManager) getSystemService(NOTIFICATION_SERVICE);
    notificationManager.notify(0, noti);
    Intent startMain = new Intent(Intent.ACTION_MAIN);
    startMain.addCategory(Intent.CATEGORY_HOME);
    startMain.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);
    startActivity(startMain);

}

} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-01T05:19:26.193

看起来它在您的图书馆中找不到任何 nfc 记录。如果您使用的是 eclipse，请确保该库包含在您的项目中，并且在 java 构建屏幕的最右侧选项卡中，该库已被选中，并且位于您项目的 src 文件夹上方。如果您使用其他东西，请检查等效的类路径设置。

# mysql - 在 MySQL 中查找最近的评论日期 - 速度问题

> ID：15737930
> 
> 赞同：0
> 
> 时间：2013-04-01T05:10:26.860
> 
> 标签：mysql, query-optimization

我有一个查询要查找对特定页面文章发表评论的最近日期：

```
SELECT created_on , created_by_name, created_by_id , body 
FROM ac2012.acx_comments WHERE created_on IN (
SELECT MAX(created_on)
FROM ac2012.acx_comments WHERE parent_id = '642') 
```

查询正在运行，打印出 parent_id 为 642 的最新评论日期。

但是，此查询大约需要 4 秒。相比之下，我的大多数查询平均只需要 0.1 秒。

我想知道 - 为什么需要这么长时间，我怎样才能让它更快？例如，我认为将其限制为 parent_id "642" 将通过仅查看 3 条评论行开始查询......这应该使得计算 created_on 的最大值不会花费很长时间。

任何建议，将不胜感激。也许应该将 WHERE 放在其他地方以优化速度？

请在此处查看表架构：[https ://docs.google.com/spreadsheet/pub?key=0AjkotydroXWqdHBEOHAtalJpazROaHh3R0VpM0hZSlE&output=html](https://docs.google.com/spreadsheet/pub?key=0AjkotydroXWqdHBEOHAtalJpazROaHh3R0VpM0hZSlE&output=html)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-01T05:22:50.827

你应该在 parent_id 和 created_on 上添加索引

> 更改表 acx_comments 添加索引 parent_id_created_on(parent_id, created_on)

重写你的查询

> SELECT created_on, created_by_name, created_by_id, body FROM acx_comments a JOIN (SELECT MAX(created_on) as created_on FROM acx_comments where parent_id='642') b ON a.created_on=b.created_on

# c - 在 gcc 中使用数学函数时出错？

> ID：15737932
> 
> 赞同：7
> 
> 时间：2013-04-01T05:11:04.333
> 
> 标签：c, gcc, static-libraries

当我在 log2() 中传递常量值时，如下所示

```
#include <stdio.h>
#include<math.h>

int main(int argc, char* argv[]) 
{
int var;
var= log2(16);
printf("%d",var);
return 0;
} 
```

gcc prog.c（无错误）4

但是，当我在函数 log2(var) 中传递变量时，会给出对“log2”的错误未定义引用，我需要链接库，即 -lm

```
#include <stdio.h>
#include<math.h>

int main(int argc, char* argv[]) 
{ 
int var,i;
i= log2(var);
printf("%d",i);
return 0;
} 
```

给出错误

```
undefined reference to `log2' 
```

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-04-01T05:14:45.893

在第一段代码中，编译器用`log2(16)`常量替换`4`。编译器通常以这种方式优化常量数学。这就是您看不到错误的原因。

查看生成的代码进行确认。这是您的第一个版本：

```
main:
    pushl   %ebp
    movl    %esp, %ebp
    andl    $-16, %esp
    subl    $32, %esp
    movl    $4, 28(%esp)
    movl    $.LC0, %eax
    movl    28(%esp), %edx
    movl    %edx, 4(%esp)
    movl    %eax, (%esp)
    call    printf
    movl    $0, %eax
    leave
    ret 
```

没有调用 log2。编译器已经将其替换为常量 4 ( `movl $4, 28(%esp)`)。

这是您的第二个版本：

```
main:
    pushl   %ebp
    movl    %esp, %ebp
    andl    $-16, %esp
    subl    $48, %esp
    fildl   40(%esp)
    fstpl   (%esp)
    call    log2
    fnstcw  30(%esp)
    movzwl  30(%esp), %eax
    movb    $12, %ah
    movw    %ax, 28(%esp)
    fldcw   28(%esp)
    fistpl  44(%esp)
    fldcw   30(%esp)
    movl    $.LC0, %eax
    movl    44(%esp), %edx
    movl    %edx, 4(%esp)
    movl    %eax, (%esp)
    call    printf
    movl    $0, %eax
    leave
    ret 
```

如您所见`call log2`，此版本中有一个。这就是为什么`-lm`需要第二个版本。

# vb.net - 在文档级自定义中引用来自 Windows 窗体的 Excel 工作表

> ID：15737933
> 
> 赞同：1
> 
> 时间：2013-04-01T05:11:06.217
> 
> 标签：vb.net, visual-studio, excel, vsto, add-in

我想我会尝试学习 VB.net 并从一些 VSTO (VS2012) 开始。我正在尝试使用单独的 Windows 窗体进行 Excel 文档自定义（加载时显示 .show）。我可以在加载文档时打开表单。我在 MSDN 上的文档中找到了很多如何将 Windows 窗体控件放入文档的示例（并弄清楚了如何做到这一点），但是我无法从 Windows 窗体中引用 Excel 文档的某些部分。

因此，例如在名为 Main Control 的 Windows 窗体上，我尝试将此子添加到按钮：

```
Private Sub Button1_Click(sender As Object, e As EventArgs) Handles Button1.Click

    Try
        Dim baba As Sheet1
        baba.Cells(1, 2).Value = "Llaslmasd"
    Catch ex As Exception
        MsgBox(ex.Message)
    End Try
 End Sub 
```

我也试过：

```
 Dim baba As New Sheet1 
```

和

```
 Dim baba As WorkSheet
        baba = Sheet1 
```

如果工作表不是共享成员，或者我应该将其共享，那么引用工作表的正确方法是什么，我该怎么做？

如果我以编程方式尝试插入其他工作簿（非合并工作簿并因此更改工作表索引？），事情会不会中断。

抱歉，如果我的英语错了或者我的问题格式不好，我还在复习例子。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-01T15:03:07.707

这比调用索引要容易得多。在文档级加载项中，工作表将位于 Globals 下，因此您只需完全限定您正在尝试执行的操作。

Globals.Sheet1.Cells(1, 2).Value = "Llaslmasd"

应该管用。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-01T12:59:15.420

我相信最好的方法是从 excel 应用程序中获取工作表。

```
Dim WB as Workbook
WB = Application.Workbooks(IndexOrName) 'By "Application" I mean the Excel Application object.

Dim WS as Worksheet
WS = WB.Worksheets(IndexOrName) 
```

要添加工作表：

```
WB.Worksheets.Add(...) 
```

# c# - 尝试在不指定返回参数的情况下调用存储的函数“dbname”。“functionname”

> ID：15737935
> 
> 赞同：3
> 
> 时间：2013-04-01T05:11:26.350
> 
> 标签：c#, mysql, stored-procedures, stored-functions

我该如何解决这个问题？我缺少我的代码或功能代码吗？

这是我的 C# 代码

```
public int AddDetails(string business, string clerkid, string serverid, string ticket, string tablenumber,
        string sourcecard, string recipientcard, DateTime datesaved, string status)
    {
        CreateConnection();
        int dbId = 0;
        using(cmd = new MySqlCommand())
        {
            cmd.Connection = cn;
            cmd.CommandType = CommandType.StoredProcedure;
            cmd.CommandText = "AddDetails";
            cmd.Parameters.AddWithValue("m_business", business);
            cmd.Parameters.AddWithValue("m_clerkid", clerkid);
            cmd.Parameters.AddWithValue("m_serverid", serverid);
            cmd.Parameters.AddWithValue("m_ticket", ticket);
            cmd.Parameters.AddWithValue("m_tablenumber", tablenumber);
            cmd.Parameters.AddWithValue("m_sourcecard", sourcecard);
            cmd.Parameters.AddWithValue("m_recipientcard", recipientcard);
            cmd.Parameters.AddWithValue("m_datesaved", datesaved);
            cmd.Parameters.AddWithValue("m_status", status);
            cn.Open();
            //dbId = Convert.ToInt32(cmd.LastInsertedId);
            dbId = int.Parse(cmd.ExecuteScalar().ToString());
            //dbId = Convert.ToInt32(cmd.ExecuteNonQuery());
            cn.Close();
        }
        return dbId;
    } 
```

这是我的存储功能

```
 CREATE DEFINER=`root`@`192.168.21.%` FUNCTION `AddDetails`(
m_business VARCHAR(1),
m_clerkid VARCHAR(45),
m_serverid VARCHAR(45),
m_ticket VARCHAR(45),
m_tablenumber VARCHAR(45),
m_sourcecard VARCHAR(45),
m_recipientcard VARCHAR(45),
m_datesaved DATETIME,
m_status VARCHAR(45)
) RETURNS int(11)
    READS SQL DATA
BEGIN
    INSERT INTO `tbl_merchantwarehouse_transaction`
(
`business`,
`clerkid`,
`serverid`,
`ticket`,
`tablenumber`,
`sourcecardnumber`,
`recipientcardnumber`,
`datesaved`,
`status`
)
VALUES(
m_business,
m_clerkid,
m_serverid,
m_ticket,
m_tablenumber,
m_sourcecard,
m_recipientcard,
m_datesaved,
m_status
);

RETURN LAST_INSERT_ID();
END 
```

对我的代码的任何建议、建议/改进将不胜感激。谢谢 :D

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-04-01T05:14:33.060

您应该使用命令指定返回参数，例如：

```
cmd.Parameters.Add("@ireturnvalue", MySqlDbType.Int32);
cmd.Parameters["@ireturnvalue"].Direction = ParameterDirection.ReturnValue; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2020-01-10T09:59:36.923

您不能使用 ExecuteScalar 函数的返回值 - 您需要返回 returnValue 的参数值：

```
public async Task<int> ExecuteIntScalarAsync(string functionName, IEnumerable<MySqlParameter> parameters)
    {
    using (var con = new MySqlConnection({connectionString}))
    {
        await con.OpenAsync();
        MySqlCommand cmd = new MySqlCommand(functionName) { CommandType = System.Data.CommandType.StoredProcedure, Connection = con };

        if (parameters != null)
           foreach (var parameter in parameters)
               cmd.Parameters.Add(parameter);
        var returnValue = new MySqlParameter("returnvalue", MySqlDbType.Int32);
        returnValue.Direction = ParameterDirection.ReturnValue;

        await cmd.ExecuteScalarAsync();
        return (int)returnValue.Value;
    }
} 
```

# php - 寻找一种在 php 中的 2 个队列之间交替的有效方法

> ID：15737938
> 
> 赞同：3
> 
> 时间：2013-04-01T05:11:53.413
> 
> 标签：php, arrays, performance, reference, copying

我编写了以下代码来逐行打印二叉树。这个想法是使用 2 个队列并在它们之间交替。我正在使用 $tmp 变量交换 2 个队列。我认为这不是有效的，因为我正在复制数组。有没有更好的方法在不涉及复制的 php 中执行此操作？谢谢。

Btree：[http ://www.phpkode.com/source/s/binary-tree/binary-tree/btree.class.php](http://www.phpkode.com/source/s/binary-tree/binary-tree/btree.class.php)

```
// use 2 queues to get nodes level by level

$currentQueue = array();
$otherQueue = array();

if (!empty($Root)) {
    array_push($currentQueue, array($Root->getData(), $Root->getLeft(), $Root->getRight()));
}

$level = 0;
while (!empty($currentQueue)) {

echo "Level " . $level . ": ";
// print and pop all values from current queue while pushing children onto the other queue
$row = array();
while ($node = array_shift($currentQueue)) {
    $row[] = $node[0];
    $left = $node[1];
    $right = $node[2];
    if (!empty($left)) {
        $data = $left->getData();
        $l = $left->getLeft();
        $r = $left->getRight();
        array_push($otherQueue, array($data, $l, $r));
    }
    if (!empty($right)) {
        $data = $right->getData();
        $l = $right->getLeft();
        $r = $right->getRight();
        array_push($otherQueue, array($data, $l, $r));
    }
}

echo implode(' ,', $row);

echo "<br>";
// swap stacks
$tmp = $currentQueue;
$currentQueue = $otherQueue;
$otherQueue = $tmp;
$level++;
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-01T05:42:16.990

如果您只想避免数组复制，您可以：

```
$tmp = & $currentQueue;
$currentQueue = & $otherQueue;
$otherQueue = & $tmp; 
```

但是，如果您真的想优化此代码，我建议您从*Knuth*或*Cormen 等人*那里找到一个广度优先搜索算法并在 PHP 中实现它（或找到一个现有的实现）。

还要确保您确实**需要**优化此代码。

# html - 从 JSP 中的包中调用 Java 类

> ID：15737939
> 
> 赞同：0
> 
> 时间：2013-04-01T05:11:57.313
> 
> 标签：html, jsp, lucene

我编写了一个 JSP 文件，该文件从用户那里获取查询并将其传递给 Lucene 索引搜索器。在传递查询时，它还传递了另一个在用户键入查询时记录的参数 city。JSP代码如下：

结果.jsp

```
<%@ page language="java" contentType="text/html; charset=UTF-8" pageEncoding="UTF-8" import="java.util.*,java.io.*,parser.SearchDB,org.apache.lucene.analysis.*" %>
 <!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
  <%! String myQuery; String city; String latitude; String longitude; %>
  <%
      myQuery=request.getParameter("myQuery");
      city=request.getParameter("city");
      latitude=request.getParameter("latitude");
      longitude=request.getParameter("longitude");
      Cookie cookies [] = request.getCookies();
      Cookie myCity=null;
      Cookie myLat=null;
      Cookie myLong=null;
      if(city!=null)
       {
         myCity=new Cookie("city",city);
         myCity.setMaxAge(365*24*60*60);
         response.addCookie(myCity);
         myLat=new Cookie("latitude",latitude);
         myLat.setMaxAge(365*24*60*60);
         response.addCookie(myLat);
         myLong=new Cookie("longitude",longitude);
         myLong.setMaxAge(365*24*60*60);
         response.addCookie(myLong);
       }
    else
       { 
         for (int i = 0; i < cookies.length; i++) 
         {   
               if (cookies[i].getName().equals("city"))
                  {
                    myCity=cookies[i];
                    city=myCity.getValue();
                  }
              else
                if(cookies[i].getName().equals("latitude"))
                 {
                      myLat=cookies[i];
                      latitude=myLat.getValue();
                 }
                else
                  if(cookies[i].getName().equals("longitude"))
                   {
                       myLong=cookies[i];
                       longitude=myLong.getValue();
                   }
             }
    }
  SearchDB s = new SearchDB();
  System.out.println("Query="+myQuery+" and City="+city);
  s.searchdb(myQuery, city);
%>

 <form name="frm" method="post" action="result.jsp">
 <table width="100%" border="0" cellspacing="0" cellpadding="0">
   <tr>
   <td width="22%">&nbsp;</td>
   <td width="78%">&nbsp;</td>
   </tr>
   <tr>
   <td>&nbsp; </td>
   <td><input type="text" name="myQuery" placeholder="Type here"></td>
   </tr>
   <tr>
   <td>&nbsp;</td>
   <td><input type="submit" name="submit" value="Submit"></td>
   </tr>
   <tr>
   <td>&nbsp;</td>
   <td>&nbsp;</td>
   </tr>
   </table>
   </form>
   <html>
   <head>
   <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
   <title>Insert title here</title>
   </head>
   <body>
   <p>Query phrase is : <%=myQuery%></p>
   <p>User's city : <%=city%></p>
   <p>User's latitude : <%=latitude%></p>
   <p>User's longitude : <%=longitude%></p>
   </body>
  </html> 
```

这里 SearchDB 是包含在我上面导入的名为 parser 的包中的类。它基本上接收带有参数 city 的查询并在 Lucene 索引中搜索。

问题是，在服务器上运行此文件**result.jsp**时，它反复给出如下错误：在实例化类 SearchDB 的对象的行中发生异常，除此之外，它显示 rootcause 为**javax.servlet.ServletException： java.lang.NoClassDefFoundError: org/apache/lucene/analysis/Analyzer**虽然我没有在我的 JSP 代码中使用任何 Lucene 类。

我不知道实际上是什么导致了错误。所以我问是否有人可以帮助我找到错误并修复它。谢谢你。

# java - 我如何以一个单一的形式调用由 struts 迭代器生成的多个动作

> ID：15737940
> 
> 赞同：0
> 
> 时间：2013-04-01T05:12:03.087
> 
> 标签：java, jsp, jakarta-ee, struts2

我有一个工单对象列表，我使用 strut 标签在我的 jsp 中显示。该列表工作正常，行正在正确呈现。我需要做的是两个为每一行提供两个功能 -**详细信息**和**更新**

我的 JSP 的一部分...

```
<script type="text/javascript">

function details()
{
    document.forms['ticketForm'].action="viewTicket.do";
    document.forms['ticketForm'].submit();
}

</script>

                       <s:iterator value="ticketList" var="tl">
                        <tr>
                        <!-- The problem form which should call 2 actions -->
                        <s:form id="ticketForm" action="updateTicket" theme="simple">
                        <!-- This hidden field is required in both actions -->
                        <s:hidden name="ticketId" value="%{#tl.id}" />
                        <td valign="top" width="5%"><s:property value="id" /></td>
                        <td valign="top"><s:property value="requesterName" /></td>
                        <td valign="top"><s:property value="guestName" /></td>
                        <input type="button" value="Details" onClick="Javascript:details()" />
                        <s:submit value="Update" />
                          </td>
                          </s:form>
                        </tr>

                        <tr>
                          <td colspan="10"><script language="JavaScript">Rule();</script></td>
                        </tr>
                        </s:iterator> 
```

现在的问题是： 1) UpdateTicket 动作可以正常工作，但**viewTicket 动作**不能正常工作（通过 javascript 呈现的那个）。无论我点击哪一行，它总是调用第 2 行中的工单详细信息。如果我使用 s:submit 而不是第二个操作，则表单的默认操作，即 updateTicket 一直被调用。我怎样才能解决这个问题。

**2) 第1 行**的更新票永远不会起作用。它总是重新加载相同的页面并做一些奇怪的事情。但是，更新票证操作在所有其他行中运行良好。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-01T06:55:46.437

尝试为每个表单分配不同的 id，然后运行应用程序。在 JSP 和 Javascript 上也对您的代码进行以下更改

**JSP 更改**

```
 <s:iterator value="ticketList" var="tl" status="stat">
                        <tr>
                        <!-- The problem form which should call 2 actions -->
                        <s:form id="ticketForm%{#stat.index}" action="updateTicket" theme="simple">
                        <!-- This hidden field is required in both actions -->
                        <s:hidden name="ticketId" value="%{#tl.id}" />
                        <td valign="top" width="5%"><s:property value="id" /></td>
                        <td valign="top"><s:property value="requesterName" /></td>
                        <td valign="top"><s:property value="guestName" /></td>
                        <input type="button" value="Details" onClick="Javascript:details(<s:property value='%{#stat.index}' />)" />
                        <s:submit value="Update" />
                          </td>
                          </s:form>
                        </tr>

                        <tr>
                          <td colspan="10"><script language="JavaScript">Rule();</script></td>
                        </tr>
                        </s:iterator> 
```

**Javascript 更改**

```
function details(index)
{
    document.forms['ticketForm'+index].action="viewTicket.do";
    document.forms['ticketForm'+index].submit();
} 
```

希望这可以帮助 ：）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-01T05:26:35.637

您从哪里读取应该显示详细信息的票证 ID。

我想这是一个，但请记住您使用的是迭代器，并且 id 是一个常量。所以它只能保存一个值，这将是迭代器的最后一个值。尝试从浏览器查看 html 生成源，以查看该字段的值。

解决方法：改为使用[struts 标记](http://struts.apache.org/release/2.0.x/docs/using-tags.html)（用于更新和视图）：

**s：网址**

和

**s：参数**

样本，

```
<s:url action="urlTagAction.action" >
    <s:param name="id">123</s:param>
</s:url> 
```

# objective-c - 我的函数中的 Objective-c 内存泄漏

> ID：15737943
> 
> 赞同：1
> 
> 时间：2013-04-01T05:12:32.567
> 
> 标签：objective-c, memory-leaks

谁能帮我找到以下函数中的内存泄漏

```
-(NSString *)urlEncodeUsingEncoding:(NSStringEncoding)encoding :(NSString *)string {
    return (NSString *)CFURLCreateStringByAddingPercentEscapes(NULL,  (CFStringRef)string,  NULL,  (CFStringRef)@"!*'\"();:@&=+$,/?%#[]% ",  CFStringConvertNSStringEncodingToEncoding(encoding));
} 
```

Instrument 在上述函数的每次调用中都会报告内存泄漏。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-01T05:21:15.663

`CFURLCreateStringByAddingPercentEscapes`在您拥有该对象时添加 +1 保留计数。所以你有责任释放那个对象。所以你需要拥有`CFStringRef`并在使用你的对象之后使用`CFRelease`来释放它。

```
-(NSString *)urlEncodeUsingEncoding:(NSStringEncoding)encoding :(NSString *)string {
    CFStringRef stringRef = CFURLCreateStringByAddingPercentEscapes(NULL,  (CFStringRef)string,  NULL,  (CFStringRef)@"!*'\"();:@&=+$,/?%#[]% ",  CFStringConvertNSStringEncodingToEncoding(encoding));
    NSString *returnString = (NSString*)stringRef;
    CFRelease(stringRef);
    return returnString;
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-01T05:19:21.210

解决方案取决于您是否使用 ARC。

使用 ARC，您可以转让所有权：

```
-(NSString *)urlEncodeUsingEncoding:(NSStringEncoding)encoding :(NSString *)string {
    return (__bridge_transfer NSString *)CFURLCreateStringByAddingPercentEscapes(NULL,  (CFStringRef)string,  NULL,  (CFStringRef)@"!*'\"();:@&=+$,/?%#[]% ",  CFStringConvertNSStringEncodingToEncoding(encoding));
} 
```

使用 MRC，您可以：

```
-(NSString *)urlEncodeUsingEncoding:(NSStringEncoding)encoding :(NSString *)string {
    NSString *result = (NSString *)CFURLCreateStringByAddingPercentEscapes(NULL,  (CFStringRef)string,  NULL,  (CFStringRef)@"!*'\"();:@&=+$,/?%#[]% ",  CFStringConvertNSStringEncodingToEncoding(encoding));

    return [result autorelease];
} 
```

# c# - 如何设置 X 轴值修复 XY 折线图

> ID：15737944
> 
> 赞同：3
> 
> 时间：2013-04-01T05:12:40.557
> 
> 标签：c#, charts

我可以将图表设置到 Excel 中，但是当我使用 c# 绘制图表时，X 轴值没有完美的差距。

就像我设置

```
serie1.Points.AddXY(0.003247884, 16808.99);
serie1.Points.AddXY(0.006495768, 16794.35);
serie1.Points.AddXY(0.009743652, 16783.6);
serie1.Points.AddXY(0.012991540, 16767.22);
serie1.Points.AddXY(0.016239420, 16760.1);
serie1.Points.AddXY(0.019487300, 16748.68);
serie1.Points.AddXY(0.022735190, 16729.46); 
```

我想要 X 系列 1.00000 、 2.00000 、 3.00000 等等......

在 Excel 中，图表是 ![在此处输入图像描述](https://i.stack.imgur.com/TIA5b.png)

但在 C# 桌面应用程序中

![在此处输入图像描述](https://i.stack.imgur.com/fatBl.png)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-01T05:16:40.947

要设置间隔：

```
 chart1.ChartAreas[0].AxisX.Minimum = 0;
 chart1.ChartAreas[0].AxisX.Interval = 0.01; // Whatever you like 
```

要“忽略” X 值并将它们设为 1、2、3、4 等：

```
chart1.Series[0].IsXValueIndexed = true; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-01T12:49:07.053

您的意思是轴间隔应该增加 1 吗？.. 将 AxisX 间隔设置为 1

```
chart1.ChartAreas[0].AxisX.Minimum = 0;    
chart1.ChartAreas[0].AxisX.Interval = 1; 
```

# node.js - 在 NodeJs 的 Sequelize 中 autoIncrement 是如何工作的？

> ID：15737949
> 
> 赞同：41
> 
> 时间：2013-04-01T05:12:56.510
> 
> 标签：node.js, postgresql-9.1, auto-increment, sequelize.js

Sequelize 的文档并没有详细说明`autoIncrement`. 它仅包括以下示例：

```
// autoIncrement can be used to create auto_incrementing integer columns
incrementMe: { type: Sequelize.INTEGER, autoIncrement: true } 
```

基于此示例，我有以下代码：

```
db.define('Entries', {
    id: {
        type: Seq.INTEGER,
        autoIncrement: true,
        primaryKey: true
    },
    title: {
        type: Seq.STRING,
        allowNull: false
    },
    entry: {
        type: Seq.TEXT,
        allowNull: false
    }
} 
```

现在，当我想创建一个条目时，我想做这样的事情：

```
models.Entry.create({title:'first entry', entry:'yada yada yada'}) 
```

但是，当我执行该代码时，我得到一个数据库错误：

> “id”列中的空值违反非空约束

我会假设 Sequelize 会为我输入整数或定义数据库表来自己完成。显然不是？我在这里缺少什么以确保 id 自动递增和填充？

非常感谢。

* * *

## 回答 #1

> 赞同：31
> 
> 时间：2013-04-01T11:52:39.887

通常 Sequelize.js 会适应数据库。所以autoincrement属性对应PostgreSQL中的一个serial类型。

我已经使用过 Sequelize，我记得你不需要将 id 指定为主键。Sequelize 将为您完成。

尝试不添加 id 属性，看看 Sequelize 是否不会为您添加它。

* * *

## 回答 #2

> 赞同：13
> 
> 时间：2013-08-30T06:17:24.123

`omitNull`config 选项默认为 false。将其设置为 true，`id`将由 Postgres 处理：

```
sequelize = new Sequelize('mydb', 'postgres', null, {
  host: 'localhost',
  port: 5432,
  dialect: 'postgres',
  omitNull: true
})

Visitor = sequelize.define('visitor', {
  email: Sequelize.STRING
})

Visitor.create({email: 'foo@bar.com'}) 
```

* * *

## 回答 #3

> 赞同：5
> 
> 时间：2017-10-31T14:22:53.060

如果我在模型中手动添加“id”字段（在这种情况下，Sequelize 不会自动添加它），它对我有用，如下所示：

```
Visitor = sequelize.define('visitor', {
  id: {
        type: Sequelize.INTEGER,
        primaryKey: true,
        autoIncrement: true
  },
  email: Sequelize.STRING
}) 
```

生成的 SQL 命令是：`CREATE TABLE IF NOT EXISTS "visitor" ("id" SERIAL, "email" varchar(255)...`

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2020-06-30T17:54:02.930

在我的情况下，问题是表定义没有更新。如果没有有价值的数据，请尝试删除该表，然后让 Sequelize 重新创建该表。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2021-06-22T08:53:26.133

就我而言，这是因为我指定了`autoincrement: true`而不是`autoIncrement: true`.

如果您仍然遇到问题，值得检查。表需要删除和重建才能正常工作。

# c#-4.0 - AxVLCPlugin2 无法播放视频文件

> ID：15737959
> 
> 赞同：0
> 
> 时间：2013-04-01T05:13:41.153
> 
> 标签：c#-4.0, vlc, libvlc

我正在使用 2 个 vlc 库 AxAXVLC 和 AXVLC。所以我可以在我的 c# winform 应用程序中添加 vlc 控件。在这个应用程序中，我可以通过添加播放列表并调用 tha API 播放来播放 rtsp 视频流。但我无法播放视频文件。下面给出了播放视频流的代码。这是工作。请帮我播放视频文件。

```
axVLCPlugin21.playlist.items.clear();
string Options3 = ":rtsp-caching=250"; //Cache in mS
int stream1 = axVLCPlugin21.playlist.add("rtsp://10.1.114.51:8554/test", axVLCPlugin21, Options3);
axVLCPlugin21.playlist.playItem(stream1); 
```

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-04-01T13:17:23.623

要使用 AVLCPlugin2 播放视频文件，可以使用下面的代码。您唯一需要做的就是将 URI 转换为 AbsoluteUri。

```
var uri = new Uri(@"c:\sample.mp4");
var convertedURI = uri.AbsoluteUri;
axVLCPlugin21.playlist.add(convertedURI);
axVLCPlugin21.playlist.play(); 
```

# android - 仍然出现“无法获取连接工厂客户端”错误

> ID：15737960
> 
> 赞同：1
> 
> 时间：2013-04-01T05:13:43.433
> 
> 标签：android, google-maps, google-maps-android-api-2

04-01 10:17:20.701: E/MapActivity(377): 无法获取连接工厂客户端

我得到的只是灰色瓷砖，地图没有加载。

嘿，我认识的每个人都有很多类似的帖子，我已经彻底浏览过它们。

可以是 Internet 权限（我在 application tag 之前添加了），或者

uses-library android:name="com.google.android.maps" （添加在应用程序标签内）或

这是糟糕的 API 密钥。

这是我之前创建的调试密钥，Google map api v1 正确显示了地图，没有问题。后来当我打开那个项目时，它没有解析 MapActivity、GeoPoint、MapController 等。

所以我创建了另一个调试密钥，我现在在这个项目上使用它，我仔细检查了我在创建 api 时正确地遵循了所有步骤。

这是（我在旧的基础上创建一个新的调试）导致这个问题吗？我应该删除 C:\Users\abc.android 中的 debug.keystore 并调试项目以自动创建一个新的吗？它会解决问题还是会导致我遇到更多问题？

从昨天开始我一直在寻找解决方案我仍然有问题请帮助我。非常感谢你提前如果需要任何代码让我知道我会发布它们。

MActivity.java

```
package com.Aws0mEKCkreaTi0ns.GlobAlpSystracKerKC;

import com.google.android.maps.GeoPoint;
import com.google.android.maps.MapActivity;
import com.google.android.maps.MapController;
import com.google.android.maps.MapView;

import android.os.Bundle;

public class MActivity extends MapActivity {

    MapController mControl;
    GeoPoint GeoP;
    MapView mapV;

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        // TODO Auto-generated method stub
        super.onCreate(savedInstanceState);
        setContentView(R.layout.map);

        mapV =(MapView)findViewById(R.id.mapView);
        mapV.displayZoomControls(true);
        mapV.setBuiltInZoomControls(true);

        double lat = 6.796396;
        double longi = 79.877823;

        mControl = mapV.getController();

        GeoP = new GeoPoint((int)( lat * 1E6 ),(int)( longi * 1E6 ));
        mControl.animateTo(GeoP);
        mControl.setZoom(13);

    }

    @Override
    protected boolean isRouteDisplayed() {
        // TODO Auto-generated method stub
        return false;
    }

} 
```

* * *

地图.xml

```
<?xml version="1.0" encoding="utf-8"?>
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:background="@color/layoutbg"
    android:orientation="vertical" >

   <com.google.android.maps.MapView
        android:id="@+id/mapView"
        android:layout_width="fill_parent"
        android:layout_height="fill_parent"
        android:apiKey="AIzaSyCy32DkrrrrT-UBhoT8xiAW182qUaAqi3s"
        android:enabled="true"
        android:clickable="true" />

</RelativeLayout> 
```

* * *

显现

```
<?xml version="1.0" encoding="utf-8"?>
<manifest xmlns:android="http://schemas.android.com/apk/res/android"
    package="com.Aws0mEKCkreaTi0ns.GlobAlpSystracKerKC"
    android:versionCode="1"
    android:versionName="1.0" >

    <uses-sdk
        android:minSdkVersion="10"
        android:targetSdkVersion="17"/>

     <permission
          android:name="com.Aws0mEKCkreaTi0ns.GlobAlpSystracKerKC.permission.MAPS_RECEIVE"
          android:protectionLevel="signature"/>
        <uses-permission android:name="com.Aws0mEKCkreaTi0ns.GlobAlpSystracKerKC.permission.MAPS_RECEIVE"/>

    <uses-permission android:name="android.permission.INTERNET"/>

    <uses-permission android:name="android.permission.ACCESS_NETWORK_STATE"/>
    <uses-permission android:name="android.permission.WRITE_EXTERNAL_STORAGE"/>
    <uses-permission android:name="com.google.android.providers.gsf.permission.READ_GSERVICES"/>

    <uses-permission android:name="android.permission.ACCESS_COARSE_LOCATION"/>
    <uses-permission android:name="android.permission.ACCESS_FINE_LOCATION"/>

    <uses-feature
        android:glEsVersion="0x00020000"
        android:required="true"/>    

    <application
        android:allowBackup="true"
        android:icon="@drawable/ic_launcher"
        android:label="@string/app_name"
        android:theme="@style/AppTheme" >

        <uses-library android:name="com.google.android.maps" />

        <activity
            android:name="com.Aws0mEKCkreaTi0ns.GlobAlpSystracKerKC.MainActivity"
            android:label="@string/app_name" >
            <intent-filter>
                <action android:name="android.intent.action.MAIN" />

                <category android:name="android.intent.category.LAUNCHER" />
            </intent-filter>
        </activity>

        <activity
            android:name="com.Aws0mEKCkreaTi0ns.GlobAlpSystracKerKC.MenuActivity"
            android:label="@string/app_name" >
            <intent-filter>
                <action android:name="com.Aws0mEKCkreaTi0ns.GlobAlpSystracKerKC.KCLOGO" />

                <category android:name="android.intent.category.DEFAULT" />
            </intent-filter>
        </activity>

        <activity
            android:name="com.Aws0mEKCkreaTi0ns.GlobAlpSystracKerKC.AddFromContactsActivity"
            android:label="@string/app_name" >
            <intent-filter>
                <action android:name="com.Aws0mEKCkreaTi0ns.GlobAlpSystracKerKC.ADDFROMCONTACT" />

                <category android:name="android.intent.category.DEFAULT" />
            </intent-filter>
        </activity>

        <activity
            android:name="com.Aws0mEKCkreaTi0ns.GlobAlpSystracKerKC.MActivity"
            android:label="@string/app_name" >
            <intent-filter>
                <action android:name="com.Aws0mEKCkreaTi0ns.GlobAlpSystracKerKC.MAPS" />

                <category android:name="android.intent.category.DEFAULT" />
            </intent-filter>
        </activity>

        <activity
            android:name="com.Aws0mEKCkreaTi0ns.GlobAlpSystracKerKC.LoginActivity"
            android:label="@string/app_name" >
            <intent-filter>
                <action android:name="com.Aws0mEKCkreaTi0ns.GlobAlpSystracKerKC.LOGIN" />

                <category android:name="android.intent.category.DEFAULT" />
            </intent-filter>
        </activity>

        <activity
            android:name="com.Aws0mEKCkreaTi0ns.GlobAlpSystracKerKC.SignupActivity"
            android:label="@string/app_name" >
            <intent-filter>
                <action android:name="com.Aws0mEKCkreaTi0ns.GlobAlpSystracKerKC.SIGNUP" />

                <category android:name="android.intent.category.DEFAULT" />
            </intent-filter>
        </activity>

        <activity
            android:name="com.Aws0mEKCkreaTi0ns.GlobAlpSystracKerKC.AddToContactsActivity"
            android:label="@string/app_name" >
            <intent-filter>
                <action android:name="com.Aws0mEKCkreaTi0ns.GlobAlpSystracKerKC.ADDTOCONTACTS" />

                <category android:name="android.intent.category.DEFAULT" />
            </intent-filter>
        </activity>

        <meta-data
        android:name="com.google.android.maps.v2.API_KEY"
        android:value="AIzaSyCy32DkrrrrT-UBhoT8xiAW182qUaAqi3s"/>

    </application>

</manifest> 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-01T08:29:10.700

我猜您已经混合了一些 V1 和 V2 功能（例如`<uses-library android:name="com.google.android.maps" />`在清单中使用和使用`GeoPoint`等。（**[https://groups.google.com/forum/?fromgroups=#!topic/android-developers/CGF5X1HMLuY](https://groups.google.com/forum/?fromgroups=#!topic/android-developers/CGF5X1HMLuY)**）

试试下面的示例代码：

MActivity.java

```
 public class MActivity extends FragmentActivity{

private GoogleMap map;
    @Override
    protected void onCreate(Bundle savedInstanceState) {
        // TODO Auto-generated method stub
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_map);

        map = ((SupportMapFragment) getSupportFragmentManager().findFragmentById(R.id.map))
                .getMap();

        double lat = 6.796396;
        double longi = 79.877823;
        final LatLng HAMBURG = new LatLng(lat,longi);
        Marker hamburg = map.addMarker(new MarkerOptions().position(HAMBURG)
                .title("Hamburg"));
        map.moveCamera(CameraUpdateFactory.newLatLngZoom(HAMBURG, 15));

    } 
```

地图.xml

```
 <RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
xmlns:tools="http://schemas.android.com/tools"
android:layout_width="match_parent"
android:layout_height="match_parent"
tools:context=".MapsActivity" >

<fragment
    android:id="@+id/map"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    class="com.google.android.gms.maps.SupportMapFragment" />
  </RelativeLayout> 
```

`<uses-library android:name="com.google.android.maps" />` 从清单中删除。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-02T05:34:16.363

在模拟器上运行 google map v2 有几个步骤，所以我准备了一步一步的教程来展示如何在模拟器（android 4.2.2）上使用 google map android v2 看看我的博客：[http://umut.tekguc .info/en/content/google-android-map-v2-step-step](http://umut.tekguc.info/en/content/google-android-map-v2-step-step)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-02T10:06:49.200

实际上，我一直在添加不同项目的 .jar 文件，[这](https://stackoverflow.com/questions/1334802/how-can-i-use-external-jars-in-an-android-project)有助于我正确地将外部 .jar 添加到项目中。现在我没有收到“未解析的类型”错误。谢谢大家为我指出正确的方向你们真棒。

# android - Android Widget 不会在应用升级时更新

> ID：15737961
> 
> 赞同：6
> 
> 时间：2013-04-01T05:13:44.307
> 
> 标签：android, widget, refresh

我们正在开发新版本的应用程序，其中包括对小部件的 UI 级别更改。新的小部件高度为 3 行，而当前小部件高度为 2 行。现在，当我们升级应用程序时，如果已启用，它不会刷新小部件。

任何人都可以确认我们是否遗漏或忽略了任何可能导致应用程序升级时出现混乱的小部件。我们需要在应用程序升级后立即启用刷新的小部件。

请注意，如果用户在应用升级后删除并再次添加它，则该小部件可以正常工作。

谢谢

# mysql - 按日期限制为一个并按子 ID 分组

> ID：15737963
> 
> 赞同：0
> 
> 时间：2013-04-01T05:14:10.843
> 
> 标签：mysql, group-by, sql-order-by

```
$r=mysql_query("
(
SELECT * 
FROM commentsvv AS dt  
WHERE FIND_IN_SET(id,'$dset')>0
  AND  id2='$uid'
  AND  status_id2='0'
ORDER BY datetimep DESC LIMIT 1)

UNION

(
SELECT * 
FROM commentsvv AS dt
WHERE FIND_IN_SET(id2,'$dsetv')>0
  AND id='$uid'
  AND status_id='0'
ORDER BY datetimep DESC LIMIT 1)
"); 
```

抱歉，我不知道如何正确格式化该查询。需要阅读有关内容，因此其中的内容是为 id 和 id2 检索一个整体结果。我想为每个成员检索一个结果，`$dset`或者`$dsetv`如果它可用，这意味着在第一个查询中按 id 分组，在第二个组中按 id2 并按 datetimep desc 限制 1 排序。不能让它继续。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-01T05:20:34.707

您需要做的是子查询，您不需要查询的另一半，如果您只是请求一条记录，您如何分组或为什么要分组？w3schools.org

# scala - 如何通过 Scala 2.10.1 中的反射获取 ctor 参数类型

> ID：15737968
> 
> 赞同：2
> 
> 时间：2013-04-01T05:14:43.493
> 
> 标签：scala, reflection

我想要做的应该很简单。我认为。我想使用反射来确定案例类构造函数的参数的名称和类型。下面是一个 REPL 交互。您可以跳到调用“paramss”的末尾。我想检查内部列表中的符号或进行模式匹配，以确定“名称”确实是一个字符串，而“年龄”是一个 Int。

我怎么做？

```
scala> case class Person(name: String, age: Int)
defined class Person

scala> import scala.reflect.runtime.universe._
import scala.reflect.runtime.universe._

scala> typeOf[Person]
res0: reflect.runtime.universe.Type = Person

scala> typeTag[Person]
res1: reflect.runtime.universe.TypeTag[Person] = TypeTag[Person]

scala> res1.mirror
res2: reflect.runtime.universe.Mirror = JavaMirror with scala.tools.nsc.interpreter.IMain$TranslatingClassLoader@2daf73a4 of type class scala.tools.nsc.interpreter.IMain$TranslatingClassLoader with classpath [(memory)] and parent being scala.tools.nsc.util.ScalaClassLoader$URLClassLoader@59d12b6a of type class scala.tools.nsc.util.ScalaClassLoader$URLClassLoader with classpath [file:/Library/Java/JavaVirtualMachines/jdk1.7.0_13.jdk/Contents/Home/jre/lib/resources.jar,file:/Library/Java/JavaVirtualMachines/jdk1.7.0_13.jdk/Contents/Home/jre/lib/rt.jar,file:/Library/Java/JavaVirtualMachines/jdk1.7.0_13.jdk/Contents/Home/jre/lib/jsse.jar,file:/Library/Java/JavaVirtualMachines/jdk1.7.0_13.jdk/Contents/Home/jre/lib/jce.jar,file:/Library/Java/JavaVirtualMachines/jdk1.7.0_13.jdk/Contents/Home/j...
scala> res1.tpe
res3: reflect.runtime.universe.Type = Person

scala> res3.typeSymbol.asClass
res4: reflect.runtime.universe.ClassSymbol = class Person

scala> res2.reflectClass(res4)
res5: reflect.runtime.universe.ClassMirror = class mirror for Person (bound to null)

scala> res3.declaration(reflect.runtime.universe.nme.CONSTRUCTOR)
res6: reflect.runtime.universe.Symbol = constructor Person

scala> res6.asMethod
res7: reflect.runtime.universe.MethodSymbol = constructor Person

scala> res7.paramss
res8: List[List[reflect.runtime.universe.Symbol]] = List(List(value name, value age)) 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-01T12:24:42.030

That's how you get a `Type` object representing the type of your constructor parameter:

```
val ctorParamss = typeOf[Person].member(nme.CONSTRUCTOR).asMethod.paramss
val typeOfNameParam: Type = paramss(0)(0).typeSignature 
```

Now that you have that object, you can perform various tests on it:

```
typeOfNameParam =:= typeOf[Int]      // is this type an Int ?
typeOfNameParam <:< typeOf[Number]   // is this type java.lang.Number or its subtype ? 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-01T14:03:59.780

使用[SMirror](http://github.com/fwbrasil/smirror)：

```
scala> import net.fwbrasil.smirror._
import net.fwbrasil.smirror._

scala> implicit val mirror = scala.reflect.runtime.currentMirror
mirror: reflect.runtime.universe.Mirror = JavaMirror with scala.t...

scala> case class Person(name: String, age: Int)
defined class Person

scala> val clazz = sClassOf[Person]
clazz: net.fwbrasil.smirror.SClass[Person] = Person

scala> val ctor = clazz.constructors.head
ctor: net.fwbrasil.smirror.SConstructor[Person] = <init>(name: java.lang.String, age: scala.Int): Person

scala> ctor.parameters
res0: List[ctor.SParameterType] = List(name: java.lang.String, age: scala.Int)

scala> ctor.parameters.head.sClass == sClassOf[String]
res2: Boolean = true 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-01T06:05:16.240

有趣的是你应该问！这正是我现在正在做的事情。

所以，首先，你有参数。因此，您必须处理如何/是否支持多个参数列表。下面是一些坚持只使用一个参数列表的代码，并捕捉到了这一点：

```
val ctorParams  : List[Symbol] = ctorParamss match {
  case Nil => {
println("Warning: Trying to populate a no-arg constructor from a Map. No data will be used.");
Nil;
  }
  case head :: Nil => head;
  case _ => throw new UnsupportedOperationException("Cannot populate a constructor with multiple param lists from a Map.");
} 
```

现在我们需要名称和类型名称：

```
val ctorParamNames = ctorParams.map( _.name.toString.trim );
val ctorParamTypeNames = ctorParams.map( _.typeSignature.baseClasses(0).fullName.toString.trim ); 
```

此刻，我仍在为此努力，但到目前为止，这对我有用。祝你好运！

# javascript - 如何在 JavaScript 中比较两个包含字符串的变量？

> ID：15737974
> 
> 赞同：19
> 
> 时间：2013-04-01T05:15:19.693
> 
> 标签：javascript

我想比较两个变量，即字符串，但出现错误。

```
<script>
    var to_check=$(this).val();
    var cur_string=$("#0").text();
    var to_chk = "that";
    var cur_str= "that";

    if(to_chk==cur_str){
        alert("both are equal");
        $("#0").attr("class","correct");    
    } else {
        alert("both are not equal");
        $("#0").attr("class","incorrect");
    }
</script> 
```

我的 if 语句有问题吗？

* * *

## 回答 #1

> 赞同：20
> 
> 时间：2013-04-01T09:56:19.797

`===`没有必要。你知道这两个值都是字符串，所以你不需要比较类型。

```
function do_check()
{
  var str1 = $("#textbox1").val();
  var str2 = $("#textbox2").val();

  if (str1 == str2)
  {
    $(":text").removeClass("incorrect");
    alert("equal");
  }
  else
  {
    $(":text").addClass("incorrect");
    alert("not equal");
  }
}
```

```
.incorrect
{
  background: #ff8888;
}
```

```
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>

<input id="textbox1" type="text">
<input id="textbox2" type="text">

<button onclick="do_check()">check</button>
```

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2013-04-01T09:40:54.120

而不是使用`==`符号，比较时更安全地使用`===`符号，您发布的代码运行良好

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2017-10-03T05:39:43.050

我使用下面的函数来比较两个字符串，它工作得很好。

```
function CompareUserId (first, second)
{

   var regex = new RegExp('^' + first+ '$', 'i');
   if (regex.test(second)) 
   {
        return true;
   }
   else 
   {
        return false;
   }
   return false;
} 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2019-03-03T18:11:31.233

您可以使用 javascript 专用字符串比较方法**string1.localeCompare(string2)**。如果字符串不等于，它将为您**-1 ，如果字符串相等，则为****0**，如果 string1 在 string2 之后排序，则为**1 。**

```
<script>
    var to_check=$(this).val();
    var cur_string=$("#0").text();
    var to_chk = "that";
    var cur_str= "that";
    if(to_chk.localeCompare(cur_str) == 0){
        alert("both are equal");
        $("#0").attr("class","correct");    
    } else {
        alert("both are not equal");
        $("#0").attr("class","incorrect");
    }
</script> 
```

# list - 通过额外的参数煎茶触摸

> ID：15737975
> 
> 赞同：0
> 
> 时间：2013-04-01T05:15:20.463
> 
> 标签：list, sencha-touch-2, param, extra

我是 Sencha touch 的新手。请在下面查看我的代码。

模型.js

```
 Ext.define('bluebutton.model.BlueButton.MemberList', {
    extend: 'Ext.data.Model',
    config: {
        idProperty: 'memberlistModel',
        fields: [
            {  name :'memberId'},
            {  name: 'fullName' },
            {  name: 'phone' },
            {  name: 'age' },
            {  name: 'point' },
            {  name :'address'},
            {  name: 'emailAddress' },
            {  name: 'lastVisited'  },
            {  name: 'consumer_bbID'  },
            {  name: 'merchant_bbID'  },
            {  name: 'sessionId'  },
            {  name: 'deviceId'  },
            {  name: 'currentPoint'  },
        ],

        proxy: {
            type: 'rest',
//           url: 'http://192.168.251.131:8080/WebCommon/rest/BBWebService/getMembersList',

             url: 'http://mixsoloffice.no-ip.biz:82/WebCommon/rest/BBWebService/getMembersList',
//                  url: 'http://192.168.251.182:8080/WebCommon/rest/BBWebService/getMembersList',

            reader: 'json',
            actionMethods: {
                create: 'POST',
                read: 'GET',
                update: 'PUT',
                destroy: 'DELETE'
            },

                      noCache: false, // get rid of the '_dc' url parameter

                    extraParams: {
                        sessionId: "1",
                        deviceId: "1",
                        merchant_bbID: "merchant1",

                    // add as many as you need
                },

//            timeout:1000,
//            listeners: {
//                exception: function(proxy, response, operation) {
//                     alert("Connection Problem");
//                       Ext.Viewport.setMasked(false); // hide the load screen
//                       
//                  }
//               },

            reader: {
                type: 'json',
                rootProperty: 'membersList'

            },

            writer: {
                type: 'json',

            },
        }

    }

}); 
```

Store.js

```
Ext.define('bluebutton.store.BlueButton.MemberList', {
    extend: 'Ext.data.Store',
   requires: [
              'bluebutton.model.BlueButton.MemberList'
    ],

    config: {
        grouper: {
            groupFn: function (record) {
                return record.get('fullName')[0];
            }
        },

           model :'bluebutton.model.BlueButton.MemberList',
           storeId :'memberStore',
            autoLoad: true,
            clearOnPageLoad: false,  // This is true by default
            pageSize: 10,

    }
}); 
```

List.js

```
 Ext.define('bluebutton.view.BlueButton.MemberList', {
    extend: 'Ext.List',
    xtype: 'memberlistcard',
    requires: [
        'Ext.field.Select',
        'Ext.field.Search',

         'Ext.plugin.ListPaging',
        'Ext.plugin.PullRefresh',

    ],
    config: {

   styleHtmlContent: true,
        scrollable: 'vertical',

        singleSelect: true,

        grouped: true,
        variableHeights : false,
           store : { xclass : 'bluebutton.store.BlueButton.MemberList'},
            itemHeight :100,
        loadingText : 'loading',
        id :'memberlist',

            masked: {
                xtype: 'loadmask',
                message: 'loading...'
            }, // masked
       plugins: [

//                            { xclass: 'Ext.plugin.PullRefresh',
//                                pullRefreshText: 'Pull down for more updates!',
//                                refreshFn:function(loaded, arguments){
//                                 
//                                    var store = Ext.getCmp('transactionlist').getStore();    
//                                    alert(store.getValue());

////                                    var transactionlist = Ext.getCmp('transactionlist');    
////                                   
////                                    transactionlist.setStore(store);

//                                }
//                             
//                    
//                            },

//                          { 
//                               xclass: 'Ext.plugin.ListPaging',
////                                 autoPaging: true,
//                              
//                                 
//                        
//                        },
                ],
        id :'memberlist',
        emptyText: '<p class="no-search-results">No member record found matching that search</p>',
        itemTpl: Ext.create(
            'Ext.XTemplate',
            '<div class="tweet-wrapper">',
                '<table>',
                    '<tr>',
                        '<td rowspan="2" width="28%" >',
//                        '<div style="padding-left: 30px;">',
//                        '   <img src="{imgUrl}" width="140" height="130" /></div>',
                        '</td>',
                        '<td>',
                        '   <div class="tweet">',
                        '       <h3>{consumer_bbID}</h3>',
                         '      <h3>Name: {fullName}</h3>',
                        '       <h3>Point Avalaible : {currentPoint} , Last Visited : {lastVisited}</h3>',

                        '   </div>',
                        '</td>',
                    '</tr>',
                '</table>',
            '</div>'

        ),

    },

}); 
```

我需要在列表渲染之前分配额外的参数值。我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-01T13:52:40.963

您可以从 Model 中取出 Proxy 并将其设置为存储在其初始化方法中。当您创建列表时，首先创建商店并专门在列表中设置商店。

检查一下：[在 Sencha Touch 2 中使用不同的代理存储动态定义和加载视图，](https://stackoverflow.com/questions/15633976/dynamically-define-and-load-views-with-different-proxy-store-in-sencha-touch-2/15651558#15651558)以了解如何在初始化期间在存储中设置自定义代理。

# jquery - 数据表工具提示在第二页中不起作用。仅适用于第一页

> ID：15737976
> 
> 赞同：6
> 
> 时间：2013-04-01T05:15:20.670
> 
> 标签：jquery, tooltip, datatables

我遇到了一些奇怪的问题，工具提示仅在第 1 页上工作。如果我单击下一页，我看不到任何工具提示。

我正在使用 jquery 数据表。我的示例代码在 jsfiddle 中：http: [//jsfiddle.net/agorur/3r54F/](http://jsfiddle.net/agorur/3r54F/)

有任何想法吗 ？

```
var data = {
    "sEcho": 1,
        "iTotalRecords": 6416,
        "iTotalDisplayRecords": 5,
        "aaData": [{
        "0": 421367,
            "1": "Test1",
            "2": "NEW",
            "3": "Default",
            "4": "18 Aug 2011 20:27:12 GMT",
            "5": "TestBench",
            "6": "NA"
    }, {
        "0": 421368,
            "1": "Test2",
            "2": "NEW",
            "3": "Default",
            "4": "18 Aug 2011 20:27:12 GMT",
            "5": "TestBench",
            "6": "NA"
    }, {
        "0": 421369,
            "1": "Test3",
            "2": "NEW",
            "3": "Default",
            "4": "18 Aug 2011 20:27:12 GMT",
            "5": "TestBench",
            "6": "NA"
    }, {
        "0": 421370,
            "1": "Test4",
            "2": "NEW",
            "3": "Default",
            "4": "18 Aug 2011 20:27:13 GMT",
            "5": "TestBench",
            "6": "NA"
    }, {
        "0": 421371,
            "1": "Test5",
            "2": "NEW",
            "3": "Default",
            "4": "18 Aug 2011 20:27:13 GMT",
            "5": "TestBench",
            "6": "NA"
    },{
                     "0": 421372,
            "1": "Test1",
            "2": "NEW",
            "3": "Default",
            "4": "18 Aug 2011 20:27:12 GMT",
            "5": "TestBench",
            "6": "NA"
    }, {
        "0": 421373,
            "1": "Test2",
            "2": "NEW",
            "3": "Default",
            "4": "18 Aug 2011 20:27:12 GMT",
            "5": "TestBench",
            "6": "NA"
    }, {
        "0": 421374,
            "1": "Test3",
            "2": "NEW",
            "3": "Default",
            "4": "18 Aug 2011 20:27:12 GMT",
            "5": "TestBench",
            "6": "NA"
    }, {
        "0": 421375,
            "1": "Test4",
            "2": "NEW",
            "3": "Default",
            "4": "18 Aug 2011 20:27:13 GMT",
            "5": "TestBench",
            "6": "NA"
    }, {
        "0": 421376,
            "1": "Test5",
            "2": "NEW",
            "3": "Default",
            "4": "18 Aug 2011 20:27:13 GMT",
            "5": "TestBench",
            "6": "NA"
    },
                  {
        "0": 421377,
            "1": "Test4",
            "2": "NEW",
            "3": "Default",
            "4": "18 Aug 2011 20:27:13 GMT",
            "5": "TestBench",
            "6": "NA"
    }, {
        "0": 421378,
            "1": "Test5",
            "2": "NEW",
            "3": "Default",
            "4": "18 Aug 2011 20:27:13 GMT",
            "5": "TestBench",
            "6": "NA"
    }]
};

$(document).ready(function () {
    $('#events').dataTable({
        "bProcessing": true,
            "aaData": data.aaData,
            "bJQueryUI": true,
            "sPaginationType": "full_numbers",
            "aoColumns": [{
            "mData": "0"
        }, {
            "mData": "1"
        }, {
            "mData": "2"
        }, {
            "mData": "3"
        }, {
            "mData": "4"
        }, {
            "mData": "5"
        }, {
            "mData": "6"
        }, ]
    });

    $("#events tbody tr").each(function () {
        this.setAttribute('title', 'ToolTip');
    });
}); 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-04-01T05:28:06.100

> 如果我单击下一页，我看不到任何工具提示。

那是因为您在 document.ready 函数中设置了 title 属性...所以这适用于`<tr>`文档准备就绪时在文档中找到的所有内容，而不适用于按下下一步时出现的其他页面中的内容。 ..

一种解决方法是创建一个函数并在 document.ready 和 next click 中调用它......（虽然不是一种有效的方式..）（你可能也需要这个来进行 prev click）

试试这个

```
function toolTip() {
  $("#events tbody tr").each(function () {
    this.setAttribute('title', 'Ajay');
  });
}

$(document).ready(function () {
   ...
   toolTip(); //<--- call this when document is ready so it gets all tr
   $('.next').click(function () {
    toolTip();  //and in next click which gets for next tr
   });
}); 
```

[在这里提琴](http://jsfiddle.net/bipen/3r54F/2/)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2016-09-13T14:24:40.287

更好的解决方案

将此代码包含在您的数据表中

```
"drawCallback": function( settings ) {

                            toolTipShow(); // your tootlip function.

                        }, 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2018-06-18T16:34:52.820

每次重绘表格时初始化工具提示。

```
$('#your-datatable-id').on('draw.dt', function() {
     $('[data-toggle="tooltip"]').tooltip(); // Or your function for tooltips
}); 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-08-27T15:23:35.810

我知道这有点晚了，但我刚刚遇到了类似的问题，这就是我的解决方案适用于您的案例的方式。

DataTables 有一个 $ 函数，它的工作方式与常规的 jQuery $ 函数类似，只是它仅限于该数据表实例。[http://datatables.net/api](http://datatables.net/api)要选择数据表实例的每一行，你会做`$('#id').dataTable().$('tr');`

使用它，每次用户单击下一步时，都会分配一次标题属性。它也适用于数据表的所有页面。

对于您的实现，它会像这样工作：（[jsFiddle](http://jsfiddle.net/XwuHF/)）

```
$(document).ready(function () {
    $('#events').dataTable({
        "bProcessing": true,
            "aaData": data.aaData,
            "bJQueryUI": true,
            "sPaginationType": "full_numbers",
            "aoColumns": [{
            "mData": "0"
        }, {
            "mData": "1"
        }, {
            "mData": "2"
        }, {
            "mData": "3"
        }, {
            "mData": "4"
        }, {
            "mData": "5"
        }, {
            "mData": "6"
        }, ]
    }).$("tr").each(function () {
        this.setAttribute('title', 'Ajay');
    });
}); 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2014-06-25T13:35:05.827

只需在您的 js 文件或脚本中添加以下代码。

$("a[rel='tooltip']").tooltip();

但不要将它包含在 document.ready() 函数中

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2018-11-08T03:56:32.323

通过 Bootstrap 工具提示解决了同样的问题，

```
"drawCallback": function (oSettings) {
                var api = this.api();
                api.rows( { page: 'current' } ).every( function () {
                    var rowData = this.data();
                    var sTitle = "Modified Count: " + rowData.ModifiedCount;
                    $(api.cell(this.index(), 1).node()).find('a').attr('title', sTitle).tooltip({ container: 'body' });
                } );
            } 
```

下面的代码还显示了工具提示，但对于第一行它是不可见的

```
$(api.cell(this.index(), 1).node()).attr('title', sTitle).tooltip({ container: 'body' }); 
```

所以我在第二个单元格中添加了工具提示也`<a>`解决了上述问题。

```
$(api.cell(this.index(), 1).node()).find('a').attr('title', sTitle).tooltip({ container: 'body' }); 
```

笔记：`api.cell(this.index(), 1) adds tooltip to 2nd cell`

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2021-11-26T17:00:37.503

我检查了数据表的分页按钮共有的类，并在 jquery 中创建了一个函数来在单击事件时启动引导工具提示。按钮的类是'paginate_button'。

所以

```
 $(document).on('click', 'a.paginate_button', function() {
            $('[data-toggle="tooltip"]').tooltip();
        })
```

文档加载后在主脚本的根目录中

# android - 从 sqlite DB 发送和删除记录

> ID：15737982
> 
> 赞同：1
> 
> 时间：2013-04-01T05:15:46.013
> 
> 标签：android, android-sqlite

我想将记录从数据库发送到服务器，然后将其删除。这是我在服务中发送和删除的代码。

```
 DBAdapter db=new DBAdapter(this);
        db.open();
        Cursor cursor=db.getAllData();
        if(cursor.moveToFirst())
        {
            do{
                jObject = new JSONObject();
                jObject.put("Imei", cursor.getString(1));
                jObject.put("Lat", cursor.getString(2));
                jObject.put("Long", cursor.getString(3));
                jObject.put("Gpsdatetime", cursor.getString(4));
                jObject.put("Speed", cursor.getString(5));
                jObject.put("Altitude",cursor.getString(6));
                jObject.put("Battery", cursor.getString(7));
                //jArray.put(jObject);

                String datatoServer = jObject.toString()+"\n";
                      Toast.makeText(getApplicationContext(),datatoServer, Toast.LENGTH_LONG).show();

                HttpEntity entity;
                HttpClient client = new DefaultHttpClient();
                String url = "http://url";
                HttpPost request = new HttpPost(url);
                StringEntity se = new StringEntity(datatoServer);
                se.setContentEncoding("UTF-8");
                se.setContentEncoding(new BasicHeader(HTTP.CONTENT_TYPE,
                    "application/json"));
                entity = se;
                request.setEntity(entity);
                HttpResponse response = client.execute(request);
                entity = response.getEntity();
                db.deleteContacts(1);
            }while(cursor.moveToNext());
        }//if
        db.close(); 
```

我对删除功能感到困惑。数据已正确发送到服务器，但仅删除第一行。

这是我的 DBHelper 类中的删除函数。它以 rowid 作为参数。

```
public boolean deleteContacts(long rowId)
{
    return db.delete(DATABASE_TABLE, KEY_ROWID+"="+rowId, null)>0;
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-01T05:38:20.570

```
 db.deleteContacts(1); 
```

问题是在这里您将 1 作为参数发送给您的方法。所以它总是寻找具有 1 的那个`rowId`

用于`cursor.getLong(columnIndex)` 获取长值

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-01T05:50:11.787

尝试这个，

```
 context.deleteDatabase(DATABASE_NAME); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-01T05:32:43.123

如果`db.deleteContacts(1);`删除第一行，那么您可以在`do...while()`循环中放置一个 int 变量，并在每次迭代时为其提供 1 的增量。然后执行`db.deleteContacts(your_var)`.

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-01T05:46:25.083

假设您的`db.getAllData()`方法选择所有列（包括列`id``，更改...

```
db.deleteContacts(1); 
```

至...

```
db.deleteContacts(cursor.getLong(cursor.getColumnIndex(KEY_ROWID))); 
```

永远不要假设任何给定的列数据位于任何固定列索引 - 使用列名查找索引。

# jquery - 触发 jquery 事件一次

> ID：15737984
> 
> 赞同：1
> 
> 时间：2013-04-01T05:16:05.140
> 
> 标签：jquery

因此，每次用户滚动页面以加载更多帖子时都会触发。

它用

```
$("#next-paginav")[0].click(); 
```

因为它是一个锚点，它正在“点击”。

```
$(document).ready(function() {
    $(document).scroll(function (e) { 

        var intBottomMargin = 300; 

        if ($(window).scrollTop() >= $('main-content').height() - $(window).height() - intBottomMargin) {

             setTimeout(function(){ $("#next-paginav")[0].click(); }, 800);
        }

    });
}); 
```

Dipesh 的代码，我无法开始工作。

```
$(document).ready(function() {
    $(document).scroll(function (e) { 

        var intBottomMargin = 300; 

        if ($(window).scrollTop() >= $('main-content').height() - $(window).height() - intBottomMargin) {

             setTimeout(function(){ 
             $("#next-paginav")[0].one('click',function() {  });

              }, 800);

        }

    });
}); 
```

问题是它触发得太快了，甚至在帖子加载之前触发了两三四次。这会导致各种问题，除了它会在实时服务器上发出如此多的请求之外，有时它会跳过过帖子。有没有办法只触发一次？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-01T05:18:42.777

您可以使用`.one()`jQuery 处理程序..

> **描述：**将处理程序附加到元素的事件。每个元素最多执行一次处理程序。

**[`Official Document`](http://api.jquery.com/one/)**

**例子**

```
$("#next-paginav")[0].one('click',function() {  }); 
```

您也可以使用`.off()`处理程序。

**例子**

```
$("#next-paginav")[0].click(function(){
  $(this).off(event);
}); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-01T06:21:41.457

```
$(document).ready(function() {
    var timeout = '';
    $(window).scroll(function (e) { 
        var intBottomMargin = 300; 
        clearTimeout(timeout);
        if ($(window).scrollTop() >= $('main-content').height() - $(window).height() - intBottomMargin) {
          timeout = setTimeout(function(){ 
                $("#next-paginav")[0].click(); 
          }, 800);
        }
    });
}); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-01T05:18:00.110

试试这个

```
 $("#next-paginav")[0].one('click',function (e) { 
```

或者你可以试试“live”

```
 $("#next-paginav")[0].live('click',function (e) { 
```

从jquer1.7开始，不推荐使用“live”方法，您可以使用“on”方法，例如

```
 $("#next-paginav")[0].on('click',function (e) { 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-01T05:21:05.677

我的假设是，如果已经有计划加载，那么您不想再次触发加载。

您可以使用基于标志的解决方案

```
$(document).ready(function() {

    var intBottomMargin = 300;

    $(document).scroll(function(e) {
        if (clickFlag) {
            return;
        }

        clickFlag = true;

        if ($(window).scrollTop() >= $('main-content').height()
                - $(window).height() - intBottomMargin) {

            setTimeout(function() {
                        $("#next-paginav")[0].click();
                    }, 800);
        }

    });
});

var clickFlag = false;
function myClickHandler() {
    $.ajax({}).always(function() {
                clickFlag = false;
            })
} 
```

# javascript - 难以将 JSON 解析为 HTML，结果未定义？

> ID：15737987
> 
> 赞同：0
> 
> 时间：2013-04-01T05:16:32.090
> 
> 标签：javascript, html, json

我正在尝试使用 getJSON 和 YQL 解析 YAHOO 数据

连接运行良好，我检索了可以查看的数据并将其记录到控制台，但是我无法将数据打印到我正在使用的 JSP 页面中。我已经使用了这里接受的答案：

[http://jsbin.com/umuri5/1/edit](http://jsbin.com/umuri5/1/edit)

收效甚微。这是我的 JSP：

```
<%@page import="p.build.classes.p.*"%>

<!DOCTYPE JSP>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"> 
<title>untitled</title>
<style type="text/css">
    body { text-align: center; }
</style>
</head>
<body onLoad="gova();">

<div id="container">

</div>
<table id="userdata" border="1">
    <thead>
        <th>Change</th>
    </thead>
    <tbody></tbody>
</table>

<script id="userTemplate" type="text/x-jquery-tmpl">
    <tr>
        <td>${Change}</td>
    </tr>
</script>

<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.4.3/jquery.min.js"    type="text/javascript" charset="utf-8"></script>   
<script src="https://raw.github.com/jquery/jquery-tmpl/master/jquery.tmpl.min.js" type="text/javascript" charset="utf-8"></script> 
<script src="scripts/script.js"></script>
<script type="text/javascript">
function gova() {
requestCrossDomainJSON(
    'yahoo.finance.quote',
    function(results) {
        var i, t = $('#userTemplate'), tbody = $('#userdata tbody');
      // console.log(data.query.results);

        for (var i = 0; i < results.userdata.length; i++) {
            t.tmpl(results.userdata[i]).appendTo(tbody);
        }
    }
);
return false;
}
</script>
</body>
</html> 
```

这是我的脚本 script.js：

```
function requestCrossDomainJSON( site, callback ) {  

  if ( !site ) {  
    alert('No site was passed.');  
    return false;  
  }  

var yql = 'http://query.yahooapis.com/v1/public/yql?q=select%20Change%20from%20' + site + '%20where%20symbol%20in%20(%22YHOO%22)&format=json&diagnostics=true&env=store%3A%2F%2Fdatatables.org%2Falltableswithkeys&callback=?';  

// Request that YSQL string, and run a callback function.  
// Pass a defined function to prevent cache-busting.

function cbfunc(data) {
    console.log(data);
      // If we have something to work with...
      if ( ! data.error && data.query.results) {
          // If the user passed a callback, and it
          // is a function, call it, and send through the data var.
          if ( typeof callback === 'function') {
              callback(data.query.results.json);

          }

      }
      // Else, Maybe we requested a site that doesn't exist, and nothing returned.
      else throw new Error('Nothing returned from getJSON.');

  }
  // Request that YQL string, and run a callback function.
  // Pass a defined function to prevent cache-busting.
  $.getJSON( yql, cbfunc );

 //    console.log(data.query.results);

 }; 
```

错误发生在以下行：

```
 for (var i = 0; i < results.userdata.length; i++) {
            t.tmpl(results.userdata[i]).appendTo(tbody);
        } 
```

控制台说它无法读取未定义的属性用户数据。由于 JQuery 模板已贬值，我是否应该使用更好的方法将此数据导入我的页面？如果这仍然是我遇到的问题的有效解决方案，如果调用 JSON 的结果在提供的功能。我也尝试过使用 HTML 文件代替 JSP。

先感谢您。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-01T05:57:23.080

[您发出请求的 URL](http://query.yahooapis.com/v1/public/yql?q=select%20Change%20from%20yahoo.finance.quote%20where%20symbol%20in%20%28%22YHOO%22%29&format=json&env=store://datatables.org/alltableswithkeys)的`results`响应部分返回：

```
results: {
     quote: {
          Change: "-0.061"
     }
} 
```

你期待这个吗？

如果是这样，您将想要抓取`data.query.results['quote']['Change']`或`data.query.results.quote.Change`而不是尝试传递`data.query.results.json`给回调然后查看`results.userdata`

# python - 在没有会话超时的情况下制作 Pyramid 应用程序

> ID：15737993
> 
> 赞同：1
> 
> 时间：2013-04-01T05:17:18.803
> 
> 标签：python, apache, session, mod-wsgi, pyramid

我正在使用 mod_wsgi 制作一个在 apache 网络服务器中运行的金字塔网络应用程序。无论如何我可以让用户会话永远不会超时？（这个想法是，一旦用户登录，系统将永远不会将他们踢出，除非他们自己注销）。我在 apache、mod_wsgi 或金字塔文档中找不到任何关于此的信息。谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-03T04:30:33.640

这完全取决于您使用的身份验证策略。默认`AuthTktAuthenticationPolicy`设置在浏览器中的 cookie（默认情况下）不会过期。同样，这取决于您如何跟踪经过身份验证的用户。

# java - Android-错误膨胀类片段

> ID：15737998
> 
> 赞同：2
> 
> 时间：2013-04-01T05:18:16.370
> 
> 标签：java, android, google-maps

我正在开发一个简单的应用程序，它可以播放音乐并显示谷歌地图。当我尝试将地图放在主要活动中时，我得到“错误膨胀类片段”。

```
 protected void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.activity_main);

    Log.d(MainActivity.LOG_TAG, "activity started");

    gmap = ((MapFragment)getFragmentManager().findFragmentById(R.id.fragment1)).getMap();

    music = new MusicServiceWrapper(this);

} 
```

这是布局文件的一部分

```
<fragment
    android:id="@+id/fragment1"
    android:name="com.google.android.gms.maps.MapFragment"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:layout_alignBottom="@+id/linearLayout1"
    android:layout_alignLeft="@+id/linearLayout2" /> 
```

关于我为什么会收到此错误的任何想法？

编辑：我将包含一些来自 LogCat 的错误（第 132 行是指我给出的 xml 片段的第一行）

```
04-01 01:43:35.972: E/Trace(625): error opening trace file: No such file or directory (2)
04-01 01:43:36.572: D/AndroidRuntime(625): Shutting down VM
04-01 01:43:36.572: W/dalvikvm(625): threadid=1: thread exiting with uncaught exception (group=0x40a13300)
04-01 01:43:36.582: E/AndroidRuntime(625): FATAL EXCEPTION: main
04-01 01:43:36.582: E/AndroidRuntime(625): java.lang.RuntimeException: Unable to start activity ComponentInfo{net.kenpowers.gea/net.kenpowers.gea.MainActivity}: android.view.InflateException: Binary XML file line #132: Error inflating class fragment
04-01 01:43:36.582: E/AndroidRuntime(625):  at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2059)
04-01 01:43:36.582: E/AndroidRuntime(625):  at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2084)
04-01 01:43:36.582: E/AndroidRuntime(625):  at android.app.ActivityThread.access$600(ActivityThread.java:130)
04-01 01:43:36.582: E/AndroidRuntime(625):  at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1195)
04-01 01:43:36.582: E/AndroidRuntime(625):  at android.os.Handler.dispatchMessage(Handler.java:99)
04-01 01:43:36.582: E/AndroidRuntime(625):  at android.os.Looper.loop(Looper.java:137)
04-01 01:43:36.582: E/AndroidRuntime(625):  at android.app.ActivityThread.main(ActivityThread.java:4745)
04-01 01:43:36.582: E/AndroidRuntime(625):  at java.lang.reflect.Method.invokeNative(Native Method)
04-01 01:43:36.582: E/AndroidRuntime(625):  at java.lang.reflect.Method.invoke(Method.java:511)
04-01 01:43:36.582: E/AndroidRuntime(625):  at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:786)
04-01 01:43:36.582: E/AndroidRuntime(625):  at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:553)
04-01 01:43:36.582: E/AndroidRuntime(625):  at dalvik.system.NativeStart.main(Native Method)
04-01 01:43:36.582: E/AndroidRuntime(625): Caused by: android.view.InflateException: Binary XML file line #132: Error inflating class fragment
04-01 01:43:36.582: E/AndroidRuntime(625):  at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:704)
04-01 01:43:36.582: E/AndroidRuntime(625):  at android.view.LayoutInflater.rInflate(LayoutInflater.java:746) 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-01T05:25:14.850

确保使用

```
import android.support.v4.app.Fragment; 
```

并且还要确保使用片段的 Activity 扩展了 FragmentActivity 而不是常规的 Activity，

```
import android.support.v4.app.FragmentActivity; 
```

获取 FragmentActivity 类。

我认为您的片段 XML 文件应该是这样的

```
<fragment
class="google.android.gms.maps.MapFragment"
android:id="@+id/fragment1"
android:name="com.yourapp.frag"
android:layout_width="wrap_content"
android:layout_height="wrap_content"
android:layout_alignBottom="@+id/linearLayout1"
android:layout_alignLeft="@+id/linearLayout2" /> 
```

您是否在清单中添加了 Maps API 密钥？

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-01T06:06:30.037

试试这个，在 XML 中，

```
<fragment
    xmlns:android="http://schemas.android.com/apk/res/android"
    android:id="@+id/fragment1"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    class="com.google.android.gms.maps.SupportMapFragment"
 /> 
```

在 Java 中

```
public class MainActivity extends android.support.v4.app.FragmentActivity{

GoogleMap gmap;  
protected void onCreate(Bundle savedInstanceState) {
super.onCreate(savedInstanceState);
setContentView(R.layout.activity_main);

Log.d(MainActivity.LOG_TAG, "activity started");

gmap = ((SupportMapFragment)getSupportFragmentManager().findFragmentById(R.id.fragment1)).getMap();

   }
} 
```