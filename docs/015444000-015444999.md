# StackOverflow 问答 15444000-15444999

# python - Paypal Rest API - 使用 paypal 账户支付资源创建支付

> ID：15444002
> 
> 赞同：1
> 
> 时间：2013-03-16T00:05:37.073
> 
> 标签：python, django, paypal

使用 python 和 django，我正在尝试使用 REST API 帐户支付资源在贝宝上创建支付。当我使用 curl 时一切正常。在 Django 视图中，我得到了令牌，但是当我尝试使用它进行付款时，我收到“HTTP Error 401: Unauthorized”错误。

这是我的卷曲有效：

```
curl -v https://api.sandbox.paypal.com/v1/payments/payment -H 'Content-Type:application/json' -H 'Authorization:Bearer ***my_token***' -d '{ "intent":"sale", "redirect_urls":{ "return_url":"http://www.myurl.com", "cancel_url":"http://www.myurl.com"}, "payer":{ "payment_method":"paypal" },"transactions":[{"amount":{ "total":"0.10", "currency":"USD"},"description":"This is the Test payment transaction description."}]}' 
```

这是我的 Django 视图，在以下情况下出现问题：

```
import urllib2, base64

token = "***my_token***"
values = {
          "intent":"sale",
          "redirect_urls":{
            "return_url":"http://www.myurl.com",
            "cancel_url":"http://www.myurl.com"
          },
          "payer":{
            "payment_method":"paypal"
          },
          "transactions":[
            {
              "amount":{
                "total":"0.10",
                "currency":"USD"
              },
              "description":"This is the Test payment transaction description."
            }
          ]}

data = urllib.urlencode(values)

request1 = urllib2.Request("https://api.sandbox.paypal.com/v1/payments/payment")
base64string = base64.encodestring('%s' % token).replace('\n', '')
request1.add_header("Content-Type", "application/json")
request1.add_header("Authorization", "Bearer %s" % base64string) 

result1 = urllib2.urlopen(request1 , data)
response = result1.read() 
```

换句话说，我试图让 curl 在我看来工作。

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-10-03T05:33:46.380

不确定您是否遇到与我相同的情况，但我试图为我未正确请求许可的第三方贝宝帐户创建付款。原来我需要使用 Permissions API 来请求适当的权限。

请参阅此链接：[https ://developer.paypal.com/webapps/developer/docs/classic/permissions-service/integration-guide/PermissionsAbout/](https://developer.paypal.com/webapps/developer/docs/classic/permissions-service/integration-guide/PermissionsAbout/)

* * *

## 回答 #2

> 赞同：-2
> 
> 时间：2013-03-16T04:17:19.260

首先`https://api.sandbox.paypal.com/v1/oauth2/token`使用基本身份验证请求获取 Bearer 令牌，然后使用 Bearer 令牌进行 REST 调用（`https://api.sandbox.paypal.com/v1/payments/payment`）。

[https://developer.paypal.com/webapps/developer/docs/integration/direct/make-your-first-call/](https://developer.paypal.com/webapps/developer/docs/integration/direct/make-your-first-call/)

使用 PayPal SDK [paypalrestsdk](https://pypi.python.org/pypi/paypalrestsdk)来简化您的 Python 代码。

1.  [https://github.com/paypal/rest-api-sdk-python](https://github.com/paypal/rest-api-sdk-python) - 自述文件
2.  [https://github.com/paypal/rest-api-sdk-python/tree/master/samples](https://github.com/paypal/rest-api-sdk-python/tree/master/samples) - 样本

# java - Urdu (UTF-8) data using MySQL and JSP

> ID：15444012
> 
> 赞同：1
> 
> 时间：2013-03-16T00:06:42.893
> 
> 标签：java, javascript, html, mysql, eclipse

This problem is little bit odd. All UTF-8 requirement of MYSQL and JSP are fully justified in my code. I have two simple files input.jsp (for taking input) and NewFile.jsp (for retrieving input from database). The database QASKU.production is already created and loaded with UTF8 data and is working fine. The problem is with retrieved data through select statement but not always. When I use this statement

```
ResultSet rs = stmt.executeQuery("select * from QASKU.production"); 
```

All the data is retrieved and displayed perfectly.

but when I use these statements:

```
ResultSet rs = stmt.executeQuery("SELECT * FROM QASKU.production WHERE rhs LIKE '" + sent + "' ORDER BY prob DESC"); 
```

or

```
String query = "select * from QASKU.production WHERE rhs = ?";
PreparedStatement pstmt = con.prepareStatement( query );
pstmt.setString( 1, sent );
ResultSet rs = pstmt.executeQuery( ); 
```

The data is retrieved and displayed perfectly but it depends on the input which I gave to this file NewFile.jsp from file input.jsp.

The data in the database is looking like this:

> ADJ|اسسٹنٹ|0.001222
> 
> ADJ|اسلامی|0.01956
> 
> ADJP|ADJ ADJ|0.098214
> 
> ADJP |ADJ ADJ.DEG|0.044643

So, when I gave ADJ as input value, the output displayed via NewFile.jsp is perfect.

Now, when I gave, for example, "اسسٹنٹ" as input value, the select statement did not fetch any result set from the database and it will remain empty which is a problem even the record for "اسسٹنٹ" exists in the database.

I don't think this is a problem with MySQL or JSP. I think the problem lies within the select statement, but I'm not sure.

My code file are here as below:

input.JSP

```
 <!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
    <html>
    <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" >
    <title>QASKU URDU PARSER</title>

    <script type="text/javascript" >
    var ids = [];
    var blurfocus = function(id){
          document.getElementById(id).onfocus = function(){
        if(!ids[id]){ ids[id] = { id : id, val : this.value, active : false }; }
        if(this.value == ids[id].val){
          this.value = "";
        }
          };
          document.getElementById(id).onblur = function(){
        if(this.value == ""){
          this.value = ids[id].val;
        }
      }
    }

    function checkSubmit(e)
    {
       if(e && e.keyCode == 13)
       {
          document.forms[0].submit();
       }
    }
    </script>

    </head>
    <body>
    <form name="myform" action="NewFile.jsp" method="post" enctype="application/x-www-form-    urlencoded" >

       <div align="center" onKeyPress="return checkSubmit(event)">

    <h4>QASKU URDU PARSER</h4><br>
    <h5>Type sentence using Urdu/Arabic script only and then press the 'Parse' button below</h5><br>

    <textarea cols="100" rows="5" style="text-align: right" name="mytextarea" id="message" >Type here</textarea>
    <script type="text/javascript" >
    blurfocus("message");
    </script>

    <br><br>
    <input type="submit" value="Parse" >

    </div>

    </form>
    </body>
    </html> 
```

and then the second file NewFile.jsp as below:

```
<%@ page language="java" contentType="text/html; charset=UTF-8" pageEncoding="UTF-8"%>
<%@ page import="java.sql.*" %>
<%@ page import="java.io.*" %>
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Insert title here</title>
</head>
<body>
<%
try
{
String sent=request.getParameter("mytextarea");
 out.println(sent);

Statement stmt;
Connection con;
String url = "jdbc:mysql://localhost:3306/";
Class.forName("com.mysql.jdbc.Driver");
con = DriverManager.getConnection(url, "root", ""); 
//stmt = con.createStatement();
stmt = con.createStatement(ResultSet.TYPE_SCROLL_INSENSITIVE,ResultSet.CONCUR_UPDATABLE);
//out.println(con.getMetaData().getDatabaseProductVersion());
//stmt.executeUpdate("DROP DATABASE QASKU");
//out.println("Deleted");
//stmt.executeUpdate("CREATE DATABASE QASKU CHARACTER SET utf8 COLLATE utf8_general_ci");
//stmt.executeUpdate("CREATE TABLE QASKU.production(lhs varchar(50) NOT NULL, rhs varchar(200) NOT NULL, prob double NOT NULL) CHARACTER SET utf8 COLLATE utf8_general_ci");
//stmt.executeUpdate("LOAD DATA LOCAL INFILE '/QAS/JSP/myfirst/WebContent/PCFG.utf' INTO TABLE QASKU.production CHARACTER SET utf8  LINES TERMINATED BY '\r' ");

//ResultSet rs = stmt.executeQuery("SELECT USER(),CHARSET(USER()),COLLATION(USER())");
//ResultSet rs = stmt.executeQuery("select * from QASKU.production");
ResultSet rs = stmt.executeQuery("SELECT * FROM QASKU.production WHERE rhs LIKE '" + sent + "' ORDER BY prob DESC");

//String query = "select * from QASKU.production WHERE rhs = ?";
//PreparedStatement pstmt = con.prepareStatement( query );
//pstmt.setString( 1, sent );
//ResultSet rs = pstmt.executeQuery( );

if(rs != null)
{
%>  
    <table align=center border="1" bgcolor="green" width="75%">
    <col width="25">
    <col width="25">
    <col width="25">
    <tr>
        <th align=left>LHS</th>
        <th align=left>RHS</th>
        <th align=left>PROBABILITIES</th>
    </tr>
<%

    while(rs.next())
    {
        out.println("<tr><td align=left>"+rs.getString(1)+"</td>");
        out.println("<td align=left>"+rs.getString(2)+"</td>");
        out.println("<td align=left>"+rs.getDouble(3)+"</td></tr>");    
    }
}
else
{
    out.println("Result Set is Emptry");
}

%>
    </table>
<%

con.close();
}
catch(Exception e)
{
out.println(e);
}
/*
try
    {
        BufferedReader reader = new BufferedReader(new FileReader("/QAS/JSP/myfirst/WebContent/PCFG.utf"));
        String text = "";
        while ((text = reader.readLine()) != null) 
            {
                out.println(text);
            }
    }
    catch(Exception e)
    {}
 */
%>

</body>
</html> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-16T01:27:31.427

I don't know Urdu, but you probably should add %% in your `LIKE`.

Something like this:

```
ResultSet rs = stmt.executeQuery("SELECT * FROM QASKU.production WHERE rhs LIKE '%" + sent + "%' ORDER BY prob DESC"); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-16T22:24:09.363

Finally, I solved my problem after 24 hours. The problem is related to some other statement as follows:

```
String sent=request.getParameter("mytextarea"); 
```

This statement is retrieving values from input.jsp page via post method. This statement is no doubt available in jsp by default but its origin is Java Servlets. By default it takes values from the page in ASCII depends upon the two defined methods 'get' and 'post'. So, here 'post' method was used in input.jsp, due to which the values retrieved has different format in servlets. you can read in some jsp tutorial. I solved this problem by embedding the two files input.jsp and newfile.jsp into one file, and then remove some information from the following line:

```
<form name="myform" action="NewFile.jsp" method="post" enctype="application/x-www-form-urlencoded" > 
```

and transformed into this simple form:

```
<form name="myform" method="get" > 
```

now the following statement is taking values directly from the same page and not sending data to servlets:

```
String sent=request.getParameter("mytextarea"); 
```

This is not a big solution, but at least it is now working perfectly for Urdu language means utf8 character. So, the final conclusion is the bug of retrieving ASCII values from MySQL and not retrieving utf8 values from MySQL database has a problem with this statement and not with others.

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-21T14:02:25.310

The perfect solution is to add following string URIEncoding="UTF-8" in of /conf/server.xml file located in Servers directory of your project in eclipse for tomcat. Then all the encoding/decoding will be automatically. Short but perfect solution

```
<Connector URIEncoding="UTF-8" ...........> 
```

This is the best solution ever have and now pray for me.

# c# - 在 C# 或 Java 中计算日期范围差异

> ID：15444016
> 
> 赞同：-1
> 
> 时间：2013-03-16T00:07:21.527
> 
> 标签：c#, java, date, datetime

我有 A 和 B 的日期范围，如下所示 d1,d2...d3 是实际日期，我需要在输出中获取由 A 覆盖但不由 B 覆盖的日期范围。我正在考虑创建一个函数来收集 A 和 B 的日期范围数组，然后将 A 与 B 的每个范围进行比较并评估差异。我的问题是，有没有更好的方法来做到这一点，是否有一个函数可以返回给定日期范围对的日期范围差异。

```
|d1-------------d6|    |d9----------d14|    |d16----------------d21|  **Line For A
    |d5--------------d10|   |d12----d14|       |d17-----------d20|   |d25-------d30| **Line For B

Output:
d1  d5
d10 d12
d16 d17
d20 d21 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-16T00:29:44.577

在 c# 中使用日期时间。我不知道Java中是否有等价物

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-16T00:44:24.973

我认为[`TimeSpan`](http://msdn.microsoft.com/en-us/library/system.timespan.aspx)这就是你想要的：

```
DateTime d1 = DateTime.Now;
DateTime d2 = DateTime.Now.AddDays(-1);

TimeSpan t = d1 - d2;
int mins = t.TotalMinutes;  //what ever you want, Years, Months, Days, Hrs, Mins, Seconds 
```

在 Java 中，等效的是[如何计算 Java 中的时间跨度并格式化输出？](https://stackoverflow.com/questions/635935/how-can-i-calculate-a-time-span-in-java-and-format-the-output)

# node.js - 尝试运行 grunt 时找不到模块“findup-sync”

> ID：15444020
> 
> 赞同：38
> 
> 时间：2013-03-16T00:08:00.597
> 
> 标签：node.js, gruntjs

安装后运行有问题`grunt-cli`。我跑

```
npm install -g grunt-cli 
```

然后运行 ​​grunt 错误

```
 node.js:63
    throw e;
    ^
Error: Cannot find module 'findup-sync'
    at loadModule (node.js:275:15)
    at require (node.js:411:14)
    at Object.<anonymous> (/home/tmartin/bin/grunt:9:14)
    at Module._compile (node.js:462:23)
    at Module._loadScriptSync (node.js:469:10)
    at Module.loadSync (node.js:338:12)
    at Object.runMain (node.js:522:24)
    at Array.<anonymous> (node.js:756:12)
    at EventEmitter._tickCallback (node.js:55:22)
    at node.js:773:9 
```

这是我安装的：

```
tmartin@timcomp:~$ npm list -g
/home/tmartin/lib
└─┬ grunt-cli@0.1.6
  ├─┬ findup-sync@0.1.2
  │ ├─┬ glob@3.1.21
  │ │ ├── graceful-fs@1.2.0
  │ │ ├── inherits@1.0.0
  │ │ └─┬ minimatch@0.2.11
  │ │   ├── lru-cache@2.2.2
  │ │   └── sigmund@1.0.0
  │ └── lodash@1.0.1
  └─┬ nopt@1.0.10
    └── abbrev@1.0.4 
```

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2014-01-14T06:06:52.783

我必须安装并链接 findup-sync 和其他一些 npm 包才能消除这些依赖问题。我虽然应该 npm 为我们处理它们，但是手动安装依赖项使问题消失了。

`npm install findup-sync -g`

`npm link findup-sync`

* * *

## 回答 #2

> 赞同：13
> 
> 时间：2014-10-20T07:34:29.090

我让我的再次运行，在全球和我的仓库中重新安装 grunt-cli。

`npm install -g grunt-cli`

`cd myrepo`

`npm install grunt-cli`

我认为优胜美地的安装破坏了我文件中的一些东西......

* * *

## 回答 #3

> 赞同：6
> 
> 时间：2014-02-16T16:28:40.543

这是因为 npm 没有为 /usr/lib/node_modules/grunt-cli 中的子目录 node_modules 设置正确的权限。就我而言，我有：

```
drwxr-x--- 6 nobody root 4096 16 févr. 17:08 node_modules 
```

当以非 root 用户身份运行 grunt 时，由于读取此目录的权限被拒绝，我遇到了同样的错误（找不到模块 'findup-sync'）。

解决方案是使用 chmod 修复权限：chmod a+rx node_modules。

但实际上，所有目录都涉及。最好的方法是：

```
find /usr/lib/node_modules/grunt-cli -type d -exec chmod a+rx {} \; 
```

这可能是一个分发错误（我使用 Archlinux）。

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2015-06-23T21:59:38.443

这可能看起来很简单，但如果其他人不确定是否存在权限问题，请尝试运行`sudo grunt`然后从那里开始。

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2020-01-21T20:16:36.513

我使用 NVM 并且每当我更改活动节点版本时都会遇到这个问题。

遵循@davidcondrey 的建议对我有用。*真正的问题是在 grunt之前*安装 grunt-cli 。该命令产生了影响并修复了它。

```
npm i -g grunt-cli grunt 
```

@inostia 使用*sudo*测试权限的答案是可以的，但是文件权限让我很头疼，因为所有 grunt 处理的文件后来都无法被 git 访问并破坏了我的版本控制。

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2019-03-29T15:59:43.663

我可以通过使用以下命令重新安装 Grunt 来解决此问题：

```
sudo npm remove -g grunt-cli
sudo npm install -g grunt-cli 
```

* * *

## 回答 #7

> 赞同：1
> 
> 时间：2019-02-16T23:53:08.713

这也可能很明显，但在我的情况下，我已经在我的主目录（在 chromebook 上）设置了我的 npm 路径，并且需要将 .node_modules 添加到我的 .profile
`PATH=~./node_modules:$PATH`
然后运行：
`source ~/.profile`

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2021-11-05T01:24:57.110

我通过运行解决了这个问题：

```
npm install -gg grunt-cli --force 
```

* * *

## 回答 #9

> 赞同：0
> 
> 时间：2019-08-14T12:58:30.133

如果您更改`NodeJS`版本，则会出现此问题。

更改节点版本后，重新安装`grunt`或`npm install`将解决问题。

* * *

## 回答 #10

> 赞同：0
> 
> 时间：2020-04-20T03:22:18.467

尝试了上面的所有答案，如果不使用 sudo 我就无法工作

终于看到[这篇 Wordpress 文章](https://joekuan.wordpress.com/2015/03/23/issue-on-running-grunt-error-cannot-find-module-findup-sync/)并删除了指向`/usr/local/lib/node_modules/grunt/bin/grunt`

```
lrwxrwxrwx 1 root root 35 Apr 19 22:45 /usr/local/bin/grunt -> ../lib/node_modules/grunt/bin/grunt 
```

使用`sudo rm /usr/local/bin/grunt`

然后我链接到 /usr/local/lib/node_modules/grunt-cli/bin 中的 grunt 可执行文件

使用`sudo ln -s /usr/local/lib/node_modules/grunt-cli/bin/grunt /usr/local/bin/grunt`

现在，我可以在不使用 sudo 的情况下运行 grunt

# android - Android 上的同步框架抛出 SocketTimeoutException

> ID：15444022
> 
> 赞同：0
> 
> 时间：2013-03-16T00:08:21.140
> 
> 标签：android, microsoft-sync-framework

我即将创建一个 Android 测试客户端，它尝试与运行 MS Sync Framework 的服务器同步。
我配置了数据库并创建了必要的 WCF 文件，在浏览器中，我的服务似乎还可以。当我运行它的诊断方法时，它看起来还不错。

诊断测试结果注释
同步框架运行时：通过无
连接到 SQL Server_通过无
数据库配置_通过无
批处理文件夹存在？：不适用批处理未启用。
对批处理文件夹的写入权限 不适用：批处理未启用。
ClientAccessPolicy.xml/CrossDomain.xml 文件：失败找不到 clientaccesspolicy.xml 或 crossdomain.xml 文件。从另一个域调用服务的 Silverlight 客户端将无法成功发出请求。

Service ConfigurationSetting 配置值
范围名称：wcfscope
默认冲突解决：ClientWins
默认序列化格式：ODataJson
详细错误响应：true
批处理目录：BATCHING_NOT_ENABLED
下载批处理大小 BATCHING_NOT_ENABLED

我下载了唯一可用的 Android 示例：[http](http://selvinlistsyncsample.codeplex.com/documentation)
://selvinlistsyncsample.codeplex.com/documentation 并进行了相应修改。经过几个小时的磨难，我的 Android 项目编译成功。当我运行应用程序时，我得到以下异常。调用是这样的：
Uri uri = MyProviderClass.getSyncUri("WCFScopeSyncService", "WCFScope");
ContentResolver res = context.getContentResolver();
int result = res.update(uri, null, null, null);
在服务器端，日志中没有错误。我应该检查什么？

```
03-15 23:47:19.600: E/pl.selvin.android.syncframework.content.BaseContentProvider(30302): IOException<br>
03-15 23:47:19.600: E/pl.selvin.android.syncframework.content.BaseContentProvider(30302): java.net.SocketTimeoutException<br>
03-15 23:47:19.600: E/pl.selvin.android.syncframework.content.BaseContentProvider(30302):   at java.net.PlainSocketImpl.read(PlainSocketImpl.java:491)<br>
03-15 23:47:19.600: E/pl.selvin.android.syncframework.content.BaseContentProvider(30302):   at java.net.PlainSocketImpl.access$000(PlainSocketImpl.java:46)<br>
03-15 23:47:19.600: E/pl.selvin.android.syncframework.content.BaseContentProvider(30302):   at java.net.PlainSocketImpl$PlainSocketInputStream.read(PlainSocketImpl.java:240)<br>
03-15 23:47:19.600: E/pl.selvin.android.syncframework.content.BaseContentProvider(30302):   at org.apache.http.impl.io.AbstractSessionInputBuffer.fillBuffer(AbstractSessionInputBuffer.java:103)<br>
03-15 23:47:19.600: E/pl.selvin.android.syncframework.content.BaseContentProvider(30302):   at org.apache.http.impl.io.AbstractSessionInputBuffer.readLine(AbstractSessionInputBuffer.java:191)<br>
03-15 23:47:19.600: E/pl.selvin.android.syncframework.content.BaseContentProvider(30302):   at org.apache.http.impl.conn.DefaultResponseParser.parseHead(DefaultResponseParser.java:82)<br>
03-15 23:47:19.600: E/pl.selvin.android.syncframework.content.BaseContentProvider(30302):   at org.apache.http.impl.io.AbstractMessageParser.parse(AbstractMessageParser.java:174)<br>
03-15 23:47:19.600: E/pl.selvin.android.syncframework.content.BaseContentProvider(30302):   at org.apache.http.impl.AbstractHttpClientConnection.receiveResponseHeader(AbstractHttpClientConnection.java:180)<br>
03-15 23:47:19.600: E/pl.selvin.android.syncframework.content.BaseContentProvider(30302):   at org.apache.http.impl.conn.DefaultClientConnection.receiveResponseHeader(DefaultClientConnection.java:235)<br>
03-15 23:47:19.600: E/pl.selvin.android.syncframework.content.BaseContentProvider(30302):   at org.apache.http.impl.conn.AbstractClientConnAdapter.receiveResponseHeader(AbstractClientConnAdapter.java:259)<br>
03-15 23:47:19.600: E/pl.selvin.android.syncframework.content.BaseContentProvider(30302):   at org.apache.http.protocol.HttpRequestExecutor.doReceiveResponse(HttpRequestExecutor.java:279)<br>
03-15 23:47:19.600: E/pl.selvin.android.syncframework.content.BaseContentProvider(30302):   at org.apache.http.protocol.HttpRequestExecutor.execute(HttpRequestExecutor.java:121)<br>
03-15 23:47:19.600: E/pl.selvin.android.syncframework.content.BaseContentProvider(30302):   at org.apache.http.impl.client.DefaultRequestDirector.execute(DefaultRequestDirector.java:428)<br>
03-15 23:47:19.600: E/pl.selvin.android.syncframework.content.BaseContentProvider(30302):   at org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:555)<br>
03-15 23:47:19.600: E/pl.selvin.android.syncframework.content.BaseContentProvider(30302):   at org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:487)<br>
03-15 23:47:19.600: E/pl.selvin.android.syncframework.content.BaseContentProvider(30302):   at org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:465)<br>
03-15 23:47:19.600: E/pl.selvin.android.syncframework.content.BaseContentProvider(30302):   at pl.selvin.android.syncframework.content.BaseContentProvider.Sync(BaseContentProvider.java:726)<br>
03-15 23:47:19.600: E/pl.selvin.android.syncframework.content.BaseContentProvider(30302):   at pl.selvin.android.syncframework.content.BaseContentProvider.update(BaseContentProvider.java:517)<br>
03-15 23:47:19.600: E/pl.selvin.android.syncframework.content.BaseContentProvider(30302):   at android.content.ContentProvider$Transport.update(ContentProvider.java:235)<br>
03-15 23:47:19.600: E/pl.selvin.android.syncframework.content.BaseContentProvider(30302):   at android.content.ContentResolver.update(ContentResolver.java:990)<br>
03-15 23:47:19.600: E/pl.selvin.android.syncframework.content.BaseContentProvider(30302):   at com.example.testandroid.AsyncSync.doInBackground(AsyncSync.java:25)<br>
03-15 23:47:19.600: E/pl.selvin.android.syncframework.content.BaseContentProvider(30302):   at android.os.AsyncTask$2.call(AsyncTask.java:287)<br>
03-15 23:47:19.600: E/pl.selvin.android.syncframework.content.BaseContentProvider(30302):   at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:305)<br>
03-15 23:47:19.600: E/pl.selvin.android.syncframework.content.BaseContentProvider(30302):   at java.util.concurrent.FutureTask.run(FutureTask.java:137)<br>
03-15 23:47:19.600: E/pl.selvin.android.syncframework.content.BaseContentProvider(30302):   at android.os.AsyncTask$SerialExecutor$1.run(AsyncTask.java:230)<br>
03-15 23:47:19.600: E/pl.selvin.android.syncframework.content.BaseContentProvider(30302):   at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1076)<br>
03-15 23:47:19.600: E/pl.selvin.android.syncframework.content.BaseContentProvider(30302):   at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:569)<br>
03-15 23:47:19.600: E/pl.selvin.android.syncframework.content.BaseContentProvider(30302):   at java.lang.Thread.run(Thread.java:856)<br> 
```

# objective-c - isMemberOfClass 与静态库链接两次

> ID：15444023
> 
> 赞同：1
> 
> 时间：2013-03-16T00:08:29.367
> 
> 标签：objective-c, static-libraries, nsbundle, quartz-composer

我正在为[Quartz Composer](https://developer.apple.com/library/mac/#documentation/graphicsimaging/conceptual/quartzcomposer/qc_intro/qc_intro.html)开发几个插件，它们都链接到在 bundles frameworks 文件夹中为每个插件复制的**同一个自定义静态库。**插件可以单独使用，所以我必须在每个插件中分发库。

一切顺利，除了**isMemberOfClass**和**isKindOfClass**方法。[我在这里](https://stackoverflow.com/questions/12712144/ismemberofclass-doesnt-work-as-expected-with-ocunit)读到导入两次相同的类可能是问题的根源。

我在编译时没有错误。

假设我有 2 个插件 (NSBundles)，其中包含 lib XCode 项目并在链接到它之前对其进行编译。他们都将 lib 复制到其资源文件夹中。然后，他们都从该库中实例化一个自定义*hOzPolygon2D*类。

第一个插件使用 isMemberOfClass 方法返回 true 以测试*hOzPolygon2D*对象。第二个返回假。isKindOfCLass 方法返回相同的“错误”。

在我的情况下，我无法想象一个解决方案。我真的不是编译专业人士，非常感谢一些帮助。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-16T00:52:01.337

您应该单独分发静态库（可能作为它自己的框架）。从问题标题中，我假设您从链接器中看到重复的符号错误。如果您将同一个静态库静态链接到多个其他库，然后尝试将应用程序链接到多个这些库，您一定会看到这些重复符号问题。我实际上并没有在框架上尝试过这个，但是我通过将 iOS 应用程序与相互依赖的静态库链接起来知道这个问题。

您不必担心模块可以单独使用。只要确保您的用户也可以获得基本库。这是正常情况。例如 AppKit 和 UIKit 依赖于 Foundation，但它们实际上都不包含 Foundation 的*副本*。

# javascript - 将对象差异添加到“正确”位置

> ID：15444024
> 
> 赞同：0
> 
> 时间：2013-03-16T00:09:03.580
> 
> 标签：javascript, jquery, performance

我的服务器有一个差异对象，需要将其合并到本地表示中。所以我需要一种方法来在原始表示中添加当前未定义的对象部分。

例子：

```
// The serverresponse
{
  "PRIVATE": {
      "SCREENS": {
          "WORKSPACE": {
              "POSTS": {
                  "1363391397125": {
                      "TGT": "1363390641817",
                      "ACN": "position",
                      "TO": [
                          57.1875,
                          69.21182266009852
                      ]
                  }
              }
          }
      }
  }
}

// This part is similar to my local representation
{
  "PRIVATE": {
      "SCREENS": {
          "WORKSPACE": {
              "POSTS": {}
           }
       }
}

// So I want to insert this part of the given data at same position inside the local data
{
  "1363391397125": {
                    "TGT": "1363390641817",
                    "ACN": "position",
                    "TO": [
                          57.1875,
                          69.21182266009852
                      ]
                  }
} 
```

有很多不同的部分要插入，所以我正在寻找一种替代方案来迭代我将拥有的每种情况。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-16T00:13:11.530

看到您添加了 jQuery 标签，您可以使用 jQuery 的[**extend()**](http://api.jquery.com/jquery.extend/)方法，类似于以下内容：

```
// The serverresponse
var x = {
    "PRIVATE": {
        "SCREENS": {
            "WORKSPACE": {
                "POSTS": {
                    "1363391397125": {
                        "TGT": "1363390641817",
                            "ACN": "position",
                            "TO": [
                        57.1875,
                        69.21182266009852]
                    }
                }
            }
        }
    }
};

// This part is similar to my local representation
var y = {
    "PRIVATE": {
        "SCREENS": {
            "WORKSPACE": {
                "POSTS": {}
            }
        }
    }
};

// merges x into y
$.extend(y, x); 

// use $.extend(x, y); if you intended it to be the other way around. 
```

* * *

DEMO -`$.extend()`用于合并对象。

* * *

# java - Java，URLConnection 类，超时行为

> ID：15444034
> 
> 赞同：2
> 
> 时间：2013-03-16T00:10:36.963
> 
> 标签：java, urlconnection

我正在开发一个 android/java 应用程序中的组件，负责（当前）将 GET 请求发送到远程服务器。我的代码基于此示例：

[HTTP 客户端模板。](http://www.xyzws.com/Javafaq/how-to-use-httpurlconnection-post-data-to-web-server/139)

[我已经使用了URLConnection](http://docs.oracle.com/javase/7/docs/api/java/net/URLConnection.html)类中的方法 setConnectTimeout() 和 setReadTimeout()对我有利，但是我对它们的影响缺乏完全理解，现在说我为这两个方法指定了 10 秒的值：

1.  这是否意味着它应该在 10 秒无法启动连接后放弃？如果连接打开并处于活动状态，则永远不会超时？
2.  还是在通话后 10 秒后放弃？即使说连接实际上是在 2 秒后成功启动，并且在接下来的 8 秒内无法完成所有数据传输？
3.  或者它甚至是另一个不同的情况？

此外，连接尝试超时的概念很明确，但是接收超时是如何发生的呢？因为据我所知，即使在您调用接收之前，操作系统也会自动接收发送给您的数据并将其保存在本地缓冲区中，因为数据实际上可以在您调用代码之前发送给您，因此操作系统所做的一切都是为了保证数据不会丢失。

那么我的接收超时值是否传递给操作系统以使其处理内容？

转发谢谢，我希望我在这个问题上做得很好。

# objective-c - NSDateFormater 奇怪的行为

> ID：15444035
> 
> 赞同：2
> 
> 时间：2013-03-16T00:10:57.813
> 
> 标签：objective-c

我的带有 iOS5 的 iPhone 4 和带有 iOS6 的 iPhone5 的时区设置为纽约，我想解析一个日期字符串，如“Mar 15, 07:25PM EDT”，然后重新格式化并显示时间，如“07:25PM”，在iOS5，它总是更改为 EST，然后在日光生效时错过一个小时。

下面的代码将演示这个问题。

```
NSDateFormatter* formater= [[NSDateFormatter alloc] init];
[formater setDateFormat:@"MMM d, hh:mma z"];
NSDate * date = [NSDate date];
NSString * strDate = [formater stringFromDate:date];
NSLog(@"%@", strDate);
// Output  "Mar 15, 07:25PM EDT" on iPhone5(iOS6) and iPhone4 (iOS5)

date = [formater dateFromString:strDate];
strDate = [formater stringFromDate:date];
NSLog(@"%@", strDate);
// Output Mar 15, 07:25PM EST on iPhone5(iOS6)
// Output Mar 15, 06:25PM EST on iPhone4 (iOS5) 
```

我还尝试使用“EDT”明确设置时区，但没有帮助。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-16T04:27:07.473

在执行日期到字符串的转换之前尝试设置 NSDateFormatter 的语言环境，如下所示：

```
NSDateFormatter *formatter = [[NSDateFormatter alloc] init];
formatter.locale = [NSLocale currentLocale]; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-16T00:21:45.337

尝试这个

更改`timeZoneWithAbbreviation`EST 或 CDT。

```
NSDate* today = [NSDate date];

NSTimeZone* cSTTimeZone = [NSTimeZone timeZoneWithAbbreviation:@"CDT"];
NSTimeZone* destinationTimeZone = [NSTimeZone systemTimeZone];

NSInteger sourceGMTOffset = [cSTTimeZone secondsFromGMTForDate:today];
NSInteger destinationGMTOffset = [destinationTimeZone secondsFromGMTForDate:today];
NSTimeInterval interval = destinationGMTOffset - sourceGMTOffset;
NSDate* destinationDate = [[NSDate alloc] initWithTimeInterval:interval sinceDate:today];
NSDateFormatter* formaters= [[NSDateFormatter alloc] init];
[formaters setDateFormat:@"MMM d, hh:mma z"];
NSString * strDates = [formaters stringFromDate:destinationDate];
NSLog(@"%@", strDates); 
```

# vba - Word VBA - 将大量基于文本的键与数据匹配。嵌入式资源/文本？

> ID：15444042
> 
> 赞同：0
> 
> 时间：2013-03-16T00:11:29.390
> 
> 标签：vba, ms-word, hashmap, embed, embedded-resource

我有一个非常复杂的 Word 编写的 VBA 插件，它使用 XML 输入自动为我创建一个报告，循环通过报告中的 X 对象来创建输出。它当前嵌入到 Word 模板文件 .DOCM 中。

我需要根据 XML 中的项目名称在报告中插入一个静态文本列表。例如，在我的 XML 中，我有名称为 BLAH1、BLAH2、BLAH3 的条目。每次看到BLAH1都需要和静态的INSERT1匹配，BLAH2和INSERT2匹配等等。

这似乎很简单，但问题在于她......

看起来 VBA 中没有 Hashmap 不需要外部库，我不能真正依赖它，因为我无法在运行它的机器上安装项目。因此，据我所知，我无法将此参考数据存储在 Hashmap 中。

我似乎无法在不达到 VBA 最大值的情况下将超过 20 行的字符串连接在一起，并且只解析我需要的文本块，因为我的参考数据中有大约 1500 条“行”，大大超过了 20 .

我还没有找到一种方法来嵌入文本或任何其他类型的文件以在文件中保存此信息，然后解析数据。

我真的希望将所有内容都包含在单个模板文件中，而无需将其他文本或其他文件与文档捆绑在一起。如果没有其他选择，我会走那条路，但我想看看 Stackoverflow 的人们可能首先有什么创意 ;-)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-01T10:15:18.930

您是否考虑过使用 Word 的文档变量？它们是不可见地存储在文档中的名称/值对。(ActiveDocument.Variables("BLAH1").Value = "INSERT1" 创建一个， debug.print ActiveDocument.Variables("BLAH1").Value 检索一个值（您必须使用错误处理程序来检测不存在的索引如果你走那条路）。Word 可以存储（至少）数十万个这样的东西）。

# java - 为什么我的 TextViews 被移动了？

> ID：15444043
> 
> 赞同：1
> 
> 时间：2013-03-16T00:12:02.570
> 
> 标签：java, android, android-layout, textview, android-xml

我试图在用户单击一个项目后显示一个列表项。但是，我注意到当文本过多时布局混乱。有时它被推到一半，有时它完全推到屏幕的右侧。我不明白为什么会这样。我该如何解决这个问题？请注意，我在弹出对话框中的布局完全相同，没有问题。

这是我的 XML 代码：

```
<ScrollView xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="wrap_content" >

    <TableLayout
        android:id="@+id/add_spot_layout"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:shrinkColumns="1"
        android:stretchColumns="1" >

        <TableRow
            android:layout_marginBottom="1sp"
            android:layout_marginTop="2sp" >

            <TextView
                android:id="@+id/nameDetails"
                android:layout_width="fill_parent"
                android:textSize="25sp"
                android:textStyle="bold" />
        </TableRow>

        <!-- separator -->

        <View
            android:layout_width="fill_parent"
            android:layout_height="1dp"
            android:background="@android:color/darker_gray" />

        <TableRow
            android:layout_marginBottom="2sp"
            android:layout_marginTop="2sp" >

            <TextView
                android:layout_marginLeft="5sp"
                android:text="@string/distance"
                 />

            <TextView android:id="@+id/distanceDetails" />
        </TableRow>

        <TableRow
            android:layout_marginBottom="2sp"
            android:layout_marginTop="2sp" >

            <TextView
                android:layout_marginLeft="5sp"
                android:text="@string/address"
                 />

            <TextView android:id="@+id/addrDetails" />
        </TableRow>

        <TableRow
            android:layout_marginBottom="2sp"
            android:layout_marginTop="2sp" >

            <TextView
                android:layout_marginLeft="5sp"
                android:text="@string/type"
               />

            <TextView android:id="@+id/typeDetails" />
        </TableRow>

        <TableRow
            android:layout_marginBottom="2sp"
            android:layout_marginTop="2sp" >

            <TextView
                android:layout_marginLeft="5sp"
                android:text="@string/terrain" />

            <RelativeLayout
                android:layout_width="match_parent"
                android:layout_height="match_parent" >

                <RatingBar
                    android:id="@+id/terrainDetails"
                    style="?android:attr/ratingBarStyleSmall"
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:isIndicator="true"
                    android:max="5"
                    android:numStars="5"
                    android:stepSize="1" />
            </RelativeLayout>
        </TableRow>

        <TableRow>

            <TextView
                android:layout_marginLeft="5sp"
                android:text="@string/difficulty" />

            <RelativeLayout
                android:layout_width="match_parent"
                android:layout_height="match_parent" >

                <RatingBar
                    android:id="@+id/difficultyDetails"
                    style="?android:attr/ratingBarStyleSmall"
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:isIndicator="true"
                    android:max="5"
                    android:numStars="5"
                    android:stepSize="0.1" />
            </RelativeLayout>
        </TableRow>

        <TableRow
            android:layout_marginBottom="2sp"
            android:layout_marginTop="2sp" >

            <TextView
                android:layout_marginLeft="5sp"
                android:text="@string/description" />

            <TextView
                android:id="@+id/descDetails"
                android:gravity="top"
                android:lines="2"
                android:maxLines="2"
                android:scrollHorizontally="false" />
        </TableRow>

        <View
            android:layout_width="fill_parent"
            android:layout_height="1dp"
            android:background="@android:color/darker_gray" />
    </TableLayout>

</ScrollView> 
```

以下是一些屏幕截图，向您展示我的意思：

它应该是什么：

![在此处输入图像描述](../Images/8f442f3457e59735a895a7ee39f36c7a.png)

它不应该是什么：

推到屏幕右侧

![在此处输入图像描述](../Images/6a4396d90a093ef06d5c30b0957aa6ea.png)

说明文字过多。离开屏幕

![在此处输入图像描述](../Images/b5f51773d46c80814bc0403a91372ecd.png)

只推了一半。

![在此处输入图像描述](../Images/545da80c4e0aa2f3c7e1fa0f5d4c64e2.png)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-16T01:26:03.337

a 中列的大小`TableLayout`由其最大内容给出。

您组织布局的方式，标题**nameDetails**在**第一列**中。
您会注意到，在您不喜欢的情况下，第二列与标题的末尾整齐对齐。

要解决此问题，请将标题移出表格布局，或使用[`android:layout_span`](http://developer.android.com/reference/android/widget/TableRow.LayoutParams.html#attr_android%3alayout_span)属性将其跨越 2 列

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-16T01:14:51.443

我相信这是因为您的标题`@+id/nameDetails`是表格的第一行。`<textview>`当它确定表格左侧的大小时，它包括该单元格的长度。

你能把那个textview移出tableview吗？

# iphone - QuartzCore - 为多边形添加圆角

> ID：15444044
> 
> 赞同：1
> 
> 时间：2013-03-16T00:12:10.117
> 
> 标签：iphone, ios, core-graphics, quartz-graphics, quartz-core

我正在尝试绘制一个半透明的黑色矩形，并从中心切出一个三角形。

我用下面的代码完美地工作。但是，我想圆角三角形的角。

我尝试了几种不同的技术来添加圆角，例如将 CGContextSetLineCap 设置为笔画，并使用石英创建路径并使用 CGContextAddArcToPoint，但我没有得到任何工作。

正如我所提到的，下面的代码适用于三角形切口。我怎样才能使三角形的角变圆？

```
CGContextRef context = UIGraphicsGetCurrentContext();
CGPoint position = CGPointMake(rect.size.width/2, rect.size.height * .7);
CGSize size = CGSizeMake(rect.size.width*.8, rect.size.height*.5);

CGFloat firstPointX = (position.x - (size.width / 2));
CGFloat firstPointY = (position.y - (size.height));
CGPoint firstPoint = CGPointMake(firstPointX, firstPointY);

CGFloat secondPointX = position.x + (size.width / 2);
CGFloat secondPointY = position.y - (size.height);
CGPoint secondPoint = CGPointMake(secondPointX, secondPointY);

UIBezierPath *path = [UIBezierPath bezierPath];
[path moveToPoint:position];
[path addLineToPoint:firstPoint];
[path moveToPoint:firstPoint];
[path addLineToPoint:secondPoint];
[path addLineToPoint:position];
[path closePath];

CGContextAddRect(context, rect);
CGContextAddPath(context, path.CGPath);
CGContextEOClip(context);

UIColor *translucentColor = [UIColor colorWithWhite:0 alpha:0.5];
CGContextSetFillColorWithColor(context, translucentColor.CGColor);

CGContextFillRect(context, rect);

UIGraphicsEndImageContext(); 
```

编辑：这是我想要完成的一个例子。

![在此处输入图像描述](../Images/7a50fdca7e66f91cbb0eb7f62991088a.png)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-16T06:16:31.073

我想你想使用 CGContextAddArc。如有必要，它会绘制一个圆圈的一部分，并带有一条通往它的线。这是绘制填充 U​​IView 的圆角框的代码。对于三角形，您将有 3 条线而不是 4 条。顶部有两条，底部中间有一条。这是来自我拥有的一个 roundBoxView 类：

```
CGContextRef context = UIGraphicsGetCurrentContext();
CGRect boxRect = self.bounds;

float bRadius = self.cornerRadius;
float shrink = self.strokeThickness/2;

CGContextBeginPath(context);

// instead of this gray you could later add options for other colors
CGContextSetGrayFillColor(context, 0.0f, self.backgroundOpacity);
CGContextMoveToPoint(context, CGRectGetMinX(boxRect)+shrink + bRadius, CGRectGetMinY(boxRect)+shrink);

CGContextAddArc(context, CGRectGetMaxX(boxRect)-shrink - bRadius, CGRectGetMinY(boxRect)+shrink + bRadius, bRadius, 3 * (float)M_PI / 2, 0, 0);
CGContextAddArc(context, CGRectGetMaxX(boxRect)-shrink - bRadius, CGRectGetMaxY(boxRect)-shrink - bRadius, bRadius, 0, (float)M_PI / 2, 0);
CGContextAddArc(context, CGRectGetMinX(boxRect)+shrink + bRadius, CGRectGetMaxY(boxRect)-shrink - bRadius, bRadius, (float)M_PI / 2, (float)M_PI, 0);
CGContextAddArc(context, CGRectGetMinX(boxRect)+shrink + bRadius, CGRectGetMinY(boxRect)+shrink + bRadius, bRadius, (float)M_PI, 3 * (float)M_PI / 2, 0);

CGContextClosePath(context);
CGContextFillPath(context); 
```

当然，不是 boxRect 是完整的边界，你可以将它传递给你的方法并使用你想要的任何边界来绘制它。要使其成为三角形，您将只有 3 条线而不是两条线，并且您可能需要做一些数学运算来确定开始和结束角度。在盒子上，这些角度总是 90 度（这里给出的是 icky 弧度），但在三角形上，您要么必须即时计算角度，要么在三角形上有预设的纵横比，这样您就可以使用预设的开始和停止角度. 在如图所示的 3 个相等角度的示例中，您将执行 120 度或 M_PI / 1.5 大小的步骤。

# qt - 在 Qt 中打开子窗口时监视父窗口中的事件

> ID：15444046
> 
> 赞同：1
> 
> 时间：2013-03-16T00:12:12.223
> 
> 标签：qt, events, kiosk, childwindow, kiosk-mode

在几秒钟不活动后，我试图在我的应用程序中自动隐藏鼠标，并使用下面的代码来处理这个问题。在我打开一个子窗口之前，一切都很好：*直到*我将鼠标移到子窗口上，鼠标才会重新出现。如果我监视 MyMainWindow::eventFilter() 中的所有事件，当子窗口打开时，我看不到父窗口的任何事件。我以为为应用程序的*所有*窗口`qApp->installEventFilter()`添加了事件过滤器。想法？

 *我的平台是 Windows 7 和 Qt 4.8。该应用程序在自助服务终端计算机上全屏运行——也就是说，除了我的应用程序之外，计算机上没有其他任何东西在运行。

```
MyMainWindow::MyMainWindow( QWidget *parent ) :
    QMainWindow( parent ),
    ui( new Ui::MyMainWindow )
{
    // all the other setup...
    hideMouseTimer.start( HideMouseDelay_ms );
    connect( &hideMouseTimer, SIGNAL(timeout()), this, SLOT(hideMouseTimerExpiry()) );

    if( qApp )
    {
        qApp->installEventFilter( this );
    }
}

bool MyMainWindow::eventFilter( QObject *obj, QEvent *event )
{
   /*
    * Monitor mouse movement. If the mouse has been hidden, show it and start
    * the timer for the next check for hiding it.
    */
   if( event->type() == QEvent::MouseMove )
   {
       qApp->restoreOverrideCursor();
       hideMouseTimer.start( HideMouseDelay_ms );
   }

   return QWidget::eventFilter( obj, event ); 
}

void MyMainWindow::hideMouseTimerExpiry()
{
    qApp->setOverrideCursor( QCursor( Qt::BlankCursor ) );
    hideMouseTimer.stop();
}

void MyMainWindow::on_dialog_clicked()
{
    myDiaglog *d = new myDialog();
    d->exec();
    delete d;
} 
```*

# php - 将源有效地存储到 sql 转义中

> ID：15444049
> 
> 赞同：0
> 
> 时间：2013-03-16T00:12:36.643
> 
> 标签：php, sql, escaping

我在将源代码存储到一个小型脚本箱的数据库中时遇到问题。问题是用于从数据库查看的语法荧光笔中的打印代码在不应该的地方有换行符，我也在数据库中看到文本以相同的方式存储。

我尝试过使用几个方法来完成这项工作，起初我认为这是一个换行问题，所以我在输入表单上设置了换行。然后添加了 addlashes 并且没有用，我尝试了 magic_quotes，在下面显示的这种情况下，我尝试了 mysql_real_escape_string 并且来自 $content 的文本将存储在数据库中，并且在它们不应该的地方有换行符。

我错过了什么吗？谢谢

下面的代码是插入到 db 中，相关的值是 $content

```
<?php
session_start();
$submit = $_POST['submit'];
$sniptitle = ($_POST['sniptitle']);

$date = date("Y-m-d H:i:s"); 
$user = $_SESSION['username'];
$lang = ($_POST['lang']);
$con=mysqli_connect("localhost","xxxx","xxxx","xxxx");

$content = mysql_real_escape_string($_POST['snipcontent']);
// ^^^HERE IS THE ISSUE ^^^                           

    if(isset($_POST['submit'])) { 

                                    // Check connection
                                if (mysqli_connect_errno()) 
                                  {
                                  echo "Failed to connect to MySQL: " . mysqli_connect_error();
                                  }

                                mysqli_query($con,"INSERT INTO code_lib ( snip_title , snip_content , posted_by , lang , datetime )
                                VALUES ('$sniptitle' , '$content' , '$user' , '$lang' , '$date' )");

                                mysqli_close($con);

                                header ("Location: xxx"); // Move back to a page
                                exit();
                                }

    ?> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-16T06:56:10.950

1.  mysql_real_escape_string 无论如何都不应该与 mysqli 一起使用
2.  尽管如此，这也不应该是一个问题
3.  您的“解决方案”很可能与 fetch 上的带斜杠配对
4.  所以，正确的解决方案是
    *   关闭魔术引号
    *   并使用 mysqli_real_escape_string

# php - 如何限制 MySQL 数据库中的行项目数

> ID：15444053
> 
> 赞同：0
> 
> 时间：2013-03-16T00:13:23.507
> 
> 标签：php, mysql, phpmyadmin

有没有办法使用 PHPmyAdmin 或某些查询将表限制为例如 100 行？

想法是如果有 100 行并且某些脚本插入新行，最旧的将被**自动**丢弃。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-16T00:19:24.370

PHPMyAdmin 与此无关。它只是一个 MySQL 客户端 UI，无法单独操作 MySQL 数据库。

您可以设置一个触发器来执行此操作，但我想我真的想知道您在这里获得了什么。查询表时，您总是可以只返回最近的 100 行。除非您的表急剧增长，否则如果表有 200 行而不是 100 行，您真的会影响查询性能吗？如果您正确地使用表上的索引，这是非常值得怀疑的。

# javascript - 为什么 HTML5 画布只在 webkit 浏览器中留下工件？

> ID：15444059
> 
> 赞同：4
> 
> 时间：2013-03-16T00:14:41.400
> 
> 标签：javascript, html, jquery-ui, canvas, webkit

我有一些代码，我在其中将画布动态添加到可拖动、可调整大小的 div 元素。在这里粘贴太多了->[这是jsFiddle ...](http://jsfiddle.net/GeekStocks/GNP48/)

它在 IE-10 和 FF-19 中运行良好，但在 webkit (Chrome-25) 中，当您在调整大小后拖动 div 时会留下严重的伪影。这是要运行的测试：

```
 How to see the artifacts in WEBKIT BROWSERS ONLY
   1\. Drag the gray header, shake mouse, notice NO artifacts as you shake the div
   2\. Drop the header, resize div using the lower right handle so that you see about an equal amount of green and purple
   3\. Repeat step 1, only this time artifacts are everywhere in webkit browsers (not IE 10 or FF 19)
   4\. Now delete the javascript code from line 11 on down (the function and call) and run fiddle again
   5\. Repeat the test in steps 1-3\.  Without the canvas, there are NO artifacts.
   6\. Try in non-webkit browsers.  NO artifacts. 
```

我构建的测试用例似乎指向画布是罪魁祸首。我不认为这是一个编码错误，因为非 webkit 可以正常工作。另外，我认为可能是硬件问题，但我已经在多台机器上重新启动/运行它并且它是可重复的。

我是否发现了浏览器错误，或者有人在我的代码中看到了错误？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-05-23T19:47:44.043

我有同样的错误（是的，Sebas，我会称之为错误；如果你有一个解决方案而不是批评，那就更好了）。

“溢出：隐藏；” 在您的 CSS 中是该错误的触发器。

```
#wrapper {position: relative; width: 300px; height: 300px; background-color: silver;border: 6px solid lightgray; z-index: 2; border-radius: 15px; overflow: hidden;} 
```

这是你的 jsFiddle 的一个分支，它被删除了。

[http://jsfiddle.net/sv9yZ/1/](http://jsfiddle.net/sv9yZ/1/)

我知道这是旧的，我想我会为任何来自搜索的人添加这个......

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-16T02:58:07.980

我可以在 Mac OS X 10.8.2 上的 Chrome 25 中重复它。

我以前也遇到过这个问题。画布绘图例程与 CSS 绘图交互的方式似乎存在错误。因为它是一个浏览器错误，所以我发现没有一个很好的方法来解决这个问题。我认为你所能做的就是尝试一些技巧，比如用一个 div 覆盖整个背景，当你拖动它以强制重绘时，它会闪烁。这不漂亮，但我从来没有找到更好的方法来做到这一点。

# linux - 在没有 execve 的情况下执行二进制文件？

> ID：15444062
> 
> 赞同：2
> 
> 时间：2013-03-16T00:15:11.620
> 
> 标签：linux, mmap, execve

我在某处看到有人提到可以“模拟” execve（主要使用 open 和 mmap）以加载其他二进制文件（没有实际的“execve”系统调用）。

1.  有没有已经实现的例子？
2.  我们可以同时加载静态和动态二进制文件吗？
3.  可以便携吗？

此类功能对于将工作委派给[忽略文件系统位](https://stackoverflow.com/q/14636359/266720)的任意二进制文件或安装不允许实际执行的 seccomp 策略可能很有用。

# css - 如果我在 position:relative div 中添加 position:absolute (css)，为什么 div 会错位？

> ID：15444063
> 
> 赞同：0
> 
> 时间：2013-03-16T00:15:26.090
> 
> 标签：css, html, frontend

我正在学习 HTML/CSS，但遇到了问题。我目前正在研究 goodwill.heyscout.com 作为一个副项目。

从 learnlayout.org，我了解到用 div 构造布局的最佳方法是给内部一个位置：绝对，给外部一个位置：相对。这行得通。

但是，这会在我添加 position:absolute 时立即取消对齐（我想要并排的配置文件卡）。如果没有绝对位置，如果我想更改配置文件卡的布局，一切都会发生变化。正如您在底部的两张个人资料卡上看到的那样，它们对齐，因为它们没有改变。

谁能指出我正确的方向？我也知道我的代码非常混乱，而这正是我真正需要改进的地方......关于如何改进我的代码的任何其他建议也会很有用。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-16T00:31:55.337

`float: left`你可以在你的课堂上扔一个`outer`，这应该让他们再次并排坐着。您可能想在某些时候阅读使用浮点数，因为它们可能非常强大（如果一开始有点难以理解）

```
.outer {
    width: 49%;
    display: inline-block;
    float: left;
} 
```

顺便说一句，我注意到您`id="outer"`多次使用。您应该将其更改`class="outer"`为 ID 应该是唯一的，而一个类可以多次使用。你会在上面的 CSS 中看到我使用`.outer`的类名（而不是`#outer`ID 的目标）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-16T00:32:27.690

你发现了一个有趣的问题。我不能确切地告诉你它为什么会这样，但它似乎与直接在#box div 中是否有文本有关。如果您从第二个中删除“测试”，它将按照您的预期对齐。同样，如果您在第二个 div 中放置与第一个 div 完全相同的内容，它们会对齐。

为了改进，我将从不重复使用 id 开始（例如，就像您使用 #outer 和 #box 所做的那样，这些应该是类）。id 属性必须是唯一的，没有两个 DOM 元素应该具有相同的 id。

我还建议对#businesscards 使用 ul，因为它表示卡片列表。这将使#outer 成为一个里。您在#navlist 中执行此操作，所以您知道我的意思。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-16T02:02:18.713

只`vertical-align: top;`给你的`#outer`div。问题将得到解决。

由于这仅发生在子元素上，因此请提供以下内容来解决问题：

```
div > * {  /* or just  '*' */
    vertical-align: top; /* or middle */
} 
```

# xamarin.android - 适用于 MonoDroid 的 NineOldAndroids

> ID：15444065
> 
> 赞同：0
> 
> 时间：2013-03-16T00:15:31.703
> 
> 标签：xamarin.android, xamarin

我正在尝试使用 NineOldAndroids 来实现与 3.x 之前的设备的向后兼容性，但我遇到了以下构建错误：

> .../NineOldAndroids/obj/Debug/generated/src/Com.Nineoldandroids.Animation.AnimatorSet.cs(83,83)：错误 CS0508： `Com.Nineoldandroids.Animation.AnimatorSet.SetDuration(long)': return type must be`Com.Nineoldandroids.Animation.Animator' 匹配被覆盖的成员 `Com.Nineoldandroids.Animation .Animator.SetDuration(long)' (CS0508) (NineOldAndroids)

但生成代码中的签名如下所示：

```
public override global::Com.Nineoldandroids.Animation.AnimatorSet SetDuration (long p0) 
```

AnimatorSet 的类签名如下所示：

```
public sealed partial class AnimatorSet : global::Com.Nineoldandroids.Animation.Animator { 
```

问题是，由于 AnimatorSet 是从 Animator 继承的，我不确定为什么会出现问题。

是否有任何您知道或知道如何解决此问题的为 MonoDroid 绑定 NineOldAndroids 的示例？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-06-20T09:56:09.013

这些错误消息是因为 C# 不支持[协变返回类型](http://en.wikipedia.org/wiki/Covariant_return_type)，而 Java ≥1.5 支持。

将这些行添加到`Transforms/Metadata.xml`：

```
<attr path="/api/package/class[@name='AnimatorSet']/method[@name='setDuration']" name="managedReturn">Com.Nineoldandroids.Animation.Animator</attr>
<attr path="/api/package/class[@name='ValueAnimator']/method[@name='setDuration']" name="managedReturn">Com.Nineoldandroids.Animation.Animator</attr> 
```

# c# - 新的 WebApi 项目没有 API 的默认路由（但仍然有效）

> ID：15444066
> 
> 赞同：4
> 
> 时间：2013-03-16T00:15:34.597
> 
> 标签：c#, asp.net-mvc, asp.net-web-api, asp.net-web-api-routing

我创建了一个新的 WebAPI MVC 项目，API 控制器具有路径`http://localhost:1234/api`并且它们从该路由工作，但是`RegisterRoutes`该类不包含默认路由，它包含以下内容：

```
public static void RegisterRoutes(RouteCollection routes)
{
     routes.IgnoreRoute("{resource}.axd/{*pathInfo}");
     routes.MapRoute(
         name: "Default",
         url: "{controller}/{action}/{id}",
         defaults: new { controller = "Home", action = "Index", id = UrlParameter.Optional }
    );
} 
```

API 的路由在哪里？

干杯

戴夫

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-16T00:19:17.820

Visual Studio 项目模板创建一个默认路由，如下所示：

```
routes.MapHttpRoute(
   name: "API Default",
   routeTemplate: "api/{controller}/{id}",
   defaults: new { id = RouteParameter.Optional }
); 
```

您可以在文件中找到它，该`WebApiConfig.cs`文件位于`App_Start`目录中

[http://www.asp.net/web-api/overview/web-api-routing-and-actions/routing-in-aspnet-web-api](http://www.asp.net/web-api/overview/web-api-routing-and-actions/routing-in-aspnet-web-api)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-16T00:21:16.157

它住在不同的班级：

```
using System;
using System.Collections.Generic;
using System.Linq;
using System.Web.Http;

namespace HelloWorldApi
{
    public static class WebApiConfig
    {
        public static void Register(HttpConfiguration config)
        {
            config.Routes.MapHttpRoute(
                name: "DefaultApi",
                routeTemplate: "api/{controller}/{id}",
                defaults: new { id = RouteParameter.Optional }
            );

            // Uncomment the following line of code to enable query support for actions with an IQueryable or IQueryable<T> return type.
            // To avoid processing unexpected or malicious queries, use the validation settings on QueryableAttribute to validate incoming queries.
            // For more information, visit http://go.microsoft.com/fwlink/?LinkId=279712.
            //config.EnableQuerySupport();

            // To disable tracing in your application, please comment out or remove the following line of code
            // For more information, refer to: http://www.asp.net/web-api
            config.EnableSystemDiagnosticsTracing();
        }
    }
} 
```

# r - 循环遍历 R 中的列名以创建新列

> ID：15444067
> 
> 赞同：1
> 
> 时间：2013-03-16T00:15:42.270
> 
> 标签：r, if-statement, for-loop

我正在尝试对现有数据框的列名使用循环，然后根据旧列之一创建新列。这是我的示例数据：

```
 sample<-list(c(10,12,17,7,9,10),c(NA,NA,NA,10,12,13),c(1,1,1,0,0,0))
    sample<-as.data.frame(sample)
    colnames(sample)<-c("x1","x2","D")

>sample
x1  x2  D
10  NA  1
12  NA  1
17  NA  1
7   10  0
9   20  0
10  13  0 
```

现在，我正在尝试使用`for loop`生成两个变量 x1.imp 和 x2.imp，它们的值在 D=1 时与 D=0 相关，在 D=0 时与 D=1 相关（这里我实际上不需要`for loop`但对于具有大列（变量）的原始数据集，我真的需要循环）基于以下条件：

```
for (i in names(sample[,1:2])){
sample$i.imp<-with (sample, ifelse (D==1, i[D==0],i[D==1]))
i=i+1
return(sample)
}

Error in i + 1 : non-numeric argument to binary operator 
```

但是，以下工作，但它没有将新 cols 的名称命名为 imp.x2 和 imp.x3

```
for(i in sample[,1:2]){
impt.i<-with(sample,ifelse(D==1,i[D==0],i[D==1]))
i=i+1
print(as.data.frame(impt.i))
 }

impt.i
1      7
2      9
3     10
4     10
5     12
6     17
  impt.i
1     10
2     12
3     13
4     NA
5     NA
6     NA 
```

请注意，我已经知道没有循环[[here]](https://stackoverflow.com/questions/15439359/replace-the-values-using-iflelse-in-r)的解决方案。我想要循环。

预期输出：

```
x1  x2  D   x1.impt x2.imp 
10  NA  1   7       10      
12  NA  1   9       20
17  NA  1   10      13
7   10  0   10      NA
9   20  0   12      NA
10  13  0   17      NA 
```

我将非常感谢您在这方面的宝贵意见。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-16T01:04:30.253

这太疯狂了，但是既然您要求这样做...您的代码更改最少将是：

```
for (i in colnames(sample)[1:2]){
  sample[[paste0(i, '.impt')]] <- with(sample, ifelse(D==1, get(i)[D==0],get(i)[D==1]))
} 
```

几点评论：

1.  换成`names(sample[,1:2])`更优雅的`colnames(sample)[1:2]`
2.  这`$`是用于交互式使用。相反，在编程时，即要解释列名时，您需要使用`[`or `[[`，因此我替换`sample$i.imp`为`sample[[paste0(i, '.impt')]]`
3.  在里面`with`，`i[D==0]`不会给你`x1[D==0]`什么时候`i`是`"x1"`，因此需要使用`get`.
4.  你不应该命名你的 data.frame`sample`因为它也是一个非常常见的函数的名称

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-16T00:52:21.570

这应该工作，

```
test <- sample[,"D"] == 1
for (.name in names(sample)[1:2]){
  newvar <- paste(.name, "impt", sep=".")
  sample[[newvar]] <- ifelse(test, sample[!test, .name], 
                                   sample[test, .name]) 
}

sample 
```

# r - 如何将循环的结果存储到变量中？在 R 中

> ID：15444068
> 
> 赞同：2
> 
> 时间：2013-03-16T00:15:42.390
> 
> 标签：r, list, for-loop, store

一个真正的初学者问题，我正在使用以下代码行在列表上应用循环：

```
for(i in 1:length(zz)){ if (length(zz[[i]])>2) {print(zz[[i]])}} 
```

我正在获得我想要的东西，因为我在控制台中对其进行了可视化。但是我找不到将它存储到变量中的方法，所以我以后可以使用它。

你能帮我解决这个问题吗？

非常感谢你。

蒂娜。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-16T00:19:25.953

我建议您按如下方式过滤您的列表：

```
out <- zz[sapply(zz, length) > 2] 
```

where`sapply(zz, length)`为您提供列表项的长度。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-16T00:22:15.730

```
out <- vector("numeric", length(zz)) #type depends on what zz is

for(i in 1:length(zz))
    if(length(zz[[i]] > 2)
        out[i] = zz[[i]] 
```

正如其他人所指出的，R 中的约定是与`apply`家庭成员一起执行此操作。

# gnu-make - 更多 GNU make：什么可能导致 shell（默认 = /bin/sh）开始说“@mkdir：未找到”？

> ID：15444072
> 
> 赞同：1
> 
> 时间：2013-03-16T00:16:47.977
> 
> 标签：gnu-make

我开始认为我已经破坏了 GNU make。它的行为似乎变得不可预测。我会因此获得奖励吗？

在我的命令部分，我一直在使用“@”字符来抑制不需要的输出。在一个 makefile 中，我删除了 '@' 运行一次，以验证它是否在执行我想要的操作。因为我把 '@' 放回去了，我得到了 shell 错误：
@mkdir: not found那

到底是***怎么***回事？什么可以使“@”不再被识别为标准命令修饰符？

呸！我讨厌那个锅！（来自使用 GNU make 管理项目的封面）

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2016-12-30T12:51:18.593

该`@`字符仅在 make 执行的行首有效。如果你有延续字符，比如`\` 结束上一行，这不会被make执行，它会被shell执行。外壳不知道如何处理该`@`标志，因此您的错误。

此外，如果您使用`.ONESHELL`，您应该注意命令前缀仅在配方的第一行有效，之后它将引发错误，因为所有行都传递给一个 shell 执行。

相同的规则也适用于其他前缀运算符 ( `-`)。

# gps - 创建基于 GPS 坐标学习的 MLP

> ID：15444074
> 
> 赞同：2
> 
> 时间：2013-03-16T00:17:02.090
> 
> 标签：gps, neural-network

我有一些数据告诉我特定城镇的可用水小时数。你可以[在这里看到](https://docs.google.com/spreadsheet/pub?key=0AqDm6Izoam4OdFBJb3dsRkd6WlNGU0xXdzNmWWxpTnc&single=true&gid=0&output=html)

我想使用基于该数据的多层感知器来获取一组坐标并指示该坐标将有水的大致小时数。

这有意义吗？如果是这样，我是否正确地说，必须有两个输入层？一种用于纬度，一种用于长期。并且输出层应该是小时数。

希望得到一些指导。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-16T16:38:45.243

我会以不同的方式解决这个问题：
只需创建一个 WaterInfo 的 ArrayList：WaterInfo 包含 lat、lon、waterHours。
然后对于给定的坐标搜索列表中最接近的 WaterInfo。
由于您的元素不多，因此只需进行蛮力搜索，即可找到最接近的。您可以进一步优化，找到三个最接近的 WaterInfo 点，并计算 WaterHours 的加权平均值。作为权重，您使用从当前位置到 Waterinfo 位置的空中距离。

要回答您的问题：

> “这有意义吗”？

从获得有效解决方案的目标出发：不！问问自己，为什么要使用 MLP 来完成这项任务。

此外，我怀疑将两层用于纬度/经度是否有意义。
坐标（纬度/经度）是世界上的一个点，因此它应该是模型中的一层。您可以将纬度/经度坐标转换为单元标识符：跨越巴西的网格；小区宽度为 10 或 50 公里；现在将 lat/long 坐标转换为 cellId：就像棋盘上的 E4 一样，您将计算一个表示单元格的整数值。
（也有其他解决方案可以获得唯一编号，选择你喜欢的一个）

现在你有一个模型 geoCellID -> waterHours，它更好地代表了现实世界的情况。

# ruby - tmux 不保留 $PATH

> ID：15444079
> 
> 赞同：0
> 
> 时间：2013-03-16T00:17:48.553
> 
> 标签：ruby, path, zsh, tmux, zshrc

我[`chruby`](https://github.com/postmodern/chruby)用来管理更换我的红宝石。

我也用`tmux`.

当我更改为不同的 Ruby 时，chruby 会更新`PATH`环境变量以包含我想要的 Ruby 的路径。当我启动 tmux 会话时，对 PATH 的这些修改会丢失。

创建新会话时如何`tmux`保留变量？`PATH`

**更新**

我想我只需要更仔细地阅读说明！

我已将`source`线路`~/.zshrc`从`~/.zprofile`

```
source /usr/local/opt/chruby/share/chruby/chruby.sh 
```

现在，当我创建一个 tmux 会话时，它`PATH`包含了我的 Ruby 的路径，但它不起作用，因为`PATH`最终像这样重复：

**前**

> /Users/jord/.gem/ruby/1.9.3/bin:/Users/jord/.rubies/ruby-1.9.3-p385/lib/ruby/gems/1.9.1/bin:/Users/jord/。 rubies/ruby-1.9.3-p385/bin:/Users/jord/bin:/usr/local/share/npm/bin:/usr/local/bin:/usr/local/sbin:/usr/bin:/ bin:/usr/sbin:/sbin:/usr/local/bin:/usr/X11/bin

**后**

> /Users/jord/bin:/usr/local/share/npm/bin:/usr/local/bin:/usr/local/sbin:/usr/bin:/bin:/usr/sbin:/sbin:/usr /local/bin:/usr/X11/bin:/Users/jord/.gem/ruby/1.9.3/bin:/Users/jord/.rubies/ruby-1.9.3-p385/lib/ruby/gems/ 1.9.1/bin:/Users/jord/.rubie s/ruby-1.9.3-p385/bin:/Users/jord/bin:/usr/local/share/npm/bin:/usr/local/sbin

我认为这是因为我设置 PATH 的方式`~/.zshrc`？

```
PATH="$HOME/bin:/usr/local/share/npm/bin:/usr/local/bin:/usr/local/sbin:$PATH" 
```

我应该明确说明我的路径吗？还是不应该设置`~/.zshrc`？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-16T00:49:00.170

这应该已在[0.3.0](https://github.com/postmodern/chruby/issues/46)中修复，您使用的是哪个版本的 chruby？

# jquery - JQuery Ajax 调用总是遇到错误，状态码为 0

> ID：15444081
> 
> 赞同：2
> 
> 时间：2013-03-16T00:17:56.167
> 
> 标签：jquery, ajax, status, deferred, promise

我有一组相当复杂的脚本，大部分时间都可以使用。我想做的是发出 AJAX 请求，然后在收到 401 错误时做一些事情。当他们收到 401 时，我发送他们进行身份验证，然后重新发送请求。我为 ajaxPrefilter 添加了一些处理，它看起来像这样：

```
jqXhr.then(function (response, status) {
    var deferred = $.Deferred(),
        data = response && response.d ? response.d : response,
        result = data && _.isArray(data.results) ? data.results : data;

    deferred.resolveWith(this, [result, status, jqXhr, response]);

    return deferred;
},
function (response, status, error) {
    var secondPromise = $.Deferred();

    if (response.status == 401) {
         // handle authentication
         // resend request
         // depending on outcome, resolve or reject secondPromise
    } else {
         // not authentication issue, just reject the secondPromise
    }

    return secondPromise;
}).promise(jqXhr); 
```

基本上，“then”的第一部分只是解析延迟对象并将其发送回（所以等待调用的人立即得到它）。第二部分（错误）检查错误代码 401（需要身份验证）。如果是 401，它会进行身份验证、重新发送请求并处理结果。如果它不是 401，它会抛出拒绝它。

问题是错误函数的响应、状态、错误参数总是如下：

响应 = 状态为 0、状态为 0、状态文本为“错误”且没有响应文本的延迟对象。状态=“错误”错误=“”

有什么方法可以让我检测到错误吗？我可以在 firebug 的 net 选项卡和 Fiddler 中清楚地看到响应代码显然是 401。

对此有什么想法吗？

# mysql - 识别与非识别关系（再次！！！）

> ID：15444083
> 
> 赞同：3
> 
> 时间：2013-03-16T00:18:05.353
> 
> 标签：mysql, database, database-design, entity-relationship, cardinality

所以，我已经在 stackoverflow 上阅读了很多答案，但我仍然对其整个概念感到困惑。具体来说，我已经阅读了这篇文章（包括它引用的所有文章），但似乎无法很好地掌握这个概念（或者可能是我在基数（n:m 等）和身份之间的混淆):

[仍然对识别与非识别关系感到困惑](https://stackoverflow.com/questions/2814469/still-confused-about-identifying-vs-non-identifying-relationships)

我的问题是：我知道识别关系意​​味着子实体的主键必须包含其外键，而非识别关系则相反（这是正确的吗？）。现在，这对我来说似乎有点太“前瞻性”了？在其中一个链接的其中一条评论中也说了同样的话。我怎样才能“退后一步”并真正看到**哪些**关系属于哪个身份？

例如，我有两个困境：

1.  `job_title`（父母，1）到`employee`（孩子，1..*）。我的想法是否正确，因为 job_title 是一个查找表，它必须是一个非识别关系？或者说“没有职称就不能存在员工，因此它必须是识别”会更准确吗？或者是定义该场景的关系？
2.  `employee`to `employee_equipment`（m:n 基数之间的桥接实体） to `equipment`。现在，我读到这必须是employee_equipment 双方的识别关系。但是，如果员工不需要设备怎么办？可以有一个可选的识别关系吗？

我想我真的在寻找一种方法来确定应该属于哪些身份表，而不考虑主键/外键，或者任何与此相关的真正*技术性*的东西。

任何帮助将非常感激！

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-16T00:40:34.277

你过度思考了选择性和身份之间的联系。在整个事情对您来说更自然之前，最好将它们视为**完全不相关**的。

关于可选性，重要的是要记住可选性是有方向的。以您的示例为例`employee_equipment`：当然，员工不需要设备。`employee`从to的一对多关系`employee_equipment`是可选的。同时，从相反的角度来看，这种关系是强制性的。`employee_equipment`除非有`employee`与之关联的记录，否则您将无法在其中拥有记录。

身份与可选性无关，只是*巧合*的是，从孩子到父母的身份识别关系是强制性的。就身份而言，父母对孩子是否也是强制性的，既不存在也不存在。

使关系识别的原因是，您必须知道您在说什么父母（以及其他一些事情）才能知道您在说什么孩子。也就是说，子项的主键必须包含父项的外键。

纯交集表（例如`employee_equipment`）就是很好的例子。纯交集的主键是两个父表的外键组合。请注意，有些人可能还会为这些类型的表添加代理键。如果有多个候选键，从身份的角度来看并不重要。在确定身份时重要的是外键是否是候选键的一部分，该候选键是否恰好是主键。

另一个很好的例子是数据库的元数据目录，其中列由它所属的表标识，就像表由它所在的模式标识一样，等等。知道一列被调用`NAME`并不能告诉您它是哪一列。知道它是表中的`NAME`列会有所`CUSTOMER`帮助。（您还必须知道哪个模式`CUSTOMER`在其中，等等）。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-03-16T11:35:48.737

乔尔提供了一个很好的[答案](https://stackoverflow.com/a/15444257/533120)（给他+1），让我提供一个小的心理捷径，您可以在考虑识别关系时使用它......问问自己：

> 我可以仅使用子实体的属性来实现唯一性**吗**？

如果不是，并且您需要*包含从父键迁移*到子键中的属性以使其唯一，那么您就有一个标识关系¹。这是关于识别依赖，而不是存在依赖²！

[您可能会对这篇文章](https://stackoverflow.com/a/13295288/533120)感兴趣，以了解有关该主题的更多思考。

* * *

*¹并且子实体是“弱的”或“依赖的”。*

*²虽然认同依赖通常意味着存在依赖。*

# python - Django - 管理模型中的多重复数

> ID：15444087
> 
> 赞同：11
> 
> 时间：2013-03-16T00:18:34.463
> 
> 标签：python, django, python-2.7, django-1.5

我已经用谷歌搜索了很长时间，但没有结果。我是 Django 的初学者，所以我不知道它的所有功能。但是这个问题对客户来说非常重要:-(你能帮帮我吗？

所以，我定义了这个模型：

```
from django.utils.translation import ugettext_lazy as _

class Product(Model):
    #translation for model and set db table name
    class Meta:
        verbose_name = _('product')
        verbose_name_plural = _('products')
        ... 
```

现在，由于捷克语，我需要这些写在管理员列表中：

*   0 výrobků
*   1 维罗贝克
*   2-4 维罗布基
*   5- výrobků

在其他任何地方，我都在`ungettext`成功使用。但是，我不知道如何在 Meta 中计数。我发现这是抽象的（但似乎没用）：

```
class Model(DjangoModel):

    class Meta:
        abstract = True

    def get_description(self):
        return ungettext(self.verbose_name, self.verbose_name_plural, self.count) % \
                   {'count':self.count, 'name':self.name} 
```

来源来自[django 国际化：为复数标记字符串时计数器不可用](https://stackoverflow.com/questions/10517683/django-internationalization-counter-is-not-available-when-marking-strings-for-p)

也许，最后可以显示语言定义（尝试添加/删除 %s from `msgid`）：

```
msgid "%s product"
msgid_plural "%s products"
msgstr[0] "%s 1 výrobek"
msgstr[1] "%s 2 výrobky"
msgstr[2] "%s 5 výrobků" 
```

如果您需要更多信息来提问，请确保我会提供。

非常感谢您。

**更新**
请确定，我在 .po 文件中使用以下内容：

```
"Plural-Forms: nplurals=3; plural=((n==1) ? 0 : (n>=2 && n<=4) ? 1 : 2);\n" 
```

再一次，除了管理模型之外的任何其他地方，它都在工作。问题不是一般如何运行多重复数，而是如何更改管理中的任何内容（例如新的抽象模型等）以在那里运行它......

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-19T02:15:28.477

您需要放入 .po 文件：

```
"Plural-Forms: nplurals=3; plural=(n==1) ? 0 : (n>=2 && n<=4) ? 1 : 2;\n" 
```

然后，在您的模板中，您使用复数形式传递一个有效的计数器。Gettext 拥有所需的所有信息：

*   它知道有多少复数
*   它知道如何计算数字的复数
*   Django 传递复数的 msg_id 和一个计数器

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-24T14:32:35.033

在深入了解 Django 源代码之后，如果不覆盖许多功能，就不可能在管理用例中做到这一点。

# linux - Linux是否可以清空目录中所有文件的内容

> ID：15444090
> 
> 赞同：11
> 
> 时间：2013-03-16T00:19:17.307
> 
> 标签：linux

是否可以在单个命令（无循环）中清除目录中每个文件的内容？

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2013-03-16T00:37:44.633

使用截断：

```
truncate -s 0 directory/* &> /dev/null 
```

* * *

## 回答 #2

> 赞同：13
> 
> 时间：2013-03-16T00:27:31.017

这很丑陋，但它有效：

```
find . -type f -exec sh -c 'echo -n "" > $1' sh {} \; 
```

这将清除每个子目录中的每个文件。

只清除当前目录中的文件：

```
for i in *; do cat /dev/null > $i; done 
```

（是的，这是一个循环，但它是一条线。）

# openal - 关于 OpenAL 缓冲区的一些基本问题

> ID：15444097
> 
> 赞同：4
> 
> 时间：2013-03-16T00:19:33.120
> 
> 标签：openal

我刚开始使用 OpenAL，到目前为止一切都很好，我尝试了一些教程，设法加载和播放一些声音，但在我开始实现更复杂的东西之前，我想确保我了解 OpenAL 的工作原理。

基本上我的目标是制作一个简单的系统，我可以在其中发出诸如“播放这个和这个，停止播放那个”之类的命令，而无需关心任何事情。假设程序必须处理 150 种声音，解压缩为 PCM 时总共有 250 MB，并且所有声音在开始时都可用。

在 OpenAL 中，有源和缓冲区。我知道我应该有一个资源池并重用它们。我不明白并且无法在任何地方找到的是缓冲区实际代表的内容。它们是有限的资源还是只是常规存储，可能转换为可以轻松播放但仍在常规内存中的格式？

**在我描述的情况下，我应该：**

*   A) 在开始时创建 150 个缓冲区并用 250 MB 的数据填充它们，其中一些可能是一个小时长的声音，在整个程序期间保留它并在需要时播放它们，或者
*   B）将 250 MB 加载到内存中，并在播放前将每个声音加载到缓冲区中，以小块的形式，然后立即释放它们？

如果是 A，将数据流式传输到小缓冲区然后排队的目的是什么？

如果 B，有多少缓冲区以及其中有多少数据是安全的？我还应该建立一个缓冲池并重用它们吗？

另外，我还有一个关于缓冲区排队的问题。我知道我可以设置源缓冲区（作为属性）或将其排队（两者都做会是一个错误，对吧？）。不过，我很惊讶，显然我也必须让他们出队。为什么播放缓冲区后不会自动发生这种情况？我是否必须按照他们排队的顺序来取消他们的排队？

感谢您帮助我理解这一点。

# android - 按钮背景未按需要更改

> ID：15444098
> 
> 赞同：0
> 
> 时间：2013-03-16T00:19:36.370
> 
> 标签：android, button, imagebutton

有谁知道为什么这段代码没有根据需要更改我的按钮的背景图像？

```
protected void onResume() {
    // TODO Auto-generated method stub
    super.onResume();
    Toast.makeText(getApplicationContext(), "Size: " + Order.getInstance().getOrderItems().size(), Toast.LENGTH_SHORT).show();
    price.setText(String.valueOf(Order.getInstance().getAmount()));

    if(Order.getInstance().getOrderItems().size() > 0 && sent == false){

        sendBtn = (ImageButton)findViewById(R.id.confirmOrder);
        sendBtn.setVisibility(View.VISIBLE);
        sendBtn.setBackgroundResource(R.drawable.send);
        sendBtn.setOnClickListener(new View.OnClickListener() {
            @Override
            public void onClick(View v) {
                Toast.makeText(v.getContext(), "Review Order Screen", Toast.LENGTH_SHORT).show();
                Intent i = new Intent(v.getContext(), ReviewOrderActivity.class);
                sent = true;
                startActivity(i);
            }
        });
    }else if(sent == true){
        sendBtn = (ImageButton)findViewById(R.id.confirmOrder);
        sendBtn.setVisibility(View.VISIBLE);
        sendBtn.setBackgroundResource(R.drawable.pay);
        sendBtn.setOnClickListener(new View.OnClickListener() {
            @Override
            public void onClick(View v) {
                Toast.makeText(v.getContext(), "Pay Order Screen", Toast.LENGTH_SHORT).show();
                //Intent i = new Intent(v.getContext(), PayActivity.class);
                //startActivity(i);
            }
        });
    }

} 
```

如果用户第一次按下按钮，它应该将 a 设置`Boolean`为 true 并启动新的 Activity。当用户按下按钮返回到上一个活动时，从新活动中，它现在应该将图像设置为不同，因为`Boolean`设置为 true。

出于某种原因，它不起作用......非常感谢任何帮助！

这是 Activity 2 中的代码，它在按下按钮时将用户返回到上一个活动：

```
sendBtn = (ImageButton)findViewById(R.id.confirmOrder);
    sendBtn.setVisibility(View.VISIBLE);
    sendBtn.setBackgroundResource(R.drawable.confirm);
    sendBtn.setOnClickListener(new View.OnClickListener() {
        @Override
        public void onClick(View v) {
            //Intent k = new Intent(v.getContext(), SectionsActivity.class);
            int tableNum = Order.getInstance().getTableNumber();
            int coverNum = Order.getInstance().getCoverNumber();

            itemNames = new ArrayList<String>();

            //Get dishes from order
            for(int i = 0; i < orderItems.size(); i++){
                MenuItem item = orderItems.get(i);
                String itemName = item.getName();
                itemNames.add(i, itemName);
            }

            RequestTask requestTask = new RequestTask(url, String.valueOf(tableNum), String.valueOf(coverNum), itemNames);
            ReviewOrderActivity.this.finish();
            //startActivity(k);
        }
    }); 
```

编辑代码：

```
@Override
protected void onResume() {
    // TODO Auto-generated method stub
    super.onResume();
    Toast.makeText(getApplicationContext(), "value: " + sent, Toast.LENGTH_SHORT).show();
    price.setText(String.valueOf(Order.getInstance().getAmount()));

    if(Order.getInstance().getOrderItems().size() > 0 && sent == false){

        sendBtn = (ImageButton)findViewById(R.id.confirmOrder);
        sendBtn.setVisibility(View.VISIBLE);
        sendBtn.setBackgroundResource(R.drawable.send);
        sendBtn.setOnClickListener(new View.OnClickListener() {
            @Override
            public void onClick(View v) {
                Toast.makeText(v.getContext(), "Review Order Screen " + sent, Toast.LENGTH_SHORT).show();
                Intent i = new Intent(v.getContext(), ReviewOrderActivity.class);
                startActivityForResult(i, 0);
            }
        });
    }else if(sent == true){
        sendBtn = (ImageButton)findViewById(R.id.confirmOrder);
        sendBtn.setVisibility(View.VISIBLE);
        sendBtn.setBackgroundResource(R.drawable.pay);
        sendBtn.setOnClickListener(new View.OnClickListener() {
            @Override
            public void onClick(View v) {
                Toast.makeText(v.getContext(), "Pay Order Screen", Toast.LENGTH_SHORT).show();
                //Intent i = new Intent(v.getContext(), PayActivity.class);
                //startActivity(i);
            }
        });
    }

}

protected void onActivityResult(int requestCode, int resultCode, Intent data) {

      if (requestCode == 1) {

         if(resultCode == RESULT_OK){      
             sent = true;       
         }
         if (resultCode == RESULT_CANCELED) {    
             sent = false;
         }
      }
    }//onActivityResult 
```

在第二个活动中

```
 protected void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    this.setContentView(R.layout.activity_review);

    //Get order items from application and assign to list
    orderItems = Order.getInstance().getOrderItems();

    sendBtn = (ImageButton)findViewById(R.id.confirmOrder);
    sendBtn.setVisibility(View.VISIBLE);
    sendBtn.setBackgroundResource(R.drawable.confirm);
    sendBtn.setOnClickListener(new View.OnClickListener() {
        @Override
        public void onClick(View v) {
            //Intent k = new Intent(v.getContext(), SectionsActivity.class);
            int tableNum = Order.getInstance().getTableNumber();
            int coverNum = Order.getInstance().getCoverNumber();

            itemNames = new ArrayList<String>();

            //Get dishes from order
            for(int i = 0; i < orderItems.size(); i++){
                MenuItem item = orderItems.get(i);
                String itemName = item.getName();
                itemNames.add(i, itemName);
            }

            RequestTask requestTask = new RequestTask(url, String.valueOf(tableNum), String.valueOf(coverNum), itemNames);
            setResult(RESULT_OK); //EDIT

            ReviewOrderActivity.this.finish();
            //startActivity(k);
        }
    });

    //Create adapter and set to the list
    adapter = new ReviewOrderArrayAdapter(this, orderItems);
    this.setListAdapter(adapter);
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-16T00:33:46.673

由于无法保证 Android 不会清除您`variables`甚至您`Activity`的内存（如果它需要内存）或者 GC 不会占用它，因此您需要`variables`在`onPause()`. 您可以将它们存储在其中，`SharedPrefs`以便您可以在其中检索它们`onResume()`

您需要的另一个可能更简单的选项是使用`StartActivityForResult()`和 in`setResult()`您`SecondActivity`将传回一个`RESULT_CODE`指示以将其更改`variable`为`true`. 然后你就不需要在你的`FirstActivity`

从[文档](http://developer.android.com/reference/android/app/Activity.html#onActivityResult)

> requestCode 如果 >= 0，则活动退出时会在 onActivityResult() 中返回此代码。

你应该寻找`REQUEST_CODE`你发送的。这样，如果您需要不同的东西，您可以`startActivityForResult`多次使用`Activity`

# java - 在 Java 网格中更改 ImageIcon

> ID：15444100
> 
> 赞同：1
> 
> 时间：2013-03-16T00:19:41.017
> 
> 标签：java, swing, jbutton, chess, imageicon

我有一个简单的棋盘，我也在尝试添加棋子。我想更改图标图像而不添加更多方块。我怎样才能做到这一点？

我只想覆盖该正方形中的图像，但是我目前拥有的似乎添加了更多正方形。

国际象棋方块类采用棋子类型和 x/y 坐标。

下面的代码：

**棋盘：**

```
import javax.swing.*;
import java.awt.*;
import java.awt.event.*;

public class ChessBoard2
{   
    public static void main(String[] Args)
    {
        JFrame a = new JFrame("Chess");
        JPanel panel = new JPanel();
        ChessSquare[][] squares = new ChessSquare[8][8];
        panel.setLayout(new GridLayout(8,8));   

        int x = 0; 
        int y = 0;

        for ( x=0; x<8; x++)
            for( y=0; y<8; y++)
            {
                squares[x][y] = new ChessSquare("emptysquare", x, y); 
                panel.add(squares[x][y]);
            }

        x=5;y=8;
        squares[x][y] = new ChessSquare("king", x, y);

        a.setSize(375,375);
        a.setContentPane(panel);
        a.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
        a.setVisible(true);

    }
} 
```

**国际象棋广场：**

```
import javax.swing.*;
import java.awt.*;
import java.awt.event.*;

public class ChessSquare extends JButton
{   
    private int xPosition;  
    private int yPosition;  
    private String filename;

    public ChessSquare(String type, int x, int y)
    {
        super();

        xPosition = x;
        yPosition = y;

       if (type == "emptysquare")
       { filename = "EmptySquare.jpg";}

       if (type == "king")
       { filename = "king.jpg";}

       ImageIcon square = new ImageIcon(filename);  
       setIcon(square);

    }
} 
```

谢谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-16T00:34:53.697

```
 x=5;y=8; 
```

你不能这样做，因为你会得到一个例外。您的数组是 8x8，但它是 0 偏移量，因此您使用值 0-7 索引数组。

```
 squares[x][y] = new ChessSquare("king", x, y); 
```

该语句所做的只是将 ChessSquare 添加到您的数组中。它不会将 ChessSquare 添加到面板中。

正如您所说，无论如何您都不想创建新的 ChessSquare，您只想更改现有正方形的图标。所以代码应该是这样的：

```
ChessSquare piece = squares[4][7];
piece.setIcon( yourKingIcon ); 
```

您创建 ChessSquare 的基本代码是错误的。您应该将 Icon 作为参数传递。您不应该阅读 ChessSquare 类中的图标。

# android - 导出问题 - 到 .apk

> ID：15444101
> 
> 赞同：0
> 
> 时间：2013-03-16T00:20:00.797
> 
> 标签：android, packages

应用程序在通过 USB/Sync 从手机上的 Eclipse 测试时工作正常，当我尝试将其导出到 .apk 时，Manifest.xml 失去了对父“MasterActvity”下的 2 个活动的跟踪。然后即使 USB/Sync 停止工作，因为它无法找到活动。不使用内存存储，仅显示文本。

```
<?xml version="1.0" encoding="utf-8"?>
<manifest xmlns:android="http://schemas.android.com/apk/res/android"
package="com.example.theoreferenceguide"
android:versionCode="1"
android:versionName="1.0" >

<uses-sdk
    android:minSdkVersion="14"
    android:targetSdkVersion="17" />

<application
    android:allowBackup="true"
    android:icon="@drawable/ic_launcher"
    android:label="@string/app_name"
    android:theme="@style/AppTheme" >
    <activity
        android:name="com.example.theoreferenceguide.MasterActivity"
        android:label="@string/app_name" >
        <intent-filter>
            <action android:name="android.intent.action.MAIN" />

            <category android:name="android.intent.category.LAUNCHER" />
        </intent-filter>
    </activity>
    <activity android:name="TipActivity"></activity>  This keeps getting kicked out during .apk
    <activity android:name="UccActivity"></activity>  This keeps getting kicked out during .apk
</application>

</manifest> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-16T07:09:02.753

我同意尼科皮科。看起来您缺少 . 活动的前面，它告诉清单活动在本地命名空间中。或者，如果 TipActivity 与 MasterActivity 在同一个命名空间中，您也可以执行 android:name="com.example.theoreferenceguide.TipActivity"

# apache-flex - 当被迫使用新的/不同的证书/密钥时，如何发布 AppInventor 应用程序的更新版本？

> ID：15444102
> 
> 赞同：0
> 
> 时间：2013-03-16T00:20:05.610
> 
> 标签：apache-flex, flash-builder, flex4.5, app-inventor

一年前我涉足了 AppInventor，并构建了一个我现在需要在 Google Play 市场上更新的应用程序。

我现在正在使用 Flex/FlashBuilder4.6，并且我已经对应用程序的新版本进行了所有测试并且一切顺利，但是 android 开发人员控制台显示消息指出它必须使用相同的键来完成......

这里是否有任何类型的工作，或者我真的要放弃以前的应用程序并在 Google Play 上重新创建一个新的应用程序条目？

我在移动时设置了一个新的 MIT 帐户，可以在 MIT App Invetor 中看到一些测试项目，但没有看到有问题的应用程序，所以这一切可能都是徒劳的。我会开始考虑我可以设置旧应用程序以显示一条消息，然后链接将用户带到谷歌播放上的新应用程序配置文件但没有 zip 文件是一个交易破坏者......任何解决这个问题的方法?

感谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-16T14:18:42.337

问题是：您是仅使用 App Inventor 创建的 apk 文件（可能从 2012 年 5 月 6 日版本 125 开始）还是使用 Marketizer 或 AppToMarket 等其他工具来签署应用程序？

如果您仅使用 App Inventor，则可以使用与旧项目相同的包名称。App Inventor 项目的包名称如下所示：对于 App Inventor 项目，包名称的第一部分始终相同**appinventor.ai_**然后跟在您的**gmail 登录名**之后，然后在**.** 遵循**App Inventor 项目名称** 示例：appinventor.ai_taifunbaer.caturday

要签署应用程序，您可以使用 alias= **androidkey**和 key pwd= **android**，另请参阅[此处](http://androidhelpcenter.blogspot.in/2012/06/app-inventor-apk-file-doesns-update-in.html)

# c++ - visual c++ 包括文件夹、库等

> ID：15444103
> 
> 赞同：0
> 
> 时间：2013-03-16T00:20:32.640
> 
> 标签：c++, header, include

我是一名工程师，而不是一个强大的程序员。我正在使用 openGL 和 freeglut 编写一些模拟。我在家、在学校或工作中使用计算机进行开发，因此我需要将所有内容都包含在内。通常情况下，我通过将所需的库放在我的解决方案文件夹中并在项目属性中链接到它们来让工作正常进行。我也将任何头文件放入解决方案文件夹（或子文件夹，如果已经定义，例如 GL/freeglut.h）。然后在我的源文件中，我使用类似的命令`#include "GL/freeglut.h"`带引号。在我最近的项目中，我遇到了另一组头文件的问题，这些头文件处理具有同名类的硬件。我的理解是，如果您将标题保存在单独的文件夹中并小心命名空间，则应该没有问题。我还可以为项目配置其他包含文件夹，然后使用`#include <GL/freeglut.h>`. 设置所有这些的最佳方法是什么？

# java - akka (java) sender() 方法行为异常

> ID：15444104
> 
> 赞同：1
> 
> 时间：2013-03-16T00:20:36.193
> 
> 标签：java, akka, actor, sender

任何已知情况`TypedActor.getContext().sender()`不符合预期？

我知道在即发即弃模式下，它默认为`deadLetters`，但是我遇到了一些不同的事情：

```
// inside MainActor

IPrintingActor printingActor = create(IPrintingActor.class, PrintingActor.class);
printingActor.blockingPrintln("foo"); 
```

`create`以上只是通常调用的包装`typedActorOf`器

```
// inside PrintingActor
@Override
public boolean blockingPrintln(String string)
{
   System.out.println(TypedActor.context().sender() + " says " + string);
   return true;
} 
```

输出是

> 演员[akka://MySystem/user/$b] 说 foo

然而，这个actor实际上和TypedActor.context().self()是一样的。

sender() 调用将返回与 self() 相同的任何原因？在主角打印中打印语句

> 演员[akka://MySystem/user/$a]

对于 MainActor 和

> 演员[akka://MySystem/user/$b]

为印刷演员。然而，在 PrintingActor 中，它们都被打印为

> 演员[akka://MySystem/user/$b]

非常感谢帮助！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-16T20:41:49.637

表示方法调用的消息的发送者将始终是由“询问”模式生成的临时参与者，例如`.../temp/$a`。原因是接收回复的不是演员，而是某个内部实体，然后将回复值作为方法调用返回值返回。因此，无论它是如何实现的，您永远不会看到包含方法调用站点的参与者的引用作为发送者。

附带说明：我无法重现您的发现（即发件人是`.../user/$a`或类似的），但您也没有指定您使用的 Akka 版本。

# phpmailer - phpmailer PDF 附件突然作为文本附件发送

> ID：15444107
> 
> 赞同：0
> 
> 时间：2013-03-16T00:20:42.443
> 
> 标签：phpmailer

我们有一个以 PDF 格式向我们发送附件的脚本。工作多年，突然停止工作。

现在创建并邮寄 PDF，但不是以 PDF 格式邮寄，而是以文本文件的形式邮寄，扩展名为 .txt。

```
 $mail_handler = new PHPMailer(); // defaults to using php "mail()"
//$mail_handler->Body = $contents_mail_handler;
$mail_handler->Body = $contents_mail_handler;

$mail_handler->From = MAIL_SENDER;
$mail_handler->FromName = MAIL_SENDER;
$mail_handler->Subject = "#$inserted_order_id: $name - € $total";
$mail_handler->AddAddress($email_handler, $email_handler); 

$file_nl = "_orders/" . $filename_nl;
$mail_handler->AddAttachment($file_nl,$filename_nl);             // attachment

$file_en = "_orders/" . $filename_en;
$mail_handler->AddAttachment($file_en,$filename_en);             // attachment

$file_fr = "_orders/" . $filename_fr;
$mail_handler->AddAttachment($file_fr,$filename_fr);             // attachment

$mail_handler->Send();
$mail_handler->ClearAddresses();
$mail_handler->ClearAttachments(); 
```

文本附件内容示例： http: [//pastebin.com/tdfKfQCq](http://pastebin.com/tdfKfQCq)

任何帮助都非常感谢，谢谢！巴斯

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-16T11:23:52.450

谢谢。路径还可以。更新了phpmailer，修复了问题。

# dart - 文档不是 WindowBase 的成员

> ID：15444109
> 
> 赞同：1
> 
> 时间：2013-03-16T00:21:16.773
> 
> 标签：dart

我正在更新旧代码，这部分不起作用：

```
IFrameElement iframe = query('#myframe iframe');
Window iframeW = iframe.contentWindow;// cast error
var myframeDoc = iframeW.document; 
```

我改为`Window`“WindowBase”：

```
IFrameElement iframe = query('#myframe iframe');
WindowBase iframeW = iframe.contentWindow;
var myframeDoc = iframeW.document; 
```

但`document`不是 的成员`WindowBase`。我想访问它以进行如下查询：

```
 myframeDoc.query("#myId"); 
```

使用 javascript，该解决方案有效：

```
var myframeDoc = document.querySelector('#myframe iframe').contentWindow.document; 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-16T01:34:31.253

iFrame 和 Windows 的 API 略有不同，因此您必须使用`WindowBase`而不是`Window`.

`IFrameElement.contentWindow`您可以在 API 文档中看到 的类型，`WindowBase`您还应该在编辑器的弹出文档中看到它。

# c# - 未知类型的动态，这还能如何实现？

> ID：15444112
> 
> 赞同：1
> 
> 时间：2013-03-16T00:21:48.177
> 
> 标签：c#, database, generics, dynamic, parameters

我有一些代表数据库表的类（实体）

```
public class ALBUM
{
    public int Id { get; set; }
    public string Name { get; set; }
    public int Tracks { get; set; }
}
public class BOOK
{
    public int Id { get; set; }
    public string Author { get, set; }
} 
```

然后获取各个存储过程的参数，插入，更新，任何

```
public Command getParameters(string spName, dynamic entity, Connection conn)
{
   Command cmd = conn.CreateCommand();
   cmd.CommandType = CommandType.StoredProcedure;
   cmd.CommandText = spName;

   // Get properties (fields) from entity (table)
   PropertyInfo[] properties = entity.GetType().GetProperties();

   for (int = 0; i < properties.Length; i++)
   {
       // here I set Parameters: name, DBType, and Value from properties
   }
} 
```

现在我打电话

```
public void Some()
{
   ALBUM someAlbum = new ALBUM();
   BOOK anyBook = new BOOK();      // all respective data from DB is set

   Command newCommand = getParameters("myAlbumSP", someAlbum, myConnection);
   Command newCommand = getParameters("mySPBooks", anyBook, myConnection);
} 
```

我如何定义“实体”参数？，不是动态的。
它有效，只是我正在寻找其他方法来做到这一点，我相信有很多。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-16T00:27:00.893

在您的情况下，*不需要*`entity`（尽管肯定可以）。使用代替就足够了，因为你不会调用任何给你的东西之外的东西。这有效，因为您使用*反射*。另一方面，使用 ，您可以指定在 上找不到的属性，编译器不会抱怨。*`dynamic``object``object`*`dynamic``object`**

 **例如，由于`ALBUM`和`BOOK`都有一个`Id`参数，你可以这样写：

```
var entityId = entity.Id; 
```

只要`entity`是，这将起作用`dynamic`；它不适用于`object`.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-16T02:11:25.517

您可以使用*ExpandoObject*类。正如保罗·萨西克所说：

> Expando 是一种动态类型，旨在通过在运行时添加/删除成员来处理动态数据。dynamic 旨在允许 .NET 在与 Python 和 JavaScript 等动态类型语言交互时与类型进行互操作。

[https://stackoverflow.com/a/3540291/322848](https://stackoverflow.com/a/3540291/322848)

这是一篇解释*ExpandoObject*的文章：

[http://blogs.msdn.com/b/csharpfaq/archive/2009/10/01/dynamic-in-c-4-0-introducing-the-expandoobject.aspx](http://blogs.msdn.com/b/csharpfaq/archive/2009/10/01/dynamic-in-c-4-0-introducing-the-expandoobject.aspx)**

# jquery - 我在 HTML 中的按钮应该从 Twitter 搜索 API 获取推文，但该按钮不执行任何操作。

> ID：15444113
> 
> 赞同：0
> 
> 时间：2013-03-16T00:22:08.327
> 
> 标签：jquery, html, json

我已阅读此问题和/或类似问题的其他答案，但我不明白为什么我的按钮不起作用。它什么也不做。我什至看过任何 JSON 教程文档。

```
 <div style="padding:40px;margin-left:250px">
    <form>
       <input id="query" type="text" name="q" placeholder="word..." />
       <input id="start" type="button" value="Search" />
    </form>
    </div>
    <div><ul id="tweet" padding:"20px"></ul></div> 
```

这是下面的 JSON 代码。对如何显示上面的 HTML 有点困惑^

```
 <script type="text/javascript">
    $(document).ready(function() {
      $("button").click(function(){
       var twitterUrl = "http://search.twitter.com/search.json?q="+
         $('#subject').val()+"&rpp=10&result_type=recent?";
       $.getJSON(twitterUrl, function(data) {
         $.each(data.results, function(i, item){
       $('#tweet').append('<ul>' + item.text + '</ul>');

     });
  });
});     
</script> 
```

如何使我的按钮工作？还有如何让推文结果显示在新窗口中？因此，如果您单击按钮，它将打开带有结果的新窗口。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-16T00:28:19.177

在 Twitter 搜索 API 的 URL 中使用`callback=?`参数。请在此处查看 JSONP 的文档和 Flickr 示例：http: [//docs.jquery.com/Ajax/jQuery.getJSON](http://docs.jquery.com/Ajax/jQuery.getJSON)

# javascript - 是否可以结合 kinetic.js 和backbone.js？

> ID：15444114
> 
> 赞同：5
> 
> 时间：2013-03-16T00:22:13.990
> 
> 标签：javascript, backbone.js, kineticjs

我想编写一个简单地在屏幕上放置一个矩形的应用程序。但是我需要为此结合 kinetic.js 和backbone.js，我不确定它是否可以完成。动力学代码为：

```
 document.getElementById('rect').addEventListener('click', function() {
    rect = new Kinetic.Rect({
    x: 239,
    y: 75,
    width: 100,
    height: 50,
    fill: 'green',
    stroke: 'black',
    strokeWidth: 4,
    offset: [50,25],
    draggable: true,
  }); 
```

和主干代码

```
$(function() {
var Shape = Backbone.Model.extend({
defaults: { x:50, y:50, width:150, height:150, color:'gray' },
setTopLeft: function(x,y) { this.set({ x:x, y:y }); },
setDim: function(w,h) { this.set({ width:w, height:h }); },
isCircle: function() { return !!this.get('circle'); }
}); 
```

*我在这些路径中添加了 .html 文件

```
<script type="text/javascript" src="http://cdnjs.cloudflare.com/ajax/libs/jquery/1.7/jquery.min.js"></script>
<script type="text/javascript" src="http://d3lp1msu2r81bx.cloudfront.net/kjs/js/lib/kinetic-v4.3.3.min.js"></script>
<script type="text/javascript" src="http://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.2.2/underscore-min.js"></script>
<script type="text/javascript" src="http://cdnjs.cloudflare.com/ajax/libs/backbone.js/0.5.3/backbone-min.js"></script> 
```

我只想在主干中放置动力学部分而不是默认值。可能吗？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-03-19T19:16:06.837

在您的帮助下，我们编写了这个工作示例，它使用 kinetic.js 和backbone.js 在屏幕上放置了一个矩形。我希望它对正在寻找这种集成代码的人有用。非常感谢你的帮助！

```
var KineticModel = Backbone.Model.extend({
    myRect: null,

    createRect : function() {
            alert("rectangle created.");
            var rect=new Kinetic.Rect({
                            x: 10,
                            y: 10,
                            width: 100,
                            height: 50,
                            fill: 'green',
                            stroke: 'black',
                            strokeWidth: 1,
                            offset: [0, 0],
                            draggable: true,
                      });
            return rect;
        }
});

var KineticView = Backbone.View.extend({
        tagName: 'span',
        stage: null,
        layer: null,

        initialize: function (options) {
            model: options.model;
            el: options.el;
            this.layer = new Kinetic.Layer();
            this.stage = new Kinetic.Stage({ container: this.el, width: 400, height: 400 });
            this.stage.add(this.layer);
        },
        events: {
            'click': 'spanClicked'
        },
        render: function () {
            var rect = this.model.createRect();
            this.layer.add(rect);
            this.stage.add(this.layer);
            alert("render");
        },
        spanClicked: function () {

        }
});

    var kModel = new KineticModel({});
    var kView = new KineticView({ el: '#container', model: kModel });

    $('#shapetest').click(function() {
        kView.render();
    }); 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-03-17T01:23:41.930

是的，这绝对是可能的。我将创建一个模型来存储您将在形状中使用的数据，使用视图通过单击我来呈现跨度标记，将事件侦听器附加到跨度，然后在用户单击时输出矩形。

```
var ShapeModel = Backbone.Model.extend({});
    var rectangle = new ShapeModel({
        x: 10,
        y: 10,
        width: 100,
        height: 50,
        fill: 'green',
        stroke: 'black',
        strokeWidth: 4,
        offset: [0, 0],
        draggable: true,
    });
    var RectangleView = Backbone.View.extend({
        tagName: 'span',
        initialize: function (options) {
            model: options.model;
            el: options.el;
        },
        events: {
            'click': 'spanClicked'
        },
        render: function () {
            this.$el.text('click me');
        },
        spanClicked: function () {
            var stage = new Kinetic.Stage({
                container: this.el,
                width: 200,
                height: 200                    
            });
            var layer = new Kinetic.Layer();
            var rect = new Kinetic.Rect(this.model.toJSON());
            layer.add(rect);
            stage.add(layer);
        }
    });
    var rectangleView = new RectangleView({ el: '#shapetest', model: rectangle });
    rectangleView.render(); 
```

我也会升级到最新版本的 Backbone 和 Underscore。

另外，感谢您指出 Kinetic。希望它支持在移动设备上的画布上绘图。

# python - 带有pycharm导入错误的kivy

> ID：15444116
> 
> 赞同：4
> 
> 时间：2013-03-16T00:22:22.160
> 
> 标签：python, windows, pycharm, kivy

（这里是 python+kivy 的新功能）。

嗨，我正在尝试让 python 与 Kivy 一起运行，我只是想知道是否有办法在 PyCharm 中运行 Kivy 应用程序，因为我遇到了一个错误：

```
Traceback (most recent call last):
  File "C:/Kivy/kivy/examples/tutorials/pong/main.py", line 1, in <module>
    import kivy
ImportError: No module named kivy 
```

使用 pycharm 加载此文件时，请注意这是开箱即用的示例游戏，我可以通过右键单击->sendTo->kivy.bat 运行该应用程序，但我认为大型应用程序实际上不会这样做 - .- 必须有一种更简单（希望更形象）的方式来使用 Kivy，在向 Google 博士提出了很多要求后，我放弃了，在此先感谢！:)

顺便说一句：我的主要兴趣是制作发出基本数据库请求的应用程序，同时对 GUI 友好，Kivy 是我在 WX 旁边的第一选择，但如果有任何建议欢迎他们:)

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-11T20:47:27.993

在 OSX 上使用 PyCharm，我遇到了同样的问题，并通过在 PyCharm 中创建一个 VirtualEnv（参见 PyCharm 文档）和一些到 virtualenv 的 Kivy 路径来解决它。您可以通过选择 VirtualEnv 并选择选项卡“路径”来找到它。您可能可以通过检查 kivy.bat 文件找出正确的路径。我在 Mac 上做了类似的事情。我想包含一张图片来显示我的路径设置，但我的 Stackoverflow 业力级别不允许这样做。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-04-15T18:47:47.160

我刚刚发布了一个关于[如何在 os x 上设置 pycharm 和 kivy的教程](https://coderwall.com/p/te13rg)

适用于 Windows 的短版（我认为这会起作用）：

安装 kivy 后，您需要为 kivy 创建一个 python 解释器 - 如果您已经安装了 python，那么执行 Kivy 工作的 python 是错误的。检查 C:/Kivy/kivy/ 或 kivy.bat 的内容以获取与 kivy 一起分发的 python.exe 的路径（我在一页上找到了 C:\Kivy141\Python\python.exe，但如果你手动安装kivy）

当你找到它时，你的 kivy 项目 python 解释器必须是那个。

祝你好运！

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-01-20T08:00:43.270

PyCharm 4.0 改变了答案，现在它只是设置了一些环境变量。我更新了[Kivy Wiki 以在 OSX 上设置 PyCharm](https://github.com/kivy/kivy/wiki/Setting-Up-Kivy-with-various-popular-IDE's#setting-up-kivy-with-pycharm-4-on-osx)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2016-02-15T21:37:07.983

对于任何可能看到此内容的人：

按照 wiki 指南创建符号链接。在 Pycharm 中，为项目解释器添加一个本地文件，然后单击“更多”按钮，转到铅笔，并手动将链接更改为 /Applications/Kivy.app/Contents/Resources/script 。这就是我让我的工作的方式，最新的 PyCharm CE、Kivy、Python 3.5 和 El Capitan

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2015-12-21T20:48:51.643

对于 OSX 10.10.2、kivy 1.9.0 和 Pycharm 5.0.2（免费社区版），以下链接中的说明对我有用：

[在 OS X 10.10.3 上使用 PyCharm 4.5 EAP 设置 Kivy 1.9.0](https://github.com/kivy/kivy/wiki/Setting-Up-Kivy-with-various-popular-IDE's#setting-up-kivy-190-with-pycharm-45-eap-on-os-x-10103)

1.  在说明中替换`PyCharm`（`PyCharm-EAP`仅出现一次）。

2.  我分别输入了每个环境变量，而不是将它们粘贴为一个长字符串。

3.  注意输入内容的窗口的标题。说明确切地告诉您应该查看哪个窗口。

# ruby - `map` 基于条件

> ID：15444118
> 
> 赞同：15
> 
> 时间：2013-03-16T00:22:27.530
> 
> 标签：ruby, struct

我有一个这样的结构：

```
Struct.new("Test", :loc, :type, :hostname, :ip)

clients = [
Struct::TestClient.new(1, :pc, "pc1", "192.168.0.1")
Struct::TestClient.new(1, :pc, "pc2", "192.168.0.2")
Struct::TestClient.new(1, :tablet, "tablet1", "192.168.0.3")
Struct::TestClient.new(1, :tablet, "tablet2", "192.168.0.3")
and etc...
] 
```

如果我想获取所有设备的 IP 地址，我可以使用`test_clients.map(&:ip)`. 如何选择特定设备的 IP 地址，比如所有设备类型调用`"tablet"`？我该怎么做`map`？

* * *

## 回答 #1

> 赞同：28
> 
> 时间：2013-03-16T00:25:26.220

先做[`select`](http://ruby-doc.org/core-2.0/Enumerable.html#method-i-select)一个

```
clients.select{|c| c.type == 'tablet'}.map(&:ip) 
```

* * *

## 回答 #2

> 赞同：13
> 
> 时间：2019-06-12T15:14:38.757

**红宝石 2.7+**

Ruby 2.7 正是`filter_map`为此目的而引入的。它是惯用的和高性能的，我希望它很快就会成为常态。

例如：

```
numbers = [1, 2, 5, 8, 10, 13]
enum.filter_map { |i| i * 2 if i.even? }
# => [4, 16, 20] 
```

这是一个[很好的阅读主题](https://blog.saeloun.com/2019/05/25/ruby-2-7-enumerable-filter-map.html)。

希望这对某人有用！

* * *

## 回答 #3

> 赞同：11
> 
> 时间：2017-07-12T20:21:02.020

答案就这么简单：

```
clients.map { |client| client.ip if client.type == 'tablet' }.compact 
```

使用条件映射将为未满足条件的客户端提供 nil，因为只有我们保留了`compact`，这实际上会刷新 nil 值。

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2013-03-16T00:42:53.217

Sergio Tulentsev 使用`#collect`. 我认为 using`#collect`在语义上是正确的。我知道 OP 询问如何使用`#map`，但这是我的两分钱。

```
clients.collect { |c| c.ip if c.type == "tablet" } # will return nils for clients where the type is not "tablet"

# or

clients.select { |c| c.type == "tablet" }.collect(&ip) 
```

# neo4j - 面向 Web 开发人员的 Cypher 学习

> ID：15444120
> 
> 赞同：7
> 
> 时间：2013-03-16T00:23:21.100
> 
> 标签：neo4j, cypher

我想将 Neo4j 用于我的 Web 应用程序。我在服务器端使用 Node.js。据我了解，我将不得不学习 Cypher 来查询数据库。

在网站上，我只能找到参考指南。我正在寻找一些完整的教程，至少是介绍性部分，关于将其集成到网站开发过程中。我不知道Java，我现在不想学习它。

感谢分享！

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2013-03-16T01:02:54.670

有一些 SQL 知识，本次网络研讨会将带您一步一步从 0 到初学者：[http](http://watch.neo4j.org/video/60292144) ://watch.neo4j.org/video/60292144 在此之后，您将不得不参考自己的服务器端语言来完成集成，但这应该是最轻松的部分。

以下是一些有用的初学者知识来源：

观看有关 Cypher 的网络研讨会：
[http ://watch.neo4j.org/](http://watch.neo4j.org/)

[在http://console.neo4j.org](http://console.neo4j.org)中玩耍

查看支持 Cypher 的各种 node.js 驱动程序——我相信 Thingdom 是最受欢迎的：
[https ://github.com/thingdom/node-neo4j](https://github.com/thingdom/node-neo4j)

在 Max 的博客上查看使用 Cypher 的示例：http:
[//maxdemarzi.com/category/cypher/](http://maxdemarzi.com/category/cypher/)

Luanne 发布了一个出色的查询优化指南（对于新手来说可能有点高级，但您仍然应该阅读它），以及同一博客上的其他 Cypher 相关帖子：http:
[//thought-bytes.blogspot.com /2013/01/optimizing-neo4j-cypher-queries.html](http://thought-bytes.blogspot.com/2013/01/optimizing-neo4j-cypher-queries.html)

此外，我最近发布了两篇关于 Cypher 的介绍性博客文章，并计划发布更多：
[http ://wes.skeweredrook.com/cypher/](http://wes.skeweredrook.com/cypher/)

图数据库书： http:
[//graphdatabases.com/](http://graphdatabases.com/)

随意在此处发布您的新手 Cypher 问题——我会将其设置为社区 wiki，以防任何人有更多资源要添加。

# meteor - 是否可以在流星上进行 2 路数据绑定

> ID：15444121
> 
> 赞同：14
> 
> 时间：2013-03-16T00:23:28.897
> 
> 标签：meteor

我是流星的新手。我正在寻找一种在模型/集合到模板之间执行 2 路数据绑定的方法。我的理解是，当集合的内容发生变化时，模板会对此变化做出反应并自行更新。但是，如何在用户键入时自动收集，例如在文本框中？

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2013-03-16T14:25:28.423

您可以使用[模板事件绑定](http://docs.meteor.com/#template_events)

例如，如果你有

**html**

```
<template name="home">
    <input type="text" name="text" value="{{text}}"/>
</template> 
```

**客户端js**

```
Template.home.text = function() {
    return MyCollection.findOne({_id:"1"}).text;
}

Template.home.events({
    'change input[name=text]':function(event,context) {
        MyCollection.update(_id, {$set:{text:event.target.value}});
    }
}); 
```

因此，一旦文本框失去焦点/按下输入/等，它将立即更新

如果您想使用提交按钮并获得更酷的东西，请查看[github 上流星的控制器分支，以](https://github.com/meteor/meteor/tree/controllers)了解目前正在开发的简单表单系统，以简化这一点。

# javascript - 返回 jQuery 自动完成中未定义的第一个击键数据

> ID：15444122
> 
> 赞同：0
> 
> 时间：2013-03-16T00:23:34.143
> 
> 标签：javascript, jquery, ajax, jquery-autocomplete

我正在尝试使用下面说明的方法（即单独的源函数和数据的中间变量）来实现 jQuery 自动完成。现在我正在尝试将数据获取到 autoComplete 函数的源部分。

下面的代码适用于一个致命问题，第一次击键返回一个未定义的`returnData`变量。任何人都可以解释发生了什么吗？

```
var returnData;
function sourceFn() {
    return $.ajax({
        url: //REST URL,
        dataType: "jsonp",
        async: false,
        data: {
            featureClass: "P",
            style: "full",
            maxRows: 12,
            name_startsWith: request.term
        },
        success: function (data) {
            returnData = data;
        },
    })
}
}

$("input#search-input").bind("autocompleteselect", jQuery.proxy(function (event, ui) {}, this)).autocomplete({
    appendTo: "#yt-result-list",
    source: function (request, response) {
        sourceFn(request, response).done(alert("returnData: " + JSON.stringify(returnData)));

    }
}).data("autocomplete")._renderItem = jQuery.proxy(function (ul, item) {
    alert(item);
}, this)

});
});
}); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-16T00:31:24.120

尝试`minLength: 0`在初始化自动完成时指定，检查 returnData 的值以查看是否从服务器获取 json（使用 firebug）。看起来你没有从只有一个字母的 ajax 调用中得到，自动完成正在`sourceFn()`正确触发。

# maven - 获取最新依赖项时，区分来自主干的 Maven 版本/快照与来自分支的版本/快照

> ID：15444124
> 
> 赞同：2
> 
> 时间：2013-03-16T00:24:05.643
> 
> 标签：maven, maven-2, maven-3, nexus, artifactory

我正在致力于为大量相互依赖的模块自动化 maven 发布的项目。首先，该任务涉及获取内部依赖项的最新版本。比以一种在需要之前构建每个项目的方式对构建进行排序。希望这种组合能让我实现一键批量发布的目标。

但是我最大的问题是：我们不时分支项目，并且我们从该分支向 Nexus 存储库管理器发布/快照。显然，因为 groupId 和 ArtifactId 与主干相同 - 来自主干的快照/发布和来自分支的快照/发布最终位于 nexus 中的同一位置。

在我们有一个主干版本为 1.1.x 的 projectA 和 projectB → projectA 版本 1.1.x 的场景中，所以如果我使用 version-plugin 获取 B 的最新依赖项，我将获得最新的。（完美的）

但是，如果我稍后使用版本 1.2.0 分支 ProjectA 并添加我不希望 projectB 获取或可能破坏它的更改。现在下次我运行 projectB 并使用版本插件获取最新的，该插件将获取 ProjectA 的分支版本（1.2.0），因为它在数字上是最新的。就这样，projectB 构建失败了。

到目前为止，我已经尝试向工件添加分类器以区分两者，但后来我意识到插件不会对分类器起作用。

这让我非常沮丧，并会感谢任何提示或建议

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-17T10:35:42.697

简单地为分支使用正确/不同的工件名称。您可以自动创建正确的工件名称[Maven 发布插件](http://maven.apache.org/maven-release/maven-release-plugin/examples/branch.html)

```
mvn --batch-mode release:branch -DbranchName=my-branch-1.2 -Dproject.rel.org.myCompany:projectA=1.2 -Dproject.dev.org.myCompany:projectA=2.0-SNAPSHOT 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-18T16:55:45.067

解决这个问题的典型方法是使用分支名称作为版本分类器，这种方法适用于我目前看到的所有场景。你遇到了什么问题？

# jquery - 使用 jQuery 替换表单操作中的 URL 查询字符串参数值

> ID：15444125
> 
> 赞同：2
> 
> 时间：2013-03-16T00:24:09.913
> 
> 标签：jquery

我有以下表格

```
<form action="http://www.domain.com/processing.php?page=first&section=77&userid=replaceme"> 
```

如何使用 jquery 我可以用 jquery 变量更新“replaceme”？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-16T00:43:42.310

我认为您应该使用正则表达式并匹配“userid”参数的名称，而不是“replaceme”值。

尝试：

```
var $form = $('form');
$form.prop('action', $form.prop('action').replace(/([\?&])(userid=)[^&#]*/, '$1$2' + newValue)); 
```

在哪里`newValue`保存你想要的东西来代替“replaceme”的变量。

注意：在您的 html 中，URL 中的“&”字符应替换为字符 entity `&amp;`。

**更新：**

使用@undefined 的建议，这将是：

```
$('form').prop('action', function(i, action){ return action.replace(/([\?&])(userid=)[^&#]*/, '$1$2' + newValue); }); 
```

现在不需要`$form`变量了。

这是一个[jsfiddle 演示](http://jsfiddle.net/john_s/AsGc9/3/)，显示了以下情况：

1.  “userid”参数是最后一个参数，在至少一个其他参数之后。
2.  “userid”参数是中间参数，前一个参数，后一个参数。
3.  “userid”参数是第一个参数，后面是其他参数。
4.  有一个名称以“userid”结尾的参数，不应替换。
5.  URL 的末尾有一个#tag，就在“userid”参数之后。

正则表达式的解释：

*   第一组`$1`匹配一个“？” 或者 '＆'。
*   第二组`$2`匹配'userid='。
*   然后匹配字符，直到到达 '&' 或 '#' 或直到字符串的末尾。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-16T00:27:18.647

首先添加一个ID：

```
<form id="myForm" action="http://www.domain.com/processing.php?page=first&section=77&userid=replaceme"> 
```

然后在 DOM 上准备好：

```
$(function() {
    var $form = $('#myForm');
    var someVar = 'foo';
    $form.attr('action', $form.attr('action').replace('replaceme', someVar));
}); 
```

**演示**：http: [//jsfiddle.net/HBQcx/](http://jsfiddle.net/HBQcx/)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-16T00:34:46.987

假设您有以下标记：

```
 <form id="testform" action="http://www.domain.com/processing.php?page=first&section=77&userid=replaceme">
</form> 
```

并且您想更改`action`属性中的一些文本::

```
action = $('#testform').attr('action');//get the action attribute.
console.log(action);
action = action.replace('replaceme','changed');//change the action text.
$('#testform').attr('action',action);//change the action attribute.
console.log($('#testform').attr('action'));//test the results. 
```

# java - doGet 方法在运行于 tomcat 7 的 servlet 中被调用两次，并使用 IntelliJ Idea 12 创建

> ID：15444128
> 
> 赞同：5
> 
> 时间：2013-03-16T00:24:30.147
> 
> 标签：java, jakarta-ee, tomcat, servlets, intellij-idea

我在 doGet 正文中创建了一个只有一个 System.out.println() 方法的简单 servlet，但是当我使用 IntelliJ Idea 12 在 Tomcat 7 中运行它时，我收到 System.out.println() 方法打印两次的消息。

这是我的 web.xml ：

```
<?xml version="1.0" encoding="UTF-8"?>
<web-app xmlns="http://java.sun.com/xml/ns/javaee"
           xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
           xsi:schemaLocation="http://java.sun.com/xml/ns/javaee
          http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd"
           version="3.0">

    <servlet>
        <description>A simple servlet</description>
        <display-name>SimpleServlet</display-name>
        <servlet-name>SimpleServlet</servlet-name>
        <servlet-class>org.skiabox.myservlet.SimpleServlet</servlet-class>
    </servlet>

    <servlet-mapping>
        <servlet-name>SimpleServlet</servlet-name>
        <url-pattern>/SimpleServletPath</url-pattern>
    </servlet-mapping>
</web-app> 
```

这是 SimpleServlet.java ：

```
package org.skiabox.myservlet;

import javax.servlet.ServletException;
import javax.servlet.http.HttpServlet;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;
import java.io.IOException;

public class SimpleServlet extends HttpServlet {
    protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {

    }

    protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
        System.out.println("Hello from GET method.");
    }
} 
```

这是 SimpleServletProject.iml ：

```
<?xml version="1.0" encoding="UTF-8"?>
<module type="JAVA_MODULE" version="4">
  <component name="FacetManager">
    <facet type="web" name="Web">
      <configuration>
        <descriptors>
          <deploymentDescriptor name="web.xml" url="file://$MODULE_DIR$/web/WEB-INF/web.xml" />
        </descriptors>
        <webroots>
          <root url="file://$MODULE_DIR$/web" relative="/SimpleServletProject" />
        </webroots>
      </configuration>
    </facet>
  </component>
  <component name="NewModuleRootManager" inherit-compiler-output="true">
    <exclude-output />
    <content url="file://$MODULE_DIR$">
      <sourceFolder url="file://$MODULE_DIR$/src" isTestSource="false" />
    </content>
    <orderEntry type="inheritedJdk" />
    <orderEntry type="sourceFolder" forTests="false" />
    <orderEntry type="library" scope="PROVIDED" name="Tomcat 7.0" level="application_server_libraries" />
  </component>
</module> 
```

..这是 Tomcat 7 设置的图像：

![Tomcat 设置](../Images/1f8c6b7ab39840fba327b57bb0921bbb.png)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-16T19:09:46.183

我已将 url 映射更改为 / 现在我的简单 jsp 页面都在运行`http://localhost:8080/SimpleServerProject`，我的 servlet 只运行一次 doGet 方法！

# java - Do-while 循环“字符串索引超出范围”

> ID：15444130
> 
> 赞同：0
> 
> 时间：2013-03-16T00:24:41.070
> 
> 标签：java, while-loop, do-while

我收到了那个错误，我不知道为什么。我尝试了一些不同的方法，例如从 to a 开始，`(!(flag... then == '+'`其中`==`do 语句正下方的行也出现错误。有人看到问题了吗？我现在想要实现的主要目标是重复循环以再次打印绳索，并将标志放在左侧或右侧的不同位置。

```
package program2;

import java.util.Scanner;
import java.lang.Math;

public class Program2 {

public static int MAX_LENGTH = 21;
public static int MIN_LENGTH = 5;

public static void main(String[] args) {
    Scanner keyboard = new Scanner(System.in);
    System.out.print("Enter the length of the rope: ");
    int ropeLength = keyboard.nextInt();
    while (ropeLength < MIN_LENGTH || ropeLength > MAX_LENGTH || ropeLength % 2 != 1) {
        System.out.println("Thats not a valid length (odd number between 5 and 21)");
        System.out.print("Enter the length of the rope: ");
        ropeLength = keyboard.nextInt();
    }
    char a;
    String flag = "+";
    for (int i = 0; i < ropeLength / 2; i += 1) {
        System.out.print("-");
    }
    System.out.print(flag);

    for (int i = 0; i < ropeLength / 2; i += 1) {
        System.out.print("-");
    }
    System.out.println("");

    do {
        //a = flag.charAt(ropeLength);
        double rand = Math.random();

        if (rand > 0.5) {
            for (int i = 0; i < (ropeLength / 2) - 1; i++) {
                System.out.print("-");
            }

            System.out.print(flag);

            for (int i = 0; i < (ropeLength / 2) + 1; i++) {
                System.out.print("-");
            }
        if (rand < 0.5) {
            for (int i = 0; i < (ropeLength / 2) + 1; i++) {
                System.out.print("-");
                }

            System.out.print(flag);

            for (int i = 0; i < (ropeLength / 2) - 1; i++) {
                System.out.print("-");
               }

            } 
        }
    } while (flag.charAt(0) != '+' || flag.charAt(ropeLength - 1) != '+');

} 
```

}

至于 do while 循环，我的 for 循环似乎只重复一次或两次。

```
 do {
    //a = flag.charAt(ropeLength);
    double rand = Math.random();

    if (rand > 0.5) {
        for (int i = 0; i < (ropeLength / 2) - 1; i++) {
            System.out.print("-");
        }

        System.out.print(flag);

        for (int i = 0; i < (ropeLength / 2) + 1; i++) {
            System.out.print("-");
        }
    if (rand < 0.5) {
        for (int i = 0; i < (ropeLength / 2) + 1; i++) {
            System.out.print("-");
            }

        System.out.print(flag);

        for (int i = 0; i < (ropeLength / 2) - 1; i++) {
            System.out.print("-");
           }

        } 
    }
} while (flag.charAt(0) != '+' || flag.charAt(ropeLength - 1) != '+'); 
```

}

最后一件事，我是否需要我在 do 下注释掉的代码？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-16T01:00:04.163

你有：

```
String flag = "+"; 
```

你永远不会修改它。所以当你有条件时：

```
flag.charAt(ropeLength - 1) != '+' 
```

除非ropeLength 等于1，否则它将始终超出范围。

正如我所提到的，关于代码的实际行为，您永远不会修改`flag`变量。因此它的第一个字符将始终是`'+'`，因此您的循环将始终执行一次。

因此，根据您的目标，我在您的代码中看到的第一个问题是您使用的方式`flag`和`print/println`方法。如果你想知道它在哪里`'+'`，你可以使用`StringBuilder`这种方式。

前：

```
String flag = "+";
for (int i = 0; i < ropeLength / 2; i += 1) {
    System.out.print("-");
}
System.out.print(flag);

for (int i = 0; i < ropeLength / 2; i += 1) {
    System.out.print("-");
}
System.out.println(""); 
```

后：

```
StringBuilder flag = new StringBuilder( ropeLength );
for (int i = 0; i < ropeLength / 2; i += 1) {
    flag.append( '-' );
}
flag.append( '+' );

for (int i = 0; i < ropeLength / 2; i += 1) {
    flag.append( '-' );
}

System.out.println( flag.toString() );

// Resetting the StringBuilder for reuse
flag.setLength( 0 ); 
```

但是，关于 do/while 循环，您应该修改整个算法。这种写法，如果你使用我上面提到的 StringBuilder ，`'+'`只会在“绳子”的中心无限期地抖动。我很确定这不是真正的意图。

# arrays - MATLAB 中的大型数据数组操作

> ID：15444131
> 
> 赞同：0
> 
> 时间：2013-03-16T00:24:49.460
> 
> 标签：arrays, matlab, large-data

我在数组 <1x43 单元格> 中有一个大型数据集。数据量非常大，这些是一些单元格尺寸 - 5 个是 <1x327680 double>，11 个是 <1x1376256 double>

我正在尝试执行我有一个功能的重新采样操作。（功能代码如下所示）。我正在尝试从数组中取出整个单元格，执行重采样操作并将结果存储回相同的数组位置或不同的位置。

但是，我在第 19 行或 Resample 函数中收到以下错误 -

**“错误使用零超出了程序允许的最大变量大小。重新采样错误（第 19 行）obj = zeros(t,1);**

当我评论我们的第 19 行时，我遇到了内存不足的错误。

请问有没有更有效的方法来操作这么大的数据集？

谢谢你。

**实际代码：**

```
%% To load each ".dat" file for the 51 attributes to an array.

a = dir('*.dat');

for i = 1:length(a)
eval(['load ' a(i).name ' -ascii']);
end

attributes = length(a);

% Scan folder for number of ".dat" files
datfiles = dir('*.dat'); 

% Count Number of ".dat" files
numfiles = length(datfiles); 

% Read files in to MATLAB
for i = 1:1:numfiles
    A{i} = csvread(datfiles(i).name);
end

% Remove discarded variables
ind = [1 22 23 24 25 26 27 32]; % Variables to be removed.
A(ind) = [];

% Reshape all the data into columns - (n x 1) 
for i = 1:1:length(A)
    temp = A{1,i};
    [x,y] = size(temp);
    if x == 1 && y ~= 1
        temp = temp';
        A{1,i} = temp;
    end
end

% Retrieves the frequency data for the attributes from Excel spreadsheet
frequency = xlsread('C:\Users\aajwgc\Documents\MATLAB\Research Work\Data\testBig\frequency');

% Removing recorded frequency for discarded variables
frequency(ind) = [];

% Upsampling all the attributes to desired frequency
prompt = {'Frequency (Hz):'};
dlg_title = 'Enter desired output frequency for all attributes';
num_lines = 1;
def = {'50'};
answer= inputdlg(prompt,dlg_title,num_lines,def);
OutFreq = str2num(answer{1});

m = 1; 
n = length(frequency);
A_resampled = cell(m,n);
A_resampled(:) = {''};

for i = length(frequency);
    raw = cell2mat(A(1,i));
    temp= Resample(raw, frequency(i,:), OutFreq);
     A_resampled{i} = temp(i);
end 
```

**重采样功能：**

```
function obj = Resample(InputData, InFreq, OutFreq, varargin)
%% Preliminary setup
% Allow for selective down-sizing by specifying type
type = 'mean'; %default to the mean/average

if size(varargin,2) > 0
    type = varargin{1};
end

% Determine the necessary resampling factor
factor = OutFreq / InFreq;

%% No refactoring required
if (factor == 1)
    obj = InputData;
%% Up-Sampling required
elseif (factor > 1)
    t = factor * numel(InputData(1:end));
    **obj = zeros(t,1); ----------------> Line 19 where I get the error message.**

    for i = 1:factor:t
        y = ((i-1) / factor) + 1;
        z = InputData(y);
        obj(i:i+factor) = z;
    end
%% Down-Sampling required
elseif (factor < 1)    
    t = numel(InputData(1:end));
    t = floor(t * factor);
    obj = zeros(t,1);
    factor = int32(1/factor);

    if  strcmp(type,'mean') %default is mean (process first)
        for i = 1:t
            y = (factor * (i-1)) + 1;
            obj(i) = mean(InputData(y:y+factor-1));
        end    
    elseif strcmp(type,'min')
        for i = 1:t
            y = (factor * (i-1)) + 1;
            obj(i) = min(InputData(y:y+factor-1));
        end 
    elseif strcmp(type,'max')
        for i = 1:t
            y = (factor * (i-1)) + 1;
            obj(i) = max(InputData(y:y+factor-1));
        end 
    elseif strcmp(type,'mode')
        for i = 1:t
            y = (factor * (i-1)) + 1;
            obj(i) = mode(InputData(y:y+factor-1));
        end 
    elseif strcmp(type,'sum')
        for i = 1:t
            y = (factor * (i-1)) + 1;
            obj(i) = sum(InputData(y:y+factor-1));
        end   
    elseif strcmp(type,'single')
        for i = 1:t
            y = (factor * (i-1)) + 1;
            obj(i) = InputData(y);
        end
    else
        obj = NaN;
    end
else
    obj = NaN;
end 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-21T15:36:41.667

如果您有 DSP 系统工具箱，您可以使用例如 dsp.FIRInterpolator 系统对象（[http://www.mathworks.co.uk/help/dsp/ref/dsp.firinterpolatorclass.html](http://www.mathworks.co.uk/help/dsp/ref/dsp.firinterpolatorclass.html)）并调用它的步骤（ ) 功能重复，以避免一次处理所有数据。

顺便说一句，上/下采样（插值和抽取）是比您想象的更复杂的概念；在最一般的意义上，它们都需要某种形式的过滤来去除此类过程产生的伪影。

您可以自己设计这些滤波器并将您的信号与它们进行卷积，但是进行这种滤波器设计需要在信号处理方面打下坚实的基础。如果你想走这条路，我建议在没有参考文本的情况下从容易出错的地方拿起一本教科书。

# r - 如何创建一个列是 2 列之间的差异？

> ID：15444133
> 
> 赞同：2
> 
> 时间：2013-03-16T00:25:17.517
> 
> 标签：r

所以我有以下列，我需要创建一个新列，它是它们两者之间的差异，U-Mean。但是当我这样做时，我会得到一个与“U”相同的新列

这是两列的输入

意思是：

```
c(1.55253151317529e+73, 5.42630341565764e+72, 1.22360008978886e+73, 
1.44754562839592e+73, 6.15300952473276e+73, 3.92849083208013e+72, 
1.39907822366272e+73, 2.970729344696e+71, 1.2320012180046e+71, 
1.10765949579834e+72, 4.21312101733708e+70, 5.13240241235222e+72, 
1.38229078824807e+68, 3.62297632538558e+68, 4.97331594982401e+73, 
3.6320637537423e+71, 2.14299728784724e+69, 7.76102613008456e+72, 
2.54479231787974e+73, 1.2551256832845e+69, 1.48931149067776e+74, 
1.43341267107345e+70, 4.20074897519876e+70, 5.10699623700277e+71, 
3.57000197272229e+70, 3.33342400641716e+69, 7.01251747522522e+71, 
3.14452082179796e+70, 6.41657409256216e+72, 8.3470989604027e+74, 
8.14062942045136e+72, 2.42755708858872e+70, 1.01628065622882e+71, 
1.83846717218483e+72, 1.12267076186172e+70, 4.11806255937942e+69, 
6.29839174284616e+69, 1.4326205924077e+71, 3.29376960704195e+71, 
1.91951007014028e+68, 2.48953274835279e+69, 4.7250404611893e+73, 
1.3188288351312e+67, 1.19431230433792e+70, 9.997056482597e+69, 
9.6958762321997e+69, 1.33691693237741e+69, 6.48697251345129e+70, 
2.21843437635598e+73, 1.60661616551939e+73, 7.12479122077463e+69, 
2.58201096048811e+69, 1.25512730017043e+71, 4.58689558053565e+71, 
1.30350485529305e+70, 2.23357150130185e+69, 2.90852294755605e+70, 
6.45275020406759e+70, 3.31939435138082e+67, 2.36170408236555e+72, 
5.3542701058383e+71, 1.17788187628994e+74, 3.89751907340584e+73, 
2.41420070426009e+73, 4.82936778869107e+73, 7.59256110238055e+73, 
1.26139096660225e+74, 4.43714148727955e+72, 1.70491087685728e+73, 
2.7754730346649e+71, 3.13542074129113e+74, 5.31506649544345e+74, 
8.63562922676285e+72, 1.50746701657928e+73, 3.16188888940025e+73, 
2.45980350289092e+71, 6.2927904089503e+69, 6.50707963215015e+72, 
7.05248011964843e+66, 1.24434480077796e+74, 1.04056675322264e+73, 
1.22286152625816e+73, 6.05031234067607e+71, 4.90660383403135e+71, 
1.22950366003675e+75, 3.95977914666399e+73, 4.5597290479942e+71, 
5.77344333696613e+70, 1.59325176016623e+73, 1.52170375878966e+69, 
1.07082850186347e+75, 3.01792959492489e+73, 4.74230561875729e+72, 
1.05529932338963e+73, 6.61876366768282e+73, 1.13579185144396e+67, 
6.34351019214156e+68, 4.4245912165946e+73, 2.07901436945324e+69, 
2.68163917245049e+67, 1.16115891626683e+70, 1.40026116347209e+69, 
4.78896128432115e+67, 1.21813692655002e+67, 5.03393144593665e+69, 
1.27191462675911e+73, 2.67405599247843e+68, 1.36858934333613e+67, 
1.14741393362245e+67, 8.21705628639157e+69, 5.01121920253856e+72, 
1.57101362708694e+71, 8.44981977226733e+69, 1.61663906886666e+68, 
9.74236192350587e+68, 1.27629145918939e+67, 1.32593700681877e+73, 
1.42900570433071e+68, 2.34601789998151e+72, 4.12008794836411e+70, 
2.54760675803449e+68, 4.16411042284085e+69, 4.28878339068495e+69, 
3.13004759063901e+72, 1.6976870599962e+73, 1.20945741774772e+69, 
8.32897792637601e+73, 4.21033327366785e+66, 7.44803839780427e+70, 
8.53140919764391e+67, 8.61996331775236e+70, 7.91580174829875e+73, 
3.43671560100175e+70, 1.13740093576237e+73, 2.86393222400101e+73, 
1.38927103020111e+71, 6.41904918894624e+66, 1.98809054116388e+73, 
6.03145873926411e+69, 1.10404721581918e+72, 9.54172815719435e+71, 
3.68340697664094e+69, 5.2964730621829e+72, 3.13428596929331e+73, 
1.06454842923809e+67, 2.1465036540392e+71, 3.22914916959531e+70, 
1.84745489009172e+68, 1.97157955079142e+70, 4.84713745445637e+68, 
1.42114921669825e+70, 2.86156238434447e+69, 9.20357415988203e+72, 
2.86687265452894e+72, 1.45200933859367e+67, 7.42191773946482e+71, 
3.61609702066932e+71, 5.33292940379054e+74, 1.74879776831424e+76, 
1.21448850853267e+67, 5.52808331172991e+67, 1.02958447122125e+71, 
4.03292281193831e+70, 8.21456335193046e+69, 1.97298748038642e+73, 
7.72160789630034e+68, 1.02663027760963e+75, 2.15496567683224e+69, 
1.314681768403e+71, 2.25766632947779e+67, 1.38617730664941e+67, 
8.96803335586374e+70, 4.70329240619768e+73, 7.15373697267349e+67, 
2.36264621569539e+73, 5.83131176368268e+71, 2.89004223741167e+73, 
2.343113114565e+70, 8.66802020441005e+69, 8.90238408835327e+69, 
3.39397828772853e+73, 5.12937416296374e+67, 9.3842101189779e+67, 
4.344892152397e+73, 2.20102431548773e+71, 1.91222939237993e+72, 
1.06782013187912e+70, 2.61007517238819e+73, 3.79351222471497e+74, 
2.69216026612086e+67, 4.44687958307426e+72, 1.28741422135471e+68, 
6.90206201819735e+69, 5.68997095168854e+68, 3.41843282885697e+68, 
5.44134351669776e+72, 1.4433560772192e+69, 3.21987897015245e+66, 
2.46075465810233e+67, 1.72538778018638e+70, 6.11488493515457e+68, 
3.68925197527588e+67, 5.41191150506896e+73, 7.46999162938597e+66, 
7.20780967196527e+67, 7.20343531913118e+67, 2.98910676719826e+67, 
2.18962623962568e+67, 2.1891249653041e+68, 4.61336450499246e+73, 
2.58648857054187e+66, 2.39460304482973e+69, 1.87138566285836e+70, 
1.13871660834551e+67, 1.61583274438271e+67, 4.11576373651183e+69, 
2.86623598187836e+67, 6.90526523880702e+67, 2.55745321138324e+67, 
2.68439195070092e+66, 1.45224050837299e+73, 2.23701864125269e+71, 
3.41264972441643e+67, 1.87616755084226e+69, 1.17169378451702e+70, 
4.69909991723406e+72, 2.68669860166646e+70, 5.63395185708018e+75, 
1.58639259920664e+68, 2.05530948589365e+68, 1.35232612890447e+73, 
2.48599712116031e+74, 6.36120248300978e+71, 1.56205473140127e+73, 
1.84237627764013e+67, 4.93129954884014e+67, 4.25605834043945e+67, 
1.81468137845717e+68, 3.45427024144924e+67, 1.22040491778145e+67, 
1.85799811573777e+67, 2.71540773689855e+67, 3.05735707496693e+67, 
3.34021946938125e+67, 5.02754342786926e+66, 2.00494415121282e+69, 
2.57858400272962e+66, 1.17884901196427e+67, 3.41604686431786e+67, 
3.33582168187927e+67, 9.37185705072798e+66, 2.86216250401564e+69, 
2.73458639988219e+68, 3.61407943237885e+66, 3.4833678745653e+66, 
3.40074134685724e+70, 9.97013795364857e+65, 2.03464364972619e+67, 
2.66223803316952e+67, 1.67488632878599e+67, 6.76531412122325e+70, 
3.00507033132355e+69, 5.66737809244866e+67, 1.16858394312542e+68, 
8.46330533849227e+69, 1.65219529118728e+67, 7.62289229687017e+66, 
2.06922291435525e+68, 4.06076448774227e+67, 4.84954681636896e+68, 
1.58600874876413e+67, 6.63318787751275e+67, 1.17267956406703e+67, 
1.54485566304424e+67, 3.04308255050303e+68, 8.73960809932228e+72, 
1.3810988929807e+68, 2.25400751233207e+68, 1.14001423691631e+71, 
2.18111869866766e+67, 2.06554297108457e+67, 1.21377212930861e+67, 
4.22715578426216e+67, 2.47286745428055e+67, 4.78947920754389e+66, 
3.02561922183011e+69, 2.60132336410034e+67, 4.51668719750693e+66, 
2.25407741981751e+67, 3.55406978202292e+66, 8.41474948867401e+66, 
1.27453263042903e+68, 8.15330782629354e+72, 1.65926825134963e+67, 
6.22157703771182e+67, 8.07326973696837e+66, 1.33497011066024e+67, 
9.24625999131284e+66, 2.923510563377e+68, 3.31899790958802e+68, 
6.3902998070815e+69, 6.811106410846e+73, 1.16335465124e+69, 1.89871767886208e+69, 
2.36913600391179e+68, 1.01930222144775e+67, 6.59709111072695e+66, 
8.30284489125039e+68, 2.87250184621952e+66, 6.03833846340568e+67, 
1.6703492623521e+68, 1.8237570149392e+68, 9.49914540906518e+66, 
2.54243104299361e+66, 2.13205327973108e+68, 7.68922546083881e+66, 
8.0915362789067e+66, 2.42414117775254e+70, 4.92613554090206e+71, 
2.90187402256851e+67, 4.24101097142233e+69, 4.74968866816986e+66, 
1.19882028580387e+70, 2.66796229098593e+68, 4.35312710432633e+66, 
1.65188505137905e+73, 1.03788763390688e+71, 1.53603700709953e+67, 
3.0897209336982e+66, 1.46849418739811e+67, 8.64193350728012e+67, 
4.18198014529839e+68, 1.69319380061928e+67, 6.71129234117025e+67, 
5.00995352252452e+67, 1.37936785235067e+66, 1.14605964233339e+67, 
1.62810174186632e+67, 3.37551613693693e+69, 1.51309361000095e+70, 
1.01341021888531e+69, 6.56235495053029e+66, 1.1154495782132e+74, 
5.06184647608577e+66, 2.68774549234988e+69, 6.42380674408293e+66, 
3.30121132618869e+69, 3.10815348868232e+69, 1.88925012010279e+73, 
6.36211977449932e+72, 1.74215905427736e+67, 7.03536459960573e+71, 
1.56823257809068e+67, 3.78773213003662e+66, 2.98424943060575e+66, 
1.24524123152695e+67, 1.14033972050617e+72, 2.01517008253518e+71, 
3.05285108373863e+67, 2.00736437837746e+67, 2.58182217604794e+66, 
1.11425393232359e+68, 4.32490063527912e+67, 5.7735929460136e+74, 
1.1237358299657e+68, 2.04981882548133e+67, 4.43009491874767e+70, 
2.67851262386052e+71, 9.75119213344488e+74, 8.33184925820538e+72, 
2.40168352996766e+68, 1.00333846406543e+69, 1.37107411696348e+68, 
1.64725432285334e+69, 5.78095430099518e+67, 3.74169507882638e+69, 
1.21904290547014e+70, 4.08523373255014e+67, 1.41796494077346e+68, 
2.44121274692289e+68, 1.71342670106452e+68, 4.05385372416494e+66, 
6.81167807145163e+66, 3.28036950271773e+71, 2.17074652127888e+68, 
4.60255091188396e+72, 2.02258545161256e+68, 5.12120242263114e+69, 
1.3735994698205e+74, 1.87706860326199e+68, 1.00419546257911e+71, 
5.94472624834099e+68, 2.37940603433543e+70, 3.04427058528496e+68, 
1.8961157778709e+69, 5.22115825176672e+66, 1.39667183775905e+68, 
4.62330429546154e+67, 3.77149602737348e+68, 3.03457602014982e+68, 
2.249352756211e+68, 5.06263395728767e+69, 1.45725589701442e+68, 
9.92150824636926e+67, 2.69885324593366e+65, 2.73179190644663e+69, 
8.8705666844999e+69, 9.85296942780477e+68, 9.54762636803144e+67, 
2.21055430887402e+67, 1.31098468397055e+67, 6.6797183163169e+67, 
3.344964152527e+66, 1.53469020445677e+71, 3.41923701185917e+70) 
```

你：

```
c(1e+82, 1e+82, 1e+82, 1e+82, 1e+82, 1e+82, 1e+82, 1e+82, 1e+82, 
1e+82, 1e+82, 1e+82, 1e+82, 1e+82, 1e+82, 1e+82, 1e+82, 1e+82, 
1e+82, 1e+82, 1e+82, 1e+82, 1e+82, 1e+82, 1e+82, 1e+82, 1e+82, 
1e+82, 1e+82, 1e+82, 1e+82, 1e+82, 1e+82, 1e+82, 1e+82, 1e+82, 
1e+82, 1e+82, 1e+82, 1e+82, 1e+82, 1e+82, 1e+82, 1e+82, 1e+82, 
1e+82, 1e+82, 1e+82, 1e+82, 1e+82, 1e+82, 1e+82, 1e+82, 1e+82, 
1e+82, 1e+82, 1e+82, 1e+82, 1e+82, 1e+82, 1e+82, 1e+82, 1e+82, 
1e+82, 1e+82, 1e+82, 1e+82, 1e+82, 1e+82, 1e+82, 1e+82, 1e+82, 
1e+82, 1e+82, 1e+82, 1e+82, 1e+82, 1e+82, 1e+82, 1e+82, 1e+82, 
1e+82, 1e+82, 1e+82, 1e+82, 1e+82, 1e+82, 1e+82, 1e+82, 1e+82, 
1e+82, 1e+82, 1e+82, 1e+82, 1e+82, 1e+82, 1e+82, 1e+82, 1e+82, 
1e+82, 1e+82, 1e+82, 1e+82, 1e+82, 1e+82, 1e+82, 1e+82, 1e+82, 
1e+82, 1e+82, 1e+82, 1e+82, 1e+82, 1e+82, 1e+82, 1e+82, 1e+82, 
1e+82, 1e+82, 1e+82, 1e+82, 1e+82, 1e+82, 1e+82, 1e+82, 1e+82, 
1e+82, 1e+82, 1e+82, 1e+82, 1e+82, 1e+82, 1e+82, 1e+82, 1e+82, 
1e+82, 1e+82, 1e+82, 1e+82, 1e+82, 1e+82, 1e+82, 1e+82, 1e+82, 
1e+82, 1e+82, 1e+82, 1e+82, 1e+82, 1e+82, 1e+82, 1e+82, 1e+82, 
1e+82, 1e+82, 1e+82, 1e+82, 1e+82, 1e+82, 1e+82, 1e+82, 1e+82, 
1e+82, 1e+82, 1e+82, 1e+82, 1e+82, 1e+82, 1e+82, 1e+82, 1e+82, 
1e+82, 1e+82, 1e+82, 1e+82, 1e+82, 1e+82, 1e+82, 1e+82, 1e+82, 
1e+82, 1e+82, 1e+82, 1e+82, 1e+82, 1e+82, 1e+82, 1e+82, 1e+82, 
1e+82, 1e+82, 1e+82, 1e+82, 1e+82, 1e+82, 1e+82, 1e+82, 1e+82, 
1e+82, 1e+82, 1e+82, 1e+82, 1e+82, 1e+82, 1e+82, 1e+82, 1e+82, 
1e+82, 1e+82, 1e+82, 1e+82, 1e+82, 1e+82, 1e+82, 1e+82, 1e+82, 
1e+82, 1e+82, 1e+82, 1e+82, 1e+82, 1e+82, 1e+82, 1e+82, 1e+82, 
1e+82, 1e+82, 1e+82, 1e+82, 1e+82, 1e+82, 1e+82, 1e+82, 1e+82, 
1e+82, 1e+82, 1e+82, 1e+82, 1e+82, 1e+82, 1e+82, 1e+82, 1e+82, 
1e+82, 1e+82, 1e+82, 1e+82, 1e+82, 1e+82, 1e+82, 1e+82, 1e+82, 
1e+82, 1e+82, 1e+82, 1e+82, 1e+82, 1e+82, 1e+82, 1e+82, 1e+82, 
1e+82, 1e+82, 1e+82, 1e+82, 1e+82, 1e+82, 1e+82, 1e+82, 1e+82, 
1e+82, 1e+82, 1e+82, 1e+82, 1e+82, 1e+82, 1e+82, 1e+82, 1e+82, 
1e+82, 1e+82, 1e+82, 1e+82, 1e+82, 1e+82, 1e+82, 1e+82, 1e+82, 
1e+82, 1e+82, 1e+82, 1e+82, 1e+82, 1e+82, 1e+82, 1e+82, 1e+82, 
1e+82, 1e+82, 1e+82, 1e+82, 1e+82, 1e+82, 1e+82, 1e+82, 1e+82, 
1e+82, 1e+82, 1e+82, 1e+82, 1e+82, 1e+82, 1e+82, 1e+82, 1e+82, 
1e+82, 1e+82, 1e+82, 1e+82, 1e+82, 1e+82, 1e+82, 1e+82, 1e+82, 
1e+82, 1e+82, 1e+82, 1e+82, 1e+82, 1e+82, 1e+82, 1e+82, 1e+82, 
1e+82, 1e+82, 1e+82, 1e+82, 1e+82, 1e+82, 1e+82, 1e+82, 1e+82, 
1e+82, 1e+82, 1e+82, 1e+82, 1e+82, 1e+82, 1e+82, 1e+82, 1e+82, 
1e+82, 1e+82, 1e+82, 1e+82, 1e+82, 1e+82, 1e+82, 1e+82, 1e+82, 
1e+82, 1e+82, 1e+82, 1e+82, 1e+82, 1e+82, 1e+82, 1e+82, 1e+82, 
1e+82, 1e+82, 1e+82, 1e+82, 1e+82, 1e+82, 1e+82, 1e+82, 1e+82, 
1e+82, 1e+82, 1e+82, 1e+82, 1e+82, 1e+82, 1e+82, 1e+82, 1e+82, 
1e+82, 1e+82, 1e+82, 1e+82, 1e+82, 1e+82, 1e+82, 1e+82, 1e+82, 
1e+82, 1e+82, 1e+82, 1e+82, 1e+82, 1e+82, 1e+82, 1e+82, 1e+82, 
1e+82, 1e+82, 1e+82, 1e+82, 1e+82, 1e+82, 1e+82, 1e+82, 1e+82, 
1e+82) 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-03-16T00:34:15.430

这里唯一的问题是你的`Mean`列比`U`列小大约 10 个数量级，所以当你得到差异时，它与 没有区别`U`：

```
df$diff <- df$U - df$Mean
df$diff2 <- df$Mean - df$U
# > head(df)
# Mean     U  diff  diff2
# 1 1.552532e+73 1e+82 1e+82 -1e+82
# 2 5.426303e+72 1e+82 1e+82 -1e+82
# 3 1.223600e+73 1e+82 1e+82 -1e+82
# 4 1.447546e+73 1e+82 1e+82 -1e+82
# 5 6.153010e+73 1e+82 1e+82 -1e+82
# 6 3.928491e+72 1e+82 1e+82 -1e+82 
```

所以我不确定你是否期望你的数据会有所不同，但是对于这些数量级的数字，它们之间的差异并不会真正有意义。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-16T00:33:41.387

假设您 data.frame 包含体积 U 和平均值：

```
df.res <- transform(df, new.col = U - mean) 
```

编辑我最初的答案很简短，因为从智能手机回复不方便 - 只是认为快速回复可以解决您的问题。

现在稍微解释一下。Transform 是在 data.frames 内操作的最有用的功能之一 - 请注意，从你的问题中不清楚列是否在同一个 data.frame 中 - 因为它允许从列之间的几乎任何操作创建列，或单个列的转换。例如，您可以创建一个 U 的日志

```
df.res <- transform(df, logU = log(U)) 
```

或更优雅地输出对数转换 U 后的最终差异：

```
df.res <- transform(df, new.col = log(U) - mean) 
```

可能性几乎是无穷无尽的。

# django - 添加权限后，为什么需要重新查询Django用户才能看到添加的权限？

> ID：15444134
> 
> 赞同：0
> 
> 时间：2013-03-16T00:25:21.473
> 
> 标签：django, permissions

在接下来的`Django manage.py`shell 会话中，为什么我在为该用户执行新查询之前看不到我添加到用户对象的权限？

```
In [16]: john = User.objects.create_user(username='john')

In [17]: john
Out[17]: <User: john>

In [18]: john.get_all_permissions()
Out[18]: set([])

In [19]: john.user_permissions.add(Permission.objects.get(codename='add_user'))

In [20]: john.get_all_permissions()
Out[20]: set([])   <== I expected to see the new permission here.  Why not?

In [21]: john = User.objects.get(username='john')

In [22]: john.get_all_permissions()
Out[22]: set([u'auth.add_user']) 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-16T01:02:37.263

当您第一次为给定的用户实例请求权限时，Django 会缓存权限，它将它们存储`_perm_cache`在用户对象上，这是为了防止在检查权限时进行过多的数据库查找，这可能在请求期间发生多次（尤其是在模板渲染期间您可能需要对表单和链接进行权限检查）。

您已经确定了解决问题的一种方法，即从数据库中重新加载用户。另一种是从用户对象中删除`_perm_cache`（`_group_perm_cache`如果你想彻底）：

```
del john._perm_cache
del john._group_perm_cache 
```

# php - 如何在视图上调用我在模型中创建的函数

> ID：15444135
> 
> 赞同：0
> 
> 时间：2013-03-16T00:25:23.673
> 
> 标签：php, database, codeigniter, view, model

我刚刚在模型中创建了这个函数来查看我在我的社交网络中关注的人......我如何在视图中调用它？

```
function isfollowing($following){

        $user_id = $this->session->userdata('uid');

        $this->db->select('*');    
        $this->db->from('membership');
        $this->db->join('following', "membership.id = following.tofollow_id");
        $this->db->where("tofollow_id","$following");
        $this->db->where("user_id", "$user_id");

        $q = $this->db->get();      

    if($q->num_rows() > 0) {
        return "yes";
    } else {
        return "no"; 
    }

} 
```

现在在我的视图中，我如何称呼它，因为我已经创建了一个函数来获取当前登录用户的 id 并且等于 $r->id

我这里怎么称呼它？？if 语句中的“==”后面是什么？

风景

```
<?php if ( $r->id == ): ?> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-16T01:44:42.597

从视图中调用模型函数不是一个好习惯。关于它有一些替代方案。你可以使用任何你喜欢的人。

第一的

当您加载视图时，调用您的模型函数并将其传递给一个变量，然后这个变量将被传递给视图。

控制器

```
$following_status   =   $this->my_model->isfollowing($following);

$data['following_status']   =   $following_status;

$this->load->view('my_view',$data); 
```

看法

```
<p>$following_status</p> 
```

第二

如果您想独立于模型，您可以创建可以在应用程序的任何位置使用的助手。您必须创建一个 CI 实例才能使其正常工作。

custom_helper.php

```
function isfollowing($following)
{
    $CI =   get_instance();

    $user_id = $CI->session->userdata('uid');

    $CI->db->select('*');    
    $CI->db->from('membership');
    $CI->db->join('following', "membership.id = following.tofollow_id");
    $CI->db->where("tofollow_id","$following");
    $CI->db->where("user_id", "$user_id");

    $q = $CI->db->get();      

    if($q->num_rows() > 0) {
        return "yes";
    } else {
        return "no"; 
    }
} 
```

看法

```
//load the custom helper before using it (you can autoload of in autoload.php)
//or use common way $this->load->helper('custom');
<p>isfollowing($yourparameter)</p> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-16T00:36:54.627

您执行以下操作：

(1) 在创建页面的控制器中加载模型或自动加载它

(2) 在您看来，键入如下内容：

```
$this->The_custom_model->isfollowing($theinputvariable) 
```

`The_custom_model`你定义函数的模型在哪里`isfollowing()`。

`$theinputvariable`是您的函数的适当参数值。请记住，您已将对象指定为函数的参数，因此您需要考虑这一点。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-16T06:45:53.993

要将模型访问到您的视图中，您首先将其加载到自动加载文件中，如下所示

```
 $autoload['model'] = array('model_name'); 
```

然后在视图中您可以通过使用这行代码来获取它

```
 $this->model_name->isfollowing($following) 
```

在下面你将传递你**的****tofollow_id**

 *** * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-16T03:21:14.420

这是 raheel 发布的显示 if 检查的修改版本 - 可能不是您的问题所必需的，但可以让您考虑一些事情......

```
 // check to see if anything come back from the database?
 if ( ! $data['following_status'] = $this->my_model->isfollowing($following) ) {  

 // nothing came back, jump to another method to deal with it
  $this->noFollowers() ; }

 // else we have a result, and its already set to data, so ready to go
 else {

   // do more here, call your view, etc 
 } 
```

即使网页正在运行，数据库也可能出现故障，因此养成检查结果的习惯是件好事。您可以在控制器和模型中进行的错误检查越多，您的视图文件就会越干净。**

# binary - 2位可以存储4个不同的值？

> ID：15444141
> 
> 赞同：1
> 
> 时间：2013-03-16T00:26:10.367
> 
> 标签：binary, bits

在 [learncpp](http://www.learncpp.com/cpp-tutorial/23-variable-sizes-and-the-sizeof-operator/)中，我注意到它说 2 位可以存储 4 个不同的值，它们在表中给出了一个示例。我对他们的意思有些困惑。我最初的解释是 2 位只能存储 2 个值（即只有 0 和 1，因为二进制数字的定义是 0 或 1）。但是在查看表格后，它们是否意味着两位可以存储 4 种不同的值组合（即 00 01 10 11）。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-16T00:27:32.050

> 它们是否意味着两位可以存储 4 种不同的值组合（即 00 01 10 11）。

是的。每个独特的“组合”（实际上它们是排列）位代表一个不同的值。

这与您习惯的计数系统没有什么不同：十进制系统，除了每个数字有两种可能的状态（0 和 1）之外，它们有十种可能的状态（0、1、...、8、9） . 在二进制（以 2 为底）中，两位数字可以表示四个不同的值（2 ^ 2），在十进制（以 10 为底）中，两位数字可以代表 100 个不同的值（10 ^ 2）。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-16T00:27:58.057

它们的确切含义是：两位存储值 0、1、2 和 3，它们的二进制编码分别为 00、01、10 和 11。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-16T00:35:56.770

要计算出排列的数量，你可以做 base^length 并且 2^2 是 4。在 2 位中可能有 4 个排列。

# jquery - jQuery 对话框按钮 - 保持应用样式

> ID：15444142
> 
> 赞同：0
> 
> 时间：2013-03-16T00:26:14.573
> 
> 标签：jquery, button, dialog, default

我有一个 jQuery 对话框，并希望将其中一个按钮设置为看起来和行为像默认按钮，同时仍然能够将注意力集中在表单元素上。我能够使用下面的代码成功地做到这一点，但我遇到的问题是当点击默认按钮时（而不是在点击输入时），我应用的样式被删除。单击按钮后，我尝试重新添加样式，但它不起作用。有任何想法吗？

```
open: function ()
{
    $('#FieldName').focus();
    $(this).parent().find('button:nth-child(1)').addClass('ui-state-focus');

    $(this).keydown(function (event)
    {
        if (event.keyCode == 13)
        {
            $(this).parent().find('button:nth-child(1)').trigger('click');
        }
    });
} 
```

更新：这是一个小提琴：http: [//jsfiddle.net/98v6Q/2/](http://jsfiddle.net/98v6Q/2/)

为了在使用 fiddle 代码时查看问题，请运行 fiddle，然后单击对话框或表单中的任意位置。您会注意到按钮的默认状态仍然存在。单击“创建帐户”按钮，然后单击表单内部或外部的任意位置，您会注意到按钮状态发生了变化，但它不应该发生变化。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-16T01:22:42.417

你最好应用你自己的css。

而不是`.addClass('ui-state-focus');`你应该添加一个你在你的css中声明的类。

IE：

`.addClass('ui-button-primary');`

然后在css中

```
.ui-button-primary{
    //Your style here
} 
```

# php - 在 DIV 或 iFrame 中显示“动态”（php 生成）PDF

> ID：15444151
> 
> 赞同：0
> 
> 时间：2013-03-16T00:27:02.460
> 
> 标签：php, pdf, html, iframe

我无法在 div 或 iFrame 中显示 PDF 文件。PDF 文件包含私人信息，因此我无法直接访问这些文件。我正在使用 PHP 读取文件，然后将其“输入”到浏览器。我正在使用这些标题：

```
 header('Content-Type: application/pdf');
    header('Content-Disposition: attachment; filename="myPdf.PDF"');
    header("Content-Transfer-Encoding: binary");
    header('Accept-Ranges: bytes');
    header("Cache-control: private");
    header('Pragma: private');
    header("Expires: Mon, 26 Jul 1997 05:00:00 GMT"); 
```

这是输出代码：

```
 @ob_end_clean();
    if ($file_h = fopen($file, 'r'))
    {

        while (!feof($file_h))
        {
            $buffer = fread($file_h, filesize($file));
            print($buffer); 
            flush();
        }
        fclose($file_h);
    } 
```

显然这是下载文件的理想选择，但现在我需要将它们加载到 DIV 或 iFrame 中。它就是行不通。iFrame 有一个下载对话框，`<object>`根本不工作，并且`<embed>`显示了棘手的插件问题。

有什么建议么？

# java - 为什么我们只缓冲网络中的输入？

> ID：15444155
> 
> 赞同：0
> 
> 时间：2013-03-16T00:27:20.637
> 
> 标签：java, sockets, bufferedreader, bufferedwriter

所以我最近了解到[，Java 中的标准基本网络](http://docs.oracle.com/javase/tutorial/networking/sockets/readingWriting.html)是这样的：

```
out = new PrintWriter(echoSocket.getOutputStream(), true);
in = new BufferedReader(new InputStreamReader(echoSocket.getInputStream())); 
```

我只是想澄清一下，所以对于输出我们不使用 a`BufferedWriter`因为那是服务器端的工作？做这样的事情会不会是错误的：

```
out =  new BufferedWriter(PrintWriter(echoSocket.getOutputStream(), true)); 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-16T00:39:39.780

从 Java 文档：

> [http://docs.oracle.com/javase/tutorial/essential/io/buffers.html](http://docs.oracle.com/javase/tutorial/essential/io/buffers.html)
> 
> 到目前为止，我们看到的大多数示例都使用无缓冲 I/O。这意味着每个读取或写入请求都由底层操作系统直接处理。这会使程序的效率大大降低，因为每个这样的请求通常都会触发磁盘访问、网络活动或其他一些相对昂贵的操作。
> 
> 为了减少这种开销，Java 平台实现了缓冲 I/O 流。缓冲输入流从称为缓冲区的内存区域读取数据；仅当缓冲区为空时才调用本机输入 API。类似地，缓冲输出流将数据写入缓冲区，并且仅当缓冲区已满时才调用本机输出 API。

是的，“缓冲”输入*和*输出通常是一个好主意。

恕我直言...

PS：

我看不出 PrintWriter 有什么问题。特别是如果我想直接对套接字执行“printf()”样式的文本 I/O。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-16T00:34:57.943

我不会称该示例为“标准”。这是一个简单的教程。它`BufferedReader`不是用于缓冲，而是用于`BufferedReader.readLine()`方法。

对于一个严肃的应用程序，是的，输出*应该*被缓冲。你不应该写很多小数据。如果不出意外，每个 write() 的系统调用开销是一个杀手。

# javascript - Clickover 不会隐藏在第一次打开的正文上单击

> ID：15444157
> 
> 赞同：2
> 
> 时间：2013-03-16T00:27:25.037
> 
> 标签：javascript, twitter-bootstrap, onclick, popover

我在这里使用 bootstrapX clickover 演示：http: [//www.leecarmichael.com/bootstrapx-clickover/examples.html](http://www.leecarmichael.com/bootstrapx-clickover/examples.html)

```
<img class="img-circle" src="something" alt="something" 
rel="clickover" 
onclick="loadData(this, somedata)" /> 

loadData(element, somedata){
      if(!$(element).attr('data-content')) {
         // build clickover flyout html
         $(element).clickover('show');
      } else {
         // do nothing clickover is already attached
      }

 } 
```

这工作......几乎。

当我第一次单击图像元素时，我必须通过单击图像来关闭单击，否则即使我单击打开其他单击或仅单击页面主体，它也不会关闭。

任何显示点击的后续点击都可以通过点击其他任何地方来隐藏，这是它应该如何工作的。我试图关闭所有其他点击，取消绑定点击事件等等，但没有成功。我需要将`loadData`事件绑定在 html 而不是 javascript 中作为 clickover 的 onShown，因为此代码在循环中运行，并且此数据特定于不是非常唯一可识别的元素。

关于如何解决这个问题的任何想法？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-07-07T00:39:04.370

您描述的行为似乎与`global_close=0`. `$(element).clickover('show');`不要设置默认选项。

`$('.img-square').clickover().click();`代替，请`$('.img-square').clickover('show')`参阅：[http](http://bootply.com/66601) ://bootply.com/66601和[https://github.com/lecar-red/bootstrapx-clickover/issues/42](https://github.com/lecar-red/bootstrapx-clickover/issues/42)

# java - 还有比这更优雅的方式来显示斐波那契数列吗？

> ID：15444161
> 
> 赞同：0
> 
> 时间：2013-03-16T00:27:38.120
> 
> 标签：java, fibonacci

我正在学习java并且正在练习数组。我决定生成一个斐波那契数列作为实验，并且不禁想到可能有一种更简单的方法来生成数列（使用数组和循环）。

有什么想法吗？

```
//Generate a Fibonacci series
public class Array {

   public static void main(String[] args) {
      // An array to store the values
      int[] intArray = new int[20];

      // starting values for the sequence
      intArray[0] = 0;
      intArray[1] = 1;

      //display the first values
      System.out.println("array["+(0)+"] = "+intArray[0]);
      System.out.println("array["+(1)+"] = "+intArray[1]);

      //generate the fibonnacci progression with a loop
      for (int count=2;count<intArray.length;count++){ 
      intArray[count] = intArray[(count-1)]+intArray[(count-2)];
      System.out.println("array["+(count)+"] = "+intArray[count]);  
   }
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-16T00:39:42.750

这是一个无数组的解决方案——仅`int`使用了 4 秒。

```
public class Fibonacci
{
   public static void main(String[] args)
   {
      int first = 0;
      int second = 1;
      int sum;
      for (int i = 0; i < 20; i++)
      {
         sum = first + second;
         System.out.println("iteration " + i + ": " + sum);
         first = second;
         second = sum;
      }
   }
} 
```

输出：

```
iteration 0: 1
iteration 1: 2
iteration 2: 3
iteration 3: 5
iteration 4: 8
iteration 5: 13
iteration 6: 21
iteration 7: 34
iteration 8: 55
iteration 9: 89
iteration 10: 144
iteration 11: 233
iteration 12: 377
iteration 13: 610
iteration 14: 987
iteration 15: 1597
iteration 16: 2584
iteration 17: 4181
iteration 18: 6765
iteration 19: 10946 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-16T00:29:33.453

你应该寻找一个递归的答案，这个网站上有很多。例如。[斐波那契数列 - 递归求和](https://stackoverflow.com/questions/15394972/fibonacci-series-recursive-summation?rq=1)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-16T00:39:59.593

如果您想将所有值存储在数组中，我会说您所做的方式是解决此问题的最优雅和最有效的方式。但是，不必存储这些值。

在美学方面，您的计数变量和数字 0 和 1 周围的圆括号不是必需的，并且使代码阅读起来非常混乱。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2014-09-22T16:22:48.957

我可以制作的最优雅、结构最完善的生成斐波那契数列的程序是：

```
import java.util.Scanner;

public class fibon{

    public static void main(String[] args) {
        Scanner scan = new Scanner(System.in);
        System.out.println("How many times shall we generate the fibonacci series?");
        int max = scan.nextInt();
        scan.close();
        fibgen(max);
    }
    public static void fibgen(int max) {
        int f = 0, s = 1;
        for(int i = 0; i <= max; i++) {
            f += s;
            s = f - s;
            System.out.println(s + " ");
        }

    }
} 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-03-16T18:51:16.130

曾经测试过这样的解决方案吗？它使用 Moivre-Binet 公式。对于长类型，我得到 n > 71 的精度错误。

```
public static void main(String[] args) {
   for (int i = 0; i < 20; i++) {
      System.out.println(getFibonacci(i));
   }
}

private static int getFibonacci(int n) {
   return (int) ((1D / Math.sqrt(5D)) * ((Math.pow(((1D + Math.sqrt(5D)) / 2D), n)) - Math.pow(((1D - Math.sqrt(5D)) / 2D), n)));
} 
```

**n**越高，幼稚或递归算法越慢或内存消耗越多。以下递归示例适用于我直到**n=14832**。可能正在等待我当前的 JVM 设置。

```
static final Map<Integer,BigInteger> FIBONACCI_RESULTS = new HashMap<>();

private static BigInteger getFibonacciRecursive(final int n) {
   return ((n == 1) || (n == 2)) ? BigInteger.ONE : fetchResult(n);
}

private static BigInteger fetchResult(final int n) {
   BigInteger result;
   System.out.println("n := "+n);
   if (FIBONACCI_RESULTS.containsKey(n)) {
      result = FIBONACCI_RESULTS.get(n);
   } else {
      result = getFibonacciRecursive(n - 1).add(getFibonacciRecursive(n - 2));
      FIBONACCI_RESULTS.put(n, result);
   }
   return result;
} 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-03-16T02:44:09.770

这是我能做的最短的：

```
public static void main(String[] args) {
    int a = 0, b = 1;
    long length = 20;
    System.out.println(a);
    System.out.println(b);
    while (--length >= 0)
        System.out.println((a = (b = a + b) - a) * 0 + b);
} 
```

给出：

0 1 1 2 3 5 8 13...

# actionscript-3 - 如何将影片剪辑添加到舞台然后使其向下移动？

> ID：15444162
> 
> 赞同：0
> 
> 时间：2013-03-16T00:27:38.317
> 
> 标签：actionscript-3

我正在制作一个游戏，我想在其中产生僵尸，然后让它们在屏幕上向下移动。我也想一次在屏幕上显示多个。我现在尝试了多种方法，但都没有奏效。

这是我的代码

```
if ((zombie == 1)||(zombie == 3)||(zombie == 5)||(zombie == 7))
{
    var Z = new Z;
    Z.x = 403.25;
    Z.y = -86.9;
    Z.rotation = 90;
    addChild(Z)
    zombie += 1;
}

//Functions
function startzombie(event)
{
    trace("start zombies")
    zombie = 1;
    addEventListener(Event.ENTER_FRAME,zombiemove) 
}
function zombiemove(event:Event)
{
    Z.y += 1;
} 
```

Z是僵尸

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-16T03:53:59.297

您需要一个 Array 来保存对您的僵尸实例的引用，而不是 Zombie 类的单个变量，无论它的名称是什么。然后，在移动僵尸的部分代码中，您遍历该数组并推进其中的所有僵尸。您还需要检查一些僵尸是否已经失效，以便您需要将它们从屏幕和阵列中删除，并采取相应的行动。

```
var za:Array; // initialize elsewhere
....
function addZombie():void {
    var z:Zombie=new Zombie();
    z.x=Math.random()*600; // position that zombie
    z.y=-20; // somewhere
    addChild(z);
    za.push(z);
}
function advanceZombies():void {
    for (var i:int=za.length-1;i>=0;i--) za[i].walkABit();
} 
```

你在僵尸类中调用一个专门为移动僵尸而设计的方法。可以说他们被击晕或减速，这样这个动作就不会发生，而且控制每个僵尸的可变行为对你的主类没有任何意义，这就是所谓的“黑匣子概念”。你说“移动”，如果他们有能力，他们就会移动。

# macos - 如何构建 LLVM 并将其与 libc++ 链接？

> ID：15444163
> 
> 赞同：4
> 
> 时间：2013-03-16T00:27:41.923
> 
> 标签：macos, linker, llvm, libc++

我正在尝试构建 LLVM 并将其与 libc++ 链接，但我无法让它工作。我下载了最新版本（LLVM 3.2）。

```
$ CXXFLAGS=-stdlib=libc++ LDFLAGS=-stdlib=libc++ ../llvm-3.2.src/configure
$ make
llvm[0]: Constructing LLVMBuild project information.
llvm[1]: Compiling APFloat.cpp for Release+Asserts build
llvm[1]: Compiling APInt.cpp for Release+Asserts build
(etcetera)
llvm[1]: Building Release+Asserts Archive Library libLLVMTableGen.a
llvm[2]: Compiling FileCheck.cpp for Release+Asserts build
llvm[2]: Linking Release+Asserts executable FileCheck (without symbols)
Undefined symbols for architecture x86_64:
  "std::string::find_last_not_of(char, unsigned long) const", referenced from:
      llvm::SMDiagnostic::print(char const*, llvm::raw_ostream&, bool) const in libLLVMSupport.a(SourceMgr.o)
  "std::string::copy(char*, unsigned long, unsigned long) const", referenced from:
      llvm::sys::Path::makeUnique(bool, std::string*) in libLLVMSupport.a(Path.o)
  "std::string::find(char const*, unsigned long, unsigned long) const", referenced from:
      llvm::sys::getDefaultTargetTriple() in libLLVMSupport.a(Host.o)
  "std::string::find(char, unsigned long) const", referenced from:
      llvm::sys::Program::FindProgramByName(std::string const&) in libLLVMSupport.a(Program.o)
(followed by a bunch of other related linker errors) 
```

[在Gist](https://gist.github.com/daknok/5174325)上完成输出。

LLVM 可以使用 libstdc++ 编译和链接，但不能使用 libc++。我不知道为什么它不会与 libc++ 链接；其他程序只是链接正常。我正在运行 OS X Mountain Lion，而 libc++ 位于`/usr/lib/libc++.1.dylib`. 使用的编译器是*Apple clang 版本 4.0 (tags/Apple/clang-421.0.60) (基于 LLVM 3.1svn)*。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-03-16T01:34:21.240

相信我，我不是这方面的专家。但是试试这个：

```
../llvm/configure --enable-libcpp 
```

总的来说，我发现：

```
../llvm/configure --help 
```

很有帮助。

# android - 如何退出由少数类组成的应用程序？

> ID：15444164
> 
> 赞同：0
> 
> 时间：2013-03-16T00:27:42.817
> 
> 标签：android, libgdx

我的第一个类“public class MyActivity extends Activity”立即运行另一个类“public class MyActivity2 extends AndroidApplication”，

它运行 Libgdx “class MyGame”。

我用“Gdx.app.exit()”退出 MyGame 类，返回到第一类。但它又开始了第二节课……循环。那么如何退出应用程序呢？谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-16T02:23:20.757

您可以在其他活动中添加退出按钮/菜单项，并在按下该按钮时启动 MainActivity 并额外传递一个意图。

是这样的：
在其他活动中：

```
private void exit() {
      Intent intentHome = new Intent(this, Main.class);
      intentHome.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);
      intentHome.putExtra("EXIT", true);
      startActivity(intentHome); finish();
} 
```

在主要/第一个活动中：

```
if (getIntent().getBooleanExtra("EXIT", false)) {
         finish();
} 
```

您也可以在开始下一个活动时完成（）每个活动，以确保后台没有其他活动。

# haskell - Agda：具有相同长度的向量对

> ID：15444169
> 
> 赞同：5
> 
> 时间：2013-03-16T00:28:13.877
> 
> 标签：haskell, agda

在 Agda 中，我如何定义一对必须具有相同长度的向量？

```
-- my first try, but need to have 'n' implicitly  
b : ∀ ( n : ℕ ) → Σ (Vec ℕ n) (λ _ → Vec ℕ n) 
b 2 = (1 ∷ 2 ∷ []) , (3 ∷ 4 ∷ [])
b 3 = (1 ∷ 2 ∷ 3 ∷ []) , (4 ∷ 5 ∷ 6 ∷ [])
b _ = _

-- how can I define VecSameLength correctly?
VecSameLength : Set
VecSameLength = _

c : VecSameLength
c = (1 ∷ 2 ∷ []) , (1 ∷ 2 ∷ [])

d : VecSameLength
d = (1 ∷ 2 ∷ 3 ∷ []) , (4 ∷ 5 ∷ 6 ∷ [])

-- another try
VecSameLength : Set
VecSameLength = Σ (Vec ℕ ?) (λ v → Vec ℕ (len v)) 
```

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-03-16T03:36:30.387

如果你想保持长度作为类型的一部分，你只需要打包两个具有相同大小索引的向量。首先需要导入：

```
open import [Data.Nat](http://vituscze.github.io/agda-stdlib-html/Data.Nat.html)
open import [Data.Product](http://vituscze.github.io/agda-stdlib-html/Data.Product.html)
open import [Data.Vec](http://vituscze.github.io/agda-stdlib-html/Data.Vec.html) 
```

没什么特别的：就像你写普通的 size 向量一样`n`，你可以这样做：

```
2Vec : ∀ {a} → Set a → ℕ → Set a
2Vec A n = Vec A n × Vec A n 
```

也就是说，`2Vec A n`是 s 的向量对的类型`A`，都带有`n`元素。请注意，我借此机会将其推广到任意宇宙级别 - 例如，这意味着您可以拥有`Set`s 的向量。

要注意的第二个有用的事情是我使用`_×_`了 ，这是一个普通的非依赖对。它被定义`Σ`为第二个组件不依赖于第一个值的特殊情况。

在我转到我们希望隐藏大小的示例之前，这里有一个此类值的示例：

```
test₁ : 2Vec ℕ 3
-- We can also infer the size index just from the term:
-- test₁ : 2Vec ℕ _    
test₁ = 0 ∷ 1 ∷ 2 ∷ [] , 3 ∷ 4 ∷ 5 ∷ [] 
```

当您尝试将两个大小不均匀的向量填充到这对向量中时，您可以检查 Agda 是否正确地抱怨。

隐藏索引是完全适合依赖对的工作。首先，下面是隐藏一个向量长度的方法：

```
data SomeVec {a} (A : Set a) : Set a where
  some : ∀ n → Vec A n → SomeVec A

someVec : SomeVec ℕ
someVec = some _ (0 ∷ 1 ∷ []) 
```

大小索引保存在类型签名之外，所以我们只知道里面的向量有*一些*未知的大小（实际上给你一个列表）。当然，每次我们需要隐藏索引时都编写一个新的数据类型会很烦人，所以标准库为我们提供了`Σ`.

```
someVec : Σ ℕ λ n → Vec ℕ n
-- If you have newer version of standard library, you can also write:
-- someVec : Σ[ n ∈ ℕ ] Vec ℕ n
-- Older version used unicode colon instead of ∈
someVec = _ , 0 ∷ 1 ∷ [] 
```

现在，我们可以轻松地将其应用于`2Vec`上面给出的类型：

```
∃2Vec : ∀ {a} → Set a → Set a
∃2Vec A = Σ[ n ∈ ℕ ] 2Vec A n

test₂ : ∃2Vec ℕ
test₂ = _ , 0 ∷ 1 ∷ 2 ∷ [] , 3 ∷ 4 ∷ 5 ∷ [] 
```

* * *

copumpkin 提出了一个很好的观点：您可以通过使用对列表来获得相同的保证。这两种表示编码的信息完全相同，我们来看看。

在这里，我们将使用不同的导入列表来防止名称冲突：

```
open import [Data.List](http://vituscze.github.io/agda-stdlib-html/Data.List.html)
open import [Data.Nat](http://vituscze.github.io/agda-stdlib-html/Data.Nat.html)
open import [Data.Product](http://vituscze.github.io/agda-stdlib-html/Data.Product.html) as P
open import [Data.Vec](http://vituscze.github.io/agda-stdlib-html/Data.Vec.html) as V
open import [Function](http://vituscze.github.io/agda-stdlib-html/Function.html)
open import [Relation.Binary.PropositionalEquality](http://vituscze.github.io/agda-stdlib-html/Relation.Binary.PropositionalEquality.html) 
```

从两个向量到一个列表是将两个向量压缩在一起的问题：

```
vec⟶list : ∀ {a} {A : Set a} → ∃2Vec A → List (A × A)
vec⟶list (zero  , []     , [])     = []
vec⟶list (suc n , x ∷ xs , y ∷ ys) = (x , y) ∷ vec⟶list (n , xs , ys)

-- Alternatively:
vec⟶list = toList ∘ uncurry V.zip ∘ proj₂ 
```

回去只是解压缩 - 获取一对列表并生成一对列表：

```
list⟶vec : ∀ {a} {A : Set a} → List (A × A) → ∃2Vec A
list⟶vec [] = 0 , [] , []
list⟶vec ((x , y) ∷ xys) with list⟶vec xys
... | n , xs , ys = suc n , x ∷ xs , y ∷ ys

-- Alternatively:
list⟶vec = ,_ ∘ unzip ∘ fromList 
```

现在，我们知道如何从一种表示到另一种表示，但我们仍然必须证明这两种表示给我们提供了相同的信息。

首先，我们证明如果我们获取一个列表，将其转换为向量（via `list⟶vec`），然后再转换回列表（via `vec⟶list`），然后我们会得到相同的列表。

```
pf₁ : ∀ {a} {A : Set a} (xs : List (A × A)) → vec⟶list (list⟶vec xs) ≡ xs
pf₁ []       = refl
pf₁ (x ∷ xs) = cong (_∷_ x) (pf₁ xs) 
```

然后反过来：第一个向量列表，然后列表向量：

```
pf₂ : ∀ {a} {A : Set a} (xs : ∃2Vec A) → list⟶vec (vec⟶list xs) ≡ xs
pf₂ (zero  , []     , [])     = refl
pf₂ (suc n , x ∷ xs , y ∷ ys) =
  cong (P.map suc (P.map (_∷_ x) (_∷_ y))) (pf₂ (n , xs , ys)) 
```

如果您想知道什么`cong`是：

```
cong : ∀ {a b} {A : Set a} {B : Set b}
       (f : A → B) {x y} → x ≡ y → f x ≡ f y
cong f refl = refl 
```

我们已经证明 与`list⟶vec`一起`vec⟶list`形成 和 之间的同构*，*这意味着这两个表示是*同构*的。`List (A × A)``∃2Vec A`

# c# - 如何在一周中的特定日期和时间范围内不运行任务

> ID：15444171
> 
> 赞同：0
> 
> 时间：2013-03-16T00:28:27.490
> 
> 标签：c#

我有一个循环遍历 XML 文件并执行各种功能并记录其活动的程序。我现在需要添加到我的 XML 文件参数中，我可以在其中指定应该跳过任务的星期几和时间... IE，在我们计划的维护窗口期间。

基本上，我仍然希望任务运行，我只是不希望它在维护窗口期间出现故障时发送电子邮件警报。

由于我们有时有多个维护窗口，但在 24 小时内只有一次，所以我想像这样定义我的参数：

```
<DayOfWeek>Sat, Wed</DayOfWeek>
<TimeRange>00:00-06:00</TimeRange> 
```

处理这个问题的最佳逻辑是什么？无论是星期几，我们的维护窗口都应该在相同的时间范围内运行。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-16T00:41:23.297

[为简单起见，请使用您喜欢的日期格式 ( http://msdn.microsoft.com/en-us/library/8kb3ddd4.aspx](http://msdn.microsoft.com/en-us/library/8kb3ddd4.aspx) )为 SkipTaskFrom 和 SkipTaskTo 放入服务 2 键的 app.config和然后[解析它](http://msdn.microsoft.com/en-us/library/1k1skd40.aspx)

# android - 如何获取电话状态或短信状态？

> ID：15444172
> 
> 赞同：0
> 
> 时间：2013-03-16T00:28:42.300
> 
> 标签：android, sms, state

大家好，我会再解释一下我的问题。我不是以英语为母语的人。所以也许我的问题是在互联网上，但是当我搜索时，我只发现了我已经知道的东西。

我有一个带照明条的 Xperia U。我用它作为短信通知。我已经知道如何接收短信和解锁屏幕事件

我现在要做的是两件事。

1- 知道用户是否阅读了最后一条短信的可能性（我的应用程序只是一个通知中心而不是一个短信处理程序，所以短信阅读是由官方应用程序或用户应用程序（如 gosms）进行的）

2-可以知道手机是否已经解锁，如果是，我将删除通知。

我不是很清楚，但如果你不理解这个问题，我觉得这很难解释，我会重新表述它。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-16T00:45:52.043

> 可以知道用户是否阅读了最后一条短信（我的应用程序只是一个通知中心而不是短信处理程序，因此短信阅读是由官方应用程序或用户应用程序（如 gosms）进行的）

SMS中没有Read的概念。当它到达用户的设备时，您可以获得一个交付通知，但您无法判断用户是否阅读了它。

> 可能知道手机是否已经解锁，如果是，我将删除通知。

您需要为 ACTION_SCREEN_ON 和 ACTION_USER_PRESENT 广播动态注册一个 BroadcastReceiver。

# html - Angular JS - 有一个空数组

> ID：15444178
> 
> 赞同：1
> 
> 时间：2013-03-16T00:30:09.707
> 
> 标签：html, angularjs

我有一个表单，将数据提交到一个名为`ng-submit="newBirthday()`this pushes data 的函数中 - `$scope.bdayname, $scope.bdaydate;`到一个名为`bdaes`

我的问题是，在我看到的所有教程中，数组都有预定义的数据，有没有办法让它成为一个在提交时填充数据的空数组？

**应用程序.js：**

```
var app = angular.module('birthdayToDo', []);

app.controller('main', function($scope){ 

    // Start as not visible but when button is tapped it will show as true 

        $scope.visible = false;

    // Create the array to hold the list of Birthdays

        $scope.bdays = [{}];

    // Create the function to push the data into the "bdays" array

    $scope.newBirthday = function(){

        $scope.bdays.push({name:$scope.bdayname, date:$scope.bdaydate});

        $scope.bdayname = '';
        $scope.bdaydate = '';

    }
}); 
```

**HTML：**

```
<body ng-app="birthdayToDo" ng-controller="main">
    <div id="wrap">

      <!-- Begin page content -->
      <div class="container">
        <div class="page-header">
          <h1>Birthday Reminders</h1>
        </div>
            <ul ng-repeat="bdays in bdays">
                <li>{{bdae.name}} | {{bdae.date}}</li>
            </ul>

           <form ng-show="visible" ng-submit="newBirthday()">
            <label>Name:</label>
            <input type="text" ng-model="bdayname" placeholder="Name"/>
            <label>Date:</label>
            <input type="date" ng-model="bdaydate" placeholder="Date"/>
            <button class="btn" type="submit">Save</button>
        </form>
      </div>

      <div id="push"></div>
    </div>

    <div id="footer">
      <div class="container">
        <a class="btn" ng-click="visible = true"><i class="icon-plus"></i>Add</a>
      </div>
    </div>
        <script type="text/javascript" src="js/cordova-2.5.0.js"></script>
        <script type="text/javascript">
            app.initialize();
        </script>
    </body> 
```

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2013-03-16T18:25:30.423

好的，有一些小问题。

1.  空数组必须没有项目；`[{}]`是一个包含一项的数组：一个空对象。更改为`[]`摆脱了多余的子弹。
2.  更大的问题是您的 ngRepeat。你用过`ng-repeat="bdays in bdays"`。ngRepeat 所做的是获取一个数组并允许您对数组执行“for each”，将每个值分配给该临时局部变量。你给他们起同样的名字。相反，`ng-repeat="bday in bdays"`将为 中的每个项目添加其内部的 DOM 节点`bdays`，为您提供一个局部变量`bday`，用于引用每个项目。
3.  在 ngRepeat 模板中，您使用了`bdae`，它没有引用任何内容。
4.  我不知道是什么`app.initialize()`，所以我删除了它。它只是在控制台中出错。

这是一个固定的 Plunker：[http ://plnkr.co/edit/OFWY7o?p=preview](http://plnkr.co/edit/OFWY7o?p=preview)

# jquery - jQuery Validate 扩展方法不起作用

> ID：15444179
> 
> 赞同：8
> 
> 时间：2013-03-16T00:30:12.953
> 
> 标签：jquery, jquery-validate

我正在使用 将以下规则添加到现有的 jQuery Validate 脚本中[`extension`](http://docs.jquery.com/Plugins/Validation/CustomMethods/extension#extension)，但是这个片段会导致它中断并且根本无法验证。我之前和之后都尝试过逗号的所有可能组合，我也尝试过使用[`accept`](http://docs.jquery.com/Plugins/Validation/Methods/accept#mimetype)mimetypes 的方法，但到目前为止没有任何效果。如果我注释掉这个片段（以及它前面的注释），代码可以完美运行，但是添加它会导致它中断。

[这是一个 jsFiddle](http://jsfiddle.net/mU3zf/)的代码原样（不起作用），[这是一个](http://jsfiddle.net/xVhun/1/)完全相同的代码，除了代码片段被注释掉（工作正常）。

片段本身：

```
form1upload: {
    extension: "jpg|jpeg|pdf|doc|docx|png"
} 
```

完整代码：

```
jQuery(document).ready(function() {
    jQuery("#grantapp").validate({
        errorClass:"errorlabels",
        rules: {
            form1name: "required",
            form1building: "required",
            form1position: "required",
            form1phonex: "required",
            form1besttime: "required",
            form1projtitle: "required",
            form1benefit: "required",
            form1timeframe: "required",
            form1relevance: "required",
            form1description: "required",
            form1amount: "required",
            form1acceptchk: "required",
            form1upload: {
                extension: "jpg|jpeg|pdf|doc|docx|png"
            }
        },
        messages: {
            form1name: "You must enter your name.",
            form1building: "You must enter your building.",
            form1position: "You must enter your position.",
            form1phonex: "You must enter your phone extension.",
            form1besttime: "You must enter the best time to contact you.",
            form1projtitle: "You must give your project a title.",
            form1benefit: "You must enter the number of students who will benefit.",
            form1timeframe: "You must enter a time frame for this project.",
            form1relevance: "<br />You must state how this project is relevant to education.",
            form1description: "<br />You must provide a description of your project.",
            form1amount: "You must enter a requested amount.",
            form1acceptchk: "<span style=\"position:relative;top:-10px;\">You must accept the terms.</span>",
            form1upload: "You may not upload this type of file."
        },
        errorPlacement: function (error, element) { 
            if (element.attr("name") == "form1acceptchk") {
                error.insertAfter("#tbl1");
            } else {
                error.insertAfter(element);
            }
        }
    });
}); 
```

* * *

## 回答 #1

> 赞同：25
> 
> 时间：2013-03-16T01:28:04.487

That's because [the `extension` rule/method](http://docs.jquery.com/Plugins/Validation/CustomMethods/extension#extension) is not part of the jQuery Validate plugin by default.

You must include the jQuery Validate plugin's [`additional-methods.js` file](http://ajax.aspnetcdn.com/ajax/jquery.validate/1.11.0/additional-methods.js) if you want to use the `extension` rule.

It seems to be working now...

[http://jsfiddle.net/tMRer/](http://jsfiddle.net/tMRer/)

# python - wxWindows/wxPython中没有标题栏的窗口

> ID：15444181
> 
> 赞同：4
> 
> 时间：2013-03-16T00:30:14.513
> 
> 标签：python, user-interface, wxpython, titlebar, wxwidgets

有没有办法使用[wxPython](http://www.wxpython.org/)让窗口没有标题栏？如果是这样，我将如何去做？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-18T20:37:46.080

`wx.NO_BORDER`- 不显示边框，覆盖窗口的默认边框样式。[资源](http://www.wxpython.org/docs/api/wx.Window-class.html)

`wx.CAPTION`- 从标题栏中删除所有按钮。[来源 1](http://wiki.wxpython.org/ParentModalDialog) [来源 2](http://zetcode.com/wxpython/firststeps/)

# matlab - 将字符串数组转换为数字向量

> ID：15444183
> 
> 赞同：3
> 
> 时间：2013-03-16T00:30:38.317
> 
> 标签：matlab

我有这个：

```
d = {'2.5', '3.5'};
d = 
'2.5'    '3.5' 
```

如何将其转换为数字向量？

```
d = 2.5   3.5 
```

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-03-16T00:57:09.447

鉴于您有一个字符串值元胞数组，您可以使用它对每个条目`cellfun`应用转换。`str2num`输出将是转换值的向量/矩阵。

```
d = {'2.3','3.5'}
dVec = cellfun(@str2num, d); 
```

但是，您`str2double`比`str2num.`从[文档](http://www.mathworks.com/help/matlab/ref/str2num.html)中使用更好：

> 注意：str2num 使用 eval 函数来转换输入参数。如果字符串包含对函数的调用，则可能会出现副作用。使用 str2double 可以避免其中一些副作用。

```
dVec = cellfun(@str2double, d); 
```

**更新**：正如@yuk 指出的那样，您可以`str2double()`直接在单元格数组上调用相同的输出。

```
dVec = str2double(d); 
```

请注意，相同的调用`str2num()`将给出*“必须是字符串或字符串数​​组”*错误。

# perl - 未定义子程序 LWP::Protocol::https::Socket::can_read 调用

> ID：15444184
> 
> 赞同：1
> 
> 时间：2013-03-16T00:30:44.927
> 
> 标签：perl, vmware

我正在尝试使用 VMware Perl 库（它似乎在 ESXi 主机上调用 SOAP 服务）编写 Linux 机器和 ESXi 主机之间的一些交互。

我收到一个我找不到解决方案的错误：`Undefined subroutine &LWP::Protocol::https::Socket::can_read called at /usr/local/share/perl5/LWP/Protocol/http.pm line 22`

我目前正在运行 Net-HTTP-6.03。我确实尝试过使用 Net-HTTP-6.05，但它使基于 Web 的调用非常慢（随后的调用也最终失败，而不是大约 1.2MB 的 XML 作为错误消息）——各种论坛建议只能通过还原来解决到 6.03（通过`cpan install GAAS/Net-HTTP-6.03.tar.gz`）。

我的代码的症结如下：

```
use VMware::VIRuntime;
my $context = {
    options => ParseOptions(),  # result of using GetOpts::Long to parse command-line
    session => undef
};

$ENV{PERL_NET_HTTPS_SSL_SOCKET_CLASS} = "Net::SSL";    # Suppresses SSL_VERIFY_NONE
if ($context->{options}->{'ignore-ssl-errors'}) { 
    $ENV{PERL_LWP_SSL_VERIFY_HOSTNAME} = 0;            # Ignores certificate errors
}

## next line fails
$context->{session} = Vim::login(
    service_url => $context->{options}->{url}, 
    username => $context->{options}->{username}, 
    password => $context->{options}->{password}
); 
```

我（可以|需要）做些什么来让它工作吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-16T00:52:48.287

我懂了。我需要从旧版本重新安装 Bundle::LWP，而不仅仅是 Net-HTTP。没有它，我让 LWP v6.05 试图与 Net-HTTP v6.03 对话。

一旦我意识到 LWP == libwww-perl（是的，我就是*新人*），我找到了我需要的整体包：

```
cpan install GAAS/libwww-perl-6.03.tar.gz 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-03-17T11:00:31.267

使用 LWP 6.05 和 Net::HTTP 6.01 复制，这是 MacPorts 在撰写本文时安装的鸡尾酒。将 Net::HTTP 升级到 6.06（当前）解决了它：

```
sudo cpan Net::HTTP 
```

# algorithm - 在单位正方形上的均匀点上找到图形连接距离的算法

> ID：15444187
> 
> 赞同：4
> 
> 时间：2013-03-16T00:30:55.760
> 
> 标签：algorithm, math, graph-algorithm, discrete-mathematics

**情况**

假设我们在单位正方形 [0, 1]x[0, 1] 上有*n个点和一个正实数**r*。我们将图*G* (point 1, point 2, ..., point *n* , *r* ) 定义为顶点 {1, 2, ..., *n* } 上的图，使得当且仅当有一条边连接两个给定顶点如果对应点之间的距离小于或等于*r*。（您可以将这些点视为发射器，只要它们在范围*r*内，它们就可以相互通信。）

给定单位正方形 [0, 1]x[0, 1] 上的*n个点，我们将**连接距离*定义为连接G(point 1, point 2, ..., point *n* , *r* )的最小可能*r* .

 **问题 1) 找到一个算法来确定*G* (point 1, point 2, ..., point *n* , *r* ) 是否连通

问题 2) 找到一个算法，找到任意*n 个*给定点的连接距离

**我的部分解决方案**

对于问题 1，我有一个算法（算法 1）。我还没有实现它，但我确信它有效。（粗略地说，这个想法是从顶点 1 开始，并尝试通过边缘到达所有其他顶点。我认为这有点类似于[这个](https://stackoverflow.com/a/15395069/2153942)。）

剩下的就是问题 2。我也有一个算法来解决这个问题。但是，我认为这在时间上效率不高。我将尝试解释它是如何工作的：

您必须首先说服自己，连接距离*r [min]*必然是两个给定点之间的距离，例如*p*和*q*。因此，*r* *[min]**最多有 *n**( n* -1)/2 个可能的值。

因此，首先，我的算法将测量所有 *n**( *n* -1)/2 距离并按升序存储它们（例如，在 C 中的数组中）。然后它将使用算法 1 测试每个存储的值（按递增顺序），以查看图形是否与该范围相连。完成这项工作的第一个值是答案*r [min]*。

我的**问题**是：对于问题 2，是否有更好的（时间方面）算法？

**备注**：点将是随机生成的（大约有 10000 个），所以这就是算法应该“快速”解决的类型。此外，我将在 C 中实现这一点。（如果这有什么不同的话。）

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-16T03:57:48.613

这是一个需要时间和空间的算法。`O(n²)``O(n)`

它基于以下观察：如果将点分成两组，则连接距离不能小于分区中每组最近的一对点的距离。换句话说，如果我们总是通过添加最近的点来构建连通图，那么我们添加的最大距离将是连通距离。

*   创建两个集合，`A`和`B`。将一个随机点放入`A`并将所有剩余点放入`B`。

*   `r`将（连接距离）初始化为 0。

*   用到点 in的`M`每个点的距离初始化地图。`B``A`

*   虽然仍有点`B`：

    *   选择距离最小的点`b`。`B``M[b]`

    *   如果`M[b]`大于`r`，设置`r`为`M[b]`

    *   `b`从 中删除`B`并将其添加到`A`.

    *   `p`对于中的每个点`M`：

        *   如果`p`是`b`，请将其从`M`.

        *   `b`否则，如果到的距离`p`小于`M[p]`，则设置`M[p]`为该距离。

当所有点都在 时`A`，`r`将是连通距离。

循环的每一次迭代都`while`需要时间，首先在（其大小等于 的大小）`O(|B|)`中找到最小值；其次，更新中的值。由于在每次迭代中都会将一个点从 移动到，因此会有精确的迭代，因此总执行时间为。`M``B``M``B``A``n``O(n²)`

* * *

上面介绍的算法是对先前算法的改进，该算法使用双色最近对 (BCP) 问题的（未指定）解决方案来重新计算`A`每个循环中的最近邻居。由于存在`O(n log n)`BCP 的解决方案，这意味着对原始问题的解决方案。但是，维护和更新最近点列表实际上要简单得多，并且只需要. 感谢@LajosArpad 提出的引发这一思路的问题。`O(n² log n)``O(n)`

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-16T00:58:56.697

我认为您的想法相当不错，但是，我对您有一些改进。

实际上，您根据测量建立了一个数组，然后对数组进行了排序。非常好。至少没有太多的分数。

n(n-1)/2 的数量是您的配对要求的逻辑结果。因此，对于 10000 个元素，您将拥有 49995000 个元素。您将需要显着提高速度！此外，这么多元素会占用大量内存。

你怎样才能达到更快的速度？

首先，不要构建数组。你已经有一个数组。其次，您可以通过遍历轻松解决您的问题。假设您有一个函数，它确定给定距离是否足以连接所有节点，让我们将此函数称为“有效”。这还不够，因为您需要找到最小的可能值。因此，如果您在执行算法之前没有关于节点的更多信息，那么我的建议是这个解决方案：

```
lowerBound <- 0
upperBound <- infinite
i <- 0
while i < numberOfElements do
    j <- i + 1
    while j < numberOfElements do
        distance <- d(elements[i], elements[j])
        if distance < upperBound and distance > lowerBound then
            if valid(distance) then
                upperBound <- distance
            else
                lowerBound <- distance
            end if
        end if
        j <- j + 1
    end while
    i <- i + 1
end while 
```

在遍历所有元素之后，upperBound 的值将保持仍然连接网络的最小距离。你没有存储所有的距离，因为它们太多了，你已经在一个周期内解决了你的问题。我希望你觉得我的回答有帮助。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-03-16T06:02:22.153

如果某个距离使图形连接起来，那么任何更大的距离也会使其连接起来。要找到最小连接距离，只需对所有距离进行排序并使用二分搜索。

时间复杂度为 O(n^2*log n)，空间复杂度为 O(n^2)。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-08T18:09:54.967

您可以从一些小的距离*d*开始，然后检查连接性。如果图表已连接，则完成，如果没有，则将*d*增加一小段距离，然后再次检查连接性。

*如果N*很大，您还需要一个聪明的算法来避免 O(N^2) 。**

# git - Git - 在编辑器中提交，但没有打开编辑器

> ID：15444189
> 
> 赞同：0
> 
> 时间：2013-03-16T00:31:18.357
> 
> 标签：git

我只是想做一个`git pull`我已经做过数百次的事情。出于某种原因，这次它在控制台中向我展示了这个

```
# Please enter a commit message to explain why this merge is necessary,
# especially if it merges an updated upstream into a topic branch.
#
# Lines starting with '#' will be ignored, and an empty message aborts
# the commit. 
```

但是，没有任何东西可供我输入此提交消息。我相信像 Vim 之类的东西或任何应该打开的东西（我从未使用过），但我正处于试图提取代码的僵局中。

我在我的`git config`

`core.editor=vi`

我能做些什么？我可以通过其他方式输入所述提交消息吗？我正在使用 Mac OSX Lion。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-16T00:34:29.027

如果您将 git 编辑器设置为`vi`并看到该消息，则表示您*在*vi 中。如果您知道如何使用`vi`，请输入您的信息。否则，请将编辑器更改为您熟悉的编辑器。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-16T01:44:33.950

要更改编辑器，请执行以下操作：

```
git config --global core.editor TextWrangler 
```

（将 TextWrangler 替换为调用编辑器的确切命令，最好使用完整路径）。

这会更改您帐户的配置（`git`您使用的所有存储库），而`--local`您仅更改当前存储库的配置。

还要检查名为`GIT_<something>`.

# gwt - GWT ScrollPanel 在不滚动的情况下获得最大大小的子项

> ID：15444190
> 
> 赞同：1
> 
> 时间：2013-03-16T00:31:19.440
> 
> 标签：gwt, scroll

我想知道是否有可能获得a的内部尺寸

```
com.google.gwt.user.client.ui.ScrollPanel 
```

GWT 中的对象？我想创建一个完全适合空白空间的 ScrollPanel 的子项，而不激活滚动条。ScrollPanel 初始化如下：

[@Abhijith Nagaraja 回答后开始更新]

```
public void onModuleLoad() {

    Window.setMargin("0px");

    TabLayoutPanel tabs = new TabLayoutPanel(30, Unit.PX);

    //attach the tab panel to the body element
    RootPanel.get(null).add(tabs);

    //set the TabLayoutPanel to full size of the window.
    String width = (Window.getClientWidth()) + "px";
    String height = (Window.getClientHeight()) + "px";
    tabs.setSize(width, height);

    //create the scroll panel and activate the scroll bars
    ScrollPanel scrollPanel = new ScrollPanel(new Button("a second button"));
    scrollPanel.getElement().getStyle().setOverflowX(Overflow.SCROLL); 
    scrollPanel.getElement().getStyle().setOverflowY(Overflow.SCROLL);

    //attach the scroll panel to the DOM
    tabs.add(scrollPanel, "tab1");

    System.out.println(scrollPanel.getOffsetWidth());       // --> 0
    System.out.println(scrollPanel.getOffsetHeight());      // --> 0

} 
```

[结束更新]

原因：我想以这样一种方式初始化动态可视化（稍后需要滚动条），它看起来不错并且避免稍后添加 ScrollPanel。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-16T06:53:41.610

`ScrollPanel sp = new ScrollPanel();`

`...`

`int innerWidth = sp.`[获取偏移宽度（）](http://google-web-toolkit.googlecode.com/svn/javadoc/latest/com/google/gwt/user/client/ui/UIObject.html#getOffsetWidth%28%29)`- sp.getElement().`[获取滚动宽度（）](http://google-web-toolkit.googlecode.com/svn/javadoc/latest/com/google/gwt/dom/client/Element.html#getScrollWidth%28%29)`;`

`...`

**注意：** *只有当您的滚动面板连接到屏幕时，您才能使用上述代码。换句话说，它应该被渲染。*

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-17T06:30:17.513

```
DOM.setStyleAttribute(scrollpanel.getElement(), "maxHeight", mMainHeight + "px");; 
```

# opengl - 无法将屏幕外帧缓冲区对象的纹理正确渲染为四边形

> ID：15444191
> 
> 赞同：0
> 
> 时间：2013-03-16T00:31:20.890
> 
> 标签：opengl, textures, framebuffer, fbo

我正在做一个项目，我需要从模拟水的 SPH 粒子中获取表面，以便将其渲染为卡通风格。为了做到这一点，我遵循一种方法，其中第一步是从这个粒子集中获取深度图，我试图在屏幕外渲染，在帧缓冲区对象中，并在屏幕上渲染为测试，看看结果。现在我还没有渲染任何粒子，因为我正在尝试首先在这个 FBO 上渲染一些东西，然后按照 Swiftless 网站上的教程在四边形屏幕上渲染它。当然，我已经将那里解释的方法添加到我正在处理的项目中。

我的第一步是渲染一个绿色屏幕，上面有一个灰色的茶壶，它没有问题，正如你[在这里](https://www.dropbox.com/s/45rgx0f25uvcant/Untitled.png)看到的那样。

然后我尝试在屏幕外将其渲染为 FBO，然后他们将其渲染为屏幕中间的四边形，但我得到的只是一个绿色四边形，如您[在此处](https://www.dropbox.com/s/6mth9j3c31vns9c/Untitled2.png)看到的。

我使用的代码直接来自我之前提到的教程，是这样的：

变量：

```
GLuint fbo;
GLuint fbo_depth;
GLuint fbo_texture;

int windowWidth  = 1024;
int windowHeight = 768; 
```

设置 FBO 及其纹理：

```
void initFrameBufferDepthBuffer () 
{
    glGenRenderbuffersEXT(1, &fbo_depth); // Generate one render buffer and store the ID in fbo_depth
    glBindRenderbufferEXT(GL_RENDERBUFFER_EXT, fbo_depth); // Bind the fbo_depth render buffer  
    glRenderbufferStorageEXT(GL_RENDERBUFFER_EXT, GL_DEPTH_COMPONENT, windowWidth, windowHeight); // Set the render buffer storage to be a depth component, with a width and height of the window  

    glFramebufferRenderbufferEXT(GL_FRAMEBUFFER_EXT, GL_DEPTH_ATTACHMENT_EXT, GL_RENDERBUFFER_EXT, fbo_depth); // Set the render buffer of this buffer to the depth buffer  
    glBindRenderbufferEXT(GL_RENDERBUFFER_EXT, 0); // Unbind the render buffer 
}

void initFrameBufferTexture () 
{  
    glGenTextures(1, &fbo_texture); // Generate one texture  

    glBindTexture(GL_TEXTURE_2D, fbo_texture); // Bind the texture fbo_texture  

    glTexImage2D(GL_TEXTURE_2D, 0, GL_RGBA, windowWidth, windowHeight, 0, GL_RGBA, GL_UNSIGNED_BYTE, NULL); // Create a standard texture with the width and height of our window  

    // Setup the basic texture parameters  
    glTexParameterf(GL_TEXTURE_2D, GL_TEXTURE_WRAP_S, GL_CLAMP_TO_EDGE);  
    glTexParameterf(GL_TEXTURE_2D, GL_TEXTURE_WRAP_T, GL_CLAMP_TO_EDGE);  
    glTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_MAG_FILTER, GL_LINEAR);  
    glTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_MIN_FILTER, GL_LINEAR);  

    // Unbind the texture  
    glBindTexture(GL_TEXTURE_2D, 0);  
}

void initFrameBuffer () {  
    glEnable(GL_TEXTURE_2D); // Enable texturing so we can bind our frame buffer texture  
    glEnable(GL_DEPTH_TEST); // Enable depth testing

    initFrameBufferDepthBuffer(); // Initialize our frame buffer depth buffer  
    initFrameBufferTexture(); // Initialize our frame buffer texture  

    glGenFramebuffersEXT(1, &fbo); // Generate one frame buffer and store the ID in fbo  
    glBindFramebufferEXT(GL_FRAMEBUFFER_EXT, fbo); // Bind our frame buffer  
    glFramebufferTexture2DEXT(GL_FRAMEBUFFER_EXT, GL_COLOR_ATTACHMENT0_EXT, GL_TEXTURE_2D, fbo_texture, 0); // Attach the texture fbo_texture to the color buffer in our frame buffer
    glFramebufferRenderbufferEXT(GL_FRAMEBUFFER_EXT, GL_DEPTH_ATTACHMENT_EXT, GL_RENDERBUFFER_EXT, fbo_depth); // Attach the depth buffer fbo_depth to our frame buffer

    GLenum status = glCheckFramebufferStatusEXT(GL_FRAMEBUFFER_EXT); // Check that status of our generated frame buffer  

    if (status != GL_FRAMEBUFFER_COMPLETE_EXT) // If the frame buffer does not report back as complete  
    {  
        printf ( "Couldn't create frame buffer\n");
    }  

    glBindFramebufferEXT(GL_FRAMEBUFFER_EXT, 0); // Unbind our frame buffer  

    glDisable(GL_TEXTURE_2D);
    glDisable(GL_DEPTH_TEST);
} 
```

在 FBO 上渲染茶壶：

```
void renderTeapotScene () 
{  
    glBindFramebufferEXT(GL_FRAMEBUFFER_EXT, fbo); // Bind our frame buffer for rendering  
    glPushAttrib(GL_VIEWPORT_BIT | GL_ENABLE_BIT); // Push our glEnable and glViewport states  
    glViewport(0, 0, windowWidth, windowHeight); // Set the size of the frame buffer view port  

    glClearColor (0.0f, 1.0f, 0.0f, 1.0f); // Set the clear color  
    glClear (GL_COLOR_BUFFER_BIT | GL_DEPTH_BUFFER_BIT); // Clear the depth and color buffers  

    glLoadIdentity();  // Reset the modelview matrix  

    glTranslatef(0.0f, 0.0f, -5.0f); // Translate back 5 units  

    glColor4f(0.5f, 0.5f, 0.5f, 1.0f);
    glutSolidTeapot(1.0f); // Render a teapot  

    glPopAttrib(); // Restore our glEnable and glViewport states  
    glBindFramebufferEXT(GL_FRAMEBUFFER_EXT, 0); // Unbind our texture  
} 
```

在应用程序开始时仅发生一次的进程上设置 FBO：

```
initFrameBuffer(); // Create our frame buffer object 
```

以及每一帧都会发生的整个过程：

```
glEnable(GL_TEXTURE_2D); // Enable texturing so we can bind our frame buffer texture  
glEnable(GL_DEPTH_TEST); // Enable depth testing 

renderTeapotScene();

glLoadIdentity(); // Load the Identity Matrix to reset our drawing locations  
glTranslatef(0.0f, 0.0f, -10.0f);  

glBindTexture(GL_TEXTURE_2D, fbo_texture);  

glBegin(GL_QUADS);  
    glTexCoord2f(0.0f, 0.0f);  glVertex3f(-1.0f, -1.0f, 0.0f); // The bottom left corner  
    glTexCoord2f(0.0f, 1.0f);  glVertex3f(-1.0f, 1.0f, 0.0f); // The top left corner  
    glTexCoord2f(1.0f, 1.0f);  glVertex3f(1.0f, 1.0f, 0.0f); // The top right corner  
    glTexCoord2f(1.0f, 0.0f);  glVertex3f(1.0f, -1.0f, 0.0f); // The bottom right corner  
glEnd();  

glBindTexture(GL_TEXTURE_2D, 0);

glDisable(GL_TEXTURE_2D);
glDisable(GL_DEPTH_TEST); 
```

当然，这些代码片段是在一个更大的项目中，我认为这可能会导致一些可能导致这种行为的东西，但我不知道它可能是什么。我认为重要的是要说我的 FBO 与屏幕帧缓冲区具有相同的宽度和高度。

好吧，这就是我现在的情况。有人知道如何将第一个图像渲染到第二个图像中间的四边形作为纹理？

# python - Python：有没有办法从列表中获取多个项目？

> ID：15444196
> 
> 赞同：1
> 
> 时间：2013-03-16T00:32:57.457
> 
> 标签：python, dictionary

我有一个包含两个字典的列表。获取 test.py 和 test2.py 并将它们作为列表 [test.py, test2.py] 的最简单方法是什么？如果可能的话，我想在没有 for 循环的情况下执行此操作。

```
[  {'file': 'test.py', 'revs': [181449, 181447]}, 
{'file': 'test2.py', 'revs': [4321, 1234]}  ] 
```

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-03-16T00:35:07.000

可以只使用`list comp`- 我猜这是一种 for 循环：

```
>>> d = [  {'file': 'test.py', 'revs': [181449, 181447]}, 
{'file': 'test2.py', 'revs': [4321, 1234]}  ]
>>> [el['file'] for el in d]
['test.py', 'test2.py'] 
```

不使用这个词`for`，你可以使用：

```
>>> from operator import itemgetter
>>> map(itemgetter('file'), d)
['test.py', 'test2.py'] 
```

或者，没有导入：

```
>>> map(lambda L: L['file'], d)
['test.py', 'test2.py'] 
```

# php - 将 uk phone 作为字符串转换为有效的移动和固定电话格式

> ID：15444197
> 
> 赞同：-1
> 
> 时间：2013-03-16T00:33:11.733
> 
> 标签：php, formatting

我正在为英国开发一个汽车列表网站，我使用了一个最多 11 位数字作为最大限制的移动字段，没有空格或任何东西，只有 11 位移动电话和固定电话号码可以在那里。

我正在寻找一个函数，它显示来自数据库的 0114328929238 之类的数字，但我希望它以下列方式显示

(01494) 670007 (07763) 786786 (0843) 3096063

我将数字以 11 位数字的形式存储在我的数据库字段中，例如 0114328929238

我需要以上面的格式显示这些数字，最重要的是它应该是有效的英国移动和固定电话格式。

请帮帮我。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-16T00:38:11.467

这个怎么样？

```
$phoneFromDatabase = '01234567890';
$phone = '(' . substr($phoneFromdatabase, 0, 4) . ') ' . substr($phoneFromDatabase, 5); 
```

# python - pyqt 应用程序需要以管理员权限运行

> ID：15444200
> 
> 赞同：1
> 
> 时间：2013-03-16T00:33:31.573
> 
> 标签：python, qt, pyqt, pyside, pyinstaller

我有一个 pyqt 应用程序，它需要以管理员权限运行，因为它创建了一些网络连接。我已将其打包并可以运行，但我的用户（我敢打赌）会忘记右键单击并“以管理员身份运行”，所以 pyqt 或 pyinstaller 中是否有办法强制执行此操作并确保应用程序以管理员权限运行？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-18T20:27:54.717

您需要创建一个自定义清单文件，指定所需的[requestedExecutionLevel](http://msdn.microsoft.com/en-us/library/bb756929.aspx)，其名称与最终的 .exe 文件名相同，并使用该选项运行*PyInstaller 。*`--manifest`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2021-12-20T03:22:16.533

使用选项运行**PyInstaller**`--uac-admin`

[文档](https://pyinstaller.readthedocs.io/en/stable/usage.html#cmdoption-uac-admin)

# bash - 在 Bash 中删除和复制文件？

> ID：15444213
> 
> 赞同：3
> 
> 时间：2013-03-16T00:34:58.217
> 
> 标签：bash, hash, copying

我需要你们的帮助！我会尽量具体。

**场景：**我在 Linux 发行版上有一个 MOUNTED 映像。我将这个已安装的 Distro 中的所有文件复制到我的 Linux 系统上名为“raw”的文件夹中（在 Files...so Files/Raw 的子目录中）。我在这个 Raw 文件夹中所有文件的文本文件中创建了一个 HASH LIST（使用 md5sum 的 MD5）。我将这个 HASH LIST 重复数据删除（去掉了多余的哈希）到一个名为“UniqueHashes.txt”的新文本文件中

**任务：**基本上我现在需要做的是遍历整个 Raw 文件夹并将每个具有匹配 MD5 哈希的文件复制到 UniqueHashes.txt 中的哈希之一。

我想做的是：使用 find 循环遍历 RAW。-type f，然后对每个文件进行哈希处理，并将该哈希值与我创建的唯一哈希列表中的每一行进行比较。如果它存在于唯一哈希列表中，则将该文件（保留时间戳）复制到 DD 中，否则，忽略该文件。

它需要在 BASH 中。非常感谢您的帮助。我不希望你用代码把答案交给我，但如果你这样做，那就太棒了。但是，你能给我的任何指导来解决这个问题都会很棒！！！

提前致谢！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-16T00:48:01.580

使用`fdupes`，一个漂亮的第三方工具，可以从你的包管理器中获得：

```
fdupes -d -r files/raw 
```

对于每组相同的文件，将提示您要保留哪些重复文件。

其他选项包括

```
fdupes -d -r -N files/raw 
```

自动保留一个随机的，或

```
fdupes -L -r files/raw 
```

硬链接重复项，使目录看起来相同，只是使用更少的空间。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-16T00:54:00.657

```
(
IFS=$(echo -en "\n\b")
for file in $(find -printf '%P\n'); do
  if [ -f $file ]; then
    md5=$(md5sum $file | cut -d' ' -f1)
    if grep $md5 Unique # && test ! -f $dest
    then
      # copy source dest 
    fi
  else
    # create a directory at the dest?
  fi  
done
) 
```

# php - PHP将一个类的实例传递给另一个类

> ID：15444215
> 
> 赞同：9
> 
> 时间：2013-03-16T00:35:11.717
> 
> 标签：php, oop, class, instance

我还是 PHP OO 编程技术的新手，我有一个非常简单的广泛问题，在一个类中实例化一个类然后将该实例传递给另一个类通常是不好的做法吗？

我想要的是能够通过每个用户请求创建我知道我将始终需要的特定类的实例。第二类不仅仅是一个辅助类，理想情况下，在我的应用程序中，它将是一个加载视图的“加载器”。

调用其他两个类的第一类：

```
require 'classTwo.php';
require 'classThree.php';

class first {
     public $classTwo, $classThree;

     public function __construct() {
          $this -> classTwo = new classTwo;
          $this -> classThree = new classThree;

          $this -> classThree -> displayNum( $this -> classTwo );

     }
} 
```

第二类是助手类：

```
class classTwo {
     public function returnVal() {
          return 123;
     }
} 
```

第三类是实际工作和最终展示会发生的动作类：

```
class classThree {
     public function displayNum( $instance ) {
          echo $instance -> returnVal();
     }
} 
```

总的来说，我只想知道这是否是不好的做法，因为我以前从未见过这样做过。

提前致谢！

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2013-03-16T00:41:28.807

注入任何依赖对象是一种很好的做法，因为这使您可以在单元测试期间非常轻松地进行模拟。

一般来说，如果你有`ClassA`并且它依赖于一个实例`ClassB`来运行，那么你可以做类似..

```
$objectB = new ClassB();
$objectA = new ClassA($objectB); 
```

看看[http://net.tutsplus.com/tutorials/php/dependency-injection-in-php/](http://net.tutsplus.com/tutorials/php/dependency-injection-in-php/)

编辑：构造函数注入将依赖项传递给新对象的构造函数（如上所示）。

Setter 注入使用一种方法来设置依赖关系，通常在依赖关系不重要时使用：

```
$objectB = new ClassB();
$objectA = new ClassA();
$objectA->setObjectB($objectB); 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-03-16T00:38:23.557

是的。这会使对您的`first`类进行单元测试变得很痛苦，因为其中存在硬编码的依赖项。

注入类的实例或注入工厂。

# php - 在我转换时，网站可以成为 mysql 和 mysqli 的一部分吗

> ID：15444221
> 
> 赞同：0
> 
> 时间：2013-03-16T00:36:01.773
> 
> 标签：php, mysql, mysqli

我刚刚开始将我的网站从 mysql 转换为 mysqli，并将我的一项功能更改为 mysqli。我上传了这个新功能，但是现在数据库中没有显示任何结果。那么这只是代码，还是整个网站都必须先在 mysqli 中才能正常工作？难道是因为我的数据库连接还是mysql？我转换了这个

```
function viewOrdersAdmin(){
//This block grabs the orders
$order_list = "";
//Selecting all the orders in the table from that member
$sql = mysql_query("SELECT * FROM `transactions`");

while ($transactions = mysql_fetch_array($sql)) {
    //creating variables from the information
    $order_id = $transactions["order_id"];
    $mem_id = $transactions["mem_id"];

    $order_details = mysql_query("SELECT * FROM `transactionDetails` WHERE `order_id` = $order_id GROUP BY order_id");
    $orderDetailsCount = mysql_num_rows($order_details);
    while ($row = mysql_fetch_array($order_details)) {
        //creating variables from the information
        $order_product_id = $row["Product_ID"];

        $member_details = mysql_query("SELECT * FROM `members` WHERE `mem_id` = $mem_id");
        $memberDetailsCount = mysql_num_rows($member_details);
        while ($row2 = mysql_fetch_array($member_details)) {
            //creating variables from the information
            $order_mem_fname = $row2["mem_first_name"];
            $order_mem_lname = $row2["mem_last_name"];

        $order_list .= "Order ID:$order_id - Customer Name: $order_mem_fname $order_mem_lname  &nbsp; &nbsp; &nbsp; <a href='manage_order.php?orderid=$order_id'>View</a> &bull; <a href='manage_orders.php?deleteid=$order_id'>Delete</a><br/>";

        }
    }
}

if (count($orderDetailsCount) == 0) {
    $order_list = "You have no orders to display";
}

print_r($order_list);
} 
```

对此

```
function viewOrdersAdmin(){ 
//This block grabs the orders 
$order_list = ""; 
//Selecting all the orders in the table from that member 
$sql = mysqli_query($GLOBALS["___mysqli_ston"], "SELECT * FROM `transactions`"); 

while ($transactions = mysqli_fetch_array($sql)) { 
    //creating variables from the information 
    $order_id = $transactions["order_id"]; 
    $mem_id = $transactions["mem_id"]; 

    $order_details = mysqli_query($GLOBALS["___mysqli_ston"], "SELECT * FROM `transactionDetails` WHERE `order_id` = $order_id GROUP BY order_id"); 
    $orderDetailsCount = mysqli_num_rows($order_details); 
    while ($row = mysqli_fetch_array($order_details)) { 
        //creating variables from the information 
        $order_product_id = $row["Product_ID"]; 

        $member_details = mysqli_query($GLOBALS["___mysqli_ston"], "SELECT * FROM `members` WHERE `mem_id` = $mem_id"); 
        $memberDetailsCount = mysqli_num_rows($member_details); 
        while ($row2 = mysqli_fetch_array($member_details)) { 
            //creating variables from the information 
            $order_mem_fname = $row2["mem_first_name"]; 
            $order_mem_lname = $row2["mem_last_name"]; 

        $order_list .= "Order ID:$order_id - Customer Name: $order_mem_fname $order_mem_lname  &nbsp; &nbsp; &nbsp; <a href='manage_order.php?orderid=$order_id'>View</a> &bull; <a href='manage_orders.php?deleteid=$order_id'>Delete</a><br/>"; 

        } 
    } 
} 

if (count($orderDetailsCount) == 0) { 
    $order_list = "You have no orders to display"; 
} 

print_r($order_list); 
```

}

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-16T00:38:43.837

如果要同时使用两个不同的库，则需要两个数据库连接：一个 mysql 连接和一个单独的 mysqli 连接。

但是，您可以同时使用两者而不会出现任何问题。它只会暂时使用更多资源，因为您通常有两个连接到数据库的连接。

顺便说一句，我不建议为您的数据库连接使用全局变量，您应该将它作为参数传递给您的函数，因为这样可以更轻松地进行故障排除。

您还应该使用准备好的语句来避免任何 sql 注入问题。

# microsoft-metro - 将 ListLayout 用于具有 GridLayout 的 ListView 内的分组项目

> ID：15444222
> 
> 赞同：1
> 
> 时间：2013-03-16T00:36:09.053
> 
> 标签：microsoft-metro, windows-store-apps, winjs

假设我有一个带有分组数据的 ListView 和一个 GridLayout。我想要一个组内项目的垂直列表（每个组以黄色表示）和每个组的水平列表。

我可以使用 ListView 执行此操作吗？

![富](../Images/de3f851782f887923d7a3844e71bc723.png)

（箭头代表预期的滚动）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-16T13:55:50.427

请记住，根据 Windows 设计原则，不建议使用这种滚动方向组合。单个平移轴给用户一种坚实的感觉，好像他们正在与真实内容进行交互，但组合滚动往往会迷失方向。特别是当用户使用鼠标滚轮滚动时。它可能不会让你在认证中失败，但我想我会给你一些思考的食物。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-16T11:03:23.320

您可以嵌套 ListViews：一个，它水平滚动并将 groupedDataSource 中的项目显示为普通 itemDataSource。

然后让组项目的项目渲染器创建他们自己的 ListViews 并使用垂直 ListLayout 在其中显示来自各自组的项目。

# java - 在没有任何显式导入的情况下，采用类类型并将其链接到描述它的内容的行为是什么？

> ID：15444224
> 
> 赞同：0
> 
> 时间：2013-03-16T00:36:30.430
> 
> 标签：java, object, behavior

首先，我不确定我的问题是否表述得很好，所以如果有人可以帮我表述它以便将来其他人可以找到它，欢迎发表评论。

我有以下代码：

```
@Override
public void update(float deltaTime){
    //getGraphics returns a Graphics object
    //it inherits from ? can access the AndroidGraphics class because of ?
    Graphics g = game.getGraphics();
    Assets.splash = g.newImage("splash.jpg", ImageFormat.RGB565);

    game.setScreen(new LoadingScreen(game));
} 
```

一切正常（不是我写的），但从来没有导入包含附加到图形类型的方法的 AndroidGraphics ......一切都导入了在 AndroidGraphics 中实现的接口（即图形）。该链接是如何建立的，为什么可行以及该行为如何命名？

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-24T23:22:10.000

抽象。

您可以使用实现 Graphics 接口的对象的概念，而无需知道或不需要知道该实现是 android 特定的 - 它是 AndroidGraphics 的一个实例。

AndroidGraphics 类通过实现 Graphics 接口，有效地表示“无论该接口隐含什么合同，我都会履行”，因此需要 Graphics 提供的功能的客户不需要知道履行合同的类的类型，只需知道他们是这样。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-24T23:23:46.303

它被称为[使用包成员](http://docs.oracle.com/javase/tutorial/java/package/createpkgs.html)。您不需要导入它，因为文件开头的包参数隐式导入了它，而无需您使用“import”。

# linux - 用户命令行不使用标准输入和标准输出

> ID：15444225
> 
> 赞同：0
> 
> 时间：2013-03-16T00:36:31.950
> 
> 标签：linux, io, terminal

我的程序被另一个进程调用，并通过标准输入和标准输出与它通信。我想通过命令行界面与我的程序进行交互，但显然在终端中运行它的常用方法不起作用。我正在寻找实现这一目标的最简单方法。

我的程序目前是用 Lua 编写的，但可能会变成 C 或其他东西。在 GNU/Linux 下运行，但在 Windows 下也能运行的简单东西会很棒。

# php - 如何使用 $not 运算符将简单的 MongoDB 查询从 shell 转换为 PHP

> ID：15444229
> 
> 赞同：1
> 
> 时间：2013-03-16T00:36:40.960
> 
> 标签：php, mongodb

我正在努力将一个简单的 MongoDB 查询转换为 PHP。假设我有以下集合：

```
{ "_id": 1, "text" : "I agree with you." }  
{ "_id : 2, "text" : "They agreed with him." }  
{ "_id : 3, "text" : "They wrote an agreement." } 
```

在外壳中，如果我输入：

```
db.collection.find({ text: {$not: /\bagreed\b/i}}) 
```

它很好地排除了带有 _id:2 的项目，如下所示：

```
{ "_id": 1, "text" : "I agree with you." }  
{ "_id : 3, "text" : "They wrote an agreement." } 
```

如何将此简单查询转换为 PHP 中的等效查询？提前致谢。

# php - 受密码保护内容上的 Facebook 点赞按钮

> ID：15444234
> 
> 赞同：2
> 
> 时间：2013-03-16T00:37:31.677
> 
> 标签：php, facebook, wordpress

基于订阅的 Wordpress 网站具有受密码保护的内容。

所有者希望在受保护内容的每个页面上都有一个“喜欢”按钮，但是，正如您想象的那样，当 FB 尝试检索“喜欢”页面的 URL 时，它总是被定向到“注册”页面，即，当然是设计使然（类似于试图在没有帐户的情况下访问内容的人）。

因此，“喜欢”计数是错误的，订阅者只能点击“喜欢”一次，因为 FB 将每个“喜欢”视为同一页面。

我已经在地球上搜寻了一个解决方案，但找不到一个。有人想出解决方法吗？

谢谢你。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-16T00:49:04.497

您的点赞按钮需要在喜欢的内容之外，以便每个页面都有不同的点赞按钮。

以 vbulletin 板为例，它具有仅限会员的区域。

您的网站需要部分不受保护，仅保护密码内容。

# r - R中的文本行数

> ID：15444238
> 
> 赞同：-1
> 
> 时间：2013-03-16T00:38:13.183
> 
> 标签：r, text, count

我正在 R 中进行一些基本的文本分析，并想计算我加载到 R 中的 .txt 文件的成绩单的行数。下面的示例产生一个计数，其中每个发言者都获得了一个附加到的新行行数使得 Smith 先生 = 4，Gordon 先生 = 6，Catalano 先生 = 3。

[71] "\"511\"\t\"
**史密斯**先生：议长先生，我喜欢我们就此达成一致的精神。FUFA的管理在这里。FUFA 可以用作管道，但它的意图是什么。Beti Kamya 长大了，什么荣誉。Rose Namayanja 说是*okufuwa* - 只是对实现这一目标的球员表示感谢。\""
[72] "\"513\"\t\"
**戈登先生：**非常感谢您，议长先生。FUFA是一个组织，球员是为我们赢得奖杯的人。为了促进所有活动的积极性，不仅是足球，你应该奖励表现出色的人。在这种情况下，我们听说了 FUFA 的问题。他们没有支付水费，他们可以拿这笔钱来支付水费。如果我们同意这笔钱应该给球员和教练，那么当钱到那里时，他们就会知道金额，他们会坐在一起，根据我们给的钱分配。*（掌声）*谢谢。\""
[73] "\"515\"\t\"
**卡塔拉诺先生：**议长先生，我想向我亲爱的同事们提供信息。精神很好，但你必须注意，FUFA的管理是造成这一切的原因。钱给球员。这向您表明，FUFA非常值得信赖。这不是我们所说的旧FUFA。\""

函数 countLine() 不起作用，因为它需要连接 - 这些只是导入到 R 中的 .txt。我意识到行数取决于打开文本的格式，但如果有任何一般帮助这是可行的会有所帮助。谢谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-16T01:04:25.650

我认为您的示例不可重现，因此我对其进行了编辑以使其包含您发布的内容，但我不知道名称是否匹配：

```
txtvec <-   structure(list(`'511'   ` = "MR Smith: Mr Speaker, I like the spirit in which we are agreeing on this. The administration of FUFA is present here. FUFA could be used as a conduit, but the intention of what hon. Beti Kamya brought up and what hon. Rose Namayanja has said was okufuwa - just giving a token of appreciation to the players who achieved this.\"", 
    `'513'  ` = "MR Gordon: Thank you very much, Mr Speaker. FUFA is an organisation and the players are the ones who got the cup for us. To promote motivation in all activities, not only football, you should remunerate people who have done well. In this case, we have heard about FUFA with their problems. They have not paid water bills and they can take this money to pay the water bills. If we agree that this money is supposed to go to the players and the coaches, then when it goes there they would know the amount and they will sit among themselves and distribute according to what we will have given. (Applause) I thank you.\"", 
    `'515'  ` = "MR Catalano: Mr Speaker, I want to give information to my dear colleagues. The spirit is very good but you must be mindful that the administration of FUFA is what has made this happen. The money to the players. That indicates to you that FUFA is very trustworthy. This is not the old FUFA we are talking about.\""), .Names = c("'511'\t", 
"'513'\t", "'515'\t")) 
```

所以这只是一个问题，或者在它上面运行一个正则表达式并列出结果：

```
> table( sapply(txtvec, function(x) sub("(^MR.+)\\:.+", "\\1", x) ) )
#MR Catalano   MR Gordon    MR Smith 
           1           1           1 
```

有人担心这些名字不在原来的结构中。这是另一个带有未命名向量和稍微修改的正则表达式的版本：

```
txtvec <-  c("\"511\"\t\"\nMR Smith: Mr Speaker, I like the spirit in which we are agreeing on this. The administration of FUFA is present here. FUFA could be used as a conduit, but the intention of what hon. Beti Kamya brought up and what hon. Rose Namayanja has said was okufuwa - just giving a token of appreciation to the players who achieved this.\"", 
"\"513\"\t\"\nMR Gordon: Thank you very much, Mr Speaker. FUFA is an organisation and the players are the ones who got the cup for us. To promote motivation in all activities, not only football, you should remunerate people who have done well. In this case, we have heard about FUFA with their problems. They have not paid water bills and they can take this money to pay the water bills. If we agree that this money is supposed to go to the players and the coaches, then when it goes there they would know the amount and they will sit among themselves and distribute according to what we will have given. (Applause) I thank you.\"", 
"\"515\"\t\"\nMR Catalano: Mr Speaker, I want to give information to my dear colleagues. The spirit is very good but you must be mindful that the administration of FUFA is what has made this happen. The money to the players. That indicates to you that FUFA is very trustworthy. This is not the old FUFA we are talking about.\""
)

 table( sapply(txtvec, function(x) sub(".+\\n(MR.+)\\:.+", "\\1", x) ) )

#MR Catalano   MR Gordon    MR Smith 
#          1           1           1 
```

要计算每行 80 个字符的包装设备上占用的“行”数，您可以使用以下代码（可以很容易地将其转换为函数）：

```
 sapply(txtvec, function(tt) 1+nchar(tt) %/% 80)
#[1] 5 8 4 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-16T02:49:29.507

这是在评论中提出的，但它确实是它自己的答案：

如果不定义“行”是什么，就无法“数行”。行是一个非常模糊的概念，可能会因所使用的程序而异。

当然，除非数据包含一些*换行符*，例如`\n`. 但即使那样，你也不会计算**行**数，你会计算**换行符。** 然后，您将不得不问自己，硬编码的换行符是否与您希望分析的内容一致。

--

如果你的数据不包含换行符，但你还想统计行数，那我们又回到“如何定义行”的问题了？正如@flodel 建议的那样，最基本的方法是使用字符长度。例如，您可以将一行定义为 76 个字符长，然后取

```
ceiling(nchar(X) / 76)) 
```

这当然假设您可以切词。（如果你需要文字保持完整，那么你必须变得更狡猾）

# objective-c - 如何模拟 NSZone？

> ID：15444241
> 
> 赞同：1
> 
> 时间：2013-03-16T00:38:28.650
> 
> 标签：objective-c, ocmock

OCMock 目前不支持原始参数的松散匹配。然而，我有一个需要在 上设置的`OCMockObject`属性，并且该属性是用`copy`属性声明的。因此，它实现了`- (id)copyWithZone:(NSZone *)zone`. `NSZone`被定义为`typedef struct _NSZone NSZone`，因为它是一个结构体，所以它是一个原始类型。因此我得到了错误

```
Incompatible pointer types sending 'id' to parameter of type 'NSZone *' (aka 'struct _NSZone *') 
```

在这条线上：

```
[[mockObject expect] copyWithZone:[OCMArg any]]; 
```

解决这个问题的最好方法是用`retain`属性而不是声明属性`copy`？使用的好处`copy`是对象不可能被另一个对象修改。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-16T01:24:17.187

只需调用 -copy 吗？它会调用 -copyWithZone:，而 zone 参数完全没用。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-16T12:43:21.150

*NSZone**是一个指针。虽然 OCMock 不为​​原始类型提供“松散”匹配，但它确实有 [OCMArg anyPointer] 来匹配任何指针。

也就是说，如果您只调用**expect**，而不是**andReturn:**，那么模拟方法将只返回*nil*，这可能不是您想要的。我的猜测是，在您的情况下，以下是更好的解决方案：

```
[[[mock expect] andReturn:mock] copyWithZone:[OCMArg anyPointer]]; 
```

这显然不会创建模拟的副本，它只是确保模拟本身是从调用**copyWithZone:**时返回的。

# javascript - 为什么 Array.push.apply 不起作用？

> ID：15444242
> 
> 赞同：51
> 
> 时间：2013-03-16T00:38:43.697
> 
> 标签：javascript, arrays, apply

[如此处](https://stackoverflow.com/a/1374131/460138)所述，在 javascript 中将数组 b 附加到数组 a 的快速方法是`a.push.apply(a, b)`.

您会注意到对象 a 被使用了两次。实际上我们只想要这个`push`函数，并且`b.push.apply(a, b)`完成完全相同的事情——apply 的第一个参数为`this`应用的函数提供了。

我认为直接使用 Array 对象的方法可能更有意义：`Array.push.apply(a, b)`. 但这不起作用！

我很好奇为什么不，以及是否有更好的方法来实现我的目标。`push`（无需调用特定数组两次即可应用该函数。）

* * *

## 回答 #1

> 赞同：72
> 
> 时间：2013-03-16T00:41:04.383

是[`Array.prototype.push`](https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Array/push)，不是`Array.push`

* * *

## 回答 #2

> 赞同：10
> 
> 时间：2016-05-29T21:59:47.087

您也可以使用`[].push.apply(a, b)`较短的符号。

* * *

## 回答 #3

> 赞同：8
> 
> 时间：2019-02-27T16:11:15.783

当前版本的 JS 允许您将数组解包到参数中。

```
var a = [1, 2, 3, 4, 5,];
var b = [6, 7, 8, 9];

a.push(...b); //[1, 2, 3, 4, 5, 6, 7, 8, 9]; 
```

* * *

## 回答 #4

> 赞同：4
> 
> 时间：2013-03-16T00:41:54.057

有什么问题[`Array.prototype.concat`](https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/Array/concat)？

```
var a = [1, 2, 3, 4, 5];
var b = [6, 7, 8, 9];

a = a.concat(b); // [1, 2, 3, 4, 5, 6, 7, 8, 9]; 
```

# jquery - Angular 指令和 Jquery slideToggle 函数实现

> ID：15444244
> 
> 赞同：7
> 
> 时间：2013-03-16T00:38:53.013
> 
> 标签：jquery, angularjs, slide, slidetoggle, angularjs-directive

使用 angular 和 jquery 我实现了 slideToggle 功能。为了仅将此函数应用于一个特定的 HTML 元素，我在 ng-click 函数中使用了一个参数，我的代码工作正常，但是，我想知道是否存在另一种更好的方法来实现指令和 ng-click 函数的角度：

**索引.html**

```
<!DOCTYPE html>
<html ng-app="myApp" ng-controller="MainController">
<head>
    <title></title>
    <link type="text/css" rel="stylesheet" href="css/styles.css"/>
</head>
<body>
    <div>
        <input type="button" ng-click="toggle('first')" value="Toggle First">
        <input type="button" ng-click="toggle('second')" value="Toggle Second">
        <input type="button" ng-click="toggle('third')" value="Toggle third">
        <div class="div1" section="first" toggle="first" >
            <p>This is section #1</p>
        </div>
        <div class="div1" toggle="second">
            <p>This is another section #1</p>
        </div>
        <div class="div1" toggle="third">
            <p>This is 3 section #1</p>
        </div>
    </div>
</body>
<footer>
    <script src="js/jquery.min.js"></script>
    <script src="js/angular.js"></script>
    <script src="js/directives.js"></script>
</footer>
</html> 
```

**样式.css**

```
.div1 {
    background: Brown;
    width: 200px;
    height: 200px;
    text-align: center;
}
.div1 p {
    position: relative;
    top: 50%;
} 
```

**指令.js**

```
angular.module("myApp", []) //
    .controller('MainController', function($scope) {
        $scope.toggle = function(section) {
            console.log('<toggle function> section :' + section);
            $scope.section = section;
            $scope.$broadcast('event:toggle');
        }
    }) //
    .directive('toggle', function() {
        return function(scope, elem, attrs) {
            scope.$on('event:toggle', function() {
                if(attrs.toggle == scope.section){
                    elem.slideToggle('fast');
                }
            });
        };
    }); 
```

我自己关心的一个问题是我在指令和范围之间进行通信的方式：

```
 $scope.section = section; 
```

和

```
 if(attrs.toggle == scope.section){ 
```

对于更好的 Angular 实现，我将不胜感激。

谢谢

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2013-03-17T18:48:48.517

**Plunker 演示：** [http ://plnkr.co/edit/u69puq?p=preview](http://plnkr.co/edit/u69puq?p=preview)

仅供参考，在撰写本文时，AngularJS 团队正在添加一个[*ngAnimate*](https://twitter.com/yearofmoo/status/308745628010295296)指令，该指令将（希望）提供 jQuery 当前提供的大部分动画功能，例如 Slide、Fade 等，目前 IMO 非常缺少这些功能。

**HTML**

```
<div data-ng-controller="MainController">      
    <input type="button" value="Toggle First" ng-click="box1=!box1">
    <input type="button" value="Toggle Second" ng-click="box2=!box2">
    <input type="button" value="Toggle third" ng-click="box3=!box3">

    <div class="div1" data-slide-toggle="box1" data-slide-toggle-duration="100" >
        <p>This is section #1</p>
    </div>
    <div class="div2" data-slide-toggle="box2" data-slide-toggle-duration="2000">
        <p>This is another section #1</p>
    </div>
    <div class="div3" data-slide-toggle="box3">
        <p>This is 3 section #1</p>
    </div>
</div> 
```

**JS**

```
var myApp = angular.module("myApp", []);

myApp.controller('MainController', function($scope) {
  $scope.box1 = $scope.box2 = $scope.box3 = true;
});

myApp.directive('slideToggle', function() {  
  return {
    restrict: 'A',      
    scope:{
      isOpen: "=slideToggle"
    },  
    link: function(scope, element, attr) {
      var slideDuration = parseInt(attr.slideToggleDuration, 10) || 200;      
      scope.$watch('isOpen', function(newVal,oldVal){
        if(newVal !== oldVal){ 
          element.stop().slideToggle(slideDuration);
        }
      });
    }
  };  
}); 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-08-26T10:49:13.220

*[@GFoley83](https://stackoverflow.com/users/654708/gfoley83)这对我很有帮助，谢谢！我是新手，所以不确定这是否是添加建议以提供帮助的正确方法，如果不是，抱歉。我也不是专家，所以我很高兴我的建议得到改进。*

我需要该项目开始隐藏，而 ng-init 似乎没有做任何事情。因此，我添加了第四个框，其属性设置为开始隐藏

使用提供的代码@GFoley83，我在 div 中添加了一个附加属性“开始显示”，该属性将被切换。

```
 <input type="button" value="Toggle Fourth" ng-click="box4=!box4">
 <div class="div1" data-slide-toggle="box4" data-start-shown="false">
    <p>This is 4 section and starts hidden</p>
 </div> 
```

该指令也已更新，现在对这个新属性进行了检查。如果它被传递为 false，我们将隐藏 - 否则它将像以前一样继续并从显示项目开始。

```
     返回 {
        限制：“A”，
        范围： {
            isOpen: "=slideToggle" // 属性
        },
        链接：功能（范围，元素，属性）{
            var slideDuration = parseInt(attr.slideToggleDuration, 10) || 200;
            if (attr.startShown=="false") {
                元素.hide();
            }
            scope.$watch('isOpen', function (newVal, oldVal) {
                if (newVal !== oldVal) {
                    element.stop().slideToggle(slideDuration);
                }
            });
        }
    };

```

Plunker 更新：[http ://plnkr.co/edit/WB7UXK?p=preview](http://plnkr.co/edit/WB7UXK?p=preview)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-10-10T15:37:15.917

在尝试了 Peter 的解决方案后，我可以看到 slideToggle 下面的指令无法访问父范围。这是我的解决方案。

```
evoapp.directive('slideToggle', function() {
    return {
        restrict: 'A',
        scope: false ,
        link: function(scope, element, attr) {
            var slideDuration = parseInt(attr.slideToggleDuration, 10) || 200;
            var toggle = attr.toggle ;

            scope.$watch(toggle, function(newVal,oldVal){
                if(newVal !== oldVal){
                    element.stop().slideToggle(slideDuration);
                }
            });
        }
    };
}); 
```

# javascript - 加载函数js

> ID：15444245
> 
> 赞同：2
> 
> 时间：2013-03-16T00:38:56.370
> 
> 标签：javascript

我有 onclick 功能

`if ($this->board['enablecaptcha'] == 1) { $madness='<div id="lok" onclick="capture_ld()"><a onclick="capture_ld();">Введите капчу</a> </div>';`

我需要类似的东西

`if ($this->board['enablecaptcha'] == 1) { $madness='<div id="lok" onload="capture_ld()"><a onload="capture_ld();">Введите капчу</a> </div>';`

但`<a onload=""`不起作用。请帮忙

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-16T00:44:21.423

您可以将 onload 用于 body 标签

```
<body onload="capture_ld();">
</body> 
```

或使用

```
 <script>
capture_ld();
</script> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-16T00:53:33.477

> 加载页面时，此 div 应加载验证码

你可以使用[**window.onload**](https://developer.mozilla.org/en-US/docs/DOM/window.onload)

```
window.onload = function(){
    capture_ld();
}; 
```

load 事件在文档加载过程结束时触发。至此，文档中的所有对象都在 DOM 中，所有图片和子帧都加载完毕。

# c++ - 对象具有阻止匹配的类型限定符（未找到函数重载）

> ID：15444251
> 
> 赞同：9
> 
> 时间：2013-03-16T00:39:52.173
> 
> 标签：c++, oop, operator-overloading

我有一个简单的类，旨在将整数转换为字节数组。

```
class mc_int {
    private: 
        int val;      //actual int
    public: 
        int value();  //Returns value
        int value(int);  //Changes and returns value
        mc_int();  //Default constructor
        mc_int(int);//Create from int
        void asBytes(char*); //generate byte array

        mc_int& operator=(int);
        mc_int& operator=(const mc_int&);

        bool endianity;  //true for little
}; 
```

为了转换和更简单的使用，我决定添加`operator=`方法。但我认为我的实现`mc_int& operator=(const mc_int&);`是不正确的。

```
mc_int& mc_int::operator=(const mc_int& other) {
            val = other.value();  
            //    |-------->Error: No instance of overloaded function matches the argument list and object (object has type quelifiers that prevent the match)
} 
```

这可能是什么？我尝试使用`other->value()`，但这也是错误的。

* * *

## 回答 #1

> 赞同：17
> 
> 时间：2013-03-16T00:42:15.667

您的成员函数`value()`不是`const`函数，这意味着它有权修改成员，并且不能在`const`对象上调用。由于我假设您的意思是只读的，因此将其更改为`int value() const;`. 然后您可以在 的`const`实例上调用它`mc_int`，它保证您不会意外更改任何成员。

当它说“对象有类型限定符等等等等”时，这意味着一个对象有太多`const`或`volatile`限定符来访问一个函数。

此外，由于您发布了错误*摘要*，我假设您使用的是 Visual Studio。Visual Studio 在“错误”窗口中显示错误摘要。转到查看->输出以查看其可怕细节的完整错误，它应该告诉您哪个变量是问题，并且由于它的原因它无法调用该函数`const`。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-03-16T00:42:20.793

尝试改变：

```
int value();  //Returns value 
```

到：

```
int value() const;  //Returns value 
```

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2013-03-16T00:42:47.927

在这个重载的`operator=`,`other`是一个`const`参考。您只能调用`const`在此对象上标记的成员函数。由于该`value()`函数只是返回`val`并且不修改对象，因此应将其标记为`const`：

```
int value() const; 
```

这表示此函数不会修改对象的状态，因此可以在`const`对象上调用。

# opencv - OpenCV 2.4.3 VideoCapture 不工作

> ID：15444254
> 
> 赞同：1
> 
> 时间：2013-03-16T00:40:08.457
> 
> 标签：opencv, video-capture

最近我`OpenCV 2.4.3`从`OpenCV 2.4.1`.

我的程序在`2.4.1`版本中运行良好，现在遇到了`2.4.3`.

问题与`VideoCapture`无法打开我的视频文件有关。

我在搜索互联网时看到了类似的问题，但我找不到合适的解决方案。这是我的示例代码：

```
VideoCapture video(argv[1]);
while(video.grab())
{
    video.retrieve(imgFrame);
    imshow("Video",ImgFrame);
    waitKey(1);
} 
```

值得一提的是，从网络摄像头设备捕获视频效果很好，但我想从文件中获取流。

我正在使用`QT Creator 5`并`OpenCV`使用`MinGW`. 我正在使用 Windows。

我尝试了几种不同的视频格式，并`OpenCV`在使用和不使用的情况下进行了重建`ffmpeg`，但问题仍然存在。

知道如何解决问题吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-18T10:54:24.370

尝试这个：

```
VideoCapture video(argv[1]);
int delay = 1000.0/video.get(CV_CAP_PROP_FPS);
while(1)
{
    if ( !video.read(ImgFrame)) break;
    imshow("Video",ImgFrame);
    waitKey(delay);
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-07-15T16:34:22.980

在我使用 OpenCV 的经验中，我一直在努力使用 IP 摄像头，直到我的导师发现如何让它们工作，不要忘记插入你的 IP 地址，否则它将无法工作！

```
import cv2
import numpy as np
import urllib.request

# Sets up the webcam and connects to it and initalizes a variable we use for it
stream=urllib.request.urlopen('http://xx.x.x.xx/mjpg/video.mjpg')
bytes=b''

while True:
    # Takes frames from the camera that we can use
    bytes+=stream.read(16384)
    a = bytes.find(b'\xff\xd8')
    b = bytes.find(b'\xff\xd9')
    if a!=-1 and b!=-1:
        jpg = bytes[a:b+2]
        bytes= bytes[b+2:]
        frame = cv2.imdecode(np.fromstring(jpg, dtype=np.uint8),cv2.IMREAD_COLOR)
        img = frame[0:400, 0:640] # Camera dimensions [0:WIDTH, 0:HEIGHT]

       # Displays the final product
        cv2.imshow('frame',frame)
        cv2.imshow('img',img)

     # Hit esc to kill
        if cv2.waitKey(1) ==27:
            exit(0) 
```

# android - 如何在编辑 XML 文件时运行我的项目？

> ID：15444256
> 
> 赞同：3
> 
> 时间：2013-03-16T00:40:21.750
> 
> 标签：android, eclipse

当我编辑一个 XML 文件并尝试运行我的 Android 项目时（通过单击工具栏中的“播放”按钮或 command-shift-F11），没有任何反应。为了运行项目，我必须切换到我也在编辑的 java 文件。

我怎样才能解决这个问题？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-16T00:42:55.787

您无法运行 xml 文件。解决这个问题的方法是（假设您使用的是 Eclipse）

> 窗口 --> 首选项 --> 运行/调试 --> 启动 -->

然后选择“始终启动以前启动的应用程序”（朝向底部）

这可能会创建一个 xml.out 文件。如果确实如此，您需要删除该文件，否则您将收到错误

# python - 如何在 tkinter python 中更改最后点击按钮的文本

> ID：15444258
> 
> 赞同：0
> 
> 时间：2013-03-16T00:40:44.027
> 
> 标签：python, button, text, tkinter

我通过循环列表动态创建了一个按钮：

```
AuxName = Button(GUI_1, text=List_Aux[x], font=("Arial", 10))
tk_rgb = "#%02x%02x%02x" % (0,0,0)
AuxName["fg"] = tk_rgb
tk_rgb = "#%02x%02x%02x" % (255,255,255)
AuxName["bg"] = tk_rgb
AuxName.place(x=BUTTON_LEFT_AUX1, y=BUTTON_TOP_AUX1 , height=BUTTON_HEIGTH_AUX1, width=BUTTON_WIDTH_AUX1)
AuxName["command"] = ButtonClick 
```

每个按钮都有一个不同的 AuxName 值（1btn1、1btn2、1btn3 等）数字是每个按钮所在的列和行。

我遇到的问题是，现在我希望该函数`ButtonClick`获取被单击的按钮的名称。我尝试的最后一件事是：

```
def ButtonClick():
1btn1["text"] = "Goodbye" 
```

但是 python 会抛出一个语法错误（并且指向左括号之前）。

如何获取最后点击的按钮名称，然后通过函数更改其文本`ButtonClick()`？

-------------------- 编辑第一个答案，现在几乎可以正常工作------------

感谢您的回答，我非常感谢，并使其工作几乎完美。有两个缺陷，首先是它会抛出一个错误，因为发送的命令 ButtonClick 没有参数，这是发送按钮绑定命令的默认方式，所以我真的不知道如何解决这个问题......第二个是，在使用您提供给我的代码后，按钮文本将按照您的指定更改，但它们不会尊重我之前定义的位置和大小。

```
BUTTON_TOP_AUX1 = 20
BUTTON_WIDTH_AUX1 = 400
BUTTON_LEFT_AUX1 = 5
BUTTON_HEIGTH_AUX1 = 20
Buttons_Function = "DesiredFunctionOne"
BUTTON_COLUMN_AUX1 = 1
List_Size_Aux = len(List_Aux)
for x in range ( List_Size_Aux ):
    AuxName = str(BUTTON_COLUMN_AUX1)+'btn'+str(x)
    AuxName = Button(GUI_1, text=List_Aux[x], font=("Arial", 10))
    tk_rgb = "#%02x%02x%02x" % (0,0,0)
    AuxName["fg"] = tk_rgb
    tk_rgb = "#%02x%02x%02x" % (255,255,255)
    AuxName["bg"] = tk_rgb
    AuxName.place(x=BUTTON_LEFT_AUX1, y=BUTTON_TOP_AUX1 , height=BUTTON_HEIGTH_AUX1, width=BUTTON_WIDTH_AUX1)
    AuxName["command"] = ButtonClick
    BUTTON_TOP_AUX1 = BUTTON_HEIGTH_AUX1+BUTTON_TOP_AUX1
    AuxName.bind("<Button-1>", ButtonClick)
    AuxName.pack() 
```

你能告诉我如何解决这些问题吗？非常感激 ：）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-16T01:50:13.883

首先，您必须将函数绑定到事件，而不是使用`command`属性。要左键单击小部件，请删除该行

并改用该事件`<Button-1>`：

```
AuxName.bind("<Button-1>", ButtonClick) 
```

然后在事件处理程序中，您会收到一个事件参数。它有一个`widget`字段，因此您可以获得触发事件的小部件：

```
def ButtonClick(event):
    event.widget['text'] = 'Goodbye' 
```

请记住，您必须删除`AuxName['command'] = ButtonClick`，因为如果您不这样做，`ButtonClick`将执行两次（其中一次没有任何参数）。

当您更改按钮的文本时，它也会修改其宽度，因为新文本可能有不同的长度。关于小部件位置的一个问题是您同时使用`place`和`pack`作为几何管理器：

```
AuxName.place(...)
# ...
AuxName.pack() 
```

在 Tkinter 中，您应该始终使用一个几何管理器。在这种情况下，我建议您使用最容易使用的[网格几何管理器：](http://effbot.org/tkinterbook/grid.htm)

```
AuxName.grid(row=x, column=y, ...) 
```

# .htaccess - 使用多个域从主域加载内容

> ID：15444259
> 
> 赞同：0
> 
> 时间：2013-03-16T00:40:50.427
> 
> 标签：.htaccess, dns

我有 2 个域：domain1.com 和 domain2.com 我的主域是**domain1.com**，我想加载 domain2.com 与 domain1.com 相同的所有页面

例如，这是来自主域的新闻：

```
http://domain1.com/index.php?newsid=23 
```

我如何通过此链接显示该新闻：

```
http://domain2.com/index.php?newsid=23 
```

我不想使用重定向或类似的东西。htaccess 有什么技巧吗？我希望你们能理解我的问题。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-16T00:44:52.127

您应该在 domain1.com 虚拟主机配置文件中添加 domain2.com 别名。

# java - Java 是否允许在其定义中使用当前类的实例？

> ID：15444260
> 
> 赞同：1
> 
> 时间：2013-03-16T00:40:52.553
> 
> 标签：java, instance

Java 是否允许在其定义中使用当前类的实例？

例子：

```
public class Component
{
    Component()
    {
       // some code 
    }

    public void method()
    {
        Component comp=new Component();
        // some code
    }
 } 
```

我知道它不会导致编译时错误。我发现自我参考有点令人困惑。这是否意味着Java的语义允许类的循环定义？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-16T00:58:15.383

我想你想过这样的事情......运行这个会导致

> 线程“主”java.lang.StackOverflowError 中的异常

```
public class AClass {

    private AClass aClass;

    public AClass() {
        this.aClass = new AClass();
        this.aClass.printHello();
    }

    private void printHello() {
        System.out.println("Hello");
    }

    public static void main(final String[] args) {
        new AClass();
    }
} 
```

我不需要这样的递归代码。但我认为可能会有一些用例。有一个中止标准以防止无限循环和 StackOverflowError 很重要。

要回答您的问题，我会说 Java 允许循环实例化。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-16T00:45:21.983

在定义类上使用/创建相同类型的实例是完全合法的，没有添加循环定义。

编译器通常首先检查一个类上的所有方法，一旦编译器知道所有类上可用的所有方法，实际的方法实现代码生成将在稍后完成。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-16T01:22:45.050

这不是一个循环定义。

循环定义是两个或多个类以循环方式相互引用。但即使这样也会编译，但可能会导致执行问题。

这是一个“提前使用”的定义，这就是我所说的。

您定义一个类，并在其方法中使用对同一类的引用。

这有点矛盾——在你使用一个类之前，你应该完全定义它。类的方法是其定义的一部分。在方法中，您引用一个类实例，就好像该类已经定义了一样。

我同意这令人困惑，但 Java 让你这样做。

想想单身人士。

通常有一个返回类实例的静态方法。同样的问题。

# html - 显示来自 html5 音频流的当前歌曲信息（在 Meteor 应用中）

> ID：15444262
> 
> 赞同：4
> 
> 时间：2013-03-16T00:41:19.730
> 
> 标签：html, audio, meteor, radio

我正在 Meteorjs 中开发 HTML5 广播播放器。请参阅[http://radio.meteor.com/](http://radio.meteor.com/)或[http://github.com/guaka/radio-meteor](http://github.com/guaka/radio-meteor)

我想显示当前正在播放的歌曲。我怎样才能做到这一点？

我不确定求助于服务器端是否是一个好主意，因为服务器必须为越来越多的流获取元数据（我希望允许人们添加更多频道）。

浏览器兼容性不是什么大问题，只要它可以在 Phonegap 中运行。我不关心所有浏览器（即 IE），只要我可以让它优雅地失败。

我认为[使用 PHP 从音频流中提取轨道信息](https://stackoverflow.com/questions/4911062/pulling-track-info-from-an-audio-stream-using-php/4914538#4914538)可能是一个比 Meteor（服务器端）工作的答案。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-16T07:24:52.753

通过客户端的文件阅读器应该可以，浏览器兼容性会有点麻烦。

看看： [http ://ericbidelman.tumblr.com/post/8343485440/reading-mp3-id3-tags-in-javascript](http://ericbidelman.tumblr.com/post/8343485440/reading-mp3-id3-tags-in-javascript)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2017-04-13T10:17:25.000

现在可能不实际，但可以帮助其他人。我使用[这个](https://www.npmjs.com/package/node-internet-radio)包来获取有关流式音频的元数据

# javascript - 与徽标相邻的链接

> ID：15444266
> 
> 赞同：0
> 
> 时间：2013-03-16T00:41:45.400
> 
> 标签：javascript, jquery, html, css

如何使链接与图像徽标相邻....我试图使其在同一行中....我给了浮动但它不工作....在下面提供我的代码

[http://jsfiddle.net/hYGwH/14/embedded/result/](http://jsfiddle.net/hYGwH/14/embedded/result/)

```
<li>
                            <a href="/product.html" >
                                <img alt="squareList" style="margin-right: 10px;" id="logo"   src="http://intra.defie.co/images/cube_inventory.png">
                                My Files
                            </a>
                        </li>
                        <li>
                            <a href="/solution.html">
                                <img alt="squareList" style="margin-right: 10px;" id="logo"   src="http://intra.defie.co/images/cube_inventory.png">Shared Files</a>
                            </li>
                        <li>
                            <a href="/service.html"> 
                            <img alt="squareList" style="margin-right: 10px;" id="logo"   src="http://intra.defie.co/images/cube_inventory.png">Create Files</a></li>
                        <li class="iphonePartnerLink">
                            <a href="/partner.html">
                            <img alt="squareList" style="margin-right: 10px;" id="logo"   src="http://intra.defie.co/images/cube_inventory.png">Simply Notes</a></li>
                        <li>
                            <a href="/contact.html"> 
                            <img alt="squareList" style="margin-right: 10px;" id="logo"   src="http://intra.defie.co/images/cube_inventory.png">Forms</a></li>
                        <li>
                            <a href="/contact.html"> 
                            <img alt="squareList" style="margin-right: 10px;" id="logo"   src="http://intra.defie.co/images/cube_inventory.png">Drawing</a></li>
                        <li>
                            <a href="/contact.html"> 
                            <img alt="squareList" style="margin-right: 10px;" id="logo"   src="http://intra.defie.co/images/cube_inventory.png">
                                Presentation</a></li> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-16T00:53:05.537

除非有足够的水平空间，否则 ul 不会漂浮在徽标旁边。因此，如果您将窗口设置得太小，它无论如何都会出现在徽标下方。减小导航中 a-tag 的字体大小将使其适合较小的屏幕。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-16T00:50:25.720

尝试将图像放在锚点之前并将图像向左浮动。您还需要清除下一个 li 上的浮点数，或者在 li 上使用诸如 overflow:hidden 之类的 clearfix。当然，还要清理多个 id 问题。

# c# - 如何开始使用 C# 编写 iPad、iTouch 和 android 应用程序？

> ID：15444268
> 
> 赞同：4
> 
> 时间：2013-03-16T00:42:04.153
> 
> 标签：c#, android, ios, ipad, ide

好的，朋友们，我是一名 C# WPF .net 开发人员，在过去的 15 年里，我几乎一直致力于使用一种或另一种语言进行 UI 开发。最后 7 个是 C#，我不得不承认我被宠坏了。

所以，问题是：我如何开始，最好使用哪些工具？我看到 MonoTouch 在那里，但它看起来现在被称为 Xamarin。PhoneGap、Titanium、Appcelorator 呢？还有其他我没听说过的吗？

我只是想打入 Android 开发和/或 iPad/iTouch 开发，但不想原生。我想利用我的 C# 技能，最好是 WPF，但我不知道哪些工具支持 Android/iPad/iTouch 开发。

哪些与 Visual Studio 集成？

任何对上述任何一项有真正经验的人，或者我没有听说过的人，请插话并指出我正确的方向。

对此，我真的非常感激。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-16T00:52:16.873

Phonegap 的工作原理是让 Web 视图加载 html 和 javascript 应用程序，因此，您不会使用 C#，结果通常与原生应用程序相差甚远。

相比之下，mono touch 编译您的 C# 代码，因此它可以在您的移动平台上本地运行，并且由于它们实现了本地库的包装器，因此您应该能够编写与本地化一样好的应用程序。在你的情况下，我认为这几乎是最好的方法。

顺便说一句，Mono Touch 并没有消除使用 mac 来开发 iOS 应用程序的要求。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-16T01:03:39.523

最好的技术之一是适用于 Android/iOS 框架的 Mono——特别是因为您只需为 3 个平台编写代码即可。当然 UI 是独立的，所以你仍然需要学习每个平台的设计模式等......但是在这里

[http://xamarin.com/?gclid=CM_agZWFgLYCFUvHtAodeDYADw](http://xamarin.com/?gclid=CM_agZWFgLYCFUvHtAodeDYADw)

最好的起点

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-16T01:03:47.637

如果您来自 WPF 并且熟悉 MVVM 模式，您会发现许多共享相同方法的 js 框架（[KnockoutJs](http://knockoutjs.com/)是一个不错的方法），基本上这就是您想要使用交叉的方法像 PhoneGap 这样的平台解决方案只不过是 webapp 的包装器，以及一些用于访问您的设备的 api。

就我个人而言，只有当您想在一个简单的应用程序中访问设备的功能时，我才发现 PhoneGap 是一个很好的解决方案。一旦你开始向它添加页面，缺乏响应能力的感觉会让你想知道为什么你没有从一开始就变成原生的。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-03-16T01:58:46.013

我会选择 Xamarin。Xamarin 2.0 具有 Visual Studio 集成。您可以在 Visual Studio 2012 上为 iOS 或 Android 编写代码（我是 ReSharper 的粉丝 :)）。

# c# - 获取 Task 并将其传递的方法是否应该等待它？

> ID：15444271
> 
> 赞同：10
> 
> 时间：2013-03-16T00:42:23.527
> 
> 标签：c#, async-await, c#-5.0

我有以下两种方法

```
public async Task<bool> DoSomething(CancellationToken.token) 
{
    //do something async
}

//overload with None token 
public /*async*/ Task<bool> DoSomething()
{
    return /*await*/ DoSomething(CancellationToken.None);
} 
```

第二种方法是否应该用 async/await 关键字标记？

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2013-03-16T01:01:00.277

它不需要 - 如果您在第二种方法中使用 await/async，那么在这种情况下，您将添加额外的开销，而这无济于事。

内部的异步工作`DoSomething(CancellationToken)`已经为您提供了适当的异步处理和封送回现有上下文。

归根结底，`async`实际上`await`只是语言功能，可以轻松创建和编写`Task`. 如果您已经有一个完美`Task`的返回，则无需使用额外的语言支持将其解包并重新包装成一个新的`Task`.

* * *

## 回答 #2

> 赞同：12
> 
> 时间：2013-03-16T15:35:24.673

为了补充 Reed 的好答案，请这样想：

```
Func<int, int> GetFunc()
{
    Func<int, int> f = GetFunc(someParameter); 
```

你应该说

```
 return f; 
```

或原因“我应该在这里返回一个 func，所以让我们制作一个调用我手头的 func 的 lambda”：

```
 return (int i) => f(i); 
```

我希望你会做前者；你已经有一个`Func<int, int>`在手，所以把它归还。不要创建一个调用函数的函数。

如果你有

```
IEnumerable<int> GetSequence()
{
    IEnumerable<int> sequence = GetSequence(someParameter); 
```

你可以说

```
 return sequence; 
```

或者

```
 foreach(int item in sequence) yield return item; 
```

? 再次，我希望你会做前者。你手头有一个序列，那么为什么要费心制作一个枚举旧序列的新序列呢？

任务也是如此；就像您可以创建一个包装另一个委托的委托和一个包装另一个序列的序列一样，您可以创建一个包装另一个任务的任务，但是为什么要这样做呢？这只是浪费资源。

# javascript - 如何在 xChart 中更改 Y 轴的方向

> ID：15444272
> 
> 赞同：0
> 
> 时间：2013-03-16T00:42:33.650
> 
> 标签：javascript, jquery, charts, d3.js

有谁知道如何更改 xChart 中 Y 轴的顺序/方向？我玩过 var opts：

```
 var opts = {
  "dataFormatX": function (x) { return d3.time.format('%Y-%m-%d').parse(x); },
  "tickFormatX": function (x) { return d3.time.format('%B')(x); },

  "dataFormatY": function (y) { return y; },
  "tickFormatY": function (y) { return d3.svg.axis().scale(yScale).orient("right"); } 
```

但是，我尝试过的任何方法都没有奏效，而且似乎很少有文档。必须有一个选项可以在某处选择“ASC”或“DESC”？（0 - 10 或 10 - 0）。

提前致谢

# android - Android硬件返回键不起作用

> ID：15444273
> 
> 赞同：2
> 
> 时间：2013-03-16T00:42:39.140
> 
> 标签：android, android-layout, android-intent

我有一个带有 WebView 的 android 应用程序，但是当我按下硬件后退按钮时，什么也没有发生。我希望将用户带回到 Webview 上加载的上一个页面。我在这段代码中缺少什么：

```
package kenya.cancerbank;

import tscolari.mobile_sample.R;
import android.app.Activity;
import android.os.Bundle;
import android.view.View;
import android.webkit.WebSettings;
import android.webkit.WebView;
import android.webkit.WebViewClient;

public class CancerBank extends Activity {
    /** Called when the activity is first created. */
    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.main);

        WebView mainWebView = (WebView) findViewById(R.id.mainWebView);

        WebSettings webSettings = mainWebView.getSettings();
        webSettings.setJavaScriptEnabled(true);

        mainWebView.setWebViewClient(new MyCustomWebViewClient());
        mainWebView.setScrollBarStyle(View.SCROLLBARS_INSIDE_OVERLAY);

        mainWebView.loadUrl("http://kenyacancerbank.org/android");
    }
    @Override
    public void onBackPressed() {
    return;
    }

    private class MyCustomWebViewClient extends WebViewClient {
        @Override
        public boolean shouldOverrideUrlLoading(WebView view, String url) {
            view.loadUrl(url);
            return true;
        }
    }
} 
```

当他们按下硬件返回键时，我需要在此代码中添加什么以返回他们访问过的上一页。

```
}
    @Override
    public void onBackPressed() {
    return;
    } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-16T00:49:14.507

您将需要手动`WebView`返回一个页面。简单地`return`ing 只会给你一个无用的方法，因为它除了返回之外什么都不做。而且由于您覆盖了超类方法，因此您会看到一个“非工作按钮”

创建`WebView mainWebView`一个实例变量：

```
public class CancerBank extends Activity {
   WebView mainWebView;
   //rest of code 
```

然后在 onCreate() 中找到为其分配正确的参考：

```
 @Override
 public void onCreate(Bundle savedInstanceState) {
      super.onCreate(savedInstanceState);
      setContentView(R.layout.main);

      mainWebView = (WebView) findViewById(R.id.mainWebView);
      //rest of code 
```

然后覆盖`onBackPressed()`并检查是否`WebView`可以返回。如果可以，请通过以下方式返回[`goBack()`](https://stackoverflow.com/a/8983055)：

```
@Override
public void onBackPressed() {
  if (mainWebView.isFocused() && mainWebView.canGoBack()) {
            mainWebView.goBack();       
    }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-16T09:09:04.970

您可以使用该方法检测硬件后退键按下并执行您喜欢的任何步骤以退出或后退一步`onKeyDown(int keyCode, KeyEvent event)
if( keyCode == KeyEvent.KEYCODE_BACK)`

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-16T00:50:29.837

您根本不必**重写 onBackPressed()**，只需让操作系统为您处理即可。如果你把**super.onBackPressed()** ; 在您的**onBackPressed()**方法中。你会得到正确的行为。但同样，您不必做任何事情。

# sql - Filemaker Pro 12：使用 ExecuteSQL 脚本插入新记录

> ID：15444274
> 
> 赞同：1
> 
> 时间：2013-03-16T00:42:41.273
> 
> 标签：sql, filemaker

我试图弄清楚如何从表 A 中选择信息，然后使用 ExecuteSQL 脚本将该信息插入到表 B 中。我看到它是如何手动工作的，但我似乎无法完成可以使用搜索结果然后将新记录输入另一个表的步骤。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-04T13:51:05.603

I have found success using SQL insert and FileMaker using a third-party plugin from Dracoventions called SQL Runner. You can find it here: [http://www.dracoventions.com/products/2empowerFM/family/sql.php](http://www.dracoventions.com/products/2empowerFM/family/sql.php)

If you need a code snippet then I can provide that as well. jared

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-16T07:35:06.073

执行 SQL 并不意味着以这种方式使用。您使用 Execute SQL 与 ODBC 数据源一起插入、删除或更新数据；要选择数据并导入 FileMaker，请使用具有相同 ODBC 源的导入步骤。

FileMaker 12 有一个新的 SQL*函数*，可以用于 FileMaker 自己的表，但它只能用于选择数据，不能修改它们。还有一些插件可让您将 SQL 与 FileMaker 表一起使用。

在 FileMaker 中，您通常不使用 SQL，而是编写脚本。FileMaker 脚本与宏非常相似，其工作方式与用户的工作方式相同。在您的情况下，脚本将转到一个布局，选择记录（执行查找），转到另一个布局，然后从与第一个布局关联的表中导入记录。

# c# - 如果必填字段验证失败，扩展 Ajax 手风琴窗格？

> ID：15444280
> 
> 赞同：0
> 
> 时间：2013-03-16T00:43:05.960
> 
> 标签：c#, asp.net, .net, ajax, ajaxcontroltoolkit

我在第 2 和第 3 ajax 手风琴面板中有一个必填字段。我的必填字段验证器上有 setfocus=true，相应的面板不会自动打开。

有没有办法让它打开面板，下一个必填字段在哪里？

```
 <asp:UpdatePanel ID="UpdatePanel1" runat="server">
        <ContentTemplate>
    <asp:Accordion   
        ID="Accordion1" 
        runat="server">  

    <Panes >
    <asp:AccordionPane runat="server" >
    <Header>General Information </Header>
    <content>
    <asp:textbox id="textbox1" runat="server"/>
    </content>
    </asp:AccordionPane>
    <asp:AccordionPane runat="server" >
    <Header>Other Information </Header>
    <content>
    <asp:textbox id="textbox2" runat="server"/>
    <asp:RequiredFieldValidator ID="RequiredFieldValidator1" SetFocusOnError="true"  runat="server"
             ErrorMessage="error on textbox 2"  ControlToValidate="textbox2" ForeColor= "Red" ValidationGroup="main">*</asp:RequiredFieldValidator>
    </content>
    </asp:AccordionPane>
<asp:AccordionPane runat="server" >
    <Header>More Information </Header>
    <content>
    <asp:textbox id="textbox3" runat="server"/>
    <asp:RequiredFieldValidator ID="RequiredFieldValidator1" SetFocusOnError="true"  runat="server"
             ErrorMessage="error on textbox 3"  ControlToValidate="textbox3" ForeColor= "Red" ValidationGroup="main">*</asp:RequiredFieldValidator>
    </content>
    </asp:AccordionPane>
    </asp:accordion>
    //the rest of the code here
    //i typed this up, so please forgive if not everything is case sensitive 
```

在这种情况下，如果我在第一个窗格中，然后单击“验证”按钮，则必填字段位于第二个和第三个窗格中。验证确实失败了，就像它应该的那样，但是用户没有被带到 textbox2 或 textox3 （它们是空的）。我如何对其进行编码，以便在验证失败时将焦点自动设置到下一个失败的文本框？如果我在单击“验证”按钮时已经打开了窗格 2，它确实有效，在这种情况下，焦点设置为 textbox2。但话又说回来，如果我在 textbox2 中放一些东西并再次验证，textbox3 会失败，但没有设置焦点。

希望这是有道理的。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-16T03:00:51.610

一次打开两个手风琴面板并不困难。基本上，该控件不是那样设计的。您可以改用可折叠面板。但是这篇文章指定了一种方法来做到这一点

[http://www.c-sharpcorner.com/uploadfile/Zhenia/keeping-multiple-panes-open-in-accordion-web-control/](http://www.c-sharpcorner.com/uploadfile/Zhenia/keeping-multiple-panes-open-in-accordion-web-control/)

这里还有使用 JavaScript 打开手风琴面板的链接。

[http://forums.asp.net/t/1194270.aspx](http://forums.asp.net/t/1194270.aspx)

[jQuery Accordion - 打开页面加载的特定部分](https://stackoverflow.com/questions/2199716/jquery-accordion-open-specific-section-on-pageload)

希望这可以帮助

# extjs - 在 DJANGO 中启动我的 EXT JS 应用程序时出现 404 错误

> ID：15444281
> 
> 赞同：0
> 
> 时间：2013-03-16T00:43:14.623
> 
> 标签：extjs, extjs4.1, portal, django-1.5

我想在我的应用程序中集成 EXT JS 的 Portal 示例，所以我从

`http://try.sencha.com/extjs/4.1.0/community/extjs4-mvc-portal/`

当我在Java中尝试它时..它运行得很好..但是当我在Django中运行它时，我的应用程序是建立在..它向我显示这个错误：

```
"GET /designLayout/app/view/Viewport.js?_dc=1363392859943 HTTP/1.1" 404 3384 
```

所有其他`GET`请求都运行良好，例如：

```
 "GET /static/extjs/src/layout/container/Form.js?_dc=1363392859942 HTTP/1.1" 200 4252 
```

`autoCreateViewport: true`根据我下载的示例，我不知道为什么它在 app.js 中定义时寻找 Viewport.js?_dc=1363392859943 。

我应该如何在 django 中配置“应用程序”？现在我所有的文件都在`static`文件夹中，以便 Django 将其拾取。

请指导我。谢谢你。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-17T10:28:41.207

即使您定义了 autoCreateViewport，您仍然需要配置 Viewport.js - 这只是自动连接视口的 Ext.create()，因此您不必在启动时对其进行编码。

只需确保您的服务器端 url 与您的 django 环境相同或调整即可。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2014-05-09T08:57:41.037

你需要添加

```
appFolder: 'static/app', 
```

像 app.js

```
Ext.application({
name: 'ExtMVC',
appFolder: 'static/app', 
```

那么你的要求将是

```
GET /static/app/view/Viewport.js?_dc=1399625376954 HTTP/1.1" 200 1248 
```

我成功运行了这个例子！

# templates - jsf模板没有在我的页面中伸展

> ID：15444290
> 
> 赞同：0
> 
> 时间：2013-03-16T00:45:02.743
> 
> 标签：templates, jsf, oracle-adf

我有一个非常简单的页面模板定义“af:pageTemplateDef”（TemplateAdmin4.jsf）。如您所见，模板根包含一个**panelStretchLayout**，它应该使模板拉伸到其父级（垂直和水平）。

```
<?xml version='1.0' encoding='UTF-8'?>
<af:pageTemplateDef xmlns:af="http://xmlns.oracle.com/adf/faces/rich" var="attrs" definition="private"
                xmlns:afc="http://xmlns.oracle.com/adf/faces/rich/component" xmlns:f="http://java.sun.com/jsf/core">
<af:xmlContent>
    <afc:component>
        <afc:display-name>TemplateAdmin4</afc:display-name>
    </afc:component>
</af:xmlContent>
<af:panelStretchLayout id="pt_psl1">
    <f:facet name="center">
        <af:panelAccordion id="pa1">
            <af:showDetailItem text="    Getting started DATASOURCES" id="sdi1">
                <af:outputText value="Here are a few things that can get you started." id="ot3"/>
            </af:showDetailItem>
        </af:panelAccordion>
    </f:facet>
</af:panelStretchLayout>
</af:pageTemplateDef> 
```

而且我有.jsf页面**（ErrorPage.jsf）**，我将模板放在上面，你可以看到**< af:pageTemplate viewId="/TemplateAdmin4.jsf" id="pt2"/>这一行**

```
<?xml version='1.0' encoding='UTF-8'?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<f:view xmlns:f="http://java.sun.com/jsf/core" xmlns:af="http://xmlns.oracle.com/adf/faces/rich">
<af:document title="ErrorPage.jsf" id="d1">
    <af:form id="f1">
        <af:panelStretchLayout id="psl1">
            <f:facet name="center">
                <af:panelSplitter id="ps1">
                    <f:facet name="first">
                        <af:navigationPane id="np1">
                            <af:commandNavigationItem text="commandNavigationItem 1" id="cni1"/>
                        </af:navigationPane>
                    </f:facet>
                    <f:facet name="second">
                        <af:pageTemplate viewId="/TemplateAdmin4.jsf" id="pt2"/>
                    </f:facet>
                </af:panelSplitter>
            </f:facet>
        </af:panelStretchLayout>
    </af:form>
</af:document>
</f:view> 
```

最后，我放置的模板没有拉伸到页面中。为什么会这样？如您所见，我也在 E​​rrorPage.jsf 页面中放置**了**一个**panelStrechLayout**。和其中的一个**pannelSplitter**（它的**DimensionsForm**也设置**为父**级）。

 ******* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-19T17:24:55.053

我注意到如果我使用嵌套模板，我就没有这个问题。我的意思是如果在其他模板定义（pageTemplateDef）中使用模板。所以这就是我为解决我的问题所做的

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-16T11:27:39.330

在 af:panelStretchLayout 的样式类中使用 AFStretchWidth

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-12-11T06:43:06.103

我遇到了同样的问题，并通过将 styleClass="AFVisualRoot" 添加到模板中的根 af:panelStretchLayout 组件来修复它。******

# python - 使用 Python 优化数组之间的布尔比较

> ID：15444291
> 
> 赞同：3
> 
> 时间：2013-03-16T00:45:19.623
> 
> 标签：python, optimization, numpy, boolean-logic, slice

我有一些我正在尝试优化的 Python 代码。它处理两个相同大小的二维数组（它们的大小可以是任意的）。第一个数组包含任意布尔值，第二个数组包含 0 到 1 之间的半随机数。

我要做的是根据修饰符数组中的值更改二进制值。这是一个运行良好的代码片段，它封装了我在两个 for 循环中尝试执行的操作：

```
import numpy as np
xdim = 3
ydim = 4
binaries = np.greater(np.random.rand(xdim,ydim), 0.5)
modifier = np.random.rand(xdim,ydim)

for i in range(binaries.shape[0]):
    for j in range(binaries.shape[1]):
        if np.greater(modifier[i,j], 0.2):
            binaries[i,j] = False 
```

我的问题：有没有更好（或更合适）的方法来做到这一点？我宁愿使用切片之类的东西而不是嵌套的 for 循环，但是比较和布尔逻辑让我认为这可能是最好的方法。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-03-16T00:48:25.980

```
binaries &= ~(modifier > 0.2) 
```

`modifiler > 0.2`创建一个二进制数组，`~`运算符不做 boolean ，并且`&=`做 boolean `and`。

**NOTE** `~` `&=`是位运算符，但您可以将它们用作布尔运算符。

# c++ - 使用矢量的 Unordered_map

> ID：15444294
> 
> 赞同：0
> 
> 时间：2013-03-16T00:45:30.590
> 
> 标签：c++, unordered-map

我有一个 unordered_map：

```
std::tr1::unordered_map<unsigned int, vector<unsigned int> > duplicates; 
```

阿纳德我想插入：

```
duplicates.insert(make_pair(1, 2));
duplicates.insert(make_pair(1, 5));
duplicates.insert(make_pair(1, 6)); 
```

进入向量，因为它们共享相同的密钥。我使用 for 循环插入对。如果没有项目共享相同的键，我如何初始化向量，这是我第一次在不搜索整个 unordered_map 的情况下找到该键？

我不想先使用 find （如果存在则获取向量）然后插入。那可能吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-16T00:47:53.393

抱歉，如果我误解了您的问题，但也许您可能会发现类似的用途[`unordered_multimap`](http://www.cplusplus.com/reference/unordered_map/unordered_multimap/)？

> 无序多映射是存储由键值和映射值组合形成的元素的关联容器，与容器非常相似`unordered_map`，但**允许不同的元素具有等效的键**。

# javascript - xmlhttp.responseText 不输出到 innerHTML

> ID：15444299
> 
> 赞同：0
> 
> 时间：2013-03-16T00:46:19.073
> 
> 标签：javascript, ajax, dom, innerhtml

我正在尝试熟悉 Ajax，因为我需要在工作中不断使用它。我正在通过 W3Schools 教程尝试使用我的 Apache2 服务器。我在服务器上有一个名为 ajax_info.txt 的文件（在 /var/www (ubuntu) 下）。我正在调用它，并且使用 Firebug 我看到我得到了很好的响应（4 和 200），但它没有将文件的内容输出到 DOM。这是代码：

```
<!DOCTYPE html>
<html>
    <head>
        <script>
        var xmlhttp;
        var url = "http://192.168.0.5/ajax_info.txt";

        function loadXMLDoc(url, cfunc) {
            if (window.XMLHttpRequest) { // code for IE7+, Firefox, Chrome, Opera, Safari
                xmlhttp = new XMLHttpRequest();
            } else { // code for IE6, IE5
                xmlhttp = new ActiveXObject("Microsoft.XMLHTTP");
            }
            xmlhttp.onreadystatechange = cfunc;
            xmlhttp.open("GET", url, true);
            xmlhttp.send();
        }
        function myFunction() {
            loadXMLDoc(url, function () {
                if (xmlhttp.readyState == 4 && xmlhttp.status == 200) {
                    document.getElementById("myDiv").innerHTML = xmlhttp.responseText;
                }
            });
        }
        </script>
    </head>
    <body>
        <div id="myDiv">
            <h2>Let AJAX change this text</h2>
        </div>
        <button type="button" onclick="myFunction()">Change Content</button>
    </body>
</html> 
```

我不确定我做错了什么。w3schools 教程并非详尽无遗。我打算买一本书，但我很想学习这些简单的 GET 调用，因为它会让我朝着正确的方向前进。任何建议将不胜感激。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-10-15T12:07:11.680

```
function ajax(x) {

            var a;

            if (window.XMLHttpRequest) {
                a = new XMLHttpRequest();
            } else if (window.ActiveXObject) {
                a = new ActiveXObject("Microsoft.XMLHTTP");
            } else {
                alert("Browser Dosent Support Ajax! ^_^");
            }

            if (a !== null) {
                a.onreadystatechange = function() {
                    if (a.readyState < 4) {
                        //document.getElementById('cnt').innerHTML = "Progress";
                    } else if (a.readyState === 4) {
                        //respoce recived
                        var res = a.responseText;

                        document.getElementById('center_scrolling_div').innerHTML = res;
                        eval(document.getElementById('center_scrolling_div').innerHTML);
                    }
                };

                a.open("GET", x, true);
                a.setRequestHeader("Content-Type", "application/x-www-form-urlencoded");
                a.send();

            }

        } 
```

# css - 在 C++ 中链接 css 文件

> ID：15444301
> 
> 赞同：-5
> 
> 时间：2013-03-16T00:47:00.657
> 
> 标签：css

我有一个`style.css` 包含以下代码的css文件

```
.myClass
{
   color:red;
} 
```

我想使用这个 css 文件来更改浏览器中文本的颜色，我的程序代码在浏览器中写入文本

StringStream pageContent(sz, max_bytes); pageContent.Write("Hello World!");//在浏览器中写入hello world

当我做

```
pageContent.Write("<div style =\"color:red\"> hello world! <\div>"); 
```

文本变红但是当我尝试使用以下代码使用 css 文件时它不起作用

```
pageContent.Write("<link href=\"style.css\" rel=\"stylesheet\" type =\"text/css\">");       

pageContent.Write(" <div id= \"myClass\"> Hello world! <\div>" ); 
```

知道我做错了什么或者我应该把我的文件放在哪里以及我应该如何给出让它工作的路径？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-16T00:51:07.520

```
HTML: <div class="myClass">...</div>
CSS:  .myClass { color: red; } 
```

或者

```
HTML: <div id="myId">...</div>
CSS:  #myId { color: red; } 
```

研究 CSS 选择器，网络上有足够多的相关文献，我在此不再赘述。基本上`#someId`是用于 HTML 属性的 CSS 选择器和用于`id="someId"`HTML 属性的`.someClass`CSS 选择器，`class="someClass"`但 CSS 选择器的功能*远*不止这些。

# java - 将 BFS 用于迷宫？

> ID：15444302
> 
> 赞同：0
> 
> 时间：2013-03-16T00:47:04.837
> 
> 标签：java

我一直在尝试通过广度优先搜索来解决这个问题[http://dwite.ca/questions/haunted_house.html](http://dwite.ca/questions/haunted_house.html)，但我无法正确地获取所有测试用例，我认为问题在于，它只会计算到最后的直接最短路径，它会计算任何打开的糖果，但它不会计算通过糖果的最短路径这里是代码

```
import java.io.*;
import java.util.*;

public class HalloweenCandy {

    static int n, candy;
    static int minsteps, maxcandy;
    static int totCandies=0;
    public static void main(String[] args) throws FileNotFoundException {
        Scanner s = new Scanner(new File("C:\\Users\\Daniel\\Desktop\\Java\\HalloweenCandy\\src\\halloweencandy\\DATA5.txt"));

        while (s.hasNext()) {
            n=Integer.parseInt(s.nextLine().trim());
            char[][]maze=new char[n][n];
            int xStart =0;
            int yStart =0;

            for(int y=0;y<n;++y){
                String text = s.nextLine().trim();
                for(int x=0;x<n;++x){

                    maze[x][y]=text.charAt(x);
                    if(maze[x][y]=='B'){
                        xStart=x;
                        yStart=y;
                    }
                }
            }
            candy=0;
            minsteps=0;
            BFS(maze,xStart,yStart);
            System.out.println(candy+" "+minsteps);
        }
    }
    public static void BFS(char[][]maze,int xStart,int yStart){
        Queue<int[]>queue=new LinkedList<int[]>();
        int start[]={xStart,yStart,0,0};
        queue.add(start);

        while(queue.peek()!=null){
            int[]array=queue.poll();
            int x=array[0];int y=array[1];

            if(x<0||y<0||y>n-1||x>n-1)continue;
            if(maze[x][y]=='#')continue;
            if(maze[x][y]=='*'){                 
                candy++;               
                minsteps=array[2];
                maze[x][y]='.';
            }
            if(maze[x][y]>='a'&&maze[x][y]<='f'){
                if(candy <maze[x][y]-'a'+1)continue;
            }
            int[][]points = {{0,1},{1,0},{-1,0},{0,-1}};
            for(int i=0;i<4;++i){
                int sta[]={x+points[i][0],y+points[i][1],array[2]+1};
                queue.add(sta);
            }
           maze[x][y]='#';
        }

    }
} 
```

这里是测试用例 [http://dwite.ca/home/testcase/232.html](http://dwite.ca/home/testcase/232.html)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-16T01:32:25.450

你在写作轨道上，但你错过了一些重要的事情。

```
 while(queue.peek()!=null){
        int[]array=queue.poll();
        int x=array[0];int y=array[1];

        if(x<0||y<0||y>n-1||x>n-1)continue;
        if(maze[x][y]=='#')continue;
        if(maze[x][y]=='*'){                 
            candy++;               
            minsteps=array[2];
            maze[x][y]='.';
        }
        if(maze[x][y]>='a'&&maze[x][y]<='f'){
            if(candy <maze[x][y]-'a'+1)continue;
        }
        int[][]points = {{0,1},{1,0},{-1,0},{0,-1}};
        for(int i=0;i<4;++i){
            int sta[]={x+points[i][0],y+points[i][1],array[2]+1};
            queue.add(sta);
        }
       maze[x][y]='#'; // <== this part is wrong
    } 
```

你在最后一项任务中所做的就是让你踩到的每一个方格都变成一堵墙。如果您无需回溯即可通过迷宫，这将是正确的方法，但事实并非如此。相反，你要做的是确保在你拿起一块新糖果之前不要回溯。所以，试试这样的东西：

```
maze[x][y]='a'+candy; 
```

这样，一旦你拿起一块新糖果，这个方块就可以再次使用。

但是，这里仍然存在一个问题。想想 BFS 如何在这张地图上工作：

```
3
...
*B*
... 
```

如果 [0,0] 是左上角的瓦片，那么您的 BFS 算法将按以下顺序访问瓦片：[1,2]、[2,1]、[0,1]、[1,0]。那有什么问题？比利正在他所有相邻的方格之间跳跃！你真正想让他做的是每次他得到一块新糖果时重新启动 BFS。我会把它留给你弄清楚如何做那部分。

***编辑***

这是您要遵循的基本算法：

1.  从位置开始`start`。
2.  使用 BFS 搜索最近的一块糖果。用 BFS 找到的第一块糖果是最近的（或并列最近的）！
3.  找到一块糖果后，您需要找到*下一个离您**当前位置*最近的一块，因此将您当前的位置视为`start`另一个 BFS 的新位置。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-16T08:47:05.030

我刚刚解决了你的方式，这里的“贪婪”方式是代码

```
import java.io.*;
import java.util.*;

public class HalloweenCandy {

static int n, candy;
static int minsteps, maxcandy;
static int totCandies = 0;
static boolean[][] is;

public static void main(String[] args) throws FileNotFoundException {
    Scanner s = new Scanner(new File("C:\\Users\\Daniel\\Desktop\\Java\\HalloweenCandy\\src\\halloweencandy\\DATA5.txt"));
    while (s.hasNext()) {
        n = Integer.parseInt(s.nextLine().trim());
        char[][] maze = new char[n][n];
        is = new boolean[n][n];
        int xStart = 0;
        int yStart = 0;
        for (int y = 0; y < n; ++y) {
            String text = s.nextLine().trim();
            for (int x = 0; x < n; ++x) {

                maze[x][y] = text.charAt(x);
                if (maze[x][y] == 'B') {
                    xStart = x;
                    yStart = y;
                }
            }
        }
        candy = 0;
        int tot = 0;
        int y = 0, x = 0;
        x = xStart;
        y = yStart;
        for (int j = 0; j < n; ++j) {
            for (int i = 0; i < n; ++i) {
                is[i][j] = false;
            }
        }
        while (true) {
            char[][] grid = new char[n][n];
            for (int j = 0; j < n; ++j) {
                for (int i = 0; i < n; ++i) {
                    grid[i][j] = maze[i][j];
                }
            }
            int lol[] = BFS(grid, x, y);
            if (lol[0] == -1) {
                break;
            }
            y = lol[2];
            x = lol[1];
            tot += lol[0];
        }
        System.out.println(candy + " " + tot);
    }
}

public static int[] BFS(char[][] maze, int xStart, int yStart) {
    Queue<int[]> queue = new LinkedList<int[]>();
    int start[] = {xStart, yStart, 0, 0};
    queue.add(start);
    while (queue.peek() != null) {
        int[] array = queue.poll();
        int x = array[0];
        int y = array[1];
        if (x < 0 || y < 0 || y > n - 1 || x > n - 1) {
            continue;
        }
        if (maze[x][y] == '#') {
            continue;
        }
        if (maze[x][y] == '*' && !is[x][y]) {
            is[x][y] = true;
            candy++;
            int sta[] = {array[2], x, y};
            return sta;

        }
        if (maze[x][y] >= 'a' && maze[x][y] <= 'f') {
            if (candy < maze[x][y] - 'a' + 1) {
                continue;
            }
        }
        int[][] points = {{0, 1}, {1, 0}, {-1, 0}, {0, -1}};
        for (int i = 0; i < 4; ++i) {
            int sta[] = {x + points[i][0], y + points[i][1], array[2] + 1};
            queue.add(sta);
        }
        maze[x][y] = '#';
    }
    int sta[] = {-1};
    return sta;
}
} 
```

我现在想弄清楚如何以动态方式解决它，我给出的解决方案仅适用于某些情况，但并非全部。

# javascript - Winsock.SendData 与 Javascript 等效？

> ID：15444306
> 
> 赞同：0
> 
> 时间：2013-03-16T00:47:54.153
> 
> 标签：javascript, vb.net, winsock

下面的 VB 脚本可以用 Javascript 来打开 IP 钱箱吗？

```
Private Sub CashDrawerConnect_Click()
  Winsock1.Close
  ipaddr = "192.168.2.5"
  Winsock1.RemoteHost = ipaddr
  Winsock1.RemotePort = 30998
  Winsock1.Connect
  Sleep 250
  TxtOpStatus = "Connection to the cash drawer at " & ipaddr & " is established..."
  TxtOpStatus.Refresh
End Sub
Private Sub CashDrawerOpen_Click()
  If Winsock1.State = sckConnected Then
    Winsock1.SendData "opendrawer\0a"
  Else
    TxtOpStatus = "Not connected to the device"
    TxtOpStatus.Refresh
  End If
End Sub 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-16T00:55:40.847

您可以在 javascript 上执行此操作，但不能在浏览器上运行时执行此操作。

您需要安装[nodejs](http://nodejs.org)并直接从控制台运行您的 js 文件。

这是一个小示例，可以连接您的抽屉并在您的示例中发送“opendrawer”命令：

```
var net = require('net');
var client = net.connect({port: 30998, host: "yourip"}, function() { 
    client.write("opendrawer\0a");
}); 
```

但是，如果服务器可以访问抽屉，则 javascript 代码可以向服务器发出请求，服务器将负责打开与抽屉的连接并发送有效负载 (opendrawer)。

如果您使用 php，您可以查看[sockets 文档](http://php.net/manual/es/book.sockets.php)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-16T01:00:37.270

使用 VB 和 JavaScript 的调用大部分是相同的，您只需要使其适应该语言。[http://www.ostrosoft.com/oswinsck/oswinsck_javascript.asp](http://www.ostrosoft.com/oswinsck/oswinsck_javascript.asp)

以下是使用 JScript 中的 WinSock 的片段

```
var oWinsock;
var sServer = "192.168.2.5";
var nPort = 3098;
var bClose = false; 

oWinsock = new ActiveXObject("OSWINSCK.Winsock");
// Hooking up handlers
WScript.ConnectObject(oWinsock, "oWinsock_");
oWinsock.Connect(sServer, nPort);
WScript.Echo("Invalid URL");
bClose = true;

function oWinsock_OnConnect() {
  oWinsock.SendData('Your data');
}

function oWinsock_OnDataArrival(bytesTotal) {
  var sBuffer = oWinsock.GetDataBuffer();
  sSource = sSource + sBuffer;
}

function oWinsock_OnError(Number, Description, Scode, Source, 
    HelpFile, HelpContext, CancelDisplay) {
  WScript.Echo(Number + ': ' + Description);
}

function oWinsock_OnClose() {
  oWinsock.CloseWinsock();
  WScript.Echo(sSource);

  oWinsock = null;
  bClose = true;
}

while (!bClose) {
  WScript.Sleep(1);
} 
```

在浏览器中？不是真的，但您可以使用 WebSockets [http://en.wikipedia.org/wiki/WebSocket](http://en.wikipedia.org/wiki/WebSocket)

您需要实现 WebSocket 服务器，因此如果您需要直接与套接字通信，则无法从浏览器中进行。但是您可以实现一个代理服务器，在套接字服务器和 WebSocket 服务器之间中继信息。

如果您不需要双向通信，最好的办法是让您的服务器提供一个包装该套接字请求的 Web 服务。然后您的客户可以进行 AJAX 调用。

# iphone - CoreAnimation：将动画对象转移到下一个 UIViewController

> ID：15444309
> 
> 赞同：3
> 
> 时间：2013-03-16T00:48:26.413
> 
> 标签：iphone, ios, objective-c, core-animation

我目前正在使用这个核心动画；（iOS 5，ARC）

```
- (void)onTimer
{
    // build a view from our image
    UIImageView* flakeView = [[UIImageView alloc] initWithImage:flakeImage];

    // use the random() function to randomize up our flake attributes
    int startX = round(random() % 320);
    int endX = startX; //round(random() % 320);
    double scale = 1 / round(random() % 100) + 1.0;
    double speed = 1 / round(random() % 100) + 1.0;

    // set the flake start position
    flakeView.frame = CGRectMake(startX, -100.0, 25.0 * scale, 25.0 * scale);
    flakeView.alpha = 0.8;

    // put the flake in our main view
    [self.view addSubview:flakeView];
    [self.view sendSubviewToBack:flakeView];

    [UIView beginAnimations:nil context:(__bridge void*)flakeView];
    // set up how fast the flake will fall
    [UIView setAnimationDuration:10 * speed];

    // set the postion where flake will move to
    flakeView.frame = CGRectMake(endX, 500.0, 25.0 * scale, 25.0 * scale);

    // set a stop callback so we can cleanup the flake when it reaches the
    // end of its animation
    [UIView setAnimationDidStopSelector:@selector(onAnimationComplete:finished:context:)];
    [UIView setAnimationDelegate:self];
    [UIView commitAnimations];

}
- (void)onAnimationComplete:(NSString *)animationID finished:(NSNumber *)finished context:(void *)context {

    UIImageView *flakeView = (__bridge UIImageView*)context;
    [flakeView removeFromSuperview];
    flakeView = nil;
} 
```

火;

```
[NSTimer scheduledTimerWithTimeInterval:(0.3) target:self selector:@selector(onTimer) userInfo:nil repeats:YES]; 
```

使用此代码，有 10 片雪花呈现出来，落下。

在这段代码和一些自定义视图转换的帮助下，我试图让导航动作变得流畅。问题是我找不到将这些（动画）上下文转移到下一个的正确方法，`UIViewController`因此所有动画雪花将继续离开它们离开的地方，而下一个`UIViewController`将`NSTimer`触发新的。

任何帮助和建议都将得到应用。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-18T00:18:44.797

我怀疑您是否可以将正在制作动画的视图转移到另一个视图控制器。我怀疑当你从它的超级视图中删除它时，它会终止任何动画。

您可能最好编写代码来跟踪在数组中动画的视图。当需要创建一个新的视图控制器时，查询每个图像视图层的presentationLayer并获取它的位置。然后从当前视图控制器中删除所有雪花视图，并将整个数组以及位置数组传递给新的视图控制器。然后在新视图控制器的 viewDidLoad 中，在它们之前的位置添加雪花视图数组，并开始动画到它们之前的结束位置，并启动动画计时器以开始添加更多雪花。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-16T02:22:10.070

也许您可以将上下文放在此类的私有扩展中。
喜欢：`@property (nonatomic,weak)IBOutlet UIImageView*context;`

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-18T00:42:22.400

.h 文件

```
@interface BeanManager : NSObject <UINavigationControllerDelegate>
{
    NSMutableDictionary *beanDictionary;
    UIViewController    *currentViewController;
    UIImage             *coffeebean;
    NSTimer             *beanTimer;
    NSInteger           contextTag;
    BOOL                isDebugging;
}

@property (nonatomic, retain) NSMutableDictionary   *beanDictionary;
@property (nonatomic, retain) UIViewController      *currentViewController;
@property (nonatomic) BOOL isDebugging;

+ (id)sharedManager;

- (void)invalidate;
- (void)validate;

@end 
```

.m 文件

```
+ (id)sharedManager {
    static BeanManager *sharedMyManager = nil;
    static dispatch_once_t onceToken;
    dispatch_once(&onceToken, ^{
        sharedMyManager = [[self alloc] init];
    });
    return sharedMyManager;
}

- (id)init {
    if (self = [super init]) {
        coffeebean = [UIImage imageNamed:@"coffeebean"];

        // assign self as navigation controllers delegate
        AppDelegate *appDelegate = (AppDelegate *)[[UIApplication sharedApplication] delegate];
        [appDelegate.navigationController setDelegate:self];

        self.currentViewController = appDelegate.navigationController.visibleViewController;

        beanDictionary = [[NSMutableDictionary alloc] init];

        NSLog(@"%@ : Allocating",[self class]);

        [self validate];
    }
    return self;
}

- (void)dealloc {
    if (isDebugging) {
        NSLog(@"%@: Deallocating", [self class]);
    }
}

#pragma mark - UINavigationController
- (void)navigationController:(UINavigationController *)navigationController didShowViewController:(UIViewController *)viewController animated:(BOOL)animated
{
    if (isDebugging) {
        NSLog(@"%@: Pushing %d beans to new view",[self class], [[beanDictionary allKeys] count]);
    }
    for (UIImageView *animatingBeans in [beanDictionary allValues]) {
        [viewController.view addSubview:animatingBeans];
        [viewController.view sendSubviewToBack:animatingBeans];
    }

    self.currentViewController = viewController;
}

#pragma mark - Internals
- (void)validate
{
    beanTimer = [NSTimer scheduledTimerWithTimeInterval:(0.3) target:self selector:@selector(onTimerWithBlock) userInfo:nil repeats:YES];
}

- (void)invalidate
{
    [beanTimer invalidate];
}

- (void)onTimerWithBlock
{
    // build a view from our flake image
    UIImageView* beanView = [[UIImageView alloc] initWithImage:coffeebean];

    // use the random() function to randomize up our flake attributes
    int startX = round(random() % 320);
    int endX = startX; //round(random() % 320);
    double scale = 1 / round(random() % 100) + 1.0;
    double speed = 1 / round(random() % 100) + 1.0;

    // set the flake start position
    beanView.frame = CGRectMake(startX, -100.0, 25.0 * scale, 25.0 * scale);
    beanView.alpha = 0.8;
    beanView.tag = contextTag; 

    [beanDictionary setObject:beanView forKey:[NSString stringWithFormat:@"%d",contextTag]];

    if (contextTag > 1000) {
        contextTag = 0;
    }
    contextTag++;

    // put the flake in our main view
    [self.currentViewController.view addSubview:beanView];
    [self.currentViewController.view sendSubviewToBack:beanView];

    [UIView animateWithDuration:(speed * 10) animations:^{

        [beanView setFrame:CGRectMake(endX, 500.0, 25.0 * scale, 25.0 * scale)];

    } completion:^(BOOL finished) 
    {
        [beanDictionary removeObjectForKey:[NSString stringWithFormat:@"%d",beanView.tag]];
        if (isDebugging) {
            NSLog(@"%@: Dictionary Count %d",[self class], [[beanDictionary allKeys] count]);
        }
        [beanView removeFromSuperview];
    }];
} 
```

这段代码似乎完成了这项工作。到目前为止，我没有将它用作单例，但如果我将扩展此代码，它应该作为单例实现，只是为了澄清。而且我使用的是 an`NSDictionary`而不是 an`NSArray`可以按原样工作，我再次认为我可能会向它添加一些功能，所以我将其设为`NSDictionary`

# javascript - 使用 emberjs 选择视图填充选择框

> ID：15444312
> 
> 赞同：1
> 
> 时间：2013-03-16T00:48:54.867
> 
> 标签：javascript, templates, ember.js, views, ember-data

我正在开发一个玩具应用程序来学习 ember。我有属于风格的食谱。样式只包含一个名称属性（以及隐含的 id）。我在新模板中设置选择字段以选择配方的样式时遇到问题。

以下是我目前的路线、控制器和模板：

路线：

```
App.RecipesNewRoute = Ember.Route.extend({
  model: function() {
    return App.Recipe.createRecord({
      title: '',
      description: '',
      instructions: ''
    });
  },
  setupController: function(controller, model) {
    controller.set('content', model);
  }
}); 
```

控制器：

```
App.RecipesController = Ember.ArrayController.extend({});

App.RecipesNewController = Ember.ObjectController.extend({
  create: function() {
    this.transitionToRoute('recipes.show', this.content);
  },

  cancel: function() {
    this.content.deleteRecord();
    this.transitionToRoute('recipes.index');
  },

  buttonTitle: 'Add Beer Recipe'
}); 
```

模板：

食谱/新的和形式部分：

```
<script type="text/x-handlebars" data-template-name="recipes/new">
  {{ partial 'recipes/form' }}
</script>

<script type="text/x-handlebars" data-template-name="recipes/_form">
  {{ title }}
  <form>
    <fieldset>
      <div>
        <label {{bindAttr for="titleField.elementId"}}>Title</label>
        {{view Ember.TextField valueBinding='title' name='title' viewName='titleField'}}
      </div>
      <div>
        <label>Style</label>
        {{view Ember.Select valueBinding='style' name='style' viewName='styleField' contentBinding='App.Style.find()'}}
      </div>
      <div>
        <label {{bindAttr for='descriptionField.elementId'}}>Description</label>
        {{view Ember.TextArea valueBinding='description' name='description' viewName='descriptionField'}}
      </div>
      <div>
        <label {{bindAttr for='instructionsField.elementId'}}>Instructions</label>
        {{view Ember.TextArea valueBinding='instructions' name='instructions' viewName='instructionsField'}}
      </div>
      <a href='#' {{action create target='controller'}}>{{buttonTitle}}</a>
    </fieldset>
  </form>

  <a href='#' {{action cancel target='controller'}}>Cancel</a>
</script> 
```

主要内容是：`{{view Ember.Select valueBinding='style' name='style' viewName='styleField' contentBinding='App.Style.find()'}}`

我还尝试在控制器中设置样式变量：在 RecipesNewController:`styles: App.Style.find()`和视图中`{{view Ember.Select valueBinding='style' name='style' viewName='styleField' contentBinding='styles' optionValuePath='styles.id' optionLabelPath='styles.name'}}`

以及在路由的 setupController: 中`controller.set('styles', App.Style.find())`（使用与在控制器中设置相同的视图代码）。

任何帮助都会很棒，我相信这很简单。

谢谢

**更新**

所以我想我已经差不多了。

在我的 RecipesNewRoute 的 setupController 中，我有`controller.set('styles', App.Style.find());`. 然后在我看来我有`{{view Ember.Select valueBinding='style' name='style' viewName='styleField' contentBinding='controller.styles' contentValuePath='content.id' contentLabelPath='content.name'}}`。现在我的问题是我填充了选择框，除了标签和值设置为`<App.Style:ember407:100>`而不是 id 和名称。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-03-16T13:16:57.857

Ember Select 使用 optionValuePath 和 optionLabelPath，看起来您正在使用 contentValuePath 和 contentLabelPath。

此处的示例 jsFiddle：http: [//jsfiddle.net/nrionfx/BJwLR/2/](http://jsfiddle.net/nrionfx/BJwLR/2/)

来自 ember 文档：[http ://emberjs.com/api/classes/Ember.Select.html](http://emberjs.com/api/classes/Ember.Select.html)

```
{{view Ember.Select
       contentBinding="App.programmers"
       optionValuePath="content.id"
       optionLabelPath="content.firstName"}} 
```

# frameworks - MonoDevelop 无法识别 .NET 4.5 支持

> ID：15444319
> 
> 赞同：4
> 
> 时间：2013-03-16T00:49:38.903
> 
> 标签：frameworks, f#, mono, monodevelop, .net-4.5

我最近在我的 linux 机器（Arch linux）上安装了 Mono（3.0.8）和 MonoDevelop（4.0）。我有一个解决方案，其中包含许多依赖于 .NET 4.5 框架的项目。（具体来说，我正在使用[Casanova 项目](http://casanova.codeplex.com/)）但是，MonoDevelop 似乎不承认项目的 .NET 4.5 框架；它仅将 .NET 4.0 和之前的版本识别为目标框架。

![MonoDevelop 构建设置](../Images/ddc0bf50a06e84a63e0cfee5153e33de.png)

我知道 Mono 3.0.8 支持基本的 .NET 4.5，但我不确定为什么 MonoDevelop 看不到这一点。当我将项目创建为 Mono / .NET 4.0 并尝试构建它时，它无法找到 .NET 4.5 特定字段和成员的定义。有没有办法强制 MonoDevelop 读取 .NET 4.5 项目？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-18T17:48:42.377

我从 Github 源构建了 Mono 和 MonoDevelop，它似乎有一些 .NET 4.5 支持： ![在此处输入图像描述](../Images/f540804d40cbd673934531f39853c964.png)

不知道 F# 怎么样，我还不能安装 F# 插件。

Github master 分支的 Mono 版本对我来说是**Mono 3.0.4** (master/b23a610 Thu Mar 7 20:47:00 MSK 2013)，而不是 3.0.8。

# android - Android c++ 对 to_string、stof 等的字符串支持

> ID：15444320
> 
> 赞同：5
> 
> 时间：2013-03-16T00:50:05.900
> 
> 标签：android, c++, string, android-ndk, std

是否有任何基于 、 、 和其他字符串转换功能的android ndk`gcc 4.7`编译`to_string`器`stof`？

在我使用的 NDK 中，我在`ext/vstring.h`. 但是函数被包裹在

```
#if (defined(__GXX_EXPERIMENTAL_CXX0X__) && defined(_GLIBCXX_USE_C99)) 
```

我正在启用`-std=c++11`标志。

如何启用`GXX_EXPERIMENTAL_CXX0X`？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-11-18T07:46:54.487

我只需将它作为符号添加到项目属性->C/C++ General->Symbols->GNU C++ 中就可以启用它

我还在 Android.mk 中添加了这个： LOCAL_CPPFLAGS := -std=gnu++0x

# xml - XSL 变量没有引入值

> ID：15444321
> 
> 赞同：-1
> 
> 时间：2013-03-16T00:50:11.403
> 
> 标签：xml, xslt

我有这个 xslt 文件：

```
<?xml version="1.0" encoding="utf-8"?>
<xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"  
    xmlns:msxsl="urn:schemas-microsoft-com:xslt" exclude-result-prefixes="msxsl">

    <xsl:output method="xml" indent="yes" encoding="utf-8"
        omit-xml-declaration="yes"/>

    <xsl:variable name="desc" select="//myNode[@objectId='desc']/@select" />
    <xsl:variable name="largeImage" 
          select="//myNode[@objectId='largeImage']/@select" />

    <xsl:template match="/">

        <xsl:value-of select="$largeImage" />          
        <xsl:value-of select="$desc" />

    </xsl:template>
</xsl:stylesheet> 
```

使用此 xml：

```
<root>
    <myNode type="popup" link="image" label="Large Image:"
        objectId="largeImage" customAttribute="No" />  
    <myNode type="editor" label="Description:" objectId="desc" required="yes"/>
</root> 
```

出于某种原因，该变量用于显示 的值`desc`，但不是`largeImage`。

有人知道我在 XSLT 中做错了什么吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-16T03:58:36.080

预期的结果是什么？如果要显示“大图像：”和“描述：”，这将起作用：

```
<xsl:variable name="desc" select="//myNode[@objectId='desc']/@label" />
<xsl:variable name="largeImage" 
              select="//myNode[@objectId='largeImage']/@label" /> 
```

# ruby - 在安装机车 CMS 捆绑包期间 - 权限被拒绝 - ruby gems rmagick-2.12.2 install

> ID：15444323
> 
> 赞同：1
> 
> 时间：2013-03-16T00:50:24.033
> 
> 标签：ruby, gem, rmagick, permission-denied

我正在安装机车的 CMS，并且发生了这个问题..

让我知道我该如何解决它。

```
Minis-MacBook-Air:~ daraotsu$ cd myapp

Minis-MacBook-Air:myapp daraotsu$ bundle install

Fetching gem metadata from http://rubygems.org/........

Fetching gem metadata from http://rubygems.org/..

Resolving dependencies...

Installing rmagick (2.12.2) 

Errno::EACCES: Permission denied - /Users/daraotsu/.rvm/gems/ruby-2.0.0-p0/gems/rmagick-
2.12.2/README.html

An error occurred while installing rmagick (2.12.2), and Bundler cannot
continue.

Make sure that `gem install rmagick -v '2.12.2'` succeeds before bundling. 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-16T01:11:25.617

我会尝试`sudo gem uninstall rmagick -v '2.12.2'`然后尝试再次运行您的捆绑包...如果失败，请删除`/Users/daraotsu/.rvm/gems/ruby-2.0.0-p0/gems/rmagick- 2.12.2`并再次尝试捆绑。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-16T01:13:38.573

`.rvm`您可以尝试使用 修复目录的所有权`chown -R daraotsu /Users/daraotsu/.rvm`，但我认为您最好的选择是卸载然后重新安装 RVM 并重试。不知何故，您设法将 RVM 安装到您的主目录中，而没有获得文件的所有权。

# javascript - 当我告诉它时，可拖动不会禁用

> ID：15444330
> 
> 赞同：0
> 
> 时间：2013-03-16T00:52:00.643
> 
> 标签：javascript, jquery, jquery-ui, livequery

JS：

```
function handDrag(dragHand)
{
    if(dragHand ==true)
    {
        //live query to auto bind the drag function to all elements of the cardsHand class even auto generated ones
        $('#playerHand') 
            .livequery('mouseenter', function(e){
            $('img.playerCardsHand').draggable
                ({ 
                    zIndex: 1000, 
                    revert: 'invalid',
                    stack: '.playerCardsHand',
                    selectedCard: 'widget',
                    addClasses: 'false',
                    disabled : false
                 }); 
            });
    }
    else
    {
        $('img.playerCardsHand').draggable({ disabled: true });
    }
}

function swapCards()
{
    handDrag(true);
}

function ready()
{
    handDrag(false);
} 
```

基本上我调用 swapCards() 我希望能够在屏幕上拖动我的卡片并将它们放下。

然后我点击就绪，它调用了 ready() 方法。然后我希望我的卡片不再是可拖动的。

但是现在它使它们保持可拖动。我已经尝试删除 disabled: false 到 swapCards 可拖动初始化但是当我这样做时，当我尝试使用重新启用可拖动时

```
handDrag(true); 
```

它不会重新启用拖动。

有任何想法吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-16T01:03:43.037

语法如下所示：

```
$('img.playerCardsHand').draggable( "disable" ); 
```

见[http://api.jqueryui.com/draggable/#method-disable](http://api.jqueryui.com/draggable/#method-disable)

您可能还需要在下次调用 handDrag(true); 时启用它；

```
if(dragHand ==true)
{
    $('img.playerCardsHand').draggable( "enable" );
    // etc 
```

# opencv - CreateTrackbar() 在 OpenCV 2.4.3 中很尴尬

> ID：15444340
> 
> 赞同：0
> 
> 时间：2013-03-16T00:53:25.803
> 
> 标签：opencv

我想在 OpenCV 2.4.3 中创建一个轨迹栏。我为此编写了一个常规示例代码，但输出与以前不同。

![在此处输入图像描述](../Images/2ddf4193554d91e9e62fea1204d5c1f9.png)

这是我的示例代码，我在 Windows 平台上使用 QT creator 5。

```
 int aa=5;
 cv::namedWindow("Cut histogram edges input image",1);
 cv::createTrackbar("histogram edges clipping limit", "Cut histogram edges input image",&aa,50);
 cv::namedWindow("Retina Parvo", 1); 
```

有人知道为什么我的输出窗口像上图吗？谢谢

编辑：

以下是我正在寻找的内容：

![在此处输入图像描述](../Images/975942b964059c3e50b84052de79c6ee.png)

# java - 创建一个方法并将输入应用于并行数组

> ID：15444343
> 
> 赞同：-1
> 
> 时间：2013-03-16T00:53:34.633
> 
> 标签：java

我是新来的。我在创建一种方法时遇到问题，该方法要求用户为班级中的某个人打分。这是我到目前为止所拥有的：

```
String[] names = {"Bashful", "Doc", "Dopey", "Grumpy", "Happy", "Sleepy", "Sneezy"};
double[] grades = new double [7];   

public static double[] getScores(double[] grades, String[] names)
{
    Scanner kb = new Scanner(System.in);
    for (int i = 0; i < names.length; i++)
    {
        System.out.println("Enter grades for : " +names[i]);
        for (int i = 0; i < grades.length; i++)
        {
            grades[i] = kb.nextDouble();
        }
    return grades;
} 
```

有人可以指出我正确的方向吗，谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-16T00:57:22.043

您使用的是面向对象的语言，因此无需使用并行数组。[您可以在dreamincode.net](http://www.dreamincode.net/forums/user/146038-macosxnerd101/)上查看 macosxnerd101 编写的这个很棒的教程：[**从并行数组移开**](http://www.dreamincode.net/forums/topic/147196-moving-away-from-parallel-arrays/)。

您应该创建一个`Student`对象：

```
public class Student {
  private String name;
  private double grade;
} 
```

循环遍历学生并给他们评分。

```
import java.util.ArrayList;
import java.util.List;
import java.util.Scanner;

public class Grades {
    public final String[] names = { "Bashful", "Doc", "Dopey", "Grumpy",
            "Happy", "Sleepy", "Sneezy" };

    private List<Student> students;

    public Grades() {
        students = new ArrayList<Student>();
        for (String name : names)
            students.add(new Student(name));
        int i = 0;
        Scanner scan = new Scanner(System.in);
        while (i < names.length) {
            Student currStudent = students.get(i);
            System.out.printf("Enter grade for %s: ", currStudent.getName());
            double inputGrade = scan.nextDouble();
            currStudent.setGrade(inputGrade);
            i++;
        }
        scan.close();
        System.out.println(students);
    }

    private class Student {
        private String name;
        private double grade;

        public Student(String name) {
            setName(name);
        }

        public String getName() {
            return name;
        }

        public void setName(String name) {
            this.name = name;
        }

        public String getGrade() {
            return String.format("%.2f%%", (grade * 100));
        }

        public void setGrade(double grade) {
            this.grade = grade;
        }

        public String toString() {
            return String.format("Name: %s, Grade: %s", getName(), getGrade());
        }
    }

    public static void main(String[] args) {
        new Grades();
    }
} 
```

# ios - 在应用程序顶部查找框架

> ID：15444347
> 
> 赞同：0
> 
> 时间：2013-03-16T00:53:55.187
> 
> 标签：ios, objective-c

我想将我的应用程序向下移动 20.0f 并在其上方放置一个标签。我的应用程序支持水平和垂直方向。我不知道如何为我的标签设置框架。我知道有一种动态的方法可以做到这一点，但我无法弄清楚。我很感激这里的一点帮助。正如你在图片中看到的，我想把标签放在粉色区域。 ![](../Images/f3f4deaae896d5c24f71dd51cda0d84f.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-16T01:03:21.407

如果您`rootViewController`正确构建应用程序窗口，则该视图控制器有一个 UIView，它的`view`，它占据了整个屏幕（状态栏除外）。它的原点位于左上角，就在状态栏下方。因此，您希望您的标签`{0,0}`作为根视图控制器视图的子视图。不要试图将它放在根视图控制器之外，例如直接放在 UIWindow 中；这是错误的，你只会让自己感到困惑。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-16T01:06:59.173

添加标签时，您希望其宽度与您要添加的视图边界的宽度相同。

然后，如果您不使用 autoLayout，要处理旋转，您需要将其自动调整大小掩码设置为`UIViewAutoresizingFlexibleWidth`.

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-16T01:15:14.453

```
MyAppDelegate *delegate=(MyAppDelegat*)[[UIApplication sharedApplication] delegate];
CGRect frame=delegate.window.rootviewController.view.frame;
frame.origin.y+=20.0f;
delegate.window.rootviewController.view.frame=frame;

UILabel *label=[[UILabel alloc]initWithRect:CGRectMake(0,0,width,height)];
[delegate.window addSubView:label]; 
```

将自动调整大小的掩码添加到具有灵活宽度标志的标签中。以便在旋转时调整大小

# javascript - 如何获取文本字段值以显示在屏幕上的所需位置

> ID：15444349
> 
> 赞同：0
> 
> 时间：2013-03-16T00:54:04.483
> 
> 标签：javascript, html

单击更改文本时，我需要在屏幕的另一部分显示我的文本字段值。我怎样才能做到这一点？

```
<div id="placetextfield">
  <script>
    var textfield = "Enter text on shirt:"; 
    textfield = textfield.bold()
    textfield = textfield.fontsize(5)
    document.write("<p>"  + textfield.fontcolor("#FF6600") + "</p>");
  </script>

  <script type="text/javascript">
    function changeText2(){
      var userInput = document.getElementById('userInput').value;
      document.getElementById('textfield').innerHTML = userInput;
    }
  </script>

  <b id='textfield'></b>
  <input type='text' id='userInput'/>
  <input type='button' onclick='changeText2()'value='Change Text'/>
</div> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-16T00:59:59.567

```
<script type="text/javascript">
function changeText2(){
    var userInput = document.getElementById('userInput').value;
    document.getElementById('yourId').innerHTML = userInput;
}
</script>
<b id='textfield'></b>
<input type='text' id='userInput'/>
<input type='button' onclick='changeText2()'value='Change Text'/> 
```

# python - Python：List in List 保持列位置和行位置之间的差异

> ID：15444351
> 
> 赞同：0
> 
> 时间：2013-03-16T00:54:17.260
> 
> 标签：python, list

亲爱的，我是编程新手，我正在使用 Python。

我有以下代码：

```
P=[]
i=0
j=0

P=[[0]*5]*5
while i<5:
    for j in range(0,5):
        P[i][j]=i-j
    i=i+1
print(P) 
```

我希望得到以下输出：

[[0, -1, -2,-3, -4], [1, 0, -1, -2, -3], [2, 1, 0, -1, -2], [3, 2 , 1, 0, -1], [4, 3, 2, 1, 0]]

因为我想在单元格中保留它们的行号和列之间的差异。

该程序给出以下输出：

[[4, 3, 2, 1, 0], [4, 3, 2, 1, 0], [4, 3, 2, 1, 0], [4, 3, 2, 1, 0], [ 4、3、2、1、0]]

在此先感谢您的帮助！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-16T01:05:10.537

`[[0]*5]*5`创建列表的 5 个副本`[0, 0, 0, 0, 0]`。这可以通过使用`map`和看出`id`。

```
>>> list(map(id, [[0]*5]*5))
[58739912, 58739912, 58739912, 58739912, 58739912] 
```

请注意，每个值都是相同的。这意味着每次更改*这些列表中的任何一个时*，都会更改所有列表。

对此的简单解决方案是使用列表推导。

```
P = [[0]*5 for i in range(5)] 
```

请注意，这个问题只发生在像列表这样的可变对象上，所以它适用于整数。

* * *

作为旁注，可以以更简单的方式解决问题。

```
>>> P = [[i for i in range(j, j-5, -1)] for j in range(5)]
>>> P
[[0, -1, -2, -3, -4], [1, 0, -1, -2, -3], [2, 1, 0, -1, -2], [3, 2, 1, 0, -1], [4, 3, 2, 1, 0]] 
```

# ios - 在 cocos2d 中使用 CCSpriteBatchNode 添加精灵流？

> ID：15444352
> 
> 赞同：0
> 
> 时间：2013-03-16T00:54:29.560
> 
> 标签：ios, cocos2d-iphone, int, ccspritebatchnode

所以我创建了一个名为 Berries 的类，它扩展了 CCSpriteBatchNode。浆果基本上就像我游戏中的硬币，如果“碰撞”，则会增加得分值。这是我在 CCSpriteBatchNode 的 Berries 类中的代码：

```
- (id) init
{
    if((self = [super init]))
    {
        CCSpriteBatchNode* berryBatch1 = [CCSpriteBatchNode batchNodeWithFile:@"One.png"];
        [self addChild:berryBatch1];

        CCSpriteBatchNode* berryBatch2 = [CCSpriteBatchNode batchNodeWithFile:@"Two.png"];
        [self addChild:berryBatch2];

        CCSpriteBatchNode* berryBatch3 = [CCSpriteBatchNode batchNodeWithFile:@"Three.png"];
        [self addChild:berryBatch3];

        for (int i = 0; i < 100; i++)
        {
            CCSprite* berry1 = [CCSprite spriteWithFile: @"One.png"];
            [berryBatch1 addChild:berry1];

            CCSprite* berry2 = [CCSprite spriteWithFile: @"Two.png"];
            [berryBatch2 addChild:berry2];

            CCSprite* berry3 = [CCSprite spriteWithFile: @"Three.png"];
            [berryBatch3 addChild:berry3];
        }
        numBerries = 
    }
    return self;
} 
```

numBerries 是我制作的 int。我试图找出所有三个 CCSpriteBatchNodes 中的浆果数量，这样当我创建一个 detectCollision 方法时，我可以在 for 循环中使用它。

有任何想法吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-16T01:36:33.217

这很简单：

```
numBerries = berryBatch1.children.count + 
             berryBatch2.children.count + 
             berryBatch3.children.count; 
```

# android - 使用自动计数器更新 Android 显示器

> ID：15444355
> 
> 赞同：-2
> 
> 时间：2013-03-16T00:54:40.947
> 
> 标签：android

这可能是一个菜鸟问题。我刚开始android编程。我希望我的应用程序显示一个从 0 到 10 的计数器，每次计数之间有 1 秒的延迟。该应用程序将从 1 开始，延迟 1 秒后将显示 2。谁能帮我提供一个示例程序？谢谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-16T01:03:38.197

```
 TextView timer;
    int i;

    @Override
        protected void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    timer = (TextView) view.findViewById(R.id.tvTimer);
    for(i=1;i<=10;i++)
    new AsyncTimer().execute();

    class AsyncTimer extends AsyncTask<String, Integer, String> {

    @Override
    protected String doInBackground(String... params) {
    Thread.sleep(1000);
return null;
    }

    @Override
    protected void onPostExecute(String result) {
                super.onPostExecute(result);
    timer.setText(i.toString());
    }
            } 
```

只是我脑海中浮现的一个解决方案。

# java - 尝试读取字节时出现输入流错误

> ID：15444356
> 
> 赞同：0
> 
> 时间：2013-03-16T00:54:45.693
> 
> 标签：java, android, sockets

我正在将 png 图像转换为字节数组，并使用套接字将其发送到 android 上的客户端在 android 上，我读取了如下所示的字节：

```
ByteArrayOutputStream dataBuffer = new ByteArrayOutputStream();
InputStreamReader in = new InputStreamReader(s.getInputStream());
int readLength;
byte buffer[] = new byte[1024];
while ((readLength = in.read(buffer)) != -1) {
 dataBuffer.write(buffer, 0, readLength);
 }
byte bitmapdata[] = dataBuffer.toByteArray(); 
```

但我在这里有一个非常愚蠢的问题。Java 给我一个错误，它不能接受 in.read(buffer) 的字节数组由于某种原因，它似乎只接受 char[]，说“无法解析方法 read(byte[])”。

任何人都知道为什么会发生这种情况或任何其他方式我可以做到这一点？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-16T00:59:47.987

InputStreamReader 没有 read.(byte[]) 方法。这是解决您的问题的示例：http: [//tutorials.jenkov.com/java-io/inputstreamreader.html](http://tutorials.jenkov.com/java-io/inputstreamreader.html)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-16T01:40:51.253

由于 Java 支持 Unicode，单个 Java`char`至少有 2 `byte`s 长，有时甚至更长（[血淋淋的细节在这里](http://docs.oracle.com/javase/7/docs/api/java/lang/Character.html)）。这意味着我们不能像在 C 等其他语言中那样互换处理这些数据类型。

由于您要处理原始字节，因此请远离`InputStreamReader`并直接使用`InputStream`您提供的`Socket`.

像这样的东西应该工作：

```
ByteArrayOutputStream dataBuffer = new ByteArrayOutputStream();
InputStream in = s.getInputStream();
int readLength;
byte buffer[] = new byte[1024];
while ((readLength = in.read(buffer, 0, buffer.length)) != -1) {
  dataBuffer.write(buffer, 0, readLength);
}
byte bitmapdata[] = dataBuffer.toByteArray(); 
```

如果您希望从您的 中读取文本而不是图像数据`Socket`，`InputStreamReader`那将是可行的方法，因为它隐藏了与可变字节字符编码格式相关的许多令人头疼的问题（[更多信息在这里](http://docs.oracle.com/javase/tutorial/i18n/text/unicode.html)）

# java - 无法将 XML 数据获取到 ListView

> ID：15444357
> 
> 赞同：1
> 
> 时间：2013-03-16T00:55:04.170
> 
> 标签：java, android, xml-parsing

我从 Internet 找到了一个关于`XML`和`ListView`项目的示例，我只在更新的项目中更改了 xml 链接和标签名称。应用程序工作正常，但在主屏幕上是否显示“*无数据*”

![在此处输入图像描述](../Images/9c0a0f3d7658a62895a58cd7abc4a7b8.png)

原始项目在[**这里**](http://p-xr.com/android-tutorial-how-to-parseread-xml-data-into-android-listview/)

编辑的项目是这样的：

## 主.java

```
public class Main extends ListActivity {
/** Called when the activity is first created. */
@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.listplaceholder);

    ArrayList<HashMap<String, String>> mylist = new ArrayList<HashMap<String, String>>();

    String xml = XMLfunctions.getXML();
    Document doc = XMLfunctions.XMLfromString(xml);

    /*
    int numResults = XMLfunctions.numResults(doc);

    if((numResults <= 0)){
        Toast.makeText(Main.this, "Geen resultaten gevonden", Toast.LENGTH_LONG).show();  
        finish();
    }

    */

    NodeList nodes = doc.getElementsByTagName("note");

    for (int i = 0; i < nodes.getLength(); i++) {

        HashMap<String, String> map = new HashMap<String, String>();    

        Element e = (Element)nodes.item(i);

           ///////I EDITED THESE TAGS////////////////////
        map.put("to",XMLfunctions.getValue(e, "to"));
        map.put("from", "From:" + XMLfunctions.getValue(e, "from"));
        mylist.add(map);            
    }       

    ListAdapter adapter = new SimpleAdapter(this, mylist , R.layout.main, 
                    new String[] { "to", "from" }, 
                    new int[] { R.id.item_title, R.id.item_subtitle });

    setListAdapter(adapter);

    final ListView lv = getListView();
    lv.setTextFilterEnabled(true);  

    /*
    lv.setOnItemClickListener(new OnItemClickListener() {
        public void onItemClick(AdapterView<?> parent, View view, int position, long id) {              
            @SuppressWarnings("unchecked")
            HashMap<String, String> o = (HashMap<String, String>) lv.getItemAtPosition(position);                   
            Toast.makeText(Main.this, "ID '" + o.get("id") + "' was clicked.", Toast.LENGTH_LONG).show(); 

        }
    });

    */
}
} 
```

## XMLfunctions.java

```
public class XMLfunctions {

public final static Document XMLfromString(String xml){

    Document doc = null;

    DocumentBuilderFactory dbf = DocumentBuilderFactory.newInstance();
    try {

        DocumentBuilder db = dbf.newDocumentBuilder();

        InputSource is = new InputSource();
        is.setCharacterStream(new StringReader(xml));
        doc = db.parse(is); 

    } catch (ParserConfigurationException e) {
        System.out.println("XML parse error: " + e.getMessage());
        return null;
    } catch (SAXException e) {
        System.out.println("Wrong XML file structure: " + e.getMessage());
        return null;
    } catch (IOException e) {
        System.out.println("I/O exeption: " + e.getMessage());
        return null;
    }

    return doc;

}

/** Returns element value
  * @param elem element (it is XML tag)
  * @return Element value otherwise empty String
  */
 public final static String getElementValue( Node elem ) {
     Node kid;
     if( elem != null){
         if (elem.hasChildNodes()){
             for( kid = elem.getFirstChild(); kid != null; kid = kid.getNextSibling() ){
                 if( kid.getNodeType() == Node.TEXT_NODE  ){
                     return kid.getNodeValue();
                 }
             }
         }
     }
     return "";
 }

 public static String getXML(){  
        String line = null;

        try {

            DefaultHttpClient httpClient = new DefaultHttpClient();

              ///////I EDITED THIS LINK////////////////////
            HttpPost httpPost = new HttpPost("http://www.w3schools.com/xml/note.xml");

            HttpResponse httpResponse = httpClient.execute(httpPost);
            HttpEntity httpEntity = httpResponse.getEntity();
            line = EntityUtils.toString(httpEntity);

        } catch (UnsupportedEncodingException e) {
            line = "<results status=\"error\"><msg>Can't connect to server</msg></results>";
        } catch (MalformedURLException e) {
            line = "<results status=\"error\"><msg>Can't connect to server</msg></results>";
        } catch (IOException e) {
            line = "<results status=\"error\"><msg>Can't connect to server</msg></results>";
        }

        return line;

}

 /*

public static int numResults(Document doc){     
    Node results = doc.getDocumentElement();
    int res = -1;

    try{
        res = Integer.valueOf(results.getAttributes().getNamedItem("count").getNodeValue());
    }catch(Exception e ){
        res = -1;
    }

    return res;
}

*/

public static String getValue(Element item, String str) {       
    NodeList n = item.getElementsByTagName(str);        
    return XMLfunctions.getElementValue(n.item(0));
}
} 
```

* * *

## 日志猫

```
03-16 00:53:05.032: E/SurfaceFlinger(36): ro.sf.lcd_density must be defined as a build property
03-16 00:53:12.401: E/SurfaceFlinger(36): ro.sf.lcd_density must be defined as a build property
03-16 00:53:12.711: E/Trace(1902): error opening trace file: No such file or directory (2)
03-16 00:53:15.351: E/SurfaceFlinger(36): ro.sf.lcd_density must be defined as a build property
03-16 00:53:39.282: E/SurfaceFlinger(36): ro.sf.lcd_density must be defined as a build property
03-16 00:53:40.640: E/ActivityThread(875): Service com.android.exchange.ExchangeService has leaked ServiceConnection com.android.emailcommon.service.ServiceProxy$ProxyConnection@40d5f200 that was originally bound here
03-16 00:53:40.640: E/ActivityThread(875): android.app.ServiceConnectionLeaked: Service com.android.exchange.ExchangeService has leaked ServiceConnection com.android.emailcommon.service.ServiceProxy$ProxyConnection@40d5f200 that was originally bound here
03-16 00:53:40.640: E/ActivityThread(875):  at android.app.LoadedApk$ServiceDispatcher.<init>(LoadedApk.java:969)
03-16 00:53:40.640: E/ActivityThread(875):  at android.app.LoadedApk.getServiceDispatcher(LoadedApk.java:863)
03-16 00:53:40.640: E/ActivityThread(875):  at android.app.ContextImpl.bindService(ContextImpl.java:1418)
03-16 00:53:40.640: E/ActivityThread(875):  at android.app.ContextImpl.bindService(ContextImpl.java:1407)
03-16 00:53:40.640: E/ActivityThread(875):  at android.content.ContextWrapper.bindService(ContextWrapper.java:473)
03-16 00:53:40.640: E/ActivityThread(875):  at com.android.emailcommon.service.ServiceProxy.setTask(ServiceProxy.java:157)
03-16 00:53:40.640: E/ActivityThread(875):  at com.android.emailcommon.service.ServiceProxy.setTask(ServiceProxy.java:145)
03-16 00:53:40.640: E/ActivityThread(875):  at com.android.emailcommon.service.ServiceProxy.test(ServiceProxy.java:191)
03-16 00:53:40.640: E/ActivityThread(875):  at com.android.exchange.ExchangeService$7.run(ExchangeService.java:1850)
03-16 00:53:40.640: E/ActivityThread(875):  at com.android.emailcommon.utility.Utility$2.doInBackground(Utility.java:551)
03-16 00:53:40.640: E/ActivityThread(875):  at com.android.emailcommon.utility.Utility$2.doInBackground(Utility.java:549)
03-16 00:53:40.640: E/ActivityThread(875):  at android.os.AsyncTask$2.call(AsyncTask.java:287)
03-16 00:53:40.640: E/ActivityThread(875):  at java.util.concurrent.FutureTask.run(FutureTask.java:234)
03-16 00:53:40.640: E/ActivityThread(875):  at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1080)
03-16 00:53:40.640: E/ActivityThread(875):  at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:573)
03-16 00:53:40.640: E/ActivityThread(875):  at java.lang.Thread.run(Thread.java:856)
03-16 00:53:40.652: E/StrictMode(875): null
03-16 00:53:40.652: E/StrictMode(875): android.app.ServiceConnectionLeaked: Service com.android.exchange.ExchangeService has leaked ServiceConnection com.android.emailcommon.service.ServiceProxy$ProxyConnection@40d5f200 that was originally bound here
03-16 00:53:40.652: E/StrictMode(875):  at android.app.LoadedApk$ServiceDispatcher.<init>(LoadedApk.java:969)
03-16 00:53:40.652: E/StrictMode(875):  at android.app.LoadedApk.getServiceDispatcher(LoadedApk.java:863)
03-16 00:53:40.652: E/StrictMode(875):  at android.app.ContextImpl.bindService(ContextImpl.java:1418)
03-16 00:53:40.652: E/StrictMode(875):  at android.app.ContextImpl.bindService(ContextImpl.java:1407)
03-16 00:53:40.652: E/StrictMode(875):  at android.content.ContextWrapper.bindService(ContextWrapper.java:473)
03-16 00:53:40.652: E/StrictMode(875):  at com.android.emailcommon.service.ServiceProxy.setTask(ServiceProxy.java:157)
03-16 00:53:40.652: E/StrictMode(875):  at com.android.emailcommon.service.ServiceProxy.setTask(ServiceProxy.java:145)
03-16 00:53:40.652: E/StrictMode(875):  at com.android.emailcommon.service.ServiceProxy.test(ServiceProxy.java:191)
03-16 00:53:40.652: E/StrictMode(875):  at com.android.exchange.ExchangeService$7.run(ExchangeService.java:1850)
03-16 00:53:40.652: E/StrictMode(875):  at com.android.emailcommon.utility.Utility$2.doInBackground(Utility.java:551)
03-16 00:53:40.652: E/StrictMode(875):  at com.android.emailcommon.utility.Utility$2.doInBackground(Utility.java:549)
03-16 00:53:40.652: E/StrictMode(875):  at android.os.AsyncTask$2.call(AsyncTask.java:287)
03-16 00:53:40.652: E/StrictMode(875):  at java.util.concurrent.FutureTask.run(FutureTask.java:234)
03-16 00:53:40.652: E/StrictMode(875):  at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1080)
03-16 00:53:40.652: E/StrictMode(875):  at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:573)
03-16 00:53:40.652: E/StrictMode(875):  at java.lang.Thread.run(Thread.java:856)
03-16 00:53:40.981: E/ActivityThread(875): Service com.android.exchange.ExchangeService has leaked ServiceConnection com.android.emailcommon.service.ServiceProxy$ProxyConnection@40d5f790 that was originally bound here
03-16 00:53:40.981: E/ActivityThread(875): android.app.ServiceConnectionLeaked: Service com.android.exchange.ExchangeService has leaked ServiceConnection com.android.emailcommon.service.ServiceProxy$ProxyConnection@40d5f790 that was originally bound here
03-16 00:53:40.981: E/ActivityThread(875):  at android.app.LoadedApk$ServiceDispatcher.<init>(LoadedApk.java:969)
03-16 00:53:40.981: E/ActivityThread(875):  at android.app.LoadedApk.getServiceDispatcher(LoadedApk.java:863)
03-16 00:53:40.981: E/ActivityThread(875):  at android.app.ContextImpl.bindService(ContextImpl.java:1418)
03-16 00:53:40.981: E/ActivityThread(875):  at android.app.ContextImpl.bindService(ContextImpl.java:1407)
03-16 00:53:40.981: E/ActivityThread(875):  at android.content.ContextWrapper.bindService(ContextWrapper.java:473)
03-16 00:53:40.981: E/ActivityThread(875):  at com.android.emailcommon.service.ServiceProxy.setTask(ServiceProxy.java:157)
03-16 00:53:40.981: E/ActivityThread(875):  at com.android.emailcommon.service.ServiceProxy.setTask(ServiceProxy.java:145)
03-16 00:53:40.981: E/ActivityThread(875):  at com.android.emailcommon.service.AccountServiceProxy.getDeviceId(AccountServiceProxy.java:116)
03-16 00:53:40.981: E/ActivityThread(875):  at com.android.exchange.ExchangeService.getDeviceId(ExchangeService.java:1249)
03-16 00:53:40.981: E/ActivityThread(875):  at com.android.exchange.ExchangeService$7.run(ExchangeService.java:1856)
03-16 00:53:40.981: E/ActivityThread(875):  at com.android.emailcommon.utility.Utility$2.doInBackground(Utility.java:551)
03-16 00:53:40.981: E/ActivityThread(875):  at com.android.emailcommon.utility.Utility$2.doInBackground(Utility.java:549)
03-16 00:53:40.981: E/ActivityThread(875):  at android.os.AsyncTask$2.call(AsyncTask.java:287)
03-16 00:53:40.981: E/ActivityThread(875):  at java.util.concurrent.FutureTask.run(FutureTask.java:234)
03-16 00:53:40.981: E/ActivityThread(875):  at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1080)
03-16 00:53:40.981: E/ActivityThread(875):  at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:573)
03-16 00:53:40.981: E/ActivityThread(875):  at java.lang.Thread.run(Thread.java:856)
03-16 00:53:40.991: E/StrictMode(875): null
03-16 00:53:40.991: E/StrictMode(875): android.app.ServiceConnectionLeaked: Service com.android.exchange.ExchangeService has leaked ServiceConnection com.android.emailcommon.service.ServiceProxy$ProxyConnection@40d5f790 that was originally bound here
03-16 00:53:40.991: E/StrictMode(875):  at android.app.LoadedApk$ServiceDispatcher.<init>(LoadedApk.java:969)
03-16 00:53:40.991: E/StrictMode(875):  at android.app.LoadedApk.getServiceDispatcher(LoadedApk.java:863)
03-16 00:53:40.991: E/StrictMode(875):  at android.app.ContextImpl.bindService(ContextImpl.java:1418)
03-16 00:53:40.991: E/StrictMode(875):  at android.app.ContextImpl.bindService(ContextImpl.java:1407)
03-16 00:53:40.991: E/StrictMode(875):  at android.content.ContextWrapper.bindService(ContextWrapper.java:473)
03-16 00:53:40.991: E/StrictMode(875):  at com.android.emailcommon.service.ServiceProxy.setTask(ServiceProxy.java:157)
03-16 00:53:40.991: E/StrictMode(875):  at com.android.emailcommon.service.ServiceProxy.setTask(ServiceProxy.java:145)
03-16 00:53:40.991: E/StrictMode(875):  at com.android.emailcommon.service.AccountServiceProxy.getDeviceId(AccountServiceProxy.java:116)
03-16 00:53:40.991: E/StrictMode(875):  at com.android.exchange.ExchangeService.getDeviceId(ExchangeService.java:1249)
03-16 00:53:40.991: E/StrictMode(875):  at com.android.exchange.ExchangeService$7.run(ExchangeService.java:1856)
03-16 00:53:40.991: E/StrictMode(875):  at com.android.emailcommon.utility.Utility$2.doInBackground(Utility.java:551)
03-16 00:53:40.991: E/StrictMode(875):  at com.android.emailcommon.utility.Utility$2.doInBackground(Utility.java:549)
03-16 00:53:40.991: E/StrictMode(875):  at android.os.AsyncTask$2.call(AsyncTask.java:287)
03-16 00:53:40.991: E/StrictMode(875):  at java.util.concurrent.FutureTask.run(FutureTask.java:234)
03-16 00:53:40.991: E/StrictMode(875):  at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1080)
03-16 00:53:40.991: E/StrictMode(875):  at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:573)
03-16 00:53:40.991: E/StrictMode(875):  at java.lang.Thread.run(Thread.java:856)
03-16 00:53:46.391: E/SurfaceFlinger(36): ro.sf.lcd_density must be defined as a build property
03-16 00:53:46.651: E/Trace(1958): error opening trace file: No such file or directory (2)
03-16 00:53:49.301: E/SurfaceFlinger(36): ro.sf.lcd_density must be defined as a build property 
```

# php - 使用 str_getcsv 有什么好处？

> ID：15444358
> 
> 赞同：3
> 
> 时间：2013-03-16T00:55:08.693
> 
> 标签：php, string, csv, escaping

如果我有一个字符串`$myString = "apple, banana, cherry"` 并且我想将此数据放入一个数组中，那么我有两个选择。

```
$myArray = explode(", ", $myString) 
```

或者

```
$myArray = str_getcsv($myString) 
```

两者都给出相同的结果。

任何人都可以解释使用其中一种方法相对于另一种方法的优点/缺点吗？

我听说 str_getcsv 更好，根据 php 手册“因为 explode() 不会正确处理字符串的可能封闭部分或转义字符。”

谁能借助一个简单的例子来解释这意味着什么？

谢谢

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2013-03-16T01:07:47.897

[`str_getcsv`](http://php.net/str_getcsv)适用于 CSV，例如：

```
 "column 1", "column 2", and the third part
 123, 567, 89 
```

它解开所有引用的部分，并从两端去除空格。

现在，您的简单化爆炸也可以进行空间修剪。但是，如果其中存在一些差异，它将失败/不太可靠：

```
1,2,3, 4, 5,   6,   7 
```

如果您确定在每一位之后*总是*`explode(", "`有一个逗号和一个空格，那么就足够了。但 str_getcsv 更聪明一点。它还允许在引号中使用分隔符，因为手动提示暗示：

```
"column 1 contains a , comma", "col 2 starts here" 
```

简单的爆炸不会意识到对包含的逗号和空格的特殊处理。

# extjs - 如何在 Sencha Touch 2 中使用 setActiveItem

> ID：15444362
> 
> 赞同：1
> 
> 时间：2013-03-16T00:55:45.870
> 
> 标签：extjs, sencha-touch, sencha-touch-2

我试图让 - 当页面加载时 - 中间选项卡成为活动选项卡，我在互联网上一直在寻找 setactiveitem 但没有得到任何地方

如何使用 setActiveItem？

这是我的 main.js 的代码，带有标签面板和功能。

```
var MainTabPanel = Ext.define('Crystal.view.Main', {
extend: 'Ext.tab.Panel',
fullscreen: true,
xtype:'Maintab',

 launch: function(){ console.log('launch'); 

   MainTabPanel.setActiveItem(2);
 },

requires: [

    'Crystal.view.docCarousel',
    'Crystal.view.Contact',
    'Crystal.view.Calculator',
],

config: {

layout: {
    type: 'card',
    animation: {
        type: 'slide',
        direction: 'left'}
},
    tabBarPosition: 'bottom',

    items: [

           {xtype:'Calculator',
           },

        {
            xtype:'docCarousel',

        },
        {
            xtype:'ContactForm',

        }
    ]
}
 }); 
```

谢谢，

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-16T01:47:34.050

您只需将`activeItem`配置设置为`tabpanel`，`1`因为您只有 3 个选项卡（0 ,1 ,2）。`1`应用程序加载时的活动选项卡也是如此。

```
var MainTabPanel = Ext.define('Crystal.view.Main', {
    extend: 'Ext.tab.Panel',
    fullscreen: true,
    xtype:'Maintab',
    ...
    config: {
        ...,
        activeItem: 1,
        ...
    },
    ...
}); 
```

# python - 如何为 ImageGrid 中的每个子图添加标题，并为整个图形添加单个 xlabel/ylabel？

> ID：15444368
> 
> 赞同：4
> 
> 时间：2013-03-16T00:57:42.400
> 
> 标签：python, matplotlib

我使用以下图创建了`mpl_toolkits.axes_grid1`：

![在此处输入图像描述](../Images/41bc77608fff429419da19fe8fb121d3.png)

但是，出于某种原因，我的子情节标题没有出现。我该如何解决这个问题？

**代码：**

```
# import 
from mpl_tookits.axes_grid1 import ImageGrid
from matplotlib.pyplot import *

fig = figure(figsize=(20, 12), dpi=300)
grid = ImageGrid(fig, 111, nrows_ncols=(3, 4), axes_pad=1, aspect=False)
for gridax, (i, sub) in zip(grid, enumerate(eyelink_data)):
    subnum = i + start_with

     # format data
    xdat = sub['x'][(sub['in_trl'] == True) & (sub['x'].notnull()) & (sub['y'].notnull())]
    ydat = sub['y'][(sub['in_trl'] == True) & (sub['x'].notnull()) & (sub['y'].notnull())]

    # plot
    gridax.hist2d(xdat, ydat, bins=[np.linspace(-.005, .005, num=1000), np.linspace(-.005, .005, num=1000)])
    gridax.plot(0, 0, 'ro')  # origin

    title('Subject {0} in-Trial Gaze'.format(subnum))
    xlabel('Horizontal Offset\n(degrees visual angle)')
    ylabel('Vertical Offset\n(degrees visual angle)')

show() 
```

PS：享受[网格错觉](http://en.wikipedia.org/wiki/Grid_illusion)！

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-16T02:18:25.740

如果您想要每个子图的标题，您可以使用该轴的标题命令。你在哪里：

```
title('Subject {0} in-Trial Gaze'.format(subnum)) 
```

写吧：

```
gridax.set_title('Subject {0} in-Trial Gaze'.format(subnum)) 
```

* * *

如果你想要一个大的`xlabel`and `ylabel`，你必须`axes`在你的网格周围制作一个大的对象。我不是专家，但这应该会有所帮助：

[带有一个轴标签的多个子图](http://www.scipy.org/Cookbook/Matplotlib/Multiple_Subplots_with_One_Axis_Label)

# datepicker - 如何在 sencha touch 2 的 datepickerfield 中设置 from 'day' 和 'month'

> ID：15444369
> 
> 赞同：3
> 
> 时间：2013-03-16T00:57:46.430
> 
> 标签：datepicker, sencha-touch-2, picker

我正在尝试做一些我认为应该足够简单的事情。我`datepickerfield`在 ST2.1 中使用 a 并尝试设置开始日期。我知道我可以这样设置年份：

```
{
    xtype: 'datepickerfield',
    picker: {
        yearFrom: newDate().getFullYear(),
        yearTo: 1930
    }
} 
```

但我也希望能够设置开始日期和月份。这可能吗？以上产生的结果类似于“2013 年 1 月 1 日”，这不是我想要的。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-16T19:55:36.373

如果您只想设置选择器的初始日期，那么您只需要`value`选择器的配置属性。

```
{
  xtype: 'datepickerfield',
  value: (new Date()), // the value in the actual input (will also be in the picker UI)
  picker: {
    value: (new Date()), // use this if you DON'T want/have a value in the actual input
    yearFrom: (new Date()).getFullYear(),
    yearTo: 1930
  }
} 
```

[在文档](http://docs.sencha.com/touch/2-1/#!/api/Ext.field.DatePicker)中阅读更多内容（尤其是“值”和“选择器”配置选项）。这里有一个[Sencha Fiddle](http://new.senchafiddle.com/#/TNrZu/)演示用法。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-03-16T03:50:09.783

您可以创建`monthFrom`,`monthTo`和`dayFrom`,`dayTo`配置。但为此，您需要扩展[Ext.picker.Date](http://docs.sencha.com/touch/2-1/source/Date2.html#Ext-picker-Date)。为这些字段创建适当的配置并更改`createSlots`方法以限制月份和日期值。

作为对您的评论的回应，您可以`slotOrder`在选择器中使用配置重新排序插槽。像 -

`slotOrder:['day', 'month', 'year']`

扩展`Ext.picker.Date`后，您可以根据需要修改某些插槽，然后可以在第一个插槽中使用全天名称。

# c++ - 从霍夫曼树创建字符映射及其相关的位串

> ID：15444370
> 
> 赞同：0
> 
> 时间：2013-03-16T00:58:03.480
> 
> 标签：c++, map, tree, tree-traversal, huffman-code

我已经对树进行了编码，现在我正在尝试遍历树并为每个字符创建一个位串并将这些值放入映射中。

到目前为止，这是我的代码：

```
map<char, string> build_encoding_map(freq_info*& huffman_root) 
{
    map<char, string> ret;
    string char_code;
    char symbol;

    if (huffman_root->left == NULL && huffman_root->right == NULL)
    {
        cout << "Your tree is empty." << endl;
    }
    else
    {
        while (huffman_root->is_leaf = false)
        {
            if (huffman_root->left != NULL)
            {
                huffman_root = huffman_root->left;
                char_code += ".";
                //add a bit to the bit string
            }
            else if (huffman_root->right != NULL)
            {
                huffman_root = huffman_root->right;
                char_code += "^";
        }
        symbol = huffman_root->symbol;
        ret[symbol] = char_code;
        huffman_root->is_leaf = false; //So that I don't have repeat characters in the map

        //ret.insert(std::make_pair(symbol, char_code));
        //Need to delete the leaf node  
    }
    //traverse the tree until is_leaf is true
    //add turns taken (left"." or right"^") to the string
    //insert the character in the found leaf and it's associated string to the map  
    }
    return ret;
} 
```

# linux - 驱动程序中的inode参数打开

> ID：15444373
> 
> 赞同：1
> 
> 时间：2013-03-16T00:58:44.680
> 
> 标签：linux, unix, kernel, linux-device-driver

今天，我开始思考linux中“open”调用中传递给设备驱动程序的inode结构。我以前虔诚地将“inode->i_rdev”用于主要和次要数字。但我从未将它用于任何其他目的。（很可能我从来没有超过我的玩具司机。）

所以，我想知道是否有人可以在设备驱动程序中解释这个结构的任何其他用法。（它是否作为遗产的一部分保留？）

谢谢

PS：这个结构与文件系统维护的inode结构有什么关系吗？这有点令人困惑。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-16T03:49:51.210

dev_t 字只是相关设备的主要/次要编号。我知道它没有其他目的。这就像问“tv_usec 在 struct timespec 中还有什么其他用途？”。字段存储它们旨在存储的内容。

# java - 如何在 Fragment 和适配器之间创建接口？

> ID：15444375
> 
> 赞同：63
> 
> 时间：2013-03-16T00:59:14.613
> 
> 标签：java, android, interface

我有片段`ListView`，比如说`MyListFragment`和自定义`CursorAdapter`。我`onClickListener`在此适配器中设置列表行中的按钮。

```
public class MyListAdapter extends CursorAdapter {

    public interface AdapterInterface {
        public void buttonPressed();
    }

    ...

    @Override
    public void bindView(final View view, final Context context, final Cursor cursor) {
        ViewHolder holder = (ViewHolder) view.getTag();

        ...

        holder.button.setOnClickListener(new OnClickListener() {
            @Override
            public void onClick(View v) {
                // some action
                // need to notify MyListFragment
            }
        });
    }
}

public MyListFragment extends Fragment implements AdapterInterface {

    @Override
    public void buttonPressed() {
        // some action
    }
} 
```

按下按钮时我需要通知片段。如何调用这个接口？

请帮忙。

* * *

## 回答 #1

> 赞同：85
> 
> 时间：2013-03-16T01:03:53.190

创建一个新的构造函数和一个实例变量：

```
AdapterInterface buttonListener;

public MyListAdapter (Context context, Cursor c, int flags, AdapterInterface buttonListener)
{
  super(context,c,flags);
  this.buttonListener = buttonListener;
} 
```

制作适配器时，实例变量将被赋予正确的引用以保持。

从点击调用片段：

```
public void onClick(View v) {
   buttonListener.buttonPressed();
} 
```

制作时`Adapter`，您还必须将片段传递给适配器。例如

```
MyListAdapter adapter = new MyListAdapter (getActivity(), myCursor, myFlags, this); 
```

因为`this`将引用您的片段，现在是`AdapterInterface`.

请记住，在 Fragment 的方向发生变化时，它很可能会被重新创建。如果您的适配器没有重新创建，它可能会保留对不存在对象的引用，从而导致错误。

* * *

## 回答 #2

> 赞同：71
> 
> 时间：2014-12-31T05:48:39.837

# 使用事件总线：

例子：

[https://github.com/kaushikgopal/RxJava-Android-Samples/tree/master/app/src/main/java/com/morihacky/android/rxjava/rxbus](https://github.com/kaushikgopal/RxJava-Android-Samples/tree/master/app/src/main/java/com/morihacky/android/rxjava/rxbus)

或者

[https://github.com/greenrobot/EventBus](https://github.com/greenrobot/EventBus)

# 使用接口：

我理解当前的答案，但需要一个更清楚的例子。这是我与`Adapter`(RecyclerView.Adapter) 和`Fragment`.

**创建`Callback`接口：**

```
public interface AdapterCallback {
    void onMethodCallback();
} 
```

**传入`Callback`/ `Fragment`：**

这将实现`interface`我们在`Adapter`. 在此示例中，当用户单击`RecyclerView`.

**在你的`Fragment`：**

```
public class MyFragment extends Fragment implements AdapterCallback {

    private MyAdapter mMyAdapter;

    @Override
    public void onMethodCallback() {
       // do something
    }

    @Override
    public void onCreate(final Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);

        this.mMyAdapter = new MyAdapter(this); // this class implements callback
    }
} 
```

**`Callback`在您的适配器中使用：**

在 中`Fragment`，我们启动了我们的`Adapter`并将其作为参数传递给构造函数。这将启动我们`interface`的回调方法。你可以看到我们使用我们的回调方法来处理用户点击。

```
public class MyAdapter extends RecyclerView.Adapter<MyAdapter.ViewHolder> {

    private AdapterCallback mAdapterCallback;

    public MyAdapter(AdapterCallback callback) {
        this.mAdapterCallback = callback;
    }

    @Override
    public void onBindViewHolder(final MyAdapter.ViewHolder viewHolder, final int i) {
        // simple example, call interface here
        // not complete
        viewHolder.itemView.setOnClickListener(new OnClickListener() {
            @Override
            public void onClick(View v) {
                mAdapterCallback.onMethodCallback();
            }
        });
    }
} 
```

**或`Fragment`在您的适配器中使用：**

```
public class MyAdapter extends RecyclerView.Adapter<MyAdapter.ViewHolder> {

    private AdapterCallback mAdapterCallback;

    public MyAdapter(Fragment fragment) {
        try {
            this.mAdapterCallback = ((AdapterCallback) fragment);
        } catch (ClassCastException e) {
            throw new ClassCastException("Fragment must implement AdapterCallback.");
        }
    }

    @Override
    public void onBindViewHolder(final MyAdapter.ViewHolder viewHolder, final int i) {
        // simple example, call interface here
        // not complete
        viewHolder.itemView.setOnClickListener(new OnClickListener() {
            @Override
            public void onClick(View v) {
                try {
                    mAdapterCallback.onMethodCallback();
                } catch (ClassCastException exception) {
                   // do something
                }
            }
        });
    }
} 
```

* * *

## 回答 #3

> 赞同：37
> 
> 时间：2016-05-31T00:24:23.877

按照以下 2 个步骤接收来自`Adapter`in的回调`Fragment (or Activity)`

**第一：**在你的`Adapter`

```
public class ListAdapter extends RecyclerView.Adapter < RecyclerListAdapter.ItemViewHolder > {
    ...
    private ListAdapterListener mListener;

    public interface ListAdapterListener { // create an interface
        void onClickAtOKButton(int position); // create callback function
    }

    public RecyclerListAdapter(Context mContext, ArrayList < Items > listItems, ListAdapterListener mListener) { // add the interface to your adapter constructor
        ...
        this.mListener = mListener; // receive mListener from Fragment (or Activity)
    }
    ...
    public void onBindViewHolder(final ItemViewHolder holder, final int position) {

        holder.btnOK.setOnClickListener(new View.OnClickListener() {
            @Override
            public void onClick(View v) {
                // use callback function in the place you want
                mListener.onClickAtOKButton(position);
            }
        });
        ...
    }
    ...
} 
```

**第二：**在你的`Fragment (or Activity)`，有两种实现回调方法的方法

*方式一*

```
 public MyListFragment extends Fragment {
     ...
     public void onViewCreated(View view, @Nullable Bundle savedInstanceState) {
         ...
         ListAdapter adapter = new ListAdapter(getActivity(), listItems, new ListAdapter.ListAdapterListener() {
             @Override
             public void onClickAtOKButton(int position) {
                 Toast.makeText(getActivity(), "click ok button at" + position, Toast.LENGTH_SHORT).show();
             }
         });
         ...
     }
 } 
```

*方式二*

```
public MyListFragment extends Fragment implements ListAdapter.ListAdapterListener {
     ...
     public void onViewCreated(View view, @Nullable Bundle savedInstanceState) {
        ListAdapter  adapter = new ListAdapter (getActivity(), listItems, this);
        ...   
    }

    @Override
    public void onClickAtOKButton(int position) {  
        Toast.makeText(getActivity(), "click ok button at" + position, Toast.LENGTH_SHORT).show();     
    }          
} 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-03-16T01:05:00.350

这与活动和片段的通信方式非常相似。在适配器的构造函数中，传递片段的引用，将其转换为您的界面，然后在 onClick 方法上调用 yourReference.buttonPressed()。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2018-03-30T04:58:12.780

NPE 的解决方案是首先像这样在您的 Fragment 中制作承包商

```
public MyFragment MyFragment(){
        return this;
    } 
```

然后初始化你的监听器就是这样的适配器

```
Lisener lisener = new MyFragment(); 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2018-04-27T12:27:52.093

制作这样的构造函数：

```
 public MyAdapter(Activity activity,AlertMessageBoxOk alertMessageBoxOk) {

  this.mActivity = activity;

  mAlertMessageBoxOk = alertMessageBoxOk;

} 
```

从适配器调用接口使用任何事件

```
mAlertMessageBoxOk.onOkClick(5); 
```

之后像这样为您的片段实现 AlertMessageBoxOk 接口，

```
class MyFragment extends Fragment implements AlertMessageBoxOk {

@Override
public void onOkClick(int resultCode) {

  if(resultCode==5){

  enter code here 

      }
    } 
 } 
```

# c - 什么是 C 中的工人？

> ID：15444385
> 
> 赞同：0
> 
> 时间：2013-03-16T01:00:22.167
> 
> 标签：c, function, function-pointers, worker

我正在查看`ss`命令代码，并且看到了一个似乎将函数作为参数传递给另一个函数的函数。但我认为这样做的方法是声明一个指向函数的指针。在代码中，他们执行以下操作：

```
generic_record_read(fp, tcp_show_line, f, AF_INET6). 
```

该函数的原型是：

```
static int generic_record_read(FILE *fp,
               int (*worker)(char*, const struct filter *, int),
               const struct filter *f, int fam); 
```

我认为函数作为参数传递给`generic_record_read`is `tcp_show_line`，原型是：

```
static int tcp_show_line(char *line, const struct filter *f, int family) 
```

我不明白将参数声明为的`tcp_show_line`方式`generic_record_read``int (*worker)(char*, const struct filter *, int)`

类型 ( `char*, const struct filter *, int`) 与 的参数相对应，`tcp_show_line`但与`int (*worker)`前面的参数相对应。

似乎这是一种将函数作为参数传递的方式，因为在 的实现中`generic_record_read`，*工作*就像是函数一样使用`tcp_show_line`，但我从未见过这样的事情：

```
static int generic_record_read(FILE *fp,
               int (*worker)(char*, const struct filter *, int),
               const struct filter *f, int fam)
{
//....

    if (worker(line, f, fam) < 0)
        return 0;
//.....
} 
```

我错了吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-16T01:04:22.893

```
int (*worker)(char*, const struct filter *, int) 
```

Says`worker`是一个指向函数的指针，该函数接受参数列表`(char *, const struct filter *, int)`并返回一个`int`. 那是你的问题吗？

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-16T01:08:14.513

正如您所料，*worker*是一个函数指针，当被调用时，它接受以下参数：`char*, const struct filter *, int`. 如果您以前没有见过这些，那么您显然没有使用过[qsort](http://pubs.opengroup.org/onlinepubs/009695399/functions/qsort.html)或[bsearch](http://pubs.opengroup.org/onlinepubs/009696799/functions/bsearch.html)，它们是用于排序和搜索的标准 C 函数。这种抽象在 C 语言中非常有用。

# arrays - 我想将两个二维数组组合成带点的数组

> ID：15444390
> 
> 赞同：0
> 
> 时间：2013-03-16T01:01:39.880
> 
> 标签：arrays, 2d

我想将两个二维数组组合成一个`Nx2`数组。比如`a=[1,2,3] b=[4,5,6]`，我想做`c=[(1,4),(2,5),(3,6)]`。我想用python来做，但我不知道我应该使用什么命令。任何提示？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-16T01:10:57.857

你可以用任何你想要的语言来做，算法可能是一样的。你想做的是

*   创建矩阵 c
*   通读每个数组
*   抓住每个索引 i 处的点
*   将 a[i] 放入矩阵第 i 行第 0 列
*   将 b[i] 放入矩阵第 i 行第 1 列

这是一些伪代码来说明

```
int [][] c;

for (int i = 0; i < a.length; i++) {
    c[i][0] = a[i];
    c[i][1] = b[i]; 
} 
```

# java - 并发修改异常？

> ID：15444391
> 
> 赞同：0
> 
> 时间：2013-03-16T01:01:52.853
> 
> 标签：java

我正在尝试按开始时间排序时间跨度列表（表示为具有开始时间和结束时间的 Time[] 数组）。我正在尝试使用以下嵌套循环来执行此操作：

```
 for (Time[] span : workingList){
            Time[] compareTo = workingList.get(0);

                for (Time[] inSpan : workingList){
                    if (inSpan[0].before(compareTo[0])){
                    compareTo = inSpan;
                    }
                }
            workingList.remove(compareTo);
            toReturn.add(compareTo);
        }

    } 
```

但它`java.util.ConcurrentModificationException`在线`for (Time[] span : workingList)`上（最上面的那个）扔了一个。我以前从未见过这个异常，有人可以向我解释它的含义和原因。

我也愿意为此提供更好的算法建议。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-03-16T01:04:48.073

```
workingList.remove(compareTo); 
```

您在对其进行迭代时正在修改一个集合。

你应该使用类似的东西：

```
ListIterator<Time[]> it = workingList.listIterator();

while (it.hasNext()) {
  Time[] time = it.next();
  ..
  it.remove();
} 
```

也有不使用列表迭代器的方法，但这似乎更正确。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-16T01:17:04.140

我的建议是您`Collections.sort()`用于订购清单。它为您进行排序，并使您尝试做的事情更具可读性。您需要`Comparator`在调用该方法时指定自己的 - 例如：

```
 Collections.sort(workingList,new Comparator<Time[]>() {
        @Override
        public int compare(Time[] time1, Time[] time2) {
            return time1[0].before(time2[0]);
        }
    }); 
```

这会将工作列表排序为您的规格。

# assembly - "mov eax, dword ptr fs:loc_12+6" 哪个值已分配给 eax？

> ID：15444409
> 
> 赞同：-1
> 
> 时间：2013-03-16T01:03:51.447
> 
> 标签：assembly

我想知道执行以下代码块时已为 eax 分配了哪个值？

```
mov     eax, dword ptr fs:loc_12+6 
```

必要时转储数据：

```
00000012  0F B6 83 1B 47 40 00 0B  C0 75 0A B8 F8 FF FF FF 
```

**编辑：**处理器是 x86，操作系统是 Windows

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-16T01:14:35.193

您的反汇编程序为 loc_12 分配了一个我们不知道的值，您并没有说这是什么平台，但在 Windows 上，与 fs: 寄存器有关的任何事情通常都与线程信息块（[TIB](http://en.wikipedia.org/wiki/Win32_Thread_Information_Block)）有关。

最有可能的是，它是从异常处理程序链中读取或读取堆栈限制或线程 ID - 指令中使用的实际偏移量应该让您在我提到的页面上找到。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-16T11:50:19.500

在不知道的情况下，不可能`eax`在这条指令之后说出 的值：

*   `fs`指向的段的段基地址
*   指令中编码的偏移量，该`loc_12+6`常量的值
*   地址的内存中有什么`segment base address + offset encoded in the instruction`

# c++ - C++ Builder 2009 - 无法聚焦已禁用或不可见的窗口

> ID：15444418
> 
> 赞同：2
> 
> 时间：2013-03-16T01:04:42.097
> 
> 标签：c++, c++builder

我一直在**重构**一个旧项目。我发现当老程序员尝试使用时 `SetFocus()`，`TWinControls`他们用空的 catch 块将它们包围在 try/catch 中。从而吞下异常。

如果启用了控件，程序的默认行为是设置焦点。为了做到这一点，我创建了一个可以传递给的函数`TWinControl`：

```
void SafeSetFocus(TWinControl *Control)
{
    if(Control->Enabled && Control->Visible)
    {
        Control->SetFocus();
    }
} 
```

此代码适用于大多数程序，但是我发现在一个区域中我仍然得到`Cannot focus a disabled or invisible window`.

我认为这个问题可能与父母有关，所以我尝试了以下调整：

```
void SafeSetFocus(TWinControl *Control)
{
    if(Control->Enabled && Control->Visible &&
            Control->Parent->Enabled && Control->Parent->Visible)
    {
        Control->SetFocus();
    }
} 
```

这种改变并没有解决问题。正因为如此，我意识到窗口不一定是父窗口。所以我的问题归结为：

有没有办法确定窗口`TWinControl`是什么并检查它是否可见？这假设异常是准确的......否则，如果您知道问题所在，请分享您的知识:)

* * *

**其他故障排除说明，第 1 部分：**

我试图通过以下代码确定 ParentWindow 的类名：

```
String parentWindowClassName = ((TObject *)(Control->ParentWindow))->ClassName();
MessageDlg("parentWindowClassName: " + parentWindowClassName, mtInformation, TMsgDlgButtons() << mbOK, 0); 
```

当我运行它时，第一行代码给出了访问冲突......关于尝试确定信息的不同方式的任何想法？

**其他故障排除说明，第 2 部分：**

`CanFocus()`只是控制不起作用。`CanFocus()`对于控件和父级不起作用，请参见屏幕截图。

![在此处输入图像描述](../Images/3fbc4aa098721087ecfa9e2865a09583.png)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-16T04:33:21.590

有一个更简单的解决方案 -`TWinControl::CanFocus()`在调用之前调用该方法`TWinControl::SetFocus()`：

```
void SafeSetFocus(TWinControl *Control)
{
    if (Control->CanFocus())
        Control->SetFocus();
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-16T02:43:08.957

感谢@KenWhite 提出有问题的建议（[C++ Builder 2009 - 如何确定控件的窗口是否可见](https://stackoverflow.com/questions/15444503/c-builder-2009-how-to-determine-if-controls-window-is-visible/15444976#15444976)）

他在那个问题上的建议让我找到了答案。以下是其他人可能感兴趣的代码：

```
#include "winuser.h"

...

void SafeSetFocus(TWinControl *Control)
{
    THandle* hWnd = (THandle *)(Control->ParentWindow);
    bool parentIsVisible = IsWindowVisible(hWnd);

    if(Control->Enabled && Control->Visible && parentIsVisible)
    {
        Control->SetFocus();
    }
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2018-03-22T21:49:07.393

改进[James Oravec](https://stackoverflow.com/users/1190934/james-oravec)的[回答](https://stackoverflow.com/a/15444993/563532)。我只是改变了：

```
bool parentIsVisible = IsWindowVisible(hWnd); 
```

到：

```
bool parentIsVisible = IsWindowVisible((HWND__*)hWnd); 
```

# mongodb - 在聚合之前匹配一组唯一字段的最新文档

> ID：15444422
> 
> 赞同：3
> 
> 时间：2013-03-16T01:05:09.227
> 
> 标签：mongodb, aggregation-framework

假设我有以下文档结构：

```
> db.logs.find()
{
'id': ObjectId("50ad8d451d41c8fc58000003")
'name': 'Sample Log 1',
'uploaded_at: ISODate("2013-03-14T01:00:00+01:00"),
'case_id: '50ad8d451d41c8fc58000099',
'tag_doc': {
  'group_x: ['TAG-1','TAG-2'],
  'group_y': ['XYZ']
}
},
{
'id': ObjectId("50ad8d451d41c8fc58000004")
'name': 'Sample Log 2',
'uploaded_at: ISODate("2013-03-15T01:00:00+01:00"),
'case_id: '50ad8d451d41c8fc58000099'
'tag_doc': {
  'group_x: ['TAG-1'],
  'group_y': ['XYZ']
}
}

> db.cases.findOne()
{
'id': ObjectId("50ad8d451d41c8fc58000099")
'name': 'Sample Case 1'
} 
```

有没有一种方法可以执行`$match`聚合框架，该框架将只检索和`Log`的每个唯一组合的所有最新信息？我确信这可以通过多个管道来完成，但我想尽可能地立即限制将通过操作员通过管道的文档数量。我正在考虑类似运算符的东西，除了它用于.`case_id``group_x``$group``$match``$max``$match`

很感谢任何形式的帮助。

**编辑：**

到目前为止，我可以提出以下几点：

```
db.logs.aggregate(
  {$match: {...}}, // some match filters here
  {$project: {tag:'$tag_doc.group_x', case:'$case_id', latest:{uploaded_at:1}}},
  {$unwind: '$tag'},
  {$group: {_id:{tag:'$tag', case:'$case'}, latest: {$max:'$latest'}}},
  {$group: {_id:'$_id.tag', total:{$sum:1}}}
) 
```

正如我所提到的，我想要的可以通过多个`$group`管道来完成，但是在处理大量文档时这被证明是昂贵的。这就是为什么，我想尽早限制文件。

**编辑：**

我还没有想出一个好的解决方案，所以我在考虑文档结构本身是否没有针对我的用例进行优化。我是否必须更新字段以支持我想要实现的目标？建议非常感谢。

**编辑：**

我实际上正在寻找 mongodb 中的实现，类似于[我如何在 SQL 中的另一列中选择具有 MAX(列值)、DISTINCT 的行？](https://stackoverflow.com/questions/612231/how-can-i-select-rows-with-maxcolumn-value-distinct-by-another-column-in-sql)除了它涉及两个不同的字段值。此外，该`$match`操作至关重要，因为它使结果集动态化，过滤器范围为匹配标签或日期范围内。

**编辑：**

由于我的用例的复杂性，我尝试使用一个简单的类比，但这被证明是令人困惑的。以上是实际用例的简化形式。对我造成的混乱感到抱歉。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-18T23:10:46.553

I have done something similar. But it's not possible with match, but only with one group pipeline. The trick is do use multi key with correct sorting:

```
 { user_id: 1, address: "xyz", date_sent: ISODate("2013-03-14T01:00:00+01:00"), message: "test" }, { user_id: 1, address: "xyz2", date_sent: ISODate("2013-03-14T01:00:00+01:00"), message: "test" } 
```

if i wan't to group on user_id & address and i wan't the message with the latest date we need to create a key like this:

```
{ user_id:1, address:1, date_sent:-1 } 
```

then you are able to perform aggregate without sort, which is much faster and will work on shards with replicas. if you don't have a key with correct sort order you can add a sort pipeline, but then you can't use it with shards, because all that is transferred to mongos and grouping is done their (also will get memory limit problems)

```
 db.user_messages.aggregate(
 { $match: { user_id:1 } },
 { $group: {
     _id: "$address",
     count: { $sum : 1 },
     date_sent: { $max : "$date_sent" },
     message: { $first : "$message" },
 } }
); 
```

It's not documented that it should work like this - but it does. We use it on production system.

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-27T08:08:36.220

我会使用另一个集合来动态“创建”搜索结果 - 随着新帖子的发布 - 每次发布新博客帖子时都会在这个新集合中更新一个文档。

作者/标签的每个新组合都作为新文档添加到此集合中，而具有现有组合的新帖子仅使用新博客帖子的内容（或对象 ID 引用）更新现有文档。

例子：

```
db.searchResult.update(       
... {'author_id':'50ad8d451d41c8fc58000099', 'tag_doc.tags': ["TAG-1", "TAG-2" ]},
... { $set: { 'Referenceid':ObjectId("5152bc79e8bf3bc79a5a1dd8")}},  // or embed your blog post here
... {upsert:true}
) 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-09-01T21:42:04.923

干得好：

```
db.logs.aggregate(
  {"$sort"     : { "uploaded_at" : -1 } },
  {"$match"    : { ... } }, 
  {"$unwind"   : "$tag_doc.group_x" },
  {"$group"    : { "_id" : { "case" :'$case_id', tag:'$tag_doc.group_x'}, 
                   "latest" : { "$first" : "$uploaded_at"},
                   "Name" : { "$first" : "$Name" },
                   "tag_doc" : { "$first" : "$tag_doc"}
                 }
  }
); 
```

当您可以 $sort 并采取 $first 时，您希望避免 $max ，特别是如果您在 upload_at 上有一个索引，这将允许您避免任何内存排序并显着降低管道处理成本。显然，如果您有其他“数据”字段，您可以将它们与（或代替）“名称”和“tag_doc”一起添加。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-26T08:02:43.343

嗯，没有什么好的方法可以做到这一点，即您只需要挑选每个作者中最新的，而是需要挑选所有文档，排序，然后按作者分组：

```
db.posts.aggregate([
    {$sort: {created_at:-1}},
    {$group: {_id: '$author_id', tags: {$first: '$tag_doc.tags'}}},
    {$unwind: '$tags'},
    {$group: {_id: {author: '$_id', tag: '$tags'}}}
]); 
```

正如您所说，这不是最佳选择，但这就是我想出的全部。

老实说，如果您需要经常执行此查询，实际上可能会更好地预先聚合另一个集合，该集合已经包含您需要的信息，形式如下：

```
{
    _id: {},
    author: {},
    tag: 'something',
    created_at: ISODate(),
    post_id: {}
} 
```

每次创建新帖子时，您都会在这个独特的集合中查找所有文档，这些文档可以满足您对所需内容的查询，`$in`然后更新/更新该集合。这将是更优化的。`created_at``post_id`

# iphone - 我可以在窗口机器上运行 Xcode

> ID：15444425
> 
> 赞同：0
> 
> 时间：2013-03-16T01:05:25.193
> 
> 标签：iphone, xcode, windows, macos

我是 iPhone 编程的新手。我可以在 Windows 系统上运行 Xcode 吗？是否可以在 windows pc 上构建 iPhone 应用程序？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-16T01:07:47.863

不可以。Xcode 只能在 Mac OS X 上运行。您需要购买 Mac - 以及最近的 Mac，因为最新版本的 Xcode 现在只能在 10.8 上运行。

您可以使用 Monotouch 和 Unity 等平台在 Windows 上进行开发，但您仍然需要 Mac 来进行模拟/测试和部署。

# sql - 选择组中的最小值

> ID：15444429
> 
> 赞同：4
> 
> 时间：2013-03-16T01:06:14.117
> 
> 标签：sql, sql-server, sql-server-2008, sql-server-2012

我有一张桌子

```
ID,  name, pay1, pay2
 1     a,    3,    2
 2     b,   12,    4
 3     b,    4,    8
 4     c,    8,    7
 5     c,    5,    2
 6     a,    7,    1 
```

我想选择每个名字的 pay1 + pay2 最小的行。所以，我想得到

```
 ID,  name, pay1, pay2
 1     a,    3,    2
 3     b,    4,    8
 5     c,    5,    2 
```

知道如何在 SQL Server 中做到这一点吗？谢谢

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-16T01:23:24.723

使用排名函数：

```
with minpay as
(
  select *
    , payrank = row_number() over (partition by name order by pay1 + pay2, ID)
  from pay
)
select ID
  , name
  , pay1
  , pay2
from minpay
where payrank = 1
order by name 
```

[SQL Fiddle 与演示](http://sqlfiddle.com/#!3/3b522/4)。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-03-16T01:27:24.827

OP doesn't mention how possible ties are to be treated, but:

```
select t1.* 
from table1 t1 join
(select id, sum(pay1 + pay2) as sumpay 
from table1  
group by id) s on t1.id = s.id
join 
(select name, min(pay1 + pay2) as sumpay 
from table1 
group by name) t on t.sumpay = s.sumpay 
```

I posted this and then saw Ian's answer which is clearer.

[SQLFiddle with Demo.](http://www.sqlfiddle.com/#!3/66299/2)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-16T01:37:30.067

这是另一种选择。

这将显示最小值的平局。正如@MitchWheat 指出的那样，问题并没有具体说明如何处理这些问题。

```
SELECT a.Id, a.Name, a.Pay1, a.Pay2
FROM [table] a INNER JOIN (
    SELECT Name, MIN(Pay1 + Pay2) as MinPay
    FROM [table]
    GROUP BY Name
) b ON a.Name = b.Name
    AND a.Pay1 + a.Pay2 = b.MinPay 
```

# iphone - 隐藏在视图中的条形图的 iPhone 5 布局

> ID：15444431
> 
> 赞同：0
> 
> 时间：2013-03-16T01:06:30.453
> 
> 标签：iphone, ios, objective-c, xcode, ipad

我想知道是否有人可以提供帮助，我正在尝试调整我的应用程序以使其能够识别 iPhone 5 的全屏，现在它在其他屏幕上一切正常，但是我的初始屏幕出现问题，因为我褪色顶部和底部栏看不见，顶部可以正常工作，但底部不能，任何人都可以提供代码帮助我让它在 iPhone 5 上工作吗？就目前而言，iPhone 5 屏幕上的条形图太高，并且不会淡出视野......

```
- (void)barwillGo
{

     if (UI_USER_INTERFACE_IDIOM() == UIUserInterfaceIdiomPhone) {
    [UIView animateWithDuration:0.5f
                          delay:0.0f
                        options:UIViewAnimationCurveEaseIn
                     animations:^{

                         CGRect top = CGRectMake(0, -51, 320, 50);

                         if (CGRectEqualToRect(topBar.frame,top))
                         {

                             [topBar setFrame:CGRectMake(0, 0, 320, 50)];
                             [bottomBar setFrame:CGRectMake(0, 430, 320, 50)];

                             }

                         else {
                             [topBar setFrame:CGRectMake(0, -51, 320, 50)];
                             [bottomBar setFrame:CGRectMake(0, 481, 320, 50)];
                         }

                     }
                     completion:nil];
     }
     else {
         [UIView animateWithDuration:0.5f
                               delay:0.0f
                             options:UIViewAnimationCurveEaseIn
                          animations:^{

                              CGRect top = CGRectMake(0, -51, 768, 50);

                              if (CGRectEqualToRect(topBar.frame,top))
                              {

                                  [topBar setFrame:CGRectMake(0, 0, 768, 50)];
                                  [bottomBar setFrame:CGRectMake(0, 974, 768, 50)];

                              }

                              else {
                                  [topBar setFrame:CGRectMake(0, -51, 768, 50)];
                                  [bottomBar setFrame:CGRectMake(0, 1025, 768, 50)];
                              }

                          }
                          completion:nil];
     }
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-16T04:05:30.280

您将 bottomBar 的 CGRect 值硬编码为 3.5 英寸的屏幕尺寸。

在你的第一个动画块中尝试这样的事情：

```
CGRect bounds = topView.superview.bounds;
CGFloat topRectY, bottomRectY;
if(topBar.frame.origin.y == -50){
   topRectY = 0;
   bottomRectY = bounds.size.height - 50;
} else {
   topRectY = -50;
   bottomRectY = bounds.size.height;
}
topBar.frame = CGRectMake(0, topRectY, bounds.size.width, 50);
bottomBar.frame = CGRectMake(0, bottomRectY, bounds.size.width, 50); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-16T06:54:40.523

```
 CGFloat screenHeight = [UIScreen mainScreen].bounds.size.height;

    if (UI_USER_INTERFACE_IDIOM() == UIUserInterfaceIdiomPhone) {
        [UIView animateWithDuration:0.5f
                              delay:0.0f
                            options:UIViewAnimationCurveEaseIn
                         animations:^{

                             CGRect top = CGRectMake(0, -51, 320, 50);

                             if (CGRectEqualToRect(topBar.frame,top))
                             {

                                 [topBar setFrame:CGRectMake(0, 0, 320, 50)];
                                 [bottomBar setFrame:CGRectMake(0, 430, 320, 50)];

                             }

                             else {
//check device iphone5 or not
                                 if (screenHeight != 568.0f) {
                                     [topBar setFrame:CGRectMake(0, -51, 320, 50)];
                                     [bottomBar setFrame:CGRectMake(0, 481, 320, 50)];
                                 }
                                 else
                                 {
                                     [topBar setFrame:CGRectMake(0, -51, 320, 50)];
                                     [bottomBar setFrame:CGRectMake(0, 569, 320, 50)];
                                 }
                             }

                         }
                         completion:nil];
    } 
```

# javascript - 这个函数的目的是什么？

> ID：15444434
> 
> 赞同：0
> 
> 时间：2013-03-16T01:06:48.997
> 
> 标签：javascript

这是功能：

```
var M = [];
function haveComponents () {
        var a = 0;
        for (var n in this.M) a++;
        return a > 0;
    } 
```

我想了解：

*   “for(var n in this.M)”的构造；我习惯了常规的 for 循环，我不熟悉这个结构。
*   “this.M”如何适合代码，即它的用途
*   一般来说，这个函数可能用于什么。

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-16T01:11:48.330

*   `for(var n in this.M)`这是一个[for-each](http://en.wikipedia.org/wiki/Foreach_loop)循环，用于迭代一组值，而不是使用条件。它用于迭代对象的属性。
*   `this`关键字指的是函数的所有者（谁是函数`haveComponents`），while`M`是一个属性`this`
*   这个函数只是无用地计算元素，`M`看看它们是否大于 0。不过，为了这个目的，计算它们绝对是多余的。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-16T01:25:16.957

似乎缺少一些代码。

```
var M = []; 
```

为 variable 分配一个新数组`M`，这似乎是一个全局变量（但可能不是，您只是没有显示足够的代码来正确确定上下文）。

```
haveComponents: function () { 
```

这似乎是一个对象文字的一部分，它将一个函数分配给一个名为`haveComponents`.

```
 var a = 0; 
```

创建一个局部变量`a`，并在代码执行时为其赋值`0`。

```
 for (var n in this.M) a++; 
```

创建一个局部变量`n`并按顺序为其分配任何`this.M`引用的可枚举属性的名称。如果`this`是全局对象，`M`则将是上面初始化的数组。如果不是，它可能是也可能不是别的东西。您尚未显示任何其他作业，或`this`已设置的内容。

对于每个可枚举的属性`M`（包括其继承的属性），`a`将加一。

```
 return a > 0;
    } 
```

`true`如果`a`大于零则返回。

一个等价的函数是：

```
haveComponents: function () {

    for (var n in this.M) {

      // this.M has at least one enumerable property
      return true;
    }

    // this.M has no enumerable properties
    return false;
} 
```

或者对于纯粹主义者：

```
haveComponents: function () {
    var hasEnumerable = false;
    for (var n in this.M) {
        hasEnumerable = true;
        break;
    }
    return hasEnumerable;
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-16T01:25:52.743

该函数计算 M 数组中有多少元素。

*   `for in`允许您迭代对象的可枚举属性，请[注意，这`for each`](https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Statements/for...in)与迭代针对项目而不是属性的[行为不同。](https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Statements/for...in)在 javascript 中，这转化为进入原型属性名称并列出它们，可能会导致意外结果。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-16T01:10:36.210

`for(var n in this.M)`遍历 的所有元素，`this.M`依次将它们存储在变量 中`n`。

我不知道是什么`this.M`，这取决于你的代码来自哪里。

一般来说，我会说这段代码返回是否`M`为空（`true`如果不为空则返回）。

# android - 防止 Android ActionBar 滚动

> ID：15444437
> 
> 赞同：3
> 
> 时间：2013-03-16T01:07:14.040
> 
> 标签：android, android-actionbar, actionbarsherlock

我的 ActionBar 中有 5 个选项卡，我对它们进行了样式设置以删除填充并减小选项卡上的文本大小，但无论我做什么，选项卡栏都会在任一方向上滚动几个像素。我的标签都适合，所以我不希望它们能够来回滑动，即使是一点点。

如何防止 ActionBar 选项卡可滚动？

我在我的项目中使用[ActionBarSherlock](http://actionbarsherlock.com/index.html)，这样我就可以在不同版本的 Android 中拥有统一的 UI。

正如您在下面看到的，有足够的空间，所以我看不出有任何理由当所有选项卡都适合时它应该能够摆动/滚动。

![在此处输入图像描述](../Images/8c762f787291438ab72c71a27aaa27b0.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-07-08T08:26:49.860

没有秘密，它只是意味着您的 ActionBarSherlock 中有太多选项卡和/或它们的宽度太大。

这是带有图像和文本的选项卡布局示例：

```
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:tools="http://schemas.android.com/tools"
    android:id="@+id/tab_item"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:gravity="center"
    android:orientation="horizontal"
    android:paddingTop="8dp" >

    <ImageView
        android:id="@+id/tab_icon"
        android:layout_width="28dp"
        android:layout_height="28dp"
        android:layout_marginRight="4dp" />

    <TextView
        android:id="@+id/tab_title"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:ellipsize="marquee"
        android:focusable="true"
        android:focusableInTouchMode="true"
        android:marqueeRepeatLimit="marquee_forever"
        android:scrollHorizontally="true"
        android:singleLine="true"
        android:textColor="@android:color/white"
        android:textSize="12sp" />

</LinearLayout> 
```

你在使用 TabAdapter 吗？也许您可以发布您的代码以查看是否有问题？

# jquery - 如何在 2 个 HTML 表之间传输行？

> ID：15444444
> 
> 赞同：-3
> 
> 时间：2013-03-16T01:08:24.280
> 
> 标签：jquery, html

我有 2 个 HTML 表格。第一列有复选框来检查行，当我单击表格顶部的按钮时，它会将数据移动到另一个表格。例如：通过选中右侧表格中的复选框并单击“添加到组”来将成员添加到组。要删除群组成员，请在左侧表格中选择用户，然后单击“从群组中删除”。我该怎么做。这是我的截图

![在此处输入图像描述](../Images/464df3d2649fdf385441373c87aff615.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-16T01:15:51.060

我相信你想要[.appendTo() 函数](http://api.jquery.com/appendTo/)。

因此，使用合适的 jquery 选择器从表中获取选定的行，然后使用类似：

```
$('#selectedTR_goes_here').appendTo( $('#YourTable') );
```

appendTo() 在重新附加到其他地方之前自动分离元素。

注意：这也可能重复：[如何将一个元素移动到另一个元素中？](https://stackoverflow.com/questions/1279957/how-to-move-an-element-into-another-element)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-16T01:16:11.177

尝试这个

$('class').each(function(){

```
if($(this).is(' checked'))

     $('#otherTable tbody').append($(this).find().closest('tr).html());
}); 
```

# php - 检查特定的 JSON 对象在 php 中是否可用

> ID：15444446
> 
> 赞同：5
> 
> 时间：2013-03-16T01:08:59.627
> 
> 标签：php, json

我有以下 JSON：

```
$p={
  "main1" : [
    {
      "child1" : valueA,
      "child2" : valueB,
      "child3" : valueC,
    },
    {
      "child1" : value1,
      "child3" : value3,
    },
  ],
  "main2" : "valueMain2"
} 
```

必须检查元素`child2`是否存在，然后取值。我正在使用 json_decode：

```
$response = json_decode($p,true); 
```

如何在 PHP 中检查元素是否存在？我必须制作单独的功能还是有内置功能？

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2013-03-16T01:23:03.247

与检查是否存在任何数组的键的方式相同：

与`isset($array['key'])`或`array_key_exists('key',$array)`。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-16T01:27:25.970

Here's how I've been doing it.

```
$child2exists = count($response['main1']['child2']);

If ($child2exists == 1) 
{ 
    echo "EXISTS"; 
}
else
{ 
    echo "DOESNT EXIST"; 
} 
```

Hope this helps.

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2022-01-08T15:47:22.327

在 2022 / php 5.1.0 及更高版本中，使用

```
$objJsn    = json_decode    ( $strJsnFromFile     );
$bolExists = property_exists( $objJsn, 'NodeName' ); 
```

来自[https://www.php.net/manual/en/function.property-exists.php](https://www.php.net/manual/en/function.property-exists.php)与数组相关的答案对于 php 7.4.9 是错误的

# eclipse - 谷歌云存储读取文件失败

> ID：15444449
> 
> 赞同：1
> 
> 时间：2013-03-16T01:09:17.427
> 
> 标签：eclipse, google-cloud-storage

使用谷歌的例子，这是我试图读取我的文件的方式：

```
boolean lockForRead = false;
String filename = "/gs/my_bucket/my_object";
AppEngineFile readableFile = new AppEngineFile(filename);
FileReadChannel readChannel = fileService.openReadChannel(readableFile, lockForRead);

// Read the file in whichever way you'd like
BufferedReader reader = new BufferedReader(Channels.newReader(readChannel, "UTF8"));
String line = reader.readLine();
resp.getWriter().println("READ:" + line);

readChannel.close(); 
```

但是，代码与 reader.readLine 行完美结合，并在该行引发异常：

```
java.io.IOException
    at com.google.appengine.api.files.FileServiceImpl.translateException(FileServiceImpl.java:615) 
```

……

```
Caused by: com.google.apphosting.api.ApiProxy$ApplicationException: ApplicationError: 7: ...\war\WEB-INF\appengine-generated\encoded_gs_key:L2dzL21hcGxlL3NhdmUudHh0 (The system cannot find the file specified) 
```

帮助！

# matlab - 稀疏矩阵的逐行排序

> ID：15444452
> 
> 赞同：0
> 
> 时间：2013-03-16T01:10:07.920
> 
> 标签：matlab, sorting, sparse-matrix

我有一个大的稀疏矩阵，我需要逐行对其数据进行排序。现在我只是在做

```
sort(matrix,2, 'descend') 
```

但我想知道如果我转置矩阵，对列进行排序然后将其转回其原始尺寸，或者是否有任何其他方法可以获得更快的速度，相同的操作是否会更快。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-20T11:06:55.653

如评论中所述：

按列排序要快一点，但所获得的时间（远）少于转置矩阵两次所用的时间。

可能没有通用的方法可以加快速度，但是当您对特定矩阵结构有更多了解时，可能会有一种方法。

# wpf - 如何在 WPF 工具包图表中添加水平线？

> ID：15444455
> 
> 赞同：1
> 
> 时间：2013-03-16T01:10:21.340
> 
> 标签：wpf, charts, wpftoolkit

我有以下图表：

```
 <DVC:Chart x:Name="userChart" Title="Stats" Grid.Row="1" BorderThickness="0">
      <DVC:Chart.Series>
        <DVC:LineSeries Title="TEST"
                        ItemsSource="{Binding Path=UserChartList}"
                        DependentValueBinding="{Binding Path=Value}"
                        IndependentValueBinding="{Binding Path=Key}"
                        >
       </DVC:LineSeries>
     </DVC:Chart.Series>
    </DVC:Chart> 
```

如何将带状线（与 x 轴平行的线）添加到我的系列中。

# python - 如何使用代码在 python 中删除 Mayavi 工具栏

> ID：15444458
> 
> 赞同：1
> 
> 时间：2013-03-16T01:10:48.393
> 
> 标签：python, hide, toolbar, mayavi

我有几个 Mayavi 图，我将它们组合在一个窗口中（沿着[文档](http://docs.enthought.com/mayavi/mayavi/auto/example_multiple_mlab_scene_models.html)的行），如果我能摆脱所有这些中的工具栏会更好。虽然可以右键单击每个工具栏以使它们消失，但我想将它们编码为消失。像这样的命令`scene.hide_toolbar()`将是理想的。我在 TraitsUI 包中进行了一些研究，但无济于事......有人知道如何让它消失吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-16T01:53:40.540

您可以使用`Handler`修改 UI，以下代码适用于 ETS_TOOLKIT=qt4。将`DisableToolbarHandler`类添加到代码`multiple_mlab_scene_models.py`中，并通过`m.edit_traits(handler=DisableToolbarHandler())`.

```
class DisableToolbarHandler(Handler):
    def position(self, info):
        for name in ["scene1", "scene2"]:
            editor = info.ui.get_editors(name)[0]
            editor._scene._tool_bar.setVisible(False)

m = MyDialog()
m.edit_traits(handler=DisableToolbarHandler()) 
```

窗口显示为：

![在此处输入图像描述](../Images/0e7fc5ce63f78ef33f4652c149842065.png)

# sql - 提取 id 以及其他列的计数

> ID：15444464
> 
> 赞同：1
> 
> 时间：2013-03-16T01:11:57.177
> 
> 标签：sql, oracle, oracle-sqldeveloper

我的表中有四列

```
CUSTOMER, TRANSACTION(UNIQUE) PRODUCTA PRODUCTB 
```

产品 A 或产品 B 为 0 或 1，具体取决于购买的物品。两者都不等于 1，因为每一行对应一个事务，它是 A 或 B。

现在我想提取数据，以便列出每个客户以及他购买的产品 A 和产品 B 购买的数量。

```
select customer,count(PRODUCTA),count(PRODUCTB) from rm_saicharan_final6 group by customer 
```

它返回所有计数，包括 0。

```
CUSTOMER   PRODUCTA   PRODUCTB
--------   --------   ---------
32444       209        209 
```

但我只想要具有 value=1 的计数而不是全部

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-16T01:24:11.180

只需按如下方式使用 SUM：

```
select customer,SUM(PRODUCTA),SUM(PRODUCTB) 
from rm_saicharan_final6 group by customer 
```

SQLFiddle：[http ://sqlfiddle.com/#!4/ee7da/596](http://sqlfiddle.com/#!4/ee7da/596)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-16T01:18:45.573

不完全确定这是否会起作用，但如果不起作用，它可能会有所帮助

```
select customer,count(PRODUCTA),count(PRODUCTB) from rm_saicharan_final6 group by customer where PRODUCTA>0 and PRODUCTB>0 
```

# git - 如何合并推送的两个提交？

> ID：15444467
> 
> 赞同：0
> 
> 时间：2013-03-16T01:12:33.867
> 
> 标签：git, git-push, git-commit

`git commit .`我通过后跟提交并推送了一些文件`git push`。

然后，我发现文件中有一些错误。我修好了ti。然后，我重新承诺并重新推动。所以，我现在在 中看到两个单独的提交`git log`，这很难看。

我可以将这两个推送的提交合并为一个吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-16T01:15:57.807

是的你可以。如果没有其他人从遥控器中拉出，您可以：

```
git rebase -i 
```

其次是：

```
git push origin +master 
```

请记住，不建议`rebase`共享存储库，这`+master`将忽略它的快进。

# node.js - 在 Vagrant VM 上安装旧版本的 Node.js

> ID：15444470
> 
> 赞同：2
> 
> 时间：2013-03-16T01:14:02.163
> 
> 标签：node.js, ubuntu-12.04

我正在为具有一些需要 Node.js v0.4.12 的遗留依赖项的客户端设置 Vagrant 环境。我知道我可以通过 nvm 安装它，但那是用 NVM 配置盒子并启动节点应用程序证明......有问题。在一个完美的世界里，我可以通过`apt`( `apt-get install nodejs=0.4.12`) 安装旧版本，但这似乎不是一个选择。我找不到保留旧版本的单个 PPA。

我知道我可以从源代码中提取和编译（如果必须的话，我会去那里），但我想知道是否还有其他我没有找到的选项。我也需要`npm`。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-22T12:34:37.143

不管它值多少钱，我最终都安装了[nvm](https://github.com/creationix/nvm)。还有一些小问题需要解决，比如干净地存在配置脚本，但是 Node 已成功安装并启动，所以我想这就是答案。至少现在。

# visual-studio-2010 - Visual Studio 可扩展性：获取 ProjectItem/TextDocument 的编码

> ID：15444472
> 
> 赞同：1
> 
> 时间：2013-03-16T01:14:04.330
> 
> 标签：visual-studio-2010, visual-studio, visual-studio-extensions

如果我有一个`ProjectItem`( [MSDN](http://msdn.microsoft.com/en-us/library/envdte.projectitem%28v=vs.100%29.aspx) )，我如何获得 Visual Studio 检测到的它的编码？

我想得到与此对话框中所示相同的结果： ![在此处输入图像描述](../Images/75aaf3beb24fe1bf877b8373e6eea528.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-16T02:16:48.667

我不确定您如何直接从`ProjectItem`. 我相信您需要等待实际文档打开，因为当时检测到编码。那时你应该有一个`ITextBuffer`并且可以得到`Encoding`这个方式

```
ITextDocumentFactoryService factoryService = ...;
ITextBuffer textBuffer = ...;
ITextDocument textDocument;
if (factoryService.TryGetTextDocument(textBuffer, out textDocument)) { 
  Encoding encoding = textDocument.Encoding;
  ...
} 
```

# ruby-on-rails - 在 rails 中使用 simple_form 和 AJAX 解析 JSON 错误

> ID：15444473
> 
> 赞同：1
> 
> 时间：2013-03-16T01:14:07.533
> 
> 标签：ruby-on-rails, ajax, json, forms, simple-form

我有一个在用户仪表板上使用简单表单和远程 => true 的表单（由仪表板视图和仪表板控制器处理）。该表单允许用户添加自定义游戏规则；但是，它通过 Jquery 的 .load() 函数加载表单。表单正在从“规则”视图加载（由规则控制器处理）。

当用户单击提交按钮时，我没有得到任何错误验证。

她是规则控制器上的创建操作：

```
def create
  @rule = Rule.new(params[:rule])

  respond_to do |format|
    if @rule.save
      format.html { redirect_to dashboard_path, notice: 'Rule was successfully created.' }
      format.json { render json: @rule, status: :created, location: @rule }
      format.js
    else
      format.html { render template: 'dashboard/index'}
      format.json { render json: @rule.errors, status: :unprocessable_entity }
      format.js
    end
  end
end 
```

我的视图文件夹中有一个名为 create.js.erb 的 js 文件，该文件当前为空。我认为我必须以某种方式解析这个 create.js.erb 文件中的 JSON 错误数据，但我不知道该怎么做。

此外，仪表板视图/控制器正在调用此表单但规则控制器正在处理表单是否重要？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-16T04:09:43.960

在 create.js.erb 中尝试以下操作

```
$('.error-messages').remove();
<% if @rule.errors.any? %>
  $('body').append('<ul class="error-messages"></ul>');
  <% @rule.errors.full_messages.each do |msg| %>
    $('.error-messages').append('<%= escape_javascript msg %>');
  <% end %>
<% end %> 
```

这将在您的正文标签中附加错误。

# java - 链表连接

> ID：15444475
> 
> 赞同：2
> 
> 时间：2013-03-16T01:14:13.507
> 
> 标签：java, recursion, linked-list

为分配和一个需求创建链表是一种名为*concat*的方法，它接受一个列表参数并将其附加到当前列表的末尾。这种方法没有必要使用递归，但我们的程序应该大量使用递归。我只是想知道是否有可能为此提出一个递归算法。我们的列表类只有一个头节点，没有别的，而且它们没有双重链接。

我当前的尝试只能递归地附加第一个值。我知道它做错了什么，但我无法提出解决方案。第一种方法是在列表中实际调用的方法，其中将列表传递给“连接”。然后我尝试找到列表的尾部并将它们传递给递归方法。这种“包装”方法是我们递归方法的强制性要求。这是我的尝试，但显然失败了，因为一旦所有调用从堆栈中弹出然后重新进入对*concat*的递归调用，我就无法将节点引用“pt”推进到列表中的下一个节点。如果这**是**可能使用递归，您能否告诉我如何将这个值从第一个列表中提升并重新输入递归调用，或者只是解决这个问题的更好的通用方法？谢谢你的时间。

```
public void concat(MyString list1) {
    CharacterNode tail = null, pt = list1.head;
    // Find the tail of the list
    if (pt == null) {
    } else if (pt.getNext() == null) {
        tail = pt;
    } else {
        while (pt.getNext() != null) {
            pt = pt.getNext();
        }
        tail = pt;
    }
    list1.head = concat(list1.head, tail, list1.head);
}
private static CharacterNode concat(CharacterNode lhead, CharacterNode tail, CharacterNode pt) {
    // Pass in smaller list every time
    // Head traverses down list till the end
    // Add new node with (pt's letter, null link)
    if (lhead == null) {
    // If head is null, we need to add the node
        lhead = new CharacterNode(pt.getCharacter(),null);
    } else if (tail.getNext() == lhead) {
    // If the head is past tail, stop   
    } else {
        // Call concat on a smaller list
        lhead.setNext(concat(lhead.getNext(),tail,pt));
    }
    return lhead;
} 
```

这是字符节点：

```
class CharacterNode {
    private char letter;
    private CharacterNode next;

    public CharacterNode(char ch, CharacterNode link) {
        letter = ch;
        next = link;
    }

    public void setCharacter(char ch) {
        this.letter = ch;
    }

    public char getCharacter() {
        return letter;
    }

    public void setNext(CharacterNode next) {
        this.next = next;
    }

    public CharacterNode getNext() {
        return next;
    }
} 
```

我的字符串：

```
class MyString {
    // member variable pointing to the head of the linked list
    private CharacterNode head;

    // default constructor
    public MyString() {
    }

    // copy constructor
    public MyString(MyString l) {
    }

    // constructor from a String
    public MyString(String s) {
    }

    // for output purposes -- override Object version
    // no spaces between the characters, no line feeds/returns
    public String toString() {
    }

    // create a new node and add it to the head of the list
    public void addHead(char ch) {
    }

    // create a new node and add it to the tail of the list -- "wrapper"
    public void addTail(char ch) {
    }

    // Recursive method for addTail
    private static CharacterNode addTail(CharacterNode L, char letter) {
    }

    // modify the list so it is reversed
    public void reverse() {
    }

    // remove all occurrences of the character from the list -- "wrapper"
    public void removeChar(char ch) {
    }

    // Recursive removeChar method
    private static CharacterNode removeChar(CharacterNode n, char letter) {
    }

    // "wrapper" for recursive length()
    public int length() {
    }

    // Returns the length of the linked list
    private static int length(CharacterNode L) {
    }

    // concatenate a copy of list1 to the end of the list
    public void concat(MyString list1) {
    }

    // recursive method for concat
    private static CharacterNode concat(CharacterNode lhead, CharacterNode tail, CharacterNode pt) {
    }
} 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-16T01:35:06.197

要连接两个链表，您必须使第一个链表的最后一个节点指向第二个链表的第一个节点。

```
Node first_list = ...  // head node
Node second_list = ... // head node
...
Node last_node = first_list.getLastNode()
last_node.setNext(second_list) 
```

现在集中精力实施`getLastNode()`。它可以通过使用递归或迭代来非常简单地完成，字面意思是 2 行。

# oracle - tkprof 选项来获取存储过程的输入参数

> ID：15444479
> 
> 赞同：2
> 
> 时间：2013-03-16T01:15:08.147
> 
> 标签：oracle, parameter-passing, trace

我有一个 Oracle 跟踪输出，`tkprof inputtracefilename.trc output.prf`用于获取可读格式。但是，我想看看传递给过程的值是什么。

我在 output.prf 中得到以下文本：

```
Begin ebp_set_char_data(:v0, :v1, :v2, :v3, :v4, :v5, :v6); End; 
```

我想知道 v0...v6 输入值是什么。我可以使用哪些选项来获取信息？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-16T08:38:15.543

您必须至少使用 4 级运行跟踪，即：

```
SQL> ALTER SESSION SET EVENTS '10046 trace name context forever, level 4'; 
```

然后运行您的 api 调用

最后关闭跟踪：

```
SQL> ALTER SESSION SET EVENTS '10046 trace name context off'; 
```

注意级别 4 = 绑定信息，级别 8 = 等待信息和级别 12 = 等待和绑定信息

然后检查原始跟踪文件以获取绑定信息

# git - gitlab-shell -> git push -u origin master -> 致命：远程端意外挂断

> ID：15444483
> 
> 赞同：5
> 
> 时间：2013-03-16T01:15:17.487
> 
> 标签：git, ssh, gitlab

我正在使用 gitlab-shell 来管理 git 连接，这是我的问题：

```
$ git push -v -u origin master
Pushing to git@git.my-srv.fr:monProjet.git
fatal: The remote end hung up unexpectedly 
```

* * *

```
# tail -f /var/log/auth.log
Mar 15 15:53:12 my-srv sshd[3133]: Accepted publickey for git from my-ip port 50790 ssh2
Mar 15 15:53:12 my-srv sshd[3133]: pam_unix(sshd:session): session opened for user git by (uid=0)
Mar 15 15:53:12 my-srv sshd[3285]: Received disconnect from my-ip: 11: disconnected by user
Mar 15 15:53:12 my-srv sshd[3133]: pam_unix(sshd:session): session closed for user git 
```

所以每个人都说这是另一个错？！如何获得有关 git/ssh 网络交换的更多信息？

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2013-03-19T15:45:58.500

我试过这个： **$ ssh -vT git@git.my-srv.fr**

我在日志中看到了 http 重定向 301。（我的代理服务器将 http 重定向到 https）

我已经在 gitlab-shell 配置中更正它，文件：**/home/git/gitlab-shell/config.yml**

```
# Url to gitlab instance. Used for api calls
gitlab_url: "https://git.my-srv.fr/" 
```

新的错误消息是 ssl 证书验证失败（我的证书是自动签名的，没有第三部分授权）

所以我修改 **了 /home/git/gitlab-shell/lib/gitlab_net.rb** 添加这个：

```
http.verify_mode = OpenSSL::SSL::VERIFY_NONE if (http.use_ssl?) 
```

在这几行之间：

```
http.use_ssl = (url.port == 443)
http.verify_mode = OpenSSL::SSL::VERIFY_NONE if (http.use_ssl?)
request = Net::HTTP::Get.new(url.request_uri) 
```

就像在这个 gitlab-shell 关闭拉取请求（和问题）上描述的一样： [https ://github.com/gitlabhq/gitlab-shell/pull/9](https://github.com/gitlabhq/gitlab-shell/pull/9)

这是原始提交内容： [https ://github.com/jcockhren/gitlab-shell/commit/846ee24697f386cd9fcbc4ab1a7fb8ae1ccb46ee](https://github.com/jcockhren/gitlab-shell/commit/846ee24697f386cd9fcbc4ab1a7fb8ae1ccb46ee)

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2013-09-02T09:48:24.490

从 5.4 版本开始，您可以在**gitlab-shell/config.yml上进行编辑**

> self_signed_cert：真

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2013-08-16T13:56:06.473

修改 gitlab-shell 的 config.yml 以指向正确的 URL 为我修复了它（尽管我正在使用 git@.. 推送）

[https://github.com/gitlabhq/gitlab-shell/issues/65](https://github.com/gitlabhq/gitlab-shell/issues/65)

> gitlab-shell 的 config.yml 应该正确指向 URL。就我而言，它是[http://git.domain.com:8080/](http://git.domain.com:8080/)。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-05-08T19:32:36.187

我在我的 gitlab 安装中有完全相同的行为。就我而言，这是 ssl 证书的问题。很难抓住，因为：

```
https://gitlab.example.com  ==> padlock shows up, everything seems OK
openssl s_client -connect   ==> Verify return code: 21 (unable to verify... 
```

由于 gitlab 使用 openssl 来验证 ssl 连接，所以当 openssl 报错时它会退出致命的。通过粘贴为我的服务器 gitlab.example.com 创建“正确”证书来解决问题：

```
ROOT-issuers-cert
Intermediate-cert
cert-for-example.com 
```

成一个文本文件。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2014-04-07T17:54:16.040

万一有人像我一样来到这个线程搜索错误..

很明显，当 git 无法访问 gitlab 网络服务器时，错误就来了。对我来说，这是我在 nginx 上进行的 http 用户身份验证。删除后，错误消失了。

# python - 使用 webkit 的 open(url) 函数时，使用 py2exe 创建的可执行文件会冻结

> ID：15444484
> 
> 赞同：0
> 
> 时间：2013-03-16T01:15:24.047
> 
> 标签：python, webkit, py2exe, cairo, gui2exe

我正在使用[GUI2Exe 程序](https://code.google.com/p/gui2exe/)来创建我的可执行文件，虽然我可以构建和启动可执行文件，但它在调用“打开”url 时崩溃了。这不仅在我的程序中是可重复的，而且在超级简单的[14 行 webkit 浏览器](http://ardoris.wordpress.com/2009/04/26/a-browser-in-14-lines-using-python-and-webkit/)中也是可重复的。当使用 cx_freeze 而不是 py2exe 时。

Windows 诊断中报告的“问题签名”指向 libcairo-2.dll

注释掉 browser.open(url) 调用会导致窗口打开（尽管没有浏览器将要加载的内容）并响应关闭命令。

```
gobject.threads_init()
window = gtk.Window()
browser = webkit.WebView()
#browser.open("http://www.google.com")
window.add(browser)
window.show_all() 
```

从命令行 (python myprogram.py) 运行，我的程序在 Windows 和 Ubuntu 上都能正常运行。将其正式陈述为一个问题：我怎样才能解决这个问题并成功地创建一个功能性的“冻结”python 可执行文件？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-25T23:38:15.613

我最好的解决方案是重写程序以使用 qtwebkit 库。用 py2exe 玩得更好。

# excel - 将 Excel CSV 导入 Sqlite3

> ID：15444487
> 
> 赞同：0
> 
> 时间：2013-03-16T01:15:40.483
> 
> 标签：excel, sqlite

我有一个长 CSV 文件（从 excel 导出），如下所示：

```
Architecture (ARCH),201,Basic Drawing,  9-12PM,   3
Architecture (ARCH),202,Graphic Commun, 9-12PM,   3
Architecture (ARCH),211,Digital Drawing,130-230PM,3
Architecture (ARCH),212,Understand Arch,10-11AM,  3 
```

当我尝试通过 SQLite3 shell 导入它时，它只需要第一行。我怎样才能解决这个问题？

# android - 在Android中检测滑动区域

> ID：15444494
> 
> 赞同：0
> 
> 时间：2013-03-16T01:17:41.383
> 
> 标签：android, andengine

在我使用 AndEngine 的游戏应用程序中，我试图检测按钮 Sprite 上的滑动动作以在手指在按钮 Sprite 上方时放大按钮，并在手指从 Sprite 上滑动时将比例设置回 1.0f。意义：

*   手指在按钮区域外向下
*   滑动按钮（并且按钮被放大）但保持手指向下
*   继续滑动关闭按钮，按钮返回原始比例。

我试过以下：

```
myButton = new Sprite(posX, posY, resourcesManager.rightButtonRegion, vbom) {

        @Override
        public boolean onAreaTouched(final TouchEvent pAreaTouchEvent, final float pTouchAreaLocalX, final float pTouchAreaLocalY) {
            switch (pAreaTouchEvent.getAction()) {
            case TouchEvent.ACTION_DOWN:
                this.setScale(1.25f);
                break;

            case TouchEvent.ACTION_UP:
                this.setScale(1.0f);
                break;

            case TouchEvent.ACTION_MOVE:
                this.setScale(1.0f);
                break;

            case TouchEvent.ACTION_OUTSIDE:
                this.setScale(1.0f);
                break;

            }
            return true;
        }
    }; 
```

但是，如果我在按钮外部开始滑动并将手指移到按钮上，则按钮的大小不会按比例放大。感谢任何有关如何实现此效果的指针。如果有使用 SurfaceView 的非 Andengine 解决方案，我也会很感激对此的任何看法。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-16T04:43:10.837

您只需将比例设置为`TouchEvent.ACTION_DOWN`。当您滑入您的触摸区域时，它不会注册，`ACTION_DOWN`因为您没有在您的区域中按下，您只是移入了它。如果您`case TouchEvent.ACTION_MOVE:`的触摸序列没有与`ACTION_DOWN`.

如果这不起作用，您可以使用类似的东西`onGenericMotionEvent(MotionEvent)`来传递其他类型的运动事件信息。

# ios - 从虚拟机到 iOS 的 HTTP 实时屏幕截图流

> ID：15444498
> 
> 赞同：1
> 
> 时间：2013-03-16T01:18:26.130
> 
> 标签：ios, virtual-machine, vlc, http-live-streaming

我已经设置了我的计算机屏幕截图的 HTTP 直播流，并在 iOS 中设置了必要的客户端代码来观看直播，我用它来流式传输游戏英雄联盟的“观看”模式，它在我的机器上运行。

我想知道将这个应用程序制作成其他人可以用来观看任何英雄联盟比赛的应用程序会涉及什么。我的服务器经验几乎为零，因为我的背景是 iOS，但是是否可以使用英雄联盟和 VLC 以及屏幕捕获软件为每个请求观看不同游戏的客户端启动虚拟机？

我猜如果我为每个请求流的客户端都有一台机器，我可以设置它，但我真的不知道我是否或如何在服务器上运行许多虚拟机以及这将花费我多少。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-18T13:27:12.183

查看类似 justin.tv ( [http://www.youtube.com/watch?v=QP4HfCOfeUQ](http://www.youtube.com/watch?v=QP4HfCOfeUQ) ) 的内容还有许多其他应用程序虚拟化技术。查看[http://en.wikipedia.org/wiki/Microsoft_App-V](http://en.wikipedia.org/wiki/Microsoft_App-V)和类似产品底部的列表。

# c - 矩阵乘以线程（每个线程进行单次乘法）

> ID：15444500
> 
> 赞同：5
> 
> 时间：2013-03-16T01:18:43.513
> 
> 标签：c, multithreading, pthreads, matrix-multiplication

我正在寻找使用线程进行矩阵乘法，其中每个线程进行一次乘法，然后主线程将所有结果相加并将它们放在最终矩阵中的适当位置（在其他线程退出之后）。

我尝试这样做的方法是创建一个包含每个线程结果的单行数组。然后我会遍历数组并将结果添加到最终矩阵中。

例如：如果你有矩阵：

A = [{1,4}, {2,5}, {3,6}] B = [{8,7,6}, {5,4,3}]

然后我想要一个包含 [8, 20, 7, 16, 6, 12, 16 等] 的数组，然后我将遍历数组，将每 2 个数字相加并将它们放在我的最终数组中。

这是一个硬件分配，所以我不是在寻找确切的代码，而是关于如何将结果正确存储在数组中的一些逻辑。我正在为如何跟踪我在每个矩阵中的位置而苦苦挣扎，这样我就不会错过任何数字。

谢谢。

EDIT2：忘了提到每次乘法都必须有一个线程。对于上面的例子来说，将有 18 个线程，每个线程都进行自己的计算。

编辑：我目前正在使用此代码作为工作的基础。

```
#include <pthread.h>
#include <stdio.h>
#include <stdlib.h>

#define M 3
#define K 2
#define N 3
#define NUM_THREADS 10

int A [M][K] = { {1,4}, {2,5}, {3,6} };
int B [K][N] = { {8,7,6}, {5,4,3} };
int C [M][N];

struct v {
   int i; /* row */
   int j; /* column */
};

void *runner(void *param); /* the thread */

int main(int argc, char *argv[]) {

   int i,j, count = 0;
   for(i = 0; i < M; i++) {
      for(j = 0; j < N; j++) {
         //Assign a row and column for each thread
         struct v *data = (struct v *) malloc(sizeof(struct v));
         data->i = i;
         data->j = j;
         /* Now create the thread passing it data as a parameter */
         pthread_t tid;       //Thread ID
         pthread_attr_t attr; //Set of thread attributes
         //Get the default attributes
         pthread_attr_init(&attr);
         //Create the thread
         pthread_create(&tid,&attr,runner,data);
         //Make sure the parent waits for all thread to complete
         pthread_join(tid, NULL);
         count++;
      }
   }

   //Print out the resulting matrix
   for(i = 0; i < M; i++) {
      for(j = 0; j < N; j++) {
         printf("%d ", C[i][j]);
      }
      printf("\n");
   }
}

//The thread will begin control in this function
void *runner(void *param) {
   struct v *data = param; // the structure that holds our data
   int n, sum = 0; //the counter and sum

   //Row multiplied by column
   for(n = 0; n< K; n++){
      sum += A[data->i][n] * B[n][data->j];
   }
   //assign the sum to its coordinate
   C[data->i][data->j] = sum;

   //Exit the thread
   pthread_exit(0);
} 
```

资料来源： http: [//macboypro.wordpress.com/2009/05/20/matrix-multiplication-in-c-using-pthreads-on-linux/](http://macboypro.wordpress.com/2009/05/20/matrix-multiplication-in-c-using-pthreads-on-linux/)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2020-08-17T14:18:06.927

您需要存储`M * K * N`元素产品。这个想法大概是线程将全部并行运行，或者至少能够并行​​运行，因此每个线程都需要自己独特的适当类型的存储位置。一种直接的方法是创建一个包含这么多元素的数组......但是元素类型是什么？

每个线程不仅需要知道将其结果存储在哪里，还需要知道要执行哪个乘法。所有这些信息都需要通过 type 的单个参数来传达`void *`。然后，通常会创建一种适合保存一个线程所需的所有数据的结构类型，为每个线程创建该结构类型的实例，并将指针传递给这些结构。听起来你想要一个结构数组，那么。

细节可以通过多种方式进行处理，但对我来说最自然的一种是为这两个因素提供结构成员，以及存储产品的成员。然后我会让主线程声明一个此类结构的 3D 数组（如果所需的总数很小），或者动态分配一个。例如，

```
struct multiplication {
    // written by the main thread; read by the compute thread:
    int factor1;
    int factor2;

    // written by the compute thread; read by the main thread:
    int product;
} partial_result[M][K][N]; 
```

如何围绕它编写代码留作打算做的练习。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-16T01:38:25.550

不确定您需要调度多少线程，我也不确定您以后是否会使用 join 来接收它们。我猜你在这里是 C 语言，所以我会使用线程 ID 作为跟踪要处理的行的一种方式.. 比如：

```
#define NUM_THREADS 64
/*
 * struct to pass parameters to a dispatched thread 
 */
typedef struct {
  int   value;     /* thread number */
  char  somechar[128];   /* char data passed to thread */
  unsigned long ret;
  struct foo *row;
} thread_parm_t; 
```

我猜测每个线程都会在指针 *row 中获取其行数据，该指针具有一些定义的类型 foo。一堆整数或浮点数甚至复杂类型。无论你需要传递给线程。

```
/*
 * the thread to actually crunch the row data
 */
void *thr_rowcrunch( void *parm );

pthread_t tid[NUM_THREADS]; /* POSIX array of thread IDs */ 
```

然后在您的主要代码段中，例如：

```
thread_parm_t *parm=NULL; 
```

然后用类似的东西调度线程：

```
for ( i = 0; i < NUM_THREADS; i++) {
    parm = malloc(sizeof(thread_parm_t));
    parm->value = i;
    strcpy(parm->somechar, char_data_to-pass );
    fill_in_row ( parm->row, my_row_data );
    pthread_create(&tid[i], NULL, thr_insert, (void *)parm);
} 
```

然后稍后：

```
for ( i = 0; i < NUM_THREADS; i++)
    pthread_join(tid[i], NULL); 
```

然而，真正的工作需要在接收行数据的 thr_rowcrunch( void *parm ) 中完成，然后每个线程只*知道*自己的线程号。你在那个分派的线程中所做的事情的胆量，但我只能猜测。

只是想在这里提供帮助，不确定这是否清楚。

# c++ - C++ Builder 2009 - 如何确定控件的窗口是否可见

> ID：15444503
> 
> 赞同：0
> 
> 时间：2013-03-16T01:19:07.673
> 
> 标签：c++, winapi, com, c++builder, void-pointers

我有一个`TWinControl`并且正在尝试确定父窗口是否可见。

我看到`TWinControl`有一个属性`ParentWindow`。的返回类型`ParentWindow`是`void *`。所以我很好奇我是否必须转换为特定类型，然后我可以检查窗口是否可见。

有谁知道我需要转换的类型，或者其他方式来完成这个？

* * *

**其他故障排除说明，第 1 部分：**

我试图通过以下方式获取 ParentWindows 类：

```
String parentWindowClassName = ((TObject *)(Control->ParentWindow))->ClassName(); 
```

但这给出了访问冲突。我还尝试强制转换为 TForm，这也导致了访问冲突，这让我相信父窗口可能由窗口控制。如果是这样，有谁知道检查它是否可见的任何技巧？例如，任何 COM 技巧或什么？

**其他故障排除说明，第 2 部分：**

这个问题的答案可能有助于解决我的另一个问题：[C++ Builder 2009 - Cannot focus a disabled or invisible window](https://stackoverflow.com/questions/15444418/c-builder-2009-cannot-focus-a-disabled-or-invisible-window)

然而，如果没有这种方法，另一个问题可能会得到解决，这就是我发布不同问题的原因。

**其他故障排除说明，第 3 部分：**

感谢肯提供的额外信息。我从代码辅助中获取了我的信息： ![在此处输入图像描述](../Images/d46d70be3ee6796099b9adef0584f1d2.png)

但是我看到您的 HWND 返回类型来自：[http ://docs.embarcadero.com/products/rad_studio/delphiAndcpp2009/HelpUpdate2/EN/html/delphivclwin32/Controls_TWinControl_ParentWindow.html](http://docs.embarcadero.com/products/rad_studio/delphiAndcpp2009/HelpUpdate2/EN/html/delphivclwin32/Controls_TWinControl_ParentWindow.html)

这可能是我需要的额外信息......如果我得到它的工作将发布一个解决方案。谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-16T02:40:19.413

@KenWhite，你的建议给了我我需要的东西，谢谢！

以下是解决我的问题的代码：

```
#include "winuser.h"

...

void SafeSetFocus(TWinControl *Control)
{
    HWND hWnd = Control->ParentWindow;
    bool parentIsVisible = IsWindowVisible(hWnd);

    if(Control->Enabled && Control->Visible && parentIsVisible)
    {
        Control->SetFocus();
    }
} 
```

# c++ - C++ 重载运算符同时作为成员和函数？

> ID：15444506
> 
> 赞同：1
> 
> 时间：2013-03-16T01:19:31.667
> 
> 标签：c++, operator-overloading, friend, friend-function

C++ 重载运算符同时作为成员和函数？我正在尝试在这里设置运算符重载。

在每种情况下，我都没有将 operator+ 重载为朋友和成员的问题。但是，当我尝试同时将 + 运算符作为朋友重载和将朋友作为成员重载时，我得到了错误。

这里有点困惑。我可能会尝试做一些甚至没有意义的事情？请检查我的代码，看看我是否可以解决。情况 3 是产生错误的情况。谢谢！

**CASE1**重载为朋友：Source.cpp

```
#include <iostream>
using namespace std;
#include "Time.h"
int main () {
Time planning;       Time coding(2, 40);
Time fixing(5, 55);  Time total;
total = coding + fixing;
cout << "coding + fixing = ";
total.Show();
cout << endl;
cin.get();  return 0; } 
```

**CASE1**作为朋友重载：Time.h

```
#pragma once
class Time
{ int hours; int minutes;
public:
Time(void);
~Time(void);
Time(int, int m = 0);
void AddMin(int);
void AddHr(int);
void Reset(int h=0, int m=0);
friend const Time operator+(const Time&amp;, const Time&amp;);
void Show() const; }; 
```

**CASE1**重载为朋友：Time.cpp

```
#include "Time.h"
#include <iostream>
using namespace std;
Time::Time(void) { hours = minutes = 0;}
Time::~Time(void) {}
Time::Time (int h, int m) { hours =h; minutes = m; }
void Time::AddMin(int m) {minutes+=m; hours+=minutes/60; minutes%= 60; }
void Time::Reset(int h, int m) {hours = h; minutes = m;}

const Time operator+(const Time &amp; t1, const Time&amp; t2) {
Time sum;
sum.minutes = t1.minutes + t2.minutes;
sum.hours = t1.hours + t2.hours + sum.minutes / 60;
sum.minutes %= 60;
return sum; }
void Time::Show() const
{ cout << hours << " hours, " << minutes << " minutes"; } 
```

**CASE2**作为成员重载：Source.cpp / Time.h / Time.cpp Source.cpp // 相同

时间.h

```
const Time operator+(const Time&amp;) const;  // declaration 
```

时间.cpp

```
const Time Time::operator+(const Time&amp; t) const {
Time sum;
sum.minutes = minutes + t.minutes;
sum.hours = hours + t.hours + sum.minutes / 60;
sum.minutes %= 60;
return sum; }  // function definition 
```

**案例**3：错误；试图同时重载运算符 + 作为朋友和成员 Source.cpp // 相同

时间.h

```
friend const Time operator+(const Time&amp;) ;  // declaration 
```

时间.cpp

```
friend const Time operator+(const Time&amp; t) {
Time sum;
sum.minutes = minutes + t.minutes;
sum.hours = hours + t.hours + sum.minutes / 60;
sum.minutes %= 60;
return sum; }  // function definition 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-16T01:33:37.977

当您为您的类型提供运算符重载时，您所做的是提供一个函数以在运算符出现在代码中时调用。当只能调用一个并且无法选择时，提供两个定义是没有意义的。

也就是说，您不应该同时拥有成员函数和自由函数重载。

接下来的事情，实际上可能是你的困惑是什么意思`friend`。当您提供朋友声明时，您声明了一个**自由**函数并授予该函数访问您的私有成员的权限。它是一个自由函数，因此没有隐含的`this`参数，因此：

```
class X {
   friend X operator+(X const &);
}; 
```

将声明一个重载，`operator+`它接受一个类型的参数`X const&`并返回一个类型的对象`X`。顺便说一句，这是一个有效的运算符，而不是您要重载的运算符（它是一元`operator+`，如`X x; +x;`）。回到上一段，它声明了一个自由函数，而不是一个成员函数，没有隐含`this`的，就像你声明的那样：

```
class X {};
X operator+(X const &); 
```

并且因为没有隐含的`this`，`minutes`并且`hours`它们本身在该函数内部没有意义并且将无法编译。（`friend`定义中的关键字也是错误的，`friend`永远不能出现在类定义之外）。

关于运算符是否`friend`有任何特殊含义存在一些混淆，它没有。它只是一个影响访问说明符的关键字。如果您可以根据您的类型的公共接口来实现运算符，那么它不应该`friend`放在首位。因此，例如，如果您有访问器`Time`来获取小时和分钟，则可以将运算符实现为：

```
class Time { // ...
public:
   Time(int hours, int minutes);
   int hours() const;
   int minutes() const;
};
Time operator+(Time const & lhs, Time const & rhs) {
   return Time(lhs.hours()+rhs.hours(), lhs.minutes()+rhs.minutes());
} 
```

不涉及友谊。

# c# - 无法从“最近”文件夹中删除文件

> ID：15444512
> 
> 赞同：0
> 
> 时间：2013-03-16T01:20:12.487
> 
> 标签：c#, .net

我正在编写一个可以删除临时文件、预取数据、最近文件夹中的文件等的软件。我的问题是我可以成功地从 Temp 文件夹中删除文件，但是当我尝试最近的文件夹时，抛出异常，“访问路径...被拒绝”。PS：根据其他一些问题，我已将文件属性设置为正常，但仍然没有运气。请在这个问题上帮助我。为了您更好地理解，我在这里放了一些代码：

```
public Boolean CleanRecentData()
{
        isAllClean = true;
        String SysRecentPath = System.Environment.GetEnvironmentVariable("USERPROFILE") + "\\Recent";
        DirectoryInfo SysRecDir = new DirectoryInfo(SysRecentPath);
        File.SetAttributes(SysRecentPath, FileAttributes.Normal);

foreach (FileInfo fi in SysRecDir.GetFiles())   //Access Denied 
                                                 //Exception is thrown here
        {
            try
            {
                fi.Delete();
            }
            catch (Exception ex)
            {
                recentLogLines.AppendLine(ex.Message);
                isAllClean = false;
            }
        }

        foreach (DirectoryInfo dir in SysRecDir.GetDirectories())
        {
            try
            {
                dir.Delete(true);
            }
            catch (Exception ex)
            {
                recentLogLines.AppendLine(ex.Message);
                isAllClean = false;
            }
        }

        return isAllClean;
    } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-16T02:03:08.293

您可以通过 Windows 资源管理器访问“最近”文件夹吗？

您可以继续更改系统中的权限，但不能更改用户系统中的权限。因此，您可以通过两种方式处理此异常情况。

1.  您需要在访问之前使用[FileIOPermission](http://msdn.microsoft.com/en-us/library/system.security.permissions.fileiopermission.aspx)检查您是否具有文件访问权限，但如果您对太多文件执行此操作，这可能是多余和浪费的。
2.  如果失败，请尝试打开文件并努力使用一个好的异常处理程序 [参考](https://stackoverflow.com/a/265958/1218809)

# html - CSS3 Shadowbox - 仅在底部

> ID：15444513
> 
> 赞同：0
> 
> 时间：2013-03-16T01:20:31.040
> 
> 标签：html, css, shadowbox

我试图在我的代码的 .top_section 底部放置一个阴影。但是，我不能让它工作。我有两个部分（顶部和底部），阴影需要低于 .top_section

这是代码：

CSS：

```
.top_section {
    background-image: url(../images/background.png);
    background-repeat: no-repeat;
}

#boxShadow{box-shadow: 10px 10pxrgba(0, 0, 0, .4);} 

.bottom_section {
background-image: url(../images/background.png);
} 
```

HTML：

```
<div class="container-fluid top_section">
<div id="boxShadow">
<section>

    <div class="row-fluid">
        <div class="span4 offset4">
        <br />
            <img src="images/logo.png" width="400" height="400" image alt="image" />
        </div>
    </div>

<div class="row12">
        <h3><p class="text-center">ANIMATOR & DIGITAL ILLUSTRATOR</p></h3>
        <h4><p class="text-center">I'M MARK FROM SINGAPORE, I DESIGN & MAKE THINGS MOVE.   </p></h4>
        <h4><p class="text-center">I AM CURRENTLY FREELANCING AND STUDYING AT ANIMATION MENTOR.</p></h4>
        <br />
        <br />
 </div>

<div class="row-fluid">
    <ul class="thumbnails">
        <li class="span1 offset4">
            <a href="#" class="thumbnail">
                <img src="images/MAIL_icon.png" width="50" height="50" image alt="image" />
            </a>
        </li>
        <li class="span1">
        <a href="#" class="thumbnail">
            <img src="images/DRIBBBLE_icon.png" width="50" height="50" image alt="image" />
            </a>
         </li>
         <li class="span1">
        <a href="#" class="thumbnail">
            <img src="images/TWITTER_icon.png" width="50" height="50" image alt="image" />
            </a>
         </li>
         <li class="span1">
        <a href="#" class="thumbnail">
            <img src="images/INSTAGRAM_icon.png" width="50" height="50" image alt="image" />
            </a>
         </li>
    </ul>
</div>

</section>

</div>

</div> 
```

谢谢您的帮助。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-16T01:27:38.743

If I understand your question correctly, you can simply achieve it by setting the `#boxShadow` as:

```
#boxShadow {
    box-shadow: 0px 10px rgba(0, 0, 0, .4);
} 
```

* * *

You can take a reading of [this](https://developer.mozilla.org/en/docs/CSS/box-shadow) for better understanding.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-16T01:29:30.507

The only problem I see is with your code is just a typo in the boxShadow, otherwise it seems to work fine on this fiddle: [typo fixed fiddle](http://jsfiddle.net/wSSrz/)

Just needed a space between 10px and rgba.

```
#boxShadow { box-shadow: 0px 10px rgba(0, 0, 0, .4); } 
```

Is this what you are looking for? Edited to remove right-side shadow.

Here's a full tutorial of box-shadow, including cross-platform (and older browser) browser-specific prefixes: [CSS3 Box Shadow Tutorial](http://www.css3.info/preview/box-shadow/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-16T23:54:57.987

您可以尝试修改此：http: [//jsfiddle.net/KyuH7/](http://jsfiddle.net/KyuH7/)

```
<div id="box_wrapper">
   <div id="box">
   </div>
   <div id="box_shadow">
   </div>
</div>

#box_wrapper{
    width:300px;
    height:300px;
    position:relative;
    z-index:2;
}

#box_wrapper #box{
    width:300px;
    height:300px;
    position:absolute;
    background:#FFF;
    top:0;
    left:0;
    z-index:3;
}

#box_wrapper #box_shadow{
   width:290px;
   height:50px;
   background:#CCC;
   position:absolute;
   bottom:0;
   left:5px;
   z-index:0;
   box-shadow:0px 10px 5px rgba(0,0,0,.1)
} 
```

# java - 如何在 Java 中更改 cmd 的文本和背景颜色？

> ID：15444517
> 
> 赞同：0
> 
> 时间：2013-03-16T01:20:44.643
> 
> 标签：java, text, colors, background, cmd

我做 Java 已经有一段时间了，我从来没有看过关于如何让 cmd 更改文本和背景颜色的教程。在 C++ 中，您可以只使用 SetConsoleTextAttribute(); 它会改变背景和文字的颜色。是否有您在 Java 中导入的类以允许您这样做，或者是否有您必须下载的第三方 API？提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-03-13T10:55:59.513

下载 jansi-1.4.jar 并尝试此代码 100% 工作：

```
import org.fusesource.jansi.AnsiConsole;
import static org.fusesource.jansi.Ansi.*;
import static org.fusesource.jansi.Ansi.Color.*;

public class Sample
{
  public static void main(String[] args)
  {
    AnsiConsole.systemInstall();

    System.out.println(ansi().fg(RED).a("Hello World").reset());
    System.out.println("My Name is Raman");

    AnsiConsole.systemUninstall();
  }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-16T01:25:02.523

尝试 ANSI 转义码[http://en.wikipedia.org/wiki/ANSI_escape_code](http://en.wikipedia.org/wiki/ANSI_escape_code)

```
System.out.println("\033[6mHello world"); 
```

虽然可能无法在您的控制台上运行...

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2018-12-07T02:16:00.060

如果这是专门用于 windows(cmd) 的，那么：

```
new ProcessBuilder("cmd", "/c", "color XX").inheritIO().start().waitFor(); 
```

应该给你你想要的结果。

其中 XX 是与您要使用的背景和文本颜色相对应的颜色代码。

# javascript - javascript - 直接将图像“传输”到其他对象

> ID：15444520
> 
> 赞同：0
> 
> 时间：2013-03-16T01:21:25.620
> 
> 标签：javascript, image, position, runtime

我在想，当您创建另一个具有相同类的图像对象时，它会再次从 url 下载图像文件。如果我制作一个图像对象并将实际的图像文件保存在内存中，然后用它来设置新的对象图像`src`，那会节省时间吗？甚至可能吗？我的游戏将有几个具有相同图像文件的对象。

```
var imgtemplate = new Image();
imgtemplate.src = "my url";

var newimg = new Image();
newimg.src = imgtemplate.src; 
```

上面的代码是否有效，还是只是传输“我的 url”字符串？

# perl - 在 Perl 模块上初始化全局变量（使用 BEGIN 块）包括

> ID：15444523
> 
> 赞同：1
> 
> 时间：2013-03-16T01:21:37.537
> 
> 标签：perl

我试图从一个有`BEGIN`块的 Perl 模块初始化一个全局变量，但我无法让它工作。

这是 Perl 模块

```
Package A::B;
our $var;

BEGIN{
  $var ||= "/some/default/path";

  #create/access files/folders in $var
} 
```

这是我的 CGI 脚本

```
use A::B;
$A::B::var = "/correct/path"; 
```

但`#error`返回是因为 $var 不是正确的路径

`BEGIN`在将正确路径分配给 之前，正在执行该块`$var`。有没有办法解决这个问题而不必从`BEGIN`块中删除代码？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-16T01:26:26.643

```
BEGIN { $A::B::var = "/correct/path" }
use A::B; 
```

这个答案让我不满意，但考虑到您的 A::B 的设计方式，我想不出任何其他方式。理想情况下，一个模块不取决于谁在使用它或使用它的频率，但这个模块实际上只能使用一次。

# cuda - cuda-gdb 看不到可用设备

> ID：15444525
> 
> 赞同：0
> 
> 时间：2013-03-16T01:22:29.253
> 
> 标签：cuda, cuda-gdb

我正在尝试通过 ssh 在远程集群上使用 cuda-gdb 调试我的代码。节点上有 6 个 Tesla C2070 gpu：

```
$ deviceQuery | grep "^Device"
Device 0: "Tesla C2070"
Device 1: "Tesla C2070"
Device 2: "Tesla C2070"
Device 3: "Tesla C2070"
Device 4: "Tesla C2070"
Device 5: "Tesla C2070" 
```

但是当我在cuda-gdb下运行代码时，它仍然给我错误代码=24：“致命：所有CUDA设备都用于显示，不能在调试时使用。”

我已经设置`-gencode arch=compute_20,code=sm_20`并编译得很好。当我输入`info cuda devices`调试器时，它会吐出`No CUDA devices`. 我也尝试了导出`CUDA_VISIBLE_DEVICES="0,2"`，但仍然无法正常工作。我应该怎么办？我正在使用 cuda 5.0。提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-01T17:22:17.860

尝试运行“lsof /dev/nvidia*”，它会告诉你哪个程序保持设备节点打开。如果 X 正在使用这些 GPU，则从输出中可以明显看出。

# javascript - 没有 node.js 的 Socket.io 客户端

> ID：15444533
> 
> 赞同：2
> 
> 时间：2013-03-16T01:23:51.233
> 
> 标签：javascript, socket.io

我想要一个连接（是客户端）到 socket.io/node.js 后端的网页，但网页不应该通过/使用 node.js 提供/启动，而应该是一个单独的项目，没有任何 node.js 使用。

我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2018-07-15T08:17:25.410

[Socket.io](https://socket.io/)带有两个独立的库，一个用于客户端使用，一个用于创建服务器。
[客户端库](https://socket.io/docs/client-api/)既可以在 Web 浏览器中使用，也可以在 Node.js 应用程序中使用。
[服务器库](https://socket.io/docs/server-api/)需要 Node.js。

所以用 Node.js 实现你的 Socket.IO 服务器然后用客户端库连接到它是很重要的。

为了在网页中使用 Socket.IO 客户端库，您只需使用`script`标签将其包含在页面中，然后连接到您的服务器：

```
<script src="/socket.io/socket.io.js"></script>
<script>
  var socket = io.connect('http://localhost:8080');
  socket.on('news', function (data) {
    console.log(data);
    socket.emit('my other event', { my: 'data' });
  });
</script> 
```

可以使用您想要的任何技术提供您的 HTML 页面；例如，您可以使用 Django 框架和 Python 作为其后端来生成 HTML 页面。或者简单地运行一个 Web 服务器（例如 Nginx），或者甚至在您选择的浏览器中将 HTML 页面作为文件打开。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2019-12-14T00:58:53.370

没有明确要求在服务器端使用节点。例如，Flask 使用 python 作为服务器端库： [https ://flask-socketio.readthedocs.io/en/latest/](https://flask-socketio.readthedocs.io/en/latest/)

socket.io 还有一个 C 服务器库，我相信还有许多其他语言可以使用它。这里的问题是所有节点文档都使用“/socket.io/socket.io.js”脚本 URL，这意味着 node.js*以某种方式*提供文件，但我们希望在不使用 Node 的情况下提供该文件。

在烧瓶示例中，看起来他们使用以下脚本标签提供服务：

```
<script src="//cdnjs.cloudflare.com/ajax/libs/socket.io/2.2.0/socket.io.js" integrity="sha256-yr4fRk/GU1ehYJPAs8P4JlTgu0Hdsp4ZKrx8bDEDC3I=" crossorigin="anonymous"></script> 
```

根据您的服务器端使用的内容，它们也可能有自己的客户端实现。我个人建议阅读 socket.io 实现的文档，看看它们是否指定了客户端库。

# java - 循环 .CSV 和绘制地图标记

> ID：15444535
> 
> 赞同：0
> 
> 时间：2013-03-16T01:24:07.767
> 
> 标签：java, android, google-maps

尝试在 GoogleMap ( `googleMap`) 上绘制标记。属性存储在 CSV 文件中，其结构为`name`、`code`（主要用作片段）`latitude`和`longitude`. 这没有任何错误，但没有正确编译

```
 String name;
    String code; 
    String latitude;
    String longitude;
    String fileName;

    fileName = "sleepertrain5/assests/stations.csv";

    InputStream is = null;
    try {
        is = getAssets().open(fileName);
    } catch (IOException e1) {
        // TODO Auto-generated catch block
        e1.printStackTrace();
    }

    BufferedReader reader = new BufferedReader(new InputStreamReader(is));
    try {
        String line;
        while ((line = reader.readLine()) != null) {
             String[] RowData = line.split(",");
             name = RowData[0];
             code = RowData[1];
             latitude= RowData[2];
             longitude=RowData[3];

             String latAmount=latitude;
             double amount1=Float.parseFloat(latAmount);

             String longAmount=latitude;
             double amount2=Float.parseFloat(longAmount);

             googleMap.addMarker(new MarkerOptions()
             .position(new LatLng(amount1, amount2))
             .title(name)
             .snippet("Station code: "+ code));

        }
    }
    catch (IOException ex) {
        // handle exception
    }
    finally {
        try {
            is.close();
        }
        catch (IOException e) {
            // handle exception
        } 
```

关于我将如何做到这一点的任何帮助？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-16T02:33:39.720

我发现了问题：CSV 文件的一行中有一个小错误导致它崩溃。

# java - Clojure 中的素数生成时间

> ID：15444538
> 
> 赞同：3
> 
> 时间：2013-03-16T01:24:29.200
> 
> 标签：java, clojure, primes

对于真正熟悉 Clojure 的人来说，这将是一个问题。
我想用 Java 和 Clojure 编写简单的素数检查函数，并比较执行时间。
所以这是我的Java代码：

```
import java.util.LinkedList;

public class Primes {
public static void main(String args[])
{
    long start = System.nanoTime();
    getPrimes(10000);
    long end = System.nanoTime();

    System.out.println(((float)(end - start)/1000000) + "ms");
}

private static LinkedList<Integer> getPrimes(int n)
{
    int count = 0;
    int current = 1;
    LinkedList<Integer> primes = new LinkedList<Integer>();

    while(count <= n)
    {
        if(isPrime(current))
        {
            primes.add(current);
            count++;
        }
        current++;
    }
    return primes;
}

private static boolean isPrime(long n)
{
    if(n <= 0) return false;
    if(n == 1 || n == 2) return true;
    if(n % 2 == 0) return false;
    for(int i=3; i<Math.sqrt(n) + 1; i=i+2)
    {
        if(n % i == 0){
            return false;
        }
    }
    return true;
}
} 
```

这是 Clojure 等价物：

```
(defn prime? [n]
  (or (= n 2) (not (some #(zero? (rem n %)) (conj (range 3 (inc (Math/sqrt n)) 2) 2)))))

(defn printPrimes [n] (take n (filter prime? (iterate inc 1))))

(defn ExecTime [function & arguments] (let [start (System/nanoTime), return (dorun (apply function arguments)), end (System/nanoTime)] (/ (- end start) 1000000.0)))

(ExecTime printPrimes 10000) 
```

现在有几件事我不确定：

1.  (let) 和绑定开始和结束时间是否可以测量 Clojure 中的执行时间？
2.  由于某种原因（即使 Java 和 Clojure 版本使用相同的算法），Clojure 版本要慢得多（J：~50ms，C：~400ms）。难道我做错了什么？

如果我犯了一些明显的错误，请原谅我的无知，但我仍处于 Clojure 的学习阶段......

- - -编辑 - - -

我已经对其进行了优化，最终达到了与 Java 相同的时间。我在我的博客中为感兴趣的人描述了它：
[http ://blog.programmingdan.com/?p=35](http://blog.programmingdan.com/?p=35)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-16T01:58:45.093

这种计时方法很常见，它内置

```
user> (time (reduce + (range 1000)))                                                                                                                                      
"Elapsed time: 1.350419 msecs"                                                                                                                                            
499500 
```

虽然从基准测试的角度来看，我建议使用 Hugo Duncans 的 Criterium 库并[阅读这篇关于使用它的帖子](http://hugoduncan.org/post/2010/benchmarking_clojure_code_with_criterium.xhtml)。至于使 clojure 代码快速运行，clojure 版本大部分时间都在分配 seq 对象。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-17T17:30:48.920

正如上面提到的答案，也许它正在处理惰性序列。这是我的证据......

```
;; original prime? function
(defn prime? [n]
  (or (= n 2) 
      (not (some #(zero? (rem n %)) 
                 (conj (range 3 
                              (inc (Math/sqrt n)) 
                              2) 
                       2)))))

;; prime? function using recur
(defn prime?-recur [num]
  (cond (< num 2) false
        (= num 2) true
        (zero? (mod num 2)) false
        :else (loop [n num
                     i 3]
                (cond (>= i (inc (Math/sqrt n))) true
                      (zero? (mod n i)) false
                      (< i (inc (Math/sqrt n))) (recur n (+ i 2))))))

;; original printPrimes with option for testing both prime? funs
;; note I changed this to start on 2 since 1 is not prime
(defn printPrimes [n fn] (take n (filter fn (iterate inc 2))))

;; printPrimes using recursion
(defn printPrimes-recur [num fn]
  (loop [n num i 2 primes []]
    (cond (and (fn i) (< (count primes) n)) (recur n (+ i 1) (conj primes i))
          (< (count primes) n) (recur n (+ i 1) primes)
          :else primes))) 
```

现在，让我们运行这些。首先只是为了确保新代码与您的原始代码匹配：

```
foo> (= (printPrimes 10000 prime?)
        (printPrimes 10000 prime?-recur)
        (printPrimes-recur 10000 prime?)
        (printPrimes-recur 10000 prime?-recur))

true 
```

现在有一段时间了！（使用您的 ExecTime 功能）

```
foo> (println (ExecTime printPrimes 10000 prime?)
              (ExecTime printPrimes 10000 prime?-recur)
              (ExecTime printPrimes-recur 10000 prime?)
              (ExecTime printPrimes-recur 10000 prime?-recur))

575.977 166.691 548.363 141.356
nil 
```

所以我们看到了质数的变化？使用递归的函数有很大的不同（大约快 4 倍），并且将 printPrimes 函数更改为使用递归也有很大的不同，但这只是一个很小的区别。我不确定 java 版本在我的计算机上需要多长时间，但您至少可以从上面的时间看到循环/递归版本似乎比使用 seqs 的原始 clojure 版本更快。

注意：您也可以尝试类型提示（[http://clojure.org/java_interop#Java%20Interop-Type%20Hints](http://clojure.org/java_interop#Java%20Interop-Type%20Hints)，[http://kotka.de/blog/2012/06/Did_you_know_IX.html](http://kotka.de/blog/2012/06/Did_you_know_IX.html)）以提高速度，但是当我尝试这样做时，并没有什么不同。那可能是因为我以前没有做过太多这样的事情，所以我可能做的不正确。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-03-16T02:44:32.107

由于您在 Java 代码中有提前返回，我认为等价的将是`some`，而不是`every`. 例如：

```
(defn prime? [n]
  (or (= n 2)
      (and (odd? n)
           (not (some #(= 0 (mod n %)) 
                      (range 3 (inc (Math/sqrt n))))))))

(time (doall (filter prime? (range 10000)))) 
```

在我的机器上，它的运行与您的 Java 版本大致相同。

顺便说一句：我不认为 1 被认为是质数。

# ruby-on-rails - Ruby on Rails 与 Amazon ElasticBeanstalk

> ID：15444542
> 
> 赞同：0
> 
> 时间：2013-03-16T01:25:32.183
> 
> 标签：ruby-on-rails, ruby, amazon-web-services, gem, amazon-elastic-beanstalk

我只是想知道为什么很难在 aws Elaticbeanstalk 上运行我的 ROR 应用程序？我的应用程序在 localhost 上运行良好，但是当我在 aws 上部署时，它显示了这个错误

![在此处输入图像描述](../Images/28b28038adfb350995584c0e2963c152.png)

我想知道如何在aws上正确部署rails应用程序，以及aws如何安装gem。以下是我的一些配置：

.ebextensions/ruby.config

```
option_settings:
  - option_name: BUNDLE_DISABLE_SHARED_GEMS
    value: "1"
  - option_name: BUNDLE_PATH
    value: "vendor/bundle"

packages:
  yum:
    git: [] 
```

我的路线：

```
Apps2::Application.routes.draw do

  devise_for :users, :controllers => { :omniauth_callbacks => "omniauth_callbacks" }

  resources :posts

  root :to => 'posts#index'
end 
```

另外我想知道一旦部署在aws上，我们有什么方法可以调试我们的应用程序？谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-17T18:29:36.717

您将需要检查您的生产日志：

[http://docs.aws.amazon.com/elasticbeanstalk/latest/dg/using-features.loggingS3.title.html](http://docs.aws.amazon.com/elasticbeanstalk/latest/dg/using-features.loggingS3.title.html)

或者更直接一点，让应用程序显示完整的错误而不是错误页面（config/environments/production.rb）：

```
config.action_controller.consider_all_requests_local = true 
```

（这对生产不好，但很容易调试让你开始）

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2014-07-06T11:18:14.533

> aws如何安装gem [原文如此]

将您的应用程序推送到 Elastic Beanstalk 后，会自动安装 Gemfile 中的 gem。[资源](http://ruby.awsblog.com/post/Tx2AK2MFX0QHRIO/Deploying-Ruby-Applications-to-AWS-Elastic-Beanstalk-with-Git)

> 另外我想知道一旦部署在aws上，我们有什么方法可以调试我们的应用程序？

SSH 进入您的实例，然后导航到 /var/app/current/logs 以检查您的 Ruby on Rails 日志。

# database - 将内存数据库转储到磁盘

> ID：15444544
> 
> 赞同：1
> 
> 时间：2013-03-16T01:25:42.590
> 
> 标签：database, dump, snapshot, persistent, in-memory

我已经创建了自己的内存数据库（键值对）。将其转储到磁盘作为备份的有效方法是什么。我也在定期写入内存数据库。我需要提供持久性。是否有一种文件格式可以用来仅追加修改/添加的记录（仅将增量刷新到磁盘文件而不是对整个数据库进行快照）？

# java - 如何同步事物

> ID：15444546
> 
> 赞同：0
> 
> 时间：2013-03-16T01:25:55.530
> 
> 标签：java

我一直在想这个。我不知道事情怎么会同时发生。

我想知道如何在没有单独线程的情况下在 java 中同步。例如，在一个真正的视频游戏中，事情如何在没有单独线程的情况下同时发生？
一个人如何在游戏中同时移动两条肢体？
我怎么能在java中做到这一点？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-16T01:35:32.437

一般他们不会。视频游戏中的这些更新通常一次完成，然后在一个帧中一次渲染。所以有一个状态更新步骤，然后是一个渲染步骤。

在更新步骤中，例如，手臂中骨骼的位置将根据它们应该如何移动（可能是响应从键盘或鼠标接收到的输入）进行更新，然后再次渲染整个场景新职位。

没有线程，事情就不会（技术上）同时发生。通常，程序会等待来自某些东西（用户或网络，​​或者只是一个您设置为每 100 毫秒关闭一次的计时器）的输入，当程序的一部分在等待时，另一部分可能跑。

这些情况通常是事件驱动的——请查看[观察者模式](http://en.wikipedia.org/wiki/Observer_pattern)，了解如何处理这种情况。您将有一些东西等待输入，然后触发适当的响应事件，这些事件被“等待”该事件发生的任意数量的对象“监听”。

这通常会呈现同时发生的事情的外观，因为您尝试使在这些事件上运行的代码保持较小 - 它是如此之快以至于您无法区分。

但是，如果您真的希望事情同时运行，您只需要使用线程（或进入显卡编程 - 这很有趣：D）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-16T01:36:21.263

标准的软件架构是一个游戏循环。基本上是这样的：

```
while the game is running
    for each object in the game
        check for interactions with other objects
        update the objects position
    draw the game state to a hidden surface
    copy the hidden surface to the screen 
```

# google-drive-api - 有没有办法拥有私人数据？

> ID：15444547
> 
> 赞同：0
> 
> 时间：2013-03-16T01:25:58.683
> 
> 标签：google-drive-api

我知道快捷链接。寻找类似于原生 Google 文档的行为。文件存在，可能占用存储空间，可以重命名/移动/删除，但里面的数据不应该被应用程序修改。可能，定义导出格式/链接。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-16T01:43:56.350

我相信答案是简单的“否”——Google Drive 用于存储用户文件，而不是受保护的应用程序数据或配置数据。因此，您可以将文件放入用户驱动器，但只有驱动器的所有者才能控制文件是共享还是更改。所以他们可以编辑它，你不能阻止他们，而且没有理由认为这将成为未来的一个功能。

要进行此类控制，您需要将此类数据存储在您自己的服务器或其他一些此类存储介质上。

例如，您只能使用 Google Drive 做的另一件事是加密您存储的配置文件，因此无法轻松编辑它 - 但这可能只是个坏主意。如果您必须将配置文件保存到个人驱动器，请将其埋在应用程序文件夹中并对其进行完整性检查以确保它没有损坏 - 但不要指望个人或应用程序永远不会打开和编辑它。如果这是一个人不应该能够阅读或更改的内容，请不要将其保存到他们的驱动器中。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-05-06T13:27:26.967

截至 2012 年 4 月，支持应用程序数据：[什么是应用程序数据文件夹？](https://developers.google.com/drive/appdata).

“导出格式链接”可以使用[自定义文件属性](https://developers.google.com/drive/properties)完成，但是，我不确定示例字符串之外的值支持哪种数据类型。

# node.js - node js localhost shal打开一个文件

> ID：15444553
> 
> 赞同：0
> 
> 时间：2013-03-16T01:26:55.023
> 
> 标签：node.js

教程：我想通过 localhost 打开一个文件，但我不知道我必须在浏览器中输入哪个路径。是 localhost，我的 server.js 所在的位置吗？（对不起，我是编程和节点的新手）

教程代码

```
var path = require('path'),
    fs = require('fs');

require('http').createServer(function(req, res) {
  var file = path.normalize(req.url);

  console.log(file);

  path.exists(file, function(exists) {
    if (exists) {
      fs.stat(file, function(err, stat) {
        var rs;

        if (err) { throw err; }
        if (stat.isDirectory()) {
          res.writeHead(403);
          res.end('Forbidden');
        } else {
          rs = fs.createReadStream(file);
          res.writeHead(200);
          rs.pipe(res);
        }
      });
    } else {
      res.writeHead(404);
      res.end('Not found');
    }
  })
}).listen(4000); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-16T05:37:40.130

`request.url`通常`/something/like/an/absolute/path`，除非您从 HTTP 代理客户端（添加`http://...`前缀`request.url`）获取请求或发出一些自定义 HTTP 请求。

无论如何`path.normalize`只需要照顾`..`And `.`s。您的代码将允许任何人访问您计算机上的任何文件（可由`node`运行进程的帐户访问）。

更好/更安全的做法是加入`__dirname`decoded`request.url`并检查解析的路径是否以您要提供静态内容的目录的绝对路径（带有尾随路径分隔符）开头：

```
var scriptDir = path.resolve(__dirname + path.sep + "static" + path.sep),
    requestPath = decodeURIComponent(request.url);
requestPath = path.resolve(path.join(__dirname, "static", requestPath));
if (requestPath.indexOf(scriptDir) === 0) {
    // serve the file
} else {
    response.writeHead(403);
    response.end(http.STATUS_CODES[403]);
} 
```

现在，如果您要求说，`http://localhost:4000/index.html`它应该提供位于`/path/to/your/node/app/dir/static/index.html`

# php - 加载外部 php 页面

> ID：15444554
> 
> 赞同：2
> 
> 时间：2013-03-16T01:27:00.027
> 
> 标签：php, jquery, ajax, loading, external

下面的函数抓取一个 php 页面，然后每 5 秒重新加载一次。唯一来自该`roomdata.php`页面的是带有颜色名称（蓝色、黄色等）的字符串。我希望能够在函数中使用该名称`modifyLight(color)`，但它不允许我这样做。我不知道为什么，但无论我尝试了什么，它都不会将变量数据视为字符串，即使我将其澄清为一个字符串。

任何帮助表示赞赏，谢谢！

```
$(function(){
  function loadData()
  {  
    var data = load('roomdata.php');
    modifyLight(data);
    setTimeout(loadData, 5000); // makes it reload every 5 sec
  }
  loadData(); // start the process...
}); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-16T01:33:48.003

您正在使用异步 ajad 调用。您需要将您的请求配置为同步。

```
 $.ajax(URL, {async : false}); 
```

这样，下一行的执行将一直执行到 ajax 请求完成为止。

**编辑**

你的功能应该是这样的：

```
$(function(){
  function loadData() {
     $.post("roomdata.php", function(result) {
        modifyLight(result);
        setTiemout(function() { loadData(); }, 5000);
     }  
  }
  loadData(); // start the process...
}); 
```

您这样做的方式的问题是`$.load();`仅使用 Ajax 加载某些内容并将内容放在`$('#yourdiv');`它不返回任何内容。您需要一个 ajax 请求，其中包含“成功”事件中的某些内容。在我给你的代码中，`$.post`通过 post 发出一个 ajax 请求`roomdata.php`，然后，一旦 ajax 完成，它就会执行函数`function(result) { ... }`

# asp.net-mvc - 对象上的 NullReferenceException 不为空

> ID：15444555
> 
> 赞同：1
> 
> 时间：2013-03-16T01:27:03.867
> 
> 标签：asp.net-mvc, entity-framework, razor, nullreferenceexception

我将一个对象传递给一个视图并得到一个空引用异常，但该对象不为空。

![在此处输入图像描述](../Images/d595d5f509868c414ac3d580b0d35ccc.png)

在 Action 我有这个简单的代码：

```
return View(db.Users.First()); 
```

查看代码：

```
 @model User
    @using DG.WEB.Models

    @{
        ViewBag.SecondTitle = "Ver";
        ViewBag.MostraEditarTab = "false";
        ViewBag.MostraApagarTab = "false";
        ViewBag.Tab = "tab2";
        Layout = "~/Views/Conds/_Layout.cshtml";
    }

    <div class="container">
        @if (Model != null)
        {
            <h5>@Model.Nome</h5>

            <div id="container_atalhos">
                <div class="btn-group">
                  <a href="#" class="btn btn-mini"><i class="icon-th-large"></i>&nbsp;Nova frac</a>
                  <a href="#" class="btn btn-mini"><i class="icon-fire"></i>&nbsp;Nova Ocorrência</a>
                  <a href="#" class="btn btn-mini"><i class="icon-shopping-cart"></i>&nbsp;Novo Fornecedor</a>
                  <a href="#" class="btn btn-mini"><i class="icon-file"></i>&nbsp;Novo documento</a>
                  <a href="#" class="btn btn-mini"><i class="icon-pencil"></i>&nbsp;Editar</a>
                  <a href="#" class="btn btn-warning btn-mini"><i class="icon-remove-circle icon-white"></i>&nbsp;Apagar</a>
                </div>
            </div>
        }else{
           @:Not found
        }
</div> 
```

**编辑：** 我只是测试一个打印视图中第一个用户名称的小代码。它发生在我身上同样的错误！try / catch 显然效果不佳......我不明白。

看图片 ![在此处输入图像描述](../Images/90e0a77d43a0fc758b655e68183e2e43.png)

**EDIT2：** 我发现了错误。在布局页面中有一个错误，由于某种原因，Visual Studio 没有检测到它。

谢谢大家。

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2016-02-09T13:36:19.607

通常这样的错误与它们爆炸的地方没有直接关系，而是 IoC / 依赖注入的结果。

基本上发生的是，在后台，依赖注入能够根据需要提供各种对象，但这是一种*懒惰*的方式。因此，如果某些东西——比如你的布局页面——还不需要，它还不会被创建。

因此，当您访问模型之类的东西时，它可能具有需要布局之类的内部需求，然后依赖注入启动，在您的模型中引发错误，即使该错误根本与模型无关。

这是依赖注入真正困难的方面之一，将来可能会再次困扰您:(。

我所知道的也没有最佳实践来避免这种情况。您逐渐解决问题的方法是继续 AFAIK 的最佳方法。

# javascript - 如何使用 Select2 从原始选择中过滤掉选项标签？

> ID：15444560
> 
> 赞同：7
> 
> 时间：2013-03-16T01:27:30.100
> 
> 标签：javascript, jquery, jquery-select2

似乎是一个非常简单的想法，但我无法弄清楚如何从 select2 下拉列表中过滤掉原始选择的选项标签。

基本上，这是：

```
<select id="select">
    <option class="car">Car 1</option>
    <option class="plane">Plane 1</option>
</select>

$("#select").select2(); 
```

...应该创建一个只有带有 class 的选项标签的假选择`car`。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2015-01-20T21:45:13.363

看来 OP 在[https://github.com/select2/select2/issues/1048](https://github.com/select2/select2/issues/1048)找到了答案。

答案是提供一个[`matcher`](http://select2.github.io/select2/)函数。

```
$("#select").select2({
    matcher: function(term, text, option) {
        return option.hasClass('car');
    }
}); 
```

[jsfiddle](http://jsfiddle.net/aenavzt0/)

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2016-06-02T09:38:04.823

只是为了使这个问题保持最新。使用提供该`matcher`功能的建议答案已过时。从 Select2 4.0.0 开始，您需要[使用带有以下内容的包装](https://select2.github.io/examples.html#matcher)器`matcher`：

```
function matchStart (term, text) {
  if (text.toUpperCase().indexOf(term.toUpperCase()) == 0) {
    return true;
  }

  return false;
}

$.fn.select2.amd.require(['select2/compat/matcher'], function (oldMatcher) {
  $(".js-example-matcher-start").select2({
    matcher: oldMatcher(matchStart)
  })
}); 
```

对我来说，这不起作用。我不知道为什么。但是我找到了解决方法。显然，使用 Select2 您还可以为选择中的每个或元素的`.select2()`方法提供格式函数。`option`例如，当您想在每个元素前面加上一个图标或类似的东西。`null`事实证明，如果您在格式函数中 返回，该元素将不会显示在下拉列表中，如下所示：

```
function formatState(state) {
            if (!state.id) { return state.text; }
            if (state.disabled) { return null; }
            var $state = $('<span>'.concat(state.text).concat("</span>"));
            return $state;
        }

$('#myDropdown').select2({
      templateResult: formatState
}); 
```

这立即对我有用。也许它可以帮助你们中的任何人使用当前的实现。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2015-01-20T20:48:52.613

您应该使用该选项的“禁用”属性。如果要过滤掉它，请将其设置为“禁用”。这在 select2 中将其变灰。或者，您可以使用 CSS 类将其隐藏，而不是将其变灰。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2017-12-21T13:44:24.423

我一直在努力解决问题，并发布了我自己的类似[问题](https://stackoverflow.com/questions/40844988/how-to-dynamically-filter-a-select2-listing-based-on-option-class)。上面提供的匹配器解决方案的问题在于，匹配器用于匹配搜索，而仅打开下拉列表只会匹配所有列表，因此会显示所有不太令人满意的内容。

在最初的错误[解决方案](https://stackoverflow.com/questions/40844988/how-to-dynamically-filter-a-select2-listing-based-on-option-class/40844989#40844989)之后，我终于求助于“销毁”select2 并在过滤选择后重建它。这是使用这种方法的问题的解决方案，

```
//assuming you are usign jquery...
//keep a non-filtered copy of the original select
var $clonedSelect = $('select#select').clone();
$.fn.filterSelect2 = function(class=''){
  if( $(this).is('select') ){
    $(this).select2('destroy');
    $(this).empty();
    $(this).append( $('option.'+class, $clonedSelect).clone() );
    $(this).select2();
  }
  return $(this);
}
$('select#select').filterSelect2('car'); //will create a select2 with only the car class options. 
```

我还没有对此进行测试，但我在最近的一个项目中对一个更复杂的案例使用了类似的逻辑，发现它工作得很好。

# drag-and-drop - KineticJS drag an object on one stage result in moving an object on another stages

> ID：15444565
> 
> 赞同：0
> 
> 时间：2013-03-16T01:28:10.400
> 
> 标签：drag-and-drop, kineticjs

I have two stages on my page; I would like to move a line on the second stage when I drag a line of the first stage by the same values. Here is my script:

```
 <script src="../../Scripts/KineticJS.js" type="text/javascript"></script>
    <div id="container1" style="width: 512px; height: 512px;">
    </div>
    <div id="container2" style="width: 512px; height: 512px;">
    </div>
    <script type="text/javascript">
        var stage2 = new Kinetic.Stage({
            container: 'container2',
            width: 512,
            height: 512
        });
        var Greenlinelayer2 = new Kinetic.Layer();
        var GreenLine2 = new Kinetic.Line({
            points: [0, 256, 512, 256],
            stroke: '#00ff00',
            strokeWidth: 2,
            lineCap: 'round',
            lineJoin: 'round',
            draggable: true,
            dragBoundFunc: function (pos) {
            if (GreenLine1) {
            GreenLine1.points = [0, 256 + pos.y, 512, 256 + pos.y];
            }
            return {
                x: this.getAbsolutePosition().x,
                y: pos.y
            }
        }
        });
        Greenlinelayer2.add(GreenLine2);
        Greenlinelayer2.draw();
        stage2.add(Greenlinelayer2);
        var stage1 = new Kinetic.Stage({
            container: 'container1',
            width: 512,
            height: 512
        });
        var Greenlinelayer1 = new Kinetic.Layer();
        GreenLine1 = new Kinetic.Line({
        points: [0, 256, 512, 256],
        stroke: '#00ff00',
        strokeWidth: 2,
        lineCap: 'round',
        lineJoin: 'round',
        draggable: true,
        dragBoundFunc: function (pos) {
            return {
                x: this.getAbsolutePosition().x,
                y: pos.y
            }
        }
        });
        Greenlinelayer1.add(GreenLine1);
        Greenlinelayer1.draw();
        stage1.add(Greenlinelayer1);
    </script> 
```

I would appreciate your suggestions, thanks in advance.

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-16T02:07:03.747

You could set a "dragend" event handler for Greenline1 that sets the X/Y of Greenline2

```
GreenLine1.on('dragend', function(event) {
  GreenLine2.setX(GreenLine1.getX());
  GreenLine2.setY(GreenLine1.getY());
  Greenlinelayer2.draw();
}); 
```

Full code:

```
<!doctype html>
<html>
<head>
<link rel="stylesheet" type="text/css" media="all" href="css/reset.css" /> <!-- reset css -->
<script type="text/javascript" src="http://code.jquery.com/jquery.min.js"></script>
<script src="http://www.html5canvastutorials.com/libraries/kinetic-v4.3.1-beta2.js"></script>

<style>
    body{ background-color: ivory; }
    canvas{border:1px solid red;}

</style>

<script>
    $(function(){

      var stage2 = new Kinetic.Stage({
            container: 'container2',
            width: 512,
            height: 512
        });
        var Greenlinelayer2 = new Kinetic.Layer();
        var GreenLine2 = new Kinetic.Line({
            points: [0, 256, 512, 256],
            stroke: '#00ff00',
            strokeWidth: 15,
            lineCap: 'round',
            lineJoin: 'round',
            draggable: true,
            dragBoundFunc: function (pos) {
            if (GreenLine1) {
            GreenLine1.points = [0, 256 + pos.y, 512, 256 + pos.y];
            }
            return {
                x: this.getAbsolutePosition().x,
                y: pos.y
            }
        }
        });
        Greenlinelayer2.add(GreenLine2);
        Greenlinelayer2.draw();
        stage2.add(Greenlinelayer2);
        var stage1 = new Kinetic.Stage({
            container: 'container1',
            width: 512,
            height: 512
        });
        var Greenlinelayer1 = new Kinetic.Layer();
        GreenLine1 = new Kinetic.Line({
        points: [0, 256, 512, 256],
        stroke: '#ff0000',
        strokeWidth: 25,
        lineCap: 'round',
        lineJoin: 'round',
        draggable: true,
        dragBoundFunc: function (pos) {
            return {
                x: this.getAbsolutePosition().x,
                y: pos.y
            }
        }
        });
        Greenlinelayer1.add(GreenLine1);
        Greenlinelayer1.draw();
        stage1.add(Greenlinelayer1);

  GreenLine1.on('dragend', function(event) {
    GreenLine2.setX(GreenLine1.getX());
    GreenLine2.setY(GreenLine1.getY());
    Greenlinelayer2.draw();
  });

    }); // end $(function(){});
</script>

</head>

<body>
    <div id="container1" style="width: 512px; height: 512px;">
    </div>
    <div id="container2" style="width: 512px; height: 512px;">
    </div>
</body>
</html> 
```

# c - 从字符串中删除空格和特殊字符

> ID：15444567
> 
> 赞同：3
> 
> 时间：2013-03-16T01:28:18.280
> 
> 标签：c, string

如何从字符串中删除空格**和**特殊字符？

谷歌搜索时我找不到一个答案。有很多与其他语言相关，但与 C 无关。其中大多数都提到了正则表达式的使用，这不是 C 标准（？）。

删除一个简单的空间很容易：

```
 char str[50] = "Remove The Spaces!!"; 
```

然后是一个带有 if 语句的简单循环：

```
if (str[i] != ' '); 
```

输出将是：

```
RemoveTheSpaces!! 
```

我要在 if 语句中添加什么，以便它能够识别特殊字符并删除它们？

我对特殊字符的定义：

```
Characters not included in this list: 
A-Z a-z 0-9 
```

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-03-16T01:39:16.867

这可能不是实现这一目标的最有效方法，但它会相当快地完成工作。

**注意**：此代码确实要求您包含`<string.h>`和`<ctype.h>`

```
char str[50] = "Remove The Spaces!!";
char strStripped[50];

int i = 0, c = 0; /*I'm assuming you're not using C99+*/
for(; i < strlen(str); i++)
{
    if (isalnum(str[i]))
    {
        strStripped[c] = str[i];
        c++;
    }
}
strStripped[c] = '\0'; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-16T02:03:23.800

这只是一个愚蠢的建议。

```
char ordinary[CHAR_MAX] = {
    ['A']=1,['B']=1,['C']=1,['D']=1,['E']=1,['F']=1,['G']=1,['H']=1,['I']=1,
    ['J']=1,['K']=1,['L']=1,['M']=1,['N']=1,['O']=1,['P']=1,['Q']=1,['R']=1,
    ['S']=1,['T']=1,['U']=1,['V']=1,['W']=1,['X']=1,['Y']=1,['Z']=1,

    ['a']=1,['b']=1,['c']=1,['d']=1,['e']=1,['f']=1,['g']=1,['h']=1,['i']=1,
    ['j']=1,['k']=1,['l']=1,['m']=1,['n']=1,['o']=1,['p']=1,['q']=1,['r']=1,
    ['s']=1,['t']=1,['u']=1,['v']=1,['w']=1,['x']=1,['y']=1,['z']=1,

    ['0']=1,['1']=1,['2']=1,['3']=1,['4']=1,['5']=1,['6']=1,['7']=1,['8']=1,
    ['9']=1,
};

int is_special (int c) {
    if (c < 0) return 1;
    if (c >= CHAR_MAX) return 1;
    return !ordinary[c];
}

void remove_spaces_and_specials_in_place (char *str) {
    if (str) {
        char *p = str;
        for (; *str; ++str) {
            if (!is_special(*str)) *p++ = *str;
        }
        *p = '\0';
    }
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-16T02:06:52.813

有数百万种不同的方法可以做到这一点。这只是一个不使用任何额外存储并“就地”删除不需要的字符的示例：

```
#include <stdlib.h>
#include <stdio.h>
#include <ctype.h>

static void my_strip(char *data)
{
    unsigned long i = 0; /* Scanning index */
    unsigned long x = 0; /* Write back index */
    char c;

    /*
     * Store every next character in `c` and make sure it is not '\0'
     * because '\0' indicates the end of string, and we don't want
     * to read past the end not to trigger undefined behavior.
     * Then increment "scanning" index so that next time we read the
     * next character.
     */
    while ((c = data[i++]) != '\0') {
        /* Check if character is either alphabetic or numeric. */
        if (isalnum(c)) {
            /*
             * OK, this is what we need. Write it back.
             * Note that `x` will always be either the same as `i`
             * or less. After writing, increment `x` so that next
             * time we do not overwrite the previous result.
             */
            data[x++] = c;
        }
        /* else — this is something we don't need — so we don't increment the
           `x` while `i` is incremented. */
    }
    /* After all is done, ensure we terminate the string with '\0'. */
    data[x] = '\0';
}

int main()
{
    /* This is array we will be operating on. */
    char data[512];

    /* Ask your customer for a string. */
    printf("Please enter a string: ");

    if (fgets(data, sizeof(data), stdin) == NULL) {
        /* Something unexpected happened. */
        return EXIT_FAILURE;
    }

    /* Show the customer what we read (just in case :-)) */
    printf("You have entered: %s", data);

    /*
     * Call the magic function that removes everything and leaves
     * only alphabetic and numberic characters.
     */
    my_strip(data);

    /*
     * Print the end result. Note that newline (\n) is there
     * when we read the string
     */
    printf("Stripped string: %s\n", data);

    /* Our job is done! */
    return EXIT_SUCCESS;
} 
```

我在那里放了很多评论，所以希望代码不需要解释。希望能帮助到你。祝你好运！

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-16T01:38:37.187

这是ASCII码范围

`Char:Dec`

```
0:48, 9:57
A:65, Z:90
a:97, z:122 
```

试试这个：

```
char str[50] = "Remove The Spaces!!";

int i =0;
for(; i<strlen(str); i++)
{
    if(str[i]>=48 && str[i]<=57 || str[i]>=65 && str[i]<=90 || str[i]>=97 && str[i]<=122)
  //This is equivalent to
  //if(str[i]>='0' && str[i]<='9' || str[i]>='A' && str[i]<='Z' || str[i]>='a' && str[i]<='z')
        printf("alphaNumeric:%c\n", str[i]);
    else
    {
        printf("special:%c\n", str[i]);
        //remove that
    }
} 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-03-16T01:45:00.330

使用你的 if 语句：

```
if (str[i] != ' '); 
```

有一点逻辑（字符必须在 az 或 AZ 或 0-9 范围内：

```
If ( !('a' <= str[i] && 'z' >= str[i]) &&
     !('A' <= str[i] && 'Z' >= str[i]) &&
     !('0' <= str[i] && '9' >= str[i])) then ignore character. 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2014-05-19T18:29:42.577

```
#include <stdio.h>
#include <string.h>

main()
{
    int i=0, j=0;
    char c;
    char buff[255] = "Remove The Spaces!!";

    for(; c=buff[i]=buff[j]; j++){
       if(c>='A' && c<='Z' || c>='a' && c<='z' || c>='0' && c<='9'){
           i++;
       }
    }

    printf("char buff[255] = \"%s\"\n", buff);
} 
```

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2019-01-15T08:23:55.480

```
include < stdio.h >

int main()
{
    char a[100];

    int i;
    printf("Enter the character : ");
    gets(a);
    for (i = 0; a[i] != '\0'; i++) {
        if ((a[i] >= 'a' && a[i] <= 'z') || (a[i] >= 'A' && a[i] <= 'Z') 
             || (a[i] - 48 >= 0 && a[i] - 48 <= 9)) {
            printf("%c", a[i]);
        } else {
            continue;
        }
    }
    return 0;
} 
```

# ruby-on-rails - Ruby on Rails、ActiveRecord 回调、延迟执行

> ID：15444568
> 
> 赞同：0
> 
> 时间：2013-03-16T01:28:20.490
> 
> 标签：ruby-on-rails, callback

是否有任何回调，会在使用 create-method 的 10 分钟后调用一个方法？示例：上传了一张图片，调用了 create 方法，10 分钟后应该调用另一个方法。

提前致谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-16T01:32:17.640

你有几个选择：

*   Resque [https://github.com/defunkt/resque](https://github.com/defunkt/resque)

*   延迟作业[https://github.com/collectiveidea/delayed_job](https://github.com/collectiveidea/delayed_job)

替代方案将涉及阻止您的应用程序（不是一个选项）或查看并发性。

# vba - Efficient Word Count by Formatting Macro

> ID：15444572
> 
> 赞同：2
> 
> 时间：2013-03-16T01:29:06.957
> 
> 标签：vba, ms-office, ms-word

I have a word macro that counts all text in a document that is either highlighted or Un-underlined bold. The macro works fine - although the counts are slightly higher than what the "Find" feature returns on some documents (if anyone knows why I'd be excited to figure it out).

The issue with the macro is that it is remarkably inefficient and lags my computer for a non-trivial amount of time when running on documents of around 50 pages in length. Does anyone see a more efficient way to write a macro of similar functionality?

```
 Dim highlightCount
    Dim boldCount
    Dim wordTotal
    boldCount = 0
    highlightCount = 0

    For Each w In ActiveDocument.Words
        If w.HighlightColorIndex <> wdNoHighlight Then
            highlightCount = highlightCount + 1
        End If
        If w.Font.Bold = True Then
            If w.HighlightColorIndex = wdNoHighlight Then
                If w.Font.Underline = False Then
                    boldCount = boldCount + 1
                End If
            End If
        End If
    Next
    wordTotal = highlightCount + boldCount
    MsgBox ("There are " & wordTotal & " words to be spread")
End Sub 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-16T07:15:46.727

我无法回答您关于计数器结果太高的问题，因为我在您的代码中看不到问题。但我可以提出另一种解决方案，我使用`Find`对象，我猜它会比你的想法快得多。唯一的问题是您必须为您定义的两种单词条件分别运行两次“搜索”（以下两个循环）。

```
Sub CountWords()

Dim rngWords As Range
Set rngWords = ActiveDocument.Content
Dim boldCount As Long, highlightCount As Long
Dim wordTotal As Long

Do
With rngWords.Find
    .Highlight = True
    .Forward = True
    .Execute
End With
If rngWords.Find.Found = True Then
    highlightCount = highlightCount + rngWords.Words.Count
Else
    Exit Do
End If
Loop

Set rngWords = ActiveDocument.Content

Do
With rngWords.Find
    .Font.Bold = True
    .Highlight = False
    .Font.Underline = wdUnderlineNone
    .Forward = True
    .Execute
End With
If rngWords.Find.Found = True Then
    boldCount = boldCount + rngWords.Words.Count
Else
    Exit Do
End If
Loop

wordTotal = boldCount + highlightCount
MsgBox "There are " & wordTotal & " words to be spread"
End Sub 
```

你能否给我们一个线索，如果它更快，因为我没有 50 页的文件进行测试。

# javascript - Using SSL from a CA for server + allowing ssl client authorization that is self-signed with Node.js

> ID：15444573
> 
> 赞同：4
> 
> 时间：2013-03-16T01:29:10.067
> 
> 标签：javascript, node.js, authentication, ssl, ssl-certificate

First time working with SSL client authentication. The way it works with node.js while mixing with a certificate issued by a third-party CA (in this case it is StartSSL) is confusing me.

On production servers I'm using nginx as load balancer to different node.js instances. Since this is how I had done it before, nginx is handling all the HTTPS work and then passing a plain http request to a node instance. Since it has been deciding to always enforce SSL (for all kind of requests, using HSTS and using simple redirects), I'm considering the possibility to moving into having nginx doing only the balancing and letting the nodejs instances take care of the rest.

So, what I ignore is how to handle this with Node.js?

I found this blog post [http://www.gettingcirrius.com/2012/06/securing-nodejs-and-express-with-ssl.html](http://www.gettingcirrius.com/2012/06/securing-nodejs-and-express-with-ssl.html) and this other [http://blog.nategood.com/nodejs-ssl-client-cert-auth-api-rest](http://blog.nategood.com/nodejs-ssl-client-cert-auth-api-rest)

What I don't understand is how to handle both SSL authentications simultaneously. I hope I'm making some sense.

The idea is to generate a certificate for each user which has a CN that I match to a user, then ask for a password that, after bcrypted, should match what is on the database. While, at the same time, using the verification level 3 certificate that works with the CA to improve our users' safety.

# c - Swapping in a char * array[ ] leading to issues

> ID：15444578
> 
> 赞同：1
> 
> 时间：2013-03-16T01:29:33.087
> 
> 标签：c, swap, arrays

```
void sortArray(char* array[], int count){
int compare;
int index;
 for(index = 0; index < count; index++){ //runs through array, keeping track of index
   for(compare = index; compare < count; compare++){
        if (strcmp(array[compare] , array[index]) <= 0){
             swap(*(array+compare), *(array+index));
        }
   }
 }
}
void swap(char *strA, char *strB){
    char *temp = (char *)malloc((strlen(strA)+1) * sizeof(char));
    assert(temp!=NULL);
    strcpy(temp, strA);
    free(strA);
    strA=(char *)malloc((strlen(strB)+1) * sizeof(char));
    assert(strA!=NULL);
    strA=strcpy(strA, strB);
    free(strB);
    strB= (char *)malloc((strlen(temp)+1) * sizeof(char));
    assert(strB!=NULL);
    strcpy(strB, temp);
    free(temp);
} 
```

gives output:

```
Array1[0]: Adam Pendleton
Array1[1]: Jeison Ortega
Array1[2]: Theodore Staake
Array1[3]: Patrick Mahoney
Array1[4]: Andrew Silberstein
Array1[5]: Alan Boulais
Array1[6]: Daniel Comeau
Array1[7]: Sean Mikhael
Array1[8]: Sarah Shank
Array1[9]: Daniel Verge
Array1[10]: Dhimitris Natsis
Array1[11]: Kathleen Lent
Array1[12]: Osei Collins
Array1[13]: Jason Hintlian
Array1[14]: Michael Gibson
Array1[15]: Alex Grossi
Array1[16]: Michael Svedberg
Array1[17]: Randall White
Array1[18]: Alvin Cordor
Array1[19]: Rodrigo Roldan
Array1[20]: Matthew McArthur
Array1[21]: Jesse Anaya
    Sorted Array1[0]: Adam Pendleton
    Sorted Array1[1]: Patrick Mahoney
    Sorted Array1[2]: Theodore Staake
    Sorted Array1[3]: Sarah Shank
    Sorted Array1[4]: Dhimitris Natsis
    Sorted Array1[5]: Alan Boulais
    Sorted Array1[6]: Alex Grossi
    Sorted Array1[7]: Alvin Cordor
    Sorted Array1[8]: Sean Mikhael
    Sorted Array1[9]: Osei Collins
    Sorted Array1[10]: Michael Svedberg
    Sorted Array1[11]: Daniel Comeau
    Sorted Array1[12]: Daniel Verge
    Sorted Array1[13]: Jason Hintlian
    Sorted Array1[14]: Jesse Anaya
    Sorted Array1[15]: Michael Gibson
    Sorted Array1[16]: Matthew McArthur
    Sorted Array1[17]: Randall White
    Sorted Array1[18]: Rodrigo Roldan
    Sorted Array1[19]: Kathleen Lent    <-----not sure why this is dupe
    Sorted Array1[20]:                  <-----not sure why this is here
    Sorted Array1[21]: Kathleen Lent 
```

Im not sure where these blank spaces are coming from or why there are duplicate names. I have even created another function called reverseArray that just swapped first and last strings and it seems like the issue stems from the swap function, my guess is that when it is copying the strings there is some mess up there.

For this is just a small portion of what is going on, i have read in text from a file line by line to fill the char* array[] with strings of names, this works fine as evidenced by the array printing correctly before it is sorted.

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-16T01:36:40.300

我还不确定您的确切问题，但是您可以通过交换数组中字符串的位置来完成更简单和更有效的工作，而不是更改字符串本身：

```
void sortArray(char* array[], int count) {
    int compare;
    int index;
    char *tmp;
    for(index = 0; index < count; index++) {
        for(compare = index; compare < count; compare++) {
            if (strcmp(array[compare], array[index]) <= 0) {
                tmp = array[compare];
                array[compare] = array[index];
                array[index] = tmp;
            }
        }
    }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-16T16:03:23.007

The exact problem with your code is that your `swap()` function is freeing the two pointers passed into it, and does not return pointers to the new memory it allocates in any form. As a result, all of the pointers in the array you're sorting end up pointing to memory that has been freed -- it's a wonder that it works at all.

To fix this, you could change the signature of `swap()` to take the two pointers by reference:

```
void swap (char **strA, char **strB) 
```

and pass pointers in to it as:

```
swap(array+compare, array+index); 
```

That being said, Claudiu's suggestion that you just swap pointers instead of copying data around is probably a much better idea in the long run. :)

# maven - Hybrid JDK 1.7 Server 1.6 Client Maven Build of Artifacts

> ID：15444581
> 
> 赞同：1
> 
> 时间：2013-03-16T01:30:17.253
> 
> 标签：maven, java-7

I have a Maven project with both server back-end modules and client front-end modules. The goal is to take advantage of performance improvements in JDK 7 for the server back-end modules but build the client modules in JDK 6 only. The client modules run in Tomcat while the server modules are separate Java applications.

I am aware of the Maven configuration to target specific JDK:

```
 <build>
    <plugins>
      <plugin>
        <groupId>org.apache.maven.plugins</groupId>
        <artifactId>maven-compiler-plugin</artifactId>
        <configuration>
          <source>1.6</source>
          <target>1.6</target>
          <compilerVersion>1.6</compilerVersion>
          <fork>true</fork>
        </configuration>
      </plugin>
    </plugins>
  </build> 
```

One caveat to this approach is that there are common modules that are used by both the server modules and client modules necessitating two different binaries (JDK 6 and 7) for each module.

How can one compile one set of artifacts for a JDK 6, and another set of artifacts for JDK 7, and a third set of artifacts (used by both) for both JDK 6 and 7 all belonging to the same project? Would it be necessary to divide the modules up into three separate projects?

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-16T07:27:37.047

bmargulies 的回答非常中肯。

无论如何，如果你真的想构建某些模块的不同版本（1.6 和 1.7），我建议你使用 2 个配置文件，profile1 针对 jdk6，profile2 针对 jdk7。所以这两个配置文件都将重新定义 maven-compiler-plugin。

这两个配置文件还可以使用不同的分类器重新定义 maven-jar-plugin，以便每个模块在 2 个版本中可用（并在依赖项中使用分类器，以便客户端使用 jdk6，服务器使用 jdk7）。

这是另一个问题，其中包含有关如何执行此操作的更多详细信息：[How to manage artifactory / maven artifact using different profile](https://stackoverflow.com/questions/15433238/how-to-manage-artifactory-maven-artifact-using-different-profiles/15434523#15434523)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-16T01:32:34.423

如果您 <target> 1.6，生成的 Jar 将在 1.6 和 1.7 中完美运行。无需编译两次。

使用 1.7 编译器或针对 1.7 字节代码没有性能优势（可能在一些非常模糊的情况下除外）。所有的性能都存在于 JVM 中。只需将您的通用代码设为目标 1.6。除非您自己可以衡量编译 1.7 的速度优势，否则不要打扰。

# java - 是否可以从 String[] 中的 .length 中排除某个字符串？

> ID：15444583
> 
> 赞同：1
> 
> 时间：2013-03-16T01:30:26.247
> 
> 标签：java

我正在为 Minecraft 进行基于命令的修改，您可以在其中使用标志 (-[az]) 来指定某些值。但是，我对如何解析常规参数感到有些困惑。下面是一个命令示例：`/tp fist -h`. 当然，string[0] 等于什么比较简单，但如果我尝试`/tp -h fist`，我怕我会混淆修改，它会抛出异常。

所以，我的问题是：是否有可能创建一个 String[ ] 来从现有列表中删除特定类型的字符串，这样我就可以这样做`if(args[0].equalsIgnoreCase("text")`并且它会`/command text [text-to-remove]`像我一样做同样的事情`/command [text-to-remove] text`？

提前致谢！

真挚地，

非诚勿扰

PS：我知道我可以使用 for 循环来检查每个单独的参数，但通常变量会随着每次执行而改变（因为它们通常用于指定不共享名称的玩家）。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-16T01:40:40.460

最简洁的答案是不。您将不得不重新创建原始的子集数组或跟踪被忽略的索引。

长答案是您可以创建自己的集合来执行此隐式过滤。

在像 scala 这样的 FP 语言中，过滤集合要容易得多。Java 您通常必须遍历集合。

# sip - decode LPR media

> ID：15444585
> 
> 赞同：0
> 
> 时间：2013-03-16T01:30:42.427
> 
> 标签：sip, decode, lpr

I'm trying to decode a SIP call like below but I don't know anything about this codec. Please help me or suggest me some documents that I should read.

```
m=audio 49198 RTP/AVP 118
a=rtpmap:118 SIRENLPR/48000/1
a=fmtp:118 bitrate=64000
...
m=video 49200 RTP/AVP 116
b=TIAS:512000
a=content:main
a=label:1
a=rtpmap:116 vnd.polycom.lpr/9000
a=fmtp:116 V=1;minPP=0;PP=150;RS=52;RP=10;PS=1400
... 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-16T11:30:58.163

它是一种[专有的 Polycom 格式](http://en.wikipedia.org/wiki/Siren_%28codec%29)。一些 Siren 编解码器已标准化为 ITU 格式（G.722.1 实现了 Siren 7 的一部分，例如 G.722.1C 实现了 Siren 14 的一部分，G.719 基于 Siren 22）。[LPR](http://unifiedcomm.judge.com/whitepapers/PolycomsLostPacketRecoveryLPRCapability.pdf)是“丢失数据包恢复”，Polycom 用来调整前向纠错量以补偿高数据包丢失的方法。

特别是，我认为这是一个 Siren 22（所以[G.719](http://en.wikipedia.org/wiki/G.719)）流，因为它使用 48 kHz 采样和 64kbit 比特率。

# css - iOS keyboard moves position of DIVS

> ID：15444586
> 
> 赞同：1
> 
> 时间：2013-03-16T01:30:57.327
> 
> 标签：css, html

I have a mobile chatroom i'm using. Whenever I load it up in safari on an iphone. Clicking in the text area brings up the keyboard, which I want but the keyboard completely ruins the layout of the webpage. How do I fix this? Heres a link to the [http://www.306radio.ca/mobile/chat/](http://www.306radio.ca/mobile/chat/)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-06-24T21:39:50.450

快速浏览一下，您遇到的问题似乎来自`div#userContent`具有 的样式`float: left`，而`div`上面的样式具有`position:absolute`. 这两个似乎导致您正在经历回流。

我删除了`float`并删除了`positioning`，这解决了重排问题，但看起来 JavaScript 调整页面上事物宽度的大小仍然存在问题。

不幸的是，我没有时间研究它，但这应该可以解决您提出的问题。

继续深入研究 CSS，尤其是响应式设计，您也许可以用更少的 CSS 和 JS 代码解决这个问题。

# c++ - How to handle windows event using a c++ class?

> ID：15444587
> 
> 赞同：0
> 
> 时间：2013-03-16T01:31:19.417
> 
> 标签：c++, event-handling

I want to write a C++ class that can be hooked with a windows event handle create by the `CreateEvent` function, so that when the event is signaled, it can be handled by the class I write. Is there a way to do so?

Specifically, I want to create a class that can handle the skeleton data generated by Kinect. The data are dealt by firstly creating a handle to an event object using `CreateEvent` function, and then call the

```
m_pNuiSensor->NuiSkeletonTrackingEnable( 
            /* [in] */ HANDLE hNextFrameEvent,
            /* [in] */ DWORD dwFlags) 
```

function so that when the frame data is available, the `hNextFrameEvent` will be signaled. I was wondering if I can handle the event when it is signaled in the class I created.

Thanks!

# c - is it legal to take the address of an union member in C?

> ID：15444588
> 
> 赞同：2
> 
> 时间：2013-03-16T01:31:20.200
> 
> 标签：c, unions

I want to do something like this:

```
union U {
    int i;
    double d;
};

void foo (double *d) { *d = 3.4; }

int main ()
{
     union U u;
     foo (&(u.d));
} 
```

`gcc` does not complain (with `-Wall -Wextra`) and it works as expected, but I would like to make sure it is actually legal (according to the standard).

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-03-16T01:37:43.233

为什么不应该是合法的？实际上，甚至可以保证每个成员的地址都等于整个联合的地址：

> 一个指向联合对象的指针，经过适当的转换，指向它的每个成员[...]，反之亦然。

（C11，§6.7.2.1 16）

（这意味着您*可以*使用指向联合成员的指针）

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-03-16T01:35:45.483

是的，这是合法的，没有理由不这样做。就那么简单。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-03-16T01:38:43.193

C99：

> 6.5.3.2
> 
> **地址和间接运算符**
> 
> 约束
> 
> 1.  一元 & 运算符的操作数应该是函数指示符、[] 或一元 * 运算符的结果，或者是一个左值，它指定一个不是位域且未使用寄存器存储类说明符声明的对象

[...]

> **执行环境中数据存储的对象** 区域，其内容可以表示值

所以，是的，联合是一个对象，因此只要满足其他要求，它就可以是 & 的操作数。

# php - Wordpress add_filter makes 500 error

> ID：15444589
> 
> 赞同：0
> 
> 时间：2013-03-16T01:31:32.033
> 
> 标签：php, wordpress

Hello i am writing a function to modify the post content and some more information to it. But while doing this it makes the site not to load and throws a 500 Internal server error. Here is my code which i used for the hook.

```
add_filter("the_content","add_related_pics",1);

function add_related_pics($content){
    $pics = "";
    $pics.= '<ul>';
    $tag = get_post_meta(get_the_ID(), 'highlight-tag', true);
    $original_query = $wp_query;
    $wp_query = null;
    $args=array('posts_per_page'=>5, 'tag' => $tag,'orderby' => 'rand');
    $wp_query = new WP_Query( $args );
    if ( have_posts() ) :
        while (have_posts()) : the_post();
            $pics.= '<li>';
        preg_match('@<img.+src="(.*)".*>@Uims', get_the_content(), $matches);
        $src = $matches[1];
            $pics.='<a href="'.get_permalink().'"><img src="'.$src.'" height="50" width="50"  /></a>';
        $pics.= '</li>';
        endwhile;
    endif;
    $wp_query = null;
    $wp_query = $original_query;
    wp_reset_postdata();
    $pics.='</ul>';
    return $content.$pics;  
} 
```

Can anyone point that what is wrong with this code ?

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-16T13:05:12.003

您没有使用该`wp_query`对象，这就是您出错的原因。

将其添加到您的代码中，您应该没问题。

```
 if ( $wp_query->have_posts()  ) :
    while ( $wp_query->have_posts() ) :
    $wp_query->the_post();
        $pics.= '<li>';
    preg_match('@<img.+src="(.*)".*>@Uims', get_the_content(), $matches);
    $src = $matches[1];
        $pics.='<a href="'.get_permalink().'"><img src="'.$src.'" height="50" width="50"  /></a>';
    $pics.= '</li>';
    endwhile;
    endif; 
```

并且**除非**您要使用，否则您`$orignal_query`不需要将`wp_query`变量重置为它。

所以在这两种情况下都去掉你的以下代码：

```
$original_query = $wp_query;
$wp_query = null; 
```

# java - android 数据库活动中的 java.lang.NullPointerException

> ID：15444590
> 
> 赞同：0
> 
> 时间：2013-03-16T01:31:41.583
> 
> 标签：java, android, runtime-error

我是 Android 新手，我正在创建一个应用程序。但是我通过 logcat 收到一个错误，上面写着

```
03-16 09:11:52.372: E/AndroidRuntime(283): FATAL EXCEPTION: main
03-16 09:11:52.372: E/AndroidRuntime(283): java.lang.RuntimeException:
Unable to start activity ComponentInfo{com.example.workoutbuddy/com.example.workoutbuddy.DatabaseAddClient}: java.lang.NullPointerException 
```

关于我应该怎么做的任何建议？我感谢您的帮助。谢谢你。

**XML 文件**

```
 <?xml version="1.0" encoding="utf-8"?>
<ScrollView xmlns:android="http://schemas.android.com/apk/res/android"
android:layout_width="match_parent"
android:layout_height="match_parent" >

<LinearLayout
    android:layout_width="match_parent"
    android:layout_height="wrap_content"
    android:orientation="vertical" >

    <TextView
        android:id="@+id/full_name"
        android:layout_width="fill_parent"
        android:layout_height="0dp"
        android:layout_weight="1"
        android:paddingLeft="5dp"
        android:paddingRight="15dp"
        android:text="Full Name:" />

    <EditText
        android:id="@+id/fullname"
        android:layout_width="fill_parent"
        android:layout_height="0dp"
        android:layout_weight="1"
        android:ems="10"
        android:inputType="text"
        android:textSize="15sp" />

    <TextView
        android:id="@+id/txtGender"
                 android:layout_width="fill_parent"
        android:layout_height="0dp"
        android:layout_weight="1"
        android:paddingLeft="5dp"
        android:paddingRight="15dp"
        android:text="Gender" />

  <RadioGroup 
        android:layout_width="fill_parent"
        android:layout_height="wrap_content"
        android:orientation="vertical"
        android:id ="@+id/gender">
         <RadioButton android:id="@+id/genderMale"
                 android:layout_width="wrap_content"
                 android:layout_height="wrap_content"
                 android:text="Male"
                 />
        <RadioButton android:id="@+id/genderFemale"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:text="Female"
                />
    </RadioGroup>

    <TextView
        android:id="@+id/age"
                 android:layout_width="fill_parent"
        android:layout_height="0dp"
        android:layout_weight="1"
        android:paddingLeft="5dp"
        android:paddingRight="15dp"
        android:text="Age" />

    <EditText
        android:id="@+id/age_client"
        android:layout_width="fill_parent"
        android:layout_height="0dp"
        android:layout_weight="1"
        android:ems="10"
        android:inputType="number" />

    <TextView
        android:id="@+id/address"
        android:layout_width="fill_parent"
        android:layout_height="0dp"
        android:layout_weight="1"
        android:paddingLeft="5dp"
        android:paddingRight="15dp"
        android:text="Address" />

    <EditText
       android:id="@+id/address_client"
        android:layout_width="fill_parent"
        android:layout_height="0dp"
        android:layout_weight="1"
        android:ems="10"
        android:lineSpacingExtra="15dp"
        android:textSize="15sp"
        android:paddingLeft="10dp"
        android:inputType="textMultiLine" />

    <TextView
        android:id="@+id/contactNum"
        android:layout_width="fill_parent"
        android:layout_height="0dp"
        android:layout_weight="1"
        android:paddingLeft="5dp"
        android:paddingRight="15dp"
        android:text="Contact No." />

    <EditText
        android:id="@+id/contactNum_client"
        android:layout_width="fill_parent"
        android:layout_height="0dp"
        android:layout_weight="1"
        android:ems="10"
        android:inputType="phone"
        android:textSize="15sp" />

    <TextView
        android:id="@+id/height"
        android:layout_width="fill_parent"
        android:layout_height="0dp"
        android:layout_weight="1"
        android:paddingLeft="5dp"
        android:paddingRight="15dp"
        android:text="Height (cm)" />

    <EditText
        android:id="@+id/height_client"
        android:layout_width="fill_parent"
        android:layout_height="0dp"
        android:layout_weight="1"
        android:ems="10"
        android:inputType="number"
        android:textSize="15sp" />

    <TextView
        android:id="@+id/weight"
        android:layout_width="fill_parent"
        android:layout_height="0dp"
        android:layout_weight="1"
        android:paddingLeft="5dp"
        android:paddingRight="15dp"
        android:text="Weight (kg)" />

    <EditText
        android:id="@+id/weight_client"
        android:layout_width="fill_parent"
        android:layout_height="0dp"
        android:layout_weight="1"
        android:ems="10"
        android:inputType="number"
        android:textSize="15sp" 
       />

       <TextView
        android:id="@+id/txtWorkoutType"
        android:layout_width="fill_parent"
        android:layout_height="0dp"
        android:layout_weight="1"
        android:paddingLeft="5dp"
        android:paddingRight="15dp"
        android:text="Choose type of workout plan:" />

    <Spinner
        android:id="@+id/workout_type"
        android:layout_width="fill_parent"
        android:layout_height="0dp"
        android:layout_weight="1"
        android:paddingLeft="5dp"
        android:paddingRight="15dp" />

    <TextView
        android:id="@+id/txtWorkoutDay"
        android:layout_width="fill_parent"
        android:layout_height="0dp"
        android:layout_weight="1"
        android:paddingLeft="5dp"
        android:paddingRight="15dp"
        android:text="Choose workout days:" />

    <Spinner
        android:id="@+id/workout_day"
        android:layout_width="fill_parent"
        android:layout_height="0dp"
        android:layout_weight="1"
        android:paddingLeft="5dp"
        android:paddingRight="15dp" />

    <Button
        android:id="@+id/next"
        android:layout_width="fill_parent"
        android:layout_height="0dp"
        android:layout_weight="1"
        android:text="Next" 
        android:onClick = "workout_type"/>

</LinearLayout>

 </ScrollView> 
```

**Java 文件**

```
package com.example.workoutbuddy;

import android.app.Activity;
import android.app.ProgressDialog;
import android.content.ContentValues;
import android.content.Intent;
import android.database.sqlite.SQLiteDatabase;
import android.os.Bundle;
import android.view.View;
import android.view.View.OnClickListener;
import android.widget.Button;
import android.widget.EditText;
import android.widget.TextView;
import android.widget.Toast; 
import android.widget.RadioButton;
import android.widget.RadioGroup;

@SuppressWarnings("unused")
public class DatabaseAddClient extends Activity {

private SQLiteDatabase db;
private ClientDBHelper dh;

private EditText fullname;
private EditText address_client;
private RadioGroup gender;
private RadioButton tbxClientGender;
private EditText contactNum_client;
private EditText height_client;
private EditText weight_client;
private EditText age_client;

private Button btnSaveCustomer;

/** Called when the activity is first created. */
@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.addclient);

    fullname = (EditText) findViewById(R.id.fullname);

    gender = (RadioGroup) findViewById(R.id.gender);
    int selectedId = gender.getCheckedRadioButtonId();
    tbxClientGender = (RadioButton) findViewById(selectedId);

    age_client = (EditText) findViewById(R.id.age_client);
    address_client = (EditText) findViewById(R.id.address_client);
    contactNum_client = (EditText) findViewById(R.id.contactNum_client);
    height_client = (EditText) findViewById(R.id.height_client);
    weight_client = (EditText) findViewById(R.id.weight_client);
    dh = new ClientDBHelper(this);

   btnSaveCustomer.setOnClickListener(new OnClickListener() {
        public void onClick(View v) {

        //edited portion starts here----    
        String heightString = height_client.getText().toString();
            final double heightDouble = Double.parseDouble(heightString);

            String weightString = weight_client.getText().toString();
            final double weightDouble = Double.parseDouble(heightString);

            final double body_mass = heightDouble / weightDouble;

            String status = null;

            if (body_mass < 18.5){
                status = "UNDERWEIGHT";
            } else if (body_mass == 18.5 && body_mass <=24.9){
                status = "NORMAL";
            }else if (body_mass == 25 && body_mass <=29.9){
                status = "OVERWEIGHT";
            }else if (body_mass >=30){
                status = "OBESE";
            }

            final String finalStatus = status;
        // ---- edited portion ends here

            if (fullname.getText().length() == 0) {
                Toast.makeText(DatabaseAddClient.this, "Name is empty", Toast.LENGTH_LONG).show();
                fullname.requestFocus();

            } else if (age_client.getText().length() == 0) {
                Toast.makeText(DatabaseAddClient.this, "Age is empty", Toast.LENGTH_LONG).show();
                age_client.requestFocus();

            } else if (address_client.getText().length() == 0) {
                Toast.makeText(DatabaseAddClient.this, "Address is empty", Toast.LENGTH_LONG).show();
                address_client.requestFocus();

            } else if (contactNum_client.getText().length() == 0) {
                Toast.makeText(DatabaseAddClient.this, "Contact number is empty", Toast.LENGTH_LONG).show();
                contactNum_client.requestFocus();

            } else if (height_client.getText().length() == 0) {
                Toast.makeText(DatabaseAddClient.this, "Height is empty", Toast.LENGTH_LONG).show();
                height_client.requestFocus();

            } else if (weight_client.getText().length() == 0) {
                Toast.makeText(DatabaseAddClient.this, "Weight is empty", Toast.LENGTH_LONG).show();
                weight_client.requestFocus();

            } else {
                ProgressDialog progDialog = ProgressDialog.show(DatabaseAddClient.this, 
                     "Saving Customer", "Saving customer to database...", true);

                String new_client_fullname = fullname.getText().toString();
                String new_client_age = age_client.getText().toString();
                String new_client_address = address_client.getText().toString();
                String new_client_contactnumber = contactNum_client.getText().toString();
                String new_client_height = height_client.getText().toString();
                String new_client_weight = weight_client.getText().toString();
                String new_client_gender = tbxClientGender.getText().toString();
                String new_client_bmi = String.valueOf(body_mass);
    String new_client_status = String.valueOf(finalStatus);

                db = dh.getWritableDatabase();
                ContentValues values = new ContentValues();
                values.put(ClientDBHelper.FULLNAME, new_client_fullname);
                values.put(ClientDBHelper.GENDER, new_client_gender);
                values.put(ClientDBHelper.AGE, new_client_age);
                values.put(ClientDBHelper.ADDRESS, new_client_address);
                values.put(ClientDBHelper.CONTACT_NUM, new_client_contactnumber);
                values.put(ClientDBHelper.HEIGHT, new_client_height);
                values.put(ClientDBHelper.WEIGHT, new_client_weight);
                values.put(ClientDBHelper.BMI, new_client_bmi);
                values.put(ClientDBHelper.STATUS, finalStatus);

                db.insert(ClientDBHelper.TABLE_NAME, null, values);
                db.close();

                progDialog.dismiss();

                Toast.makeText(DatabaseAddClient.this, "Customer " 
                        + new_client_fullname + " has been added successfully", 
                        Toast.LENGTH_LONG).show();
                finish();
            }
        }
    }
    );
}
} 
```

**显现**

```
<?xml version="1.0" encoding="utf-8"?>
<manifest xmlns:android="http://schemas.android.com/apk/res/android"
package="com.example.workoutbuddy"
android:versionCode="1"
android:versionName="1.0" >

<uses-sdk
    android:minSdkVersion="8"
    android:targetSdkVersion="10" />

<application
    android:allowBackup="true"
    android:icon="@drawable/ic_launcher"
    android:label="@string/app_name"
    android:theme="@style/AppTheme" >
    <activity
        android:name="com.example.workoutbuddy.DatabaseActivity"
        android:label="@string/app_name" >

        <intent-filter>
            <action android:name="android.intent.action.MAIN" />

            <category android:name="android.intent.category.LAUNCHER" />
        </intent-filter>
    </activity>
   <activity
        android:name="com.example.workoutbuddy.DatabaseAddClient"
        android:label="@string/app_name">

    </activity>
     <activity
        android:name="com.example.workoutbuddy.DatabaseEditClient"
        android:label="@string/app_name">

    </activity>
    <activity
        android:name="com.example.workoutbuddy.DatabaseViewClient"
        android:label="@string/app_name">

    </activity>
<activity
        android:name="com.example.workoutbuddy.OwnCalendar"
        android:label="@string/app_name"
        >

    </activity>
</application>

</manifest> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-16T03:00:18.320

问题是`btnSaveCustomer`在使用前没有初始化。你应该做类似的事情

```
btnSaveCustomer = (Button)findViewById(R.id.next); 
```

打电话之前

```
btnSaveCustomer.setOnClickListener(); 
```

# c++ - 将两个 std::pair(X,Y) 视为 std::pair(Y,X)

> ID：15444598
> 
> 赞同：0
> 
> 时间：2013-03-16T01:33:05.613
> 
> 标签：c++

这是我的代码

`typedef std::pair<unsigned long, unsigned long> link;`

```
std::map<link, double> container; 
```

我想要做的是计算从 X 到 Y 的距离并将容器存储为 container.insert(std::make_pair(link, distance)); 并说现在我必须计算从 Y 到 X 的距离，而不是重做整个计算，而是从容器中获取存储的值，即……链接和距离。

我当前的实现仅适用于 (X,Y)

```
std::map<link, double>::iterator It = container.begin();
std::pair<unsigned long, unsigned long> k = link(X,Y);
It = container.find(K);
if(It != container.end()) {   distance = It->second; } 
else { /* distance = /* complex calc */ container.insert(std::make_pair(k,distance)); } 
```

我怎样才能使它泛化，以便将链接（X，Y）和链接（Y，X）视为相同？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-16T01:41:12.733

为您的地图使用不同的键比较器，如下所示：

```
bool link_compare(link lhs, link rhs) // note: parameters taken by value
{
    if (lhs.first > lhs.second) std::swap(lhs.first,lhs.second);
    if (rhs.first > rhs.second) std::swap(rhs.first,rhs.second);
    return lhs < rhs;
}

std::map<link, double, bool(*)(link,link)> container(link_compare); 
```

不过我认为，您应该考虑创建`link`一个单独的类，使用特定于它的数据成员名称，而不是通用的`first`and `second`。 `std::pair`，在我看来，当您必须将它们作为单个对象传递时，它是包含不相关数据的快速解决方案。你所拥有的显然是非常相关的数据。仅仅因为`std::pair`碰巧能够保存正确的数据成员，并不意味着您应该使用它。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-16T01:38:29.410

始终保持 X 和 Y 排序，即。在插入、搜索、删除时，首先对对进行排序，然后将排序后的对与 map 方法一起使用。

或者，制作自己的`link`构造函数助手来强制执行该规则，并在构造它们的任何地方直接使用它，这样您就不必进行不必要的转换。

事实上，鉴于您已经定义了一个特定类型，最好也制作类型构造函数和运算符，这样如果将来该类型发生变化，您就不必通过所有代码来更正它。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-16T01:40:52.087

使您的欠 make_pair 功能。这样您就可以始终保持有序。

```
typedef std::pair<unsigned long, unsigned long> link;
link make_my_pair(unsigned long x, unsigned long y) {
    if (x < y ) return std::make_pair(x, y);
    return std::make_pair(y, x);
} 
```

我在[这里](https://stackoverflow.com/a/15420182/942596)找到了解决方案。

# .net - 如何禁用 scollbar 的箭头按钮

> ID：15444601
> 
> 赞同：1
> 
> 时间：2013-03-16T01:33:56.757
> 
> 标签：.net, wpf, xaml, mvvm

我正在尝试创建一个工具栏按钮，用于显示两个箭头按钮之间的内容。我能够使用以下代码做到这一点：

```
<ItemsControl 
            ScrollViewer.VerticalScrollBarVisibility="Auto"
            ItemsSource="{Binding DynamicToolbarItems}" 
            ItemTemplate="{StaticResource ItemTemplate}"
            HorizontalAlignment="Left">
            <ItemsControl.Template>
            <ControlTemplate TargetType="{x:Type ItemsControl}">
                    <ScrollViewer Focusable="false" Padding="{TemplateBinding Padding}">
                        <ScrollViewer.Template>
                            <ControlTemplate TargetType="{x:Type ScrollViewer}">
                            <Grid Background="Transparent">
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="16" />
                                    <RowDefinition/>
                                    <RowDefinition Height="16" />
                                </Grid.RowDefinitions>
                                <Border Grid.Row="0" BorderThickness="0,0,0,1" BorderBrush="#666666">
                                    <Grid Margin="1" x:Name="UpGrid">
                                            <Path x:Name="UpArrowPath" Fill="#FFFFFF" Data="{StaticResource UpArrowGeometry}" Margin="-1" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                                        <RepeatButton x:Name="RepeatButtonUp" Command="{x:Static ScrollBar.LineUpCommand}" Opacity="0"/>
                                        <RepeatButton x:Name="RepeatButtonPageUp" Command="{x:Static ScrollBar.PageUpCommand}" Visibility="Hidden"/>
                                    </Grid>
                                </Border>
                                <ScrollContentPresenter  Grid.Row="1" x:Name="PART_ScrollContentPresenter" CanContentScroll="{TemplateBinding CanContentScroll}" CanHorizontallyScroll="False" CanVerticallyScroll="False" ContentTemplate="{TemplateBinding ContentTemplate}" Content="{TemplateBinding Content}" Margin="{TemplateBinding Padding}"/>
                                <Border Grid.Row="2" BorderThickness="0,1,0,0" BorderBrush="#666666">
                                    <Grid Margin="1" x:Name="DownGrid">
                                            <Path x:Name="DownArrowPath" Data="{StaticResource DownArrowGeometry}" Margin="-1" HorizontalAlignment="Center" VerticalAlignment="Center" Fill="#FFFFFF"/>
                                        <RepeatButton x:Name="RepeatButtonDown" Command="{x:Static ScrollBar.LineDownCommand}" Opacity="0" />
                                        <RepeatButton x:Name="RepeatButtonPageDown" Command="{x:Static ScrollBar.PageDownCommand}" Visibility="Hidden"/>
                                    </Grid>
                                </Border>
                            </Grid>
                            <ControlTemplate.Triggers>
                                <MultiTrigger>
                                </MultiTrigger>
                                <Trigger SourceName="UpGrid" Property="IsMouseOver" Value="True">
                                    <Setter TargetName="UpArrowPath" Property="Fill" Value="#02abf2" />
                                </Trigger>
                                <Trigger SourceName="DownGrid" Property="IsMouseOver" Value="True">
                                    <Setter TargetName="DownArrowPath" Property="Fill" Value="#02abf2" />
                                </Trigger>
                                <!--Trigger SourceName="RepeatButtonPageUp" Property="IsEnabled" Value="False">
                                    <Setter TargetName="UpArrowPath" Property="Fill" Value="Red" />
                                </Trigger>
                                <Trigger SourceName="RepeatButtonPageDown" Property="IsEnabled" Value="False">
                                    <Setter TargetName="DownArrowPath" Property="Fill" Value="Red" />
                                </Trigger-->
                            </ControlTemplate.Triggers>
                            </ControlTemplate>
                        </ScrollViewer.Template>
                        <ItemsPresenter SnapsToDevicePixels="{TemplateBinding SnapsToDevicePixels}"/>
                    </ScrollViewer>
                <ControlTemplate.Triggers>
                    <Trigger Property="IsGrouping" Value="true">
                        <Setter Property="ScrollViewer.CanContentScroll" Value="false"/>
                    </Trigger>
                </ControlTemplate.Triggers>
            </ControlTemplate>
        </ItemsControl.Template>
            <ItemsControl.GroupStyle>
                <GroupStyle HidesIfEmpty="True">
                    <GroupStyle.HeaderTemplate>
                        <DataTemplate>
                            <Separator x:Name="Separator" Style="{StaticResource ToolbarSeparatorStyle}"/>
                            <DataTemplate.Triggers>
                                <DataTrigger Binding="{Binding RelativeSource={RelativeSource PreviousData}}" Value="{x:Null}">
                                    <Setter TargetName="Separator" Property="Visibility" Value="Collapsed"/>
                                </DataTrigger>
                            </DataTemplate.Triggers>
                        </DataTemplate>
                    </GroupStyle.HeaderTemplate>
                </GroupStyle>
            </ItemsControl.GroupStyle>
    </ItemsControl> 
```

我唯一的问题是，当您无法再滚动时，我想更改箭头按钮的填充颜色。在代码中，您可以看到我有两个注释掉的触发器：

```
<!--Trigger SourceName="RepeatButtonPageUp" Property="IsEnabled" Value="False">
                                <Setter TargetName="UpArrowPath" Property="Fill" Value="Red" />
                            </Trigger>
                            <Trigger SourceName="RepeatButtonPageDown" Property="IsEnabled" Value="False">
                                <Setter TargetName="DownArrowPath" Property="Fill" Value="Red" />
                            </Trigger--> 
```

我认为这不起作用，因为当没有可滚动的内容时，RepeatButtons 不会被禁用。

我该如何实施？

谢谢！

# java - Play 2.0.3 - Eclipse 无法识别 play.test.WithApplication

> ID：15444603
> 
> 赞同：1
> 
> 时间：2013-03-16T01:34:26.463
> 
> 标签：java, eclipse, playframework-2.0

![在此处输入图像描述](../Images/6bc27b9217eee2ed15f3c9c36da7f479.png)

[https://groups.google.com/forum/#!topic/play-framework/76JjbcE2dYw](https://groups.google.com/forum/#!topic/play-framework/76JjbcE2dYw)

我正在看一个类似的问题。我正在使用 Play 2.0.3，但它仍然无法正常工作。

任何线索为什么？

我正在关注本教程 - [http://www.playframework.com/documentation/2.1.0/JavaGuide2](http://www.playframework.com/documentation/2.1.0/JavaGuide2)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-16T01:37:34.743

本教程正在进行中，基于尚未发布的 Play 2.1。如果你想使用它，你必须自己下载并构建 Play 2.1。

# python - Heroku 找不到 pip（很奇怪）

> ID：15444606
> 
> 赞同：5
> 
> 时间：2013-03-16T01:34:39.603
> 
> 标签：python, django, heroku

当我推动掌握时，发生了这种情况：

```
Counting objects: 1, done.
Writing objects: 100% (1/1), 186 bytes, done.
Total 1 (delta 0), reused 0 (delta 0)

-----> Fetching custom git buildpack... done
-----> Python app detected
-----> Preparing Python runtime (python-2.7.3)
-----> Installing Distribute (0.6.35)
-----> Installing Pip (1.3.1)
-----> Installing dependencies using Pip (1.3.1)
/tmp/buildpack_12iaablbmqzbb/bin/compile: line 164: /app/.heroku/python/bin/pip: No such file or directory
 !     Heroku push rejected, failed to compile Python app

To git@heroku.com:xxxxxxxxxx.git
 ! [remote rejected] master -> master (pre-receive hook declined) 
```

需要明确的是，我指定了构建包，因为由于 Gemfile 的存在，heroku 错误地将我的 python 应用程序检测为 ruby​​ 应用程序。

这是我从中提取的配置`heroku config`

```
BUILDPACK_URL: https://github.com/heroku/heroku-buildpack-python 
```

但这无法编译我的应用程序，我该如何真正解决这个问题？

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-18T08:19:04.480

问题是 pip 找不到依赖项。你可以做的是，

```
virtualenv --no-site-packages venv 
```

[virtualenv --no-site-packages 和 pip 仍在寻找全局包？](https://stackoverflow.com/questions/1382925/virtualenv-no-site-packages-and-pip-still-finding-global-packages)

# jquery - 需要捕获用户输入到 jquery 选择的输入

> ID：15444612
> 
> 赞同：0
> 
> 时间：2013-03-16T01:35:03.767
> 
> 标签：jquery, asp.net-mvc-4, jquery-chosen

输入用户搜索文本的输入没有 id。我想捕获这个并且在我在该框中输入三个字符之前不填充所选的下拉列表。

我不需要后者的帮助，只需要前者。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-16T02:04:58.733

有几个选项，但它实际上取决于`input`元素的确切标记。如果您足够狡猾，您可以按班级、姓名或其他任何内容进行选择。

如果存在以下**任**一属性：

```
<input id="someId" class="someClass" name="someName" value="someValue" /> 
```

## [标识选择器](http://api.jquery.com/id-selector/)

```
$('input#someId') 
```

## [类选择器](http://api.jquery.com/class-selector/)

```
$('input.someClass') 
```

## [属性选择器](http://api.jquery.com/attribute-equals-selector/)

### 姓名

```
$('input[name="someName"]') 
```

### 价值

```
$('input[value="someValue"]') 
```

* * *

还有其他方法，但它们不会那么灵活或实用。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-16T02:10:29.870

假设有一些方法可以识别您选择的输入。这是我能想到的最好的小提琴：http: [//jsfiddle.net/6xX6v/1/](http://jsfiddle.net/6xX6v/1/)

```
var keyCount = 0;
var inputLength;

$("input").keypress(function() {
    inputLength = $(this).val().length + 1;
    keyCount = inputLength;

    if (keyCount === 3) {
        $("#popthree").append("<option>What are you talking about</option>");
    }
}); 
```

# javascript - 为什么我的 JS 对象看不到自己的功能？

> ID：15444614
> 
> 赞同：2
> 
> 时间：2013-03-16T01:35:07.850
> 
> 标签：javascript, object

[http://jsfiddle.net/totszwai/WvbPn/2/](http://jsfiddle.net/totszwai/WvbPn/2/)

```
function DialogBox() {
    this.__DEBUGGING__ = false;

    DialogBox.debug = function (b) {
        this.__DEBUGGING__ = b;
    };

    DialogBox.test = function (b) {
        alert("hello worodl");
    };
};

$(document).ready(function () {
    dialogbox = new DialogBox();
    dialogbox.test();
}); 
```

我无法弄清楚我在那里做错了什么。我试过了

```
DialogBox.prototype.test
DialogBox.test
test 
```

我正在努力做到这一点，以便在内部调用它自己的函数时，我不需要一直放置`this`......例如：`this.test()`

**更新：** 还有没有办法在调用私有函数时不到处键入“this”？通常我只写一次使用的简单全局函数，但现在我正在尝试写一些不同的东西，我将在我的课堂上到处调用这些私有函数。所以我试图避免在任何地方使用“this”......更不用说它使代码的可读性非常糟糕。

就像在 Java（不是 JS）中一样，你不需要在任何地方都输入“this”。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-16T01:39:34.443

**快速修复：**

在 DialogBox 定义中，用于`this.`定义其方法：

[http://jsfiddle.net/AaronBlenkush/WvbPn/4/](http://jsfiddle.net/AaronBlenkush/WvbPn/4/)

```
function DialogBox() {
    this.__DEBUGGING__ = false;

    this.debug = function (b) {
        this.__DEBUGGING__ = b;
    };

    this.test = function (b) {
        alert("hello worodl");
    };
};

$(document).ready(function () {
    dialogbox = new DialogBox();
    dialogbox.test();
}); 
```

**要获得全面的答案：**

StackOverflow 的答案太多了。

有关此主题的详细信息，请参阅 Addy Osmani 的《[学习 JavaScript 设计模式](http://addyosmani.com/resources/essentialjsdesignpatterns/book/)》一书，尤其是关于构造函数模式的部分和周边部分。

# php - PHP 和 XML：getElementByType

> ID：15444626
> 
> 赞同：1
> 
> 时间：2013-03-16T01:36:46.210
> 
> 标签：php, html, xml

我对 php 有点陌生，我正在尝试遍历我的 XML 文件以提取数据并以 HTML 格式显示。我知道如何显示到 HTML 部分，但我对如何处理 XML 部分有点困惑。

这是我正在尝试做的示例文件（您可以将其想象为电影的分类列表，其中 groupType 将是流派）：

```
<mainGroup>

    <groupHeading type="heading">This is a sample heading</groupHeading>
    <group type="groupType1">
      <title>Title1</title>
      <date when="0001"></date>
    </group>

    <group type="groupType1">
      <title>Title2</title>
      <date when="0002"></date>
    </group>

    <group type="groupType2">
      <title>Title3</title>
      <date when="0003"></date>
    </group>

</mainGroup>
... There are more mainGroups with differet group types etc 
```

基本上，我将有 10 多个 mainGroups，其中包含许多不同的组，所以我需要一种方法来使用 php 遍历这些组。主要问题是我需要以某种方式“getElementBy Type()”，但这并不存在。

如果有什么令人困惑的地方，我可以详细说明，我仍然是 php 的新手，所以我希望我能做到这一点。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-16T02:06:02.610

你可以使用[PHP DOM](http://php.net/dom)

如果您想搜索特定类型的组然后获取结果，您可以执行以下操作：

编辑 -`$string`将是您的 XML。如果您需要从文件中加载它，您可以这样做 `$string = file_get_contents('/path/to/your/file');`

```
$dom = new DOMDocument;
$dom->loadXML($string);

$searchtype = "groupType1";
$results = array();

$groups = $dom->getElementsByTagName('group');
foreach( $groups as $g ) { 
    if( $g->getAttribute('type') == $searchtype ) { 
        $results[] = array(
            'title' =>$g->getElementsByTagName('title')->item(0)->nodeValue,
            'date'  =>$g->getElementsByTagName('date')->item(0)->getAttribute('when')
            );  
    }   
}

print_r($results); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-16T02:13:00.797

真正简单 --> 使用 PHP 的`simplexml` ---> 现场演示：[http ://codepad.viper-7.com/i4MRGI](http://codepad.viper-7.com/i4MRGI)

```
$xmlstr = '<mainGroup>
<groupHeading type="heading">This is a sample heading</groupHeading>
    <group type="groupType1">
        <title>Title1</title>
        <date when="0001"></date>
    </group>
    <group type="groupType1">
        <title>Title2</title>
        <date when="0002"></date>
    </group>
    <group type="groupType2">
        <title>Title3</title>
        <date when="0003"></date>
    </group>
</mainGroup>';

// create simplexml object
$xml=simplexml_load_string($xmlstr);

// loop through all <groupheading>, we use an xpath-query...
foreach ($xml->xpath("//groupHeading") as $gh) {

    echo($gh),'<br />';

} 

// now the titles under every group with groupType1...

foreach ($xml->xpath("//group[@type='groupType1']/title") as $gt1) {

echo $gt1,'<br />';
} 
```

编辑：每个 groupHeading 的回显标题，如果 grouptype=1，则子节点的标题：---> 参见新演示：[http ://codepad.viper-7.com/eMuyr5](http://codepad.viper-7.com/eMuyr5)

```
foreach ($xml->groupHeading as $gh) {

    echo($gh),'<br />';

    foreach ($gh->xpath("//group[@type='groupType1']/title") as $gt1) {

      echo $gt1,'<br />';

   }
} 
```

# c# - 允许多个角色成员资格的自定义 MVC AuthorizeAttribute

> ID：15444630
> 
> 赞同：4
> 
> 时间：2013-03-16T01:37:38.140
> 
> 标签：c#, asp.net-mvc, asp.net-mvc-4

我创建了一个自定义 AuthorizeAttribute 类来处理我的 MVC4 应用程序中的精细授权。

这是课程：

```
[AttributeUsage(AttributeTargets.Method, AllowMultiple = true)]
public class isAuthorized : AuthorizeAttribute
{
    public oRoles enRole;

    protected override bool AuthorizeCore(HttpContextBase httpContext)
    {
        var authorized = base.AuthorizeCore(httpContext);
        string test = enRole.ToString();
        if (!authorized)
        {
            // The user is not authenticated
            return false;
        }

        var user = httpContext.User;

        bool bFlag = AuthCheck.CheckUser(httpContext, enRole);
        if (bFlag) // I know this is a lot of code; it's for debugging purposes
            return true;

        return false;
    }
} 
```

我声明了以下枚举以允许代码帮助：

```
public enum oRoles
{
    StudentSelfPassword = 1,
    StaffSelfPassword = 2,
    StudentLookup = 3,
    StudentChangeRequest = 4,
    StudentAdmin = 5,
    StaffLookup = 6,
    StaffChangeRequest = 7,
    StaffAdmin = 8,
    ChangeQueueApproval = 9
} 
```

在我的控制器中，我通过以下方式调用 AuthorizeAttribute：

```
 [isAuthorized(enRole = oRoles.StudentLookup)]
    [isAuthorized(enRole = oRoles.StaffLookup)]
    [isAuthorized(enRole = oRoles.StudentChangeRequest)]
    [isAuthorized(enRole = oRoles.StaffChangeRequest)] 
```

当我通过调试器运行它时，第一个 isAuthorized 运行并返回 true（应该如此）并继续到第二个 isAuthorized 返回 false 然后立即要求我进行身份验证。我期待它允许，因为第一个条件是真的。但是，看来我的假设是不正确的。

最初，我有 Roles =“change,admin”，它们是域中的组，它可以工作，但是这些组需要在分配时是动态的，而不是静态的。我可以在那里推送多个项目。那是因为它是作为字符串发送的吗？

有没有办法基本上做一个 isAuthorized(...) || isAuthorized(...) || isAuthorized(...) 这样如果一个条件为真，它就被验证为正常？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-03-16T01:54:10.007

在您的属性中，您是否可以拥有一个角色列表或数组，而不是拥有一个具有单个 oRole 的属性。与其放置许多属性，不如用一个属性装饰你的方法，但传递给它一个允许的角色数组。

```
[isAuthorized(enRoles = new oRoles[]{oRoles.StudentLookup, oRoles.StaffLookup })] 
```

[此处](https://stackoverflow.com/questions/270187/can-i-initialize-a-c-sharp-attribute-with-an-array-or-other-variable-number-of-a)是创建采用多个值的属性的示例

Then in your authorization checking code you can check against all the allowed list that has been provided. Something like the code below

```
 bool bFlag = enRoles.ToList().Any( r => AuthCheck.CheckUser(httpContext, r)); 
```

# c - 如何在 C 中的并行程序中重用进程

> ID：15444636
> 
> 赞同：-4
> 
> 时间：2013-03-16T01:38:40.027
> 
> 标签：c, parallel-processing

我正在计算 200 x 200 维的矩阵乘法。我最多可以使用 8 个进程。我正在分叉子进程来计算行。我可以让一个进程执行 4 行并并行运行它们，或者我可以每个进程制作一行，即一次并行处理 5 行，然后通过重用相同的进程再并行处理 5 行。哪个效率更高？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-16T02:03:35.540

由于在这种情况下，所有作业都需要相同的努力（它们具有相同数量的乘法和加法），因此选择第一个选项（每个进程 4 行）会更有意义。第二个选项（每次每个进程 1 行）当作业在完成时间上是异构的或您需要低延迟时更有意义。您可以考虑每个选项的开销。

在第一个选项中，开销包括：

*   分工。
*   启动进程。
*   收集结果。

在第二个选项中，开销是：

*   分工。
*   启动进程。
*   当一个工人完成后，要求另一件。
*   再收到一块。
*   收集结果。

您可以看到在第二个选项中有更多开销。

至于第二种选择的可能架构，您可以使用服务器 - 客户端架构，一个进程将充当服务器，其余进程将充当客户端。服务器将负责划分工作，在需要时将其提供给客户端并收集结果。您可以在每个作业完成后或最后收集结果。一开始，服务器会创建客户端，给他们每个人一个工作，然后等到被要求做更多工作。当客户端完成给它的工作时，它会向服务器请求另一项工作，并将计算出的结果提供给服务器。这将重复，直到服务器没有更多的工作可以提供，此时它将通知客户端，以便他们可以退出。

# android - 如何在 HDPI Android 设备上强制使用 LDPI 图像？

> ID：15444644
> 
> 赞同：0
> 
> 时间：2013-03-16T01:39:41.383
> 
> 标签：android, drawable, resolution, hdpi

我有 LDPI、MDPI、HDPI 和 XHDPI 可绘制对象。我知道 Android 会选择适合设备分辨率的可绘制对象，但我想强制 HDPI 设备使用 LDPI 可绘制对象作为不该做的示例。我试过引用@drawable-ldpi/imagename，但它似乎不起作用。有什么帮助吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-16T01:47:42.127

你为什么不把 LDPI 图像放在 HDPI 折叠中

# android - 如何显示当前连接的 WIFI SSID？

> ID：15444647
> 
> 赞同：1
> 
> 时间：2013-03-16T01:40:19.703
> 
> 标签：android, eclipse, android-wifi, connectivity, wifimanager

我正在尝试显示当前的 SSID（并最终捕获它，以便我以后可以使用它）

到目前为止，我已经能够编译以下代码 - 但我无法显示它，并且每次运行它时应用程序强制关闭。我知道我忽略了一些简单的事情。任何帮助是极大的赞赏！

*   阿曼尼·斯旺

JAVA

```
import android.app.Activity;
import android.content.BroadcastReceiver;
import android.content.Context;
import android.content.Intent;
import android.content.IntentFilter;
import android.net.wifi.WifiManager;
import android.os.Bundle;
import android.view.View;
import android.widget.Button;
import android.widget.TextView;
import android.preference.PreferenceActivity;

public static String getCurrentSsid(Context context) {
  String ssid = null;
  ConnectivityManager connManager = (ConnectivityManager)      context.getSystemService(Context.CONNECTIVITY_SERVICE);
  NetworkInfo networkInfo =     connManager.getNetworkInfo(ConnectivityManager.TYPE_WIFI);
  if (networkInfo.isConnected()) {
    final WifiManager wifiManager = (WifiManager)     context.getSystemService(Context.WIFI_SERVICE);
    final WifiInfo connectionInfo = wifiManager.getConnectionInfo();
    if (connectionInfo != null && !StringUtil.isBlank(connectionInfo.getSSID())) {
      ssid = connectionInfo.getSSID();
    }
  }
  return ssid;
}
} 
```

XML

```
<?xml version="1.0" encoding="utf-8"?>
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
          android:layout_width="fill_parent"
          android:layout_height="fill_parent"
          android:background="@drawable/linkingmanagerbackground2"
          android:layout_alignParentTop="true">

<View
    android:layout_width="fill_parent"
    android:layout_height="fill_parent"
    android:clickable="true"  
    android:onClick="imageClick"  >
</View>

</RelativeLayout> 
```

LOGCAT

```
03-16 01:34:52.938: E/Trace(2236): error opening trace file: No such file or directory (2)
03-16 01:34:53.487: D/dalvikvm(2236): GC_FOR_ALLOC freed 42K, 7% free 2466K/2652K, paused 45ms, total 49ms
03-16 01:34:53.567: I/dalvikvm-heap(2236): Grow heap (frag case) to 6.061MB for 3686416-byte allocation
03-16 01:34:53.627: D/dalvikvm(2236): GC_FOR_ALLOC freed 2K, 4% free 6064K/6256K, paused 55ms, total 55ms
03-16 01:34:53.717: D/dalvikvm(2236): GC_CONCURRENT freed <1K, 4% free 6064K/6256K, paused 9ms+16ms, total 95ms
03-16 01:34:55.048: D/libEGL(2236): loaded /system/lib/egl/libEGL_emulation.so
03-16 01:34:55.128: D/(2236): HostConnection::get() New Host Connection established 0x2a155228, tid 2236
03-16 01:34:55.208: D/libEGL(2236): loaded /system/lib/egl/libGLESv1_CM_emulation.so
03-16 01:34:55.218: D/libEGL(2236): loaded /system/lib/egl/libGLESv2_emulation.so
03-16 01:34:55.419: W/EGL_emulation(2236): eglSurfaceAttrib not implemented
03-16 01:34:55.448: D/OpenGLRenderer(2236): Enabling debug mode 0
03-16 01:34:56.568: D/AndroidRuntime(2236): Shutting down VM
03-16 01:34:56.568: W/dalvikvm(2236): threadid=1: thread exiting with uncaught exception (group=0x40a71930)
03-16 01:34:56.638: E/AndroidRuntime(2236): FATAL EXCEPTION: main
03-16 01:34:56.638: E/AndroidRuntime(2236): java.lang.Error: Unresolved compilation problem: 
03-16 01:34:56.638: E/AndroidRuntime(2236):     Connect cannot be resolved to a type
03-16 01:34:56.638: E/AndroidRuntime(2236):     at     com.nfc.linked.SplashScreen$1.run(SplashScreen.java:34)
03-16 01:34:56.638: E/AndroidRuntime(2236):     at android.os.Handler.handleCallback(Handler.java:725)
03-16 01:34:56.638: E/AndroidRuntime(2236):     at android.os.Handler.dispatchMessage(Handler.java:92)
03-16 01:34:56.638: E/AndroidRuntime(2236):     at android.os.Looper.loop(Looper.java:137)
03-16 01:34:56.638: E/AndroidRuntime(2236):     at android.app.ActivityThread.main(ActivityThread.java:5041)
03-16 01:34:56.638: E/AndroidRuntime(2236):     at java.lang.reflect.Method.invokeNative(Native Method)    
03-16 01:34:56.638: E/AndroidRuntime(2236):     at java.lang.reflect.Method.invoke(Method.java:511)
03-16 01:34:56.638: E/AndroidRuntime(2236):     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:793)
03-16 01:34:56.638: E/AndroidRuntime(2236):     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:560)
03-16 01:34:56.638: E/AndroidRuntime(2236):     at dalvik.system.NativeStart.main(Native Method) 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-16T04:21:57.927

在您的应用程序清单中使用以下权限

```
< uses-permission android:name="android.permission.ACCESS_NETWORK_STATE" />
< uses-permission android:name="android.permission.ACCESS_WIFI_STATE" /> 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-16T01:56:25.140

您的问题似乎与 Wi-Fi SSID 无关。在此之前，您可能遇到以下两个问题之一：

*   [Java：未解决的编译问题](https://stackoverflow.com/questions/1124788/java-unresolved-compilation-problem)
*   [无法解析连接变量](https://stackoverflow.com/questions/4348103/connection-variable-cannot-be-resolved)

# html - IE 7/8 中的导航菜单中断

> ID：15444650
> 
> 赞同：0
> 
> 时间：2013-03-16T01:40:43.573
> 
> 标签：html, css, internet-explorer

我已经尝试解决这个问题好几个小时了，我不知道 css 是否有一些没有被应用或什么，但它只发生在 ie 7 / 8 中。ie 8 版本几乎是正确的，但它仍然搞砸了，任何人都可以帮助出去玩？ [http://tshirthideout.com/](http://tshirthideout.com/)

这是我的导航菜单代码

```
<nav class="main-navigation" role="navigation">
    <?php wp_nav_menu( array( 'theme_location' => 'primary', 'menu_class' => 'nav-menu' ) ); ?>
</nav><!-- #site-navigation --> 
```

css

```
/* Navigation Menu */
.main-navigation {
    background-color: #fff;
    margin-top: 5px;
    text-align: center;

}
.main-navigation li {
    margin-top: 24px;
    margin-top: 1.714285714rem;
    font-size: 12px;
    font-size: 0.857142857rem;
    line-height: 1.42857143;

}
.main-navigation a {
    color: #5e5e5e;
}
.main-navigation a:hover {
    color: #21759b;
}
.main-navigation ul.nav-menu,
.main-navigation div.nav-menu > ul {
    display: none;
}
.main-navigation ul.nav-menu.toggled-on,
.menu-toggle {
    display: inline-block;
            *display: inline
            zoom: 1;
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-16T01:45:11.547

嗯，几件事。

尝试删除 rem 单位（为什么需要这些？）

line-height 看起来需要一个单位大小。

并尝试更新`<DOCTYPE>`到`<!DOCTYPE html>`

对于早期的 IE，您可能需要将`<nav>`标签更改为`<div>`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-16T01:46:45.183

来自[w3schools](http://www.w3schools.com/) ::

> Internet Explorer 9、Firefox、Opera、Chrome 和 Safari 支持该标记。

IE<9 将忽略任何 HTML5 元素，但有 javascript 解决方案

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-16T02:05:34.640

遗憾的是，IE7 和 IE8 基本上不支持 HTML5。现实情况是，如果您使用 HTML5/CSS3 编写代码，在 IE7/IE8 中运行会很头疼，而事实就是如此。

要真正开始解决问题，请查看[HTML5Shiv](https://code.google.com/p/html5shiv/)。它提供了一些样式来帮助防止旧 IE 完全无法理解您的 HTML5 网页。

相关问题：[Html5：页眉/页脚/导航标签等，在 IE7、8 和不支持 html5 的浏览器中会发生什么？](https://stackoverflow.com/questions/5367526/html5-header-footer-nav-tags-etc-what-happens-to-these-in-ie7-8-and-browsers-t)

尝试一下，然后使用 IE9+s F12 开发工具查看 IE7 中发生了什么——尤其是检查控制台，在 ie7 模式下您会发现大量 jquery 错误。

如果这不能完全奏效，至少它将推动该过程以找出还有什么问题。不过不用担心——所有的 HTML5 页面都有这种问题。

# sql - 用于从一组特定组中获取所有行的 SQL 命令

> ID：15444655
> 
> 赞同：1
> 
> 时间：2013-03-16T01:41:21.007
> 
> 标签：sql, group-by

假设我有下表（ID是自增的）

```
ID    Name    Serial   Status
0     Pie     A        Fail
1     Pie     A        Fail
2     Pie     A        Pass
3     Pie     B        Fail
4     Pie     B        Pass
5     Pie     C        Pass
6     Pie     C        Fail 
```

如何获取每个 Group By (Name, Serial) 的最后一行为 Pass 的所有行？

这是我应该从查询中得到的结果。序列 C 被删除，因为（名称，序列）组的最后一个条目是“失败”

```
 ID    Name    Serial   Status
 0     Pie     A        Fail
 1     Pie     A        Fail
 2     Pie     A        Pass
 3     Pie     B        Fail
 4     Pie     B        Pass 
```

谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-16T01:55:26.413

我会尝试这样的事情（假设 SQL Server）：

```
DECLARE @myTable AS TABLE(
    ID INT, 
    Name VARCHAR(10), 
    Serial VARCHAR(1), 
    [Status] VARCHAR(10))

INSERT INTO @myTable VALUES(0, 'Pie', 'A', 'Fail')
INSERT INTO @myTable VALUES(1, 'Pie', 'A', 'Fail')
INSERT INTO @myTable VALUES(2, 'Pie', 'A', 'Pass')
INSERT INTO @myTable VALUES(3, 'Pie', 'B', 'Fail')
INSERT INTO @myTable VALUES(4, 'Pie', 'B', 'Pass')
INSERT INTO @myTable VALUES(5, 'Pie', 'C', 'Pass')
INSERT INTO @myTable VALUES(6, 'Pie', 'C', 'Fail')

SELECT * 
FROM @myTable
WHERE Serial NOT IN
(
    --Get all Serial that end with a 'Fail'
    SELECT T1.Serial
    FROM @myTable T1
    JOIN (
        --Get Max ID for a serial
        SELECT MAX(ID) as [ID] FROM @myTable GROUP BY Serial
    ) T2 ON T1.[ID] = T2.[ID]
    WHERE T1.[Status] = 'Fail'
)
ORDER BY [ID] 
```

或者如果您愿意`NOT EXISTS`（通常比 快`NOT IN`）：

```
SELECT * 
FROM @myTable T
WHERE NOT EXISTS
(
    SELECT 
        T1.Serial
    FROM @myTable T1
    JOIN (
        --Get Max ID for a serial
        SELECT MAX(ID) as [ID] FROM @myTable GROUP BY Serial
    ) T2 ON T1.[ID] = T2.[ID]
    WHERE 
        T1.[Status] = 'Fail' 
        AND T1.[Serial] = T.[Serial]
)
ORDER BY [ID] 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-16T02:36:46.790

我们可以使用[CTE](http://msdn.microsoft.com/en-us/library/ms190766%28v=sql.105%29.aspx)通过实现一系列顺序步骤来提高可读性：

1.  获取最大 id
2.  获取状态为“失败”的最大 ID 的连续剧
3.  删除那些与连续剧匹配的行

它看起来像这样：

```
with maxIds as ( --Get max Ids
                SELECT MAX(ID) as [ID] FROM myTable GROUP BY Serial
 ), 
serials as ( -- Get serials for max ids that have status 'Fail'
           SELECT T1.Serial FROM myTable T1 JOIN maxIds ON T1.[ID] = maxIds.[ID] WHERE [Status] = 'Fail' 
)  
select * from myTable where serial not in (select * from serials) -- Remove serials that match 
```

# firefox - 在没有“file:///”的情况下在 Firefox 中打开本地文件或将 / 当作 \

> ID：15444657
> 
> 赞同：1
> 
> 时间：2013-03-16T01:41:25.233
> 
> 标签：firefox, local

我正在寻找一个调整、插件或修复，让我打开本地 uri 或不带 file:/// 前缀的 url（如在 IE 或 Chrome 中）

例子：

```
c:/folder/file.txt 
```

如果我将正斜杠更改为反斜杠，它会起作用，但我需要它像示例一样，或者在 Firefox 中将两个斜杠视为相同的修复程序。

# sql - SQL 根据从另一个表中查找的值查找一个表中的记录

> ID：15444658
> 
> 赞同：0
> 
> 时间：2013-03-16T01:41:55.353
> 
> 标签：sql, sql-server

对不起，我试图寻找答案，但我很难将我找到的示例翻译成我自己的场景。

我有一张桌子，`INVENTORY`. 此表中的列是`ITEMNUM`和`EMI`。

```
ITEMNUM    EMI
 12345    6543
 23456    1234
 34567    6543
 45678    7654
 66666    6543
 55555    6543 
```

另一张桌子，订单。注意列是 ORDERNUM 和 ITEMNUM。

我希望用户能够输入一个`ITEMNUM`，然后它`ITEMNUM`在`INVENTORY`表中查找它并找到所有对应`ITEMNUMs`的具有相同的`EMI`。然后它使用这些`ITEMNUMs`并找到所有`ORDERs`相同的`ITEMNUMs`。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-16T01:47:46.717

我认为这样的事情应该适合你：

```
SELECT DISTINCT O.*
FROM Inventory I
   JOIN Inventory I2 ON I.EMI = I2.EMI
   JOIN Orders O ON I2.ItemNum = O.ItemNum
WHERE I.ItemNum =  12345 
```

这将按 ItemNum 搜索，并返回与其 EMI（而不是 ItemNum）匹配的任何订单。

[SQL 小提琴演示](http://sqlfiddle.com/#!2/5125c/1)

# java - 没有得到我在程序中寻找的输出，也有用户输入等于字符串循环的问题

> ID：15444659
> 
> 赞同：1
> 
> 时间：2013-03-16T01:41:55.690
> 
> 标签：java, arrays, file, methods, user-input

我的代码已经完成并且大部分时间都在工作，这就是我所拥有的

```
import java.util.*;
import java.io.*;
import java.text.*;

public class Proj5 {
public static void main(String[] args)throws IOException{
    Scanner s = new Scanner(System.in);
    PrintWriter outFile = new PrintWriter(new File("results.txt"));
    int [] quizKey = {1,1,2,2,1,1,3,2,4,1,3,5,4,1,2};
    String [] userAnswers = new String[100];
    String [] wid = new String[100];
    int [] numCorrect = new int[quizKey.length];

DecimalFormat df = new DecimalFormat("#0.0");
    int max;
    int min;

    int lines=0;
    readInText(s);
    s = readInText(s);
    while(s.hasNext()){
        String line = s.nextLine();
        String[] tokens = line.split(",");
        wid[lines] = tokens[0];
        userAnswers[lines] = tokens[1];
        lines ++;

    }// end while loop
    long[][] userAnswersInt = new long[lines][quizKey.length];
    numCorrect = gradeSingleQuiz(lines, quizKey, userAnswers, numCorrect, userAnswersInt);
    double[] percentCorrect = new double[lines];
    percentCorrect = percentCorrect(lines, numCorrect, numCorrect);
    char[] grades = new char[lines];
    grades = grade(numCorrect, lines);
    max=max(numCorrect);
    min=min(numCorrect);

    displayOutput(outFile, wid, lines, numCorrect, grades, percentCorrect);
    averageScore(outFile, max, min, lines, percentCorrect);
}//end main

public static Scanner readInText(Scanner s)throws IOException{
    /*String input;
    System.out.print("Enter name of the file: ");
    input=s.nextLine();
    System.out.println(input);
    while(input!="QuizScores.txt"){
        System.out.println("invalid file entered, please enter the correct anem of the file: ");
        input=s.nextLine();
    }
    */
    Scanner inFile = new Scanner(new File("QuizScores.txt"));

    return inFile;

}// end readInText

public static String[] userAnswers(String userAnswers[]){
    return userAnswers;
}
/**
 * calculates the grades of the tests
 * 
 * @param lines - number of 
 * @param quizKey - answers to the test
 * @param userAnswers - string version of user answers
 * @param numCorrect - number of answers correct
 * @param userAnswersInt - int version of user answers
 * @return numCorrect - number of answers correct
 */
public static int[] gradeSingleQuiz(int lines, int quizKey[], String userAnswers[], int numCorrect[], long userAnswersInt[][]){
    for (int j=0; j<lines; j++){
    numCorrect[j]=0;
        long[] ara = new long[quizKey.length];
        ara [j] = Long.parseLong(userAnswers[j]);
        for(int p=0; p<ara.length; p++){
            userAnswersInt[j][p]=ara[j]%10;
            ara[j]=ara[j]/10;
        }
        int rows = userAnswersInt.length;
            int cols = userAnswersInt[0].length;
            long[][] userAnswersReverse = new long[rows][cols];
        if(j==4){
            for(int q=0; q<userAnswersInt.length;q++){
            for(int w = cols-1; w >=0; w--){
                userAnswersReverse[q][cols-1-w] = userAnswersInt[q][w];
                }
            }
        }
        if(j==4){
            for(int r=0; r<lines; r++){
                for(int n=0; n<quizKey.length; n++){
                    System.out.println(userAnswersReverse[r][n]);
                    if(userAnswersReverse[r][n]==(quizKey[n])){
                    numCorrect[r]++;    
                    }
                }
            }
        }   
    }//end for loop

return numCorrect;
}// end gradeSingleQuiz
/**
 * calculates the max
 * 
 * @param numCorrect - number of correct answers
 * @return max - the highest number of correct answers
 */
public static int max(int numCorrect[]){
    int max = numCorrect[0];
    for(int r=0; r<numCorrect.length; r++){
        if(numCorrect[r]>max){
            max=numCorrect[r];
        }
    }
return max;
}
/**
 * calculates the min
 * 
 * @param numCorrect - number of correct answers
 * @return min - the lowest number of correct answers
 */
public static int min(int numCorrect[]){
    int min = numCorrect[0];
    for(int r=0; r<numCorrect.length; r++){
        if(numCorrect[r]<min){
            min=numCorrect[r];
        }
    }
return min;
}
/**
* grade of the test
*
* @param numCorrect - number of answers correct
* @param lines - number of lines in file
* @return grade - the letter grade is being returned)
*/
public static char[] grade(int numCorrect[], int lines){
    char[] grade = new char[lines];
    for (int j=0; j<lines; j++){

if(numCorrect[j]>=14)
            grade[j]='A';
        else if((numCorrect[j]>=12)&&(numCorrect[j]<14))
            grade[j]='B';
        else if((numCorrect[j]>=11)&&(numCorrect[j]<12))
            grade[j]='C';
        else if ((numCorrect[j]>=9)&&(numCorrect[j]<11))
            grade[j]='D';
        else
            grade[j]='F';
    }
    return grade;
}//end grade
/**
 * percent of the answers correct
 * 
 * @param lines - number of lines in file
 * @param numCorrect - number of answers correct
 * @param quizKey - correct answers
 * @return centCorrect - percent of correct answers (1)
 */
public static double[] percentCorrect(int lines, int numCorrect[], int quizKey[]){
    double[] centCorrect = new double[lines];
    for (int j=0; j<lines; j++){
    centCorrect[j] = (numCorrect[j]/quizKey.length)*100;
    }
return centCorrect;
}
/**
 * average of all the test scores & displays min and max
 * 
 * @param min - lowest score
 * @param max - highest score
 * @param lines - number of lines in file
 * @param percentCorrect - percent of correct answers
 * @return none
 */
public static void averageScore(PrintWriter outFile, int min, int max, int lines, double percentCorrect[]){
    double add=0;
    for(int d=0; d<lines; d++){ 
        add = percentCorrect[d] + add;
    }//end for loop
    add=add/lines;
    System.out.println("Average: " + add + "%");
    outFile.println("Average: " + add + "%");
    System.out.println("High Score: " + max);
    outFile.println("High Score: " + max);
    System.out.println("Low Score: " + min);
    outFile.println("Low Score: " + min);
}// end averageScore
/**
 * displays the student id number correct percent correct and grade
 * 
 * @param wid - wildcat ID
 * @param lines -number of lines in file 
 * @param numCorrect - number of answers correct
 * @param grades - grade of test
 * @param percentCorrect - percent of answers correct
 * @return none
 */
public static void displayOutput( PrintWriter outFile, String wid[], int lines, int numCorrect[], char grades[], double percentCorrect[]){
    System.out.println("Student ID    # Correct    %Correct    Grade");
    outFile.println("Student ID    # Correct    %Correct    Grade");

for(int i=0; i<lines; i++){
        System.out.println("  " + wid[i] + "          " + numCorrect[i] + "        " +
                (percentCorrect[i]) + "%" + "      " + grades[i]);  
        outFile.println("  " + wid[i] + "          " + numCorrect[i] + "        " +

(percentCorrect[i]) + "%" + "      " + grades[i]);
    }

}// end display output

}//end class 
```

这是我不包括用户输入要求时得到的输出：

```
Student ID    # Correct    %Correct    Grade
 4563123          15        100.0%      A
 2312311          9        0.0%      D
 2312345          13        0.0%      B
 5527687          9        0.0%      D
 7867567          6        0.0%      F
Average: 20.0%
High Score: 0
Low Score: 15 
```

所以我将从我的问题开始，总的来说它工作得很好，只是由于某种原因没有将值分配给 percentCorrect 数组（我认为不是 100%）另外还有高分（最大值）和低分（最小值）工作不正常，我也不知道为什么会这样，所以对这些事情的帮助会很棒，我完全被难住了。

我的另一个问题是，我需要让用户输入文件名，如果他们输入了错误的文件名，让他们知道他们做了并再次询问，直到他们做对了，我实现了这个：

```
String input;
    System.out.print("Enter name of the file: ");
    input=s.nextLine();
    System.out.println(input);
    while(input!="QuizScores.txt"){
        System.out.println("invalid file entered, please enter the correct anem of the file: ");
        input=s.nextLine();
    } 
```

但它不起作用，因为即使我输入正确的字符串（大写字母和所有内容），它仍然会打印“无效的文件，请...”行我也不知道我在这里做错了什么，所以请帮忙这太棒了。

提前致谢

编辑：

好的，我认为问题可能出在这些代码块中（同样不是 100%）

```
percentCorrect = percentCorrect(lines, numCorrect, numCorrect); 
```

和/或

```
public static double[] percentCorrect(int lines, int numCorrect[], int quizKey[]){
    double[] centCorrect = new double[lines];
    for (int j=0; j<lines; j++){
    centCorrect[j] = (numCorrect[j]/quizKey.length)*100;
    }
return centCorrect;
} 
```

和/或

```
public static int max(int numCorrect[]){
    int max = numCorrect[0];
    for(int r=0; r<numCorrect.length; r++){
        if(numCorrect[r]>max){
            max=numCorrect[r];
        }
    }
return max; 
```

和/或

```
public static int min(int numCorrect[]){
    int min = numCorrect[0];
    for(int r=0; r<numCorrect.length; r++){
        if(numCorrect[r]<min){
            min=numCorrect[r];
        }
    }
return min;
} 
```

我从中提取的文件是这样的：

```
4563123,112211324135412
2312311,222121324135211
2312345,112211324135421
5527687,212111313124412
7867567,111111111111111 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-16T03:01:04.120

您收到“输入的文件不正确”的原因是因为这一行`while(input!="QuizScores.txt")`

您不能使用“==”或“！=”检查字符串是否相等，请改用 equals 方法，如下所示 `input.equals("QuizScores.txt")`

这背后的原因是，使用“！=”检查字符串对象的引用相等性。

此外，在您的代码中，您调用`readInText()`了两次，第一次什么也不做。

高分和低分看起来不正确，因为方法定义将`averageScore()`min 作为第二个参数，将 max 作为第三个参数，当你调用它时，你交换了 min 和 max。

编辑：

%Correct 显示第一个为 100%，其余为 0% 的原因是因为计算百分比时的数学计算。

`centCorrect[j] = (numCorrect[j]/quizKey.length)*100`不会因为整数除法，导致整数，也就是说小数丢失了。

为了获得正确的值，将整数转换为双精度值，如下所示

`centCorrect[j] = ((double)numCorrect[j]/(double)quizKey.length)*100`

# javascript - 产生一个每次点击都会旋转一个字母的字符串？

> ID：15444660
> 
> 赞同：-4
> 
> 时间：2013-03-16T01:42:07.857
> 
> 标签：javascript, jquery, string

我的任务是使用 javascript 和 jquery 生成一个网页，该网页采用用户提交的字符串并生成该字符串：`abcde`=>`bcdea` 我的问题是当我尝试运行程序时没有输出。我检查了错误控制台，它说旋转没有定义。我只是很困惑。

```
<!doctype html>
<!-- This page demonstrates several string properties and operations -->
<!-- =============================================================== --> 

<html>
<head>  
  <title> String Demo </title> 
  <script  src="..111/js/jquery-1.9.1.min.js"></script>
  <script type="text/javascript">
    function rotate(s)
    {
      result = $('#strBox').value;              
      "rotate:" + result
      var result = "";
      for (var i = 0; i< s.length; ++i){
        result = s.substring(1) + s.charAt(0);
        $('#outputDiv').innerHTML = 
      }
    }
  </script>
  </script>
</head> 

<body> 
  <h2>String Demo</h2>  
  <p>
    Enter a string: <input type="text" id="strBox" size=20 value="">
  </p>
  <input type="button" value="Click to Process" onclick="rotate();">                   
  <hr>
  <div id="outputDiv"></div> 
</body>
</html> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-16T02:15:33.620

```
function rotate(s)
{
  result = $('#strBox').value; 
```

看起来它创建了一个全局变量，但您将其声明得更低。最好在顶部声明变量，或者至少在第一次使用时声明。

```
 var result = $('#strBox').value; 
```

`$(<selector>)`返回一个 jQuery 对象。您正在获取该`value`对象的属性值，可能您想要所选元素的值（如果它有一个）。由于 jQuery 包装元素，您需要调用一个函数来访问属性：

```
 var result = $('#strBox').val(); 
```

.

```
 "rotate:" + result 
```

相当于一个空语句，结果没有赋值所以没有任何效果。

```
 var result = ""; 
```

啊，有那个讨厌的声明。分配发生在以后。

```
 for (var i = 0; i< s.length; ++i){
    result = s.substring(1) + s.charAt(0); 
```

这将为每个字符循环一次字符串，所以你最终得到了你开始的字符串。

```
 $('#outputDiv').innerHTML = 
```

jQuery 没有`innerHTML`属性，DOM 对象有。同样，jQuery 需要一个方法来进行属性访问。你需要实际分配一个值，所以：

```
 $('#outputDiv').html(result); 
```

或者

```
 $('#outputDiv').text(result);
  }
} 
```

但是由于浏览器会在更新 DOM 之前等待脚本停止运行，因此您不会看到任何变化（无论如何它可能只是模糊的）。

你可能想要的是这样的：

```
<script>

function rotate(element) {
  var s = element.form.strBox.value;
  document.getElementById('outputDiv').innerHTML = s.substring(1) + s.charAt(0);
}
</script>

<form>
  <p>Enter a string: <input type="text" name="strBox" size=20 value="">
  <p><input type="button" value="Click to Process" onclick="rotate(this);">                   
</form>  
<hr>
<div id="outputDiv"></div> 
```

请注意，使用表单可以更轻松地访问表单控件，因为它们可用作表单的命名属性。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-16T02:19:47.457

1.  函数“旋转”采用未使用的参数。

    功能旋转{

2.  结果未定义为另外两行的变量。值不是 jQuery 对象的属性。

    ```
    result = $('#strBox').value; 
    ```

3.  文本 "rotate:" + 结果未分配给变量且没有分号

    ```
    "rotate:" + result

    var result = ""; 
    ```

4.  此循环不是必需的，只需从字符串中取出第一个字符，将其删除，然后将其添加到字符串的末尾即可。

    ```
    for (var i = 0; i< s.length; ++i){
        result = s.substring(1) + s.charAt(0); 
    ```

5.  “innerHTML”不是 jQuery 对象的有效属性。并且该值没有分配给任何东西。

    ```
     $('#outputDiv').innerHTML = 
    } 
    ```

    }

# munin - 在 munin 中绑定查询解析时间

> ID：15444661
> 
> 赞同：0
> 
> 时间：2013-03-16T01:42:35.343
> 
> 标签：munin

是否可以在munin中绘制bind9的查询解析时间？

我知道有一种方法可以在未绑定的服务器中绘制它，它已经在绑定中完成了吗？如果不是，我该如何开始为此编写一个 munin 插件？我正在从`http://127.0.0.1:8053/`bind9 服务器中获取统计信息。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-06-13T07:26:21.280

我不相信“查询时间”是 BIND 的功能。大约我唯一一次看到该值（通过单独的查找）是在使用 dig 时。如果您愿意使用它，以下可能是一个很好的起点：

```
#!/bin/sh

case $1 in
  config)
    cat <<'EOM'
graph_title Red Hat Query Time
graph_vlabel time
time.label msec
EOM
    exit 0;;
esac

echo -n "time.value "
dig www.redhat.com|grep Query|cut -d':' -f2|cut -d\  -f2 
```

请注意，第二个 cut 语句中的“-d\”后面有两个空格。如果将上述内容保存为“querytime”并在命令行运行，输出应类似于：

```
root@pi1:~# ./querytime
time.value 189

root@pi1:~# ./querytime config
graph_title Red Hat Query Time
graph_vlabel time
time.label msec 
```

不过，我不确定跟踪上述内容的价值。响应时间可能会受到影响：如果查询是初始查找，答案是否在本地缓存，取决于服务器负载，取决于干预网络拥塞等。

注意：上面的内容可能有点错误，因为我是在运行中编写的，但它应该给你一个很好的起点。它返回了上述输出是一个好兆头。

无论如何，建议您在编写自己的代码之前阅读以下内容：http: [//munin-monitoring.org/wiki/HowToWritePlugins](http://munin-monitoring.org/wiki/HowToWritePlugins)

# sql-server-2008 - 更新触发器：超类型/子类型表

> ID：15444662
> 
> 赞同：2
> 
> 时间：2013-03-16T01:42:40.890
> 
> 标签：sql-server-2008, triggers, insert-update, subtype, supertype

我需要一些关于触发器的帮助。我目前正在开发一个平台和一个数据库，以便在我的大学管理考试。这是我的问题：

我有 1 个超类型表，其中包含在平台上注册的所有人员。我必须能够区分每个人的功能“候选人”和“考官”。所以我有 2 个子类型表，一个用于所有考生，一个用于所有考官。为此，我使用了插入触发器。

此外，一个人可以同时是候选人和考官，但不能同时是。因此，在更新超类型表之后，我还需要一个触发器，以便能够从两个子类型表中的一个中删除特定行，并在另一个上插入用户信息。

以下是这 3 个表格的简化设计：

![在此处输入图像描述](../Images/1410a0c8ec4d01fb15aa3aa5ffd6f572.png)

## 我的 INSERT 触发器：

```
ALTER TRIGGER [dbo].[role_insert]   
ON [dbo].[alemp_persons]  
FOR INSERT  
AS
  DECLARE @random_number int
  SELECT @random_number = CAST(CAST(rand() as binary(2)) as int)
BEGIN
  INSERT INTO dbo.alemp_candidates 
  ( 
  id_person, random_number
  )  
  SELECT id_person, @ random_number
  FROM INSERTED  
  WHERE function='Candidate'

  INSERT INTO dbo.alemp_examiners
  (  
  id_person
  )  
  SELECT id_person
  FROM INSERTED  
  Where function='Examiner'
END
GO 
```

## 我的更新触发器：

```
ALTER TRIGGER [dbo].[role_update] ON [dbo].[alemp_persons]
AFTER UPDATE
AS
  DECLARE @id_person int 
  DECLARE @newFunction int SELECT @newFunction=function FROM inserted
  DECLARE @random_number int SELECT @ random_number = CAST(CAST(rand() as binary(2)) as int)

IF @newFunction = 'Candidate'
BEGIN
  DELETE
  FROM dbo.alemp_examiners
  WHERE id_person=@id_person
END

BEGIN
  SET IDENTITY_INSERT dbo.alemp_candidates ON;
  INSERT INTO dbo.alemp_candidates  
  (  
  id_person, random_number
  )  
  SELECT  @id_person, random_number
  SET IDENTITY_INSERT dbo.alemp_candidates OFF;
END

IF @newFunction = 'Examiner'
BEGIN
  DELETE 
  FROM dbo.alemp_candidates
  WHERE id_person=@id_person
END

BEGIN
  SET IDENTITY_INSERT dbo.alemp_examiners ON;
  INSERT INTO dbo.alemp_examiners
  (  
  id_person
  ) 
  SELECT  @id_person
  SET IDENTITY_INSERT dbo.alemp_examiners Off;
END
GO 
```

正如我上面所说，我的 INSERT 触发器可以按我的意愿工作。但是，当我想更新一个人的功能时，我得到了一个错误：

> 当 IDENTITY_INSERT 设置为 ON 或复制用户插入 NOT FOR REPLICATION 标识列时，必须为标识列指定显式值。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-07T16:52:14.763

一些简单的注释：

1）您应该遵循 Mitch Wheat 的建议并重写这些触发器，因为`inserted`表`deleted`可能不止一行。例如，`UPDATE [dbo].[alemp_persons] SET function = CASE WHEN id_person = 1 THEN 'Candidate' ELSE 'Examiner' END WHERE id_person IN (1,2)`如果第一个人的功能是“Examiner”，而第二个人的功能是“Candidate”，那么在执行下一条语句时，您的触发器将出现不良行为。

2)`[dbo].[alemp_persons].function`的数据类型应该是`[tiny]int`或`char(1)`不是`varchar(something greater than 1)`（`Where function='Examiner'`）。

3)`[dbo].[alemp_persons].function`列应禁止 Null。

4)`[dbo].[alemp_persons].function`列应该有一个 CHECK 约束：

ALTER TABLE [dbo].[alemp_persons] 添加约束 CK_alemp_persons_function_Verify CHECK (function IN ('Candidate', 'Examiner') );

5）很高兴添加

*   `function`到`[dbo].[alemp_candidates]`和`[dbo].[alemp_examiners]`表的列，

*   `[dbo].[alemp_candidates]`( `function = 'Candidate'`) 和`[dbo].[alemp_examiners]`( `function = 'Examiner'`)上的两个检查约束，

*   上的唯一索引`[dbo].[alemp_persons](id_person, function)`，

*   `[dbo].[alemp_candidates/examiners](id_person, function)`和之间的两个 FK `[dbo].[alemp_persons](id_person, function)`。

这样，您可以确保该`[dbo].[alemp_candidates]`表只有候选人并且`[dbo].[alemp_examiners]`只有考官，并且每个人一次只能是候选人或考官。

6) 您应该禁止和表 ( )中的列的`IDENTITY`属性。`id_person``[dbo].[alemp_candidates]``[dbo].[alemp_examiners]``SET IDENTITY_INSERT dbo.alemp_candidates ...`

8) 这个语句`IF @newFunction = 'Candidate'`应该会引发错误，因为`@newFunction`数据类型是“INT”。

9）表上的`AFTER UPDATE`触发器`[dbo].[alemp_persons]`将在候选人和考官表之间移动数据（未测试）：

```
ALTER TRIGGER [dbo].[role_update]   
ON [dbo].[alemp_persons]  
FOR UPDATE
AS
BEGIN

DECLARE @selected_rows TABLE (
id_person INT PRIMARY KEY, -- or BIGINT, look at alemp_person.id_person data type 
new_function VARCHAR(50) NOT NULL -- look at alemp_person.function column data type 
);

INSERT @selected_rows (id_person, new_function)
SELECT new.id_person, new.function
FROM inserted as new INNER JOIN deleted as old ON new.id_person = old.id_person
WHERE new.function <> old.function;

MERGER dbo.alemp_candidates AS dest
USING @selected_rows AS src ON dest.id_person = src.id_person
WHEN MATCHED THEN 
    DELETE
WHEN NOT MATCHED BY TARGET AND src.new_function = 'Candidate' THEN
    INSERT (id_person, random_number)
    VALUES (src.id_person, CONVERT(BINARY(2), CHECKSUM(NEWID()));

MERGER dbo.alemp_examiners AS dest
USING @selected_rows AS src ON dest.id_person = src.id_person
WHEN MATCHED THEN 
    DELETE
WHEN NOT MATCHED BY TARGET AND src.new_function = 'Examiner' THEN
    INSERT (id_person)
    VALUES (src.id_person);
END 
```

# assembly - 30H 中断给出错误的 DOS 版本

> ID：15444663
> 
> 赞同：0
> 
> 时间：2013-03-16T01:42:46.637
> 
> 标签：assembly, masm, x86-16

我在 64 位 AMD 处理器上运行 Windows 8 的 32 位副本。我正在学习 8086 汇编课程，书中给出了如何获取 DOS 版本号的示例。当我启动 cmd.exe 时，它​​在顶部告诉我它是 6.2.9200 版本。此外，当我运行“VER”DOS 命令时，它告诉我同样的事情。但是，当我执行 30H 中断例程以获取 DOS 版本号时，它告诉我我正在运行 DOS 版本 5.0。什么可以解释这种差异？

顺便说一句，我使用命令在 MASM6 中组装了以下代码`ML /Fl DOSVER.ASM`。

```
 .MODEL SMALL
   .DATA
   VNS    DB  'DOS Version $'

   .CODE
   .STARTUP
   LEA   DX,VNS     ;set up pointer to output string
   MOV   AH,9       ;display string
   INT   21H        ;DOS call
   MOV   AH,30H     ;get DOS version number
   INT   21H        ;DOS call
   PUSH  AX         ;save copy of version number
   ADD   AL,30H     ;add ASCII bias to major version number
   MOV   DL,AL      ;prepare for output
   MOV   AH,2       ;output character to screen
   INT   21H        ;DOS call
   MOV   DL,'.'     ;load a period
   MOV   AH,2       ;output character to screen
   INT   21H        ;DOS call
   POP   AX         ;get version number back
   MOV   AL,AH      ;load minor version number
   MOV   BL,10      ;divide minor version number by 10
   SUB   AH,AH
   DIV   BL
   ADD   AL,30H     ;add ASCII bias
   MOV   DL,AL      ;prepare for output
   MOV   AH,2       ;output character to screen
   INT   21H        ;DOS call
   .EXIT

   END 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-16T02:41:28.537

您在命令行界面顶部看到的由`VER`命令返回的版本号是 Windows 版本，而不是`DOS`版本。据我了解，Windows 命令行界面是一个 DOS 模拟器，而不是 MS-DOS 的实际实例。似乎基于 Windows NT 的系统（包括 Windows 8）模拟了 5.0 版本的 MS-DOS（这似乎在[此处](http://www.ctyme.com/intr/rb-2711.htm)和[此处](http://en.wikipedia.org/wiki/MS-DOS#Windows_command-line_interface)被建议）——这似乎与您所描述的一致。

# android - 内存位图转换

> ID：15444666
> 
> 赞同：2
> 
> 时间：2013-03-16T01:43:11.940
> 
> 标签：android, graphics, bitmap, bit-manipulation

我有以下问题。我从一个位图转换例程开始，它完美地适用于我可以进行的任何类型的转换。

```
 Bitmap transform(Bitmap src) {
    // ... any kind of transformation , for example GAMMA
    double gama = 0.8;
    int[] tR = new int[256];
    int[] gG = new int[256];
    int[] tB = new int[256];
    for(int i = 0; i < 256; ++i) {
      tR[i] = (int)Math.min(255, (int)((255.0 * Math.pow(i / 255.0, 1.0 / gama)) + 0.5));
      tG[i] = (int)Math.min(255, (int)((255.0 * Math.pow(i / 255.0, 1.0 / gama)) + 0.5));
      tB[i] = (int)Math.min(255, (int)((255.0 * Math.pow(i / 255.0, 1.0 / gama)) + 0.5));
    }
    // apply transformation to the old bitmap -> bmOut  
    int wid = src.getWidth(), hei = src.getHeight();
    Bitmap bmOut = Bitmap.createBitmap(wid, hei, src.getConfig());
    int A, R, G, B;
    for(int x = 0; x < wid; x++) {
      for(int y = 0; y < hei; y++) {
        int pixel = src.getPixel(x, y);
        A = Color.alpha(pixel);
        R = tR[Color.red(pixel)];
        G = tG[Color.green(pixel)];
        B = tB[Color.blue(pixel)];
        bmOut.setPixel(x, y, Color.argb(A, R, G, B));
      }
    }
    return bmOut;
  } 
```

但它非常缓慢 - 由 getPixel() / setPixel() 兄弟姐妹引起。没问题，我说，我将只使用内存缓冲区（就像在旧的 StretchBlt() 时代一样）。所以，我做了一个重大的重写，创建了以下软件工程的瑰宝:)

```
 Bitmap transform(Bitmap src) {
    // ... transformation array are built here

    // apply transformation  
    int wid = src.getWidth(), hei = src.getHeight();
    Bitmap bmOut = Bitmap.createBitmap(wid, hei, src.getConfig());

    int[] pixs = new int[wid*hei];                  // changed
    src.getPixels(pixs, 0, wid, 0, 0, wid, hei);    // changed

    int A, R, G, B;
    for(int x = 0; x < wid; x++) {
      for(int y = 0; y < hei; y++) {
        int off = ( x * y ) + y;                    // changed
        int pixel = pixs[off];                      // changed
        A = Color.alpha(pixel);
        R = tR[Color.red(pixel)];
        G = tG[Color.green(pixel)];
        B = tB[Color.blue(pixel)];
        pixs[off] = Color.argb(A, R, G, B);         // changed      
      }
    }
    bmOut.setPixels(pixs, 0, wid, 0, 0, wid, hei);  // changed
    return bmOut;
  } 
```

运行速度很快，如果没有转换，甚至可以得到正确的结果。但如果我尝试按摩像素（应用转换），它就会崩溃。所以我比较了来自 getPixel() 的 ARGB 像素与来自 getPixels(...) 的像素值数组，它们是不同的（嗯，前两个是相同的，这让我有大约数不清的像素值不是）。

```
array     getPixel
a r g b   a r g b
------------------
ff65340b  ff65340b
ff64330a  ff64330a
ff66320b  ff63320a
ff65310a  ff613008
ff66300c  ff62300d
ff67310d  ff62300d
ff68300d  ff622d0d
ff69310e  ff5f2a0a
.... 
```

有人知道我这次做错了什么吗？我还不愿意放弃 mem-array 解决方案的速度。谢谢，肖恩

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-16T06:00:54.847

它应该是

```
int off = ( y * wid ) + x; 
```

顺便说一句，我认为这两个循环是不必要的，你可以简单地做：

```
for (int off = pixs.length - 1; off >= 0; off--) 
```

# jquery - 无法在 jQuery 1.8+ 中进行同步 REST 调用

> ID：15444667
> 
> 赞同：0
> 
> 时间：2013-03-16T01:43:15.167
> 
> 标签：jquery, ajax, rest, asynchronous, get

从 jQuery 1.8 开始，$.ajax 函数的 async:fals 选项已被弃用。这是我进行 REST 调用的首选方法。任何人都可以演示一种在 jQuery 1.8+ 中进行同步 REST 调用的方法。我尝试使用 $.get 函数，但无法弄清楚如何设置 data:jsonp 以避免访问控制来源问题。

# javascript - 在 Angular.js 应用程序中进行事件驱动开发的最佳实践是什么？

> ID：15444680
> 
> 赞同：12
> 
> 时间：2013-03-16T01:45:27.797
> 
> 标签：javascript, angularjs, event-driven, event-driven-design

我正在向我们的 Angular 应用程序添加一些 websocket 功能。Websocket 对象被包装在一个服务中。理想情况下，我们希望我们包装的套接字对象有一个标准的事件 API，以便我们可以在控制器中使用它，如下所示：（抱歉，Coffeescript）

```
angular.module('myApp').controller 'myCtrl', ($scope, socket) ->
  update = (msg)->
    $scope.apply ->
      #do something regarding to the msg

  socket.on 'message', update

  unregister: ->
    socket.off 'message', update 
```

我们实现这一目标的最佳实践/库是什么？使用jQuery？Backbone.Events？任何建议都会有所帮助。谢谢！

* * *

## 回答 #1

> 赞同：19
> 
> 时间：2013-03-16T09:37:02.773

您不需要使用任何库来实现这一点，只需创建一个服务，注入 $rootscope 并将事件从那里发布到 rootscope，然后在您的控制器中侦听该事件。

```
var socket; // this be the socketio instance.
angular.module("myApp").factory("SocketHandler", function ($rootScope) {
  var handler = function (msg) {
    $rootScope.$apply(function () {
      $rootScope.$broadcast("socketMessageReceived", msg);
    });
  };

  socket.on("message", handler);

  $rootScope.$on("unregisterSocket", function () {
    socket.off("message", handler);
  });
}).controller("myCtrl", function ($scope, SocketHandler) {
  var listener;
  var addListener = function () {
    listener = $scope.$on("messageReceived", function (e, msg) {
      console.log("New Message: " + msg);
    }); // $on returns a registration function for the listener
  };
  var removeListener = function () {
    if (listener) listener();
  };
}); 
```

# java - Amazon AWS EC2，如何组合实例？

> ID：15444684
> 
> 赞同：0
> 
> 时间：2013-03-16T01:46:04.820
> 
> 标签：java, amazon-web-services, amazon-ec2

我能够在亚马逊 EC2 上创建单独的实例。

如果 CPU 利用率超过一个百分比，我正在尝试使用自动缩放来创建更多实例，但在此之前，我想知道如何在 EC2 控制台中组合实例。

我认为有两种方法可以在命令行工具中完成。1\. 自动缩放 2\. CloudWatch

是否可以不使用命令行工具，而是在网站上控制缩放？

还有另一个问题是可以将这些工具集成到java中吗？我知道您可以在 Java 中创建 CloudWatch 实例并尝试获取 CPU 利用率。有没有办法使用 Amazon AWS Java 开发工具包进行扩展？

多谢你们

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-16T03:13:28.833

要组合另外 2 个 ec2 实例，您需要将这些实例附加到弹性负载均衡器。您可以设置您的 Auto Scaling 配置，也可以更好地使用另一个微型实例来监控您的实例，并在该实例中设置为配置。关于 JAVA SDK 是可以的，但从这个意义上说，你只是在重新发明轮子。使用现有工具而不是开发自己的工具。

# java - Java读取字符串并将字符串中的数字转换为整数类型

> ID：15444685
> 
> 赞同：0
> 
> 时间：2013-03-16T01:46:15.480
> 
> 标签：java

我正在尝试从用户字符串中获取数字（如果它有数字）并将这些数字转换为它们的数值。我有以下代码接受用户输入。

例如： `java Convert "55s"`将只输出数字 55，我将其存储以备后用

```
{
      char Element = 0;
      double Sum = 0;
      boolean Check = false;

        for(String s: args)  // taking in user input for command line 
        {
            for (int i = 0; i<s.length(); i++)
            {
              Check = true;
              Element = s.charAt(i);          // converting the string into chars
              Sum = convert_to_numb (Element, Check);
              Check = false;
            }
        } 
```

输入是一个字符串，我将其分成字符并将其发送到我的转换函数。我的想法如下

```
 public static double convert_to_numb (char elem, boolean check)  //trying to convert chars to numbers
  {
      char iter = elem;
      double number = 0;
      int count = 0;

        while (check == true)
        {
             number  =  number +  (iter - 48) * Math.pow(10,count);
             System.out.println(iter);
             count ++;
        }

     return number; 
  } 
```

在这里，我输入字符以查看它们是否是数字并将实际数字转换为它们的整数值。为了澄清我想执行以下任务，给定一个“55”的示例输入，将其转换为 5*10^1 + 5*10^0 = 55。我将不胜感激。谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-16T03:37:46.213

好吧，我想我可能知道您要完成什么，尽管正如其他人所提到的，这有点不清楚。

为了解决您刚刚发布的代码，我认为它不会像您期望的那样运行。对于初学者来说，布尔变量“Check”目前什么也没做。convert_to_numb 仅在 Check 为真时调用，因此它是多余的。

此外，当您遍历字符串时，总和不会存储在任何地方。每次获得总和时，它都会覆盖前一个。

你的 convert_to_numb 方法更麻烦；它包含一个无限循环。由于 Check 始终设置为“true”，因此您基本上有一个永远不会结束的 while(true) 循环。

我将假设您的目标是解析输入到程序中的任何字符串，以查找连续数字组。然后，您希望将这些数字组存储为整数，如果您找到多个，则可能存储在一个数组中。

像这样的东西可能会奏效。

```
{
    ArrayList<Integer> discovered = new ArrayList<Integer>();        

    for (String s : args) {

        // contains previous consecutive digits (if any)
        ArrayList<Integer> digits = new ArrayList<Integer>();

        for (int i = 0; i < s.length(); i++) {
            Character c = s.charAt(i);

            // add digit to digit array
            if (c.isDigit()) {
                digits.add(c.getNumericValue())
            }

            // not a digit, so we clear the digit array
            else {

                // combine the array to form an integer
                if (! digits.isEmpty()) {
                    int sum = 0;

                    int counter = 0;
                    for (Integer i : digits) {
                        sum += i * Math.pow(10, counter);
                        counter++;
                    }

                    discovered.add(sum);
                    digits.clear();
                }
            }
        }
    }
} 
```

请注意 ArrayLists 以及 Integer 和 Character 包装类的使用。这些都提供了有助于处理边缘情况的功能。例如，我不确定该`(iter - 48)`部分是否适用于所有情况。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-16T03:44:20.160

像这样的东西：

```
public static void main(String[] args) {
    String string = "55s";
    String[] piece = string.split("[\\D]+");
    for (int j = 0; j < piece.length; j++) {
        if(piece[j].trim().length() > 0) {
            System.out.println(piece[j]);
        }
    }
} 
```

它会拆分你的初始字符串，其余的你应该自己做。

# c++ - 四元数 3 轴旋转

> ID：15444687
> 
> 赞同：2
> 
> 时间：2013-03-16T01:47:15.713
> 
> 标签：c++, rotation, directx, quaternions

这里有点帮助。我从硬件陀螺仪接收每个轴 1 次旋转，因此总共 3 个轴（x，y，z）旋转 3 次。当我使用基于矩阵的旋转时，我得到奇怪的旋转可能是因为乘法顺序 (RotX*RotY*RotZ <> RotY*RotX*RotZ)，我也尝试过 MatrixYawPitchRoll，但出现了相同的效果。因此，我得出结论，我应该使用四元数，但我认为我必须创建 3 个四元数，每次旋转一个，但是当我将它们与乘法相结合时，我会得到与基于矩阵的旋转相同的效果......所以有人可以告诉我如何正确使用 3 次旋转来创建和组合四元数，而不会出现之前的乘法效果？

PS D3DXQuaternionRotationYawPitchRoll 仍然遭受与基于矩阵的旋转相同的效果。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-16T01:53:14.843

四元数不是一种可以消除旋转问题的神奇药膏。所有四元数都是表示特定方向和进行方向转换的廉价方式。

您的问题是您没有将方向表示为四元数；您将其表示为 3 个角度。正是这种*表示*导致了您的轮换问题。

你需要停止使用角度。将对象的方向表示为*四元数*。如果要调整方向，请从调整角度/轴创建一个四元数，然后将其乘以对象的方向。重新规范化四元数，你就完成了。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-03-14T09:51:51.303

我看到问题的两个主要来源。

1.  你从 Euler Angels 的转变被打破了。
2.  您使用无效的欧拉角方案。存在 24 种欧拉天使方案 [http://en.wikipedia.org/wiki/Euler_angles](http://en.wikipedia.org/wiki/Euler_angles)

简单的欧拉角方案是围绕轴 XYZ、ZYX、ZXZ 的旋转顺序......

所有到/从矩阵/四元数的转换都可以在源代码中找到 Ken Shoemake，1993 年的优秀文章。

[http://tog.acm.org/resources/GraphicsGems/gemsiv/euler_angle/](http://tog.acm.org/resources/GraphicsGems/gemsiv/euler_angle/)

# google-plus - 从 Google+ 管理应用页面中删除应用

> ID：15444692
> 
> 赞同：4
> 
> 时间：2013-03-16T01:48:08.970
> 
> 标签：google-plus

我看不到任何从[G+ 管理应用](https://plus.google.com/apps)页面删除应用的方法。我可以在此处断开连接，或从[Google OAuth 授权应用页面](https://accounts.google.com/IssuedAuthSubTokens)撤消访问权限，但我看不到任何完全删除它的选项。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-03-16T04:43:00.840

[使用Google+ 应用程序页面](https://plus.google.com/apps)断开连接将使您删除与该应用程序关联的所有活动，并将撤消对相关应用程序的信息的访问权限。它还应该从列表中删除它。

**更新**

作为记录，此链接当前重定向到[https://myaccount.google.com/permissions](https://myaccount.google.com/permissions)，它执行相同的操作。

# python - 如何登录到 python & Bottle Web 服务器的文件？

> ID：15444695
> 
> 赞同：4
> 
> 时间：2013-03-16T01:48:49.790
> 
> 标签：python, logging, webserver, bottle

以下是我的服务器代码。我需要向它添加日志记录。这是一个非常基本的 REST API 服务器。我已经将它部署在 Amazon EC2 上。有时由于错误或其他原因，http 服务器会关闭。如果我登录到 EC2，我可以在它们发生时看到错误。但如果我没有实时监控它，我不知道发生了什么错误。因此，我想添加日志记录，将错误记录在一个日志文件中，稍后我可以查看。请建议我该怎么做。

```
import json
import uuid # this is for generating unique id
import datetime
import bottle
from bottle import route, run, request, abort
from pymongo import Connection

connection = Connection('localhost', 27017)
db = connection.mydatabase

@route('/documents', method='PUT')
def put_document():
    data = request.body.readline()
    if not data:
        abort(400, 'No data received')
    entity = json.loads(data)
    if not entity.has_key('_id'):
        abort(400, 'No _id specified')
    try:
        db['documents'].save(entity)
    except ValidationError as ve:
        abort(400, str(ve))

@route('/documents/:id', method='GET')
def get_document(id):
    entity = db['documents'].find_one({'_id':id})
    if not entity:
        abort(404, 'No document with id %s' % id)
    return entity

@route('/startSession', method = 'GET')
def startSession():
    #here we need to create a unique id and store it in the database.
    date = str(datetime.datetime.utcnow());
    id = str(uuid.uuid4())
    reply = {'date' : date,
                'user_id': id
                }

    response = {'date' : date,
        'user_id': id
        }
    return_id = db['users'].save(reply)
#print 'the id returned is', return_id
#print 'the changed reply is',reply
#print 'the NON changed respponse is ',response
    return json.dumps(response)

@route('/set_bus_location', method = 'PUT')
def set_bus_location():
    data = request.body.readline()
    print 'data is ',data
    if not data:
        abort(400, 'No data received')
    entity = json.loads(data)
    db['bus_locations'].save(entity)

run(host='0.0.0.0', port=8080) 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-16T02:06:22.880

使用 python 日志库。要记录异常，您需要使用`try`和`except`阻止。

```
import logging
logging.basicConfig(filename='log.txt', format=logging.BASIC_FORMAT)
logging.error('OH NO!')
try:
    raise Exception('Foo')
except:
    logging.exception("Oops:") 
```

内容`log.txt`：

```
ERROR:root:OH NO! 
```

您可以添加许多不同的记录器，它们位于不同的位置、具有不同的名称或使用不同的格式。但是，Python 日志库是您想要的。

# php - 我在哪里可以找到“钩子”的来源以更改其输出？

> ID：15444702
> 
> 赞同：1
> 
> 时间：2013-03-16T01:50:23.023
> 
> 标签：php, wordpress, templates, hook, buddypress

基本问题。我想改变一个钩子，但我不知道在哪里可以找到它。这是我正在使用的代码。具体的钩子是**'bp_before_member_header_meta'**

"

```
/**
 * BuddyPress - Users Header
 *
 * @package BuddyPress
 * @subpackage bp-default
 */

?>

<?php do_action( 'bp_before_member_header' ); ?>

<div id="item-header-content">
    <div class="auther-part">
        <div id="item-header-avatar">
            <a href="<?php bp_displayed_user_link(); ?>">
                <?php bp_displayed_user_avatar( 'type=full' ); ?>
            </a>
        </div><!-- #item-header-avatar -->

        <div class="auther-sidebar">
        <div id="item-meta">

            <div id="item-buttons">

            </div><!-- #item-buttons -->
            <?php do_action( 'bp_before_member_header_meta' ); ?>
            <?php do_action( 'bp_member_header_actions' ); ?> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-16T02:02:31.760

有一个名为 $wp_filter 的全局数组包含操作和过滤器的调用，因此如果您查看 $wp_filter['bp_before_member_header'] 您将获得该操作的当前调用。

您还可以使用 IDE 或 grep 在代码中查找 add_action 的出现。这并不总是能找到它们，因为名称有时是由代码构建的。我今天花了半个小时在 Shopp 中寻找以这种方式构建的动作。

编辑：动作过滤器世界的另一面在 plugin.php 函数 do_action 和 apply_filters 中找到。这是实际运行操作和过滤器的代码，因此如果您想知道过滤器的运行位置，可以查找对此的调用。它将过滤器名称作为参数，并按指定的顺序运行所有匹配的过滤器。看起来你已经知道这些在哪里了。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-16T02:06:40.987

如果您只想修改该特定钩子输出的内容，您应该能够使用`add_filter()`，并将过滤器直接添加到该钩子。

# jquery - Coffeescript & ejs 如何从数组中为每 x 个项目添加 html

> ID：15444703
> 
> 赞同：0
> 
> 时间：2013-03-16T01:50:26.203
> 
> 标签：jquery, coffeescript, ejs, compoundjs

我正在使用 nodeJs .. 我有以下 javascript .. 从我的数据库中迭代一系列项目。我在做这个服务器端，这样数据是预先排序的，当使用把手时，我所要做的就是一个简单的嵌套每个语句..

这是从我使用geddy的时候开始的..

```
function transform ( arr ) {
   var result = [], temp = [];
   arr.forEach( function ( elem, i ) {
   if ( i > 0 && i % 3 === 0 ) {
   result.push( temp );
   temp = [];
   }
   temp.push( elem );
   });
   if ( temp.length > 0 ) {
   result.push( temp );
   }
   return result;
} 
```

我已经把上面的js翻译成了coffeescript..

```
temp = []
result = []
for row, i in projects
  if i > 0 && i % 3 is 0
    result.push(temp)
    temp = []
  temp.push(projects)
if temp.length > 0
  result.push(temp) 
```

话虽如此，我有以下咖啡脚本 ajax 请求：

```
$(document).ready ->
  $.ajax '/projects.json',
  dataType: 'json',
  success: (x,h,r) ->
    projects = x.data
    ## iterate through all of the projects 
```

我试图在第三次迭代之后插入一些额外的 HTML 以完成以下操作：

![在此处输入图像描述](../Images/201b492baa85d4580abfb27b75959320.png)

构成上述屏幕截图的 html 是这样的，它的引导程序 2.3：

```
<div class="row-fluid">
    <ul class="thumbnails">    
      <li class="span4 thumb-hover">
        <div class="thumbnail">
          <a href="/img/projects/" class="" target="_blank"><img src="/img/projects/thumbnails/admirecleaningservice_thumbnail.png" width="300px" height="200px"></a>
          <div class="mask">
            <h4>Admire Cleaning Services</h4>
            <p>Test 123</p>
          </div>
        </div>
      </li>
      <li class="span4 thumb-hover">
        <div class="thumbnail">
          <a href="/img/projects/" class="" target="_blank"><img src="/img/projects/thumbnails/admirecleaningservice_thumbnail.png" width="300px" height="200px"></a>
          <div class="mask">
            <h4>Admire Cleaning Services</h4>
            <p>Test 123</p>
          </div>
        </div>
      </li>
      <li class="span4 thumb-hover">
        <div class="thumbnail">
          <a href="/img/projects/" class="" target="_blank"><img src="/img/projects/thumbnails/admirecleaningservice_thumbnail.png" width="300px" height="200px"></a>
          <div class="mask">
            <h4>Admire Cleaning Services</h4>
            <p>Test 123</p>
          </div>
        </div>
      </li>
    </ul>
</div>
<div class="row-fluid">
    <ul class="thumbnails">    
      <li class="span4 thumb-hover">
        <div class="thumbnail">
          <a href="/img/projects/" class="" target="_blank"><img src="/img/projects/thumbnails/admirecleaningservice_thumbnail.png" width="300px" height="200px"></a>
          <div class="mask">
            <h4>Admire Cleaning Services</h4>
            <p>Test 123</p>
          </div>
        </div>
      </li>
      <li class="span4 thumb-hover">
        <div class="thumbnail">
          <a href="/img/projects/" class="" target="_blank"><img src="/img/projects/thumbnails/admirecleaningservice_thumbnail.png" width="300px" height="200px"></a>
          <div class="mask">
            <h4>Admire Cleaning Services</h4>
            <p>Test 123</p>
          </div>
        </div>
      </li>
      <li class="span4 thumb-hover">
        <div class="thumbnail">
          <a href="/img/projects/" class="" target="_blank"><img src="/img/projects/thumbnails/admirecleaningservice_thumbnail.png" width="300px" height="200px"></a>
          <div class="mask">
            <h4>Admire Cleaning Services</h4>
            <p>Test 123</p>
          </div>
        </div>
      </li>
    </ul>
</div> 
```

组织数组控制器端，传递给render方法然后让ejs只做两个嵌套循环，使用jquery和ajax请求注入或其他方法会更有益吗？

# java - 变量不应该为空时出现错误

> ID：15444704
> 
> 赞同：0
> 
> 时间：2013-03-16T01:50:37.437
> 
> 标签：java, arrays

我收到一个错误

```
Exception in thread "main" java.lang.NullPointerException
at Proj5.main(Proj5.java:61) 
```

在第 61 行 ( `char z = placeHolder.charAt(counter)`;) 中运行程序时，我无法弄清楚什么是错误的并且导致`null`.

```
String answers = new String("112211324135412") ;
    int k = 0 ;                                     
    int[] correct = new int[15] ;                   
    String placeHolder = ("112211324135412") ;
    for ( int i = 1 ; i < tokens.length ; i+=2)     
    {
        int counter = 0 ;                           

        int amountCorrect = 0 ;                     
        placeHolder = tokens[i] ;

    while (counter < 15)                            

    {   

        char z = placeHolder.charAt(counter) ; 
        char c = answers.charAt(counter) ;
        if( z == c) 
        {
            amountCorrect++ ;
        } // end if
        counter++ ;                                 

    }   // end while    

    correct[k] = amountCorrect ;                    
    k++ ;

    } 
```

这是完整的代码。

/** * * * * */

```
import java.util.* ;
import java.io.* ;

public class Proj5 
{

    public static void main(String[] args) throws IOException
    {

    Scanner s = new Scanner(System.in) ;

/* This piece asks for the name of the file with the ids and answers and if it is not
entered correctly it says invalid and makes the user try again. */  

    String fileCheck ;
    File file = null ;
    do{
    System.out.print("Enter the name of the File: ") ;
    fileCheck = s.nextLine() ;
    file = new File(fileCheck) ;
    if (!file.exists())
        System.out.println("ERROR, INVALID FILE") ;
        }while (!file.exists()) ;

/* This piece opens connections with the file, splits up each line, and then puts the 
pieces into an array (tokens). */

    String[] tokens = new String[100] ; 
    tokens= information(fileCheck) ;

/* This piece contains the answers string and compares each character of answers to the 
odd numbered elements(answers from file) from the tokens array and keeps track of the 
number correct which is then placed into an array. */   

    String answers = new String("112211324135412") ;
    int k = 0 ;                                     // used to help store into correct array.
    int[] correct = new int[15] ;                   // stores amount correct can be used to compare to WID
    String placeHolder = ("112211324135412") ;
    for ( int i = 1 ; i < tokens.length ; i+=2)     // adds two so it skips WID
    {
        int counter = 0 ;                           // used to pull characters 
                                                    //in the strings

        int amountCorrect = 0 ;                     // keeps track of amount correct
        placeHolder = tokens[i] ;

    while (counter < 15)                            // goes through all characters in 
                                                    //the string of answers
    {   

                    //puts answers into a string so 
                                                    //individual answers can be compared
        char z = placeHolder.charAt(counter) ; 
        char c = answers.charAt(counter) ;
        if( z == c) 
        {
            amountCorrect++ ;
        } // end if
        counter++ ;                                 // moves to next char

    }   // end while    

    correct[k] = amountCorrect ;                    // stores amount correct in array for later use.
    k++ ;

    }   // end for

/* This piece takes "correct" array and loops it through to determine what percentage and 
what letter grade each elements would get and plugs each of those into their own array 
(percentage and letterGrade). */    

    int halfToken = (tokens.length/2) ;                 // only need half the amount in tokens array since we dont need to include WID.
    double[] percentage = new double[halfToken] ;
    int a = 0 ;                                     //used to step through the 3 arrays
    char[] letterGrade = new char[halfToken] ;

    while(a < halfToken)
    {   
    if(correct[a] == 15)
    {
        percentage[a] = 100.0 ;
        letterGrade[a] = 'A' ;
        a++ ;
    }   
    else if(correct[a] == 14)
    {
        percentage[a] = 93.3 ;
        letterGrade[a] = 'A' ;
        a++ ;
    }
    else if(correct[a] == 13)
    {
        percentage[a] = 86.7 ;
        letterGrade[a] = 'B' ;
        a++ ;
    }
    else if(correct[a] == 12)
    {
        percentage[a] = 80.0 ;
        letterGrade[a] = 'B' ;
        a++ ;
    }
    else if(correct[a] == 11)
    {
        percentage[a] = 73.3 ;
        letterGrade[a] = 'C' ;
        a++ ;
    }
    else if(correct[a] == 10)
    {
        percentage[a] = 66.7 ;
        letterGrade[a] = 'D' ;
        a++ ;
    }
    else if(correct[a] == 9)
    {
        percentage[a] = 60.0 ;
        letterGrade[a] = 'D' ;
        a++ ;
    }
    else if(correct[a] == 8)
    {
        percentage[a] = 53.3 ;
        letterGrade[a] = 'F' ;
        a++ ;
    }
    else if(correct[a] == 7)
    {
        percentage[a] = 46.7 ;
        letterGrade[a] = 'F' ;
        a++ ;
    }
    else if(correct[a] == 6)
    {
        percentage[a] = 40.0 ;
        letterGrade[a] = 'F' ;
        a++ ;
    }
    else if(correct[a] == 5)
    {
        percentage[a] = 33.3 ;
        letterGrade[a] = 'F' ;
        a++ ;
    }
    else if(correct[a] == 4)
    {
        percentage[a] = 26.7 ;
        letterGrade[a] = 'F' ;
        a++ ;
    }
    else if(correct[a] == 3)
    {
        percentage[a] = 20.0 ;
        letterGrade[a] = 'F' ;
        a++ ;
    }
    else if(correct[a] == 2)
    {
        percentage[a] = 13.3 ;
        letterGrade[a] = 'F' ;
        a++ ;
    }
    else if(correct[a] == 1)
    {
        percentage[a] = 6.7 ;
        letterGrade[a] = 'F' ;
        a++ ;
    }
    else if(correct[a] == 0)
    {
        percentage[a] = 0.0 ;
        letterGrade[a] = 'F' ;
        a++ ;
    }

    } // end while

/* This piece prints the header for id/#correct/%correct/grade and then cycles in a loop 
prints out each students info. */   

    int f = 0 ;
    int g = 0 ;

    System.out.println("Student ID \t" + "# Correct \t" + "% Correct \t" + "Grade") ;
    while(f < tokens.length)
    {
        System.out.println(tokens[f] + "\t" + correct[g] + "\t" + percentage[g] + "\t" + letterGrade[g]) ;
        f+=2 ;
        g++ ;
    } // end while

/* This piece finds adds up the percentage array and then divides by its length which is 
the class avg grade. It then uses this percentage to determine the letter grade. It 
lastly prints out the total average and letter grade. */    

    double totalAVG = 0.0 ;
    char totalGrade = 'A' ;

    while(f<percentage.length) // calculates average percent
    {
        totalAVG = (totalAVG+percentage[f]) ;
    } // end while

        totalAVG = totalAVG/percentage.length ;

    if(totalAVG >= 90.0)
    {
        totalGrade = 'A' ;
    }
    else if (totalAVG >= 80.0 && totalAVG <=89.9)
    {
        totalGrade = 'B' ;
    }
    else if (totalAVG >= 70.0 && totalAVG <=79.9)
    {
        totalGrade = 'C' ;
    }
    else if (totalAVG >= 60.0 && totalAVG <=69.9)
    {
        totalGrade = 'D' ;
        }       
        else 
            totalGrade = 'F' ;

        System.out.println() ;
        System.out.println("Average: " + totalAVG + "% (" + totalGrade + ")" );

    /* This next piece cycles through the correct array to find the max and then takes that 
    times 2 to get high score, then it prints it out. */    

        int highScore = 0 ;

        for(int h = 0; h<correct.length ; h++) 
        {
            if(correct[h] >= highScore)
            {
                highScore = correct[h] ;
            }

        } // end for

        System.out.println("High Score: " + highScore*2) ;

    /* This piece cycles through the correct array to find the min and then takes that times 
    2 to get the low Score, then it prints it out. */       

        int lowScore = 0 ;

        for(int h = 0; h<correct.length ; h++) 
        {
            if(correct[h] <= lowScore)
            {
                lowScore = correct[h] ;
            }       
        } // end for

        System.out.println("Low Score: " + lowScore*2) ;

    PrintWriter pw = new PrintWriter(new FileWriter("Result.txt")) ;

        for (int t=0 ; t< tokens.length ; t+=2 )
        {   
            g = 0 ;
            pw.println(tokens[t] + "," + correct[g] + percentage[g] + letterGrade[g]) ;
            g++ ;
        }
            pw.println("Average: " + totalAVG + "% (" + totalGrade + ")") ;
            pw.println("High Score: " + highScore*2) ;  
            pw.println("Low Score: " + lowScore*2) ;

        pw.close() ;    

        } // end main

    /*
    *
    * Opens connection to file with ids and answers and returns them split up. 
    * @param (String a) pulls in the filename for use in method
    * @return Returns an array containing the split-up file. */

        public static String[] information(String a) throws IOException
        {   
            Scanner inFile = new Scanner (new File(a)) ; // opens connection with file
            String[] quarters = new String[100] ;
            int index = 0 ;
            while (inFile.hasNext())                        // loops while more lines in file
            {

                String line = inFile.nextLine() ;           // brings in next line to be broken up
                String[] array = line.split(",") ;
                quarters[index] = array[0]  ;           //stores lines into array tokens
                index++ ;
                quarters[index] = array[1] ;
                index++ ;
            }       
                inFile.close() ;                            // close connection to file
                return quarters ;
        } // end information

    } // end class 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-16T02:04:55.780

我之前的回答是错误的。我误读了你的代码。

问题是您`null`从数组中获取值`tokens`，我只是没有正确隔离原因。

你的代码是这样开始的：

```
 String[] tokens = new String[100] ; 
    tokens= information(fileCheck) ; 
```

第一行分配了一个 100 元素的字符串数组......第二行丢弃了您刚刚分配的数组（嗯？），并用该`information`方法创建的新数组替换它。

在该`information`方法中，您分配了另一个 100 个元素的字符串数组，并用从文件中读取的内容填充它。这就是问题开始的地方。你看，如果你只读取（比如说）30 个标记，剩下的 70 个元素将是`null`.

然后在 main 方法中执行以下操作：

```
for ( int i = 1 ; i < tokens.length ; i+=2)     // adds two so it skips WID
{
    ...
    placeHolder = tokens[i];
    ...
    placeHolder.charAt(...) 
```

所以问题是你假设数组中的*所有*标记都不为空。但实际上，填入令牌的方法，并不保证填满所有槽。

我会把它留给你找出解决方案。（这是你的作业！）但这里有几个想法：

*   使用列表而不是数组
*   找出（不知何故）数组中的标记停止的位置。

# google-contacts-api - 如何使用 Google API 创建 Google 联系人

> ID：15444705
> 
> 赞同：2
> 
> 时间：2013-03-16T01:50:40.977
> 
> 标签：google-contacts-api

我正在尝试使用`Google Contacts API`. 根据谷歌文档（如下），我已经实现了创建功能。

[Google Docs 创建联系人](https://developers.google.com/google-apps/contacts/v3/#creating_contacts)

`POST`要创建新联系人，请向用户的联系人提要 URL发送授权请求，并在正文中包含联系人数据。URL 的格式为：

```
https://www.google.com/m8/feeds/contacts/{userEmail}/full 
```

我使用此查询来创建联系人：

```
 www.google.com/m8/feeds/contacts/{userEmail}/full 
```

`"Other Contact"`但是，默认情况下会在组中创建新联系人。

如何直接在群里创建`"My Contact"`？

我需要修改查询吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-01-21T09:37:20.867

从文档（[https://developers.google.com/google-apps/contacts/v3/?csw=1#authorizing_requests_to_the_api_name_service](https://developers.google.com/google-apps/contacts/v3/?csw=1#authorizing_requests_to_the_api_name_service)）：

> 联系人组条目
> 
> 可以将联系人放入用户定义的组中。您可以使用联系人数据 API 创建、检索、更新和删除这些组，并且可以将联系人添加到组或从组中删除联系人。有关详细信息，请参阅以下部分。
> 
> 联系人数据 API 还为每个用户提供对四个预定义“系统组”的访问：
> 
> 我的联系人 朋友 家人 同事 系统组出现在组提要中，就像用户定义的组一样。事实上，系统组大多被视为与其他组一样。区别在于：
> 
> 每个系统组条目都包含一个子元素。该子元素的 id 属性指示该组是哪个系统组：联系人、朋友、家人或同事。请注意，我的联系人 ID 值只是联系人，没有“我的”。另请注意，此系统组 ID 值与组条目元素中给出的组 ID 不同。您无法添加新系统组、更改系统组名称、向系统组添加扩展属性或删除系统组。* 代表系统组的联系人组条目不包含 rel="edit" 链接。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-02-03T12:18:19.300

```
def get_group_id(label_name):
    feed = gd_client.GetGroups()
    for entry in feed.entry:
        if entry.title.text.lower() == label_name:
            return entry.id.text

contact_entry = gdata.contacts.data.ContactEntry() #contact_entry
group = get_group_id("My Contact") #group id
membership = gdata.contacts.data.GroupMembershipInfo(href=group) #group membership
contact_entry.group_membership_info.append(membership) # adding group membership to   contact_entry 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-07-30T14:02:39.277

联系人只能放置在用户定义的组中，这是不正确的。我刚刚尝试了 Google Contact V3 API，并且能够将联系人放在系统定义的组（我的联系人）下：

```
ContactEntry contact = new ContactEntry();
Name name = new Name();
final String NO_YOMI = null;
name.setFullName(new FullName("Elizabeth Bennet", NO_YOMI));
name.setGivenName(new GivenName("Elizabeth", NO_YOMI));
name.setFamilyName(new FamilyName("Bennet", NO_YOMI));
contact.setName(name);

GroupMembershipInfo groupInfo = new GroupMembershipInfo();
//You can fetch the following link from GroupEntry#getId()  
groupInfo.setHref("http://www.google.com/m8/feeds/groups/{EmailId}/base/{groupId}");
groupInfo.setDeleted(false);
contact.getGroupMembershipInfos().add(groupInfo);
ContactEntry createdContact = myService.insert(new URL(
    "https://www.google.com/m8/feeds/contacts/{EmailId}/full"), contact); 
```

# android - android:launchMode singleInstance 问题

> ID：15444707
> 
> 赞同：0
> 
> 时间：2013-03-16T01:51:04.620
> 
> 标签：android, launchmode

Android 的 singleInstance launchMode 似乎为我的应用程序的主要任务做了我想要的，即每当我从左侧菜单栏导航回它时保持该 Activity 的状态。

问题是，使用此启动模式设置，我看到大多数设备上的活动之间出现可怕的黑色闪烁。谷歌搜索没有发现任何关于这是否正常或如何解决的问题。

我尝试了 singleTask，但这并没有完全符合我的要求，因为如果我从任务 A - B - C 回到 A，任务 B 将从堆栈中删除，并且在我开始时必须再次重新加载它的状态那个活动。

此外，这可能是缺乏对 singleInstance 的完全理解，但后退按钮不再适用于这些活动。我想要发生的是，当按下后退按钮时，任何 singleInstance 活动都会返回到主屏幕。

对此的任何帮助将不胜感激。

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-16T04:33:28.947

您是否尝试过覆盖过渡动画？

这是我用于此的一些代码：

```
 public void goToNextScreen(View v) {

        if (savedCueCardActivity == null) {
            savedCueCardActivity = new Intent().setClass(this, CueCardActivity.class);
            startActivity(savedCueCardActivity);
            //       lastActivity.finish();
        } else {
            savedCueCardActivity.setFlags(Intent.FLAG_ACTIVITY_REORDER_TO_FRONT);
            startActivity(savedCueCardActivity);
        }
        overridePendingTransition(R.anim.fade_in, R.anim.fade_out);
    } 
```

# c# - 使用字符串中的类型进行强制转换

> ID：15444708
> 
> 赞同：0
> 
> 时间：2013-03-16T01:51:06.340
> 
> 标签：c#, dynamic, casting, changetype

我正在尝试将变量从 c# 中的字符串动态转换为任何类型。这是一个例子：

```
string str = "System.Int32";
Type t = System.Type.GetType(str);
string v = "100";
System.Int32 x = Convert.ChangeType(v,t); 
```

在设计时显示的错误是：

> 无法将类型“object”隐式转换为“int”。存在显式转换（您是否缺少演员表？）

实现这一目标的最简单方法是什么？我意识到上面的示例显示了转换为 int32，但这纯粹是为了示例。我不知道提前的类型。我很抱歉没有在我原来的问题上说清楚。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-16T02:07:02.317

该`ChangeType`函数的返回类型为`Object`。您需要显式转换为`Int32`

```
System.Int32 x = (System.Int32)Convert.ChangeType(v,t); 
```

其他几个小问题

*   `int`使用名称而不是更习惯用法`System.Int32`
*   而不是`"System.Int32"`使用`typeof(int).FullName`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-16T02:13:50.257

你可以做一个 hepler 方法让它更容易一点

```
public T ConvertTo<T>(object obj) where T : IConvertible
{
    try
    {
        return (T)Convert.ChangeType(obj, typeof(T));
    }
    catch
    {  // handle as needed/required
    }
    return default(T);
} 
```

用法：

```
string v = "100";
int value = ConvertTo<int>(v); 
```

或扩展方法：

```
public static class Extensions
{
    public static T ConvertTo<T>(this object obj) where T : IConvertible
    {
        try
        {
            return (T)Convert.ChangeType(obj, typeof(T));
        }
        catch
        {  // handle as needed/required
        }
        return default(T);
    }
} 
```

用法：

```
string v = "100";
int value = v.ConvertTo<int>(); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-16T02:10:45.577

如果您知道要转换为的类型，则应将其转换为该类型：

```
int x = (int)Convert.ChangeType(v, t); 
```

有一个通用的方法来为你执行转换也可能很好：

```
public static class ConvertHelper
{
    public static T ChangeType<T>(string value)
    {
      return (T)Convert.ChangeType(value, typeof(T));
    }
}

...

int x = ConvertHelper.ChangeType<int>(v); 
```

# php - 如何使用 PHP 和目标目录创建压缩文件？

> ID：15444709
> 
> 赞同：0
> 
> 时间：2013-03-16T01:51:28.930
> 
> 标签：php

我从以前的帖子中找到了下面的脚本来使用 PHP 创建一个 ZIP 文件。

此脚本允许您创建一个 zip 文件，但它不允许您在任何您想要的目录中创建它。这是原始代码。

```
 <?php
    // Config Vars 

    $sourcefolder =   "uploads/output" ; // Default: "./" 
    $zipfilename  = "myarchive.zip"; // Default: "myarchive.zip"
    $timeout      = 5000           ; // Default: 5000

    // instantate an iterator (before creating the zip archive, just
    // in case the zip file is created inside the source folder)
    // and traverse the directory to get the file list.
    $dirlist = new RecursiveDirectoryIterator($sourcefolder);
    $filelist = new RecursiveIteratorIterator($dirlist);

    // set script timeout value 
    ini_set('max_execution_time', $timeout);

    // instantate object
    $zip = new ZipArchive();

    // create and open the archive 
    if ($zip->open("$zipfilename", ZipArchive::CREATE) !== TRUE) {
        die ("Could not open archive");
    }

    // add each file in the file list to the archive
    foreach ($filelist as $key=>$value) {
        $zip->addFile(realpath($key), $key) or die ("ERROR: Could not add file: $key");
    }

    // close the archive
    $zip->close();
    echo "<br>Archive ". $zipfilename . " created successfully - ";

    // And provide download link ?>
    <a href="http:<?php echo $zipfilename;?>" target="_blank">Download <?php echo $zipfilename?></a> 
```

我尝试修改代码以便能够决定脚本的目标，因为在互联网上花费了几个小时后我没有找到解决方案。一些解决方案建议在哪里更改 $zipfilename = "myarchive.zip"; 到 $zipfilename = "上传/输出/myarchive.zip"; 但在下载链接的 URL 中，我希望显示为：**存档 myarchive.zip 创建成功 - 下载 myarchive.zip**不作为*存档上传/输出/myarchive.zip 创建成功 - 下载 myarchive.zip*

因此我尝试了这段代码，但它对我不起作用。我不知道我做错了什么。

```
<?php
// Config Vars 

$sourcefolder =   "uploads/output" ; // Default: "./" 
$destfolder  = "uploads/output/"; // Default: "myarchive.zip"
$zipfilename  = "myarchive.zip"; // Default: "myarchive.zip"
$timeout      = 5000           ; // Default: 5000

// instantate an iterator (before creating the zip archive, just
// in case the zip file is created inside the source folder)
// and traverse the directory to get the file list.
$dirlist = new RecursiveDirectoryIterator($sourcefolder);
$filelist = new RecursiveIteratorIterator($dirlist);

// set script timeout value 
ini_set('max_execution_time', $timeout);

// instantate object
$zip = new ZipArchive();

// create and open the archive 
if ($zip->open(''.$destfolder.''.$zipfilename.'', ZipArchive::CREATE) !== TRUE) {
    die ("Could not open archive");
}

// add each file in the file list to the archive
foreach ($filelist as $key=>$value) {
    $zip->addFile(realpath($key), $key) or die ("ERROR: Could not add file: $key");
}

// close the archive
$zip->close();
echo "<br>Archive ". $zipfilename . " created successfully - ";

// And provide download link ?>
<a href="http:<?php echo $zipfilename;?>" target="_blank">Download <?php echo $zipfilename?></a> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-16T02:06:22.703

创建 zip 存档的示例静态方法：

```
//...
public static function zip($source, $destination)
{
    if (!extension_loaded('zip') || !file_exists($source)) {
        throw new \Exception('zip not loaded');
    }

    $zip = new \ZipArchive();
    if ($zip->open($destination, \ZIPARCHIVE::CREATE) === false) {
        return false;
    }

    if (is_dir($source) === true) {
        $files = new \RecursiveIteratorIterator(
            new \RecursiveDirectoryIterator($source),
            \RecursiveIteratorIterator::SELF_FIRST
        );

        foreach ($files as $file) {
            if (in_array(substr($file, strrpos($file, DIRECTORY_SEPARATOR) + 1), array('.', '..'))) {
                continue;
            }
            $file = realpath($file);
            if (is_dir($file) === true) {
                $zip->addEmptyDir(str_replace($source . DIRECTORY_SEPARATOR, '', $file . DIRECTORY_SEPARATOR));
            } else {
                if (is_file($file) === true) {
                    $zip->addFromString(
                        str_replace($source . DIRECTORY_SEPARATOR, '', $file),
                        file_get_contents($file)
                    );
                }
            }
        }
    } else {
        if (is_file($source) === true) {
            $zip->addFromString(basename($source), file_get_contents($source));
        }
    }

    return $zip->close();
}
// ... 
```

# c# - 使用 LINQ 进行分组和聚合

> ID：15444710
> 
> 赞同：0
> 
> 时间：2013-03-16T01:52:16.423
> 
> 标签：c#, linq

我有一个时间表条目如下

**活动代码：持续时间**

* * *

*   项目 A：12 小时 31 分钟
*   项目 B: 00h:10mins
*   项目A：01h:10mins
*   项目 A：12 小时 31 分钟
*   项目 C：12 小时 31 分钟
*   项目 B: 00h:10mins
*   项目 B：01h:10mins
*   项目 A：12 小时 31 分钟

**对项目进行分组**并**汇总**其总时间的正确方法是什么？我正在尝试以下

```
 var summary = from entry in DbSet
                  where entry.Timesheet.UserID == userid &&
                  entry.Timesheet.DateSubmitted >= startdate &&
                  entry.Timesheet.DateSubmitted <= enddate
                  group entry by entry.ActivityCode.ActivityCode1
                      into groupEntry
                      select new TimeSheetSummary()
                      {
                          ActivityCode = groupEntry.Key,
                          HourSpent = Convert.ToInt32(groupEntry.Sum(x => x.Duration)),
                          Percentage = (Convert.ToInt32(groupEntry.Sum(x => x.Duration)) / 8) * 100,
                          MinuteSpent = Convert.ToInt32(groupEntry.Sum(x => x.Duration)) * 60,
                      }; 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-16T02:04:49.090

如果您想获得百分比，请计算活动数量并用它来除以。

不确定您是否需要在此处除以 0。如果没有数据开始，我不确定第二个 LINQ 会做什么。不确定这是否会引发错误。

```
Int32 numberOfProjects = (from entry in DbSet
              where entry.Timesheet.UserID == userid &&
                  entry.Timesheet.DateSubmitted >= startdate &&
                  entry.Timesheet.DateSubmitted <= enddate
              select entry.ActivityCode.ActivityCode1).Distinct().Count();

var summary = from entry in DbSet
              where entry.Timesheet.UserID == userid &&
              entry.Timesheet.DateSubmitted >= startdate &&
              entry.Timesheet.DateSubmitted <= enddate
              group entry by entry.ActivityCode.ActivityCode1
                  into groupEntry
                  select new TimeSheetSummary()
                  {
                      ActivityCode = groupEntry.Key,
                      HourSpent = Convert.ToInt32(groupEntry.Sum(x => x.Duration)),
                      Percentage = (Convert.ToInt32(groupEntry.Sum(x => x.Duration)) / numberOfProjects) * 100,
                      MinuteSpent = Convert.ToInt32(groupEntry.Sum(x => x.Duration)) * 60,
                  }; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-16T05:21:46.400

这是我根据线程中其他人的输入找到的答案。谢谢！

```
 var groupEntries = from entry in DbSet
                       where entry.Timesheet.UserID == userId &&
                             entry.Timesheet.TimeSheetDate <= endDate.Date &&
                             entry.Timesheet.TimeSheetDate >= startDate.Date
                       group entry by entry.ActivityCode
                           into groupEntry
                           select new
                           {
                               ActivityCode = groupEntry.Key,
                               Duration = Convert.ToInt16(groupEntry.Sum(r => r.Duration))
                           };

    var totalDuration = groupEntries.Sum(r => r.Duration);

    var result = from groupEntry in groupEntries
                 select new TimeSheetSummary()
                            {
                                ActivityCode = groupEntry.ActivityCode,
                                HourSpent = groupEntry.Duration / 60,
                                MinuteSpent = groupEntry.Duration % 60,
                                Percentage = groupEntry.Duration / totalDuration * 100
                            }; 
```

# ios - GPUImage 变换滤镜和混合模式导致线条伪影？

> ID：15444711
> 
> 赞同：0
> 
> 时间：2013-03-16T01:52:19.853
> 
> 标签：ios, gpuimage

我正在转换纹理，然后应用具有调整大小的纹理的混合滤镜。当我这样做时，有时会得到一条小线，显示转换/混合纹理的轮廓。我猜这是因为变换将纹理重新缩放到半像素之类的？有任何想法吗？

这是一个图像的链接，该图像在文本“合法”上方显示一条黑线： ![http://mysti.ch/images/transform_line.png](../Images/e0dd1ae32a14b0a422d4880c6aa16418.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-16T23:49:21.673

我发现我也在反转纹理的颜色，然后应用变换，然后应用混合......我改变了它，使它应用变换，然后反转颜色，然后混合，奇怪的线去了离开。

# css - 需要帮助将 cufon 代码添加到 Dreamweaver CS5 导航 div 中的 css

> ID：15444712
> 
> 赞同：0
> 
> 时间：2013-03-16T01:52:28.153
> 
> 标签：css, hover, dreamweaver, cufon

我在 Dreamweaver CS5 中使用其中一种示例布局，当我更改字体类型时，悬停效果不再起作用。我在哪里添加 cufon 编码？

```
ul.nav a:hover, ul.nav a:active, ul.nav a:focus {
    background: #ADB96E;
    color: #FFF;
}
.container .sidebar1 .nav li a {
    font-family: "Arial Black", Gadget, sans-serif;
    font-size: 14px;
    color: #000;
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-16T21:20:31.937

使用 Google 网络字体之类的可能会更好，因此您可以使用 a`<link>`而不是 cufon 来调用它们。

[这是一个小提琴](http://jsfiddle.net/pDt7r/2/)，你能告诉我这是否是你要找的吗？

# android - 方向改变时处理 SQLiteOpenHelper

> ID：15444714
> 
> 赞同：3
> 
> 时间：2013-03-16T01:52:56.760
> 
> 标签：android, android-fragments, android-viewpager

我尝试创建的应用程序是`ViewPager`由`Fragments`.

每个`Fragment`都有不同的数据，因为从`Database`.

我将 Database类`Fragment Activity`从.`Fragment``FragmentStatePagerAdapter`

这是代码：

```
private class ScreenSlidePagerAdapter extends FragmentStatePagerAdapter {
    public ScreenSlidePagerAdapter(FragmentManager fm) {
        super(fm);
    }

    @Override
    public Fragment getItem(int position) {
        return PageFragment.create(position, student, getApplicationContext(), mDbStudent);
    }

    @Override
    public int getCount() {
        return NUM_PAGES;
    }

} 
```

**mDbStudent**是数据库类。

我打开我的**mDbStudent**在`onCreate`

当我关闭我的**mDbStudent**时`onDestroy`

我遇到的问题是当方向改变时，`mDbStudent`被破坏但`fragment`仍然从数据库加载数据，因此发生错误。

我尝试在 when 中获取 mDbStudent `Fragment`，`onAttach`但是当我非常快速地移动页面时，它记录说我没有关闭**mDbStudent**

**我的问题是**有没有办法在方向改变时处理**mDbStudent**？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-16T02:04:00.557

您需要在 Activity 之外实例化您的数据库。很可能，您将在许多活动和片段中使用该数据库，对吧？您可以创建一个静态单例，如下所示：

```
public class Global {
    private static Global instance = null;
    private Context context;

    public Global( Context context ) {
        this.context = context.getApplicationContext();
    }

    public static getInstance( Context context ) {
        if( instance == null )
            instance = new Global( context );
        return instance;
    }

    public SQLiteOpenHelper getDatabase() {
        return ... ;
    }
} 
```

然后，在您的活动中，您可以调用：

```
Global.getInstance( this ).getDatabase()... 
```

这存储了应用程序的上下文，因此您可以在需要时在全局实例中访问它......即使 Activity 已经被销毁。

这也将允许您打开数据库一次并保持打开状态，即使通过方向更改也是如此。在我的应用程序中，我通常让数据库保持打开状态，直到应用程序明确关闭。如果您有一个单 Activity 应用程序，我会打开数据库（如果已关闭），`onStart`然后在`onUserLeaveHint()`. 这只会在用户离开应用程序时关闭数据库，但不会在方向更改时关闭。

# php - 如何使用 Memcached 存储给定时间的数据

> ID：15444715
> 
> 赞同：1
> 
> 时间：2013-03-16T01:53:07.483
> 
> 标签：php, mysql, memory, memcached

我想知道如何使用缓存（MemCache）来显示我的网站上有多少注册用户和活跃用户。我目前使用：

```
 return mysql_result(mysql_query("SELECT COUNT(`user_id`) FROM `users` WHERE `active` =    1"), 0); 
```

这不好用，因为在每次页面加载时，它都会查询数据库。这不好。那么我将如何继续制作“memcache”或类似的东西，它会在大约 10 分钟后将这个数字更新给所有用户？

我用谷歌搜索了如何，但我真的无法很好地了解它。

谢谢！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-16T05:00:10.780

我会给你指导而不是完整的文档/教程。

在尝试安装 Memcached 之前，您应该使用[MySQLi](http://www.php.net/manual/en/book.mysqli.php)或[PDO](http://php.net/manual/en/book.pdo.php)而不是 mysql_* 函数。[查看本文档](http://www.php.net/manual/en/function.mysql-query.php)中的警告消息。

您应该[安装 Memcached](https://www.google.com/search?q=how+to+install+memcached)及其[PHP 扩展](http://www.php.net/manual/en/memcached.installation.php)。

[完成后，通过调用函数phpinfo()](http://php.net/manual/en/function.phpinfo.php)确保它已启用。如果没有 Memcached，则安装失败。

这是一个明确的代码片段

```
$mc = new Memcached();
$mc->addServer('localhost', 11211); // add a new server to the pool

// you will want to vary this key according to the query
// if two different queries use the same key your functions will return unexpected data
$cacheKey = 'a-custom-key-that-defines-the-data-within-it';

// how long will it take for the cache to expire in seconds : an hour
$cacheLifetime = 3600; 

$data = $mc->get($cacheKey); // we get the data from cache

// check if Memcached was able to retrieve the data
if ($mc->getResultCode() === Memcached::RES_FAILURE) {
    // if for some reasons the data is not there we get it and reinject into memcached
    $data = mysql_result(mysql_query("SELECT COUNT(`user_id`) FROM `users` WHERE `active` =    1"), 0);

    $mc->set($cacheKey, $data, $cacheLifetime); // save the data in the defined $cacheKey
}

return $data; 
```

# heroku - 是否可以在 Heroku 上的 web 和工作进程之间与 http 请求进行通信？

> ID：15444722
> 
> 赞同：1
> 
> 时间：2013-03-16T01:53:53.020
> 
> 标签：heroku

我正在构建一个 HTTP -> IRC 代理，它通过 HTTP 请求接收消息，然后应该连接到 IRC 服务器并将它们发布到频道（聊天室）。

这一切都相当简单，我遇到的一个问题是与 IRC 服务器的连接是一个持久套接字，理想情况下应该在一段合理的时间内保持打开状态 - 不像 HTTP 请求，每个请求都打开和关闭一个套接字（我知道并不总是正确的）。这意味着一条发往同一 IRC 服务器/房间的消息必须始终通过相同的进程（与 IRC 服务器保持连接的进程）发送。

所以我基本上需要在我的 Web 进程上接收 HTTP 请求，然后让他们找出哪个特定的工作进程与 IRC 服务器有开放连接，并将消息路由到该进程。

我宁愿避免 IRC 代理应用程序中消息队列的复杂性，因为我们已经有一个坐在它前面，首先向它发送 HTTP 请求。

考虑到这一点，我理想的解决方案是在 web 和工作进程之间有一个共享的数据存储，并让工作进程维护他们连接到的所有 IRC 服务器的表。当一个 Web 进程接收到一个 HTTP 请求时，它可以查找该表以确定是否已经有一个工作人员与所需的 IRC 服务器连接并将消息转发给该服务器，或者如果没有现有连接，它可以有效地采取行动作为负载平衡器，并选择一个合适的工作人员来转发消息，以便它可以建立并保持与 IRC 服务器的连接。

现在要做到这一点，它需要我的工作进程能够启动 HTTP 服务器并监听来自 Web 进程的请求。在 Heroku 上，我知道只有 web 进程被添加到面向公众的“路由网格”中，这很好，我想知道的是是否可以在 Herokus 网络内部的 web 和工作进程之间发送 HTTP 请求（在“路由网格”）。

如果必须的话，我会使用消息队列，正如我所说的那样，我想避免它。

谢谢！

# ios - UITextView 截断文本中线

> ID：15444724
> 
> 赞同：0
> 
> 时间：2013-03-16T01:54:45.720
> 
> 标签：ios

UITextView 正在切断一行中间的文本。屏幕截图（故意大，以便问题可见）：

![在此处输入图像描述](../Images/bed3c211f555a984f3c7ba848bc3d102.png)

[] 字符的底部被切掉，“bear it”（在“a”上最明显）中的字符也是如此。文本正在使用 NSAttributedString 呈现，并且设置段落间距样式似乎无济于事。有任何想法吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-21T23:05:16.437

它与`NSParagraphStyle.paragraphSpacingBefore`. 当我将前段间距设置回0时，问题就消失了。我用作`UITextView.contentInset`一种解决方法来实现视图顶部的填充。

# extjs - Sencha Touch 2 中 img xtypes 之上的图层按钮 xtypes

> ID：15444725
> 
> 赞同：1
> 
> 时间：2013-03-16T01:55:15.057
> 
> 标签：extjs, sencha-touch-2, sencha-touch-2.1

我正在尝试在 3 上放置 3 个按钮`xtype:'img'`，但我无处可去，并且在网上找不到太多关于它的信息。

这是如何运作的？

编辑：

我有一张图片，当您点击它时，我希望它显示相同的图片，但现在您可以从查看下载共享中选择 3 个选项，我希望按钮看起来像是在图片上弹出

```
Ext.define('Crystal.view.apphb',{
extend: 'Ext.Panel',
    xtype:'apphb',
    id:'panel',
requires: [

   'Ext.TitleBar',

],
 config:{
 layout: {
    type: 'card',
    animation: {
        type: 'fade'},
 },

items:[{

    xtype:'img',
 src:'resources/img/apphb.png',

listeners: {
            tap: function() {
                Ext.getCmp('panel').setActiveItem(1);
            },
            },

},

{

    xtype:'img',
 src:'resources/img/1.png',

 listeners: {
  tap: function() {
                Ext.getCmp('panel').setActiveItem(-1);
                }
                },

    }
] 
```

}

});

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-16T03:32:26.887

我从你的问题中理解的很简单。您想在点击图像时在弹出窗口中显示某些按钮。因此，您使用[叠加层](http://docs.sencha.com/touch/2-0/#!/example/overlays)并在其中放置按钮。

演示的工作小提琴是[here](http://www.senchafiddle.com/#YoKqQ)。您可以在此弹出窗口中显示您想要的任何内容。[.showBy()](http://docs.sencha.com/touch/2-0/#!/api/Ext.Component-method-showBy)方法允许您相对于作为参数传递的某些元素放置弹出窗口。这是代码，

```
launch: function() {
        Ext.create('Ext.Panel', {
            fullscreen: true,
            items:[
                {
                    xtype:'image',
                    src: 'http://www.sencha.com/assets/images/sencha-avatar-64x64.png',
                    height: 64,
                    width: 64,
                    listeners:{
                        tap:function( img,e,opts ){
                           var overlay = Ext.Viewport.add({
                            xtype: 'panel',
                            left: 0,
                            top: 0,                       
                            modal: true,
                            hideOnMaskTap: true,
                            hidden: true,
                            width:160,
                            height:90,                          
                               items:[
                                   {
                                       xtype:'button',
                                       text:'Download'
                                   }
                               ],
                            styleHtmlContent: true,
                            scrollable: true
                        });             
                    overlay.showBy(img);
                       }
                    }
                }
                ]
        });
    } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-17T10:25:21.367

使用 img 作为容器的背景怎么样？

```
 xtype: 'container',
                style: 'background: url(http://wallpapers.free-review.net/wallpapers/36/New_Batman_movie.jpg) no-repeat;',
                layout: {
                    align: 'stretch',
                    type: 'vbox'
                },
                items: [
                    {
                        xtype: 'container',
                        flex: 1
                    },
                    {
                        xtype: 'container',
                        height: 100,
                        defaults: {
                            margin: 5,
                            height: 80,
                            width: 100
                        },
                        items: [
                            {
                                xtype: 'button',
                                text: 'Like'
                            },
                            {
                                xtype: 'button',
                                text: 'Tweet'
                            }
                        ]
                    }
                ]
            } 
```

# android - Eclipse 调试崩溃问题

> ID：15444735
> 
> 赞同：1
> 
> 时间：2013-03-16T01:57:12.750
> 
> 标签：android, eclipse, debugging, crash

出于某种原因，如果 Eclipse 每隔一步都会抛出一个崩溃错误，我几乎无法调试任何东西。我在 Eclipse 4.2 上调试 Android。我得到的错误说：

```
'JDI Event Dispatch' has encountered a problem.
An internal error occurred during: "JDI Event Dispatch".

An internal error occurred during: "JDI Event Dispatch".
java.lang.UnsupportedOperationException 
```

在错误日志中，我得到：

```
eclipse.buildId=I20120608-1400
java.version=1.7.0_02
java.vendor=Oracle Corporation
BootLoader constants: OS=win32, ARCH=x86_64, WS=win32, NL=en_US
Framework arguments:  -product org.eclipse.epp.package.java.product
Command-line arguments:  -os win32 -ws win32 -arch x86_64 -product org.eclipse.epp.package.java.product

Error
Fri Mar 15 20:53:09 CDT 2013
An internal error occurred during: "JDI Event Dispatch".

java.lang.UnsupportedOperationException
    at org.eclipse.jdi.internal.MirrorImpl.defaultReplyErrorHandler(MirrorImpl.java:292)
    at org.eclipse.jdi.internal.MethodImpl.bytecodes(MethodImpl.java:345)
    at org.eclipse.jdt.internal.debug.core.model.JDIMethod.isGetterMethod(JDIMethod.java:86)
    at org.eclipse.jdt.internal.debug.core.model.JDIThread$StepHandler.locationIsFiltered(JDIThread.java:2559)
    at org.eclipse.jdt.internal.debug.core.model.JDIThread$StepHandler.locationShouldBeFiltered(JDIThread.java:2525)
    at org.eclipse.jdt.internal.debug.core.model.JDIThread$StepHandler.handleEvent(JDIThread.java:2477)
    at org.eclipse.jdt.internal.debug.core.EventDispatcher.dispatch(EventDispatcher.java:152)
    at org.eclipse.jdt.internal.debug.core.EventDispatcher.access$0(EventDispatcher.java:100)
    at org.eclipse.jdt.internal.debug.core.EventDispatcher$1.run(EventDispatcher.java:249)
    at org.eclipse.core.internal.jobs.Worker.run(Worker.java:54) 
```

同样根据错误日志，错误发生在 Plug-in 中`or.eclipse.core.jobs`。任何帮助将不胜感激，我发现没有调试器很难工作！

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-12-18T07:01:14.290

我通过禁用步骤过滤来解决这些错误。似乎它是过滤器简单的吸气剂选项。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-07-01T14:58:57.970

它可能与方法的名称有关。例如这个方法：

```
getFirstValueInBundles(String key, String defaultValue, Bundle... bundles) {
     ...
} 
```

在步进或步进时导致相同的确切堆栈跟踪。尝试将方法的名称更改为不使用 get...() 的名称：

```
firstValueInBundles(String key, String defaultValue, Bundle... bundles) {
     ...
} 
```

然后方法就可以正常调试了。

如果这解决了您的问题，我将打开一个错误报告并在此处发布其 ID。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-16T02:13:16.933

听起来可能是 Eclipse 中的超时问题。这是一个[类似 SO question](https://stackoverflow.com/questions/11546190/jdi-event-dispatch-nullpointerexception)的链接。似乎通过 Eclipse 的网站有关于此错误的错误报告，但似乎没有任何答案。我希望这可以帮助你。

由于我提到了“表达式”选项卡，如果其中有某些 Eclipse 无法处理的表达式，有时可能会出现 JDI 错误。虽然与您的具体问题无关，但它可能对搜索类似内容的人有所帮助。[这是我的一个关于它的答案](https://stackoverflow.com/questions/14818390/error-message-at-breakpoint-in-eclipse-jdi-thread-evaluations-has-encountered-a/14818809#14818809)

# php - 将mysql条目添加在一起并在表格中显示它们

> ID：15444736
> 
> 赞同：0
> 
> 时间：2013-03-16T01:57:20.893
> 
> 标签：php, mysql, select

我的数据（简化）看起来像....

```
------------------------
| key |  id  | minspld |
------------------------
| 1   | 400  |   90    |
| 2   | 400  |   40    |
| 3   | 401  |   38    |
| 4   | 401  |   90    |
| 5   | 402  |   90    |
| 6   | 402  |   89    |
| 7   | 403  |   77    |
| 8   | 403  |   15    |
| 9   | 404  |   90    |
----------------------- 
```

我正在努力做......

*   对于每一个`id`，将它们的所有`minspld`条目加在一起
*   在上面的表格中显示它们，但每个`id`只显示一次，并且 minspld 列显示每个 id 的总数。

这是我目前正在使用的内容，我正在分别显示所有条目（例如，每个人显示两次）

```
<table><thead><tr><th>ID</th><th>Mins Played</th></tr></thead>
<tbody>

<?php
$queryget = mysql_query("SELECT * FROM mlsstats ORDER BY id ASC") or die(mysql_error());

while ($row = mysql_fetch_assoc($queryget))
{
    $id = $row['id'];
    $minspld = $row['minspld'];

    echo "<tr>";
    echo "<td>".$id."</td>";
    echo "<td>".$minspld."</td>";
    echo "</tr>";
}
?>

</tbody></table> 
```

我将如何编写此代码以使每个 id 在 HTML 中仅显示一次，但添加所有`minspld`条目的总数？（例如，id 400 将有 130。id 401 将有 128。等等）

如果不清楚，请告诉我.. 并感谢您的帮助。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-16T02:01:04.070

请尝试将您的查询更改为：

```
SELECT id, SUM(minspld) AS minspld FROM mlsstats GROUP BY id ORDER BY id ASC 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-16T02:04:36.090

您不必为此使用循环。您可以简单地使用查询来执行此操作只需运行查询并获取两列。id 及其总数

```
SELECT
    m.id,
    SUM(minspld) AS TCount
FROM mytable AS m
GROUP BY m.id 
```

# html - 即使放大或缩小，如何使页面的顶部保持与正文不同的颜色？

> ID：15444738
> 
> 赞同：0
> 
> 时间：2013-03-16T01:58:11.227
> 
> 标签：html, zooming, background-color

我已经看到类似的问题可以做到这一点，但到目前为止我找不到任何可以解决显而易见的问题。在我的网站上，顶部的颜色与我使用 div 创建并为该 div 设置颜色的主体颜色不同。两个简单的问题。

无论我放大还是缩小，如何让该 div 填充屏幕标题的整个部分？

当我放大浏览器时，如何防止标题和菜单栏脱落？

我已经接近了很多次，但总是有妥协。要么 div 填充了整个标题，但是当我放大文本时，文本脱落并导致 div 环绕页面或菜单环绕，这令人沮丧。我希望我写的东西是有意义的，但如果不是这里是我想要完成的一个明确的例子。[http://carlodiego.businesscatalyst.com/index.html#home](http://carlodiego.businesscatalyst.com/index.html#home) 在此页面上请注意，如果您放大或缩小顶部，则顶部仍将填充相同的颜色。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-16T02:02:05.147

> 无论我放大还是缩小，如何让该 div 填充屏幕标题的整个部分？

只需使用`width:100%`&& 添加 css`margin:auto`

# android - GridView 不均匀地拉伸 ImageView

> ID：15444743
> 
> 赞同：1
> 
> 时间：2013-03-16T01:58:46.573
> 
> 标签：android, gridview, imageview, stretch

我有一个 GridView，我用它来显示一行 4 个图像，每个图像都是 200 x 200 像素。这是布局xml：

```
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:tools="http://schemas.android.com/tools"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    tools:context=".MainActivity" >

    <GridView
        android:id="@+id/myGridView"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:layout_alignParentLeft="true"
        android:layout_alignParentTop="true"
        android:numColumns="4" >
    </GridView>

</RelativeLayout> 
```

当我在这里运行我的应用程序时，图像如下所示：

![带有 4 张图像的网格视图](../Images/c15b0c4a116bbdc29ccf3aea699eb48d.png)

如您所见，图像正在缩放（缩小）以适合屏幕。

如何使图像垂直和水平拉伸以保持正确的纵横比？

请注意，我正在使用适配器来*绘制*图像：

```
@Override
public View getView(int position, View convertView, ViewGroup parent) {
    ImageView imageView;
    if (convertView == null) {
        imageView = new ImageView(context);
    } else {
        imageView = (ImageView) convertView;
    }
    imageView.setBackgroundResource(imageIds[position]);
    return imageView;
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-16T03:55:23.083

我在上次弱中遇到了同样的问题。使用我的图像视图类来解决这个问题。

```
public class iv_autoSizedImageView extends ImageView {

    public iv_autoSizedImageView(Context context, AttributeSet attrs) {
        super(context, attrs);

    }

    @Override
    protected void onMeasure(int widthMeasureSpec, int heightMeasureSpec) {

        // TODO Auto-generated method stub
        super.onMeasure(widthMeasureSpec, heightMeasureSpec);
        try {

            getLayoutParams().height = getMeasuredWidth();

        } catch (Exception e) {
            // TODO: handle exception

        }

    }

} 
```

> 布局.xml

```
 <com.sample.test.iv_autoSizedImageView
            android:id="@+id/IV_NEWS_IMAGE"
            android:layout_width="fill_parent"
            android:layout_height="fill_parent"/> 
```

# jquery - 如何在 jQuery EasyUI 滑块中动态更改选项（例如，最小值、最大值）？

> ID：15444745
> 
> 赞同：0
> 
> 时间：2013-03-16T01:59:04.027
> 
> 标签：jquery, jquery-easyui

我知道您可以在 jquery ui 滑块中执行以下操作

```
$( ".selector" ).slider( "option", "min", 26 ); 
```

但它似乎在easyui中不起作用。

好的。当用户为最小值/最大值输入新值时，我想更改滑块的最小值/最大值选项，但在 easyui 的文档中，其方法“选项”仅获取选项而无法设置。

好的，这是我根据isherwood的想法尝试过的：

```
<head>
<link href="easyui/themes/default/slider.css" rel="stylesheet" type="text/css">
<script type="text/javascript" src="easyui/jquery-1.8.0.min.js"></script>
<script type="text/javascript" src="easyui/jquery.easyui.min.js"></script>
<script type="text/javascript" >
$(document).ready(function(){
$("#myslider").slider({
    width: 300,
    mode: 'h',
    showTip: true,
    value: 5,
    min: 0,
    max: 10,
});
$("#min")[0].addEventListener("input", function(){
var v = $("#min").val();
if (v <= 5 ) {  
    $("#myslider").slider('destroy').slider({  
        width: 300,
        mode: 'h',
        showTip: true,
        value: 5,
        min: v,  
        max: 10
    });
}
else {
     alert("out of bound(1-5): " + v);
}
}, false);
});</script> 
</head>
<body>
<input type="text" id="min" value="0"></input> <br /><br /><br />
<div id="myslider"></div>
</body>
</html> 
```

更新： stworthy 在 easyui 论坛中回答了这个问题。它应该类似于滑块（{min, 20}）。呸！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-16T02:34:46.510

要更改滑块的选项，您需要销毁并重新创建它。

[http://www.jeasyui.com/documentation/index.php](http://www.jeasyui.com/documentation/index.php)

```
$('#mySlider').slider('destroy').end().slider({  
    min: 1,  
    max: 2
}); 
```

# php - 是否需要关闭 PDO 连接

> ID：15444748
> 
> 赞同：28
> 
> 时间：2013-03-16T01:59:47.543
> 
> 标签：php, pdo

我注意到 PDO 没有关闭功能。我应该关闭连接还是 PDO 不需要？

* * *

## 回答 #1

> 赞同：41
> 
> 时间：2013-03-16T02:02:40.197

> 成功连接到数据库后，PDO 类的实例将返回到您的脚本。该连接在该 PDO 对象的生命周期内保持活动状态。要关闭连接，您需要通过确保删除对它的所有剩余引用来销毁该对象——您通过将 NULL 分配给保存该对象的变量来做到这一点。如果您没有明确地这样做，PHP 将在您的脚本结束时自动关闭连接。

[http://php.net/manual/en/pdo.connections.php](http://php.net/manual/en/pdo.connections.php)

所以答案是否定的，除非您出于某种原因需要在脚本执行期间显式关闭连接，否则您不需要做任何事情，在这种情况下，只需将您的 PDO 对象设置为 null。

* * *

## 回答 #2

> 赞同：11
> 
> 时间：2013-10-27T23:51:15.980

这个问题取决于项目的类型和连接的类型。

在我几乎所有的项目中，我从不手动关闭连接。在 PHP 中，连接（除非它是持久连接）只会在请求期间打开。所以手动关闭它无论如何都是没有用的。

在查看没有持久连接的项目时，*很难*知道何时手动关闭连接。一旦一个项目变得比几个文件大（并且各个组件不知道它们应该如何相互了解），就很难知道何时仍然需要连接。

并且在需要时再次打开连接比在请求期间保持打开状态要昂贵得多。

但是，在使用持久连接时，有些情况下您需要手动关闭连接。

所以回答你的问题：

> 我注意到 PDO 没有关闭功能。

您可以取消对象引用（以及对该对象的所有引用）以手动关闭 PHP 中的连接。

> 我应该关闭连接还是 PDO 不需要？

在大多数情况下，*没有*必要。

* * *

## 回答 #3

> 赞同：6
> 
> 时间：2013-03-16T02:04:11.410

从 PDO 的[连接](http://php.net/manual/en/pdo.connections.php)页面

> 成功连接到数据库后，PDO 类的实例将返回到您的脚本。该连接在该 PDO 对象的生命周期内保持活动状态。要关闭连接，您需要通过确保删除对它的所有剩余引用来销毁该对象——您通过将 NULL 分配给保存该对象的变量来做到这一点。
> 
> **如果您没有明确地这样做，PHP 将在您的脚本结束时自动关闭连接。**

* * *

## 编辑

我宁愿使用持久连接。不过，最好在脚本末尾关闭所有连接。

# c# - 如何将数据发布到外部站点并从我的控制器的操作 ASP .Net MVC 中获取外部站点的操作结果？

> ID：15444749
> 
> 赞同：1
> 
> 时间：2013-03-16T02:00:16.703
> 
> 标签：c#, asp.net-mvc

我的视图中有一些 html 表单，必须发布到某个外部站点：

**我认为的 HTML 表单**

```
<form action="http:\\externalsite\external-site-action" method="POST">
    <input type="text" name="parameter1" value="someValue1"/>
    <input type="text" name="parameter2" value="someValue1"/>

    <input type="submit" value="Submit to external site">
</form> 
```

**当我将数据发布到外部站点操作时，此操作会将我重定向到其他外部站点的页面，因此我需要用户留在那里。**但在发布此表单之前，我必须在我的控制器中执行一些操作/方法，但此操作只是在数据库中进行一些更改，所以我不需要任何重定向或操作结果，否则用户必须被重定向到外部站点页面，数据发布到。如何在我的操作中执行数据库更改并以编程方式将此表单发布到外部站点并在控​​制器操作中将用户重定向到此外部站点（在同一浏览器选项卡上），如下所示：

```
public ActionResult ChangeDBPostAndRedirectToExternal(string parameter1, string parameter2)
{
    DoSomeDatabaseStuff();    
    PostParametersToExternalSiteAndRedirectUserToPageDataPostedTo();
} 
```

我尝试了 Redirect() 方法，但此方法无法执行后期操作。那么如何通过控制器的操作将数据发布到外部操作，并通过已处理的发布数据获取外部操作的视图结果？还是有一些更明智的方法来实现我的需要？我必须`DoSomeDatabaseStuff();`在 POST 之前。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-16T02:07:57.110

您应该使用 JS/AJAX 和普通（非提交）按钮。`DoSomeDatabaseStuff`连接您的按钮以在您自己的服务器上发出 AJAX 调用。一旦该 ajax 调用完成，调用`form.submit()`Javascript（其中`form`是对您的实际表单的 DOM 引用）以允许正常的 POST 行为继续进行（用户最终将访问外部站点）。

这是一些人为的示例 jQuery 代码：

```
$('#your-non-submit-button').click(function() {
    $.ajax({
        url: '@Url.Action("ChangeDBPost")',
        contentType: 'application/json; charset=utf-8',
        data: JSON.stringify({ 'parameter1': $('input[name="parameter1"]').val(), ... }),
        success: function(result) {
            $('form').submit();
        }
    });
}); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-16T05:06:04.850

这在 Single Sign-On Identity Providers 中做了很多，**一个**想法，涉及无 Ajax，它是对您的操作进行简单的发布并制作您的所有业务逻辑，然后在视图上“激活”对 javascript 的调用将第二个帖子发布到外部 url 的函数。

例如：

```
public ActionResult ChangeDBPostAndRedirectToExternal(string parameter1, string parameter2)
{
    DoSomeDatabaseStuff();    
    ViewBag.PostViaJs = String.Format("post_to_url('{0}','{1}', '{2}');", externalUrl, parameter1, parameter2);
} 
```

然后在视图中打印这个调用：

```
<script type="text/javascript">
    function post_to_url(path, parameter1, parameter2) {
        var form = document.createElement("form");
        form.setAttribute("method", "POST");
        form.setAttribute("action", path);
        form.setAttribute("target", "_blank");

        var hiddenField = document.createElement("input");
        hiddenField.setAttribute("type", "hidden");
        hiddenField.setAttribute("name", "parameter1");
        hiddenField.setAttribute("value", parameter1);

        //add another hidden field for parameter2

        form.appendChild(hiddenField);

        document.body.appendChild(form);
        form.submit();
    }

    @ViewBag.PostViaJs
</script> 
```

# ios - 以编程方式将 UICollectionViewCell 设置为 Selected 但 indexPathsForSelectedItems.count 为 0

> ID：15444751
> 
> 赞同：5
> 
> 时间：2013-03-16T02:01:02.030
> 
> 标签：ios, objective-c, uicollectionview, uicollectionviewcell

我以编程方式设置了一个自定义`UICollectionViewCell`调用`CheckCell`，如下所示：

```
[self.myCollectionView cellForItemAtIndexPath:indexPath] setSelected:YES];

if ([[self.myCollectionView cellForItemAtIndexPath:indexPath] isSelected]) {
   NSLog(@"Selected");
}

NSLog(@"%i",[self.myCollectionView indexPathsForSelectedItems].count); 
```

第一个 NSLog 打印“已选择”，让我相信所在的单元格`IndexPath`确实被选中。但是，第二个 NSLog 的结果是 0。为什么选择的单元格的索引没有被添加到`indexPathsForSelectedItems`？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-03-16T03:38:54.533

这是答案。

调用`selectItemAtIndexPath`而不是`[self.myCollectionView cellForItemAtIndexPath:indexPath] setSelected:YES];`

**示例代码：**

```
NSIndexPath *indexPath = [NSIndexPath indexPathForRow:0 inSection:0] ;

[self.collectionView selectItemAtIndexPath:indexPath animated:YES scrollPosition:UICollectionViewScrollPositionNone];

if ([[self.collectionView cellForItemAtIndexPath:indexPath] isSelected]) {

    NSLog(@"selected count %i",[self.collectionView indexPathsForSelectedItems].count);
} 
```

**输出**

```
selected count 1 
```

# php - PHP 嵌套循环回显不能换行

> ID：15444753
> 
> 赞同：0
> 
> 时间：2013-03-16T02:01:18.563
> 
> 标签：php, line, echo, nested-loops, continuation

这是我的代码段：

```
for($i=0;$i<23;$i++){
    echo "<div id=slotshead></div>";
    for($j=0;$j<30;$j++) {
        echo " <div id=slots></div>";
    }
    echo '<br>';
} 
```

但是，它不起作用。我希望循环内的两个 echo 语句继续，而不是换行。我该如何解决？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-16T02:15:26.210

如果您只想让每个循环输出显示在一行中，那么您就快到了。

将以下内容添加到 CSS 中；你就完成了。

```
h3 > div {
    display: inline-block;
} 
```

它会生成[这个 fiddle](http://jsfiddle.net/QRKNa/)的输出。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-16T02:11:29.320

如果我明白你在问什么......这将结合你的循环：

```
 for ($i = 0; $i < 23; $i++) {
   echo "<div id=slotshead></div>";
   for ($j = 0; $j < 30; $j++) {
     echo " <div id=slots></div>";
   }
 }
 echo '<br>'; 
```

# jquery - 将变量传递给 jqPlot 图表

> ID：15444754
> 
> 赞同：2
> 
> 时间：2013-03-16T02:01:46.550
> 
> 标签：jquery, variables, jqplot

我试图在页面加载时将输入字段中的数据源到一个简单的 jqPlot 图表。

使用标准语法，jqPlot 工作正常。例如：

```
var plot1 = $.jqplot ('chart1', [[1,2,3,4,]]); 
```

使用变量会使图表充其量只响应变量中的第一个整数。我想我很接近并怀疑这是 Var 的数值/字符串质量的问题。

我是在这里赚钱还是在尝试做一些不可能的事情？

HTML：

```
<div class="dataforchart"> <!-- VALUES -->
<input type="text" value="5">
<input type="text" value="2">
<input type="text" value="8">
<input type="text" value="1">
</div>
<div id="chart1"> <!-- CHART -->
</div> 
```

脚本：

```
$('.dataforchart').each(function(){

str = '';
$(this).children("input").each(function() {
str = str + ', ' + $(this).val();
});

alert(str);
var plot1 = $.jqplot ('chart1', [[str]]);

}); 
```

我在 SO 上发现了非常相似的问题，但是我还没有找到可行的解决方案。

更新：如果有人想测试，我已经做了一个演示：http: [//jsfiddle.net/fdKRw/3/](http://jsfiddle.net/fdKRw/3/)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-16T02:53:40.607

它是一个数组，而不是一个字符串，所以只需给它点数组：

```
...
var points = [];
$(this).children("input").each(function(index) {
    points[index] = $(this).val();
});

var plot1 = $.jqplot('chart1',[points]); 
```

更新小提琴：http: [//jsfiddle.net/fdKRw/4/](http://jsfiddle.net/fdKRw/4/)

# ruby - 删除元素时 Ruby 数组的内部行为如何？

> ID：15444755
> 
> 赞同：2
> 
> 时间：2013-03-16T02:01:55.943
> 
> 标签：ruby, arrays, list

我正在用 Ruby 设计一个游戏以学习该语言，我的游戏需要处于从数组中删除项目并将它们添加到另一个数组中的恒定循环，而不是从另一个数组中删除并读取第一个数组。我想知道当我调用 Array.delete() 时内部会发生什么。我宁愿为我的游戏使用链表，因为从链表中删除和添加到链表比在数组上更有效。然而，Array 是迄今为止我在 Ruby 中遇到的唯一数据结构。它真的是唯一可用的吗？

编辑：这是一个基本的射击游戏，敌舰可以向玩家发射子弹。为了避免每次敌人向玩家开火时都必须分配新子弹，我在游戏开始前分配了很多子弹。当敌人射击时，他从可用子弹列表中挑选一颗子弹并将其放入“活动”子弹列表中。负责在屏幕上绘制项目符号的类只在活动项目符号列表中绘制那些项目符号。当子弹离开屏幕时，它会返回可用子弹列表。这就是所有洗牌的来源......

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-16T02:20:03.180

在 Ruby 中实现链表很容易，但有一次我真正做到了，性能与使用 Array 完全相同。Ruby 中更好的算法完全被内部 C 代码的速度所平衡。

现在，我并没有尝试删除 Array 中间的东西。

对于您的情况，我认为可以肯定地说如果数组很短，那么算法就无关紧要，使用内置的 Array 类就可以了。如果数组很长，那么毫无疑问可以构造某种映射，从而从数组中间删除东西不需要重新打包数组及其二次时间复杂度。

确实，您应该首先以简单直接的方式实现您的游戏。你不应该在一开始就加入复杂性，甚至不知道它买了什么，如果有的话。谁知道呢，你甚至可能会发现游戏的其他部分使用了更多时间。

如果你发现你确实陷入了数组删除的困境，下一步就是添加一个映射，或者，是的，一个用 Ruby 实现的链表或树。如果这还不够快，那么使用封装的 Ruby 解决方案和一组测试，您将处于编写 C 扩展的有利位置，并且您几乎会确切地知道它的好处。

* * *

## 回答 #2

> 赞同：-2
> 
> 时间：2013-03-16T02:15:53.907

使用`Hash`. 它比 更有效`Array`。

# twitter-bootstrap - 折叠插件：一次只显示一个面板

> ID：15444758
> 
> 赞同：2
> 
> 时间：2013-03-16T02:02:11.617
> 
> 标签：twitter-bootstrap, accordion, collapse

我很难弄清楚这一点，也许我只是没有搜索正确的术语。

我有一个常规的推特折叠面板。我只希望它一次显示一个面板。

默认情况下，它允许您一次打开所有面板，但我希望它在您展开另一个面板时自动关闭任何其他打开的面板。

[http://twitter.github.com/bootstrap/javascript.html#collapse](http://twitter.github.com/bootstrap/javascript.html#collapse)

```
<div class="accordion" id="monogram-acc">

<div class="accordion-group">
    <div class="accordion-heading">
    <div class="accordion-toggle" data-toggle="collapse" data-parent="monogram-acc" href="#Animals">
        Animals
    </div>
</div>
    <div class="accordion-body collapse" id="Animals">
        //... content
    </div>
</div>

<div class="accordion-group">
    <div class="accordion-heading">
        <div class="accordion-toggle" data-toggle="collapse" data-parent="monogram-acc" href="#Food">
            Food
        </div>
    </div>
    <div class="accordion-body collapse" id="Food">
        // ... content
    </div>
</div>
//... so on
</div> 
```

[http://jsfiddle.net/AbtmY/](http://jsfiddle.net/AbtmY/)

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-03-17T01:33:14.973

[http://jsfiddle.net/AbtmY/1/](http://jsfiddle.net/AbtmY/1/)

改变

```
data-parent="monogram-acc" 
```

到

```
data-parent="#monogram-acc" 
```

# ios - 是否将两个 nil 参数传递给 initWithNibName:bundle: 方法不好的做法（即不安全或较慢）？

> ID：15444760
> 
> 赞同：1
> 
> 时间：2013-03-16T02:02:23.753
> 
> 标签：ios, objective-c, cocoa-touch

根据关于的`UIViewController`评论`initWithNibName:bundle:`

`If you invoke this method with a nil nib name, then this class' -loadView method will attempt to load a NIB whose name is the same as your view controller's class.`

我总是将我的笔尖命名为与视图控制器相同。

将 nil 传递给两个参数而不是 nib 名称字符串是否是一种不好的做法（即不安全、速度较慢或可能导致问题）？

想要这样做的主要驱动愿望是我发现在 Xcode 中使用重构选项不会重命名 nib 名称字符串（只有在使用它们的地方的类名）。因此，如果不小心返回并在任何地方重命名它们，就会导致崩溃。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-03-16T02:08:58.123

这不是不安全或缓慢的。这只是意味着将进行额外检查以查看与您的类同名的 NIB 是否确实存在于包中，然后它将被完全加载，就像您传递了 NIB 名称一样。除非您决定更改命名 NIB 的方式，否则它不会引起问题。面对，有一个关于如何是一个糟糕的初始化程序的[完整讨论](http://blog.bignerdranch.com/129-real-iphone-crap-2-initwithnibnamebundle-is-the-designated-initializer-of-uiviewcontroller/)，并且只使用更好。`-initWithNibName:bundle:``-init`

# google-chrome - 自动从谷歌浏览器生成 har 文件并自动收集并在邮件中显示它们

> ID：15444761
> 
> 赞同：0
> 
> 时间：2013-03-16T02:02:27.107
> 
> 标签：google-chrome, automation, har

我需要实现的是一种自动打开谷歌浏览器并从谷歌开发者工具分析网络瀑布的方法

1.  打开谷歌浏览器
2.  打开谷歌开发者工具
3.  加载一个网址
4.  导航 url，并导出所有瀑布
5.  记录整个网站加载的总时间，并显示网络的所有瀑布。
6.  在上面循环并收集 url 并根据总 url 加载和瀑布并将它们显示在一封邮件中。

有人知道吗？帮我

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-05-08T17:14:34.977

我不知道如何在 Chrome 中执行此操作，但在 Firefox 中使用 NetExport 可以满足您的大部分需求：

[http://www.softwareishard.com/blog/netexport/](http://www.softwareishard.com/blog/netexport/)

您可以自动导出 HAR 文件，也可以手动将瀑布复制为图像，然后将其粘贴到电子邮件中。

# mysql - 如何在mysql的多行中获取最后一个值？

> ID：15444768
> 
> 赞同：2
> 
> 时间：2013-03-16T02:03:32.987
> 
> 标签：mysql, stored-procedures

如何在 MySQL 中选择多行中的最后一个值？

从表 1 中选择名称、日期、值；

```
Name    Date               Value
A       01-Jan-2013         3
A       02-Jan-2013         4
B       04-Jan-2013         2
B       05-Jan-2013         8 
```

结果我需要：

```
Name    Date               Value
A       01-Jan-2013         3
A       02-Jan-2013         4
        Last_value          4
B       04-Jan-2013         2
B       05-Jan-2013         8
        Last_value          8 
```

如何在 MySQL 存储过程中做到这一点？

问候

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-16T02:26:04.317

这似乎更适合您的表示层，但可以使用 SQL 编写它。像这样的东西应该可以`UNION ALL`用来返回每组的最后一条记录：

```
SELECT Name, Dt, Value
FROM (
    SELECT Name, Dt, Value, Name Name2
    FROM YourTable 
    UNION ALL
    SELECT '' Name, 'Last_Value', T.Value, T.Name Name2
    FROM YourTable T
       JOIN (
         SELECT Name, MAX(dt) MaxDt
         FROM YourTable
         GROUP BY Name
       ) T2 ON T.Name = T2.Name AND T.dt = T2.MaxDt
    ORDER BY Name2, Dt, Value
  ) t 
```

[SQL 小提琴演示](http://sqlfiddle.com/#!2/08dbd/1)

导致：

```
NAME         DT                      VALUE
A            2013-01-01 00:00:00     3
A            2013-01-02 00:00:00     4
             Last_Value              4
B            2013-01-04 00:00:00     2
B            2013-01-05 00:00:00     8
             Last_Value              8 
```

*编辑：要获得汇总组总计，您必须介绍用户定义变量的使用。这是一个例子：*

```
SELECT Name, Dt, IF(Name='',summedTotal,Value) Value
FROM (
  SELECT @summedTotal:=IF(@prevRow=Name,@summedTotal+Value,Value) summedTotal,
    Name, Dt, Value, Name Name2,
    @prevRow:=Name
  FROM YourTable
    JOIN (SELECT @summedTotal:=0) t
  UNION ALL
  SELECT summedTotal, '' Name, 'Last_Value', T.Value, T.Name Name2, pr
  FROM (
      SELECT @summedTotal:=IF(@prevRow=Name,@summedTotal+Value,Value) summedTotal,
        Name, Dt, Value, Name Name2,
        @prevRow:=Name pr
      FROM YourTable
        JOIN (SELECT @summedTotal:=0) t
    ) T
    JOIN (
      SELECT Name, MAX(dt) MaxDt
      FROM YourTable
      GROUP BY Name
    ) T2 ON T.Name = T2.Name AND T.dt = T2.MaxDt
  ORDER BY Name2, Dt, Value
  ) t 
```

还有更多[SQL Fiddle](http://sqlfiddle.com/#!2/bb1b1/1)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-16T02:06:34.400

没有“最后”记录。您需要按它们应该排序的列对它们进行排序，然后只选择最后一行。

```
/* SELECT ... */ ORDER BY sort_column DESC LIMIT 1 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-16T02:08:01.840

您可以使用内部联接选择 MAX 值。但是您还没有指定主键列。

```
SELECT
  m.*
FROM mytable AS m
  INNER JOIN (SELECT
        MAX(primary_key_column)
          FROM mytable
          GROUP BY Name) AS l
    ON l.primary_key_column = m.primary_key_column 
```

# android - 适用于 Android 的 ICS 浏览器 Wierd 安全错误

> ID：15444771
> 
> 赞同：0
> 
> 时间：2013-03-16T02:03:43.810
> 
> 标签：android, html, browser, android-4.0-ice-cream-sandwich

我正在为移动浏览器的客户端开发一个小部件，到目前为止一切都很好。但是，当我在 android 上的 ICS 浏览器上测试它时，我遇到了奇怪的错误。很难解释，但下面是错误截图的链接。

[ICS 浏览器上的错误](https://docs.google.com/file/d/0B5F7ifkLkg2nT0JmNkFCVmU1QW8/edit)

如果您看不到屏幕截图，基本上这里是一条错误消息，上面写着“安全警告：请像对待您的密码一样对待上面的这个 URL，不要与任何人分享。” 这都是用红色写的

显然，它与我使用 HTML5 url 状态时所拥有的 URL 有关。我一直试图环顾网络，包括堆栈溢出，但我似乎没有任何搜索结果。

我的小部件在适用于 Android 的 Google Chrome 下运行良好，但如果有人对问题所在有任何想法，将不胜感激。谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-18T11:28:52.243

这是一条安装了任何 facebook 应用程序的消息。我们中的许多人都认为这可能是恶意软件警告，但实际上并非如此。这是 facebook 向您发出的关于您已在此网页上连接到 facebook 的警告。这意味着您的博客上必须有一个小工具将您与 facebook 连接起来。

可能是 facebook 已更新其 API 安全性，但尚未更新导致此消息。

# javascript - 带有 Knockout.js 的简单 Flickr 应用程序不起作用（JSBin 已准备好）

> ID：15444773
> 
> 赞同：1
> 
> 时间：2013-03-16T02:04:07.233
> 
> 标签：javascript, knockout.js, coffeescript

现在我正在编写一个简单的应用程序，它从 Flickr 获取五张照片并将标题显示为列表。起初我尝试过`@current_photos`，效果很好，但是当我使用 Knockout.js( `@currentPhotos`) 时，这不起作用。

```
root = exports ? this
class root.Flickr
  constructor: ->
    @photos = []
    $.getJSON(
      'http://www.flickr.com/services/rest/?jsoncallback=?'
        format : 'json'
        method : 'flickr.photos.search'
        api_key : '7965a8bc5a2a88908e8321f3f56c80ea'
        user_id : '29242822@N00'
        per_page : 5
    ).done((data) =>
      $.each data.photos.photo, (i, item) =>
        @photos.push item
    )

root = exports ? this
class root.PhotoListViewModel
  index = null
  currentPhotos = []
  constructor: ->
    flickr = new Flickr
    # @current_photos = flickr.photos ###### WORKS GOOD
    flickr.photos = ko.observableArray []
    @currentPhotos = ko.computed ->
      flickr.photos 
```

HTML如下：

```
<body>

<h4>Photo List</h4>
<ul data-bind="foreach: currentPhotos">
    <li>
      title: <span data-bind="text: title"> </span>
    </li>
</ul>

</body> 
```

我创建了 JSBin 页面如下：http: [//jsbin.com/avazak/7/](http://jsbin.com/avazak/7/)

谢谢你的好心。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-16T06:18:10.950

由于[依赖跟踪](http://knockoutjs.com/documentation/computedObservables.html)如何在计算的 observable 中工作：

> 当您的评估器功能运行时，KO 会记录您的评估器读取其值的任何可观察对象（或计算的可观察对象）。

因此，您需要在计算中**调用**您的可观察对象，仅引用它们是不够的：

```
@currentPhotos = ko.computed ->
    flickr.photos() 
```

`@photos`而且我建议您将as声明`ko.observableArray`在对象内部而`Flickr`不是`PhotoListViewModel`

演示[JSFiddle](http://jsfiddle.net/cq5Nf/)。

# css - 为什么这行得通？- 推特引导 2.3.1

> ID：15444777
> 
> 赞同：1
> 
> 时间：2013-03-16T02:04:39.157
> 
> 标签：css, twitter-bootstrap, responsive-design

我最近[发布了一个问题](https://stackoverflow.com/questions/15443230/vertically-center-responsive-image)，询问我如何能够垂直对齐响应式图像。我自己找到了答案，但它提出了一个更大的问题，因为我不知道它是如何或为什么起作用的。

看看这个 jsFiddle：http: [//jsfiddle.net/fmwzT/1/](http://jsfiddle.net/fmwzT/1/)

它使用以下代码在导航栏中垂直对齐图像：

```
<div id="f1"><div id="outer-element"><img id="inner-element" src="http://zx85.dyndns.org/raphtest/img/title.png" alt="Logo"></div></div> 
```

```
#fl {
    float: left;
}

#outer-element {
    display: table-cell;
    vertical-align: middle;
    height: 40px;
    max-width: 301px;
}

#inner-element {
    display: inline-block;
    margin-left: -20px;
} 
```

**但是，如果没有 Bootstraps 最新版本（2.3.1），这是行不通的！** 看看这个 jsFiddle：http: [//jsfiddle.net/fmwzT/2/](http://jsfiddle.net/fmwzT/2/)

第二个 jsFiddle 不包含 Boostrap 2.3.1，但包含 Boostrap 2.3.0（包含在我称为 layout.css 的外部 css 文件中），但它不起作用。

**问题：**有谁知道 Twitter Bootstrap 2.3.1 的哪个部分导致导航栏中的图像响应？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-16T02:17:17.937

这存在于版本 2.3.1 (responsive-combined.css) 中，而不是以前的版本中：

```
img {
    height: auto;
    max-width: 100%;
} 
```

# asp.net-mvc - AngularJS 找不到 XSRF-TOKEN cookie

> ID：15444781
> 
> 赞同：2
> 
> 时间：2013-03-16T02:05:10.760
> 
> 标签：asp.net-mvc, http, angularjs, csrf, request-validation

我将 Angular 1.0.4 与 ASP.NET MVC4 + Web API 项目一起使用。我试图利用 Angular 的 CSRF 保护无济于事。我可以看到我正在传递一个名为 XSRF-TOKEN 的 cookie，但是当 angular 尝试将该值添加为响应中名为 X-XSRF-TOKEN 的标头时，该值显示为未定义。我尝试按照[此处](http://gpiot.com/angularjs-useful-tips-to-get-started/)的建议进行操作，但 HTML 尚未呈现，因此未找到任何元素。

我可能会错过什么？由 ASP.NET MVC 生成的 RequestVerificationToken cookie 是否受到 javascript 访问的保护？

此外，是否可以让角度懒惰地检索 cookie 或表单输入值？如果是这样，怎么做？我找不到任何有关如何执行此操作的文档。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-19T19:37:47.337

我找不到我的问题的确切答案。我最终创建了一个服务来查找'input[name="__RequestVerificationToken"]'，获取它的值，并返回一个具有该值的对象。然后我使用该对象在配置中设置标题。这让我可以懒惰地提取并附加该值作为不会立即出现在页面上的表单的标题。

我还意识到，经过进一步审查，ASP.NET 的 AntiForgeryToken 支持需要 cookie 和表单输入/标题值来验证，因此内置的 AngularJS 支持无论如何都不够。

如果有人有更好的解决方案，我很乐意将答案转移到该解决方案。

# applescript - Applescript 打开错误版本的 OS X 应用程序

> ID：15444782
> 
> 赞同：-1
> 
> 时间：2013-03-16T02:05:31.130
> 
> 标签：applescript

我的脚本正在打开旧版本的应用程序（我编写的）。我搜索了高清，找不到旧应用程序。新版本位于应用程序文件夹中。该脚本位于脚本文件夹中。

我创建了一个新文件夹并将脚本和新应用程序放入其中。运行脚本仍然会打开错误的应用程序。App2 是问题孩子。

错误的路径从何而来？

如何：

将脚本指向正确的应用程序？我不想要脚本中的路径。

找到旧的应用程序并删除它？

```
property checkInterval : 5 -- Number of seconds between checks. Adjust to requirement.
global App1WasOpen, GUIScriptingWasEnabled, previousText

on run
 -- When the script starts up, note if App1 is running and GUI Scripting is enabled.
 tell application "App1" to activate
 tell application "System Events"
   set App1WasOpen to (application process "App1" exists)
   set GUIScriptingWasEnabled to (UI elements enabled)
 end tell

 -- Enable GUI Scripting if nec. and give the 'previousText' variable an initial value.
 switchGUIScripting(true)
 set previousText to ""
end run

on idle
-- Each time the script's polled by the system, check that App1's open.
tell application "System Events" to set App1IsOpen to (application process "App1" exists)

if (App1gIsOpen) then
  set App1WasOpen to true
  -- Get the latest value for 'beam'.
  tell application "App1"
       set hdg to getHeading
       set beam to hdg as string
   end tell
   if ((count beam) < 3) then set beam to text -3 thru -1 of ("000" & beam)

   -- If it's changed since the last check, enter it into App2 and keep it for later checks.
   if (beam is not previousText) then
       --display dialog "Opening App2" buttons {"OK"}
       tell application "App2" to launch
       --activate application "App2"
       tell application "System Events"

           set startTime to current date
           repeat until exists (text field 1 of window "App2" of application process "App2")
               if (current date) - startTime is greater than 5 then
                   error "Could not find text field 1 of window AppB of application process App2"
                   exit repeat
               end if
               delay 0.2
           end repeat
           tell application process "App2"
               try
                   set value of text field 1 of window "App2" to beam
               end try
           end tell
       end tell
       --tell application "App1" to activate
       set previousText to beam
   end if
   -- Request the next 'idle' event in 'checkInterval' seconds' time.
     return checkInterval
   else if (App1WasOpen) then
   -- App1 was open at the last check, but isn't now. Tell this script applet to quit.
   quit
   -- It'll actually quit on the next idle event, so request a short interval.
   return 1
 end if
end idle

-- Unless GUI Scripting was already on when the script started to run, turn it on or off as per the parameter.
on switchGUIScripting(onOff) -- 'onOff' is 'true' for on, 'false' for off.
if (not GUIScriptingWasEnabled) then
   tell application "System Events"
       activate
       set UI elements enabled to (onOff)
   end tell
end if
end switchGUIScripting

-- When this applet's told to quit, restore the previous GUI Scripting state before it does.
on quit
   switchGUIScripting(false)
   continue quit
end quit 
```

跟进：我使用 Dock 中应用程序图标上的“在 Finder 中显示”指向我删除的 17 个 Xcode 档案。现在脚本反复出现“发生-10660 类型错误”的消息，并且App2 永远不会打开。

我打开脚本编辑器，将代码复制到一个新的脚本窗口并用不同的名称编译它。仍然没有打开 App2。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-16T12:26:04.303

尝试使用以下命令查找应用程序 ID：

```
set appID to get id of application "/Applications/Safari.app" 
```

找到后，请参考 id 而不是

```
tell application id "com.apple.Safari" to launch 
```

# java - 如何将另一个类中的方法调用到另一个类并将其传递给main

> ID：15444785
> 
> 赞同：0
> 
> 时间：2013-03-16T02:05:36.957
> 
> 标签：java

如何将另一个类中的方法调用到另一个类并将其传递给主类

我有看起来像这样的 Class1.java 类

```
public class Class1{

    public void callMe() {
        System.out.println("Menambah tabel mahasiswa");
    }

} 
```

`Class2`然后我在一个名为的文件中创建另一个类`Class2.java`，如下所示

```
public class Class2 {

    private Class1 class1;

    //getset generated by netbeans, skipped

    public void justCallMe(){
        class1.callMe();
    }
} 
```

我想使用`justCallMe()`在主类中命名的 class2 方法，看起来像这样

```
 Class2 classy = new Class2();
    classy.justCallMe(); 
```

但它给了我错误“java.lang.NullPointerException”我认为这是由于从类到类和到主的错误传递方法引起的，当我尝试调用时`System.out.println("test")`；中`Class2`，它起作用了

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-16T02:07:51.597

您的代码有几处问题。

首先，

```
Class2 classy = new classy(); 
```

应该

```
Class2 classy = new Class2(); 
```

由于您正在创建一个实例`Class2`

其次，在构造函数中，你需要初始化它的`Class1`成员，所以在里面`Class2`你需要一个构造函数来为你做这件事

```
public Class2() {
   class1 = new Class1();
} 
```

`NullPointerException`你收到的可能是因为在你的真实代码中你确实有但`Class2 classy = new Class2();`没有初始化它的`class1`成员

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-16T02:13:26.630

您应该首先“新建”您的课程。

```
Private Class1 class1 = new Class1(); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-16T14:23:50.323

您的代码包含许多错误。为了更好地理解，请参阅以下源代码。

一、创建一个子类

```
class subclass {
         //Create a method to be called .Here the name is used as Meth

         public void Meth(){
         //Do some work here
         } 
```

然后，创建一个包含 main 方法的超类。

```
 class superclass {
           public static void main(String ar[]){
           //Create an object of sub class
           subclass subc = new subclass();
           //To call function to execute its task
           subc.Meth();
} 
```

如果子类在另一个包中，则导入该包的该类。

# mysql - MySQL timediff — 这是一个错误吗？

> ID：15444804
> 
> 赞同：0
> 
> 时间：2013-03-16T02:08:47.063
> 
> 标签：mysql, date, datediff

这必须返回 1440 分钟并且工作正常：

```
select abs(round((TIME_TO_SEC(TIMEDIFF('2013-03-13 10:00', 
                                       '2013-03-14 10:00'))/60),2)) ; 
```

(2) 相同函数日期更改为 2~~年~~天数返回**50339.98**

```
select abs(round((TIME_TO_SEC(TIMEDIFF('2013-03-12 10:00', 
                                       '2013-03-14 10:00'))/60),2)) ; 
```

(3) 同样的函数，日期改为 4~~年~~天，答案是**50339.98**

```
select abs(round((TIME_TO_SEC(TIMEDIFF('2013-03-10 10:00', 
                                       '2013-03-14 10:00'))/60),2)) ; 
```

***这是一个错误吗？***

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-16T03:50:37.077

> 这必须返回 1440 分钟并且工作正常：

不会。可能会有夏令时更改或闰秒更改。您不能仅仅因为您认为它们应该如此而依赖于两次被一定数量的抵消。

有什么奇怪的。

```
select  
    TIMEDIFF('2000-09-14 09:00', '2000-08-10 10:00'),
    TIMESTAMPDIFF(SECOND, '2000-09-14 09:00', '2000-08-10 10:00'); 
```

给

838:59:59，-3020400

这是不可能的。解释是[MySQL](https://dev.mysql.com/doc/refman/5.5/en/time.html)中的 TIME 值对可接受的值有限制。

> MySQL 以“HH:MM:SS”格式（或“HHH:MM:SS”格式用于大小时值）检索和显示 TIME 值。TIME 值的范围可以从“-838:59:59”到“838:59:59”。

显然，您应该使用 TIMESTAMPDIFF() 和 UNIX_TIMESTAMP() 函数之一，这两个函数都返回整数，或者如果您有实际日期，则使用 DATEDIFF()。

# c# - 浏览到目录并将路径存储在字符串中（C#）

> ID：15444807
> 
> 赞同：2
> 
> 时间：2013-03-16T02:09:11.753
> 
> 标签：c#, string, file-io, dialog

我正在尝试在 Visual Studio 中使用 WPF 在 C# 中制作这个程序。这基本上就是它必须做的。

当在主窗体上单击一个名为“浏览”的按钮时，它将打开一个新的窗体/窗口，让用户可以浏览到他选择的任何目录。在他选择文件夹并单击“打开”（或该表单上的其他按钮）后，该目录的路径，例如“C:\temp”将存储在字符串变量中，以便以后使用。

我的第一个问题是，我在“浏览”按钮的偶数处理程序中写什么，它将打开一个窗口，让用户浏览并选择一个文件夹？是否有我可以使用的默认窗口，或者我必须为其创建一个新表单？请注意，用户必须选择一个文件夹，而不是像默认“打开”窗口那样的文件。

其次，我如何引用一个字符串变量，以便它存储用户选择的目录的路径？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-16T02:10:59.440

您正在寻找的类型是`OpenFileDialog`

> [http://msdn.microsoft.com/en-us/library/system.windows.forms.openfiledialog.aspx](http://msdn.microsoft.com/en-us/library/system.windows.forms.openfiledialog.aspx)

基本用法如下

```
using (FileDialog fileDialog = new OpenFileDialog()) {
  if (DialogResult.Ok == fileDialog.ShowDialog()) {
    string fileName = fileDialog.FileName;
    ...
  }
} 
```

**编辑**

评论澄清了 OP 正在寻找打开一个目录与一个文件。为此，您需要`FolderBrowseDialog`

```
var dialog = new System.Windows.Forms.FolderBrowserDialog();
System.Windows.Forms.DialogResult result = dialog.ShowDialog(); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-16T02:33:52.847

对于选择目录，您应该使用[`FolderBrowserDialog`](http://msdn.microsoft.com/en-us/library/system.windows.forms.folderbrowserdialog.aspx). 它是来自 WinForms 的控件。WPF 没有它自己的。

例如：

```
var dialog = new FolderBrowserDialog();
var result = dialog.ShowDialog();
if (result == DialogResult.OK)
    // ... 
```

不要忘记添加对`System.Windows.Forms`.

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2015-11-07T04:54:03.520

只需在按钮单击上执行此操作

```
 FileDialog fileDialog = new OpenFileDialog();
        fileDialog.ShowDialog();
        folderpathTB.Text = fileDialog.FileName; 
```

（folderpathTB 是 TextBox 的名称，我想在其中放置文件路径，或者您也可以将其分配给字符串变量）

# breeze - Breezejs 中是否存在在添加或删除实体时触发的事件？

> ID：15444810
> 
> 赞同：2
> 
> 时间：2013-03-16T02:09:39.887
> 
> 标签：breeze

我环顾四周寻找答案，但到目前为止我已经干了。我想做的是在特定的视图模型中有一个事件处理程序，它监听 Breeze 是否添加或删除实体，以便视图模型可以对其正在管理的数组采取适当的操作。这样的事件存在吗？

我的 Jobs 视图有一个 Jobs 视图模型，其中包含 Job 实体的 ko.observableArray 和我的 NewJob 视图的 NewJob 视图模型。两个视图模型共享相同的数据服务。我想简单地使用 NewJob 视图模型中的 DataService 将一个新的 Job 实体插入到 Breeze 中，然后让 Jobs 视图模型简单地订阅一个事件，这样它就会知道将新 Job 添加到它的 Jobs 数组中。

TIA

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-16T02:16:29.953

Breeze EntityManager 有一个[entityChanged 事件](http://www.breezejs.com/sites/all/apidocs/classes/EntityManager.html)，可以像这样使用：

```
var em = new EntityManager( {serviceName: "api/NorthwindIBModel" });
em.entityChanged.subscribe(function(changeArgs) {
    // This code will be executed any time any entity within the entityManager is added, 
    // modified, deleted or detached for any reason. 
    var action = changeArgs.entityAction;
    var entity = changeArgs.entity;
    // .. do something to this entity when it is changed.
}); 
```

# .net - Visual c++ WndProc 覆盖 MySplitContainerControl::WndProc(m);

> ID：15444813
> 
> 赞同：1
> 
> 时间：2013-03-16T02:09:41.937
> 
> 标签：.net, winforms, visual-c++

做一些测试......关于ownerdraw自定义控件。

此代码编译，但崩溃......由于那个'm'是`<undefined value>`

`MySplitContainerControl::WndProc(m);`/*带刹车点，我可以看到一条消息....但是删除刹车点会导致崩溃！

我正在尝试覆盖 Splitcontainer 中的窗口外观。

```
protected: static int WM_PAINT = 0x000F;
protected: virtual void WndProc(Message% m) override 
    {
    MySplitContainerControl::WndProc(m); 
    /*Form::WndProc(m);*/
    if (m.Msg == WM_PAINT)
        {
                Graphics^ graphics = Graphics::FromHwnd(this->Handle);
                PaintEventArgs^ pe = gcnew PaintEventArgs(graphics, Rectangle(0,0, this->Width, this->Height));
                OnPaint(pe);
        } 
```

为了得到一个想法，我在这里做的是完整的代码：

```
#pragma once

using namespace System;
using namespace System::ComponentModel;
using namespace System::Collections;
using namespace System::Windows::Forms;
using namespace System::Data;
using namespace System::Drawing;

namespace MySplitContainer {

    /// <summary>
    /// Summary for MySplitContainerControl
    /// </summary>
    public ref class MySplitContainerControl : public System::Windows::Forms::SplitContainer
    {
    public:
        MySplitContainerControl(void)
        {
            InitializeComponent();
            //
            //TODO: Add the constructor code here
            //
        }

    protected:
        /// <summary>
        /// Clean up any resources being used.
        /// </summary>
        ~MySplitContainerControl()
        {
            if (components)
            {
                delete components;
            }
        }

    private:
        /// <summary>
        /// Required designer variable.
        /// </summary>
        System::ComponentModel::Container^ components;

#pragma region Windows Form Designer generated code
        /// <summary>
        /// Required method for Designer support - do not modify
        /// the contents of this method with the code editor.
        /// </summary>
        void InitializeComponent(void)
        {
            this->AutoScaleMode = System::Windows::Forms::AutoScaleMode::Font;
        }
#pragma endregion

    protected: static int WM_PAINT = 0x000F;
    protected: virtual void WndProc(Message% m) override 
        {
        MySplitContainerControl::WndProc(m);
        /*Form::WndProc(m);*/
        if (m.Msg == WM_PAINT)
            {
                    Graphics^ graphics = Graphics::FromHwnd(this->Handle);
                    PaintEventArgs^ pe = gcnew PaintEventArgs(graphics, Rectangle(0,0, this->Width, this->Height));
                    OnPaint(pe);
            }
        }

    protected: virtual void OnPaint(PaintEventArgs ^e) override
        {

        }

    };
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-16T05:13:53.530

你有：

```
protected: virtual void WndProc(Message% m) override 
{
    MySplitContainerControl::WndProc(m);
    // ...
} 
```

所以你自己调用了被覆盖的`WndProc`方法。这会导致无限递归调用，从而导致`StackOverflowException`.

顺其自然`Form::WndProc(m)`（注释行）。它应该调用基类的`WndProc`，而不是它本身。

其次，在覆盖 时`WM_PAINT`，您应该调用[`BeginPaint`](http://msdn.microsoft.com/en-us/library/windows/desktop/dd183362.aspx)and[`EndPaint`](http://msdn.microsoft.com/en-us/library/windows/desktop/dd162598.aspx)方法，而不是为窗口创建新的`Graphics`(and `DC`)。

# python - 将二维数组组合成元组

> ID：15444815
> 
> 赞同：3
> 
> 时间：2013-03-16T02:09:48.107
> 
> 标签：python, point, multidimensional-array

我想将两个二维数组组合成一个 NX2 数组，但我不知道我应该在 python 中使用什么命令。例如，`a = [1.2.3] b = [4,5,6]`我想要一个新数组，其中 a 中的元素作为 x 坐标，b 作为 y 坐标，`c = [(1,4)],(2,5),(3,6)]`

在 python 语言中对此有任何提示吗？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-03-16T02:11:00.493

你很幸运，因为 Python 有一个内置[`zip`](http://docs.python.org/2/library/functions.html#zip)函数可以完全满足你的需求。

```
>>> a = [1, 2, 3]
>>> b = [4, 5, 6]
>>> zip(a, b)
[(1, 4), (2, 5), (3, 6)] 
```

请注意，在 Python 3 中，`zip`返回的是迭代器，而不是列表，因此您必须使用`list(zip(a, b))`来获取列表。

另请注意，`zip`将结果的长度截断为最小列表。

例如：

```
>>> zip([1, 2], [3, 4, 5])
[(1, 3), (2, 4)] 
```

您可以使用[`itertools.izip_longest`](http://docs.python.org/2/library/itertools.html#itertools.izip_longest)（或`itertools.zip_longest`在 Python 3 中）解决此问题。

```
>>> import itertools
>>> list(itertools.izip_longest([1, 2], [3, 4, 5], fillvalue=0))
[(1, 3), (2, 4), (0, 5)] 
```

这将使用`fillvalue`来填补空白。默认情况下，`fillvalue`设置为`None`。

# java - Java 程序可优化您可以在不同项目上花费的金额以实现价值最大化

> ID：15444818
> 
> 赞同：0
> 
> 时间：2013-03-16T02:09:56.913
> 
> 标签：java

所以我试图设计一种算法来计算我可以购买的特定物品，基于我拥有的金额，以获得最大的购买价值，因为每个物品都有特定的价值。所以我的计划是使用嵌套的 if else 语句等......但这非常低效。有输入吗？

我不要求任何人为我解决这个问题。我只是在问这种方式是否是效率最低但仍然成功的方式之一。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-16T02:17:32.927

听起来您正在尝试实现背包问题。

你可以在这里读到它：

[http://en.wikipedia.org/wiki/Knapsack_problem](http://en.wikipedia.org/wiki/Knapsack_problem)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-16T02:13:32.983

我不完全理解这个问题，但是根据您的情况，**开关**块可能会更好，但它的实际性能提升很少

参考：[http ://docs.oracle.com/javase/tutorial/java/nutsandbolts/switch.html](http://docs.oracle.com/javase/tutorial/java/nutsandbolts/switch.html)

# unix - 在 vim 中跨 vim 实例移动缓冲区

> ID：15444823
> 
> 赞同：15
> 
> 时间：2013-03-16T02:10:46.960
> 
> 标签：unix, vim

这可能吗？

从概念上讲，一个解决方案应该适用于许多可能的配置，从在 tmux 窗口的窗格中的不同虚拟终端中运行的两个 vim 实例，到在不同地理区域的不同机器上的不同终端中，一个或两个通过网络连接（换句话说，vim 由两个单独的 shell 进程托管，无论如何它们已经在 tmux 下）。

促使我思考这个问题的案例：

**我有两个打开 vim 的 tmux 面板，我想使用 Vim yank/paste 来复制文件。**

但它只有在我让它们都在同一个 Vim 实例中运行时才有效，所以我不得不：

1.  使用 tmux 的复制/粘贴功能来获取内容（这有点乏味和挑剔），或者
2.  使用终端（PuTTY，iTerm2）的复制/粘贴功能来获取内容（这同样乏味但不受网络延迟的影响，但是这只能在一定大小的文本有效负载下复制，此时此方法由于终端不知道文件当前不可见部分的内容，因此根本无法工作），或者
3.  在拆分缓冲区或选项卡中的一个 Vim 实例中手动重新打开文件时会丢失 Vim 缓冲区历史记录/上下文和可能的 shell 历史记录/上下文，然后关闭另一个终端上下文（对于大型有效负载来说，比 1 更乏味，但更是如此小有效载荷）。

这有点像 PITA，如果我有远见地切换到已经运行 vim 的适当终端来打开我的文件，那么这一切都是可以避免的，但工作流程和习惯的命运很少与本来方便的相匹配。

所以问题是，是否存在允许我跨独立运行的 vim 实例加入缓冲区的命令或直接构建（shell）脚本的可能性？我很难让谷歌充分回答这个问题。

在没有足够的答案的情况下（或者如果有合理的确定性确定 Vim 不具备在其实例之间完成缓冲区传输的功能），则上述方法 3 的良好实现（可绑定到键）是可以接受的。

同时，我将进一步自定义我的 vim 配置并强迫自己使用尽可能少的 vim 实例。

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2013-03-16T07:01:16.730

不，Vim 不能在多个实例之间共享会话。这就是它的设计方式，它不提供任何会话共享工具。寄存器、动态映射/设置、命令历史记录等对于 Vim 会话来说是本地的，您实际上无法对此做任何事情。

* * *

但是您的标题有点误导：您写了“缓冲区”，但看起来您只是在从一个 Vim 实例复制/粘贴（涉及“注册”，而不是“缓冲区”）到另一个之后。是对的吗？如果是这样，您为什么不简单地使用剪贴板支持为自己构建一个合适的版本呢？

`"+y`跨实例复制/复制和`"+p`在另一个实例中一样容易。

显然，如果您的 Vim 实例位于不同的系统上，这将不起作用。在这种情况下，`"+y`在源 Vim 和系统提供的粘贴到目标 Vim 中（可能带有`:set paste`）是最常见的解决方案。

* * *

如果您使用的是 Mac，请安装 MacVim 并将随附的`mvim`shell 脚本移动到路径中的某个位置。*您可以在*终端中使用 MacVim 可执行文件和`mvim -v`.

如果您在 Linux 上，请从包管理器中安装 vim-gnome 包。

如果您使用的是 Windows，请安装最新的“Vim without Cream”。

* * *

但对我来说，整个事情看起来像是一个 XY 问题。有效地使用 Vim 的内置`:e[dit]`命令可能是解决潜在问题的最佳解决方案：从许多不同的 shell 编辑许多文件。

# c++ - 遍历 equal_range 结果集

> ID：15444840
> 
> 赞同：0
> 
> 时间：2013-03-16T02:14:30.423
> 
> 标签：c++, multimap, unordered-map

我有以下无序多图：

```
std::tr1::unordered_multimap<unsigned int, unsigned int > duplicates; 
```

我尝试使用

```
std::pair<std::tr1::unordered_multimap<unsigned int, unsigned int>,std::tr1::unordered_multimap<unsigned int, unsigned int> > range = duplicates.equal_range(id); 
```

然后使用 for 循环获得多个结果：

```
for (std::tr1::unordered_multimap<unsigned int, unsigned int>::iterator it=range.first; it!=range.second; ++it) 
```

但我收到以下错误：

```
ref_impl/core.cpp:306:84: error: conversion from 'std::tr1::unordered_multimap<unsigned int, unsigned int>' to non-scalar type 'std::tr1::_Hashtable<unsigned int, std::pair<const unsigned int, unsigned int>, std::allocator<std::pair<const unsigned int, unsigned int> >, std::_Select1st<std::pair<const unsigned int, unsigned int> >, std::equal_to<unsigned int>, std::tr1::hash<unsigned int>, std::tr1::__detail::_Mod_range_hashing, std::tr1::__detail::_Default_ranged_hash, std::tr1::__detail::_Prime_rehash_policy, false, false, false>::iterator {aka std::tr1::__detail::_Hashtable_iterator<std::pair<const unsigned int, unsigned int>, false, false>}' requested
ref_impl/core.cpp:306:101: error: no match for 'operator!=' in 'it != range.std::pair<std::tr1::unordered_multimap<unsigned int, unsigned int>, std::tr1::unordered_multimap<unsigned int, unsigned int> >::second' 
```

有什么建议么？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-16T02:19:41.443

`unordered_multimap::equal_range`返回一对迭代器，而不是一对`unordered_multimap`s。将第二行更改为以下内容，一切正常：

```
typedef std::tr1::unordered_multimap<unsigned int, unsigned int>::iterator iterator;
std::pair<iterator, iterator> range = duplicates.equal_range(id); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-16T02:18:41.637

您已声明`range`为一对无序映射，而不是无序映射迭代器。感谢上帝的汽车。你确定不能用？它会让你的生活变得更轻松：

```
auto range = duplicates.equal_range(id); 
```

否则，您应该自由使用`typedef`.

# loops - 循环通过ip地址pascal

> ID：15444841
> 
> 赞同：1
> 
> 时间：2013-03-16T02:15:08.273
> 
> 标签：loops, ip-address, freepascal, fpc

在 Freepascal 中，如何循环访问一系列 IP 地址？

任何可以处理此问题的 ip 特定内容的单位？我试过一种叫做inetaux，但它有缺陷并且不起作用。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-16T13:06:23.287

由于 IP 地址只是一个拆分为 4 个字节的 32 位数字，因此您可以简单地迭代一个整数并使用实例`absolute`指令将此迭代器拆分为 4 个字节：

```
type
  TIPAddress = array[0..3] of Byte;

procedure TForm1.Button1Click(Sender: TObject);
var
  S: string;
  I: Integer;
  IPAddress: TIPAddress absolute I;
begin
  // loop in some range of IP addresses, here e.g. from 127.0.0.1 to 127.0.1.245
  for I := 2130706433 to 2130706933 do
  begin
    // now you can build from that byte array e.g. well known IP address string
    S := IntToStr(IPAddress[3]) + '.' + IntToStr(IPAddress[2]) + '.' +
      IntToStr(IPAddress[1]) + '.' + IntToStr(IPAddress[0]);
    // and do whatever you want with it...
  end;
end; 
```

或者您可以对按位移位运算符执行相同的操作，这需要做更多的工作。例如，与上面相同的示例如下所示：

```
type
  TIPAddress = array[0..3] of Byte;

procedure TForm1.Button1Click(Sender: TObject);
var
  S: string;
  I: Integer;
  IPAddress: TIPAddress;
begin
  // loop in some range of IP addresses, here e.g. from 127.0.0.1 to 127.0.1.245
  for I := 2130706433 to 2130706933 do
  begin
    // fill the array of bytes by bitwise shifting of the iterator
    IPAddress[0] := Byte(I);
    IPAddress[1] := Byte(I shr 8);
    IPAddress[2] := Byte(I shr 16);
    IPAddress[3] := Byte(I shr 24);
    // now you can build from that byte array e.g. well known IP address string
    S := IntToStr(IPAddress[3]) + '.' + IntToStr(IPAddress[2]) + '.' +
      IntToStr(IPAddress[1]) + '.' + IntToStr(IPAddress[0]);
    // and do whatever you want with it...
  end;
end; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-19T15:11:41.947

我以更 FPC 的风格重写了 TLama 的示例。请注意，这也应该是字节顺序安全的：

```
{$mode Delphi}

uses sockets;
procedure Button1Click(Sender: TObject);
var
  S: string;
  I: Integer;
  IPAddress: in_addr;
begin
  // loop in some range of IP addresses, here e.g. from 127.0.0.1 to 127.0.1.24
  for I := 2130706433 to 2130706933 do
  begin
    IPAddress.s_addr:=i;
    s:=HostAddrToStr(IPAddress);
     ....
  end;
end; 
```

# ios - 应用重置计数器

> ID：15444847
> 
> 赞同：0
> 
> 时间：2013-03-16T02:16:13.477
> 
> 标签：ios, objective-c, cocoa-touch, uiapplicationdelegate

我有一个关于我的 iPhone 应用程序的简单问题。

我有几个全局计数器，它们存储从 0 到 13 的数字，一旦程序终止（在模拟器上单击停止）并在调试模式下重新打开，计数器仍然具有与上次运行相同的信息。我应该在我的代码中的哪里重置我的所有计数器？理想情况下，我只希望在您从 iPhone 多任务功能（双击主页按钮并退出程序）中终止程序时重置它们。

没有任何需要查看的代码，我也不想有一个可以按下来重置计数器的按钮。

有什么建议么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-16T02:30:41.647

假设计数器是持久的（当您的应用程序退出时存储在某处）。有几种方法可以解决：

您可以将计数器设置在

```
- (BOOL)application:(UIApplication *)application didFinishLaunchingWithOptions:(NSDictionary *)launchOptions 
```

或将它们重置为 0 在

```
- (void)applicationWillTerminate:(UIApplication *)application 
```

这两个函数可以在 AppDelegate.m 中找到

# android - 如何防止三星 Galaxy S3 上的软键盘默认出现白色背景

> ID：15444855
> 
> 赞同：1
> 
> 时间：2013-03-16T02:17:37.267
> 
> 标签：android, android-edittext, android-softkeyboard

我有一部三星 Galaxy 手机，如果我在横向运行我的 android 应用程序，然后去编辑一个 EditText，软键盘会弹出，但在你输入文本的地方会弹出一个白色背景。我相信这是三星 Galaxy s3 的默认行为，因为它发生在许多应用程序中，但浏览器只是像正常一样弹出软键盘。有谁知道我可以如何关闭这种行为，以免出现白色背景？任何帮助是极大的赞赏！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-16T02:28:53.080

在文本字段的 imeOptions 中添加以下选项：flagNoFullscreen、flagNoExtractUi。

大多数键盘都会尊重这些标志。

# c - C 分段错误中的文件 I/O

> ID：15444856
> 
> 赞同：0
> 
> 时间：2013-03-16T02:17:39.767
> 
> 标签：c, file, pointers, malloc

我知道分段错误是什么，我不需要知道它的定义:) 我只需要知道它在我的代码中来自哪里。该程序旨在获取单词作为输入，从文本文件中读取，写入单独的文本文件，然后打印读取文件和输入中的所有单词。

```
#include<stdio.h>
#include <string.h>
#include <stdlib.h>

int main(int argc, char*argv[]){
    FILE *read;
    FILE *write;
    char **list=malloc(sizeof(char*));
    char **oldlist=malloc(sizeof(char*));
    char *oldword=malloc(sizeof(char));
    char exit[]="end";
    int a, c, r=0, w=0, n=0, z= 0, y=0, d=0, g=0;

//check arg
for(a=0; a<argc; a++){
    if(strcmp(argv[a], "-r")==0){
        r =1;
        read=fopen("read.txt", "r");
    }
    else if(strcmp(argv[a], "-w")==0){
        w =1;
        write=fopen("write.txt", "w");
    }   
}
if(r==0 && w==0){
    printf("Error: Invalid Command.\n");
}
printf("Read = %d | Write = %d\n", r, w);

//getwords
printf("Enter your words: ");
while(1){
char *word=malloc(sizeof(char));
list=realloc(list, sizeof(char*)*(z+10));
word=realloc(word, sizeof(char)*(z+10));
scanf("%s", word);
              if (strcmp(word,exit)==0){
        break;
              }
              else{
                *(list+z) = word;
            z++;
          }
}   

//read
if (r==1){
    do{
        while(1){
            *(oldword+d)=fgetc(read);
            d++;
        }
    }while(feof(read) != 0);            
}
*(oldword+(d-1))="\0";

printf("Your words are:\n");
            puts(oldword);
    for(c=0; c<n; c++){
            puts(*(list+c));
    }

    //write
    if (w ==1){
        if(w==1){
            fputs(*(oldlist+c),write);
        }
    for(c=0; c<n; c++){
            fputs(*(list+c),write); 
        }
    }
    //end
    free(list);
    fclose(read);
    fclose(write);          
    return 0;

} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-16T02:39:53.150

您为单词分配 1 个字节：

```
char *word=malloc(sizeof(char)); 
```

然后，您将一个字符串读入其中。这是缓冲区溢出，会导致极大的不快（以及 Stack Overflow 上的此类问题）。具体来说，读取长字将践踏“堆”（由等人控制的数据空间）中的控制信息，`malloc()`并扰乱用于确定哪些空间可供使用而哪些不可用的数据。什么构成“长词”取决于系统；从技术上讲，除了空字符串（只是一个终端`'\0'`）之外的任何字符串都太长了，但是如果单词是 7 个字节或更少，你可能会逃脱蓝色谋杀。

* * *

> 但是 realloc 不应该处理内存问题吗？我正在尝试使字符串输入不受限制。

嗯……作为一种做生意的方式，这有点奇怪，但`realloc()`在`word`你实际使用它之前，你可以解决一些问题。

`word`具体来说，在循环第一次溢出内存分配之前，您最多可以读取 9 个字符（包括 9 个字符） 。但是，这距离使其“无限制”还有很长的路要走，而使其无限制并非易事。一个问题是`%s`在空白字符处停止扫描；总的来说，这对你有利。另一个是您似乎将其`z`用作您输入的字符串数量的计数，以及您可以输入的字符串的长度。`list`如果列表超过 10 个条目，则不会重新分配。

您仍然可能遇到各种问题。例如，您对 oldword 的处理不会执行额外的 realloc()；它只分配一个字节。然后你有一个完全无界的无限循环（如果它被输入的话）。这个循环是一场灾难：

```
 while(1){
        *(oldword+d)=fgetc(read);
        d++;
    } 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-16T02:39:15.293

如果您在（g 标志）上进行调试并在 valgrind 下运行，它应该可以很好地说明它为什么会出现段错误。

# jquery - 当父级悬停时，我可以更改包含元素的 CSS 吗？

> ID：15444858
> 
> 赞同：-1
> 
> 时间：2013-03-16T02:17:55.953
> 
> 标签：jquery, html, css, sass

仅使用 CSS 或 SASS，是否可以在其父元素悬停时更改一个元素的样式？

例如，我的文本颜色设置为红色。当它包含 div 悬停时，我希望颜色变为黑色。但我不能覆盖容器中任何其他文本的颜色。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-16T02:25:33.010

如果我理解正确，您会遇到这种情况，您想在哪里

```
<div>
    Some text
    <span>Some red text</span>
    Some text
</div> 
```

您可以使用以下 CSS 更改红色文本：

```
div:hover span{
    color:#000;
} 
```

**JSFiddle在这里：http: [//jsfiddle.net/a6FBk/](http://jsfiddle.net/a6FBk/)**

如果我误解了您的问题，请回复，我会相应地编辑我的答案。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-16T02:25:20.273

试试这个：

HTML：

```
<div class="parent">
  <span>Stuff</span>
  <span class="child">Some Text</span>
</div> 
```

CSS：

```
.parent .child {
  color: #FF0000;
}
.parent:hover .child {
  color: #000000;
} 
```

# php - 如何getParams类型的数组

> ID：15444862
> 
> 赞同：1
> 
> 时间：2013-03-16T02:18:37.957
> 
> 标签：php, magento, url, parameters, param

在 Magento 中，就像我们通常用来获取参数一样

```
http://magento.com/customer/account/view/id/122 
```

我们可以通过

```
$x = $this->getRequest()->getParam('id');
echo $x; // value is 122 
```

现在据我所知 $x 只是为了从参数中获取一个字符串。

有没有办法将 $x 作为一个数组？

例如：

```
Array
(
    [0] => 122
    [1] => 233
) 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-16T02:24:34.787

例如：

```
http://magento.com/customer/account/view/id/122-233

$x = $this->getRequest()->getParam('id');
$arrayQuery = array_map('intval', explode('-', $x)));
var_dump($arrayQuery); 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-03-16T02:26:56.940

如果您的意思是将所有参数作为一个数组（可能是一个变量对象）：

```
$params = $this->getRequest()->getParams(); 
```

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2013-03-16T02:37:42.437

恐怕 Zend Framework 或 Magento 目前无法将数组参数传递给 zend url。

这是一个关于[将 get 变量作为数组传递](http://framework.zend.com/issues/browse/ZF-2986)的错误。

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2013-08-23T16:42:55.547

您还可以在查询参数上使用括号，例如 http://magento.com/customer/account/view/?id[]=123&id[]=456

然后在运行以下命令后， $x 将是一个数组。

```
$x = $this->getRequest()->getParam('id'); 
```

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2013-03-16T04:36:42.817

我的建议是，如果您希望将访问者的输入作为数组传递，而不是将它们作为 GET 参数传递到 URL 中，将它们作为 POST 变量传递。

然后 $_POST 将拥有一切，您可以 $params = $this->getRequest()->getParams();

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2015-06-05T10:31:55.113

在 Zend Framework 1.12 中，只需使用 getParam() 方法即可。注意 getParam() 的结果是**NULL 表示没有可用的键**，**字符串表示 1 个键**，**数组表示多个键**：

**没有“id”值**

```
http://domain.com/module/controller/action/

$id = $this->getRequest()->getParam('id');
// NULL 
```

**单个“id”值**

```
http://domain.com/module/controller/action/id/122

$id = $this->getRequest()->getParam('id');
// string(3) "122" 
```

**多个“id”值：**

```
http://domain.com/module/controller/action/id/122/id/2584

$id = $this->getRequest()->getParam('id');
// array(2) { [0]=> string(3) "122" [1]=> string(4) "2584" } 
```

如果您总是希望代码中有一个字符串，并且由于某种原因在 url 中设置了更多值，这可能会出现问题：在某些情况下，您可能会遇到错误“***数组到字符串转换***”。以下是避免此类错误的一些技巧，以确保您始终从 getParam() 获得所需的结果类型：

如果您希望 $id 是一个**数组**（如果未设置参数，则为 NULL）

```
$id = $this->getRequest()->getParam('id');
if($id !== null && !is_array($id)) {
    $id = array($id);
}

http://domain.com/module/controller/action/
// NULL

http://domain.com/module/controller/action/id/122
// array(1) { [0]=> string(3) "122" } 
```

如果您**总是**希望 $id 是一个**数组**（如果未设置则没有 NULL 值，只是空数组）：

```
$id = $this->getRequest()->getParam('id');
if(!is_array($id)) {
    if($id === null) {
        $id = array();
    } else {
        $id = array($id);
    }
}

http://domain.com/module/controller/action/
// array(0) { }

http://domain.com/module/controller/action/id/122
// array(1) { [0]=> string(3) "122" } 
```

与上面一行相同（无 NULL，始终为数组）：

```
$id = (array)$this->getRequest()->getParam('id'); 
```

如果您希望 $id 是一个**字符串**（第**一个可用**值，保持 NULL 不变）

```
$id = $this->getRequest()->getParam('id');
if(is_array($id)) {
    $id = array_shift(array_values($id));
}

http://domain.com/module/controller/action/
// NULL

http://domain.com/module/controller/action/122/id/2584
// string(3) "122" 
```

如果您希望 $id 是一个**字符串**（**最后一个可用**值，保持 NULL 不变）

```
$id = $this->getRequest()->getParam('id');
if(is_array($id)) {
    $id = array_pop(array_values($id));
}

http://domain.com/module/controller/action/
// NULL

http://domain.com/module/controller/action/122/id/2584/id/52863
// string(5) "52863" 
```

也许有更短/更好的方法来修复 getParam 的这些“响应类型”，但如果您要使用上述脚本，为它创建另一种方法（扩展助手或其他东西）可能会更干净。

# visual-studio-2010 - 在每条指令后显示对寄存器的更改

> ID：15444865
> 
> 赞同：0
> 
> 时间：2013-03-16T02:18:52.353
> 
> 标签：visual-studio-2010, assembly, x86

在 Visual Studio 2010 中，是否可以单步执行汇编语言程序并在每条指令之后显示所有寄存器的更改？我已经知道可以使用“watch”选项观察几个不同的寄存器，但我想知道是否可以在每条汇编指令运行后显示每个已修改的寄存器。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-16T07:26:00.757

调试器中有一个特殊的寄存器窗口。只需在菜单中选择 Debug->Windows->Registers 使其可见。

当您单步执行汇编代码时，更改的寄存器将在每一步变为红色。

# objective-c - Applescript OBJC 中的 NSTimer 不起作用

> ID：15444866
> 
> 赞同：1
> 
> 时间：2013-03-16T02:19:26.230
> 
> 标签：objective-c, applescript, nstimer, applescript-objc

我不知道我做错了什么，我也不知道如何使用 NSTimer...我只是想运行一个简单的应用程序，当您单击运行时...它会循环脚本的一部分（这就是我我试图让 NSTimer 去做，然后当你点击停止时......它停止了

到目前为止，我有这个...

```
current application's NSTimer's timerWithTimeInterval_target_selector_userInfo_repeats_(1, me, "runOLEDWMESerial:", missing value, yes)
on runOLEDWMESerial_(sender)
    set player_active to false
    set theString to "Error;00:00:00:00"
    tell application "Finder"
        if (get name of every process) contains "NicePlayer" then set player_active to true
    end tell
    if player_active then
        try
            tell application "NicePlayer"
                if ((count of movies) is not 0) then
                    tell front playlist
                        set theName to name
                        set curSeconds to elapsed time as integer
                        set theSeconds to duration as integer
                        set theHours to theSeconds div 3600
                        set theSeconds to theSeconds - theHours * 3600
                        set theMinutes to theSeconds div 60
                        set theSeconds to theSeconds - theMinutes * 60
                        set theDuration to ""
                        if theHours > 0 then
                            if theHours < 10 then set theHours to "0" & theHours
                            set theDuration to theHours & ":"
                        end if
                        if theMinutes < 10 then set theMinutes to "0" & theMinutes
                        if theSeconds < 10 then set theSeconds to "0" & theSeconds
                        set theDuration to theDuration & theMinutes & ":" & theSeconds
                        set curHours to curSeconds div 3600
                        set curSeconds to curSeconds - curHours * 3600
                        set curMinutes to curSeconds div 60
                        set curSeconds to curSeconds - curMinutes * 60
                        set curTime to ""
                        if curHours > 0 then
                            if curHours < 10 then set curHours to "0" & curHours
                            set curDuration to curHours & ":"
                        end if
                        if curMinutes < 10 then set curMinutes to "0" & curMinutes
                        if curSeconds < 10 then set curSeconds to "0" & curSeconds
                        set curTime to curTime & curMinutes & ":" & curSeconds
                        set theString to theName & ";" & curTime & ";" & theDuration
                    end tell
                end if
            end tell
        on error errmsg
            set theString to "Error2;00:00;00:00"
        end try
    end if
    textName's setStringValue_(theName)
    textTime's setStringValue_(curTime & "/" & theDuration)
end runOLEDWMESerial_ 
```

是的，我确信我的代码很丑陋，但本质上这将通过串行端口发送数据，这是这里的主要目标，但是现在我只是想让窗口回显正在播放的内容......

因此，runOLEDWMESerial 与运行按钮相关联...当您单击运行按钮时，循环会触发一次，但随后会停止...如果我在 runOLEDWMESERIAL_(sender) 上的所有内容中添加重复并延迟（1）它可以工作，但在用户界面中也变得无响应，我无法阻止它......所以有人可以帮助我理解为什么 NSTimer 不起作用

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-21T04:07:00.650

我实际上想通了...我有它的反语... runOLEDWMESerial_ 是按钮...但是如果您这样做...我还必须删除 try 部分，因为它不允许它正常工作

```
on ClickButton_(sender)
    current application's NSTimer's timerWithTimeInterval_target_selector_userInfo_repeats_(1, me, "runOLEDWMESerial:", missing value, yes)
end Clickbutton_
    on runOLEDWMESerial_()
    set player_active to false
    set theString to "Error;00:00:00:00"
    tell application "Finder"
        if (get name of every process) contains "NicePlayer" then set player_active to true
    end tell
    if player_active then

        tell application "NicePlayer"
            if ((count of movies) is not 0) then
                tell front playlist
                    set theName to name
                    set curSeconds to elapsed time as integer
                    set theSeconds to duration as integer
                    set theHours to theSeconds div 3600
                    set theSeconds to theSeconds - theHours * 3600
                    set theMinutes to theSeconds div 60
                    set theSeconds to theSeconds - theMinutes * 60
                    set theDuration to ""
                    if theHours > 0 then
                        if theHours < 10 then set theHours to "0" & theHours
                        set theDuration to theHours & ":"
                    end if
                    if theMinutes < 10 then set theMinutes to "0" & theMinutes
                    if theSeconds < 10 then set theSeconds to "0" & theSeconds
                    set theDuration to theDuration & theMinutes & ":" & theSeconds
                    set curHours to curSeconds div 3600
                    set curSeconds to curSeconds - curHours * 3600
                    set curMinutes to curSeconds div 60
                    set curSeconds to curSeconds - curMinutes * 60
                    set curTime to ""
                    if curHours > 0 then
                        if curHours < 10 then set curHours to "0" & curHours
                        set curDuration to curHours & ":"
                    end if
                    if curMinutes < 10 then set curMinutes to "0" & curMinutes
                    if curSeconds < 10 then set curSeconds to "0" & curSeconds
                    set curTime to curTime & curMinutes & ":" & curSeconds
                    set theString to theName & ";" & curTime & ";" & theDuration
                end tell
            end if
        end tell
    end if
    textName's setStringValue_(theName)
    textTime's setStringValue_(curTime & "/" & theDuration)
end runOLEDWMESerial_ 
```

# c# - 验证远程 JSON 而非解析它

> ID：15444876
> 
> 赞同：0
> 
> 时间：2013-03-16T02:21:35.177
> 
> 标签：c#, json, jsonp, json.net

我正在使用**NewtonSoft.Json**解析器来解析远程 URL。

我的远程 JSON 示例如下

```
Kerberos.load({"todays" : "Fri, Mar 15",
    "datas" : [
            {
                "id" : "2021200303"
            }
            ]}); 
```

我正在解析 JSON 示例如下

```
using (var WebClient = new System.Net.WebClient())
{
    WebClient.Encoding = System.Text.Encoding.UTF8;

    var _Json = WebClient.DownloadString(_MyJsonRemoteURL_);

    _Json = _Json.Replace("Kerberos.load(", "");
    _Json = _Json.Replace("]});", "]}");

    dynamic _Dynamic = JsonConvert.DeserializeObject(_Json);
    foreach (var _JsonNode in _Dynamic.datas)
    {
        MessageBox.Show(_JsonNode.SelectToken("id").ToString());
    }
} 
```

那么，有没有办法在不使用**Replace**方法的情况下验证远程 JSON 字符串？

* * *

## 回答 #1

> 赞同：-2
> 
> 时间：2013-03-16T02:43:42.437

如果您想为 JSON 执行此操作，则很有可能，请查看[Contract testing a json service in .net](http://stacktoheap.com/blog/2012/10/31/contract-testing-a-json-service-in-net/)

在此处交叉发布代码以供快速参考，更多详细信息请查看链接

```
[Test]
public void ShouldBeAbleToValidateTheJSONServiceResponseForFunctionalityA()
{
    const string schemaJson = @"
{
    'description': 'Service Response',
    'type': 'object',
    'properties': {
        'product': {
            'type': 'object',
            'properties': {
                'availability': {
                        'type': 'array',
                        'items': {
                                    'type': 'object',
                                    'properties': {
                                                    'Local': { 'type' : 'number'},
                                                    'Storehouse': { 'type' : 'number'},
                                                } 
                                }
                    }
            }        
        }
    }
}";
    var parameters = new Dictionary<string, object> { { "id", 1 }, { "city", "Chennai" } };
    AssertResponseIsValidSchema(schemaJson, parameters);
} 
```

# php - PHP - 联系表单中不推荐使用 eregi

> ID：15444880
> 
> 赞同：0
> 
> 时间：2013-03-16T02:21:55.963
> 
> 标签：php

我有一个网站，其中有一个联系人。

`if (email_is_valid($youremail) && !eregi("\r",$youremail) && !eregi("\n",$youremail) && $yourname != "" && $yourmessage != "" && substr(md5($user_answer),5,10) === $answer)`

该站点已升级到 php 5.3，现在用户收到了已弃用的警告....

我不知道，并试图直接改变 pregmatch 但失败了......悲惨

请帮忙...

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-16T02:24:32.963

查看转换`eregi`为不推荐使用的 PHP 函数的建议方法：[与 POSIX regex](http://www.php.net/manual/en/reference.pcre.pattern.posix.php)的区别。

# jquery - 如何使用jQuery克隆表中的两列

> ID：15444883
> 
> 赞同：5
> 
> 时间：2013-03-16T02:22:21.963
> 
> 标签：jquery, html-table, clone

我正在尝试使用 jQuery 将表中的 2 列克隆到新表中。源表如下：

```
<table id="sourceT">
    <tr>
        <td>Col 1</td>
        <td>Col 2</td>
        <td>Col 3</td>
    </tr>
    <tr>
        <td>Col 1 - value</td>
        <td>Col 2 - value</td>
        <td>Col 3 - value</td>
    </tr>
</table>
<table id="targetT"></table> 
```

我尝试的是，

```
$("#sourceT").find("tr > td:nth-child(1), tr > td:nth-child(2)").each(function () {
    $("#targetT").append($("<tr></tr>").append($(this).clone()));
}); 
```

我只想将第一列和第二列复制到一个新表中

```
<table id="targetT">
    <tr>
        <td>Col 1</td>
        <td>Col 2</td>
   </tr>
    <tr>
        <td>Col 1 - value</td>
        <td>Col 2 - value</td>
   </tr>
</table> 
```

但是使用那些jquery，我只会得到如下所示；

```
<table id="targetT">
    <tr>
        <td>Col 1</td>
    </td>
    <tr>
        <td>Col 1 - value</td>
    </td>
    <tr>
        <td>Col 2</td>
    </td>
    <tr>
        <td>Col 2 - value</td>
    </td>
</table> 
```

我不想从源表中循环所有 tr 和 td。因为，我的源表将超过数千行和 50 多个列。有人有什么想法吗？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-03-16T02:33:17.353

我可能会做这样的事情：

```
var $target = $("#targetT");
$("#sourceT tr").each(function() {
    var $tds = $(this).children(),
        $row = $("<tr></tr>");
    $row.append($tds.eq(0).clone()).append($tds.eq(1).clone()).appendTo($target);
}); 
```

演示：http: [//jsfiddle.net/HwzQg/](http://jsfiddle.net/HwzQg/)

也就是说，循环遍历源表的每一行并复制所需的列。这样，所需列是否相邻无关紧要，如果您的需求发生变化，很容易更改代码以复制更多列。事实上，您可以轻松地将其封装在一个函数中，该函数将源表和目标表作为参数以及要复制的列号列表：

```
function copyColumns(srcTableId, targetTableId) {
    var colNos = [].slice.call(arguments,2),
        $target = $("#" + targetTableId);
    $("#" + srcTableId + " tr").each(function() {
        var $tds = $(this).children(),
            $row = $("<tr></tr>");
        for (var i = 0; i < colNos.length; i++)
            $row.append($tds.eq(colNos[i]).clone());
        $row.appendTo($target);
    });
}

copyColumns("sourceT", "targetT", 0, 1);
// NOTE that this allows you to easily re-order the columns as you copy them:
copyColumns("sourceT", "targetT", 1, 0, 2); 
```

这用于`arguments`让您将任意数量的列号作为单独的参数，但当然您可以修改它以接受列号数组。什么都适合你。

演示：http: [//jsfiddle.net/HwzQg/1/](http://jsfiddle.net/HwzQg/1/)

> *“我并不想循环源表中的所有 tr 和 td。因为，我的源表将有数千行和 50 多个列。”*

我不会担心源表的大小。代码先得到你需要的结果，如果性能不好再优化代码。您显示的代码有点隐式循环原始表两次，无论如何，`td:nth-child(1)`然后`td:nth-child(2)`。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2013-03-16T02:39:40.097

你可以使用这个：

```
$("#sourceT tr").each(function(index) {
    var newRow = $("<tr></tr>");
    $(this).find("td:lt(2)").each(function() {
        newRow.append($(this).clone());
    })
    $("#targetT").append(newRow);
}); 
```

工作演示：http: [//jsfiddle.net/jfriend00/JRwVN/](http://jsfiddle.net/jfriend00/JRwVN/)

或者更紧凑的版本，它使用更多的链接而不是`.each()`：

```
$("#sourceT tr").each(function(index) {
    var newRow = $("<tr></tr>");
    $(this).find("td:lt(2)").clone().appendTo(newRow);
    $("#targetT").append(newRow);
}); 
```

演示：http: [//jsfiddle.net/jfriend00/QRVfE/](http://jsfiddle.net/jfriend00/QRVfE/)

无论选择器如何，任何找到所需列的代码都将在表的每一行中查找。遍历 DOM（这些选择器操作就是这样做的）并不是一个缓慢的操作。缓慢的操作是创建新的 DOM 对象并将它们插入到 DOM 中，在您的情况下无法避免这种情况。

如果性能非常关键（在攻击它之前你应该证明它实际上是一个问题），实际上有时创建一个巨大的 HTML 字符串并将其一次性放入 DOM 比插入单个 DOM 对象更快。

如果性能很关键，那么在 Chrome、IE10 和 Firefox 中构建 HTML 字符串的版本似乎要快 20% 左右。它是这样工作的：

```
var newTable = "";
$("#sourceT tr").each(function(index) {
    newTable += "<tr>";
    $(this).find("td:lt(2)").each(function() {
        newTable += "<td>" + this.innerHTML + "</td>";
    });
    newTable += "</tr>";
});
$("#targetT").html(newTable); 
```

演示：http: [//jsfiddle.net/jfriend00/MDAKE/](http://jsfiddle.net/jfriend00/MDAKe/)

并且，比较最后两种方式的jsperf：http: [//jsperf.com/table-copy](http://jsperf.com/table-copy)

我确信还有其他方法可以提高性能（通常 jQuery 本身不会为您提供运行速度最快的代码）。

* * *

事实证明，删除所有 jQuery 会使其速度提高约 8-12 倍（取决于浏览器）：

```
var newTable = "";
var rows = document.getElementById("sourceT").rows;
for (var i = 0, len = rows.length; i < len; i++) {
    var cells = rows[i].cells;
    newTable += "<tr><td>" + cells[0].innerHTML + "</td><td>" + cells[1].innerHTML + "</td></tr>";
}
document.getElementById("targetT").innerHTML = newTable; 
```

演示：http: [//jsfiddle.net/jfriend00/7AJk2/](http://jsfiddle.net/jfriend00/7AJk2/)

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-03-16T02:29:48.207

尝试

```
$('#sourceT tr').clone().appendTo('#targetT')
$('#targetT tr').find('td :gt(1)').remove(); 
```

演示：[小提琴](http://jsfiddle.net/arunpjohny/QxFDL/)

或者

```
var clone = $('#sourceT tr').clone()
clone.find('td :gt(1)').remove();
clone.appendTo('#targetT') 
```

演示：[小提琴](http://jsfiddle.net/arunpjohny/QxFDL/1/)

我可能更喜欢 OR 部分，因为 dom 只更新一次

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-03-16T02:25:53.900

```
$('#sourceT tr')
        .clone()
        .find('td:gt(1)')
        .remove()
        .end()
        .appendTo('#targetT'); 
```

[http://jsfiddle.net/C7dKF/](http://jsfiddle.net/C7dKF/)

* * *

## 回答 #5

> 赞同：-1
> 
> 时间：2018-11-22T13:26:56.797

我有 goog 方式，如何玩列，我在这里写完整代码：

```
function add_column(copy, paste)
{
		$("."+copy+":first").clone().appendTo("."+paste);
		$("."+paste+" tr:last input").val('');
		$("."+paste+" tr:last select").val('');
		// and etc...
}

function remove_column(e, paste)
{
		var how = $("."+paste+" tr").length;
		if(how >= 2)
		{
				$(e).parent().parent().remove();
		} else {
				$("."+paste+" input").val('');
				$("."+paste+" select").val('');
				// and etc...
		}
}
```

```
<div class="tab-pane fade" id="atostogos">
										<div class="panel-body">

											<form action="" method="post" autocomplete="off">
											<div class="table-responsive">
												<table class="table table-striped table-bordered">
													<thead>
														<tr>
															<th width="30%">Priežastis</th>
															<th width="15%">Data nuo</th>
															<th width="15%">Data iki</th>
															<th width="30%">Pastabos</th>
															<th width="10%">Veiksmai</th>
														</tr>
													</thead>
													<tbody class="paste_place">
															<tr class="copy_item">
																	<td><input type="text" name="priezastis[]" class="form-control" placeholder="Įveskite..."/></td>
																	<td><input type="text" name="data_nuo[]" class="form-control datepicker" placeholder="Įveskite..."/></td>
																	<td><input type="text" name="data_iki[]" class="form-control datepicker" placeholder="Įveskite..."/></td>
																	<td><input type="text" name="pastabos[]" class="form-control" placeholder="Įveskite..."/></td>
																	<td><a onclick="add_column('copy_item', 'paste_place');"><i style="font-size: 20px;" class="icon-plus-circle2"></i></a> &nbsp;<a onclick="remove_column(this, 'paste_place');"><i style="font-size: 20px; color: red;" class="icon-minus-circle2"></i></a></td>
															</tr>
													</tbody>
												</table>
										</div>

										<div class="row" style="margin-top: 20px;">
												<div class="col-md-12">
														<div class="text-right">
															<button name="holidays_info" type="submit" class="btn btn-primary">Išsaugoti <i class="icon-arrow-right14 position-right"></i></button>
														</div>
												</div>
										</div>
									</form>

										</div>
									</div>
```

# android - 如何在android中启用动画

> ID：15444884
> 
> 赞同：0
> 
> 时间：2013-03-16T02:22:44.117
> 
> 标签：android, animation

我想在我的应用程序中动态启用动画，就像我们从设置>显示>动画>所有动画手动执行的操作一样。

我尝试了附加代码，但无济于事，

```
Settings.System.putInt(getContentResolver(), Settings.System.WINDOW_ANIMATION_SCALE, 1);
Settings.System.putInt(getContentResolver(), Settings.System.TRANSITION_ANIMATION_SCALE, 1); 
```

请帮忙

伊姆兰

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-16T04:26:14.330

// 声明动画

> 动画动画SlideInLeft，动画SlideOutRight；

// 现在我们给图像视图动画

```
 image1 = (ImageView)findViewById(R.id.image1);
   image2 = (ImageView)findViewById(R.id.image2);
   image3 = (ImageView)findViewById(R.id.image3);

   animationSlideInLeft = AnimationUtils.loadAnimation(this,
     android.R.anim.slide_in_left);
   animationSlideOutRight = AnimationUtils.loadAnimation(this,
     android.R.anim.slide_out_right);
   animationSlideInLeft.setDuration(1000);
   animationSlideOutRight.setDuration(1000);
   animationSlideInLeft.setAnimationListener(animationSlideInLeftListener);
   animationSlideOutRight.setAnimationListener(animationSlideOutRightListener);

   curSlidingImage = image1;
   image1.startAnimation(animationSlideInLeft);
   image1.setVisibility(View.VISIBLE); 
```

// 创建动画监听器

```
 AnimationListener animationSlideInLeftListener
 = new AnimationListener(){

  @Override
  public void onAnimationEnd(Animation animation) {
   // TODO Auto-generated method stub

   if(curSlidingImage == image1){
    image1.startAnimation(animationSlideOutRight);
   }else if(curSlidingImage == image2){
    image2.startAnimation(animationSlideOutRight);
   }else if(curSlidingImage == image3){
    image3.startAnimation(animationSlideOutRight);
   } 
  }

  @Override
  public void onAnimationRepeat(Animation animation) {
   // TODO Auto-generated method stub

  }

  @Override
  public void onAnimationStart(Animation animation) {
   // TODO Auto-generated method stub

  }}; 
```

// 并暂停清除监听器

```
 @Override
 protected void onPause() {
  // TODO Auto-generated method stub
  super.onPause();
  image1.clearAnimation();
  image2.clearAnimation();
  image3.clearAnimation();
 } 
```

[从这里参考](http://android-er.blogspot.in/2011/09/implement-slide-in-and-slide-out.html)

2.与此相同，您可以将 xml 添加到 res/anim/ 文件夹中

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-16T04:11:25.133

我认为，您可以为您的应用程序执行此操作。但如果您将其用于您的设备，则意味着您可以读取标志。如果它被禁用，您可以意图打开设置面板以由用户启用它。

来源： [动画启用](https://stackoverflow.com/questions/7529435/how-do-i-find-out-if-window-animations-are-enabled-in-settings)

# c# - 无法在 C# 中运行控制台应用程序

> ID：15444885
> 
> 赞同：0
> 
> 时间：2013-03-16T02:22:55.367
> 
> 标签：c#

我的朋友给了我一个控制台应用程序的 .exe 文件。通过一些试用软件，我得到了文件的代码。该文件夹的名称是 ConsoleApplication2。我制作了文件并将其粘贴在它下面。

现在，当我尝试调试时，我会收到类似的错误

```
..System.Data.DataRow
'System.Data.DataRow.ItemArray.get': cannot explicitly call operator or accessor
'System.Data.DataRow.this[int].get': cannot explicitly call operator or accessor    
'System.Data.DataRowCollection.this[int].get': cannot explicitly call operator or accessor 
```

对于很多很多行。

```
 table2.Rows.Add(row.get_ItemArray());
 if (table2.Rows.get_Count() != 0) 
```

这是线条的两个示例。我认为这条线是正确的。我刚刚犯了一些错误，例如在错误的类别下复制了代码。忘了改什么？？？

请你帮帮我。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-16T02:41:26.830

您正在尝试使用其“隐藏”访问器方法读取[属性的值。](http://msdn.microsoft.com/en-us/library/x9fsa0sw.aspx)这是不允许的。您应该像这样引用属性值：

```
table2.Rows.Add(row.ItemArray);
if (table2.Rows.Count != 0) 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-03-16T02:40:24.510

那是你的代码还是你从某个反编译器那里得到的？

get_ItemArray 是编译器生成的方法....

尝试删除 get_ 和 set_

* * *

您可以使用 ILSpy（[http://sourceforge.net/projects/sharpdevelop/files/ILSpy/2.0/ILSpy_Master_2.1.0.1603_RTW_Binaries.zip/download](http://sourceforge.net/projects/sharpdevelop/files/ILSpy/2.0/ILSpy_Master_2.1.0.1603_RTW_Binaries.zip/download)） “保存代码”

选择程序集并单击“文件->保存代码”，将其导出到项目中。

但是，为什么你不能得到源代码？是你的代码吗？它是您试图不为定制付费的产品吗？

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-16T04:02:13.230

```
I dont have the original code. I had the exe, i got it from a decompiler. 
```

从 RedGate下载[Reflector](http://www.reflector.net/)并安装[Denis Bauer 的 File Dissasembler](http://www.denisbauer.com/NETTools/FileDisassembler.aspx)插件。

将 EXE 加载到 Reflector > 单击 File Dissasemlber 按钮将 EXE 反编译回包含项目和源文件的解决方案。

# javascript - 尝试使用easeljs库在javascript中移动/动画容器

> ID：15444887
> 
> 赞同：0
> 
> 时间：2013-03-16T02:23:08.703
> 
> 标签：javascript, easeljs

我正在尝试调整[gamefromscratch](http://www.gamefromscratch.com/post/2012/12/17/Gamedev-Math-Handling-sprite-based-shooting.aspx%22)页面，展示如何处理基于精灵的射击。但我试图用容器中的位图替换精灵。我绊倒的地方是 onTick(delta) 的末尾，其中创建了一个图形对象，我不知道要替换的语法

```
 var g = new createjs.Graphics();
                g.setStrokeStyle(5);
                g.beginStroke(createjs.Graphics.getRGB(255,0,0));
                g.drawCircle(this.x,this.y,10);

                this.bulletGraphic = new createjs.Shape(g);
                stage.addChild(this.bulletGraphic);
            }
            bullets.push(bullet); 
```

使用适用于容器中位图的代码。感谢您的关注。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-17T16:14:34.647

对于仅使用位图而不是形状，您可以使用：

```
      this.bulletGraphic = new createjs.Bitmap('urlOrImage');
      stage.addChild(this.bulletGraphic);
    }
    子弹.push（子弹）；

```

如果您希望子弹位图另外位于容器中（无论出于何种原因）：

```
      this.bulletGraphic = new createjs.Container();
      this.bulletBitmap = new createjs.Bitmap('urlOrImage');
      this.bulletGraphic.addChild(this.bulletBitmap);
      stage.addChild(this.bulletGraphic);
    }
    子弹.push（子弹）；

```

* * *

**我的一点旁注（与您的问题相关的注释，但以防万一）：** 该页面上给出的代码示例很好地解释了该主题背后的数学，但在代码方面我不会将此作为一个很好的例子。对于子弹，您通常会创建一个新类，继承自`Shape`or `Bitmap`，此示例的作者使用普通对象并仅通过它引用图形资产（this.bulletGraphic）。所以如果你只是用它来学习数学，这很好，如果你想用它来创建一个真正的游戏，我建议你对代码进行相当多的重构，因为这会变得混乱很快。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-16T03:22:40.223

我相信您正在寻找 g.beginBitmapStroke() 来替换 g.drawCircle()

你可以在这里找到 EaselJS 文档：

[http://www.createjs.com/Docs/EaselJS/classes/Graphics.html#yui_3_8_0pr2_2_1363403850534_598](http://www.createjs.com/Docs/EaselJS/classes/Graphics.html#yui_3_8_0pr2_2_1363403850534_598)

# arrays - 仅检查特定索引处的数组

> ID：15444891
> 
> 赞同：0
> 
> 时间：2013-03-16T02:23:50.517
> 
> 标签：arrays, search

我想检查一个数组以查看某个值是否存在于特定索引中。我相信 in_array 不会工作，因为它会在整个数组中搜索一个值。我不想查看整个数组，但只搜索一个索引。

我的场景是，我有两个数组-arr1 和 arr2。我将循环 arr1。循环时我需要检查 arr1[id'] 中的值是否存在于 arr2['transId']

要搜索的数组（在我的示例中为 arr2）格式为 (Array[0]=>Array([transId]=>3 [name]=>ABC) [1]=>Array([transId]=>4 [名称]=>DEF))

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-16T02:31:04.043

看起来您可能必须遍历所有`$arr2`.

```
$found = FALSE;
foreach ($arr2 as $arr2_arr) {
  if ($arr2_arr['transid'] == $arr1['id']) {
    $found = TRUE;
    break;
  }
} 
```

# ruby-on-rails - 在 yaml 文件上编码访问和秘密 s3 时出错

> ID：15444892
> 
> 赞同：0
> 
> 时间：2013-03-16T02:23:57.567
> 
> 标签：ruby-on-rails, encoding, yaml

为了避免在 yml 文件上传递访问密钥和秘密 aws 访问权限，我使用以下内容：

```
development:
  bucket: development
  access_key_id: <%= ENV["S3_KEY"] %>
  secret_access_key: <%= ENV["S3_SECRET"] %> 
```

然后在运行时出现错误

```
Could not log "sql.active_record" event. ArgumentError: invalid byte sequence in UTF-8
PG::Error: ERROR:  invalid byte sequence for encoding "UTF8": 0xe7 0xe3 0x6f 
```

如果我直接在 yml 上写我的访问密钥和秘密，例如：

```
development:
  bucket: development
  access_key_id: MYACCESSKEY
  secret_access_key: MYSECRETKEY 
```

它进展顺利。

为什么会发生此错误？如何在不将我的密钥和秘密加载到 yml 文件的情况下修复它？

**编辑**

要将环境变量加载到开发中，我使用的是[此处解释的解决方案](https://stackoverflow.com/a/11765775/1461972)

```
# Load the app's custom environment variables here, so that they are loaded before environments/*.rb
app_environment_variables = File.join(Rails.root, 'config', 'app_environment_variables.rb')
load(app_environment_variables) if File.exists?(app_environment_variables) 
```

这可能是加载过程的问题吗？

**编辑 2**

同时，我尝试记录似乎在我的 S3_CONFIG 变量上的内容，其中加载了：

配置/初始化程序/load_config.rb

```
S3_CONFIG = YAML.load_file("#{::Rails.root}/config/s3.yml")[Rails.env] 
```

我明白了

```
S3 Config: {"bucket"=>"mybucket", "access_key_id"=>"<%= ENV[\"S3_KEY\"] %>", "secret_access_key"=>"<%= ENV[\"S3_SECRET\"] %>"} 
```

不是应该已经加载环境密钥了吗？这可能是我的问题吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-17T18:15:35.087

当我从 S3 下载文件时发生了这个问题：

```
s3=AWS::S3.new(
      access_key_id: S3_CONFIG["access_key_id"],
      secret_access_key: S3_CONFIG["secret_access_key"]) 
```

并且`S3_CONFIG["access_key_id"]`只是一个字符串`<%= ENV[\"S3_KEY\"] %>`。

我对此的解决方案是使用

```
s3=AWS::S3.new(
      access_key_id: ENV['S3_KEY'],
      secret_access_key: ENV['S3_SECRET']) 
```

猜猜有时一个人只需要了解他在做什么，然后再粘贴几行代码......

# linux - 如何找到我当前所在的 Linux 目录的根目录

> ID：15444893
> 
> 赞同：0
> 
> 时间：2013-03-16T02:24:25.430
> 
> 标签：linux, shell

就像如果我在一个名为 makefile_assignment 的目录中，什么命令会给我更高的目录并显示它

/home/linux/ieng6/cs80w/public/makefile_assignment

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-16T02:26:33.433

我相信您正在寻找：

```
pwd 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-16T02:26:44.983

只是 $PWD 的环境变量

```
echo $PWD 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-16T02:26:58.400

该`pwd`命令是您正在寻找的。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-16T02:26:22.620

命令是`pwd`（当前工作目录）。

通常，`echo $PWD`也可以工作并产生相同的答案。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-03-16T02:31:55.900

```
pwd #present working directory
cd / #to your root directory 
```

# bash - 在执行前向字符串添加引号？

> ID：15444899
> 
> 赞同：1
> 
> 时间：2013-03-16T02:25:21.707
> 
> 标签：bash

所以我有一个代表路径的字符串：

```
string="/Volumes/Media/James Blake - Digital Lion [V0] 2013" 
```

我想执行：

```
cd $string

#do some work.. 
```

这是行不通的，因为该目录包含 bash 不喜欢的空格和括号。

所以我的第一个想法是将字符串更改为：

```
/Volumes/Media/James\ Blake\ -\ Digital\ Lion\ \[V0\]\ 2013/ 
```

然而在终端只是做：

```
cd "/Volumes/Media/Transmission/Finished/James Blake - Digital Lion [V0] 2013" works just fine. 
```

所以我想知道有没有办法在字符串的每一端添加引号并实际使用引号执行命令？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-16T02:27:46.107

`cd "$string"`

始终用引号将变量括起来（除非有充分的理由不这样做），因为它可以帮助您避免这种确切的情况。

# java - BasicPopupMenuUI 错误

> ID：15444902
> 
> 赞同：1
> 
> 时间：2013-03-16T02:25:33.137
> 
> 标签：java, swing, popupmenu

我正在尝试为 Swing 制作自己的菜单 UI，但遇到了一个错误。我的类扩展`BasicPopupMenuUI`并包含以下代码：

```
public static ComponentUI createUI(JComponent c) {
        return new ShadowMenuUI();
    }

    public Popup getPopup(JPopupMenu popup, int x, int y) {
        Popup pp = super.getPopup(popup, x, y);
        JPanel panel = (JPanel) popup.getParent();
        panel.setBorder(new ShadowBorder(3, 3));
        panel.setOpaque(false);
        return pp;
    } 
```

如果你想知道，`ShadowBorder`我有一个类可以扩展`AbstractBorder`和绘制我想要的阴影。当我开始申请时，我做的第一件事就是

```
 UIManager.put("PopupMenuUI", "ShadowMenuUI"); 
```

然后我继续创建我的 GUI，并设置 L&F（我在这个应用程序中使用 Nimbus。）那么有没有人看到我做错了什么，或者是否有更好的方法来做我正在做的事情？

编辑：我得到的错误是

```
UIDefaults.getUI() 失败：没有 ComponentUI 类：
    javax.swing.JPopupMenu[,0,0,0x0,invalid,layout=javax.swing.plaf。
        basic.DefaultMenuLayout,alignmentX=0.0,alignmentY=0.0,border
        =com.apple.laf.AquaMenuBorder@165262ce,flags=8,maximumSize=,
        minimumSize=,preferredSize=,desiredLocationX=0,
        desiredLocationY=0,label=System,lightWeightPopupEnabled=true
        ,margin=,paintBorder=true]
java.lang.错误

```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-16T02:36:52.373

发现我的问题！！！很抱歉打扰你，但我的问题是当我放 ShadowMenuUI 时，我忘了包含包！

# c# - 具有多个泛型类型参数的类型推断

> ID：15444905
> 
> 赞同：5
> 
> 时间：2013-03-16T02:26:02.557
> 
> 标签：c#, generics, extension-methods

我不明白为什么 C# 在以下完整情况下不推断类型：

```
public interface IThing {}

public class Thing1 : IThing {}

public class Thing2 : IThing {}

public interface IContainer {}

public class Container1 : IContainer
{
    public IThing A { get { return new Thing1(); } }
    public IThing B { get { return new Thing2(); } }
}

public class Container2 : IContainer
{
    public IThing C { get { return new Thing1(); } }
    public IThing D { get { return new Thing2(); } }
}

public class SomeClass
{
    public void PerformTask() {}
}

public static class ExtensionMethods
{
    // This function behaves as I would expect, inferring TContainer
    public static TContainer DoStuffWithThings<TContainer>(this TContainer container, Func<TContainer, IThing> getSomething, Func<TContainer, IThing> getSomethingElse) 
        where TContainer : IContainer
    {
        var something = getSomething.Invoke(container);
        var somethingElse = getSomethingElse.Invoke(container);

        // something and something else are the things we specify in our lambda expressions with respect to the container

        return container;
    }

    // The method in question
    public static TCustomReturnType DoStuffWithThings<TContainer, TCustomReturnType>(this TContainer container, Func<TContainer, IThing> getSomething, Func<TContainer, IThing> getSomethingElse)
        where TContainer : IContainer
        where TCustomReturnType : new()
    {
        var something = getSomething.Invoke(container);
        var somethingElse = getSomethingElse.Invoke(container);

        // Do stuff with the things just as above

        // This time we return our custom type
        return new TCustomReturnType();
    }
}

public class Driver
{
    public static void Main(string[] args)
    {
        var container1 = new Container1();
        var container2 = new Container2();
        // I can do stuff with the things for each container, returning the container each time.

        container1.DoStuffWithThings(c => c.A, c => c.B)
                  .DoStuffWithThings(c => c.B, c => c.A);

        container2.DoStuffWithThings(c => c.C, c => c.D)
                  .DoStuffWithThings(c => c.D, c => c.C);

        // Now we try to do the same but with the custom return type
        container1.DoStuffWithThings<Container1, SomeClass>(c => c.A, c => c.B)
            .PerformTask();
        // As you can see, the compiler requires us to specify Container1 as the container type.
        // Why is it not inferred? It is called from an instance of Container1.
        // The behavior I expect is for container1.DoStuffWithThings<SomeClass>(...) to infer
        // the container type and return a new instance of SomeClass.
    }
} 
```

基本思想是，当只有一个泛型类型参数时，编译器会推断类型。当我添加第二个时，编译器也不会推断（它显然无法推断出第二个，但我不确定为什么它不能推断出第一个）。我的问题是为什么没有推断出容器的类型？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-03-16T02:38:49.533

原因是第二个类型参数它没有在任何函数参数中使用。因此，无法仅从参数使用中推断出它的类型。

如果你有这样的方法签名（显然不等同于你的代码，只是一个例子）：

```
public static TResult DoStuffWithThings<TContainer, TResult>(
    this TContainer container,
    Func<TContainer, TResult> getSomething) 
```

然后它将*能够*从参数中推断出泛型类型。

如果您想避免指定第一个参数，您可以将方法拆分为两个函数并在泛型类型中隐藏中间参数，如下所示：

```
public static IntermediateResult<T> DoStuffWithThings<T>(this T container)

public class IntermediateResult<T>
{
    public WithReturnType<TResult>()
} 
```

然后它调用为

```
var result = container.DoStuffWithThings().WithReturnType<Result>(); 
```

# erlang - “string_to_term/1”？

> ID：15444909
> 
> 赞同：3
> 
> 时间：2013-03-16T02:26:21.297
> 
> 标签：erlang, type-conversion

Erlang 中是否有任何具有这种行为的功能？：

```
a_function_id_like_to_have("{1,2,{3,4}}") % => {1,2,{3,4}} 
```

（就像`read`在 Haskell 中一样）

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-03-16T03:00:53.610

看看[这个演示文稿](http://www.slideshare.net/dennisbyrne/dsls-in-erlang-presentation)的幻灯片 25 。

它利用[`erl_eval`](http://www.erlang.org/doc/man/erl_eval.html#expr-2),[`erl_parse`](http://www.erlang.org/doc/man/erl_parse.html#parse_exprs-1)和[`erl_scan`](http://www.erlang.org/doc/man/erl_scan.html#string-1).

```
1> {ok, Tokens, _} = erl_scan:string("{1,2,{3,4}}.").
{ok,[{'{',1},
     {integer,1,1},
     {',',1},
     {integer,1,2},
     {',',1},
     {'{',1},
     {integer,1,3},
     {',',1},
     {integer,1,4},
     {'}',1},
     {'}',1},
     {dot,1}],
    1}
2> {ok, Abstract} = erl_parse:parse_exprs(Tokens).
{ok,[{tuple,1,
            [{integer,1,1},
             {integer,1,2},
             {tuple,1,[{integer,1,3},{integer,1,4}]}]}]}
3> Bindings = erl_eval:new_bindings().
[]
4> {value, Value, _} = erl_eval:exprs(Abstract, Bindings).
{value,{1,2,{3,4}},[]}
5> erlang:display(Value).
{1,2,{3,4}}
true 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2014-06-09T16:48:17.187

您可以简单地使用[`erl_scan:string/1`](http://www.erlang.org/doc/man/erl_scan.html#string-1)and [`erl_parse:parse_term/1`](http://www.erlang.org/doc/man/erl_parse.html#parse_term-1)。

```
string_to_term(Str) ->
    {ok, Tokens, _} = erl_scan:string(Str),
    {ok, Term} = erl_parse:parse_term(Tokens),
    Term. 
```

确保`Str`点终止。

# php - 使用 Mysqli：有没有办法不必每次查询都连接到数据库？

> ID：15444915
> 
> 赞同：3
> 
> 时间：2013-03-16T02:27:00.307
> 
> 标签：php, mysql, sql, database, mysqli

我刚刚开始使用`MYSQLi`而不是`MYSQL`，我遇到了一个巨大的烦恼：每个查询都必须连接到数据库等等。当我没有在旧的 MYSQL 中时，为什么我现在必须这样做？或者有没有办法不必这样做？

几个例子：

mysql：

```
mysql_query("SELECT id FROM table"); 
```

现在在 Mysqli 我总是要做：

```
mysqli_query($db, "SELECT id FROM table"); 
```

我也必须这样做：

```
mysqli_last_id($db); 
```

和

```
mysqli_real_escape_string($db); 
```

我整晚都试图找到这个问题的答案，但我找不到任何东西。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-16T06:20:45.493

有一些事情需要澄清

1.  您不必每次都**连接。**连接到数据库是另一回事，当您调用 mysqli_connect() 时，您应该每个应用程序只执行**一次。**
2.  所以，你说的只是使用连接**资源**变量。
3.  是的，您必须在每个函数中传递它。没什么大不了的，没什么好说的。
4.  唯一的问题可能是变量范围。在函数内部使用`global $db;`。
5.  机械地迁移到 mysqli，以旧方式使用新功能**绝对没有意义。**如果您想在应用程序代码中继续使用 mysqli_real_escape_string - 根本不用担心转换并继续使用 mysql。
6.  移动的唯一原因（虽然很弱） - 使用准备好的语句。
7.  Mysqli 对预处理语句的支持很糟糕
8.  所以，最好退出 mysqli 并去[PDO](https://stackoverflow.com/tags/pdo/info)
9.  然而，使用原始 API 函数，无论是 mysql、mysqli 还是 PDO，都很难看。必须采用一些**抽象库**来代替在应用程序代码中使用。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-16T05:01:57.300

是的，不要使用 mysql_* 函数，它们已被弃用。改用 PDO

[http://www.php.net/manual/es/pdo.construct.php](http://www.php.net/manual/es/pdo.construct.php)

```
$pdo = new PDO(/* Connection options */);

$rows = $pdo->query("SELECT * FROM table")->fetchAll(PDO::FETCH_OBJ);

foreach ($rows as $row) {
   print_r($row);
}

$pdo->query("INSERT INTO table SET field1 = 'value1'"); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-20T18:14:42.293

尝试[使用 PHP 的 MySQL 的 DALMP 数据库抽象层。](http://dalmp.readthedocs.org/en/latest)它使用纯 mysqli 并仅在需要时连接到数据库，尽可能从缓存中获取结果，而不接触数据库。

可以在此处找到使用缓存的示例[Cache & Prepared statements](http://dalmp.readthedocs.org/en/latest/cache.html)

# embedded - Initrd, Ramdisk, Initramfs, uclinux

> ID：15444917
> 
> 赞同：3
> 
> 时间：2013-03-16T02:27:20.463
> 
> 标签：embedded, embedded-linux, u-boot, uclinux

我正在冷火板 M5272C3 上进行 uclinux 移植。现在，我的内核从 RAM 运行，并使用 romfs 作为我的根文件系统。我不清楚几个术语的含义以及何时使用它们....

请以最简单的方式向我解释：

Q1：什么是initrd？为什么我们需要那个？

Q2：什么是内存盘？为什么以及在哪里需要这个？

Q3：什么是initramfs？我们为什么以及在哪里使用它？

Q4：什么是 ramfs？我们为什么以及在哪里使用它？

另请参阅文档/参考书以深入了解这些术语....

谢谢 Phogat

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-03-16T03:05:53.707

A`ramdisk`仅指内存中的磁盘映像。它是使用`ramfs`内核中的 VFS 驱动程序实现的。ramdisk 的内容将在下次重新启动或重启时被擦除。

接下来我将给你详细`initrd`介绍`initramfs`。

简单来说，`initrd`和都`initramfs`指代早期用户空间`root filesystem`（aka `rootfs`），它可以让您在内存中运行非常小的文件系统。

出现在 linux 内核源代码树的一部分的文档[`Documentation/filesystems/ramfs-rootfs-initramfs.txt`](https://www.kernel.org/doc/Documentation/filesystems/ramfs-rootfs-initramfs.txt)，它也会给你一个关于这些是什么的详细描述。

**是什么`initrd`？**

需要这种早期文件系统的一种常见情况是为硬盘控制器加载驱动程序模块。如果驱动器存在于硬盘驱动器上，这将成为一个先有鸡还是先有蛋的问题。将这些驱动程序作为早期 rootfs 的一部分有助于内核加载任何检测到的硬盘控制器的驱动程序，然后才能从硬盘驱动器挂载实际的根文件系统。此问题的另一个解决方案是将所有驱动程序模块都内置到内核中，但是您将通过这种方式增加内核二进制文件的大小。这种文件系统映像通常称为`initrd`. 它是使用`ramfs`或实现的`tmpfs`。它使用环回块设备进行模拟。

引导加载程序将内核映像加载到一个内存地址，将 initrd 映像加载到另一个内存地址，并告诉内核在哪里可以找到 initrd，将引导参数传递给内核，并将控制权传递给内核以使其继续引导过程.

**那么它与`initramfs`那时有什么不同呢？**

`initramfs``initrd`与内置在内核中（当然由内核配置控制）相比，它是一个更早阶段的文件系统。

据我所知，两者`initrd`都由`initramfs`这个单一的内核配置控制，但在最近的内核中它可能已经改变了。

```
config BLK_DEV_INITRD 
```

我不会深入探讨如何构建自己的 initramfs，但我可以告诉你它只是使用`cpio`格式来存储文件，并且可以`usr/Kconfig`在构建内核时使用它进行配置。即使您没有指定自己的 initramfs 映像，而是打开了对 initramfs 的支持，内核也会自动嵌入一个非常简单`initramfs`的包含`/dev/console`，`/root`以及其他一些文件/目录。

此外，还有一个更新的`tmpfs`文件系统，通常用于实现内存中的文件系统。事实上，较新的内核`initrd`使用 using`tmpfs`而不是`ramfs`.

**更新：**

刚刚偶然发现了[一个类似的问题](https://stackoverflow.com/questions/10603104/the-difference-between-initrd-and-initramfs)

[这](https://stackoverflow.com/questions/4192736/why-is-the-root-filesystem-is-loaded-into-a-ramdisk)也可能有用

# solr - 关于 Apache Solr 索引的一些问题

> ID：15444918
> 
> 赞同：2
> 
> 时间：2013-03-16T02:27:44.677
> 
> 标签：solr, drupal-7, centos5

我已经在我的服务器上的 xampp for linux 上安装了 Solr 3.6.2 和 drupal 7。我还安装了 solr 集成模块 apachesolr-7.x-1.1.zip

1）当我索引一个文件时说 book.csv 这个文件在哪里存储在 solr 中。（path_to 文件夹名称？？）

2）要知道被索引的文件总数以及被索引的文件名？

3) 我无法理解 solr 的查询语法？什么是 q ，wt ，每个解析器的各种解析器和含义是什么？

4）我如何找到被索引的文件的路径？假设我有一个已编入索引的文件，当我进行查询搜索时，它应该返回该文件的路径名，以便我可以打开该文件供用户查看。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-16T06:41:47.550

1) 4) 上传的文件被拆分成文件；文件被**拆开**并放入索引中。它类似于世界书籍的索引卷：“相对论”可能指向“现代物理学”的“M”卷和“爱因斯坦”的“E”卷。或者一本按税级对纳税人进行分类的书。

此行为由模式中的`stored`和`indexed`属性控制。

数据进入`data`solr 目录（旁边`conf`）。您可以通过复制来备份此目录。

2) [http://wiki.apache.org/solr/CommonQueryParameters](http://wiki.apache.org/solr/CommonQueryParameters)和[http://wiki.apache.org/solr/SimpleFacetParameters](http://wiki.apache.org/solr/SimpleFacetParameters)。特别使用`fl`

3）请自己尝试solr。您可以立即启动并尝试查询。

# mongodb - 修改和重放 MongoDB oplog

> ID：15444920
> 
> 赞同：52
> 
> 时间：2013-03-16T02:27:48.853
> 
> 标签：mongodb

是否可以修改 MongoDB oplog 并重播它？

一个错误导致更新应用于比预期更多的文档，覆盖了一些数据。数据已从备份中恢复并重新集成，因此实际上没有丢失任何内容，但我想知道是否有办法修改 oplog 以删除或修改有问题的更新并重播它。

我对 MongoDB 内部没有深入的了解，因此类似“你不明白它是如何工作的，就是这样”的信息性答案也将被考虑接受。

* * *

## 回答 #1

> 赞同：108
> 
> 时间：2013-03-16T15:55:44.093

应用程序或人为错误数据损坏的大问题之一是对主服务器的违规写入将立即复制到辅助服务器。

这是用户利用“slaveDelay”的原因之一 - 一个以固定时间延迟运行您的辅助节点之一的选项（当然，只有在您发现错误或错误的时间段内小于该次要延迟）。

如果您没有这样的设置，您必须依靠备份来重新创建您需要恢复到它们的预错误状态的记录的状态。

在数据的单独独立副本上执行所有操作 - 只有在验证所有内容都已正确重新创建之后，您才能将更正的数据移动到您的生产系统中。

能够做到这一点需要一个最近的备份副本（假设备份是 X 小时前的），并且集群上的 oplog 必须保存超过 X 小时的数据。我没有指定哪个节点的 oplog，因为（a）副本集的每个成员在 oplog 中具有相同的内容，并且（b）您的 oplog*大小*可能在不同的节点成员上不同，在这种情况下您要检查“最大”的一个。

因此，假设您最近的备份是 52 小时前的，但幸运的是，您有一个包含 75 小时数据的 oplog（耶）。

您已经意识到您的所有节点（主节点和辅助节点）都有“坏”数据，因此您要做的就是将此最新备份还原到新的 mongod 中。在这里，您可以将这些记录恢复到有问题的更新之前的状态 - 然后您可以将它们移动到当前主节点，然后将它们复制到所有辅助节点。

恢复备份时，通过以下命令创建 oplog 集合的 mongodump：

`mongodump -d local -c oplog.rs -o oplogD`

将 oplog 移动到它自己的目录，将其重命名为 oplog.bson：

```
mkdir oplogR
mv oplogD/local/oplog.rs.bson oplogR/oplog.bson 
```

现在您需要找到“违规”操作。您可以使用 oplogR/oplog.bson 文件上的命令将 oplog 转储为人类可读的形式`bsondump`（然后使用 grep 或其他方法来查找“错误”更新）。或者，您可以通过shell 中的`use local`和命令查询副本集中的原始 oplog 。`db.oplog.rs.find()`

您的目标是找到此条目并记下其`ts`字段。

它可能看起来像这样：

`"ts" : Timestamp( 1361497305, 2789 )`

请注意，该`mongorestore`命令有两个选项，一个被调用`--oplogReplay`，另一个被调用`oplogLimit`。您现在将在恢复的独立服务器上重播此 oplog，但您将在此违规更新操作之前停止。

该命令将是（主机和端口是您新恢复的备份所在的位置）：

`mongorestore -h host --port NNNN --oplogReplay --oplogLimit 1361497305:2789 oplogR`

这将从 oplogR 目录中的 oplog.bson 文件中恢复每个操作，该文件在具有 ts 值 Timestamp(1361497305, 2789) 的条目之前停止。

回想一下，您在单独的实例上执行此操作的原因是您可以验证还原和重放创建的正确数据 - 一旦您验证了它，您就可以将还原的记录写入真实主数据库中的适当位置（并允许复制传播将更正的记录发送到辅助服务器）。

# msbuild - 如何使用库获得“复制输出”以复制到程序集的输出？

> ID：15444921
> 
> 赞同：0
> 
> 时间：2013-03-16T02:28:04.580
> 
> 标签：msbuild, mono, monodevelop

因此，在最不明确的问题标题中，我试图描述的是这样一种情况：

*   项目 A，将“复制输出”设置为“仅在较新时”（或“始终”，在这种情况下无关紧要）的文件。
*   项目 B 将项目 A 作为依赖项。

标记为“复制输出”的文件仅被复制到项目 A 的输出目录，但我也希望将它们复制到项目 B，因为项目 B 依赖于它们。

有没有办法在保持 MonoDevelop 兼容性的同时做到这一点？（MonoDevelop 不使用 MSBuild 或 Mono 的等效程序进行实际构建，因此任何解决方案都必须是不使用自定义 MSBuild 步骤的解决方案）

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-18T13:18:45.883

我对 Mono 不是很熟悉。“构建后事件”在那里工作吗？

在 ProjectA 的属性中，转到属性。转到“构建事件”

添加此事件：

```
copy $(TargetDir)ProjectAAssemblyName.dll $(ProjectDir)..\ProjectBThirdPartyReferences\ProjectAAssemblyName.dll 
```

然后在 ProjectB 内部，引用 \ProjectBThridPartyReferences\ProjectAAssemblyName.dll

您可能需要稍微调整路径。

我的建议是不要将 ProjectAAssemblyName.dll 复制到 ProjectB 的 \bin\ 文件夹中。

…………

# backbone.js - 将骨干与 sequelize/postgres 一起使用

> ID：15444931
> 
> 赞同：1
> 
> 时间：2013-03-16T02:30:28.613
> 
> 标签：backbone.js

我正在努力在主干中创建一个模型来与我的 postgres 数据库进行交互。我在客户端使用backbone.js，在服务器端使用node.js/sequelize.js。主干教程中给出的代码是这样说的：

```
 var UserModel = Backbone.Model.extend({
    urlRoot: '/user',
    defaults: {
        name: '',
        email: ''
    }

}); 
```

在这里，他们使用 RESTful url 与用户 sql 数据库进行交互（我不知道那是什么）。有谁知道如何参考我的 postgres 表？我非常困惑，不知道发生了什么（这对我来说真的很新鲜）

谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-16T02:40:09.807

RESTful URL 只是使用 RESTful 原则的 Web 服务的 URL。Google 可以比我在这里更好地解释这一点，但基本思想是将各种 REST“动词”（GET、POST、DELETE 等）集成到 API 中。例如，下面是一组 RESTful 动词 + 用于虚构用户 API 的 url：

```
GET    /user   - returns a list of users
POST   /user   - creates a new user
DELETE /user/5 - deletes the user with ID 5
PUT    /user/5 - updates/edits the user with ID 5 
```

如果您的服务器端设计相似，Backbone 会特别好用，但这不是必需的。

如果您的服务器端 API 不是 RESTful，您只需覆盖模型和集合上的某些方法（很可能`destroy`是 、`fetch`、`save`、`url`、`parse`、`sync`和`toJSON`），以执行适合您服务器的任何操作。

例如，您可能希望覆盖`url`模型的方法以使其返回服务器的（非 RESTful）URL：

```
url: function() {
    return 'www.example.com/some/very/not/RESTful/' + this.id + '/URL/example';
} 
```

或者，如果您的服务器返回带有“信封”的对象，例如：

```
{
    type: 'envelope',
    payload: {
        type: 'user',
        name: 'Bob',
        id: 5,
    }
} 
```

您可以修改 parse 以将其删除：

```
parse: function(original) {
    return original.payload;
} 
```

至于“我如何引用我的 postgres 表”，如果您覆盖了适当的方法，然后在您的模型和集合上调用适当的 Backbone 操作方法 ( `fetch`// `save`) `destroy`，Backbone 将向您在`url`覆盖中定义的 URL 发出 AJAX 请求. 然后，您的服务器可以使用您想要解释该请求的任何语言并在您的 PostgreSQL 数据库上执行适当的操作。

# cakephp - CakePHP：修改相关表的条目

> ID：15444937
> 
> 赞同：0
> 
> 时间：2013-03-16T02:32:22.597
> 
> 标签：cakephp

我仍然在使用 CakePHP 进行开发，但是我遇到了一个小障碍。

**问题：**基本上我有评论的帖子。我想做的是将最近更新的帖子显示在其索引页面的顶部（因此，当向帖子添加新评论时，如果它是最新的，它会将其推到顶部）。

我正在考虑通过在 Post 表中添加一个名为“updated”之类的时间戳来实现这一点。然后，每当添加新评论时，都会修改帖子的更新字段。然后在索引上，我根据更新的时间戳显示帖子。

那会是最好的方法吗？如果是这样，我将如何从 Comment 控制器修改 Posts 表中的该条目？或者我会在评论的视图中这样做吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-16T03:41:24.637

如果您的 SQL 表中有名为“created”和“modified”的列，CakePHP 将在您保存数据时自动处理时间戳。然后，您可以按最近修改的顺序在控制器和视图中对结果进行排序。

```
class PostsController extends AppController {
    public function index() {
        $posts = $this->Post->find('all', array(
            //Use ASC or DESC for ordering
            'order' => array('modified' => 'DESC')
        ));
        $this->set('posts', $posts);
    }
} 
```

在您的控制器中尝试该代码，然后您可以使用 debug($posts); 在控制器或您的视图中查看结果。无论如何，文档有大量关于如何做这些事情的信息。

[CakePHP - 检索您的数据](http://book.cakephp.org/2.0/en/models/retrieving-your-data.html)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-16T06:51:14.393

您可以使用 Comment 模型的 afterSave 回调来更新时间戳。

但我认为最好的方法是使用控制器中的 $this->[model]->saveAssociated() 方法。通过在您的评论提交中具有以下结构，您可以 `$this->Comment->saveAssociated($params);`从您的评论控制器中调用。

```
 //we know the Post.id
    $params => array(
       [Comment] => array(
                     'comment'=>'comment text',
                     'commented_by'=>'comment owner_id',
                   ),
       [Post] => array(
                     'id'=>1,
                     'commented_on'=>date('Y-m-d H:i:s')
                 )
    ) 
```

# php - Node.js 和 sha1

> ID：15444942
> 
> 赞同：5
> 
> 时间：2013-03-16T02:32:56.383
> 
> 标签：php, node.js, cryptography, base64, sha1

[http://www.php.net/manual/en/function.sha1.php](http://www.php.net/manual/en/function.sha1.php)

```
string sha1 ( string $str [, bool $raw_output = false ] ) 
```

如果可选的 raw_output 设置为 TRUE，则 sha1 摘要以长度为 20 的原始二进制格式返回，否则返回值为 40 个字符的十六进制数。

* * *

```
crypto = require("crypto");
console.log( new Buffer(crypto.createHash('sha1').update("some text").digest()).toString('base64') );
// N8KqY8OHc8KYw5lURzJiw6HCoAV8HmMuw5p3
console.log( new Buffer(crypto.createHash('sha1').update("some text").digest("hex")).toString('base64') );
// MzdhYTYzYzc3Mzk4ZDk1NDQ3MzI2MmUxYTAwNTdjMWU2MzJlZGE3Nw==
console.log( new Buffer(crypto.createHash('sha1').update("some text").digest("base64")).toString('base64') );
// TjZwangzT1kyVlJITW1MaG9BVjhIbU11Mm5jPQ== 
```

* * *

```
<?php
echo base64_encode(sha1("some text"));
// MzdhYTYzYzc3Mzk4ZDk1NDQ3MzI2MmUxYTAwNTdjMWU2MzJlZGE3Nw==
echo base64_encode(sha1("some text", true)); // <-- how to reproduce it on the nodejs?
// N6pjx3OY2VRHMmLhoAV8HmMu2nc=
?> 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-03-16T02:36:14.327

```
> crypto.createHash('sha1').update("some text").digest('base64')
'N6pjx3OY2VRHMmLhoAV8HmMu2nc=' 
```

# python - 在 Python 3 中将字符串转换为 int 或 float？

> ID：15444945
> 
> 赞同：10
> 
> 时间：2013-03-16T02:33:24.890
> 
> 标签：python, string, python-3.x, integer, double

```
 integer = input("Number: ")
 rslt = int(integer)+2
 print('2 + ' + integer + ' = ' + rslt)
 double = input("Point Number: ")
 print('2.5 + ' +double+' = ' +(float(double)+2.5)) 
```

给我

```
Traceback (most recent call last):
  File "C:\...", line 13, in <module>
    print('2 + ' + integer + ' = ' + rslt)
TypeError: Can't convert 'int' object to str implicitly 
```

我对编程很陌生，到目前为止，我的背景主要是 C# 的基础知识。我想尝试通过在 Python 上完成所有 C# 学校项目来学习 Python。我习惯了 C# 的简单语法，看起来像这样：

```
int integer = Convert.ToInt32(Console.ReadLine()) 
```

或者

```
double double = Convert.ToDouble(Console.ReadLine()) 
```

它接受用户输入字符串并将其转换为我指定的内容。

我想我读过 py2.x 有一个名为 raw_input 的命令，在这方面它比 py3.x 的输入命令好一点。

我试图找到一种与我在 C# 中习惯在 Python 中使用的格式相似的格式，但事实证明，在所有这些谷歌搜索和尝试一切之后，仅仅找到一种将用户输入字符串转换为整数的方法就非常困难我能想到（我在谷歌上找到的）我决定是时候问了。你能帮我吗？

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2013-03-16T02:38:34.553

您必须将整数转换为字符串：

```
print('2 + ' + str(integer) + ' = ' + str(rslt)) 
```

或将其作为参数传递给`print`print 将为您完成：

```
print('2 +', integer, '=', rslt) 
```

我会使用字符串格式来做到这一点：

```
print('2 + {} = {}'.format(integer, rslt)) 
```

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2013-03-16T02:38:36.287

您的问题不在于将输入转换为整数。问题是，当您编写时，`' = ' + rslt`您试图将整数添加到字符串中，而您不能这样做。

你有几个选择。您可以转换`integer`并`rslt`返回为字符串以将它们添加到字符串的其余部分：

```
print('2 + ' + str(integer) + ' = ' + str(rslt)) 
```

或者你可以打印多个东西：

```
print('2 + ', integer, ' = ', rslt) 
```

或使用字符串格式：

```
print('2 + {0} = {1}'.format(integer, rslt)) 
```

* * *

## 回答 #3

> 赞同：6
> 
> 时间：2013-03-16T02:41:02.800

在 Python 3.x 中 -`input`相当于 Python 2.x 的`raw_input`...

您应该为此使用字符串格式 - 并执行一些错误检查：

```
try:
    integer = int(input('something: '))
    print('2 + {} = {}'.format(integer, integer + 2))
except ValueError as e:
    print("ooops - you didn't enter something I could make an int of...") 
```

另一种选择 - 看起来有点令人费解的是允许解释器对值进行最佳猜测，然后提出不是`int`或的东西`float`：

```
from ast import literal_eval

try:
    value = literal_eval(input('test: '))
    if not isinstance(value, (int, float)):
        raise ValueError
    print value + 2
except ValueError as e:
    print('oooops - not int or float') 
```

例如，如果您想要复数或列表或元组作为输入，这将提供更多的灵活性......

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-16T03:00:47.370

```
integer = int(input("Number: "))
print('2 + %d = %d' % (integer, integer + 2))

double = float(input("Point Number: "))
print('2.5 + %.2f = %.2f' % (double, double + 2.5)) 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-03-16T02:43:30.180

如果要将值转换为整数，请使用[`int`](http://docs.python.org/3.1/library/functions.html#int)内置函数，要将值转换为浮点数，请使用[`float`](http://docs.python.org/3.1/library/functions.html#float)内置函数。然后您可以使用[`str`](http://docs.python.org/3.1/library/functions.html#str)内置函数将这些值转换回字符串。内置函数[`input`](http://docs.python.org/3.1/library/functions.html#input)返回字符串，因此您可以在代码中使用这些函数，如下所示：

```
integer = input("Number: ")
rslt = int(integer)+2
print('2 + ' + integer + ' = ' + str(rslt))
double = input("Point Number: ")
print('2.5 + ' +str(double)+' = ' +str(float(double)+2.5) 
```

# hover - 为什么 Raphael.js 使用悬停时不显示渐变？

> ID：15444947
> 
> 赞同：1
> 
> 时间：2013-03-16T02:33:48.847
> 
> 标签：hover, raphael, gradient

我用 Raphael.js 创建了一个带有渐变背景的按钮。现在，当我将鼠标悬停在按钮上时，我想更改为不同的渐变`Element.hover`。但是一旦我将鼠标移到按钮上，它就开始只显示纯色。

这是[我的小提琴](http://jsfiddle.net/ruPGH/)。

也许它与浏览器有关。我只在 OS X 下测试了 Chrome 和 Safari。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-16T08:56:23.460

问题是你`transform`之后会调用集合。该`tranform()`方法已弃用，请改用`transform`attr 。此外，您可能希望在创建元素时单独应用转换，因为众所周知，Raphael 在统一转换集合方面存在一些问题。

# css - 带有 Nokogiri 的 CSS 选择器中的两个 not

> ID：15444950
> 
> 赞同：2
> 
> 时间：2013-03-16T02:34:52.983
> 
> 标签：css, ruby, nokogiri

现在我有一个使用 jQuery 的选择器，如下所示：

```
.original-tweet:not([data-is-reply-to="true"],.retweeted) 
```

然而，这似乎不适用于在 ruby​​ 中使用 Nokogiri gem：

```
doc.css('.original-tweet:not([data-is-reply-to="true"],.retweeted)') 
```

以上导致现金，但每个部分都不能独立工作：

```
 doc.css('.original-tweet:not([data-is-reply-to="true"])') 
```

和

```
 doc.css('.original-tweet:not(.retweeted)') 
```

实际获得我想要的选择器的最佳方法是什么。这是nokogiri不支持的东西吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-16T03:05:38.390

好的，我用 XPATH 解决了

以下工作（注意：我创建的 xpath 完全是计算机生成的）

```
doc.xpath("//*[contains(concat(' ', @class, ' '), ' original-tweet ') and not(@data-is-reply-to = \"true\") and not(@data-retweet-id)]") 
```

编辑：进一步检查表明这仍在选择带有转推类的项目（事实证明这是我的错误假设，我应该一直在寻找 data-retweet-id 属性而不是转推类）

github.com/sparklemotion/nokogiri/issues/451 - 这个问题与我为什么需要在这里使用 xpath 有关。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-16T02:42:22.677

虽然选择器可以与 jQuery 一起使用，但它不是一个有效的 CSS 选择器：

```
> $$('.original-tweet:not([data-is-reply-to="true"], .retweeted)')
Error: SyntaxError: DOM Exception 12 
```

`.original-tweet:not([data-is-reply-to="true"]):not(.retweeted)`应该管用。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-16T06:20:23.387

目前可能的解决方法可能是：

```
doc.css('.original-tweet:not([data-is-reply-to="true"])') - doc.css('.retweeted') 
```

# php - 使变量可用于所有类、方法、函数和包含，就像 $_POST

> ID：15444952
> 
> 赞同：19
> 
> 时间：2013-03-16T02:35:43.407
> 
> 标签：php, oop, scope

这个问题似乎很简单，但我在任何地方都找不到答案......

在我的 php 脚本/文件的开头，我想创建一个变量。

```
$variable = 'this is my variable'; 
```

我希望这个变量在整个脚本中都可用，以便所有类、方法、函数、包含的脚本等都可以简单地将这个变量称为 $variable。

```
Class MyClass
{
  public function showvariable()
  {
     echo $variable;
  }
} 
```

$_SESSION、$_POST、$_GET 变量的行为都是这样的。我可以只写一个方法并使用 $_POST 就可以了。但是，如果我使用在脚本开头定义的 $variable，它会显示“注意：未定义的变量：变量在 ...”，当我编写函数而不是类方法时，它甚至会这样说。 .

我试着写

```
global $variable = 'this is my variable'; 
```

但随后脚本无法加载...“HTTP 错误 500（内部服务器错误）：服务器尝试完成请求时遇到了意外情况。”

**如何使变量像 $_POST 一样真正全局可访问？**

为什么我需要这个？我特别计划将其用作表单令牌。在页面顶部，我将表单令牌生成为 $token，在页面底部，我将其存储在会话中。在处理任何表单之前，我会检查 SESSION 令牌是否与 POST 令牌匹配......而且由于我经常在页面上有多个表单（顶部导航中的登录表单，主体中的注册表单）我只是想让它方便并且在每个表单上调用 $token。有时我的表单元素是由类或函数生成的，但它们无法识别变量并说它没有定义。

* * *

## 回答 #1

> 赞同：17
> 
> 时间：2013-03-16T02:46:29.410

我找到了... -.- 我认为这很容易...

我必须通过使用调用变量

```
$GLOBALS['variable']; 
```

刚刚找到...终于... [http://php.net/manual/en/reserved.variables.globals.php](http://php.net/manual/en/reserved.variables.globals.php)

**大约8 个月后**编辑：****

 **我刚刚了解了常数！

```
define('name', 'value'); 
```

他们只是不能被重新分配......我想我也可以使用它！ [http://www.php.net/manual/en/language.constants.php](http://www.php.net/manual/en/language.constants.php)

* * *

## 回答 #2

> 赞同：10
> 
> 时间：2013-03-16T02:56:49.317

只需在任何类或函数之外定义一个变量。`global`然后在任何类或函数中使用关键字。

```
<?php

// start of code

$my_var = 'Hellow Orld';

function myfunc() {
  global $my_var;
  echo $my_var; // echoes 'Hellow Orld';
}

function myOtherFunc() {
  var $my_var;
  echo $my_var; // echoes nothing, because $my_var is an undefined local variable.
}

class myClass {

  public function myFunc() {
    global $my_var;
    echo $my_var; // echoes 'Hellow Orld';
  }

  public function myOtherFunc() {
    var $my_var;
    echo $my_var; // echoes nothing.
  }

}

myFunc(); // "Hellow Orld"
myOtherFunc(); // no output
myClass->myFunc(); // "Hellow Orld"
myClass->myOtherFunc(); // no output

// end of file
?> 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-03-16T02:47:31.937

您需要声明 global 以在任何函数范围内访问它：

在脚本的顶部：

```
global $var;
$var= "this is my variable"; 
```

在你的课上

```
...
public function showvariable(){
    global $var;
    echo $var;
}
... 
```

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2013-03-16T02:47:35.010

在 PHP 中，全局变量必须在每个使用它们的函数中声明。请参阅：[PHP 手册，关于变量范围的部分](http://php.net/manual/en/language.variables.scope.php)

话虽如此，全局变量通常不是一个好主意，在大多数情况下，有一种方法可以避免使用它们。**

# php - 检查具有有限（无 SELECT）权限的重复行

> ID：15444953
> 
> 赞同：1
> 
> 时间：2013-03-16T02:35:50.297
> 
> 标签：php, mysqli, uniqueidentifier

快速而肮脏：我想仅使用 INSERT 权限检查特定行是否已存在。

说明
出于安全目的，我已将我的数据库帐户限制为 INSERT 权限。我意识到在 mysqli_real_escape_string 之后还有其他步骤要采取，但作为 PHP 和 MySQL 的新手，我认为这是阻止注入的最佳方法。

提交后，表单会进行验证检查并尝试创建行，然后通过或捕获 1062 错误并说用户名已经存在。

我现在想使用同一个数据库帐户实现一个抢占式 AJAX 调用。我考虑过发布一个虚拟更新语句（不做任何更改）来检查重复项，但显然没有 SELECT 权限会失败。SELECT right 是我试图避免的主要选择；这是幼稚的吗？解决这个问题的正确方法是什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-16T02:42:20.660

您可以使用 INSERT IGNORE INTO 表

见[http://bogdan.org.ua/2007/10/18/mysql-insert-if-not-exists-syntax.html](http://bogdan.org.ua/2007/10/18/mysql-insert-if-not-exists-syntax.html)

有一个与您的问题非常相似的问题：[如何在 MySQL 中“如果不存在则插入”？](https://stackoverflow.com/questions/1361340/how-to-insert-if-not-exists-in-mysql)

# html - angularjs 模板 ng-view

> ID：15444956
> 
> 赞同：-3
> 
> 时间：2013-03-16T02:36:13.293
> 
> 标签：html, templates, angularjs

任何人都可以告诉我我在这里做错了什么：

我只是更新了库，似乎代码由于某种原因而中断，它什么也没做。

角度库

html5代码

```
<script src="//ajax.googleapis.com/ajax/libs/angularjs/1.0.5/angular.min.js"></script>
<header id="header">
    <h1 id="logo"><a href="#/home"></a></h1>

    <div id="menu">
        <a ng-click="setRoute('home')" class="btn">Home</a>
        <a ng-click="setRoute('about')" class="btn">about</a>
    <a ng-click="setRoute('experiments')" class="btn">Experiments</a>
    </div>
    <div class="color"></div>
    <div class="clear"></div>
</header>
<!-- //top -->
<div class="shadow"></div>

<div id="container">
    <div ng-view></div>
</div> 
```

角.js

```
 angular.module('WebSite', []).
    config(function($routeProvider) {
        $routeProvider.
            when('/about', {templateUrl:'folder/test.html', controller:AboutCtrl}).
            when('/experiments', {templateUrl:'folder/test.html', controller:ExperimentsCtrl   }).
            when('/home', {templateUrl:'folder/test.html', controller:HomeCtrl   }).
            otherwise({redirectTo:'/home'});
    });

function AboutCtrl($scope) {
    $scope.title = 'About Page';
    $scope.body = 'This is the about page body';
}

function ExperimentsCtrl($scope) {
    $scope.title = 'Experiments Page';
    $scope.body = 'This is the about experiments body';
}

function HomeCtrl($scope) {
    $scope.title = 'Home Page';
    $scope.body = 'This is the about home body';
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-16T03:06:13.987

[您需要在https://github.com/simpulton/angular-website-routes](https://github.com/simpulton/angular-website-routes)查看来自 github 的源代码

没有 changeRoute 方法。经过一番对话，我意识到最好尽可能自然地处理锚标签。

您的菜单元素应如下所示

```
<div id="menu">
    <a href="#/home" class="btn">Home</a>
    <a href="#/about" class="btn">About</a>
    <a href="#/experiments" class="btn">Experiments</a>
</div> 
```

希望这可以帮助！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-16T03:14:08.240

首先，您需要使用 ng-app 为您的模块设置 Angular 应用程序。也许您已经这样做了，但这不是您发布的片段的一部分：

```
<html ng-app="WebSite"> 
```

另外，关于 setRoute()，我不知道你从哪里复制它，但你不需要它。只需将 href 与哈希一起使用，例如：

```
<a href="#/about" class="btn">about</a> 
```

# ruby - 在 Vim (Ruby) 中用 do/end 替换匹配的 { 大括号 }

> ID：15444967
> 
> 赞同：7
> 
> 时间：2013-03-16T02:38:40.790
> 
> 标签：ruby, vim

有没有人有插件或宏来用 Vim 中的 and 替换匹配的大括号`{`？最好像这样转换单行语句：`}``do``end`

```
foo.each { |f| f.whatever } 
```

进入：

```
foo.each do |f|
  f.whatever
end 
```

对于这种情况，我可以自己制作一个宏，但我想要一些也可以处理转换现有多行、可能复杂的块的东西，例如：

```
foo.each { |f|
  f.bars.each { |b| b.whatever }
  hash = { a: 123, b: 456 }
} 
```

进入：

```
foo.each do |f|
  f.bars.each { |b| b.whatever }
  hash = { a: 123, b: 456 }
end 
```

我看过[vim-surround](https://github.com/tpope/vim-surround)和[rails.vim](https://github.com/tpope/vim-rails)，但都没有找到办法。

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-03-16T04:33:38.030

有一个名为[Vim Blockle](http://www.vim.org/scripts/script.php?script_id=3373)的 Vim 插件可以执行此功能。

安装插件后，将光标放在`{` `}` `do`或上`end`并按下`<Leader>b`以交换块样式。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-16T03:06:17.120

我假设在您的多行示例中，输出将是：

```
foo.each do |f|
  f.bars.each do |b| b.whatever end
  hash = { a: 123, b: 456 }
end 
```

也就是说，`f.bars.each{...}`也应该更换。

如果这是目标，试试这个：

```
gg/each\s*{<enter>qqf{%send<esc><c-o>sdo<esc>nq200@q 
```

简短说明：

```
gg               " move cursor to top
/each\s*{<enter> " search pattern we want
qq               " start recording macro to register q
f{               " move to {
%send<esc>       " move to closing {, and change it to "end", back to normal
<c-o>sdo         " back to beginning { and change it into "do"
<esc>nq          " back to normal, and go to next match, stop recording 
```

然后你可以做例如`200@q`并检查结果。

# c++ - C++ Win32 MessageBox 奇怪的输出

> ID：15444977
> 
> 赞同：0
> 
> 时间：2013-03-16T02:40:23.070
> 
> 标签：c++, messagebox

我不太确定为什么会这样。我只是想输出按下的键。断点显示存储在按下变量中的正确字母。项目设置为 Unicode。

```
case WM_CHAR:
    {
        const wchar_t pressed = LOWORD(wParam);
        ::MessageBox(hWnd, &pressed, L"Key Pressed", MB_OK);
    } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-16T02:56:53.067

我解决了这个问题。我认为 MessageBox 继续显示超出 wchar_t 变量的内存地址的内存项。我必须将该字母转换为 wstring，然后将其传递给 MessageBox。

# ios - 如何从输入 IB 的 UILabel 文本中插入新行 \n？

> ID：15444981
> 
> 赞同：54
> 
> 时间：2013-03-16T02:40:48.593
> 
> 标签：ios, objective-c, nsstring

我有 id textInput 并插入新行（\n）OK：

```
[textInput insertText:@"\n"]; 
```

但是当从 label.text 输入文本（在界面生成器中输入）时，它就不行了。只需输入 \n 文本。

```
NSLog(@"%@",label.text);
[textInput insertText:label.text]; 
```

将特殊字符存储在label.text中时如何输入？

我不想比较`[inputStr isEqualToString:@"\\n"];`

*日志：\n

谢谢！

* * *

## 回答 #1

> 赞同：169
> 
> 时间：2013-03-16T03:32:17.670

尝试选项返回或粘贴在换行符中。

* * *

## 回答 #2

> 赞同：14
> 
> 时间：2013-03-16T02:52:12.393

@Hot Licks 在评论中很好地解释了原因。

唯一的办法是

```
if ([self.mylabel.text isEqualToString:@"\\n"]) {

   [self.myTextView insertText:@"\n"];
} 
```

手动，使用`ALT+ENTER`

# java - 如何按原样显示或打印数据库表的内容？

> ID：15444982
> 
> 赞同：5
> 
> 时间：2013-03-16T02:40:50.667
> 
> 标签：java, sql, sql-server-2008

我想使用 Java 代码从数据库中获取一个表。我尝试的示例代码只有两列。我希望获取的数据与表格中的完全一样。我怎么做 ？

这段代码只给了我两行，并排-

```
while (rs.next()) {
System.out.println(rs.getString(4) + " " + rs.getString(6));

} 
```

完整示例在 -

[http://msdn.microsoft.com/en-us/library/aa342339.aspx](http://msdn.microsoft.com/en-us/library/aa342339.aspx)

```
This is what I tried - 

         int size = 0;
         if(rs != null){

            rs.beforeFirst();  
            rs.last();  
            size = rs.getRow();  

         }

         System.out.println("cols = " + size); 
```

并出现错误 - 仅转发结果集不支持请求的操作。

* * *

## 回答 #1

> 赞同：18
> 
> 时间：2013-03-16T03:17:49.403

使用此代码

```
Statement st = conn.createStatement();
ResultSet rs = st.executeQuery(query);
ResultSetMetaData rsmd = rs.getMetaData();

int columnsNumber = rsmd.getColumnCount(); 
```

Source -[如何从 JDBC ResultSet 中获取列数？](https://stackoverflow.com/questions/2614416/how-to-get-the-number-of-columns-from-a-jdbc-resultset)

使用该代码后，可以显示 DBMS 显示的结果，如下所示 -

```
ResultSetMetaData rsmd = rs.getMetaData();
int columnsNumber = rsmd.getColumnCount();                     

// Iterate through the data in the result set and display it. 

while (rs.next()) {
//Print one row          
for(int i = 1 ; i <= columnsNumber; i++){

      System.out.print(rs.getString(i) + " "); //Print one element of a row

}

  System.out.println();//Move to the next line to print the next row.           

    } 
```

此示例中不显示列名。

* * *

## 回答 #2

> 赞同：17
> 
> 时间：2014-11-04T15:04:21.500

[我在这里](https://stackoverflow.com/questions/5475896/system-out-println-from-database-into-a-table/26735511#26735511)发布了一个类似问题的答案，但我相信这也是相关的，也许更重要。简而言之，我编写了一个简单的实用程序类来将 db 表行打印到标准输出（部分乐趣，部分学习）。它可能对某人有用（至少我希望如此）。

这是 GitHub 上代码仓库的链接：[https ://github.com/htorun/dbtableprinter](https://github.com/htorun/dbtableprinter)

这是基本用法：

```
// Create a connection to the database
Connection conn = DriverManager.getConnection(url, username, password);

// Just pass the connection and the table name to printTable()
DBTablePrinter.printTable(conn, "employees"); 
```

它应该打印如下内容：

```
Printing 10 rows from table(s) EMPLOYEES
+--------+------------+------------+-----------+--------+-------------+
| EMP_NO | BIRTH_DATE | FIRST_NAME | LAST_NAME | GENDER |  HIRE_DATE  |
+--------+------------+------------+-----------+--------+-------------+
|  10001 | 1953-09-02 | Georgi     | Facello   | M      |  1986-06-26 |
+--------+------------+------------+-----------+--------+-------------+
|  10002 | 1964-06-02 | Bezalel    | Simmel    | F      |  1985-11-21 |
+--------+------------+------------+-----------+--------+-------------+
    .
    . 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-16T02:44:02.670

这是因为您的代码仅获得该行的 2 个值。请注意，这`rs.getString(4)`意味着，获取**当前行**第**4 列**的值（使用基于 0 的索引）为`String`.

如果要打印所有列，则应编写其余列`rs.getXXXX()`，其中`XXXX`列数据类型为`getString(), getInteger(), getLong(), etc`. 请参阅此 java[文档](http://docs.oracle.com/javase/6/docs/api/java/sql/ResultSet.html)以供参考。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2021-11-23T08:55:46.320

```
public static void printSqlTable(String selectQuery) {
      try {
           Statement statement = connection.createStatement();
           resultSet = statement.executeQuery(selectQuery);
           DBTablePrinter.printResultSet(resultSet);
              } catch (SQLException e) {
                  e.printStackTrace();
              } catch (Exception e) {
                  e.printStackTrace();
    }
} 
```

# javascript - 使用 HTML5 Canvas 将图像解析为图块集

> ID：15444987
> 
> 赞同：3
> 
> 时间：2013-03-16T02:42:00.890
> 
> 标签：javascript, html, html5-canvas

我正在尝试将瓦片集图像（.png 类型）解析为数组。我有一个测试画布，我先用它来绘制它，然后我从中提取图像信息。当我运行此代码时，它会抛出“未捕获的 TypeError：类型错误”。我能够记录 this.mainTiles 是空的。有任何想法吗？我还不知道 Canvas 的所有微妙之处，所以我被卡住了。谢谢您的帮助！（另外，你可以忽略最后的最后一行，我只是用它来测试——但我想说明它不起作用）。

```
function TileSet() {
    this.tileSheets = [];
    this.mainTiles = [];
    this.tileHeight = 32;
    this.tileWidth = 32;

    this.addSpriteSheet = function (spriteSheetLoc, name) {

        var tileSheet = new Image();
        try {
            tileSheet.src = spriteSheetLoc;
        }
        catch(err) {
            dMode.Log("Invalid TileSheet Src ( TileSet.setSpriteSheet() Failed ); ERR: " +  err);
        }

        tempContext.drawImage(tileSheet, 0, 0);

        var tilesX = tempContext.width / this.tileWidth;
        var tilesY = tempContext.height / this.tileHeight;

        for(var i=0; i<tilesY; i++) {
            for(var j=0; j<tilesX; j++) {
                // Store the image data of each tile in the array.
                this.mainTiles.push(tempContext.getImageData(j*this.tileWidth, i*this.tileHeight, this.tileWidth, this.tileHeight));
            }
        }

        context.putImageData(this.mainTiles[0], 5, 5);

    } 
```

编辑：这是画布等的定义方式：

```
var tempCanvas = document.getElementById("tempCanvas");
var tempContext = tempCanvas.getContext("2d");

var canvas = document.getElementById("gameCanvas");
var context = canvas.getContext("2d");

var Tiles = new TileSet;
//this is the line it gets stuck at

Tiles.addSpriteSheet("resources/tiles/tilea2.png"); 
```

编辑 2：在 markE 的回答之后，这是最新的更新。仍然觉得好像我缺少有关 .onload 的基本属性。

```
function TileSet() {
    this.Tiles = [];
    this.tileHeight = 32;
    this.tileWidth = 32;
    this.tileCount = 4;

    this.addSpriteSheet = function (spriteSheetLoc, name) {

        var tileSheet = new Image();
        tileSheet.onload = function() {
            tempCanvas.width = tileSheet.width;
            tempCanvas.height = tileSheet.height;
            tempContext.drawImage(tileSheet, 0, 0);

           for (var t=0;t<this.tileCount;t++) {
       this.Tiles[t]=tempContext.getImageData(t*this.tileWidth,t*32,this.tileWidth,tileSheet.height);
               dMode.Log(this.Tiles);
           }

            context.putImageData(this.Tiles[this.Tiles.length-1],0,0);
            dMode.Log(this.Tiles);
        }

        tileSheet.src = spriteSheetLoc;
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-16T03:53:30.047

**以下是如何将 spritesheet 解析为单独的画布 imageData 数组**

我有一些工作代码可以做你想做的事情。

我没有你的“resources/tiles/tilea2.png”，所以我使用了我自己的“monstersArun.png”，它是 10 个 64x64 瓷砖的跨精灵表。

您可以修改此代码以适合您的 spritesheet 布局（行 x 列和图块大小）。

这是代码：

```
<!doctype html>
<html>
<head>
<link rel="stylesheet" type="text/css" media="all" href="css/reset.css" /> <!-- reset css -->
<script type="text/javascript" src="http://code.jquery.com/jquery.min.js"></script>

<style>
    body{ background-color: ivory; }
    canvas{border:1px solid red;}
</style>

<script>
$(function(){

    var canvas=document.getElementById("canvas");
    var ctx=canvas.getContext("2d");

    var tileCount=10;
    var tiles=new Array();
    var tileWidth;
    var t;
    var img=new Image();
    img.onload=function(){
      canvas.width=img.width;
      canvas.height=img.height;
      tileWidth=img.width/tileCount;
      ctx.drawImage(img,0,0);

      for(var t=0;t<tileCount;t++){
            tiles[t]=ctx.getImageData(t*tileWidth,0,tileWidth,img.height);
      }

      // just a test
      // draw the last tiles[] into another canvas
      var canvasTile=document.getElementById("canvasTile");
      var ctxTile=canvasTile.getContext("2d");
      canvasTile.width=tileWidth;
      canvasTile.height=canvas.height;
      ctxTile.putImageData(tiles[tiles.length-1],0,0);
    }
    img.src="monsterarun.png";

}); // end $(function(){});
</script>

</head>

<body>

    <canvas id="canvas" width=300 height=300></canvas><br/>
    <canvas id="canvasTile" width=64 height=64></canvas>

</body>
</html> 
```

**[编辑——包括胡安·门德斯的好主意，为编码问题提供帮助]**

另外，当我查看您的代码时……这里：

```
tileSheet.src = spriteSheetLoc; 
```

这会导致您的图像加载。加载需要时间，因此 javascript 开始加载图像，但它也**立即继续到您的下一行代码**。因此，您下面的代码会尝试在图像可用之前使用它——不好！

因此，在处理其余代码之前，您应该让 javascript 有机会完全加载您的图像。您可以使用 Image 的 onload 方法执行此操作，如下所示：

```
var tileSheet = new Image();
tileSheet.onload=function(){

    // put ALL you code that depends on the image being fully loaded here

}
tileSheet.src = spriteSheetLoc; 
```

注意你是如何将 tileSheet.src 放在onload 函数*之后的。*实际上，javascript 执行 tilesheet.src 然后*返回*执行 onload 块中的所有代码！

[再次编辑——完整代码]

```
<!doctype html>
<html>
<head>
<link rel="stylesheet" type="text/css" media="all" href="css/reset.css" /> <!-- reset css -->
<script type="text/javascript" src="http://code.jquery.com/jquery.min.js"></script>

<style>
    body{ background-color: ivory; }
    canvas{border:1px solid red;}
</style>

<script>
$(function(){

    var tempCanvas = document.getElementById("tempCanvas");
    var tempContext = tempCanvas.getContext("2d");

    var canvas = document.getElementById("gameCanvas");
    var context = canvas.getContext("2d");

    // create a new TileSet
    var Tiles = new TileSet();

    // parse a spritesheet into tiles
    //Tiles.addSpriteSheet("resources/tiles/tilea2.png","anyName");
    Tiles.addSpriteSheet("houseIcon.png","anyName");

    function TileSet() {
        this.Tiles = [];
        this.tileHeight = 32;
        this.tileWidth = 32;
        this.tileCount = 4;

        this.addSpriteSheet = function (spriteSheetLoc, name) {

            var me=this;  // me==this==TileSet

            var tileSheet = new Image();
            tileSheet.onload = function() {

                // calculate the rows/cols in the spritesheet
                // tilesX=rows, tilesY=cols
                var tilesX = tileSheet.width / me.tileWidth;
                var tilesY = tileSheet.height / me.tileHeight;

                // set the spritesheet canvas to spritesheet.png size
                // then draw spritesheet.png into the canvas
                tempCanvas.width = tileSheet.width;
                tempCanvas.height = tileSheet.height;
                tempContext.drawImage(tileSheet, 0, 0);
                for(var i=0; i<tilesY; i++) {

                    for(var j=0; j<tilesX; j++) {

                        // Store the image data of each tile in the array.
                        me.Tiles.push(tempContext.getImageData(j*me.tileWidth, i*me.tileHeight, me.tileWidth, me.tileHeight));
                    }
                }

                // this is just a test
                // display the last tile in a canvas
                context.putImageData(me.Tiles[me.Tiles.length-1],0,0);

            }
            // load the spritesheet .png into tileSheet Image()
            tileSheet.src = spriteSheetLoc;
        }
    }

}); // end $(function(){});
</script>

</head>

<body>
    <canvas id="tempCanvas" width=300 height=300></canvas><br/>
    <canvas id="gameCanvas" width=300 height=300></canvas>
</body>
</html> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-16T20:59:35.877

尝试分别用和替换`tempContext.width`和。我不相信上下文有宽度/高度。`tempContext.height``tempCanvas.width``tempCanvas.height`