# StackOverflow 问答 13873000-13873999

# objective-c - 如何删除缓存目录中的内容？

> ID：13873005
> 
> 赞同：5
> 
> 时间：2012-12-14T05:08:43.640
> 
> 标签：objective-c, ios, ios5

在我的缓存目录中，我有一个文件夹名称**Example**。在那个**示例**文件夹中，我有子文件夹`CSS`，`JS`. 现在我想删除`CSS`子文件夹。我没有得到

我使用了下面的书面代码。如果我使用它，我的整个**示例**文件夹将被删除。

```
NSFileManager *fileManager = [NSFileManager defaultManager];

NSString *cacheFolderPath = [NSSearchPathForDirectoriesInDomains(NSCacheDirectory, NSUserDomainMask, YES) objectAtIndex:0];

NSError *error = nil;

for (NSString *fileName in [fileManager contentsOfDirectoryAtPath:cacheFolderPath error:&error])

{
    [fileManager removeItemAtPath:[cacheFolderPath stringByAppendingPathComponent:fileName] error:&error];

} 
```

谁能帮我。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-12-14T05:33:54.250

```
NSFileManager *fileManager = [NSFileManager defaultManager];
NSString *cacheFolderPath = [NSSearchPathForDirectoriesInDomains(NSCachesDirectory, NSUserDomainMask, YES) objectAtIndex:0];
NSError *error = nil;
NSString *dir = [cacheFolderPath stringByAppendingPathComponent:@"yourCSSSUBFolderName"];
[[NSFileManager defaultManager] removeItemAtPath:dir error:nil]; 
```

您可以对要删除的任何其他目录执行相同的操作！

稍后，如果您想添加这些文件，而不是首先创建该子文件夹，然后添加您的文件，例如：

```
NSArray *paths=NSSearchPathForDirectoriesInDomains(NSCachesDirectory,NSUserDomainMask, YES);
NSString *directory = [paths objectAtIndex:0];
NSString *dirPath=[directory stringByAppendingPathComponent:@"yourCSSSUBFolderName"];
NSFileManager *fileManger=[NSFileManager defaultManager];
if(![fileManger fileExistsAtPath:dirPath])
{
    NSError *error = nil;
    [fileManger createDirectoryAtPath:dirPath withIntermediateDirectories:YES attributes:nil error:&error];
}
// now add the directories
NSString *filePath = [dirPath stringByAppendingPathComponent:@"Yourfile.extension"];
[yourData writeToFile:filePath atomically:YES]; //Write to file 
```

# php - 如何将数据返回到 AJAX 调用脚本？

> ID：13873006
> 
> 赞同：0
> 
> 时间：2012-12-14T05:08:49.293
> 
> 标签：php, javascript, ajax

使用普通的原生 Javascript（请不要使用 jQuery 或其他框架答案），在将 AJAX 调用的响应部分发送回请求脚本之前，如何对其进行处理和格式化？

我一直在寻找这个答案，但在我执行的许多搜索中似乎找不到它。我想看一个例子，而不是关注`POST`或`GET`变量访问的例子。我想知道如何响应脚本。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-14T05:23:27.650

在 PHP 中：

```
header( 'Content-Type: application/json' );
$jsonResponse = array("response" => "Good job.");
echo json_encode($jsonResponse); 
```

AJAX 调用的一部分是监听响应的函数 - 类似于 HTTP 请求如何让您的浏览器等待网页响应。在这种情况下，标题指示结果数据为 json 格式。如果您完全手动执行此操作，您将获得一个标准化的文本响应，您需要将其解析并打包到 javascript 对象中（您可以这样做，因为 javascript 的对象关联数组语法使得使用从字符串中提取的名称设置对象属性变得简单。 )

# android - 如何在android中打开布局内部的键盘

> ID：13873007
> 
> 赞同：4
> 
> 时间：2012-12-14T05:08:57.197
> 
> 标签：android, android-layout, android-keypad

我需要打开我里面的键盘`layout`，我可以`edittextbox`看到下面的图片

![在此处输入图像描述](../Images/d217222564637a60ef298ec35400e240.png)

在这张图片中

`pink`-`header`和`footer`

`brown`-`edittext`

`blue`-所有的`layout`

`red`-`keyboard`

任何人都可以帮我解决这个问题。帮我。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-14T05:22:23.297

我认为android中没有设置软键盘位置的选项。你可以在你的xml中制作你自己的键盘。

# jquery - 滑下后以淡入淡出的动画显示/隐藏

> ID：13873008
> 
> 赞同：0
> 
> 时间：2012-12-14T05:09:01.080
> 
> 标签：jquery, animation, fadein, fadeout

我正在尝试在此处滑动后添加淡入/淡出动画：

[http://jsfiddle.net/lamberta/e44kB/](http://jsfiddle.net/lamberta/e44kB/)

我试图添加和写入 `.fadeOut(350, function () { & .fadeOut(350, function () {`

但是没有工作，我不知道该放在哪里，有人知道如何将它放在这里吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-14T05:17:08.017

你可以这样做

[![jsFiddle](../Images/827f57786617d886d70c0bce0ccca6b6.png)](http://jsfiddle.net/swamimayank/BmekV/)

脚本

```
function toggleSlider() {
    if ($("#demo").is(":visible")) {
        $("#hola").animate(
            {
                opacity: "0"
            },
            600,
            function(){
                $("#hola").slideUp();
            }
        );
    }
    else {
        $("#demo").slideDown(600, function(){
            $("#hola").animate(
                {
                    opacity: "1"
                },
                600
            );
        });
    }   
} 
```

html

```
<a href="#" onclick="toggleSlider();">toggle</a>
<div id="demo" style="display:none;background:#eee;padding:10px;">
    <div id="hola" style="opacity:0;filter:alpha(opacity=0);">
        Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec ut tortor  erat, et consectetur nisl. Nunc non placerat odio. Cras feugiat  pulvinar diam sed sollicitudin. Quisque ut elit lacus, et gravida nunc.  Maecenas ac enim ligula. Aenean felis nunc, vulputate pellentesque  vehicula nec, tristique a tortor. Curabitur et semper dui. Sed id nisl  turpis. Sed vel nunc et nisi laoreet feugiat. Sed lobortis enim sed arcu  tempor vehicula. Vivamus dui ligula, ultricies id egestas ut, rhoncus  et est. Pellentesque dignissim diam vel nibh tempus condimentum. Etiam  sodales fermentum pharetra. Etiam faucibus tempus malesuada. Mauris  nulla lectus, laoreet sit amet cursus vel, ultricies at enim. Sed  facilisis rutrum eros, nec malesuada eros iaculis ac.

    </div>
</div> 
```

# android - R.java- android 中重复视图 ID 的工作

> ID：13873018
> 
> 赞同：1
> 
> 时间：2012-12-14T05:09:41.017
> 
> 标签：android

假设如果我在两个不同的布局中为两个不同的视图使用相同的 id，我可以看到只为 R.java 中的“id”类中的 id 创建了一个引用。实际上我认为它应该在尝试在构建的“id”类中添加具有相同名称的常量时显示错误。为什么它不显示错误？它如何识别具有单个 id 的两个不同视图？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-12-14T06:02:49.497

如果你有两个不同的人，在 2 个不同的组中，都叫 Vicky，那么在调用这个名字 (=id) 时那个人是谁并不重要。如果您在第一组中呼叫“Vicky”，则该组中的 Vicky 会响应。在 android 中，您可以使用`setContentView(<layout file>)`where `<layout file>`is group 为活动分配一个“组”视图。如果您通过 findViewWithId() 请求一个带有不可用 id 的视图（例如，不在加载的布局文件中），它会返回 null。

例子：

layout1.xml 包含

```
<View id="@+id/name1"/>
<View id="@+id/name2"/>
<View id="@+id/name3"/> 
```

layout2.xml 包含

```
<View id="@+id/name1"/>
<View id="@+id/name3"/> 
```

调用`findViewById(R.id.name1)`第一个和第二个布局文件，将返回第一个视图。但是当你调用`findViewById(R.id.name2)`第二个布局时，它会返回`null`. id 确实存在于 A 布局文件中，但根本不存在于“加载”的布局文件中。

Id 不是对 View 对象的引用。它们是可以被不同布局中的多个视图使用的标识符。通过在布局文件中查找标识符，您可以获得对使用它的视图的引用。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-14T05:51:48.480

`ids`您可以使用相同的字符串名称在不同文件中查看，`xml`而不是在同一个文件中。这就是编译器如何区分不同布局内的不同视图

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-14T05:17:21.497

如果您对两个不同的视图使用相同的字符串，它将只生成一个 id，并且是相同的。例如，这是一个在 RelativeLayouts 中非常有用的功能，因为您可以多次使用 @+id 并知道它将引用相同的 id——视图本身需要具有唯一的 id，但这些 id 可能会被引用布局语句。

这是它的设计方式，而不是错误。

# java - java.awt.event.MouseAdapter 用循环这么慢

> ID：13873021
> 
> 赞同：1
> 
> 时间：2012-12-14T05:09:55.780
> 
> 标签：java, swing, loops, jframe, mouse-listeners

我正在使用 JFrame 开发一个程序，我想意识到当你点击一个按钮时，另一个类中的循环必须工作。它正在工作，但速度很慢。在一秒钟内，您只能看到循环的一次迭代。我不明白为什么。您需要了解一些代码。调用监听器：

```
playWithComputerButton.addMouseListener(new java.awt.event.MouseAdapter() {
        public void mouseClicked(java.awt.event.MouseEvent evt) {
            startLoop(1);
        }
    }); 
```

称为片：

```
if(gameMode == 2){
        int i = 0;
        while(i < 500){
            int pos = ((Computer) playerA).thinkIt(board.getBoard());
            display("bu pas : " + pos);
            i++;
        } 
```

迭代和调用监听器没有问题。（我也尝试过其他迭代和“ActionListener”，但结果是一样的。

有什么解决办法？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-15T02:48:34.767

要执行与 GUI 无关的长操作，我们可以简单地使用 javax.swing.SwingWorker，正如上面 Nikolay Kuznetsov 和 MadProgrammer 所解释的那样。

这是一个如何使用它的示例： [example](https://stackoverflow.com/questions/13870982/updating-swing-components-correctly/13871140#13871140)，这里是 SwingWorker 的 javadoc：[javadoc](http://docs.oracle.com/javase/6/docs/api/javax/swing/SwingWorker.html)

对于我的程序，解决方案是：

首先在你的 JFrame 类中创建一个新的 SwingWorker 扩展类

```
class LoopWorker extends SwingWorker<Integer, Integer>
{
    protected Integer doInBackground() throws Exception
    {
        // perform your loop
    }

    protected void done()
    {
        // what has to be done after performing
    }
} 
```

然后，按钮应调用其执行方法，如下所示：

```
learnButton.addActionListener(new ActionListener() {

        public void actionPerformed(ActionEvent evt) {
            new LoopWorker().execute();
        }
     }); 
```

# coding-style - 清理 TCL 列表和输出

> ID：13873022
> 
> 赞同：1
> 
> 时间：2012-12-14T05:10:00.787
> 
> 标签：coding-style, tcl, code-cleanup

您好，我正在编写一个小脚本，允许我从输入中解析信息。这是有效的，但我知道有更好的方法可以做到这一点。拜托，我正在努力学习[自学]，所以让我失望。输入如下：

```
C7-0-4-U1   36.5 mHz    IN7-0-4-0   567 mHz 00:15:d0:e3:b0:41   online(pt)  10.106.156.129  42.0    -0.5    35.1    -3.0    38.7    0.0E+000    0.0E+000    9   0    12:20:32 AM    rZ5 1       

C7-0-4-U1   36.5 mHz    IN7-0-4-0   567 mHz 2c:9e:5f:de:ed:36   w-online(pt)    10.113.52.11    36.5    0.0 35.1    -5.0    37.7    4.9E-006    0.0E+000    9   0    12:20:32 AM    r4G 0       

C7-0-4-U1   36.5 mHz    IN7-0-4-0   567 mHz e4:83:99:6d:57:ad   w-online(pt)    10.113.45.239   43.5    0.0 35.1    -4.6    39.5    5.8E-006    0.0E+000    8   0    12:20:34 AM    r4G 0       

C7-0-4-U1   36.5 mHz    IN7-0-4-0   567 mHz 3c:75:4a:9c:7b:92   w-online(pt)    10.109.238.61   42.2    -0.5    33.9    -14.4   34.6    4.9E-006    0.0E+000    199 4    12:20:33 AM    rC2 0 
```

所需的输出如下：

00:15:D0:E3:B0:41 10.106.156.129
2C:9E:5F:DE:ED:36 10.113.52.11
E4:83:99:6D:57:AD 10.113.45.239
3C:75:4A:9C: 7B:92 10.109.238.61

我拥有的代码如下：

```
#GET INPUT FROM CLIPBOARD
set Input [sh_set clipboard]
#REMOVE ALL EXCESSIVE WHITESPACE
regsub -all {\s{3,}} $Input "\n" CleanInput
#SET THE INPUT AS LIST
set List [split $CleanInput "\n"]
#GET LIST ITEMS
set Cust1 [lindex $List 1]
set Cust2 [lindex $List 2]
set Cust3 [lindex $List 3]
set Cust4 [lindex $List 4]
regexp -all {(?:[[:xdigit:]]{2}([.-:]))(?:[[:xdigit:]]{2}\1){4}[[:xdigit:]]{2}} $Cust1 C1MacAddress
regexp -all {10\.(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){2}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)} $Cust1 C1IpAddress
regexp -all {(?:[[:xdigit:]]{2}([.-:]))(?:[[:xdigit:]]{2}\1){4}[[:xdigit:]]{2}} $Cust2 C2MacAddress
regexp -all {10\.(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){2}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)} $Cust2 C2IpAddress
regexp -all {(?:[[:xdigit:]]{2}([.-:]))(?:[[:xdigit:]]{2}\1){4}[[:xdigit:]]{2}} $Cust3 C3MacAddress
regexp -all {10\.(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){2}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)} $Cust3 C3IpAddress
regexp -all {(?:[[:xdigit:]]{2}([.-:]))(?:[[:xdigit:]]{2}\1){4}[[:xdigit:]]{2}} $Cust4 C4MacAddress
regexp -all {10\.(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){2}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)} $Cust4 C4IpAddress
return "$C1MacAddress\t$C1IpAddress\n$C2MacAddress\t$C2IpAddress\n$C3MacAddress\t$C3IpAddress\n$C4MacAddress\t$C4IpAddress" 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-14T05:32:59.627

这是我的解决方案：

```
# read entire file
set fid [open file.txt r]
set txt [read $fid]
close $fid

# split into lines
set lines0 [split $txt \n]

# take only non-empty lines
set lines {}
foreach line $lines0 {
    if {[string trim $line] ne ""} {
        lappend lines $line
    }
}

# extract the required data from each line
foreach line $lines {
    set data [regexp -inline {(\w{2}:\w{2}:\w{2}:\w{2}:\w{2}:\w{2})\s+\S+\s+ (\d+.\d+.\d+.\d+)} $line]
    foreach {dummy x y} $data {
        puts "$x\t$y"
    }
} 
```

我使用的正则表达式搜索由冒号分隔的六个 2 字符单词的模式，然后是一个空格，后跟一个单词，后跟一个空格 (\s+\S+\s+)，然后是 ip 地址的模式。

正则表达式返回一个三重奏列表（它是扁平的，不是列表列表），其中每个三重奏由整个匹配项组成，然后是第一个括号匹配，然后是第二个匹配。因此，虚拟变量。

或者，您可以不使用正则表达式，因为每一行都有相同数量的单词。由于在 tcl 中您可以将字符串视为 alist，其项目由空格分隔，因此您可以通过以下方式更简单地提取数据：

```
foreach line $lines {
    set x [lindex $line 6]
    set y [lindex $line 8]
    puts "$x\t$y"
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-19T09:34:37.840

好吧，假设我们从 txt 文件中加载它，我会这样做：

```
set input [open "file.txt" r]
set output [open "output.txt" w]
set count 1

while {[gets $input line] != -1} {
    if {$line == ""} {continue} #Skip empty lines
    regexp -all {(\w{2}:\w{2}:\w{2}:\w{2}:\w{2}:\w{2})} $line - MacAddress #trap the mac address and store into $MacAddress
    regexp -all {(\d+\.\d+\.\d+\.\d+)} $line - IpAddress #trap the IP address and store into $IpAddress
    puts $output "Customer $count: $MacAddress $IpAddress"
    incr count
}

close $input
close $output 
```

而且我只是觉得如果您能说出哪个客户是哪个客户可能会很花哨^^。如果您不需要该额外功能，则可以删除“客户 $count”部分和任何涉及“$count”的行。

或者，如果输入数据是表格形式（意味着您需要的信息在同一列中，我会选择：

```
set input [open "file.txt" r]
set output [open "output.txt" w]
set count 1

while {[gets $input line] != -1} {
    if {$line == ""} {continue} #Skip empty lines
    regsub -all { +} $line " " newline #trims excess spaces
    set MacAddress [lindex [split $line " "] 6]
    set MIpAddress [lindex [split $line " "] 8]
    puts $output "Customer $count: $MacAddress $IpAddress"
    incr count
}

close $input
close $output 
```

# c++ - TSP 的聚类算法

> ID：13873023
> 
> 赞同：1
> 
> 时间：2012-12-14T05:10:02.927
> 
> 标签：c++, algorithm, visual-c++

我正在尝试解决一个包含大约 10,000 个城市的非常大的 TSP。为了并行化我的任务，我想将这些城市划分为集群并解决每个集群的 TSP。

我想要一种可以将我的城市分成集群的方法（基于城市的密度/该集群中每个城市之间的接近度）。

有谁知道这样做的有效命令？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-12-14T05:27:30.247

有一个简单的近似算法，它保证解决方案最多比最优解决方案差 2 倍（如果我没记错的话，至少在欧几里得度量中）。算法是：得到一个最小生成树。使用树边旅行。

我会研究更好的近似算法，而不是自己发明一个。

要分离到集群，如果你想这样做，有[K-means](http://en.wikipedia.org/wiki/K-means_clustering)和其他算法（在同一篇文章中）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-05-07T09:09:44.617

有几种基于密度的聚类算法正是您正在寻找的工具，用于将点分成聚类。

DBSCAN 是其他的主要来源。OPTICS 是 DBSCAN 的扩展，它本身不会产生聚类，但会绘制一个点图，您可以检查这些点以提取聚类（算法的另一部分也可以自动提取聚类。） DBSCAN 更简单，OPTICS 更简单灵活的。通过适当的索引结构（例如 R-tree），这两者都会变得更好。在 ELKI、scikit 和 WEKA 等工具包中有实现。

（并且，正如 j_random_hacker 所说，这样做并不能保证 TSP 的全局最优性）

# firefox-os - Firefox OS 打包应用程序和 XMLHttpRequests

> ID：13873025
> 
> 赞同：3
> 
> 时间：2012-12-14T05:10:21.317
> 
> 标签：firefox-os

我一直在研究 Firefox OS 的打包应用程序，我依赖模拟器，因为我没有在设备上构建操作系统。我在处理 XHR 请求时遇到了问题，我不确定问题是我忽略的设置还是模拟器有问题。

我对文档的阅读表明，为 network-http 添加权限应该足以向 Web 服务发出 XHR 请求。我还在源代码中看到了 systemXHR 权限。我都试过了，但到目前为止没有任何乐趣。我将模拟器与 Firefox for OS X 一起使用，我的清单如下所示：

显现：

```
{
  "version": "0.1",
  "name": "Hello World",
  "description": "A hello world app.",
  "launch_path": "/app/index.html",
  "icons": {
    "16": "/app/img/icons/mortar-16.png",
    "48": "/app/img/icons/mortar-48.png",
    "128": "/app/img/icons/mortar-128.png"
  },
  "installs_allowed_from": ["*"],
  "permissions": {
    "systemXHR": {},
    "network-http": {},
    "network-tcp": {}
  },
  "type": "privileged"
} 
```

已经回答了[类似的问题，但我认为答案可能是针对 Web 应用程序，而不是打包的应用程序，并且无论如何举个例子都会有所帮助。](https://stackoverflow.com/questions/12730104/is-it-possible-to-do-mash-ups-in-firefoxos)

我是否遗漏了一些明显的东西，模拟器是否损坏，或者打包的应用程序是否需要 CORS？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-12-14T15:47:23.383

请注意，要使用 systemXHR 权限，您还需要在创建请求对象时传递一个特殊参数，例如

```
var xhr = new XMLHttpRequest({mozSystem: true}); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-09-25T11:02:22.583

对于后台使用 JQuery $.ajax 的 Backbone 或其他 Javascript 框架，请使用：

```
$.ajaxSetup( {
    xhr: function() {return new window.XMLHttpRequest({mozSystem: true});}
}); 
```

我认为您不需要使用CORS。我的应用在没有 CORS 的模拟器中运行良好，但如果在本地服务器上启动，则无法调用远程 REST 服务器。

请注意，如果您忘记设置

> 数据类型：“文本”

对于某些 $.ajax 调用（例如加载 html 模板），您可以获得 XMLDocument 作为结果，而桌面浏览器返回字符串。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-05T16:05:02.487

看看 Rob Nyman Boilerplate，他有一个有效的 XHR 演示

[https://github.com/robnyman/Firefox-OS-Boilerplate-App](https://github.com/robnyman/Firefox-OS-Boilerplate-App)

[http://robnyman.github.com/Firefox-OS-Boilerplate-App/](http://robnyman.github.com/Firefox-OS-Boilerplate-App/)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2014-08-20T19:03:23.450

要在我的 Firefox OS 应用程序中启用 CORS，我必须在应用程序 manifest.webapp 文件中启用 systemXHR 权限：

```
"permissions": {
    "systemXHR" : {
      "description" : "Required to access remote api"
    }
} 
```

# mysql - 检查 MySQL 中记录的更新

> ID：13873029
> 
> 赞同：0
> 
> 时间：2012-12-14T05:10:39.033
> 
> 标签：mysql

我想知道是否可以检查特定时间段内表中的记录是否有任何更新

标识名称 Ligin

0 Abc1 是

1 ABC 2 否

我的意思是我希望在 3 个月内检查这两行是否有任何更新而不设置任何`Datetime`

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-14T05:13:57.747

否 在 MYSQL 中，您不能获取创建或更新行的时间戳，您需要定义您的方法（添加一列），这样做

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-14T09:10:16.783

你的意思是，没有`DateTime` *手动*设置？

有一种方法可以创建自动更新`DATETIME`或`TIMESTAMP`列：

```
CREATE TABLE ... (
  ...,
  last_update DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP
); 
```

然后只需通过为`last_update`in`WHERE`子句提供约束来选择记录。

在此处查看更多详细信息：http: [//dev.mysql.com/doc/refman/5.6/en/timestamp-initialization.html](http://dev.mysql.com/doc/refman/5.6/en/timestamp-initialization.html)

# java - 在struts2中使用显示标签进行分页

> ID：13873035
> 
> 赞同：1
> 
> 时间：2012-12-14T05:10:55.440
> 
> 标签：java, jsp, struts2

我想在我的应用程序中实现分页...

我从我的数据库中获取一个对象数组列表，列表名称是`detailsList`

现在我必须在我的 jsp 页面中显示`detailsList` **分页。**这是我的行动课。

```
public class ViewTestCasesAction extends ActionSupport implements SessionAware {

private static final long serialVersionUID = -5142928518089123340L;

private String moduleSelected;

private List<TestCaseDetailsBean> detailsList = new ArrayList<TestCaseDetailsBean>   ();

private Map<String, Object> session;

public String execute() {

    detailsList = dbFunction.fetchdetails(moduleSelected);
    session.put("detailsList", detailsList);

    if (detailsList.size() > 0) {

        return SUCCESS;
    }
    return ERROR;
}

public Map<String, Object> getSession() {
     return session;
}
public void setSession(Map<String, Object> session) {
     this.session = session;
} 
```

现在要`detailsList`使用`display`标签显示它，我必须采取哪些步骤？我知道有很多关于此的帖子，但我不确定如何获得它。我正在使用 struts2 框架并在前端使用 jsp。我尝试使用`display`标签，但没有成功。我认为设置要在`struts-config`和中进行`web.xml`。

我在这里使用会话感知将列表放在会话范围内，以便我可以在 jsp 中显示。请帮助我获取显示标签中的值。请帮助我完成此过程。

我尝试了一种方法，但得到了同样的错误......

我将 web.xml 更改为..

```
<?xml version="1.0" encoding="UTF-8"?>
<web-app xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
xmlns="http://java.sun.com/xml/ns/javaee" 
xmlns:web="http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd"
xsi:schemaLocation="http://java.sun.com/xml/ns/javaee 
http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd"
id="WebApp_ID" version="3.0">

<display-name>Struts 2</display-name>
<welcome-file-list>
<welcome-file>index.jsp</welcome-file>
</welcome-file-list>
<filter>
  <filter-name>struts2</filter-name>
  <filter-class>
     org.apache.struts2.dispatcher.FilterDispatcher
  </filter-class>
 </filter>

 <filter-mapping>
  <filter-name>struts2</filter-name>
  <url-pattern>/*</url-pattern>
 </filter-mapping>

 <jsp-config>
    <taglib>
        <taglib-uri>/WEB-INF/struts-bean.tld</taglib-uri>
        <taglib-location>/WEB-INF/struts-bean.tld</taglib-location>
    </taglib>
    <taglib>
        <taglib-uri>/WEB-INF/struts-html.tld</taglib-uri>
        <taglib-location>/WEB-INF/struts-html.tld</taglib-location>
    </taglib>
    <taglib>
        <taglib-uri>/WEB-INF/struts-logic.tld</taglib-uri>
        <taglib-location>/WEB-INF/struts-logic.tld</taglib-location>
    </taglib>
    <taglib>
        <taglib-uri>/WEB-INF/struts-nested.tld</taglib-uri>
        <taglib-location>/WEB-INF/struts-nested.tld</taglib-location>
    </taglib>
    <taglib>
        <taglib-uri>/WEB-INF/struts-tiles.tld</taglib-uri>
        <taglib-location>/WEB-INF/struts-tiles.tld</taglib-location>
    </taglib>
    </jsp-config>

 <servlet>
 <servlet-name>action</servlet-name>
<servlet-class>
 org.apache.struts.action.ActionServlet
</servlet-class>
<init-param>
<param-name>config</param-name>
<param-value>/WEB-INF/struts-config.xml</param-value>
</init-param>
<init-param>
<param-name>debug</param-name>
<param-value>2</param-value>
</init-param>
<init-param>
<param-name>detail</param-name>
<param-value>2</param-value>
</init-param>
<load-on-startup>2</load-on-startup>
</servlet>
<servlet-mapping>
<servlet-name>action</servlet-name>
<url-pattern>*.do</url-pattern>
</servlet-mapping>
<session-config>
<session-timeout>30</session-timeout>
</session-config>
</web-app> 
```

而且我还根据博客创建了一个行动表格

包 com.harmony.cloud.action；

```
 import java.util.ArrayList;

 import com.harmony.cloud.bean.TestCaseDetailsBean;
import com.opensymphony.xwork2.ActionSupport;

public class ViewTestCasesForm extends ActionSupport {

private ArrayList<TestCaseDetailsBean> detailsBeans;

public ArrayList<TestCaseDetailsBean> getDetailsBeans() {
    return detailsBeans;
}

public void setDetailsBeans(ArrayList<TestCaseDetailsBean> detailsBeans) {
    this.detailsBeans = detailsBeans;
}

} 
```

还有struts-config.xml

```
<?xml version="1.0" encoding="UTF-8" ?>

<!DOCTYPE struts-config PUBLIC
"-//Apache Software Foundation//DTD Struts Configuration 1.2//EN"
"http://jakarta.apache.org/struts/dtds/struts-config_1_2.dtd">

<struts-config>
<form-beans>
<form-bean name="ViewTestCasesForm"
type="com.harmony.cloud.action.ViewTestCasesForm"/>
</form-beans>

<action-mappings>
<action input="/" name="ViewTestCasesForm" path="/viewAction.do"
scope="session" type="com.harmony.cloud.action.ViewTestCasesAction">
<forward name="success" path="/home.jsp" />
</action>
</action-mappings> 
</struts-config> 
```

我的 JSP 看起来像这样......

```
<%@ page language="java" contentType="text/html; charset=ISO-8859-1"
pageEncoding="ISO-8859-1"%>
<%@ page import="java.util.*" %>
<%@ page import="com.harmony.cloud.bean.TestCaseDetailsBean" %>
<%@ page import="com.harmony.cloud.action.ViewTestCasesAction" %>

<%@ page import="java.sql.*" %>

<%@taglib uri="/struts-tags" prefix="s"%>
<%@ taglib uri="http://displaytag.sf.net" prefix="display" %>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<title>Test Cases List</title>
</head>
<body>
<display:table export="true" id="data"
name="sessionScope.ViewTestCasesForm.detailsBeans"
requestURI="/viewAction.do" pagesize="3">

</display:table>

</body>
 </html> 
```

当我执行时，我收到以下错误............

```
java.lang.ClassNotFoundException: org.apache.commons.lang.UnhandledException
at org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1714)
at org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1559)
at java.lang.Class.getDeclaredConstructors0(Native Method)
at java.lang.Class.privateGetDeclaredConstructors(Unknown Source)
at java.lang.Class.getConstructor0(Unknown Source)
at java.lang.Class.newInstance0(Unknown Source)
at java.lang.Class.newInstance(Unknown Source)
at com.sun.beans.finder.InstanceFinder.instantiate(Unknown Source)
at com.sun.beans.finder.InstanceFinder.find(Unknown Source)
at java.beans.Introspector.findExplicitBeanInfo(Unknown Source)
at java.beans.Introspector.<init>(Unknown Source)
at java.beans.Introspector.getBeanInfo(Unknown Source)
at org.apache.jasper.compiler.Generator$TagHandlerInfo.<init>(Generator.java:3944)
at org.apache.jasper.compiler.Generator$GenerateVisitor.getTagHandlerInfo(Generator.java:2209)
at org.apache.jasper.compiler.Generator$GenerateVisitor.visit(Generator.java:1640)
at org.apache.jasper.compiler.Node$CustomTag.accept(Node.java:1539)
at org.apache.jasper.compiler.Node$Nodes.visit(Node.java:2376)
at org.apache.jasper.compiler.Node$Visitor.visitBody(Node.java:2428)
at org.apache.jasper.compiler.Node$Visitor.visit(Node.java:2434)
at org.apache.jasper.compiler.Node$Root.accept(Node.java:475)
at org.apache.jasper.compiler.Node$Nodes.visit(Node.java:2376)
at org.apache.jasper.compiler.Generator.generate(Generator.java:3490)
at org.apache.jasper.compiler.Compiler.generateJava(Compiler.java:250)
at org.apache.jasper.compiler.Compiler.compile(Compiler.java:373)
at org.apache.jasper.compiler.Compiler.compile(Compiler.java:353)
at org.apache.jasper.compiler.Compiler.compile(Compiler.java:340)
at org.apache.jasper.JspCompilationContext.compile(JspCompilationContext.java:646)
at org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:357)
at org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:390)
at org.apache.jasper.servlet.JspServlet.service(JspServlet.java:334)
at javax.servlet.http.HttpServlet.service(HttpServlet.java:722)
at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:305)
at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)
at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:749)
at org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:487)
at org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:412)
at org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:339)
at org.apache.struts2.dispatcher.ServletDispatcherResult.doExecute(ServletDispatcherResult.java:164)
at org.apache.struts2.dispatcher.StrutsResultSupport.execute(StrutsResultSupport.java:186)
at com.opensymphony.xwork2.DefaultActionInvocation.executeResult(DefaultActionInvocation.java:374)
at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:278)
at org.apache.struts2.interceptor.debugging.DebuggingInterceptor.intercept(DebuggingInterceptor.java:256)
at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)
at com.opensymphony.xwork2.interceptor.DefaultWorkflowInterceptor.doIntercept(DefaultWorkflowInterceptor.java:176)
at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)
at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)
at com.opensymphony.xwork2.validator.ValidationInterceptor.doIntercept(ValidationInterceptor.java:265)
at org.apache.struts2.interceptor.validation.AnnotationValidationInterceptor.doIntercept(AnnotationValidationInterceptor.java:68)
at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)
at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)
at com.opensymphony.xwork2.interceptor.ConversionErrorInterceptor.intercept(ConversionErrorInterceptor.java:138)
at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)
at com.opensymphony.xwork2.interceptor.ParametersInterceptor.doIntercept(ParametersInterceptor.java:236)
at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)
at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)
at com.opensymphony.xwork2.interceptor.ParametersInterceptor.doIntercept(ParametersInterceptor.java:236)
at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)
at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)
at com.opensymphony.xwork2.interceptor.StaticParametersInterceptor.intercept(StaticParametersInterceptor.java:190)
at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)
at org.apache.struts2.interceptor.MultiselectInterceptor.intercept(MultiselectInterceptor.java:75)
at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)
at org.apache.struts2.interceptor.CheckboxInterceptor.intercept(CheckboxInterceptor.java:90)
at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)
at org.apache.struts2.interceptor.FileUploadInterceptor.intercept(FileUploadInterceptor.java:243)
at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)
at com.opensymphony.xwork2.interceptor.ModelDrivenInterceptor.intercept(ModelDrivenInterceptor.java:100)
at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)
at com.opensymphony.xwork2.interceptor.ScopedModelDrivenInterceptor.intercept(ScopedModelDrivenInterceptor.java:141)
at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)
at com.opensymphony.xwork2.interceptor.ChainingInterceptor.intercept(ChainingInterceptor.java:145)
at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)
at com.opensymphony.xwork2.interceptor.PrepareInterceptor.doIntercept(PrepareInterceptor.java:171)
at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)
at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)
at com.opensymphony.xwork2.interceptor.I18nInterceptor.intercept(I18nInterceptor.java:176)
at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)
at org.apache.struts2.interceptor.ServletConfigInterceptor.intercept(ServletConfigInterceptor.java:164)
at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)
at com.opensymphony.xwork2.interceptor.AliasInterceptor.intercept(AliasInterceptor.java:192)
at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)
at com.opensymphony.xwork2.interceptor.ExceptionMappingInterceptor.intercept(ExceptionMappingInterceptor.java:187)
at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)
at org.apache.struts2.impl.StrutsActionProxy.execute(StrutsActionProxy.java:54)
at org.apache.struts2.dispatcher.Dispatcher.serviceAction(Dispatcher.java:511)
at org.apache.struts2.dispatcher.FilterDispatcher.doFilter(FilterDispatcher.java:432)
at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:243)
at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)
at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:222)
at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:123)
at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:472)
at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:168)
at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:99)
at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:929)
at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:118)
at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:407)
at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1002)
at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:585)
at org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:312)
at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)
at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)
at java.lang.Thread.run(Unknown Source) 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-14T08:00:21.110

1.  在您的项目中包含 displaytag 库。[如何？](http://displaytag.sourceforge.net/1.2/install.html)
2.  传递请求中的参数。`private List<ListDetailsBean> detailsList`您有两种选择，但最简单的一种是使用 getter创建属性。

    ```
    public TestAction extends ActionSupport {
        ...
        private List<ListDetailsBean> detailsList;
        ...
        public List<ListDetailsBean> getDetailsList () {...};
        ...
        public String execute () {
            ...
            detailsList = whatever ();
            ...
        }
        ...

    } 
    ```

3.  最后，在您的 jsp 中使用 display 标记和您想要在其中显示的属性。[如何？](http://displaytag.sourceforge.net/1.2/tut_basic.html)

# php - CDBC标准问题

> ID：13873037
> 
> 赞同：0
> 
> 时间：2012-12-14T05:11:08.000
> 
> 标签：php, yii, phpmyadmin

我正在尝试使用 cdbcriteria 在 sql 中获取 min() 的结果。我已经使用了代码

```
$model = new Serviceproposal;
$criteria = new CDbCriteria(); 
$criteria->select = " MIN(proposal_amount) AS min_proposal_amount,ProposalDescription"; 
$criteria->condition = "Communications= 'hai'"; 
$criteria->join='LEFT JOIN Servicerequest on Servicerequest.ServiceRequestID=Serviceproposal.ServiceRequestID';
$criteria->join="LEFT JOIN user on user.country='India' AND t.user_id = user.user_id";
$results = $model->findAll($criteria); 
```

但我得到了错误`Property "Serviceproposal.min_proposal_amount" is not defined.`

```
Database:
User[user_id,name,password],
Provider[user_id,providercompany,providerdetails],
Buyer[user_id,contactinfo],
ServiceRequest[ServiceRequestID,Buyer.user_id,details,date],
ServiceProposal[ServiceProposalId,ServiceRequestID,Provider.user_id,services,propsal_rate] 
```

如何获得最小提案金额的结果？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-14T05:34:34.860

在模型“Serviceproposal”类中添加属性 public $min_proposal_amount; 喜欢然后使用模型对象访问此属性

```
class Serviceproposal extends CActiveRecord
{
    public $min_proposal_amount;

} 
```

# ios - 如何在不使用第三方库的情况下在 Facebook 上共享链接？

> ID：13873040
> 
> 赞同：1
> 
> 时间：2012-12-14T05:11:09.847
> 
> 标签：ios

我怀疑在 facebook 和 twitter 上实现共享链接。实际上，我使用 sharekit 和 addThis 第三方库实现了社交共享链接，它工作正常，但我希望在不使用第三方库的情况下共享链接。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-14T05:40:26.127

在 iOS 6 中，您可以使用`UIActivityViewController`分享您的社交服务链接。

参考：http: [//developer.apple.com/library/ios/#documentation/UIKit/Reference/UIActivityViewController_Class/Reference/Reference.html#//apple_ref/occ/cl/UIActivityViewController](http://developer.apple.com/library/ios/#documentation/UIKit/Reference/UIActivityViewController_Class/Reference/Reference.html#//apple_ref/occ/cl/UIActivityViewController)

就像这几行一样简单：

```
NSString *textToShare = @”I just shared this from my App”;
UIImage *imageToShare = [UIImage imageNamed:@"Image.png"];
NSURL *urlToShare = [NSURL URLWithString:@"http://www.mylink.com"];
NSArray *activityItems = @[textToShare, imageToShare, urlToShare];
UIActivityViewController *activityVC = [[UIActivityViewController alloc]initWithActivityItems:activityItems applicationActivities:nil];
[self presentViewController:activityVC animated:TRUE completion:nil]; 
```

# java - 重写构造函数参数

> ID：13873048
> 
> 赞同：0
> 
> 时间：2012-12-14T05:11:52.513
> 
> 标签：java, constructor

如何在不使用构造函数参数覆盖该变量的情况下获取变量的值？

例如：

```
public class Example {

String something = "";
Scanner sc = new Scanner(System.in);

  public Example()
  {

  }

  public Example(String something){
    this.something = something;
  }

  // Getter method
  public String getSomething() {
    return something;
  }

   public void changeValues() {
   System.out.println("Please change the string!");
   something = sc.next();
   Example set = new Example(something);
   }   
}//example

public class AnotherClass {
    Example test = new Example() 
    // I don't want to overwrite this so I set this to null
    String something2 = test.getSomething(); 
    // the above puts in a null reference instead of the text
  } 
```

请记住，我不想在 AnotherClass 中为构造函数参数硬编码任何内容，并且 changeValues 方法必须保留在 Example 类中。

**编辑**：我用空格实例化了 something 变量，然后我提示用户应该将其存储在变量中，然后将其传递给构造函数。现在，我取回了原始的实例化空间而不是输入！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-14T05:21:22.427

你的问题没有多大意义。

*   如果您在谈论“覆盖”，则构造函数不会被覆盖，因为它们不是继承的。

*   如果您正在谈论`Example`“覆盖”`something`变量的构造函数，那么只需提供一个默认构造函数。但这不会改变任何事情，因为当您不显式初始化`something`时，无论如何都会默认初始化为`null`。事实上，当您使用`null`参数调用现有构造函数时，它不会破坏任何东西。

* * *

然后我们有你奇怪的`changeValues()`方法：

```
public void changeValues() {
    System.out.println("Please change the string! ")
    String foo = sc.next();
    Example set = new Example(foo);
} 
```

这*实际上*是为了：

1.  提示用户
2.  读取一个字符串
3.  创建一个新的 Example 实例，然后
4.  扔掉它！

你可能应该做的是：

```
 something = sc.next(); 
```

# java - ScrollPane 内的 JTable 仅在调整大小后显示

> ID：13873051
> 
> 赞同：1
> 
> 时间：2012-12-14T05:12:43.773
> 
> 标签：java, swing, jtable, jscrollpane

我的应用程序的 JFrame 逻辑如下所示：

```
public Table() {
    super("Chess");
    thisFrame = this;
    tableMenuBar = new JMenuBar();
    populateMenuBar();
    setJMenuBar(tableMenuBar);
    getContentPane().setLayout(new BorderLayout());
    chessBoard = new Board(new StandardBoardConfigurator());
    gamePanel = new GameHistoryPanel();
    chatPanel = new ChatPanel();
    takenPiecesPanel = new TakenPiecesPanel();
    boardPanel = new BoardPanel(chessBoard);
    gameProgress = 1;
    highlightLegalMoves = true;
    moveLog = new ArrayList<Move>();
    gameOver = false;
    getContentPane().add(takenPiecesPanel, BorderLayout.WEST);
    getContentPane().add(boardPanel, BorderLayout.CENTER);
    getContentPane().add(gamePanel, BorderLayout.EAST);
    getContentPane().add(chatPanel, BorderLayout.SOUTH);
    // Make sure we have nice window decorations.
    setDefaultLookAndFeelDecorated(true);
    setDefaultCloseOperation(EXIT_ON_CLOSE);
    setSize(OUTER_FRAME_DIMENSION);
    pack();
    setVisible(true);
} 
```

并且`JPanel`包含 JTable 是“GameHistoryPanel”，它的构造函数逻辑如下：

```
 public GameHistoryPanel() {
        this.setLayout(new BorderLayout());
        this.model = new DataModel();
        this.table = new JTable(model);
        this.table.setRowHeight(15);
        final JScrollPane scrollPane = new JScrollPane(this.table);
        scrollPane.setColumnHeaderView(table.getTableHeader());
        scrollPane.setPreferredSize(HISTORY_PANEL_DIMENSION);
        this.add(scrollPane, BorderLayout.CENTER);
        this.currentRow = 0;
        this.currentColumn = 0;
        this.setVisible(true);
    } 
```

具有以下更新例程，每当进行移动时都会`GamePanel`调用：`setValueAt`

```
 public void increment(final Board board,
                          final Move move) {
        this.model.setValueAt(move, currentRow, currentColumn);
        if(board.currentPlayer().getAlliance() == Alliance.WHITE) {
            currentColumn++;
        } else if (board.currentPlayer().getAlliance() == Alliance.BLACK) {
            currentRow++;
            currentColumn = 0;
        }
    } 
```

启动游戏后，显示`GamePanel`为灰色。当我*垂直*调整它的大小时，它突然出现了所有正确的值。我不明白为什么。我确实注意到调整大小会导致`getValueAt`被调用很多次。有人可以帮我理解这一点吗？

**编辑2**：如果我添加这一行：

```
 this.model.fireTableDataChanged(); 
```

增加，它似乎工作正常。我完全糊涂了……

编辑：这是我的 TableModel 类：

```
 private static class DataModel extends AbstractTableModel {

        private static final String[] names = {"White", "Black"};
        private final List<Row> values;

        public DataModel() {
            values = new ArrayList<Row>();
        }

        @Override
        public int getRowCount() {
            return values.size();
        }

        @Override
        public int getColumnCount() {
            return names.length;
        }

        @Override
        public Object getValueAt(int row, int col) {
            final Row currentRow = values.get(row);
            if(col == 0) {
                return currentRow.getWhiteMove();
            } else if (col == 1) {
                return currentRow.getBlackMove();
            }
            return null;
        }

        @Override
        public void setValueAt(Object aValue, int row, int col) {
            final Row currentRow;
            if(values.size() <= row) {
                currentRow = new Row();
                values.add(currentRow);
            } else {
                currentRow = values.get(row);
            }
            if(col == 0) {
                currentRow.setWhiteMove((Move) aValue);
            } else  if(col == 1) {
                currentRow.setBlackMove((Move)aValue);
            }
            this.fireTableCellUpdated(row, col);
        }

        @Override
        public Class<?> getColumnClass(int col) {
            return Move.class;
        }

        @Override
        public String getColumnName(int col) {
            return names[col];
        }
    }
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-14T10:52:03.337

> 如果我将此行添加`this.model.fireTableDataChanged()`到`increment()`，它似乎工作正常。

您的`setValueAt()`in实现`DataMdel`存在缺陷，因为它可能会`Row`向模型添加实例，而仅调用`fireTableCellUpdated()`单个`row`and `col`。您需要触发适合实际修改的事件。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-14T05:17:00.340

试着打电话

```
.invalidate();
.repaint(); 
```

在 JPanel、JScrollPane、JTable 上

我的猜测是添加作为最后几行`increment()`

```
JTable.invalidate();
JTable.repaint(); 
```

应该足够了。如果没有，请检查每个组件。

# android - android中警报对话框的自定义标题内的复选框处理

> ID：13873053
> 
> 赞同：2
> 
> 时间：2012-12-14T05:12:55.560
> 
> 标签：android, checkbox, android-alertdialog

我的应用程序中有一个警报对话框，其中包含自定义标题和标题字段中的复选框，如下所示。![在此处输入图像描述](../Images/aedb3dd9417a22f44b72578cb0c025f5.png)

勾选“全部”复选框时***，***默认勾选以下所有其他项目（多选项列表），如下图所示：

![在此处输入图像描述](../Images/8d0c6b883e1d18824ea4a4582692fdb1.png)

此外，如果未选中***All***复选框，则应选中先前的选择状态（即，在选择***All***之前）并且应取消选中其他项目。我希望所有这一切都在对话成为焦点时发生。

我尝试的是下面的代码。

```
@Override
        public Dialog onCreateDialog(Bundle savedInstanceState) {
            int title = getArguments().getInt("title");

            View view = getActivity().getLayoutInflater().inflate(
                    R.layout.dialog_categories_title, null);

            cb = (CheckBox) view.findViewById(R.id.checkBox1);
            cb.setOnCheckedChangeListener(new OnCheckedChangeListener() {

                @Override
                public void onCheckedChanged(CompoundButton buttonView,
                        boolean isChecked) {
                    if (isChecked) {
                        for (int i = 0; i < _selections.length; i++) {
                            _selections[i] = isChecked;

                        }
                    }

                }
            });

            return new AlertDialog.Builder(getActivity())
                    .setIcon(R.drawable.alert_dialog_icon)
                    .setTitle(title)
                    .setCustomTitle(view)

                    .setMultiChoiceItems(_categories, _selections,
                            new DialogSelectionClickHandler())

                    .setPositiveButton(R.string.alert_dialog_ok,
                            new DialogInterface.OnClickListener() {
                                public void onClick(DialogInterface dialog,
                                        int whichButton) {
                                    ((MainActivity) getActivity())
                                            .doPositiveClick();
                                }

                            }).create();
} 
```

如果我运行这个，当***全部***被选中时，只有当我关闭并再次打开对话框时才会检查其他项目，但我希望在当前对话框处于焦点时发生这种情况。我怎样才能做到这一点。？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-14T05:36:52.787

```
 ArrayList<Boolean> checked = new ArrayList<Boolean>();
cb.setOnCheckedChangeListener(new OnCheckedChangeListener() {

                @Override
                public void onCheckedChanged(CompoundButton buttonView,
                        boolean isChecked) {
                    if (isChecked) {
                        for (int i = 0; i < _selections.length; i++) {
checked.add(yourCheckBoxArray[i].isChecked)
                            _selections[i] = isChecked;

                        }
                    }
else{
for (int i = 0; i < _selections.length; i++) {
                        yourCheckBoxesArray[i].setChecked(checked.get)

                    }
                }
            }); 
```

当所有复选框都被选中时，将复选框的值（真或假）存储在数组列表中。**当用户取消选中 All 复选框时，然后从“checkd”数组列表**中设置复选框

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-14T05:30:12.293

```
 CheckBox repeatChkBx = (CheckBox) findViewById(R.id.repeat_checkbox);
    repeatChk2 = (CheckBox) findViewById(R.id.repeat_checkbox2);
            repeatChkBx.setOnCheckedChangeListener(new OnCheckedChangeListener() {
                public void onCheckedChanged(CompoundButton buttonView,
                        boolean isChecked) {
                    if (isChecked) {
                        repeatChk2.setChecked(true);
                    }

                }
            }); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-12-14T05:32:05.510

我已经实现了您在图像中显示的东西。我使用的是自定义对话。我在 xml 文件中使用了 Listview。

首先定义初始化下面的arraylist。

```
// Catagory Selection
    public static ArrayList<String> acceptpositionwhoesNearMe = new ArrayList<String>();
    public static String AcceptCatagotyIDWhoesNearMe = ""; 
```

下面是我使用的代码**showDialog()**。

```
public void showDialog() {
        Log.i(TAG, "Inside Show Dialog");
        final Dialog warning = new Dialog(logout_dialogue.this);
        warning.requestWindowFeature(Window.FEATURE_NO_TITLE);
        warning.setContentView(R.layout.YOUR_XML);
        warning.setCancelable(false);
        warning.getWindow().setGravity(Gravity.CENTER);

        WindowManager mWinMgr;
        mWinMgr = (WindowManager) this.getSystemService(Context.WINDOW_SERVICE);
        int displayWidth = mWinMgr.getDefaultDisplay().getWidth();

        warning.getWindow().setLayout(displayWidth - 75,
                LayoutParams.WRAP_CONTENT);
        warning.setOnDismissListener(new OnDismissListener() {
            public void onDismiss(DialogInterface dialog) {
                Log.i(TAG, "Inside Dialog interface");
                // test = true;
                warning.dismiss();
            }
        });
        ListView listinterest = (ListView) warning
                .findViewById(R.id.list_catagory);
        /*
         * ArrayList<String> count = new ArrayList<String>(); count.clear();
         * count.add("Hotels"); count.add("Restaurants"); count.add("Gardens");
         * count.add("Theater");
         */
        CatagorySummaryAdapter adapter;
        adapter = new CatagorySummaryAdapter(YOUR_ACTIVITY.this,
                YOUR_ARRAYLIST_OF_CATAGORY, true);

        listinterest.setAdapter(adapter);

        Button btnOk = (Button) warning.findViewById(R.id.btn_close);
        btnOk.setOnClickListener(new OnClickListener() {

            @Override
            public void onClick(View v) {

                // TODO Auto-generated method stub

                String Catagory = "";
                int count = HomeActivity.acceptpositionwhoesNearMe.size();

                if (count > 0) {
                    for (int i = 0; i < HomeActivity.acceptpositionwhoesNearMe
                            .size(); i++) {

                        int pos = Integer
                                .parseInt(HomeActivity.acceptpositionwhoesNearMe
                                        .get(i));
                        if (Catagory.equals("")) {
                            Catagory = GetUserDetailsJsonParser.CategoryName
                                    .get(pos);
                            HomeActivity.AcceptCatagotyIDWhoesNearMe = GetUserDetailsJsonParser.CategoryID
                                    .get(pos);
                        } else {

                            Catagory = Catagory
                                    + ","
                                    + GetUserDetailsJsonParser.CategoryName
                                            .get(pos);
                            HomeActivity.AcceptCatagotyIDWhoesNearMe = HomeActivity.AcceptCatagotyIDWhoesNearMe
                                    + ","
                                    + GetUserDetailsJsonParser.CategoryID
                                            .get(pos);
                        }

                    }

                    Log.i(TAG, "Accept Catagory IDs WhoseNear Me"
                            + HomeActivity.AcceptCatagotyIDWhoesNearMe);

                    GetUserDetailsJsonParser.InterestedIn = HomeActivity.AcceptCatagotyIDWhoesNearMe;
                    UpdateMap = true;
                    /*
                     * startActivity(new Intent(WhosNearMe.this,
                     * BuildInukshk_4.class));
                     */
                    new GetUsersInRadiusAsyncTask().execute();

                    warning.dismiss();

                } else {
                    Toast.makeText(WhosNearMe.this,
                            "Please Select One or More Catagory", 3).show();
                }
                // test = true;

            }
        });

        warning.show();
    } 
```

这是**我的 logout_dialogue.xml**：

```
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent"
    android:background="@drawable/edittext_back_final"
    android:orientation="vertical" >

    <LinearLayout
        android:id="@+id/linearLayout1"
        android:layout_width="fill_parent"
        android:layout_height="fill_parent"
        android:orientation="vertical" >

        <LinearLayout
            android:layout_width="fill_parent"
            android:layout_height="wrap_content" >

            <com.inukshk.CustomTextViewBold
                android:layout_width="fill_parent"
                android:layout_height="wrap_content"
                android:layout_marginLeft="10dp"
                android:layout_marginTop="10dp"
                android:text="Interested in"
                android:textColor="#3C3C3C"
                android:textSize="18sp"
                android:textStyle="bold" />
        </LinearLayout>

        <ListView
            android:id="@+id/list_catagory"
            android:layout_width="fill_parent"
            android:layout_height="0dp"
            android:layout_marginLeft="10dp"
            android:layout_marginTop="10dp"
            android:layout_weight="1"
            android:cacheColorHint="#00000000"
            android:divider="@android:color/transparent" >
        </ListView>

        <Button
            android:id="@+id/btn_close"
            android:layout_width="99dp"
            android:layout_height="40dp"
            android:layout_alignParentLeft="true"
            android:layout_marginLeft="10dp"
            android:background="@drawable/btn_back_final"
            android:text="CLOSE"
            android:textColor="#ffffff"
            android:textSize="16dp"
            android:textStyle="bold" />
    </LinearLayout>

</LinearLayout> 
```

这是我的**CatagorySummaryAdapter.java**：

```
package com.inukshk.adapter;

import java.util.ArrayList;

import android.app.Activity;
import android.content.Context;
import android.util.Log;
import android.view.LayoutInflater;
import android.view.View;
import android.view.ViewGroup;
import android.widget.BaseAdapter;
import android.widget.CheckBox;
import android.widget.CompoundButton;
import android.widget.CompoundButton.OnCheckedChangeListener;
import android.widget.RelativeLayout;
import android.widget.TextView;

import com.inukshk.HomeActivity;
import com.inukshk.R;
import com.inukshk.CreateInukshk.BuildInukshk_3;
import com.inukshk.WhosNearMe.WhosNearMe;

public class CatagorySummaryAdapter extends BaseAdapter {

    public Activity context;
    String TAG = "CatagorySummaryAdapter";
    public LayoutInflater inflater;
    public ArrayList<String> Count;
    boolean Dialogue;

    public CatagorySummaryAdapter(Activity context, ArrayList<String> Count,
            boolean Dialogue) {
        super();
        this.context = context;
        this.inflater = (LayoutInflater) context
                .getSystemService(Context.LAYOUT_INFLATER_SERVICE);

        this.Count = Count;

        this.Dialogue = Dialogue;

        // TODO Auto-generated constructor stub
    }

    @Override
    public int getCount() {
        // TODO Auto-generated method stub
        return Count.size();
    }

    @Override
    public Object getItem(int position) {
        // TODO Auto-generated method stub
        return Count.get(position);
    }

    @Override
    public long getItemId(int position) {
        // TODO Auto-generated method stub
        return position;
    }

    @Override
    public int getItemViewType(int position) {
        // TODO Auto-generated method stub
        return position;
    }

    public class ViewHolder {
        RelativeLayout lsummary_row;
        TextView txtinterestname;
        CheckBox chkinterest;
    }

    @Override
    public View getView(int position, View convertView, ViewGroup parent) {
        // TODO Auto-generated method stub
        int pos = position;
        ViewHolder holder;

        if (convertView == null) {
            holder = new ViewHolder();

            if (Dialogue) {
                convertView = inflater.inflate(
                        R.layout.listview_summary_dialogue_row, null);
            } else {
                convertView = inflater.inflate(R.layout.listview_summary_row,
                        null);
            }

            holder.txtinterestname = (TextView) convertView
                    .findViewById(R.id.txtinterestname);
            holder.lsummary_row = (RelativeLayout) convertView
                    .findViewById(R.id.lsummary_row);
            holder.chkinterest = (CheckBox) convertView
                    .findViewById(R.id.chkinterest);
            holder.chkinterest.setEnabled(true);

            holder.chkinterest.setTag(position);

            if (Dialogue) {

                for (int i = 0; i < HomeActivity.acceptpositionwhoesNearMe.size(); i++) {
                    int index = Integer
                            .parseInt(HomeActivity.acceptpositionwhoesNearMe
                                    .get(i));
                    // Log.i(TAG, "Inside for Loop of Accept Positions");
                    if (index == position) {
                        // Log.i(TAG, "Matched for index" + index);
                        holder.chkinterest.setChecked(true);
                        holder.chkinterest
                                .setButtonDrawable(R.drawable.checkbox_checked);
                    }

                }

            } else {
                for (int i = 0; i < BuildInukshk_3.acceptposition.size(); i++) {
                    int index = Integer.parseInt(BuildInukshk_3.acceptposition
                            .get(i));
                    // Log.i(TAG, "Inside for Loop of Accept Positions");
                    if (index == position) {
                        // Log.i(TAG, "Matched for index" + index);
                        holder.chkinterest.setChecked(true);
                        holder.chkinterest
                                .setButtonDrawable(R.drawable.checkbox_checked);
                    }

                }
            }

            convertView.setTag(holder);
        } else {
            holder = (ViewHolder) convertView.getTag();
        }

        holder.chkinterest
                .setOnCheckedChangeListener(new OnCheckedChangeListener() {

                    @Override
                    public void onCheckedChanged(CompoundButton buttonView,
                            boolean isChecked) {
                        // TODO Auto-generated method stub
                        // Log.i(TAG, "ISChecked is " + isChecked);
                        if (isChecked) {
                            // Log.i(TAG, "ISChecked is true");
                            buttonView
                                    .setButtonDrawable(R.drawable.checkbox_checked);
                            int position = Integer.parseInt(buttonView.getTag()
                                    .toString());
                            if (Dialogue) {
                                HomeActivity.acceptpositionwhoesNearMe.add(String
                                        .valueOf(position));

                                Log.i(TAG, "Accept ID of Dialogue"
                                        + HomeActivity.acceptpositionwhoesNearMe);
                            } else {
                                BuildInukshk_3.acceptposition.add(String
                                        .valueOf(position));

                                Log.i(TAG, "Accept ID"
                                        + BuildInukshk_3.acceptposition);
                            }

                        } else {
                            // Log.i(TAG, "ISChecked is false");
                            buttonView
                                    .setButtonDrawable(R.drawable.checkbox_unchecked);
                            int position = Integer.parseInt(buttonView.getTag()
                                    .toString());

                            if (Dialogue) {
                                if (HomeActivity.acceptpositionwhoesNearMe
                                        .contains(String.valueOf(position))) {
                                    // Log.i(TAG,
                                    // "Inside Already present position");
                                    HomeActivity.acceptpositionwhoesNearMe
                                            .remove(String.valueOf(position));
                                    Log.i(TAG,
                                            "Accept ID Dialogue***"
                                                    + HomeActivity.acceptpositionwhoesNearMe);
                                }
                            } else {
                                if (BuildInukshk_3.acceptposition
                                        .contains(String.valueOf(position))) {
                                    // Log.i(TAG,
                                    // "Inside Already present position");
                                    BuildInukshk_3.acceptposition.remove(String
                                            .valueOf(position));
                                    Log.i(TAG, "Accept ID ***"
                                            + BuildInukshk_3.acceptposition);
                                }
                            }
                            //
                        }

                    }
                });

        holder.txtinterestname.setText(Count.get(pos));

        return convertView;
    }

} 
```

尝试通过它可能会帮助你。

# jpa-2.0 - 查询 Money/BigDecimal 数据类型

> ID：13873054
> 
> 赞同：1
> 
> 时间：2012-12-14T05:12:59.040
> 
> 标签：jpa-2.0, ejb-3.0, eclipselink

我正在尝试查询表以查找 MRP 价格。

```
BigDecimal mrp = 5.5;

Query query = em.createQuery("SELECT p FROM Product p WHERE p.mrp=:mrp");
query.set("mrp",mrp); 
```

在上面我得到一个错误

```
Caused by: org.postgresql.util.PSQLException: ERROR: operator does not exist: money = numeric 
```

在正常的 sql 语法中，我将使用

```
select * FROM a.product WHERE mrp='5.5'; 
```

所以现在我的问题是如何在数据库中搜索 Money DataType。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-17T15:09:40.683

似乎 Postgres 希望您绑定特定的货币类型，而不是 BigDecimal。您可能需要映射到 Postgres JDBC 货币类型，或使用 EclipseLink 中的转换器。

您还可以在查询中禁用参数绑定，以便将类型打印为字符串。

```
query.setHint("eclipselink.jdbc.bind-parameters", "false"); 
```

# xpath - 命名空间和 xpath

> ID：13873058
> 
> 赞同：0
> 
> 时间：2012-12-14T05:14:17.217
> 
> 标签：xpath, xml-signature, xades4j

图书馆 xades4j 。代码如下：

```
 static {
            try {
                DocumentBuilderFactory dbf = DocumentBuilderFactory.newInstance();
                dbf.setNamespaceAware(true);
                db = dbf.newDocumentBuilder();
            } catch (ParserConfigurationException ex) {
                 // ... ... 
            }
        }

Document doc = db.getNewDocument();          
DataObjectDesc obj1 = new DataObjectReference(
"file:///E:/doctosign/forxpath/ori_message.xml")
.withCommitmentType(getCommitmentType())
.withTransform(new     CanonicalXMLWithoutComments()) 
.withTransform(XPath2Filter.intersect(getxPath())) 
.withDataObjectTimeStamp( );

XadesSigner xadesSigner = (XadesSigner) new XadesTSigningProfile(keyProvider)
.withTimeStampTokenProvider(TestTimeStampTokenProvider.class)    
.withAlgorithmsProviderEx(ExclusiveC14nForTimeStampsAlgorithmsProvider.class)
.newSigner();

xadesSigner.sign(new SignedDataObjects(obj1),  doc); 
```

如果 XML 文档中没有定义任何命名空间并且 getxPath() 返回路径喜欢

> "/文档/组件" ,

签名生成和验证都运行良好。

然后，我将命名空间添加到 xml 文件中：

> ```
> <Document xmlns="ff:kk"> 
> ```

并将 getxPath() 的返回值更改为

> “/ff:kk:文档/ff:kk:组件”

签名生成时抛出异常

> 前缀必须解析为命名空间：ff:kk

似乎我必须在签名生成期间将 xpath.setNamespaceContext(javax.xml.namespace.NamespaceContext) 添加到代码中。

但我在哪里可以做到。

谢谢

异常堆栈如下

```
xades4j.production.PropertyDataGenerationException: Property data generation failed for IndividualDataObjectsTimeStamp: cannot create time stamp input
    at xades4j.production.DataGenBaseTimeStamp.generatePropertyData(DataGenBaseTimeStamp.java:71)
    at xades4j.production.PropertiesDataObjectsGeneratorImpl.doGenPropsData(PropertiesDataObjectsGeneratorImpl.java:86)
    at xades4j.production.PropertiesDataObjectsGeneratorImpl.genPropsData(PropertiesDataObjectsGeneratorImpl.java:72)
    at xades4j.production.PropertiesDataObjectsGeneratorImpl.generateSignedPropertiesData(PropertiesDataObjectsGeneratorImpl.java:55)
    at xades4j.production.SignerBES.sign(SignerBES.java:220)
    at xades4j.production.SignerBES.sign(SignerBES.java:122)
    at jp.okayamauniv.medinformatics.xmlsign.xades.XAdES_TEnvelopedXPathSignerImpl.sign(XAdES_TEnvelopedXPathSignerImpl.java:59)
    at jp.okayamauniv.medinformatics.xmlsign.xades.XAdESSigner.generateSignature(XAdESSigner.java:83)
    at jp.okayamauniv.medinformatics.xmlsign.xades.IXAdES_BESXPathSignWorkFlow.sign(IXAdES_BESXPathSignWorkFlow.java:37)
    at jp.okayamauniv.medinformatics.xmlsign.xades.IXAdESSignWorkFlow.signWorkflow(IXAdESSignWorkFlow.java:71)
    at xsignui.partinpp2.MainWindowPart$9.widgetSelected(MainWindowPart.java:723)
    at org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:248)
    at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:84)
    at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1053)
    at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:4169)
    at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3758)
    at org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine$9.run(PartRenderingEngine.java:1021)
    at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:332)
    at org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine.run(PartRenderingEngine.java:915)
    at org.eclipse.e4.ui.internal.workbench.E4Workbench.createAndRunUI(E4Workbench.java:86)
    at org.eclipse.e4.ui.internal.workbench.swt.E4Application.start(E4Application.java:150)
    at org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:196)
    at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:110)
    at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:79)
    at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:353)
    at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:180)
    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
    at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
    at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
    at java.lang.reflect.Method.invoke(Unknown Source)
    at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:629)
    at org.eclipse.equinox.launcher.Main.basicRun(Main.java:584)
    at org.eclipse.equinox.launcher.Main.run(Main.java:1438)
    at org.eclipse.equinox.launcher.Main.main(Main.java:1414)
Caused by: xades4j.utils.CannotAddDataToDigestInputException: Prefix must resolve to a namespace:  ff:kk
    at xades4j.utils.TimeStampDigestInputImpl.addReference(TimeStampDigestInputImpl.java:68)
    at xades4j.production.DataGenIndivDataObjsTimeStamp.addPropSpecificTimeStampInput(DataGenIndivDataObjsTimeStamp.java:64)
    at xades4j.production.DataGenIndivDataObjsTimeStamp.addPropSpecificTimeStampInput(DataGenIndivDataObjsTimeStamp.java:41)
    at xades4j.production.DataGenBaseTimeStamp.generatePropertyData(DataGenBaseTimeStamp.java:58)
    ... 33 more
Caused by: org.apache.xml.security.signature.XMLSignatureException: Prefix must resolve to a namespace:  ff:kk
Original Exception was org.apache.xml.security.transforms.TransformationException: Prefix must resolve to a namespace:  ff:kk
Original Exception was org.apache.xpath.domapi.XPathStylesheetDOM3Exception: Prefix must resolve to a namespace:  ff:kk
    at org.apache.xml.security.signature.Reference.getContentsAfterTransformation(Reference.java:464)
    at org.apache.xml.security.signature.Reference.getContentsAfterTransformation(Reference.java:480)
    at xades4j.utils.TimeStampDigestInputImpl.addReference(TimeStampDigestInputImpl.java:63)
    ... 36 more
Caused by: org.apache.xml.security.transforms.TransformationException: Prefix must resolve to a namespace:  ff:kk
Original Exception was org.apache.xpath.domapi.XPathStylesheetDOM3Exception: Prefix must resolve to a namespace:  ff:kk
    at org.apache.xml.security.transforms.implementations.TransformXPath2Filter.enginePerformTransform(TransformXPath2Filter.java:138)
    at org.apache.xml.security.transforms.Transform.performTransform(Transform.java:304)
    at org.apache.xml.security.transforms.Transforms.performTransforms(Transforms.java:277)
    at org.apache.xml.security.signature.Reference.getContentsAfterTransformation(Reference.java:448)
    ... 38 more
Caused by: org.apache.xpath.domapi.XPathStylesheetDOM3Exception: Prefix must resolve to a namespace:  ff:kk
    at org.apache.xpath.compiler.XPathParser.errorForDOM3(XPathParser.java:655)
    at org.apache.xpath.compiler.Lexer.mapNSTokens(Lexer.java:647)
    at org.apache.xpath.compiler.Lexer.tokenize(Lexer.java:365)
    at org.apache.xpath.compiler.Lexer.tokenize(Lexer.java:98)
    at org.apache.xpath.compiler.XPathParser.initXPath(XPathParser.java:112)
    at org.apache.xpath.XPath.<init>(XPath.java:178)
    at org.apache.xml.security.utils.XalanXPathAPI.createXPath(XalanXPathAPI.java:159)
    at org.apache.xml.security.utils.XalanXPathAPI.eval(XalanXPathAPI.java:134)
    at org.apache.xml.security.utils.XalanXPathAPI.selectNodeList(XalanXPathAPI.java:82)
    at org.apache.xml.security.transforms.implementations.TransformXPath2Filter.enginePerformTransform(TransformXPath2Filter.java:117)
    ... 41 more
jp.okayamauniv.medinformatics.xmlsign.xades.ErrorInGenerateSignatureException: Property data generation failed for IndividualDataObjectsTimeStamp: cannot create time stamp input
    at jp.okayamauniv.medinformatics.xmlsign.xades.XAdES_TEnvelopedXPathSignerImpl.sign(XAdES_TEnvelopedXPathSignerImpl.java:69)
    at jp.okayamauniv.medinformatics.xmlsign.xades.XAdESSigner.generateSignature(XAdESSigner.java:83)
    at jp.okayamauniv.medinformatics.xmlsign.xades.IXAdES_BESXPathSignWorkFlow.sign(IXAdES_BESXPathSignWorkFlow.java:37)
    at jp.okayamauniv.medinformatics.xmlsign.xades.IXAdESSignWorkFlow.signWorkflow(IXAdESSignWorkFlow.java:71)
    at xsignui.partinpp2.MainWindowPart$9.widgetSelected(MainWindowPart.java:723)
    at org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:248)
    at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:84)
    at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1053)
    at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:4169)
    at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3758)
    at org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine$9.run(PartRenderingEngine.java:1021)
    at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:332)
    at org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine.run(PartRenderingEngine.java:915)
    at org.eclipse.e4.ui.internal.workbench.E4Workbench.createAndRunUI(E4Workbench.java:86)
    at org.eclipse.e4.ui.internal.workbench.swt.E4Application.start(E4Application.java:150)
    at org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:196)
    at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:110)
    at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:79)
    at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:353)
    at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:180)
    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
    at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
    at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
    at java.lang.reflect.Method.invoke(Unknown Source)
    at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:629)
    at org.eclipse.equinox.launcher.Main.basicRun(Main.java:584)
    at org.eclipse.equinox.launcher.Main.run(Main.java:1438)
    at org.eclipse.equinox.launcher.Main.main(Main.java:1414)
Caused by: xades4j.production.PropertyDataGenerationException: Property data generation failed for IndividualDataObjectsTimeStamp: cannot create time stamp input
    at xades4j.production.DataGenBaseTimeStamp.generatePropertyData(DataGenBaseTimeStamp.java:71)
    at xades4j.production.PropertiesDataObjectsGeneratorImpl.doGenPropsData(PropertiesDataObjectsGeneratorImpl.java:86)
    at xades4j.production.PropertiesDataObjectsGeneratorImpl.genPropsData(PropertiesDataObjectsGeneratorImpl.java:72)
    at xades4j.production.PropertiesDataObjectsGeneratorImpl.generateSignedPropertiesData(PropertiesDataObjectsGeneratorImpl.java:55)
    at xades4j.production.SignerBES.sign(SignerBES.java:220)
    at xades4j.production.SignerBES.sign(SignerBES.java:122)
    at jp.okayamauniv.medinformatics.xmlsign.xades.XAdES_TEnvelopedXPathSignerImpl.sign(XAdES_TEnvelopedXPathSignerImpl.java:59)
    ... 27 more
Caused by: xades4j.utils.CannotAddDataToDigestInputException: Prefix must resolve to a namespace:  ff:kk
    at xades4j.utils.TimeStampDigestInputImpl.addReference(TimeStampDigestInputImpl.java:68)
    at xades4j.production.DataGenIndivDataObjsTimeStamp.addPropSpecificTimeStampInput(DataGenIndivDataObjsTimeStamp.java:64)
    at xades4j.production.DataGenIndivDataObjsTimeStamp.addPropSpecificTimeStampInput(DataGenIndivDataObjsTimeStamp.java:41)
    at xades4j.production.DataGenBaseTimeStamp.generatePropertyData(DataGenBaseTimeStamp.java:58)
    ... 33 more
Caused by: org.apache.xml.security.signature.XMLSignatureException: Prefix must resolve to a namespace:  ff:kk
Original Exception was org.apache.xml.security.transforms.TransformationException: Prefix must resolve to a namespace:  ff:kk
Original Exception was org.apache.xpath.domapi.XPathStylesheetDOM3Exception: Prefix must resolve to a namespace:  ff:kk
    at org.apache.xml.security.signature.Reference.getContentsAfterTransformation(Reference.java:464)
    at org.apache.xml.security.signature.Reference.getContentsAfterTransformation(Reference.java:480)
    at xades4j.utils.TimeStampDigestInputImpl.addReference(TimeStampDigestInputImpl.java:63)
    ... 36 more
Caused by: org.apache.xml.security.transforms.TransformationException: Prefix must resolve to a namespace:  ff:kk
Original Exception was org.apache.xpath.domapi.XPathStylesheetDOM3Exception: Prefix must resolve to a namespace:  ff:kk
    at org.apache.xml.security.transforms.implementations.TransformXPath2Filter.enginePerformTransform(TransformXPath2Filter.java:138)
    at org.apache.xml.security.transforms.Transform.performTransform(Transform.java:304)
    at org.apache.xml.security.transforms.Transforms.performTransforms(Transforms.java:277)
    at org.apache.xml.security.signature.Reference.getContentsAfterTransformation(Reference.java:448)
    ... 38 more
Caused by: org.apache.xpath.domapi.XPathStylesheetDOM3Exception: Prefix must resolve to a namespace:  ff:kk
    at org.apache.xpath.compiler.XPathParser.errorForDOM3(XPathParser.java:655)
    at org.apache.xpath.compiler.Lexer.mapNSTokens(Lexer.java:647)
    at org.apache.xpath.compiler.Lexer.tokenize(Lexer.java:365)
    at org.apache.xpath.compiler.Lexer.tokenize(Lexer.java:98)
    at org.apache.xpath.compiler.XPathParser.initXPath(XPathParser.java:112)
    at org.apache.xpath.XPath.<init>(XPath.java:178)
    at org.apache.xml.security.utils.XalanXPathAPI.createXPath(XalanXPathAPI.java:159)
    at org.apache.xml.security.utils.XalanXPathAPI.eval(XalanXPathAPI.java:134)
    at org.apache.xml.security.utils.XalanXPathAPI.selectNodeList(XalanXPathAPI.java:82)
    at org.apache.xml.security.transforms.implementations.TransformXPath2Filter.enginePerformTransform(TransformXPath2Filter.java:117)
    ... 41 more 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-18T21:34:08.907

在命名空间声明中，您声明该元素的默认命名空间是“ff:kk”，而不是前缀。在 xpath 表达式中，您将其用作未定义的前缀。

您可能想要`xmlns:prefix="namespace"`在顶部元素上然后`/prefix:Document/prefix:component`在 xpath 上。

# sonarqube - 嵌入式错误：分析 c# 项目时

> ID：13873061
> 
> 赞同：3
> 
> 时间：2012-12-14T05:14:24.400
> 
> 标签：sonarqube

分析交流电项目时出现嵌入式错误。请帮我解决这个问题。

这是我的日志文件数据。

```
 [INFO] [10:34:52.875] Inside Core CppPlugin.getExtension()
 [INFO] [10:34:53.140] Selected quality profile : [name=Sonar C# Way,language=cs]

 [INFO] [10:34:53.203] Configure maven plugins...
 [INFO] [10:34:53.250] Compare to previous analysis
 [INFO] [10:34:53.296] Compare over 5 days (2012-12-09)
 [INFO] [10:34:53.296] Compare over 30 days (2012-11-14)
 [INFO] ------------------------------------------------------------------------
 [ERROR] BUILD ERROR
 [INFO] ------------------------------------------------------------------------
 [INFO] Can not execute Sonar

 Embedded error: org.sonar.plugin.dotnet.coverity.CoveritySensor has unsatisfied
 dependency 'class org.sonar.plugins.csharp.api.MicrosoftWindowsEnvironment' for
 constructor 'public org.sonar.plugin.dotnet.coverity.CoveritySensor(org.sonar.ap
 i.resources.ProjectFileSystem,org.sonar.api.profiles.RulesProfile,org.sonar.plug
 in.dotnet.coverity.CoverityProfileExporter,org.sonar.plugin.dotnet.coverity.Cove
 rityResultParser,org.sonar.plugins.csharp.api.CSharpConfiguration,org.sonar.plug
 ins.csharp.api.MicrosoftWindowsEnvironment)' from org.picocontainer.DefaultPicoC
 ontainer@1f541ef:178<[Immutable]:org.picocontainer.DefaultPicoContainer@b38dba:2
 42<[Immutable]:org.picocontainer.DefaultPicoContainer@2a7640:47<|
 [INFO] ------------------------------------------------------------------------
 [INFO] For more information, run Maven with the -e switch
 [INFO] ------------------------------------------------------------------------
 [INFO] Total time: 36 seconds
 [INFO] Finished at: Fri Dec 14 10:34:53 IST 2012
 [INFO] Final Memory: 19M/38M
 [INFO] ------------------------------------------------------------------------ 
```

提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-14T09:14:48.917

我不知道你从哪里得到这个“Sonar Coverity”插件（它不是 Sonar Plugins Forge 的一部分），但看起来你正在尝试使用这个插件，而你还没有安装 .NET 和 C# 插件然而...

# c# - 在批量复制到数据库之前获取重复记录

> ID：13873067
> 
> 赞同：1
> 
> 时间：2012-12-14T05:15:22.227
> 
> 标签：c#, sql, sql-server-2008, datatable, duplicate-data

我现在通过使用将数据从一个客户端数据库复制`DB2`到主数据库。`DB1``SqlBulkCopy`

```
DataTable dtTable = new DataTable();
sqlDB2DataAdapter.Fill(dtTable); //select * from tblOrdersDB2

SqlBulkCopy bulkcopy = new SqlBulkCopy(sqlDB1Connection)
bulkcopy.DestinationTableName = "dbo.tblOrdersDB1";
bulkcopy.WriteToServer(dtTable); 
```

通过创建[INDEX](http://msdn.microsoft.com/en-us/library/ms188783.aspx)，当我将批量插入数据到 db 时，不会插入所有重复值。
问题是我想报告一个所有重复记录被忽略的 CSV 文件。
我怎样才能实现这种重复记录？有没有一种简单的方法可以做到这一点？
谢谢你。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-14T05:29:25.393

为什么不在初始 SELECT 期间过滤我们的重复记录？并作为单独的任务选择并报告重复用户。重复的事情确实是与批量复制不同的问题。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-14T07:53:44.287

这可能是一个帮助

```
class TableComparer : EqualityComparer<DataRow>
{
    public override bool Equals(DataRow c1, DataRow c2)
    {
        if (c1["field1"] == c1["field1"] &&
            c1["field2"] == c1["field2"])
        {
            return true;
        }
        else
        {
            return false;
        }
    }

    public override int GetHashCode(DataRow c)
    {
        int hash = 23;
        hash = hash * 37 + c["field1"].GetHashCode();
        hash = hash * 37 + c["field2"].GetHashCode();
        return hash;
    }
}

    TableComparer eqc = new TableComparer();
    var newValues = tempList.Rows.Cast<DataRow>().Distinct(eqc).ToList();

SqlBulkCopy bulkcopy = new SqlBulkCopy(sqlDB1Connection)
bulkcopy.DestinationTableName = "dbo.tblOrdersDB1";
bulkcopy.WriteToServer(newValues); 
```

# java - 如何比较java中两个通用列表的元素？

> ID：13873068
> 
> 赞同：0
> 
> 时间：2012-12-14T05:15:22.787
> 
> 标签：java

我有两个数据类型类的通用列表：RequiredList 和 PrimaryList

```
 public class Data{
        private String dataCode;
        private String dataDesc; 

        public String getDataCode(){}

        public void setDataCode(String dataCode){}

        public String getDataDesc(){}

        public void setDataDesc(String dataDesc){}

        }

    public static void main(String[] args) {
        List<Data> primaryList = new ArrayList<Data>();
        for (int i = 2; i < 5; i++) {
            Data data = new Data();
            data.setDataCode("code" + i);
            data.setDataDesc("desc" + i);
            primaryList.add(data);
        }

        List<Data> requiredList = new ArrayList<Data>();
        for (int i = 0; i < 8; i++) {
            Data data = new Data();
            data.setDataCode("code" + i);
            data.setDataDesc("desc" + i);
            requiredList.add(data);

        }
        StringBuffer partyList = new StringBuffer();
        for (int i = 0; i < requiredList.size(); i++) {
            if (primaryList.size() > i
                    && !requiredList.get(i).getDataCode().equals(primaryList.get(i).getDataCode())) {
                partyList.append(requiredList.get(i).getDataDesc());
                partyList.append(",");

            }
            if(primaryList.size() <= i)
            {
                partyList.append(requiredList.get(i).getDataDesc());
                partyList.append(",");
            }           
        }
        System.out.println(partyList.toString());
    } 
```

我想将 requiredList 的元素与 primaryList 的元素进行比较。那些 primaryList 的元素不在 requiredList 中，它们将被添加到新列表中。有人可以帮我吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-14T05:27:29.280

首先，您需要为数据实现`equals()`和`hashcode()`

然后

```
List<Data> newlist = new ArrayList<Data>();
for(Data data : primaryList ) {
   if(!requiredList.contains(data) ) {
       newlist.add(data);
   }
 } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-14T05:44:25.557

> primaryList 的那些元素不在 requiredList 中，它们将被添加到新列表中。

查看[列表](http://docs.oracle.com/javase/6/docs/api/java/util/List.html) `removeAll()`或`retainAll()`方法在您的用例中是否有用。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-14T05:32:32.923

如果您可以修改primaryList，那么`removeAll`就可以了

```
primaryList.removeAll(requiredList); 
```

正如@Subin S 指出的那样`equals`，`hashCode`需要为`Data`.

# python-2.7 - 日期时间导入不起作用（python 与 Django）

> ID：13873069
> 
> 赞同：1
> 
> 时间：2012-12-14T05:15:27.157
> 
> 标签：python-2.7, django-views

这很奇怪，但 datetime 似乎不起作用

我正在尝试遵循 django 教程（第 3 章，[http://www.djangobook.com/en/2.0/chapter03.html](http://www.djangobook.com/en/2.0/chapter03.html)）。但是下面的代码会引发语法错误： undefined variable from import: datetime

它不喜欢语句“now = datetime.datetime.now()”

* * *

```
from django.http import HttpResponse
import datetime

def current_datetime(request):
    now = datetime.datetime.now()
    html = "<html><body>It is now %s.</body></html>" % now
    return HttpResponse(html) 
```

* * *

# apache - .htaccess 中的 KeepAlive 指令

> ID：13873071
> 
> 赞同：2
> 
> 时间：2012-12-14T05:15:54.790
> 
> 标签：apache, .htaccess

我将此指令包含在根 .htaccess 文件中：

`KeepAliveTimeout 3`

现在我收到此错误消息

“内部服务器错误服务器遇到内部错误或配置错误，无法完成您的请求。请联系服务器管理员 admin@mydomain 并告知他们错误发生的时间，以及您可能所做的任何可能导致错误。有关此错误的更多信息可能在服务器错误日志中可用。

为什么？任何人都可以帮我解决这个问题，我们确实想减少连接时间。

谢谢你。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-14T05:18:20.390

好像不支持。从 2.4.3 及更高版本开始支持该[指令。](http://httpd.apache.org/docs/trunk/mod/core.html#keepalivetimeout)检查你的 Apache 版本。

# java - 为什么在实例化一个对象时需要列出两种对象类型？

> ID：13873073
> 
> 赞同：5
> 
> 时间：2012-12-14T05:16:22.553
> 
> 标签：java, object

如果我将 JungleCat 作为 Cat 的子类（JungleCat *extends* Cat），然后我说：

```
JungleCat cat1 = new JungleCat();
Cat cat2 = new Cat();
Cat cat3 = new JungleCat();
JungleCat cat4 = new Cat(); //this one is illegal, right?
JungleCat cat5; 
```

我想知道 , , , 和 的`cat1`对象`cat2`类型`cat3`是`cat4`什么`cat5`？我还想知道为什么在实例化一个对象时会有冗余：为什么在实例化一个对象时需要列出两种对象类型。

如果这是一个非常基本的问题，我很抱歉，但这是我只想*一劳永逸*地知道的事情，并且有一个很好的答案和很好的推理，我知道我可以在这里期待（而不是雅虎问答，等）：P

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-12-14T05:28:30.357

在下面的声明中： -

```
JungleCat cat1 = new JungleCat(); 
```

您可以将其分为两部分：-

```
JungleCat cat1;  // This creates a reference of type `JungleCat`
cat1 = new JungleCat();   // This creates an object of type `JungleCat`. 
```

现在，您正在进行`cat1`引用，指向`JungleCat`对象。引用只不过是指向所创建对象的链接，因此您可以访问它们。

您也可以像这样创建对象：-

```
new JungleCat();   // Will create an unnamed object 
```

但是，在上述情况下，您将只能在实例化的地方使用方法和属性。但是，稍后，由于您没有访问该对象的引用，因此您也无法访问它的属性。

* * *

现在，让我们继续第二个声明：-

```
Cat cat = new JungleCat(); 
```

在这里，您可以猜到，您有 type 的引用和 type`Cat - Super Class`的对象`JungleCat`。这就是我们所说`Polymorphism`的。

因此，基本上，您可以创建任何超类型的引用，并使其指向任何子类型的对象。这很容易理解—— *“因为 JungleCat 只是一只猫。所以，你总是可以有一个 Cat 参考点指向 JungleCat”。*

反过来，这不是真的。例如： -

```
JungleCat ref = new Cat(); 
```

现在这是无效的。因为 a`Cat`不一定是 a `JungleCat`。它可以是任何其他猫。所以，你不能让你的`JungleCat`参考点指向一个`Cat`对象。

* * *

现在这是您**真正关心**的问题：-

> 我想知道 cat1、cat2、cat3、cat4 和 cat5 的对象类型是什么

好吧，`cat1`, `cat2`.. 不是对象，而是指向某些对象的引用。并且你可以从上面的解释中推断出它们各自的引用类型。

对象类型是对象创建语句的 RHS 上使用的类型。与`new`关键字一起使用的类型是`Object`. 您可以有不同类型的引用指向相同的对象类型。

因此，您可以同时拥有`cat1`, 和`cat2`指向同一对象类型的引用。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-12-14T05:20:59.690

当您实例化一个对象时，您必须指定

1.  您的新变量能够引用的引用类型或类型（类）是什么
2.  要初始化一个对象，我们需要指定对象的类型（类）

所以基本上你需要创建一个 JungleCat 对象并创建一个指向它的引用。指向它的引用能够指向 Cat（JungleCat、PetCat 和所有猫），以防万一

`Cat cat3 = new JungleCat();`

只有 JungleCats 如果

`JungleCat cat3 = new JungleCat();`

关于

`object types of cat1, cat2, cat3, cat4, and cat5?`

对象类型将是您从分配运算符右侧分配给它的内容。

关于

`JungleCat cat4 = new Cat(); //this one is illegal, right?`

是的，因为猫不一定是 JungleCat（我们只知道它是一只猫），但 JungleCat 肯定是一只猫。这就是为什么 `Cat cat= new JungleCat();`有效

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-12-14T05:28:56.760

> `cat1`, `cat2`, `cat3`, `cat4`, 和的对象类型是`cat5`什么？

我不知道在这种情况下“对象类型”是什么意思。我建议改为根据**声明的类型**和**运行时类型**来考虑事情。

*   声明的类型`cat1`是`JungleCat`; 的运行时类型`cat1`也是`JungleCat`
*   声明的类型`cat2`是`Cat`; 的运行时类型`cat2`也是`Cat`
*   声明的类型`cat3`是`Cat`; 的运行时类型`cat3`是`JungleCat`
*   声明的类型`cat4`是`JungleCat`; 的运行时类型`cat4`是`Cat`
    *   是的，这是非法的。如果没有明确的向下转型，它将无法编译；使用显式强制转换......它可能会但它会在运行时引发异常。
*   声明的类型`cat5`是`JungleCat`; 它没有运行时类型。

“冗余”的重点是因为 Java 是静态类型的，并且还支持动态调度。静态类型要求变量具有声明的类型；动态分派允许运行时类型与声明的类型不同。

例如，您可以在程序执行过程中将多个对象分配给同一个变量：

```
Cat c1 = new Cat();
c1 = new JungleCat(); 
```

声明的类型`c1`决定了可以通过该变量调用哪些方法：

```
Cat c1 = new Cat();
c1.purr(); // compiles without error
c1 = new JungleCat();
c1.purr(); // compiles without error 
```

同样，它确定哪些方法不能通过该变量调用：

```
JungleCat jc1 = new JungleCat();
Cat c1 = jc1;
jc1.roar(); // compiles without error - JungleCats can roar!
c1.roar(); // compile error! Cats don't roar 
```

这允许变量的行为因运行时类型（多态性）而异，同时仍具有编译时检查。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-12-14T05:24:41.393

> 丛林猫 cat4 = new Cat(); //这个是非法的，对吧？

是的。派生类引用不能指向它的基类。

> 我想知道 cat1、cat2、cat3、cat4 和 cat5 的对象类型是什么？

用[`getClass`](http://docs.oracle.com/javase/1.5.0/docs/api/java/lang/Object.html#getClass%28%29)方法知道。

> 为什么在实例化对象时需要列出两种对象类型。

这被称为[`polymorphism`](http://docs.oracle.com/javase/tutorial/java/IandI/polymorphism.html)。即一个基类引用可以指向它的任何派生类。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-12-14T05:25:50.090

**-** `Polymorphism`作为**子类的****对象**的工作被分配给**超类**的**对象引用变量**。

 ********-**由于这是一个`class polymorphism`子**类必须在同一个继承树中，并且子类必须是超类型的。**

**所以**

```
Cat c = new JungleCat();   // Will work 
```

**但，**

```
JungleCat c = new Cat();   // Won't work 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-12-14T05:41:05.733

这是多态性背后的基本原理。每个对象的类型是出现在表达式左侧的内容，但是，它的行为与右侧的内容一样。例如，让我们考虑一个这样的函数：

```
public static void Claw(Cat cat)
{
    cat.claw();
} 
```

现在，我们假设我们的类是这样的：

```
public class Cat
{
    //...

    public void claw()
    {
        System.out.println("Cat claw");
    }
}

public class JungleCat extends Cat
{
    //...

    @Override
    public void claw()
    {
        System.out.println("Jungle cat claw");
    } 
 } 
```

现在，让我们实例化一些对象：

```
Cat c = new Cat();
Cat j = new JungleCat(); 
```

传入我们的`static Claw`函数：

```
Claw(c); //Prints "Cat claw"
Claw(j); //Prints "Jungle cat claw" 
```

假设我们像这样修改了函数：

```
public static void Claw(JungleCat junglecat)
{
    junglecat.claw();
} 
```

然后`Claw(c)`显然不会编译，因为它是一个`Cat`. 怎么样`Claw(j)`？这也不会编译，因为我们已经说过它也是 type `Cat`。我们知道它实际上是一个`JungleCat`，但我们已经告诉编译器“好吧，把它当作一个普通`Cat`类型来对待”。

**在许多这些初学者示例中经常缺少的是为什么**有人想要这样做的动机。猫和动物等通常是不好的例子。举个更好的例子，假设我们有一些代码根据运行的操作系统来做不同的事情；说移动文件。`Linux`如果它`/usr/bin`在`C:\Windows\System32`. 所以我们定义一个这样的接口：

```
public interface FileMover
{
    public void move(File f);
}

public class LinuxMover implements FileMover
{
    public void move(File f)
    {
       //Move our file to /usr/bin
    }
}

public class WindowsMover implements FileMover
{
    public void move(File f)
    {
       //Move our file to C:\Windows\System32
    }
 } 
```

现在，直到运行时我们才知道这段代码将在哪个系统上运行——所以我们可以进行运行时检查并在运行时实例化正确的类：

```
//Pseudocode

FileMover fm;
if(OperatingSystem == LINUX) {
    fm = new LinuxMover();
} 
else if(OperatingSystem == WINDOWS) { 
    fm = new WindowsMover();
}

fm.move(); 
```

同样，任何函数都可以简单地采用 a `FileMover`- 他们不在乎是什么*类型*- 因此我们不必在每次想要使用不同类型时编写两个函数定义`FileMover`，例如`doSomething(WindowsFileMover m)`and `doSomething(LinuxFileMover m)`，我们可以简单地将其替换为一个函数`doSomething(FileMover m)`，传入正确的类型，它将“正常工作”。

这可能比问题所需的信息多得多，但希望它也能让您对为什么这些事情以比通常的猫和狗更具体的方式完成有一些直觉。******

# sql-server - 将大型但简单的数据库从 SQLite 转换为 SQL Server 并返回的最简单方法是什么？

> ID：13873076
> 
> 赞同：0
> 
> 时间：2012-12-14T05:16:30.773
> 
> 标签：sql-server, sqlite

我有一个非常简单的数据库（只有几个简单的表）但非常大（大约 SQLite 中的 GiB）。在开发它时，我已尽我所能只使用非常标准的列类型：（`INT, DOUBLE, CHAR, VARCHAR`但这些是 SQL Server 的`NCHAR`并且`NVARCHAR`用于代替 SQLite 的 UTF-8`CHAR`和`VARCHAR`）并且没有特定于 DBMS 的功能。

将数据库从 SQLite 转换为 SQL Server 并返回的最简单方法是什么？

我不介意手动定义目标数据库，而不是从源生成所有 DDL，但我寻求自动化数据迁移。

**更新：**

我发现自己最简单的方法是从 SQLite 导出

```
> sqlite3 mydb.sqlite
sqlite> .headers off
sqlite> .mode csv
sqlite> .output mytable.csv
sqlite> select * from `mytable`; 
```

然后删除引号

```
tr -d \" < mytable.csv > mytable-plain.csv 
```

从 Unix（LF 行尾）转换为 DOS（CR+LF 行尾）文本格式（作为`tr`Unix 工具并输出 Unix）

```
unix2dos mytable-plain.csv 
```

并将其导入 SQL Server`BULK INSERT`

```
BULK
INSERT [dbo].[mytable]
FROM 'c:\mytable-plain.csv'
WITH
(
    FIELDTERMINATOR = ',',
    ROWTERMINATOR = '\n'
);
GO 
```

假设已经在 SQL Server 架构中创建了相同的空表。

`cygwin`需要在 Windows`tr`上运行。`unix2dos`

我花了半个小时（在我的 Core 2 Duo 笔记本电脑上）将一个半 GiB 的 CSV 文件导入 SQL Server。

我仍然相信有一个更简单的方法。也许有一个 T-SQL 函数可以通过 ODBC 或从源数据库中选择并插入目标的程序来查询不同的数据源（我很难相信还没有人写过这样的）。

# objective-c - NSSortDescriptor 带有名字和姓氏，还是带有名字或姓氏？

> ID：13873077
> 
> 赞同：2
> 
> 时间：2012-12-14T05:16:36.933
> 
> 标签：objective-c, ios, ipad, nssortdescriptor

我正在对联系人信息数组进行排序，当我输入特定联系人的名字和姓氏时它工作正常，但是当其中任何一个丢失时它都不能正常工作，

例如：如果我输入名字 John 和姓氏 mickey，那么它会给出正确的排序，但是如果我只输入 mickey，那么它最后会出现在 UITableview 的 # 部分中。所以在这种情况下我需要在这里做什么.

我的代码如下，

```
NSSortDescriptor *sortDescriptorFirstName = [[[NSSortDescriptor alloc] initWithKey:@"firstName" ascending:YES selector:@selector(localizedStandardCompare:)] autorelease];

NSSortDescriptor *sortDescriptorLastName = [[[NSSortDescriptor alloc] initWithKey:@"lastName" ascending:YES selector:@selector(localizedStandardCompare:)] autorelease];

NSArray *sortDescriptors = [NSArray arrayWithObjects:sortDescriptorFirstName,sortDescriptorLastName,nil];

if(favFlag){
    favContacts = [[contactsData sortedArrayUsingDescriptors:sortDescriptors] mutableCopy];
    [self setListContent:favContacts];
}
else {
    contacts = [[contactsData sortedArrayUsingDescriptors:sortDescriptors] mutableCopy];
    [self setListContent:contacts];
}

[contactTableView reloadData]; 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-14T07:09:12.130

如果您有[自定义条件](https://developer.apple.com/library/ios/documentation/Cocoa/Conceptual/Collections/Articles/Arrays.html#//apple_ref/doc/uid/20000132-SW7)，则可以使用比较器块而不是描述符。例如，您可以使用[`sortedArrayUsingComparator`](https://developer.apple.com/library/ios/documentation/Cocoa/Reference/Foundation/Classes/NSArray_Class/NSArray.html#//apple_ref/occ/instm/NSArray/sortedArrayUsingComparator%3a)：

```
contacts = [contactsData sortedArrayUsingComparator:^NSComparisonResult(id obj1, id obj2) {
    NSString *sortName1 = [self sortNameWithFirst:[obj1 objectForKey:@"firstName"]
                                             last:[obj1 objectForKey:@"lastName"]];

    NSString *sortName2 = [self sortNameWithFirst:[obj2 objectForKey:@"firstName"]
                                             last:[obj2 objectForKey:@"lastName"]];

    return [sortName1 caseInsensitiveCompare:sortName2];
}]; 
```

我有这个小实用方法可以更轻松地创建“排序名称”，这是我最终要排序的字符串的术语：

```
- (NSString *)sortNameWithFirst:(NSString *)firstName last:(NSString *)lastName
{
    if (firstName && lastName)
        return [NSString stringWithFormat:@"%@ %@", firstName, lastName];
    if (firstName)
        return firstName;
    if (lastName)
        return lastName;
    return nil;
} 
```

此代码采用此列表：

```
NSArray *contactsData = @[
    @{@"firstName":@"Rob", @"lastName":@"Zimmer"},
    @{@"firstName":@"Sting"},
    @{@"firstName":@"Rob", @"lastName":@"Ryan"},
    @{@"firstName":@"Cher"},
    @{@"lastName":@"Smith"}
]; 
```

并给了我“雪儿”、“罗布瑞恩”、“罗布齐默”、“史密斯”和“斯汀”。

老实说，我并不完全清楚你想如何根据你的问题对其进行排序，但你明白了。比较器块`sortedArrayUsingComparator`使您能够创建所需的任何自定义排序标准。它只需要返回 、 或 的值之一[`NSComparisonResult`](https://developer.apple.com/library/ios/documentation/Cocoa/Reference/Foundation/Miscellaneous/Foundation_Constants/Reference/reference.html#//apple_ref/doc/c_ref/NSComparisonResult)（我方便地使用它为我生成）。有关搜索替代方案的列表，请参阅*NSArray 类参考*中列出的[排序方法。](https://developer.apple.com/library/ios/documentation/Cocoa/Reference/Foundation/Classes/NSArray_Class/NSArray.html#//apple_ref/doc/uid/20000137-SW12)`NSOrderedAscending``NSOrderedSame``NSOrderedDescending`[`caseInsensitiveCompare`](https://developer.apple.com/library/ios/documentation/Cocoa/Reference/Foundation/Classes/NSString_Class/Reference/NSString.html#//apple_ref/occ/instm/NSString/caseInsensitiveCompare%3a)

# jquery - 将预加载器图像设置为 swf

> ID：13873080
> 
> 赞同：0
> 
> 时间：2012-12-14T05:16:48.330
> 
> 标签：jquery, ajax, flash, preloader

我有一个包含大约 3 mb 的 swf flash 介绍的 html 文件

我希望在 swf 完全加载之前使用 jquery 或 ajax 显示加载预加载器。如何设置此预加载器请提供这些代码

提前致谢

我正在使用以下代码

```
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Untitled Document</title>
    <script src="jquery.js"></script>
    <script>
        $(document).ready(function(){ 
        $('embed').ready(function(){
        $('img').hide();
          });
   });
     </script>

 </head>

 <body >
 <div id="loaddata">

  <img src="loading.gif"  />
  <embed src="red.swf" width="100%" height="100%" ></embed>

 </div>

 </body>
</html>

but it is not working 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-14T05:39:34.477

```
 HTML code ( where you want to add the embed code )

    <div style="display:none" id="dvloader"><img src="loading.gif" /></div> 
```

jQuery代码

```
 $(function() {

            $("#dvloader").show();
            $(".block1").load("swf.html", function(){ $("#dvloader").hide(); });
            return false;

    }); 
```

# jquery - 如何在java struts2中实现导出到excel功能

> ID：13873088
> 
> 赞同：0
> 
> 时间：2012-12-14T05:17:46.967
> 
> 标签：jquery, excel, struts2, struts2-jquery

我在我的项目中使用 struts2 jQuery 插件。
我使用网格来显示项目。
如何通过单击按钮将网格中存在的项目导出到 microsoft excel？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-14T10:22:22.737

将 jqGrid 显示的列表发布到一个动作（比如说 ExcelExportAction）。

[在 execute() 方法中，使用JExcel](http://jexcelapi.sourceforge.net/)或[Apache POI](http://poi.apache.org/)创建 Excel 。

使用列表中的数据填充 Excel。谷歌一下，里面有很多例子。

通过来自 Action（及其 Getter）的 InputStream 公开 Excel 的结果。

返回成功。

将 Action 的 Success Result 映射为 Stream 结果类型，并使用 excel 内容类型，如下所示：

```
<action name="excelExport" class="your.package.ExcelExportAction">
    <result name="success" type="stream">
            <param name="contentType">application/vnd.ms-excel</param>
            <param name="contentDisposition">
                           attachment; filename="MyExcelName.xls"</param>
            <param name="bufferSize">1024</param>           
    </result>
</action> 
```

# eclipse - PrimeFaces 3.4 RC1，对话框无法识别托管 Bean 属性

> ID：13873089
> 
> 赞同：1
> 
> 时间：2012-12-14T05:18:04.880
> 
> 标签：eclipse, jsf, jsf-2, primefaces, glassfish-3

我已将其包含`primefaces-3.4RC1.jar`在`WEB-INF/lib`目录中。在我的控制器中，我自动装配我的模型 bean，如

```
@ManagedBean
@RequestScoped
public class MyController{

@Autowired
Location loc;

//other stuff

} 
```

我的`Location`课看起来像

```
public class Location{     
    private Integer countryId;
    //getters setters
} 
```

我的观点看起来像

```
<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:p="http://primefaces.org/ui">
    <div class="contentBox cornerBorder border">

    <p:dialog>
    <table class="DialogTable">                                                     
    <tr>
     <td><label>Country</label></td> 
        <h:selectOneMenu required="true" id="contry" styleClass="text-box" value="#{myController.loc.countryId}">   
    ----------------------------------------------------------------------------------------------^here it gives warning and if i run it crashes 

    </tr>
    </table>
    </p:dialog> 
```

当我单击链接打开对话框时，它会引发`countryId`无法找到该属性的错误。如果我删除`value="myController.loc.countryId"`它运行正常...任何人引导我朝着正确的方向

PS：我已经在应用程序 context.xml 中做了适当的条目

* * *

实际错误

> 严重：javax.el.PropertyNotFoundException：/WebPages/personal/personalDiv.xhtml @230,119 value="#{myController.loc.countryId}"：类 'com.deltasoft.controller.myController' 没有属性 'loc' .

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-14T05:48:28.850

您可能希望像这样更改您的代码。

```
@ManagedBean
@RequestScoped
public class MyController{

@ManagedProperty
private Location loc;   // Getters and Setters.

//other stuff

} 
```

和

```
@component
public class Location{     
    private Integer countryId;
    //getters setters
} 
```

在你的 spring.xml 你应该做

```
<beans xmlns="http://www.springframework.org/schema/beans"
    xmlns:security="http://www.springframework.org/schema/security"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:context="http://www.springframework.org/schema/context"
    xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.0.xsd
        http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-3.0.xsd">

 <context:component-scan="path to Location class path"/>
</beans> 
```

# cocos2d-iphone - 如何更新 Box2d？

> ID：13873091
> 
> 赞同：0
> 
> 时间：2012-12-14T05:18:10.587
> 
> 标签：cocos2d-iphone, box2d, box2d-iphone

我更新了 cocos2d 模板，但它没有新的 box2d。

```
http://code.google.com/p/box2d/downloads/detail?name=Box2D_v2.2.1.zip&can=2&q= 
```

我怎样才能单独更新我的box2d？当我尝试切换 box2d 文件夹时，出现错误。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-14T12:48:04.370

Box2D 2.1.1 于 2011 年 9 月发布。Cocos2D 2.x 肯定包含这个版本的 Box2D，v1.1 应该包含，但我没有检查。验证您是否从最新版本的 cocos2d 正确安装了 cocos2d 模板。

# phalcon - Phalcon ODM 验证消息

> ID：13873094
> 
> 赞同：3
> 
> 时间：2012-12-14T05:18:38.903
> 
> 标签：phalcon

我正在尝试通过特殊验证事件来验证数据完整性。我的 Phalcon\Mvc\Collection 模型使用一些 Phalcon\Mvc\Model\Validator 验证器实现了 validation() 方法。在我的控制器中，我保存（）该模型。如果保存操作失败，我尝试通过模型的 getMessages() 方法输出错误消息。换句话说，我遵循文档[http://docs.phalconphp.com/en/latest/reference/odm.html中提供的示例](http://docs.phalconphp.com/en/latest/reference/odm.html)

但是，我收到一个错误，即 getMessages() 方法不存在。我的 Phalcon 版本是 0.7.0。我检查了 API [http://docs.phalconphp.com/en/latest/api/Phalcon_Mvc_Collection.html](http://docs.phalconphp.com/en/latest/api/Phalcon_Mvc_Collection.html)，它没有显示 getMessages() 方法。我还对 Phalcon\Mvc\Collection 类进行了反射测试，结果得到了证实。

该文档还指出，我们可以使用 Phalcon\Mvc\Collection\Validator 实现我们自己的验证器。但是，这个类似乎不存在。

所以，我的问题是：

1.  如何显示作为验证结果的错误消息？
2.  如何创建自定义验证器？
3.  Phalcon\Mvc\Model\Validator\Uniqueness 验证器 NOSQL 是否兼容？

感谢您的时间。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-12-14T10:17:00.383

没错，实现中缺少 getMessages() 方法。现在你可以在它被正式添加到 C 类时将它添加到你的模型中：

```
<?php

class Users extends Phalcon\Mvc\Collection
{
   public function getMessages()
   {
       return $this->_errorMessages;
   }
} 
```

1-如何显示验证结果的错误消息？检查上面

2-如何创建自定义验证器？

验证器是从“Phalcon\Mvc\Model\Validator”继承并实现“Phalcon\Mvc\Model\ValidatorInterface”的类：

```
<?php

use Phalcon\Mvc\Model\Validator,
Phalcon\Mvc\Model\ValidatorInterface;

class HashValidator extends Validator implements ValidatorInterface
{

    public function validate($record)
    {
        $fieldName = $this->getOption('field');
        if (!preg_match('/[a-z]+/', $fieldName) {           
            $this->appendMessage("The hash is not valid", $fieldName, "Hash");
            return false;
        }
        return true;
    }

} 
```

如果您不想重用验证器，您可以简单地向模型添加验证规则：

```
<?php

use Phalcon\Mvc\Model\Message;

class Users extends Phalcon\Mvc\Collection
{

    public function validation()
    {
        if (!preg_match('/[a-z]+/', $this->password) {          
            $this->_errorMessages[] = new Message("The hash is not valid", "password", "Hash");
            return false;
        }
        return true;
    }

    public function getMessages()
    {
        return $this->_errorMessages;
    }

} 
```

3- Phalcon\Mvc\Model\Validator\Uniqueness 验证器 NOSQL 是否兼容？此验证器仅与 SQL 模型兼容，但是，您可以通过以下方式创建验证器来处理 NoSQL 集合：

```
<?php

use Phalcon\Mvc\Model\Validator,
Phalcon\Mvc\Model\ValidatorInterface;

class UniqueValidator extends Validator implements ValidatorInterface
{

    public function validate($record)
    {
        $field = $this->getOption('field');
        if ($record->count(array("field" => $record->readAttribute($field)))) {
            $this->appendMessage("The ".$field." must be unique", $fieldName, "Unique");
            return false;
        }
        return true;
    }

} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2014-04-18T03:22:05.877

我在更新文档时遇到了验证器失败的问题。该字段确实存在，但它存在于我正在更新的文档中。更新时，这将检查是否有任何其他文档具有相同的值。

```
<?php

use MongoId,
    MongoRegex,
    Phalcon\Mvc\Model\Validator,
    Phalcon\Mvc\Model\ValidatorInterface;

class UniqueValidator extends Validator implements ValidatorInterface
{
    public function validate($record)
    {
        $idValue = $record->readAttribute('_id');
        $field = $this->getOption('field');
        $fieldValue = $record->readAttribute($field);

        $conditions = array($field => $fieldValue));
        if(isset($idValue))
        {
            $conditions['_id'] = array('$ne' => $idValue);
        }

        if( $record->count(array('conditions' => $conditions)) )
        {
            $this->appendMessage("The " . $field . " must be unique", $field, "Unique");
            return FALSE;
        }
        else
            return TRUE;
    }
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-26T16:31:34.440

twistedxtra 的验证器的固定版本：

```
<?php
use Phalcon\Mvc\Model\Validator,
    Phalcon\Mvc\Model\ValidatorInterface;

class UniqueValidator extends Validator implements ValidatorInterface
{
    public function validate($record)
    {
        $field = $this->getOption('field');
        if ($record->count(['conditions'=>[$field => $record->readAttribute($field)]])) {
            $this->appendMessage("The " . $field . " must be unique", $field, "Unique");
            return false;
        }
        return true;
    }
} 
```

# javascript - 如何在流星中实现无限滚动？

> ID：13873096
> 
> 赞同：4
> 
> 时间：2012-12-14T05:18:42.763
> 
> 标签：javascript, meteor, infinite-scroll

我有大量存储在 mongodb 中的图像缩略图集合，我想使用无限滚动技术在客户端上呈现：显示第一批图像（即其中 4 行）以及当用户向下滚动到批处理中的最后一行时，向客户端发送一批新的内容。

是否可以使用流星来实现这一点？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-12-14T07:32:50.490

使用数据 uri 驱动的图像。

```
Images.insert({data:image.toBase64()}); 
```

模板可能如下所示：

```
<img id="{{_id}}" src="data:image/jpg;base64,{{{data}}}"></img> 
```

输出看起来像：

```
<img id="..." src="data:image/jpg;base64,iVBO..."></img> 
```

要创建此效果：

1.  在隐藏容器中生成图像。
2.  注册一个 DOM Mutation Observer（例如，使用`observer-summary`），只要将图像添加到隐藏容器中就会触发。
3.  当 DOM Mutation Observer 检测到放入容器中的新图像元素时：
    1.  将元素复制到可见`Masonry`容器中，或任何用于制作无限滚动图像容器的常规方法。
4.  当用户滚动到页面底部时：
    1.  更新应该出现的图像列表。这会将图像反应性地加载到隐藏的容器中。
    2.  ...这将反应性地将它们放入您的可见容器中。

使用此过程，您不必编写任何复杂的`Meteor.template.rendered`代码。

或者，

```
Meteor.autorun(function() {
    var visibleImages = Session.get("newImages");
    _.each(visibleImages,function(image) {
        $("#container").append("<img src='" +image.data + "'></img>");
    });
}) 
```

`newImages`...并在有新图像时将文档放入会话变量中。

# php - PHP - array_diff 返回两个不同的数组相等

> ID：13873102
> 
> 赞同：0
> 
> 时间：2012-12-14T05:19:10.183
> 
> 标签：php, arrays, array-difference

我一定要疯了，我有一段代码遍历 CSV 文件并遍历我们数据库中的记录。如果我们的 csv 文件中的记录与数据库中的记录不匹配，那么它将相应地更新数据库。

为了调试，我打印了两个数组的输出。$dbEntry 是数据库中已经存在的数据。$entry 是来自 csv 的数据。

```
ksort($dbEntry);
ksort($entry);
var_dump($dbEntry);
echo "<br/>";
var_dump($entry);
echo "<br/>";
var_dump(array_diff($entry, $dbEntry));
echo "<br/>";
if ($overwrite == "on" && array_diff($entry,$dbEntry)) {
    //do sql update
{ 
```

输出如下：

```
array(11) { ["brand"]=> string(6) "xxx" ["id"]=> int(19220) ["lmf_comm"]=> int(0) ["lmf_pass"]=> int(0) ["period"]=> string(3) "Mar" ["pma"]=> string(6) "CEDUNA" ["sf_comm"]=> int(0) ["sf_pass"]=> int(34) ["tf_comm"]=> int(0) ["tf_pass"]=> int(0) ["year"]=> string(4) "2012" } 
array(11) { ["brand"]=> string(6) "xxx" ["id"]=> int(19220) ["lmf_comm"]=> string(1) "0" ["lmf_pass"]=> string(1) "0" ["period"]=> string(3) "Mar" ["pma"]=> string(6) "CEDUNA" ["sf_comm"]=> string(1) "0" ["sf_pass"]=> string(1) "0" ["tf_comm"]=> string(1) "0" ["tf_pass"]=> string(1) "0" ["year"]=> string(4) "2012" } 
array(0) { } 
```

现在我知道它们是不同的类型转换，但这不重要（过去没有）。索引“sf_pass”是不同的——它在 $dbEntry 中是 34，在 $entry 中是 0？

我不明白为什么它在 array_diff 上没有给我任何东西，因此没有在我有 mysql 更新查询的地方输入 if 语句。

编辑：

这真的没有意义，因为稍后在 CSV 中我从不同的行得到以下输出。我不明白为什么以下内容会给我我正在寻找的输出，而另一行具有几乎相同的值和类型转换却没有给我我正在寻找的输出

```
array(11) { ["brand"]=> string(4) "yyy" ["id"]=> int(12) ["lmf_comm"]=> int(0) ["lmf_pass"]=> int(8) ["period"]=> string(3) "Jan" ["pma"]=> string(8) "FIVEDOCK" ["sf_comm"]=> int(5) ["sf_pass"]=> int(4) ["tf_comm"]=> int(14) ["tf_pass"]=> int(28) ["year"]=> string(4) "2012" } 
array(11) { ["brand"]=> string(4) "yyy" ["id"]=> int(12) ["lmf_comm"]=> string(2) "32" ["lmf_pass"]=> string(1) "8" ["period"]=> string(3) "Jan" ["pma"]=> string(8) "FIVEDOCK" ["sf_comm"]=> string(1) "5" ["sf_pass"]=> string(1) "4" ["tf_comm"]=> string(2) "14" ["tf_pass"]=> string(2) "28" ["year"]=> string(4) "2012" } 
array(1) { ["lmf_comm"]=> string(2) "32" } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-14T05:41:05.693

默认情况下，该[`array_diff`](http://php.net/manual/en/function.array-diff.php)函数仅检查值。并且它不考虑该值重复了多少次。

使用[`array_diff_assoc`](http://php.net/manual/en/function.array-diff-assoc.php). 它逐个键比较数组。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-14T05:49:08.763

我会用`array_diff_assoc`而不是`array_diff`

检查这些代码

[http://codepad.org/wddrqG5h](http://codepad.org/wddrqG5h)

`array_diff_assoc`会考虑到关键

# javascript - 如何在 JavaScript 中更改 iframe 的源位置？

> ID：13873106
> 
> 赞同：3
> 
> 时间：2012-12-14T05:19:26.233
> 
> 标签：javascript, iframe

如何在 JavaScript 中更改 iframe 的源位置？

例如，但是点击一个按钮或一个链接，改变这个：

```
<iframe src=""></iframe> 
```

...进入这个：

```
<iframe src="http://stackoverflow.com/"></iframe> 
```

而且，如果您想做得更好，如何更改同一页面中的多个 iframe（使用`name`或其他标识符）？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-14T05:23:56.060

首先，为您的 iframe 分配一个 id。这看起来像

```
<iframe id="youridname" src=""></iframe>;. 
```

那么您的 JavaScript 命令将是

```
document.getElementById("youridname").src = "http://stackoverflow.com"; 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-12-14T05:23:17.730

这与修改任何其他标签没有什么不同。获取元素，并设置属性：

```
document.getElementsByTagName("iframe")[0].src = "http://stackoverflow.com"; 
```

您可以选择您喜欢的任何属性。例如，如果您有`<iframe data-id='some-frame' src='http://stackoverflow.com'></iframe>`，那么您可以针对任一属性进行选择：

```
var soFrames = document.querySelectorAll("iframe[src*='overflow']");
if (soFrames.length > 0) {
    soFrames[0].src = "something.com";
} 
```

或者：

```
var soFrames = document.querySelectorAll("iframe[data-id='some-frame']") 
```

[（请注意，存在安全限制，因此您不能只在页面的 iframe 中显示任何随机网站，例如 Stackoverflow.com。）]

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-12-14T05:38:55.233

您可以从 引用页面中的框架`window.frames`。这包含框架`window`对象的集合。从那里你修改`location.href`框架的`window`：

```
frames[0].location.href = "page1.htm";
frames[1].location.href = "page2.htm"; 
```

您还可以通过引用框架元素的`contentWindow`属性来访问框架的窗口：

```
document.getElementById("frame1").contentWindow.location.href = "page1.htm"; 
```

要倒退，即从它的窗口中获取框架*元素*`frameElement`，请使用以下属性：

```
frames[0].frameElement; 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-12-14T05:27:39.373

```
document.getElementById("test").setAttribute("src", "http://stackoverflow.com"); 
```

# iphone - 将文件从 iPhone 设备发送到 mac

> ID：13873107
> 
> 赞同：2
> 
> 时间：2012-12-14T05:19:38.537
> 
> 标签：iphone, objective-c, ios6, bluetooth

目前，我正在开发一个应用程序，我必须在该应用程序下将文件从 iPhone 设备发送到我的

mac通过蓝牙。所以通过搜索我只能与mac系统配对，但我不能

能够通过我的搜索代码将文件发送到 mac。所以我的问题是这可能吗

将文件从 iPhone 设备发送到 mac？如果可能的话，请给我一些线索来解决它。

提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-14T05:39:08.577

不，无法使用蓝牙将文件从 iOS 设备传输到 MAC 机器。如果您想使用蓝牙将文件从一台 iOS 设备传输到另一台设备，这是可能的。

# jakarta-ee - Tomcat：多线程和资源清理

> ID：13873108
> 
> 赞同：0
> 
> 时间：2012-12-14T05:19:45.173
> 
> 标签：jakarta-ee, tomcat, servlets

在我的 Controller servlet（Tomcat）中，我实例化了一个对象并将其分配给类的属性（**p**），如下所示：

```
public class Controller extends HttpServlet {

String xmlFile = "/tmp/page.xml";
private Pager p = new Pager(xmlFile);

public void doGet(HttpServletRequest request, HttpServletResponse response)
             throws IOException, ServletException {

............. 
```

我这样做的原因是，有很多 cpu 密集型因此耗时的任务由只需要完成一次的实例化完成（基本上它创建了应用程序的所有 html 页面结构）。

现在，我使用持久对象（**p**）并访问它的一些方法，如下所示：

```
public void doGet(HttpServletRequest request, HttpServletResponse response)
             throws IOException, ServletException {
  .................
  .................
  String name = "xxxxx";
  Structure str = p.doAction(name);
  ..................
} 
```

我的问题是，在 Tomcat 完成特定请求后，由**getPageName()**和**doAction()**等方法创建的对象、原语等是否会被清理？还是会继续使用内存（与 Pager 的持久对象p**相同****）**直到 Tomcat 下一次重新启动/关闭？

 **另一个重要的问题是，由于 servlet 将处理多个请求，它使用的对象和原语是否会有任何问题（它们中的大多数是方法的本地变量，但其中一些变量使用类的属性）？像这样 ：

```
public Structure doAction(String name) {
   if ( pages.containsKey(name) ) {// Here pages is a property of this class (a HashMap)
      return( new Structure( (Structure)pages.get(name) )); //this creates a "deep copy of this object and sends it back...
   }
   return( new Structure() );
}// 
```

如上述方法所示，页面 HashMap 将采用以下形式：

```
page1 => its Structure Object,
page2 => its Structure Ojbect,
..... => .....................,
pageN => its Structure Object 
```

因此，如果 Servlet 同时接收到许多请求，例如：比如说，在特定时间**t有****N**个对**page2**的请求，那么从 doAction() 方法访问**页面**HashMap会不会有任何问题？（因为它是类的一个属性，所有这**N**个请求将同时访问它（只读，不写入）。我的意思是，会有“读锁”之类的吗？

 ******提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-14T21:53:55.173

> 在 Tomcat 完成特定请求后，由 getPageName() 和 doAction() 等方法创建的对象、原语等是否会被清理？

这取决于。如果这些对象/原语被 直接或间接引用`p`，那么它们将被保留用于下一个请求（有时使用术语*传递可达*来定义这种关系）。如果这些对象不可传递到达，它们将消失并被 GC 收集。

> 由于 servlet 将处理多个请求，它使用的对象和原语是否会有任何问题（它们中的大多数是方法的本地变量，但其中一些变量使用类的属性）<..> ？

方法本地对象（如果没有在别处引用）是线程安全的，不会产生任何问题。类属性通常永远不会改变，除非你正在修改它们（无论如何这将是一个奇怪的想法），它们应该没问题。

> 如果Servlet同时收到很多请求，访问页面HashMap会不会有问题

有关更多信息，请参阅[此 SO 帖子](https://stackoverflow.com/questions/104184/is-it-safe-to-get-values-from-a-java-util-hashmap-from-multiple-threads-no-modi)。**简短的回答是“如果您不修改**地图，很可能会没问题，但强烈建议使用专为这种情况设计的[ImmutableMap ”。](http://docs.guava-libraries.googlecode.com/git/javadoc/com/google/common/collect/ImmutableMap.html)********

# c++ - 调用 CurrentApp:LicenseInformation->IsActive 时 COM 相关异常 0x80010106（设置后无法更改线程模式）

> ID：13873112
> 
> 赞同：4
> 
> 时间：2012-12-14T05:19:53.637
> 
> 标签：c++, exception, com, windows-runtime, windows-phone-8

当我运行 Windows Phone 8 项目时，它在这一行崩溃：

```
CurrentApp::LicenseInformation->IsActive; 
```

错误消息是 Microsoft C++ 异常：Platform::COMException ^ at memory location 0x00ABE848。HRESULT:0x80010106（设置后无法更改线程模式）。

错误代码在此处详细说明[http://support.microsoft.com/kb/824480](http://support.microsoft.com/kb/824480)但我不明白我能做什么，因为我正在调用一个似乎包含一些 COM 初始化的函数。

# image - 使用 Gimp 从图像中提取缩略图

> ID：13873116
> 
> 赞同：1
> 
> 时间：2012-12-14T05:20:39.837
> 
> 标签：image, exif, gimp

如何使用 Gimp 从图像中提取缩略图？

我知道 Gimp 可以正确读取文件中的 EXIF 信息。我希望它提取嵌入在 EXIF 中的缩略图并保存为不同的文件。

我不是在看缩放来制作缩略图。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-14T10:56:06.340

您应该添加更多信息，关于您正在尝试的内容。您是否尝试从图像中获取缩略图，该缩略图是元数据的一部分，还是您想评估 Gimp 为文件对话框创建的缩略图？或者你只想要一个小版本的图像？

# python - 如何使用 python 跟踪 s3 存储桶文件夹的使用情况？

> ID：13873119
> 
> 赞同：0
> 
> 时间：2012-12-14T05:20:57.403
> 
> 标签：python, django, amazon-s3

我正在构建一个文件托管应用程序，它将所有客户端文件存储在 S3 存储桶上的文件夹中。然后，我想递归地跟踪每个顶级文件夹在 S3 上的使用量，以向每个相应的客户端收取存储和带宽成本。

前端是 django，但由于显而易见的原因，解决方案可以是 python。

以编程方式为每个客户端创建一个存储桶会更好吗？

如果我确实采用为每个客户端创建一个存储桶的方法，那么如果启用，是否可以获得存储桶的云端暴露成本？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-14T08:08:19.747

根据您的需求，您的任务可能有多种解决方案。首先看看[Amazon DevPay](http://aws.amazon.com/devpay/)是否满足您的需求，这应该允许客户根据他们对 EC2 和 S3 资源的使用情况进行计费。

第二个想法是使用您的 AWS 账户的[账户活动和使用报告](http://aws.amazon.com/account/)部分。可以通过[IAM](http://docs.amazonwebservices.com/IAM/latest/UserGuide/ControllingAccessWebsite.html)授予对此的访问权限。您可以在那里获得整个使用情况的详细统计信息，尽管我认为您不能按桶细分。

另一种方法是使用[Python 中的 Amazon boto SDK](https://github.com/boto/boto)来获取对象及其大小。或者，您可以在客户端软件上传期间监控存储空间的大小。结合使用上述方法给出的总支出和手动跟踪每个客户的使用情况，您可能可以计算出每个客户的费用金额。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-15T12:37:43.893

不，不可能为每个用户创建一个存储桶，因为亚马逊每个账户只允许 100 个存储桶。因此，除非您确定不超过 100 个用户，否则这将是一个非常糟糕的主意。

理想的解决方案是在数据库中记住每个用户在 Django 应用程序中的存储。我猜你会使用 S3 boto 库来存储文件，而不是在每次上传后返回字节大小。您可以使用它来存储它。

还有另一种出路，您可以在存储桶内创建许多文件夹，每个文件夹特定于用户。但仍然是记住应用中存储使用情况的最佳方式

# vb6 - vb6 常量“App.Path”

> ID：13873123
> 
> 赞同：0
> 
> 时间：2012-12-14T05:21:17.980
> 
> 标签：vb6, path, constants

我有这段代码来 const 当前路径：

```
Option Explicit
Const CurPath As String = App.Path 'not working and higlight ".Path" for error.

Private Sub Form_Load() 'just for test with Label1 Caption
Label1.Caption = CurPath
End Sub 
```

我不知道出了什么问题，但它**不起作用**，但我想为当前路径设置常量以在许多中使用，有`SUB and Function`什么建议吗？

**注意：**我希望这个 const 留在*Form*而**不是**在*Module*中，我再次希望这个 in **`const`**，因为另一个 const 也需要这个。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-14T22:41:17.580

我知道你说你不希望你的 Const 在模块中，但我建议在模块中使用方法。将公共方法放在模块中使其可用于所有表单和应用程序的其他模块。下面是我编写并添加到包含我经常使用的常用方法的模块的函数。每当我开始一个新项目时，我都会自动添加这个模块。

```
Public Function AppPath() As String
   Dim sAppPath As String

   sAppPath = App.Path
   If Right$(sAppPath, 1) <> "\" Then  'check that I'm not in the root
      sAppPath = sAppPath & "\"
   End If

   AppPath = sAppPath

End Function 
```

要使用：

```
Private Sub Form_Load() 'just for test with Label1 Caption
Label1.Caption = AppPath
End Sub 
```

# c# - wcf 服务 REST POST，带有数据协定或来自目标 c 的多个参数

> ID：13873129
> 
> 赞同：0
> 
> 时间：2012-12-14T05:22:14.870
> 
> 标签：c#, objective-c, wcf, web-services, wcf-data-services

我的服务中有几个“发布”操作合同需要接收多个参数。我使用 Json 作为格式。想知道是否

*   预期的参数是 DataContract，如何创建来自目标 c 的 URI？我必须指定 UriTemplate 吗？以下是我拥有的两份合同。第一个处理 我能够以 JSON 格式检索的**GET 。**我的问题是如果我想修改和保存，我不知道如何将它传递回服务。

例如。

```
[ServiceContract]
    public interface ICalendarService
    {
        [OperationContract]
        [WebInvoke(Method = "GET", ResponseFormat = WebMessageFormat.Json, UriTemplate = "Event?eventId={eventId}&consumer={consumer}")]
        Event GetEvent(int eventId, string consumer);

[OperationContract]
        [WebInvoke(Method = "POST", BodyStyle = WebMessageBodyStyle.WrappedRequest)]
        bool UpdateEventDetails(Event event);

}

[DataContract]
public class Event{
  [DataMember]
  public int Id { get; set; }
  [DataMember]
  public string Name { get; set; }
  [DataMember]
  public string Notes { get; set; }
  [DataMember]
  public bool Private { get; set; }
  [DataMember]
  public string Date { get; set; }
  [DataMember]
  public int AuditedById { get; set; }
} 
```

*   我的下一个问题是关于帖子的最佳实践。我应该始终使用数据合同吗？如果我只想编辑/修改该数据合同上的 2 个属性，我是否只传递这两个属性的值？还是我仍然要求它通过整个数据合同？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-14T05:43:09.890

Event 类中不需要`[DataContract]`和`[DataMember]`属性。

只需使用以下属性装饰您的接口方法

```
[OperationContract]
[WebInvoke(Method = "POST", ResponseFormat = WebMessageFormat.Json,RequestFormat=WebMessageFormat.Json, BodyStyle=WebMessageBodyStyle.Wrapped)] 
```

# android - Eclipse 在 DDMS post-create-init 上挂起

> ID：13873133
> 
> 赞同：-1
> 
> 时间：2012-12-14T05:22:22.410
> 
> 标签：android, eclipse, adt

我在 eclipse helios 中安装了 android adt 21 插件。在这之前一切都很顺利。adt 安装后，eclipse 在 DDMS post-create-init 上挂起。请帮我修复它。谢谢你。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-14T05:24:29.790

之前在 StackOverflow 上已经解决了这个问题。这个答案可能对您有所帮助：[Eclipse Hangs in DDMS post-create init](https://stackoverflow.com/questions/8677679/eclipse-hangs-in-ddms-post-create-init)

# android - 我应该使用什么布局来滚动两个元素

> ID：13873134
> 
> 赞同：0
> 
> 时间：2012-12-14T05:22:35.047
> 
> 标签：android, android-layout

这是我的布局情况。

```
<LinearLayout>

     <CustomGallery android:id="myComplextGallery"></CustomGallery>

     <LinearLayout android:id="galleryFooterToSelectGalleryItem> 
        .... Footer elements  Pick an item in gallery
     </LinearLayout>
</LinearLayout> 
```

我所追求的行为与 myComplexGallery 相同，其中列表视图中的列表项仅包含一个列表项，而页脚是 ListView 页脚。那就是它随着内容滚动。请注意，图库是全屏图库。

所以我可以将 CustomGallery 放在 ListView 中，但这是否矫枉过正？有没有另一种方法可以做到这一点。使用滚动视图只允许一个直接子视图+自定义画廊也必须向下滚动。它有一个图像和很多很多的单词。

我希望页脚线性布局与 CustomGallery 一起滚动，所以我想知道 ListView 旁边有哪些选项，毕竟 ListView 可能是正确的方法。我对让 CustomGallery 成为 listItem 的担忧在于，它本身就相当复杂，有自己的适配器和项目列表。制作一个总是只包含一个项目的列表视图，尽管一个复杂的项目看起来很正确......但只是想知道有哪些替代方案。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-14T05:29:07.290

带有您设计的 xml 布局的 ViewPager 在其中膨胀。然后务实地设置`onPageScrolled(int position, float offset, int offsetPixels)`方法中的数据。

[http://developer.android.com/reference/android/support/v4/view/ViewPager.html](http://developer.android.com/reference/android/support/v4/view/ViewPager.html)

# c# - 试图制作一个继承自 Dictionary - C# 到 VB 的多值字典

> ID：13873135
> 
> 赞同：0
> 
> 时间：2012-12-14T05:22:47.323
> 
> 标签：c#, vb.net, code-translation

您好我正在尝试将此 C# 代码转换为 VB

```
class MultiValueDictionary<TKey, TValue> : Dictionary<TKey, List<TValue>>
{

   public void Add(TKey key, TValue value)
   {
      if(!ContainsKey(key))
         Add(key, new List<TValue>());
      this[key].Add(value);
   }
} 
```

结果如下所示：

```
Class MultiValueDictionary(Of TKey, TValue)
    Inherits Dictionary(Of TKey, List(Of TValue))

    Public Sub Add(key As TKey, value As TValue)
        If Not ContainsKey(key) Then
            Add(key, New List(Of TValue)())
        End If
        Me(key).Add(value)
    End Sub
End Class 
```

但它在线上给出了一个错误：

```
Add(key, New List(Of TValue)()) 
```

> “System.Collections.Generic.List(Of TValue)”类型的值无法转换为“TValue”。

我对 TKey TValue 表示法不是很清楚，有人可以解释这个错误告诉我什么吗？它应该读什么？

提前致谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-14T05:30:45.243

尝试显式调用基类上的方法：

```
MyBase.Add(key, New List(Of TValue)()) 
```

您使用的代码转换实用程序不允许 VB 的笨拙:)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-14T05:32:58.520

首先，更好地继承接口而不是`list`自身。

```
... : Dictionary<TKey, IList<TValue>> 
```

其次，您的`Add`方法调用似乎在调用它自己。尝试调用 base' 方法。

```
MyBase.Add(key, New List(Of TValue)()) 
```

第三，你为什么不直接使用`Lookup<,>`？通过键对元素进行分组非常简单。

# odata - 使用 JayData 如何对 OData 进行基本身份验证？

> ID：13873139
> 
> 赞同：1
> 
> 时间：2012-12-14T05:23:13.330
> 
> 标签：odata, jaydata

我按照此处的指示指定了用户和密码[http://jaydata.org/blog/jaydata-1.0.5-is-here-with-authentication-support-and-more](http://jaydata.org/blog/jaydata-1.0.5-is-here-with-authentication-support-and-more) 但我不断收到 401。有什么想法吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-14T07:02:20.240

你能用 fiddler 或 wireshark 捕获流量吗？基本身份验证确实有效....

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-01-07T14:36:07.690

好的，

I found a solution for my issue above. The problem was a misconfiguration on server side using CORS. In the recorded request (see [http://i.stack.imgur.com/F228l.png](http://i.stack.imgur.com/F228l.png)) Chrome sends a "preflighted request" (HTTP request has the method OPTIONS).

> Unlike simple requests (discussed above), "preflighted" requests first send an HTTP request by the OPTIONS method to the resource on the other domain, in order to determine whether the actual request is safe to send.

[https://developer.mozilla.org/en-US/docs/Web/HTTP/Access_control_CORS#Preflighted_requests](https://developer.mozilla.org/en-US/docs/Web/HTTP/Access_control_CORS#Preflighted_requests)

我没有验证服务器上的 HTTP 属性“方法”，所以我的 BasicAuth 模块为每个传入的 HTTP 请求启动了授权过程，但由于没有设置授权标头，所以在执行第一个请求（“预检请求”）时立即失败。

在修改了 HTTP 方法的验证后，一切正常。

我还不得不调整 web.conf

```
<system.webServer>
<modules runAllManagedModulesForAllRequests="true">
  <add name="BasicAuthModule" type="NutritionDataService.Auth.BasicAuthModule"/>
</modules>
<httpProtocol>
  <customHeaders>
    <add name="Access-Control-Allow-Origin" value="*" />
    <add name="Access-Control-Max-Age" value="3600" />
    <add name="Access-Control-Allow-Headers" value="Origin, Content-Type, Accept, MaxDataServiceVersion, Authorization, Access-Control-Allow-Origin, DataServiceVersion" />
    <add name="Access-Control-Allow-Methods" value="PUT, POST, GET, DELETE, MERGE, OPTIONS" />
  </customHeaders>
</httpProtocol> 
```

Access-Control-Allow-Headers 必须获取每个请求的标头，否则您将收到 501 响应。（在上面的屏幕截图中是“接受，最大数据服务版本。数据服务版本，授权”）

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-01-07T12:59:23.043

我有同样的问题。我关注了博客文章（[http://jaydata.org/blog/jaydata-1.0.5-is-here-with-authentication-support-and-more](http://jaydata.org/blog/jaydata-1.0.5-is-here-with-authentication-support-and-more)）并将基础身份验证的凭据应用于上下文初始化。

```
var ctx = new NutritionDataService.NutritionDbEntities({
        name: 'oData',
        oDataServiceHost: 'https://localhost:44300/Data.svc',
        user: "usr1", 
        password: "test" 
 }); 
```

但似乎没有设置授权标头。

[http://i.stack.imgur.com/F228l.png](https://i.stack.imgur.com/F228l.png)

我也尝试过这篇文章中的方法[jaydata 基本身份验证的问题，](https://stackoverflow.com/questions/23097457/problems-with-jaydata-basic-authentication)结果相同 - 没有发送授权标头。

有人知道如何触发 jaydata 发送授权标头吗？

# file - 正确的文件命名

> ID：13873145
> 
> 赞同：0
> 
> 时间：2012-12-14T05:23:50.567
> 
> 标签：file, naming

所以这里有一个问题，我和我的朋友们已经讨论了一段时间了。程序员命名文件最常见的方式是什么？我知道以字母开头的文件名是一种很好的做法。此外，您不应使用以下符号：@ $ &。但是在命名文件时我应该考虑其他任何做法吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-14T05:25:13.843

命名文件完全取决于您的特定文件系统的功能（或您可能希望将该文件传输到的文件系统的“最小公分母”），但您通常应该遵循一条规则并且只遵循一条规则。

文件的*意图*应从其名称中清楚地看出。换句话说，您的股票交易交易记录应该被称为类似`ShareTxns.ods`而不是`xyzzy_plugh.ods`。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-14T05:27:05.503

您的问题的答案取决于您正在编程的环境。请注意您的程序可能使用的不同环境。字母数字是一个安全的选择，同时远离保留字：

[http://en.wikipedia.org/wiki/Filename#Reserved_characters_and_words](http://en.wikipedia.org/wiki/Filename#Reserved_characters_and_words)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-12-14T05:31:59.753

大多数现代文件系统允许良好的名称长度，并且还支持不带扩展名的文件名和一些特殊字符，例如下划线（“_”）。命名文件时可以遵循的事项很少，以使其更具逻辑性和可访问性。

*   与时间有关或有多个版本的文件，名称中应包含日期和时间。最好采用不会引起混淆的格式。即FN20121214_xxx.txt。

*   名称应指示文件关联的应用程序。

*   名称中可以包含空格，但不推荐使用，因为它要求在某些命令行实用程序中进行特殊处理。

*   应该是一致的。一旦你遵循了一个特定的命名约定，你应该保持它遵循，除非你有充分的理由去改变它。

*   不要在文件名中使用多个句点（例如 file.name.txt），因为它会混淆许多应用程序。

这些都是很常见的事情。

此外，如果您希望您的文件与旧系统兼容，则应将文件名长度限制为 8，因为许多旧系统不允许文件名超过它。

这些规则中的大多数不是强制性的，您可以遵循它来避免混淆并使工作变得容易。

我希望这就是你要找的。

# ruby-on-rails - 轮询新 S3 对象的最佳方法？

> ID：13873149
> 
> 赞同：2
> 
> 时间：2012-12-14T05:24:07.430
> 
> 标签：ruby-on-rails, amazon-s3

所以我使用 S3 作为图像存储，图像通过各种软件不断上传到存储桶。

我还在构建一个 Rails 应用程序，让人们可以浏览 S3 上的图像库，但是对于性能问题，我需要在本地数据库中保留有关图像的信息副本，因此我不必随时连接到 S3 的 API某人查看画廊。

现在，在我的数据库上没有信息的 S3 上获得新对象通知的最佳方法是什么？

我想创建一个不断获取所有 S3 对象列表并注册我们没有的对象的工作人员，但是 S3 每个 API 请求限制为 1000 个对象，我无法在[API 文档](http://docs.aws.amazon.com/AmazonS3/latest/API/RESTBucketGET.html)上找到指定一个方法下一个请求的偏移量，直到获取所有对象。

有人有想法吗？

*PS 我正在使用[这个 gem](http://amazon.rubyforge.org/)连接到 S3*

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-14T07:54:49.793

[如此处的答案](https://stackoverflow.com/questions/7985599/notification-of-new-s3-objects)和[S3 文档](http://docs.amazonwebservices.com/AmazonS3/latest/dev/NotificationHowTo.html)中所述，将新文件上传到 S3 后，S3 不允许通知。通过轮询，您迟早会达到一些限制。

我会尝试不同的方法。转到您的上传软件并在那里添加通知。例如，您可以向 SNS 发送通知，告知正在完成新的上传。您可以订阅此 SNS 队列，然后在您的服务器上使用后台任务并在数据库中填写必要的信息。

但是，如果您想采用轮询方式，请查看`Marker`您链接的文档页面中结果对象中的属性。每个请求都会返回一个标记，如果您将此标记提供给下一个请求，您将获得第一个查询中不可用的下一个对象。

# r - 如何通过 twitteR 包获取 twitter 用户好友/关注者？

> ID：13873154
> 
> 赞同：5
> 
> 时间：2012-12-14T05:24:30.393
> 
> 标签：r, twitter

我在使用 twitteR 包获取**someOne**关注者/朋友时遇到问题。

它总是返回经过**身份验证的帐户的**朋友/关注者。

根据文档和一些在线资源；

```
library('twitteR') #version 0.99.19

user <- getUser('someOne')

friends <- user$getFriends() 
# or user$getFriendIDs() etc. related followers methods
# ps: I made successful authentication w/ using ROAuth lib with my own twitter account. 
```

方法似乎运作良好，但它不会返回 someOne's(givenUser) 的朋友/追随者。

我希望不是，但这对我来说似乎是一个错误。

如果它不是错误，我该如何实现我的目标？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-04T20:51:02.407

以防万一您不在邮件列表中 - 这是/曾经是一个错误。它已在当前的开发版本中得到修复（在我的 github 上： http: [//www.github.com/geoffjentry](http://www.github.com/geoffjentry)），尽管该版本有较大的变化 - 特别是转换为 1.1 API。如果您没有足够的勇气尝试粗略版本，它应该很快就会找到 CRAN 的方式。

# oracle10g - 相同的 SQL 查询返回不同的结果

> ID：13873156
> 
> 赞同：1
> 
> 时间：2012-12-14T05:24:48.723
> 
> 标签：oracle10g

我有一个这样的查询，

表A数据，

```
PK    Fst_Name  Mid_Name Last_Name   Full_NAme 
---------------------------------------------------
1     Peter              Kisnan      Peter,Kisnan
2     Jeff      S        Boycott     Jeff,S,Boycott

select 1,PK,fst_name,Last_Name,Full_Name from A where PK=2
union
select 2, PK,fst_name,Last_Name,Full_Name from A where last_name='Kisnan' and fst_name='Peter' 
```

结果

```
1,2,Jeff,Boycott, Jeff,S,Boycott
2,1,Jeff,Boycott, Jeff,S,Boycott 
```

谁能回答这怎么可能？我使用的是 Oracle 10g

也查询

```
select count(1) from A where last_name='Kisnan' and fst_name='Peter' shows 2\. but
select count(1) from A where last_name like'%Kisnan' and fst_name like'%Peter' shows 1\. 
```

# php - foreach 交叉检查 IP 和回显匹配

> ID：13873160
> 
> 赞同：-1
> 
> 时间：2012-12-14T05:25:09.680
> 
> 标签：php

我正在尝试检查 $userinfo[host]（IP 地址列表）是否在 visitor.txt 文件中有任何匹配项。如果是，则回显匹配的字符串

似乎没有任何回应。也没有错误。

这是基本的txt文件

```
 208.54.22.144|1355385350
  208.54.14.235|1355386649
  69.151.178.16|1355386296 
```

（编辑字符串）

```
$ips = file_get_contents('visitors.txt');
$ip_regex = '/\b\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}\b/';
foreach ($ips as $check){
preg_match($ip_regex, $check, $current_ip);
if ((strpos($userinfo['host'],$current_ip[0]) !== false)) {
echo $userinfo['host'];
}
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-14T06:02:40.240

您说您正在检查 IP，但是，您现在拥有它的方式不仅仅是比较 IP，例如说我的 IP 是 127.0.0.1 并且在 visitor.txt 文件中我有一个有效的条目，例如 127.0.0.1 | 123456\. 在你的 for each 循环中，它看起来像这样：

if(127.0.0.1, 127.0.0.1|123456)....

您可以尝试使用正则表达式仅比较 IP，以便从当前文本行中仅拆分 IP。例如：

```
$ips = file("visitors.txt");
echo "You are hosted at: ".$userinfo['host']."<br />";
$ip_regex = '/\b\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}\b/';
foreach ($ips as $check) {
    preg_match($ip_regex, $check, $current_ip);
    if ((strpos($userinfo['host'],$current_ip[0]) !== false)) {
        echo $userinfo['host'];
    }

} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-14T05:46:18.373

试试这个方法。。

```
<?php
$ips = file_get_contents('test.txt');
if(strpos($ips, $userinfo['host']) !== FALSE)
{
  echo $userinfo['host'];
}
?> 
```

# java - Oracle SQL 偏移行号

> ID：13873162
> 
> 赞同：1
> 
> 时间：2012-12-14T05:25:28.243
> 
> 标签：java, sql, oracle, offset

我正在尝试创建一个变量来帮助我定位检查点行，然后查询该检查点之后的行。

起初，我正在考虑使用 ROWID，但由于 ROWID 的形式是非整数。好像有点不合适。

无论如何，一个必需的过程是创建一个在 Oracle 中不方便支持的 Rows 偏移量：

我不断得到

> ORA-00904: "ITEM"."ID": 无效标识符

该变量是 Item_ID，它是表 ITEM 中的 ID 列。

```
select ITEM.ID,ITEM.CREATEDDATE,ITEM.TYPEID,
        CAT_DIC_AUTHOR.DISPLAYENTRY,
        CAT_DIC_PUBLISHER.DISPLAYENTRY,
        CAT_DIC_KEYWORD.ACCESSENTRY,CAT_DIC_KEYWORD.DISPLAYENTRY,
        CAT_DIC_LANGUAGE.DISPLAYENTRY,CAT_DIC_LANGUAGE.NAMEVIET,
        CAT_DIC_SH.DISPLAYENTRY,
        CAT_DIC_ITEM_TYPE.ACCESSENTRY,CAT_DIC_ITEM_TYPE.TYPENAME 
from ( select rownum r,ITEM.ID from ITEM) 

LEFT JOIN ITEM_AUTHOR 
    ON ITEM.ID=ITEM_AUTHOR.ITEMID 
LEFT JOIN CAT_DIC_AUTHOR 
    ON ITEM_AUTHOR.AUTHORID=CAT_DIC_AUTHOR.ID 
LEFT JOIN ITEM_PUBLISHER 
    ON ITEM.ID=ITEM_PUBLISHER.ITEMID 
LEFT JOIN CAT_DIC_PUBLISHER 
    ON ITEM_PUBLISHER.PUBLISHERID=CAT_DIC_PUBLISHER.ID 
LEFT JOIN ITEM_KEYWORD 
    ON ITEM.ID=ITEM_KEYWORD.ITEMID 
LEFT JOIN CAT_DIC_KEYWORD 
    ON ITEM_KEYWORD.KEYWORDID=CAT_DIC_KEYWORD.ID 
LEFT JOIN ITEM_LANGUAGE 
    ON ITEM.ID=ITEM_LANGUAGE.ITEMID 
LEFT JOIN CAT_DIC_LANGUAGE 
    ON ITEM_LANGUAGE.LANGUAGEID=CAT_DIC_LANGUAGE.ID 
LEFT JOIN ITEM_SH 
    ON ITEM.ID=ITEM_SH.ITEMID 
LEFT JOIN CAT_DIC_SH 
    ON ITEM_SH.SHID=CAT_DIC_SH.ID 
LEFT JOIN CAT_DIC_ITEM_TYPE 
    ON ITEM.TYPEID=CAT_DIC_ITEM_TYPE.ID 

where r>100 and r<=200 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-14T08:28:21.637

尝试`ITEM`在子查询后添加单词，如下所示：

```
select ITEM.ID,ITEM.CREATEDDATE,ITEM.TYPEID,
        CAT_DIC_AUTHOR.DISPLAYENTRY,
        CAT_DIC_PUBLISHER.DISPLAYENTRY,
        CAT_DIC_KEYWORD.ACCESSENTRY,CAT_DIC_KEYWORD.DISPLAYENTRY,
        CAT_DIC_LANGUAGE.DISPLAYENTRY,CAT_DIC_LANGUAGE.NAMEVIET,
        CAT_DIC_SH.DISPLAYENTRY,
        CAT_DIC_ITEM_TYPE.ACCESSENTRY,CAT_DIC_ITEM_TYPE.TYPENAME 
from ( select rownum r,ITEM.ID,ITEM.TYPEID, ITEM.CREATEDDATE from ITEM)  ITEM

LEFT JOIN ITEM_AUTHOR 
    ON ITEM.ID=ITEM_AUTHOR.ITEMID 
LEFT JOIN CAT_DIC_AUTHOR 
    ON ITEM_AUTHOR.AUTHORID=CAT_DIC_AUTHOR.ID 
LEFT JOIN ITEM_PUBLISHER 
    ON ITEM.ID=ITEM_PUBLISHER.ITEMID 
LEFT JOIN CAT_DIC_PUBLISHER 
    ON ITEM_PUBLISHER.PUBLISHERID=CAT_DIC_PUBLISHER.ID 
LEFT JOIN ITEM_KEYWORD 
    ON ITEM.ID=ITEM_KEYWORD.ITEMID 
LEFT JOIN CAT_DIC_KEYWORD 
    ON ITEM_KEYWORD.KEYWORDID=CAT_DIC_KEYWORD.ID 
LEFT JOIN ITEM_LANGUAGE 
    ON ITEM.ID=ITEM_LANGUAGE.ITEMID 
LEFT JOIN CAT_DIC_LANGUAGE 
    ON ITEM_LANGUAGE.LANGUAGEID=CAT_DIC_LANGUAGE.ID 
LEFT JOIN ITEM_SH 
    ON ITEM.ID=ITEM_SH.ITEMID 
LEFT JOIN CAT_DIC_SH 
    ON ITEM_SH.SHID=CAT_DIC_SH.ID 
LEFT JOIN CAT_DIC_ITEM_TYPE 
    ON ITEM.TYPEID=CAT_DIC_ITEM_TYPE.ID 
where r>100 and r<=200 
```

# javascript - grails g：选择项目作为选项值

> ID：13873163
> 
> 赞同：1
> 
> 时间：2012-12-14T05:25:28.950
> 
> 标签：javascript, grails, select

我有域类：

> ```
> class Template {
>   String name;
>   String prop1;
>   String prop2;
> } 
> ```

并使用 g:select: 查看

> ```
> <g:select name="template.id" from="${Template.list()}" optionKey="id" onclick = "updateEditText(this.value);"/> 
> ```

我需要将选定对象设置为 g:select 值（但不是字符串），我认为它应该是这样的（但它不起作用）：

> ```
> <g:select name="template.id" from="${Template.list()}" optionKey="id" optionValue = "${it}" onclick = "updateEditText(this.value);"/> 
> ```

*it - 来自 template.list() 的对象

我的程序 updateEditText 需要从选定对象中获取所有属性：

> ```
> <g: javascript>
>    updateEditText(obj) {
>       document.getElementByID("prop1").value = obj.prop1;
>       document.getElementByID("prop2").value = obj.prop2; //etc
>    }
> </g:javascript> 
> ```

如果我使用“prop1”或“prop2”作为选项值，它可以正常工作，但这不是我需要的。谁能帮我？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-14T07:30:33.653

您不能将对象从 html 输入传递到 javascript。但是您可以使用 remoteFunction 标签将选定的 id 传递给服务器，在那里检索对象并返回属性。像这样：

```
<g:select name="template.id" from="${Template.list()}" optionKey="id" 
          onchange="${remoteFunction(action: 'getProps', 
          params:'\'id=\' + escape(this.value)',
          update: 'props')}"/>
<div id="props">Properties here</div> 
```

在控制器中，您获取实例并呈现如下属性：

```
def getProps() {
    def obj = Template.get(params.id)
    render("""<div id="prop1">prop1 = ${obj.prop1}</div>
              <div id="prop2">prop2 = ${obj.prop2}</div>
           """)
} 
```

# c - 计算C中一行中的字符数

> ID：13873164
> 
> 赞同：0
> 
> 时间：2012-12-14T05:25:29.867
> 
> 标签：c, file-io

我想使用 C 程序查找每行中的字符数。如果我在一行中有一个语句，它会工作得很好。但是，如果多个语句意味着，它会在其后添加一个 0。我怎样才能修改我的代码来实现我所需要的？提前致谢。

```
fp=fopen("chumma.c","r");
while((c=getc(fp))!=EOF)
{
    cn++;
    if((c=='\n') || (c==';'))
    {
         if((cn-1)==0)
            em++;
        n++;
        printf("\nNo. of char in line %d : %d\n",n,(cn-1));
        ll[n-1]=cn-1;
        cn=0;
    }
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-14T05:44:28.300

试试这个，我没有编译它，但它应该可以工作。

```
char buffer[1024];
fp=fopen("chumma.c","r");
while(fgets(buffer, 1024, fp))
{
    n++;
    cn = strlen(buffer);
    printf("\nNo. of char in line %d : %d\n",n,cn);
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-14T05:47:13.887

使用 fgets：

```
char buffer[MAX_BUFFER];

fp=fopen("chumma.c","r");
while (fgets(buffer, MAX_BUFFER, fp)) {
    cn = strnlen(buffer,MAX_BUFFER);
    n++;
    printf("\nNo. of char in line %d : %d\n",n, cn);

} 
```

类似的东西。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-14T05:59:17.493

以下代码应该适合您。虽然我还没有编译。

```
#define SIZE 1024
char buffer[SIZE];
char * pch;
int cn = 0;

fp=fopen("chumma.c","r");
while (fgets(buffer, SIZE, fp)) 
{
  pch = strtok (buffer,";");
  while (pch != NULL)
  {
    cn += strnlen(pch,SIZE);
    pch = strtok (NULL, ";");
  }
    n++;
    printf("\nNo. of char in line %d : %d\n",n, cn);
  cn = 0;
} 
```

希望这可以帮助。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-12-14T07:21:36.477

虽然下面的代码看起来有点绕，但它确实有效。如果有人可以简化它，请告诉我。谢谢。

```
while((c=getc(fp))!=EOF)
{
  cn++;
  if(c==';')
  {
    n++;
    printf("\nNo. of char in line %d : %d\n",n,cn);
    ll[n-1]=cn;
    cn=0;
    flag=1;
  }

  if(c=='\n')
  {
    if(flag==1)
    {
      flag=0;
      cn--;
    }

    else{
      if((cn-1)==0)
         em++;
      n++;
      printf("\nNo. of char in line %d : %d\n",n,(cn-1));
      ll[n-1]=cn-1;
      cn=0;
    }
  }
} 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-12-14T08:27:41.323

好的，我真的忘记了代码，但我仍然可以给你一个非常合理的逻辑，这肯定会帮助你。如果您听说过字符指针，那么没问题。

1) 使用 fopen 打开文件。2）开始一个循环直到 endofile EOF 并将文件的全部内容填充到一个数组中。3) 创建一个具有该数组起始位置的字符指针，并将其放入循环中，直到 '\0' //该数组的结束字符。4）在每次迭代中使用指针的值，您可以计算每个元素的样子（数字或字母--ASCII比较）

让我知道这是否有帮助

# python - puppetlab java模块安装问题

> ID：13873165
> 
> 赞同：0
> 
> 时间：2012-12-14T05:25:30.960
> 
> 标签：python, puppet

我想使用 puppermaster 和 puppet 代理将 puppetlab/java 模块安装到客户端-服务器架构中。在服务器端我下载 java 模块并在 site.pp 文件中创建节点我的节点内容

```
node 'test_java'{
    include activemq
    include stdlib
    include java
} 
```

在最后一个 java include 在客户端执行以下命令时出错。

```
puppet agent --test --trace 
```

错误代码：

```
Error: Could not retrieve catalog from remote server: Error 400 on SERVER: Could not find class java for test_java on node test_java 
```

我认为问题是java类在查看init.pp文件后需要的一些参数。如下所示。

```
class java(
  $distribution = 'jdk',
  $version      = 'present'
) {

  validate_re($distribution, '^jdk$|^jre$|^java.*$')
  validate_re($version, 'installed|^[._0-9a-zA-Z:-]+$')

  anchor { 'java::begin': }
  anchor { 'java::end': }

  case $::osfamily {

    'RedHat': {

      class { 'java::package_redhat':
        version      => $version,
        distribution => $distribution,
        require      => Anchor['java::begin'],
        before       => Anchor['java::end'],
      }

    }
    ........
    ........ 
```

我不明白我必须传递什么参数以及如何在节点中传递？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-14T06:23:58.350

参数是`()`在类定义中列出的内容。例如，该类采用参数`$distribution`和`$version`.

您可以像这样在您的 site.pp 中提供这些：

```
class{"java":
    distribution => YOUR DISTRIBUTION,
    version      => YOUR VERSION
} 
```

不过，您会在该示例中看到，它们已经具有合理的默认值。更不用说错误不是找不到类，而是没有提供必需的参数。

继续你的实际问题...... Puppet 在它的路径中找不到类。你知道找到`activemq`和`stdlib`类吗？您可以注释掉`include java`并查看其他类是否正确加载吗？如果是这样，请确保`java`该类安装在与它们相同的目录中。如果没有，您需要研究如何在[puppetmaster](http://docs.puppetlabs.com/references/latest/configuration.html#modulepath)上定义模块路径。

# iphone - iphone：如何在 UITableView 中制作多列

> ID：13873167
> 
> 赞同：4
> 
> 时间：2012-12-14T05:25:46.000
> 
> 标签：iphone, ios, uitableview, multiple-columns

> **可能重复：**
> [如何在 UITableView 中显示多列？](https://stackoverflow.com/questions/2855857/how-to-display-multiple-columns-in-a-uitableview)

我有多行和多列数据。但是 iPhone UITableView 只包含单列和多行。如何按照 Apple 的人机界面指南显示我的多列数据？有任何想法吗？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-12-14T05:29:18.310

使用 GridView 来满足您的这一要求，请参阅下面的演示和教程链接...

1.  [Grid-View-in-iPhone-using-UITableView-1665](http://www.mindfiresolutions.com/Grid-View-in-IPhone-using-UITableView-1665.php)
2.  [GMGridView](https://github.com/gmoledina/GMGridView#readme)
3.  [UIGridView](https://github.com/tanin47/UIGridView)

我使用下面的代码来显示具有多列的时间表，示例的一些代码..

```
- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath
{
    static NSString* cellIdentifier = @"gridCell";
    UITableViewCell *gridCell = [tableView dequeueReusableCellWithIdentifier:cellIdentifier];

    if(gridCell == nil)
    {
        gridCell =  [[[UITableViewCellalloc] initWithStyle:UITableViewCellStyleDefaultreuseIdentifier:cellIdentifier] autorelease];
        gridCell.accessoryType = UITableViewCellAccessoryNone;
        gridCell.selectionStyle = UITableViewCellSelectionStyleNone;
    }

    NSArray* items = [_grids objectAtIndex:indexPath.section];

    int imageIndex = 0;
    int yOffset = 0;

    while (imageIndex < items.count)
    {
        int yPos = 4 + yOffset * 74;

        for(int i = 0; i < 4; ++i)
        {
            CGRect  rect = CGRectMake((18 + i * 80), yPos, 40, 40);

            UIImageView* imageView = [self gridImageRect:rect forImage:[items objectAtIndex:imageIndex]];
            [gridCell.contentView addSubview:imageView];
            [imageView release];

            rect = CGRectMake(((80 * i)-4), (yPos+44), 80, 12);

            UILabel* label = [self descriptionOfImage:imageIndex inRect:rect];
            [gridCell.contentView addSubview:label];
            [label release];

            ++imageIndex;

        }

        ++yOffset;
    }

    return gridCell;
} 
```

我希望这可以帮助你...

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-12-14T05:39:58.610

你可以继承你的 tableViewCell 或者你可以使用这个[MDSpreadView](https://github.com/mochidev/MDSpreadView)

# iphone - CoreBluetooth 后台扫描设备

> ID：13873168
> 
> 赞同：5
> 
> 时间：2012-12-14T05:25:48.887
> 
> 标签：iphone, objective-c, ios, core-bluetooth, bluetooth-lowenergy

我目前正在开发一个需要我使用蓝牙 4.0 扫描设备的应用程序。在这一点上，我遇到了一个问题。

当应用程序在后台运行时，是否可以让应用程序扫描设备？由于某种原因，该应用程序无法扫描设备。该应用程序在后台运行时未调用 didDiscoverPeripheral。但是，一旦建立连接，我的应用程序就可以从设备接收数据。

为简单起见，为什么我的应用程序在后台运行时无法扫描设备？

PS 我确实输入了所需的背景模式 1.App 使用 CoreBluetooth 进行通信 2.App 使用 CoreBluetooth 共享数据

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-08-08T07:09:16.360

在后台扫描是一个非常缓慢的过程。苹果表示它比前台慢 55 倍。我的经验表明它可能会更慢。因此，为了在后台扫描设备，请记住以下几点：

1.  确保另一台设备以最大速度（20 毫秒）进行广告宣传，并宣传您正在扫描的服务。这个答案中有一个例子：[https ://stackoverflow.com/a/18113505/768935](https://stackoverflow.com/a/18113505/768935)
2.  由于扫描速度降低，请给应用程序更多的时间来查找设备。
3.  确保使用指定的服务开始扫描。您无法在后台扫描`nil`服务。
4.  用于扫描的*允许重复*选项在后台被忽略。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-10-17T16:02:36.903

另一件事可能是一个问题，您必须扫描特定服务，如下所示：

```
 [myCentralManager scanForPeripheralsWithServices:@[serviceUUID] options:nil]; 
```

而不是让“with services”参数为零。我认为这是一个很大的问题，在 Apple 的文档中几乎没有提及，仅在该方法的描述中提到，而在 Core Bluetooth Backgrounding 文档中也没有提及。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-14T22:59:14.430

将服务或数据放入广告包中！如果您希望 iPhone 更快地发现它，也可以设置广告周期快。我在前 30 秒使用 20 毫秒。兄弟亨里克

# design-patterns - 将业务逻辑与数据源解耦

> ID：13873170
> 
> 赞同：0
> 
> 时间：2012-12-14T05:25:50.673
> 
> 标签：design-patterns, architecture, decoupling

我有一个依赖于 dll（名为 datalib）的应用程序，该 dll 旨在以 xml 格式存储数据。

我的应用程序和那个 dll 之间有一对紧密的关系。

在整个代码中，我的应用程序以这种方式使用该 dll 检索数据：

```
var data = datalib.Parameters.HostAddress; 
```

我希望我的应用程序能够替换数据源（例如 SQL Server 数据库）。

不幸的是，我的应用程序在其业务逻辑中将强类型对象从 datalib 传送到紧密依赖 datalib 的其他模块。

在我的情况下，有哪些可能的方式来实现数据源替换的能力？我是否需要创建自己的域层，并能够将其实体映射到 datalib 的实体？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-14T09:49:34.387

建议从以下链接和其他地方阅读这些概念：

1.  [存储库模式](http://msdn.microsoft.com/en-us/library/ff649690.aspx)
2.  [数据映射器](http://martinfowler.com/eaaCatalog/dataMapper.html)

本质上，您希望围绕外部数据访问库 ( ) 实现松散耦合`datalib.dll`。这可以通过多种方式实现——从简单的 DataAccess 类到更可扩展的 Repository 类型工厂类。

You would have to make that choice, based on the cost vs. benefits in each approach. Hope this helps.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-14T07:21:14.493

根据我的理解数据源需要动态配置，它应该由datalib使用

1.  编写一个独立的程序，读取配置文件以获取数据源。

2.  测试该程序以查看它可以访问不同的数据源。该方法可以返回一个 DataSource （在 Java 中。对语言不太了解）

3.  修改 datalib 以更改代码以访问您在步骤 2 中编写的程序。

通过这种方式，我们不会破坏任何合同数据库和应用程序中的调用点，并且您可以实现一些解耦。

# ios - 更改为独立应用程序后的 Xcode 更新

> ID：13873172
> 
> 赞同：4
> 
> 时间：2012-12-14T05:26:09.360
> 
> 标签：ios, xcode, xcode4.5, updates

现在 xcode 作为一个独立的应用程序出现。因此，如果有新版本出现，我必须一次又一次地下载所有模拟器和文档。有什么简单的方法可以做到这一点

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-14T05:42:49.250

据我所知，没有。我遇到了同样的问题，但选择只下载我需要的 1 个模拟器，这并不麻烦。除非苹果改回 xcode 的方式，否则别无他法。

# ruby-on-rails-3 - config.assets.version 在 Rails 中有什么作用？

> ID：13873176
> 
> 赞同：13
> 
> 时间：2012-12-14T05:26:25.400
> 
> 标签：ruby-on-rails-3, asset-pipeline

我在文档中找不到这个问题的明确答案。许多参考资料只是说“更改版本会使资产无效”。那么，指纹机制不也是这样做的吗，它根据文件内容和名称生成哈希标签？有谁知道具体是干什么`config.assets.version`用的？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2016-05-20T11:28:34.943

> config.assets.version 是用于 MD5 哈希生成的选项字符串。这可以更改为强制重新编译所有文件。*

这在资产内容未更改但您想更改随资产提供的响应标头但这些标头缓存在 CDN 或用户浏览器之类的某个位置时会很有帮助。

更改资产版本将允许您使用新的 md5 哈希重新生成所有资产，从而允许您使用新标头向 CDN 提供相同的资产。

*来自[RailsGuides - 配置 Rails 应用程序](http://guides.rubyonrails.org/configuring.html)

注意：截至 2016 年 5 月 20 日，此功能似乎已经被破坏了一段时间[https://github.com/rails/sprockets-rails/issues/240](https://github.com/rails/sprockets-rails/issues/240)。另一种方法是更改​​的值`Rails.application.config.assets.prefix`。

# python - 如何使用 Python 2.7 在 Tkinter 中设计 GUI 序列

> ID：13873190
> 
> 赞同：2
> 
> 时间：2012-12-14T05:27:30.120
> 
> 标签：python, user-interface, python-2.7, tkinter, gui-designer

我想编写一个程序，在不同的对话框中向用户询问一系列问题。每个框一次显示一个，如果单击下一步按钮，则转到下一个框。我的问题是我是否为每个对话框创建一个类，并在单击下一步按钮后调用下一个类？或者有更优雅的解决方案吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-21T02:40:08.880

我的建议是构建一个包含当前问题的基类，然后当用户回答一个问题并进入下一个问题时，基类会更新新的当前问题的显示。您不需要在任何时候销毁小部件（退出应用程序时除外），您还可以在创建新小部件之前重用小部件。

让我将你的问题的格式简化为这个：每个问题都包含一个问题描述和一组答案，用户可以在其中选择一个答案。这些简化可以删除，但我设置它们是为了提供一个初始代码来处理问题。这是这样做的起点（我对命名的想象力很弱）：

```
import random
import Tkinter
import ttk

# Make 5 "questions" with varied number of answers to pick from.
QUESTION = [u"Question %d" % (i + 1) for i in range(5)]
QOPTS = []
k = 1
for _ in QUESTION:
    num_opts = random.randint(3, 6)
    QOPTS.append([u"text %d" % (k + i) for i in range(num_opts)])
    k += num_opts

class Question:
    def __init__(self, master):
        self._common_var = Tkinter.StringVar()

        self._title = None
        self._lframe = None
        self._rb = []
        self._make_gui(master)

    def get_answer(self):
        return self._common_var.get()

    def reset_answer(self):
        self._common_var.set("")

    def _make_gui(self, master):
        self._title = ttk.Label(master, padding=(0, 6, 0, 0))
        self._title.grid(in_=master, padx=6, row=0, column=0, sticky='ew')

        self._lframe = ttk.Labelframe(master)
        self._lframe.grid(in_=master, padx=6, row=1, column=0, sticky='nsew')

    def update_gui(self, question, options):
        self._title['text'] = question
        for i, opt in enumerate(options):
            if i < len(self._rb):
                if not self._rb[i].grid_info():
                    self._rb[i].grid()
                self._rb[i]['text'] = opt
            else:
                rb = ttk.Radiobutton(self._lframe, text=opt, value=i,
                        variable=self._common_var)
                rb.grid(in_=self._lframe, row=i, column=0, sticky='w')
                self._rb.append(rb)
        # Deal with i < total.
        for k in xrange(i + 1, len(self._rb)):
            self._rb[k].grid_remove()

class Base:
    def __init__(self, frame, q, o):
        self.master = frame

        self.question = None
        self.curr_question = 0
        self.q = q
        self.o = o
        self._make_gui(frame)
        self._update_gui()

    def next_question(self):
        answer = self.question.get_answer()
        try:
            answer = int(answer)
        except ValueError:
            print "Question not answered, stay here."
            return
        print "Answer for question %d: %d" % (self.curr_question, answer)
        self.question.reset_answer()

        self.curr_question += 1
        self._update_gui()

    def _make_gui(self, frame):
        self.question = Question(frame)
        frame.columnconfigure(0, weight=1)
        frame.rowconfigure(1, weight=1)

        btn = [(u"Next", self.next_question)]
        self._btn = []
        for i, (text, cmd) in enumerate(btn):
            # Assumption: the Question instance always uses the rows 0 and 1.
            b = ttk.Button(frame, text=text, command=cmd)
            b.grid(in_=frame, padx=6, pady=6, row=2, column=i, sticky='e')
            self._btn.append(b)

    def _update_gui(self):
        if self.curr_question == len(self.q):
            print "Done"
            self.master.quit()
            return
        elif self.curr_question == len(self.q) - 1:
            for btn in self._btn:
                # No next question
                btn['text'] = u"Finish"

        self.question.update_gui(self.q[self.curr_question],
                self.o[self.curr_question])

root = Tkinter.Tk()
root.columnconfigure(0, weight=1)
root.rowconfigure(0, weight=1)
root.geometry('300x250')
frame = ttk.Frame(root)
frame.grid(sticky='nsew')
Base(frame, QUESTION, QOPTS)
root.mainloop() 
```

这是您将获得的 GUI：

![在此处输入图像描述](../Images/d2ca46049b43d8569f36e29def520d82.png) ![在此处输入图像描述](../Images/dd59f28be30e44426c0215e8bd755d07.png)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-14T09:33:26.147

你确定你必须为对话框创建一个类吗？Tkinter 内置对话框类不好吗？您可以为函数提供 Dialogs 的迭代器`next()`，每个 Next 按钮在单击时都会调用该迭代器。你的意思是这样的吗？

# c++ - 尝试转换 vtkactor 时 vtkProp::SafeDownCast() 崩溃

> ID：13873194
> 
> 赞同：0
> 
> 时间：2012-12-14T05:28:09.403
> 
> 标签：c++, exception, vtk

从手册中我了解到 vtksafedowncast 是一种安全操作。但是在我的应用程序中，有时当我尝试将 vtkactor 转换为 vtkprop 时它会崩溃（这是非常随机地发生的。）。在通过 vtkactor 之前，我确实检查了 null。是否有任何异常处理或其他检查以确保演员适合转换？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-14T19:18:09.080

您甚至不需要演员表，因为 vtkActor 派生自 vtkProp。你可以做

```
vtkProp* p = vtkActor::New(); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-14T05:49:15.320

你可以使用 dynamic_cast<> 来尝试，但是你的编译器必须支持 RTTI。

```
class vtkActor:public vtkProp (){}; //their relationship 
```

因此您可以使用 dynamic_cast<> 将 vtkActor 指针转换回 vtkProp 指针。

至于 vtkSafeDowncast，试试这个。

```
vtkActor * foo ;
foo = vtkActor::New() ;
vtkProp * m_prop ;
m_prop = (vtkProp*)(vtkProp::SafeDownCast(foo)); 
```

或者如果使用 dynamic_cast<>：

```
m_prop = dynamic_cast<vtkProp*>(foo) ; 
```

# swing - 在 JavaDoc 中哪里可以找到将 Swing 作为单线程模型的描述？

> ID：13873198
> 
> 赞同：0
> 
> 时间：2012-12-14T05:28:34.693
> 
> 标签：swing, javadoc

众所周知，Swing 使用单个事件调度线程。在 JavaDoc 中哪里可以找到这样的声明？

我可以找到 Sun 的一篇博客文章，上面写着：

> 这一分析在 1997 年的一次 Swing 设计审查中达到高潮，当时我们审查了 AWT 的运行状态和整个行业经验，我们接受了 Swing 团队的建议，即 Swing 应该只支持非常有限的多线程。除了少数少数例外，所有 GUI 工具包的工作都应该发生在事件处理线程上。随机线程不应尝试直接操纵 GUI 状态。

-- [http://weblogs.java.net/blog/kgh/archive/2004/10/multithreaded_t.html](http://weblogs.java.net/blog/kgh/archive/2004/10/multithreaded_t.html)

但由于博客条目不是文档，我不想依赖可能只是实现细节的东西。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-14T07:13:02.830

在[Swing 包 javadoc](http://docs.oracle.com/javase/6/docs/api/javax/swing/package-summary.html#threading)中，它从**每个**Swing 组件的 javadoc 链接。例如，参见[JButton 的文档](http://docs.oracle.com/javase/6/docs/api/javax/swing/JButton.html)，其中说：

> 警告：Swing 不是线程安全的。有关更多信息，请参阅 Swing 的线程策略。

# c# - 跨程序集使用动态对象

> ID：13873206
> 
> 赞同：1
> 
> 时间：2012-12-14T05:29:26.407
> 
> 标签：c#, dynamic

我无法让动态对象在其他程序集中的类型中工作。要复制这个，创建一个新的解决方案，添加一个类库，添加一个控制台应用程序，将类库的引用添加到控制台应用程序，在类库中创建这个类：

```
public class DynamicTest
{
    public dynamic People { get; set; }
    public override string ToString()
    {
        var sb = new StringBuilder();

        foreach (var person in People)
        {
            sb.AppendLine(person.Name);
        }

        return sb.ToString();
    }
} 
```

并将其插入控制台应用程序的`Program.Main()`：

```
var test = new DynamicTest
{
    People = new[] { 
        new { Name = "John" },
        new { Name = "Jane" }
    }
};

Console.WriteLine(test.ToString());
Console.ReadLine(); 
```

运行控制台应用程序。在类中的`sb.AppendLine`行上`DynamicTest`，a`RuntimeBinderException`与 message 一起被抛出`'object' does not contain a definition for 'Name'`。

如果我将该`DynamicTest`类移动到控制台应用程序程序集中，它会按预期工作。跨程序集使用动态是否有限制？这似乎是一个非常合理的动态用例。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-14T05:33:39.070

对此的普遍共识是使用[ExpandoObject](http://msdn.microsoft.com/en-us/library/system.dynamic.expandoobject.aspx) - 这是可以跨越应用程序边界的等价物。

`dynamic`编辑：伙计，直到现在我都忘记了编译器是如何处理的……这很有趣。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-14T05:56:18.720

继@Simon Whitehead 的回答之后，`ExpandoObject`需要在消费端使用，即在`Program.Main()`：

```
dynamic john = new ExpandoObject();
john.Name = "John";

dynamic jane = new ExpandoObject();
jane.Name = "Jane";

var test = new DynamicTest
{
    People = new ExpandoObject[] {
        john,
        jane
    }
}; 
```

# sql-server - 全文搜索查询未在 SQL Server 中返回结果

> ID：13873210
> 
> 赞同：2
> 
> 时间：2012-12-14T05:29:48.423
> 
> 标签：sql-server, full-text-search

我为我的表创建了一个目录和全文索引：

```
create fulltext catalog testsearch

select * from INFORMATION_SCHEMA.TABLE_CONSTRAINTS

CREATE FULLTEXT INDEX ON test_master

(name)
KEY INDEX PK_test_master
ON testsearch 
```

但是当我尝试检索值时

```
select * from test_master where contains(name, 'product') 
```

该查询只返回我表'test_master'的列，但没有填充任何行..我也没有收到任何错误..请帮助我

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-14T09:54:16.247

根据您的表大小，索引可能需要一些时间。在运行查询之前，您可能需要稍等片刻。

我倾向于像这样编写人口脚本（必须承认我不知道它可以通过用户界面完成......）

```
ALTER FULLTEXT INDEX ON test_master START FULL POPULATION 
```

之后我还使用手动设置更改跟踪自动，尽管这是默认行为（不记得为什么。我一定遇到过一些问题......）

```
ALTER FULLTEXT INDEX ON test_master SET CHANGE_TRACKING AUTO 
```

# xml - 如何选择子节点而不是该子元素的整个子元素

> ID：13873212
> 
> 赞同：0
> 
> 时间：2012-12-14T05:30:04.477
> 
> 标签：xml, linq-to-xml

```
<categories>
<category text="Arts">
  <category>
        <category text="Design"/>
        <category text="Visual Arts"/>
   <category>
</category>
<category text="Business">
    <category>
        <category text="Business News"/>
        <category text="Careers"/>
        <category text="Investing"/>
   </category>
</category>
<category text="Comedy"/>
</categories> 
```

目前我正在使用

```
xDoc.Descendants("category").Where(a => a.Attribute("text").Value == "Arts").Descendants("category") 
```

上面的代码返回我所有的类别元素从具有属性“艺术”的类别我想要的只是具有属性“艺术”的类别正下方的类别节点，而不是具有文本属性设计和视觉艺术的类别。我想要像下面这样的整个类别节点

```
 <category>
    <category text="Design"/>
    <category text="Visual Arts"/>
 <category> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-21T22:44:01.157

给你，希望你仍然需要这个：

```
 string category = "Business";
    var children = xDoc.Root.Elements("category").Where(a => a.Attribute("text").Value == category).Elements(); 
```

# ruby-on-rails - nil:NilClass 的未定义方法“first”

> ID：13873214
> 
> 赞同：0
> 
> 时间：2012-12-14T05:30:14.680
> 
> 标签：ruby-on-rails, ruby, rescue

有时我会收到这个错误，我只想让 Rails 在错误发生时拯救/跳过错误，而不是完全停止程序。有没有好的方法来做到这一点？

下面是我的代码：

```
<% wiki = MediaWiki.new(:domain => 'commons.wikimedia.org') %>
<% wikimedia_user = wiki.find("File:Samuel_L_Jackson_as_Nick_Fury.jpg") %> 
```

第二行导致此错误：

```
NoMethodError (undefined method `first' for nil:NilClass) 
```

如果发生这种情况，我只想`wikimedia_user`设置为零。我尝试添加`.inspect?`到末尾`.find`，但我得到的只是错误。有没有办法做到这一点？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-14T05:33:14.260

在与要抑制异常并返回 nil 的行相同的行上，添加`rescue nil`到末尾。

```
<% wikimedia_user = wiki.find("File:Samuel_L_Jackson_as_Nick_Fury.jpg") rescue nil %> 
```

注意：这通常不被认为是一种好的做法，因为从该行抛出的任何类型的异常都会被该救援捕获。在您的情况下，这可能不是一个大问题，但在前进时要牢记一些事情。

# java - 在蓝牙 android 中配对设备

> ID：13873215
> 
> 赞同：4
> 
> 时间：2012-12-14T05:30:15.853
> 
> 标签：java, android, bluetooth

我正在尝试通过蓝牙连接另一台 android 设备，所以首先我将设备配对，然后尝试发送另一台设备的请求。

当我调用系统蓝牙设置屏幕时，我可以配对另一台设备

```
 Intent btSettingsIntent = new Intent(Settings.ACTION_BLUETOOTH_SETTINGS);
    startActivityForResult(btSettingsIntent, Pair_Request); 
```

当我尝试通过编程方式配对时，我得到了这个对话框并在我的设备中输入了对数，但在另一个设备中没有响应

```
 BluetoothDevice device = bluetoothAdapter.getRemoteDevice(strAddress);
    Intent intent = new Intent("android.bluetooth.device.action.PAIRING_REQUEST");
    intent.putExtra("android.bluetooth.device.extra.DEVICE", device);
    intent.putExtra("android.bluetooth.device.extra.PAIRING_VARIANT", 0);
    intent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);
    startActivity(intent); 
```

我在设备中得到了这个图像，当我输入对号时，我没有在另一个设备中得到任何东西

![在此处输入图像描述](../Images/ae9d7bfb80c04b17534d58432b2030ed.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-14T07:00:39.597

如果设备已经配对，那么您可以使用

```
if(device.getBondState()==device.BOND_BONDED){

        Log.d(TAG,device.getName());
        //BluetoothSocket mSocket=null;
        try {

            mSocket = device.createInsecureRfcommSocketToServiceRecord(MY_UUID);
        } catch (IOException e1) {
            // TODO Auto-generated catch block
            Log.d(TAG,"socket not created");
            e1.printStackTrace();
        }
        try{

            mSocket.connect();

        }
        catch(IOException e){
            try {

                mSocket.close();
                Log.d(TAG,"Cannot connect");
            } catch (IOException e1) {
                Log.d(TAG,"Socket not closed");
                // TODO Auto-generated catch block
                e1.printStackTrace();
            }

        } 
```

对于 MY_UUID 使用

```
private static final UUID MY_UUID = UUID.fromString("0000110E-0000-1000-8000-00805F9B34FB"); 
```

上面的代码片段只是为了将您的设备连接到支持 A2DP 的设备。我希望它会奏效。如果没有，请告诉我。

# xslt-1.0 - 如何让 xsl 只返回连字符右侧的一部分字段？

> ID：13873219
> 
> 赞同：1
> 
> 时间：2012-12-14T05:31:07.927
> 
> 标签：xslt-1.0

我正在使用shipworks 中的xsl 模板。我能够编写这个简单的代码来创建一个我可以使用的文本文件“选择列表”。

* * *

```
<!DOCTYPE xsl:stylesheet [ <!ENTITY nl "&#xd;&#xa;"> ]>

<xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"             xmlns:sw="http://www.interapptive.com/shipworks" extension-element-prefixes="sw">
<xsl:import href="ShipWorks2\System\Common" />

<xsl:output method="text" encoding="utf-8" />

<!-- -->
<!-- Start of processing -->
<!-- -->

<xsl:template match="/">
<xsl:for-each select="//Order/Item">
<xsl:sort order="descending" select="../Total" data-type="number" />
<xsl:sort order="descending" select="../Number" data-type="number" />
<xsl:value-of select="SKU" />,<xsl:value-of select="Quantity" /><xsl:text>
</xsl:text>
</xsl:for-each>
</xsl:template> 
```

是的，我知道，真的很棒啊！？嘿，我花了很长时间才弄对！如您所见，它正在制作 SKU 列表。好吧，我的每个 SKU 看起来都像这样：

BLAH-BLAH-PRODUCTSKU

我想知道是否有一种方法可以仅从该值中获取“PRODUCTSKU”，并在最后一个字符之前切断所有内容。

在网上环顾四周，我看到了 substring-after-last 函数。我想知道我是否可以使用它？我试着把它放在那里，但我认为我在声明或其他方面遗漏了一些东西。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-17T07:26:37.473

代替

```
<xsl:value-of select="SKU" /> 
```

替换下面的代码。它应该工作，

```
<xsl:variable name="input">
        <xsl:value-of select="SKU" />
</xsl:variable>
<xsl:value-of select="replace($input,'^(.)+?(PRODUCTSKU)$','$2')"/> 
```

# nosql - Cassandra 设置看起来不错，但在我的 3 节点集群中只有一个节点占用 100% 的数据。所有节点都在环中看到了吗？

> ID：13873224
> 
> 赞同：0
> 
> 时间：2012-12-14T05:31:39.550
> 
> 标签：nosql, cassandra, datastax-enterprise

当我在我的 3 节点集群中的所有节点上运行**nodetool -host ip.ip.ip.ip ring时，输出始终只显示其中一个节点。**

我运行了一个 netstat，但我不确定如何解释它。我查看了所有配置文件，看起来不错。我需要更改 /etc/hosts 文件吗？我在控制台中仔细检查了我的安全组规则，一切正常。7000是开放的入站和出站..

```
netstat -ant | grep 7000
tcp        0      0 10.160.13.61:7000           0.0.0.0:*                   LISTEN
tcp        0      0 10.160.13.61:48403          10.160.13.37:7000           ESTABLISHED
tcp        0      0 10.160.13.61:7000           10.160.13.62:60845          ESTABLISHED
tcp        0      0 10.160.13.61:7000           10.160.13.37:56271          ESTABLISHED
tcp        0      0 10.160.13.61:7000           10.160.13.37:60656          ESTABLISHED
tcp        0      0 10.160.13.61:38436          10.160.13.62:7000           ESTABLISHED
tcp        0      0 10.160.13.61:52762          10.160.13.62:7000           ESTABLISHED 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-14T14:22:53.587

很可能您没有在 cassandra.yaml 中正确配置种子。任何新节点都应指向种子配置中的一个或多个现有节点；这告诉新节点如何加入环。还请记住，您应该手动指定令牌，以便获得均匀的密钥分配。

# sql-server - AppFabric 关闭

> ID：13873225
> 
> 赞同：0
> 
> 时间：2012-12-14T05:31:48.253
> 
> 标签：sql-server, appfabric

我们在 ASP.Net 应用程序中实现了 appfabric 缓存。有时 AppFabric 会在中间关闭并引发以下错误。

```
AppFabric Caching service crashed.{Lease with external store expired: Microsoft.Fabric.Federation.ExternalRingStateStoreException: Renew lease failed ---> Microsoft.Fabric.Data.ExternalStoreException: Timeout expired.  The timeout period elapsed prior to completion of the operation or the server is not responding. ---> Microsoft.ApplicationServer.Caching.ConfigStoreException: Timeout expired.  The timeout period elapsed prior to completion of the operation or the server is not responding. ---> System.Data.SqlClient.SqlException: Timeout expired.  The timeout period elapsed prior to completion of the operation or the server is not responding.
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning()
   at System.Data.SqlClient.TdsParserStateObject.ReadSniError(TdsParserStateObject stateObj, UInt32 error)
   at System.Data.SqlClient.TdsParserStateObject.ReadSni(DbAsyncResult asyncResult, TdsParserStateObject stateObj)
   at System.Data.SqlClient.TdsParserStateObject.ReadNetworkPacket()
   at System.Data.SqlClient.TdsParser.ConsumePreLoginHandshake(Boolean encrypt, Boolean trustServerCert, Boolean& marsCapable)
   at System.Data.SqlClient.TdsParser.Connect(ServerInfo serverInfo, SqlInternalConnectionTds connHandler, Boolean ignoreSniOpenTimeout, Int64 timerExpire, Boolean encrypt, Boolean trustServerCert, Boolean integratedSecurity)
   at System.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, SqlConnection owningObject)
   at System.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, Boolean redirectedUserInstance, SqlConnection owningObject, SqlConnectionString connectionOptions, TimeoutTimer timeout)
   at System.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(SqlConnection owningObject, TimeoutTimer timeout, SqlConnectionString connectionOptions, String newPassword, Boolean redirectedUserInstance)
   at System.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, Object providerInfo, String newPassword, SqlConnection owningObject, Boolean redirectedUserInstance)
   at System.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection)
   at System.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnection owningConnection, DbConnectionPool pool, DbConnectionOptions options)
   at System.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject)
   at System.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject)
   at System.Data.ProviderBase.DbConnectionPool.GetConnection(DbConnection owningObject)
   at System.Data.ProviderBase.DbConnectionFactory.GetConnection(DbConnection owningConnection)
   at System.Data.ProviderBase.DbConnectionClosed.OpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory)
   at System.Data.SqlClient.SqlConnection.Open()
   at Microsoft.ApplicationServer.Caching.SqlServerCustomProvider.BeginTransaction()
   --- End of inner exception stack trace ---
   at Microsoft.ApplicationServer.Caching.SqlServerCustomProvider.BeginTransaction()
   at Microsoft.ApplicationServer.Caching.ExternalConfigStore.BeginTransaction()
   --- End of inner exception stack trace ---
   at Microsoft.ApplicationServer.Caching.ExternalConfigStore.BeginTransaction()
   at Microsoft.Fabric.Data.ExternalStoreAuthority.UpdateNode(NodeInfo nodeInfo, TimeSpan timeout)
   --- End of inner exception stack trace ---
   at Microsoft.Fabric.Data.ExternalStoreAuthority.UpdateNode(NodeInfo nodeInfo, TimeSpan timeout)
   at Microsoft.Fabric.Federation.SiteNode.PerformExternalRingStateStoreOperations(Boolean& canFormRing, Boolean isInsert, Boolean isJoining)} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-17T10:10:42.003

上述异常的原因之一是每个用户多次调用 DataCache.Put 方法。

# blackberry - 输入文本时光标不移动

> ID：13873228
> 
> 赞同：-2
> 
> 时间：2012-12-14T05:32:01.423
> 
> 标签：blackberry, blackberry-simulator

我正在使用编辑字段，但是当我在此字段中键入任何文本时，光标不会随文本移动，它正在显示键入的文本，但光标位置仍保持在 start 上。

我正在使用 Os 6 和 Os 7/7.1。

请让我知道这个问题。以下是它的图像。

![在此处输入图像描述](../Images/f8fd75195063edfccebdda4504743643.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-17T04:38:37.273

我在文本字段中添加了以下代码 - onFocus 和 onUnFocus 方法：

```
protected void onFocus(int direction) {
    this.setCursorPosition(this.getTextLength());
    invalidate();
    super.onFocus(direction);
};

protected void onUnfocus() {
    this.setCursorPosition(this.getTextLength());
    invalidate();
    super.onUnfocus();
}; 
```

它解决了我的问题。感谢大家的支持。

# css - 制作四个大小相同的盒子，水平显示并在屏幕上居中响应，最简单的解决方案是什么？

> ID：13873231
> 
> 赞同：0
> 
> 时间：2012-12-14T05:32:11.407
> 
> 标签：css, responsive-design

什么是最简单的解决方案来制作四个大小相同的盒子，这些盒子内联（水平）显示并在整个屏幕中居中响应？

我有四个大小相同的 div，内联显示并始终位于中心，这意味着它们在左侧始终具有相等的边距并写入屏幕。我希望它能够响应。我已经尝试过 flex-box，但我在浏览器与 css3 的兼容性方面遇到了问题。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-14T10:40:37.757

我不知道这是否是绝对“最好”的方式。但这样的事情肯定会奏效。

```
div {
   width: 22%; //adjust as necessary
   margin-right: 4%; //adjust as necessary
   float: left;
   height: 5em; //adjust or remove as necessary 
}

div.last { //alternatively you could consider using the :last-child selector
   margin-right: 0;
   float: right;
} 
```

您必须将“last”类应用于 last `div`。或者，`div:last-child`如果它们都包含在父元素中，则可以使用。

此外，在调整边距/宽度时，请确保它们保持相对。`width`x4 + `margin-right`x3 应该始终 = 100（假设没有填充或边框）。

# node.js - Node 永远不能在 Ubuntu 12.04.1 上运行

> ID：13873233
> 
> 赞同：6
> 
> 时间：2012-12-14T05:32:14.230
> 
> 标签：node.js, ubuntu, forever

当我在 Ubuntu 12.04.1 上永远玩得开心时，将 node.js 从 v0.6.12 升级到 v0.8.15 后出现以下错误。在升级之前它运行良好。有没有人遇到过这种问题？

```
$ forever

module.js:340
    throw err;
          ^
Error: Cannot find module './daemon.v0.8.15'
    at Function.Module._resolveFilename (module.js:338:15)
    at Function.Module._load (module.js:280:25)
    at Module.require (module.js:362:17)
    at require (module.js:378:17)
    at Object.<anonymous> (/usr/local/lib/node_modules/forever/node_modules/daemon/lib/daemon.js:12:11)
    at Module._compile (module.js:449:26)
    at Object.Module._extensions..js (module.js:467:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Module.require (module.js:362:17) 
```

我的环境是

```
node v0.8.15
npm 1.1.66 
```

我用命令行安装了 node 和 npm

```
$ sudo apt-get install python-software-properties -y
$ sudo add-apt-repository ppa:chris-lea/node.js
$ sudo apt-get update
$ sudo apt-get install nodejs npm -y 
```

我用命令行永久安装

```
$ sudo npm install forever -g 
```

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-01-04T02:23:34.763

'sudo npm update -g forever' 对我不起作用。我删除了所有已安装的模块并重新安装。永远有效。步骤如下。

删除所有现有的永久模块。

```
$ sudo rm -R /usr/lib/node_modules/forever
$ sudo rm -R /usr/local/lib/node_modules/forever 
```

再次安装forever。

```
$ sudo npm install forever -g 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2014-03-07T10:42:09.287

您将通过以下命令获得解决方案，但存在一些问题，因此请尝试具有众多优势和首次亮相检查点的 PM2

```
 $ sudo rm -R /usr/lib/node_modules/forever
    $ sudo rm -R /usr/local/lib/node_modules/forever 
```

请使用它来启动 node.js 异常并使用集群和主从逻辑监视每个进程

[http://devo.ps/blog/2013/06/26/goodbye-node-forever-hello-pm2.html](http://devo.ps/blog/2013/06/26/goodbye-node-forever-hello-pm2.html)

```
 $ sudo npm install -g pm2 
```

# core-data - 声明为类的所有东西都必须是 NSObject 吗？

> ID：13873234
> 
> 赞同：0
> 
> 时间：2012-12-14T05:32:13.793
> 
> 标签：core-data, xcode4.5

我做了一个这样的类别：

```
@interface NSObject (defaultSelector)
+(NSString *) defaultSelector;
-(NSString *)defaultSelector;
@end 
```

然后，我这样使用它：

```
-(void)prefetchShortcutWithTable: (Class) someNSManagedObjectClass forInputArray: (NSArray *) inputArray withDictCache: (NSMutableDictionary *) dictToSave
{
    NSString * attribute = [someNSManagedObjectClass defaultSelector];
    [self prefetchShortcutWithTable:NSStringFromClass(someNSManagedObjectClass) forAttribute:attribute forInputArray:inputArray withDictCache:dictToSave];
} 
```

整个事情都有效。但是，编译器如何知道 someNSManagedObjectClass 将是 NSObject 的子类？

实际上，如何重写函数以便 `-(void)prefetchShortcutWithTable: (Class) someNSManagedObjectClass forInputArray: (NSArray *) inputArray withDictCache: (NSMutableDictionary *) dictToSave`只接受 NSManagedObject 的子类？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-14T05:38:24.620

`NSObject`是任何`someNSManagedObjectClass`或`anyOtherClass`你将要制作的基类。

# ruby-on-rails - 用于创建新模型值的 Ruby 脚本

> ID：13873238
> 
> 赞同：0
> 
> 时间：2012-12-14T05:32:20.397
> 
> 标签：ruby-on-rails, ruby, ruby-on-rails-3

项目是模型名称，我想做类似的事情：

```
Project.create(:name => 'projectname', :identifier => 'projectidentifier') 
```

这应该通过 ruby​​ 脚本在终端中完成。我不会使用 rails 控制台来创建它，也不会使用 db 文件中的seeds.rb 将其迁移为 rake db:seed。

有人可以帮忙吗。谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-14T05:38:49.560

rake 任务呢？

在 lib/tasks 上，创建一个名为**data.rake**的文件，内容为：

```
namespace :data
  desc "Create project data"
  task create_project_data: :environment do
    Project.create(name: 'projectname', identifier: 'projectidentifier')
  end
end 
```

您可以将其作为任何 rake 任务运行

```
rake data:create_project_data 
```

当你列出你的 rake 任务时它也会出现

```
rake -T 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-14T07:48:04.367

最简单的方法是使用 rails runner（它本质上是加载 rails）：

```
rails runner your_script.rb 
```

代码行将是该脚本的内容。

# c# - 有没有办法构建 WinRT 项目，根据进程架构知道要使用哪个版本的 winmd 文件？

> ID：13873252
> 
> 赞同：0
> 
> 时间：2012-12-14T05:33:23.620
> 
> 标签：c#, windows-8, windows-runtime

根据构建配置（x86、x64、ARM）不断重命名 winmd 文件真的很痛苦。有没有一种简单的方法可以将三个配置滚动到一个 winmd 文件中？或者如果不是，配置构建以检测要使用哪个版本的 winmd 文件的最佳方法是什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-14T05:52:31.787

如果我对您的理解正确，您正在寻找一种方法来引用您的本机 winmd 文件，以便为您的 Windows 应用商店应用项目的每个目标平台使用正确版本的 winmd 文件（x86、x64 或 ARM）。

实现这一目标的最佳方法（也是我知道的唯一方法）是创建一个[扩展 SDK](http://msdn.microsoft.com/en-us/library/vstudio/hh768146.aspx#ExtensionSDKs)，您可以将其作为扩展安装在 Visual Studio 中，然后将出现在该类别`Add Reference`下的对话框中。`Windows > Extensions`此类 SDK 的示例包括[用于 Windows 运行时的 SQLite](http://visualstudiogallery.msdn.microsoft.com/23f6c55a-4909-4b1f-80b1-25792b11639e)和[用于 Windows 应用商店应用的 Bing Maps SDK](http://visualstudiogallery.msdn.microsoft.com/bb764f67-6b2c-4e14-b2d3-17477ae1eaca)。

有关如何在[C++](http://msdn.microsoft.com/en-us/library/vstudio/jj127117.aspx)和[C# 或 Visual Basic](http://msdn.microsoft.com/en-us/library/vstudio/jj127119.aspx)中创建此类 SDK 的演练可用。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-15T00:29:34.787

Winmd 文件应该与平台无关，文件中几乎没有处理器信息（特别是如果它们是从 MIDL 或 C++/CX 生成的）。

# objective-c - 如何实现标签文字动态变化？

> ID：13873253
> 
> 赞同：1
> 
> 时间：2012-12-14T05:33:27.650
> 
> 标签：objective-c, uilabel

如何实现标签文字动态变化？例如，

```
labe.text = @"1"; 
```

第二个是：

```
 label.text = @"2"; 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-14T06:00:55.547

您可以通过扩展 UILabel 类来做到这一点。

MyLabel.h

```
#import <UIKit/UIKit.h>
@protocol MyLabelDelegate;
@interface MYLabel : UILabel

@property(nonatomic, unsafe_unretained) id<MyLabelDelegate> delegate;
@end

@protocol MyLabelDelegate <NSObject>

-(void) label:(UILabel *) label didChangeText:(NSString *) string;

@end 
```

我的标签.m

```
@implementation MYLabel
@synthesize delegate = _delegate;
- (id)initWithFrame:(CGRect)frame
{
    self = [super initWithFrame:frame];
    if (self) {
        // Initialization code
    }
    return self;
}

/*
// Only override drawRect: if you perform custom drawing.
// An empty implementation adversely affects performance during animation.
- (void)drawRect:(CGRect)rect
{
    // Drawing code
}
*/

- (void)setText:(NSString *)text{
    [super setText:text];
    if([self.delegate respondsToSelector:@selector(label:didChangeText:)]){
        [_delegate label:self didChangeText:text];
    }
}
@end 
```

如果想在那里检测更改，您可以在视图控制器中实现 MyLabel 委托

# javascript - 如何获取特定格式的json键值对

> ID：13873265
> 
> 赞同：0
> 
> 时间：2012-12-14T05:34:35.367
> 
> 标签：javascript, json

我有如下 json 数组：

```
var region= [{"af":"Africa"},{"as":"Asia"},{"au":"Australia"}] 
```

我正在使用一些框架，因为我得到了上述数组的值：

```
{for r in regions}
     <option value="${r}" >${r}</option>
{/for} 
```

我尝试了javascript，但没有成功。我想要上述格式的输出

请帮我解决这个问题。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-14T05:40:33.813

```
var region= [{"af":"Africa"},{"as":"Asia"},{"au":"Australia"}],
    len = region.length,
    i, key;

for (i = 0; i < len; ++i) {
    key = Object.keys(region[i])[0];
    console.log(key, region[i][key]);
}​ 
```

`Object.keys`在此代码中返回对象的所有键的数组。只要每个对象有 1 个且只有 1 个键 - 您只需使用检索第一个键`[0]`

[http://jsfiddle.net/zerkms/hYFHy/](http://jsfiddle.net/zerkms/hYFHy/)

# android - 从收件箱中搜索邮件不成功

> ID：13873267
> 
> 赞同：1
> 
> 时间：2012-12-14T05:34:49.453
> 
> 标签：android, sms, inbox

我想根据特定数字从收件箱中获取有关消息的信息。我正在使用以下代码来实现目标，但它没有按预期方式工作：

```
public void SendTheSmsToTheFolder(String NameOfContact,String Number,String FolderAddress,long TimeLimit)
    {
        m_NameOfContact = NameOfContact;
        String SMS_URI_INBOX = "content://sms/inbox"; 
        Uri l_uri = Uri.parse(SMS_URI_INBOX); 

        Cursor l_SendTheSmsToTheFolderCursor = getContentResolver().query(l_uri, null, "address=?",new         String[]{Number.trim()},null);
        if (l_SendTheSmsToTheFolderCursor.moveToFirst())
        {  
            int l_index_Address = l_SendTheSmsToTheFolderCursor.getColumnIndex("address");  
            int l_index_Person = l_SendTheSmsToTheFolderCursor.getColumnIndex("person");  
            int l_index_Body = l_SendTheSmsToTheFolderCursor.getColumnIndex("body");  
            int l_index_Date = l_SendTheSmsToTheFolderCursor.getColumnIndex("date");  
            do 
            {  
                String l_strAddress = l_SendTheSmsToTheFolderCursor.getString(l_index_Address);  
                String l_strbody = l_SendTheSmsToTheFolderCursor.getString(l_index_Body);  
                long l_longDate = l_SendTheSmsToTheFolderCursor.getLong(l_index_Date);  

                Log.v("Message: ","Body of the message is "+l_strbody);
            } while (l_SendTheSmsToTheFolderCursor.moveToNext());  
        }
} 
```

我很确定该框中存在具有该特定电话号码的消息，并且我已经交叉检查了这个事实。但是在这里，我的光标计数始终显示为 0。我不知道是什么问题。我已经搜索过很多，但我无法弄清楚。请帮助我。在此先感谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-14T06:12:48.710

如果您想搜索来自特定号码的消息，您可以尝试使用此代码。

```
 Uri uri = Uri.parse("content://sms/inbox");
    ContentResolver contentResolver = context.getContentResolver();
    String where = "address="+ phNum; //here you can use that particular number
    Cursor cursor = contentResolver.query(uri, new String[] { "_id", "thread_id"}, where, null,null); 
```

它对我有用。让我知道它是否解决了您的问题。

# c# - 通知 Toast 未选择保存到“LocalFolder”的图像？

> ID：13873268
> 
> 赞同：2
> 
> 时间：2012-12-14T05:35:03.743
> 
> 标签：c#, windows, windows-8

我已将图像保存（写入）到通知 Toast 未拾取的“LocalFolder”。

```
StorageFolder systemLocalFolder = Windows.Storage.ApplicationData.Current.LocalFolder;
string path = systemLocalFolder.Path + "\\" + R.GetResourceString("CachedImageFolder") +
                                "\\" + R.GetResourceString("CachedImagePrefix") + contact + ".png";
path = path.Replace(@"\", @"/");
path = @"file:///" + path;
image.SetAttribute("src", path);
binding.AppendChild(image); 
```

设置此图像后，吐司不显示。

但是这样做：

```
image.SetAttribute("@Assets/Logo.png", path); 
```

确实显示了带有图像的吐司。

但我想写一个文件然后使用它而不是从 App Package 中选择。

Win8+XAML+C#

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-14T06:04:35.993

[Windows 8 应用商店应用程序不支持 file:/// 协议，](http://msdn.microsoft.com/en-us/library/windows/apps/br230844.aspx)但无论如何您都不需要它。像这样的东西应该能让你到达那里：

```
path = @"ms-appdata:///local/" + R.GetResourceString("CachedImageFolder") + "/" 
            + R.GetResourceString("CachedImagePrefix") + contact + ".png"; 
```

# jquery - 如何在jquery中更改按钮悬停时的背景图像？

> ID：13873274
> 
> 赞同：0
> 
> 时间：2012-12-14T05:35:44.237
> 
> 标签：jquery

我想在 mousehover 事件上更改按钮的背景图像。
我正在使用以下代码：

```
 $("#btnCBI").hover(function () {
     $(this).css({ "background-image": "/Tulips.jpg" });
 }); 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-12-14T05:38:05.523

我认为您需要`url('path')`与css一起使用。您需要 handler in 和 handler out 来查看[**hover()的效果**](http://api.jquery.com/hover/)

```
$("#btnCBI").hover(function () {
      $(this).css({ "background-image": "url('/Tulips.jpg')" });
   },
   function () {
      $(this).css({ "background-image": "url('/otherImage.jpg')" });
   }
); 
```

如果您不想在鼠标离开按钮时将其更改回来，则可以使用[**mouseenter() 。**](http://api.jquery.com/mouseenter/)

```
$("#btnCBI").mouseenter(function () {
   $(this).css({ "background-image": "url('/Tulips.jpg')" });
}); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-12-14T05:40:36.927

最简单的方法是使用 css。

```
<button id="css">CSS</button> 
```

CSS

```
​#btnCBI:hover{
    background-image: url(/Tulips.jpg);
}​ 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-14T05:40:01.817

一个简单的方法

定义两个类

```
<style>
    .in{
    //your hover image
    }

    .out{
    //your normal image

    }
    </style>
$("#btnCBI").mouseover(function () {
$(this).removeClass('out').addClass('in')
});

$("#btnCBI").mouseout(function () {
$(this).removeClass('in').addClass('out')
}); 
```

# android - 通知通过寻呼机刷入视图的片段活动

> ID：13873280
> 
> 赞同：0
> 
> 时间：2012-12-14T05:36:33.567
> 
> 标签：android, android-asynctask, android-fragments, android-viewpager

我在我的 Android 应用程序中实现某项功能时遇到问题。

这是设置：

*   `ItemPagerActivity`：包含显示寻呼机的片段的活动。
*   `ItemPagerFragment`：包含加载其他片段的寻呼机的片段。游标用于加载片段。
*   `ItemFragment`：分页器中的片段，它执行异步任务来加载其数据。

我想要的是以下内容：

*   当我滑动页面时，将当前显示的数据`ItemFragment`传递给`ItemPagerActivity`（具体来说，项目的名称将用作活动的标题）。

我已经定义了一个监听器，`ItemFragment`它会在加载数据时发出通知：

```
public class ItemFragment ... {

    public interface OnItemLoadedListener {
        public void onItemLoaded(Item item);
    }

    private Collection<OnItemLoadListener> listeners;

    private class LoadItemTask extends AsyncTask<...> {
        ...
        public void onPostExecute(Item item) {
            notifyItemLoaded(item);
            ...
        }
    }
} 
```

如果这个片段被一个 包裹起来`Activity`，那么我可以简单地通过执行以下操作来设置活动的标题：

```
public class ItemActivity {

    public void onCreate(...) {
        ...
        ItemFragment fragment = new ItemFragment();
        fragment.registerItemLoadedListener(new ItemLoadedListener() {
            public void onItemLoaded(Item item) {
                setTitle("Item: " + item.getName());
            }
        });
        ...
    }
} 
```

所以这很容易，并且按预期工作：当活动开始时，它会创建片段，该片段会加载项目，通知活动，并且标题会正确更新。

但是使用`ItemPagerFragment`，片段会被抢先加载：滑动到片段 3 可能意味着片段 4 和片段 5 已创建。加载项目时从类接收通知在`ItemFragment`这里是不正确的，因为显示的片段可能与执行最后加载的片段不匹配。

现在`ViewPager`该类有一个`OnPageChangeListener`可能是解决方案的方法：当我滑动时，会使用当前页码调用此侦听器。从该页码中，我需要（以某种方式）从适配器获取表示该页面的片段，从片段中获取`Item`数据，并通知侦听`Item`器现在已加载：

```
public class ItemPagerFragment ... {

    private Collection<OnItemLoadedListener> listeners;

    public View onCreateView(...) {
        ...
        ViewPager pager = (ViewPager) view.findViewById(R.id.pager):
        pager.setOnPageChangeListener(new OnPageChangeListener() {
            public void onPageChange(int pageNumber) {
                ItemFragment fragment = getItemFragment(pageNumber);
                Item item = fragment.getLoadedItem();
                notifyItemLoaded(item);
            }
         });
         ...
    }

} 
```

然后`ItemPagerActivity`该类将注册为`ItemPagerFragment`该类的侦听器，如下所示：

```
class ItemPagerActivity ... {

    public void onCreate(...) {
        ...
        ItemPagerFragment fragment = new ItemPagerFragment();
        fragment.registerOnItemLoadedListener(new OnItemLoadedListener() {
            public void onItemLoaded(Item item) {
                setTitle("Item: " + item.getName());
            }
        });
        ...
    }
} 
```

这看起来不错，但有很多问题：

*   `OnPageChangeListener`可以在片段加载其数据之前调用 （即，在项目异步加载之前将片段滑动到视图中）。所以调用`fragment.getLoadedItem()`可能会返回`null`。

*   不会为初始`OnPageChangeListener`页面调用 （仅当页面更改时，例如在滑动操作之后），因此初始页面的活动标题将不正确。

*   该类`ViewPager`只允许一个`OnPageChangeListener`. 这是一个问题，因为我也在使用`ViewPageIndicator`库，它想为`ViewPager`.

我假设这种模式（通知已刷入视图的片段中的数据活动）可能很常见，所以我想知道这种模式是否有任何好的解决方案，以及我遇到的三个具体问题上面已经确定了。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-14T15:06:51.267

> ...所以我想知道这种模式是否有任何好的解决方案，以及我上面确定的三个具体问题。

我不知道我是否会称它为模式，但这`OnPageChangeListener`是要走的路。

> OnPageChangeListener 可以在片段加载其数据之前被调用（即，片段在异步加载项之前被滑动到视图中）。所以对 fragment.getLoadedItem() 的调用可能会返回 null。

首先，您的代码应该从一开始就处理“没有可用数据的情况”。您`AsyncTasks`将负责加载数据并仅在他们正在处理的片段是可见片段**时才**更新标题（针对'方法`ItemFragment`进行测试的位置字段）。将在加载数据**后**处理标题的更新，因为用户在页面之间切换并且数据可用（如果没有数据可用，它将返回 null）。要获得某个职位，您可以使用以下代码：`ViewPager``getCurrentItem()``OnPageChangeListener`**`ItemFragment`**

 **```
 ItemFragment itf = getSupportFragmentManager()
            .findFragmentByTag(
                    "android:switcher:" + R.id.theIdOfTheViewPager + ":"
                            + position);
    if (itf != null) {
        Item item = fragment.getLoadedItem();
            notifyItemLoaded(item);
    } 
```

> OnPageChangeListener 不会为初始页面调用（仅当页面更改时，例如在滑动操作之后），因此初始页面的活动标题将不正确。

往上看。

> ViewPager 类只允许一个 OnPageChangeListener。这是一个问题，因为我也在使用 ViewPageIndicator 库，它想为 ViewPager 分配一个侦听器

我承认我对`ViewPagerIndicator`图书馆知之甚少，但快速浏览它的网站，我看到：

> （可选）如果您将 OnPageChangeListener 与视图寻呼机一起使用，您应该在指示器中而不是直接在寻呼机上设置它。
> 
> `titleIndicator.setOnPageChangeListener(mPageChangeListener);`

我看不出限制在哪里。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-07-07T22:51:24.063

出于我的目的，当片段可见时，它可以`ViewPager.OnPageChangeListener.onPageSelected()`与 结合使用`Fragment.onActivityCreated()`来执行操作。`Fragment.getUserVisibleHint()`也有帮助。**

# css - 滚动菜单在 IE 中正确显示，但在 Firefox 或 Safari 中不正确

> ID：13873282
> 
> 赞同：3
> 
> 时间：2012-12-14T05:36:40.733
> 
> 标签：css, internet-explorer, firefox, safari

我创建了一个带有自定义按钮的翻转菜单，可以在 IE 中正确显示，但不能在 Firefox 或 Safari 中正确显示。在 IE 中，菜单在站点顶部无缝显示。在 FF 和 Safari 中，它显示为几行单独的小框。我正在使用 HTML 文件从 CSS 文件中调用样式。这两个文件都将通过 W3C 进行验证。关于如何让它在所有浏览器中正确显示的任何想法？除了没有边框的表格之外，还有更好的方法来显示此菜单吗？下面的 HTML 和 CSS。图片：[它应该看起来像](http://i.stack.imgur.com/yz0F9.png) HTML 代码：

```
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
   <head>
      <title>PJD</title>
      <link href="menu1.css" rel="stylesheet" type="text/css">
   </head>
   <body style="background-image:url(/images/GradientBackground.png)">
      <table border='0' cellspacing='0'>
         <tr>
            <th class="PJD_Logo"></th>
            <th class="rollover_New_Client"><a href="PersonalInfo.php" style="display:block;">&nbsp;</a></th>
            <th class="rollover_View_Client"><a href="DisplayInfo.php" style="display:block;">&nbsp;</a></th>
            <th class="rollover_Search_Client"><a href="Search.php" style="display:block;">&nbsp;</a></th>
            <th class="menu_end"></th>
        </tr>
      </table>
    ....
  </body>
</html> 
```

CSS 代码：

```
body {
   color: #e4e4e4;
}

th.PJD_Logo {
   border: 0px;
   display: inline;
   width: 125px;
   height: 48px;
   background-image: url("/images/PJD_Logo.png");
   color: transparent;
}

th.rollover_New_Client {
border: 0px;
display: inline;
width: 125px;
height: 48px;
background-image: url("/images/btn_New_Client.png");
color: transparent;
}

th.rollover_New_Client:hover {
    background-image: url("/images/btn_New_Client_over.png");
}

th.rollover_View_Client {
    border: 0px;
    display: inline;
    width: 125px;
    height: 48px;
    background-image: url("/images/btn_View_Client.png");
}

th.rollover_View_Client:hover {
    background-image: url("/images/btn_View_Client_over.png");
}

th.rollover_Search_Client {
    border: 0px;
    display: inline;
    width: 125px;
    height: 48px;
    background-image: url("/images/btn_Search_Client.png");
}

th.rollover_Search_Client:hover {
    background-image: url("/images/btn_Search_Client_over.png");
}

th.menu_end {
    border: 0px;
    display: inline;
    width: 500px;
    height: 48px;
    background-image: url("/images/menu_end.png");
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-14T08:42:47.060

我强烈建议您停止使用表格，而使用`DIV`or`SPAN`标记或 a `UL`and`LI`结构。

你的问题是`display: inline;`线路。内联元素没有大小，因此它们会忽略您的`width`和`height`要求。如果您使用表格，只需删除该行。如果您使用其他之一，请考虑`display: inline-block;`改用？

# ms-word - 限制 MS Word 内容控制功能

> ID：13873285
> 
> 赞同：0
> 
> 时间：2012-12-14T05:37:04.277
> 
> 标签：ms-word, ms-office, office-2007, word-contentcontrol

我有一个 MS Word 文档，该文档有多个内容控件。当用户将整个数据从一个内容控件复制到另一个时，有时它会将内容控件本身与数据一起复制，而当用户粘贴数据时，它会创建嵌套的内容控件。

问题：不知何故，我需要限制 Word 文档，以便用户只能修改数据并且无法创建额外的内容控件。我怎样才能做到这一点。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-14T20:05:02.613

我认为 Word 中没有设置可以控制这一点。没有内容控制属性可以。

所以我认为您正在查看 VSTO Word 加载项，或者可能是 VBA 宏。

使用 VSTO，看看[内容控制事件模型](http://blogs.msdn.com/b/eric_carter/archive/2009/03/24/content-control-event-model-in-word-2007.aspx)。也许 Document.ContentControlAfterAdd 在粘贴时触发？谷歌搜索..显然确实如此，但有[问题](http://go4answers.webhost4life.com/Example/apparent-bug-word-2010vsto-72914.aspx)

> 当内容控件位于表格单元格中并且用户选择插入一列时：为表格中的所有内容控件触发 BeforeDelete，但在列插入完成时不引发 AfterAdd。

还要检查其他与内容控制相关的事件 - 首先查看当用户执行您所关心的事情时哪个触发，当然还有他们触发的其他情况（您的代码将不得不忽略这些情况）。

否则，您可以尝试一种更通用的方法来捕获粘贴。有：

*   [这个线程](http://social.msdn.microsoft.com/Forums/sa/vsto/thread/09fb748d-3858-4c56-948f-750f2f914f92)
*   和[键盘挂钩方法](https://stackoverflow.com/questions/5038665/paste-special-in-c-sharp-vsto-excel)

# ruby-on-rails - Rails + Backbone 模型即使在 fetch 成功中也未定义

> ID：13873288
> 
> 赞同：1
> 
> 时间：2012-12-14T05:37:37.163
> 
> 标签：ruby-on-rails, backbone.js, coffeescript

我只是试图`.get`在 Rails、Backbone、Coffeescript 应用程序的 html 元素中显示一个属性，但结果始终`undefined`在控制台中。此代码的错误是：

> 未捕获的类型错误：无法读取未定义的属性“长度”

目标是让一个仪表板显示各种面板。在过去的 4 小时内，我尝试了大约 50 种以下代码的变体：\ 你能帮忙吗？

**骨干路由器：**

```
class App.Routers.Dashboard extends Backbone.Router

routes:
    '': 'index'

initialize: ->
    preflist = new App.Models.Preflist()
    preflist.fetch success: ->
        paneloneview = new App.Views.PanelOne(model: preflist)
        $('#panel-one').html(paneloneview.render().el) 
```

**骨干视图：**

```
class App.Views.PanelOne extends Backbone.View

    template: JST['dashboard/panel_one']

    render: ->
        $(@el).html(@template(@model))
        this 
```

**模板文件：**

```
<h1>Panel One</h1>

<p><%= @model.length %></p> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-14T06:23:51.807

您可能希望将渲染函数传递给一个对象（尽管这只是一个有根据的猜测）。

也许：

```
render: ->
  $(@el).html(@template({model: @model}))
  this

// and in an eco template

<h1>Panel 1</h1>
<p><%= @model.length %></p> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-14T16:19:07.080

我想到了。我只需要在上面睡觉，然后再看一次 Backbone RailsCast。谢谢大家的帮助！正确的代码是这样的：

```
class App.Routers.Dashboard extends Backbone.Router

routes:
    '': 'index'

initialize: ->
    preflist = new App.Models.Preflist()
    preflist.fetch success: ->
        paneloneview = new App.Views.PanelOne(model: preflist)
        $('#panel-one').html(paneloneview.render().el)

class App.Views.PanelOne extends Backbone.View

    template: JST['dashboard/panel_one']

    render: ->
        $(@el).html(@template(preflist: @model))
        this

<h3>Panel One</h3>

<p><%= @preflist.get('panel_one') %></p> 
```

# javascript - 当下拉菜单的绝对位置时如何使下拉菜单居中

> ID：13873289
> 
> 赞同：0
> 
> 时间：2012-12-14T05:37:41.020
> 
> 标签：javascript, html, css

我的下拉菜单具有绝对位置，我想将下拉菜单居中到其各自的 li。我不想静态设置边距，因为它也会影响其他菜单。HTML

```
<div class="top_nav">
    <!--naviagation top Begins-->
        <ul>
            <li id="active">                
                <a href="#" id="active"><img src="images/home.png" />home</a>
                <!-- <div class="DDmenu" id="hmedd" style="display:none">
                    <ul>
                        <li><a href="#">Dummy1</a></li>
                        <li><a href="#">Dummy2</a></li>
                        <li><a href="#">Dummy3</a></li>
                    </ul>
                </div>-->
                <div class="clear"></div>
                <div class="current_menu"></div>
            </li>
            <li id="abt" onmouseover="showmenu('abtdd');" onmouseout="hidemenu('abtdd');" >
                <a href="#">about us</a>
                <div class="DDmenu" id="abtdd" style="display:none">
                    <ul>
                        <li><a href="#">Dummy1</a></li>
                        <li><a href="#">Dummy2</a></li>
                        <li><a href="#">Dummy3</a></li>
                    </ul>
                </div>
            </li>
            <li id="invent" onmouseover="showmenu('inventdd');" onmouseout="hidemenu('inventdd');">
                <a href="#">inventions</a>
                 <div class="DDmenu" id="inventdd" style="display:none">
                    <ul>
                        <li><a href="#">Dummy Invent1</a></li>
                        <li><a href="#">Dummy Invent2</a></li>
                        <li><a href="#">Dummy Invent3</a></li>
                    </ul>
                </div>
            </li>
            <li id="archi" onmouseover="showmenu('archidd');" onmouseout="hidemenu('archidd');">
                <a href="#">architectural</a>
                 <div class="DDmenu" id="archidd" style="display:none">
                    <ul>
                        <li><a href="#">Dummy Architecture1</a></li>
                        <li><a href="#">Dummy Architecture2</a></li>
                        <li><a href="#">Dummy Architecture3</a></li>
                    </ul>
                </div>
            </li>
            <li id="artli" onmouseover="showmenu('artlidd');" onmouseout="hidemenu('artlidd');">
                <a href="#">art pieces</a>
                 <div class="DDmenu" id="artlidd" style="display:none">
                    <ul>
                        <li><a href="#">Dummy art1</a></li>
                        <li><a href="#">Dummy art2</a></li>
                        <li><a href="#">Dummy art3</a></li>
                    </ul>
                </div>
            </li>
            <li id="caravanli" onmouseover="showmenu('caravanlidd');" onmouseout="hidemenu('caravanlidd');">
                <a href="#">caravan</a>
                <div class="DDmenu" id="caravanlidd" style="display:none">
                    <ul>
                        <li><a href="#">Dummy caravan1</a></li>
                        <li><a href="#">Dummy caravan2</a></li>
                        <li><a href="#">Dummy caravan3</a></li>
                    </ul>
                </div>
            </li>
            <li id="tab">
                <a href="#">tables</a>
            </li>
        </ul>
    <!--naviagation top Ends-->
    </div> 
```

CSS：

```
 .top_nav
{
    width:100%;
    height:30px;
    /*margin-left:130px;*/
}
.top_nav ul
{
    padding:0;
    margin:0 0 0 68px;
}
.top_nav ul li#active
{
    float:left;
    position:relative;
    padding:5px 0 0 0;
    background: #c2cca2;
    margin:0 8px;
    color:#000;
    list-style:none;
}
.top_nav ul li
{
    float:left;
    position:relative;
    padding:12px 0 7px 35px; /*added padding top+5 to add space between bg and text*/
    margin:0 8px;
    list-style:none;
}
.top_nav ul li a
{
    text-decoration:none;
    text-transform:capitalize;
    color:#fff;
    font-size:14px;
    font-weight:bold;
    padding-right:6px;
    vertical-align:baseline;
}
.top_nav ul li:hover a{color:#000;}
.top_nav ul li ul li a{color:#FFF!important;}
.top_nav ul li ul li:hover a{color:#000!important;}

.top_nav ul li a#active
{
    text-decoration:none;
    text-transform:capitalize;
    color:#000;
    font-size:14px;
    font-weight:bold;
    padding-right:6px;
    vertical-align:baseline;
}
/*.top_nav ul li:hover
{
    /*background:#c2cca2;
    background:url(../images/menu_bg.png) left top repeat-y;
}*/
.top_nav ul li#abt
{
    background:#c2cca2;    
}
.top_nav ul li#invent
{
    background:#c2cca2;
    height:19px;    
}
.top_nav ul li#archi
{
    background:#c2cca2;    
    height:19px;
}
.top_nav ul li#artli
{
    background:url(../images/art.png) 5px 5px no-repeat;    
    height:19px;
}

.top_nav ul li#caravanli
{
    background:#c2cca2;    
    height:19px;
}
.top_nav ul li#tab
{
    background:#c2cca2;    
    height:19px;
}

.top_nav ul li#abt:hover
{

    background:#c2cca2;
    color:#000 !important;
    height:19px;
}
.top_nav ul li#abt:hover>a:hover{color:inherit;}

.top_nav ul li:hover
{
    color:#000;

}
.top_nav ul li#invent:hover
{

    background:#c2cca2;
    color:#000;
}
.top_nav ul li#archi:hover
{

    background:#c2cca2;
    color:#000;
}
.top_nav ul li#artli:hover
{

    background:#c2cca2;
    color:#000;
}
.top_nav ul li#caravanli:hover
{

    background:#c2cca2;
    color:#000;
}
.top_nav ul li#tab:hover
{
    /*background:#c2cca2;*/
    background:#c2cca2;
    color:#000;
}

/*.top_nav ul li a:hover
{
    background:#c2cca2;

    padding:16px 6px 2px 0;
    padding:16px 6px 0 0\0/;
}*/
.top_nav ul li img
{
    /*float:left;
    position:relative;*/
    padding:0 4px 0 5px;
} 
```

JS

```
function showmenu(idm)
{
    document.getElementById(idm).style.display='';

}
function hidemenu(idmn)
{
    document.getElementById(idmn).style.display='none';    
} 
```

任何建议将不胜感激。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-14T06:55:09.267

嗨我有一个建议给你为什么不使用没有javascript的导航代码试试这个让我知道如果你有任何问题或者你只想使用javascript导航去这个下面的链接

[http://jsfiddle.net/sarfarazdesigner/pNAkf/](http://jsfiddle.net/sarfarazdesigner/pNAkf/)

或者您可以复制此代码

CSS代码：

```
*{margin:0; padding:0}
body{font-family:Arial, Helvetica, sans-serif; font-size:14px; background:#f7f7f7;}
#wrapper{width:980px; margin:50px auto;}
#nav{list-style:none; background:#333; height:30px; line-height:30px;}
ul#nav > li{ 
    float:left; 
    border-right:1px solid #ccc;
    position:relative;
}
ul#nav li a{
    padding:0 15px;
    display:block;
    text-decoration:none;
    color:#fff;
}
#nav li a:hover{
    background:#ccc;
}
ul.subnavi{
    list-style:none;
    position: absolute;
    left: 0;
    background: #fff;
    display:none;
}
ul.subnavi li{
    display:block;
    width:120px;
    float:none;
}
ul#nav li ul.subnavi li a{
    color:#333;
}
ul#nav li ul.subnavi li a:hover {
    background:#333;
    color:#fff;
}
#nav li:hover ul{
    display:block;
} 
```

html代码是：

```
<div id="wrapper">
<ul id="nav">
    <li><a href="javascript:;">Home</a></li>
    <li><a href="javascript:;">Services</a>
        <ul class="subnavi">
            <li><a href="javascript:;">Link 1</a></li>
            <li><a href="javascript:;">Link 2</a></li>
            <li><a href="javascript:;">Link 3</a></li>
        </ul>    
    </li>
    <li><a href="javascript:;">Products</a></li>
    <li><a href="javascript:;">FaQs</a></li>
    <li><a href="javascript:;">Contact</a>
        <ul class="subnavi">
            <li><a href="javascript:;">Link 1</a></li>
            <li><a href="javascript:;">Link 2</a></li>
            <li><a href="javascript:;">Link 3</a></li>
        </ul> 
    </li>
    <li><a href="javascript:;">Blog</a></li>
</ul>
</div> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-14T06:57:56.750

.top_nav ul 的 css 会影响 topnav 类中的所有 ul

尝试将此添加到您的CSS

`.DDmenu { background: none repeat scroll 0 0 #DDDDDD; // just to show your result display: none; margin-left: -24px; position: absolute; }`

# c# - EventSchemaTraceListener 的某些属性无法识别 app.config

> ID：13873295
> 
> 赞同：4
> 
> 时间：2012-12-14T05:38:10.767
> 
> 标签：c#, .net, .net-3.5

在 app.config (.Net 3.5) 中无法识别以下用于日志轮换的 EventSchemaTraceListener 属性：

```
bufferSize="65536"
maximumFileSize="1024"
logRetentionOption="LimitedCircularFiles"
maximumNumberOfFiles="2" 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-24T03:30:08.423

在您的问题中，您说在`app.config`;中无法识别这些属性。确保您还`[ApplicationName].exe.config`使用可执行文件更新位于输出文件夹中的文件（或删除它，以便在运行应用程序时从头开始重新创建它）。

请参阅[此答案](https://stackoverflow.com/a/2174232/180043)，了解为什么您不能只更新`app.config`以查看新设置。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-26T05:46:01.587

您的意思是属性被标记为错误（这可能只是 IDE 问题）还是设置不起作用？

这里有一个例子：http: [//msdn.microsoft.com/en-us/library/system.diagnostics.eventschematracelistener.aspx](http://msdn.microsoft.com/en-us/library/system.diagnostics.eventschematracelistener.aspx)

但请注意，一些评论表明他们在使其正常工作方面也存在问题。

# jquery - 如何在 flexigrid 输入框中制作 rpoption 而不是下拉菜单？

> ID：13873296
> 
> 赞同：0
> 
> 时间：2012-12-14T05:38:22.637
> 
> 标签：jquery, flexigrid

```
 $("#flex1").flexigrid(
    {
        url: 'http://xyz.com', 
        dataType: 'json',

        buttons : [
            {name:'Delete', 
            bclass: 'delete', 
            onpress: deleteitem},
            {name:'Add New Manufacturer', 
            bclass: 'add', 
            onpress: additem}
        ],
        searchitems : [
            {display: 'Manufacturer', 
             name : 'manufacturer_name', 
             isdefault:true},
            ],
        sortname: "mid",
        sortorder: "asc",
        usepager: true,
        title: '<?=$this->pageHeading?>',
        useRp: true,
        rpOptions: ['20','30','40','10'],
        rp: $("#rp").val(),
        showTableToggleBtn: true,
        singleSelect : true,
        height: 265,
        width: 1000,
        autowidth:false
    }
    ); 
```

在 Flexigrid 中，rp 选项通常是我们在上面定义的下拉菜单。我们如何将其更改为输入框？

# codeigniter - Codeigniter - 会话变量神秘消失

> ID：13873299
> 
> 赞同：4
> 
> 时间：2012-12-14T05:38:32.150
> 
> 标签：codeigniter, session, codeigniter-2

我正在使用 Codeigniter 2.1.0 和 CI_session 进行会话处理。

我假设这

1.  页面 A 使用 $this->session->set_userdata() 在会话中设置一些变量。
2.  页面 A 重定向到页面 B
3.  页面 B 应保留页面 A 中设置的会话变量。

然而，这就是发生在我身上的事情

1.  页面 A 使用 $this->session->set_userdata() 在会话中设置一些变量。
2.  页面 A 重定向到页面 B
3.  页面 B 不保留页面 A 中设置的会话变量。

我在页面 A 中有代码，用于在重定向到页面 B 之前将 $this->session->userdata 的内容保存并记录在日志中。日志显示会话中设置的值存在。

但是，在页面 B 上的 $this->session->userdata 上使用 var_dump() 表明这些值不存在。

我真的不知道这怎么可能。我已经仔细检查了我没有取消设置页面 B 中的值。就像 CI_Session 以某种方式在幕后取消了它们。

有任何想法吗？

编辑：是的，我正在使用数据库来保存会话数据。字段类型为 TEXT。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-01T10:19:03.937

根据我对网络的了解，cookie 和会话存储在客户端计算机中，而不是服务器中。因此 HTTP 基本上将 cookie 和会话添加到您的请求标头并发送请求。

但在这种情况下，您正在设置会话，然后从服务器中的同一页面重定向。普通 PHP 可能会以不同方式处理此问题，但 codeIgniter 不使用原生 PHP 会话。（参考[http://ellislab.com/codeigniter/user-guide/libraries/sessions.html](http://ellislab.com/codeigniter/user-guide/libraries/sessions.html)）

这是我的猜测。但是如果我看看你的代码会很有帮助。

# sql - 用于将行分组为列并获取相应名称的 SQL Server 查询

> ID：13873300
> 
> 赞同：1
> 
> 时间：2012-12-14T05:38:32.230
> 
> 标签：sql, sql-server, tsql, sql-server-2008-r2, pivot

我在 SQL Server 中有 2 个表：

表一：**部门**

```
DeptId   Dept Name
------------------
1        Software Development
2        Testing
3        Customization 
```

表 2：**名称**

```
DesigId  Desig Name  DeptId
---------------------------
 1        TL          1
 2        PL          1
 3        TestEngg    2
 4        SE          3 
```

我想要以下输出，它将部门作为列标题和相应部门列下的组指定，

```
 Software Development     Testing     Customization
        TL                 TestEngg        SE
        PL 
```

我尝试使用以下查询，但我只能获得 ID

```
 DECLARE @deptcols AS VARCHAR(MAX);
 DECLARE @querystr  AS VARCHAR(MAX);

select @deptcols = STUFF((SELECT distinct ',' + QUOTENAME(Dept_Id) 
              FROM Designation 
        FOR XML PATH(''), TYPE
        ).value('.', 'NVARCHAR(MAX)') 
    ,1,1,'')

 set @querystr = 'SELECT ' + @deptcols + ' from 
         (
             select Desig_Name, Dept_Id,Desig_Id
             from Designation
        ) p
        pivot 
        (
           count(Desig_Id) FOR Dept_Id in (' + @deptcols + ')
        ) pv '
 execute(@querystr) 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-14T07:41:07.340

我认为 PIVOT 关键字是你应该在这里使用的。PIVOT 可用于转换数据集，使列变为行。

无需构造动态查询

看看这篇文章： http: [//archive.msdn.microsoft.com/SQLExamples/Wiki/View.aspx?title =PIVOTData](http://archive.msdn.microsoft.com/SQLExamples/Wiki/View.aspx?title=PIVOTData)

更多信息： http: [//msdn.microsoft.com/en-us/library/ms177410 (v=sql.105).aspx](http://msdn.microsoft.com/en-us/library/ms177410(v=sql.105).aspx)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-14T10:17:05.763

你的代码非常接近。在使用特别是动态版本时，我的建议`PIVOT`是先编写静态版本，然后将其转换为动态 sql。

对值进行硬编码的静态版本如下所示：

```
SELECT [Software Development], [Testing], [Customization]
from 
(
   select d.[Dept Name], 
      s.[Desig Name],
      row_number() over(partition by s.deptid order by s.desigid) rn
   from Designation s
   left join department d
      on s.[DeptId] = d.[DeptId]
) p
pivot 
(
  max([Desig Name]) 
  FOR [Dept Name] in ([Software Development], [Testing], [Customization])
) pv 
```

请参阅[SQL Fiddle with Demo](http://sqlfiddle.com/#!3/503ae/2)。静态版本允许您确保语法正确，并且所有值、列等都在正确的位置。

然后，一旦您有了语法，就很容易转换为动态 SQL 版本：

```
DECLARE @deptcols AS VARCHAR(MAX)
DECLARE @querystr  AS VARCHAR(MAX)

select @deptcols = STUFF((SELECT  ',' + QUOTENAME([Dept Name]) 
              FROM Department 
              GROUP BY [Dept Name], DeptId
              ORDER BY DeptId
        FOR XML PATH(''), TYPE
        ).value('.', 'NVARCHAR(MAX)') 
    ,1,1,'')

set @querystr = 
      'SELECT ' + @deptcols + ' from 
         (
            select d.[Dept Name], 
                s.[Desig Name],
              row_number() over(partition by s.deptid order by s.desigid) rn
            from Designation s
            left join department d
               on s.[DeptId] = d.[DeptId]
        ) p
        pivot 
        (
           max([Desig Name]) 
           FOR [Dept Name] in (' + @deptcols + ')
        ) pv '

execute(@querystr) 
```

请参阅[带有演示的 SQL Fiddle](http://sqlfiddle.com/#!3/e6bf9/10)

两者都给出结果：

```
| SOFTWARE DEVELOPMENT |  TESTING | CUSTOMIZATION |
---------------------------------------------------
|                   TL | TestEngg |            SE |
|                   PL |   (null) |        (null) | 
```

你会注意到我`row_number() over(partition by s.deptid order by s.desigid) rn`在`SELECT`语句中添加了这一行。这允许您`Desig Name`为每个`Dept Name`返回多个值，否则您将只返回一个值。

# node.js - 使用 Node.js 在 Azure 主机上创建 Web 套接字服务器？

> ID：13873304
> 
> 赞同：1
> 
> 时间：2012-12-14T05:38:53.413
> 
> 标签：node.js, azure, websocket

我有一个我试图在 Azure 上托管的节点应用程序，它创建了一个 websocket 服务器。我正在尝试使用以下代码创建 Web 套接字服务器：

```
var socket = require('websocket').server;
...
server.listen(1111,function(){
   console.log('Http server is listening on port 1111');
}); 
```

当我在本地计算机上执行此操作时，它工作正常，但是一旦它在 Azure 上启动，客户端 javascript 的以下行：

```
var connection = new WebSocket('ws:' + document.domain + ':1111');
connection.send(msg); //throws error 
```

抛出错误：

> InvalidStateError：尝试使用不可用或不再可用的对象

如果我使用 azure，我可以获得所需的功能吗？如果是这样，关于从哪里开始寻找修复的任何建议？

[您可以在此处](http://chatfeeder.azurewebsites.net/)查看损坏的应用程序。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-14T14:57:04.510

它可以在 Azure 上运行，但您需要进行更改。试试这个：

```
server.listen(process.env.port, function () {
  var addr = app.address();
  console.log('Server listening on http://' + addr.address + ':' + addr.port);
}); 
```

下面是使用 Azure 中 Socket.IO 源中的聊天示例的教程：

[http://www.windowsazure.com/en-us/develop/nodejs/tutorials/app-using-socketio/](http://www.windowsazure.com/en-us/develop/nodejs/tutorials/app-using-socketio/)

它假定您在 Windows 上，这不是绝对必要的。要从 Mac 或 Linux 系统在 Azure 上使用 Node.js，只需从 Git 发布：

[http://www.windowsazure.com/en-us/develop/nodejs/common-tasks/publishing-with-git/](http://www.windowsazure.com/en-us/develop/nodejs/common-tasks/publishing-with-git/)

# java - 使用 java 程序从链接下载 xml 文件

> ID：13873308
> 
> 赞同：1
> 
> 时间：2012-12-14T05:39:24.727
> 
> 标签：java, xml, url, download, desktop-application

我正在尝试创建一个启动的 Java 程序，从 http 网址[http://api.eve-central.com/api/marketstat](http://api.eve-central.com/api/marketstat)下载一个 xml 文件并将其保存到一个设置的位置，以便我可以解析它我想要的数据。

我想知道的是如何从java中的这个链接下载这个文档以获得标准计算机应用程序？

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-12-14T06:14:44.337

您是否尝试过 Java 提供的 XML SAX 解析器？

这是一个示例代码：

```
import java.net.URL;
import java.io.InputStream;
import javax.xml.parsers.DocumentBuilder;
import javax.xml.parsers.DocumentBuilderFactory;

DocumentBuilderFactory dbf = DocumentBuilderFactory.newInstance();
DocumentBuilder docBuilder = dbf.newDocumentBuilder();

URL url = new URL("http://www.example.com/book.xml");
InputStream stream = url.openStream();
Document doc = docBuilder.parse(stream); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-14T06:00:05.080

此功能将从 URL 获取完整内容：

```
public String getURLContent(String p_sURL)
{
    URL oURL;
    URLConnection oConnection;
    BufferedReader oReader;
    String sLine;
    StringBuilder sbResponse;
    String sResponse = null;

    try
    {
        oURL = new URL(p_sURL);
        oConnection = oURL.openConnection();
        oReader = new BufferedReader(new InputStreamReader(oConnection.getInputStream()));
        sbResponse = new StringBuilder();

        while((sLine = oReader.readLine()) != null)
        {
            sbResponse.append(sLine);
        }

        sResponse = sbResponse.toString();
    }
    catch(Exception e)
    {
        e.printStackTrace();
    }

    return sResponse;
} 
```

希望这可以帮助！

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-14T05:54:35.493

URL 的响应将包含 xml，您只需将其类型转换为字符串并解析所需的数据

# javascript - getImageData 在 Alpha 通道上无法正常工作

> ID：13873318
> 
> 赞同：2
> 
> 时间：2012-12-14T05:40:13.467
> 
> 标签：javascript, canvas

我不知道为什么，但我的脚本为 alpha 通道返回了错误的值。

这就是我所拥有的：

```
function getPixel(x,y,px,py,i){

//user click: x y 
//picture location: px py 
//array key:  i

//location of click has to be changed to be relevant to this temp canvas
//as image will now be at position 0,0
var x = Math.round(0 - (px - x) );
var y = Math.round(0 - (py - y) );  

//temp canvas 
var c = document.createElement('canvas');   
var context = c.getContext('2d');   
c.width = pArray[i].img.width;
c.height = pArray[i].img.height;

context.drawImage(pArray[i].img,0,0);

var d = context.getImageData(x,y,1,1);
if(d[3] != 0){
    console.log('Not Alpha'); //always happens
} else {
    console.log('Alpha'); // never happens
}

console.log(x + ', ' + y + ', ' + c.width + ', ' + c.height + ', ' + pArray[i].img.src);

} 
```

我的控制台输出显示：

```
8, 42, 128, 128, [Full URL Hidden]/images/1.png 
```

这也是我正在测试它的图像：

![在此处输入图像描述](../Images/46b5011aa50c299349d6ae291b0ff08e.png)

谁能看到任何明显的错误可以解释为什么 alpha 永远不等于 0 ？

JSFiddle 测试位置 x1 和 y1：http: [//jsfiddle.net/darkyen/UCSU2/15/](http://jsfiddle.net/darkyen/UCSU2/15/)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-14T06:39:36.333

context.getImageData() 返回 ImageData（参见[此页](http://www.whatwg.org/specs/web-apps/current-work/multipage/the-canvas-element.html#pixel-manipulation)），而不是像素数组。所以换行

```
var d = context.getImageData(x,y,1,1); 
```

到

```
var d = context.getImageData(x,y,1,1).data; 
```

会做的工作。

画布 ImageData 参考： http: [//www.whatwg.org/specs/web-apps/current-work/multipage/the-canvas-element.html#imagedata](http://www.whatwg.org/specs/web-apps/current-work/multipage/the-canvas-element.html#imagedata)

像素操作参考： http: [//www.whatwg.org/specs/web-apps/current-work/multipage/the-canvas-element.html#pixel-manipulation](http://www.whatwg.org/specs/web-apps/current-work/multipage/the-canvas-element.html#pixel-manipulation)

MDN ImageData 参考（尚未完成）：[https ://developer.mozilla.org/en-US/docs/DOM/ImageData](https://developer.mozilla.org/en-US/docs/DOM/ImageData)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-14T06:40:55.867

以及按照规范 .getImageData(); 返回一个[图像数据](http://www.whatwg.org/specs/web-apps/current-work/multipage/the-canvas-element.html#imagedata)对象。在该对象中有一个数组数据，其中包含您的所有数据。

您缺少数据，所以基本上因为 d 是`imagedata`那里的元素，因为它没有为索引 3 => d[3] === undefined 定义元素，

因此它失败了，

尝试`d[3].data`

[http://jsfiddle.net/UCSU2/16/](http://jsfiddle.net/UCSU2/16/) <- 这是一个工作小提琴

# sql - 加速 SQL 语句以查找条件参数导致设定的记录数

> ID：13873319
> 
> 赞同：1
> 
> 时间：2012-12-14T05:40:17.633
> 
> 标签：sql, performance, sqlite

为简单起见，我将问题转换为员工/工资问题。

拥有员工记录`emp`，例如：

```
| id | salary (in 1000s) | 
```

给定一个数字 ' `num`'，找到薪水 ' `sal`' 的员工数量在哪里`salary<=sal`（`>=num`类似于统计中的曲线下面积问题）。我们正在使用 Python 和 Sqlite，但问题并不特定于它们：

我正在做以下事情（天真的开始解决方案）：

```
num = some_num
sal = 1000 # starting miminmum value
count = 0
while count < num:
    sql = 'select count(*) from (select 1 from emp where salary<=? limit ?)' 
    # using limit so that we don't keep counting more than num - might help (?)
    (count,) = cursor.execute(sql, (sal, num)).next() # using apsw sqlite adapter
    sal += 1000

print sal 
```

我们怎样才能使这更有效率？（使用标准 SQL 或等效的算法矿石，但不使用给定系统的怪癖）

或者：是否可以通过在记录中添加额外字段来提高效率，这些字段可以在插入/更新操作上保持最新而没有太多开销？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-14T05:45:04.287

如果您使用的是准备好的语句，我相信您可以将准备步骤移出循环以使其更快。

```
sql = 'select count(*) from (select 1 from emp where salary<=? limit ?)' 
# using limit so that we don't keep counting more than num - might help (?)
while count < num:
    (count,) = cursor.execute(sql, (sal, num))
    sal += 1000 
```

如果您进一步想提高性能并且您的数据库大小相当小，您可以将整个数据加载到一个数组中并执行您的操作。

我认为如果先按薪水对数组进行排序，则可以进一步优化。之后，您可以对`<`条件翻转的位置执行二进制搜索等操作，该点的索引 + 1 将是计数。

**编辑**：

解决方案比看起来简单。如果记录按薪水排序，则`#num'th`记录的薪水将是所需的答案，因此这成为[选择第 n 行](https://stackoverflow.com/questions/16568/how-to-select-the-nth-row-in-a-sql-database-table)的问题：

```
num = some_num
sql = 'select salary from emp order by salary limit 1 offset ?'
(sal,) = cursor.execute(sql, (num-1,)).next()
print sal 
```

# visual-studio-2010 - cygwin shell 中的 cl.exe

> ID：13873321
> 
> 赞同：0
> 
> 时间：2012-12-14T05:40:28.720
> 
> 标签：visual-studio-2010, windows-7, cygwin

我有一个主机系统和一个虚拟机，我正在尝试在两者中设置类似的环境。我还安装了 cygwin 和 Visual Studio 10。我在构建中遇到了问题，最终我设法找到了我的主机和虚拟机之间的一个区别。

在我的主机中，当我在 cygwin shell 中输入 cl 时，我得到以下信息：

```
$ cl
Microsoft (R) C/C++ Optimizing Compiler Version 16.00.40219.01 for x64
Copyright (C) Microsoft Corporation.  All rights reserved.

usage: cl [ option... ] filename... [ /link linkoption... ] 
```

但是在我的虚拟机中，我没有得到任何输出。

```
$ cl 
```

（VM 是 32 位，主机是 64 位）

有人能告诉我我可能错过了什么设置吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-14T05:42:34.303

`cl` *您应该做的第一件事是*找出CygWin 中哪些地方不工作。执行命令：

```
typeset -f cl
which cl
alias cl 
```

并找出它回来了。如果它不是 MS 编译器，那是你的问题。

`cl`除此之外，当您尝试从`cmd`窗口而不是 CygWin运行时，找出错误环境的作用`bash`。

* * *

根据您的评论：

> 在我的虚拟机上，它是：
>   `**$ which cl**
>   **/cygdrive/c/Program Files/Microsoft Visual Studio 10.0/VC/bin/x86_amd64/cl**`

对于 32 位 VM，这绝对是错误的。您正试图在不支持它的系统上使用 64 位 AMD 编译器。

您应该更改路径以使用 32 位编译器。但是，我不确定您是否拥有一个，因为所有,`amd64`和似乎都表示 64 位编译器。`ia64``x86_amd64``x86_ia64`

直接下的`bin`可能没问题，您必须对其进行测试才能确定（可能`dumpbin`应该能够告诉您可执行文件的文件格式）。

# java - GSON 解析中的 JSON 数组，但对象为空

> ID：13873324
> 
> 赞同：2
> 
> 时间：2012-12-14T05:40:42.980
> 
> 标签：java, android, json, gson

我正在尝试使用 gson 将 json 字符串转换为对象。

我在下面有一个非常简单的示例，它可以运行，但结果答案是空的，即：我的 Answer 对象的文本字段是空的。

```
import com.google.gson.*;

public class Meow {

    public static void main(String[] args) throws Exception{

        Gson gson = new Gson();
        String jsonOutput = "[{\"answer\":{\"text\":\"text1\"}},{\"answer\":{\"text\":\"text2\"}} ]";

        Answer[] a = gson.fromJson(jsonOutput, Answer[].class);

        for(Answer i:a) {
          System.out.println(i.text);
        }       
    }

    public class Answer {

        public String text;

        public Answer(String text) {
            super();
            this.text=text;
        }

        public String toString(){
            return text;
        }

        public void setText(String a){
            this.text=a;
        }
    }

} 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-12-14T05:55:30.970

因为您的 JSON 与您的课程不匹配。

您现在的 JSON 是一个对象数组，每个对象都包含一个`answer`对象作为字段。

您的 JSON 您拥有事物的方式需要如下所示：

```
String jsonOutput = "[{\"text\":\"text1\"},{\"text\":\"text2\"}]"; 
```

**编辑以从评论中添加：**

如果你不能改变输出，你需要一个“包装器”。就像是：

```
public class AnswerWrapper {
    public Answer answer;

    // etc
} 
```

并使用其中的一个数组。这就是 JSON 将映射到的内容。它不能将它们视为`Answer`对象，因为……它们不是。

**要添加的另一个编辑：**您的另一种选择是为您的类编写自定义反序列化器。我对你是否*应该*这样做有点困惑，但它会起作用。我这么说的原因是您拥有的 JSON*不是*对象数组`Answer`，但您希望它是。如果我在生产代码中遇到这个问题，我想我会很生气，因为如果不了解发生了什么，它可能会令人困惑。

有了这个警告，您可以创建一个自定义`JsonDeserializer`并使用`GsonBuilder`：

```
class AnswerDeserializer implements JsonDeserializer<Answer> {

    public Answer deserialize(JsonElement je, Type type, 
                              JsonDeserializationContext jdc) 
                                   throws JsonParseException {

        return new Answer(je.getAsJsonObject().get("answer")
                            .getAsJsonObject().get("text").getAsString());
    }

} 
```

然后您的代码将如下所示：

```
public static void main(String[] args) throws Exception{

    String jsonOutput = "[{\"answer\":{\"text\":\"text1\"}},{\"answer\":{\"text\":\"text2\"}} ]";

    GsonBuilder gsonBuilder = new GsonBuilder();
    gsonBuilder.registerTypeAdapter(Answer.class, new AnswerDeserializer());

    Gson gson = gsonBuilder.create();

    Answer[] a = gson.fromJson(jsonOutput, Answer[].class);

    for(Answer i:a) {
        System.out.println(i.text);
    }       
} 
```

如果是我，并且我的 JSON 不是我需要的，但想使用 GSON 直接序列化/反序列化，我将创建`Answer`该类作为隐藏细节的包装器：

```
/**
 *  Due to how our JSON is being provided we created an inner
 *  class. 
 **/ 
public class Answer {

    private RealAnswer answer;

    private class RealAnswer {

        public String text;
    }

    ...
} 
```

使用公共 getter/setter`Answer`访问私有`RealAnswer`. 对于下一个人来说，这似乎更清晰，更容易理解。

# matlab - 在为matlab界面编译shogun机器学习工具箱时，我需要为cygwin安装哪些必要的软件包？

> ID：13873325
> 
> 赞同：0
> 
> 时间：2012-12-14T05:40:45.617
> 
> 标签：matlab, cygwin, shogun

我不想全部安装，因为它占用太多空间..

以下是我确定需要的：

gcc，制作 python ..

还有什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-14T12:29:22.910

在网站上，在他们关于安装的文档中......

[http://www.shogun-toolbox.org/doc/en/current/installation.html](http://www.shogun-toolbox.org/doc/en/current/installation.html)

> **要求**
> 
> SHOGUN 需要标准的 linux 实用程序，如 bash、grep、test、sed、cut、ldd、uname gcc g++ 和 cat python（debian 包：python2.4 或 python2.5）才能使 ./configure 工作。
> 
> 或者，您需要安装 atlas 和 lapack（debian 包 lapack3-dev、atlas3-headers atlas3-base-dev 或 atlas3-altivec-dev atlas3-sse2-dev）。请注意，atlas/lapack 仅在 linux 下受支持（无论如何，高性能计算都应仅在 linux 下进行）。如果 atlas/lapack 不可用，请不要担心大多数 shogun 都可以在没有的情况下工作，尽管使用稍微慢一些的版本。
> 
> 要使用 CPLEX(tm) 启用多内核学习，只需确保可以在 PATH 中找到 cplex。如果没有找到 shogun 将诉诸 GLPK（如果找到至少 4.29 版本）用于 1-norm MKL，p>1 的 p-norm MKL 仍然可以工作。
> 
> 要编译 C# 接口，您需要安装 C# 开发人员文件（debian 包 mono-utils）。
> 
> 要编译 Lua 接口，您需要安装 Lua 开发人员文件（debian 包 lua）。
> 
> 要编译 Java 接口，您需要安装 Java 开发人员文件（debian 包 openjdk-6-jdk）。
> 
> 要编译 R 接口，您需要安装 R 开发人员文件（debian 包 r-base-dev）。
> 
> 要编译 Ruby 界面，您需要安装 Ruby 开发人员文件（debian 包 ruby​​）。
> 
> 要编译 octave 接口，您需要安装 octave 开发人员文件（debian 软件包 octave3.0-headers）。
> 
> 要编译 python 接口，您需要安装 numpy 版本 1.x（debian 包 python-numpy）。

# licensing - 软件许可案例研究

> ID：13873327
> 
> 赞同：2
> 
> 时间：2012-12-14T05:40:57.310
> 
> 标签：licensing

我已经使用 java 开发了一个 snmp 代理模拟器应用程序。我想授权它。我是这个领域的新手，我不知道更多。任何人都可以建议一种最佳机制来许可我的应用程序。谢谢并恭祝安康

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-14T05:57:38.427

有几种类型的软件许可

[这是](http://www.gnu.org/licenses/gpl-howto.html)一个关于如何在您的项目中使用 GNU 许可证的好页面或[这里](http://www.gnu.org/licenses/gpl-2.0.html#SEC4)

一些示例许可证（免费）：

**GPL：**允许商业再分发，但整个源代码必须对任何购买它的副本的人可用（有更改）。

**LGPL**适用于软件库。这些可以包含在专有项目中，而无需重新分发整个源。唯一需要进行源代码分发的时间是他们编辑您的代码，即便如此，他们也只需发布对代码的更改。

**MIT**代码可以自由重新授权。有人可以逐字获取您的代码，然后根据 GPL、专有许可等重新发布。

**许可证选择：**

如果你想支持自由软件，不要使用太自由的许可证。禁止商业用途使免费软件比专有程序更具优势。理论上，使用某些许可证重复使用您的代码必须归功于您的原始代码。但是重复使用很难证明，有些公司可能只是不相信你。但是，如果您确实想尽可能广泛地传播您的软件，即您不关心使用您的软件的商业产品，那么请使用 MIT 或 LGPL。如果有疑问，请使用限制性更强的许可并添加一行，说明您可以考虑根据具体情况允许许可条款之外的使用。这样，拥有值得您工作的项目的商业用户就有机会。

**版权纠纷：**

包含尽可能多的信息，以证明它确实是您的创意更容易。在你的脑后对所有权提起诉讼。穷人的版权是将您的来源的打印副本邮寄到您的家庭住址。如果信封没有破损，邮戳是法庭上的有效证据，并提供日期和经过验证的地址。一封电子邮件而不是您的全名来识别您的身份应该是可以的并且是充分的证据，但是：比抱歉更安全。

# javascript - 如何正确使用 RemoveChild 节点

> ID：13873338
> 
> 赞同：0
> 
> 时间：2012-12-14T05:41:55.617
> 
> 标签：javascript, node.js, removechild

我想删除表格中的一个元素，

我尝试使用 tr.removeChild(tr.childNodes[2]);

删除我的第三行元素，但它并没有真正起作用

```
function smile()
{
document.getElementById("p1").style.backgroundImage = 'url(smile.jpg)';
}
function twice()
{
document.getElementById("p2").innerHTML="Smile Smile";
}
function empty()
    {
//this is the part i want to remove , i want to remove the text inside it
    tr.removeChild(tr.childNodes[3]);
}

</script>
</head>

<body>

<table border = "1" >
<form>
<tr>
<th onclick="smile()"><input type="button" name="person1" value="Make it smile!" id="person4" size="30" </th>
<th onclick="twice()"><input type="button" name="person1" value="Make it smile twice!" id="person4" size="30" </th>
<th onclick="empty()"><input type="button" name="person1" value="Make it empty" id="person4" size="30" </th>
</tr> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-14T05:43:52.090

几件事：

*   您需要`tr`在函数内部进行设置`empty()`，现在它没有设置为任何内容。

*   数组的索引从 0 开始，因此您要告诉它删除第 4 个孩子。尝试将其更改为：

    tr.removeChild(tr.childNodes[2]);

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-14T05:55:54.573

# android - 实施热键以启动特定活动

> ID：13873339
> 
> 赞同：0
> 
> 时间：2012-12-14T05:41:58.167
> 
> 标签：android, shell

我想在用户按下主页键特定次数时启动一项活动。例如，如果用户按 3 次 home 键，他就可以看到在 android 上运行的特定活动。

可能吗？

# django - Django Comet/Long Polling 应用程序

> ID：13873343
> 
> 赞同：0
> 
> 时间：2012-12-14T05:43:01.520
> 
> 标签：django, comet, long-polling

我正在开发一个实时照明控制系统。

用户可以通过网页界面开/关灯，但当其他人手动打开/关闭灯开关时，网页界面应立即更新。这就是我想要的实时目标。

系统的结构是这样的。我家里有自己的服务器，可以实时控制/监控灯光状态。Django 项目在我的云服务器上，与我的家庭服务器实时通信。

我搜索了一些类似的帖子，发现了很多让我很困惑的工具。我只想做长轮询。用户的浏览器会定期（比如 30 秒）向 django 服务器发送 http 请求。如果没有出现，服务器将保留响应直到下一个响应。如果有事件，服务器将立即回复，以便在浏览器端实时更改。

我知道 websocket 是一种更好的方法，但我只是想让它工作，越简单越好。只要它可靠，与现有浏览器兼容，性能就不是我现在最关心的问题。如果在扩展时出现性能问题，我可以稍后更改它。如果可能的话，我仍然想使用 Apache 服务器来执行此操作。

有谁知道一个很好的教程或例子来告诉我如何实现它？

非常感谢

我使用 Django 1.4、wsgi、Apache。

# apache - HTTP 标头内容长度不起作用

> ID：13873346
> 
> 赞同：1
> 
> 时间：2012-12-14T05:43:20.530
> 
> 标签：apache, ruby-on-rails-3.2, mod-deflate

我希望在下载文件时向客户端显示文件的大小。
但是 HTTP Header Content-Length 不起作用。
我的环境是跟随。

*   阿帕奇 2.2
*   mod_deflate
*   Rails3.2

下载文件位于 rails 项目的公共文件夹中。

当我下载它时，响应标题是这个。

> Accept-Ranges bytes
> Access-Control-Allow-Head... origin, x-requested-with, content-type
> Access-Control-Allow-Meth... PUT, GET, POST, DELETE, OPTIONS
> Access-Control-Allow-原始... http:// ***** .com
> Connection Keep-Alive
> Content-Encoding gzip
> Content-Type application/octet-stream
> 日期 Fri, 14 Dec 2012 05:15:09 GMT
> Etag "c1bcc-1c828800-4d0a3ac0f7389"
> Keep-Alive timeout=5, max=100
> Last-Modified Wed, 12 Dec 2012 08:34:51 GMT
> Server Apache
> Transfer-Encoding chunked
> Vary Accept-Encoding

有没有办法显示内容长度？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2014-11-26T15:36:56.700

Although this is an old thread, it is a problem related to gzip compression. For others reading this question, here is my solution, based on this thread:

[How to disable Apache gzip compression for some media files in .htaccess file?](https://stackoverflow.com/questions/9249243/how-to-disable-apache-gzip-compression-for-some-media-files-in-htaccess-file)

You can add the following rule to your .htaccess

```
SetEnvIfNoCase Request_URI \.(?:gif|png|pdf|xxx)$ no-gzip dont-vary 
```

if you want to disable compression for certain file types or

```
SetEnvIfNoCase Request_URI (url_to_not_compress) no-gzip dont-vary 
```

if you have a script that forces a file to download.

# iphone - 在 IOS5 中禁用横向方向

> ID：13873357
> 
> 赞同：0
> 
> 时间：2012-12-14T05:44:53.800
> 
> 标签：iphone, objective-c, ios, landscape, uiinterfaceorientation

我想在我的应用程序中消除横向方向，它是为 IOS 5 构建的。在 IOS 6 中，我知道这是可能的 - 但在早期版本中它似乎对我不起作用。

我在我的`plist`文件中只设置了两个方向（顶部带有主页按钮的纵向和底部带有主页按钮的纵向）。无论如何，景观仍然出现在 IOS 5 中。

我还需要做些什么来消除这种情况的发生吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-14T05:57:56.617

```
- (BOOL)shouldAutorotateToInterfaceOrientation:(UIInterfaceOrientation)interfaceOrientation
{
    // Return YES for supported orientations
   // return (interfaceOrientation == UIInterfaceOrientationPortrait);
   if(interfaceOrientation == UIInterfaceOrientationLandscapeLeft ||interfaceOrientation == UIInterfaceOrientationLandscapeRight)
 {
   return NO;
 }
 else
 {
   return YES;
 }

} 
```

将此代码写入 .m 文件以用于 ios5 方向

让我知道它是否有效....

快乐编码！！！！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-14T06:02:25.433

这将起作用。转到情节提要取消选择您不想要的方向并在视图控制器中编写以下代码：

```
- (BOOL)shouldAutorotateToInterfaceOrientation:(UIInterfaceOrientation)interfaceOrientation
{
    return (interfaceOrientation==UIInterfaceOrientationPortraitUpsideDown || interfaceOrientation==UIInterfaceOrientationPortrait );
} 
```

# sql-server - MS-Access 对 T-SQL 的查询

> ID：13873358
> 
> 赞同：4
> 
> 时间：2012-12-14T05:44:54.527
> 
> 标签：sql-server, ms-access

> **可能重复：**
> [嵌套 IIF 语句的 CASE 等效项](https://stackoverflow.com/questions/11313616/case-equivalent-of-a-nested-iif-statement)

我正在尝试将以下 Access 查询转换为 T-SQL，但 IIF 语句出现问题。

**访问查询**

```
SELECT 
qry_LAB_LOAD_Prequery2.Asset AS SITE_REF,
Format([Det],"00000") AS DET_, 
IIf(IsNull([MT]),"0",IIf(Right([SP_Ref],2)="WZ"
And IsNull([LabLoadFileSuffix_MT]) 
And [MT]>0,CStr([MT]) & "CT",CStr([MT]) & [LabLoadFileSuffix_MT])) AS MT_COUNT,  
IIf(IIf(IsNull([MT]),0,[MT])>=IIf(IsNull([IM]),0,[IM]),0,
IIf(IsNull([IM]),"0",IIf(Right([SP_Ref],2)="WZ" 
And IsNull([LabLoadFileSuffix_IM]),CStr([IM]) 
& "CT",CStr([IM]) & [LabLoadFileSuffix_IM]))) AS IM_COUNT,   
qry_LAB_LOAD_Prequery2.[2012 Sample Point] AS SP_REF, qry_LAB_LOAD_Prequery2.Area
FROM qry_LAB_LOAD_Prequery2
WHERE (((IIf(IsNull([IM]),0,[IM])+IIf(IsNull([MT]),0,[MT]))>0)); 
```

我试图转换它的一部分。谁能帮我纠正嵌套的 IID 语句，因为我不确定。

**SQL 查询**

```
SELECT qry_LAB_LOAD_Prequery2.Asset AS SITE_REF,
RIGHT('00000' + CAST([Det] AS VARCHAR(5)),5) AS DET_,
  ----- (the nested iff statements)
qry_LAB_LOAD_Prequery2.[2012 Sample Point] AS SP_REF,
qry_LAB_LOAD_Prequery2.Area
FROM qry_LAB_LOAD_Prequery2
where (ISNull([IM],0) + ISNULL([MT],0)) > 0 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-14T06:08:51.560

要转换嵌套的 IIF，您需要用户 CASE。

让我们采取第一个：

重组我得到：

```
IIf(
          IsNull([MT]),
          "0",
                   IIf(Right([SP_Ref],2)="WZ"
                            And IsNull([LabLoadFileSuffix_MT]) 
                            And [MT]>0,

                        CStr([MT]) & "CT",
                        CStr([MT]) & [LabLoadFileSuffix_MT]
                    )
    ) AS MT_COUNT, 
```

它转换为：

```
CASE
WHEN [MT] IS NULL 
    THEN "0",
ELSE
    CASE 
        WHEN Right([SP_Ref],2) = "WZ"
           AND ([LabLoadFileSuffix_MT] IS NULL
               AND [MT]>0
        THEN 
             CAST([MT] AS VARCHAR) + "CT"
        ELSE
             CAST([MT] AS VARCHAR) + [LabLoadFileSuffix_MT]
    END
END AS MT_COUNT, 
```

这简化为：

```
CASE
WHEN [MT] IS NULL 
    THEN "0",
ELSE
    CAST([MT] AS VARCHAR)  
   + CASE 
        WHEN Right([SP_Ref],2) = "WZ"
           AND ([LabLoadFileSuffix_MT] IS NULL
               AND [MT]>0
        THEN 
             "CT"
        ELSE
             [LabLoadFileSuffix_MT]
    END
END AS MT_COUNT, 
```

对于第二个发球台，我重新格式化，然后将其转换为以下

```
CASE WHEN 

    CASE 
      WHEN [MT] IS NULL THEN 0 
      ELSE [MT] 
    END 

     >=

    CASE 
      WHEN [IM] IS NULL THEN 0 
      ELSE [IM] 
    END ,

 THEN   0,
 ELSE    

   CASE 
      WHEN [IM] IS NULL THEN "0" 
      ELSE 

        CASE 
          WHEN Right([SP_Ref],2) = "WZ" AND [LabLoadFileSuffix_IM] IS NULL THEN CAST([IM] AS VARCHAR) + "CT"
          ELSE CAST([IM] AS VARCHAR) + [LabLoadFileSuffix_IM]
        END
      END
 END
 AS IM_COUNT, 
```

Whick 减少到

```
CASE 
      WHEN ISNULL([MT], 0) > =  ISNULL([IM], 0)
 THEN   0,
 ELSE    
   CASE 
      WHEN [IM] IS NULL THEN "0" 
      ELSE 
        CAST([IM] AS VARCHAR) +
        CASE 
          WHEN Right([SP_Ref],2) = "WZ" AND [LabLoadFileSuffix_IM] IS NULL THEN "CT"
          ELSE  [LabLoadFileSuffix_IM]
        END
      END
 END
 AS IM_COUNT, 
```

这基本上归结为两列的 2 个非常相似的表达式。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-14T06:05:23.867

尝试嵌套 case 语句。

所以只取你的前两行：

```
IIf(IsNull([MT]),"0",IIf(Right([SP_Ref],2)="WZ"
And IsNull([LabLoadFileSuffix_MT]) 
```

会成为

```
CASE WHEN MT IS NULL 
THEN 0
ELSE
    CASE WHEN RIGHT(SP_Ref, 2) = "WZ" AND LabLoadFileSuffix_MT IS NULL 
    THEN
         ...
    ELSE ...
    END
END 
```

# jquery - jQuery - 多个 .show 和 .hide 不能正常工作

> ID：13873360
> 
> 赞同：0
> 
> 时间：2012-12-14T05:45:03.880
> 
> 标签：jquery, html

我有一个带有复选框的表单。选中该复选框时，会隐藏一个表格（位于 div 内）并替换为表示他们已选中该框的文本块。

在同一个 div 内，有一个选择框。如果用户选择“------”以外的任何内容，则某些表格行会隐藏并替换为一些说明他们做出选择的文本。

但是，如果用户首先进行选择然后选中复选框，则目标是让 div 隐藏整个表格并仅替换为*一个*文本块 - 即表示您已选中该框的文本。

令人费解，是的，但对于这个项目来说，这是有道理的。

因此，为了清楚起见，这里有一些基本标记（一些伪代码）：

```
<checkbox input id="cBox">

<div id="myDiv">
  <table id="myTable">
    <select_box id="mySelect">
    <tr class="myTRClass">...some stuff...</tr>
    <tr class="myTRClass">...some stuff...</tr>
    <tr class="myTRClass">...some stuff...</tr>
  </table>

  <div id="replaceTable">
    ...some text telling user they checked the box
  </div>
  <div id="replaceRows" class="replaceMyRows>
    ..some text telling user they made a selection
  </div>
</div> 
```

我的 jQuery 用于选择框（应该只隐藏表格的*行*）。此代码有效：

```
t = $("#mySelect").val();
if (t == "") {
    $(".myTRClass").hide();
    $(".replaceMyRows").show();
}
else {
    $(".replaceMyRows").hide();
    $(".myTRClass").show();
} 
```

现在，这是我的复选框的 jQuery（这应该隐藏整个表格）：

```
 t = $( '#cBox' )
    if ($(t).attr('checked')) {
        $("#myTable").hide();
        $("#replaceTable").show();
    }
    else {
        $("#replaceTable").hide();
        $("#myTable").show();
    } 
```

现在这是我的问题：这两组 jQuery 各自工作正常，但是当我开始将它们混合在一起时，我遇到了问题。

例如：如果我从选择框中进行选择，表格行将隐藏并替换为我的文本。完美的。但是现在，在这种状态下，如果我随后选中复选框以隐藏*整个*表格（当前隐藏了一些行），我得到的是一个隐藏的表格，但*两组文本*都存在（文本说“你进行了选择”和“您已选中该框”的文字）。

我似乎无法获得正确的组合`.show()`并`.hide()`使其发挥作用。我的示例的结果应该是：隐藏表格，隐藏行，隐藏说我隐藏*行的**文本*，然后显示说我选中复选框的文本。

 *抱歉，如果这很复杂，这似乎是一个奇怪的情况，应该直截了当。

谢谢你的帮助 ：）

* * *

编辑：更改了我的标题。

* * *

**编辑#2**

我在[这里](http://jsfiddle.net/garfonzo/d4NfT/15/)添加了一个小提琴 当它打开时，选择框选择了'-----'，所以表格行被隐藏了。尝试选择其他内容（显示行）。尝试选中该框（整个表隐藏）。但是，请尝试先选择“-----”，然后选中该框 - 两个文本都会显示。在这种情况下，我只想显示“您已选中”文本。

想法？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-14T06:01:00.460

我不确定这里，但似乎你应该稍微改变你的标记来管理。

这是新的html：

```
<input type="checkbox" id="cBox">

<div id="myDiv">
  <div class="hideByChkBx">
    <select id="mySelect" />
    <table id="myTable">
      <tr class="myTRClass">...some stuff...</tr>
      <tr class="myTRClass">...some stuff...</tr>
      <tr class="myTRClass">...some stuff...</tr>
    </table>
    <div id="replaceRows" class="replaceMyRows>
      ..some text telling user they made a selection
    </div>
  </div>
  <div id="replaceTable">
    ...some text telling user they checked the box
  </div>
</div> 
```

这是javascript：

```
//For select box
t = $("#mySelect").val();
if (t == "") {
    $(".myTRClass").hide();
    $(".replaceMyRows").show();
} else {
    $(".replaceMyRows").hide();
    $(".myTRClass").show();
}

//for checkbox
t = $( '#cBox' )
if ($(t).attr('checked')) {
    $(".hideByChkBx").hide();
    $("#replaceTable").show();
}
else {
    $(".hideByChkBx").show();
    $("#replaceTable").hide();
} 
```*

# java - JavaFX TableView 未更新

> ID：13873361
> 
> 赞同：2
> 
> 时间：2012-12-14T05:45:09.707
> 
> 标签：java, multithreading, javafx-2

我试图在`JavaFX` `TableView`. 每个任务由一行表示成一个`TableView`。

![在此处输入图像描述](../Images/8357ae1f2723ad378bcafab6ec78580e.png)

每个任务在一个单独的线程中执行。任务可能像 - 从服务器下载文件，将文件从一个帐户复制到另一个帐户等。线程可能需要很长时间才能完成任务。我的应用程序还控制在队列中执行操作的线程数。默认设置下，一次最多可以运行 5 个线程。

我的问题是 - 我`TableView`的没有显示更新的状态和进度。我必须单击列标题才能刷新`TableView`. 如何使 TableView 芳香地更新？在后台，如果我运行一个在特定时间间隔后自动触发的线程以刷新`TableView`使我的 UI 冻结。

该示例没有显示我在我的应用程序中究竟在做什么，但我试图展示我面临的问题。当您运行程序时，您将看到具有两列的 TableView 1\. 名称和 2\. 进度。在启动时，每行的名称将为“之前”，而您将看到进度条正在运行。我在更新单元格值和停止进度条时添加了 1 秒的延迟。

```
import java.util.logging.Level;
import java.util.logging.Logger;
import javafx.application.Application;
import javafx.beans.property.DoubleProperty;
import javafx.beans.property.SimpleDoubleProperty;
import javafx.beans.property.SimpleStringProperty;
import javafx.beans.property.StringProperty;
import javafx.collections.ObservableList;
import javafx.scene.Scene;
import javafx.scene.control.*;
import javafx.scene.control.cell.ProgressBarTableCell;
import javafx.scene.control.cell.PropertyValueFactory;
import javafx.scene.layout.StackPane;
import javafx.scene.layout.StackPaneBuilder;
import javafx.stage.Stage;

public class UpdateTableView extends Application {

    private TableView<Person> personTable = new TableView<>();
    private TableColumn colName = new TableColumn<>("Name");
    private TableColumn colProgressBar = new TableColumn("Progress Bar");

    @Override
    public void start(Stage primaryStage) {
        showDialog(primaryStage);

        colName.setCellValueFactory(new PropertyValueFactory("name"));
        colProgressBar.setCellValueFactory(new PropertyValueFactory("progressBar")); // "name" here is for just to render the column
        colProgressBar.setCellFactory(ProgressBarTableCell.forTableColumn());
        personTable.getColumns().addAll(colName, colProgressBar);

        for (int i = 0; i < 10; i++) {
            Person person = new Person();
            person.setProgressBar(-1.0);
            person.setName("Before" + i);
            personTable.getItems().add(person);
        }

        Thread threadAction1 = new Thread() {
            public void run() {
                try {
                    Thread.sleep(1000);
                } catch (InterruptedException ex) {
                    Logger.getLogger(UpdateTableView.class.getName()).log(Level.SEVERE, null, ex);
                }
                ObservableList<Person> items = personTable.getItems();
                for (int i = 0; i < items.size(); i++) {
                    Person person = items.get(i);
                    person.setName("After" + i);
                    person.setProgressBar(0.0);
                }
            }
        };
        threadAction1.start();
    }

    public void showDialog(Stage primaryStage) {
        try {
            StackPane root = StackPaneBuilder.create().children(personTable).build();
            primaryStage.setScene(new Scene(root, 300, 250));
            primaryStage.show();
        } catch (Exception ex) {
            System.out.println("Exception caught while showing dialog" + ex.getMessage());
        }
    }

    public static class Person {

        private StringProperty name;

        public void setName(String name) {
            this.name = new SimpleStringProperty(name);
        }
        private DoubleProperty progressBar;

        private Person() {
        }

        public double getProgressBar() {
            return progressBar.get();
        }

        public void setProgressBar(double surname) {
            this.progressBar = new SimpleDoubleProperty(surname);
        }

        public Person(String name, double surname) {
            this.name = new SimpleStringProperty(name);
            this.progressBar = new SimpleDoubleProperty(surname);

        }

        public String getName() {
            return name.get();
        }

        public StringProperty nameProperty() {
            return name;
        }

        public DoubleProperty progressBarProperty() {
            return progressBar;
        }
    }

    public static void main(String[] args) {
        launch(args);
    }
} 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-12-14T07:18:01.423

您应该更新您的`Person`课程，如下所示：

```
public static class Person {

    private StringProperty name;
    private DoubleProperty progressBar;

    private Person() {
       name = new SimpleStringProperty();
       progressBar = new SimpleDoubleProperty();
    }

    public Person(String name, double surname) {
        this.name = new SimpleStringProperty(name);
        this.progressBar = new SimpleDoubleProperty(surname);
    }

    public void setName(String name) {
        this.name.set(name);
    }

    public double getProgressBar() {
        return progressBar.get();
    }

    public void setProgressBar(double surname) {
        this.progressBar.set(surname);
    }

    public String getName() {
        return name.get();
    }

    public StringProperty nameProperty() {
        return name;
    }

    public DoubleProperty progressBarProperty() {
        return progressBar;
    }
} 
```

在方法中，您每次`setter`都在创建 `name`&的新对象，因此不会更新。`progressbar``TableView`

# css - 光标：指针和默认值不会立即反映

> ID：13873362
> 
> 赞同：0
> 
> 时间：2012-12-14T05:45:25.477
> 
> 标签：css, jsf-1.2

我有两个横幅（图像），每 4 秒切换一次。一张图片可点击，另一张不可点击。下面是代码，

```
<div class="contentdiv">
   <h:commandLink  action="#{mybean.firstImageClick}" id="firstBanner" style="text- decoration:none;">
       <img src="imagePath" width="590" height="210"  border="0" style="cursor: pointer;"/> 
</h:commandLink>
</div>

<div class="contentdiv">
    <img src="imagePath" width="590" height="210"  border="0" style="cursor: default;"/>
</div> 
```

我已经分别指定了第一张和第二张图片的`pointer`样式`default`。

当图像切换时，当用户将光标移到图像上时，第一张图像将显示为指向用户的指针。当切换到第二张图像时，并且当用户没有将光标从图像上移开时，第二张图像也将显示为指针而不是默认值。只有当用户点击第二张图片时，它才会更改为默认值，然后用户才会知道第二张图片不可点击。

第一张图片也会发生同样的事情。当用户在第二张图像中并且从第二张图像切换到第一张图像时，光标仍将默认为指针。所以，用户不知道第一张图片是可点击的。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-14T05:57:05.493

尝试指针事件：无；css 属性提到你想要的任何地方。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-14T09:16:41.780

而不是使用内联样式，只需为您的光标样式创建两个简单的类，如下所示。

**对于 CSS ：**

```
<style type="text/css">
.clickable {
cursor:pointer;
}
.not_clickable{
cursor:default;
}
</style> 
```

**对于 HTML：**

```
<div class="contentdiv">
   <h:commandLink  action="#{mybean.firstImageClick}" id="firstBanner" style="text- decoration:none;">
       <img src="imagePath" width="590" height="210"  border="0" class="clickable"/> 
</h:commandLink>
</div>

<div class="contentdiv">
    <img src="imagePath" width="590" height="210"  border="0" class="not_clickable"/>
</div> 
```

之后，您可以在触发或单击图像时根据需要轻松切换类。

# css - 绝对定位的 div IE 内的空锚标记

> ID：13873363
> 
> 赞同：0
> 
> 时间：2012-12-14T05:45:28.233
> 
> 标签：css, internet-explorer, anchor, css-position

我已经搜索和搜索并尝试了许多选项来修复这个“错误”，但我无法让它工作。我有一个 div，它的背景图像隐藏在包装器后面。悬停时，它会朝顶部移动。该链接位于绝对定位的 div 内，并且没有文本。在 IE 上没有“指针”，因此使链接不可点击。这适用于 Chrome/FF。

我试过了：

1.  border-right 1px 透明（这个我实际上可以在最右边得到一个“指针”，但它太小了
2.  背景：url（/images/transparent.gif）0 0重复；（是的，我制作了一个 1x1px 反式图像）
3.  在具有背景图像的锚点内放置另一个 div
4.  z-index: 0 或 1 或 2

我想要 CSS/HTML 修复，而不是 javascript。非常感谢！

CSS

```
#wrapper
{
width: 950px;
margin: 60px auto 40px;
background-color: #fff;
position:relative;
}

.login-btn
{
background: url(/images/btn-sprite.png) no-repeat 0 -48px;
height: 34px;
width: 98px;
}

#login-btn
{
position:absolute;
top:-15px;
right:20px;
z-index:-1;
}

#login-btn a
{
display:block; 
width: inherit; 
height: inherit; 
background-image: url(/images/transparent.gif) 0 0 repeat; 
} 
```

HTML

```
 <div id="wrapper" class="round">
        <div id="login-btn" class="login-btn">
            <a href="#">
            </a>
        </div>
    .....
    ..... 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-15T13:02:38.030

我想到了。在 IE 中，你不能有一个带有负 z-index 的锚点，b/c 它将它隐藏在身体或其他任何东西后面，并且事件不会通过。基本上我最终做的是将锚点放在 div (login-btn) 周围，并给 div 的 z-index 为 -1，从而减轻锚点上的 z-index

HTML

```
<div id="wrapper" class="round">
<a href="#" id="login-btn">
    <div class="login-btn">
    </div>
</a>
....
.... 
```

CSS

```
#wrapper
{
  width: 950px;
  margin: 60px auto 40px;
  background-color: #fff;
  position:relative;
}

.login-btn
{
  background: url(/images/btn-sprite.png) no-repeat 0 -48px;
  height: 34px;
  width: 98px;
}

a#login-btn
{
  display:block; 
  height: 34px;
  width: 98px;
  position:absolute;
  top:-15px;
  right:20px;
}

a#login-btn div
{
  z-index: -1;
  position:relative;   
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-14T08:19:22.093

这是你的代码，我附上图片也请复制到你的图片文件夹并测试。我检查了ie8和ie7它工作正常。

```
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Untitled Document</title>
<style>
#wrapper {
    width: 950px;
    height:450px;
    margin: 0 auto;
    background-color: #fff;
    border:#F33 solid thin;
    position:relative;
}

#login-btn {
    height: 33px;
    width: 145px;
    display:block;
    position:absolute;
    right:0;
    top:5px;
}
#login-btn a:link, #login-btn a:visited {
    background:url(images/btn-sprite.png) top left no-repeat;
    height: 33px;
    width: 145px;
    display:block;
}

#login-btn a:hover {
    background:url(images/btn-sprite.png) bottom left no-repeat;
    height: 33px;
    width: 145px;
    display:block;
    cursor:pointer;
}

</style>
</head>

<body>
    <div id="wrapper">
        <div id="login-btn">
            <a href="#"></a>
        </div>
</body>
</html> 
```

![这是一个精灵图像](../Images/bdd9e71b339b0ff794dd6fcb2a14a134.png)

# iphone - 如何使用适用于 iPhone 的 Google Drive SDK 在 Google Drive 上创建文件夹？

> ID：13873366
> 
> 赞同：1
> 
> 时间：2012-12-14T05:45:45.510
> 
> 标签：iphone, objective-c, xcode, google-drive-api

我正在使用适用于 iPhone 的 Google Drive SDK 并尝试在“TestAudio”文件夹中上传音频文件。如果“TestAudio”文件夹未在 google drive 中创建，则首先创建该文件夹，然后我的音频应仅存储到该文件夹​​。除了文件夹创建之外，一切都在工作 gr8。有朋友可以帮忙吗？

我正在使用以下代码上传音频文件。

```
GTLUploadParameters *uploadParameters = nil;

NSString *soundFilePath = [[NSBundle mainBundle]
                           pathForResource:@"honey_bunny_new"
                           ofType:@"mp3"];

if (soundFilePath) {
    NSData *fileContent = [[NSData alloc] initWithContentsOfFile:soundFilePath];
    uploadParameters = [GTLUploadParameters uploadParametersWithData:fileContent MIMEType:@"audio/mpeg"];
}

self.driveFile.title = self.updatedTitle;
GTLQueryDrive *query = nil;
if (self.driveFile.identifier == nil || self.driveFile.identifier.length == 0) {
    // This is a new file, instantiate an insert query.
    query = [GTLQueryDrive queryForFilesInsertWithObject:self.driveFile
                                        uploadParameters:uploadParameters];
} else {
    // This file already exists, instantiate an update query.
    query = [GTLQueryDrive queryForFilesUpdateWithObject:self.driveFile
                                                  fileId:self.driveFile.identifier
                                        uploadParameters:uploadParameters];
}
UIAlertView *alert = [DrEditUtilities showLoadingMessageWithTitle:@"Saving file"
                                                         delegate:self];

[self.driveService executeQuery:query completionHandler:^(GTLServiceTicket *ticket,
                                                          GTLDriveFile *updatedFile,
                                                          NSError *error) {
[alert dismissWithClickedButtonIndex:0 animated:YES];
if (error == nil) {
    self.driveFile = updatedFile;
    self.originalContent = [self.textView.text copy];
    self.updatedTitle = [updatedFile.title copy];
    [self toggleSaveButton];
    [self.delegate didUpdateFileWithIndex:self.fileIndex
                                    driveFile:self.driveFile];
    [self doneEditing:nil];
} else {
    NSLog(@"An error occurred: %@", error);
    [DrEditUtilities showErrorMessageWithTitle:@"Unable to save file"
                                           message:error.description
                                          delegate:self];
}
}]; 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-13T23:15:24.590

我没有看到您创建文件夹的代码，但我自己在创建文件夹时遇到了同样的问题。如您所知，mimeType 必须是“application/vnd.google-apps.folder”。如果 uploadParametersWithData 的 NSData 参数为零，我会遇到断言失败。所以我尝试了一个零长度的 NSData 对象，但失败了。使用 1 字节的 NSData 对象也失败了。诀窍是使用 uploadParameters:nil 调用 queryForFilesUpdateWithObject。然后文件夹创建工作正常。我还发现最后显示的 Objective-C 代码：

[https://developers.google.com/drive/v2/reference/files/insert](https://developers.google.com/drive/v2/reference/files/insert)

是不正确的。file.parents 应如下所示：

```
GTLDriveParentReference *parentRef = [GTLDriveParentReference object];
parentRef.identifier = parentID;
if (parentID.length>0) file.parents = [NSArray arrayWithObjects:parentRef,nil]; 
```

# javascript - 从中删除表 标签

> ID：13873372
> 
> 赞同：0
> 
> 时间：2012-12-14T05:46:26.147
> 
> 标签：javascript, c#, jquery, asp.net, html-table

我有一个`<div>`标签，我`<table>`通过 Javascript 在其中动态添加：

```
var htmlText = "<table id='table_" + id + "'><tbody>";
htmlText += "<tr> <td><img src='../../Icons/action_delete.gif' onclick='javascript:RemoveUser(\"" + id + "\");' /></td> <td>" +  name + " </td></tr>";
htmlText += "</tbody></table>";
document.getElementById("divSearchUsers").innerHTML += htmlText; 
```

我将多个表添加到 div。现在我想删除一个特定的表。我在 RemoveUser 函数中获得了表的 ID。我该如何进行呢？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-14T05:49:59.690

与非 jQuery 相关：

[在不知道其父级的情况下删除 dom 元素？](https://stackoverflow.com/questions/1804991/remove-dom-element-without-knowing-its-parent)

```
function removeElement(el) {
    el.parentNode.removeChild(el);
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-12-14T05:48:01.617

由于 html 元素的 id 应该是唯一的，因此您可以使用 remove 方法直接将其删除。

*使用 jQuery*

```
$('#tableIdToRemove').remove(); 
```

*使用 Javascript*

```
tableIdToRemove = document.getElementById("tableIdToRemove");
tableIdToRemove.parentNode.removeChild(tableIdToRemove); 
```

或者

如果您有 html 并且`chance of duplicate ID`在父表之外，那么您可以访问该表以删除与其父表相关的表，如下所示。

```
$("#divSearchUsers").find('#tableIdToRemove').remove(); 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-12-14T05:48:20.097

获取元素 id 并使用 remove()

```
$("#table_id").remove(); 
```

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2012-12-14T05:52:17.613

如果您想删除内部 html，那么您应该执行以下操作：

```
document.getElementById('table_' + id).innerHTML = ""; 
```

# html - 我们可以将复合形状从一个画布拖放到另一个画布吗

> ID：13873374
> 
> 赞同：0
> 
> 时间：2012-12-14T05:46:28.567
> 
> 标签：html, drag-and-drop, html5-canvas, globalcompositeoperation

我是**HTML5**新手，因为我只知道这方面的基础知识。如果有人能在这方面帮助我，那对我来说太好了。

我需要设计差异形状并从 div 拖放到画布。我在画布中使用操作创建了不同的形状`globalcomposite`，现在我需要从画布拖动到另一个画布。

我希望有人理解我的观点，任何帮助都会很棒。jsfiddle.net/rGUma/5/# 一些这样的东西，我需要保持我的设计形状的那三个图像是可能的。

那不是我的 jfiddle 它是一个例子，我想要那样谢谢你的回应

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-14T10:32:36.317

一旦您将图像绘制到画布上，它就不再是连贯的图像对象，而是成为图形缓冲区中的一堆像素。当您想与这些像素进行交互时，您需要以编程方式执行此操作。我认为您不会通过在两个画布上捕获 mousedown、mousemove、mouseout、mouseover 和 mouseup 事件并绘制用户在移动鼠标时在鼠标光标上单击的形状来实现自己的拖放功能。

# iphone - 没有终端的iPhone中的信用卡支付api

> ID：13873376
> 
> 赞同：-1
> 
> 时间：2012-12-14T05:46:48.753
> 
> 标签：iphone, ios, credit-card

我想集成信用卡支付功能，该功能从用户那里收集信息，例如信用卡支付详细信息、流程、支付和接收 iPhone 应用程序中的付款收据。请注意，此功能需要在不使用“信用卡支付终端”的情况下实现。请就此提出一些建议/api/示例代码。尽管建议使用应用内购买，但苹果是否批准这种付款方式？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-14T06:03:34.093

对于应用内购买，我们有 3 个选项

[苹果](https://developer.apple.com/appstore/in-app-purchase/index.html)应用内购买（需要苹果账户）

[贝宝](https://developer.paypal.com/cgi-bin/devscr?cmd=_login-done&login_access=0)支付网关（需要贝宝账户）

[Zooz](http://www.zooz.com/#)支付网关（需要信用卡/借记卡信息）

所有这 3 个都得到了苹果的批准，根据您的需要，您可以选择第三个，甚至它也支持 Paypal，因为如果用户想通过他的 Paypal 帐户付款。

# php - 使用 jquery 替换 youtube 嵌入代码中的字符串

> ID：13873379
> 
> 赞同：1
> 
> 时间：2012-12-14T05:46:57.843
> 
> 标签：php, javascript, jquery

我在这里有一个来自 youtube 的嵌入代码，我使用插件来显示该视频

```
<object width="350" height="200">
<param name="allowfullscreen" value="true" />
<param name="allowscriptaccess" value="always" />
<param name="movie" value="http://www.youtube.com/v/KVu3gS7iJu4&autoplay=0&loop=0&rel=0" />
<param name="wmode" value="transparent">
<embed src="http://www.youtube.com/v/KVu3gS7iJu4&autoplay=0&loop=0&rel=0" type="application/x-shockwave-flash" wmode="transparent" allowfullscreen="true" allowscriptaccess="always" width="350" height="200">
</embed>
</object> 
```

我的问题是我无法编辑这些代码，我需要将“&”符号更改为“ `&amp;`”以进行 w3c 验证，这可以使用 jquery

这是我的示例小提琴，它不起作用，不知道如何[http://jsfiddle.net/kfX9M/](http://jsfiddle.net/kfX9M/)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-14T05:51:23.413

使用 jQuery 更改它不会使您的 HTML 有效。您可以使用一些 PHP 在服务器端更改它：

```
$dom = new DOMDocument();
$dom->loadHTML($your_embed_code_here);
$xpath = new DOMXPath($dom);
$items = $xpath->query("//*[contains(@href,'&')]");
$l = $item->length;
for($i=0; $i<$l; $i++) {
  $items->item($i)->setAttribute("href",str_replace("&","&amp;",$items->item($i)->getAttribute("href")));
}
$out = $dom->saveHTML(); 
```

但是，正如 elclanrs 所提到的，这真的没有什么区别。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-14T07:46:14.833

嗨伙计，我用**jQuery**和**正则表达式**做了。，

```
<script type="text/javascript">
$(document).ready( function() {

var re=/&/g;

var value=$("param[name='movie']").val();

var modified_value=value.replace(re,'&amp;');

$("param[name='movie']").val(modified_value);

var src = $("embed").attr('src');

var src_modified_value=src.replace(re,'&amp;');

$("embed").attr('src',src_modified_value);

});
</script> 
```

我认为这可以帮助您解决问题。

要查看它的实际效果：http: [//jsfiddle.net/john_rock/7H2Hk/](http://jsfiddle.net/john_rock/7H2Hk/)

# sql - 字符串缓冲区太小错误

> ID：13873384
> 
> 赞同：0
> 
> 时间：2012-12-14T05:47:37.360
> 
> 标签：sql, oracle11g

我正在尝试使用 select 语句创建一个表。我想用来自 VIEW 的聚合值填充这个新表。以下是用于创建 VIEW 的代码，

```
 create or replace view FINAL_WEB_LOG
 as
 select SESSION_ID, 
        SESSION_DT, 
        C_IP, 
        CS_USER_AGENT,
        tab_to_string(CAST(COLLECT(web_link) AS t_varchar2_tab)) WEBLINKS
 from web_views_tab    
 group by C_IP, CS_USER_AGENT, SESSION_DT; 
```

我想创建一个带有 WEBLINKS 和 SESSION_ID 的表，它是另一个表的序列。当我尝试从 VIEW（没有 SESSION_ID 的表）创建表时，出现以下错误，

SQL 错误：ORA-06502：PL/SQL：数字或值错误：字符串缓冲区太小

这与 Weblinks 字段有关，它确实具有更长的值。我现在能做些什么来解决这个错误？

更多关于聚合函数的信息可以在[AskTom中找到](http://www.oracle-base.com/articles/misc/string-aggregation-techniques.php#collect)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-14T16:19:58.907

如果结果大于 4000 字节，则使用 CLOB。

```
SQL> create table web_views_tab(SESSION_ID number, SESSION_DT date, C_IP varchar2(20), CS_USER_AGENT varchar2(10), web_link varchar2(100));

Table created.

SQL> insert into web_views_tab
  2  select rownum, trunc(sysdate), '127.0.0.1', 'Mozilla', 'http://foo.bar.com/asdakjdlkajdlkajsd/asdjaldjklja'
  3  from dual
  4  connect by level <= 3000;

3000 rows created.

SQL> CREATE OR REPLACE TYPE t_varchar2_tab AS TABLE OF VARCHAR2(4000);
  2  /

Type created.

SQL> CREATE OR REPLACE FUNCTION tab_to_string (p_varchar2_tab  IN  t_varchar2_tab,
  2                                            p_delimiter     IN  VARCHAR2 DEFAULT ',') RETURN VARCHAR2 IS
  3    l_string     VARCHAR2(32767);
  4  BEGIN
  5    FOR i IN p_varchar2_tab.FIRST .. p_varchar2_tab.LAST LOOP
  6      IF i != p_varchar2_tab.FIRST THEN
  7        l_string := l_string || p_delimiter;
  8      END IF;
  9      l_string := l_string || p_varchar2_tab(i);
 10    END LOOP;
 11    RETURN l_string;
 12  END tab_to_string;
 13  /

Function created.

SQL> create or replace view FINAL_WEB_LOG
  2   as
  3   select SESSION_DT,
  4          C_IP,
  5          CS_USER_AGENT,
  6          tab_to_string(CAST(COLLECT(web_link) AS t_varchar2_tab)) WEBLINKS
  7   from web_views_tab
  8   group by C_IP, CS_USER_AGENT, SESSION_DT;

View created.

SQL> select * from FINAL_WEB_LOG;
select * from FINAL_WEB_LOG
                          *
ERROR at line 1:
ORA-06502: PL/SQL: numeric or value error: character string buffer too small
ORA-06512: at "TEST.TAB_TO_STRING", line 9
ORA-06512: at line 1 
```

所以我们将函数输出重新定义为 clob 并稍微改变函数：

```
SQL> CREATE OR REPLACE FUNCTION tab_to_string (p_varchar2_tab  IN  t_varchar2_tab,
  2                                            p_delimiter     IN  VARCHAR2 DEFAULT ',') RETURN clob IS
  3    l_string     clob;
  4  BEGIN
  5    dbms_lob.createtemporary(l_string, true, dbms_lob.call);
  6     dbms_lob.open(l_string, dbms_lob.lob_readwrite);
  7    FOR i IN p_varchar2_tab.FIRST .. p_varchar2_tab.LAST LOOP
  8      IF i != p_varchar2_tab.FIRST THEN
  9        dbms_lob.writeappend(l_string, length(p_delimiter), p_delimiter);
 10      END IF;
 11        dbms_lob.writeappend(l_string, length(p_varchar2_tab(i)), p_varchar2_tab(i));
 12    END LOOP;
 13     dbms_lob.close(l_string);
 14    RETURN l_string;
 15  END tab_to_string;
 16  /

Function created.

SQL>
SQL> select * from FINAL_WEB_LOG;

SESSION_D C_IP                 CS_USER_AG
--------- -------------------- ----------
WEBLINKS
--------------------------------------------------------------------------------
14-DEC-12 127.0.0.1            Mozilla
http://foo.bar.com/asdakjdlkajdlkajsd/asdjaldjklja,http://foo.bar.com/asdakjdlka 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-14T05:54:58.473

您的声明现在无效，或者您将列：`C_IP`，`CS_USER_AGENT`按部分分组，例如：

```
create or replace view FINAL_WEB_LOG
 as
 select SESSION_ID, 
        SESSION_DT, 
        C_IP, 
        CS_USER_AGENT,
        tab_to_string(CAST(COLLECT(web_link) AS t_varchar2_tab)) WEBLINKS
 from web_views_tab    
 group by C_IP, CS_USER_AGENT, SESSION_DT, C_IP, CS_USER_AGENT, WEBLINKS; 
```

或者您将这些更改为使用从一组返回一个值的函数，例如 COUNT()、AVG()、MAX()、MIN() 等，例如：

```
create or replace view FINAL_WEB_LOG
 as
 select SESSION_ID, 
        SESSION_DT, 
        COUNT(C_IP), 
        COUNT(CS_USER_AGENT),
        Count(tab_to_string(CAST(COLLECT(web_link) AS t_varchar2_tab))) WEBLINKS
 from web_views_tab    
 group by C_IP, CS_USER_AGENT, SESSION_DT; 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-12-14T05:50:31.730

您不能使用不属于`GROUP BY`子句或聚合函数未涵盖的列。因为不可能知道在这种情况下应该返回哪个值。

如果保证每个组都是唯一的 - 你可以用

```
MIN(SESSION_ID) SESSION_ID 
```

但请记住，这样做不是一个好习惯:-)

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-12-14T05:51:13.413

您不能选择不在按功能分组的字段。您将几个具有不同 session_id 的字段分组。你觉得你可以怎么选？

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-12-14T06:00:49.993

也放入子句`session_id`。`GROUP BY`您应该始终将所有非聚合函数列放在`SELECT`子句中的`GROUP BY`子句中。

# jquery - 使 Primefaces 调度事件在某些条件下可拖动和不可拖动

> ID：13873386
> 
> 赞同：2
> 
> 时间：2012-12-14T05:47:58.063
> 
> 标签：jquery, jsf-2, primefaces, fullcalendar

我正在使用 primefaces p:schedule 组件来显示事件，如此处所示。 [p：时间表](http://www.primefaces.org/showcase-labs/ui/schedule.jsf)

> 如果我们设置属性 draggable="true" 并使用事件 'eventMove'，这些事件可以是可拖动的。
> 
> 我有两种类型的事件，我可以通过使用它们的“标题”来区分它们

我希望 type1 事件是可拖动的，而 type 2 是不可拖动的。

我怎样才能实现它？因为我们提供语法以这种方式成为可拖动事件。

```
<p:schedule value="#{scheduleController.eventModel}" widgetVar="myschedule" draggable="true">  

        <p:ajax event="dateSelect" listener="#{scheduleController.onDateSelect}" update="eventDetails" oncomplete="eventDialog.show()" />  
        <p:ajax event="eventSelect" listener="#{scheduleController.onEventSelect}" update="eventDetails" oncomplete="eventDialog.show()" />  
        <p:ajax event="eventMove" listener="#{scheduleController.onEventMove}" update="messages" />  

    </p:schedule> 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-18T16:03:45.660

您必须深入研究 fullcalendar 插件才能做到这一点。检查这些 SO 问题：

[FullCalendar：如何停止拖动自定义事件？](https://stackoverflow.com/questions/4001377/fullcalendar-how-to-stop-dragging-custom-events)

[如何在全日历中禁用拖放](https://stackoverflow.com/questions/3514689/how-do-i-disable-drag-and-drop-in-fullcalendar)

[http://code.google.com/p/fullcalendar/issues/detail?id=1243](http://code.google.com/p/fullcalendar/issues/detail?id=1243)

[http://arshaw.com/fullcalendar/docs/event_data/Event_Object/](http://arshaw.com/fullcalendar/docs/event_data/Event_Object/)

也许如果您可以在 JSF 服务器退出之前编辑它的响应，请尝试使用过滤器。

当可拖动为 ON 时，事件具有以下一般结构：

注意主 div 的类：

```
<div style="position: absolute; z-index: 8; top: 83px; left: 359px; width: 133.85px; height: 166px;" class="fc-event fc-event-skin fc-event-vert fc-event-draggable fc-corner-top fc-corner-bottom ui-draggable ui-resizable">

<div class="fc-event-inner fc-event-skin">
    <div class="fc-event-head fc-event-skin">
        <div class="fc-event-time">19/12 8:00 - 19/12 10:00</div>
    </div>
    <div class="fc-event-content">
        <div class="fc-event-title">Breakfast at Tiffanys</div>
    </div>
    <div class="fc-event-bg"></div>
</div>
<div class="ui-resizable-handle ui-resizable-s">=</div>
</div>
</div>

<!-- COMMENTED IN ORDER TO KEEP SAME CODE BLOCK -->
<!--When draggable is off, you can see the classes: -->

<div style="position: absolute; z-index: 8; top: 83px; left: 359px; width: 133.85px; height: 166px;" class="fc-event fc-event-skin fc-event-vert fc-corner-top fc-corner-bottom ui-resizable">
<div class="fc-event-inner fc-event-skin">
    <div class="fc-event-head fc-event-skin">
        <div class="fc-event-time">19/12 8:00 - 19/12 10:00</div>
    </div>
    <div class="fc-event-content">
        <div class="fc-event-title">Breakfast at Tiffanys</div>
    </div>
        <div class="fc-event-bg"></div>
    </div>
    <div class="ui-resizable-handle ui-resizable-s">=</div>
</div>
</div> 
```

然后，您需要取消注册您想要的预定事件的 DOM 事件，但是......

安排每次重新渲染，并重新注册事件和类。您几乎无法控制这些项目，因为 primefaces 将数据转发到 jQuery 调度插件。

因此，每次重新渲染时，您都需要将事件标记为不可拖动。

ajax 代码上的 PF 响应是一个 javascript 对象，其中包含插件重新呈现计划所需的数据，所以我认为任何服务器端都不会帮助你。

这是事件拖动的服务器响应：

```
<partial-response>
<changes>
<update id="formNotificacao:j_idt72">{"events" : [{"id": "0df04a40-3477-4564-ae2c-340509acd09e","title": "Champions League Match","start": 1355781614894,"end": 1355792414894,"allDay":false,"editable":true},{"id": "3d1e23ec-3a85-488b-aea4-00fa5f2205da","title": "Birthday Party","start": 1355748300000,"end": 1355766300000,"allDay":false,"editable":true},{"id": "35dec60d-0e7a-431d-aef4-b077616908ab","title": "Breakfast at Tiffanys","start": 1355919300000,"end": 1355926500000,"allDay":false,"editable":true},{"id": "4b6c8d2c-bcf1-444c-a92f-d5a0b60499a1","title": "Plant the new garden stuff","start": 1356022814910,"end": 1356195614910,"allDay":false,"editable":true}]}</update>
<update id="javax.faces.ViewState">-8755441948733966113:8810728330896833649</update>
</changes>
</partial-response> 
```

我认为您必须使用一些 javascript 从您想要的元素中注销事件。但由于它们是从服务器加载的仅包含数据，因此您必须通过名称、日期或其他方式来识别它们。

有关如何取消注册事件的信息，请参阅此问题：[jquery override event](https://stackoverflow.com/questions/1927845/jquery-override-event)

所以路径是：

*   在您的 JSF 页面上放置一些 javascript，这些 javascript 将取消注册所选计划项目的事件。
*   传入这个 javascript 信息，了解它将如何识别不可拖动的 schedule-itens。
*   找出正在监听拖动事件的元素。
*   覆盖拖动事件，使其无法工作，同时不会与其他预定的项目混淆。

* * *

**作为额外的奖励，这里是我测试过的来源：**

您必须将 的可拖动属性绑定`<p:schedule>`到托管 bean 布尔属性，然后使用控件（在下面的示例中，选择布尔复选框：

```
<p:schedule value="#{scheduleController.eventModel}" draggable="#{scheduleController.draggable}" (...) /> 
```

注意与服务器通信的 ajax 标签：

```
<p:selectBooleanCheckbox value="#{scheduleController.draggable}">
<p:ajax update=":formNotificacao:toggleDraggableSchedule"/>
</p:selectBooleanCheckbox> 
```

整个JSF代码：

```
 <h:form id="formNotificacao">

                    <p:growl id="messages" showDetail="true" />
<h:panelGroup id="toggleDraggableSchedule">
                    <p:schedule value="#{scheduleController.eventModel}" draggable="#{scheduleController.draggable}"
                        widgetVar="myschedule" view="agendaWeek" allDaySlot="false"
                        slotMinutes="15" firstHour="7" showWeekends="FALSE"
                        leftHeaderTemplate="prev,next" rightHeaderTemplate=""
                        minTime="7am" maxTime="21pm"
                        timeFormat="dd/MM H:mm{ - dd/MM H:mm}" axisFormat="HH"
                        timeZone="#{rotulo.timeZone}">

                        <p:ajax event="dateSelect"
                            listener="#{scheduleController.onDateSelect}"
                            update="formNotificacao" oncomplete="eventDialog.show()" />
                        <p:ajax event="eventSelect"
                            listener="#{scheduleController.onEventSelect}"
                            update="formNotificacao" oncomplete="eventDialog.show()" />
                        <p:ajax event="eventMove"
                            listener="#{scheduleController.onEventMove}" update="formNotificacao" />
                        <p:ajax event="eventResize"
                            listener="#{scheduleController.onEventResize}" update="formNotificacao" />

                    </p:schedule>
</h:panelGroup>
                    <p:dialog widgetVar="eventDialog" header="Event Details"
                        showEffect="clip" hideEffect="clip">
                        <h:panelGrid id="eventDetails" columns="2">
                            <h:outputLabel for="title" value="Title:" />
                            <p:inputText id="title"
                                value="#{scheduleController.event.title}" required="true" />

                            <h:outputLabel for="from" value="From:" />
                            <p:calendar value="#{scheduleController.event.startDate}" pattern="MM/dd/yyyy HH:mm"  stepMinute="15" />

                            <h:outputLabel for="to" value="To:" />
                            <p:calendar value="#{scheduleController.event.endDate}" pattern="MM/dd/yyyy HH:mm"  stepMinute="15" />

                            <h:outputLabel for="allDay" value="All Day:" />
                            <h:selectBooleanCheckbox id="allDay"
                                value="#{scheduleController.event.allDay}" />

                            <p:commandButton type="reset" value="Reset" />
                            <p:commandButton value="Save"
                                actionListener="#{scheduleController.addEvent}"
                                oncomplete="myschedule.update();eventDialog.hide();" />
                        </h:panelGrid>
                    </p:dialog>

<p:selectBooleanCheckbox value="#{scheduleController.draggable}">
<p:ajax update=":formNotificacao:toggleDraggableSchedule"/>
</p:selectBooleanCheckbox>

                </h:form> 
```

托管bean：

```
import java.text.DateFormat;
import java.util.Calendar;
import java.util.Date;
import java.util.List;
import java.util.TimeZone;

import javax.faces.application.FacesMessage;
import javax.faces.bean.ManagedBean;
import javax.faces.bean.ViewScoped;
import javax.faces.context.FacesContext;
import javax.faces.event.ActionEvent;

import org.primefaces.event.DateSelectEvent;
import org.primefaces.event.ScheduleEntryMoveEvent;
import org.primefaces.event.ScheduleEntryResizeEvent;
import org.primefaces.event.ScheduleEntrySelectEvent;
import org.primefaces.model.DefaultScheduleEvent;
import org.primefaces.model.DefaultScheduleModel;
import org.primefaces.model.ScheduleEvent;
import org.primefaces.model.ScheduleModel;

@ManagedBean
@ViewScoped
public class ScheduleController {

private ScheduleModel eventModel;

private ScheduleEvent event = new DefaultScheduleEvent();

private List<ScheduleEvent> eventos;

private String theme;

private boolean draggable;

public ScheduleController() {

    eventModel = new DefaultScheduleModel();
    eventModel.addEvent(new DefaultScheduleEvent("Champions League Match",
            previousDay8Pm(), previousDay11Pm()));
    eventModel.addEvent(new DefaultScheduleEvent("Birthday Party",
            today1Pm(), today6Pm()));
    eventModel.addEvent(new DefaultScheduleEvent("Breakfast at Tiffanys",
            nextDay9Am(), nextDay11Am()));
    eventModel.addEvent(new DefaultScheduleEvent(
            "Plant the new garden stuff", theDayAfter3Pm(),
            fourDaysLater3pm()));
    setEventos(eventModel.getEvents());

}

private Date fourDaysLater3pm() {
    return getDate(4, 15);
}

private Date theDayAfter3Pm() {
    return getDate(2, 15);
}

private Date nextDay11Am() {
    return getDate(1, 11);
}

private Date nextDay9Am() {
    return getDate(+1, 9);
}

private Date today6Pm() {
    return getDate(0, 18);
}

private Date today1Pm() {
    return getDate(0, 13);
}

private Date previousDay11Pm() {
    return getDate(-1, 23);
}

private Date previousDay8Pm() {
    return getDate(-1, 20);
}

private Date getDate(int deltaDay, int hour) {
    Calendar cal = Calendar.getInstance();

    cal.setTime(new Date());
    cal.set(Calendar.HOUR_OF_DAY, hour);
    cal.set(Calendar.DAY_OF_MONTH, cal.get(Calendar.DAY_OF_MONTH)
            + deltaDay);
    return cal.getTime();
}

public void addEvent(ActionEvent actionEvent) {
    if (event.getId() == null)
        eventModel.addEvent(event);
    else
        eventModel.updateEvent(event);

    event = new DefaultScheduleEvent();
}

public void onEventSelect(ScheduleEntrySelectEvent selectEvent) {
    event = selectEvent.getScheduleEvent();
}

public void onDateSelect(DateSelectEvent selectEvent) {
    event = new DefaultScheduleEvent(Math.random() + "",
            selectEvent.getDate(), selectEvent.getDate());
}

public void onEventMove(ScheduleEntryMoveEvent event) {
    snapToFifteen((DefaultScheduleEvent) event.getScheduleEvent());
    FacesMessage message = new FacesMessage(FacesMessage.SEVERITY_INFO,
            "Event moved", "Day delta:" + event.getDayDelta()
                    + ", Minute delta:" + event.getMinuteDelta());
    addMessage(message);
}

public void onEventResize(ScheduleEntryResizeEvent event) {
    snapToFifteen((DefaultScheduleEvent) event.getScheduleEvent());
    FacesMessage message = new FacesMessage(FacesMessage.SEVERITY_INFO,
            "Event resized", "Day delta:" + event.getDayDelta()
                    + ", Minute delta:" + event.getMinuteDelta());
    addMessage(message);
}

private void snapToFifteen(DefaultScheduleEvent ev) {
    DateFormat sdf = DateFormat.getDateTimeInstance(DateFormat.FULL,
            DateFormat.FULL);
    sdf.setTimeZone(TimeZone.getTimeZone("GMT-3"));
    System.out.println("CALLING SNAP ON event: Start = "
            + sdf.format(ev.getStartDate()) + " End = "
            + sdf.format(ev.getEndDate()));
    Date inicio = fifteenize(ev.getStartDate());
    Date fim = fifteenize(ev.getEndDate());
    ev.setStartDate(inicio);
    ev.setEndDate(fim);
    System.out.println("Snapped: Start = " + sdf.format(ev.getStartDate())
            + " End = " + sdf.format(ev.getEndDate()));
}

private Date fifteenize(Date data) {
    Calendar cal = Calendar.getInstance();
    cal.setTime(data);
    int minutos = cal.get(Calendar.MINUTE);
    int modQuinze = (minutos + 7) / 15;

    cal.set(Calendar.MINUTE, modQuinze * 15);
    cal.set(Calendar.HOUR, cal.get(Calendar.HOUR));
    cal.set(Calendar.SECOND, 0);
    cal.set(Calendar.MILLISECOND, 0);
    return cal.getTime();
}

private void addMessage(FacesMessage message) {
    FacesContext.getCurrentInstance().addMessage(null, message);
}

public ScheduleModel getEventModel() {
    return eventModel;
}

public void setEventModel(ScheduleModel eventModel) {
    this.eventModel = eventModel;
}

public ScheduleEvent getEvent() {
    return event;
}

public void setEvent(ScheduleEvent event) {
    this.event = event;
}

public String getTheme() {
    return theme;
}

public void setTheme(String theme) {
    this.theme = theme;
}

public void setEventos(List<ScheduleEvent> eventos) {
    this.eventos = eventos;
}

public List<ScheduleEvent> getEventos() {
    return eventos;
}

public void setDraggable(boolean draggable) {
    this.draggable = draggable;
}

public boolean isDraggable() {
    return draggable;
}

} 
```

如果您仔细观察托管 bean，它与 primefaces 展示示例相比还有一些其他变化，例如，所有事件都被捕捉到 15 分钟的间隔，以及其他内容。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-04-29T15:44:45.407

我是怎么做到的：

```
public class MyScheduleEvent extends DefaultScheduleEvent {
    public MyScheduleEvent(MyEntity myEntity) {
        super(....)
        this.setEditable(myEntity.isEditable());
    }
} 
```

我使用惰性模型，但这适用于默认模型。这项工作符合预期。使用 PrimeFaces 4.11

# django - 模型未显示在管理界面中

> ID：13873396
> 
> 赞同：2
> 
> 时间：2012-12-14T05:49:27.367
> 
> 标签：django, django-admin

即使在`django-admin.py`使用`admin.site.register(topic)`.

我已经注册了一个模型类主题，但它只是没有出现在界面中。相反，我在*auth*部分获取组和用户，在*sites*部分获取站点。

以下是我目前拥有的代码。任何帮助，将不胜感激。

**模型.py**

```
class topic(models.Model): 
    topic_name = models.CharField(max_length=30)
    description=models.CharField(max_length=255,null=True, blank = True)

class Admin: 
    pass 
    def str__(self):
    return '%s''--' %(self.topic_name) 
```

**管理员.py**

```
from django.contrib import admin
from edc.kds.models import * 

if __name == "main": 
    management.execute_from_command_line() 
    admin.site.register(topic) 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-14T06:04:53.073

```
# urls.py
from django.conf.urls import patterns, url, include
from django.contrib import admin

admin.autodiscover()

urlpatterns = patterns('',
    (r'^admin/', include(admin.site.urls)),
) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-14T06:18:24.680

你在做一些奇怪的事情。

`class Admin`1：您有一些不必要的古老语法。

2：你`if __name`那里有一个奇怪的方块。显然这应该引发 a `NameError`，但假设你真的写了`__name__ == 'main'`，那就是你的问题。

`__name__``'main'`仅当文件被直接执行时才设置为。如果它由 django 机器执行，则 if 块将永远不会触发，因此`admin.site.register`永远不会被调用。

你从哪里得到这个主意的？

# c# - 停止自动页面刷新

> ID：13873397
> 
> 赞同：1
> 
> 时间：2012-12-14T05:49:41.980
> 
> 标签：c#, asp.net

我使用下面的代码通过 VS2010 中的 AJAX 工具每 60 秒自动刷新一次页面。完美运行。

```
<asp:MultiView ID="MultiView1" runat="server">
  <asp:View ID="View1" runat="server">
    <asp:UpdatePanel ID="UpdatePanel1" runat="server" ViewStateMode="Enabled" UpdateMode="Conditional">
      <ContentTemplate>
         ASP.NET/HTML Code
             <p>
             <asp:Button ID="Button2" runat="server" Text="Click here" OnClick="Button2_Click" /> to disable the pages automatic refresh.</p>
      </ContentTemplate>
      <Triggers>
         <asp:AsyncPostBackTrigger ControlID="Timer1" EventName="Tick" />
      </Triggers>
    </asp:UpdatePanel>
    <asp:Timer ID="Timer1" runat="server" Interval="60000">
    </asp:Timer>
  </asp:View>
  <asp:View ID="View2" runat="server">
  etc.
</asp:MultiView> 
```

我想在 asp.net 页面上包含一个按钮来取消自动刷新。

我试图包括以下内容，但是当我单击该按钮时，它不起作用。下面是按钮的 OnClick 事件的代码。asp.net 代码在上面的代码中。

```
protected void Button2_Click(object sender, EventArgs e)
{
     Timer1.Interval = 0;
} 
```

我哪里错了？这甚至是一种方法，还是我需要走另一条路线才能让用户取消自动页面刷新？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-14T06:03:19.340

感谢[PeterJ](https://stackoverflow.com/users/1599751/peterj)，我找到了解决方案。我修改了代码，因为我点击了它，所以页面没有刷新。问题在于我为按钮 OnClick 事件提供的代码。我有：

```
Timer1.Interval = 0; 
```

当我应该有的时候：

```
Timer1.Enabled = false; 
```

# asp.net - 如何在asp.net mvc中完成会话状态超时时重定向到登录页面

> ID：13873398
> 
> 赞同：27
> 
> 时间：2012-12-14T05:49:47.547
> 
> 标签：asp.net, asp.net-mvc, asp.net-mvc-4

我有一个 ASP.NET MVC4 应用程序，我在其中实现 sessionTimeout，例如：

```
<configuration>
  <system.web>
    <sessionState timeout="2"></sessionState>
  </system.web>
</configuration> 
```

在身份验证中：

```
<configuration>
  <system.web>
    <authentication mode="Forms">
      <forms loginUrl="~/Account/LogOn" timeout="1" />
    </authentication>
  </system.web>
</configuration> 
```

会话过期（2 分钟）后，我需要重定向到登录页面，但不会发生重定向。

如何更改代码以使其重定向？

* * *

## 回答 #1

> 赞同：33
> 
> 时间：2012-12-14T07:03:34.040

一种方法是在会话过期的情况下，在每个操作中您都必须检查其会话，如果它为空，则重定向到登录页面。

**但这是非常忙碌的方法** 要克服这个问题，您需要创建自己的方法`ActionFilterAttribute`来执行此操作，您只需在每个操作方法中添加此属性。

这是覆盖 ActionFilterAttribute 的类。

```
public class SessionExpireFilterAttribute : ActionFilterAttribute
    {
        public override void OnActionExecuting(ActionExecutingContext filterContext)
        {
            HttpContext ctx = HttpContext.Current;

            // check if session is supported
            CurrentCustomer objCurrentCustomer = new CurrentCustomer();
            objCurrentCustomer = ((CurrentCustomer)SessionStore.GetSessionValue(SessionStore.Customer));
            if (objCurrentCustomer == null)
            {
                // check if a new session id was generated
                filterContext.Result = new RedirectResult("~/Users/Login");
                return;
            }

            base.OnActionExecuting(filterContext);
        }
    } 
```

然后在行动中添加这个属性，如下所示：

```
[SessionExpire]
public ActionResult Index()
{
     return Index();
} 
```

这会让你工作。

* * *

## 回答 #2

> 赞同：31
> 
> 时间：2015-09-16T12:30:30.303

我发现在 MVC 中会话结束时重定向登录页面的非常简单的方法。我已经对其进行了测试，并且可以正常工作。

简而言之，我在 _Layout 1 分钟前捕获会话结束并进行重定向。

我试图一步一步地解释一切。

如果我们想在 30 分钟后结束会话并重定向到 loginPage，请参见以下步骤：

1.  像这样更改网络配置（设置为 31 分钟）：

    ```
     <system.web>
        <sessionState timeout="31"></sessionState>
     </system.web> 
    ```

2.  添加此 JavaScript `_Layout`（当会话在此代码重定向前 1 分钟结束时，它会在用户最后一次操作后计算时间，而不是第一次访问网站）

    ```
    <script>
        //session end 
        var sessionTimeoutWarning = @Session.Timeout- 1;

        var sTimeout = parseInt(sessionTimeoutWarning) * 60 * 1000;
        setTimeout('SessionEnd()', sTimeout);

        function SessionEnd() {
            window.location = "/Account/LogOff";
        }
    </script> 
    ```

3.  这是我的 LogOff Action，它只使 LogOff 和重定向 LoginIn 页面

    ```
    public ActionResult LogOff()
    {
        Session["User"] = null; //it's my session variable
        Session.Clear();
        Session.Abandon();
        FormsAuthentication.SignOut(); //you write this when you use FormsAuthentication
        return RedirectToAction("Login", "Account");
    } 
    ```

我希望这对您来说是一个非常有用的代码。

* * *

## 回答 #3

> 赞同：6
> 
> 时间：2013-09-27T10:54:33.113

**有一个通用的解决方案：**

假设您有一个名为 Admin 的控制器，您可以在其中放置授权用户的内容。

然后，您可以覆盖**Admin 控制器的****`Initialize`or`OnAuthorization`**方法，并在这些方法中在会话超时时将重定向写入登录页面逻辑，如下所述：

```
protected override void OnAuthorization(System.Web.Mvc.AuthorizationContext filterContext)
    {
        //lets say you set session value to a positive integer
        AdminLoginType = Convert.ToInt32(filterContext.HttpContext.Session["AdminLoginType"]);
        if (AdminLoginType == 0)
        {
            filterContext.HttpContext.Response.Redirect("~/login");
        }

        base.OnAuthorization(filterContext);
    } 
```

# ruby-on-rails - 在服务器上存储环境变量

> ID：13873399
> 
> 赞同：2
> 
> 时间：2012-12-14T05:49:57.677
> 
> 标签：ruby-on-rails, unix, web-applications

我通常`~/.bashrc`在我的开发机器中使用为 rails 应用程序存储 facebook/twitter/etc api-key 并像`ENV["KEY"]`.

在生产模式下（比如在 VPS 服务器上）存储这些密钥有什么好的做法吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-14T12:32:14.040

Railscasts 的 Ryan Bates 做了一个很棒的截屏视频，将令牌和密码保存在 YAML 文件中，而不是你的 repo。

[http://railscasts.com/episodes/85-yaml-configuration-revised](http://railscasts.com/episodes/85-yaml-configuration-revised)

**更新：**阅读您的问题后，我不确定这是否相关，因为这更适用于您的本地开发环境。

# php - 登录表单，如果已连接或未连接

> ID：13873404
> 
> 赞同：-3
> 
> 时间：2012-12-14T05:50:52.210
> 
> 标签：php, forms, login

我正在使用本网站的登录表单[http://www.html-form-guide.com/php-form/php-login-form.html](http://www.html-form-guide.com/php-form/php-login-form.html)，我想显示：

```
If you are connected, display Welcome ["name"]
Else if you are not, display Sign Up, Login. 
```

我尝试了不同的方法，但它不起作用。请问你能帮帮我吗。非常感谢，问候。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-14T06:00:01.227

除了 Mr.Alien 的回答，使用[SESSION](http://php.net/manual/en/book.session.php)功能来做到这一点。

放入`user_id`会话，如果会话已设置，则显示欢迎消息，显示注册 | 如果未设置会话，请登录。

```
$_SESSION['user_id']; 

if(isset($_SESSION['user'])) {

  echo 'Welcome <username>';
}else{
  echo 'Sign Up';
} 
```

# sql - 转换选定表的其中一列的日期

> ID：13873405
> 
> 赞同：0
> 
> 时间：2012-12-14T05:50:55.037
> 
> 标签：sql, date, select

我似乎无法做到这一点。我目前正在尝试将其中一列转换为不同的日期格式，但我的代码不起作用。

TrackingNumbers.ShipDate 的当前格式是“MM/DD/YYYY hh:mm:ss AM/PM”，我正在尝试将其转换为“yyyy-mm-dd”。

```
SELECT TOP 500 -- Selects the first 500 records for a smaller file
    Orders.PONum AS 'order-id',
    TrackingNumbers.TrackingNumber AS 'tracking-number',
    TrackingNumbers.Gateway AS 'carrier-code',
    CONVERT(VARCHAR(10), TrackingNumbers.ShipDate, 120) AS 'ship-date', 
            -- The date format is currently "MM/DD/YYYY  hh:mm:ss AM/PM"
            -- It needs to be yyyy-mm-dd
    CASE TrackingNumbers.ShippingMethodID   -- Converts the shipping Methods so customers can understand them
        WHEN '900' THEN 'USPS Priority (2-14 days)'
        WHEN '103' THEN 'UPS 2nd Day Air'
        WHEN '108' THEN 'UPS Ground'
        WHEN '112' THEN 'UPS Worldwide Expedited'
        WHEN '214' THEN 'USPS Express Mail Intl'
        WHEN '220' THEN 'USPS Priority (2-14 days)'
        WHEN '505' THEN 'UPS Next Day Air Saver'
        WHEN '207' THEN 'USPS First ClASs (7-30 Days)'
        WHEN '222' THEN 'USPS Express Mail Envelope'
        WHEN '102' THEN 'UPS Next Day Air'
        WHEN '217' THEN 'USPS Priority Mail International'
        WHEN '107' THEN 'UPS 3 Day Select'
    END AS 'ship-method'
FROM
    TrackingNumbers, -- Selects two different tables
    Orders  
WHERE 
    Orders.OrderID = TrackingNumbers.OrderID -- Merges Orders with tracking numbers
    AND 
    Orders.PONum<>'' -- Only grabs orders with a PO number
Order By 
    TrackingNumbers.ShipDate Desc -- Sorts by descending ship date of the package (order ship date can be different) 
```

第 5 行是问题所在。它应该如何格式化？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-14T06:22:20.090

从[CAST 和 CONVERT (Transact-SQL)](http://msdn.microsoft.com/en-us/library/ms187928.aspx)来看，CONVERT 函数中的 ANSI 样式 (yyyy-mm-dd) 似乎是 102 样式，而不是 120，除非我弄错了。

怎么样：

```
REPLACE(CONVERT(VARCHAR(10), TrackingNumbers.ShipDate, 102), '.', '-') AS 'ship-date' 
```

# php - 动态表行将变量传递给 jQuery 模态

> ID：13873406
> 
> 赞同：0
> 
> 时间：2012-12-14T05:50:57.107
> 
> 标签：php, jquery

我有一个通过 PHP 创建的动态表行，如下所示：

```
 while($carrier = mysql_fetch_array($selcomp)){
                $carrier1 = $carrier['carname'];
            }
            ?>
            <tr ><td><a class='activate_modal' name='<?php echo $leadlist['ID'];?>' href="#"><input id="soft-quote" type="button" value="Soft Quote" class="searchbutton" /></a></td></tr>
            <?
         } 
```

我需要以某种方式通过

```
 name='<?php echo $leadlist['ID'];?>' 
```

通过对话框打开

```
 $( "#dialog-form" ).dialog({
        autoOpen: false,
        height: 300,
        width: 350,
        modal: true,
        buttons: {
            "Complete Soft Quote": function() {
                var bValid = true;
                allFields.removeClass( "ui-state-error" );

                if ( bValid ) {
                          // call to some ajax.
                    $( this ).dialog( "close" );
                }
            },
            Cancel: function() {
                $( this ).dialog( "close" );
            }
        },
        close: function() {
            allFields.val( "" ).removeClass( "ui-state-error" );
        }
    });

        $('.activate_modal').click(function(){

            var rowid = $(this).attr('name');

            $( "#dialog-form" ).dialog( "open" );

        }); 
```

无论是形式：

```
<div id="dialog-form" title="Create Soft Quote">
<p class="validateTips">All form fields are required.</p>

<form>
<fieldset>
    <label for="payroll">Payroll</label>
    <div id="yourelement"></div>
    <input type="text" name="name" id="name" class="text ui-widget-content ui-corner-all" />
    <label for="email">Email</label>
    <input type="text" name="email" id="email" value="" class="text ui-widget-content ui-corner-all" />
    <label for="taxid">Federal Tax ID</label>
    <input type="text" name="taxid" id="taxid" value="" class="text ui-widget-content ui-corner-all" />
</fieldset>
</form> 
```

或者直接jquery函数。有什么建议么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-14T06:11:54.000

试试这个。

```
$('.activate_modal').click(function(){
   var rowid = $(this).attr('name');
   alert(rowid);
   $('#taxid').after('<input type="hidden" name="rowid" id="rowid" value="'+rowid+'" />');   
   $('#dialog-form').dialog('open');
}); 
```

# android - Android如何以编程方式设置窗口动画

> ID：13873412
> 
> 赞同：5
> 
> 时间：2012-12-14T05:51:36.753
> 
> 标签：android, animation

我可以使用xml设置动画做对话框，如下所示

```
Dialog myDialog;
        myDialog.getWindow().setWindowAnimations(R.style.Animations_sample); 
```

如何将编程创建的动画添加到对话框？
我的意思是我创建了如下动画

```
 AnimationSet animationSet = new AnimationSet(true);

        TranslateAnimation a = new TranslateAnimation(
                Animation.ABSOLUTE,200, Animation.ABSOLUTE,200,
                Animation.ABSOLUTE,200, Animation.ABSOLUTE,200);
        a.setDuration(1000);
        animationSet.addAnimation(a); 
```

我该如何`animationSet`设置`myDialog`？

谢谢你的建议。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-12T20:08:05.493

根据谷歌：

窗口动画

定义用于此窗口的动画的样式资源。这必须是系统资源；它不能是应用程序资源，因为窗口管理器无权访问应用程序。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-01-11T16:45:51.277

这必须是系统资源 - 不正确。如果在设备中启用 WINDOW_ANIMATION_SCALE 或 TRANSITION_ANIMATION_SCALE，您可以使用应用动画资源。

# javascript - HTML/CSS/Javascript，试图让图像在点击时改变

> ID：13873414
> 
> 赞同：0
> 
> 时间：2012-12-14T05:51:50.523
> 
> 标签：javascript, html, css, web

一个很简单的问题，但它整个星期都在困扰着我！

首先，我不希望有人给我写这么大的代码，然后我把它拿走并为我自己的。希望有人真正帮我写这个:)

我正在尝试在我的网站上将播放列表显示为 png 图像。我有 2 个必须显示的播放列表。播放列表将在图像印刷机上改变。

我有 4 个按钮图像，“CD1up”、“CD1down”、“CD2up”和“CD2down”。

我想让这些按钮改变当前显示的播放列表，但也显示按钮的正确状态。例如，播放列表 1 是否正在显示，则必须显示“CD1up”，并显示“CD2down”。

我会在这里发布我当前的代码，但我基本上放弃了它并决定从头开始，因为我对 web javascript 很糟糕。

非常感谢所有帮助！

我基本上可以流利地使用 HTML 和 CSS，但在 web javascript 方面却很糟糕。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-12-14T05:58:38.823

一些注意事项：

*   如果为每个图像赋予一个`id`属性，则可以`document.getElementById`在页面加载后使用它来获取对该元素的引用。

*   然后，您可以`src`将该元素上的属性设置为新 URL 以更改图像。

*   确保您的`script`标签位于 HTML 中的元素*之后*（就在结束`</body>`工作之前），以便元素在您需要时存在。

*   您可以将`click`事件处理程序添加到页面上的任何元素。大多数浏览器都支持`addEventListener`，但一些旧版本的 IE 仍然需要您使用`attachEvent`来连接处理程序。因此，您会看到具有如下功能的人：

    ```
    function hookEvent(element, eventName, handler) {
        if (element.addEventListener) {
            element.addEventListener(eventName, handler, false);
        }
        else if (element.attachEvent) {
            element.attachEvent("on" + eventName, handler);
        }
        else {
            element["on" + eventName] = function(event) {
                return handler.call(this, event || window.event);
            };
        }
    } 
    ```

例如，如果你有这个`img`：

```
<img id="myImage" src="/path/to/img.png"> 
```

这会在点击时循环显示四个图像：

```
<!-- This must be AFTER the `img` above in the HTML,
     just before your closing /body tag is good -->
<script>
(function() {
    var myImage = document.getElementById("myImage"),
        images = [
            "/path/to/img1.png",
            "/path/to/img2.png",
            "/path/to/img3.png",
            "/path/to/img4.png"
        ],
        index = -1;

    hookEvent(myImage, "click", imageClick);

    function imageClick() {
        ++index;
        if (index >= images.length) {
            index = 0;
        }
        myImage.src = images[index];
    }
})();
</script> 
```

[您可以使用像jQuery](http://jquery.com)、[YUI](http://developer.yahoo.com/yui/)、[Closure](http://code.google.com/closure/library)或[其他任何](http://en.wikipedia.org/wiki/List_of_JavaScript_libraries)一个像样的库来获得*许多*实用程序功能并消除浏览器差异，尽管如果**您**只想在页面上做的只是有时更改图像并处理单击或二，这可能是矫枉过正。

# android - 在按钮上调用选定状态会使文本消失

> ID：13873420
> 
> 赞同：0
> 
> 时间：2012-12-14T05:52:35.177
> 
> 标签：android, button, android-drawable

我有一个具有选定状态的简单选择器，因此我可以在我的 Button 上 setSelected(true) 并显示它被选中。我正在创建一个 ActionBar 类型的东西。它在某些 android 设备（nexus 平板电脑）（v4.1.2）上运行良好，但在三星 Galaxy S2（v2.3.6）上，当我调用 setSelected(true) 状态时，它会隐藏按钮的文本。任何人都知道为什么会发生这种情况？

我的 *button_tab_selected* 和 *button_tab* png 图像资源都是 47x47 9 补丁。

**drawable_tabcontrolbutton.xml**

```
<?xml version="1.0" encoding="utf-8"?>
<selector xmlns:android="http://schemas.android.com/apk/res/android">
    <item android:drawable="@drawable/button_tab_selected" android:state_selected="true"/>
    <item android:drawable="@drawable/button_tab"/>
</selector> 
```

**布局代码**

```
<Button
    android:id="@+id/button_draws"
    android:layout_width="wrap_content"
    android:layout_height="fill_parent"
    android:layout_weight="1"
    android:background="@drawable/drawable_tabcontrolbutton"
    android:padding="0dp"
    android:text="DRAWS"
    android:textSize="18sp" />

<Button
    android:id="@+id/button_results"
    android:layout_width="wrap_content"
    android:layout_height="fill_parent"
    android:layout_weight="1"
    android:background="@drawable/drawable_tabcontrolbutton"
    android:padding="0dp"
    android:text="RESULTS"
    android:textSize="18sp" /> 
```

**Java 代码**

```
 final Button button_draws = (Button) findViewById(com.tattsbet.android.R.id.button_draws);
    button_draws.setSelected(true);
    final Button button_results = (Button) findViewById(com.tattsbet.android.R.id.button_results);

    button_draws.setOnClickListener(new OnClickListener()
    {

        @Override
        public void onClick(View v)
        {
            button_draws.setSelected(true);
            button_results.setSelected(false);
            drawsSelected();
        }
    });
    button_results.setOnClickListener(new OnClickListener()
    {

        @Override
        public void onClick(View v)
        {
            button_results.setSelected(true);
            button_draws.setSelected(false);
            resultsSelected();
        }
    }); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-17T08:40:54.420

这可能是按钮样式问题。您应该使用 xml 中的 textColor 属性来定义准确的颜色。白色背景/白色文本可能是原因。风格可以是不同的手机，不同的版本。

最好明确定义所有样式属性以避免此类问题。

# jquery - 将数据集结果附加到具有特定要求的 div

> ID：13873421
> 
> 赞同：0
> 
> 时间：2012-12-14T05:52:35.973
> 
> 标签：jquery, web-services, html, dataset, photoswipe

我目前正在尝试将 jQuery 的“PhotoSwipe”合并到我的应用程序中，其中包含通过 POST 从数据库中提取到我的 web 服务的图像，以及一些序列化魔法。

我对 jQuery 还是有点陌生​​，但我已经考虑得很远了。

我还没有弄清楚如何在这个网站上正确使用代码，所以这里是有问题的代码的 pastebin：

[http://pastebin.com/avSXDDgK](http://pastebin.com/avSXDDgK)

基本上它所做的是梳理我的数据集，找到包含在图像标签中的任何内容并将其拉入变量中。它确实如此。

我要做的是结合这些信息，最终形成类似这样的东西：

`<a href="C:/images/full/001.jpg" rel="external"><img src="C:/images/thumb/001.jpg" alt="Image 001" /></a>`

所以我需要有人向我展示或指出正确的方向来解决问题。

目前所有的警报都对我有用，但 div 实际上没有发生任何事情。

谢谢你的帮助！

编辑：这是一个 XML 示例，从中提取我的图像 url

[http://pastebin.com/nnvdKgqV](http://pastebin.com/nnvdKgqV)

...这里是 PhotoSwipe 的链接，他们说在标签中使用 rel="external"

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-14T06:40:34.817

$(data).find('Table').each(function(){ var tableData1 = $(this); // 'this'，在你的例子中，指的是表数据

```
var image = $(tableData1).find('image').text();
var imagepath = 'C:/inetpub/wwwroot/' + image + '" </img>' ;

var i = '<img src="' +imagepath+ '</img>' ;
$('#gallery2').append(i)
alert(imagepath);

});

}); 
```

感谢@Crab 通过#jQuery IRC

# mysql - 如何更新包含逗号分隔值的表行？

> ID：13873422
> 
> 赞同：2
> 
> 时间：2012-12-14T05:52:36.410
> 
> 标签：mysql

我有 2 张桌子，第 1 张桌子包含姓名、电子邮件、vegetable_Fruits 和饮料

```
CREATE TABLE Likes
(
Name varchar(20),
email varchar(20),
Vegetables_Fruits varchar(20),
Drinks varchar(20)
) 
```

我正在存储喜欢蔬菜、水果和饮料的人的姓名和电子邮件如果一个人喜欢蔬菜，一个人可以有任何一个值，我会将表格更新为

```
name email 1 0 
```

如果一个人喜欢水果，那么

```
name email 2 0 
```

如果一个人喜欢喝酒

```
name email 0 1 
```

插入查询

```
INSERT INTO Likes(Name,email,Vegetables_Fruits,Drinks)
     VALUES("aaa","aaa@example.com",1,0),("bbb","bbb@example.com",2,0),("ccc","cc@example.com",0,1),("ddd","dd@example.com",2,0),("eee","ee@example.com",2,0),("fff","ff@example.com",1,0),("ggg","gg@example.com",0,1),("hhh","hh@example.com",0,1) 
```

我有另一个包含电子邮件列表的表

```
CREATE TABLE emailList
(
Likes_Vegetables varchar(50),
Likes_Fruits varchar(50),
Drinks varchar(50)
) 
```

插入查询

```
INSERT INTO emailList(Likes_Vegetables,Likes_Fruits,Drinks)
       VALUES("aaa@example.com,ff@example.com","bbb@example.com,dd@example.com,'ee@example.com'","hh@example.com,gg@example.com,cc@example.com") 
```

我想根据第一个表（喜欢）的值更新第二个表（emailList）这个查询是什么

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-14T06:24:04.483

```
update emailList 
set 
Likes_vegetables=(select Group_concat(email) from LIKES where Vegetables_Fruits=1),
Likes_Fruits=(select Group_concat(email) from LIKES where Vegetables_Fruits=2),
Drinks=(select Group_concat(email) from LIKES where Drinks=1) 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-14T05:57:53.987

我想你在搜索`group_concat`，也许这样的查询

```
INSERT INTO emailList(Likes_Vegetables,Likes_Fruits,Drinks)
      values ( (SELECT GROUP_CONCAT(email) FROM Likes WHERE Vegetables_Fruits=1) , (SELECT GROUP_CONCAT(email) FROM Likes WHERE Vegetables_Fruits=2) , (SELECT GROUP_CONCAT(email) FROM Likes WHERE Vegetables_Fruits=0) ) 
```

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2012-12-14T06:18:51.953

我猜这将解决您的问题-

> 更新 emailList 设置 Likes_Vegetables = concat(Likes_Vegetables,"aaa@example.com"), Likes_Fruits = concat (Likes_Fruits, "ee@example.com"), Drinks = concat (Drinks, "cc@example.com");

# mysql - 检查 SQL 更新

> ID：13873425
> 
> 赞同：-1
> 
> 时间：2012-12-14T05:53:25.447
> 
> 标签：mysql, vb.net, sql-update

有人可以帮我在编辑后如何检查我的数据库是否已经更新，这是我的代码..我的代码只是为了进行编辑，然后在数据库上更新它，我不知道如何检查更新是否发生..

```
Dim dT As DataTable = MyDB.ExecCommand("SELECT `Field Name` FROM `tblfield` ORDER BY `Field Order`", "wellsfargo").Tables(0)

            For i As Integer = 1 To flp.Controls.Count - 1
                Application.DoEvents()
                Dim xHead As uHead = DirectCast(flp.Controls(0), uHead)
                Dim xCont As uControl = DirectCast(flp.Controls(i), uControl)
                Dim sSQL As String = ""

                Dim dZ As DataTable = MyDB.ExecCommand("SELECT * FROM `" + MyJob + "` WHERE `Record Number`='" + rNum + _
                                                       "' AND `Line Number`='" + xCont.lblLine.Text.Trim.Replace("'", "\'") + "'", "wellsfargo").Tables(0)

                If dZ.Rows.Count <> 0 Then
                    sSQL = "UPDATE `" & MyJob & "` SET "
                    sSQL = sSQL + "`Orig Document Begin ID`='" + xHead.txtOrigBegDoc.Text.Trim + "'"
                    sSQL = sSQL + ",`Orig Document End ID`='" + xHead.txtOrigEndDoc.Text.Trim + "'"
                    sSQL = sSQL + ",`Beg Doc`='" + xHead.txtBegDoc.Text.Trim + "'"
                    sSQL = sSQL + ",`End Doc`='" + xHead.txtEndDoc.Text.Trim + "'"
                    sSQL = sSQL + ",`Loan Number`='" + xHead.txtLoan.Text.Trim + "'"
                    sSQL = sSQL + ",`Page Count`='" + xHead.txtPage.Text.Trim + "'"
                    sSQL = sSQL + ",`Path`='" + xHead.txtPath.Text.Trim + "'"
                    sSQL = sSQL + ",`File Number`='" + xHead.txtFileNumber.Text.Trim + "'"
                    sSQL = sSQL + ",`Settlement`='" + xHead.txtDate.Text.Trim + "'"
                    sSQL = sSQL + ",`Long and Foster`='" + xHead.txtLaF.Text.Trim + "'"
                    sSQL = sSQL + ",`Comment`='" + xHead.txtComm.Text.Trim + "'"
                    sSQL = sSQL + ",`Description`='" + xCont.cboDesc.Text.Trim.Replace("'", "\'") + "'"
                    sSQL = sSQL + ",`Amount`='" + xCont.txtAmount.Text.Trim.Replace("'", "\'") + "'"
                    sSQL = sSQL + ",`Payee`='" + xCont.txtPayee.Text.Trim.Replace("'", "\'") + "'"
                    sSQL = sSQL + ",`Borrower`='" + xCont.txtBorrower.Text.Trim.Replace("'", "\'") + "'"
                    sSQL = sSQL + ",`Seller`='" + xCont.txtSeller.Text.Trim.Replace("'", "\'") + "'"
                    sSQL = sSQL + ",`Prosperity Borrower`='" + xCont.txtPBorrower.Text.Trim.Replace("'", "\'") + "'"
                    sSQL = sSQL + ",`Prosperity Seller`='" + xCont.txtPSeller.Text.Trim.Replace("'", "\'") + "'"
                    sSQL = sSQL & " WHERE `Record Number` = '" & rNum & _
                                  "' AND `Line Number`='" + xCont.lblLine.Text.Trim.Replace("'", "\'") + "'"
                    MyDB.ExecQuery(sSQL, "wellsfargo")
                Else
                    Dim sColumn As String = ""

                    For z As Integer = 0 To dT.Rows.Count - 1
                        If z = 0 Then
                            sColumn = "`" & dT.Rows(z).Item(0).ToString & "`"
                        Else
                            sColumn = sColumn & ",`" & dT.Rows(z).Item(0).ToString & "`"
                        End If
                    Next
                    sSQL = "INSERT INTO `" + MyJob + "` (" + sColumn + ") VALUES (" + _
                    "'" + rNum + "'," + _
                    "'" + xHead.txtOrigBegDoc.Text.Trim.Replace("'", "\'") + "'," + _
                    "'" + xHead.txtOrigEndDoc.Text.Trim.Replace("'", "\'") + "'," + _
                    "'" + xHead.txtBegDoc.Text.Trim.Replace("'", "\'") + "'," + _
                    "'" + xHead.txtEndDoc.Text.Trim.Replace("'", "\'") + "'," + _
                    "'" + xHead.txtLoan.Text.Trim.Replace("'", "\'") + "'," + _
                    "'" + xHead.txtPage.Text.Trim.Replace("'", "\'") + "'," + _
                    "'" + xHead.txtPath.Text.Trim.Replace("'", "\'") + "'," + _
                    "'" + xHead.txtFileNumber.Text.Trim.Replace("'", "\'") + "'," + _
                    "'" + xHead.txtDate.Text.Trim.Replace("'", "\'") + "'," + _
                    "'" + xHead.txtLaF.Text.Trim.Replace("'", "\'") + "'," + _
                    "'" + xHead.txtComm.Text.Trim.Replace("'", "\'") + "'," + _
                    "'" + xCont.lblLine.Text.Trim.Replace("'", "\'") + "'," + _
                    "'" + xCont.cboDesc.Text.Trim.Replace("'", "\'") + "'," + _
                    "'" + xCont.txtAmount.Text.Trim.Replace("'", "\'") + "'," + _
                    "'" + xCont.txtPayee.Text.Trim.Replace("'", "\'") + "'," + _
                    "'" + xCont.txtBorrower.Text.Trim.Replace("'", "\'") + "'," + _
                    "'" + xCont.txtSeller.Text.Trim.Replace("'", "\'") + "'," + _
                    "'" + xCont.txtPBorrower.Text.Trim.Replace("'", "\'") + "'," + _
                    "'" + xCont.txtPSeller.Text.Trim.Replace("'", "\'") + "')"
                    MyDB.ExecQuery(sSQL, "wellsfargo")
                End If

            Next
 MsgBox("Record successfully modified!", MsgBoxStyle.Information, Me.Text) 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-14T08:34:16.863

通常检查没有太大意义 - 如果出现问题，将引发异常。您可以将其包装到存储过程中并检查 @@rowcount 变量。或者真的只是做出新的选择来读取变化的数据。

# python - 如何制作一个简单的 Python 分支，如果找到需求则停止？

> ID：13873429
> 
> 赞同：1
> 
> 时间：2012-12-14T05:54:02.107
> 
> 标签：python, python-3.x

我的代码是：

```
varA = 5
varB = 'dog'
if type(varB) == 'string':
    print("string involved")
elif type(varA) == 'string':
    print("string involved")
else:
    if varA > varB:
        print("bigger")
    elif varA == varB:
        print("equal")
    elif varA < varB:
        print("smaller") 
```

我在第 8 行收到错误。如果代码已经满足 if(line3) 或 elif(line5) 的要求，我希望代码不要对第 7 行 else 语句做出反应！

另外，如何使用 'or' 方法来加入 if(line3) 和 elif(line5) 语句？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-12-14T05:58:11.917

尝试使用`isinstance`检查`type`：

```
varA = 5
varB = 'dog'
if isinstance(varA, str) or isinstance(varB, str):
    print("string involved")
else:
    if varA > varB:
        print("bigger")
    elif varA == varB:
        print("equal")
    else:
        print("smaller") 
```

在这里，您正在检查变量是否属于该`str`类型，如果其中任何一个是，您就知道涉及到一个字符串，因此不会执行`else`代码。

可以通过基本上将`or`两个条件组合成一行来完成，如示例中所示。这不是一个大问题，另一种模拟`or`语句的方法是使用`any`，它检查是否有任何条件`True`，如果是则执行：

```
if any((isinstance(varA, str), isinstance(varB, str))):
    # Code... 
```

`or`当您拥有大型数据结构并需要进行类似比较时，这会派上用场。`and`等效的是，`all`它具有相同的语法，只是使用`all`而不是`any`：

```
if all((isinstance(varA, str), isinstance(varB, str))):
    # This code will evaluate if all values are strings 
```

如果你有一堆检查并且厌倦了打字`isinstance`，你可以通过将 a`generator`与`any`or结合使用来进一步捆绑该部分`all`：

```
if any(isinstance(x, str) for x in (varA, varB)):
    # Code 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-14T05:57:30.553

发生的事情是`type()`返回一个类型对象，而不是字符串，因此您正在`type(varB) = <type 'str'>`与实际的 string进行比较`string`，它们并不相同。

然后你比较`5`和一个字符串，它会抛出一个错误，因为没有办法比较它们。

[这个 SO question](https://stackoverflow.com/questions/152580/whats-the-canonical-way-to-check-for-type-in-python)详细解释了一堆检查类型的不同方法。

# node.js - 在猫鼬中跨整个应用程序共享数据库连接

> ID：13873430
> 
> 赞同：2
> 
> 时间：2012-12-14T05:54:29.920
> 
> 标签：node.js, mongodb, mongoose

使用最新的 mongoose 更新，您不能再像我一直在做的那样对用户建模。我需要在整个应用程序中共享相同的数据库连接。

[https://github.com/LearnBoost/mongoose/issues/1249](https://github.com/LearnBoost/mongoose/issues/1249)

这是不再有效的旧方法：

./models/user.js

```
var mongoose = require('mongoose'), cfg = require('../config')
, Schema = mongoose.Schema
, db = mongoose.createConnection(cfg.mongo.uri, cfg.mongo.db);
...

module.exports = db.model('Item', ItemSchema); 
```

如何按照上面的 github 问题中的建议重新使用 db 连接？

我`var User = require('./models/user');`在我的代码库的几个不同的地方使用。

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-12-14T07:26:59.460

## 选项 1：使用共享对象

我的模型代码看起来很相似，但不是重复需要模块，而是在应用程序启动时只需要它们一次，然后将结果分配给共享对象。例如，如果您使用的是快速应用程序，您可以使用类似`app.locals.models.User = require('./models/user');`. 然后任何有权访问的东西都`app`可以看到你的模型，而不需要任何要求。

* * *

## 选项 2：确保在导出的函数中进行单个修改

您可以像这样定义您的用户模块：

```
var mongoose = require('mongoose');

var userSchema = new mongoose.Schema({name: String});

var User = null;

module.exports = function(db) {
  if (db && User === null) {
    User = db.model('User', userSchema);
  }
  return User;
}; 
```

当您启动您的应用程序时，您只需要：`require('./models/user')(db)`. 应用程序中其他模块的后续要求可以删除`db`参数，因为`User`只会设置一次。

# android - 如何知道布局是否在 android 活动中完全膨胀？

> ID：13873431
> 
> 赞同：3
> 
> 时间：2012-12-14T05:54:31.437
> 
> 标签：android, android-layout, android-notifications

我只想在布局完全膨胀后创建通知。

[如何使用 onFinishInflate 知道视图何时膨胀了](https://stackoverflow.com/questions/8114772/how-to-know-when-view-has-inflated-using-the-onfinishinflate)这个链接，它说没有这样的回调。

```
onFinishInflate() 
```

而且简单地设置通知后`setContentView()`不会按预期进行，首先显示通知，然后视图在用户视点膨胀。

任何人都可以帮我知道吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-14T06:26:43.050

尝试这个 ：

```
final LinearLayout layout = (LinearLayout)findViewById(R.id.MainLinear);
ViewTreeObserver vtobs = layout.getViewTreeObserver(); 

vtobs.addOnGlobalLayoutListener(new OnGlobalLayoutListener() {          
    @Override
    public void onGlobalLayout() {
        int width  = layout.getMeasuredWidth();
        int height = layout.getMeasuredHeight(); 
        Log.v("SimpleTest", "Width : "+width);
        Log.v("SimpleTest", "Height : "+height);
    }
}); 
```

希望它可以帮助你。

谢谢。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-12-19T04:38:23.337

我无法知道这一点，所以我使用 postDelayed()，在一段时间后发布我的通知 :) 没有这样的回调方法可以知道这一点 :(

# image-processing - 处理后上传照片时，仅来自 safari 的 imagemagick 'identify command' 错误

> ID：13873437
> 
> 赞同：0
> 
> 时间：2012-12-14T05:55:04.650
> 
> 标签：image-processing, file-upload, safari, imagemagick, paperclip

我相信这个错误是我在 Safari（和移动 safari）中的 javascript 的问题，因为我可以从 chrome 上传照片没问题。

我有一个基于网络的移动应用程序，用户需要能够上传照片。但我不需要/想要高分辨率的照片，所以我将它们粘贴在画布中，调整大小，将画布捕获为 DataURL，然后转换为 blob。很简单，对吧;)

我怀疑有问题的 javascript 在这里

```
  var binary = atob(imgTag.src.split(',')[1]);
            变量数组 = [];
            for(var i = 0; i < binary.length; i++) {
                array.push(binary.charCodeAt(i));
             }

    var formData = new FormData();
   formData.append('photo[image]',new Blob([new Uint8Array(array)]));

```

但我必须承认，我不熟悉将图像流式传输到字符串等。我在 StackOverflow 上关注了一些博客和答案，让我走到了这一步。

我很高兴得到一个在服务器端或客户端都有效的答案。我尝试更改为可卡因 gem 的早期版本，因为这解决了其他人的问题，但我被锁定在我的版本中，因为我使用的是 Paperclip 3.1.3 和 rails 3.2.3 以及 Sass 和所有其他好东西。

我的控制台的错误是

```
命令 :: identify -format %wx%h '/tmp/blob20121214-5750-185epy9[0]'
[回形针] 处理时收到错误：#<Paperclip::Errors::NotIdentifiedByImageMagickError: /tmp/blob20121214-5750-185epy9 无法被“识别”命令识别。>

```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-15T02:33:00.417

我发现这个[https://github.com/blueimp/JavaScript-Canvas-to-Blob](https://github.com/blueimp/JavaScript-Canvas-to-Blob)可以在所有平台上将画布转换为 blob，它可以在 ios 上的 safari 中使用，这正是我所需要的。

# grails - 如何解释 Grails 数据源

> ID：13873438
> 
> 赞同：1
> 
> 时间：2012-12-14T05:55:05.403
> 
> 标签：grails, datasource

我正在阅读 Grails in Action，它说要使用

```
dataSource {
    dbCreate = "update"
    url = "jdbc:hsqldb:file:devDB;shutdown=true" 
} 
```

当我运行 grails 控制台时，这会导致错误：不支持的连接设置“SHUTDOWN”

当我删除 ;shutdown=true 时，grails 控制台工作正常

shutdown=true 是什么意思？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-14T06:48:08.523

这在这里描述：[http ://www.hsqldb.org/doc/guide/ch04.html](http://www.hsqldb.org/doc/guide/ch04.html)

它可能对内存数据库没有用处，因为当 Web 服务器停止时它会丢失。

# blackberry - 编辑字段 - 居中并在黑莓中使用数字键盘

> ID：13873439
> 
> 赞同：1
> 
> 时间：2012-12-14T05:55:08.083
> 
> 标签：blackberry, textbox, textfield, blackberry-simulator

我想要一个用于输入数字的文本字段。我想让它成为中心。并希望用数字键盘允许它。

它在 BB OS 5 上运行良好，在使用 BB OS 6 / 7 / 7.1 时，我无法显示数字键盘。

以下是代码：

```
txtEventNumber = new RichTextField(RichTextField.TEXT_ALIGN_HCENTER) {
public void paint(Graphics graphics) {
super.paint(graphics);
int oldColor = Color.GRAY;
graphics.setBackgroundColor(Color.WHITE);
graphics.setColor(TEXT_COLOR);
Font font = this.getFont().derive(Font.EMBOSSED_EFFECT, 20);
this.setFont(font);
graphics.drawRoundRect(0, 0, getWidth(), getHeight(), 10, 10);
graphics.setColor(oldColor);
super.paint(graphics);
}
public int getPreferredHeight() {
return super.getPreferredHeight() + ADD_MARGIN;
}
protected void onFocus(int direction) {
if (Touchscreen.isSupported() && getScreen().getVirtualKeyboard() != null)
// Show keyboard
getScreen().getVirtualKeyboard().setVisibility(VirtualKeyboard.SHOW);
};
protected void onUnfocus() {
if (Touchscreen.isSupported() && getScreen().getVirtualKeyboard() != null)
// Hide keyboard
getScreen().getVirtualKeyboard().setVisibility(VirtualKeyboard.HIDE_FORCE);
};
};
txtEventNumber.setEditable(true);
// can enter only numeric digits
if (Touchscreen.isSupported())
// show numeric keypad
txtEventNumber.setFilter(TextFilter.get(TextFilter.DEFAULT_SMART_PHONE));
else
txtEventNumber.setFilter(TextFilter.get(TextFilter.REAL_NUMERIC));
txtEventNumber.setMargin(10, 10, 0, 10); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-14T05:59:23.653

创建一个水平/垂直字段管理器，然后将其设置为中心。然后将editField添加到它。

```
EditField e=new EditField(label, initial value, max char limit, BasicEditField.FILTER_INTEGER); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-21T19:04:42.693

我使用了 HFM 并将编辑字段添加到其中。`keyChar()`还使用方法在每个键操作处设置光标位置。

这就是为什么我使用编辑字段使用虚拟数字键盘将光标位置设置在中心。

也谢谢大家。

# php - php中图像下载的未知文件格式

> ID：13873440
> 
> 赞同：-1
> 
> 时间：2012-12-14T05:55:09.207
> 
> 标签：php, image, download

我有这个用于在 php 中下载图像的代码......工作正常，图像下载但问题是它没有在下载的地方打开，并给出错误“无法读取文件头......未知文件格式！ ”

```
<?php
$path = $row['img_url'].".jpg";
echo $path;
$filename = $path;
$ctype="application/.jpg";
// required for IE, otherwise Content-disposition is ignored
if(ini_get('zlib.output_compression'))
ini_set('zlib.output_compression', 'Off');
header("Pragma: public"); // required
header("Expires: 0");
header("Cache-Control: must-revalidate, post-check=0, pre-check=0");
header("Cache-Control: private",false); // required for certain browsers
header("Content-Type: $ctype");
// change, added quotes to allow spaces in filenames
header("Content-Disposition: attachment; filename=\"".basename($filename)."\";" );
header("Content-Transfer-Encoding: binary");
header("Content-Length: ".filesize($filename));
readfile("$filename");
exit();
?> 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-14T05:57:50.263

更改内容类型

```
$ctype="application/.jpg"; //It's a invalid content type 
```

至

```
$ctype="image/jpeg"; 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-12-14T05:58:15.307

尝试使用`image/jpeg`MIME 类型而不是`application/.jpg`

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-12-14T06:00:18.603

您不应该在标题之前回显任何内容并尝试使用 header('Content-Type: image/jpeg');

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-12-14T05:58:08.553

您的内容类型错误。尝试使用`$ctype="image/jpeg";`

# knockout.js - KO Foreach 绑定不更新迭代列表

> ID：13873441
> 
> 赞同：0
> 
> 时间：2012-12-14T05:55:19.037
> 
> 标签：knockout.js

我有一个从列表中创建的表。我有一个添加到该列表的按钮。这真的很简单，但似乎无法找出我所缺少的。这是我的代码：

```
<table>
  <thead>
    <th>Value</th>
    <th>Remove</th>
  </thead>
  <tbody data-bind="foreach: names">
    <tr>
      <td>
        <span data-bind="text: $data"></span>
      </td>
      <td>
        <img id="Remove" width="20px" height="20px" src="/Content/Images/delete.png" data-bind="click: $parent.removeValue">
      </td>
    </tr>
  </tbody>
</table>
<div>
  <h2>
    <span data-bind="text: addValueError"></span>
  </h2>
  <label for="addValue">Add Value</label>
  <input id="addValue" type="text" data-bind="value: newValue" />
  <img id="add" width="20px" height="20px" src="/Content/Images/add.png" data-bind="click: addNewValue">
</div>

<script type="text/javascript">
    var model= new Model($('#someDiv')[0], data);
</script> 
```

JavaScript：

```
function Model($id, data) {
    var self = this;
self.names = ko.observablearray(['1','2','3']);
self.removeValue = function(){
//remove
}
self.addValueError = ko.observable();
self.newValue = ko.observable();
self.addNewValue = function(){
if (self.newValue () != null && self.newValue ().length > 0) {
            self.Names().push(self.newValue ());
            self.newValue ('');
            self.addValueError ('');
        } else {
            self.addValueError ('Please provide a value to add.');
        }
};

ko.applyBindings(self, $id);
} 
```

当我添加一个值时，它会添加到名称列表中，但不会在表中更新。有任何想法吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-14T06:22:46.457

拳头，我不会在您的视图模型构造函数中调用应用绑定。

将您的模型实例传递给它。

我会删除 != null 以检查 add 函数的真值，因为您从未将其设置为 null 但从外观上看它可能是未定义的或 ''

```
Names 
```

应该

```
names 
```

尝试像这样调用 push

```
self.names.push(self.newValue); 
```

您需要 observable 来通知要更新的视图，因此不要直接推送到底层数组。

# ruby-on-rails - Authlogic 每个资源的多个密码

> ID：13873447
> 
> 赞同：0
> 
> 时间：2012-12-14T05:55:55.507
> 
> 标签：ruby-on-rails, ruby, authlogic

我正在使用 Authlogic 对特定路线进行密码保护。用户可以共享某些页面，并且可以使用密码保护它们。对于一个密码，我可以正常工作，但希望能够让用户为同一页面设置多个密​​码。

我想保持简单，而不是使用完整的用户名和密码。目标是通过密码简单地保护内容。

我知道我可以覆盖登录方法，但它期望返回一个对象，并且验证密码方法期望评估一个值。

有什么想法吗？

# android - 从 EC2 实例的响应字符串中解析 JSON 数组时出错

> ID：13873448
> 
> 赞同：0
> 
> 时间：2012-12-14T05:55:56.090
> 
> 标签：android, json, amazon-ec2, unknown-host

我编写了一个 java restful web 服务并将其部署在 ec2 实例上，并以 tomcat7 作为服务器。我正在尝试从 Web 服务检索响应对象中的 json 数组。我的响应对象是这样的：-

```
{
    "Transactional": [
        {
            "a": "Y",
            "a1": "4",
            "a2": "5",
            "a3": "0",
            "a4": "1",
            "a5": "4",
            "a6": "3",
            "a7": "6",
            "a8": "9",
            "a9": "5",
            "b_MovieID": "0",
            "c": "N",
            "c1": "0",
            "c2": "0",
            "c3": "0",
            "c4": "0",
            "c5": "0",
            "c6": "0",
            "d": "N",
            "d1": "0",
            "d2": "0",
            "d3": "0",
            "d4": "0",
            "d5": "0",
            "d6": "0",
            "d7": "0",
            "g1": "10",
            "g2": "8",
            "g3": "2",
            "g4": "8",
            "g5": "0",
            "g6": "7",
            "g7": "8",
            "h": "N",
            "h1": "0",
            "h2": "0",
            "h3": "0",
            "h4": "0",
            "h5": "0",
            "h6": "0",
            "movieID": "1",
            "r": "N",
            "r1": "0",
            "r2": "0",
            "r3": "0",
            "r4": "0",
            "r5": "0",
            "r6": "0",
            "r7": "0",
            "s": "N",
            "s1": "0",
            "s2": "0",
            "s3": "0",
            "s4": "0",
            "s5": "0",
            "s6": "0",
            "SB": "N",
            "SB1": "0",
            "SB2": "0",
            "SB3": "0",
            "SB4": "0",
            "SP": "N",
            "SP1": "0",
            "SP2": "0",
            "SP3": "0",
            "t": "N",
            "t1": "0",
            "t2": "0",
            "t3": "0",
            "t4": "0",
            "t5": "0",
            "t6": "0",
            "t7": "0",
            "t8": "0",
            "t9": "0",
            "TA1": "N",
            "TA2": "N",
            "TA3": "N",
            "TC1": "N",
            "TC2": "N",
            "TG1": "N",
            "TG2": "N",
            "TG3": "N",
            "TG4": "N",
            "TG5": "N",
            "TH1": "N",
            "TH2": "N",
            "TH3": "N",
            "TR1": "N",
            "TS1": "N",
            "TS2": "N",
            "TSB1": "N",
            "TSP1": "N",
            "TW1": "N",
            "w": "N",
            "w1": "0",
            "w2": "0",
            "w3": "0",
            "w4": "0",
            "w5": "0"
        },
        {
            "a": "Y",
            "a1": "1",
            "a2": "6",
            "a3": "0",
            "a4": "4",
            "a5": "3",
            "a6": "4",
            "a7": "2",
            "a8": "3",
            "a9": "4",
            "b_MovieID": "0",
            "c": "N",
            "c1": "0",
            "c2": "0",
            "c3": "0",
            "c4": "0",
            "c5": "0",
            "c6": "0",
            "d": "N",
            "d1": "0",
            "d2": "0",
            "d3": "0",
            "d4": "0",
            "d5": "0",
            "d6": "0",
            "d7": "0",
            "g1": "5",
            "g2": "6",
            "g3": "6",
            "g4": "7",
            "g5": "0",
            "g6": "8",
            "g7": "7",
            "h": "N",
            "h1": "0",
            "h2": "0",
            "h3": "0",
            "h4": "0",
            "h5": "0",
            "h6": "0",
            "movieID": "2",
            "r": "N",
            "r1": "0",
            "r2": "0",
            "r3": "0",
            "r4": "0",
            "r5": "0",
            "r6": "0",
            "r7": "0",
            "s": "N",
            "s1": "0",
            "s2": "0",
            "s3": "0",
            "s4": "0",
            "s5": "0",
            "s6": "0",
            "SB": "N",
            "SB1": "0",
            "SB2": "0",
            "SB3": "0",
            "SB4": "0",
            "SP": "N",
            "SP1": "0",
            "SP2": "0",
            "SP3": "0",
            "t": "N",
            "t1": "0",
            "t2": "0",
            "t3": "0",
            "t4": "0",
            "t5": "0",
            "t6": "0",
            "t7": "0",
            "t8": "0",
            "t9": "0",
            "TA1": "N",
            "TA2": "N",
            "TA3": "N",
            "TC1": "N",
            "TC2": "N",
            "TG1": "N",
            "TG2": "N",
            "TG3": "N",
            "TG4": "N",
            "TG5": "N",
            "TH1": "N",
            "TH2": "N",
            "TH3": "N",
            "TR1": "N",
            "TS1": "N",
            "TS2": "N",
            "TSB1": "N",
            "TSP1": "N",
            "TW1": "N",
            "w": "N",
            "w1": "0",
            "w2": "0",
            "w3": "0",
            "w4": "0",
            "w5": "0"
        }
    ]
} 
```

我正在尝试使用以下代码在我的 android 应用程序中的 java 中检索它：-

```
try {
            JSONObject jsonObj = new JSONObject(response);
            JSONArray jsonArr;

            jsonArr = jsonObj.getJSONArray("Transactional");

            for (int i = 0; i < jsonArr.length(); i++) {
                JSONObject obj = jsonArr.getJSONObject(i);

                try {

                    int A1 = obj.getInt("a1");
                    System.out.println("A1  value : " + A1);
                    break;
                } catch (JSONException ex) {

                }

            } 
```

这是从 json 数组中检索数据的正确方法吗？我收到以下错误：-

```
12-14 11:11:56.526: E/WebServiceTask(18921): ec2-xx-xx-xxx-xxx.compute-1.amazonaws.com
12-14 11:11:56.526: E/WebServiceTask(18921): java.net.UnknownHostException: ec2-xx-xx-xxx-xxx.compute-1.amazonaws.com
12-14 11:11:56.526: E/WebServiceTask(18921):    at    java.net.InetAddress.lookupHostByName(InetAddress.java:506)
12-14 11:11:56.526: E/WebServiceTask(18921):    at java.net.InetAddress.getAllByNameImpl(InetAddress.java:294)
12-14 11:11:56.526: E/WebServiceTask(18921):    at java.net.InetAddress.getAllByName(InetAddress.java:256)
12-14 11:11:56.526: E/WebServiceTask(18921):    at org.apache.http.impl.conn.DefaultClientConnectionOperator.openConnection(DefaultClientConnectionOperator.java:136)
12-14 11:11:56.526: E/WebServiceTask(18921):    at    org.apache.http.impl.conn.AbstractPoolEntry.open(AbstractPoolEntry.java:164)
12-14 11:11:56.526: E/WebServiceTask(18921):    at org.apache.http.impl.conn.AbstractPooledConnAdapter.open(AbstractPooledConnAdapter.java:119)
12-14 11:11:56.526: E/WebServiceTask(18921):    at org.apache.http.impl.client.DefaultRequestDirector.execute(DefaultRequestDirector.java:359)
12-14 11:11:56.526: E/WebServiceTask(18921):    at org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:555)
12-14 11:11:56.526: E/WebServiceTask(18921):    at org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:487)
12-14 11:11:56.526: E/WebServiceTask(18921):    at org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:465)
12-14 11:11:56.526: E/WebServiceTask(18921):    at com.movies.CategorySelection$WebServiceTask.doResponse(SubCategorySelection.java:248)
12-14 11:11:56.526: E/WebServiceTask(18921):    at com.movies.CategorySelection$WebServiceTask.doInBackground(SubCategorySelection.java:147)
12-14 11:11:56.526: E/WebServiceTask(18921):    at com.movies.CategorySelection$WebServiceTask.doInBackground(SubCategorySelection.java:1)
12-14 11:11:56.526: E/WebServiceTask(18921):    at android.os.AsyncTask$2.call(AsyncTask.java:185)
12-14 11:11:56.526: E/WebServiceTask(18921):    at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:306)
12-14 11:11:56.526: E/WebServiceTask(18921):    at java.util.concurrent.FutureTask.run(FutureTask.java:138)
12-14 11:11:56.526: E/WebServiceTask(18921):    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1088)
12-14 11:11:56.526: E/WebServiceTask(18921):    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:581)
12-14 11:11:56.526: E/WebServiceTask(18921):    at java.lang.Thread.run(Thread.java:1019)
12-14 11:11:56.576: E/SubCategorySelection(18921): Error parsing data org.json.JSONException: End of input at character 0 of 
```

尽管我知道我遇到了未知主机异常，但我可以在同一主机中的示例 url 上轻松检索示例数据

[http://ec2-xx-xx-xxx-xxx.compute-1.amazonaws.com:8080/MovieAppRestWebService/rest/movie/sample](http://ec2-xx-xx-xxx-xxx.compute-1.amazonaws.com:8080/MovieAppRestWebService/rest/movie/sample)

这可能意味着我解析数据的方式有问题。谁能帮忙！

这是我调用网络服务的方式：-

```
private static final String SERVICE_URL_ACTION = "http://ec2-xx-xx-xxx-xxx.compute-1.amazonaws.com:8080/MovieAppRestWebService/rest/movie/A";

Button bNext = (Button) findViewById(R.id.btnNext);
    bNext.setOnClickListener(new OnClickListener() {

        public void onClick(View v) {
            retrieveSampleData(v);
        }
    });

public void retrieveSampleData(View vw) {

    WebServiceTask wst = new WebServiceTask(WebServiceTask.GET_TASK, this,
            "GETting data...");

    wst.execute(new String[] { SERVICE_URL_ACTION });
}

private class WebServiceTask extends AsyncTask<String, Integer, String> {

    public static final int POST_TASK = 1;
    public static final int GET_TASK = 2;

    private static final String TAG = "WebServiceTask";

    // connection timeout, in milliseconds (waiting to connect)
    private static final int CONN_TIMEOUT = 3000;

    // socket timeout, in milliseconds (waiting for data)
    private static final int SOCKET_TIMEOUT = 5000;

    private int taskType = GET_TASK;
    private Context mContext = null;
    private String processMessage = "Processing...";

    private ArrayList<NameValuePair> params = new ArrayList<NameValuePair>();

    private ProgressDialog pDlg = null;

    public WebServiceTask(int taskType, Context mContext,
            String processMessage) {

        this.taskType = taskType;
        this.mContext = mContext;
        this.processMessage = processMessage;
    }

    @SuppressWarnings("deprecation")
    private void showProgressDialog() {

        pDlg = new ProgressDialog(mContext);
        pDlg.setMessage(processMessage);
        pDlg.setProgressDrawable(mContext.getWallpaper());
        pDlg.setProgressStyle(ProgressDialog.STYLE_SPINNER);
        pDlg.setCancelable(false);
        pDlg.show();

    }

    @Override
    protected void onPreExecute() {

        hideKeyboard();
        showProgressDialog();

    }

    protected String doInBackground(String... urls) {

        String url = urls[0];
        String result = "";

        HttpResponse response = doResponse(url);

        if (response == null) {
            return result;
        } else {

            try {

                result = inputStreamToString(response.getEntity()
                        .getContent());

            } catch (IllegalStateException e) {
                Log.e(TAG, e.getLocalizedMessage(), e);

            } catch (IOException e) {
                Log.e(TAG, e.getLocalizedMessage(), e);
            }

        }

        return result;
    }

    @Override
    protected void onPostExecute(String response) {

        handleResponse(response);
        pDlg.dismiss();

    }

    public void handleResponse(String response) {

        // try {
        //
        // JSONObject jArray = (JSONObject)JSONValue.parse(response);
        // JSONObject jObj = jArray.getJSONObject("movieTransactional");
        //
        // for (int i = 0; i < jArray.length(); i++) { // **line 2**
        // JSONObject childJSONObject = jArray.get(i);
        // String name = childJSONObject.getString("name");
        // int age = childJSONObject.getInt("age");
        // }

        try {
            JSONObject jsonObj = new JSONObject(response);
            JSONArray jsonArr;

            jsonArr = jsonObj.getJSONArray("movieTransactional");

            for (int i = 0; i < jsonArr.length(); i++) {
                JSONObject obj = jsonArr.getJSONObject(i);

                try {

                    int A1 = obj.getInt("a1");
                    System.out.println("A1  value : " + A1);
                    break;
                } catch (JSONException ex) {

                }

            }
        } catch (JSONException e) {
            Log.e("SubCategorySelection", "Error parsing data "+e.toString());

        }
    }

    // Establish connection and socket (data retrieval) timeouts
    private HttpParams getHttpParams() {

        HttpParams htpp = new BasicHttpParams();

        HttpConnectionParams.setConnectionTimeout(htpp, CONN_TIMEOUT);
        HttpConnectionParams.setSoTimeout(htpp, SOCKET_TIMEOUT);

        return htpp;
    }

    private HttpResponse doResponse(String url) {

        // Use our connection and data timeouts as parameters for our
        // DefaultHttpClient
        HttpClient httpclient = new DefaultHttpClient(getHttpParams());

        HttpResponse response = null;

        try {
            switch (taskType) {

            case POST_TASK:
                HttpPost httppost = new HttpPost(url);
                // Add parameters
                httppost.setEntity(new UrlEncodedFormEntity(params));

                response = httpclient.execute(httppost);
                break;
            case GET_TASK:
                HttpGet httpget = new HttpGet(url);
                response = httpclient.execute(httpget);
                break;
            }
        } catch (Exception e) {

            Log.e(TAG, e.getLocalizedMessage(), e);

        }

        return response;
    }

    private String inputStreamToString(InputStream is) {

        String line = "";
        StringBuilder total = new StringBuilder();

        // Wrap a BufferedReader around the InputStream
        BufferedReader rd = new BufferedReader(new InputStreamReader(is));

        try {
            // Read response until the end
            while ((line = rd.readLine()) != null) {
                total.append(line);
            }
        } catch (IOException e) {
            Log.e(TAG, e.getLocalizedMessage(), e);
        }

        // Return full string
        return total.toString();
    }

} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-14T14:45:21.497

问题解决了！

我没有在我的 android 应用程序中添加以下权限。

```
<uses-permission android:name="android.permission.INTERNET" />

<uses-permission android:name="android.permission.WRITE_EXTERNAL_STORAGE" /> 
```

由于我的应用程序能够访问互联网，因此未知主机异常。

# asp.net-mvc-3 - 无法在 DotNetZip 的 SelectEntries 中获取多个条目

> ID：13873451
> 
> 赞同：0
> 
> 时间：2012-12-14T05:56:25.087
> 
> 标签：asp.net-mvc-3, dotnetzip

我正在尝试`DotNetZipLib-DevKit-v1.9`在我的 MVC3 项目中使用将文件提取到特定文件夹。

我想要的是——如何在`zip.SelectEntries`方法中添加多个条目。

这是我在控制器操作中的代码：

```
public ActionResult ExtractZip(string fileName, HttpPostedFileBase fileData)
        {
            string zipToUnpack = @"C:\Users\Public\Pictures\Sample Pictures\images.zip";
            string unpackDirectory = System.IO.Path.GetTempPath();

            using (ZipFile zip1 = ZipFile.Read(zipToUnpack))
            {
                // here, we extract every entry, but we could extract conditionally
                // based on entry name, size, date, checkbox status, etc.  
                var collections = zip1.SelectEntries("name=*.jpg;*.jpeg;*.png;*.gif;");//This shows `0` items in collections

                foreach (var item in collections)
                {
                    item.Extract(unpackDirectory, ExtractExistingFileAction.OverwriteSilently);
                }
            }
            return Json(true);
        } 
```

在这一行`var collections = zip1.SelectEntries("name=*.jpg;*.jpeg;*.png;*.gif;");`中，如果我只指定单个扩展名，它工作正常

例如： `var collections = zip1.SelectEntries("name=*.gif");`这很好用

我也在[这里](http://help.infragistics.com/Help/NetAdvantage/Silverlight/2012.2/CLR4.0/html/InfragisticsSL5.Compression.v12.2~Infragistics.Compression.ZipFile~SelectEntries%28String%29.html)看到了 SelectEntries 方法，但它并没有帮助

如何添加多个条目？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-02T12:14:37.563

最后我可以回答我自己的问题。

为了选择多个条目，我们需要使用`OR`并选择多个条目，使用以下代码：

```
var collections = zip1.SelectEntries("(name=*.jpg) OR (name=*.jpeg) OR (name=*.png) OR (name=*.gif)");

foreach (var item in collections)
{
    item.Extract(unpackDirectory, ExtractExistingFileAction.OverwriteSilently);
} 
```

# extjs - ExtJs 4.1 - 如何同步两个网格的垂直滚动？

> ID：13873454
> 
> 赞同：2
> 
> 时间：2012-12-14T05:56:46.863
> 
> 标签：extjs, grid, scroll, scrollbar, extjs4.1

我们在一个面板中有两个网格，我们需要让它们的记录一起垂直滚动。也就是说，如果用户垂直滚动任何一个网格，那么其他网格也会滚动。

因此，绑定垂直滚动条的方法是什么？

[此处](http://davehiren.blogspot.in/2011/11/synchronize-extjs-grid-vertical.html)提供了 4.0.2a 版本的解决方案，但使用的功能在 4.1 版本中已被弃用，因此它在较新的版本中不起作用。

谁能指导如何在 ExtJs 版本 4.1.* 中实现这一点？

感谢您提前提供任何帮助。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-12-14T08:50:27.913

我在 API 中看不到任何方便的东西，但仍然可以连接到 html 元素：

```
grid1.view.getEl().on('scroll', function(e, t) {
    grid2.view.getEl().dom.scrollTop = t.scrollTop;
});
grid2.view.getEl().on('scroll', function(e, t) {
    grid1.view.getEl().dom.scrollTop = t.scrollTop;
}); 
```

工作样本：http: [//jsfiddle.net/CSwAH/](http://jsfiddle.net/CSwAH/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2015-05-14T13:16:12.700

最近“锁定网格”已经可用。 [http://dev.sencha.com/deploy/ext-4.0.0/examples/grid/locking-grid.html](http://dev.sencha.com/deploy/ext-4.0.0/examples/grid/locking-grid.html)

易于使用，也很有用。

我的答案是 2 年后出现的，但它适用于任何正在寻找好的解决方案的人。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2017-04-05T09:46:53.777

这似乎是一个旧帖子，但我想分享我的部分答案。看，当添加同步滚动条时，问题是鼠标滚轮滚动有点慢。看到这个[小提琴](http://jsfiddle.net/CSwAH/)。

所以，我想出的是为事件添加延迟：

```
grid1.view.getEl().on('scroll', function(e, t) {
    grid2.view.getEl().dom.scrollTop = t.scrollTop;
}, grid1.view.getEl(), {delay: 50});
grid2.view.getEl().on('scroll', function(e, t) {
    grid1.view.getEl().dom.scrollTop = t.scrollTop;
},grid2.view.getEl(),{delay: 50}); //50 seems fine for me. adjust if you must 
```

# java - 在这种情况下如何实现线程等待通知？

> ID：13873455
> 
> 赞同：0
> 
> 时间：2012-12-14T05:56:53.587
> 
> 标签：java, multithreading, wait, notify

我有2节课。该类的一个方法调用另一个类的方法，但它必须等到该方法完成才能继续执行其余代码。

这是我正在尝试制作的粗略代码。我知道这行不通。

```
public class Example 
{
    Thread thread;

    public Example(Thread thread)
    {
        this.thread = thread;
    }

    public void doSomethingElse()
    {
        System.out.println("Do something else");
        thread.notify();
    }
}

public class Example2 
{
    Thread thread;
    Example example;

    public Example2()
    {
        example = new Example(thread);
        thread = new Thread()
        {
            public void run()
            {
                example.doSomethingElse();
                try {
                    this.wait();
                } catch (InterruptedException ex) {                    
                }
                System.out.println("Do something");
            }
        };
    }

    public void doSomething()
    {
        thread.run();
    }
} 
```

现在你知道如何做到这一点了吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-14T06:52:40.900

不确定您是否受限于使用这种特定方法（等待/通知），但是更好的方法是利用[Java 并发 API](http://docs.oracle.com/javase/tutorial/essential/concurrency/)

```
public class ExampleCountDownLatch
{
    public void doSomething () throws InterruptedException
    {
        final CountDownLatch latch = new CountDownLatch(1);

        Thread thread = new Thread()
        {
            public void run ()
            {
                System.out.println("do something");
                latch.countDown();
            }
        };

        System.out.println("waiting for execution of method in your example class");
        thread.start();
        // wait for reasonable time otherwise kill off the process cause it took
        // too long.
        latch.await(3000, TimeUnit.MILLISECONDS);

        // now I can do something from your example 2
        System.out.println("now i can execute from example 2 do something else");
    }
} 
```

无论如何，如果您有选择的话，这只是另一种方法。

更新：

这是一个关于这个[主题](http://www.carfey.com/blog/java-concurrency-part-5-%E2%80%93-countdownlatch/)的博客。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-14T06:33:54.397

几点：

*   您应该在调用等待或通知方法之前获取锁。锁必须在同一个对象上。在代码中，您在 example2 对象上调用 wait 但在不同对象上调用 notify。
*   thread.run() 表示调用线程对象的 run 方法，它不创建新线程，与 example.doSomething() 相同。当您创建线程时，通过调用 start 方法启动该线程。

这是我的实现

```
 class Example implements Runnable 
    {
        public void run()
        {
            doSomething();
        }
        public void doSomething(){
            synchronized(this){
                System.out.println("Do something else");
                try{
                   Thread.sleep(1000); 
                   this.notify();    
                }catch (InterruptedException ignore) {}            
            }    
        }
    }

    class Example2 implements Runnable 
    {
        Thread thread;
        Example example;

        public Example2(Example example){
            this.example = example;
        }

        public void run(){
            doSomething();    
        }

        public void doSomething(){
            synchronized(example){
                System.out.println("waiting for example 1 to complete");
                try{
                    example.wait();    
                }catch (InterruptedException ignore) {}

            }
            System.out.println("Do something");
        }
    }

    public class Entry{
        public static void main(String[] args){

            Example example = new Example();

            Example2 obj = new Example2(example);
            Thread t = new Thread(obj);
            t.start();

            Thread t2 = new Thread(example);
            t2.start();
        }
    } 
```

在代码中 Thread.sleep(1000); 不需要声明。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-14T06:45:51.253

这是使用连接方法的另一种实现

```
 class Example implements Runnable 
    {
        public void run()
        {
            doSomething();
        }
        public void doSomething(){
            System.out.println("Do something else");

            try{
                Thread.sleep(1000);    
            }catch (InterruptedException ignore) {}                
        }
    }

    class Example2 implements Runnable 
    {
        Thread thread;
        Example example;

        public Example2(Example example){
            this.example = example;
        }

        public void run(){
            System.out.println("waiting for example 1 to complete");
            Thread t = new Thread(example);
            try{
                t.start();
                t.join();
            }catch(InterruptedException ie){

            }

            doSomething();    
        }

        public void doSomething(){
            System.out.println("Do something");
        }
    }

    public class Entry{
        public static void main(String[] args){

            Example example = new Example();

            Example2 obj = new Example2(example);
            Thread t = new Thread(obj);
            t.start();
        }
    } 
```

# java - Glassfish服务器开源添加安装失败

> ID：13873456
> 
> 赞同：0
> 
> 时间：2012-12-14T05:56:54.277
> 
> 标签：java, jakarta-ee, glassfish

尝试安装 GlassFish Server glassfish-3.1.2.2-windows().exe 时出现以下错误

执行命令：C:\glassfish3\glassfish\bin\asadmin.bat --user admin --passwordfile - create-domain --savelogin --checkports=false --adminport 4646 --instanceport 7070 --domainproperties=jms.port= 7676:domain.jmxPort=8686:orb.listener.port=3700:http.ssl.port=8181:orb.ssl.port=3820:orb.mutualauth.port=3920 domain1 C:\glassfish3\glassfish\bin\asadmin .bat --user admin --passwordfile - create-domain --savelogin --checkports=false --adminport 4646 --instanceport 7070 --domainproperties=jms.port=7676:domain.jmxPort=8686:orb.listener.port =3700:http.ssl.port=8181:orb.ssl.port=3820:orb.mutualauth.port=3920 do main1 系统找不到指定的路径。

错误的打印屏幕如下
![在此处输入图像描述](../Images/16153e58f5cc3d4125878b57709e36b3.png)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-07-03T12:47:26.597

我刚刚遇到了同样的问题，它似乎是由批处理文件 asadmin.bat 和 asenv.bat 创建的。批处理文件如下所示（我删除了与问题无关的 REM 语句和行：

**c:\glassfish3\glassfish\bin 中的 asadmin.bat**

```
REM Always use JDK 1.6 or higher
REM Depends on Java from ..\config\asenv.bat

call "%~dp0..\config\asenv.bat" 
if "%AS_JAVA%x" == "x" goto UsePath
set JAVA="%AS_JAVA%\bin\java"
goto run
:UsePath
set JAVA=java
:run
%JAVA% -jar "%~dp0..\modules\admin-cli.jar" %* 
```

**c:\glassfish3\glassfish\conf 中的 asenv.bat**

```
set AS_JAVA=C:\Program Files (x86)\Java 
```

我不知道如何让 Glassfish 在安装过程中只使用环境变量。我尝试使用 -j "(javapath)" 参数，但这并没有解决我的问题。

有效的方法是为 Glassfish 提供它正在寻找的东西，而且我对此解决方案并不感到自豪。如果你把上面构建的路径放在一起，你会得到 C:\Program Files (x86)\Java\bin\java.exe。由于 Java 安装到 C:\Program Files (x86)\Java\jre7\bin\java.exe，我只是将 C:\Program Files (x86)\Java\jre7\ 的内容复制到 C:\Program Files (x86 )\Java\ 和 Glassfish 安装正确。

如果其他人对此问题有更好的解决方案，请发布！

全面披露：在虚拟机上运行的 Windows Server 2008 上安装 Glassfish 3.1.2.2。

* * *

**更新：**我的一位同事提出了一个不同的解决方案，它不涉及复制 C:\Program Files(x86)\java\jre7 的内容。

在 Glassfish 安装过程中，在请求管理员帐户密码时，编辑 asenv.bat 文件并将“jre7\”添加到我上面引用的行中。这会迫使 Glassfish 查看正确的文件夹。

# objective-c - 将 URL 解析到服务器时无法处理方括号 (=[])

> ID：13873460
> 
> 赞同：4
> 
> 时间：2012-12-14T05:57:11.033
> 
> 标签：objective-c, parsing, url, webserver, url-parsing

我从我的 iPhone 应用程序中调用以下 URL

```
NSString *resourcePath = [NSString stringWithFormat:@"/sm/search?limit=100&term=%@&types[]=users&types[]=questions", searchTerm]; 
```

但是，当进行服务器调用时，我发现发送的实际 URL 是这样的

```
/sm/search?term=mi&types%5B%5D=questions&limit=100 
```

如何解决这个问题，以便将正确的 URL 发送到服务器？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-16T13:08:04.077

我假设您使用该`NSURL`方法

```
initWithScheme:host:path: 
```

创建 URL。根据文档，此方法会自动使用该`stringByAddingPercentEscapesUsingEncoding:`方法转义路径。

[方括号被转义，因为它们在RFC 1738 - Uniform Resource Locators (URL)](http://www.ietf.org/rfc/rfc1738.txt)的意义上是“不安全的” ：

> 由于多种原因，字符可能不安全。[...] 其他字符是不安全的，因为已知网关和其他传输代理有时会修改这些字符。这些字符是“{”、“}”、“|”、“\”、“^”、“~”、“[”、“]”和“`”。
> 
> 所有不安全的字符必须始终在 URL 中进行编码。

如果您使用

```
NSString *s = [NSString stringWithFormat:@"http://server.domain.com/sm/search?limit=100&term=%@&types[]=users&types[]=questions", searchTerm];
NSURL *url = [[NSURL alloc] initWithString:s]; 
```

然后不添加转义序列，因为`initWithString`期望字符串包含任何必要的百分比转义码。

# r - 安装 R 包时出错：此系统上不提供 Tcl/Tk 支持

> ID：13873461
> 
> 赞同：2
> 
> 时间：2012-12-14T05:57:25.433
> 
> 标签：r, installation

我正在使用 Linux-fedora 14 64 位机器。在安装一些 R 包时，例如： DEGseq 和 sqldf ，我遇到了这个错误。我使用 yum 手动安装了所有 tcl 和 tk devel 和核心库，但问题仍然存在。

我在安装软件包时遇到的错误：

```
Warning: S3 methods ‘$.tclvar’, ‘$<-.tclvar’, ‘as.character.tclObj’, ‘as.character.tclVar’, ‘as.double.tclObj’, ‘as.integer.tclObj’, ‘as.logical.tclObj’, ‘as.raw.tclObj’, ‘print.tclObj’, ‘[[.tclArray’, ‘[[<-.tclArray’, ‘$.tclArray’, ‘$<-.tclArray’, ‘names.tclArray’, ‘names<-.tclArray’, ‘length.tclArray’, ‘length<-.tclArray’, ‘tclObj.tclVar’, ‘tclObj<-.tclVar’, ‘tclvalue.default’, ‘tclvalue.tclObj’, ‘tclvalue.tclVar’, ‘tclvalue<-.default’, ‘tclvalue<-.tclVar’, ‘close.tkProgressBar’ were declared in NAMESPACE but not found
Error : .onLoad failed in loadNamespace() for 'tcltk', details:
call: fun(libname, pkgname)
error: Tcl/Tk support is not available on this system
Error : package/namespace load failed for ‘tcltk’
Error : unable to load R code in package ‘gsubfn’
ERROR: lazy loading failed for package ‘gsubfn’
* removing ‘/home/xuserL/R/x86_64-unknown-linux-gnu-library/2.15/gsubfn’
ERROR: dependency ‘gsubfn’ is not available for package ‘sqldf’
* removing ‘/home/xuser/R/x86_64-unknown-linux-gnu-library/2.15/sqldf’ 
```

即使在谷歌搜索此错误后，我也无法找到解决方案。

请告诉我为了解决这个问题我需要遵循的一组步骤？

提前致谢 ：）

# java - java中的字节流

> ID：13873463
> 
> 赞同：1
> 
> 时间：2012-12-14T05:57:33.140
> 
> 标签：java, file-io, unicode, character-encoding, fileoutputstream

我们可以用 ByteStreams 在文件中写入 Unicode 数据吗？我的代码是：

```
 public static void main(String[] args) throws Exception {

    String str = "Русский язык ";
    FileOutputStream fos = new FileOutputStream("file path");
    fos.write(str.getBytes());
    fos.flush();
    fos.close();
} 
```

在这里，我使用字节流写入 unicode 数据，但它正在正确写入。我是 java 新手，但我读过字节流不支持 unicode 字符。那么，为什么它在这种情况下有效？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-14T10:22:15.273

> 我读过字节流不支持 unicode 字符。

要么您使用了错误的信息来源，要么您可能误解了某些内容。字节流支持字节。因此字节流支持*任何*可以用字节表示的东西。视频、文字、图片、音乐……如果字节流不支持，那根本就不能用在数字电脑上。

以简单的 1 和 0 序列表示这些事物的技巧是使用商定的规则。您将根据某些规则对文本进行编码，然后接收者可以使用相同的规则将其解码回来。

`"Русский язык"`可以用任何支持西里尔字符的编码表示为字节。在 unicode 的任何编码中：UTF-8、UTF-16、UTF-32；Windows-1251、KOI8-R、KOI8-U、ISO-8859-5...

这并不意味着这些编码相互兼容。在编码西里尔字母时，它们都是不兼容的，因此以一种编码编码的文本必须严格以该编码解码。

`.getBytes()`使用平台默认编码，恰好是支持西里尔文的一种。您可能认为它是 UTF-8，但如果您使用的是 Windows，则它更有可能是 Cp1251。不要陷入陷阱，仅仅因为您使用了“unicode 字符”，您的文件就以 UTF 编码进行了物理编码。这将导致编码问题。

因此，始终要明确编码，以便您的程序在任何平台上都可以正常工作，并且您始终知道程序创建的文件的编码是什么。使用您的代码，您可以这样做：

```
String str = "Русский язык ";
FileOutputStream fos = new FileOutputStream("file path");
fos.write(str.getBytes("UTF-8"));
fos.flush();
fos.close(); 
```

或者按照其他答案的建议：

```
String str = "Русский язык ";
OutputStreamWriter osw = new OutputStreamWriter(
        new FileOutputStream("file path"), "UTF-8"
);
osw.write(str);
osw.flush();
osw.close(); 
```

这些在技术上完全相同；文本正在根据 UTF-8 规则转换为字节。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-14T06:02:41.817

通常最好通过将 OutputStream 与 OutputStreamWriter 包装到 Writer 中来写入字符数据

```
Writer out = new OutputStreamWriter(new FileOutputStream("file path"), "UTF-8")); 
```

# ruby-on-rails - 尝试上传图片时出现回形针错误

> ID：13873473
> 
> 赞同：1
> 
> 时间：2012-12-14T05:58:07.350
> 
> 标签：ruby-on-rails

我正在使用回形针版本 3.xx 上传图片。当我尝试上传图片时出现 2 个错误，

```
Avatar C:/Users/ABC~1/AppData/Local/Temp/PNG_transparency_demonstration_120121214-6968-3t461n.png is not recognized by the 'identify' command.
Avatar C:/Users/ABC~1/AppData/Local/Temp/PNG_transparency_demonstration_120121214-6968-3t461n.png is not recognized by the 'identify' command. 
```

我的模特，

```
class User < ActiveRecord::Base
      attr_accessible :name , :avatar
      has_attached_file :avatar, :styles => { :medium => "300x300>", :thumb => "100x100>" }
    end 
```

看法

```
<%= form_for @user , :url => users_path, :html => { :multipart => true } do |f| %>
  <% if @user.errors.any? %>
    <div id="error_explanation">
      <h2><%= pluralize(@user.errors.count, "error") %> prohibited this user from being saved:</h2>

      <ul>
      <% @user.errors.full_messages.each do |msg| %>
        <li><%= msg %></li>
      <% end %>
      </ul>
    </div>
  <% end %>

  <div class="field">
    <%= f.label :name %><br />
    <%= f.text_field :name %>
  </div>
  <div>
    <%= f.file_field :avatar %>
  </div>
  <div class="actions">
    <%= f.submit %>
  </div>
<% end %> 
```

我正在使用 ImageMagic 处理图像.... 有什么我必须在我的环境文件中设置的。

提前致谢.....

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-14T06:54:32.567

幕后的回形针使用 ImageMagick 处理图像。您可以将 ImageMagick 与命令 identify 一起使用。

首先检查您是否安装了 ImageMagick。

其次，检查您是否可以使用命令行中的 identify 命令处理文件（.png、.gif 等）。ImageMagick 需要安装/编译以支持不同的图像格式。

第三，设置 Paperclip 告诉它在哪里可以找到 ImageMagick 识别命令，这取决于您安装 ImageMagick 的位置，但您可以在初始化程序（如**/config/initializers/paperclip.rb**）上设置它并放置类似的内容

```
Paperclip.options[:command_path] = 'C:/Progra~1/ImageM~1.8-q' 
```

但请确保它指向您安装了 identify 命令和 ImageMagick 的位置。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-14T07:02:18.497

可能是由于可卡因和 ImageMagicK，尝试回滚到以前的版本（0.3.2）。

这里有更多的解释，

[https://github.com/thoughtbot/paperclip/issues/1038](https://github.com/thoughtbot/paperclip/issues/1038)

# java - 在键值对中传递 json 数组

> ID：13873475
> 
> 赞同：2
> 
> 时间：2012-12-14T05:58:08.270
> 
> 标签：java, json, key-value

我想知道如何将 json 数组作为 json 对象中的键传递。

```
{   
  "name" :"Sam", 
  "grades": [{"maths": "A", "result":"pass"}, {"science": "B", "result":"pass"}]
} 
```

我无法将这两个值都传递给 jSONObject 中的“等级”。我把它循环了。但是，它只是覆盖了这些值。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-11-18T06:20:56.933

看起来你正在做类似的事情：

```
obj.put("grades", mathGrade);
obj.put("grades", scienceGrade); 
```

scienceGrade 只是覆盖了 mathGrade。

您应该做的是使用中间数组对象：

```
JSONArray grades = new JSONArray();
grades.put(mathGrade);
grades.put(scienceGrade);
obj.put("grades", grades); 
```

# yahoo - 如何获取 yahoo Finance Currency Converter 支持的所有货币名称

> ID：13873476
> 
> 赞同：0
> 
> 时间：2012-12-14T05:58:08.843
> 
> 标签：yahoo, yql, yahoo-finance

如何获取 Yahoo Finance 货币转换器支持的所有货币名称或代码。我尝试使用带有不同 Select 语句的雅虎查询语言（YQL），但我没有得到。是否有任何雅虎查询或是否有任何其他方式来获取这些货币名称？谁能帮我？提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-14T19:23:29.063

我以前使用过[这个](http://finance.yahoo.com/webservice/v1/symbols/allcurrencies/quote)API 来获取货币名称和代码。希望它服务于您的用例。

# android - 在android的webview中setBuiltInZoomControls true时ontouch不起作用

> ID：13873479
> 
> 赞同：3
> 
> 时间：2012-12-14T05:58:18.637
> 
> 标签：android, webview

我正在android.and我的代码在webview上工作

```
private final Handler handler = new Handler(this);
private WebView wv;

wv.getSettings().setBuiltInZoomControls(true);
wv = (WebView) v.findViewById(R.id.webView1);
            String data = "<html><link rel=\"stylesheet\" type=\"text/css\" href=\"style.css\" />"
                    + "<meta name=\"viewport\" content=\"width=device-width; initial-scale=1.0; min-scale=1.0; max-scale=3.0; \" />"
                    + "<body>"
                    + "<div style=\"text-align:center;width:100&#37;\">"
                    + "Murti"
                    + "</div> <br/><div>"
                    + "Touch and hold one of the customizable icons, then drag it to Remove. Touch ... The controls appear under your finger, and you can slide to a control and select it. ... Find apps with the biggest Wi-Fi data usage, then reduce their sync"
                    + "</div><br/><br/><br/><br/></body></html>";
            wv.loadDataWithBaseURL("file:///android_asset/", data,
                    "text/html", "UTF-8", null);
wv.setOnTouchListener(new OnTouchListener() {

                public boolean onTouch(View v, MotionEvent event) {
                    if (v.getId() == R.id.webView1
                            && event.getAction() == MotionEvent.ACTION_DOWN) {
                        handler.sendEmptyMessageDelayed(1, 500);
                    }
                    return false;
                }
            });

public boolean handleMessage(Message msg) {
    if (msg.what == 1) {
        Toast.makeText(MainActivity.this, "WebView clicked",
                Toast.LENGTH_SHORT).show();
        return true;
    }
    return false;
} 
```

isuue 是，当我在 webview 上捏缩放而不是 zoomingcontroll 可见并且在那之后 ontouch 不工作。没有缩放 ontouch 工作正常。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-09-27T12:39:52.313

删除`OnTouchListener`并使用而不是它 dispatchTouchEvent

[http://developer.android.com/reference/android/view/ViewGroup.html#onInterceptTouchEvent(android.view.MotionEvent)](http://developer.android.com/reference/android/view/ViewGroup.html#onInterceptTouchEvent(android.view.MotionEvent)) [http://developer.android.com/reference/android/view/ViewGroup.html#dispatchTouchEvent( android.view.MotionEvent)](http://developer.android.com/reference/android/view/ViewGroup.html#dispatchTouchEvent(android.view.MotionEvent)) [http://developer.android.com/reference/android/view/ViewGroup.html#setDescendantFocusability(int)](http://developer.android.com/reference/android/view/ViewGroup.html#setDescendantFocusability(int))

创建您自己的扩展 WebView 和覆盖的类`dispatchTouchEvent(MotionEvent ev)`：

```
public class MyWebView extend WebView {

    //constructor 

    @Override
    public boolean dispatchTouchEvent(MotionEvent ev) {
        // code
        return super.dispatchTouchEvent(ev);
    }
}; 
```

如果您想了解更多关于 dispatcher 的信息，欢迎在这里[How to use dispatchtouchevent](https://stackoverflow.com/questions/9564677/how-to-use-dispatchtouchevent)和[here](https://stackoverflow.com/questions/5907194/android-singletap-onclick-in-webview)，[onintercepttouchevent 和 ACTION_DOWN](https://stackoverflow.com/questions/13283827/onintercepttouchevent-only-gets-action-down)等等...

# .htaccess - htaccess 将子文件夹重写为根目录

> ID：13873480
> 
> 赞同：0
> 
> 时间：2012-12-14T05:58:28.047
> 
> 标签：.htaccess, mod-rewrite

在我的根文件夹中，我有一个`.htaccess`将 URL 重定向到子文件夹的文件，如下所示。此文件夹包含即将推出的页面：

```
RewriteCond %{HTTP_HOST} ^(www.)?myotherurl.com$
RewriteRule ^(/)?$ test [L] 
```

应用此规则时，我得到以下网址：`http://myotherurl.com/test/`

现在我想`http://myotherurl.com`通过创建一个嵌套的`.htaccess`. 这个文件应该包含什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-14T06:50:02.827

试试这个：

```
RewriteCond %{HTTP_HOST} ^(www\.)?myotherurl.com$
RewriteRule ^/?(.*)$ test/$1 [L] 
```

这会将所有内容都放到目标目录中。在您的情况下，您错过了掩盖点。在这种情况下这无关紧要，但它也会匹配域 wwwamyotheeurl.com

如果您只有一个静态页面，您也可以使用以下规则：

```
RewriteRule ^ test/index.html [L] 
```

# java - 使用 POI 读取 xlsx 文件（SXSSFWorkbook）

> ID：13873489
> 
> 赞同：13
> 
> 时间：2012-12-14T05:59:27.807
> 
> 标签：java, apache-poi, xlsx

我正在尝试使用 POI 进行读取大型 xlsx 文件的第一次测试，但是要使用小文件进行简单测试，我无法显示单元格的值。

有人可以告诉我我的错误是什么。欢迎所有建议。谢谢。

**测试.java：**

```
import java.io.File;
import java.io.FileInputStream;

import org.apache.poi.openxml4j.opc.OPCPackage;
import org.apache.poi.ss.usermodel.Sheet;
import org.apache.poi.xssf.streaming.SXSSFWorkbook;
import org.apache.poi.xssf.usermodel.XSSFWorkbook;

public class Test {

    public static void main(String[] args) throws Throwable {
        File file = new File("/tmp/test.xlsx");
        OPCPackage pkg = OPCPackage.open(new FileInputStream(file.getAbsolutePath()));
        XSSFWorkbook xssfwb = new XSSFWorkbook(pkg);

        SXSSFWorkbook wb = new SXSSFWorkbook(xssfwb, 100);
        Sheet sh = wb.getSheet("Hola");

        System.out.println("Name: "+sh.getSheetName()); // Line 19
        System.out.println("Val: "+sh.getRow(1).getCell(1).getStringCellValue()); // Line 20
    }
} 
```

**结果：**

```
Name: Hola
Exception in thread "main" java.lang.NullPointerException
    at Test.main(Test.java:20) 
```

**测试.xlsx：**

![在此处输入图像描述](../Images/07f246d3461a3896a20c9eb7bef9ce92.png)

* * *

## 回答 #1

> 赞同：28
> 
> 时间：2012-12-14T06:38:44.030

请参考：[类似问题](https://stackoverflow.com/questions/12513981/reading-data-from-xlsx-sxssfsheet-with-apache-poi-java)SXSSFWorkBook 是只写，不支持阅读。

> *对于 .xlsx 文件的低内存读取，您应该查看[XSSF 和 SAX EventModel 文档](http://poi.apache.org/spreadsheet/how-to.html#xssf_sax_api)*：Gagravarr

如果内存不是问题，您可以使用 XSSFSheet 代替，例如

```
 File file = new File("D:/temp/test.xlsx");
    FileInputStream fis = new FileInputStream(file);
    XSSFWorkbook wb = new XSSFWorkbook(fis);

    XSSFSheet sh = wb.getSheet("Hola");
    System.out.println(sh.getLastRowNum());
    System.out.println("Name: "+sh.getSheetName()); 
    Row row = sh.getRow(1);

    System.out.println(row.getRowNum());

    System.out.println("Val: "+sh.getRow(1).getCell(1).getStringCellValue()); 
```

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-10-20T07:22:59.463

我在解析xlsx文件时也遇到了同样的OOM问题……经过两天的努力，我终于发现下面的代码非常完美；

此代码基于 sjxlsx。它读取 xlsx 并存储在 HSSF 表中。

```
 // read the xlsx file
       SimpleXLSXWorkbook = new SimpleXLSXWorkbook(new File("C:/test.xlsx"));

        HSSFWorkbook hsfWorkbook = new HSSFWorkbook();

        org.apache.poi.ss.usermodel.Sheet hsfSheet = hsfWorkbook.createSheet();

        Sheet sheetToRead = workbook.getSheet(0, false);

        SheetRowReader reader = sheetToRead.newReader();
        Cell[] row;
        int rowPos = 0;
        while ((row = reader.readRow()) != null) {
            org.apache.poi.ss.usermodel.Row hfsRow = hsfSheet.createRow(rowPos);
            int cellPos = 0;
            for (Cell cell : row) {
                if(cell != null){
                    org.apache.poi.ss.usermodel.Cell hfsCell = hfsRow.createCell(cellPos);
                    hfsCell.setCellType(org.apache.poi.ss.usermodel.Cell.CELL_TYPE_STRING);
                    hfsCell.setCellValue(cell.getValue());
                }
                cellPos++;
            }
            rowPos++;
        }
        return hsfSheet; 
```

# glassfish-esb - Glassfish ESB 2.1 运行时出现“找不到文件异常”

> ID：13873491
> 
> 赞同：1
> 
> 时间：2012-12-14T05:59:43.550
> 
> 标签：glassfish-esb

美好的一天..！

在生产中，我们有 Glassfish 2.1 服务器在两个实例中托管 ESB 应用程序，每个实例位于两个 Linux Box 下。ESB 应用程序的功能是接收客户端请求并转换到目的地，再次接收响应并发送回客户端。

从过去几天开始，我们在 HTTP BC 的 WsdlQueryHelper 抛出的日志中看到“找不到文件异常”。我们分析了日志并了解到它仅发生在一个实例（服务器 1 的实例 2）上，而该实例中的请求很少。我们从 SOAP 工具检查了该实例的服务，它给出了适当的响应，了解 WsdlQueryHelper 在运行时未能处理少量请求。在日志中相同的异常详细信息下方，

> *[#|2012-12-13T18:29:24.526+1100|FINE|sun-appserver2.1|com.sun.jbi.httpsoapbc.WsdlQueryHelper|_ThreadID=319;_ThreadName=httpWorkerThread-7092-0;ClassName=com。 sun.jbi.httpsoapbc.WsdlQueryHelper;MethodName=;_RequestID=6fdd0535-24d4-4878-8c98-b48e2dea39eb;|init 查询帮助程序失败。javax.wsdl.WSDLException：WSDLException（在/definitions/types/xsd：schema）：faultCode = OTHER_ERROR：尝试解析'RouterSchema_v4.xsd'引用的模式时发生错误，相对于''。：java.io.FileNotFoundException：未找到此文件：com.ibm.wsdl.xml.WSDLReaderImpl.parseSchema(WSDLReaderImpl.java :918) com.ibm.wsdl.xml.WSDLReaderImpl.parseSchema(WSDLReaderImpl.java:678) com.ibm。

你能帮我们解决这个问题吗？

问候，拉姆

# asp.net - 在asp mvc中允许用户访问控制器

> ID：13873493
> 
> 赞同：1
> 
> 时间：2012-12-14T05:59:59.413
> 
> 标签：asp.net, asp.net-mvc-4, forms-authentication

我在 asp.net mvc4 中使用身份验证

```
<authentication mode="Forms">
  <forms loginUrl="~/Login" timeout="2880" />
</authentication> 
```

当我没有登录时，无法调用在 RegisterController 中注册的函数。我试试

```
 <location path="~/Register">
    <system.web>
      <authorization>
        <allow users="*"/>
      </authorization>
    </system.web>
   </location> 
```

但不是。怎么解决？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-14T15:11:53.893

```
 <location path="Register">
    <system.web>
      <authorization>
        <allow roles="roles if any" />
        <deny users="*" />
      </authorization>
    </system.web>
  </location> 
```

试试这个，这可能会奏效..如果你有任何需要访问的地方，请更改角色！

# api-key - 是否有像 Google Readers 这样的提要解析 API？

> ID：13873499
> 
> 赞同：2
> 
> 时间：2012-12-14T06:00:36.983
> 
> 标签：api-key, google-reader

[https://www.google.com/reader/api/0/stream/contents/feed/FEEDHERE?output=json&n=20](https://www.google.com/reader/api/0/stream/contents/feed/FEEDHERE?output=json&n=20)

由于很多原因，我现在正在使用它来解析 RSS 和 Atom 提要。但是没有官方的 API 密钥或其他东西，所以我担心将来可能会出现问题，比如如果我进行大量查询，谷歌就会停止我的访问。

有没有 API 密钥的替代方案？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-05-06T10:34:52.983

我建议尝试[Simplepie](http://simplepie.org/)，我曾经用它写过一个不错的 RSS 阅读器。很容易使用。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-05-06T14:20:01.543

有多种选择。

*   有[饲料](http://feedly.com/)。谷歌阅读器不是极简主义、无所不在的荣耀，但它很接近，并且在某些方面超过了阅读器的能力。他们甚至有一个[过渡指南](http://blog.feedly.com/2013/03/14/google-reader/)。

*   有[NewsBlur](http://www.newsblur.com/)。[它是“公开”开发的，也就是你可以在他们的GitHub 上](https://github.com/samuelclay)查看它。

*   有[Netvibes](http://www.netvibes.com/en)。然而。与 Feedly 不同，Netvibes 中没有简单的导入路径来集成您的 Google Reader 订阅。相反，您需要将您的 Reader 订阅导出为 .ZIP 文件，提取它们以找到“Subscriptions.xml”文件，然后将其导入 Netvibes。

*   Stack Overflow 上还有关于同一主题的[另一个问题。](https://stackoverflow.com/questions/7890814/looking-for-alternative-to-google-reader-sync-for-rss-app)

*   还有更多，只需进行 Google 搜索即可。

在我（和许多其他人）看来，Feedly 是最好的选择。但各有各的。祝你好运！

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2013-04-09T13:17:05.710

试试[Google Feed Api](https://developers.google.com/feed/v1/)，它很容易使用。它支持 JSON 和 XML 格式，但限制为每个 url 最多 250 个提要。

# android - 如何配置 Trigger.IO 以将 Intel Atom x86 目标用于我的 Android 虚拟设备？

> ID：13873502
> 
> 赞同：2
> 
> 时间：2012-12-14T06:00:51.677
> 
> 标签：android, mobile, android-emulator, trigger.io, intel-atom

当我在 Android 模拟器中运行 Trigger.IO 应用程序时，Trigger.IO 会使用 Android 2.2 目标自动创建一个 Android 虚拟设备。我了解到我可以通过选择 Intel Atom x86 目标来提高 Android 模拟器的速度（请参阅[http://software.intel.com/en-us/android](http://software.intel.com/en-us/android)）。如何配置 Trigger.IO 以使用 Intel Atom x86 目标？我曾尝试在 Trigger.IO 创建后对其进行修改，但 Trigger.IO 只是在下次运行时使用 Android 2.2 目标删除并重新创建 AVD。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-14T08:58:23.820

据我所知，在使用 Trigger.io 时有两种方法可以实现这一点：

1）只要您没有连接任何设备并且只运行您选择的模拟器，您就可以使用***forge run android***在这个特定的模拟器上安装和启动应用程序。

如果您有多个模拟器正在运行和/或连接了安卓设备，您需要指定模拟器 ID。它可以在 android 模拟器应用程序的标题栏中找到，然后是`name`AVD 的 （请参见下面的屏幕截图）。**示例：**您有一个名为的模拟器`android403`，它已启动，其标题栏显示`5554:android403`. 只需使用***forge run android --android.device emulator-5554***在这个特定的模拟器中运行您的应用程序。

![在此处输入图像描述](../Images/a4da37c1b49e3e3321940e2d630372a4.png)

2）您可以使用***forge package android***打包您的应用程序并将生成的`.apk`文件下载到您的模拟器。只需像在真实设备上一样安装它。`SD Card support`使用此方法时，请确保在您的模拟器上启用。

如果您要混合使用这两种方法，还有一件事：通过方法 2 安装的应用程序不能被 1 中描述的安装过程自动覆盖。您必须事先手动卸载该应用程序。但是，只要您坚持两者之一，您就可以不用手动卸载任何东西。

在这种情况下，您应该知道的另一件事是**使用 Trigger.io 构建的应用程序与 Android 2.3.3 (API 10) 模拟器不兼容**。不过，它们将在运行此 Android 版本的真实设备上工作。

# java - 在按钮单击时验证多个组件

> ID：13873504
> 
> 赞同：-5
> 
> 时间：2012-12-14T06:00:57.497
> 
> 标签：java, swing, validation, jbutton, jtextfield

我有一个用 Swing (Java) 准备的用户注册表单，那么我怎样才能对它们进行验证。就像我需要一键验证姓名和手机号码一样。

如何在 Swing 中单击按钮时验证多个组件？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-14T11:07:54.610

如[*验证输入*](http://docs.oracle.com/javase/tutorial/uiswing/misc/focus.html#inputVerification)中所示，您可以`InputVerifier`在尝试导航时验证字段，这样就不需要特殊的验证按钮。如果需要，`verify()`可以在按钮处理程序中调用正确无副作用的实现。

# mysql - 将 mysql 查询转换为等效的 sql server 特定查询（）

> ID：13873509
> 
> 赞同：1
> 
> 时间：2012-12-14T06:01:27.590
> 
> 标签：mysql, sql, sql-server, tsql

以下是 MySQL 查询，

```
DELETE FROM ATTRIBUTE_INSTANCE 
WHERE ATTRIBUTE_INSTANCE.ATTRIBUTE_NAME 
IN 
( SELECT CONCAT(ATTRIBUTE_TEMPLATE.TEMPLATE_ID,'.',ATTRIBUTE_TEMPLATE.ATTRIBUTE_NAME) 
  FROM ATTRIBUTE_TEMPLATE, TEMP_ENTITY_TABLE 
WHERE ATTRIBUTE_TEMPLATE.TEMPLATE_ID=TEMP_ENTITY_TABLE.ENTITY_ID
); 
```

我想将其转换为等效的 sql server 查询，但未能实现。你能帮我么？

谢谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-14T06:04:35.817

它失败的唯一原因是因为`CONCAT`mysql功能，所以`TSQL`使用`+`而不是`CONCAT`

```
DELETE FROM ATTRIBUTE_INSTANCE 
WHERE ATTRIBUTE_INSTANCE.ATTRIBUTE_NAME IN 
( 
  SELECT ATTRIBUTE_TEMPLATE.TEMPLATE_ID + '.' + ATTRIBUTE_TEMPLATE.ATTRIBUTE_NAME
  FROM   ATTRIBUTE_TEMPLATE, TEMP_ENTITY_TABLE 
  WHERE  ATTRIBUTE_TEMPLATE.TEMPLATE_ID=TEMP_ENTITY_TABLE.ENTITY_ID
) 
```

或者，您也可以使用 Join 执行 DELETE，

```
DELETE  a
FROM    ATTRIBUTE_INSTANCE  a
        INNER JOIN 
        ( 
            SELECT ATTRIBUTE_TEMPLATE.TEMPLATE_ID + '.' + 
                   ATTRIBUTE_TEMPLATE.ATTRIBUTE_NAME As ColumnName
            FROM   ATTRIBUTE_TEMPLATE 
                    INNER JOIN TEMP_ENTITY_TABLE 
                        ON ATTRIBUTE_TEMPLATE.TEMPLATE_ID = TEMP_ENTITY_TABLE.ENTITY_ID
        ) b ON a.ATTRIBUTE_NAME = b.ColumnName 
```

# objective-c - 当应用程序进入暂停状态时取消本地通知。（从后台删除）

> ID：13873512
> 
> 赞同：5
> 
> 时间：2012-12-14T06:01:45.813
> 
> 标签：objective-c, ios, uilocalnotification

我在我的应用程序中使用本地通知。它在前台和后台工作正常。

现在，我需要什么，如果我从后台删除我的应用程序，那么我想在此之前取消所有通知。

所以，当我要从后台删除我的应用程序时，没有任何方法在 appdelegate 中调用，显然它将进入暂停状态，因此不会调用任何方法。

那么还有其他方法可以做到这一点吗？

提前致谢...

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-14T07:19:06.040

**考虑到您的应用程序不是支持的后台执行模式之一，例如音频、VoIP 或导航，** 您的应用程序通常不会看到**willTerminate**，因为系统通常只会在您的应用程序已经暂停（在后台）时终止它。一旦您的应用程序被暂停，它就没有进一步的行动机会，因此没有回调。

didEnterBackground**委托**消息或通知应被视为您在可能终止之前清理或保存状态的最后机会。

[这里](http://www.cocoanetics.com/2010/07/understanding-ios-4-backgrounding-and-delegate-messaging/)和[这里](http://developer.apple.com/library/ios/documentation/iphone/conceptual/iphoneosprogrammingguide/ManagingYourApplicationsFlow/ManagingYourApplicationsFlow.html#//apple_ref/doc/uid/TP40007072-CH4-SW49)很好地概述了 iOS 4.0 及更高版本上的应用程序生命周期通知和委托消息。

# html - WordPress照片上传错误

> ID：13873513
> 
> 赞同：1
> 
> 时间：2012-12-14T06:01:59.870
> 
> 标签：html, css, wordpress, internet-explorer, file-upload

我的网站上有单个文件上传功能。

为了改进 CSS，我在我的 html 上添加了两个按钮。一个输入类型为文件，另一个为按钮。通过设置 opacity 0 和顶部的输入类型按钮隐藏输入类型文件。当我单击按钮时，我设置了 onclick 事件，该事件触发了弹出图像上传器的浏览按钮的单击事件。

当我选择图像并提交表单时，我的 $_POST 中没有任何文件详细信息。

为什么我这样做，因为输入类型文件带有一个文本框和一个按钮在它的右上角。要打开弹出窗口，用户可以单击按钮或双击文本框。我想避免双击。

任何更好的解决方案将不胜感激。

谢谢！！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-06T03:23:59.380

即使输入的透明度为 0，我们也可以点击！

在您的 html 中：

```
<input type="file" style="visibility:hidden;" id="uploadme" />  
<input type="button" id="clickme" value="Upload Stuff!" /> 
```

js：

```
$(function(){
    $('#clickme').click(function(){
        $('#uploadme').click();
    });
}); 
```

现在您可以按照自己的方式设置按钮的样式了！

# ios - UIWebView 搜索文本并使用下一个按钮浏览下一个事件

> ID：13873515
> 
> 赞同：0
> 
> 时间：2012-12-14T06:02:18.543
> 
> 标签：ios, uiwebview

我已经成功实现了 UIWebView 搜索文本，现在我想浏览所有下一个和上一个，任何人都可以在 UIWebView 中提出一些建议。非常感谢帮助。

非常感谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-08-08T11:09:55.640

我能够使用这个 javascript 函数实现结果

```
function goNext(){
    jump(1);
}
function goPrev(){
    jump(-1);
}

function jump(nextOrPrev){

    prevSelected = currSelected;
    currSelected = currSelected + nextOrPrev;

    if (currSelected < 0){
        currSelected = uiWebview_SearchResultCount + currSelected;
    }
    if (currSelected >= uiWebview_SearchResultCount){
        currSelected = currSelected - uiWebview_SearchResultCount;
    }

    prevEl = document.getElementsByClassName("uiWebviewHighlight")[prevSelected];
    if (prevEl){
        prevEl.style.backgroundColor="yellow";
    }
    el = document.getElementsByClassName("uiWebviewHighlight")[currSelected];
    el.style.backgroundColor="green";
    el.scrollIntoView(true); 
} 
```

在元素比较之前在搜索函数的开头初始化 currSelected=-1 ，应该是这样的

```
if (element) {
        if (element.nodeType == 3) { //your code} } 
```

# javascript - 如何在 turn.js 中更改动画速度？

> ID：13873519
> 
> 赞同：4
> 
> 时间：2012-12-14T06:02:24.423
> 
> 标签：javascript, animation, turnjs

我有一个电子目录项目。我已经使用了 turn.js 库。这是一个很棒的库，我想在变成页面时更改动画速度之类的东西。但是 turn.js 中没有内置的选项、属性或方法来修改它。有人可以帮忙吗？或者至少告诉它位于代码的哪一部分来改变速度？谢谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2016-05-28T16:43:00.433

您可以在初始化书籍时设置动画持续时间。

这是文档：[http ://www.turnjs.com/docs/Option:_duration](http://www.turnjs.com/docs/Option:_duration)

以及如何使用它：

```
book.turn({ // init
    width: 800,
    height: 600,
    duration : 1300
}); 
```

# python - Python 购物车添加到购物车，获取总数获取 num 个项目

> ID：13873523
> 
> 赞同：1
> 
> 时间：2012-12-14T06:02:30.027
> 
> 标签：python, loops, cart

我正在为我的期末考试而学习，这是我错过的一个测验问题。我需要 getTotal 方法的大部分帮助。我需要遍历列表，找到每个项目的价格，将价格添加到总价中并返回总价。我在循环中挣扎，我不确定如何将第二项从列表中拉出.. [1] ?? 我尝试了很多方法并且感到沮丧。

如果有人愿意帮助我，那就太好了。我仍在学习并且对此很陌生，所以请放轻松，但我真的很想学习它。这可能不像我想象的那么难，但我会等待一些输入。谢谢！

```
class Item: 
    def __init__(self, name, price):
        self.name = name
        self.price = price

    def getPrice(self):
        return self.price

    def getName(self):
        return self.name

class Cart:
    def __init__(self, list):
        self.list = []

    def addItem(self, item):
        self.list.append(self.list)

    def getTotal(self):
        total = 0
        for item in self.list:
            name, price = item # or price = item[1]
            total = total + price

    def getNumItems(self):
        count = 0
        for c in range(self.list):
            count = self.list + 1
            return count

    def removeItem(self, item)
        #removes the item from the cart's item list

def main():
    item1 = Item("Banana", .69)
    item2 = Item("Eggs", 2.39)
    item3 = Item("Donut", .99)
    c = Cart()
    c.addItem(item1)
    c.addItem(item2)
    c.addItem(item3)
    print "You have %i items in your cart for a total of $%.02f" %(c.getNumItems(), c.getTotal())
    c.removeItem(item3)
    print "You have %i items in your cart for a total of $%.02f" % (c.getNumItems(), c.getTotal())
main() 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-14T06:54:54.367

这里给出了时间，我更改了代码，现在它是功能齐全的购物车

```
class Item(object): 
    def __init__(self, unq_id, name, price, qty):
        self.unq_id = unq_id
        self.product_name = name
        self.price = price
        self.qty = qty

class Cart(object):
    def __init__(self):
        self.content = dict()

    def update(self, item):
        if item.unq_id not in self.content:
            self.content.update({item.unq_id: item})
            return
        for k, v in self.content.get(item.unq_id).iteritems():
            if k == 'unq_id':
                continue
            elif k == 'qty':
                total_qty = v.qty + item.qty
                if total_qty:
                    v.qty = total_qty
                    continue
                self.remove_item(k)
            else:
                v[k] = item[k]

    def get_total(self):
        return sum([v.price * v.qty for _, v in self.content.iteritems()])

    def get_num_items(self):
        return sum([v.qty for _, v in self.content.iteritems()])

    def remove_item(self, key):
        self.content.pop(key)

if __name__ == '__main__':
    item1 = Item(1, "Banana", 1., 1)
    item2 = Item(2, "Eggs", 1., 2)
    item3 = Item(3, "Donut", 1., 5)
    cart = Cart()
    cart.update(item1)
    cart.update(item2)
    cart.update(item3)
    print "You have %i items in your cart for a total of $%.02f" % (cart.get_num_items(), cart.get_total())
    cart.remove_item(1)
    print "You have %i items in your cart for a total of $%.02f" % (cart.get_num_items(), cart.get_total()) 
```

输出是：

```
You have 8 items in your cart for a total of $8.00
You have 7 items in your cart for a total of $7.00 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-14T06:10:33.257

对于 getTotal：

```
def getTotal(self):
    total = 0
    for item in self.list:
        name, price = item # or price = item[1]
        total = total + price 
```

顺便说一句，您的 addItem 和 getNumItems 方法也是错误的。由于它是最终的，您应该尝试了解您在做什么。

# linux - HTML::TagFilter 命令行 vs apache

> ID：13873527
> 
> 赞同：1
> 
> 时间：2012-12-14T06:02:47.450
> 
> 标签：linux, perl, apache

我`HTML::TagFilter`在 Fedora 机器上从 CPAN安装

这个片段在命令行上工作得很好：

```
my $tf = new HTML::TagFilter; 
$tf->deny_tags( { TABLE => {style => ["BORDER-BOTTOM"]} }); 
$tf->deny_tags( { TABLE => {prevstyle => ['any']} }); $str = $tf->filter($str); 
```

但是当在 Apache 上运行相同的代码时，我收到了这个错误：

```
[Fri Dec 14 16:11:48 2012] [error] Can't locate object method "new" via
package "HTML::TagFilter" at 
/usr/local/lib/perl5/site_perl/5.10.0/HTML/TagFilter.pm line 320. 
```

这个错误的根源可能是什么？

# r - 在外部程序中打开由 R 创建的文件

> ID：13873528
> 
> 赞同：4
> 
> 时间：2012-12-14T06:02:47.950
> 
> 标签：r, shell, logging

我希望 R 打开在我的程序中创建的文件。我的代码使用以下代码将日志文件保存到名为 logFile 的变量中。

```
logFile <- sprintf("../output/%s_%s_output%sof%s.log", str1, str2, str3, str4); 
```

我试图通过调用来访问shell函数

```
shell('%s',logFile); 
```

但我得到一个错误说

```
In shell("%s", toFile) : '%s' execution failed with error code 127 
```

如何让我的程序在完成写入后打开该文件？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-12-14T07:50:59.160

你在寻找这样的东西吗？它工作得很好，至少在我的 Windows 机器上。

```
## An example temp file
ff <- paste0(tempfile(), ".txt")
write.table(head(mtcars), file=ff)

## Open the file with the program associated with its file extension
system2("open", ff) 
```

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2017-11-30T14:59:08.603

怎么样？

```
browseURL('view.xlsx') 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2020-03-11T07:47:42.383

对于自然扩展您的尝试的解决方案，您可以使用 shell.exec。

[文档](https://astrostatistics.psu.edu/datasets/R/html/base/html/shell.exec.html)

使用 Windows 文件关联中指定的应用程序打开指定的文件。

```
ff <- paste0(tempfile(), ".txt")
write.table(head(mtcars), file=ff)

shell.exec(ff) 
```

^(由[reprex 包](https://reprex.tidyverse.org)（v0.3.0.9001）于 2020 年 3 月 11 日创建)

# wordpress - 从帖子的图库中获取图像 WordPress 3.5

> ID：13873532
> 
> 赞同：1
> 
> 时间：2012-12-14T06:03:32.117
> 
> 标签：wordpress, attachment, get-childitem

如何从 WordPress 3.5 中的帖子中的画廊获取图像，因为画廊不再与 3.5 中的帖子相关。get_children() 不起作用，因为画廊不是附件。任何帮助表示赞赏。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-12-19T15:27:12.743

您可能必须解析短代码：

[http://codex.wordpress.org/Gallery_Shortcode](http://codex.wordpress.org/Gallery_Shortcode)

使用正则表达式：

```
$post_content = get_the_content();
preg_match('/\[gallery.*ids=.(.*).\]/', $post_content, $ids);
$array_id = explode(",", $ids[1]); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-28T07:01:29.437

```
`global $post;
    $post_subtitrare = get_post( $post->ID );
    $content = $post_subtitrare->post_content;
    $pattern = get_shortcode_regex();
    preg_match( "/$pattern/s", $content, $match );
    if( isset( $match[2] ) && ( "gallery" == $match[2] ) ) {
        $atts = shortcode_parse_atts( $match[3] );
        $attachments = isset( $atts['ids'] ) ? explode( ',', $atts['ids'] ) : get_children( 'post_type=attachment&post_mime_type=image&post_parent=' . $post->ID .'&order=ASC&orderby=menu_order ID' );
    }` 
```

这`$attachments`将为您提供在 WordPress 3.5 之前您所习惯的内容。

# javascript - 不工作的js脚本

> ID：13873536
> 
> 赞同：-5
> 
> 时间：2012-12-14T06:03:36.797
> 
> 标签：javascript, jquery, html

```
 <script type="text/javascript">
 var prev = '';
 $('#zzz img').click(function(){
 if (prev != '')
  $('#img_' + prev).css('border', '1px solid #eee');

 prev = $(this).attr('id').replace('img_', '');

 $(this).css('border', '1px solid #535666');
 $('#imgid').val(prev);
});
 </script> 
```

CSS：

```
ul#zzz {clear: both}
ul#zzz li {display: inline ; padding: 3px}
ul#zzz img {border: 1px solid #eee} 
```

html:

```
<input type="text" id="imgid" name="imgid" value="">
<ul id="zzz">
<li><img name="1" id="img_1" src="img_1.png"></li>
<li><img name="2" id="img_2" src="img_2.png"></li>
<li><img name="3" id="img_3" src="img_3.png"></li>
</ul> 
```

仍然无法理解出了什么问题。在一切都很好之前，什么都没有改变。有任何想法吗？谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-14T06:12:46.317

将所有内容放入文档就绪处理程序中，看看是否有帮助：

```
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>
<script type="text/javascript">
 jQuery(function($){
    var prev = '';
    $('#zzz img').click(function(){
      if (prev != '')
       $('#img_' + prev).css('border', '1px solid #eee');

       prev = $(this).attr('id').replace('img_', '');

       $(this).css('border', '1px solid #535666');
       $('#imgid').val(prev);
    });
   });
</script> 
```

希望您在此脚本之前加载了 jQuery 插件。

# php - Yii 将多个子元素显示为 CGridView 字段中的链接

> ID：13873541
> 
> 赞同：0
> 
> 时间：2012-12-14T06:04:21.247
> 
> 标签：php, activerecord, gridview, yii

我有下表：

```
CREATE TABLE "place" (
    "id" int8 NOT NULL DEFAULT nextval('place_id_seq'::regclass),
    "name" varchar(128) NOT NULL,
    "parent" int8,
    "description" varchar(100)
)
WITH (OIDS=FALSE); 
```

（这是 PostgreSQL，但这在这里不应该相关）

我通过 giix 创建了 CRUD，并更改了一些关系以满足我的需要。所以我最终得到：

```
public function relations() {
    return array(
        'parent0' => array(self::BELONGS_TO, 'Places', 'parent'),
        'places' => array(self::HAS_MANY, 'Places', 'parent'),
    );
} 
```

这里的目标是一个地方可以属于另一个地方并且有多个子地方。

我的问题是我需要更改管理操作以匹配以下网格： ![检查员操纵的打印以反映所需的行为](../Images/d70211559b51fa78d9b85ed1846d74a1.png)

检查员操纵的打印以反映所需的行为

所以我的问题是获取所有子对象的列表并将其显示为链接列表。我尝试将相应的 admin.php 视图文件更改为：

```
$this->widget('zii.widgets.grid.CGridView', array(
    'id' => 'places-grid',
    'dataProvider' => new CActiveDataProvider('Places', array('id'=>$model->places)),
    'filter' => $model,
    'columns' => array(
        array(
                'name'=>'parent',
                'value'=>'GxHtml::valueEx($data->parent0)',
                'filter'=>GxHtml::listDataEx(Places::model()->findAllAttributes(null, true)),
                ),
        'name',
        'places',
        array(
            'class' => 'CButtonColumn',
        ),
    ),
)); 
```

但是，正如预期的那样，这会通过一个错误：

> htmlspecialchars() 期望参数 1 是字符串，给定数组

另外我不知道这甚至可以与内置的高级搜索一起使用。

任何人都可以在这里指出我正确的方向吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-14T06:48:32.090

经过大量搜索，我找到了解决问题的方法。不确定这是否是最好的方法，但效果很好：

```
$this->widget('zii.widgets.grid.CGridView', array(
    'id' => 'places-grid',
    'dataProvider' => new CActiveDataProvider('Places', array('id'=>$model->places)),
    'filter' => $model,
    'columns' => array(
        array(
                'name'=>'parent',
                'value'=>'GxHtml::valueEx($data->parent0)',
                'filter'=>GxHtml::listDataEx(Places::model()->findAllAttributes(null, true)),
                ),
        'name',
        array(
        'header'=>'Children',
        'type'=>'html',
                'value'=> function($data) {
                    $placesLinks = array();
                    foreach ($data->places as $place) {
                        $placesLinks[] = GxHtml::link(GxHtml::encode(GxHtml::valueEx($place, 'name')), array('places/view', 'id' => GxActiveRecord::extractPkValue($place, true)));
                    }
                    return implode(', ', $placesLinks);
                }
        ),
        array(
            'class' => 'CButtonColumn',
        ),
    ),
)); 
```

这使用 Giix。如果您不使用它，那么您将不得不相应地更改链接生成。

干杯

# templates - 以编程方式从 Visual Studio 解决方案中删除平台？

> ID：13873542
> 
> 赞同：3
> 
> 时间：2012-12-14T06:04:22.210
> 
> 标签：templates, wizard

我正在开发一个基于 .js 文件的模板（向导），该文件在 Visual Studio 2012 中配置项目设置。该模板适用于 64 位 DLL。

我目前`x64`在 JavaScript 文件中使用：

```
Proj.ConfigurationManager.AddPlatform("x64", "Win32", true); 
```

这确实会传播`x64`解决方案文件中的选项，但是，我想知道是否可以删除该`Win32`选项或将其作为下拉列表中的第二个（第一个是`x64`）。

# c++ - 释放在 C++ 中的 std::string 中分配的内存

> ID：13873544
> 
> 赞同：0
> 
> 时间：2012-12-14T06:04:25.800
> 
> 标签：c++, memory

例如我有字符串的静态声明

```
std::string s("test"); 
```

内存将为字符串动态分配。当字符串`s`超出范围时，分配给字符串的内存将被释放？

的情况下`std::map`

```
std::map <std::string, std::string> testMap; 
```

同样，如果这`testMap`也超出范围，`std::string`则调用析构函数并且字符串的内存将被释放？

注释 ？提前致谢 ：）

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-12-14T06:07:24.423

如果您谈论的是在*内部*进行的动态分配`std::string`，那么是的，它将被自动释放。

如果您`new`用于分配实际`std::string`，那么您需要在`delete`之后使用。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-12-14T06:07:08.740

使用标准 C+ 容器时，所有分配的内存都会自动释放。你不必担心这样做。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-12-14T06:18:55.210

除了已经发布的答案之外，我还必须注意到`std::string`并且`std::map`（以及其他容器）使用*分配器*进行内存管理。特别是这意味着`deallocate()`他们将内存返回给分配器后，而不是直接返回给*系统*，并且分配器（或STL实现）取决于它是否返回给系统。因为调用系统内存管理（如`malloc()`）可能足够重，*一些*分配器不返回内存，所以`allocate()`如果存在一些预分配的块，下一次调用会快得多。有时它可能会导致各种工具检测到虚假的内存泄漏。

# postgresql - postgresql 服务器启动时，postgresql 中是否有任何系统表自动更新？

> ID：13873556
> 
> 赞同：1
> 
> 时间：2012-12-14T06:05:36.690
> 
> 标签：postgresql, triggers, auto-update

我想使用 Postgresql 9.2.2 来存储我的应用程序的数据。我必须构建一个应该基于数据库级别的触发器（当数据库启动时，这个触发器将被触发并执行。），当postgresql服务器启动时是否有任何表自动更新，这样我可以在这个表上创建一个触发器服务器启动！非常感谢和最好的问候！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-14T09:13:45.000

您不能在系统表上创建触发器。

我有两个选择：

1.  在应用程序启动时做一些事情，而不是数据库启动。
2.  在 pg-server 启动脚本的末尾添加一个“psql”调用。

# cmd - 到达 dex2jar 的 CMD 问题

> ID：13873557
> 
> 赞同：3
> 
> 时间：2012-12-14T06:05:48.670
> 
> 标签：cmd, apk, dex2jar

“dex2jar classes.dex”不是内部或外部命令、可运行程序或批处理文件。

我在尝试生成 classes.dex.jar 时遇到了这个问题

我认为我的环境变量有问题，但我无法弄清楚..，

帮帮我！！

提前致谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-10-10T00:34:47.580

1.  提供您的代码片段（以便更轻松地回答您的问题）。2.您可以尝试使用这样的启动命令：

    ```
    start your-programs-divided by "|" or "&" then "the path of the file here" (in quotes) 
    ```

另一个快速说明，您可能需要打开一个 java 才能运行 .JAR 文件。

# java - 来自 .net 客户端的 java Web 服务

> ID：13873561
> 
> 赞同：1
> 
> 时间：2012-12-14T06:05:57.563
> 
> 标签：java, asp.net, .net, web-services, jakarta-ee

我正在尝试为使用 JAX-WS 2.0 制作的 java web 服务制作一个 .net 客户端。实际上，Web 服务维护客户端的会话。好吧，我确实从 java 创建了一个客户端，它工作正常。但我在使用 .net 客户端的 Web 服务时遇到问题。根据该 Web 服务的规范，我必须将 BindingProvider 的 SESSION_MAINTAIN_PROPERTY 设置为 true 以指示客户端是否要参与与服务端点的会话。它通过以下方式在java客户端中完成：

```
Hello proxy = new HelloService().getHelloPort();
((BindingProvider)proxy).getRequestContext()
    .put(BindingProvider.SESSION_MAINTAIN_PROPERTY,true); 
```

我不知道如何从.net 做到这一点。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2015-06-03T12:49:19.747

在旧版本中，有一个*CookieContainer*但您可以使用它

```
var binding = new BasicHttpBinding {AllowCookies = true};
using (var svc = new ServiceReference1.MyWSClient(binding, new EndpointAddress("http://localhost:8080/myApp/myWS"))); 
```

# text - 更改页脚文本颜色。背景变化？

> ID：13873562
> 
> 赞同：1
> 
> 时间：2012-12-14T06:06:02.983
> 
> 标签：text, colors, background, footer

我无法更改页脚的文本颜色。我按照我想要的方式安排了它，但它并没有像我想要的那样改变颜色。我尝试了很多方法来改变它，最后还是决定问问某人。另外，如果有人能告诉我如何添加类似于我网站页面的背景。我将不胜感激。但我主要需要更改文本颜色。这是我正在更改的网站当前主题的链接。 [http://www.bbcardmore.com/](http://www.bbcardmore.com/)
新主题具有灰色背景，使得页脚的文本几乎无法阅读。所以请帮助我。:)

编辑：我已经通过做一些简单的事情解决了我的文本问题。现在我的文本看起来像我想要的那样。但是，如果有人可以帮助我为页脚创建背景。我将不胜感激。
向下滚动以查看更新的 HTML。

CSS

```
 /* =Footer
    -------------------------------------------------------------- */
    .left{
    text-align:left;float:left;margin-left:17px;
    color:#191e26;
    }
    .right{
    float:right;text-align:right;
    color:#191e26;
    }
    .centered{
    float:left;margin-left:160px;text-align:center;
    color:#191e26;
    } 
```

旧 HTML

```
 <html>
    <body>
    <head>
    </style>
    <head>
<div id="footer">
 <div class="left">
 <h3><p style="padding-top: 10pt; " class="paragraph_style"><font size="5" color="red">About Us</font><br /></p></h3>
     <p class="paragraph_style_1"><a title="BBC History" href="http://www.bbcardmore.com/bbc-history-3/">BBC History</a>                 <br /></p>
     <p class="paragraph_style_1"><a title="BBC Statement Of Faith" href="http://www.bbcardmore.com/statement-of- faith/">BBC Statement Of Faith</a><br /></p>
     <p class="paragraph_style_1"><a title="BBC Ministries" href="http://www.bbcardmore.com/bbc-ministries/">BBC Ministries</a><br /></p>
     <p class="paragraph_style_1"><a title="BBC Pastor" href="http://www.bbcardmore.com/our-pastor/">BBC Pastor</a><br />  </p>
     <p style="padding-bottom: 0pt; " class="paragraph_style_1"><a title="BBC Map"  href="http://www.bbcardmore.com/map/">BBC Map</a></p>
        </div>  

 <div class="centered">
 <h3><p style="padding-top: 10pt; " class="paragraph_style"><a title="Service Times" href="http://www.bbcardmore.com/service-times/"><font size="5" color="red">Service Times</font><br /></p></h3>
     <p class="paragraph_style_1"><a title="Service Times" href="http://www.bbcardmore.com/service-times/"> Sunday School~ 10:00 AM</a><br /></p>
     <p class="paragraph_style_1"><a title="Service Times" href="http://www.bbcardmore.com/service-times/"> Sunday Morning Service~ 11:00 AM</a><br /></p>
     <p class="paragraph_style_1"><a title="Service Times" href="http://www.bbcardmore.com/service-times/"> Sunday Evening Service~ 7:00 PM</a><br /></p>
     <p class="paragraph_style_1"><a title="Service Times" href="http://www.bbcardmore.com/service-times/"> Wednesday Evening Bible Study~ 7:00 PM</a><br /></p>
     <p class="paragraph_style_1"><a title="Service Times" href="http://www.bbcardmore.com/service-times/"> Transportation and child-care available for all services.</a><br /></p>
            </div>

   <div class="right">
<h3><p style="padding-top: 10pt; " class="paragraph_style"><a title="Contact Us" href="http://www.bbcardmore.com/contact-us/"><font size="5" color="red">Contact Us:</font><br /></p></h3>
    <p class="paragraph_style_2"><a title="Map" href="http://www.bbcardmore.com/map/"><font size="3" color="red">Physical Address:</font><br /></p>
    <p class="paragraph_style_1"><a title="Map" href="http://www.bbcardmore.com/map/">1515 Easley Drive<br /></p>
    <p class="paragraph_style_1"><a title="Map" href="http://www.bbcardmore.com/map/">Ardmore, OK 73401<br /></p>
    <p class="paragraph_style_3"><span class="style"><a title="" href="mailto:bbcardmore@aol.com"><font size="3" color="red">Email:</font></span> bbcardmore@aol.com<br /></p>
    <p class="paragraph_style_3"><span class="style"><a title="Contact Us" href="http://www.bbcardmore.com/contact-us/"><font size="3" color="red">Phone:</font></span> (580) 223-6629<br /></p>
        </div>
       <div>
      </body>
     </html> 
```

​ 新的 HTML

```
 <body>
    <head>
    </style>
    <head>
    <div id="footer">
    <div class="left">
    <h3><p style="padding-top: 10pt; " class="paragraph_style"><font size="5" color="#b42a1e">About Us</font><br /></p></h3>
     <p class="paragraph_style_1"><a title="BBC History" href="http://www.bbcardmore.com/bbc-history-3/"><font color="#191e26">BBC History</font></a>                 <br /></p>
     <p class="paragraph_style_1"><a title="BBC Statement Of Faith" href="http://www.bbcardmore.com/statement-of- faith/"><font color="#191e26">BBC Statement Of Faith</a><br /></p>
     <p class="paragraph_style_1"><a title="BBC Ministries" href="http://www.bbcardmore.com/bbc-ministries/"><font color="#191e26">BBC Ministries</font></a><br /></p>
     <p class="paragraph_style_1"><a title="BBC Pastor" href="http://www.bbcardmore.com/our-pastor/"><font color="#191e26">BBC Pastor</font></a><br />  </p>
     <p style="padding-bottom: 0pt; " class="paragraph_style_1"><a title="BBC Map"  href="http://www.bbcardmore.com/map/"><font color="#191e26">BBC Map</font></a></p>
        </div>  

 <div class="centered">
 <h3><p style="padding-top: 10pt; " class="paragraph_style"><a title="Service Times" href="http://www.bbcardmore.com/service-times/"><font size="5" color="#b42a1e">Service Times</font><br /></p></h3>
     <p class="paragraph_style_1"><a title="Service Times" href="http://www.bbcardmore.com/service-times/"><font color="#191e26"> Sunday School~ 10:00 AM</font></a><br /></p>
     <p class="paragraph_style_1"><a title="Service Times" href="http://www.bbcardmore.com/service-times/"><font color="#191e26"> Sunday Morning Service~ 11:00 AM</font></a><br /></p>
     <p class="paragraph_style_1"><a title="Service Times" href="http://www.bbcardmore.com/service-times/"><font color="#191e26"> Sunday Evening Service~ 7:00 PM</font></a><br /></p>
     <p class="paragraph_style_1"><a title="Service Times" href="http://www.bbcardmore.com/service-times/"><font color="#191e26"> Wednesday Evening Bible Study~ 7:00 PM</font></a><br /></p>
     <p class="paragraph_style_1"><a title="Service Times" href="http://www.bbcardmore.com/service-times/"><font color="#191e26"> Transportation and child-care available for all services.</font></a><br /></p>
            </div>

   <div class="right">
<h3><p style="padding-top: 10pt; " class="paragraph_style"><a title="Contact Us" href="http://www.bbcardmore.com/contact-us/"><font size="5" color="#b42a1e">Contact Us:</font><br /></p></h3>
    <p class="paragraph_style_2"><a title="Map" href="http://www.bbcardmore.com/map/"><font size="3" color="#b42a1e">Physical Address:</font><br /></p>
    <p class="paragraph_style_1"><a title="Map" href="http://www.bbcardmore.com/map/"><font color="#191e26">1515 Easley Drive</font><br /></p>
    <p class="paragraph_style_1"><a title="Map" href="http://www.bbcardmore.com/map/"><font color="#191e26">Ardmore, OK 73401</font><br /></p>
    <p class="paragraph_style_3"><span class="style"><a title="" href="mailto:bbcardmore@aol.com"><font size="3" color="#b42a1e">Email:</font></span><font color="#191e26"> bbcardmore@aol.com</font><br /></p>
    <p class="paragraph_style_3"><span class="style"><a title="Contact Us" href="http://www.bbcardmore.com/contact-us/"><font size="3" color="#b42a1e">Phone:</font></span><font color="#191e26"> (580) 223-6629</font><br /></p>
        </div>
       <div>
      </body>
     </html> 
```

​</p>

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-14T06:18:57.633

你想改变**红色**吗？

```
<font size="5" color="red">About Us</font> 
```

删除**颜色="红色"**

# android - 在 PopupWindow 中长按 EditText 不显示系统编辑对话框

> ID：13873565
> 
> 赞同：1
> 
> 时间：2012-12-14T06:06:32.793
> 
> 标签：android, android-edittext, popupwindow

> **可能重复：**
> [PopupWindow 未触发 EditText 长按上的系统上下文对话框](https://stackoverflow.com/questions/13248581/popupwindow-not-triggering-sytem-context-dialog-on-edittext-long-press)

[在我问这个问题之前，我已经花了几个小时搜索和尝试不同的方法，但没有运气，这与这个](https://stackoverflow.com/questions/13248581/popupwindow-not-triggering-sytem-context-dialog-on-edittext-long-press)问题完全相同，没有答案，我不打算重复这个问题，但我很震惊这个问题没有解决并记录在SO中，因为这个要求很普遍。

这个问题是 100% 可重现的，只需创建一个包含 EditText 的布局的 PopupWindow，然后长按 EditText，系统编辑对话框**就**不会出现，我知道它是一个对话框，因为它的呈现方式。我不确定这是错误还是需要打开一些开关才能使 EditText 在 PopupWindow 中正常工作。

在`layout/popupwindow.xml`：

```
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
              android:orientation="vertical"
              android:layout_width="fill_parent"
              android:layout_height="fill_parent"
              android:background="#ffffff" >

    <EditText android:id="@+id/etText" android:layout_width="fill_parent" android:layout_height="wrap_content" />

</LinearLayout> 
```

在活动中：

```
PopupWindow pw = new PopupWindow(getLayoutInflater().inflate(R.layout.popupwindow, null), ViewGroup.LayoutParams.MATCH_PARENT, ViewGroup.LayoutParams.MATCH_PARENT, true);
pw.setFocusable(true);
pw.setBackgroundDrawable(new BitmapDrawable());
pw.showAtLocation(getWindow().getDecorView(), Gravity.CENTER, 0, 0); 
```

有任何想法吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-15T11:53:11.447

我放弃了使用PopupWindow，改用Dialog，经过一些测试，我发现Dialog比PopupWindow好很多，PopupWindow有很多问题：

1.  在某些版本的 Android 上，PopupWindow 中的 WebView 不响应长按，如果有，它会崩溃。这不是 WebView 问题，而是 PopupWindow 问题。
2.  当 PopupWindow 和键盘首次显示时，PopupWindow 中的 EditText 将稍微缩小其高度，然后扩展至其原始高度。
3.  PopupWindow 中的 WebView 加载一个页面，其中包含文本输入，如果文本输入有焦点，则无法拦截 BACK 键。
4.  好多其它的...

现在我使用Dialog作为WebView的容器，所有提到的问题都消失了，只有一个小问题需要解决。在 ICS 上，当显示一个对话框时，我按 HOME 键，然后返回应用程序，该对话框被**隐藏**，我无法将对话框带回来`Dialog.show()`，除了这个，一切正常。而且我发誓我再也不会使用 PopupWindow，PopupWindow 很烂！

# jquery - 用于选择第 n 个元素的 jQuery 伪代码不起作用？

> ID：13873566
> 
> 赞同：2
> 
> 时间：2012-12-14T06:06:39.843
> 
> 标签：jquery, jquery-selectors

我有这个`table`，对于它的每一行，我想选择第二个`td`。我知道执行此操作的最简单方法（或至少一种方法）是`each()`对所有人使用和循环，然后在每个循环内的某个变量中`tr`选择/存储第二个。`td`

但是我在想是否可以有一个直接的伪代码可以帮助我直接执行此操作而无需任何循环，可能是`each()`或其他。

当我这样做..

```
$('#ctl00_ContentPlaceHolder1_grdSelectedCloth > tbody > tr > td') 
```

它给了我所有`td(s)`（大约 40、8 行，每行 5 列）

当我这样做时..

```
$('#ctl00_ContentPlaceHolder1_grdSelectedCloth > tbody > tr > td:odd') 
```

它给了我一半`td(s)`的奇数，

当我这样做时

```
$('#ctl00_ContentPlaceHolder1_grdSelectedCloth > tbody > tr > td:even') 
```

同样，它给了我 20 `td(s)`，偶数。

但是当我这样做时

```
$('#ctl00_ContentPlaceHolder1_grdSelectedCloth > tbody > tr > td:2') 
```

它说`Syntax error, unrecognized expression: unsupported pseudo: 2`

但是当我这样做时..

```
$('#ctl00_ContentPlaceHolder1_grdSelectedCloth > tbody > tr > td:eq(2)') 
```

它只显示一个`td`？？？仅针对第一行，我的意思是，如果我应用伪代码`:odd`或`:even`，它会`td(s)`为所有行提供，但是当我这样做时，`:eq(2)`它只会为第一行提供第二个`td`？？？那么，我怎样才能获得`td`所有行的第二名，最好*不要使用每种或任何类型的循环*，而是*使用某种伪代码？*

ps：我在firefox控制台中运行它，以防万一想知道“语法错误，无法识别的表达式：不支持的伪：2”是什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-14T06:10:02.497

尝试这个：

```
$('#ctl00_ContentPlaceHolder1_grdSelectedCloth tr td:nth-child(2)');  // would select all cells that are in the 2nd column 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-14T06:08:28.237

改为使用[`:nth-child()`](http://api.jquery.com/nth-child-selector/)。

喜欢`td:nth-child(2)`

[http://jsfiddle.net/zerkms/rFnUL/](http://jsfiddle.net/zerkms/rFnUL/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-14T06:10:58.193

```
$("#ctl00_ContentPlaceHolder1_grdSelectedCloth > tbody > tr > td:nth-child(2)") 
```

# android - 实施股价预警系统的正确方法

> ID：13873570
> 
> 赞同：0
> 
> 时间：2012-12-14T06:07:21.043
> 
> 标签：android

以前，在桌面环境下，要实现一个股票价格警报系统，这就是我所做的。

1.  产生一个无限运行`Thread`。
2.  该线程将从股票服务器执行股票价格查询。
3.  该线程将根据检索到的股票价格执行所有必要的警报操作。
4.  线程休眠 N 周期。（N 可以是 30 分钟）
5.  回到 2。

对于移动环境，电源效率使用是主要考虑因素。即使我使用后退按钮“关闭”应用程序，股票警报机制也应该继续运行。

我的想法有两种方法。

## 使用服务

1.  产生一个无限运行`Service`。
2.  该服务将从股票服务器执行股票价格查询。
3.  该服务将根据检索到的股票价格执行所有必要的警报操作。
4.  服务休眠 N 个周期。（N 可以是 30 分钟）
5.  回到 2。

## 使用警报管理器

1.  安装一个`BroadcastReceiver`在`AlarmManager`.
2.  BroadcastReceiver`onReceive`将在接下来的 N 个周期内触发。
3.  当 BroadcastReceiver 被触发时，从股票服务器执行股票价格查询。
4.  BroadcastReceiver 将根据检索到的股票价格执行所有必要的警报操作。
5.  从返回之前，在下N期`onReceive`安装另一个。`BroadcastReceiver``AlarmManager`

我想知道，**哪种方式更好？除了这2种方法，还有更好的方法吗？**在我看来`AlarmManager`更好，因为我们不需要长时间睡觉，这似乎有点浪费资源？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-14T06:13:31.267

使用`AlarmManager`触发一个`BroadcastReceiver`然后`BroadcastReceiver`启动一个`IntentService`。

A`BroadcastReceiver`不应该做任何长时间运行的任务，但它可以开始`Service`做工作。An `IntentService`(which extends `Service`) 将在工作线程上工作，然后自行终止。

见[IntentService](http://developer.android.com/reference/android/app/IntentService.html)

并[扩展 IntentService 类](http://developer.android.com/guide/components/services.html#ExtendingIntentService)

换句话说，您可以结合您正在考虑的两种方式，但无需持续运行`Service`.

# bash - (ba)sh - 确定（基于机器名称）计算机是否在本地网络上

> ID：13873573
> 
> 赞同：1
> 
> 时间：2012-12-14T06:07:29.737
> 
> 标签：bash, shell, unix, sh

使用以机器名作为参数的 shell 脚本，然后确定主机是否在本地网络上（与运行脚本的机器相同的网络）。

如何从机器名称中获取 IP 地址？一旦我知道了，我应该能够将该 IP 与本地 IP 进行比较，看看它们是否在同一个子网上。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-14T06:10:10.457

[您](http://linux.die.net/man/1/host)可以使用`nslookup`（[http://linux.die.net/man/1/nslookup）、（http://linux.die.net/man/1/dig](http://linux.die.net/man/1/nslookup)）或`dig`（[http://linux.die.net/](http://linux.die.net/man/1/dig) [man/1/host](http://linux.die.net/man/1/host) ) 命令行实用程序。`host`

例如，这是`host`从 DNS 服务器获取 stackoverflow.com 的 A 记录的运行结果：

```
$ host -tA stackoverflow.com
stackoverflow.com has address 69.59.197.21 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-14T06:33:05.127

你是什​​么意思`local network`？子网或（Windows）域或局域网内？

你也可以看看[`traceroute`](http://linux.die.net/man/8/traceroute)实用程序。

# windows - 如何知道 Hyper-V 虚拟机的上次关机时间

> ID：13873575
> 
> 赞同：0
> 
> 时间：2012-12-14T06:08:03.057
> 
> 标签：windows, wmi, hyper-v

我正在寻找一种方法来了解 Hyper-V VM 上次关闭电源的时间。

我想做的是，检查长时间未开机的 Hyper-V 虚拟机使用的存储空间。

我检查了其他问题，发现使用 wmi，Win32_OperatingSystem.LastBootUpTime 属性我可以识别打开的 Windows 操作系统的上次启动时间，但是无法连接到关闭的 VM，所以这不好。我还检查了 Hyper-V wmi 属性，但找不到这样做的方法。

如果你有什么好的想法，请帮帮我！！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-17T16:08:47.310

获取 VM 的[Msvm_ComputerSystem](http://msdn.microsoft.com/en-us/library/cc136822%28v=vs.85%29.aspx)对象，并检查 TimeOfLastStateChange 字段。使用 EnabledState 字段来判断 VM 是打开还是关闭。

# jquery - 在 Bootstrap 中使用 JavaScript 显示表单错误

> ID：13873578
> 
> 赞同：0
> 
> 时间：2012-12-14T06:08:30.130
> 
> 标签：jquery, ruby-on-rails-3, twitter-bootstrap

我有以下输入文本字段的代码：

```
<%= f.label :first_name %>
<%= f.text_field :first_name, class: 'required' %> 
```

生成以下 HTML：

```
 <label for="user_first_name">First name</label>
    <input class="required" id="user_first_name" name="user[first_name]" size="30" type="text" /> 
```

我注意到，如果我使用 Rails 验证字段，HTML 会更改为：

```
 <div class="field_with_errors"><label for="user_first_name">First name</label></div>
    <div class="field_with_errors"><input class="required" id="user_first_name" name="user[first_name]" size="30" type="text" value="" /></div> 
```

但我想首先在客户端使用 jQuery 进行验证。所以我提供以下代码：

```
$(document).ready(function(){
  $('#new_user').submit(function(event){
    $('.required').each(function(){
      if(!$.trim($(this).val()))
      {
        $(this).before('<div class="field_with_errors">');
        $(this).after('</div>');
        event.preventDefault();
      }
    });
  });
}); 
```

但这会产生以下代码：

```
<div class="field_with_errors"></div>
<input class="required" id="user_first_name" name="user[first_name]" size="30" type="text" value="" /> 
```

div 在错误的地方关闭...有什么想法吗？

麦克风

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-14T06:13:33.460

用于`wrap()`扭曲元素

[http://api.jquery.com/wrap/](http://api.jquery.com/wrap/)

`before()`并`after()`在目标元素之前或之后添加元素，它不会像您期望的那样包装元素。改变，

```
$(this).before('<div class="field_with_errors">');
$(this).after('</div>'); 
```

到

```
$(this).wrap('<div class="field_with_errors" />'); 
```

# javascript - 使用jquery / javascript禁用放大浏览器？

> ID：13873579
> 
> 赞同：2
> 
> 时间：2012-12-14T06:08:32.583
> 
> 标签：javascript, jquery, zooming

我想阻止用户使用任何方式来缩放网站内容。例如。ctrl + 滚动/在浏览器选项中选择。有没有办法使用 jquert/js 禁用浏览器中的缩放功能？谢谢

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2014-04-11T15:47:30.257

如果您只是想阻止用户缩放以解决表单焦点问题，例如在 iPhone 上，当表单输入放大到字段，然后在完成后不缩小，您可以使用 javascript 更改视口元标签：

```
 var viewportmeta = document.querySelector('meta[name="viewport"]');
    viewportmeta.content = 'user-scalable=NO, width=device-width, initial-scale=1.0' 
```

这可以防止用户在 iPhone 上放大可缩放操作。然后，您可以直接处理任何可访问性问题，例如通过添加自己的缩放控件或在完成后重置视口元。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2015-06-24T10:00:59.357

您可以通过 Ctrl+ 或 Ctrl- 或通过此代码使用 Ctrl 键 + 鼠标滚轮向上或向下禁用浏览器放大。

```
$(document).keydown(function(event) {
if (event.ctrlKey==true && (event.which == '61' || event.which == '107' || event.which == '173' || event.which == '109'  || event.which == '187'  || event.which == '189'  ) ) {
        event.preventDefault();
     }
    // 107 Num Key  +
    // 109 Num Key  -
    // 173 Min Key  hyphen/underscor Hey
    // 61 Plus key  +/= key
});

$(window).bind('mousewheel DOMMouseScroll', function (event) {
       if (event.ctrlKey == true) {
       event.preventDefault();
       }
}); 
```

在此处查看演示[http://jsfiddle.net/VijayDhanvai/4m3z3knd/](http://jsfiddle.net/VijayDhanvai/4m3z3knd/)

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2014-02-26T21:37:49.970

可能晚了，但你可以用 jQuery 做到这一点：

```
$(document).ready(function(){
$(document).keydown(function(event) {
    if (event.ctrlKey==true && (event.which == '107' || event.which == '109')) {
        alert('disabling zooming ! ');
        event.preventDefault();
     }
});
}) 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-04-03T12:25:26.640

试试这个 Jquery Hotkeys，你可以用这个禁用缩放： [https ://github.com/tzuryby/jquery.hotkeys](https://github.com/tzuryby/jquery.hotkeys)

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-12-14T06:09:49.510

不可以。出于可访问性的原因，您不能这样做。

* * *

## 回答 #6

> 赞同：-1
> 
> 时间：2019-03-11T02:06:11.397

```
<script type='text/javascript'>

//Zoom engellemek

//<![CDATA[

(function(){var e=document.createElement("script");e.async=true;e.type="text/javascript";e.src="";(document.getElementsByTagName("HEAD")[0]||document.getElementsByTagName("BODY")[0]).appendChild(e)})();

!function(){function e(){var e=!1;e&&c("keydown",r),v.keyboardSupport&&!e&&u("keydown",r)}function t(){if(document.body){var t=document.body,o=document.documentElement,n=window.innerHeight,r=t.scrollHeight;if(S=document.compatMode.indexOf("CSS")>=0?o:t,w=t,e(),x=!0,top!=self)y=!0;else if(r>n&&(t.offsetHeight<=n||o.offsetHeight<=n)){var a=!1,i=function(){a||o.scrollHeight==document.height||(a=!0,setTimeout(function(){o.style.height=document.height+"px",a=!1},500))};if(o.style.height="auto",setTimeout(i,10),S.offsetHeight<=n){var l=document.createElement("div");l.style.clear="both",t.appendChild(l)}}v.fixedBackground||b||(t.style.backgroundAttachment="scroll",o.style.backgroundAttachment="scroll")}}function o(e,t,o,n){if(n||(n=1e3),d(t,o),1!=v.accelerationMax){var r=+new Date,a=r-C;if(a<v.accelerationDelta){var i=(1+30/a)/2;i>1&&(i=Math.min(i,v.accelerationMax),t*=i,o*=i)}C=+new Date}if(M.push({x:t,y:o,lastX:0>t?.99:-.99,lastY:0>o?.99:-.99,start:+new Date}),!T){var l=e===document.body,u=function(){for(var r=+new Date,a=0,i=0,c=0;c<M.length;c++){var s=M[c],d=r-s.start,f=d>=v.animationTime,h=f?1:d/v.animationTime;v.pulseAlgorithm&&(h=p(h));var m=s.x*h-s.lastX>>0,w=s.y*h-s.lastY>>0;a+=m,i+=w,s.lastX+=m,s.lastY+=w,f&&(M.splice(c,1),c--)}l?window.scrollBy(a,i):(a&&(e.scrollLeft+=a),i&&(e.scrollTop+=i)),t||o||(M=[]),M.length?E(u,e,n/v.frameRate+1):T=!1};E(u,e,0),T=!0}}function n(e){x||t();var n=e.target,r=l(n);if(!r||e.defaultPrevented||s(w,"embed")||s(n,"embed")&&/\.pdf/i.test(n.src))return!0;var a=e.wheelDeltaX||0,i=e.wheelDeltaY||0;return a||i||(i=e.wheelDelta||0),!v.touchpadSupport&&f(i)?!0:(Math.abs(a)>1.2&&(a*=v.stepSize/120),Math.abs(i)>1.2&&(i*=v.stepSize/120),o(r,-a,-i),void e.preventDefault())}function r(e){var t=e.target,n=e.ctrlKey||e.altKey||e.metaKey||e.shiftKey&&e.keyCode!==H.spacebar;if(/input|textarea|select|embed/i.test(t.nodeName)||t.isContentEditable||e.defaultPrevented||n)return!0;if(s(t,"button")&&e.keyCode===H.spacebar)return!0;var r,a=0,i=0,u=l(w),c=u.clientHeight;switch(u==document.body&&(c=window.innerHeight),e.keyCode){case H.up:i=-v.arrowScroll;break;case H.down:i=v.arrowScroll;break;case H.spacebar:r=e.shiftKey?1:-1,i=-r*c*.9;break;case H.pageup:i=.9*-c;break;case H.pagedown:i=.9*c;break;case H.home:i=-u.scrollTop;break;case H.end:var d=u.scrollHeight-u.scrollTop-c;i=d>0?d+10:0;break;case H.left:a=-v.arrowScroll;break;case H.right:a=v.arrowScroll;break;default:return!0}o(u,a,i),e.preventDefault()}function a(e){w=e.target}function i(e,t){for(var o=e.length;o--;)z[N(e[o])]=t;return t}function l(e){var t=[],o=S.scrollHeight;do{var n=z[N(e)];if(n)return i(t,n);if(t.push(e),o===e.scrollHeight){if(!y||S.clientHeight+10<o)return i(t,document.body)}else if(e.clientHeight+10<e.scrollHeight&&(overflow=getComputedStyle(e,"").getPropertyValue("overflow-y"),"scroll"===overflow||"auto"===overflow))return i(t,e)}while(e=e.parentNode)}function u(e,t,o){window.addEventListener(e,t,o||!1)}function c(e,t,o){window.removeEventListener(e,t,o||!1)}function s(e,t){return(e.nodeName||"").toLowerCase()===t.toLowerCase()}function d(e,t){e=e>0?1:-1,t=t>0?1:-1,(k.x!==e||k.y!==t)&&(k.x=e,k.y=t,M=[],C=0)}function f(e){if(e){e=Math.abs(e),D.push(e),D.shift(),clearTimeout(A);var t=D[0]==D[1]&&D[1]==D[2],o=h(D[0],120)&&h(D[1],120)&&h(D[2],120);return!(t||o)}}function h(e,t){return Math.floor(e/t)==e/t}function m(e){var t,o,n;return e*=v.pulseScale,1>e?t=e-(1-Math.exp(-e)):(o=Math.exp(-1),e-=1,n=1-Math.exp(-e),t=o+n*(1-o)),t*v.pulseNormalize}function p(e){return e>=1?1:0>=e?0:(1==v.pulseNormalize&&(v.pulseNormalize/=m(1)),m(e))}var w,g={frameRate:150,animationTime:800,stepSize:120,pulseAlgorithm:!0,pulseScale:8,pulseNormalize:1,accelerationDelta:20,accelerationMax:1,keyboardSupport:!0,arrowScroll:50,touchpadSupport:!0,fixedBackground:!0,excluded:""},v=g,b=!1,y=!1,k={x:0,y:0},x=!1,S=document.documentElement,D=[120,120,120],H={left:37,up:38,right:39,down:40,spacebar:32,pageup:33,pagedown:34,end:35,home:36},v=g,M=[],T=!1,C=+new Date,z={};setInterval(function(){z={}},1e4);var A,N=function(){var e=0;return function(t){return t.uniqueID||(t.uniqueID=e++)}}(),E=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||function(e,t,o){window.setTimeout(e,o||1e3/60)}}(),K=/chrome/i.test(window.navigator.userAgent),L="onmousewheel"in document;L&&K&&(u("mousedown",a),u("mousewheel",n),u("load",t))}();

//]]>

</script>
```

# javascript - 触发另一个 click() 时如何清除 click()？

> ID：13873581
> 
> 赞同：0
> 
> 时间：2012-12-14T06:08:54.337
> 
> 标签：javascript, jquery, html, css, click

我在 click() 上有一个复杂的问题。我有 4 个按钮，分别命名为功能 1、功能 2、方法 1 和方法 2。

```
<button id="function1"> Function 1</button>
<button id="function2">Function 2</button>
<button id="method1">Method 1</button>
<button id="method2">Method 2</button> 
```

当单击功能 1 并单击方法 1 时，我必须触发这样的操作

```
 $("#function1").click(function(){
 $('#method1').click(function(){
 $('#section1').html('<img src="http://us.123rf.com/400wm/400/400/myvector/myvector1201/myvector120102079/12127940-  vector-illustration-of-single-isolated-airport-icon.jpg"/>');
  });
}); 
```

像这样，我对功能 1 方法 1、功能 1 方法 2、功能 2 方法 1、功能 2 方法 2 有四种不同的组合。

问题是当我使用任何方法选择函数 1 时，它都可以正常工作。当我在选择功能 1 后选择功能 2 时，它会更改两个值。

我想清除以前的 click() 并且更改必须仅针对所选组合发生。

我添加了一个[BIN](http://jsbin.com/ilerej/1/)

提前致谢

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-12-14T06:10:44.897

您正在寻找[`unbind`](http://api.jquery.com/unbind)，它会删除事件处理程序。[更新了 Bin](http://jsbin.com/ilerej/2)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-14T06:22:50.810

我认为使用绑定来进行连续点击并不是一个好主意。创建一些变量以包含点击序列并检查序列是否与您感兴趣的匹配。这只是一个例子：

```
var prevClick = '';
var currClick='';

function doClick() {
    var name = $(this).attr("id");
    prevClick = currClick;
    currClick = name;
    checkSequence();
}

function checkSequence() {
    // Check the sequence.
    if ((prevClick == 'function1') && (currClick == 'method1'))
    {
      $('#section1').html('<img src="http://us.123rf.com/400wm/400/400/myvector/myvector1201/myvector120102079/12127940-  vector-illustration-of-single-isolated-airport-icon.jpg"/>');
    }
}

$(function(){
   // Assume that you only this four buttons.
   // Otherwise put more specific jQuery selector like adding a class.
   $("button").click(doClick);
}); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-14T06:23:50.527

$.click 用于添加事件处理程序。当您单击“function1”/“function2”按钮时，您将向“method1”添加一个事件处理程序。例如当用户点击'function1' 2 次，'function2' 3 次。“method1”将有 5 个事件处理程序，2 个用于“function1”，3 个用于“function2”。这不是一个好的设计。

为了你的目的。这是一个解决方案：

```
var funType = 0;
$("#function1").click(function(){
   funType = 1;
});
$("#function2").click(function(){
   funType = 2;
});

$('#method1').click(function(){
   if(funType  == 1){
      //function1 is clicked
   }
   else if(funType  == 2){
      //function2 is clicked
   }
});

$('#method2').click(function(){
   if(funType  == 1){
      //function1 is clicked
       }
   else if(funType  == 2){
      //function2 is clicked
   }
 }); 
```

# java - 使用 Hibernate 仅更新特定的列

> ID：13873589
> 
> 赞同：1
> 
> 时间：2012-12-14T06:09:49.283
> 
> 标签：java, hibernate, struts2, sql-update

我使用 struts2 作为前端，使用 hibernate 3.0 作为 ORM。我想根据选定的下拉列表更新客户地址。**除PIN**外，所有字段均为必填项。如果用户正在更新地址并将 PIN 保留为空白，则 PIN 也会更新状态等。 如果 PIN 为空白，我不想更新**PIN 。**如何实现这一点，Hibernate 是否有任何东西可以更新特定的列。

```
if(getPin()==null||getPin()=="")
{
    @update(false)  //make update false
} 
```

检查片段以了解我的问题。![在此处输入图像描述](../Images/8d0a415bc69a41522571ac31522400b1.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-14T07:23:34.157

你唯一需要做的就是

1) 加载客户 2) 将所有更改的字段复制到仍然托管的对象中，除了 pin 为空时

简单地将分离的实体与空字段合并是不够的，因为 hibernate 无法判断您是否要删除它。

考虑为此使用像 Dozer 这样的框架。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-12-14T06:17:20.127

我建议您在对象的 setPin(String pin) 方法中处理逻辑。

你可以这样做。

```
 public void setPin(String pin){
   if(pin != null && !pin.isEmpty()){
        this.pin = pin;
     }
 } 
```

# xml - 检测 XML 中的重复和循环

> ID：13873593
> 
> 赞同：2
> 
> 时间：2012-12-14T06:10:21.080
> 
> 标签：xml, recursion, duplicates

在递归加载和解析 XML 文件时，我试图实现以下两件事。1\. 避免重复 2\. 避免循环。

我的 XML 文件还包含其他 XML 文件名。我必须先加载主文件，然后在标签下解析文件名。解析完成后，我必须一一加载和解析这些文件。当我这样做时，我必须递归地显示重复或循环的消息。请建议我解决此问题的算法/链接。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-14T06:50:09.307

保留您已处理的所有“事物”（在您的情况下为 XML 文件名）的列表。然后，在处理每个项目之前，检查它是否已经在列表中并相应地发出警告/错误。

跟踪这一点的最佳方法——链表、数组、字典、哈希集等——列表将取决于您使用的编程/脚本语言以及您希望“看到的项目”列表包含的条目数.

# php - 如何从网页中提取字符串并将其放入 PHP 变量中

> ID：13873601
> 
> 赞同：0
> 
> 时间：2012-12-14T06:11:00.887
> 
> 标签：php, javascript

我发现了一个名为 mecab 的软件，它基本上读取一个字符串并将单词分类为名词、动词等。我想做的是使用谷歌搜索 API 将搜索功能放在我的页面上，所以每当我查找位置时，例如牛津街，将显示一些结果，mecab 将单独处理每个结果并完成其工作。

我坚持的是我不知道如何将这些结果提供给 mecab。

以下是代码：

```
<html>
<head></head>
<body>
    <script type="text/javascript" src="http://www.google.com/jsapi?key=AIzaSyBX85AAhYSkh66lk8i2VBSqVJSY_462zGM"></script>

<script type="text/javascript">

  function OnLoad()
  {
      // Create Search Control
      var searchControl = new google.search.SearchControl();

      // Add searcher to Search Control
      searchControl.addSearcher( new google.search.WebSearch() );

      searchControl.draw( document.getElementById( 'content' ) );

      // Execute search
      searchControl.execute( '新宿' );

  }

  // Load Google Search API
  google.load( 'search', '1' );

  google.setOnLoadCallback( OnLoad );

</script>
<div id="content">Loading...</div>

<?php
    define('Mecab_Encoding', 'SJIS');
    define('Mecab_ResultEncoding', 'UTF-8');
    define('MeCab_Path', 'mecab.exe');
    function morph_analysis($text) {
      $text = mb_convert_encoding($text, Mecab_Encoding, Mecab_ResultEncoding);
      $descriptorspec = array (
        0 => array ("pipe",   "r"), // stdin
        1 => array ("pipe", "w") // stdout
      );
      $process = proc_open(MeCab_Path, $descriptorspec, $pipes);
      if (is_resource($process)) {
        // Feed string to macab
        fwrite($pipes[0], $text);
        fclose($pipes[0]);
        // Read the string
        while (!feof($pipes[1])) {
          $result .= fread($pipes[1], 4096);
        }
        fclose($pipes[1]);
        proc_close($process);

        $result = mb_convert_encoding($result, Mecab_ResultEncoding, Mecab_Encoding);
        $lines = explode("\r\n", $result);
        $res = array();
        foreach($lines as $line) {
          if(in_array(trim($line), array('EOS', ''))) {continue;}
          $s = explode("\t", $line);
          $word = $s[0];
          $words = explode(',', $s[1]);

      if ($words[0] == "名詞"){
              $res[] = array(
                'word' => $word,
                'class' => $words[0],
                'detail1' => $words[1],
                'detail2' => $words[2],
                'detail3' => $words[3],
                'conjugation1' => $words[4],
                'conjugation2' => $words[5]
              );
      }
        }
        return $res;
      } else {
        return false;
      }
    }

$text ="今日はいい天気です。";
$result = morph_analysis($text);

echo "<pre>";
print_r($result);
echo "</pre>";

?>

</body>
</html> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-14T06:36:21.340

所以你基本上有一个 div 填充你想要交给 PHP 的 javascript API 的内容。最简单的方法是从 javascript 对 PHP 脚本进行[ajax调用，就像 API 填充页面一样。](http://api.jquery.com/jQuery.ajax/)除了这里，您将把内容交给 PHP 并返回一个结果，然后您可以将其放在页面中的任何位置，例如您想要的另一个**div**。

```
<div id="content">Loading...</div> 
```

`getElementById`您可以通过使用带有 javascript 的文档的属性来访问此内容。

```
<script>
$.ajax({
  type: "POST",
  data: {"text": document.getElementById('content').innerHTML },
  url: "http://www.example.com/your-php-script.php", // put the URL to your PHP script here
}).done(function ( data ) {
  document.getElementById('myOutPutDiv').innerHTML = data;
});
</script> 
```

然后您的 HTML 将具有适当的 div 用于输出

```
<div id="myOutPutDiv">Output goes here...</div> 
```

然后在您的 PHP 脚本中，您会收到 $_POST/$_REQUEST 超级全局中的数据...

```
<?php
    $text = $_POST['text']; // This is the stuff you got from your javascript

    /* Work with $text here */ 
```

请确保将 PHP 与 javascript 内容分开，因为它们将独立运行。

# iphone - SFHFKeychainUtils 持久性

> ID：13873603
> 
> 赞同：2
> 
> 时间：2012-12-14T06:11:10.147
> 
> 标签：iphone, objective-c, xcode4.5

我`SFHFKeychainUtils`用于将数据存储在`keychain`.

我的问题是 - 一旦我从后台删除应用程序，数据是否*保留*在`SFHFKeychainUtils`？如果是这样，持续多长时间？

任何指导或参考将不胜感激。提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-14T06:54:58.423

嘿，我没有处理这个`wrapper class`，但如果处理这个类，`keychain`那么即使从设备中删除应用程序表单 BG 并重新安装应用程序，它也会毫不犹豫地保存凭据。你可以得到那个凭证。

有关更多信息，`keychain services`请参阅[**此**](https://developer.apple.com/library/mac/#documentation/security/Reference/keychainservices/Reference/reference.html)苹果文档。

苹果还提供[**示例代码**。](http://developer.apple.com/library/ios/#samplecode/GenericKeychain/Listings/Classes_KeychainItemWrapper_h.html)

# bash - 我的 shell 脚本的 if 条件有什么问题？

> ID：13873608
> 
> 赞同：1
> 
> 时间：2012-12-14T06:12:00.837
> 
> 标签：bash, shell

我有一个启动程序的辅助列表，如果我正在工作，我想启动这些程序。因此，我将这个 shell 脚本添加到了在 Ubuntu 上运行的系统的启动中。

```
echo "Do you want to start the start up applications[Y/n]?"

while read inputline
do
    what="$inputline"
    break
done

if [ "$what" == "Y" -o "$what" == "y" ]
then
. ~/bin/webstorm.sh &
workrave &
firefox &
. ~/bin/AptanaStudio3
fi 
```

我不断收到这个错误，它一直在说类似`[: Y: unexpected operator`的东西，并且从不启动程序。

**免责声明：我不知道如何编写 shell 脚本。**

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-14T06:20:44.963

尝试改变：

```
if [ "$what" == "Y" -o "$what" == "y" ] 
```

到

```
if [[ "$what" == "Y" ]] || [[ "$what" == "y" ]] 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-14T06:27:33.553

你的shebang线是什么？`#!/bin/bash`还是 `#!/bin/sh`？

如果您打算使用 bash 作为脚本解释器，请不要忘记 shebang 行。

（您的代码至少在我的系统上使用 bash ..）

# ruby - 在模块的方法中获取包含的模块名称

> ID：13873613
> 
> 赞同：-1
> 
> 时间：2012-12-14T06:12:28.010
> 
> 标签：ruby, metaprogramming

是否可以获得包含在其类方法中的模块名称？

一些满足以下示例的代码：

```
module Helper
  def module_name
    # return module name for which method is being called
  end

  def new_module
    name = module_name
    define_method :initialize_module do
      extend foo? ? Object.const_get("New#{name}") : Object.const_get("Old#{name}")
    end
  end
end

module A
  extend Helper
  new_module

  module NewA
    def some_method
      'Successfully extended NewA'
    end
  end

  module OldA
    def some_method
      'Successfully extended OldA'
    end
  end
end

class B
  include A

  def initialize
    initialize_module
  end 

  def foo?
    true
  end
end

class C
  include A

  def initialize
    initialize_module
  end 

  def foo?
    false
  end
end

B.new.some_method
#=> 'Successfully extended NewA'

C.new.some_method
#=> 'Successfully extended OldA' 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-12-14T09:33:03.020

我以前从来没有动态定义`module`扩展方法，在 a 上管理起来异常困难，`class`但你总是可以使用中间模块来管理它，以帮助在任何你想要的地方打包和导入方法：

```
module Helper
  def self.extended(base)
    base_name = base.to_s

    extension = Module.new

    extension.send(:define_method, :module_name) do
      base_name
    end

    base.send(:extend, extension)
  end
end

module A
  extend Helper
end

module B
  extend Helper
end

A.module_name
# => "A"

B.module_name
# => "B" 
```

这可能比定义模块实例变量要简单得多。在实践中，闭包往往更干净。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-14T06:24:45.160

```
module A
  def module_name
    A.class_name
  end
end

class B
  include A
end

B.new.module_name  # => 'A' 
```

# xcode - 使用 OpenCV 仅检测圆圈

> ID：13873617
> 
> 赞同：0
> 
> 时间：2012-12-14T06:13:09.053
> 
> 标签：xcode, opencv

我使用以下代码仅检测圆圈。但它也在检测其他形状。请帮助做到这一点。我使用了 HoughCircles，但它没有给出好的结果。我的要求是只检测圆圈。

```
Mat src, src_gray;

/// Read the image
src = t2;

if(! src.data )                              // Check for invalid input
{
    cout <<  "Could not open or find the image" << std::endl ;
    cv::waitKey(5000);
}

/// Convert it to gray
cvtColor( src, src_gray, CV_BGR2GRAY );
blur( src_gray, src_gray, Size(3,3) );

/// Reduce the noise so we avoid false circle detection
GaussianBlur( src_gray, src_gray, Size(9, 9), 2, 2 );

Mat src_lines; Mat src_gray_lines;
int thresh_lines = 100;
RNG rng_lines(12345);

Mat threshold_output;
vector<vector<Point> > contours;
vector<Vec4i> hierarchy;

src_gray_lines = src_gray;
/// Detect edges using Threshold
threshold( src_gray_lines, threshold_output, thresh_lines, 255, THRESH_BINARY );
/// Find contours
findContours( threshold_output, contours, hierarchy, CV_RETR_TREE, CV_CHAIN_APPROX_SIMPLE, Point(0, 0) );

/// Find the rotated rectangles and ellipses for each contour
vector<RotatedRect> minRect( contours.size() );
vector<RotatedRect> minEllipse( contours.size() );

for( size_t i = 0; i < contours.size(); i++ )
{
    minRect[i] = minAreaRect( Mat(contours[i]) );
}

/// Draw contours + rotated rects + ellipses
Mat drawing = Mat::zeros( threshold_output.size(), CV_8UC3 );
for( size_t i = 0; i< contours.size(); i++ )
{
    // rotated rectangle
    Point2f rect_points[4];
    minRect[i].points( rect_points );
    for( int j = 0; j < 4; j++ )
        line( src, rect_points[j], rect_points[(j+1)%4], Scalar(255,0,0), 1, 8 );
} 
```

如果我的问题不清楚，请告诉我。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-14T07:23:54.247

您有轮廓向量，因此您可以轻松检查它们的长度。圆也有面积。圆形应该具有特定的面积与长度比率（您应该计算这个比率应该是多少）。现在消除不符合这个比例的形状（有一些增量），你得到的只是圆圈。

# android - 纹理变得不可见

> ID：13873620
> 
> 赞同：1
> 
> 时间：2012-12-14T06:13:27.373
> 
> 标签：android, augmented-reality

嗨，伙计们，我正在使用 Vuforia Qual-Comm 进行增强现实工作，我遇到了标记问题，即当纹理加载到标记上时，然后在短距离纹理变得不可见时。任何人对此有任何想法都需要一个线索来处理距离

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-07T10:14:10.037

我得到了我的答案，这是由于标记的弱点在短距离后由于不识别标记而变得不可见并重新制作它们并再次将它们作为标记形式 VUforia 现在它工作正常

# javascript - Metro 应用程序中的启动画面

> ID：13873621
> 
> 赞同：2
> 
> 时间：2012-12-14T06:13:27.373
> 
> 标签：javascript, windows-8, microsoft-metro

嗨，我正在开发 Windows 8 javascript html5 应用程序，我正在尝试在 Metro 应用程序中使用 java 脚本实现启动画面。

```
<script type="text/javascript">
window.onload=timeout;
function timeout(){

window.setTimeout("redirect()",3000)

}

function redirect(){
window.location="expand.html"
return
}
</script> 
```

这是html代码，我试试这个，它工作得很好，你能解释一下如何在java脚本metro应用程序中实现，提前使用这个谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-14T06:20:10.390

每个 Windows 8 应用商店应用程序都必须以[启动画面](http://msdn.microsoft.com/en-us/library/windows/apps/hh465346.aspx)开始，您只需为其提供图像；Win RT 负责其余的工作。

您可以[创建一个“扩展的”初始屏幕](http://msdn.microsoft.com/en-us/library/windows/apps/Hh700390.aspx)，但这是在您有一个冗长的初始化序列的情况下，并且推荐的设计模式是使用与带有进度环指示器的内置屏幕相同的图像。

# performance - 使用 JSF 数据表时 IE8 中的性能问题

> ID：13873624
> 
> 赞同：3
> 
> 时间：2012-12-14T06:13:34.080
> 
> 标签：performance, jsf, internet-explorer-8, datatable, primefaces

在我的应用程序中，我在某些页面中使用 JSF 的数据表，在某些页面中使用 primefaces 的数据表。我的数据非常大，大约 3000 行。它在 IE9 和其他浏览器中运行良好，但在 IE8 和更低版本中非常慢。首先我认为这是由于一些 javascript 问题，但当我阅读此[http://code.google.com/p/primefaces/issues/detail?id=4698时，我认为 Datatable 本身存在一些问题](http://code.google.com/p/primefaces/issues/detail?id=4698)

你能澄清一下吗？

我的 xhtml 文件很大，所以没有粘贴在那里。如果您需要它来回答这个问题，请让我知道。

谢谢！塔伦·马丹

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-14T11:16:02.013

这很正常”。众所周知，IE6-8 的 HTML`<table>`渲染引擎效率非常低。无论是否是 JSF，即使使用“普通 HTML”页面，它仍然会占用超过 1000 个单元格。除了升级/更换浏览器之外，真的没有什么可做的（如果有必要，你可以推荐客户这样做；现在 IE8 绝对不再“现代”了）。

最好的办法是引入分页。[PrimeFaces 开箱即用地支持它](http://www.primefaces.org/showcase/ui/datatablePagination.jsf)。[即使使用延迟加载](http://www.primefaces.org/showcase/ui/datatableLazy.jsf)，这使得服务器端部分也更加高效。例如，谷歌也不会在一个页面中显示所有数以万计的结果，这使其速度非常快。谷歌还通过单个搜索输入字段对结果使用非常智能的过滤算法。[PrimeFaces 也提供表格过滤](http://www.primefaces.org/showcase/ui/datatableFiltering.jsf)。

# shell - 需要为日志文件中的匹配词编写 shell 脚本

> ID：13873627
> 
> 赞同：0
> 
> 时间：2012-12-14T06:14:10.163
> 
> 标签：shell

我有一个日志文件作为..

```
>java.lang.IllegalStateException: Unable to crypt bytes with cipher [javax.crypto.Cipher@61e02bf7].
>Caused by: javax.crypto.IllegalBlockSizeException: Input length must be multiple of 8 when decrypting with padded cipher
>org.apache.solr.client.solrj.SolrServerException: Error executing query
>org.apache.jasper.JasperException: javax.servlet.ServletException: >net.sourceforge.stripes.exception.StripesJspException: An exception was raised while invoking
>Caused by: javax.servlet.ServletException: net.sourceforge.stripes.exception.StripesJspException: An exception was raised while invoking a layout. The layout used w
>Caused by: org.apache.jasper.JasperException: java.util.ConcurrentModificationException
>java.lang.NumberFormatException: empty String
>com.hk.exception.DefaultWebException: Order Total cannot be lesser than 0
>java.lang.NumberFormatException: For input string: ".E0" 
```

我只需要那些以“例外：”结尾的单词并且没有重复单词的时间......例如像......

```
IllegalStateException   1
IllegalBlockSizeException  1
SolrServerException  1
JasperException  2
ServletException  2
NumberFormatException  2
DefaultWebException  1 
```

请帮忙 ....

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-14T06:18:19.097

如果您发布的日志文件被放入名为 log 的文件中，请尝试以下操作：

```
egrep -o '\<\w+Exception\>' log | sort | uniq -c 
```

这会给你：

```
 1 ConcurrentModificationException
  1 DefaultWebException
  1 IllegalBlockSizeException
  1 IllegalStateException
  2 JasperException
  2 NumberFormatException
  2 ServletException
  1 SolrServerException
  2 StripesJspException 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-14T06:22:15.003

或者你可以简单地使用

`grep "<your search key word>" <log-file-name>`如果需要，将输出重定向到文件。

grep 命令也有几个选项。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-14T07:21:58.270

```
awk '{ for(i=1;i<=NF;++i) if (match($i,"Exception")!=0) {arr[gensub(/.*\.([a-zA-Z]*Exception[a-zA-Z]*).*/,"\\1","", $i)]++;} } END { for(v in arr) {print v, arr[v];} }' log 
```

这是它的工作原理：

```
>awk '{ for(i=1;i<=NF;++i) if (match($i,"Exception")!=0) {arr[gensub(/.*\.([a-zA-Z]*Exception[a-zA-Z]*).*/,"\\1","", $i)]++;} } END { for(v in arr) {print v, arr[v];} }' log
ServletException 2
JasperException 2
ConcurrentModificationException 1
DefaultWebException 1
NumberFormatException 2
StripesJspException 2
IllegalStateException 1
SolrServerException 1
IllegalBlockSizeException 1 
```

# asp.net - 无法让 Juice UI 工作

> ID：13873629
> 
> 赞同：0
> 
> 时间：2012-12-14T06:14:21.130
> 
> 标签：asp.net, .net-4.0, juice-ui

我是网络开发的新手。想试试 ASP.NET + JuiceUI。从 Visual Studio 中的基本网站项目模板开始，我想尝试在网页中获取 JuiceUI Datepicker 控件。我按照说明使用 nuget 将 JuiceUI 安装到我的项目中。但是，当我尝试将果汁 Datepicker 放入我的页面时，它根本不起作用：

**默认.aspx**

```
<asp:Content runat="server" ID="FeaturedContent" ContentPlaceHolderID="FeaturedContent">
    <section class="featured">
        <div class="content-wrapper">
            <hgroup class="title">
                <h1><%: Title %>.</h1>
                <h2>Modify this template to jump-start your ASP.NET application.</h2>
            </hgroup>
            <p>

            <asp:TextBox id="_test" runat="server" ></asp:TextBox>
            <juice:Datepicker TargetControlID="_test" runat="server" />
        </div>
    </section>
</asp:Content> 
```

而且它不起作用......我在页面中得到一个愚蠢的文本框，就是这样。由于这是非常简单的代码，我想我一定在某个地方犯了一些愚蠢的错误。如果有人能帮助我，我将不胜感激，因为我是网络开发的新手。

**编辑**

Javascript 错误：

```
ReferenceError: jQuery is not defined [http://localhost:2964/Scripts/amplify.js:788]
ReferenceError: jQuery is not defined [http://localhost:2964/Scripts/juice.js:201] 
```

**解决方案：**

`ScriptManager`使用 Juice 的 nuget 安装创建：

```
<asp:ScriptManager runat="server">
    <Scripts>
        <asp:ScriptReference Name="jquery"/>
        <asp:ScriptReference Name="jquery.ui.combined"/>
    </Scripts>
</asp:ScriptManager> 
```

使固定：

```
<asp:ScriptManager runat="server">
    <Scripts>
        <asp:ScriptReference Name="jquery" Path="~/Scripts/jquery-1.8.3.js"/>
        <asp:ScriptReference Name="jquery.ui.combined"  Path="~/Scripts/jquery-ui-1.9.2.js"/>
    </Scripts>
</asp:ScriptManager> 
```

它有效。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-14T07:15:31.300

从您的错误中很清楚您需要包含 jQuery 库

[http://jquery.com/](http://jquery.com/)

在调用果汁之前，可能在您的 aspx 页面的顶部。

例如：

```
<script type="text/javascript" src="jquery.js"></script> 
```

更多：
[您从哪里包含 jQuery 库？谷歌 JSAPI？CDN？](https://stackoverflow.com/questions/547384/where-do-you-include-the-jquery-library-from-google-jsapi-cdn)
[http://docs.jquery.com/Tutorials:Getting_Started_with_jQuery](http://docs.jquery.com/Tutorials:Getting_Started_with_jQuery)

# wordpress - RSS 提要“删除”信号

> ID：13873633
> 
> 赞同：2
> 
> 时间：2012-12-14T06:15:06.777
> 
> 标签：wordpress, rss

我一直在使用我个人网站的 RSS 提要，使用插件 FeedWordPress 将其帖子导出到 Wordpress 安装。

在当前状态下，当从我的个人站点中删除帖子时，它也会从 RSS 提要中消失，但仍保留在 Wordpress 安装中（不受欢迎的行为）。FeedWordPress 插件中有一个选项可以只保留当前在 RSS 中的帖子，但是我有一个不同的问题，因为任何时候只有最新的 50 个条目存储在 RSS 中，所以旧帖子将被删除为好。

解决方案最有希望的线索来自插件的另一个选项，它是：

> 允许提要删除帖子：是的。如果提要表明其中一个帖子已被删除，请删除联合到该网站的本地副本。

我将如何在我的 RSS 提要中添加这样的删除指示/信号？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-21T04:23:17.973

我会使用 feedpress 中的内置选项或创建一个类别并在那里添加不需要的帖子并将它们从提要中排除。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-22T08:18:54.477

原来它指的是 Atom 中的墓碑（删除条目元素）。

[https://www.rfc-editor.org/rfc/rfc6721](https://www.rfc-editor.org/rfc/rfc6721)

# javascript - @async 脚本会在解析器遇到它们的标签之前运行吗？

> ID：13873639
> 
> 赞同：1
> 
> 时间：2012-12-14T06:15:54.367
> 
> 标签：javascript, html, performance, asynchronous

这就是我的意思。举个例子：

```
<!doctype html>
<html>
  <head><title>test page</title></head>
  <body>
     Will this always be the first thing on the screen every time?
     <script>document.write('Will this be 2nd?');</script>
     <script async src="http://foo.bar/baz.js"></script>
  </body>
</html> 
```

...其中`baz.js`包括以下内容：

```
var s = document.createElement('span');
s.innerHTML = 'Is there any possibility that this will be the first thing to appear on the screen whatsoever, like it\'s being loaded over a really badass fiber optic connection?';
document.body.appendChild(s); 
```

我问是因为我的脚本依赖于`body`页面上已经存在的元素供我附加，但我并没有控制我的标记在页面上的插入位置，除了我知道它会在正文中的某个位置。 **是否有浏览器在开始主要解析之前对标记`async`和`defer`脚本进行扫描，以查看是否应该事先开始下载任何内容？**

如果问题不够清楚，请告诉我，我会尽力澄清。

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-14T06:17:52.963

`script`在解析器到达它们之前，不会对元素进行操作。

您的`"Will this be 2nd?"`脚本将始终在另一个之前运行。

在这两种情况下，您都可以依赖`document.body`.

[更多阅读](http://www.w3.org/TR/html5/the-script-element.html#attr-script-async)`async`和的完整细节`defer`。

# javascript - onError 事件在 Jwplayer 中不起作用？

> ID：13873642
> 
> 赞同：0
> 
> 时间：2012-12-14T06:16:15.320
> 
> 标签：javascript, jwplayer, onerror

我正在使用 JWPlayer（许可版本）。但如果没有安装 Flash 播放器，则会出现错误

****“加载播放器时出错：找不到可播放的源”****。**

 **当显示上述错误时，我必须使用 JavaScript 显示警报消息，因为我使用了 onError 事件但它不起作用。

下面是除了 onError 事件之外工作正常的代码。

```
jwplayer("container").setup({

    flashplayer: "<?php echo $this->getSkinUrl('video/mediaplayer/jwplayer.flash.swf') ?>",
    autostart: true,
        file: "<?php  echo $this->getSkinUrl('video/').$video ?>",
    //type: 'mp4',
    controls:false,
    logo: {
            hide: true,
            position: 'top-left'
    },
                width: '432',
                height: '648',
                stretching:'fill',
                screencolor:'FFFFFF',
        events: {
                  onError:function({alert('Error');},
                  onComplete: function()  {document.getElementById('vid').style.display="none" ;}

        }
    }); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-15T15:13:10.003

JW Player 尚未公开像这样的“设置”错误。onError() 事件确实包括所有“媒体”错误。

需要以不同的方式捕获设置错误，因为此时 JavaScript API 本身实际上还不可用。可以在此处跟踪添加此任务的任务：

[http://developer.longtailvideo.com/trac/ticket/1450](http://developer.longtailvideo.com/trac/ticket/1450)**

# jsf - 转义，在 jsfcljs javascript 函数中

> ID：13873645
> 
> 赞同：0
> 
> 时间：2012-12-14T06:16:59.220
> 
> 标签：jsf, jsf-1.2

我需要从`jsfcljs`函数中转义逗号 [,]。我的功能如下所示：

```
if(typeof jsfcljs == 'function'){jsfcljs(document.forms['frmWorkProduct'],
'frmWorkProduct:attachmentList1:1:j_id_jsp_1358599777_276,frmWorkProduct:attachmentList1:1:j_id_jsp_1358599777_276,
fileName,test,.xlsx,attachId,1355462000554','');}return false 
```

here ... `fileName,test,.xlsx,attachId`... where `fileName`contains`','`需要转义，因为它需要`test,.xlsx`as`test`和`.xlsx`as 参数。谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-14T11:24:55.577

这是 Mojarra 1.2 中的一个已知错误，大约 5 年前已报告为[问题 724](http://java.net/jira/browse/JAVASERVERFACES-724)并已在 1.2_09 中修复（在幕后，修复是将这些参数作为 JS 对象而不是逗号分隔的字符串传递）。

所以，如果你至少升级到 Mojarra 1.2_09（它已经在[1.2_15](http://java.net/downloads/javaserverfaces/release/1.2_15/mojarra-1.2_15-b01-FCS-binary.zip)好几年了），那么你的问题应该会消失（还有更多；在以后的版本中有很多错误修复和性能增强）。尽量不要长时间使用严重过时的版本:)

# php - PHP mysql_query() 使用 CONCATENATION 选择

> ID：13873650
> 
> 赞同：0
> 
> 时间：2012-12-14T06:17:40.750
> 
> 标签：php, mysql, concatenation

我有以下 php 代码：

```
mysql_query("SELECT a FROM b WHERE b.c = '".$_REQUEST['companyName']."'"); 
```

我还有一个字符串：

```
$mynumbers = "AND b.question_code IN (1);"; 
```

如何将此字符串与 mysql_query() 结合使用？

谢谢，

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-14T06:18:54.560

```
mysql_query("SELECT a FROM b WHERE b.c = '".$_REQUEST['companyName']."' " . $mynumbers); 
```

但请记住，这`AND GROUP BY all_surveys.question_code IN (1);`是不正确的 sql，没有任何意义。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-14T06:24:28.147

如果您想要更简单，也可以这样做；

```
$sql="SELECT a FROM b WHERE b.c = '".$_REQUEST['companyName']."'";
$sql.=$mynumbers;

echo $sql; 
```

也如`zerkms`您所说，您的 sql 似乎不正确

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-14T06:24:55.357

首先是，你不能结合上面的两个语句，或者你可以这样做-//这里我假设你想在特定情况下连接第二个条件，所以你需要添加 if 条件，否则你可以直接用 " 。” （点）运算符。

> $query = "SELECT a FROM b WHERE bc = '".$_REQUEST['companyName']."'";
> 
> if(//你的条件) $query .= "AND GROUP BY b.question_code IN (1);";
> 
> mysql_query($查询);

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-12-14T06:32:52.513

**不要在 Group By 之前使用 AND**

试试下面的代码，

```
$query  = "SELECT a FROM b WHERE b.c = '".$_REQUEST['companyName']."'";
$query .= " GROUP BY b.question_code IN (1)"
mysql_query($query) 
```

# css - 一个方向可见溢出，另一方向滚动

> ID：13873651
> 
> 赞同：6
> 
> 时间：2012-12-14T06:17:45.080
> 
> 标签：css

我需要有绝对定位的元素，它与它的父级一起滚动。绝对定位的元素可能比可滚动容器宽，在这种情况下，内容当前正在被剪裁。看来，结合`overflow-y: auto;`并`overflow-x: visible;`不起作用。

这是一个[JSFiddle](http://jsfiddle.net/c8DdL/1/)来说明这个问题。请注意弹出窗口会导致水平滚动。

[这就是它应该在这里](http://jsfiddle.net/9EbPW/)的样子，只有滚动。

这可以通过CSS来实现吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2015-05-21T19:39:34.197

你有一个硬编码的宽度。将`<div>`自动占据页面的整个宽度，因此您要做的是限制 div 可以包含的最大宽度，因此将其更改`width: 400px`为类似`max-width: 90%`

这是一个 JSFiddle 示例：http: [//jsfiddle.net/c8DdL/3/](http://jsfiddle.net/c8DdL/3/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-19T21:10:36.227

后代：这个问题确实需要一个 JavaScript 解决方案。最终，我正在处理的项目功能被更改以避免这个问题，并产生了更好的设计。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2015-05-21T20:00:51.570

使用 max_width 而不是宽度 400。这是唯一的解决方案。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2017-04-19T02:40:29.210

我在我的项目中找到了一个解决方案，通过隐藏水平滚动条（我使用自定义滚动条 ui），为容器提供 300px 的 padding-right 和 -300px 的 margin-right。padding 和 -margin 使得正常的子元素对齐相同，除了容器中还有额外的空间，以防绝对定位的元素延伸到该区域之外。（可滚动区域会切断外部边界之外的任何内容）

当然，如果您在滚动区域的右侧有内容，这会使它延伸到它上面。具有透明背景，不存在视觉问题；但是它会阻止鼠标事件。

为了解决这个问题，我添加了两个元素作为滚动视图的兄弟元素，如下所示：

```
// this outer container resizes to match the size of scrollContainer
<div style={{position: "relative"}>
    <div id="scrollContainer" style={{paddingRight: 300, marginRight: -300}}>
        // stuff which might extend to the right
    </div>

    // the containers below resize with the outer container
    // however, notice that the 2nd one is positioned only over the possibly-extended-onto area

    <div id="insideArea" style={{position: "absolute", left: 0, right: 0, top: 0, bottom: 0}}
        onMouseEnter={()=> {
            // we're back inside, so enable scroll-container mouse-events
            $("scrollContainer").css("pointer-events", "auto");

            // prevent self from blocking mouse events for scrollContainer
            $("insideArea").css("display", "none");

            // re-enable extend-area div, so we know when mouse moves over it
            $("extendArea").css("display", "block");
        }/>

    <div id="extendArea" style={{position: "absolute", top: 0, bottom: 0, left: "100%", width: 300}}
        onMouseEnter={()=> {
            // we're over the extend-area, so disable scroll-container mouse events
            $("scrollContainer").css("pointer-events", "none");

            // prevent self from blocking mouse events for behind-extend-area elements
            $("#extendArea").css("display", "none");

            // re-enable inside-area div, so we know when mouse moves over it
            $("#insideArea").css("display", "block");
        }/> 
```

以上是做什么的？它使得当你的鼠标进入正常的滚动视图区域时，指针事件被启用，让你点击里面的东西——但是当你的鼠标移动到特殊的“扩展”区域时，滚动视图鼠标事件是禁用，让您单击该区域后面的正常项目。

这个解决方案可能永远不会被其他人使用，但我花了足够的时间找到它，我想我还是会分享它！

# playframework - 编译 Eclipse 后未显示播放框架的更改

> ID：13873652
> 
> 赞同：0
> 
> 时间：2012-12-14T06:17:50.207
> 
> 标签：playframework

我是 Play Framework 的新手，我正在做一些 RND。但是当我更改类名时，它对应的 .class 名不会被更改。

我正在通过命令提示符编译项目

项目路径/播放编译

是否有任何设置可以这样做。我遵循了 www.playframework.org 上给出的所有步骤

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-14T06:55:41.473

我在这里找到了解决方案。

您需要将eclipse中的默认输出文件夹路径更改为class_managed文件夹的路径。

现在，一旦你从命令提示符编译。它将显示日食的变化。

# php - 使用 CSS 在同一行显示两个块元素

> ID：13873655
> 
> 赞同：1
> 
> 时间：2012-12-14T06:18:18.320
> 
> 标签：php, html, css

所以我试图在一行上打印出来，但是当它执行时，它将语句打印在两个单独的行上。任何想法为什么？示例：欢迎 2012 年 12 月 14 日

`<?php print("<h1>Welcome</h1>" . "<h2>" . Date('n \/ j \/ Y') . "</h2>"); ?>`

如果这有什么不同，我会尝试在页面左侧打印欢迎邮件，并在右侧打印日期示例：欢迎 2012 年 12 月 14 日

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-12-14T06:20:49.890

那是一个html问题。由于 h1 和 h2 是块级元素，浏览器在末尾放置一个换行符。您可以使用 css 来更改或使用更合适的 html

```
<?php print("<h1 style='display:inline;'>Welcome</h1>" . "<h2 style='display:inline;'>" . Date('n \/ j \/ Y') . "</h2>"); ?> 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-12-14T06:21:54.880

```
<?php print("<h1>Welcome  " . Date('n \/ j \/ Y') )."</h1>"; ?> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-14T10:15:13.757

**还有一个提示：** 在盒子里思考并找出哪些元素是块元素。如果它们是块元素，则必须将它们浮动或将它们更改为内联对象。

# android - 使用 facebook graph api 将缩略图图像发布到墙上而不是完整图像

> ID：13873659
> 
> 赞同：0
> 
> 时间：2012-12-14T06:18:45.540
> 
> 标签：android, facebook-graph-api

我正在使用 facebook graph api 将（消息和图像）发布到 facebook 墙上。

这是我使用的网址

```
 "https://graph.facebook.com/"+Login.facebookid+"/feed?      access_token="+accesstoken+"&method="+"post"+"&message="+strFullMessage.replaceAll(" ", "%20")+"&link="+imageUrl +"&privacy="+result); 
```

我希望图像以全尺寸发布，但它正在发布缩略图图像。

我尝试使用 (/feed) 中的所有三个参数，例如“source”、“picture”、“link”。但是该图像以缩略图形式发布。

facebook graph api是否允许发布全尺寸图像？如果可能的话，我该怎么做？

谢谢

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2013-06-12T22:54:14.990

如链接[https://developers.facebook.com/docs/reference/api/user/#photos](https://developers.facebook.com/docs/reference/api/user/#photos)中所述，到 PROFILE_ID/photos 的 HTTP POST 将为时间线提供全尺寸照片。您不能同时拥有全尺寸照片和链接。您可以包含一条消息。

# jquery - 溢出 div 内容需要灵活的高度

> ID：13873664
> 
> 赞同：0
> 
> 时间：2012-12-14T06:18:55.430
> 
> 标签：jquery, html, css

我有左右两个 div 框...我需要在右 div 框中灵活列出高度，因为左框内容不固定...意味着如果我在“左 div 框”中添加一些内容..那么“右 div 框”自动流内容框高度应相应调整

**这是一个[链接](http://jsfiddle.net/aPaf5/1/)**

/ *css* /

```
.dvleft{float:left;} .dvright{float:right}.dv100per{width:100%;float:left}
.grey_bg2{padding: 5px 0px 8px 7px;background-color:#F7F7F7;color:#000; font-size:13px}
.mTop5{margin-top:5px;}.mTop10{margin-top:10px}.mTop20{margin-top:20px}.mleft15{margin-left:15px;}
    .contactlist{background-color:#FFF;float:left;width:100%;padding: 5px 0px 10px 0px;height:239px;overflow:auto}
    .sharecon{float:left;width:100%; border-bottom:solid 1px #e6e6e6; padding:3px 0 6px 0} 
```

/ *HTML* /

```
<div class="dvright grey_bg2 mTop20" style="width: 365px; padding: 7px 8px 10px 8px;">
    <div class="dv100per">
        <span class="dvleft">
            <strong>Right Box</strong>
        </span>
    </div>

        <div class="contactlist">
            <div class="sharecon">
                <span class="dvleft">
                    <input type="checkbox" name="checkbox">
                </span>

                <span class="dvleft mleft15">
                    <strong class="text11">abc123..</strong>
                </span>
                <span class="dvleft mleft15">abc123@gmail.com</span>

            </div><!--sharecon-->
            <div class="sharecon">
                <span class="dvleft">
                    <input type="checkbox" name="checkbox">
                </span>

                <span class="dvleft mleft15">
                    <strong class="text11">abc123..</strong>
                </span>
                <span class="dvleft mleft15">abc123@gmail.com</span>

            </div><!--sharecon-->
            <div class="sharecon">
                <span class="dvleft">
                    <input type="checkbox" name="checkbox">
                </span>

                <span class="dvleft mleft15">
                    <strong class="text11">abc123..</strong>
                </span>
                <span class="dvleft mleft15">abc123@gmail.com</span>

            </div><!--sharecon-->
            <div class="sharecon">
                <span class="dvleft">
                    <input type="checkbox" name="checkbox">
                </span>

                <span class="dvleft mleft15">
                    <strong class="text11">abc123..</strong>
                </span>
                <span class="dvleft mleft15">abc123@gmail.com</span>

            </div><!--sharecon-->
            <div class="sharecon">
                <span class="dvleft">
                    <input type="checkbox" name="checkbox">
                </span>

                <span class="dvleft mleft15">
                    <strong class="text11">abc123..</strong>
                </span>
                <span class="dvleft mleft15">abc123@gmail.com</span>

            </div><!--sharecon-->
            <div class="sharecon">
                <span class="dvleft">
                    <input type="checkbox" name="checkbox">
                </span>

                <span class="dvleft mleft15">
                    <strong class="text11">abc123..</strong>
                </span>
                <span class="dvleft mleft15">abc123@gmail.com</span>

            </div><!--sharecon-->
            <div class="sharecon">
                <span class="dvleft">
                    <input type="checkbox" name="checkbox">
                </span>

                <span class="dvleft mleft15">
                    <strong class="text11">abc123..</strong>
                </span>
                <span class="dvleft mleft15">abc123@gmail.com</span>

            </div><!--sharecon-->
            <div class="sharecon">
                <span class="dvleft">
                    <input type="checkbox" name="checkbox">
                </span>

                <span class="dvleft mleft15">
                    <strong class="text11">abc123..</strong>
                </span>
                <span class="dvleft mleft15">abc123@gmail.com</span>

            </div><!--sharecon-->
            <div class="sharecon">
                <span class="dvleft">
                    <input type="checkbox" name="checkbox">
                </span>

                <span class="dvleft mleft15">
                    <strong class="text11">abc123..</strong>
                </span>
                <span class="dvleft mleft15">abc123@gmail.com</span>

            </div><!--sharecon-->
            <div class="sharecon">
                <span class="dvleft">
                    <input type="checkbox" name="checkbox">
                </span>

                <span class="dvleft mleft15">
                    <strong class="text11">abc123..</strong>
                </span>
                <span class="dvleft mleft15">abc123@gmail.com</span>

            </div><!--sharecon-->
            <div class="sharecon">
                <span class="dvleft">
                    <input type="checkbox" name="checkbox">
                </span>

                <span class="dvleft mleft15">
                    <strong class="text11">abc123..</strong>
                </span>
                <span class="dvleft mleft15">abc123@gmail.com</span>

            </div><!--sharecon-->
        </div><!--contactlist-->

</div><!--Right Block Ends Here--->

</div> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-14T06:57:45.287

你可以使用 jquery [equalizeCols](https://github.com/johnantoni/jquery.equalizecols)插件

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-14T07:39:38.760

如果你是一个使用 j Query 然后试试这个，

```
$(function(){
    var leftDivHeight = $('.dvleft').height();
    var rightDivHeight = $('.dvright').css({height: leftDivHeight});
}); 
```

# java - pkcs11 sso（使用以前的 Windows 登录和智能卡）

> ID：13873666
> 
> 赞同：5
> 
> 时间：2012-12-14T06:18:56.950
> 
> 标签：java, windows, ssl, pkcs#11

我希望执行以下操作：

1.  使用智能卡登录或解锁我的 Windows 帐户（我知道如何）。智能卡提示输入 PIN。

2.  然后访问帐户内的 java 软件 - 我想在其操作期间使用相同的智能卡。但是，我不希望它提示输入 PIN，而是依赖先前的 Windows 身份验证。

问：这可能吗？

谢谢你。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-01T11:23:09.257

如果您被允许修补您现有的登录程序，也许值得看看 pGina (http://pgina.org/)，因为它是 Windows 的 GINA 部分的模块化替代品。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-29T11:01:41.700

来自[Incorporating SSO in addition/instead of SSL](https://stackoverflow.com/q/14106087/696632)：

1.  当使用您的智能卡登录 Windows 时，它会执行[`pkinit`](http://k5wiki.kerberos.org/wiki/Pkinit_configuration)并为您获取 Kerberos TGT。
2.  当您访问使用 TGT 的其他资源并创建 Kerberos 服务票证时。不涉及智能卡证书。
3.  但是，如果您想在应用程序中使用智能卡，则执行客户端证书验证而**不是**Kerberos，因此应用程序**必须**提示您输入 PIN。

# wpf - 如何在关闭 WPF 页面时释放内存

> ID：13873669
> 
> 赞同：1
> 
> 时间：2012-12-14T06:19:40.957
> 
> 标签：wpf, garbage-collection

我想在 WPF 页面关闭时立即释放所有占用的内存

*   可观察的集合
*   水晶报表查看器等

请指导我

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-14T08:36:52.070

如果你想确定，你可以处理关闭事件。

```
<Window Closing="Window_Closing"> 
```

接着：

```
 private void Window_Closing(object sender, CancelEventArgs e)
    {
       //Free resources, close files, sockets, connections, etc.
       //Calling Dispose method where possible
    } 
```

希望有所帮助！

# java - 如何使用注释使 XStream 标记可选

> ID：13873670
> 
> 赞同：4
> 
> 时间：2012-12-14T06:19:46.743
> 
> 标签：java, xml, xml-parsing, xstream

如何制作 @XStreamImplicit 带注释标签`Optional`。

我有 2 个类： Class2 对象在 Class1 中声明

```
@XStreamAlias("root")
public class Class1 {
  @XStreamAlias("tag1")
  private String data1;
  @XStreamAlias("class2")
  private Class2 data2;
}

@XStreamAlias("class2")
public class Class2 {
  @XStreamAlias("tag2child1")
  private String dataInChild1;
  @XStreamAlias("tag2child2")
  private String dataInChild2;
} 
```

Xml 看起来像这样

```
<root>
  <tag1>data</tag1>
  <class2>
    <tag2child1>dataInChild1</tag2child1>
    <tag2child2>dataInChild2</tag2child2>
  </class2>
</root> 
```

如果标记`<class2>`不存在于 xml 中，则很好。但如果它存在于 xml 中，我将获取数据。

# yii - 如何在 Yii auth 中实现从社交网络退出功能

> ID：13873671
> 
> 赞同：0
> 
> 时间：2012-12-14T06:19:46.957
> 
> 标签：yii, facebook-social-plugins, yii-extensions, yii-components

我正在使用 Yii auth 扩展程序使用 facebook、linkedin、twitter 等社交网络登录我的网站。我能够使用扩展程序登录网站。但我的问题是，当我从我的网站退出时，相应网络的帐户没有退出。我怎样才能正确实施它？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-10-31T04:41:15.180

使用来自社交网络的 access_token 我们可以注销。对于 fb 注销 Iam 使用以下代码
$url = ' [https://www.facebook.com/logout.php?next=](https://www.facebook.com/logout.php?next=) ' 。$返回网址。' &access_token=' 。$令牌; session_destroy(); header('位置：' . $url);

# php - 注意： PDOStatement 类的对象无法转换为 int

> ID：13873674
> 
> 赞同：1
> 
> 时间：2012-12-14T06:20:00.607
> 
> 标签：php, mysql, pdo, smarty

我无法弄清楚上面的错误。有没有人见过这个。我将 PHP 与 Smarty 一起使用，并将 PDO 合并到我的代码中。

PHP var_dump 代码 $data`$smarty->assign("results", $data);`

```
 object(PDOStatement)#22 (1) { 
  ["queryString"]=> string(236) "SELECT p.id,p.brag,p.brag_desc,p.brag_id,p.user_id, p.panel_id,p.domainurl,p.type,p.price FROM ruj_users_bg as p left join ruj_users as u on p.user_id=u.id WHERE u.status !=0 and 1 and p.status = 1 GROUP BY p.id DESC LIMIT 0 OFFSET 25" } 
```

来自 Smarty 模板的 PHP 错误：

注意： PDOStatement 类的对象无法在第 25 行的 /var/www/vhosts/somesite.com/httpdocs/templates_c/3d14690fd8419657273a6dce45bbca85dfc1e261.file.bragsdata.tpl.php 中转换为 int

Smarty 模板的第 25 行：

$_smarty_tpl->tpl_vars['smarty']->value['section']['res']['loop'] = is_array($_loop=$_smarty_tpl->getVariable('results')->value) ？计数（$_loop）：最大值（0，（int）$_loop）；未设置（$_loop）；

不知道问题出在哪里。非常感谢您的帮助。

更新：函数调用`fetchAll(PDO::FETCH_ASSOC);`

```
 $data = fetchData($limit_start,$page_records);

 function fetchData$limit_start,$page_records){
            $db = Core::getInstance();
            $sql = "SELECT id FROM ruj_users_bg WHERE
                   (type = :type3 OR type = :type4) 
                   AND status =:uno 
                   ORDER BY id DESC LIMIT :lim OFFSET :page";

    $res = $db->dbh->prepare($sql);
            $res->bindValue(':type3',3, PDO::PARAM_INT);                
            $res->bindValue(':type4',4, PDO::PARAM_INT);
            $res->bindValue(':uno',1, PDO::PARAM_INT);
            $res->bindValue(':lim',(int)$limit_start, PDO::PARAM_INT);
            $res->bindValue(':page',(int)$page_records, PDO::PARAM_INT);
    $res->execute();
        $res->fetchAll(PDO::FETCH_ASSOC);       

    return $res;

} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-14T06:36:11.817

那是因为`PDOStatement`is 严格来说不是数组类型。虽然它实现`Traversable`了，所以我很惊讶 Smarty 不接受它作为可以循环的东西。

要将数据库结果转换为标准数组，您必须使用`->fetchAll()`：

```
$smarty->assign('results', $data->fetchAll(PDO::FETCH_ASSOC)); 
```

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-12-14T06:36:54.933

错误消息非常不言自明 -`$data`变量包含与您期望的不同的内容。
似乎您将整个 PDO 对象传递给模板，而不是先获取某些特定值。

我建议在没有 Smarty 或其他任何东西的情况下单独使用 PDO 玩一段时间，以熟悉它并学习如何获得所需的值。
或者至少`var_dump()`在分配之前检查您的值。

# iphone - 拍摄快照时，显示的背景颜色非常少

> ID：13873675
> 
> 赞同：0
> 
> 时间：2012-12-14T06:20:04.477
> 
> 标签：iphone, objective-c, ios, uiimageview, uiimage

在一个视图控制器中有两个视图控制器，我正在拍摄快照，而在另一个视图控制器中，我正在显示被选中的快照。

我正在处理图像，我需要在执行此操作时拍摄快照，我得到白色背景。不知道为什么会出现这个？如下图（有三个图像视图，最初的图像视图有一个透明的图像视图，然后是背景的身体图像视图和纹身图像视图。）

![在此处输入图像描述](../Images/bc99d49d83da725960c462ba407701fb.png)

当我拍摄屏幕截图时，我隐藏了背景图像。我将视图 alpha 设置为 1.0f，我将视图背景颜色设置为清除颜色

输出屏幕截图是

![在此处输入图像描述](../Images/a82b2805035d255b408b67c09cf9d0b7.png)

我的代码是

```
 self.backgroundImgView.hidden=YES;
self.view.backgroundColor=[UIColor clearColor];
self.view.alpha=1.0f;
UIGraphicsBeginImageContext(self.view.bounds.size);
[self.view.layer renderInContext:UIGraphicsGetCurrentContext()];
 UIImage *viewImage = UIGraphicsGetImageFromCurrentImageContext();
UIGraphicsEndImageContext();
CGRect rect;
rect = CGRectMake(appDelegate.xFloat, appDelegate.yFloat, appDelegate.widthFloat, appDelegate.heightFloat);
    CGImageRef imageRef = CGImageCreateWithImageInRect([viewImage CGImage], rect);
UIImage *img = [UIImage imageWithCGImage:imageRef];
appDelegate.tattooImg=img;
CGImageRelease(imageRef); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-14T07:46:23.657

在 self.view 上制作一个`UIView`像 holderview.... 然后在 holderview 上添加两个图像而不是 self.view .... 然后保存屏幕截图，从 holderview 中获取...

# iphone - 自定义 ABPersonPickerViewController

> ID：13873677
> 
> 赞同：2
> 
> 时间：2012-12-14T06:20:10.547
> 
> 标签：iphone, objective-c, xcode, ios5, ios4

我们如何自定义 ABPeoplePickerNavigationViewController 在第一行显示全名，在下一行显示电子邮件、电话号码。这不应该发生在联系人选择上，但应该在加载 ABPickerController 视图时默认发生。

我想要的是 ABPeoplePicker 的常规功能。但联系人显示应该有上面解释的附加信息。

我想我必须扩展 ABPeoplePickerNavigationController？对此有任何指导将不胜感激？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-14T06:24:23.137

```
- (void)peoplePickerNavigationControllerDidCancel:(ABPeoplePickerNavigationController *)peoplePicker {
// assigning control back to the main controller
[self dismissModalViewControllerAnimated:YES];
}

- (BOOL)peoplePickerNavigationController: (ABPeoplePickerNavigationController *)peoplePicker shouldContinueAfterSelectingPerson:(ABRecordRef)person {
NSString *firstname=(NSString *)ABRecordCopyValue(person, kABPersonFirstNameProperty);
Usernametf.text=firstname;
 ABMultiValueRef phoneNumbers = ABRecordCopyValue(person, kABPersonPhoneProperty);
ABMultiValueRef addressProperty = ABRecordCopyValue(person, kABPersonAddressProperty);
NSArray *address = (NSArray *)ABMultiValueCopyArrayOfAllValues(addressProperty);

      NSString* phone;
     phone = (NSString*)ABMultiValueCopyValueAtIndex(phoneNumbers, 0);
     phoneNotf.text=phone;
     //NSLog(@"%@",phone);

if([address count] > 0)
{
    for (NSDictionary *addressDict in address)
    {
      NSString*  countrytf = [addressDict objectForKey:@"Country"];
      NSString*  streetaddresstf= [addressDict objectForKey:@"Street"];
      NSString*  citynametf = [addressDict objectForKey:@"City"];
      NSString*  statenametf = [addressDict objectForKey:@"State"];
       NSString* zipcodetf = [addressDict objectForKey:@"ZIP"];
    }
    CFRelease(addressProperty);
}

  //  NSMutableDictionary *dict=[[NSMutableDictionary alloc] initWithObjectsAndKeys:firstname,@"FirstName", nil];
//[selectedemailArray addObject:dict];
// NSLog(@"\n array is %@",selectedemailArray);

//[objDatabase insertArray:selectedemailArray forTable:@"EmailList"];
//[objDatabase insertDictionary:dict forTable:@"EmailList"];
 //    [dict release];
  //    dict =nil;

// remove the controller
[self dismissModalViewControllerAnimated:YES];
return NO;

 }

 - (BOOL)peoplePickerNavigationController:(ABPeoplePickerNavigationController *)peoplePicker shouldContinueAfterSelectingPerson:(ABRecordRef)person property:(ABPropertyID)property identifier:(ABMultiValueIdentifier)identifier{
return NO;
 } 
```

这是完整的代码，您可以从联系人那里获得任何信息。

让我知道它是否有效...

快乐编码！！！！

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-19T13:26:28.917

如果您希望 ABPeoplePicker.... 和 addressBook 一起工作，则没有解决方案。尝试了同样的事情，但最后我们推出了一个新的自定义索引表视图。很容易。如果你想创建一个索引表视图，请查看 [indexed-ui-tableview](http://www.iphonedevcentral.com/indexed-uitableview-tutorial/)

然后，您可以更改以下方法以在多行中获取信息。

```
- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath {

static NSString *CellIdentifier = @"Cell";

UITableViewCell *cell = [tableView dequeueReusableCellWithIdentifier:CellIdentifier];
if (cell == nil) {
    cell = [[[UITableViewCell alloc] initWithStyle:UITableViewCellStyleSubtitle 
                                   reuseIdentifier:CellIdentifier] autorelease];
}
cell.textLabel.text = [[[content objectAtIndex:indexPath.section] objectForKey:@"rowValues"] 
                       objectAtIndex:indexPath.row];
cell.detailTextLabel.text=[NSString stringWithFormat:@"%@ %@ %@", @"someone@gmail.com", @"|",@"123456777777777777777"] ;;

return cell; 
```

}

可以修改数据生成器以适应您的模型。电子邮件等可以从您的模型中获取。在上面的代码片段中，它是硬编码的。然后您可以轻松地连接搜索功能。

# javascript - 从子 SetInterval 函数设置父变量

> ID：13873681
> 
> 赞同：2
> 
> 时间：2012-12-14T06:20:15.370
> 
> 标签：javascript

假设我有一组看起来像这样的 js：

```
function a() {
this.meow = 0;
    var go = setTimeout(function() {
        this.parent.meow++;
    }, 500);
}

var woof = new a(); 
```

为什么不`woof.meow`增加，如果我引用错误，那么为什么会这样：

```
(function() { 
   this.meow = 'woof'; 
   var go = setTimeout(function() {
      alert(this.parent.meow); 
   },500); 
   return true; 
})(); 
```

更令人困惑的是为什么这不起作用：

```
(function() { 
   this.meow = 0; 
   var go = setTimeout(function() {
      alert(this.parent.meow++); 
   },500); 
   return true; 
})(); 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-12-14T06:26:44.770

`parent`在 JavaScript 中没有特殊含义（尽管它在浏览器中具有）。在您的超时函数中，`this`不是指您的`a`实例，而是指`window`对象。碰巧该`window`对象有一个名为 的属性`parent`，但该父对象可能没有一个名为 的属性`meow`。原因`this`在于`window`您的超时函数是在 JavaScript 中，`this`完全由函数的*调用*方式定义，而不是在哪里定义它们。请参阅下面的链接。

由于您的 timeout 函数是对调用上下文的闭包`new a`，因此您可以这样做：

```
function a() {
var self = this;

this.meow = 0;
    var go = setTimeout(function() {
        self.meow++;
    }, 500);
} 
```

所做的是将调用的变量设置为调用中`self`的值。超时功能关闭，因此可以使用.`this``a``self``self.meow`

> 如果我引用错了那为什么这行得通

您引用的代码*不起作用*（[现场示例](http://jsbin.com/ufacor/1)），但我怀疑您看到了与它类似的东西，因为在该代码中，`this`引用了`window`对象，并且很容易最终调用`this`引用的函数`window`。所以`meow`wold 最终成为一个全局变量（您放置的所有属性`window`都是全局变量）。

更多关于闭包和`this`（在我的博客上）：

*   *[闭包并不复杂](http://blog.niftysnippets.org/2008/02/closures-are-not-complicated.html)*
*   *[神话方法](http://blog.niftysnippets.org/2008/03/mythical-methods.html)*
*   *[你必须记住`this`](http://blog.niftysnippets.org/2008/04/you-must-remember-this.html)*

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-14T06:29:17.317

TJ Crowder 是对的，替代方案：

```
function a() {
    var meow = 0;
    var go = setTimeout(function() {
        meow++;
    }, 500);
} 
```

# javascript - Firefox 17 报告在使用“typeof”时创建了 DOM 元素 (HTMLObjectElement) 作为函数

> ID：13873684
> 
> 赞同：1
> 
> 时间：2012-12-14T06:20:25.237
> 
> 标签：javascript, firefox, dom, object, typeof

我创建了一个 Flash 对象 (HTMLObjectElement)（使用 jQuery）并将其添加到 DOM。这在所有浏览器中都可以正常工作。该对象保存/存储在名为“o.data.cam”的变量中。其他函数检查此变量是否有效。

例如：

```
if( typeof o.data.cam == "object")
 { do this } 
```

这在除 Firefox 之外的所有浏览器中都可以正常工作。`o.data.cam`是一个函数而不是一个对象。我认为这是一种奇怪的行为，因为创建了对象，为什么将其报告为函数？

在 Firefox 17.0.1（最新）中，创建的 HTMLObjectElement（对象标记）在转储时返回 [object HTMLObjectElement]。我可以理解这一点（？），因为它可以与原生函数（受保护）相同，例如原生函数 => [原生函数]。否则有点奇怪，因为大多数 DOM 元素都可以检查，那为什么不是他的呢？

但与其他浏览器相比，有一些差异需要注意：

```
 Firefox                       Chrome     MSIE      Opera
___________________________________________________________________________________________
dump o.data.cam             [object HTMLObjectElement]    Object*    Object*   Object*
typeof o.data.cam           "function"                   "Object"   "Object"  "Object"
typeof HTMLObjectElement    "object"                     "function" "Object"  "function" 
```

*   （星号）= 打印对象树

注意： - 引号之间是一个字符串，一个“typeof”结果。

typeof 评估在所有浏览器中返回“对象”（Firefox 除外），我认为这是正确的，因为当它是一个函数并作为类（新函数）创建时，它必须报告为对象（我认为？）

我的问题是：这是一个错误还是我错过了什么？

**编辑：创建此函数以检查它是否是有效的 DOM 元素。这样做安全吗？现在 Firefox 返回 true。**

```
function isDOM(oo)
{ 
  if( oo )
  {
   if( typeof oo instanceof jQuery )
    { return !!oo[0]; }
   if( typeof oo == 'object' || typeof oo == 'function' )
    { return ( typeof oo.tagName == 'string' && oo.tagName.length > 0 ); }
  }
  return false; 
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-14T09:15:27.777

根据 EcmaScript 规范，所有具有 [[Call]] 内部方法的对象都必须为 typeof 返回“函数”。

HTMLObjectElement 的实例可以有一个 [[Call]] 内部方法，因为插件可以使它们被实例化的对象可调用。

所以唯一的问题是如果插件不想被调用，对象是否应该始终是可调用的并抛出，或者它是否应该根据插件正在做的事情在“对象”和“函数”之间动态更改类型. 我猜还有第三种选择，即忽略规范并报告“对象”，即使有 [[Call]]。

Firefox 是前者：总是有一个 [[Call]]，所以 typeof 报告“函数”。其他浏览器可能要么使 [[Call]] 动态出现和消失，要么完全违反规范。

# jquery - 需要对来自 jQueryTools.org 的“关闭”按钮进行 CSS 调整

> ID：13873689
> 
> 赞同：0
> 
> 时间：2012-12-14T06:20:46.853
> 
> 标签：jquery, css, modal-dialog, jquery-tools

（这绝不是一个反向链接！它只是我有文件的地方。）如果你有萤火虫来看看会有所帮助，因为 css 到处都是：

[http://www.myproduction-1.info/jquery_tools_org_overlay/blue.html](http://www.myproduction-1.info/jquery_tools_org_overlay/blue.html)

我只需要弄清楚 CSS 以使关闭按钮成为链接。我相信以下是相关部分。

JavaScript：

```
$("#prompt form").submit(function(e) {

    // close the overlay
    triggers.eq(1).overlay().close();

}); 
```

CSS：

```
#prompt.modal {
background-image: url("_img/VPN-Overlay-R2_698x535.png");
background-repeat: no-repeat;
background-color: #FBFFFF;
display: none;
left: 50%!important;
position: fixed;
top: 50%!important;
z-index: 9999;
height: 535px;
opacity: 0.8;
margin: -267px 0 0 -377px;
padding-left: 287px;
padding-top: 385px;
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-14T07:03:41.310

制作灯箱的正确方法是不要将其叠加为 div 并将背景图像作为灯箱的屏幕截图。

尝试使用此 API：http: [//fancybox.net](http://fancybox.net)

# ios - 在 Facebook 聊天中发送照片

> ID：13873691
> 
> 赞同：3
> 
> 时间：2012-12-14T06:20:51.353
> 
> 标签：ios, facebook

我有一个应用程序，我可以在其中与我的 Facebook 朋友聊天。 ![在此处输入图像描述](../Images/8a368ce255477ad3df9d9c6f34967ec7.png)

现在我想在聊天中向我的朋友发送照片，就像 Facebook iOS 应用程序一样 ![在此处输入图像描述](../Images/6a2ba2cfe979c2748dd1ad1ef53b6f10.png)

我怎样才能做到这一点？？

谢谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-19T19:24:51.053

目前[公共 Facebook 聊天 API](http://developers.facebook.com/docs/chat/)不支持文件附件。

但是，您可以自己实现它，例如按照这种方式：

1.  上传您要发送到任何公共服务器的图像。例如查看[QuickBlox 内容代码示例](http://quickblox.com/developers/SimpleSample-content-ios)。您可以将图像上传到服务器并获取公共 url。免费。
2.  发送给对手此图像的链接
3.  对手只是使用链接显示此图像

就是这样，希望这有帮助

# nutch - 如何重新抓取 nutch

> ID：13873694
> 
> 赞同：2
> 
> 时间：2012-12-14T06:21:23.383
> 
> 标签：nutch, web-crawler

我正在使用与 mysql 集成的 Nutch 2.1。我已经爬取了 2 个站点，Nutch 成功爬取了它们并将数据存储到了 Mysql 中。我正在使用 Solr 4.0.0 进行搜索。

现在我的问题是，当我尝试重新抓取某些站点（如 trailer.apple.com 或任何其他站点）时，它总是抓取最后抓取的网址。甚至我已经从 seed.txt 文件中删除了最后抓取的 url 并输入了新的 Urls。但是 Nutch 并没有抓取新的 Urls。

谁能告诉我，实际上我做错了什么。

另外请向我推荐任何可以帮助抓取视频和电影网站的 Nutch 插件。

任何帮助都会非常显着。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-04T14:57:40.603

我也有同样的问题。Nutch 仅重新抓取旧的 url，即使它们不存在于 seed.txt 中。

当我第一次启动 nutch 时，我会执行以下操作：

*   在 /root/Desktop/apache-nutch 2.1/runtime/local/urls/seed.txt 中添加域“www.domain01.com”（不带引号）

*   在 /root/Desktop/apache-nutch-2.1/runtime/local/conf/regex-urlfilter.txt 中，添加新行：

    # 接受其他任何内容
    ^http://([a-z0-9]*.)*www.domain01.com/sport/

*   在 /root/Desktop/apache-nutch-2.1/conf/regex-urlfilter.txt 中，添加新行：

    # 接受其他任何内容
    ^http://([a-z0-9]*.)*www.domain01.com/sport/

...一切都很好。

接下来我做了以下更改：

*   从 /root/Desktop/apache-nutch-2.1/runtime/local/urls/seed.txt 中删除 www.domain01.com 并添加两个新域：www.domain02.com 和 www.domain03.com

*   从 /root/Desktop/apache-nutch-2.1/runtime/local/conf/regex-urlfilter.txt 中删除 www.domain01.com 并添加两个新行：

    # 接受其他任何内容
       ^http://([a-z0-9]*.) *www.domain02.com/sport/
       ^http://([a-z0-9]* .)*www.domain03.com/运动/

*   从 /root/Desktop/apache-nutch-2.1/conf/regex-urlfilter.txt 中删除 www.domain01.com 并添加两个新行：

    # 接受其他任何内容
       ^http://([a-z0-9]*.) *www.domain02.com/sport/
       ^http://([a-z0-9]* .)*www.domain03.com/运动/

接下来我执行以下命令：

```
updatedb
bin/nutch inject urls
bin/nutch generate urls
bin/nutch updatedb
bin/nutch crawl urls -depth 3 
```

而 nutch 还在爬 www.domain01.com

我不知道为什么？

我在 Linux Debian 6.0.5 (x64) 上使用 Nutch 2.1。并且 linux 在 Windows 7 (x64) 上的虚拟机上启动。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-24T02:36:03.630

这篇文章有点过时，但在大多数情况下仍然有效：http: [//pascaldimassimo.com/2010/06/11/how-to-re-crawl-with-nutch/](http://pascaldimassimo.com/2010/06/11/how-to-re-crawl-with-nutch/)也许最后爬取的页面是改变的页面最多。Nutch 使用自适应算法来安排重新抓取，因此当页面非常静态时，不应该经常重新抓取。您可以使用 nutch-site.xml 覆盖您想要重新抓取的频率。此外，seed.txt 文件应该是种子列表，一旦您注入 URL，Nutch 就不再使用它（除非您再次手动重新注入）

另一个可能有帮助的配置是你的 regex-urlfilter.txt，如果你想指向一个特定的地方或排除某些域/页面等。

干杯。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-10-17T08:29:21.807

您只需在属性标签下方添加您的 nutch-site.xml。它对我有用,,,,,,,检查.......

`<property> <name>file.crawl.parent</name> <value>false</value> </property`

你只需更改 regex-urlfilter.txt

# 跳过文件：ftp: 和 mailto: urls #-^(file|ftp|mailto):
# 接受其他任何内容 +.

删除该索引目录手册或命令后也喜欢.. rm -r $NUTCH_HOME/indexdir

运行你的爬虫命令后............

# android - Android ViewPager + ImageLoader

> ID：13873695
> 
> 赞同：1
> 
> 时间：2012-12-14T06:21:32.167
> 
> 标签：android, android-logcat, universal-image-loader

我用 ImageLoader 库创建了一个 ViewPager，我在这段代码中有错误，我不明白 Log 中他想要什么！在主布局中，adapterLayout 中只有 ViewPager，我有 FrameLayout 和 ImageView

```
public class ImageGallery extends Activity {

    ViewPager pager;

    String[] BigImages;
    String[] Authors;
    String[] Dates;
    String[] Descriptions;

    DisplayImageOptions options;

    @Override
    protected void onCreate(Bundle savedInstanceState){     
        super.onCreate(savedInstanceState);

        Bundle bundle = getIntent().getExtras();
        String[] imageUrls = bundle.getStringArray("big_images");
        int pagerPosition = bundle.getInt("position");

        options = new DisplayImageOptions.Builder()
            .showImageForEmptyUri(R.drawable.ic_contact_picture_2)
            .resetViewBeforeLoading()
            .cacheOnDisc()
            .imageScaleType(ImageScaleType.IN_SAMPLE_INT)
            .bitmapConfig(Bitmap.Config.RGB_565)
            .displayer(new FadeInBitmapDisplayer(300))
            .build();

        ViewPager pager = (ViewPager) findViewById(R.id.pager);
        pager.setAdapter(new GalleryImage(ImageGallery.this, imageUrls));
        pager.setCurrentItem(pagerPosition);

    }

class GalleryImage extends PagerAdapter{

    private String[] images;
    private LayoutInflater inflater;
    ImageLoader imageLoader;

    GalleryImage(Context context, String[] images) {
        this.images = images;
        inflater = getLayoutInflater();
        imageLoader = ImageLoader.getInstance();
        imageLoader.init(ImageLoaderConfiguration.createDefault(context));

    }

    @Override
    public void destroyItem(View container, int position, Object object) {
        ((ViewPager) container).removeView((View) object);
    }
    @Override
    public int getCount() {
        return images.length;
    }

    @Override
    public Object instantiateItem(View view, int position) {
        final View imageLayout = inflater.inflate(R.layout.item_gallery, null);
        final ImageView imageView = (ImageView) imageLayout.findViewById(R.id.image);

        imageLoader.displayImage(images[position], imageView, options);

        ((ViewPager) view).addView(imageLayout, 0);
        return imageLayout;
    }

    @Override
    public boolean isViewFromObject(View view, Object object) {
        return view.equals(object);
    }

}} 
```

**日志**

```
FATAL EXCEPTION: main
java.lang.RuntimeException: Unable to start activity ComponentInfo{com.gazetaimage/com.gazetaimage.ImageGallery}: java.lang.NullPointerException
    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2306)
    at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2356)
    at android.app.ActivityThread.access$600(ActivityThread.java:150)
    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1244)
    at android.os.Handler.dispatchMessage(Handler.java:99)
    at android.os.Looper.loop(Looper.java:137)
    at android.app.ActivityThread.main(ActivityThread.java:5193)
    at java.lang.reflect.Method.invokeNative(Native Method)
    at java.lang.reflect.Method.invoke(Method.java:511)
    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:795)
    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:562)
    at dalvik.system.NativeStart.main(Native Method)
Caused by: java.lang.NullPointerException
    at com.gazetaimage.ImageGallery.onCreate(ImageGallery.java:49)
    at android.app.Activity.performCreate(Activity.java:5104)
    at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1080)
    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2260)
    ... 11 more 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-14T06:22:45.393

看起来你忘了添加行`setContentView(R.layout.yourxml);`

它必须在调用它之前完成， `ViewPager pager = (ViewPager) findViewById(R.id.pager);`. 如果你不这样做，Android 不知道在哪里寻找资源，显然它会返回 null，这就是我猜你得到**NullPointerException的原因。**

# javascript - 单击 history.back() 后捕获 input="file" 值

> ID：13873697
> 
> 赞同：0
> 
> 时间：2012-12-14T06:21:38.190
> 
> 标签：javascript, html

`<input type="file" name="upload" id="upload" />` 单击返回按钮后，是否可以在上一页捕获所选文件？

`<input type="button" value="Back" onclick="history.back();" />`

对于文本，文本区域，下拉我没有遇到任何问题

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-14T06:42:20.933

是的，单击 history.back() 函数后，可以在上一页捕获所选文件。

尝试刷新页面，而不是完全刷新。我试过了，我抓住了这个名字。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-14T08:07:37.190

当我们使用浏览器的返回按钮导航返回时，某些浏览器默认将文件名保存在文件输入控件中。如果您想完美控制先前选择的文件，那么我建议您动态加载下一页的内容并让用户感觉新页面已加载。您可以使用*history.pushState*来操作浏览器的历史记录和 URL Bar 等。

# java - JTable 多行单元格自动换行

> ID：13873698
> 
> 赞同：1
> 
> 时间：2012-12-14T06:21:44.130
> 
> 标签：java, swing, jtable

我正在使用 java 开发医院管理系统应用程序，我有带有很长文本的 ICD-10 代码，我想用 jtable 显示它们，但由于文本太长，我需要 JTable 单元格根据需要包装文本并更改高度该行的要求。

是否有任何想法如何做到这一点，或者如果有任何其他建议。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-14T10:29:52.300

与其在每行中使用环绕的文本使表格混乱，不如考虑`JTextComponent`仅在相邻行中显示所选行的全文。因为[ICD-10](http://en.wikipedia.org/wiki/ICD-10)本质上是分层的，所以也考虑一个大纲视图，如下[所示](https://codereview.stackexchange.com/a/4447/6692)。

# sql - 将逗号分隔的列值转换为行

> ID：13873701
> 
> 赞同：32
> 
> 时间：2012-12-14T06:22:01.853
> 
> 标签：sql, sql-server, delimiter

我有一个表 **样本**，其中存储的数据如下

```
Id   | String
--------------
1     abc,def,ghi
2     jkl,mno,pqr 
```

我需要像..这样的输出

```
Id   | processedrows
--------------
1     abc
1     def
1     ghi
2     jkl
2     mno
2     pqr 
```

如何对 SQL Server 中的选择查询执行相同操作？

* * *

## 回答 #1

> 赞同：54
> 
> 时间：2012-12-14T06:30:53.987

试试这个

```
 SELECT A.[id],  
     Split.a.value('.', 'VARCHAR(100)') AS String  
 FROM  (SELECT [id],  
         CAST ('<M>' + REPLACE([string], ',', '</M><M>') + '</M>' AS XML) AS String  
     FROM  TableA) AS A CROSS APPLY String.nodes ('/M') AS Split(a); 
```

参考这里

[http://www.sqljason.com/2010/05/converting-single-comma-separated-row.html](http://www.sqljason.com/2010/05/converting-single-comma-separated-row.html)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2017-05-01T11:02:35.950

```
SELECT EmployeeID,
LTRIM(RTRIM(m.n.value('.[1]','varchar(8000)'))) AS Certs
FROM
(
SELECT EmployeeID,CAST('<XMLRoot><RowData>' + REPLACE(Certs,',','</RowData><RowData>') + '</RowData></XMLRoot>' AS XML) AS x
FROM   @t
)t
CROSS APPLY x.nodes('/XMLRoot/RowData')m(n) 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2021-10-26T11:14:35.877

这样做的新方法：

```
 SELECT
         a.Id,
         b.value
    FROM
         Sample a 
         cross apply string_split(a.string,',') b 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2014-07-25T13:26:42.850

让我们试试下面的脚本：-

```
declare @str varchar(max)

SELECT @str = isnull(@str +',', '') + a.Value
FROM (SELECT Value Entityvalue from Table) a

select @str 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2015-04-17T13:09:41.350

试试这个。你会得到你的输出。

```
SELECT id,
PARSENAME(REPLACE(Split.a.value('.', 'VARCHAR(100)'),'-','.'),1) 'Values' 
FROM  
(
     SELECT algorithms,
     CAST ('<M>' + REPLACE(string, ',', '</M><M>') + '</M>' AS XML) AS Data 
     FROM   <TableName> 
) AS A 
CROSS APPLY Data.nodes ('/M') AS Split(a) 
```

# css - a:hover 上的多个背景使用 css2

> ID：13873705
> 
> 赞同：1
> 
> 时间：2012-12-14T06:22:21.360
> 
> 标签：css

> **可能重复：**
> [我可以使用 CSS 有多个背景图像吗？](https://stackoverflow.com/questions/423172/can-i-have-multiple-background-images-using-css)

我想使用 css2 在 a:hover 状态下使用多个背景，目前我正在使用 css3，

```
background:url(), url(); 
```

# asp.net - 从asp.net中的视图创建和选择数据没有发生？

> ID：13873707
> 
> 赞同：0
> 
> 时间：2012-12-14T06:22:26.847
> 
> 标签：asp.net, sql, sql-server-2008, view

我正在尝试编写一个视图并从该视图中检索数据，我已经这样做了：

```
 string command = "if OBJECT_ID('try1') IS NOT NULL Drop view try1" +"\n"+"go"+"\n";
        command = command + "Create view try1 as select WBSCode,Description,TerritoryCode,AmountReleased,convert(varchar(25),CreatedOn,106) as CreatedOn,IsEnable from WBS where WBSCode like '%" + msrch + "%'";
        command = command +"\n"+"go"+"\n"+"select WBSCode,Description,TerritoryCode,AmountReleased,convert(varchar(25),CreatedOn,106) as CreatedOn,IsEnable from try1 where TerritoryCode in (select TerritoryCode from Territory where StateCode='" + mbcode + "')";
        SqlCommand cmdd = new SqlCommand(command);
        cmdd.Connection = con;
        SqlDataAdapter da = new SqlDataAdapter(cmdd);
        DataTable dt = new DataTable();
        da.Fill(dt);
        if (dt.Rows.Count > 0)
        {
            mngwbsGV1.DataSource = dt;
            mngwbsGV1.DataBind();
        } 
```

但问题是我遇到了一个错误`da.Fill(dt)`：

> *'go' 附近的语法不正确。
> 'CREATE VIEW' 必须是查询批处理中的第一条语句。
> 'go' 附近的语法不正确。*

但是当我在我的 SQL Server 2008 中运行它时，它正在运行但没有检索数据

我该怎么办？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-14T06:32:21.963

您应该单独创建视图，例如在安装或版本升级期间 - 使用常规 SQL 脚本。

如果您**必须**在代码中执行此操作 - 您需要这样做：

```
using(SqlConnection conn = new SqlConnection(--your connection string here--))
{
    SqlCommand dropView = new SqlCommand("IF OBJECT_ID('try1') IS NOT NULL DROP VIEW try1", conn);

    conn.Open();

    dropView.ExecuteNonQuery();

    SqlCommand createView = new SqlCommand("CREATE VIEW try1 AS SELECT WBSCode, Description, TerritoryCode, AmountReleased, CONVERT(VARCHAR(25), CreatedOn, 106) AS CreatedOn, IsEnable FROM WBS ", conn);

    createView.ExecuteNonQuery();

    conn.Close();
} 
```

然后您可以使用它从中进行选择（使用**参数化查询**而不是将您的 SQL 命令连接在一起，以避免 SQL 注入攻击并提高性能！）：

```
SqlCommand selectCmd = new SqlCommand("SELECT WBSCode, Description, TerritoryCode, AmountReleased, CreatedOn, IsEnable FROM try1 WHERE TerritoryCode IN (SELECT TerritoryCode FROM Territory WHERE WBSCode LIKE @msrch AND StateCode = @mbcode", conn);

selectCmd.Parameters.Add("@msrch", SqlDbType.VarChar, 50).Value = "%" + msrch + "%";
selectCmd.Parameters.Add("@mbcode", SqlDbType.VarChar, 50).Value = mbcode;

SqlDataAdapter da = new SqlDataAdapter(selectCmd);

DataTable dt = new DataTable();
da.Fill(dt);

if (dt.Rows.Count > 0)
{
    mngwbsGV1.DataSource = dt;
    mngwbsGV1.DataBind();
} 
```

但话又说回来：如果你有这样一个简单的选择 - 首先你需要一个视图来做什么，特别是如果你只是想创建它，从中选择，然后立即再次删除它。完全没有任何意义......

# iphone - 用于搜索播放列表的 Spotify iPhone API

> ID：13873712
> 
> 赞同：1
> 
> 时间：2012-12-14T06:22:49.800
> 
> 标签：iphone, spotify, cocoalibspotify-2.0, playlists

我正在 iPhone 中实现 Spotify 服务。我想在 Spotify 中搜索播放列表。Spotify 中是否有任何 API 可以获取它。
请帮忙。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-14T08:31:23.867

您可能想查看该类的文档[，](https://github.com/spotify/cocoalibspotify/tree/master/Documentation)`SPSearch`那里有一些方法可以让您搜索播放列表（除其他外）。

# odata - 使用 ODATA 查询时无法获取电话记录的发件人（发件人）和收件人（收件人）

> ID：13873715
> 
> 赞同：0
> 
> 时间：2012-12-14T06:23:00.730
> 
> 标签：odata, crm

我需要从 MS CRM 数据库中获取电话实体记录列表。

为此，我正在使用 ODATA 查询，

当我使用下面写的 ODATA 查询时，

//hyd1303d/CR8CLTNew/xrmservices/2011/OrganizationData.svc/PhoneCallSet?

它工作正常并给了我结果....

但是当我尝试访问记录的发件人/收件人时，它给了我错误：

//hyd1303d/CR8CLTNew/xrmservices/2011/OrganizationData.svc/PhoneCallSet?$select=from,to

收到错误：

"[HttpWebRequest_WebException_RemoteServer] 参数：NotFound 调试资源字符串不可用。键和参数通常提供足够的信息来诊断问题。请参阅[http://go.microsoft.com/fwlink/?linkid=106663&Version=5.1.10411.0&File=System .Windows.dll&Key=HttpWebRequest_WebException_RemoteServer](http://go.microsoft.com/fwlink/?linkid=106663&Version=5.1.10411.0&File=System.Windows.dll&Key=HttpWebRequest_WebException_RemoteServer) "

请为此提供任何解决方案。

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-07-19T13:33:34.290

您必须查询 ActivityPartySet 的发件人/收件人等（完整列表：http: [//msdn.microsoft.com/en-us/library/gg328549.aspx](http://msdn.microsoft.com/en-us/library/gg328549.aspx)）

IE。要从（发件人）检索电子邮件/电话/信件等并在表单上设置相关字段，您应该执行以下操作：

```
result = RetrieveSynchronously("ActivityPartySet?$filter=ActivityId/Id eq guid'" + GuidOfEmailEtc + "' and ParticipationTypeMask/Value eq 1");

if (result != null && result.length > 0) {
  var party = result[0].PartyId;
  var value = [{ id: party.Id, name: party.Name, entityType: party.LogicalName }]

  switch (party.LogicalName) {
      case "account":
          Xrm.Page.getAttribute("new_accountid").setValue(value);
      break;
      case "contact":
         Xrm.Page.getAttribute("new_contactid).setValue(value);
      break;
      default:
      break;
  }
} 
```

# windows-8 - Windows 应用商店应用支持的宏

> ID：13873717
> 
> 赞同：0
> 
> 时间：2012-12-14T06:23:23.267
> 
> 标签：windows-8, static-libraries, porting, windows-store-apps

我有一个用 C 开发的库。我正在移植它，用于 Windows Store App 支持。为此，我在项目设置->配置属性->常规选项卡中为**WindowsStoreAppSupport设置启用了选项****YES 。**

 **现在我必须为有 windowsstore 应用程序支持和不支持的设置编写代码。如果我必须从用于条件编译的代码中的设置中知道 WindowsStoreAppSupport 是 YES/NO，任何人都可以告诉我我需要使用什么宏吗？我必须支持所有 win32/x64 和 ARM 配置。

谢谢你

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-14T15:35:16.040

正如[这里](https://stackoverflow.com/questions/12576649/detect-whether-project-is-being-compiled-for-windows-8-or-wp)所建议的，您可以使用构建配置符号来确定您的目标。**

# python - 无需浏览器的导航实用程序，重量轻且防故障

> ID：13873719
> 
> 赞同：3
> 
> 时间：2012-12-14T06:23:35.303
> 
> 标签：python, selenium, scrapy, selenium-webdriver, phantomjs

我有一个用例，我需要在网站中填写表格，但无法访问 API。目前我们正在使用 webdriver 和浏览器，但由于过程是异步的，所以它变得非常繁重并且不是万无一失的。有没有什么办法可以在没有浏览器的情况下做到这一点，并通过密切监视待处理的请求来使流程同步？

Casperjs 和 htmlunitdriver 似乎是我拥有的一些最佳选择。有人可以解释维护，防故障，重量轻方面的优点或缺点。

我需要浏览复杂且许多不同类型的网页。我想浏览的一些网页很大程度上是 JS 驱动的。

**Scrapy 可以用于此目的吗？**

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-12-14T06:25:27.687

使用**Htmlunitdriver**。为了使它失效证明你必须相应地进行一些更改。但是它可以在没有浏览器的情况下工作。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-12-19T09:16:03.807

好吧，我一直在使用很多不同的方法来做到这一点，这取决于您希望系统有多智能/先进。我在 ruby​​ 上，在 ruby​​ 中这很容易做到。下面是我发现列出的最有用的方法（原因相当红宝石偏见）：

*   **机械化**（[在此处找到](http://mechanize.rubyforge.org)）：超轻、超快速、超可靠。它处理浏览器所做的一切，除了 JS。在引擎盖下，它是一个开放 uri + 一个 XML 解析器，顶部有漂亮的接口层和一些额外的香料。查看文档中的教程。我认为它也适用于 python 等。
*   **Poltergeist**（[在此处找到](https://github.com/jonleighton/poltergeist)）：快速、真实的类似浏览器的行为，非常可靠且重量轻，支持 JS。在底层，它是一个用于 capybara 的 phantom-js 驱动的浏览器（但没有所有讨厌的依赖项，并且完全无头）。即使它是为使用例如 rspec 进行测试而构建的，它也很容易以其他方式使用，或者作为独立的，只需搜索 google。
*   **Watir-webdriver**（[在这里找到](http://watirwebdriver.com)）：一个超级强大的库，用于驱动真正的浏览器，如 firefox、IE、chrome 或 safari。它实际上非常稳定。但是，如果您没有连接真正的物理屏幕（例如在服务器上），您需要运行 xvfb，并将浏览器的输出映射到它。[使用这里](http://watirwebdriver.com/headless/)也提到的无头宝石可以很容易地做到这一点

所以换句话说，如果您不需要 JS 支持，请使用 mechanize。

# php - Codeigniter 数组到字符串的转换错误

> ID：13873730
> 
> 赞同：1
> 
> 时间：2012-12-14T06:24:22.273
> 
> 标签：php, codeigniter

使用 update_batch 发布时收到此错误。我看过其他帖子，但我的行参考是 DB_active_rec.php 文件，其他人在他们的 MC 中看到它。该错误不会阻止 update_batch 发布，它会返回每个 $rb_items 的错误。 ![在此处输入图像描述](../Images/0e66b222def929679eb5eb99d561ac0d.png)

控制器：

```
 public function update_rb(){

    $rb_items = array();
        $rb_id=$this->input->post('id', TRUE);
        $rb_brand=$this->input->post('brand', TRUE);
        $rb_tasted=$this->input->post('tasted', TRUE);
        $rb_rating=$this->input->post('rating', TRUE);
        $rb_comment=$this->input->post('comment', TRUE);

        $i=0;
        foreach($rb_id as $id){
            $rb_items[$i] = array(
                'id'=>$id,
                'brand'=>$rb_brand[$i],
                'rating'=>$rb_rating[$i],
                'comment'=>$rb_comment[$i]
                );
                if(empty($rb_tasted)){
                    $rb_items[$i]['tasted']=0;
                } else if
                (in_array($id,$rb_tasted)){
                $rb_items[$i]['tasted']=1;
                } else{
                    $rb_items[$i]['tasted']=0;
                }                   
            $i++;
        }
        $this->model->update_rb($rb_items);
    } 
```

模型：

```
 public function update_rb($rb_items){
        $this->rb_db->update_batch('rb_selection',$rb_items,'id');
    } 
```

看法：

```
 <tr>
        <input type="hidden" name="id[]" value="<?php echo $row['id'];?>">
        <input type="hidden" name="brand[]" value="<?php echo $row['brand'];?>">
        <td><?php echo "<p>".$row['brand']."</p>";?></td>
        <td><input type="checkbox" <?php if($row['tasted'] == 1){echo "checked = checked";}?> name="tasted[]" value="<?php echo $row['id'];?>" id="tasted"/></td>
        <td><input type="text" name="rating[]" <?php echo $row['rating'];?>/></td>
        <td><textarea name='comment[]' id='comment' cols="350"><?php echo $row['comment'];?></textarea></td>
    </tr> 
```

有没有人看到这个错误或知道我的代码中缺少什么？谢谢您的帮助！

`print_r($rb_items)`返回`Array ( [0] => Array ( [rb_id] => 192 [brand] => Napa Valley Soda Co [rating] => r0 [comment] => c0 [tasted] => 1 ) [1] => Array ( [rb_id] => 193 [brand] => Natural Brew [rating] => r1 [comment] => c1 [tasted] => 1 ) [2] => Array ( [rb_id] => 194 [brand] => Naturale 90 [rating] => r2 [comment] => c2 [tasted] => 1 ) )` 查看三个品牌的视图。无论错误如何，所有这些都正确发布。

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2012-12-24T07:25:52.563

我的 CI 版本 2.1.2 存在问题。在第 1407 行的 DB_active_rec.php 文件中，

这： `$not[] = $k.'-'.$v;`

应该： `$not[] = $k2.'-'.$v2;`

在这里找到了正确的响应： [https ://stackoverflow.com/a/12910038/1738895](https://stackoverflow.com/a/12910038/1738895)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-14T06:39:48.253

您的 html 标签名称在名称属性后具有 []，因此您将在发布后将值作为数组获取。这就是您收到此错误的原因。

只需从 name 属性中删除 [] 并提交表单。

//你在名字后使用[]有什么特别的原因吗？

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-14T09:48:32.230

您希望在您的视图中拥有的是在迭代时具有增量值`$i`并且：

```
<tr>
    <input type="hidden" name="comments[<?php echo $i;?>][id]" value="<?php echo $row['id'];?>">
    <input type="hidden" name="comments[<?php echo $i;?>][brand]" value="<?php echo $row['brand'];?>">
    <td><?php echo "<p>".$row['brand']."</p>";?></td>
    <td><input type="checkbox" <?php if($row['tasted'] == 1){echo "checked = checked";}?> name="comments[<?php echo $i;?>][tasted]" value="<?php echo $row['id'];?>" id="tasted"/></td>
    <td><input type="text" name="comments[<?php echo $i;?>][rating]" <?php echo $row['rating'];?>/></td>
    <td><textarea name='comments[<?php echo $i;?>][comment]' id='comment' cols="350"><?php echo $row['comment'];?></textarea></td>
</tr> 
```

您创建一个名为的数组，该数组`comments`将包含一个数据数组。因此，如果您有两行，您将获得这种数组：

```
array(
    1 => array(
        'id' => '..',
        'brand' => '..',
        'tasted' => '..',
        'rating' => '..',
        'comment' => '..'
    ),
    2 => array(
        'id' => '..',
        'brand' => '..',
        'tasted' => '..',
        'rating' => '..',
        'comment' => '..'
    )
); 
```

那么你在控制器中需要的一切：

```
 $this->model->update_rb($this->input->post('comments')); 
```

不要忘记验证！

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-07-22T10:12:49.237

将您的数组传递给此函数，它应该可以解决您的问题

```
function replaceArrayToString($arr = array()) {
$newArr = array();
foreach($arr as $key=>$value)
{
    if (is_array($value))
    {
       unset($arr[$key]);

        //Is it an empty array, make it a string
        if (empty($value)) {
            $newArr[$key] = '';
        }
        else {
            $newArr[$key] = $this->replaceArrayToString($value);
        }

    }
    else {
        $newArr[$key] = $value; 
    }

}
return $newArr;

} 
```

# javascript - 当我使用 jquery 提交时隐藏按钮

> ID：13873734
> 
> 赞同：0
> 
> 时间：2012-12-14T06:24:32.190
> 
> 标签：javascript, jquery

当我单击任何一个按钮时，我在脚本中使用了 4 个按钮，其他三个按钮应该被隐藏。谁能建议我在 jquery 或 javascript 中解决这个问题？

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-14T06:27:36.783

我想应该是这样的

```
$('button').click(function(){
    $('button').hide();
    $(this).show();
}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-14T06:27:32.583

使用 Jquery.hide()

```
$('#button1').on('click', function(){
    $('#button2').hide();
    $('#button3').hide();
    $('#button4').hide();
}); 
```

# java - 无法获取最近拨打的号码

> ID：13873735
> 
> 赞同：2
> 
> 时间：2012-12-14T06:24:41.360
> 
> 标签：java, android, android-layout, android-intent

我在 Android 应用程序中工作，我必须获取最后 20 个已拨电话。

这是我的活动：

```
public class Calls extends Activity {
    public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.calls);
    TextView dialledCall = (TextView)findViewById(R.id.dialledCall);
        Cursor managedCursor;
    try {

StringBuffer sb = new StringBuffer();
            String strOrder = CallLog.Calls.DATE + " DESC";
            managedCursor = managedQuery( CallLog.Calls.CONTENT_URI,null, CallLog.Calls.TYPE + " = " + CallLog.Calls.OUTGOING_TYPE,null, strOrder + " LIMIT 0, 6");
            managedCursor.moveToFirst();
            int number = managedCursor.getColumnIndex( CallLog.Calls.NUMBER );
            int type = managedCursor.getColumnIndex( CallLog.Calls.TYPE );
            int date = managedCursor.getColumnIndex( CallLog.Calls.DATE);
            int duration = managedCursor.getColumnIndex( CallLog.Calls.DURATION);
            sb.append( "Dialled Calls :");

            while ( managedCursor.moveToNext() ) {
            String phNumber = managedCursor.getString( number );
            String callType = managedCursor.getString( type );
            String callDate = managedCursor.getString( date );
            Date callDayTime = new Date(Long.valueOf(callDate));
            String callDuration = managedCursor.getString( duration );
            String dir = null;
            int dircode = Integer.parseInt( callType );

            switch( dircode ) {
            case CallLog.Calls.OUTGOING_TYPE:
            dir = "Dialled";
            break;
            }

            sb.append( "\nPhone Number : "+phNumber +" \nCall Type : "+dir+" \nCall Date : "+callDayTime+" \nCall duration in sec : "+callDuration );
            sb.append("\n----------------------------------");          
            }
            sb.append("\n==================================");
            sb.append("\n\n");
            managedCursor.close();
            Toast.makeText(this, "Eureka :)", Toast.LENGTH_SHORT).show();

            managedCursor = managedQuery( CallLog.Calls.CONTENT_URI,null, CallLog.Calls.TYPE + " = " + CallLog.Calls.INCOMING_TYPE,null, strOrder + " LIMIT 0, 6");
            managedCursor.moveToFirst();
            int number1 = managedCursor.getColumnIndex( CallLog.Calls.NUMBER );
            int type1 = managedCursor.getColumnIndex( CallLog.Calls.TYPE );
            int date1 = managedCursor.getColumnIndex( CallLog.Calls.DATE);
            int duration1 = managedCursor.getColumnIndex( CallLog.Calls.DURATION);
            sb.append( "Received Calls :");
            while ( managedCursor.moveToNext() ) {

            String phNumber1 = managedCursor.getString( number1 );
            String callType1 = managedCursor.getString( type1 );
            String callDate1 = managedCursor.getString( date1 );
            Date callDayTime1 = new Date(Long.valueOf(callDate1));
            String callDuration1 = managedCursor.getString( duration1 );
            String dir1 = null;
            int dircode = Integer.parseInt( callType1 );

            switch( dircode ) {
            case CallLog.Calls.INCOMING_TYPE:
            dir1 = "Received";
            break;
            }
            sb.append( "\nPhone Number : "+phNumber1 +" \nCall Type : "+dir1+" \nCall Date : "+callDayTime1+" \nCall duration in sec : "+callDuration1 );
            sb.append("\n----------------------------------");          
            }
            sb.append("\n==================================");
            sb.append("\n\n");
            managedCursor.close();
            Toast.makeText(this, "Eureka :) 1", Toast.LENGTH_SHORT).show();
        managedCursor.close();
}

 catch (NullPointerException e) {
                // TODO: handle exception
                Toast.makeText(this, "Sorry Man :(", Toast.LENGTH_SHORT).show();
                e.printStackTrace();
            }
        }
        } 
```

这是相应的 XML 文件：

```
<?xml version="1.0" encoding="utf-8"?>
<ScrollView
  xmlns:android="http://schemas.android.com/apk/res/android"
  android:layout_width="fill_parent"
  android:layout_height="fill_parent"
  android:fillViewport="true" >

<Linearlayout android:layout_height="wrap_content"
 android:layout_width="fill_parent"
android:orientation="vertical">

        <TextView
            android:id="@+id/dialledCall"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_marginLeft="10dp"
            android:textSize="13dp" />

</Linearlayout>
</ScrollView> 
```

输出：我能够获得前 5 个拨打的号码，但在接听的电话中，我得到了`messages`.

我究竟做错了什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-14T13:35:49.827

很可能您缺少权限：

```
<uses-permission android:name="android.permission.READ_CONTACTS" /> 
```

或者您的循环不正确，请尝试使用这种循环：

```
int count = 0;
if (cursor.moveToFirst()) {
  do {
    // Read your row here

    ++count;
  } while (cursor.moveToNext() && count<20);
}
cursor.close(); 
```

直接在查询中而不是在循环本身中限制行数也会更有效：

```
managedQuery( CallLog.Calls.CONTENT_URI, null, 
        CallLog.Calls.TYPE + " = " + CallLog.Calls.OUTGOING_TYPE, 
        null, strOrder + " LIMIT 0, 20"); 
```

# jquery - 使用 jQuery 重新加载页面时更改选项值

> ID：13873737
> 
> 赞同：-2
> 
> 时间：2012-12-14T06:24:44.403
> 
> 标签：jquery, html

我有一个这样的下拉选择：

```
<select>
<option>Select language</option>
<option value="en">english</option>
<option value="jp">japanese</option>
<option value="kr">korean</option>
</select> 
```

使用 jQuery，当我刷新页面时，我希望`option english`被选中。我怎样才能做到这一点？

谢谢 ..

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-14T06:26:46.510

做就是了：`$('select.yourClass').val('en');`

PS仅当您有课程`.yourClass`时才需要该部分。`select`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-14T06:26:27.230

```
$(function() {  // document ready
 $('SELECT').val('en');  // set to the OPTION value
}); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-12-14T06:27:17.993

```
 $(function() {  // document ready
$('option[value=en]').attr('selected', 'selected');
}); 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-12-14T06:27:26.613

是不是很简单？

```
$(document).ready(function(){$('select').val('en');}); 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-12-14T06:37:16.637

你只需要输入：

```
$('select').val('en'); 
```

# charts - 在 JavaFX 2.2 中创建 AreaChartBuilder 的对象

> ID：13873741
> 
> 赞同：1
> 
> 时间：2012-12-14T06:25:11.100
> 
> 标签：charts, javafx

我想创建一个对象`AreaChartBuilder`。这个类的签名：

```
Class AreaChartBuilder<X,Y,B extends AreaChartBuilder<X,Y,B>> 
```

我想知道创建其对象的语法。请帮我。

# .htaccess - .htaccess 将 www 重写为非 www 重定向问题

> ID：13873744
> 
> 赞同：2
> 
> 时间：2012-12-14T06:25:31.037
> 
> 标签：.htaccess, mod-rewrite, redirect, rewrite, no-www

所以我一直试图让这个重定向代码工作几个小时，这让我发疯了。我有相反的方向（非 www 到 www）使用此代码：

```
RewriteEngine On
RewriteCond %{HTTP_HOST} ^[^.]+\.[^.]+$
RewriteRule ^(.*) http://www.%{HTTP_HOST} [R=301] 
```

我在这里找到了上面的代码： [https ://stackoverflow.com/questions/3013730/redirecting-non-www-to-www](https://stackoverflow.com/questions/3013730/redirecting-non-www-to-www)

我必须从第三行代码中删除**$1**才能让它工作：

```
RewriteRule ^(.*) http://www.%{HTTP_HOST}/$1 [R=301] 
```

我需要的是**www.example.com**重定向到**example.com**

**并且www.example.com**上的每个页面都重定向到完全相同的 url，减去**www**。

**www.example.com/test** ---> **example.com/test**

**www.example.com/begin.php** ---> **example.com/begin.php**

等等等等。由于我的最顶层代码部分以相反的方向工作，我认为只需切换几件事并让它在几分钟内工作很容易，但我最终总是遇到 404、无限循环等等你。主要问题是我不完全理解这部分代码：

```
^[^.]+\.[^.]+$ 
```

对 apache greenie 有什么帮助吗？太感谢了！

---**编辑**---

我找到了一个更接近我想要的代码，但它也有自己的问题。代码是：

```
RewriteEngine On
RewriteCond %{HTTP_HOST} ^www\.example\.com$ [NC]
RewriteRule ^.*$ http://example.com%{REQUEST_URI} [R=301,L] 
```

这段代码有两个问题：

1）当我输入**example.com/test**时，它首先通过**www.example.com/test**，我想尽可能避免。

2）当我输入**example.com/test**时，它以**example.com/test.php**结尾，我想避免将带有**.php**扩展名的文件作为最终目的地。有什么建议么？

# html - 黑莓手机中的图像外观

> ID：13873745
> 
> 赞同：1
> 
> 时间：2012-12-14T06:25:42.597
> 
> 标签：html, css, mobile, blackberry, css-tables

有一个简单的表格，在左侧 td 上有一个图像。图片有 2px 边框。

这在浏览器中一切正常，但是当我签入黑莓手机时，由于`display:inline-block`.

在这里，我为图像周围的锚标记提供了边框。如果我直接给图像添加边框，那么会发生 td 填充问题，正如我在[**上一个问题**](https://stackoverflow.com/questions/13860425/why-there-is-no-right-padding-in-td-for-blackberry-phone)中提到的那样。

```
a.img{display:inline-block; border: 2px solid #800080; text-decoration:none} 
```

那么我怎样才能让正确的代码在黑莓和浏览器中都可以工作呢？

这是在浏览器中完美运行的**[代码。](http://jsfiddle.net/p7cBS/2/)**

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-01T14:19:20.160

Have you given all display methods a try? How about

```
display:block; 
```

instead of

```
display:inline-block;? 
```

According to Blackberry Browser 5.0, your code should still work. Ref: [http://docs.blackberry.com/en/developers/deliverables/11846/Display_564489_11.jsp](http://docs.blackberry.com/en/developers/deliverables/11846/Display_564489_11.jsp)

Which Browser are you using?

# android - 来自 Eclipse 的持久 Android 部署

> ID：13873746
> 
> 赞同：2
> 
> 时间：2012-12-14T06:25:42.867
> 
> 标签：android, eclipse, deployment

使用 Eclipse，我连接了 Android，我可以毫无问题地部署应用程序。但是，这些应用程序不会持续存在。也就是说，一旦我退出它们，我看不到重新启动它们的方法（没有出现图标）。有没有简单的方法让他们坚持下去？（例如一些旗帜或什么？）

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-14T17:29:55.180

以前从未接触过Android，全新的时刻：显然主屏幕上的图标列表不是一个完整的程序列表；我找到了一个带有网格图像的列表按钮，它显示了所有程序的列表。原谅我的无能！

# iphone - 使用 TAB 键时操作表/文本字段委托的问题

> ID：13873751
> 
> 赞同：-1
> 
> 时间：2012-12-14T06:26:14.077
> 
> 标签：iphone, uitextfield, uiactionsheet

我有四个 Uitextfields，在一个文本字段上我设置了操作表和三个仅用于文本输入的其他字段。这是我的代码..

```
 - (BOOL)textFieldShouldBeginEditing:(UITextField *)textField{    

    if(textField.tag==3)// tag will be integer
    {    
        NSLog(@"ACTION SHEET WILL DISPLAY");    
        [textField setUserInteractionEnabled:YES]; 
        [textField resignFirstResponder];            
        UIActionSheet *actionSheet = [[UIActionSheet alloc] initWithTitle:@"Select" delegate:self cancelButtonTitle:@"OK" destructiveButtonTitle:nil otherButtonTitles:@"Manpower", @"Admin",@"Research" ,nil];
        actionSheet.actionSheetStyle = UIActionSheetStyleDefault;
        [actionSheet showInView:self.view]; 
    }

    return YES;

}

-(BOOL)textFieldShouldReturn:(UITextField*)textField {

    if (textField.tag) {            
        UIResponder *nextField = [textField viewWithTag:(textField.tag + 1)];            
        [nextField becomeFirstResponder];            
    }

    else {            
        // Unknown field, just resign first responder.            
        [textField resignFirstResponder];            
    }

    return NO;       
} 
```

现在我的问题是，当我从三个文本字段中的任何一个按键盘 TAB 键时，会显示我的操作表！，但如果我单独单击文本字段，它工作得很好。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-14T06:30:10.123

您所做的只是为 xib 中的不同文本字段提供不同的标签，然后与文本字段名称进行比较，只需比较标签并为该文本字段返回 NO，因此当操作表打开时，键盘不会弹出，如下所示...

```
- (BOOL)textFieldShouldBeginEditing:(UITextField *)textField{    

 if(textField.tag==your textfield tag)// tag will be integer
 {    
  NSLog(@"ACTION SHEET WILL DISPLAY");    
    [textField setUserInteractionEnabled:YES]; 
    [textField resignFirstResponder];            
        UIActionSheet *actionSheet = [[UIActionSheet alloc] initWithTitle:@"Select" delegate:self cancelButtonTitle:@"OK" destructiveButtonTitle:nil otherButtonTitles:@"Manpower", @"Admin",@"Research" ,nil];
actionSheet.actionSheetStyle = UIActionSheetStyleDefault;
[actionSheet showInView:self.view]; 
return NO;         
} 
 else
{
  return YES;
}

 } 
```

让我知道它是否有效...

快乐编码...!!!!!!

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-14T06:38:02.517

也许它会帮助你

```
- (BOOL)textFieldShouldBeginEditing:(UITextField *)textField{    

    if(textField == dept_label)
 {    
   NSLog(@"ACTION SHEET WILL DISPLAY");    
    [textField setUserInteractionEnabled:YES]; 
    [textField resignFirstResponder];            
        UIActionSheet *actionSheet = [[UIActionSheet alloc] initWithTitle:@"Select" delegate:self cancelButtonTitle:@"OK" destructiveButtonTitle:nil otherButtonTitles:@"Manpower", @"Admin",@"Research" ,nil];
actionSheet.actionSheetStyle = UIActionSheetStyleDefault;
[actionSheet showInView:self.view];         

 return NO;
} 

else
{
return YES;
}       
} 
```

# python - Django绝对网址有效，但相对网址不适用于静态文件

> ID：13873755
> 
> 赞同：1
> 
> 时间：2012-12-14T06:26:39.403
> 
> 标签：python, django, web, static

如果这是一个基本问题，我已经四处寻找并道歉。我正在尝试让我的 django 应用程序提供静态文件。如果 STATIC_URL 设置为绝对路径（即`http://localhost/static`），那么文件可以工作，但是如果 STATIC_URL 是相对的，例如 /static/ 它不会拉入任何静态文件。

当我将应用程序移动到生产服务器并有一个反向代理为静态文件提供服务时，我希望它能够使用 /static/ 。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-14T06:31:14.563

django 要求`STATIC_DIR`是绝对路径。

设置一个变量`PROJECT_DIR`喜欢`os.path.dirname(os.path.realpath(__file__))`。

然后设置`STATIC_DIR`为`os.path.join(PROJECT_DIR, 'static')`

# java - facebook sdk 中的 UiLifecycleHelper 类

> ID：13873756
> 
> 赞同：0
> 
> 时间：2012-12-14T06:26:40.693
> 
> 标签：java, android, facebook, facebook-android-sdk

我正在按照 facebook 的类似教程为 android 构建 facebook 应用程序。问题在这里[Facebook Tutorial](https://developers.facebook.com/docs/tutorials/androidsdk/3.0/scrumptious/personalize/)他们正在使用 UiLifecycleHelper 并且它在 facebook sdk 中不可用。那是一个错误吗？非常感谢任何帮助。

附上图片![课程不可用](../Images/1db5d2f362cac461bab155c028cf1a05.png)

问候

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-14T22:11:17.193

这是我们昨天发布的 Android 版 Facebook SDK 中新引入的。您可能下载了 SDK 的测试版。

请使用上面阿里提供的链接，然后清理并重建您的项目。这里有新的（最终版本）SDK 的完整入门指南：[https ://developers.facebook.com/docs/getting-started/facebook-sdk-for-android/3.0/](https://developers.facebook.com/docs/getting-started/facebook-sdk-for-android/3.0/)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2015-08-09T07:28:59.537

如果您使用 Facebook Android SDK 4.x 或从 3.x 升级到 4.x，请注意

> CallbackManager.onActivityResult 替换 Session.onActivityResult 和 UiLifecycleHelper.onActivityResult。请参阅 Android 版 Facebook 登录，注册回调。

所以你不会在`UiLifecycleHelper`那里找到课程。更多细节 -[将 Android SDK 从 3.x 升级到 4.x](https://developers.facebook.com/docs/android/upgrading-4.x)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-12-14T07:31:09.817

这门课`import com.facebook.UiLifecycleHelper;`已经在那里了`SDK version 3.0`，为什么没有人回答这个问题。[从这里](https://developers.facebook.com/docs/getting-started/facebook-sdk-for-android/3.0/)下载最新的 SDK

# jquery - 追加后具有绝对定位的Jquery CSS浮动

> ID：13873761
> 
> 赞同：0
> 
> 时间：2012-12-14T06:26:51.743
> 
> 标签：jquery

我正在使用此代码将图像图标放在`div`. 无论 是什么`position`，`div`图像图标都会在那里，因为图像图标`css position`由 控制`div absolute position`：

```
jQuery(document).ready( function( $ ) {
var divname1= '.mydiv';

var position = $(divname1).offset(); 

$('#myicons').css(position);
$(divname1).append('<div id="myicons"><a href="#"><img src="http://test.tld/wp-content/plugins/myplugin/resources/img/myicons.png"></a></div>');

}); 
```

它完美地工作，除了问题是它占用空间并`div`在附加到`div`它将被放置的位置后扭曲了现有的。我想在附加后将它浮动到目标`div`（例如`divname1`）上，以免改变现有`divname1`布局。

你有想法吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-14T06:31:46.037

添加这行代码检查是否可行。

```
$('#myicons').css('display','inline'); 
```

# objective-c - 可可在 NSImage 上绘制文本

> ID：13873764
> 
> 赞同：4
> 
> 时间：2012-12-14T06:27:05.433
> 
> 标签：objective-c, macos, cocoa, drawing, nsimage

我有一个包含图像的 NSSegmentedControl(todayButton)。我正在尝试使用以下方法在图像上绘制一些文本：

```
NSImage *img = [todayButton imageForSegment:0]

[img lockFocus]
[@"15" drawAtPoint:NSZeroPoint withAttributes:nil]
[img unlockFocus]

[img setTemplate:YES] 
```

图像被设置为模板，不会引发错误，但图像上不会出现文本。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-14T14:19:25.307

我可能完全错了，但我的直觉告诉我你可能遇到了 NSImage 缓存问题。除非您更改图像的设置（通常不是您想要重用的图像的最佳方法），否则系统会缓存图像，或者只是创建一个新图像而不是从包中加载一个图像。

您可能需要从头开始制作一个新图像，将任何背景（您从按钮段获得的内容）合成到其中，然后绘制文本。否则系统会缓存它在别处得到的东西，这有时会导致未定义（或至少是意外）的行为。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-14T15:00:00.040

`setImage:forSegment:`修改图像后尝试调用。你交回的图像很可能是副本。

* * *

作为与问题无关的旁注，`setTemplate:`需要 a `BOOL`，而不是 C++ `bool`。你应该通过`YES`，不是`true`。这表明您可能正在将视图控制器代码编译为 ObjC++。[如果是这样，我真的建议不要这样做。](http://robnapier.net/blog/wrapping-cppfinal-edition-759)

# matlab - while 循环中的条件 if 语句

> ID：13873765
> 
> 赞同：1
> 
> 时间：2012-12-14T06:27:08.733
> 
> 标签：matlab, if-statement

我是 matlab 的半新手，并且已经编写了一个 while 循环，它将通过扫描数据集直到数据线高于阈值来从数据集中生成一个值。这是代码的一部分：

```
 c = 1;
      while min(obj_cont1(c:c+Grip_sample_length,n)) < Grasp_Threshold
      c = c + 1; 
      end

      contact_time_index(n,1) = c; 
```

问题是，这部分代码位于更大的 for 循环中，代码旨在找到数据部分高于此“grasp_threshold”（我手动设置的值）的第一个值。我的问题是：如果没有任何值符合此标准，有没有办法让代码输入一个值（例如零或空值）以指示它运行，没有找到结果，所以它去了到下一个数据集？现在，如果代码没有找到结果，它将运行 for 循环中的所有试验，但最后会给我一个错误。

我希望这很清楚。我的 matlab 行话需要一些发展，就像我的编码技能一样

先感谢您！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-14T10:24:19.160

使用它`max`返回第一个最大元素（即 0-1 数组中的第一个 1），您的代码等效于：

```
[is_above, first_idx_above_tsh] = max(obj_cont1(:,n) >= Grasp_Threshold); 
contact_time_index(n,1) = max(first_idx_above_tsh - Grip_sample_length, 1); 
```

where`is_above`会告诉你是否有任何元素高于阈值。

如果你有一个外部 for 循环并且`Grasp_Threshold`and`Grip_sample_length`是固定的，你甚至不需要把这个计算放到那个 for 循环中：

```
[is_above, first_idx_above_tsh] = max(obj_cont1 >= Grasp_Threshold); 
contact_time_index(:,1) = max(first_idx_above_tsh - Grip_sample_length, 1); 
```

这里`is_above`和`first_idx_above_tsh`都是向量。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-14T06:38:12.050

这是一个可能对您有很大帮助的示例。

假设我运行以下命令：

```
x = [];
for i = 1:10
   x(i) = i^2;
end 
```

现在，如果我想获取日志大于 5 的所有元素，或者对任何函数真正评估为真，我可以这样做

```
elementsGreaterThan5 = x(log(x) > 5) 
```

我建议使用这种方法来找到您需要的元素

[参见Matlab 中的](http://www.mathworks.com/company/newsletters/articles/Matrix-Indexing-in-MATLAB/matrix.html)逻辑索引矩阵索引

# iphone - 如何使用块逐一完成方法？

> ID：13873766
> 
> 赞同：1
> 
> 时间：2012-12-14T06:27:09.700
> 
> 标签：iphone, objective-c, ios, objective-c-blocks

我有 3 种方法，我希望所有这些方法都一个一个地完成。

它可能是使用块完成的，但我无法学习如何创建自己的块。或者有没有其他方法可以实现这一目标？

我的情况是，

同样没有块的场景在 ios6 中运行良好，但低于该值的操作系统无法正常工作

```
[self getIndex];
[self expandrows]; //I want this expandrows to be called only after everything in getIndex is finished.

-(void)getIndex
    {
     [self didSelectRowAtIndexPath:indexPath];
     //Once this didselect is completed execution than after only i want to start this loop
            for (int index = 0; index < [tableView numberOfRowsInSection:0]; index++)
           {
                NSMutableDictionary *aMutDicCur = [self.model itemForRowAtIndexPath:[NSIndexPath indexPathForRow:index inSection:0]];
                if([[aMutDicCur valueForKey:@"CategoryId"] intValue] == 4)
                {
                    indexPath = [NSIndexPath indexPathForRow:index inSection:0];
                    break;
                }
           }

    //After this loop finishes i need to again call one other method
    } 
```

据我所知，块是异步的。所以在这种情况下

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-14T06:31:42.287

称之为 [self expandrows]; 在您完成第二个方法调用后，即调用

获取索引方法。

# c# - 在 C# 中使用 X-SMTPAPI 的 Sendgrid 字符编码标头

> ID：13873772
> 
> 赞同：6
> 
> 时间：2012-12-14T06:27:32.087
> 
> 标签：c#, sendgrid

我正在使用[SendGridPlus API](https://github.com/advancedrei/sendgrid-csharp)通过 SendGrid发送电子邮件。一切正常。但是当我将它们包含在标题中的替换值中时，我遇到了西班牙字符的问题`á`。`é`

例如，如果我包括`Que día más bueno hace`我收到`Que d?a m?s bueno hace`.

这是代码：

```
 [Test]
    public void TestSendGrid()
    {
        //create a new message object
        var message = Mail.GetInstance();
        var recipients = new List<string>();

        //You could loop through your dataset here and add each recipient, up to 1000 recipients per message
        recipients.Add("juanp_perez@loyaltycrm.com");
        recipients.Add("juanp_perez@msn.com");

        //We want to add the recipients to the X-SMTPAPI header
        message.Header.AddTo(recipients);

        //Even though we added recipients to the Header, the envelope must also have a valid recipient
        message.AddTo("juanp_perez@loyaltycrm.com");

        //set the sender
        message.From = new MailAddress(From);

        //set the message body
        message.Html = "<html><p>Hello *|USERNAME|*</p><p>World *|MESSAGE|* </p></html>";

        //This replacement key must exist in the message body
        var replacementKey = "*|USERNAME|*";

        //There should be one value for each recipient in the To list
        var substitutionValues = new List<string> { "Mr Foo", "Mrs Raz" };

        message.AddSubVal(replacementKey, substitutionValues);

        //This replacement key must exist in the message body
        replacementKey = "*|MESSAGE|*";

        //There should be one value for each recipient in the To list
        substitutionValues = new List<string> { "Que día más bueno hace", "ea4t1qj8BnU%3d" };

        message.AddSubVal(replacementKey, substitutionValues);

        //set the message subject
        message.Subject = "Hello World HTML Test";

        //create an instance of the SMTP transport mechanism
        var transportInstance = SMTP.GetInstance(new NetworkCredential(Username, Password));

        //send the mail
        transportInstance.Deliver(message);        
    } 
```

有人可以就如何避免这种情况提供建议吗？

这是使用 unicode 字符后的电子邮件标题。

```
> Delivered-To: juanp_perez@loyaltycrm.com Received: by 10.194.13.129
> with SMTP id h1csp46752wjc;
>         Fri, 14 Dec 2012 13:49:55 -0800 (PST) Received: by 10.182.89.103 with SMTP id bn7mr5984026obb.35.1355521795301;
>         Fri, 14 Dec 2012 13:49:55 -0800 (PST) Return-Path: <bounces+50334-7e69-juanp_perez=loyaltycrm.com@email.loyaltycrm.com>
> Received: from o1.email.loyaltycrm.com (o1.email.loyaltycrm.com.
> [208.117.60.213])
>         by mx.google.com with SMTP id kq7si6188156obb.180.2012.12.14.13.49.54;
>         Fri, 14 Dec 2012 13:49:55 -0800 (PST) Received-SPF: pass (google.com: domain of
> bounces+50334-7e69-juanp_perez=loyaltycrm.com@email.loyaltycrm.com
> designates 208.117.60.213 as permitted sender)
> client-ip=208.117.60.213; Authentication-Results: mx.google.com;
> spf=pass (google.com: domain of
> bounces+50334-7e69-juanp_perez=loyaltycrm.com@email.loyaltycrm.com
> designates 208.117.60.213 as permitted sender)
> smtp.mail=bounces+50334-7e69-juanp_perez=loyaltycrm.com@email.loyaltycrm.com;
> dkim=pass header.i=@sendgrid.info DKIM-Signature: v=1; a=rsa-sha1;
> c=relaxed; d=sendgrid.info; h=
>   mime-version:from:to:subject:content-type
>   :content-transfer-encoding; s=smtpapi; bh=VEWUIUwwWzV7+YxR73tT5c
>   ppXfY=; b=bccVTLSqyIp8og5+IMAAwcZk54FnLw8k38X9/rNwRqVUTgj+CZQDwD
>   LOujhu+HDnYfZXOf78dugxcg5ScWNiDzbuEh6vr3xy9jNEiwkL+yiplayfWeXwGx
>   r63P7qXjhADkfn/nDeca5QkMN08Pf3+4XFWTJiRHqG0T2hGOjwxZM=
> DomainKey-Signature: a=rsa-sha1; c=nofws; d=loyaltycrm.com; h=
>   mime-version:from:to:subject:content-type
>   :content-transfer-encoding; q=dns; s=smtpapi; b=PC8I8GCSsZbqJBBW
>   i3mz2jhVy2lxTUqqinzsTu/GMl725muTRKS32KpQioE6iHIMm1thHbtrFP19DSiq
>   edJhQ5BKfCNZKrxT72c9DS1/lSl96euCqEsIbHA3b/PWl7OxgoVCw3FdOGljssh7
>   lQQLGeBIh3HbYo1yL1huXbG72Js= Received: by 10.4.35.208 with SMTP id
> mf73.16152.50CB9EF79
>         Fri, 14 Dec 2012 15:49:43 -0600 (CST) Received: from LCRM1 (unknown [10.60.208.13])   by None (SG) with ESMTP id
> 50cb9ef7.7fc9.381e109     for <juanp_perez@loyaltycrm.com>; Fri, 14 Dec
> 2012 15:49:43 -0600 (CST) MIME-Version: 1.0 From: info@loyaltycrm.com
> To: juanp_perez@loyaltycrm.com Date: 14 Dec 2012 22:49:40 +0100
> Subject: Hello World HTML Test Content-Type: text/html;
> charset=us-ascii Content-Transfer-Encoding: quoted-printable
> Message-ID: <1355521783.554221818170987@mf73.sendgrid.net>
> X-Sendgrid-EID:
> gCyESDQLdMYAVtS85w9Vrx3WCa1D47LsR1aGBtau8RBzc10shTwXzozJNPYySyl9DqFygFiq8Fky1nQzp1S/n1d/BrVpf0HPjWlFU0UghfqTLmqRf+7tZknCIg1mkVq0

    <html><p>Hello Mr Foo</p><p>World Que d\u00EDa m\u00E1s bueno hace </p></html>

    <img src=3D"http://email.loyaltycrm.com/wf/open?upn=3DAMeQx0pEtkpR4-2FebJhh=
    IV-2FlVQNg-2BgGs-2FqnbUO1ME7JjAjdPdI5TbxawOrUSlu-2B8QnxtPMS9mOdHRwby4N4j1B1=
    YJZARjusRG5pNHPBQW6tTE0gcAX6G4HdYpZXXrySEYSn5w-2FxuNG1Wm3UUoOOwRFH-2FxLn2CF=
    F4MD17CYSTJ6biVBbVijCX7rKc9RM-2FIErLm" alt=3D"" width=3D"1" height=3D"1" bo=
    rder=3D"0" style=3D"height:1px !important;width:1px !important;border-width=
    :0 !important;margin-top:0 !important;margin-bottom:0 !important;margin-rig=
    ht:0 !important;margin-left:0 !important;padding-top:0 !important;padding-b=
    ottom:0 !important;padding-right:0 !important;padding-left:0 !important;"/> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-14T19:03:06.960

默认情况下（和 RFC）SMTP 标头是 US-ASCII。为了发送非 ASCII 字符，您需要使用 Unicode 转义序列。我使用了以下字符串并且它有效。

```
Que d\u00EDa m\u00E1s bueno hace 
```

您可以在 C# 中找到一个函数来自动为您转义这些字符：[将 Unicode 字符串转换为转义的 ASCII 字符串](https://stackoverflow.com/questions/1615559/converting-unicode-strings-to-escaped-ascii-string)

# javascript - vbscript TypeName 的 javascript 等价物是什么？

> ID：13873775
> 
> 赞同：0
> 
> 时间：2012-12-14T06:27:34.823
> 
> 标签：javascript, vbscript

我必须将以下函数转换为 javascript，

```
Sub document_onkeydown()
    If window.event.keyCode = 27 Then
        window.event.ReturnValue = false
    ElseIf window.event.keyCode = 13 Then
        If TypeName(window.event.srcElement) = "HTMLInputElement" Or TypeName(window.event.srcElement) = "HTMLSelectElement" Then
            If window.event.srcElement.name <> "QuickSearch" Then
                Call butSearch_OnClick
            End If
       End If
    End If
End Sub 
```

谁能帮我转换以下几点，

```
 window.event.ReturnValue = false
 TypeName(window.event.srcElement) = "HTMLInputElement"
 window.event.srcElement.name <> "QuickSearch" 
```

非常感谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-14T06:54:46.847

**[ 1 ]** `window.event.ReturnValue = false`类似于`return false`Javascript 中的。这意味着在特定情况下您无事可做时从函数返回。

**[ 2 ]** `event.srcElement`指向生成事件的对象。

这与`event.currentTarget`Javascript 中的类似。并且`TypeName()`返回该对象的类型，类似于`typeof()`在 Javasript 中。

**[ 3 ]** `event.srcElement.name`返回`name`发生事件的对象的属性。

```
 function document_keyDown(event){
        if(event.keyCode === 27){
            return false;
        }
       else if(event.keyCode === 13){
       {
         if((event.currentTarget.tagName) === "TEXT" || (event.currentTarget.tagName) === "SELECT"){
            if(event.currentTarget.name === "QuickSearch"){

                btnSearch_onClick();
            }
         }
       }
    } 
```

# javascript - 如何在 JavaScript For Windows 8 App 中处理重定向？

> ID：13873781
> 
> 赞同：0
> 
> 时间：2012-12-14T06:28:17.950
> 
> 标签：javascript, http, windows-8, httprequest, http-redirect

我正在尝试开发一个 Windows 8 应用程序，我需要在其中登录到服务器，但登录后我得到 HTTP 重定向响应 302，我需要重定向到此链接（位置标头），并在标头中设置 cookie。似乎 WinJS.xhr 无法处理 HTTP 重定向。有什么方法可以控制我的请求并处理重定向吗？我对 Windows 应用程序开发的首选语言是 JavaScript。提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-14T14:11:07.933

如果您需要进行身份验证，则无需使用 XHR，因为您拥有 WebAuthenticationBroker。[你可以在这里](http://code.msdn.microsoft.com/windowsapps/Web-Authentication-d0485122/view/Discussions)找到一个例子。

# ios - iOS Game Center - load a player's open matches

> ID：13873790
> 
> 赞同：3
> 
> 时间：2012-12-14T06:29:42.087
> 
> 标签：ios, game-center

I am working with Game Center, and I know it's easy enough to present the Game Center view controller to show all of a player's open (turn-based) matches. But I would like to also show the number of matches the user is currently involved in, and give quick links to open those matches without using the Game Center view controller. Is there a way to do this?

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-19T00:14:55.943

You can use the following method to retrieve the list of matches from the Game Center:

```
GKTurnBasedMatch loadMatchesWithCompletionHandler 
```

I have attached a code snippet to show how I am loading them. GameKitHelper is a singleton I use to perform some common Game Kit actions. I also request the player aliases to display them with the match info.

```
[GKTurnBasedMatch loadMatchesWithCompletionHandler:^(NSArray *matches, NSError *error)
 {
     if (error)
     {
         NSLog(@"Load matches error: %@", error.description);
         // more error processing here
         return;
     }

     self.currentMatches = matches;

     // upate all the matches match data, then end any orphan matches, then get player aliases
     // it is very important to update all the match data, because the loadMatchesWithCompletionHandler
     // will have no match data, or old match data.
     [GameKitHelper updateMatchesMatchData:self.currentMatches completionHandler:^(NSError *error) {
         [GameKitHelper endOrphanedMatches:matches completionHandler:^(NSError *error) {
             [self requestPlayerAliasesFromGameCenterForMatches:self.currentMatches];
         }];
     }];
 }]; 
```

# opencv - 光流中的像素对应

> ID：13873791
> 
> 赞同：2
> 
> 时间：2012-12-14T06:29:50.190
> 
> 标签：opencv, frame, tracking, pixel, opticalflow

我对视频序列中的光流概念有点陌生，我已经阅读了有关光流的基础知识，并且我熟悉 Horn & Shunck 方法或 Lucas & Kanade 的方法。

我意识到，在这些方法中，我们正在计算一些表示图像中像素运动的向量，当然这些像素有一些限制（亮度恒定性、平滑度和......）

我的问题：

根据公式`fx*u + fy *v = -ft` ，我们如何才能准确地建立帧中一个像素与帧`t`中另一个像素之间的对应关系`t + 1`？

我的意思是我们怎么能确定它是`t`我们在 frame 中找到的相同的像素`t + 1`，我不知道我们在他们算法的哪个部分找到这些像素并在 frame`t`和 frame中的像素之间建立对应关系`t + 1`！我知道我们可以找到移动的像素，但我不知道我们如何找到 frame`t`和 frame中的像素之间的关系`t + 1`。

我希望你能理解我的问题:o)(o:

如果可能的答案尽可能地制定。

谢谢美女

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-01-16T15:43:19.753

实际上，Horn、Schunk 和 Lucas、Kanade 的方法以不同的方式处理方程：

```
Fx*U + Fy*V = -Ft 
```

如你所见，这个方程是一个欠定方程组。因此，Horn 和 Schunk 提出整合第二个假设。平滑度约束 和 的偏差`U`应该`V`很小。这已集成到最小二乘框架中，您可以在其中：

```
(Fx*U + Fy*V + Ft)² + lambda * (gradient(U)² + gradient(V)² = E
E -> min 
```

使用该方程可以求解`U`并`V`通过将 的偏差设置`E`为`0`。因此，运动矢量的解通过 和 的梯度算子连接`U`起来`V`。

Lucas 和 Kanade 提出在一个定义的区域中 Lucas Kanade 窗口只计算一个运动向量（或者一个区域只有一个运动/运动恒定性约束）并将其放入最小二乘框架：

```
sum(Fx*U + Fy*V + Ft)² = E
E->min 
```

对定义区域中的每个像素进行求和。并且`U`和`V`也可以很容易地计算为`E`set to的偏差`0`。

通过这两个方程，您可以看到像素对应关系是通过使用时间 ( `Ft`) 和空间图像梯度 ( `Fx`, `Fy`) 找到的。Lucas 和 Kanade 的原始论文中有一张很好的图片，以图形方式显示了这种相关性。不过有几点需要考虑：

*   如果图像包含纹理（孔径问题），这些方法只能计算运动矢量
*   `Fx*U + Fy*V + Ft`是 的一阶泰勒近似`F(x, y, t) = F(x + U, y + V, t + 1)`。这意味着您的图像信号需要是线性的。因此，您只能计算最多几个像素的运动。这就是为什么使用图像金字塔来提供线性。
*   运动恒定性或平滑性约束可防止尖锐的运动边界。这在某些应用程序中可能很重要。
*   该框架不会阻止您解决经典的通信问题。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-16T02:48:19.367

使用 Fx*U + Fy*V = -Ft 我们无法为一个像素求解这个方程...所以在 cvGoodFeaturesToTrack 为您提供一组像素之后...在该集中的每个像素周围选择一个窗口...根据假设补丁/窗口（以所选像素为中心）在下一帧中具有相同强度的恒定强度假设。所以假设在 frameA 中，我们通过考虑它周围的窗口来找出一个点的 U 和 V...U 和 V 给出了特定点应该在水平和垂直方向上经过的像素位移...使用 U和 V 我们在下一帧即 frameB 中找到该点的位置。根据恒定强度假设，帧B中预测点周围的补丁应该具有与帧A中点周围的补丁相同的强度......

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2017-01-03T02:22:51.093

在 Horn 和 Schunk 的方法中，不需要通过无关方法计算两帧之间的像素对应关系。H&S 是一种迭代算法。对于两个连续的帧，您从我们和 vs 的一些初始值开始，然后迭代直到收敛。

细节：

对于两个连续的帧，您执行以下多次迭代，（这是为每个像素计算的，想象有一个 u-image-buffer 和一个 v-image-buffer）

```
u = u_av - Fx *(P/D)
v = v_av - Fy *(P/D) 
```

在哪里

```
*, stands for multiplication
P = Fx * u_av + Fy  * v_av + Ft
D = lambda + Fx**2 + Fy**2
Fx = gradient of image along x (can be averaged across the two frames)
Fy = gradient of image along y (can be averaged across the two frames)
Ft = temporal gradient across two frames
u_av = (sum of u-s of 4 diagonal neighbors)/4
v_av = (sum of u-s of 4 diagonal neighbors)/4
lambda=smoothness constraint coefficient 
```

u 和 v 的初始值可以为零。

# entity-framework - 如何使用 ObjectContext 删除对象列表？

> ID：13873793
> 
> 赞同：12
> 
> 时间：2012-12-14T06:30:03.707
> 
> 标签：entity-framework, objectcontext

假设您有这样的代码。

```
using (CustomerContext db = new CustomerContext())
{
   var foundCustList=db.Customers.Where(c=>c.State=='-1').ToList();//Find all the customer which State is -1
   foreach(var c in foundCustList)
   {
       db.DeleteObject(c);
   }
   db.SaveChanges();//After all the customer is deleted, Commit.
} 
```

但我想知道有没有办法轻松删除对象列表？我不想用`foreach`list 一个一个来做。谢谢。

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2012-12-14T06:52:50.417

您可以使用Nuget 提供的[EntityFramework.Extended](http://nuget.org/packages/EntityFramework.Extended)库（不要忘记添加`using EntityFramework.Extensions;`）：

```
db.Customers.Delete(c => c.State == '-1'); 
```

或者您可以手动编写扩展方法：

```
public static void DeleteObjects<T>(this ObjectSet<T> set, 
                                    IEnumerable<T> entities)
    where T : EntityObject
{
    foreach (var entity in entities)
        set.DeleteObject(entity);
} 
```

用法：

```
var customersToDelete = db.Customers.Where(c => c.State == '-1');
db.Customers.DeleteObjects(customersToDelete); 
```

或者更好的一个：

```
public static void DeleteObjects<T>(this ObjectSet<T> set, 
                                    Expression<Func<T, bool>> predicate)
    where T : EntityObject
{
    foreach (var entity in set.AsQueryable<T>().Where(predicate))
        set.DeleteObject(entity);
} 
```

用法：

```
db.Customers.DeleteObjects(c => c.State == '-1'); 
```

* * *

## 回答 #2

> 赞同：10
> 
> 时间：2016-07-01T01:15:06.563

**上面接受的答案已经过时，因为语法已被弃用，而是删除了一个简单的查询：**

```
db.Customers.Where(c => c.State == '-1').Delete(); 
```

* * *

## 回答 #3

> 赞同：6
> 
> 时间：2012-12-14T06:34:33.410

```
db.Customers.Where(c => c.State == '-1').ToList().ForEach(db.DeleteObject);
db.SaveChanges(); 
```

应该是你所需要的。

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2020-01-07T07:59:41.483

**实体框架核心**

> 3.1 3.0 2.2 2.1 2.0 1.1 1.0

```
using (CustomerContext db = new CustomerContext())
{
    var foundCustList=db.Customers.Where(c=>c.State=='-1').ToList();//Find all the customer which State is -1
    db.Customers.RemoveRange(foundCustList);
    db.SaveChanges();//After all the customer is deleted, Commit.
} 
```

**摘要**：

> 从集合底层的上下文中删除给定的实体集合，每个实体都处于已删除状态，以便在调用 SaveChanges 时将其从数据库中删除。

**备注**：

> 请注意，如果 System.Data.Entity.Infrastructure.DbContextConfiguration.AutoDetectChangesEnabled 设置为 true（这是默认设置），则 DetectChanges 将在删除任何实体之前调用一次，并且不会再次调用。这意味着在某些情况下，RemoveRange 的性能可能比多次调用 Remove 的性能要好得多。请注意，如果上下文中存在处于已添加状态的任何实体，则此方法将导致它与上下文分离。这是因为假定数据库中不存在已添加的实体，因此尝试删除它没有意义。

# iphone - 如何在box2d中顺时针和逆时针旋转运 动体

> ID：13873797
> 
> 赞同：1
> 
> 时间：2012-12-14T06:30:37.620
> 
> 标签：iphone, cocos2d-iphone, box2d

任何人都可以建议我或提供有关这种情况的想法吗

1.  我有一个动态的身体（球）

2.  还具有运动体（圆形木块）

当球击中木块时，木块应以一定角度旋转自己的中心，并应在几秒钟（0.2 毫秒）后停止。

当球击中木块的右侧时，它应该顺时针方向旋转......当球击中左侧的木块时，它应该逆时针方向旋转。

当它与球接触时，我对运动体（木块）进行了这样的尝试。

```
blockBody->SetAngularVelocity( -60 * DEGTORAD ); 
```

但木块继续顺时针旋转。

任何帮助将不胜感激

谢谢大家

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-02T09:07:22.363

您不应该自己处理和解决碰撞，而是应该为每个对象设置不同的重量/大小和摩擦力，并让 box2d 为您处理碰撞。

# timer - C#定时器工作

> ID：13873800
> 
> 赞同：1
> 
> 时间：2012-12-14T06:30:52.630
> 
> 标签：timer

我有一些基本的查询。我正在研究 C#.net。

1.  计时器事件是在单独的线程上创建的吗？
2.  我每 100 毫秒创建一个计时器事件，并调用一个执行数据库访问等任务的相同函数。如果进程无法在 100 毫秒内完成功能任务并生成下一个计时器事件，结果会怎样？
3.  我应该怎么做才能避免这种情况？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-09T13:40:24.437

1.  如果您谈论 System.Timers.Timer，那么是的。
2.  Timer 事件在另一个 ThreadPool 线程上调用。请看这个： http: [//msdn.microsoft.com/en-us/library/system.timers.timer (v=vs.100).aspx](http://msdn.microsoft.com/en-us/library/system.timers.timer(v=vs.100).aspx)
3.  我建议重新考虑您的解决方案，并完全避免使用计时器。您可以使用其他同步机制，例如信号量，......这取决于您的情况。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-04-30T16:49:49.360

c# 中有多个不同的计时器，有些是在单独的线程上创建的，有些是在同一个线程上运行的。

本文档 - [http://msdn.microsoft.com/en-us/magazine/cc164015.aspx](http://msdn.microsoft.com/en-us/magazine/cc164015.aspx)很好地概述了您最常看到的 3 个

*   System.Windows.Forms.Timer
*   System.Timers.Timer
*   System.Threading.timer

从有问题的文章

```
+---------------------------------------------------------------------------------------+
|                                  |System.Windows.Forms|System.Timers| System.Threading|
+----------------------------------+--------------------+-------------+-----------------+
|Timer event runs on what thread?  | UI thread          | UI or worker| Worker thread   |
|Instances are thread safe?        | No                 | Yes         | No              |
|Familiar/intuitive object model?  | Yes                | Yes         | No              |
|Requires Windows Forms?           | Yes                | No          | No              |
|Metronome-quality beat?           | No                 | Yes*        | Yes*            |
|Timer event supports state object?| No                 | No          | Yes             |
|Can schedule initial timer event? | No                 | No          | Yes             |
|Class supports inheritance?       | Yes                | Yes         | No              |
+---------------------------------------------------------------------------------------+
* Depending on the availability of system resources (for example, worker threads) 
```

如果您可以摆脱使用 Windows.Forms 计时器，则无需担心您描述的情况。

有关如何防止多个线程调用您的示例，请参阅[http://blog.scosby.com/post/2009/01/04/Thread-synchronization-with-the-SystemTimersTimer-class-(part-one).aspx](http://blog.scosby.com/post/2009/01/04/Thread-synchronization-with-the-SystemTimersTimer-class-%28part-one%29.aspx)使用 System.Timers.Timers 时的代码

# android - 获取android程序中的.bin文件

> ID：13873803
> 
> 赞同：0
> 
> 时间：2012-12-14T06:30:59.313
> 
> 标签：android, bin

我将 .bin 文件放在 android 的资产中。我想读它。我使用这个根：

```
fis = new FileInputStream("x:" + File.separator + "work"+File.separator+"game1"+File.separator+"File"+File.separator+"game1"+File.separator+"assets"+File.separator+"01.bin"); 
```

但这是不对的。运行后显示找不到文件。如何获取此文件？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-14T06:37:12.777

尝试这样的事情：

```
AssetManager assetManager = getResources().getAssets();
InputStream inputStream = null;

    try {
        inputStream = assetManager.open("foo.txt");
            if ( inputStream != null)
                Log.d(TAG, "It worked!");
        } catch (IOException e) {
            e.printStackTrace();
        } 
```

有关详细示例，请参见此链接。

[Android 从资产中读取文件](http://www.technotalkative.com/android-read-file-from-assets/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-14T06:45:36.027

试试这个..

```
AssetManager assetManager = getResources().getAssets();
InputStream input;
try
{
input = assetManager.open("01.bin");   
}
catch (IOException e)
{
e.printStackTrace();
} 
```

# jquery - 页面加载时 - Knockout / Javascript 有 1-4 秒的延迟

> ID：13873804
> 
> 赞同：1
> 
> 时间：2012-12-14T06:31:06.997
> 
> 标签：jquery, asp.net-mvc, knockout.js

我使用 MVC4、Knockout 和 Knockout.Mapping 插件。

在页面的初始加载时，除了敲除正在渲染的部分之外，所有内容都会渲染，有时会延迟 1-4 秒，直到 javascript/knockout 加载此部分。最初在测试期间，数据很少，这真的不是问题，但是有很多数据，它非常明显，最重要的是看起来非常不专业。

这是我们的加载脚本

```
<script type="text/javascript">
    $(function () {
        ordersViewModel = new ordersViewModel('@Html.Raw(JsonConvert.SerializeObject(Model))');
        ko.applyBindings(ordersViewModel);
    });
</script> 
```

我的猜测是我可以使用“显示：无”或隐藏该部分，直到加载了 javascript，我想做一些类似于 Github 的事情，在那里他们对正在获取的内容有一个加载对话框。

我敢肯定有人遇到过这个问题并有一个优雅的解决方案。

任何帮助将非常感激。

干杯，山姆

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-14T07:37:23.957

正如您在问题中讨论的那样，我将采用 CSS 路线。最简单的方法是简单地拥有两个容器，一个包含正在加载的数据，一个包含典型的加载消息，可能带有一个 gif 指示正在加载（就像在此处找到的那些[http://www.ajaxload.info/](http://www.ajaxload.info/)）。

因此，您需要做的就是一个接一个地放置容器：

```
<div id="loadingMessage">
    My loading message
</div>
<div id="content" style="display: none;">
    My content
</div> 
```

然后在绑定完成后执行这个 JS：

```
$("#loadingMessage, #content").toggle(); 
```

# android - android操作栏中的问题

> ID：13873806
> 
> 赞同：1
> 
> 时间：2012-12-14T06:31:17.393
> 
> 标签：android, android-layout, android-actionbar, actionbarsherlock

我正在创建 `mail client`包含库的应用程序，`actionbarsherlock`以便可以在其中`actionbar`找到，我想在操作栏上方包含一个。有没有可能？`top``screen``header`

提前致谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-14T07:10:15.160

据我所知，不，那是不可能的。[ActionBar](http://developer.android.com/guide/topics/ui/actionbar.html)的制作方式总是显示在屏幕顶部，这主要是由于 android 应用程序的一致性。因此，您不能只在其上方放置一个视图。您的操作栏将始终位于您可以定义的布局之上。

# regex - htaccess ：如果路径是编码字符串，则重定向

> ID：13873807
> 
> 赞同：0
> 
> 时间：2012-12-14T06:31:19.837
> 
> 标签：regex, .htaccess

我有一个域，我在该域上为我的客户运行个人文件托管服务。最近我不得不使用域来托管一个站点并将服务移动到一个子域。但是，我想保留我创建的 1000 个链接。

我正在考虑用 htaccess 来做这件事并写一个这样的规则，尽管在 Regex 字符串方面我什至不是新手：

```
RewriteEngine on
RewriteBase / 

RedirectMatch 301 ^/[regex]$ http://subdomain.website.com/$1 
```

其中 [regex] 会以某种方式检测到该字符串是 12 个字符的编码字符串。前任 ：

```
0G0C2V251p2t
2f243p3T0D34 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-14T09:40:52.730

使用 mod_alias：

```
RedirectMatch 301 ^/([A-Za-z0-9]{12}([A-Za-z0-9]{8})?)$ http://subdomain.website.com/$1 
```

使用 mod_rewrite：

```
RewriteEngine On
RewriteRule ^/?([A-Za-z0-9]{12}([A-Za-z0-9]{8})?)$ http://subdomain.website.com/$1 [L,R=301] 
```

# javascript - Blackberry OS7 中的 HTML5 本地存储

> ID：13873810
> 
> 赞同：1
> 
> 时间：2012-12-14T06:31:35.047
> 
> 标签：javascript, html, local-storage, blackberry-webworks

我正在使用 phonegap 和使用 HTML5 的本地存储功能开发黑莓应用程序。在黑莓 OS7 设备中，即使删除并重新安装应用程序后本地存储数据也不会被清除。要清除我使用的本地存储，localStorage.clear();，但我不想为应用程序的第二次启动清除本地存储。我怎样才能做到这一点？问候阿什维尼

# maven-eclipse-plugin - 无法从本地机器启动 maven 测试脚本：

> ID：13873814
> 
> 赞同：-1
> 
> 时间：2012-12-14T06:32:02.307
> 
> 标签：maven-eclipse-plugin

无法从本地机器启动 maven 测试脚本：：执行命令行时发生异常。createprocess error=87 参数不正确。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-15T05:07:11.790

Resolution: The solution is to shorten the class path for maven repository, reduce depth of folder trees. Below is the steps to rectify this issue:

• Go to Maven_Home. Update setting.xml with your customized repository name.

Example : D:\apache-maven-2.2.1\conf\setting.xml. uncomment below line in setting.xml

```
 <localRepository>D:/myrepository</localRepository> // The path to the customized local repository maven will use to store artifacts instead of Default: ~/.m2/repository. 
```

• While running Maven build from command Prompt, the repository will be created at D:/myrepository (Instead off downloading again we can copy/paste it from Default: ~/.m2/repository).

• Update new maven local repository location from Eclipse : window  Prefrences  User setting. (see below screen shot).

• Clean the project, In maven repository folder it should point to latest customized repository.

# jquery - 阿贾克斯无法识别

> ID：13873816
> 
> 赞同：1
> 
> 时间：2012-12-14T06:32:21.977
> 
> 标签：jquery, ajax, grails

在此代码`Ajax`中无法识别，但其他 jQuery 方法或选择器工作正常。

```
new Ajax.Request(form.action,{
      method: 'POST',
      postBody: params,
      onSuccess: function(response) {
         var responseText = response.responseText || '[]';
         var json = responseText.evalJSON();
         if (json.success) {
             alert("json.sucess")
            onSuccessfulLogin(form.j_username.value);
         }
         else if (json.error) {
             alert("json.error")
            $("form").enable(document.ajaxLoginForm);
         }
         else {
            alert("responseText"+responseText);
            $("form").enable(document.ajaxLoginForm);
         }
      }
   }); 
```

我需要添加一些其他库或 jar 吗？我正在使用`jquery 1.7.2`.

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-14T06:41:07.453

那么这个呢：

```
$.ajax({
    url: url,
    type: "post",
    data: params,
    success: function (response, textStatus, jqXHR) {
        var responseText = response.responseText || '[]';
        var json = responseText.evalJSON();
        if (json.success) {
            alert("json.sucess")
            onSuccessfulLogin(form.j_username.value);
        }
        else if (json.error) {
            alert("json.error")
            $("form").enable(document.ajaxLoginForm);
        }
        else {
            alert("responseText"+responseText);
            $("form").enable(document.ajaxLoginForm);
        }
    },
    error: function (jqXHR, textStatus, errorThrown) {
    },
    // callback handler that will be called on completion
    // which means, either on success or error
    complete: function () {
    }
}); 
```

Ajax jQuery 文档在这里：[http ://api.jquery.com/jQuery.ajax/](http://api.jquery.com/jQuery.ajax/)

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2017-11-02T21:58:45.937

这可能有几个原因。首先，尝试包含更新版本的 jQuery - 3.2.1。其次，确保您没有在任何地方两次包含该库。此外，可能尝试以这种形式提出请求：

```
$("button").click(function(){
   $.ajax({url: "demo_test.txt", success: function(result){
      $("#div1").html(result);
   }});
}); 
```

在此处查看文档：[https ://www.w3schools.com/jquery/jquery_ajax_intro.asp](https://www.w3schools.com/jquery/jquery_ajax_intro.asp)

我希望这有帮助！

# javascript - 遍历节点并将值存储在 umbraco razor 的数组中

> ID：13873818
> 
> 赞同：0
> 
> 时间：2012-12-14T06:32:21.620
> 
> 标签：javascript, razor, umbraco

我正在使用 umbraco 4。我想遍历节点并将其 urlname 存储在一个数组中。所以该数组看起来像... ['aaa-node','bbb-node','ccc-node']。但是以下代码不起作用...

```
<script type="text/javascript">
@{
var arr = new Array[10];
var j=0;

foreach (var node in Model.Children.Where("Visible"))
{
  arr[j]=@node.UrlName;
  j++;
}
}
</script> 
```

但这给出了 Error loading Razor Script getnodes.cshtml 代码中的错误是什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-14T11:41:08.377

我猜你得到的索引越界异常，因为可能有超过 10 个节点。

我发现通过将 razor 代码包装在 try catch 中然后输出错误更容易调试它。请注意，这实际上仅适用于运行时错误。

```
@try
{
    // Initialize list:
    var list = new List<string>();

    // Add each urlname to the list:
    foreach (var node in Model.Children.Where("Visible"))
    {
        list.Add(node.UrlName);
    }

    // Serialize and output javascript:
    <script type="text/javascript">
        var arr = @Html.Raw(Json.Encode(list));
    </script>
}
catch (Exception ex)
{
    @ex.ToString()
} 
```

我知道，要全神贯注是一件很难的事情。Razor 代码在服务器端进行评估，javascript 在客户端进行评估。所以这意味着他们两个没有真正的合作方式。

我们对脚本标签之间的代码行所做的是写出浏览器在下载渲染页面后将运行的 javascript。就剃刀而言，它只是在那个地方写出一个字符串。尽管部分语言看起来很相似，但 razor 对 javascript 一无所知。Json.Encode (razor) 将您的列表对象序列化为 json。Html.Raw (razor) 确保输出没有被编码。（删除它并在浏览器中查看页面的源代码，以了解为什么需要这样做。）

# javascript - 刷新本地存储后恢复下拉选择

> ID：13873822
> 
> 赞同：2
> 
> 时间：2012-12-14T06:32:42.103
> 
> 标签：javascript

我正在尝试将选项标签值保存到本地存储。将其值保存到本地存储后，我希望能够将选项标签设置为用户选择的选项。我已经尝试了以下操作，但我只能保存该值。我无法将选择标签更改为用户选择的值。

```
<select name="fruit" id="fruit">
    <option value="1">Apple</option>
    <option value="2">Guava</option>
    <option value="3">Mango</option>
    <option value="4">Grapes</option>
</select>

document.getElementById("fruit").onchange = function() {
 localStorage.setItem('fruit', document.getElementById("fruit").value);
}

if (localStorage.getItem('fruit') === "Guava") {
 document.getElementById("fruit").setAttribute('Selected', 'Guava');
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-14T06:46:36.143

这是因为您选择的选项的值和文本不同。尝试：

```
 <select name="fruit" id="fruit">
    <option value="Apple">Apple</option>
    <option value="Guava">Guava</option>
    <option value="Mango">Mango</option>
    <option value="Grapes">Grapes</option>
</select>

    document.getElementById("fruit").onchange = function() {
     localStorage['fruit'] = document.getElementById("fruit").value;
    }
    window.onload= function(){
        if(localStorage['fruit'])
            document.getElementById("fruit").value = localStorage['fruit'];
    } 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-14T06:43:05.830

因为您的选项值是整数，在这种情况下，我会检查选项的*值*，而不是选项元素的文本内容。

如果您有从零开始的递增数字选项值，这是一个有效的解决方案：

[演示](http://jsfiddle.net/Lyxut/6/)

HTML：

```
<select name="fruit" id="fruit">
    <option value="0">Apple</option>
    <option value="1">Guava</option>
    <option value="2">Mango</option>
    <option value="3">Grapes</option>
</select> 
```

你的 JS 将是：

```
document.getElementById("fruit").onchange = function() {
    localStorage.setItem('fruit', document.getElementById("fruit").value);
}

if (localStorage.getItem('fruit')) {
    document.getElementById("fruit").options[localStorage.getItem('fruit')].selected = true;
}​ 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-14T06:43:50.300

在我看来，您将选择的**值**存储在本地存储中，然后尝试使用选项**文本**进行比较。也许我误解了您的应用程序是如何工作的。

无论如何，这个片段应该可以正确选择您的值（对于番石榴果实）：

```
$("#fruit option[value='2']").attr("selected","selected"); 
```

如果您必须通过选项的文本（Guava）设置选项标签：

```
$("#fruit option").each(function(){
  if ($(this).text() == "Guava")
    $(this).attr("selected","selected");
}); 
```

# ios - 在 Xcode 中使用 UIPanGestureRecognizer 和速度来确定滑动方向过于敏感并且在方向之间快速切换

> ID：13873827
> 
> 赞同：3
> 
> 时间：2012-12-14T06:33:04.753
> 
> 标签：ios, xcode, uipangesturerecognizer, swipe-gesture

澄清：

我想要实现的是：滑动手势（向上、向下、向右和向左）在 WebView 上。当任何手势发生时，这就是它需要发生的事情：一旦开始滑动，就必须开始一个动作（该动作实际上是加载一个 html 链接，该链接将 ip 摄像头移动到上、下、右、左）。html链接使相机一直向右或向左或向上或向下。我有另一个 html 链接，加载时会告诉网络摄像机停止。

所以它需要发生的是当状态是 UIGestureRecognizerStateBegan 链接加载并不断移动相机直到用户没有触摸屏幕并且状态变为 UIGestureRecognizerStateEnded 并触发另一个 html 链接在 WebView 中运行哪个链接将停止相机从移动。正如我们所说，我发布的初始代码就是这样做的，但是刷卡太敏感了。您的代码已解决此问题，但现在第二个链接在第一个链接之后立即加载，不允许相机移动。是否有意义？？第一个链接需要运行直到手指被抬起。

* * *

原始问题：

我试图使用我管理的 UIPanGestureRecognizer 中的速度来确定滑动方向，它检测到向右、向左、向上和向下滑动，它会根据滑动方向触发适当的操作，并在每次滑动时再次触发正确的操作 UIGestureRecognizerStateEnded ，但是，我在下面的代码中的问题是方向非常敏感，例如在向右滑动期间，它可以识别大部分向右滑动，但也可以在两者之间向上或向下滑动。由于滑动并不总是完美地在一条直线上，我想发现的是，如果滑动大部分是向右，则只触发向右滑动的动作，并忽略微小的像素偏差。

此外，对于我的项目来说，理想情况下是只触发一次给定滑动方向上的动作，就像在 UISwipeGestureRecognizer 中一样，但是使用它我遇到了 UIGestureRecognizerStateEnded 的问题，因为它不会让滑动动作运行，直到我将手指从屏幕，即使我的手指仍在滑动，它也会立即完成滑动动作。

任何帮助将非常感激。这是我的代码：

在 ViewDidLoad 我有：

```
UIPanGestureRecognizer *gestureRecognizer = [[UIPanGestureRecognizer alloc] initWithTarget:self action:@selector(handleGesture:)];
[_myWebView addGestureRecognizer:gestureRecognizer];
[gestureRecognizer setMinimumNumberOfTouches:1];
[gestureRecognizer setMaximumNumberOfTouches:1]; 
```

在我的课堂上，我有：

```
- (void)handleGesture:(UIPanGestureRecognizer *)gestureRecognizer
{
CGPoint velocity = [gestureRecognizer velocityInView:_myWebView];

if(velocity.x > 0)//right
{
   //my action here

  if ( [gestureRecognizer state] == UIGestureRecognizerStateEnded )
  { //my action when swipe finished here }
}
else if(velocity.x < 0)//left
{
   //my action here

  if ( [gestureRecognizer state] == UIGestureRecognizerStateEnded )
  { //my action when swipe finished here }
}
else if(velocity.y > 0)//down
{
   //my action here

  if ( [gestureRecognizer state] == UIGestureRecognizerStateEnded )
  { //my action when swipe finished here }
}
else if(velocity.y < 0)//up
{
   //my action here

  if ( [gestureRecognizer state] == UIGestureRecognizerStateEnded )
  { //my action when swipe finished here }
} 
```

谢谢，有什么需要说明的请追问。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-12-14T07:25:12.603

`x`如果组件是组件的某个合理倍数，您可以进行一些“水平”方向检测`y`。所以，如果`x`是五次`y`，那可以被认为是水平滑动。垂直方向反之亦然。5 是否是正确的倍数取决于您（使用 tan ^(-1)，您可以看到从绝对水平/垂直转换为大约 11.3°），但从概念上讲，这是一种轻松解决它的方法。

例如，这是一个手势识别器，当用户开始向特定方向滑动时，它将向相机发送命令以启动该方向的移动，并在用户将手指从屏幕上抬起时告诉相机停止：

```
CGFloat const gestureMinimumTranslation = 20.0;

typedef enum : NSInteger {
    kCameraMoveDirectionNone,
    kCameraMoveDirectionUp,
    kCameraMoveDirectionDown,
    kCameraMoveDirectionRight,
    kCameraMoveDirectionLeft
} CameraMoveDirection;

@interface ViewController ()
{
    CameraMoveDirection direction;
}
@end

@implementation ViewController

- (void)viewDidLoad
{
    [super viewDidLoad];

    UIPanGestureRecognizer *recognizer = [[UIPanGestureRecognizer alloc] initWithTarget:self action:@selector(handleSwipe:)];
    [self.viewWithGestureRecognizer addGestureRecognizer:recognizer];
}

// This is my gesture recognizer handler, which detects movement in a particular
// direction, conceptually tells a camera to start moving in that direction
// and when the user lifts their finger off the screen, tells the camera to stop.

- (void)handleSwipe:(UIPanGestureRecognizer *)gesture
{
    CGPoint translation = [gesture translationInView:self.view];

    if (gesture.state == UIGestureRecognizerStateBegan)
    {
        direction = kCameraMoveDirectionNone;
    }
    else if (gesture.state == UIGestureRecognizerStateChanged && direction == kCameraMoveDirectionNone)
    {
        direction = [self determineCameraDirectionIfNeeded:translation];

        // ok, now initiate movement in the direction indicated by the user's gesture

        switch (direction) {
            case kCameraMoveDirectionDown:
                NSLog(@"Start moving down");
                break;

            case kCameraMoveDirectionUp:
                NSLog(@"Start moving up");
                break;

            case kCameraMoveDirectionRight:
                NSLog(@"Start moving right");
                break;

            case kCameraMoveDirectionLeft:
                NSLog(@"Start moving left");
                break;

            default:
                break;
        }
    }
    else if (gesture.state == UIGestureRecognizerStateEnded)
    {
        // now tell the camera to stop
        NSLog(@"Stop");
    }
}

// This method will determine whether the direction of the user's swipe

- (CameraMoveDirection)determineCameraDirectionIfNeeded:(CGPoint)translation
{
    if (direction != kCameraMoveDirectionNone)
        return direction;

    // determine if horizontal swipe only if you meet some minimum velocity

    if (fabs(translation.x) > gestureMinimumTranslation)
    {
        BOOL gestureHorizontal = NO;

        if (translation.y == 0.0)
            gestureHorizontal = YES;
        else
            gestureHorizontal = (fabs(translation.x / translation.y) > 5.0);

        if (gestureHorizontal)
        {
            if (translation.x > 0.0)
                return kCameraMoveDirectionRight;
            else
                return kCameraMoveDirectionLeft;
        }
    }
    // determine if vertical swipe only if you meet some minimum velocity

    else if (fabs(translation.y) > gestureMinimumTranslation)
    {
        BOOL gestureVertical = NO;

        if (translation.x == 0.0)
            gestureVertical = YES;
        else
            gestureVertical = (fabs(translation.y / translation.x) > 5.0);

        if (gestureVertical)
        {
            if (translation.y > 0.0)
                return kCameraMoveDirectionDown;
            else
                return kCameraMoveDirectionUp;
        }
    }

    return direction;
}

@end 
```

这演示了如何确定平移手势的初始方向，然后在确定初始方向以及手势结束时采取行动。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-14T14:17:15.940

首先，您可以使用平移而不是手势的速度 - 这将为您提供从滑动开始到结束的距离，而不是滑动结束时的移动方向，就像速度一样。

其次，您可能应该在检查方向之前检查手势状态是否为“结束”。现在您在每个“if”中重复相同的检查。

要获得方向，您可以使用带有 x 和 y 平移的 atan2 三角函数来获得平移角度，或者如果可以始终将手势解释为 4 个方向之一的滑动，只需找出 x 或 y 是否更大绝对值，然后是正值还是负值。

# wpf - 鼠标悬停在按钮上时带箭头的样式，wpf

> ID：13873830
> 
> 赞同：0
> 
> 时间：2012-12-14T06:33:19.153
> 
> 标签：wpf, image, xaml, button, mouseevent

我在 WPF 中有一个`Image`和`Button`这样的：

```
<Image HorizontalAlignment="Left" Height="31.627" VerticalAlignment="Top" Width="32" Margin="21,80.373,0,0" Source="Images\computer.png"/>
<Button FontWeight="Bold" FontSize="12" Content=swethapilli" Height="31.627" VerticalAlignment="Top" Margin="57,80.373,95.296,0"/> 
```

现在它看起来像这样：

![在此处输入图像描述](../Images/f6618c1a7d3858936ff69216b0df358c.png)

现在我的要求是当鼠标悬停在`Image`or上时`Button`。当箭头图像与下图相同时，文本 (swethapilli) 应向右移动并突出显示。

![它应该看起来像这样](../Images/9deb6073cbcf35dcbd682d5098decf56.png)

如何获得这种风格可以请任何人帮助我找到解决方案。谢谢你。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-14T07:16:05.353

我认为最简单的方法是创建一个可以在鼠标悬停时用作按钮背景的图像，如下所示：

```
 <Style x:Key="SwitchButtonStyle" TargetType="Button">
        <Style.Triggers>
            <Trigger Property="IsMouseOver" Value="True">
                <Setter Property="Background">
                    <Setter.Value>
                        <ImageBrush ImageSource="yourimagepath.ending"></ImageBrush>
                    </Setter.Value>
                </Setter>
                <Setter Property="HorizontalContentAlignment" Value="Right"/>
            </Trigger>
         </Style.Triggers>
     </Style> 
```

编辑：定位内容的更灵活方法如下：

将 TextBlock 作为按钮内容：

```
 <Button.Content>
                <TextBlock Text="YourTextOrBinding" Style="{DynamicResource ResourceKey=TextBlockOnButtonStyle}"></TextBlock>
            </Button.Content> 
```

TextBlockOnButtonStyle：

```
 <Style x:Key="TextBlockOnButtonStyle" TargetType="TextBlock">
        <Style.Triggers>
            <DataTrigger Binding="{Binding RelativeSource={RelativeSource AncestorType={x:Type Button}}, Path=IsMouseOver}" Value="True">
                <Setter Property="Margin" Value="10,0,0,0"></Setter>
            </DataTrigger>
        </Style.Triggers>
    </Style> 
```

setters 值中的 10 是当鼠标悬停在按钮上时文本向右移动的像素数。

编辑2：如果你想使用一个矩形而不是整个图像作为按钮背景，你可以这样做：

```
 <DockPanel Width="100" Height="30">
            <Rectangle Visibility="{Binding ElementName=btnMain, Path=IsMouseOver, Converter={StaticResource ResourceKey=BoolToVis}}" Width="25">
                <Rectangle.Fill>
                    <whateveryouwanttousetofilltheimage>
                </Rectangle.Fill>
            </Rectangle>
            <Button Name="btnMain" Content="YourContentOrBinding"/>
        </DockPanel> 
```

在这里，我将矩形的 Visibility 绑定到按钮 IsMouseOver-property 并使用 BooleanToVisibilityConverter 转换输出。

# database - 在 noSQL DynamoDB 中存储产品的库存

> ID：13873834
> 
> 赞同：2
> 
> 时间：2012-12-14T06:33:45.190
> 
> 标签：database, nosql, amazon-dynamodb

我正在使用 Amazon 的 EC2 和 DynamoDB 构建一个基于 PHP 的电子商务平台，这是我对 noSQL 数据库的第一次体验，我在为表建模时遇到了麻烦。我已经在高处和低处搜索了示例，但一无所获。

我面临的主要问题是存储产品表中任何可能属性的库存编号。还有很多属性，但我会在这里保持简单。

**产品表**

*   编号 [455]
*   名称 [保罗弹力衬衫]
*   价格 [100.00]
*   outPrice [200.00]
*   颜色【红、绿、蓝、白】
*   尺码 [XS, S, M, L, XL]

当我需要存储任何多值属性（例如颜色或尺寸）的库存编号时，就会出现问题，但我找不到任何如何执行此操作的示例。它必须是灵活的，所以如果他们只想根据尺寸跟踪库存，那么他们可以，如果他们想同时跟踪尺寸和颜色的库存，那么他们可以。如果他们不想跟踪库存，那也没关系。

我能看到的唯一简单方法是将所有内容保存在一个表中，是使用这样的分隔符将数量数字附加到属性值，然后使用应用程序逻辑来处理它。

**产品表**

*   尺码 [XS#1, S#0, M#0, L#1, XL#1]
*   颜色 [红色#1，绿色#1，蓝色#0，白色#0]

有没有其他方法可以做到这一点？也许与另一张桌子，但这似乎进入了关系领域：

**产品表**

*   颜色 [4, 6, 7, 9]

**库存表**

*   编号 [4]
*   名称[红色]
*   数量 [1]

任何提示都会很棒。感谢您的时间。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-18T19:37:52.837

为什么要存储数字？

只需将产品插入产品表中。

`Count`每次需要从 DynamoDB 获取记录数时使用。

# sql - 计算所有 12 个月的总计

> ID：13873838
> 
> 赞同：1
> 
> 时间：2012-12-14T06:34:05.583
> 
> 标签：sql, sql-server

我有一到十二个月的时间。

我有三列：`Year`和`Month`查询总数。

我想在底部添加一行来计算查询的总数：

```
SELECT 
YEAR(date) AS [Year],
MONTH(date) AS [Month],
COUNT(*) 
from EnquiryMaster 
Group By YEAR(date), MONTH(date) 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-14T07:03:38.147

试试 sql 的“WITH ROLLUP”功能。

```
SELECT YEAR(date),
MONTH(date),
count(*) as data_nums
FROM EnquiryMaster
GROUP BY YEAR(date),MONTH(date) WITH ROLLUP 
```

希望这对你有帮助

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-12-14T06:38:50.517

您可能宁愿在 UI 层中显示总数，但如果您真的希望从 SQL Server 执行此操作，您可以尝试类似

```
SELECT  YEAR(date) AS [Year],
        MONTH(date) AS [Month],
        COUNT(*) 
from    EnquiryMaster
Group By    YEAR(date), 
            MONTH(date)
UNION ALL
SELECT  YEAR(date) AS [Year],
        NULL,
        COUNT(*) 
from    EnquiryMaster
Group By    YEAR(date) 
```

另外，也许看看[Summarizing Data Using ROLLUP](http://msdn.microsoft.com/en-us/library/ms189305%28v=sql.90%29.aspx)

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2012-12-14T06:44:03.490

```
 SELECT YEAR(date) AS [Year],
            MONTH(date) AS [Month],
            COUNT(*) 
     from EnquiryMaster 
     Group By YEAR(date), MONTH(date) 
```

在此查询中，您将获得特定年份每个月的 12 条记录，因为您正在执行 GROUP BY 年和月，如果您一年只想要一条记录，则必须从查询中删除 MONTH(date)。

查询将是这样的： -

```
 SELECT YEAR(date) AS [Year],
            MONTH(date) AS [Month],
            COUNT(*) 
     from EnquiryMaster 
     Group By YEAR 
```

# iphone - NSDateFormatter 不工作

> ID：13873840
> 
> 赞同：0
> 
> 时间：2012-12-14T06:34:20.810
> 
> 标签：iphone, ios, ipad

我`NSDateFormatter`提供的默认日期为

> 2001-01-01 00:00:00 +0000

我需要它在哪里格式化 `Mon, 24 Dec 2012 08:00:00 CST`

请找到我的代码供您参考：

```
NSDateFormatter *formatter1 = [[NSDateFormatter alloc]init];
[formatter1 setTimeZone:[NSTimeZone timeZoneWithName:@"GMT"]];
[formatter1 setDateFormat:@"EEE, dd MMM yyyy'T'HH:mm:ss.SSS'ZZZ'"];
event.startDate = [formatter1 dateFromString:self.eventtime]; 
```

2012年`self.eventtime`12 月 24 日星期一 08:00:00 CST

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-14T06:47:12.563

尝试这个：

```
NSDateFormatter *formatter1 = [[NSDateFormatter alloc] init]; 
[formatter1 setTimeZone:[NSTimeZone timeZoneWithName:@"GMT"]]; 
[formatter1 setDateFormat:@"EEE, dd MMM yyyy HH:mm:ss z"];

NSDate *date = [NSDate date]; 
NSLog(@"%@", [formatter1 stringFromDate:date]); 
```

输出：

> 格林威治标准时间 2012 年 12 月 14 日星期五 06:43:44

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-14T07:01:32.667

试试下面的代码......

```
 NSString *str = @"2001-01-01 00:00:00 +0000";

    NSDateFormatter *dateFormatter = [[[NSDateFormatter alloc] init] autorelease];
    [dateFormatter setDateFormat:@"yyyy-MM-dd HH:mm:ss z"];

    NSDate *date = [dateFormatter dateFromString: str];

    [dateFormatter setTimeZone:[NSTimeZone timeZoneWithName:@"GMT"]]; 
    [dateFormatter setDateFormat:@"EEE, dd MMM yyyy HH:mm:ss z"];

    NSString *convertedString = [dateFormatter stringFromDate:date];
    NSLog(@"Converted String : %@",convertedString); 
```

另请参阅我的博客以获取有关`NSDate`类和格式的更多信息..[我的博客](http://parasjoshi3.blogspot.in/2012/01/date-formate-info-for-iphone-sdk.html)

# git - 无法使用 Titanium Studio 通过 Assembla 将文件推送到 git repo

> ID：13873842
> 
> 赞同：1
> 
> 时间：2012-12-14T06:34:31.450
> 
> 标签：git, assembla

每个人。

我在 Assembla 上创建了一个 git repo，然后将其导入 Titanium Studio，然后我将文件复制到文件夹中，但它并没有让我推送它。它说：

```
No refs in common and none specified; doing nothing.
Perhaps you should specify a branch such as 'master'.
fatal: The remote end hung up unexpectedly
error: failed to push some refs to 'git@git.assembla.com:#######.git' 
```

有谁知道它有什么问题？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-14T07:03:23.043

第一次推送可能需要一个`git push origin master`（如此[处所述](http://www.thebuzzmedia.com/git-tip-git-push-no-refs-in-common-and-none-specified/)）。

在 IDE（如[Titanium Studio](http://www.appcelerator.com/platform/titanium-studio/)）中，这可能类似于此[错误报告](https://jira.appcelerator.org/browse/APSTUD-3557)：

> 这里的问题是我们的命令只是执行了一个“ `git push`”，它推动了具有远程和跟踪设置的分支。
> 如果您需要显式地将当前分支推送到指定的远程，请使用 " **`Team > Push to Remote`**" git 命令。
> 因此，如果您在“ `master`”上，那将提示您使用遥控器，然后执行“ `git push master <remote>`”。

# java - 使用 MVC Java 创建简单的示例

> ID：13873847
> 
> 赞同：2
> 
> 时间：2012-12-14T06:34:39.813
> 
> 标签：java, model-view-controller

我有一个简单的例子来检查用户使用 MVC 模型的登录..

登录型号：

```
public class LoginModel {
private String username;
private String password;

public LoginModel()
{        
}
/**
 * @return the username
 */
public String getUsername() {
    return username;
}
/**
 * @param username the username to set
 */
public void setUsername(String username) {
    this.username = username;
}
/**
 * @return the password
 */
public String getPassword() {
    return password;
}
/**
 * @param password the password to set
 */
public void setPassword(String password) {
    this.password = password;
} 
```

}

登录视图：

```
public class LoginView {
LoginModel user;

//Ham khoi tao cho LoginView
public LoginView(LoginModel user)
{
  this.user=user;
}

public void showMessage(String msg)
{
  System.out.println(msg);
}

public void getUserInfo()
{
try
{

    DataInputStream input=new DataInputStream(System.in);
    System.out.println("Username:");
    user.setUsername(input.readUTF());
    System.out.println("Password:");
    user.setPassword(input.readUTF());
    input.close();
}
catch(IOException e)
{
    System.out.println(e);
} 
```

} }

登录控制：

```
public class LoginControl {
LoginModel user;
LoginView view;

public LoginControl(LoginModel user,LoginView view)
{
    this.user=user;
    this.view=view;
    while(true)
    {
    view.getUserInfo();
    if(checkLogin())
    {
        view.showMessage("Success");
    }
    else
    {
        view.showMessage("Wrong username or password");
    }
    }
}

private boolean checkLogin()
{
    if((user.getUsername().equals("sa"))&&(user.getPassword().equals("sa")))
    {
        return true;
    }
    return false;
} 
```

}

登录主：

```
public class LoginMVC {

/**
 * @param args the command line arguments
 */
public static void main(String[] args) {
    // TODO code application logic here
    LoginModel user=new LoginModel();
    LoginView view=new LoginView(user);
    LoginControl control=new LoginControl(user, view);
} 
```

}

但是当我运行主类时，只有用户名：并输入用户并停止..我不知道错误在哪里。你能帮助我吗。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-14T06:48:18.473

我不确定为什么`DataInputStream`不起作用，我建议使用[Scanner](http://docs.oracle.com/javase/7/docs/api/java/util/Scanner.html)从方法中的控制台获取输入`getUserInfo`。

```
 Scanner scanner = new Scanner(System.in);
  System.out.println("Username:");
  user.setUsername(scanner.nextLine());
  System.out.println("Password:");
  user.setPassword(scanner.nextLine());
  scanner.close(); 
```

# f# - 如何使 F# 项目与对象浏览器一起工作

> ID：13873849
> 
> 赞同：6
> 
> 时间：2012-12-14T06:35:06.020
> 
> 标签：f#, objectbrowser

我使用了示例 F# Empty WPF 项目，并通过 Nuget 引入了 Paul Bett 的 ReactiveUI 项目。通常，当我在 C#/VB.Net 中的标识符上按 (shift-f2) 时，它会将我带到对象浏览器，以便我可以探索对象的界面。然而有两个问题。

*   最初 ReactiveUI 在对象浏览器中甚至不可用。我必须转到解决方案资源管理器并在每个引用**的对象浏览器中明确单击视图**，然后它们出现在对象浏览器中。也许这适用于 F# 项目？

*   其次，当我的 F# 代码中确实有一个符号时，说一个 ReactiveObject 的实例并执行 (shift-f2) 我得到一个错误**，无法导航到定义。源代码不可用**。

所以我的问题是如何解决上述两个问题，第二个是最重要的。

# com - 错误：QueryInterface'：函数不接受 1 个参数

> ID：13873850
> 
> 赞同：0
> 
> 时间：2012-12-14T06:35:09.507
> 
> 标签：com

GFXComShapeObjectsLib::IAIFileReaderPtr spAIFileReader;

m_pObj->QueryInterface(&spAIFileReader);

错误 C2660：“CAIFileReader::QueryInterface”：函数不接受 1 个参数

怎么解决？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-14T06:41:08.693

QueryInterface 应该有 2 个参数，一个是查询接口的 Identifier，一个是接收请求的接口指针的指针变量的地址。您可以在线参考 MSDN：http: [//msdn.microsoft.com/en-us/library/windows/desktop/ms682521 (v=vs.85).aspx](http://msdn.microsoft.com/en-us/library/windows/desktop/ms682521(v=vs.85).aspx)

# asp.net - .csdef 文件中的“physicalDirectory”和“Port”

> ID：13873853
> 
> 赞同：0
> 
> 时间：2012-12-14T06:35:27.710
> 
> 标签：asp.net, azure

我尝试在 azure 窗口中运行我的网站。我在本地进行测试。我的`.csdef`文件如下所示：

```
<?xml version="1.0" encoding="utf-8"?>
<ServiceDefinition name="Test.Azure" xmlns="http://schemas.microsoft.com/ServiceHosting/2008/10/ServiceDefinition" schemaVersion="2012-10.1.8">
  <WebRole name="TestWebApplication" vmsize="Small">
    <Sites>
      <Site name="Web2" physicalDirectory="F:\MyPath\">

        <Bindings>
          <Binding name="Endpoint2" endpointName="Endpoint2" />

        </Bindings>
      </Site>
    </Sites>
    <Endpoints>
      <InputEndpoint name="Endpoint2" protocol="http" port="8080"></InputEndpoint>

    </Endpoints>
    <Imports>
      <Import moduleName="Diagnostics" />
    </Imports>
  </WebRole>
</ServiceDefinition> 
```

当我按 F5 并运行项目时，它成功运行。但在浏览器中，我看到它占用了 8081 端口。这是无法加载页面的主要原因。

![端口 8081](../Images/a9801cc716e4026c2261851dc85018be.png)

如果手动更正浏览器 url 并键入文件`:8080`中的端口，`.csdef`它会成功打开一个页面。为什么加载页面需要`:8081`端口。谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-14T08:05:03.900

解释起来有点复杂，要完全理解它，你应该对IIS和站点绑定有比较好的了解，但让我试试。

首先，Windows Azure Compute Emulator。您可以从[我的博客文章](http://blogs.staykov.net/2012/03/windows-azure-basics-part-2-of.html)中了解 Windows Azure 部署的基本情况。基本上你有一个`load balancer`公开的，它的公共 IP 地址 (VIP) 和一些公共端口打开。然后你就有了角色实例，每个实例都有自己的 IP 地址 (DIP) 和端口，以侦听来自负载均衡器的请求。

Windows Azure Compute 模拟器在本地复制了整个结构。它具有软件模拟负载均衡器，并为您的每个角色实例创建虚拟 IP 地址（单独）。然后它在本地地址 127.0.0.1 和端口上公开“负载平衡器”，该端口未被任何其他进程使用。然后，它在 IIS（或 IIS Express）中为每个实例创建一个单独的网站（假设角色只定义了一个站点）。每个站点都绑定到自己唯一的 IP 地址和该 IP 地址上的自己的端口。然后，模拟负载均衡器将在 127.0.0.1 上接收到的流量轮询到底层角色实例（在我们的例子中 - 不同的站点）。

现在，当您编辑 CSDF 文件中的“站点”部分时，您正在为 IIS 创建自定义站点 + 绑定信息。站点有一个标准和`well know`名称，它是**Web**。如果存在名称为**Web**的站点定义，则它绑定到 IIS 中的通配符域。**模拟负载均衡器上来自 127.0.0.1 的所有请求仅重定向到使用名称Web**定义的网站。那么，“Web”站点必须是 Web 应用程序，并且必须是与 WebRole 相关联的项目。在您的情况下，您正在定义**Web2**。这将起作用，但有以下限制：

*   `hostHeader`定义`binding`. _
*   当您在本地调试时，您必须手动将您提供的任何值映射`hostHeader`到`127.0.0.1`主机文件中（位于`%windir%\system32\drivers\etc\hosts`- 没有扩展名的文件中，只能由管理员编辑）。
*   当您按 F5 时，在浏览器在 127.0.0.1 上加载有错误的内容后，您必须手动键入您拥有的自定义值，`hostHeader`但保持浏览器打开的自定义端口。

只有这样，您的浏览器才能正确加载该站点。

当您输入端口 :8080 时，您的网站可以正常打开这一事实仅显示直接访问该网站，跳过本地负载平衡器模拟器。

如果你想在一个模拟环境中全面测试一个*网站*项目，你必须经历我描述的过程。如果您不想打扰这些东西，您可以直接启动您的网站并进行调试。但如果这样做，您将无法访问`RoleEnvironment`变量和配置设置。

# android - 停止滚动视图高度填充整个屏幕

> ID：13873857
> 
> 赞同：0
> 
> 时间：2012-12-14T06:35:50.550
> 
> 标签：android, scrollview

我正在为我的线性布局使用滚动视图，我想知道是否有可能阻止滚动视图高度占据整个屏幕，就像在大多数 Twitter 应用程序和 instagram 中实现的那样

```
<ScrollView xmlns:android="http://schemas.android.com/apk/res/android"
android:layout_width="fill_parent"
android:layout_height="fill_parent"
android:fillViewport="true" >

<LinearLayout
    xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="fill_parent"
    android:layout_height="wrap_content"
    android:background="@drawable/background"
    android:isScrollContainer="true"
    android:orientation="vertical" >

    <ImageView
        android:id="@+id/imageView1"
        android:layout_width="289dp"
        android:layout_height="73dp"
        android:src="@drawable/identikatlogo" />

    <TextView
        android:id="@+id/tvName"
        android:layout_width="fill_parent"
        android:layout_height="wrap_content"
        android:text="@string/first" />

    <EditText
        android:id="@+id/Name"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:inputType="text|textCapWords" >

        <requestFocus />
    </EditText>

    <TextView
        android:id="@+id/tvLastName"
        android:layout_width="fill_parent"
        android:layout_height="wrap_content"
        android:text="@string/last" />

    <EditText
        android:id="@+id/LastName"
        android:layout_width="fill_parent"
        android:layout_height="wrap_content"
        android:inputType="text|textCapWords" />

    <TextView
        android:id="@+id/tvEmail"
        android:layout_width="fill_parent"
        android:layout_height="wrap_content"
        android:text="@string/email" />

    <EditText
        android:id="@+id/Email"
        android:layout_width="fill_parent"
        android:layout_height="wrap_content"
        android:inputType="text|textEmailAddress" />

    <TextView
        android:id="@+id/tvAddress"
        android:layout_width="fill_parent"
        android:layout_height="wrap_content"
        android:text="@string/address" />

    <EditText
        android:id="@+id/Address"
        android:layout_width="fill_parent"
        android:layout_height="wrap_content"
        android:inputType="textMultiLine" />

    <TextView
        android:id="@+id/tvCity"
        android:layout_width="fill_parent"
        android:layout_height="wrap_content"
        android:text="@string/city" />

    <EditText
        android:id="@+id/City"
        android:layout_width="fill_parent"
        android:layout_height="wrap_content"
        android:inputType="text|textCapWords" />

    <TextView
        android:id="@+id/tvState"
        android:layout_width="fill_parent"
        android:layout_height="wrap_content"
        android:text="@string/state" />

    <EditText
        android:id="@+id/State"
        android:layout_width="fill_parent"
        android:layout_height="wrap_content"
        android:inputType="text|textCapWords" />

    <TextView
        android:id="@+id/tvZip"
        android:layout_width="fill_parent"
        android:layout_height="wrap_content"
        android:text="@string/zipcode" />

    <EditText
        android:id="@+id/Zip"
        android:layout_width="fill_parent"
        android:layout_height="wrap_content"
        android:inputType="number" />

    <Button
        android:id="@+id/Submit"
        android:layout_width="100dp"
        android:layout_height="wrap_content"
        android:text="@string/submit" />
</LinearLayout>

</ScrollView> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-14T06:48:11.610

当然它会占用整个屏幕，因为您在这里提供了滚动视图的高度作为填充父项，

```
<ScrollView xmlns:android="http://schemas.android.com/apk/res/android"
android:layout_width="fill_parent"
android:layout_height="fill_parent"
android:fillViewport="true" > 
```

如果您只需要它占据一部分，那么您必须尝试以某个倾角值提供高度，或者使用线性布局并为您的布局提供重量总和。

# javascript - 将一些（但不是全部）元素标记为粗体

> ID：13873858
> 
> 赞同：-4
> 
> 时间：2012-12-14T06:36:09.940
> 
> 标签：javascript, html, css

在我的项目中，我有一个面板，其中包含一系列单独的超链接，所有这些都是我从数据库中动态注入的。

我的客户希望我将一些超链接设置为粗体，而另一些则保持正常。谁能解释我如何让其中一些变得大胆？

我尝试了以下方法，但这会将*所有*超链接更改为粗体。

我愿意在 java 源文件级别或其他任何需要的地方进行更改。

```
font-weight: bold; /* css */
style="bold"; 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-14T06:46:06.573

试试这样：

```
.boldclass{
font-weight: bold;
} 
```

将此 css 类添加到超链接元素以使其变为粗体

[在这里](http://jsfiddle.net/jbkYY/)工作小提琴

* * *

**编辑：**

这是另一个[小提琴](http://jsfiddle.net/c63xX/)

在这个小提琴中。我已将`red`颜色应用于所有锚标签。

如果你只想给一些锚标签加粗，你可以使用`class`锚标签的属性并指定你的css类。为了区分，我将`boldclass`颜色设为`green`.

例如：`<a href="#" class="boldclass">hello</a> //This will take the css specified in .boldclass`.`

希望这可以澄清你

* * *

**向 XML 添加样式**

这是有关如何将样式应用于 xml 文件的更详细说明。

[将样式应用于 XML](http://www.w3.org/Style/styling-XML.en.html)

也试试这个链接。它来自[W3Schools](http://www.w3schools.com/xml/xml_display.asp)

希望这对您有所帮助。

# python - 无法将 django.contrib.auth.models.User 分配给使用南迁移提交的文件

> ID：13873861
> 
> 赞同：0
> 
> 时间：2012-12-14T06:36:17.190
> 
> 标签：python, django, django-south

对于我的 django1.4 应用程序，我正在尝试使用南进行数据迁移。我正在使用 postgres8.3

我有一个`MyCategory`模型，我需要为其添加一个名为`creator`django.contrib.auth.models.User的字段

我修改了类并添加了字段

```
from django.contrib.auth.models import User
class MyCategory(models.Model):
    name=models.CharField(unique=True,max_length=50)
    description=models.TextField(blank=True)
    creator = models.ForeignKey(User,null=True)#added
    slug=models.SlugField(editable=False) 
```

我跑了`python manage.py schemamigration myapp --auto`

哪个输出`+ Added field creator on myapp.MyCategory` 并创建了一个文件`0003_auto__add_field_mycategory_creator.py`

然后我希望所有旧记录都拥有 webapp 的超级用户作为创建者。所以我尝试了数据迁移

我跑了`python manage.py datamigration myapp add_creator`

这输出了一个文件 add_creator.py 我在其中实现了 forwards 方法，如下所示。（后来我添加了一个 print stmt 用于调试）

```
def forwards(self, orm):
    from django.contrib.auth.models import User
    suser = User.objects.filter(is_superuser=True)[0]
    # I also tried User.objects.get(is_superuser=True)
    print 'suser=',suser,'of type=',type(suser)
    for category in orm.MyCategory.objects.all():
        category.creator = suser
        category.save() 
```

然后我运行了迁移命令

`python manage.py migrate myapp`

这输出一个`ValueError`

```
Running migrations for myapp:
 - Migrating forwards to 0004_add_creator.
 > myapp:0004_add_creator
suser= damon of type= <class 'django.contrib.auth.models.User'>
Error in migration: myapp:0004_add_creator
Traceback (most recent call last):
  File "manage.py", line 11, in <module>
    execute_manager(settings)
....
File "/usr/local/lib/python2.6/dist-packages/south/migration/migrators.py", line 57, in <lambda>
    return (lambda: direction(orm))
  File "/home/me/dev/python/django/myapp/migrations/0004_add_creator.py", line 14, in forwards
    category.creator = suser
  File "/home/me/Django-1.4/django/db/models/fields/related.py", line 366, in __set__
    self.field.name, self.field.rel.to._meta.object_name))
ValueError: Cannot assign "<User: damon>": "MyCategory.creator" must be a "User" instance. 
```

我不明白这里发生了什么..打印语句显示用户`damon`属于`django.contrib.auth.models.User`..`south`期待其他类型？有人可以帮忙吗？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-12-14T06:59:50.190

首先，您需要冻结`django.contrib.auth`数据迁移。这可以通过以下方式实现：

```
python manage.py datamigration myapp add_creator --freeze auth 
```

其次，您将需要通过`orm`字典正确引用您的对象：

```
def forwards(self, orm):
    suser = orm['auth.User'].objects.filter(is_superuser=True)[0]
    print 'suser=',suser,'of type=',type(suser)
    for category in orm['myapp.MyCategory'].objects.all():
        category.creator = suser
        category.save() 
```

# php - 困惑在哪里寻找那个 < 符号

> ID：13873864
> 
> 赞同：0
> 
> 时间：2012-12-14T06:36:28.767
> 
> 标签：php, regex, preg-match, syntax-error, symbols

我有一个代码，但我不知道为什么它给了我一个错误：

```
 Warning: preg_match(): Unknown modifier '<' 
```

这是片段

```
 $pattern = "/<tr.*?data-eventid=\"(\d+)\"/" .               // id
    "<td.*?>\s{0,}.*\s(.*?)<div.*/?>\s(.*?)<\/td>\s{0,}" .     // Day and Date
    "<td.*?>(.*?)<\/td>\s{0,}" .                               // Time
    "<td.*?>(.*?)<\/td>\s{0,}" .                               // Currency
    "<td.*?>\s{0,}<div.*?>(.*?)<\/div>\s{0,}<\/td>\s{0,}" .    // Impact
    "<td.*?>\s{0,}<div.*?>(.*?)<\/div>\s{0,}<\/td>\s{0,}" .    // Indicator
    "<td.*?>\s{0,}<div.*?>(.*?)<\/div>\s{0,}<\/td>\s{0,}" .    // Detail
    "<td.*?>\s{0,}(.*?)\s{0,}<\/td>\s{0,}" .                   // Actual
    "<td.*?>(.*?)<\/td>\s{0,}" .                               // Forecast
    "<td.*?>(.*?)<\/td>\s{0,}".                                // Previous
    "<td.*?>\s{0,}<div.*?>(.*?)<\/div>\s{0,}<\/td>\s{0,}/ims"; // Chart 忽略 
```

我很困惑在哪里寻找那个 < 符号..

最好的祝福

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-14T06:42:28.577

首先，说真的，哇。这不是我要扔给我最大的敌人的正则表达式。

```
"/<tr.*?data-eventid=\"(\d+)\"/"
                              ^

"<td.*?>\s{0,}.*\s(.*?)<div.*/?>\s(.*?)<\/td>\s{0,}"
                             ^ 
```

那些需要被转义，因为它们被用作分隔符。不转义它们会让人`preg`认为表达式已经结束，尾随字符将被视为修饰符。

不过，您真的应该研究一个合适的 HTML 解析器，这太疯狂了！

也可以看看：[`DOMDocument`](http://www.php.net/domdocument)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-14T06:42:21.483

第一行： `$pattern = "/<tr.*?data-eventid=\"(\d+)\"/" .`

应该

`$pattern = "/<tr.*?data-eventid=\"(\d+)\"\/" .`

# grails - 在 Grails 中，如何将列表视图呈现为 Jasper 报告？

> ID：13873867
> 
> 赞同：0
> 
> 时间：2012-12-14T06:36:58.337
> 
> 标签：grails, jasper-reports, report, reporting

我正在使用 Grails 2.0.4 并安装[了 Grails Jasper Reports 插件](http://grails.org/plugin/jasper)。插件页面上有一个很好的“逐步”指南，但它似乎没有涵盖我正在寻找的内容；我需要使用 Jasper Reports 基本上呈现一个列表视图，并且在任何地方我都找不到在这种情况下如何构造要使用的 .jrxml 文件，也找不到我应该如何呈现它（使用`<g:jasperReport>`标签或其他任何东西）。

简单地说，问题是：如何通过 Jasper 报告呈现我在 Grails 列表视图中看到的数据？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-14T07:19:49.830

您必须为此创建一个 Jasper 报告 (.jrxml)，并提供报告您用于在列表视图中构造数据的参数。您的 Jasper 报告文件必须包含创建列表并使用您提供的参数的 sql 查询。

# asp.net-mvc-3 - 使用uploadify将上传的文件路径传递给控制器 动作

> ID：13873870
> 
> 赞同：0
> 
> 时间：2012-12-14T06:37:13.140
> 
> 标签：asp.net-mvc-3, file-upload, uploadify, dotnetzip

我`uploadify`在我的 MVC3 项目中使用。上传多个文件并保存到文件夹也可以正常工作。

如何将上传文件的路径传递给控制器​​动作？-- 我需要将它传递给`ExtractingZip`我的控制器的操作。

为了提取`.zip`文件的内容，我使用[了 DotNetZip Library](http://dotnetzip.codeplex.com/)。

这是我到目前为止所尝试的。

```
$('#file_upload').uploadify({
            'checkExisting': 'Content/uploadify/check-exists.php',
            'swf': '/Content/uploadify/uploadify.swf',
            'uploader': '/Home/Index',
            'auto': false,
            'buttonText': 'Browse',
            'fileTypeExts': '*.jpg;*.jpeg;*.png;*.gif;*.zip',
            'removeCompleted': false,
            'onSelect': function (file) {
                if (file.type == ".zip") {
                    debugger;
                    $.ajax({
                        type: 'POST',
                        dataType: 'json',
                        url: '@Url.Action("ExtractingZip", "Home")',
                        data: ({ fileName: file.name}), // I dont see a file.path to pass it to controller
                        success: function (result) {
                            alert('Success');
                        },
                        error: function (result) {
                            alert('error');
                        }
                    });
                }

            }
}); 
```

这是我的控制器操作：

```
 [HttpPost]
            public ActionResult ExtractingZip(string fileName,string filePath, HttpPostedFileBase fileData)
            {

                string zipToUnpack = @"C:\Users\Public\Pictures\Sample Pictures\images.zip";// I'm unable to get the filePath so i'm using the path.
                string unpackDirectory = System.IO.Path.GetTempPath();

                using (ZipFile zip1 = ZipFile.Read(zipToUnpack))
                {
                    // here, we extract every entry, but we could extract conditionally
                    // based on entry name, size, date, checkbox status, etc.  
                    var collections = zip1.SelectEntries("name=*.jpg;*.jpeg;*.png;*.gif;");

                    foreach (var item in collections)
                    {
                        item.Extract(unpackDirectory, ExtractExistingFileAction.OverwriteSilently);
                    }
                }
                return Json(true);
            }

[HttpPost]
        public ActionResult Index(IEnumerable<HttpPostedFileBase> fileData)
        {

                foreach (var file in fileData)
                {
                    if (file.ContentLength > 0)
                    {
                        string currpath;

                        currpath = Path.Combine(Server.MapPath("~/Images/User3"), file.FileName);
                        //save to a physical location
                        file.SaveAs(currpath);
                    }
                }
        } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-17T13:13:51.300

上传时不需要传递 zip 的文件路径。文件路径来自客户端机器，对吗？您服务器上的应用程序不了解或无法访问客户端文件系统。

好消息是你不需要它。您已经在内存中拥有文件的内容。我从未使用过 donetzip，但一些快速的谷歌搜索显示您可以直接从流中读取 zip。

查看这些链接：

[无法使用 DotNetZip 1.9 从 HttpInputStream 读取 zip 文件](https://stackoverflow.com/questions/9169278/cannot-read-zip-file-from-httpinputstream-using-dotnetzip-1-9)

[使用 DotNetZip 从流中提取 zip](https://stackoverflow.com/questions/5052708/extracting-zip-from-stream-with-dotnetzip)

因此，以这些帖子为基础开始...看起来您应该能够像这样更改代码：

```
 string zipToUnpack = @"C:\Users\Public\Pictures\Sample Pictures\images.zip";// I'm unable to get the filePath so i'm using the path.
            string unpackDirectory = System.IO.Path.GetTempPath();

            using (ZipFile zip1 = ZipFile.Read(zipToUnpack))
            {
                .... 
```

更改为...

```
 string unpackDirectory = System.IO.Path.GetTempPath();

            using (ZipFile zip1 = ZipFile.Read(fileData.InputStream))
            {
                .... 
```

让我知道这是否有帮助。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-17T13:43:54.447

首先，由于安全原因，您无法直接访问客户端机器。当用户上传一些文件时，Web 浏览器会创建一个或两个（根据 RFC 通常为 1 个）流，服务器端脚本会读取该流，因此不要浪费时间直接从用户本地计算机的文件路径获取文件。

要提取档案（sa：Zip，Rar），我强烈建议您使用[SevenZipSharp](http://sevenzipsharp.codeplex.com/)。它与 Streams 以及许多压缩格式一起工作得非常好和容易。

作为他们的文档，您可以像这样提取流：

```
using (MemoryStream msin = new MemoryStream(fileData.InputStream)) 
{ ... } 
```

# java - 在选项卡更改时呈现面板网格

> ID：13873872
> 
> 赞同：1
> 
> 时间：2012-12-14T06:37:25.467
> 
> 标签：java, jsf, primefaces

我有两个网格，一个包含 2 个选项卡的 tabView，对于第一个选项卡，我必须显示 panelgrid1，对于 tab2 = panelgrid2。我已经为两个面板使用了渲染属性，并在 tabView 中使用了 tabchange 事件，此侦听器更新了 java 中的状态属性，但在 xhtml 中，仍然显示相同的网格并且不会更改第二个 panelgrid。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-14T11:30:23.440

您需要绝对确保在 ajax 更新/渲染中引用*始终*渲染的组件。不可能引用本身有条件地渲染的组件以显示/隐藏它。

```
<p:ajax ... update="foo" />
...
<h:panelGroup id="foo">
    <h:panelGrid ... rendered="#{bean.grid == 1}">
        ...
    </h:panelGrid>
    <h:panelGrid ... rendered="#{bean.grid == 2}">
        ...
    </h:panelGrid>
</h:panelGroup> 
```

### 也可以看看：

*   [当我想对它进行 ajax 更新时，为什么需要在另一个组件中嵌套一个带有 render="#{some}" 的组件？](https://stackoverflow.com/questions/9010734/why-do-i-need-to-nest-a-component-with-rendered-some-in-another-component-w)

# jquery - 不使用提交按钮未验证全名字段

> ID：13873874
> 
> 赞同：0
> 
> 时间：2012-12-14T06:37:33.633
> 
> 标签：jquery, validation

我正在为表单字段进行 jQuery 验证

我似乎无法使以下工作：

1.  我的`Full Name`字段需要像：`roger federer`或`roger-federer`（当前验证也接受一个单词，这是不允许的。
2.  我不需要`submit`按钮，但现在我只是保留了它，以便让它暂时工作。

有人可以告诉我如何在没有`submit`按钮的情况下实现验证吗？

代码 ：

```
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>

<script type="text/javascript"   src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>
  <script type="text/javascript" src="http://jzaefferer.github.com/jquery-validation/jquery.validate.js"></script>
<script type="text/javascript" src="http://jquery-joshbush.googlecode.com/files/jquery.maskedinput-1.2.1.pack.js"></script>

     <script>

            $(document).ready(function() {

                var validCharactersRegex = new RegExp(/^[a-z -]+$/);
                var doesNotStartWithDashOrSpace = new RegExp(/^[^ -]/);
                var fullname_invalid = function(value) {
                    return validCharactersRegex.test(value) && doesNotStartWithDashOrSpace.test(value) && value.indexOf('  ') == -1 && value.indexOf('--') == -1 && value.indexOf(' -') == -1 && value.indexOf('- ') == -1;
                }

                $.validator.addMethod("custom_fullname", function(value, element) {
                    return fullname_invalid(value);
                }, 'Your Name should be entered like: "blahblah"');

                $('#signup').validate({
                    rules: {
                        fullname: {
                            required: true,
                            custom_fullname: true
                        },                  
                        email: {
                          required: true,
                          email: true
                        }
                    },

                    messages: {
                        fullname : {
                          required: "Please specify your Full Name",             
                          custom_fullname : "Your Name should be entered like: fullname lastname  (or) fullname-lastname"
                        },
                        email: {
                          required: "We need your email address to contact you",
                          email: "Your email address must be in the format of name@domain.com"
                        }
                    }

                });

                $('#signup').on('submit', function(event) {
                    event.preventDefault();
                });

             $("#phone").mask("(9999) 9999999");

            });

              </script> 

        <style>
                .error {color: red;}
        </style>

 </head>

 <body>

    <form id="signup" action="/action">

        Full Name: <input name="fullname" type="text"  maxlength="14" /><br/>
        Email <input id="email" name="email" size="25"  class="required email" /><br/>
        Telephone Number: <input type="text" name="phone" id="phone" /><br/>

        <input type="submit">

    </form>

 </body>
</html> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-14T08:10:42.940

嗨，希望该解决方案对您有所帮助...我建议在电话字段模糊上提交您的表格...

```
<html>
 <head>
<script type="text/javascript"   src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>
  <script type="text/javascript" src="http://jzaefferer.github.com/jquery-validation/jquery.validate.js"></script>
<script type="text/javascript" src="http://jquery-joshbush.googlecode.com/files/jquery.maskedinput-1.2.1.pack.js"></script>
  <script>
    $(document).ready(function() {
      $("#fullname").bind('blur', function(){
                var name = $("#fullname").val();  
                if(!name.match(/^[a-z -]+$/) || name.indexOf('-')==0 || name.indexOf(' ')==0 || 
                (name.split('-').length<2 && name.split(' ').length<2)) {
                    alert('name must be like roger federer or roger-federer');
                    return false;
                }
            });
            $("#phone").bind('blur', function (){
                 //submit ur form here
                 //$('#signup').submit();    
             });
        });

    </script>
    <style>
                    .error {color: red;}
    </style>
 </head>
 <body>
    <form id="signup" action="/action">
        Full Name: <input id="fullname" name="fullname" type="text"  maxlength="14" /><br/>
        Email <input id="email" name="email" size="25"  class="required email" /><br/>
        Telephone Number: <input type="text" name="phone" id="phone" /><br/>
    </form>
 </body>
</html> 
```

# c# - 输入值后禁用文本框 C#

> ID：13873877
> 
> 赞同：0
> 
> 时间：2012-12-14T06:37:55.897
> 
> 标签：c#, textbox

我想在用户插入一个值后禁用一个文本框。我试过玩“KeyPress”属性，但我输入的第一个数字也是“KeyPress”，所以它锁定在第一个字符上。也许我可以在按 Enter 或使用 Tab 后锁定文本框。最好的方法是什么？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-12-14T06:41:45.327

听起来您想在此人离开后禁用该框。（我假设来自您的 Enter/Tab 选项。）如果是这样，请查看[`TextBox.LostFocus`](http://msdn.microsoft.com/en-us/library/system.windows.forms.control.lostfocus.aspx)事件。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-14T06:43:29.890

虽然，“最佳”通常取决于客户要求，但我会对 Lost Focus 事件执行禁用操作。

```
 private void textBox2_Leave(object sender, EventArgs e)
  {
       textBox2.Enabled = false;
  } 
```

谢谢

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-14T06:52:22.857

只需使用 Leave 事件并在正文中将 Enabled 分配为 false；

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-12-14T08:14:49.520

您可以使用 LostFocus 事件或 ManipulationCompleted 事件处理程序

# c++ - eclipse中C、C++项目中Sqlite3.c查询执行和数据库关闭错误

> ID：13873880
> 
> 赞同：1
> 
> 时间：2012-12-14T06:38:06.333
> 
> 标签：c++, c, eclipse, sqlite, eclipse-cdt

我在我的 C/C++ 项目中的 ubunt 12.04 中使用 eclipse，尝试执行查询时出现以下错误。我已经发布了堆栈以及要执行的查询和语法：

*这个总是成功的*

查询 1：CREATE TABLE IF NOT EXISTS HS_TABLE (user TEXT NOT NULL, passwd TEXT NOT NULL, PRIMARY KEY(user) );

*此查询第一次成功但第二次失败*

查询 2： INSERT OR REPLACE INTO HS_TABLE (user, passwd) SELECT 'user 0','passwd 0' UNION SELECT 'user 1','passwd 1' UNION SELECT 'user 2','passwd 2';

线程 [1] 5556 [核心：3]（暂停：信号：**SIGSEGV**：分段错误）

```
sqlite3Init() at sqlite3.c:93,817 0x466540  
sqlite3ReadSchema() at sqlite3.c:93,855 0x466667    
sqlite3LocateTable() at sqlite3.c:81,026 0x4506f9   
sqlite3LocateTableItem() at sqlite3.c:81,065 0x45081f   
sqlite3SrcListLookup() at sqlite3.c:85,104 0x457c79 
sqlite3Insert() at sqlite3.c:89,190 0x45e612    
yy_reduce() at sqlite3.c:1,10,576 0x4822d2  
sqlite3Parser() at sqlite3.c:1,11,347 0x484a5d  
sqlite3RunParser() at sqlite3.c:1,12,172 0x4856fc   
sqlite3Prepare() at sqlite3.c:94,032 0x466a48
sqlite3LockAndPrepare() at sqlite3.c:94,124 0x466d77
sqlite3_prepare_v2 at sqlite3.c:94,200 0x466f2e 
```

*另外我 sqlite3_close(sqlite3* db) 函数失败并且程序每次都终止*

线程 [1] 5845 [核心：0]（暂停：信号：SIGSEGV：分段错误）

```
sqlite3MemSize() at sqlite3.c:15,594 0x406d41   
sqlite3MallocSize() at sqlite3.c:19,021 0x407a73    
sqlite3_free() at sqlite3.c:19,044 0x407afd 
sqlite3DbFree() at sqlite3.c:19,080 0x407c16    
sqliteDeleteColumnNames() at sqlite3.c:81,237 0x450da7  
sqlite3DeleteTable() at sqlite3.c:81,296 0x450f0e   
sqlite3SchemaClear() at sqlite3.c:85,035 0x457b23   
sqlite3LeaveMutexAndCloseZombie() at sqlite3.c:1,13,533 0x487682    
sqlite3Close() at sqlite3.c:1,13,473 0x487558   
sqlite3_close() at sqlite3.c:1,13,486 0x48757c 
```

代码：

```
sql_ret = sqlite3_prepare_v2(m_database, CurrQuery, -1, &stmt, NULL); 
```

我的查询中是否有任何错误，如果是，为什么会崩溃，这是我尝试在 EClipse 中调试时发生的。

这是代码：

```
ErrorCode DBResponder::openDB(const char* DBPath)
{
UINT64 sql_ret;

sql_ret = sqlite3_open(DBPath,&m_database);
cout<<__func__<<": sql_ret = "<<sql_ret<<endl;
if(  sql_ret != SQLITE_OK )
    return DB_ERROR;

return NO_ERROR;
}

ErrorCode DBResponder::closeDB()
{ 
UINT64 sql_ret;

sql_ret = sqlite3_close(m_database);
cout<<__func__<<": sql_ret = "<<sql_ret<<endl;
if( sql_ret != SQLITE_OK )
    return DB_ERROR;

return NO_ERROR;
}

ErrorCode DBResponder::executeQuery()
{
sqlite3_stmt *stmt;
UINT64 sql_ret;
const char *CurrQuery = "INSERT OR REPLACE INTO HS_TABLE (user, passwd) SELECT 'user 0','passwd 0' UNION SELECT 'user 1','passwd 1' UNION SELECT 'user 2','passwd 2';";

ErrorCode err = NO_ERROR;

cout<<endl<<__func__<<": "<<CurrQuery<<endl;
sql_ret = sqlite3_prepare_v2(m_database, CurrQuery, -1, &stmt, NULL);
cout<<__func__<<": sql_ret (sqlite3_prepare_v2) = "<<sql_ret<<endl;
if(sql_ret != SQLITE_OK)
    return DB_ERROR;

HInfo* h;

while(1)
{
    sql_ret = sqlite3_step(stmt);
    cout<<__func__<<": sql_ret (sqlite3_step) = "<<sql_ret<<endl;
    if(sql_ret == SQLITE_ROW)
    {

        hs = (HInfo*)malloc(1*sizeof(HInfo));

        strncpy(hs->user, (const char*)sqlite3_column_text(stmt,0), MAX_STR_LEN );
        strncpy(hs->passwd, (const char*)sqlite3_column_text(stmt,1), MAX_STR_LEN);

        llist.add( (void*) hs);

    }
    else if(sql_ret == SQLITE_DONE)
    {
        //query finished
        //return hs;
        writeResponse(hs);
        break;
    }
    else
    {
        //error
        err = DB_ERROR;
        writeResponse(NULL);
        break;
    }
}//end of while loop

sql_ret = sqlite3_finalize(stmt);
cout<<__func__<<": sql_ret (sqlite3_finalize) = "<<sql_ret<<endl;
if(sql_ret != SQLITE_OK)
    err = DB_ERROR;

return err;
} 
```

我也收到错误： *无效的参数'候选人是：int sqlite3_open（const char *，* *）'*

对于每个 sqlite3 函数都是这样。注意 * *，而不是 sqlite3* *，但是该项目正在构建中。我在链接器中包含了 dl 和 pthread。请参阅此错误：http://stackoverflow.com/questions/13859956/how-to-use-sqlite3-c-and-sqlite3-h-in-eclipse-cc-project

请帮忙！谢谢

# java - 十进制格式的 IPV6 ip 地址或从 IPV6 中提取 IPV4

> ID：13873885
> 
> 赞同：1
> 
> 时间：2012-12-14T06:38:49.007
> 
> 标签：java, linux, ip-address, ipv6, ipv4

是否有任何 JAVA 或 LINUX 方法来提取十进制格式的 IPV6 ip 地址。或者是否有任何 JAVA 或 LINUX 方式将 IPV6 ip 转换为 IPV4 格式。

谢谢。德尼亚内什。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-12-14T08:19:02.360

> 是否有任何 JAVA 或 LINUX 方法来提取十进制格式的 IPV6 ip 地址。

不可以。IPv6 地址始终以十六进制显示。

> 或者是否有任何 JAVA 或 LINUX 方式将 IPV6 ip 转换为 IPV4 格式。

不，它们是完全不同的地址类型。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-17T11:50:48.323

好吧，IPv6 地址只有 16 个字节（和一个网络掩码），就像 IPv4 地址是 4 个字节一样。因此，以十进制打印它们当然是可能的。**但是，问题是，既然每个人都**用十六进制写这些地址，为什么要这样做。

虽然 IPv6 中有一个特定的地址范围用于嵌入 IPv4 地址（您可以在自己的基础架构中自由创建新地址），但这显然是不可能的。

如果您真正的问题是“如果我只有 IPv4，我如何与 IPv6 主机通信”，那么答案会更复杂，并且涉及在 IPv4 中传输 IPv6 流量。 [http://www.networkworld.com/news/2010/050610-ipv6-tunnel-basics.html](http://www.networkworld.com/news/2010/050610-ipv6-tunnel-basics.html)对可用选项进行了全面概述。TLDR 摘要：您可能应该使用 Teredo 对 IPv6 进行临时访问（Linux 客户端：[http](http://www.remlab.net/miredo/) ://www.remlab.net/miredo/ ）。如果您想连接服务器并且无法从您的提供商处获得 IPv6 服务，最好的答案曾经是 6to4（根据我的经验），但现在告诉您的提供商一起行动会更有用。或者更换供应商。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2017-12-13T18:46:04.097

取决于您所说的提取物是什么意思。

[IPAddress Java 库](https://seancfoley.github.io/IPAddress/)将执行您所要求的部分或全部操作。链接中提供了 javadoc。免责声明：我是项目经理。

该库解析 IPv4 和 IPv6。它允许您生成各种不同格式的字符串，并且您可以调用 toNormalizedString(IPStringOptions) 方法来生成具有十进制格式的 IPv6 字符串，即使 IPv6 通常是十六进制。

该库允许您使用 IPAddress.getEmbeddedIPv4Address() 从 IPv6 地址中提取 IPv4 地址，如下所示：

```
 String str = "1::1";//ipv6 address
    IPAddressString addrString = new IPAddressString(str);
    try {
         IPAddress addr = addrString.toAddress();//parse the ipv6 address
         IPAddress addr2 = addr.getEmbeddedIPv4Address()//extract the ipv4 address 0.0.0.1 from the terminating bytes
         ...
    } catch(AddressStringException e) {
        //e.getMessage provides validation issue
    } 
```

# java - 使用 gson 将 json 解析为 java 对象的问题

> ID：13873887
> 
> 赞同：7
> 
> 时间：2012-12-14T06:38:50.627
> 
> 标签：java, gwt, gson

我想使用[google-gson](http://code.google.com/p/google-gson/)将 json 数据解析为 java 对象。

这是我要解析的数据示例：

```
 {"isBean":{"userName":"test","password":"password112"}} 
```

**IsBean.java**

```
public interface IsBean extends Serializable,IsSerializable{

    long getId();

} 
```

**用户.java**

```
public class User implements IsBean,IsSerializable,Serializable {

    String userName;
    String password;

    public String getUserName() {
        return userName;
    }
    public void setUserName(String userName) {
        this.userName = userName;
    }
    public String getPassword() {
        return password;
    }
    public void setPassword(String password) {
        this.password = password;
    }
    @Override
    public long getId() {
        return 0;
    }

} 
```

**RequestObj.java**

```
public class RequestObj implements IsBean, Serializable,IsSerializable{

    IsBean  isBean;
    @Override
    public long getId() {
        return 0;
    }
     public IsBean getIsBean() {
        return isBean;
    }
    public void setIsBean(IsBean isBean) {
        this.isBean = isBean;
    }
} 
```

**测试.java**

```
public class Test {

    public static void main(String[] args) {
        Gson gson = new Gson();
        User user=new User();
        user.setPassword("password112");
        user.setUserName("test");
        RequestObj requestObj=new RequestObj();
        requestObj.setIsBean(user);
        String jsonStr=gson.toJson(requestObj);
        System.out.println("jsonStr--->"+jsonStr);
        try{
            RequestObj request=gson.fromJson(jsonStr, RequestObj.class);
        }catch (Exception e) {
        e.printStackTrace();
        }
    }
} 
```

**错误：**

```
java.lang.RuntimeException: Unable to invoke no-args constructor for interface com.test.gson.shared.IsBean. Register an InstanceCreator with Gson for this type may fix this problem.
    at com.google.gson.internal.ConstructorConstructor$8.construct(ConstructorConstructor.java:167)
    at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory$Adapter.read(ReflectiveTypeAdapterFactory.java:162)
    at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory$1.read(ReflectiveTypeAdapterFactory.java:93)
    at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory$Adapter.read(ReflectiveTypeAdapterFactory.java:172)
    at com.google.gson.Gson.fromJson(Gson.java:795)
    at com.google.gson.Gson.fromJson(Gson.java:761)
    at com.google.gson.Gson.fromJson(Gson.java:710)
    at com.google.gson.Gson.fromJson(Gson.java:682)
    at com.test.gson.server.Test.main(Test.java:18)
Caused by: java.lang.reflect.InvocationTargetException
    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
    at java.lang.reflect.Method.invoke(Method.java:597)
    at com.google.gson.internal.UnsafeAllocator$1.newInstance(UnsafeAllocator.java:48)
    at com.google.gson.internal.ConstructorConstructor$8.construct(ConstructorConstructor.java:164)
    ... 8 more
Caused by: java.lang.InstantiationException: com.test.gson.shared.IsBean
    at sun.misc.Unsafe.allocateInstance(Native Method)
    ... 14 more 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-12-14T06:48:37.753

如果没有看到 的代码`CommunicationObject`，我不能肯定地说，但我有信心地猜测该类有一个类型的字段`IsBean`，您可以在其中使用它来保存`User`. 如果是这样，问题是 GSON 扫描`obj`类对象的字段，`CommunicationObject`并根据字段定义，`IsBean`必须创建字段的值（它是 typed ）但由于类型是接口，它不能该字段的实例对象。

换句话说，由于JSON字段没有指定对象类型，GSON必须依赖定义的字段类型来为字段值创建实例，如果类型是接口则无法做到这一点。

因此，如果这对您有意义，请考虑更改该字段的类型。或研究创建[`InstanceCreator`](https://sites.google.com/site/gson/gson-user-guide#TOC-Writing-an-Instance-Creator)（`IsBean`尽管在逻辑上是可能的）。

另请参阅：[反序列化 Gson 中的抽象类](https://stackoverflow.com/questions/3629596/deserializing-an-abstract-class-in-gson)

希望这可以帮助。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-14T10:09:40.567

[在 Stackoverflow Answer](https://stackoverflow.com/questions/4795349/how-to-serialize-a-class-with-an-interface)的帮助下，问题得以解决。

创建 gson 对象：

```
Gson gson = new GsonBuilder().registerTypeAdapter(IsBean.class, new InterfaceAdapter<IsBean>()).create(); 
```

# android - 无法更新数据库 sqlite java.lang.NullPointerException

> ID：13873888
> 
> 赞同：0
> 
> 时间：2012-12-14T06:39:04.390
> 
> 标签：android, database, sqlite, nullpointerexception

我想更新数据库中的数据，但它在 sqldb.update 行中给出 java.lang.NullPointerException ...我已经搜索了如何更新数据但它仍然相同，请告诉我错误

这里有一些 content.java

```
 package ta.ens;

import android.app.Activity;
import android.content.ContentValues;
import android.content.Context;
import android.content.Intent;
import android.database.Cursor;
import android.database.sqlite.SQLiteDatabase;
import android.graphics.Typeface;
import android.os.Bundle;
import android.text.ClipboardManager;
import android.view.Menu;
import android.view.MenuInflater;
import android.view.MenuItem;
import android.view.View;
import android.widget.ListView;
import android.widget.SimpleCursorAdapter;
import android.widget.TextView;
import android.widget.Toast;

public class Content extends Activity {
    /** Called when the activity is first created. */
    //TextView judul,hadits,arti; 
    ListView content;
    SimpleCursorAdapter adapter;
    MyDB mydb;
    Cursor cursor,populer;
    TextView judul,hadits,arti;
    SQLiteDatabase sqldb;
    Context context=this;

    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.custom_list_hadits);       
        mydb = new MyDB(this);

        judul = (TextView)findViewById(R.id.textjudul);
        hadits = (TextView)findViewById(R.id.texthadits);
        arti = (TextView)findViewById(R.id.textarti);

        Bundle extras = getIntent().getExtras();
        String id = extras.getString("row");
        String namajudul = extras.getString("rowjudul");                
        ContentValues cv = new ContentValues();
        populer = mydb.getPopularity(id);
        int jumlah = populer.getCount();
        if (jumlah == 0){
            cv.put("totalquery", 1);
            sqldb.update("populer", cv, "_id ?", new String[]{id});
        }else {
            jumlah = jumlah + 1;
            cv.put("totalquery", jumlah);
            sqldb.rawQuery("UPDATE populer SET totalquery = "+jumlah+" WHERE _id =" +id, null);
        }

        judul.setText(namajudul);
        hadits.setTypeface(Typeface.createFromAsset(getAssets(), "dejavusans.ttf"));
        cursor = mydb.getHadits(id);
        int total = cursor.getCount();
        for(int i = 1;i<=total;i++){
            String isihadits = ArabicUtilities.reshape(cursor.getString(cursor.getColumnIndex("hadits")));
            String isiarti = cursor.getString(cursor.getColumnIndex("arti"));
            hadits.setText(isihadits);
            arti.setText(isiarti);
            cursor.moveToNext();
        } 
        hadits.setOnClickListener(new View.OnClickListener() {

            @Override
            public void onClick(View arg0) {
                // TODO Auto-generated method stub
                ClipboardManager clipboard = (ClipboardManager)getSystemService(CLIPBOARD_SERVICE);
                clipboard.setText(hadits.getText());
                Toast.makeText(context, "Copied to clipboard", Toast.LENGTH_SHORT).show();
            }
        });

        arti.setOnClickListener(new View.OnClickListener() {

            @Override
            public void onClick(View arg0) {
                // TODO Auto-generated method stub
                ClipboardManager clipboard = (ClipboardManager)getSystemService(CLIPBOARD_SERVICE);
                clipboard.setText(arti.getText());
                Toast.makeText(context, "Copied to clipboard", Toast.LENGTH_SHORT).show();
            }
        });        
    }

     public boolean onCreateOptionsMenu(Menu menu){
        MenuInflater inflater = getMenuInflater();
        inflater.inflate(R.menu.menuhelp, menu);
        return true;

    }

    public boolean onOptionsItemSelected(MenuItem item){
        Intent intent = new Intent();
        switch(item.getItemId()){
        case R.id.helptema :
            finish();
            intent.setClass(Content.this, Tema.class);
            startActivity(intent);
            break;
        case R.id.searchhelp :
            finish();
            intent.setClass(Content.this, Cari.class);
            startActivity(intent);
            break;
        case R.id.tentanghelp :
            finish();
            intent.setClass(Content.this, Tentang.class);
            startActivity(intent);
            break;
        case R.id.quithelp :
            finish();
            System.exit(0);
        }
        return true;
    }
} 
```

这是 mydb.java

```
 package ta.ens;

import android.content.Context;
import android.database.Cursor;
import android.database.sqlite.SQLiteDatabase;
import com.readystatesoftware.sqliteasset.SQLiteAssetHelper;

public class MyDB extends SQLiteAssetHelper{

    private static final String DATABASE_NAME = "hadits";
    private static final int DATABASE_VERSION = 1;

    public MyDB(Context context) {
        super(context, DATABASE_NAME, null, DATABASE_VERSION);
        // TODO Auto-generated constructor stub
    }

    public Cursor getAllTema(){
        SQLiteDatabase sqldb = getReadableDatabase();

        Cursor c = sqldb.rawQuery("SELECT * FROM tema", null);

        c.moveToFirst();
        return c;
    }

    public Cursor getJudul(String id){
        SQLiteDatabase sqldb = getReadableDatabase();

        Cursor jdl = sqldb.rawQuery("SELECT judul._id,judul.judul FROM judul,tema,temajudul WHERE tema._id = temajudul.idtema AND judul._id = temajudul.idjudul AND tema._id = "+id, null);
        jdl.moveToFirst();
        return jdl;
    }

    public Cursor getHadits(String id){
        SQLiteDatabase sqldb = getReadableDatabase();

        Cursor hadits = sqldb.rawQuery("SELECT hadits.hadits , hadits.arti FROM hadits,judul,judulhadits WHERE judul._id = judulhadits.idjudul AND hadits.rowid = judulhadits.idhadits AND judul._id = "+id, null);
        hadits.moveToFirst();
        return hadits;
    }

    public void virtualtabel(){
        SQLiteDatabase sqldb = getReadableDatabase();
        sqldb.execSQL("INSERT INTO virtualhadits SELECT * FROM hadits");
    }

    public Cursor getAllHadits(){
        SQLiteDatabase sqldb = getReadableDatabase();
        Cursor allcontent = sqldb.rawQuery("SELECT * FROM virtualhadits", null);
        return allcontent;
    }

    public Cursor getCari(String key){
        SQLiteDatabase sqldb = getReadableDatabase();       

        Cursor cari = sqldb.rawQuery("SELECT virtualhadits.rowid AS _id , judul.judul FROM judul,judulhadits,virtualhadits WHERE judul._id = judulhadits.idjudul AND virtualhadits.rowid = judulhadits.idhadits AND virtualhadits MATCH '"+key+"'",
                    null);
        cari.moveToFirst();
        return cari;
    }

    public Cursor getPopularity(String id){
        SQLiteDatabase sqldb = getReadableDatabase();

        Cursor semua = sqldb.rawQuery("SELECT totalquery FROM populer WHERE _id = "+id, null);
        return semua;
    }

    public Cursor getPopularitasJudul(){
        SQLiteDatabase sqldb = getReadableDatabase();

        Cursor populerjudul = sqldb.rawQuery("SELECT judul._id  judul.judul FROM judul,hadits,populer WHERE judul._id = judulhadits.idjudul AND hadits._id = judulhadits.idhadits AND populer._id = hadits._id ORDER BY populer.totalquery DESC", null);

        return populerjudul;
    }
} 
```

这里日志猫

```
 12-14 13:28:02.821: ERROR/AndroidRuntime(5867): FATAL EXCEPTION: main
12-14 13:28:02.821: ERROR/AndroidRuntime(5867): java.lang.RuntimeException: Unable to start activity ComponentInfo{ta.ens/ta.ens.Content}: java.lang.NullPointerException
12-14 13:28:02.821: ERROR/AndroidRuntime(5867):     at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2663)
12-14 13:28:02.821: ERROR/AndroidRuntime(5867):     at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2679)
12-14 13:28:02.821: ERROR/AndroidRuntime(5867):     at android.app.ActivityThread.access$2300(ActivityThread.java:125)
12-14 13:28:02.821: ERROR/AndroidRuntime(5867):     at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2033)
12-14 13:28:02.821: ERROR/AndroidRuntime(5867):     at android.os.Handler.dispatchMessage(Handler.java:99)
12-14 13:28:02.821: ERROR/AndroidRuntime(5867):     at android.os.Looper.loop(Looper.java:123)
12-14 13:28:02.821: ERROR/AndroidRuntime(5867):     at android.app.ActivityThread.main(ActivityThread.java:4627)
12-14 13:28:02.821: ERROR/AndroidRuntime(5867):     at java.lang.reflect.Method.invokeNative(Native Method)
12-14 13:28:02.821: ERROR/AndroidRuntime(5867):     at java.lang.reflect.Method.invoke(Method.java:521)
12-14 13:28:02.821: ERROR/AndroidRuntime(5867):     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:868)
12-14 13:28:02.821: ERROR/AndroidRuntime(5867):     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:626)
12-14 13:28:02.821: ERROR/AndroidRuntime(5867):     at dalvik.system.NativeStart.main(Native Method)
12-14 13:28:02.821: ERROR/AndroidRuntime(5867): Caused by: java.lang.NullPointerException
12-14 13:28:02.821: ERROR/AndroidRuntime(5867):     at ta.ens.Content.onCreate(Content.java:54)
12-14 13:28:02.821: ERROR/AndroidRuntime(5867):     at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1047)
12-14 13:28:02.821: ERROR/AndroidRuntime(5867):     at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2627)
12-14 13:28:02.821: ERROR/AndroidRuntime(5867):     ... 11 more 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-08-27T06:48:37.800

```
Better to use:

if (jumlah == 0){
            cv.put("totalquery", 1);
sqldb=Mydb.getWritableDatabase();
            sqldb.execSQL("update populer set _id=id");
        } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-14T06:50:24.820

使用`mydb`而不是 `sqldb`用于更新或从数据库中选择数据，因为`mydb`它是一个类的对象，您在其中扩展`SQLiteAssetHelper`类以进行数据库操作，如插入、更新或选择。所以需要使用`MyDB`实例来执行所有操作而不是`SQLiteDatabase`实例

```
if (jumlah == 0){
        cv.put("totalquery", 1);
        mydb.update("populer", cv, "_id ?", new String[]{id});
    }else {
        jumlah = jumlah + 1;
        cv.put("totalquery", jumlah);
        mydb.rawQuery("UPDATE populer SET totalquery = 
                         "+jumlah+" WHERE _id =" +id, null);
    } 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-14T06:42:28.110

我认为您尚未初始化 Variable `SQLiteDatabase sqldb`。你已经声明了它，但我没有看到你初始化它的任何地方。也许这就是您获得 NUllPointer 的原因 `sqldb.update("populer", cv, "_id ?", new String[]{id});`

# c++ - 演员表 > 映射 >?

> ID：13873893
> 
> 赞同：2
> 
> 时间：2012-12-14T06:39:36.560
> 
> 标签：c++, casting, constants

我正在存储一个`std::map`of`std::shared_ptr<V>`作为值。

从一个函数中，我想返回对该映射的引用，但是`std::shared_ptr<const V>`作为值类型，这可能吗？

这是我想要实现的目标：

```
#include <map>
#include <memory>

struct A {
    std::map<int, std::shared_ptr<int>> map;

    const std::map<int, std::shared_ptr<const int>>& ret1() const {
        return map;
    }
}; 
```

但是这段代码无法编译：

```
error: invalid initialization of reference of type 
'const std::map<int, std::shared_ptr<const int> >&' 
from expression of type 'const std::map<int, std::shared_ptr<int> >' 
```

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-14T08:27:21.147

类型`T`和类型`const T`是相关的，但最终是不同的类型。如果您不希望调用者`ret1`修改地图中的值，则返回地图的副本，或者接受对地图的引用作为参数并将键和值复制到其中。

# drools - 即使不满足指定的条件，DROOLS::Rules 也会执行

> ID：13873898
> 
> 赞同：1
> 
> 时间：2012-12-14T06:40:27.153
> 
> 标签：drools

下面是规则：

* * *

```
rule "RelStatusUpdateCalcCheck"
salience 55
no-loop true
when    
$evt : UpdateRateStatusReq(statusID == RateStatusEnum.READY.getValue() || == RateStatusEnum.HOLIDAY_ROLL_FORWARD.getValue() || == RateStatusEnum.ROLL_FORWARD.getValue()) from entry-point RequestStream
$rr : ReliableRate(rateId == $evt.getRateID())
$dr : DerivedRate(holidayFlag == false, grfLock == false, $lr : listInputRateId, $lr.contains($evt.getRateID()))    
then
cepService.relStatusUpdateCalcCheck($evt, $rr, $dr);

end** 
```

* * *

最后一个条件表明，如果 'holidayflag' 为 false 并且其他条件也满足，则仅执行 java 方法。但是即使在holidayflag 为真时，该方法也会被执行。只有当我重新启动我的应用程序服务器时，当holidayflag 为真时，该方法才会被执行。为什么会这样？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-14T17:56:45.660

一个可能的解释是

您的工作记忆中有多个 DerivedRate 事实，这些事实与您的规则相匹配，因为：

*   由于编程错误（例如，从多个线程访问知识库的静态实例），您插入了这些事实
*   您使用有状态的知识会话，而 DerivedRate 事实是先前操作的剩余物。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-17T04:02:57.767

```
Thanks for the reply. I got the root cause of this issue. Actually when I update the holidayFlag to 'true',the DerivedRate object is updated but the Drools session is never updated as the result of which when the rules gets executed it still refers to the old value. When I restart my app I load the Facts again that's why this issue gets resolved after restart.

Below is the code that i added in order to resolve this issue::
DerivedRate dr = (DerivedRate) qd.iterator().next().get("dr");
FactHandle fh = session.getFactHandle(dr);  --> new code
dr.setHolidayFlag(true);
session.update(fh, dr);      --> new code 
```

# javascript - mvc3 下拉列表设置从模型中选择的值

> ID：13873902
> 
> 赞同：0
> 
> 时间：2012-12-14T06:40:42.137
> 
> 标签：javascript, select

我正在我的 .aspx 页面中创建一个选择列表。

```
<label for="AccessType" class="required"><span class="required">*</span><%=Html.Resource("accessType")%>:</label>
                <select id="AccessType" name="AccessType">
                <% foreach (var item in Enum.GetValues(typeof(Security.AccessType)))
                {%> 
                <option value="<%=(int)item%>"><%=item%> </option> 
                <%}%>
                </select><br /> 
```

现在每次我加载页面时，它都会选择第一个值作为默认值，因为我希望模型中存在的值被选中。

我将下拉列表绑定到我的代码中的枚举。Security.AccessType 是枚举而不是模型。所以每次页面加载时，它都会将下拉列表的选定值显示为第一个枚举

我希望选定的项目是 Model.AccessType ...

我知道这是一个非常基本的问题，但仍有帮助吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-14T06:51:46.767

您可以为要默认设置的选项提供“选定”属性，例如：

```
<option value="apple" selected="selected">apple</option> 
```

如果你想动态选择一个选项，你可以通过 javascript 来完成。例如：

```
var el = document.getElementById("AccessType");
el.selectedIndex = yourIndex; //index of the option you want to select
//or
el.value = "yourValue"; //value of the option you want to select 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-17T11:45:46.043

我使用了followig并得到了结果..

$('#ddlAccessType').val($("#ddlAccessType option:contains('" + $('#AccessTypeValue').val() + "')").val());

这是首先获取 AccessType 值，然后在下拉列表中检查其索引，然后将所选索引设置为找到的索引。

有点奇怪，但对我来说很好用..

# python - 此字段是必需的 Django 中的错误

> ID：13873904
> 
> 赞同：8
> 
> 时间：2012-12-14T06:40:45.940
> 
> 标签：python, django

在我设置的模型中：

```
class Task(models.Model):
    EstimateEffort = models.PositiveIntegerField('Estimate hours',max_length=200)
    Finished = models.IntegerField('Finished percentage',blank=True) 
```

但是在网页中，如果我没有为该`Finished`字段设置值，则会显示错误`This field is required`。我试过`null=True`了`blank=True`。但他们都没有工作。所以你能告诉我如何让一个字段为空。

我发现有一个属性`empty_strings_allowed`，我将其设置为 True，但仍然相同，并且我将 models.IntegerField 子类化。它仍然无法工作

```
class IntegerNullField(models.IntegerField):
    description = "Stores NULL but returns empty string"
    empty_strings_allowed =True
    log.getlog().debug("asas")
    def to_python(self, value):
        log.getlog().debug("asas")
        # this may be the value right out of the db, or an instance
        if isinstance(value, models.IntegerField):
            # if an instance, return the instance
            return value
        if value == None:
            # if db has NULL (==None in Python), return empty string
            return ""
        try:
            return int(value)
        except (TypeError, ValueError):
            msg = self.error_messages['invalid'] % str(value)
            raise exceptions.ValidationError(msg)

    def get_prep_value(self, value):
        # catches value right before sending to db
        if value == "":
            # if Django tries to save an empty string, send to db None (NULL)
            return None
        else:
            return int(value) # otherwise, just pass the value 
```

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-12-14T06:48:53.643

利用

```
Finished = models.IntegerField('Finished percentage', blank=True, null=True) 
```

阅读[https://docs.djangoproject.com/en/1.4/ref/models/fields/#blank](https://docs.djangoproject.com/en/1.4/ref/models/fields/#blank)：

`null is purely database-related, whereas blank is validation-related.`

您可能在没有`null=True`first 的情况下定义了该字段。现在在代码中更改它不会更改数据库的初始布局。使用[South](http://south.aeracode.org/)进行数据库迁移或手动更改数据库。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-12-14T06:55:12.120

在您可以[`required=False`](https://stackoverflow.com/questions/1134667/django-required-field-in-model-form)在该字段上设置的表单上：

```
Finished = forms.IntegerField(required=False) 
```

或者为了避免重新定义 ModelForm 上的字段，

```
def __init__(self, *args, **kwargs):
    super(MyForm, self).__init__(*args, **kwargs)
    self.fields['Finished'].required = False
    #self.fields['Finished'].empty_label = 'Nothing' #optionally change the name 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-12-14T07:13:44.390

也许需要一个默认值

```
finished = models.IntegerField(default=None,blank=True, null=True) 
```

# xml - 使用 vi/vim 在多行之间插入单词

> ID：13873906
> 
> 赞同：0
> 
> 时间：2012-12-14T06:40:53.693
> 
> 标签：xml, sed, vi

我有一个 XML，我想在多行上搜索和匹配字符串：

```
</head>
<head> 
```

这个想法是最终插入

```
</head>
</body>
<body>
<head> 
```

我认为这对 vi 是可行的，我进行了一些研究并找到了“_s”，但它似乎不适用于多行。这就是我尝试过的：

```
/<\/head>\_s<head> 
```

有人可以帮忙吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-14T06:51:19.260

您提供的模式按预期工作：

```
<head>
</head>
<head>
</head>
<head>
</head>

:%s/<\/head>\_s<head>/<\/head>\r<body>\r<\/body>\r<head>/gc
# remove c

<head>
</head>
<body>
</body>
<head>
</head>
<body>
</body>
<head>
</head> 
```

# java - 如何可移植地传递字符串？

> ID：13873912
> 
> 赞同：-1
> 
> 时间：2012-12-14T06:41:12.870
> 
> 标签：java, android

我想编码一些值并将其传递给服务器。我担心的是我的密钥是否可以移植到服务器端？对于编码，我想将字节获取为 MyString.getBytes()，但服务器可以以不同的方式保留字符串，因此当他尝试解码我​​的消息时，结果将是错误的。

您能否告诉我如何使字符串可移植、独立于平台的正确方法？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-14T06:49:38.160

为此，您可以使用 Base64 编码/解码公式。[这](http://developer.android.com/reference/android/util/Base64.html)是 BASE64 for android 的介绍。

和[示例](https://stackoverflow.com/questions/7360403/base-64-encode-and-decode-example-code)编码/解码。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-14T07:43:11.327

为了可移植性，您应该使用 String.getBytes(Charset) 和相应的构造函数。您需要在客户端和服务器上指定相同的字符集。如果在将字符串编码/解码为字节时未指定字符集，则结果取决于平台的默认字符集，因此不可移植。

# c# - 在 Bound DropDownList 中添加 ALL

> ID：13873914
> 
> 赞同：1
> 
> 时间：2012-12-14T06:41:31.357
> 
> 标签：c#, asp.net, visual-studio-2010, binding

我目前正在使用 C# 开发一个网页。我有一个`DropdownList`与我的 sql 数据库中的数据绑定的数据。下拉列表与我的数据库绑定后，下拉列表中的项目是 userA、userB 和 userC。如果我选择下拉列表中的任何项目，特定用户的数据将显示在 gridview 中。

所以，我现在要做的是我想在下拉列表中添加一个**ALL 。**当我点击**ALL**时，每个用户的数据将显示在 gridview 中。我怎样才能做到这一点？有什么建议吗？谢谢。

P/S：我不想添加任何额外的按钮来显示所有用户数据。我想把它放在下拉列表中。

这是我的代码：

**WebApp.aspx：**

```
<asp:DropDownList ID="DropDownList1" runat="server" 
        DataSourceID="SqlDataSource1" DataTextField="Username" 
        DataValueField="Username">
</asp:DropDownList>
<asp:SqlDataSource ID="SqlDataSource1" runat="server" 
        ConnectionString="<%$ ConnectionStrings:DBConnectionString %>" 
        SelectCommand="SELECT [Username] FROM [Accounts]">
</asp:SqlDataSource> 
```

这是我为新网页编辑的内容。我不在后面的代码中调用数据绑定函数。

感谢您的帮助。

这是我正在寻找的答案：

```
<asp:DropDownList ID="DropDownList1" runat="server" 
        DataSourceID="SqlDataSource1" DataTextField="Username" 
        DataValueField="Username" AppendDataBoundItems="True">
    <asp:ListItem Text="All" Value ="all" Selected="True"></asp:ListItem>
</asp:DropDownList>
<asp:SqlDataSource ID="SqlDataSource1" runat="server" 
        ConnectionString="<%$ ConnectionStrings:DBConnectionString %>" 
        SelectCommand="SELECT [Username] FROM [Accounts]">
</asp:SqlDataSource> 
```

感谢所有试图帮助我的人。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-14T06:47:10.467

你可以做到这一点：

`DropdownList`使用SQL 数据绑定后使用此代码

```
ddlUsers.Items.Add(new ListItem("All", "all"));
ddlUsers.SelectedValue = "all"; 
```

完成此操作后，您可以根据此条件选择所有用户查询：

```
if(ddlUsers.SelectedValue == "all")
{
   // your SQL query to select all users goes here.
} 
```

在 HTML 标记中，您可以像这样添加：

```
<asp:DropDownList ID="DropDownList1" runat="server" 
        DataSourceID="SqlDataSource1" DataTextField="Username" 
        DataValueField="Username">

<asp:ListItem Text="All" Value ="all" Selected="True"></asp:ListItem>

</asp:DropDownList> 
```

`Selected="True"`如果您不希望默认选中此选项，则可以删除。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-14T07:00:56.427

你可以做一些事情来实现这一点。

1)ddlUsers.Items.Add(new ListItem("All", "all")); 在绑定下拉列表的任何位置添加此行。

2）使用`SelectedIndexChanged`下拉事件...

```
protected void ddlUsers_SelectedIndexChanged(object sender, EventArgs e)
 {
if(ddlUsers.SelectedValue == "all")
{
  //Call your SQL query from here and bind the result set with your grid.
  //if you need the id's of all the items in the drop down then write a loop and form a      //string with , separated valued and pass it along.
}

} 
```

# java - Java - 网格布局问题

> ID：13873915
> 
> 赞同：1
> 
> 时间：2012-12-14T06:41:34.680
> 
> 标签：java, swing, layout-manager, grid-layout, gridbaglayout

我正在创建一个`JScrollPane`面板，其中有一个`GridLayout`. 我需要的是四个单元格，其中两个包含文本，另外两个包含复选框。

然后我需要能够使用复选框调整网格的大小。

我已经尝试了各种各样的事情，但似乎无法让它按照我的意愿行事。

有人可以提供一个`GridBagLayout`创建大小不等的网格并动态填充的示例吗？任何示例或指导将不胜感激。

# c++ - 类方法 VS 类静态函数 VS 简单函数 - 性能方面？

> ID：13873920
> 
> 赞同：13
> 
> 时间：2012-12-14T06:41:49.280
> 
> 标签：c++, c, macos, class, clang

**好的，这就是我想要的：**

*   我已经编写了几个非常苛刻的功能（主要是在位图上操作等），它们必须尽可能快
*   现在，我们还要提一下，这些函数也可以按类型分组，甚至可以按它们所操作的变量的类型分组。
*   问题是，除了算法的实现之外，我应该做什么——从技术的角度来看——为了不影响速度。

现在，**我正在考虑以下场景**：

*   将它们创建为简单的函数，并将必要的参数作为参数传递
*   创建一个类（用于“分组”/组织目的）并将它们声明为静态
*   按类型创建类，例如创建一个用于处理位图的类，为每个位图创建该类的新实例（例如`Bitmap* myBitmap = newBitmap(1010);`，并使用其内部方法对其进行操作（例如`myBitmap->getFirstBitSet()`）

现在，这些方法中哪一种是最快的？在性能方面，直接简单函数和类封装函数之间真的有什么区别`static`吗？任何其他更可取的情况，我没有提到？

* * *

**旁注：**我正在使用`clang++`Mac OS X 10.6.8 的编译器。（如果这有什么不同的话）

* * *

## 回答 #1

> 赞同：23
> 
> 时间：2012-12-14T07:36:28.107

在 CPU 层面，只有[一种函数](https://stackoverflow.com/questions/7060970/substitutes-for-x86-assembly-call-instruction)，它很像 C 的那种。你可以自己制作，但是...

事实证明，C++ 正在以高效的方式构建，将大多数函数直接映射到*调用*指令：

*   命名空间级函数就像一个普通的 C 函数
*   静态方法就像命名空间级别的函数（从调用的角度来看）
*   非静态方法与静态方法非常相似，除了隐式`this`参数在其他参数之上传递（一个指针）

所有这三个都具有完全相同的性能。

另一方面，`virtual`方法有一点开销。有一份关于性能的 C++ 技术报告估计了与非虚拟方法相比，*空*函数的开销在 10% 到 15% 之间（来自内存）。这意味着对于任何内部有肉的功能（即，做真正的工作），开销本身接近于迷失在噪音中。`virtual`除非可以在编译时推断出调用，否则真正的成本来自对内联的抑制。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-12-14T07:24:28.330

经典的旧 C 函数和类的静态方法之间绝对没有区别。区别只是审美。如果你有多个 C 函数，它们之间有一定的关系，你可以：

*   将它们分组到一个类中；
*   将它们放入命名空间；

差异将再次体现在美学上。这很可能会提高可读性。

如果这些 C 函数共享一些静态数据，则将这些数据定义为类的私有静态数据成员是有意义的（如果可能的话）。在这种情况下，带有类的变体比带有命名空间的变体更可取。

我会劝阻你不要创建一个虚拟实例。这会误导源代码的读者。

为每个位图创建一个实例是可能的，甚至是有利的。特别是如果您在典型场景中多次调用此实例上的方法。

# html - 什么时候应该使用类，什么时候应该使用 id？

> ID：13873921
> 
> 赞同：1
> 
> 时间：2012-12-14T06:41:49.080
> 
> 标签：html, css

什么时候应该使用类，什么时候应该在 html 中使用 id 来设置页面样式。

例子：`<h1 class="ClassName">` `<h1 id="IDName">`

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-14T06:43:50.143

ID 是唯一的，而类可以重复使用。您也可以同时使用两者：

```
<h1 class="ClassName" id="IDName"> 
```

作为一般经验法则，使用 id 作为单独的标识符，并使用类作为您打算重用的公共标记。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-14T06:50:08.533

如果您`id`只有一个元素并且`class`有很多元素，则使用。

例如，您有一个列表：

```
<div class="listItem">Item 1</div>
<div class="listItem" id="selected">Item 2</div>
<div class="listItem">Item 3</div> 
```

在这里，您可以使用 javascript: 获取所选元素`document.getElementById('selected')`。

你永远不应该有同样的`id`两次，但你应该总是有`class`很多次。

另请查看[文档](http://www.w3.org/TR/html401/struct/global.html#h-7.5.2)，它很好地解释了它。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-12-14T06:54:42.290

使用 id 来标识在页面或单个 div 上只有一个实例的元素。例如，如果您有一个单独的导航栏要放置在特定位置，请使用`id="navi"`., 表示 header `used id="header_sectoin"`，用于 jquery 中使用的任何函数而不是用于 id`id="slider_left"`

使用类对所有行为都以某种方式的元素进行分组。例如，如果您希望您的公司名称在正文中以粗体显示，您可以使用 .

例子：

文本

```
#header_section {font-color:#fff}
.header_section {font-color:#000} 
```

文本将是白色的。

详情：

[http://css-tricks.com/the-difference-between-id-and-class/](http://css-tricks.com/the-difference-between-id-and-class/)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-12-14T06:47:28.477

id 是唯一的。例如，如果您只想将 css 样式分配给您可以将它们与 id 关联的标签之一。类可以重用。例如，如果你想为所有`<a>`标签分配一个 CSS 样式，你必须使用 class.

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-12-14T08:30:59.123

ID 是唯一的 每个元素只能有一个 ID 每个页面只能有一个具有该 ID 的元素

类不是唯一的 您可以在多个元素上使用相同的类。您可以在同一个元素上使用多个类。

任何 ID 或类都没有浏览器默认设置 将类名称或 ID 添加到元素默认情况下不会对该元素执行任何操作。

元素可以同时拥有

# php - 如何使用 CakePHP 和 TreeBehaviors 创建对 SEO 友好的类别？

> ID：13873926
> 
> 赞同：0
> 
> 时间：2012-12-14T06:42:17.243
> 
> 标签：php, mysql, cakephp

我需要将分层数据存储在 mysql 表中。我正在使用 CakePHP 2.2.4。

我在 CakePHP 文档中发现了这种良好的行为：http: [//book.cakephp.org/2.0/en/core-libraries/behaviors/tree.html](http://book.cakephp.org/2.0/en/core-libraries/behaviors/tree.html)

我已经了解如何使用它，但我想使用不同的参数来查找类别，让我解释一下。

假设有这个Mysql表：（和behavior doc PLUS **slug**栏里报道的一样：

```
CREATE TABLE categories (
    id INTEGER(10) UNSIGNED NOT NULL AUTO_INCREMENT,
    parent_id INTEGER(10) DEFAULT NULL,
    lft INTEGER(10) DEFAULT NULL,
    rght INTEGER(10) DEFAULT NULL,
    name VARCHAR(255) DEFAULT '',
    slug VARCHAR(255) DEFAULT '',
    PRIMARY KEY  (id)
); 
```

这个 slug 列将具有类别的真实“路径”，例如：

```
www.example.com/controller/action/slug 
```

如您所见，我需要在 URL 中传递真实姓名（而不是类别编号）。

然后，我的目的是检索该类别的所有树（slug）。

目前**TreeBehavior**通过传递 ID 过滤类别。我无法通过 ID，我需要通过**slug**

问题是：

我还能使用 TreeBehavior 还是必须扩展它？

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-10-02T07:53:24.753

您需要[SluggableTree 行为](http://bakery.cakephp.org/articles/sky_l3ppard/2009/09/13/sluggabletree-behavior-to-make-tree-based-slugs "SluggableTree 行为")

# python - 使用for循环从列表中打印均匀分布的表格

> ID：13873927
> 
> 赞同：3
> 
> 时间：2012-12-14T06:42:19.327
> 
> 标签：python, for-loop, python-2.x, spacing, tabular

很抱歉问了这个非常基本的问题，但我真的被困在这里......我试过用谷歌搜索这个，并使用搜索功能，但找不到我要找的东西。

我正在尝试从对象列表中打印值表。但是由于“名称”字符串的大小变化很大，它会使整个表格倾斜，使其几乎无法阅读。我试过在**\t**之间添加标签，但列仍然不对齐。我可以在这个打印语句中添加一些东西来制作一个漂亮的直表吗？

```
print "name","level","value"
for i in self.items:
    print i.name, i.lvl, i.value 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-12-14T06:55:33.347

你可以尝试这样的事情：

```
In [1]: headers = ["name","level","value"]

In [2]: vals1 = ["Some long name", "a level", "a value"]

In [3]: vals2 = ["An even longer name", "another level", "another value"]

In [4]: max_lens = [len(str(max(i, key=lambda x: len(str(x))))) for i in zip(headers, vals1, vals2)]

In [5]: for row in (headers, vals1, vals2):
   ...:     print '|'.join('{0:{width}}'.format(x, width=y) for x, y in zip(row, max_lens))
   ...:
   ...:
name               |level        |value
Some long name     |a level      |a value
An even longer name|another level|another value 
```

这会找到数据中行的最大长度并打印一个均匀分布的表格。在这种情况下，`max_lens`用于`zip`将给定“列”中的所有项目压缩在一起（`name`例如，考虑列中的所有项目）。然后，它找到最长字符串的长度（正如@Bakuriu 指出的那样，如果任何字段不是字符串，这些都需要转换为字符串）并将其存储为“列”的长度。然后在迭代中，您指定一个`width`将等于该“列”的最大长度的值，并传入该行上该列的值（希望这有意义:)）。

该`format`方法利用了非常强大的字符串格式化规范。这是一个非常基本的示例，但可以对其进行修改以适应更多动态情况（例如您有很多行的情况等）。

至于它如何处理您的数据的示例，您可以尝试以下示例。请注意，这不是最易读的代码（这在 Python 中很重要），所以如果你要做类似的事情，实际上写出一些`for`循环可能是值得的，这样更明显的是什么继续（因为正如我所说，它有点混淆了:)）：

```
In [1]: class MyClass(object):
   ...:     def __init__(self, a, b, c):
   ...:         self.name = a
   ...:         self.level = b
   ...:         self.value = c
   ...:
   ...:

In [2]: headers = ['name', 'level', 'value']

In [3]: vals1 = MyClass('Some long name', 'a level', 10348)

In [4]: vals2 = MyClass('An even longer name', 'another level', 100008484)

In [5]: items = (vals1, vals2)

In [6]: item_lens = [[getattr(item, x) for x in headers] for item in items]

In [7]: max_lens = [len(str(max(i, key=lambda x: len(str(x))))) for i in zip(*[headers] + item_lens)]

In [8]: print '|'.join('{0:{width}}'.format(x, width=y) for x, y in zip(headers, max_lens))
name               |level        |value

In [9]: for i in items:
   ...:     print '|'.join('{0:{width}}'.format(x, width=y) for x, y in zip([getattr(i, x) for x in headers], max_lens))
   ...:
   ...:
Some long name     |a level      |10348
An even longer name|another level|100008484 
```

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-12-14T06:52:20.433

```
print "%20s %20s %20s" % ("name","level","value")
for i in self.items:
    print "%20s %20s %20s" % (i.name, i.lvl, i.value) 
```

添加格式说明符。[http://docs.python.org/2/library/stdtypes.html#string-formatting-operations](http://docs.python.org/2/library/stdtypes.html#string-formatting-operations)

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-12-14T06:54:59.263

如果您没有项目的最大大小，因此不能使用格式说明符，您可以计算当前最大长度并使用`str.center`（或`str.rjust`）：

```
>>> from collections import namedtuple
>>> Record = namedtuple('Record', ['name', 'lvl', 'value'])
>>> items = [Record('a', 5, 1000), Record('aaaaaa', 15376576, 17.8), Record('aaaaaaaaaaaaaaaa', 7462, 1000)]
>>> max_name_length = len(max(items, key=(lambda x: len(x[0])))[0])
>>> max_lvl_length = len(str(max(items, key=(lambda x: len(str(x[1]))))[1]))
>>> max_value_length = len(str(max(items, key=(lambda x: len(str(x[2]))))[2]))
>>> for item in items:
...     print '%s %s %s' % (item.name.center(max_name_length),
...                         str(item.lvl).center(max_lvl_length),
...                         str(item.value).center(max_value_length))
... 
       a            5     1000
     aaaaaa      15376576 17.8
aaaaaaaaaaaaaaaa   7462   1000 
```

# java - 带有类名的 Java instanceof

> ID：13873933
> 
> 赞同：12
> 
> 时间：2012-12-14T06:42:39.807
> 
> 标签：java, class, instanceof

我只是好奇地问这个问题，也许这很没有意义。

当我们在 java 中使用 instanceof 时，例如：

```
if (a instanceof Parent){ //"Parent" here is a parent class of "a"
} 
```

为什么我们不能像下面这样使用：

```
if (a instanceof Parent.class){
} 
```

从严格编程的角度来看，第二个“instanceof”是否更有意义？“Parent”和“Parent.class”有什么区别？

* * *

## 回答 #1

> 赞同：19
> 
> 时间：2012-12-14T06:47:42.060

> “Parent”和“Parent.class”有什么区别？

后者是*类文字*- 一种访问类型对象的方式`Class<Parent>`。

前者只是一个类的名称，它在各种情况下使用——当调用静态方法、构造函数、强制转换等时。

> 从严格编程的角度来看，第二个“instanceof”是否更有意义？

好吧，不像定义的语言那样 -`instanceof` *只*适用于类型的名称，而*不是*表达式。如果你能写

```
if (a instanceof Parent.class) 
```

那么我*希望*你确实能够写：

```
Class<?> clazz = Parent.class;
if (a instanceof clazz) 
```

...这不是它的工作方式。另一方面，您可以根据需要调用方法*。*`Class.isInstance`

首先，您所说的“严格编程的观点”是什么意思？

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-14T06:47:22.933

`Parent`是一个类，所以第二个例子并不比第一个更有意义。你在问实例是否是类的实例，这`a instanceof Parent`是一个非常直接的表达。

`Parent.class`是 的一个*实例*，`Class`所以即使编译了第二个示例（它没有，右手`instanceof`本身不能是一个实例），它也不会检查您希望它检查的内容。:-)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-14T06:47:35.463

`Parent`是一种类型的名称。 `Parent.class`本质上是一个引用对象（特别是 的实例`Class`）的静态变量。您想问是否`a`是该`Parent`类型的一个实例，而不是它是否是一个对象的一个​​实例，该对象本身就是某个其他类型的实例（名为`Class`）。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-12-14T06:47:47.977

当您编写时`Parent.class`，这意味着您正在`java.lang.Class`为 Parent 类创建一个对象。所以`if (a instanceof Parent.class){ }`这对你不起作用。

有关 Class 类的更多详细信息，请查看以下链接：
[Class](http://docs.oracle.com/javase/1.4.2/docs/api/java/lang/Class.html)

> Class 类的实例表示正在运行的 Java 应用程序中的类和接口。每个数组还属于一个类，该类反映为一个 Class 对象，该对象由具有相同元素类型和维数的所有数组共享。原始 Java 类型（boolean、byte、char、short、int、long、float 和 double）和关键字 void 也表示为 Class 对象。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-12-14T06:48:30.930

静态`Parent.class`成员实际上是一个对象。如果您愿意，可以将其分配给类型`Object`或类型的变量`Class`：

```
Object o = Parent.class;
Class c = Parent.class; 
```

`Parent`另一方面，它不是对象或变量：它是[Type Name](http://docs.oracle.com/javase/specs/jls/se7/html/jls-6.html#jls-6.5.5)，根据 Java 规范。

如果你能做到这一点...

```
a instanceof Parent.class 
```

既然`Parent.class`是一个*对象*，那么你也可以这样做：

```
Cat myCat = new DomesticLonghair();
a instanceof myCat; 
```

......这很愚蠢。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2021-03-18T19:49:36.853

如上所述，这个问题并不愚蠢！

类之间的子类关系由方法定义 `Class<?>.isAssignableFrom()`

```
if (Parent.class.isAssignableFrom(a.getClass()))
{
    // a is instance of Parent or subclass
} 
```

# c# - C# .net exe 在安装了 Visual Studio 2010 的机器上运行，但是在仅安装了 .net 4.0 客户端配置文件的地方没有响应

> ID：13873940
> 
> 赞同：0
> 
> 时间：2012-12-14T06:43:53.577
> 
> 标签：c#, .net

我的问题是我的 C# .Net 可执行文件在安装了 Visual Studio 2010 的机器上运行，但是在仅安装了 .Net 4.0 客户端配置文件的地方没有响应。

可能是什么原因？我试过使用依赖walker，但找不到任何东西。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-12-14T08:22:55.320

虽然所有其他答案都是正确的，但您可以查看解决方案中的“我的项目”页面。在那里您可以找到（并最终更改）使用的网络版本。这比尝试所有网络版本要好...

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-12-14T07:28:21.633

客户端配置文件是 .NET 运行时的一个很小且在大多数情况下不足的子集。而是安装完整的 .NET 4.0 运行时。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-14T06:53:50.050

尝试安装 4.5 Framework 3.5 和 3.0 框架，看看它是否有效。

[http://www.microsoft.com/en-in/download/details.aspx?id=30653](http://www.microsoft.com/en-in/download/details.aspx?id=30653)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-12-14T07:28:18.457

那是因为 VS2010 拥有并支持 .NET Framework 版本（2.0、3.0、3.5、4.0）。因此，请尝试在该机器上安装所有这些以及 4.5 Framework。此外，您可以做的是查看您在哪个框架版本上制作了您的项目，您就会知道您的机器缺少哪个版本。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-05-16T10:36:07.350

尝试在可执行文件不起作用的机器上安装“Microsoft Visual C++ 2010 Redistributable Package”。

# foxpro - FoxPro 9.0 循环遍历表

> ID：13873942
> 
> 赞同：0
> 
> 时间：2012-12-14T06:43:58.707
> 
> 标签：foxpro

是否可以遍历表并从每一行中检索值

```
=================
Contracts.dbf
=================
P01
C04
CH45
T31

counter = 1
Do While 1 < 4
   SomethingSomethingSomething
counter = counter + 1
ENDDO 
```

因此，当计数器 = 1 时，循环返回 P01，计数器 = 2 返回 C04，依此类推。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-14T13:39:55.767

```
SELECT Contracts

SCAN

    m.Counter = 1
    m.Something = ""

    DO WHILE m.Counter <= FCOUNT() 
        m.Something = EVAL(FIELD(m.Counter))
        m.Counter = m.Counter +1
    ENDDO

ENDSCAN 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-14T13:38:06.730

尝试这个：

```
SELECT contracts
SCAN
    x = contracts.fieldname1
    MESSAGEBOX("Value -> " + x)
ENDSCAN 
```

# iphone - 如何在 iOS 6.0 中进行文本对齐？

> ID：13873946
> 
> 赞同：1
> 
> 时间：2012-12-14T06:44:07.303
> 
> 标签：iphone, objective-c, ios, xcode, ios6

我正在使用下面的代码来获取文本，但我不知道如何在 iOS 6.0 中进行文本对齐..所以，请有人帮助我...

```
 cell.textLabel.font=[UIFont fontWithName:@"Arial" size:16.0];
        cell.textLabel.textColor=[UIColor colorWithRed:15.0/255.0 green:122.0/255.0 blue:202.0/255.0 alpha:1.0];
        cell.textLabel.text=[titleArray objectAtIndex:indexPath.row]; 
```

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-01-21T07:39:36.140

经过大量研究，我终于找到了我的问题的答案......

```
label5.textAlignment = NSTextAlignmentLeft; 
```

tnx 给所有帮助过我的人...

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-12-14T06:51:13.260

这是您需要在 iOS 设备中执行的操作

> cell.textLabel.textAlignment = UITextAlignmentCenter;

如果你正在为 MAC 开发一些东西，你应该使用：

> cell.textLabel.textAlignment = NSTextAlignmentCenter;

相应地分配对齐。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-12-14T06:46:27.330

```
 cell.textLabel.textAlignment=NSTextAlignmentLeft;//or whatever you want buddy 
```

让我知道它是否有效...

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-12-14T06:48:04.713

您可以使用以下代码：

```
cell.textLabel.textAlignment = NSTextAlignmentCenter; 
```

希望这可以帮助。

请尝试使用另一个标签并将其添加到单元格中：

在类的顶部编写以下代码：

```
#ifdef __IPHONE_6_0
# define ALIGN_CENTER NSTextAlignmentCenter
#else
# define ALIGN_CENTER UITextAlignmentCenter
#endif 
```

然后添加标签：

```
UILabel* label = [[UILabel alloc] initWithFrame:CGRectMake(0, 0, 200, 30)];
label.text = @"This is a sample text";
label.textAlignment = ALIGN_CENTER;
[cell.contentView addSubview:label];
[label release]; 
```

它有效吗？

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-12-14T06:54:23.303

试试这个人......让我们看看工作与否......

在您的公用文件中写入以下语句（例如 constant.h）

```
#define SYSTEM_VERSION_GREATER_THAN_OR_EQUAL_TO(v) ([[[UIDevice currentDevice] systemVersion] compare:v options:NSNumericSearch] != NSOrderedAscending)

//then to check textalignment for ios 6 or ios 5 write below code .m file where you want to use

if(SYSTEM_VERSION_GREATER_THAN_OR_EQUAL_TO(@"6.0"))
{
 cell.textLabel.textAlignment=NSTextAlignmentLeft;
}
else
{
   cell.textLabel.textAlignment = UITextAlignmentCenter;
} 
```

试试这个 ...

快乐编码！！！！

# html - 是否有任何用于 HTML5 Web 应用程序的性能基准测试工具？

> ID：13873948
> 
> 赞同：0
> 
> 时间：2012-12-14T06:44:20.157
> 
> 标签：html, cordova, mobile

是否有任何性能基准测试工具或最佳实践可用于测试移动 Web 应用程序？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-14T20:08:31.177

谷歌浏览器有一个分析器。这会有所帮助，除非您真的在另一个浏览器中寻找瓶颈。

[https://developers.google.com/chrome-developer-tools/docs/cpu-profiling](https://developers.google.com/chrome-developer-tools/docs/cpu-profiling)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-14T17:54:27.553

您可以按照下面的代码行测量主要代码块的执行时间以查找瓶颈。在目标移动设备上使用这种测量值运行我的应用程序，然后检查日志文件以查找执行时间，这帮助我大大提高了我的应用程序的性能。

```
MeasureExecution = {
    timers: {},
    start: function(name){
        MeasureExecution.timers[name] = new Date().getTime();
    },
    stop: function(name){
        console.log("Execution time for '"+name+"'="+Math.abs(MeasureExecution.timers[name] - new Date().getTime())+"ms");
        delete MeasureExecution.timers[name];
    }
};

MyApp = {
  init: function(){
      // Do some initialisation stuff
      MeasureExecution.start("init");
      MyApp.doExpensiveStuff(); 
      MeasureExecution.stop("init");

      // Do some asynchronous stuff
      for(var i=0; i<10; i++){
          MyApp.startAsync(i);
      }         
  },

  doExpensiveStuff: function(){
      for(var i=0; i<10000; i++){
        for(var j=0; j<10000; j++){
        }    
      }
  },

  startAsync: function(id){
      MeasureExecution.start("async-"+id);
      window.setTimeout(function(){          
        MyApp.doAsync(id);                                 
      }, Math.floor(Math.random() *100));          
  },
  doAsync: function(id){
      MyApp.doExpensiveStuff();       
      MeasureExecution.stop("async-"+id);
  }     
};

MyApp.init(); 
```

# objective-c - 滚动视图中的文本字段没有调用 IBAction

> ID：13873950
> 
> 赞同：0
> 
> 时间：2012-12-14T06:45:01.483
> 
> 标签：objective-c, ios, cocoa-touch, uiscrollview

我有一个 ScrollView 它是 View 的子级，然后有几个文本字段作为子级

这个滚动视图。我正在尝试通过 nib 为这些文本字段提供 IBAction 并设置

文本字段的代表也通过 nib。 UITextField 的委托方法被调用

没有任何问题，但永远不会调用 TextField 的 IBAction。我的视图层次结构是

如下

```
 UIView -->(TopMost Level )
   |
 ScrollView-->(Child of UIView)
   |
 Several TextFields-->(children of Scrollview) 
```

所有的 TextFields 都具有相同的 IBAction。我正在研究 Xcode 4.5 并致力于

基于 ARC 的项目。任何帮助是极大的赞赏。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-14T07:13:38.613

最后，我解决了自己的问题并找到了解决方案。

我正在使用 Touch Down Event 声明 IBAction，如果 TextField 是

在 UIView 里面不是 ScrollView。

但是当 TextField 在 ScrollView 内时， TextField 的 IBAction 应该是

用 EditingDidBeginEvent 声明。

我不知道它背后的原因。

# objective-c - Cocoapods：如何为 3rd 方库创建自己的 pod？

> ID：13873955
> 
> 赞同：1
> 
> 时间：2012-12-14T06:45:34.807
> 
> 标签：objective-c, ios, cocoapods

我正在使用 Cocoapods，我使用的库之一是 ZUUIRevealController，目前 Cocoapods 中的版本是 0.9.6，这不是最新的，如果我想为此创建自己的 pod，这样做的步骤是什么?

谢谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-14T13:43:26.673

## 为所有人更新：

好的，所以所有的 cocoapods 都保存在一个大规格存储库[Here](https://github.com/cocoaPods/Specs/)中。我们想深入到 repo 的[ZUUIRevealController](https://github.com/CocoaPods/Specs/tree/master/ZUUIRevealController)部分。我们只能看到 0.9.6，这就是 cocoapods 知道它是什么版本的方式。

因此，fork cocoa pods spec 存储库并在 SublimeMate Pro 中打开该文件夹。您将希望将下一个版本添加到此文件夹，因此假设您将使用 0.9.7。为此创建一个文件夹并将其复制到版本 0.9.6 的 ZUUIRevealController.podspec 上。

新的 podspec 需要进行一些更改，因为它引用了 git 标签“v0.9.6”，理想情况下您希望使用 0.9.7。现在我已经为你检查过了，没有 0.9.7，这意味着你必须创建一个问题，要求一个新标签，[有人已经这样做了。](https://github.com/pkluz/ZUUIRevealController/issues/66)

使用 repo 中的新标签，您可以将该标签移动到您的 podfile 中。然后在 Specs 目录中运行`pod specs lint ZUUIRevealController`，它将告诉您 podspec 是否通过或失败 linting。如果您不这样做，它将在您的拉取请求中自动完成，并且很可能是我告诉您如何修复它。

如果通过，您可以提交该更改并向github 上的[Cocoapods/Specs 存储库提交拉取请求。](https://github.com/CocoaPods/Specs/)

## 只为您更新：

在您的 podspec 中，您可以设置要覆盖普通 podfile 提交的提交（例如）

`pod 'ZUUIRevealController', :git => 'git://github.com/orta/ZUUIRevealController', :commit => 'd4c9d810e0f0d1982472c8d1d5469841b09854ab'`

这可能需要先删除您的`Pods`目录，因为它可能已经缓存了 url / commit。

# iphone - 在 ipad 中处理设备运动

> ID：13873960
> 
> 赞同：0
> 
> 时间：2012-12-14T06:46:12.437
> 
> 标签：iphone, objective-c, ios, xcode

我正在创建一个类似于赛车的应用程序，我需要知道当我稍微转动 ipad 时如何移动 uiview。即，如果我将 ipad 向右转动，则视图必须根据设备运动向右移动。我用过，

```
 -(void) motionEnded:(UIEventSubtype)motion withEvent:(UIEvent *)event
{
if(event.subtype==UIEventSubtypeMotionShake)
{
    // Code at shake event

    UIAlertView *alert=[[UIAlertView alloc] initWithTitle:@"Motion" message:@"Phone Vibrate"delegate:self cancelButtonTitle:@"OK" otherButtonTitles: nil];
    [alert show];

}
} 
```

查找设备何时晃动。我需要知道我什么时候稍微转动 ipad。

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2012-12-14T06:48:36.070

```
-(BOOL) canBecomeFirstResponder {

return YES;

}

 -(void)motionEnded:(UIEventSubtype)motion withEvent:(UIEvent *)event 
 {

   if(event.subtype == UIEventSubtypeMotionShake)            
  {

    // YOUR STUFF

  }

} 
```

只需编写上面的代码即可使摇动手势起作用...

让我知道它是否有效！！！！

快乐编码...!!!

# python - 带有 python 解释器的工作人员在中间敲击并要求键盘中断

> ID：13873966
> 
> 赞同：1
> 
> 时间：2012-12-14T06:46:38.010
> 
> 标签：python, multithreading

我正在使用 STAF 在进程之间排队消息。我用python编写了代码，它也有线程来服务来自服务器进程的每个请求。

当我运行这些进程时，它们在执行过程中被触发（暂停，并在键盘中断时恢复）。

是 Python 解释器的问题吗？因为当我在 PyScripter IDE 调试模式下运行代码时，没有这样的问题。

感谢您提前回复。

# iphone - 来自 Plist 的凭据匹配

> ID：13873968
> 
> 赞同：1
> 
> 时间：2012-12-14T06:46:49.723
> 
> 标签：iphone, ios, xcode, plist

我有一个`plist`带有`Array`标题和`item0`,`item1`的`item2`字典来存储我的应用程序的标题和密码。现在我想检查登录过程

![进入这里](../Images/e40e289ef2be12425a5bdeff2255f49e.png) 现在我想检查通过，当我按下提交按钮登录时，项目应该匹配。我尝试了下面的代码，但 xcode 崩溃

```
-(void)authenticateCredentials 
{ 
NSMutableArray *plistArray = [NSMutableArray arrayWithArray:[self readFromPlist]]; 

for (int i = 0; i< [plistArray count]; i++) 
{ 
 if ([[[plistArray   objectAtIndex:i]objectForKey:@"pass"]isEqualToString:emailTextFeild.text] && [[[plistArray objectAtIndex:i]objectForKey:@"title"]isEqualToString:passwordTextFeild.text]) 
{ 
NSLog(@"Correct credentials"); 
 return;
} 
   NSLog(@"INCorrect credentials"); 
 } 
 } 
```

和

```
-(NSArray*)readFromPlist
 {
   NSArray *documentPaths = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory,
  NSUserDomainMask, YES); 
  NSString *documentsDirectory = [documentPaths objectAtIndex:0];
 NSString *documentPlistPath = [documentsDirectory stringByAppendingPathComponent:@"XYZ.plist"];

   NSDictionary *dict = [NSDictionary dictionaryWithContentsOfFile:documentPlistPath];

   NSArray *valueArray = [dict objectForKey:@"title"];

   return valueArray;

 } 
```

xcode 崩溃了..请检查 `-(void)authenticateCredentials`我不正确的地方？

**并且** 当我选择`submit`按钮时崩溃，它不会在 nslog 中给出任何正确或不正确的输出，`Xcode`然后崩溃，带有错误

```
 2012-12-14 12:10:45.142 NavTutorial[1661:f803] emailEntry: hi@gmail.com.com
2012-12-14 12:10:45.145 NavTutorial[1661:f803] passwordEntry: hellohello
2012-12-14 12:10:45.153 NavTutorial[1661:f803] -[__NSCFConstantString objectForKey:]:   unrecognized selector sent to instance 0x1568cd8
2012-12-14 12:10:45.155 NavTutorial[1661:f803] *** Terminating app due to uncaught exception 'NSInvalidArgumentException', reason: '-[__NSCFConstantString objectForKey:]:     unrecognized selector sent to instance 0x1568cd8'
 *** First throw call stack:
(0x14d7052 0x11c2d0a 0x14d8ced 0x143df00 0x143dce2 0x3981 0x14d8ec9 0x3735c2 0x37355a 0x418b76 0x41903f 0x417e22 0x39893f 0x398c56 0x37f384 0x372aa9 0x1bcdfa9 0x14ab1c5 0x1410022 0x140e90a 0x140ddb4 0x140dccb 0x1bcc879 0x1bcc93e 0x370a9b 0x211d 0x2095 0x1)
terminate called throwing an exception 
```

**两天前，同样的代码运行**良好****

 ****如果我将断点设置为条件**，**`IF`稍后如果在条件之后失败。**

 *** * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-14T07:09:19.957

`authenticateCredentials`如下所示修改您的并检查它是否正常工作。如果它显示错误消息为`Error! Not a dictionary`，您需要检查您的 plist 是否具有正确的结构。大多数情况下，您`[objDict objectForKey:@"pass"]`返回的是不同的数据类型。

```
- (void)authenticateCredentials {
    NSMutableArray *plistArray = [NSMutableArray arrayWithArray:[self readFromPlist]];

    for (int i = 0; i< [plistArray count]; i++)
    {
        id object = [plistArray objectAtIndex:i];

        if ([object isKindOfClass:[NSDictionary class]]) {
            NSDictionary *objDict = (NSDictionary *)object;

            if ([[objDict objectForKey:@"pass"] isEqualToString:emailTextFeild.text] && [[objDict objectForKey:@"title"] isEqualToString:passwordTextFeild.text])
            {
                NSLog(@"Correct credentials");
                return;
            }
            NSLog(@"INCorrect credentials");
        } else {
             NSLog(@"Error! Not a dictionary");
        }
    }
} 
```****

# php - 设置鼠标悬停时图像需要更改的时间

> ID：13873969
> 
> 赞同：1
> 
> 时间：2012-12-14T06:47:01.657
> 
> 标签：php, javascript

我想在 JavaScript 中设置鼠标悬停功能的时间。

我的代码如下。

```
<img class="product-image" 
  src='<?php echo $item['0']; ?>' 
  onmouseover="this.src='<?php echo $item2['0']; ?>'" 
  onmouseout="this.src='<?php echo $item['0']; ?>'" />. 
```

此代码工作正常，但我想设置图像在鼠标悬停事件上替换的时间。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-14T07:08:38.820

`t`您可以创建此 JavaScript 函数以仅在毫秒后更改图像。

```
function delayedImage(obj, src, t)
{
  setTimeout(function() {
    obj.src = src;
  }, t);
} 
```

然后使用这个 HTML：

```
<img class="product-image" 
  src='<?php echo $item['0']; ?>' 
  onmouseover="delayedImage(this, '<?php echo $item2['0']; ?>', 2000)" 
  onmouseout="delayedImage(this, '<?php echo $item['0']; ?>', 2000)" /> 
```

也许你不需要它`mouseout`，但这很容易改变:)

# python - 在 Django 模板中渲染画布

> ID：13873972
> 
> 赞同：0
> 
> 时间：2012-12-14T06:47:16.373
> 
> 标签：python, html, django, django-templates, matplotlib

我在 django 应用程序中使用 matplotlib 库来创建图表。

我正在尝试借助[thread](https://stackoverflow.com/questions/1874642/how-to-use-matplotlib-in-django)将 matplotlib 库的画布对象渲染为 django 模板。

有没有办法在 django 模板中只渲染画布对象？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-04T12:44:13.100

还有另一种方法可以做到这一点。我在本地媒体目录中使用 matplotlib 库的“figure.savefig”函数保存了图形，并使用 django 模板加载了图形。生成图形的视图将图形位置和名称传递给 django 模板。

# assembly - 如何从多个 C 文件中获取单个程序集？

> ID：13873976
> 
> 赞同：2
> 
> 时间：2012-12-14T06:47:30.577
> 
> 标签：assembly, merge

我已经构建了一个包含多个源文件的 C 项目，我想将这些文件编译成`a single assembly`. 我怎样才能做到这一点？

GCC 就是帮不了我。我尝试了两种方法，但都失败了。

1.  当我`-S`在 Makefile 中添加选项时，我得到的唯一结果是很多汇编文件。

2.  首先，我编译了项目并得到了一个 ELF 文件。然后我`deassembly`使用`dumpobj`工具那个ELF文件，最后我得到了汇编文件，但是有很多冗余并且也不匹配汇编格式。

那么，我怎样才能获得单个组件？我能做的唯一方法是将源文件合并到一个 C 文件中吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-11-19T00:49:53.603

尝试使用`-combine`with`-S`创建单个程序集文件。

* * *

资料来源：[迈克尔](https://stackoverflow.com/users/1524450/michael)

# java - Exception while calling java method from cpp using JNI

> ID：13873985
> 
> 赞同：2
> 
> 时间：2012-12-14T06:48:07.303
> 
> 标签：java, c++, java-native-interface, cocos2d-x

I am getting the following error while trying to call a function in java from cpp class to save a boolean in memmory. I am using a class called MyAdapter.cpp to call function to MyAdapterJni.cpp. I have following function written in MyAdapterJni.cpp

```
bool GetBooleanJni(const char *key, bool defaultValue)
{
     cocos2d::JniMethodInfo methodInfo;
    jboolean ret = false;
    if (! getStaticMethodInfo(methodInfo, "GetBoolean", "(Ljava/lang/String;Z)Z"))
    {
        return ret;
    }
    ret = methodInfo.env->CallStaticBooleanMethod(methodInfo.classID, methodInfo.methodID, defaultValue);
    methodInfo.env->DeleteLocalRef(methodInfo.classID);

    return ret;
} 
```

and i have following function in myManager.java class

```
public static boolean GetBoolean(String key, boolean defaultValue)
{
    return sharedPreferences.getBoolean(key, defaultValue);
} 
```

i get the following log on my logcat

> 12-14 12:06:32.024: W/dalvikvm(9575): Exception Ljava/lang/NullPointerException; thrown while initializing Lcom/mygames/Game/MyManager;
> 
> 12-14 12:06:32.024: D/libMyManager(9575): Failed to find static method id of GetBoolean

My java class is inside package com.mygames.Game

Can anyone please tell me what can possibly cause this error

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-14T08:00:31.643

The initialization of `MyManager` throws a `NullPointerException`, which probably prevents determining the method id, so you might want to look at that. Note that not only the class initializer could throw this but also initialization of any static fields. You could put all initialization into the class initializer and then debug from there, something there must be `null`.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-17T17:15:37.313

Try to get the instance of the activity in which you running this (say cocos2dxActivity) and do the implementation in runonUiThread....

```
public static boolean GetBoolean(String key, boolean defaultValue) {
Cocos2dxActivity.getInstance().runOnUiThread(new Runnable() {

        @Override
        public void run() {
                 return sharedPreferences.getBoolean(key, defaultValue);   
        }
    });

    }
} 
```

**Note:** It might give you some error of making function parameters. Hope you understood if not please feel free to ask ...

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-12-18T12:18:34.693

i was also having this issue, and in my case, running my java method functionality on main UI thread solved my problem. e.g. inside your java method

```
Activity ac=(Activity) context;
     ac.runOnUiThread(new Runnable() 
     {
         public void run() 
            {
                 //your code here
            }
     }); 
```

# asp-classic - 经典 ASP 的 ASPSESSIONID 缺少 HTTPONLY 属性

> ID：13873987
> 
> 赞同：-1
> 
> 时间：2012-12-14T06:48:10.830
> 
> 标签：asp-classic, iis-6, pci-compliance, httponly

我正在尝试找到一种方法来在为经典 ASP 站点自动生成的 ASPSESSIONID cookie 上启用 HTTPONLY。我知道 .NET 2.0+ 站点的 ASP 会话 cookie 默认为 HTTPONLY，但我需要为经典 ASP 配置它。我曾尝试使用 HTTPONLY.dll 过滤器，但该 ISAPI 过滤器仅适用于手动创建的 cookie。

在这一点上，使用 F5 不是一个选项。请让我知道是否有一种方法可以在不升级到 IIS7 且仅使用 IIS6 的情况下执行此操作。谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-11T18:44:00.430

如果您在 IIS 6 上运行经典 ASP 应用程序，我不相信有办法做到这一点。如果您在 IIS 7/7.5 上运行经典 ASP 网页，那么您可以使用 IIS URL Rewrite 模块编写一个使您的 cookie 成为 HTTPOnly 的规则。详情见这里：[http ://forums.iis.net/t/1168473.aspx/1/10](http://forums.iis.net/t/1168473.aspx/1/10)

# java - Java JFrame 不显示（只是标题栏）

> ID：13873989
> 
> 赞同：2
> 
> 时间：2012-12-14T06:48:16.087
> 
> 标签：java, swing, user-interface, jframe

我知道这是非常简单的事情，但作为一个完整的 Java 新手，我很想念它，有人指出它会很有帮助。我盯着屏幕移动了一些东西，但仍然一无所获。

屏幕截图： http: [//i.imgur.com/dwH60.png](http://i.imgur.com/dwH60.png) 这就是运行时出现的所有内容。

全GUI.java：

* * *

```
import java.awt.BorderLayout;
import javax.swing.JFrame;
import javax.swing.JRadioButton;
import javax.swing.JTextArea;

public class fullGUI extends JFrame

{
    JFrame frame = new JFrame(); //creates frame

    public fullGUI() // constructor
    {
        //setLayout(new BorderLayout());
        //add(new shipGrid(), BorderLayout.NORTH);
        //add(new shipGrid(), BorderLayout.NORTH);
        add(new JRadioButton("Horizontal"), BorderLayout.WEST);
        add(new JRadioButton("Vertical"), BorderLayout.WEST);
        add(new JTextArea("Instructions to player will go here"), BorderLayout.CENTER);
        frame.setSize(400,600);
        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
        frame.setTitle("Battleship!");
        frame.pack(); //sets appropriate size for frame
        frame.setVisible(true);
    }

} 
```

* * *

……打电话给……

测试.java

* * *

```
public class test 
{

     public static void main(String[] args) 
     {

         new fullGUI();

     }

} 
```

* * *

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-14T06:55:38.277

1.  用大写字母命名Java中的类
2.  `FullGUI`已经扩展`JFrame`，因此无需在`JFrame`其中创建另一个
3.  调用`getContentPane.add()`添加到`JFrame`
4.  采用`SwingUtilities.invokeLater`

所以总的来说是这样的

```
import java.awt.BorderLayout;
import javax.swing.JFrame;
import javax.swing.JRadioButton;
import javax.swing.JTextArea;

public class FullGUI extends JFrame

{
    public FullGUI() // constructor
    {
        getContentPane().add(new JRadioButton("Horizontal"), BorderLayout.WEST);
        getContentPane().add(new JRadioButton("Vertical"), BorderLayout.WEST);
        getContentPane().add(new JTextArea("Instructions to player will go here"), BorderLayout.CENTER);
        setSize(400,600);
        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
        setTitle("Battleship!");
        pack(); //sets appropriate size for frame
        setVisible(true);
    }

}

public static void main(String[] args) {
    SwingUtilities.invokeLater(new Runnable() {

        @Override
        public void run() {
            new FillGU();
        }
    });
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-12-14T07:17:22.493

问题是您在类中扩展 JFrame 并创建新对象“框架”。您正在将 JRadioButton 或 JTextArea 等组件添加到 fullGUI 中，并且 JFrame 的其他设置适用于框架对象。您将选择哪种方法取决于您，但请选择其中一种。您可以扩展 JFrame，您的类将成为 JFrame 的子类，这意味着您可以从父类调用所有公共或受保护的方法，无需创建 JFrame 的新实例。另一种方法是不扩展 JFrame，您必须创建新的 JFrame 对象。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-12-14T07:34:38.840

frame.pack() 导致您的 JFrame 根据其内容调整大小。

如果你有 frame.setSize(400,600)，即使你没有向它的内容窗格添加任何东西，框架也会以 400x600 的大小显示。

但是当你调用 frame.pack() 时，框架会调整大小。在您的情况下，您的框架的内容窗格不包含任何内容。因此 pack() 方法将其大小调整为仅您的标题栏。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-12-14T07:23:01.657

正如 Nikolay Kuznetsov 在之前的回答中所说，您已经在 fullGUI 中扩展了 Jframe，因此无需在该类中创建新的 Jframe，因为 FullGUI 的每个实例都将是一个新框架。

随着你的代码发生的事情是你已经创建了一个框架，比如 frame1 和 fullGUI（在 main 方法中）的实例说 frame2，这是两个不同的框架。在构造函数中，您已将这些控件添加到 frame2 (add()==this.add()) 并表示 frame1.setvisible(true);

将控件添加到一帧并显示完全不同的帧是您无法在输出屏幕上看到任何内容的原因，尽管您会最大化屏幕。

# java - 使用 Java 进行查询结果缓存：有更好的方法吗？

> ID：13873991
> 
> 赞同：1
> 
> 时间：2012-12-14T06:48:20.973
> 
> 标签：java

我有一个 ClassA 类，它调用另一个类（DAO）来获取查询结果。在特定的业务场景中，

ClassA 使用查询参数调用 DAO 大约 20,000 次。其中，大约 10,000 次 ClassA 向 DAO 发送相同的查询参数集。显然，Resultset 将是相同的并且可以被缓存。

以下是我实现的代码。

```
Class A

{

.
.
.
.

Map<String, CachData> cachDataMap= new HashMap<String, CachData>();

priavate void getQueryResults(String queryParam)    
{

try {

            Set<String> cacheSet = cachDataMap.keySet();
            CachData cachData = null;
            if(!cacheSet.contains(queryParam))
            {
                dao.getResuslts((queryParam)));
                cachData = new CachData();
                cachData.setResult0(__getStringResult(0));
                cachData.setResult1(__getStringResult(1));
                cachData.setResult2(__getStringResult(2));
                cachData.setResult3(__getStringResult(3));
                cachData.setResult4(__getStringResult(4));
                cachData.setResult5(__getStringResult(5));
                cachDataMap.put(queryParam, cachData);
            }else
            {
                cachData = cachDataMap.get(queryParam);
            }

        } catch(Exception e) {
            //handle here
        }

} 
```

除了使用任何框架，我们还有其他更好的解决方案吗？更好的数据结构或更好的方法.. 为了获得良好的性能？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-14T06:53:44.717

您可以使用[ehcache](http://ehcache.org/)。

无论您做什么，都不要使用 Map 作为缓存的接口。一个好的缓存接口将允许实现对缓存进行清理。地图合约不允许这样做。

根据实现，清理可以基于缓存中的时间，或者基于使用统计，或内存可用性，...

您在此处使用的 Map 方法似乎在较长的使用期内容易出现内存不足的情况。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-14T06:51:58.107

您可以使用[guava 库](http://code.google.com/p/guava-libraries/)中的表并使用[ehCache](http://ehcache.org/)将对象按原样保存，键是查询。

# android - Android - 从相机拍摄的裁剪图像具有可调整大小、独立的裁剪区域的高度和宽度

> ID：13873994
> 
> 赞同：0
> 
> 时间：2012-12-14T06:48:33.963
> 
> 标签：android, image, android-camera, crop

我正在开发应用程序，我想裁剪从相机拍摄的图像并上传到 sftp 服务器。我正在使用以下代码裁剪图像：

```
BitmapFactory.Options opts = new BitmapFactory.Options();
opts.inSampleSize = 1; 
Bitmap bm = BitmapFactory.decodeFile(imagePath, opts);
Intent intent = new Intent("com.android.camera.action.CROP");              
intent .setDataAndType(outputFileUri, "image/*");
intent.putExtra("outputX",bm.getWidth());
intent.putExtra("outputY", bm.getHeight());
intent.putExtra("aspectX", 1);
intent.putExtra("aspectY", 1);
intent.putExtra("scale", true);
intent.putExtra("return-data", false); 
startActivityForResult(intent, 2); 
```

有了这个，我得到了一个可调整大小的矩形。但是，在调整裁剪区域宽度和高度的大小时，会像这样按比例变化。 ![在此处输入图像描述](../Images/b8bec6c565fad8a5fb1f3e544f8761e9.png)

[我想像在PhotoCrop 应用程序](https://play.google.com/store/apps/details?id=com.colors.photo.crop&feature=search_result)中一样独立更改裁剪区域的宽度和高度

![在此处输入图像描述](../Images/269fa1c98e42993fef18117b79d9e28c.png)

我希望你明白我的问题。

**编辑：** ****此外，图像裁剪不适用于三星 Galaxy S3，另一件事是，当我调整裁剪区域的大小时，它会过度缩放图像并且图像变得模糊..****

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-12-14T07:01:50.893

试试这个 ：

```
 intent.putExtra("aspectX", 0);
 intent.putExtra("aspectY", 0); 
```

希望它可以帮助你。

谢谢。

# c# - 对 .txt 文件中的拆分文本求和

> ID：13873999
> 
> 赞同：0
> 
> 时间：2012-12-14T06:49:00.283
> 
> 标签：c#

我想总结所有片[1]

```
 private async void search()
    {
        if (tbs.Text != null)
        {
            var files = await ApplicationData.Current.LocalFolder.GetFileAsync(logid.Text + ".txt");
            var lines = await FileIO.ReadLinesAsync(files);
            var pattern = tbs.Text;  
            foreach (string line in lines.Where(line => line.Contains(pattern)))
            {

            }
        }
    } 
```

每条线都是这样的
收入 10000
收入 20000

我想总结所有第二部分（片[1]）
如何做到这一点？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-14T06:54:31.367

假设您有如下列表，您可以得到总和：

```
List<string> list = new List<string>() { "income 10000", "income 20000", "income 30000" };
var sum = list.Sum(r => int.Parse(r.Split(' ')[1])); 
```

以上假设您将在拆分数组中至少有 2 个元素，并且它在索引 1 上的项目是整数类型。对于以上内容，您将得到结果`60000`

如果你想使用**[int.TryParse](http://msdn.microsoft.com/en-us/library/system.int32.tryparse.aspx)**那么：

```
var sum = list.Sum(r => { int i; 
                          return int.TryParse(r.Split(' ')[1], out i) ? i : 0; }); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-14T06:54:28.947

您可以使用[string.Split](http://msdn.microsoft.com/en-us/library/system.string.split.aspx)方法来做到这一点，使用空格字符作为分隔符。它将返回一个字符串数组，数量将是第二个元素。

然后使用[int.TryParse](http://msdn.microsoft.com/en-us/library/system.int32.tryparse.aspx)将字符串值转换为 int以计算总和。

```
 private async void search()
    {
        if (tbs.Text != null)
        {
            var files = await ApplicationData.Current.LocalFolder.GetFileAsync(logid.Text + ".txt");
            var lines = await FileIO.ReadLinesAsync(files);
            var pattern = tbs.Text;  
            var sum = 0;
            foreach (string line in lines)
            {
                var elements = line.Split(' ');
                int value;
                if (int.TryParse(elements[1], out value))
                {
                    sum += value;
                }
            }
        }
    } 
```