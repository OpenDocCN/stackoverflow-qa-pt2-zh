# StackOverflow 问答 15516000-15516999

# marionette - 在 Marionette CollectionView 中，如何将模型的索引（在集合中）传递给 ItemView？

> ID：15516000
> 
> 赞同：6
> 
> 时间：2013-03-20T05:26:18.537
> 
> 标签：marionette

我有一个 CollectionView

```
class MyCollectionView extends Backbone.Marionette.CollectionView
  itemView: MyItemView

  itemViewOptions: ->
    {
      indexInCollection: ?
    } 
```

我希望 MyItemView 知道它的模型在集合中的哪个索引处。

我想，在 MyItemView 中，我可以通过

```
@model.collection.indexOf(@model) 
```

但是有没有办法使用一些内部 Marionette 机制将它从我的 Marionette CollectionView 直接传递到 MyItemView 中？这个索引是否已经暴露在某个地方？

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2013-03-20T13:59:00.543

,`itemViewOptions`当设置为函数时，接收一个`item`or`model`参数。使用它来查找索引：

```
 class MyCollectionView extends Backbone.Marionette.CollectionView
  itemView: MyItemView

  itemViewOptions: (model) ->
    {
      indexInCollection: this.collection.indexOf(model)
    } 
```

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2015-04-01T23:44:49.670

从 Marionette 2.0.0 开始，您可以使用**childViewOptions**函数：

```
var CollectionView = Marionette.CollectionView.extend({
  childViewOptions: function(model, index) {
    // do some calculations based on the model
    return {
      foo: "bar",
      childIndex: index
    }
  }
}); 
```

[如childViewOptions](http://marionettejs.com/docs/v2.4.1/marionette.collectionview.html#collectionviews-childviewoptions)的 Marionette 文档中所述

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-11-26T14:26:47.303

只需添加上一个答案，如果您想在其中一个视图模板中使用其中一个选项，您可以简单地这样做：

```
class Run.Question extends Backbone.Marionette.ItemView
    template: "mock/run/question"
    initialize: ->
        @model = @model.set index: @options.index

class Run.Content extends Backbone.Marionette.CompositeView
    template: "mock/run/content"
    itemView: Run.Question
    itemViewContainer: "div.data-box"
    itemViewOptions: (model) ->
        {
            index: @collection.indexOf(model) + 1
        } 
```

这样，您可以访问模板中的“索引”变量。

# sql-server-2008 - 为同一条记录创建历史记录的 sql 更新查询

> ID：15516002
> 
> 赞同：0
> 
> 时间：2013-03-20T05:26:22.070
> 
> 标签：sql-server-2008

我有一个`enquiry details`表格，在这个表格中，用户需要更新他们的特定查询状态。如果我使用更新语句，它会覆盖以前的状态更新。

我需要的是

```
sno     confname         region       enquiry   status update    date of update
 1     Vision 2020   Madhya Pradesh    test    have to follow     16/03/2013
                                                next week     
 1     Vision 2020    Madhya Pradesh   test    Confirmed the
                                                product. Product  20/03/2013
                                                to be deliver. 
```

但我现在得到的是

```
sno     confname         region       enquiry   status update    date of update
 1     Vision 2020    Madhya Pradesh   test    Confirmed the
                                                product. Product  20/03/2013
                                                to be deliver. 
```

我需要获取特定查询的历史记录..

感谢您的意见和帮助。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-20T06:47:58.543

建议你有一个单独的历史表，而不是使用TRIGGER，每次更新时，使用[update ... output delete.* into history table]

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-20T06:11:00.943

这就是你如何实现你想要的。使用`TRIGGER`.

```
CREATE TRIGGER trigg_TriggerName
ON yourFIRSTTableName
AFTER UPDATE
AS

INSERT INTO yourSECONDTableName
    SELECT * FROM DELETED 
```

只需创建一个`trigger`这样的。因此，每当您`update`在父表上执行操作时，您的第二个表将`inserted`包含父表中的旧记录。

此外，如果您想了解更多关于什么`DELETED`是，请在此处了解有关[MAGIC TABLES的更多信息](https://stackoverflow.com/questions/851189/what-are-the-magic-tables-available-in-sql-server-2000)

# c - 使用 GDB 调试 json_t 对象

> ID：15516003
> 
> 赞同：0
> 
> 时间：2013-03-20T05:26:23.397
> 
> 标签：c, json, debugging, gdb

我有一个 C 编程应用程序，它使用 jansson 库（用 C 编写的 json 库）。我正在尝试在 gdb 中查看 json_t 对象的值，但它只是打印

```
(gdb) p jmsg
$20 = (json_t *) 0x69c350
(gdb) p *jmsg
$21 = {type = JSON_OBJECT, refcount = 1} 
```

如何在 gdb 中查看 json_t 的值？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2020-05-30T00:42:24.277

在 GDB 中，您可以直接进行函数调用。Jansson 库有一个 json_dumps(json_t *, int flags) API，它返回 json_t 对象的 char* 字符串。

因此，在 GDB 中，只需执行以下操作：

```
(gdb) call json_dumps(obj, 0) 
```

然后 GDB 将打印您的 json 对象的字符串输出。

# haskell - 如何在 hamlet 中使用 $mabe

> ID：15516004
> 
> 赞同：4
> 
> 时间：2013-03-20T05:26:25.457
> 
> 标签：haskell, yesod, hamlet

在 Yesod 中，我有一个填充类型的表单

```
data Field = Field Text Text text
  deriving Show 
```

当我编写 hamlet html 来显示它时，我遇到了 Field 包含在 Maybe 中的问题`Maybe Field`。所以在小村庄我正在尝试执行以下操作，如下[所示](http://www.yesodweb.com/book/shakespearean-templates)

（postHomeR 函数中的片段）

```
let fieldData = case result of
      FormSuccess res -> Just res
      _               -> Nothing 
```

（在小村庄文件中）

```
<ul>
  $maybe (Field one two three) <- fieldData
  <li>#{show one} 
```

但是，编译时出现`Not in scope: one`错误。为什么变量 one 没有正确创建/填充？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-20T06:50:21.673

您需要缩进 <li> 以便它位于 $maybe 块内。就像现在一样，它是 $maybe 的兄弟，因此 $maybe 绑定的变量不在范围内。

# java - 自动构建并推送 zip/tar.gz 到网站目录

> ID：15516008
> 
> 赞同：0
> 
> 时间：2013-03-20T05:27:03.950
> 
> 标签：java, git, ant, build, web

我正在尝试自动化我的项目的“夜间”构建。我想获取 git repo 的头部并使用 ant 构建脚本进行编译，然后打包成 zip 和 tar.gz，然后推送到网站上的目录（ftp、scp 或 sFtp 都是文件选项）。我想我需要像 Altassian 的 Bamboo 这样的东西，但这对我目前的爱好项目来说太贵了。我是否走在正确的轨道上并且需要继续寻找类似的东西，有没有更好的方法 - 有什么想法吗？

谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-20T05:31:29.320

有免费的开源替代品。例如，您可以使用[jenkins](http://jenkins-ci.org/)来执行此操作

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-20T05:31:23.963

试试[哈德逊](http://hudson-ci.org/)

许多项目都使用它。

# requirejs - 如何用 yeoman Gruntfile.js 用 almondjs 替换 requirejs？

> ID：15516012
> 
> 赞同：2
> 
> 时间：2013-03-20T05:27:31.810
> 
> 标签：requirejs, yeoman, almond

所以我使用 yeoman init 创建了一个项目，它使用了 requirejs，我希望用 almondjs 替换 requirejs 以使其加载更快。我怎样才能做到这一点？

AlmondJS 在这里：[https ://github.com/jrburke/almond](https://github.com/jrburke/almond)

RequireJS 在这里：[http ://requirejs.org/](http://requirejs.org/)

约曼：http: [//yeoman.io/](http://yeoman.io/)

* * *

在 Gruntfile.js 中唯一提到 require.js 是：

```
// rjs configuration. You don't necessarily need to specify the typical
// `path` configuration, the rjs task will parse these values from your
// main module, using http://requirejs.org/docs/optimization.html#mainConfigFile
//
// name / out / mainConfig file should be used. You can let it blank if
// you're using usemin-handler to parse rjs config from markup (default
// setup)
rjs: {
  // no minification, is done by the min task
  optimize: 'none',
  baseUrl: './scripts',
  wrap: true,
  name: 'main'
}, 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-20T05:34:59.837

确保您使用的是 Yeoman 1.0 而不是早期版本。它使用支持杏仁的 grunt-requirejs。rjs 用于 1.0 之前的版本。

[请参阅https://github.com/asciidisco/grunt-requirejs/blob/master/docs/almondIntegration.md](https://github.com/asciidisco/grunt-requirejs/blob/master/docs/almondIntegration.md)上的文档。看来您可能需要做的就是`almond: true`在 Gruntfile 中添加 requirejs 的选项（或者不取决于您想要做什么——再次参见文档）。

# c# - 使用“Control.CheckForIllegalCrossThreadCalls = false”是个好主意吗

> ID：15516014
> 
> 赞同：4
> 
> 时间：2013-03-20T05:27:49.597
> 
> 标签：c#, multithreading, winforms, delegates, event-handling

我有一个从串口接收数据的类。我曾经`action<T> delegate`将数据传递给在文本框中显示的表单。问题是我无法访问`textbox`控件，因为它说：`Cross-thread operation not valid: Control accessed from a thread other than the thread it was created on`。

所以我设置`Control.CheckForIllegalCrossThreadCalls = false`了，它正在工作。

这样做是个好主意吗？或者有更好的方法。

谢谢

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-20T05:37:31.917

虽然它可能看起来在大多数情况下都有效，但它肯定会时不时地失败。

如果您需要从另一个线程访问/修改 UI 控件，请使用[Control.Invoke](http://msdn.microsoft.com/en-us/library/system.windows.forms.control.invoke.aspx)。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-20T05:31:42.777

这样做不是一个好主意。

我相信首选方法是检查 Control.InvokeRequired == true，如果是，则使用具有适当委托的 Control.Invoke，这会将方法调用编组到 UI 线程上。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-20T05:45:45.320

你会写像下面这样的东西吗

```
 try
        {
            Object obj=null;
            var result = obj.ToString();
        }
        catch (Exception )
        {

        } 
```

我相信你的答案是**NO**，类似的事情是 Control.CheckForIllegalCrossThreadCalls = false，它只会吃异常，但会给你估计的客户带来未知的结果

# android - 如何在Windows平台的android中安装Titanium Module

> ID：15516017
> 
> 赞同：0
> 
> 时间：2013-03-20T05:28:20.937
> 
> 标签：android, module, titanium

我正在尝试使用 windows 在 android 中安装钛模块。我将模块文件夹沿资源放置到主项目中，但无法在 tiapp.xml 中检测到该模块。

请帮忙。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-20T06:37:49.813

我在 Windows 7 中找到了路径“C:\Users\Username\AppData\Roaming\Titanium\modules”只需将模块粘贴到此处，tiapp.xml 就会检测到它。

干杯

# c - 如何与另一个外部程序通信

> ID：15516020
> 
> 赞同：2
> 
> 时间：2013-03-20T05:28:26.297
> 
> 标签：c, linux, stdio

我正在尝试从外部程序写入 stdin 并从 stdout （和 stderr ）读取，而不更改代码。

我尝试过使用命名管道，但在程序终止之前 stdout 不会显示，并且 stdin 仅适用于第一个输入（然后 cin 为 null ）。

我试过使用 /proc/[pid]/fd 但它只能从终端而不是程序写入和读取。

我已经尝试为此编写一个字符设备文件并且它有效，但一次只有一个程序（这需要一次适用于多个程序）。

在这一点上，据我所知，我可以编写用于跨多个程序多路复用 io 的驱动程序，但我认为这不是“正确”的解决方案。

这样做的主要目的是通过 Web 界面查看程序的提要。我确信必须有某种方法可以做到这一点。有什么我以前没有尝试过的吗？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-20T05:43:39.243

这样做的典型方法是：

1.  [`pipe(2)`](http://linux.die.net/man/2/pipe)使用系统调用为新进程的标准流创建匿名管道（未命名管道）
2.  调用[`fork(2)`](http://linux.die.net/man/2/fork)产生子进程
3.  [`close(2)`](http://linux.die.net/man/2/close)父子管道的适当端（例如，对于标准输入管道，关闭父管道的读取端并关闭子管道的写入端；反之亦然，用于 stdout 和 stderr 管道）
4.  在子级中使用[`dup2(2)`](http://linux.die.net/man/2/dup)将管道文件描述符复制到文件描述符 0、1 和 2 上，然后`close(2)`是剩余的旧描述符
5.  [`exec(3)`](http://linux.die.net/man/3/execve)子进程中的外部应用程序
6.  在父进程中，同时写入子进程的 stdin 管道并从子进程的 stdout 和 stderr 管道读取。但是，根据孩子的行为方式，如果您不小心，这很容易导致死锁。避免死锁的一种方法是生成单独的线程来处理 3 个流中的每一个；另一种方法是使用[`select(2)`](http://linux.die.net/man/2/select)系统调用等到可以读取/写入其中一个流而不会阻塞，然后处理该流。

即使您正确地执行了这一切，您可能仍然无法立即看到程序的输出。这通常是由于缓冲标准输出。通常，当 stdout 进入终端时，它是行缓冲的——它在每个换行符被写入后被刷新。但是当 stdout 是一个管道（或任何其他不是终端的东西，如文件或套接字）时，它是完全缓冲的，并且只有在程序输出了一个完整缓冲区的数据值（例如 4 KB）时才会被写入。

许多程序都有命令行选项来改变它们的缓冲行为。例如，即使 stdout 不是终端，`grep(1)`也有`--line-buffered`强制它对输出进行行缓冲的标志。如果您的外部程序有这样的选项，您可能应该使用它。如果没有，仍然可以更改缓冲行为，但您必须使用一些鬼鬼祟祟的技巧——请参阅[这个问题](https://stackoverflow.com/questions/11337041/force-line-buffering-of-stdout-when-piping-to-tee)和[这个问题](https://stackoverflow.com/questions/1544050/force-another-programs-standard-output-to-be-unbuffered-using-python)以了解如何做到这一点。

# sql - 将 XML 文件上传到单个 SQL 表的 SQL 查询

> ID：15516023
> 
> 赞同：1
> 
> 时间：2013-03-20T05:29:11.197
> 
> 标签：sql, sql-server

我有一个需要上传到 SQL 表中的示例 xml 文件。

xml 文件下方是用于选择要插入到表中的 XML 值的 SQL 查询

问题：我无法获得这些`<Actual>,<ExpectedValue>`值，因为它们不止一次出现

如果有人可以帮助纠正/指导我获得正确的价值观，将不胜感激

谢谢。

```
<?xml version="1.0" encoding="utf-8" ?>
<Results>
    <General>
        <Version>1.01</Version>
        <InputFilename>TestFile.xml</InputFilename>
        <Filename>xyz.XML</Filename>
        </General>
    <Tests>
        <Test Name="Test 1">
            <Number>0</Number>
            <MinimumSampleCount>1</MinimumSampleCount>
            <ExpectedValues>
            <ExpectedValue>8</ExpectedValue>
            <ExpectedValue>5</ExpectedValue>
            </ExpectedValues>
            <Actual>
                <seq>1</seq>
                <ValueFound>8</ValueFound>
                <seqTestResult>Passed</seqTestResult>
            </Actual>
            <Actual>
                <seq>3</seq>
                <ValueFound>8</ValueFound>
                <seqTestResult>Passed</seqTestResult>
            </Actual>
            <Result>Last sequence matches test cases.</Result>
            <TestResult>Passed</TestResult>
            </Test>
        <Test Name="Test 3">
            <Number>25</Number>
            <ExpectedValues><ExpectedValue>3.50</ExpectedValue>
            <ExpectedValue>3.56</ExpectedValue>
            <ExpectedValue>3.60</ExpectedValue>
            </ExpectedValues>
            <Result>not applicable</Result>
            <TestResult>Skipped</TestResult>
        </Test>
        <OverallTestResult>Passed</OverallTestResult>
    </Tests>
</Results> 
```

SQL 代码：

```
INSERT INTO dbo.Results_XML ([Version],[InputFilename],[Filename],
      [OverallTestResult],Name,Number,MinimumSampleCount,ActualNumberOfSamples,ExpectedValue,
       ActualSeq, ActualValueFound,ActualseqTestResult,CompareValue,Result,TestResult

    SELECT [Version] = x.data.value('Version[1]','numeric(3,2)'),
       [InputFilename] = x.data.value('InputFilename[1]','varchar(80)'),
       [Filename] = x.data.value('Filename[1]','varchar(80)'),
       [OverallTestResult]=T2.N.value('OverallTestResult[1]','varchar(15)'),
       [Test Name]= y.data.value('@Name','varchar(255)')
         ,[Number]= y.data.value('Number[1]','int'),
         [MinimumSampleCount]=y.data.value('Number[1]','int'),
         [ActualNumberOfSamples]=y.data.value('ActualNumberOfSamples[1]','int')
         ,[ExpectedValue]=z.data.value('ExpectedValue[1]','varchar(255)')
         ,[ActualSeq]=v.data.value('Seq[1]','int'),
         ,ActualValueFound=v.data.value('ValueFound[1]','int'),
         ,ActualseqTestResult=v.data.value('seqTestResult[1]','varchar(255)'),
        ,[CompareValue]=y.data.value('CompareValue[1]','bigint')
         ,[Result]=y.data.value('Result[1]','varchar(40)'),
         [TestResult]=y.data.value('TestResult[1]','varchar(10)')

    FROM CD t
       CROSS APPLY t.XMLData.nodes('/Results/General') x(data)
       cross apply t.XMLData.nodes('/Results/Tests') as T2(N)
       CROSS APPLY t.XMLData.nodes('/Results/Tests/Test') as y(data) 
       CROSS APPLY t.XMLData.nodes('Test/ExpectedValues/Expected') z(data) 
       CROSS APPLY t.XMLData.nodes('Test/ExpectedValues/Actual/') v(data) 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-20T06:36:39.950

我假设（基于您之前的问题）这是针对**SQL Server**的- 对吗？
（*您应该始终明确明确地指定您正在使用的数据库系统 - 习惯它！*）

你需要使用这样的东西：

*   获取XML节点供`<Results>/<General>`节点获取一些基本数据
*   然后获取所有`<Test>`节点的列表 - 从那里获取一些数据
*   基于每个`<Test>`节点 - 获取它的`<ExpectedValues>/<ExpectedValue>`节点列表以及其中的`<Actual>`节点`<Test>`并挑选出您需要的数据

**以我的经验，使用描述性名称**是一个好主意- use`GeneralData`等，`ExpectedData`而不仅仅是`x`,`y`和`z`- 这样**更容易**理解您正在处理的内容！

这是我使用的 T-SQL / XQuery 语句：

```
SELECT 
    -- General values
    [Version] = GeneralData.value('Version[1]','numeric(3,2)'),
    [InputFilename] = GeneralData.value('InputFilename[1]','varchar(80)'),
    [Filename] = GeneralData.value('Filename[1]','varchar(80)'),
    -- Test-specific values
    [Test Name]= TestData.value('@Name','varchar(255)'),
    [Test Number]= TestData.value('Number[1]','int'),
    -- Test-specific expected values
    [ExpectedValue] = ExpectedData.value('.', 'varchar(255)'),
    -- Test-specific actual values
    [ActualSeq] = ActualData.value('(seq)[1]', 'int'),
    ActualValueFound = ActualData.value('(ValueFound)[1]', 'int'),
    ActualseqTestResult = ActualData.value('(seqTestResult)[1]', 'varchar(255)')
FROM 
    CD t
CROSS APPLY
    -- fetch the <Results> / <General> node
    XMLdata.nodes('/Results/General') AS XGD(GeneralData)
CROSS APPLY
    -- fetch a list of  <Results> / <Tests> / <Test> nodes
    XMLDATA.nodes('/Results/Tests/Test') AS XTD(TestData)
CROSS APPLY
    -- for each <Test> node - fetch its contained <ExpectedValues>/<ExpectedValue> nodes
    TestData.nodes('ExpectedValues/ExpectedValue') AS XED(ExpectedData)
CROSS APPLY
    -- for each <Test> node - fetch its contained <Actual> nodes
    TestData.nodes('Actual') AS XAD(ActualData) 
```

# java - 本机方法链接错误

> ID：15516026
> 
> 赞同：1
> 
> 时间：2013-03-20T05:29:22.497
> 
> 标签：java, dll, native-methods

我第一次尝试本机方法....
我从这个链接中进行了一个简单的编程[点击](http://patriot.net/~tvalesky/jninative.html)...。

```
 nativetest.java
         public class nativetest
         {
            static {
              System.loadLibrary("nativetest");
            }
            public native String sayHello(String s);
            public static void main(String[] argv)
            {
                 String retval = null;
                 nativetest nt = new nativetest();
                 retval = nt.sayHello("Beavis");
                 System.out.println("Invocation returned " + retval);
            }

         } 
```

> javac nativetest.java
> javah -jni nativetest

已成功创建 nativetest.h 文件

```
 nativetest.h
          /* DO NOT EDIT THIS FILE - it is machine generated */
          #include <jni.h>
          /* Header for class nativetest */

          #ifndef _Included_nativetest
          #define _Included_nativetest
          #ifdef __cplusplus
          extern "C" {
          #endif
          /*
           * Class:     nativetest
           * Method:    sayHello
           * Signature: (Ljava/lang/String;)Ljava/lang/String;
          */
          JNIEXPORT jstring JNICALL Java_nativetest_sayHello(JNIEnv *, jobject, jstring);

          #ifdef __cplusplus
          }
          #endif
     #endif 
```

nativetest.c 代码

```
 nativetest.c 
          include "nativetest.h"    /*double quotes tells it to search current directory*/

          JNIEXPORT jstring JNICALL Java_nativetest_sayHello (JNIEnv *env, jobject thisobject, jstring js)

          {
               return js;
          } 
```

> gcc -I/usr/java/jdk1.7.0_13/include -I/usr/java/jdk1.7.0_13/include/linux -o nativetest.so -shared nativetest.c

已成功创建共享对象文件。

当我执行 nativetest 时，它显示以下错误

> java -Djava.library.path=。线程“主”java.lang.UnsatisfiedLinkError 中的nativetest
> 异常：java.lang.ClassLoader.loadLibrary(ClassLoader.java:1860)
> 处 java.lang.Runtime.loadLibrary0(Runtime.java:845 ) 的 java.library.path 中没有 nativetest )
> 在 java.lang.System.loadLibrary(System.java:1084)
> 在 nativetest.(nativetest.java:4)

提前谢谢....

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-20T06:17:27.943

在 Linux 上，共享库的文件名应以“lib”开头，即“lib[library_name].so”。

参考：[3.1.1。共享库名称](http://tldp.org/HOWTO/Program-Library-HOWTO/shared-libraries.html)

`Every shared library has a special name called the ``soname''. The soname has the prefix ``lib'', the name of the library, the phrase ``.so'', followed by a period and a version number that is incremented whenever the interface changes (as a special exception, the lowest-level C libraries don't start with ``lib''). A fully-qualified soname includes as a prefix the directory it's in; on a working system a fully-qualified soname is simply a symbolic link to the shared library's ``real name''.`

# bash - 当我将终端配置为自动加载我的 .bashrc 时，无法使用 ps 命令查看进程

> ID：15516034
> 
> 赞同：1
> 
> 时间：2013-03-20T05:30:10.370
> 
> 标签：bash, ps, .bash-profile, .profile

我的默认登录 shell 是 bash。在一些在线论坛中，我将终端配置为`.bashrc`在打开终端时自动加载文件，方法是添加：

1.  `source ~/.bashrc`在`.bash_profile`或

2.  通过在中添加以下代码片段`.profile`：

    ```
    if [ -n "$BASH_VERSION" ]; then
        if [ -f "$HOME/.bashrc" ]; then
        . "$HOME/.bashrc"
        fi
    fi 
    ```

使用两者中的任何一个，我都会`.bashrc`自动加载，但是我无法使用`ps`命令查看进程状态。

注意：如果我禁用我的自动加载`.bashrc`并通过键入 bash 手动加载它，我仍然可以使用该`ps`命令查看进程状态。

请帮帮我。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-24T04:13:50.883

您可以通过键入来查看`ps`映射到的内容`type ps`。比较源之前和之后，您应该能够将其重新命名为您所期望的。

# java - 扫描仪使用 nextInt() 和循环不断跳过输入whist

> ID：15516036
> 
> 赞同：1
> 
> 时间：2013-03-20T05:30:26.027
> 
> 标签：java, loops, java.util.scanner, next

我正在使用 while 循环来确保输入到扫描仪对象的值是一个整数，如下所示：

```
while (!capacityCheck) {
        try {
            System.out.println("Capacity");
            capacity = scan.nextInt();
            capacityCheck = true;
        } catch (InputMismatchException e) {
            System.out.println("Capacity must be an integer");
        }
    } 
```

但是，如果用户没有输入整数，当它应该返回并接受另一个输入时，它只会重复打印“Capacity”，然后在 catch 中输出，而不要求更多输入。我该如何阻止这个？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-20T05:35:24.170

```
scan.nextLine(); 
```

将这段代码放入您的`catch`块中，以在输入错误的情况下使用非整数字符以及留在缓冲区中的换行符（因此，无限打印 catch sysout）。

当然，还有其他更简洁的方法可以实现您想要的，但我想这需要在您的代码中进行一些重构。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-20T05:35:24.977

使用以下内容：

```
while (!capacityCheck) {
        System.out.println("Capacity");
        String input = scan.nextLine();
        try {
            capacity = Integer.parseInt(input );
            capacityCheck = true;
        } catch (NumberFormatException e) {
            System.out.println("Capacity must be an integer");
        }
    } 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-20T05:36:34.213

尝试这个 ：

```
while (!capacityCheck) {
    try {
        System.out.println("Capacity");
        capacity = scan.nextInt();
        capacityCheck = true;
    } catch (InputMismatchException e) {
        System.out.println("Capacity must be an integer");
        scan.nextLine();
    }
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-20T05:40:02.877

我认为不需要 try/catch 或者`capacityCheck`因为我们可以访问该方法`hasNextInt()`- 它检查下一个令牌是否是 int。例如，这应该做你想要的：

```
 while (!scan.hasNextInt()) { //as long as the next is not a int - say you need to input an int and move forward to the next token.
        System.out.println("Capacity must be an integer");
        scan.next();
    }
    capacity = scan.nextInt(); //scan.hasNextInt() returned true in the while-clause so this will be valid. 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-03-20T05:33:24.097

尝试将其放在循环的末尾 -

```
scan.nextLine(); 
```

或者最好把它放在 catch 块中。

```
 while (!capacityCheck) {
        try {
            System.out.println("Capacity");
            capacity = scan.nextInt();
            capacityCheck = true;
        } catch (InputMismatchException e) {
            System.out.println("Capacity must be an integer");
            scan.nextLine();
        }
    } 
```

# jquery - 固定 div 100%

> ID：15516040
> 
> 赞同：1
> 
> 时间：2013-03-20T05:30:39.960
> 
> 标签：jquery, css

我已经固定了 100% 高度的 div。但是当我滚动时，我想看到页脚。当我看不到页脚时，如何在滚动到页脚时将其高度设置为 100%？

[http://jsfiddle.net/9fCfE/](http://jsfiddle.net/9fCfE/) - 这是我的代码。我需要 - 固定的 div 必须始终位于顶部，并且不应覆盖页脚。

```
 .fixed {
    width: inherit;
    height: 95%;
    overflow-x: hidden;
    overflow-y: auto;
    position: fixed;
    }
    footer {
    width: 100%;
    } 
```

（对不起，我的英语不太好）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-20T05:34:26.357

你可以这样**做**

```
html, body{
height:100%;
}
.wraper{
background:red;
  min-height:100%;
} 
```

[**演示**](http://tinkerbin.com/bn0e48nE)

## -----------------

第二个选项是**定义** `fixed position`

像这样

```
.wraper{
background:red;
position:fixed;
  top:0;
  left:0;
  right:0;
  bottom:0;overflow:scroll;
} 
```

**[演示-2](http://tinkerbin.com/7qqoWb6v)**

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-20T17:16:34.223

我想这就是你想要的：http: [//jsfiddle.net/pavloschris/9fCfE/8/](http://jsfiddle.net/pavloschris/9fCfE/8/)

轻微的 CSS 变化：

```
.fixed {
    background: red;
    width: inherit;
    /*  height: 95%;*/
    top:0;
    bottom:5%;
    overflow-x: hidden;
    overflow-y: auto;
    position: fixed;
} 
```

和JS：

```
var $window = $(window);
var $footer = $('footer');
var $fixed = $('.fixed');

function adjustHeight() {
    var wHeight = $window.height() + 0;
    var originalBottom = wHeight * .05;

    var bottom = wHeight - ($footer.offset().top - $window.scrollTop() + 0);

    bottom = Math.max(originalBottom, bottom);
    $fixed.css({
            'bottom': bottom
    });

};

$(window).scroll(adjustHeight) 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-20T07:45:04.487

这是一个我相信接近你想要的css演示。

HTML：

```
<div class="content"></div>
<footer></footer> 
```

CSS：

```
* {
    margin:0;
     padding: 0;
}
html,body{
    height: 100%;
}
body {
    padding: 0 0 150px 0;
}
footer {
    height: 150px;
    background: blue;
}

.content{
    height:100%;
    background:red;
} 
```

演示：http: [//jsfiddle.net/pavloschris/DPhaJ/](http://jsfiddle.net/pavloschris/DPhaJ/)

否则，如果您想在滚动时更改 html 和/或样式，则需要 JavaScript。

# entity-framework-5 - Breeze.js 将导航属性设置为 null 会导致外键错误

> ID：15516046
> 
> 赞同：1
> 
> 时间：2013-03-20T05:31:08.277
> 
> 标签：entity-framework-5, breeze

我有一个带有导航属性和关联外键属性的模型，如下所示：

```
public class Teacher {
    public int Id { get; set; }
}

public class Course {
    public int Id { get; set; }

    public int? TeacherId { get; set; } // foreign key property
    public Teacher Teacher { get; set; } // navigation property
} 
```

在客户端代码中，设置`course.Teacher(null)`会导致`course.TeacherId`设置为零。保存时，这会导致实体框架中出现外键错误。

`course.TeacherId`需要设置为空，而不是零，实体框架才能正确保存。

查看 Breeze 代码，当导航属性设置为 null 时，外键属性设置为*目标对象的 key property*的默认值，在上面的示例中是默认值`Teacher.Id`（为零）。相反，我认为应该将外键属性设置为它*自己的*默认值。我已经为此提交了一个[拉取请求](https://github.com/IdeaBlade/Breeze/pull/11)。

# jquery - jquery数组导致一个div

> ID：15516051
> 
> 赞同：0
> 
> 时间：2013-03-20T05:31:33.193
> 
> 标签：jquery, arrays

我正在尝试在 div 中显示数组结果。请帮忙

```
var events = [ 
    { Title: "Five K for charity", Date: new Date("03/13/2013"), Time: "11:15" }, 
    { Title: "Dinner", Date: new Date("03/25/2013"), Time: "11:15" }, 
    { Title: "Meeting with manager", Date: new Date("03/01/2013"), Time: "11:15" }
];

var myArray = [{Title : "one" }, {Title: "two"}, {Title: "three"}];
$(myArray).each(function() {
$(".myarray").text();
}); 
```

请指教我哪里错了？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-20T05:38:52.823

```
var myArray = [{Title : "one" }, {Title: "two"}, {Title: "three"}];

var text = myArray.map(function(o) {
    return '<p>' + o.Title + '</p>';
}).join(' ');

$(".myarray").html(text); 
```

[小提琴](http://jsfiddle.net/ethagnawl/spQ2q/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-20T05:33:26.327

因为你的 myArray 是对象数组..所以使用循环来获取数组对象和`.`运算符来获取特定对象的值......

尝试这个

```
 var myArray = [{Title : "one" }, {Title: "two"}, {Title: "three"}];
 $.each(myArray,function(i,v) {
   $(".myarray").append(v.Title);
 }); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-20T05:33:52.240

它应该是

```
var myArray = [{Title : "one" }, {Title: "two"}, {Title: "three"}];
$(myArray).each(function() {
    $(".myarray").append(this.Title);
}); 
```

演示：[Fiddle](http://jsfiddle.net/arunpjohny/AVCNh/)或[Fiddle2](http://jsfiddle.net/arunpjohny/AVCNh/2/)

或更好

```
var myArray = [{Title : "one" }, {Title: "two"}, {Title: "three"}];

$(".myarray").append($.map(myArray, function(v, i){
    return v.Title;
}).join()); 
```

演示：[小提琴](http://jsfiddle.net/arunpjohny/AVCNh/3/)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-20T06:00:28.157

```
var myArray = [{Title : "one" }, {Title: "two"}, {Title: "three"}];
for(var i in myArray)
{
var title = myArray[i];
alert(title.Title);

} 
```

# sonarqube - 声纳 - java.lang.NoClassDefFoundError: org/sonar/wsclient/services/Query

> ID：15516052
> 
> 赞同：1
> 
> 时间：2013-03-20T05:31:33.347
> 
> 标签：sonarqube, ws-client

我正在尝试使用 sonar-ws-client 插件。但是当我运行`mvn sonar:sonar`得到错误

```
[FATAL ERROR] org.sonar.maven.SonarMojo#execute() caused a linkage error (java.l
ang.NoClassDefFoundError) and may be out-of-date. Check the realms:
[FATAL ERROR] Plugin realm = app0.child-container[org.codehaus.sonar:sonar-maven
-plugin:3.1.1]
urls[0] = file:/C:/Users/Renjith.R/.m2/repository/org/codehaus/sonar/sonar-maven
-plugin/3.1.1/sonar-maven-plugin-3.1.1.jar
urls[1] = file:/C:/Users/Renjith.R/.m2/repository/org/apache/maven/shared/maven-
dependency-tree/1.2/maven-dependency-tree-1.2.jar
urls[2] = file:/C:/Users/Renjith.R/.m2/repository/org/codehaus/plexus/plexus-uti
ls/1.1/plexus-utils-1.1.jar
urls[3] = file:/C:/Users/Renjith.R/.m2/repository/org/codehaus/sonar/sonar-batch
/3.1.1/sonar-batch-3.1.1.jar
urls[4] = file:/C:/Users/Renjith.R/.m2/repository/org/codehaus/sonar/sonar-core/
3.1.1/sonar-core-3.1.1.jar
urls[5] = file:/C:/Users/Renjith.R/.m2/repository/org/codehaus/sonar/sonar-plugi
n-api/3.1.1/sonar-plugin-api-3.1.1.jar
urls[6] = file:/C:/Users/Renjith.R/.m2/repository/org/codehaus/sonar/sonar-check
-api/3.1.1/sonar-check-api-3.1.1.jar
urls[7] = file:/C:/Users/Renjith.R/.m2/repository/org/codehaus/sonar/sonar-color
izer/3.1.1/sonar-colorizer-3.1.1.jar
urls[8] = file:/C:/Users/Renjith.R/.m2/repository/commons-io/commons-io/2.0.1/co
mmons-io-2.0.1.jar
urls[9] = file:/C:/Users/Renjith.R/.m2/repository/org/codehaus/sonar/sonar-chann
el/3.1.1/sonar-channel-3.1.1.jar
urls[10] = file:/C:/Users/Renjith.R/.m2/repository/org/slf4j/slf4j-api/1.6.2/slf
4j-api-1.6.2.jar
urls[11] = file:/C:/Users/Renjith.R/.m2/repository/org/codehaus/sonar/sonar-dupl
ications/3.1.1/sonar-duplications-3.1.1.jar
urls[12] = file:/C:/Users/Renjith.R/.m2/repository/com/google/guava/guava/10.0.1
/guava-10.0.1.jar
urls[13] = file:/C:/Users/Renjith.R/.m2/repository/com/google/code/findbugs/jsr3
05/1.3.9/jsr305-1.3.9.jar
urls[14] = file:/C:/Users/Renjith.R/.m2/repository/org/codehaus/sonar/sonar-grap
h/3.1.1/sonar-graph-3.1.1.jar
urls[15] = file:/C:/Users/Renjith.R/.m2/repository/commons-lang/commons-lang/2.6
/commons-lang-2.6.jar
urls[16] = file:/C:/Users/Renjith.R/.m2/repository/org/codehaus/sonar/sonar-squi
d/3.1.1/sonar-squid-3.1.1.jar
urls[17] = file:/C:/Users/Renjith.R/.m2/repository/org/picocontainer/picocontain
er/2.14.1/picocontainer-2.14.1.jar
urls[18] = file:/C:/Users/Renjith.R/.m2/repository/org/hibernate/hibernate-annot
ations/3.4.0.GA/hibernate-annotations-3.4.0.GA.jar
urls[19] = file:/C:/Users/Renjith.R/.m2/repository/org/hibernate/ejb3-persistenc
e/1.0.2.GA/ejb3-persistence-1.0.2.GA.jar
urls[20] = file:/C:/Users/Renjith.R/.m2/repository/org/hibernate/hibernate-commo
ns-annotations/3.1.0.GA/hibernate-commons-annotations-3.1.0.GA.jar
urls[21] = file:/C:/Users/Renjith.R/.m2/repository/dom4j/dom4j/1.6.1/dom4j-1.6.1
.jar
urls[22] = file:/C:/Users/Renjith.R/.m2/repository/xml-apis/xml-apis/1.3.03/xml-
apis-1.3.03.jar
urls[23] = file:/C:/Users/Renjith.R/.m2/repository/commons-configuration/commons
-configuration/1.6/commons-configuration-1.6.jar
urls[24] = file:/C:/Users/Renjith.R/.m2/repository/commons-collections/commons-c
ollections/3.2.1/commons-collections-3.2.1.jar
urls[25] = file:/C:/Users/Renjith.R/.m2/repository/commons-digester/commons-dige
ster/1.8/commons-digester-1.8.jar
urls[26] = file:/C:/Users/Renjith.R/.m2/repository/commons-beanutils/commons-bea
nutils/1.8.3/commons-beanutils-1.8.3.jar
urls[27] = file:/C:/Users/Renjith.R/.m2/repository/commons-codec/commons-codec/1
.4/commons-codec-1.4.jar
urls[28] = file:/C:/Users/Renjith.R/.m2/repository/jfree/jfreechart/1.0.9/jfreec
hart-1.0.9.jar
urls[29] = file:/C:/Users/Renjith.R/.m2/repository/jfree/jcommon/1.0.12/jcommon-
1.0.12.jar
urls[30] = file:/C:/Users/Renjith.R/.m2/repository/org/slf4j/jcl-over-slf4j/1.6.
2/jcl-over-slf4j-1.6.2.jar
urls[31] = file:/C:/Users/Renjith.R/.m2/repository/org/slf4j/log4j-over-slf4j/1.
6.2/log4j-over-slf4j-1.6.2.jar
urls[32] = file:/C:/Users/Renjith.R/.m2/repository/com/thoughtworks/xstream/xstr
eam/1.3.1/xstream-1.3.1.jar
urls[33] = file:/C:/Users/Renjith.R/.m2/repository/xpp3/xpp3/1.1.3.3/xpp3-1.1.3.
3.jar
urls[34] = file:/C:/Users/Renjith.R/.m2/repository/org/codehaus/woodstox/woodsto
x-core-lgpl/4.0.4/woodstox-core-lgpl-4.0.4.jar
urls[35] = file:/C:/Users/Renjith.R/.m2/repository/stax/stax-api/1.0.1/stax-api-
1.0.1.jar
urls[36] = file:/C:/Users/Renjith.R/.m2/repository/org/codehaus/woodstox/stax2-a
pi/3.0.1/stax2-api-3.0.1.jar
urls[37] = file:/C:/Users/Renjith.R/.m2/repository/org/codehaus/staxmate/staxmat
e/2.0.0/staxmate-2.0.0.jar
urls[38] = file:/C:/Users/Renjith.R/.m2/repository/xerces/xercesImpl/2.8.1/xerce
sImpl-2.8.1.jar
urls[39] = file:/C:/Users/Renjith.R/.m2/repository/xalan/xalan/2.7.1/xalan-2.7.1
.jar
urls[40] = file:/C:/Users/Renjith.R/.m2/repository/xalan/serializer/2.7.1/serial
izer-2.7.1.jar
urls[41] = file:/C:/Users/Renjith.R/.m2/repository/org/mybatis/mybatis/3.0.6/myb
atis-3.0.6.jar
urls[42] = file:/C:/Users/Renjith.R/.m2/repository/org/apache/derby/derby/10.7.1
.1/derby-10.7.1.1.jar
urls[43] = file:/C:/Users/Renjith.R/.m2/repository/org/apache/derby/derbyclient/
10.7.1.1/derbyclient-10.7.1.1.jar
urls[44] = file:/C:/Users/Renjith.R/.m2/repository/org/apache/derby/derbynet/10.
7.1.1/derbynet-10.7.1.1.jar
urls[45] = file:/C:/Users/Renjith.R/.m2/repository/org/codehaus/sonar/sonar-upda
te-center-common/1.1/sonar-update-center-common-1.1.jar
urls[46] = file:/C:/Users/Renjith.R/.m2/repository/org/hibernate/hibernate-core/
3.3.2.GA/hibernate-core-3.3.2.GA.jar
urls[47] = file:/C:/Users/Renjith.R/.m2/repository/antlr/antlr/2.7.6/antlr-2.7.6
.jar
urls[48] = file:/C:/Users/Renjith.R/.m2/repository/org/hibernate/hibernate-entit
ymanager/3.4.0.GA/hibernate-entitymanager-3.4.0.GA.jar
urls[49] = file:/C:/Users/Renjith.R/.m2/repository/javassist/javassist/3.4.GA/ja
vassist-3.4.GA.jar
urls[50] = file:/C:/Users/Renjith.R/.m2/repository/geronimo-spec/geronimo-spec-j
ta/1.0-M1/geronimo-spec-jta-1.0-M1.jar
urls[51] = file:/C:/Users/Renjith.R/.m2/repository/org/hibernate/hibernate-ehcac
he/3.3.2.GA/hibernate-ehcache-3.3.2.GA.jar
urls[52] = file:/C:/Users/Renjith.R/.m2/repository/net/sf/ehcache/ehcache/1.2.3/
ehcache-1.2.3.jar
urls[53] = file:/C:/Users/Renjith.R/.m2/repository/commons-dbcp/commons-dbcp/1.3
/commons-dbcp-1.3.jar
urls[54] = file:/C:/Users/Renjith.R/.m2/repository/commons-pool/commons-pool/1.5
.4/commons-pool-1.5.4.jar
urls[55] = file:/C:/Users/Renjith.R/.m2/repository/org/codehaus/plexus/plexus-cl
assworlds/2.2.3/plexus-classworlds-2.2.3.jar
urls[56] = file:/C:/Users/Renjith.R/.m2/repository/ch/qos/logback/logback-classi
c/0.9.30/logback-classic-0.9.30.jar
urls[57] = file:/C:/Users/Renjith.R/.m2/repository/ch/qos/logback/logback-core/0
.9.30/logback-core-0.9.30.jar
urls[58] = file:/C:/Users/Renjith.R/.m2/repository/org/codehaus/sonar/sonar-depr
ecated/3.1.1/sonar-deprecated-3.1.1.jar
urls[59] = file:/C:/Users/Renjith.R/.m2/repository/org/codehaus/sonar/sonar-java
-api/3.1.1/sonar-java-api-3.1.1.jar
[FATAL ERROR] Container realm = plexus.core
urls[0] = file:/D:/Maven/apache-maven-2.2.1/lib/maven-2.2.1-uber.jar
[FATAL ERROR] org.codehaus.mojo.sonar.SonarMojo#execute() caused a linkage error
 (java.lang.NoClassDefFoundError) and may be out-of-date. Check the realms:
[FATAL ERROR] Plugin realm = app0.child-container[org.codehaus.mojo:sonar-maven-
plugin:1.0]
urls[0] = file:/C:/Users/Renjith.R/.m2/repository/org/codehaus/mojo/sonar-maven-
plugin/1.0/sonar-maven-plugin-1.0.jar
urls[1] = file:/C:/Users/Renjith.R/.m2/repository/org/codehaus/plexus/plexus-uti
ls/1.4.1/plexus-utils-1.4.1.jar
[FATAL ERROR] Container realm = plexus.core
urls[0] = file:/D:/Maven/apache-maven-2.2.1/lib/maven-2.2.1-uber.jar
[INFO] ------------------------------------------------------------------------
[ERROR] FATAL ERROR
[INFO] ------------------------------------------------------------------------
[INFO] org/sonar/wsclient/services/Query
org.sonar.wsclient.services.Query
[INFO] ------------------------------------------------------------------------
[INFO] Trace
java.lang.NoClassDefFoundError: org/sonar/wsclient/services/Query
        at java.lang.Class.getDeclaredFields0(Native Method)
        at java.lang.Class.privateGetDeclaredFields(Class.java:2291)
        at java.lang.Class.getDeclaredFields(Class.java:1743)
        at org.picocontainer.injectors.AdaptingInjection$2.run(AdaptingInjection
.java:217)
        at java.security.AccessController.doPrivileged(Native Method)
        at org.picocontainer.injectors.AdaptingInjection.injectionFieldAnnotated
(AdaptingInjection.java:209)
        at org.picocontainer.injectors.AdaptingInjection.fieldAnnotatedInjection
Adapter(AdaptingInjection.java:188)
        at org.picocontainer.injectors.AdaptingInjection.createComponentAdapter(
AdaptingInjection.java:57)
        at org.picocontainer.behaviors.AbstractBehaviorFactory.createComponentAd
apter(AbstractBehaviorFactory.java:44)
        at org.picocontainer.behaviors.OptInCaching.createComponentAdapter(OptIn
Caching.java:45)
        at org.picocontainer.DefaultPicoContainer.addComponent(DefaultPicoContai
ner.java:536)
        at org.picocontainer.DefaultPicoContainer.access$300(DefaultPicoContaine
r.java:80)
        at org.picocontainer.DefaultPicoContainer$AsPropertiesPicoContainer.addC
omponent(DefaultPicoContainer.java:1142)
        at org.sonar.api.platform.ComponentContainer.addComponent(ComponentConta
iner.java:92)
        at org.sonar.api.platform.ComponentContainer.addSingleton(ComponentConta
iner.java:84)
        at org.sonar.batch.bootstrap.Module.addCoreSingleton(Module.java:115)
        at org.sonar.batch.bootstrap.ProjectExtensionInstaller.installExtension(
ProjectExtensionInstaller.java:86)
        at org.sonar.batch.bootstrap.ProjectExtensionInstaller.install(ProjectEx
tensionInstaller.java:59)
        at org.sonar.batch.bootstrap.ProjectModule.addProjectPluginExtensions(Pr
ojectModule.java:109)
        at org.sonar.batch.bootstrap.ProjectModule.configure(ProjectModule.java:
60)
        at org.sonar.batch.bootstrap.Module.init(Module.java:49)
        at org.sonar.batch.bootstrap.Module.installChild(Module.java:70)
        at org.sonar.batch.bootstrap.BatchModule.analyze(BatchModule.java:113)
        at org.sonar.batch.bootstrap.BatchModule.doStart(BatchModule.java:105)
        at org.sonar.batch.bootstrap.Module.start(Module.java:83)
        at org.sonar.batch.bootstrap.BootstrapModule.doStart(BootstrapModule.jav
a:111)
        at org.sonar.batch.bootstrap.Module.start(Module.java:83)
        at org.sonar.batch.bootstrapper.Batch.startBatch(Batch.java:73)
        at org.sonar.batch.bootstrapper.Batch.execute(Batch.java:60)
        at org.sonar.maven.SonarMojo.execute(SonarMojo.java:150)
        at org.apache.maven.plugin.DefaultPluginManager.executeMojo(DefaultPlugi
nManager.java:490)
        at org.codehaus.mojo.sonar.Bootstraper.executeMojo(Bootstraper.java:98)
        at org.codehaus.mojo.sonar.Bootstraper.start(Bootstraper.java:79)
        at org.codehaus.mojo.sonar.SonarMojo.execute(SonarMojo.java:88)
        at org.apache.maven.plugin.DefaultPluginManager.executeMojo(DefaultPlugi
nManager.java:490)
        at org.apache.maven.lifecycle.DefaultLifecycleExecutor.executeGoals(Defa
ultLifecycleExecutor.java:694)
        at org.apache.maven.lifecycle.DefaultLifecycleExecutor.executeStandalone
Goal(DefaultLifecycleExecutor.java:569)
        at org.apache.maven.lifecycle.DefaultLifecycleExecutor.executeGoal(Defau
ltLifecycleExecutor.java:539)
        at org.apache.maven.lifecycle.DefaultLifecycleExecutor.executeGoalAndHan
dleFailures(DefaultLifecycleExecutor.java:387)
        at org.apache.maven.lifecycle.DefaultLifecycleExecutor.executeTaskSegmen
ts(DefaultLifecycleExecutor.java:284)
        at org.apache.maven.lifecycle.DefaultLifecycleExecutor.execute(DefaultLi
fecycleExecutor.java:180)
        at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:328)
        at org.apache.maven.DefaultMaven.execute(DefaultMaven.java:138)
        at org.apache.maven.cli.MavenCli.main(MavenCli.java:362)
        at org.apache.maven.cli.compat.CompatibleMain.main(CompatibleMain.java:6
0)
        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.
java:39)
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAcces
sorImpl.java:25)
        at java.lang.reflect.Method.invoke(Method.java:597)
        at org.codehaus.classworlds.Launcher.launchEnhanced(Launcher.java:315)
        at org.codehaus.classworlds.Launcher.launch(Launcher.java:255)
        at org.codehaus.classworlds.Launcher.mainWithExitCode(Launcher.java:430)

        at org.codehaus.classworlds.Launcher.main(Launcher.java:375)
Caused by: java.lang.ClassNotFoundException: org.sonar.wsclient.services.Query
        at org.codehaus.plexus.classworlds.strategy.SelfFirstStrategy.loadClass(
SelfFirstStrategy.java:50)
        at org.codehaus.plexus.classworlds.realm.ClassRealm.loadClass(ClassRealm
.java:244)
        at org.codehaus.plexus.classworlds.realm.ClassRealm.loadClass(ClassRealm
.java:230)
        at java.lang.ClassLoader.loadClassInternal(ClassLoader.java:320)
        ... 53 more
[INFO] ------------------------------------------------------------------------
[INFO] Total time: 23 seconds
[INFO] Finished at: Wed Mar 20 10:51:22 IST 2013
[INFO] Final Memory: 23M/42M
[INFO] ------------------------------------------------------------------------ 
```

这是我正在使用的java代码。

```
import org.sonar.wsclient.Sonar;
import org.sonar.wsclient.services.Measure;
import org.sonar.wsclient.services.Resource;
import org.sonar.wsclient.services.ResourceQuery;

public class SampleWsClien{
    Measure i=getProjectMeasure("ncloc");

    public org.sonar.wsclient.services.Measure getProjectMeasure(String metricKey) {
        Sonar sonar = Sonar.create("http://localhost:9000");    
        Resource resource = sonar.find(ResourceQuery.createForMetrics("com.hp.curator:curator", metricKey));
            return resource.getMeasure(metricKey);
    }
} 
```

在我的 pom.xml 中，我将 ws-client 的依赖项添加为

```
 <dependency>
      <groupId>org.codehaus.sonar</groupId>
      <artifactId>sonar-ws-client</artifactId>
      <version>${sonar.version}</version>
    </dependency>

    <dependency>
      <groupId>commons-httpclient</groupId>
      <artifactId>commons-httpclient</artifactId>
      <version>3.1</version>
      <scope>test</scope>
      <exclusions>
        <exclusion>
          <groupId>commons-logging</groupId>
          <artifactId>commons-logging</artifactId>
        </exclusion>
      </exclusions>
    </dependency> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-09-11T07:58:54.033

如果我的理解是正确的，您正在尝试对使用 sonar-ws-client 作为依赖项的项目进行 SonarQube 分析（使用 SonarQube 服务器 3.1.1），可能版本与 3.1.1 不同。理论上应该没有影响，但 Maven 2 在插件和项目类加载器的隔离方面确实存在问题。有时项目依赖项会在插件类加载器中泄漏。

解决方案：使用 Maven 3。

# jsf-2 - 打开手风琴面板的三个选项卡

> ID：15516055
> 
> 赞同：0
> 
> 时间：2013-03-20T05:31:43.423
> 
> 标签：jsf-2, primefaces

我有一个带有 5 个选项卡的手风琴面板，即部门名称、学生姓名、序列号、年龄和评论。在每个选项卡中，我都有要输入的主要面孔文本区域。输入所有详细信息后，我将其保存。现在我将尝试编辑此信息。在编辑信息时，我希望手风琴面板实现如下，

1.  当我单击编辑时，如何`p:inputTextarea`启用以便可以对其进行编辑。当前选项卡突出显示，而不是`p:inputTextarea`.
2.  编辑任何信息时，保存后应突出显示相应的选项卡。例如编辑了年龄和评论，保存后我必须突出显示两个选项卡，以便用户可以了解年龄和评论已被编辑。设置活动索引只打开一个选项卡。将**mutiple**设置为 true 会打开所有选项卡。如何实施？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-21T05:32:49.843

使用手风琴面板的绑定属性。保存数据时，决定需要突出显示哪个选项卡。在 backing bean 中相应地设置活动选项卡。

例子：

**在您看来：**

```
<p:accordionPanel autoHeight="false"  binding="#{mybackingbean.panel}"  ....other attributes you need... /> 
```

**在支持 bean 中：**

```
@ManagedBean(name="mybackingbean")
public class MyBackingBean
{
    private AccordionPanel panel;

    //Setter and getter for panel

    public String saveAction() 
    {
        if(somecondition)
        {
            panel.setActiveIndex(1);
        }
        else
        {
            panel.setActiveIndex(0);
        }

        return "";
    }
} 
```

# c# - 将 XML 转换为 PDF 时出现 itextsharp 5.4 的问题

> ID：15516058
> 
> 赞同：3
> 
> 时间：2013-03-20T05:31:46.650
> 
> 标签：c#, xml, pdf, itextsharp

我正在使用以下代码通过 itextsharp 5.4 将 XML 转换为 PDF

```
protected void Page_Load(object sender, EventArgs e)
{
            Document document = new Document();
            PdfWriter.GetInstance(document, new FileStream("ExampleDoc.pdf", FileMode.Create));
            ITextHandler xmlHandler = new ITextHandler(document);
            xmlHandler.Parse("ExampleDoc.xml");
} 
```

我遇到错误`ITextHandler xmlHandler = new ITextHandler(document);`

错误是：缺少指令或程序集引用

我已经知道`ITextHandler`不再支持 in`itextsharp 5.4.`那么我应该怎么做呢？我在网上的任何地方都没有得到任何可靠的答案。请建议。

或者，我应该将 xml 转换为 html，然后将 html 转换为 pdf 吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-12-27T13:13:12.547

我认为它可以与 iTextSharp 一起使用，但我邀请您使用[DoddleReport](http://doddlereport.codeplex.com/)生成器

[现场观看！](http://doddlereport.azurewebsites.net/Doddle/productreport.pdf)

DoddleReport 从任何 IEnumerable 数据源生成表格报告，您可以将报告呈现为 Excel、PDF、HTML 和 CSV——当然是完全可插入的

# javascript - 如何在另一个文件中使用 MongoDB 集合

> ID：15516061
> 
> 赞同：0
> 
> 时间：2013-03-20T05:32:26.653
> 
> 标签：javascript, node.js, mongodb

我有一个服务器文件，即`server.js`.

我在这个文件中有一个 MongoDB 连接，如下所示：

```
var Db=require('mongodb').Db;
var BSON=require('mongodb').BSONPure;
var Server=require('mongodb').Server;

client=new Db('database' , new Server('127.0.0.1',27017),{safe:false});

client.open(function(err,pClient)
{
    client.collection('userdetails',function(err,collection)
    {
        Ucollection=collection;
    });
}); 
```

我有另一个名为`server2.js`. 在这个文件中，我必须检查用户名是否存在`Ucollection`（这是集合名称）。

我怎样才能给 MongoDB 连接`server2.js`？我怎样才能使用这个集合`server2.js`？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-20T06:28:11.090

我认为这样做更简洁的方法是将您的数据库配置分离到单独的文件中。像这样

**在 database-config.js 中**

```
var Db=require('mongodb').Db;
var BSON=require('mongodb').BSONPure;
var Server=require('mongodb').Server;

client=new Db('database' , new Server('127.0.0.1',27017),{safe:false});

module.exports.connectDatabase = function(callback){
   client.open(function(err,pClient)
   {
       if(err){
         console.log(err);
         process.exit(1);
       }

       module.exports.userCollection = pClient.collection('userdetails');
       callback();
   });
} 
```

**在 server.js 中**

```
var  database = require('./database-config')
database.connectDatabase(function() {
   //here you can reuse collection like this
   database.userCollection

} 
```

**在 server2.js 中**

```
var  database = require('./database-config')
//here you can reuse collection like this
   database.userCollection 
```

我假设 server.js 是您实际启动服务器的主文件，因此当您运行应用程序时，它会连接到数据库并加载所需的集合，您可以像我一样在应用程序的任何地方使用这些集合，这被认为是重用的最佳实践收藏品。让我知道是否有任何混淆

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-20T05:51:57.683

你可以做这样的事情

**在 server.js 中：**

```
var Db=require('mongodb').Db;
var BSON=require('mongodb').BSONPure;
var Server=require('mongodb').Server;

global.mongoHelper = {};
global.mongoHelper.db = Db;
global.mongoHelper.bson = BSON;
global.mongoHelper.server = Server;

client=new Db('database' , new Server('127.0.0.1',27017),{safe:false});

client.open(function(err,pClient)
{
    client.collection('userdetails',function(err,collection)
    {
        Ucollection=collection;
    });
}); 
```

**在 server2.js 中**

```
client=new global.mongoHelper.db('database' , new global.mongoHelper.server('127.0.0.1',27017),{safe:false});

client.open(function(err,pClient)
{
    client.collection('userdetails',function(err,collection)
    {
        Ucollection=collection;
    });
}); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-05-23T07:46:53.853

服务器.js

```
var Db=require('mongodb').Db;
var BSON=require('mongodb').BSONPure;
var Server=require('mongodb').Server;

client=new Db('database' , new Server('127.0.0.1',27017),{safe:false});

client.open(function(err,pClient)
{

     exports.Ucollection=pClient;
  });
}); 
```

server2.js

```
 var mongodb = require('mongodb');
  var mainApp=require('./server');
  var collectionObj=mainApp.Ucollection;
  var collection = new mongodb.Collection(collectionObj, 'userdetails'); 
```

使用这个集合。你可以像下面这样查询

```
 collection.insert(userInfo,{safe:true},function(err, objects) {
    if(!err){
       console.log('Data inserted successfully.');
     }

  }); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-20T05:41:38.820

好吧，您对模块化代码的整个概念有点误解。对于您的任务，您不应创建第二个 server.js。你可以让另一个模块说，verifyUser 并在你的 server.js 文件中要求它。在您的 mongodb 连接之后，您可能需要它（可能是）。

# ruby-on-rails - 回退到另一个元素的条件链接

> ID：15516062
> 
> 赞同：1
> 
> 时间：2013-03-20T05:32:28.390
> 
> 标签：ruby-on-rails, ruby

是否存在任何方法，或者是否有任何干净的方法来编写接受块并回退到另一种元素的条件链接方法，在块中呈现相同的内容？

让我们说类似..

```
<%= link_fallback_if condition?, some_path do %>
  <img src="somepicture.png" />
  <p>somelabel</p>
  <p>someanothercontent</p>
<% end %> 
```

如果条件为真，它将提供：

```
<a href="/someaction">
  <img src="somepicture.png" />
  <p>somelabel</p>
  <p>someanothercontent</p>
</a> 
```

..并会回落到：

```
<div class="disabled">
  <img src="somepicture.png" />
  <p>somelabel</p>
  <p>someanothercontent</p>
</div> 
```

谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-20T05:40:17.867

您可以编写类似于以下的辅助方法：

```
def link_to_or_div(condition, *args, &block)
  if condition
    link_to(*args, &block)
  else
    content_tag(:div, *args, &block)
  end
end 
```

# ios - 如何找到生日中的剩余天数

> ID：15516065
> 
> 赞同：-1
> 
> 时间：2013-03-20T05:32:50.990
> 
> 标签：ios, nsdate

我想使用以下代码从生日数组中恢复天数

```
for(int i =0;i<_convertedBdates.count;i++){

    NSDateFormatter *tempFormatter = [[NSDateFormatter alloc]init];
    [tempFormatter setDateFormat:@"dd/MM/YYYY"];
    NSDate *firstdate = [tempFormatter dateFromString:[_convertedBdates objectAtIndex:i]];

    NSString *curYear = [tempFormatter stringFromDate:[NSDate date]];
    NSDate *secondDate = [tempFormatter dateFromString:curYear];
    NSTimeInterval lastDiff = [firstdate timeIntervalSinceNow];
    NSTimeInterval todaysDiff = [secondDate timeIntervalSinceNow];
    NSTimeInterval dateDiff = lastDiff  - todaysDiff;
    int day = dateDiff/(3600*24);

    NSLog(@" _newlymadeArray %@",[_convertedBdates objectAtIndex:i]);

    NSLog(@" days %d",day);
    [_daysremaining addObject:[NSString stringWithFormat:@"%d",day] ];
    }
    NSLog(@" days %@",_daysremaining); 
```

我做错了什么为什么我没有得到正确的日子

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-20T05:37:32.907

```
for(int i =0;i<_convertedBdates.count;i++){
    NSDateFormatter *tempFormatter = [[NSDateFormatter alloc]init];
    [tempFormatter setDateFormat:@"dd/MM/YYYY"];
    NSDate *firstdate = [tempFormatter dateFromString:[_convertedBdates objectAtIndex:i]];

    NSString *curYear = [tempFormatter stringFromDate:[NSDate date]];
    NSDate *secondDate = [tempFormatter dateFromString:curYear];
    NSTimeInterval lastDiff = [firstdate timeIntervalSinceNow];
    NSTimeInterval todaysDiff = [secondDate timeIntervalSinceNow];
    NSTimeInterval dateDiff = lastDiff  - todaysDiff;
    int day = dateDiff/(3600*24);
    day = day -1;
    NSLog(@" _newlymadeArray %@",[_convertedBdates objectAtIndex:i]);

    NSLog(@" days %d",day);
    [_daysremaining addObject:[NSString stringWithFormat:@"%d",day] ];
}
NSLog(@" days %@",_daysremaining); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-20T05:38:26.327

试试这样它会帮助你，

```
NSString *start = @"03/12/2013";
NSString *end = @"09/12/2013";

NSDateFormatter *f = [[NSDateFormatter alloc] init];
[f setDateFormat:@"dd/mm/yyyy"];
NSDate *startDate = [f dateFromString:start];
NSDate *endDate = [f dateFromString:end];

NSCalendar *gregorianCalendar = [[NSCalendar alloc] initWithCalendarIdentifier:NSGregorianCalendar];
NSDateComponents *components = [gregorianCalendar components:NSDayCalendarUnit
                                                    fromDate:startDate
                                                      toDate:endDate
                                                     options:0];
NSLog(@"%d",[components day]); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-20T05:41:08.483

保持代码简单：

您可以使用一种方法并在计算块中调用它：

```
- (NSInteger)daysBetweenDate:(NSDate*)fromDateTime andDate:(NSDate*)toDateTime{
    NSDate *fromDate;
    NSDate *toDate;

    NSCalendar *calendar=[NSCalendar currentCalendar];

    [calendar rangeOfUnit:NSDayCalendarUnit startDate:&fromDate interval:NULL forDate:fromDateTime];
    [calendar rangeOfUnit:NSDayCalendarUnit startDate:&toDate interval:NULL forDate:toDateTime];

    NSDateComponents *difference = [calendar components:NSDayCalendarUnit
        fromDate:fromDate toDate:toDate options:0];

    return [difference day];
} 
```

# javascript - javascript键检测未添加最新字符

> ID：15516074
> 
> 赞同：2
> 
> 时间：2013-03-20T05:33:33.220
> 
> 标签：javascript, html, string, forms, keycode

所以我基本上有一个功能可以检测用户按下的键，并且每当用户点击空格键时它都会提交一个表单（不要问为什么）。这是我的javascript：

```
document.addEventListener('keydown', function(e){
    if(e.keyCode === 32) {
        setTimeout("submit()",1);
    }
}) 
```

所以表单提交工作，并且字段被发送到数据库。它提交的字符串末尾应该有一个空格，显然是因为用户按空格键提交，但`&nbsp;`显示时字符串末尾没有显示。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-20T05:43:27.243

`keydown`和`keyup`事件之间的区别在于，`keydown`在将按下的字母添加到内容之前`keyup`触发并在它之后触发。

如果您还想添加最后一个空格，请尝试在`keyup`.

参考：[http ://www.quirksmode.org/dom/events/keys.html](http://www.quirksmode.org/dom/events/keys.html)

# sql - 每月日期范围分组

> ID：15516078
> 
> 赞同：2
> 
> 时间：2013-03-20T05:33:52.550
> 
> 标签：sql, sql-server, date

我在 SQL Server 中有这种数据

```
Person  StartDate                  EndDate                  Value
-----------------------------------------------------------------
38523   2013-01-10 22:00:00.000    2013-01-10 22:59:00.000  0.064
38523   2013-01-10 23:00:00.000    2013-01-10 23:59:00.000  0.065
38523   2013-01-12 00:00:00.000    2013-01-12 00:59:00.000  0.068
38523   2013-01-12 01:00:00.000    2013-01-12 01:59:00.000  0.069
38523   2013-01-12 02:00:00.000    2013-01-12 02:59:00.000  0.069
38523   2013-01-12 03:00:00.000    2013-01-12 03:59:00.000  0.069
38523   2013-01-31 23:00:00.000    2013-01-31 23:59:00.000  0.061
38523   2013-02-01 00:00:00.000    2013-02-01 00:59:00.000  0.064 
```

我需要以这样的方式进行分组，即每月应将连续值组合在一起。如果上一个结束日期和下一个开始日期之间的间隔超过 1 分钟，则应将其分成单独的组。

预期结果：

```
Person  StartDate                  EndDate                  Sum(Value)
----------------------------------------------------------------------
38523   2013-01-10 22:00:00.000    2013-01-10 23:59:00.000  0.129
38523   2013-01-12 00:00:00.000    2013-01-12 03:59:00.000  0.275
38523   2013-01-31 23:00:00.000    2013-01-31 23:59:00.000  0.061 (even though continuity exists, month was end hence separate record)
38523   2013-02-01 00:00:00.000    2013-02-01 00:59:00.000  0.064 
```

任何帮助表示赞赏。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-20T07:13:42.077

仅根据您的数据和预期结果，以下查询可能对您有所帮助：

```
SELECT 
    Person, 
    MIN(StartDate) as StartDate, 
    MAX(EndDate) as EndDate, 
    SUM(Value)
FROM table
GROUP BY 
    Person, 
    CAST(StartDate as date) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-20T06:43:45.400

```
SELECT 
    CAST(DATEPART(YEAR, DateCreated) as varchar(10)) + '/' 
        + CAST(DATEPART(MONTH, DateCreated) as varchar(10))
FROM [Reporting].[dbo].[Hmis_Forms]
GROUP BY 
    CAST(DATEPART(YEAR, DateCreated) as varchar(10)) + '/' 
        + CAST(DATEPART(MONTH, DateCreated) as varchar(10)) 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-20T08:36:26.897

我有类似的东西，也许这可以帮助你：

```
CREATE TABLE #Test2 
(
    Person int, 
    StartDate datetime, 
    EndDate datetime, 
    Value numeric (12, 3), 
    NextDate datetime
);

INSERT INTO #Test2(Person, StartDate, EndDate, Value, NextDate)
SELECT 
    Person, 
    StartDate, 
    EndDate, 
    Value, 
    (SELECT TOP 1 StartDate FROM Test WHERE StartDate > t.EndDate ORDER BY StartDate, EndDate)  
FROM Test t

SELECT 
    MAX(StartDate) ,
    MAX(EndDate) ,
    SUM(Value)

FROM #Test2
GROUP BY 
    DATEDIFF(MINUTE, NextDate, EndDate)

ORDER BY 
    MAX(StartDate) ,
    MAX(EndDate)    
DROP TABLE #Test2 
```

我要做的是创建带有新列的临时表，以保留下一个起始日期值。然后，我根据开始和结束日期的减法对值进行分组，以分钟为单位。

除了总和之外，我得到的结果与您的结果相同。

# javascript - CSS 或 JavaScript 中的只读 div

> ID：15516084
> 
> 赞同：35
> 
> 时间：2013-03-20T05:34:05.613
> 
> 标签：javascript, jquery, css, html, readonly

我需要使用 CSS 或 JavaScript 或 Jquery制作“只读**div ”。**不仅是文本框和所有。满`div`。该 div 包含任何内容（图像、其他 div、文本框、...）

这应该得到所有浏览器的支持。

任何的想法？

* * *

## 回答 #1

> 赞同：59
> 
> 时间：2013-03-20T05:43:09.320

您可以使用`pointer-events: none;`在某些元素上禁用鼠标 DOM 交互（如单击、悬停等）。例子：

```
div {
    pointer-events: none;
}
```

```
<div>
    <input type="text" value="value" />
    <br />
    <textarea>value</textarea>
</div>
```

但是，即使`pointer-events: none;`存在，仍然可以使光标专注于元素（或其子元素）。这意味着如果我们将光标焦点移到`<input />`标签上，则可以编辑该值。

示例：尝试单击`<input />`标签，然后在键盘上按**Tab**，光标焦点将在输入上，使其可编辑。

* * *

要使`<input />`标签**完全不可编辑**，请将`readonly`属性放在标签上。下面是使用 jQuery 完成此操作的简单示例`.prop()`。您也可以根据需要将属性直接放在标签上。

```
$("input, textarea").prop("readonly", true);
```

```
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
<div>
  <input type="text" value="value" />
  <br />
  <textarea>value</textarea>
</div>
```

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2013-03-20T05:46:02.803

不幸的是，你不能用 CSS 做到这一点，你`readonly`在 HTML 元素的属性之后。你可以很容易地使用 JavaScript 完成你想要的，这里有一个使用 jQuery 的例子。

[jsFiddle](http://jsfiddle.net/tUng2/)

**HTML**

```
<div class="readonly">
    <input type="text" />
    <div><input type="checkbox" /> Blah</div>
    <textarea>abc</textarea>
</div> 
```

**JavaScript**

```
$(document).ready(function() {
    $('.readonly').find('input, textarea, select').attr('readonly', 'readonly');
}); 
```

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2013-03-20T05:37:43.777

恐怕，你不能用 CSS 控制元素的行为。

CSS 代表 Cascading Style Sheets - 它仅用于样式元素。

* * *

但是你可以使用`JavaScript`.

上面未经测试`jQuery`的示例：

```
$('#myDiv').children().attr('readonly', true); 
```

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2013-03-20T09:31:12.537

**只需尝试以下内容：**

***脚本部分：***

```
<script src="http://code.jquery.com/jquery-1.9.1.min.js"></script>
<script type="text/javascript">
$(document).ready(function () {
$("#previewDiv :input").attr("disabled", true); 
});
</script> 
```

***HTML部分：***

```
<div id="previewDiv">
<select>
    <option value="1">Option 1</option>
    <option value="2">Option 2</option>
    <option value="3">Option 3</option>
    <option value="4">Option 4</option>
</select>
<input type="text" name="test" value="test">
</div> 
```

我认为这可以帮助您解决问题。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2018-08-29T10:24:47.240

```
$("div").prop("readonly", true);

<div> 
    <input type="text" value="value" /> <br />
    <textarea>value</textarea>
</div> 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2020-10-21T04:07:06.353

$('div *').prop('disabled',true);

# c# - 文本框中的超链接与 Windows Phone 中的消息编辑器屏幕相同

> ID：15516086
> 
> 赞同：0
> 
> 时间：2013-03-20T05:34:23.983
> 
> 标签：c#, windows-phone-8

我有一个文本框，用户可以在其中输入文本，并且文本框下方有一个列表框，显示类的对象集合。当用户选择任何一个列表框项目时，我将使用列表框的选定事件中的 text 属性在文本框中显示列表框项目。现在我在这里关心的是我想将选定的列表框项目作为文本框中的超链接，它可以单击，就像在 windows phone 中的消息编辑器中一样。用户可以在选择项目后继续在文本框中输入文本以选择下一个列表框项目。任何人都可以帮助我找到解决方案。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-20T06:42:05.370

是的，现在很清楚。你能检查

这个链接' [http://www.jayway.com/2011/10/05/wp7-link-in-text-with-richtextbox-on-mango/](http://www.jayway.com/2011/10/05/wp7-link-in-text-with-richtextbox-on-mango/) '

希望这会帮助你。

你可以试试这个方法。

```
 <TextBlock x:Name="tbref" Visibility="Collapsed"/>
        <RichTextBox >
            <RichTextBox.Template>
                <ControlTemplate>
                    <StackPanel Orientation="Horizontal">
                        <HyperlinkButton  x:Name="txtnam" Content="{Binding  Text,ElementName=tbref}" HorizontalAlignment="Left" VerticalAlignment="Center" />
                        <TextBox  Width="200"/>
                    </StackPanel>
                </ControlTemplate>
            </RichTextBox.Template>
        </RichTextBox> 
```

选择事件处理程序

```
 private void lst_SelectionChanged_1(object sender, SelectionChangedEventArgs e)
        {
         var selectedString = lst.SelectedItem;
         tbref.Text = selectedString.ToString(); 
        } 
```

# wcf - 未在客户端调用回调

> ID：15516087
> 
> 赞同：0
> 
> 时间：2013-03-20T05:34:25.700
> 
> 标签：wcf

我有一个自托管服务，可以处理客户端通过 net.tcp 绑定提交的长时间运行的作业。当作业运行时（在 a 内[`Task`](http://msdn.microsoft.com/en-us/library/system.threading.tasks.task.aspx)），服务将通过单向回调将状态更新推送到客户端。这很好用，但是当我尝试调用另一个回调来通知客户端作业已完成（也是单向）时，永远不会在客户端上接收/调用回调。在这个过程中我没有收到任何异常。

我的回调合约如下所示：

```
public interface IWorkflowCallback
{

    [OperationContract(IsOneWay = true)]
    [ApplySharedTypeResolverAttribute]
    void UpdateStatus(WorkflowJobStatusUpdate StatusUpdate);

    [OperationContract(IsOneWay = true)]
    [ApplySharedTypeResolverAttribute]
    void NotifyJobCompleted(WorkflowJobCompletionNotice Notice);

} 
```

调用回调的服务中的代码：（不在服务实现本身中，而是直接从服务实现中调用）

```
public WorkflowJobTicket AddToQueue(WorkflowJobRequest Request)
{
    if (this.workflowEngine.WorkerPoolFull)
    {
        throw new QueueFullException();
    }
    var user = ServiceUserManager.CurrentUser;
    var context = OperationContext.Current;
    var workerId = this.workflowEngine.RunWorkflowJob(user, Request, new Object[]{new DialogServiceExtension(context)});
    var workerjob = this.workflowEngine.FindJob(workerId);
    var ticket = new WorkflowJobTicket()
    {
        JobRequestId = Request.JobRequestId,
        JobTicketId = workerId
    };
    user.RegisterTicket<IWorkflowCallback>(ticket);
    workerjob.WorkflowJobCompleted += this.NotifyJobComplete;
    workerjob.Status.PropertyChanged += this.NotifyJobStatusUpdate;
    this.notifyQueueChanged();
    return ticket;
}
protected void NotifyJobStatusUpdate(object sender, PropertyChangedEventArgs e)
{
    var user = ServiceUserManager.GetInstance().GetUserWithTicket((sender as WorkflowJobStatus).JobId);
    Action<IWorkflowCallback> action = (callback) =>
    {
        ICommunicationObject communicationCallback = (ICommunicationObject)callback;
        if (communicationCallback.State == CommunicationState.Opened)
        {
            try
            {
                var updates = (sender as WorkflowJobStatus).GetUpdates();
                callback.UpdateStatus(updates);
            }
            catch (Exception)
            {
                communicationCallback.Abort();
            }
        }
    };
    user.Invoke<IWorkflowCallback>(action);
}
protected void NotifyJobComplete(WorkflowJob job, EventArgs e)
{
    var user = ServiceUserManager.GetInstance().GetUserWithTicket(job.JobId);
    Action<IWorkflowCallback> action = (callback) =>
    {
        ICommunicationObject communicationCallback = (ICommunicationObject)callback;
        if (communicationCallback.State == CommunicationState.Opened)
        {
            try
            {
                var notice = new WorkflowJobCompletionNotice()
                {
                    Ticket = user.GetTicket(job.JobId),
                    RuntimeOptions = job.RuntimeOptions
                };
                callback.NotifyJobCompleted(notice);
            }
            catch (Exception)
            {
                communicationCallback.Abort();
            }
        }
    };
    user.Invoke<IWorkflowCallback>(action);
} 
```

在该`user.Invoke<IWorkflowCallback>(action)`方法中，`Action`通过 传递回调通道的实例`OperationContext.GetCallbackChannel<IWorkflowCallback>()`。

我可以看到调用作业完成通知的任务是由服务执行的，但我没有在客户端收到调用。此外，在发送完成通知后，可以成功调用更新回调，因此不会出现通道正在悄悄发生故障。

知道为什么在这两个实现几乎相同的回调中，只有一个有效吗？

提前感谢您的任何见解。

# javascript - 在三星智能电视应用程序中实现内容滚动条

> ID：15516093
> 
> 赞同：1
> 
> 时间：2013-03-20T05:34:50.080
> 
> 标签：javascript, samsung-smart-tv

我有一个`javascript`显示项目列表的简单智能电视应用程序（应用程序）。我想要对项目列表进行分页。我的解决方案是为应用程序创建滚动条。但是如何在三星智能电视应用程序中实现滚动条。请帮我！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-21T11:35:45.963

三星浏览器不支持显示滚动条，需要自己实现。此外，2010-2011 电视浏览器不支持水平滚动。

# c - 在同一个 C 程序中同时使用 putchar 和 printf？

> ID：15516094
> 
> 赞同：0
> 
> 时间：2013-03-20T05:34:52.380
> 
> 标签：c, standard-library

我编写了一个小型 C 程序，我想在其中显示与某些按键对应的数字 ASCII 值。

我的代码如下。问题是，运行程序后，它接受输入，但不做任何其他事情。它甚至没有到达第一个 printf 语句。我无法弄清楚问题是什么 -**在同一个程序中将 getchar() 函数与 printf() 函数混合是否有问题？**

```
#include <stdio.h> 

int main() {

    const int numKeys = 256;

    int keys[numKeys];

    int i;
    for (i = 0; i < numKeys; i++) {

        keys[i] = 0;
    }

    printf("\n Start pressing some keys!\n\n");

    int c;
    while ((c = getchar()) != EOF) {

        printf(" CAPTURED: %d\n", c);

        keys[c]++;
    }

    printf("\n\n ** RESULTS ** \n\n");

    for (i = 0; i < numKeys; i++) {

        if (keys[i] != 0) {

            printf(" Key with value %d was called %d times.", i, keys[i]);
        }
    }
} 
```

我应该澄清一下，我有一台安装了 Cygwin 的 Windows XP Pro 机器。我使用 Cygwin 作为我的开发空间，所以我想知道在那个环境中运行这种类型的程序时是否有什么不同。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-20T05:44:23.097

我发现了问题。我想你想用

`while ((c = getchar()) != EOF && c != '\n')`

相反，如果您想让它在该人点击输入/返回后打印结果。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-20T05:59:35.303

问题 1：`printf(" CAPTURED: %d\n", c);`无需`Enter`按键即可到达 解决方案：`getche()`在 while 循环中使用。

问题 2：进入 'printf("\n\n ** RESULTS ** \n\n");' 还是本质上打破了while循环？

解决方案：**你不能**。`EOF`只要您从键盘上阅读，您就永远不会得到。解决方法：关闭标准输入或使用除`EOF`.

编辑：解决方法2：->使用 getchar() 本身。但是要打印那些输入的字符，你需要`Enter`按键。现在在windows上`ctrl+z`给出`EOF`，但这应该是`**FIRST**`你`Enter`按键后的输入。好吧，这不是一个好的解决方案。

如果你想要一个**“按键显示时间按下场景。没有简单的方法（AFAIK）”**

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-02-21T12:34:21.367

我相信第一`printf`条语句被执行，但由于缓冲没有立即显示在屏幕上。用于`fflush(stdout)`将缓冲区的内容发送到屏幕。IE：

```
printf("\n Start pressing some keys!\n\n");
fflush(stdout); 
```

# sql - SQL Server 2008 批量导入问题

> ID：15516096
> 
> 赞同：0
> 
> 时间：2013-03-20T05:34:59.787
> 
> 标签：sql, sql-server-2008

我一直在处理这个问题，但无法找出我做错了什么。我有一个包含数据的 CSV 文件，例如

```
123,Jon,Son,M,1 
```

当我运行查询

```
BULK INSERT MYDB2..Dependent FROM 'c:\db3\db.csv'
WITH
(FIELDTERMINATOR=',',
ROWTERMINATOR = '/n') 
```

我收到类似的错误

> *第 1 行第 5 列 (AGE) 的批量加载数据转换错误（指定代码页的类型不匹配或无效字符）。*

问题是我制作了表格的精确副本，所以我的表格不可能不匹配。

我相信问题是我的查询格式。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-20T06:12:19.680

确实有点小问题，应该是\n，而不是/n

```
 BULK INSERT [Dependent] FROM 'c:\db3\db.csv'
WITH
(FIELDTERMINATOR=',' ,ROWTERMINATOR = '\n') 
```

# sql-server - SQL Server：确保两列唯一值的约束

> ID：15516098
> 
> 赞同：0
> 
> 时间：2013-03-20T05:35:03.550
> 
> 标签：sql-server, constraints

我有一个有 2 列的表，`Username`&`Email`

```
Username    |    Email
-------------------------
a@a.com     |     a@a.com
b@b.com     |     c@c.com 
```

我希望`Username`除当前记录之外的两列中都是唯一的。

列也一样`Email`。

例如，如果我尝试将以下行插入表中，则不应允许。

```
Username    |    Email
e@e.com     |     b@b.com
c@c.com     |     f@f.com 
```

这可以通过 SQL Server 约束来完成吗？

此致

# jquery - 单击 div 时向 jquery 数组或 json 对象添加和删除 div 类

> ID：15516102
> 
> 赞同：0
> 
> 时间：2013-03-20T05:35:14.017
> 
> 标签：jquery, arrays, json, class, html

基本上我想要做的是有一个 div，一旦点击，孩子的类就会被添加到 JQuery 数组甚至 JSON 对象中。再次单击 div 后，我希望从数组中删除该类。多个 div 必须能够被“选中”和取消选中。

我已经成功地将子类或 id 添加到数组中，如下所示：

```
var skinCare=[];
    $('.skinCare').click(function(){
        var value = event.target.className.split(" ")[0];
        var index = skinCare.indexOf(value); 
        if($('.skinCare').hasClass('selected')){
            //$('.skinCare').removeClass('selected');
            skinCare.splice(skinCare.indexOf(index), 1);
        } 
```

但是我无法完成从数组中删除它：

```
else if($.inArray(value, skinCare) == -1){

            skinCare.push(value);
        }
    }); 
```

这是我制作的一个 jsfiddle，说明了我的意思：http: [//jsfiddle.net/bzYCm/](http://jsfiddle.net/bzYCm/)

顺便说一句，这是我一两天前遇到的问题的更新。这个问题仍然没有解决，所以我重新设计了我所拥有的，我想我现在问这个问题更好了。

这是前几天的帖子：[在基于单击的 div 的 JQuery 数组中添加和删除值时遇到问题](https://stackoverflow.com/questions/15469209/having-an-issue-with-adding-and-deleting-values-in-a-jquery-array-based-upon-cli)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-20T05:43:40.737

您的测试`$('.skinCare').hasClass('selected')`是错误的，因为它测试了带有 class 的第一个元素是否`skinCare`具有 class `selected`。相反，您需要测试单击的元素是否具有类`selected`，它是由`$(this).hasClass('selected')`.

```
var skinCare=[];
$('.skinCare').click(function(){
    var value = event.target.className.split(" ")[0];
    var index = skinCare.indexOf(value); 
    if($(this).hasClass('selected')){
        //$('.skinCare').removeClass('selected');
        skinCare.splice(index, 1);
    } else if($.inArray(value, skinCare) == -1){
        skinCare.push(value);
    }
}); 
```

演示：[小提琴](http://jsfiddle.net/arunpjohny/MWcfG/2/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-21T19:54:23.877

> 它是关于添加类的函数和评估“hasClass”的函数之间的时间，如果有类，则必须评估是否存在于 insted 数组中......
> 
> ## >[扎克·德夫](https://stackoverflow.com/questions/15536055/jquery-works-in-jsfiddle-but-not-live-site)

这有效：

```
var skinCare = [];
        $('.skinCare').click(function(){
            var value = event.target.className.split(" ")[0];
            var index = skinCare.indexOf(value); 
            if(index >= 0){
                skinCare.splice(index, 1);
            } else if($.inArray(value, skinCare) == -1){
                skinCare.push(value);
            }
        }); 
```

# php - 如何获取动态的id 标签并在单击时更改其背景颜色？

> ID：15516103
> 
> 赞同：-2
> 
> 时间：2013-03-20T05:35:14.133
> 
> 标签：php, javascript, jquery

以下是代码

```
 foreach($this->categoryResult as $CatResult)
    {
        echo "<div id=".$CatResult['id']." onclick='$(this).css('background-color','#1adec9')'><p id=".$CatResult['id']." class='CatgrySelect' onClick='load_subcategory(".$CatResult['id'].")'>".$CatResult['description']." > </p></div>";
        echo "<input type='hidden' class='CatID' name='CatID' value=".$CatResult['id'].">";
        //echo $CatResult['id'];
    } 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-20T05:50:21.037

有一个概念叫做[Unobtrusive Javascript](http://en.wikipedia.org/wiki/Unobtrusive_JavaScript)。

```
$(document).on('click', 'p.CatgrySelect', function(eV) {
     var pItem = $(this);
     var divItem = $(this).parents("div:first");

     pItem.css({"background-color":"#abc"});
     divItem.css({"background-color":"#cba"});
}); 
```

如果您可以引用包含此动态 DOM 元素的任何其他父 DOM 元素，则可以`document`在事件侦听器上替换它。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-20T06:44:42.297

```
 foreach($this->categoryResult as $CatResult)
 {
   echo "<div id='".$CatResult['id']."'><p id='".$CatResult['id']."' class='CatgrySelect'>".$CatResult['description']."</p></div>";
    echo "<input type='hidden' class='CatID' name='CatID' value='".$CatResult['id']."'>";
    //echo $CatResult['id'];
 }

 $(".CatgrySelect").click(function(){
   $(this).parent().css('background-color','#1adec9');
 }); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-20T05:44:23.873

尝试这个：

```
echo "<div id=".$CatResult['id']." onclick='$(this).css(\'background-color\',\'#1adec9\')'> 
```

在引号之类的内容之前添加“\”一般告诉文本解析器您希望避免在该点拆分字符串

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-20T06:49:31.543

尝试这个：

```
foreach($this->categoryResult as $CatResult)
{
     echo "<div id='".$CatResult['id']."'><p id='".$CatResult['id']."' class='CatgrySelect'>".$CatResult['description']."</p></div>";
     echo "<input type='hidden' class='CatID' name='CatID' value='".$CatResult['id']."'>";
    //echo $CatResult['id'];
} 
```

试试这个 jquery/javascript：

```
$(".CatgrySelect").live('click',(function(){
     $(this).parent().css('background-color','#1adec9');
}); 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-03-20T05:49:42.487

**看起来你有两个同名的 IDS.. 那是无效的.. ID 应该始终是唯一的**

尝试这个

```
foreach($this->categoryResult as $CatResult)
{
    echo "<div><p id=".$CatResult['id']." class='CatgrySelect' >".$CatResult['description']." > </p></div>";
    echo "<input type='hidden' class='CatID' name='CatID' value=".$CatResult['id'].">";
    //echo $CatResult['id'];
} 
```

**javascript**

```
 $('document').on('click', 'p.CatgrySelect', function() {
   var p = $(this);
   var div = p.parent();

   p.css({"background-color":"#abc"});
   div.css({"background-color":"#cba"});
}); 
```

# objective-c - iPhone从plist获取数据

> ID：15516106
> 
> 赞同：-1
> 
> 时间：2013-03-20T05:35:26.450
> 
> 标签：objective-c

英语不是我的母语；请原谅打字错误。

我已经阅读了类似的问题，但我找不到任何可以解决我的问题的东西..

我正在制作一个在表格视图中显示笔记列表的 iPhone 应用程序，用户可以添加和删除笔记。

当我向服务器添加新注释时，我得到一个如下所示的 plist：

```
<plist>
    <dict>
        <key>success</key><true />
        <key>note</key><string>new note</string>
    </dict>
</plist> 
```

用户点击`add`按钮后，我请求连接到服务器，我这样做了，

```
-(void)connection:(NSURLConnection *)connection didReceiveData:(NSData *)data{
    [resultData appendData:data];
} 
```

进而

```
-(void)connectionDidFinishLoading:(NSURLConnection *)connection{
    NSError *sendError;
    NSArray *result = [NSPropertyListSerialization propertyListWithData:resultData options: NSPropertyListMutableContainersAndLeaves format:NULL error:&sendError];
    if([result count] > 0){
        for(NSDictionary *dict in result){
            for(NSDictionary *dict in result){
                // This gives me an error "objectForKey: unrecognized selector to instance"
                NSLog(@"%@", [dict objectForKey:@"success"]);
            }
        }
    }
} 
```

我认为那`dict`可能不是字典，所以我尝试了一下`NSLog(@"%@", dict);`，它显示为`success`. 但是，我仍然不知道如何获得`success`.

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-20T05:46:47.473

试试这个 ：：

.h 文件

```
@property (nonatomic,retain) NSDictionary *dict; 
```

.m 文件

```
NSString *errorDesc = nil;
NSPropertyListFormat format;
NSString *rootPath;

rootPath = [[NSBundle mainBundle] pathForResource:@"FILE_NAME" 
                                               ofType:@"plist"];

NSData *plistXML = [[NSFileManager defaultManager] contentsAtPath:rootPath];    

dict = (NSDictionary *)[NSPropertyListSerialization propertyListFromData:plistXML mutabilityOption:NSPropertyListMutableContainersAndLeaves format:&format errorDescription:&errorDesc];

//NSLog(@"PLIST retrive:%@",plistXML);    
if (!dictLang) {
    NSLog(@"Error reading plist: %@, format: %d", errorDesc, format);
} 
```

获取价值 ::

```
NSLog(@" Success :: %@", [dict objectForKey:@"success"]); 
```

希望，它会帮助你。

谢谢。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-20T05:40:37.860

on 方法的返回值`NSPropertyListSerialization`——从逻辑上讲——是你收到的属性列表的根对象。也是`result`一个`NSDictionary`（我什至无法想象你为什么认为它是一个数组......！？）。试试这个：

```
NSLog(@"%@", [result objectForKey:@"success"]); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-20T05:48:09.133

```
if ([[NSPropertyListSerialization propertyListWithData:resultData options: NSPropertyListMutableContainersAndLeaves format:NULL error:nil] isKindOfClass:[NSDictionary class]])
    {
        NSMutableDictionary *tempDicts = [NSPropertyListSerialization propertyListWithData:nil options: NSPropertyListMutableContainersAndLeaves format:NULL error:nil];
    }
    else if ([[NSPropertyListSerialization propertyListWithData:resultData options: NSPropertyListMutableContainersAndLeaves format:NULL error:nil] isKindOfClass:[NSArray class]])
    {
        NSMutableArray *tempDicts = [NSPropertyListSerialization propertyListWithData:nil options: NSPropertyListMutableContainersAndLeaves format:NULL error:nil];
    } 
```

# ruby-on-rails - Rails memcache 存储默认自动过期时间

> ID：15516112
> 
> 赞同：6
> 
> 时间：2013-03-20T05:36:06.553
> 
> 标签：ruby-on-rails, memcached, dalli

我一直在努力找出 Rails 是否设置了一些默认过期时间，以防我们在将键值对存储到内存缓存时不提供任何时间？例如 Rails.cache.write('some-key', 'some-value')

如果我们没有指定，rails 会默认设置一些过期时间吗？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-20T06:28:15.910

如果您使用的是较新的（我认为更好）[Dalli](https://github.com/mperham/dalli) memcached gem，您可以使用如下行在适配器级别配置它：

```
config.cache_store = :dalli_store, 'cache-1.example.com', 'cache-2.example.com',
  { :namespace => NAME_OF_RAILS_APP, :expires_in => 1.day} 
```

有关该选项的详细说明，请参阅[自述文件。](https://github.com/mperham/dalli)`:expires_in`总的来说，我认为 Dalli 值得一试的不仅仅是这个功能，它还更快，并且支持一些更新的身份验证功能等。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2013-03-20T05:58:08.540

`MemCacheStore`如果您使用Rails 提供的默认内置类，则不需要。当您创建新的缓存条目时，它不会假定到期时间。您可以[阅读适用的代码](https://github.com/rails/rails/blob/master/activesupport/lib/active_support/cache/mem_cache_store.rb#L132)来验证这一点。它检查您是否已将`expires_in`选项传递给`#write`方法，例如

```
Rails.cache.write("key", "content", expires_in: 2.hours) 
```

如果没有，只需将 0 传递给 memcache，表示没有到期时间。希望这可以帮助！

# json - 在地图上显示不同的颜色或在鼠标悬停事件上显示颜色

> ID：15516118
> 
> 赞同：0
> 
> 时间：2013-03-20T05:36:55.873
> 
> 标签：json, d3.js

```
I have made a map in d3 for usa. Now I want to apply different color as soon as i move my mouse on the province area or from first have many colors to the map.

My code is :
 <script type="text/javascript">
      var w = 1560;
      var h = 900;
      var color = d3.scale.category10();
      var proj = d3.geo.mercator();
      var path = d3.geo.path().projection(proj);
      var t = proj.translate(); // the projection's default translation
      var s = proj.scale() // the projection's default scale

      var map = d3.select("#vis").append("svg:svg")
        .attr("width", w)
        .attr("height", h)
        .call(d3.behavior.zoom().on("zoom", redraw));

      var axes = map.append("svg:g").attr("id", "axes");

      var xAxis = axes.append("svg:line")
        .attr("x1", t[0])
        .attr("y1", 0)
        .attr("x2", t[0])
        .attr("y2", h);

      var yAxis = axes.append("svg:line")
        .attr("x1", 0)
        .attr("y1", t[1])
        .attr("x2", w)
        .attr("y2", t[1]);

      var uk = map.append("svg:g").attr("id", "uk");
 d3.json("tryusa.json", function (json) {
          uk.selectAll("path")
          .data(json.features).on("mouseover", function () { d3.select(this).style("fill", "aqua"); })
        .enter().append("svg:path")
         .attr("d", path)
          .on("click", click)
          .on("click", function () { window.open("Default3.aspx") })
        .append("svg:title")
        .text(function (d) { return d.properties.name; })

      });

      svg.selectAll(".subunit")
    .data(topojson.object(uk, uk.objects.subunits).geometries)
  .enter().append("path")
    .attr("class", function (d) { return "subunit " + d.id; })
    ;

      function redraw() {
          var tx = t[0] * d3.event.scale + d3.event.translate[0];
          var ty = t[1] * d3.event.scale + d3.event.translate[1];
          proj.translate([tx, ty]);

          // now we determine the projection's new scale, but there's a problem:
          // the map doesn't 'zoom onto the mouse point'
          proj.scale(s * d3.event.scale);

          // redraw the map
          uk.selectAll("path").attr("d", path);

          // redraw the x axis
          xAxis.attr("x1", tx).attr("x2", tx);

          // redraw the y axis
          yAxis.attr("y1", ty).attr("y2", ty);
      }

  </script> 
```

我尝试了一些类似鼠标悬停事件的事情，但我无法得到结果。

我还尝试使用内置功能自动显示不同的颜色。但我也无法做到这一点。我是 d3 的新手，请您帮帮我。颜色可以放在鼠标悬停事件上或从第一个开始。什么都行。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-20T07:15:29.427

您可以在用于填充的函数上使用一个参数（以及其他所有内容）：

```
.data(json.features)
.on("mouseover", function (d, i) { d3.select(this).style("fill", d.color); }) 
```

`json.features`颜色是数组每个字段的属性之一。在这个函数中，参数`d`代表数据（这里是状态），`i`代表状态在`json.features`数组中的索引。

在这个 d3 示例中可以看到节点颜色的示例实现：http: [//bl.ocks.org/mbostock/4062045](http://bl.ocks.org/mbostock/4062045)

# c# - 如何在 MVC C# 中授予用户访问权限？

> ID：15516123
> 
> 赞同：1
> 
> 时间：2013-03-20T05:37:22.453
> 
> 标签：c#, asp.net-mvc

我想根据用户角色授予用户访问权限。我有两个用户角色。他们是管理员和用户。

我这样写我的控制器。

```
[Authorize(Roles = "Admin")] // my Problem is here. I don't know how to set the current user role

public ActionResult Index()
{
    var query = from company in db.tblCompanies
                select company;
    return View(query.ToList());
} 
```

但我不知道如何设置`Roles = "Admin"`客户登录后。在我的用户故事中，我有角色 coloum，它可以保存管理员或用户。但我不知道如何设置以及我应该在哪里设置`Roles = "Admin".`

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-20T05:49:44.040

看看这个 ：

[http://www.asp.net/mvc/tutorials/mvc-music-store/mvc-music-store-part-7](http://www.asp.net/mvc/tutorials/mvc-music-store/mvc-music-store-part-7)

您基本上是通过 ASP.NET 配置网站为您的用户分配角色。完成后，默认情况下会处理用户角色映射。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-20T06:04:11.090

根据您的问题，我得到的是您想将当前登录的用户设置为某个角色。所以这是我对此的回答。

**要将用户添加到角色：**

```
Roles.AddUserToRole(userName, roleName); 
```

**从角色中删除用户：**

```
Roles.RemoveUserFromRole(userName, roleName); 
```

参考链接：

1.  [SO - 如何在创建帐户时为用户分配角色](https://stackoverflow.com/a/3333796/468718)
2.  [MSDN - 实现自定义角色提供程序](http://msdn.microsoft.com/en-us/library/8fw7xh74.aspx)
3.  [MSDN - Roles.AddUserToRole 方法](http://msdn.microsoft.com/en-us/library/system.web.security.roles.addusertorole.aspx)
4.  [MSDN - Roles.RemoveUserFromRole 方法](http://msdn.microsoft.com/en-us/library/system.web.security.roles.removeuserfromrole.aspx)

# ruby-on-rails - 理解 Ruby 消息

> ID：15516128
> 
> 赞同：0
> 
> 时间：2013-03-20T05:37:45.840
> 
> 标签：ruby-on-rails, ruby, ruby-on-rails-3, ruby-on-rails-3.1, rubygems

提供一些背景资料；过去几个月我一直在学习 Ruby（已经阅读了大部分 Well-Grounded-Rubyist，完成了 Poignant ruby​​ 指南，并计划在之后阅读 Eloquent ruby​​）我已经掌握了大多数概念，即对象、Ruby 内核（基础）、范围，循环等等，但是，在将消息/方法发送到代码时，我感到困惑。

我们以这行代码为例：`toolkit = Toolkit.get_default_toolkit`

现在 toolkit 是 Toolkit 对象的变量，而 get_default_toolkit 是方法/消息。我在大多数代码中发现模棱两可的是方法/消息没有在任何地方定义。所以我的问题是，是否有一个我们（rubyists）可以研究的核心消息/方法列表，这些信息/方法可以在基础层面使用？

还是这些方法的范围很大，并且在程序中的其他地方定义？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-03-20T05:43:46.217

这些方法是在类定义中定义的，因为它们几乎适用于每种语言。`get_default_toolkit`不是您必须通过核心 Ruby 类来查找的低级方法，它是类的一部分，`Toolkit`并且将在定义该类的任何位置进行定义。

有*这样的*方法，比如在`Kernel`or中定义的那些`Object`，但`get_default_toolkit`不是其中之一。

对于任何给定的方法，您可以通过调用确定它是在哪个类中定义的`object.method('method_name').owner`，或者通过调用找出它的定义位置（文件/行号）`.source_location`。

> 现在 toolkit 是 Toolkit 对象的变量

更好的表达方式是，它`toolkit`是一个变量，`Toolkit`是一个类，现在包含该类的`toolkit`一个新*实例*`Toolkit`。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-20T07:27:42.287

如果您想查找可用于对象或类的方法调用，您可以在其上调用 .methods

例如

```
pp String.methods.sort

thing = Array.new
pp thing.methods.sort 
```

我喜欢用 pp 调用它们并排序，以便它们以可读的方式打印

# notepad++ - 如何在记事本中添加第一行的结尾和第二行的开头

> ID：15516129
> 
> 赞同：0
> 
> 时间：2013-03-20T05:37:50.817
> 
> 标签：notepad++

我在记事本中遇到如下问题

我有 1
0 件杂货

我想要这条线为“我有 10 个杂货”

任何人都可以帮助我使用记事本++

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-20T07:11:45.373

**如果您只想删除所有换行符：**

转到“替换”窗口 ( `Ctrl`+ `H`)。

在“搜索模式”下选择“扩展”。

查找内容：`\r\n`
替换为：（无）

单击“全部替换”。

`\r\n`是 Windows 上的标准换行符。如果您想在 Linux（或有时也在 Windows）上执行此操作，您可能只需要`\n`.

这可能仅适用于 Notepad++ 6 及更高版本。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-21T12:57:53.117

您可以使用正则表达式查找和替换来连接所有相似的行对。

输入`(i am having [0-9]+)\r\n([0-9]+ groceries)`“查找内容”框并输入`\1\2`“替换为”框。然后将搜索模式指定为“正则表达式”。

更改 Find What 文本`([0-9])\r\n([0-9])`将允许连接在两位数之间有换行符的所有行。

在这两种情况下，我都建议使用**替换**按钮而不是**全部替换**，以便轻松检测任何不应连接的线对。

# r - R中基于时间的复杂子集

> ID：15516135
> 
> 赞同：0
> 
> 时间：2013-03-20T05:38:24.850
> 
> 标签：r

我有很多时间数据（YYYY/MM/DD HH:MM:SS.SSS）以不规则的数千秒间隔存储。在每个时间段有十个空间测量值（X、Y 和 Z 值）。

我想要的是数据的一个子集，例如每半秒（或几分之一秒）的第一组十个空间测量。

我对 R 相当陌生，所以任何帮助将不胜感激！

以下是 2 个测量时间的示例：

```
2012/09/21 14:59:07:712,A,0.036,0.224,0.814
2012/09/21 14:59:07:712,B,0.042,0.057,0.934
2012/09/21 14:59:07:712,C,-0.104,0.008,0.930
2012/09/21 14:59:07:712,D,0.158,0.001,0.914
2012/09/21 14:59:07:712,E,-0.208,-0.168,0.778
2012/09/21 14:59:07:712,F,-0.185,0.087,0.748
2012/09/21 14:59:07:712,G,-0.176,0.155,0.738
2012/09/21 14:59:07:712,H,0.236,-0.171,0.790
2012/09/21 14:59:07:712,I,0.244,0.076,0.732
2012/09/21 14:59:07:712,J,0.248,0.137, 0.722
2012/09/21 14:59:07:848,A,0.036,0.224,0.814
2012/09/21 14:59:07:848,B,0.042,0.057,0.934
2012/09/21 14:59:07:848,C,-0.104,0.008,0.930
2012/09/21 14:59:07:848,D,0.158,0.001,0.914
2012/09/21 14:59:07:848,E,-0.208,-0.168,0.778
2012/09/21 14:59:07:848,F,-0.185,0.087,0.748
2012/09/21 14:59:07:848,G,-0.176,0.155,0.738
2012/09/21 14:59:07:848,H,0.236,-0.171,0.790
2012/09/21 14:59:07:848,I,0.244,0.076,0.732
2012/09/21 14:59:07:848,J,0.248,0.137, 0.722 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-20T07:15:15.600

目前尚不清楚您想做什么。您可以从读取数据开始。因为它是不规则的时间序列，并且包含一个因子变量（第一组），所以你不能使用像`zoo`or这样的方便的包`xts`，因为它们需要一个矩阵作为结构。但是你可以`fread`从`data.table`包中使用：

```
library(data.table)
dat <- fread('2012/09/21 14:59:07:712,A,0.036,0.224,0.814
2012/09/21 14:59:07:712,B,0.042,0.057,0.934
2012/09/21 14:59:07:712,C,-0.104,0.008,0.930
2012/09/21 14:59:07:712,D,0.158,0.001,0.914
2012/09/21 14:59:07:712,E,-0.208,-0.168,0.778
2012/09/21 14:59:07:712,F,-0.185,0.087,0.748
2012/09/21 14:59:07:712,G,-0.176,0.155,0.738
2012/09/21 14:59:07:712,H,0.236,-0.171,0.790
2012/09/21 14:59:07:712,I,0.244,0.076,0.732
2012/09/21 14:59:07:712,J,0.248,0.137, 0.722
2012/09/21 14:59:07:848,A,0.036,0.224,0.814
2012/09/21 14:59:07:848,B,0.042,0.057,0.934
2012/09/21 14:59:07:848,C,-0.104,0.008,0.930
2012/09/21 14:59:07:848,D,0.158,0.001,0.914
2012/09/21 14:59:07:848,E,-0.208,-0.168,0.778
2012/09/21 14:59:07:848,F,-0.185,0.087,0.748
2012/09/21 14:59:07:848,G,-0.176,0.155,0.738
2012/09/21 14:59:07:848,H,0.236,-0.171,0.790
2012/09/21 14:59:07:848,I,0.244,0.076,0.732
2012/09/21 14:59:07:848,J,0.248,0.137, 0.722',header=FALSE) 
```

现在你可以玩你的结构了。例如，要获得前 5 个组，请执行以下操作：

```
 dat[V2 %in% LETTERS[1:5],]
                         V1 V2     V3     V4    V5
 1: 2012/09/21 14:59:07:712  A  0.036  0.224 0.814
 2: 2012/09/21 14:59:07:712  B  0.042  0.057 0.934
 3: 2012/09/21 14:59:07:712  C -0.104  0.008 0.930
 4: 2012/09/21 14:59:07:712  D  0.158  0.001 0.914
 5: 2012/09/21 14:59:07:712  E -0.208 -0.168 0.778
 6: 2012/09/21 14:59:07:848  A  0.036  0.224 0.814
 7: 2012/09/21 14:59:07:848  B  0.042  0.057 0.934
 8: 2012/09/21 14:59:07:848  C -0.104  0.008 0.930
 9: 2012/09/21 14:59:07:848  D  0.158  0.001 0.914
10: 2012/09/21 14:59:07:848  E -0.208 -0.168 0.778 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-10-20T01:06:01.020

这是我想出的能够解决问题的解决方案（唯一的弱点是它无法以 1 秒的间隔创建移动平均线）：

data_ID_P001 <- ddply(data_ID_P001, .(time_recorded, 联合), 总结, average_x_pos = mean(x_pos), average_y_pos = mean(y_pos), average_z_pos = mean(z_pos))

# android - 在android中发送消息的透明窗口

> ID：15516141
> 
> 赞同：0
> 
> 时间：2013-03-20T05:38:51.660
> 
> 标签：android, android-intent, message, transparent, onclicklistener

我有一个活动，它有一个 web 视图和一组按钮。我正在使用计时器来请求对这些按钮的关注。但是对于单击它们，我希望应该有一个透明窗口，除了布局之外，单击它会通知活动窗口单击已注册并调用 getCurrentFocus().performClick () 并且我希望这种情况一次又一次地发生，这意味着所有点击都必须通过透明窗口。所以在我的主要活动中，我这样做是为了调用透明活动

```
Intent trans = new Intent("web.browser.gk.TransparentActivity");
        startActivityForResult(trans,REQUEST_TRANSPARENT); 
```

在 onActivity 结果中我已经做到了

```
protected void onActivityResult(int requestCode, int resultCode, Intent data) {
        // TODO Auto-generated method stub
        super.onActivityResult(requestCode, resultCode, data);
        if (resultCode == RESULT_OK){ 
            switch(requestCode) {

            case REQUEST_TRANSPARENT:
                Toast.makeText(this, "TRANSPARENT Acitivity clicked ",Toast.LENGTH_SHORT).show();
                if(flag)
                {
                    numpad.getCurrentFocus().performClick();
                }
                else
                {
                getCurrentFocus().performClick();
                }
                        break;

            case REQUEST_CODE:

            if (data.hasExtra("websearch")) {
                Toast.makeText(this, data.getExtras().getString("websearch"),Toast.LENGTH_SHORT).show();
                String i =  data.getExtras().getString("websearch");
                webview.loadUrl(i);

            }
            break;
        }
        }

        Intent trans = new Intent("web.browser.gk.TransparentActivity");
        startActivityForResult(trans,REQUEST_TRANSPARENT);

    } 
```

现在的问题是，在我的代码中，我正在调用 webview.loadUrl(i) 但它不加载当前 url 。它仅在单击透明窗口后才加载该 url。任何建议如何处理。有没有其他方法可以实现这个透明窗口功能

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-20T05:42:37.950

一次只能运行一个活动，因此如果您设置一个透明活动，那么它后面的活动将被暂停。您可以使用 View 或 Fragment，但实际上如果您想要做的只是检测点击，那么处理此问题的最佳方法可能是简单地覆盖 dispatchTouchEvent。

```
@Override public boolean dispatchTouchEvent(MotionEvent me)
{
    if(me.getActionMasked() == MotionEvent.ACTION_DOWN) // user touched the screen
        doSomething();
    // pass the event on to the view that's supposed to get it
    return super.dispatchTouchEvent(me);
} 
```

# python - Python 快速排序实现遗漏了重复的元素

> ID：15516147
> 
> 赞同：2
> 
> 时间：2013-03-20T05:39:33.057
> 
> 标签：python, sorting, python-2.7, quicksort

我正在用 Python 实现快速排序。我的代码成功地对列表进行了排序，但未能包含重复的元素。请帮我找出错误。

```
from random import choice

def quickSort(lst):
    if not lst:
        return []
    else:
        pivot = choice(lst)
        lesser = quickSort([l for l in lst if l < pivot])
        greater = quickSort([l for l in lst if l > pivot])
        #print lesser, pivot, greater
        return lesser + [pivot] + greater

print quickSort([3, 2, 5, 6, 1, 7, 2, 4,234, 234, 23, 1234, 24, 132]) 
```

**输出：**

```
[1, 2, 3, 4, 5, 6, 7, 23, 24, 132, 234, 1234] 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-03-20T05:41:57.803

您的条件之一必须是`<=`或`>=`（但不是两者兼有）。

否则，您最终会选择其中一个重复元素作为枢轴，并且由于其他副本既不大于也不小于枢轴，因此它们不会传递给`lesser`or`greater`排序中的任何一个。

但是，由于您没有为您的项目使用唯一标识符，因此在您使用整数的示例中，这也将涉及您的枢轴被包含在集合中。为了避免这种情况，您可能需要为您的枢轴选择一个*索引而不是**值*。

例如：

```
from random import randint

def quickSort(lst):
    if not lst:
        return []
    else:
        pivot = randint(0, len(lst) - 1)
        pivot_value = lst[pivot]
        lesser = quickSort([l for i,l in enumerate(lst)
                           if l <= pivot_value and i != pivot])
        greater = quickSort([l for l in lst if l > pivot_value])
        return lesser + [pivot_value] + greater 
```

* * *

测试：

```
>>> from random import randint
>>>
>>> def quickSort(lst):
...     if not lst:
...         return []
...     else:
...         pivot = randint(0, len(lst) - 1)
...         pivot_value = lst[pivot]
...         lesser = quickSort([l for i,l in enumerate(lst)
...                            if l <= pivot_value and i != pivot])
...         greater = quickSort([l for l in lst if l > pivot_value])
...         return lesser + [pivot_value] + greater
...
>>> print quickSort([3, 2, 5, 6, 1, 7, 2, 4,234, 234, 23, 1234, 24, 132])
[1, 2, 2, 3, 4, 5, 6, 7, 23, 24, 132, 234, 234, 1234] 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-20T05:46:15.827

您不能确保列表中只有一个元素是相等的枢轴。你应该返回这个：

```
return lesser + [pivot]*(len(lst) - len(lesser)- len(greater)) + greater 
```

# ruby-on-rails - 向 itune 提交视频源

> ID：15516148
> 
> 赞同：1
> 
> 时间：2013-03-20T05:39:42.027
> 
> 标签：ruby-on-rails, ruby, ruby-on-rails-3, ruby-on-rails-3.1, app-store-connect

有没有办法在没有 iTunes 应用程序（如通过 API）的情况下直接将视频提要提交到 itune。我正在寻找一种直接从 ROR 应用程序提交提要或播客的方法。

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-03-05T10:31:12.030

应该可以从 iTunes API 执行此操作。看看这个[项目](https://code.google.com/p/itunes-remote-control-server/)，它提供了用于控制 iTunes 的命令行工具。源文件[macosx_itunescontroller.rb](https://code.google.com/p/itunes-remote-control-server/source/browse/lib/itunesController/macosx_itunescontroller.rb)有一个名为 addFilesToLibrary() 的方法，可以将曲目添加到 iTunes 库。如果您在 windows 上，那么这也是 windows 源文件的一个版本。

如果这不是你所需要的，应该可以做类似的事情。

# c++ - 将带有字符串成员的结构对象推入 std::vector 时出错

> ID：15516150
> 
> 赞同：0
> 
> 时间：2013-03-20T05:39:54.673
> 
> 标签：c++, string, vector, struct

我是一名 C#，学习 C++ 的 C 程序员，我遇到了一些麻烦。我正在尝试将结构类型“Person”的对象推送到向量中，但不会复制作为 Person 类型成员的字符串值。代码也以错误消息退出 - 发布在底部：

```
#include <iostream>
#include <vector>
#include <string>
#include <stdio.h>
#include <string.h>

using namespace std;

typedef struct Person {
    string Name;
    string Lastname;
    int Age;
} Person;

void CreatePerson(Person* in_person, string in_name, string in_last,
    int in_age) 
{
    Person t_person;
    t_person.Name = in_name;
    t_person.Lastname = in_last;
    t_person.Age = in_age;

    memcpy(in_person, &t_person, sizeof(t_person));
}

int main(int argc, char *argv[]) 
{
    vector<Person> people;
    Person t_ppl;

    CreatePerson(&t_ppl, "Zareh", "Petros", 13);
    people.push_back(t_ppl);

    CreatePerson(&t_ppl, "Tina", "Yarroos", 26);
    people.push_back(t_ppl);

    int ii;
    for(ii=0; ii < people.size() ; ii++) {
        cout << "Element - " << ii << endl;
        cout << "name:" << people[ii].Name << endl;
        cout << "lastname:" << people[ii].Lastname << endl;
        cout << "age:" << people[ii].Age << endl;
    }

    return 0;
} 
```

这是错误消息：

```
*** glibc detected *** ./a.out: double free or corruption (fasttop): 0x09d48048 ***
======= Backtrace: =========
/lib/i386-linux-gnu/libc.so.6(+0x75ee2)[0xb74e8ee2]
/usr/lib/i386-linux-gnu/libstdc++.so.6(_ZdlPv+0x1f)[0xb76e551f]
/usr/lib/i386-linux-gnu/libstdc++.so.6(_ZNSs4_Rep10_M_destroyERKSaIcE+0x1b)[0xb76cc99b]
/usr/lib/i386-linux-gnu/libstdc++.so.6(+0x909dc)[0xb76cc9dc]
/usr/lib/i386-linux-gnu/libstdc++.so.6(_ZNSsD1Ev+0x2e)[0xb76cca4e] 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-20T05:48:42.123

std::string 是一个类，不应被 memcpy 操作复制。它可能包含特定于实例的数据，如果由两个不同的实例持有，这些数据会被打乱（这可能是您的问题的原因）。

想象一下，std::string 类似于：

```
class string
{
private:
    char * data;
    int dataLength;
}; 
```

如果您将一个字符串 memcpy 到另一个字符串，则 data 和 dataLength 都会被复制到另一个地方（最近被视为普通字符串实例）。但是，当对这些字符串调用析构函数时（当它们超出范围时），它们将尝试释放`data`字段中保存的数据。第一个字符串（它是这个指针的实际所有者）将释放这个指针指向的内存。但是随后您复制的字符串的另一个析构函数将运行并尝试再次释放此内存，这是不允许的。

请注意，这正是您的系统报告的内容：双重释放内存。

您的代码非常 C 风格。在 C++ 中，人们会创建一个带有构造函数的类，而不是填充结构的函数。我会按以下方式编写您的代码：

```
#include <iostream>
#include <vector>
#include <string>
#include <stdio.h>
#include <string.h>

using namespace std;

struct Person 
{
public:
    string Name;
    string Lastname;
    int Age;

    Person(string newName, string newLastname, int newAge)
        : Name(newName), Lastname(newLastname), Age(newAge)
    {

    }
};

int main(int argc, char *argv[]) 
{
    vector<Person> people;

    Person person1("Zareh", "Petros", 13);
    people.push_back(person1);

    Person person2("Tina", "Yarros", 26);
    people.push_back(person2);

    for(unsigned int i=0; i < people.size() ; i++) 
    {
        cout << "Element - " << i << endl;
        cout << "name:" << people[i].Name << endl;
        cout << "lastname:" << people[i].Lastname << endl;
        cout << "age:" << people[i].Age << endl;
    }

    getchar();

    return 0;
} 
```

您的创建方法的角色采用类构造函数。它正确填写类的字段。此外，C++ 提供了默认的复制构造函数和赋值运算符，它们可以正确地将一个人分配给另一个人。

* * *

关于您的代码风格的一些旁注。

*   在 C++ 中避免使用`memcpy`. 如果您需要使用它，您可能应该考虑创建正确的复制构造函数 std::copy 或简单地进行分配（在您的情况下会完美地工作）。*仅*`memcpy`应在复制原始内存块时使用。
**   C++ 中的结构不再需要 typedef。而不是写：

    ```
    typedef struct Name { ... } Name; 
    ```

    你可以简单地写：

    ```
    struct Name { ... }; 
    ```* 

 ** * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-20T05:42:25.330

不要`memcpy()`在非 POD 类型上使用。它不调用复制构造函数。

改为使用`std::copy()`。

在这种情况下，更容易进行分配。代替：

```
memcpy(in_person, &t_person, sizeof(t_person)); 
```

和

```
*in_person = t_person; 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-03-20T05:56:15.570

你已经被告知你不应该`memcpy`在这种情况下使用，所以我不会重复这一点。

您的问题`CreatePerson`远远超出了使用的范围`memcpy`，而仅仅更改为`std::copy`并不能真正做到正确。

您应该几乎可以肯定地将该功能编写为构造函数，而不是创建一个人的自由函数：

```
struct Person {
    string Name;
    string Lastname;
    int Age;

    Person(string Name, string Last, int Age) 
       : Name(Name), LastName(Last), Age(Age) 
    {}
}; 
```

有了这个，我们可以更干净地创建 Person 对象：

```
std:::vector<Person> people;

people.push_back(Person("Zarah", "Petros", 13));
people.push_back(Person("Tina", "Yarroos", 26)); 
```

我还将编写一个插入器，负责以`Person`正确的格式显示 a：

```
std::ostream &operator<<(std::ostream &os, Person const &p) { 
    return os << "Name: " << p.Name < "\n"
              << "Last: " << p.LastName << "\n"
              << "Age:  " << p.Age << "\n";
} 
```

有了这个，你的主流代码可以将完整`Person`的对象插入到流中，而无需关注 a`Person`包含的内容或它应该如何显示的内部细节：

```
for (int i=0; i<people.size(); i++)
    std::cout << people[i] << "\n"; 
```

如果你想更有野心一点，你可以使用标准算法来代替：

```
std:copy(people.begin(), people.end(), 
         std::ostream_iterator<Person>(std::cout, "\n")); 
```

或者，如果您使用的是相对较新的编译器，则可以使用基于范围的 for 循环：

```
for (auto &p : people)
    std::cout << p << "\n"; 
```

把所有这些放在一起，你的完整程序最终会是这样的：

```
#include <string>
#include <iostream>
#include <vector>

using std::string;

struct Person {
    string Name;
    string LastName;
    int Age;

    Person(string Name, string Last, int Age) 
       : Name(Name), LastName(Last), Age(Age) 
    {}
};

std::ostream &operator<<(std::ostream &os, Person const &p) { 
    return os << "Name: " << p.Name << "\n"
              << "Last: " << p.LastName << "\n"
              << "Age:  " << p.Age << "\n";
}

int main(){ 
    std::vector<Person> people;

    people.push_back(Person("Zarah", "Petros", 13));
    people.push_back(Person("Tina", "Yarroos", 26));

    for (auto &p : people)
        std::cout << p << "\n";
    return 0;
} 
```*

# django - 即使密码正确，check_password 总是返回 false？

> ID：15516159
> 
> 赞同：2
> 
> 时间：2013-03-20T05:40:43.697
> 
> 标签：django, django-authentication

我正在使用 Django 1.5。我是这样的自定义用户模型：

```
class User(AbstractBaseUser):
    #id = models.IntegerField(primary_key=True)
    #identifier = models.CharField(max_length=40, unique=True, db_index=True)
    username = models.CharField(max_length=90, unique=True, db_index=True)
    create_time = models.DateTimeField(null=True, blank=True)
    update_time = models.DateTimeField(null=True, blank=True)
    email = models.CharField(max_length=225)
    #password = models.CharField(max_length=120)
    external = models.IntegerField(null=True, blank=True)
    deleted = models.IntegerField(null=True, blank=True)
    purged = models.IntegerField(null=True, blank=True)
    form_values_id = models.IntegerField(null=True, blank=True)
    disk_usage = models.DecimalField(null=True, max_digits=16, decimal_places=0, blank=True)
    objects = UserManager()
    USERNAME_FIELD = 'email'
    class Meta:
        db_table = u'galaxy_user' 
```

我有一个自定义身份验证：

```
class AuthBackend:

def authenticate(self, username=None, password=None):
    if '@' in username:
        kwargs = {'email': username}
    else:
        kwargs = {'username': username}
    try:
        user = User.objects.get(**kwargs)
        if user.check_password(password):
            return user
    except User.DoesNotExist:
        return None

def get_user(self, user_id):
    try:
        return User.objects.get(pk=user_id)
    except User.DoesNotExist:
        return None 
```

即使输入了正确的用户名和密码 check_password() 总是返回 false 所以我无法登录。我也在终端尝试过：

```
user.check_password(password) 
```

总是回来`False.`

```
#views.py:

def login_backend(request):
    if request.method == 'POST':
        username = request.POST['username']
        password = request.POST['password']
        user = authenticate(username=username, password=password)
        state = "Username or Password Incorrect!"
        if user is not None:
            login(request, user)
            return HttpResponseRedirect('/overview/')
        else:
            return render_to_response('login_backend.html', {'state':state}, context_instance=RequestContext(request))
    else:
        return render_to_response('login_backend.html', context_instance=RequestContext(request)) 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2014-11-30T17:08:35.553

问题是当您创建自定义用户时，您以开放方式保存密码（没有散列）。你能给我你的RegistrationForm代码吗？

就我而言：

```
# forms/register.py
class RegistrationForm(forms.ModelForm):
    """
    Form for registering a new account.
    """
    class Meta:
        model = CustomUser
        fields = ['username', 'password', 'email'] 
```

寄存器处理程序：

```
# views.py
def register(request):
    """
    User registration view.
    """
    if request.method == 'POST':
        form = RegistrationForm(data=request.POST)
        if form.is_valid():
            user = form.save() # Save your password as a simple String
            return redirect('/')
    else:
        form = RegistrationForm()
    return render(request, 'news/register.html', {'form': form}) 
```

因此，当您尝试登录时：

```
if user.check_password(password):
    return user 
```

*check_password*总是返回 False。

* * *

**解决方案**：要正确*设置密码*，您应该在 RegistrationForm 中重新定义 save() 方法：

```
# forms/register.py
class RegistrationForm(forms.ModelForm):
    """
    Form for registering a new account.
    """
    class Meta:
        model = CustomUser
        fields = ['username', 'password', 'email']

    def save(self, commit=True):
        user = super(RegistrationForm, self).save(commit=False)
        user.set_password(user.password) # set password properly before commit
        if commit:
            user.save()
        return user 
```

**或者**只是更改处理程序：

```
def register(request):
    """
    User registration view.
    """
    if request.method == 'POST':
        form = RegistrationForm(data=request.POST)
        if form.is_valid():
            user = form.save(commit=False)
            user.set_password(request.POST["password"])
            user.save()
            return redirect('/')
    else:
        form = RegistrationForm()
    return render(request, 'news/register.html', {'form': form}) 
```

[在http://www.blackglasses.me/2013/09/17/custom-django-user-model/](http://www.blackglasses.me/2013/09/17/custom-django-user-model/)上查看更多信息

和[http://www.blackglasses.me/2013/10/08/custom-django-user-model-part-2/](http://www.blackglasses.me/2013/10/08/custom-django-user-model-part-2/)

# javascript - 提高 js `for` 循环的性能

> ID：15516161
> 
> 赞同：0
> 
> 时间：2013-03-20T05:40:59.997
> 
> 标签：javascript, animation, settimeout, setinterval

因此，我正在寻找有关在以 360 次迭代结束的循环中切换元素的类（三个一组）的最佳方法的一些建议。我试图避免嵌套循环，并确保良好的性能。

是）我有的：

```
// jQuery flavour js
// vars
var framesCount = '360'; // total frames
var framesInterval = '5000'; // interval
var statesCount = 3; // number of states
var statesCountSplit = framesInterval/statesCount;
var $scene = $('#scene');
var $counter = $scene.find('.counter');    

// An early brain dump
for (f = 1; f < framesCount; f += 1) {
  $counter.text(f);
  for (i = 1; i < statesCount; i += 1) {
    setTimeout(function() {
        $scene.removeClass().addClass('state-'+i);
      }, statesCountSplit);
    }
} 
```

因此，您会看到，对于 360 中的每一个，每`frames`隔一段时间就会有三类切换。尽管我还没有测试过，但我担心一旦该`frames`值达到数千（它可能），这里的性能会受到影响。

这个片段显然有缺陷（非常），请让我知道我能做些什么来使这个 a) 工作，b) 有效地工作。谢谢 ：-）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-20T06:00:50.387

一些一般性建议：

## 1) 不要在循环中声明函数

这真的需要在 setTimeout 中完成吗？

```
for (i = 1; i < statesCount; i += 1) {
    setTimeout(function() {
        $scene.removeClass().addClass('state-'+i);
    }, statesCountSplit);
} 
```

## 2) DOM 操作代价高昂

这真的有必要吗？这将切换得如此之快，以至于您不会注意到计数器上升。我不明白这里的意图，但似乎没有必要。

```
$counter.text(f); 
```

## 3）不要过早优化

在你的问题中，你说你没有分析有问题的代码。目前，只有大约 1000 次迭代，这应该不会那么糟糕。DOM 操作并不算太糟糕，只要您不插入/删除元素，而您只是修改它们。

在这一点上，我真的不担心性能。您可以应用其他微优化（例如将 for 循环更改为递减的 while 循环以保存比较），但您没有表明性能存在问题。

## 结束的想法

如果我正确理解逻辑，那么您的代码与它不匹配。代码当前将`.counter`随着处理器迭代循环的速度增加（应该只需要几毫秒左右），并且每个“类切换”将在彼此的几毫秒内触发 360 次。

先修复你的逻辑错误，然后再考虑优化如果它成为一个问题。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-20T06:00:21.617

不要为此使用 for 循环。这将产生大量已知会减慢浏览器速度的 setTimeout 事件。请改用单个 setTimeout：

```
function animate(framesCount, statesCount) {
     $scene.removeClass().addClass('state-'+statesCount);
     if (framesCount) {
         setTimeout(
             function(){
                 animate(framesCount-1,(statesCount%3)+1);
             },
             statesCountSplit
         );
     }
}

animate(360*3,1); 
```

# asp.net-mvc - 在 MVC 中显示 ckeditor 时出错

> ID：15516163
> 
> 赞同：0
> 
> 时间：2013-03-20T05:41:19.103
> 
> 标签：asp.net-mvc

在我的 MVC 应用程序中，我想在 CKEDITOR 中显示提取的文本。但是文本在 textarea 中而不是在编辑器中显示我的控制器代码是：

```
 public ActionResult ExtractText(string fn)
    {

        string extFile = Server.MapPath(_fileUploadPath + fn);
        string filePath = Path.Combine(HttpContext.Server.MapPath(_fileUploadPath), Path.GetFileName(fn));
        if (filePath != null)
        {

            SautinSoft.PdfFocus f = new SautinSoft.PdfFocus();
            f.OpenPdf(System.IO.File.ReadAllBytes(filePath));

            string text = f.ToText();
            string sValue = "<textarea id = \"temp_edit\" name=\"content\" cols=\"73\" rows=\"15\">" + text + "</textarea> <script type=\"text/javascript\">CKEDITOR.replace('temp_edit');</script><input class=\"margin-top-05 green_button\" type=\"button\" value=\"Save\" onclick=\"save_file()\" /><a class=\"close\" onclick=\"parent.$.fancybox.close();\"><img class=\"close_image\" title=\"close\" src=\"../images/closelabel.gif\" style=\"width: auto; height: auto; position: absolute; bottom: 0px; right: 0px;\"></a>";
           return Content(sValue);
        }
        else
        {
            TempData["UploadValidationMessage_Failure"] = "File does not exist";
            return View();

        }
    } 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-20T06:48:03.400

textarea 样式、javascript 事件可以在您的视图上完成。将文本传递给视图并将其显示在 textarea 上。您的所有事件和样式都可以写在视图上。ckeditor 可以加载到 textarea on ready 函数。请通过以下。

[.Net MVC 的 CK 编辑器](http://peterkeating.co.uk/using-ckeditor-with-razor-for-net-mvc3/)

如需在您的项目中实现 CKEditor 的更好方法，请浏览以下链接中的 aswer

[CKEditor MVC 3 implementationaion 需要帮助](https://stackoverflow.com/questions/6333160/ckeditor-mvc-3-implementaion-help-needed)

编辑..

```
<%= Html.ActionLink("Extract Text", "ExtractText", new { fn = file })%> 
```

带你去你的功能。

可以说，您有一个模型 NewContent

```
public class NewContent
{
 public string Text
    {
        get;
        set;
    }
} 
```

从控制器返回带有文本的 NewContent 对象。

```
 public ActionResult ExtractText(string fn)
    {
        string extFile = Server.MapPath(_fileUploadPath + fn);
        string filePath = Path.Combine(HttpContext.Server.MapPath(_fileUploadPath), Path.GetFileName(fn));
        if (filePath != null)
        {
            SautinSoft.PdfFocus f = new SautinSoft.PdfFocus();
            f.OpenPdf(System.IO.File.ReadAllBytes(filePath));
            string text = f.ToText();
            NewContent content = new NewContent();
            content.Text = text;
            return View(content);
        }
        else
        {
            TempData["UploadValidationMessage_Failure"] = "File does not exist";
            return View();

        }
    } 
```

在您看来，添加以下内容

```
 <script src="ckeditor/ckeditor.js"></script>
 <script src="ckeditor/adapters/jquery.js"></script> 
```

`<%=Html.TextAreaFor(c => c.Text) %>`

```
 <script type="text/javascript">
    $(function () {
        $('#Text').ckeditor();
    });
</script> 
```

您将在 ck 编辑器的视图中从控制器获取文本。确保您已正确提供所有必要的 ckeditor 脚本及其位置

# silverlight - Silverlight/xaml 中的打印预览

> ID：15516165
> 
> 赞同：0
> 
> 时间：2013-03-20T05:41:23.690
> 
> 标签：silverlight, xaml, printing, print-preview

我是 Silverlight 的新手，我的任务是为我公司的 GIS Web 应用程序创建打印预览模板。我的要求如下：

1）当我点击主页上的打印预览按钮时，它应该会弹出一个新的打印预览窗口 2）预览窗口应该有主页内容 3）它应该有一个打印按钮来打印它。4) 它应该有下一页和上一页选项 5) 一个缩放图标/滑块来放大和缩小预览内容

到目前为止，我刚刚在我的主页上添加了一个预览按钮，单击它会打开一个新的 xaml 窗口，并且在该窗口上我已经设置了这样的内容。

这是 PrintPreview.xaml 的视图

```
<Grid x:Name="LayoutRoot" Background="White">
    <Canvas x:Name="m_canvas" Height="490" VerticalAlignment="Top" Margin="0,0,60,0">

        <Button x:Name="m_btn_print" Canvas.Top="5" Canvas.Left="5" Width="32" Height="32" Click="m_btn_print_Click">
            <Image Source="Images/print.png" Stretch="Fill" />
            <ToolTipService.ToolTip>
                <ToolTip Content="Print"></ToolTip>
            </ToolTipService.ToolTip>
        </Button>

        <Button x:Name="m_btn_prev_page" Canvas.Top="5" Canvas.Left="45" Width="32" Height="32" Click="m_btn_prev_page_Click">
            <Image Source="Images/arrow.left.png" Stretch="Fill"/>
            <ToolTipService.ToolTip>
                <ToolTip Content="Previous Page"></ToolTip>
            </ToolTipService.ToolTip>
        </Button>

        <Button x:Name="m_btn_next_page" Canvas.Top="5" Canvas.Left="85" Width="32" Height="32" Click="m_btn_next_page_Click">
            <Image Source="Images/arrow.right.png" Stretch="Fill"/>
            <ToolTipService.ToolTip>
                <ToolTip Content="Next Page"></ToolTip>
            </ToolTipService.ToolTip>
        </Button>

        <Slider x:Name="m_sld_size" Minimum="50" Maximum="125" Value="100" SmallChange="5" LargeChange="5" ValueChanged="m_sld_size_ValueChanged"
                   Canvas.Top="15" Canvas.Left="245" VerticalAlignment="Top" HorizontalAlignment="Right" Width="80" />

        <TextBlock x:Name="m_lbl_size" Canvas.Top="2" Canvas.Left="265" FontSize="9" Text="Zoom" Foreground="Black" />

        <Canvas x:Name="m_canvas_print" Canvas.Top="40" Canvas.Left="5" Width="317" Height="445" Background="White"
            VerticalAlignment="Top" HorizontalAlignment="Left">
        </Canvas>

    </Canvas>
</Grid> 
```

现在应该是我的代码，我应该如何在此预览中显示 mainpage.xaml 内容。请帮助其紧急

提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-21T19:56:01.813

我的第一条建议是不要使用画布对象，除非您每次打印时都使用相同的东西归档它。如果您正在打印可以根据打印时间更改的动态数据值，我将移动到堆栈面板或网格。

话虽如此，当用户按下打印按钮时，您需要连接打印功能以打印 m_cavas_print 对象。我在下面添加了一些示例打印代码。

```
 PrintDocument pd = new PrintDocument();

    pd.PrintPage += (s, e) =>
    {
        e.PageVisual = m_cavas_print;
    };

    pd.Print("MainPageContent"); 
```

这是印刷背后的基本原理。您可以将它放在您的打印按钮单击事件处理程序中，它将打印画布中的任何内容。我在这里使用了 lambda 表达式来处理打印页面事件，但您也可以使用单独的方法。

# mysql - 将 mysqldump 数据填充到表中：仅适用于给定数据库中存在的行

> ID：15516166
> 
> 赞同：0
> 
> 时间：2013-03-20T05:41:33.063
> 
> 标签：mysql, mysqldump

1.  没有信息的旧数据库
2.  重构的数据库，删除了许多列

我想转储旧数据库，并重新填充新数据库。

...但仅当新数据库具有给定列时

例子：

*   old_DB 用户表有 5 列：登录、电子邮件、城市、州、电话

*   new_DB 用户表有列：登录、电子邮件、电话

是否有我可以运行的大规模操作仅填充登录、电子邮件和电话？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-20T05:43:21.553

假设两个数据库在同一个 mysql 实例中运行，你可以这样做

```
INSERT INTO newdb.newtable (field1, field2, ....)
    SELECT FROM olddb.oldtable (field1, field2, ...) 
```

作为单个查询。无需使用转储。相关文档：http: [//dev.mysql.com/doc/refman/5.1/en/insert-select.html](http://dev.mysql.com/doc/refman/5.1/en/insert-select.html)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-21T19:18:28.917

因此，Marc B 声明的修改工作版本在这里：

```
INSERT INTO asdf_mock.citations_sites (`citation_id`, `site_id`, `created_at`, `updated_at`) 
   SELECT `citation_id`, `site_id`, `created_at`, `updated_at` 
   FROM asdf_production.citations_sites; 
```

用反引号运行它会给出所需的插入。

# git - 如何为 ARM 交叉编译 Git？

> ID：15516168
> 
> 赞同：15
> 
> 时间：2013-03-20T05:41:36.627
> 
> 标签：git, cross-compiling, autoconf

不幸的是，我在为 ARMv6 架构交叉编译 Git 时遇到了困难。

但在开始描述我采取的步骤和输入的命令之前，我应该简要描述一下构建环境：

*   我在 Ubuntu 12.10 64 位上进行交叉编译。
*   交叉编译器安装到`/home/my_name/cctoolchain`（此目录包含`bin/`,`lib/`等）。

我首先从[这里](http://git-core.googlecode.com/files/git-1.8.2.tar.gz)获取 Git 1.8.2 。提取目录后，我运行：

```
导出 PATH=$PATH:/home/my_name/cctoolchain/bin
```

我还跑来`autoconf`确保它`./configure`是最新的。然后我调用`./configure`如下：

```
./configure --prefix=/home/my_name/git-arm --build=x86_64-linux-gnu
  --host=arm-linux-androideabi
```

这运行了几秒钟，然后中止：

```
检查系统是否成功读取 fopen'ed 目录...
配置：错误：在`/home/my_name/git-1.8.2'中：
配置：错误：交叉编译时无法运行测试程序
```

我打开`configure.ac`并删除了 806-825 行，禁用了测试。之后，出于类似的原因，我还不得不删除第 806-839 行。

至此，`./configure`脚本就可以完成了。然后我兴奋地跑去`make`构建 Git，又过了一会儿，遇到了这个错误：

```
fetch-pack.c：在函数“fetch_pack”中：
fetch-pack.c:928:16：错误：“struct stat”没有名为“st_mtim”的成员
make: *** [fetch-pack.o] 错误 1
```

不知何故，我觉得我“做错了”。这听起来应该比手动从`configure.ac`. 我错过了什么？

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2013-03-20T06:10:26.797

失败的宏`ST_MTIME_NSEC`在`git-compat-util.h`. 此宏由宏和控制`USE_NSEC`，它们是在构建命令行上提供的，或者由而不是由 configure 提供。`NO_NSEC``USE_ST_TIMESPEC``config.mak.uname`

*应该*是，如果没有提供任何选项，git 根本不会尝试使用纳秒时间戳（或`st_mtim`），但它看起来像一个错误。

试试看`make NO_NSEC=1`是否能解决您的问题。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2020-10-16T16:33:50.893

我刚刚为更新版本的 git 2.28 交叉编译到 ARM，并且还遇到了在交叉构建期间无法运行的测试问题。

请注意，我之前为 ARM 构建了 zlib 并将其安装在`/opt/arm-zlib`，它出现在下面的路径中。

对我有用的咒语是：

```
./configure --build=i686-pc-linux-gnu --host=arm-linux NO_ICONV=true ac_cv_fread_reads_directories=true ac_cv_snprintf_returns_bogus=false

make LDFLAGS=-L/opt/arm-zlib/lib CFLAGS=-I/opt/arm-zlib/include NO_TCLTK=true NO_GETTEXT=true 
```

NO_TCLTK 禁用了我不想要的 GUI。

`configure`我传递给的其他定义`make`是最好的猜测；我没有调查我的 ARM 平台上的最佳答案是什么。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2020-10-11T05:23:46.073

我发现它`./configure`支持将检查结果缓存到文件中。如果您手动创建该文件以匹配所需目标的行为，则可以影响`./configure`运行方式（在一定程度上）。

首先，我跑来`./configure --config-cache`配置我的本地系统。`config.cache`这将使用正确的变量和正确的格式填充缓存文件。

然后，我将相关检查复制到中，清理并使用修改后的缓存`config.cache.android`重新运行。`./configure`

```
./configure --config-cache
mv ./config.cache ../
git clean -d -f -x
grep ac_cv_fread_reads_directories ../config.cache > config.cache.android
./configure --cache-file=config.cache.android # ...
# ...
checking whether system succeeds to read fopen'ed directory... (cached) yes
# ... 
```

要知道您需要抓取哪些变量，您需要检查`configure.ac`. 这个特定的缓存变量指的是`fread`即使被测试的 API 实际上是`fopen`.

```
AC_CACHE_CHECK([whether system succeeds to read fopen'ed directory],
 [ac_cv_fread_reads_directories],
[
AC_RUN_IFELSE(
        [AC_LANG_PROGRAM([AC_INCLUDES_DEFAULT],
                [[
                FILE *f = fopen(".", "r");
                return f != NULL;]])],
        [ac_cv_fread_reads_directories=no],
        [ac_cv_fread_reads_directories=yes])
]) 
```

如果作者`configure.ac`没有想到要使用`AC_CACHE_CHECK`，那么你就不得不求助于钝器。

# php - 如何在模型中使用 Yii 框架添加规则？

> ID：15516172
> 
> 赞同：0
> 
> 时间：2013-03-20T05:41:50.803
> 
> 标签：php, yii, yii-validation

在 Web 应用程序中，我需要在创建对象时在模型中添加一些规则。但是当我将我的规则添加到模型中时，会出现一些错误。例如在 summit 表单时用户输入的手机号码。

在视图页面中，有些输入需要用户完成，然后我想添加一些规则来验证用户输入，以防止使用输入一些无效的值。这意味着使用我自己的验证功能。

使用 Yii 框架的各位，我需要你们的帮助，谢谢。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-20T06:09:47.103

编辑：在验证规则中使用自己的函数-在规则中指定具有这样属性的函数-

```
array('username','checkuniquename'), 
```

然后在同一个模型中定义功能逻辑像这样：

```
public function checkuniqueemail($attribute)
{
    $record=Users::model()->findByAttributes(array($attribute=>$this->email));
    if($record!==null)
         $this->addError($attribute, 'This email has been already taken please choose a different one');

} 
```

您可以在 Yii 模型中为单个属性定义多个验证规则。

```
return array(
                    array('contact_no','numerical', 'integerOnly'=>true),
                    array('contact_no','length', 'min'=>8 ),
                    array('name, contact_no', 'required'),
        array('name, contact_no', 'length', 'max'=>255),
        array('password','pattern'=>'/^[A-Za-z0-9_!@#$%^&*()+=?.,]+$/u', 'message'=>'Spaces or given characters are not allowed'),
    ); 
```

您可以在模型中指定很多验证。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-21T07:31:57.940

首先，您需要在模型中指定一个验证规则，例如

```
return array(
.......    
array('duration', 'days_available'),
..... 
```

);

其中 duration 是字段名称，days_available 是函数名称。然后你需要在模型中编写函数。

```
public function days_available($attribute,$params)
{
  //provide proper condition
  $this->addError('duration','validation message');
} 
```

# html - 如何将 .cbr 文件转换为 html5 中的 zip 文件

> ID：15516173
> 
> 赞同：1
> 
> 时间：2013-03-20T05:41:55.960
> 
> 标签：html, cordova

我想创建一个漫画阅读器，以便将 cbr、cbz 文件转换为 zip....

# iphone - 从笔尖加载的视图没有收到触摸事件

> ID：15516176
> 
> 赞同：0
> 
> 时间：2013-03-20T05:41:58.067
> 
> 标签：iphone, ios, interface-builder, xib, user-interaction

我使用一些按钮创建了一个自定义键盘。我使用界面生成器创建了它们，并创建了一个`CustomKeyboardView`文件..

所以我有3个文件

1.  自定义键盘视图.h
2.  自定义键盘视图.m
3.  自定义键盘视图.xib

我正在将此视图添加到我的`UIViewController`喜欢中

```
-(void)createCustomKeyboard{
    //kbdCustom is an instance of CustomKeyboardView
    kbdCustom       =  [[[NSBundle mainBundle] loadNibNamed:@"CustomKeyBoardView" 
                             owner:self options:nil] objectAtIndex:0];
    kbdCustom.delegate   =   self;
    CGRect frame         =   kbdCustom.frame;
    frame.origin.x       =   14.0;
    frame.origin.y       =   300.0;
    kbdCustom.frame      =   frame;
    kbdCustom.backgroundColor   =   [UIColor clearColor];
    [self.view addSubview:kbdCustom];
    [self.view bringSubviewToFront:kbdCustom];
} 
```

我在屏幕上看到自定义键盘。但我无法触摸任何按钮。

文件中没有什么花哨的 `CustomKeyBoardView.m`。我有一些按钮处理程序来处理键盘中每种不同类型的按钮。

## 自定义键盘视图.m

```
@implementation CustomKeyBoardView
- (IBAction)numberPressed:(id)sender {
   NSLog(@"Number pressed");
}

- (IBAction)specialCharsPressed:(id)sender {
   NSLog(@"specialCharsPressed");
}

- (IBAction)clearTextPressed:(id)sender {
   NSLog(@"clearTextPressed");
}

- (IBAction)enterButtonPressed:(id)sender {
   NSLog(@"enterButtonPressed");
}
@end 
```

其他一些可能对你有帮助的观点（帮助我）

1.  我检查并重新检查了按钮处理程序。它们连接到 `IBAction`.
2.  我以编程方式向键盘添加了一个按钮（通过覆盖中的`awakeFromNib`函数来完成`CustomKeyboardView.m`），当我将它添加到`UIViewController`. 但是该按钮上也没有 userInteraction 。
3.  有`UIViewController`问题的显示在 a 中 `UIPopOverController`。我们在项目中使用故事板。
4.  我已经添加了一些日志以查看是否在`kbdCustom`其超级视图中启用了用户交互。答案是肯定的

    ```
    NSLog(@"kbdCustom.userInteractionEnabled : %d"
       , kbdCustom.userInteractionEnabled);
    NSLog(@"superView.userInteractionEnabled : %d"
       , kbdCustom.superView.userInteractionEnabled); 
    ```

    它的输出是

    ```
    kbdCustom.userInteractionEnabled : 1
    superView.userInteractionEnabled : 1 
    ```

5.  当然，所有按钮上的用户交互都是`YES`，并且所有这些都在界面生成器中启用。

6.  我已经调整了键盘的框架，将它向上移动到 UITextField（正确接收触摸事件）上。现在，当我单击键盘按钮时，它下面的 UITextField 会被触摸，就好像键盘不存在一样。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-20T06:42:05.733

检查视图的自动调整大小，并将其设置为 layer `clipsToBound`，然后查看它是否仍然可见。如果不是，那么这意味着您的视图已缩小到最小尺寸`autoSizing`，但它的子视图显示在您的边界`baseView`之外 在这种情况下，您可以看到它们但无法触摸。

# c# - 如何将文本块绑定到 WPF 中 DataGrid 列的总和？

> ID：15516177
> 
> 赞同：1
> 
> 时间：2013-03-20T05:42:00.673
> 
> 标签：c#, wpf, data-binding, mvvm

我有一个具有“职位”和“薪水”字段的 Player 类。我有另一个类 PlayerList 扩展可观察集合并包含玩家列表。我已将数据网格绑定到玩家列表。如何将文本块绑定到 Salary 列的总和？我还想将文本块绑定到位置列为“前锋”的球员人数。有任何想法吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-20T06:19:54.440

在您的视图模型中创建属性并绑定到它们。您可以在 PlayerList 类上拥有一个属性 SalarySum，而该类的另一个属性可能是前锋球员的集合。然后，您可以像之前对玩家所做的那样绑定到该属性。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-20T08:03:18.263

看起来你的问题是考虑如何以 MVVM 方式解决问题，
因为它`View`不需要任何逻辑，这是你的一部分，`ViewModel`所以它应该只是一个正常的绑定， `ViewModel`就像[nvoigt](https://stackoverflow.com/a/15516632/1993545)告诉你的那样。

**总结**
出`ViewModel`适合您的所有数据的形状`View`

# linq - 使用动态表达式的含义 > 在 NHibernate 中

> ID：15516185
> 
> 赞同：1
> 
> 时间：2013-03-20T05:42:28.463
> 
> 标签：linq, nhibernate, dynamic, expression, func

基本上在我的应用程序中，我使用以下代码根据页面上的选择来构建我的表达式。

```
Expression<Func<T, bool>> expr = PredicateBuilder.True<T>();
expr = expr.And(b => b.Speed >= spec.SpeedRangeFrom && b.Speed <= spec.SpeedRangeTo);
... 
```

它倾向于以带有多个“或”和“与”条件的长表达式结束。

完成表达式的构建后，我将其传递到我的存储库，如下所示：

```
var results = Session.Query<T>().Where(expr).ToList(); 
```

问题是花了很长时间才给我返回结果。我还注意到，表达式越长，返回结果集所需的时间就越长。

我还使用 NHibernate profiler 来分析生成的 sql 语句。在 SQL Server Studio 上单独运行 sql 语句，只用了不到 1s。

在我看来，大部分时间都花在构建表达式或将表达式转换为 sql 语句上。

有没有办法解决这个问题？

我没有太多使用 NHibernate 的经验。如果有人能对此有所了解，那就太好了。

提前感谢您抽出宝贵时间阅读本文。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-21T13:41:05.410

除了返回的行数之外，重要的是表中的总行数。

> 在 SQL Server Studio 上单独运行 sql 语句，只用了不到 1s。

以这种方式进行测试可能会产生误导。查询的第二次运行受益于先前编译的 SQL 语句、先前计算的查询执行计划、先前填满的数据缓冲区。此外，通过直接在 sql 中将所有参数名称替换为其值来进行测试将导致不同的执行计划。

我要做的第一件事是检查索引的错误使用（缺少相关索引或过时的统计信息）

这可以通过查看估计的查询执行计划来完成。至于统计数据，请查看：[https ://dba.stackexchange.com/q/12004](https://dba.stackexchange.com/q/12004)

我想这也应该很有用：[从 Nhibernate 执行的查询很慢，但从 ADO.NET 执行的查询很快](https://stackoverflow.com/q/7753618/1236044)

请参阅下文，以使用稍微清理的环境测试 SQL-SERVER 语句。

为每个查询运行此批处理以比较执行时间和统计结果（**不要在生产环境中运行**）：

```
DBCC FREEPROCCACHE
GO

CHECKPOINT 
GO

DBCC DROPCLEANBUFFERS 
GO

SET STATISTICS IO ON
GO

SET STATISTICS TIME ON
GO

-- your query here
GO

SET STATISTICS TIME OFF
GO

SET STATISTICS IO OFF
GO 
```

# php - 使用 excelreader2.php 将 excel 数据导入 mysql

> ID：15516190
> 
> 赞同：1
> 
> 时间：2013-03-20T05:42:53.887
> 
> 标签：php, mysql, excel

我必须将 excel 数据导入我的 mysql 数据库，但我面临“**文件名上传/dd.xlsx 不可读**”。我不知道什么是错误，为什么我的 excel 表不可读... excelreader2.php 的代码是。

```
function read($sFileName) {

        $res = $this->_ole->read($sFileName);

        // oops, something goes wrong (Darko Miljanovic)

        if($res === false) {

            // check error code

            if($this->_ole->error == 1) {

                // bad file

                die('The filename ' . $sFileName . ' is not readable');

            }

            // check other error codes here (eg bad fileformat, etc...)

        }

        $this->data = $this->_ole->getWorkBook();

        $this->_parse();

    } 
```

我做了所有可能的结帐....任何人都可以解决这个....

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-20T07:28:19.467

xlsx 文件不是 OLE 文件。xls 文件是 OLE BIFF 文件，是 Excel 2003 之前的标准格式；xlsx 文件是 OfficeOpenXML 格式，为 Excel 2007 引入。

您要么需要一个不同的库来[读取它们](https://stackoverflow.com/questions/3930975/alternative-for-php-excel)，要么需要一个可以读取这两种格式的库，例如[PHPExcel](http://www.phpexcel.net)

# apache - 在 Apache 中重定向 é

> ID：15516191
> 
> 赞同：1
> 
> 时间：2013-03-20T05:43:00.613
> 
> 标签：apache, redirect, encoding

我有许多使用 é 符号的重定向。

已尝试在重定向中将 é 替换为 \x{009E} ，但这似乎没有完成。还有其他选择吗？

例子：

```
RedirectMatch ^/tr\x{00E9}s$ http://www.mysite.com/fr/index.html 
```

应该重定向 /trés

非常感激。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-20T07:28:52.620

首先，我不知道是否`\x{009E}`是一个有效的正则表达式。我总是以这种形式写 unicode char `\u5e7f`：. 我所有的参考书都说`\x`后面只能跟一个2位的十六进制。

那么，你有没有一个 HTTP 数据包嗅探工具（例如 Firebug 或 webkit 的 Inspect Element 工具）？在我的站点中测试此 URL 时，我注意到我的浏览器已将 é 编码为`%C3%A9`.

![开发者工具](../Images/fb0d4253dbc24032d743bfd6824ffe2a.png)

所以我在我的个人网站上尝试了这个规则，效果很好。

```
RedirectMatch ^\/tr\xC3\xA9s http://www.mysite.com/fr/index.html 
```

它也适用于 IE：

![也适用于 Internet Explorer](../Images/0a350e8931a3ca4585b291e910bf393c.png)

“é”的编码方式完全取决于用户的浏览器和操作系统（而不是您的服务器）。就我而言，我使用的是带有中文语言包的 Windows 7 PC。

您应该自己捕获数据包以决定替换哪些代码`\xC3\xA9`。

# mysql - 从 mysql 转储读取数据到 Solr

> ID：15516194
> 
> 赞同：1
> 
> 时间：2013-03-20T05:43:12.910
> 
> 标签：mysql, solr

我被一个奇怪的问题困住了。我有一个 mysql 转储文件 (.dmp)。我想将其内容索引到 SOLR 中。问题是，我不想将转储加载到我的 sql 的运行实例中，然后使用数据导入处理程序。（有一个限制，用户域中的每个人都可能没有安装 mysql）。

有没有办法做到这一点 ？有没有人想出一个图书馆来处理这个任务？

提前致谢。

# asp.net - ASP.NET 登录后，所有其他连接都登录

> ID：15516195
> 
> 赞同：1
> 
> 时间：2013-03-20T05:43:16.143
> 
> 标签：asp.net, login, web, logout

我正在为学校做一个项目。我有一个用 ASP.Net 编码的网站，我只是做了一个简单的登录系统。当用户输入电子邮件和密码时，我会查询数据库并确保它们有效。

此时我想知道谁登录了，所以我有一个名为 User.cs 的类来跟踪登录的人。

```
public class User
{
    static public bool loggedIn = false;
    static public int userType = -1;//1 = Agent, 2 = Buyer/Renter
    static public int id = -1;//the id of the user
} 
```

比如里面`User.cs`，有一个变量叫`bool loggedIn`. 单击登录按钮后，我将其设置为，`true`以便在需要时`Page_Load()`可以使登录/注册按钮不可见。我用 IIS 部署了网站，并通过从计算机登录对其进行了测试，效果很好。然后我从另一台计算机登录，我仍然作为第一次登录时的最后一个用户登录。我注销，我也从我打开网站的所有其他计算机上注销。

所以最后，我不确定如何正确登录系统。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-20T05:55:14.087

第一种方法：当用户单击注销时，User 类中的 loggedIn 变量再次更改为 false。

但正确的方法是在后端数据库中，您必须在用户表中添加一个新列“IsLoggedIn”。它的默认值为 0 为假，当用户登录时，将其设为真。因此，为此您可以轻松跟踪谁在线或不在线。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-20T05:52:40.173

好的，所以您遇到的第一个问题是登录的用户信息是`static`. 因此，它适用于应用程序的***所有实例***。因此，当您登录时，该用户在***任何地方都已登录，***而当您注销时，您将在***任何地方都注销。***

所以，让我们修复`User`类吧：

```
public class User
{
    public bool loggedIn = false;
    public int userType = -1;//1 = Agent, 2 = Buyer/Renter
    public int id = -1;//the id of the user
} 
```

好了，这将把登录用户的跨度固定到他们的实例。但是我们还没有完成，我们需要将这些信息存储在某个地方，以便您可以在回发之类的情况下恢复它。让我们使用`Session`它，这是有道理的，因为他们已登录**会话**，对吗？依此类推`Page_Load`，当您验证用户时，也请执行以下操作：

```
var usr = new User
{
    loggedIn = true,
    userType = ?,    // pull this value from the database
    id = ?           // pull this value from the database
};
Session["User"] = usr; 
```

现在，当您想接触该用户时，可以将其拉出`Session`：

```
var usr = Session["User"] as User;
// if usr is null then there is no logged in user
// otherwise, if it's NOT null there is a logged in user for this session 
```

# sql-server-2008 - 在 where 中使用参数，其中包含 ' 和 select 语句

> ID：15516202
> 
> 赞同：2
> 
> 时间：2013-03-20T05:43:52.270
> 
> 标签：sql-server-2008

我想在 SQL Server 2008 中使用选择查询，在其中我想根据书名搜索书的详细信息。

我用

```
SELECT * 
FROM MasterTitle 
WHERE BookName = '"+s1'' 
```

它工作正常，但`s1`包含报价时会出现问题`'`

就像是

```
SELECT * 
FROM MasterTitle 
WHERE BookName = 'Educational Cd'S (Set)' and DisplayAuthorName = 'Test' 
```

我不能使用转义字符

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-20T06:02:26.030

```
SELECT * 
FROM MasterTitle
WHERE BookName = 'Educational Cd'+char(39)+'S ( Set)' 
     and DisplayAuthorName ='Test' 
```

# c++ - 在六边形网格上：在选择点的给定半径内选择图块。

> ID：15516205
> 
> 赞同：0
> 
> 时间：2013-03-20T05:44:04.250
> 
> 标签：c++, tile, hexagonal-tiles

我正在使用六角瓷砖地图开发一个简单的 2D 棋盘游戏，我已经阅读了几篇关于如何在屏幕上绘制六边形以及如何管理的文章（包括 gamedev 的，每次出现关于六角瓷砖的问题时都会链接运动（尽管我以前已经做过很多运动）。我的主要问题是根据给定的半径找到相邻的瓷砖。

这就是我的地图系统的工作方式：

```
(0,0) (0,1) (0,2) (0,3) (0,4)    
   (1,0) (1,1) (1,2) (1,3) (1,4)   
(2,0) (2,1) (2,2) (2,3) (2,4)  
   (3,0) (3,1) (3,2) (3,3) (3,4) etc... 
```

我正在努力解决的事实是，我不能通过使用“选择”相邻的图块，`for(x-range;x+range;x++); for(y-range;y+range;y++);`因为它选择了不需要的图块（在我给出的示例中，选择 (1,1) 图块并给出 1 的范围也会给出我是 (3,0) 瓦片（我实际需要的是 (0,1)(0,2)(1,0)(1,2)(2,1)(2,2) ），这有点与瓷砖相邻（因为数组的结构方式），但这并不是我真正想要选择的。我可以暴力破解它，但这不会很漂亮，并且可能不会涵盖“选择半径事物”的各个方面'。

有人可以在这里指出我正确的方向吗？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-03-20T06:43:21.613

![六边形和正交网格](../Images/680f5085dd6f069776c36e4a7c7778c3.png)

## 什么是六边形网格？

你可以在上面看到的是两个网格。这完全取决于您为瓷砖编号的方式以及您理解六边形网格的方式。在我看来，六边形网格只不过是一个变形的正交网格。

我用紫色圈出的两个六角图块理论上仍然相邻`0,0`。*然而，由于我们为了从正交网格获得六边形网格而经历了变形，这两者在视觉上*不再是相邻的。

## 形变

我们需要了解的是变形发生在某个方向上，`[(-1,1) (1,-1)]`在我的例子中是沿着一条假想的线。更准确地说，就好像网格沿着那条线被拉长了，然后沿着垂直于那条线的线被*压扁了。*所以很自然地，那条线上的两块瓷砖分散开来，在视觉上不再相邻。相反，与 对角线的图块`(1, 1)`现在`(-1, -1)`异常`(0, 0)`接近`(0, 0)`，实际上如此接近，以至于它们现在在*视觉上与*相邻`(0, 0)`。然而，在数学上，它们仍然是对角线，有助于在代码中以这种方式处理它们。

## 选择

我展示的图像说明了半径为 1。对于半径为 2，您会注意到`(2, -2)`并且`(-2, 2)`是不应包含在选择中的图块。等等。因此，对于半径**r**的任何选择，不应选择点`(r, -r)`和。`(-r, r)`除此之外，您的选择算法应该与方形网格相同。

只需确保在六边形网格上正确设置了轴，并相应地对图块进行编号。

## 执行

让我们稍微扩展一下。我们现在知道沿网格中的任何方向移动都会花费我们 1。沿*拉伸*方向移动会花费我们 2。例如`(0, 0)`，请参阅`(-1, 1)`。

知道了这一点，我们可以通过将距离分解为两个分量来计算这种网格上任意两个图块之间的最短距离：对角线运动和沿其中一个轴的直线运动。例如，对于普通网格之间`(1, 1)`和上的距离，我们有：`(-2, 5)`

```
Normal distance = (1, 1) - (-2, 5) = (3, -4) 
```

如果它们在方形网格上，那将是两个图块之间的距离矢量。但是我们需要补偿网格变形，所以我们分解如下：

```
(3, -4) = (3, -3) + (0, -1) 
```

如您所见，我们已将向量分解为一个对角线`(3, -3)`和一个沿轴的直线`(0, -1)`。

我们现在检查对角线是否沿着变形轴，变形轴是可以是正数或负数的整数 `(n, -n)`的任何点。确实满足那个条件，所以这个对角向量是沿着变形的。这意味着这个向量的长度（或成本）不是，而是两倍，即。`n``(3, -3)``3``6`

所以回顾一下。`(1, 1)`和之间的距离`(-2, 5)`是 的长度`(3, -3)`加上 的长度`(0, -1)`。那就是`distance = 3 * 2 + 1 = 7`。

## 用 C++ 实现

下面是我上面解释的算法的 C++ 实现：

```
int ComputeDistanceHexGrid(const Point & A, const Point & B)
{
  // compute distance as we would on a normal grid
  Point distance;
  distance.x = A.x - B.x;
  distance.y = A.y - B.y;

  // compensate for grid deformation
  // grid is stretched along (-n, n) line so points along that line have
  // a distance of 2 between them instead of 1

  // to calculate the shortest path, we decompose it into one diagonal movement(shortcut)
  // and one straight movement along an axis
  Point diagonalMovement;
  int lesserCoord = abs(distance.x) < abs(distance.y) ? abs(distance.x) : abs(distance.y);
  diagonalMovement.x = (distance.x < 0) ? -lesserCoord : lesserCoord; // keep the sign 
  diagonalMovement.y = (distance.y < 0) ? -lesserCoord : lesserCoord; // keep the sign

  Point straightMovement;

  // one of x or y should always be 0 because we are calculating a straight
  // line along one of the axis
  straightMovement.x = distance.x - diagonalMovement.x;
  straightMovement.y = distance.y - diagonalMovement.y;

  // calculate distance
  size_t straightDistance = abs(straightMovement.x) + abs(straightMovement.y);
  size_t diagonalDistance = abs(diagonalMovement.x);

  // if we are traveling diagonally along the stretch deformation we double
  // the diagonal distance
  if ( (diagonalMovement.x < 0 && diagonalMovement.y > 0) || 
       (diagonalMovement.x > 0 && diagonalMovement.y < 0) )
  {
    diagonalDistance *= 2;
  }

  return straightDistance + diagonalDistance;
} 
```

现在，给定上述实现的`ComputeDistanceHexGrid`功能，您现在可以拥有一个简单的、未优化的选择算法实现，它将忽略超出指定选择范围的任何图块：

```
int _tmain(int argc, _TCHAR* argv[])
{
  // your radius selection now becomes your usual orthogonal algorithm
  // except you eliminate hex tiles too far away from your selection center
  // for(x-range;x+range;x++); for(y-range;y+range;y++);
  Point selectionCenter = {1, 1};
  int range = 1;

  for ( int x = selectionCenter.x - range;
            x <= selectionCenter.x + range;
            ++x )
  {
    for ( int y = selectionCenter.y - range;
              y <= selectionCenter.y + range;
              ++y )
    {
      Point p = {x, y};
      if ( ComputeDistanceHexGrid(selectionCenter, p) <= range )
        cout << "(" << x << ", " << y << ")" << endl;
      else
      {
        // do nothing, skip this tile since it is out of selection range
      }
    }
  }

    return 0;
} 
```

对于一个选择点`(1, 1)`和一个范围`1`，上面的代码将显示预期的结果：

```
(0, 0)
(0, 1)
(1, 0)
(1, 1)
(1, 2)
(2, 1)
(2, 2) 
```

## 可能的优化

为了优化这一点，您可以将了解图块距离选择点多远的逻辑（在 中找到的逻辑`ComputeDistanceHexGrid`）直接包含到您的选择循环中，这样您就可以以完全避免超出范围图块的方式迭代网格。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-03-20T06:47:39.017

只需按如下方式布局您的网格：

```
 +-----+-----+-----+-----+
   | 0   |  1  | 2   |  3  |          even row
   +-----+-----+-----+--+-----+
      |  4  |  5  |  6  |  7  | ==>   odd row
   +--+-----+-----+-----+--+--+
   |  8  |  9  |  10 |  11 |          even row
   +-----+-----+-----+-----+ 
```

对于奇数行`(N>>2)&1 == 1`，必须从概念上将插槽移动插槽宽度的一半。
那么邻居是{ N-1, N+1, Na, N-a+1, N+b, N+b+1 }，a=b=4。
对于偶数行，a=5,b=3。（a=上面，b=下面）

有了这个想法，人们可以建立一个邻接列表并执行广度优先搜索（使用一些距离度量——欧几里得或任何曼哈顿距离在蜂蜜网格上被称为）。

# ios - ios位图像素操作

> ID：15516206
> 
> 赞同：1
> 
> 时间：2013-03-20T05:44:04.703
> 
> 标签：ios, graphics, pixmap

我想在 iOS 上操纵单个像素，最好是高性能，但我不知道从哪里开始寻找。任何指向文档和示例的好链接？有哪些选择？

# workflow-foundation-4 - 使用 Activity 类型跟踪 ActivityStateRecord

> ID：15516207
> 
> 赞同：0
> 
> 时间：2013-03-20T05:44:10.023
> 
> 标签：workflow-foundation-4, workflow-foundation

如何使用跟踪配置文件 ActivityStateQuery 中的活动类型跟踪 ActivityStateRecord。
我可以使用显示名称跟踪活动，但活动类型没有任何属性。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-06-06T09:27:49.257

您不能使用跟踪配置文件通过 ActivityStateQuery 过滤活动类型。

ActivityStateQuery 过滤 ActivityName、Arguments、QueryAnnotations、States 和 Variables。

您可以在代码中过滤。例如，使用 TrackingParticipant 订阅 ActivityStateRecord，然后过滤结果。例如

```
class WorkflowTracking : TrackingParticipant
{
    protected override void Track(TrackingRecord record, TimeSpan timeout)
    {
       ActivityStateRecord activityStateRecord = record as ActivityStateRecord;

       if (activityStateRecord != null)
       {
          while(activityStateRecord.Activity.TypeName == "Main.Workflows.Components.DummyItem")
          {
             using (StreamWriter writer = File.AppendText(@"c:\temp\tracking.txt"))
             {
                 writer.WriteLine(activityStateRecord.ToString());
                 writer.WriteLine();
                 writer.Close();
             }
          }
       }
   }
} 
```

# java - 随机浮点数并比较小于或等于 0.01 的数字

> ID：15516212
> 
> 赞同：-3
> 
> 时间：2013-03-20T05:44:46.557
> 
> 标签：java, random, comparison, compare, floating

在我的作业中，我想生成 10000 个浮动数字，我必须比较如果两个数字之间的差异小于或等于 0.01，它们被认为是相等的，那么删除第二个相等的数字！

这是我所做的，但不确定比较，你能帮我吗？谢谢！

```
public static void main(String[] args)
      {
      int maxSize = 10000;             // array size
      ArrayIns arr;

      arr = new ArrayIns(maxSize);  // create array

      for(int j=0; j<maxSize; j++){  // fill array with
          Random rnd = new Random();    // random numbers
          float n = 0 + rnd.nextFloat() * (100 - 0);
          arr.insert(n);
       } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-20T06:00:35.200

添加另一个 for 循环以遍历数组值并检查该值与外部值之间的差异是否小于 0.01 在这种情况下不要将新值插入到数组中

# eclipse - Eclipse 抛出错误-“web 内容中不存在的对“main.html”的文件名引用”web.xml 的 404 错误

> ID：15516213
> 
> 赞同：0
> 
> 时间：2013-03-20T05:44:52.957
> 
> 标签：eclipse, spring-mvc, struts, http-status-code-404, web.xml

我在 Eclipse 中运行简单的 Web 项目时遇到问题。

我将首先演示创建我的项目的步骤：-

1) 新建 Spring 模板项目。
2) 选择 Spring MVC 项目。
3) 单击完成。
4）现在我在“src”下的“webapps”文件夹中创建一个新文件名“login.html”
5）现在我尝试在web.xml中添加welcome-file标签。
6）当我这样做时，我会在 Eclipse 的 web.xml 中收到上述警告。
7）如果我运行应用程序，我会收到 404 错误

这是我的 web.xml

```
<?xml version="1.0" encoding="UTF-8"?>
<web-app version="2.5" xmlns="http://java.sun.com/xml/ns/javaee"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
xsi:schemaLocation="http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd">

<!-- The definition of the Root Spring Container shared by all Servlets and Filters -->
<context-param>
    <param-name>contextConfigLocation</param-name>
    <param-value>/WEB-INF/spring/root-context.xml</param-value>
</context-param>

<!-- Creates the Spring Container shared by all Servlets and Filters -->
<listener>
    <listener-class>org.springframework.web.context.ContextLoaderListener</listener-class>
</listener>

<!-- Processes application requests -->
<servlet>
    <servlet-name>appServlet</servlet-name>
    <servlet-class>org.springframework.web.servlet.DispatcherServlet</servlet-class>
    <init-param>
        <param-name>contextConfigLocation</param-name>
        <param-value>/WEB-INF/spring/appServlet/servlet-context.xml</param-value>
    </init-param>
    <load-on-startup>1</load-on-startup>
</servlet>

<servlet-mapping>
    <servlet-name>appServlet</servlet-name>
    <url-pattern>/</url-pattern>
</servlet-mapping>

<welcome-file-list>
    <welcome-file>login.html</welcome-file>
</welcome-file-list> 
```

这是我的 login.html

```
 <!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<title>Insert title here</title>
</head>
<body>
Hello
</body>
</html> 
```

请帮我解决这个问题，我不明白错误到底是什么。
提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-20T08:53:54.120

如果您希望欢迎文件正常工作，请尝试更改您的*servlet 映射*，如下所示：

```
<servlet-mapping>
    <servlet-name>appServlet</servlet-name>
    <url-pattern>/something/</url-pattern>
</servlet-mapping> 
```

目前，所有请求都将发送到 Spring 的调度程序 servlet 并查找“/”的请求映射。在这种情况下，需要控制器来处理“/”请求，该请求将返回 login.html 作为视图。您可以[在此处](http://blog.springsource.com/2011/01/04/green-beans-getting-started-with-spring-mvc/)查看快速入门示例。

# xcode - 在具有多个视图的情节提要中滚动

> ID：15516217
> 
> 赞同：0
> 
> 时间：2013-03-20T05:45:18.507
> 
> 标签：xcode, audio, storyboard, scrollview, transition

我正在创建一个应用程序，它只是一个带有图像的故事板，每个图像都有一个音频。我还计划在图像顶部的每个视图上制作一些动画。就像一本书，您可以在视图之间滑动，每个视图上都有音频和一些动画。我意识到我可能一直在朝着错误的方向努力。我使用了几个带有模态转换的视图。似乎可能有更好的方法来获得滚动过渡样式，而我似乎无法通过当前过渡获得。我可以获得不同视图之间的滚动转换，还是有人知道如何去做？

我一直在寻找，但没有找到适合我问题的线程。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-20T07:04:49.717

我的理解是你想让幻灯片像一本书一样。

我自己从来没有做过，但在互联网上找到了一些很好的例子。

我希望它能帮助你开始。

1.  [Apple 的 iBooks 动态页面卷曲](http://blog.steventroughtonsmith.com/2010/02/apples-ibooks-dynamic-page-curl.html)
2.  [PaperStack Alpha](http://api.mutado.com/mobile/paperstack/)
    [PaperStack Alpha 源代码](https://github.com/lomanf/PaperStack)

一切顺利.....

# javascript - 如何在javascript中处理撤消/重做事件？

> ID：15516218
> 
> 赞同：7
> 
> 时间：2013-03-20T05:45:27.603
> 
> 标签：javascript, jquery

我正在尝试使用 Javascript 和 JQuery 检测表单输入的值何时发生变化。不幸的是，我发现 JQuery 的`$(elem).change()`不足之处在于它只在`elem`失去焦点时触发更改事件。我必须*立即*知道表单输入的值何时发生变化。为此，我将与输入值可能更改相关的事件范围缩小到*keyup*、*paste*、*cut*、*undo*和*redo*。但是，javascript 和 JQuery 似乎都没有处理撤消或重做的方法。

```
var onChange = function ()
{
    alert('Checking for changes...');
};

$(this).off('keyup').on('keyup', onChange);
$(this).off('paste').on('paste', onChange);
$(this).off('cut').on('cut', onChange);

$(this).off('undo').on('undo', onChange);  // undo ?
$(this).off('redo').on('redo', onChange);  // redo ? 
```

我在 Javascript/JQuery 中搜索了撤消/重做事件，但没有发现任何有用的信息。有人可以帮助处理撤消/重做事件吗？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-03-20T05:51:55.657

javascript 中没有撤消或重做事件。如果你想要这样的功能，你要么必须自己用 javascript 编写它，要么找到一个提供这种功能的库。

如果您试图捕获可以更改输入控件的所有可能方式，以便您可以立即看到此类更改，请查看此示例代码：http: [//jsfiddle.net/jfriend00/6qyS6/](http://jsfiddle.net/jfriend00/6qyS6/)它实现了更改输入控件的回调。此代码不是直接为下拉菜单设计的，但由于它是一种输入控件形式，您可以调整此代码来为下拉菜单创建自己的更改事件。

好吧，StackOverflow 以其无限的智慧禁止我仅发布对 jsFiddle 的引用，因此我必须将所有代码粘贴到此处（出于某种原因，jsFiddles 被单独列出，而不是其他 Web 引用）。我并不是将其表示为一个精确的解决方案，而是作为一个模板，您可以使用它来检测用户对输入控件的更改：

```
(function($) {

    var isIE = false;
    // conditional compilation which tells us if this is IE
    /*@cc_on
    isIE = true;
    @*/

    // Events to monitor if 'input' event is not supported
    // The boolean value is whether we have to 
    // re-check after the event with a setTimeout()
    var events = [
        "keyup", false,
        "blur", false,
        "focus", false,
        "drop", true,
        "change", false,
        "input", false,
        "textInput", false,
        "paste", true,
        "cut", true,
        "copy", true,
        "contextmenu", true
    ];
    // Test if the input event is supported
    // It's too buggy in IE so we never rely on it in IE
    if (!isIE) {
        var el = document.createElement("input");
        var gotInput = ("oninput" in el);
        if  (!gotInput) {
            el.setAttribute("oninput", 'return;');
            gotInput = typeof el["oninput"] == 'function';
        }
        el = null;
        // if 'input' event is supported, then use a smaller
        // set of events
        if (gotInput) {
            events = [
                "input", false,
                "textInput", false
            ];
        }
    }

    $.fn.userChange = function(fn, data) {
        function checkNotify(e, delay) {
            // debugging code
            if ($("#logAll").prop("checked")) {
                log('checkNotify - ' + e.type);
            }

            var self = this;
            var this$ = $(this);

            if (this.value !== this$.data("priorValue")) {
                this$.data("priorValue", this.value);
                fn.call(this, e, data);
            } else if (delay) {
                // The actual data change happens after some events
                // so we queue a check for after.
                // We need a copy of e for setTimeout() because the real e
                // may be overwritten before the setTimeout() fires
                var eCopy = $.extend({}, e);
                setTimeout(function() {checkNotify.call(self, eCopy, false)}, 1);
            }
        }

        // hook up event handlers for each item in this jQuery object
        // and remember initial value
        this.each(function() {
            var this$ = $(this).data("priorValue", this.value);
            for (var i = 0; i < events.length; i+=2) {
                (function(i) {
                    this$.on(events[i], function(e) {
                        checkNotify.call(this, e, events[i+1]);
                    });
                })(i);
            }
        });
    }
})(jQuery);    

function log(x) {
    jQuery("#log").append("<div>" + x + "</div>");
}

// hook up our test engine    
$("#clear").click(function() {
    $("#log").html("");
});

$("#container input").userChange(function(e) {
    log("change - " + e.type + " (" + this.value + ")");
}); 
```

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2014-03-27T07:45:42.230

您可以使用 MutationObserver 监控所有更改。这不会为每个 keydown 和 keyup 提供事件，但它会合并多个更改并将其作为单个事件提供给您。

```
 var MutationObserver = window.MutationObserver || window.WebKitMutationObserver || window.MozMutationObserver;
  var observer = new MutationObserver(function(mutations) {  
    mutations.forEach(function(mutation) {
        // mutation.target will give you element which has been modified.
        // mutation.addedNodes and mutation.removedNodes will give you operations that were performed on the node
        // happy coding :)
      });
  });
  observer.observe(elementsToMonitor, {
    attributes: true, 
    childList: true, 
    characterData: true 
   }); 
```

有关 MutationObserver 的更多信息 [https://developer.mozilla.org/en/docs/Web/API/MutationObserver](https://developer.mozilla.org/en/docs/Web/API/MutationObserver)

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-03-20T05:50:17.770

John Resig（JQuery 的创建者）的热键可能会有所帮助

[https://github.com/jeresig/jquery.hotkeys](https://github.com/jeresig/jquery.hotkeys)

从自述文件

> 如果您想使用多个修饰符（例如 alt+ctrl+z），您应该按字母顺序定义它们，例如 alt+ctrl+shift

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2015-05-16T22:29:37.770

```
<input type="text"/>
<script>
var newInput = "";
var oldInput = [$('input').val()];
$('input').on('input',function(){
    newInput = $(this).val();
    redo = false;
    $(oldInput).each(function(i){if(newInput==oldInput[i]){redo = true; return false});
    if(redo){
        console.log('do code for an undo or redo');
    }
oldInput.push(newInput);
console.log([oldInput,newInput]);
});
</script> 
```

基本概念是存储以前的输入值并检查新输入值是否等于以前的输入值之一。它并不完美（例如，退格触发它）并且效率有点低（参见下一段），但您应该能够获得您想要的结果。

您可以查看撤消代码以查看它实际保留的内容，而不是保留所有先前的输入（我认为它只是使大多数输入保持丢失，因为它们在彼此的时间范围内）。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2018-01-08T16:12:24.297

曾经有一段时间，我正在从事的项目中需要这样的东西。对我来说，获得结果的标记解决方案似乎并不那么优雅。我结合了这里回答的几件事来做到这一点。

```
function UndoListener(options){
    if(!options.el instanceof HTMLElement) return;
    this.el = options.el;
    this.callback = options.callback || function(){};
    this.expectedChange = false;
    this.init();
}

UndoListener.prototype = {
    constructor: UndoListener,
    addListeners: function(){
        this.el.addEventListener('keydown', (e) => this.expectedChange = this.eventChecker(e));
        this.el.addEventListener('cut', (e) => this.expectedChange = true);
        this.el.addEventListener('paste', (e) => this.expectedChange = true);
    },
    addObserver: function(){
        this.observer = new MutationObserver((mt) => {
            if(!this.expectedChange){
                this.expectedChange = true;
                this.observer.disconnect();
                this.callback.call(this.el, {
                    original: [...mt].shift().oldValue,
                    current: this.el.innerText
                });
                this.addObserver();
            }
            this.expectedChange = false;
        });

        this.observer.observe(this.el, {
            characterData: true,
            subtree: true,
            characterDataOldValue: true
        });
    },
    eventChecker: function(event) {
        return !(~['z','y'].indexOf(event.key) && (event.ctrlKey || event.metaKey));
    },
    init: function(){
        this.addListeners();
        this.addObserver();
    }
} 
```

这使用[MutationObserver](https://developer.mozilla.org/en-US/docs/Web/API/MutationObserver)来“捕获”撤消事件。这样做是因为 MutationObserver 在事件触发后触发。我们检查事件是否是预期事件，如 keydown 或 cut 并允许更改发生而不触发回调。如果事件是意外的，我们假设发生了撤消。这不能区分撤消和重做；回调将触发。用法：

```
var catcher = new UndoListener({
    el: document.querySelector('.container'),
    callback: function(val){
        console.log('callback fired', val);
    }
}); 
```

我[在 codepen 上有这个工作](https://codepen.io/fauxserious/pen/eEOMgr?editors=0010)。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2018-03-25T20:19:32.420

我创建了一个状态撤消/重做快照管理器类，它非常适合跟踪带有子输入的整个 HTML 元素的更改历史记录。如果您想在更精细的级别上拍摄快照，您可以绑定按键事件，而不是我在示例中使用的更改事件。

```
 <div id="buttons">
     <button type="button" id="undo_btn">Undo</button>
     <button type="button" id="redo_btn">Redo</button>
  </div>
  <br/><br/>
  <div id="content">
     <label>
        Input1:
        <input type="text" value="" />
     </label>
     <br/><br/>
     <label>
        Input2:
        <input type="text" value="" />
     </label>
     <br/><br/>
     <label>
        Input3:
        <input type="text" value="" />
     </label>
     <br/><br/>
     <label>
        Input4:
        <input type="text" value="" />
     </label>
     <br/><br/>
  </div>

  <script type="text/javascript">
  var StateUndoRedo = function() {
     var init = function(opts) {
        var self = this;
        self.opts = opts;
        if(typeof(self.opts['undo_disabled']) == 'undefined') {
           self.opts['undo_disabled'] = function() {};
        }
        if(typeof(self.opts['undo_enabled']) == 'undefined') {
           self.opts['undo_enabled'] = function() {};
        }
        if(typeof(self.opts['redo_disabled']) == 'undefined') {
           self.opts['redo_disabled'] = function() {};
        }
        if(typeof(self.opts['redo_enabled']) == 'undefined') {
           self.opts['redo_enabled'] = function() {};
        }
        if(typeof(self.opts['restore']) == 'undefined') {
           self.opts['restore'] = function() {};
        }
        self.opts['undo_disabled']();
        self.opts['redo_disabled']();
     }

     var add = function(state) {
        var self = this;
        if(typeof(self.states) == 'undefined') {
           self.states = [];
        }
        if(typeof(self.state_index) == 'undefined') {
           self.state_index = -1;
        }
        self.state_index++;
        self.states[self.state_index] = state;
        self.states.length = self.state_index + 1;
        if(self.state_index > 0) {
           self.opts['undo_enabled']();
        }
        self.opts['redo_disabled']();
     }

     var undo = function() {
        var self = this;
        if(self.state_index > 0) {
           self.state_index--;
           if(self.state_index == 0) {
              self.opts['undo_disabled']();
           } else {
              self.opts['undo_enabled']();
           }
           self.opts['redo_enabled']();

           self.opts['restore'](self.states[self.state_index]);
       }
     }

     var redo = function() {
        var self = this;
        if(self.state_index < self.states.length) {
           self.state_index++;
           if(self.state_index == self.states.length - 1) {
              self.opts['redo_disabled']();
           } else {
              self.opts['redo_enabled']();
           }
           self.opts['undo_enabled']();

           self.opts['restore'](self.states[self.state_index]);
       }
     }

     var restore = function() {
        var self = this;
        self.opts['restore'](self.states[self.state_index]);
     }

     var clear = function() {
        var self = this;
        self.state_index = 0;
        //self.states = [];
     }

     return {
        init: init,
        add: add,
        undo: undo,
        redo: redo,
        restore: restore,
        clear: clear
     };
  };

  //initialize object
  var o = new StateUndoRedo();
  o.init({
     'undo_disabled': function() {
        //make the undo button hidden
        document.getElementById("undo_btn").disabled = true;
     },
     'undo_enabled': function() {
        //make the undo button visible
        document.getElementById("undo_btn").disabled = false;
     },
     'redo_disabled': function() {
        //make the redo button hidden
        document.getElementById("redo_btn").disabled = true;
     },
     'redo_enabled': function() {
        //make the redo button visible
        document.getElementById("redo_btn").disabled = false;
     },
     'restore': function(state) {
        //replace the current content with the restored state content
        document.getElementById("content").innerHTML = state;
     }
  });

  //initialize first state
  o.add(document.getElementById("content").innerHTML);
  o.restore();
  o.clear();

  //bind click events for undo/redo buttons
  document.getElementById("undo_btn").addEventListener("click", function() {
     o.undo();
  });
  document.getElementById("redo_btn").addEventListener("click", function() {
     o.redo();
  });

  //bind change events for content element
  document.getElementById('content').addEventListener("change", function(event) {
     // the following is required since vanilla JS innerHTML 
     // does not capture user-changed values of inputs
     // so we set the attributes explicitly (use jQuery to avoid this)
     var elems = document.querySelectorAll("#content input");
     for(var i = 0; i < elems.length; i++) {
        elems[i].setAttribute("value", elems[i].value);
     }

     //take a snapshot of the current state of the content element
     o.add(document.getElementById("content").innerHTML);
  });
  </script> 
```

看到这个 JSFiddle：[https ://jsfiddle.net/up73q4t0/56/](https://jsfiddle.net/up73q4t0/56/)

# objective-c - Objective-C 语法问题

> ID：15516222
> 
> 赞同：-1
> 
> 时间：2013-03-20T05:45:45.853
> 
> 标签：objective-c

我只是想知道这行代码是什么意思，因为我以前从未见过它。提前致谢

```
- (NSString *)suit
{
    return _suit ? _suit : @"?";  /* precisely this part */
} 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-20T05:48:31.140

它只是一个调用`suit`返回 NSString 的函数。

如果 _suit 不为零`(_suit ? _suit`，则此函数将返回 _suit 执行此操作。

否则，它会返回@"?" （这样`:@"?"`做）。

(something ? somethingElse : somethingElseAgain) 仅表示如果某事为真，则返回 somethingElse，否则返回 somethingElseAgain。

换句话说，它是一种简单的内联方式来编写：

```
if (something) {
    return somethingElse;
}
else {
    return somethingElseAgain;
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-20T06:01:58.637

```
- (NSString *)suit
{
    if(_suit)
        return _suit;
    return @"?"
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-20T05:48:29.130

那就是[三元运算符](http://en.wikipedia.org/wiki/%3F%3a)。它是简写

```
if (_suit)
    _suit;
else
    @"?"; 
```

# iphone - IOS在tabbarcontroller中从navigationcontroller推送viewcontroller但不显示

> ID：15516224
> 
> 赞同：0
> 
> 时间：2013-03-20T05:45:50.053
> 
> 标签：iphone, ios, navigationcontroller, tabbarcontroller

我遇到了一个非常奇怪的问题。

这是我的应用程序委托中的代码结构：

```
self.accountViewController = [[AccountViewController alloc] initWithNibName:@"AccountViewController" bundle:nil];
self.homeViewController = [[HomeViewController alloc] initWithNibName:@"HomeViewController" bundle:nil];
self.exploreViewController = [[ExploreViewController alloc] initWithNibName:@"ExploreViewController" bundle:nil];
self.activityViewController = [[ActivityViewController alloc] initWithNibName:@"ActivityViewController" bundle:nil];
self.homeNavigationController = [[UINavigationController alloc] initWithRootViewController:self.homeViewController];
self.accountNavigationController = [[UINavigationController alloc] initWithRootViewController:self.accountViewController];
self.activityNavigationController = [[UINavigationController alloc] initWithRootViewController:self.activityViewController];
self.exploreNavigationController = [[UINavigationController alloc] initWithRootViewController:self.exploreViewController];

self.tabBarController = [[MyOwnTabBarController alloc] init];
[self.tabBarController setDelegate:self];
[self.tabBarController setViewControllers:[NSArray arrayWithObjects:self.homeNavigationController, self.exploreNavigationController,self.activityNavigationController,self.accountNavigationController,nil]];
[self.tabBarController setSelectedIndex:0];
[self.navController setViewControllers:[NSArray arrayWithObjects:self.welcomeViewController, self.tabBarController, nil] animated:NO]; 
```

对于那个self.navController，我这样定义

```
self.navController = [[UINavigationController alloc] initWithRootViewController:self.welcomeViewController];
self.window.rootViewController = self.navController; 
```

所以在呈现 tabbarcontroller 之后，我将在 homeviewcontroller 那里我有一个collectionview。它成功显示多个单元格。当我点击单元格时，

```
- (void)collectionView:(UICollectionView *)collectionView didSelectItemAtIndexPath:(NSIndexPath *)indexPath
{
    [self.navigationController pushViewController:vc animated:YES];
} 
```

我看到导航栏更改为“vc”中的新标题，并且导航栏的后退按钮也出现了。但是，视图没有改变，我仍然可以访问 collectionview。

但是，如果我按下 tabbarcontroller 上的其他选项卡，例如 accountviewcontroller，然后再次按回 homeviewcontroller 的旧选项卡，现在将显示视图。这是一个非常奇怪的行为，我不知道它为什么会发生。

我还检查了在每个视图控制器中，self.navigationcontroller 不是 nil

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-20T22:10:56.080

发现问题出在 tabbarcontroller 的子类中

```
- (void)viewWillAppear:(BOOL)animated 
```

不见了

```
[super viewWillAppear:animated]; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-20T06:47:03.803

```
self.accountViewController = [[AccountViewController alloc] initWithNibName:@"AccountViewController" bundle:nil];
self.homeViewController = [[HomeViewController alloc] initWithNibName:@"HomeViewController" bundle:nil];
self.exploreViewController = [[ExploreViewController alloc] initWithNibName:@"ExploreViewController" bundle:nil];
self.activityViewController = [[ActivityViewController alloc] initWithNibName:@"ActivityViewController" bundle:nil];
self.homeNavigationController = [[UINavigationController alloc] initWithRootViewController:self.homeViewController];
self.accountNavigationController = [[UINavigationController alloc] initWithRootViewController:self.accountViewController];
self.activityNavigationController = [[UINavigationController alloc] initWithRootViewController:self.activityViewController];
self.exploreNavigationController = [[UINavigationController alloc] initWithRootViewController:self.exploreViewController];
if (tabBarControllerObj!=nil) {
tabBarControllerObj=nil;
}
tabBarControllerObj=[[UITabBarController alloc]init];
NSArray *arrayObj=[[NSArray alloc]initWithObjects:self.homeNavigationController,self.accountNavigationController,self.activityNavigationController,self.exploreNavigationController, nil];
[tabBarControllerObj setSelectedIndex:0];
tabBarControllerObj.tabBar.hidden = YES;
[tabBarControllerObj setViewControllers:arrayObj];
[self.window addSubview:tabBarControllerObj.view]; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-20T05:51:33.770

我认为。只需检查您是否已将导航控制器添加到 tabBar。在下面检查它。如果不是，请告诉我整个场景。

```
tabBarControllerObj=[[UITabBarController alloc]init];
    NSArray *arrayObj=[[NSArray alloc]initWithObjects:navForView1,navForView2,navForView3,navForView4,navForView5, nil];

    [tabBarControllerObj setSelectedIndex:0];
    tabBarControllerObj.tabBar.hidden = YES;
    [tabBarControllerObj setViewControllers:arrayObj];
    [self.window addSubview:tabBarControllerObj.view]; 
```

# java - 外键 (FK300D262149997B:four [three_id])) 的列数必须与引用的主键 (three [one_id,two_id]) 相同

> ID：15516225
> 
> 赞同：0
> 
> 时间：2013-03-20T05:45:50.080
> 
> 标签：java, mysql, database, hibernate, mapping

目标：我试图理解休眠映射。当我尝试映射表时，我得到了一个错误

外键 (FK300D262149997B:four [three_id])) 的列数必须与引用的主键 (three [one_id,two_id]) 相同

休眠映射：

```
1). Created table 'one' with two columns (primary key and name field).
2). Created table 'two' with two columns (primary key and name field).
3). Created table 'three' with three columns (primary key, foreign key reference of table 'one' and foreign key reference of table 'two').
4). Created table 'four' with three columns (primary key, foreign key reference of table 'three' and name field).
5). Entity class 'One' has the set of 'Two' class. 
```

问题 ：

```
When mapping is compiled am getting following error. 

Foreign key (FK300D262149997B:four [three_id])) must have same number of columns as the referenced primary key (three [one_id,two_id]) 
```

附件来源：

DDL：

```
CREATE TABLE ONE(
id BIGINT PRIMARY KEY AUTO_INCREMENT,
NAME VARCHAR(45));

CREATE TABLE two(
id BIGINT PRIMARY KEY AUTO_INCREMENT,
NAME VARCHAR(45));

CREATE TABLE three(
id BIGINT PRIMARY KEY AUTO_INCREMENT,
one_id BIGINT,
two_id BIGINT,
KEY `one_id` (`one_id`),
KEY `two_id` (`two_id`),
CONSTRAINT `fk_one_three` FOREIGN KEY (`one_id`) REFERENCES `one` (`id`),
CONSTRAINT `fk_two_three` FOREIGN KEY (`two_id`) REFERENCES `two` (`id`) );

CREATE TABLE four(
id BIGINT PRIMARY KEY AUTO_INCREMENT,
three_id BIGINT,
NAME VARCHAR(45),
KEY `three_id` (`three_id`),
CONSTRAINT `fk_three_four` FOREIGN KEY (`three_id`) REFERENCES `three` (`id`)); 
```

实体 ：

一.java

```
public class One {
    private long id;
    private String name;
    private Set<Two> twos;

    public Set<Two> getTwos() {
        return twos;
    }
    public void setTwos(Set<Two> twos) {
        this.twos = twos;
    }
    public long getId() {
        return id;
    }
    public void setId(long id) {
        this.id = id;
    }
    public String getName() {
        return name;
    }
    public void setName(String name) {
        this.name = name;
    }
} 
```

二.java

```
public class Two {
    private long id;
    private String name;
    public long getId() {
        return id;
    }
    public void setId(long id) {
        this.id = id;
    }
    public String getName() {
        return name;
    }
    public void setName(String name) {
        this.name = name;
    }
} 
```

三.java

```
public class Three {
    private long id;
    private One one;
    private Two two;
    public long getId() {
        return id;
    }
    public void setId(long id) {
        this.id = id;
    }
    public One getOne() {
        return one;
    }
    public void setOne(One one) {
        this.one = one;
    }
    public Two getTwo() {
        return two;
    }
    public void setTwo(Two two) {
        this.two = two;
    }   
} 
```

四.java

```
public class Four {
    private long id;
    private Three three;
    private String name;
    public long getId() {
        return id;
    }
    public void setId(long id) {
        this.id = id;
    }
    public Three getThree() {
        return three;
    }
    public void setThree(Three three) {
        this.three = three;
    }
    public String getName() {
        return name;
    }
    public void setName(String name) {
        this.name = name;
    }   
} 
```

我怎样才能使它工作？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-20T05:50:20.127

您的错误是告诉您的表在列上包含一个外键，但您引用的表定义了它的主键有两列，顺便说一句，这对于关系表来说很常见。

详情见[这里](https://stackoverflow.com/questions/14579449/foreign-key-must-have-same-number-of-columns-as-the-reference-primary-key-hibern)

# android - startActivity(intent) 出错，怎么回事？

> ID：15516230
> 
> 赞同：4
> 
> 时间：2013-03-20T05:46:15.973
> 
> 标签：android, url, android-intent, webview, tabs

下面的代码 startActivity(intent) 给了我一个错误

这是我的代码：

```
public class MyWebViewClient3 extends WebViewClient {

    @Override
    public boolean shouldOverrideUrlLoading(WebView view, String url) {
        if (Uri.parse(url).getHost().equals("www.facebook.com")) {
            // This is my web site, so do not override; let my WebView load the page
            return false;
        }
        // Otherwise, the link is not for a page on my site, so launch another Activity that handles URLs
        Intent intent = new Intent(Intent.ACTION_VIEW, Uri.parse(url));
        startActivity(intent);//this is where it goes wrong
        return true;
        }
} 
```

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-03-20T05:52:17.170

WebViewClient 客户端不是**上下文**，因此您无法从此处启动 Activity。您可能希望获取 Context 作为参考，然后说

```
context.startActivity(intent); 
```

在**vmironov**的建议之后..

```
@Override
    public boolean shouldOverrideUrlLoading(WebView view, String url) {
        if (Uri.parse(url).getHost().equals("www.facebook.com")) {
            // This is my web site, so do not override; let my WebView load the page
            return false;
        }
        // Otherwise, the link is not for a page on my site, so launch another Activity that handles URLs
        Intent intent = new Intent(Intent.ACTION_VIEW, Uri.parse(url));
        view.getContext().startActivity(intent);
        return true;
    } 
```

# if-statement - 我无法在 IF 语句中传递变量

> ID：15516234
> 
> 赞同：0
> 
> 时间：2013-03-20T05:47:11.467
> 
> 标签：if-statement, awk

此脚本的目的是检查 rpt1 rpt2 txt 文件中名称相似的文件。这里 Rpt1 和 rpt2 是两个 txt 文件，我已经在程序的前一部分中提取了目录 (fold1 fold3 ) 信息。我已经运行了这个脚本。它的抛出错误。

错误：5.sh[74]：第 92 行的语法错误：`"' 不匹配

74 是什么意思？92 是什么意思？请帮我解决这个问题。提前致谢。

```
72  line=1
74  while [ $line -le $total1 ]
75  do
77  memr=$(sed -n "${line}p" rpt1.txt| awk '{print $3}')
80  if [ $memr != 512 ]; #checking for file
82  then
84  line2=1 #count value for rpt2
86          while [ $line2 -le $total2 ]
87          do
88          (
90          search=$(  sed -n "${line}p" rpt1.txt | awk -F"/" '{print $NF}' )
92          if [ "$(grep "$search" "awk -F"/" '{print $NF}' rpt2.txt)" != ''        ]
93          then
94          if [ "awk '/$search/ {print $3}' rpt1.txt" -eq    "awk '/$search/ {print $3}' rpt2.txt" ]
95          then
96          echo "$search is duplicate" "location 1 is" "$(awk '/$search/' {print $4}' rpt1.txt)"
98          "$(awk '/$search/' {print $4}' rpt2.txt)" 
```

100 fi 101 fi 102 echo "$search" "is unique file" 103 line2= `expr $line2 +1` 104 done 106 line1= `expr $line1 +1` 107 done

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-20T06:01:44.470

好吧，92 是它抱怨双引号不匹配的行，这是正确的 - 该行有*七个*双引号，所以你肯定有问题。

我不完全确定为什么你在`awk`命令之前有一个 - 这对我来说似乎不合适。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-20T06:40:32.530

92：你是否试图寻找`rpt2.txt`最后`$search`一个领域的出现？

如果是，那么您可以按如下方式重写该行：

```
if [ "$(awk -F'/' '$NF=="'"$search"'"' rpt2.txt)" ] ; 
```

# scala - 从 Scala 集合中检索构建器

> ID：15516236
> 
> 赞同：1
> 
> 时间：2013-03-20T05:47:16.250
> 
> 标签：scala, collections, scala-collections

如何从不知道它的实现的 scala 集合中检索构建器？我已将参数类型限制为 TraversableLike 的后代，但它的 newBuilder 方法受到保护，我不能从外部调用它。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-20T06:13:32.953

生成器是通过使用`CanBuildFrom`隐式检索的，它会根据以下参数自动解析：

*   输入集合中的元素类型
*   输入集合的类型
*   输出集合的合适类型。

例如，如果您在返回的 List[Int] 上执行映射`_.toString`，`CanBuildFrom`则将如下所示：

```
CanBuildFrom[List,Int,List[String]] 
```

您应该依靠相同的机制来动态检索您需要的正确构建器。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-03-20T06:13:58.430

代码片段将有助于提供一些上下文。你提到“参数类型”......

无论声明这个参数，它是否有类型参数`Repr`？像

```
def mysteryMethod[A, Repr](arg: TraversableLike[A, Repr]): Builder[A, Repr] 
```

假设，你可以做这样的事情：

```
import collection.TraversableLike
import collection.mutable.Builder
import collection.generic.CanBuildFrom

def mysteryMethod[A, Repr](arg: TraversableLike[A, Repr])(implicit 
                 cbf: CanBuildFrom[Repr, A, Repr]): Builder[A, Repr] = cbf.apply 

val t: TraversableLike[Int, Vector[Int]] = Vector(1, 2)
val builder = mysteryMethod(t)                  
builder += 3                                    
builder += 4                                 
builder.result                      //> res2: Vector[Int] = Vector(3, 4) 
```

# css - CSS :hover 在我将鼠标悬停在 AROUND 而不是 div 元素上时响应

> ID：15516237
> 
> 赞同：0
> 
> 时间：2013-03-20T05:47:29.677
> 
> 标签：css, hover, image-replacement

我遇到了一个微妙但令人讨厌的问题：我正在尝试使用 CSS 图像替换来实现“关闭”交叉。HTML是

```
<div id='close' title='Close'>
    <a href='#'>
        <img src='https://dl.dropbox.com/u/116120595/images/tr_sq_30_30.png' />
    </a>
</div> 
```

这里的图像是一个 30 像素 x 30 像素的透明正方形。CSS是

```
div.fadeOut div#close{
    margin:5px;
    width:30px;
    height:30px;
    background:url(https://dl.dropbox.com/u/116120595/images/blue_ccr_30_30.png) 0px 0px no-repeat;
    position:absolute;
    right:0px;
    top:0px;
}

div.fadeOut div#close:hover{
    background:url(https://dl.dropbox.com/u/116120595/images/red_ccr_30_30.png) 0px 0px no-repeat;
} 
```

这两个图像是透明的 30px x 30px 正方形，其中有一个蓝色和红色的“关闭”十字。结果效果不是很好，因为`:hover`似乎只对我**徘徊**而不是**在**`div`. 请[在此处](https://dl.dropbox.com/u/116120595/images/hover_problem.swf)查看演示。

我在这里做错了什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-20T05:57:56.987

看起来另一个元素部分覆盖了关闭按钮。尝试添加一个`z-index`属性`div#close`，看看它是否有帮助。您可能还有另一个`positioned`具有更高`z-index`价值的元素。

# joomla - Joomla 的 Lyften Bloggie 组件的 RSS 问题

> ID：15516239
> 
> 赞同：1
> 
> 时间：2013-03-20T05:47:41.197
> 
> 标签：joomla, rss, atom-feed

我正在为我的网站使用一个名为[Lyften Bloggie](http://www.lyften.com/projects/lyften-bloggie.html)的组件，该组件建立在 Joomla 上。但是RSS提要存在问题。当我单击提要按钮时，它正在重新加载相同的博客页面，但没有显示任何内容。当我用 Firebug 检查它时，它在网络控制台中显示 301 错误。我不知道发生了什么。我在 Joomla 中禁用了 SEF URL，同样的问题仍然存在。当我在 chrome 中打开时，它显示了提要源，但在提要验证器中再次显示相同的 301 错误。

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2013-04-02T09:58:10.197

使用什么版本的 Joomla 以及什么版本的 LyftenBloggie？查看该组件的站点，我看不到太多活动。

要调试您的问题，您是否查看过控制台输出？也许有来自其他组件的一些干扰？

# wpf - WPF - 选项卡中的 xaml 滚动条

> ID：15516241
> 
> 赞同：4
> 
> 时间：2013-03-20T05:47:50.513
> 
> 标签：wpf, xaml, visual-studio-2012

我希望在选项卡中实现滚动条，这是我拥有的以下选项卡代码：

```
 <TabControl x:Name="tabs"
                Grid.Column="2"
                Margin="5 0">
        <TabControl.LayoutTransform>
            <ScaleTransform ScaleX="{Binding ElementName=zoomSlider, 
                                             Path=Value}"
                            ScaleY="{Binding ElementName=zoomSlider, 
                                             Path=Value}" />

        </TabControl.LayoutTransform>
    </TabControl> 
```

但是我知道它是一个使用滑块的可扩展选项卡，但我想要的只是滚动条显示为另一个选项，而不是为了可用性而一直缩放页面。

这是我实现的滚动条的代码，但它不显示。

```
<TabControl x:Name="tabs"
                Grid.Column="2"
                Margin="5 0"
                ScrollViewer.VerticalScrollBarVisibility="Auto">
        <TabControl.LayoutTransform>
            <ScaleTransform ScaleX="{Binding ElementName=zoomSlider, 
                                             Path=Value}"
                            ScaleY="{Binding ElementName=zoomSlider, 
                                             Path=Value}" />

        </TabControl.LayoutTransform>
    </TabControl> 
```

我很确定通过添加代码： ScrollViewer.VerticalScrollBarVisibility="Auto" 它应该可以工作吗？

任何帮助将不胜感激。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-03-20T08:06:24.643

您必须将`TabControl`a包裹起来，`ScrollViewer`因为默认情况下`TabControl`没有 a`ScrollViewer`

```
<ScrollViewer VerticalScrollBarVisibility="Auto" HorizontalScrollBarVisibility="Auto">
    <TabControl x:Name="tabs" Grid.Column="2" Margin="5 0" >
        <TabControl.LayoutTransform>
            <ScaleTransform ScaleX="{Binding ElementName=zoomSlider, Path=Value}"
                            ScaleY="{Binding ElementName=zoomSlider, Path=Value}" />
        </TabControl.LayoutTransform>
    </TabControl>
</ScrollViewer> 
```

结果：

![在此处输入图像描述](../Images/9bf84ddd246ecd06a5aacb2a7dcb4f0c.png)

# java - JavaFx：java.io.FileNotFoundException（访问被拒绝）

> ID：15516248
> 
> 赞同：2
> 
> 时间：2013-03-20T05:48:36.283
> 
> 标签：java, javafx-2, filenotfoundexception, access-denied

我正在尝试使用 javaFX 在 C:\Program Files 文件夹中创建一个文件，但它向我显示拒绝访问的错误。

这是代码示例。

```
FileWriter fstream = new FileWriter("C:\\Program Files (x86)\\My Folder\\my_file.txt");
BufferedWriter out = new BufferedWriter(fstream);
out.write("Hello!"); 
```

* * *

这是我在运行应用程序时发现的错误。

```
java.io.FileNotFoundException: C:\Program Files (x86)\My Folder\my_file.txt (Access is denied)
    at java.io.FileOutputStream.open(Native Method)
    at java.io.FileOutputStream.<init>(FileOutputStream.java:212)
    at java.io.FileOutputStream.<init>(FileOutputStream.java:104)
    at java.io.FileWriter.<init>(FileWriter.java:63) 
```

我不知道如何让我的应用程序拥有在指定位置创建文件所需的所有权限。请帮助我提供足够的代码和信息。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-20T06:00:26.330

如果您没有明确禁用 UAC，您将无法写入`Program Files`. 操作系统将阻止这种情况以保护您的系统。

# java - 如何访问方法中声明的对象？

> ID：15516249
> 
> 赞同：-1
> 
> 时间：2013-03-20T05:48:37.333
> 
> 标签：java, junit, mockito, powermock

如何使用 powermock-mockito 访问方法中声明的对象？

例如 ：

```
Class A 
{

private void method1()
{
  B b = new B();
  // This method returns nothing , and I have no intention to change it's return type or  //any other things.
}

}

Class B {

public B()
{

}

} 
```

现在我正在编写调用此私有方法的测试用例，在我的测试用例中，我想获取在 method1 中创建的对象 B 的值。（PowerMock-Mockito）

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-20T05:53:35.580

您无法访问对象 B，因为一旦执行该方法，它的范围就结束了，如果没有更多的引用，它将可以被垃圾收集。尝试在类级别声明变量并在您的方法中初始化。然后你可以使用反射来获取对象。如果你使用 spring ReflectionTestUtils 是一个方便的类来实现这一点。

# node.js - 将生成标准输出结果存储为 Node.js 中的字符串变量

> ID：15516254
> 
> 赞同：2
> 
> 时间：2013-03-20T05:49:12.233
> 
> 标签：node.js

我正在尝试将此函数的输出返回到要在另一个函数中使用的变量中，但该变量返回为未定义。我究竟做错了什么？

```
function run(cmd){
    var spawn = require('child_process').spawn;
    var command = spawn(cmd);
    var result = '';
      command.stdout.on('data', function(data) {
         result += data.toString();
      });
      command.on('close', function(code) {
         return result;
      });
}
var message = run("ls");
sendMessage(user, message); 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-20T06:07:43.167

您的`run`函数是异步的（因为`spawn`是）。传递其结果的最简单方法是提供一个回调函数，该函数在结果出现时调用：

```
function run(cmd, cb) {
  var spawn = require('child_process').spawn;
  var command = spawn(cmd);
  var result = '';
  command.stdout.on('data', function(data) {
    result += data.toString();
  });
  command.on('close', function(code) {
    cb(result);
  });
}
run("ls", function(message) {
  sendMessage(user, message);
}); 
```

# java - Noob 需要帮助在同一个项目中调用另一个类

> ID：15516256
> 
> 赞同：0
> 
> 时间：2013-03-20T05:49:20.097
> 
> 标签：java

嘿，这里的超级菜鸟，我已经厌倦了阅读其他答案来理解这一点，但我就是想不通。所以我在这里有这门课。

```
public class Testing {
public static void main(String[] args) {

System.out.println("Hello boss awesome");
System.out.println("My name is Luke Duke'm");
}
} 
```

我想调用我在这个类中创建的另一个类来打印当前日期和时间。这是我为获取日期/时间而创建的类。

```
import java.text.DateFormat;
import java.text.SimpleDateFormat;
import java.util.Calendar;
import java.util.TimeZone;

public class date {
public void main(String args[]) {

TimeZone zone = TimeZone.getDefault();
DateFormat format = new SimpleDateFormat ("MM/dd/yyyy HH:mm");
format.setTimeZone(zone);
Calendar cal = Calendar.getInstance();
System.out.println(format.format(cal.getTime()));
}
} 
```

我需要在测试类中添加什么来调用日期类并让它打印日期。很抱歉成为这样的菜鸟，但必须以某种方式学习。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-20T05:58:18.320

在`date`类中将方法的名称更改为其他名称，例如

```
import java.text.DateFormat;
import java.text.SimpleDateFormat;
import java.util.Calendar;
import java.util.TimeZone;

public class date {
    public void printDate() {

    TimeZone zone = TimeZone.getDefault();
    DateFormat format = new SimpleDateFormat ("MM/dd/yyyy HH:mm");
    format.setTimeZone(zone);
    Calendar cal = Calendar.getInstance();
    System.out.println(format.format(cal.getTime()));
    }
} 
```

`Testing`在你班级的主要方法中

1.  创建对象`date`

2.  在创建的类`printDate()`实例上调用`date`

    公共类测试{

    ```
    public static void main(String[] args) {

    System.out.println("Hello boss awesome");
    System.out.println("My name is Luke Duke'm");
    date d = new date();
    System.out.print("date:");
    d.printDate();
    } 
    ```

    }

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-20T05:55:42.260

您可以创建您创建的日期类的对象并尝试调用该方法，以完成该工作，该方法有权执行。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-20T05:56:00.183

```
import java.text.DateFormat;
import java.text.SimpleDateFormat;
import java.util.Calendar;
import java.util.TimeZone;

    public class Date {
    public void printDate() {

    TimeZone zone = TimeZone.getDefault();
    DateFormat format = new SimpleDateFormat ("MM/dd/yyyy HH:mm");
    format.setTimeZone(zone);
    Calendar cal = Calendar.getInstance();
    System.out.println(format.format(cal.getTime()));
    }
    } 
```

在另一个类中创建上述类的实例，如下所示

```
public class Testing {
public static void main(String[] args) {
Date objdate=new Date();
objdate.printDate();
System.out.println("Hello boss awesome");
System.out.println("My name is Luke Duke'm");
}
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-20T05:53:33.713

请把类名日期改成另外一个，是预定义类的名字，不能调用其他类的main方法，所以写一个用户定义的方法

```
public class ClassName{

  public getDate() {

   TimeZone zone = TimeZone.getDefault();
   DateFormat format = new SimpleDateFormat ("MM/dd/yyyy HH:mm");
   format.setTimeZone(zone);
   Calendar cal = Calendar.getInstance();
   System.out.println(format.format(cal.getTime()));
  }
}
 public class Testing {    

  public static void main(String[] args) {

   ClassName obj =  new ClassName();
   obj .getDate();

   System.out.println("Hello boss awesome");
   System.out.println("My name is Luke Duke'm");
  }
 } 
```

# java - 图像是否应该保存在数据库中的磁盘上？

> ID：15516257
> 
> 赞同：0
> 
> 时间：2013-03-20T05:49:20.493
> 
> 标签：java, image, performance, servlets

我必须读取 servlet 中的图像并将其显示在 JSP 的响应中。出于性能目的，我需要知道哪种存储介质将导致**图像读取**的最大性能。

1.  从磁盘读取图像（服务器上的某个位置）
2.  从数据库

请记住，这些图像将达到数百万（超过 300 万），并且会随着时间的推移而增加。谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-20T05:57:37.533

根据我的理解，如果文件不是很敏感，则应该将它们保存在磁盘上而不是数据库中，因为稍后在您的数据库服务器和应用程序上可能位于两台不同的机器上，在这种情况下，检索二进制文件将是非常昂贵的工作套接字上的数据（如果它们很重）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-20T06:14:07.370

1 :**在数据库中存储图像是一个繁重的过程**
2 :**在服务器上存储更轻更快**

3：**但是您必须维护服务器空间** 可能会不断从服务器位置删除不需要的图像，如果服务器空间减少，那么您的应用程序性能会受到影响

# python - 命名序列

> ID：15516258
> 
> 赞同：1
> 
> 时间：2013-03-20T05:49:29.177
> 
> 标签：python, naming

我有一个通过 itertools 创建序列的 fasta 文件的程序。

```
import itertools
input=['ARIMALTHNAEYSDSFTAL','ARIMFLTHNFEYSESFTAL','AHIMNPTENAEYHESFTAL','AHIMNPTENTEYWDSFTAL','AHIMNDTHNFEYHDSFTAL','AHIMNDTNNTEYWESFTAL','ARIMFDTENAEYHDSFTAL','AHIMADTNNTEYWDSFTAL','ARIMFLTENTEYHESFTAL']

l=len(input[0])

my_residues=[set() for _ in xrange(l)]
for h in input: 
    for i,x in enumerate(h): 
        my_residues[i].add(x)

my_residues=[list(x) for x in my_residues]
fo=open('autotest.fasta','w')
vals=[]
for x in itertools.product(*my_residues): 
    val = ''.join(x)
    vals.append('>'+'\n'+val)
    print val

with open('autotest.fasta','w') as fo:
    fo.write('\n'.join(vals))
fo.close() 
```

该程序运行良好。这将提供名为 autotest.fasta 的输出文件，看起来像

```
>
AHIMAPTHNAEYHESFTAL
>
AHIMAPTHNAEYHDSFTAL
>
AHIMAPTHNAEYSESFTAL
>
AHIMAPTHNAEYSDSFTAL
>
AHIMAPTHNAEYWESFTAL
>
AHIMAPTHNAEYWDSFTAL
... 
```

这里我想要的是命名序列，以便输出 autotest.fasta 看起来像

```
>00
AHIMAPTHNAEYHESFTAL
>01
AHIMAPTHNAEYHDSFTAL
>02
AHIMAPTHNAEYSESFTAL
>03
AHIMAPTHNAEYSDSFTAL
>04
AHIMAPTHNAEYWESFTAL
>05
AHIMAPTHNAEYWDSFTAL
... 
```

这样它就可以应用于任何输入。

任何帮助，将不胜感激。谢谢你。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-20T05:54:23.947

```
vals=[]
counter=0
for x in itertools.product(*my_residues): 
    val = ''.join(x)
    vals.append('>%02d\n%s' % (counter, val))
    print val
    counter += 1 
```

# c# - 在 wpf 中显示大量快速变化的数字

> ID：15516261
> 
> 赞同：1
> 
> 时间：2013-03-20T05:49:33.090
> 
> 标签：c#, wpf, performance

可能吗？

我们的数据网格一直存在一些性能问题，并且已经尝试了许多改进它的技巧和窍门（例如[这里](http://msdn.microsoft.com/en-us/library/aa970683.aspx)和[这里](https://stackoverflow.com/a/13765128/337065)）。这些都没有太大的不同。

`TextBlock`我将问题简化为画布上屏幕的 s 值。即使这样也会导致帧率下降到低于 1/sec 并吃掉整个 cpu。此时[wpf 性能监视器](http://msdn.microsoft.com/en-us/library/aa969767.aspx#visual_profiler)停止运行，但由于窗口尺寸较小，布局和渲染被分割为大约 50/50。

有什么方法可以让 wpf 显示这种数据，还是我们需要切换到较低级别的东西？这个[WPFTextBenchmark](https://github.com/dgrunwald/WPF-Text-Rendering-Benchmark/tree/master/WpfTextBenchmark)似乎表明默认的 wpf 文本显示比其他方法慢很多。

编辑，附加信息：

带有文本框的画布背后的想法是减少布局计算，因为一个文本块的位置将不受其他文本块的影响。

根据评论进行编辑：

1）我们正在查看数百个单元格（大约一个屏幕的价值），许多单元每秒更新多次，有些可能在几分钟内保持不变。但是，我们不关心更快速的更新（例如 5/秒）。

2) 我们使用 INotifyPropertyChanged 和 DataBindings 来更新 UI。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-20T08:15:19.327

除了绑定之外，您可能还想查看其他更新值的方法。绑定传统上很慢，最好将控件绑定到所有数据，并让控件弄清楚如何获取它需要的实际值。

另一个想法是不让整个事物由数据驱动（数据更改 -> UI 更新），而是改为由 UI 驱动（UI 每 5 秒刷新一次 -> 从数据中提取最新值）。这不是 WPF 中常用的做事方式，但它确实有效。

# android - 获取在android小部件上单击了哪个按钮

> ID：15516262
> 
> 赞同：0
> 
> 时间：2013-03-20T05:49:34.270
> 
> 标签：android, android-widget, android-service

我有一个小部件，其设计现已完成，由 4 个按钮组成，我想获取单击了小部件上的哪个按钮，并根据单击的按钮将值传递给我对其采取必要操作的服务。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-20T06:20:27.023

你的代码应该是这样的

```
 public class MainActivity extends Activity implements  OnClickListener {
    Button btn0,btn1,btn2,btn3;

       btn0.setOnClickListener(this);
    btn1.setOnClickListener(this);
    btn2.setOnClickListener(this);
    btn3.setOnClickListener(this);
     }
      @Override
public void onClick(View v) {
    // TODO Auto-generated method stub
    if(btnrunclick=true)
    {
        Button b = (Button)v;
        buttonText = b.getText().toString();// this will return button text which is clicked
        if(buttonText..equalsIgnoreCase("your text"))
      {
         //call required method for that button

          }
         else if(buttonText.equalsIgnoreCase("next button text"))               
    {
         //call required method for that button

          }

    }       
} 
```

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-03-20T06:05:40.643

您可以通过实现`View.OnClickListener`并将其分配给您喜欢的所有 4 个按钮来做到这一点。我还没有尝试过，但也许你可以试一试：-

```
View.OnClickListener listener = new View.OnCLickListener () {
    public void onClick(View v) {
        if (v instanceof Button && (Button) v == btn1) {
            // Do something
        } else if (v instanceof Button && (Button) v == btn2) {
            // Do something
        }
    }
}
btn1.setOnClickListener(listener);
btn2.setOnClickListener(listener); 
```

# ios - 使用 GameKit 将 UISlider 的移动值从一台设备发送到另一台设备

> ID：15516263
> 
> 赞同：2
> 
> 时间：2013-03-20T05:49:34.903
> 
> 标签：ios, gamekit

我正在寻找使用蓝牙将 UISlider 的移动值从一台设备发送到另一台设备的示例代码。我能够将文本和图像从一台设备发送到另一台设备。但现在，我想做发送滑块值。如果我移动滑块比相同的位置也移动另一个设备..

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-20T05:59:42.947

您需要有一种方法将滑块的值转换为 NSNumber 或 NSString，然后以相同的方式发送。

所以你会有：

```
[slider addTarget:self action:@selector(sliderMoved:) forControlEvents:UIControlEventValueChanged]; 
```

然后在你的sliderMoved中：

```
-(void)sliderMoved:(UISlider *)slider {
    NSNumber *number = [NSNumber numberWithInt:(int)slider.value];
    // or
    NSString *string = [NSString stringWithFormat:@"%i",(int)slider.value];
    //Then you would want to send it to the other device.
} 
```

如果您想要滑块的完整浮点值，也不能将它们转换为整数。

在这种情况下，您将改为使用：

```
[NSNumber numberWithFloat:slider.value];
// or
[NSString stringWithFormat:@"%f",slider.value]; 
```

在另一台设备上收到此值后，将其转换回浮点数并设置该设备的滑块值：

```
float f = [newValue floatValue];
[slider setValue:f animated:YES/NO]; 
```

# android - 录制视频时在视频中插入指示器？

> ID：15516271
> 
> 赞同：1
> 
> 时间：2013-03-20T05:50:19.363
> 
> 标签：android

我必须做录制视频的简单任务。以下是我想要的屏幕

![在此处输入图像描述](../Images/819cda75ecae61a80b1445089c47169a.png)

录制时在录制的视频中按下 Good 按钮指示灯变为绿色，按下 Wrog 按钮指示灯变为红色。

我该怎么做这个任务？？如果有代码请分享。在播放时，我们希望看到指标。

而且我想修剪一些长视频片段并加入它们。

# c - 如何将具有固定枢轴的迭代快速排序更改为具有随机枢轴的迭代快速排序？

> ID：15516274
> 
> 赞同：1
> 
> 时间：2013-03-20T05:50:24.693
> 
> 标签：c, sorting, quicksort

我发现此代码用于具有固定枢轴的快速排序。它总是将给定表格的右侧元素作为枢轴。我希望它以随机元素为轴心。我认为这`x`是一个支点，所以我认为将其更改为给定列表中的随机元素是个好主意，但事实证明它不起作用。

```
void swap ( int* a, int* b )
{
    int t = *a;
    *a = *b;
    *b = t;
}

int partition (int arr[], int l, int h)
{
    int x = arr[h];
    int i = (l - 1);
    for (int j = l; j <= h- 1; j++)
    {
        if (arr[j] <= x)
        {
            i++;
            swap (&arr[i], &arr[j]);
        }
    }
    swap (&arr[i + 1], &arr[h]);
    return (i + 1);
}

void quickSortIterative (int arr[], int l, int h)
{
    int stack[ h - l + 1 ]; 
    int top = -1;

    stack[ ++top ] = l;
    stack[ ++top ] = h;

    while ( top >= 0 )
    {
        h = stack[ top-- ];
        l = stack[ top-- ];

        int p = partition( arr, l, h );

        if ( p-1 > l )
        {
            stack[ ++top ] = l;
            stack[ ++top ] = p - 1;
        } 
        if ( p+1 < h )
        {
            stack[ ++top ] = p + 1;
            stack[ ++top ] = h;
        }
    }
} 
```

我尝试换行

```
int x = arr[h]; 
```

和

```
swap(&arr[i+1], &arr[j]); 
```

到

```
int r = l+rand()%(h-l);
int x = arr[r]; 
```

进而

```
swap(&arr[i+1], &arr[r]); 
```

但它没有正确排序。显然我在这里做错了什么。请帮忙。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-20T06:03:05.523

您的分区函数假定枢轴位于分区的末尾。考虑首先将您的随机枢轴移动到分区的末尾。

即添加

```
swap(&arr[r], &arr[h]); 
```

选择您的支点后。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-20T06:05:41.550

The problem is that the 'partition' function now moves the pivot so it doesn't remain at the `r` index. And the function also misses the last element (at index `h`). The simplest solution would be to place the pivot to the right-most position just after selecting it, and remain everything other the same: put `swap(&arr[r], &arr[h]);` before the first loop in `partition()`, and restore the last swap to `swap (&arr[i + 1], &arr[h]);`

# android - android ndk开发中的gnustl和stlport有什么区别？

> ID：15516275
> 
> 赞同：12
> 
> 时间：2013-03-20T05:50:28.590
> 
> 标签：android, stl, android-ndk, gnu

我想知道它们的性能/稳定性是否彼此不同，以及它们的许可证是否简要说明。欢迎现实世界的经验。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2014-07-18T19:12:58.233

截至昨天（NDK r9d），gnustl 仍然更全面，例如对<thread>、<future> 和其他一些C++11 特性的支持。甚至这些都依赖于工具链：您不能使用默认的 ARM gcc 4.6 来启用它们。

OTOH，stlport 许可证是严肃的，就像 AOSP 的其余部分一样，而 gnustl 的 GPL v3 链接例外则不容易理解。有关一些较早的讨论，请参阅[https://groups.google.com/d/topic/android-ndk/OWl_orR0DRQ](https://groups.google.com/d/topic/android-ndk/OWl_orR0DRQ)。

如果您查看 NDK 发行说明，您会发现就修复的错误而言，这两个 STL 实现或多或少是相当的。

我很高兴看到性能基准，但就我个人而言，我从未遇到过 STL 实现变化解决了真正的瓶颈的情况。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-07-18T15:43:11.380

[GNU STL](http://morgwai.pl/ndkTutorial/)在 GPLv3 许可下分发，这对某些人来说是不可接受的。NDK 也提供了 STLport 并且可以使用它，但是它有点复杂，因为独立的工具链不包含它。

> 默认情况下，NDK 工具链会将您的 C++ 共享库链接到 GNU STL 库的静态版本。但是，如果您正在使用多个共享库，那么链接到静态版本的 STL 是不可接受的，因为您的每个共享库都有自己的 STL 副本。这将导致 STL 中定义的全局变量的多个副本，并可能导致内存泄漏或损坏
> 
> [**重要提示**](http://code.metager.de/source/xref/android/4.1.1/ndk/docs/STANDALONE-TOOLCHAIN.html)：直接使用 NDK 工具链有一个严重的限制：您将无法使用任何 C++ STL（STLport 或 GNU libstdc++）。也没有例外，也没有 RTTI。

# php - 数值的数组合并

> ID：15516277
> 
> 赞同：0
> 
> 时间：2013-03-20T05:50:56.087
> 
> 标签：php, arrays

我有两个数组，

```
Array 1(
  'A' => string '13' (length=2)
  'B' => string '13' (length=2)
)

Array 2(
   9 => string '13' (length=2)
) 
```

但是当我`array_merge`用来组合这些`arrays`时，它向我展示了这样

```
Array(
   'A' => string '13' (length=2)
   'B' => string '13' (length=2) 
    0 => string '13' (length=2)
) 
```

每次有数值时，`array_merge`自动递增，不取原值。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-03-20T05:55:37.190

```
<?php
$a = array('A' => 13, 'B' => 13);
$b = array('9' => 13);

print_r($a+$b);
?> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-20T06:10:13.590

array_merge() 将对数字索引进行重新索引。您只想将一个数组附加到另​​一个数组，而无需重新索引或改组使用“+”然后...如下所示

```
<?php
$array1 = array('a'=>'13','b'=>'14');
$array2 = array(9=>'13');
$merged_array  = $array1+$array2;
print_r($merged_array);
?> 
```

文档链接[http://php.net/manual/en/function.array-merge.php](http://php.net/manual/en/function.array-merge.php)

# oracle - Oracle 10g - 插入到临时表 - 选择和插入之间的记录计数不匹配

> ID：15516279
> 
> 赞同：1
> 
> 时间：2013-03-20T05:51:17.760
> 
> 标签：oracle, insert, temp-tables

我们正在尝试将选择查询中的记录插入到临时表中，临时表中缺少一些记录。select 语句有多个连接和联合，所有这些都很少复杂的查询。简单来说，脚本包含 2 部分 第 1 部分 插入到临时表 第 2 部分 选择具有多个连接的查询、内联子查询、联合和按类和条件分组

例如。如果我们单独执行 select 语句，它会返回一些计数，例如 => 60000 插入临时表后，临时表中的计数在 42000 左右，为什么会有差异？

**此外，我们还有其他一些观察。它只发生在第二次执行而​​不是第一次运行中。希望可能有一些缓存问题**

* * *

我们得到了一个解决方案，一旦我们清除了会话缓存（检查点、刷新 shared_pool 和 buffer_cache），它就可以正常运行 Re_Run。

## 但是，我们不知道这个解决方案可以吗？以及如何在后台清除缓存和插入失败。如果是真的，我猜是配置设置错误。

代码看起来像 sql = "insert in to temptable select x,y,z,.... from xxx,abc,pqr..where...."; （逻辑但不真实非常复杂，大约 700 行，包含多个连接、内联子查询、分组依据等。） stmt = conn.createStatement(); rCount=stmt.executeUpdate(sql); **实际问题是 rCount = xxxx = Count(temptable) < count(select x,y,z,.... from xxx,abc,pqr..where....)** 为什么会有这种差异？一些记录在选择中填充但未插入到临时表中

谁能解释一下？

预先感谢您的努力和帮助。

湿婆。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-20T06:01:48.997

在我看来，连接应该是完全外连接，这样两个表中的记录都会出现在结果中，尽管它们不匹配。请检查：[http ://en.wikipedia.org/wiki/Join_%28SQL%29#Full_outer_join](http://en.wikipedia.org/wiki/Join_%28SQL%29#Full_outer_join)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-21T04:55:50.240

**我们得到了一个解决方案，一旦我们清除了会话缓存（检查点、刷新 shared_pool 和 buffer_cache），它就可以正常运行 Re_Run。** 但是，我们不这样解决好吗？以及如何在后台清除缓存和插入失败。如果是真的，我猜是配置设置错误。

谁能解释一下？

# python - OpenERP 表单加载

> ID：15516282
> 
> 赞同：1
> 
> 时间：2013-03-20T05:51:22.163
> 
> 标签：python, xml, openerp

我需要创建与员工注册详细信息相关的表单。我的要求是这样的..当用户单击创建按钮时，它需要加载当前员工编号+1 用于 emp no 字段。我需要澄清如何调用方法'_form_onload()'。意味着调用我的函数的地方在哪里。？

这是我现在的代码

```
def create(self, cr, uid, vals, context=None):
    vals['register_no'] =self.pool.get('ir.sequence').get(cr, uid, 'bpl.worker')
    worker_reg_seq = super(bpl_worker_registration, self).create(cr, uid, vals, context=context)
    return worker_reg_seq

<?xml version="1.0" encoding="utf-8"?>
<openerp>
    <data noupdate="1">
        <record id="seq_bpl_worker_registration" model="ir.sequence.type">
            <field name="name">bpl_worker_registration</field>
            <field name="code">bpl.worker</field>
        </record>

        <record id="seq_bpl_worker_registration" model="ir.sequence">
            <field name="name">bpl_worker_registration</field>
            <field name="code">bpl.worker</field>
            <field name="prefix">BPL</field>
            <field name="padding">5</field>
            <field name="number_next">1</field>
            <field name="number_increment">1</field>
            <field name="company_id" eval="False"/>
        </record>
    </data>
</openerp> 
```

在数据部分**openerp** .py中添加的 xml

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-20T06:11:47.977

为此，您必须创建序列，默认情况下在创建时调用序列。当您创建新记录时，它会自动 +1 序列。

示例：purchase_sequence.xml 将此 xml 文件放在**openerp** .py 文件中的数据中。

```
 <record id="seq_type_purchase_order" model="ir.sequence.type">
            <field name="name">Purchase Order</field>
            <field name="code">purchase.order</field>
        </record>
        <record id="seq_purchase_order" model="ir.sequence">
            <field name="name">Purchase Order</field>
            <field name="code">purchase.order</field>
            <field name="prefix">PO</field>
            <field name="padding">5</field>
            <field name="company_id" eval="False"/>
        </record> 

def create(self, cr, uid, vals, context=None):
     if vals.get('name','/')=='/':
        vals['name'] = self.pool.get('ir.sequence').get(cr, uid, 'purchase.order') or '/'
        order =  super(purchase_order, self).create(cr, uid, vals, context=context)
        return order 
```

因此，您必须为您的员工编号创建相同的东西：前缀是您的序列起点，它将是“EMP”：填充是您编号为 5 或 10 的长度希望这对您有所帮助

# android - 在下一个活动中为 arraylist 获取空值

> ID：15516283
> 
> 赞同：0
> 
> 时间：2013-03-20T05:51:32.567
> 
> 标签：android, arrays, android-intent, android-activity, arraylist

请帮助我。我想将项目名称、数量、数量和费率的数组列表从制作订单活动传递到下一个活动确认订单...但是在下一个活动中为该数组列表获取空值我该怎么办？

订单代码

```
 Intent intent = new Intent(MakeOrder.this,Demo.class);
    intent.putStringArrayListExtra("selectedItems",strItemNameAlert);
    intent.putStringArrayListExtra("selectedRates",strRateAlert);
    intent.putStringArrayListExtra("selectedQuantity",strQuantityAlert);
    intent.putStringArrayListExtra("selectedAmount",strAmountAlert);
    intent.putStringArrayListExtra("selectedId",strItemIdAlert);
    startActivity(intent); 
```

确认订单代码

```
public class ConfirmOrder extends Activity {

     ArrayList<String> resultArrItemname;
     ArrayList<String> resultArrItemrate;
     ArrayList<String> resultArrItemquantity;
     ArrayList<String> resultArrItemamount;
     ArrayList<String> resultArrItemid;
    @Override
    protected void onCreate(Bundle savedInstanceState) {
        // TODO Auto-generated method stub
        super.onCreate(savedInstanceState);
        setContentView(R.layout.demo);

        resultArrItemname=new ArrayList<String>();
         resultArrItemrate=new ArrayList<String>();
        resultArrItemquantity=new ArrayList<String>();
         resultArrItemamount=new ArrayList<String>();
          resultArrItemid=new ArrayList<String>();
          Intent intent1=new Intent();
          resultArrItemname = intent1.getStringArrayListExtra("selectedItems");
           resultArrItemrate = intent1.getStringArrayListExtra("selectedRates");
           resultArrItemquantity = intent1.getStringArrayListExtra("selectedQuantity");
           resultArrItemamount = intent1.getStringArrayListExtra("selectedAmount");
           resultArrItemid = intent1.getStringArrayListExtra("selectedId");

    } 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-20T05:53:07.363

利用

```
 Intent intent1=this.getIntent(); 
```

代替

```
 Intent intent1=new Intent(); 
```

在下一个活动中获得价值

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-20T06:11:43.623

在**ConfirmOrder** Activity 中，您正在通过这样做创建一个新的空意图。

> 意图意图1=新意图（）；

所以这肯定`intent1.getStringArrayListExtra("selectedItems");` 会返回`null`，因为在 intent1 中找不到 selectedItems 字符串。您必须调用 类的`getIntent(String uri)`方法`Intent`来获取放入第一个 Activity 的值。

利用：

```
Intent intent1=this.getIntent();
intent1.getStringArrayListExtra("selectedItems"); 
```

**注意**：

```
public static Intent   getIntent  (String uri) 
```

**此方法在 API 级别 4 中已弃用。** 请改用`parseUri(String, int)`。

# jqplot - 用序列在jQplot中画线？

> ID：15516289
> 
> 赞同：0
> 
> 时间：2013-03-20T05:52:07.197
> 
> 标签：jqplot

现在jqplot从左到右画线，但我想通过指定点来画线，例如

数据：x 轴 - 15、10、5、25 y 轴 - 10、20、30、50

我希望行从 5 到 10 到 15 到 25 而不是从左到右开始。

感谢帮助。

# android - 在android中的flickr中上传图像

> ID：15516291
> 
> 赞同：3
> 
> 时间：2013-03-20T05:52:16.470
> 
> 标签：android, image, flickr

嗨朋友们，我是 android 的新手，我尝试在 flickr 和文本中上传图像，但我无法在 flickr 中上传图像我阅读了很多博客[http://blog.theunical.com/java/flickr-example-to-upload -photos-using-java/](http://blog.theunical.com/java/flickr-example-to-upload-photos-using-java/)和[http://www.flickr.com/services/api/](http://www.flickr.com/services/api/)但我没有得到好的答案，所以请帮助我了解如何在 flickr 中上传图片，如果你有示例代码，请分享我

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-20T06:03:02.760

看看 Flickr[库](https://code.google.com/p/flickrj-android/source/checkout)和专门设计用于 android 的源[代码](https://code.google.com/p/flickr-viewer-for-honeycomb/source/checkout)。你可以去找这个[代码](http://blog.theunical.com/java/flickr-example-to-upload-photos-using-java/)，它也可以正常工作，

看看可用的完整[源代码](https://code.google.com/p/flickrj-android/source/browse/)！

希望对你有帮助！！！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-05-20T05:57:39.230

试试这个..

```
Intent intent = new Intent(getApplicationContext(),
            FlickrjActivity.class);
intent.putExtra("flickImagePath", fileUri.getAbsolutePath());
startActivity(intent); 
```

![在此处输入图像描述](../Images/2bb2d18e7ea5ca7ed789ff1f59fe6b4a.png)

[在此处](https://stackoverflow.com/a/15566810/1136023)查看完整答案。

# android - 增加堆大小和 OutOfMemory 错误

> ID：15516295
> 
> 赞同：2
> 
> 时间：2013-03-20T05:52:45.563
> 
> 标签：android, out-of-memory

我有一张大约 1948X674 尺寸和 104kb 大小的图像。它在三星 Galaxy S3 上出现 OutOfMemoryError。我在水平滚动视图中显示此图像。这是我的xml

```
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:tools="http://schemas.android.com/tools"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    tools:context=".Panorama" >

    <HorizontalScrollView
        android:id="@+id/hscroll"
        android:layout_width="wrap_content"
        android:layout_height="match_parent"
        android:layout_above="@+id/tapToEnter"
        android:scrollbars="none" >

        <ImageView
            android:id="@+id/imgPanorama"
            android:layout_width="wrap_content"
            android:layout_height="match_parent" />
    </HorizontalScrollView>

    <Button
        android:id="@+id/tapToEnter"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:layout_alignParentBottom="true"
        android:text="Tap to enter" />

</RelativeLayout> 
```

我正在以编程方式为其设置图像。我使用的 decodeSampledBitmapFromResource() 来自[Loading Large Bitmap Efficiently](http://developer.android.com/training/displaying-bitmaps/load-bitmap.html#read-bitmap)。

```
Bitmap bmp;
try
        {
        BitmapDrawable bd=(BitmapDrawable)getResources().getDrawable(R.drawable.panorama);
        reqwidth=bd.getIntrinsicWidth();
        reqheight = bd.getIntrinsicHeight();
        }catch(OutOfMemoryError oom)
        {
            oom.printStackTrace();
        }
bmp=decodeSampledBitmapFromResource(getResources(),R.drawable.panorama, reqwidth, reqheight);
imgPanorama.setImageBitmap(bmp);

public static int calculateInSampleSize(
            BitmapFactory.Options options, int reqWidth, int reqHeight) {
        // Raw height and width of image
        final int height = options.outHeight;
        final int width = options.outWidth;
        int inSampleSize = 1;

        if (height > reqHeight || width > reqWidth) {

            // Calculate ratios of height and width to requested height and width
            final int heightRatio = Math.round((float) height / (float) reqHeight);
            final int widthRatio = Math.round((float) width / (float) reqWidth);

            // Choose the smallest ratio as inSampleSize value, this will guarantee
            // a final image with both dimensions larger than or equal to the
            // requested height and width.
            inSampleSize = heightRatio < widthRatio ? heightRatio : widthRatio;
        }

        return inSampleSize;
    }
    public static Bitmap decodeSampledBitmapFromResource(Resources res, int resId,
            int reqWidth, int reqHeight) {

        // First decode with inJustDecodeBounds=true to check dimensions
        final BitmapFactory.Options options = new BitmapFactory.Options();
        options.inJustDecodeBounds = true;
        options.inPurgeable=true;
        /*options.inDither=false;                     //Disable Dithering mode
        options.inPurgeable=true;                   //Tell to gc that whether it needs free memory, the Bitmap can be cleared
        options.inInputShareable=true;              //Which kind of reference will be used to recover the Bitmap data after being clear, when it will be used in the future
        options.inTempStorage=new byte[32 * 1024];
        */
        BitmapFactory.decodeResource(res, resId, options);

        // Calculate inSampleSize
        options.inSampleSize = calculateInSampleSize(options, reqWidth, reqHeight);

        // Decode bitmap with inSampleSize set
        options.inJustDecodeBounds = false;
        return BitmapFactory.decodeResource(res, resId, options);
    }

@Override
    protected void onDestroy() {
        // TODO Auto-generated method stub
        super.onDestroy();
        if(bmp!=null  && !bmp.isRecycled())
        {
            bmp.recycle();
            bmp=null;

        }
    } 
```

这是我开始活动时的日志。

```
03-20 11:20:36.175: I/dalvikvm-heap(30452): Grow heap (frag case) to 17.982MB for 5251824-byte allocation
03-20 11:20:36.260: I/dalvikvm-heap(30452): Grow heap (frag case) to 38.014MB for 21007248-byte allocation
03-20 11:20:36.385: I/dalvikvm-heap(30452): Grow heap (frag case) to 38.016MB for 5251824-byte allocation
03-20 11:20:36.480: I/dalvikvm-heap(30452): Grow heap (frag case) to 58.050MB for 21007248-byte allocation 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-20T07:16:03.860

`Bitmap.recycle()`是您的朋友，因为它可以比手动或自动垃圾收集更快地释放图像的像素数据。因此，当您完成一个大图像时，最好不要`recycle()`让它超出范围。当然，超出范围后会自动进行垃圾回收，但`recycle()`会立即释放`Bitmap`.

例如，您可以`recycle()`在将 a 复制`Bitmap`到 UI 元素后选择：

```
Bitmap bmp;
bmp=decodeSampledBitmapFromResource(getResources(),R.drawable.panorama, reqwidth, reqheight);
imgPanorama.setImageBitmap(bmp);

// Free the pixel data immediately in order to keep heap from growing out of control.
// This is especially useful while displaying multiple images.
bmp.recycle(); 
```

您还可以尝试使用较小的`reqwidth`和值`reqheight`，这将允许更大的计算`inSampleSize`，这样您`Bitmap`将使用更少的内存。

# ios - FFT的大小实际上是什么意思

> ID：15516300
> 
> 赞同：1
> 
> 时间：2013-03-20T05:53:05.397
> 
> 标签：ios, audio, fft, accelerate-framework, vdsp

1.  在使用 Apple 文档中的 FFT 示例代码时，N、log2n、n 和 nOver2 究竟是什么意思？
2.  N 是指 fft 的窗口大小还是给定音频中的样本总数，以及
3.  如何从音频文件中计算 N？
4.  它们与音频采样率（即 44.1kHz）有何关系？
5.  此代码中的 FFT 帧大小是多少？

代码：

```
/* Set the size of FFT. */
log2n = N;
n = 1 << log2n;

stride = 1;
nOver2 = n / 2;

printf("1D real FFT of length log2 ( %d ) = %d\n\n", n, log2n);

/* Allocate memory for the input operands and check its availability,
 * use the vector version to get 16-byte alignment. */
A.realp = (float *) malloc(nOver2 * sizeof(float));
A.imagp = (float *) malloc(nOver2 * sizeof(float));
originalReal = (float *) malloc(n * sizeof(float));
obtainedReal = (float *) malloc(n * sizeof(float)); 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-20T16:52:53.830

1.  N 或 n 通常是指元素的数量。log2n 是 n 的以二为底的对数。（32 的以二为底的对数是 5。）nOver2 是 n/2，n 除以 2。
2.  在 FFT 的上下文中，n 是输入 FFT 的样本数。
3.  n 通常由多种约束条件决定。您需要更多样本以提供更好质量的结果，但您不希望样本太多以致处理占用大量计算机时间，或者直到用户注意到延迟才获得结果。通常，决定大小的不是音频文件的长度。相反，您设计一个用于处理的“窗口”，然后将音频文件中的样本读取到足够大以容纳窗口的缓冲区中，然后处理缓冲区，然后重复文件中的更多样本。重复继续，直到处理完整个文件。
4.  更高的音频采样率意味着在给定的时间段内会有更多的样本。例如，如果您想将窗口保持在 1/30秒以下，那么 44.1 kHz 的采样率将少于 44.1•1000/30 = 1470 个样本^。更高的采样率意味着您有更多的工作要做，因此您可能需要调整窗口大小以将处理保持在限制范围内。
5.  该代码使用`N`for `log2n`，这是不幸的，因为它可能会使人们感到困惑。否则，代码如我上面所述，FFT 帧大小为`n`.

当涉及到真实数据和复杂数据的混合时，FFT 的大小或长度可能会有些混淆。通常，对于实数到复数 FFT，实数元素的数量称为长度。在进行复数到复数 FFT 时，复数元素的数量就是长度。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-20T07:48:08.187

'N' 是样本数，即您的向量大小。对应的，'log2N'是'N'以2为底的对数，'nOver2'是'N'的一半。

要回答其他问题，必须知道您想用 FFT 做什么。[这份文档](http://www.rationalacoustics.com/files/FFT_Fundamentals.pdf)，即使是在考虑特定系统的情况下编写的，也可以作为关于 (D)FFT 中参数的关系和含义的调查。

# java - 通过 JSON 动态绑定 Kendo Menu 菜单

> ID：15516302
> 
> 赞同：0
> 
> 时间：2013-03-20T05:53:23.867
> 
> 标签：java, jsp, menu, kendo-ui, menuitem

我正在尝试绑定从 servlet 检索到的 JSON 数据对象。

```
$("#mainVerticalMenu").kendoMenu({
            dataSource : new kendo.data.DataSource({
                  transport: {
                      read: {
                          url: "net/samso/action/MenuAction?func_flag=getMenu&user_id=nexol", // the servlet url
                          dataType: "json",
                      }
                  },
                  schema: { // describe the result format
                      model : {
                          fields : {
                            text : {
                                type : "string"
                            },
                            value : {
                                type : "string"
                            },
                            subItemList: [{                                    // Sub item collection
                                text : {
                                    type : "string"
                                },
                                value : {
                                    type : "string"
                                }
                            }]
                          }
                      }
                  }
            })
        }); 
```

从 servlet 中给出的 JSON 格式如下：

等级制度：

```
Text
Value
subItemList (ItemObject nested inside the menuitem)
   - Text
   - Value 
```

示例 JSON：

最终看起来像：

```
[{"text":"OuterMenu1","value":"menu1","subItemList":[{"text":"subMenuItem1","value":"subMenu1"},{"text":"subMenuItem2","value":"subMenu2"}]}] 
```

直接调用 servlet 时收到的实际 JSON：

```
[{"text":"Communication","value":"BASE_01","subItemList":[{"text":"상품소개조회","value":"BASE_01"},{"text":"공지사항","value":"BASE_02"},{"text":"의견수렴","value":"BASE_04"},{"text":"사용자관리","value":"BASE_05"},{"text":"받은쪽지","value":"BASE_07"},{"text":"보낸쪽지","value":"BASE_08"},{"text":"자유게시판","value":"BASE_09"},{"text":"매장/마진율 정보","value":"BASE_10"}]},{"text":"매입관리","value":"BUY_01","subItemList":[{"text":"입고/입고반품현황","value":"BUY_01"},{"text":"수평이동요청","value":"BUY_02"},{"text":"수평이동승인/조회","value":"BUY_03"}]},{"text":"판매관리","value":"SALE_01","subItemList":[{"text":"판매및반품등록","value":"SALE_01"},{"text":"판매및반품조회","value":"SALE_02"},{"text":"판매일보","value":"SALE_04"},{"text":"기간별판매현황","value":"SALE_05"},{"text":"판매순위분석","value":"SALE_06"},{"text":"판매순위표","value":"SALE_07"},{"text":"타사등록","value":"SALE_08"},{"text":"타사판매등록","value":"SALE_09"},{"text":"타사판매조회","value":"SALE_10"}]},{"text":"수불관리","value":"SUBUL_01","subItemList":[{"text":"상품주문등록","value":"SUBUL_01"},{"text":"상품주문조회","value":"SUBUL_02"},{"text":"미입고명세서","value":"SUBUL_10"},{"text":"일별수불현황","value":"SUBUL_04"},{"text":"재고현황","value":"SUBUL_05"},{"text":"수불 일/월보","value":"SUBUL_09"},{"text":"품목별수불현황","value":"SUBUL_08"},{"text":"재고조정","value":"SUBUL_11"},{"text":"타매장재고현황","value":"SUBUL_07"}]},{"text":"영업관리","value":"BUSS_01","subItemList":[{"text":"영업판매배치등록","value":"BUSS_01"},{"text":"영업판매조회","value":"BUSS_02"},{"text":"영업주문배치등록","value":"BUSS_03"},{"text":"영업주문조회","value":"BUSS_04"},{"text":"매장별 재고/수불현황","value":"BUSS_05"}]},{"text":"AS관리","value":"AS_01","subItemList":[{"text":"A/S의뢰 관리","value":"AS_01"}]},{"text":"관리자","value":"SUP_06","subItemList":[{"text":"기초코드관리","value":"SUP_06"},{"text":"시스템관리","value":"SUP_05"},{"text":"그룹관리","value":"SUP_02"},{"text":"그룹소속관리","value":"SUP_03"},{"text":"그룹권한관리","value":"SUP_04"},{"text":"매장등록현황","value":"SUP_01"},{"text":"마진율조회","value":"SUP_07"},{"text":"상품코드별권한등록","value":"SUP_08"},{"text":"거래처별상품권한등록","value":"SUP_09"},{"text":"마감현황","value":"SUP_10"},{"text":"SAP송수신기록조회","value":"SUP_12"}]},{"text":"회계","value":"ACCT_01","subItemList":[{"text":"WEB-POS 사용자현황","value":"ACCT_01"},{"text":"WEB-POS 입금등록","value":"ACCT_02"}]}] 
```

我想问两个问题：

1.  servlet 根本没有被调用，即使我已经在数据源中明确声明了传输 URL。

2.  上述模式对于声明外部菜单项和在其中嵌套项是否正确？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-20T07:56:24.727

没有调用 servlet，因为 Kendo Menu 没有定义`DataSource`用于加载其内容的 a。**但这**并不意味着你不能这样做：是的，你可以！

你应该做的是：

1.  定义一个空菜单。
2.  定义一个数据源。
3.  在 DataSource 中手动触发读取
4.  Append received data to the original menu.

The code:

```
var menu = $("#menu").kendoMenu({}).data("kendoMenu");
var ds = new kendo.data.DataSource({
    transport: {
        read: {
            url     : "menu.json",
            dataType: "json"
        }
    },
    schema   : {
        data: function (data) {
            menu.append(data);
        }
    }
});
ds.read(); 
```

About your second question regarding the format of the JSON: replace `subItemList` by `items`, that's it. The entries on your JSON would look like:

```
[
    {
        "text"       : "Communication",
        "value"      : "BASE_01",
        "items": [
            {
                "text" : "상품소개조회",
                "value": "BASE_01"
            },
            {
                "text" : "공지사항",
                "value": "BASE_02"
            },
            {
                "text" : "의견수렴",
                "value": "BASE_04"
            },
            {
                "text" : "사용자관리",
                "value": "BASE_05"
            },
            {
                "text" : "받은쪽지",
                "value": "BASE_07"
            },
            {
                "text" : "보낸쪽지",
                "value": "BASE_08"
            },
            {
                "text" : "자유게시판",
                "value": "BASE_09"
            },
            {
                "text" : "매장/마진율 정보",
                "value": "BASE_10"
            }
        ]
    },
    {
        "text"       : "매입관리",
        "value"      : "BUY_01",
        "items": [
            {
                "text" : "입고/입고반품현황",
                "value": "BUY_01"
            },
            {
                "text" : "수평이동요청",
                "value": "BUY_02"
            },
            {
                "text" : "수평이동승인/조회",
                "value": "BUY_03"
            }
        ]
    },
    {
        "text"       : "판매관리",
        "value"      : "SALE_01",
        "items": [
            {
                "text" : "판매및반품등록",
                "value": "SALE_01"
            },
            {
                "text" : "판매및반품조회",
                "value": "SALE_02"
            },
            {
                "text" : "판매일보",
                "value": "SALE_04"
            },
            {
                "text" : "기간별판매현황",
                "value": "SALE_05"
            },
            {
                "text" : "판매순위분석",
                "value": "SALE_06"
            },
            {
                "text" : "판매순위표",
                "value": "SALE_07"
            },
            {
                "text" : "타사등록",
                "value": "SALE_08"
            },
            {
                "text" : "타사판매등록",
                "value": "SALE_09"
            },
            {
                "text" : "타사판매조회",
                "value": "SALE_10"
            }
        ]
    },
    {
        "text"       : "수불관리",
        "value"      : "SUBUL_01",
        "items": [
            {
                "text" : "상품주문등록",
                "value": "SUBUL_01"
            },
            {
                "text" : "상품주문조회",
                "value": "SUBUL_02"
            },
            {
                "text" : "미입고명세서",
                "value": "SUBUL_10"
            },
            {
                "text" : "일별수불현황",
                "value": "SUBUL_04"
            },
            {
                "text" : "재고현황",
                "value": "SUBUL_05"
            },
            {
                "text" : "수불 일/월보",
                "value": "SUBUL_09"
            },
            {
                "text" : "품목별수불현황",
                "value": "SUBUL_08"
            },
            {
                "text" : "재고조정",
                "value": "SUBUL_11"
            },
            {
                "text" : "타매장재고현황",
                "value": "SUBUL_07"
            }
        ]
    },
    {
        "text"       : "영업관리",
        "value"      : "BUSS_01",
        "items": [
            {
                "text" : "영업판매배치등록",
                "value": "BUSS_01"
            },
            {
                "text" : "영업판매조회",
                "value": "BUSS_02"
            },
            {
                "text" : "영업주문배치등록",
                "value": "BUSS_03"
            },
            {
                "text" : "영업주문조회",
                "value": "BUSS_04"
            },
            {
                "text" : "매장별 재고/수불현황",
                "value": "BUSS_05"
            }
        ]
    },
    {
        "text"       : "AS관리",
        "value"      : "AS_01",
        "items": [
            {
                "text" : "A/S의뢰 관리",
                "value": "AS_01"
            }
        ]
    },
    {
        "text"       : "관리자",
        "value"      : "SUP_06",
        "items": [
            {
                "text" : "기초코드관리",
                "value": "SUP_06"
            },
            {
                "text" : "시스템관리",
                "value": "SUP_05"
            },
            {
                "text" : "그룹관리",
                "value": "SUP_02"
            },
            {
                "text" : "그룹소속관리",
                "value": "SUP_03"
            },
            {
                "text" : "그룹권한관리",
                "value": "SUP_04"
            },
            {
                "text" : "매장등록현황",
                "value": "SUP_01"
            },
            {
                "text" : "마진율조회",
                "value": "SUP_07"
            },
            {
                "text" : "상품코드별권한등록",
                "value": "SUP_08"
            },
            {
                "text" : "거래처별상품권한등록",
                "value": "SUP_09"
            },
            {
                "text" : "마감현황",
                "value": "SUP_10"
            },
            {
                "text" : "SAP송수신기록조회",
                "value": "SUP_12"
            }
        ]
    },
    {
        "text"       : "회계",
        "value"      : "ACCT_01",
        "items": [
            {
                "text" : "WEB-POS 사용자현황",
                "value": "ACCT_01"
            },
            {
                "text" : "WEB-POS 입금등록",
                "value": "ACCT_02"
            }
        ]
    }
] 
```

# objective-c - 我们可以更改 MFmessagecomposeViewcontroller 导航标题字体吗

> ID：15516303
> 
> 赞同：0
> 
> 时间：2013-03-20T05:53:28.037
> 
> 标签：objective-c, ios6, mfmessagecomposeview

我在我的应用程序中使用 mfmessagecomposeviewcontroller 发送短信。我的问题是，当视图出现时，导航标题和按钮的标题字体与应用程序字体不同。我想改变这个标题的字体。我有很多尝试设置它，但我做不到。请给我一些例子或想法，我该怎么做。

**我的代码如下**

```
 if([MFMessageComposeViewController canSendText])
        {
            MFMessageComposeViewController *messageController=[[MFMessageComposeViewController alloc] init];
            messageController.messageComposeDelegate=self;
            messageController.topViewController.navigationController.navigationBar.titleTextAttributes=[NSDictionary dictionaryWithObjectsAndKeys:[UIFont fontWithName:@"Tijjxdydjmmdouybfrertnsaenp" size:21],UITextAttributeFont, nil];
            [messageController.topViewController.navigationItem.rightBarButtonItem setTitleTextAttributes:[NSDictionary dictionaryWithObjectsAndKeys:[UIFont fontWithName:@"Tijjxdydjmmdouybfrertnsaenp" size:21],UITextAttributeFont, nil] forState:UIControlStateNormal];
            messageController.body=@"Hey, you should get this app, it allows us to create and share recipes with each other, & it also has a 7 day meal plan with grocery list. https://itunes.apple.com/us/app/fit-chick-meal-plan-recipe/id576329137?ls=1&mt=8 ";
            messageController.title=@"SMS";
            [messageController setModalTransitionStyle:UIModalPresentationPageSheet];
            [self presentViewController:messageController animated:YES completion:^(void){}];
        }

-(void)messageComposeViewController:(MFMessageComposeViewController *)controller didFinishWithResult:(MessageComposeResult)result
{
    switch (result) {
        case MessageComposeResultSent: 
        {
            [AppUtility displayAlertForTitle:@"Message Status" forMessage:@"Message has been sent successfully" forDelegate:nil forCancelButton:@"Ok"];
        }
            break;
        case MessageComposeResultCancelled:
        {
            NSLog(@"Message sending cancelled");
        }
            break;
        case MessageComposeResultFailed:
        {
            [AppUtility displayAlertForTitle:@"Message Status" forMessage:@"Message sending failed" forDelegate:nil forCancelButton:@"Ok"];
        }
            break;
        default:
        {
            [AppUtility displayAlertForTitle:@"Message Status" forMessage:@"Message sending failed" forDelegate:nil forCancelButton:@"Ok"];
        }
            break;
    }
    [self dismissViewControllerAnimated:YES completion:nil];

} 
```

提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-20T06:03:59.397

用这个：

```
messageController.topViewController.navigationItem.titleView = yourLabelHereWithANyFont; 
```

在其中创建`UILabel`并更改字体并提供给`titleView`.

# scripting - 在 VB 脚本中显示下拉/组合框

> ID：15516311
> 
> 赞同：7
> 
> 时间：2013-03-20T05:54:06.553
> 
> 标签：scripting, vbscript, scripting-language

我正在尝试在 VB 脚本中创建一个下拉/组合框。根据我的理解，我们需要为 Internet Explorer 创建一个实例并创建一个下拉/组合框，如下所示：

```
 set oIE = createObject("InternetExplorer.Application")
  with oIE
    .Navigate "about:blank"
    Do until .ReadyState = 4 : WScript.Sleep 100 : Loop
    set oDoc = .document
    .Visible = true
  end with

  with oDoc
    .open
    .writeln "<html><head><title>ComboBox Example</title></head>"
    .writeln "<body scroll=no><object "
    .writeln "classid=clsid:8BD21D30-EC42-11CE-9E0D-00AA006002F3"
    .writeln "id=ComboBox1 width=400></object><p>"
    .writeln "</body></html>"
    .close
    Do until .ReadyState = "complete" : WScript.Sleep 100 : Loop
    set oComboBox1 = .all.ComboBox1

  end with

  with oComboBox1
    .List = Array("One", "Two", "Three", "Four")
    .AutoWordSelect = true
    .focus
  end with
  oDoc.parentWindow.opener = "Me"

  bClosing = false

  on error resume next
  do until bclosing: wsh.sleep 100 : loop
  oIE.quit

  sub Closing : bClosing = True : end sub 
```

是否可以在不使用 IE 的情况下创建 dorp-down/combo box，类似于 Message Box 或 Input Box？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-20T07:23:17.240

我很确定这里的许多用户都会很乐意回答这个问题，他们的回复可能包含不同的细节，但可以肯定的是答案是相同的 - 不。至少不是纯`VBScript`的并且没有编写自己的`ActiveX`组件，然后`CreateObject`在你的`.vbs`脚本中实例化。

但是，如果您正在寻找替代方案，那么可以考虑将[HTA](http://msdn.microsoft.com/en-us/library/ms536496%28v=vs.85%29.aspx)作为您自己的自定义 GUI 的一个选项。

# iphone - 如何完全删除配置文件？

> ID：15516314
> 
> 赞同：0
> 
> 时间：2013-03-20T05:54:23.960
> 
> 标签：iphone

我想将开发的应用程序安装到手机上。设备中已安装应用程序。我可以删除应用程序，但无法删除配置文件。当我拖放配置文件时，现有的一个被替换并且应用程序无法正常运行。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-20T05:57:02.080

按 command + space --- (Spotlight) 搜索 iPhoneConfigurationUtility

转到 iPhoneConfigurationUtility --- > 单击 Provisioning Profiles..

你会得到一个清单...

选择您要删除的其中一个，然后按删除

# android - 当 Fragment 处于 Resume 状态时，如何将 TEXT 设置为 Fragment 的 TextView？

> ID：15516315
> 
> 赞同：2
> 
> 时间：2013-03-20T05:54:24.067
> 
> 标签：android, android-fragments

我在的`internet`帮助下从`AsyncTask`_ _`Fragment_subclass``implements interface``onPostExecute()``object``Fragment_subclass`

编辑：

这`textView`是内部`fragment's`布局

```
txt = ( TextView ) findViewById     (R.id.txt ) ; 
```

这`oPostExecute()`是`async_task`一流的。

```
protected void onPostExecute (String result)
{
    browse ob_br = new browse() ;
    ob_br.implement_it_();
} 
```

`browse`是 a `fragment`，它正在实现 ，`interface`它的名字是`implement_it_`

```
public class browse extends Fragment implements implement_it_
{
    -------------------- // code ....
    public void implement_it_() 
    {
         TextView txt_1 = ( TextView ) getActivity().findViewById ( R.id.txt) ;
         txt_1.setText("hello");
    }
} 
```

编辑：错误，

```
FATAL EXCEPTION: main
java.lang.NullPointerException
at com.example.the_hindu_news.browse.implement_it_(browse.java:38)
at com.example.the_hindu_news.Async_list.onPostExecute(Async_list.java:56)
at com.example.the_hindu_news.Async_list.onPostExecute(Async_list.java:1)
at android.os.AsyncTask.finish(AsyncTask.java:631)
at android.os.AsyncTask.access$600(AsyncTask.java:177)
at android.os.AsyncTask$InternalHandler.handleMessage(AsyncTask.java:644)
at android.os.Handler.dispatchMessage(Handler.java:99)
at android.os.Looper.loop(Looper.java:137)
at android.app.ActivityThread.main(ActivityThread.java:5041)
at java.lang.reflect.Method.invokeNative(Native Method)
at java.lang.reflect.Method.invoke(Method.java:511)
at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:793)
at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:560)
at dalvik.system.NativeStart.main(Native Method)
GC_CONCURRENT freed 185K, 12% free 2578K/2904K, paused 10ms+5ms, total 237ms 
```

* * *

实际上，我面临的问题是......

我还没有初始化我的片段类&我像使用它一样，新浏览（）作为传递变量，所以它产生了问题，因为每次获取一个新变量。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-09-30T11:18:13.223

如果要将文本值设置为 textView。你只需按照下面的代码。它正在片段中工作。

公共类 CafeBarHome 扩展片段{

```
Button home;
TextView txt;
@Override   
public View onCreateView(LayoutInflater inflater, ViewGroup container,
        Bundle savedInstanceState){

    LinearLayout cafeLayout = (LinearLayout) inflater.inflate(R.layout.cafehomefrag1,container, false);

     Intent i = getActivity().getIntent();
    home = (Button) cafeLayout.findViewById(R.id.btn_cafehome);
    txt = (TextView) cafeLayout.findViewById(R.id.txt1);
    txt.setText("Rio Web solution");
    String h = i.getStringExtra("value");
    Log.e("Second Screen", h);

    return cafeLayout;
} 
```

}

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-20T06:34:38.377

的`getActivity()`方法`Fragment`将返回 null 直到 after`onActivityCreated()`被调用。因此，您不能在使用它的地方使用它，否则您将获得`NullPointerException`.

此外，在您在 Activity 中执行 a 之前，您的 Fragment 不属于任何`FragmentTransaction`Activity。我建议您阅读[此文档。](http://developer.android.com/guide/components/fragments.html#Transactions)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-20T06:00:51.467

通过以下方式获取 TextView 的 id

```
TextView tv = (TextView) findViewById(R.id.textview_id); 
```

现在将文本设置为

```
tv.setText("Your_text_here"); 
```

祝你好运！

# eclipse - 没有安装程序的应用程序叫什么？

> ID：15516326
> 
> 赞同：0
> 
> 时间：2013-03-20T05:55:29.297
> 
> 标签：eclipse, unzip

你所谓的不需要安装的软件，只需要解压缩，比如 Eclipse，它不需要安装，我们必须解压缩，卸载也只需删除工作区。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-20T06:07:25.870

这通常称为可[移植应用程序](http://en.wikipedia.org/wiki/Portable_application)。

# c# - 在 UserControl 标记 asp.net C# 中使用成员

> ID：15516331
> 
> 赞同：0
> 
> 时间：2013-03-20T05:55:50.530
> 
> 标签：c#, asp.net, user-controls

我想在 asp 端使用用户控件的成员。

这是c#

```
using DynoPartners.Data;
using System;

namespace DynoPartners.Controls
{
public partial class BusView : System.Web.UI.UserControl
{
private Business bus;
public Business Bus
{
        get
        {
            return bus;
        }
        set
        {
            bus = value;
        }
}
}
} 
```

用户控制代码是：

```
<%@ Control Language="C#" AutoEventWireup="true" CodeBehind="BusView.ascx.cs" Inherits="DynoPartners.Controls.BusView" %>
<%= Bus  %> 
```

错误消息是 Error: The name 'Bus' does not exist in the current context

这是为什么？

# ios - 本地通知问题

> ID：15516332
> 
> 赞同：1
> 
> 时间：2013-03-20T05:55:56.330
> 
> 标签：ios, objective-c, uilocalnotification

我正在尝试在数组日期与当前日期相同时收到通知，此代码用于此任务

```
NSDateFormatter *Form = [[NSDateFormatter alloc] init];
    [Form setDateFormat:@"dd/MM/yyyy"];

    UILocalNotification *notification = [[UILocalNotification alloc] init];
    for (int i=0;i<_convertedBdates.count;i++)
    {
        NSDate *date =[Form dateFromString:[_convertedBdates objectAtIndex:i ]];
        NSLog(@"date%@",date);

    if(notification)
        {
            notification.fireDate = date;
            notification.timeZone = [NSTimeZone defaultTimeZone];
            notification.alertBody = @"New ";
            notification.alertAction = @"View";

            notification.soundName = UILocalNotificationDefaultSoundName;
            notification.applicationIconBadgeNumber = 1;
            [[UIApplication sharedApplication] scheduleLocalNotification:notification];
        }
    } 
```

建议我做错了什么

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-20T05:59:53.600

您是否将此代码放入您的应用程序委托中？

```
 - (void)application:(UIApplication *)application didReceiveLocalNotification:(UILocalNotification *)notification
{
    NSLog(@"Notification Received, %@, set for date %@", notification.alertBody, notification.fireDate);
} 
```

如果问题仍然存在，那么我在这里:)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-20T06:03:34.093

如果您的 NSDate 小于当前日期，则不会触发通知。如果您在用户生日上设置通知日期，则会发生这种情况。

如果您的应用程序处于运行模式，则：

```
 - (void)application:(UIApplication *)application didReceiveLocalNotification:(UILocalNotification *)notification 
```

上面的方法被调用。

希望这会帮助你。

祝一切顺利 ！！！

# java - 在 JAVA 中接收来自 CURL 的响应

> ID：15516335
> 
> 赞同：0
> 
> 时间：2013-03-20T05:56:03.377
> 
> 标签：java, json, http, curl, sentiment-analysis

我正在使用 Sentiment-140 提供的公共 API 来查找小文本是正面的、负面的还是中性的。虽然我可以成功使用他们简单的 HTTP-JSON 服务，但我在使用 CURL 时失败了。这是我的代码：

```
public static void makeCURL(String jsonData) throws MalformedURLException, ProtocolException, IOException {
    byte[] queryData = jsonData.getBytes("UTF-8");

    Proxy proxy = new Proxy(Proxy.Type.HTTP, new InetSocketAddress("10.1.1.1", 8080));
    HttpURLConnection con = (HttpURLConnection) new URL("http://www.sentiment140.com/api/bulkClassifyJson").openConnection(proxy);
    con.setRequestMethod("POST");
    con.setDoOutput(true);

    OutputStream os = con.getOutputStream();
    InputStream instr = con.getInputStream();
    BufferedReader br = new BufferedReader(new InputStreamReader(instr));

    os.write(queryData);
    os.close();
    String lin;
    while((lin = br.readLine())!=null){
        System.out.println("[Debug]"+lin); // I expect some response here But it's not showing anything            
    }
} 
```

我究竟做错了什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-04T07:23:50.423

您应该在获取连接输入流之前发送所有请求数据。

```
byte[] queryData = jsonData.getBytes("UTF-8");
Proxy proxy = new Proxy(Proxy.Type.HTTP, new InetSocketAddress("10.1.1.1", 8080));
HttpURLConnection con = (HttpURLConnection) new URL("http://www.sentiment140.com/api/bulkClassifyJson").openConnection(proxy);
con.setRequestMethod("POST");
con.setDoOutput(true);
OutputStream os = con.getOutputStream();
os.write(queryData);
os.close();

InputStream instr = con.getInputStream();
BufferedReader br = new BufferedReader(new InputStreamReader(instr));
String lin;
while((lin = br.readLine())!=null){
    System.out.println("[Debug]"+lin);
} 
```

# javascript - highstock图中同一系列线的颜色不同？

> ID：15516339
> 
> 赞同：1
> 
> 时间：2013-03-20T05:56:43.280
> 
> 标签：javascript, jquery, charts, highcharts, highstock

我有一个 highstock 图表，如下图所示，带有一个红色的 plotband。有没有办法为标有矩形的系列着色，即红色绘图带内的圆圈设置为不同的颜色？

![在此处输入图像描述](../Images/0a75349038c3210a9550923adba8bf6d.png)

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-20T06:05:16.360

您要求的功能仅在 Highcharts v 3.0 发布后可用。您可以查看其他详细信息**[`here`](http://highcharts.uservoice.com/forums/55896-general/suggestions/787281-threshold-option-for-colors)**。[**`Beta`**](http://www.highcharts.com/component/content/article/2-news/53-highcharts-3-0-beta-released)虽然发布了所需版本的版本。

颜色的阈值选项[**`demo`**](http://jsfiddle.net/highcharts/PMyHQ/)。

# css - 如何在过滤器菜单中增加文本框的大小

> ID：15516342
> 
> 赞同：0
> 
> 时间：2013-03-20T05:57:06.373
> 
> 标签：css, kendo-grid

我的应用程序中有剑道网格，在网格中可过滤是真的。过滤工作正常。单击过滤器符号时，打开过滤器菜单。我想在过滤器菜单中增加该文本框的大小。因为当我们在文本框中输入值时，它只显示一半大小的字母。我试过这个

```
.k-filtermenu .k-textbox {
    min-height:10000px
 } 
```

如何增加该文本框的大小？如果有人知道这个请回复我....

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-20T06:06:43.260

我希望这可以帮助你；

```
.k-numeric-wrap .k-input
{
 height:23px
 } 
```

也试试这个：

[http://www.kendoui.c​​om/forums/mvc/grid/how-to-change-the-width-of-the-edit-textbox-when-grideditmode-inline.aspx](http://www.kendoui.com/forums/mvc/grid/how-to-change-the-width-of-the-edit-textbox-when-grideditmode-inline.aspx)

# windows - 如何为在 Visual Studio 2012(.net framework 4.5) 中创建的 WCF 服务创建安装程序？

> ID：15516344
> 
> 赞同：0
> 
> 时间：2013-03-20T05:57:30.857
> 
> 标签：windows, wcf, advanced-installer

1.  我需要为 WCF（服务）类库创建安装程序包，我在 VS2012 中使用 .net 框架 4.5 创建了该类库。

2.我尝试使用带有以下链接的 VS2012 命令提示符手动安装服务，[http://www.youtube.com/watch?](http://www.youtube.com/watch?v=vTPCWrZedKI) v=vTPCWrZedKI 实际上它在窗口服务中输入了条目，当我尝试手动启动服务时我收到类似**“本地计算机上的服务启动然后停止的错误，如果某些服务没有被其他服务或程序使用，它们会自动停止。** 我尝试通过更改为本地系统帐户并清除偶数日志来修复这些错误，但是没有什么对我有用。

我通过在“服务”选项卡中提供 dll 文件使用高级安装程序进行了尝试，但它无法启动服务并出现错误，例如“验证您是否有足够的权限来启动系统服务”。

请告诉我如何进一步进行？ **我不需要使用 wix 等第三方软件来创建安装程序包。** **有什么方法可以完成这个任务。如果是这样，请指导我并给我一个示例应用程序来完成这项任务。**我为这个任务花费了10多天..等待您的回复！

问候， Lokesh.J

# matlab - 直方图正确拟合

> ID：15516352
> 
> 赞同：0
> 
> 时间：2013-03-20T05:58:21.813
> 
> 标签：matlab, histogram

我使用 Matlab 获得了 10,000 个数据值。当我绘制直方图并对其进行正态分布拟合时，我得到了下图![在此处输入图像描述](../Images/f299b8537a4385794a485cd595c50ba2.png)

这个直方图拟合是否有一些错误，或者我应该怎么做才能正确缩放它。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-20T07:47:49.483

或者你可以打电话

```
histfit(your_data,num_bins) 
```

# python - Selenium IDE 1.10.0 是否支持 Firefox 19.0.2

> ID：15516354
> 
> 赞同：1
> 
> 时间：2013-03-20T05:58:27.583
> 
> 标签：python, selenium

我正在尝试使用 Selenium IDE 1.10.0 和 Firefox 版本 19.0.2 创建一个示例 python 脚本。

我能够创建脚本，但在运行时出现异常：“信息 - 得到结果：无法启动新的浏览器会话：在会话 null 上启动浏览器时出错”

所以我的问题是我可以针对 Firefox 19.0.2 版运行生成的脚本吗？如果是，那么为什么我会收到此错误，如果不是，请提供您的意见。

在此先感谢阿布舍克

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-20T07:14:28.993

Selenium IDE 1.10.0 发行说明说它仅支持 Firefox 17，因此您可能会遇到 v19 的问题。你会重新尝试降级Firefox吗？

# c# - Sys.WebForms.PageRequestManagerServerErrorException：输入字符串的格式不正确

> ID：15516355
> 
> 赞同：4
> 
> 时间：2013-03-20T05:58:28.663
> 
> 标签：c#, asp.net, updatepanel

嗨，我收到了错误

> “Sys.WebForms.PageRequestManagerServerErrorException：输入字符串的格式不正确。”

按下删除按钮时。但是这个错误只出现在一个 Web 服务器中。在其他服务器上它工作正常。同样，在本地运行应用程序时，没有错误，但不会触发删除操作。任何的想法？？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-15T09:55:43.597

在其他地方找到了在链接按钮中使用图像的建议。

效果很好。Gridviews 中的 ImageButtons，尤其是更新面板中的 ImageButtons 总是很痛苦。

[http://forums.asp.net/t/1823287.aspx/2/10](http://forums.asp.net/t/1823287.aspx/2/10) 回复：ImageButtons 在 IE10 中不起作用

2012 年 12 月 5 日 04:38 PM|链接

我无法让上述任何示例为我工作，但我在更新面板的转发器中有一个图像按钮。无论如何，我只是用包装图像的链接按钮替换了图像按钮，一切都恢复了。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-23T16:44:45.193

是的...通过将 .net 框架更新到 4.5 解决了这个问题。问题出在带有 IE 10 的框架上。请检查您的服务器 .net 框架和您的本地 PC。

只需简单地更新框架。除了这个，我找不到任何其他解决方案。:)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-09-18T13:35:50.370

如果删除图像按钮并且您不需要安装.Net framework 4.5。我们一直无法更改框架版本。如果我们有window server 2003 r2，那么我们就不能安装.Net framework 4.5。所以在这种情况下，我们可以将图像按钮更改为链接按钮。这是在 asp.net 中显示为类似图像按钮的链接按钮的相同来源

```
<asp:LinkButton ID="deleterow" runat="server" 
                                         CommandArgument='<%#DataBinder.Eval(Container.DataItem,"Id")+","+DataBinder.Eval(Container.DataItem,"Facultykey") %>'
                                         OnCommand="DeleteFaculty" 
                                        Visible='<%# EnableControls(DataBinder.Eval(Container.DataItem , "IsFacultyConfirmed"),2,DataBinder.Eval(Container.DataItem , "AFTId"),DataBinder.Eval(Container.DataItem , "FacultyKey"))%>' >
                                       <asp:Image ID="Delete" 
                                        ImageUrl="../App_Themes/Blue/images/buttons/delete.gif"
                                        runat="server"/></asp:LinkButton> 
```

由于我个人遭受了 windows server 2003 R2 并且无法安装 .Net 框架 4.5 并且它有助于在不触及服务器配置的情况下解决问题。

希望这可以帮助

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2020-11-18T11:22:27.503

我知道这是个老问题，但是对于将来会来这里阅读这个问题的人，我将描述我是如何解决它的。

我的应用程序已经工作了几年没有问题，突然客户开始注意到“等待”，由于上述错误，页面没有刷新（未捕获的 Sys.WebForms.PageRequestManagerServerErrorException：输入字符串格式不正确。）

我很难发现主要问题是什么，因为在调试 .cs 代码时没有错误。经过大量搜索后，我发现有人提议禁用 PartialRendering...（您可以在 .cs 中通过 ScriptManager1.EnablePartialRendering = false 执行此操作；或在页面中添加 EnablePartialRendering="false"）

所以我禁用了它，瞧……最后在调试时，一个函数中出现了错误，并且执行像以前一样停止了，但有更多描述。酷，现在我知道敌人在哪里了 :-) 有趣的是，当 EnablePartialRendering 为真时，它根本没有被击中。现在代码后面也没有停止执行，但最后在浏览器窗口中添加了一些文本，这就是我得到的：

说明：执行当前 Web 请求期间发生未处理的异常。请查看堆栈跟踪以获取有关错误及其源自代码的位置的更多信息。

异常详细信息：System.FormatException：输入字符串的格式不正确。

源错误：

```
Line 1209:             Array.ConvertAll<DataRow, double>(
Line 1210:               dt.Select(),
Line 1211:               delegate (DataRow row) { return Convert.ToDouble(row[columnName].ToString()); }   
Line 1212:             );
Line 1213:            return GetMedianFromArray(values); 
```

问题在行：1211

# opencv - OpenCV中的QR分解

> ID：15516356
> 
> 赞同：2
> 
> 时间：2013-03-20T05:58:29.903
> 
> 标签：opencv, linear-algebra, qr-decomposition

OpenCV 提供 SVD 分解，但我在它的库中找不到一般的 QR 分解。有没有其他方法可以实现这一目标？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2014-07-26T01:19:46.440

这是一个老问题，但为了完整起见（因为谷歌把我带到这里），这里是使用 OpenCV 的答案——

OpenCV 有[solve()](http://docs.opencv.org/modules/core/doc/operations_on_arrays.html?highlight=solve#solve)函数，可以通过指定要使用的矩阵求逆方法的标志来调用该函数。使用该标志`DECOMP_QR`执行 QR 分解。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2017-03-24T04:08:28.953

正如3年前有人提到的，这是一个老问题（lolz）

但是在 OpenCV 中QR 分解是*很有可能的。*在 3.2 中，可以使用 cv::decomposeProjectionMatrix 来完成，如此处所述：http: [//docs.opencv.org/trunk/d9/d0c/group__calib3d.html#gaaae5a7899faa1ffdf268cd9088940248](http://docs.opencv.org/trunk/d9/d0c/group__calib3d.html#gaaae5a7899faa1ffdf268cd9088940248)

注意：我承认我确实在回答 QR 分解的特定情况（在投影矩阵上），但该文档页面说此函数基于 RQDecomp3x3，可用于通用 RQ 分解。

我现在正在回答这个问题，因为谷歌搜索时弹出的所有答案都是错误的，说这是不可能的。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-20T08:16:21.210

您可以使用像 Newmat11 [http://www.robertnz.net/nm11.htm#qr这样的矩阵库](http://www.robertnz.net/nm11.htm#qr)

# haskell - Haskell：为先验生成 k 项集

> ID：15516360
> 
> 赞同：0
> 
> 时间：2013-03-20T05:58:39.743
> 
> 标签：haskell, recursion, apriori

我正在尝试生成所有用于先验的 k 项集，我正在遵循以下伪代码：

```
L1= {frequent items};
for (k= 2; Lk-1 !=∅; k++) do begin
    Ck= candidates generated from Lk-1 (that is: cartesian product Lk-1 x Lk-1 and eliminating any 
    k-1 size itemset that is not frequent);
    for each transaction t in database do
        increment the count of all candidates in 
         Ck that are contained in t
    Lk = candidates in Ck with min_sup
    end
return U_k Lk; 
```

，这是我的代码：

```
-- d transactions, threshold 
kItemSets d thresh = kItemSets' 2  $ frequentItems d thresh
    where
        kItemSets' _ [] = [[]]
        kItemSets' k t  = ck ++ (kItemSets' (k+1) ck)
            where
                -- those (k-1) length sets that meet the threshold of being a subset of the transactions in d
                ck = filter (\x->(countSubsets x d) >= thresh)  $ combinations k t

-- length n combinations that can be made from xs
combinations 0 _ = [[]]
combinations _ [] = []
combinations n xs@(y:ys)
  | n < 0     = []
  | otherwise = case drop (n-1) xs of
                  [ ] -> []
                  [_] -> [xs]
                  _   -> [y:c | c <- combinations (n-1) ys]
                            ++ combinations n ys   
-- those items of with frequency o in the dataset                
frequentItems xs o = [y| y <- nub cs, x<-[count y cs], x >= o]
    where
        cs = concat xs

isSubset a b  = not $ any (`notElem` b) a

-- Count how many times the list y appears as a subset of a list of lists xs
countSubsets y xs = length $ filter (isSubset y ) xs
count :: Eq a => a -> [a] -> Int
count x [] = 0
count x (y:ys) | x == y    = 1+(count x ys)
               | otherwise = count x ys

transactions =[["Butter", "Biscuits", "Cream", "Newspaper", "Bread", "Chocolate"],
          ["Cream", "Newspaper", "Tea", "Oil", "Chocolate"] ,
          ["Chocolate", "Cereal", "Bread"],
          ["Chocolate", "Flour", "Biscuits", "Newspaper"],
          ["Chocolate", "Biscuits", "Newspaper"] ] 
```

但是当我编译时，我得到了错误：

```
apriori.hs:5:51:
    Occurs check: cannot construct the infinite type: a0 = [a0]
    Expected type: [a0]
      Actual type: [[a0]]
    In the second argument of kItemSets', namely `ck'
    In the second argument of `(++)', namely `(kItemSets' (k + 1) ck)'
Failed, modules loaded: none. 
```

但是当我从`ghci`：

```
*Main> mapM_ print $ filter (\x->(countSubsets x transactions ) >= 2 ) $ combinations 2 $ frequentItems transactions 2
["Biscuits","Newspaper"]
["Biscuits","Chocolate"]
["Cream","Newspaper"]
["Cream","Chocolate"]
["Newspaper","Chocolate"]
["Bread","Chocolate"] 
```

这是正确的，因为在交易集中满足发生阈值的是那些 2 项集。但我需要的 3 件套是

```
[["Biscuits", "Chocolate", "Newspaper" ],
["Chocolate", "Cream", "Newspaper"]] 
```

并将其附加到 2 项集列表中。我将如何更改我当前的代码来实现这一点？我知道它可以从 2 件套装中构建，但我不知道如何去做。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-20T12:15:50.747

不得不将其用于第 5 行：

```
kItemSets' k t  =  ck  ++ (kItemSets' (k+1) $ nub $ concat ck) 
```

不是最有效的，但它有效。

# jsp - 不管用

> ID：15516361
> 
> 赞同：0
> 
> 时间：2013-03-20T05:58:46.470
> 
> 标签：jsp, struts, javabeans

我正在尝试做这样的事情——

```
<logic:equal name='<%=session.getAttribute(Att.INFO)%>' value='<%=Att.INF%>'  scope='session'><h3>Equal</h3></logic:equal> 
```

但它什么也没显示。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-09-18T09:55:39.253

添加你的财产老兄。例子 ：

```
<logic:equal name="SomeThing" property="LENGTH_OF_MY_ATT" value="20">
<p>your length is 20</p>
</logic:equal> 
```

# iphone - 我的应用程序所有屏幕中的字母手势识别

> ID：15516364
> 
> 赞同：1
> 
> 时间：2013-03-20T05:59:17.537
> 
> 标签：iphone, ios, ios4, touch, gesture

我正在努力在我的应用程序中检测字母手势。因此，当用户在屏幕上绘制一个 C 时，会发生一个特殊的动作，依此类推。我正在使用识别器类，该类具有关于每个字母接触点的预定义数据，并且检测正常。我希望在我的所有屏幕中都使用此功能，因此我将以下方法添加到 appDelegate 类并仅检测窗口中的触摸，这里发生的是其他视图（如 tableview ，屏幕内的滚动视图）阻止触摸事件发送到窗口 - 如果这完美地发生了，那么我的代码就会像一个魅力一样工作。任何帮助表示赞赏。

```
- (void)processGestureData
   {
     NSString *gestureName = [recognizer findBestMatchCenter:&center angle:&angle   score:&score];
     NSLog(@"gesture Name: %@",gestureName);

     if ([gestureName isEqualToString:@"N"] || [gestureName isEqualToString:@"n"])
     {//handle N gesture
     }

     if ([gestureName isEqualToString:@"C"]) 
     {//handle C gesture
     }

   }

 - (void)touchesBegan:(NSSet *)touches withEvent:(UIEvent *)event
 {
  [recognizer resetTouches];
  [recognizer addTouches:touches fromView:self.window];
 }
 - (void)touchesMoved:(NSSet *)touches withEvent:(UIEvent *)event
 {
  [recognizer addTouches:touches fromView:self.window];
 }
 - (void)touchesEnded:(NSSet *)touches withEvent:(UIEvent *)event
 {
  [recognizer addTouches:touches fromView:self.window];

  [self processGestureData];
 } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-20T06:13:47.163

我认为您需要一些触摸拦截窗口来处理所有触摸。如果您的手势被识别，则对其进行处理，否则将触摸传递给您的视图控制器。有关详细信息，请参阅[此链接](http://atastypixel.com/blog/a-trick-for-capturing-all-touch-input-for-the-duration-of-a-touch/)

# javascript - 如何使用prototype.js 创建一个类

> ID：15516365
> 
> 赞同：4
> 
> 时间：2013-03-20T05:59:20.763
> 
> 标签：javascript, oop, prototypejs

任何人都可以展示一个使用prototype.js创建类的示例以及它是如何工作的。除了官方网站之外，任何人都可以为prototype.js提供好的示例和教程吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-20T15:02:06.650

创建 PrototypeJS 类与在普通 OOP 语言中创建类非常相似。

首先从命名你的班级开始

```
var myClass = Class.create({ }); 
```

这将创建一个空类 - 现在用方法填充它，如果你放置一个方法`initialize`PrototypeJS 将作为构造函数触发它

```
var myClass = Class.create(
{
    initialize : function()
    {
        this.options = 0;
    }
}); 
```

你可以在`initialize()`方法中设置任何你想要的东西，比如默认值或者只是初始化类的属性。让我们加入一些其他方法并展示如何实例化该类。

```
var myClass = Class.create(
{
    initialize : function()
    {
        this.options = 0;
    },

    testme : function()
    {
        this.options++;
    },

    showme : function()
    {
        alert(this.options);
        return this.options;
    }
});

var theClass = new myClass(); 
```

让我们更进一步，在方法中调用其他方法并将选项传递给构造函数。

```
var myClass = Class.create(
{
    initialize : function(option)
    {
        this.options = (option ? option : 0);

        this.testme();
    },

    testme : function()
    {
        this.options++;
    },

    showme : function()
    {
        alert(this.options);
        return this.options;
    }
});

var theClass = new myClass(200);
theClass.showme();

//will alert 201 and return 201 
```

这很酷——但是类继承呢？这在 OOP 中是一件大事——假设我们有一个单独的类，它是`myClass`. 对于您在子类中覆盖的任何方法，您可以传递第一个变量 as`$super`并将引用同名的父方法 - 类似于范围解析

```
var myChildClass = Class.create(myClass,
{
    initialize : function($super,option)
    {
        $super(option);

        // the child class needs option's default value at 150 or whatever is 
        // passed so run the parent initialize first and then redefine the 
        // option property
        this.option = (option ? option : 150);

        // you can still run methods in the parent that are not overridden in 
        // the child
        this.testme();
    }
});

var child = new myChildClass();
child.showme();

//will alert() 151 and return 151 
```

我希望这对你有帮助。

以下是我的 github 中一些更复杂的现实世界示例

[https://github.com/jwestbrook/Prototype.Growler](https://github.com/jwestbrook/Prototype.Growler)

[https://github.com/jwestbrook/Prototype.Watermark](https://github.com/jwestbrook/Prototype.Watermark)

[https://github.com/jwestbrook/bootstrap-prototype](https://github.com/jwestbrook/bootstrap-prototype)

# mysql - 删除表中的重复条目

> ID：15516367
> 
> 赞同：3
> 
> 时间：2013-03-20T05:59:30.037
> 
> 标签：mysql, sql, stored-procedures, sql-delete

我想从下表中删除多个重复键：

```
id | name   | uid
1  | ekta   | 5
2  | ekta   | 5
3  | sharma | 10
4  | sharma | 10 
```

希望它像

```
id | name   | uid
1  | ekta   | 5
3  | sharma | 10 
```

我正在使用mysql。可以吗。？我不能使用 `unique constraint`查询来制作唯一的条目，因为我希望将这些重复的条目输入到表格中。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-20T06:01:46.000

一种方法是使用`LEFT JOIN`. 子查询`ID`对于每个`UID`. 当一条记录在子查询上没有匹配时，它只是意味着它没有匹配的记录，可以安全地删除。

```
DELETE  a
FROM    TableName a
        LEFT JOIN
        (
            SELECT  uid, MIN(ID) min_ID
            FROM    TableName
            GROUP   BY uid
        ) b ON  a.uid = b.uid AND
                a.ID = b.min_ID
WHERE   b.uid IS NULL 
```

*   [SQLFiddle 演示](http://www.sqlfiddle.com/#!2/a186c/1)

但是，如果 的记录`UID`可以有不同的名称，那么您需要包含`name`在`group by`子句中，否则只会保留`uid`最低的唯一性`ID`。

```
DELETE  a
FROM    TableName a
        LEFT JOIN
        (
            SELECT  uid, MIN(ID) min_ID, name
            FROM    TableName
            GROUP   BY uid, name
        ) b ON  a.uid = b.uid AND
                a.ID = b.min_ID AND
                a.name = b.name
WHERE   b.uid IS NULL 
```

*   [SQLFiddle 演示](http://www.sqlfiddle.com/#!2/a0ffb/1)
*   [SQLFiddle Demo（*相同的 uid 不同的名称*）](http://www.sqlfiddle.com/#!2/c460c/1)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-20T06:02:30.200

```
 DELETE DupRows.*
  FROM MyTable AS DupRows
  INNER JOIN (
            SELECT MIN(ID) AS minId, col1, col2
            FROM MyTable
            GROUP BY col1, col2
            HAVING COUNT(*) > 1
             ) AS SaveRows 
  ON SaveRows.col1 = DupRows.col1 AND SaveRows.col2 = DupRows.col2
  AND SaveRows.minId <> DupRows.ID; 
```

# ruby - Ruby：如何在执行期间将 arg 传递给系统命令

> ID：15516371
> 
> 赞同：1
> 
> 时间：2013-03-20T05:59:48.557
> 
> 标签：ruby, unix, system, freebsd

再会！我认为这是一个非常简单的问题，但我不知道如何处理它。所以我向你寻求建议或方向。我`system`调用了 unix 命令，在它执行期间它要求我输入一个字符串描述。我怎样才能做到这一点？谢谢！

好像我的问题解决了一半。为了绝对清楚，任何人都可以告诉我为什么这个代码：

```
#/usr/local/bin/ruby19 
#Process.daemon(true) 
exec "/bin/cp src dst" 
```

工作正常，但如果 `#`从`Process.daemon(true)`删除它什么都不做？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-20T06:07:29.290

您可以使用`IO.pipe`and `spawn`（在 Ruby 1.9.3 中）创建一个到另一个进程的管道来写入它。例如，

```
r, w = IO.pipe
spawn("cat", :in => r)
r.close

# the write to the pipe, which `cat` will read from
w.write("hello\n") 
```

# c# - 根据 CheckBoxList 选择显示/隐藏文本框并启用/禁用文本框验证

> ID：15516383
> 
> 赞同：1
> 
> 时间：2013-03-20T06:00:35.937
> 
> 标签：c#, javascript, asp.net

有一个CheckBoxList（可以多选）和一个默认不显示的TextBox。要求是：
1\. 当用户在 CheckBoxList 中点击“Other”时，应该显示 TextBox。
2\. 由于显示时需要TextBox，所以当TextBox不显示时，Validator应该被禁用。

.aspx 内容页面

 `````
 <label for="labelSelection">Please Select:</label>           
        <asp:CheckBoxList ID="cblSelection" onclick="ShowOtherInfo(this)" runat="server">
        <asp:ListItem Text="AAA" Value="1" /> 
        <asp:ListItem Text="BBB" Value="2" />            
        <asp:ListItem Text="Other" Value="0" />                       
        </asp:CheckBoxList>

        <div id="OtherInfo" style ='display:none'>
        <label for="labelOtherInfo">Enter detail if "Other" is selected: </label>
        <asp:TextBox ID="OtherInfoTextBox" runat="server" />
        <asp:RequiredFieldValidator ID="rfvOtherInfo" ControlToValidate="OtherInfoTextBox"
            ErrorMessage="Enter other info" SetFocusOnError="true" Display="Dynamic" runat="server" />
        </div> 
        <div> 
        <asp:Button ID="buttonSubmit" runat="server" Text="Submit" CausesValidation="true" OnClientClick="ShowOtherInfo()" OnClick="buttonSubmit_Click" /> 
        </div> 
````  `放置在 .master 页面上的 Javascript

 `````
 function ShowOtherInfo() {
          var OI = document.getElementById('OtherInfo');
          var CheckLists = document.getElementById('cblSelection');
          var checkbox = CheckLists.getElementsByTagName("input");
              if (checkbox[2].checked) {
                  document.getElementById('OtherInfo').style.display = "block";
                  ValidatorEnable(document.getElementById('rfvOtherInfo'), true);
              } else {
              document.getElementById('OtherInfo').style.display = "none";
              ValidatorEnable(document.getElementById('rfvOtherInfo'), false);
              }
      } 
````  `由于我更喜欢​​使用 Javascript 进行验证，因此我尝试了 CheckBoxList 的 onchange/onclick 事件和“提交”按钮的 onClientClick 事件，但它们都不起作用。任何帮助是极大的赞赏。

初次发布后，我尝试用 onclick="ShowOtherInfo(this)" 替换 CheckBoxList 的 OnSelectedIndexChanged="ShowOtherInfo"。.cs 文件的代码隐藏是：

`public void DisplayOtherInfo(object sender, EventArgs e) {`

 ````
 CheckBoxList cblSelection = (CheckBoxList)myFormView.FindControl("cblSelection");
    RequiredFieldValidator rfvOtherInfo = (RequiredFieldValidator)myFormView.FindControl("rfvOtherInfo");
    HtmlGenericControl OtherInfo = new HtmlGenericControl("OtherInfo");

    for (int i = 0; i < cblSelection.Items.Count; i++)
    {
        if (cblSelection.Items[2].Selected == true)
        {
            OtherInfo.Style["display"] = "block";

    rfvOtherInfo.Enabled = true;
        }
        else
        {
            OtherInfo.Style["display"] = "none";

            rfvOtherInfo.Enabled = false;
        }
    }
} 
````  `但是 TextBox 仍然没有显示，更不用说禁用验证器了。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-20T08:14:42.697

这是 Javascript 代码

```
<script type="text/javascript">
        function ShowOtherInfo() {
            var OI = document.getElementById('OtherInfo');
            var CheckLists = document.getElementById('cblSelection');
            var checkbox = CheckLists.getElementsByTagName("input");
            if (checkbox[2].checked) {
                document.getElementById('OtherInfo').style.display = "block";
            } else {
                document.getElementById('OtherInfo').style.display = "none";
            }
            return true;
        }

        function onSubmit() {
            if (document.getElementById('OtherInfoTextBox').value == "") {
                if (checkbox[2].checked) {
                    alert('Enter other info');
                    return false;
                }
                else {
                    return true;
                }
            }
            else {
                return true;
            }
        }
    </script> 
```

这是你的 .aspx 内容

```
<div>
    <label for="labelSelection">Please Select:</label>           
        <asp:CheckBoxList ID="cblSelection" onclick="ShowOtherInfo(this)" runat="server">
        <asp:ListItem Text="AAA" Value="1" /> 
        <asp:ListItem Text="BBB" Value="2" />            
        <asp:ListItem Text="Other" Value="0" />                       
        </asp:CheckBoxList>

        <div id="OtherInfo" style ='display:none'>
        <label for="labelOtherInfo">Enter detail if "Other" is selected: </label>
        <asp:TextBox ID="OtherInfoTextBox" runat="server" />

        </div> 

        <asp:Button ID="buttonSubmit" runat="server" Text="Submit" CausesValidation="true" OnClientClick="return onSubmit();" /> 
</div> 
````````

# .net - 如何将一个障碍与 tfs 中的多个任务关联/关联

> ID：15516384
> 
> 赞同：0
> 
> 时间：2013-03-20T06:00:50.300
> 
> 标签：.net, tfs

目前，我有多项任务由于障碍而被卡住。

这些都是不同父母的不同任务。我是否需要在每项任务中一次又一次地制造障碍？

或者，是否有任何机制可以让我们将一个障碍与多个任务关联/关联？

## 编辑：

假设 UserStory1 有 Task1、Task2、Task3。现在，如果 Task1 有子任务，即 Task4、Task5、Task6。Task2 有子任务——Task7、Task8。Task3 有 - Task9 & Task10。

这是层次结构： -

```
UserStory1
  |  
  |__ Task1 
  |     |  
  |     |__ Task4 (having Impediment)
  |     |  
  |     |__ Task5
  |     |  
  |     |__ Task6 (having Impediment)
  |  
  |__ Task2 
  |     |  
  |     |__ Task7
  |     |  
  |     |__ Task8 (having Impediment)
  |  
  |__ Task3 
        |  
        |__ Task9 (having Impediment)
        |  
        |__ Task10 
```

现在，如果Task4，Task6，Task8，Task9因为有相同的障碍而被卡住，那么如何创建一个障碍并将其与上述指定的多个任务相关联？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2016-06-16T04:06:30.260

`Predecessor`您可以在每个链接中创建一个链接`Task`并链接到有`Impediment`问题的链接。

[https://msdn.microsoft.com/en-us/library/dd293534.aspx](https://msdn.microsoft.com/en-us/library/dd293534.aspx)

# matlab - 索贝尔或各向同性索贝尔或各向同性索贝尔

> ID：15516388
> 
> 赞同：0
> 
> 时间：2013-03-20T06:01:08.930
> 
> 标签：matlab, opencv

我正在阅读与 Sobel 相关的论文，但我找不到有关各向同性或各向同性 Sobel 的任何信息。和索贝尔一样吗？

不知何故，我从论文中读到了用于 sotropic sobel 的掩码是这样的：

![在此处输入图像描述](../Images/056fce27add2617d904ba901fa1cb5fd.png)

不知何故，它与原来的索贝尔有点不同。[http://homepages.inf.ed.ac.uk/rbf/HIPR2/sobel.htm](http://homepages.inf.ed.ac.uk/rbf/HIPR2/sobel.htm)

# android - 如何使用 ViewPager 在 bigining 中启动任何片段

> ID：15516389
> 
> 赞同：1
> 
> 时间：2013-03-20T06:01:16.827
> 
> 标签：android, android-fragments, android-viewpager, fragment

嘿，我有 5 个`Fragments` 类似`Fragment1,Fragment2,Fragment3,`..我正在显示的`ViewPager`但我想`Fragment2`首先显示，而不是`Fragment1`在我启动我的应用程序时显示。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-20T06:03:17.390

为 ViewPager 设置适配器后，您可以简单地使用[`setCurrentItem(position)`](http://developer.android.com/reference/android/support/v4/view/ViewPager.html#setCurrentItem%28int%29)将所选页面设置在所需位置。

```
mViewPager.setCurrentItem(position); 
```

# sql - 关于日期的 SQL 访问查询

> ID：15516391
> 
> 赞同：0
> 
> 时间：2013-03-20T06:01:24.597
> 
> 标签：sql, ms-access

考虑表：

```
STUDENT (
    School_ID char(3), 
    St_LastName char(15), 
    St_FirstName char(15), 
    St_DOB char(15), 
    St_SS# char(15), 
    St_Address char(15),
    St_City char(15), 
    St_State char(2),
    st_Zip char(5), 
    st_phone char(15)
); 
```

1.显示1989年8月1日以后出生的学生。

您的答案应该是针对 Microsoft-Access 的......

# ruby-on-rails - 如何自定义此 if 语句？

> ID：15516394
> 
> 赞同：2
> 
> 时间：2013-03-20T06:01:31.580
> 
> 标签：ruby-on-rails, ruby-on-rails-3

我想在`@user.user_profile.prefecture.name if !@user.user_profile.prefecture.blank?`空白时显示“未选择”。

如何自定义此代码？

## 控制器

```
@user.profile.prefecture.name if !@user.profile.prefecture.blank? 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-20T06:03:18.297

您可以使用稍微冗长的三元运算符：

```
@user.profile.prefecture.blank? ? "Not selected" : @user.profile.prefecture.name 
```

或者，如果`prefecture`实际上是 nil/not-nil，则去掉`blank?`：

```
@user.profile.prefecture ? @user.profile.prefecture.name : "Not selected" 
```

最后，您可以稍微花点心思使用`try`and `||`，大多数熟练的 Ruby 开发人员会发现它非常易读：

```
@user.profile.prefecture.try(:name) || "Not selected" 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-20T06:02:11.340

像这样

```
if @user.profile.prefecture.blank?
  'not selected'
else
  @user.profile.prefecture.name
end 
```

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2013-03-20T06:09:47.940

更新：

1- 如果对象为假、空或空白字符串，则该对象为空

2-除非条件为假，否则要执行的语句代码

回答：

“未选择”，除非 !@user.profile.prefecture.blank？

解释：@user.profile.prefecture.blank？每次 @user.profile.prefecture 为 false、空或空格字符串时都会返回 true，因为否定运算符将其转换为 false，因此可以执行除非代码部分。

这种方法对我来说非常“Ruby”，应该很容易理解。

# html - 当弹出窗口的大小增加时，父窗口上的滚动条消失

> ID：15516395
> 
> 赞同：-2
> 
> 时间：2013-03-20T06:01:33.817
> 
> 标签：html, css

随着弹出窗口大小的增加，即使存在滚动条，也无法看到弹出窗口的下部。父窗口上的滚动条应该随着弹出窗口的增长而自动调整，以便可以滚动查看弹出窗口的下部。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-20T06:34:58.263

没有代码很难说

做父母

```
overflow-y:scroll; 
```

# objective-c - NSFileManager copyItemAtPath 抱怨一个不存在的文件确实存在

> ID：15516405
> 
> 赞同：5
> 
> 时间：2013-03-20T06:01:58.913
> 
> 标签：objective-c, file-io, nsfilemanager

我正在尝试使用复制文件，`[[NSFileManager defaultManager] copyItemAtPath: toPath: error:]`但失败并出现以下错误：

> 4：文件不存在。

相关代码如下，该文件确实存在并且路径字符串是正确的，因为它是使用完全相同的文件路径字符串预先创建的。

```
NSFileManager* manager = [NSFileManager defaultManager];
NSError* error;
NSString* fileName = [Sound getFileName:Title];
NSString* oldDirectory = [NSString stringWithFormat:@"%@%@/", [settings stringForKey:@"downloadFolder"], authorFolder];
NSString* oldFile = [oldDirectory stringByAppendingFormat:@"%@.mp3", fileName];
NSString* newFile = [NSString stringWithFormat:@"%@/iTunes/iTunes Media/Automatically Add to iTunes/%@.mp3", [NSSearchPathForDirectoriesInDomains(NSMusicDirectory, NSUserDomainMask, YES) objectAtIndex:0], fileName];
BOOL result = [manager copyItemAtPath:oldFile toPath:newFile error:&error];
if (!result && error)
{
     NSLog(oldFile);
     NSLog(@"There was an error copying the file to the iTunes directory! %@", [error localizedDescription]);
} 
```

这不是确切的代码，但所有相关代码都应该在上面。如果我使用`[manager fileExistsAtPath:oldFile]`结果是**YES**。

什么可能导致复制失败并说文件不存在，即使它存在？

**更新：**

问题已修复。原来输出文件夹真的是自动添加到 iTunes.localized，但我最初在浏览 finder 时并没有注意到这一点。修复输出路径解决了这个问题！谢谢您的帮助。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-03-20T07:43:10.953

如果目标路径中的任何目录不存在，您将收到与源不存在时类似的错误。检查`[manager fileExistsAtPath:[newFile stringByDeletingLastPathComponent] isDirectory:&isDir]`返回的内容。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-03-20T06:08:28.143

您使用的 API 错误。您需要查看 的返回值`-copyItemAtPath:toPath:error:`。只有当它返回时`NO`，才意味着发生了错误。

如果你使用 ARC，你的`error`变量*应该*是`nil`如果没有发生错误（虽然这在技术上不能保证），但如果你使用 MRR，它可能不会，因为你从未初始化它。

# java - 如何关闭服务器套接字？

> ID：15516411
> 
> 赞同：3
> 
> 时间：2013-03-20T06:02:14.547
> 
> 标签：java, android, sockets, serversocket

我有使用服务器套接字的多线程应用程序。这是一个安卓应用程序。现在，由于网络接口更改（WiFi 到以太网，反之亦然）导致 IP 更改，我需要关闭旧套接字并打开新套接字。我正在尝试如下关闭套接字；然而，`IOException`几毫秒后开始。

```
public void run()
{
    while(true)
    {
        socket = serverSocket.accept();
        read();
        if (stopFlag)
        {
             serverSocket.close(); 
             socket.close();
             break;     
        }
    }
} 
```

这是正确的方法吗？

# python - dict.fromkeys 都指向同一个列表

> ID：15516413
> 
> 赞同：77
> 
> 时间：2013-03-20T06:02:24.783
> 
> 标签：python

这让我有些心痛……

我从列表中创建了一本字典

```
l = ['a','b','c']
d = dict.fromkeys(l, [0,0]) # initializing dictionary with [0,0] as values

d['a'] is d['b'] # returns True 
```

如何使字典的每个值成为单独的列表？如果不遍历所有键并将它们设置为列表，这是否可能？我想修改一个列表而不更改所有其他列表。

* * *

## 回答 #1

> 赞同：45
> 
> 时间：2013-03-20T06:08:14.760

您可以使用 dict 理解：

```
>>> keys = ['a','b','c']
>>> value = [0, 0]
>>> {key: list(value) for key in keys}
    {'a': [0, 0], 'b': [0, 0], 'c': [0, 0]} 
```

* * *

## 回答 #2

> 赞同：40
> 
> 时间：2017-06-12T18:07:43.130

这个答案在这里是为了向任何被他们试图用可变默认值实例化 a 的结果弄糊涂的人解释`dict`这种`fromkeys()`行为`dict`。

考虑：

```
#Python 3.4.3 (default, Nov 17 2016, 01:08:31) 

# start by validating that different variables pointing to an
# empty mutable are indeed different references.
>>> l1 = []
>>> l2 = []
>>> id(l1)
140150323815176
>>> id(l2)
140150324024968 
```

因此任何更改`l1`都不会影响`l2`，反之亦然。到目前为止，这对于任何可变的都是正确的，包括`dict`.

```
# create a new dict from an iterable of keys
>>> dict1 = dict.fromkeys(['a', 'b', 'c'], [])
>>> dict1
{'c': [], 'b': [], 'a': []} 
```

这可能是一个方便的功能。在这里，我们为每个键分配一个默认值，该值也恰好是一个空列表。

```
# the dict has its own id.
>>> id(dict1)
140150327601160

# but look at the ids of the values.
>>> id(dict1['a'])
140150323816328
>>> id(dict1['b'])
140150323816328
>>> id(dict1['c'])
140150323816328 
```

事实上，他们都使用相同的参考！改变一个就是改变所有，因为它们实际上是同一个对象！

```
>>> dict1['a'].append('apples')
>>> dict1
{'c': ['apples'], 'b': ['apples'], 'a': ['apples']}
>>> id(dict1['a'])
>>> 140150323816328
>>> id(dict1['b'])
140150323816328
>>> id(dict1['c'])
140150323816328 
```

对许多人来说，这不是预期的！

现在让我们尝试将列表的显式副本用作默认值。

```
>>> empty_list = []
>>> id(empty_list)
140150324169864 
```

现在创建一个带有`empty_list`.

```
>>> dict2 = dict.fromkeys(['a', 'b', 'c'], empty_list[:])
>>> id(dict2)
140150323831432
>>> id(dict2['a'])
140150327184328
>>> id(dict2['b'])
140150327184328
>>> id(dict2['c'])
140150327184328
>>> dict2['a'].append('apples')
>>> dict2
{'c': ['apples'], 'b': ['apples'], 'a': ['apples']} 
```

还是不开心！我听到有人喊，那是因为我使用了一个空列表！

```
>>> not_empty_list = [0]
>>> dict3 = dict.fromkeys(['a', 'b', 'c'], not_empty_list[:])
>>> dict3
{'c': [0], 'b': [0], 'a': [0]}
>>> dict3['a'].append('apples')
>>> dict3
{'c': [0, 'apples'], 'b': [0, 'apples'], 'a': [0, 'apples']} 
```

的默认行为`fromkeys()`是分配`None`给值。

```
>>> dict4 = dict.fromkeys(['a', 'b', 'c'])
>>> dict4
{'c': None, 'b': None, 'a': None}
>>> id(dict4['a'])
9901984
>>> id(dict4['b'])
9901984
>>> id(dict4['c'])
9901984 
```

事实上，所有的值都是相同的（也是唯一的！）`None`。现在，让我们以无数种方式中的一种方式迭代`dict`并更改值。

```
>>> for k, _ in dict4.items():
...    dict4[k] = []

>>> dict4
{'c': [], 'b': [], 'a': []} 
```

唔。看起来和以前一样！

```
>>> id(dict4['a'])
140150318876488
>>> id(dict4['b'])
140150324122824
>>> id(dict4['c'])
140150294277576
>>> dict4['a'].append('apples')
>>> dict4
>>> {'c': [], 'b': [], 'a': ['apples']} 
```

但它们确实是不同`[]`的 s，在这种情况下，这是预期的结果。

* * *

## 回答 #3

> 赞同：12
> 
> 时间：2013-03-20T06:07:58.800

你可以使用这个：

```
l = ['a', 'b', 'c']
d = dict((k, [0, 0]) for k in l) 
```

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2013-03-20T06:08:37.847

```
l = ['a','b','c']
d = dict((i, [0, 0]) for i in l) 
```

# javascript - Knockout JS：绑定动态行

> ID：15516417
> 
> 赞同：2
> 
> 时间：2013-03-20T06:02:51.357
> 
> 标签：javascript, jquery, dynamic, knockout.js, observable

我在绑定动态创建的 dom 元素时遇到了一些麻烦

代码：

```
var i=0;

$.each(data.info, function(index, element) {                        
    $("#div1").append("<tr><td>" + element.Name + "</td><td>"+ element.Major +"</td><td>" + element.Sex +"</td><td>" + "<input data-bind='value: eng"+i+"' ></td><td>" + "<input data-bind='value: jap"+i+"' ></td><td>" +  "<input data-bind='value: cal"+i+"' ></td><td>" + "<input data-bind='value: geo"+i+"' ></td><td>" + "<strong data-bind='text: total'></td>" )
i++;
}); 
```

这将创建具有输入数据绑定值 eng0、eng1、jap0、jap1 等的行。

我想将这些绑定为可观察的

代码

```
function AppViewModel() {
    this.eng = ko.observable(element.English);
    this.jap = ko.observable(element.Japanese);
    this.cal = ko.observable(element.Calculus);
    this.geo = ko.observable(element.Geometry);

    this.total = ko.computed(function() {
    var tot=parseFloat(this.eng()) + parseFloat(this.jap()) + parseFloat(this.cal()) + parseFloat(this.geo());
    return (tot);    
    }, this);

}

    ko.applyBindings(new AppViewModel()); 
```

这段代码也在里面`$.each(data.info, function(index, element){}`

我想要一些像

```
Var i=0;
$.each(data.info, function(index, element) {

function AppViewModel() {
        this.eng+i = ko.observable(element.English);
        this.jap+i = ko.observable(element.Japanese);
        this.cal+i = ko.observable(element.Calculus);
        this.geo+i = ko.observable(element.Geometry);

        this.total+i = ko.computed(function() {
        var tot=parseFloat(this.eng()) + parseFloat(this.jap()) + parseFloat(this.cal()) + parseFloat(this.geo());
        return (tot);    
        }, this);

    }
i++;
} 
```

那让我得到结果`this.eng0 = ko.observable()`

注意：数据是从 JSON 对象获取的。我只包含了迭代路径

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-20T06:50:52.557

我可以建议使用[foreach 绑定](http://knockoutjs.com/documentation/foreach-binding.html)可能比使用 jQuery`each`并自己生成 HTML 更好吗？我建议将您的视图模型更改为以下内容：

```
function AppViewModel() {
   this.items = ko.observableArray();
}

function ItemViewModel(element) {
    this.eng = ko.observable(element.English);
    this.jap = ko.observable(element.Japanese);
    this.cal = ko.observable(element.Calculus);
    this.geo = ko.observable(element.Geometry);

    this.name = ko.observable(element.name);
    this.major = ko.observable(element.major);
    this.sex = ko.observable(element.sex);

    this.total = ko.computed(function () {
        var tot = parseFloat(this.eng()) + parseFloat(this.jap()) + parseFloat(this.cal()) + parseFloat(this.geo());
        return (tot);
    }, this);

}; 
```

在这里，AppViewModel 是元素列表的容器，每个元素都是它自己的 ItemViewModel，具有您似乎拥有的属性。

绑定 this 的 html 是这样的：

```
<table>
    <tbody data-bind="foreach: items">
    <tr>
        <td data-bind="text: name"></td>
        <td data-bind="text: major"></td>
        <td data-bind="text: sex"></td>
        <td><input data-bind='value: eng' /></td>
        <td><input data-bind='value: jap' /></td>
        <td><input data-bind='value: cal' /></td>
        <td><input data-bind='value: geo' /></td>
        <td><strong data-bind='text: total' /></td>
    </tr>
    </tbody>
</table> 
```

当您从服务器获取 JSON 时，您可以使用 Knockout 的[内置 JSON 内容](http://knockoutjs.com/documentation/json-data.html)、[映射插件](http://knockoutjs.com/documentation/plugins-mapping.html)或自己解析它们。我在[这个 jsfiddle](http://jsfiddle.net/XNaUg/1/)中使用后一个选项创建了一个示例。

# variables - pthread_cond_signal()s 和 pthread_cond_wait()s 错误/匹配的数量

> ID：15516426
> 
> 赞同：0
> 
> 时间：2013-03-20T06:03:23.203
> 
> 标签：variables, pthreads, conditional-statements

有 1 个生产者和 n 个消费者。生产者我们将 n 个作业分配给 n 个消费者，并调用 pthread_cond_wait() n 次以等待消费者完成分配的作业。每个 Consumer 消费完作业后调用 pthread_cond_signal() 通知生产者。

我的问题是“消费者对 pthread_cond_signal() 的 n 次调用是否会使生产者从 pthread_cond_wait() 中退出 n 次？或者是否存在将多个信号合并为单个信号以使 pthread_cond_wait() 出现少于 n 次的情况?

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-20T07:17:46.967

如果生产者实际上并没有在调用内部等待`pthread_cond_wait()`消费者线程调用`pthread_cond_signal()`，那么该信号将“丢失”（即，如果生产者线程稍后滚动到`pthread_cond_wait()`，它将阻塞，直到发送另一个信号）。

这就是为什么条件变量必须与其他一些“布尔谓词”一起使用，这些“布尔谓词”在持有与条件变量一起使用的互斥锁时进行检查。该谓词是决定是否等待的线程是否应该等待的实际最终决定。谓词是最终决定的另一个原因是阻塞的线程`pthread_cond_wait()`可以被虚假唤醒。

来自[POSIX 文档`pthread_cond_wait()`](http://pubs.opengroup.org/onlinepubs/000095399/functions/pthread_cond_wait.html)：

> 当使用条件变量时，总是有一个布尔谓词涉及与每个条件相关联的共享变量等待如果线程应该继续，则该条件等待为真。可能会发生来自 pthread_cond_timedwait() 或 pthread_cond_wait() 函数的虚假唤醒。由于 pthread_cond_timedwait() 或 pthread_cond_wait() 的返回并不意味着该谓词的任何值，因此应在此类返回时重新评估谓词。

# ios - 以 UIViewController 作为数据源的 UICollectionView

> ID：15516427
> 
> 赞同：0
> 
> 时间：2013-03-20T06:03:25.520
> 
> 标签：ios, uiviewcontroller, uicollectionview

我有一个字典数组，第一个键作为图像。我使用**UIViewController**作为数据源。

```
@interface myViewController () {
    NSMutableArray *textureArray1;
    NSMutableDictionary *dict1;
    UIImage *key1a; // UIImage
    NSString *key1b; // texture name
} 
```

使用 UIViewController 中布置的**TableView**控件填充此字典数组没有问题。

```
- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath {
    static NSString *CellIdentifier = @"cell";
    UITableViewCell *cell = [tableView dequeueReusableCellWithIdentifier:CellIdentifier];

    if (cell == nil) {
        cell = [[UITableViewCell alloc] initWithStyle:UITableViewCellStyleSubtitle reuseIdentifier:CellIdentifier];
    }
    UIImage *image = [[textureArray1 objectAtIndex:indexPath.row] objectForKey:key1a];
    cell.textLabel.text = [[textureArray1 objectAtIndex:indexPath.row] objectForKey:key1b];
    cell.imageView.image = image;
    return cell;
} 
```

我想做一些新的事情。我想用**UICollectionView**填充相同的图像数组，其中 UIViewController 是数据源。不幸的是，我在网上找到的许多教程都将 UICollectionViewController 作为数据源。无论如何，我有以下几行代码。

```
-(UICollectionViewCell *)collectionView:(UICollectionView *)collectionView cellForItemAtIndexPath:(NSIndexPath *)indexPath {
    UICollectionViewCell *cell = [collectionView dequeueReusableCellWithReuseIdentifier:@"cell" forIndexPath:indexPath];
    cell.backgroundColor = [UIColor colorWithPatternImage:[[textureArray1 objectAtIndex:indexPath.row] objectForKey:key1b]];
    return cell;
} 
```

并且应用程序崩溃并显示“无法识别的选择器发送到实例......”的错误，我不知道如何使用 UICollectionView。那么如何将 UICollectionView 与 UIViewController 一起使用呢？

谢谢您的帮助。

PS 以下是错误信息。

```
2013-03-20 10:21:07.777 iPadapp[2023:c07] -[__NSCFString _tiledPatternColor]: unrecognized selector sent to instance 0xdeacdf0
2013-03-20 10:21:07.778 iPadapp[2023:c07] *** Terminating app due to uncaught exception 'NSInvalidArgumentException', reason: '-[__NSCFString _tiledPatternColor]: unrecognized selector sent to instance 0xdeacdf0' 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-20T06:11:15.923

你需要在你的标题中说你的`UIViewController`is a `UICollectionViewDataSource`and 。[看到这个答案](https://stackoverflow.com/a/12654282/2089625)`UICollectionViewDelegate`

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-20T06:16:21.713

这是一个简单的例子。你的 viewController 应该符合`UICollectionViewDelegate`并且`UICollectionViewDelegateFlowLayout`

```
- (void)viewDidLoad
{
   [super viewDidLoad];

    // Create the collection view and add it as a sub view 
UICollectionViewFlowLayout *layout = [[UICollectionViewFlowLayout alloc] init];

layout.itemSize = CGSizeMake(120, 120);
layout.sectionInset = UIEdgeInsetsMake(20, 20, 20, 20);
layout.minimumInteritemSpacing =10.0f;
layout.minimumLineSpacing = 10.0f;

    self.collectionView = [[UICollectionView alloc] initWithFrame:self.view.bounds collectionViewLayout:layout];
self.collectionView.autoresizingMask = UIViewAutoresizingFlexibleWidth|UIViewAutoresizingFlexibleHeight;
self.collectionView.backgroundColor = [UIColor whiteColor];
self.collectionView.delegate = self;
self.collectionView.dataSource = self;

[self.collectionView registerClass:[UICollectionViewCell  class] forCellWithReuseIdentifier:@"cell"];

[self.view addSubview:self.collectionView];
}

 // Implement the required data source methods
- (NSInteger)collectionView:(UICollectionView *)collectionView numberOfItemsInSection:(NSInteger)section
 {
  return 50;
 }

   - (UICollectionViewCell *)collectionView:(UICollectionView *)collectionView cellForItemAtIndexPath:(NSIndexPath *)indexPath

  {
     static NSString *cellId =@"cell";
     CustomCell *cell = [collectionView dequeueReusableCellWithReuseIdentifier:cellId forIndexPath:indexPath];

     cell.backgroundColor =  [UIColor redColor]; 
  return cell;
 } 
```

# jquery - Firebug 在调试时跳过 $(document).ready(function() 之后的行

> ID：15516429
> 
> 赞同：1
> 
> 时间：2013-03-20T06:03:44.450
> 
> 标签：jquery, debugging, firebug, lines

我只想创建一个动态 URL。我正在调用 listServices 方法，它按预期工作，而我从 listService 调用的 getPortNumber 不起作用。我在 getPortNumber 方法中添加了错误点。我得到了 domainValue 的值，但我无法在 $(document).ready(function() 之后进行调试。控件直接返回 portNumber，在最终的 URL 中，我得到的端口号值未定义。我检查并验证了 port_url (json 文件)。我的 json 文件看起来像这样

```
{
"servers": [
    {
        "listeningPort": "6080",
        "shutdownPort": "8180",
        "redirectPort": "8443",
        "sslPort": "8443",
        "openWirePort": "61610",
        "jmxPort": "9332",
        "category": "Test A"
    }
} 
```

我被击中了。我希望这个问题不是因为从另一个方法调用 javascript 方法。

```
function getPortNumber()
{
  var portNumber;
       var domainValue = $("#domain").val();

    $(document).ready(function() {

        $.getJSON(port_url, function(result) {
            $.each(result, function() {
                $.each(this, function(k, v) {
                    if (v.category == domainValue) {
                        portNumber = v.listeningPort;
                        return false;
                    }
                });
            });
        });
    });
    return portNumber;
}

function listServices()
{
    $(document).ready(function() {
            $("#list").text("");
            var jList = $("#list");
            var listOfServers = $("#servers").text();
            var serverArray = listOfServers.split(",");
            for (var i = 0; i < serverArray.length; i++)
            {
                var port = getPortNumber();
                var tempURL = "http://"+serverArray[i].trim().toLowerCase()+".javaworkspace.com:"+port+"/services/listServices";
                jList.append("<li><a href="+tempURL+" target='_blank'>"+tempURL+"</a></li>");
            }
    });
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-20T06:06:17.180

您不需要`document.ready`在函数内部调用.....因为（我敢打赌）该函数是在文档准备好后调用的......

删除那个

```
function getPortNumber()
{
   var portNumber;
   var domainValue = $("#domain").val();

    $.getJSON(port_url, function(result) {
        $.each(result, function() {
            $.each(this, function(k, v) {
                if (v.category == domainValue) {
                    portNumber = v.listeningPort;
                    return false;
                }
            });
        });
    });

 return portNumber;
} 
```

并对另一个做同样的事情..

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-20T06:26:37.417

听起来您需要学习在 javascript 调试器中单步执行回调函数的艺术。它并不像您想要的那样简单。即使回调函数看起来像逻辑的下一行执行，它也不会进入回调函数。从技术上讲，它不是。当您说要跳过一行代码时，它会跳过该行代码所做的所有事情，包括它调用的任何回调函数。

当您越过`$(document).ready(function()`并且文档尚未准备好时，它不会执行回调函数并且调试器不会进入该函数。因此，如果您想查看实际执行该回调函数时会发生什么，您必须手动在该回调函数中放置一个断点。你不能一行一行地走进它。

`$.getJSON(port_url, function(result) {`你的电话和你的电话也是如此`$.each()`。当你说越过该`$.each()`函数时，它实际上是越过该函数并进入该函数之后的下一行。这会跳过整个回调。如果您想单步执行`$.each()`，您必须在回调中手动设置断点，或者您必须单步`$.each()`执行 jQuery 并观察它最终调用您的回调。

所以在这段代码中：

```
function getPortNumber()
{
  var portNumber;
       var domainValue = $("#domain").val();

    $(document).ready(function() {

        $.getJSON(port_url, function(result) {
            $.each(result, function() {
                $.each(this, function(k, v) {
                    if (v.category == domainValue) {
                        portNumber = v.listeningPort;
                        return false;
                    }
                });
            });
        });
    });
    return portNumber;
} 
```

如果您想查看内部`$.each()`循环中发生了什么，您必须在这一行设置一个断点`if (v.category == domainValue) {`并让代码运行直到它到达该断点。在调试器中单步执行 getPortNumber() 将在您使用回调函数的四个地方遇到问题：`$(document).ready()`、`$.getJSON()`和。因此，要进入其中，您需要在其中设置一个断点并让代码运行直到它到达该断点。`$.each()``$.each()`

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-20T16:45:30.433

从 getPortNumber 中删除 $(document).ready(function() 后，$.getJSON(port_url, function(result) { 之后的调试跳过代码。Firebug 没有报告任何错误。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-20T06:06:20.643

如果那里存在一些错误，那么它将跳过。

你为什么用`$(document).ready(function()`

# java - sqlite 数据库错误：sqlite 返回：错误代码 = 1，msg = 没有这样的列：ph_number

> ID：15516437
> 
> 赞同：0
> 
> 时间：2013-03-20T06:05:02.423
> 
> 标签：java, android, sqlite

我正在使用 sqlite 数据库开发应用程序，该数据库具有一个存储**id**、**name**、**number**和**block的表名****注释**。

 ******现在我每次运行应用程序时都会出错

> sqlite 返回：错误代码 = 1，msg = 没有这样的列：ph_number

代码如下..

```
public class MySQLiteHelper extends SQLiteOpenHelper {

  public static final String TABLE_COMMENTS = "comments";
  public static final String COLUMN_ID = "_id";
  public static final String COLUMN_COMMENT = "comment";
  public static final String COLUMN_NUMBER = "ph_number";
  public static final String COLUMN_BLOCK = "block";

  private static final String DATABASE_NAME = "commments.db";
  private static final int DATABASE_VERSION = 1;

  // Database creation sql statement
  private static final String DATABASE_CREATE = "create table "
      + TABLE_COMMENTS + "(" + COLUMN_ID
      + " integer primary key autoincrement, " + COLUMN_COMMENT
      + " TEXT," + COLUMN_NUMBER + " TEXT," 
      + COLUMN_BLOCK +" TEXT," +"UNIQUE(COLUMN_NUMBER) ON CONFLICT REPLACE"+ ");";

  public MySQLiteHelper(Context context) {
    super(context, DATABASE_NAME, null, DATABASE_VERSION);
  }

  @Override
  public void onCreate(SQLiteDatabase database) {
    database.execSQL(DATABASE_CREATE);
  }

  @Override
  public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {
    Log.w(MySQLiteHelper.class.getName(),
        "Upgrading database from version " + oldVersion + " to "
            + newVersion + ", which will destroy all old data");
    db.execSQL("DROP TABLE IF EXISTS " + TABLE_COMMENTS);
    onCreate(db);
  }

} 
```

这是二等代码..

```
public class CommentsDataSource {

  // Database fields
  private SQLiteDatabase database;
  private MySQLiteHelper dbHelper;
  private String[] allColumns = { MySQLiteHelper.COLUMN_ID,
      MySQLiteHelper.COLUMN_COMMENT,
      MySQLiteHelper.COLUMN_NUMBER,
      MySQLiteHelper.COLUMN_BLOCK};
  private String[] ColNum = {MySQLiteHelper.COLUMN_NUMBER, MySQLiteHelper.COLUMN_BLOCK };
  private String[] num = {MySQLiteHelper.COLUMN_NUMBER };

  public CommentsDataSource(Context context) {
    dbHelper = new MySQLiteHelper(context);
  }
  public CommentsDataSource() {
        //dbHelper = new MySQLiteHelper(context);
      }

  public void open() throws SQLException {
    database = dbHelper.getWritableDatabase();
  }

  public void close() {
    dbHelper.close();
  }

  public Comment createComment(String comment, String number, String b_value) {
    ContentValues values = new ContentValues();
    values.put(MySQLiteHelper.COLUMN_COMMENT, comment);
    values.put(MySQLiteHelper.COLUMN_NUMBER, number);
    values.put(MySQLiteHelper.COLUMN_BLOCK, b_value);
    long insertId = database.insert(MySQLiteHelper.TABLE_COMMENTS, null,
        values);
    Cursor cursor = database.query(MySQLiteHelper.TABLE_COMMENTS,
        allColumns, MySQLiteHelper.COLUMN_ID + " = " + insertId, null,
        null, null, null);
    cursor.moveToFirst();
    Comment newComment = cursorToComment(cursor);
    cursor.close();
    return newComment;
  }

  public void deleteComment(Comment comment) {
    long id = comment.getId();
    System.out.println("Comment deleted with id: " + id);
    database.delete(MySQLiteHelper.TABLE_COMMENTS, MySQLiteHelper.COLUMN_ID
        + " = " + id, null);
  }

  public List<Comment> getAllComments() {
        List<Comment> comments = new ArrayList<Comment>();
        try{
        Cursor cursor = database.query(MySQLiteHelper.TABLE_COMMENTS,
            allColumns, null, null, null, null, null);

        cursor.moveToFirst();
        while (!cursor.isAfterLast()) {
          Comment comment = cursorToComment(cursor);
          comments.add(comment);
          cursor.moveToNext();
        }
        // Make sure to close the cursor
        cursor.close();
        }catch (Exception e) {
            // TODO: handle exception
        }

        return comments;
      }
// Updating single contact
    public Comment updateContact(Comment comment, String name ,String number, String b_value) {
        database = dbHelper.getWritableDatabase();
        long id = comment.getId();
        ContentValues values = new ContentValues();
        values.put(MySQLiteHelper.COLUMN_COMMENT, name);
        values.put(MySQLiteHelper.COLUMN_NUMBER, number);
        values.put(MySQLiteHelper.COLUMN_BLOCK, b_value);
        System.out.println("updated: "+ id);
        // updating row
        long updateId = database.update(MySQLiteHelper.TABLE_COMMENTS, values, 
                MySQLiteHelper.COLUMN_ID + " = " + id, null);
        Cursor cursor = database.query(MySQLiteHelper.TABLE_COMMENTS,
                allColumns, MySQLiteHelper.COLUMN_ID + " = " + id, null,
                null, null, null);
            cursor.moveToFirst();
            Comment newComment = cursorToComment(cursor);
            cursor.close();
            System.out.println("updated: "+ newComment);
            return newComment;
    }

  private Comment cursorToComment(Cursor cursor) {
    Comment comment = new Comment();
    comment.setId(cursor.getLong(0));
    comment.setName(cursor.getString(1));
    comment.setNumber(cursor.getString(2));
    comment.setB_value(cursor.getString(3));
    return comment;
  }

 public String getValue(String phNum) {
        String value = null;
        String b_value =null ;
        Cursor cursor = database.query(MySQLiteHelper.TABLE_COMMENTS,
            ColNum, null, null, null, null, null);
        cursor.moveToFirst();
        while (!cursor.isAfterLast()) {
          value = cursor.getString(0);
          if(PhoneNumberUtils.compare(phNum, value))
          {
              b_value = cursor.getString(1);
          }
          cursor.moveToNext();
        }
        // Make sure to close the cursor
        cursor.close();
        return b_value;
      }
 public boolean findNum(String phNum) {
        String value = null;
        boolean find =false ;
        Cursor cursor = database.query(MySQLiteHelper.TABLE_COMMENTS,
            num, null, null, null, null, null);
        cursor.moveToFirst();
        while (!cursor.isAfterLast()) {
          value = cursor.getString(0);
          if(PhoneNumberUtils.compare(phNum, value))
          {
              find = true;
          }
          cursor.moveToNext();
        }
        // Make sure to close the cursor
        cursor.close();
        return find;
      }
} 
```

我已将 ph_number 列声明为。

```
 public static final String COLUMN_NUMBER = "ph_number"; 
```

但我仍然收到错误消息`sqlite returned: error code = 1, msg = no such column: ph_number`

我在这方面浪费了很多时间，但无法纠正。请帮我 ..

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-20T08:16:14.360

试试这个

```
 // Database creation sql statement
  private static final String DATABASE_CREATE = "create table "
  + TABLE_COMMENTS + "(" + COLUMN_ID
  + " integer primary key autoincrement, " + COLUMN_COMMENT
  + " TEXT," + COLUMN_NUMBER + " TEXT," 
  + COLUMN_BLOCK +" TEXT," +"UNIQUE("+ COLUMN_NUMBER +") ON CONFLICT REPLACE"+ ");"; 
```

代替

```
 // Database creation sql statement
  private static final String DATABASE_CREATE = "create table "
  + TABLE_COMMENTS + "(" + COLUMN_ID
  + " integer primary key autoincrement, " + COLUMN_COMMENT
  + " TEXT," + COLUMN_NUMBER + " TEXT," 
  + COLUMN_BLOCK +" TEXT," +"UNIQUE(COLUMN_NUMBER) ON CONFLICT REPLACE"+ ");"; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-20T06:14:37.320

我认为返回的错误sqlite：错误代码= 1，msg =没有这样的列：ph_number是因为，

在您的数据库代码中，公共静态最终字符串 COLUMN_NUMBER = "ph_number"; 包含列名称为 ph_number。

根据我的理解，您说数据库包含一个存储 id、name、number 和 block 的表名注释。所以你的列名可能是数字。

所以像这个 public static final String COLUMN_NUMBER = "number" 一样改变这一行，现在检查一下。因为表和程序中的列应该相同。所以可能你不会得到这样的列错误******

# .net - 如何使用 Ideablade 谓词描述在 where 子句中添加多个 And 和 Or

> ID：15516438
> 
> 赞同：1
> 
> 时间：2013-03-20T06:05:12.853
> 
> 标签：.net, c#-4.0, predicatebuilder, devforce

我们如何在ideablade的谓词描述的where子句中添加多个Or和And运算。前任。

```
 List < PredicateDescription > pdList = new List< PredicateDescription >();

 Dictionary< int, List< PredicateDescription>> pdDateList = new Dictionary< int,  List< PredicateDescription>>();

 var pds = pdList.ToArray();

 if (((pds.Length > 0) || (pdDateList.Count > 0)))
 {

     CompositePredicateDescription predicate = null;
     if (pds.Length > 0)
     {
                predicate = PredicateBuilder.And(pds);
     }                    
     List<PredicateDescription> AndList = null;                    
     CompositePredicateDescription compositePredicateDescription = null;
     for (int i = 0; i < pdDateList.Count; i++)
     {  
           List<PredicateDescription> pdlist1 =  pdDateList[i];
           AndList = new List<PredicateDescription>();
           foreach (PredicateDescription pdesc in pdlist1) 
           {
                  AndList.Add(pdesc);
           }
           if (AndList.Count > 0) 
           {   
                 if (predicate != null)
                 {
                        if (AndList.Count == 2)
                        {
                            predicate.Or(AndList[0].And(AndList[1]));
                        }
                        else if (AndList.Count == 1)
                        {
                            predicate.Or(AndList[0]);
                        }
                 }
           }
     }
}

if (predicate == null)

{

 predicate = compositePredicateDescription;

}

                var filterQuery = query.Where(predicate);                    
                data = Globals.sLDManager.ExecuteQuery(filterQuery); 
```

如上所述，我尝试在中添加 Or 运算符`CompositePredicateDescription`，但它不起作用

我想运行以下查询 -

`Select * from Tabel1 where t.field1=1 and t.field2=1 and t.field3=1 Or ( t.field4=1 and t.field5=1) Or (t.field6=1 and t.field7=1)`

如何使用ideablade 运行以上查询。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-20T20:20:33.433

您应该能够`CompositePredicateDescription`在这种情况下毫无问题地使用。它怎么不工作？

这是一个例子：

```
 PredicateDescription p1 = PredicateBuilder.Make(typeof(Product), "UnitPrice", FilterOperator.IsGreaterThanOrEqualTo, 24);
  PredicateDescription p2 = PredicateBuilder.Make(typeof(Product), "Discontinued", FilterOperator.IsEqualTo, true);

  CompositePredicateDescription p3 = p1.And(p2);

  PredicateDescription p4 = PredicateBuilder.Make(typeof(Product), "UnitsInStock", FilterOperator.IsGreaterThanOrEqualTo, 1);
  PredicateDescription p5 = PredicateBuilder.Make(typeof(Product), "UnitsOnOrder", FilterOperator.IsGreaterThanOrEqualTo, 1);

  CompositePredicateDescription p6 = p1.And(p2);

  CompositePredicateDescription p7 = p3.Or(p6);

  var query = mgr.Products.Where(p7); 
```

上面的代码将生成下面的 WHERE 语句（来自 SQL Profiler），它与查询中的 WHERE 语句具有相同的模式：

```
WHERE (([Extent1].[UnitPrice] >= cast(24 as decimal(18))) AND (1 = [Extent1].[Discontinued])) OR (([Extent1].[UnitPrice] >= cast(24 as decimal(18))) AND (1 = [Extent1].[Discontinued])) 
```

如果您还没有这样做，您可能需要查看[DevForce 资源中心](http://drc.ideablade.com/xwiki/bin/view/Documentation/dynamic-where)关于动态 WHERE 子句的文章。

# google-visualization - 如果 Google Charts API 中没有结果，则回退文本

> ID：15516440
> 
> 赞同：0
> 
> 时间：2013-03-20T06:05:17.320
> 
> 标签：google-visualization, googlevis

我无法从谷歌图表（谷歌可视化 API）中找到正确的函数，如果没有数据提供给它/提供的数据不产生图表（例如：所有 y 值 0），则该函数将设置显示的文本/消息

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-06-03T19:35:04.633

您可以使用[http://modernizr.com/](http://modernizr.com/) 尝试使用 svg 回退；）如果浏览器不支持 SVG，您可以显示更新消息或将 JSON 转换为表格。

# c# - reportviewer.LocalReport.GetTotalPages() 有时返回 1 或 2

> ID：15516444
> 
> 赞同：0
> 
> 时间：2013-03-20T06:05:26.330
> 
> 标签：c#, winforms, c#, winforms, reportviewer

在我的[c#](/questions/tagged/c%23 "显示标记为“c#”的问题") [winforms](/questions/tagged/winforms "显示标记为“winforms”的问题")应用程序中，我使用了一个用户控件，并添加了我的报表查看器和一个自定义工具栏。我也想为它创建一个自定义导航。但是，由于某种原因，当我想检查总页数以决定是否显示导航按钮时，它有时会返回 1 或 2 ......我已经没有想法了，不太确定从哪里开始这里..

**代码在这里**

```
if (rvReports.LocalReport.GetTotalPages() > 1)
{
    liFirst.Visible = true;
    liPrevious.Visible = true;
    liNext.Visible = true;
    liLast.Visible = true;
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-20T06:10:49.173

页数可能因报告中的数据而异，甚至可能因连接/所选打印机的相同数据而异。如果页数是基于表单的，它甚至可能会因表单的大小或显示器的分辨率而异。如果您想知道为什么有时是 1 有时是 2，您应该找出不同之处，甚至可以打印每个案例的报告并查看它。仅查看页数不会得到任何结果。

# mysql - 带自动 %H:%i:%s 的 Mysql 时间格式

> ID：15516449
> 
> 赞同：0
> 
> 时间：2013-03-20T06:05:43.877
> 
> 标签：mysql, mysql5

这是我从秒中选择时间的 mysql 查询。

```
SELECT TIME_FORMAT(SEC_TO_TIME(120),'%H:%i' ) 
```

这将返回为 00:02（小时和分钟）

如果有一个小时和一分钟，我需要自动显示时间小时，分钟，秒。无需显示为 00:00:10。

有没有 mysql 功能可以做到这一点？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-20T09:00:26.460

表`ss`：

```
id
50
70
3700 
```

询问：

**[SQLFIDDLE示例](http://sqlfiddle.com/#!2/f5ab2/2)**

```
SELECT 
CASE WHEN id <60
      THEN TIME_FORMAT(SEC_TO_TIME(id),'%s' )
     WHEN id >= 60 AND id < 3600
      THEN TIME_FORMAT(SEC_TO_TIME(id),'%i:%s' )
     ELSE TIME_FORMAT(SEC_TO_TIME(id),'%H:%i:%s' ) END Time
 FROM ss 
```

结果：

```
|     TIME |
------------
|       50 |
|    01:10 |
| 01:01:40 | 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-20T06:15:33.387

你可以试试这个

```
SELECT sec_to_time(now()) 
```

此功能会自动为您提供 H:M:S 时间

# java - 有没有办法将数据 drupal 站点传递给 java web applicatiom

> ID：15516458
> 
> 赞同：0
> 
> 时间：2013-03-20T06:06:32.280
> 
> 标签：java, drupal-6

有没有办法将 drupal 6 站点中的申请表传递给 java web 应用程序？

我的客户问我这个问题，我们可以将数据从用 drupal webform 开发的应用程序表单传递到 java web 应用程序，有人可以帮忙吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-20T06:22:41.353

做事方式，

**使用`<form>`：**`action`在属性中设置您的 java web url

```
<form name="app_form" method="post" action="YOUR_JAVA_WEB_URL">
  ...
  ...
</form> 
```

**[使用卷曲](http://php.net/manual/en/book.curl.php)：**

cURL 允许您使用许多不同类型的协议连接和通信到许多不同类型的服务器。这是将 POST 数据发送到不同服务器的示例代码，

```
<?php    
  $ch = curl_init();

  $data = array('name' => $_POST['name'], 'age' => $_POST['age']);

  curl_setopt($ch, CURLOPT_URL, 'YOUR_JAVA_WEB_URL');
  curl_setopt($ch, CURLOPT_POST, 1);
  curl_setopt($ch, CURLOPT_POSTFIELDS, $data);

  curl_exec($ch);
?> 
```

# java - SessionFactory bean 创建失败（抛出 ClassCastException）

> ID：15516460
> 
> 赞同：1
> 
> 时间：2013-03-20T06:06:43.513
> 
> 标签：java, hibernate, spring-mvc, sessionfactory

我正在尝试创建一个 SessionFactory bean。我的代码如下：

```
@Bean
public SessionFactory sessionFactory() {
    return new LocalSessionFactoryBuilder(dataSource()).scanPackages("com.package").buildSessionFactory();
}

@Bean
public DataSource dataSource() {
    BasicDataSource dataSource = new BasicDataSource();
    dataSource.setDriverClassName("com.mysql.jdbc.Driver");
    dataSource.setUrl("jdbc:mysql://localhost:3306/csu_library");
    dataSource.setUsername("csulibrary");
    dataSource.setPassword("csulibrary");
    dataSource.setMaxActive(10);
    dataSource.setMaxIdle(5);
    dataSource.setInitialSize(5);

    return dataSource;
} 
```

抛出的异常如下：

```
Caused by: java.lang.ClassCastException: org.hibernate.mapping.SingleTableSubclass cannot be cast to org.hibernate.mapping.RootClass 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-20T07:22:01.247

当您在 POJO 超类中使用继承时，应该将 uniqueId 作为主键，如果您不这样做，子类只能将其用作外键，我觉得您会陷入此异常。尝试使子类主键不同，并在超类和子类之间提供外键连接。检查这是一个解决的好例子： [Spring 3.1 Hibernate 4 exception for Inheritance [cannot be cast to org.hibernate.mapping.RootClass]](https://stackoverflow.com/q/12087011/2006839)

# git - Git：功能分支的纯合并

> ID：15516461
> 
> 赞同：0
> 
> 时间：2013-03-20T06:06:46.977
> 
> 标签：git, merge

我有以下情况：

```
mainline ---x----NNN-----x---------
            |            |
            |   feature  yyyyyyyy
release     x ----------------------x 
```

我喜欢在发布分支中有功能分支。但我喜欢让它“纯粹”，这意味着我不喜欢在版本中包含提交 NNN。

一种选择是创建一个新分支并执行 rebase --onto

```
git branch feature_for_release feature
git rebase --onto release mainline feature_for_release
git checkout release
git merge feature_for_release
git branch -d feature_for_release 
```

但是我不喜欢仅仅为了合并而创建新的分支，而且这个方法很长。

有这样的解决方案吗？

```
git checkout release
git merge feature --without mainline 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-20T06:08:18.050

你可以从你的特性分支中[挑选](https://www.kernel.org/pub/software/scm/git/docs/git-cherry-pick.html)一系列提交到你的发布分支。

# c# - 调用 ToList() 时是否会影响性能？

> ID：15516462
> 
> 赞同：164
> 
> 时间：2013-03-20T06:06:47.207
> 
> 标签：c#, arrays, performance, list

使用时`ToList()`，是否需要考虑性能影响？

我正在编写一个查询以从目录中检索文件，即查询：

`string[] imageArray = Directory.GetFiles(directory);`

但是，由于我喜欢与之合作，因此`List<>`我决定放入...

`List<string> imageList = Directory.GetFiles(directory).ToList();`

那么，在决定进行这样的转换时是否应该考虑某种性能影响 - 或者只在处理大量文件时考虑？这是一个微不足道的转换吗？

* * *

## 回答 #1

> 赞同：199
> 
> 时间：2013-03-20T07:20:00.377

## `IEnumerable.ToList()`

是的，[`IEnumerable<T>.ToList()`](http://msdn.microsoft.com/en-us/library/bb342261.aspx)确实有性能影响，它是一个*O(n)*操作，尽管它可能只需要在性能关键操作中注意。

该`ToList()`操作将使用[`List(IEnumerable<T> collection)`](http://msdn.microsoft.com/en-us/library/fkbw11z0.aspx)构造函数。此构造函数必须制作数组的副本（更一般地`IEnumerable<T>`），否则原始数组的未来修改将在源上发生更改，`T[]`这通常也是不可取的。

我想重申这只会对一个巨大的列表产生影响，复制内存块是一个非常快速的操作。

## 方便的提示，`As`vs`To`

您会注意到在 LINQ 中有几个以`As`（例如[`AsEnumerable()`](http://msdn.microsoft.com/en-us/library/bb335435.aspx)）和`To`（例如[`ToList()`](http://msdn.microsoft.com/en-us/library/bb342261.aspx)）开头的方法。以开头的方法`To`需要像上面那样的转换（即可能会影响性能），以开头的方法`As`不需要并且只需要一些转换或简单的操作。

## 其他详细信息`List<T>`

`List<T>`如果您有兴趣，这里有一些关于如何工作的更多细节:)

A`List<T>`还使用一种称为动态数组的结构，该结构需要按需调整大小，此调整大小事件将旧数组的内容复制到新数组。所以它从小开始，[如果需要，它的大小会增加](https://stackoverflow.com/a/15446006/1156119)。

[`Capacity`](http://msdn.microsoft.com/en-us/library/y52x03h2.aspx)这就是和上的[`Count`](http://msdn.microsoft.com/en-us/library/27b47ht3.aspx)属性之间的区别[`List<T>`](http://msdn.microsoft.com/en-us/library/6sh2ey19.aspx)。`Capacity`指的是幕后数组的大小，`Count`是其中的项数，`List<T>`始终为`<= Capacity`。因此，当将一个项目添加到列表中时，将其增加到过去`Capacity`， 的大小将`List<T>`加倍并复制数组。

* * *

## 回答 #2

> 赞同：42
> 
> 时间：2013-03-20T06:43:06.960

> 调用 toList() 时是否会影响性能？

是的当然。从理论上讲，它甚至`i++`会对性能产生影响，它会使程序减慢几个滴答声。

**做什么`.ToList`？**

当您调用`.ToList`时，代码会调用`Enumerable.ToList()`一个扩展方法，即`return new List<TSource>(source)`. 在对应的构造函数中，*最坏的情况下，*它会遍历item container，将它们一个一个添加到一个新的容器中。所以它的行为对性能影响很小。成为应用程序的性能瓶颈是不可能的。

**问题中的代码有什么问题**

`Directory.GetFiles`遍历文件夹并将所有文件的名称*立即*返回到内存中，字符串 [] 可能会占用大量内存，从而减慢一切速度。

**那应该怎么办**

这取决于。如果您（以及您的业务逻辑）保证文件夹中的文件量总是很小，那么代码是可以接受的。但仍然建议使用惰性版本：`Directory.EnumerateFiles`在 C#4 中。这更像是一个查询，不会立即执行，您可以在其上添加更多查询，例如：

```
Directory.EnumerateFiles(myPath).Any(s => s.Contains("myfile")) 
```

一旦找到名称包含“myfile”的文件，它将停止*搜索路径。*这显然是有更好的表现呢`.GetFiles`。

* * *

## 回答 #3

> 赞同：22
> 
> 时间：2013-03-20T07:32:03.807

> 调用 toList() 时是否会影响性能？

就在这里。使用扩展方法将从源集合中`Enumerable.ToList()`构造一个新`List<T>`对象，这当然会对性能产生影响。`IEnumerable<T>`

但是，了解`List<T>`可能会帮助您确定性能影响是否显着。

`List<T>`使用数组 ( `T[]`) 来存储列表的元素。数组一旦分配就无法扩展，因此`List<T>`将使用超大数组来存储列表的元素。当`List<T>`增长超过底层数组的大小时，必须分配一个新数组，并且必须将旧数组的内容复制到新的更大的数组中，然后列表才能增长。

`List<T>`当从 an 构造一个 new 时，`IEnumerable<T>`有两种情况：

1.  源集合实现`ICollection<T>`： 然后`ICollection<T>.Count`用于获取源集合的确切大小，并在源集合的所有元素使用 复制到支持数组之前分配匹配的支持数组`ICollection<T>.CopyTo()`。此操作非常有效，并且可能会映射到一些用于复制内存块的 CPU 指令。但是，就性能而言，新数组需要内存，并且复制所有元素需要 CPU 周期。

2.  否则源集合的大小是未知的，并且枚举`IEnumerable<T>`器用于将每个源元素一次添加到新的`List<T>`. 最初，后备数组为空，并创建了一个大小为 4 的数组。然后，当这个数组太小时，大小会加倍，因此后备数组会像 4、8、16、32 等一样增长。每次后备数组增长时，都必须重新分配它，并且必须复制到目前为止存储的所有元素。与可以立即创建正确大小的数组的第一种情况相比，此操作的成本要高得多。

    此外，如果您的源集合包含 33 个元素，则列表最终将使用 64 个元素的数组，从而浪费一些内存。

在您的情况下，源集合是一个实现的数组，`ICollection<T>`因此除非您的源数组非常大，否则您不应该担心性能影响。调用`ToList()`将简单地复制源数组并将其包装在一个`List<T>`对象中。即使是第二种情况的性能，对于小型集合来说也不必担心。

* * *

## 回答 #4

> 赞同：5
> 
> 时间：2013-03-20T06:35:48.247

它将与执行以下操作一样（无效）：

```
var list = new List<T>(items); 
```

如果你反汇编构造函数的源代码`IEnumerable<T>`，你会看到它会做一些事情：

*   Call `collection.Count`，所以如果`collection`是 an `IEnumerable<T>`，它将强制执行。如果`collection`是数组、列表等，它应该是`O(1)`.

*   如果`collection`implements `ICollection<T>`，它将使用该方法将项目保存在内部数组中`ICollection<T>.CopyTo`。它*应该*是`O(n)`, 是`n`集合的长度。

*   如果`collection`没有实现`ICollection<T>`，它将遍历集合的项目，并将它们添加到内部列表中。

所以，是的，它会消耗更多的内存，因为它必须创建一个新列表，**在最坏的情况下，它会是`O(n)`**，因为它会遍历`collection`以复制每个元素。

* * *

## 回答 #5

> 赞同：5
> 
> 时间：2013-03-20T07:12:29.003

> “是否有需要考虑的性能影响？”

您的精确场景的问题是，您对性能的真正关注首先是硬盘驱动器的速度和驱动器缓存的效率。

从这个角度来看，影响肯定可以忽略不计，以至于**不需要**考虑。

但只有当你真的需要`List<>`结构的特性来提高你的生产力，或者你的算法更友好，或者其他一些优势时。否则，你只是故意添加一个微不足道的性能影响，完全没有理由。在这种情况下，您自然不应该这样做！:)

* * *

## 回答 #6

> 赞同：4
> 
> 时间：2013-03-20T06:22:55.413

`ToList()`创建一个新的 List 并将元素放入其中，这意味着 do 有相关的成本`ToList()`。在小集合的情况下，成本不会很明显，但是在使用 ToList 的情况下，拥有大量集合可能会导致性能下降。

通常你不应该使用 ToList() 除非你正在做的工作不能在不将集合转换为列表的情况下完成。例如，如果您只想遍历集合，则不需要执行 ToList

如果您正在对数据源（例如使用 LINQ to SQL 的数据库）执行查询，那么执行 ToList 的成本要高得多，因为当您将 ToList 与 LINQ to SQL 一起使用而不是执行延迟执行时，即在需要时加载项目（这可能是有益的在许多情况下）它会立即将数据库中的项目加载到内存中

* * *

## 回答 #7

> 赞同：3
> 
> 时间：2013-03-20T06:23:42.417

考虑到检索文件列表的性能，`ToList()`可以忽略不计。但并非真的适用于其他场景。这真的取决于你在哪里使用它。

*   在调用数组、列表或其他集合时，您可以将集合的副本创建为`List<T>`. 这里的性能取决于列表的大小。你应该在真正需要的时候这样做。

    在您的示例中，您在数组上调用它。它遍历数组并将项目一项一项添加到新创建的列表中。所以性能影响取决于文件的数量。

*   当调用 an `IEnumerable<T>`时，您会具体*化*`IEnumerable<T>`（通常是查询）。

* * *

## 回答 #8

> 赞同：2
> 
> 时间：2013-03-20T06:25:13.877

ToList 将创建一个新列表并将元素从原始源复制到新创建的列表，因此唯一的事情就是从原始源复制元素并取决于源大小

# ios - UIScrollView 不起作用

> ID：15516466
> 
> 赞同：2
> 
> 时间：2013-03-20T06:07:01.117
> 
> 标签：ios, ios6, uiscrollview, storyboard, xcode4.6

我整个早上都在为此苦苦挣扎 3 个多小时，我真的快疯了！

我正在使用 Xcode 4.6 为 iOS 6 创建一个 Storyboard 应用程序。我将 a 拖放`UIScrollView`到 ViewController 中。在设计了 Scroll 视图的可视部分之后，我使用它的手柄将它垂直拉伸并向上推了一点，以便我可以看到该部分来设计屏幕的其余部分。完成后，我将滚动视图放回以适应视图。但我没有调整滚动视图的大小以匹配来自 IB 的视图大小。

我在方法中添加了以下代码行`viewDidLayoutSubviews`（使用该方法而不是`viewDidLoad`因为 Chris[在这里](https://stackoverflow.com/a/13190030/1077789)的评论）。

```
self.scrollView.contentSize = self.view.frame.size; 
```

代码被执行，但滚动条不会出现，并且滚动根本不起作用！我在这里经历了几乎所有关于此的问题和答案，并尝试了一切但无济于事。

[我也在此处](http://www2.zippyshare.com/v/66771661/file.html)附加了可运行的 Xcode 项目。

请告诉我我应该怎么做才能让它工作。我永远对苹果感到沮丧。

谢谢你。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-20T06:25:25.983

不过这很容易。删除 viewDidLayoutSubviews 方法并用以下代码替换 viewDidLoad。高度 672 现在是硬编码的.. 但它会根据滚动视图中的内容而改变。

```
- (void)viewDidLoad
{
    [super viewDidLoad];
     self.scrollView.contentSize = CGSizeMake(self.view.frame.size.width, 627);
    self.scrollView.frame = self.view.frame;
} 
```

在情节提要中，执行以下步骤 1\. 选择查看并转到尺寸检查器。2\. 从约束中选择底部空间。3\. 编辑底部空间约束并将常量值设置为 0（它是 -211）。

链接更新源代码：[http ://www54.zippyshare.com/v/37137086/file.html](http://www54.zippyshare.com/v/37137086/file.html)

希望这可以帮助。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-20T06:13:15.733

UIScrollViews 只有在 contentSize 大于它们的 frame 时才会滚动。如果它小于或等于它们的框架，它们将就像视图一样。

如果你想测试一下，试试：

```
self.scrollView.contentSize = CGSizeMake(self.scrollView.frame.size.width,self.scrollView.frame.size.height+200); 
```

# sql-server - 脚本文件打开另一个 SSMS 实例

> ID：15516468
> 
> 赞同：0
> 
> 时间：2013-03-20T06:07:21.253
> 
> 标签：sql-server, sql-server-2008, ssms, sql-server-2008-express, sql-scripts

我的 Sql Server 处理脚本文件的方式一直很奇怪。当我单击 .sql 文件时，会启动另一个 SSMS 实例。如果我点击另一个，第 3 个实例会触发。他们都要求进行身份验证。当我从模板资源管理器中单击随机模板时，也会发生相同的行为。它不会立即打开。即使从已经连接的实例中，我仍然必须通过身份验证阶段。我在网上花费了合理的时间寻找解决方案，但显然不是每个人都必须处理这个令人沮丧的问题。谢谢大家的意见和建议。PS：我使用的是 2008 R2 Express Edition（64 位）。Windows 身份验证模式。也许这可能对进一步的建议有用：我在 64 位机器上，但我也有 C：\Program Files (x86)\Microsoft SQL Server\100\ 目录。同样，我桌面上的 SSMS 快捷方式指向这个目录 C:\Program Files (x86)\Microsoft SQL Server\100\Tools\Binn\VSShell\Common7\IDE （对不起这个问题的这种糟糕的布局，段落转被忽略。）

# android - Android 媒体播放器：在状态 4 错误（-38,0）中调用启动

> ID：15516469
> 
> 赞同：24
> 
> 时间：2013-03-20T06:07:22.890
> 
> 标签：android, android-asynctask, media-player, android-assets

这是用于从其他类动态获取文件名（.mp3）的代码，因为我的资产文件夹中有许多 mp3 文件：

```
playAudioButton.setOnClickListener(new OnClickListener() {

            @Override
            public void onClick(View v) 
            {
                FileName audio=new FileName();
                String audioName=audio.getAudioName(count).toString();
                if(audioName=="NO Audio")
                {

                    Toast.makeText(getApplicationContext(), "No Audio for this page", Toast.LENGTH_SHORT).show();

                }
                else
                {

                    try {
                        afd=getAssets().openFd(audioName + ".mp3");
                        mp = new MediaPlayer();
                        mp.setDataSource(afd.getFileDescriptor(),afd.getStartOffset(),afd.getLength());
                        mp.prepareAsync();
                        mp.start();

                    } catch (IllegalArgumentException e) {
                        // TODO Auto-generated catch block
                        e.printStackTrace();
                    } catch (IllegalStateException e) {
                        // TODO Auto-generated catch block
                        e.printStackTrace();
                    } catch (IOException e) {
                        // TODO Auto-generated catch block
                        e.printStackTrace();
                    }
                }

            }
        });

    } 
```

原木猫：

```
03-20 11:21:28.726: E/SpannableStringBuilder(4418): SPAN_EXCLUSIVE_EXCLUSIVE spans cannot have a zero length
03-20 11:21:28.726: E/SpannableStringBuilder(4418): SPAN_EXCLUSIVE_EXCLUSIVE spans cannot have a zero length
03-20 11:22:24.968: D/libEGL(4579): loaded /vendor/lib/egl/libEGL_POWERVR_SGX540_120.so
03-20 11:22:24.976: D/libEGL(4579): loaded /vendor/lib/egl/libGLESv1_CM_POWERVR_SGX540_120.so
03-20 11:22:24.984: D/libEGL(4579): loaded /vendor/lib/egl/libGLESv2_POWERVR_SGX540_120.so
03-20 11:22:25.070: D/OpenGLRenderer(4579): Enabling debug mode 0
03-20 11:22:38.773: E/MediaPlayer(4579): start called in state 4
03-20 11:22:38.773: E/MediaPlayer(4579): error (-38, 0)
03-20 11:22:38.773: E/MediaPlayer(4579): Error (-38,0) 
```

需要注意的点： 1\. 我已经检查过堆栈溢出的类似线程，答案是使用 prepareAsync() 2\. 我使用过 prepareAsync()

提前致谢。

* * *

## 回答 #1

> 赞同：24
> 
> 时间：2013-03-20T06:18:33.433

您也可以使用下面`onPrepared()`的方法来调用 start 方法，以便在准备好`start()`之后调用`MediaPlayer`。

```
mp.setOnPreparedListener(new MediaPlayer.OnPreparedListener() {
        @Override
        public void onPrepared(MediaPlayer mp) {
            // TODO Auto-generated method stub

            mp.start();

        }
    }); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-20T06:13:35.413

除了使用这种`preparedSync/prepare`方法，`MediaPlayer`您只需将转换为 URI 的文件路径传递给`MediaPlayer.create()`

```
MediaPlayer mediaPlayer = MediaPlayer.create(context, URI.parse("file://"+filePath)); 
```

这将准备好并开始播放

或者另一种方法是使用`onPrepareListener()`然后`MediaPlayer`从这个准备开始播放

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2018-03-04T22:44:40.530

状态 4 表示 Mediaplayer 处于准备状态

我们称其他动作为

```
Mediaplayer.start() 
Mediaplayer.stop() 
Mediaplayer.pause() 
```

或任何其他事情。

根据您的代码，它是`Mediaplayer.start();`

你需要编写 onprepare 方法

```
MediaPlayer.setOnPreparedListener(new MediaPlayer.OnPreparedListener() {
        @Override
        public void onPrepared(MediaPlayer mp) {
            // TODO Auto-generated method stub
            mp.start();
        }
    }); 
```

一旦调用 Onprepared() 方法，您就可以进行进一步的处理

只需删除

```
mp.start() 
```

后

```
mp.prepareAsync(); 
```

你会很高兴去的

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2019-11-28T13:05:42.403

```
public class BackgroundSound extends AsyncTask<String, Void, Void> {
    MediaPlayer mediaPlayerChatAudio;

    @Override
    protected Void doInBackground(String... params) {
        String model = params[0];
        final Uri uri = Uri.parse(model);
        LogEm.e("EM", "::::::::::URI::::::::::" + model);

        if (uri == null || uri == Uri.EMPTY) return null;
        if (mediaPlayerChatAudio != null) mediaPlayerChatAudio.stop();

        try {
            mediaPlayerChatAudio = MediaPlayer.create(TextActivity.this, uri);
            mediaPlayerChatAudio.setAudioStreamType(AudioManager.STREAM_MUSIC);
        } catch (Exception e) {
            // do nothing.
        }
        if (mediaPlayerChatAudio == null) return null;

        mediaPlayerChatAudio.setVolume(1.0f, 1.0f);
        mediaPlayerChatAudio.setOnCompletionListener(new MediaPlayer.OnCompletionListener() {
            @Override
            public void onCompletion(MediaPlayer mp) {
                mediaPlayerChatAudio.reset();
                mediaPlayerChatAudio.release();
                mediaPlayerChatAudio = null;
            }
        });
        mediaPlayerChatAudio.start();
        return null;
    }
} 
```

# google-maps-api-3 - 如何使用 Google Map API V3 找到往返的最快和最短距离

> ID：15516473
> 
> 赞同：0
> 
> 时间：2013-03-20T06:07:36.383
> 
> 标签：google-maps-api-3, roundtrip

我有两个目的地 A. `185 Railroad St, Williamstown, VT 05679, USA` B. `244 Granger Rd, Berlin, VT 05602, United States`

因为`Single trip`，我有最快的路径`VT-63 W`，它有`13 miles`，`19 mins`所以对于`round trip`，距离应该是`26 miles and 38 mins`。但为什么谷歌显示`20 miles and 40 mins for round trip`？

请参考`RoundTrip_Mileage.png`

![在此处输入图像描述](../Images/82c8590d9f2c9e9b2d188ef9418ef33f.png) **如何找到往返最快的路径？**

**为什么谷歌地图API可以理解这是往返？**

**或者有什么逻辑我可以发现这是往返，而不是往返的距离和里程加倍？**

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-20T06:27:08.203

我认为这不属于堆栈溢出。应该在[https://superuser.com/](https://superuser.com/)中询问。

无论如何，对于您选择乘坐 VT-63 W 的单程旅行。[https://maps.google.com/maps?saddr=85+Railroad+St,+Williamstown,+VT+05679&daddr=44.1654204,-72.5409985+至： 244+Granger+Rd,+Berlin,+VT+05602&hl=en&sll=44.172688,-72.531622&sspn=0.178282,0.393791&geocode=FY1JoQIdGDqt-ynb7ORanQS1TDFY0UFoLeuI5g%3BFSzpoQIduhyt-yk1hH2lJAS1TDFwLz9qWHdFTA%3BFeaaogId0sGs-ynpTSwANAa1TDF_Or0L4jEMTg&gl=us&mra=ls&t=m&z=12&via=1](https://maps.google.com/maps?saddr=85+Railroad+St,+Williamstown,+VT+05679&daddr=44.1654204,-72.5409985+to:244+Granger+Rd,+Berlin,+VT+05602&hl=en&sll=44.172688,-72.531622&sspn=0.178282,0.393791&geocode=FY1JoQIdGDqt-ynb7ORanQS1TDFY0UFoLeuI5g%3BFSzpoQIduhyt-yk1hH2lJAS1TDFwLz9qWHdFTA%3BFeaaogId0sGs-ynpTSwANAa1TDF_Or0L4jEMTg&gl=us&mra=ls&t=m&z=12&via=1)

对于往返，您不会获得推荐的各种路径，而是为您选择不同的路径。[https://maps.google.com/maps?saddr=85+Railroad+St,+Williamstown,+VT+05679&daddr=244+Granger+Rd,+Berlin,+VT+05602+to:85+Railroad+St, +Williamstown,+VT+05679&hl=en&sll=44.172688,-72.531622&sspn=0.178282,0.393791&geocode=FY1JoQIdGDqt-ynb7ORanQS1TDFY0UFoLeuI5g%3BFeaaogId0sGs-ynpTSwANAa1TDF_Or0L4jEMTg%3BFY1JoQIdGDqt-ynb7ORanQS1TDFY0UFoLeuI5g&gl=us&mra=ls&t=m&z=12](https://maps.google.com/maps?saddr=85+Railroad+St,+Williamstown,+VT+05679&daddr=244+Granger+Rd,+Berlin,+VT+05602+to:85+Railroad+St,+Williamstown,+VT+05679&hl=en&sll=44.172688,-72.531622&sspn=0.178282,0.393791&geocode=FY1JoQIdGDqt-ynb7ORanQS1TDFY0UFoLeuI5g%3BFeaaogId0sGs-ynpTSwANAa1TDF_Or0L4jEMTg%3BFY1JoQIdGDqt-ynb7ORanQS1TDFY0UFoLeuI5g&gl=us&mra=ls&t=m&z=12)

由于每组方向采用不同的路径，因此它们具有不同的总行驶距离和总行驶时间。

编辑：在 API 中将 provideRouteAlternatives 设置为 True 将为您提供备用路线。[https://developers.google.com/maps/documentation/javascript/reference](https://developers.google.com/maps/documentation/javascript/reference)

# java - 黑屏 Android 2.2 谷歌地图 v2

> ID：15516476
> 
> 赞同：1
> 
> 时间：2013-03-20T06:07:52.287
> 
> 标签：java, android, google-maps, google-maps-android-api-2, android-maps-v2

**编辑 ：**

我转移了我的 20 多个**尝试**使用 Google Maps for Android v2 的项目。在更改键和东西之后，现在它可以工作了。我不知道是什么让这个工作，但谢谢大家。我有一个密钥库，密钥是正确的。我想它以某种方式神奇地修复了。嗯，谢谢各位。

我正在搜索 2 天，但无法解决此问题。我做了一切，但是，这个应用程序不能工作。

我希望我的应用程序可以在 Android 2.2 及更高版本上运行。就像它所说的“如果你在第 8 级创建应用程序，它将支持 95% 的市场”。

这是我的截图和源代码：

我正在粘贴最容易获得的源代码。我从网上拿了这个。

这是命令的输出

```
keytool -list -keystore <path> 
```

> ```
> *****************  WARNING WARNING WARNING  *****************
> * The integrity of the information stored in your keystore  *
> * has NOT been verified!  In order to verify its integrity, *
> * you must provide your keystore password.                  *
> *****************  WARNING WARNING WARNING  ***************** 
> ```
> 
> 密钥库类型：JKS 密钥库提供者：SUN

```
Your keystore contains 1 entry

androiddebugkey, 15.Mar.2013, PrivateKeyEntry,
Certificate fingerprint (SHA1): xxx 
```

**main.xml 文件：**

```
<?xml version="1.0" encoding="utf-8"?>
<com.google.android.maps.MapView
    xmlns:android="http://schemas.android.com/apk/res/android"
    android:id="@+id/mapView"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent"
    android:clickable="true"
    android:apiKey="AIzaSyDim-x5Gxxx"
/> 
```

**清单文件：**

```
<?xml version="1.0" encoding="utf-8"?>
<manifest xmlns:android="http://schemas.android.com/apk/res/android"
    package="com.androidhive.googlemaps"
    android:versionCode="1"
    android:versionName="1.0" >
<uses-sdk android:minSdkVersion="8" />
<application
        android:icon="@drawable/ic_launcher"
        android:label="@string/app_name" >
        <!-- Add Google Map Library -->
        <uses-library android:name="com.google.android.maps" />
        <activity
            android:name=".AndroidGoogleMapsActivity"
            android:label="@string/app_name" >
            <intent-filter>
                <action android:name="android.intent.action.MAIN" />
                <category android:name="android.intent.category.LAUNCHER" />
            </intent-filter>
        </activity>
    </application>
    <!-- Allow to connect with internet -->
    <uses-permission android:name="android.permission.INTERNET" />
</manifest> 
```

**java文件**（不需要全部粘贴，但我想最好全部粘贴）

[http://pastebin.com/yF95Rcbd](http://pastebin.com/yF95Rcbd)

这是我的截图：

[http://i.imgur.com/gExHpUG.png](http://i.imgur.com/gExHpUG.png)

[http://i.imgur.com/AMOXKhr.png](http://i.imgur.com/AMOXKhr.png)

[http://i.imgur.com/Aqon97Y.png](http://i.imgur.com/Aqon97Y.png)

我正在尝试将此应用程序编译为 Android 4.2.2，但我尝试并希望使其在 2.2 及更高版本中运行。

这是属性窗口的 Android 选项卡，只是为了确保：

[http://i.imgur.com/ht0CQwT.png](http://i.imgur.com/ht0CQwT.png)

这是我的日志

```
03-20 07:01:20.145: W/System.err(956):  at java.lang.Thread.run(Thread.java:856)
03-20 07:01:20.665: W/System.err(956): IOException processing: 26
03-20 07:01:20.665: W/System.err(956): java.io.IOException: Server returned: 3
03-20 07:01:20.665: W/System.err(956):  at android_maps_conflict_avoidance.com.google.googlenav.map.BaseTileRequest.readResponseData(BaseTileRequest.java:115)
03-20 07:01:20.675: W/System.err(956):  at android_maps_conflict_avoidance.com.google.googlenav.map.MapService$MapTileRequest.readResponseData(MapService.java:1473)
03-20 07:01:20.675: W/System.err(956):  at android_maps_conflict_avoidance.com.google.googlenav.datarequest.DataRequestDispatcher.processDataRequest(DataRequestDispatcher.java:1117)
03-20 07:01:20.675: W/System.err(956):  at android_maps_conflict_avoidance.com.google.googlenav.datarequest.DataRequestDispatcher.serviceRequests(DataRequestDispatcher.java:994)
03-20 07:01:20.675: W/System.err(956):  at android_maps_conflict_avoidance.com.google.googlenav.datarequest.DataRequestDispatcher$DispatcherServer.run(DataRequestDispatcher.java:1702) 
```

这些行一直在重复。

非常感谢。您的帖子似乎包含未正确格式化为代码的代码”错误让我删除了空白行。抱歉代码混乱。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-20T06:52:02.297

[http://i.imgur.com/ht0CQwT.png](http://i.imgur.com/ht0CQwT.png) 查看快照。您没有添加显示 Google Android Map V2 所需的 Google Play 服务库。请下载并添加该库，然后重试。

也请看目标。您的目标是 4.2.2，您正在 2.2 上访问它。将目标更改为 2.2 并使用支持片段。

谢谢，

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-05-01T07:47:35.347

我已经解决了这个问题，

*   打开您的 Google API 控制台
*   选择 API 访问
*   从您的 API 密钥编辑允许的 Android 应用程序
*   用你的包名更改包名
*   示例：00:06:A5:0E:04:A2:1E:8F:FE:6B:7F:46:23:C3:xx:xx:xx:xx:xx:xx;com.example.androidmapview

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-07-25T13:50:25.007

我用这样的放大/缩小按钮解决了我的黑屏问题。（它发生在我更改了我的包名之后）

1.  删除密钥库文件
2.  创建一个新的密钥库文件
3.  获取 SHA1 指纹
4.  转到 API 控制台
5.  创建一个新的安卓应用。
6.  粘贴你的指纹
7.  在清单文件中使用给定的 API 密钥

这对我有用

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-20T07:26:40.323

您缺少 API KEY 的权限和元数据。

仔细阅读：[https ://developers.google.com/maps/documentation/android/start](https://developers.google.com/maps/documentation/android/start)

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-03-20T06:59:51.340

使用 android mapapi v2 ，主要原因是您必须为您的应用添加播放服务，如下所示：

```
<permission
        android:name="com.example.androidmapview.permission.MAPS_RECEIVE"
        android:protectionLevel="signature" />

    <uses-permission android:name="com.example.androidmapview.permission.MAPS_RECEIVE" /> 
```

在布局中使用片段类：

```
<fragment xmlns:android="http://schemas.android.com/apk/res/android"
  xmlns:map="http://schemas.android.com/apk/res-auto"
  android:id="@+id/map"
  android:layout_width="match_parent"
  android:layout_height="match_parent"
 class="com.google.android.gms.maps.SupportMapFragment"/> 
```

并更改您的清单：

```
<?xml version="1.0" encoding="utf-8"?>
<manifest xmlns:android="http://schemas.android.com/apk/res/android"
    package="com.example.androidmapview"
    android:versionCode="1"
    android:versionName="1.0" >

   <uses-sdk
        android:minSdkVersion="8"
        android:targetSdkVersion="16" />

    <permission
        android:name="com.example.androidmapview.permission.MAPS_RECEIVE"
        android:protectionLevel="signature" />

    <uses-permission android:name="com.example.androidmapview.permission.MAPS_RECEIVE" />
    <uses-permission android:name="android.permission.INTERNET" />
    <uses-permission android:name="android.permission.WRITE_EXTERNAL_STORAGE" />
    <uses-permission android:name="android.permission.ACCESS_COARSE_LOCATION" />
    <uses-permission android:name="android.permission.ACCESS_FINE_LOCATION" />
    <uses-permission android:name="com.google.android.providers.gsf.permission.READ_GSERVICES" />

    <application
        android:allowBackup="true"
        android:icon="@drawable/ic_launcher"
        android:label="@string/app_name"
        android:theme="@style/AppTheme" >
        <activity
            android:name="com.example.androidmapview.MainActivity"
            android:label="@string/app_name" >
            <intent-filter>
                <action android:name="android.intent.action.MAIN" />

                <category android:name="android.intent.category.LAUNCHER" />
            </intent-filter>
        </activity>
        <meta-data
    android:name="com.google.android.maps.v2.API_KEY"
    android:value="AIzxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"></meta-data>
    </application>

    <uses-feature
        android:glEsVersion="0x00020000"
        android:required="true" />
</manifest> 
```

活动中：

```
import android.os.Bundle;
import android.support.v4.app.FragmentActivity;

import com.google.android.gms.maps.SupportMapFragment;

public class MainActivity extends FragmentActivity {

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);

        SupportMapFragment fragment = new SupportMapFragment();
        getSupportFragmentManager().beginTransaction()
                .add(android.R.id.content, fragment).commit();
    }
} 
```

有关更多信息，请查看[链接](http://seasonofrejoice.blogspot.in/)，该链接将向您详细解释 api v2

# c - 如何在C中设置位

> ID：15516480
> 
> 赞同：0
> 
> 时间：2013-03-20T06:08:07.597
> 
> 标签：c, bit

有一个变量：

```
char segment = 0; 
```

在 1 或第 15 位之后，段 = 1；

只是意味着这个位检查已经。

问题是如何取消第15位的标记（设置回0）？

使用“~”？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2014-02-27T22:44:00.153

以下程序设置位，清除位和切换位

```
#include<stdio.h>

void main(void)
{
unsigned int byte;
unsigned int bit_position;
unsigned int tempbyte = 0x01;
//get the values of the byte and the bit positions 
//set bit
byte = (byte | (tempbyte << bit_position));// set the bit at the position given by bit_position
//clear bit
byte = (byte & ~(tempbyte << bit_position));//clear the bit at the position given by bit_position
//toggle bits
byte = (byte ^ (tempbyte << bit_position));//toggle the bit at the position given by bit_position
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-20T06:14:13.763

例如，要去掉 8 位字符的 MSB，您可以使用 AND 与 0x7F

例如段 = 段 & 0x7F;

要动态生成掩码，您可以使用位移操作（即 << 运算符）。

# cakephp - cakephp 2.2 使用包含身份验证不起作用

> ID：15516484
> 
> 赞同：0
> 
> 时间：2013-03-20T06:08:24.330
> 
> 标签：cakephp, authentication, contain

根据食谱教程，我有一个使用用户和组设置身份验证的工作示例。我有一个额外的 Locations 表，它与我的 Groups 相关联。位置有很多组。组属于位置。在 2.2 中，我认为我应该能够为用户取回位置数据，但不能。

```
// App controller
public function beforeFilter() {

    $this->Auth->authenticate = array(
        'all' => array (
            'scope' => array('User.status' => 1)
        ),
        'Form' => array(
                'contain'   => array('Group', 'Location'),
                'fields' => array('Location.name')
        )
  ); 
```

上面的代码只有在我创建用户和位置之间的直接关联时才有效。是否可以在此处将包含与组到位置关联一起使用？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-20T07:37:58.593

如果用户没有链接到位置，但组是，你应该试试这个：

```
'contain'   => array('Group' => array('Location')), 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-21T15:40:21.570

BaseAuthenticate 的问题是它如何返回用户信息：`return $result[$model];`。
因此，当我需要包含时，我正在使用放置在 app/Controller/Auth 中的替代组件：

```
App::uses('FormAuthenticate', 'Controller/Component/Auth');

class FormAndContainableAuthenticate extends FormAuthenticate {

    protected function _findUser($username, $password) {
        if (empty($this->settings['contain'])) {    //< deafult
            $userData = parent::_findUser($username, $password);
        } else {    //< with contains
            $userModel = $this->settings['userModel'];
            list($plugin, $model) = pluginSplit($userModel);
            $fields = $this->settings['fields'];
            $conditions = array(
                $model . '.' . $fields['username'] => $username,
                $model . '.' . $fields['password'] => $this->_password($password),
            );
            if (!empty($this->settings['scope'])) {
                $conditions = array_merge($conditions, $this->settings['scope']);
            }
            $modelObj = ClassRegistry::init($userModel);
            $modelObj->contain($this->settings['contain']);
            $result = $modelObj->find('first', array(
                'conditions' => $conditions
            ));
            if (empty($result) || empty($result[$model])) {
                return false;
            }
            foreach($result as $modelName => $modelData) {
                if ($modelName !== $model) {
                    $result[$model][$modelName] = $modelData;
                }
            }
            $userData = $result[$model];
        }
        // remove dangerous fields like password
        unset($userData[$this->settings['fields']['password']]);
        if (!empty($this->settings['exclude'])) {
            foreach ($this->settings['exclude'] as $fieldName) {
                unset($userData[$fieldName]);
            }
        }
        return $userData;
    }
} 
```

如您所见 - 它在未提供包含时使用父组件。

还有一些好处：您可以提供一组字段以从结果数组中删除。只需通过“排除”键传递字段名称

如何使用组件：

```
 public $components = array(
        'Auth' => array(
            'authenticate' => array(
                'FormAndContainable' => array(
                    'fields' => array(
                        'username' => 'username',
                        'password' => 'password',
                    ),
                    'userModel' => 'Staff',
                    'contain' => array('StaffPermission'),
                    'exclude' => array('plain_password')
                )
            ),
        ),
    ); 
```

# java - jd-eclipse 用于动态生成的 java 类

> ID：15516485
> 
> 赞同：0
> 
> 时间：2013-03-20T06:08:27.260
> 
> 标签：java, decompiling

我正在查看[JD-Eclipse](http://java.decompiler.free.fr/?q=jdeclipse)以便能够查看类文件的内容。有谁知道是否可以使用它查看加载在 JVM 中的动态生成的类（比如代理）的内容？

提前致谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-20T06:32:45.793

JD-Eclipse 只能读取物理类文件，它不会读取内存中的类

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-04-24T03:07:49.660

我认为使用 JAD 和 JADClipse 的组合你应该能够做到这一点，除非类文件通过混淆器运行。

# jsf - 丰富面孔中的资源优化与 maven-resources 4.3.1.Final

> ID：15516489
> 
> 赞同：1
> 
> 时间：2013-03-20T06:08:38.873
> 
> 标签：jsf, richfaces, maven-3

我已经阅读了来自 jboss 社区的博客[https://community.jboss.org/people/michpetrov/blog/2012/11/27/resource-optimization-with-maven-resources-plugin](https://community.jboss.org/people/michpetrov/blog/2012/11/27/resource-optimization-with-maven-resources-plugin)但无论如何我可以重定向路径richfaces 正在寻找 skinning.css 和 Packed.css 来寻找我的自定义文件。请帮忙谢谢

# windows-8 - 使用 GridLayout 确定 WinJS.UI.ListView 的列数

> ID：15516494
> 
> 赞同：0
> 
> 时间：2013-03-20T06:08:58.160
> 
> 标签：windows-8, winjs

我的总体目标是为 GridLayout 的每一列添加一种标题。没有找到对此的任何内置支持，我想我可以将标题添加为单独的元素。问题是我需要知道正在渲染多少列。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-23T15:03:19.513

ListView 支持您拥有的每一列的标题，除非您所说的列是指 ListView 中每个组中的每一列。以下是定义标题模板的方式：

```
<div class="headertemplate" data-win-control="WinJS.Binding.Template">
    <button class="group-header win-type-x-large win-type-interactive" data-win-bind="groupKey: key"
        onclick="Application.navigator.pageControl.navigateToGroup(event.srcElement.groupKey)" role="link" tabindex="-1" type="button">
        <span class="group-title win-type-ellipsis" data-win-bind="textContent: title"></span>
        <span class="group-chevron"></span>
    </button>
</div> 
```

以下是如何在页面就绪时填充它：

```
listView.groupHeaderTemplate = element.querySelector(".headertemplate"); 
```

# javascript - 弹出窗口阻止程序在单击 silverlight 按钮或超链接按钮时阻止弹出窗口

> ID：15516497
> 
> 赞同：0
> 
> 时间：2013-03-20T06:09:27.010
> 
> 标签：javascript, silverlight, browser, cross-browser, popup

在我的 ViewModel 中，我正在准备动态 url，然后按如下方式调用它。

```
HtmlPage.Window.Navigate(new Uri(URL), "_blank"); 
```

但它没有用，所以我尝试从 silverlight 调用 javascript，在 javascript 中我调用了 window.open() 方法。代码是这样的：

```
HtmlPage.Window.Invoke("open_win", URL); 
```

和 Javascript 函数 open_win 是这样的：

```
function open_win(param1) {
        var win = window.open(param1, 'ad', 'width=400,height=200,scrollbars=yes')
        win.focus();
    } 
```

但它仅适用于 IE，所有其他浏览器都显示弹出窗口阻止程序。

我尝试了另一种解决方案来摆脱弹出窗口阻止程序我创建了虚拟 html 按钮并在 open_win 函数中触发了它的点击，然后它也没有工作，但是当我点击 html 按钮时它工作正常。所以请帮我用silverlight按钮做同样的事情。

如果您有任何其他解决方案可以在没有弹出窗口阻止程序的情况下打开新的浏览器窗口，那么也建议我。

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-20T07:25:38.590

在 Javascript 中侦听 Click 事件。

如果您使用 Silverlight 接收点击，则浏览器不知道发生了点击。它只是假设您的代码正在尝试打开一个新的浏览器。这就是为什么您的新窗口被归类为弹出窗口的原因。

使用 Javascript 监听 DOM 点击事件。然后浏览器将尊重您的新窗口。

# java - 将 JavaBean 与 JasperReports API 一起使用：混淆后获取 java.lang.NoSuchMethodException

> ID：15516510
> 
> 赞同：0
> 
> 时间：2013-03-20T06:10:46.093
> 
> 标签：java, swing, jasper-reports, obfuscation

好吧，我的应用程序包含 100 多个类文件。整个应用程序工作正常，没有被混淆，但是在使用***ProGuard***混淆应用程序后，我得到了一个奇怪的异常：

```
JRException: Error retrieving field value from bean : ID
        at net.sf.dynamicreports.jasper.builder.JasperReportBuilder.toJasperPrin
t(JasperReportBuilder.java:319)
        at net.sf.dynamicreports.jasper.builder.JasperReportBuilder.show(JasperR
eportBuilder.java:332)
        at ims.d.aA.done(Unknown Source)
        at javax.swing.SwingWorker$5.run(Unknown Source)
        at javax.swing.SwingWorker$DoSubmitAccumulativeRunnable.run(Unknown Sour
ce)
        at sun.swing.AccumulativeRunnable.run(Unknown Source)
        at javax.swing.SwingWorker$DoSubmitAccumulativeRunnable.actionPerformed(
Unknown Source)
        at javax.swing.Timer.fireActionPerformed(Unknown Source)
        at javax.swing.Timer$DoPostEvent.run(Unknown Source)
        at java.awt.event.InvocationEvent.dispatch(Unknown Source)
        at java.awt.EventQueue.dispatchEventImpl(Unknown Source)
        at java.awt.EventQueue.access$000(Unknown Source)
        at java.awt.EventQueue$3.run(Unknown Source)
        at java.awt.EventQueue$3.run(Unknown Source)
        at java.security.AccessController.doPrivileged(Native Method)
        at java.security.ProtectionDomain$1.doIntersectionPrivilege(Unknown Sour
ce)
        at java.awt.EventQueue.dispatchEvent(Unknown Source)
        at java.awt.EventDispatchThread.pumpOneEventForFilters(Unknown Source)
        at java.awt.EventDispatchThread.pumpEventsForFilter(Unknown Source)
        at java.awt.EventDispatchThread.pumpEventsForHierarchy(Unknown Source)
        at java.awt.EventDispatchThread.pumpEvents(Unknown Source)
        at java.awt.EventDispatchThread.pumpEvents(Unknown Source)
        at java.awt.EventDispatchThread.run(Unknown Source)
Caused by: net.sf.jasperreports.engine.JRException: Error retrieving field value
 from bean : ID
        at net.sf.jasperreports.engine.data.JRAbstractBeanDataSource.getBeanProp
erty(JRAbstractBeanDataSource.java:123)
        at net.sf.jasperreports.engine.data.JRAbstractBeanDataSource.getFieldVal
ue(JRAbstractBeanDataSource.java:96)
        at net.sf.jasperreports.engine.data.JRBeanCollectionDataSource.getFieldV
alue(JRBeanCollectionDataSource.java:100)
        at net.sf.jasperreports.engine.fill.JRFillDataset.setOldValues(JRFillDat
aset.java:1330)
        at net.sf.jasperreports.engine.fill.JRFillDataset.next(JRFillDataset.jav
a:1231)
        at net.sf.jasperreports.engine.fill.JRFillDataset.next(JRFillDataset.jav
a:1207)
        at net.sf.jasperreports.engine.fill.JRBaseFiller.next(JRBaseFiller.java:
1544)
        at net.sf.jasperreports.engine.fill.JRVerticalFiller.fillReport(JRVertic
alFiller.java:142)
        at net.sf.jasperreports.engine.fill.JRBaseFiller.fill(JRBaseFiller.java:
909)
        at net.sf.jasperreports.engine.fill.JRBaseFiller.fill(JRBaseFiller.java:
841)
        at net.sf.jasperreports.engine.fill.JRFiller.fill(JRFiller.java:88)
        at net.sf.jasperreports.engine.JasperFillManager.fill(JasperFillManager.
java:653)
        at net.sf.jasperreports.engine.JasperFillManager.fillReport(JasperFillMa
nager.java:969)
        at net.sf.dynamicreports.jasper.builder.JasperReportBuilder.toJasperPrin
t(JasperReportBuilder.java:308)
        ... 22 more
Caused by: java.lang.NoSuchMethodException: Unknown property 'ID' on class 'clas
s ims.Reports.Item'
        at org.apache.commons.beanutils.PropertyUtilsBean.getSimpleProperty(Prop
ertyUtilsBean.java:1313)
        at org.apache.commons.beanutils.PropertyUtilsBean.getNestedProperty(Prop
ertyUtilsBean.java:762)
        at org.apache.commons.beanutils.PropertyUtilsBean.getProperty(PropertyUt
ilsBean.java:837)
        at org.apache.commons.beanutils.PropertyUtils.getProperty(PropertyUtils.
java:426)
        at net.sf.jasperreports.engine.data.JRAbstractBeanDataSource.getBeanProp
erty(JRAbstractBeanDataSource.java:111) 
```

下面是被指出的 bean 类：

```
public class Item {

    private String id;
    private double quantity;
    private double unitprice;
    private String uom;
    private String iname = null;

    public String getID() {
        try {
            String query = "select name from master where company_code='" + ims.MainWindow.cc + "' and inid='" + this.id + "'";
            // System.out.println(query);
            Connection con = CPool.getConnection();
            Statement st = con.createStatement();
            ResultSet rs = st.executeQuery(query);
            while (rs.next()) {
                iname = rs.getString(1);
            }
            CPool.closeResultSet(rs);
            CPool.closeConnection(con);
            CPool.closeStatement(st);
        } catch (Exception x) {

        }
        return iname;
    }

    public void setID(String ID) {
        this.id = ID;
    }

    public double getQuantity() {
        return quantity;
    }

    public void setQuantity(double quantity) {
        this.quantity = quantity;
    }

    public double getUnitprice() {
        return unitprice;
    }

    public void setUnitprice(double unitprice) {

        this.unitprice = unitprice;
    }

    public String getUOM() {
        return uom;

    }

    public void setUOM(String u) {
        this.uom = u;
    }
} 
```

我已经尝试保留相关类的名称、方法，并试图防止它们缩小。

我可以使用哪些其他开源*混淆*器替代品？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-20T06:33:25.430

我已经很长时间没有使用 jasper 报告了，但看起来它正在使用[java beans 约定](http://en.wikipedia.org/wiki/JavaBeans#JavaBean_conventions)来获取数据。如果您混淆了您的 java bean，将不再可能通过构建名称 getID() 来找到属性 ID 的 getter。

我建议从混淆中排除这些类。

# wpf - 如何在 wpf 中实现这个场景

> ID：15516511
> 
> 赞同：0
> 
> 时间：2013-03-20T06:10:48.490
> 
> 标签：wpf

我允许 wpf 应用程序的两个实例

```
private void Application_Startup(object sender, StartupEventArgs e)
    {
        Process thisProc = Process.GetCurrentProcess();
        if (Process.GetProcessesByName(thisProc.ProcessName).Length == 1)
        {    
            var w1 = new MainWindow("1");
            w1.Show();
        }
        else if (Process.GetProcessesByName(thisProc.ProcessName).Length == 2)
        {
           var w2 = new MainWindow("2");
            w2.Show();
        }
    } 
```

每个窗口都有不同的用户设置，如下所示在 Settings.setting

```
window1_city="xxx",window1_country="yyy"
window2_city="aaa",window2_country="bbb" .....etc 
```

我想在 Windows 加载（在构造函数中）上应用上述设置。
我目前的代码是

```
 public MainWindow(string window)
 {
   if(window=="1")
      {
        lbl.Content=setting.window1_city
      }
    if(window=="2")
      {
        lbl.Content=setting.window2_city
      }
 }and so 
```

但是如果用户设置的数量更多，这很难应用。如果用户进行了任何更改，那么我必须根据窗口保存这些值。所以我必须使用更多的 no.of if 循环。
还有其他方法可以实现吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-20T06:16:19.597

使用每个窗口`DataContext`属性传递一个具有所有所需属性的对象，在`Startup`, before中传递该对象`Show`。如果应用程序变得更复杂，也许你最好使用一些 MVVM 工具包。使用普通 DataContextes 的示例：

```
private void Application_Startup(object sender, StartupEventArgs e)
    {
        Process thisProc = Process.GetCurrentProcess();
        if (Process.GetProcessesByName(thisProc.ProcessName).Length == 1)
        {    
            var w1 = new MainWindow("1");
            var a = new MySettings();
            a.x=...;
            a.y=....;
            w1.DataContext=a;
            w1.Show();
        }
        else if (Process.GetProcessesByName(thisProc.ProcessName).Length == 2)
        {
           var w2 = new MainWindow("2");
           var b = new MySettings();
            b.x=...;
            b.y=....;
            w2.DataContext=b;
            w2.Show();
        }
    } 
```

# oracle - 在 PL/SQL 块内的 SQL 中使用嵌套表变量/集合

> ID：15516515
> 
> 赞同：3
> 
> 时间：2013-03-20T06:10:55.097
> 
> 标签：oracle, plsql, nested-table

1.  我首先创建一个`address_type`对象

    ```
    CREATE TYPE address_type AS OBJECT
    ( line1                         VARCHAR2(100)
    , line2                         VARCHAR2(100)
    , line3                         VARCHAR2(100)
    , city                          VARCHAR2(50)
    , state                         VARCHAR2(50)
    , country                       VARCHAR2(50)
    , zip                           VARCHAR2(10)
    );
    / 
    ```

2.  我创建了上述对象的嵌套表类型。

    ```
    CREATE TYPE address_table AS TABLE OF ADDRESS_TYPE;
    / 
    ```

3.  然后我创建另一个对象，如下所示：

    ```
    CREATE TYPE telephone_number_type AS OBJECT
    ( country_code                  VARCHAR2(4)
    , area_code                     VARCHAR2(10)
    , phone_number                  VARCHAR2(10)
    , extension                     VARCHAR2(10)
    , number_type                   VARCHAR2(10)
    );
    / 
    ```

4.  然后我创建一个嵌套表类型，如下所示：

    ```
    CREATE TYPE telephone_number_table AS TABLE OF TELEPHONE_NUMBER_TYPE;
    / 
    ```

5.  现在我创建一个名为`person`. `telephone_numbers`除了嵌套表`telephone_number_table`类型的列之外，其中许多列在这个问题中没有多大用处。

    ```
    CREATE TABLE person
    ( personid                       INTEGER          PRIMARY KEY
    , fname                          VARCHAR2(50)     NOT NULL
    , mname                          VARCHAR2(50)
    , lname                          VARCHAR2(50)     NOT NULL
    , email                          VARCHAR2(255)    UNIQUE
    , password                       VARCHAR2(255)    NOT NULL
    , birthdate                      DATE
    , billing_address                ADDRESS_TABLE
    , delivery_address               ADDRESS_TABLE
    , telephone_numbers              TELEPHONE_NUMBER_TABLE
    , display_pic                    BLOB
    , ts_registration                TIMESTAMP
    , ts_verification                TIMESTAMP
    , ts_last_updated                TIMESTAMP
    ) NESTED TABLE billing_address STORE AS nt_billing_address
    , NESTED TABLE delivery_address STORE AS nt_delivery_address
    , NESTED TABLE telephone_numbers STORE AS nt_telephone_numbers
    , LOB(display_pic) STORE AS SECUREFILE (
      TABLESPACE users
      ENABLE STORAGE IN ROW
      CHUNK 4096
      PCTVERSION 20
      NOCACHE
      NOLOGGING
      COMPRESS HIGH
    )
    ; 
    ```

6.  然后我为此创建一个序列：

    ```
    CREATE SEQUENCE sq_personid; 
    ```

7.  要将值插入`person`表中，我使用匿名块，如下所示：

    ```
    DECLARE
      v_fname person.fname%TYPE := 'Yogeshwar';
      v_mname person.mname%TYPE := '';
      v_lname person.lname%TYPE := 'Rachcha';
      v_email person.email%TYPE := 'yogeshrachcha@gmail.com';
      v_password person.password%TYPE := 'mail_123';
      v_birthdate person.birthdate%TYPE := TO_DATE('28-03-1987', 'DD-MM-YYYY');
      v_telephone_numbers TELEPHONE_NUMBER_TABLE;
      v_billing_address   ADDRESS_TABLE;
      v_delivery_address  ADDRESS_TABLE;
    BEGIN
      v_telephone_numbers := TELEPHONE_NUMBER_TABLE
                               ( TELEPHONE_NUMBER_TYPE('+91','22','123456','','Residence')
                                                       , TELEPHONE_NUMBER_TYPE('+91','22','456798','123','Office')
                                                       , TELEPHONE_NUMBER_TYPE('+91','','1234567890','','Mobile'));

      v_billing_address := ADDRESS_TABLE (ADDRESS_TYPE ( 'Line 1', 'Line 2', 'Line 3', 'Mumbai', 'Maharashtra', 'India', '123456'));
      v_delivery_address := ADDRESS_TABLE (ADDRESS_TYPE ( 'Line 1', 'Line 2', 'Line 3', 'Mumbai', 'Maharashtra', 'India', '123456'));
      -- billing and delivery addresses are the same. These are not much importance in this question.

      INSERT INTO person VALUES
      ( sq_personid.nextval
      , v_fname
      , v_mname
      , v_lname
      , v_email
      , v_password
      , v_birthdate
      , v_billing_address
      , v_delivery_address
      , v_telephone_numbers
      , NULL
      , sysdate
      , sysdate
      , sysdate);

    END; 
    ```

到目前为止，一切都运行得非常完美。然后在像下面这样的匿名块中，我尝试创建一个嵌套表变量并在 SQL 查询中使用它：

```
DECLARE
  TYPE t_country_codes IS TABLE OF VARCHAR2(4);
  country_codes T_COUNTRY_CODES := T_COUNTRY_CODES('+1', '+44', '+91');
  cc VARCHAR2(4);
BEGIN
  FOR i IN (SELECT t.country_code
                          FROM person p
                          CROSS JOIN TABLE(p.telephone_numbers) t
                         WHERE t.country_code IN (SELECT COLUMN_VALUE -- I doubt the problem is with this SELECT statement.
                                                    FROM TABLE(country_codes))) LOOP
        dbms_output.put_line(i.country_code);
  END LOOP;
END;
/ 
```

我收到此错误：

```
ORA-06550: line 8, column 70:
PLS-00642: local collection types not allowed in SQL statements
ORA-06550: line 8, column 64:
PL/SQL: ORA-22905: cannot access rows from a non-nested table item 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-03-20T06:18:22.883

嵌套表类型可以在 SQL 中声明（通过`CREATE TYPE`您对`telephone_number_table`类型所做的语句）或在 PL/SQL 中（通过块`TYPE`上的声明`DECLARE`）。如果在 PL/SQL 中声明类型，则不能在 SQL 中使用该类型的实例。您需要在 SQL 中声明类型才能在 SQL 中使用该类型的实例。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-20T06:16:08.070

请尝试将您的“本地”（从最后一个块）集合定义移动到架构级别。

此外，[这篇](http://www.dba-oracle.com/t_pls_00642_local_collection_types_not_allowed_in_sql_statement.htm)文章可能会有所帮助。

# qt - 使用 qt 初始化多个窗口失败

> ID：15516517
> 
> 赞同：0
> 
> 时间：2013-03-20T06:11:12.100
> 
> 标签：qt, user-interface

我一直在努力解决在 Windows 下在 Qt 中初始化多个表单的问题（版本是 5.0.1，但我认为这并不重要）。长话短说，我的应用程序包含 2 个表单，其中一个应该在单击另一个表单上的按钮时被调用。
代码运行如下：
1）main.cpp：

```
#include "main.h"
#include <QApplication>
FmNewWord fmNewWord;
MainWindow w;
int main(int argc, char *argv[])
{
    QApplication a(argc, argv);
    w.show();

    return a.exec();
} 
```

2）main.h：

```
#ifndef MAIN_H
#define MAIN_H
#include "mainwindow.h"
#include "fmnewword.h"
extern FmNewWord fmNewWord;
extern MainWindow w;
#endif // MAIN_H 
```

3）主窗口.h：

```
#ifndef MAINWINDOW_H
#define MAINWINDOW_H

#include "ui_mainwindow.h"

class MainWindow : public QMainWindow, private Ui::MainWindow
    {
    Q_OBJECT
signals:
    void sgnl_new_word();
public:
    explicit MainWindow(QWidget *parent = 0);

protected:
    void changeEvent(QEvent *e);
private slots:
    void on_commandLinkButton_clicked();
    void on_miExit_triggered();
    void on_miNewWord_triggered();
    };

#endif // MAINWINDOW_H 
```

4）主窗口.cpp：

```
#include "main.h"
#include <Windows.h>
extern FmNewWord fmNewWord;
MainWindow::MainWindow(QWidget *parent) :
    QMainWindow(parent)
{
    setupUi(this);
}

void MainWindow::changeEvent(QEvent *e)
{
    QMainWindow::changeEvent(e);
    switch (e->type()) {
    case QEvent::LanguageChange:
        retranslateUi(this);
        break;
    default:
        break;
    }
}

void MainWindow::on_commandLinkButton_clicked()
{
    MessageBox(0, 0, 0, 0);
}

void MainWindow::on_miExit_triggered()
{
    this->close();
}

void MainWindow::on_miNewWord_triggered()
{
    fmNewWord.show();
} 
```

5) fmnewword.cpp:

```
#include "fmnewword.h"

FmNewWord::FmNewWord(QWidget *parent) :
    QMainWindow(parent)
{
    setupUi(this); /// here the app crashes with parent == NULL
}
void FmNewWord::changeEvent(QEvent *e)
{
    QMainWindow::changeEvent(e);
    switch (e->type()) {
    case QEvent::LanguageChange:
        retranslateUi(this);
        break;
    default:
        break;
    }
} 
```

6) fmnewword.h:

```
#ifndef FMNEWWORD_H
#define FMNEWWORD_H

#include "ui_fmnewword.h"

class FmNewWord : public QMainWindow, private Ui::FmNewWord
    {
    Q_OBJECT

public:
    explicit FmNewWord(QWidget *parent = 0);

protected:
    void changeEvent(QEvent *e);
    };
#endif // FMNEWWORD_H 
```

代码在 fmnewword.cpp 中显示的行中的初始化期间不断崩溃。有人能指出原因吗？谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-20T06:55:58.527

首先，`QApplication`必须在创建任何小部件之前。您的代码应如下所示：

```
int main(int argc, char *argv[])
{
    QApplication a(argc, argv);
    MainWindow w;
    w.show();

    return a.exec();
} 
```

这就是必须创建第二种形式的方式：

```
class FmNewWord;

class MainWindow : public QMainWindow, private Ui::MainWindow
{
    Q_OBJECT
    ...
private slots:
    void on_miNewWord_triggered();

private:
    FmNewWord *fmNewWord;
};

void MainWindow::on_miNewWord_triggered()
{
    fmNewWord = new FmNewWord;
    fmNewWord->show();
} 
```

# c++ - 模拟方法的 GoogleTest Expect 调用失败

> ID：15516524
> 
> 赞同：3
> 
> 时间：2013-03-20T06:11:46.913
> 
> 标签：c++, unit-testing, mocking, googletest, googlemock

我是 GTEST 的新手，只是了解 Mock 的工作原理，

我尝试编写简单的程序 Foo.h 和 FooDisplay.h （它需要在构造函数中的 Foo ），还有 MockFoo.cpp （这是测试 Gmock 的主要 GTEST 程序）..

当我模拟并为 Foo 执行 Expect 调用时，它会在执行中抛出以下内容..

***日志***

```
[==========] Running 1 test from 1 test case.
[----------] Global test environment set-up.
[----------] 1 test from Foo
[ RUN      ] Foo.case1
package/web/webscr/MockFoo.cpp:19: Failure
Actual function call count doesn't match EXPECT_CALL(mock, GetSize(_))...
         Expected: to be called once
           Actual: never called - unsatisfied and active
[  FAILED  ] Foo.case1 (0 ms)
[----------] 1 test from Foo (0 ms total)

[----------] Global test environment tear-down
[==========] 1 test from 1 test case ran. (0 ms total)
[  PASSED  ] 0 tests.
[  FAILED  ] 1 test, listed below:
[  FAILED  ] Foo.case1 
```

**Foo.h**

```
#include <gtest/gtest.h>
#include <infra/utility/core/lang/PPException.h>
#include <infra/utility/core/lang/String.h>
#include <iostream>

class Foo {

public:
    virtual ~Foo()
    { }

    virtual int GetSize(int size)
    {
        return size;
    }

}; 
```

**FooDisplay.h**

```
#include <gtest/gtest.h>
#include <infra/utility/core/lang/PPException.h>
#include <infra/utility/core/lang/String.h>
#include <iostream>
#include "Foo.h"

class FooDisplay {

public:
    FooDisplay ( Foo _foo) : foo(_foo)
    { }

    virtual ~FooDisplay()
    { }

    virtual String Describe(int size)
    {
        foo.GetSize(size);
        String str = "Done";
        return str;
    }
private:
    Foo foo;
}; 
```

**MooFoo.cpp**

```
#include "gmock/gmock.h"
#include <infra/utility/core/lang/String.h>
#include <iostream>
#include "FooDisplay.h"

using ::testing::Return;
using ::testing::_;

class MockFoo : public Foo {
public:
  MOCK_CONST_METHOD1(GetSize, int(int size));
  //MOCK_CONST_METHOD1(Describe, String(int));
};

TEST(Foo,case1)
{
        MockFoo mockfoo;
        FooDisplay Display(mockfoo);

        EXPECT_CALL(mockfoo,GetSize(_)).WillOnce(Return(6));
        Display.Describe(5);
//      ON_CALL(Display,Describe(5)).WillByDefault( Return ("Hi"));
}

int main(int argc, char * argv[])
{
     ::testing::InitGoogleTest(&argc,argv);
     return RUN_ALL_TESTS();
     //return 1;
 } 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-20T08:00:28.807

您的代码中有两个错误，这意味着您缺乏 c++ 基础知识。

1.  第一个错误在您的模拟课程中。`GetSize()`基类中的方法`Foo`声明为 :
    `virtual int GetSize(int size)`
    但在您的模拟中它是 :
    `MOCK_CONST_METHOD1(GetSize, int(int size));`
    意思
    `virtual int GetSize(int size) const`
    这两种方法具有不同的签名，因此，MockFoo 不会覆盖 Foo 的方法。

2.  第二个错误是当您将 MockFoo 的对象传递给 DisplayFoo 的构造函数时。我认为您想要做的是使用 MockFoo 对象，但您不小心复制了它的基础对象。将 FooDisplay 更改为此应该可以解决此问题：

    ```
    class FooDisplay {
    public:
        FooDisplay (Foo & _foo) : foo (_foo) { }
        virtual ~FooDisplay () { }

        virtual std::string Describe (int size) {
            foo.GetSize (size);
            std::string str = "Done";
            return str;
        }

        private:
            Foo & foo;
    }; 
    ```

# image - Matlab 文档中场景变化检测示例中的“矩阵尺寸必须一致”错误

> ID：15516526
> 
> 赞同：0
> 
> 时间：2013-03-20T06:11:49.257
> 
> 标签：image, matlab, video, matrix, video-processing

我正在使用Mathwork 网站上给出的Matlab 的[场景变化检测示例。](http://www.mathworks.in/help/vision/examples/scene-change-detection.html)代码运行良好，直到最后一段显示以下错误：

> 使用错误 -
> 矩阵尺寸必须一致。场景变化中的错误（第 65 行）
> edge_diff = abs(mean_blks - mean_blks_prev);

错误行是：

```
edge_diff = abs(mean_blks - mean_blks_prev); 
```

我检查了尺寸。它们是：`15 1`和`70 1`。
有人试过这个例子并得到这个错误吗？如何修复此错误？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-20T07:29:33.207

试试这个：

```
len_mean_blks      = length(mean_blks);
len_mean_blks_prev = length(mean_blks_prev);

if len_mean_blks < len_mean_blks_prev
    padded_mean_blks                  = nan(len_mean_blks_prev, 1);
    padded_mean_blks(1:len_mean_blks) = mean_blks;
    edge_diff = abs(padded_mean_blks - mean_blks_prev);
elseif len_mean_blks > len_mean_blks_prev 
    padded_mean_blks_prev                       = nan(len_mean_blks, 1);
    padded_mean_blks_prev(1:len_mean_blks_prev) = mean_blks_prev;
    edge_diff = abs(mean_blks - padded_mean_blks_prev);
end 
```

# python - 后缀符号的评估

> ID：15516527
> 
> 赞同：0
> 
> 时间：2013-03-20T06:12:10.630
> 
> 标签：python, python-2.6

如何计算后固定符号的值：我尝试过：

```
import operator

operator = {
    '+': operator.add, '-':  operator.sub,
    '*': operator.mul, '/':  operator.div, '%':  operator.mod,
    '**': operator.pow, '//': operator.floordiv,
}
l = []
exp = "11+2*"
for i in exp:
    if i in operator:
        a = operator[i]
        x = l[0]
        y = l[1]
        l[-2:] = [a(*l[-2:])]
        print l
    else:
        l.append(i)
        print l 
```

这个怎么做？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-20T06:27:53.327

确保在将字符添加到堆栈之前让 Python 将它们解析为整数：

```
l.append(int(i)) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-20T06:43:03.310

一些提示：

*   您需要一个更好的解析器，仅逐个字符地迭代是不够的（除非您只想拥有一位数）。为了使它更简单一点，您可以要求数字和运算符分别由空格分隔并使用`str.split`：

    ```
    elems = "11 2 3 + *".split() 
    ```

*   您需要将数字转换为整数，然后再将它们推入堆栈

堆栈操作看起来也有点奇怪。将其作为

```
l.append(a(l.pop(), l.pop()) 
```

使它更明确。

# xml - 无序列和多次出现的 XML 模式

> ID：15516528
> 
> 赞同：2
> 
> 时间：2013-03-20T06:12:12.093
> 
> 标签：xml, xml-parsing, xsd

1.  我需要创建一个模式来验证 XML 文件。
2.  标签内的元素`Mother`可以是`Son`或`Daughter`
3.  `Son`或`Daughter`元素没有任何序列。
4.  `Son`我不能多元素（只有一个儿子）。
5.  但`Daughter`可以是多个（多个女儿）。

所以我的问题是如何为此编写 XML 模式。这是我写的。而不是`<xsd:all>`我尝试`<xsd:sequence>`过`<xsd:choice>`。但我不知道如何克服这一点。

```
<xsd:complexType name="Mother">     
 <xsd:all>
  <xsd:element name="Son" type="string" minOccurs="0" maxOccurs="1"/>
  <xsd:element name="Daughter" type="string" minOccurs="0" maxOccurs="1"/>
 </xsd:all>
</xsd:complexType> 
```

-------------------------------这些是正确的 XML 文件------------- ------------------

## **有多个女儿**

```
<Mother>
<Son>Jhon</Son>
<Daughter>Rose</Daughter>
<Daughter>Ann</Daughter>
</Mother> 
```

## 用不同的顺序

```
<Mother>
<Daughter>Rose</Daughter>
<Son>Jhon</Son>
<Daughter>Ann</Daughter>
</Mother> 
```

## 没有儿子或没有女儿或两者都没有

```
<Mother>
<Daughter>Rose</Daughter>
</Mother> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-20T10:35:32.267

在这种特殊情况下，您可以将其作为一个`sequence`零个或多个`Daughter`元素，然后是零个或一个`Son`，然后是另一个零个或`Daughter`多个

```
<xsd:complexType name="Mother">     
 <xsd:sequence>
  <xsd:element name="Daughter" type="string" minOccurs="0" maxOccurs="unbounded"/>
  <xsd:element name="Son" type="string" minOccurs="0" maxOccurs="1"/>
  <xsd:element name="Daughter" type="string" minOccurs="0" maxOccurs="unbounded"/>
 </xsd:sequence>
</xsd:complexType> 
```

如果元素内容比字符串更复杂，我倾向于声明单独的顶级元素并使用引用它们`<xsd:element ref="Daughter" minOccurs=....`

# python - 在python中搜索和删除目录我犯了一个大错误

> ID：15516531
> 
> 赞同：0
> 
> 时间：2013-03-20T06:12:29.560
> 
> 标签：python, search

```
enter code here
import os
os.chdir('I:\\Movies')
files = os.popen('dir').readlines()
disk = raw_input("Enter the disk: ")
while disk != "done":
    os.chdir(disk + ':\\' + 'Movies')
    files_in_disk = os.popen('dir').readlines()
    for each_file in files_in_disk:
        for item in files:
            if ' '.join(each_file.split()[3:]) in item:
                each_file = ' '.join(each_file.split()[3:])
                os.system('rmdir /q /s ' + '"' + each_file + '"')
                break

    disk = raw_input("Enter the disk: ") 
```

我在两个不同的驱动器上有两个相同电影的副本，我编写了这个脚本来
删除其中一个副本。但是在E盘上它几乎擦除了我所有的文件，为什么会发生这种情况，请有人指出我的错误。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-20T06:24:09.513

我认为这里的某些事情并没有达到您的预期：

```
if ' '.join(each_file.split()[3:]) in item: 
```

如果任何文件的空格分隔部分少于 4 个，则 if 的第一位将为空字符串，这将返回 true。

问题是你的循环。对于 E:\Movies 中的每个文件，它会检查 I:\Movies 中的任何文件是否匹配（嗯，第三个单词之后的所有内容）。如果 I:\Movies 中的某个文件恰好有少于 4 个单词（并非完全不可信），那么每次运行时 if 都为真。

我不确定这里的意图是什么，但这是我对可能导致问题的最佳猜测。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-06-07T10:00:07.913

According to Microsft's TechNet article about [rmdir](http://technet.microsoft.com/en-us/library/bb490990.aspx):

> /s : Removes the specified directory and all subdirectories including any files. Use /s to remove a tree.

So, if according to the other answers it is possible to supply non-matching file paths to rmdir it is not very difficult to delete whole subtrees on the disk. Especially if the list of files also contains subdirectories that point to parent subdirectories (for instance i:\movies..), you could be in a world of hurt in cases like that.

But I don't have access to a Windows machine with Python installed to prove it.

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-20T06:17:04.747

您的错误不是最初使用`print each_file`语句运行该程序，而是立即跳转到`rmdir`命令。

虽然这可能读作一个刻薄的答案，但它确实是有帮助的。每当进行不可逆转的更改（例如从文件系统或数据库中删除项目）时，应始终采取一些步骤来验证是否正在生成/执行适当的指令。

# c++ - 返回基为单例的派生类的对象

> ID：15516533
> 
> 赞同：1
> 
> 时间：2013-03-20T06:12:51.763
> 
> 标签：c++, visual-c++

如何返回对象或调用基类为单例的派生类的 getInstance

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-20T06:22:51.193

您将不得不使用 C++ 中不支持的虚拟静态方法（据我所知，它在 Delphi 中受支持 - 好奇）。

您必须决定两个类或每个类是否只有一个实例（例如，如果您通过 GetInstance 创建一个 Derived 实例，您是否能够创建 Base 实例）。

在这些类中没有办法解决这个问题，你必须创建一个类工厂。类似的东西（我已经省略了单例实现以使这个想法更清晰 - 显然你知道，如何实现一个）

```
class SingletonFactory
{
    template<typename T>
    static T * GetInstance()
    {
        return T.GetInstance();
    }
};

class Base
{
    friend class SingletonFactory;

private:
    static Base * GetInstance()
    {
        // ...
    }

protected:
    Base()
    {
    }
};

class Derived : public Base
{
    friend class SingletonFactory;

private:
    static Derived * GetInstance()
    {
    }

protected:
    Derived()
        : Base()
    {
    }
};

// (...)

Derived * d = SingletonFactory::GetInstance<Derived>(); 
```

# android - 如何在 ViewFlipper 中滑动 ListView 行

> ID：15516539
> 
> 赞同：1
> 
> 时间：2013-03-20T06:13:29.197
> 
> 标签：android, listview, gesture, viewflipper

我正在尝试`ListView`在`ViewFlipper`其中也从左到右更改视图的左右滑动

我有两个手势课程，一个是 for `ViewFlipper`，另一个是 for `ListView`。

我的问题是当我尝试应用`SimpleOnGestureListener` `ListView`它时，它的`Motionevent`e1 始终为空

有什么办法可以`gestureListner`在`ListView`.`ViewFlpper`

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-20T06:26:57.477

而不是使用 ViewFlipper。您可以在 android 支持库中使用 ViewPager。

参考[这个](http://developer.android.com/training/animation/screen-slide.html)

# css - 是否可以在 CSS 的新定义中使用以前的类声明？

> ID：15516540
> 
> 赞同：2
> 
> 时间：2013-03-20T06:13:31.840
> 
> 标签：css, inheritance

我试图找到答案，但似乎无法做到，这让我相信这是不可能的。以我对 CSS 工作原理的了解最少，我也不认为这是可能的，但我只是想在开始解决可能存在或不存在的问题之前先问一下。

基本上我要做的是在我的 CSS 样式表的新类中使用先前定义的属性。例如，假设我有几个只包含背景或字体颜色的类，如下所示：

```
.black { background-color: #000000; color: #000000; }
.white { background-color: #FFFFFF; color: #FFFFFF; } 
```

现在，如果我正在定义一个新类（或为此使用任何选择器），是否可以使用现有类中的属性值？这是我的想法的样子：

```
.newClass {
    width: 100%;
    height: 100%;
    background-color: .black; /* this would just get the background-color attribute from the .black class definition */
} 
```

`background-color: .black;`基本上只是“从 .black 类定义中获取背景颜色属性”的占位符。这可能使用纯CSS吗？我知道 PHP/JS 有很多替代品，但我想知道 CSS 是否可以自己解决这个问题。多谢你们。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-20T06:22:16.190

SASS是一件好事。你的代码会像

```
@mixin black-theme {
.black { background-color: #000000; color: #000000; }
}

.newClass {
    width: 100%;
    height: 100%;
    @include black-theme;
} 
```

[SASS](http://sass-lang.com/)

[SASS PHPSASS](http://www.phpsass.com/)的 PHP 编译器

也有基于 javascript 的解决方案，比如[LESS](http://lesscss.org/)，但我通常不推荐它们，因为 Javascript 加载缓慢然后演示变得生涩。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-20T06:21:24.840

不，这在 CSS 中目前是不可能的。CSS 没有变量或引用先前规则中的值的能力。在进入网站之前，您必须寻找一种可以处理成纯 CSS 的 CSS 预处理语言。

如果您愿意采用预处理方式，可以查看[SASS](http://sass-lang.com/)或[LESS](http://www.hongkiat.com/blog/less-basic/)。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-20T06:27:01.560

是的，可以使用[SASS](http://sass-lang.com/)或[LESS](http://lesscss.org/) css

```
@bgcolor : black;

.newClass {
    width: 100%;
    height: 100%;
    background-color:@bgcolor;
} 
```

# unit-testing - 模拟 DBSet，EF 模型优先

> ID：15516543
> 
> 赞同：3
> 
> 时间：2013-03-20T06:13:36.560
> 
> 标签：unit-testing, asp.net-mvc-4, nunit, entity-framework-5, rhino-mocks

正如标题中所说，我遵循模型优先方法。所以我的模型类是自动生成的。如果我想模拟包含实体类的`DBContext`派生类。阅读一些地方，为了进行单元测试，您需要将其更改为. 是否可以这样做，尤其是在我执行“运行自定义工具”时自动生成的类中是一个问题。但截至目前，我对其进行了修改。`MyModelContainer``DBSets``IDBSet`

但真正的问题是：当我尝试 Stub`MyModelContainer`返回一个从`IDBSet`. Rhino 模拟正在触发 InvalidOperationException：“无效调用，已使用最后一次调用，或未进行任何调用（确保您正在调用虚拟（C#）/可覆盖（VB）方法。”

这是我的单元测试代码。

```
MyModelContainer dbMock = MockRepository.GenerateMock<MyModelContainer>();
IDBSet<Models.MyEntity> entityMock = MockRepository.GenerateMock<IDBSet<Models.MyEntity>>()
dbMock.Stub( x=>x.MyEntities ).Return( entityMock ); 
```

最后一条语句触发了异常。[我尝试使用此处](https://stackoverflow.com/questions/3463017/unit-testing-with-ef4-code-first-and-repository)`IDBSet<>`指定的假实现，但没有运气！

我使用 MVC 4，Rhino Mocks 3.6。任何帮助将不胜感激。

**更新：**

经过一些试验和研究，我找到了解决办法。我将代码更改为：

```
MyModelContainer dbMock = MockRepository.GenerateMock<MyModelContainer>();
IDBSet<Models.MyEntity> entityMock = MockRepository.GenerateMock<IDBSet<Models.MyEntity>>()
//dbMock.Stub( x=>x.MyEntities ).Return( entityMock );
dbMock.MyEntities = entityMock; 
```

现在`InvalidOperationException`没有了。测试失败只是因为`ExpectationViolationException`这应该是正常的。

至于自动生成的模型类，发现编辑`DbContext's` **T4 模板（.tt 扩展名）**就可以了。感谢[艾伦的博客](http://mylifeandcode.blogspot.in/2012/10/unit-testing-with-mock-entity-framework.html)

*但我想知道为什么以前的代码不起作用。任何人？*

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-20T20:19:53.260

这里可能有2个原因：

1.  `MyEntites`的属性`MyModelContainer`不是虚拟的。
    在那种情况下，Rhino Mock 根本无法存根这个属性。然后`dbMock.Stub(x=>x.MyEntities)`会失败。

2.  `MyEntites`属性是虚拟的，但同时具有公共 getter 和公共 setter。
    那么符号`dbMock.Stub(x=>x.MyEntities).Return(entityMock)`是不允许的。[你可以在这里](http://comments.gmane.org/gmane.comp.windows.devel.dotnet.rhino-mocks/1462)看到解释。

在这两种情况下，正确的解决方法正是您所做的：使用`dbMock.MyEntities = entityMock`而不是`dbMock.Stub(x=>x.MyEntities).Return(entityMock)`.

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2016-03-02T12:13:34.563

这是 Stubing（使用 RhinoMocks）IDbSet 返回 IQueryable 的扩展方法

```
public static class RhinoExtensions
{
    public static IDbSet<T> MockToDbSet<T>(this IQueryable<T> queryable) where T : class
    {
        IDbSet<T> mockDbSet = MockRepository.GenerateMock<IDbSet<T>>();
        mockDbSet.Stub(m => m.Provider).Return(queryable.Provider);
        mockDbSet.Stub(m => m.Expression).Return(queryable.Expression);
        mockDbSet.Stub(m => m.ElementType).Return(queryable.ElementType);
        mockDbSet.Stub(m => m.GetEnumerator()).Return(queryable.GetEnumerator());
        return mockDbSet;
    }
} 
```

然后您现在可以像这样对 DbContext 存根：

```
_db.Stub(p => p.Customers).Return(fakeCustomers.MockToDbSet()); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2016-08-31T12:33:02.550

这是替换 IDbSet（使用 NSubstitute）返回 IQueryable 的扩展方法

```
 public static DbSet<T> FakeDbSet<T>(this IQueryable<T> queryable) where T : class
    {
        DbSet<T> fakeDbSet = Substitute.For<DbSet<T>, IQueryable<T>>();
        ((IQueryable<T>)fakeDbSet).Provider.Returns(queryable.Provider);
        ((IQueryable<T>)fakeDbSet).Expression.Returns(queryable.Expression);
        ((IQueryable<T>)fakeDbSet).ElementType.Returns(queryable.ElementType);
        ((IQueryable<T>)fakeDbSet).GetEnumerator().Returns(queryable.GetEnumerator());
        fakeDbSet.AsNoTracking().Returns(fakeDbSet);
        return fakeDbSet;
    } 
```

然后您现在可以像这样对 DbContext 存根：

```
 var db = NSubstitute.Substitute.For<DataContext>();
        var fakeResult = emptyCustomers.FakeDbSet();
        db.Customers.Returns(fakeResult); 
```

# android - 使用 Titanium 创建的 Android 应用程序数据存储在 Mac 中的位置

> ID：15516545
> 
> 赞同：1
> 
> 时间：2013-03-20T06:13:38.490
> 
> 标签：android, android-emulator, location, titanium-mobile

我正在使用`Titanium`框架在 Mac OSX 中创建 Android 应用程序。我正在搜索使用 Titanium 创建的 android 应用程序的位置。

我们可以看到我们的`iPad`或`iPhone`基于`iOS version`. 它的位置是它的 iOS 版本文件夹。但我无法找到 android 应用程序的位置。

我已经用谷歌搜索但没有帮助。

谢谢。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2021-01-14T11:13:30.190

如果您在 Mac 上运行，请打开 AVD 管理器。单击箭头，然后单击“在磁盘上显示”（...） [![在此处输入图像描述](../Images/ca428947682aea47f3893423072c0d14.png)](https://i.stack.imgur.com/CnG22.png)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-03-21T14:17:13.357

通常它们保存在您的用户配置文件中。`~/.android/avd`是一个典型的位置。它们也可能位于 SDK 的目录中。如果您设置`ANDROID_SDK_HOME`为环境变量，则可能会发生这种情况。

**要访问 android 模拟器的文件系统，**您有两种可能性：

1.  使用 SDK[设备监视器](http://developer.android.com/tools/help/monitor.html)。它为模拟器的文件系统提供了一个图形界面。如果您的 PATH 环境中有 android SDK，您可以通过 Terminal -> 访问它`monitor`。

2.  或者，您可以通过命令行 shell 访问文件系统：终端 -> `adb -e shell`。您已经具有 root 访问权限。

# html - 为结果划分表格

> ID：15516546
> 
> 赞同：0
> 
> 时间：2013-03-20T06:13:43.217
> 
> 标签：html

我有一个选择表中名称的查询。
我想将结果划分为每个表数据的 15 个名称。
接下来的 15 个名称是否有可能显示在下一个表数据中？如何？

```
 <?php
    extract($_POST);
    if($_POST['filter1'] == "Individual"){
    if(isset($submitsearch)){
        //if(!empty($searchquery)){
        $sql    = "SELECT * FROM contact_individual WHERE name LIKE '%$searchquery%' ORDER BY name";
        $query  = mysql_query($sql);
        $count  = mysql_num_rows($query);

            for($x=0;$x<$count;$x++){
                $data   = mysql_fetch_array($query);
?>
<table class="tsearch">
    <tr>
        <td>
            <form method="GET" action="resultindividualprofile.php">
                <input type="text" name="text" hidden="hide" value="<?echo $data['contactID_individual'];?>"/>
                <input type="submit" class="rep" name="this" value="<?echo $data['name'];?>"/>
                <!--<a href="?view=<?php //echo $data['contactID_individual']; ?>"><?php //echo $data['name']; ?></a>-->
            </form>
        </td>
    </tr>
</table> 
```

编辑：

![在此处输入图像描述](../Images/b493fd29025cb6294570f9a7dbe7f48d.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-20T06:19:55.100

做这个 ：

```
<?php 
if($_POST['filter1'] == "Individual"){
    $sql    = "SELECT * FROM contact_individual WHERE name LIKE '%".$searchquery."%' ORDER BY name";
    $query  = mysql_query($sql) or die(mysql_error());
    $count  = mysql_num_rows($query);
?>
<table class="tsearch">
<?php 
$x=0;
while($data = mysql_fetch_array($query))
{     
    if($x > 0 && $x%15==0)
    {
       echo '</table><table class="tsearch">';
    }       
?>

<tr>
    <td>
        <form method="GET" action="resultindividualprofile.php">
            <input type="text" name="text" hidden="hide" value="<?echo $data['contactID_individual'];?>"/>
            <input type="submit" class="rep" name="this" value="<?echo $data['name'];?>"/>
            <!--<a href="?view=<?php //echo $data['contactID_individual']; ?>"><?php     //echo $data['name']; ?></a>-->
        </form>
    </td>
</tr>
<?php $x++; } ?>
</table>
<?php } ?> 
```

# c# - 在 .net 中会话重新生成后会话数据丢失

> ID：15516555
> 
> 赞同：0
> 
> 时间：2013-03-20T06:14:17.773
> 
> 标签：c#, asp.net, session

我在登录页面上重新生成了会话并设置了 session["xx"}="yy"; 在一些变量中。但重定向到主页会话数据后丢失。谁能告诉我这个问题。这是会话重新生成的代码。

```
SessionIDManager manager = new SessionIDManager();
manager.RemoveSessionID(System.Web.HttpContext.Current);
var newId = manager.CreateSessionID(System.Web.HttpContext.Current);
var isRedirected = true;
var isAdded = true;
manager.SaveSessionID(System.Web.HttpContext.Current, newId, out isRedirected, out isAdded); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-20T08:09:11.347

当您创建和设置新的 sessionId 时，旧会话将无法使用新的 sessionid。因此，首先您需要销毁会话 cookie，然后我们在重定向到登录页面之前重新创建一个新的 sessionID。你可以试试这个：

```
Session.Abandon();
Response.Cookies.Add(new HttpCookie("ASP.NET_SessionId", ""));
SessionIDManager manager = new SessionIDManager();
manager.RemoveSessionID(System.Web.HttpContext.Current);
var newId = manager.CreateSessionID(System.Web.HttpContext.Current);
var isRedirected = true;
var isAdded = true;
manager.SaveSessionID(System.Web.HttpContext.Current, newId, out isRedirected, out isAdded);
Response.Redirect("Login page url"); 
```

# wordpress - 通过 WordPress 仪表板导出 wp 内容？

> ID：15516557
> 
> 赞同：0
> 
> 时间：2013-03-20T06:14:29.053
> 
> 标签：wordpress, wordpress-theming

任何人都知道是否有办法从 WP 仪表板导出 wp-content 目录？我继承了一个项目，以前的开发人员不合作。我想绕过他的不合作，只导出主题、上传、插件等。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-20T06:20:22.500

您可以使用[backupwordpress](http://wordpress.org/extend/plugins/backupwordpress/) 插件来备份所有 wordpress 和数据库，并且可以尝试文件管理器和其他相关插件进行编辑

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2019-08-14T09:45:58.493

[文件管理器插件](https://wordpress.org/plugins/wp-file-manager/)是为我做的。安装它，单击侧边栏中的新图标进入插件文件浏览器，然后右键单击以下载所需的文件夹或文件。

# php - 使用 RecursiveDirectoryIterator 在目录路径中查找字符串

> ID：15516562
> 
> 赞同：0
> 
> 时间：2013-03-20T06:14:54.343
> 
> 标签：php, directory-structure

我正在寻找一种方法来测试 RecursiveDirectoryIterator 的对象输出的一部分。我知道如何识别文件夹，但我是 php 新手，不熟悉如何查看文件夹对象路径的内容......这可能吗？

我有以下内容：

```
foreach($files as $object){
    $indent = str_repeat('   ', $files->getDepth());
    if($object->isDir()){
        //I know this is wrong... here is where I would want to find the string:
        if($object contains 'mystring')){
            echo "%%%-------found the string!\n";
        }else{
            echo $indent, "|| dir: $object\n";
        }   
    }else{
        echo $indent, "-- $object\n";
    }   
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-20T07:17:25.690

换行

```
if($object contains 'mystring')){ 
```

和：

```
if(strpos($object->getPathname(), 'mystring') === false){ 
```

这将在对象的完整路径中搜索字符串“mystring”，如果“mystring”不是路径的一部分，则返回布尔值 false

顺便说一句，php中的字符串连接是用点而不是逗号，所以你可能想在 `echo $indent."-- $object\n";`之后做

# android - 放大画布上的一部分图像

> ID：15516563
> 
> 赞同：0
> 
> 时间：2013-03-20T06:14:55.980
> 
> 标签：android

如何使用画布放大图像的单击部分。我尝试使用裁剪的想法，但发现裁剪使用内置系统

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-20T06:31:57.413

您可以使用 a`BitmapRegionDecoder`获取要放大的图像区域并将其显示在单独的视图中。

```
ByteArrayOutputStream stream = new ByteArrayOutputStream();
yourImageBitmap.compress(Bitmap.CompressFormat.JPEG, 100, stream);

byte[] bmpArray = stream.toByteArray();
BitmapRegionDecoder decoder = BitmapRegionDecoder.newInstance(bmpArray, 0, bmpArray.length, false);
Bitmap region = decoder.decodeRegion(new Rect(leftCoordinate, topCoordinate, rightCoordinate, bottomCoordinate), null); 
```

这可能会解决您的问题

# php - 在mysql中使用自定义日期排序

> ID：15516565
> 
> 赞同：1
> 
> 时间：2013-03-20T06:15:02.830
> 
> 标签：php, mysql, codeigniter

我需要在我的数据库中获取信息。每行都有一个日期，格式类似于 2013 年 1 月。如何对它们进行排序，例如最晚的日期将首先给出？这些信息没有按顺序插入，因此需要首先对其进行排序。谢谢！:)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-20T06:17:24.323

只要您将日期保存在正确类型的列中，例如 TIMESTAMP、DATE 等，日期格式就无关紧要。如果您的日期保存在 VARCHAR 中，那么您的数据库就会被破坏，您应该首先修复列类型。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-20T06:21:07.040

您已将日期存储在`varchar`. 所以使用`STR_TO_DATE()`函数进行排序

```
SELECT * FROM table WHERE STR_TO_DATE(column, %M %Y) ORDER BY column DESC 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-20T08:13:55.073

好的，这有点棘手，但它认为这是唯一的方法，因为你的表中有 varchar 作为数据类型。它有效，但我不确定大型表数据的性能。诀窍是将您的 varchar 分成 2 个数字字段，一个带有年份和月份编号。

```
 SELECT mydate
FROM mytable
ORDER BY RIGHT(mydate,4) DESC, //get the year
CASE LEFT(mydate,INSTR(mydate,' ')-1)
WHEN 'January' THEN 1
WHEN 'February' THEN 2
WHEN 'March' THEN 3
WHEN 'April' THEN 4
WHEN 'May' THEN 5
WHEN 'June' THEN 6
WHEN 'July' THEN 7
WHEN 'August' THEN 8 
WHEN 'September' THEN 9
WHEN 'October' THEN 10
WHEN 'November' THEN 11
WHEN 'December' THEN 12
END DESC //get the month and turn in to number 
```

# jquery - 日期选择器中的日期 UTC

> ID：15516567
> 
> 赞同：0
> 
> 时间：2013-03-20T06:15:06.997
> 
> 标签：jquery, date, datepicker

显示小日期时出现问题。目前它显示长 UTC 日期和时间。

```
var events = [ 
    { Title: "Five K for charity", Date: new Date("03/13/2013"), Time: "11:15" }, 
    { Title: "Dinner", Date: new Date("03/25/2013"), Time: "11:15" }, 
    { Title: "Meeting with manager", Date: new Date("03/01/2013"), Time: "11:15" }
];

        for(var d=0;d<events.length;d++) {
        $('.myarray').append('<div><span>'+events[d].Title + '</span><br>' + events[d].Date + '<br>' + events[d].Time + '<br><br></div>');
        } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-20T06:26:06.427

你的`event[]`数组应该是这样的：

```
var events = [{
   Title: "Five K for charity",
   Date: "03/13/2013",
   Time: "11:15"
}, {
   Title: "Dinner",
   Date: "03/25/2013",
   Time: "11:15"
}, {
   Title: "Meeting with manager",
   Date: "03/01/2013",
   Time: "11:15"
}]; 
```

`Date: new Date("03/25/2013"),`这将创建具有标准的完整日期和时间。

# android - 进度条的使用

> ID：15516569
> 
> 赞同：-2
> 
> 时间：2013-03-20T06:15:24.153
> 
> 标签：android, progress-bar

我创建了一个应用程序，其中有 5 个按钮用于流式传输 5 个不同的直播频道。除了 5 个按钮，我还有一个进度条（环）。我正在使用进度条，因为视频需要时间来加载。我在 AsyncTask 的 onBackground() 中编写了主要代码，它返回一些在按钮的单击事件中调用的值。由于所有 5 个按钮都分配了不同的 url，我如何为所有 5 个按钮使用相同的 onBackground()？在这种情况下该怎么办？谁能给我一个很好的例子。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-20T06:21:06.823

`onBackground()`是 AsyncTask 的一部分。它与按钮或其他 UI 元素没有任何共同之处。如果您想重用代码，只需将您的 UI 作为参数传递给 AsyncTask 构造函数，然后在需要时使用它。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-20T06:23:03.507

```
Video Path 
```

**私有静态字符串 file_url = "url";**

```
 in your activity 
```

**新的 DownloadFileFromURL().execute(file_url);**

```
@Override
protected Dialog onCreateDialog(int id) {
    switch (id) {
    case progress_bar_type: // we set this to 0
        pDialog = new ProgressDialog(this);
        pDialog.setMessage("Downloading file. Please wait...");
        pDialog.setIndeterminate(false);
        pDialog.setMax(100);
        pDialog.setProgressStyle(ProgressDialog.STYLE_HORIZONTAL);
        pDialog.setCancelable(true);
        pDialog.show();
        return pDialog;
    default:
        return null;
    }
}

Background Async Task to download file

/**
     * Background Async Task to download file
     * */
    class DownloadFileFromURL extends AsyncTask<String, String, String> {

        /**
         * Before starting background thread Show Progress Bar Dialog
         * */
        @Override
        protected void onPreExecute() {
            super.onPreExecute();
            showDialog(progress_bar_type);
        }

        /**
         * Downloading file in background thread
         * */
        @Override
        protected String doInBackground(String... f_url) {
            int count;
            try {
                URL url = new URL(f_url[0]);
                URLConnection conection = url.openConnection();
                conection.connect();

                // this will be useful so that you can show a tipical 0-100%
                // progress bar
                int lenghtOfFile = conection.getContentLength();

                // download the file
                InputStream input = new BufferedInputStream(url.openStream(),
                        8192);

                // Output stream
                OutputStream output = new FileOutputStream(Environment
                        .getExternalStorageDirectory().toString()
                        + "/demo.mp4");

                byte data[] = new byte[1024];

                long total = 0;

                while ((count = input.read(data)) != -1) {
                    total += count;
                    // publishing the progress....
                    // After this onProgressUpdate will be called
                    publishProgress("" + (int) ((total * 100) / lenghtOfFile));

                    // writing data to file
                    output.write(data, 0, count);
                }

                // flushing output
                output.flush();

                // closing streams
                output.close();
                input.close();

            } catch (Exception e) {
                Log.e("Error: ", e.getMessage());
            }

            return null;
        }

        /**
         * Updating progress bar
         * */
        protected void onProgressUpdate(String... progress) {
            // setting progress percentage
            pDialog.setProgress(Integer.parseInt(progress[0]));
        }

        /**
         * After completing background task Dismiss the progress dialog
         * **/
        @Override
        protected void onPostExecute(String file_url) {
            // dismiss the dialog after the file was downloaded
            dismissDialog(progress_bar_type);

            // Displaying downloaded video into video view
            // Reading image path from sdcard
            String videopath = Environment.getExternalStorageDirectory()
                    .toString() + "/demo.mp4";
            // setting downloaded into image view

        }

    } 
```

# python - 如何在 python 中将文本转换为语音（mp3 文件）？

> ID：15516572
> 
> 赞同：6
> 
> 时间：2013-03-20T06:15:32.980
> 
> 标签：python, audio, mp3, text-to-speech

我可以使用 puttsx 在 python 中将文本转换为语音。我可以使用麦克风（耳机）将音频录制到 mp3 文件。

我想要做的是将文本转换为 mp3 文件。
有没有办法将使用 pyttsx 播放的音频存储到内存或 unicode 字符串。

谁能帮我将音频存储到内存中，或者我如何将该字符串转换为 mp3 文件。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-05-16T15:01:43.273

要从文本文件生成音频文件，我正在使用此代码，希望它可以帮助您

```
from comtypes.client import CreateObject    
engine = CreateObject("SAPI.SpVoice")
stream = CreateObject("SAPI.SpFileStream")
from comtypes.gen import SpeechLib
infile = "SHIVA.txt"
outfile = "SHIVA-audio.wav"
stream.Open(outfile, SpeechLib.SSFMCreateForWrite)
engine.AudioOutputStream = stream
f = open(infile, 'r')
theText = f.read()
f.close()
engine.speak(theText)
stream.Close() 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-20T06:49:47.637

我不知道 pyttsx，但不久前我使用 Google TTS API 从文本生成 MP3。

[您可以从此代码片段](http://pastebin.com/VcSSzTHu)了解它的工作原理。免费版的 Google TTS 仅限于每个请求的一定数量的字母，因此我建议将文本拆分为句子并为每个句子创建一个文件。

如果您需要这方面的帮助，请告诉我。

# javascript - 如何在 django 应用程序中更改 DIV 内容

> ID：15516574
> 
> 赞同：1
> 
> 时间：2013-03-20T06:15:36.417
> 
> 标签：javascript, jquery, html, ajax, django

我想通过 ajax GET 方法用新内容替换 DIV 内容。问题是整个页面正在加载到 DIV 中。但我只想加载新内容。

```
 function demoButton(){

        var forData = $('#For').text();
        var ageData = $('#Age').text();
        var occasionData = $('#Occasion').text();
        var URL ="http://127.0.0.1:8000/result/?age="+ ageData +"&occasion="+ occasionData +"&relationship="+ forData;

$.ajax({
    type: "GET",
    url: URL,
    success: function (response) {
        $("#testDIV").html(response);
    }
}); 
} 
```

我的 DIV 块是：

```
<div id="testDIV"> 
 <ul id="products">
 {% for deal in deals %}
  <li data-price="{{ deal.price }}" > 
   <div class="product" >
          <div class="inner"> 
           <a href="/dailydeals/{{ deal.id }}/"><img src="{{ STATIC_URL }}/images/cimages/{{ deal.image }}" alt="image" style='width:177px;height:175px;' /> </a>
            <div class="similarProd"><a href="#">View similar product</a></div>
            <div class="heart"><a href="/usersl/{{user.id}}/{{ deal.id }}"><span>Engraved plaque fsor your<br>

              girlfriend</span></a></div>

            <div class="quickView"><a href="#qv_form{{ deal.id }}" id="fb_pop">QUICK VIEW</a></div>
            <div class="socialMedia"><a href="#"> <img src="/static/images/like.jpg" alt="Like" /></a></div>
          </div>
          <div class="description" style='width:177px;height:50px;'> <span class="price">{{ deal.price }}</span> {{ deal.description|safe }} <br />
           </div>
           <a href="/usersl/">Add to SL</a>
        </div>
                     </li>
   {% endfor %}
  </ul> 

        </div> 
```

我正在开发一个基于 Django 的电子商务应用程序。我想用从服务器获取的内容替换 DIV 的内容，以响应对服务器的 GET 请求。但问题是整个页面正在加载到 DIV 中。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-20T06:27:35.267

让您的视图只返回适合您的 div 的 HTML，而不是完整的页面。

例如，如果您的`http://127.0.0.1:8000/result/`URL 仅打算在您的 AJAX 调用中使用，那么让该 URL 的视图只呈现一个没有 HEAD、BODY 标记等的模板。

您可能有一个类似这样的模板：

```
<ul>
  <li>
    {{ object.value }}
  </li>
<ul> 
```

请注意，它不会从`base.html`模板或任何其他模板扩展，因此在呈现模板时，只会呈现您指定的模板内容。但是，没有什么可以阻止用户点击您的 URL，在这种情况下，返回的结果将不是有效的 HTML，无法在浏览器中显示。

有替代方案。您可以在 AJAX 响应中使用 JSON 提供来自服务器的数据，并从 JSON 数据构建 DOM。或者，您可以让整个页面按原样提供，并使用 jQuery 将 div 的内容仅替换为返回页面的一个子部分，如下所示：

```
$('#result-div').load(URL + ' #container-div'); 
```

jQuery [load()](http://api.jquery.com/load/)函数允许您指定加载的 HTML 的片段以插入到您的 div 中。在上面的示例中，`#container-div`提供的 HTML 中元素的内容将插入到`#result-div`. 提供的 HTML 的其余部分将被丢弃。

# php - 为什么 PEAR 不使用绝对路径？

> ID：15516575
> 
> 赞同：0
> 
> 时间：2013-03-20T06:15:47.633
> 
> 标签：php, pear

为什么 PEAR 这样做：

```
require_once 'HTML/QuickForm2/Exception.php'; 
```

而不是这个？：

```
require_once dirname(__FILE__) . '/Exception.php'; 
```

关于这个问题，我唯一能找到的是：

[https://pear.php.net/bugs/bug.php?id=17517](https://pear.php.net/bugs/bug.php?id=17517)

它应该是“与 PEAR 标准和设计指南完全相反的方向”。我的问题是……为什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-20T09:41:12.343

PEAR 严重依赖包含路径，这使得通过简单地将另一个目录添加到包含路径来覆盖类成为可能。

例子：

```
require_once 'Foo/Bar.php'; 
```

将`Foo/Bar.php`在 中指定的每个目录中查找`include_path`。如果你想提供你自己的补丁`Foo/Bar.php`，你可以简单地做一个

```
set_include_path(__DIR__ . '/patches/' . PATH_SEPARATOR . get_include_path()); 
```

`Foo/Bar.php`并在目录中创建一个文件`patches/`。您正在使用的库类现在将自动使用您的自定义`Foo_Bar`类，无需任何修改。

# json - ajax jquery - 无效的 JSON 格式

> ID：15516576
> 
> 赞同：-1
> 
> 时间：2013-03-20T06:15:56.780
> 
> 标签：json, jquery

我正在尝试将 json 对象发送到 Web 服务。我在萤火虫中遇到错误。

```
{"Message":"Invalid object passed in, \u0027:\u0027 or \u0027}\u0027 expected. (3423): {\u0027GUID\u0027:\u0027urhhh1bqbezjvb45dnqlgj45\u0027,\u0027RuleName\u0027:\u0027Summary Check\u0027,\u0027LinkArray\u0027:\u0027[{\"from\":\"Start\",\"to\":\"Count\",\"text\":\"Next\",\"fromPort\":\"5\",\"toPort\":\"1\"},{\"from\":\"Count.6\",\"to\":\"Multiple Decisions\",\"text\":\"Next\",\"fromPort\":\"5\",\"toPort\":\"1\"},{\"from\":\"Multiple Decisions\",\"to\":\"Status\",\"text\":\"True\",\"fromPort\":\"3\",\"toPort\":\"7\"},{\"from\":\"Multiple Decisions\",\"to\":\"Finish\",\"text\":\"False\",\"fromPort\":\"5\",\"toPort\":\"1\"},{\"from\":\"Status\",\"to\":\"Finish.14\",\"text\":\"Next\",\"fromPort\":\"3\",\"toPort\":\"7\"},{\"from\":\"Count\",\"to\":\"Count.6\",\"text\":\"Next\",\"fromPort\":\"5\",\"toPort\":\"1\"}]\u0027,\u0027NArray\u0027:\u0027[{\"key\":\"StatusText\",\"category\":\"Comment\",\"location\":\"10 10\",\"text\":\"Step 10\\rEvent = PAEditQuote\\rModel = PAStatementValidation\",\"figure\":\"RoundedRectangle\"},{\"key\":\"Start\",\"category\":\"begin\",\"type\":\"Start\",\"location\":\"169 124\",\"size\":\"57 55\",\"text\":\"\",\"tooltip\":\"Datasource=\",\"break\":\"false\",\"Properties\":{\"Name\":\"Start\"}},{\"key\":\"Count.6\",\"category\":\"image\",\"type\":\"Count\",\"location\":\"172 378\",\"size\":\"49 49\",\"text\":\"# of Sele QA’s\",\"tooltip\":\"Number of Sele Question Answers=Statement Sele QA Where Statement Sele Answer Required equals Y\",\"break\":\"false\",\"Properties\":{\"Variable\":\"[:000013]\",\"Name\":\"Count\",\"Message\":\"Count\",\"ShortName\":\"Statement Sele QA\",\"Operand1\":\"equals\",\"Value1\":\"Y\",\"CountType1\":\"All\",\"DecShortName\":\"Statement Sele Answer Required\",\"DataBase\":\"DB1\",\"Table\":\"SHSeleQuestions\",\"XMLPath\":\"DB1\\\\SHSeleQuestions\",\"DecXMLPath\":\"DB1\\\\SHSeleQuestions\\\\ResponseReqInd\"}},{\"key\":\"Multiple Decisions\",\"category\":\"Decision\",\"type\":\"DecPlus\",\"location\":\"169 508\",\"size\":\"75 56\",\"text\":\"If no required answers given\",\"tooltip\":\"Number of Sele Question Answers is greater than 0\",\"break\":\"false\",\"Properties\":{\"DecisionInd\":\"True\",\"Variable1\":\"[:000013]\",\"Operand1_1\":\"is greater than\",\"Value1_1\":\"0\",\"Name\":\"DecPlus\",\"Variable2\":\"[:000015]\",\"Operand1_2\":\"equals\",\"Value1_2\":\"0\"}},{\"key\":\"Finish\",\"category\":\"end\",\"type\":\"Finish\",\"location\":\"172 625\",\"size\":\"57 55\",\"text\":\"\",\"tooltip\":\"\",\"break\":\"false\",\"Properties\":{\"Name\":\"Finish\"}},{\"key\":\"Status\",\"category\":\"image\",\"type\":\"Status\",\"location\":\"313 508\",\"size\":\"53 49\",\"text\":\"HOST003\",\"tooltip\":\"Warning=HOST003 - All Questions must be answered on the Statement Page.\",\"break\":\"false\",\"Properties\":{\"Name\":\"Status\",\"Message\":\"Validation.IValidation\",\"StatusCode\":\"PADriver002\",\"StatusType\":\"Error\",\"StatusMessage\":\"All Questions must be answered on the Statement Page.\",\"StatusPage\":\"PAStatement.aspx\",\"Unique\":\"False\"},\"Unique\":\"False\"},{\"key\":\"Finish.14\",\"category\":\"end\",\"type\":\"Finish\",\"location\":\"461 508\",\"size\":\"57 55\",\"text\":\"Stop Model\",\"tooltip\":\"\",\"break\":\"false\",\"Properties\":{\"Name\":\"Finish\",\"Termination\":\"StopModel\"}},{\"key\":\"Count\",\"category\":\"image\",\"type\":\"MultiCount\",\"location\":\"172 252\",\"size\":\"49 49\",\"selected\":\"true\",\"text\":\"Statement Answer\",\"tooltip\":\"=\",\"break\":\"false\",\"Properties\":{\"Variable\":\"[:000015]\",\"Name\":\"MultiCount\",\"Message\":\"MultiCount\",\"ShortName\":\"Statement Answer\",\"CountType1\":\"All\",\"ShortName1\":\"Statement Answer\",\"Operand1_1\":\"does not equal\",\"Item\":\"1\",\"XMLDoc\":\"PagePolicyData\",\"XMLPath\":\"PagePolicyData\\\\ValidationMessage\\\\PageContent\\\\ACORD\\\\PersAutoLineBusiness\\\\QuestionAnswer\\\\YesNoCd\",\"XMLPath1\":\"PagePolicyData\\\\ValidationMessage\\\\PageContent\\\\ACORD\\\\PersAutoLineBusiness\\\\QuestionAnswer\\\\YesNoCd\",\"XMLCondPath\":\"Root\\\\PagePolicyData\\\\ValidationMessage\\\\PageContent\\\\ACORD\\\\PersAutoLineBusiness\\\\QuestionAnswer{((YesNoCd != \u0027\u0027))}\\\\YesNoCd\"}},{\"category\":\"Comment\",\"location\":\"450 50\",\"size\":\"150 38\",\"figure\":\"RoundedRectangle\",\"text\":\"Summary Check\"}]\u0027,\u0027RulesArray\u0027:\u0027{\"0\":\"Check Bypass\",\"1\":\"Bypass Edorsement\",\"2\":\"Statement Questions\"}\u0027}","StackTrace":"   at System.Web.Script.Serialization.JavaScriptObjectDeserializer.DeserializeDictionary(Int32 depth)\r\n   at System.Web.Script.Serialization.JavaScriptObjectDeserializer.DeserializeInternal(Int32 depth)\r\n   at System.Web.Script.Serialization.JavaScriptObjectDeserializer.BasicDeserialize(String input, Int32 depthLimit, JavaScriptSerializer serializer)\r\n   at System.Web.Script.Serialization.JavaScriptSerializer.Deserialize(JavaScriptSerializer serializer, String input, Type type, Int32 depthLimit)\r\n   at System.Web.Script.Serialization.JavaScriptSerializer.Deserialize[T](String input)\r\n   at System.Web.Script.Services.RestHandler.GetRawParamsFromPostRequest(HttpContext context, JavaScriptSerializer serializer)\r\n   at System.Web.Script.Services.RestHandler.GetRawParams(WebServiceMethodData methodData, HttpContext context)\r\n   at System.Web.Script.Services.RestHandler.ExecuteWebServiceCall(HttpContext context, WebServiceMethodData methodData)","ExceptionType":"System.ArgumentException"} 
```

Jquery ajax 对 web 服务的调用如下：

```
 var LinkArray = localStorage['LinkArray'];
    var NodeArray = localStorage['NArray'].replace("'", "\'");           
    var RulesArray=localStorage['TabList'];
    var Parameters = "{'GUID':'" + GetQueryStringValue('GUID') + "','RuleName':'" + $("#rulename").text() + "','LinkArray':'" + LinkArray + "','NArray':'" + NodeArray + "','RulesArray':'" + RulesArray + "'}";
    //var Parameters = '{"GUID":"' + GetQueryStringValue("GUID") + '","RuleName":"' + $('#rulename').text() + '","LinkArray":"' + LinkArray + '","NArray":"' + NodeArray + '","RulesArray":"' + RulesArray + '"}';

    $.ajax({
        type: "POST",
        url: "../RulesWebService.asmx/UpdateAllProperties",
        data: Parameters,            
        contentType: 'application/json; charset=utf-8',            
        crossBrowser: true,
        success: function (GetStatusRs) {

        },
        //onerror throw error.
        error: function (XMLHttpRequest, textStatus, errorThrown) {
            alert('Error Getting status for parameters: - Error:' + errorThrown);
        }
    }); 
```

我的网络方法具有以下结构：

```
<WebMethod(EnableSession:=True)> _
  Public Function UpdateAllProperties(ByVal GUID As String, ByVal RuleName As String, ByVal LinkArray As String, ByVal NArray As String, ByVal RulesArray As String) As String
  'some stuff here.
End Function 
```

下面是我将其发布到服务器的参数值。

```
{'GUID':'urhhh1bqbezjvb45dnqlgj45','RuleName':'Summary Check','LinkArray':'[{"from":"Start","to":"Count","text":"Next","fromPort":"5","toPort":"1"},{"from":"Count.6","to":"Multiple Decisions","text":"Next","fromPort":"5","toPort":"1"},{"from":"Multiple Decisions","to":"Status","text":"True","fromPort":"3","toPort":"7"},{"from":"Multiple Decisions","to":"Finish","text":"False","fromPort":"5","toPort":"1"},{"from":"Status","to":"Finish.14","text":"Next","fromPort":"3","toPort":"7"},{"from":"Count","to":"Count.6","text":"Next","fromPort":"5","toPort":"1"}]','NArray':'[{"key":"StatusText","category":"Comment","location":"10 10","text":"Step 10\rEvent = PAEditQuote\rModel = PAStatementValidation","figure":"RoundedRectangle"},{"key":"Start","category":"begin","type":"Start","location":"169 124","size":"57 55","text":"","tooltip":"Datasource=","break":"false","Properties":{"Name":"Start"}},{"key":"Count.6","category":"image","type":"Count","location":"172 378","size":"49 49","text":"# of Sele QA’s","tooltip":"Number of Sele Question Answers=Statement Sele QA Where Statement Sele Answer Required equals Y","break":"false","Properties":{"Variable":"[:000013]","Name":"Count","Message":"Count","ShortName":"Statement Sele QA","Operand1":"equals","Value1":"Y","CountType1":"All","DecShortName":"Statement Sele Answer Required","DataBase":"DB1","Table":"SHSeleQuestions","XMLPath":"DB1\\SHSeleQuestions","DecXMLPath":"DB1\\SHSeleQuestions\\ResponseReqInd"}},{"key":"Multiple Decisions","category":"Decision","type":"DecPlus","location":"169 508","size":"75 56","text":"If no required answers given","tooltip":"Number of Sele Question Answers is greater than 0","break":"false","Properties":{"DecisionInd":"True","Variable1":"[:000013]","Operand1_1":"is greater than","Value1_1":"0","Name":"DecPlus","Variable2":"[:000015]","Operand1_2":"equals","Value1_2":"0"}},{"key":"Finish","category":"end","type":"Finish","location":"172 625","size":"57 55","text":"","tooltip":"","break":"false","Properties":{"Name":"Finish"}},{"key":"Status","category":"image","type":"Status","location":"313 508","size":"53 49","text":"HOST003","tooltip":"Warning=HOST003 - All Questions must be answered on the Statement Page.","break":"false","Properties":{"Name":"Status","Message":"Validation.IValidation","StatusCode":"PADriver002","StatusType":"Error","StatusMessage":"All Questions must be answered on the Statement Page.","StatusPage":"PAStatement.aspx","Unique":"False"},"Unique":"False"},{"key":"Finish.14","category":"end","type":"Finish","location":"461 508","size":"57 55","text":"Stop Model","tooltip":"","break":"false","Properties":{"Name":"Finish","Termination":"StopModel"}},{"key":"Count","category":"image","type":"MultiCount","location":"172 252","size":"49 49","selected":"true","text":"Statement Answer","tooltip":"=","break":"false","Properties":{"Variable":"[:000015]","Name":"MultiCount","Message":"MultiCount","ShortName":"Statement Answer","CountType1":"All","ShortName1":"Statement Answer","Operand1_1":"does not equal","Item":"1","XMLDoc":"PagePolicyData","XMLPath":"PagePolicyData\\ValidationMessage\\PageContent\\ACORD\\PersAutoLineBusiness\\QuestionAnswer\\YesNoCd","XMLPath1":"PagePolicyData\\ValidationMessage\\PageContent\\ACORD\\PersAutoLineBusiness\\QuestionAnswer\\YesNoCd","XMLCondPath":"Root\\PagePolicyData\\ValidationMessage\\PageContent\\ACORD\\PersAutoLineBusiness\\QuestionAnswer{((YesNoCd != ''))}\\YesNoCd"}},{"category":"Comment","location":"450 50","size":"150 38","figure":"RoundedRectangle","text":"Summary Check"}]','RulesArray':'{"0":"Check Bypass","1":"Bypass Edorsement","2":"Statement Questions"}'} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-20T06:38:16.193

您是否尝试过使用[JSON.stringify()](https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/JSON/stringify)。同样使用 JSON.stringify，您可以使用一个对象来存储每个值，并使用 stringify 使其成为 JSON。

```
var LinkArray = localStorage['LinkArray'];
    var NodeArray = localStorage['NArray'].replace("'", "\'");           
    var RulesArray=localStorage['TabList'];
    var Parameters = "{'GUID':'" + GetQueryStringValue('GUID') + "','RuleName':'" + $("#rulename").text() + "','LinkArray':'" + LinkArray + "','NArray':'" + NodeArray + "','RulesArray':'" + RulesArray + "'}";
    //var Parameters = '{"GUID":"' + GetQueryStringValue("GUID") + '","RuleName":"' + $('#rulename').text() + '","LinkArray":"' + LinkArray + '","NArray":"' + NodeArray + '","RulesArray":"' + RulesArray + '"}';

$.ajax({
    type: "POST",
    url: "../RulesWebService.asmx/UpdateAllProperties",
    data: JSON.stringify(Parameters),            
    contentType: 'application/json; charset=utf-8',            
    crossBrowser: true,
    success: function (GetStatusRs) {

    },
    //onerror throw error.
    error: function (XMLHttpRequest, textStatus, errorThrown) {
        alert('Error Getting status for parameters: - Error:' + errorThrown);
    }
}); 
```

编辑 1：您的对象应如下所示：

```
var Parameters = {};
Parameters.Guid = 'your value';
// the rest of the fields from your object. 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-20T06:32:52.853

您发布服务器的参数值格式错误。使用[http://jsonlint.com/](http://jsonlint.com/)更正您的 json。现在用this作为参数试试..

```
{
        "GUID": "urhhh1bqbezjvb45dnqlgj45",
        "RuleName": "SummaryCheck",
        "LinkArray": [
            {
                "from": "Start",
                "to": "Count",
                "text": "Next",
                "fromPort": "5",
                "toPort": "1"
            },
            {
                "from": "Count.6",
                "to": "Multiple Decisions",
                "text": "Next",
                "fromPort": "5",
                "toPort": "1"
            },
            {
                "from": "Multiple Decisions",
                "to": "Status",
                "text": "True",
                "fromPort": "3",
                "toPort": "7"
            },
            {
                "from": "Multiple Decisions",
                "to": "Finish",
                "text": "False",
                "fromPort": "5",
                "toPort": "1"
            },
            {
                "from": "Status",
                "to": "Finish.14",
                "text": "Next",
                "fromPort": "3",
                "toPort": "7"
            },
            {
                "from": "Count",
                "to": "Count.6",
                "text": "Next",
                "fromPort": "5",
                "toPort": "1"
            }
        ],
        "NArray": [
            {
                "key": "StatusText",
                "category": "Comment",
                "location": "10 10",
                "text": "Step 10\rEvent = PAEditQuote\rModel = PAStatementValidation",
                "figure": "RoundedRectangle"
            },
            {
                "key": "Start",
                "category": "begin",
                "type": "Start",
                "location": "169 124",
                "size": "57 55",
                "text": "",
                "tooltip": "Datasource=",
                "break": "false",
                "Properties": {
                    "Name": "Start"
                }
            },
            {
                "key": "Count.6",
                "category": "image",
                "type": "Count",
                "location": "172 378",
                "size": "49 49",
                "text": "# of Sele QA’s",
                "tooltip": "Number of Sele Question Answers=Statement Sele QA Where Statement Sele Answer Required equals Y",
                "break": "false",
                "Properties": {
                    "Variable": "[:000013]",
                    "Name": "Count",
                    "Message": "Count",
                    "ShortName": "Statement Sele QA",
                    "Operand1": "equals",
                    "Value1": "Y",
                    "CountType1": "All",
                    "DecShortName": "Statement Sele Answer Required",
                    "DataBase": "DB1",
                    "Table": "SHSeleQuestions",
                    "XMLPath": "DB1\\SHSeleQuestions",
                    "DecXMLPath": "DB1\\SHSeleQuestions\\ResponseReqInd"
                }
            },
            {
                "key": "Multiple Decisions",
                "category": "Decision",
                "type": "DecPlus",
                "location": "169 508",
                "size": "75 56",
                "text": "If no required answers given",
                "tooltip": "Number of Sele Question Answers is greater than 0",
                "break": "false",
                "Properties": {
                    "DecisionInd": "True",
                    "Variable1": "[:000013]",
                    "Operand1_1": "is greater than",
                    "Value1_1": "0",
                    "Name": "DecPlus",
                    "Variable2": "[:000015]",
                    "Operand1_2": "equals",
                    "Value1_2": "0"
                }
            },
            {
                "key": "Finish",
                "category": "end",
                "type": "Finish",
                "location": "172 625",
                "size": "57 55",
                "text": "",
                "tooltip": "",
                "break": "false",
                "Properties": {
                    "Name": "Finish"
                }
            },
            {
                "key": "Status",
                "category": "image",
                "type": "Status",
                "location": "313 508",
                "size": "53 49",
                "text": "HOST003",
                "tooltip": "Warning=HOST003 - All Questions must be answered on the Statement Page.",
                "break": "false",
                "Properties": {
                    "Name": "Status",
                    "Message": "Validation.IValidation",
                    "StatusCode": "PADriver002",
                    "StatusType": "Error",
                    "StatusMessage": "All Questions must be answered on the Statement Page.",
                    "StatusPage": "PAStatement.aspx",
                    "Unique": "False"
                },
                "Unique": "False"
            },
            {
                "key": "Finish.14",
                "category": "end",
                "type": "Finish",
                "location": "461 508",
                "size": "57 55",
                "text": "Stop Model",
                "tooltip": "",
                "break": "false",
                "Properties": {
                    "Name": "Finish",
                    "Termination": "StopModel"
                }
            },
            {
                "key": "Count",
                "category": "image",
                "type": "MultiCount",
                "location": "172 252",
                "size": "49 49",
                "selected": "true",
                "text": "Statement Answer",
                "tooltip": "=",
                "break": "false",
                "Properties": {
                    "Variable": "[:000015]",
                    "Name": "MultiCount",
                    "Message": "MultiCount",
                    "ShortName": "Statement Answer",
                    "CountType1": "All",
                    "ShortName1": "Statement Answer",
                    "Operand1_1": "does not equal",
                    "Item": "1",
                    "XMLDoc": "PagePolicyData",
                    "XMLPath": "PagePolicyData\\ValidationMessage\\PageContent\\ACORD\\PersAutoLineBusiness\\QuestionAnswer\\YesNoCd",
                    "XMLPath1": "PagePolicyData\\ValidationMessage\\PageContent\\ACORD\\PersAutoLineBusiness\\QuestionAnswer\\YesNoCd",
                    "XMLCondPath": "Root\\PagePolicyData\\ValidationMessage\\PageContent\\ACORD\\PersAutoLineBusiness\\QuestionAnswer{((YesNoCd != ''))}\\YesNoCd"
                }
            },
            {
                "category": "Comment",
                "location": "450 50",
                "size": "150 38",
                "figure": "RoundedRectangle",
                "text": "Summary Check"
            }
        ],
        "RulesArray": {
            "0": "Check Bypass",
            "1": "Bypass Edorsement",
            "2": "Statement Questions"
        }
    } 
```

# c# - 如何使用 Log4Net 实用程序使用 c# 登录数据库

> ID：15516578
> 
> 赞同：8
> 
> 时间：2013-03-20T06:16:12.577
> 
> 标签：c#, log4net, log4net-configuration

目前在我的项目中，log4net 用于将所有异常、信息、警告等记录到文本文件中，但现在我想要将所有这些详细信息记录到数据库表而不是文件中。
请帮助我做到这一点。

提前谢谢了。

配置：

```
<log4net>
  <root>
    <level value="DEBUG" />
    <appender-ref ref="ADONetAppender" />
  </root>
  <appender name="ADONetAppender" type="log4net.Appender.ADONetAppender">
    <bufferSize value="100" />
    <connectionType value="System.Data.SqlClient.SqlConnection, System.Data, Version=2.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089" />
    <connectionString value="server=xxxx; uid=xxxx; pwd=xxxx; database=xxxx" />
    <commandText value="INSERT INTO log ([Date],[Thread],[Level],[Logger],[Message],[Exception]) VALUES (@log_date, @thread, @log_level, @logger, @message, @exception)" />
    <parameter>
      <parameterName value="@log_date"/>
      <dbType value="DateTime"/>
      <layout type="log4net.Layout.RawTimeStampLayout"/>
    </parameter>
    <parameter>
      <parameterName value="@thread"/>
      <dbType value="String"/>
      <size value="255"/>
      <layout type="log4net.Layout.PatternLayout">
        <conversionPattern value="%thread"/>
      </layout>
    </parameter>
    <parameter>
      <parameterName value="@log_level"/>
      <dbType value="String"/>
      <size value="50"/>
      <layout type="log4net.Layout.PatternLayout">
        <conversionPattern value="%level"/>
      </layout>
    </parameter>
    <parameter>
      <parameterName value="@logger"/>
      <dbType value="String"/>
      <size value="255"/>
      <layout type="log4net.Layout.PatternLayout">
        <conversionPattern value="%logger"/>
      </layout>
    </parameter>
    <parameter>
      <parameterName value="@message"/>
      <dbType value="String"/>
      <size value="4000"/>
      <layout type="log4net.Layout.PatternLayout">
        <conversionPattern value="%message"/>
      </layout>
    </parameter>
    <parameter>
      <parameterName value="@exception"/>
      <dbType value="String"/>
      <size value="2000"/>
      <layout type="log4net.Layout.ExceptionLayout"/>
    </parameter>
  </appender>
</log4net> 
```

.cs 文件中的代码：

```
private log4net.ILog log = log4net.LogManager.GetLogger(typeof(ImportGlobalIPVData));
log.Error("This is Error"); 
```

但是在使用上述代码后，没有任何内容被插入到日志表中。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-03-20T08:06:56.517

你可以看看[这里](http://sadi02.wordpress.com/2008/09/15/how-to-store-log-in-database-using-log4net/)，我认为这正是你所需要的。

请注意，如果您想从客户端应用程序使用 log4net 并写入数据库，您可能需要考虑在两者之间放置一个服务。在这种情况下，您可以轻松编写自己的 log4net 适配器，该适配器调用您的 LogService（即发即忘）并登录到您的数据库（可能使用 MSMQ）。

# google-app-engine - 无法运行 gwt 项目

> ID：15516584
> 
> 赞同：-1
> 
> 时间：2013-03-20T06:16:24.713
> 
> 标签：google-app-engine, gwt

我正在使用 gwt 2.5.1 和 gae 1.7.5，突然开始出现以下异常

加载模块 src.vik.sakshum.sakshumweb.AdminModule 加载继承的模块 'src.vik.sakshum.sakshumweb.AdminModule' [错误] 无法在类路径中找到 'src/vik/sakshum/sakshumweb/AdminModule.gwt.xml'；可能是拼写错误，或者您忘记包含源的类路径条目？

去谷歌下的项目属性-> gwt我可以看到这个模块。所以，不知道是什么问题。请建议

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-20T06:32:24.123

首先检查 module.xml 的入口点。它应该是正确的

```
<entry-point class='vik.sakshum.sakshumweb.AdminModule'/> 
```

还要检查运行配置参数。右键单击项目->**运行配置**->**参数**

它应该是这样的：

-startupUrl index.html -war {**项目路径**} -remoteUI "${gwt_remote_ui_server_port}:${unique_id}" -logLevel INFO -codeServerPort 9997 -port 8888 **vik.sakshum.sakshumweb.AdminModule**

# iphone - 如何使用 GHUnit 测试委托回调

> ID：15516585
> 
> 赞同：0
> 
> 时间：2013-03-20T06:16:45.363
> 
> 标签：iphone, ios, xcode, unit-testing

我正在尝试编写测试用例来测试我的代表。例如，

```
-(void)testUserLogin{
    loginRequest=[[RTUserLoginRequest alloc]initWithUserNmae:@"1235" password:@"1235"];
    [loginRequest setDelegate:self];
    [loginRequest invoke];

}

-(void)userLoginRequest:(RTUserLoginRequest *)request didSucceed:(BOOL)succeed{

    GHTestLog(@"user login succeed");
} 
```

此代码运行完美，但问题是当此回调触发时，它不会显示在模拟器中，如 testUserLogin。测试这种情况的标准方法是什么

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-22T03:58:01.097

```
-(void)testUserPendingRequest{
    userPendingRequest =[[RTCheckUserPendingRequest alloc]initWithUserNmae:@"123"];
    [userPendingRequest setDelegate:self];
    [userPendingRequest invoke];
    [self waitForCompletion:2];
    GHAssertTrue(_isDelegateInvoked, @"check user available invoked");

}

-(void)checkUserPendingRequest:(RTCheckUserPendingRequest *)request isUserPending:(BOOL)pending{
    _isDelegateInvoked=YES;
    if(pending)
        GHTestLog(@"user Pending ");
    else
        GHTestLog(@"User Active");
}

- (BOOL)waitForCompletion:(NSTimeInterval)timeoutSecs {
    NSDate *timeoutDate = [NSDate dateWithTimeIntervalSinceNow:timeoutSecs];

    do {
        [[NSRunLoop currentRunLoop] runMode:NSDefaultRunLoopMode beforeDate:timeoutDate];
        if([timeoutDate timeIntervalSinceNow] < 0.0)
            break;
    } while (!_isDelegateInvoked);

    return _isDelegateInvoked;
} 
```

# ruby-on-rails - 我怎样才能使这个 if 语句在这个条件下工作？

> ID：15516587
> 
> 赞同：0
> 
> 时间：2013-03-20T06:16:57.653
> 
> 标签：ruby-on-rails

的值`@user.profile.age`可能介于 0 到 100 之间（注意此列是整数）。当它是时`0`，我希望它显示`Unknown`。然后我希望它显示实际数字，除非它是 0。

我该如何定制这个？如果可能的话，我希望它排成一行。

```
@user.profile.age if !@user.profile.blank? 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-20T06:19:08.080

`@user.profile.age == 0 ? "Unknown" : @user.profile.age`应该管用。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-20T06:24:19.083

试试这个

```
@user.profile.age > 0 ? @user.profile.age : "Unknown" 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-20T06:47:46.330

您可以使用尝试如下

```
(!@user.profile.try(:age) || @user.profile.try(:age)== 0 ) ? "Unknown" :  @user.profile.age 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-20T07:03:21.770

如果系统查找年龄为 NULL 或为空，则您的代码将生成错误。我希望这将有助于从崩溃中解救出来。

> （@user.profile.age == 0）|| （！@user.profile.age.present？）？“未知”：@user.profile.age

# javascript - jQuery TextExt - 指定 url 的 Ajax 自动完成问题

> ID：15516592
> 
> 赞同：0
> 
> 时间：2013-03-20T06:17:12.620
> 
> 标签：javascript, jquery, ajax, jquery-autocomplete, jquery-textext

我正在使用[jQuery TextExt 插件](http://textextjs.com/manual/examples/ajax-with-filter-tags-and-autocomplete.html)，`autocomplete`并且使用它的示例 json url（即 data.json）没有问题。但是当我使用自己的 url 时，如下所示：

```
$('#textarea').textext({
    plugins : 'autocomplete filter tags ajax',
    ajax : {
        url :'/users/userApi.do?id=10&scopeType=all&username=user@this.com&password=pass',
        dataType : 'json',
        cacheResults : true
    }
}); 
```

这没用！！

从这个 url 返回的数据不是预先填充的，也就是说，它根据 id 和 scopeType 填充数据并返回正确的 JSON 格式。（当我在浏览器上自己尝试并运行时，我可以在屏幕上看到正确的结果）。

在此示例中是否应始终预先填充 JSON 数据？

我没有使用自动完成的经验，所以请在这里帮助我，或者如果有更好的方法可以做到这一点，如果你能分享的话会很棒。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-21T17:03:33.320

尝试取出 cacheResults 选项并确保返回 JSON 格式的结果数组。cacheResults 对我不起作用，因为我的数据是动态的。

示例我在下面工作：

```
$('#marketingkeywords')
    .textext({
        plugins : 'autocomplete tags ajax',
        ajax : {
            url : '/ajax/getkeywords.php',
            dataType : 'json',
            cacheResults : false
        },
        autocomplete : {
            enabled : true,
    dropdown : {
                position : 'above',
                maxHeight : '60px'
            }
        }
    })
; 
```

还要确保您的 URL 使用 Chrome 中的网络面板（响应选项卡）之类的东西返回数据。 [https://developers.google.com/chrome-developer-tools/docs/network](https://developers.google.com/chrome-developer-tools/docs/network)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-12-26T11:50:26.377

我认为你犯了一些愚蠢的错误，包括像miss plugin js这样的文件尝试将插件ajax文件添加为

```
<script src="js/textext.core.js" type="text/javascript" charset="utf-8"></script> 
<script src="js/textext.plugin.autocomplete.js" type="text/javascript" charset="utf-8"></script> 
<script src="js/textext.plugin.suggestions.js" type="text/javascript" charset="utf-8"></script>
<script src="js/textext.plugin.ajax.js" type="text/javascript" charset="utf-8"></script> 
```

然后像上面那样尝试

# android - Android 上的路线 API

> ID：15516595
> 
> 赞同：15
> 
> 时间：2013-03-20T06:17:30.097
> 
> 标签：android, google-maps, google-maps-android-api-2, google-directions-api

当我浏览这个[博客](http://thumblines.com/2012/02/05/driving-directions-in-native-ios-and-android-apps/)时，我对在 android 上使用 Directions API 感到困惑。是否可以在地图上集成 Directions API？为了更清楚起见，我正在开发一个应用程序，该应用程序将接受用户的输入，例如`source`......`destinations`接受这些输入我想显示一个合适的地图，其中包含步行和驾驶方向。仅`JSON parser (or XML)`足以支持我的这个愿望，以及可以在上面绘制的画布......还是我必须创建**自己的 API**才能完成这项工作？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-03-20T06:44:15.023

是的，可以将指令 api 与地图集成。无需编写自己的 API。你可以很容易地做到这一点。使用 Google android api V2 无需绘制画布。在其中添加东西非常容易。

请在此处阅读 Google 地图 [https://developers.google.com/maps/documentation/android/start](https://developers.google.com/maps/documentation/android/start)

和方向

[https://developers.google.com/maps/documentation/directions/](https://developers.google.com/maps/documentation/directions/)

在此过程中，您有任何具体问题，请询问。

谢谢，

# r - 当“to”参数是一个因素时，plyr 中的 mapvalues 会给出意外的输出……这是一个错误吗？

> ID：15516597
> 
> 赞同：1
> 
> 时间：2013-03-20T06:17:35.433
> 
> 标签：r, plyr

当我在 plyr 包（plyr v1.8，R v2.15.1 Roasted Marshmallows）中使用 mapvalues 时，当“to”参数是一个因素时，我得到一个奇怪的结果。例如，

```
v1 = c(1,2,2,1,2)

mapvalues(v1, from = c(1, 2), to = factor( c('A', 'B') ) ) 
```

返回

```
[1] 1 2 2 1 2 
```

代替

```
[1] A B B A B
Levels: A B 
```

对我来说，这看起来可能是一个错误，但我想在打扰开发人员之前与其他人核实一下。这是一个错误吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-20T06:22:55.457

您需要删除`factor()`from `mapvalues()`。可以在值替换后转换为因子。

```
v1<-mapvalues(v1, from = c(1, 2), to = c('A', 'B')) 
#Now convert to factor
v1<-as.factor(v1)
v1
[1] A B B A B
Levels: A B 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-20T06:26:07.067

这很可能不是错误。因子在内部存储为整数。如果您有一个因子并且想要映射到因子的级别而不是内部整数存储值，您可以`levels`首先调用该因子。

```
mapvalues(v1, from = c(1, 2), to = levels(factor(c('A', 'B')))) 
```

如果您希望结果成为一个因素，那么只需`factor`在之后调用结果即可。

# php - Codeigniter - 使用 getter/setter 将值从控制器传递到模型

> ID：15516601
> 
> 赞同：0
> 
> 时间：2013-03-20T06:17:54.187
> 
> 标签：php, oop, codeigniter

我想使用 getter/setter 在我的模型中存储和检索值。下面是我的控制器和模型代码。我想知道这是一种标准的正确方法吗？

控制器代码：

```
 public function saveevent() {

  $this->event_model->setEvent_title($this->input->post('event_title'));
  $this->event_model->setSms_description($this->input->post('sms_description'));
  $event_id = $this->event_model->saveEvent();
 } 
```

型号代码：

```
class Event_Model extends CI_Model{

private $id;
private $event_title;
private $sms_description;

function __construct() {
    parent::__construct();
}

public function getId() {
    return $this->id;
}

public function setId($id) {
    $this->id = $id;
}

public function getEvent_title() {
    return $this->event_title;
}

public function setEvent_title($event_title) {
    $this->event_title = $event_title;
}

public function getSms_description() {
    return $this->sms_description;
}

public function setSms_description($sms_description) {
    $this->sms_description = $sms_description;
}

public function saveEvent() {
    $data = array(
        'title' => $this->getEvent_title() ,
        'sms_description' => $this->getSms_description() 
    );

    $this->db->insert('events', $data);
    return $this->db->insert_id();
}
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-20T06:19:56.350

使用 getter 和 setter 是一种很好的做法，但没有必要这样做。但我建议您继续使用 setter 和 getter。

参考这些链接

[为什么要使用 getter 和 setter？](https://stackoverflow.com/questions/1568091/why-use-getters-and-setters) [Getter 和 Setter？](https://stackoverflow.com/questions/4478661/getter-and-setter)

# xml - XML 项的比较

> ID：15516615
> 
> 赞同：0
> 
> 时间：2013-03-20T06:18:55.587
> 
> 标签：xml, xslt, xml-parsing

我对 XML 完全陌生，所以我不知道该怎么做：

假设我有以下 XML 文件 1 ：

```
<Items>
<Item>
   <name> Item1 </name>
   <value> 10   </value>
</Item>
</Items> 
```

和文件 2：

```
<Items>
    <Item>
       <name> Item1 </name>
       <value> 20   </value>
    </Item>
    </Items> 
```

如何使用 XSLT 以任何方式比较这两项的值字段？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-20T08:33:02.060

您可以将如下所示的样式表应用于您的第一个 XML，并将第二个 XML 文档的路径作为 a 传递`param`（阅读 XSLT 处理器的文档以了解如何传递参数）。

模板将检查 XML #1 中的每一项，在另一个 XML ( ) 中`<Item>`找到相同的第一项并比较它们各自的 s。`<name>``$otherDoc//Item[name = $ownName][1]/value``<value>`

然后它会生成文本输出，每进行一次这样的比较就一行。

```
<xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform">
  <xsl:output method="text" />

  <xsl:param name="otherDocPath" select="''" />

  <xsl:variable name="otherDoc" select="document($otherDocPath)" />

  <xsl:template match="/">
    <!-- handle each item in this document -->
    <xsl:apply-templates select="/Items/Item" />
  </xsl:template>

  <xsl:template match="Item">
    <xsl:variable name="ownName" select="name" />
    <xsl:variable name="ownValue" select="value" />
    <xsl:variable name="otherValue" select="$otherDoc//Item[name = $ownName][1]/value" />

    <!-- output one line of information per item -->
    <xsl:value-of select="concat($ownName, ': ')" />

    <xsl:choose>
      <xsl:when test="$ownValue = $otherValue">
        <xsl:value-of select="concat('same value (', $ownValue, ')')" />
      </xsl:when>
      <xsl:otherwise>
        <xsl:value-of select="concat('different (', $ownValue, '/', $otherValue, ')')" />
      </xsl:otherwise>
    </xsl:choose>

    <xsl:text>&#xA;</xsl:text><!-- new line -->
  </xsl:template>

</xsl:stylesheet> 
```

注意名称/值周围的空格。如果您的输入真的看起来像`<value> 10 </value>`，您想`normalize-space()`在比较/输出任何东西（`<xsl:variable name="ownValue" select="normalize-space(value)" />`等）之前使用。

输出看起来像：

```
第 1 项：不同 (10/20)
项目2：相同的值（20）
第 3 项：不同 (20/)

```

其中第 1 行和第 2 行代表两个 XML 文档中的项目，第 3 行代表仅在第一个文档中的项目。

当然文本输出只是一种可能，您可以输出不同的格式（XML、HTML）。

# c++ - 在 C++ 中读取平面文件

> ID：15516616
> 
> 赞同：0
> 
> 时间：2013-03-20T06:18:56.023
> 
> 标签：c++, data-structures

我需要一个意见，以及如何在 C++ 中做到这一点。我有一个平面文件，其映射如下

```
Number Some text
1         Apple
2         Orange
3         Grape 
```

我是否可以在 C++ 中实现逻辑，以便在我的代码中输入值时说 1 我可以获取映射到它的值，即在这种情况下为 Apple。我是否有可用于此的标准数据结构。你能指出我吗到一些相同的代码示例。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-20T08:39:52.167

> 我是否有可用于此的标准数据结构？

在标准库`std::map`中，您可以结合使用`int`ID 和`std::string`文本。

您`std::map`可以按如下方式初始化和使用：

```
#include <map>
#include <string>

std::map<int, std::string> m;
m[1] = "Apple";
m[2] = "Orange";
m[3] = "Grape"; 
```

很好地指出，如果您的索引始终是连续的并且您让它们开始，`0`您可以使用`std::vector`哪个可能更适合您的目的？

```
#include <vector>
#include <string>

std::vector<std::string> v;
v.push_back("Apple");
v.push_back("Orange");
v.push_back("Grape");

v[0]; // Apple
v[1]; // Orange
v[2]; // Grape 
```

# mysql - mysql结合3个表来获取用户的帖子和被关注的人

> ID：15516618
> 
> 赞同：1
> 
> 时间：2013-03-20T06:18:58.177
> 
> 标签：mysql, join

我有 3 个表用户，流式传输并关注

下表：

```
follow_id   user_id_follower   user_id_followed
    1              9                  2 
    2              9                  4 
```

用户表

```
id   username   
1     test1         
2     test2 
```

流表

```
id user_id  post_content    post_image   
1     9     Hi there        uploads/1.jpg
2     9     Another         uploads/2.jpg 
```

这给了用户帖子

```
SELECT users.username, stream.post_content, stream.post_image 
FROM users INNER JOIN stream ON users.id=stream.user_id 
WHERE stream.user_id = 9 
```

这给了用户关注帖子的人

```
SELECT users.username, stream.post_content, stream.post_image, 
follow.user_id_follower, follow.user_id_followed FROM follow
INNER JOIN stream ON follow.user_id_followed = stream.user_id
INNER JOIN users ON follow.user_id_followed = users.id
WHERE follow.user_id_follower = 9 // this change depending on user 
```

我在制作一个同时获取用户和关注的帖子的 SQL 语句时遇到问题

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-20T06:38:25.077

您需要为此使用`UNION ALL`。

```
SELECT s.*, follower.username, 1 order_priority
  FROM stream s
  JOIN user follower ON s.user_id = follower.userid
 WHERE follower.user_id = 9
UNION ALL
SELECT s.*, following.username, 2
  FROM stream s
  JOIN user following ON s.user_id = following.userid
  JOIN follow f ON following.user_id = f.user_id_followed
       AND f.user_id_follower = 9
ORDER BY order_priority; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-20T06:43:55.860

这是您要查找的查询吗？

```
SELECT users.username, stream.post_content, stream.post_image, 
follow.user_id_follower, follow.user_id_followed FROM follow
INNER JOIN stream ON follow.user_id_followed = stream.id
INNER JOIN users ON follow.user_id_followed = users.id
WHERE follow.user_id_follower = 9; 
```

# ios - 从具有特定持续时间和附加位置的照片库中选择视频

> ID：15516620
> 
> 赞同：3
> 
> 时间：2013-03-20T06:19:06.380
> 
> 标签：ios, uiimagepickercontroller, avfoundation

我正在开发一个应用程序，该应用程序允许用户使用`UIImagePickerController`. 我想对视频进行一些过滤，例如，如果所选视频时长 > 5 分钟，则不会上传视频。同样，所选视频必须附有位置坐标。

我已经在`- (void)imagePickerController:(UIImagePickerController *)picker didFinishPickingMediaWithInfo:(NSDictionary *)info`. 首先，我得到了持续时间并验证了它而不是我使用`ALAssetsLibraryAssetForURLResultBlock`的，并检查了附加的有效坐标。

一切运行良好，但问题是当我从图库中选择视频时，它会进行压缩，之后我能够获得持续时间和位置。如果用户选择 1 小时持续时间的视频，这将需要很多时间。如果它没有位置，我的应用程序也会拒绝它。

*   是否可以只选择那些 <5 分钟且具有有效坐标的视频？
*   我们可以只显示那些满足我的应用程序标准的视频吗？
*   我可以通过跳过图像选择器的压缩来获得持续时间和位置吗？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2014-05-22T18:20:00.793

您可以让用户选择任何视频，但如果超过 5 分钟，请强制他们将其编辑到您的最长持续时间。

```
UIImagePickerController *imagePicker = [[UIImagePickerController alloc] init];
imagePicker.mediaTypes = [UIImagePickerController availableMediaTypesForSourceType:imagePicker.sourceType]; 
imagePicker.mediaTypes = [NSArray arrayWithObject:(NSString *)kUTTypeMovie, nil];
imagePicker.videoMaximumDuration = 300; // duration in seconds
imagePicker.allowsEditing = YES; 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-03-20T07:31:47.570

根据您的要求，我认为`UIImagePickerController`它不适合您`AssetLibrary`完全由 Apple 定制的需求，因此您可以获得所有视频属性的全部细节，例如`Size`，所有这些`Duration`，`Co-Ordinates`因此您需要根据`ALAssetsLibrary`您的要求执行“”。

请通过苹果提供的以下链接过滤视频和照片

[ALAssetsFilter 类参考](http://developer.apple.com/library/ios/#documentation/AssetsLibrary/Reference/ALAssetsFilter_Class/Reference/Reference.html#//apple_ref/doc/uid/TP40009723)

# google-maps - Google Places API - 如何获取一个国家的地区？

> ID：15516622
> 
> 赞同：5
> 
> 时间：2013-03-20T06:19:16.890
> 
> 标签：google-maps, geocoding, google-places-api, google-geocoding-api, google-places

我在网站上一遍又一遍地寻找这个简单的问题，但没有找到答案我认为这是非常普遍的需求假设你有两个下拉列表一个你想用国家列表填充，还有一次你已经选择了一个 - 用它的区域列表填充另一个。甚至可以使用 Google Places API 吗？干杯:)

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-20T06:50:05.943

不，使用 Places API 是不可能的。

您有 2 个选项： 使用另一个数据库

有一些免费的国家/州列表数据库。请查看以下问题以获取一些示例：

```
List of Cities by Country
https://raw.githubusercontent.com/David-Haim/CountriesToCitiesJSON/master/countriesToCities.json 
```

## 创建自己的数据库

创建您自己的每个国家/地区的州数据库。不推荐，因为这会浪费宝贵的时间。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2021-01-08T18:58:25.367

对的，这是可能的

1.  下面的代码可用于根据过滤器获取状态

2.  IN 是仅在印度搜索所需的国家代码

3.  REGIONS 是我们搜索时获取状态的过滤器

4.  需要有效的 Places API 密钥

    ```
    val fields = listOf(Place.Field.ID, Place.Field.NAME)

     searchLocationForCreatePost = findViewById(R.id.searchLocationForCreatePost)

     if (!Places.isInitialized()) {
         Places.initialize(getApplicationContext(), getString(R.string.api_key), Locale.US);
     }
     searchLocationForCreatePost.setOnClickListener {

         val intent = Autocomplete.IntentBuilder(AutocompleteActivityMode.FULLSCREEN, fields)
             .setCountry("IN")
             .setTypeFilter(TypeFilter.REGIONS)
             .build(this)
         startActivityForResult(intent, AUTOCOMPLETE_REQUEST_CODE)
     } 
    ```

* * *

*   在 onActivityResult 中获取结果 -

--------'

```
 override fun onActivityResult(requestCode: Int, resultCode: Int, data: Intent?) {
    if (requestCode == AUTOCOMPLETE_REQUEST_CODE) {
        when (resultCode) {
            Activity.RESULT_OK -> {
                data?.let {
                    val place = Autocomplete.getPlaceFromIntent(data)
                    Log.i("TAG", "Place: ${place.name}, ${place.id}")
                }
            }
            AutocompleteActivity.RESULT_ERROR -> {
                // TODO: Handle the error.
                data?.let {
                    val status = Autocomplete.getStatusFromIntent(data)
                    Log.i("TAG", status.statusMessage.toString())
                }
            }
            Activity.RESULT_CANCELED -> {
                // The user canceled the operation.
            }
        }
        return
    }
    super.onActivityResult(requestCode, resultCode, data)
} 
```

# jquery - jQuery 的第三级菜单不自动调整大小

> ID：15516624
> 
> 赞同：0
> 
> 时间：2013-03-20T06:19:21.680
> 
> 标签：jquery, html, css, menu, width

我有以下问题：

![在此处输入图像描述](../Images/53b8e8f3b1a821173951cba2ac42d11d.png)

如您所见，菜单的第三级非常压缩。第二级工作完美。它在内容的确切宽度上。

**HTML**

```
<ul id="menu">
    <li>
        <a href="#">Reports</a>
        <ul>
            <li>
                <a href="#">Daily & Yearly Reports</a>
                <ul>
                    <li class="ui-state-disabled"><a href="#">Daily Settlement and Funding Overview</a></li>
                    <li class="ui-state-disabled"><a href="#">ESA Statement</a></li>
                    <li class="ui-state-disabled"><a href="#">Settlement Summary</a></li>
                    <li class="ui-state-disabled"><a href="#">Save ESA Cashbook</a></li>
                    <li class="ui-state-disabled"><a href="#">ESA Interest Summary</a></li>
                </ul>
            </li>
        </ul>
    </li>
</ul> 
```

**CSS**

```
<style>
    #menu {
        /*height: 48px;*/
        overflow: auto;
        width: 99.7%;
        font-size: 1em;
    }
    #menu > li {
        float: left;  
        width: auto;
        margin-top: 15px;
    }
    /*
     * Fix to make sure the menu appears above jTable
     */
    #menu > li > ul {
        z-index: 2;
    }
    #menu > li > ul > li > ul > li {
        float: left;  
        width: auto;
    }
</style> 
```

任何帮助，将不胜感激。

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-20T06:25:03.867

添加`whtie-space nowrap`

**像这样**

```
 #menu > li > ul > li > ul > li{
    white-space: nowrap;// add this line
float:left; // remove this line
    } 
```

**[现场演示](http://jsfiddle.net/THmub/3/)**

# ios - 按特定顺序排列单元格

> ID：15516627
> 
> 赞同：0
> 
> 时间：2013-03-20T06:19:31.873
> 
> 标签：ios, tableview, cell

我有下面这样的表格视图

![在此处输入图像描述](../Images/292bd29846ea53449bb0dec9542c49e0.png)

从不同的可变数组显示名称、出生率和天数（如 300、264）

我已经使用了以下代码

```
 - (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath: (NSIndexPath *)indexPath
  {
     static NSString *CellIdentifier = @"cell";

   UITableViewCell *cell = [tableView dequeueReusableCellWithIdentifier:CellIdentifier];

    cell = [[UITableViewCell alloc] initWithStyle:UITableViewCellStyleDefault  reuseIdentifier:CellIdentifier];

    UIView *selectionView = [[UIView alloc] initWithFrame:CGRectMake(0, 7, 320, 50)];
    [selectionView setBackgroundColor: [UIColor clearColor]];

    UILabel *callTypeLabel = [[UILabel alloc]initWithFrame:CGRectMake(5, 0, 150, 21)];
    callTypeLabel.text = (NSString *)[_combinedNameArray objectAtIndex:[indexPath row]];
    callTypeLabel.backgroundColor = [UIColor clearColor];
    callTypeLabel.font = [UIFont boldSystemFontOfSize:15.0];
    [selectionView addSubview:callTypeLabel];

    UILabel *daystogo = [[UILabel alloc]initWithFrame:CGRectMake(200 , -2, 125, 30)];

    daystogo.text = @"days to go";
    daystogo.backgroundColor = [UIColor clearColor];
    daystogo.font = [UIFont boldSystemFontOfSize:14.0];
    [selectionView addSubview:daystogo];

   UILabel *days = [[UILabel alloc]initWithFrame:CGRectMake(174 , -2, 125, 30)];
   days.text = [NSString stringWithFormat:@"%@",[_daysremaining objectAtIndex:[indexPath row]]];
   days.backgroundColor = [UIColor clearColor];
   days.font = [UIFont boldSystemFontOfSize:14.0];
   [selectionView addSubview:days];

   UILabel *birthdate = [[UILabel alloc]initWithFrame:CGRectMake(5 , 22, 150, 21)];
   birthdate.text = [NSString stringWithFormat:@"%@",[_combinedBirthdates objectAtIndex:   [indexPath row]]];
   birthdate.backgroundColor = [UIColor clearColor];
   birthdate.font = [UIFont boldSystemFontOfSize:14.0];
   [selectionView addSubview:birthdate];

   [[cell viewWithTag:0] addSubview:selectionView];

return cell; 
```

}

现在我的问题是我如何重新排序这些单元格，比如最短的天数应该是第一个，然后是第二个比它大，等等，例如它应该是 25、201、256，等等名称和出生率在数据库中我将它们保存在数组中并对其进行处理以在另一个数组中查找剩余天数

请为此提出一些建议

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-20T06:38:48.820

作为@Ab'initio 的回答，将姓名、出生日期和剩余天数添加到字典中，然后将该字典添加到`NSMutableArray`并显示到`UITableView`，好吧，要获得您想要的顺序，您需要根据剩余天的键对字典进行排序从您的字典中，按升序对其进行排序以获得您想要的结果，使用`NSSortDescriptor`可能很有用，**[这里是](https://stackoverflow.com/questions/3361207/how-can-i-sort-an-nsarray-containing-nsdictionaries)一个如何对包含字典的数组进行排序的示例。**

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-20T06:30:46.243

```
 NSSortDescriptor *sortDescriptor = [[NSSortDescriptor alloc] initWithKey:nil ascending:YES];
 [_daysremaining sortUsingDescriptors:[NSArray arrayWithObject:sortDescriptor]]; 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-20T06:26:58.070

我最好使用单个字典数组来存储数据，而不是将其存储在不同的数组中。您可以使用字典将名称、剩余天数等存储为键值对。并访问字典

```
NSMutableDictionary *dic = [array objectAtIndex:indexPath.row];
NSString *s = [dic valueForKey@"key"]; 
```

# git - 如何找到对 git 存储库的最后几个提交

> ID：15516635
> 
> 赞同：2
> 
> 时间：2013-03-20T06:19:57.120
> 
> 标签：git, commit

如何找到 git 存储库的最后几个提交（比如“20”个提交）。git log 显示所有提交，我只需要最后几个提交。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-20T06:20:54.887

很多方法，所有方法都记录在`git-log`手册页中。

指定一个`-n`或`--max-count`：

```
$ git log -n 20 
```

或者，以以下形式指定提交范围`<since>..<until>`：

```
$ git log HEAD~20..HEAD 
```

你可以省略，`<until>`因为它是 HEAD：

```
$ git log HEAD~20.. 
```

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-03-20T06:33:21.310

而不是使用`git log -n 20`，简单地`gitk --all &`可以看到结构和一些详细信息。

# c# - 单选按钮选择与列对应的一项

> ID：15516636
> 
> 赞同：0
> 
> 时间：2013-03-20T06:20:04.370
> 
> 标签：c#, asp.net, radio-button

我在gridview的两列中有两个单选按钮。

```
<asp:TemplateField HeaderText="Recommend">
<ItemTemplate >
  <asp:RadioButton ID="rdRecommend" runat="server" onclick="javascript:CheckOtherIsCheckedByGVID(this);" />
</ItemTemplate>
</asp:TemplateField>
<asp:TemplateField HeaderText="Approve" Visible="false">
<ItemTemplate >
<asp:RadioButton ID="rdApprove" runat="server"  onclick="javascript:CheckOtherIsCheckedByGVID(this);"/>
</ItemTemplate>
</asp:TemplateField> 
```

但是，如果我在推荐列中选择了单选按钮批准列，则取消选择

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-20T07:13:53.427

```
Use GroupName property of radio buttons with same name.Like
<asp:TemplateField HeaderText="Recommend">
<ItemTemplate >
  <asp:RadioButton ID="rdRecommend" runat="server" GroupName="rec" onclick="javascript:CheckOtherIsCheckedByGVID(this);" />
</ItemTemplate>
</asp:TemplateField>
<asp:TemplateField HeaderText="Approve" Visible="false">
<ItemTemplate >
<asp:RadioButton ID="rdApprove" runat="server" GroupName="rec"  onclick="javascript:CheckOtherIsCheckedByGVID(this);"/>
</ItemTemplate>
</asp:TemplateField> 
```

我想它会对你有所帮助..

# junit - 访问原始对象而不是在 powermock-mockito 中返回？

> ID：15516644
> 
> 赞同：-1
> 
> 时间：2013-03-20T06:20:48.540
> 
> 标签：junit, mocking, mockito, powermock

让我们举个例子（注意我使用的是 PowerMock - Mockito）

```
Class A {

public void method1(Object obj)
{

}

} 
```

现在，当我们使用 mockito 时，我们有类似 when(A.method1(obj2)).thenReturn(obj3); 的 api。我们可以在测试用例中访问传递给 method1 的原始对象 obj，而不是在调用方法时返回自定义对象 obj3 吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-20T06:28:37.397

您将需要使用`thenAnswer()`. 我相信签名应该是

```
public Object method1(Object obj) 
```

不确定为什么要将相同的对象返回到您从测试中通过的测试中。在这种情况下，您实际上要测试什么？

*更新*

看起来你正在寻找的是`ArgumentCaptor`

```
ArgumentCaptor<Object> captor = ArgumentCaptor.forClass(Object.class);
verify(a).method1(captor.capture());
Object realObject = captor.getValue() 
```

# mysql - 将sql数据库数据导出为xml格式

> ID：15516646
> 
> 赞同：0
> 
> 时间：2013-03-20T06:20:51.617
> 
> 标签：mysql, xml, export

我对 sql 数据库不太了解，所以请了解我的问题。

我的任务是将sql数据存储到care dat base，所以我采用流程，我将以xml格式导出数据并在核心数据库中解析它，所以我将sql数据库中的数据导出为xml格式但格式不符合我的要求

请看这个

```
 <table name="ex_name_details">
        <column name="exId">1</column>
        <column name="exGroupId">3</column>
        <column name="exName">Arnold Press</column>
 </table> 
```

我得到了上面的样本

但我需要这个格式

```
 <ex_name_details>
    <exId>1</exId>
    <exGroupId>3</exGroupId>
    <exName>Arnold Press</exName> 
```

我需要这个示例格式。

使用 PhpMyAdmin

它是一个示例，但是我需要解析大量数据，所以请帮忙

我应该在其他专家领域问这个问题，但是，我完全相信你们的朋友。

请回答。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-20T06:32:32.817

您可以尝试使用`xsl`转换

```
<?xml version="1.0"?>
<?xml-stylesheet type="text/xsl" href="test.xsl"?>
<table name="ex_name_details">
  <column name="exId">1</column>
  <column name="exGroupId">3</column>
  <column name="exName">Arnold Press</column>
</table> 
```

和 xsl 文件

```
<?xml version="1.0"?>
<xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform">
  <xsl:template match="/">
    <xsl:for-each select="//table">
      <xsl:element name="{@name}">
        <xsl:for-each select="column">
          <xsl:element name="{@name}">
            <xsl:value-of select="." />
          </xsl:element>
        </xsl:for-each>
      </xsl:element>
    </xsl:for-each>
  </xsl:template>
</xsl:stylesheet> 
```

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2014-07-24T10:00:38.490

我通过不是通过 phpmyadmin 而是通过 MySQL Workbench 应用程序来操作我的 MySQL 数据库，并使用 Export 选项作为 XML（不是 mysql XML）来解决这个问题。工作得很好。

# objective-c - MPMoviePlayerController，在后台播放音频和视频（分离视频层？）

> ID：15516651
> 
> 赞同：0
> 
> 时间：2013-03-20T06:21:11.877
> 
> 标签：objective-c, ios6, avfoundation, mpmusicplayercontroller

一旦屏幕锁定/应用程序进入后台，我在让 MPMoviePlayerController 播放**音频和视频以继续播放时遇到一些问题。**

这是我尝试过的：

“必需的背景模式”是第一个条目的数组：[Item 0: App Plays Audio]。

另外，我的视图控制器有：

```
-(void)viewDidLoad {
    [super viewDidLoad];

    AVAudioSession *audioSession = [AVAudioSession sharedInstance];

    NSError *setCategoryError = nil;
    BOOL success = [audioSession setCategory:AVAudioSessionCategoryPlayback error:&setCategoryError];
    if (!success) {
        NSLog(@"DOH Could not set Category!");
    }

    NSError *activationError = nil;
    success = [audioSession setActive:YES error:&activationError];
    if (!success) {
        NSLog(@"DOH Could not set Active!");
    }

    … 

}

- (void)viewWillAppear:(BOOL)animated {

        [[UIApplication sharedApplication] beginReceivingRemoteControlEvents];
        [self becomeFirstResponder];
}

- (void)remoteControlReceivedWithEvent:(UIEvent *)event {
    switch (event.subtype) {
        case UIEventSubtypeRemoteControlPlay:
            NSLog(@"Play");
            break;
        case UIEventSubtypeRemoteControlPause:
            NSLog(@"Pause");
            break;
        default:
            break;
    }
}

- (BOOL)canBecomeFirstResponder{
    return YES;
} 
```

我尝试修改的应用程序是（出于所有意图和目的）LBYouTubeView 的示例应用程序，它允许您通过确定流 URL 并仅使用 MPMoviePlayerController 播放它来播放 YouTube 视频。上面的完整代码[在 github 上](https://github.com/iandundas/LBYouTubeView)——它是一个修改后的 LBYouTubeView 项目。

音频/视频播放正常，但是当应用程序最小化时（无论我尝试什么）MPMoviePlayerController 都会暂停。

我已经仔细研究了文档和 SO 以寻求解决方案，但无济于事。

注意：Apple 的技术说明“[在后台播放媒体]（在后台播放媒体）”指出：

> 播放视频的应用程序无法在后台继续播放该视频。

但接着说：

> 注意：如果您禁用电影中的视频轨道，或将 AVPlayerLayer 与其关联的 AVPlayer 分离，它将允许电影音频继续在后台播放。

那么 - 有没有人对这如何可能有任何想法？我知道我可以将提取的 YouTube URL 输入到诸如[Matt Gallagher 的音频流媒体之类的东西中，并获得](https://github.com/DigitalDJ/AudioStreamer)**仅**支持播放/暂停/电话锁定等的完整音频，但不幸的是我仍然需要视频。谢谢

ps 只是重复一遍：我正在尝试使用的代码[在 github](https://github.com/iandundas/LBYouTubeView)上进行了更改 - 它只是一个修改后的 LBYouTubeView 项目，除了我上面详述的内容外，几乎没有什么变化。

**编辑**Matt Gallagher[在 CocoaWithLove 上写了一篇](http://www.cocoawithlove.com/2011/04/background-audio-through-ios-movie.html)关于这个问题的帖子 - 似乎他决定在应用程序最小化时切换到纯音频流，尽管他承认这有点不可靠，因为它会导致几秒钟的沉默（当最小化和恢复应用程序）同时缓冲新流。不理想:(

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-11-22T10:23:12.690

最终解决它如下（用 RubyMotion 编写，但语义与 obj-c 相同）：

将这些添加到您的 init 方法中：

```
 NSNotificationCenter.defaultCenter.addObserver(self, selector:'will_enter_foreground', name:UIApplicationWillEnterForegroundNotification, object:nil)
  NSNotificationCenter.defaultCenter.addObserver(self, selector:'did_enter_background', name:UIApplicationDidEnterBackgroundNotification, object:nil) 
```

进而：

```
 def will_enter_foreground
    unless @player.nil?
      @player.currentItem.tracks.each do |track|
        track.enabled = true if track.assetTrack.mediaType.eql?AVMediaTypeVideo
      end   
    end
  end

  def did_enter_background
    unless @player.nil?
      @player.currentItem.tracks.each do |track|
        track.enabled = false if track.assetTrack.mediaType.eql?AVMediaTypeVideo
      end
    end
  end 
```

# c++ - 编译错误：左不明确，右不明确

> ID：15516654
> 
> 赞同：3
> 
> 时间：2013-03-20T06:21:29.737
> 
> 标签：c++, data-structures

我收到一个编译错误，说“左”和“右”不明确。

我是否在错误的地方声明了左，右？

*   在 main 内部声明也无济于事
*   在 main 上方移动函数定义无济于事

我将如何解决这个问题？

最小测试用例：

```
#include <iostream>
using namespace std;
int left = 0, right = 0;
int main()
{
    cout << left;
    cout << right;
} 
```

正在给：

```
prog.cpp: In function ‘int main()’:
prog.cpp:6:13: error: reference to ‘left’ is ambiguous
prog.cpp:3:5: error: candidates are: int left
In file included from /usr/include/c++/4.7/ios:43:0,
                 from /usr/include/c++/4.7/ostream:40,
                 from /usr/include/c++/4.7/iostream:40,
                 from prog.cpp:1:
/usr/include/c++/4.7/bits/ios_base.h:918:3: error:
             std::ios_base& std::left(std::ios_base&)
prog.cpp:7:13: error: reference to ‘right’ is ambiguous
prog.cpp:3:15: error: candidates are: int right
In file included from /usr/include/c++/4.7/ios:43:0,
                 from /usr/include/c++/4.7/ostream:40,
                 from /usr/include/c++/4.7/iostream:40,
                 from prog.cpp:1:
/usr/include/c++/4.7/bits/ios_base.h:926:3: error:
             std::ios_base& std::right(std::ios_base&) 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-03-20T06:26:55.887

观察错误信息：

```
raw.cpp:105: error: reference to ‘right’ is ambiguous
raw.cpp:5: error: candidates are: int right
/usr/include/c++/4.2.1/bits/ios_base.h:917: error:
   std::ios_base& std::right(std::ios_base&) 
```

读起来很吓人，但基本上这就是它所说的：

```
raw.cpp:105: error: There's more than one ‘right’ here
One of them is yours: raw.cpp:5  int right
Another one isn't: <bits/ios_base.h:917>: some crap in namespace ‘std’ 
```

所以`left`和`right`已经在 中定义`namespace std`，您将使用`using namespace std`. 这就是你有歧义的原因。修复它的最简单更改是删除`using namespace std;`和添加`using std::cin; using std::cout;`，但这看起来像我的口味的太多全局变量。

By the way, you should incorporate your code into your question. The question might be here longer than that paste, and my answer won't make sense if nobody can see the whole question.

# java - 我们如何使用单链表和双链表模拟/实现数组？

> ID：15516657
> 
> 赞同：-4
> 
> 时间：2013-03-20T06:21:40.517
> 
> 标签：java, arrays, data-structures, singly-linked-list, doubly-linked-list

我已经在 J​​ava 中实现了单点列表和双向链表，现在我的老师要求我使用单链表和双向链表（在 Java 中）实现数组。我遇到了一些关于如何使用数组实现单链表和双链表的解决方案，但我需要其他方式。谁可以帮我这个事。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-20T06:44:27.003

我不知道你的确切任务。但是，假设通过“实现一个数组”您的意思是提供一种执行数组基本功能的方法，那么请考虑一下数组可以让您做什么。

数组在创建时具有固定大小，并且不可调整大小，因此使用指定其大小的构造函数实现链表，之后不要让列表增长或缩小。那时创建所有节点可能很有用，但可能不是严格要求的。

数组提供随机访问（您可以访问或分配给数组中的任何插槽，而不是链表的仅前端/后端方法），因此实现获取和设置索引的方法。如果您了解链表的方法，这应该是一件非常简单的事情（只需从头部或尾部迭代尽可能多的单元格以到达指定的索引）。

它需要能够做到：

```
// the constructor with size specified.
PseudoArray pa = new PseudoArray(10);

// assigning to arbitrary indices
pa.set(0, "Hello, I am the first element.");
pa.set(5, "I am in the middle of the list.");

// reading from arbitrary indices
pa.get(0);
pa.get(5); 
```

您可能必须添加一些内容，例如确保只有某些类型的对象才能进入其中，但基本上，随机访问和固定的预定大小是最大的问题。

希望我已经理解了你的问题。

# php - 根据数据库值检查复选框

> ID：15516660
> 
> 赞同：0
> 
> 时间：2013-03-20T06:21:54.183
> 
> 标签：php, html

我在数据库中有值，例如日期和复选框值。我想选中数据库中有日期的复选框；其他复选框应为空。如何检查正确的复选框（共 30 个）？

```
<?php 
for($i = 1; $i <= $no_of_days; $i++) {
  if($i == 15 || $i == 18) {
    ?>
    <div style="width:300px;float:left;">
      <input type="checkbox" value="1" name="isactive" checked="checked" />
      <?php echo $start = date(''.$i.'-m-Y'); ?>
      </br></br></br>       
    </div>
    <?php
  }
}
?> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-20T06:29:22.790

```
<?php
  for( $i = 1; $i <= $no_of_days; $i++) {
?>
    <div style="width: 300px; float: left;">
        <input type="checkbox" value="1" name="isactive"
            <?php if( $i == 15 || $i == 18 ) { echo "checked=\"checked\""; } ?> />
        <?php echo $start = date( $i.'-m-Y' ); ?>
        <br /><br /><br />
    </div>
<?php
  }
?> 
```

适当的缩进有很大帮助。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-20T06:32:21.030

```
<?php for($i = 0; $i <= $no_of_days; $i++): ?>
  <div class="wrap">
    <input type="checkbox" value="1" name="isactive" <?=($i == 15 || $i == 18)?'checked="checked"':''?>>
    <?php echo $start = date(''.$i.'-m-Y'); ?>
  </div>
<? endfor; ?>

.wrap {
    float:left;
    width:300px; 
```

}

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-20T06:33:57.517

这就是你需要的：

```
<?php 
    for($i=1;$i<=20;$i++) {
        if($i ==15 || $i== 18) {
            $is_checked = 'checked';
        } ?>

        <div style = "width : 300px; float : left;" >
            <input type = "checkbox" value = "1" name = "isactive"
                <?php echo $is_checked; ?>
                <?php
                   if( @$isActive[$i] == 1 ) { ?> 
                       checked = "checked" <?php
                   } ?> 
            />

            <?php echo $start = date(''.$i.'-m-Y'); ?>

            </br></br></br>     
        </div> <?php
    } ?> 
```

试试看

# android - 在 ANDROID 中膨胀 xml 时出现问题

> ID：15516662
> 
> 赞同：0
> 
> 时间：2013-03-20T06:22:02.547
> 
> 标签：android, xml, inflate

我在膨胀的 xml 中有一个按钮，我想把它作为 xml id。请帮我做一些事情......我已经膨胀了这样的东西。

```
RelativeLayout mainLayout = (RelativeLayout)findViewById(R.id.relative); 
```

//创建一个视图来膨胀layout_item（之前创建的带有textView的xml）

```
view = getLayoutInflater().inflate(R.layout.inflate, mainLayout,false); 
```

//将视图添加到主布局

```
mainLayout.addView(view); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-20T06:29:38.263

检查此代码

```
RelativeLayout mainLayout = (RelativeLayout)findViewById(R.id. relative);
View childLayout = getLayoutInflater().inflate(R.layout.child);
mainLayout.addView(childLayout); 
```

# iphone - NSDateFormatter 提供一天回溯日期

> ID：15516667
> 
> 赞同：1
> 
> 时间：2013-03-20T06:22:18.797
> 
> 标签：iphone, nsdateformatter

使用 NSDateFormatter 来改变日期的格式，它只是返回前一天给它的日期。这是代码：

```
NSString *strDate = [self.mArrEventDate objectAtIndex:i];

NSString *str = [[NSString alloc] init];
str = [strDate stringByReplacingOccurrencesOfString:@"/" withString:@"-"];

NSDateFormatter *dateFormatter = [[NSDateFormatter alloc] init];
// ...using a date format corresponding to your date
[dateFormatter setDateFormat:@"dd/MM/yyyy"];

// Parse the string representation of the date
NSDate *date = [dateFormatter dateFromString:strDate];

NSDateFormatter *format1 = [[NSDateFormatter alloc]init];

[format1 setTimeZone:[NSTimeZone timeZoneForSecondsFromGMT:0]];

[format1 setDateFormat:@"yyyy-MM-dd"];

NSString *sDate   = [format1 stringFromDate:date]; 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-20T06:29:26.837

设置时区

```
[format1 setTimeZone:[NSTimeZone systemTimeZone]]; 
```

**`OR`**

```
[format1 setTimeZone:[NSTimeZone localTimeZone]]; 
```

希望，它会帮助你。

谢谢。

# php - 在 wordpress 中继器数组中获取第一张图片

> ID：15516683
> 
> 赞同：0
> 
> 时间：2013-03-20T06:23:28.397
> 
> 标签：php, wordpress, loops, get

我有一个while循环，它获取一个缩略图，然后是一个div中的所有其他图像，用于fancybox。我需要它，以便当单击拇指时，它会在图像的转发器字段中展开第一个图像，而不是初始缩略图。

我试图将图像取出并回显，但它似乎得到了随机图像。

这是我的代码 firstImage 变量是我用来尝试从转发器字段中获取第一张图像的地方。

这是网站的链接[http://lsmcreative.co.nz/](http://lsmcreative.co.nz/)

```
 <?php query_posts("posts_per_page=-1"); ?>
    <?php if(have_posts()):?>
    <?php $i = 0; ?>
    <?php while(have_posts()) : the_post();?> 

        <?php
        $image1ID = get_field('main');
        $image1 = wp_get_attachment_image_src( $image1ID, 'full-size' );
        $attachment1 = get_post( $image1ID );
        $image1_title = $attachment1->post_title;

        $categories = get_the_category(); 
        $i++;

        $firstImage = get_field('images');
        $firstImageId = $firstImage[0]['image' ]['id' ];
        $imageobject = wp_get_attachment_image_src( $firstImageId, 'full-size'  ); // returns an array
        $image_url = $imageobject[0];           
        ?>                          

            <li class="<?php foreach($categories as $category){ echo $category->category_nicename.' '; } ?>">

                <a class="grouped_elements" rel="group<?php echo $i; ?>" title="<?php echo $image_title; ?>" href="<?php echo $imageobject[0] ?>">
                    <img class="hover" src="<?php bloginfo('template_url') ?>/img/portfolio/hover.jpg" alt="LSM Design">
                    <img src="<?php echo $image1[0] ?>" alt="<?php echo $image1_title; ?>">
                </a>

                <div class="lb-images">

                    <?php if(get_field('images')){ ?>   
                        <?php while(has_sub_field('images')): ?>
                            <?php
                            $imageID = get_sub_field('image');
                            $image = wp_get_attachment_image_src( $imageID, 'gallery-thumb' );
                            $attachment = get_post( $imageID );
                            $image_title = $attachment->post_title;
                        ?>
                        <a class="grouped_elements" rel="group<?php echo $i; ?>"  href="<?php echo $image[0] ?>" title="<?php if(get_sub_field('caption')){the_sub_field('caption');}; ?>"><img src="<?php echo $image[0] ?>" alt="<?php echo $image_title; ?>"></a>
                        <?php endwhile; ?>
                    <?php } ?>  

                </div>

            </li>

    <?php endwhile; ?>
    <?php else: ?>  
    <?php endif; ?>
    <?php wp_reset_query(); ?> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-20T09:34:39.343

好的，试试这个可能会起作用，因为你的第一篇文章给你链接可能是由于 get_posts 更改了你的代码

```
$firstImage = get_field('images'); 
```

作为

```
$imid=get_the_ID();
$firstImage = get_field('images',$imid); 
```

希望这会成功.. :)

# internet-explorer - BroadCam 视频流未在 Internet Explorer 中播放

> ID：15516684
> 
> 赞同：0
> 
> 时间：2013-03-20T06:23:38.833
> 
> 标签：internet-explorer, internet-explorer-8, video-streaming, flash

我在本地服务器中安装了 Broadcam 视频流服务器。我已经在服务器上上传了一个测试视频。当我尝试在本地 PC 中查看流时，它在 chrome 中播放良好，在 Firefox 中模糊，除了 IE8 中视频播放器位置的关闭按钮之外。我的 Flash 播放器很好，支持所有浏览器。我为我的 IE8 安装了 Flash 播放器，然后重新安装了 java 仍然没有任何线索。可能是什么问题 ？

`I am using XP SP3\. and Broadcam Video streaming server V2.25`

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-20T06:44:45.970

我才发现这个

[http://windows.microsoft.com/en-us/windows/help/internet-explorer/slow-five-tips-to-boost-performance](http://windows.microsoft.com/en-us/windows/help/internet-explorer/slow-five-tips-to-boost-performance)

有一个用于重置 Internet Explorer 的选项。遵循并重置。视频正在播放。但它仍然像在Firefox中一样播放质量低且模糊。:(

# jsf - 如何防止会话 ID 通过 URL 查询字符串在客户端和服务器之间传递？

> ID：15516686
> 
> 赞同：0
> 
> 时间：2013-03-20T06:23:43.777
> 
> 标签：jsf, query-string, session-cookies, web.xml, jsessionid

如何防止会话 ID 通过 URL 查询字符串在客户端和服务器之间传递？我不希望通过 URL 查询字符串传递会话标识符。我如何确保这一点？任何帮助，将不胜感激。谢谢普拉文库马尔

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-20T07:07:07.723

您可以使用 web.xml 配置容器跟踪会话的方式。只需添加以下内容即可强制执行 cookie：

```
<session-config>
  <tracking-mode>COOKIE</tracking-mode>
</session-config> 
```

但请注意，如果您强制容器使用 cookie，您将中断未启用 cookie 的用户的会话处理。

# javascript - 单独删除输入

> ID：15516688
> 
> 赞同：0
> 
> 时间：2013-03-20T06:23:50.187
> 
> 标签：javascript, jquery, validation, input

我希望在他们的名字中添加编号的输入（已经成功），但如果为空（不能），也可以通过单击按钮来删除它们。使用此代码，所有搜索类输入都将被删除。我只想要删除空的。这是我的尝试：

```
<script type="text/javascript">
// contains the counter for elements added
window.__buttonClickCounter = 1;

// Keep reference to container
var c = document.getElementById('inputs');

// Click handler that appends to the contents of the container
var clickhandler = function () {
    c.innerHTML = c.innerHTML + "<input class='search' style='margin-bottom:4px;' type='search'         name='word" + window.__buttonClickCounter + "'/>";
    window.__buttonClickCounter++;

    $('#removebtn').click(function () {
        $('.search').remove();
    });
}
</script> 
```

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-20T06:28:23.820

您可以使用 jquery 编写如下

```
$(function(){
    var counter = 0;
    $('#addbtn').click(function(){
        $('#inputs').append('<input class="search" style="margin-bottom:4px;" type="search"         name="' + counter++ + '"/>')
    });

    $('#removebtn').click(function(){
        $('.search').each(function(){
            var $this = $(this);
            if(!$this.val()){
                $this.remove()
            }
        });    
    });
}) 
```

演示：[小提琴](http://jsfiddle.net/arunpjohny/DSh8v/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-20T06:41:53.630

您可以在像这样调用之前从 jQuery 对象中过滤掉非空对象`.remove()`（从而只删除空对象）：

```
$('#removebtn').click(function () {
     $('.search').filter(function() {return !this.value}).remove();
}); 
```

如果`.filter()`回调返回`true`，则保留该项目。如果它返回`false`，则从生成的 jQuery 对象中删除该值。所以，这从所有`.search`对象开始，然后只保留那些在哪里`!this.value`，`true`这意味着它保留那些`this.value`是错误的（例如空的），所以只有空的那些会`.remove()`被调用。

* * *

或者，更可重用的方式：

```
// Reusable jQuery method for filtering out non-empty input values
// Also filters out items that don't have a `.value` property
$.fn.filterNonEmpty = function() {
    return this.filter((function() {return !this.value});
};

// now use this new jQuery method
$('#removebtn').click(function () {
    $('.search').filterNonEmpty().remove();
}); 
```

# ios - MBProgressHUD - 2 条连续消息重叠

> ID：15516689
> 
> 赞同：1
> 
> 时间：2013-03-20T06:23:53.343
> 
> 标签：ios, objective-c, mbprogresshud

我试图在屏幕上一个接一个地显示 2 MBProgressHUD 消息。我发现第二条消息与第一条消息重叠，而不是连续出现。这就是我想要做的：

我有一个注销按钮单击它会触发它并调用“saveCartNotification”

```
- (IBAction)logout:(id)sender {
  [self saveCartNotification];
} 
```

“saveCartNotification”发布一个延迟 5 秒的 MBProgressHUD，然后调用“userLogOut”

```
- (void)saveCartNotification{
    self.hud = [[MBProgressHUD alloc] initWithView:self.view];
    self.hud.labelText = @"Saving your cart..";
    self.hud.mode = MBProgressHUDModeIndeterminate;
    self.hud.dimBackground = YES;
    self.hud.animationType = MBProgressHUDAnimationFade;
    [self.view addSubview:self.hud];
    [self.hud show:YES];
    [self.hud hide:YES afterDelay:5];
    [self.hud show:YES];
    self.hud.labelText = @"Saving Cart and Favorites";
    [self.hud hide:YES afterDelay:5];

//Logout
[self userLogOut]; 
```

}

userLogOut 现在以 5 秒的延迟发布另一条 MBProgressHUD 消息：

```
- (void)userLogOut{
    self.hud = [[MBProgressHUD alloc] initWithView:self.view];
    self.hud.labelText = @"Logging out securely";
    self.hud.mode = MBProgressHUDModeIndeterminate;
    self.hud.dimBackground = YES;
    self.hud.animationType = MBProgressHUDAnimationFade;
    [self.view addSubview:self.hud];
    [self.hud show:YES];
    [self.hud hide:YES afterDelay:5];
} 
```

由于我连续调用这些方法，我的预期行为是：

1) 来自“saveCartNotification”的 MBProgressHUD 消息 2) 上述消息持续 5 秒并消失 3) 来自“userLogOut”的 MBProgressHUD 消息 4) 上述消息再次保持 5 秒并消失

但是正在发生的事情是两条消息似乎同时出现在屏幕上，来自“userLogOut”的 MBProgressHUD 消息与来自“saveCartNotification”的 MBProgressHUD 消息重叠。

您能否让我知道我缺少什么以及我需要做些什么才能一个接一个地收到我的消息。

非常感谢您的帮助。

谢谢，迈克

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-20T08:59:45.877

问题是您希望消息在相当长的时间内（以计算机术语）连续出现，而这些 HUD 所代表的两个进程一个接一个地快速发生。

您的`saveCartNotification`方法准备了用于显示所需文本的 HUD 的单个实例。然后，紧接着你触发`userLogOut`用它自己的消息替换 HUD 的方法。

所以我现在能想到的有两种可能：

1.  由于保存速度非常快，因此您完全摆脱了该步骤的 HUD。如果您愿意，您可能希望以某种方式调整注销显示的文本，以告知用户已保存的购物车。
2.  只有当第一个 HUD 消失时，您才会触发注销。有一个方法`MBProgressHUD`被调用`- (void)showAnimated:(BOOL)animated whileExecutingBlock:(dispatch_block_t)block completionBlock:(MBProgressHUDCompletionBlock)completion`。在第一个块中，您进行了保存，并且可以 - 因为它在后台线程上运行 - 在其中使用一些`NSThread sleepForTimeInterval:`基于延迟的内容将消息留在屏幕上一段时间。然后在完成块中触发注销。这样你就可以有效地序列化调用，导致两个 HUD 都在屏幕上保留一段时间。

但是，根据您的应用程序中使用此流程的频率，对于更有经验的用户来说，不得不等待第一条消息消失可能会很烦人。我认为，对于每条消息，您可能不会延迟 5 秒，而是延迟 2 秒。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-20T06:36:14.023

通过这个调用你的**userLogOut ，**

```
[self performSelector:@selector(userLogOut) withObject:nil afterDelay:5]; 
```

您必须这样做，因为您要给 MBProgressHUD 特定的时间来隐藏。

希望这会有所帮助，快乐编码。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-20T06:37:33.997

创建两个单独的实例`MBProgrressHUD`或将您的注销调用更改为

```
[self performSelector:@selector(userLogOut) withObject:nil afterDelay:5]; 
```

由于您按顺序调用两个方法并使用相同的实例`MBProgressHUD`，因此该方法会立即覆盖第一个警报`userLogout`。

# windows-phone-7 - 使用 Expression Blend 中的资源字典来处理 WP 中的浅色/深色主题

> ID：15516693
> 
> 赞同：0
> 
> 时间：2013-03-20T06:24:19.747
> 
> 标签：windows-phone-7, windows-phone-8, windows-phone

我编写了一个自定义[ResourceDictionary](http://blog.richardszalay.com/2011/06/11/practical-support-for-light-dark-themes-on-windows-phone-7/)，它以完全相同的方式实现主题支持：根据浅色/深色主题加载适当的主题字典。

```
 <ApplicationName:ThemeResourceDictionary.LightResources>
                <ResourceDictionary Source="/ApplicationName;component/Resources/Light.xaml"/>
</ApplicationName:ThemeResourceDictionary.LightResources>

<ApplicationName:ThemeResourceDictionary.DarkResources>
    <ResourceDictionary Source="/ApplicationName;component/Resources/Dark.xaml"/>
</ApplicationName:ThemeResourceDictionary.DarkResources> 
```

样式文件：

```
<ResourceDictionary  xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"       
xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml">    
<BitmapImage x:Key="Logo62"  UriSource="/ApplicationName;component/icon_62_dark.png" /> 
```

在我的 XAML 页面上，我像这样使用它

```
<Image Source="{StaticResource Logo62}" Margin="0,4,10,0"/> 
```

当我运行应用程序时一切正常，但在 Expression Bland 中我有一个错误：“资源“Logo62”无法解析”，我没有看到这个图像。谁能帮我解决这个问题。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-20T09:12:58.667

尝试将您的资源字典更改为：

```
<ResourceDictionary  xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"       
xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml">    
<BitmapImage x:Key="Logo62"  UriSource="/icon_62_dark.png" /> 
```

请注意，我删除了 /ApplicationName;component/

否则，您必须将Visual Studio 中的图像**构建操作****更改为****Resource**而不是 Content，否则该文件将无法正确构建并包含在项目中。

# html - 如何将 erb 中的整个块转换为 html 实体？

> ID：15516694
> 
> 赞同：0
> 
> 时间：2013-03-20T06:24:20.170
> 
> 标签：html, ruby-on-rails, erb

我有以下内容：

```
<%= content_tag(:table, class: "table") do %>
…
Rows and cells etc
…
<% end %> 
```

我想将其输出为原始 HTML 供用户复制和粘贴。我怎么做？

我可以用类似的东西包裹整个块`<%= raw do %>…&lt;% end %>`吗？（这显然行不通）

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-20T06:30:25.230

`CGI::escapeHTML`可以做到。你应该可以打电话

```
<%= CGI.escapeHTML content_tag(:table, class: "table") do %>
  ...
<% end %> 
```

**更新，更好的方法：**

方法，`h`当然！

```
<%=h content_tag(:table, class: "table") do %>
  ...
<% end %> 
```

# sql-server - 将 SELECT INTO 子句替换为 INSERT INTO

> ID：15516698
> 
> 赞同：2
> 
> 时间：2013-03-20T06:24:45.850
> 
> 标签：sql-server, sql-server-2008, azure-sql-database

下面是为在商店中搜索商品而编写的存储过程。它在 SQL Server 2008 中运行良好。但是当我在 SQL Azure 中运行它时，我发现不支持 SELECT INTO。

我决定使用`CREATE #Table`并使用`INSERT INTO(Col) Values()`。

问题是基于搜索条件的列数是动态的。以下过程中的示例是`DISTANCE`列。仅当用户选择城市时才会返回。

**如何在以下过程中将 CREATE TABLE 和 INSERT INTO 与动态 SQL 一起使用？**

```
CREATE PROCEDURE [dbo].[SearchItems]
(
 @ShopId INT
,@unitItems INT = 20
,@sortOrder INT = 0
,@language CHAR(2) = 'EN'
,@catId INT
,@search NVARCHAR(100) = ''
,@cityId INT = 0
,@page INT
,@currentDate DATETIME2(0)
,@currentUserId INT = 0
,@itemType TINYINT = 0
,@unitRows INT OUTPUT
,@unitPages INT OUTPUT
)
AS
BEGIN
SET XACT_ABORT ON
SET NOCOUNT ON

DECLARE @sql NVARCHAR(MAX)
        ,@sqlSelect NVARCHAR(MAX) = ''
        ,@sqlTempTable NVARCHAR(MAX) = 'itemSearch'
        ,@sqlInto NVARCHAR(MAX) = ''
        ,@sqlFrom NVARCHAR(MAX) = ''
        ,@sqlClause NVARCHAR(MAX) = ''
        ,@sqlGroup NVARCHAR(MAX) = ''
        ,@params NVARCHAR(MAX)
        ,@sortOrderString NVARCHAR(MAX) = 'ORDER BY IT.CREATEDATE DESC'

SET @sqlSelect =
    'SELECT     
                 IT.ITEMId
                ,IT.USERId
                ,IT.ShopId
                ,IT.ITEMID
                ,IT.ITEMNAME                    
                ,IT.LASTUPDATED

                ,CY.COUNTRYNAME AS COUNTRYNAME
                ,CI.CITYNAME AS CITY
                ,ROW_NUMBER() OVER (' + @sortOrderString + ') AS RowNumber'

SET @sqlGroup =
    ' GROUP BY  IT.ITEMId
                ,IT.USERId
                ,IT.ShopId
                ,IT.ITEMID
                ,IT.ITEMNAME                    
                ,IT.LASTUPDATED                 
                ,CY.COUNTRYNAME
                ,CI.CITYNAME'

SET @sqlFrom =
    ' FROM      dbo.ITEM AS IT
    INNER JOIN  dbo.Shop AS J
            ON  IT.ShopId = J.ShopId
    INNER JOIN  dbo.CITY AS CI
            ON  CI.CITYID = J.CITYID
    INNER JOIN  dbo.COUNTRY AS CY
            ON  CI.COUNTRYISO = CY.COUNTRYISO
    INNER JOIN  dbo.REGION AS R
            ON  CI.REGIONId = R.REGIONId'

    IF (@cityId > 0)
    BEGIN
        SET @sqlFrom = @sqlFrom +
            ' INNER JOIN    dbo.CITY AS CI2
                        ON  CI2.CITYID = @cityId'       
        SET @sqlSelect = @sqlSelect +
            ',dbo.GetDistance(CI2.LATITUDE) AS DISTANCE '       
        SET @sqlGroup = @sqlGroup +
            ',CI2.LATITUDE'
    END

    SET @sqlInto = ' INTO ' + @sqlTempTable + ' ';      
    SET @sql =  @sqlSelect +
                @sqlInto +
                @sqlFrom +
                @sqlClause +
                @sqlGroup

END 
```

有什么帮助/建议吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-20T06:38:37.453

您的临时表也需要动态创建，否则，它不在同一上下文中，它将返回您的临时表未定义错误。基本上你执行以下操作：添加如下参数

```
 declare @definetmp varchar(max)
set @definetemp =' declare  @tempTable table ( ItemID int, 
                                              UserID int,
                                              ....
                 '
.....
set @sqlInto = 'Insert into @tempTable' 
......
set @sql = @definetemp +
           @sqlInto + 
           @sqlSelect+
           .... 
```

关键是，您的临时表也在您的动态 sql 中创建。

# javascript - 在尝试获取最小和最大年龄时获取年龄=无穷大

> ID：15516702
> 
> 赞同：1
> 
> 时间：2013-03-20T06:25:07.943
> 
> 标签：javascript

我正在实施一个项目，我必须找到`minimum`笼子里老鼠的年龄和年龄。

我正在使用的代码是：

```
 var earTags = "";
            var miceAge = "";
            var genoTypes = "";
            for (var curr_mice_cnt = 0, mice_len = data.mice_info.length; curr_mice_cnt < mice_len; curr_mice_cnt++ )
            {
                alert("Inside for loop");
                var m_info = data.mice_info[curr_mice_cnt];
                console.log("Mice Len="+data.mice_info.length);
                earTags = earTags + m_info.ear_tag + ", " ;
                miceAge = miceAge + m_info.age + ", ";
                genoTypes = genoTypes + getGenotypeName(m_info.genotype_id) + ", ";

                var lowest = Number.POSITIVE_INFINITY;
                var highest = Number.NEGATIVE_INFINITY;
                var tmp;
                for (var i=miceAge.length-1; i>=0; i--) {
                    tmp = miceAge[i].Cost;
                    if (tmp < lowest) lowest = tmp;
                    if (tmp > highest) highest = tmp;
                }
                console.log(highest, lowest);

            } 
```

现在我试图将`miceage`它显示为字符串，我想找到字符串的最小值和最大值，我得到的错误是`Miceage=Infinity`。

谁能帮我实现这个，或者你可以建议任何其他代码来实现这个。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-20T06:37:31.407

您发布的代码存在一些问题。

*   首先，您根本不需要内部 for 循环，因为您正在跟踪 data.mice_info 数组的最小值/最大值。
*   其次，您正在迭代内部循环中的miceAge，它是一个字符串，因此miceAge[i].Cost 将出现未定义，这将导致大于/小于比较失败。

我建议如下：

```
var lowest = Number.POSITIVE_INFINITY;
var highest = Number.NEGATIVE_INFINITY;
for (var curr_mice_cnt = 0, mice_len = data.mice_info.length; curr_mice_cnt < mice_len; curr_mice_cnt++ ) {
    var tmp = data.mice_info[curr_mice_cnt];
    if (tmp.age < lowest) lowest = tmp.age;
    if (tmp.age > highest) highest = tmp.age;
}
console.log(lowest, highest); 
```

# php - Magento-CE 的开发

> ID：15516739
> 
> 赞同：0
> 
> 时间：2013-03-20T06:27:39.353
> 
> 标签：php, oop, magento

我是 magento-CE 的初学者，我尝试根据他们的知识库站点上的给定创建一个简单的“hello world”模块。但我不知道如何查看创建的更改/更新。在他们的网站中提到要检查所做的任何更改，您需要访问 URL [http://example.com/helloworld/index/index](http://example.com/helloworld/index/index)，因为我将包名命名为 helloworld，动作控制器命名为“IndexContrller”，动作控制器方法作为“indexAction”。如果应该通过 localhost 访问 magento-CE 的后端，为什么我应该通过 http 地址检查它？如果我应该这样做，那么请告诉我哪里出错并提及正确的方法。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-20T10:03:05.637

如果你想在前端看到你的 hello world，你需要在 config.xml 中声明一个前端路由器

像这样。

```
<frontend>
        <routers>
            <ebank>
                <use>standard</use>
                <args>
                    <module>Ihrcms_Ebank</module>
                    <frontName>ebank</frontName>
                </args>
            </ebank>
        </routers>
    </frontend> 
```

现在重要的是正面名称。在这里，我们有电子银行。所以你可以打电话

```
http://localhost:80/myshop/ebank/ 
```

如果您这样称呼它，Magento 会在内部将其翻译为

```
http://localhost:80/myshop/ebank/index/index 
```

第一个索引意味着 Magento 将在您的控制器文件夹中查找一个名为 IndexController 的 ActionController。第二个索引意味着 Magento 将在 ActionController 中查找一个名为 indexAction 的函数。

因此，有了这些知识，您可以做一些其他类似的事情。假设我们有一个支付提供商，我们想在那里支付某事。

```
http://localhost:80/myshop/ebank/payment/pay 
```

因此，在这种情况下，您必须在实现 payAction 方法的控制器下声明一个 PaymentController。

# websphere - 用于 Eclipse 的 WebSphere Application Server 开发人员工具：如何

> ID：15516741
> 
> 赞同：4
> 
> 时间：2013-03-20T06:27:50.357
> 
> 标签：websphere

我在 Spring Tool Suite 之上安装了 WebSphere Application Server Developer Tools for Eclipse。我使用了 Help > Eclipse Marketplace 菜单来完成它。

安装似乎工作正常（没有失败）。但我不知道 WebSphere 运行时环境安装在哪里。我原以为它会在 c:\Program Files\IBM\Websphere 中，但它不存在。

当我进入 Spring 工具套件目录时......

C:\Program Files\springsource\sts-3.1.0.RELEASE\features

有很多新的 WebSphere 目录，因此我知道它已经安装了一些东西。只是不确定在哪里。

这让我开始思考开发者工具是否提供了一个标准的运行时环境，包括 stopServer.bat、startServer.bat 等。

感谢您帮助我了解这些工具的工作原理。

谢谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-20T15:43:33.577

实际上没有，工具套件不会安装服务器运行时环境。因此，您有几个选项可以让 WebSphere 启动并在您的环境中运行。

WebSphere Liberty 配置文件 - 您可以从 Eclipse Market Place 安装它，只需搜索 WebSphere Liberty 并安装它，就可以了。您应该注意到，Liberty 是一个全新的产品，与大公司更常用的 WebSphere ND 不同。您可以在以下位置了解有关自由配置文件的更多信息：http: [//pic.dhe.ibm.com/infocenter/wasinfo/v8r5/topic/com.ibm.websphere.wlp.nd.doc/ae/cwlp_about.html](http://pic.dhe.ibm.com/infocenter/wasinfo/v8r5/topic/com.ibm.websphere.wlp.nd.doc/ae/cwlp_about.html)

或者

WebSphere Developer Edition - 您可以从以下位置下载和安装： http: [//www.ibm.com/developerworks/downloads/ws/wasdevelopers/](http://www.ibm.com/developerworks/downloads/ws/wasdevelopers/) 这与 WebSphere ND 类似，但它对开发是免费的，并且面向开发人员在本地运行，同时开发他们的应用程序。

您可以在以下位置检查 WebSphere 版本比较： [http ://www-01.ibm.com/software/webservers/appserv/wasfamily/compare.html](http://www-01.ibm.com/software/webservers/appserv/wasfamily/compare.html)

问候。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-03-17T21:19:22.533

将 WebSphere Liberty Profile 用作本地服务器运行时是一个好主意。它是非常轻量级的，它理解与 WebSphere“完整”配置文件相同的部署描述符语法。

在您执行 WDT 安装之后，可以直接从 Eclipse 下载和安装 Liberty 运行时。

# google-maps - 谷歌地图显示不正确的 KMZ 信息

> ID：15516742
> 
> 赞同：0
> 
> 时间：2013-03-20T06:27:51.993
> 
> 标签：google-maps

我在这里有一个小的谷歌地图应用程序：

[http://projects.kleelof.com/stockfight/project_view.php](http://projects.kleelof.com/stockfight/project_view.php)

它引用了这个 KMZ 文件：

[http://projects.kleelof.com/stockfight/kmz_maps/map_2.kmz](http://projects.kleelof.com/stockfight/kmz_maps/map_2.kmz)

KMZ 文件适用于南美洲的一些数据，但谷歌地图应用程序在加拿大显示了一些数据。

这是我正在使用的脚本：

```
var the_map         = $('#map_canvas');
    function initialize() {
        var myOptions = {
          center: new google.maps.LatLng(58.33, -98.52),
          zoom: 11,
          mapTypeId: google.maps.MapTypeId.ROADMAP
        };
        /*
        the_map.gmap();
        the_map.gmap({
                        'callback': function() {
                                                the_map.gmap('loadKML', 'dog_feed_1', 'http://projects.kleelof.com/stockfight/kmz_maps/map_1.kmz');
                                                }
        });
        */

        var map = new google.maps.Map(document.getElementById("map_canvas"), myOptions);
        var road = new google.maps.KmlLayer( 
            'http://projects.kleelof.com/stockfight/kmz_maps/map_2.kmz',
            {preserveViewport:true}
            );
        road.setMap(map);

      }
    google.maps.event.addDomListener(window, 'load', initialize); 
```

我错过了什么吗？

李

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-20T07:03:22.287

KmlLayer 的 {preserveViewport:true} 选项告诉它不要缩放到 KML 的内容，它会停留在您初始化地图的位置。如果您希望它转到 KMZ，请将其删除（或将其设置为 false）。

# api - Rest API 身份验证 - 进一步说明

> ID：15516744
> 
> 赞同：2
> 
> 时间：2013-03-20T06:27:53.633
> 
> 标签：api, rest, authentication, cookies, http-authentication

我一直在阅读很多 REST API 身份验证线程，试图将它们拼凑起来是如何工作的。似乎有 2 个主要阵营，“只使用 HTTP 基本/摘要式身份验证及其关联的 HTTP 标头，每次都发送用户密码”和“针对 URL 进行一次身份验证，获取令牌，存储它，然后将其发送给每个要求。' 每个人都同意不使用会话并使用 HTTPS，这很公平。

我只是希望用户登录后在浏览器上进行身份验证，而不必单独对 API 进行身份验证。大多数情况下，我希望我的网络服务可以免费访问搜索等，并且只需要对某些位置的创建/编辑/删除操作进行身份验证。前端只是用户的浏览器，服务通过 ajax 调用来调用。

我的问题是：

1.  如果您已经在您的站点上使用表单身份验证，那么如何最好地设置 HTTP 身份验证标头？您是否需要在登录表单上添加一些 jQuery 标记（例如这个接受的答案[Sending basic authentication information via form](https://stackoverflow.com/questions/4460543/sending-basic-authentication-information-via-form)），以便您也对 API 进行身份验证并存储，即设置一个基本上只是的 /api/authenticate 部分检查您的 HTTP 身份验证详细信息，以便它们由您的浏览器存储。

2.  如果您取回一个令牌并发送它而不是您的用户/传递每个请求，您将它存储在哪里？每个人都说不要使用cookies，但是浏览器还能在哪里存储类似的东西呢？我可以理解在您有密钥环的智能设备上或在有存储它的地方的应用程序中，但不能在浏览器中

我认为，我见过的其他选项基本上是编写您的 Web 应用程序并代表用户将请求发送到 API（因此您通常使用表单进行身份验证，然后 Web 应用程序执行 API 调用，发送用户凭据本身，可以存储）而不是直接来自用户。这似乎需要做很多额外的工作来解决这个问题，如果一个人决定不完全是 RESTful，那么它可以通过会话巧妙地规避，并且您还必须存储身份验证详细信息。

我最好不要打扰完全休息，因为它并不真正适合这个目的并使用会话？这似乎容易多了。

# c# - 从后面的代码中绘制网格

> ID：15516747
> 
> 赞同：0
> 
> 时间：2013-03-20T06:28:05.133
> 
> 标签：c#, silverlight

```
<UserControl x:Class="SilverlightApplication4.SilverlightControl1"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    mc:Ignorable="d"
    d:DesignHeight="300" d:DesignWidth="400">

    <Grid x:Name="LayoutRoot" Background="White" Margin="0,0,80,-20">
        <Grid HorizontalAlignment="Left" Height="100" VerticalAlignment="Top" Width="100" Background="Beige"/>
        <Grid HorizontalAlignment="Left" Height="100" VerticalAlignment="Top" Width="100" Background="Beige" Margin="110,0,0,0"/>
        <Grid HorizontalAlignment="Left" Height="100" VerticalAlignment="Top" Width="100" Background="Beige" Margin="220,0,0,0"/>
        <Grid HorizontalAlignment="Left" Height="100" VerticalAlignment="Top" Width="100" Background="Beige" Margin="0,110,0,0"/>
        <Grid HorizontalAlignment="Left" Height="100" VerticalAlignment="Top" Width="100" Background="Beige" Margin="110,110,0,0"/>
        <Grid HorizontalAlignment="Left" Height="100" VerticalAlignment="Top" Width="100" Background="Beige" Margin="220,110,0,0"/>
        <Grid HorizontalAlignment="Left" Height="100" VerticalAlignment="Top" Width="100" Background="Beige" Margin="0,220,0,0"/>
        <Grid HorizontalAlignment="Left" Height="100" VerticalAlignment="Top" Width="100" Background="Beige" Margin="110,220,0,0"/>
        <Grid HorizontalAlignment="Left" Height="100" VerticalAlignment="Top" Width="100" Background="Beige" Margin="220,220,0,0"/>

    </Grid>
</UserControl> 
```

我已经在我的 xamp 文件中为 3*3 网格块编写了上述代码。我如何从后面的代码中做同样的事情而不是编写 9 行代码？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-20T07:11:32.367

```
private void AddGrids()
{
    for (int i = 0; i < 10; i++)
    {
        Grid grid = new Grid
        {
            HorizontalAlignment = HorizontalAlignment.Left,
            VerticalAlignment = VerticalAlignment.Top,
            Height = 100,
            Width = 100,
            Background = new SolidColorBrush(Color.FromArgb(255, 245, 245, 220)),
            Margin = new Thickness("margin calculated by your algorithm")
        };
        LayoutRoot.Children.Add(grid);
    }
} 
```

# .net - 检查动态创建的复选框状态

> ID：15516752
> 
> 赞同：3
> 
> 时间：2013-03-20T06:28:16.387
> 
> 标签：.net, vb.net, dynamic, checkbox

我知道这个问题之前已经回答过，但我似乎无法得到一个可以满足我想要的答案，即能够检查我的动态创建的复选框是否已被选中，我需要能够检查每个复选框分别。

这是我创建复选框的代码

```
Private Sub CreateCheckbox(ByVal x As Integer, ByVal y As Integer, text As String, ByVal id As Integer)
    Dim btnYes As System.Windows.Forms.CheckBox
    btnYes = New System.Windows.Forms.CheckBox
    btnYes.AutoSize = True
    btnYes.TabStop = True
    btnYes.Name = "CheckBox" + id
    btnYes.TabIndex = id
    btnYes.Parent = Panel1
    btnYes.Size = New System.Drawing.Size(81, 17)
    btnYes.Location = New System.Drawing.Point(x, y)
    btnYes.TabIndex = 1
    btnYes.Text = text
    Button1.TabIndex = Button1.TabIndex + 1
    Me.Panel1.Controls.Add(btnYes)
End Sub 
```

我需要类似的东西

```
for i as integer = 0 to id step 1
 if checkbox(i).checked = true then
   'Do Something
 end if
next 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-20T06:39:36.730

您应该`handler`为您的动态创建添加`checkboxes`，给定的代码将创建一个`check box`并且顺便添加`checkedChanged`事件处理程序。

```
Private Sub CreateCheckbox(ByVal x As Integer, ByVal y As Integer, text As String, ByVal id As Integer)
    Dim btnYes As System.Windows.Forms.CheckBox
    btnYes = New System.Windows.Forms.CheckBox
    ...............
    ...............

    Me.Panel1.Controls.Add(btnYes)

    'Now here add a common handler for your created checkbox
     AddHandler btnYes.CheckedChanged addressOf CommonCheckedChangeHandler
End Sub 
```

以下过程将根据我们上面添加的事件（checkedchanged）被调用。我们可以使用参数访问特定的复选框`sender`

```
private sub CommonCheckedChangeHandler(ByVal sender As Object, ByVal e As System.EventArgs)
   ' This method will be invoked when your dynamically
   ' created check box's checked state got changed
End sub 
```

**编辑1：**

使用下面的代码遍历里面`panel`来检查你的`checkboxes`

```
For Each chkBox In Panel1.Controls.OfType(Of CheckBox)()
  'Check here whether your check boxes are checked true/false
Next 
```

**编辑2：**

OfType 属于`LINQ`，如果你不想要上面的试试这个代码

```
for i as integer = 0 to id step 1
 if Ctype(panel1.controls("CheckBox" & i), checkbox).checked = true then
   'Do Something
 end if
next 
```

# qt - 在放入 QTableWidget 之前修改 QWidget

> ID：15516753
> 
> 赞同：0
> 
> 时间：2013-03-20T06:28:16.683
> 
> 标签：qt, qwidget

在我的 QT UI 中，我需要创建一个`QTableWidget`用户可以在其中向每个单元格添加双精度。

该表有四列：第一列是从 0-255 的值，第二列到第四列分别是 RGB 值，每个从 0-1.0。

```
void MainWindow::InitializeColorTable(){
        QTableWidget *tableColor = ui->tableColor;
        tableColor->setRowCount(4);
        tableColor->setColumnCount(4);

    tableColor->setHorizontalHeaderLabels(QStringList() << 
        tr("Value") << tr("R") << tr("G") << tr("B"));
    for (int row = 0; row < tableColor->rowCount(); ++row){
        tableColor->setCellWidget(row, 0, new QDoubleSpinBox(tableColor));
        tableColor->setCellWidget(row, 1, new QDoubleSpinBox(tableColor));
        tableColor->setCellWidget(row, 2, new QDoubleSpinBox(tableColor));
        tableColor->setCellWidget(row, 3, new QDoubleSpinBox(tableColor));
    }
} 
```

我想修改`QDoubleSpinBox`对象的属性，例如设置初始值和定义范围。但是，我不确定如何执行此操作。如果我创建`QDoubleSpinBox`像

```
QDoubleSpinBox *box = new QDoubleSpinBox;
box->setValue(0);
box->setRange(0, 255);
tableColor->setCellWidget(row, 0, box); 
```

在我的`InitializeColorTable`函数中，`box`当函数返回时变量超出范围。解决这个问题的好方法是什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-20T06:32:59.560

为什么你决定盒子 (QDoubleSpinBox *box = new QDoubleSpinBox;) 超出我们的范围？这是一个动态对象，它将在 setCellWidget 之后成为 tableColor 的子对象（只有该对象的指针超出范围）。所以不要担心。

# jqgrid - 搜索网格为 searchString、searchOper 和 searchField 返回空值

> ID：15516757
> 
> 赞同：0
> 
> 时间：2013-03-20T06:28:38.747
> 
> 标签：jqgrid

我正在使用我的项目中的**struts2**和**hibernate**，并且我正在使用**jqgrid**进行数据显示。现在我想将**jqgrid 搜索**窗口重定向到一个链接。我已经通过以下代码做到了

```
 $(document).ready(function() 
     {
        $("#link1").click(function()
        {
            $("#gridtable").jqGrid ('searchGrid',{multipleSearch:false, 
                multipleGroup: true,
                recreateFilter: true,
                onSearch: function(event,data)
                {
                    document.location.href="jasperPdf";                      
                }
            });
            return false;
        });
    }); 
```

我的链接代码是

```
<s:a id="link1">PDF Report</s:a> 
```

它正确显示搜索窗口。但是当我单击搜索网格窗口上的查找按钮时，它返回的`searchString, searchOper and searchField`值为**null**。所以我无法进行任何进一步的操作。请指导我...

谢谢你。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-20T08:39:01.860

在*高级搜索*的情况下（您已通过设置激活`multipleGroup`）`true`jqGrid 不使用您提到的参数，但它正在使用`filters`参数。此参数将包含一个描述所选搜索选项的对象，类似于：

```
{
    "groupOp":"OR",
    "rules":[{"field":"a.id","op":"eq","data":"1"}],
    "groups":[
         {
             "groupOp":"AND",
             "rules":[{"field":"a.id","op":"eq","data":"2"}],
             "groups":[...]
         }
     ]
} 
```

当然，对象将被序列化为 JSON，因此您需要在服务器端对其进行反序列化。这些字段具有以下含义：

*   `groupOp`确定应在范围内的规则和组之间使用哪个运算符
*   `rules`包含一组过滤规则
*   `field`这相当于`searchField`规则
*   `op`这相当于`searchOper`规则
*   `data this is the equivalent of`规则的 searchString`
*   `groups`包含一组子组

[你可以在这里](http://www.trirand.com/jqgridwiki/doku.php?id=wiki%3aadvanced_searching)阅读更多。

**更新**

您需要将参数添加到要重定向的 URL，例如，在*单次搜索*的情况下，它可能如下所示：

```
onSearch: function(event,data)
{
    var gridPostData = $("#gridtable").getGridParam("postData");
    document.location.href = "jasperPdf?searchField=" + encodeURIComponent(gridPostData.searchField) + "&searchOper=" + encodeURIComponent(gridPostData.searchOper) + "&searchString=" + encodeURIComponent(gridPostData.searchString);                      
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-11-26T22:22:34.673

当我遇到这篇帮助我找到解决方案的相关文章时，我正在寻找填充隐藏字段：

```
\$.extend(\$.jgrid.search,{Find:"Filter Results", caption:"RHZ Results Filter",
    onSearch: function() {
        var gridPostData = jQuery("#tablegrid").jqGrid('getGridParam','postData');
            \$.each(gridPostData, function(index, value){
                if (index == 'searchField')
                    {\$('#searchField').val(value);}
                else if (index == 'searchString')
                    {\$('#searchString').val(value);}
                else if (index == 'searchOper')
                    {\$('#searchOper').val(value);}
                else {}
             })},
        closeAfterSearch:true,
        odata: [{ oper:'eq', text:'equal'},
            { oper:'cn', text:'contains'},
            {oper:'bw', text:'begins with'},{oper:'ew', text:'ends with'}
            ] 
```

});

# jquery - 使用 css 冻结数据表插件标头

> ID：15516761
> 
> 赞同：2
> 
> 时间：2013-03-20T06:28:59.013
> 
> 标签：jquery, css, datatables

我正在使用数据表 jQuery 插件[http://www.datatables.net/](http://www.datatables.net/)来显示数据行。

[https://lh5.googleusercontent.com/-AYO8f7kUw1c/UUlW8jzpisI/AAAAAAAAAC4/0fvbh1gFoko/w854-h262-pok/datatable.png](https://lh5.googleusercontent.com/-AYO8f7kUw1c/UUlW8jzpisI/AAAAAAAAAC4/0fvbh1gFoko/w854-h262-p-o-k/datatable.png)

我想在不使用插件功能和使用 CSS 的情况下冻结此表的标题

我尝试使用位置：固定。但它没有按照要求工作

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-21T14:32:39.373

这是你想要的吗：[表头已修复](http://jsfiddle.net/Dyzxe/)

我用过位置：固定；为达到这个。

```
thead {
    background-color:#000;
    color:#c2c2c2;
    text-align:center; 
    position:fixed; top:0px;
} 
```

# charts - 我想使用 Telerik 控件将 radchart 导出为 pdf

> ID：15516762
> 
> 赞同：0
> 
> 时间：2013-03-20T06:28:59.507
> 
> 标签：charts, telerik

我正在使用此代码获取此图表，并且我想将此图表导出为 pdf。

```
 private void InitializeGraph(DataTable poDt)
 {
    Telerik.Charting.ChartSeries chartseries = new Telerik.Charting.ChartSeries();
    try
    {

      chartseries.Type = Telerik.Charting.ChartSeriesType.Bar;
      Telerik.Charting.ChartSeriesItem csItem;
      RadChart1.PlotArea.XAxis.AutoScale = true;

      RadChart1.PlotArea.XAxis.AddRange(1, poDt.Rows.Count, 1);
      RadChart1.PlotArea.XAxis.AutoShrink = true;

      for (int iRow = 0; iRow < poDt.Rows.Count; iRow++)
      {
        chartseries = new Telerik.Charting.ChartSeries();
        chartseries.Type = Telerik.Charting.ChartSeriesType.Bar;
        chartseries.Name = poDt.Rows[iRow]["Name"].ToString().Trim();

        csItem = new Telerik.Charting.ChartSeriesItem();
        csItem.Name = poDt.Rows[iRow]["Name"].ToString();
        csItem.Label.TextBlock.Text = poDt.Rows[iRow]["Value"].ToString();//+ "(" + poDt.Rows[iRow]["Percentage"].ToString() + "%)";
        RadChart1.PlotArea.XAxis.Appearance.TextAppearance.AutoTextWrap = Telerik.Charting.Styles.AutoTextWrap.True;

        csItem.YValue = Int32.Parse(poDt.Rows[iRow]["Value"].ToString());

        RadChart1.PlotArea.XAxis.AutoShrink = false;
        chartseries.AddItem(csItem);
        RadChart1.Series.Add(chartseries);
      }

        RadChart1.PlotArea.XAxis.AutoShrink = true;

        RadChart1.PlotArea.Appearance.Border.Visible = false;
        RadChart1.Appearance.Border.Visible = false;
        RadChart1.PlotArea.YAxis.IsLogarithmic = true;
        RadChart1.PlotArea.YAxis.AutoScale = true;
        RadChart1.PlotArea.YAxis.Appearance.ValueFormat = Telerik.Charting.Styles.ChartValueFormat.Number;
        RadChart1.Appearance.BarWidthPercent = 50;

        RadChart1.Chart.Appearance.FillStyle.MainColor = System.Drawing.Color.Red;
        RadChart1.Chart.Appearance.FillStyle.MainColor = System.Drawing.Color.Transparent;
        RadChart1.Legend.Appearance.FillStyle.MainColor = System.Drawing.Color.Transparent;

        }
        catch (Exception Ex)
        {
           //throw;
        }
        finally
        {
          poDt.Clear();
          poDt = null;
          chartseries = null;
        }
   } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-21T09:39:57.740

你好我得到了这个问题的答案我使用了 itextsharp 并且它工作正常

无效的 ExportToPdf() {

```
 DataTable poDt = new DataTable();
       InitializeGraph(poDt);

       RadChart1.Save(Server.MapPath("~/images/Chart.png"), System.Drawing.Imaging.ImageFormat.Png);
        Document document = new Document(PageSize.LETTER, 72, 72, 82, 72);
        MemoryStream msReport = new MemoryStream();

        try
        {

            PdfWriter writer = PdfWriter.GetInstance(document, msReport);
            document.AddAuthor("Test");
            document.AddSubject("Export to PDF");
            document.Open();
            Chunk c = new Chunk("Export chart to PDF", FontFactory.GetFont("VERDANA", 15));
            Paragraph p = new Paragraph();
            p.Alignment = Element.ALIGN_CENTER;
            iTextSharp.text.Image hImage;
            hImage = iTextSharp.text.Image.GetInstance(MapPath("~/images/Chart.png"));

            float NewWidth = 500;
            float MaxHeight = 400;

            if (hImage.Width <= NewWidth) { NewWidth = hImage.Width; } float NewHeight = hImage.Height * NewWidth / hImage.Width; if (NewHeight > MaxHeight)
            {
                NewWidth = hImage.Width * MaxHeight / hImage.Height;
                NewHeight = MaxHeight;
            }

            float ratio = hImage.Width / hImage.Height;
            hImage.ScaleAbsolute(NewWidth, NewHeight);
            document.Add(p);
            document.Add(hImage);
            document.Close();

            Response.AddHeader("Content-type", "application/pdf");
            Response.AddHeader("Content-Disposition", "attachment; filename=chart.pdf");
            Response.OutputStream.Write(msReport.GetBuffer(), 0, msReport.GetBuffer().Length);

        }
        catch (System.Threading.ThreadAbortException ex)
        {
            throw new Exception("Error occured: " + ex);
        }

    } 
```

protected void Export_To_Pdf_Click(object sender, EventArgs e) { ExportToPdf();

```
 } 
```

# java - JSF databatable 选定行

> ID：15516763
> 
> 赞同：1
> 
> 时间：2013-03-20T06:29:01.123
> 
> 标签：java, jsf, jsf-2, primefaces

这听起来可能很奇怪，但是如果操作不在数据表行中，请检查是否有任何可能性来获取数据表选定的行值。

我在 JSF 页面中有以下内容

```
 <p:dataTable id="det" var="emp" lazy="true"
value="#{myMB.lazyModel}" paginator="true"
paginatorPosition="bottom" rows="10"
    rowKey="#{emp.employeeNumber}">

    <f:facet name="header">                  
        Employee Details    
    </f:facet> 
```

如果我在里面添加以下内容，`<p:column> </p:column>`我可以`selectedDepartment`在 ManagedBean 中获取该行，但如果我在上方添加按钮 `<p:column> </p:column>`，即不在数据表行中，而是在标题上，我无法获取该`selectedDepartment`行，因为它不在数据表行中。

如果我添加一个不在数据表行中的按钮，有什么方法可以获得 selectedDepartment 行？

```
 <p:commandButton id="addEmployee" 
              icon="ui-icon-plus"                          
              oncomplete="newEmployeeDialog.show()" >
     <f:setPropertyActionListener value="#{emp}" 
     target="#{myMB.selectedDepartment}" />   
      </p:commandButton> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-20T06:43:46.127

如果您不将按钮放在行内，我认为您无法获得类似 rowId 的信息。我建议您首先从 dataTable 中获取一个 id，然后将其放入任何隐藏值中以在 commandButton 中使用它。

# spring - Spring @Autowire 两个未在 ApplicationContext 中定义的相同类的bean

> ID：15516769
> 
> 赞同：5
> 
> 时间：2013-03-20T06:29:29.997
> 
> 标签：spring, dependency-injection, autowired

我正在开发 Spring MVC 应用程序并遇到问题。我是Spring新手，所以如果我的工作有点笨拙，请原谅我。基本上我有一个java类ContractList。在我的应用程序中，我需要这个类的两个不同对象（它们都必须是单例的）

```
public class MyClass {
    @Autowired
    private ContractList contractList;

    @Autowired
    private ContractList correctContractList;

    .. do something..
} 
```

请注意，这两个 bean 都没有在 ApplicationContext.xml 中定义。我只使用注释。因此，当我尝试访问它们时 - contractList 和 correctContractList 最终引用了同一个对象。有没有办法以某种方式区分它们而不在 ApplicationContext.xml 中明确定义它们？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-03-20T06:33:08.760

您可以为 bean 提供限定符：

```
@Service("contractList")
public class DefaultContractList implements ContractList { ... }

@Service("correctContractList")
public class CorrectContractList implements ContractList { ... } 
```

并像这样使用它们：

```
public class MyClass {

    @Autowired
    @Qualifier("contractList")
    private ContractList contractList;

    @Autowired
    @Qualifier("correctContractList")
    private ContractList correctContractList;
} 
```

在 xml 配置中仍然使用`@Autowired`这将是：

```
<beans>
    <bean id="contractList" class="org.example.DefaultContractList" />
    <bean id="correctContractList" class="org.example.CorrectContractList" />

    <!-- The dependencies are autowired here with the @Qualifier annotation -->
    <bean id="myClass" class="org.example.MyClass" />
</beans> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2018-12-18T21:44:27.487

如果您无权访问带有注释的类，`@Autowired`您可能还可以做另一件事。`@Primary`如果星星对齐对您有利，您也许可以利用注释。

假设您有一个无法修改的库类：

```
class LibraryClass{
   @Autowired
   ServiceInterface dependency; 
} 
```

你控制的另一个类*：*

```
class MyClass{
   @Autowired
   ServiceInterface dependency; 
} 
```

像这样设置你的配置，它应该可以工作：

```
@Bean
@Primary
public ServiceInterface libraryService(){
  return new LibraryService();
}

@Bean
public ServiceInterface myService(){
  return new MyService();
} 
```

`MyClass`并用注释`Qualifier`告诉它使用`myService`. `LibraryClass`将使用带有注释的 bean，`@Primary`并将`MyClass`在此配置中使用另一个：

```
class MyClass{
   @Autowired
   @Qualifier("myService")
   ServiceInterface dependency; 
} 
```

这是一个罕见的用途，但我在我有自己的类需要使用旧实现和新实现的情况下使用它。

# api - MapMyFitness API 授权未使用正确的回调

> ID：15516770
> 
> 赞同：1
> 
> 时间：2013-03-20T06:29:36.017
> 
> 标签：api, oauth, callback, authorize, mapmyfitness

我一直在与`MapMyFitness API`. 我让它工作并且授权运行顺利。在过去的两个月里，我的代码或他们的 API 似乎发生了一些变化。

在请求期间，我拨打了以下电话：

```
header("Location: http://api.mapmyfitness.com/3.1/oauth/authorize?oauth_token=123456789&oauth_callback=mysite.com/authorize.php); 
```

它正确地将我发送到 MapMyFitness 站点以授予访问权限。我输入有效的用户名和密码，然后它会将我重定向到：

```
http://api.mapmyfitness.com/3.1/oauth/mysite.com/authorize.php?oauth_token=123456789 
```

当然，网站和令牌是为这个例子组成的。如果我删除第一部分并留下实际的回调，`mysite.com/authorize.php?oauth_token=123456789`它会正确运行。

看来 MapMyFitness 没有正确处理我的`callback`并添加它的`oauth url`.

如果我添加`http://`到回调中，我会收到错误：

```
Unknown request token ""Array ( [oauth_token] => 

f36a684c04ef71d0a129dd59f5bbc1ed0514b4598 [oauth_callback] => SITE [PHPSESSID] => 
p284bpatpiuu78t0105qal4ql4 [fbsr_44829295357] => om1lyMi6U5iIyXqI3nfoWSBW5IoNV8skkJ-
fvW5qec8.eyJhbGdvcml0aG0iOiJITUFDLVNIQTI1NiIsImNvZGUiOiJBUUFkSExOMkc0eWEtZk1NOF91WGtaNDhKMWN
DSmFQVnZEVm95RjZEdXRsNDVuYVRIUHNRdGxMRVhIQW9QSnJrNnhqWlZreTN6NzZCV1RTQWNaTXVTdl9HWEFNMDJkQ3p
1OE80dkhYT3lhUmdHVWl3bmdqcFF4SXYwQl9PUURNRlJzaG5wMDh2bjQ5UUI2S191ZHR5dXB5Z1dwbFNRdndqYTBiQ0h
IVExWN0ZialM5cnpjRGtnS0tVN2xyRVFXMVM2RTNkTzRQZHM1TnJjX0RrLVp3alEyRS0iLCJpc3N1ZWRfYXQiOjEzNjM
4ODQ3NTgsInVzZXJfaWQiOiIxMjcxODUyNTg0In0 [__utma] => 
252565653.331108727.1353966538.1363678118.1363880367.12 [__utmc] => 252565653 [__utmv] => 
252565653.|1=sex=M=1^2=age_group=35to44=1^3=membership=free=1^4=logged_in=is_logged_in=1 
[__utmz] => 252565653.1363678118.11.4.utmcsr=mapmyrun.com|utmccn=
(referral)|utmcmd=referral|utmcct=/api/3.1/oauth/authorize 
[mp_d4aec1d8aa5a6d2aebd49ec451910dea_mixpanel] => {"distinct_id": "13d37eedea042c-0033ca7c4-
376f6050-1aeaa0-13d37eedea1e62","$initial_referrer": "$direct","$initial_referring_domain":
 "$direct","$search_engine": "google"} [optimizelyBuckets] => {} [optimizelySegments] => 
{"173102711":"safari","173022868":"false","172178767":"referral"} [__gads] => 
ID=2f74fc63a6725ad5:T=1362443034:S=ALNI_MblJOxnkm6q4rFDE8wihC_cUXHETQ [mmfsessid] => 
5a0f4259-05ae-4fe9-a45e-aa9f90afdfba [fbm_44829295357] => base_domain=.mapmyfitness.com 
[optimizelyEndUserId] => oeu1353966536109r0.12621341994963586 ) 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-20T09:26:03.510

如果您在初始调用中添加回调的完整 url 会发生什么？IE

```
oauth_callback=http://mysite.com/authorize.php 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-01T16:22:37.990

尝试对您的值进行 urlencoding `oauth_callback`，例如：

```
http://api.mapmyfitness.com/3.1/oauth/authorize?oauth_callback=http%3A%2F%2Fmysite.com%2Fauthorize.php... 
```

# javascript - IndexDB 不会运行用于错误的函数

> ID：15516772
> 
> 赞同：0
> 
> 时间：2013-03-20T06:29:44.433
> 
> 标签：javascript, html, indexeddb

我使用 indexeddb 来运行登录应用程序。如果用户输入尚未在数据库中的用户名，我正在尝试运行警报。但是，onerror 事件没有运行我设置的警报。与 onsuccess 相同的功能正在工作，所以我不确定问题是什么。

登录验证：

```
function getLogin(){
    alert('getLogin launched');
    var user = logUser.value;
    var pass = logPass.value;  
    alert('User: '+user+'  Pass: '+pass+"   sent to loginCheck");
    loginCheck(user,pass);
    alert ('user/pass checked');
}

function loginCheck(user,pass){

    db.transaction("users").objectStore("users").get(user).onerror = function(event) {
  alert('Sorry this is not a valid username');
};

    db.transaction("users").objectStore("users").get(user).onsuccess = function(event) {
        var x = event.target.result;
        if(pass !== x.pw ){alert('Sorry, wrong password');
        }

};
} 
```

数据库的东西：

```
 //-------------USER DB------------------//
function startDB(){
    //sign in page elements
    logUser = document.getElementById('logUserName');
    logPass = document.getElementById('logPass');
    signin = document.getElementById('signin');
    signin.addEventListener('click',getLogin);

    //register page elements
    mainForm = document.getElementById('mainFormSidebar');
    mainForm.addEventListener('submit',addObject);
    fname = document.getElementById('fName');
    lName = document.getElementById('lName');
    users = document.getElementById('uName');
    pass = document.getElementById('password');
    email = document.getElementById('email');
    dob = document.getElementById('dob');
    phone = document.getElementById('phone');
    bio = document.getElementById('bio');
    terms = document.getElementById('terms');
    school = document.getElementById('school');
    gender = document.getElementsByName('gender');
    save = document.getElementById('save');
    reset = document.getElementById('reset'); 
    reset.addEventListener('click',clearForm);
    databox = document.getElementById('databox');

    //open DB
    var request = indexedDB.open('macroPlay'); 
    //if fails
    request.addEventListener('error', showerror); 
    //if succeeds
    request.addEventListener('success', start); 
    //if !exist, create.
    request.addEventListener('upgradeneeded', createdb); 

    //Create Admin account on launch

}
function showerror(e){
    alert('Error: ' + e.code + ' - ' + e.message);
}
function start(e){
    alert('function start was called');
    db = e.target.result;
    chkAdmin();
    showUsers();// Show all values in the object store
}
function createdb(e){
    var datababase = e.target.result;
    var myusers = datababase.createObjectStore('users', {keyPath: 'userName'});
}
function addObject(){
    if(confirm('Are you sure you want to resgister?')){
        var fName = document.getElementById('fName').value;
        var lName = document.getElementById('lName').value;
        var userName = document.getElementById('uName').value;
        var pass = document.getElementById('password').value;
        var email = document.getElementById('email').value;
        var dob = document.getElementById('dob').value;
        var phone = document.getElementById('phone').value;
        var bio = document.getElementById('bio').value;
        var terms = document.getElementById('terms').value;
        var school = document.getElementById('school').value;

        //May need to set a loop to find value of radio
        var gender;
        var radios = document.getElementsByName('gender');

        for (var i = 0, length = radios.length; i < length; i++) {
            if (radios[i].checked) {
                gender=radios[i].value;
            }
        }

        //set up transaction
        var mytransaction = db.transaction(['users'], "readwrite"); 

        //get object store
        var myusers = mytransaction.objectStore('users'); 

        //Add item
        var request = myusers.add(new getUser(userName,fName,lName,pass,email,dob,phone,bio,terms,school,gender));
    }

    // Show all results.
    mytransaction.addEventListener('complete', showUsers);  

    //Reset Form Fields
    resetForm();

}
function getUser(userName, fn, ln, pw, em, dob, tel, bio,tm, scl, gender){
    this.userName = userName;
    this.fn = fn;
    this.ln = ln;
    this.pw = pw;
    this.em = em;
    this.dob = dob;
    this.tel = tel;
    this.bio = bio;
    this.tm = tm;
    this.scl = scl;
    this.gender = gender;
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-20T08:15:28.017

如果在对象存储中找不到对象，则不会返回错误。仅当出现错误（例如传递无效密钥）时才会调用 onerror。

event.target.result --> 如果没有找到，这将是未定义的。您需要执行以下操作：

```
db.transaction("users").objectStore("users").get(user).onsuccess = function(event) {
    var x = event.target.result;
    if(!x) {
        alert('Sorry this is not a valid username');
     }
    else if(pass !== x.pw ){
        alert('Sorry, wrong password');
    } 
```

顺便说一句。我永远不会告诉用户他使用了无效的用户名或无效的密码。最好说“用户名/密码组合不正确”。否则，你会让有恶意的人更容易;)。

另一边节点。我认为将密码存储在 indexeddb 中并不安全。

# php - 在“菜单”中将活动类添加到当前页面

> ID：15516773
> 
> 赞同：0
> 
> 时间：2013-03-20T06:29:57.463
> 
> 标签：php, javascript, jquery, html

我已经创建了文件header.php，它在所有页面中调用标题部分......现在我想要如果我在一个页面上......它将对菜单中的给定按钮应用两个类......我已经尝试做这但它不能正常工作......请指导我如何做......

```
<?php
session_start();
?>

<script type="text/javascript">
var path = window.location.pathname.split('/');
path = path[path.length-1];

if (path !== undefined) {
    $("#menu")
        .find("a[href$='" + path + "']") // gets all links that match the href
        .parents('li')  // gets all list items that are ancestors of the link
        .children('a')  // walks down one level from all selected li's
        .addClass('active');
}
</script>
<script type="text/javascript">
var path = window.location.pathname.split('/');
path = path[path.length-1];

if (path !== undefined) {
    $("#menu")
        .find("a[href$='" + path + "']") // gets all links that match the href
        .parents('li')  // gets all list items that are ancestors of the link
        .children('a') 
        .children('span') // walks down one level from all selected li's
        .addClass('curant');
}
</script>

<div id="header">
  <h1><a href="home.php"><img src="images/logo.png" width="184" height="77" alt=""></a></h1>
  <div class="header_left">
    <h2>Customer Relationship <span>Management System</span></h2>
    <div class="PoweredBy">
     <h3> PoweredBy:</h3>
     <div class="PoweredBy_image"><a href="#"><img src="images/PoweredBy-logo.png" alt=""></a></div>
    </div>
  </div>
 <div class="menu" id="menu">
 <div class="menu_leftbg"></div>
  <div class="nav">
   <ul>

     <li class="home"><a href="home.php"><span><img src="images/home-page.png" alt=""></span></a></li>
     <li><a  href="all_inquiry.php"><span >All Enquiry</span></a></li>
     <li><a  href="booking.php"><span >Book Now</span></a></li>
     <li><a  href="all_booking.php"><span >All Booking</span></a></li>
     <li><a  href="#"><span >Send SMS</span></a></li>
   </ul>

   <div class="right_nav">
   <h3>Welcome! <?php if(loggedin()){?><span><?php echo $_SESSION['username']; echo $_COOKIE['username']; }?></span></h3>
 <?php if(loggedin()){ ?> <h2><a href="logout.php">Log Out</a></h2><?php } ?>
   </div>
   </div>
   <div class="menu_rightbg"></div>
 </div>
</div> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-20T06:36:07.030

试试这个：

Javascript：

```
 $(function () {
     var mnurl = window.location.href.substr(window.location.href.lastIndexOf("/") + 1);

     $("ul.menu").each(function () {
         if ($(this).attr("href") == mnurl) $(this).addClass("menu-selected");
     })
 }); 
```

CSS：

```
.menu-selected{ color: #ccc !important;} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-20T06:44:42.003

你需要在 dom 上运行你的脚本准备好了。

```
$(function(){
    var split = window.location.pathname.split('/');
    var mnurl = split[split.length-1];
    $('#menu a[href="' + mnurl + '"]').addClass("menu-selected").children('span').addClass("curant");
}) 
```

演示：[小提琴](http://jsfiddle.net/arunpjohny/Rysdd/)

# jquery - 解析父标签内的 XML 信息

> ID：15516774
> 
> 赞同：0
> 
> 时间：2013-03-20T06:30:06.143
> 
> 标签：jquery, html, xml

我得到了一个看起来像这样的 XML：

```
<state1>
<county>
<villager>John Smith</villager>
<income>3000</income>
</county>
<county>
<villager>John Smith</villager>
<income>3500</income>
</county>
<county>
<villager>Peter Smith</villager>
<income>3100</income>
</county>
<county>
<villager>Paul Smith</villager>
<income>3200</income>
</county>
</state1>

<state2>
. .
</state2> 
```

我现在使用这些代码将信息解析为 HTML 表：

```
<script>
$(document).ready(function(){
 $.ajax({
  type: "GET",
  url: "election2008.xml", 
  dataType: "xml",
  success: function(xml) {
   $(xml).find('county').each(function(){   
    var Col0 = $(this).find('villager').text();
    var Col1 = $(this).find('income').text();
    $('<tr></tr>').html('<td>'+Col0+'</td><td>'+Col1+'</td>').appendTo('#chart');
   });
  }
 });
});
</script> 
```

我只想检索 State1 中的数据并将它们输出到 HTML。我怎么做？

目前我的脚本解析所有信息并将它们放在一个大 HTML 表中，但我只想读取 state1 数据。是否可以？谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-20T06:37:01.570

如果我理解正确 - 您想创建每个状态为 1 的新 HTML 文件。

您可以使用 PHP 创建 html 文件，请看这里：[http ://www.tizag.com/phpT/filewrite.php](http://www.tizag.com/phpT/filewrite.php)

然后，当您在 AJAX 函数中解析 XML 时，将状态数据发送到 PHP 文件，以便为您编写一个包含该表的新页面。

编辑：

哦，你的意思是这样的：

```
success: function(xml) {
    var stat1 = $(xml).find('state1');  
    $(stat1).find('county').each(function(){    
        var Col0 = $(stat1).find('villager').text();
        var Col1 = $(stat1).find('income').text();
        $('<tr></tr>').html('<td>'+Col0+'</td><td>'+Col1+'</td><td>'+Col2+'</td>').appendTo('#chart');
    }); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-20T07:03:30.287

如果您唯一关心的是捕获 state1，那么我们可以像这样检查数组的索引：

```
success: function(xml) {
    $(xml).find('county').each(function(i){ <--- **i** is the index
        if( i == 0 ){ //<--- if index is zero, which is state 1
            var Col0 = $(this).find('villager').text();
            var Col1 = $(this).find('income').text();
            $('<tr></tr>').html('<td>'+Col0+'</td><td>'+Col1+'</td><td>'+Col2+'</td>').appendTo('#chart');
        }
    });
  } 
```

或者，您可以通过简单地请求第一个

```
var state1 = $(xml).find('state1').find('county').eq(0),
    Col0 = state1.find('villager').text(),
    Col1 = state1.find('income').text(),
    Con2 = state1.find('something').text(); 
```

等等等等。

如果要根据请求的文件名获取项目，可以使用以下方法：

```
//get the url pathname
var url = window.location.pathname;

//split the pathname on the last occurence of a `/`, which should be superceded by state1.html or state2.html, etc..
var state = url.substring(url.lastIndexOf('/'));

Now let's get the county that we want....
var countyNum = state.match(/[0-9]/)[0];

//and now the corresponding county within the state...

var county = $(xml).find('state').eq(0).find('county').eq(countyNum); 
```

# iphone - 无法从 XIB iPhone 加载 Cell

> ID：15516780
> 
> 赞同：-1
> 
> 时间：2013-03-20T06:30:29.760
> 
> 标签：iphone, ios, uitableview

当我尝试通过`XIB`然后应用程序加载单元时崩溃并给我以下异常。

***由于未捕获的异常而终止应用程序`NSUnknownKeyException`，原因：`[<MyAdsViewController 0x7a38e30> setValue:forUndefinedKey:]:`该类不符合键值编码的键轮播。

任何人都可以帮助解决这个问题。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-20T06:33:49.480

试试这个 ：：

```
- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath
{
    // Configure the cell.
    static NSString *CustomCellIdentifier = @"customCell";
    customCell *cell = (customCell *)[tableView dequeueReusableCellWithIdentifier: CustomCellIdentifier];

    if (cell == nil)
    {
        NSArray *nib;
        nib = [[NSBundle mainBundle] loadNibNamed:@"customCell" owner:self options:nil];

        for (id oneObject in nib)
            if ([oneObject isKindOfClass:[customCellr class]])
               cell = (customCell *)oneObject;

        cell.title.text = @"Hello";
    }
    return cell;
} 
```

希望，它会帮助你。

谢谢。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-20T06:54:10.360

你需要去`XIB`这个类，并检查任何带有链接警告的东西，像这样![在此处输入图像描述](../Images/c5ea4f3ac00e1131dac336354a04ee30.png)。

删除这些类型的链接，然后运行您的应用程序。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-20T07:07:21.740

尝试为单元格创建对象并按照以下代码进行操作

```
(UITableViewCell *)tableView:(UITableView *)tableview_ cellForRowAtIndexPath:(NSIndexPath *)indexPath { static NSString
*simpleTableIdentifier = @"SimpleTableCell";

ISOPriceCell *cell = (ISOPriceCell *)[tableview_ dequeueReusableCellWithIdentifier:simpleTableIdentifier]; if (cell
== nil) {
    NSArray *nib = [[NSBundle mainBundle] loadNibNamed:@"ISOPriceCell" owner:self options:nil];
    cell = [nib objectAtIndex:0];
    cell.priceTextFiled.keyboardType = UIKeyboardTypeNumberPad;
    cell.priceTextFiled.delegate = self;
    cell.selectionStyle = UITableViewCellSelectionStyleNone;}} 
```

# jquery - 使用 jQuery 检查列表框项目是否存在

> ID：15516781
> 
> 赞同：2
> 
> 时间：2013-03-20T06:30:33.057
> 
> 标签：jquery, asp.net

我有 2 个列表框（项目使用 jquery 在它们之间移动）。假设 item1 已被选中。然后，如果我同时选择 item1 和 item2 和 item3，则只有 item2 和 3 应该插入到第二个列表框中。

我没有从 Listbox1 中删除项目。我只需要检查 Listbox2 中是否存在一个选定的项目。

```
//Code
$('#btnAdd').click(function () {

    var selectedOptions = $('#<%=lstAllRole.ClientID %> option:selected');
    if (selectedOptions.length == 0) {
        alert("Please select option to move");
        return false;
    }

    if (selectedOptions.length == 1) {
        if ($("#<%=lstSelectedRole.ClientID %> option[value='" + selectedOptions.val() + "']").length > 0) {
        }
        else {
            $('#<%=lstSelectedRole.ClientID %>').append($(selectedOptions).clone());
        }
    }
    else if (selectedOptions.length > 1) {     // Selecting more than one item to move--only append items which are not in 2nd listbox

       // **I need to validate here**

    }
}); 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-20T06:42:04.540

假设这是你想要的..

试试这个

```
else if (selectedOptions.length > 1) {     // Selecting more than one item to move--only append items which are not in 2nd listbox

    var tempArray= $.map(selectOptions, function(n){
          return this.value;
    });

    if($.inArray("valueTochekcInSelectedOption", tempArray) != -1) 
    {
        //value not selected in list 1
    }else{
       //value selected in list 1
    }
} 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-03-20T06:38:14.820

只需运行一个 foreach 函数，您就会找到这些项目。

//代码

```
else if (selectedOptions.length > 1) {

    $(selectedOptions).each(function () {
        if ($("#<%=lstSelectedRole.ClientID %> option[value='" + this.value + "']").length > 0) {

            // Do your stuff
        } else {
            $('#<%=lstSelectedRole.ClientID %>').append($(this).clone());
        }
    });
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-20T06:49:16.347

我认为您不需要对仅选择一个或多个选项的情况进行不同的处理。只需获取选定元素的列表并遍历它，如果它不存在，则添加到第二个列表中。类似的东西应该可以工作：

```
$('#btnAdd').click(function () {

var selectedOptions = $('#<%=lstAllRole.ClientID %> option:selected');

var optionsAlreadyInTheList = $('#<%=lstSelectedRole.ClientID %> option');

if (selectedOptions.length == 0) {
    alert("Please select option to move");
    return false;
} else {
    selectedOptions.each(function() {
        isInTheList = false;
        for(i=0; i< optionsAlreadyInTheList.length; i++) {
            if ($(this).val() == optionsAlreadyInTheList[i].val()) {
                isInTheList = true;
            }
        }
        if( ! isInTheList ) {
            $('#<%=lstSelectedRole.ClientID %>').append($(selectedOptions).clone());
        }
    });        

}
}); 
```

这段代码只是为了给出一个想法。我在没有测试的情况下编写了它，并且可能无法按原样工作。

# cassandra - 在 Cassandra 中为 partitionID 获取许多 (500K) 行的开销

> ID：15516782
> 
> 赞同：3
> 
> 时间：2013-03-20T06:30:34.397
> 
> 标签：cassandra

我想了解在 Cassandra (v1.2) 中获取大量顺序存储在磁盘中的行时所涉及的开销是什么。

使用以下架构：

*   时间戳
*   设备ID
*   设备名称
*   设备所有者
*   设备颜色

PKEY（时间戳，设备 ID）。
每条记录为 80 字节。

我正在尝试获取特定时间戳（partitionID）的所有行。

从 TimeStamp = '...' 的架构中选择 *

每个时间戳有 500K 这样的行。我发现进行分页会比尝试一次性获取所有内容提供更好的吞吐量。因此，要获取 500 K 行（40 MB），使用 1000 / 10000 的页面大小，大约需要 25-30 秒（我使用的是 Astyanax）。我有以下问题：

(A) 我查询的所有数据是否会按特定时间戳顺序存储在磁盘中（是的，我已经运行了 compact 命令）？

(B) 如果对第一个 qn 的回答是肯定的，那么为什么我不能获得等于磁盘的吞吐量（40 MB/s）？请注意，我能够在 25-30 秒内检索 40 MB 的数据，这相当于几乎 1.5 MB/s。

(C) 如果上述第一个问题的答案是肯定的，那么我可以进一步加快响应速度吗？

(D) 序列化/反序列化是吞吐量慢的罪魁祸首吗？如果是这样，可以做些什么来完全避免它吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-11-22T19:00:34.817

A）它取决于您为集群配置的分区器（在 cassandra.yaml 文件中），因为您是新手，您可能正在使用默认提供的分区器（MurMur3Partitioner），这意味着您的问题的答案是否定的，数据在 1 个或多个物理节点内被拆分为不同的节点（或虚拟节点），这意味着数据存储在磁盘的不同部分和不同的物理节点上。

B) 对 A 的回答是否定的，所以可能不会

C）对 B 的回答是否定的，您仍然应该能够对不同的查询进行计时并检测瓶颈以提高速度。运行此命令后使用 cqlsh：

cqlsh> tracking on Now 跟踪请求。

并运行您要检查的查询/查询并查看节点之间的不同交互。您可以使用它来检查在使用 ButeOrderedPartitioner 时是否以您需要的方式存储了一个 partitionID

D）它不应该是一个问题，但以防万一在 cqlsh 上运行相同的查询，并按照 C 中的说明跟踪请求的时间

希望能帮助到你！

# asp.net - 图像应该存储在数据库中还是单独存储？

> ID：15516783
> 
> 赞同：1
> 
> 时间：2013-03-20T06:30:39.970
> 
> 标签：asp.net, database-design

我有一个包含大量 MOV 和 GIF 文件的网页，所有文件都在*A0001.MOV*或*A3923.GIF 形式上*。现在，我显示的每个页面都命名为*A3429.ASPX*，并从数据库中获取数据（它只是一堆短文本）。其中一个字段是指向*/path/dir/A9891*的相对链接，并与适当的文件结尾连接。

我想知道是否有可能，如果可以，将图像和短视频移动到数据库中是否明智。以前从来没有做过，我也不是一个 DB 骑师。:)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-20T06:40:12.430

对于**SQL Server**，Microsoft Research 有一篇非常好的论文，名为[To Blob 或 Not To Blob](http://research.microsoft.com/apps/pubs/default.aspx?id=64525)。

他们经过大量的性能测试和分析后得出的结论是：

*   如果您的图片或文档的大小通常低于 256K，则将它们存储在数据库`VARBINARY`列中会更有效

*   如果您的图片或文档的大小通常超过 1 MB，则将它们存储在文件系统中会更有效（并且使用 SQL Server 2008 的`FILESTREAM`属性，它们仍处于事务控制之下并且是数据库的一部分）

*   在这两者之间，根据您的使用情况，这有点折腾

如果您决定将图片放入 SQL Server 表中，我强烈建议您使用单独的表来存储这些图片 - 不要将员工照片存储在员工表中 - 将它们保存在单独的表中。这样一来，Employee 表可以保持精简、平均和非常高效，假设您并不总是需要选择员工照片作为查询的一部分。

对于文件组，请查看[文件和文件组架构](http://msdn.microsoft.com/en-us/library/ms179316.aspx)以获得介绍。基本上，您可以从一开始就为大型数据结构创建带有单独文件组的数据库，或者稍后添加一个额外的文件组。让我们称之为`LARGE_DATA`。

现在，每当您要创建需要存储`VARCHAR(MAX)`或`VARBINARY(MAX)`列的新表时，您都可以为大数据指定此文件组：

```
 CREATE TABLE dbo.YourTable
     (....... define the fields here ......)
     ON Data                   -- the basic "Data" filegroup for the regular data
     TEXTIMAGE_ON LARGE_DATA   -- the filegroup for large chunks of data 
```

查看有关文件组的 MSDN 介绍，并尝试使用它！

# php - mongo db 不能与 xampp 或 php 一起工作（mongo insatalation 不能与 xampp 一起工作）

> ID：15516792
> 
> 赞同：0
> 
> 时间：2013-03-20T06:31:50.090
> 
> 标签：php, mongodb, xampp

我正在尝试使用 mongo db 数据库，所以我尝试安装 mongo db，我完成了安装部分。现在我必须使用 php，所以我按照 mongodb 站点和 php 手册中提到的步骤，我也将 dll 文件放在了 php /ext 文件夹并在 php.ini 文件中进行了更改，即我按照文档中的说明放置了“extension=php_mongo.dll”，并且我重新启动了 Web 服务器，但它仍然无法正常工作。我的 phpinfo 没有显示对 mongo 的支持，也没有显示“MongoClient”类未找到。我检查了 php 和驱动程序的版本，一切都是正确的，但我仍然无法使用 mongo。

任何帮助将不胜感激。谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2015-09-16T03:06:36.230

将正确的 .dll 文件放入*..php/ext*文件夹后，为了使此扩展程序正常工作，Windows 系统 PATH 必须有 DLL 文件。您可以通过将 PHP 目录添加到 Windows 上的 PATH 来尝试。

请按照以下步骤检查它是否有效：

*   在 xampp 控制面板中停止 apache 服务器。
*   转到控制面板并打开系统图标（开始 → 控制面板）
*   转到高级选项卡
*   单击“环境变量”按钮
*   查看“系统变量”窗格
*   查找路径条目（您可能需要滚动才能找到它）
*   双击路径条目
*   最后输入你的PHP目录，包括';' 之前（例如；C:\xampp\php）
*   按确定
*   在 xampp 控制面板中启动 apache 服务器。
*   现在转到安装 MongoDb 和命令提示符的目录
*   转到 Mongo 安装文件夹内的 /bin 目录并运行命令“mongod --dbpath”（例如*mongod --dbpath C:\xampp\htdocs\mongo-demo\db*）并保持运行
*   现在在同一目录中打开新的命令提示符并运行*mongo*命令启动 mongo

现在尝试在*localhost/"path to your .php file"*中运行以下 php 代码（例如 C:\xampp\htdocs\mongo-demo\demo.php）并检查它是否运行没有任何错误：

```
<?php
   // connect to mongodb
   $m = new MongoClient();
   echo "Connection to database successfully";
   // select a database
   $db = $m->mydb;
   echo "Database mydb selected";
?> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-08T21:47:23.550

由于 GitHub 不再允许存储库托管二进制文件，PHP 驱动程序的 Windows 版本现在托管在 S3 上，在[mongodb-announce](https://groups.google.com/forum/?fromgroups=#!forum/mongodb-announce)邮件列表的发布公告线程中提供了链接。最新版本（在撰写本文时）是 1.3.6，您可以在[此线程](https://groups.google.com/d/msg/mongodb-announce/ApaQAAYX85E/rCkzdVwvSnkJ)中找到它。

我肯定会建议升级您的驱动程序，因为您上面引用的版本只是一个候选版本。一旦您拥有最新的驱动程序，以下任一线程都应该有助于启动和运行 XAMPP：

*   [https://stackoverflow.com/a/3635266/162228](https://stackoverflow.com/a/3635266/162228)
*   [https://stackoverflow.com/a/13921329/162228](https://stackoverflow.com/a/13921329/162228)

# angularjs - ng-repeat 中的 Angular ng-options

> ID：15516794
> 
> 赞同：0
> 
> 时间：2013-03-20T06:32:08.773
> 
> 标签：angularjs

我无法使用 ng-options 指令将选项元素添加到选择元素。但是我可以使用 ng-repeat 指令来做到这一点。为什么？

HTML,

```
<div ng-app ng-controller="DescAttrCtrl">
   <div ng-repeat="dattr in dattrs">
        <div ng-repeat="v in dattr.values">
            {{v | json}}
        </div>
        <select name="dattr-{{$index}}" ng-options="v for v in dattr.values">
                <option value=""> --- select a value --- </option>
         <!--   <option ng-repeat="v in dattr.values">{{v}}</option> -->
        </select>
    </div>
</div> 
```

Javascript,

```
function DescAttrCtrl($scope) {
     $scope.dattrs = [
     {
          "name" : "first attribute",
          "description" : "attribute first description",
          "values" : ["value1", "value2", "value3", "value4"]
     },
     {
          "name" : "second attribute",
          "description" : "attribute second description",
          "values" : ["value1", "value2", "value3", "value4"]
     }
    ];
} 
```

小提琴，[http://jsfiddle.net/FwVbC/](http://jsfiddle.net/FwVbC/)

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-20T07:35:52.787

请修改代码如下

```
<select ng-model="selection" ng-options="values for values in dattr.values">
   </select> 
```

# scala - 您如何查看您的代码是否在使用 specs2 的测试模式下运行？

> ID：15516795
> 
> 赞同：1
> 
> 时间：2013-03-20T06:32:12.267
> 
> 标签：scala, specs2

您如何检查您的程序是否正在使用 specs2 从应用程序内部进行测试？例如在 Play 你可以检查`play.Play.isTest()`

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-20T09:20:10.157

作为一种启发式方法，根据您进行调用的位置，您可能可以填写堆栈跟踪异常并检查是否执行了 specs2 方法。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-20T15:19:07.540

使用适当的 DI 技术，例如 Cake（或者甚至在更简单的情况下构造函数参数注入），您可以控制需要以不同方式完成或在测试期间采用变体形式的事情。

# java - 如何从给定值中获取平均值

> ID：15516797
> 
> 赞同：0
> 
> 时间：2013-03-20T06:32:17.530
> 
> 标签：java, average

我如何平均？我想找到`GPA`学生总数和学生总数的平均值`GPA`。例子：

**输入**：4 4 4 4

**输出：** *学生总数*：4

*总平均绩点*：16

*平均GPA：* 4

```
import java.util.Scanner;

public class practice {
    public static void main(String[] args) {
        Scanner keyboard = new Scanner(System.in);
        int count = 0;
        double GPA = 0, total = 0, average;

        System.out.println("Enter GPA");

        while (GPA >= 0) {
            GPA = keyboard.nextDouble();
            total = total + GPA;
            count++;
        }

        average = total / count;

        System.out.println("Total students: " + count);
        System.out.println("Total GPA " + total);
        System.out.println("Average GPA " + average);
    }
} 
```

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-03-20T06:35:21.227

如果问题是你得到了错误的答案，原因是这个循环：

```
while (GPA >=0)
{
    GPA = keyboard.nextDouble();
    total = total + GPA;
    count++;
} 
```

大概您打算在用户输入负数时退出循环。它的错误在于它将在总数和计数中包含负数。您可以像这样重写循环：

```
GPA = keyboard.nextDouble();
while (GPA >=0)
{
    total = total + GPA;
    count++;
    GPA = keyboard.nextDouble();
} 
```

（其他解决方案是可能的）。稍后在您的代码中，您将需要防止第一个数字为负数。如果发生这种情况，`count`将为 0 并且您希望避免除以 0 并打印无意义的结果。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-20T06:37:48.703

您正在这一行的循环中获取输入

```
GPA = keyboard.nextDouble(); 
```

问题是，它将获得另一个输入，并且计数将增加 1。所以你的总数将是 5。你可以通过这种方式实现

```
while (GPA >=0)
{
    GPA = keyboard.nextDouble();
    if (GPA >=0)
    {
       total = total + GPA;
       count++;
    }
    else
       break;
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-20T07:02:42.883

只需在 while 循环中交换语句的顺序，您的代码就可以正常工作。在这种情况下，您的检查（是否将 i/p 添加到总数中）将在您输入后完成。因此，当您输入 -1 时，您将不会进入 while 循环和最后一个值 - 1 不会被添加。

而（GPA >=0）{

```
total = total + GPA;
GPA = keyboard.nextDouble();
count++; 
```

}

# python - 如何在numpy中制作数组矩阵？

> ID：15516801
> 
> 赞同：3
> 
> 时间：2013-03-20T06:32:42.683
> 
> 标签：python, arrays, matrix, numpy

我想制作一个 2x2 矩阵

```
T = [[A, B],
     [C, D]] 
```

其中每个元素`A,B,C,D`都是一个数组（当然大小相同）。这可能吗？

我希望能够将这些矩阵相乘，例如将两个矩阵相乘`T1`并且`T2`应该给我

```
T1*T2 = [[A1*A2, B1*B2],
         [C1*C2, D1*D2]] 
```

它仍然是相同大小的数组矩阵。有这样的乘法函数吗？

而且，如果我乘以标量数字`T`的普通标量矩阵`t = [[a,b],[c,d]]`，`a,b,c,d`则乘法应该给我

```
t*T = [[a*A, b*B],
       [c*C, d*D]] 
```

我怎样才能做到这一点？一个例子或相关材料的链接会很棒。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-20T06:40:45.280

您的第一个问题不是按您的预期工作吗？

```
In [1]: import numpy as np

In [2]: arr = np.arange(8).reshape(2, 2, 2)

In [3]: arr
Out[3]: 
array([[[0, 1],
        [2, 3]],

       [[4, 5],
        [6, 7]]])

In [4]: arr*arr
Out[4]: 
array([[[ 0,  1],
        [ 4,  9]],

       [[16, 25],
        [36, 49]]]) 
```

* * *

至于你的第二个问题，只需将其重塑为 3 维数组：

```
In [5]: arr2 = np.arange(4).reshape(2, 2)

In [6]: arr2
Out[6]: 
array([[0, 1],
       [2, 3]])

In [7]: arr2 = arr2.reshape(2, 2, 1)

In [8]: arr2
Out[8]: 
array([[[0],
        [1]],

       [[2],
        [3]]])

In [9]: arr*arr2
Out[9]: 
array([[[ 0,  0],
        [ 2,  3]],

       [[ 8, 10],
        [18, 21]]]) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-20T06:56:22.587

```
>>> from numpy import array, matrix, multiply
>>> A = array([1, 2, 3])
>>> 
>>> B = array([2, 3, 4])
>>> 
>>> C = array([4, 5, 6])
>>> 
>>> D = array([7, 8, 9])
>>> 
>>> T1 = matrix([A, B, C, D])
>>> T1
matrix([[1, 2, 3],
        [2, 3, 4],
        [4, 5, 6],
        [7, 8, 9]])
>>> T2 = T1 * 100
>>> T2
matrix([[100, 200, 300],
        [200, 300, 400],
        [400, 500, 600],
        [700, 800, 900]])
>>> 
>>> multiply(T1, T2)
matrix([[ 100,  400,  900],
        [ 400,  900, 1600],
        [1600, 2500, 3600],
        [4900, 6400, 8100]])
>>> 
```

# visual-c++ - 使用 vc++ 和 chai-3d 运行示例程序时出错

> ID：15516802
> 
> 赞同：0
> 
> 时间：2013-03-20T06:32:44.480
> 
> 标签：visual-c++, opengl

我正在尝试运行一个名为 device.cpp 的示例程序，它与 chai-3d sdk 一起提供。我已经包含了以下头文件....

```
#include <assert.h>
#include <math.h>
#include <stdio.h>
#include <stdlib.h>
#include <string.h>
#include <GL/glut.h>
#include <chai3d.h> 
```

问题出在头文件上`math/CVector3d.h`，`math/CMatrix3d.h`它包含在头文件 chai3d.h 中。以下是我在编译期间收到的错误

```
include\math/CVector3d.h(831) : error C3861: 'CHAI_DEBUG_PRINT': identifier not found
include\math/CMatrix3d.h(869) : error C3861: 'CHAI_DEBUG_PRINT': identifier not found 
```

第一次运行程序时出现 146 个错误，在包含`#include <GL/glut.h>`错误后减少到 2 个。我使用的是 sensable 的 phantom omni。赖特现在我正在使用 open-haptics sdk，但我也想尝试 chai-3d，为我提供支持。

# ruby - 在红宝石宝石中使用像 mvc 模式这样的导轨

> ID：15516807
> 
> 赞同：0
> 
> 时间：2013-03-20T06:33:06.177
> 
> 标签：ruby, design-patterns

我正在创建一个包含一些模型、控制器和视图组件的 gem。我需要为它模拟像 mvc 模式这样的导轨。我想到了两个选项，我需要从中选择一个。以下代码是对问题的更简单提取。

### 模式1

项目/模型.rb

```
module Application
  module Namespace
    class Model
      def name
        'Mr. Model'
      end
    end
  end
end 
```

项目/控制器.rb

```
module Application
  module Namespace
    class Controller
      def action
        Model.new.name
      end
    end
  end
end 
```

项目/应用程序.rb

```
require_relative 'controller'
require_relative 'model'

module Application
  class Runner
    def run
      Namespace::Controller.new.action
    end
  end
end 
```

* * *

### 模式2

项目/模型.rb

```
class Model
  def name
    'Mr. Model'
  end
end 
```

项目/控制器.rb

```
class Controller
  def action
    Model.new.name
  end
end 
```

项目/应用程序.rb

```
module Application
  module Namespace
    module_eval File.read(File.expand_path '../controller.rb', __FILE__)
    module_eval File.read(File.expand_path '../model.rb', __FILE__)
  end

  class Runner
    def run
      Namespace::Controller.new.action
    end
  end
end 
```

* * *

```
irb(main):001:0> require 'project/application' 
=> true
irb(main):002:0> Application::Runner.new.run
=> "Mr. Model" 
```

两种模式都包含命名空间下的模型和控制器，但是对于**pattern1** ，每当我添加新文件时，我都必须复制丑陋的模块化嵌套。**pattern2**创建了更简洁的模型和控制器，并在应用程序中完成了一些额外的魔法。

我想对这些方法提出一些建议，或者是否有更好的问题解决方案。诸如为什么无论如何都需要 mvc 模式之类的问题将很难回答。让我们假设需要一个 mvc 模式并尝试回答什么是最干净的模拟它的方法。

## 编辑：

进一步思考，Rails 使用子类。所以我们现在有了第三种模式。

### 模式3

项目/application_controller.rb

```
module Application
  module Namespace
    class ApplicationController
    end
  end
end 
```

项目/active_model.rb

```
module Application
  module Namespace
    class ActiveModel
    end
  end
end 
```

项目/模型.rb

```
class Model < Application::Namespace::ActiveModel
  def name
    'Mr. Model'
  end
end 
```

项目/控制器.rb

```
class Controller < Application::Namespace::ApplicationController
  def action
    Model.new.name
  end
end 
```

项目/应用程序.rb

```
module Application
  require_relative 'active_model'
  require_relative 'application_controller'
  require_relative 'controller'
  require_relative 'model'

  class Runner
    def run
      Controller.new.action
    end
  end
end 
```

仍在寻找一些更聪明的想法。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-20T07:51:39.080

FWIW，你可以重写这个

```
module Application
  module Namespace
    class Model
      def name
        'Mr. Model'
      end
    end
  end
end 
```

进入这个

```
# do this once
module Application
  module Namespace
  end
end

class Application::Namespace::Model
  def name
    'Mr. Model'
  end
end 
```

它不是消除主观的“丑陋”吗？

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2019-11-25T22:43:10.297

在这种情况下，使用 Rails 引擎可能会更好。它将为您正确命名事物。

[https://guides.rubyonrails.org/engines.html](https://guides.rubyonrails.org/engines.html)

# php - 如何在div的底部设置分页？

> ID：15516814
> 
> 赞同：0
> 
> 时间：2013-03-20T06:33:28.033
> 
> 标签：php, css

我的分页样式有问题...我想将分页设置在 div 的底部

![在此处输入图像描述](../Images/3a36a54a52d124e121a4c804dda32b45.png)

现在我的分页是这样的，我想将分页设置在 div 的底部，并且分页的位置不会固定，如果我将其更改`result_per_page`为 10 或更多，分页将自动调整其在底部的位置

这是我的分页风格

```
<style>
        .paginate {
            height:34px;
            position:relative;
            width:auto;
            display:inline-block;
        }

        .paginate a {
            padding:2px 5px 2px 5px;
            margin:2px;
            border:1px solid #999;
            text-decoration:none;
            color: #666;
        }
        .paginate a:hover, .paginate a:active {
            border: 1px solid #999;
            color:#0384DA
        }
        .paginate span.current {
            margin: 2px;
            padding: 2px 5px 2px 5px;
            border: 1px solid #0384DA;

            font-weight: bold;
            background-color: #0384DA;
            color: #FFF;
        }
        .paginate span.disabled {
            padding:2px 5px 2px 5px;
            margin:2px;
            border:1px solid #eee;
            color:#0384DA;
        }

        li{
            padding:4px;
            margin-bottom:3px;
            background-color:#FCC;
            list-style:none;}

        ul{margin:6px;
           padding:0px;}    

    </style> 
```

体内的内容

```
 <body>
    <?php
    $targetpage = "pagnate.php";
    $limit = 10;
    $query = mysql_query("SELECT * FROM tblpropertyregister");
    $total_pages = mysql_num_rows($query);
    $stages = 3;
    if (isset($_GET['page']) && $_GET['page'] != '') {
        $page = $_GET['page'];
        $start = ($page - 1) * $limit;
    } else {
        $start = 0;
    }
    // Get page data
    $query1 = "SELECT * FROM tblpropertyregister LIMIT $start, $limit";
    $result = mysql_query($query1);
    // Initial page num setup
    if ($page == 0) {
        $page = 1;
    }
    $prev = $page - 1;
    $next = $page + 1;
    $lastpage = ceil($total_pages / $limit);
    $LastPagem1 = $lastpage - 1;
    $paginate = '';
    if ($lastpage > 1) {
        $paginate .= "<div class='paginate'>";
        // Previous
        if ($page > 1) {
            $paginate.= "<a href='$targetpage?page=$prev'>previous</a>";
        } else {
            $paginate.= "<span class='disabled'>previous</span>";
        }
        // Pages    
        if ($lastpage < 7 + ($stages * 2)) { // Not enough pages to breaking it up
            for ($counter = 1; $counter <= $lastpage; $counter++) {
                if ($counter == $page) {
                    $paginate.= "<span class='current'>$counter</span>";
                } else {
                    $paginate.= "<a href='$targetpage?page=$counter'>$counter</a>";
                }
            }
        } elseif ($lastpage > 5 + ($stages * 2)) { // Enough pages to hide a few?
            // Beginning only hide later pages
            if ($page < 1 + ($stages * 2)) {
                for ($counter = 1; $counter < 4 + ($stages * 2); $counter++) {
                    if ($counter == $page) {
                        $paginate.= "<span class='current'>$counter</span>";
                    } else {
                        $paginate.= "<a href='$targetpage?page=$counter'>$counter</a>";
                    }
                }
                $paginate.= "...";
                $paginate.= "<a href='$targetpage?page=$LastPagem1'>$LastPagem1</a>";
                $paginate.= "<a href='$targetpage?page=$lastpage'>$lastpage</a>";
            }
            // Middle hide some front and some back
            elseif ($lastpage - ($stages * 2) > $page && $page > ($stages * 2)) {
                $paginate.= "<a href='$targetpage?page=1'>1</a>";
                $paginate.= "<a href='$targetpage?page=2'>2</a>";
                $paginate.= "...";
                for ($counter = $page - $stages; $counter <= $page + $stages; $counter++) {
                    if ($counter == $page) {
                        $paginate.= "<span class='current'>$counter</span>";
                    } else {
                        $paginate.= "<a href='$targetpage?page=$counter'>$counter</a>";
                    }
                }
                $paginate.= "...";
                $paginate.= "<a href='$targetpage?page=$LastPagem1'>$LastPagem1</a>";
                $paginate.= "<a href='$targetpage?page=$lastpage'>$lastpage</a>";
            }
            // End only hide early pages
            else {
                $paginate.= "<a href='$targetpage?page=1'>1</a>";
                $paginate.= "<a href='$targetpage?page=2'>2</a>";
                $paginate.= "...";
                for ($counter = $lastpage - (2 + ($stages * 2)); $counter <= $lastpage; $counter++) {
                    if ($counter == $page) {
                        $paginate.= "<span class='current'>$counter</span>";
                    } else {
                        $paginate.= "<a href='$targetpage?page=$counter'>$counter</a>";
                    }
                }
            }
        }

        // Next
        if ($page < $counter - 1) {
            $paginate.= "<a href='$targetpage?page=$next'>next</a>";
        } else {
            $paginate.= "<span class='disabled'>next</span>";
        }

        $paginate.= "</div>";
    }
    echo $total_pages . ' Results';
    // pagination
    echo $paginate;
    ?>

    <ul>

        <?php
        while ($row = mysql_fetch_array($result)) {

            echo '<li>' . $row['PropertyTitle'] . "- -" . $row['PropertyCode'] . '</li>';
        }
        ?>
    </ul>
</body> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-20T06:49:49.983

回显表格后，您可以回显您的分页代码吗？

去掉'echo $paginate;'，并在</ul>之后用php标签包裹起来

```
<?php echo $paginate; ?> 
```

# linux - 子文件夹的最大允许深度是多少？

> ID：15516816
> 
> 赞同：9
> 
> 时间：2013-03-20T06:33:36.560
> 
> 标签：linux, windows, macos, directory, subdirectory

起初我想问“Windows操作系统允许的最大子文件夹是多少”

但后来我想也许我的网络托管服务提供商不在 Windows 上，而是在 linux 或其他东西上。所以我问的是，Web 托管服务提供商通常会使用的所有主要操作系统允许的最大子文件夹是多少。（说 Linux、Mac 或 Windows 是否安全？）

再说一次，根据您的经验，虚拟主机站点是否会限制我们可以创建的子文件夹数量？

（为什么？因为我希望每个用户都有自己的文件夹，以便轻松访问他们的图像。这样可以吗？还是不好的做法？还是编程新手。）

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-03-20T06:35:54.323

限制不是嵌套子目录的深度（你可以有几十个，甚至更多），而是文件系统及其配额。

拥有非常长的文件路径也很不方便（并且可能效率稍低）。以编程方式，数百甚至数千个字符的文件路径是可能的；但是人脑无法记住这么长的文件路径。

[大多数文件系统（在 Linux 上）对其inode](http://en.wikipedia.org/wiki/Inode)数量都有固定限制。

一些文件系统对包含一万个条目的目录表现不佳（例如，因为搜索是线性的而不是二分法的）。而且你很难处理它们（例如，甚至`ls *`给出太长的输出）。因此，明智的做法是`/somepath/a/0001`......`/somepath/z/9999`而不是`/somepath/a0001`......`/somepath/z9999`

如果您有成千上万的用户，每个用户都有他的目录，您可能希望例如按用户的首字母对用户进行分组，例如 have`/some/path/A/userAaron/images/foobar`等`/some/path/B/userBasile/images/barfoo`。所以`/some/path/A/`只有数百个子目录等......

一个方便**的经验法则**可能是：避免*在每个目录**中包含超过数百个条目*（子目录或文件） 。

 *一些 Web 应用程序将小数据块存储在 SQL 数据库的各个行中，并将文件（可能会生成其名称）用于较大的数据块，将文件路径存储在数据库中。拥有数百万个只有几十个字节的文件可能效率不高。

一些系统管理员也在文件系统上使用[配额](http://en.wikipedia.org/wiki/Disk_quota)。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2013-03-20T06:55:43.510

在 Windows 中，任何路径中都有 260 个字符的限制。这包括文件名，因此文件的字符不能多于`260-directory path length`.

这意味着您可以拥有相当多的子目录，但是随着您的深入，最大文件名会变短。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2016-02-20T03:41:34.617

其他非常重要的是性能。对于 Windows，如果您开始获取超过 5k 的文件，它开始变慢，10k 它正在爬行，而 50k 变得完全无法使用！*

# google-chrome-app - Chrome 打包应用程序：chrome.fileSystem.chooseEntry 多选

> ID：15516817
> 
> 赞同：1
> 
> 时间：2013-03-20T06:33:37.100
> 
> 标签：google-chrome-app

我正在开发一个带有沙盒部分的 Chrome 打包应用程序。

在沙箱中单击按钮时，`postMessage`会向主应用程序传递一条消息，其中包含用于打开文件对话框输入的命令`(chrome.fileSystem.chooseEntry [type="openFile"]`。

一切都很好，但我找不到在文件对话框中启用多项选择的任何解决方案。

目前我一次只能选择一个文件。

希望有一些我错过的属性......

**编辑：**

解决方案 - 接受Multiple: true

```
chrome.fileSystem.chooseEntry({type: 'openFile', acceptsMultiple: true, accepts: accepts}, function(entry) { ... }); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2015-08-13T13:11:50.763

从 Chrome 30 开始，这是可能的。下面是一个关于如何使用它的例子：

```
chrome.fileSystem.chooseEntry({type: 'openFile', accepts: extensionFilter , acceptsMultiple: true }, function(theEntry, fileEntries) {

var fileCount = theEntry.length;
console.log("fileCount = " + fileCount );

// use local storage to retain access to this file
chrome.storage.local.set({'chosenFile': chrome.fileSystem.retainEntry(theEntry[0])});

for (var i = 0; i < fileCount; i++) {
    chrome.fileSystem.getDisplayPath(theEntry[i], function(path) {
         console.log( path );
    });
}

}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-20T19:45:43.150

chrome.fileSystem.chooseEntry 方法仅适用于单个文件。回调返回单个 fileEntry。您可能想给[https://code.google.com/p/chromium/issues/detail?id=159062 加注](https://code.google.com/p/chromium/issues/detail?id=159062)星标，这建议添加多文件功能。

# delphi - 如何将 TIdHTTPServer 上的 IP 列入黑名单

> ID：15516818
> 
> 赞同：0
> 
> 时间：2013-03-20T06:33:39.347
> 
> 标签：delphi, delphi-xe2, indy, indy10, blacklist

在一个`TIdHTTPServer`组件中，我想启用一个 IP 地址黑名单来阻止。我想确保这是尽可能低的级别，以防止任何不必要的数据从列入黑名单的客户端流入。我应该如何拦截此服务器组件以在可能的最低级别上阻止 IP？这适用于 IP v4 和 v6

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-03-20T12:45:54.103

在 Indy 9 上，有一个在连接被实际接受之前拒绝连接的事件。在 Indy 10 上，它仍未实现。

如果您查看 IdCustomTCPServer.pas，`procedure TIdListenerThread.Run`其中有一条关于向用户公开事件以让他们决定是否应接受连接的评论。

我会修改源代码并在那里实现它。

如果这不适合您，那么您可以在 OnConnect 事件中断开它们。

# android - 如何使用循环播放媒体文件有一些延迟？

> ID：15516819
> 
> 赞同：0
> 
> 时间：2013-03-20T06:33:43.457
> 
> 标签：android, multithreading, media-player

我正在尝试使用循环播放原始媒体文件。我写了一个同步的方法来播放媒体文件。这适用于模拟器，但不适用于真实设备。

我为需要播放声音的问题创建了一个简单的 bean。

```
public class Question {
private String mQuestionString;
private int mSoundFile;
private int mAnswer;
private int mQuestionNo;

public Question() {

    mQuestionNo = 0;
    mQuestionString = "";
    mSoundFile = 0;
    mAnswer = 0;
}

public Question(int mQuestionNo, String mQuestionString, int mSoundFile,
        int mAnswer) {
    super();
    this.mQuestionNo = mQuestionNo;
    this.mQuestionString = mQuestionString;
    this.mSoundFile = mSoundFile;
    this.mAnswer = mAnswer;
}

public String getQuestionString() {
    return mQuestionString;
}

public void setQuestionString(String mQuestionString) {
    this.mQuestionString = mQuestionString;
}

public int getSoundFile() {
    return mSoundFile;
}

public void setSoundFile(int mSoundFile) {
    this.mSoundFile = mSoundFile;
}

public int getAnswer() {
    return mAnswer;
}

public void setAnswer(int mAnswer) {
    this.mAnswer = mAnswer;
}

public int getQuestionNo() {
    return mQuestionNo;
}

public void setQuestionNo(int mQuestionNo) {
    this.mQuestionNo = mQuestionNo;
}

@Override
public String toString() {
    return "Question " + mQuestionNo + ". " + mQuestionString;
}

} 
```

这是我在活动中的代码

```
public class LQActivity extends Activity{

    private Vector<Question> mQuestions = null;
private TextView tvQuestion = null;
private Button btnSubmit = null;
private Button btnNext = null;
    ...

  private void prepareQuestions() {
    // TODO Auto-generated method stub
    mQuestions = new Vector<Question>();
    mQuestions.add(new Question(1, "Count the number of the Tabala played",
            R.raw.q1, 5));
    mQuestions.add(new Question(2,
            "Count the number of the persons visited temple", R.raw.q2, 3));
    mQuestions
            .add(new Question(3, "Count the number of frogs", R.raw.q3, 6));
    mQuestions.add(new Question(4,
            "Count the number of the cuckoo on the tree", R.raw.q4, 8));
    mQuestions.add(new Question(5, "Count the number of the flute played",
            R.raw.q5, 7));

}

private synchronized void playQuestion(Question question) {

    mMediaPlayer = MediaPlayer.create(this, question.getSoundFile());

    mMediaPlayer.start();
    try {
        Thread.sleep(3000);
    } catch (InterruptedException e) {
        // TODO Auto-generated catch block
        e.printStackTrace();
        if (mMediaPlayer != null) {
            mMediaPlayer.release();
        }
    }
            mMediaPlayer.release();
        }

} 
```

问题`mMediaPlyer.create()`是返回 null

我没有得到确切的问题。感谢您的帮助。提前致谢...

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-20T06:45:09.217

```
mMediaPlyer.create() is returning null 
```

原因是由于 mp3 文件损坏或使用了不支持的文件，请检查链接 android 支持的[媒体格式](http://developer.android.com/guide/appendix/media-formats.html)

# iphone - 如何在目标 C 中创建 json 字符串？

> ID：15516823
> 
> 赞同：5
> 
> 时间：2013-03-20T06:33:56.367
> 
> 标签：iphone, ios, objective-c, json, ipad

我必须动态生成一个 json 字符串并需要发送到服务器。有没有人知道如何使用`NSJSONSerialization`. 下面是我的字符串

```
{
    "surveyid": "Survey1",
    "responsetime": "dd/mm/yyyy hh:mm:ss",
    "location": null,
    "surveyresponses": [
        {
            "questionid": "111",
            "responses": [
                {
                    "response": "Good",
                    "optionid": 1,
                    "language": "en"
                }
            ]
        },
        {
            "questionid": "112",
            "responses": [
                {
                    "response": "bad",
                    "optionid": 2,
                    "language": "en"
                }
            ]
        }

    ]
} 
```

如何创建 string.json？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-20T06:48:54.773

使用 JSON 对象为 Data 设置字典，如下所示：

```
NSError *err;
NSData *jsonData = [NSJSONSerialization dataWithJSONObject:yourDataDictionary options:NSJSONWritingPrettyPrinted error:&err];

NSLog(@"JSON = %@", [[NSString alloc] initWithData:jsonData encoding:NSUTF8StringEncoding]); 
```

另请参阅此链接[正在发送字符串作为 json 对象](https://stackoverflow.com/questions/10244074/sending-string-as-json-object)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-03-20T07:35:18.660

我完全同意@Apurv，实际上@Paras Joshi 给出了你问题的实际答案......（如何发送）

```
NSMutableDictionary *dict = [[NSMutableDictionary alloc]init];
[dict setValue:@"Survey1" forKey:@"surveyid"];
[dict setValue:@"responsetime" forKey:@"dd/mm/yyyy hh:mm:ss"];
.
.
. 
```

然后一个数组`forKey @"surveyresponses"`......在其中再次创建一个字典......bla..bla

请先明确您到底想要什么……如何发送 JSON 字符串/如何生成 JSON 值。

学会接受答案，完美地分析答案，把你的问题说清楚。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-20T06:42:28.417

如果你已经有 JSON 字符串，你可以直接使用它。

如果您有一个对象（数组和字典）并且要将其转换为 json 字符串，请使用以下方法`NSJSONSerialization`。

```
NSMutableDictionary *dict = [[NSMutableDictionary alloc]init];
[dict setValue:@"Survey1" forKey:@"surveyid"];
//Add rest of the details in the dictionary

//Pass the dict in below method
    + (NSData *)dataWithJSONObject:(id)dict options:(NSJSONWritingOptions)opt error:(NSError **)error 
```

现在，使用上述数据创建一个字符串对象。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-03-20T06:58:56.113

生成 Json 字符串的示例代码：

```
 NSString *strdata =[NSString stringWithFormat:@"&data={\"user_id\":\"%@\",\"auth_token\":\"%@\",\"coupon_id\":\"%@\",\"rest_name\":\"%@\",\"name\":\"%@\",\"description\":\"%@\",\"condition\":\"%@\",\"coupon_code\":\"%@\",\"parent_menu_item\":\"%@\",\"discount_item\":\"%@\",\"discount_pecent\":\"%@\",\"start_date\":\"%@\",\"end_date\":\"%@\",\"status\":\"%@\"}",userid,auth_token,couponid,restuserid,txtCoupannm.text,txtvwCoupandesc.text,txtvwcoupancond.text,couponcode,appDelegate.tempparentmenuId,appDelegate.tempdiscountitemId,txtPercent.text,startdate.text,enddate.text,@"1"]; 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2013-03-20T07:27:42.503

试试这个：如果有一个以上的项目，然后将 (str = ) 放入循环中

```
 NSString *str = [NSString stringWithFormat:@"json_data={\"data\":["];

    str = [str stringByAppendingString:[NSString stringWithFormat:@"{\"type\":\"%@\",\"surveyid\":\"%@\",\"veriety\":\"%@\",\"responsetime\":\"%@\",\"rate\":\"%@\",\"seeddepth\":\"%@\",\"groundspeed\":\"%@\",\"note\":\"%@\",\"AnhRate\":\"%@\",\"AnhVarRate\":\"%@\",\"WetRate\":\"%@\",\"WetVarRate\":\"%@\",\"WetType\":\"%@\",\"DryRate\":\"%@\",\"DryVarRate\":\"%@\",\"DryType\":\"%@\",\"MicroRate\":\"%@\",\"MicroVarRate\":\"%@\",\"MicroType\":\"%@\",\"NoteApp\":\"%@\",\"userid\":\"%@\",\"flid\":\"%d\",\"catid\":\"%d\",\"subcatId\":\"%d\",\"categoryname\":\"%@\",\"subcategoryname\":\"%@\",\"activitydate\":\"%@\",\"DateCreated\":\"%@\",\"DateUpdated\":\"%@\"},",Your variable

    if ([str length] > 0) {
            str =[str substringToIndex:[str length] - 1];
    }

str = [str stringByAppendingString:@"]}"]; 
```

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2015-09-21T13:40:25.910

我必须构建类似的东西并将我所做的应用于您的字符串 - 这可能不是实现结果的最佳方式，但它对我有用。对于内部调查响应数组（在我的情况下，它是一个不同的数组），我只是将几个链接在一起。

```
NSString *ts=@"2015-04-03T13:00:00";
    NSString *outer = [NSString stringWithFormat: @"{\"surveyId\":\"Survey1\", \"responsetime\":\"%@\", \"location\":\"%@\", \"surveyresponses\":[{\"", ts, @"null"];

    NSString * surveyresponse = [NSString stringWithFormat: @"questionid\":\"111\", \"responses\":[{\"response\":\"good\", \"optionid\":\%d\, \"language\":\"en\"}]", 1];

    NSString *ending = @"}]}";

    NSString *jsonStr = [NSString stringWithFormat:@"%@%@%@", outer, surveyresponse, ending];

    NSData * postdata = [jsonStr dataUsingEncoding:NSUTF8StringEncoding];

    NSError * error = nil;
    id json = [NSJSONSerialization JSONObjectWithData:postdata options:0 error:&error];

    if (!json) {
        // handle error
        NSLog(@"json string error - %@", error.description);
    }
    NSLog(@"%@",[[NSString alloc] initWithData:postdata encoding:NSUTF8StringEncoding]); 
```

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2013-03-20T06:40:34.860

假设您已经在 中拥有 JSON `NSString`，您可以通过调用将其保存到文件中：

```
[jsonString writeToFile:@"/path/to/JSON.json" atomically:YES encoding:NSASCIIStringEncoding error:nil] 
```

这个函数的文档在[这里](https://developer.apple.com/library/mac/#documentation/Cocoa/Reference/Foundation/Classes/NSString_Class/Reference/NSString.html)。

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2013-03-20T09:57:22.113

```
NSDictionary* jsonResp = [NSJSONSerialization JSONObjectWithData:respData options:kNilOptions error:&error]; 
```

# cocoa - 如何用不同的 Xib 替换我的 CustomView

> ID：15516826
> 
> 赞同：0
> 
> 时间：2013-03-20T06:33:59.343
> 
> 标签：cocoa, xcode4.5, xib, nsview, custom-view

我在 .xib 文件中的窗口上放置了一个 customView。在那个 CustomView 中，我必须从不同的 xib 文件加载不同的视图（xib 由 CustomViews 组成）。

我可以第一次显示这些 xib 中的任何一个，但是当我想显示除此之外的任何其他内容时，我的第二次选择它与以前的视图重叠。

我目前正在使用 [view addSubview:myNewView];

实际上我必须使用 [mySubview replaceSubview:-------- with:myNewView]; 在这些中，我没有得到在“replaceSubView”中作为参数给出的内容。

简单地说，我想知道我认为 xib 当前正在加载什么。任何人都可以帮助解决这些问题。

提前谢谢你......

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-20T07:33:53.730

可能会帮助您了解您在那里实际在做什么：

**[View Programming Guide for Cocoa 简介](https://developer.apple.com/library/mac/#documentation/Cocoa/Conceptual/CocoaViewsGuide/Introduction/Introduction.html)**

# git - 当 master 和 branch 都更新时如何避免合并冲突？

> ID：15516828
> 
> 赞同：1
> 
> 时间：2013-03-20T06:34:14.870
> 
> 标签：git, merge, git-merge

## 分支机构：

假设 $`git branch`返回：

```
-master

-branch1

-upstream/master

-upstream/branch2 
```

## 节点图：

![在此处输入图像描述](../Images/68e751804a4963282fa76460c3c2e466.png)

## 情况：

1.  `upstream/branch2(newest)`批准的更改`local/branch1(newest)`。

2.  `upstream/branch2(newest)`想要合并. *_*`local/branch1 (newest)`

3.  两个分支都修改了一些文件，`upstream/branch2(newest)`并且`local/branch1(neweset)`.

4.  有些文件*没有*被任何分支修改，`upstream/branch2(newest)`也没有`local/branch1(neweset)`.

5.  有文件被`local/branch1(neweset)`.

6.  有些文件仅由`upstream/branch2(newest)`

## 问题：

1.  如何在`local/branch1(newest)` 没有`upstream/branch2(newest)`合并冲突的情况下合并？

2.  如果必须存在合并冲突，那么最小化硬编码（使用 $ `diff`all 文件手动复制和粘贴）的最佳实践是什么？

你能帮我用实际的命令吗？

* * *

假设所有命令都经过`sudo`许可执行：

**#1**：从上游获取数据：

```
git fetch --all 
```

**#2**：切换到主分支：

```
git checkout master 
```

**#3** : 创建一个分支2

```
git branch branch2 
```

**#4**：结帐分支2

```
git checkout branch2 
```

**#5** : 从上游拉取数据

```
git pull upstream branch2 
```

**#6**：合并分支1

```
git merge branch1 
```

以上是我能想到的，但我认为在第6步会有合并冲突......有没有更好的方法来解决这个问题？

# android - 如何更改 GridVIew 的图像

> ID：15516830
> 
> 赞同：0
> 
> 时间：2013-03-20T06:34:31.673
> 
> 标签：android, image, gridview

我有一个包含一些图像的 GridView。我想通过单击来更改图像。我正在提供从对话框中选择图像的选项。但问题是gridview 没有更新最新的图像。我发现了类似的问题[How can I change Image on Gridview Runtime?](https://stackoverflow.com/questions/6201884/how-can-i-change-image-on-gridview-runtime) . 但即使是解决方案也不适用于我的情况。我的代码如下。

```
private GridView gridView1,gridView2,gridView3;
private View sepView1,sepView2;
private static WallpaperInfo wall = new WallpaperInfo();

public Integer[] butterflyIds = {
        R.drawable.create_cardz, 
        R.drawable.done_icon,
        R.drawable.email, 
        R.drawable.facebook,
        R.drawable.error_icon, 
        R.drawable.mms_lock,
        R.drawable.ic_launcher,
        R.drawable.icon_plus,
        R.drawable.like, 

};

/** Called when the activity is first created. */
@Override
public void onCreate(Bundle savedInstanceState) 
{
    super.onCreate(savedInstanceState);
    Log.i("BillingService", "Starting");
    setContentView(R.layout.wallpapersetting);

    gridView1 = (GridView) findViewById(R.id.gridview1);
    gridView2 = (GridView) findViewById(R.id.gridview2);
    gridView3 = (GridView) findViewById(R.id.gridview3);

    sepView1 = (View)findViewById(R.id.seperator1);
    sepView2 = (View)findViewById(R.id.seperator2);

    gridView1.setAdapter(new ImageAdapter(this, butterflyIds));
    final ImageAdapter im = new ImageAdapter(this,butterflyIds);
    //gridView2.setAdapter(new ImageAdapter(this, butterflyIds));
    //gridView3.setAdapter(new ImageAdapter(this,background));

    gridView1.setOnItemClickListener(new OnItemClickListener() 
    {

        @Override
        public void onItemClick(AdapterView<?> parentView, View vi, int position,long id) 
        {
            createDialog(parentView,vi,position,butterflyIds,im,gridView1);

        }

    });

}

 private  void createDialog(final AdapterView<?>  parentView,View v,int pos,Integer[]     ID, final ImageAdapter im, final GridView gv)
{
    final int parentPos= pos;
    final Dialog dialog = new Dialog(this);
    dialog.requestWindowFeature(Window.FEATURE_NO_TITLE);
    dialog.setContentView(R.layout.dialog_layout);
    GridView dialogGridView =  (GridView) dialog.findViewById(R.id.dialog_grid);
    dialogGridView.setAdapter(new DialogImageAdapter(this,ID));
    dialogGridView.setOnItemClickListener(new OnItemClickListener() 
    {

        @Override
        public void onItemClick(AdapterView<?> dialogParentView, View vi, int position,long id) 
        {
            //parentView.addView(vi, position);
            setImage(dialogParentView.getId(),parentPos,im);
            dialog.dismiss();
            im.notifyDataSetChanged();
            gv.setAdapter(im);
            gv.invalidateViews();

        }

    });
    WindowManager.LayoutParams lp = new WindowManager.LayoutParams();
    lp.copyFrom(getWindow().getAttributes());
    lp.width = WindowManager.LayoutParams.FILL_PARENT;
    getWindow().setAttributes(lp);
    dialog.show();  
}

protected void setImage(int viewId,int parentPos, ImageAdapter im) 
{
    im.setFlowerIds(parentPos, viewId);
} 
```

我的 imageAdapter 类是这个

```
 package com.tdsoc.lw.utils;

 import android.content.Context;
 import android.view.View;
 import android.view.ViewGroup;
 import android.widget.BaseAdapter;
 import android.widget.GridView;
 import android.widget.ImageView;

 public class ImageAdapter extends BaseAdapter {
private Context mContext;
private Integer[] mThumbIds;
private ImageView imageView;
// Keep all Images in array

// Constructor
public ImageAdapter(Context c)
{
    mContext = c;
}

public ImageAdapter(Context c, Integer[] mTid)
{
    mContext = c;
    mThumbIds = mTid;
}
@Override
public int getCount() 
{
    return mThumbIds.length;
}

@Override
public Object getItem(int position)
{
    return position;
}

@Override
public long getItemId(int position) 
{
    return mThumbIds[position];
}

@Override
public View getView(int position, View convertView, ViewGroup parent)
{
     if( convertView == null)
     {
        imageView = new ImageView(mContext);
        imageView.setScaleType(ImageView.ScaleType.CENTER_CROP);
        imageView.setLayoutParams(new GridView.LayoutParams(70, 70));
     }
     else
     {
         imageView = (ImageView)convertView;
     }
     imageView.setImageResource(mThumbIds[position]);
     //notifyDataSetChanged();
     return imageView;
}
public Integer[] getFlowerIds()
{
    return mThumbIds;
}
public  void setFlowerIds(int pos,int ID )
{
    mThumbIds[pos]= ID;
}

 } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-20T06:41:24.007

在您的适配器方法`setFlowerIds`中添加方法，`notifyDataSetChanged();`这可能会解决您的问题。

```
public  void setFlowerIds(int pos,int ID )
{
    mThumbIds[pos]= ID;
    notifyDataSetChanged(); // add this method
} 
```

**编辑**：这就是我刷新我的方式`BaseAdapter`，看看这是否适合你。也看看[这个](https://stackoverflow.com/questions/15491876/how-to-use-adapter-notifydatasetchanged-where-i-have-to-use-these-line-for-my/15492143?noredirect=1#comment21940270_15492143)问题

```
public synchronized void refresAdapter(List<Item> newItems) {
    _items.clear(); //my adapter list
    _items.addAll(newItems);
    notifyDataSetChanged();
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-20T06:38:20.043

为什么`GridView`每次有人点击一个项目时你都会创建一个新的..？

无论哪种方式，您都希望确保调用`notifyDataSetInvalidated()`适配器以强制它重绘所有视图。

# codeigniter - 部署 Codeigniter 时出现 500 内部服务器错误

> ID：15516834
> 
> 赞同：0
> 
> 时间：2013-03-20T06:34:57.983
> 
> 标签：codeigniter, web-deployment

我正在尝试部署我的网站，但我不断收到 500 内部服务器错误。我可以很好地打开主页，但是当我想打开另一个菜单选项卡时，它一直显示 500 Internal Server Error。我也检查了日志，但似乎没有找到任何线索。这是我的服务器错误日志显示的内容：

```
<?php  if ( ! defined('BASEPATH')) exit('No direct script access allowed'); ?>

DEBUG - 2013-03-20 11:36:44 --> Config Class Initialized 
DEBUG - 2013-03-20 11:36:44 --> Hooks Class Initialized 
DEBUG - 2013-03-20 11:36:44 --> Utf8 Class Initialized 
DEBUG - 2013-03-20 11:36:44 --> UTF-8 Support Enabled 
DEBUG - 2013-03-20 11:36:44 --> URI Class Initialized 
DEBUG - 2013-03-20 11:36:44 --> Router Class Initialized 
DEBUG - 2013-03-20 11:36:44 --> No URI present. Default controller set. 
DEBUG - 2013-03-20 11:36:44 --> Output Class Initialized 
DEBUG - 2013-03-20 11:36:44 --> Security Class Initialized 
DEBUG - 2013-03-20 11:36:44 --> Input Class Initialized 
DEBUG - 2013-03-20 11:36:44 --> Global POST and COOKIE data sanitized 
DEBUG - 2013-03-20 11:36:44 --> Language Class Initialized 
DEBUG - 2013-03-20 11:36:44 --> Loader Class Initialized 
DEBUG - 2013-03-20 11:36:44 --> Config file loaded: application/config/asset.php 
DEBUG - 2013-03-20 11:36:44 --> Helper loaded: asset_helper 
DEBUG - 2013-03-20 11:36:44 --> Helper loaded: string_helper 
DEBUG - 2013-03-20 11:36:44 --> Helper loaded: url_helper 
DEBUG - 2013-03-20 11:36:44 --> Helper loaded: form_helper 
DEBUG - 2013-03-20 11:36:44 --> Helper loaded: text_helper 
DEBUG - 2013-03-20 11:36:44 --> Database Driver Class Initialized 
DEBUG - 2013-03-20 11:36:44 --> Native_session Class Initialized 
DEBUG - 2013-03-20 11:36:44 --> Form Validation Class Initialized 
DEBUG - 2013-03-20 11:36:44 --> Controller Class Initialized 
DEBUG - 2013-03-20 11:36:44 --> Model Class Initialized 
DEBUG - 2013-03-20 11:36:44 --> Model Class Initialized 
DEBUG - 2013-03-20 11:36:44 --> File loaded: application/views/view_home.php 
DEBUG - 2013-03-20 11:36:44 --> File loaded: application/views/template.php 
DEBUG - 2013-03-20 11:36:44 --> Final output sent to browser 
DEBUG - 2013-03-20 11:36:44 --> Total execution time: 0.0295 
```

这是我的 .httaccess

> RewriteBase 上的 RewriteEngine /indocreweb/
> 
> ```
> #Removes access to the system folder by users.
> #Additionally this will allow you to create a System.php controller,
> #previously this would not have been possible.
> #'system' can be replaced if you have renamed your system folder.
> RewriteCond %{REQUEST_URI} ^system.*
> RewriteRule ^(.*)$ /indocreweb/index.php?/$1 [L]
> 
> #When your application folder isn't in the system folder
> #This snippet prevents user access to the application folder
> #Submitted by: Fabdrol
> #Rename 'application' to your applications folder name.
> RewriteCond %{REQUEST_URI} ^application.*
> RewriteRule ^(.*)$ /indocreweb/index.php?/$1 [L]
> 
> #Checks to see if the user is attempting to access a valid file,
> #such as an image or css document, if this isn't true it sends the
> #request to index.php
> RewriteCond %{REQUEST_FILENAME} !-f
> RewriteCond %{REQUEST_FILENAME} !-d
> RewriteRule ^(.*)$ /indocreweb/index.php?/$1 [L] </IfModule> 
> ```
> 
> #如果我们没有安装mod_rewrite，所有的404#可以发送到index.php，一切正常。#提交者：ElliotHaughin ErrorDocument 404 /index.php

从显示的日志中，我找不到任何线索是什么问题或导致它的原因。有人对此有想法吗？:-(

谢谢你。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-20T08:24:54.220

从错误来看，它看起来主要是因为 .htaccess 通常每个服务器都有 mod_rewrite 所以我不认为模块的存在是一个问题。

我认为您需要使用第一行：RewriteEngine On RewriteBase /indocreweb/ 尝试删除斜杠，或者检查 url 是否正确，例如，如果您直接访问该站点，那么它应该是 RewriteEngine On RewriteBase / like www .indocreweb.com

但是，如果它作为子文件夹或类似 www.indocreweb.com/indocreweb 的东西被访问，那么 RewriteEngine On RewriteBase /indocreweb

希望这可以帮助。

# php - 显示带有先前值的运行总计

> ID：15516839
> 
> 赞同：3
> 
> 时间：2013-03-20T06:35:46.197
> 
> 标签：php, arrays

我有一个这样的数组

```
Array
    (
    [2013-03-12] => Array
        (
            [total_clicks] => 2266
            [total_unique_clicks] => 177
        )

    [2013-03-19] => Array
        (
            [total_clicks] => 2647
            [total_unique_clicks] => 241
        )

    [2013-03-20] => Array
        (
            [total_clicks] => 2656
            [total_unique_clicks] => 245
        )
     ) 
```

现在我使用以下代码来显示值

```
$current=strtotime($from);
$last=strtotime($to);
while($last >= $current){
    $current_date=date("Y-m-d",$last);
    echo $daily_click[$current_date]['total_unique_clicks'];
    $last=strtotime("-1 day",$last);
} 
```

这是显示值，但如果日期没有值说“2013-03-18”，我需要显示索引为 2013-03-12 且值为 177 的数组中的前一个值。它是实际上是一个运行总计，所以我需要为其他没有值的日期显示这个。也就是说，它应该显示以前的计数，直到它被更改。我怎样才能做到这一点 ？

我需要这个日期顺序，因为我需要从最新日期开始显示并减少

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-20T07:17:02.157

```
// get an array of the recorded dates in descending order
$descDateOrder = $daily_click;
ksort($descDateOrder);
$descDateOrder = array_keys(array_reverse($descDateOrder));

$current=strtotime($from);
$last=strtotime($to);

// initialize to the most recent date <= $last
$prev_key = 0;
for($i = 0; $i < count($descDateOrder); $i++) {
    if (strtotime($descDateOrder[$i]) <= $last) {
        $prev_key = $i;
        break;
    }
}

while($last >= $current) {
    $current_date=date("Y-m-d",$last);

    if ($descDateOrder[$prev_key] == $current_date) {
        // use oldest date if we go past it (could break instead, to stop)
        $prev_key = min(count($descDateOrder) - 1, $prev_key + 1);
    } else {
        $current_date = $descDateOrder[$prev_key];
    }

    echo $daily_click[$current_date]['total_unique_clicks'];

    $last=strtotime("-1 day",$last);
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-20T06:50:00.700

```
$current=strtotime($from);
$last=strtotime($to);

$array_key = array_keys($daily_click);
arsort($array_key);

while($last >= $current){
$current_date=date("Y-m-d",$last);
            if($daily_click[$current_date]['total_unique_clicks'] != '')
            {
                echo $daily_click[$current_date]['total_unique_clicks'];
            }
            else
            {
                foreach( $array_key as $value)
                {
                    if(strtotime($current_date) > strtotime($value))
                    {
                       $was_last_found = $value;
                        break;
                    }
                }
                echo $daily_click[$was_last_found]['total_unique_clicks'];
            }
            $last=strtotime("-1 day",$last);
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-20T06:56:43.433

```
krsort($daily_clicks);
foreach($daily_clicks as $date => $val) {
  if($date <= $to && $date >= $from)
      echo $val['total_unique_clicks'];
} 
```

# c++ - 在 Node.js 和 v8 中调用使用包装对象作为参数的函数

> ID：15516841
> 
> 赞同：5
> 
> 时间：2013-03-20T06:35:50.917
> 
> 标签：c++, node.js, binding, closures, v8

我想在 node.js 中执行以下操作...

var a = new A(); var b = 新 B();

//onTick 应该是一个将 B 的实例作为参数的函数

a.onTick = 函数（bInst）{ .... }

一个循环（）;

这意味着 A 有一个属性“onTick”，它是一个在循环内被调用的函数。注意 A 和 B 被定义为 C++ 包装的函数，这里是定义

```
void AClass::Init(Handle<Object> target) {
  Local<FunctionTemplate> tpl = FunctionTemplate::New(New);
  tpl->SetClassName(String::NewSymbol("A"));
  tpl->InstanceTemplate()->SetInternalFieldCount(1);
  tpl->PrototypeTemplate()->Set(String::NewSymbol("tick"),
      FunctionTemplate::New(Tick)->GetFunction());
  tpl->PrototypeTemplate()->Set(String::NewSymbol("loop"),
  FunctionTemplate::New(Loop)->GetFunction());

  constructor = Persistent<Function>::New(tpl->GetFunction());
  constructor->InstanceTemplate()->SetAccessor(String::New("onTick"), GetOnTick, SetOnTick);
  target->Set(String::NewSymbol("A"), constructor);
}

Handle<Value> AClass::New(const v8::Arguments &args) {
  HandleScope scope;
  AClass* acls = new AClass();
  WrappedAClass* wrappedA = new WrappedAClass();
  acls->wrappedAInst_ = wrappedA;
  window->Wrap(args.This());
  return args.This();
}
Handle<Value> AClass::Loop(const Arguments &args) {
  HandleScope scope;
  AClass* acls = ObjectWrap::Unwrap<AClass>(args.This());
  acls->wrappedInst_->loop();
  return scope.Close(Undefined());
} 
```

我相信这就是您设置属性的 getter 和 setter 的方式

```
Handle<Function> GetOnTick(Local<String> property, const AccessorInfo& info) {
  AClass* acls = ObjectWrap::Unwrap<AClass>(info.Holder());
  return acls->onTick_;
}

void SetOnTick(Local<String> property, Local<Function> value, const AccessorInfo& info) {
  AClass* acls = ObjectWrap::Unwrap<AClass>(info.Holder());

  acls->onTick_ = Persistent<Function>::New(value);
  //Here's where I know I'm doing it wrong
  void func(WrappedClassB* wcb) { 
    const unsigned argc = 1;
    Local<Value> argv[argc] = 
      { Local<Value>::New(BClass::Instantiate(wcb)) };
    acls->onTick_->Call(Context::GetCurrent()->Global(), argc, argv);   
  }
  acls->wrappedAInst_->setTickFunc(func);
} 
```

我想要做的是从设置 onTick 中获取函数（它接受 B 类的一个实例）并将其包装在一个实例化新 BClass 的函数中。

不管怎样，这是 BClass 的定义

```
Persistent<Function> BClass::constructor;
BClass::BClass() {
}
BClass::~BClass() {
}

void BClass::Init(Handle<Object> target) {
  Local<FunctionTemplate> tpl = FunctionTemplate::New(New);
  tpl->SetClassName(String::NewSymbol("B"));
  tpl->InstanceTemplate()->SetInternalFieldCount(1);
  constructor = Persistent<Function>::New(tpl->GetFunction());
  target->Set(String::NewSymbol("B"), constructor);
}

Handle<Value> BClass::New(const v8::Arguments &args) {
  HandleScope scope;
  BClass* bcls = new BClass();
  bcls->Wrap(args.This());
  WrappedBClass* wrappedB = new WrappedBClass();
  bcls->wrappedBInst_ = wrappedB;
  return args.This();
}
Handle<Value> BClass::Instantiate(const WrappedBClass &wbc) {
  HandleScope scope;
//I know the following is wrong but it shows what I am trying to do
  BClass* bcls = new BClass();
  bcls->wrappedBInst_ = wbc;
  return scope.Close(Local<v8::Value>::New(bcls));
} 
```

AClass 和 BClass 都使用另一个 C++ 类并将实例保存为属性（wrappedBInst，wrappedAInst） 我相信当我需要将 WrappedBClass 的实例转换为 BClass 时，我需要 Instantiate 函数。

WrappedBClass 没有做任何特别的事情，但是 WrappedAClass 继承了一个具有循环和 onTick 函数的类，而 onTick 函数是我需要调用我的 Javascript 函数的地方，所以在 WrappedAClass 我覆盖了 onTick 并添加了一个 setTickFunc 函数。

```
class WrappedAClass : public InheritedClass{
public:
  void setTickFunc(void (*func)(WrappedBClass*)){
    tickFunc = func;
  }
protected:
  void tickFunc;
  virtual void onTick(WrappedBClass* wbc){
    if(tickFunc){
      tickFunc(wbc);
    }
  }
} 
```

所以我认为我可以进入循环并使用 javascript 函数作为 onTick 函数的唯一方法是首先将 javascript 函数包装到 c++ 函数中，然后通过调用 setTickFunc() 来设置该函数。我会以正确的方式解决这个问题吗？

我是一个不错的程序员，但最近才开始使用 C++，所以请原谅我明显的错误，最大的错误很可能是这样的：

```
void SetOnTick(Local<String> property, Local<Function> value, const AccessorInfo& info) {
      AClass* acls = ObjectWrap::Unwrap<AClass>(info.Holder());

      acls->onTick_ = Persistent<Function>::New(value);
      //Here's where I know I'm doing it wrong
      void func(WrappedClassB* wcb) { 
        const unsigned argc = 1;
        Local<Value> argv[argc] = 
          { Local<Value>::New(BClass::Instantiate(wcb)) };
        acls->onTick_->Call(Context::GetCurrent()->Global(), argc, argv);   
      }
      acls->wrappedAInst_->setTickFunc(func);
    } 
```

我仍在试图弄清楚如何创建一个匿名函数来保存外部变量的值（acls）。我认为闭包在这里无效，关键是这个函数只有一个参数（WrappedClassB* wcb），因为它需要设置为 OnTick 函数。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-30T09:07:47.113

您不必在 C++ 中创建匿名函数。也许你可以这样定义你的`WrappedAClass`。

```
class WrappedAClass : public InheritedClass{
public:
  void setTickFunc(Local<Function> jsFn){
    HandleScope scope;
    jsTickFunc = Persistent<Function>::New(jsTickFunc);
  }
protected:
  Persistent<Function> jsTickFunc;
  virtual void onTick(WrappedBClass* wbc){
    HandleScope scope;
    if(jsTickFunc.IsEmpty())
        return;
    const unsigned argc = 1;
    Local<Value> argv[argc] = 
    { Local<Value>::New(BClass::Instantiate(wcb)) };
    jsTickFunc->Call(Context::GetCurrent()->Global(), argc, argv);  
  }
} 
```

注意`SetOnTick`函数，第二个参数的类型是`Local<Value>`not `Local<Function>`。C++ 与 js 不同，是静态类型语言。也许你可以定义你的`SetOnTick`Setter 舔这个：

```
void SetOnTick(Local<String> property, Local<Value> value, const AccessorInfo& info){
  AClass* acls = ObjectWrap::Unwrap<AClass>(info.Holder());
  if (value->IsFunction())
    acls->wrappedAInst_->setTickFunc(Local<Function>::Cast(value));
} 
```

# c - 无法在 C 中创建正确的链表

> ID：15516843
> 
> 赞同：0
> 
> 时间：2013-03-20T06:36:04.003
> 
> 标签：c

我想构建只有 add_to_end 和 show_list 函数的链表，但是当我想显示时我的列表崩溃了，`head`虽然`item`有效（查看代码）。

```
#include <stdio.h>
#include <stdlib.h>

typedef struct Data
{
    int x;
    int y;
    struct Data * next;   
}List;

void AddEnd(List * item, List * head);
void Show(List * head);

int main(void)
{
    int choice;
    List item;
    List * head;
    List * temp;
    head = NULL;
    while(printf("q - quit - Enter 1 add end, 2 show: "), scanf("%d", &choice))
    {
        switch(choice)
        {
            case 1:
                AddEnd(&item, head);
                break;
            case 2:
                printf("X = %d y= %d\n", item.x, item.y);               /*prints 1 2*/
                printf("x = %d y = %d\n", head->x, head->y);            /*crash of program...should print 1 2*/
                Show(head);
                break;
            default:
                printf("TRY AGAIN\n");
                break;           
        }
    }
    temp = head;
    while(temp)
    {
        free(temp);
        temp = head->next;
        head = temp->next;
    }
    return 0;
}

void AddEnd(List * item, List * head)
{
    List * node;
    node = (List *)malloc(sizeof(List));
    printf("Enter x and y: ");
    scanf("%d %d", &node->x, &node->y);
    if(head == NULL)
    {
        node->next = NULL;
        head = node;
        * item = * head;

    }
    else
    {
        item->next = node;
        node->next = NULL;
    }
}

void Show(List * head)
{
    List * node;
    node = head;
    while(node)
    {
        printf("x = %d y = %d\n", node->x, node->y);
        node = node->next;
    }
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-20T07:32:51.370

你写的代码是一团糟。我不确定你为什么需要在`item`那里使用变量。在下面找到修改后的代码并尝试执行它。在主函数中，您要声明指向列表头部的指针，将其设置为`NULL`，然后将`NULL`值`AddEnd`作为参数发送给函数。那不管用。您需要将 发送`&head`到函数作为参数，以便将更改反映回调用函数。

```
#include <stdio.h>
#include <stdlib.h>

typedef struct Data
{
    int x;
    int y;
    struct Data * next;   
}List;

void AddEnd(List * item, List ** head);
void Show(List * head);

int main(void)
{
    int choice;
    List item;
    List * head;
    List * temp;
    head = NULL;
    while(printf("q - quit - Enter 1 add end, 2 show: "), scanf("%d", &choice))
    {
        switch(choice)
        {
            case 1:
                AddEnd(&item, &head);
                break;
            case 2:
              //  printf("X = %d y= %d\n", item.x, item.y);               /*prints 1 2*/
              //  printf("x = %d y = %d\n", head->x, head->y);            /*crash of program...should print 1 2*/
                Show(head);
                break;
            default:
                printf("TRY AGAIN\n");
                break;           
        }
    }
    temp = head;
    while(temp)
    {
        free(temp);
        temp = head->next;
        head = temp->next;
    }
    return 0;
}

void AddEnd(List * item, List ** head)
{
    List * node,*first,*second;
    node = (List *)malloc(sizeof(List));
    printf("Enter x and y: ");
    scanf("%d %d", &node->x, &node->y);
    if(*head == NULL)
    {
        node->next = NULL;
        *head = node;
       // * item = **head;

    }
    else
    {
        for(first=*head;first!=NULL;first=first->next)//traverse to the end of the list
            second=first;
        node->next = NULL;
        second->next=node;
    }
}

void Show(List * head)
{
    List * node;
    node = head;
    while(node)
    {
        printf("x = %d y = %d\n", node->x, node->y);
        node = node->next;
    }
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-20T07:42:06.737

问题是这个

`AddEnd(List * item,List* head)`

当您像这样调用 AddEnd 时

`head = null;` `addEnd(&item,head);`

malloc 的地址被复制到`head`AddEnd 中的局部变量，而`head`不是`main()`. main() 中的 head 保持不变。

解决方案：

像这样更改 AddEnd `AddEnd(List * item,List ** head)`并在 AddEnd 中类似地更改代码。

称呼`AddEnd(&item,&head);`

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-20T06:43:05.143

```
void AddEnd(List * item, List * head)
{
     List * node;
     node = (List *)malloc(sizeof(List));
     printf("Enter x and y: ");
     scanf("%d %d", &node->x, &node->y);
   if(head == NULL)
   {
      head=node;
      head->next=NULL;
     // head->x=item->x;
     // head->y=item->y; you don'tneed this as you have it in node.
   } 
  else
  {
     node->next = head->next;
     head->next = node;
    // node->x=item->x;
    // node->y=item->y;
  }
} 
```

# c++ - 将用户输入字符串转换为 int

> ID：15516849
> 
> 赞同：0
> 
> 时间：2013-03-20T06:36:37.127
> 
> 标签：c++, string, int, type-conversion

我正在编写一个使用日期类的程序。

用户输入日（`int`）、月（`string`）和年（`int`）。然后用户选择要输出的日期格式`1`。`4`

但是，其中两种格式将月份（`string`）显示为 int。例如格式`1`将是`Mar 19, 2013`. 格式`2`为`3 - 19 - 2013`.

所以我的问题是如何获取用户输入的月份（`string`），将其转换为正确的`int`，然后显示？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-20T06:56:45.280

您还可以将用户输入（字符串）转换为小写/大写，然后在`if` . 即使用户输入“JaN”“jAn”或“JAN”，也可以使用代码

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-20T06:53:12.170

根据您的评论，我认为您需要这个：

```
int monthNo(const std::string &month)
{
    if (month == "Jan" || month == "jan")
        return 1;

    if (month == "Feb" || month == "feb")
        return 2;

    if (month == "Mar" || month == "mar")
        return 3;

    // ...

    return 0; // No match
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-20T06:55:26.287

试试这个方法。。

```
void displayType1(int day, string month, int year)
{
   cout << month <<" "<< day;
   if(day == 1) cout << "st, ";
   if(day == 2) cout << "nd, ";
   if(day == 3) cout << "rd, ";
   if(day > 3) cout << "th, ";
   cout << year << "\n"; 
}

void displayType2(int day, string month, int year)
{
   map<string, int> m;
   m["January"] = 1;
   m["February"] = 2;
   m["March"] = 3;
   m["April"] = 4;
   m["May"] = 5;
   m["June"] = 6;
   m["July"] = 7;
   m["August"] = 8;
   m["September"] = 9;
   m["October"] = 10;
   m["November"] = 11;
   m["December"] = 12;

   cout << m[month] << "-" << day << "-" << year << "\n";
}

.. and so on

void ConvertAndDisplayDate(string date, short type)
{
   ostringstream os(date);
   int day, year;
   string month;
   os >> day >> month >> year;

   switch(type) {
     case 1:
       displayType1(day, month, year);
       break;
    case 2:
       displayType2(day, month, year);
       break;
    case 3:
       displayType3(day, month, year);
       break;
    case 4:
       displayType4(day, month, year);
        break;
   }
} 
```

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2013-03-20T06:44:12.400

您可以使用 atoi 函数将字符串转换为 int

例如：a = "25"; b = atoi(a);

[http://www.cplusplus.com/reference/clibrary/cstdlib/atoi/](http://www.cplusplus.com/reference/clibrary/cstdlib/atoi/)

# php - MySQL随机生成带字母前缀的数字，使用变量时出错？

> ID：15516857
> 
> 赞同：1
> 
> 时间：2013-03-20T06:37:02.833
> 
> 标签：php, mysql

我一直在研究和研究这个，但找不到答案。这可能很简单。

我想使用字符串前缀使用随机生成的数字更新我的字段。示例：项目 283940。最好我想从 1000 开始，然后递增。我似乎已经对随机数进行了大部分查询，但是看起来我错过了一些东西。

为什么这会导致语法错误？

```
$query = "SET @r := 1000; UPDATE discography SET pagename = (@r := @r + 1) ORDER BY RAND()";

mysql_query($query); 
```

产量：

```
You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'UPDATE discography SET pagename = (@r := @r + 1) ORDER BY RAND()' at line 1 
```

一旦错误被解决，我想知道如何在变量的开头添加前缀“item”。提前谢谢了。

***编辑***

看起来我的服务器使用的是旧版本的 PHP，所以我不能使用 mysqli。在解决我的其他问题方面，它效率低下，但这符合我的需求：

```
$setit = "SET @r := 1000";
$changenames = "UPDATE discography SET pagename = (@r := @r + 1) ORDER BY RAND()";
$prepend = "UPDATE discography SET pagename=CONCAT('item',pagename)";
mysql_query($setit);
mysql_query($changenames);
mysql_query($prepend); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-20T06:43:01.410

使用`mysql_query`你不能运行多个查询。问题就出现在这里。

您必须使用`mysqli's` `multi_query`函数来运行多个查询。

并且作为一个方面不要停止使用`mysql_*`，因为它已被弃用。开始使用`mysqli`我提到的 OR `PDO`。

# android - Android：为手指画应用程序添加背景

> ID：15516858
> 
> 赞同：-1
> 
> 时间：2013-03-20T06:37:06.560
> 
> 标签：android

我有以下手指画代码。问题是我需要为其添加背景图片。我尝试将它添加到位图中，但如果我运行擦除功能，它将清除背景图像。

这是代码：

```
public class MainActivity extends Activity {

    private Paint   mPaint, mBitmapPaint;
    private Path    mPath;
    private Canvas  mCanvas;
    private Bitmap  mBitmap;
    public MyView   myView;
    int screenheight;
    int screenwidth;

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        requestWindowFeature(Window.FEATURE_NO_TITLE);
        getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN, WindowManager.LayoutParams.FLAG_FULLSCREEN);
        myView = new MyView( this );
        myView.setDrawingCacheEnabled(true);
        setContentView( myView );

        mPaint = new Paint();
        mPaint.setAntiAlias( true );
        mPaint.setColor( Color.BLACK );
        mPaint.setStyle( Paint.Style.STROKE );
        mPaint.setStrokeJoin( Paint.Join.ROUND );
        mPaint.setStrokeCap( Paint.Cap.ROUND );
        mPaint.setStrokeWidth(3);
    }

    public class MyView extends View {

        public MyView(Context c) {
            super(c);

            DisplayMetrics displaymetrics = new DisplayMetrics();
            requestWindowFeature(Window.FEATURE_NO_TITLE);
            getWindowManager().getDefaultDisplay().getMetrics(displaymetrics);
            screenheight = displaymetrics.heightPixels;
            screenwidth = displaymetrics.widthPixels;

            mBitmap = Bitmap.createBitmap(screenwidth, screenheight, Bitmap.Config.ARGB_8888);
            mCanvas = new Canvas( mBitmap );
            mPath = new Path();
            mBitmapPaint = new Paint( Paint.DITHER_FLAG );
            mBitmapPaint.setXfermode(new PorterDuffXfermode(PorterDuff.Mode.SRC));
        }

        @Override
        protected void onDraw(Canvas canvas) {
            canvas.drawColor(Color.TRANSPARENT);
            canvas.drawBitmap(mBitmap, 0, 0, mBitmapPaint);
            canvas.drawPath(mPath, mPaint);
        }

        private float mX, mY;
        private static final float TOUCH_TOLERANCE = 4;

        private void touch_start(float x, float y) {
            mPath.reset();
            mPath.moveTo(x, y);
            mX = x;
            mY = y;
        }
        private void touch_move(float x, float y) {
            float dx = Math.abs(x - mX);
            float dy = Math.abs(y - mY);
            if (dx >= TOUCH_TOLERANCE || dy >= TOUCH_TOLERANCE) {
                mPath.quadTo(mX, mY, (x + mX)/2, (y + mY)/2);
                mX = x;
                mY = y;
            }
        }
        private void touch_up() {
            mPath.lineTo(mX, mY);
            // commit the path to our offscreen
            mCanvas.drawPath( mPath, mPaint );
            // kill this so we don't double draw
            mPath.reset();
        }

        @Override
        public boolean onTouchEvent(MotionEvent event) {
            float x = event.getX();
            float y = event.getY();

            switch (event.getAction()) {
                case MotionEvent.ACTION_DOWN:
                    touch_start(x, y);
                    invalidate();
                    break;
                case MotionEvent.ACTION_MOVE:
                    touch_move(x, y);
                    invalidate();
                    break;
                case MotionEvent.ACTION_UP:
                    touch_up();
                    invalidate();
                    break;
            }
            return true;
        }
    }

    private static final int SAVE_MENU_ID = Menu.FIRST;
    private static final int ERASE_MENU_ID = Menu.FIRST + 1;

    @Override
    public boolean onCreateOptionsMenu(Menu menu) {
        super.onCreateOptionsMenu(menu);
        menu.add(0, SAVE_MENU_ID, 0, "Save");
        menu.add(0, ERASE_MENU_ID, 0, "Erase");
        return true;
    }

    @Override
    public boolean onPrepareOptionsMenu(Menu menu) {
        super.onPrepareOptionsMenu(menu);
        return true;
    }

    @Override
    public boolean onOptionsItemSelected(MenuItem item) {
        mPaint.setXfermode(null);
        switch (item.getItemId()) {
            case SAVE_MENU_ID:
                return true;
            case ERASE_MENU_ID:
                mBitmap.eraseColor(Color.TRANSPARENT);
                mPath.reset();
                myView.invalidate();
                }
        return super.onOptionsItemSelected(item);
    }
} 
```

请就如何在位图下方添加背景图像（要在其上绘制）提出建议，而不会被位图阻塞。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-20T06:39:45.157

只需使用 myView.setBackground(Drawable)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-20T09:49:53.443

与其设置`MyPaint`为`MainActivity`内容视图，不如将其放在附加视图中，并将`RelativeLayout`您的图像用作该布局的背景。还要使`MyView`位图透明：

```
canvas.drawBitmap(mBitmap, 0, 0, Color.TRANSPARENT); 
```

# java - 内存分析 -VisualVM 和 Virgo

> ID：15516862
> 
> 赞同：0
> 
> 时间：2013-03-20T06:37:12.900
> 
> 标签：java

处理器：

> 64 位操作系统 Ubuntu 服务器 64 位

爪哇：

```
java version "1.7.0_15"
OpenJDK Runtime Environment (IcedTea7 2.3.7) (7u15-2.3.7-0ubuntu1~12.04.1)
OpenJDK 64-Bit Server VM (build 23.7-b01, mixed mode) 
```

我正在尝试将 Virgo Web 服务器从 EclipseRT 连接到 Visual vm 以进行内存分析。

> 内存分析不可用（不可用。无法读取目标应用程序中的对象。请检查日志文件了解详细信息（使用帮助 | 关于 | 日志文件）。）

当我在日志中检查 Vsual vm 时，Visual vm 日志中的错误为：

> “com.sun.tools.attach.AttachNotSupportedException：无法打开套接字文件：目标进程未响应或未加载 HotSpot VM”

```
Both uses same JVM Open jdk
Visual VM Overview

ID: 15414
Host: localhost
Main class: org.netbeans.Main
Arguments: --userdir /root/.visualvm/1.3.2 --branding visualvm

JVM: OpenJDK 64-Bit Server VM (23.7-b01, mixed mode)
Java: version 1.7.0_15, vendor Oracle Corporation
Java Home: /usr/lib/jvm/java-7-openjdk-amd64/jre
JVM Flags: <none>

Virgo Web server Overview

PID: 1483
Host: localhost
Main class: org.eclipse.equinox.launcher.Main
Arguments: -noExit

JVM: OpenJDK 64-Bit Server VM (23.7-b01, mixed mode)
Java: version 1.7.0_15, vendor Oracle Corporation
Java Home: /usr/lib/jvm/java-7-openjdk-amd64/jre
JVM Flags: <none> 
```

当我用谷歌搜索时，发现两者都应该在同一个用户上运行。Visual vm 以“root”身份运行，Virgo 以“test”用户身份运行。

我尝试以测试用户身份启动 viusal，但出现以下错误：

```
test@ubuntuz620:/home/random$ jvisualvm --jdkhome /usr/lib/jvm/java-1.7.0-openjdk-amd64
/usr/share/netbeans/platform12/lib/nbexec: line 66: cd: /home/random: Permission denied
/usr/share/netbeans/platform12/lib/nbexec: line 66: cd: /home/random: Permission denied
No protocol specified
No protocol specified
test@ubuntuz620:/home/random$ 
```

在此先感谢普拉卡什

附有 Viusalvm 的完整日志消息

* * *

```
 Log Session: Wednesday, March 20, 2013 10:52:38 AM IST
 System Info: 
  Product Version         = VisualVM 1.3.2
  Operating System        = Linux version 3.2.0-39-generic running on amd64
  Java; VM; Vendor        = 1.7.0_15; OpenJDK 64-Bit Server VM 23.7-b01; Oracle Corporation
  Runtime                 = OpenJDK Runtime Environment 1.7.0_15-b20
  Java Home               = /usr/lib/jvm/java-7-openjdk-amd64/jre
  System Locale; Encoding = en_IN (visualvm); UTF-8
  Home Directory          = /root
  Current Directory       = /home/sentinel
  User Directory          = /root/.visualvm/1.3.2
  Installation            = /usr/lib/visualvm/visualvm
                            /usr/lib/visualvm/profiler
                            /usr/share/netbeans/platform12
  Boot & Ext. Classpath   = /usr/lib/jvm/java-7-openjdk-amd64/jre/lib/resources.jar:/usr/lib/jvm/java-7-openjdk-amd64/jre/lib/rt.jar:/usr/lib/jvm/java-7-openjdk-amd64/jre/lib/sunrsasign.jar:/usr/lib/jvm/java-7-openjdk-amd64/jre/lib/jsse.jar:/usr/lib/jvm/java-7-openjdk-amd64/jre/lib/jce.jar:/usr/lib/jvm/java-7-openjdk-amd64/jre/lib/charsets.jar:/usr/lib/jvm/java-7-openjdk-amd64/jre/lib/netx.jar:/usr/lib/jvm/java-7-openjdk-amd64/jre/lib/plugin.jar:/usr/lib/jvm/java-7-openjdk-amd64/jre/lib/rhino.jar:/usr/lib/jvm/java-7-openjdk-amd64/jre/lib/jfr.jar:/usr/lib/jvm/java-7-openjdk-amd64/jre/classes:/usr/lib/jvm/java-7-openjdk-amd64/jre/lib/ext/zipfs.jar:/usr/lib/jvm/java-7-openjdk-amd64/jre/lib/ext/localedata.jar:/usr/lib/jvm/java-7-openjdk-amd64/jre/lib/ext/sunpkcs11.jar:/usr/lib/jvm/java-7-openjdk-amd64/jre/lib/ext/pulse-java.jar:/usr/lib/jvm/java-7-openjdk-amd64/jre/lib/ext/java-atk-wrapper.jar:/usr/lib/jvm/java-7-openjdk-amd64/jre/lib/ext/sunjce_provider.jar:/usr/lib/jvm/java-7-openjdk-amd64/jre/lib/ext/dnsns.jar
  Application Classpath   = /usr/share/netbeans/platform12/lib/boot.jar:/usr/share/netbeans/platform12/lib/org-openide-modules.jar:/usr/share/netbeans/platform12/lib/org-openide-util.jar:/usr/share/netbeans/platform12/lib/org-openide-util-lookup.jar:/usr/share/netbeans/platform12/lib/locale/boot_ja.jar:/usr/share/netbeans/platform12/lib/locale/boot_pt_BR.jar:/usr/share/netbeans/platform12/lib/locale/boot_zh_CN.jar:/usr/share/netbeans/platform12/lib/locale/org-openide-modules_ja.jar:/usr/share/netbeans/platform12/lib/locale/org-openide-modules_pt_BR.jar:/usr/share/netbeans/platform12/lib/locale/org-openide-modules_zh_CN.jar:/usr/share/netbeans/platform12/lib/locale/org-openide-util_ja.jar:/usr/share/netbeans/platform12/lib/locale/org-openide-util-lookup_ja.jar:/usr/share/netbeans/platform12/lib/locale/org-openide-util-lookup_pt_BR.jar:/usr/share/netbeans/platform12/lib/locale/org-openide-util-lookup_zh_CN.jar:/usr/share/netbeans/platform12/lib/locale/org-openide-util_pt_BR.jar:/usr/share/netbeans/platform12/lib/locale/org-openide-util_zh_CN.jar:/usr/lib/jvm/java-1.7.0-openjdk-amd64/lib/dt.jar:/usr/lib/jvm/java-1.7.0-openjdk-amd64/lib/tools.jar
  Startup Classpath       = /usr/share/netbeans/platform12/core/core.jar:/usr/share/netbeans/platform12/core/org-openide-filesystems.jar:/usr/share/netbeans/platform12/core/locale/core_ja.jar:/usr/share/netbeans/platform12/core/locale/org-openide-filesystems_pt_BR.jar:/usr/share/netbeans/platform12/core/locale/core_pt_BR.jar:/usr/share/netbeans/platform12/core/locale/org-openide-filesystems_ja.jar:/usr/share/netbeans/platform12/core/locale/core_zh_CN.jar:/usr/share/netbeans/platform12/core/locale/org-openide-filesystems_zh_CN.jar:/usr/lib/visualvm/visualvm/core/com-sun-tools-visualvm-modules-startup.jar:/usr/lib/visualvm/visualvm/core/locale/core_visualvm.jar 
```

* * *

```
INFO [org.netbeans.core.startup.NbEvents]: Turning on modules:
    org.openide.util.lookup [8.3.1 100825-unknown-revn]
    org.openide.util [8.6.1 100825-unknown-revn]
    org.openide.modules [7.17.1 100825-unknown-revn]
    org.openide.awt [7.23.1 100825-unknown-revn]
    org.netbeans.api.progress/1 [1.20.1 100825-unknown-revn]
    org.openide.dialogs [7.15.1 100825-unknown-revn]
    org.openide.nodes [7.16.1 100825-unknown-revn]
    org.openide.windows [6.33.1 100825-unknown-revn]
    org.openide.io [1.23.1 100825-unknown-revn]
    org.netbeans.core.io.ui/1 [1.8.1 100825-unknown-revn]
    org.openide.filesystems [7.38.1 100825-unknown-revn]
    org.netbeans.modules.editor.mimelookup/1 [1.16.1 100825-unknown-revn]
    org.openide.text [6.30.1 100825-unknown-revn]
    org.netbeans.swing.tabcontrol [1.21.1 100825-unknown-revn]
    org.netbeans.swing.outline [1.9.1 100825-unknown-revn]
    org.openide.explorer [6.28.1 100825-unknown-revn]
    org.openide.actions [6.16.1 100825-unknown-revn]
    org.netbeans.lib.profiler/1 [1.10.2 120606-unknown-revn]
    org.netbeans.lib.profiler.common/1 [1.10.2 120606-unknown-revn]
    org.netbeans.bootstrap/1 [2.33.1 100825-unknown-revn]
    org.netbeans.core.startup/1 [1.25.1 100825-unknown-revn]
    org.netbeans.spi.quicksearch [1.6.1 100825-unknown-revn]
    org.netbeans.modules.queries/1 [1.19.1 100825-unknown-revn]
    org.openide.loaders [7.16.1 100825-unknown-revn]
    org.netbeans.libs.jna/1 [1.7.1 100825-unknown-revn]
    org.netbeans.modules.keyring [1.1.1 100825-unknown-revn]
    org.netbeans.swing.plaf [1.16.1 100825-unknown-revn]
    org.netbeans.core/2 [3.20.1 100825-unknown-revn]
    org.netbeans.modules.options.api/1 [1.18.1 100825-unknown-revn]
    org.netbeans.api.annotations.common/1 [1.5.1 100825-unknown-revn]
    org.netbeans.modules.profiler.oql/0 [0.5.1 120606-unknown-revn]
    org.openide.execution [1.18.1 100825-unknown-revn]
    org.netbeans.lib.profiler.charts/1 [1.6.1 120606-unknown-revn]
    org.netbeans.lib.profiler.ui/1 [1.9.2 120606-unknown-revn]
    org.netbeans.modules.profiler/1 [1.17.2 120606-unknown-revn]
    com.sun.tools.visualvm.modules.startup [1.0 120606]
    org.netbeans.modules.settings/1 [1.26.1 100825-unknown-revn]
    org.netbeans.core.windows/2 [2.21.1 100825-unknown-revn]
    com.sun.tools.visualvm.uisupport/0 [1.0 120606]
    org.netbeans.modules.autoupdate.services [1.20.1 100825-unknown-revn]
    org.netbeans.modules.sendopts/2 [2.9.1 100825-unknown-revn]
    com.sun.tools.visualvm.core/0 [1.4 120606]
    com.sun.tools.visualvm.host/0 [1.0 120606]
    com.sun.tools.visualvm.application/0 [1.4 120606]
    com.sun.tools.visualvm.tools/0 [1.2 120606]
    com.sun.tools.visualvm.modules.extensions/0 [1.5 110224]
    org.netbeans.core.nativeaccess/1 [1.7.1 100825-unknown-revn]
    org.ow2.chameleon.management.beans [0.9.1 0.9.1 091124]
    org.ow2.chameleon.management.visual [0.9 0.9 091120]
    com.sun.appserv.management [1.0 110224]
    com.sun.tools.visualvm.host.remote/0 [1.0 120606]
    org.netbeans.core.ui/1 [1.22.1 100825-unknown-revn]
    com.sun.tools.visualvm.jmx/0 [1.2 120606]
    org.netbeans.modules.progress.ui [1.12.1 100825-unknown-revn]
    org.netbeans.modules.editor.mimelookup.impl/1 [1.9.1 100825-unknown-revn]
    com.sun.tools.visualvm.profiling/0 [1.0 120606]
    com.sun.tools.visualvm.profiler/0 [1.1 120606]
    com.sun.tools.visualvm.jvmstat/0 [1.0 120606]
    com.sun.tools.visualvm.modules.appui [1.0 120606]
    org.netbeans.modules.print [7.5.1 100825-unknown-revn]
    org.netbeans.modules.javame.profiler [1.0 090525]
    com.sun.tools.visualvm.coredump/0 [1.0 120606]
    com.sun.tools.visualvm.heapdump/0 [1.1 120606]
    com.sun.tools.visualvm.threaddump/0 [1.0 120606]
    com.sun.tools.visualvm.sampler [2.0 120606]
    com.sun.tools.visualvm.sa/0 [1.0 120606]
    com.sun.tools.visualvm.charts/0 [1.0 120606]
    com.sun.tools.visualvm.application.views/0 [1.0 120606]
    org.netbeans.modules.autoupdate.ui [1.16.1 100825-unknown-revn]
    com.sun.tools.visualvm.host.views/0 [1.0 120606]
    com.sun.tools.visualvm.modules.visualgc [2.1.1 100921]
    com.sun.tools.visualvm.attach/0 [1.1 120606]
    com.sun.tools.visualvm.jvm/0 [1.1 120606]
    net.java.visualvm.modules.glassfish [1.4 110224]
    com.sun.tools.visualvm.modules.buffermonitor/0 [1.5 110224]
    org.netbeans.modules.masterfs/2 [2.25.1 100825-unknown-revn]
Diagnostic information
Input arguments:
    -Djdk.home=/usr/lib/jvm/java-1.7.0-openjdk-amd64
    -Djava.library.path=/usr/lib/jni
    -Dnetbeans.system_http_proxy=http://web-proxy.sgp.hp.com:8080/
    -Dnetbeans.system_http_non_proxy_hosts=
    -Dnetbeans.dirs=/usr/lib/visualvm/visualvm:/usr/lib/visualvm/profiler:
    -Dnetbeans.home=/usr/share/netbeans/platform12
    -Xms24m
    -Xmx256m
    -Dnetbeans.accept_license_class=com.sun.tools.visualvm.modules.startup.AcceptLicense
    -Dsun.jvmstat.perdata.syncWaitMs=10000
    -Dsun.java2d.noddraw=true
    -Dsun.java2d.d3d=false
Compiler: HotSpot 64-Bit Tiered Compilers
Heap memory usage: initial 24.0MB maximum 227.6MB
Non heap memory usage: initial 23.2MB maximum 214.0MB
Garbage collector: PS Scavenge (Collections=8 Total time spent=0s)
Garbage collector: PS MarkSweep (Collections=1 Total time spent=0s)
Classes: loaded=4666 total loaded=4666 unloaded 0
INFO [org.netbeans.core.ui.warmup.DiagnosticTask]: Total memory 12,528,062,464
INFO [null]: Total physical memory 12,528,062,464
WARNING [org.openide.filesystems.Ordering]: Found same position 600 for both Menu/File/com-sun-tools-visualvm-jmx-impl-AddJMXConnectionAction-alwaysEnabled.shadow and Menu/File/org-netbeans-modules-javame-profiler-ImportWtkSnapshotAction.instance
INFO [com.sun.tools.visualvm.attach.AttachModelImpl]: printFlag
com.sun.tools.attach.AttachNotSupportedException: Unable to open socket file: target process not responding or HotSpot VM not loaded
    at sun.tools.attach.LinuxVirtualMachine.<init>(LinuxVirtualMachine.java:106)
    at sun.tools.attach.LinuxAttachProvider.attachVirtualMachine(LinuxAttachProvider.java:63)
    at com.sun.tools.attach.VirtualMachine.attach(VirtualMachine.java:213)
    at com.sun.tools.visualvm.attach.AttachModelImpl.getVirtualMachine(AttachModelImpl.java:124)
Caused: java.io.IOException: Unable to open socket file: target process not responding or HotSpot VM not loaded
    at com.sun.tools.visualvm.attach.AttachModelImpl.getVirtualMachine(AttachModelImpl.java:126)
    at com.sun.tools.visualvm.attach.AttachModelImpl.printFlag(AttachModelImpl.java:89)
    at com.sun.tools.visualvm.jvm.JVMImpl.isDumpOnOOMEnabled(JVMImpl.java:212)
    at com.sun.tools.visualvm.heapdump.impl.HeapDumpOnOOMEAction.updateState(HeapDumpOnOOMEAction.java:83)
    at com.sun.tools.visualvm.heapdump.impl.HeapDumpOnOOMEAction.isEnabled(HeapDumpOnOOMEAction.java:77)
    at com.sun.tools.visualvm.heapdump.impl.HeapDumpOnOOMEAction.isEnabled(HeapDumpOnOOMEAction.java:46)
    at com.sun.tools.visualvm.core.ui.actions.SingleDataSourceAction.updateState(SingleDataSourceAction.java:77)
    at com.sun.tools.visualvm.heapdump.impl.HeapDumpOnOOMEAction.updateState(HeapDumpOnOOMEAction.java:98)
    at com.sun.tools.visualvm.core.ui.actions.DataSourceAction.initialize(DataSourceAction.java:90)
    at com.sun.tools.visualvm.core.ui.actions.DataSourceAction.doInitialize(DataSourceAction.java:122)
    at com.sun.tools.visualvm.core.ui.actions.DataSourceAction.isEnabled(DataSourceAction.java:99)
    at com.sun.tools.visualvm.core.explorer.ExplorerContextMenuFactory.getActions(ExplorerContextMenuFactory.java:171)
    at com.sun.tools.visualvm.core.explorer.ExplorerContextMenuFactory.getSelectionActions(ExplorerContextMenuFactory.java:127)
    at com.sun.tools.visualvm.core.explorer.ExplorerContextMenuFactory.getActions(ExplorerContextMenuFactory.java:121)
    at com.sun.tools.visualvm.core.explorer.ExplorerContextMenuFactory.createPopupMenu(ExplorerContextMenuFactory.java:73)
    at com.sun.tools.visualvm.core.explorer.ExplorerComponent.displayContextMenu(ExplorerComponent.java:205)
    at com.sun.tools.visualvm.core.explorer.ExplorerComponent.access$800(ExplorerComponent.java:70)
    at com.sun.tools.visualvm.core.explorer.ExplorerComponent$ExplorerTreeMouseAdapter.mousePressed(ExplorerComponent.java:248)
    at java.awt.AWTEventMulticaster.mousePressed(AWTEventMulticaster.java:280)
    at java.awt.Component.processMouseEvent(Component.java:6502)
    at javax.swing.JComponent.processMouseEvent(JComponent.java:3312)
    at com.sun.tools.visualvm.core.explorer.ExplorerComponent$1.processMouseEvent(ExplorerComponent.java:112)
    at java.awt.Component.processEvent(Component.java:6270)
    at java.awt.Container.processEvent(Container.java:2229)
    at java.awt.Component.dispatchEventImpl(Component.java:4861)
    at java.awt.Container.dispatchEventImpl(Container.java:2287)
    at java.awt.Component.dispatchEvent(Component.java:4687)
    at java.awt.LightweightDispatcher.retargetMouseEvent(Container.java:4832)
    at java.awt.LightweightDispatcher.processMouseEvent(Container.java:4489)
    at java.awt.LightweightDispatcher.dispatchEvent(Container.java:4422)
    at java.awt.Container.dispatchEventImpl(Container.java:2273)
    at java.awt.Window.dispatchEventImpl(Window.java:2719)
    at java.awt.Component.dispatchEvent(Component.java:4687)
    at java.awt.EventQueue.dispatchEventImpl(EventQueue.java:729)
    at java.awt.EventQueue.access$200(EventQueue.java:103)
    at java.awt.EventQueue$3.run(EventQueue.java:688)
    at java.awt.EventQueue$3.run(EventQueue.java:686)
    at java.security.AccessController.doPrivileged(Native Method)
    at java.security.ProtectionDomain$1.doIntersectionPrivilege(ProtectionDomain.java:76)
    at java.security.ProtectionDomain$1.doIntersectionPrivilege(ProtectionDomain.java:87)
    at java.awt.EventQueue$4.run(EventQueue.java:702)
    at java.awt.EventQueue$4.run(EventQueue.java:700)
    at java.security.AccessController.doPrivileged(Native Method)
    at java.security.ProtectionDomain$1.doIntersectionPrivilege(ProtectionDomain.java:76)
    at java.awt.EventQueue.dispatchEvent(EventQueue.java:699)
    at org.netbeans.core.TimableEventQueue.dispatchEvent(Unknown Source)
    at java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:242)
    at java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:161)
    at java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:150)
    at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:146)
    at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:138)
[catch] at java.awt.EventDispatchThread.run(EventDispatchThread.java:91)
WARNING [org.netbeans.modules.autoupdate.updateprovider.AutoupdateCatalogParser]: http://visualvm.java.net/uc/release132/updates.xml.gz?unique=0d024cfda-1513-4fe5-a510-4c3f07ec2cbe_d9068500-fc6f-48c3-bd0e-3ccef01d3714:224:18: The content of element type "module_updates" must match "((notification?,(module_group|module)*,license*)|error)".
INFO [com.sun.tools.visualvm.attach.AttachModelImpl]: getSystemProperties
com.sun.tools.attach.AttachNotSupportedException: Unable to open socket file: target process not responding or HotSpot VM not loaded
    at sun.tools.attach.LinuxVirtualMachine.<init>(LinuxVirtualMachine.java:106)
    at sun.tools.attach.LinuxAttachProvider.attachVirtualMachine(LinuxAttachProvider.java:63)
    at com.sun.tools.attach.VirtualMachine.attach(VirtualMachine.java:213)
    at com.sun.tools.visualvm.attach.AttachModelImpl.getVirtualMachine(AttachModelImpl.java:124)
Caused: java.io.IOException: Unable to open socket file: target process not responding or HotSpot VM not loaded
    at com.sun.tools.visualvm.attach.AttachModelImpl.getVirtualMachine(AttachModelImpl.java:126)
    at com.sun.tools.visualvm.attach.AttachModelImpl.getSystemProperties(AttachModelImpl.java:56)
    at com.sun.tools.visualvm.jvm.JVMImpl.getSystemProperties(JVMImpl.java:286)
    at com.sun.tools.visualvm.application.views.overview.ApplicationOverviewModel.initialize(ApplicationOverviewModel.java:229)
    at com.sun.tools.visualvm.application.views.overview.ApplicationOverviewModel.initialize(ApplicationOverviewModel.java:135)
    at com.sun.tools.visualvm.application.views.overview.ApplicationOverviewView.willBeAdded(ApplicationOverviewView.java:56)
    at com.sun.tools.visualvm.core.ui.DataSourceView.viewWillBeAdded(DataSourceView.java:163)
    at com.sun.tools.visualvm.core.ui.DataSourceWindowManager.addViews(DataSourceWindowManager.java:247)
    at com.sun.tools.visualvm.core.ui.DataSourceWindowManager.openWindowAndAddView(DataSourceWindowManager.java:181)
    at com.sun.tools.visualvm.core.ui.DataSourceWindowManager.access$000(DataSourceWindowManager.java:50)
[catch] at com.sun.tools.visualvm.core.ui.DataSourceWindowManager$1.run(DataSourceWindowManager.java:100)
    at org.openide.util.RequestProcessor$Task.run(Unknown Source)
    at org.openide.util.RequestProcessor$Processor.run(Unknown Source)
INFO [com.sun.tools.visualvm.attach.AttachModelImpl]: getSystemProperties
com.sun.tools.attach.AttachNotSupportedException: Unable to open socket file: target process not responding or HotSpot VM not loaded
    at sun.tools.attach.LinuxVirtualMachine.<init>(LinuxVirtualMachine.java:106)
    at sun.tools.attach.LinuxAttachProvider.attachVirtualMachine(LinuxAttachProvider.java:63)
    at com.sun.tools.attach.VirtualMachine.attach(VirtualMachine.java:213)
    at com.sun.tools.visualvm.attach.AttachModelImpl.getVirtualMachine(AttachModelImpl.java:124)
Caused: java.io.IOException: Unable to open socket file: target process not responding or HotSpot VM not loaded
    at com.sun.tools.visualvm.attach.AttachModelImpl.getVirtualMachine(AttachModelImpl.java:126)
    at com.sun.tools.visualvm.attach.AttachModelImpl.getSystemProperties(AttachModelImpl.java:56)
    at com.sun.tools.visualvm.jvm.JVMImpl.getSystemProperties(JVMImpl.java:286)
    at com.sun.tools.visualvm.profiler.ProfilerSupport.classSharingBreaksProfiling(ProfilerSupport.java:118)
    at com.sun.tools.visualvm.profiler.ApplicationProfilerView.willBeAdded(ApplicationProfilerView.java:147)
    at com.sun.tools.visualvm.core.ui.DataSourceView.viewWillBeAdded(DataSourceView.java:163)
    at com.sun.tools.visualvm.core.ui.DataSourceWindowManager.addViews(DataSourceWindowManager.java:247)
    at com.sun.tools.visualvm.core.ui.DataSourceWindowManager.openWindowAndAddView(DataSourceWindowManager.java:181)
    at com.sun.tools.visualvm.core.ui.DataSourceWindowManager.access$000(DataSourceWindowManager.java:50)
[catch] at com.sun.tools.visualvm.core.ui.DataSourceWindowManager$1.run(DataSourceWindowManager.java:100)
    at org.openide.util.RequestProcessor$Task.run(Unknown Source)
    at org.openide.util.RequestProcessor$Processor.run(Unknown Source) 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2014-08-17T12:11:07.493

您是否尝试过使用测试用户对服务器进行 ssh？
尝试

```
ssh test@yourmachine -X 
```

这是因为与一个用户进行 ssh-ing，然后使用另一个用户的 sudo 运行 jvisualvm 可能会导致此问题...

顺便说一句，对我有用的是将 .Xauthority 文件按原样（注意这是一个二进制文件）从根主目录复制到特定用户的主目录（在您的情况下进行测试）。

# c# - 根据其他元素值选择元素

> ID：15516865
> 
> 赞同：0
> 
> 时间：2013-03-20T06:37:19.680
> 
> 标签：c#, xml, linq, linq-to-xml

[当有多个](https://stackoverflow.com/questions/13581556/xpathselectelement-select-the-second-when-there-is-more-than-one)[XPath 和 XPathSelectElement](https://stackoverflow.com/questions/6289784/xpath-and-xpathselectelement)时，我已经提到XPathSelectElement 选择第二个。但这是一个不同的问题。

我有以下 xml。我需要找出对应于序列 2 的 Message 元素值（来自 StatusDetail）。如果不存在序列 2，它应该返回 null。在 C# 中使用 执行此操作的最佳方法是什么`XPathSelectElement`？

注意：可以有任意数量的 StatusDetail（或根本没有）

注意：StatusDetail 元素可以按任何顺序排列。我们只需要在 2 中寻找值“2”

**代码**

```
 XDocument xDoc = XDocument.Parse(@"  
          <Status>
            <StatusMsg>
                <StatusType>INVOICE</StatusType>
                <StatusCode>READYPAY</StatusCode>
                <StatusTimestamp>2013-03-19T21:20:54Z</StatusTimestamp>
                <StatusDetail>
                <Sequence>1</Sequence>
                <Message>.Document posted successfully </Message>
                </StatusDetail>
                <StatusDetail>
                <Sequence>2 </Sequence>
                <Message>Invoice is ready for pay</Message>
                </StatusDetail>
            </StatusMsg>
            </Status>
           ");

 var statusDetails = xDoc.XPathSelectElements(@"Status/StatusMsg/StatusDetail"); 
```

**更新**

以下是我根据所选答案使用的解决方案

```
var statusDetails = xDoc.XPathSelectElements(@"Status/StatusMsg/StatusDetail/Sequence[text()=2]/../Message").FirstOrDefault();
if (statusDetails != null)
{
     selectedMessage = statusDetails.Value;
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-20T06:44:34.493

```
var statusDetails = xDoc.XPathSelectElements(@"Status/StatusMsg/StatusDetail/Sequence[text()=2]/../Message"); 
```

它用于`text()`按元素的值和父选择器选择`/..`元素以从该元素返回其父元素。

添加`ToList()`或`SingleOrDefault`枚举结果并将其保存到列表或单个`XElement`对象中。

*更新*

LINQ to XML 查询版本：

```
var results = from sd in xDoc.Root.Elements("StatusMsg").Elements("StatusDetail")
              let s = sd.Element("Sequence")
              where s != null && ((string)s).Trim() == "2"
              select (string)sd.Element("Message"); 
```

并使用基于方法的查询：

```
results = xDoc.Root.Elements("StatusMsg").Elements("StatusDetail")
              .Select(sd => new { sd, s = sd.Element("Sequence") })
              .Where(x => x.s != null && ((string)x.s).Trim() == "2")
              .Select(x => (string)x.sd.Element("Message")) 
```

您可以添加另一个`.Where(x => x != null)`来跳过`null`结果（当有`StatusDetail`with时存在`Seqience == 2`，但没有`Message`元素。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-20T06:50:05.507

为什么不使用 LINQ to XML：

```
var result = xDoc.Descendants("StatusDetail")
            .Where(x =>
                       {
                           var xElement = x.Element("Sequence");
                           return xElement != null && xElement.Value.Trim() == "2";
                       })
            .Select(x => (string)x.Element("Message"))
            .SingleOrDefault(); 
```

# java - 在 Hibernate 中，我在运行时收到以下错误

> ID：15516867
> 
> 赞同：1
> 
> 时间：2013-03-20T06:37:26.663
> 
> 标签：java, hibernate, orm

在 Hibernate 中，我在运行时收到以下错误

**1.员工.hbm.xml**

```
<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE hibernate-mapping PUBLIC

 "-//Hibernate/Hibernate Mapping DTD 3.0//EN"

 "http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd">

<hibernate-mapping package ="com.hibernate.basic">

    <class name="Employee" table="Employee" lazy="false">

        <id name="id" column="EMPID" type ="int">

            <generator class="increment"></generator>
        </id>

        <property name="firstName" column="NAME"></property>
        <property name="lastName"column="LNAME"></property>

    </class> 
```

**2.休眠.cfg.xml**

```
<?xml version='1.0' encoding='UTF-8'?>

<!DOCTYPE hibernate-configuration PUBLIC

        "-//Hibernate/Hibernate Configuration DTD 3.0//EN"

        "http://hibernate.sourceforge.net/hibernate-configuration-3.0.dtd">

<hibernate-configuration>

    <session-factory> 
        <property name="connection.driver_class">oracle.jdbc.OracleDriver</property>
        <property name="connection.url">jdbc:oracle:thin:@172.16.3.94:1521:EAMABP</property>
        <property name="connection.username">EAM</property>
        <property name="connection.password">EAM</property>
        <property name="hibernate.connection.pool_size">10</property>
        <property name="dialect">org.hibernate.dialect.Oracle10gDialect</property>
        <property name="current_session_context_class">thread</property>
        <property name="hibernate.show_sql">true</property>
        <property name="hibernate.show_sql">true</property>
        <property name="hibernate.format_sql">true</property>
        <property name="hibernate.hbm2ddl.auto">update</property>
        <mapping resource="employee.hbm.xml" />
    </session-factory>

</hibernate-configuration> 
```

**3\. 员工.java**

```
package com.hibernate.basic;

public class Employee {

    private int id;
    private String FName, LName;

    public String getFName() {

        return FName;
    }

    public void setFName(String FName) {

        this.FName = FName;
    }

    public String getLName() {
        return LName;
    }

    public void setLName(String LName) {

        this.LName = LName;
    }

    public int getId() {
        return id;
    }

    public void setId(int id) {
        this.id = id;
    }
} 
```

**4.StoreData.java**

```
package com.hibernate.basic;

import org.hibernate.Session;
import org.hibernate.SessionFactory;
import org.hibernate.Transaction;
import org.hibernate.cfg.Configuration;

public class StoreData {
    public static void main(String[] args) {

        // creating configuration object
        Configuration cfg = new Configuration();
        cfg.configure("hibernate.cfg.xml");// populates the data of the
                                            // configuration file

        // creating seession factory object
        SessionFactory factory = cfg.buildSessionFactory();

        // creating session object
        Session session = factory.openSession();

        // creating transaction object
        Transaction t = session.beginTransaction();

        Employee e1 = new Employee();
        e1.setId(115);
        e1.setFName("sonoo");
        e1.setLName("jaiswal");

        session.persist(e1);// persisting the object

        t.commit();// transaction is commited
        session.close();

        System.out.println("successfully saved");

    }
} 
```

执行后出现错误：

> log4j:WARN 找不到记录器（org.hibernate.cfg.Environment）的附加程序。log4j:WARN 请正确初始化 log4j 系统。线程“主”org.hibernate.InvalidMappingException 中的异常：无法从 org.hibernate.cfg.Configuration.addResource(Configuration.java:569) 的 org.hibernate.cfg.Configuration 中的资源employee.hbm.xml 解析映射文档。 org.hibernate.cfg.Configuration.parseSessionFactory(Configuration.java:1555) 的 parseMappingElement(Configuration.java:1587) org.hibernate.cfg.Configuration.doConfigure(Configuration.java:1534) 的 org.hibernate.cfg.Configuration .doConfigure(Configuration.java:1508) at org.hibernate.cfg.Configuration.configure(Configuration.java:1428) at com.hibernate.basic.StoreData.main(StoreData.java:13) 原因：org.hibernate。InvalidMappingException: 无法从 org.hibernate.cfg.Configuration.addInputStream(Configuration.java:508) 的输入流中解析映射文档 org.hibernate.cfg.Configuration.addResource(Configuration.java:566) ... 6 更多作者：org.dom4j.DocumentException：文档第 14 行出错：元素类型“property”必须后跟属性规范“>”或“/>”。嵌套异常：元素类型“property”必须后跟属性规范“>”或“/>”。在 org.dom4j.io.SAXReader.read(SAXReader.java:482) 在 org.hibernate.cfg.Configuration.addInputStream(Configuration.java:499) ... 还有 7 个 addInputStream(Configuration.java:508) at org.hibernate.cfg.Configuration.addResource(Configuration.java:566) ... 6 更多原因：org.dom4j.DocumentException：文档第 14 行出错：元素类型“属性” " 必须后跟属性规范，">" 或 "/>"。嵌套异常：元素类型“property”必须后跟属性规范“>”或“/>”。在 org.dom4j.io.SAXReader.read(SAXReader.java:482) 在 org.hibernate.cfg.Configuration.addInputStream(Configuration.java:499) ... 还有 7 个 addInputStream(Configuration.java:508) at org.hibernate.cfg.Configuration.addResource(Configuration.java:566) ... 6 更多原因：org.dom4j.DocumentException：文档第 14 行出错：元素类型“属性” " 必须后跟属性规范，">" 或 "/>"。嵌套异常：元素类型“property”必须后跟属性规范“>”或“/>”。在 org.dom4j.io.SAXReader.read(SAXReader.java:482) 在 org.hibernate.cfg.Configuration.addInputStream(Configuration.java:499) ... 还有 7 个 必须后跟属性规范“>”或“/>”。嵌套异常：元素类型“property”必须后跟属性规范“>”或“/>”。在 org.dom4j.io.SAXReader.read(SAXReader.java:482) 在 org.hibernate.cfg.Configuration.addInputStream(Configuration.java:499) ... 还有 7 个 必须后跟属性规范“>”或“/>”。嵌套异常：元素类型“property”必须后跟属性规范“>”或“/>”。在 org.dom4j.io.SAXReader.read(SAXReader.java:482) 在 org.hibernate.cfg.Configuration.addInputStream(Configuration.java:499) ... 还有 7 个

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-20T07:16:49.170

`name="lastName"`和之间缺少一个空格`column`。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-20T07:14:20.150

该错误清楚地说明了行号和错误。看看这可能会有所帮助。

文档第 14 行出错：元素类型“property”必须后跟属性规范“>”或“/>”。嵌套异常：元素类型“property”必须后跟属性规范“>”或“/>”。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-21T08:39:49.997

这个错误通常是因为你的标签没有关闭。你在这里发布的内容中，我猜你没有关闭employee.hbm中的hibernate-mapping标签。试试吧！希望这可以帮助！

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2016-07-07T19:27:08.443

我有同样的错误：

> 元素类型“property”必须后跟属性规范“>”或“/>”。嵌套异常：元素类型“property”必须后跟属性规范“>”或“/>”。

我修复了它在 *.hbm.xml 文件中更改了一行

column="ESAMBIGUA" 和 length="1"/> 之间缺少空格

第一条评论，来自*Eduard Wirch*的评论真的帮助了我。谢谢！

# r - 输出中的多个级别名称（提取）

> ID：15516868
> 
> 赞同：0
> 
> 时间：2013-03-20T06:37:29.137
> 
> 标签：r

这是对我之前提出（并已得到回答）关于从多输出函数中提取特定输出的问题的后续。我已经成功调用了简单的输出，比如 summary() 调用的平均值，但是我很难按照类似的过程从 fitdistr() 函数中提取输出。

例如，当我使用“正态”分布运行此函数时，输出为均值和 sd：

```
> storage<-fitdistr((as.numeric(diameter.bin[[1]]$Strength)),"normal")

>       storage
      mean          sd    
>0.81428910     0.89574658

>(0.04360426) (0.03083287) 
```

当我查找（我正在使用 Rstudio，我可以查看存储的变量/矩阵等）时，我的“存储”变量中究竟存储了什么，我得到了这个：

```
structure(list(estimate = structure(c(0.814289099526066, 0.89574657988675
), .Names = c("mean", "sd")), sd = structure(c(0.0436042612645108, 
0.0308328688287655), .Names = c("mean", "sd")), vcov = structure(c(0.00190133160042372, 
0, 0, 0.00095066580021186), .Dim = c(2L, 2L), .Dimnames = list(
c("mean", "sd"), c("mean", "sd"))), n = 422L, loglik = -552.330814327093), .Names = c("estimate", "sd", "vcov", "n", "loglik"), class = "fitdistr") 
```

我想做的只是提取平均值（“平均值”列下的第一个条目，而不是括号中的那个）。我尝试了以下方法：

```
> test<-storage["estimate"]

> test

>$estimate
>     mean        sd 

>0.8142891 0.8957466 
```

这样我就可以成功拉出第一行数据了。现在我坚持只提取平均值。我存储的变量'test'，看起来应该有名字'mean'和'sd'，实际上没有名字可以调用。这是存储在我的“测试”变量中的内容：

> 结构（列表（估计 = 结构（c（0.814289099526066，0.89574657988675），.Names = c（“平均值”，“sd”））），.Names = “估计”）

我可以看到实际上名称“mean”和“sd”是我的测试变量的一部分，但我似乎无法访问它们。当我尝试：

```
> names(test)

>[1] "estimate"

> test["mean"]

>$< N A >

>NULL 
```

任何人都知道如何访问其他“级别”的名称，我将不胜感激！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-20T06:51:02.980

当您感到困惑时，请使用`str`以获得对象的正确结构。

```
str(storage)
List of 5
 $ estimate: Named num [1:2] 0.814 0.896
  ..- attr(*, "names")= chr [1:2] "mean" "sd"
 $ sd      : Named num [1:2] 0.0436 0.0308
  ..- attr(*, "names")= chr [1:2] "mean" "sd"
 $ vcov    : num [1:2, 1:2] 0.001901 0 0 0.000951
  ..- attr(*, "dimnames")=List of 2
  .. ..$ : chr [1:2] "mean" "sd"
  .. ..$ : chr [1:2] "mean" "sd"
 $ n       : int 422
 $ loglik  : num -552
 - attr(*, "class")= chr "fitdistr" 
```

mean 和 sd 在估计变量中，我看到`$`下一个估计值，所以我这样做

```
storage$estimate
     mean        sd 
0.8142891 0.8957466 
```

然后我做

```
storage$estimate[1] 
```

或者

```
storage$estimate['mean']

    mean 
0.8142891 
```

# yii - Yii cgrid 视图排序

> ID：15516871
> 
> 赞同：0
> 
> 时间：2013-03-20T06:37:35.593
> 
> 标签：yii

我正在我的站点中构建在 yii 中的访客报告部分。我的 cgrid 视图记录如下所示。

```
HostName        Visitors Counts      Detail
 facbook.com     40                   click here   
 google.com      150                  click here  
 yahoo.com       90                   click here 
```

我只想对这些数据进行排序，因为更高的访问者在 cgrid 视图上向上移动。就像 google.com 为我提供了最高的访问者，所以它向上移动了 CGridView。怎么可能？请有任何建议。当数据显示在 CGridview 中时，我在运行时计数访问者我创建了一个函数并将其作为参数传递给主机名。我该如何排序？

在 CGridView 中，

```
array( 'name'=>'id',
        'value'=>'visits::count_VisitorsByHostName($data->hostname)',
        'header'=>'Visits'
   ), 
```

在模型访问.php

```
public function count_VisitorsByHostName($hostname){            

    $connection = Yii::app()->db;               
    $query = "SELECT COUNT(id) as Visitors FROM visits WHERE hostname = '$hostname'";
    $connection->createCommand($query)->queryAll();             
    $count_visitors =  $count_record[0]['Visitors'];                
    return $count_visitors;                     
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-20T07:51:46.063

您可以通过将访问者计数添加到初始查询来做到这一点，然后您的访问者计数可以成为 CGridView 中的可排序列。

所以你的控制器可以看起来很正常；

```
class VisitsController extends Controller
{
    ...

    public function actionIndex()
    {
        $model=new Visits('search');
        $model->unsetAttributes();  // clear any default values
        if(isset($_GET['Visits']))
            $model->attributes=$_GET['Visits'];
        $this->render('index',array(
            'model'=>$model,
        ));
    }

    ...
} 
```

在您的模型中，您需要声明一个变量来保存计数搜索，然后将其添加到您的 search() 方法中，如下所示；

```
class Visits extends CActiveRecord
{
    /**
     * @var array Allows model filtering by visit count
     */
    public $visit_count;

    ...

    // Remember to declare it as safe
    public function rules()
    {
        return array(
            ...
            array(... ,'visit_count', ..., 'safe', 'on'=>'search'),
            ...
        );
    }

    ...

    // Give it a label if you wish
    public function attributeLabels()
    {
        return array(
            ...
            'visit_count' => 'Visitors Counts',
            ...
        );
    }

    ...

    // Now add to your search method
    public function search()
    {
        $criteria=new CDbCriteria;
        $visit_table = Visits::model()->tableName();
        $visit_count_sql = "(select count(*) from `$visit_table` where `$visit_table`.`hostname` = `t`.`hostname`)";
        $criteria->select = array(
            '*',
            $visit_count_sql . " as `visit_count`",
        );

        $criteria->compare($visit_count_sql, $this->visit_count);

        // Set the CActiveDataProvider to order by the visitor count
        $criteria->order = 'visit_count DESC';

        ...
        // All your other criteria code
        ...

        // And add to the CActiveDataProvider
        return new CActiveDataProvider($this, array(
            'criteria'=>$criteria,
            'sort'=>array(
                'attributes'=>array(
                    'visit_count'=>array(
                        'asc'=>'visit_count',
                        'desc'=>'visit_count DESC',
                    ),
                '*',
                ),
            ),
            'pagination'=>array(
                'pageSize'=>100,
            ),
        ));
    }

    ...
} 
```

然后，您可以将其添加到您的视图中的 CGridView；

```
$this->widget('zii.widgets.grid.CGridView', array(
    'id'=>'visit-grid',
    'dataProvider'=>$model->search(),
    'filter'=>$model,
    'columns'=>array(
        'hostname',
        'visit_count',
        array(
            // Whatever your detail column looks like!
        ),
        array(
            'class'=>'CButtonColumn',
        ),
    ),
)); 
```

我没有测试过，但是我已经从我自己的一个项目中的一个更复杂的模型中剥离了它，所以它很可能需要一些编辑，并且很可能需要为你的应用程序更改变量名，但基本流程是那里。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-20T06:43:51.733

只需在控制器中定义函数并调用 gridview 值即可。

```
array('name'=>'id','value'=>array($this,'functionName')), 
```

并在控制器中添加此操作：

```
public function functionName($data,$row){

//Your logic//
Return value;
} 
```

# git - git repos 的结构，其中跨 repos 共享的代码需要位于 repo 的根目录中

> ID：15516872
> 
> 赞同：1
> 
> 时间：2013-03-20T06:37:46.927
> 
> 标签：git, git-submodules

我试图想出一种相当干净的方式来在 Git 中表示以下内容：

*   包含跨多个项目使用的通用代码的基础项目。

*   在基础项目的几个子目录中使用附加文件扩展基础项目的多个项目。

*   扩展项目通常对基础项目进行特定于项目的修改。我们希望能够将这些修改推回上游，同时又不将扩展特定的东西向上推。

我目前的想法是这样的：

*   基础项目和每个扩展项目的单独存储库。

*   对于每个扩展项目，派生基础项目并为扩展特定的东西创建一个子模块。将子模块的子目录符号链接到超级项目目录结构中的预期位置。

有没有更好的办法？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-20T07:10:58.263

是不是普通项目的代码*真的*是独立于项目的，那么是的，子模块是个不错的选择。

但是，如果更改项目也几乎总是涉及更改公共代码，并且如果扩展项目不代表那么多文件......那么每个扩展项目一个分支和一个专用于公共代码的分支就足够了。
然后，这可能涉及对您希望在公共代码分支中返回的特定于项目的提交进行一些挑选。

# python - 如何从 python (3.3) 中的列表中获取元组

> ID：15516876
> 
> 赞同：1
> 
> 时间：2013-03-20T06:37:50.620
> 
> 标签：python, list, tuples

所以我得到了一个模块，里面有一个元组列表。每个元组有 3 项，公司代码、公司名称和公司价格：

```
('bwt', 'bigwilsontrans', 23.4) 
```

这个列表中有很多项目。我被要求做的是编写一个程序，要求用户输入公司的代码（可以是多个）并从列表中返回包含相应代码的元组。

如果代码与列表中的任何代码都不匹配，则忽略该代码。任何人都可以帮忙吗？我被困在如何返回元组上。我对python很陌生，如果这看起来很基本，我很抱歉

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-20T06:49:35.343

您可以使用索引访问元组的各个成员，就像它是一个数组一样，请参阅相关的[python 文档](http://docs.python.org/2/tutorial/datastructures.html#tuples-and-sequences "蟒蛇文档")以获取更多信息。

所以这是一个非常简单的事情，从大海捞针（元组列表）中获取你的针（公司代码）

```
# haystack is a list of tuples
def find_needle(needle, haystack):
  for foo in haystack:
    # foo is a tuple, notice we can index into it like an array
    if foo[0] == needle:
      print foo 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-20T06:55:19.407

让我们`list_`成为元组列表和`c_code`公司代码，通过某些控件从输入`raw_input`或某些 GUI 中读取（如果您需要帮助，请告诉我。

您可以使用任一列表理解：

```
matching_results = [t for t in list_ if t[0] == c_code] 
```

或内置`filter`函数：

```
matching_results = filter(lambda t: t[0]==c_code, list_) 
```

注意版本 2：在 Python 3 中，`filter`它是生成器样式的，即它不会创建列表，但您可以对其进行迭代。要在 Python 3 中获取列表，您必须调用`list(...)`此生成器。

**编辑**

如果您有公司代码列表`c_codes`，您可以

```
matching_results = [t for t in list_ if t[0] in c_codes] 
```

这应该是最简单的方法。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-20T06:52:36.597

听起来您几乎肯定想使用`dict`.

```
companies = { "bwt": (bigwilsontrans, 23.4),
              "abc": (alphabet, 25.9)
            } 
```

然后查找它，您可以简单地执行以下操作：

```
code = int(raw_input("Code: "))
print companies[code] 
```

* * *

## 回答 #4

> 赞同：-2
> 
> 时间：2013-03-20T07:00:41.270

尝试：

```
>>>tuple([1, 2, 3])
(1, 2, 3) 
```

# python-2.7 - 以 10 为底的无效字符串文字

> ID：15516879
> 
> 赞同：1
> 
> 时间：2013-03-20T06:38:10.547
> 
> 标签：python-2.7, int

我无法弄清楚为什么我会收到 ValueError 'Invalid literal for int() with base 10: 'addin.txt'

```
out = open('addout.txt', 'w')

for line in open(int('addin.txt')):
    line = line.strip()
out.write((line [0] + line[1]) + (line [3] + line [4]))
out.close 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-20T06:53:39.707

这是您的代码的更正版本，其中包含一些我希望您会发现有用的注释。

```
# open the file in as writable
out = open('addout.txt', 'w')

# go through each line of the input text
for line in open('addin.txt'):
    # split into parts (will return two strings if there are two parts)
    # this is syntax sugar for:
    #   parts = line.split()
    #   l = parts[0]
    #   r = parts[1]
    l,r = line.split()

    # parse each into a number and add them together
    sum = int(l) + int(r)

    # write out the result as a string, not forgetting the new line
    out.write(str(sum)+"\n")

# clean up your file handle
out.close() 
```

核心位是`int(somestring)`. [在这里](http://docs.python.org/2/library/functions.html#int)阅读。如果您需要指定不同的基数，它看起来像`int(somestring, base=8)`.

我希望这有帮助。

# gwt - 使用智能 GWT 移动向导航栏添加多个按钮

> ID：15516882
> 
> 赞同：0
> 
> 时间：2013-03-20T06:38:18.853
> 
> 标签：gwt, smartgwt, mobile-application

![导航栏](../Images/21b380ac0fbedaba20b9969cadf4b2b2.png)

您好，我有一个使用智能 GWT 移动设备的**导航栏**，我在其中添加了注销作为右侧按钮我需要在右侧再添加一个*按钮*，请帮助我尝试添加孩子它似乎不起作用请帮助提前谢谢.

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-20T06:43:50.613

`float: right`您可以在按钮上设置 css 样式属性。首先给 Button 添加一个样式类名，然后在 CSS 文件中定义 css 规则为 -

```
.button-style{
    float: right;
} 
```

# c++ - 像具有双向查找的容器的哈希映射？

> ID：15516886
> 
> 赞同：2
> 
> 时间：2013-03-20T06:38:37.100
> 
> 标签：c++, algorithm, containers

我希望将大量对象存储在哈希映射类型容器（快速谷歌稀疏哈希）中，以尽可能提高内存效率。它们将由一个索引`int`- 这是它们唯一的编码“坐标”。数据样本如下所示：

```
map[1] = object1
map[2] = object2
map[3] = object3
etc.. 
```

问题是有时我有一个对象引用，我需要找到它自己的坐标（索引`int`）。出于性能原因，对整个地图进行全面扫描并寻找该对象是不可能的。拥有一个单独的“反向”映射来索引基于对象的坐标也是不希望的 - 因为这实际上会使内存使用量加倍。

到目前为止，我发现的唯一合理的解决方案是以某种方式标记需要使用“索引”访问自己坐标的对象 - 因此它们基本上得到了反向坐标索引。我对这个解决方案并不完全满意，并且想知道我是否缺少一些专门为此设计的特殊容器？本质上是一个双向索引容器，没有任何额外的内存使用？

# jquery - 如何使 2 个垂直选项卡（左和右）在中心的同一个内容框上工作>

> ID：15516893
> 
> 赞同：0
> 
> 时间：2013-03-20T06:39:17.793
> 
> 标签：jquery, html, css

我有一些垂直选项卡，我想添加更多，但我想在第一个垂直选项卡的右侧添加。第一个在左侧，在它们旁边是内容框，我希望在这个内容框之后是一组新的垂直选项卡，它们将应用于同一个内容框。这是我想要的图像（我在 photoshop 中制作的）：[http ://s14.postimage.org/4mi4kx15d/what_i_need.jpg](http://s14.postimage.org/4mi4kx15d/what_i_need.jpg)

我希望新列具有与第一列相同的属性，因为我想添加更多选项卡，这将是一个又长又丑的列，但使用 2 会更好

这是我尝试过的：http: [//jsfiddle.net/26zQS/6/](http://jsfiddle.net/26zQS/6/)

html

```
<div class="verticalslider" id="textExample">
            <ul class="verticalslider_tabs">
                <li><a href="#">Catedra de Limba si Literatura Romana</a></li>
                <li><a href="#">Catedra de Matematica</a></li>
                <li><a href="#">Catedra de Informatica</a></li>
                <li><a href="#">Limba engleza</a></li>  
                <li><a href="#">Limba Germana</a></li>
            </ul>
            <ul class="verticalslider_contents">
                <li>
                <h2>Catedra de Limba si Literatura Romana</h2></br>
                <p id="profesor">
                Popa Alina </br>
                Nadia Pascu</br>
                </p>
                </li>

                <li>
                    <h2>Catedra de Matematica</h2></br>
                    <p id="profesor">
                    Ciubotariu Boer-Vlad </br>
                    Diaconu Ilie</br>
                    Gorcea Violin </br>
                    </p>
                </li>

<li>
                <h2>informatica</h2>
                    <p id="profesor">
                    Wainblat Gabriela</br>
                    Nistor Ancuta</br>
                </li>

                <li>
                <h2>Limba Engleza</h2>
                    <p id="profesor">
                    Wainblat Gabriela</br>
                    Nistor Ancuta</br>
                </li>

                <li>
                <h2>Germana</h2>
                    <p id="profesor">
                    Wainblat Gabriela</br>
                    Nistor Ancuta</br>
                </li>

        </ul>
</div> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-20T07:28:43.480

我想出了一个简单的解决方案：

html:

```
<ul class="verticalslider_tabs right">
    <li><a href="#">Catedra de Limba si Literatura Romana</a>
    </li>
    <li><a href="#">Catedra de Matematica</a>
    </li>
    <li><a href="#">Catedra de Informatica</a>
    </li>
    <li><a href="#">Limba engleza</a>
    </li>
    <li><a href="#">Limba Germana</a>
    </li>
</ul>
<ul class="verticalslider_tabs">
    <li><a href="#">Catedra de Limba si Literatura Romana</a>
    </li>
    <li><a href="#">Catedra de Matematica</a>
    </li>
    <li><a href="#">Catedra de Informatica</a>
    </li>
    <li><a href="#">Limba engleza</a>
    </li>
    <li><a href="#">Limba Germana</a>
    </li>
</ul> 
```

CSS：

```
 .verticalslider_tabs {
        float: left;
        width: 220px;
    }
    .verticalslider_tabs.right {
        float:right;
    }
    .verticalslider_contents {
        display: block;
        margin: 0px;
        padding: 0px;
        overflow:hidden;
    } 
```

演示：http: [//jsfiddle.net/pavloschris/26zQS/19/](http://jsfiddle.net/pavloschris/26zQS/19/)

当然，它仍然需要一些更改才能正常运行。

如果您愿意更改垂直选项卡的源代码，您只需更改一行即可使其正常工作。

改变 ： `activeIndex = $(this).parent().prevAll().length;`

和 ： `activeIndex = tabs.index($(this).parent());`

# python - 如何在字典末尾继续添加值

> ID：15516894
> 
> 赞同：0
> 
> 时间：2013-03-20T06:39:19.347
> 
> 标签：python, xml, parsing, dictionary

我昨天学了python。我正在尝试解析 XML 文件并将值放入字典中。

```
xml.etree.ElementTree as ET
tree = ET.parse('test.xml')
root = tree.getroot()
d ={ }
for child in root:
   d[child.tag] = child.attrib
   print child.tag, child.attrib
   print("\n")
for k,v in d.items():
   print(k,v) 
```

现在该语句`d[child.tag] = child.attrib`每次都被重写而不是被更新。

所以我得到的输出是 -

```
country {'name': 'Liechtenstein'}
country {'name': 'Singapore'}
country {'name': 'Panama'}

('country', {'name': 'Panama'}) 
```

前三行输出是由于`print()`. 最后一行来自字典。

我怎样才能有效地做到这一点，以便我的字典存储所有三行？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-20T06:52:16.000

你可以使用[`collections.defaultdict`](http://docs.python.org/2.7/library/collections.html#collections.defaultdict)：

```
from collections import defaultdict

d = defaultdict(list)
for child in root:
    d[child.tag].append(child.attrib) 
```

如果 all`root`的直接子级具有相同的标签，那么您可以只使用一个列表：

```
L = [child.attrib for child in root] 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-20T06:45:01.443

标准 Python`dict`是无序的 - 因此，您不能，除非您使用Python 3.1 中可用的[OrderedDict 。](http://docs.python.org/dev/whatsnew/3.1.html#pep-372-ordered-dictionaries)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-20T06:54:40.043

行。如果您的唯一目标是拯救这三个国家，那么最好使用列表而不是字典。字典用于将键与值相关联，并且键必须是不同的。您`name`每次都将其用作密钥，这就是为什么每个条目都覆盖前一个条目的原因。

所以你可以做类似的事情

```
d = []
for child in root:
    d.append(child.attrib) 
```

如果您实际上有要关联某些值的不同键，那么您可以使用字典。但是您必须能够保证键是不同的。

# c# - 将班级视为旗帜

> ID：15516903
> 
> 赞同：0
> 
> 时间：2013-03-20T06:40:04.267
> 
> 标签：c#, flags

在 C# 中是否可以将类视为标志？如果我有类 Foo

```
class Foo
{
// Do things...
} 
```

我有一些变量（int 或其他），我可以这样做：

```
Foo test = new Foo();
Foo res = test | SOME_ENUM_FLAG | OTHER_FLAG; 
```

如果是这样，如何？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-20T06:41:49.490

好吧，我建议你尝试重载`|`运算符

```
class Foo
{
    public static Foo operator |(Foo left, Foo right) 
    {
       return new Foo(...);
    }

    // some more examples
    public static Foo operator |(Foo left, SomeEnum right) 
    {
       return new Foo(...);
    }

    public static Foo operator |(Foo left, int right) 
    {
       return new Foo(...);
    }
} 
```

这可以是

```
Foo test = new Foo();
Foo res = test | SomeEnum.EnumValue | someInt; 
```

甚至

```
res |= SomeEnum.EnumValue 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-20T07:05:01.213

老实说，这是一个坏主意。

它会降低可读性，引入“有趣”的边缘案例（我从没想过有人会结合这两个......）等等。

如果你想要一个枚举，请使用枚举。如果您想要有状态的行为，请使用类。

也就是说，如果我**必须**这样做，我会使用常规的旧枚举作为组合部分，并编写扩展方法来模仿方法和状态。

# youtube - youtube api 视频 url 格式

> ID：15516908
> 
> 赞同：0
> 
> 时间：2013-03-20T06:40:23.590
> 
> 标签：youtube, youtube-api

在 api 响应中，我们得到以下属性来获取视频 url

```
 <media:content 
        url='http://www.youtube.com/v/ZTUVgYoeN_b?f=gdata_standard...'
        type='application/x-shockwave-flash' medium='video'
        isDefault='true' expression='full' duration='215' yt:format='5'/> 
```

api 响应中的 url 格式是固定的还是会发生变化？视频网址还包含某些元数据，例如开发人员密钥等。

我不想存储在不同 URL 之间不会更改的 URL 部分。例如。www.youtube.com 和开发者密钥等。

我可以这样做吗？我是否可以获取特定格式的 URL，以便在存储时解析它并在渲染视频时重新构造它？

请建议在 youtube api 响应视频 URL 中压缩或消除冗余的方法？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-21T19:37:24.643

如果您希望存储最少量的信息来唯一标识视频，那就是视频 ID，它`yt:videoid`位于 v2 数据 API 响应中。

[使用视频 ID，您可以通过http://youtu.be/](http://youtu.be/) **VIDEO_ID**构建指向观看页面的链接，或者使用[`YT.Player`构造函数](https://developers.google.com/youtube/iframe_api_reference)的`videoId`参数将 iframe 嵌入式播放器的实例添加到您的页面。

# java - 如何使用 trie 设计字典应用程序？

> ID：15516914
> 
> 赞同：0
> 
> 时间：2013-03-20T06:40:45.257
> 
> 标签：java, search, data-structures

我计划在字典应用程序中使用 trie 数据结构实现，但问题是在 trie 中加载了超过 10,000 个单词。虽然 trie 消除了字母的冗余，并且在 primay 中加载的总内存不过是几个 kbs，但是`n`如果它是为手机实现的，将所有单词加载到 trie 所需的时间仍然会花费很多时间。应用程序..

关于可以做什么的任何建议？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-20T11:54:07.113

除了（或者可能除了）将包含字典的数据库与您的应用程序一起发送之外，您还可以发送包含所有字典单词的序列化 trie。这可以以您想要的任何方式序列化（可能作为数据库或 xml 文件中的 blob），然后您可以反序列化它以在应用程序启动时创建一个 java trie 对象。

为此，您可以使用一个部署脚本，该脚本通过遍历所有字典单词来创建 trie，将它们放入 trie，然后将 trie 序列化到某个文件或 blob 中，并将这个序列化的 trie 与发布的应用程序打包。

# java - 带有不可编辑消息正文的短信意图

> ID：15516917
> 
> 赞同：0
> 
> 时间：2013-03-20T06:40:50.233
> 
> 标签：java, android

```
Intent smsIntent = new Intent(Intent.ACTION_VIEW);
smsIntent.setType("vnd.android-dir/mms-sms");           
smsIntent.putExtra("sms_body",sMessage);
startActivity(smsIntent); 
```

它工作正常。但我想打开不可编辑的消息正文。用户只能选择他/她想要发送消息的号码

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-20T06:53:27.617

你可以尝试不同的方式然后intent.Like直接使用sms到收件人的号码并在你自己的视图中显示消息。

将短信直接发送到电话号码的代码：

```
private void sendAutoSms(String phonenumber,String message, boolean isBinary)
{
SmsManager manager = SmsManager.getDefault();

PendingIntent intentSend = PendingIntent.getBroadcast(this, 0, new Intent(SMS_SENT), 0);
PendingIntent intentDelivered = PendingIntent.getBroadcast(this, 0, new Intent(SMS_DELIVERED), 0);

if(isBinary)
{
        byte[] data = new byte[message.length()];

        for(int index=0; index<message.length() && index < MAX_SMS_MESSAGE_LENGTH; ++index)
        {
                data[index] = (byte)message.charAt(index);
        }

        manager.sendDataMessage(phonenumber, null, (short) SMS_PORT, data,intentSend, intentDelivered);
}
else
{
        int length = message.length();

        if(length > MAX_SMS_MESSAGE_LENGTH)
        {
                ArrayList<String> messagelist = manager.divideMessage(message);

                manager.sendMultipartTextMessage(phonenumber, null, messagelist, null, null);
        }
        else
        {
                manager.sendTextMessage(phonenumber, null, message, intentSend, intentDelivered);
        }
}
} 
```

在清单中包含权限

```
<uses-permission android:name="android.permission.SEND_SMS"/> 
```

# java - 我需要为 Java 代码创建一个独立的数据库（最好是 SQL Server）

> ID：15516920
> 
> 赞同：4
> 
> 时间：2013-03-20T06:41:15.747
> 
> 标签：java, sql-server-2008, persistence

我的 Java 桌面代码使用 SQL Server 2008 数据库作为其持久层。我希望能够将此代码与数据库一起分发。也就是说，java 代码应该是“包含数据库”的。该程序的任何用户都应该拥有数据库的本地副本，并且应该能够使用我的 java 代码，而无需安装整个 sql 服务器，也无需进行所有复杂的设置（也许一些小的 exe 来安装我的数据库就可以了）。我该怎么做呢 ？

**编辑**

我想用我的 java 代码打包我的数据库。我需要一些关于如何做到这一点的建议。我是新手，所以我不知道与我想做的事情相关的技术术语。所以，我什至无法搜索谷歌。我会用什么词来搜索？我需要关于如何做到这一点的想法。有经验的人可以指导一下。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-20T06:46:47.100

您正在寻找[嵌入式数据库](http://en.wikipedia.org/wiki/Embedded_database)。

您可以嵌入多个数据库。我认为 Microsoft SQL Server 不可能做到这一点。请注意，Microsoft SQL Server 是一种商业产品，因此即使您被允许将其与您的应用程序一起分发，您的客户也需要为此向 Microsoft 付费。

在 Java 中可以用作嵌入式数据库的一些数据库是：

*   [数据库](http://hsqldb.org/)
*   [阿帕奇德比](http://db.apache.org/derby/)

以上两个数据库都是用纯Java编写的，这意味着您不需要操作特定的本机代码；它们可以在任何可以使用 Java 的平台上工作。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-03-20T06:56:23.620

您会发现 Java 数据库比 Sql Server 容易得多；SQL Server 将需要更多的打包选项。

一些 Java DB 选项包括

*   [Java DB](http://www.oracle.com/technetwork/java/javadb/overview/index.html)附带最新版本的 Java，省去了分发 DB。

*   [H2 数据库](http://www.h2database.com/html/main.html)- 它具有混合操作模式，您最初以嵌入式模式连接到数据库，但启动了“数据库服务器”，因此可以建立其他数据库连接

*   [HSQLDB](http://hsqldb.org/)旧项目。

所有 3 都提供嵌入式或服务器操作。H2的混合模式也很有用

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-20T06:46:25.633

如果您需要坚持使用 SQL Server，您可以尝试使用 SQL Server Compact。请参阅此处：[http](http://en.wikipedia.org/wiki/SQL_Server_Compact) ://en.wikipedia.org/wiki/SQL_Server_Compact和此处： http: [//www.microsoft.com/en-us/sqlserver/editions/2012-editions/compact.aspx](http://www.microsoft.com/en-us/sqlserver/editions/2012-editions/compact.aspx)并检查它是否适合您的需要。

# cakephp-2.0 - 循环在 cakephp 中不起作用

> ID：15516922
> 
> 赞同：0
> 
> 时间：2013-03-20T06:41:19.303
> 
> 标签：cakephp-2.0

我在 cakephp 中工作，想用某些实际上是字符串格式的变量进行循环，我将它转换为 int，但在我运行时它仍然没有响应，这意味着循环内的“hi”没有打印......

```
 $one = array();
            echo intval($tolatitude[0]);
            $start=intval($fromlatitude[0]);
            $end=intval($tolatitude[0]);

            for($i=(int)$start;$i<(int)$end;$i++)
            {
                 //$one = $this->Place->find('all', array(
                  //'conditions' => array('Place.Latitude' => $i)
                  //));
                 //debug($one);
                 echo "Hi i m in loop";
            } 
```

如果有人知道请帮助我....

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-21T15:20:14.093

这个问题可能不是因为您使用的是 CakePHP。循环可能不会触发，因为 的值`$end`低于`$start`.

如果我用实际值替换`$fromlatitude[0]`和，则分别打印 4 次消息*“Hi im in loop” 。*`$tolatitude[0]``1``5`

 *所以检查 和 的`$fromlatitude[0]`值`$tolatitude[0]`。这些数组键是否真的存在，它们持有什么值？

```
$start=intval(1);
$end=intval(5);

for($i=(int)$start;$i<(int)$end;$i++) {
  echo "Hi i m in loop";
} 
```*

# asterisk - 如何减少星号中“在conf文件中添加新成员”的过程时间？

> ID：15516923
> 
> 赞同：0
> 
> 时间：2013-03-20T06:41:19.830
> 
> 标签：asterisk

我正在寻找减少 Asterisk,asteriskjava.jar 进程时间的方法！我正在研究基于 java、星号、mysql 的项目。在星号中，我可以添加最大站点总数，例如 90,900,9000（我设置了这些数字）。当任何 1 个站点第一次注册时编辑了 3 个文件 1\. sip.conf 2\. extensions.conf 3\. queues.conf 在这些文件中的每个条目之后，我使用 asteriskjava.jar 的 ManagerConnection 的 sendAction 函数的“重新加载”命令。（我认为这在 9000 个电台注册时会出现问题。）

在 extensions.conf 中，我在下面放了一行 extenpatternmatchnew=yes (';' 不在此行的开头，所以我认为它有效。)

所以通过这条线，我可以得到 90 个站的结果 900 个站的时间需要 22.94 秒 9000 个站的时间需要 7.07 到 7.15 秒 9000 个站的时间超过 4 小时。我怎样才能减少这个时间？我在 [How to create custom conf file for add stations in extensions.conf 中询问了与此相关的问题，星号？](https://stackoverflow.com/questions/15498028/how-to-create-custom-conf-file-for-add-stations-in-extensions-conf-asterisk) 但这不适用于第一次注册时的保存时间。如果只注册 9000 个电台需要这么多时间，那么如果我选择 1lacs 电台，那么我必须继续注册所有电台几天吗？注册后没有时间问题，每件事都按需要快速，但只有第一次在 3 个不同的 conf 文件中添加/注册。

# 我需要帮助。

谢谢arheops，我正在使用Asterisk 1.6.2.1。你写你不清楚我在做什么......我只是为n个站添加第一次拨号计划，所以之后所有人都可以轻松呼叫/寻呼/会议等。许多论坛提供解决方案减少“使用”拨号计划的时间在“添加”拨号计划后为 n 个站，但在为 n 个站准备拨号计划时如何减少时间消耗。

我正在使用java程序。在我的程序功能（用于将站点添加到星号）中，'for loop' 使用 & 每次从 asterisk-java-1.0.0.M3.jar 调用 UpdateConfigAction.java。在此 addCommand 函数调用。它将所有信息放在“操作”中，这些信息在 MANagerAction.java 文件中使用，这些文件在 ManagerConnection.java 文件的 sendAction 函数中进一步使用。通过这个活动 3 conf 文件编辑 & 解析 & 保存

1.  sip.conf
2.  队列.conf
3.  extensions.conf

当我选择 100 个站点时，整个过程使用 26-30 秒。

当我选择 1000 个站点时，整个过程使用 7-8 分钟。

当我选择 10000 个站点时，整个过程使用 6.93 小时。

我观察到，当我控制台 asterisk -r 命令使用 for 来查看发生了什么

==解析'/etc/asterisk/sip.conf': ==找到

在这条线几秒后控制台停止

==保存 'etc/asterisk/sip.conf' : ==保存

出现。所以我认为在 sip.conf 中缺少一些我使用的设置，但我在 sip.conf 中保留了所有设置“默认”！

任何人都可以尝试告诉我我在哪里犯了错误，所以我的程序花费了这么多时间来在这 3 个 conf 文件中注册第一个时间站！我怎样才能减少这个时间？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-20T13:56:06.980

对于较大的安装，您可以使用星号实时架构（从 db 获取 sip 信息）。

[http://www.voip-info.org/wiki/view/Asterisk+RealTime](http://www.voip-info.org/wiki/view/Asterisk+RealTime)

无论如何，星号无法为 90.000.000 个用户提供服务。对于如此大的安装，您可以使用更强大的代理，例如 opensips/kamailio。

我不清楚你在做什么，但是拥有 2000 个站点的 freepbx 确实会在不到几分钟的时间内重新加载。所以也许你需要查阅 freepbx 代码（它是开源的）？

# internet-explorer - 将元素附加到 EXTJS 树导致 IE 中的停止脚本错误

> ID：15516924
> 
> 赞同：1
> 
> 时间：2013-03-20T06:41:21.017
> 
> 标签：internet-explorer, dom, extjs, internet-explorer-8, extjs4

在我们的应用程序中，我们有一个树（使用 Ext.tree.Panel 创建），并且有一些节点具有大约 2500 个子节点。

当我们尝试将数据加载到树中时，Internet Explorer 显示一个弹出窗口，提示“脚本导致 Internet Explorer 运行缓慢，停止运行脚本？”。

我们发现如果子节点小于 500 IE 不会出错。因此，我们尝试一次仅加载 400 个子节点，并在单击页面上可用的按钮时加载剩余的子节点。

不幸的是，IE 仍然报错。我刚刚创建了我们正在尝试使用 jsfiddler 执行的操作的示例。以下是链接。

代码示例[在这里](http://jsfiddle.net/8JmqL/10/)

结果[在这里](http://jsfiddle.net/8JmqL/10/embedded/result/)

下面是代码。

函数 addNodes() { var node = Ext.getCmp('sampleTree').items.items[0].node.childNodes[0];

```
for (var cnt = 0; cnt < 400; cnt++) {
    node.appendChild({
        "task": cnt + "Hello",
        duration: cnt,
        user: 'Tommy Maintz' + cnt,
        iconCls: 'task',
        leaf: true
    });

} 
```

};

关于如何解决这个问题的任何建议？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2014-05-23T13:36:27.403

默认情况下，ExtJS Tree 是一个非常重的组件。对于你给的代码，每次添加一个节点，都会做一次完整的布局计算。如果您没有关闭动画，计算会发生几次。树的性能改进的两种方法。

*   在开始添加节点之前暂停布局，并在添加所有节点后恢复布局。参考`Ext.suspendLayouts`Ext 文档中的方法。
*   强制关闭动画`animate:false` ；这会稍微影响用户体验，因此您甚至可以考虑使用这些`Ext.isIE` 方法为 IE 设置此选项

# php - Mysql替换不起作用

> ID：15516936
> 
> 赞同：2
> 
> 时间：2013-03-20T06:42:20.130
> 
> 标签：php, mysql, sql, replace, sql-update

由于某种原因，当我使用替换时，我的脚本没有删除现有行。

我正在开发一个库存管理系统，我可能每隔一小时左右调用一次这个脚本来更新数据库：

```
 REPLACE INTO inventory(username, sku,asin,set_price,inventory)
                   VALUES('trav','AEG5502','B00875JE0C','23.49',''); 
```

但不是删除旧行，而是创建一个具有完全相同信息的新行。

我确定这是一个简单的错误，但如果有人可以帮助我，我会很高兴。

附加信息，一行大约有 15 列。这些列 ( `username`, `sku`, `asin`, `set_price,inventory`) 都不是 a `primary key`，我不知道替换是否必须如此，但我想我会提到它。

谢谢

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-20T06:44:13.083

RTLM：[http](http://dev.mysql.com/doc/refman/5.0/en/replace.html) `replace` ://dev.mysql.com/doc/refman/5.0/en/replace.html仅当您使用的任何字段是表中的主键或至少是唯一键时才会替换。因为你的字段都不是，它只是做一个插入

# linux - 如何将两个 echo 语句写入 output.txt 文件？

> ID：15516937
> 
> 赞同：1
> 
> 时间：2013-03-20T06:42:25.917
> 
> 标签：linux, bash, shell

我已经编写了一个脚本来计算给定文件中的选项卡数和行数。但我想将输出打印到文本文件。怎么做？

这是我尝试过的，但我无法在 output.txt 文件中同时打印

代码：

```
#!/bin/sh
#
FILE='units.txt'
TABCOUNT=$(tr -cd '\t' < $FILE  | wc -c)
LINECOUNT=$(wc -l < $FILE)
echo $LINECOUNT "lines in file" $FILE > output.txt 
echo $TABCOUNT "tabs in file" $FILE > output.txt
echo "Done!" 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-03-20T06:43:51.023

使用`>>`而不是`>`.

`>`截断文件，有效地用新内容覆盖它。

`>>`将内容附加到文件的末尾。

# javascript - Backbone：如果模型从同一视图更改，则避免视图渲染

> ID：15516939
> 
> 赞同：0
> 
> 时间：2013-03-20T06:42:36.090
> 
> 标签：javascript, backbone.js, backbone-views

我使用 Backbone 创建了以下结构。每个视图都监听相同的模型。每个视图都可以更新它。如何避免导致模型更新的视图的渲染方法调用？

```
var MyView1 = Backbone.View({
  initialize: function() {
    this.listenTo(this.model, 'change', this.render)
  },
  events: {
    'click' : 'set'
  },
  render: function() {
    return this
  },
  set: function (){
    this.model.set('property1', 'value')
  }
})

var MyView2 = Backbone.View({
  initialize: function() {
    this.listenTo(this.model, 'change', this.render)
  },
  events: {
    'click' : 'set'
  },
  render: function() {
    return this
  },
  set: function (){
    this.model.set('property1', 'value')
  }
})

var model = new Backbone.Model
var view1 = new MyView1({model: model})
var view2 = new MyView2({model: model}) 
```

我预计：

点击 view1 -> model.set() -> 只有 view2 的渲染方法应该被调用

根据我的 WinForms 经验，我现在将视图的 cid 作为发送者传递选项并在渲染时检查它，但它看起来有点难看。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2015-09-17T14:56:11.683

您可以`mode.set`使用选项调用`{silent: true}`以避免执行视图渲染方法。例如：

```
this.model.set({'property1', 'value'}, {silent: true}); 
```

但还要注意，一般不建议这样做：

> 一般来说，当调用一个发出事件的函数时（model.set、collection.add 等等...），如果你想阻止事件被触发，你可以传递 {silent: true} 为一个选项。请注意，这很少，甚至可能永远不是一个好主意。通过选项中的特定标志让您的事件回调查看并选择忽略，通常会更好。

[http://backbonejs.org/#Events-catalog](http://backbonejs.org/#Events-catalog)

# mysql - MySQL INNER JOIN 查询中包含子查询的问题

> ID：15516941
> 
> 赞同：9
> 
> 时间：2013-03-20T06:42:42.733
> 
> 标签：mysql, sql, join, subquery

我有两个表，类别和图像。在这里，Category.ID == Images.Category

**类别**

```
-----------------------
| ID | parent | name  |
-----------------------
| 1  | 1      | foo   |
| 2  | 1      | bar   |
| 3  | 2      | lorem |
----------------------- 
```

**图片**

```
--------------------------------------
| ID  | category    | url            |
--------------------------------------
| 1   | 1           | foo.jpg        |
| 2   | 2           | bar.jpg        |
| 3   | 1           | foo2.jpg       |
-------------------------------------- 
```

**我试过 MySQL 查询**

```
SELECT *
FROM `category`
INNER JOIN
(SELECT MAX(ID) , url, category FROM `images` GROUP BY `category`)
AS a ON category.ID = a.category
WHERE `parent` = '1' 
```

**结果是**

```
-------------------------------------------
| ID | parent | name  | url     | max(ID) |
-------------------------------------------
| 1  | 1      | foo   | foo.jpg | 3       |
| 2  | 1      | bar   | bar.jpg | 2       |
------------------------------------------- 
```

**问题是**

我想在这里添加最后一行的 url，但与第一行一样，它不是 url = foo2.jpg 和 max(ID) = 3，而是 foo.jpg。我无法弄清楚查询中的问题。

我使用 max(ID) 获取最后一行，这为 max(ID) 提供了正确的最后一行，但不适合 url 列。

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2013-03-20T06:44:50.623

试试这个：

```
SELECT *
FROM `category`   AS c
INNER JOIN images AS i ON i.category = c.id
INNER JOIN
(
    SELECT  category, MAX(ID) AS MAXId
    FROM `images` 
    GROUP BY `category`
)AS a  ON i.category = a.category
      AND i.ID       = a.MaxID
WHERE c.`parent` = '1'; 
```

## [SQL 小提琴演示](http://www.sqlfiddle.com/#!2/b94b7/3)

问题是，您`GROUP BY category`在子查询和选择`MAX(ID) , url, category`中，它们既没有包含在聚合函数中，也没有包含在`GROUP BY`子句中，因此 MySQL 为这些列选择了任意值。这就是为什么你得到一致的结果。

为了解决这个问题，`JOIN`这两个表通常，然后在表`category`和一个子查询`images`之间添加一个额外的连接，该`images`子查询计算`MAX(id)`同`GROUP BY category`一个表的`images`。然后在 max = 到 original`images`的连接条件下将此子查询与表连接起来。`id``id`

这将只为您提供最后的那些图像细节`id`。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-20T07:09:59.397

以更短的方式

```
SELECT c.id,c.parent,c.name, MAX(c.ID) , url, category
    FROM `category` c
    INNER JOIN Images i on c.id=i.id and 
     c.id=(select max(id) from category) 
```

我认为这个查询对你有用..用 sql fiddle 测试过......用这个链接。 [http://sqlfiddle.com/#!2/5fe63/36](http://sqlfiddle.com/#!2/5fe63/36)

让我知道是否解决了

# c# - 如何过滤匹配字符串模式的组合框c#

> ID：15516942
> 
> 赞同：1
> 
> 时间：2013-03-20T06:42:55.747
> 
> 标签：c#

我的组合框包含来自数据库的 DBaaaaa、DBbbbbb、Dbccccc、FBaaaaa、FBcccc 等值。我希望当用户从组合框中选择一个值时，它应该匹配前缀（“DB”，“FB”）和所选值的长度。它必须根据匹配模式过滤组合框。

```
Regex filter = new Regex("^[a-zA-z][a-zA-z][a-zA-Z0-9]*"); 
```

例如，如果用户选择了 DBaaaaa。现在组合框应该包含从“DB”开始的所有值及其匹配长度。哪里像 DBbbbbb，Dbccccc。

如果我只是说如果数据库中有数千条记录，那么它的过滤数据类型。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-20T07:31:28.583

由于声誉低，我无法添加评论，所以我必须评论作为答案。为什么不创建两个组合框，只有在选择第一个字段时才填写第二个组合框。因此，您可以在代码中执行一个简单的 if else 语句。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-20T07:53:20.103

假设您在某处有完整的字符串列表，您可以在`ComboBox` `SelectedIndexChanged/SelectedValueChanged`事件中处理它

就像是：

```
private void comboBox1_SelectedIndexChanged(object sender, EventArgs e)
{
    var comboBox = sender as ComboBox;
    if (comboBox.SelectedItem != null)
    {
        string selectedItem = comboBox.SelectedItem.ToString();
        comboBox.Items = myDataSource.Where(x => x.StartsWith(selectedItem.Substring(0, 2))
                                              && x.Length.Equals(selectedItem.Length));
    }
} 
```

# python - 像这样的python打印

> ID：15516952
> 
> 赞同：0
> 
> 时间：2013-03-20T06:43:18.817
> 
> 标签：python, pretty-print

我想打印以下字典：

```
'test.com': {'@': {'NS': ['ns1.test.net', 'ns2.test.net']},
             'api': {'A': ['123.122.2.1','121.161.51.29','111.30.12.14']}} 
```

如下所示：

```
'test.com': {
    '@': {
        'NS': ['ns1.test.net', 'ns2.test.net']
         },
    'api': {
        'A': ['123.122.2.1','121.161.51.29','111.30.12.14']
         }
 } 
```

非常感谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-20T07:05:59.493

简单的解决方案`json`：

```
>>> import json
>>> data = {'test.com': {'@': {'NS': ['ns1.test.net', 'ns2.test.net']}, 'api': {'A': ['123.122.2.1', '121.161.51.29', '111.30.12.14']}}}
>>> print json.dumps(data,indent=4)
{
    "test.com": {
        "@": {
            "NS": [
                "ns1.test.net", 
                "ns2.test.net"
            ]
        }, 
        "api": {
            "A": [
                "123.122.2.1", 
                "121.161.51.29", 
                "111.30.12.14"
            ]
        }
    }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-20T06:47:15.643

你可以试试[pprint](http://docs.python.org/2/library/pprint.html)模块。

如果您不喜欢`pprint`提供的格式，那么您将需要编写自己的方法来打印对象。

# asp.net-mvc - mvc 应用程序不工作

> ID：15516954
> 
> 赞同：0
> 
> 时间：2013-03-20T06:43:30.213
> 
> 标签：asp.net-mvc, asp.net-mvc-2

我是 asp.net mvc 的新手。我正在使用 Asp.net mvc2 开发一个简单的应用程序。我创建了一个控制器，它将获取用户输入并显示它。当我运行我的应用程序时，它向我显示了这个错误。我的代码如下。

```
 Server Error in '/' Application.
  The resource cannot be found. 
```

**控制器**：

```
 [HttpPost]
    public ActionResult DisplayCustomer(Customer obj)
    {
        return View("DisplayCustomer",obj);
    } 
```

**查看**：

```
 <% using (Html.BeginForm("DisplayCustomer","test1",FormMethod.Post))
 { %>
 Enter customer id :- <%= Html.TextBox("Id",Model)%> <br />
 Enter customer code :- <%= Html.TextBox("CustomerCode",Model) %><br />
 Enter customer Amount :- <%= Html.TextBox("Amount",Model) %><br />
 <input type="submit" value="Submit customer data" />
<%} %> 
```

**型号**：

```
 public class Customer
{
    private string _Code;
    private string _Name;
    private double _Amount;

    public string Code
    {
        set
        {
            _Code = value;
        }
        get
        {
            return _Code;
        }
    }

    public string Name
    {
        get
        {
            return _Name;
        }
        set
        {
            _Name = value;
        }
    }

    public double Amount
    {
        set
        {
            _Amount = value;
        }
        get
        {
            return _Amount;
        }
    }
} 
```

我正在运行我的应用程序`/test1/DisplayCustomer`。我浏览了网络来解决它，但我没有得到任何解决方案。请让我知道我哪里出错了。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-20T06:54:42.560

删除 [HttpPost]

```
public ActionResult DisplayCustomer()
    {
        return View();
    } 
```

出于发布目的，还包括另一种操作方法：

```
 [HttpPost] 
 public ActionResult DisplayCustomer(Customer obj)
        {
           //Code for processing post data

           return View("DisplayCustomer",obj);
        } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-20T06:59:18.430

在控制器中试试这个：

```
public ActionResult DisplayCustomer()
    {
        return View();
    }

 [HttpPost]
    public ActionResult DisplayCustomer(Customer obj)
    {
        return RedirecttoAction("DisplayCustomer",obj);
    } 
```

在行动中试试这个：

```
<% using (Html.BeginForm("DisplayCustomer",FormMethod.Post))
 { %>
 Enter customer id :- <%= Html.TextBox("Id",Model)%> <br />
 Enter customer code :- <%= Html.TextBox("CustomerCode",Model) %><br />``
 Enter customer Amount :- <%= Html.TextBox("Amount",Model) %><br />
 <input type="submit" value="Submit customer data" />
<%} %> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-06-23T17:26:12.877

以上根本行不通。无论我做什么，Html.TextBox("Id", Model) 下都有一个红色波浪线。我必须删除 ,Model 才能使其工作，而且我不需要第一个操作或 [HttpPost] 并且效果很好。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-20T06:54:20.233

我感觉有点混乱。

这样想：

在你的控制器中，在这种情况下，你必须至少有两个动作，

一（GET 方法）- 应该是获取客户端对 PAGE 的请求并返回正确的 html（视图）的操作。这个动作应该用 [HttpGet] 和它的默认名称（现在使用它）和它的索引来装饰：

```
[HttpGet]
public ActionResult Index()
{
    return View();
} 
```

创建此文件后，请确保创建与该名称匹配的正确 View 文件，在本例中，Index.cshtml 在正确的 Views 文件夹中（如果您使用的是 Visual Studio，您只需右键单击控制器中的操作，然后然后是“添加视图”选项，它将为您执行此操作。

您应该关心的第二个操作是从页面中的表单获取请求的操作。这个和你已经写的很相似。

对于您的问题-从在控制器中创建索引操作开始，创建正确的视图文件，构建并运行-应该呈现 Index.cshtml。

我建议你阅读一些关于 HTTP GET/POST 方法和使用的一般材料，以及一些关于一般 MVC 概念的材料（MVC 是一种方法，一种使用方式——它不仅仅是 ASP.NET，它是一般的东西在编程世界中）。

希望有帮助。

# python - Python解析中文邮件解码错误

> ID：15516958
> 
> 赞同：2
> 
> 时间：2013-03-20T06:43:40.393
> 
> 标签：python, decode

我编写了一些 Python 代码来从 Gmail 服务器获取电子邮件。下面是代码：

```
self.M = imaplib.IMAP4_SSL(self.IMAP_SERVER, self.IMAP_PORT)
data = self.M.fetch(id,"(RFC822)")
if data[0] == 'OK':
    msg = email.message_from_string(data[1][0][1])
else:
    print 'Error!'
mail_subject = email.Header.decode_header(msg['subject'])[0][0]
print email.Header.decode_header(msg['subject'])
print '~~~separator~~~'
print mail_subject 
```

英文邮件主题显示正确：

```
[('[bonnshore.github.com] Page build successful', None)]

~~~separator~~~

[bonnshore.github.com] Page build successful 
```

但在中文之后：

```
[('\xd5\xe2\xca\xc7\xd6\xd0\xce\xc4\xb2\xe2\xca\xd4\xa3\xa1', 'gb2312')]

~~~separator~~~

╒Γ╩╟╓╨╬─▓Γ╩╘úí 
```

函数 isinstance() 显示字符的类型是'str'，所以我尝试了这个来解决它：

```
print unicode(mail_subject, 'gb2312') 
```

并发生错误：

```
File "C:\Python27\lib\encodings\cp437.py", line 12, in encode
return codecs.charmap_encode(input,errors,encoding_map)
UnicodeEncodeError: 'charmap' codec can't encode characters in position 0-6:
character maps to <undefined> 
```

我也尝试直接解码字符：

```
print mail_subject.decode("gb2312") 
```

我又遇到了同样的错误！

那么，如何解决这个问题？

非常感谢！:)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-20T07:15:34.960

您的第一次尝试显示为[mojibake](http://en.wikipedia.org/wiki/Mojibake)，因为您将原始 gb2312 打印到非 gb2312 控制台。`decode_header`完成工作的第一部分，即将看起来像的标题转换为`=?iso-8859-1?q?p=F6stal?=`可以显示给用户的内容。由于同一个标题可以包含多个字符集，因此您得到的是 ( `raw_data`, `charset`) 对的列表。

正如您猜对的那样，您应该使用 Unicode 构造函数将它们转换为 Unicode - 然后转换为 UTF-8 或任何适合您需要的东西。但是您的第二次尝试失败了，因为代码页 437 无法显示中文。您的第三个问题来自对工作方向的`decode`误解`encode`。Unicode 字符串被“编码”为外部编码。（但即使成功了，您仍然会回到将 gb2312 打印到终端的原始 mojibake。）

要测试结果，您需要正确创建一个 Unicode 字符串并检查它或将其打印到具有正确编码的文件中。例如：

```
>>> x = unicode('\xd5\xe2\xca\xc7\xd6\xd0\xce\xc4\xb2\xe2\xca\xd4\xa3\xa1', 'gb2312')
>>> import unicodedata
>>> map(unicodedata.name, x)  # see if it looks chinese
['CJK UNIFIED IDEOGRAPH-8FD9', 'CJK UNIFIED IDEOGRAPH-662F', 'CJK UNIFIED IDEOGRAPH-4E2D', 'CJK UNIFIED IDEOGRAPH-6587', 'CJK UNIFIED IDEOGRAPH-6D4B', 'CJK UNIFIED IDEOGRAPH-8BD5', 'FULLWIDTH EXCLAMATION MARK']
>>> print x                   # this works for me because I'm in a UTF-8 locale
这是中文测试！ 
```

您可以这样做来测试它是否适合您：

```
>>> with open('file.txt', 'w') as f:
...   f.write(x.encode('utf-8')) 
```

最后，请注意，获取第一项返回的`decode_header`方式不足以获取标头的整个值，因为它可以拆分为几个块。您需要将块连接到单个 Unicode 字符串中，最好通过组合`make_header`实用函数和`unicode`构造函数来完成：

```
subject_header = msg['subject']
subject = unicode(email.header.make_header(email.header.decode_header(subject_header))
# now proceed as before... 
```

必须调用`make_header`and感觉违反直觉`decode_header`，但这是当前的 API，[在 Python 3 中已修复](http://bugs.python.org/msg184896)。

# gwt - GWT 获取特定的文本框

> ID：15516959
> 
> 赞同：0
> 
> 时间：2013-03-20T06:43:42.950
> 
> 标签：gwt

我有一个复杂的用户界面，其中包含根据应用程序阶段删除/添加的面板。

对于具体事件，我想要的是获取某个文本框的值（如果已附加）。

问题是这个文本框没有唯一的实例，我唯一知道的就是它们的名字：“搜索”。有没有办法做到这一点？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-20T07:05:59.077

stackoverflow中有一个类似的[问题](https://stackoverflow.com/questions/13645031/how-to-get-a-textbox-by-its-name-in-gwt/13651975#13651975)，关注第二个答案。

```
$("input[name=first_name]") 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-20T08:52:14.067

此 gquery 代码返回所有附加`TexBoxes`的名称为“搜索”

```
import static com.google.gwt.query.client.GQuery.*;
...

List<TextBox> boxes = $("input[name=search]").widgets(TextBox.class); 
```

# html - 如何使用响应式网页设计为 div id 应用高度百分比

> ID：15516960
> 
> 赞同：1
> 
> 时间：2013-03-20T06:43:45.040
> 
> 标签：html, css, responsive-design

嗨朋友们。我正在做一个使用响应式网页设计的例子。我更改了 div 中图像的高度和宽度，但我无法更改 div 高度。这是固定的，不会改变。我不知道是什么原因。我试过'height:100%'，但该div中的内容没有显示。它只是显示空白页。我需要关于这个问题的帮助，因为它对我来说非常重要。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-20T08:23:36.533

子元素的高度百分比由其父元素的高度决定。如果父元素没有设置高度，子元素会认为如下：

`height: 100% of nothing.` *（没有什么是它的父元素的高度）* 100% 没有=没有。所以它不会为它设置一个高度。

如果您将父元素的高度*（如 Sheric 所解释）*设置为 100%，则会发生以下情况：

`height: 100% of 100 = 100%`，因此它将产生父级的整个高度。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-20T06:46:32.780

对于设置高度为 100%，父元素应该设置一个高度。尝试将 HTML 标记中所有父元素的高度设置为 100%。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-20T09:26:27.353

定义你的父元素`height: 100%;`，`html,body{height: 100%;}`然后给你`height: 100%;`的子元素。

# c# - 为什么没有像“as”关键字那样语法优雅的运算符也会引发异常？

> ID：15516969
> 
> 赞同：-2
> 
> 时间：2013-03-20T06:44:11.563
> 
> 标签：c#, .net

我发现 'as' 关键字非常优雅，但几乎没有我希望装箱/拆箱操作返回 null 的情况。

相比之下，默认的强制转换语法相当难看，而且这种差异通常会导致程序员将“as”视为默认行为的糖。

为什么没有我所描述的等价物？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-20T06:47:01.393

要仅比较类型，您可以使用[is 运算符](http://msdn.microsoft.com/en-us/library/scekt9xw%28v=vs.110%29.aspx)（取决于您的方案）

# mysql - 从两个表中选择多个 where 条件和多个 order 子句

> ID：15516975
> 
> 赞同：1
> 
> 时间：2013-03-20T06:44:17.447
> 
> 标签：mysql, sql, sql-order-by, where-clause

第一个表：帖子

```
ID   post    unix_timestamp  upvotes 
-----------------------------------
118  mmmm    1360662045       4 
119  kdkdk   1360662074       2
120  dkcjf   1360662012       3
121  dkcmv   1360662025       1 
```

和其他一些领域

第二个表：post_tags

```
ID   post_id   tagname  
-----------------------
1    118        #test
2    118        #iseeyou
3    119        #sleepy 
```

我运行的 MYSQL 查询。

```
SELECT p.id, p.post, p.timestampfull FROM posts p,
post_tags pt WHERE pt.tagname IN ('#test','#iseeyou')
AND p.post LIKE  '%united states%'
AND p.id = pt.post_id
GROUP BY p.id
HAVING COUNT( pt.tagname ) = 2
ORDER BY p.upvotes DESC , p.unix_timestamp DESC 
```

在我的搜索应用程序中，我正在尝试获取最近的行，这就是为什么`p.unix_timestamp`还根据搜索查询按降序排列投票，该搜索查询可以包含哈希标签或纯文本或两者兼有。

因此，如果用户搜索`#test #iseeyou united states`，它应该返回既包含标签又包含按时间戳排序的文本美国的帖子和赞成票。

另外，我希望获得更高票数的帖子优先于最新的帖子。

请告知我的查询是否正确？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-20T07:08:33.317

```
SELECT  p.*
FROM    posts p
        INNER JOIN
        (
            SELECT  a.ID
            FROM    posts a
                    INNER JOIN post_tags b
                        ON a.ID = b.post_ID
            WHERE   a.post LIKE '%mmmm%' AND
                    b.tagname IN ('#test','#iseeyou')
            GROUP   BY ID
            HAVING  COUNT(DISTINCT b.tagname) = 2
        ) sub ON p.ID = sub.ID
ORDER   BY p.upvotes DESC, p.unix_timestamp DESC 
```

*   [SQLFiddle 演示](http://www.sqlfiddle.com/#!2/ff7ed/7)

# sql-server - Tomcat JNDI数据源设置自己的数据库密码

> ID：15516977
> 
> 赞同：0
> 
> 时间：2013-03-20T06:44:25.410
> 
> 标签：sql-server, tomcat, datasource, jndi

目前我的系统运行如下外部 JNDI 连接：

在我的 context.xml 中：

```
<Context>
<WatchedResource>WEB-INF/web.xml</WatchedResource>
<Resource name="jdbc/sql" auth="Container" type="javax.sql.DataSource" maxActive="100" maxIdle="30" 
maxWait="10000" username="sa" password="sa" driverClassName="com.microsoft.sqlserver.jdbc.SQLServerDriver"
url="jdbc:sqlserver://localhost\sqlexpress:1433;databaseName=Agent_DB">                 
</Context> 
```

我的Java代码：

```
Context initContext = new InitialContext();
Context envContext  = (Context)initContext.lookup("java:/comp/env");
DataSource ds = (DataSource)envContext.lookup("jdbc/sql");          
if (envContext == null) throw new Exception("Error: No Context");
if (ds == null) throw new Exception("Error: No DataSource");
if (ds != null) conn = ds.getConnection();` 
```

如您所见，连接数据库的密码已在我的 context.xml 中设置。有什么办法可以在我的java代码中设置数据库密码？原因是由于安全问题，密码必须加密，所以我需要在我的 Java 代码中解密它才能获取连接（）。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-20T06:52:33.483

当然，只需将其从 context.xml 中删除并使用`DataSource.getConnection(username, password).`

# java - 使用 smsj api 发送 EMS 消息

> ID：15516979
> 
> 赞同：5
> 
> 时间：2013-03-20T06:44:28.943
> 
> 标签：java, sms, ems

我是java编程新手。我已经使用[**smsj api**](http://smsj.sourceforge.net/)通过 gsm 调制解调器将消息从 pc 发送到移动设备。我已经成功地能够使用 . 发送纯文本消息`SmsSender.sendTextSms(msg, reciever, sender)`以及使用`SmsSender.sendUnicodeTextSms("smsj हिन्दी मेसेज", reciever);`.

他们说它也支持EMS消息。我正在尝试通过它发送图片信息（黑白）和音频剪辑。但我无法弄清楚如何做到这一点。

[**文档**](http://smsj.sourceforge.net/apidocs/org/marre/sms/class-use/SmsMessage.html#org.marre.sms.ems)显示有一个`EmsMessage`实现的类`SmsMessage`但我找不到有关如何使用它的任何详细信息。我也浏览了它的论坛，但又找不到任何解决方案。

希望有人可以指导我。

这是我发送短信的代码..

```
public class SendMessage  {

    public void send() {
    try{
        SmsSender smsSender = SmsSender.getGsmSender("COM14");
            String msg ="smsj test message";        
            String reciever = "919790968633"; 
            String sender ="919176968289";      
            smsSender.connect();

            smsSender.sendTextSms(msg, reciever, sender);  //simple text message

                   smsSender.sendUnicodeTextSms("smsj हिन्दी मेसेज", reciever); //unicode message

            smsSender.disconnect();

    } catch(IOException i){
        i.printStackTrace();
        System.out.println("i");
    } catch(SmsException s){
        s.printStackTrace();
        System.out.println("s");
    }
    }

    public static void main(String args[]){
        SendMessage app = new SendMessage();
        app.send();
    }

} 
```

我尝试使用此代码发送 ems 消息.. 但它似乎是错误的。

```
 EmsMessage ems = new EmsMessage();
     ems.addText(msg);
     SmsMessage sms ;
     sms=ems;
     smsSender.sendSms(sms, reciever, sender); 
```

我收到此错误消息：

```
60 [main] INFO org.marre.sms.transport.gsm.SerialComm - >> AT+CMGF=0    
261 [main] INFO org.marre.sms.transport.gsm.SerialComm - << 
261 [main] INFO org.marre.sms.transport.gsm.SerialComm - << OK
Exception in thread "main" java.lang.NullPointerException
    at org.marre.sms.transport.gsm.GsmTransport.send(GsmTransport.java:175)
    at org.marre.SmsSender.sendSms(SmsSender.java:551)
    at org.marre.SendMessage.send(SendMessage.java:44)
    at org.marre.SendMessage.main(SendMessage.java:58) 
```

谁能帮我使用这个 EmsMessage 和 SmsMessage 类的正确语法是什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-20T07:41:56.507

[http://smsj.sourceforge.net/apidocs/org/marre/sms/ems/EmsMessage.html](http://smsj.sourceforge.net/apidocs/org/marre/sms/ems/EmsMessage.html)在这里你需要文档

[addElement](http://smsj.sourceforge.net/apidocs/org/marre/sms/ems/EmsMessage.html#addElement%28org.marre.sms.ems.EmsElement%29)应该添加图形、电影等。

[addText](http://smsj.sourceforge.net/apidocs/org/marre/sms/ems/EmsMessage.html#addText%28java.lang.String%29)这应该添加文本

# google-api - 获取两个日期之间的日历事件

> ID：15516985
> 
> 赞同：12
> 
> 时间：2013-03-20T06:44:48.460
> 
> 标签：google-api, google-calendar-api, google-api-php-client

如何获取两个特定日期之间的所有事件。例如，我只想获取`1st of March 2013`&之间的事件`28th of March 2013`。

我正在使用谷歌日历 API v3。而在 Google Calendar API v1 中，可以使用 start-min 和 start-max 在 2 个日期之间进行搜索。我想知道 Google Calendar API v3 中这两个参数的替代品是什么？

* * *

## 回答 #1

> 赞同：20
> 
> 时间：2013-03-20T09:02:20.450

好的，我得到了答案。Google API V3 中的新参数是`timeMin`&`timeMax`过滤两个日期之间的事件。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-20T06:59:09.267

**只需在获取事件提要之前将这两个参数添加到查询中：**

```
// Start date from where to get the events
$query->setStartMin('2013-01-01');
// End date
$query->setStartMax('2013-03-20'); 
```

希望这可以帮助。

# mysql - mysql SIGSEGV 多线程提升

> ID：15516987
> 
> 赞同：0
> 
> 时间：2013-03-20T06:44:55.693
> 
> 标签：mysql, boost-asio, segmentation-fault

我正在为我的套接字服务器应用程序使用 boost asio。每个连接都由一个 boost 线程处理。我在每个核心使用 io_service，每个 io_service 在一个工作线程中运行。

在我的连接中，我使用 mysql C apis 来查询数据库。当流量很高时，有时 mysql_query/close api 会执行 SIGSEGV。

有没有办法处理每个线程的 SIGSEGV，以便我的线程调用执行 SIGSEGV 的 mysql api，只处理其他线程不受影响的异常。

这是我收到的错误 Thread [17] 2844 [core: 0] (Suspended : Signal : SIGSEGV:Segmentation fault) 0x0 net_real_write() at 0x7ffff78d1ae5 net_flush() at 0x7ffff78d201b net_write_command() at 0x7ffff78d21d0 cli_advanced_command() at 0x7ffff78d1ae5 net_write_command() at 0x7ffff78d21d0 cli_advanced_command() mysql_send ) 在 0x7ffff78cd58d mysql_real_query() 在 0x7ffff78cd5a9

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-20T15:31:28.553

`SIGSEGV`是同步信号。因此，`SIGSEGV`发起的线程是将`SIGSEGV`在其信号处理程序中处理的目标线程。[此处](http://man7.org/linux/man-pages/man7/signal.7.html)记录了此行为：

> 由于执行特定机器语言指令而生成的某些信号（例如`SIGSEGV`和`SIGFPE`）是线程导向的，针对特定线程的信号也是如此`pthread_kill`

据我所知，没有办法在保持定义的行为的同时退出信号处理程序中的特定线程。为了保持定义的行为，只能从信号处理程序中进行以下调用：

```
abort()         accept()        access()      aio_error()     aio_return()
aio_suspend()   alarm()         bind()        cfgetispeed()   cfgetospeed()
cfsetispeed()   cfsetospeed()   chdir()       chmod()         chown()
clock_gettime() close()         connect()     creat()         dup()
dup2()          execl()         execle()      execv()         execve()
faccessat()     fchmod()        fchmodat()    fchown()        fchownat()
fcntl()         fdatasync()     fexecve()     fork()          fstat()
fstatat()       fsync()         ftruncate()   futimens()      getegid()
geteuid()       getgid()        getgroups()   getpeername()   getpgrp()
getpid()        getppid()       getsockname() getsockopt()    getuid()
kill()          link()          linkat()      listen()        lseek()
lstat()         mkdir()         mkdirat()     mkfifo()        mkfifoat()
mknod()         mknodat()       open()        openat()        pause()
pipe()          poll()          posix_trace_event()           pselect()
raise()         read()          readlink()    readlinkat()    recv()
recvfrom()      recvmsg()       rename()      renameat()      rmdir()
select()        sem_post()      send()        sendmsg()       sendto()
setgid()        setpgid()       setsid()      setsockopt()    setuid()
shutdown()      sigaction()     sigaddset()   sigdelset()     sigemptyset()
sigfillset()    sigismember()   signal()      sigpause()      sigpending()
sigprocmask()   sigqueue()      sigset()      sigsuspend()    sleep()
sockatmark()    socket()        socketpair()  stat()          symlink()
symlinkat()     tcdrain()       tcflow()      tcflush()       tcgetattr()
tcgetpgrp()     tcsendbreak()   tcsetattr()   tcsetpgrp()     time()
timer_getoverrun()              timer_gettime()               timer_settime()
times()         umask()         uname()       unlink()        unlinkat()
utime()         utimensat()     utimes()      wait()          waitpid()
write()         _exit()         _Exit() 
```

要获得定义的行为，请考虑将导致其的代码隔离`SEGSEGV`到自己的进程中。例如，为每个连接分叉和使用一个进程将`SIGSEGV`只允许终止错误产生的进程，而不会影响其他连接或引入未定义的行为。

# php - 下载 CSV 会在 Web 浏览器中打开，而不是在 Microsoft Excel 中打开

> ID：15516989
> 
> 赞同：0
> 
> 时间：2013-03-20T06:45:02.980
> 
> 标签：php, cakephp, csv

我正在使用 CakePHP 执行此代码：

查看文件

```
<?php
   if (isset($csv_filename)) {
      header("Content-Disposition: attachment; filename=$csv_filename");
   }
?>
<?=$csv?> 
```

当我运行此页面并下载文件（打开方式）时，它会在 Google Chrome 或 Firefox 等网络浏览器上打开。我希望使用打开此文件 ![在此处输入图像描述](../Images/88aa4a8204f3cb354d80618e127377b1.png)

**我的预期输出应该是这样的：**

![在此处输入图像描述](../Images/5334664493e74a9e37a1949eb7105400.png)

实际上，自从我们迁移到 CakePHP 2.2.2 之后，一切都运行良好。

对此有任何想法，您的帮助将不胜感激！谢谢 ：）

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-20T06:49:06.157

添加一个标题，告诉浏览器这是什么 mimetype，就像这样；

```
header('Content-Type: application/vnd.ms-excel; charset=utf-8') 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-20T10:43:25.923

要将文件下载为 CSV，请设置您的路由以检测 CSV。在您的 routes.php 文件中，确保您已为 CSV 设置解析扩展名：-

```
Router::parseExtensions('csv'); 
```

然后在您的控制器中设置 CSV 的文件名并确保您使用的是不输出标记的布局（例如默认的 ajax.ctp）：-

```
$this->response->download("$csv_filename.csv");
$this->layout = 'ajax'; 
```

还要确保您`RequestHandler`在控制器的组件列表中有：-

```
public $components = array('RequestHandler'); 
```

您只需要将您的操作模板放在控制器视图的 csv 目录中。

如果它仍然不起作用，那么可能有一些标记需要删除。Cake 的错误可以做到这一点。

# javascript - 是否有任何 JQuery API 来读取帖子值。？

> ID：15516998
> 
> 赞同：0
> 
> 时间：2013-03-20T06:45:46.273
> 
> 标签：javascript, jquery, post, submit

有一个由输入文本框和提交按钮组成的 html 页面（one.html）。

```
<form id="form1" method="post" action="two.html">
<input type="text" value="" id="searchText">
<input type="submit" value="Search">
</form> 
```

使用**method="post"**，我试图将用户输入的文本**传递/发布**到**two.html**。

是否有任何**Jquery API**可用于读取**two.html**中的值。

基本上我需要将用户输入的值插入到**two.html**中的 HTML 标记中。

提前致谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-20T06:59:46.467

您是否有理由需要使用 POST？使用 GET 可以很容易地做到这一点？但是意大利正在试验 POST，你将需要编写一个服务器端脚本。

虽然这可能更复杂，因为您需要运行一些东西（假设您在自己的机器上执行此操作）和执行脚本的东西，一旦您掌握了基础知识，这也很容易。有很多教程可以帮助您入门，但基本原理是

One.html（带有数据的帖子）-> 服务器脚本处理数据（使用流程数据重定向）-> two.html

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-20T06:54:53.837

你不需要 Jquery 来读取 two.html 中的发布值（如果我明白你的意思）.. 我不认为 jquery 可以从服务器读取文件，除非使用 ajax 或 javascript cookie 是其他选项.. 无论如何假设这就是你想要的..只需发布表单并`$_POST[]`在 php 中获取发布的值

```
<form id="form1" method="post" action="two.html">
 <input type="text" name="searchtext" value="" id="searchText">
 <input type="submit" value="Search">
</form> 
```

二.php

```
<?php
if(isset($_POST)
{
   echo '<div>'.$_POST['searchtext'].'</div>'
}
?> 
```

# .htaccess - 重写静态 URL

> ID：15516999
> 
> 赞同：-1
> 
> 时间：2013-03-20T06:45:49.350
> 
> 标签：.htaccess, mod-rewrite

我想要做的是将 URL 更改`www.abc.com/test.html`为`www.abc.com/context/`

我不知道，这是否可能。就像，我看到动态 URL 被更改，但我不知道这是否可能。我尝试了搜索引擎，但都在帮助转换动态 URL。

请用一个想法指导我，也许我可以继续其他想法。

谢谢您的帮助。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-20T06:59:29.423

使用以下重写规则创建 .htaccess。

```
RewriteEngine On
RewriteBase /    # if you are working on a localhost change RewriteBase /example-folder-name/
RewriteRule ^context(.*) test.html 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-20T06:53:42.473

试试这个

```
RewriteEngine On
RewriteBase /
RewriteRule ^context(.*) test.html 
```

系统税意味着，每当您点击链接时，`www.abc.com/context/`您都会看到来自`www.abc.com/test.html`