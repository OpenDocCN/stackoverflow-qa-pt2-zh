# StackOverflow 问答 15964000-15964999

# if-statement - if 条件为真时如何运行多个表达式？

> ID：15964005
> 
> 赞同：5
> 
> 时间：2013-04-12T05:50:27.380
> 
> 标签：if-statement, scheme

我是 Scheme 的新手，如果条件为真，我试图让 if 语句执行多个操作。我试过类似的东西：

```
(if (char=? (string-ref str loc) #\a)
        ((+ count 1) (+ reference 1))
        ~else action, etc.~ 
```

它抱怨我的行为，说

> 申请：不是程序

如果我删除括号，那么真实条件的操作是：

```
(+ count 1) (+ reference 1) 
```

它抱怨

> 如果：语法错误

并且根本无法运行。我错过了什么？

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2013-04-12T10:24:54.967

代码有两个问题。第一，一个`if`形式在结果式和备选式中不能有多个表达式。两种可能的解决方案 - 您可以使用`begin`（不仅仅是一对括号，用于过程应用程序）来包围多个表达式：

```
(if (char=? (string-ref str loc) #\a)
    ; needs an explicit `begin` for more than one expression
    (begin
      (+ count 1)
      (+ reference 1))
    ; needs an explicit `begin` for more than one expression
    (begin
      ~else action, etc~)) 
```

...或使用 a `cond`，这是一个更好的选择，因为它已经包含一个隐含的`begin`：

```
(cond ((char=? (string-ref str loc) #\a)
       ; already includes an implicit `begin`
       (+ count 1)
       (+ reference 1))
      (else
       ; already includes an implicit `begin`
        ~else action, etc~)) 
```

第二个问题更加微妙和严重，后续部分中的两个表达式可能都没有按照您的预期进行。这个：`(+ count 1)`什么都不做，增加的值丢失了，因为你在增加它之后没有使用它。与另一个相同：`(+ reference 1)`，但至少这里的值是作为条件表达式的结果返回的。您应该将两个递增的值传递给一个过程（可能作为递归的一部分）：

```
(cond ((char=? (string-ref str loc) #\a)
       ; let's say the procedure is called `loop`
       (loop (+ count 1) (+ reference 1)))
      (else
        ~else action, etc~)) 
```

或者直接在变量中更新增量的结果，尽管这不是在 Scheme 中编写解决方案的惯用方式（它看起来像 C、Java 等中的解决方案）：

```
(cond ((char=? (string-ref str loc) #\a)
       ; here we are mutating in-place the value of the variables
       (set! count (+ count 1))
       (set! reference (+ reference 1)))
      (else
        ~else action, etc~)) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-12T05:59:02.120

您可以使用`begin`对一组表达式进行分组以逐个执行。

```
(if (char=? (string-ref str loc) #\a)
        (begin (+ count 1) (+ reference 1))
        ~else action, etc.~ 
```

`begin`只返回最后一个表达式的值，即`(+ reference 1)`，所以`(+ count 1)`不使用 的值。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-12T10:48:43.597

如果您尝试在 的一侧执行多个带有副作用的操作`if`，那么您需要将它们放入 中`begin`，如下所示：

```
(if (char=? (string-ref str loc) #\a)
    (begin (set! count (+ count 1))
           (set! reference (+ reference 1)))
    ~else action, etc.~ 
```

如果您不想改变变量，而是想一次返回两个值，那么您需要将表达式组合成一个对象，如下所示：

```
(if (char=? (string-ref str loc) #\a)
    (cons (+ count 1) (+ reference 1)))
    ~else expression~ 
```

在这种情况下，要提取计数和引用，您需要将`car`and`cdr`应用于`if`- 或者您实际上可以返回多个值，如下所示：

```
(if (char=? (string-ref str loc) #\a)
    (values (+ count 1) (+ reference 1)))
    ~else expression~ 
```

在这种情况下，要提取计数和引用，您需要在调用`if`. 一种方法是使用`let-values`，可能是这样的：

```
(define count&ref
  (λ (str ch)
    (let loop ([loc 0] [count 0] [reference 0])
      ; whatever other stuff you're doing
      (if (char=? (string-ref str loc) ch)
          (values (+ count 1) (+ reference 1)))
          ~else expression~ )))

(let-values ([(new-count new-ref) (count&ref "some stuff" #\u)])
  ;in here, new-count and new-ref are bound to whatever count&ref returned
  ) 
```

另一方面，如果`count`和`reference`是您在循环中跟踪的变量，最简单的方法可能是在 中调用循环的下一次迭代`if`，如下所示：

```
(let loop ([loc 0] [count 0] [reference 0])
  ; whatever other stuff you're doing
  (if (char=? (string-ref str loc) #\a)
      (loop (+ loc 1) (+ count 1) (+ reference 1))
      ~else expression~ )) 
```

# excel - 如何使用变量制作 vlookup 范围？

> ID：15964006
> 
> 赞同：1
> 
> 时间：2013-04-12T05:50:28.237
> 
> 标签：excel, vba

```
line 1: ActiveCell = "=vlookup(a2:a18,sheet1!a2:l150,match(b1,sheet1!a2:l2,0),0)"

line 2: ActiveCell=  "=vlookup("a2:a"&i,sheet1!a2:l150,match(b1,sheet1!a2:l2,0),0)" 
```

值`i`是一个变量，比如说`i= 7`。

我希望第 2 行中的语法正常工作，但出现一些语法错误。请帮忙。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-12T05:59:48.180

它应该是

```
ActiveCell = "=vlookup(A2:A" & i & ",sheet1!a2:l150,match(b1,sheet1!a2:l2,0),0)" 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-12T06:03:11.347

```
ActiveCell = "=vlookup(a2:a" & i & ",sheet1!a2:l150,match(b1,sheet1!a2:l2,0),0)" 
```

您查找范围是否有原因？我自己从来没有做过，你应该使用下面的吗？

```
ActiveCell = "=vlookup(a" & i & ",sheet1!a2:l150,match(b1,sheet1!a2:l2,0),0,0)" 
```

# layout - 如何在 Android 平板电脑布局屏幕上使用 Twitter 和 OAuth

> ID：15964015
> 
> 赞同：1
> 
> 时间：2013-04-12T05:51:03.237
> 
> 标签：layout, twitter, oauth, screen, tablet

带有 OAuth 的 Twitter 在 Android 平板电脑布局屏幕上因为布局屏幕非常小。在三星标签上，我的标签代码上的屏幕尺寸太小了。

# mysql - 在 MySql 中插入 100000+ 条记录

> ID：15964018
> 
> 赞同：0
> 
> 时间：2013-04-12T05:51:22.947
> 
> 标签：mysql

我正在尝试在 mySql 数据库表上**插入记录....我在****CSV文件中有****80k**记录。所以，我创建了一个插入查询。当我试图在**浏览器（localhost/myphpadmin）**上触发查询时， 它向我显示**超时的“****致命**”错误......所以，我如何在表上插入整个数据？

 ******当我导入文本文件时

**错误：**

> 致命错误：超过 300 秒的最大执行时间

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-12T06:14:12.053

既然您在 localhost 上运行它.. 为什么不使用以下语法在 mysql db 本身中运行整个 sql 文件

```
mysql -u USERNAME -p -h localhost YOUR-DATA-BASE-NAME-HERE < YOUR-.SQL.FILE-NAME-HERE 
```

此外，对于在 phpmyadmin 中执行大型查询，您可以访问上一篇文章。 [如何通过 phpmyadmin 导入非常大的查询？](https://stackoverflow.com/questions/427297/how-to-import-a-very-large-query-over-phpmyadmin)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-12T05:53:35.453

插入表值（第 1 行值）、（第 2 行值）、.... Err 等******

# excel - 如何在vb 6.0中将listview的所有数据及其标题导出到excel表中

> ID：15964019
> 
> 赞同：0
> 
> 时间：2013-04-12T05:51:28.027
> 
> 标签：excel, vb6, export-to-excel

我在 VB 6.0 中将 ListView 控件的所有数据导出到 Excel 工作表。

我的代码如下：

```
Private Sub cmdExport_Click()

'general
Dim objExcel As New Excel.Application

 Dim objExcelSheet As Excel.Worksheet
'-----------------------------------

'check whether data is there
 If LstLog.ListItems.count > 0 Then
objExcel.Workbooks.Add
Set objExcelSheet = objExcel.Worksheets.Add

For Col = 1 To LstLog.ColumnHeaders.count
    objExcelSheet.Cells(1, Col).Value = LstLog.ColumnHeaders(Col)
Next

For Row = 2 To LstLog.ListItems.count
    For Col = 1 To LstLog.ColumnHeaders.count
    If Col = 1 Then
            objExcelSheet.Cells(Row, Col).Value = LstLog.ListItems(Row).Text
    Else
            objExcelSheet.Cells(Row, Col).Value = LstLog.ListItems(Row).SubItems(Col - 1)
    End If
    Next
 Next

objExcelSheet.Columns.AutoFit
CommonDialog1.ShowOpen
A = CommonDialog1.FileName

objExcelSheet.SaveAs A & ".xls"
MsgBox "Export Completed", vbInformation, Me.Caption

objExcel.Workbooks.Open A & ".xls"
objExcel.Visible = True
'objExcel.Quit
Else
MsgBox "No data to export", vbInformation, Me.Caption
End If

End Sub 
```

问题是 ListView 的第一行被 ListView 标题中的文本覆盖。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-12T09:15:36.677

由于某种原因，您没有复制所有行。尝试这个：

```
For Row = 2 To LstLog.ListItems.count + 1
    For Col = 1 To LstLog.ColumnHeaders.count
    If Col = 1 Then
            objExcelSheet.Cells(Row, Col).Value = LstLog.ListItems(Row - 1).Text
    Else
            objExcelSheet.Cells(Row, Col).Value = LstLog.ListItems(Row - 1).SubItems(Col - 1)
    End If
    Next
 Next Row 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-04-06T10:45:55.440

试试这个希望这会帮助你

```
Function Export2XLS(sQuery As String)
    Dim oExcel          As Object
    Dim oExcelWrkBk     As Object
    Dim oExcelWrSht     As Object
    Dim bExcelOpened    As Boolean
    Dim db              As DAO.Database
    Dim rs              As DAO.Recordset
    Dim iCols           As Integer
    Const xlCenter = -4108

    'Start Excel
    On Error Resume Next
    Set oExcel = GetObject(, "Excel.Application")    'Bind to existing instance of Excel

    If Err.Number <> 0 Then    'Could not get instance of Excel, so create a new one
        Err.Clear
        On Error GoTo Error_Handler
        Set oExcel = CreateObject("excel.application")
        bExcelOpened = False
    Else    'Excel was already running
        bExcelOpened = True
    End If
    On Error GoTo Error_Handler
    oExcel.ScreenUpdating = False
    oExcel.Visible = False   'Keep Excel hidden until we are done with our manipulation
    Set oExcelWrkBk = oExcel.Workbooks.Add()    'Start a new workbook
    Set oExcelWrSht = oExcelWrkBk.Sheets(1)

    'Open our SQL Statement, Table, Query
    Set db = CurrentDb
    Set rs = db.OpenRecordset(sQuery, dbOpenSnapshot)
    With rs
        If .RecordCount <> 0 Then
            'Build our Header
            For iCols = 0 To rs.Fields.Count - 1
                oExcelWrSht.Cells(1, iCols + 1).Value = rs.Fields(iCols).Name
            Next
            With oExcelWrSht.Range(oExcelWrSht.Cells(1, 1), _
                                   oExcelWrSht.Cells(1, rs.Fields.Count))
                .Font.Bold = True
                .Font.ColorIndex = 2
                .Interior.ColorIndex = 1
                .HorizontalAlignment = xlCenter
            End With
            oExcelWrSht.Range(oExcelWrSht.Cells(1, 1), _
                              oExcelWrSht.Cells(1, rs.Fields.Count)).Columns.AutoFit    'Resize our Columns based on the headings
            'Copy the data from our query into Excel
            oExcelWrSht.Range("A2").CopyFromRecordset rs
            oExcelWrSht.Range("A1").Select  'Return to the top of the page
        Else
            MsgBox "There are no records returned by the specified queries/SQL statement.", vbCritical + vbOKOnly, "No data to generate an Excel spreadsheet with"
            GoTo Error_Handler_Exit
        End If
    End With

    '    oExcelWrkBk.Close True, sFileName 'Save and close the generated workbook

    '    'Close excel if is wasn't originally running
    '    If bExcelOpened = False Then
    '        oExcel.Quit
    '    End If

Error_Handler_Exit:
    On Error Resume Next
    oExcel.Visible = True   'Make excel visible to the user
    rs.Close
    Set rs = Nothing
    Set db = Nothing
    Set oExcelWrSht = Nothing
    Set oExcelWrkBk = Nothing
    oExcel.ScreenUpdating = True
    Set oExcel = Nothing
    Exit Function

Error_Handler:
    MsgBox "The following error has occured" & vbCrLf & vbCrLf & _
           "Error Number: " & Err.Number & vbCrLf & _
           "Error Source: Export2XLS" & vbCrLf & _
           "Error Description: " & Err.Description _
           , vbOKOnly + vbCritical, "An Error has Occured!"
    Resume Error_Handler_Exit
End Function 
```

# php - 连接剑道网格列

> ID：15964021
> 
> 赞同：1
> 
> 时间：2013-04-12T05:51:32.560
> 
> 标签：php, kendo-ui, kendo-grid

我想做的是在剑道网格的单列中连接或合并两列。

我试图做到这一点，但到目前为止没有成功也搜索过它，但仍然没有得到如何做到这一点？

我想将两列或三列连接在一起，例如

```
First Name

Middle Name

Last Name 
```

全部应以单个显示

```
Full Name 
```

这是我的一些 kendogrid 代码。

```
$("#EmployeeGrid").kendoGrid({
        dataSource:{
            transport: {
                read: "<?php echo base_url() ?>index.php/hr_management/manage_hr/list_view"
            },
            schema:{
                data: "data"
            }
        },

        columns: [
            {
                field: "EmployeeID",
                hidden:true
            },
            {
                field:"LastName"
            },
            { field: "LastName"+"FirstName",
                title:"Full Name"
            },
            {
                field:"City",
                title:"City"
            },
            {
                field:"AddressLine1",
                title:"Address 1"
            },

            {
                field:"WorkPhone",
                title:"WorkPhone"
            },
            {
                field:"MobileNo",
                title:"Mobile No"
            },
            {command: { text: "View", click: showDetails }, title: " ", width: "140px"},
            {command: { text: "Edit", click: EditUserDetails }, title: " ", width: "140px"}
        ]
    });
}); 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-12T05:55:27.587

答案是使用[模板](http://docs.kendoui.com/api/web/grid#configuration-columns.template)列：

```
template:"#= FirstName # #= MidName # #= LastName #" 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2021-04-26T18:20:27.953

在 Angular 8 中工作的另一个示例：

```
<kendo-grid-column field="LastName" title="Last, First">
      <ng-template kendoGridCellTemplate let-dataItem>
       {{ dataItem.LastName}}, {{ dataItem.FirstName }}
    </ng-template>
</kendo-grid-column>
<kendo-grid-column field="MiddleName" title="Middle"></kendo-grid-column> 
```

# iphone - 异步下载图像

> ID：15964022
> 
> 赞同：0
> 
> 时间：2013-04-12T05:51:43.960
> 
> 标签：iphone, ios, asynchronous, xcode4.5, imagedownload

我正在使用给定代码从其各自的 url 下载图像，但由于某些问题，它无法正常工作，我无法诊断问题。请帮我解决这个问题。提前致谢。

```
-(void)createScrollViewControls
{
    [self removeAllControlsFromScrollView];

    totalNumberOfImages=[arrImages count];       

    __block int x=0;
    __block int y=0;
    __block int scroll=0;
    __block UIImage *tempimag=nil;

    if(totalNumberOfImages>0) //If product images are there
    {
//        imageScroll.contentSize=CGSizeMake(imageScroll.frame.size.width*totalNumberOfImages, IMAGEHEIGHT);

        for(int i=0;i<totalNumberOfImages;i++){

            NSLog(@"Value=%@",arrImages);

            UIActivityIndicatorView *activity= [[UIActivityIndicatorView alloc]initWithFrame:CGRectMake(77+scroll, 38, 30, 30)];
            [activity setBackgroundColor:[UIColor clearColor]];
            [activity setActivityIndicatorViewStyle:UIActivityIndicatorViewStyleGray];
            [imageScroll addSubview:activity];
            [activity startAnimating];              

            dispatch_queue_t concurrentQueue = dispatch_get_global_queue(DISPATCH_QUEUE_PRIORITY_DEFAULT, 0);
            dispatch_async(concurrentQueue, ^{

             NSURL *imageURL=[NSURL URLWithString:[arrImages objectAtIndex:i]];   

                NSData *tempData=[NSData dataWithContentsOfURL:imageURL];
                UIImage *tImage=[UIImage imageWithData:tempData];

                if (tImage==nil)
                {
                    tImage=[UIImage imageNamed:@"NoImage.png"];
                }
                dispatch_async(dispatch_get_main_queue(), ^{

                    tempimag= tImage;

                    UIImageView *imageView=[[UIImageView alloc] initWithFrame:CGRectMake(x, y, IMAGEWIDTH, IMAGEHEIGHT)];

            //if url is there but image not getting downloaded then show a static image
                    if (!tempimag)
                    {
                        imageScroll.contentSize=CGSizeMake(imageView.frame.size.width, IMAGEHEIGHT);

                        NSLog(@"no underlying data");
                        imageView.image = [UIImage imageNamed:kNoImageAvailable];
                        [imageScroll addSubview:imageView];
                       // totalNumberOfImages = 0;
                    }
                    else{

                        [activity stopAnimating];
                        imageScroll.contentSize=CGSizeMake(imageScroll.frame.size.width*totalNumberOfImages, IMAGEHEIGHT);
                        imageView.image=tempimag;
                        [imageScroll addSubview:imageView];
                        x=x+imageScroll.frame.size.width;

                    }    

                });

            });

/*
            UIImageView *imageView=[[UIImageView alloc] initWithFrame:CGRectMake(x, y, IMAGEWIDTH, IMAGEHEIGHT)];

     if (!tempimag)//if url is there but image not getting downloaded then show a static image
            {
                imageScroll.contentSize=CGSizeMake(imageView.frame.size.width, IMAGEHEIGHT);

                NSLog(@"no underlying data");
                imageView.image = [UIImage imageNamed:kNoImageAvailable];
                [imageScroll addSubview:imageView];
                totalNumberOfImages = 0;
                break;
            }
            else{
                imageScroll.contentSize=CGSizeMake(imageScroll.frame.size.width*totalNumberOfImages, IMAGEHEIGHT);
                imageView.image=tempimag;
                [imageScroll addSubview:imageView];
                x=x+imageScroll.frame.size.width;   
            }
        } */

            scroll+=184;
    }
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-12T06:37:34.040

这下面的代码行：

```
if (tImage==nil)
            {
                tImage=[UIImage imageNamed:@"NoImage.png"];
            } 
```

将始终使您的程序控制转到：

```
if (!tempimag)
                {
                    imageScroll.contentSize=CGSizeMake(imageView.frame.size.width, IMAGEHEIGHT);

                    NSLog(@"no underlying data");
                    imageView.image = [UIImage imageNamed:kNoImageAvailable];
                    [imageScroll addSubview:imageView];
                   // totalNumberOfImages = 0;
                } 
```

请删除提到的代码的第一部分并尝试一下。

# jquery - 如何获取以特定 ID 开头的复选框

> ID：15964029
> 
> 赞同：0
> 
> 时间：2013-04-12T05:51:58.937
> 
> 标签：jquery

我有多个复选框，但我想获取所有以 id 开头的复选框`'isActive_'`。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-12T05:54:05.373

下面的选择器将返回所有以 id 开头的复选框`isActive`

```
$("[id^=isActive][type=checkbox]") 
```

[jsfiddler](http://jsfiddle.net/m3gHG/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-12T05:53:58.100

像这样试试

```
var value = 'isActive_';
$(":checkbox[id^=" + value + "]") 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-12T05:54:54.253

多个相同的 ID 不是一个好方法.. 你可以使用类而不是 ID

```
$('.isActive').attr('checked',true) 
```

因此，如果您有 isActive_SOMETHING 的唯一 ID，那么您可以使用它

```
$("[id^=isActive]").attr('checked',true); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-12T06:05:42.890

尝试这个

```
$("input:checkbox[id^=isActive_]") 
```

# ruby-on-rails-3 - 基于时间的分页

> ID：15964037
> 
> 赞同：1
> 
> 时间：2013-04-12T05:53:04.033
> 
> 标签：ruby-on-rails-3, datetime, pagination, will-paginate, kaminari

我实际上正在寻找一种提供基于时间的分页的宝石。就像我有支付表一样，它有 :payment_schaduled_on 字段。管理员希望查看每周划分的条目。就像 Time.now 和 Time.now+1.week 之间的付款一样。

是否有任何分页 gem 提供这种类型的分页，或者我必须创建自己的分页。

提前致谢

# functional-programming - 我在球拍中的堆栈实现有什么问题？

> ID：15964039
> 
> 赞同：2
> 
> 时间：2013-04-12T05:53:07.533
> 
> 标签：functional-programming, stack, racket

我正在学习球拍和函数式编程的新手，并为堆栈编写了以下代码：

```
(define stack '(0))

(define (push x stack)
  (set! stack (cons x stack)))

(define (pop stack)
  (let ((result (car stack)))
    (set! stack (cdr stack))
     result)) 
```

当我做

```
(push 2 stack) 
```

没有错误。当我这样做时，`(pop stack)`我会返回 0。我做错了什么。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-12T06:28:24.090

您有一个全局`st`变量，但您在和中调用`set!`局部变量。您需要从函数中删除参数。如果您将参数重命名为其他内容（如），问题可能会更清楚。`push``pop``st``st``stack`

```
(define (push x stack)
  (set! stack (cons x stack)))   ; stack is mutated, but st remains unchanged 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-12T06:30:11.700

您正在使用全局状态，即`st`并将`st`作为参数传递给 push，这导致本地`st`in push 被更新而全局`st`保持不变`'(0)`。

您可以通过摆脱全局来解决这个问题，`st`如下所示：

```
 (define (push x st)
      (cons x st))

    (define (pop st)
      (values (car st) (cdr st))) 
```

用法：

```
 (let ((stack '(0)))
      (define-values (v s) (pop (push 2 stack)))
      v) 
```

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2020-11-11T22:51:49.780

这是我的版本/实现：

```
(define stack empty)

(define (push x)
  (set! stack (append stack (list x))))

(define (pop)
  (define reversedStack (reverse stack))
  (define result (car reversedStack))
    (set! stack (reverse (cdr reversedStack)))
     result) 
```

# c++ - 派生类是否包含其基类的成员变量？

> ID：15964041
> 
> 赞同：-1
> 
> 时间：2013-04-12T05:53:14.143
> 
> 标签：c++, oop

假设我有一个基类 foo：

```
class foo {
   foo(int n) : child(n) {};

  protected:
   int child;
} 
```

现在我有一个子类吧：

```
class bar : public foo {
  bar(int n) : foo(n) { }
} 
```

bar 是否有数据成员 child？如果是，它是否被初始化为 n？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-12T06:00:55.183

是和不是。继承意味着 a`bar`是 a `foo`，可能还有更多。在您的情况下，该“位”只是`bar`. 在 C++ 中，继承以 a`bar`包含类型的子对象的方式实现`foo`。并且由于该子对象具有`child`，因此也`bar` *间接*具有该子对象`child`。它*直接*只包含一个`foo`和一个构造函数。由于您`foo`在构造函数中初始化了子对象，然后又初始化了它`child`，因此`bar`构造函数确实`child`间接初始化了。

除了访问修饰符，您可以`child`通过以下方式轻松访问它`bar`：

```
bar b;
b.child = 5; 
```

但由于`child`在 中受保护`foo`，您无法从外部访问它，但您可以从`bar`的方法中访问：

```
class bar : public foo {
  bar(int n) : foo(n) { }
  void baz() { child = 42; } //this is allowed.
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-12T05:55:49.680

简单的答案是肯定的，这很容易检查。

如果你说：

```
class bar : public foo {
  bar(int n) : foo(n) { }
  print_child() {std::cout << child << std::endl;}
}

int main() {
  bar test(5);
  test.print_child();
  return 0;
} 
```

你会看到它打印出 5。

你在这里问的是OO的一些核心，公共继承是一种关系。这意味着这意味着您的`bar`is-a`foo`也意味着 bar 对象将携带所有 foos 成员。

这当然并不意味着您可以访问所有`foo`s 成员。您已经使用了该类的`public`and`protected`部分。`private`但是即使是其子类也无法访问该部分中的所有成员。这通常是为了隐藏基类用户的实现细节。

正如您在以初始化基对象成员的方式调用超类构造函数时所观察到的那样。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-12T05:55:52.053

这两个问题的答案都是肯定的。bar 是一个 foo ，因此具有 foo 的所有成员。bar 的构造函数调用 foo 的构造函数并为 child 设置值。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-12T05:56:06.327

例如：`bar bobj(10);`将 have并且在这种情况下`child`将使用 say 初始化。`10`

bar 的构造函数将调用 foo 的构造函数并传递 n，然后 foo 的构造函数将使用 初始化变量`n`。

继承意味着基类具有派生类具有的任何内容。创建对象时的数据成员。以及`static`对象、静态方法和非静态方法。

当您在 C++ 中定义新类型时，您将定义该类型应具有哪些数据、应允许对该数据进行哪些操作以及应如何构造该类型及其数据。

当必须基于另一种类型创建类型时，继承将有所帮助。

# postgresql - Postgres 使用 FOREIGN TABLE 并且数据包括“\”

> ID：15964043
> 
> 赞同：0
> 
> 时间：2013-04-12T05:53:15.370
> 
> 标签：postgresql, foreign-data-wrapper

我的文本文件如下所示：

```
\家\斯坦利：123456789
c:/神户:213
\tej\家\蚂蚁：222312

```

并创建 FOREIGN TABLE 步骤：

```
CREATE FOREIGN TABLE file_check(txt text) SERVER file_server OPTIONS (format 'text', filename '/home/stanley/check.txt');

```

在选择 file_check 之后（使用：select * from file_check）

我的控制台向我展示

```
霍斯坦利：123456789
c:/神户:213
ejhomeant:222312

```

任何人都可以帮助我吗？？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-12T07:53:14.787

文件 foreign-data-wrapper 使用与 COPY 相同的规则（可能是因为它下面的代码相同）。你必须考虑到反斜杠是一个转义字符......

[http://www.postgresql.org/docs/9.2/static/sql-copy.html](http://www.postgresql.org/docs/9.2/static/sql-copy.html)

> 上表中未提及的任何其他反斜杠字符将被视为代表自身。但是，请注意不要添加不必要的反斜杠，因为这可能会意外生成与数据结束标记 (.) 或空字符串（默认为 \N）匹配的字符串。这些字符串将在任何其他反斜杠处理完成之前被识别。

因此，您要么需要将反斜杠加倍，要么将其作为单列 csv 文件尝试，看看是否有帮助

# networking - 使用 IP 地址是否比使用域名更快？

> ID：15964050
> 
> 赞同：8
> 
> 时间：2013-04-12T05:53:38.487
> 
> 标签：networking, dns, ip

假设域映射到的 IP 地址是已知的，那么使用这个已知的 IP 地址而不是使用域有什么好处？是什么决定了跟踪路由决策？因为 DNS 服务器将域名转换为 IP 地址，所以我不得不说使用 IP 地址更快，尽管不明显。但是，由于 DNS 服务器处理这些请求的数量很大，并且可能会缓存最受欢迎的站点，所以我也不得不说 DNS 服务器可能知道到服务器的最快路由，这将导致域稍微快一些。我知道当我问哪个可能更快时，这个量化可能是纳秒或微秒级的。

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-04-12T06:02:10.157

从技术上讲，是的。至少是第一次。您的计算机第一次询问互联网“此域名位于何处？” 并且那里的某些机器以其IP地址响应。
但是，当它收到此响应时，它会保留一份副本（称为缓存），因此它不必再次询问一段时间（这些事情可以改变，但很少这样做）

因此，如果您的计算机当前缓存了 IP，那么它们是相等的。如果您目前没有它，IP 会更快，但只是几天后的第一次，只有几秒钟

至于如何选择最快路线的问题。有几种路由协议，其中大多数考虑了几个不同的因素，包括连接负载、带宽、延迟、抖动和距离。其他几个也是可能的。长话短说，互联网的路由器不断地告诉对方某某链接已断开，或者我刚刚连接了一个新地址，它们有路由器运行的算法来确定哪种方式最好。

注意 附带说明的是，IP 不会总是让您访问某个网站：例如托管在托管服务上的网站。他们很少有自己的特定 IP 地址，但对许多不同站点的请求可能会进入一个 IP。在这种情况下，被请求的域名用于确定将哪个站点返回给请求者

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-04-12T06:04:58.900

你给出的两个例子都是正确的。直接输入 IP 地址将绕过 DNS 查找的需要，但是如果您将 IP 地址用于将您带到世界另一端而不是附近的服务器的流行网站，那么这样做所获得的优势可能毫无意义。最终，您不会获得足够的好处来让它值得您花时间，特别是因为您的计算机将缓存您从 DNS 查找中收到的响应，从而使差异为 0。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2020-05-21T00:26:12.320

@PsychoData 很好地回答了这个问题，但我认为这里有几件事值得注意并重申：

*   使用 IP 时，您会绕过 DNS，这将在第一次调用时为您节省 DNS 解析时间，直到 TTL（生存时间）到期。TTL 通常为 1 小时。在大多数应用程序中，这种差异通常并不值得注意。如果你只打一个电话，你不会注意到毫秒延迟。如果您拨打多个电话，第一个电话之后的所有电话都不会有延迟。
*   输入名称与 IP 时，您可以调用多个不同的网络守护程序，包括 NetBIOS (\ServerX)、DNS FQDN (\ServerX.domain.com)、DNS 短名称 (\ServerX，它*可能*会自动延长或猜测为 FQDN \ServerX。 domain.com 由您的操作系统或 DNS 服务器）
*   Microsoft 有两种主要的 SMB 共享身份验证机制：NTLMv2（NTLMv1 和 CHAP 不安全）和 Kerberos。根据您的客户端、服务器和身份验证服务器（如果正在使用 Active Directory）上的大量配置以及您调用名称的方式，您可能会得到其中一个。Kerberos 通常比 NTLMv2 更快，至少对于重复调用而言，因为它获取并保留身份验证令牌，并且不需要每次都通过密码哈希重新进行身份验证。
*   NetBIOS 使用与 DNS 不同的端口，这可能会由于 ACL/路由器/防火墙而影响网络延迟。
*   NetBIOS 实际上可以为您提供与 DNS 不同的答案，因为它是一个不同的解析系统。通常，在子网上启动的第一台 PC 将充当 NetBIOS 服务器，而新服务器可以随机向网络声明自己为新的 NetBIOS 主机。此外，\FileShareServer.domain.com 不会在 NetBIOS 查找中返回，因为它不是机器名称 (ServerX)，而是 DNS 别名。

可能还有更多我在这里遗漏的东西，但我想你知道这里有很多因素在起作用。

# php - 如何在 PHP 和 MySQL 中为多个用户动态地从数据库中获取数据

> ID：15964051
> 
> 赞同：0
> 
> 时间：2013-04-12T05:53:42.123
> 
> 标签：php, sql

这个问题至少对我来说有点复杂。好吧，我正在做一个项目，需要更多帮助..

实际上我有一个模块，当 1 个用户登录时，他从 1 个表中获取有限的数据并更新其记录。完成了！

第二件事，问题：我有 5 个用户将登录并处理数据。

但是没有用户应该得到相同的数据，就像我们有 1000 条记录一样。

然后当第一个用户登录时：他从 1 到 10 得到 10 条记录。第二个用户登录：他得到下一个 10；11- 20\. 以此类推..

以及第二天他们登录的时间；他们从 51 处获得记录。因为 5 位用户最后一天处理了前 50 条数据记录。

我的问题是如何实现这两个目标？

我需要一个框架吗？

还是可以使用简单的 php n sql 来完成？

任何支持都会对我有所帮助。:)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-12T10:00:18.203

行。这只是一个原始答案，可以为您提供更好的主意。这就是您插入登录名的方式。

考虑有一个包含以下字段的表，

表名：Temp_Table

用户，assign_rows_last_no，date_assigned

```
<?php
$con=mysqli_connect("example.com","hiren","abc123","my_db");

// These things can be included into a single file say config.php and including in every file so that you dont need to specify connection string everytime.

if (mysqli_connect_errno())
 {
    echo "Failed to connect to MySQL: " . mysqli_connect_error();
     } 

//This query required to be included into the file, which is exactly after login.php

$sql = mysqli_query($con,"SELECT assigned_rows_last_no FROM Temp_Table ORDER BY assigned_rows_last_no DESC LIMIT 1");
// This is because I want the last row number assigned to the user.

IF ($sql == 0) // Check whether the return answer is NULL or not.
{
    // If the result is empty than add new entry of the user with defined row number.
    // Suppose that current username can be retrieved from SESSION and stored into a variable.

    $insertquery = mysqli_query($con, "INSERT INTO Temp_Table Values ('" . $username . $"', 10, CURDATE()");
    mysqli_close($con);
}
else
{
    // Select the last entry of row and add 10 to it. Ex. User2 has been assigned to 11-20, table contains 20 in the row of user2, now user3 comes, this query will select the row_no, add 10 and insert again into the table (i.e. value 30 which means 21-30.)

    settype($sql, "int");
    $sql = $sql + 10;
    $insertquery = mysqli_query($con, "INSERT INTO Temp_Table Values ('" . $username . $"', '" . $sql . "', CURDATE()");
    mysqli_close($con);
}

mysqli_close($con);
?> 
```

日期字段将帮助您识别今天的条目，以便您可以设置“同一天同一用户不应有重复条目”的逻辑

现在，创建自己的页面，检查上述内容，并将行分配给用户。

注意：此代码只能为您清除逻辑，我不确定它是否可以在没有任何更改的情况下在您的代码中工作。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-12T06:00:22.650

您不需要额外的框架。只需使用 php 'n' sql 完成！为什么不将最后编辑的行（行号）保存在额外的 SQL 表中？也许使用用户名/用户 ID。

# python - 和有什么区别！和 ！！在yaml中？

> ID：15964056
> 
> 赞同：5
> 
> 时间：2013-04-12T05:54:04.460
> 
> 标签：python, opencv, yaml

我正在尝试加载如下所示的 YAML：

```
dist: !!opencv-matrix
   rows: 380
   cols: 380
   dt: f
   data: [ 0., 0., -1.88644529e+18, 2.45423365e+00, 11698176.,
       2.03862047e+00, -8.85501460e+10, 2.54738545e+00, 1.71208843e+20,
       ...
       2.44447327e+00 ] 
```

加载代码只是：

```
import yaml
y = yaml.load(s) 
```

其中 s 是加载到字符串中的 YAML。

我收到此错误：

```
yaml.constructor.ConstructorError: could not determine a constructor for the tag 'tag:yaml.org,2002:opencv-matrix'
  in "<string>", line 382, column 7:
    dist: !!opencv-matrix 
```

这很公平，所以我为该标签添加了构造函数：

```
def opencv_matrix(loader, node):
    mapping = loader.construct_mapping(node)
    mat = np.array(mapping["data"])
    mat.resize(mapping["rows"], mapping["cols"])
    return mat

yaml.add_constructor(u"!!opencv-matrix", opencv_matrix)
y = yaml.load(s) 
```

我仍然得到错误。但是，如果我用 !opencv_matrix 替换 !!opencv_matrix，那么一切正常。

这里发生了什么？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-04-12T06:48:05.610

像这样的二级标签`!!opencv-matrix`实际上是`tag:yaml.org,2002:opencv-matrix`（在[参考卡](http://www.yaml.org/refcard.html)中提到的）的简写。看起来 PyYAML 的`add_constructor`方法没有正确处理这个速记符号。

这可能是一个错误，具体取决于二级标签的解释方式（参见下面的第二部分）。我已经[在这里](https://bitbucket.org/xi/pyyaml/issue/18/pyyaml-does-not-change-to-tag-yamlorg-2002)提交了一个错误报告，希望它会得到解决。

像这样的主要标签`!opencv-matrix`是明确定义的，并且在 PyYAML 中加载似乎没有任何问题。

如果您在通话中`!!opencv-matrix`替换为，它对我有用。`tag:yaml.org,2002:opencv-matrix``add_constructor`

* * *

至于最初的问题，AFAIK 主要标签 ( `!`) 用于用户定义的类型，而辅助标签 ( `!!`) 旨在表示[此处定义](http://yaml.org/type/)的与语言无关的标准类型（因此采用长而奇特的格式）。

如果这是一个 OpenCV 生成的文件，那么如果将这些标签更改为应用程序中的主标签，可能会更简单。

# java - 使用 DOM 解析器从 XML 文档中创建 JTree

> ID：15964060
> 
> 赞同：1
> 
> 时间：2013-04-12T05:54:16.290
> 
> 标签：java, xml, swing, dom, jtree

```
package xml;

import javax.xml.parsers.*;
import org.w3c.dom.*;
import org.xml.sax.*;
import javax.swing.*;
import javax.swing.tree.DefaultMutableTreeNode;

import java.io.*;

public class ThirdParser extends JFrame{
    DocumentBuilderFactory factory;
    DocumentBuilder builder;
    File f;
    Document d;
    JTree tree;
    JScrollPane scroll;
//------------------------------------------------------------------------------
    public static void main(String[] args) {
        SwingUtilities.invokeLater(new Runnable(){
            @Override public void run(){
                new ThirdParser();
            }
        });
    }
//------------------------------------------------------------------------------
    public ThirdParser(){
        try{

            factory = DocumentBuilderFactory.newInstance();
            builder = factory.newDocumentBuilder();
            f = new File("E:/Website Projects/XML/helloWorld.xml");
            d = builder.parse(f);
            String people = "people";
            DefaultMutableTreeNode node = new DefaultMutableTreeNode(people);
            tree = new JTree(node);
            Element e = d.getDocumentElement();

            if(e.hasChildNodes()){
                DefaultMutableTreeNode root = new DefaultMutableTreeNode
                                                            (e.getTagName());
                NodeList children = e.getChildNodes();
                for(int i=0;i<children.getLength();i++){
                    Node child = children.item(i);
                    visit(child,root);
                }
            }
        }catch(ParserConfigurationException e){
            e.printStackTrace();
        }catch(SAXException e){
            e.printStackTrace();
        }catch(IOException e){
            e.printStackTrace();
        }
//      scroll = new JScrollPane(tree);

        this.add(tree);
        this.setVisible(true);
        this.pack();
        this.setDefaultCloseOperation(EXIT_ON_CLOSE);

    }
//------------------------------------------------------------------------------
    public void visit(Node child,DefaultMutableTreeNode parent){
        short type = child.getNodeType();
        if(type == Node.ELEMENT_NODE){
            Element e = (Element)child;
            DefaultMutableTreeNode node = new DefaultMutableTreeNode
                                        (e.getTagName());
            parent.add(node);

            if(e.hasChildNodes()){
                NodeList list = e.getChildNodes();
                for(int i=0;i<list.getLength();i++){
                    visit(list.item(i),node);
                }
            }

        }else if(type == Node.TEXT_NODE){
            Text t = (Text)child;
            String textContent = t.getTextContent();
            DefaultMutableTreeNode node = new DefaultMutableTreeNode(
                    textContent);
            parent.add(node);
        }
    }
//------------------------------------------------------------------------------
} 
```

这是我解析 XML 文档并将其表示为`JTree`. 问题是我只得到根节点`JTree`而没有别的。我尝试使用与此类似的代码来遍历目录结构，并且有效。我不知道为什么这没有给我我期望的结果。

### 图片

![在此处输入图像描述](https://i.stack.imgur.com/JR9TQ.png)

### XML

```
<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE people SYSTEM "validator.dtd">

<people>
    <student>
        <name>John</name>
        <course>Computer Technology</course>
        <semester>6</semester>
        <scheme>E</scheme>
    </student>

    <student>
        <name>Foo</name>
        <course>Industrial Electronics</course>
        <semester>6</semester>
        <scheme>E</scheme>
    </student>
</people> 
```

*注意：如果我输入打印元素和文本节点`System.out.println()`的`visit()`方法，它会打印得很好。只是没有添加节点。*

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-12T06:13:48.510

看起来您正在将子节点添加到错误的父节点。树根已设置`tree = new JTree(node);`，但随后您添加了`DefaultMutableTreeNode root = new DefaultMutableTreeNode(e.getTagName());`根本不属于树的子级。快速修复将发生变化：

```
visit(child,root); 
```

至

```
visit(child,node); 
```

或者`node.add(root);`在访问完所有节点后执行。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2014-04-13T18:33:05.197

试试[这个](http://ibbtek.altervista.org/XML2JTree)，它应该工作：

```
import java.awt.BorderLayout;
import java.awt.GridLayout;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;
import java.io.IOException;
import javax.swing.JButton;
import javax.swing.JFileChooser;
import javax.swing.JFrame;
import javax.swing.JOptionPane;
import javax.swing.JPanel;
import javax.swing.JScrollPane;
import javax.swing.JTree;
import javax.swing.filechooser.FileNameExtensionFilter;
import javax.swing.tree.*;
import javax.xml.parsers.DocumentBuilder;
import javax.xml.parsers.DocumentBuilderFactory;
import javax.xml.parsers.ParserConfigurationException;
import org.w3c.dom.*;
import org.xml.sax.SAXException;

/**
 * XmlJTree class
 * @author Ibrabel
 */
public final class XmlJTree extends JTree{

    DefaultTreeModel dtModel=null;

    /**
     * XmlJTree constructor
     * @param filePath
     */
    public XmlJTree(String filePath){
        if(filePath!=null)
        setPath(filePath);
    }

    public void setPath(String filePath){
        Node root = null;
        /*
            Parse the xml file
        */
        try {
            DocumentBuilderFactory factory=DocumentBuilderFactory.newInstance();
            DocumentBuilder builder = factory.newDocumentBuilder();
            Document doc = builder.parse(filePath);
            root = (Node) doc.getDocumentElement();
        } catch (IOException | ParserConfigurationException | SAXException ex) {
            JOptionPane.showMessageDialog(null,"Can't parse file",
                            "Error", JOptionPane.ERROR_MESSAGE);
            return;
        }
        /*
            if any result set the appropriate model to the jTree
        */
        if(root!=null){
            dtModel= new DefaultTreeModel(builtTreeNode(root));
            this.setModel(dtModel);
        }
    }

    /**
     * fullTreeNode Method
     * construct the full jTree from any xml file
     * this method is recursive
     * @param root
     * @return DefaultMutableTreeNode
     */
    private DefaultMutableTreeNode builtTreeNode(Node root){
        DefaultMutableTreeNode dmtNode;

        dmtNode = new DefaultMutableTreeNode(root.getNodeName());
            NodeList nodeList = root.getChildNodes();
            for (int count = 0; count < nodeList.getLength(); count++) {
                Node tempNode = nodeList.item(count);
                // make sure it's element node.
                if (tempNode.getNodeType() == Node.ELEMENT_NODE) {
                    if (tempNode.hasChildNodes()) {
                        // loop again if has child nodes
                        dmtNode.add(builtTreeNode(tempNode));
                    }
                }
            }
        return dmtNode;
    }

    public static void main(String[] args) {
        /*
            Create simple frame for the example
        */
        JFrame myFrame = new JFrame();
        myFrame.setTitle("XmlJTreeExample");
        myFrame.setSize(300, 500);
        myFrame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
        myFrame.setLocationRelativeTo(null);
        JPanel pan = new JPanel(new GridLayout(1, 1));
        /*
            Add jTree
        */
        final XmlJTree myTree = new XmlJTree(null);
        myFrame.add(new JScrollPane(myTree));
        /*
            Add a button to choose the file
        */
        JButton button = new JButton("Choose file");
        button.addActionListener(new ActionListener(){

            @Override
            public void actionPerformed(ActionEvent ae) {
                JFileChooser chooser = new JFileChooser();
                FileNameExtensionFilter filter = new FileNameExtensionFilter(
                        "XML file", "xml");
                chooser.setFileFilter(filter);
                int returnVal = chooser.showOpenDialog(null);
                if(returnVal == JFileChooser.APPROVE_OPTION) {
                    myTree.setPath(chooser.getSelectedFile().getAbsolutePath());
                }
            }
        });
        pan.add(button);
        /*
            Add the JPanel to the JFrame and set the JFrame visible
        */
        myFrame.add(pan,BorderLayout.SOUTH);
        myFrame.setVisible(true);
    }
} 
```

# java - 启动所有捆绑包后如何调用osgi应用程序的启动方法？

> ID：15964061
> 
> 赞同：0
> 
> 时间：2013-04-12T05:54:18.070
> 
> 标签：java, osgi, equinox

我有一个在 Equinox 上运行的 osgi 应用程序。这就是在引导类中启动捆绑包的方式。

```
String[] equinoxArgs = new String[]{"-console"};
EclipseStarter.setInitialProperties(getInitialProperties());
BundleContext context = EclipseStarter.startup(equinoxArgs, null);
List<URL> urls = getListOfBundleUrls();
   for(URL url: urls) {
       Bundle bundle = context.installBundle(url.toString());
       bundle.start();
   } 
```

我的应用程序中有一个捆绑包中有一个启动方法。这个方法应该在所有的bundle 都被启动来运行应用程序之后被调用。当在引导类中调用该方法时，它会给出一个错误，指出在类路径中找不到某些类。这是堆栈跟踪。

```
Initial SessionFactory creation failed.org.hibernate.service.classloading.spi.ClassLoadingException: Specified JDBC Driver com.mysql.jdbc.Driver class not found
Exception in thread "main" java.lang.ExceptionInInitializerError
at com.cc.erp.platform.dbutils.services.BasicDBManager.buildSessionFactory(BasicDBManager.java:26)
at com.cc.erp.platform.dbutils.services.BasicDBManager.<clinit>(BasicDBManager.java:12)
at com.cc.erp.platform.dbutils.DBAgent.getNewCRUDService(DBAgent.java:19)
at com.cc.erp.reload.core.WebService.forQuery(WebService.java:51)
at com.cc.erp.reload.ui.CommandLineUserInterface.<init>(CommandLineUserInterface.java:27)
at com.cc.erp.helius.bootstrap.Bootstrap.launchHelius(Bootstrap.java:41)
at com.cc.erp.helius.bootstrap.Bootstrap.main(Bootstrap.java:22)
Caused by: org.hibernate.service.classloading.spi.ClassLoadingException: Specified JDBC Driver com.mysql.jdbc.Driver class not found
at org.hibernate.service.jdbc.connections.internal.DriverManagerConnectionProviderImpl.configure(DriverManagerConnectionProviderImpl.java:107)
at org.hibernate.service.internal.StandardServiceRegistryImpl.configureService(StandardServiceRegistryImpl.java:75)
at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:159)
at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:131)
at org.hibernate.engine.jdbc.internal.JdbcServicesImpl.buildJdbcConnectionAccess(JdbcServicesImpl.java:223)
at org.hibernate.engine.jdbc.internal.JdbcServicesImpl.configure(JdbcServicesImpl.java:89) 
```

包 com.mysql.jdbc 在 osgi 运行时中导出。但它不在引导类路径中。我相信应该从框架本身调用这个方法。请告诉我最好的方法。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-04-12T10:00:30.490

您的捆绑安装/启动循环是一种反模式。问题是启动一个包会立即强制它解析，但它可能无法解析，因为它的依赖项尚未安装（可能是因为它们在列表中的后面）。

这可能会提示您提前制定正确的安装顺序，但这也是**错误**的答案。您应该让 OSGi 框架为您处理依赖项（这就是 OSGi 的重点！）。

因此，您需要先安装所有捆绑包**，**然后再启动**它们**。为此，您需要两个循环，例如：

```
List<Bundle> installedBundles = new ArrayList<Bundle>();
for (URL url : urls) {
    installedBundles.add(context.installBundle(url.toString()));
}
for (Bundle bundle : installedBundles) {
    bundle.start();
} 
```

# unit-testing - vs2012原生单元测试中元数据有什么用

> ID：15964062
> 
> 赞同：2
> 
> 时间：2013-04-12T05:54:27.803
> 
> 标签：unit-testing, visual-c++, visual-studio-2012

在 vs2012 本机单元测试中定义元数据有什么用？它们可以在以开头的部分中定义

```
BEGIN_TEST_METHOD_ATTRIBUTE(<methodname>)
    TEST_METHOD_ATTRIBUTE("attribute1", "value1")
END_TEST_METHOD_ATTRIBUTE() 
```

甚至还有像“TEST_OWNER”这样的预定义宏 - 但我找不到实际使用/显示它们的地方。仅仅为了将它们放入源代码，适当的文档就足够了，所以我真的想知道它们在哪里使用。有人可以帮忙吗？

谢谢托比亚斯

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-05-21T15:46:49.713

我认为 MSDN 上的这篇文章会回答你的问题：

[如何在 Visual Studio 2012 Update 1 中管理单元测试：第 1 部分——在单元测试资源管理器中使用特征](http://blogs.msdn.com/b/visualstudioalm/archive/2012/11/09/how-to-manage-unit-tests-in-visual-studio-2012-update-1-part-1-using-traits-in-the-unit-test-explorer.aspx?Redirected=true)

它解释了 VS2012 Update 1 如何增强测试资源管理器以允许基于这些测试属性过滤测试。

> Visual Studio 2012 有一个很棒的新测试资源管理器。测试资源管理器是您查看单元测试结果的地方。在更新 1 中，它得到了扩展，您现在可以根据多个条件组织和过滤测试运行，其中包括您的项目和特征。特征是一个新概念，是几个基本术语、测试类别、测试属性、优先级和所有者的共同点。
> 
> Traits 不仅作为测试资源管理器中的分组机制有用，它也是可以控制您运行哪些测试的一部分。这是一个很大的要求——因为这意味着开发人员可以专注于与工作相关的测试，而不必为运行其他可能长时间运行的测试而烦恼，否则会减慢整个开发体验。不再使用更新 1！

它是从 C# 的角度编写的，但我刚才在 C++ 和 C# 测试中使用了相同的技术。似乎运作良好。

# parsing - 左结合运算符与右结合运算符

> ID：15964064
> 
> 赞同：11
> 
> 时间：2013-04-12T05:54:37.987
> 
> 标签：parsing, operators, operator-precedence, associativity

如果我们有一个表达式：

```
a $ b @ c 
```

`$`是左结合运算符，`@`是右结合运算符。它们具有相同的优先级。

这个表达式是如何解析的？作为`(a $ b) @ c`还是作为`a $ (b @ c)`？

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2013-07-12T02:48:51.510

这是一个很好的问题。尽管 Dipstick 是正确的，在许多语言中，定义了运算符优先级和关联性以避免此类问题，但在某些语言中可能会出现这种情况。

Haskell 就是这样一种语言。它允许您定义自己的中缀运算符，以及它们的优先级（从 0 到 9 的整数）和关联性（左、右、非）。为您描述的场景创建先决条件很容易：

```
infixl 5 $$
($$) :: Int -> Int -> Int
a $$ b = a + b

infixr 5 @@
(@@) :: Int -> Int -> Int
a @@ b = a * b 
```

然后是情况本身：

```
uhoh = 1 $$ 2 @@ 3 
```

这会导致此错误消息：

```
Precedence parsing error
    cannot mix `$$' [infixl 5] and `@@' [infixr 5] in the same infix expression 
```

当然，Haskell 的解决方案——解析错误中止——并不是处理这个问题的唯一方法，但它肯定是一个合理的方法。

有关 Haskell 中运算符解析的更多信息，请参阅[Haskell 报告的](http://www.haskell.org/onlinereport/decls.html)第 4.4.2 节。

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2013-04-12T05:57:38.243

具有相同优先级的运算符要么都是右结合的，要么都是左结合的，因此不会出现问题。

# image - 在 MATLAB 中使用 xlswrite 命令的问题

> ID：15964070
> 
> 赞同：0
> 
> 时间：2013-04-12T05:54:59.600
> 
> 标签：image, matlab

我必须为多个图像运行我的代码并比较所有图像的输出。为了运行多个图像，我遵循了这个链接中给出的想法：[Loading multiple images in MATLAB](https://stackoverflow.com/questions/2408112/loading-multiple-images-in-matlab)

它工作正常。现在，我必须将所有图像的结果导出到 excel 文件中。为此，我在 MATLAB 中使用 xlswrite 命令。我面临的问题是输出被覆盖在 excel 文件中的同一位置，所以在模拟结束时，我只有一个输出保存在 excel 文件中。将第一张图像的结果写入excel文件后，下一张图像的结果应写入下一个位置，依此类推。我无法这样做。请帮我解决一下这个。

## 我使用过的代码：

```
ex = {'IDR', 'CAR', 'PSNRN', 'psnr'; IDR CAR psnrn psnr}

xlswrite('output.xls', ex, 'SBF', 'E1'); 
```

## 我的代码的最后五行：

```
mse=kk/(m*n);
psnr=10*(log10((double(255*255))/mse));

display(psnrn);
display(psnr);

ex = {'IDR', 'CAR', 'PSNRN', 'psnr'; IDR CAR psnrn psnr}

xlswrite('output.xls', ex, 'SBF', 'E1');

end 
```

如果需要，我将提供我的完整代码。请帮忙，我是 MATLAB 新手

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-12T07:21:09.907

它总是写入同一个位置的原因是你总是为它提供相同的单元格引用`'E1'`。您需要按照 OP 的建议使用专门的 xls 附加脚本，或者在循环中更改单元格引用，或者一次编写全部内容。

**例子：**

循环写入：

```
xlStartColStr = 'E';
xlStartRow = 1;
for myIndex = 1:something
    % Do your stuff...

    try
        ex = {...};
        xlStartRow = myIndex;
        cellRef = [xlStartColStr num2str(xlStartRow)];
        xlswrite('output.xls', ex, 'SBF', cellRef);
    catch err
        error([mfilename ':ErrorSavingFile'], ...
            'Could not save file for image %g : %s', myIndex, err.message);
    end
end 
```

或者一次性写完：

```
allMyData = {};
for myIndex = 1:something
    % Do your stuff...

    ex = {...};
    allMyData = [allMyData; ex];
end

cellRef = 'E1';
try
    xlswrite('output.xls', allMyData, 'SBF', cellRef);
catch err
    error([mfilename ':ErrorSavingFile'], ...
        'Could not save file for images : %s', err.message);
end 
```

循环版本是在`try...catch`失败时为您提供额外的信息，但在非循环版本中执行此操作仍然是一个好主意，所以我也将它包含在其中。第一种方法能够保存一些数据，即使其余数据无效`xlsread`（只需将错误更改为警告或某种日志消息），但速度会慢一些。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-12T06:07:23.910

试试[这个](https://www.mathworks.com/matlabcentral/fileexchange/28600-xlsappend)

另一种选择是附加到数据并`xlswrite`在循环外调用一次。

# nsis - 在 NSIS 安装程序页面中移动默认文本位置

> ID：15964071
> 
> 赞同：0
> 
> 时间：2013-04-12T05:55:00.867
> 
> 标签：nsis

我正在为我的安装程序页面使用背景图像，我已将所有其他控件设置为透明。背景图像中有一个徽标，它与安装程序页面上的文本重叠，例如欢迎页面上的文本、许可证页面等。

那么我是否可以将此文本及其标题的位置从默认位置更改为适合我的位置，以便我的背景徽标可见？请帮忙。

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-12T10:55:39.030

最简单的方法是使用 ResHacker 并编辑您使用的 UI .exe 文件（不是您生成的 .exe 而是 NSIS\Contrib\UIs\ 中的 .exe [使用哪个 UI 文件取决于您的脚本]）

将标题标签（ID 为 1037 和 1038 的控件）移动几个像素到所需位置。见图片：http: [//i.stack.imgur.com/izBby.jpg](https://i.stack.imgur.com/izBby.jpg)

![带有打开的 UI 文件的 ResHacker](https://i.stack.imgur.com/izBby.jpg)

# apache-flex - 将 eventListener 添加到弹性屏幕

> ID：15964081
> 
> 赞同：0
> 
> 时间：2013-04-12T05:55:38.017
> 
> 标签：apache-flex, event-listener

我想添加一个监听弹性屏幕的 DoubleClick 事件的事件监听器。以下是我的代码

```
private function zoomIn(event:MouseEvent):void
{
    svg.scaleX+=.02;
    svg.scaleY+=.02;
    Alert.show("Inside Zoom Function");
}

var svg:SVGDocument = new SVGDocument();
svg.parse(re.result as String);
chart.addChild(svg);
svg.addEventListener(MouseEvent.DOUBLE_CLICK,zoomIn);

<mx:Canvas id="canvas" height="100%" width="100%">
<mx:UIComponent id="chart" width="100%" height="100%"/>
</mx:Canvas> 
```

但是，双击屏幕不会导致进入 zoomIn 函数。我在这里做错了吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-13T03:15:59.083

SVGDocument 未处理 DOUBLE_CLICK 事件。但是，它可以处理 CLICK 或 MOUSE_WHEEL 等事件。所以我将代码更改如下。这是有效的。

```
svg.parse(re.result as String);
chart.addChild(svg);
svg.addEventListener(MouseEvent.MOUSE_WHEEL,zoom); 
```

# javascript - 使用 try catch 语句在 JavaScript 中处理错误

> ID：15964087
> 
> 赞同：0
> 
> 时间：2013-04-12T05:55:59.987
> 
> 标签：javascript, error-handling, try-catch

我正在寻找使用`try-catch`语句处理 JS 错误，但它没有以我认为它必须弹出错误的方式警告错误。让我知道我在代码中做错了什么。

代码测试浏览器 -`FireFox`

**代码**-

```
<script type="text/javascript">
try {
document.write(parseInt("15");  // Broken code
}
catch(e) {
alert("Error " + e.description);
}
</script> 
```

当我`firebug`编写代码时，它只显示 try 块中的错误，这一切都应该是，但没有`alert`弹出我所期望的 ss。

我在询问之前所做的网站参考 -

[http://www.tutorialspoint.com/javascript/javascript_error_handling.htm](http://www.tutorialspoint.com/javascript/javascript_error_handling.htm)

[javascript中的错误处理](https://stackoverflow.com/questions/9942798/error-handling-in-javascript) [答案是指上述相同的URL]

# android - 2个应用程序之间的冲突

> ID：15964091
> 
> 赞同：0
> 
> 时间：2013-04-12T05:56:35.657
> 
> 标签：android

我制作了我的第一个应用程序，它仍然在模拟器上。所以在测试第二个时，我运行它。启动画面完成了它的工作，然后不是进入我正在测试的应用程序的主要活动，应用程序退出并出现一条消息说，通过选择我正在测试的第一个应用程序或第二个应用程序来完成操作. 那么如何避免这种情况或使应用程序不给用户该选项呢？

编辑：

应用程序 1：

显现：

```
<?xml version="1.0" encoding="utf-8"?>
<manifest xmlns:android="http://schemas.android.com/apk/res/android"
package="com.hellhog.tfreq"
android:versionCode="1"
android:versionName="1.0" >

<uses-sdk
    android:minSdkVersion="8"
    android:targetSdkVersion="15" />
<uses-permission android:name="android.permission.INTERNET"/>
<uses-permission android:name="android.permission.ACCESS_NETWORK_STATE"/>

<application
    android:allowBackup="true"
    android:icon="@drawable/ic_launcher"
    android:label="@string/app_name"
    android:theme="@style/AppTheme" >      
    <activity 
    android:name="com.google.ads.AdActivity"
    android:configChanges="keyboard|keyboardHidden|orientation|screenLayout|uiMode|screenSize|smallestScreenSize" >        
    </activity>

    <activity
        android:name="com.hellhog.tfreq.Splash"
        android:label="@string/app_name"
        android:screenOrientation="landscape" >
        <intent-filter>
            <action android:name="android.intent.action.MAIN" />
            <category android:name="android.intent.category.LAUNCHER" />
        </intent-filter>
    </activity>
    <activity
        android:name="com.hellhog.tfreq.MainActivity"
        android:label="@string/app_name"
        android:screenOrientation="portrait" >
        <intent-filter>
            <action android:name="android.intent.action.MAINACTIVITY" />
            <category android:name="android.intent.category.DEFAULT" />
        </intent-filter>
    </activity>
</application> 
```

闪屏代码：

```
package com.hellhog.tfreq;

import com.hellhog.tfreq.R;

import android.app.Activity;
import android.content.Intent;
import android.media.MediaPlayer;
import android.os.Bundle;
import android.view.Window;
import android.view.WindowManager;

public class Splash extends Activity {

@Override
protected void onCreate(Bundle savedInstanceState) {
    // TODO Auto-generated method stub
    super.onCreate(savedInstanceState);
    requestWindowFeature(Window.FEATURE_NO_TITLE);
    getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN, WindowManager.LayoutParams.FLAG_FULLSCREEN);
    setContentView(R.layout.splash);
    MediaPlayer hog = MediaPlayer.create(Splash.this, R.raw.smusic);
    hog.start();

    Thread timer = new Thread(){
        public void run(){
            try{
                sleep(6000); 
            }catch (InterruptedException e){
                e.printStackTrace(); 
            }finally{
                Intent openSplashLayout = new Intent("android.intent.action.MAINACTIVITY"); 
                startActivity(openSplashLayout); 
            }
        }
    };
    timer.start();  
}

@Override
protected void onPause() {
    // TODO Auto-generated method stub
    super.onPause();
    finish();
}

 } 
```

应用程序 2：清单：

```
<?xml version="1.0" encoding="utf-8"?>
<manifest xmlns:android="http://schemas.android.com/apk/res/android"
package="com.hellhogone.multitools"
android:versionCode="1"
android:versionName="1.0" >

<uses-sdk
    android:minSdkVersion="8"
    android:targetSdkVersion="10" />
<uses-permission android:name="android.permission.CAMERA" />
<uses-feature android:name="android.hardware.camera" android:required="false" />
<uses-feature android:name="android.hardware.camera.front" android:required="false" />
<application
    android:allowBackup="true"
    android:icon="@drawable/ic_launcher"
    android:label="@string/app_name"
    android:theme="@style/AppTheme" >
    <activity
        android:name="com.hellhogone.multitools.Splash"
        android:label="@string/app_name"
        android:screenOrientation="landscape" >
        <intent-filter>
            <action android:name="android.intent.action.MAIN" />
            <category android:name="android.intent.category.LAUNCHER" />
        </intent-filter>
    </activity>
     <activity
        android:name="com.hellhogone.multitools.MainActivity"
        android:label="@string/app_name"
        android:screenOrientation="portrait" >
        <intent-filter>
            <action android:name="android.intent.action.MAINACTIVITY" />
            <category android:name="android.intent.category.DEFAULT" />
        </intent-filter>
    </activity>
    <activity
        android:name="com.hellhogone.multitools.FlashLight"
        android:label="@string/app_name"
        android:screenOrientation="portrait" >
        <intent-filter>
            <action android:name="android.intent.action.FLASHLIGHT" />
            <category android:name="android.intent.category.DEFAULT" />
        </intent-filter>
    </activity>
    <activity
        android:name="com.hellhogone.multitools.Mirror"
        android:label="@string/app_name"
        android:screenOrientation="portrait" >
        <intent-filter>
            <action android:name="android.intent.action.MIRROR" />
            <category android:name="android.intent.category.DEFAULT" />
        </intent-filter>
    </activity>
</application> 
```

启动画面：

```
package com.hellhogone.multitools;

import com.hellhogone.multitools.R;

import android.media.MediaPlayer;
import android.os.Bundle;
import android.app.Activity;
import android.content.Intent;
import android.view.Window;
import android.view.WindowManager;

public class Splash extends Activity{

@Override
protected void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    requestWindowFeature(Window.FEATURE_NO_TITLE);
    getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN, WindowManager.LayoutParams.FLAG_FULLSCREEN); 
    setContentView(R.layout.splash);

    MediaPlayer yo = MediaPlayer.create(Splash.this, R.raw.smusic); 
    yo.start(); 

    Thread timer = new Thread(){
        public void run(){
            try{
                sleep(6000);
            }catch(InterruptedException e){
                e.printStackTrace();
            }finally{
                Intent h1 = new Intent("android.intent.action.MAINACTIVITY");
                startActivity(h1); 
            }
        }
    };

    timer.start(); 
}

@Override
protected void onPause() {
    // TODO Auto-generated method stub
    super.onPause();
    finish(); 
}

    } 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-12T06:06:07.173

这样做的原因是您的应用程序不同（意味着具有不同的包名称），而在两个应用程序的 Androidmanifest 文件中，您为 MainActivity 指定了相同的意图过滤器。请考虑在两个应用程序中添加不同的意图过滤器。

```
 <activity android:name="MainActivity"
              android:label="@string/app_name">
        <intent-filter>
            <action android:name="com.example.yourcustom.intent"/>
        </intent-filter>
    </activity> 
```

如上例**com.example.yourcustom.intent是为****MainActivity**注册的意图过滤器 每当您触发意图时，为了处理该意图，Android 将执行**[意图解析](http://developer.android.com/guide/components/intents-filters.html#ires)**并为您提供所有可以处理该意图的应用程序的选项，这就是您的原因获取应用程序选择器对话框。

# javascript - “未捕获的类型错误：对象 0 没有方法‘更新’”在遍历数组时

> ID：15964092
> 
> 赞同：1
> 
> 时间：2013-04-12T05:56:43.300
> 
> 标签：javascript

在迭代包含不同类型对象的数组时，我在访问对象的方法时遇到问题。两种类型的对象都定义了特定的方法，但我得到的是带有解释的 TypeError：“对象 0 没有方法‘更新’”。我将对象放入数组中的顺序无关紧要。我对 js 相当陌生，所以可能我基于其他语言做了一些不正确的推理......我在 Chrome 中对其进行了测试。

```
(function(){
    function Camera(){
        this.bar = "bar";
    };

    Camera.prototype.update = function(){
        this.bar +="bar";
    }

    function Object(){
        this.foo = "foo";
    };

    Object.prototype.update = function(){
        this.foo+="foo";
    }

    var camera = new Camera();
    var object = new Object();

    var array = [camera, object];

    for(o in array){
        o.update();
    }

})(); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-12T06:02:03.750

如果使用`o in array`then`o`指的是数组元素的索引。尝试这个：

```
for (var i = 0; i < array.length; i++) {
  array[i].update()
} 
```

[**FIDDLE DEMO**](http://jsfiddle.net/EDQPD/)
有关操作员的更多信息`for ... in`，请查看[**文档**](https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Statements/for...in)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-12T06:11:47.167

您不能像 Evan Trimboli 所说的那样使用 .update ，因为它是 Element 的一种方法。将其重命名为其他名称，它将起作用。

# windows-phone-8 - 如何在 Windows Phone 8 项目“分享”和“评分应用”中添加上下文菜单？

> ID：15964094
> 
> 赞同：0
> 
> 时间：2013-04-12T05:56:50.873
> 
> 标签：windows-phone-8, contextmenu

当我们点击手机应用程序时，会出现带有“Pin to start”和“uninstall”项的上下文菜单。如何使用 C# 在 windows phone 8 项目“分享”和“评分和评论”中添加到这个上下文菜单？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-12T06:30:50.227

您可能更喜欢第三方控件开发供应商。

Telerik：-

[http://www.telerik.com/products/windows-phone/overview/all-controls/contextmenu.aspx](http://www.telerik.com/products/windows-phone/overview/all-controls/contextmenu.aspx)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-12T06:34:15.617

您可能正在查看您的侧载开发应用程序？那么这些选项就不见了。

当您将应用程序发布到商店并将其下载到手机时，这些选项将自动添加。

# c# - c# winforms 应用程序重新安装在管理员用户帐户之外

> ID：15964095
> 
> 赞同：0
> 
> 时间：2013-04-12T05:56:52.243
> 
> 标签：c#, asp.net, winforms, installation

我创建了一个安装项目并从installerClass中进行了验证，我使用管理员用户帐户将应用程序安装在一个系统中，安装成功后，我只需注销系统并以普通用户帐户登录，然后单击快捷方式图标从我的应用程序的桌面（从管理员帐户安装）再次说明安装。我不需要重新安装它，（不可能允许在另一个帐户中重新安装验证失败）如何限制这一点。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-15T11:51:17.177

我从另一个链接得到它说“非广告”快捷方式与 DISABLEADVTSHORTCUTS = 1。我使用 orca 应用程序来编辑 .msi 文件的属性。如果您使用的是 win xp，您可以在系统路径中找到 orca：C:\Program Files\Microsoft SDKs\Windows\v7.0\Bin\Orca.msi 安装它并使用左侧面板中的选择属性编辑 Created msi- >右键单击右侧面板->添加行->名称为DISABLEADVTSHORTCUTS，值为1。保存。

# javascript - 解构分配

> ID：15964098
> 
> 赞同：1
> 
> 时间：2013-04-12T05:57:16.280
> 
> 标签：javascript

```
 var { a:x, b:y } = { a:7, b:8 };
 console.log(x); // prints: 7
 console.log(y); // prints: 8 
```

这种赋值方法有效吗？这种方法会带来什么问题吗？

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2013-04-12T06:02:51.520

此分配只是无效的 javascript 并且将不起作用。这是这种方法会带来的唯一问题。

你为什么不直接使用

```
var v = { a:7, b:8 }; 
```

将字段`a`设置为 7 并`b`设置为 8 的对象分配给变量 v？

# java - 保护最终变量免受反射

> ID：15964103
> 
> 赞同：6
> 
> 时间：2013-04-12T05:57:35.077
> 
> 标签：java, reflection, immutability

我想设计一个类来逐步展示不变性。

以下是一个简单的类

```
public class ImmutableWithoutMutator {
    private final String firstName;
    private final String lastName;
    private final int age;

    public ImmutableWithoutMutator(final String firstName, final String lastName, final int age) {
        this.firstName = firstName;
        this.lastName = lastName;
        this.age = age;
    }

    @Override
    public String toString() {
        return String.format(
                "ImmutableWithoutMutator [age=%s, firstName=%s, lastName=%s]",
                age, firstName, lastName);
    }
} 
```

现在我仍然可以通过使用以下代码来使用反射。

```
import java.lang.reflect.Field;

public class BreakImmutableUsingReflection {
    public static void main(String[] args) throws SecurityException, NoSuchFieldException, IllegalArgumentException, IllegalAccessException {
        ImmutableWithoutMutator immMutator = new ImmutableWithoutMutator(
                "firstName", "lastName", 2400);
        System.out.println(immMutator);

        // now lets try changing value using reflection
        Field f = ImmutableWithoutMutator.class.getDeclaredField("age");
        f.setAccessible(true);
        f.set(immMutator, 2000);

        System.out.println(immMutator);
    }
} 
```

我的问题是，我没有使用反射 API 修改字段的修饰符。那么代码如何仍然能够改变最终字段？

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-04-12T05:59:59.633

这是预期的行为——这只是你不应该做的事情。

从文档中[`Field.set`](http://docs.oracle.com/javase/7/docs/api/java/lang/reflect/Field.html#set%28java.lang.Object,%20java.lang.Object%29)：

> 如果基础字段是最终字段，则该方法将引发 IllegalAccessException，除非此 Field 对象的 setAccessible(true) 已成功并且该字段是非静态的。以这种方式设置最终字段仅在反序列化或重建具有空白最终字段的类实例期间才有意义，然后它们才可供程序的其他部分访问。在任何其他上下文中使用可能会产生不可预知的影响，包括程序的其他部分继续使用该字段的原始值的情况。

现在，如果您想辩称这违反了所有类型的安全性，您需要问自己为什么您不相信有足够的权限运行的代码可以正常运行 call `field.setAccessible(true)`。基本上，保护是由安全经理提供的——但如果你在没有安全经理的情况下跑步，这会阻止你这样做，你*可能会*在脚下开枪。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-12T06:27:18.903

[您可以使用SecurityManager](http://docs.oracle.com/javase/tutorial/essential/environment/security.html)防止 setAccessible 。您可以在命令行上指定它或动态创建它，就像他们在[这里](https://stackoverflow.com/questions/2315066/is-there-a-way-for-a-securitymanager-in-java-to-selectively-grant-reflectpermiss)做的那样。

但是，即使您保护了反射，您的代码仍然不会受到 ASM 等字节码修改库的保护。

所以你不应该依赖你的领域是最终的。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-12T06:07:41.947

不，你可以这样做。如果您想限制某些操作，我建议您阅读[The Security Manager](http://docs.oracle.com/javase/tutorial/essential/environment/security.html)和[Java SE 7 安全文档。](http://docs.oracle.com/javase/7/docs/technotes/guides/security/index.html)

# java - 图像和堆大小问题

> ID：15964105
> 
> 赞同：2
> 
> 时间：2013-04-12T05:57:39.240
> 
> 标签：java, image, graphics, bufferedimage

我正在尝试使用 Asprise 裁剪应用程序裁剪 1000 张图像。

该过程是，首先从内容管理器下载图像，然后裁剪图像，然后再次将裁剪后的图像上传到内容管理器。

我创建了批处理文件来为 1000 个图像运行它，最初它适用于 300 个图像并给出以下错误

```
Exception in thread "main" java.lang.OutOfMemoryError: Java heap space
        at java.awt.image.DataBufferInt.<init>(Unknown Source)
        at java.awt.image.Raster.createPackedRaster(Unknown Source)
        at java.awt.image.DirectColorModel.createCompatibleWritableRaster(
n Source)
        at java.awt.image.BufferedImage.<init>(Unknown Source)
        at sun.java2d.loops.GraphicsPrimitive.convertFrom(Unknown Source)
        at sun.java2d.loops.GraphicsPrimitive.convertFrom(Unknown Source)
        at sun.java2d.loops.MaskBlit$General.MaskBlit(Unknown Source)
        at sun.java2d.loops.Blit$GeneralMaskBlit.Blit(Unknown Source)
        at sun.java2d.pipe.DrawImage.blitSurfaceData(Unknown Source)
        at sun.java2d.pipe.DrawImage.renderImageCopy(Unknown Source)
        at sun.java2d.pipe.DrawImage.copyImage(Unknown Source)
        at sun.java2d.pipe.DrawImage.copyImage(Unknown Source)
        at sun.java2d.SunGraphics2D.drawImage(Unknown Source)
        at sun.awt.image.ImageRepresentation.drawToBufImage(Unknown Source
        at sun.java2d.pipe.DrawImage.copyImage(Unknown Source)
        at sun.java2d.pipe.ValidatePipe.copyImage(Unknown Source)
        at sun.java2d.SunGraphics2D.drawImage(Unknown Source)
        at sun.java2d.SunGraphics2D.drawImage(Unknown Source) 
```

然后我将堆大小增加到 -Xmx728M，在工作 500 + 图像和同样的 outofMemory 错误。

它在标记的行上抛出错误

```
 private BufferedImage toBufferedImage(Image image) {
         if (image instanceof BufferedImage) {
             return (BufferedImage)image;
         }

         image = new ImageIcon(image).getImage();

             boolean hasAlpha = hasAlpha(image);

         BufferedImage bimage = null;
         GraphicsEnvironment ge = GraphicsEnvironment.getLocalGraphicsEnvironment();
         try {
             int transparency = Transparency.OPAQUE;
             if (hasAlpha) {
                 transparency = Transparency.BITMASK;
             }

             GraphicsDevice gs = ge.getDefaultScreenDevice();
             GraphicsConfiguration gc = gs.getDefaultConfiguration();
             bimage = gc.createCompatibleImage(
                 image.getWidth(null), image.getHeight(null), transparency);
         } catch (HeadlessException e) {
             // The system does not have a screen
             e.printStackTrace();
         }

         if (bimage == null) {
             // Create a buffered image using the default color model
             int type = BufferedImage.TYPE_INT_RGB;
             if (hasAlpha) {
                 type = BufferedImage.TYPE_INT_ARGB;
             }
             bimage = new BufferedImage(image.getWidth(null), image.getHeight(null), type);
         }

         Graphics g = bimage.createGraphics();

         g.drawImage(image, 0, 0, null);      //error
         g.dispose();

      return bimage;
     } 
```

我能做些什么来处理这个问题？如何释放 BufferedImage 内存？

我用了

```
BufferedImageObj.flush();
BufferedImageObj=null; 
```

但它不起作用。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-12T06:00:42.963

我怀疑您的错误实际上不是该行的结果；相反，我怀疑绘制图像会将程序推入`OutOfMemory`状态。

您通常不能一次在内存中保存那么多图像。请记住，Java 默认以全分辨率加载图像。我不认为它很容易拥有数百张图像。确保您只在给定时刻加载您需要的那些。然后，当不再需要图像时，让 JVM 垃圾通过将图像设置为 null 来收集内存。

# python - 发送添加了用户代理的 QHTTP 请求

> ID：15964107
> 
> 赞同：1
> 
> 时间：2013-04-12T05:57:43.537
> 
> 标签：python, qt, pyqt, pyside

发送添加了用户代理的 QHTTP 请求

C:\Python33\Lib\site-packages\PyQt4\examples\network\http 中有一个示例

但我想将 User-Agent 标头添加到 http 请求中，所以我评论了

```
##        self.httpGetId = self.http.get(path, self.outFile) 
```

并编写以下代码

```
header = QtNetwork.QHttpRequestHeader("GET", path)#1
header.setValue("Host", url.host())
header.setValue('User-Agent' ,'Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.17 (KHTML, like Gecko) Chrome/24.0.1312.60 Safari/537.17')

self.http.setHost(url.host()) 
```

那么问题来了，我不知道如何发送这个请求并将标头添加到服务器？

PS我参考了文档，也许找到了

```
int QHttp::request ( const QHttpRequestHeader & header, QIODevice * data = 0, QIODevice * to = 0 ) 
```

会来帮我解决这个问题，但我想知道在这种情况下应该是什么“数据”？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-12T22:16:42.473

使用 a[`QNetworkAcessManager`](http://doc-snapshot.qt-project.org/4.8/qnetworkaccessmanager.html)发送您的请求，如下所示：

```
#!/usr/bin/env python
#-*- coding:utf-8 -*-

from PyQt4 import QtCore, QtNetwork

if __name__ == '__main__':
    import sys

    print "Starting request...",

    app = QtCore.QCoreApplication(sys.argv)
    url = QtCore.QUrl("http://www.example.com/")

    request = QtNetwork.QNetworkRequest()
    request.setUrl(url)
    request.setRawHeader("User-Agent", "MyAppName/1.0 (Nokia; Qt)")

    manager = QtNetwork.QNetworkAccessManager()
    manager.finished.connect(app.quit)
    manager.get(request)

    print "done."

    sys.exit(app.exec_()) 
```

# android - Android 任务管理器或系统对话框

> ID：15964108
> 
> 赞同：0
> 
> 时间：2013-04-12T05:57:46.827
> 
> 标签：android, android-layout, android-intent, android-widget

我想知道有没有办法在显示系统对话框（如任务管理器、关闭警报、...）时获取事件。

我可以通过如下意图从我的活动中关闭系统对话框

```
Intent closeDialog = new Intent(Intent.ACTION_CLOSE_SYSTEM_DIALOGS);
        sendBroadcast(closeDialog); 
```

但是在我的代码中，我需要知道屏幕上显示了一个系统对话框（它们可以是任务管理器/关闭对话框...），以便我可以调用上面的代码来关闭它。

我搜索了意图过滤器，但没有找到。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-12T06:36:26.317

## 将以下方法放入您的 Activity 并检查**最近的应用程序对话框是否自动关闭**。

```
public void onWindowFocusChanged(boolean hasFocus) {
        super.onWindowFocusChanged(hasFocus);

        Log.e("Focus debug", "Focus changed !");

        if (!hasFocus) {
            Log.e("Focus debug", "Lost focus !");

            Intent closeDialog = new Intent(Intent.ACTION_CLOSE_SYSTEM_DIALOGS);
            sendBroadcast(closeDialog);
        }
    } 
```

## **注意：它仅适用于单个活动。不适用于您应用中的所有活动。**

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-11-18T07:47:22.633

使用广播接收器并将意图放在 onreceive() 方法中。然后在显示警报对话框的位置注册此接收器。然后它会自动禁用设置，最近的应用程序按钮----Nagesh

# java - 仅在成员函数内创建嵌套内部类的对象

> ID：15964111
> 
> 赞同：3
> 
> 时间：2013-04-12T05:58:01.670
> 
> 标签：java, inner-classes

假设我有一个内部类 B，我将在外部类的一个成员函数中创建一个实例，有没有一种方法可以在不创建外部类实例的情况下做到这一点？

非常感谢。

```
class A {
    class B {

    }

    public void function() {
       // create an instance of B, normally have to create a 
       // instance of A to be bond to by b
       B b = new B();
    }
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-12T05:59:32.847

你这样做的唯一方法是声明`B` `static`：

```
class A {
    static class B { 
```

这意味着`B`没有`A`与之关联的实例，并且可以在没有可用的外部实例的上下文中实例化。

也就是说，您当前的代码可以按原样编译（因为`function()`是 non- `static`，所以在这种情况下*有*一个可用的实例`A`）。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-12T06:02:58.880

您可以从类似的`class B`外部创建对象`class A`

> B b = 新 A().新 B();

但是在这里，您正在创建外部类的实例，然后创建内部类的实例。如果不创建外部类的实例，就不可能创建内部对象。

但是，如果您的内部阶层是，`static`那么您就可以做到。

```
class A {
    static class B {

    }
}
class C{
   public void test(){
       B b = new B();
   }
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-12T06:01:13.840

如果您在外部类的方法中访问嵌套/内部类，则不需要创建外部类的实例。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-12T06:06:37.050

您可以直接创建`class B`内部成员函数的实例`class A`。实际上`class B`就像一个成员（A的变量/函数） if `Class A`。它可以像其他成员一样直接访问。所以没有问题

```
 public void function() {
   // create an instance of B, normally have to create a 
   // instance of A to be bond to by b
   B b = new B();
 } 
```

如果你想`class B`在 的范围之外创建实例`class A`，那么只需要 的实例就可以像这样`class A`创建 B 的实例`class`

```
A a = new A();
B b = a.new B(); 
```

假设您想在没有实例`class B`的范围之外创建实例，然后声明为静态，这意味着不在范围内`class A``class A``class B``class B``class A`

```
class A {
    static class B { 
    }

    public static void main(String[] args) {
        B b = new B();
    }
} 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-04-12T06:14:34.487

如果您的[嵌套类](http://docs.oracle.com/javase/tutorial/java/javaOO/nested.html)不是静态的，那么答案是**否定**的。因为 ：

```
Inner class treated as instance member of outer class. 
```

因此，创建内部类实例的唯一方法是首先创建外部实例，然后才能在内部类上创建实例。如下：

```
Inner inner = new Outer().new Inner(); 
```

但是有一种方法可以在不创建外部类对象的情况下创建内部类对象，因为您的内部类应该是[静态嵌套类](http://docs.oracle.com/javase/tutorial/java/javaOO/nested.html)。跟下面一样。

```
class Outer {
static class Inner { 
```

然后您可以创建内部类的对象，如下所示：

```
Inner inner = Outer.new Inner(); 
```

因为：

```
Static nested class always treated as static member of outer class. 
```

# grails - grails clean run-app on Windows bat 文件

> ID：15964115
> 
> 赞同：3
> 
> 时间：2013-04-12T05:58:37.673
> 
> 标签：grails, build, batch-file, build-automation, grails-2.0

`grails clean run-app`不是命令。

`grails clean` 然后 你需要运行 `grails run-app`。

如果我使用以下内容创建一个 bat 文件：

```
grails clean
grails run-app 
```

脚本在 clean 后结束。run-app 永远不会被调用。

如何在 bat 文件中同时运行两者？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-04-12T06:22:43.817

```
CALL grails clean
CALL grails run-app 
```

应该这样做。

`CALL`CALL 为批处理提供了一个在ed 过程完成时返回的位置

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-04-12T07:20:43.280

下面的批处理文件允许您使用几个 grails 选项来调用它，就像在第一个示例中一样：

```
@echo off
:nextOption
   if "%~1" equ "" goto :EOF
   call grails %1
   shift
goto nextOption 
```

例如，如果之前的批处理文件名为 CALLGRAILS.BAT，您可以这样做：

```
callgrails clean run-app 
```

当然，您可以根据需要重命名 CALLGRAILS.BAT。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-12T12:24:45.150

您还应该能够在命令行中使用以下内容：

```
> grails clean && grails compile && grails run-app

Or

> grails clean && grails run-app

Grails 2.2.0 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-12T21:44:24.823

如果您只需要将这两个任务自动化到一个步骤中，另一种选择是在以下位置创建一个全局脚本：

*   *~/.grails/scripts/CleanRunApp.groovy*用于 Unix/Linux
*   或*%USERPROFILE%\.grails\scripts\CleanRunApp.groovy*对于 Windows

在这种情况下，您可以在任何 Grails 项目中运行以下命令：

```
grails CleanRunApp 
```

* * *

CleanRunApp.groovy 文件的内容（可以简化，但仅作为示例）

```
includeTargets << grailsScript("_GrailsClean")
includeTargets << grailsScript("_GrailsRun")

target(cleanRunApp: "Clean, then run app") {
    depends(cleanAll, checkVersion, configureProxy, packageApp, parseArguments)

    startPluginScanner()

    if(argsMap.https){
        runAppHttps()
    }
    else {
        runApp()
    }

    watchContext()
}

setDefaultTarget("cleanRunApp") 
```

# python - 打开名称中带有日期/时间戳的文件时出错

> ID：15964119
> 
> 赞同：0
> 
> 时间：2013-04-12T05:58:57.003
> 
> 标签：python

我想使用 Python 创建一个带有附加到文件名的日期和时间戳的文件。当我这样做时，打开文件时出现错误。

```
today = datetime.datetime.today().strftime("%m-%d-%Y_%H:%M:%S")
file = "text" + today
open(file,'w') 
```

它报告无效文件名的错误。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-12T06:06:50.520

尝试这个：

```
today = datetime.datetime.today().strftime("%m-%d-%Y_%H.%M.%S")
fname = "text" + today
f = open(fname,'w') 
```

1.  如前所述，不要使用冒号 i 文件名（我将其更改为简单的点，您可以将其更改为您想要的任何内容）。

2.  你需要从 中创建一个对象`open(...)`，我称之为`f`，但你可能已经知道了。

3.  `file`是一个内置函数。不要用作变量名。

### 更新

哎呀。我记错了那`w+`部分。对不起，

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-12T06:05:46.370

`":"`在某些操作系统上，文件名中不允许使用冒号 ( )。

# java - 窗口错误就像我的 TextField 中的声音一样

> ID：15964124
> 
> 赞同：1
> 
> 时间：2013-04-12T05:59:17.830
> 
> 标签：java, database, swing, jtextfield, event-dispatch-thread

我正在使用以下编码从数据库中获取值，它运行良好......但问题是当我按下回车按钮时，它会发出类似声音的错误......请告诉我哪里是错误编码？？？？它是文本字段的文本字段和事件侦听器。

```
 import java.awt.*;
import java.awt.event.*;
import javax.swing.*;
import java.sql.*;

public class Trans implements ActionListener
{
Connection con;
Statement st;
ResultSet rs;
PreparedStatement ps;

Frame f;

Label accountl=new Label("Account Number:");
Label name=new Label("Customer Name:");
Label dob=new Label("Customer DOB:");

TextField accountt=new TextField(15);
Label namel=new Label();
Label dobl=new Label();

Label[] bal=new Label[50];
Label[] dep=new Label[50];
Label[] wit=new Label[50];

Label withdraw=new Label("Withdraw");
Label deposit=new Label("Deposit");
Label balance=new Label("Balance");

ImageIcon ic=new ImageIcon("close.jpg");
JButton ok=new JButton(ic);

Font lt=new Font("Book Antiqua",Font.BOLD,14);

ImageIcon i0=new ImageIcon("transaction.png");
JLabel idl=new JLabel(i0);

ImageIcon i01=new ImageIcon("blue.png");
JLabel idl1=new JLabel(i01);

int stringcounter,temp=0;
String s,s1,s2,s3,s4;
String[] str=new String[50];
String[] str1=new String[50];
String[] str2=new String[50];

public Trans()
{

connect();
frame();

}

    public void frame()
    {

    f=new Frame("Last 5 Transactions Only");
    f.setResizable(false);
    f.setVisible(true);
    f.setBounds(250,20,600,500);            //(hor,ver,width,hieght)

    Panel p=new Panel();
    f.add(p);
    p.setLayout(null);
    p.setBackground(Color.WHITE);   // set bg if you want

    accountl.setFont(lt);
    accountt.setFont(lt);
    name.setFont(lt);
    namel.setFont(lt);
    dob.setFont(lt);
    dobl.setFont(lt);

    p.add(accountl);
    accountl.setBounds(20,30,150,25);   //(hor,ver,width,hieght)
    p.add(accountt);            // automatic account num.
    accountt.setBounds(180,30,100,25);  //(hor,ver,width,hieght)

    p.add(name);
    name.setBounds(20,75,150,25);           //(hor,ver,width,hieght)
    p.add(namel);                   // automatic account num.
    namel.setBounds(180,75,100,25);         //(hor,ver,width,hieght)

    p.add(dob);
    dob.setBounds(20,120,150,25);           //(hor,ver,width,hieght)
    p.add(dobl);                    // automatic account num.
    dobl.setBounds(180,120,100,25);         //(hor,ver,width,hieght)

    int diff=40,fix=170;            // hor ver arrangement

    for(int j=49;j>44;j--)
    {
    bal[j]=new Label("");           // last five labels added
    p.add(bal[j]);
    bal[j].setFont(lt);
    fix=fix+diff;
    bal[j].setBounds(180,fix,60,25);
    }

    int diff1=40,fix1=170;          // hor ver arrangement

    for(int j1=49;j1>44;j1--)
    {
    dep[j1]=new Label("");          // last five labels added
    p.add(dep[j1]);
    dep[j1].setFont(lt);
    fix1=fix1+diff1;
    dep[j1].setBounds(100,fix1,60,25);
    }

    int diff2=40,fix2=170;          // hor ver arrangement

    for(int j2=49;j2>44;j2--)
    {
    wit[j2]=new Label("");          // last five labels added
    p.add(wit[j2]);
    wit[j2].setFont(lt);
    fix2=fix2+diff2;
    wit[j2].setBounds(20,fix2,60,25);
    }

    p.add(withdraw);
    withdraw.setFont(lt);
    withdraw.setBounds(20,180,70,25);

    p.add(deposit);
    deposit.setFont(lt);
    deposit.setBounds(100,180,60,25);

    p.add(balance);
    balance.setFont(lt);
    balance.setBounds(180,180,60,25);

    p.add(ok);
    ok.setBorder(null);
    ok.setCursor(new Cursor(Cursor.HAND_CURSOR));
    ok.setBounds(260,390,100,35);           //(hor,ver,width,hieght)

    p.add(idl);
    idl.setBounds(370,150,197,173);         //(hor,ver,width,hieght)

    p.add(idl1);
    idl1.setBounds(20,150,280,37);          //(hor,ver,width,hieght)

    accountt.addActionListener(this);
    ok.addActionListener(this);

    }

public void actionPerformed(ActionEvent ae)
{

if(ae.getSource()==accountt)
{
try
{
    accountt.setEditable(false);
    s=accountt.getText();
    stringcounter=0;
    String sql="select * from CUSTOMERS where ACCOUNT="+s;
    rs=st.executeQuery(sql);

    while(rs.next())
    {
    s4=rs.getString(3);     // user NAME return
    s2=rs.getString(5);     // DOB
    temp++;
    }

    if(temp==0)
    {
    JOptionPane.showMessageDialog(null,"Record Not Found"); 
    }

    namel.setText(s4);
    dobl.setText(s2);

    String sql1="select * from TRANSACTIONS where ACCOUNT="+s;
    rs=st.executeQuery(sql1);       
    while(rs.next())
    {

     str[stringcounter]=rs.getString(4);    //balance
     str1[stringcounter]=rs.getString(3);   //deposit
     str2[stringcounter]=rs.getString(2);   //Withdraw
     stringcounter++;

    }
        stringcounter--;            // extra subtracted
        int cond=stringcounter,lastfive=49; // needed below

        for(int x=stringcounter; x>(cond-5); x--)
        {

        bal[lastfive].setText(str[x]);
        dep[lastfive].setText(str1[x]);
        wit[lastfive].setText(str2[x]);

        if(str[x]==null)
        {
        break;              // if no record break
        }

        if(str1[x]==null)
        dep[lastfive].setText("---");

        if(str2[x]==null)
        wit[lastfive].setText("---");

        lastfive--;

        }

}       //try

catch(Exception e)
{
// System.out.println("error in change button event"+stringcounter+s2+s+s4);
}
}   // if accountt

if(ae.getSource()==ok)
{
f.setVisible(false);
}

}           // action performed

    public void connect()
    {

    try
    {

    String driver="sun.jdbc.odbc.JdbcOdbcDriver";   //declaring drivers
    Class.forName(driver);              //loading drivers

    String path="jdbc:odbc:mybank";         //defining path to database
    con=DriverManager.getConnection(path);      //connecting to database
    st=con.createStatement();           //accessing to Tabels of DB

    }   // try

    catch(Exception e)
    {
    System.out.println("Error in connect method");
    }

    }           // connect

public static void main(String arg[])
{
    new Trans();
}
} 
```

# c - 在 CUDA SDK 中使用 RegEx？

> ID：15964126
> 
> 赞同：2
> 
> 时间：2013-04-12T05:59:19.643
> 
> 标签：c, regex, cuda

cuda sdk 是否有`regex.h`或是否有使用 CUDA 实现 Regex 的特定 API？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2014-05-28T09:13:04.260

在撰写本文时，CUDA SDK/工具包没有附带任何用于解析设备代码中的正则表达式的库。

评论中建议GitHub 上[的 CUDA-grep](https://github.com/bkase/CUDA-grep)存储库可能有一些用处，尽管该代码的质量、完整性和天意是完全未知的。

*请注意，此答案已作为社区 wiki 条目添加，以将此问题从未回答的问题列表中删除*

# android - Android + Google API v2 + 应用程序未启动

> ID：15964131
> 
> 赞同：0
> 
> 时间：2013-04-12T05:59:41.243
> 
> 标签：android, google-maps, compiler-errors

我正在创建一个 Google Map API v2 应用程序，但我在 LogCat 中发现了一个问题，并且 O 不知道如何解决它，谁能帮助我？

我正在使用 API Google 16。我已导入 Google Play 服务并添加到项目中，但我在 LogCat 中遇到了这个问题。

我将不胜感激。

# 主要的.xml

```
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:orientation="vertical" >

    <fragment
        android:name="com.google.android.gms.maps.SupportMapFragment"
        class="android.support.v4.app.DialogFragment"
        android:id="@+id/map"
        android:layout_width="match_parent"
        android:layout_height="match_parent" />
</LinearLayout> 
```

# 日志猫

```
 04-12 07:54:02.176: E/Trace(1119): error opening trace file: No such file or directory (2)
04-12 07:54:03.236: D/AndroidRuntime(1119): Shutting down VM
04-12 07:54:03.236: W/dalvikvm(1119): threadid=1: thread exiting with uncaught exception (group=0x40a13300)
04-12 07:54:03.259: E/AndroidRuntime(1119): FATAL EXCEPTION: main
04-12 07:54:03.259: E/AndroidRuntime(1119): java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.googlemapv2/com.example.googlemapv2.MainActivity}: android.view.InflateException: Binary XML file line #7: Error inflating class fragment
04-12 07:54:03.259: E/AndroidRuntime(1119):     at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2059)
04-12 07:54:03.259: E/AndroidRuntime(1119):     at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2084)
04-12 07:54:03.259: E/AndroidRuntime(1119):     at android.app.ActivityThread.access$600(ActivityThread.java:130)
04-12 07:54:03.259: E/AndroidRuntime(1119):     at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1195)
04-12 07:54:03.259: E/AndroidRuntime(1119):     at android.os.Handler.dispatchMessage(Handler.java:99)
04-12 07:54:03.259: E/AndroidRuntime(1119):     at android.os.Looper.loop(Looper.java:137)
04-12 07:54:03.259: E/AndroidRuntime(1119):     at android.app.ActivityThread.main(ActivityThread.java:4745)
04-12 07:54:03.259: E/AndroidRuntime(1119):     at java.lang.reflect.Method.invokeNative(Native Method)
04-12 07:54:03.259: E/AndroidRuntime(1119):     at java.lang.reflect.Method.invoke(Method.java:511)
04-12 07:54:03.259: E/AndroidRuntime(1119):     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:786)
04-12 07:54:03.259: E/AndroidRuntime(1119):     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:553)
04-12 07:54:03.259: E/AndroidRuntime(1119):     at dalvik.system.NativeStart.main(Native Method)
04-12 07:54:03.259: E/AndroidRuntime(1119): Caused by: android.view.InflateException: Binary XML file line #7: Error inflating class fragment
04-12 07:54:03.259: E/AndroidRuntime(1119):     at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:704)
04-12 07:54:03.259: E/AndroidRuntime(1119):     at android.view.LayoutInflater.rInflate(LayoutInflater.java:746)
04-12 07:54:03.259: E/AndroidRuntime(1119):     at android.view.LayoutInflater.inflate(LayoutInflater.java:489)
04-12 07:54:03.259: E/AndroidRuntime(1119):     at android.view.LayoutInflater.inflate(LayoutInflater.java:396)
04-12 07:54:03.259: E/AndroidRuntime(1119):     at android.view.LayoutInflater.inflate(LayoutInflater.java:352)
04-12 07:54:03.259: E/AndroidRuntime(1119):     at com.android.internal.policy.impl.PhoneWindow.setContentView(PhoneWindow.java:256)
04-12 07:54:03.259: E/AndroidRuntime(1119):     at android.app.Activity.setContentView(Activity.java:1867)
04-12 07:54:03.259: E/AndroidRuntime(1119):     at com.example.googlemapv2.MainActivity.onCreate(MainActivity.java:13)
04-12 07:54:03.259: E/AndroidRuntime(1119):     at android.app.Activity.performCreate(Activity.java:5008)
04-12 07:54:03.259: E/AndroidRuntime(1119):     at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1079)
04-12 07:54:03.259: E/AndroidRuntime(1119):     at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2023)
04-12 07:54:03.259: E/AndroidRuntime(1119):     ... 11 more
04-12 07:54:03.259: E/AndroidRuntime(1119): Caused by: java.lang.IllegalStateException: Fragment android.support.v4.app.DialogFragment did not create a view.
04-12 07:54:03.259: E/AndroidRuntime(1119):     at android.support.v4.app.FragmentActivity.onCreateView(FragmentActivity.java:303)
04-12 07:54:03.259: E/AndroidRuntime(1119):     at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:676)
04-12 07:54:03.259: E/AndroidRuntime(1119):     ... 21 more 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-12T07:16:21.963

你的问题是这个错误行：

```
Caused by: android.view.InflateException: Binary XML file line #7: Error inflating class fragment 
```

基本上，如果您收到，那么您的问题可能是因为/是该库的一部分，因此`fragment/class not found error`缺乏对该库的良好参考：`google-play-services``MapFragment``SupportMapFragment`

检查你的`Android Dependencies`文件夹是否`(blue)`在`google-play-services` `(orange)`里面，你会发现有这个类的`com.google.android.gms.maps`包：`(green)``MapFragment``(red)`

![在此处输入图像描述](https://i.stack.imgur.com/rizxV.png)

如果不是这种情况，您可以查看我写的这篇博文的前 3 个步骤，以了解如何正确引用这个包：

[谷歌地图 API V2](http://blog-emildesign.rhcloud.com/?p=435)

# c# - 如何将 CurrentCulture 格式的日期时间转换为公历日期时间？

> ID：15964136
> 
> 赞同：6
> 
> 时间：2013-04-12T05:59:54.413
> 
> 标签：c#, datetime

我这样设置`Global.asax`：

```
protected void Application_BeginRequest(object sender, EventArgs e)
    {
        PersianCulture fa = new PersianCulture();

        Thread.CurrentThread.CurrentCulture = fa;
    } 
```

我想将“1392 1 23”转换为“2013 4 12”。

我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-04-12T06:03:20.317

没有“波斯人`DateTime`”这样的东西。值`DateTime`始终*是*公历值，没有特定格式。当您格式化它（通常通过调用`ToString`）时，您可以确定它的格式 - 如果您使用使用非公历的文化，它会将原始值转换为该日历。

因此，例如，如果您想解析来自波斯用户的输入，然后将其转换为英语用户可以理解的等效日期，您可以使用：

```
DateTime date = DateTime.Parse(text, persianCulture);
string englishText = date.ToString(englishCulture); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-12T06:04:59.903

我不相信有一个术语叫做*英语 Datetime*的*波斯语*Datetime 。

 *来自[*MSDN*](http://msdn.microsoft.com/en-us/library/system.datetime.aspx)；

> DateTime 值类型表示日期和时间，其值范围从 00:00:00（午夜）、0001 年 1 月 1 日 Anno Domini（普通时代）到 11:59:59 PM、9999 年 12 月 31 日（**公历）日历。**

当您使用`Culture`时`DateTime`，它会自动转换为此日历。

> 该类`CultureInfo`提供特定于文化的信息，例如与特定文化相关的语言、子语言、国家/地区、日历和惯例。此类还提供对`DateTimeFormatInfo`、 `NumberFormatInfo`、`CompareInfo`和`TextInfo`对象的文化特定实例的访问。这些对象包含特定区域性操作所需的信息，**例如大小写、格式化日期和数字以及比较字符串。**

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-12T06:12:11.793

您可以使用[DateTime.Parse()](http://msdn.microsoft.com/en-us/library/system.datetime.parseexact.aspx)

```
 System.Globalization.CultureInfo cultureinfo = 
    new System.Globalization.CultureInfo("en-US");
    DateTime dt = DateTime.Parse("11/04/2013", cultureinfo); 
```*

# android - Google Drive 客户端/服务器应用

> ID：15964143
> 
> 赞同：2
> 
> 时间：2013-04-12T06:00:35.177
> 
> 标签：android, google-drive-api

我想在 Android 上有一个客户端应用程序，它接受用户输入和相关数据，将其压缩，并将数据存储在用户的 Google Drive 帐户中。然后客户端应用程序将与服务器的 Google Drive 帐户共享 zip 文件。

.net 服务器将监视其帐户中的新 zip 文件，然后将其处理为另一个文件并与原始用户共享。然后服务器会向用户发送一封电子邮件，通知他结果存储在他的驱动器上。

这个工作流程可行吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-12T23:42:06.897

该流程可以通过多种方式实现，但您不需要服务器的 Google Drive 帐户。

您的身份验证应该让服务器知道用户的凭据。然后，您的服务器可以发出服务器端请求以检索文件、处理它们并将处理后的文件上传到用户的驱动器。

# ios - 如何在目标c中创建具有内存效率的PDF（大）？

> ID：15964146
> 
> 赞同：0
> 
> 时间：2013-04-12T06:00:49.183
> 
> 标签：ios, objective-c

我正在尝试创建一个由大约 30 页（仅 2mb）组成的 Pdf，但该应用程序过去常常收到内存警告并经常崩溃。我曾经使用 UIGraphicsBeginImageContextWithOptions 来获取一些图像，还使用 ​​renderInContext 来获取 xibs 的图像并写入文件。

**示例代码**

```
UIGraphicsBeginImageContextWithOptions(view.frame.size, NO, [[UIScreen mainScreen] scale]);
                        [view.layer renderInContext:UIGraphicsGetCurrentContext()];

UIImage *myImage = UIGraphicsGetImageFromCurrentImageContext();
                        imageView.image = nil;
                        imageView = [[UIImageView alloc] initWithImage:UIGraphicsGetImageFromCurrentImageContext()];
                        UIGraphicsEndImageContext();
                        NSString *name = [NSString stringWithFormat:@"Screen_%d%@",item,imageNumber];
                        NSString  *pngPath = PDFTempResourceDirectory();
                        pngPath = [pngPath stringByAppendingPathComponent:name];
                        [UIImagePNGRepresentation(imageView.image) writeToFile:pngPath atomically:YES]; 
```

以下是我用于创建 pdf 的代码

```
 -(void)setPDFOutPutPath:(NSString*)path{

NSString *pdfPathOutput = [PDFFileDirectory() stringByAppendingPathComponent:[NSString stringWithFormat:@"%@",path]];
CFURLRef pdfURLOutput = (__bridge CFURLRef)[NSURL fileURLWithPath:pdfPathOutput isDirectory:NO];
writeContext = CGPDFContextCreateWithURL(pdfURLOutput, NULL, NULL);
CGContextSetInterpolationQuality(writeContext,kCGInterpolationNone);
pdfPathOutput = nil;
}

-(void)appendPDfFile:(NSString *)path{

CFURLRef pdfURL;
CGPDFDocumentRef pdfRef;
NSInteger numberOfPages;
CGPDFPageRef page;
CGRect mediaBox;

pdfURL = (__bridge CFURLRef)[NSURL fileURLWithPath:path isDirectory:NO];
pdfRef = CGPDFDocumentCreateWithURL(pdfURL);
numberOfPages = CGPDFDocumentGetNumberOfPages(pdfRef);

for (int i=1; i<=numberOfPages; i++) {
    page = CGPDFDocumentGetPage(pdfRef, i);
    mediaBox = CGPDFPageGetBoxRect(page, kCGPDFMediaBox);
    CGContextBeginPage(writeContext, &mediaBox);
    CGContextDrawPDFPage(writeContext, page);
    CGContextEndPage(writeContext);
}
CGPDFDocumentRelease(pdfRef);
} 
```

用于创建 pdf

///

```
(void)createSinglePDF:(CALayer *)inputView with:(int)pageNumber{

    @autoreleasepool {

        NSMutableData *pdfData = [NSMutableData data];
        UIGraphicsBeginPDFContextToData(pdfData, firstPage.bounds, nil);
        CGContextRef pdfContext = UIGraphicsGetCurrentContext();
        UIGraphicsBeginPDFPage();
        [inputView renderInContext:pdfContext];
        UIGraphicsEndPDFContext();
//        if(pdfContext)
//            CGContextClearRect(pdfContext, firstPage.bounds);
//        if(pdfContext)
//            CGContextFlush(pdfContext);
        NSString *fileName = [NSString stringWithFormat:@"PDFReport_%d.pdf",pageNumber];
        NSString *documentDirectoryFilename = [PDFFileDirectory() stringByAppendingPathComponent:fileName];
        BOOL isSaved =[pdfData writeToFile:documentDirectoryFilename atomically:YES];
        NSString *pdfPath  = [PDFFileDirectory() stringByAppendingPathComponent:[NSString stringWithFormat:@"PDFReport_%d.pdf",pageNumber]];
        [self appendPDfFile:pdfPath];
            // CGPDFContextClose(pdfContext);
       // CGContextRelease(pdfContext);
    } 
```

}

# javascript - 使用 Jquery 或 javascript 如何按顺序显示图像

> ID：15964149
> 
> 赞同：0
> 
> 时间：2013-04-12T06:00:58.307
> 
> 标签：javascript, jquery, html

在我的 html 中，我有很多 div 元素。我想按顺序显示 div。现在我正在使用这段代码：

HTML：

```
<div id="text">
    <img src="images/text.png" />
</div>
<div id="tv" style="display:none;">
    <img src="images/tv.png" />
</div>
<div id="mobile" style="display:none;">
    <img src="images/mcu.png" />
</div>
<div id="remote" style="display:none;">
    <img src="images/rcu.png" />
</div> 
```

Javascipt：

```
$(document).ready(function () {
    setTimeout(function () {
        $("#tv").show();
    }, 3000);
    setTimeout(function () {
        $("#mobile").fadeIn(500);
    }, 4500);
    setTimeout(function () {

        $("#remote").show();
    }, 5500);

}); 
```

这段代码运行良好。在这里我有 4 个 div，所以我可以手动更改时间。但我需要的是，创建 50 个这样的 div，我需要按顺序显示。如果我对这 50 个 div 使用这个 setTimeout 意味着这将非常困难。

除了这个概念之外，还有什么方法可以按顺序显示 div。任何人都可以在这方面帮助我。

提前致谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-12T06:09:59.060

一种选择是创建一个设置超时的循环：

```
<div id="text" class="fadein">
    <img src="images/text.png" />
</div>
<div id="tv" class="fadein" style="display:none;">
    <img src="images/tv.png" />
</div>
<div id="mobile" class="fadein" style="display:none;">
    <img src="images/mcu.png" />
</div>
<div id="remote" class="fadein" style="display:none;">
    <img src="images/rcu.png" />
</div>

<script type="text/javascript">
    $('.fadein').each(function(index, elem) {
        setTimeout(function () {
            $(elem).fadeIn(500);
        }, index * 500);
    });
</script> 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-12T06:15:56.203

处理超时值的一种方法是通过`data-time`（任意名称）属性。

可能的 HTML：

```
<div id="images">
  <div id="text" data-time="500">
      <img src="http://dummyimage.com/600x400/000/fff" />
  </div>
  <div id="tv" data-time="1000" style="display:none;">
      <img src="http://dummyimage.com/600x400/000/aaa" />
  </div>
  <div id="mobile" data-time="250" style="display:none;">
      <img src="http://dummyimage.com/600x400/000/333" />
  </div>
  <div id="remote" data-time="750" style="display:none;">
      <img src="http://dummyimage.com/600x400/000/111" />
  </div>
</div> 
```

可能的脚本：

```
$('#images').children().each(function(index, elem) {
  setTimeout(function () {
    $(elem).fadeIn($(this).attr('data-time'));
  }, $(this).attr('data-time'));
}); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-12T06:12:24.703

一个 setInterval 会起作用。

```
<div id="tv" class="ImageContainer" style="display:none;">
    <img src="images/tv.png" />
</div>
<div id="mobile" class="ImageContainer" style="display:none;">
    <img src="images/mcu.png" />
</div>
<div id="remote" class="ImageContainer" style="display:none;">
    <img src="images/rcu.png" />
</div>

$(document).ready(function () {
    var arrImageContainer = $(".ImageContainer");
    var nIndex = 0;
    var iInterval = setInterval(function () {
        if(nIndex == arrImageContainer.length)
        {
            clearInterval(iInterval);
        }
        $(arrImageContainer[nIndex]).fadeIn(500);
        nIndex++;
    }, 1500);
}); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-12T06:36:39.743

```
<!DOCTYPE html>
<html>
    <head>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"</script>
        <script>
            var a=1;
            function slide1(){
                setInterval(function(){
                    $(".slide").css("display","none");
                    $("#d"+a).fadeIn(500);
                    a=a+1;
                    if(a==51)
                        a=1;
                },1000);
            }
        </script>
    </head>
    <body >
        <div style="display:none" class="slide" id="d1">1</div>
        <div style="display:none" class="slide" id="d2">2</div>
        <div style="display:none" class="slide" id="d3">3</div>
        <div style="display:none" class="slide"  id="d4">4</div>
        <div style="display:none" class="slide"  id="d5">5</div>
        <div style="display:none" class="slide"  id="d6">6</div>
        <div style="display:none" class="slide"  id="d7">7</div>
        <div style="display:none" class="slide"  id="d8">8</div>
        <div style="display:none" class="slide"  id="d9">9</div>
        <div style="display:none" class="slide"  id="d10">10</div>

        <div style="display:none" class="slide"  id="d11">11</div>
        <div style="display:none" class="slide"  id="d12">12</div>
        <div style="display:none" class="slide"  id="d13">13</div>
        <div style="display:none" class="slide"  id="d14">14</div>
        <div style="display:none" class="slide"  id="d15">15</div>
        <div style="display:none" class="slide"  id="d16">16</div>
        <div style="display:none" class="slide"  id="d17">17</div>
        <div style="display:none" class="slide"  id="d18">18</div>
        <div style="display:none" class="slide"  id="d19">19</div>
        <div style="display:none" class="slide"  id="d20">20</div>

        <div style="display:none" class="slide"  id="d21">21</div>
        <div style="display:none" class="slide"  id="d22">22</div>
        <div style="display:none" class="slide"  id="d23">23</div>
        <div style="display:none" class="slide"  id="d24">24</div>
        <div style="display:none" class="slide"  id="d25">25</div>
        <div style="display:none" class="slide"  id="d26">26</div>
        <div style="display:none" class="slide"  id="d27">27</div>
        <div style="display:none" class="slide"  id="d28">28</div>
        <div style="display:none" class="slide"  id="d29">29</div>
        <div style="display:none" class="slide"  id="d30">30</div>

        <div style="display:none" class="slide"  id="d31">31</div>
        <div style="display:none" class="slide"  id="d32">32</div>
        <div style="display:none" class="slide"  id="d33">33</div>
        <div style="display:none" class="slide"  id="d34">34</div>
        <div style="display:none" class="slide"  id="d35">35</div>
        <div style="display:none" class="slide"  id="d36">36</div>
        <div style="display:none" class="slide"  id="d37">37</div>
        <div style="display:none" class="slide"  id="d38">38</div>
        <div style="display:none" class="slide"  id="d39">39</div>
        <div style="display:none" class="slide"  id="d40">40</div>

        <div style="display:none" class="slide"  id="d41">41</div>
        <div style="display:none" class="slide"  id="d42">42</div>
        <div style="display:none" class="slide"  id="d43">43</div>
        <div style="display:none" class="slide"  id="d44">44</div>
        <div style="display:none" class="slide"  id="d45">45</div>
        <div style="display:none" class="slide"  id="d46">46</div>
        <div style="display:none" class="slide"  id="d47">47</div>
        <div style="display:none" class="slide"  id="d48">48</div>
        <div style="display:none" class="slide"  id="d49">49</div>
        <div style="display:none" class="slide"  id="d50">50</div>

        <input type="button" onclick="slide1()" value="click me">
    </body>
</html> 
```

# mysql - mysql中的COMMENT是什么？

> ID：15964151
> 
> 赞同：0
> 
> 时间：2013-04-12T06:01:08.340
> 
> 标签：mysql

我已经看到像这样的代码片段`person_id`varchar(255) NOT NULL COMMENT 'Mass castant patient ID'，这个 COMMENT 的用途是什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-12T06:03:27.613

“评论”是软件开发中一个流行的艺术术语。我不会重复含义，因为我确定您知道，但 MySQL 允许您将注释添加到列作为 DDL 的一部分：http: [//dev.mysql.com/doc/refman/5.1/en/创建-table.html](http://dev.mysql.com/doc/refman/5.1/en/create-table.html)

> 可以使用 COMMENT 选项为列指定注释，最长为 255 个字符。注释由 SHOW CREATE TABLE 和 SHOW FULL COLUMNS 语句显示。

# mysql - 在组中选择分钟

> ID：15964155
> 
> 赞同：0
> 
> 时间：2013-04-12T06:01:14.210
> 
> 标签：mysql, group-by, min

我有一个中等复杂的查询要运行，为了这个问题，我在下面做了一些简化。我有 2 张桌子；

```
TABLE: plan_costs
id,   plan_id,   cost,    special_cost   + more columns....
1     1          23.00    12.00
2     1          25.00    15.00
3     2          5.00     2.00
4     2          45.00    28.00
5     3          35.00    30.00
6     3          65.00    60.00

TABLE: plan_details
plan_id,   group_id,    + more columns....
1          1
2          1
3          2 
```

我需要的是最便宜的计划列表，介于 2 个值之间（在本例中为 5 和 30），但每组只有一个计划。当我运行下面的计划时，我每组得到一个计划，但它并不总是最便宜的。注意：有一个 case 条件，如果它不为 0，则优先使用 special_cost 而不是 cost。有什么想法吗？

```
SELECT p1.id,
       p2.plan_id,
       p1.cost,
       p1.special_cost CASE
                           WHEN p1.special_cost = 0 THEN MIN(p1.cost)
                           ELSE MIN(p1.special_cost)
                       END AS cost_order,
FROM plan_costs AS p1
LEFT JOIN plan_details AS p2 ON (p2.plan_id = p1.plan_id)
WHERE CASE
          WHEN p1.special_cost = 0 THEN p1.cost >= 5
          ELSE p1.special_cost >= 5
      END
  AND CASE
          WHEN p1.special_cost = 0 THEN p1.cost <= 30
          ELSE p1.special_cost <= 30
      END
GROUP BY p2.group_id
ORDER BY CASE
             WHEN p1.special_cost = 0 THEN p1.cost
             ELSE p1.special_cost
         END ASC 
```

编辑：添加了我需要的最终结果

要求的结果：

```
id,   plan_id,   cost,    special_cost
1     1          23.00    12.00
5     3          35.00    30.00 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-12T06:29:23.320

试试这个查询

```
SELECT 
   a.group_id, 
   pc.plan_id,
   a.minCost
FROM
   (SELECT 
      pd.group_id,
      min(if(pc.special_cost = 0, pc.cost, pc.special_cost)) as minCost 
   FROM
      plan_costs pc
   INNER JOIN
      plan_details pd
   ON 
      pd.plan_id = pc.plan_id
   GROUP BY 
      pd.group_id) a
INNER JOIN
   plan_details pd
ON   
   pd.group_id = a.group_id
INNER JOIN
   plan_costs pc
ON
   pc.plan_id = a.plan_id AND 
   if(pc.special_cost = 0, pc.cost, pc.special_cost) = a.minCost 
```

MySQL 扩展了 GROUP BY 的使用，以便选择列表可以引用未在 GROUP BY 子句中命名的非聚合列。服务器可以自由地从每个组中选择任何值，所以在我们的例子中`plan_id`是不同的，所以我们不能利用这个特性，所以我们必须进行额外的连接来获得想要的结果......

希望这可以帮助...

# javascript - 如何编写路由器以从 URL 参数打开 Joomla Squeezebox 模式？

> ID：15964158
> 
> 赞同：1
> 
> 时间：2013-04-12T06:01:37.307
> 
> 标签：javascript, joomla, mootools, squeezebox

我有一个使用 Squeezebox 的 Joomla 站点，它是 Joomla 的默认模态 javascript。

我一直在使用带有模板覆盖的 Squeezebox。例如，我有一个链接可以在作为模板覆盖的一部分的每个页面上查看：

```
<a href="http://www.viddler.com/embed/cd1b1bc5/?f=1&autoplay=1&player=full&secret=104492144&loop=0&nologo=1&hd=1" class="modal vid-primary" rel="{url:'http://www.viddler.com/embed/cd1b1bc5/?f=1&autoplay=1&player=full&secret=104492144&loop=0&nologo=1&hd=1', handler: 'iframe', size: {x:741, y:459} }" style="display: block; position: relative;"> 
```

这些链接以模式打开视频。

如果存在 URL 参数，我需要做的是能够在加载时打开此视频。例如：

[http://mysite.com/page.html?vidload=vidload](http://mysite.com/page.html?vidload=vidload)

所以我需要一个可以处理这个问题的路由器。我[发现了一些](https://stackoverflow.com/questions/10022543/open-modal-with-in-url)接近我所追求的东西，但不知道如何让它发挥作用。这是我到目前为止所得到的：

```
window.addEvent('domready', function() {
 function popModal() {
  SqueezeBox.open($('vid-primary'), {
        handler: 'adopt'
    });
}

var hash = window.location.hash;
if (hash.substring(1) == 'vidload') {
  popModal();
}

}); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-12T07:25:52.607

在模板覆盖中包含模态库：

```
<?php JHtml::_('behavior.modal'); ?> 
```

使用这样的链接：

```
<a class="modal" rel="{handler: 'iframe', size: {x: 800, y: 500}}" title="Modal box title" href="[your link]" >open</a> 
```

更多 [Squeezebox 文档](http://digitarald.de/project/squeezebox/1-1/showcase/iframed/)和[JHtml::_('behaviour.modal') 选项](http://docs.joomla.org/API16%3aJHtmlBehavior/modal#Examples)

更新：我认为下面阿迪迪的回答就是你所追求的。如果你加载 MooTools More，你可以使用[URI 类](http://mootools.net/docs/more/Types/URI#URI%3aget)：

```
var uri = new URI (location.href);
if (uri.getData('vidload') == 'vidload') {
    SqueezeBox.open($('vid-primary'), { handler: 'adopt' });
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-12T13:34:45.190

您正在尝试获取哈希，并且根据您的需要它是空的，如果您需要的是一个获取查询字符串参数的函数，您可以使用这个简单的函数：

```
function getURLParam(key,target){
    var value = '';
    if(!target){
        target = location.href;
    }

    var pattern = key + '=([^&#]+)';
    var o_reg = new RegExp(pattern,'i');
    var matches = o_reg.exec(target);
    if(matches && matches[1]){
        value = matches[1];
    }

    return value;
}

if(getURLParam('vidload') == 'vidload'){
  popModal();
} 
```

# android - Android ImageAdapter setImageResource

> ID：15964160
> 
> 赞同：1
> 
> 时间：2013-04-12T06:01:43.027
> 
> 标签：android, imageview

以下是我的代码。我正在尝试将我的 sd 卡中的图像检索到 gridview 中。我的代码有问题。我不知道如何将图像设置到我的 imageview 中。我在 ImageAdapter 中收到错误“ImageView 类型中的方法 setImageResource(int) 不适用于参数 (String)”

```
public class GridViewActivity extends Activity {
    private String[] mFileStrings;
    private File[] listFile;
    GridView grid;

    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        // Set title for the GridView
        setTitle("GridView");
        setContentView(R.layout.grid_view);

        File file = new File(Environment.getExternalStorageDirectory()
                + File.separator + "Tutorial");

        if (file.isDirectory()) {
            listFile = file.listFiles();
            mFileStrings = new String[listFile.length];

            for (int i = 0; i < listFile.length; i++) {
                mFileStrings[i] = listFile[i].getAbsolutePath();
            }
        }

        grid = (GridView) findViewById(R.id.gridview);

        grid.setAdapter(new ImageAdapter(this, mFileStrings));
    } 
```

图像适配器

```
public class ImageAdapter extends BaseAdapter {
    private Context mContext;
    private String[] data;
    public ImageAdapter(Context c, String[] d) {
        mContext = c;
        data=d;
    }

    public int getCount() {
        return data.length;
    }

    public Object getItem(int position) {
        return position;
    }

    public long getItemId(int position) {
        return position;
    }

    // Create a new ImageView for each item referenced by the Adapter
    public View getView(int position, View convertView, ViewGroup parent) {
        ImageView imageView;
        if (convertView == null) {  // If it's not recycled, initialize some attributes
            imageView = new ImageView(mContext);
            imageView.setScaleType(ImageView.ScaleType.CENTER_CROP);
        } else {
            imageView = (ImageView) convertView;
        }

        imageView.setImageResource(data[position]); //The method setImageResource(int) in the type ImageView is not applicable for the arguments (String)
        return imageView;
    }

} 
```

**我的编辑**

```
 public View getView(int position, View convertView, ViewGroup parent) {
        ImageView imageView;
        if (convertView == null) {
            imageView = new ImageView(mContext);
            imageView.setScaleType(ImageView.ScaleType.CENTER_CROP);
        } else {
            imageView = (ImageView) convertView;
        }

        File imgFile = new File("" + data[position]);
        Bitmap myBitmap = BitmapFactory.decodeFile(imgFile.getAbsolutePath());
        imageView.setImageBitmap(myBitmap);
        return imageView;

    } 
```

日志猫：

```
04-12 14:18:59.811: E/AndroidRuntime(27379): FATAL EXCEPTION: main
04-12 14:18:59.811: E/AndroidRuntime(27379): java.lang.OutOfMemoryError
04-12 14:18:59.811: E/AndroidRuntime(27379):    at android.graphics.BitmapFactory.nativeDecodeStream(Native Method)
04-12 14:18:59.811: E/AndroidRuntime(27379):    at android.graphics.BitmapFactory.decodeStream(BitmapFactory.java:587)
04-12 14:18:59.811: E/AndroidRuntime(27379):    at android.graphics.BitmapFactory.decodeFile(BitmapFactory.java:389)
04-12 14:18:59.811: E/AndroidRuntime(27379):    at android.graphics.BitmapFactory.decodeFile(BitmapFactory.java:418)
04-12 14:18:59.811: E/AndroidRuntime(27379):    at com.androidbegin.gridview.ImageAdapter.getView(ImageAdapter.java:46)
04-12 14:18:59.811: E/AndroidRuntime(27379):    at android.widget.AbsListView.obtainView(AbsListView.java:2201)
04-12 14:18:59.811: E/AndroidRuntime(27379):    at android.widget.GridView.onMeasure(GridView.java:1026)
04-12 14:18:59.811: E/AndroidRuntime(27379):    at android.view.View.measure(View.java:12892)
04-12 14:18:59.811: E/AndroidRuntime(27379):    at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:4698)
04-12 14:18:59.811: E/AndroidRuntime(27379):    at android.widget.FrameLayout.onMeasure(FrameLayout.java:293)
04-12 14:18:59.811: E/AndroidRuntime(27379):    at android.view.View.measure(View.java:12892)
04-12 14:18:59.811: E/AndroidRuntime(27379):    at android.widget.LinearLayout.measureVertical(LinearLayout.java:812)
04-12 14:18:59.811: E/AndroidRuntime(27379):    at android.widget.LinearLayout.onMeasure(LinearLayout.java:553)
04-12 14:18:59.811: E/AndroidRuntime(27379):    at android.view.View.measure(View.java:12892)
04-12 14:18:59.811: E/AndroidRuntime(27379):    at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:4698)
04-12 14:18:59.811: E/AndroidRuntime(27379):    at android.widget.FrameLayout.onMeasure(FrameLayout.java:293)
04-12 14:18:59.811: E/AndroidRuntime(27379):    at com.android.internal.policy.impl.PhoneWindow$DecorView.onMeasure(PhoneWindow.java:2265)
04-12 14:18:59.811: E/AndroidRuntime(27379):    at android.view.View.measure(View.java:12892)
04-12 14:18:59.811: E/AndroidRuntime(27379):    at android.view.ViewRootImpl.performTraversals(ViewRootImpl.java:1624)
04-12 14:18:59.811: E/AndroidRuntime(27379):    at android.view.ViewRootImpl.handleMessage(ViewRootImpl.java:2628)
04-12 14:18:59.811: E/AndroidRuntime(27379):    at android.os.Handler.dispatchMessage(Handler.java:99)
04-12 14:18:59.811: E/AndroidRuntime(27379):    at android.os.Looper.loop(Looper.java:137)
04-12 14:18:59.811: E/AndroidRuntime(27379):    at android.app.ActivityThread.main(ActivityThread.java:4507)
04-12 14:18:59.811: E/AndroidRuntime(27379):    at java.lang.reflect.Method.invokeNative(Native Method)
04-12 14:18:59.811: E/AndroidRuntime(27379):    at java.lang.reflect.Method.invoke(Method.java:511)
04-12 14:18:59.811: E/AndroidRuntime(27379):    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:980)
04-12 14:18:59.811: E/AndroidRuntime(27379):    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:747)
04-12 14:18:59.811: E/AndroidRuntime(27379):    at dalvik.system.NativeStart.main(Native Method) 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-12T06:05:50.750

您正在设置 imageView.setImageResource(data[position]) 其中 data 是字符串数组。您需要将文件路径解码为位图，然后将其设置为您的图像视图。

在你的`getView()`

```
File imgFile = new  File(""+data[position]);
Bitmap myBitmap = BitmapFactory.decodeFile(imgFile.getAbsolutePath());
ImageView myImage = (ImageView) findViewById(R.id.imageviewTest);
myImage.setImageBitmap(myBitmap); 
```

编辑：

您也可以使用 LazyList 或 Universal Image Loader 来显示来自您的 sdcard 的图像。 [什么是懒惰列表？](https://stackoverflow.com/questions/15621936/whats-lazylist/15622374#15622374). 惰性列表确实缩小以减少内存消耗。Universal Image Loader 的工作原理与 LazyList 相同，但它有更多的配置选项。

[https://github.com/thest1/LazyList](https://github.com/thest1/LazyList)。

[https://github.com/nostra13/Android-Universal-Image-Loader](https://github.com/nostra13/Android-Universal-Image-Loader)

```
 //decodes image and scales it to reduce memory consumption
  private Bitmap decodeFile(File f){
     try {
        //decode image size
        BitmapFactory.Options o = new BitmapFactory.Options();
        o.inJustDecodeBounds = true;
        BitmapFactory.decodeStream(new FileInputStream(f),null,o);

        //Find the correct scale value. It should be the power of 2.
        final int REQUIRED_SIZE=70;
        int width_tmp=o.outWidth, height_tmp=o.outHeight;
        int scale=1;
        while(true){
            if(width_tmp/2<REQUIRED_SIZE || height_tmp/2<REQUIRED_SIZE)
                break;
            width_tmp/=2;
            height_tmp/=2;
            scale*=2;
        }

        BitmapFactory.Options o2 = new   BitmapFactory.Options();
        o2.inSampleSize=scale;
        return BitmapFactory.decodeStream(new FileInputStream(f), null, o2);
   } catch (FileNotFoundException e) {}
    return null;
} 
```

如果位图太大，您需要缩放它们，然后在 imageview 中显示相同。此外，您应该使用**视图支架来实现平滑滚动和性能**。您应该在不使用时回收位图。gridview 中的可见视图不会被回收。您可以使用 LazyList 或 Universal Image Loader。

[http://developer.android.com/training/improving-layouts/smooth-scrolling.html](http://developer.android.com/training/improving-layouts/smooth-scrolling.html)。

[http://www.youtube.com/watch?v=wDBM6wVEO70](http://www.youtube.com/watch?v=wDBM6wVEO70)。演讲是关于查看器和列表视图的性能。这同样适用于gridview。

[http://developer.android.com/training/displaying-bitmaps/load-bitmap.html](http://developer.android.com/training/displaying-bitmaps/load-bitmap.html)。有效地加载位图。

如果您遇到内存泄漏，请使用 MAT Analyzer 查找并修复问题。 [http://www.youtube.com/watch?v=_CruQY55HOk](http://www.youtube.com/watch?v=_CruQY55HOk)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-12T06:06:03.157

你必须在你的适配器中这样做

```
File f = new File("/mnt/sdcard/photo.jpg");
ImageView mImgView1 = (ImageView)findViewById(R.id.imageView);
Bitmap bmp = BitmapFactory.decodeFile(f.getAbsolutePath());
mImgView1.setImageBitmap(bmp); 
```

在这里你必须做`File f = new File(""+data[position]);`

**编辑：**你会`OutOfMemoryError`这样，我会让你失望..

## [**如何在 ListView 中延迟加载图像**](https://stackoverflow.com/questions/541966/how-do-i-do-a-lazy-load-of-images-in-listview)

检查上述链接的所有答案。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-12T06:28:02.040

为管理`Local file Path`和`Online url path`为您提供[更多](https://github.com/thest1/LazyList)`BaseAdpter` `lazy Loading`帮助

只需要关心你的`BaseAdpter`关于

```
ImageLoader imageLoader=new ImageLoader(context);
...
imageLoader.DisplayImage(url, imageView); 
```

# c++ - 在 C++ 中使用指针的实际意义是什么？

> ID：15964162
> 
> 赞同：0
> 
> 时间：2013-04-12T06:01:49.620
> 
> 标签：c++, pointers

好的，在我有机会忽略和跳过指针之后（当我第一次开始学习 C++ 时它们看起来真的很复杂>.<），我终于决定了解它们是什么以及如何使用它们。

所以现在我知道如何使用指针了，我唯一想不通的就是你为什么要使用它们。我已经在互联网上搜索了将近 7 个小时，但仍然找不到合适的解释。

那么，请有人向我解释一下使用指针的意义是什么？（如果可以的话，给我一个例子，最好是一个做一些相对有用的函数的例子，这样我就可以理解了）。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-12T06:05:15.903

几个选择示例，还有很多很多：

*   [链表](http://en.wikipedia.org/wiki/Linked_list)
*   [PIMPL](http://en.wikipedia.org/wiki/Opaque_pointer)
*   动态对象（`new`, `delete`, 动态大小的数组）
*   各类[工厂](http://en.wikipedia.org/wiki/Abstract_factory_pattern)
*   与 C 库接口

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-12T06:12:31.453

指针只是一个数字，用于存储内存位置的数字索引。每种语言的每个重要程序都需要这样的数字来跟踪有趣的函数和数据的位置。在某些语言中，指针的使用是隐藏的——您只会看到一些标识符，如“employee_name”，并且在内部编译器或解释器已安排存储并将指针传递给它，因为它需要使程序按照语言规定的方式运行，但它们总是在下面。

如果你看不到指针的使用，你就不能总是推断出语言中的哪些操作是便宜的，哪些会产生成本。

在 VB 等一些低级语言中，过去无法使用更高级的数据类型，如关联容器（`std::map`, `std::unordered_map`）、链表、图形等。必须使用内部使用 C 或 C++ 的笨拙函数来跟踪数据元素之间的关系。直接在 C++ 中工作，您可以自己创建此类数据类型，以使用适合您的精确行为、性能和内存使用折衷来建模任意关系。

C++ 公开了指针，因此您可以明确控制现有对象使用的内存区域是否在程序的不同部分传递，从而可能授予它们更改值甚至释放内存的访问权限。这比 Java、Ruby 和 C# 等其他语言更有效，在这些语言中，哪些代码可以访问某些数据而不是该数据的副本，何时可以发生复制，何时不再需要数据，则不太明显。存在诸如垃圾收集之类的东西来尝试跟踪数据的使用，但通常会引入性能问题、效率低下和不可预测的销毁时间——这是否重要取决于应用程序。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-12T06:17:18.083

最基本的原因是堆栈和堆的有效使用。

Stack 的大小非常有限，它是一个包含变量的容器。

堆（或“空闲存储”）是用于动态分配的大型内存池。它的大小受限于动态内存 (RAM) 中的可用空间。

如果您尝试在没有动态分配和指针的情况下将所有内容存储在堆栈中，您将陷入堆栈溢出。

您还可以将 heap 想象成一个旅行的国家，stack 是您的指南，您可以获取有关餐厅、酒店等位置的信息。

# android - 如何使用自定义启动器启动 android 手机

> ID：15964164
> 
> 赞同：-1
> 
> 时间：2013-04-12T06:01:52.513
> 
> 标签：android, android-theme, android-launcher

我想创建主题，为此我创建了一个启动器应用程序。因此，当我按下“主页”按钮时，它会显示我选择要启动的启动器。

但我不想要那个选择 UI，安装我的应用程序后，它应该自动启动并将其设置为默认启动器。

有可能吗？

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-12T06:06:29.173

不可以。默认情况下，如果用户没有选择权，则无法覆盖任何系统服务。这是为了安全 - 否则任何应用程序都可能欺骗人们下载它们，接管该服务（在本例中为启动器），并阻止用户使用他的手机。启动器会特别糟糕 - 它可能会阻止您打开设置或启动其他应用程序。巨大的恶意软件风险。这就是用户必须选择启动器、键盘等服务的原因。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-12T06:15:25.223

你的问题的答案是否定的。您可以在设备重启时自动启动您的应用程序。检查[这个](https://stackoverflow.com/a/5097304/1616443)

# php - php文件停止工作

> ID：15964166
> 
> 赞同：-1
> 
> 时间：2013-04-12T06:02:08.310
> 
> 标签：php

突然间我的 php 文件得到了一个 503 错误。有人知道为什么吗？还有其他方法吗？

```
php $URL = "http://www.website.com/foo.html"; 
$a =file_get_contents("$URL"); echo ($a); 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-12T06:06:37.627

***溶胶 1：***

```
function get_http_response_code($url) {
    $headers = get_headers($url);
    return substr($headers[0], 9, 3);
}
if(get_http_response_code('http://somenotrealurl.com/notrealpage') != "404"){
    file_get_contents('http://somenotrealurl.com/notrealpage');
}else{
    echo "error";
} 
```

***溶胶 2：***

使用 PHP 中的此类命令，您可以在它们前面加上 @ 以禁止此类警告。

```
@file_get_contents('http://somenotrealurl.com/notrealpage'); 
```

`file_get_contents()`如果发生故障，则返回 FALSE，因此如果您检查返回的结果，那么您可以处理故障

```
$pageDocument = @file_get_contents('http://somenotrealurl.com/notrealpage');

if ($pageDocument === false) {
    // Handle error
} 
```

***溶胶 3：***

虽然 file_get_contents 非常简洁和方便，但我倾向于使用 Curl 库来更好地控制。这是一个例子。

```
function fetchUrl($uri) {
    $handle = curl_init();

    curl_setopt($handle, CURLOPT_URL, $uri);
    curl_setopt($handle, CURLOPT_POST, false);
    curl_setopt($handle, CURLOPT_BINARYTRANSFER, false);
    curl_setopt($handle, CURLOPT_HEADER, true);
    curl_setopt($handle, CURLOPT_RETURNTRANSFER, true);
    curl_setopt($handle, CURLOPT_CONNECTTIMEOUT, 10);

    $response = curl_exec($handle);
    $hlength  = curl_getinfo($handle, CURLINFO_HEADER_SIZE);
    $httpCode = curl_getinfo($handle, CURLINFO_HTTP_CODE);
    $body     = substr($response, $hlength);

    // If HTTP response is not 200, throw exception
    if ($httpCode != 200) {
        throw new Exception($httpCode);
    }

    return $body;
}

$url = 'http://some.host.com/path/to/doc';

try {
    $response = fetchUrl($url);
} catch (Exception $e) {
    error_log('Fetch URL failed: ' . $e->getMessage() . ' for ' . $url);
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-12T06:08:41.897

你确定你有一个正确的网址吗？HTTP-Code 503 是“服务暂时不可用”的代码。也许用功能检查它`get_headers($url);`

# google-app-engine - 如何根据正在执行的目标激活配置文件

> ID：15964170
> 
> 赞同：8
> 
> 时间：2013-04-12T06:02:20.483
> 
> 标签：google-app-engine, maven, maven-3

当我从命令行执行某些目标时，我想“自动”激活配置文件。

例如我现在在做什么：

```
mvn appengine:devserver -Pdevelopment

mvn appengine:update -Pproduction 
```

基本上我想在运行 devserver 目标时自动激活开发配置文件。我在运行更新目标时想要激活的生产配置文件也是如此（除非使用 -P 选项显式覆盖）。

这可能吗？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-04-12T07:28:59.720

[Maven 模型](http://maven.apache.org/ref/3.0.5/maven-model/maven.html)告诉我们，配置[文件](http://maven.apache.org/ref/3.0.5/maven-model/maven.html#class_profile)由各种元素组成，包括[build](http://maven.apache.org/ref/3.0.5/maven-model/maven.html#class_build)。如下例：-

```
<profile>
    <id></id>
    ...
    <build>
        <plugins>
           <plugin></plugin>
           ...
        </plugins>
    </build>
</profile> 
```

正如我们在上面看到的，`profile`控制`plugin`. 那么你的问题的答案是否定的。我们不能让`plugin`激活`profile`。

我希望这可能会有所帮助。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-04-12T08:14:00.867

我同意前面的结论，你不能这样做。之前看到的推理可能有点落后。

通过在命令行上定义目标（在这个问题的特定情况下）来激活插件，而不是通过配置文件中的插件来激活。

您尝试以这种方式覆盖的可能是插件默认配置 ( `plugin.configuration`)，而不是特定执行的配置 ( `plugin.executions.execution.configuration`)。我很好。但是泡菜是为了激活配置文件。

如果您在命令行上的所有内容都是目标（例如`appengine:update`），那么就**无法**激活[profile](http://maven.apache.org/guides/introduction/introduction-to-profiles.html)。

当您阅读有关[配置文件激活](http://maven.apache.org/guides/introduction/introduction-to-profiles.html)的讨论时（正如我过去经常做的那样），您会发现很多人在配置文件激活方面仍有很多需要。根据执行的目标激活配置文件甚至不是我遇到的愿望——只是说：不要抱太大希望。

您可能还想知道您正在尝试做的事情是否真的合适。你真的需要运行目标，或者你还能以某种方式从[Maven 生命周期](http://maven.apache.org/guides/introduction/introduction-to-the-lifecycle.html)中受益吗？

* * *

Maven 生命周期实际上是一条（直接的）完成路径，遍历各个阶段。如果您想根据某些条件转移此路径，则配置文件是要走的路。如果`appengine:update`并且`appengine:devserver`是“非此即彼”（我相信他们是），那么您正在转移路径，应该使用配置文件，真的，并且最终仍然会在您的命令行上至少有两件事，即阶段和所需的配置文件。如果有一个典型情况和一个例外情况，您可以分别表示默认配置文件激活 ( `activeByDefault`) 和显式选择另一个配置文件 ( `-P`)：

```
mvn deploy // choose default profiles
mvn deploy -Pproduction // ignore default profiles 
```

如果您想同时执行这两项操作（例如`devserver`，在集成测试阶段和部署期间），可以通过与后续绑定的`update`插件将生命周期配置为执行此操作。您只需在命令行中添加一件事，即阶段。`executions``phase`

# c# - 使用 + 或 - 作为可选的验证小数

> ID：15964171
> 
> 赞同：0
> 
> 时间：2013-04-12T06:02:20.813
> 
> 标签：c#, regex

我已经尝试了一个正则表达式来根据要求验证一个十进制值，这对于正整数来说很好，但是当我使它成为可选时，`+ or -`我无法验证它可以有人帮助我这是我的表达

`ValidationExpression="^[-+][0-9]+(\.([0-9]{1,3})?)?$"`

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-12T06:06:31.020

您必须使用修饰符使符号可选，该`?`修饰符与允许的字符一起`[-+]`表示`zero or one + or -`。

```
ValidationExpression="^[-+]?[0-9]+(\.([0-9]{1,3})?)?$" 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-12T06:12:16.233

你必须使用正则表达式吗？

如果没有，我建议使用[decimal.TryParse()](http://msdn.microsoft.com/en-AU/library/system.decimal.tryparse.aspx)。例如

```
public bool IsValidDecimal(string value)
{
    decimal test;
    return decimal.TryParse(value, NumberStyles.Any, CultureInfo.CurrentCulture, out test);
} 
```

使用的一个优点`.TryParse()`是它将为您处理不同的文化。不同的国家使用不同的标记作为十进制分隔符。例如，在美国，`.`是分隔符，而在俄罗斯`,`则使用。

# blackberry-10 - 如何过滤黑莓级联中的列表

> ID：15964172
> 
> 赞同：1
> 
> 时间：2013-04-12T06:02:22.860
> 
> 标签：blackberry-10

我需要过滤列表。所以我将数据存储在模型中并显示在黑莓级联的 qml 文件中。但现在我想过滤该列表。你能不能给我一个简单的例子，这样我就可以解决我的问题。

我需要一些简单的初学者示例。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-05-01T12:01:25.180

这个想法是建立一个代理模型，从你的实际模型中获取数据，并只给你的视图这个数据的一个子集。这是一个根据 TextField 的值过滤模型的示例：[https ://github.com/jamespaulmuir/CascadesTextFilterableListViewSample](https://github.com/jamespaulmuir/CascadesTextFilterableListViewSample)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-14T09:03:38.120

过滤器是什么意思？如果您不希望所有项目都出现在列表中，您可以在将模型移交给列表视图之前尝试过滤模型。

# neo4j - 最短路径的密码查询太慢

> ID：15964175
> 
> 赞同：2
> 
> 时间：2013-04-12T06:02:38.000
> 
> 标签：neo4j, shortest-path, cypher

我使用 Neo4j1.9m05。我想计算每对节点之间的最短路径。现在我使用这个 Cypher 查询：

```
START a=node(1), b=node(1-1000) MATCH p=shortestPath(a-[:cooperate*..50]-b) RETURN length(p) 
```

1-1000 仅表示有 1000 个节点。这个简单的查询耗时2分钟多，太慢了。我只想查询 1000 对最短路径长度。任何人都可以帮忙吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-12T06:44:18.470

要尝试的事情

您是否在冷缓存上运行查询？尝试运行两次以验证。

检查是否有足够的内存。如果图的相关部分不适合缓存，则最短路径查询会受到很大影响。

我注意到您正在寻找无向路径。如果可能，您可以通过指定方向来帮助算法。

# php - 如何通过ajax从php传递动态查询字符串，结果将显示在弹出框中

> ID：15964178
> 
> 赞同：-1
> 
> 时间：2013-04-12T06:02:57.673
> 
> 标签：php, ajax, jquery

我需要使用 ajax 传递 php 动态查询字符串，响应将显示在模式框或弹出框中。在这里，我给出了我尝试过的一组代码。在这里，我想传递动态 url 并显示请求页面的结果。

```
foreach ($files1 as $file)
{
$url='http://localhot/list1/'.$file;
$var1=$var1.'<div class="submit2"><li><a  href="/localhost/list2.php?var='.$urls.'" id="test">'."submit".'</a></li></div>';

}
<script type="text/javascript">
$(function()
{
    $("#test").click(function(e)
    {

       var link=$(this);
       e.preventDefault();
       $.get("/localhost/list2.php?var="+link.attr('id'),function(response){
               $("#ajaxresponse div").fadeOut("fast", function()
               {

             $("#ajaxresponse div").html(response).fadeIn();

});   
       });             
    });
});

</script> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-12T06:37:04.013

像这样试试。只是一个例子！

```
 <div id="ajaxresponse"><h2>Ajax Response</h2></div>
    <script src="jquery-1.9.1.js" type="text/javascript"></script>
    <?php
    $files1=array("a","b","c","d","e");
    foreach ($files1 as $key=>$file)
    {
    $url='http://localhot/list1/'.$file;
    $var1=$url.'<div class="submit2"><li><a href="#" id="test_'.$key.'" onClick="clickAct('.$key.')">'."submit".'</a></li></div>';
    echo $var1;
    }
    ?>
    <script type="text/javascript">

     function clickAct(vals)
        {
           $.get("list2.php?var="+vals,function(response){

                        $("#ajaxresponse").html(response).fadeIn();

           });             

    } 
    </script> 
```

list2.php

```
 <?php
    extract($_REQUEST);
    echo "<h2>Parameter was ".$var."</h2>";
    ?> 
```

# zend-framework - Zend 框架 ZEND_QUEUE 实现

> ID：15964182
> 
> 赞同：1
> 
> 时间：2013-04-12T06:03:06.770
> 
> 标签：zend-framework, zend-db, zend-db-table, job-queue

我是 ZEND 的新手，我正在开发版本 (ZEND 1.11.1) 我正在尝试在我的 zend 应用程序中实现 ZEND_QUEUE，但没有适合我的教程。我一直在尝试实现队列。

我正在为数据库开发一个队列。应用程序的工作流程如下： 1\. 用户通过应用程序输入 SQL 查询并等待结果。2\. 查询成功完成后，查询将移至 QUEUE 并由数据库处理。查询应该将结果发送给用户。

在我的控制器内部：

```
class IndexController extends Zend_Controller_Action
{
  public function indexAction()
  {
   $options = array(
        'name'          => 'queue1',
        'driverOptions' => array(
        'host'      => '127.0.0.1',
        'port'      => '3306',
        'username'  => 'queue',
        'password'  => 'queue',
        'dbname'    => 'queue',
        'type'      => 'pdo_mysql'
             )
        );

        // Create a database queue.
        // Zend_Queue will prepend Zend_Queue_Adapter_ to 'Db' for the class name.
        $queue = new Zend_Queue('Db', $options);
        foreach ($queue->getQueues() as $name) {
          echo $name, "\n";
        }
       $queue->send('My Test Message');
     }
} 
```

我面临的问题是我无法理解要在哪个文件夹中添加代码。

我没有在我的应用程序中使用模型，因为应用程序的要求是仅使用 CONTROLLER 和 VIEW。

此外，当我尝试扩展 Zend_Queue_Adapter_Db 时，我收到以下错误：

致命错误：找不到类“ZendJobQueue”

或者

致命错误：在 F:\wamp\www\helloworld\library\Zend\Controller\Dispatcher\Standard.php:242 中未捕获的异常 'Zend_Controller_Dispatcher_Exception' 和消息 'Invalid controller specified (error)' 堆栈跟踪：#0 F:\wamp \www\helloworld\library\Zend\Controller\Front.php(946)：

请建议我正确的文件夹或任何有助于初学者使用 ZEND JOBQUEUE 的教程。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-16T10:01:06.033

我在以下链接中获得了一些有用的代码：

[http://dennisgurnick.com/2011/09/29/zend-queue-with-mysql/](http://dennisgurnick.com/2011/09/29/zend-queue-with-mysql/)

而且我所做的与网站上的指示完全相同：

```
; file: application/configs/application.ini

[production]
; ...
resources.frontController.params.displayExceptions = 0
; ...
queue.driverOptions.type = "pdo_mysql"
queue.driverOptions.host = "localhost"
queue.driverOptions.username = "howtoqueue"
queue.driverOptions.password = "howtoqueue"
queue.driverOptions.dbname = "howtoqueue" 
```

在 Boostrap.php 文件中添加以下代码：

```
<?php

// file: application/Bootstrap.php

class Bootstrap extends Zend_Application_Bootstrap_Bootstrap
{
  protected function _initQueue()
  {
    $options = $this->getOptions();

    $queueAdapter = new Zend_Queue_Adapter_Db( $options[ 'queue' ] );
    Zend_Registry::getInstance()->queueAdapter = $queueAdapter;

  }

} 
```

还在 Library 文件夹中添加了一个文件，但我不清楚为什么要添加这个文件。

```
<?php

// file: library/EmailPopo.php

class EmailPopo
{
  private $_data = array();

  public function __get($key) {
    return $this->_data[$key];
  }

  public function __set($key, $value) {
    $this->_data[$key] = $value;
  }

} 
```

在 IndexController 中添加以下代码：

```
// file: application/controllers/IndexController.php

require_once "EmailPopo.php";
public function indexAction()
{
  $queueAdapter = Zend_Registry::getInstance()->queueAdapter;

  $options = array( 'name' => 'emailqueue' );
  $queue = new Zend_Queue( $queueAdapter, $options );

  $email = new EmailPopo();
  $email->date = time();
  $email->from = "minnie.mouse@disney.com";
  $email->to = "mickey.mouse@disney.com";
  $email->subject = "I want a divorce";
  $email->body = "Letter's in the mail.";

  $message = base64_encode( gzcompress( serialize( $email ) ) );

  $queue->send( $message );

}
public function queueAction() {

  $queueAdapter = Zend_Registry::getInstance()->queueAdapter;

  $options = array( 'name' => 'emailqueue' );
  $queue = new Zend_Queue( $queueAdapter, $options );

  $messages = $queue->receive( 2 );
  foreach( $messages as $message ) {
    try {
      $email = unserialize( gzuncompress( base64_decode( $message->body ) ) );
      $queue->deleteMessage( $message );

      echo sprintf(
        "Sent email to %s (time: %s)<br/>",
        $email->to,
        new Zend_Date( $email->date )
        ); 

    } catch( Exception $ex ) {
      echo "Kaboom!: " . $ex->getMessage() . "<br/>";   
    }
  }
  die( "Done" );
} 
```

坦率地说，这段代码似乎正在运行，因为我收到一个“DONE”作为 O/P，它是在 die('Done'); 中编码的。

如果我首先运行代码，我会收到以下输出：

```
Sent email to minnie.mouse@disney.com (time: current time)<br/>
Done 
```

当我再次运行同一个文件时，它输出

```
Done 
```

独自一人，我很困惑为什么它会在不同的情况下给出不同的输出。几个小时后，如果我再次运行代码，它会给我第一个 O/P。

数据库更改：

我有 2 个用于此应用程序的表，它们是：

1.  信息
2.  队列

1.留言：

```
CREATE TABLE IF NOT EXISTS `message` (
  `message_id` bigint(20) unsigned NOT NULL AUTO_INCREMENT,
  `queue_id` int(10) unsigned NOT NULL,
  `handle` char(32) DEFAULT NULL,
  `body` varchar(8192) NOT NULL,
  `md5` char(32) NOT NULL,
  `timeout` decimal(14,4) unsigned DEFAULT NULL,
  `created` int(10) unsigned NOT NULL,
  PRIMARY KEY (`message_id`),
  UNIQUE KEY `message_handle` (`handle`),
  KEY `message_queueid` (`queue_id`)
) ENGINE=InnoDB  DEFAULT CHARSET=utf8 AUTO_INCREMENT=15 ;

ALTER TABLE `message`
  ADD CONSTRAINT `message_ibfk_1` FOREIGN KEY (`queue_id`) REFERENCES `queue` (`queue_id`) ON DELETE CASCADE ON UPDATE CASCADE; 
```

2.队列

```
CREATE TABLE IF NOT EXISTS `queue` (
  `queue_id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `queue_name` varchar(100) NOT NULL,
  `timeout` smallint(5) unsigned NOT NULL DEFAULT '30',
  PRIMARY KEY (`queue_id`)
) ENGINE=InnoDB  DEFAULT CHARSET=utf8 AUTO_INCREMENT=9 ; 
```

以上两个是DB结构。我可以看到 Queue 表中插入了一些数据，但我不知道哪些数据受到影响？

请帮助我了解队列和脚本的结构。

它运作良好吗？如果我理解上述逻辑并希望我可以在 Zend 中创建一个用于查询执行的数据库队列。我正在努力得到一些解释。

对我来说复制和粘贴代码不是一个好的编程，知道我在做什么是好的！

谢谢！任何帮助将不胜感激！

# c - 动态内存分配器（堆）

> ID：15964186
> 
> 赞同：0
> 
> 时间：2013-04-12T06:03:15.863
> 
> 标签：c

我的目标是创建自己的“malloc”和“free”函数。我这样做只是为了练习，所以我对速度/性能不感兴趣。相反，我会采用一种简单的方法，以便我更容易理解。

我可以从哪里开始？你能给我一些关于如何做的指示，或者告诉我我需要用什么来创建这些函数吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-12T06:05:45.900

答案更多的是重定向到以前的问题

对于 Malloc [在 C 中制作自己的 malloc 函数](https://stackoverflow.com/questions/13764711/making-your-own-malloc-function-in-c)

For Free [C - 设计你自己的 free( ) 函数](https://stackoverflow.com/questions/7147081/c-design-your-own-free-function)

还有一篇博客 [http://www.dreamincode.net/forums/topic/178691-creating-a-custom-malloc-and-free-in-c/](http://www.dreamincode.net/forums/topic/178691-creating-a-custom-malloc-and-free-in-c/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-12T06:11:02.757

下面是解决方案。这段代码对我有帮助，我是从 IBM Developers 那里得到的。

```
/* Include the sbrk function */ 
#include <unistd.h> 

int has_initialized = 0; 
void *managed_memory_start; 
void *last_valid_address; 

void malloc_init() 
 { 
   /* grab the last valid address from the OS */ 
   last_valid_address = sbrk(0); 

 /* we don't have any memory to manage yet, so 
  *just set the beginning to be last_valid_address 
  */ 
  managed_memory_start = last_valid_address; 

  /* Okay, we're initialized and ready to go */ 
  has_initialized = 1; 
} 

 struct mem_control_block { 
  int is_available; 
  int size; 
 };  

 void free(void *firstbyte) { 
   struct mem_control_block *mcb; 

  /* Backup from the given pointer to find the 
  * mem_control_block 
   */ 
    mcb = firstbyte - sizeof(struct mem_control_block); 
   /* Mark the block as being available */ 
    mcb->is_available = 1; 
   /* That's It! We're done. */ 
   return; 
  } 

 void *malloc(long numbytes) { 
     /* Holds where we are looking in memory */ 
     void *current_location; 

    /* This is the same as current_location, but cast to a 
    * memory_control_block 
    */ 
    struct mem_control_block *current_location_mcb; 

    /* This is the memory location we will return. It will 
    * be set to 0 until we find something suitable 
    */ 
      void *memory_location; 

/* Initialize if we haven't already done so */ 
if(! has_initialized) { 
malloc_init(); 
} 

/* The memory we search for has to include the memory 
* control block, but the user of malloc doesn't need 
* to know this, so we'll just add it in for them. 
*/ 
numbytes = numbytes + sizeof(struct mem_control_block); 

/* Set memory_location to 0 until we find a suitable 
*
 location 
*/ 
memory_location = 0; 

/* Begin searching at the start of managed memory */ 
current_location = managed_memory_start; 

/* Keep going until we have searched all allocated space */ 
while(current_location != last_valid_address) 
{ 
/* current_location and current_location_mcb point 
* to the same address. However, current_location_mcb 
* is of the correct type so we can use it as a struct. 
* current_location is a void pointer so we can use it 
* to calculate addresses. 
*/ 
current_location_mcb = 
(struct mem_control_block *)current_location; 

if(current_location_mcb->is_available) 
{

if(current_location_mcb->size >= numbytes) 
{ 
/* Woohoo! We've found an open, 
* appropriately-size location. 
*/ 

/* It is no longer available */ 
current_location_mcb->is_available = 0; 

/* We own it */ 
memory_location = current_location; 

/* Leave the loop */ 
break; 
} 
} 

/* If we made it here, it's because the Current memory 
* block not suitable, move to the next one 
*/ 
current_location = current_location + 
current_location_mcb->size; 
} 

/* If we still don't have a valid location, we'll 
* have to ask the operating system for more memory 
*/ 
if(! memory_location) 
{ 
/* Move the program break numbytes further */ 
sbrk(numbytes); 

/* The new memory will be where the last valid 
* address left off 
*/ 
memory_location = last_valid_address; 

/* We'll move the last valid address forward 
* numbytes 
*/ 
last_valid_address = last_valid_address + numbytes; 

/* We need to initialize the mem_control_block */ 
current_location_mcb = memory_location; 
current_location_mcb->is_available = 0; 
current_location_mcb->size = numbytes; 
} 

/* Now, no matter what (well, except for error conditions), 
* memory_location has the address of the memory, including 
* the mem_control_block 
*/ 

/* Move the pointer past the mem_control_block */ 
memory_location = memory_location + sizeof(struct mem_control_block); 

/* Return the pointer */ 
return memory_location; 
} 
```

希望能帮助到你...

这可能会派上用场...`http://stackoverflow.com/questions/13764711/making-your-own-malloc-function-in-c`

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-12T06:22:50.017

[jemalloc](http://www.canonware.com/jemalloc/)是 libc 的免费、开源、线程安全的替代品`malloc()`。它的代码相当简单，研究它你会发现你需要知道的关于创建你自己的 malloc 和其他 libc 函数的替代品的一切，包括：

*   如何让编译器使用*你的*malloc 而不是本机 libc 的所有内容，包括`malloc()`libc 函数内部的调用；
*   如何使其成为线程安全的；
*   如何使它在每个平台上都可编译和运行。

注意 NetBSD 和 FreeBSD 已经使用 jemalloc 作为默认内存分配器。

# iphone - 索引选择处的 TableView 对象

> ID：15964187
> 
> 赞同：0
> 
> 时间：2013-04-12T06:03:17.180
> 
> 标签：iphone

在我的应用程序中，我通过 JSON Webservices 绑定数据，我在 Tableview 中加载数据。基于表视图中的选定值，我必须从以下 Web 服务绑定另一个表视图中的数据。

```
 http://hrmsiphone.atrity.info:7006/HRMSService.svc/DisplayEmpSalaryDetails/
    Unit=A-upper,Category=Staff. 
```

这是 Tableview 编码，

```
 Unit = [NSString stringWithFormat:@"%@",[self.Details1            
     objectAtIndex:indexPath.row]];
     NSLog (@"THE SELECTED UNIT IS: %@", Unit); 
```

但是当我从 Tableview 中选择 Value 时，它​​会将值传递为 {\n UNIT = "A-Upper"; /n}，但我只需要获得“A-Upper”。我尝试了很多方法，但我没有得到正确的值。任何关于此的想法可能会有所帮助。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-12T06:13:38.490

`self.Details1`是字典数组。因此，首先，您从字典中获取了值，如下所示。

```
NSString *val = [[self.Details1 objectAtIndex:indexPath.row] valueForKey:@"Unit"]; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-12T06:23:40.913

Your array is a group of dictonary so first you have to parse it like this

```
NSDictionary *tempDictionary = [self.Details1 objectAtIndex:indexPath.row];

Unit = [tempDictionary objectForKey:@"UNIT"]; 
```

# javascript - chrome window.open(url '_blank') 打开新窗口

> ID：15964194
> 
> 赞同：1
> 
> 时间：2013-04-12T06:03:51.397
> 
> 标签：javascript, google-chrome

我尝试通过 chrome、EI、firefox 打开 3 个新标签（同时），每个标签都会返回一个文件。ie 和 mozilla 打开 3 个新标签（没关系）。chrome 打开 1 个选项卡和两个窗口。

脚本：window.open(url '_blank') 或 window.open(url '_tab') 行为相同

有没有办法在 chrome 中打开 3 个新标签？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-12T06:06:41.887

这取决于您的浏览器的设置。你不能用代码修改它。

* * *

## 回答 #2

> 赞同：-2
> 
> 时间：2013-04-12T06:06:28.037

不，JavaScript 不知道标签。`window.open`通常，正是出于这个原因，您希望完全避免。- 改为使用常规链接，并且可能不会强制用户使用新的选项卡/窗口（无论如何他都有鼠标中键）。

# google-maps - 更改位置气泡位置

> ID：15964195
> 
> 赞同：1
> 
> 时间：2013-04-12T06:04:10.783
> 
> 标签：google-maps, google-maps-api-3

我已经创建了谷歌地图并设置了坐标，当加载地图时，位置气泡的位置总是出现在中心。我想将它稍微向右/底部移动（应用填充）。怎么做？我附上图片来展示这个想法。

![中心位置气泡](https://i.stack.imgur.com/CGPim.png)

![想将它向右/向下移动一点。](https://i.stack.imgur.com/jylIu.png)

```
 function googlemap() {

        // map styling
        var styles = [
            {
                stylers: [
                 { hue: "#000000" },
                 { saturation: -100 },
                 { lightness: 40 }
                ]
            }, {
                elementType: "geometry",
                featureType: "road",
                featureType: "city",
                elementType: "labels",
                stylers: [
                  { visibility: "off" }
                ]
            }
        ];

        // google map coordinates
        var posY = 54.679687,
            posX = 25.277824,
            location = new google.maps.LatLng(posY, posX);

        var mapOptions = {
            panControl: false,
            zoomControl: true,
            zoomControlOptions: {
                style: google.maps.ZoomControlStyle.SMALL,
                position: google.maps.ControlPosition.RIGHT_TOP
            },
            mapTypeControl: false,
            scaleControl: false,
            streetViewControl: false,
            overviewMapControl: false,
            draggable: true,
            disableDoubleClickZoom: false,
            scrollwheel: false,
            styles: styles,
            zoom: 5,
            center: location,            
            mapTypeId: google.maps.MapTypeId.ROADMAP // ROADMAP; SATELLITE; HYBRID; TERRAIN;
        };

        overlay.prototype = new google.maps.OverlayView();

        // create overlay marker
        overlay.prototype.onAdd = function () {

            blip = document.createElement('div'),
            pulse = document.createElement('div');
            blip.className = 'blip';
            pulse.className = 'pulse';

            // create tooltip
            tooltip = document.createElement('span');
            tooltip.className = 'tooltip';
            tooltip.innerHTML = 'Headquarters'; // tooltip text
            blip.appendChild(tooltip);

            // append 'blip' marker
            this.getPanes().overlayLayer.appendChild(blip).appendChild(pulse);
        }

        // update blip positioning when zoomed
        overlay.prototype.draw = function () {

            var overlayProjection = this.getProjection(),
                bounds = new google.maps.LatLngBounds(location, location),
                sw = overlayProjection.fromLatLngToDivPixel(bounds.getSouthWest()),
                ne = overlayProjection.fromLatLngToDivPixel(bounds.getNorthEast());

            blip.style.left = sw.x + 'px';
            blip.style.top = ne.y + 'px';

        };

        var map = new google.maps.Map(document.getElementsByClassName('map')[0], mapOptions);

        // explicitly call setMap on this overlay
        function overlay(map) {
            this.setMap(map);
        }

        // center map when window resizes
        google.maps.event.addDomListener(window, 'resize', function () { map.setCenter(location) });

        // center map when zoomed
        google.maps.event.addListener(map, 'zoom_changed', function () { map.setCenter(location) });

        // add overlay
        overlay = new overlay(map);
    } 
```

# asp.net - 根据 asp.net 中的警报消息检查条件

> ID：15964197
> 
> 赞同：3
> 
> 时间：2013-04-12T06:04:23.463
> 
> 标签：asp.net, alert

我使用生成了两条警报消息（验证码成功和验证码失败）

```
Page.RegisterStartupScript. 
```

这是我的代码

```
if (recaptcha.IsValid)
{
    Page.RegisterStartupScript("captcha", "<script language='javascript'>alert('Captcha Success');</script>");
}
else
{
    Page.RegisterStartupScript("captcha", "<script language='javascript'>alert('Captcha Failed');</script>");
} 
```

现在我想提交我的表单，只显示验证码成功警报.. 我该怎么做？有人可以帮忙吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-12T08:59:45.263

在弹出脚本之后的 if(recaptcha.IsValid) 中编写您的代码。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-12T09:21:05.180

如果你想阻止用户使用客户端代码提交表单，你可以使用这样的东西：

```
if (recaptcha.IsValid)
{
    Page.RegisterStartupScript("captcha", "<script language='javascript'>alert('Captcha Success');</script>");
}
else
{
    Page.RegisterStartupScript("captcha", 
        "<script language='javascript'>" +
            "function disableSubmitButton() {" + 
                "document.getElementById('***submitButtonID***').onclick = function(){return false;}" + 
            "}" + 
            "if(window.addEventListener) {" + 
            "    window.addEventListener('load',disableSubmitButton,false);" + 
            "} else {" + 
            "    window.attachEvent('onload',disableSubmitButton);" + 
            "}" +
            "alert('Captcha Failed');" +
        "</script>");
} 
```

注意：记得替换`***submitButtonID***`为提交按钮的 ID 属性。

如果您不想使用 JavaScript 禁用它，您还可以（更轻松地）控制按钮服务器端。

# regex - 来自传入数据包的 sed 子字符串

> ID：15964198
> 
> 赞同：3
> 
> 时间：2013-04-12T06:04:30.490
> 
> 标签：regex, linux, sed

我想从传入的嗅探包中获取的字符串...我想从字符串中获取子字符串，fe

```
INVITE sip:18455845013@192.168.192.253:5060 SIP/2.0 
```

使用`sed`我想提取子字符串。
子字符串介于`sip:`和之间`@`......所以对于我的例子，我需要得到

```
18455845013 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-12T06:52:50.827

保留 : 和 @ 之间的位。

```
sed 's/.*:\(.*\)@.*/\1/' 
```

例子：

```
$ echo "INVITE sip:18455845013@192.168.192.253:5060 SIP/2.0" | sed 's/.*:\(.*\)@.*/\1/'
18455845013 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-12T06:10:52.033

输入文件

```
$ cat foo.txt
INVITE sip:18455845013@192.168.192.253:5060 SIP/2.0 
```

结果

```
$ sed 'y/:@/\r\n/;P;d' foo.txt
18455845013 
```

*   更改`:`为`\r`
*   更改`@`为`\n`
*   打印到第一个换行符
*   删除模式空间

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-12T06:25:12.340

如果您`grep`支持该`-P`标志，请尝试：

```
grep -oP '(?<=sip:)[^@]*' 
```

结果：

```
18455845013 
```

否则，`sed`就像 Steven Penny 所做的那样使用。HTH。

# html - 使用 css 的多个背景图像的 IE 兼容性问题

> ID：15964199
> 
> 赞同：0
> 
> 时间：2013-04-12T06:04:34.887
> 
> 标签：html, css

为什么下面的代码不能在 ie 中工作？

```
background-image: url(../images/bg_top3.jpg), url(../images/gradient.png);
background-repeat: no-repeat, repeat-x;
background-color: #fff;
background-position: center top, left top; 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-12T06:41:41.543

您可以使用 css3 pie 在 ie 中使用多个背景

```
#myElement {
background: url(bg-image.png) no-repeat #CCC; /*non-CSS3 browsers will use this*/
background: url(bg-image.png) no-repeat, -webkit-gradient(linear, 0 0, 0 100%, from(#CCC) to(#EEE)); /*old webkit*/
background: url(bg-image.png) no-repeat, -webkit-linear-gradient(#CCC, #EEE); /*new webkit*/
background: url(bg-image.png) no-repeat, -moz-linear-gradient(#CCC, #EEE); /*gecko*/
background: url(bg-image.png) no-repeat, -ms-linear-gradient(#CCC, #EEE); /*IE10 preview*/
background: url(bg-image.png) no-repeat, -o-linear-gradient(#CCC, #EEE); /*opera 11.10+*/
background: url(bg-image.png) no-repeat, linear-gradient(#CCC, #EEE); /*future CSS3 browsers*/
-pie-background: url(bg-image.png) no-repeat, linear-gradient(#CCC, #EEE); /*PIE*/
} 
```

更多信息可以在@http [://css3pie.com/documentation/supported-css3-features/#pie-background找到](http://css3pie.com/documentation/supported-css3-features/#pie-background)

编辑：您需要将行为属性添加到需要使用饼图行为的规则中。

您可以通过添加将其应用于所有标签：

```
*{behavior: url(/PATH-TO/PIE.htc);} 
```

但这会带来**巨大**的性能成本。最好向需要使用 css3 PIE 的元素
添加一个类，并使用以下命令对其进行定位：`pie`

```
.pie {behavior: url(/PATH-TO/PIE.htc);} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-12T06:23:43.817

Try hack as like below for IE8 SEE LINK FOR DETAIL [http://cookbooks.adobe.com/post_Cross_Browser_Multi_background_images__including_I-16839.html](http://cookbooks.adobe.com/post_Cross_Browser_Multi_background_images__including_I-16839.html)

/* Now lets make it IE8 Multi-background images */

```
#multipleBackgroundImages { 
   background-image: url(../images/lilys.jpg); 
   background-position: bottom right; 
   background-repeat: no-repeat; 
  -ms-filter: "progid:DXImageTransform.Microsoft.AlphaImageLoader(src='../images/lakeside2.png', sizingMethod='crop')"; 
   border: 1px solid black; 
  padding: 0 1em; 
} 
```

# python - 如何更改不同网址的模板

> ID：15964200
> 
> 赞同：1
> 
> 时间：2013-04-12T06:04:36.623
> 
> 标签：python, django

我有公共站点和管理站点的搜索表单。但是他们有不同的模板但相同的视图。

是否可以在 url 中传递模板名称或使用一些条件逻辑

我有这个观点

```
class Search(View):
    form_class = SearchForm
    #i want something like that
    if url1 == /public/search
       template_name = 'search1.html'
    else
       template_name = 'search2.html' 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-12T06:08:38.683

如果你有两个单独的 url，你可以通过你的 urlconf 将变量传递给你的视图；

```
url(r'^public/search/$', MyView.as_view(template_name="search1.html"), name= 'public_search')
url(r'^private/search/$', MyView.as_view(template_name="search2.html"), name= 'private_search') 
```

> 传递给 as_view() 的参数将分配给用于服务请求的实例。使用前面的示例，这意味着 MyView 上的每个请求都可以使用 self.size。参数必须对应于类中已经存在的属性（在 hasattr 检查时返回 True）。

# discrete-mathematics - 递归关系：前n个偶数之和

> ID：15964207
> 
> 赞同：1
> 
> 时间：2013-04-12T06:05:04.980
> 
> 标签：discrete-mathematics, recurrence

所以基本情况是
如果 n = 1 然后 2

我试图弄清楚递归情况是什么。

```
n= 1    f(1) = 2  
n= 2    f(2) = 2 + 4  =  6  
n= 3    f(3) = 2 + 4 + 6 = 12  
n= 4    f(4) = 2 + 4 + 6 + 8 = 20  
n= 5    f(5) = 2 + 4 + 6+ 8 + 10 = 30 
```

我认为 n(n+1) 将是递归的情况，但它是一个封闭的公式。

需要帮忙 ！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-12T06:08:00.163

这里有一些伪代码可以帮助你：

```
function sumeven(int n) {
    if(n == 0) return 0;
    return 2*n + sumeven(n-1);
} 
```

因此，从 5 开始，展开式变为：

```
n=5 := 5*2 + sumeven(5-1)
n=4 := 5*2 + 4*2 + sumeven(4-1)
n=3 := 5*2 + 4*2 + 3*2 + sumeven(3-1)
n=2 := 5*2 + 4*2 + 3*2 + 2*2 + sumeven(1)
    == 10 + 8 + 6 + 4 + 2 + sumeven(0)
    == 30 
```

# java - 在 Java 中查找单词之间的文本

> ID：15964208
> 
> 赞同：1
> 
> 时间：2013-04-12T06:05:08.823
> 
> 标签：java, regex, search

我想获取 2 个单词之间的所有文本（第一个单词是固定的 [One] 但第二个单词是 2 个单词 [Two] 或 [Three] 中的一个）。

**注意**:: 找到的文本和第二个单词之间可能有也可能没有空格。例如：

```
One     i am  
here
Two
i am fine 
One     i am 
here 
 Two
i am fine 
One     i am  
here
Three
i am fine 
One     i am  
here 
 Two
i am fine 
```

我发现的是

```
Pattern p = Pattern.compile("(?<=\\bOne\\b)(.*?)(?=\\bTwo\\b)"); 
```

但这不正确，因为它需要完整的单词。

“二”有效。
“fineTwo”无效。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-12T06:21:43.267

它只匹配完整的单词，因为您使用单词边界`\b`。如果要接受“fineTwo”，则删除第一个边界

```
Pattern p = Pattern.compile("(?<=\\bOne\\b)(.*?)(?=Two\\b)"); 
```

要接受“二”或“三”作为结尾，请使用交替：

```
Pattern p = Pattern.compile("(?<=\\bOne\\b)(.*?)(?=(?:Two|Three)\\b)"); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-12T06:28:39.290

getTextBetweenTwoWords 方法可能有效。

```
public static void main(String[] args)
{
    String firstWord = "One";
    String secondword = "Two";
    String text = "One Naber LanTwo";
    System.out.println(getTextBetweenTwoWords(firstWord, secondword, text));
}
private static String getTextBetweenTwoWords(String firstWord, String secondword, String text)
{
    return text.substring(text.indexOf(firstWord) + firstWord.length(), text.indexOf(secondword));
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-12T06:18:26.437

尝试这个：

```
for(String parseOne : Input.split("One"))
  for (String parseTwo : parseOne.split("Two"))
    for (String parseThree : parseTwo.split("Three"))
       System.out.println(parseThree.replace("One", "").replace("Two", "").replace("Three", "").trim()); 
```

# authentication - 不确定时间后自动注销用户

> ID：15964213
> 
> 赞同：0
> 
> 时间：2013-04-12T06:05:22.200
> 
> 标签：authentication

当用户登录到我的网站时，cookie 会在一个月后过期，但它会在 10 到 20 分钟后退出，不确定我会为您提供我用来登录的代码，用于 cookie 和 webconfig 身份验证

这是代码

登录时的代码

```
 Dim cookie As HttpCookie = FormsAuthentication.GetAuthCookie(usernameforcookie, _
                           keepme.Checked)
                ' Expires in 30 days, 12 hours and 30 minutes from today.
                cookie.Expires = DateTime.Now.Add(New TimeSpan(30, 0, 0, 0))
                Response.Cookies.Add(cookie)
                Response.Redirect("Home.aspx") 
```

这里的cookies保存一个月

在我设置的主网络配置文件中

```
 <authentication mode="Forms">
       <forms  loginUrl="Login.aspx" />
        </authentication>
         <authorization>
        <deny users="?"/>
         </authorization>
        <customErrors mode="Off"/> 
```

另外，我在论坛文件夹中有很多 webconfig，因为这里的论坛可以被任何人查看，所以我通过提供身份验证来验证用户，下面是论坛 web config 中的代码

```
 <authorization>
  <allow users ="*"/>
  <deny users="?"/>
</authorization> 
```

现在问题是..用户在不确定时间后自动注销意味着有时在 10 分钟后有时在 30 分钟后，但在开发服务器上工作正常

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-05-28T17:54:42.270

我也面临类似的问题。经过几天的研究，我遇到了各种可能导致您面临的问题的原因。以下是您在进一步深入研究之前要检查的要点。
1.在Authentication Block中提到超时和cookies。
`<authentication mode="Forms"> <forms loginUrl="Login.aspx" timeout="43260" cookieless="UseCookies" /> </authentication>`
这将确保表单在 30 天内有效。

2\. 会话值。

确保您的会话超时和其他值与表单类似。
`<sessionState cookieless="UseCookies" timeout="21630" />(This will also update your session value on IIS)`

3\. 检查应用程序池回收间隔。当应用程序池被回收时，它会终止所有会话和表单身份验证。

4\. 确保会话处于活动状态并且没有在代码中被终止。

# java - 如何创建一个包含 Java 类层次结构的字典（在 Python 中）？

> ID：15964215
> 
> 赞同：1
> 
> 时间：2013-04-12T06:05:38.293
> 
> 标签：java, python

我正在为 Java 创建一个类图抽屉，我需要查看标准 Java 类以检查两个类是否具有共同的祖先（一些附加功能）。我正在考虑创建一个包含类层次结构的字典，但我不知道如何创建它。我发现的第一件事是从文本文件创建它，它将使用来自那里的信息：http: [//docs.oracle.com/javase/6/docs/api/allclasses-frame.html](http://docs.oracle.com/javase/6/docs/api/allclasses-frame.html)。但我认为这不是最好的解决方案。还有其他想法吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-12T06:46:19.433

将 jython 用于这些目的。

使用类路径中的 jar-file 或 classes-folder 启动 jython。

然后做下一个：

```
#    import your java package by this way
import com.yourcomp.yourpackage as yourpackage 

#   gets superclass
def get_ancestor_4_class( c ):
    if not c or not c.__bases__: return java.lang.Object
    return c.__bases__[0].__name__

#   there all class to ancestor
#   mapping will be placed        
class2ancestor = {}

#   list (generator) of all classes in yourpackage 
yourclasses = (eval('yourpackage.%s' % classname) \
    for classname in dir( yourpackage ))

#    showtime!
for c in yourclasses:
    class2ancestor[ c.__name__ ] = get_ancestor_4_class( c ).__name__ 
```

你需要的所有结果`class2ancestor`。

# c - 'noreturn' 函数确实返回

> ID：15964219
> 
> 赞同：9
> 
> 时间：2013-04-12T06:05:46.513
> 
> 标签：c, gcc, compiler-errors, warnings, compiler-warnings

当我编译下面的 C 程序时，我得到这个警告： `‘noreturn’ function does return`. 这是功能：

```
void hello(void){
  int i;
  i=1;
 } 
```

为什么会发生？对这个函数的所有调用都是`hello();`

编辑：完整的错误输出：

```
 home.c: In function ‘hello’:
 hhme.c:838:7: error: variable ‘i’ set but not used [-Werror=unused-but-set-variable]
 home.c:840:1: error: ‘noreturn’ function does return [-Werror]
 cc1: all warnings being treated as errors
 make: *** [home.o] Error 1 
```

* * *

## 回答 #1

> 赞同：29
> 
> 时间：2013-04-12T06:13:25.423

可以说`gcc`一个特定的函数永远不会返回。这允许某些优化并有助于避免未初始化变量的虚假警告。

这是使用[`noreturn`属性](http://gcc.gnu.org/onlinedocs/gcc-4.3.2//gcc/Function-Attributes.html#index-g_t_0040code_007bnoreturn_007d-function-attribute-2160)完成的：

```
void func() __attribute__ ((noreturn)); 
```

如果该函数确实返回了该`noreturn`属性，则编译器会发出您看到的警告（在您的情况下会转换为错误）。

由于您不太可能`noreturn`在代码中使用，可能的解释是您有一个名称与标准`noreturn`函数冲突的函数，如下例所示：

```
#include <stdlib.h>

void exit(int) {
}                // warning: 'noreturn' function does return [enabled by default] 
```

在这里，我`exit`与[`exit(3)`](http://linux.die.net/man/3/exit).

这种冲突的另一个明显候选者是[`abort(3)`](http://linux.die.net/man/3/abort)。

当然，如果你的函数实际上是被调用`hello()`的，那么罪魁祸首几乎肯定是在你的代码库中的某个地方。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-04-12T06:15:25.610

最有可能的是，该功能标有`__attribute__((noreturn))`。但是，它确实返回（当控制到达 irs 主体的末尾时，由于它没有进入无限循环，它不会调用其他“noreturn”函数等）

我不明白你的意思是 1\. 将函数标记为不返回，2\. 编写一个什么都不做的函数 - 也许你可以同时消除两者？

# emacs - emacs 入门工具包安装错误

> ID：15964220
> 
> 赞同：0
> 
> 时间：2013-04-12T06:05:48.030
> 
> 标签：emacs, python-mode, starter-kits

我刚刚在 emacs 24.3 上安装了入门套件[https://github.com/kjhealy/emacs-starter-kit 。](https://github.com/kjhealy/emacs-starter-kit)完成后我有以下错误 *警告（初始化）：加载`c:/emacs/.emacs.d/init.el': File error: Cannot open load file, python-mode To ensure normal operation, you should investigate and remove the cause of the error in your initialization file. Start Emacs with the`--debug-init'选项时发生错误以查看完整的错误回溯。*我该如何解决这个问题？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-12T10:27:49.967

这意味着您没有 python-mode，而 starter-kit 似乎依赖它。

在 Emacs 中尝试`M-x package-install python-mode`，然后重新尝试启动 Emacs

您还可以以任何其他方式安装 python 模式（例如，在 Debian 上，在 shell 中运行

```
sudo aptitude install python-mode 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-12T16:27:48.740

python-mode 在这里发布：

[https://launchpad.net/python-mode/+下载](https://launchpad.net/python-mode/+download)

# python-2.7 - 用于任务调度程序的 Wxpython gui

> ID：15964223
> 
> 赞同：0
> 
> 时间：2013-04-12T06:05:52.250
> 
> 标签：python-2.7, wxpython

我被要求开发一个类似于任务计划程序中的触发窗口的 GUI。我正在尽力做到这一点，但我被困在一个框架中创建多个面板。下面是我的 GUI 应该是什么样子的快照.请帮帮我。

![任务调度器](https://i.stack.imgur.com/vGbnY.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-12T13:50:50.060

使用 sizer 来布置我在图片上绘制的控件的位置，大约在 sizer 的位置。

蓝色 = 垂直。

绿色 = 水平。

![在此处输入图像描述](https://i.stack.imgur.com/UQmbO.jpg)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-13T08:48:50.007

下面是我使用 wxpython 创建的调度程序窗口。

```
class SchedulerWindow(wx.Frame):
""" This generates the GUI for Setting Window"""
#------------------------------------------------------------------------------------
    def __init__(self, parent, id, title):
        wx.Frame.__init__(self, parent, id, title="Scheduler", style=wx.DEFAULT_FRAME_STYLE ^ wx.RESIZE_BORDER ^ wx.MAXIMIZE_BOX, size=(600,500))
        panel=wx.Panel(self)
        sizer = wx.GridBagSizer(5, 5)
        font = wx.Font(10, wx.DEFAULT, wx.NORMAL, wx.BOLD)
        self.field = wx.TextCtrl(panel,pos=(65,20),size=(400,20))
        field_lbl=wx.StaticText(panel,-1, label='Name:', pos=(20,20))
        field_lbl.SetFont(font)
        line = wx.StaticLine(panel,pos=(0,50), size=(600,1))
        #sizer.Add(line, pos=(1,30), span=(1, 5),flag=wx.EXPAND|wx.BOTTOM, border=10)
        Box=wx.StaticBox(panel,label='Settings',size=(565,200),pos=(15,60))
        Box1=wx.StaticBox(panel,label='',size=(430,120),pos=(120,120))
        boxsizer = wx.StaticBoxSizer(Box, wx.VERTICAL)
        boxsizer.Add(wx.RadioButton(panel,label="One time",pos=(25,90)),flag=wx.LEFT|wx.TOP, border=5)
        boxsizer.Add(wx.RadioButton(panel,label="Daily",pos=(25,110)),flag=wx.LEFT|wx.TOP, border=5)
        boxsizer.Add(wx.RadioButton(panel,label="Weekly",pos=(25,130)),flag=wx.LEFT|wx.TOP, border=5)
        boxsizer.Add(wx.RadioButton(panel,label="Monthly",pos=(25,150)),flag=wx.LEFT|wx.TOP, border=5)
        sizer.Add(boxsizer,pos=(5,10) ,span=(1, 5), 
                 flag=wx.EXPAND|wx.TOP|wx.LEFT|wx.RIGHT , border=10)
        wx.StaticLine(panel, pos=(100,90), size=(1,100))
        start=wx.StaticText(panel, -1, 'Start Date:', pos=(120,90))
        Time=wx.StaticText(panel, -1, 'Start Time:', pos=(350, 90))
        start.SetFont(font)
        Time.SetFont(font)
        Box2=wx.StaticBox(panel,label='Advance Settings',size=(565,200),pos=(15,280))
        boxsizer = wx.StaticBoxSizer(Box2, wx.VERTICAL)
        boxsizer.Add(wx.CheckBox(panel, -1,'Repeat task every', pos=(20,300),size=(200,25))) 
```

我想在“开始时间：”textctrl 中显示时间。我尝试使用 TimePickerCtrl，但无法成功。我使用“DateCtrl”和 Calenderdialog 在“开始日期：”textctrl 中显示日历。期待通过示例提出好的建议。谢谢

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-12T13:22:20.710

除非我在做 wx.Notebook，否则我很少看到需要在一个框架内放置多个面板。也许这就是你正在寻找的。wx.Notebook 易于使用，并且 wxPython 中还包含许多其他“书籍”控件。这里有几个链接：

*   [http://wiki.wxpython.org/Simple%20wx.Notebook%20Example](http://wiki.wxpython.org/Simple%20wx.Notebook%20Example)
*   [http://www.blog.pythonlibrary.org/2012/07/18/wxpython-how-to-programmatically-change-wx-notebook-pages/](http://www.blog.pythonlibrary.org/2012/07/18/wxpython-how-to-programmatically-change-wx-notebook-pages/)
*   [http://www.blog.pythonlibrary.org/2009/12/03/the-book-controls-of-wxpython-part-1-of-2/](http://www.blog.pythonlibrary.org/2009/12/03/the-book-controls-of-wxpython-part-1-of-2/)

如果你真的想在你的框架中有多个面板，那是为了组织控件及其布局吗？我会改用sizer。Sizer 为您提供了更多的灵活性。以下是一些相关信息：

*   [http://wiki.wxpython.org/UsingSizers](http://wiki.wxpython.org/UsingSizers)
*   [http://zetcode.com/wxpython/layout/](http://zetcode.com/wxpython/layout/)
*   [http://www.blog.pythonlibrary.org/2008/05/18/a-wxpython-sizers-tutorial/](http://www.blog.pythonlibrary.org/2008/05/18/a-wxpython-sizers-tutorial/)

如果您的意思是您想知道如何在面板之间切换，我已经为您介绍了：http: [//www.blog.pythonlibrary.org/2010/06/16/wxpython-how-to-switch-between -面板/](http://www.blog.pythonlibrary.org/2010/06/16/wxpython-how-to-switch-between-panels/)

# c++ - C++ 中是否有“线性二次调节器”函数库

> ID：15964224
> 
> 赞同：0
> 
> 时间：2013-04-12T06:05:53.420
> 
> 标签：c++, matlab

是否有用于 C++ 的控制库，类似于 MATLAB 的控制工具箱？我可以在哪里运行线性二次调节器 (lqr) 等函数？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-12T07:46:33.740

一种选择是使用[Matlab Coder](http://www.mathworks.com/products/matlab-coder/)

*MATLAB Coder™ 从 MATLAB® 代码生成独立的 C 和 C++ 代码。生成的源代码是可移植的和可读的。*

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2019-05-28T14:56:30.077

虽然这个问题很老，但我想指出以下开源库，其中包含 LQR、iLQR 等的 C++ 实现：

[https://github.com/ethz-adrl/control-toolbox](https://github.com/ethz-adrl/control-toolbox)

# python - python 2.6中的xml解析错误

> ID：15964232
> 
> 赞同：0
> 
> 时间：2013-04-12T06:06:13.127
> 
> 标签：python, xml, python-3.x, xml-parsing, python-2.6

下面是解析下面发布的 xml 的脚本/函数。该代码在 python3 上运行良好，当我移植到 2.6 ts 时出现以下错误

这里有什么问题？

```
Traceback (most recent call last):
  File "C:\Python26\lib\lib-tk\Tkinter.py", line 1410, in __call__
    return self.func(*args)
  File "D:\Squish\Run_Test2.6.py", line 214, in sel_submit
    xml_parser()
  File "D:\Squish\Run_Test2.6.py", line 59, in xml_parser
    for test in tree.findall('.//test[verification]'):
  File "C:\Python26\lib\xml\etree\ElementTree.py", line 647, in findall
    return self._root.findall(path)
  File "C:\Python26\lib\xml\etree\ElementTree.py", line 355, in findall
    return ElementPath.findall(self, path)
  File "C:\Python26\lib\xml\etree\ElementPath.py", line 198, in findall
    return _compile(path).findall(element)
  File "C:\Python26\lib\xml\etree\ElementPath.py", line 176, in _compile
    p = Path(path)
  File "C:\Python26\lib\xml\etree\ElementPath.py", line 93, in __init__
    "expected path separator (%s)" % (op or tag)
SyntaxError: expected path separator ([) 
```

下面是代码

```
def xml_parser():
    # global variables
    global text_file
    global xml_list
    # File names
    xml_list = glob.glob("%s*.xml" % (os.path.join(SUITE_DIR +"/")))
    text_file = (os.path.join(SUITE_DIR)+"/Result_Summary-%s.txt"% (time.strftime("%Y-%m-%d")))
    with open("%s"%text_file,"w") as output:
            # Write Contents in the summary files
            output.write(' {} \n\n'.format('-' * 122))
            output.write('  Test Suite \t\t Test Name \t\t No Of PASS\t\t No Of FAIL\t\t Description\t\t \n')
            output.write(' {} \n\n'.format('-' * 122))
    for xml_name in xml_list:
        tree = ET.parse(xml_name)
        root = tree.getroot()
        with open("%s"%text_file,"a") as output:
            # Find all <test> elements with a <verification> child:
            for test in tree.findall('.//test[verification]'):
                # Collect passed and failed counts
                sut=tree.find('./test')
                passed = len(test.findall(".//result[@type='PASS']"))
                failed = len(test.findall(".//result[@type='FAIL']"))
                # Collect all the *last* <description> elements of type DETAILED
                descriptions = test.findall(".//result/description[@type='DETAILED'][last()]")
                # write a line of information to the file, including first desc
                output.write('{0}\t\t\t{1}\t\t\t{2}\t\t\t{3}\t\t{4}\n\n'.format(
                    sut.attrib['name'],test.attrib['name'], passed, failed, descriptions[0].text))
                # write remaining descriptions
                for desc in descriptions[1:]:
                    output.write('\t\t\t\t\t\t\t\t\t\t\t{0}\n'.format(desc.text)) 
```

下面是xml格式

```
 <SquishReport version="2.0">
    <test name="HMI_testing_debug">
        <prolog time="2013-01-25T16:51:58+05:30"/>
        <test name="tst_Setup_me">
            <prolog time="2013-01-25T16:51:58+05:30"/>
            <verification line="7" file="D:/Squish/HMI_testing_debug/tst_Setup_me/test.py" name="Is TEMP is disabled">
                <result type="PASS" time="2013-01-25T16:52:00+05:30">
                    <description>Comparison</description>
                    <description type="DETAILED">'0' and 'False' are equal</description>
                    <description type="DETAILED">Is TEMP is disabled</description>
                </result>
            </verification>
            <message line="9" type="ERROR" file="D:/Squish/HMI_testing_debug/tst_Setup_me/test.py" time="2013-01-25T16:52:21+05:30"><![CDATA[LookupError: Object ':_QMenu' not found. Could not match properties:
    type for object name: ':_QMenu']]></message>
            <epilog time="2013-01-25T16:52:21+05:30"/>
        </test>
        <epilog time="2013-01-25T16:52:21+05:30"/>
    </test>
</SquishReport> 
```

我已经用下面的代码解决了上述问题，我无法将下面的代码作为答案。如果有人知道更好的方法来解决同样的问题，请告诉我

```
def xml_parser():
    # global variables
    global text_file
    global xml_list
    # File names
    xml_list = glob.glob("%s*.xml" % (os.path.join(SUITE_DIR +"/")))
    text_file = (os.path.join(SUITE_DIR)+"/Result_Summary-%s.txt"% (time.strftime("%Y-%m-%d")))
    with open("%s"%text_file,"w") as output:
            # Write Contents in the summary files
            output.write(format('-' * 122))
            output.write('  \nTest Suite \t\t Test Name \t\t No Of PASS\t\t No Of FAIL\t\t Description\t\t \n')
            output.write(format('-' * 122))
    for xml_name in xml_list:
        print(xml_name)
        tree = ET.parse(xml_name)
        root = tree.getroot()
        with open("%s"%text_file,"a") as output:
            for suite_x in tree.findall('./test'):
                output.write('\n')
                print(suite_x.attrib['name'])
                output.write(suite_x.attrib['name'])
                output.write('\t\t')
                for test_x in suite_x.findall('.//test'):
                    nextline = 0
                    output.write(test_x.attrib['name'])
                    output.write('\t\t')
                    print(test_x.attrib['name'])                
                    for veri_x in test_x.findall('./verification'):
                        passed = 0
                        failed = 0
                        for count in veri_x:
                            if(nextline):
                                output.write('\n')
                                output.write('\t\t\t\t\t\t')
                            if( count.attrib['type']=='PASS'):
                                passed=passed+1
                            elif( count.attrib['type']=='FAIL'):
                                failed=failed+1
                            output.write(str(passed))
                            output.write('\t\t')
                            output.write(str(failed))
                            output.write('\t\t')
                            print("passed: %s" %passed,"failed: %s" %failed)
                            print(veri_x.attrib['name'])
                            output.write(veri_x.attrib['name'])
                            nextline = 1 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-12T06:57:45.640

Python 2.6 不支持 XPath（它是在[2.7](http://docs.python.org/2.7/library/xml.etree.elementtree.html#elementtree-xpath)附带 的[ElementTree 1.3](http://effbot.org/zone/element-xpath.htm)中引入的。

因此，您应该将 Python 2 升级到 2.7，或者修改代码以避免使用 XPath。

# android - 如何在listview android中设置数组

> ID：15964233
> 
> 赞同：0
> 
> 时间：2013-04-12T06:06:13.323
> 
> 标签：android, eclipse, listview, spinner

我在我的应用程序中使用列表视图，首先我从添加按钮更新列表视图，但后来我需要选择更多项目，所以我需要移动到另一个页面来选择值，所以我使用意图并将我的值带到另一个页面在数组中，然后当我尝试在另一个页面上移动以选择更多项目时，我的应用程序由于 listview 而崩溃，我尝试了没有 listview 的程序，然后它工作正常并在 logcat 中显示我的数组。

所以，这是我的代码：-

```
public class selectsaloon extends Activity {
public String Salon_name, Spinnervalue, Spinnervalue1, Spinnervalue2,
        Spinnervalue3, service, regular, banding, band, username, password,
        percentage, total_visits, number_of_visits, total, result1,
        btnvalue, salon, service1, price, visit;
public Spinner Spinner, Spinner1, Spinner2, Spinner3;
ArrayList<String> list, list1, list2, list3;

SimpleAdapter adp;
String str[], str1[], str2[], str3[], vik[], listv1[], listv2[], listv3[],
        listv4[];
ListView serviceview;
JSONArray jsArray;
Integer Count, cont;
JSONObject json1, json2;

protected void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);

    setContentView(R.layout.selectsaloon);

    Intent in = getIntent();
    Bundle b = in.getExtras();
    cont = b.getInt("count");
    username = b.getString("username");
    password = b.getString("password");
    btnvalue = b.getString("btnvalue");
    if (cont == 0) {

        listv1 = b.getStringArray("Spinnervalue");
        listv2 = b.getStringArray("Spinnervalue1");
        listv3 = b.getStringArray("Spinnervalue2");
        listv4 = b.getStringArray("Spinnervalue3");
        list();
    }

    json();

    Spinner1 = (Spinner) findViewById(R.id.spnerservice);
    Spinner2 = (Spinner) findViewById(R.id.spnerprice);
    Spinner3 = (Spinner) findViewById(R.id.spnerdscnt);
    serviceview = (ListView) this.findViewById(R.id.serviceview);
    Button btnaddmore = (Button) findViewById(R.id.btnaddmore);
    // Spinner.setOnItemSelectedListener(new MyOnItemSelectedListener());
    btnaddmore.setOnClickListener(new OnClickListener() {

        @Override
        public void onClick(View v) {
            // TODO Auto-generated method stub
            list.add(Spinnervalue);

            list1.add(Spinnervalue1);

            list2.add(Spinnervalue2);

            list3.add(Spinnervalue3);
            str = list.toArray(new String[list.size()]);
            str1 = list1.toArray(new String[list1.size()]);
            str2 = list2.toArray(new String[list2.size()]);
            str3 = list3.toArray(new String[list3.size()]);

            Intent in = new Intent(getApplicationContext(),
                    selectservice1.class);
            Bundle bundle1 = new Bundle();
            bundle1.putInt("Count", 1);
            bundle1.putString("username", username);
            bundle1.putString("password", password);
            bundle1.putStringArray("Spinnervalue", str);
            bundle1.putStringArray("Spinnervalue1", str1);
            bundle1.putStringArray("Spinnervalue2", str2);
            bundle1.putStringArray("Spinnervalue3", str3);
            in.putExtras(bundle1);
            startActivity(in);
        }
    });
    Button btncontinue = (Button) findViewById(R.id.btncontinue);
    // Spinner.setOnItemSelectedListener(new MyOnItemSelectedListener());
    btncontinue.setOnClickListener(new OnClickListener() {

        @Override
        public void onClick(View v) {
            // TODO Auto-generated method stub

            String res = null;
            try {
                JSONObject object11 = new JSONObject();
                object11.put("salon", salon);
                object11.put("service", service1);
                object11.put("price", price);
                object11.put("visit", visit);
                object11.put("username", username);

                String strng = object11.toString();
                object11 = executehttpost(strng);

            JSONArray earthquakes =   object11.getJSONArray("item");

                for (int in = 0; in < 1; in++) {

                JSONObject e = earthquakes.getJSONObject(in);
                    // String id=String.valueOf(i);
                    res = e.getString("flag");
                }

            // Toast.makeText(this, "Json Objects are : ",+ res,
                // Toast.LENGTH_LONG).show();
            if (res.contentEquals("OOPS! Record can't inserted")) {

            Intent ourintent = new Intent(getApplicationContext(),
                            MainActivity.class);

                    startActivity(ourintent);

                } else {

                Intent i1 = new Intent(getApplicationContext(),
                            selectservice.class);
                    Bundle bundle = new Bundle();
                    bundle.putInt("count", 0);
                    bundle.putString("username", username);
                    bundle.putString("password", password);
                    i1.putExtras(bundle);

                    startActivity(i1);

                }

            } catch (JSONException e) {
            Log.e("log_tag", "Error parsing data " + e.toString());
            } catch (Exception je) {
            }

            // }
        }

        private JSONObject executehttpost(String strng) throws Exception {
            // TODO Auto-generated method stub
            InputStream inpstream = null;
            String result = "";
            JSONObject jsnarry = null;

            try {
                list.add(Spinnervalue);

                list1.add(Spinnervalue1);

                list2.add(Spinnervalue2);

                list3.add(Spinnervalue3);
                str = list.toArray(new String[list.size()]);
                str1 = list1.toArray(new String[list1.size()]);
                str2 = list2.toArray(new String[list2.size()]);
                str3 = list3.toArray(new String[list3.size()]);
                for (int i = 0; i < str.length - 1; i++) {
                    salon = str[i];
                    service1 = str1[i];
                    price = str2[i];
                    visit = str3[i];
                HttpClient client = new DefaultHttpClient();
 HttpPost post = new HttpPost(
                            "http://www.siliconsoftwares.in/griffin/jsonuserservice.php");

                    List<NameValuePair> value = new ArrayList<NameValuePair>(
                            8);

                    value.add(new BasicNameValuePair("salon", salon));
                    value.add(new BasicNameValuePair("service", service1));
                    value.add(new BasicNameValuePair("price", price));
                    value.add(new BasicNameValuePair("visit", visit));
                    value.add(new BasicNameValuePair("username", username));

                    UrlEncodedFormEntity urlentity = new UrlEncodedFormEntity(
                            value);
                    post.setEntity(urlentity);

                    HttpResponse response = client.execute(post);
                    HttpEntity resultentity = response.getEntity();

                    inpstream = resultentity.getContent();
                }
            } catch (Exception e) {
                // TODO: handle exception
            }
            try {

                BufferedReader reader = new BufferedReader(
                        new InputStreamReader(inpstream, "iso-8859-1"), 8);
                StringBuilder sb = new StringBuilder();
                String line = null;
                while ((line = reader.readLine()) != null) {
                    sb.append(line + "\n");
                }
                inpstream.close();
                result = sb.toString();
            } catch (Exception e) {
                // TODO: handle exception
            }
            // TODO Auto-generated method stub

            try {

                jsnarry = new JSONObject(result);
            } catch (JSONException e) {
                Log.e("log_tag", "Error parsing data " + e.toString());
            }

            return jsnarry;
        }

    });

    list = new ArrayList<String>();
    list1 = new ArrayList<String>();
    list2 = new ArrayList<String>();
    list3 = new ArrayList<String>();

    Button btnadd = (Button) findViewById(R.id.btnadd);
    // Spinner.setOnItemSelectedListener(new MyOnItemSelectedListener());
    btnadd.setOnClickListener(new OnClickListener() {

        @Override
        public void onClick(View v) {
            // TODO Auto-generated method stub

            list.add(Spinnervalue);

            list1.add(Spinnervalue1);

            list2.add(Spinnervalue2);

            list3.add(Spinnervalue3);
            str = list.toArray(new String[list.size()]);
            str1 = list1.toArray(new String[list1.size()]);
            str2 = list2.toArray(new String[list2.size()]);
            str3 = list3.toArray(new String[list3.size()]);

            String[] from = { "str", "str1", "str2", "str3" };

            int[] to = { R.id.listview1, R.id.listview2, R.id.listview3,
                    R.id.listview4 };

            List<HashMap<String, String>> fillMaps = new ArrayList<HashMap<String, String>>();
            for (int i = 0; i < str.length; i++) {
                HashMap<String, String> map = new HashMap<String, String>();
                map.put("str", str[i]);
                map.put("str1", "" + str1[i]);
                map.put("str2", "" + str2[i]);
                map.put("str3", "" + str3[i]);
                fillMaps.add(map);
            }
            Log.d("bbb", "" + fillMaps);

            adp = new SimpleAdapter(getBaseContext(), fillMaps,
                    R.layout.spinnerview, from, to);
            serviceview.setAdapter(adp);
        //  Count = adp.getCount();
            //if (Count != 0) {

                //serviceview.setVisibility(View.VISIBLE);

            //}

        }
        // }
    });

}

private void list() {
    // TODO Auto-generated method stub

    String[] frm = { "str", "str1", "str2", "str3" };

    int[] tv = { R.id.listview1, R.id.listview2, R.id.listview3,
            R.id.listview4 };
    List<HashMap<String, String>> fillMaps = new ArrayList<HashMap<String, String>>();
    for (int i = 0; i < listv1.length-1; i++) {
        HashMap<String, String> map = new HashMap<String, String>();
        map.put("str", "" + listv1[i]);
        map.put("str1", "" + listv2[i]);
        map.put("str2", "" + listv3[i]);
        map.put("str3", "" + listv4[i]);
        fillMaps.add(map);
        //Log.d("listv1", "" + listv1[i]);
        //Log.d("listv2", "" + listv2[i]);
        //Log.d("listv3", "" + listv3[i]);
        //Log.d("listv4", "" + listv4[i]);

    }
    //Log.d("aaa", "" + fillMaps);

    SimpleAdapter adapter = new SimpleAdapter(getBaseContext(), fillMaps,R.layout.spinnerview, frm, tv);
    //Count = adapter.getCount();
//  if (Count != 0) {

    //  serviceview.setVisibility(View.VISIBLE);

    //}
    serviceview.setAdapter(adapter);

}

private void json() {
    // TODO Auto-generated method stub

    JSONObject json = JSONfunctions
            .getJSONfromURL("http://siliconsoftwares.in/griffin/jsonservice.php");
    try {

        JSONArray earthquakes = json.getJSONArray("item");
        final String[] items = new String[earthquakes.length()];

        for (int i = 0; i < earthquakes.length(); i++) {

            JSONObject e = earthquakes.getJSONObject(i);
            Salon_name = e.getString("saloon_name");
            items[i] = e.getString("saloon_name");
            Spinner = (Spinner) findViewById(R.id.spnersaloon);

        }
        ArrayAdapter<String> adapter = new ArrayAdapter<String>(
                selectsaloon.this, android.R.layout.simple_spinner_item,
                items);

        // ArrayAdapter<String> adapter = new ArrayAdapter<String>(this,
        // R.layout.sp, items);
        adapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);
        Spinner.setAdapter(adapter);

    } catch (Exception e) {
        // TODO: handle exception
    }

    Spinner.setOnItemSelectedListener(new OnItemSelectedListener() {

        @Override
        public void onItemSelected(AdapterView<?> parent, View view,
                int pos, long id) {
            Spinnervalue = parent.getItemAtPosition(pos).toString();
            // if (Spinnervalue.equals("Affinity")) {
            if (btnvalue.equals("cutting")) {
                json1 = JSONfunctions
                        .getJSONfromURL("http://siliconsoftwares.in/griffin/jsonhair.php");

            } else {

                json1 = JSONfunctions
                        .getJSONfromURL("http://siliconsoftwares.in/griffin/jsonbeauty.php");
            }
            try {

                JSONArray earthquakes1 = json1.getJSONArray("item");
                final String[] items1 = new String[earthquakes1.length()];

                for (int i = 0; i < earthquakes1.length(); i++) {

                    JSONObject e = earthquakes1.getJSONObject(i);

                    number_of_visits = e.getString("number_of_visits");
                    total_visits = e.getString("total_visits");
                    percentage = e.getString("percentage");
                    total = number_of_visits + "-" + percentage + "%";
                    items1[i] = total;
                    // Log.d("total", "" + total);

                }
                ArrayAdapter<String> adapter = new ArrayAdapter<String>(
                        selectsaloon.this, R.layout.sp, items1);
                adapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);
                Spinner3.setAdapter(adapter);
                spnr();

            } catch (Exception e) {
                // TODO: handle exception
            }

            if (btnvalue.equals("cutting")) {

                json2 = JSONfunctions
                        .getJSONfromURL("http://siliconsoftwares.in/griffin/jsonstylist.php?saloon_name="
                                + Spinnervalue + "");
            } else {
                json2 = JSONfunctions
                        .getJSONfromURL("http://siliconsoftwares.in/griffin/jsonstylist1.php?saloon_name="
                                + Spinnervalue + "");
            }
            try {

                JSONArray earthquakes1 = json2.getJSONArray("item");
                final String[] items1 = new String[earthquakes1.length()];

                for (int i = 0; i < earthquakes1.length(); i++) {

                    JSONObject e = earthquakes1.getJSONObject(i);

                    service = e.getString("service");
                    items1[i] = e.getString("service");

                }
                ArrayAdapter<String> adapter = new ArrayAdapter<String>(
                        selectsaloon.this, R.layout.sp, items1);
                adapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);
                Spinner1.setAdapter(adapter);

                spn();

            } catch (Exception e) {
                // TODO: handle exception
            }
        }

        private void spnr() {
            // TODO Auto-generated method stub
            Spinner3.setOnItemSelectedListener(new OnItemSelectedListener() {

                @Override
                public void onItemSelected(AdapterView<?> arg0, View arg1,
                        int arg2, long arg3) {
                    // TODO Auto-generated method stub
                    Spinnervalue3 = arg0.getItemAtPosition(arg2).toString();
                }

                @Override
                public void onNothingSelected(AdapterView<?> arg0) {
                    // TODO Auto-generated method stub

                }

            });
        }

        private void spn() {
            // TODO Auto-generated method stub
            Spinner1.setOnItemSelectedListener(new OnItemSelectedListener() {

                public void onItemSelected(AdapterView<?> parent,
                        View view, int pos, long id) {
                    Spinnervalue1 = parent.getItemAtPosition(pos)
                            .toString();
                    // Log.d("Spinner1", "" + Spinnervalue1);
                    // Log.d("Spinner", "" + Spinnervalue);

                    String res = null;
                    try {
                        JSONObject object11 = new JSONObject();
                        object11.put("service", Spinnervalue1);
                        object11.put("saloon_name", Spinnervalue);

                        String strng = object11.toString();
                        object11 = executehttpost(strng);

                        JSONArray earthquakes = object11
                                .getJSONArray("item");
                        final String[] items = new String[earthquakes
                                .length()];

                        for (int i = 0; i < earthquakes.length(); i++) {

                            JSONObject e = earthquakes.getJSONObject(i);
                            regular = e.getString("regular");
                            banding = e.getString("banding");
                            band = banding + " " + "£" + regular;
                            items[i] = band;

                        }

                        ArrayAdapter<String> adapter = new ArrayAdapter<String>(
                                selectsaloon.this, R.layout.sp, items);
                        adapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);
                        Spinner2.setAdapter(adapter);
                        spn2();

                    } catch (JSONException e) {
                        Log.e("log_tag",
                                "Error parsing data " + e.toString());
                    } catch (Exception je) {
                    }

                }

                private void spn2() {
                    // TODO Auto-generated method stub
                    Spinner2.setOnItemSelectedListener(new OnItemSelectedListener() {

                        @Override
                        public void onItemSelected(AdapterView<?> arg0,
                                View arg1, int arg2, long arg3) {
                            // TODO Auto-generated method stub
                            Spinnervalue2 = arg0.getItemAtPosition(arg2)
                                    .toString();
                        }

                        @Override
                        public void onNothingSelected(AdapterView<?> arg0) {
                            // TODO Auto-generated method stub

                        }
                    });
                }

                private JSONObject executehttpost(String strng)
                        throws Exception {
                    // TODO Auto-generated method stub

                    InputStream inpstream = null;
                    String result = "";
                    JSONObject jsnarry = null;

                    try {
                        HttpClient client = new DefaultHttpClient();
                        HttpPost post = new HttpPost(
                                "http://siliconsoftwares.in/griffin/jsonprice.php");

                        List<NameValuePair> value = new ArrayList<NameValuePair>(
                                8);
                        value.add(new BasicNameValuePair("service",
                                Spinnervalue1));
                        value.add(new BasicNameValuePair("saloon_name",
                                Spinnervalue));

                        UrlEncodedFormEntity urlentity = new UrlEncodedFormEntity(
                                value);
                        post.setEntity(urlentity);

                        HttpResponse response = client.execute(post);
                        HttpEntity resultentity = response.getEntity();

                        inpstream = resultentity.getContent();
                    } catch (Exception e) {
                        // TODO: handle exception
                    }
                    try {

                        BufferedReader reader = new BufferedReader(
                                new InputStreamReader(inpstream,
                                        "iso-8859-1"), 8);
                        StringBuilder sb = new StringBuilder();
                        String line = null;
                        while ((line = reader.readLine()) != null) {
                            sb.append(line + "\n");
                        }
                        inpstream.close();
                        result = sb.toString();
                    } catch (Exception e) {
                        // TODO: handle exception
                    }
                    // TODO Auto-generated method stub

                    try {

                        jsnarry = new JSONObject(result);
                    } catch (JSONException e) {
                        Log.e("log_tag",
                                "Error parsing data " + e.toString());
                    }

                    return jsnarry;

                }

                @Override
                public void onNothingSelected(AdapterView<?> arg0) {
                    // TODO Auto-generated method stub

                }

            });
        }

        @Override
        public void onNothingSelected(AdapterView<?> arg0) {
            // TODO Auto-generated method stub

        }
    });

}

 } 
```

`

我的错误在这里-

```
private void list() {
    // TODO Auto-generated method stub

    String[] frm = { "str", "str1", "str2", "str3" };

    int[] tv = { R.id.listview1, R.id.listview2, R.id.listview3,
            R.id.listview4 };
List<HashMap<String, String>> fillMaps = new ArrayList<HashMap<String, String>>();
    for (int i = 0; i < listv1.length-1; i++) {
        HashMap<String, String> map = new HashMap<String, String>();
        map.put("str", "" + listv1[i]);
        map.put("str1", "" + listv2[i]);
        map.put("str2", "" + listv3[i]);
        map.put("str3", "" + listv4[i]);
        fillMaps.add(map);
        //Log.d("listv1", "" + listv1[i]);
        //Log.d("listv2", "" + listv2[i]);
        //Log.d("listv3", "" + listv3[i]);
        //Log.d("listv4", "" + listv4[i]);

    }
    //Log.d("aaa", "" + fillMaps);

    SimpleAdapter adapter = new SimpleAdapter(getBaseContext(), fillMaps,R.layout.spinnerview, frm, tv);
    //Count = adapter.getCount();
//  if (Count != 0) {

    //  serviceview.setVisibility(View.VISIBLE);

    //}
    serviceview.setAdapter(adapter);

} 
```

`

我的日志猫：-

`

```
04-12 10:58:20.909: I/dalvikvm(1406): threadid=3: reacting to signal 3
04-12 11:17:00.720: E/AndroidRuntime(1817): FATAL EXCEPTION: main
04-12 11:17:00.720: E/AndroidRuntime(1817): java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.griffinclub/com.example.griffinclub.selectsaloon}: java.lang.NullPointerException
04-12 11:17:00.720: E/AndroidRuntime(1817):     at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:1956)
04-12 11:17:00.720: E/AndroidRuntime(1817):     at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:1981)
04-12 11:17:00.720: E/AndroidRuntime(1817):     at android.app.ActivityThread.access$600(ActivityThread.java:123)
04-12 11:17:00.720: E/AndroidRuntime(1817):     at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1147)
04-12 11:17:00.720: E/AndroidRuntime(1817):     at android.os.Handler.dispatchMessage(Handler.java:99)
04-12 11:17:00.720: E/AndroidRuntime(1817):     at android.os.Looper.loop(Looper.java:137)
04-12 11:17:00.720: E/AndroidRuntime(1817):     at android.app.ActivityThread.main(ActivityThread.java:4424)
04-12 11:17:00.720: E/AndroidRuntime(1817):     at java.lang.reflect.Method.invokeNative(Native Method)
04-12 11:17:00.720: E/AndroidRuntime(1817):     at java.lang.reflect.Method.invoke(Method.java:511)
04-12 11:17:00.720: E/AndroidRuntime(1817):     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:784)
04-12 11:17:00.720: E/AndroidRuntime(1817):     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:551)
04-12 11:17:00.720: E/AndroidRuntime(1817):     at dalvik.system.NativeStart.main(Native Method)
04-12 11:17:00.720: E/AndroidRuntime(1817): Caused by: java.lang.NullPointerException
04-12 11:17:00.720: E/AndroidRuntime(1817):     at com.example.griffinclub.selectsaloon.list(selectsaloon.java:341)
04-12 11:17:00.720: E/AndroidRuntime(1817):     at com.example.griffinclub.selectsaloon.onCreate(selectsaloon.java:75)
04-12 11:17:00.720: E/AndroidRuntime(1817):     at android.app.Activity.performCreate(Activity.java:4465)
04-12 11:17:00.720: E/AndroidRuntime(1817):     at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1049)
04-12 11:17:00.720: E/AndroidRuntime(1817):     at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:1920)
04-12 11:17:00.720: E/AndroidRuntime(1817):     ... 11 more
` 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-12T06:18:21.163

`list()`您在初始化之前调用`serviceView`。最后一行`list()`尝试在它仍然`null`.

移动这条线：

```
serviceview = (ListView) this.findViewById(R.id.serviceview); 
```

到此块之前的某个地方：

```
if (cont == 0) {
    listv1 = b.getStringArray("Spinnervalue");
    listv2 = b.getStringArray("Spinnervalue1");
    listv3 = b.getStringArray("Spinnervalue2");
    listv4 = b.getStringArray("Spinnervalue3");
    list();
} 
```

可能会或可能不会给你工作代码，但它会让你超越你的当前`NullPointerException`（假设`findViewById()`能够找到`View`具有该 ID 的）。

# java - mysql-installer-community-5.6.10.1 的连接器/j

> ID：15964237
> 
> 赞同：0
> 
> 时间：2013-04-12T06:06:28.860
> 
> 标签：java, mysql, netbeans-6.9

我是 mysql 和 java 的新手，所以我不知道如何`Install connector/j`以及`version of connector/j` mysql-installer-community-5.6.10.1 的哪个。?

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-12T06:10:54.127

驱动版本应该没有问题。您可以使用最新版本`(5.1.24)`的驱动程序。它会起作用的。

连接器不需要安装，只需将其保留`mysql-connector-java-5.1.24-bin.jar`在您的项目中并将其路径添加到`classpath`.

# sql - 将字符串转换为某些列值可能为空的日期时，不是有效的月份-Oracle 查询

> ID：15964242
> 
> 赞同：0
> 
> 时间：2013-04-12T06:06:40.207
> 
> 标签：sql, date, oracle11g

我有一个问题

```
SELECT DISTINCT ID 
  From ACCUSED 
 WHERE CAST(DATE_ENTERED AS date) BETWEEN '12-Apr-2013' and '12-Apr-2013' 
```

此查询显示错误“不是有效月份”

如果我在字符串日期不为空的其他表上应用相同的查询，则它可以正常工作。这工作很好

```
SELECT DISTINCT ID 
  From Customer 
 WHERE CAST(DATE_ENTERED AS date) BETWEEN '12-Apr-2013' and '12-Apr-2013' 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-12T08:01:03.693

假设这`DATE_ENTERED`是一`VARCHAR2`列

1.  您永远不应该将日期存储为字符串。日期应存储在`DATE`列中。使用错误的数据类型是问题的根源，修复数据模型以使用正确的数据类型是正确的解决方案。
2.  如果要将字符串转换为日期，请`TO_DATE`使用具有显式格式掩码的函数。没有格式掩码的A`CAST`或 a`TO_DATE`将导致会话`NLS_DATE_FORMAT`指定为格式掩码的任何内容。由于每个会话可能不同，这意味着您的代码可能适用于某些客户端的某些用户，而不适用于其他用户或其他客户端，并且不可避免地难以找到错误。
3.  应始终将A`DATE`与另一个进行比较，而`DATE`不是与字符串进行比较。将日期与字符串进行比较会迫使 Oracle 进行隐式转换，该转换再次使用会话`NLS_DATE_FORMAT`，并再次使您的代码不可靠。如果要指定文字日期，请使用该`TO_DATE`函数将字符串转换为日期（带有显式格式掩码）或使用 ANSI 日期文字
4.  假设这`ID`是主键，那么`DISTINCT`充其量是没有意义的，最坏的情况是迫使 Oracle 进行不必要的排序。

第一个最佳解决方案是修改数据模型`DATE_ENTERED`，实际上是一个`DATE`. 如果您这样做，您的查询将变为（使用 ANSI 日期文字）

```
SELECT id
  FROM accused
 WHERE date_entered BETWEEN date '2013-04-12' and date '2013-04-12' 
```

或显式`TO_DATE`

```
SELECT id
  FROM accused
 WHERE date_entered BETWEEN to_date( '12-Apr-2013', 'DD-Mon-YYYY' ) 
                        AND to_date( '12-Apr-2013', 'DD-Mon-YYYY' ) 
```

如果由于某种原因，您遇到了不正确的数据模型，如果您存储的所有字符串实际上都是有效的，您可以执行类似的操作

```
SELECT id
  FROM accused
 WHERE to_date( date_entered, 'DD-Mon-YYYY' ) BETWEEN to_date( '12-Apr-2013', 'DD-Mon-YYYY' ) 
                                                  AND to_date( '12-Apr-2013', 'DD-Mon-YYYY' ) 
```

但是，鉴于您遇到的错误，似乎很有可能在表中至少有一些行，其中存储在表中的字符串不代表有效日期。然后问题就变成了试图找出哪些行是无效的。一种选择是创建一个新功能

```
CREATE OR REPLACE FUNCTION my_to_date( p_date_str    IN VARCHAR2,
                                       p_format_mask IN VARCHAR2 )
  RETURN DATE
IS
  l_date DATE;
BEGIN
  l_date := to_date( p_date_str, p_format_mask );
  RETURN l_date;
EXCEPTION
  WHEN others THEN
    RETURN NULL;
END; 
```

然后在您的查询中使用该函数。

```
SELECT *
  FROM accused
 WHERE date_entered IS NOT NULL
   AND my_to_date( date_entered, 'DD-Mon-YYYY' ) IS NULL 
```

`DATE_ENTERED`将返回格式中不代表有效日期的所有行`DD-Mon-YYYY`。您最终必须更正这些数据。如果您可以忽略任何包含无效数据的行，则可以编写查询

```
SELECT id
  FROM accused
 WHERE my_to_date( date_entered, 'DD-Mon-YYYY' ) BETWEEN to_date( '12-Apr-2013', 'DD-Mon-YYYY' ) 
                                                     AND to_date( '12-Apr-2013', 'DD-Mon-YYYY' ) 
```

# c# - 使用 ASP.NET Web API，我的 ExecutionContext 没有在异步操作中流动

> ID：15964244
> 
> 赞同：22
> 
> 时间：2013-04-12T06:06:46.237
> 
> 标签：c#, asp.net, async-await, c#-5.0, executioncontext

## 我很难理解 ExecutionContext 背后的机制。

从我在网上阅读的内容来看，上下文相关的项目，如安全性（线程主体）、文化等，应该在工作执行单元的范围内跨异步线程流动。

不过，我遇到了非常令人困惑且具有潜在危险的错误。我注意到我的线程的 CurrentPrincipal 在异步执行过程中丢失了。

* * *

下面是一个示例 ASP.NET Web API 场景：

首先，让我们设置一个简单的 Web API 配置，其中包含两个用于测试的委托处理程序。

他们所做的只是写出调试信息并传递请求/响应，除了第一个“DummyHandler”设置线程的主体以及要在上下文中共享的一段数据（请求的相关 ID）。

```
public static class WebApiConfig
{
    public static void Register(HttpConfiguration config)
    {
        config.MessageHandlers.Add(new DummyHandler());
        config.MessageHandlers.Add(new AnotherDummyHandler());

        config.Routes.MapHttpRoute(
            name: "DefaultApi",
            routeTemplate: "api/{controller}/{id}",
            defaults: new { id = RouteParameter.Optional }
        );
    }
}

public class DummyHandler : DelegatingHandler
{
    protected override Task<HttpResponseMessage> SendAsync(HttpRequestMessage request, CancellationToken cancellationToken)
    {
        CallContext.LogicalSetData("rcid", request.GetCorrelationId());
        Thread.CurrentPrincipal = new ClaimsPrincipal(new ClaimsPrincipal(new ClaimsIdentity(new[]{ new Claim("http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name", "dgdev") }, "myauthisthebest")));

        Debug.WriteLine("Dummy Handler Thread: {0}", Thread.CurrentThread.ManagedThreadId);
        Debug.WriteLine("User: {0}", (Object)Thread.CurrentPrincipal.Identity.Name);
        Debug.WriteLine("RCID: {0}", CallContext.LogicalGetData("rcid"));

        return base.SendAsync(request, cancellationToken)
                   .ContinueWith(task =>
                       {
                           Debug.WriteLine("Dummy Handler Thread: {0}", Thread.CurrentThread.ManagedThreadId);
                           Debug.WriteLine("User: {0}", (Object)Thread.CurrentPrincipal.Identity.Name);
                           Debug.WriteLine("RCID: {0}", CallContext.LogicalGetData("rcid"));

                           return task.Result;
                       });
    }
}

public class AnotherDummyHandler : MessageProcessingHandler
{
    protected override HttpRequestMessage ProcessRequest(HttpRequestMessage request, CancellationToken cancellationToken)
    {
        Debug.WriteLine("  Another Dummy Handler Thread: {0}", Thread.CurrentThread.ManagedThreadId);
        Debug.WriteLine("  User: {0}", (Object)Thread.CurrentPrincipal.Identity.Name);
        Debug.WriteLine("  RCID: {0}", CallContext.LogicalGetData("rcid"));

        return request;
    }

    protected override HttpResponseMessage ProcessResponse(HttpResponseMessage response, CancellationToken cancellationToken)
    {
        Debug.WriteLine("  Another Dummy Handler Thread: {0}", Thread.CurrentThread.ManagedThreadId);
        Debug.WriteLine("  User: {0}", (Object)Thread.CurrentPrincipal.Identity.Name);
        Debug.WriteLine("  RCID: {0}", CallContext.LogicalGetData("rcid"));

        return response;
    }
} 
```

* * *

很简单。接下来让我们添加一个 ApiController 来处理 HTTP POST，就像您在上传文件一样。

```
public class UploadController : ApiController
{
    public async Task<HttpResponseMessage> PostFile()
    {
        Debug.WriteLine("    Thread: {0}", Thread.CurrentThread.ManagedThreadId);
        Debug.WriteLine("    User: {0}", (Object)Thread.CurrentPrincipal.Identity.Name);
        Debug.WriteLine("    RCID: {0}", CallContext.LogicalGetData("rcid"));

        if (!Request.Content.IsMimeMultipartContent())
        {
            throw new HttpResponseException(HttpStatusCode.UnsupportedMediaType);
        }

        try
        {
            await Request.Content.ReadAsMultipartAsync(
                new MultipartFormDataStreamProvider(
                    HttpRuntime.AppDomainAppPath + @"upload\temp"));

            Debug.WriteLine("    Thread: {0}", Thread.CurrentThread.ManagedThreadId);
            Debug.WriteLine("    User: {0}", (Object)Thread.CurrentPrincipal.Identity.Name);
            Debug.WriteLine("    RCID: {0}", CallContext.LogicalGetData("rcid"));

            return new HttpResponseMessage(HttpStatusCode.Created);
        }
        catch (Exception e)
        {
            return Request.CreateErrorResponse(HttpStatusCode.InternalServerError, e);
        }
    }
} 
```

* * *

在使用 Fiddler 运行测试时，这是我收到的输出：

```
Dummy Handler Thread: 63
User: dgdev
RCID: 6d542847-4ceb-4511-85e5-d1b5bf3be476

  Another Dummy Handler Thread: 63
  User: dgdev
  RCID: 6d542847-4ceb-4511-85e5-d1b5bf3be476

    Thread: 63
    User: dgdev
    RCID: 6d542847-4ceb-4511-85e5-d1b5bf3be476

    Thread: 77
    User:                                     <<<  PRINCIPAL IS LOST AFTER ASYNC
    RCID: 6d542847-4ceb-4511-85e5-d1b5bf3be476

  Another Dummy Handler Thread: 63
  User:                                       <<<  PRINCIPAL IS STILL LOST
  RCID: 6d542847-4ceb-4511-85e5-d1b5bf3be476

Dummy Handler Thread: 65
User: dgdev                                   <<<  PRINCIPAL IS BACK?!?
RCID: 6d542847-4ceb-4511-85e5-d1b5bf3be476 
```

* * *

为了使事情更加混乱，当我将以下内容附加到异步行时：

```
await Request.Content.ReadAsMultipartAsync(
    new MultipartFormDataStreamProvider(..same as before..))
.ConfigureAwait(false); <<<<<< 
```

我现在收到这个输出：

```
Dummy Handler Thread: 40
User: dgdev
RCID: 8d944500-cb52-4362-8537-dab405fa12a2

  Another Dummy Handler Thread: 40
  User: dgdev
  RCID: 8d944500-cb52-4362-8537-dab405fa12a2

    Thread: 40
    User: dgdev
    RCID: 8d944500-cb52-4362-8537-dab405fa12a2

    Thread: 65
    User: dgdev                               <<<  PRINCIPAL IS HERE!
    RCID: 8d944500-cb52-4362-8537-dab405fa12a2

  Another Dummy Handler Thread: 65
  User:                                       <<<  PRINCIPAL IS LOST
  RCID: 8d944500-cb52-4362-8537-dab405fa12a2

Dummy Handler Thread: 40
User: dgdev
RCID: 8d944500-cb52-4362-8537-dab405fa12a2 
```

这里的重点是。异步之后的代码实际上调用了我的业务逻辑，或者只是要求正确设置安全上下文。存在潜在的完整性问题。

任何人都可以帮助阐明正在发生的事情吗？

提前致谢。

* * *

## 回答 #1

> 赞同：29
> 
> 时间：2013-04-12T13:10:18.787

我没有所有的答案，但我可以帮助填写一些空白并猜测问题。

默认情况下，ASP.NET`SynchronizationContext`会流动，但[流动身份的方式有点奇怪](http://www.hanselman.com/blog/SystemThreadingThreadCurrentPrincipalVsSystemWebHttpContextCurrentUserOrWhyFormsAuthenticationCanBeSubtle.aspx)。它实际上流动`HttpContext.Current.User`，然后设置`Thread.CurrentPrincipal`为那个。因此，如果您只是设置`Thread.CurrentPrincipal`，您将不会看到它正确流动。

实际上，您会看到以下行为：

*   从在`Thread.CurrentPrincipal`线程上设置时间开始，该线程将具有相同的主体，直到它重新进入 ASP.NET 上下文。
*   当任何线程进入 ASP.NET 上下文时，`Thread.CurrentPrincipal`被清除（因为它被设置为`HttpContext.Current.User`）。
*   当在 ASP.NET 上下文*之外*使用线程时，它只会保留`Thread.CurrentPrincipal`发生在其上的任何设置。

将此应用于您的原始代码和输出：

*   前 3 个都是在`CurrentPrincipal`显式设置后从线程 63 同步报告的，因此它们都具有预期值。
*   线程 77 用于恢复该`async`方法，从而进入 ASP.NET 上下文并清除`CurrentPrincipal`它可能拥有的任何内容。
*   线程 63 用于`ProcessResponse`. 它重新进入 ASP.NET 上下文，清除其`Thread.CurrentPrincipal`.
*   线程 65 是有趣的。它在 ASP.NET 上下文之外运行（在`ContinueWith`没有调度程序的情况下），因此它只保留`CurrentPrincipal`之前发生的任何内容。我假设它`CurrentPrincipal`只是从早期的测试运行中遗留下来的。

更新后的代码更改为在 ASP.NET 上下文*之外*`PostFile`运行其第二部分。所以它选择线程 65，它恰好已经设置。由于它在 ASP.NET 上下文之外，因此不会被清除。*`CurrentPrincipal``CurrentPrincipal`*

 *所以，在我看来，它`ExecutionContext`流动得很好。我确信微软已经测试`ExecutionContext`了 wazoo 的流出；否则世界上每个 ASP.NET 应用程序都会有严重的安全漏洞。需要注意的是，在这段代码中`Thread.CurrentPrincipal`只是指当前用户的声明，并不代表实际的冒充。

如果我的猜测是正确的，那么修复很简单：在 中`SendAsync`，更改这一行：

```
Thread.CurrentPrincipal = new ClaimsPrincipal(new ClaimsPrincipal(new ClaimsIdentity(new[]{ new Claim("http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name", "dgdev") }, "myauthisthebest"))); 
```

对此：

```
HttpContext.Current.User = new ClaimsPrincipal(new ClaimsPrincipal(new ClaimsIdentity(new[]{ new Claim("http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name", "dgdev") }, "myauthisthebest")));
Thread.CurrentPrincipal = HttpContext.Current.User; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2019-06-19T17:36:10.490

我了解重新进入 ASP.NET 同步上下文将导致 Thread.CurrentPrincipal 设置为 HttpContext.Current.User。但我仍然没有看到我预期的行为。我没想到每次等待调用链都会设置 Thread.CurrentPrincipal = HttpContext.Current.User。我看到这甚至超出了我启动 async/await 链的 async void 事件处理程序。这是其他人看到的行为吗？我希望调用链使用他们捕获的上下文继续，但他们正在显示可重入行为。

我没有在任何等待的电话中使用 .ContinueAwait(false)。我们在 web.config 中有 targetFramework="4.6.1" ，其中包括设置 UseTaskFriendlySynchronizationContext = true 等。第 3 方 API 客户端导致异步/等待链底部的可重入行为。*

# c# - 如何更改具有特定域名的本地主机？

> ID：15964249
> 
> 赞同：1
> 
> 时间：2013-04-12T06:07:09.223
> 
> 标签：c#, asp.net

我正在检查任何域名的链接，无论链接是否有效。但是当我从本地主机调试时，我不能指定特定的域名，例如`localhost:xyz/preferences?hl=en`，我想要的不是这个（[http://google.co.in/preferences ?hl=en](http://google.co.in/preferences?hl=en) ) 所以我们可以通过替换字符串来做

```
var linkWithLocalHost = "http://localhos:234/foo"; 

var result = // ??? some code that manipulates linkWithLocalHost 
// expecting "http://google.co.il/foo" as result 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-12T06:28:33.340

您可以使用 C:\Windows\System32\drivers\etc\hosts 文件。在文件中有说明如何使用它的说明。

例如，我在此文件中添加了一个新行，即：

```
127.0.0.1 mywebsite # for stackoverflow question 
```

现在，当我`http://mywebsite/`向浏览器的地址栏写入内容时，我会看到通常在写入时会看到的页面`http://localhost/`。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-12T06:11:22.887

再一次随机猜测（因为我可能过度简化了要求）。

要操作 Url，请使用相应的类`Uri`和`UriBuilder`：

```
var linkWithLocalHost = "http://localhos:234/foo"; 
// expecting "http://google.co.il/foo" as result

var builder  = new UriBuilder(linkWithLocalHost);
builder.Host = "google.co.il";
builder.Port = 80;
var result = builder.Uri.ToString(); 
```

标题中问题的答案是：

*   使用 hosts 文件（如果使用 IIS 作为服务器）
*   使用 Fiddler 重新映射域名（对于 VS Web 服务器或 IIS 或任何其他服务器）

# java - Java通用比较器未检查警告

> ID：15964251
> 
> 赞同：2
> 
> 时间：2013-04-12T06:07:18.117
> 
> 标签：java, generics, variadic-functions

我写了一个帮助方法来将多个比较器组合成一个：

```
public static <T> Comparator<T> createComparatorChain( final Comparator<T>... comparators )
{
    return new Comparator<T>()
    {
        public int compare( T lhs, T rhs )
        {
            for( Comparator<T> comparator : comparators )
            {
                int order = comparator.compare( lhs, rhs );
                if( order != 0 )
                {
                    return order;
                }
            }
            return 0;
        }   
    };
} 
```

但是如果我使用这种方法，那么我会收到一个未经检查的警告：

```
Collections.<File>sort( list, ComparatorUtils.<File>createComparatorChain( BY_FILE_DIRECTORY, BY_FILE_NAME ) ); 
```

类型安全：为 varargs 参数创建一个通用的 Comparator 数组。

我的通用语法有问题吗？谁能帮我。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-12T06:14:14.000

> 我的通用语法有问题吗？

不，这只是 Java 泛型如何实现的另一个问题。基本上，数组和泛型类型不能很好地结合在一起。有关更多详细信息，请参阅[Java 泛型常见问题解答](http://www.angelikalanger.com/GenericsFAQ/FAQSections/ParameterizedTypes.html#FAQ104)。

在这种特殊情况下，我不是从数组构建链，而是从几个链接在一起的比较器构建链 - 每个比较器都知道具有较高优先级的比较器和当前较低优先级的比较器。这避免了数组。每个比较器只要求其父级执行比较，如果结果非零则直接返回结果，或者执行自己的比较，否则返回结果。“顶部”比较器没有父级，因此只执行自己的比较。

幸运的是，您甚至不需要自己编写 - 您可以将[Guava](http://guava-libraries.googlecode.com)与[`ComparisonChain`](http://docs.guava-libraries.googlecode.com/git-history/release/javadoc/com/google/common/collect/ComparisonChain.html)或一起使用[`Ordering.compound`](http://docs.guava-libraries.googlecode.com/git-history/release/javadoc/com/google/common/collect/Ordering.html#compound%28java.util.Comparator%29)。请注意，其中的重载`compound`类似于*您*的数组版本，但需要一个`Iterable<? extends Comparator<? super T>>`参数 - 这*是*安全的。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-12T09:44:11.393

这是泛型和可变参数的经典问题。长话短说，这是因为可变参数实际上是数组的语法糖。例如，在这种情况下，`comparators`有 type `Comparator<T>[]`。在调用站点，编译器会创建一个正确类型的数组。当然，除了你可能知道的，Java 不允许你这样做`new Comparator<File>[]`，所以编译器会这样做`new Comparator<?>[]`并给你一个警告。

重要的是要知道“不安全”仅在您依赖于`comparators`. 如果您只需要遍历它的元素（就像您的方法所做的那样），那么它仍然是完全安全的。为了表明您的函数以这种方式是安全的，如果您使用的是 Java 7+，`@SafeVarargs`请在您的方法中添加注释，警告将停止。

# javascript - 为什么gmail源代码不显示任何html？

> ID：15964253
> 
> 赞同：4
> 
> 时间：2013-04-12T06:07:29.100
> 
> 标签：javascript, html, json, gmail, obfuscation

在 chrome 浏览器中，如果您尝试查看`ctrl+u`Gmail 的页面源代码（比如收件箱页面的源代码），它不会显示 HTML 代码，而是有很多 JavaScript 代码，大部分是 JSON 格式的。虽然您可以看到 html 头和元标记。

我的问题是：

1.  他们是否试图隐藏他们的代码？
2.  他们是否使用某种 JavaScript 模板来提高性能？
3.  以 JavaScript 对象的形式发送响应以进行某种改进是最佳实践之一吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-12T06:20:38.457

> 他们是否试图隐藏他们的代码？

在某种程度上。他们使用 Closure Compiler 来最小化和混淆他们的代码。

[http://googlecode.blogspot.com/2009/11/introducing-closure-tools.html](http://googlecode.blogspot.com/2009/11/introducing-closure-tools.html)

> 全球数百万 Google 用户使用 JavaScript 密集型应用程序**，例如 Gmail**、Google Docs 和 Google Maps。与世界各地的开发人员一样，Google 员工希望能够更轻松地创建出色的网络应用程序，因此我们构建了许多工具来帮助我们开发这些（以及许多其他）应用程序。我们很高兴地宣布这些工具的开源，并自豪地将它们提供给 Web 开发社区。
> 
> **闭包编译器**
> 
> Closure Compiler 是一个 JavaScript 优化器，可**将 Web 应用程序编译成紧凑、高性能的 JavaScript 代码。**

* * *

> 他们是否使用某种 JavaScript 模板来提高性能？

是的。从同一个链接

> **闭包模板**
> 
> 闭包模板源于对预编译为高效 JavaScript 的 Web 模板的需求。闭包模板具有对程序员来说很自然的简单语法。与传统的模板系统不同，您可以将 Closure 模板视为组成用户界面的小组件，而不必为每个页面创建一个大模板。

* * *

> 以 JavaScript 对象的形式发送响应以进行某种改进是最佳实践之一吗？

如果您正在尝试编写一个富 JavaScript 客户端，那么最好的办法是将您的应用程序分解为 JavaScript 对象。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-12T06:14:23.563

像 Gmail 这样的复杂网络应用程序使用 JavaScript 动态生成其大部分页面内容。您从服务器收到的 HTML 大多只是脚本加载时要显示的初始内容。

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2013-04-12T06:24:52.183

1）他们没有隐藏他们的代码。他们使用 Ajax 来显示他们的表单。因此，当使用 Ajax 时，我们需要使用 JavaScript 来操作一切。这就是你看到更多 JavaScript 的原因。而不是 HTML 标签。

2）基本的基础是Ajax。

3) 取决于您的应用程序，您可以使用 JavaScript 对象来发送数据。这总是不好的做法。JavaScript 是客户端脚本。使用 JavaScript 时要小心并检查应用程序的安全性。

# javascript - XMLHTTPRequest 响应在标头中不包含 Location 字段

> ID：15964254
> 
> 赞同：3
> 
> 时间：2013-04-12T06:07:30.330
> 
> 标签：javascript, xmlhttprequest, firefox-addon, http-get, adblock

我试图修改 adblockplus 代码以进行测试。我正在修改代码以在 URL 上发送 http get 请求并从响应中获取最终 URL。我尝试使用下面的代码，但响应不包含标头响应中的 Location 字段。我在 Firefox 扩展中这样做，所以我认为跨域请求不会有任何问题。为什么我无法从响应中获取 Location 字段？有没有更好的方法来完成这项任务？

输入 URL - [http://netspiderads3.indiatimes.com/ads.dll/clickthrough?msid=17796167&cid=3224&slotid=1203&nsRndNo=817685688](http://netspiderads3.indiatimes.com/ads.dll/clickthrough?msid=17796167&cid=3224&slotid=1203&nsRndNo=817685688)

预期输出 - [http://www.mensxp.com/](http://www.mensxp.com/)

实际输出 - 位置：空

这是我正在使用的代码-

```
function geturl(url){
let req= Cc["@mozilla.org/xmlextras/xmlhttprequest;1"].createInstance(Ci.nsIXMLHttpRequest);
req.open("GET", url);
req.overrideMimeType("text/plain");
req.send(null);
req.onreadystatechange = function() {
if (req.readyState == 4) 
{ if (req.status == 200) 
  { try 
    {
       location = req.getResponseHeader("Location");
       console.log("Location is: " + location);
    }
    catch(e){
    console.log("Error reading the response: " + e.toString());
  }
 }
} 
```

**解决方案**-

我终于找到了解决方案。我没有得到最终的回应。所以我将重定向限制设置为 0，现在我可以在标题中获取 Location 字段。这是我添加到代码中的内容-

```
if (request.channel instanceof Ci.nsIHttpChannel)
    request.channel.redirectionLimit = 0; 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-12T15:31:38.973

实际上你必须检查`readyState == 2`，即 HEADERS_RECEIVED 状态

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-12T09:31:01.500

因为状态码 200 表示 OK，所以你的 try 块不会被执行。“位置”字段仅在重定向中退出，其状态码为 301 或 302。

该 url 响应 302，因此更改`req.status == 200`为`req.status == 302`.

# sql - 更新查询日期功能

> ID：15964262
> 
> 赞同：1
> 
> 时间：2013-04-12T06:08:18.430
> 
> 标签：sql, sql-server-2008, sql-update

我为一张表创建更新查询。我需要从旧数据库创建日期。但我不知道该怎么做？

我的疑问是，

```
select 'update organizations set createddate='+CAST(RegisteredDate as varchar(50))+'''where Id='+cast(organizationid as varchar(50))+'' from OrganizationRegisteredDetails 
```

当我使用此查询时，**我的结果是**，

```
update organizations set createddate=Aug 19 2009 10:20AM'where Id=1 
```

但我想要**结果**，

`createddate = 8/19/2009`只要。我不要时间。

那么如何做到这一点呢？

这可能吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-12T06:10:45.813

将日期转换为适当的格式。

[http://www.sql-server-helper.com/tips/date-formats.aspx](http://www.sql-server-helper.com/tips/date-formats.aspx)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-12T06:11:58.997

您只能将其用于日期

```
SELECT CONVERT(VARCHAR(10),GETDATE(),111) 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-12T06:18:25.037

您错过了在值之前添加单引号，

```
select 'update organizations set createddate='''
                                             ^^ here 
```

`CAST(RegisteredDate AS DATE)`如果您只想要日期，请使用。

# javascript - Javascript / jQuery 搜索字符串中的字母

> ID：15964263
> 
> 赞同：2
> 
> 时间：2013-04-12T06:08:27.803
> 
> 标签：javascript, jquery, string, search, letter

我正在使用 JS / jQuery（jQuery 新手），并且我有一个包含数学问题的字符串，包括一个变量。（我正在创建一个函数来解决基本代数）。IE：

```
var $problem = "x+5=11";
// Take off any whitespace from user input
$problem = $problem.replace(/\s+/g,"");
// Split problem into two parts
$problem = $problem.split("="); 
```

现在我需要确定哪个部分包含变量。在这个例子中，它将是

```
$problem[0] // This stores "x+5" 
```

我坚持的是变量可以是任何字母，而不仅仅是x，所以我不能只搜索x。它可能是：a、b、A、x、z、Y。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-12T06:18:07.500

您可以使用正则表达式测试任何具有字母表的变量

```
if(/[a-zA-Z$][a-zA-Z$_0-9]*/.test($problem[0])){
    //left part has a variable
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-12T06:27:52.620

您可以检查字符串中是否包含字母，如下所示：

```
 var str = "x+1";
    if (str.match(/[a-zA-Z]/g)) {
        alert("true");
        }
    else {

        alert("false");
    } 
```

希望这可以帮助！

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-12T06:21:31.540

```
'x+5'.split(/[\W]+/g)

'xyx-2a*yb+5'.split(/[\W]+/g) 
```

# javascript - Access-Control-Allow-Origin 不允许使用非本地文件的 Origin null

> ID：15964264
> 
> 赞同：0
> 
> 时间：2013-04-12T06:08:28.667
> 
> 标签：javascript, html, ajax

我有以下脚本，我只想做一件事。调用 url 并检查 http.status 200 是否返回。我不断收到“Access-Control-Allow-Origin 不允许 Origin null”。虽然错误。我在 StackOverflow 上看到了几件关于这与本地文件系统有关的事情，但是，我称之为 http url。谁知道我为什么会收到这个错误。我正在使用 Chrome。提前感谢您的帮助！

```
<html>
<head>
<script type="text/javascript">
function checkHet(invoer)
{
if (window.XMLHttpRequest)
{// code for IE7+, Firefox, Chrome, Opera, Safari
xmlhttp=new XMLHttpRequest();
}
else
{// code for IE6, IE5
xmlhttp=new ActiveXObject("Microsoft.XMLHTTP");
}
xmlhttp.onreadystatechange=function()
{
if (xmlhttp.readyState==4 && xmlhttp.status==200)
{
document.write("Klopt als een bus!");
}
else
{
document.write("Klopt <b>niet</b> als een bus!");
}
}
xmlhttp.open("GET", invoer, true );
xmlhttp.send();  
}           
</script>
</head>
<body>
<form>
<input type="text" name="adres" value="http://www.">
<input type="button" value="Check" onClick="checkHet(form.adres.value)">
</form>
</body>
</html> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-12T06:27:52.303

*   Javascript 不应访问本地文件。因为如果 javascript 可以访问本地文件，javascript 可能会窃取客户端计算机上的文件。
*   通常，当脚本尝试访问本地文件时，浏览器会弹出一个安全对话框，询问用户是否允许脚本继续执行。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-12T06:12:36.333

因为出于安全目的，您不允许在其他域（包括本地文件系统）中使用 AJAX。这就是实施中的[同源策略 (SOP)](http://en.wikipedia.org/wiki/Same_origin_policy)。

但也有例外，特别是如果目标域允许[跨域资源共享 (CORS)](http://en.wikipedia.org/wiki/Cross-origin_resource_sharing)

# python - Flask OAuth Github POST 请求

> ID：15964268
> 
> 赞同：1
> 
> 时间：2013-04-12T06:08:48.300
> 
> 标签：python, oauth, flask, github-api

我正在与 Flask 一起开发[面包店](https://github.com/xen/bakery)项目（想法类似于 Travis CI，但在 python 中完成）。并制作为拥有授权 github 用户的存储库添加 webhook 的模块。我没有在这里粘贴完整的示例代码，这是我正在尝试做的片段。完整示例可在[单独的 gist](https://gist.github.com/xen/5369706)中找到。

问题是 Github API GET 请求没有任何问题。但同时 POST 返回状态`401`和`{"message":"Bad credentials"}`响应正文。

```
# this method is working
@app.route('/repos')
def repos():
    # only logged in user should call it, but I skip it in this example
    resp = github.get('/user/repos', data = {'type': 'public'})
    # responce status code is ok, and data is returned
    print(resp.data) # should print to console

@app.route('/addhook/<path:full_name>')
def repos(full_name):
    HOOK_URL = 'http://example.com/hook'
    resp = github.post('/repos/%(full_name)s/hooks' % {'full_name': full_name},
        data = {
            'name':'web',
            'active': True,
            'events': ['push'],
            'config': {
                'url': HOOK_URL,
                'content_type': 'json'
            }
         },
         format = 'json'
    )
    # POST request is not working and form request that Github is not understand
    print(resp.status, resp.data) 
```

我检查了生成 Flask-OAuth 的标头，发现它添加了带有此内容的附加标头行（跳过实际值）：

```
authorization: 'OAuth realm="https://api.github.com", oauth_body_hash="...", oauth_nonce="...", oauth_timestamp="...", oauth_consumer_key="...", oauth_signature_method="HMAC-SHA1", oauth_version="1.0", oauth_token="XXX", oauth_signature="..." 
```

结果 Github 返回此状态，可能不明白如何处理。我找到了解决方法，如果我只复制令牌并直接调用 Github API，那么我可以获得预期的结果。这是等效的 curl 调用：

```
$ curl https://api.github.com/repos/xen/league-gothic/hooks?access_token=XXX -X POST --data '{"name":"web","active":true,"events": ["push"],"config": {"url": "http://example.com/hook","content_type": "json"}}' 
```

所以，问题是：是否有可能让它看起来更好，并使用 Flask OAuth 方法 POST 来简化代码并使其工作？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-13T15:26:59.283

我相信 Flask-Oauth 使用 python-oauth2，在这一点上它已经过时了。您可能会考虑使用不同的客户端库。我可以推荐[rauth](https://github.com/litl/rauth)。特别是，请查看 Facebook Flask 示例。完全披露我是 rauth 的作者。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-08-20T01:21:34.250

正如@maxcountryman 所说，Flask-OAuth 已经过时了。

Flask-OAuth 还有另一个替代品：[Flask-OAuthlib](https://flask-oauthlib.readthedocs.org/en/latest/)

它有一个GitHub的例子：[https ://github.com/lepture/flask-oauthlib/blob/master/example/github.py](https://github.com/lepture/flask-oauthlib/blob/master/example/github.py)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-14T04:37:54.757

关于我在问题中描述的问题。这是解决它的猴子补丁：

```
# monkey patch OAuth
import oauth2
old_request = oauth2.Request
del oauth2.Request
class NewRequest(old_request):
    def to_header(self, realm=''):
        """According Github documentation this is enough for authentication
        http://developer.github.com/v3/#authentication."""
        return {'Authorization': 'token %s' % self['oauth_token']}

oauth2.Request = NewRequest
# end monkey patch 
```

这是临时解决方案，可能对其他使用 Flask-OAuth 和依赖模块有类似问题的人没有太大帮助。OAuth2 看起来过时了，不支持 PATCH 方法，可能还有其他问题，可能你可以按照 Max Countryman 的建议尝试一下`rauth`。模块有[Flask 示例](https://github.com/litl/rauth/tree/master/examples/facebook)。~~还存在具有 rauth 支持的 Flask-OAuth 端口，称为[Flask-Rauth](http://flask-rauth.readthedocs.org/en/latest/)~~自 rauth API 更新以来不起作用。

# insert - Hive S3 数据插入不断覆盖数据

> ID：15964274
> 
> 赞同：0
> 
> 时间：2013-04-12T06:09:17.300
> 
> 标签：insert, amazon-web-services, amazon-s3, amazon, hive

这是我的场景：

1.  我从 S3 存储桶中的一个文件夹加载数据。让我们将此存储桶称为“new_data”。

    CREATE EXTERNAL TABLE new_data (col1 string) ROW FORMAT DELIMITED FIELDS TERMINATED BY '\t' LOCATION 's3://some-bucket/folder'

2.  接下来，我从 S3 中的另一个文件夹加载数据，我们称之为“data_already_imported”。

    CREATE EXTERNAL TABLE data_already_imported (col1 string) ROW FORMAT DELIMITED FIELDS TERMINATED BY '\t' LOCATION 's3://some-bucket/another-folder'

3.  然后，我发现 new_data 和 data_already_imported 之间的区别

    创建表差异为 SELECT * FROM ( SELECT n.* FROM new_data n LEFT OUTER JOIN data_already_imported old ON n.col1 = old.col1 WHERE old.col1 IS NULL ) i;

现在，我想将此“差异”移动到 data_already_imported 文件夹中。目前我有

```
INSERT INTO TABLE data_already_imported 
SELECT * FROM difference; 
```

问题是这会覆盖 data_already_imported 中已经存在的数据。注意：我也试过了`INSERT OVERWRITE`。有人可以指出我在这里做错了什么吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-12T08:59:00.470

在 Hive 中，没有将记录附加到已填充的表中。您必须创建另一个表（假设它将被调用`new_data_already_imported`）然后执行以下操作：

```
INSERT OVERWRITE TABLE new_data_already_imported
  SELECT * FROM (
    SELECT * FROM data_already_imported UNION ALL
    SELECT * FROM difference ); 
```

# mysql - MySQL：恢复已删除的 root 帐户

> ID：15964277
> 
> 赞同：1
> 
> 时间：2013-04-12T06:09:32.387
> 
> 标签：mysql

我正在尝试恢复已删除的 root 帐户。

我按照这个[恢复 MySQL 删除的“root”用户和密码](https://stackoverflow.com/questions/6085455/restoring-deleted-root-user-and-password-for-mysql)（也是那里的博主链接）

在我尝试之前一切都很好

mysql>`GRANT ALL PRIVILEGES ON *.* TO 'root'@'localhost' WITH GRANT OPTION;`

这使

`ERROR 1045 (28000): Access denied for user ''@'localhost' (using password: NO)`

我不知道我应该输入什么密码`mysql -u root -p`。我想我正在以用户身份登录：''。如何删除此用户？当我输入我以前的 root 密码时，它不接受。我只是不输入任何密码，按回车并接受。

当我这样做时 `SELECT USER(),CURRENT_USER();`

它说：

```
+----------------+----------------+
| USER()         | CURRENT_USER() |
+----------------+----------------+
| root@localhost | @localhost     |
+----------------+----------------+
1 row in set (0.00 sec) 
```

我怎样才能解决这个问题？（或：如何删除root并再次添加并设置密码？）

# javascript - AngularJS - 将 ng-model 绑定到一个变量，该变量的名称存储在另一个变量中

> ID：15964278
> 
> 赞同：14
> 
> 时间：2013-04-12T06:09:41.080
> 
> 标签：javascript, angularjs

我正在尝试将输入字段的值绑定到变量。我不知道这个变量的名称*是先验的*；它存储在另一个变量中。

这是html：

```
<body ng-controller="stageController">
    <form name="myForm" novalidate="">
        <input type="text" name="myText" ng-model="model" />
    </form>
</body> 
```

这是控制器：

```
function stageController($scope) {
    $scope.model = 'realModel'; // contains the name of the variable that i would bind to the field 
    $scope.realModel = 'initial value of the field';
} 
```

**我还做了一个[小提琴](http://jsfiddle.net/bruscopelliti/mttKA/)。**

这不起作用，因为当前绑定在输入字段和`model`变量之间。相反，我会将输入字段绑定到名称存储在变量中的`$scope.model`变量（在本例中`realModel`）。

**可能吗？如何？**

* * *

## 回答 #1

> 赞同：19
> 
> 时间：2013-04-12T07:33:57.487

是的，有可能。我不明白你为什么要这样做，但我可以告诉你如何去做。我无法启动小提琴，但我复制到了 plnkr：[http ://plnkr.co/edit/o1gFf1lMq4Pg5iVoVyUN?p=preview](http://plnkr.co/edit/o1gFf1lMq4Pg5iVoVyUN?p=preview)

您创建一个指令，使用 $compile 将原始模板转换为新模板。新指令：

```
directive('ngBindModel',function($compile){
    return{
        compile:function(tEl,tAtr){
          tEl[0].removeAttribute('ng-bind-model')
            return function(scope){
              tEl[0].setAttribute('ng-model',scope.$eval(tAtr.ngBindModel))
              $compile(tEl[0])(scope)
                console.info('new compiled element:',tEl[0])
            }
        }
    }
}) 
```

更新了 html（从 ng-model 更改为 ng-bind-model，新指令）

```
<input type="text" name="myText" ng-bind-model="model"  /> 
```

* * *

## 回答 #2

> 赞同：13
> 
> 时间：2014-02-11T17:07:25.873

一个更简单的替代方案 - 只要可以稍微更改模型 - HTML：

```
<body ng-controller="stageController">
    <form name="myForm" novalidate="">
        <input type="text" name="myText" ng-model="vars[model]" />
    </form>
</body> 
```

模型：

```
function stageController($scope) {
    $scope.model = 'realModel'; // contains the name of the variable that i would bind   to the field 
    $scope.vars = {};    // variables container
    $scope.vars.realModel = 'initial value of the field';
} 
```

* * *

## 回答 #3

> 赞同：9
> 
> 时间：2013-12-03T21:20:05.660

我尝试在里面使用以前的答案`ng-repeat`，但没有用。它使用`compile`函数，这意味着所有指令都使用最后传入的值。如果您使用链接功能，它似乎按预期工作，即

```
.directive('ngBindModel',function($compile){
      return{
        link:function(scope,element,attr){
          element[0].removeAttribute('ng-bind-model');
          element[0].setAttribute('ng-model',scope.$eval(attr.ngBindModel));
          $compile(element[0])(scope);
        }
      };
    }) 
```

* * *

## 回答 #4

> 赞同：4
> 
> 时间：2014-11-18T22:22:52.110

user2273266 的（目前获胜的）答案实际上是不正确的。虽然如果您只使用该指令一次它会起作用，但它实际上会混淆模板元素和实例元素对象，并且会将它找到的姓氏放在它在循环中呈现的所有元素上，例如。

```
directive('custBindModel',function($compile){
    return{
        compile:function(tEl){
            tEl[0].removeAttribute('cust-bind-model');
            return function(scope, iEl, iAtr){
                iEl[0].setAttribute('ng-model',scope.$eval(iAtr.custBindModel));
                $compile(iEl[0])(scope);
                console.info('new compiled element:',tEl[0]);
            }
        }
    }
}) 
```

这个版本通过分离对模板和实例的操作来纠正这个问题，因此链接后调用只修改实例而不修改模板。

还更改了保留的“ng”前缀。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-04-12T06:36:12.803

我对 Angularjs 比较陌生。我知道您在使用窗口的 Javascript 中可以实现您的要求。我不确定 Angular。我已经修改了代码以实现几乎可能的解决方案：

```
 $scope.model = {'var':'realModel','value':'initial value of the field'}; 
```

试试[小提琴](http://jsfiddle.net/mttKA/12/)：

* * *

## 回答 #6

> 赞同：-2
> 
> 时间：2015-06-11T18:34:12.040

您在这里缺少的是 ng-app 指令，不需要为 ng-model 使用显式指令。

这有效：

```
<body ng-app="myApp" ng-controller="stageController">
    <form name="myForm" novalidate="">
        <input type="text" name="myText" ng-model="realModel" />
    </form>
<script>
var app = angular.module('myApp', []);
app.controller('stageController', function($scope) {
    $scope.model = 'realModel'; 
    $scope.realModel = 'initial value of the field';
})
</script>
</body> 
```

# c# - 将多个控件绑定到组合框中选定的对象

> ID：15964281
> 
> 赞同：3
> 
> 时间：2013-04-12T06:10:12.317
> 
> 标签：c#, .net, wpf, binding

我有一个学生班级，如下所示

```
public class Student
{
    public string Name { get; set; }
    public string Operator { get; set; }
    public IList<Subject> Subjects { get; set; }
} 
```

现在我想把这个学生的集合绑定到我的窗口的三个控件上，如下图

```
<ComboBox  Margin="12,28,0,0"
           Name="cbStudents"
           VerticalAlignment="Top"
           ItemsSource="{Binding Path=PersonList}"
           DisplayMemberPath="Name"
           SelectedValuePath="Operator" />
<TextBox  Margin="12,75,0,0"
          Name="tbOperator"
          VerticalAlignment="Top"
          Text="{Binding ElementName=cbStudents,Path=SelectedValue}" />
<ComboBox Margin="12,123,0,0"
          Name="cbSubjects"
          VerticalAlignment="Top"
          ItemsSource="{Binding ElementName=cbStudents, Path=SelectedValue}"
          DisplayMemberPath="SubjectName" /> 
```

现在我担心的是，每当我更改 cbStudents 中的选择时，在这种情况下，其他控件也应该更改其相应的值。根据上面给出的代码，只要 cbStudents 中的选择更改 tbOperator 中的文本正在更改，我也想为 cbSubjects 实现相同的内容。除了有 cbStudents 的 SelectionChanged 事件之外，还有其他方法吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-12T06:14:27.640

您希望 TextBox`tbOperator`显示`Operator`ComboBox 的 SelectedItem 的`cbStudents`，而另一个 ComboBox 包含 ComboBox`Subjects`的 SelectedItem 的`cbStudents`。

然后下面的 XAML 应该做你想做的（*删除不相关的代码来解决你的问题*）：

```
<ComboBox Name="cbStudents" 
          ItemsSource="{Binding Path=PersonList}" 
          DisplayMemberPath="Name" />
<TextBox Name="tbOperator" 
         Text="{Binding SelectedItem.Operator, ElementName=cbStudents}" />
<ComboBox Name="cbSubjects" 
          ItemsSource="{Binding SelectedItem.Subjects, ElementName=cbStudents}" 
          DisplayMemberPath="SubjectName" /> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-12T06:14:34.773

绑定路径`cbSubjects`错误。您应该将其设置为`SelectedValue.Subjects`：

```
<ComboBox Margin="12,123,0,0" Name="cbSubjects" VerticalAlignment="Top"  ItemsSource="{Binding ElementName=cbStudents, Path=SelectedValue.Subjects}" DisplayMemberPath="SubjectName" /> 
```

# java - java通过点阵打印，跳页

> ID：15964283
> 
> 赞同：0
> 
> 时间：2013-04-12T06:10:32.587
> 
> 标签：java, printing, dot-matrix

我正在尝试在点阵打印机上通过 java 打印，自定义页面大小高度为 10 英寸 x 6 英寸宽。它在激光打印机上运行良好，但在点阵打印机上打印 10 英寸后，下一页会跳过大约 3 英寸。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-12T06:12:56.603

查看命令`setVisible(boolean visible)`！

*   [http://www.java2s.com/Code/JavaAPI/javax.swing/JFramesetVisiblebooleanvisible.htm](http://www.java2s.com/Code/JavaAPI/javax.swing/JFramesetVisiblebooleanvisible.htm)

# java - 选择按钮的 XPath？

> ID：15964293
> 
> 赞同：2
> 
> 时间：2013-04-12T06:10:56.947
> 
> 标签：java, xpath, selenium, webdriver, selenium-webdriver

我有以下 HTML 代码，我需要选择突出显示的元素。如果菜单突出显示，我想选择菜单中的按钮而不是菜单！如果菜单是运动场，我想选择它。

```
<menu id="apl" class="highlight" widgetid="apl">
<button id="navi" selectable="true" widgettype="button" widgetid="audio_radio_apl_navi">
<button id="audio" class="highlight" selectable="true" widgettype="button" widgetid="audio_radio_apl_audio">
<button id="tel" selectable="true" widgettype="button" widgetid="audio_radio_apl_tel">
<button id="video" selectable="true" widgettype="button" widgetid="audio_radio_apl_video">
<button id="system" selectable="true" widgettype="button" widgetid="audio_radio_apl_system">
<button id="net" selectable="true" widgettype="button" widgetid="audio_radio_apl_net">
</menu>
<menu id="plf" widgetid="plf">
<img src="img/plf_radio.png"/>
</menu> 
```

到目前为止，我的代码是：

```
focusedElement = driver.findElement(By.xpath("//*[contains(@class,'highlight')]")); 
```

这让我得到突出显示的菜单，但我需要按钮！有任何想法吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-12T07:08:06.793

try this one

```
focusedElement = driver.findElement(By.xpath("//button[@class='highlight']")); 
```

as simple as it can get or

```
Select selectBox = new Select(driver.findElement(By.xpath("//menu[@id='apl']"))); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-12T06:58:04.847

如果我正确理解了您的问题，则此 XPath 应该适用于您提供的示例。

```
//menu[@class='highlight']//button[@class='highlight'] 
```

它将寻找一个包含一个`<menu>`with`class='highlight'``<button>``class='highlight'`

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-12T12:42:59.520

检查突出显示的元素的 dom 是否已更改。有时它是由javascript触发的，并创建一个新元素，这很难测试。或者如上所述的Iframe :D

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-12T14:36:14.647

你需要条件语句：你应该检查元素是否`"//menu[@id='apl']/button[@class='highlight']"`存在，如果存在，点击它，如果不存在，然后点击`"//menu[@id='plf']"`

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2015-09-23T12:41:48.747

```
focusedElement = driver.findElement(By.xpath("//menu[@id='apl']/button[2]")); 
```

# javascript - 一次一个警报

> ID：15964294
> 
> 赞同：0
> 
> 时间：2013-04-12T06:10:58.173
> 
> 标签：javascript, function, popup, alert

我正在制作一个表单，并在表单中有一堆函数来验证某些字段，但我遇到的问题是，当你提交每个返回 false 的验证时，会弹出一个警报，所以它最终会变成很多警报。

有没有办法改变对函数或函数本身的调用，以便一次只弹出一个警报？

我的表单目前的工作原理是，如果您提交表单并将名字和姓氏字段留空并且两个字段都是必填字段，则会弹出两个警报，说您没有填写名字并且您没有填写姓氏（可能会对我拥有的字段数量感到恼火）。

我正在尝试找出一种方法，以便如果您提交表单并将两个字段都留空，只会弹出一个警报，说您尚未填写名字，然后当您填写名字字段并有仍然将姓氏字段留空，然后会弹出一条警报，提示您尚未填写姓氏。

这是我拥有的主要验证功能块：

```
function validateText() 
{
var firstname=document.getElementById('txtfirstname');
var familyname=document.getElementById('txtfamilyname');
var streetaddress=document.getElementById('txtaddress');
var suburb=document.getElementById('txtsuburb');
var postcode=document.getElementById('txtpostcode');
var country=document.getElementById('txtcountry');
var telephone=document.getElementById('txttelephone');
var email=document.getElementById('txtemail');
var regodate=document.getElementById('txtregodate');
var regocost=document.getElementById('txtregocost');

if (firstname.value=="")
{
     alert("First name must be filled out");
     return false;
}
if (familyname.value=="")
{
     alert("Family name must be filled out");
     return false;
}

var institutioncompany=document.getElementById('txtinstcomp').value;
if (institutioncompany == "") 
{
     alert("Institution/company must be filled out");
     return false;
}
var category=document.getElementById('category').value;
if (category == "UWS Student" || category == "Other UWS Staff" || category == "UWS Academic")
{
    if (document.getElementById("txtnumber").value == "")
    {
        alert('Student number/Staff number is mandatory');
        return;
    }
}

if (streetaddress.value=="")
{
     alert("Street address must be filled out");
     return false;
}
 if (suburb.value=="")
{
     alert("Suburb must be filled out");
     return false;
}
 if (postcode.value=="")
{
     alert("Postcode must be filled out");
     return false;
}
 if (country.value=="")
{
     alert("Country must be filled out");
     return false;
}
 if (telephone.value=="")
{
     alert("Telephone number must be filled out");
     return false;
}
 if (email.value=="")
{
     alert("Email address must be filled out");
     return false;
}
 if (regodate.value=="")
{
     alert("Date of registration must be filled out");
     return false;
}
 if (regocost.value=="")
{
     alert("Cost of registration must be filled out");
     return false;
}
}

function validateCheckBoxes(theForm) 
{
if (
theForm.checkbox.checked == false &&
theForm.checkbox1.checked == false &&
theForm.checkbox2.checked == false)
{
    alert ('You didn\'t choose any of the checkboxes');
    return false;
} else {    
    return true;
}
}

function validateRadioButton() 
{
var radios = document.getElementsByName('yesno');

for (var i = 0; i < radios.length; i++) 
{
    if (radios[i].checked) 
{
    return true; //checked
}
};
// not checked, show error
alert ('You didn\'t choose whether you wanted a copy of work proceedings');
return false;
}

function validateEmail() 
{
var emailID = document.rego.email.value;
atpos = emailID.indexOf("@");
dotpos = emailID.lastIndexOf(".");
if (atpos < 1 || (dotpos - atpos < 2 ))
{
    alert("Please enter correct email ID");
    return false;
}
return(true);
} 
```

这是我调用某些函数的方式：

```
<form name="rego" action="submit.htm" onsubmit="return !!(validateText() & validateCheckBoxes(this) & validateRadioButton() & validateEmail() & populateInstitution());" method="POST"> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-12T06:23:45.580

& 表示 JavaScript 中的按位与 && 是逻辑与，所以

```
 !!(validateText() 
    & validateCheckBoxes(this) 
    & validateRadioButton() 
    & validateEmail() 
    & populateInstitution()) 
```

将导致每个函数的求值和所有结果的按位和运算。

当你这样做时：

```
 !!(validateText() 
    && validateCheckBoxes(this) 
    && validateRadioButton() 
    && validateEmail() 
    && populateInstitution()) 
```

第一个返回 false 的函数将结束评估，因为 False AND(logical) 其他任何内容都将以 false 结束...这是 JavaScript 的内部优化，因此第一个返回 false 之后的函数将不会被评估，换句话说...

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-12T07:06:18.133

所以我还没来得及发表我的评论作为答案就被打断了。

如果我不想要 jQuery 验证，我会考虑以下内容。

关键问题是试图保持一致。你需要在任何地方返回真假

形式：

```
<form onsubmit="return validate(this)"...> 
```

JavaScript：

```
function validate(theForm)  {
  return validateText() &&
         validateCategory(document.getElementById("txtcategory")) &&
         validateCheckBoxes(theForm) &&
         validateEmail(theForm);

}

function validateCategory(category) {
  var val = category.value;
  if (document.getElementById("txtnumber").value == "" && (val == "UWS Student" || val == "Other UWS Staff" || val == "UWS Academic")) {
    alert('Student number/Staff number is mandatory');
    document.getElementById("txtnumber").focus();
    return false;
  }
  return true;
}

var mandatory = {
 firstname: "First name must be filled out",
 familyname: "Family name must be filled out",
 instcomp : "Institution/company must be filled out",
 streetaddress: "Street address must be filled out",
 suburb: "Suburb must be filled out",
 postcode: "Postcode must be filled out",
 country:"Country must be filled out",
 telephone: "Telephone number must be filled out",
 email:"Email address must be filled out",
 regodate:"Date of registration must be filled out",
 regocost:"Cost of registration must be filled out"
}; // note no comma after the last

function validateText() {
  for (var o in mandatory) {
    var fld = document.getElementById("txt"+o);
    if (fld.value==="") {
      alert(mandatory[o]);
      fld.focus();
      return false;
    }
  }
  return true;
}
function validateCheckBoxes(theForm) {
  if (theForm.checkbox.checked && theForm.checkbox1.checked && theForm.checkbox2.checked) return true;
  alert ('You didn\'t choose any of the checkboxes');
  return false;
}

function validateRadioButton() {
var radios = document.getElementsByName('yesno');
for (var i = 0; i < radios.length; i++) {
  if (radios[i].checked) {
    return true; //checked
  }
}
// not checked, show error
  alert ('You didn\'t choose whether you wanted a copy of work proceedings');
  return false;
}
function validateEmail(theForm)  {
  var email = theForm.email;
  var emailID = email.value;
  atpos = emailID.indexOf("@");
  dotpos = emailID.lastIndexOf(".");
  if (atpos < 1 || (dotpos - atpos < 2 )) {
    alert("Please enter correct email ID");
    email.focus();
    return false;
  }
  return true;
} 
```

# python - 遍历数据列表并根据列表编辑对象的属性

> ID：15964299
> 
> 赞同：0
> 
> 时间：2013-04-12T06:11:04.213
> 
> 标签：python, django, django-models, tastypie

我想检索 PUT 数据列表，遍历该列表并根据列表中的属性更新对象。我的代码如下：

```
 property_id = data['id']
            if property_id:
                property_selected = Property.objects.get(id=property_id)
                if property_selected:
                    for d in data:
                        property_selected.d = data[d]
                    property_selected.save() 
```

但是，这不起作用，因为当属性称为 name 时，它​​将值保存为 property_selected.d 而不是 property_selected.name。有谁知道我应该如何解决这个问题？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-12T06:22:44.663

您可以执行以下操作（使用[`iteritems()`](http://docs.python.org/2/library/stdtypes.html#dict.iteritems)和[`setattr()`](http://docs.python.org/2/library/functions.html#setattr)）：

```
for key, value in data.iteritems():
    setattr(property_selected, key, value) 
```

但是您可能应该限制允许编辑的字段：

```
for key, value in data.items():
    if key in ['foo_field', 'bar_field']:
        setattr(property_selected, key, value) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-12T06:21:45.933

要按名称设置属性，您可以使用 django 模型实例的 setattr 方法

`setattr(property_selected, d, data[d])`

资料来源：[如何按名称设置 django 模型字段？](https://stackoverflow.com/questions/1545645/how-to-set-django-model-field-by-name)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-12T06:32:45.243

使用内置函数[setattr](http://docs.python.org/2/library/functions.html#setattr)。

```
for d in data:
    setattr(property_selected, d, data[d]) 
```

有许多使用 setattr[的答案很有启发性。](https://stackoverflow.com/tags/setattr/hot)

# machine-learning - 支持向量的数量 libsvm

> ID：15964301
> 
> 赞同：4
> 
> 时间：2013-04-12T06:11:24.790
> 
> 标签：machine-learning, libsvm, svm

预测时间取决于支持向量的数量，但我想更快地进行预测。

如何将 libsvm 中的支持向量数量设置为 const 值？

也许我可以找到 N 个支持向量，然后通过某种近似值将其减少到 K (K< N)？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-04-12T13:28:52.983

如其他答案所述，控制支持向量数量的更简单方法是使用 C 和内核参数。但是，有一些关于该主题的有趣论文：

构建具有降低分类器复杂性的支持向量机[PDF](http://goo.gl/Wiqjf)

一种简化支持向量机的有效方法[PDF](http://www.machinelearning.org/proceedings/icml2005/papers/078_Efficient_NguyenHo.pdf)

约简支持向量机研究[PDF](http://www.csie.ntu.edu.tw/~cjlin/papers/rsvmTEX.pdf)

不幸的是，我找不到这个的公共资源：

一种减少支持向量数量的算法（[http://link.springer.com/chapter/10.1007%2F1-4020-3432-6_12?LI=true#page-1](http://link.springer.com/chapter/10.1007%2F1-4020-3432-6_12?LI=true#page-1)）

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-04-12T08:27:22.470

支持向量的数量取决于训练数据和参数**c**以及选择的内核参数（例如，高斯有**Gamma**）。

据我所知，没有明确的方法来定义支持向量的数量。只是一个线索：也许像**c=0**这样的极端值会产生一些极端数量的支持向量 - 但据说这不是你要找的......

可能，更好的方法是找到可以为您提供所需支持向量数量并且结果仍然合理的参数设置。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-12T10:17:32.070

根据您使用的内核，您必须对 C 和 Gamma 参数进行详尽的网格搜索（请参阅 grid.py）并优化支持向量的数量。无法保证 grid.py 中的值网格将为您的特定问题产生最佳值，但它是一个很好的起点。请注意，最小化 SV 的数量并不能最大化准确性。

PS：您需要为此任务编写自定义脚本，因为此功能未内置在 AFAIK 中。

# php - 为什么 Cakephp 验证不起作用？

> ID：15964311
> 
> 赞同：0
> 
> 时间：2013-04-12T06:11:52.387
> 
> 标签：php, cakephp-2.0

我有一个像这样的输入框

```
<input id="BreakdownProgName" type="text" required="required" placeholder="customer name" size="50" name="data[Breakdown][prog_name]"> 
```

我的模型验证不适用于此代码，但是当我替换上面的代码时，如下所示 -

```
<?php echo $this->Form->input('Breakdown.prog_name',array('label'=>false,'div'=>false,'size'=>50,'placeholder'=>"customer name",'type'=>'text')); ?> 
```

那个时间验证工作得很好。但我想使用第一个，也希望验证与第一个代码完美配合。我该怎么办？

我的控制器代码是

```
public function qty_breakdown1() 
    {

            $this->layout='common';

        if(empty($this->data) == false)
        {

            if($this->Breakdown->save($this->data))
            {
                //echo "This";
                $this->Session->setFlash('B Added Successfully.', 'default', array('class' => 'oMsg1 oMsgError1'));
                $this->redirect('qty_breakdown');
            }

        }
        else
        {
            $this->set('errors', $this->Breakdown->invalidFields());    
        }
     } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-12T06:24:39.327

如果 POST 数据中的字段名称正确，则无论视图代码如何，您的验证都应该有效。那是因为验证在服务器端起作用。

但是，如果您想显示验证错误，您应该使用 Cake 的 FormHelper 来呈现表单元素或手动检查视图文件中的验证错误并从 PHP 代码中显示它们。

编辑：请检查 API：[isFieldError](http://api.cakephp.org/2.3/class-FormHelper.html#_isFieldError) - 检查字段是否有错误和 [错误](http://api.cakephp.org/2.3/class-FormHelper.html#_error)- 为给定字段呈现格式化的错误消息。

# vba - 无需用户应用过滤器即可拥有多个 SUMIF 公式的替代方案

> ID：15964313
> 
> 赞同：0
> 
> 时间：2013-04-12T06:12:01.680
> 
> 标签：vba, excel, sumifs

假设在您的工作簿中：Sheet1 有一个包含 20 列和大约 1000 行的表。每行属于 50 个类别之一。开发人员无法对 Sheet1 进行任何可见的更改。

Sheet2 有一个单元格，用户可以在其中输入类别 ID，并在 Sheet 1 的每个列上显示 SUMIF 的结果。

我的理解是 Excel 将遍历每个 SUMIF 的所有 1000 列，执行相同的搜索 20 次。有没有替代方案？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-15T23:34:36.200

这就是我所决定的。它绝对不能满足每个人的需求。

**情况：** - 我不想在 10000 行上运行 SUMIF 20 次
- 我可以放心地假设每个类别的行数永远不会超过 200 行（即满足我的 sumif 标准的一组行）。
- 拥有一个只包含符合该条件的行的表对我来说也很有用。

**解决方案：** 我创建了一个包含 200 行公式的表格，该表格将显示符合我的标准的行。

最左边的列将具有下一个匹配行的行号，或者为空白并且如果没有更多则不搜索。

左列第一行：

```
IFERROR(MATCH(CategoryID,'DataTable'!B:B,0),"") 
```

左列的后续行（A2 是上面的单元格）：

```
IF(A2="","",MATCH(CategoryID,OFFSET('DataTable'!B:B,A2,0,RowsInTable-A2,1),0)+A2)) 
```

其右侧的所有单元格都是基本的 INDEX 公式，它们使用最左列的行号。

要计算我们使用的找到结果的数量：

```
=COUNTA(A2:A202)-COUNTBLANK(A2:A202) 
```

然后我们使用这个计数和表来执行很好的快速求和：

```
SUM(OFFSET(C:C,0,0,RowCount,1)) 
```

# java - 如何为 ISO m8583 格式化 Java 使用日期？

> ID：15964319
> 
> 赞同：-1
> 
> 时间：2013-04-12T06:12:17.453
> 
> 标签：java, iso8583, jpos, openiso8583.net

我正在使用以下函数返回格式化的字符串日期：

```
private static String formatDate(String format) {
    Date date = new Date();
    SimpleDateFormat sdf = new SimpleDateFormat(format);

    String strDate = sdf.format(date);
    return strDate;
} 
```

例如，如果我使用以下格式调用它，则此函数将返回：

```
System.out.println(formatDate("MMYYHHMMSS")); 
```

它打印：04130904803

当我使用上述日期创建 ISO 消息时，例如。

```
// Create ISO Message
    ISOMsg isoMsg = new ISOMsg();
    isoMsg.setPackager(packager);
    isoMsg.setMTI("0200");
            isoMsg.set(2, "100002");
    isoMsg.set(3, "201234");
    isoMsg.set(7, "04130904803");
    isoMsg.set(11, "123456");
    isoMsg.set(44, "A5DFGR");
    isoMsg.set(105, "ABCDEFGHIJ 1234567890");

    // Get and print the output result
    byte[] data = isoMsg.pack();

            unpackISO(new String(data)); 
```

我收到以下错误：=> 错误：错误打包字段 7 但是当我删除字段 7 中日期的前零时，我工作正常。我应该在java中使用什么日期格式来格式化日期？帮助！

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-12T06:15:29.490

我猜你`MMYYHHMMSS`的意思是“月年时分秒”。因此，使用为 记录的模式说明符[`SimpleDateFormat`](http://docs.oracle.com/javase/7/docs/api/java/text/SimpleDateFormat.html)，应该是`"MMddHHmmss"`. （如以下评论中所述，第二部分是日，而不是年。）

顺便说一句，我*还*强烈建议您不要使用`String(byte[])`构造函数：将编码指定为另一个参数，使用`String(byte[], String)`或`String(byte[], Charset)`。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-12T06:23:13.107

该错误似乎是由给定字符串的长度引起的。您指定的格式应该是 10 个字符长，但生成的字符串是 11 个字符长。这可能就是为什么删除前导零可以解决问题的原因。

你得到一个字符串一个字符太长的原因可能是由于 Jon Skeet 提供的原因；SimpleDateFormat 的模式说明符。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-23T21:14:26.937

您使用`ISODate.getDateTime(Date d)`或`ISODate.getDateTime(Date, TimeZone)`。

请参阅[http://jpos.org/doc/javadoc/org/jpos/iso/ISODate.html](http://jpos.org/doc/javadoc/org/jpos/iso/ISODate.html)

# java - 尽管 jar 已正确添加到项目路径中，但异常

> ID：15964320
> 
> 赞同：0
> 
> 时间：2013-04-12T06:12:23.670
> 
> 标签：java, android

以下是代码：

```
AndroidMarketClient client;
        try {
            client = new AndroidMarketClient("myname@gmail.com",
                    "mypassword","androidID" "dd/MM/yyyy", Locale.ENGLISH); 
```

尽管我已将 androidmarketapi-0.6.jar 添加到项目路径中，但它会因以下异常而崩溃。

```
04-11 23:03:25.455: D/dalvikvm(32628): Late-enabling CheckJNI
04-11 23:03:25.755: D/dalvikvm(32628): GC_FOR_ALLOC freed 66K, 7% free 12801K/13663K, paused 26ms
04-11 23:03:25.805: I/dalvikvm-heap(32628): Grow heap (frag case) to 15.741MB for 3288496-byte allocation
04-11 23:03:25.845: D/dalvikvm(32628): GC_FOR_ALLOC freed 3K, 6% free 16009K/16931K, paused 22ms
04-11 23:03:25.885: D/dalvikvm(32628): GC_CONCURRENT freed <1K, 6% free 16009K/16931K, paused 1ms+5ms
04-11 23:03:25.945: E/dalvikvm(32628): Could not find class 'com.gc.android.market.api.MarketSession', referenced from method androidmarketclient.AndroidMarketClient.<init>
04-11 23:03:25.945: W/dalvikvm(32628): VFY: unable to resolve new-instance 26 (Lcom/gc/android/market/api/MarketSession;) in Landroidmarketclient/AndroidMarketClient;
04-11 23:03:25.945: D/dalvikvm(32628): VFY: replacing opcode 0x22 at 0x0003
04-11 23:03:25.945: I/dalvikvm(32628): Could not find method com.gc.android.market.api.MarketSession.getContext, referenced from method androidmarketclient.AndroidMarketClient.getAndroidId
04-11 23:03:25.945: W/dalvikvm(32628): VFY: unable to resolve virtual method 78: Lcom/gc/android/market/api/MarketSession;.getContext ()Lcom/gc/android/market/api/model/Market$RequestContext$Builder;
04-11 23:03:25.945: D/dalvikvm(32628): VFY: replacing opcode 0x6e at 0x0002
04-11 23:03:25.945: I/dalvikvm(32628): Could not find method com.gc.android.market.api.model.Market$AppsRequest.newBuilder, referenced from method androidmarketclient.AndroidMarketClient.requestApps
04-11 23:03:25.945: W/dalvikvm(32628): VFY: unable to resolve static method 86: Lcom/gc/android/market/api/model/Market$AppsRequest;.newBuilder ()Lcom/gc/android/market/api/model/Market$AppsRequest$Builder;
04-11 23:03:25.945: D/dalvikvm(32628): VFY: replacing opcode 0x71 at 0x0001
04-11 23:03:25.945: I/dalvikvm(32628): Could not find method com.gc.android.market.api.model.Market$CommentsRequest.newBuilder, referenced from method androidmarketclient.AndroidMarketClient.requestComments
04-11 23:03:25.945: W/dalvikvm(32628): VFY: unable to resolve static method 97: Lcom/gc/android/market/api/model/Market$CommentsRequest;.newBuilder ()Lcom/gc/android/market/api/model/Market$CommentsRequest$Builder;
04-11 23:03:25.945: D/dalvikvm(32628): VFY: replacing opcode 0x71 at 0x0001
04-11 23:03:25.945: E/dalvikvm(32628): Could not find class 'com.gc.android.market.api.model.Market$Comment', referenced from method androidmarketclient.AndroidMarketClient.requestReviews
04-11 23:03:25.945: W/dalvikvm(32628): VFY: unable to resolve check-cast 30 (Lcom/gc/android/market/api/model/Market$Comment;) in Landroidmarketclient/AndroidMarketClient;
04-11 23:03:25.945: D/dalvikvm(32628): VFY: replacing opcode 0x1f at 0x001e
 04-11 23:03:25.945: D/dalvikvm(32628): DexOpt: unable to opt direct call 0x004a at 0x05 in Landroidmarketclient/AndroidMarketClient;.<init>
04-11 23:03:25.945: I/dalvikvm(32628): Failed resolving Landroidmarketclient/AndroidMarketClient$2; interface 25 'Lcom/gc/android/market/api/MarketSession$Callback;'
04-11 23:03:25.945: W/dalvikvm(32628): Link of class 'Landroidmarketclient/AndroidMarketClient$2;' failed
04-11 23:03:25.945: D/dalvikvm(32628): DexOpt: unable to opt direct call 0x0021 at 0x21 in Landroidmarketclient/AndroidMarketClient;.requestApps
04-11 23:03:25.945: I/dalvikvm(32628): Failed resolving Landroidmarketclient/AndroidMarketClient$1; interface 25 'Lcom/gc/android/market/api/MarketSession$Callback;'
 04-11 23:03:25.945: W/dalvikvm(32628): Link of class 'Landroidmarketclient/AndroidMarketClient$1;' failed
04-11 23:03:25.945: D/dalvikvm(32628): DexOpt: unable to opt direct call 0x001e at 0x1c in Landroidmarketclient/AndroidMarketClient;.requestComments

04-11 23:03:25.955: D/AndroidRuntime(32628): Shutting down VM
04-11 23:03:25.955: W/dalvikvm(32628): threadid=1: thread exiting with uncaught  exception (group=0x40ac0210)
04-11 23:03:25.965: E/AndroidRuntime(32628): FATAL EXCEPTION: main
04-11 23:03:25.965: E/AndroidRuntime(32628): java.lang.NoClassDefFoundError: com.gc.android.market.api.MarketSession
04-11 23:03:25.965: E/AndroidRuntime(32628):    at androidmarketclient.AndroidMarketClient.<init>(AndroidMarketClient.java:65)
04-11 23:03:25.965: E/AndroidRuntime(32628):    at androidmarketclient.AndroidMarketClient.<init>(AndroidMarketClient.java:121)
04-11 23:03:25.965: E/AndroidRuntime(32628):    at com.nykkos.dailydeals.DealsActivity.onCreate(DealsActivity.java:54)
04-11 23:03:25.965: E/AndroidRuntime(32628):    at android.app.Activity.performCreate(Activity.java:4465)
04-11 23:03:25.965: E/AndroidRuntime(32628):    at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1049)
04-11 23:03:25.965: E/AndroidRuntime(32628):    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:1931)
04-11 23:03:25.965: E/AndroidRuntime(32628):    at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:1992)
04-11 23:03:25.965: E/AndroidRuntime(32628):    at android.app.ActivityThread.access$600(ActivityThread.java:127)
04-11 23:03:25.965: E/AndroidRuntime(32628):    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1158)
04-11 23:03:25.965: E/AndroidRuntime(32628):    at android.os.Handler.dispatchMessage(Handler.java:99)
04-11 23:03:25.965: E/AndroidRuntime(32628):    at android.os.Looper.loop(Looper.java:137)
04-11 23:03:25.965: E/AndroidRuntime(32628):    at android.app.ActivityThread.main(ActivityThread.java:4441)
04-11 23:03:25.965: E/AndroidRuntime(32628):    at java.lang.reflect.Method.invokeNative(Native Method)
04-11 23:03:25.965: E/AndroidRuntime(32628):    at java.lang.reflect.Method.invoke(Method.java:511)
04-11 23:03:25.965: E/AndroidRuntime(32628):    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:823)
04-11 23:03:25.965: E/AndroidRuntime(32628):    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:590)
04-11 23:03:25.965: E/AndroidRuntime(32628):    at dalvik.system.NativeStart.main(Native Method) 
```

我不明白为什么上面的代码会崩溃。相同的代码可以工作，对于单独的 java 项目来说非常好。

虽然我在路径中添加了 jar，但我不知道为什么它仍然显示

```
Could not find class 'com.gc.android.market.api.MarketSession' 
```

解决问题的任何帮助表示赞赏。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-12T06:22:38.727

如果它是 jar，请将其添加到您的 libs 文件夹中。如果它是一个 android 项目，请将其添加为项目。如果这些都不起作用，请检查您的 project.properties 文件并确保它确实添加了引用（我今天浪费了一个小时，因为 Eclipse 实际上并没有更新该文件）。

# java - 如何在不引发 NullPointerException 的情况下使用 SplashScreen？

> ID：15964323
> 
> 赞同：0
> 
> 时间：2013-04-12T06:12:32.437
> 
> 标签：java, null, nullpointerexception, splash-screen

无论我尝试什么**，**`SplashScreen.getSplashScreen()`总是。 通过在线搜索，我发现这是一个常见问题，并且与不提供要使用的图像有关......因此，在导航我认为应该使用的方法时。这仍然行不通。 SO上有类似的问题，例如[this](https://stackoverflow.com/questions/2089359/java-6-splash-screen)，这些问题没有帮助，似乎建议使用无数插件或从头开始创建这样的类，扩展自. 即使是[Oracle 教程](http://docs.oracle.com/javase/tutorial/uiswing/misc/splashscreen.html)也很神秘，并没有概述正确使用的每个逻辑步骤…… 如果不可能或不必要地难以使用 **`null`

`SplashScreen``setImageURL(URL)`

`Frame``SplashScreen`

`SplashScreen`，有没有其他方法可以做到这一点？或者有没有人破解了一个简单的方法来解决这个问题？** 

* * *

**这是我的尝试：

```
import java.awt.Color;
import java.awt.Graphics2D;
import java.awt.SplashScreen;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;
import java.io.IOException;
import java.net.URL;

/**
 */
public final class MainGUI implements ActionListener {

    /**
     * @throws IOException 
     * @throws IllegalStateException 
     * @throws NullPointerException 
     */
    private final static void showSplashScreen() throws NullPointerException, IllegalStateException, IOException {
        final SplashScreen splash = SplashScreen.getSplashScreen();
        Graphics2D graphics = splash.createGraphics();

        // adding image here:
        URL imageSource = new URL("http://upload.wikimedia.org/wikipedia/commons/thumb/7/76/Space_Shuttle_Atlantis_approaching_the_Kennedy_Space_Center_to_land_following_STS-122.jpg/800px-Space_Shuttle_Atlantis_approaching_the_Kennedy_Space_Center_to_land_following_STS-122.jpg");
        splash.setImageURL(imageSource);

        // coordinates and dimensions:
        int x = 100, y = x;
        int width = 500, height = width;

        // (x, y), width, height:
        graphics.create(x, y, width, height);

        graphics.setBackground(Color.BLUE);

        // adding and centering the text:
        graphics.drawString("centered text", (x + width)/2, (y + height)/2);
    }

    @Override
    public void actionPerformed(ActionEvent e) {
    }

    /**
     * @param args
     */
    public static void main(String[] args) {
        try {
            showSplashScreen();
        } catch (NullPointerException | IllegalStateException | IOException e) {
            // TODO Auto-generated catch block
            e.printStackTrace();
        }
    }
} // end of MainGUI 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-12T06:14:18.583

看看[如何创建启动画面](http://docs.oracle.com/javase/tutorial/uiswing/misc/splashscreen.html)

您需要通过命令行或 Jar 清单提供图像

**更新一些基础知识**

您必须为启动画面提供图像。如果不这样做，它将始终为空。

有两种方法可以做到这一点

## 1.从命令行

```
java -splash:path/to/image.jpg {other command line options} 
```

图像必须驻留在应用程序的类加载器的上下文中（例如嵌入式资源）。

## 2\. 清单文件

这有点困难，但会导致执行更简单（因为没有人需要记住添加命令行；））...

查看[使用清单文件](http://docs.oracle.com/javase/tutorial/deployment/jar/manifestindex.html)了解更多详细信息。

如何创建它取决于您的环境。

例如，在 Netbeans 中，您可以在`Application`节点下的项目属性对话框中设置启动画面属性。**

# android - Android - 旧 Facebook 风格的菜单 UI

> ID：15964328
> 
> 赞同：0
> 
> 时间：2013-04-12T06:13:05.073
> 
> 标签：android, xml, facebook, gridview, user-interface

我正在寻找实现和设计旧式 facebook UI 的方法（不是滑动的 UI，而是看起来类似于网格布局的 UI）

以下是一些图片，以防你记不住。

[http://www.google.co.uk/url?sa=i&rct=j&q=&esrc=s&source=images&cd=&docid=UHkgljE_6dGpAM&tbnid=KpVp44wJ2ncUCM:&ved=&url=http%3A%2F%2Fhowto.cnet.com%2F8301- 11310_39-20070840-285%2Fhow-to-unlink-facebook-for-android-from-phone-contacts%2F&ei=naRnUdXjDMLjlAXixoCgDQ&bvm=bv.45175338,d.dGI&psig=AFQjCNGxtmBmlabfaeqhL6n8zRT5zsd3324Q&ust=9358](http://www.google.co.uk/url?sa=i&rct=j&q=&esrc=s&source=images&cd=&docid=UHkgljE_6dGpAM&tbnid=KpVp44wJ2ncUCM:&ved=&url=http%3A%2F%2Fhowto.cnet.com%2F8301-11310_39-20070840-285%2Fhow-to-unlink-facebook-for-android-from-phone-contacts%2F&ei=naRnUdXjDMLjlAXixoCgDQ&bvm=bv.45175338,d.dGI&psig=AFQjCNGxtmBmlabfaeqhL6n8zRT5zsd54Q&ust=1365833245819990)

[http://www.geeknewscentral.com/wp-content/uploads/2011/06/android-facebook-1.6-old-menu.png](http://www.geeknewscentral.com/wp-content/uploads/2011/06/android-facebook-1.6-old-menu.png)

我想正确的方法是使用网格布局，但有一个问题，我希望这个菜单可以切换，我的意思是它不应该覆盖整个屏幕而只覆盖一部分（我需要一个 3*3 的网格布局）。

有什么方法或xml代码可以解决这个问题吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-12T06:20:18.220

当然-使用gridLayout。把它放在一个RelativeLayout中，并确保它上面有 android:layout_above 用于你想要在它下面的任何元素。这将迫使它停在那个视图上，而不是抓住屏幕的其余部分。您无需担心水平组件，因为我相信 GridView 只是垂直贪婪。但即使我错了，同样的技巧也适用于 layout_toLeftOf 和 toRightOf。

# ruby-on-rails - 如何在 Rails 的一个视图中使用具有多种形式的水豚？

> ID：15964330
> 
> 赞同：1
> 
> 时间：2013-04-12T06:13:24.567
> 
> 标签：ruby-on-rails, ruby-on-rails-3, capybara, minitest

我有一个使用 Minitest::Spec 和 Capybara 的 Rails 3.2 项目。

我的视图包含多个表单，因此我可以编辑或删除记录。示例代码：

```
<%= simple_form_for @product do |f| %>  
  <fieldset>
  #all of my field code
    <div id="form-actions" class="span12 form-horizontal">
        <%= f.submit nil, :class => 'create-button', :id => 'update_product' %>
        <%= link_to 'Cancel', products_path, :class => 'btn' %>
     </div>
   </fieldset>    
<% end %>

  <% if !@product.new_record? %>
    <div id="form-actions" class="form-horizontal">
      <%= button_to "delete", @product, :confirm => "Are you sure?", :method=>:delete, :class=>'delete-button', :id => 'delete_product' %>
    </div>
<% end %> 
```

在我的测试中，如果我调用`click_on "update_product"`（更新按钮的 id），则调用第二种形式的删除操作而不是更新操作。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-12T06:33:51.657

`f.submit`您在as上使用了错误的选项

```
:html => {:id => 'update_product' } 
```

你不能在这里分配 id。所以你可以看到输出实际上是转义的html。这些是纯文本，而不是真正的 html。

```
{:id=&gt;&quot;update_product&quot;} 
```

我的建议：

删除提交表单中的选项。给它一个名字（值），比如说`f.submit 'Update'`。此外，您不必自己在表单中分配 id。

然后请水豚`click_button 'Update'`​​。他可以毫无问题地找到它。

**添加**

如果您希望 Capybara 通过 id 而不是文本单击，请`#`在其前面添加以读取为 `click_button '#update-product'`.

但是，我确实建议您为该按钮分配任何值（文本），并要求 Capybara 单击它。将按钮设置为`nil`或空白确实不是惯例，也不是很好。

# opengl - 如何在 GLSL 程序中识别英特尔显卡？

> ID：15964337
> 
> 赞同：3
> 
> 时间：2013-04-12T06:13:56.230
> 
> 标签：opengl, glsl, intel

在 Nvidia 卡上，如果要启用剪切平面，则必须在 glsl 程序中分配 gl_ClipVertex。但是在 Ati 卡上，如果分配了 gl_ClipVertex，就会出现问题。

为了与 Nvidia/Ati 兼容，我们编写如下代码：

```
// fix the clipping bug for both Nvidia and Ati   
#ifdef __GLSL_CG_DATA_TYPES
    gl_ClipVertex = gl_ModelViewMatrix*gl_Vertex;
#endif 
```

您可以查看此[链接](http://www.gamedev.net/topic/451347-clip-plane--reflection-problem/)以获取更多信息。

这儿存在一个问题。在英特尔显卡（例如 HD Graphics 3000）上，也必须指定 gl_GlipVertex。如果不是，则剪切平面是无用的。但正如我们所知，__GLSL_CG_DATA_TYPES 仅在 Nvidia 系统上定义。所以 gl_ClipVertex 行在英特尔上是 skippd 的。现在似乎很难在 Nvidia/Ati/Intel 卡上编写兼容的 glsl 程序。

是否有类似 __GLSL_CG_DATA_TYPES 可以识别 GLSL 程序中的英特尔显卡？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-12T07:02:24.657

我假设您正在谈论一个错误解决方法。好吧，解决这个问题的唯一真正方法是从着色器*外部*`#define` `__GLSL_CG_DATA_TYPES`对自己进行处理（即：将字符串插入着色器）。更好的是，在声明之后创建您自己的插入到着色器字符串中。*`#define``#version`*

 *如何将字符串插入着色器取决于您。您可以对 GLSL 进行一些简单的解析，在指令之后找到第一个非注释行`#version`并在那里进行插入。

在着色器之外，您必须使用`GL_RENDERER`and`GL_VENDOR`字符串来检测是否应该提供 the `#define`。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-12T07:24:14.530

正如 Nicol 所建议的，您必须检测着色器外部的硬件并传入定义。您可以在编译着色器时传递其他定义：

```
const char *vertSrcs[2] = { "#define INTEL\n", vShaderSrc };
glShaderSource(vId, 2, vertSrcs, NULL); 
```

像这样的东西应该工作。*

# iphone - 如何更改 QLPreviewController 中的文件名？

> ID：15964340
> 
> 赞同：2
> 
> 时间：2013-04-12T06:14:08.397
> 
> 标签：iphone, ios, objective-c

我保存了一个带有自定义文件名的普通“.txt”文件。在 QLPreviewController 中显示此文件并点击“邮件”选项时，附加的文件名与我在保存时给出的相同。我想在“MAIL”中显示时更改文件的名称。有可能这样做吗？感谢您的回答

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-12T08:22:15.390

你可以反过来做：保存在你想出现在 Mail.app 中的名称下，并通过实现在 QLPreviewController 中自定义名称：

```
- (id)previewController:(QLPreviewController *)previewController previewItemAtIndex:(NSInteger)idx 
```

并自定义`QLPreviewItem`从它返回（`previewItemTitle`）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-12T09:26:40.250

我希望这是你需要的..

```
[mailComposer addAttachmentData:[NSData dataWithContentsOfFile:self.yourFilePath]
                               mimeType:@"application/txt" fileName:[NSString stringWithFormat:@"MAIL.txt"]]; 
```

# android - MediaRecorder 启动失败：-16 将 CamcorderProfile.QUALITY_LOW 更改为 CamcorderProfile.QUALITY_HIGH

> ID：15964349
> 
> 赞同：1
> 
> 时间：2013-04-12T06:14:28.093
> 
> 标签：android, mediarecorder

> 可能重复[的 MediaRecorder 启动失败：-16](https://stackoverflow.com/questions/11434972/mediarecorder-start-failed-16)

MediaRecorder 启动失败：-16 更改`CamcorderProfile.QUALITY_LOW`为`CamcorderProfile.QUALITY_HIGH`. 我尝试了很多解决方案，但得到了同样的错误。

以下是我的代码：

```
private boolean prepareVideoRecorder() {

        if(mMediaRecorder == null){
        mMediaRecorder = new MediaRecorder();
        }else{
            Log.d(Constants.TAG,"MediaRecoder is Not Null");
        }
        // Step 1: Unlock and set camera to MediaRecorder
        mCamera.stopPreview();
        mCamera.unlock();
        mMediaRecorder.setCamera(mCamera);

        // Step 2: Set sources
        mMediaRecorder.setAudioSource(MediaRecorder.AudioSource.CAMCORDER);
        mMediaRecorder.setVideoSource(MediaRecorder.VideoSource.CAMERA);
//      Size optimalSize = new Size(320,240);
//      int  width=320, height=240;
//      Parameters params = mCamera.getParameters();
//        List<Size> sizes = params.getSupportedPreviewSizes();
//        optimalSize = getOptimalPreviewSize(sizes, width, height);
//        params.setPreviewSize(optimalSize.width, optimalSize.height);
//        mMediaRecorder.setVideoSize(optimalSize.width, optimalSize.height);
          CamcorderProfile profile = CamcorderProfile.get(mCamSelect, CamcorderProfile.QUALITY_HIGH);
            if(profile == null){
                Log.d(Constants.TAG, "the camcorder profile instance is null");
            }
        // Step 3: Set a CamcorderProfile (requires API Level 8 or higher)
        mMediaRecorder.setProfile(profile);

        // Step 4: Set output file
        mMediaRecorder.setOutputFile(getOutputMediaFile(MEDIA_TYPE_VIDEO).toString());

        // Step 5: Set the preview output
        mMediaRecorder.setPreviewDisplay(mPreview.getHolder().getSurface());

        // Step 6: Prepare configured MediaRecorder
        try {

            mMediaRecorder.prepare();
        } catch (IllegalStateException e) {
            Log.d("DEBUG", "IllegalStateException preparing MediaRecorder: " + e.getMessage());
            releaseMediaRecorder();
            return false;
        } catch (IOException e) {
            Log.d("DEBUG", "IOException preparing MediaRecorder: " + e.getMessage());
            releaseMediaRecorder();
            return false;
        }
        return true;
    } 
```

日志猫：

```
04-12 11:09:14.396: V/MediaRecorderJNI(19761): start
04-12 11:09:14.396: V/MediaRecorderJNI(19761): getMediaRecorder E
04-12 11:09:14.466: E/MediaRecorder(19761): start failed: -16
04-12 11:09:14.466: V/MediaRecorderJNI(19761): process_media_recorder_call
04-12 11:09:14.466: D/AndroidRuntime(19761): Shutting down VM
04-12 11:09:14.466: W/dalvikvm(19761): threadid=1: thread exiting with uncaught exception (group=0x4001d5a0)
04-12 11:09:14.466: E/AndroidRuntime(19761): FATAL EXCEPTION: main
04-12 11:09:14.466: E/AndroidRuntime(19761): java.lang.RuntimeException: start failed.
04-12 11:09:14.466: E/AndroidRuntime(19761):    at android.media.MediaRecorder.start(Native Method)
04-12 11:09:14.466: E/AndroidRuntime(19761):    at uk.org.humanfocus.hfi.RecordVideoActivity.captureButtonHandler(RecordVideoActivity.java:218)
04-12 11:09:14.466: E/AndroidRuntime(19761):    at uk.org.humanfocus.hfi.RecordVideoActivity.onClick(RecordVideoActivity.java:100)
04-12 11:09:14.466: E/AndroidRuntime(19761):    at android.view.View.performClick(View.java:2533)
04-12 11:09:14.466: E/AndroidRuntime(19761):    at android.view.View$PerformClick.run(View.java:9320)
04-12 11:09:14.466: E/AndroidRuntime(19761):    at android.os.Handler.handleCallback(Handler.java:587)
04-12 11:09:14.466: E/AndroidRuntime(19761):    at android.os.Handler.dispatchMessage(Handler.java:92)
04-12 11:09:14.466: E/AndroidRuntime(19761):    at android.os.Looper.loop(Looper.java:150)
04-12 11:09:14.466: E/AndroidRuntime(19761):    at android.app.ActivityThread.main(ActivityThread.java:4385)
04-12 11:09:14.466: E/AndroidRuntime(19761):    at java.lang.reflect.Method.invokeNative(Native Method)
04-12 11:09:14.466: E/AndroidRuntime(19761):    at java.lang.reflect.Method.invoke(Method.java:507)
04-12 11:09:14.466: E/AndroidRuntime(19761):    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:849)
04-12 11:09:14.466: E/AndroidRuntime(19761):    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:607)
04-12 11:09:14.466: E/AndroidRuntime(19761):    at dalvik.system.NativeStart.main(Native Method) 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-07-01T05:27:38.893

我解决了这个问题。

以下是我的工作代码。

```
 private boolean prepareVideoRecorder() {

        if(mMediaRecorder == null){
            mMediaRecorder = new MediaRecorder();
        }else{
            Log.d(Constants.TAG,"MediaRecoder is Not Null");
        }

        // Step 1: Unlock and set camera to MediaRecorder
        mCamera.stopPreview();
        mCamera.unlock();
        mMediaRecorder.setCamera(mCamera);

         // Step 2: Set sources
        mMediaRecorder.setAudioSource(MediaRecorder.AudioSource.CAMCORDER);
        mMediaRecorder.setVideoSource(MediaRecorder.VideoSource.CAMERA);

        // Step 3: Set output format and encoding (for versions prior to API Level 8)
        CamcorderProfile camcorderProfile = CamcorderProfile.get(CamcorderProfile.QUALITY_HIGH);
        camcorderProfile.videoFrameWidth = 640;
        camcorderProfile.videoFrameHeight = 480;
//      camcorderProfile.videoFrameRate = 15;
        camcorderProfile.videoCodec = MediaRecorder.VideoEncoder.H264;
//      camcorderProfile.audioCodec = MediaRecorder.AudioEncoder.AAC;
        camcorderProfile.fileFormat = MediaRecorder.OutputFormat.MPEG_4;

        mMediaRecorder.setProfile(camcorderProfile);

        // Step 4: Set output file
        mMediaRecorder.setOutputFile(getOutputMediaFile(MEDIA_TYPE_VIDEO).toString());

        // Step 5: Set the preview output
        mMediaRecorder.setPreviewDisplay(mPreview.getHolder().getSurface());

        // Step 6: Prepare configured MediaRecorder
        try {

            mMediaRecorder.prepare();
        } catch (IllegalStateException e) {
            Log.d("DEBUG", "IllegalStateException preparing MediaRecorder: " + e.getMessage());
            releaseMediaRecorder();
            return false;
        } catch (IOException e) {
            Log.d("DEBUG", "IOException preparing MediaRecorder: " + e.getMessage());
            releaseMediaRecorder();
            return false;
        }
        return true;
    } 
```

# android - 哪个是通过 Google API 为 Android 应用程序使用文件存储的最佳方式？谷歌云端硬盘 SDK 还是谷歌云存储 API？

> ID：15964351
> 
> 赞同：2
> 
> 时间：2013-04-12T06:14:33.203
> 
> 标签：android, google-drive-api, google-api-java-client, google-cloud-storage

我想构建从服务器安全下载许多文件的 Android 应用程序。我想使用 Google api！是的，我对在 Google Drive sdk API 或 Google 云存储中使用哪一种感到困惑？

要求 ：

我想通过文件服务器或云服务器的身份验证安全地下载文件（20mb 到 40mb 的 Zip 文件）。我想知道是否可以使用 google api。

我发现一些示例代码可用于Android 的[Google Drive sdk](https://stackoverflow.com/questions/15921672/google-drive-implimentation-to-android-app-and-downloading-the-file-from-google)，但没有可用于 Android 中的 Google Cloud Storage api 的示例！

任何[关于安卓应用程序谷歌云存储下载的](https://stackoverflow.com/questions/15652665/google-cloud-storage-download-for-ios-android-app?rq=1)指导任何帮助都会对我有所帮助。

注意：我不能使用一次下载所有数据的 APK 扩展文件。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-15T14:33:31.033

听起来这两种服务*都*可以用于您的目的，但我认为 Google Storage 会更合适。Drive 更适合存储用户特定的文件，例如设置、应用程序状态或备份。使用 Google 存储，您可以通过只有您的应用才能访问的服务帐户安全地访问文件。Google 存储还具有 ACL，因此如果您想采用该路线，您可以根据需要为每个用户添加/删除访问权限。

您可以使用标准 REST 协议访问 Storage API，但 Google 已经创建了一些出色的客户端库，可以省去繁重的工作。客户端库在大多数 API（包括新的 appengine 端点）中都是相当标准的，因此一旦您学习了一项服务，您就可以轻松地使用其他服务中的一项。以下是云存储示例的链接。它们是为 appengine 和命令行编写的，因此可能需要进行一些修改并检查依赖项以确保您拥有 android jar。

[http://code.google.com/p/google-api-java-client/wiki/APIs#Cloud_Storage_API](http://code.google.com/p/google-api-java-client/wiki/APIs#Cloud_Storage_API)

希望这可以帮助。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-12T23:49:31.723

Google Cloud Storage 是一种更适合以“Web”规模提供文件的服务。Drive 专注于用户数据和围绕它的应用程序。有几个配额针对以用户为中心的使用进行了微调，我不认为它可以替代 Google Cloud Storage。

# timer - 使用带有计时器电晕 sdk 的目录

> ID：15964356
> 
> 赞同：1
> 
> 时间：2013-04-12T06:14:59.587
> 
> 标签：timer, lua, sdk, coronasdk

我正在尝试将目录与“食谱”示例一起使用。我的计时器有问题

在我运行该`main.lua`页面后，它应该显示我的徽标和欢迎按摩，然后它应该转到介绍页面，我有一个屏幕来获取用户名和手机，只有当他第一次使用该应用程序并将其保存到 txt 文件中，然后下次它会检查那个txt文件..

接下来，它将指向用户可以从中选择的“菜单”页面

我的问题是`main.lua`我使用计时器来显示徽标，但是这个计时器在其他屏幕上仍然有效。

```
Main.lua (cdoe)

_w = display.viewableContentWidth
_h = display.viewableContentHeight

 local background = display.newRect(0,0,_w,_h)
 background:setFillColor( 234, 234, 234 ) 

local obj = display.newImage( "ams_logo.jpg" )

-- center the object
obj.x = display.contentWidth*0.5
obj.y = display.contentHeight*0.5

-- fade object to completely transparent
local transition_id = transition.from( obj, { time=2000, alpha=0 } )

--local textObject = display.newText( "Welcome to AMS project", 20, 350, native.systemFont, 24 )
local textObject = display.newText( "Welcome to AMS project", _w*.1, _h*.8, native.systemFont, 24 )
textObject:setTextColor( 255,144,0 )
local transition_id = transition.from( textObject, { time=1500, alpha=0 })

function changeScene (e)
    if(e.phase == "ended") then
        director:changeScene(e.target.scene)
    end

end

local director = require("director");
local mainGroup = display.newGroup();

mainGroup:insert(director.directorView);
display.setStatusBar(display.HiddenStatusBar) _W = display.contentWidth _H = display.contentHeight number = 0

function fn_counter()

director:changeScene("intro");

end
timer.performWithDelay(5500, fn_counter, 0)

the intro .lua 

    module(..., package.seeall)

function new()

    local introGroup = display.newGroup();

        local background = display.newImage("graphics/intro_background.png")

        local begin = display.newImage("graphics/begin_button.png")
        begin.x = 160; 
        begin.y = 400;
        begin.scene = "menu";

        introGroup:insert(background);
        introGroup:insert(begin);

        begin:addEventListener("touch", changeScene);

    return introGroup;

end 
```

请帮我 ..

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-12T07:47:03.917

在函数中

```
timer.performWithDelay( 5500, fn_counter, 0 ) 
```

意味着，每 5500 秒调用一次 fn_counter() 并无限次执行（因为 0 参数）。您应该将其更改为

```
timer.performWithDelay( 5500, fn_counter, 1 ) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2017-03-09T05:25:35.380

你想拖延吗？...如果是这样，您可以使用 lua 的 os.execute 函数，例如

```
function delay(s)--this is what i use for OS X and it works fine
os.execute("sleep "..s)
end 
```

如果你有一个目标操作系统客户端，你可以使用它的命令窗口，比如 windows 的 cmd 或 OS X 的终端。我知道电晕适用于那些操作系统。我也很抱歉，我可能没有那么多帮助，你的问题对我来说不是很具体。

# javascript - 函数参数默认值

> ID：15964362
> 
> 赞同：2
> 
> 时间：2013-04-12T06:15:23.670
> 
> 标签：javascript

```
function foo( a, b ) {

  a = a || '123';
  b = b || 55;  
  document.write( a + ',' + b );
}

foo(); // prints: 123,55
foo('bar'); // prints: bar,55
foo('x', 'y'); // prints x,y 
```

但：

```
foo(0,''); // prints: 123,55 
```

为什么不打印 0 ,55？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-12T06:16:52.580

因为`||`测试*真实性*，并且`0`是被认为是的值之一`false`。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-04-12T06:17:03.380

因为该值[`0`是一个“假”值](http://james.padolsey.com/javascript/truthy-falsey/)，并且被认为是`false`

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-04-12T06:17:52.940

0 和 "" 在选中时也会计算为 false。因此，您需要将您的条件更改为

```
a = a != null ? a : '123';
b = b != null ? a : 55; 
```

# assembly - loadu 和 load 有什么区别？

> ID：15964367
> 
> 赞同：1
> 
> 时间：2013-04-12T06:15:32.683
> 
> 标签：assembly, x86, sse, simd, intrinsics

什么更有效，为什么？

特别是`_mm_loadu_si128`与`_mm_load_si128`C 中的对比。

（编者注：或者这是被标记的程序集，可能它们的意思是`movdqu`与`movdqa`手写 asm 相比。这*不是*一回事，尤其是没有 AVX，因为`_mm_load_si128`可以编译成 ALU 指令的内存操作数，根本没有单独`movdqa`的。）

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-04-12T06:21:40.363

`loadu`用于未对齐的加载（从未对齐到 16 字节倍数的地址）并`load`用于对齐的加载。如果您知道您的源地址正确对齐，那么`load`通常会更有效，因为它只需要一个读取周期并且不必处理修复多个未对齐数据块。在较旧的 Intel CPU 上，未对齐负载的性能损失非常显着（通常 > 2 倍），但在较新的 CPU（例如 Core i5/i7）上，损失几乎可以忽略不计。请注意，`loadu`除了上述性能损失外，使用对齐数据是可以的，但使用`load`未对齐数据会产生异常（即崩溃）。

# ios6 - iOS 6 的核心文本背景颜色

> ID：15964369
> 
> 赞同：0
> 
> 时间：2013-04-12T06:15:49.123
> 
> 标签：ios6, background-color, core-text, nsattributedstring

我在 iOS6 中使用 NSAttributedString ，我似乎无法让它工作：

```
[attributedString addAttribute:NSBackgroundColorAttributeName
                           value:[UIColor yellowColor]
                           range:range]; 
```

`NSBackgroundColorAttributeName`iOS6 是否支持此方法调用和支持？

**编辑：** 解决了。这是我这边的遗留问题。之前的 kct*（例如`kctforegroundcolorattributename`）字符串属性常量仍在使用中。这些阻止了新的 API 值被正确实现。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-13T16:40:51.560

您必须使用[NSMutableAttributedString](https://developer.apple.com/library/ios/documentation/Cocoa/Reference/Foundation/Classes/NSMutableAttributedString_Class/Reference/Reference.html#//apple_ref/occ/instm/NSMutableAttributedString/addAttribute%3avalue%3arange%3a)

# c# - 使用后台工作者时出错

> ID：15964375
> 
> 赞同：1
> 
> 时间：2013-04-12T06:16:28.710
> 
> 标签：c#

//这是我的代码

```
private void btnGenSumm_Click(object sender, EventArgs e)
{
    if (backgroundWorker1.IsBusy != true)
    {
        btnGenSumm.Enabled = false;
        btnExpSum.Enabled = false;
        btnClose.Enabled = false;
        pBox1.Visible = true;
        backgroundWorker1.RunWorkerAsync();
    }
}

private void backgroundWorker1_DoWork(object sender, DoWorkEventArgs e)
{
        BackgroundWorker worker = sender as BackgroundWorker;
        loadSummSales(); // this is the process
        System.Threading.Thread.Sleep(50);
}

private void backgroundWorker1_RunWorkerCompleted(object sender, 
    RunWorkerCompletedEventArgs e)
{
        pBox1.Visible = false;
} 
```

第一次单击时执行该过程没有错误，但是当我尝试再次单击命令按钮（btnGenSumm）以重复该过程时，出现错误“在执行 createhandle 时无法调用值处理”。请帮助我有了这个。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-12T07:59:39.787

在开始一项任务之前，我总是会创建一个新的工人；这避免了这些问题。

```
private void btnGenSumm_Click(object sender, EventArgs e)
{
    // WorkerFactory creates your worker and hooks up the DoWork 
    // and RunWorkerCompleted events
    var backgroundWorker1 = WorkerFactory();

    // ...
    // Disable access to this Click event in the UI here

    backgroundWorker1.RunWorkerAsync();
}

private void backgroundWorker1_RunWorkerCompleted(
    object sender, 
    RunWorkerCompletedEventArgs e)
{
    // Re-enable access to the Click event in the UI here
} 
```

使用这种方法，无法在工作人员运行时访问它，并且您可以保证每当用户单击按钮时，最后一个工作人员已经完成并且没有令人讨厌的`IsBusy`软糖。

**更新**

明确`WorkerFactory`地做这样的事情

```
private BackgroundWorker WorkerFactory()
{
    var worker = new BackgroundWorker();
    worker.DoWork += backgroundWorker1_DoWork;
    worker.RunWorkerCompleted += backgroundWorker1_RunWorkerCompleted;

    return worker;
} 
```

# linux - 只计算linux中的可执行文件而不是所有具有可执行权限的文件

> ID：15964376
> 
> 赞同：1
> 
> 时间：2013-04-12T06:16:29.517
> 
> 标签：linux, shell

我只想计算可执行文件，

我试过

```
grep -lR '^--x' * | wc -l 
```

但这也计算了具有可执行权限但不是真正可执行的文件。

什么是正确的方法？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-12T08:49:50.370

您总是可以使用一些带有选项的 find 命令

这将仅打印 /tmp 位置中的可执行文件

```
find /tmp -perm +111 -type f | wc -l</ br> 
```

对于目录

```
find /tmp -perm +111 -type d | wc -l</ br> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-12T06:23:52.043

在 unix 上，可执行文件和不可执行文件之间的唯一区别是“可执行”标志。带有该标志的文件始终是可执行的。但是，可能没有什么可以解释这种类型的文件，但这不是 Unix 的问题 :-)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-12T06:27:58.900

您可能想忽略文件类型 ([ `bcd-`]) 和 rw 标志。（也用于`ls`生成数据并`grep`对其进行过滤。）：

```
ls -lR | grep '^...x' | wc -l 
```

# json - 是否有法律/标准/首选 JSON 格式？

> ID：15964379
> 
> 赞同：0
> 
> 时间：2013-04-12T06:16:43.193
> 
> 标签：json

有没有这样一种东西可以让一个 JSON 数据比另一个更可取？例如给定这两种格式：

1.

```
{ 
  "status":"ok",
  "result":
  {
    "0":{"id":"1", "name":"English"},
    "1":{"id":"2", "name":"Chinese"},
    "2":{"id":"3", "name":"Portuguese"},
  }
} 
```

和 2。

```
{
 "status": "ok",
 "result": [
             {"id": 1,"name": "English"}, 
             {"id": 2,"name": "Chinese"}, 
             {"id": 3,"name": "Portuguese"}
            ]
} 
```

哪个是更标准的 JSON？还是有不同数量的可接受的标准 JSON 格式？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-12T06:21:46.147

JSON 对不包含在字符串中的空格是不可知的，并将忽略它。格式化没有通用标准，尽管个别组织可能会选择以更易读的方式格式化静态 JSON。JSON旨在以编程方式而不是人们使用，因此大多数字符串化器可能会创建根本没有空格的JSON。

上面的两个例子有细微的差别：第一个有字符串作为`"id"`键的值，而第二个有数字。两者都是有效的 JSON 字符串。

编辑：我还想补充一点，使用带有数字键的对象`{"0": 1, "1": 2}`和`[1, 2]`数组表示*序数*数据之间存在显着差异。

# ios - NSString drawinrect 问题（与 View setNeedsDisplay 相关）

> ID：15964384
> 
> 赞同：0
> 
> 时间：2013-04-12T06:17:31.210
> 
> 标签：ios, setneedsdisplay

我的应用程序在视图上绘制了一个字符串。我有另一个滑块控件，它以这种方式工作：当我更改滑块的值时，视图上的字符串也会更改。但是每次重新绘制字符串时，它似乎都会与旧字符串重叠并使字符串不清楚。

我的字符串绘制方法是这样的：

```
- (void)drawString:(NSString *)s withFont:(UIFont *)font inRect:(CGRect)contextRect {

    CGFloat fontHeight = font.pointSize;
    CGFloat yOffset = (contextRect.size.height - fontHeight) / 2.0;

    CGRect textRect = CGRectMake(contextRect.origin.x, contextRect.origin.y + yOffset, contextRect.size.width, fontHeight);
    [s drawInRect:textRect withFont:font lineBreakMode:NSLineBreakByClipping
        alignment:NSTextAlignmentCenter];
} 
```

然后在视图的 drawRect 方法中，我重写它来绘制字符串：

```
[self drawString:someDynamicStringChangedEachTimeTheSliderValueChanged withFont:[UIFont fontWithName:@"Helvetica" size:12.0] inRect:textRect]; 
```

然后在视图控制器中，我放置了滑块值更改事件

```
- (void)sliderValueChangedBy:(id)sender
{
    if ([sender isKindOfClass:[UISlider class]]) {

        ..........
        [myView setNeedsDisplay];

    }
} 
```

我发现经过几次值更改后，字符串变得模糊和重叠。我在这里错过了什么吗？

![在此处输入图像描述](https://i.stack.imgur.com/jssbE.png)

# matlab - MATLAB - 持久变量

> ID：15964385
> 
> 赞同：1
> 
> 时间：2013-04-12T06:17:32.410
> 
> 标签：matlab, variables, persistent

从内存中清除后如何在MATLAB中保留持久变量的值？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-04-12T06:48:32.680

您可以使用它[`mlock`](http://www.mathworks.de/de/help/matlab/ref/mlock.html)来防止从内存中清除函数，直到 Matlab 退出。这也将防止[`persistent`](http://www.mathworks.de/de/help/matlab/ref/persistent.html)在此函数中定义的所有变量被清除，如文档中所述：

> mlock 将当前正在运行的函数锁定在内存中，以便后续的清除函数不会将其删除。将函数锁定在内存中**还可以防止文件中定义的任何持久变量重新初始化**。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-12T06:34:48.820

你问的是一个矛盾，要么变量保留它的价值，要么你清除它？你不能两者兼得。也许您想将该值放在一个单独的临时变量中？否则，请查看带有标签的[clearvars](http://www.mathworks.com/help/matlab/ref/clearvars.html)`-except`或其他`save`功能。键入`help save`命令行以了解如何存储变量以供以后使用。

# ios - 在objective-c中创建数据库时出错

> ID：15964391
> 
> 赞同：0
> 
> 时间：2013-04-12T06:18:19.130
> 
> 标签：ios, objective-c, cordova, sqlite

我正在使用cordova 2.1.0 框架在IOS 中创建一个应用程序。我正在使用以下代码在 Objective-C 中创建 sqlite3 db：

```
NSString *docDir = [NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES) objectAtIndex:0];
self.databaseFile = [docDir stringByAppendingPathComponent:@"splistdb.sqlite3"];
NSFileManager *fileManager = [NSFileManager defaultManager];
NSError *error;

if (![fileManager fileExistsAtPath:self.databaseFile]) {
    /*[fileManager copyItemAtPath:[[NSBundle mainBundle] pathForResource:@"FriendsDatabase" ofType:@"sqlite3"] toPath:dbFileName error:&error];*/
    NSString *path = [[NSBundle mainBundle] pathForResource:@"splistdb" ofType:@"sqlite3"];
    NSLog(@"doc path=%@",path);
    [fileManager copyItemAtPath:path toPath:self.databaseFile error:&error];
    [self createConfigTable];
    NSLog(@"database created");
} else {
    NSLog(@"fail to create database");
} 
```

我在构建阶段标题中包含了 libsqlite3.dylib 文件。但我收到以下错误：

```
 *** Terminating app due to uncaught exception 'NSInvalidArgumentException', reason: '*** -[NSFileManager copyItemAtPath:toPath:error:]: source path is nil' 
```

我的代码可能有什么问题？谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-12T06:22:14.933

您的错误消息说`path`是`nil`，可能是因为该文件`splistdb.sqlite3`没有被复制到应用程序包中。确保它在您的项目中，并且已添加到您的目标应用程序中。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-12T06:24:59.603

这条线很可能给你 nil 值

```
NSString *path = [[NSBundle mainBundle] pathForResource:@"splistdb" ofType:@"sqlite3"]; 
```

# javascript - “Windows Phone HTML5 App”和“Javascript Windows Store Project”之间的区别

> ID：15964394
> 
> 赞同：3
> 
> 时间：2013-04-12T06:18:26.023
> 
> 标签：javascript, html, visual-studio, windows-phone-8, windows-phone

大家能告诉我“Windows Phone HTML5 App”（在新项目下 -> Windows Phone）和“Javascript Windows Store Project”（在新项目下 -> Other Languages -> JavaScript -> Windows Store）有什么区别吗？

在 HTML5 项目中，可以在设备上进行调试，但在“Javascript Windows Store Project”项目中则不能。是否也可以在 Javascript 项目的设备上进行调试？

谢谢

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-04-12T06:30:54.197

**Windows Phone HTML5 应用**项目仅在 Windows Phone 上运行，并且**是**使用托管 HTML 的 WebBrowser 控件的应用。底层操作系统没有原生支持，只有显示 HTML 页面的浏览器。您可以将 JavaScript 方法绑定到 C#，可以对其进行调试。

**Windows Store**项目仅在Windows **8**上作为“Metro”或“Modern UI”应用程序运行。JavaScript 托管在 WinRT 运行时中，并与操作系统的许多部分集成。

这两个模板不可互换。

# sql - SQL中的Oracle时间戳比较问题

> ID：15964397
> 
> 赞同：1
> 
> 时间：2013-04-12T06:18:32.370
> 
> 标签：sql, oracle

下面的查询在 Oracle 中运行时返回 null

```
SELECT MAX(ROW_CREATION_TMSTP) 
FROM RULES_REPOSITORY 
WHERE rule_cd = 'LCC12G' 
  AND (TO_CHAR(expiration_dt,'DD-MON-YYYY HH24:MI:SS') > TO_CHAR(current_timestamp,'DD-MON-YYYY HH24:MI:SS')) 
```

我的表中有一行包含以下列
**rule_cd = LCC12G
expiration_dt = '10-JUN-13 03.51.12.000000000 AM'
ROW_CREATION_TMSTP = 10-APR-13 03.51.12.000000000 AM**

通过查看值，它应该返回上面给出的 ROW_CREATION_TMSTP 的值，但它没有返回。

我错过了什么？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-12T06:37:27.877

```
SELECT MAX(ROW_CREATION_TMSTP)
FROM RULES_REPOSITORY
WHERE rule_cd = 'LCC12G'
AND expiration_dt > current_timestamp; 
```

会做的很好..！

# c - 如何使用分隔符解析

> ID：15964400
> 
> 赞同：1
> 
> 时间：2013-04-12T06:18:55.313
> 
> 标签：c, string

我有一行格式如下：

```
str="WORD1\tWORD2\tWORD3\tWORD4..."; 
```

问题是我需要得到第三个词。

我一直在玩 strchr 和 strcpy，但我只是弄得一团糟。

我唯一想做的就是保存在同一个字符串变量 str 中，这样我就可以继续解析直到第三列。

```
char *p;
p=strchr(str,'\t');
strcpy(str,str,p?); 
```

我会很感激你的帮助。

谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-12T06:38:56.463

试试这个，只是一个**想法**（我没有检查其他字符串）：

代码没有给出第一个和最后一个字，它只输出子字符串，如果它`\t`按照你的要求用括号括起来。：

```
#include<stdio.h>
#include<stdlib.h>
#include<string.h>
int main(){
    char* str="WORD1\tWORD2\tWORD3\tWORD4";
    char *p1 = NULL;
    char *p2 = NULL;
    int i = 0, which = 3;
    char word[10]={0};

    scanf("%d", &which );
    p1 = str;
    for(i=0 ; (p1 != NULL) && (i < which-1); i++){
        p1=strchr(p1 + 1, '\t');
        if(p1 +1)
        p2=strchr(p1 + 1, '\t');
    }

    if(p1!=NULL && p2!=NULL){
        strncpy(word, p1, p2-p1);
        printf("\n %s\n", word);
    }
    return 1;
} 
```

它运行如下：

```
$ ./a.out 
1
:~$ gcc x.c
:~$ ./a.out 
2
    WORD2
:~$ ./a.out 
3
    WORD3
:~$ ./a.out 
4 
```

这是你需要的吗？

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-12T06:20:54.307

有

```
strpbrk()
strspn()
strtok()
strsep()  // define _BSD_SOURCE to have this available 
```

可用于解析。

* * *

`regcomp()`您也可以通过调用and来使用正则表达式`regexec()`。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-12T06:35:45.127

**(1)**

`strchr`将定位字符串中第一次出现的字符（[手册页](http://linux.die.net/man/3/strchr)）。

```
char *strchr(const char *s, int c); 
```

**(2)**

`strcpy`将 source 指向的字符串复制到 destination （[手册页](http://linux.die.net/man/3/strcpy)）指向的数组中。

```
char *strcpy(char *dest, const char *src); 
```

**(3)**

您需要使用`strtok`来解析您的输入字符串（[手册页](http://linux.die.net/man/3/strtok)）。

```
char *strtok(char *str, const char *delim); 
```

看一个例子：[http ://www.cplusplus.com/reference/cstring/strtok/](http://www.cplusplus.com/reference/cstring/strtok/)

**(4)**

您不能将字符串复制到未分配的指针中。您需要为目的地分配内存。

**(5)**

这是一个示例代码，可以为您解释更多：

```
#include <stdio.h>
#include <stdlib.h>
#include <string.h>

int main() {
    char *str="WORD1\tWORD2\tWORD3\tWORD4...";
    char *p = NULL;
    char *out = NULL;
    int count = 0;
    int needed = 2; 

    p = strtok(str , "\t");
    while(p && count != needed) {
        p = strtok(NULL , "\t");
        count ++;
    }

    if(p) {
        out = malloc(strlen(p) + 1);
        strcpy(out, p);
        printf("String found: %s\n", out);
    }
    return 0;
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-12T09:05:08.247

```
char *cut(int nth, char* out, const char* in){
    const char *pi=in;
    char *po=out;
    int n = 0;
    for(;;){
        *po=*pi;
        if(*po=='\t')
            *po='\0';
        if(*po == '\0'){
            ++n;
            if(n==nth)
                return out;
            else if(*pi == '\0')break;
            po=out;
        } else 
            ++po;
        ++pi;
    }
    return NULL;
}
/*
int main() {
    const char *str="WORD1\tWORD2\tWORD3\tWORD4\tWORD5";
    char word[32]={0};
    printf("%s\n", cut(3, word, str));//WORD3
    return 0;
}
*/ 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-04-24T07:52:26.540

抱歉耽搁了，这就是我最终实现它的方式：

```
 int main() 
      {

          char *readbuff="WORD1\tWORD2\tWORD3\tWORD4...";
          char * pch;
          int third_col=0;
          pch = strtok (readbuff," \t");
          while ((pch != NULL)&& (TRUE == notfound))
          {
            pch = strtok (NULL, " \t");
            if (third_col==1)
            {
              dprintf (DBG_INFO,"The third word is: %s\n",pch);
              notfound=FALSE;
            }
            third_col++;
          }
    } 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-05-27T14:08:37.907

简单的 C++ 代码：

```
 string s = "abc\tdef\tghi";
    stringstream ss(s);
    string a,b,c;
    ss >> a ; ss.ignore() ; ss >> b ; ss.ignore() ; ss >> c;    
    cout << a << " " << b << " " << c << endl; 
```

输出 ：

```
abc def ghi 
```

# javascript - 右键单击弹出菜单慢

> ID：15964401
> 
> 赞同：1
> 
> 时间：2013-04-12T06:18:56.550
> 
> 标签：javascript, jquery, dom, jquery-selectors, dom-traversal

我在我的 KendoUI Grid 上实现了一个右键弹出菜单。

问题是，它很慢。

当您右键单击时，脚本需要获取被单击的行的 ID。我正在这样做：

```
salesGrid.on('mouseup', '[role="row"]', function(e){
  button = e.which ;
  if(button == 3)
  {
    $(this).bind("contextmenu",function(e){
      return false
    });

    var id = null ;
    id = $('td', this).find('.id-span').data('id') // ~500ms 
```

我也试过：

```
id = $(this).children('td').children('.id-span').data('id') ; 
```

和：

```
id = $('td:first span', this).data('id') ; 
```

所有这些都需要大约 500 毫秒的时间来执行，这在用户体验方面太长了。

这是它正在遍历的表：

```
<tr data-uid="16e14dc2-a2fa-4979-a1ff-cd5113223aa6" role="row">
    <td role="gridcell"><span class="id-span" data-id="1">A</span></td>
    <td role="gridcell">3</td>
    <td role="gridcell">Lenze</td>
    <td role="gridcell"><span class="popoverintel" data-trigger="hover" data-placement="bottom" data-part-id="1">33.8202-E</span></td>
    <td role="gridcell">Supply</td>
    <td role="gridcell">New</td>
    <td role="gridcell">3</td>
    <td role="gridcell">€&lt;/td>
    <td role="gridcell">575.00</td>
    <td role="gridcell">1725.00</td>
</tr> 
```

有没有办法让它更快？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-12T10:13:15.943

尝试通过更改选择`'[role="row"]'`器`'tr[role="row"]'`

# git - Git 合并显示文件的“重命名/删除”在两个分支中都重命名了

> ID：15964404
> 
> 赞同：3
> 
> 时间：2013-04-12T06:19:18.763
> 
> 标签：git

我们正在修复我们的存储库问题，某些文件的路径不同 - 路径中的第一个文件夹是一组文件的“应用程序”和另一组文件的“应用程序”。为此，我们将所有分支中的所有文件重命名为大写“应用程序”并重新克隆整个存储库。

当我们尝试将一个分支合并到另一个分支时，对于许多文件，我们看到：

```
CONFLICT (rename/delete): 
Applications/Views/sell.cshtml deleted in HEAD and renamed in feature123_branch. 
Version feature123_branch of Applications/Views/sell.cshtml left in tree. 
```

Mergetool 提供了在使用重命名文件时删除文件的选项。

但是这个文件只在 HEAD 和 feature123_branch 中重命名，例如`github.com`显示

```
file renamed from {applications/ → Applications/}/Views/sell.cshtml for all commits. 
```

我们可以使用“解决”合并策略，文件将被正确标记为“都重命名”，但我们不会丢失文件历史记录（根据我们的 git 大师关心）。

这里有一个问题：

我们如何使用 git 命令查看文件的真实历史记录（与 github 提交历史记录相同）显示该文件已重命名？

为什么与默认的“递归”策略合并认为该文件没有重命名而是在分支中删除？

如果我们使用resolve策略，文件历史会丢失吗？

ps Repo 是私有的，所以我不能提供链接，对不起。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2019-04-11T09:06:32.497

这是一个旧的，但关于：

> 我们如何使用 git 命令查看文件的真实历史记录（与 github 提交历史记录相同）显示该文件已重命名？

`git log`有一个`--follow`选择：

> --follow - 继续列出重命名后的文件历史记录（仅适用于单个文件）。

# android - 长时间后从后台恢复时应用程序崩溃

> ID：15964411
> 
> 赞同：20
> 
> 时间：2013-04-12T06:20:20.923
> 
> 标签：android

我的应用程序在后台闲置了很长时间后崩溃。我调试并发现它崩溃的原因是由于`NullPointerException`. 异常是由于应用程序单例类中的数据在应用程序处于后台时被垃圾收集器销毁。我在整个应用程序的每个活动中都使用静态数据。

我的问题是：有没有办法让应用程序类的数据在后台持久化？或者有没有其他解决方案？

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2013-04-12T07:02:46.893

为了获得更准确的答案，您将代码放在这里。开启时，Android 内存是有限的，因此 VM 可以删除它认为不必要的任何代码。

查看 Activity 生命周期方法，特别`onResume`是确保您完全理解它。很多时候应用程序崩溃只是因为没有正确使用 Activity 生命周期方法。

Activity 的另一个重要设计考虑因素是，无论持久性数据发生什么情况，您的 Activity 都应该使用一些默认值显示其 UI。所以假设是这样的，*如果我有数据我会显示，如果我没有，我真的不在乎*。**无论有无数据，您的 UI 都不应崩溃**。您可以`String.xml`用于存储一些默认值甚至在布局中。

如果您仍然想使用单例类，这非常好，但请确保每次尝试访问单例时都进行以下检查。

```
if (instance==null)
    instance=Singleton.getInstance() 
```

您的`getInstance()`方法不仅返回您当前的实例，它还将确保

*   它初始化所有对象和变量
*   其他单例方法作为实例方法

不要静态地从一个活动访问数据到另一个活动。对于您现在面临的类型问题，这对 android 来说并不好，而且它也不是很好的 OOP 编程实践。

[SharedPreference](http://developer.android.com/reference/android/content/SharedPreferences.html)是保存数据的好方法，如果符合您的要求，那就去吧。

如果您想从不同的 Android 组件（如 Activity、Service 或 BroadcastReciever）传递数据，您可以将其放入包中并作为意图发送。而且，它们一如既往地是 SQLLite 数据存储、文件 IO 等。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-12T06:22:03.327

有几种不同的方法来保存数据。如果它是小东西，你可以使用`SharedPreferences`. 否则也许是一个 SQL 数据库？

查看[http://developer.android.com/guide/topics/data/data-storage.html](http://developer.android.com/guide/topics/data/data-storage.html)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-12T06:25:54.020

如果可以，请将其存储在其他方法中。如果其数据结构复杂，您可能必须重新启动应用程序。例如，我的应用程序中有一个用户单例，其中包含我的服务器的登录信息。如果我尝试过，我无法保存这些数据 - 很多数据都隐藏在 AWS 变量中。我必须做的是检测我们何时在清理后从主页重新启动（而不是仅仅重新启动）并启动我的起始活动，然后完成当前活动。我必须将它添加到我的应用程序中的每个活动中。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-12T06:22:11.683

尽量避免在您的应用程序中使用导致此类问题的静态变量。尝试将您的数据保存在共享首选项中并使用它。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2016-08-28T15:42:46.513

Activity 不再可见，这就是它使用 onStop() 而不是 onResume() 的原因

# c# - 服务器端打印

> ID：15964412
> 
> 赞同：0
> 
> 时间：2013-04-12T06:20:21.860
> 
> 标签：c#, asp.net, asp.net-mvc-3, c#-4.0

我一直在研究一种从我的网络服务器提交打印作业的方法。
我想要做的是向 pdf 呈现一个动作，然后将 pdf 提交到服务器上的默认打印机。

这里的代码几乎可以工作

```
 public JsonResult Print(String JobName, String TargetAction, String TargetController)
    {
        var job = LocalPrintServer.GetDefaultPrintQueue().AddJob(JobName);
        var printStream = job.JobStream;
        try
        {
            var pdfResult = new UrlAsPdf(Url.Action(TargetAction, TargetController, ControllerContext.RouteData));
            var binary = pdfResult.BuildPdf(this.ControllerContext);

            printStream.Write(binary, 0, binary.Length);
            printStream.Close();
        }
        catch (Exception e)
        {
            return Json(new { Success = false, Message = e.Message });
        }
        return Json(new { Success = true });
    } 
```

但是一旦调用 .Close，该作业就会从打印机队列中删除。我正在使用 Rotativa 生成 pdf。

根据位于此处的示例[http://msdn.microsoft.com/en-us/library/ms552913.aspx](http://msdn.microsoft.com/en-us/library/ms552913.aspx)似乎是正确的 但我怀疑在打印机假脱机完成之前删除数据存在问题。

有人有建议或可行的解决方案吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-12T06:51:38.943

您的流似乎是 PDF，但链接中的规范表明您需要将特定于设备的数据写入`job.JobStream`（EMF 或 XPS）。

要转换为 XPS，请查看此[Stack Overflow 帖子](https://stackoverflow.com/questions/4962156/batch-converting-pdf-to-xps)。

或者，[这篇文章](http://social.msdn.microsoft.com/Forums/en-US/netfxbcl/thread/23db92d7-1842-408c-aecd-d6036c234230/)建议最简单的打印方法是通过带有“打印”动词的外壳，例如：

```
ProcessStartInfo psi = new ProcessStartInfo("pdfFile.pdf") {Verb = "Print"};
Process.Start(psi); 
```

请注意，Acrobat Reader 也可以[从命令行打印文件](http://forums.adobe.com/message/4593625)。

# java - 带有 java.lang.illegalstateexception state==header 的 WebSphere 服务器和 Jetty 客户端

> ID：15964419
> 
> 赞同：0
> 
> 时间：2013-04-12T06:21:03.277
> 
> 标签：java, linux, websphere-7, jetty-8

我有 2 个软件包 - 1 个在传统 Web 服务器（Tomcat 6、Websphere 7）中维护的服务器和 1 个与作为客户端工作的动态 Web 服务器 Jetty 一起维护的服务器。服务器和代理在 Windows 7 机器和 JRE 6 上本地完美运行： (1) 服务器加载到 Tomcat。(2) Agent 使用自定义端口初始化 Jetty 8 Web 服务器。

当我将它投入生产时——Linux 环境——我将 WAR 加载到 WebSphere，这似乎工作正常。我使用“jave -jar”在生产中执行了代理 jar，它似乎可以工作。在他们沟通之后 - 如果在 'java.lang.illegalstateexception: state==header' 异常上失败，则代理失败。

现在，我将 WebSphere 生产应用程序引用到我的本地机器上，所有通信都正常工作（使用 Windows 7 的本地代理，Linux 上的远程服务器）。

因此，代理（或其内部 Jetty）似乎存在问题，代码如下所示：

```
 private void respondOK(Request baseRequest, HttpServletResponse response)
        throws IOException {
    response.setContentType("text/html;charset=utf-8");
    response.setStatus(HttpServletResponse.SC_OK);
    baseRequest.setHandled(true);
    response.getWriter().println("OK");
}

private boolean handleAgentMonitoringTasks( 
                                    Request baseRequest,
                                    HttpServletRequest request,
                                    HttpServletResponse response) {
    boolean didRespond = false;

    // extract the agent data   
    try {
        String reqContent = readRequestContent(baseRequest);

        // handle the input
        theAgentWorker.updateTasksList(reqContent);

    } catch (IOException e) {
        // send a response indicating the error
        respondError(baseRequest, response, "Error getting request content - " + e.getMessage(), e);
        didRespond = true;
    }

    return didRespond;
 }

 private boolean handleServerInfo(  Request baseRequest,
                                    HttpServletRequest request,
                                    HttpServletResponse response) {

    boolean didRespond = false;

    // extract the request content
    try {
        String reqContent = readRequestContent(baseRequest);

        if (reqContent.length() > 0) {
            try {
                theAgentWorker.handleServerInfoData(reqContent);
            }
            catch (Exception e) {
                respondError(baseRequest, response, "Error setting server information - " + e.getMessage(), e);
                didRespond = true;
            }
        }
        else {
            respondError(baseRequest, response, "Server address not found in the request", null);
            didRespond = true;              
        }

    } catch (IOException e) {
        // send a response indicating the error
        respondError(baseRequest, response, "Error getting request content - " + e.getMessage(), e);
        didRespond = true;
    }

    return didRespond;
 }

private String readRequestContent(Request baseRequest) throws IOException {
    BufferedReader br = baseRequest.getReader();
    StringBuilder sBuilder = new StringBuilder();
    char[] buff = new char[4092];

    int charsRead = br.read(buff, 0, buff.length);
    while (charsRead == buff.length) {
        sBuilder.append(buff);
        charsRead = br.read(buff, 0, buff.length);
    }
    sBuilder.append(buff,0, charsRead);
    return sBuilder.toString();
} 
```

以上所有代码都进入这个类： public class AgentHttpHandler extends AbstractHandler

AbstractHandler 是 Jetty 的处理程序类。

当我研究它时，我发现 Jetty 的 getReader() 和 getInputStream() 存在问题，但我找不到合理的解释为什么它不稳定 - 在 Windows 7 中代理工作正常，在 Linux 上它有问题（我尝试了几个 Linux 服务器）。

你知道 Jetty WebServer 的某些 Linux 网络问题吗？我有更多信息，但我认为这些信息应该足够了

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-15T12:14:44.590

好的，它可能关注的对象：

I decided to go over ALL WebSphere configurations - and I defined a virtual host with TCP chaining and a new port. Then, I recompiled all the packages with a new ant build.

Afterwards (and this is the most important part) - I defined the urls mentioned in the configuration file with [CDATA] and do not use localhost. Instead I used the hostnames of the server and client.

Viola, everything seems working.

# sql - 从多个表中删除数据

> ID：15964420
> 
> 赞同：3
> 
> 时间：2013-04-12T06:21:11.847
> 
> 标签：sql, sql-server-2008

我有两个表，说表 X 和表 Y。我想从表 X 中删除列值 = x1 的所有数据，还想从表 Y 中删除列值 = x1 的数据。

我如何使用单个`Delete`语句来实现这一目标？

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-12T06:32:59.620

由于要从多个表中删除，因此应指定要删除的表，以免出现语法错误。

```
DELETE x, y
FROM   x INNER JOIN y ON x.Col = y.Col
WHERE  x.Col = 'x1' 
```

[http://www.sqlfiddle.com/#!2/00ab7/1](http://www.sqlfiddle.com/#!2/00ab7/1)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-12T06:22:41.980

```
delete x,y from x,y where x.colname='x1' and y.colname='x1' 
```

试试这个查询。

希望它有帮助。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-12T06:44:30.350

两种方式：

1.  使用多个 DELETE 语句。
2.  对相关 InnoDb 表使用外键功能 - **ON DELETE CASCADE**操作从表中删除数据。在这种情况下，删除父表中的数据就足够了，子表中的所有相关记录都会被自动删除。

# jquery - Jquery UI 模态对话框不允许滚动

> ID：15964423
> 
> 赞同：0
> 
> 时间：2013-04-12T06:21:23.460
> 
> 标签：jquery, jquery-ui, jquery-ui-dialog, jquery-dialog

我的对话框中有一个高大的表格，它必须是模态的。现在，当我尝试向下滚动时，它不允许我。看一看

[http://jsfiddle.net/JQWf4/61/](http://jsfiddle.net/JQWf4/61/)

下面是不相关的代码（stackoverflow 在提交之前要求提供代码）

```
$('#dialog').dialog({
modal: true,
}); 
```

这是应该的方式吗？我的意思是，模式表单应该在页面中可见还是可以修复？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-12T06:23:47.193

模态应该是这样的......至少这很常见......我可以建议你在你的模态内容上放一个滚动......

给它一个高度......像这样

```
$('#dialog').dialog({
    modal: true,
    height: 300
}); 
```

[演示](http://jsfiddle.net/reigel/JQWf4/62/)

# node.js - node-gyp build 如何在构建节点扩展时指定目标节点版本

> ID：15964427
> 
> 赞同：9
> 
> 时间：2013-04-12T06:21:34.547
> 
> 标签：node.js, node-gyp

我正在从 node-waf 构建迁移到 node-gyp 构建系统以用于节点本机插件。node-gyp 说它支持多个目标版本，但是我在使用 node-gyp 时找不到如何指定目标节点版本。

问题是，我的系统安装了节点 v0.10.3，但我需要为节点版本 0.8.20 构建我的本机插件。当我构建附加组件时，它使用 v0.10.3 的标头，这当然会产生错误。

在使用 node-gyp 配置/构建时，我找不到如何指定节点版本。

请帮忙。

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2013-04-13T03:27:29.397

解决方案是在使用 node-gyp 进行配置时指定 --target 参数。例如。

```
node-gyp --arch=<WHATEVER> --target=v0.8.20 configure 
```

# c++ - 在 LIb Haru (C++) 中更改页面？

> ID：15964434
> 
> 赞同：1
> 
> 时间：2013-04-12T06:21:50.447
> 
> 标签：c++, libharu

我正在做一个项目，我必须在 C++ 中以编程方式将文档转换为 pdf 文件。我为此使用 libharu 开源库。如果文档只有一页，我的代码运行良好，但是当我更改页面时，pdf 文档损坏并且无法打开。任何人都可以为此提出解决方案。

```
while(chars_traversed < text.size())
{
    chars_copied = HPDF_Page_MeasureText(pd->track->page , (text.c_str() + chars_traversed) , pw , false , NULL);
    memset(buffer , 0 , sizeof(buffer));
    text.copy(buffer , chars_copied , chars_traversed);

    HPDF_Page_MoveToNextLine(pd->track->page);
    HPDF_Page_ShowText (pd->track->page, buffer);

    chars_traversed += chars_copied;

    arr = HPDF_Page_GetCurrentTextPos(pd->track->page);

    if(arr.y < end_y)
    {
                    /* Page change required */
        HPDF_Page_EndText(pd->track->page);
        insert_page_at_last(pd);
        HPDF_Page_MoveTextPos(pd->track->page , start_x , start_y);
         }
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-28T23:03:37.237

一旦您到达页面底部并想要开始另一个页面，您需要

```
 HPDF_Page_EndText (hPage)
  hPage = HPDF_AddPage (pdf)
  HPDF_Page_BeginText (hPage)
  HPDF_Page_MoveTextPos (hPage, LeftMargin, nHeight - TopMargin) 
```

此语法适用于 Powerbasic，但我假设您明白了。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-12T06:41:32.180

请参阅此[LIB Haru 源代码](http://libharu.sourceforge.net/demo/link_annotation.c)。

它很好地描述了如何转换`documents`为文件。`pdf`

这个[API](https://github.com/libharu/libharu/wiki/API%3A-Page)对你也很有用。

希望这会帮助你。

# sql - 插入多行并将每个人的 Id 分配给另一个表的列的有效方法

> ID：15964439
> 
> 赞同：1
> 
> 时间：2013-04-12T06:22:09.547
> 
> 标签：sql, sql-server-2008

这是场景：

我有桌子`Request(RId)`、桌子`Service(SId)`和桌子`Mapping(MId)`。

现在首先将请求生成到请求表中。然后创建其相关的 n 个服务。假设 1 个请求有 5 个服务。现在有一个映射表，维护表Request和表Service之间的关系。

**映射表示例：**

```
MId | RId | SId
----------------
 1  |  1  |  2
 2  |  1  |  3  
 3  |  1  |  4
 4  |  2  |  5
 5  |  2  |  6
 6  |  3  |  8 
```

现在，我有两种方法可以做到这一点：

**第一遍**：在数据库中向 SP 插入一项服务，进行插入，然后获取其 Id 并在`Mapping`表中输入。意味着如果我有 5 个服务，我必须进入后端 5 次。（在单个 SP 中插入服务和映射）（我目前正在使用）。

**第二遍**：所有服务数据作为 TableType 到 SP 并插入 DB 并获取最后 5 个服务 Id 并通过 while 循环执行映射表的所有条目。意味着我只需要进入后端一次，但是如果任何其他人为他/她的请求插入了服务，我会得到错误的 ID 并且会错误地进行映射。

有没有更好的方法来做到这一点？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-12T07:05:44.523

您可以使用该`OUTPUT`子句从多个插入的行中捕获身份。在下文中，我假设`ServiceName`并且`RequestName`足以唯一标识传入的值。如果不是，那么希望您可以调整以下内容（您没有在问题中真正定义任何可用的非身份列名称或值）：

首先，设置表：

```
create table Requests (RId int IDENTITY(1,1) not null primary key,RequestName varchar(10) not null)
create table Services (SId int IDENTITY(1,1) not null primary key,ServiceName varchar(10) not null)
create table Mappings (MId int IDENTITY(1,1) not null,RId int not null references Requests,SId int not null references Services) 
```

[现在声明传递给存储过程的TVP](http://msdn.microsoft.com/en-gb/library/bb510489.aspx)是什么（注意这个脚本和下一个脚本需要在这个模拟中一起运行）：

```
declare @NewValues table (
    RequestName varchar(10) not null,
    ServiceName varchar(10) not null
)
insert into @NewValues (RequestName,ServiceName) values
('R1','S1'),
('R1','S2'),
('R1','S3'),
('R2','S4'),
('R2','S5'),
('R3','S6') 
```

然后，在 SP 内部，您将拥有如下代码：

```
declare @TmpRIDs table (RequestName varchar(10) not null,RId int not null)
declare @TmpSIDs table (ServiceName varchar(10) not null,SId int not null)

;merge into Requests r using (select distinct RequestName from @NewValues) n on 1=0
when not matched then insert (RequestName) values (n.RequestName)
output n.RequestName,inserted.RId into @TmpRIDs;

;merge into Services s using (select distinct ServiceName from @NewValues) n on 1=0
when not matched then insert (ServiceName) values (n.ServiceName)
output n.ServiceName,inserted.SId into @TmpSIDs;

insert into Mappings (RId,SId)
select RId,SId
from @NewValues nv
    inner join
    @TmpRIds r
        on
            nv.RequestName = r.RequestName 
    inner join
    @TmpSIDs s
        on
            nv.ServiceName = s.ServiceName; 
```

并检查结果：

```
select * from Mappings 
```

产生：

```
MId         RId         SId
----------- ----------- -----------
1           1           1
2           1           2
3           1           3
4           2           4
5           2           5
6           3           6 
```

这与您在问题中的内容相似。

代码的棘手部分是（*错误*地）使用该`MERGE`语句，以便能够从`inserted`表（包含新生成的`IDENTITY`值）和充当行源的表中捕获列。该语句的`OUTPUT`子句*只*允许引用伪表，所以不能在这里使用。`INSERT`*`inserted`*

 ** * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-12T06:31:52.447

**你第二次求婚肯定**不是办法。

我想您应该在单个事务中进行每个插入（可能在单个过程中）。如果您的 Id 是身份，您可以使用它[`@@IDENTITY`](http://msdn.microsoft.com/en-us/library/ms187342.aspx)来获取最后插入的值并将它们插入映射表中。

```
BEGIN TRAN
  DECLARE @ID1 numeric, @ID2 numeric    
  INSERT INTO Request values (//insert values
  SET @ID1=(SELECT @@IDENTITY)
  INSERT INTO Service values (//insert values
  SET @ID2=(SELECT @@IDENTITY)
  INSERT INTO Mapping values (@ID1,@ID2);
COMMIT TRAN 
```

否则，您可以使用 *SELECT MAX(ID) WITH(UPDLOCK)*这将阻止您的表在您的事务无法完成时插入其他记录。

```
BEGIN TRAN
  DECLARE @ID1 numeric, @ID2 numeric      
  SET @ID2=(SELECT max(SId)+1 FROM Service WITH(UPDLOCK))
  INSERT INTO Request values (@ID1,//other values
  INSERT INTO Service values (@ID2,//other values
  INSERT INTO Mapping values ((SELECT max(MId)+1 FROM Mapping),@ID1,@ID2);
COMMIT TRAN 
```*

# smartphone - 热门智能手机网络编程

> ID：15964446
> 
> 赞同：0
> 
> 时间：2013-04-12T06:22:40.500
> 
> 标签：smartphone

我需要为智能手机构建我的第一个网络应用程序。我希望这个网络应用程序可以与 iphone 和 android 一起使用。问题是怎么做:)？我是一位经验丰富的 web 开发人员，使用 microsof 开发工具 + jquery，但我不知道如何开始为智能手机做同样的事情。
我应该使用微软工具吗？爪哇？html5?

谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-12T06:26:05.030

您可能想查看用于移动 Web 应用的[PhoneGap](http://phonegap.com/)框架。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-12T06:27:03.533

> 看如果你想以它在智能手机上工作的方式来创建它，那么你显然应该使用一些跨平台或平台独立的技术来工作，并且作为一个网络应用程序，那么你有使用 html5 和 jquery（移动插件）的优势。

**我还建议通过`phonegap`它提供的库，以使那些必须在各种操作系统上跨平台工作的应用程序只需稍作调整。`phonegap`确保库规范满足您的要求。**

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-05-10T12:16:26.383

看了半天，想和大家分享几个好的链接：

1.  [http://www.tricedesigns.com/2013/01/18/my-workflow-for-developing-phonegap-applications/](http://www.tricedesigns.com/2013/01/18/my-workflow-for-developing-phonegap-applications/)

2.  不错的编辑器：[http](http://www.mobjectify.com/edit/) ://www.mobjectify.com/edit/ + 关于它的教程：[http ://www.mobjectify.com/tutorials/HTML_5_mobile_web_app_from_start_to_finish/](http://www.mobjectify.com/tutorials/HTML_5_mobile_web_app_from_start_to_finish/)

我的结论是肯定使用PhoneGap 并使用html5、jquery mobile、css3 和javascript 构建网站。

# python - 使用 for 循环比较列表的位置

> ID：15964452
> 
> 赞同：1
> 
> 时间：2013-04-12T06:22:52.907
> 
> 标签：python, list, loops, for-loop, position

如果有两个列表：

```
a = [1,2,3,4,5]
b = [2,1,3,5,4] 
```

我想用一个`for`循环来比较它们，我必须用`for`循环，所以不要问为什么，我在想：

```
for q,w in zip(a,b):
    if a[q] == a[w]:
        print "hi"
    else:
        print "bye" 
```

我正在寻找的结果是这样的：

> 再见你好再见

它是如何达到这个结果的？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-04-12T06:28:24.287

从您的示例中可以看出您走在正确的轨道上。但我认为你误解了 q 和 w 代表什么。

在您的示例中， q 和 w 不代表您正在循环的集合的当前元素的索引；它们**是**元素。例如，在该循环的第一次迭代中，q 和 w 将分别为 1 和 2。这可能是您想要的：

```
for q,w in zip(a,b):
    if q == w:
        print "hi"
    else:
        print "bye" 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-12T06:32:01.010

```
>>> a = [1,2,3,4,5]
>>> b = [2,1,3,5,4]
>>> for q, w in zip(a, b):
        print "hi" if q == w else "bye"

bye
bye
hi
bye
bye 
```

# iphone - RSA Encryption in iPhone using existing Public Key and MOD

> ID：15964458
> 
> 赞同：0
> 
> 时间：2013-04-12T06:23:24.927
> 
> 标签：iphone, objective-c, encryption, rsa, public-key-encryption

I have RSA Encryption implemented in Android using BouncyCastle API. I have Public Key and MOD which I want to use for iPhone app. The only thing I am concern with using RSA encryption is the encryption part.

Server is same for both Android and iPhone app and has the Private Key to decrypt the data.

Kindly, explain how can I implement the RSAEncrypter in iPhone?

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-12T06:38:38.053

试试这个代码可能会有所帮助或给你一些想法..： [https ://discussions.apple.com/thread/1795474?start=0&tstart=0](https://discussions.apple.com/thread/1795474?start=0&tstart=0)

# java - 退出jframe时摆动停止计时器

> ID：15964461
> 
> 赞同：5
> 
> 时间：2013-04-12T06:23:39.037
> 
> 标签：java, swing, timer, camera, jframe

我有一个按预定时间间隔运行的任务。基本上，我在 JFrame 中的标签上显示相机馈送。但是，当我退出 JFrame 时，应用程序似乎正在运行。我怎样才能阻止它？我已经去掉了代码的细节，只留下了相关的部分

```
public class TaskCLass extends JFrame {

    JPanel p;
    JLabel l;
    Timer timer;

    public TaskCLass() {

        p = new JPanel();
        l = new JLabel("Window");
        add(p);
        p.add(l);
        setSize(700, 600);

        this.addWindowListener(new WindowAdapter() {

            @Override
            public void windowClosing(WindowEvent e) {
                System.out.println(e);
                timer.purge();
                timer.cancel();
                System.exit(1);
            }

            public void windowClosed(WindowEvent e) {
                System.out.println(e);
                timer.purge();
                timer.cancel();
                System.exit(1);
            }
        });

        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
        setVisible(true);
        startTask();
    }

    public static void main(String[] args) {

        new TaskCLass();
    }

    public void startTask() {

        TimerTask t = new TimerTask() {

            @Override
            public void run() {
              //.........

            }
        };

        timer = new Timer();
        timer.schedule(t, 0, 200);
    }

} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-12T07:28:50.340

如果计划的代码正在修改 GUI，最好使用[Swing Timer 。](http://docs.oracle.com/javase/tutorial/uiswing/misc/timer.html)否则，如果您使用的是非 Swing [Timer ，则需要使用](http://docs.oracle.com/javase/6/docs/api/java/util/Timer.html)[cancel()](http://docs.oracle.com/javase/6/docs/api/java/util/Timer.html#cancel%28%29)将其关闭。

# c# - 在 C# 列中订购数据时中断

> ID：15964464
> 
> 赞同：0
> 
> 时间：2013-04-12T06:23:44.520
> 
> 标签：c#, datagridview, break

我有这样的数据网格视图

![在此处输入图像描述](https://i.stack.imgur.com/p6rj3.jpg)

当我尝试单击列标题以尝试对数据进行排序时，程序会在线中断

```
DataGridViewRow row = dataGridView1.Rows[rowIndex]; 
```

**ArgumentOutOfRangeException 未处理。指数超出范围。必须是非负数且小于集合的大小。参数名称：索引**

这是 .designer.cs 中的代码

```
this.dataGridView1.AutoSizeColumnsMode = System.Windows.Forms.DataGridViewAutoSizeColumnsMode.AllCells;
this.dataGridView1.AutoSizeRowsMode = System.Windows.Forms.DataGridViewAutoSizeRowsMode.AllCells;
this.dataGridView1.BackgroundColor = System.Drawing.Color.Azure;
this.dataGridView1.ColumnHeadersHeightSizeMode = System.Windows.Forms.DataGridViewColumnHeadersHeightSizeMode.AutoSize;
this.dataGridView1.Location = new System.Drawing.Point(21, 62);
this.dataGridView1.Name = "dataGridView1";
this.dataGridView1.Size = new System.Drawing.Size(586, 381);
this.dataGridView1.TabIndex = 9;
this.dataGridView1.CellContentClick += new System.Windows.Forms.DataGridViewCellEventHandler(this.dataGridView1_CellContentClick_1); 
```

这是我的 .cs 中的代码

```
private void dataGridView1_CellContentClick_1(object sender, DataGridViewCellEventArgs e)
        {
            int rowIndex = e.RowIndex;
            DataGridViewRow row = dataGridView1.Rows[rowIndex];
            groupBoxPenghuni.Visible = false;
            groupBoxStaff.Visible = false;
            groupBoxRoom.Visible = false;
            groupBoxDPenghuni.Visible = true;
            groupBoxPenghasilan.Visible = false;
            GroupBox_AddResident_Resident.Visible = false;
            GroupBox_AddResident_Room.Visible = false;
            GroupBox_AddResident1.Visible = false;
            GroupBox_DeleteResident_Resident.Visible = false;
            GroupBox_DeleteResident1.Visible = false;
            GroupBox_Resident.Visible = false;
            GroupBox_Update_Room.Visible = false;
            GroupBox_UpdateResident1.Visible = false;
        } 
```

有什么问题？我该怎么办？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-12T06:34:59.897

它失败的原因是因为您`dataGridView1_CellContentClick_1`在排序时正在触发，而`Index was out of range`. 您应该在继续之前检查它是否有效。

这些是声明的，但从未使用过。你真的需要这些线吗？

```
int rowIndex = e.RowIndex;
DataGridViewRow row = dataGridView1.Rows[rowIndex]; 
```

如果确实需要这些行，则必须在尝试声明它们之前检查索引是否超出范围。

```
private void dataGridView1_CellContentClick_1(object sender, DataGridViewCellEventArgs e)
{
    if (e.RowIndex >= 0)
    {
        int rowIndex = e.RowIndex;
        DataGridViewRow row = dataGridView1.Rows[rowIndex];
        groupBoxPenghuni.Visible = false;
        groupBoxStaff.Visible = false;
        groupBoxRoom.Visible = false;
        groupBoxDPenghuni.Visible = true;
        groupBoxPenghasilan.Visible = false;
        GroupBox_AddResident_Resident.Visible = false;
        GroupBox_AddResident_Room.Visible = false;
        GroupBox_AddResident1.Visible = false;
        GroupBox_DeleteResident_Resident.Visible = false;
        GroupBox_DeleteResident1.Visible = false;
        GroupBox_Resident.Visible = false;
        GroupBox_Update_Room.Visible = false;
        GroupBox_UpdateResident1.Visible = false;
    }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-12T06:35:28.367

您必须检查 CellContentClick 事件：

```
if (e.RowIndex != -1 && e.ColumnIndex!=-1)
{
// do something
} 
```

如果 e.RowIndex 为 -1，则表示您单击了列标题 对于行标题也是如此

# c++ - `std::vector 的快速复制 `

> ID：15964469
> 
> 赞同：24
> 
> 时间：2013-04-12T06:24:03.333
> 
> 标签：c++, performance, optimization, stdvector, memcpy

我有一个`std::vector<std::uint8_t>`，需要复制。这只需调用复制构造函数即可完成。

我的分析结果显示，Microsoft Visual C++ (msvc100) 实现在`std::uninitialized_copy`内部使用。这将一个接一个地复制每个元素。在这种情况下，可以通过一次复制整个内存块来完成更优化的复制（就像`memcpy`可能做的那样）。

换句话说，这可能是一个重要的优化。有没有办法强制向量使用这种优化的方法？

注意：我尝试过使用`std::basic_string<std::uint8_t>`，它的性能确实更好，但它还有其他问题。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-04-12T08:22:58.827

此答案并非特定于 msvc100。

如果您使用复制构造函数，如

```
std::vector<uint8_t> newVect(otherVect); 
```

otherVect 的分配器对象也必须被复制（和使用），这需要更多的努力才能使其在 STL 实现中具有性能。

如果您只想复制otherVect的*内容，请使用*

```
std::vector<uint8_t> newVect(otherVect.begin(), otherVect.end()); 
```

它使用 newVect 的默认分配器。

另一种可能是

```
std::vector<uint8_t> newVect; nevVect.assign(otherVect.begin(), otherVect.end()); 
```

在这种情况下，所有这些（包括当 otherVect 使用默认分配器时的复制构造函数）都应该归结为一个好的 STL 实现中的 memmove/memcpy。请注意，otherVect 与 newVect 具有完全相同的元素类型（例如“char”或“int8_t”）。

使用容器的方法通常比使用通用算法更高效，因此如果供应商没有，则结合使用 vector::resize() 和 std::copy() 甚至 memmove()/memcpy() 将是一种解决方法'没有充分优化容器。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-13T17:31:53.253

根据建议的解决方案，我决定整理一个小型基准。

```
#include <cstdint>
#include <cstring>
#include <ctime>
#include <iostream>
#include <random>
#include <vector>

using namespace std;

int main()
{
  random_device seed;
  mt19937 rnd(seed());
  uniform_int_distribution<uint8_t> random_byte(0x00, 0xff);

  const size_t n = 512 * 512;

  vector<uint8_t> source;
  source.reserve(n);
  for (size_t i = 0; i < n; i++) source.push_back(random_byte(rnd));

  clock_t start;
  clock_t t_constructor1 = 0; uint8_t c_constructor1 = 0;
  clock_t t_constructor2 = 0; uint8_t c_constructor2 = 0;
  clock_t t_assign = 0;       uint8_t c_assign = 0;
  clock_t t_copy = 0;         uint8_t c_copy = 0;
  clock_t t_memcpy = 0;       uint8_t c_memcpy = 0;

  for (size_t k = 0; k < 4; k++)
  {
    start = clock();
    for (size_t i = 0; i < n/32; i++)
    {
      vector<uint8_t> destination(source);
      c_constructor1 += destination[i];
    }
    t_constructor1 += clock() - start;

    start = clock();
    for (size_t i = 0; i < n/32; i++)
    {
      vector<uint8_t> destination(source.begin(), source.end());
      c_constructor2 += destination[i];
    }
    t_constructor2 += clock() - start;

    start = clock();
    for (size_t i = 0; i < n/32; i++)
    {
      vector<uint8_t> destination;
      destination.assign(source.begin(), source.end());
      c_assign += destination[i];
    }
    t_assign += clock() - start;

    start = clock();
    for (size_t i = 0; i < n/32; i++)
    {
      vector<uint8_t> destination(source.size());
      copy(source.begin(), source.end(), destination.begin());
      c_copy += destination[i];
    }
    t_copy += clock() - start;

    start = clock();
    for (size_t i = 0; i < n/32; i++)
    {
      vector<uint8_t> destination(source.size());
      memcpy(&destination[0], &source[0], n);
      c_memcpy += destination[i];
    }
    t_memcpy += clock() - start;
  }

  // Verify that all copies are correct, but also prevent the compiler
  // from optimising away the loops
  uint8_t diff = (c_constructor1 - c_constructor2) +
                 (c_assign - c_copy) +
                 (c_memcpy - c_constructor1);

  if (diff != 0) cout << "one of the methods produces invalid copies" << endl;

  cout << "constructor (1): "    << t_constructor1 << endl;
  cout << "constructor (2): "    << t_constructor2 << endl;
  cout << "assign:          "    << t_assign << endl;
  cout << "copy             "    << t_copy << endl;
  cout << "memcpy           "    << t_memcpy << endl;

  return 0;
} 
```

在我的 PC 上，使用 msvc100 为 x64 编译，完全优化，这会产生以下输出：

```
constructor (1): 22388
constructor (2): 22333
assign:          22381
copy             2142
memcpy           2146 
```

结果非常清楚：`std::copy`性能和 一样好`std::memcpy`，而构造函数 和`assign`都慢一个数量级。当然，确切的数字和比率取决于矢量大小，但 msvc100 的结论是显而易见的：正如[Rapptz 所建议的](https://stackoverflow.com/questions/15964469/fast-copy-of-stdvectorstduint8-t?noredirect=1#comment22753575_15964469)，使用`std::copy`.

**编辑：**结论对于其他编译器并不明显。我也在 64 位 Linux 上进行了测试，Clang 3.2 的结果如下

```
constructor (1): 530000
constructor (2): 560000
assign:          560000
copy             840000
memcpy           860000 
```

GCC 4.8 给出了类似的输出。对于 Windows 上的 GCC，`memcpy`并且`copy`比构造函数 和 稍慢`assign`，尽管差异较小。但是，我的经验是 GCC 在 Windows 上的优化并不好。我也测试了msvc110，结果和msvc100差不多。

# android - 如何在android中创建群聊？

> ID：15964474
> 
> 赞同：1
> 
> 时间：2013-04-12T06:24:21.587
> 
> 标签：android, xmpp, smack, asmack, multiuserchat

我正在使用 aSmack 库在 android 中创建群聊 (MultiUserChat)。能够创建 MultiUserChat 实例，在该域中获取可用房间并能够加入特定房间。现在我对此有一些疑问，那些是

1.  是否需要在整个应用程序中为 MUC 维护相同的实例？
2.  如何获取特定房间的最近 20 次讨论历史？

现在我尝试这样获取讨论历史

```
DiscussionHistory history = new DiscussionHistory();
history.setMaxStanzas(20);               
muc2.join(acc_id, null, history, JOIN_TIMEOUT); 
Message oldMsg = muc2.nextMessage(1000); 
```

通过使用上面的代码，我现在只从服务器收到一条消息，这也是历史上可用的第一条消息。但我的要求是我想获得房间讨论历史记录中的所有最后 20 条消息。

有人帮我解决这个问题...

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-06-17T14:56:25.760

试试这个代码

```
new Thread(new Runnable() {
  @Override
  public void run() {
    do{
       Message oldMsg = muc.nextMessage();
        if(oldMsg.getBody()!=null){
          //GetMessage(oldMsg); 
        }else{
           break;
        }
   }while(true);
  }
}).start(); 
```

# android - 如何在 Android 2.2 等 Android 低版本中使用 USB 设备？

> ID：15964475
> 
> 赞同：3
> 
> 时间：2013-04-12T06:24:30.510
> 
> 标签：android, usb, libusb

我正在使用 Magtek 磁卡读卡器并通过 USB 将该 MCR 与 android 设备连接。当我使用 API 12 及更高版本时，它工作正常，但是当我将 API 版本更改为 8 时，它崩溃并在 Log cat 中显示以下结果：

```
 04-12 11:39:39.560: E/AndroidRuntime(276): java.lang.NoClassDefFoundError: android.hardware.usb.UsbManager
    04-12 11:39:39.560: E/AndroidRuntime(276):  at com.magtek.mobile.android.libDynamag.MagTeklibDynamag.openDevice(MagTeklibDynamag.java:98)
    04-12 11:39:39.560: E/AndroidRuntime(276):  at com.magtek.mobile.android.MagTekDemo.Dynamag.MagTekDemo.onResume(MagTekDemo.java:119)
    04-12 11:39:39.560: E/AndroidRuntime(276):  at android.app.Instrumentation.callActivityOnResume(Instrumentation.java:1149)
    04-12 11:39:39.560: E/AndroidRuntime(276):  at android.app.Activity.performResume(Activity.java:3823)
    04-12 11:39:39.560: E/AndroidRuntime(276):  at android.app.ActivityThread.performResumeActivity(ActivityThread.java:3118)
    04-12 11:39:39.560: E/AndroidRuntime(276):  at android.app.ActivityThread.handleResumeActivity(ActivityThread.java:3143)
    04-12 11:39:39.560: E/AndroidRuntime(276):  at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2684)
    04-12 11:39:39.560: E/AndroidRuntime(276):  at android.app.ActivityThread.access$2300(ActivityThread.java:125)
    04-12 11:39:39.560: E/AndroidRuntime(276):  at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2033)
    04-12 11:39:39.560: E/AndroidRuntime(276):  at android.os.Handler.dispatchMessage(Handler.java:99)
    04-12 11:39:39.560: E/AndroidRuntime(276):  at android.os.Looper.loop(Looper.java:123)
    04-12 11:39:39.560: E/AndroidRuntime(276):  at android.app.ActivityThread.main(ActivityThread.java:4627)
    04-12 11:39:39.560: E/AndroidRuntime(276):  at java.lang.reflect.Method.invokeNative(Native Method)
    04-12 11:39:39.560: E/AndroidRuntime(276):  at java.lang.reflect.Method.invoke(Method.java:521)
    04-12 11:39:39.560: E/AndroidRuntime(276):  at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:868)
    04-12 11:39:39.560: E/AndroidRuntime(276):  at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:626)
    04-12 11:39:39.560: E/AndroidRuntime(276):  at dalvik.system.NativeStart.main(Native Method) 
```

**那么我们可以让 Android 2.2 USB 启用并使用 USB 设备吗？**

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-04-12T06:29:13.673

你不能。您要使用的 API 在 2.2 中不存在。这不是他们更改 API 的情况，这是他们添加的一个以前不存在的功能。鉴于它与硬件相关，它不是编写代码来模拟它的问题。您只需要使用 API 12+

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-05-07T05:16:14.367

我想分享一下，**我们也可以通过将 USB HID 设备转换为键盘类型来使用较低版本的 USB 设备。**来自 USB HID 设备的输入被视为从键盘输入。我必须使用 Magtek MSR 刷 CC 并想要获取 CC 信息。但由于版本较低，设备不支持 USB 连接。

然后我只是将 USB HID 更改为键盘类型，现在一切都很好。但是为此，该设备可以更改。所以这就是我在我的应用程序中使用 USB 设备的方式。

# ios - 单个 UIImageViews 没有保存在各自的位置

> ID：15964476
> 
> 赞同：0
> 
> 时间：2013-04-12T06:24:35.220
> 
> 标签：ios, objective-c, uiimageview

我有一个视图控制器，其中包含一些用户可以平移、旋转和缩放的 UIImageView。位置、角度和大小在发射之间保持不变。这适用于一个 UIImageView。

我可以使用第二个 UIImageView 来平移、旋转和平移。但是，我无法保存此 UIImageView 的位置。当我退出并恢复时，它正在加载另一个 UIImageView 所在的位置。（即两个图像在启动后都加载到相同的位置）。

`-createView1:`我认为我在and`-createView:`方法中做错了什么？

这是代码

`ViewController.h`

```
@interface ViewController : UIViewController <UIGestureRecognizerDelegate>
@end 
```

`ViewController.m`

```
#import <CoreGraphics/CoreGraphics.h>
#import "ViewController.h"

@interface ViewController ()

@end

@implementation ViewController

- (void)viewDidLoad
{
[super viewDidLoad];
// Do any additional setup after loading the view, typically from a nib.

NSMutableArray *views = [NSMutableArray array];

[views addObject:[self _createView1]];
[views addObject:[self _createView]];
NSLog(@"%@", views);

[UIView animateWithDuration: 0.5 animations: ^
{
    for ( UIView *view in views )
    {
        [self _restoreViewPosition: view];
    }
}];
}

- (void)didReceiveMemoryWarning
{
[super didReceiveMemoryWarning];
// Dispose of any resources that can be recreated.
} 
```

# pragma mark - 手势识别器处理程序

```
- (void)onGestureRecognizerEnd: (UIGestureRecognizer *)gestureRecognizer
{
switch ( gestureRecognizer.state )
{
    case UIGestureRecognizerStateEnded:
    case UIGestureRecognizerStateCancelled:
    case UIGestureRecognizerStateFailed:
    {
        [self _saveViewPosition: gestureRecognizer.view];

        break;
    }
    default:
    {
        break;
    }
}
}

- (void)panPiece: (UIPanGestureRecognizer *)gestureRecognizer
{
UIView *piece2 = [gestureRecognizer view];

if ( [gestureRecognizer state] == UIGestureRecognizerStateBegan || [gestureRecognizer state] == UIGestureRecognizerStateChanged )
{
    CGPoint translation = [gestureRecognizer translationInView: [piece2 superview]];

    [piece2 setCenter: CGPointMake([piece2 center].x + translation.x, [piece2 center].y + translation.y)];
    [gestureRecognizer setTranslation: CGPointZero inView: [piece2 superview]];
}
}

- (void)rotatePiece: (UIRotationGestureRecognizer *)gestureRecognizer
{
if ( [gestureRecognizer state] == UIGestureRecognizerStateBegan || [gestureRecognizer state] == UIGestureRecognizerStateChanged )
{
    [gestureRecognizer view].transform = CGAffineTransformRotate([[gestureRecognizer view] transform],
            [gestureRecognizer rotation]);
    [gestureRecognizer setRotation: 0];
}
}

- (void)scalePiece: (UIPinchGestureRecognizer *)gestureRecognizer
{
if ( [gestureRecognizer state] == UIGestureRecognizerStateBegan || [gestureRecognizer state] == UIGestureRecognizerStateChanged )
{
    [gestureRecognizer view].transform = CGAffineTransformScale([[gestureRecognizer view] transform],
            [gestureRecognizer scale], [gestureRecognizer scale]);
    [gestureRecognizer setScale: 1.0];
}
}

- (void)panPiece1: (UIPanGestureRecognizer *)gestureRecognizer
{
UIView *piece1 = [gestureRecognizer view];

if ( [gestureRecognizer state] == UIGestureRecognizerStateBegan || [gestureRecognizer state] == UIGestureRecognizerStateChanged )
{
    CGPoint translation = [gestureRecognizer translationInView: [piece1 superview]];

    [piece1 setCenter: CGPointMake([piece1 center].x + translation.x, [piece1 center].y + translation.y)];
    [gestureRecognizer setTranslation: CGPointZero inView: [piece1 superview]];
}
}

- (void)rotatePiece1: (UIRotationGestureRecognizer *)gestureRecognizer
{
if ( [gestureRecognizer state] == UIGestureRecognizerStateBegan || [gestureRecognizer state] == UIGestureRecognizerStateChanged )
{
    [gestureRecognizer view].transform = CGAffineTransformRotate([[gestureRecognizer view] transform],
                                                                 [gestureRecognizer rotation]);
    [gestureRecognizer setRotation: 0];
}
} 

- (void)scalePiece1: (UIPinchGestureRecognizer *)gestureRecognizer
{
if ( [gestureRecognizer state] == UIGestureRecognizerStateBegan || [gestureRecognizer state] == UIGestureRecognizerStateChanged )
{
    [gestureRecognizer view].transform = CGAffineTransformScale([[gestureRecognizer view] transform],
                                                                [gestureRecognizer scale],   [gestureRecognizer scale]);
    [gestureRecognizer setScale: 1.0];
}
} 
```

# 杂注标记 - UIGestureRecognizerDelegate

```
- (BOOL) gestureRecognizer: (UIGestureRecognizer *)gestureRecognizer shouldRecognizeSimultaneouslyWithGestureRecognizer: (UIGestureRecognizer*)otherGestureRecognizer
{
return YES;
} 
```

# 杂注标记 - 私有方法

```
- (void)_restoreViewPosition: (UIView *)view
{
NSUserDefaults *ud = [NSUserDefaults standardUserDefaults];

NSData *centerData = [ud objectForKey: [self _centerKeyForView: view]];
if ( centerData )
{
    NSValue *frameValue = [NSKeyedUnarchiver unarchiveObjectWithData: centerData];
    view.center = [frameValue CGPointValue];
}

NSData *transformData = [ud objectForKey: [self _transformKeyForView: view]];
if ( transformData )
{
    NSValue *transformValue = [NSKeyedUnarchiver unarchiveObjectWithData: transformData];
    view.transform = [transformValue CGAffineTransformValue];
}
}

- (void)_saveViewPosition: (UIView *)view
{
NSUserDefaults *defaults = [NSUserDefaults standardUserDefaults];

[defaults setObject: [NSKeyedArchiver archivedDataWithRootObject: [NSValue valueWithCGPoint: view.center]]
             forKey: [self _centerKeyForView: view]];
[defaults setObject: [NSKeyedArchiver archivedDataWithRootObject: [NSValue valueWithCGAffineTransform: view.transform]]
             forKey: [self _transformKeyForView: view]];

[defaults synchronize];
}

- (NSString *)_transformKeyForView: (UIView *)view
{
return [NSString stringWithFormat: @"view[%d].transform", view.tag];
}

- (NSString *)_centerKeyForView: (UIView *)view
{
return [NSString stringWithFormat: @"view[%d].center", view.tag];
}

- (UIView *)_createView1
{
UIImageView *view1 = [[UIImageView alloc] initWithImage:[UIImage imageNamed:@"Default.png"]];

[self.view addSubview:view1] ;
view1.backgroundColor = [UIColor blackColor];
view1.userInteractionEnabled = YES;

view1.frame = ( CGRect ) {
    CGPointMake(0, 0),
    CGSizeMake(10, 16)
};

view1.frame = ( CGRect ) {
    CGPointMake(floorf(( self.view.frame.size.width - view1.frame.size.width ) / 2.0),
                floorf(( self.view.frame.size.height - view1.frame.size.height ) / 2.0)),
    view1.frame.size
};

UIPanGestureRecognizer *panGestureRecognizer1 = [[UIPanGestureRecognizer alloc]
                                                initWithTarget: self action: @selector(panPiece:)];
UIRotationGestureRecognizer *rotationGestureRecognizer1 = [[UIRotationGestureRecognizer alloc]
                                                          initWithTarget: self action: @selector(rotatePiece:)];
UIPinchGestureRecognizer *pinchGestureRecognizer1 = [[UIPinchGestureRecognizer alloc]
                                                    initWithTarget: self action: @selector(scalePiece:)];

//panGestureRecognizer1.delegate = self;
//rotationGestureRecognizer1.delegate = self;
//pinchGestureRecognizer1.delegate = self;

[view1 addGestureRecognizer: panGestureRecognizer1];
[view1 addGestureRecognizer: rotationGestureRecognizer1];
[view1 addGestureRecognizer: pinchGestureRecognizer1];

[panGestureRecognizer1 addTarget: self action: @selector(onGestureRecognizerEnd:)];
[rotationGestureRecognizer1 addTarget: self action: @selector(onGestureRecognizerEnd:)];
[pinchGestureRecognizer1 addTarget: self action: @selector(onGestureRecognizerEnd:)];

[panGestureRecognizer1 release];
[rotationGestureRecognizer1 release];
[pinchGestureRecognizer1 release];

[self.view addSubview: view1];

return view1;
}

- (UIView *)_createView
{
UIImageView *view2 = [[UIImageView alloc] initWithImage:[UIImage imageNamed:@"Default.png"]];

[self.view addSubview:view2] ;
view2.backgroundColor = [UIColor blackColor];
view2.userInteractionEnabled = YES;

view2.frame = ( CGRect ) {
    CGPointMake(10, 10),
    CGSizeMake(100, 60)
};

view2.frame = ( CGRect ) {
    CGPointMake(floorf(( self.view.frame.size.width - view2.frame.size.width ) / 2.0),
                floorf(( self.view.frame.size.height - view2.frame.size.height ) / 2.0)),
    view2.frame.size
};

UIPanGestureRecognizer *panGestureRecognizer = [[UIPanGestureRecognizer alloc]
                                                initWithTarget: self action: @selector(panPiece1:)];
UIRotationGestureRecognizer *rotationGestureRecognizer = [[UIRotationGestureRecognizer alloc]
                                                          initWithTarget: self action: @selector(rotatePiece1:)];
UIPinchGestureRecognizer *pinchGestureRecognizer = [[UIPinchGestureRecognizer alloc]
                                                    initWithTarget: self action: @selector(scalePiece1:)];

//panGestureRecognizer.delegate = self;
//rotationGestureRecognizer.delegate = self;
//pinchGestureRecognizer.delegate = self;

[view2 addGestureRecognizer: panGestureRecognizer];
[view2 addGestureRecognizer: rotationGestureRecognizer];
[view2 addGestureRecognizer: pinchGestureRecognizer];

[panGestureRecognizer addTarget: self action: @selector(onGestureRecognizerEnd:)];
[rotationGestureRecognizer addTarget: self action: @selector(onGestureRecognizerEnd:)];
[pinchGestureRecognizer addTarget: self action: @selector(onGestureRecognizerEnd:)];

[panGestureRecognizer release];
[rotationGestureRecognizer release];
[pinchGestureRecognizer release];

[self.view addSubview: view2];

return view2;
}

@end 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-12T08:28:25.030

在`-_centerKeyForView:`和`-_transformKeyForView:`方法中，您正在生成包含视图标签的键。但是您实际上并没有在任何地方设置视图的标记属性。因此，在创建每个视图后尝试设置不同的标签属性`-createView1:`，`-createView:`如下所示：

```
[view1 setTag:0];
...
[view2 setTag:1]; 
```

# java - 新创建的heroku应用程序没有网络测功机

> ID：15964479
> 
> 赞同：2
> 
> 时间：2013-04-12T06:24:46.510
> 
> 标签：java, hibernate, heroku, struts2

一段时间以来，我一直在本地使用 Struts2、Hibernate 和 tomcat 开发 Java maven Web 应用程序。我决定在 Heroku 上托管应用程序，所以我注册并创建了一个新应用程序。然后，我使用 git 将我的应用程序推送到 heroku，但每当我访问 url 时，我都会得到：

```
 Application Error
 An error occurred in the application and your page could not be served. Please try again        in a few moments.

 If you are the application owner, check your logs for details. 
```

当我转到我的应用程序的资源页面时，我意识到没有可用的测功机实例，所以我认为这是我的问题。我是否正确，如果是，我该如何创建一个新的并解决这个问题。

更新

我检查了日志，我得到了一个 H14 - 没有运行 Web 进程。这表明我的应用程序确实没有测功机。所以我尝试使用以下命令添加一个：

```
 heroku ps:scale web=1 --app appname 
```

但我得到“缩放网络进程......失败，没有这种类型有网络”。我该如何解决这个问题？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-14T07:05:18.730

问题是您的应用程序可能没有应用程序服务器（即它只是没有 Tomcat 的原始 WAR 文件）。要解决此问题，您有几个选择：

*   [WAR 部署](https://devcenter.heroku.com/articles/war-deployment)：这是专门针对 WAR 文件的替代部署流程。您将 WAR 文件上传到 Heroku，Tomcat 与必要的 Procfile 一起为您捆绑。您可以使用[CLI](https://devcenter.heroku.com/articles/war-deployment)或[Eclipse](https://devcenter.heroku.com/articles/getting-started-with-heroku-eclipse)执行此操作。这是最简单的，但对高级自定义有一些限制。
*   [手动将 Webapp Runner 添加到您的应用程序](https://devcenter.heroku.com/articles/java-webapp-runner)中。这需要更多的工作，因为您必须对 POM 进行更改并创建自己的 Procfile，但它将允许进一​​步自定义，并允许您在本地运行 Webapp Runner 以获得更好的[dev/prod parity](http://www.12factor.net/dev-prod-parity)。
*   [手动将 Jetty Runner 添加到您的应用程序](https://devcenter.heroku.com/articles/deploy-a-java-web-application-that-launches-with-jetty-runner)中。与上述相同的想法，但使用 Jetty，我个人发现它更适合 Struts2 应用程序。[这是我拥有的使用这种方法的 Struts2 应用程序的示例](https://github.com/ryanbrainard/axiom)。看看它[POM](https://github.com/ryanbrainard/axiom/blob/master/pom.xml)和[Procfile](https://github.com/ryanbrainard/axiom/blob/master/Procfile)看看它是如何完成的。

# javascript - 运算符 [ ] 和字符串（如 charAt() ）

> ID：15964481
> 
> 赞同：0
> 
> 时间：2013-04-12T06:24:52.673
> 
> 标签：javascript

```
var str = 'foobar';
console.log( str[4] );

prints: 
a 
```

这证明字符串也像数组一样。我正确吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-12T06:27:17.197

您不能在特定索引处设置字符，所以不，不是：

```
> var a = 'foo';
undefined
> a[0] = 'x';  // No warning, no error. It just silently fails.
"x"
> a
"foo" 
```

# arrays - Fortran 公共变量，可分配数组

> ID：15964483
> 
> 赞同：2
> 
> 时间：2013-04-12T06:25:00.007
> 
> 标签：arrays, fortran

是否可以在子例程中分配公共数组的大小和值，然后从程序的其他子例程中使用它？

以下程序不起作用，但我想做这样的事情：

主文件

```
program main

integer n
integer, allocatable :: co(:)

common n, co

call assign

print *, co(1), co(2)

deallocate(co)
stop
end program main 
```

赋值.f

```
subroutine assign

integer n
integer, allocatable :: co(:)

common n, co

n = 2
allocate(co(n))

co(1) = 1
co(2) = 2

return
end subroutine assign 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-12T06:53:51.213

不可以。您可以将指针放入公共对象，但不能放入可分配对象。

原因是公共的一个基本概念是存储关联，您可以在其中创建公共所有事物的连续序列，然后这些序列在范围之间共享。可分配对象的大小可以在一个范围内动态变化，这将使跟踪可分配对象之后的公共块中的事物序列变得相当困难。

（可分配对象的典型实现意味着与可分配对象直接关联的存储只是一个描述符 - 实际数据保存在其他地方。这实际上打破了存储单元连续序列的概念，因为分配状态（如描述符中记录的那样） ) 和数据都是可分配值的一部分。指针的实现是类似的，但是从概念上讲，内存中其他地方的数据不是指针值的一部分，因此不应期望它出现在公共描述的连续序列 - 指针在序列中，但不是它指向的位置。）

可分配项需要 F90。这意味着您可以使用模块变量——这是一个比对全局数据使用 common 更好的解决方案。如果必须使用 common 执行此操作，请使用数据指针。

# java - 类的 ArrayList。使困惑

> ID：15964491
> 
> 赞同：4
> 
> 时间：2013-04-12T06:25:26.903
> 
> 标签：java, class, syntax, arraylist, coding-style

对于我的课堂实验室，我们将制作一个简单的卡片组工具，它可以生成标准卡片组并抽取 5 张卡片。我们刚刚学习了 ArrayList 以及如何制作我们自己的类，但现在我正在尝试将它们放在一起，但它只是没有成功。这是我的基本卡类：

```
public class Card
{
private String Number;
private String Suit;

public Card()
{
Number = "Joker";
Suit = "Card";
} 
```

我也有一个重载的卡片类，但不包括以节省空间。接下来是基本的甲板类：

```
public class Deck
{
private ArrayList<Card> CardDeck = new ArrayList<Card>();

public Deck()
{
CardDeck.clear();
CardDeck.add(new Card("Ace","Hearts"));
} 
```

最后，我有我的客户课程。现在，我只是想打印生成的卡片 [Ace,Hearts]。

在我的卡片类中，我有一种打印卡片值的方法：

```
public String print(Deck a) 
{
  return (this.Number+" of "+this.Suit);
} 
```

但是，我正在努力解决如何打印列表是类的数组列表。我知道现在事情有点混乱（我不打算打印套牌），但我认为跳过这个障碍比继续制作手牌列表更重要。问题是一样的，只是变量名称不同。

我试着在网站上寻找类似的问题，但大多数要么只是 String 对象，要么不一起使用 arraylist。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-12T06:33:12.370

首先，一个小术语：你的`ArrayList`不包含类，它包含对 Card 对象实例的引用。Card 类型在 ArrayList 声明中用于指示 ArrayList 中的所有内容都是 Card，但在其他任何地方都没有`class`引用 Card 的类型。

现在，如果您只想将卡片打印到控制台，`toString`为了方便起见，我建议您覆盖该方法。目前，如果您尝试：

```
System.out.println(aCard); 
```

你会得到一个内存地址。覆盖 Card 的 toString，您可以自定义此输出。例如：

```
public String toString() { //In your Card class
    return "["+this.Number+", "+this.Suit+"]";
} 
```

试着只打印一张卡片，这样你就可以看到它是如何工作的。

然后，要遍历 CardDeck 的每个成员，只需使用 for each 语法：

```
for(Card c : CardDeck)
    System.out.println(c); 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-04-12T06:40:23.313

如果你想从 Cred 类中打印值，那很好，但是如果你想从类外部打印它，那么你需要添加任何私有变量的公共 getter 方法。
现在，如果您只是尝试从外部打印对象值，那么您需要覆盖 toString() 方法：

```
public String toString(){
    return("Number = "+this.Number+" and Suit = "+this.Suit);
} 
```

如果你想在课外打印，那么
像这样改变你的 Card 类：

```
public class Card
{
private String Number;
private String Suit;

public Card(String Number,String Suit)
{
this.Number=Number;
this.Suit=Suit;
}

public String getNumber() {
    return Number;
}

public void setNumber(String number) {
    Number = number;
}

public String getSuit() {
    return Suit;
}

public void setSuit(String suit) {
    Suit = suit;
}
} 
```

然后你可以像这样打印值：

```
List<Card> cardList = new ArrayList<Card>();
//Put some value in the list.
cardList.add(new Card("Ace","Hearts"));
//And so on..
    for (Card card : cardList) {
        System.out.println("Number = "+card.getNumber()+" Suit = "+card.getSuit());
    } 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-12T06:32:35.500

您可以迭代 ArrayList 并以您想要的方式打印每个 Card。

```
for (Card card : cardDesk) {
    System.out.println(String.format("Card number: %s, suit: %s", card.getNumber(), card.getSuit());
} 
```

同样，如果您想返回打印内容而不是输出到控制台，您可以使用 StringBuilder 而不是 Sysout。

也请使用 CamelCase 命名您的变量作为其最佳实践。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-04-12T06:34:22.160

您的 Card 类中不应该有 print(Deck a) 方法，Card 类必须只知道如何自己打印它（在面向对象编程中称为单一职责原则）

假设你有一个 print 方法（也考虑覆盖 toString 方法）

```
public String print(){
    return (this.Number+" of "+this.Suit);
} 
```

请注意，它不接受任何参数，因为 Card 实例知道自己。

还在 Deck 类中添加一个 printCards 方法

```
public void printCards(){
    for (Card card: CardDeck){
         System.out.println(card.print());
    }
} 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2013-04-12T06:37:04.867

只需迭代您`ArrayList` `CardDeck`并调用每个元素`print()`方法

```
for (Card card : CardDeck) {
     card.print();
} 
```

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2013-04-12T07:02:42.493

首先，您的 Card 构造函数不好，应该是：

```
public Card(String number, String suit) {
this.number = number;
this.suit = suit;
} 
```

Card的存取方法：

```
public String getNumber(){
    return number;
} 
```

西装也一样

现在您可以创建一张卡片并将其添加到套牌中：

```
CardDeck.add(new Card("Ace","Hearts")); 
```

现在打印甲板；

```
StringBuilder b = new StringBuilder();
for(Card c: cardDeck){
    b.append(c.getNumber).append(c.getSuit);
}
return b.toString(); 
```

# perl - 模式 - 离开第一列的第一个实例并替换其他实例

> ID：15964494
> 
> 赞同：0
> 
> 时间：2013-04-12T06:25:41.233
> 
> 标签：perl, bash, unix

**输入 ：**

```
 Process1 |5f|03/29/13 15:32:59
    Process1 |6f|03/29/13 17:59:03
    Pro cess1 |s7|03/29/13 17:59:05
    Pro cess1 |1234|03/29/13 20:33:43
    Pro cess1 |L|03/29/13 20:33:54
    A Pro cess |45g|03/29/13 20:34:59
    A Pro cess |f4|03/29/13 21:10:22
    B Pro cess |Es|03/30/13 00:11:25
    B Pro cess |23|03/30/13 00:47:20
    B Pro cess |E23|03/30/13 01:03:07 
```

**预期输出：**

```
Process1 |5f|03/29/13 15:32:59
 |6f|03/29/13 17:59:03
Pro cess1|s7|03/29/13 17:59:05
 |1234|03/29/13 20:33:43
 |L|03/29/13 20:33:54
A Pro cess |45g|03/29/13 20:34:59
 |f4|03/29/13 21:10:22
B Pro cess |Es|03/30/13 00:11:25
 |23|03/30/13 00:47:20
 |E23|03/30/13 01:03:07 
```

**逻辑：**仅保留第一列的一个实例，并将其他实例替换为空白

我试过这个，但没有用（在循环中使用下面的代码）：

```
sed -e 's/Process1/ /g' -e 's/ /Process1/1' Input 
```

（将 Process1 替换为“-”，然后再次将“-”的第一个实例替换为 Process1。

正如“cnicutar”所给出的，我将 awk 修改为：

awk -F "|" '{a[$1]++; if (a[$1] > 1) $1=""; 打印;}'文件

**abv 的输出：**

```
Process1 |5f|03/29/13 15:32:59
 6f 03/29/13 17:59:03
Pro cess1 |s7|03/29/13 17:59:05
 1234 03/29/13 20:33:43
 L 03/29/13 20:33:54
A Process |45g|03/29/13 20:34:59
 f4 03/29/13 21:10:22
B Pro cess |Es|03/30/13 00:11:25
 23 03/30/13 00:47:20
 E23 03/30/13 01:03:07 
```

**期望的输出（插入 |）**

```
Process1 |5f|03/29/13 15:32:59
     |6f|03/29/13 17:59:03
Pro cess1 |s7|03/29/13 17:59:05
     |1234|03/29/13 20:33:43
     |L|03/29/13 20:33:54
A Process |45g|03/29/13 20:34:59
     |f4|03/29/13 21:10:22
B Pro cess |Es|03/30/13 00:11:25
     |23 | 03/30/13 00:47:20
     |E23| 03/30/13 01:03:07 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-12T06:30:25.523

稍微横向的解决方案怎么样：

```
[cnicutar@ariel ~]$ awk '{a[$1]++; if (a[$1] > 1) $1=""; print;}' file
Process1 |5f|03/29/13 15:32:59
 |6f|03/29/13 17:59:03
 |s7|03/29/13 17:59:05
 |1234|03/29/13 20:33:43
 |L|03/29/13 20:33:54
AProcess |45g|03/29/13 20:34:59
 |f4|03/29/13 21:10:22
BProcess |Es|03/30/13 00:11:25
 |23|03/30/13 00:47:20
 |E23|03/30/13 01:03:07 
```

* * *

根据编辑，您可能需要：

```
awk -F'|' '{OFS="|"; a[$1]++; if (a[$1] > 1) $1=" "; print;}' file 
```

# vb.net - 如何在 VB.NET 2010 的文本框中制作模糊文本？

> ID：15964495
> 
> 赞同：0
> 
> 时间：2013-04-12T06:25:51.747
> 
> 标签：vb.net

我想知道如何使模糊文本出现在文本框中作为使用说明，例如`"please enter your name"`或类似的东西，当它获得焦点时它会消失。但是，当它因空输入文本而失去焦点时，它会再次出现。

那么，哪些属性或方法可以实现呢？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-12T08:42:06.483

[这](http://vbdotnetpower.blogspot.co.uk/2011/06/textual-cue-for-textbox-control.html)是您需要执行的操作的示例。

# java - 在 Eclipse 中查看 Java 项目的 Logger 输出

> ID：15964497
> 
> 赞同：3
> 
> 时间：2013-04-12T06:25:58.140
> 
> 标签：java, eclipse, logging

在我的一个 elcpse 项目中，我遇到了这个与记录器相关的片段，我注意到它来自 slf4j 库。

```
private static final Logger logger = LoggerFactory
        .getLogger(someclass.class); 
```

然后在代码的某些地方我注意到了这一点，

```
logger.debug("Found {} object",
            numberofobject); 
```

我的问题是，当我运行程序时，我看不到记录器输出，我如何在 Eclipse 中看到它？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-12T06:34:54.797

您需要正确配置 slf4j 的绑定。slf4j 只是一个门面，而不是一个日志工具。

从 1.6.0 开始，如果在类路径上没有找到绑定，那么 SL​​F4J 将默认为无操作实现。

[在此处查看](http://www.slf4j.org/manual.html)有关如何配置 slf4j的官方手册。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-12T06:43:30.517

1.  您需要在实现 slf 的项目中添加一个日志库（正如 Burkhard 提到的）

2.  您需要配置您选择的记录器以将调试消息记录到控制台（例如使用 log4j 中的控制台附加程序）

# php - 在 php 文件中加载整个 html 脚本

> ID：15964503
> 
> 赞同：0
> 
> 时间：2013-04-12T06:26:14.277
> 
> 标签：php, html, templating

提前为这个菜鸟问题道歉，但我必须做到完美。我制作了一个网站，所有的都是 html 文件，并且一切正常。现在对于会话处理，我必须将所有 html 文件转换为 php，例如

```
<!DOCTYPE HTML>
<html>
<head>
    <link type="text/css" rel="stylesheet" href="css/bootstrap-min.css"/>
</head>
<body>
  Body elements
</body>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
<script src="js/bootstrap.min.js"></script>
</body>
</html> 
```

类似于

```
<?php
  "SESSION HANDLING PHP CODING"

  echo '<!DOCTYPE HTML>
    <html>
    <head>
        <link type="text/css" rel="stylesheet" href="css/bootstrap-min.css"/>
    </head>
    <body>
      Body elements
    </body>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
    <script src="js/bootstrap.min.js"></script>
    </body>
    </html>'
?> 
```

希望得到最好的解决方案。谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-12T06:29:24.220

你不需要做回声，只需用“？>”关闭php标签：

```
<?php
//CODE
?>

Your Html Stuff 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-12T06:29:28.900

您真的不必这样做 - 您可以轻松混合 HTML 和 PHP。只需用`<?php`和`?>`标签包围代码：

```
<?php /* handle session here */ ?>
<!DOCTYPE HTML>
<html>
<head>
    <link type="text/css" rel="stylesheet" href="css/bootstrap-min.css"/>
</head>
<body>
  Body elements
  <?php echo $something_you_handled_earlier; ?>
</body>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
<script src="js/bootstrap.min.js"></script>
</body>
</html> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-12T06:33:53.910

您实际上[需要](http://www.php.net/manual/en/session.examples.basic.php)在`PHP`.

然后将逻辑 php 部分与其他答案中提到的 HTML 部分分开。

# ios - 保持 textview 的内容直到按下按钮

> ID：15964505
> 
> 赞同：0
> 
> 时间：2013-04-12T06:26:43.150
> 
> 标签：ios, textview

我一直在寻找代码来保留 textview 的内容，直到我单击同一页面上的后退按钮或完成按钮。但是当我给出代码时：

```
(void)textViewDidBeginEditing:(UITextView *)textView{
    myTextView.text = nil;
} 
```

每次（甚至在完成文本之前），如果我按下键盘的返回按钮并再次单击文本视图以键入其余部分，则已经存在的文本会被清除。

当第一次显示文本视图时，我保留了上面的代码以清除默认文本“*输入您的文本”。*

我一直在设置布尔值，但无法得到结果！请如果有人可以让我摆脱这个。提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-12T06:36:23.007

像这样做

```
(void)textViewDidBeginEditing:(UITextView *)textView{

if ([myTextView isEqualToString:@"Enter your text"]) {
    myTextView.text = nil;
    }

} 
```

此代码将检查您的文本是否等于`Enter your text`，如果等于，它将清除，否则不。

# asp.net - RadDock 和 Chrome 版本 26.0.1410.43 Massive Slow Down 问题

> ID：15964506
> 
> 赞同：0
> 
> 时间：2013-04-12T06:26:43.677
> 
> 标签：asp.net, ajax, telerik

我正在使用 RadDock 打开一个弹出窗口。当我发回任何下拉列表时，它会挂起一段时间，一段时间后我正在检索其他字段的数据。这个问题只在这个新版本的 chrome 上，在以前的版本中它工作得很好。而且它与其他所有浏览器都可以正常工作。

任何人都可以知道发生了什么吗？

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-16T12:52:22.397

这是 Chrome 中的一个错误：[http](http://www.telerik.com/community/forums/aspnet-ajax/general-discussions/google-chrome-26-performance-issue.aspx) ://www.telerik.com/community/forums/aspnet-ajax/general-discussions/google-chrome-26-performance-issue.aspx ，希望他们能在下一个版本中修复它.

# c# - 在 ajax 请求中获取不正确的 json 响应

> ID：15964513
> 
> 赞同：1
> 
> 时间：2013-04-12T06:27:07.110
> 
> 标签：c#, jquery, ajax, json, jsonp

我需要发送大字节数组作为 REST 服务对 ajax 请求的响应。我正在创建列表：

```
List<List<Byte>> list = new List<List<byte>>(); 
```

在这里，内部列表每个将有 1000 个字节。这是代码：

```
int cnt = 0;
List<Byte> innerList = new List<Byte>();

for (int i = 0; i < fileBytes.Length; i++)
{
    if (cnt < 1000)
    {
        Byte b = fileBytes[i];
        innerList.Add(b);
        cnt++;
        if (i == fileBytes.Length - 1)
        {
            list.Add(innerList);
                        log.Debug("Remaining:");
                        log.Debug("List: " + list.Count);
                        log.Debug("innerList: " + innerList.Count);
        }
    }
    else
    {
        list.Add(innerList);
                log.Debug("Remaining:");
                log.Debug("List: " + list.Count);
                log.Debug("innerList: " + innerList.Count);
        innerList.Clear();
        cnt = 0;
    }
}

return list; 
```

现在，根据`log`，我的总数`list`为 503，前 502 个每个有 1000 个计数（这将是`innerList`）& 在第 503 个中，子列表包含`54`字节。

这是我的ajax请求：

```
$.ajax({
                type: "GET",
                dataType: "jsonp",
                contentType: "jsonp", 
                data: dd,
                crossDomain: true,
                jsonp: "callback",
                url: "http://xxx.xxx.xxx.xx/MyWebService/WebService.svc/MyMethod",
                success: function (data) {
                    console.log(data);
                },
                complete: function (request, textStatus) { //for additional info
                    alert(request.responseText);
                    alert(textStatus);
                },
                error: function(request, textStatus, errorThrown) {
                    alert(textStatus);
                  }
            }); 
```

请求成功完成，但`firebug`我注意到，我作为每个具有（！）键的 json 集合`data`进入。我想我应该在 & 中的第一个 json 中获得密钥，只有在第 503 次我才能获得 54 个密钥。我错过了什么吗？`success``503``54``1000``502``data`

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-12T06:37:38.633

因为您使用了相同的实例，`innerList` 它最后是 54 字节长。尝试创建新实例。

例如，代替`innerList.Clear();`, 尝试`innerList = new List<Byte>();`

* * *

编辑

由于您将文件内容作为 json 传递，我猜性能不是您主要关心的问题。如果是这样，您可以使用下面的Linq（有副作用），它更短且不易出错

```
int cnt = 0;
List<List<byte>> chunks = fileBytes
                            .GroupBy(x => cnt++ / 1000)
                            .Select(x => x.ToList())
                            .ToList(); 
```

# iphone - 从 iphone 真实设备拍摄的图片在 iphone 中以缩略图显示的图像花费太长时间

> ID：15964514
> 
> 赞同：1
> 
> 时间：2013-04-12T06:27:14.520
> 
> 标签：iphone, ios

我是电话编程的新手。我将图像存储在数组中然后使用下面的代码我在缩略图中显示图像它的工作速度非常快。如果同样认为我已经将图像存储在数据库中并检索图像并存储在数组中然后使用下面的代码我正在缩略图中显示图像，显示缩略图图像需要很长时间。

```
 arrayz = [NSMutableArray arrayWithObjects:[UIImage imageNamed:@"image3.jpg"],
             [UIImage imageNamed:@"image4.jpg"],
             [UIImage imageNamed:@"image5.jpg"],
             [UIImage imageNamed:@"image3.jpg"],

             [UIImage imageNamed:@"image5.jpg"],
             [UIImage imageNamed:@"image4.jpg"],
             [UIImage imageNamed:@"image2.jpg"],
             [UIImage imageNamed:@"image3.jpg"],
             [UIImage imageNamed:@"image2.jpg"],
             [UIImage imageNamed:@"image5.jpg"],

             nil];

    NSLog(@"%i" , [arrayz count]);
    NSLog(@"%@",arrayz);

    myScrollView = [[UIScrollView alloc]initWithFrame:CGRectMake(0.0, 0.0, 320.0, 840.0)];
    myScrollView.delegate = self;
    myScrollView.contentSize = CGSizeMake(320.0, 840.0);
    myScrollView.backgroundColor = [UIColor whiteColor];
    [self.view addSubview:myScrollView];

    float horizontal = 8.0;
    float vertical = 8.0;

    for(int i=0; i<[arrayz count]; i++)
    {
        if((i%4) == 0 && i!=0)
        {
            horizontal = 8.0;
            vertical = vertical + 70.0 + 8.0;
        }
        buttonImage1 = [UIButton buttonWithType:UIButtonTypeCustom];
        [buttonImage1 setFrame:CGRectMake(horizontal, vertical, 70.0, 70.0)];
        [buttonImage1 setTag:i];

        [buttonImage1 setImage:[arrayz objectAtIndex:i] forState:UIControlStateNormal];
        [buttonImage1 addTarget:self action:@selector(buttonImagePressed:) forControlEvents:UIControlEventTouchUpInside];
        [buttonImage1 setImage:[UIImage imageNamed:@"Overlay.png"] forState:UIControlStateSelected];
        buttonImage = [UIButton buttonWithType:UIButtonTypeCustom];
        [buttonImage setFrame:CGRectMake(horizontal, vertical, 70.0, 70.0)];
        [buttonImage setTag:i];

        [buttonImage setImage:[arrayz objectAtIndex:i] forState:UIControlStateNormal];
        [buttonImage addTarget:self action:@selector(buttonImagePressed:) forControlEvents:UIControlEventTouchUpInside];
        [buttonImage setImage:[UIImage imageNamed:@"Overlay.png"] forState:UIControlStateSelected];

        // UIImageView *imageee=[[UIImageView alloc]initWithFrame:CGRectMake(10,10, 80,80)];
        // [buttonImage setImage:[UIImage imageNamed:@"check.jpg"]];

        // [buttonImage setImage:imageee forState:UIControlStateSelected];
        // [buttonImage setImage:button.currentImage forState:UIControlStateNormal];

        [myScrollView addSubview:buttonImage1];
        [myScrollView addSubview:buttonImage];

        horizontal = horizontal + 70.0 + 8.0;
          [myScrollView setContentSize:CGSizeMake(320.0, vertical + 78.0)];
        }

    // Do any additional setup after loading the view, typically from a nib.
    self.navigationItem.leftBarButtonItem = self.editButtonItem;
    //  UIBarButtonItem *done =[[UIBarButtonItem alloc]initWithBarButtonSystemItem:UIBarButtonItemStyleDone target:self action:nil];
    UIBarButtonItem *done = [[UIBarButtonItem alloc] initWithBarButtonSystemItem:UIBarButtonSystemItemDone target:self action:@selector(insertNewObject:)];
    self.navigationItem.rightBarButtonItem = done; 
```

下面的代码使用数据库我将图像存储在数组中，然后我在缩略图中显示图像。在缩略图中显示图像需要很长时间。

```
 NSString *docsDir;
    NSArray *dirPaths;

    // Get the documents directory
    dirPaths = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES);

    docsDir = [dirPaths objectAtIndex:0];
    array=[[NSMutableArray alloc]init];
    array1=[[NSMutableArray alloc]init];
    // array2=[[NSMutableArray alloc]init];

    // Build the path to the database file
    databasePath =  [docsDir stringByAppendingPathComponent: @"Taukydataaa.db"];
    //  NSLog(@"%@",databasePath);
    NSFileManager *fn=[NSFileManager defaultManager];
    NSError *error;
    BOOL success=[fn fileExistsAtPath:databasePath];

    if(!success) {

        NSString *defaultDBPath = [[[NSBundle mainBundle] resourcePath] stringByAppendingPathComponent:@"Taukydataaa.db"];
        success = [fn copyItemAtPath:defaultDBPath toPath:databasePath error:&error];
    }

    const char *dbpath = [databasePath UTF8String];

    sqlite3_stmt    *statement;

    if (sqlite3_open(dbpath, &contactDB) == SQLITE_OK)
    {

      NSString *querySQL = [NSString stringWithFormat: @"select * from path "];

        const char *query_stmt = [querySQL UTF8String];

        if (sqlite3_prepare_v2(contactDB, query_stmt, -1, &statement, NULL) == SQLITE_OK)
        {
            while(sqlite3_step(statement) == SQLITE_ROW)
            {

                NSString* email_idField = [[NSString alloc] initWithUTF8String:(const char *) sqlite3_column_text(statement,1)];
                //   NSLog(@"%@",email_idField);
                NSString* email_idField1 = [[NSString alloc] initWithUTF8String:(const char *) sqlite3_column_text(statement,0)];
                // NSLog(@"%@",email_idField1);

                //       NSString *email_idField2 = [[NSString alloc] initWithUTF8String:(const char *) sqlite3_column_text(statement,2)];
                NSLog(@"ASlma");

                NSLog(@"%@",email_idField1);
                [array addObject:email_idField];
                [array1 addObject:email_idField1];
                NSLog(@"%@",array);
                NSLog(@"%@",array1);
                //  [array1 addObject:email_idField1];
                //   [array2 addObject:email_idField2];

            }
            sqlite3_finalize(statement);
        }
        sqlite3_close(contactDB);

    }
    blaukypath =[[NSMutableArray alloc]init];
    for (NSString* path in array)
    {
        [blaukypath addObject:[UIImage imageWithContentsOfFile:path]];
        NSLog(@"%@",path);
    }
    NSLog(@"%@",blaukypath1);

    myScrollView = [[UIScrollView alloc]initWithFrame:CGRectMake(0.0, 0.0, 320.0, 840.0)];
    myScrollView.delegate = self;
    myScrollView.contentSize = CGSizeMake(320.0, 840.0);
    myScrollView.backgroundColor = [UIColor whiteColor];
    [self.view addSubview:myScrollView];

    float horizontal = 8.0;
    float vertical = 8.0;

    for(int i=0; i<[blaukypath count]; i++)
    {
        if((i%4) == 0 && i!=0)
        {
            horizontal = 8.0;
            vertical = vertical + 70.0 + 8.0;
        }
        buttonImage1 = [UIButton buttonWithType:UIButtonTypeCustom];
        [buttonImage1 setFrame:CGRectMake(horizontal, vertical, 70.0, 70.0)];
        [buttonImage1 setTag:i];

        [buttonImage1 setImage:[blaukypath objectAtIndex:i] forState:UIControlStateNormal];
        [buttonImage1 addTarget:self action:@selector(buttonImagePressed:) forControlEvents:UIControlEventTouchUpInside];
        [buttonImage1 setImage:[UIImage imageNamed:@"Overlay.png"] forState:UIControlStateSelected];
        buttonImage = [UIButton buttonWithType:UIButtonTypeCustom];
        [buttonImage setFrame:CGRectMake(horizontal, vertical, 70.0, 70.0)];
        [buttonImage setTag:i];

        [buttonImage setImage:[blaukypath objectAtIndex:i] forState:UIControlStateNormal];
        [buttonImage addTarget:self action:@selector(buttonImagePressed:) forControlEvents:UIControlEventTouchUpInside];
        [buttonImage setImage:[UIImage imageNamed:@"Overlay.png"] forState:UIControlStateSelected];

        // UIImageView *imageee=[[UIImageView alloc]initWithFrame:CGRectMake(10,10, 80,80)];
        // [buttonImage setImage:[UIImage imageNamed:@"check.jpg"]];

        // [buttonImage setImage:imageee forState:UIControlStateSelected];
        // [buttonImage setImage:button.currentImage forState:UIControlStateNormal];

        [myScrollView addSubview:buttonImage1];
        [myScrollView addSubview:buttonImage];

        horizontal = horizontal + 70.0 + 8.0;
          [myScrollView setContentSize:CGSizeMake(320.0, vertical + 78.0)];
        } 
```

我认为问题不在于数据库。主要的想法是，如果我从手机真实设备上拍摄图像，图像在缩略图中显示的时间太长。如果我拍摄一些图像并存储在数组中，在缩略图中显示的图像工作得非常快。 . 任何人都可以告诉我如何解决这个问题。谢谢阿斯拉姆

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-12T08:48:44.310

真实图像会有更大的尺寸，所以最好在使用前调整它们的大小。试试这个

```
UIImage *originalImage = your orginal Image
CGSize destinationSize = CGSizeMake(100, 120);// your destination thumbnail size

UIGraphicsBeginImageContext(destinationSize);
[originalImage drawInRect:CGRectMake(0,0,destinationSize.width,destinationSize.height)];
newImage = UIGraphicsGetImageFromCurrentImageContext();
UIGraphicsEndImageContext(); 
```

# asp.net - 在 ajax 日历扩展器中选择年份和月份名称

> ID：15964520
> 
> 赞同：0
> 
> 时间：2013-04-12T06:27:39.473
> 
> 标签：asp.net, sql-server-2008, calendarextender

我有一个文本框和一个日历扩展器控件，目标控件 id 属性设置为文本框。我使用格式“yyyy/MM”使日历只选择年份和月份而不是日期。所以日历中的每个条目都会像（2013/01,2013/02....等）。现在我必须在数据库中插入日历值。我在数据库 Year 和 MonthName 中有两个字段。现在我想要的是当我**单击提交按钮**时我希望我的文本框值的年份部分转到年份列和月份名称转到月份名称列。[假设在**2013/04**的情况下，2013 应该转到年份列，而 04 应该转换为 April 然后转到 MonthName]。如何才能做到这一点？？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-05-10T21:58:23.070

使用 ajax 日历扩展器（版本 3.5/4.0）是不可能做到这一点的。

您应该使用 JQuery UI 日历，查看 Ben Koehler 的回答： [jQuery UI DatePicker to show month year only](https://stackoverflow.com/questions/2208480/jquery-ui-datepicker-to-show-month-year-only)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-12T06:42:21.187

在 Insert 语句中，使用 LEFT(@calendar,4) 表示年份，使用 right(@Calendar,2) 表示月份。可能你必须将它转换为 int 取决于你的表设计

# opencv - 使用的最佳做法是什么？IplImage、CvMat 还是垫子？

> ID：15964523
> 
> 赞同：3
> 
> 时间：2013-04-12T06:27:49.533
> 
> 标签：opencv, image-processing

使用哪种最佳做法？IplImage、CvMat 还是垫子？

CvMat 和 Mat 是一样的吗？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-04-12T06:52:41.743

类型`IplImage`(C) 和`CvMat`(C++) 对应于旧版本的 OpenCV。由于遗留原因，它们仍然存在，尤其是`IplImage`网络上有许多代码示例。

如果你开始一个新的项目，你应该拥抱`cv::Mat`新的 C++ API，它带来了很多好处（垃圾收集、自动图像分配/释放、图像之间的数据共享、机器学习算法......）。该 API 也得到积极维护，而其他 API 可能会在某个时候消失。用 C 实现的算法也被移植到最近的 C++ API。

但是，如果您必须重用旧代码，您可以学习 的基础知识`IplImage`，并使用`cv::Mat`该工作的构造函数`IplImage`作为输入。

# git - Git表现得很奇怪

> ID：15964524
> 
> 赞同：0
> 
> 时间：2013-04-12T06:27:51.900
> 
> 标签：git, branch

我实际上将 git 用于一个项目。我的问题是 Git 表现得很奇怪（也许我错了，所以请告诉我）。所以我刚刚创建了一个分支：

```
git checkout -b my_branch 
```

我在该分支中创建了一个文件。但是当我回到我的主分支并执行以下操作时`git status`：

```
git checkout master
git status 
```

我可以在分支`my_branch`的未跟踪文件列表中看到我在 中创建的文件。`master`

Git是否通常假设不向我显示`my_branch`直到我合并的更改？

谢谢你的帮助

编辑 ：

感谢大家。事实上，我还没有添加我的文件，只是创建了它。因为你，现在更清楚了。干杯

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-12T06:31:40.460

您需要告诉 git 它实际上应该在您的`my_branch`分支中跟踪该文件。否则 git 会忽略它，这就是您在此处看到的。你应该阅读使用 git，有一本相当不错的免费书籍：[ProGit](http://git-scm.com/book)。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-12T06:31:50.993

顾名思义，*未跟踪的文件是未跟踪*的。因此，它不属于任何分支。只要它未被跟踪，它就会显示在`git status`每个分支的输出中。如果您将文件添加到活动分支，然后切换到另一个分支，您将看不到该文件。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-12T06:31:48.070

你刚刚创建了一个文件吧？你没有`git add`，`git commit`它在`my_branch`. 除非您提交该文件，否则该文件不是您所在分支的一部分，并且当您切换分支时，该文件仍将在工作目录中未跟踪。

这甚至适用于已经在 repo 中的文件。如果您对文件进行更改并切换分支，则更改仍然存在（除非分支之间发生冲突更改）

# css - CSS字体根本不起作用

> ID：15964529
> 
> 赞同：0
> 
> 时间：2013-04-12T06:28:03.150
> 
> 标签：css, font-face, webfonts

在我使用过的一个网站中`Ænigma Scrawl 4 BRK font(as it is showing in my photoshop font family box)`。现在我想在我的页面中使用相同的字体。所以为此我只是去了[FontSquiirel](http://www.fontsquirrel.com/tools/webfont-generator)网站生成 css 样式。在那里，我得到了带有不同扩展名的字体的 css 文件，例如`.svg, .ttf, .woff`. 我只是将所有字体粘贴到我的文件夹中，然后在我的 style.css 文件中使用相同的转换后的 css。生成的css是这样的

```
 font-family: 'nigma_scrawl_4_brkregular';
    src: url('aescrawl-webfont.eot');
    src: url('aescrawl-webfont.eot?#iefix') format('embedded-opentype'),
         url('aescrawl-webfont.woff') format('woff'),
         url('aescrawl-webfont.ttf') format('truetype'),
         url('aescrawl-webfont.svg#nigma_scrawl_4_brkregular') format('svg');
    font-weight: normal;
    font-style: normal; 
```

但毕竟我的字体样式没有改变。我正在检查 Firefox 和 chrome。我已清除浏览器中的所有缓存和 cookie。有人可以告诉我这里有什么问题吗？任何帮助和建议都将不胜感激。谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-12T06:32:47.450

```
@font-face {
font-family: 'nigma_scrawl_4_brkregular';
.
.
.
.
font-style: normal;

} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-12T07:20:45.813

尝试这个

```
@font-face{
    font-family : "myCustomFont";
    src:url(aescrawl-webfont.ttf);
}

body{
    font-family:"myCustomFont", Arial;
} 
```

# javascript - 拉斐尔弧形动画正在变形而不是跟随弧形路径

> ID：15964530
> 
> 赞同：2
> 
> 时间：2013-04-12T06:28:11.193
> 
> 标签：javascript, animation, svg, raphael

我已经能够使用此代码成功地沿弧线的路径制作弧线动画

```
var archtype = Raphael("canvas", 200, 100);
archtype.customAttributes.arc = function (xloc, yloc, value, total, R) {
    var alpha = 360 / total * value,
        a = (90 - alpha) * Math.PI / 180,
        x = xloc + R * Math.cos(a),
        y = yloc - R * Math.sin(a),
        path;
    if (total == value) {
        path = [
            ["M", xloc, yloc - R],
            ["A", R, R, 0, 1, 1, xloc - 0.01, yloc - R]
        ];
    } else {
        path = [
            ["M", xloc, yloc - R],
            ["A", R, R, 0, +(alpha > 180), 1, x, y]
        ];
    }
    return {
        path: path
    };
};

//make an arc at 50,50 with a radius of 30 that grows from 0 to 40 of 100 with a bounce
var my_arc = archtype.path().attr({
    "stroke": "#f00",
    "stroke-width": 14,
    arc: [50, 50, 0, 100, 30]
});

my_arc.animate({
    arc: [50, 50, 40, 100, 30]
}, 1500, "bounce"); 
```

使用此代码的唯一问题是我需要在页面上有多个画布元素，并且我不想`archtype.customAttributes.arc`在同一页面上定义 10 次。

为了解决这个问题，我以为我可以这样做......

```
function arc (xloc, yloc, value, total, R) {
        var alpha = 360 / total * value,
            a = (90 - alpha) * Math.PI / 180,
            x = xloc + R * Math.cos(a),
            y = yloc - R * Math.sin(a),
            path;
        if (total == value) {
            path = [
                ["M", xloc, yloc - R],
                ["A", R, R, 0, 1, 1, xloc - 0.01, yloc - R]
            ];
        } else {
            path = [
                ["M", xloc, yloc - R],
                ["A", R, R, 0, +(alpha > 180), 1, x, y]
            ];
        }
        return path;
    }
var path = arc(50, 50, 0, 100, 30);
var my_arc = archtype.path().attr({
    "stroke": "#f00",
    "stroke-width": 14,
    path:path
});

var path = arc(50, 50, 40, 100, 30);
my_arc.animate({
    path:path
}, 1500, "bounce"); 
```

然而，当我尝试这样做时，弧的末端会以最直的路径到达新的端点，从而导致扭曲、变形效果。

任何人都可以解释为什么我的示例会这样做并建议我解决这个问题，而无需为页面上我需要的每个画布声明自定义属性？我做出与`arc: [50, 50, 0, 100, 30]`相同的假设是不正确的`path: path`吗？

谢谢您的帮助。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-02-03T13:36:13.657

我不能给出一个有根据的答案，但通过调整这个例子解决了我的问题：http: [//jsfiddle.net/7jHPv/5/](http://jsfiddle.net/7jHPv/5/)在这个问题中引用：[Animating an arc in Raphael JS wobbles in Chrome](https://stackoverflow.com/questions/9361476/animating-an-arc-in-raphael-js-wobbles-in-chrome)

```
 var myArc = r.path().attr({
        "stroke": arcColours[i]
    ,   "stroke-width": 6
    ,   arc: [1, 100, muffinRadius, step*(i+1), diagramHeight/2]
    });

    myArc.animate({
        arc: [values[i], 100, muffinRadius, step*(i+1), diagramHeight/2]
    }, 1500, "<>", function() {
        // anim complete here
    }); 
```

# php - 结果数组值的PHP数组输出

> ID：15964531
> 
> 赞同：0
> 
> 时间：2013-04-12T06:28:13.027
> 
> 标签：php, arrays, function

下面是我的结果数组：

```
Array
(
    [0] => Array
    (
        [id] => 3
        [name] => test
    )

    [1] => Array
    (
        [id] => 4
        [name] => Balikavadhu
    )
) 
```

从上面的数组，我想生成一个新数组，如下所示：

```
array(3,4) // where 3 and 4 are id values of respective array 
```

任何帮助或快速回答将不胜感激。

提前致谢 ！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-12T06:34:01.773

还有一个选择：

```
 $newArray = [];

 foreach ($arrayResults as $result) {
  $newArray[] = $result['id'];
 } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-12T06:30:26.180

将您的输出数组放入一个名为 $arr 的数组中。然后这样做：

```
$newArr = array();
$id = 0;
foreach ($arr as $val)
{
   $newArr[$i] = $val['id'];
   $id++;
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-12T06:31:09.283

你可以做类似的事情

```
$newArray = [];

foreach ($arrayResults as $result) {
  array_push($newArray, $result['id']);
} 
```

# java - JBoss-as:deploy 不注入 ${buildNumber}

> ID：15964533
> 
> 赞同：3
> 
> 时间：2013-04-12T06:28:17.970
> 
> 标签：java, maven, jboss, buildnumber-maven-plugin

我在“jboss-as:deploy”收到此错误：

```
[INFO] Building war: E:\git-repos\GUI4Leader\gui4leader\target\gui4leader-SNAPSHOT-0.6.16-12.04.13-08_09.war
[INFO] WEB-INF\web.xml already added, skipping
[INFO] 
[INFO] <<< jboss-as-maven-plugin:7.4.Final:deploy (default-cli) @ gui4leader <<<
[INFO] 
[INFO] --- jboss-as-maven-plugin:7.4.Final:deploy (default-cli) @ gui4leader ---
Apr 12, 2013 8:09:34 AM org.xnio.Xnio <clinit>
INFO: XNIO Version 3.0.7.GA
Apr 12, 2013 8:09:34 AM org.xnio.nio.NioXnio <clinit>
INFO: XNIO NIO Implementation Version 3.0.7.GA
Apr 12, 2013 8:09:34 AM org.jboss.remoting3.EndpointImpl <clinit>
INFO: JBoss Remoting version 3.2.12.GA
[INFO] ------------------------------------------------------------------------
[INFO] BUILD FAILURE
[INFO] ------------------------------------------------------------------------
[INFO] Total time: 31.910s
[INFO] Finished at: Fri Apr 12 08:09:37 CEST 2013
[INFO] Final Memory: 21M/299M
[INFO] ------------------------------------------------------------------------
[ERROR] Failed to execute goal org.jboss.as.plugins:jboss-as-maven-plugin:7.4.Final:deploy (default-cli) on project gui4leader: Error executing FORCE_DEPLOY: E:\git-repos\GUI4Leader\gui4leader\target\gui4leader-SNAPSHOT-0.6.${buildNumber}-12.04.13-08_09.war (Das System kann die angegebene Datei nicht finden) -> [Help 1]
[ERROR] 
[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.
[ERROR] Re-run Maven using the -X switch to enable full debug logging.
[ERROR] 
[ERROR] For more information about the errors and possible solutions, please read the following articles:
[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException 
```

在 pom.xml 我有 buildnumber-maven-plugin：

```
<plugin>
<groupId>org.codehaus.mojo</groupId>
<artifactId>buildnumber-maven-plugin</artifactId>
<version>1.1</version>
<executions>
    <execution>
        <phase>validate</phase>
        <goals>
            <goal>create</goal>
        </goals>
        </execution>
</executions>
<configuration>
    <doCheck>false</doCheck>
    <doUpdate>true</doUpdate>
    <format>{0,number}</format>
    <items>
        <item>buildNumber0</item>
    </items>
</configuration>
</plugin> 
```

和 jboss-as-maven-plugin 插件

```
<plugin>
<groupId>org.jboss.as.plugins</groupId>
    <artifactId>jboss-as-maven-plugin</artifactId>
    <version>${version.jboss.maven.plugin}</version>
    <configuration>
        <!-- <filename>${project.build.finalName}.${project.packaging}</filename> -->
    <!-- <filename>${project.artifactId}-${project.version}.${buildNumber}-${maven.build.timestamp}.${project.packaging}</filename> -->
    </configuration>
</plugin> 
```

我尝试了您可以在评论中找到的所有内容。但没有任何帮助。我想也许我需要编辑 buildnumber-maven-plugin 的阶段，但我不是 maven 专家。有人知道如何解决这个问题吗？

# java - java中私有静态对象的用法？

> ID：15964536
> 
> 赞同：1
> 
> 时间：2013-04-12T06:28:26.790
> 
> 标签：java

有人可以让我知道我们需要在 java 中使用私有静态对象的地方吗？

我的意思是关于使用它们的原因或我们需要使用它们的用例。

谢谢， 凯瑟尔

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-12T06:32:36.540

另一个常见的用途是单例模式： [http ://en.wikipedia.org/wiki/Singleton_pattern](http://en.wikipedia.org/wiki/Singleton_pattern)

```
public class Singleton {
    private static final Singleton instance = new Singleton();

    private Singleton() {}

    public static Singleton getInstance() {
        return instance;
    }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-12T06:31:11.303

一个常见的例子是记录器。

```
private final static Logger LOGGER = Logger.getLogger(Something.class); 
```

甚至对于类的本地常量。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-12T06:32:59.123

来自 JDK 的示例：

```
public class HashSet<E>
    extends AbstractSet<E>
    implements Set<E>, Cloneable, java.io.Serializable
{
    static final long serialVersionUID = -5024744406713321676L;

    private transient HashMap<E,Object> map;

    // Dummy value to associate with an Object in the backing Map
    private static final Object PRESENT = new Object();
... 
```

# iphone - 将图像上传到 json 服务器发送空 NSUrlRequest

> ID：15964537
> 
> 赞同：1
> 
> 时间：2013-04-12T06:28:31.757
> 
> 标签：iphone, json

我正在尝试将图像上传到 json 服务器，但 url 请求为空。下面是我正在使用的代码。

```
-(void)imagePickerController:(UIImagePickerController *)picker didFinishPickingMediaWithInfo:(NSDictionary *)info
{

UIImage *imageToScale=[info objectForKey:UIImagePickerControllerOriginalImage];
UIImage *img = imageToScale;
//NSLog(@"finalImage---------------------------------%@",self.finalImage);
NSData *imageData = UIImageJPEGRepresentation(img, 0.40);

profileImg = profilePic;

NSArray *arrImg = [profileImg componentsSeparatedByString:@"/"];
NSString *strImg1 = [arrImg objectAtIndex:[arrImg count]-2];
NSString *strImg2 = [arrImg lastObject];
NSLog(@"img2-----------------%@",strImg2);
NSString *pImg = [NSString stringWithFormat:@"%@%@",strImg1, strImg2];
NSLog(@"img-----------------%@",pImg);
NSString *urlString = [NSString stringWithFormat:@"http://www.funnyghg.co/overheadPost.php?userId=%@&type=Photo&text=Demo test&image=%@&location=Chandigarh&Upload=Upload", uid, pImg];
NSLog(@"url :%@", urlString);
// setting up the request object now
NSMutableURLRequest *request = [[NSMutableURLRequest alloc] init];
[request setURL:[NSURL URLWithString:urlString]];
[request setHTTPMethod:@"POST"];

NSString *boundary = @"---------------------------14737809831466499882746641449";
NSString *contentType = [NSString stringWithFormat:@"multipart/form-data; boundary=%@",boundary];
[request addValue:contentType forHTTPHeaderField: @"Content-Type"];

/*
 now lets create the body of the post
 */
NSMutableData *body = [NSMutableData data];
[body appendData:[[NSString stringWithFormat:@"\r\n--%@\r\n",boundary] dataUsingEncoding:NSUTF8StringEncoding]];
[body appendData:[[NSString stringWithFormat:@"Content-Disposition: form-data; name=\"userfile\";filename=\"1.jpg\"\r\n"] dataUsingEncoding:NSUTF8StringEncoding]];
[body appendData:[@"Content-Type: application/octet-stream\r\n\r\n" dataUsingEncoding:NSUTF8StringEncoding]];
[body appendData:[NSData dataWithData:imageData]];
[body appendData:[[NSString stringWithFormat:@"\r\n--%@--\r\n",boundary] dataUsingEncoding:NSUTF8StringEncoding]];
// setting the body of the post to the reqeust
[request setHTTPBody:body];

// now lets make the connection to the web
NSData *returnData = [NSURLConnection sendSynchronousRequest:request returningResponse:nil error:nil];
NSString *returnString = [[NSString alloc] initWithData:returnData encoding:NSUTF8StringEncoding];

NSLog(@"returnString------------%@",returnString);

[self dismissModalViewControllerAnimated:YES];
[appDelegate showAllNavItems];
[appDelegate navFrame];

if([returnString isEqualToString:@"true"])
{

    if([profile isEqualToString:@"friend"])
    {
        [self callServerFriend];
    }
    if([profile isEqualToString:@"public"])
    {
        [self callServerPublic];
    }
}
} 
```

请指导以上。提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-12T08:04:02.947

这是因为在您的代码中，在 Demo 和 test 之间的 urlString 中有一个空格。请删除它。

**前 ：**

```
NSString *urlString = [NSString stringWithFormat:@"http://www.funnyghg.co/overheadPost.php?userId=%@&type=Photo&text=Demo test&image=%@&location=Chandigarh&Upload=Upload", uid, pImg]; 
```

NSLog(@"url :%@", urlString);

**后 ：**

```
NSString *urlString = [NSString stringWithFormat:@"http://www.funnyghg.co/overheadPost.php?userId=%@&type=Photo&text=Demotest&image=%@&location=Chandigarh&Upload=Upload", uid, pImg]; 
```

NSLog(@"url :%@", urlString);

我希望它现在可以工作。

# spring - spring hibernate hibernate.connection.provider_class 没有被调用

> ID：15964546
> 
> 赞同：2
> 
> 时间：2013-04-12T06:28:52.227
> 
> 标签：spring, hibernate, connection-pooling

我在我的应用程序中使用 spring 3 和 hibernate 3.x 和 mule 3.x。我的配置文件是

```
<spring:bean id="sessionFactory"
            class="org.springframework.orm.hibernate3.annotation.AnnotationSessionFactoryBean">
            <spring:property name="dataSource" ref="dataSource" />
            <spring:property name="packagesToScan" value="${hibernate.packagesToScan}" />
            <spring:property name="eventListeners">
                <spring:map>
                    <spring:entry key="pre-insert">
                        <spring:bean
                            class="com.myapp.listener.PreInsertOrUpdateEventListener"
                            id="preInsertOrUpdateEventListener" />
                    </spring:entry>
                    <spring:entry key="pre-update">
                        <spring:bean
                            class="com.myapp.listener.PreInsertOrUpdateEventListener"
                            id="preInsertOrUpdateEventListener" />
                    </spring:entry>
                </spring:map>
            </spring:property>
            <spring:property name="hibernateProperties">
                <spring:props>
                    <spring:prop key="hibernate.dialect">${hibernate.dialect}</spring:prop>
                    <spring:prop key="hibernate.show_sql">${hibernate.show_sql}</spring:prop>
                    <spring:prop key="hibernate.hbm2ddl.auto">${hibernate.hbm2ddl.auto}
                    </spring:prop>
                    <spring:prop key="hibernate.temp.use_jdbc_metadata_defaults">${hibernate.temp.use_jdbc_metadata_defaults}
                    </spring:prop>
                    <spring:prop key="hibernate.connection.provider_class">${hibernate.connection.provider_class}
                    </spring:prop>
                    <spring:prop key="hibernate.dbcp.initialSize">${hibernate.dbcp.initialSize}
                    </spring:prop>
                    <spring:prop key="hibernate.dbcp.maxActive">${hibernate.dbcp.maxActive}
                    </spring:prop>
                    <spring:prop key="hibernate.dbcp.maxIdle">${hibernate.dbcp.maxIdle}
                    </spring:prop>
                    <spring:prop key="hibernate.dbcp.minIdle">${hibernate.dbcp.minIdle}
                    </spring:prop>
                </spring:props>
            </spring:property>
        </spring:bean>

<spring:bean id="dataSource" name="dataSource"
            class="org.apache.commons.dbcp.BasicDataSource">
            <spring:property name="driverClassName" value="${db.driverClassName}" />
            <spring:property name="url" value="${db.url}" />
            <spring:property name="username" value="${db.username}" />
            <spring:property name="password" value="${db.password}" />
        </spring:bean> 
```

我想调用我的自定义连接提供程序类进行连接池，但它没有被调用。谁能告诉我是什么问题..

谢谢你。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-30T12:59:14.080

`AnnotationSessionFactoryBean`并`LocalSessionFactoryBean`用提供的弹簧替换连接提供者`LocalDataSourceConnectionProvider`。所以要么你必须使用它，要么`LocalSessionFactoryBean`通过扩展它来创建你自己的定制。

检查`LocalSessionFactoryBean`源代码以查看其设置`connectionProvider`值的方式。

希望能帮助到你。我也在寻找一个好的解决方案。

# ios - 如何将 MKMapPoint 转换为 CGPoint

> ID：15964549
> 
> 赞同：0
> 
> 时间：2013-04-12T06:29:06.093
> 
> 标签：ios, ipad, ios5, mkmapview

谁能解释如何将 MKMapPoint 转换为 CGPoint ？我需要在 UIView 上使用纬度和经度绘制路径。

* * *

## 回答 #1

> 赞同：16
> 
> 时间：2014-07-23T01:33:29.853

接受的答案将 CLLocationCoordinate2D 转换为 CGPoint，这不是实际问题中所要求的。对于那些在这里寻找完整答案的人来说，它是：

```
MKMapPoint mapPoint = MKMapPointMake(22.1, 34.4);//example

//first convert MKMapPoint to CLLocationCoordinate2D
CLLocationCoordinate2D mapPointCoordinate = MKCoordinateForMapPoint(mapPoint);

//second convert CLLocationCoordinate2D to CGPoint
CGPoint pointAsCGPoint = [self.mapView convertCoordinate: mapPointCoordinate toPointToView: self.mapView]; 
```

* * *

## 回答 #2

> 赞同：-2
> 
> 时间：2013-04-12T06:31:21.400

更新答案.......

```
CGPoint newCenter = [self.mapView convertCoordinate:coordinates toPointToView:self.mapView]; 
```

# android - 如何获取android系统默认主页应用程序的名称

> ID：15964550
> 
> 赞同：4
> 
> 时间：2013-04-12T06:29:07.463
> 
> 标签：android

如果我的手机安装了3-4个家庭（启动器）应用程序，当我按下home键时，它会显示一个对话框来显示我手机上安装的家庭应用程序，然后我会选择一个作为默认值。我的问题是：我可以通过代码获取默认家庭应用程序的包名？

解决它，使用follow api。

```
public abstract int getPreferredActivities (List<IntentFilter> outFilters, List<ComponentName> outActivities, String packageName) 
```

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-04-12T06:50:25.153

您是否看过： [PackageManager.resolveActivity()](http://developer.android.com/reference/android/content/pm/PackageManager.html#resolveActivity%28android.content.Intent,%20int%29)，

```
Intent intent= new Intent(Intent.ACTION_MAIN);
intent.addCategory(Intent.CATEGORY_HOME);
ResolveInfo defaultLauncher= getPackageManager().resolveActivity(intent, PackageManager.MATCH_DEFAULT_ONLY);
String nameOfLauncherPkg= defaultLauncher.activityInfo.packageName; 
```

确保您使用 HOME 意图，因为很明显，您将在家中安装启动器。

没用过，但你可以用另一个标志试试，即

`PackageManager.GET_INTENT_FILTERS`代替

```
PackageManager.MATCH_DEFAULT_ONLY 
```

> **最终解决方案：**

**API 包管理器，**

```
public abstract int getPreferredActivities (List<IntentFilter> outFilters,List<ComponentName> outActivities, String packageName) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-10-15T13:07:42.413

这是一个返回包含设备上所有家庭应用程序的字符串数组的方法：

```
public String[] getDefaultLauncherList() {
    final Intent intent = new Intent(Intent.ACTION_MAIN); 
    intent.addCategory(Intent.CATEGORY_HOME); 
    final List<ResolveInfo> list = ((PackageManager)getPackageManager()).queryIntentActivities(intent, 0);      
    String[] toReturn=new String[list.size()];
    for(int i=0;i<list.size();i++)
        toReturn[i]=list.get(i).activityInfo.packageName;
    return toReturn;     
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-03-01T14:49:17.157

这是我使用的一种方法：

```
private String nameOfHomeApp()
    {
        try {
            Intent i = new Intent(Intent.ACTION_MAIN);
            i.addCategory(Intent.CATEGORY_HOME);
            PackageManager pm = getPackageManager();
            final ResolveInfo mInfo = pm.resolveActivity(i, PackageManager.MATCH_DEFAULT_ONLY);
            return mInfo.activityInfo.packageName;
        }
        catch(Exception e)
        {
            return "";
        }

    } 
```

# java - 文档没有页面。贾斯珀报告

> ID：15964552
> 
> 赞同：3
> 
> 时间：2013-04-12T06:29:13.790
> 
> 标签：java, swing, sql-server-2005, jasper-reports, netbeans-7

我在寻找解决此问题的方法时遇到问题。我的代码在运行后运行良好。它假设将我的 sql 数据库中的数据显示到我的 jtable 中，并且有一个按钮会触发显示 jasper 报告，但有一点问题，它总是向我显示消息“文档没有页面”。这是为什么？有人可以在这里帮我解决我的问题吗？我做错了什么？

这是我的代码：

```
package stringmanipulation;
import java.sql.*;
import java.util.Vector;
import javax.swing.table.DefaultTableModel;
import net.sf.jasperreports.engine.JasperCompileManager;
import net.sf.jasperreports.engine.JasperFillManager;
import net.sf.jasperreports.engine.JasperPrint;
import net.sf.jasperreports.engine.JasperReport;
import net.sf.jasperreports.view.JasperViewer;
import org.apache.log4j.ConsoleAppender;
import org.apache.log4j.Logger;
import org.apache.log4j.PatternLayout;

public class r2xml extends javax.swing.JFrame {

    public r2xml() {
        initComponents();
    }

Connection con;
    private void search() throws Exception{
        Class.forName("sun.jdbc.odbc.JdbcOdbcDriver");
            String url = "jdbc:odbc:*****";
            String user = "******";
            String pass = "******";
            Connection con =  DriverManager.getConnection(url, user, pass);
            Statement state = con.createStatement();

            ResultSet rs = state.executeQuery("SELECT "
                    + "pIDNo AS 'Patient ID',"
                    + "pLName AS 'Last Name'," 
                    + "pFName AS 'First Name',"
                    + "pMI AS 'M.I.',"
                    + "pSex AS 'Sex',"
                    + "pStatus AS 'Status',"
                    + "pTelNo AS 'Contact No.',"
                    + "pDocID AS 'Doctor ID',"
                    + "pAddr AS 'St. No.',"
                    + "pStreet AS 'St. Name',"
                    + "pBarangay AS 'Barangay',"
                    + "pCity AS 'City',"
                    + " pProvince AS 'Province',"
                    + " pLNameKIN AS 'Last Name',"
                    + "pFNameKIN AS 'First Name',"
                    + "pMIKIN AS 'M.I.',"
                    + "pRelationKIN AS 'Relation',"
                    + "pTotalDue AS 'Total Due'"
                    + " FROM dbo.Patients");
            ResultSetMetaData rsmetadata = rs.getMetaData();
            int columns = rsmetadata.getColumnCount();
            DefaultTableModel dtm = new DefaultTableModel();
            Vector column_name = new Vector();
            Vector data_rows = new Vector();

            for (int i=1; i<columns;i++){
                column_name.addElement(rsmetadata.getColumnName(i));
            }
            dtm.setColumnIdentifiers(column_name);

            while(rs.next()){
                data_rows = new Vector();
                for (int j=1; j<columns; j++){
                data_rows.addElement(rs.getString(j));
                }
                dtm.addRow(data_rows);
            }
            tblPatient.setModel(dtm);
    }

    public void reportviewer() {

        try{

        String report = "C:\\Users\\cleanfuel\\Documents\\NetBeansProjects\\StringManipulation\\src\\stringmanipulation\\report1.jrxml";
        JasperReport jasp_report = JasperCompileManager.compileReport(report);
        JasperPrint jasp_print = JasperFillManager.fillReport(jasp_report, null, con);
        JasperViewer.viewReport(jasp_print);
        }
        catch (Exception e) {System.out.print(e);}
    }
    @SuppressWarnings("unchecked")

public static void main(String args[]) {
        PatternLayout pl = new PatternLayout("[%-5p] %C.%M:%L: %m%n");
        ConsoleAppender appender = new ConsoleAppender(pl);
        Logger.getRootLogger().addAppender(appender);

        java.awt.EventQueue.invokeLater(new Runnable() {

            public void run() {
                new r2xml().setVisible(true);
            }
        });
    } 
```

这是 XML 报告：

```
<?xml version="1.0" encoding="UTF-8"?>
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="null" language="groovy" pageWidth="842" pageHeight="595" orientation="Landscape" columnWidth="802" leftMargin="20" rightMargin="20" topMargin="20" bottomMargin="20">
    <property name="ireport.zoom" value="1.0"/>
    <property name="ireport.x" value="0"/>
    <property name="ireport.y" value="71"/>
    <style name="Title" forecolor="#FFFFFF" fontName="Times New Roman" fontSize="50" isBold="false" pdfFontName="Times-Bold"/>
    <style name="SubTitle" forecolor="#666666" fontName="Times New Roman" fontSize="18" isBold="false" pdfFontName="Times-Roman"/>
    <style name="Column header" forecolor="#666666" fontName="Times New Roman" fontSize="14" isBold="true" pdfFontName="Times-Roman"/>
    <style name="Detail" mode="Transparent" fontName="Times New Roman" pdfFontName="Times-Roman"/>
    <style name="Row" mode="Transparent" fontName="Times New Roman" pdfFontName="Times-Roman">
        <conditionalStyle>
            <conditionExpression><![CDATA[$V{REPORT_COUNT}%2 == 0]]></conditionExpression>
            <style mode="Opaque" backcolor="#F0EFEF"/>
        </conditionalStyle>
    </style>
    <subDataset name="PieChartDataset"/>
    <queryString language="SQL">
        <![CDATA[SELECT
     Patients."pIDNo" AS Patients_pIDNo,
     Patients."pLName" AS Patients_pLName,
     Patients."pFName" AS Patients_pFName,
     Patients."pMI" AS Patients_pMI,
     Patients."pSex" AS Patients_pSex,
     Patients."pStatus" AS Patients_pStatus,
     Patients."pTelNo" AS Patients_pTelNo,
     Patients."pDocID" AS Patients_pDocID,
     Patients."pAddr" AS Patients_pAddr,
     Patients."pStreet" AS Patients_pStreet,
     Patients."pBarangay" AS Patients_pBarangay,
     Patients."pCity" AS Patients_pCity,
     Patients."pProvince" AS Patients_pProvince,
     Patients."pLNameKIN" AS Patients_pLNameKIN,
     Patients."pFNameKIN" AS Patients_pFNameKIN,
     Patients."pMIKIN" AS Patients_pMIKIN,
     Patients."pRelationKIN" AS Patients_pRelationKIN,
     Patients."pTotalDue" AS Patients_pTotalDue
FROM
     "dbo"."Patients" Patients]]>
    </queryString>
    <field name="Patients_pIDNo" class="java.lang.String"/>
    <field name="Patients_pLName" class="java.lang.String"/>
    <field name="Patients_pFName" class="java.lang.String"/>
    <field name="Patients_pMI" class="java.lang.String"/>
    <field name="Patients_pSex" class="java.lang.String"/>
    <field name="Patients_pStatus" class="java.lang.String"/>
    <field name="Patients_pTelNo" class="java.lang.String"/>
    <field name="Patients_pDocID" class="java.lang.String"/>
    <field name="Patients_pAddr" class="java.lang.String"/>
    <field name="Patients_pStreet" class="java.lang.String"/>
    <field name="Patients_pBarangay" class="java.lang.String"/>
    <field name="Patients_pCity" class="java.lang.String"/>
    <field name="Patients_pProvince" class="java.lang.String"/>
    <field name="Patients_pLNameKIN" class="java.lang.String"/>
    <field name="Patients_pFNameKIN" class="java.lang.String"/>
    <field name="Patients_pMIKIN" class="java.lang.String"/>
    <field name="Patients_pRelationKIN" class="java.lang.String"/>
    <field name="Patients_pTotalDue" class="java.math.BigDecimal"/>
    <group name="Patients_pIDNo">
        <groupExpression><![CDATA[$F{Patients_pIDNo}]]></groupExpression>
        <groupHeader>
            <band height="31">
                <frame>
                    <reportElement mode="Opaque" x="72" y="7" width="730" height="24" forecolor="#B89F7D" backcolor="#70A9C6"/>
                    <textField isStretchWithOverflow="true" isBlankWhenNull="true">
                        <reportElement style="SubTitle" isPrintRepeatedValues="false" x="155" y="1" width="110" height="23" forecolor="#FFFFFF"/>
                        <textElement>
                            <font fontName="Arial" isBold="false" pdfFontName="Helvetica"/>
                        </textElement>
                        <textFieldExpression><![CDATA[$F{Patients_pIDNo}]]></textFieldExpression>
                    </textField>
                </frame>
            </band>
        </groupHeader>
        <groupFooter>
            <band height="6"/>
        </groupFooter>
    </group>
    <background>
        <band height="555" splitType="Stretch">
            <pie3DChart>
                <chart isShowLegend="false" evaluationTime="Report">
                    <reportElement x="-18" y="406" width="229" height="139"/>
                    <chartTitle/>
                    <chartSubtitle/>
                    <chartLegend/>
                </chart>
                <pieDataset>
                    <dataset>
                        <datasetRun subDataset="PieChartDataset">
                            <dataSourceExpression><![CDATA[new net.sf.jasperreports.engine.JREmptyDataSource(5)]]></dataSourceExpression>
                        </datasetRun>
                    </dataset>
                    <keyExpression><![CDATA[/* Replace with your key expression here */
$V{REPORT_COUNT}]]></keyExpression>
                    <valueExpression><![CDATA[new Double(200*Math.random()*5)]]></valueExpression>
                </pieDataset>
                <pie3DPlot>
                    <plot backgroundAlpha="0.5" foregroundAlpha="0.8">
                        <seriesColor seriesOrder="0" color="#3399FF"/>
                        <seriesColor seriesOrder="1" color="#00CCFF"/>
                        <seriesColor seriesOrder="2" color="#0066CC"/>
                        <seriesColor seriesOrder="3" color="#6699FF"/>
                        <seriesColor seriesOrder="4" color="#004A94"/>
                        <seriesColor seriesOrder="5" color="#00356A"/>
                    </plot>
                    <itemLabel color="#000000" backgroundColor="#FFFFFF"/>
                </pie3DPlot>
            </pie3DChart>
            <image>
                <reportElement x="-20" y="65" width="229" height="250">
                    <printWhenExpression><![CDATA[$V{PAGE_NUMBER} == 1]]></printWhenExpression>
                </reportElement>
                <imageExpression><![CDATA["flower1.png"]]></imageExpression>
            </image>
            <image>
                <reportElement x="-20" y="-20" width="229" height="250">
                    <printWhenExpression><![CDATA[$V{PAGE_NUMBER} > 1]]></printWhenExpression>
                </reportElement>
                <imageExpression><![CDATA["flower1.png"]]></imageExpression>
            </image>
            <staticText>
                <reportElement mode="Opaque" x="318" y="315" width="239" height="181" backcolor="#FFFFCC">
                    <printWhenExpression><![CDATA[Boolean.FALSE]]></printWhenExpression>
                </reportElement>
                <box topPadding="4" leftPadding="4" bottomPadding="4" rightPadding="4">
                    <pen lineWidth="1.0" lineColor="#CC9900"/>
                    <topPen lineWidth="1.0" lineColor="#CC9900"/>
                    <leftPen lineWidth="1.0" lineColor="#CC9900"/>
                    <bottomPen lineWidth="1.0" lineColor="#CC9900"/>
                    <rightPen lineWidth="1.0" lineColor="#CC9900"/>
                </box>
                <textElement>
                    <font size="12"/>
                </textElement>
                <text><![CDATA[Each chart is populated on each page.
The 3 pie charts are currently using an empty datasource and the values are
generated using a random generator.

This rectangle element is not printed (see the print when expression of this
element)]]></text>
            </staticText>
            <line>
                <reportElement x="201" y="431" width="117" height="1">
                    <printWhenExpression><![CDATA[Boolean.FALSE]]></printWhenExpression>
                </reportElement>
                <graphicElement>
                    <pen lineWidth="3.0" lineStyle="Dotted" lineColor="#996600"/>
                </graphicElement>
            </line>
            <staticText>
                <reportElement mode="Opaque" x="275" y="-10" width="240" height="181" backcolor="#FFFFCC">
                    <printWhenExpression><![CDATA[Boolean.FALSE]]></printWhenExpression>
                </reportElement>
                <box topPadding="4" leftPadding="4" bottomPadding="4" rightPadding="4">
                    <pen lineWidth="1.0" lineColor="#CC9900"/>
                    <topPen lineWidth="1.0" lineColor="#CC9900"/>
                    <leftPen lineWidth="1.0" lineColor="#CC9900"/>
                    <bottomPen lineWidth="1.0" lineColor="#CC9900"/>
                    <rightPen lineWidth="1.0" lineColor="#CC9900"/>
                </box>
                <textElement markup="none">
                    <font size="12"/>
                </textElement>
                <text><![CDATA[Flowers

There are two flowers, the first one is printed only starting from the second page, the other one only in the first page.]]></text>
            </staticText>
            <line>
                <reportElement x="72" y="37" width="204" height="1">
                    <printWhenExpression><![CDATA[Boolean.FALSE]]></printWhenExpression>
                </reportElement>
                <graphicElement>
                    <pen lineWidth="3.0" lineStyle="Dotted" lineColor="#996600"/>
                </graphicElement>
            </line>
        </band>
    </background>
    <title>
        <band height="94" splitType="Stretch">
            <staticText>
                <reportElement style="SubTitle" x="336" y="65" width="449" height="29"/>
                <textElement textAlignment="Right">
                    <font size="22" isBold="false"/>
                </textElement>
                <text><![CDATA[Hospital ]]></text>
            </staticText>
            <frame>
                <reportElement mode="Opaque" x="-20" y="0" width="822" height="65" forecolor="#006699" backcolor="#006699"/>
                <staticText>
                    <reportElement style="Title" x="231" y="0" width="578" height="65"/>
                    <textElement textAlignment="Right">
                        <font size="54" isBold="false"/>
                    </textElement>
                    <text><![CDATA[Patient Form]]></text>
                </staticText>
            </frame>
        </band>
    </title>
    <pageHeader>
        <band splitType="Stretch"/>
    </pageHeader>
    <columnHeader>
        <band height="14" splitType="Stretch">
            <frame>
                <reportElement x="210" y="0" width="575" height="14"/>
                <staticText>
                    <reportElement style="Column header" positionType="Float" x="99" y="0" width="33" height="14" forecolor="#000000"/>
                    <textElement>
                        <font fontName="Arial" size="12" isBold="true" pdfFontName="Helvetica"/>
                    </textElement>
                    <text><![CDATA[Patients_pSex]]></text>
                </staticText>
                <staticText>
                    <reportElement style="Column header" positionType="Float" x="132" y="0" width="33" height="14" forecolor="#000000"/>
                    <textElement>
                        <font fontName="Arial" size="12" isBold="true" pdfFontName="Helvetica"/>
                    </textElement>
                    <text><![CDATA[Patients_pStatus]]></text>
                </staticText>
                <staticText>
                    <reportElement style="Column header" positionType="Float" x="165" y="0" width="33" height="14" forecolor="#000000"/>
                    <textElement>
                        <font fontName="Arial" size="12" isBold="true" pdfFontName="Helvetica"/>
                    </textElement>
                    <text><![CDATA[Patients_pTelNo]]></text>
                </staticText>
                <staticText>
                    <reportElement style="Column header" positionType="Float" x="198" y="0" width="33" height="14" forecolor="#000000"/>
                    <textElement>
                        <font fontName="Arial" size="12" isBold="true" pdfFontName="Helvetica"/>
                    </textElement>
                    <text><![CDATA[Patients_pDocID]]></text>
                </staticText>
                <staticText>
                    <reportElement style="Column header" positionType="Float" x="231" y="0" width="33" height="14" forecolor="#000000"/>
                    <textElement>
                        <font fontName="Arial" size="12" isBold="true" pdfFontName="Helvetica"/>
                    </textElement>
                    <text><![CDATA[Patients_pAddr]]></text>
                </staticText>
                <staticText>
                    <reportElement style="Column header" positionType="Float" x="264" y="0" width="33" height="14" forecolor="#000000"/>
                    <textElement>
                        <font fontName="Arial" size="12" isBold="true" pdfFontName="Helvetica"/>
                    </textElement>
                    <text><![CDATA[Patients_pStreet]]></text>
                </staticText>
                <staticText>
                    <reportElement style="Column header" positionType="Float" x="297" y="0" width="33" height="14" forecolor="#000000"/>
                    <textElement>
                        <font fontName="Arial" size="12" isBold="true" pdfFontName="Helvetica"/>
                    </textElement>
                    <text><![CDATA[Patients_pBarangay]]></text>
                </staticText>
                <staticText>
                    <reportElement style="Column header" positionType="Float" x="330" y="0" width="33" height="14" forecolor="#000000"/>
                    <textElement>
                        <font fontName="Arial" size="12" isBold="true" pdfFontName="Helvetica"/>
                    </textElement>
                    <text><![CDATA[Patients_pCity]]></text>
                </staticText>
                <staticText>
                    <reportElement style="Column header" positionType="Float" x="363" y="0" width="33" height="14" forecolor="#000000"/>
                    <textElement>
                        <font fontName="Arial" size="12" isBold="true" pdfFontName="Helvetica"/>
                    </textElement>
                    <text><![CDATA[Patients_pProvince]]></text>
                </staticText>
                <staticText>
                    <reportElement style="Column header" positionType="Float" x="396" y="0" width="33" height="14" forecolor="#000000"/>
                    <textElement>
                        <font fontName="Arial" size="12" isBold="true" pdfFontName="Helvetica"/>
                    </textElement>
                    <text><![CDATA[Patients_pLNameKIN]]></text>
                </staticText>
                <staticText>
                    <reportElement style="Column header" positionType="Float" x="429" y="0" width="33" height="14" forecolor="#000000"/>
                    <textElement>
                        <font fontName="Arial" size="12" isBold="true" pdfFontName="Helvetica"/>
                    </textElement>
                    <text><![CDATA[Patients_pFNameKIN]]></text>
                </staticText>
                <staticText>
                    <reportElement style="Column header" positionType="Float" x="462" y="0" width="33" height="14" forecolor="#000000"/>
                    <textElement>
                        <font fontName="Arial" size="12" isBold="true" pdfFontName="Helvetica"/>
                    </textElement>
                    <text><![CDATA[Patients_pMIKIN]]></text>
                </staticText>
                <staticText>
                    <reportElement style="Column header" positionType="Float" x="495" y="0" width="33" height="14" forecolor="#000000"/>
                    <textElement>
                        <font fontName="Arial" size="12" isBold="true" pdfFontName="Helvetica"/>
                    </textElement>
                    <text><![CDATA[Patients_pRelationKIN]]></text>
                </staticText>
                <staticText>
                    <reportElement style="Column header" positionType="Float" x="528" y="0" width="33" height="14" forecolor="#000000"/>
                    <textElement>
                        <font fontName="Arial" size="12" isBold="true" pdfFontName="Helvetica"/>
                    </textElement>
                    <text><![CDATA[Patients_pTotalDue]]></text>
                </staticText>
            </frame>
            <staticText>
                <reportElement style="Column header" positionType="Float" x="0" y="0" width="72" height="14" forecolor="#000000"/>
                <textElement>
                    <font fontName="Arial" size="12" isBold="true" pdfFontName="Helvetica"/>
                </textElement>
                <text><![CDATA[ Last Name]]></text>
            </staticText>
            <staticText>
                <reportElement style="Column header" positionType="Float" x="72" y="0" width="65" height="14" forecolor="#000000"/>
                <textElement>
                    <font fontName="Arial" size="12" isBold="true" pdfFontName="Helvetica"/>
                </textElement>
                <text><![CDATA[First Name]]></text>
            </staticText>
            <staticText>
                <reportElement style="Column header" positionType="Float" x="137" y="0" width="74" height="14" forecolor="#000000"/>
                <textElement>
                    <font fontName="Arial" size="12" isBold="true" pdfFontName="Helvetica"/>
                </textElement>
                <text><![CDATA[Middle Initial]]></text>
            </staticText>
        </band>
    </columnHeader>
    <detail>
        <band height="15" splitType="Stretch">
            <line>
                <reportElement positionType="FixRelativeToBottom" x="227" y="14" width="575" height="1"/>
            </line>
            <frame>
                <reportElement x="226" y="0" width="575" height="14"/>
                <textField isStretchWithOverflow="true" isBlankWhenNull="true">
                    <reportElement style="Detail" positionType="Float" x="99" y="0" width="33" height="14"/>
                    <textElement>
                        <font fontName="Arial" size="12" isBold="false" pdfFontName="Helvetica"/>
                    </textElement>
                    <textFieldExpression><![CDATA[$F{Patients_pSex}]]></textFieldExpression>
                </textField>
                <textField isStretchWithOverflow="true" isBlankWhenNull="true">
                    <reportElement style="Detail" positionType="Float" x="132" y="0" width="33" height="14"/>
                    <textElement>
                        <font fontName="Arial" size="12" isBold="false" pdfFontName="Helvetica"/>
                    </textElement>
                    <textFieldExpression><![CDATA[$F{Patients_pStatus}]]></textFieldExpression>
                </textField>
                <textField isStretchWithOverflow="true" isBlankWhenNull="true">
                    <reportElement style="Detail" positionType="Float" x="165" y="0" width="33" height="14"/>
                    <textElement>
                        <font fontName="Arial" size="12" isBold="false" pdfFontName="Helvetica"/>
                    </textElement>
                    <textFieldExpression><![CDATA[$F{Patients_pTelNo}]]></textFieldExpression>
                </textField>
                <textField isStretchWithOverflow="true" isBlankWhenNull="true">
                    <reportElement style="Detail" positionType="Float" x="198" y="0" width="33" height="14"/>
                    <textElement>
                        <font fontName="Arial" size="12" isBold="false" pdfFontName="Helvetica"/>
                    </textElement>
                    <textFieldExpression><![CDATA[$F{Patients_pDocID}]]></textFieldExpression>
                </textField>
                <textField isStretchWithOverflow="true" isBlankWhenNull="true">
                    <reportElement style="Detail" positionType="Float" x="231" y="0" width="33" height="14"/>
                    <textElement>
                        <font fontName="Arial" size="12" isBold="false" pdfFontName="Helvetica"/>
                    </textElement>
                    <textFieldExpression><![CDATA[$F{Patients_pAddr}]]></textFieldExpression>
                </textField>
                <textField isStretchWithOverflow="true" isBlankWhenNull="true">
                    <reportElement style="Detail" positionType="Float" x="264" y="0" width="33" height="14"/>
                    <textElement>
                        <font fontName="Arial" size="12" isBold="false" pdfFontName="Helvetica"/>
                    </textElement>
                    <textFieldExpression><![CDATA[$F{Patients_pStreet}]]></textFieldExpression>
                </textField>
                <textField isStretchWithOverflow="true" isBlankWhenNull="true">
                    <reportElement style="Detail" positionType="Float" x="297" y="0" width="33" height="14"/>
                    <textElement>
                        <font fontName="Arial" size="12" isBold="false" pdfFontName="Helvetica"/>
                    </textElement>
                    <textFieldExpression><![CDATA[$F{Patients_pBarangay}]]></textFieldExpression>
                </textField>
                <textField isStretchWithOverflow="true" isBlankWhenNull="true">
                    <reportElement style="Detail" positionType="Float" x="330" y="0" width="33" height="14"/>
                    <textElement>
                        <font fontName="Arial" size="12" isBold="false" pdfFontName="Helvetica"/>
                    </textElement>
                    <textFieldExpression><![CDATA[$F{Patients_pCity}]]></textFieldExpression>
                </textField>
                <textField isStretchWithOverflow="true" isBlankWhenNull="true">
                    <reportElement style="Detail" positionType="Float" x="363" y="0" width="33" height="14"/>
                    <textElement>
                        <font fontName="Arial" size="12" isBold="false" pdfFontName="Helvetica"/>
                    </textElement>
                    <textFieldExpression><![CDATA[$F{Patients_pProvince}]]></textFieldExpression>
                </textField>
                <textField isStretchWithOverflow="true" isBlankWhenNull="true">
                    <reportElement style="Detail" positionType="Float" x="396" y="0" width="33" height="14"/>
                    <textElement>
                        <font fontName="Arial" size="12" isBold="false" pdfFontName="Helvetica"/>
                    </textElement>
                    <textFieldExpression><![CDATA[$F{Patients_pLNameKIN}]]></textFieldExpression>
                </textField>
                <textField isStretchWithOverflow="true" isBlankWhenNull="true">
                    <reportElement style="Detail" positionType="Float" x="429" y="0" width="33" height="14"/>
                    <textElement>
                        <font fontName="Arial" size="12" isBold="false" pdfFontName="Helvetica"/>
                    </textElement>
                    <textFieldExpression><![CDATA[$F{Patients_pFNameKIN}]]></textFieldExpression>
                </textField>
                <textField isStretchWithOverflow="true" isBlankWhenNull="true">
                    <reportElement style="Detail" positionType="Float" x="462" y="0" width="33" height="14"/>
                    <textElement>
                        <font fontName="Arial" size="12" isBold="false" pdfFontName="Helvetica"/>
                    </textElement>
                    <textFieldExpression><![CDATA[$F{Patients_pMIKIN}]]></textFieldExpression>
                </textField>
                <textField isStretchWithOverflow="true" isBlankWhenNull="true">
                    <reportElement style="Detail" positionType="Float" x="495" y="0" width="33" height="14"/>
                    <textElement>
                        <font fontName="Arial" size="12" isBold="false" pdfFontName="Helvetica"/>
                    </textElement>
                    <textFieldExpression><![CDATA[$F{Patients_pRelationKIN}]]></textFieldExpression>
                </textField>
                <textField isStretchWithOverflow="true" isBlankWhenNull="true">
                    <reportElement style="Detail" positionType="Float" x="528" y="0" width="33" height="14"/>
                    <textElement>
                        <font fontName="Arial" size="12" isBold="false" pdfFontName="Helvetica"/>
                    </textElement>
                    <textFieldExpression><![CDATA[$F{Patients_pTotalDue}]]></textFieldExpression>
                </textField>
            </frame>
            <textField isStretchWithOverflow="true" isBlankWhenNull="true">
                <reportElement style="Detail" positionType="Float" x="4" y="0" width="68" height="14"/>
                <textElement>
                    <font fontName="Arial" size="12" isBold="false" pdfFontName="Helvetica"/>
                </textElement>
                <textFieldExpression><![CDATA[$F{Patients_pLName}]]></textFieldExpression>
            </textField>
            <textField isStretchWithOverflow="true" isBlankWhenNull="true">
                <reportElement style="Detail" positionType="Float" x="72" y="1" width="65" height="14"/>
                <textElement>
                    <font fontName="Arial" size="12" isBold="false" pdfFontName="Helvetica"/>
                </textElement>
                <textFieldExpression><![CDATA[$F{Patients_pFName}]]></textFieldExpression>
            </textField>
            <textField isStretchWithOverflow="true" isBlankWhenNull="true">
                <reportElement style="Detail" positionType="Float" x="137" y="1" width="72" height="14"/>
                <textElement>
                    <font fontName="Arial" size="12" isBold="false" pdfFontName="Helvetica"/>
                </textElement>
                <textFieldExpression><![CDATA[$F{Patients_pMI}]]></textFieldExpression>
            </textField>
        </band>
    </detail>
    <columnFooter>
        <band height="7" splitType="Stretch">
            <line>
                <reportElement positionType="FixRelativeToBottom" x="0" y="3" width="555" height="1"/>
                <graphicElement>
                    <pen lineWidth="0.5" lineColor="#999999"/>
                </graphicElement>
            </line>
        </band>
    </columnFooter>
    <pageFooter>
        <band height="16" splitType="Stretch">
            <frame>
                <reportElement mode="Opaque" x="2" y="0" width="800" height="16" forecolor="#D0B48E" backcolor="#006699"/>
                <textField evaluationTime="Report">
                    <reportElement style="Column header" x="753" y="0" width="40" height="16" forecolor="#FFFFFF"/>
                    <textElement verticalAlignment="Middle">
                        <font fontName="Arial" size="12" isBold="false" pdfFontName="Helvetica"/>
                    </textElement>
                    <textFieldExpression><![CDATA[" " + $V{PAGE_NUMBER}]]></textFieldExpression>
                </textField>
                <textField>
                    <reportElement style="Column header" x="673" y="0" width="80" height="16" forecolor="#FFFFFF"/>
                    <textElement textAlignment="Right" verticalAlignment="Middle">
                        <font fontName="Arial" size="12" isBold="false" pdfFontName="Helvetica"/>
                    </textElement>
                    <textFieldExpression><![CDATA["Page "+$V{PAGE_NUMBER}+" of"]]></textFieldExpression>
                </textField>
                <textField pattern="EEEEE dd MMMMM yyyy">
                    <reportElement style="Column header" x="2" y="0" width="197" height="16" forecolor="#FFFFFF"/>
                    <textElement verticalAlignment="Middle">
                        <font fontName="Arial" size="12" isBold="false" pdfFontName="Helvetica"/>
                    </textElement>
                    <textFieldExpression><![CDATA[new java.util.Date()]]></textFieldExpression>
                </textField>
            </frame>
        </band>
    </pageFooter>
    <summary>
        <band splitType="Stretch"/>
    </summary>
</jasperReport> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-12T07:41:40.597

首先，资源管理...

如果可以的话，你应该只打开一个到数据库的连接。确保在关闭应用程序之前关闭它。连接过程可能很昂贵，因此您只有在绝对必须时才真正想要这样做...

完成资源后，您将关闭它们。这最好通过使用`try-finally`块来实现...

```
private Connection con;

protected void close() throws SQLException {
    if (con != null) {
        con.close();
    }
}

protected Connection getConnection() throws ClassNotFoundException, SQLException {
    if (con == null) {
        Class.forName("sun.jdbc.odbc.JdbcOdbcDriver");
        String url = "jdbc:odbc:*****";
        String user = "******";
        String pass = "******";
        Connection con = DriverManager.getConnection(url, user, pass);
    }
    return con;
}

private void search() throws Exception {

    Statement state = null;
    ResultSet rs = null;

    try {

        state = getConnection().createStatement();

        rs = state.executeQuery("SELECT "
                + "pIDNo AS 'Patient ID',"
                + "pLName AS 'Last Name',"
                + "pFName AS 'First Name',"
                + "pMI AS 'M.I.',"
                + "pSex AS 'Sex',"
                + "pStatus AS 'Status',"
                + "pTelNo AS 'Contact No.',"
                + "pDocID AS 'Doctor ID',"
                + "pAddr AS 'St. No.',"
                + "pStreet AS 'St. Name',"
                + "pBarangay AS 'Barangay',"
                + "pCity AS 'City',"
                + " pProvince AS 'Province',"
                + " pLNameKIN AS 'Last Name',"
                + "pFNameKIN AS 'First Name',"
                + "pMIKIN AS 'M.I.',"
                + "pRelationKIN AS 'Relation',"
                + "pTotalDue AS 'Total Due'"
                + " FROM dbo.Patients");
        ResultSetMetaData rsmetadata = rs.getMetaData();
        int columns = rsmetadata.getColumnCount();

        DefaultTableModel dtm = new DefaultTableModel();
        Vector column_name = new Vector();
        Vector data_rows = new Vector();

        for (int i = 1; i < columns; i++) {
            column_name.addElement(rsmetadata.getColumnName(i));
        }
        dtm.setColumnIdentifiers(column_name);

        while (rs.next()) {
            data_rows = new Vector();
            for (int j = 1; j < columns; j++) {
                data_rows.addElement(rs.getString(j));
            }
            dtm.addRow(data_rows);
        }
        tblPatient.setModel(dtm);

    } finally {
        try {
            rs.close();
        } catch (Exception e) {
        }
        try {
            state.close();
        } catch (Exception e) {
        }
    }
} 
```

现在到手头的问题...

看来您已经创建了两个对`con`. 一个作为类字段，一个作为方法变量（在 中`search`）。

然后，您将传递`con`给 Jasper Reports，我怀疑它是`null`. 相反，您应该使用`getConnection()`上面概述的。

```
public void reportviewer() {
    try{
        String report = "C:\\Users\\cleanfuel\\Documents\\NetBeansProjects\\StringManipulation\\src\\stringmanipulation\\report1.jrxml";
        JasperReport jasp_report = JasperCompileManager.compileReport(report);
        JasperPrint jasp_print = JasperFillManager.fillReport(jasp_report, null, getConnection());
        JasperViewer.viewReport(jasp_print);
    } catch (Exception e) {
        e.printStackTrace();
    }
} 
```

**更新了后台工作人员...**

报告可能需要一些时间来编译和填写。您应该将此工作卸载到后台线程，这样它就不会干扰您的 UI（或让它看起来像您的应用程序挂起）。

最简单的解决方案是使用`SwingWorker`. 它具有将线程与 UI 重新同步的功能

```
public void reportviewer() {
    // Disable any UI components you don't want the user using while
    // the report generates...
    new ReportWorker().execute();
}

public class ReportWorker extends SwingWorker<JasperPrint, Void> {

    @Override
    protected JasperPrint doInBackground() throws Exception {
        String report = "C:\\Users\\cleanfuel\\Documents\\NetBeansProjects\\StringManipulation\\src\\stringmanipulation\\report1.jrxml";
        JasperReport jasp_report = JasperCompileManager.compileReport(report);
        JasperPrint jasp_print = JasperFillManager.fillReport(jasp_report, null, getConnection());
        return jasp_print;
    }

    @Override
    protected void done() {
        try {
            JasperPrint jasp_print = get();
            JasperViewer.viewReport(jasp_print);
        } catch (Exception exp) {
            exp.printStackTrace();
        }
        // Renable any UI components you disabled before the report run
    }
} 
```

查看[Swing 中的并发以](http://docs.oracle.com/javase/tutorial/uiswing/concurrency/)获取更多详细信息。

**提示**

如果您可以预编译报告并加载它（而不是加载 XML），它将使报告过程更快。

# iphone - FaceBook Share 图像设置用户编辑禁用

> ID：15964554
> 
> 赞同：1
> 
> 时间：2013-04-12T06:29:18.933
> 
> 标签：iphone, facebook, xcode4.5

我在 Facebook 上分享图片的应用。这工作正常，但我想禁用用户界面与帖子。所以用户不能修改我的初始文本这可能吗？

```
if ([SLComposeViewController isAvailableForServiceType:SLServiceTypeFacebook]) {
                SLComposeViewController *fbComposer = [SLComposeViewController composeViewControllerForServiceType:SLServiceTypeFacebook];

                [fbComposer setInitialText:@"Yes U Are?"];

                if ([fbComposer addImage:[UIImage imageWithData:[Array objectAtIndex:i]]]) {
                }
                [self presentViewController:fbComposer animated:YES completion:nil];

            }else {
                UIAlertView *alertView = [[UIAlertView alloc]
                                          initWithTitle:@"Facebook Error"
                                          message:@"You may not have set up facebook service on your device or\n                                  You may not connected to internent.\nPlease check ..."
                                          delegate:self
                                          cancelButtonTitle:@"OK"
                                          otherButtonTitles: nil];
                [alertView show];
            }
        } 
```

听到的是 Facebook 分享的图像，我只想点击发布 btn 和取消 btn。所以用户只能发布。

![在此处输入图像描述](https://i.stack.imgur.com/ZM1qL.png)

# javascript - RoutingError（没有路由匹配[OPTIONS]

> ID：15964558
> 
> 赞同：1
> 
> 时间：2013-04-12T06:29:28.810
> 
> 标签：javascript, ruby-on-rails, ajax, cross-domain, options

简单：一方面 Angularjs 在服务器上运行

```
'use strict'

### Sevices ###

angular.module('app.services', [])

.factory 'Contents', ($resource) ->
      Contents = $resource('http://127.0.0.1\\:3000/documents.json') 
```

在另一侧，在另一台服务器上运行的 rails 后端

```
Started OPTIONS "/documents.json" for 127.0.0.1 at 2013-04-12 15:22:27 +0900

ActionController::RoutingError (No route matches [OPTIONS] "/documents.json"):
  actionpack (3.2.12) lib/action_dispatch/middleware/debug_exceptions.rb:21:in `call'
  actionpack (3.2.12) lib/action_dispatch/middleware/show_exceptions.rb:56:in `call'
  railties (3.2.12) lib/rails/rack/logger.rb:32:in `call_app'
  railties (3.2.12) lib/rails/rack/logger.rb:16:in `block in call'
  activesupport (3.2.12) lib/active_support/tagged_logging.rb:22:in `tagged'
  railties (3.2.12) lib/rails/rack/logger.rb:16:in `call'
  actionpack (3.2.12) lib/action_dispatch/middleware/request_id.rb:22:in `call'
  rack (1.4.5) lib/rack/methodoverride.rb:21:in `call'
  rack (1.4.5) lib/rack/runtime.rb:17:in `call'
  activesupport (3.2.12) lib/active_support/cache/strategy/local_cache.rb:72:in `call'
  rack (1.4.5) lib/rack/lock.rb:15:in `call'
  actionpack (3.2.12) lib/action_dispatch/middleware/static.rb:62:in `call'
  railties (3.2.12) lib/rails/engine.rb:479:in `call'
  railties (3.2.12) lib/rails/application.rb:223:in `call'
  rack (1.4.5) lib/rack/content_length.rb:14:in `call'
  railties (3.2.12) lib/rails/rack/log_tailer.rb:17:in `call'
  rack (1.4.5) lib/rack/handler/webrick.rb:59:in `service'
  /Users/mikael/.rvm/rubies/ruby-1.9.3-p362/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
  /Users/mikael/.rvm/rubies/ruby-1.9.3-p362/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
  /Users/mikael/.rvm/rubies/ruby-1.9.3-p362/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread' 
```

我不明白，因为我已经有一个backendjs 可以正常运行..backendjs，虽然没有发送OPTIONS 请求...

在我的 Rails 项目中，我现在直接在代码中设置我的 Header，因为我使用 Webrick 进行开发：

```
class ApplicationController < ActionController::Base
  protect_from_forgery
  after_filter :set_access_control_headers

  def set_access_control_headers
    headers['Access-Control-Allow-Origin'] = '*'
    headers['Access-Control-Request-Method'] = '*'
    headers['Access-Control-Allow-Headers'] = '*'
  end
end 
```

自己找到了解决方案：

```
 App.config([
  '$routeProvider'
  '$httpProvider'
  '$locationProvider'

($routeProvider, $httpProvider, $locationProvider, config) ->

  $routeProvider

    .when('/contents', {templateUrl: '/partials/contents.html'})
    .when('/view1', {templateUrl: '/partials/partial1.html'})
    .when('/view2', {templateUrl: '/partials/partial2.html'})

    # Catch all
    .otherwise({redirectTo: '/contents'})

  delete $httpProvider.defaults.headers.common["X-Requested-With"]

  # Without server side support html5 must be disabled.
  $locationProvider.html5Mode(false)
]) 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-15T04:54:23.747

```
App.config([
  '$routeProvider'
  '$httpProvider'
  '$locationProvider'

  ($routeProvider, $httpProvider, $locationProvider, config) ->

  $routeProvider

    .when('/contents', {templateUrl: '/partials/contents.html'})
    .when('/view1', {templateUrl: '/partials/partial1.html'})
    .when('/view2', {templateUrl: '/partials/partial2.html'})

    # Catch all
    .otherwise({redirectTo: '/contents'})

  delete $httpProvider.defaults.headers.common["X-Requested-With"]

  # Without server side support html5 must be disabled.
  $locationProvider.html5Mode(false)
]) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-09-11T14:03:22.557

这帮助我在这里找到：[AngularJS 对跨域资源执行 OPTIONS HTTP 请求](https://stackoverflow.com/questions/12111936/angularjs-performs-an-options-http-request-for-a-cross-origin-resource/20516179#20516179)

```
 app.config(['$httpProvider', function ($httpProvider) {
  //Reset headers to avoid OPTIONS request (aka preflight)
  $httpProvider.defaults.headers.common = {};
  $httpProvider.defaults.headers.post = {};
  $httpProvider.defaults.headers.put = {};
  $httpProvider.defaults.headers.patch = {};
}]); 
```

# php - 使用 javascript 进行 PHP 页面重定向

> ID：15964560
> 
> 赞同：7
> 
> 时间：2013-04-12T06:29:44.093
> 
> 标签：php, redirect

一个小问题！我在 PHP 文件中有一个登录表单。我对表单使用了 javascript 验证。在登录成功场景中，我将用户重定向到他们的主页。

我用过`header("Location:index.php")`。

我知道标头必须在任何输出必须发送到浏览器之前。我的问题是有没有四处走走来做这个重定向？

* * *

## 回答 #1

> 赞同：23
> 
> 时间：2013-04-12T06:31:41.677

你可以使用

```
<script>
    window.location = 'http://www.example.com/newlocation';
</script> 
```

发送标头后重定向。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-12T06:31:48.920

如果你使用 javascript 使用这个

```
window.location.href = "index.php"; 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-04-12T06:34:24.297

如果您准备好使用 JavaScript，您可以使用以下任何一种方法。

```
1.window.location.assign('http://www.example.com');
2.window.location = 'http://www.example.com';
3.window.location.href = 'http://www.example.com'; 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-04-12T06:31:06.943

除了使用`header()`重定向之外，您还可以使用元刷新方法或 JS`window.location`方法。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2021-08-09T14:27:10.930

我只是想在之前的答案中添加一个快速注释。如果您想使用 JavaScript 进行重定向，生成脚本形式的服务器端更安全。

```
<?php
$script = "<script>
window.location = 'http://www.example.com/newlocation';</script>";
echo $script;
?> 
```

# html - 从下拉菜单中选择选项时的事件处理

> ID：15964561
> 
> 赞同：2
> 
> 时间：2013-04-12T06:29:46.353
> 
> 标签：html, jquery, drop-down-menu, jquery-events

我有一个表单，我必须从下拉菜单中选择一个项目并在表单上显示所选值。下拉菜单中的值来自数据库。这是我的选择代码：

```
<aui:select id="empName" name="empName" onChange = "showEmpName()">
<%
    List<Employee> EmpList =  EmployeeLocalServiceUtil.getEmployees(-1,-1);
    for(Employee emp : EmpList ) {
    %>
    <aui:option value='<%=emp.getEmpFname()%>' name = "leaveEmp" onClick =   "showEmpName()"><%=emp.getEmpFname()%>  <%=emp.getEmpLname()%></aui:option>

 <% } %> 
```

这是脚本：从下拉列表中选择的值应显示在表单上

```
 <script>
function showEmpName()
{
    var empName = document.getElementById("empName")
    var showEmpName = document.getElementById("showEmpName")
    showEmpName.value = empName.value

    alert("my name is" + empName)
}
   </script> 
```

我对此有几个问题：

1.  `onchange` `onclick`不工作。
2.  其次，我想在表单上显示所选项目。

我应该如何接近？

编辑：我什至尝试了以下方法，但它根本不起作用。

```
 <script>

    var selectedEmpName = document.getElementById('empName');
    var absentEmp = document.getElementById('absentEmp');

    selectedEmpName.onchange = function() {
        absentEmp.value = selectedEmpName.value;
    };
  </script>

                <aui:select id="empName" name="empName">
        <%
            List<Employee> EmpList = EmployeeLocalServiceUtil.getEmployees(-1,-1);
            for(Employee emp : EmpList ) {
        %>
 <aui:option value='<%=emp.getEmpFname()%>' name = "leaveEmp"><%=emp.getEmpFname()%>      <%=emp.getEmpLname()%></aui:option>

<% } %>

  </aui:select> 
```

我试图在不可编辑的文本框中显示上面的代码。我真正想要的是，一旦选择了下拉列表中的值，它应该显示为已经存在的单选按钮的值。一旦设置了此单选按钮的值，它将用于进一步处理。

编辑代码：

```
 <!DOCTYPE HTML>
  <html>
  <head>
  <script src="http://code.jquery.com/jquery-1.9.1.min.js"></script>
  <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
  <title>Insert title here</title>
  <script type="text/javascript">
     $(document).ready(function(){
  $('#empName').change(function(){
    var value = $(this).val();
    console.log(value);
    $('label').text(value);
  });
});
  </script>
 </head>
<body>
 <portlet:actionURL name="markAbsent" var="markAbsentURL" />

<aui:form name="markAbsent" action="<%=markAbsentURL.toString() %>"    method="post" >

<aui:select id="empName" name="empName" >
        <%
            List<Employee> EmpList = EmployeeLocalServiceUtil.getEmployees(-1,-1);
            for(Employee emp : EmpList ) {
        %>
  <aui:option value='<%=emp.getEmpFname()%>'><%=emp.getEmpFname()%>      <%=emp.getEmpLname()%></aui:option>

 <% } %>

 </aui:select>

  <label for="empName" id = "labelname"></label>
  </aui:form> 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-12T07:25:53.427

假设您有以下html

```
<select id="mySel">
  <option value="a">a</option>
  <option value="b">b</option>
  <option value="c">c</option>
  <option value="d">d</option>
  <option value="e">e</option>
  <option value="f">f</option>
</select>   
<label for="mySel">
</label> 
```

并且您使用 jQuery，那么您应该能够通过以下方式收听选择

```
// attach a ready listener to the document
$(document).ready(function(){ // ran when the document is fully loaded
  // retrieve the jQuery wrapped dom object identified by the selector '#mySel'
  var sel = $('#mySel');
  // assign a change listener to it
  sel.change(function(){ //inside the listener
    // retrieve the value of the object firing the event (referenced by this)
    var value = $(this).val();
    // print it in the logs
    console.log(value); // crashes in IE, if console not open
    // make the text of all label elements be the value 
    $('label').text(value);
  }); // close the change listener
}); // close the ready listener 
```

工作示例：http: [//jsbin.com/edamuh/3/edit](http://jsbin.com/edamuh/3/edit)

或者您也可以使用基本的 javascript 来完成，方法是在生成的选择和标签*之后添加以下内容：*

```
<script type="text/javascript">
  var sel = document.getElementById('mySel');
  var lbl = document.getElementById('myLbl');
  sel.onchange = function(){
     lbl.innerHTML = this.options[this.selectedIndex].value;
  };
</script> 
```

这里的工作示例：http: [//jsbin.com/edamuh/7/edit](http://jsbin.com/edamuh/7/edit)

注意：后者可能无法在所有浏览器中均等地工作。例如。适用于 Firefox(Windows)，但可能不适用于其他浏览器。因此*，我建议选择使用**jQuery***。

**编辑**

在您的情况下，标记应该类似于（无 onChange）：

```
<aui:select id="empName" name="empName" >
   <!-- options -->
</aui:select>
<label id="myUniqueLabelId"></label>
<script type="text/javascript">
  $(document).ready(function(){ 
    // assigns a listener to 1 or more select elements that contains empName in their id
    $('select[id*=empName]').change(function(){
      // when the change event fires, we take the value of the selected element(s)
      var value = $(this).val();
      // take an element with the exact id of "myUniqueLabelId" and make its text be value
      $('#myUniqueLabelId').text(value);
      // take the reference to a radio input
      var radio = $('#radioId');
      // make it enabled
      radio.prop('checked', true);
    });
  });
</script> 
```

带有单选按钮的工作示例：http: [//jsbin.com/edamuh/12/edit](http://jsbin.com/edamuh/12/edit)

重要的是要注意，当文档加载时，选择必须已经呈现，否则脚本将无法工作。

# html - 为什么左边有空间？

> ID：15964566
> 
> 赞同：0
> 
> 时间：2013-04-12T06:30:23.097
> 
> 标签：html, css

```
<ul style="background: blue; list-style: none; width: 40px; height: 40px; color: white">
  <li style="float: left; width: 20px; background: red">a</li>
  <li style="float: left; width: 20px; background: green; height: 40px">b</li>
</ul> 
```

那一点 HTML / CSS 似乎产生了一个 80px 宽的 ul，而不是 40px 宽。我不确定为什么。有任何想法吗？这是小提琴：

[http://jsfiddle.net/qJvmM/](http://jsfiddle.net/qJvmM/)

谢谢！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-12T06:32:38.820

因为`ul`默认情况下通常有一个填充。

您需要将其重置为零：

```
ul {
  padding: 0;
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-12T06:33:20.980

那是因为 ul 的默认边距和填充

```
<ul style="background: blue; list-style: none; width: 40px; height: 40px; color: white;margin:0; padding:0">
  <li style="float: left; width: 20px; background: red">a</li>
  <li style="float: left; width: 20px; background: green; height: 40px">b</li>
</ul> 
```

**[演示](http://jsfiddle.net/qJvmM/2/)**

# .htaccess - 我想使用 DNS 将 subdomain.domain1.com 重定向到 domain2.com/directory

> ID：15964569
> 
> 赞同：-2
> 
> 时间：2013-04-12T06:30:41.147
> 
> 标签：.htaccess, dns

我拥有 2 个域名“domain1.com”和“domain2.com”，我想使用 DNS 将 subdomain.domain1.com 重定向到 domain2.com/directory（最好）。任何人都可以提供帮助（我是域管理的业余爱好者）？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-12T06:44:49.730

据我所知，纯 DNS 是不可能的。

DNS 仅存在（在 A/AAAA/CNAME 记录的情况下）获取域名 (abcdomain.com) 并返回 IP 地址 (111.222.111.222)。

一些 DNS 提供商提供“重定向”，但最可靠的方法是您在服务器上配置“abdomain.com”并向客户端发送重定向请求。

一种方法是使用 .htaccess 来完成，例如：

```
RewriteEngine on
    RewriteCond %{HTTP_HOST} ^subdomain\.domain1\.com$
    RewriteRule ^/?$ "http\:\/\/domain2\.com\/directory" [R=301,L] 
```

（注意，.htaccess 样本未经测试，注意正则表达式拼写错误）

# git - 如何从本地存储库中永久删除提交？（以便不再使用“git reset --hard "

> ID：15964571
> 
> 赞同：0
> 
> 时间：2013-04-12T06:30:46.513
> 
> 标签：git

我在有两个提交的存储库上做了一些测试。这些中的任何一个都会将头部设置为第一次提交，并确保当我执行“git log”时第二个不显示。

备选方案 1：
`git reset --hard [commit 1 hash]`

备选方案 2：

`git rebase --onto master~1 master~0 master`

但是，如果我尝试这个：

`git reset --hard [commit 2 hash]`

HEAD 回到提交 2（这证明它从未被删除）。如何真正永久删除它？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-12T06:40:27.617

`git gc`应该做的伎俩。默认情况下，它将修剪超过 2 周的无法访问的提交；您可以使用它`--prune=<date>`来覆盖它。

运行`git help gc`以获取有关哪些内容将被垃圾收集和哪些不会被垃圾收集的详细信息。

# android - 在android中传递数组值的JSON请求

> ID：15964578
> 
> 赞同：-1
> 
> 时间：2013-04-12T06:30:56.470
> 
> 标签：android

我需要在 android 中将 HTTP JSON 请求作为数组值传递为 "Id":["13","14","15","17","27","29" ]。我该怎么做？像这样尝试 "Id": { "\"13\"".. }

谢谢。

我的答案：

最后我得到了它。

对于（字符串字符串：新字符串[] {“1”，“2”}）{ Carray.put（字符串）；}

感谢您的支持。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-12T07:08:46.090

```
JSONObject Root = new JSONObject();String Data1 = "[13,14,15,17,27,29]";
try 
{
Root.put("Id",  Data1);Log.e("try",Root.toString());
} 
catch (JSONException e) 
{
e.printStackTrace();
} 
```

Using Above Code You Get This Type Of Output//OutPut :- {"Id":["13","14","13","15","27","29"]}

# java - 使用java登录网站事件

> ID：15964585
> 
> 赞同：0
> 
> 时间：2013-04-12T06:31:15.157
> 
> 标签：java, authentication, apache-httpclient-4.x

我正在尝试使用 HttpClient 务实地登录到该站点，如下所示：

```
import java.io.BufferedReader;
import java.io.IOException;
import java.io.InputStreamReader;
import java.util.ArrayList;
import java.util.List;

import org.apache.http.HttpResponse;
import org.apache.http.NameValuePair;
import org.apache.http.client.HttpClient;
import org.apache.http.client.entity.UrlEncodedFormEntity;
import org.apache.http.client.methods.HttpPost;
import org.apache.http.impl.client.DefaultHttpClient;
import org.apache.http.message.BasicNameValuePair;

public class HttpClientWebAPITest {
  public static void main(String[] args) {
    HttpClient client = new DefaultHttpClient();
    HttpPost post = new HttpPost("http://localhost:8080/login.jsp");

    try {

      List<NameValuePair> nameValuePairs = new ArrayList<NameValuePair>(1);
      nameValuePairs.add(new BasicNameValuePair("j_username", "mayank"));
      nameValuePairs.add(new BasicNameValuePair("j_password", "hexgen"));

      post.setEntity(new UrlEncodedFormEntity(nameValuePairs));
      HttpResponse response = client.execute(post);
      BufferedReader rd = new BufferedReader(new InputStreamReader(response.getEntity().getContent()));

      String line = "";
      while ((line = rd.readLine()) != null) {
        System.out.println(line);
        if (line.startsWith("Auth=")) {
          String key = line.substring(5);
          System.out.println("key : hexgen : "+key);
          // Do something with the key
        }

      } 
    } catch (IOException e) {
      e.printStackTrace();
    }
  }
} 
```

这个只是打印登录页面，但我想登录系统并设置 JSESSIONID 和

想检查身份验证是否正确发生。

请帮我解决这个问题。

最好的问候安托

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-12T06:35:42.753

您很可能需要将凭据发布到另一个 URL 才能登录。`http://localhost:8080/login.jsp`这只是登录页面的地址。在该 jsp 文件中查找`form`应该具有`action`登录操作地址的属性。就像是：

```
<form action="j_spring_security_check" method="post"> 
```

然后将您的请求定位到该 URL ( `http://localhost:8080/j_spring_security_check`)。

# input - 规则顺序

> ID：15964588
> 
> 赞同：0
> 
> 时间：2013-04-12T06:31:21.930
> 
> 标签：input, yii, controller, yii-validation

我的应用程序无法使用我的输入参数正常工作。

我在配置 urlManager 有 2 条规则：

```
'<controller:\w+>/<action:\w+>/<factor:\w+>/<id:\d+>'=>'<controller>/<action>',

'<controller:\w+>/<action:\w+>/<factor:\w+>/<ids:((id\d+)|\d)+>'=>'<controller>/<action>' 
```

在我的行动中，我尝试了 2 个输入：`id12id78`和`87`（任何数字）。

使用第一个输入，动作得到`id12id78`，但如果我尝试第二个输入，我的`$ids`参数为空。

我怎样才能修复这个错误？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-12T07:02:15.930

好吧，没什么奇怪的：

*   `id12id78`：将应用第二条规则：`$ids => id12id78`
*   `87`：将应用**第一**条规则：`$id => 87`

我认为你不需要在这里使用不同的参数，你应该只使用`id`，例如：

```
'<controller:\w+>/<action:\w+>/<factor:\w+>/id<id:\d+>'=>'<controller>/<action>',   
'<controller:\w+>/<action:\w+>/<factor:\w+>/<id:\d+>'=>'<controller>/<action>', 
```

# c++ - 无法创建 char * 对象以发送到 c++/c 共享对象库

> ID：15964598
> 
> 赞同：1
> 
> 时间：2013-04-12T06:31:51.817
> 
> 标签：c++, pointers, ctypes, python-3.2

首先，我是 ctypes 的新手，并且确实搜索了我的问题的答案。绝对会欣赏这里的任何见解。

我有一个由另一个工具提供给我的字节字符串。它包含看起来是十六进制和其他值的内容。我正在创建 c_char_p 对象，如下所示：

```
mybytestring = b'something with a lot of hex \x00\x00\xc7\x87\x9bb and other alphanumeric and non-word characters'     # Length of this is very long let's say 480
mycharp = c_char_p(mybytestring) 
```

我还创建了一个 c_char_Array 如下：

```
mybuff = create_string_buffer(mybytestring) 
```

问题是当我将 mycharp 或 mybuff 发送到 c++ 库 .so 函数时，字符串在 NULL 终止符处被截断（第一次出现 '\x00'）

我正在加载 c++ 库并调用该函数，如下所示：

```
lib_handle = cdll.LoadLibrary(mylib.so)
lib_handle.myfunction(mycharp)
lib_handle.myfunction(mybuff) 
```

c++ 函数需要一个 char *

有人知道如何发送包含 NULL 终止符 ('\x00') 的整个字符串吗？

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-12T06:35:36.320

将您的原始数据添加到 a `vector<char> vec`，然后发送`vec.data()`

但实际的问题是

> c++ 函数需要一个 char *。

`vector<char>`如果您希望它接受包含 null 的 char 数组，则需要更改此设置（以接受缓冲区的第二个 arg=length，或者例如接受 a ）。

或者，您可以弄清楚您实际上希望 c++ 函数做什么，并使 self 成为 char 数组的“预处理”，为每个新数组添加一个空终止符，然后发送到 c++ 函数。

例如，您可能决定“输入”数组实际上是一组 c 字符串：您需要做一个简单的解析以“拆分”并在一个循环中发送到 c++，一个接一个。

或者，也许您决定输入可能是 UTF16 而不是 UTF8 格式的字符串。然后，您需要尽可能将其转换为 UTF8 并发送到 c++ 函数。

# iphone - 供应配置文件生成按钮不起作用

> ID：15964600
> 
> 赞同：0
> 
> 时间：2013-04-12T06:31:54.013
> 
> 标签：iphone, ios-provisioning

开发人员帐户的新 UI 不允许在我的配置文件中添加新设备。顶部显示按下 Genrate 按钮，但修改后 Genrate 按钮仍然可用。有没有人遇到过这个。

我能够成功添加设备，但问题在于修改配置文件。我是该帐户的管理员。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-12T07:25:59.330

这是因为您在为配置文件命名时使用了一些特殊字符。现在苹果已经限制使用“ **_** ”所以如果你使用**下划线**而不是使用它。它将启用生成按钮。

希望能帮助到你

# eclipse - 将 Nsight Eclipse 项目转换为 Visual Studio

> ID：15964601
> 
> 赞同：1
> 
> 时间：2013-04-12T06:32:00.807
> 
> 标签：eclipse, visual-studio, cuda, nsight

我在 Linux 下的 Nsight Eclipse 中有一个 CUDA 项目，但是我必须测试我的代码的其中一台机器使用带有 Visual Studio 2012 Professional 的 Windows 8。如何将我的项目从 Eclipse 版本转换为 Visual Studio 版本？或者如果不可能，至少我如何在 Linux 下从 Nsight Eclipse 编译到 Windows 应用程序？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-12T06:35:45.507

你也不能这样做。您将需要使用现有的源文件在 Windows 上创建一个 Visual Studio 项目。

除非您在主机代码中使用了一些特定于 Linux 的库，否则您不应该在 Windows 上遇到任何问题。

# c - C中的动态数组和指针

> ID：15964605
> 
> 赞同：1
> 
> 时间：2013-04-12T06:32:14.723
> 
> 标签：c, arrays, pointers, struct

我是 C 和编程的初学者。我想问一些关于 C 中的动态数组和指针的问题。
我正在尝试创建一个动态数组并增加其容量，但我的代码无法正常工作。我相信我的`setCapacityDynArr`职能有问题。

有人可以给我一些帮助吗？谢谢！

```
struct DynArr {
    TYPE *data; /* pointer to the data array */
    int size; /* Number of elements in the array */
    int capacity; /* capacity ofthe array */
};

void initDynArr(struct DynArr *v, int capacity) {
    v->data = malloc(sizeof(TYPE) * capacity);
    assert(v->data != 0);
    v->size = 0;
    v->capacity = capacity;
}

void freeDynArr(struct DynArr *v) {
    if (v->data != 0) {
        free(v->data); /* free the space on the heap */
        v->data = 0; /* make it point to null */
    }
    v->size = 0;
    v->capacity = 0;
}

int sizeDynArr(struct DynArr *v) {
    return v->size;
}

void addDynArr(struct DynArr *v, TYPE val) {
    /* Check to see if a resize is necessary */
    if (v->size >= v->capacity) {
        _setCapacityDynArr(v, 2 * v->capacity);
    }
    v->data[v->size] = val;
    v->size++;
}

void _setCapacityDynArr(struct DynArr *v, int newCap) {
    //create a new array
    struct DynArr *new_v;
    assert(newCap > 0);
    new_v = malloc(newCap * sizeof(struct DynArr));
    assert(new_v != 0);
    initDynArr(new_v, newCap);

    //copy old values into the new array
    for (int i = 0; i < new_v->capacity; i++) {
        new_v->data[i] = v->data[i];
    }

    //free the old memory
    freeDynArr(v);

    //pointer is changed to reference the new array
    v = new_v;

}

int main(int argc, const char * argv[]) {

    //Initialize an array
    struct DynArr myArray;
    initDynArr(&myArray, 5);
    printf("size = 0, return: %d\n", myArray.size);
    printf("capacity = 5, return: %d\n", myArray.capacity);

    //Add value to the array
    addDynArr(&myArray, 10);
    addDynArr(&myArray, 11);
    addDynArr(&myArray, 12);
    addDynArr(&myArray, 13);
    addDynArr(&myArray, 14);
    addDynArr(&myArray, 15);

    for (int i = 0; i < myArray.size; i++) {
        printf("myArray value - return: %d\n", myArray.data[i]);
    }

    return 0;
} 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-04-12T06:34:36.040

> ```
> //pointer is changed to reference the new array
> v = new_v; 
> ```

这是你的问题，C 中的一个经典错误。事实上，函数更改了它自己的指针副本，调用者永远不会看到更改。[这个C FAQ](http://c-faq.com/ptrs/passptrinit.html)充分描述了这个问题。

我建议采用不同的方法。没有理由创建一个新的`v`：**您只是想要更多**与之相关的存储空间。`v`因此，您可能只想调用`realloc`storage: ，而不是实际更改`v->DATA`。

你可能会逃脱类似的事情：

```
tmp = realloc(v->data, newCap * sizeof *v->data);
if (!tmp)
    error;

v->data = tmp; 
```

这样你也不需要复制元素：`realloc`照顾好这一点。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-12T06:34:48.127

```
//pointer is changed to reference the new array
v = new_v; 
```

您在函数外的原始指针*没有*改变，因为您在这里传递了*指针的值而*不是 *它的地址*：

```
void _setCapacityDynArr(struct DynArr *v, int newCap)
{ 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-12T06:36:20.413

是的，这是一个错误`_setCapacityDynArr`。这是一个错误，因为您`DynArr`在堆栈上声明了一个结构，然后您尝试访问`free`它并为其分配一个新指针。那是行不通的，因为分配在堆栈上的项目不能被释放。

您要做的是仅重新分配实际数据，而不是整个结构。为此，您应该使用该[`realloc`](http://en.cppreference.com/w/c/memory/realloc)功能。

该函数还有其他问题，例如您分配给指针。这个指针是一个*局部变量*，所以当函数返回时，它的所有更改都会丢失。

# java - 为什么要返回数组的副本？

> ID：15964606
> 
> 赞同：2
> 
> 时间：2013-04-12T06:32:25.663
> 
> 标签：java, solr, dataimporthandler

我正在阅读 solr 的 dataimporthandler 组件的源代码。我遇到一个问题

```
 private List<String> readBySplit(String splitBy, String value) {
    String[] vals = value.split(splitBy);
    List<String> l = new ArrayList<String>();
    l.addAll(Arrays.asList(vals));
    return l;
  } 
```

↑ 清单 1（来自 RegexTransformer 类的方法）

```
 private List<String> readBySplit(String splitBy, String value) {
    String[] vals = value.split(splitBy);
    return Arrays.asList(vals);
  } 
```

↑ 清单2（我觉得上面的方法应该是）

谁能告诉我以上两个代码清单之间的显着区别是什么？谢谢。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-04-12T06:35:38.037

`Arrays.asList()` `Returns a fixed-size list backed by the specified array.`

那来自javadoc。所以如果你想要一个动态大小的列表，你需要第一个代码。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-12T06:43:36.063

`Arrays.asList()`返回固定大小的列表，它是未修改的列表。您不能对其执行添加/删除操作，这样做会抛出`Exception` `UnsupportedOperationException`.

因此，如果您想对列表进行一些操作，您的第一种方法是合适的

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-12T06:43:59.457

您无法在代码 2 返回的列表中添加任何内容，因为它返回固定大小的列表。您将获得**“java.lang.UnsupportedOperationException”**，但您可以通过代码 1 在列表返回中添加。

# java - Android - 对写入/读取文件进行编码

> ID：15964608
> 
> 赞同：0
> 
> 时间：2013-04-12T06:32:34.933
> 
> 标签：java, android, string, file, encoding

我有一个字符串，其中包含来自加密的 2 字节（16 位）ASCII 字符。然后我用这段代码把它写到一个文件中：

```
String result = encrypt("text"); //some encryption method
FileOutputStream fos = new FileOutputStream(filename);
fos.write(result.getBytes("ISO-8859-15"));
fos.flush();
fos.close(); 
```

问题是当我读取文件时，字符串值已经不​​同。下面是我用来读取文件的代码：

```
InputStream inputStream = new FileInputStream(filename);
BufferedReader br = new BufferedReader(new InputStreamReader(inputStream, "ISO-8859-15"));
String line;
String txt = "";
while ((line = br.readLine()) != null) txt = txt + line; 
```

我发现 String txt 已经不同于 String 结果。我什至做了一个方法来总结字符串中所有字符的 ASCII，发现它不同。而且我不知道我的错误是什么。请帮忙。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-12T06:43:37.300

如果您已对其进行了加密，则您不想将其写为字符串并应用编码。我知道的每种加密方法都将数据视为字节数组。您需要在加密之前和解密之后进行任何字符集转换。在 Java 中，您甚至不应该将加密后的数据保存为字符串，它应该是一个字节数组。

此外，没有 16 位 ASCII 这样的东西。ASCII 是 8 位的。您正在使用某种宽字符数据或 16 位 unicode，而不是 ascii。 [http://en.wikipedia.org/wiki/ASCII](http://en.wikipedia.org/wiki/ASCII)

# safari - 更改/自定义 Safari 的 Web Inspector 字体

> ID：15964612
> 
> 赞同：0
> 
> 时间：2013-04-12T06:32:39.073
> 
> 标签：safari, font-size, safari-web-inspector

有没有办法自定义 Safari 的 Web Inspector 的字体大小？我在网上找到了这些链接并尝试了它们，但似乎不起作用：

1.  [https://gist.github.com/vlazar/1549785](https://gist.github.com/vlazar/1549785)
2.  [http://miekd.com/articles/adding-some-monospace-to-the-safari-web-inspector/](http://miekd.com/articles/adding-some-monospace-to-the-safari-web-inspector/)

如果这个问题没有解决方案，我可能会切换回 Chrome，因为他们甚至为自己的 Web Inspector 提供了缩放功能。Safari 的 Web Inspector 字体对我来说太小了，我的眼睛因此而受苦。

我很高兴听到任何人可能拥有的解决方法或解决方案。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2016-05-28T03:22:34.343

在提出这个问题时，改变缩放级别并不容易。

在最新版本的 WebKit 中，**现在可以使用 ⌘– 和 ⌘+ 缩放 Web Inspector 界面。**这应该在所有版本的[Safari Technology Preview](https://developer.apple.com/safari/technology-preview/)中都可用。

无法通过用户界面更改字体，尽管在各种本地化中使用了备用字体。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-05-13T05:22:41.217

您链接的文章是指早期版本的 Safari。对于版本 6，CSS 位于不同的位置，具体取决于您的操作系统版本。

对于 10.7.x：

/System/Library/StagedFrameworks/Safari/WebInspector.framework/Versions/Current/Resources/Main.css

对于 10.8.x：

/System/Library/PrivateFrameworks/WebInspector.framework/Versions/Current/Resources/Main.css

您将需要 chmod 文件来编辑它（首先备份它）并且它是压缩的，因此使用可以美化 CSS 的工具是一个好主意（我使用了 WebStorm）。

据我所知，我还没有确定文件中的主要内容区域字体大小类。如果我这样做，我会告诉你（或者也许其他人会插话）。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-10-18T14:01:54.580

我最终在 Main.css 中搜索/替换了 'font-size:11px' 最多 14px。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2021-09-29T09:17:07.680

虽然这是一个非常古老的问题，但我想分享更简单的替代方案。

*   打开网页检查器

*   打开网页检查器的设置 [![在此处输入图像描述](https://i.stack.imgur.com/feFga.png)](https://i.stack.imgur.com/feFga.png)

*   转到“常规”选项卡

*   在这里，您将看到“缩放”选项。将其更改为您感觉舒适的值，包括 UI 按钮在内的所有文本都会放大。 [![在此处输入图像描述](https://i.stack.imgur.com/hZQks.png)](https://i.stack.imgur.com/hZQks.png)

# iphone - 如果我的 iTunes 应用程序名称有空格，如何检查我的应用程序 URL 以获取 iTunes？

> ID：15964616
> 
> 赞同：0
> 
> 时间：2013-04-12T06:32:56.197
> 
> 标签：iphone, ios, objective-c, xcode, itunes

如果我的应用程序名称在 iTunes 上是“abc：acb1234”，那么我的应用程序的 url 是什么？

我知道“ [http://itunes.com/](http://itunes.com/) {appName}”会重定向到iTunes上的应用程序页面，但是

如果应用名称之间有空格，我不知道 appname 的 url 是什么。

任何帮助将不胜感激。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-12T06:50:00.823

您是否在 iTunes Connect 中添加了您的应用程序？

如果是：iTunes Connect -> 管理您的应用程序 -> [您的应用程序] -> 在 App Store 中查看。

![看截图](https://i.stack.imgur.com/WJ59V.png)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-12T06:35:52.770

您不需要应用程序名称，您需要应用程序 ID，
要在 iTunes 中将用户导航到您的应用程序，只需在下面给出的 url 中替换您的应用程序 ID

```
[[UIApplication sharedApplication] openURL:[NSURL URLWithString:@"http://phobos.apple.com/WebObjects/MZStore.woa/wa/viewSoftware?id=594105593&mt=8"]]; 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-12T06:46:11.497

亲爱的，您可以从[https://itunesconnect.apple.com/](https://itunesconnect.apple.com/)获取您的应用程序网址。首先登录您的帐户并单击应用程序摘要，您可以在应用商店中找到选项视图。

# paypal - 如何在 PayPal Website Payments Pro 上测试信用卡交易的买方？

> ID：15964618
> 
> 赞同：0
> 
> 时间：2013-04-12T06:32:58.530
> 
> 标签：paypal, activemerchant

我们在 Ruby on Rails 上运行电子商务网站，为了处理信用卡，我们使用 ActiveMerchant 插件使用我们的 API 凭据连接到我们的 PayPal 网站支付专业帐户。

作为结帐过程的一部分，我们首先在网关对象上调用授权函数，然后，在进一步检查之后，我们执行捕获部分。

我们最近遇到了一个错误，即一笔金额在客户的帐户中被保留两次：一次是授权费用，第二次是最终购买。因此，对于客户来说，看起来我们向他收费了两次（一次是为了授权，一次是为了最终购买），而我们实际上只收到了一次钱，而他账户上的“第二次收费”只是我们不明确的授权由于某些原因。（这似乎尤其发生在 PayPal FMF 拒绝我们的交易并且我们重新处理时。）

我正在尝试通过为买方和卖方创建 PayPal 沙盒帐户来解决此问题。我通过 Rails 控制台逐行运行代码并模拟不同的条件以尝试复制错误。但是，我成功的信用卡交易只出现在我的“卖家”/“商家”账户中，而不出现在 PayPal 沙盒的“买家”账户中，所以我看不到我的代码序列对客户卡的影响。[这篇文章](https://www.x.com/developers/paypal/forums/website-payments-pro/direct-payments-cc-not-showing-sandbox-buyer-account)似乎表明事情就是这样，确实不可能测试对买方信用卡方面的影响。[这篇文章](https://stackoverflow.com/questions/9449913/activemerchant-buyer-account-balance-doesnt-decrease?rq=1)建议使用 PayPal Express Checkout 但这不是我们网站上需要的，因为我们'

如何测试我的代码对客户信用卡的影响？是不是我在 PayPal 中遗漏了一些东西，或者 ActiveMerchant 中是否有一些模式/日志/监视器可以用来查看？我需要找到导致我们两次授权的代码行。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-12T13:13:18.790

如果初始交易被 FMF 拒绝，然后您重新尝试另一笔交易，这将导致买家卡再次被冻结，因为这将是一次完全不同的交易尝试。银行可能已经批准了第一笔交易，但随后 FMF 过滤器根据您的设置拒绝了它。就银行而言，它仍然是被批准的有效收费。因此，当您进行第二次尝试时，这将导致卡第二次持有相同金额但不同的交易。

# c - 如何从 Windows 内核模式驱动程序设置键盘指示灯？

> ID：15964623
> 
> 赞同：1
> 
> 时间：2013-04-12T06:33:18.543
> 
> 标签：c, kernel, driver

我想编写一个内核模式程序，当按下一个键时，它会切换键盘上的数字锁定灯。

我首先修改随样本提供的**kbfiltr.c**`WinDDK`，使用`KbFilter_ServiceCallback routine`截取密钥，并尝试`(IOCTL_KEYBOARD_SET_INDICATORS)`通过**IRP**发送一个来设置灯光。

我对驱动程序开发很陌生，我找不到如何正确编码。

任何人都可以通过指导任何代码示例来提供帮助吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-24T07:19:26.733

我通过 Microsoft 在以下位置提供的信息和源代码找到了答案：

[http://support.microsoft.com/kb/326315](http://support.microsoft.com/kb/326315)

# ios - ios多个http连接

> ID：15964625
> 
> 赞同：0
> 
> 时间：2013-04-12T06:33:28.440
> 
> 标签：ios, nsurlconnection

我在 iOS 中看到的执行简单 GET HTTP 连接的标准示例是：

```
NSString *finalURLstring = @"http://www.somesite.com?value=2";

NSURL *url = [NSURL URLWithString:finalURLstring];
NSMutableURLRequest *request = [NSMutableURLRequest requestWithURL:url];
NSURLConnection *urlConnection = [NSURLConnection connectionWithRequest:request delegate:self]; 
```

然后实现这些功能：

```
-(void) connection:(NSURLConnection *)connection didReceiveResponse:(NSURLResponse *)response
-(void) connection:(NSURLConnection*)connection didReceiveData:(NSData*)data
-(void) connectionDidFinishLoading:(NSURLConnection*)connection 
```

如果你有多个连接，你只需创建多个 NSURLConnections 并在 connectionDidFinishLoading 中比较它们：

```
if (connection == urlConnection1)
    // do something
else if (connection == urlConnection2)
   // do something else 
```

这个问题是你每次都创建一个到服务器的新连接，对吗？是否可以创建您的 NSURLConnection 并重用它？即保持连接打开，这样您就可以进行多次调用，而不是在每次调用服务器时创建新连接？

谢谢你的帮助，

-大卫

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-12T06:43:18.670

NSURLConnection 已经这样做了。[它重用了现有的连接。在这篇文章](https://stackoverflow.com/questions/886810/nsurlconnection-is-run-many-times/888101#888101)中查看这个接受的答案 。你会得到你的问题的答案..

# git - 使用远程 URL 从裸仓库克隆 GIT

> ID：15964633
> 
> 赞同：1
> 
> 时间：2013-04-12T06:34:05.967
> 
> 标签：git, dvcs

我们正在尝试`GIT`管理我们的回购。

首先，我们有 4 名开发人员在同一个 VPN 下工作。我们有一个中央服务器，我们在其上创建了`bare`这样的存储库：

```
 git init --bare projectest.git 
```

稍后我们尝试使用以下命令将裸仓库克隆到我的机器上。

```
 git clone git://server/CeRepo/projectest.git/ 
```

其中
**server**是我们创建裸仓库的中心机器
**CeRepo**是**D: Drive** of Server
**projectest.git**中的一个目录，是我们空的裸仓库。

当我们从其中一台开发人员机器上运行它时

```
 git clone git://server/CeRepo/projectest.git/ 
```

我得到以下错误：

```
Cloning into 'projectest'...
fatal: unable to connect to **server**:
server[0: 192.168.13.221]: errno=No error 
```

可能是什么问题？是否与***GIT URL有关***

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-12T07:01:37.760

既然你在谈论

> **CeRepo**是服务器的**D: Drive**里面的一个目录

我假设，您正在使用 Win32 机器，并且`CeRepo`是该框上包含`projectest.git`目录的共享文件夹。

然后，您将访问共享

```
git clone //server/CeRepo/projectest.git 
```

**注意：**`git:`网址前面 没有

* * *

为了完整起见：如果您的 4 个用户可以访问 上的管理共享`server`，您还可以使用 URL 访问 repo

```
//server/d$/CeRepo/projectest.git 
```

假设回购位于

```
D:\CeRepo\projectest.git 
```

# android - Android 4.0 中的标签栏应用

> ID：15964641
> 
> 赞同：1
> 
> 时间：2013-04-12T06:34:28.030
> 
> 标签：android, android-actionbar, android-webview, android-tabs

我将在 Android 4.0 中开发一个 android 应用程序，如下图所示。

![带有选项卡的操作栏](https://developer.android.com/design/media/tabs_youtube.png)

我必须动态创建这些选项卡，动态调用 addTab() 方法并动态创建选项卡栏。**ActionBarWithTab**是否适合我的要求？引导我走向正确的道路。请提供教程。

编辑 1：我需要在 ActionBar 中创建的单独选项卡栏中加载 webview。

EIDT 2：为了使用 TabHost 创建标签栏，首先我为 TabHost 创建了 ViewGroup f，并添加了标签栏项目，如下面的代码。在标签栏项目中，我创建了布局，在布局内有一个 webview 并将动态 url 加载到标签栏项目中。最后我将视图组设置为 contentview();

```
 sTabHost = new TabHost(context,null);
    sTabHost.setLayoutParams(
            new LinearLayout.LayoutParams(
                    LayoutParams.FILL_PARENT, LayoutParams.FILL_PARENT));

    TabWidget tabWidget = new TabWidget(context);
    tabWidget.setId(android.R.id.tabs);
    sTabHost.addView(tabWidget, new LinearLayout.LayoutParams(
              LayoutParams.FILL_PARENT, LayoutParams.WRAP_CONTENT)); 

    FrameLayout frameLayout = new FrameLayout(context);
    frameLayout.setId(android.R.id.tabcontent);
    final float scale = context.getResources().getDisplayMetrics().density;
    int paddingtop = (int) (64 * scale + 0.5f);
    frameLayout.setPadding(0, paddingtop, 0, 0);
    sTabHost.addView(frameLayout, new LinearLayout.LayoutParams(
              LayoutParams.FILL_PARENT, LayoutParams.FILL_PARENT));         

    sTabHost.setup(); 
```

然后我添加了如下标签项。

```
 public void addTabItem(final String url, String tabTitle, Drawable tabIcon)
{    
    TabSpec ts1 = sTabHost.newTabSpec(tabTitle); 
    if(tabTitle.equals(""))
    {
        int childcount=sTabHost.getChildCount();
        tabTitle="Tab" + String.valueOf(childcount+1);          
    }
    if(tabIcon==null)
        ts1.setIndicator(tabTitle);
    else
        ts1.setIndicator(tabTitle,tabIcon);        
    ts1.setContent(new TabHost.TabContentFactory(){
         public View createTabContent(String tag)
         {               
                LinearLayout panel = new LinearLayout(sActiveContext);
                panel.setLayoutParams(new LayoutParams(LayoutParams.FILL_PARENT, 
                        LayoutParams.WRAP_CONTENT));
                panel.setOrientation(LinearLayout.VERTICAL);
                FrameLayout layout=new FrameLayout();
                    // Here I am creating the webview loaded with the url within the layout and placed into the above FrameLayout.                  
                panel.addView(layout);
                return panel;
         }  
    }); 
    sTabHost.addTab(ts1);
    sTabHost.setOnTabChangedListener(this);
  } 
```

现在，我怎样才能在操作栏中实现这一点，就像我添加的图像一样。？

我创建了带有选项卡的操作栏，如下面的代码。

```
@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);

    final ActionBar actionBar = getActionBar();
    actionBar.setNavigationMode(ActionBar.NAVIGATION_MODE_TABS);

    Tab tabA = actionBar.newTab();
    tabA.setText("Tab A");
    tabA.setTabListener(new TabListener<MyFragmentA>(this, "Tag A", MyFragmentA.class));
    actionBar.addTab(tabA);
} 
```

TabListener 类如下。

```
public static class TabListener<T extends Fragment> 
    implements ActionBar.TabListener{

    private final Activity myActivity;
    private final String myTag;
    private final Class<T> myClass;

    public TabListener(Activity activity, String tag, Class<T> cls) {
        myActivity = activity;
        myTag = tag;
        myClass = cls;
    }

    @Override
    public void onTabSelected(Tab tab, FragmentTransaction ft) {

        Fragment myFragment = myActivity.getFragmentManager().findFragmentByTag(myTag);

        // Check if the fragment is already initialized
        if (myFragment == null) {
            // If not, instantiate and add it to the activity
            myFragment = Fragment.instantiate(myActivity, myClass.getName());
            ft.add(android.R.id.content, myFragment, myTag);
        } else {
            // If it exists, simply attach it in order to show it
            ft.show(myFragment);
        }

    }

    @Override
    public void onTabUnselected(Tab tab, FragmentTransaction ft) {

        Fragment myFragment = myActivity.getFragmentManager().findFragmentByTag(myTag);

        if (myFragment != null) {
            // Detach the fragment, because another one is being attached
            ft.hide(myFragment);
        }

    }

    @Override
    public void onTabReselected(Tab tab, FragmentTransaction ft) {
        // TODO Auto-generated method stub
    }

} 
```

片段类如下。

```
 @Override
public View onCreateView(LayoutInflater inflater, ViewGroup container,
        Bundle savedInstanceState) {
    View myFragmentView = inflater.inflate(R.layout.fragment_c, container, false);

    WebView webview = (WebView) myFragmentView.findViewById(R.id.webview);
    webview.setWebViewClient(new MyWebViewClient());
    webview.getSettings().setJavaScriptEnabled(true);
    webview.getSettings().setPluginsEnabled(true);
    webview.getSettings().setBuiltInZoomControls(false); 
    webview.getSettings().setSupportZoom(false);
    webview.getSettings().setJavaScriptCanOpenWindowsAutomatically(true);   
    webview.getSettings().setAllowFileAccess(true); 
    webview.getSettings().setDomStorageEnabled(true); 
    webview.loadUrl("http://jquerymobile.com/demos/1.2.1/");

    return myFragmentView;
}

public class MyWebViewClient extends WebViewClient {        
    /* (non-Java doc)
     * @see android.webkit.WebViewClient#shouldOverrideUrlLoading(android.webkit.WebView, java.lang.String)
     */

    @Override
    public boolean shouldOverrideUrlLoading(WebView view, String url) {
        if (url.endsWith(".mp4")) 
        {
            Intent intent = new Intent(Intent.ACTION_VIEW);
            intent.setDataAndType(Uri.parse(url), "video/*");

            view.getContext().startActivity(intent);
            return true;
        } 
        else {
            return super.shouldOverrideUrlLoading(view, url);
        }
    }
} 
```

在上面的实现中，我创建了布局和单独的片段类。而不是像这样创建，我如何在不创建 xml 布局和单独的片段类的情况下实现这一点。这就像我为 TabHost 标签栏发布的代码。

编辑 3：我创建了操作栏和选项卡项，如下面的代码。

```
 public void addTabBar(Context context)
{       
    sActiveContext=context;
    sActionBar = getActionBar();
    sActionBar.setNavigationMode(ActionBar.NAVIGATION_MODE_TABS);
}

public void addTabItem(final String url, String tabTitle)
{   
    Tab tab = sActionBar.newTab();
    if(tabTitle.equals(""))
    {
        int childcount=sActionBar.getTabCount();
        tabTitle="Tab" + String.valueOf(childcount+1);          
    }
    tab.setText(tabTitle);
     //Here I need to create the Layout with the webview and loaded into the created tab.
    tab.setTabListener(this);
    sActionBar.addTab(tab);
} 
```

如何实现将具有给定 url 的 webview 加载到特定选项卡。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-15T06:36:13.070

**带有片段的操作栏**

试试这个，效果很好。。

在清单文件中，

```
<uses-sdk
        android:minSdkVersion="11"/>
<application
        android:icon="@drawable/ic_launcher"
        android:label="@string/app_name"
        android:theme="@style/AppTheme" >
<activity
            android:name="packageName.ActionBarFragmentActivity"
            android:configChanges="orientation"
            android:theme="@android:style/Theme.Holo.Light"
            android:label="@string/app_name">
            <intent-filter>
                <action android:name="android.intent.action.MAIN" />
                <category android:name="android.intent.category.LAUNCHER" />
            </intent-filter>
        </activity>
</application>
<!--change  packageName --> 
```

ActionBarFragmentActivity.java

```
@SuppressLint("NewApi")
public class ActionBarFragmentActivity extends FragmentActivity implements TabListener{
    private ActionBar actionBar=null;
    private Fragment1 fragment1=null;
    private Fragment2 fragment2=null;
    private Fragment3 fragment3=null;
    @Override
    public void onCreate(Bundle savedInstanceState)
    {
        super.onCreate(savedInstanceState);

        setContentView(R.layout.main_layout);
        actionBar=getActionBar();
        actionBar.setDisplayShowHomeEnabled(true);
        actionBar.setDisplayShowTitleEnabled(false);
        actionBar.setNavigationMode(ActionBar.NAVIGATION_MODE_TABS);

        actionBar.addTab(actionBar.newTab().setTag("first").setText("First").setTabListener(this));
        actionBar.addTab(actionBar.newTab().setTag("second").setText("Second").setTabListener(this));
        actionBar.addTab(actionBar.newTab().setTag("third").setText("Third").setTabListener(this));

        fragment1=new Fragment1();
        fragment2=new Fragment2();
        fragment3=new Fragment3();

        getSupportFragmentManager().beginTransaction().replace(R.id.frameLayout,fragment1);
    }

    @Override
    public void onTabReselected(Tab tab, FragmentTransaction ft) {
    }
    @Override
    public void onTabSelected(Tab tab, FragmentTransaction ft) {
        if(tab.getPosition()==0)
        {
            getSupportFragmentManager().beginTransaction().replace(R.id.frameLayout,fragment1).commit();
            fragment1.onUpdateView();
        }
        else if(tab.getPosition()==1)
        {
            getSupportFragmentManager().beginTransaction().replace(R.id.frameLayout,fragment2).commit();
            fragment2.onUpdateView();
        }
        else if(tab.getPosition()==2)
        {
            getSupportFragmentManager().beginTransaction().replace(R.id.frameLayout,fragment3).commit();
            fragment3.onUpdateView();
        }
    }
    @Override
    public void onTabUnselected(Tab tab, FragmentTransaction ft) {
    }
} 
```

main_layout.xml

```
<?xml version="1.0" encoding="utf-8"?>
<FrameLayout 
    xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:id="@+id/frameLayout"
    android:orientation="vertical" >
</FrameLayout> 
```

webview_layout.xml

```
<WebView 
    xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:id="@+id/webView"
    android:layout_height="match_parent" >
</WebView> 
```

片段1.java

```
public class Fragment1 extends android.support.v4.app.Fragment{
    private WebView webView=null;
    public void onCreate(Bundle savedInstanceState) 
    { 
        super.onCreate(savedInstanceState); 
    } 
    @Override
    public View onCreateView(LayoutInflater inflater, ViewGroup container,Bundle savedInstanceState) 
    {
          View view = inflater.inflate(R.layout.webview_layout, container, false);
          webView=(WebView)view.findViewById(R.id.webView);
          return view;
    }
    @Override
    public void onStart()
    {
        super.onStart();
    }
    @Override
    public void onPause()
    {
        super.onPause();
    }
    @Override
    public void onResume()
    {
        super.onResume();
    }
    @Override
    public void onStop()
    {
        super.onStop();
    }
    @Override
    public void onDestroy()
    {
        super.onDestroy();
    }
    @Override
    public void onSaveInstanceState(Bundle outState) 
    {
        super.onSaveInstanceState(outState);
    }
    @Override
    public void onActivityCreated(Bundle bundle)
    {
        super.onActivityCreated(bundle);
        onUpdateView();
    }
    public void onUpdateView()
    {
        webView.getSettings().setJavaScriptEnabled(true);
        webView.loadUrl("https://docs.google.com/viewer?url=http://121.242.120.82:8090/iSmartDM/DC/KIMS_Hospital_28/KIMS_hospital_Default_29" +
                "/Physician_2_37/DOC/stamos-5644-00@gs138a-[01062006]-[160859]-[ds4000]-[].rtf");
    }
} 
```

Fragmet2.java

```
public class Fragment2 extends android.support.v4.app.Fragment{
    private WebView webView=null;
    public void onCreate(Bundle savedInstanceState) 
    { 
        super.onCreate(savedInstanceState); 
    } 
    @Override
    public View onCreateView(LayoutInflater inflater, ViewGroup container,Bundle savedInstanceState) 
    {
          View view = inflater.inflate(R.layout.webview_layout, container, false);
          webView=(WebView)view.findViewById(R.id.webView);
          return view;
    }
    @Override
    public void onStart()
    {
        super.onStart();
    }
    @Override
    public void onPause()
    {
        super.onPause();
    }
    @Override
    public void onResume()
    {
        super.onResume();
    }
    @Override
    public void onStop()
    {
        super.onStop();
    }
    @Override
    public void onDestroy()
    {
        super.onDestroy();
    }
    @Override
    public void onSaveInstanceState(Bundle outState) 
    {
        super.onSaveInstanceState(outState);
    }
    @Override
    public void onActivityCreated(Bundle bundle)
    {
        super.onActivityCreated(bundle);
    }
    public void onUpdateView()
    {
        webView.getSettings().setJavaScriptEnabled(true);
        webView.loadUrl("http://www.google.co.in/");
    }
} 
```

片段3.java

```
public class Fragment3 extends android.support.v4.app.Fragment{
    private WebView webView=null;
    public void onCreate(Bundle savedInstanceState) 
    { 
        super.onCreate(savedInstanceState); 
    } 
    @Override
    public View onCreateView(LayoutInflater inflater, ViewGroup container,Bundle savedInstanceState) 
    {
          View view = inflater.inflate(R.layout.webview_layout, container, false);
          webView=(WebView)view.findViewById(R.id.webView);
          return view;
    }
    @Override
    public void onStart()
    {
        super.onStart();
    }
    @Override
    public void onPause()
    {
        super.onPause();
    }
    @Override
    public void onResume()
    {
        super.onResume();
    }
    @Override
    public void onStop()
    {
        super.onStop();
    }
    @Override
    public void onDestroy()
    {
        super.onDestroy();
    }
    @Override
    public void onSaveInstanceState(Bundle outState) 
    {
        super.onSaveInstanceState(outState);
    }
    @Override
    public void onActivityCreated(Bundle bundle)
    {
        super.onActivityCreated(bundle);
    }
    public void onUpdateView()
    {
        webView.getSettings().setJavaScriptEnabled(true);
        webView.loadUrl("http://www.youtube.com/?gl=IN&tab=w1");
    }
} 
```

已编辑----------“动态布局”------------------- 活动：- onCreate();

```
FrameLayout frameLayout=new FrameLayout(this);
    setContentView(frameLayout);
    frameLayout.setId(1111); 
```

分片交易...

```
getSupportFragmentManager().beginTransaction().replace(1111,fragment1).commit(); 
```

分段：-

```
@Override
    public View onCreateView(LayoutInflater inflater, ViewGroup container,Bundle savedInstanceState) 
    {
        webView=new WebView(getActivity());
        webView.setLayoutParams(new LayoutParams(LayoutParams.MATCH_PARENT,LayoutParams.MATCH_PARENT));
        return webView;
    } 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-15T08:19:13.020

编辑 3 的答案：- 试试这个，

```
@SuppressLint("ValidFragment")
public class Sample extends FragmentActivity implements TabListener{
    private ActionBar mActionBar=null;
    private ArrayList<String> arrayList=null;
    private LinearLayout linearLayout=null;
    private WebView webView=null;
    @Override
    public void onCreate(Bundle savedInstanceState)
    {
        super.onCreate(savedInstanceState);
        linearLayout=new LinearLayout(this);
        linearLayout.setLayoutParams(new LayoutParams(LayoutParams.FILL_PARENT,LayoutParams.WRAP_CONTENT)); 
        linearLayout.setOrientation(LinearLayout.VERTICAL); 
        setContentView(linearLayout);
        mActionBar=getActionBar();
        mActionBar.setDisplayShowHomeEnabled(true);
        mActionBar.setDisplayShowTitleEnabled(false);
        mActionBar.setNavigationMode(ActionBar.NAVIGATION_MODE_TABS);
            webView=new WebView(this);
        linearLayout.addView(webView);
        arrayList=new ArrayList<String>();
        addTab(0,"https://docs.google.com/viewer?url=http://121.242.120.82:8090/iSmartDM/DC/KIMS_Hospital_28/KIMS_hospital_Default_29" +
                    "/Physician_2_37/DOC/stamos-5644-00@gs138a-[01062006]-[160859]-[ds4000]-[].rtf");
        addTab(1,"https://www.google.co.in");
        addTab(2,"http://stackoverflow.com/questions/15964641/tab-bar-app-in-android-4-0/16009038?noredirect=1#comment22832140_16009038");
    }
    private void addTab(int position,String URL)
    {
mActionBar.addTab(mActionBar.newTab().setTag("tab"+String.valueOf(position)).
                    setText("Tab "+String.valueOf(position)).setTabListener(this));
            arrayList.add(URL);
        }
        @Override
        public void onTabReselected(Tab tab, FragmentTransaction ft) {
        }
        @Override
        public void onTabSelected(Tab tab, FragmentTransaction ft) {
    webView.getSettings().setJavaScriptEnabled(true);
                for (int i = 0; i < arrayList.size(); i++) {
                    if(tab.getPosition()==i)
                    {
                        webView.loadUrl(arrayList.get(i));
                        System.out.println(arrayList.get(i));
                        break;
                    }
                }
        }
        @Override
        public void onTabUnselected(Tab tab, FragmentTransaction ft) {
            //if(webView!=null)
                //linearLayout.removeView(webView);
        }
    } 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-12T07:00:04.480

我认为[这](http://developer.android.com/guide/topics/ui/actionbar.html)对您有用，用于处理操作栏。还可以访问[此](http://developer.android.com/design/patterns/actionbar.html)以了解操作栏的使用。示例和详细说明[here](http://www.vogella.com/articles/AndroidActionBar/article.html)。

您可以对片段（子选项卡）内的选项卡使用选项卡主机控件。当您需要片段上的子选项卡时，请使用该片段的布局，

sub_tab_fragment.xml，

```
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
        android:orientation="vertical"
        android:layout_width="fill_parent"
        android:layout_height="fill_parent">
    <TabHost
        android:id="@android:id/tabhost"
        android:layout_width="fill_parent"
        android:layout_height="fill_parent"
        >
        <LinearLayout
            android:orientation="vertical"
            android:layout_width="fill_parent"
            android:layout_height="fill_parent"
            >

            <TabWidget
                android:id="@android:id/tabs"
                android:orientation="horizontal"
                android:layout_width="fill_parent"
                android:layout_height="wrap_content"
                android:layout_weight="0"
                />

            <FrameLayout
                android:id="@android:id/tabcontent"
                android:layout_width="0dp"
                android:layout_height="0dp"
                android:layout_weight="0"/>

            <FrameLayout
                android:id="@+android:id/realtabcontent"
                android:layout_width="fill_parent"
                android:layout_height="0dp"
                android:layout_weight="1"/>
        </LinearLayout>
    </TabHost>
</LinearLayout> 
```

然后在片段内部，

```
@Override
public View onCreateView(LayoutInflater inflater, ViewGroup container,Bundle savedInstanceState) 
{   
     View view = inflater.inflate(R.layout.sub_tab_fragment, container, false);
     mTabHost=(TabHost)v.findViewById(android.R.id.tabhost);
     return v;
}
@Override
public void onActivityCreated(Bundle bundle)
{
    super.onActivityCreated(bundle);
    mTabHost.setup();

    View tabview = createTabView(mTabHost.getContext(), "First");
        mTabHost.addTab(mTabHost.newTabSpec("First").setIndicator(tabview).setContent(R.id.realtabcontent));

    View tabview1 = createTabView(mTabHost.getContext(), "Second");
        mTabHost.addTab(mTabHost.newTabSpec("Second").setIndicator(tabview1).setContent(R.id.realtabcontent));

    View tabview2 = createTabView(mTabHost.getContext(), "Third");
        mTabHost.addTab(mTabHost.newTabSpec("Third").setIndicator(tabview2).setContent(R.id.realtabcontent));

    View tabview3 = createTabView(mTabHost.getContext(), "Fourth");
        mTabHost.addTab(mTabHost.newTabSpec("Fourth").setIndicator(tabview3).setContent(R.id.realtabcontent));

    View tabview4 = createTabView(mTabHost.getContext(), "Fifth");
        mTabHost.addTab(mTabHost.newTabSpec("Fifth").setIndicator(tabview4).setContent(R.id.realtabcontent));

  mTabHost.setOnTabChangedListener(mTabListener);
} 
```

然后您将实现/处理选项卡的内容（与操作栏中使用的方法相同）。

已编辑-----addTabItem(final String url, String tabTitle, Drawable tabIcon) ***** ******

```
public void addTabItem(final String url, String tabTitle, Drawable tabIcon)
{    
    WebView webView=null;
    TabSpec ts1 = sTabHost.newTabSpec(tabTitle); 
    if(tabTitle.equals(""))
    {
        int childcount=sTabHost.getChildCount();
        tabTitle="Tab" + String.valueOf(childcount+1);          
    }
    if(tabIcon==null)
        ts1.setIndicator(tabTitle);
    else
        ts1.setIndicator(tabTitle,tabIcon);        
    ts1.setContent(new TabHost.TabContentFactory(){
         public View createTabContent(String tag)
         {               
               webView=new WebView(sActiveContext);
           webView.setLayoutParams(new android.view.ViewGroup.LayoutParams(android.view.ViewGroup.LayoutParams.FILL_PARENT, 
                android.view.ViewGroup.LayoutParams.WRAP_CONTENT));
                return webView;
         }  
    }); 
    sTabHost.addTab(ts1);
    sTabHost.setOnTabChangedListener(this);
    webView.getSettings().setJavaScriptEnabled(true);
        webView.loadUrl("https://docs.google.com/viewer?url=http://121.242.120.82:8090/iSmartDM/DC/KIMS_Hospital_28/KIMS_hospital_Default_29" +
                "/Physician_2_37/DOC/stamos-5644-00@gs138a-[01062006]-[160859]-[ds4000]-[].rtf");
  } 
```

# jquery - jQuery,获取第二个 li 标签内容

> ID：15964648
> 
> 赞同：0
> 
> 时间：2013-04-12T06:34:54.617
> 
> 标签：jquery, css, html-lists

我想替换以下结构中提到的分隔符，因为我需要先获得位置，有人可以帮忙继续吗

这是我的结构

```
 <div>
       <ul>    
           <li><a>text</a></li>    
           <li><span> > </span></li>    
      <li></li>   
      <li></li>    
  </ul>    
</div> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-12T06:37:40.527

用这个：

```
$("ul li:nth-child(2)").html(); 
```

或者，如果您只需要文本，您可以使用：

```
$("ul li:nth-child(2)").text(); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-12T06:36:36.257

你可以这样做来选择你的第二个 li：

```
$("div ul li:eq(1)") 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-12T06:36:43.850

你可以试试css3选择器

```
$('ul li:nth-child(2)') 
```

有关更多信息，请参见 [nth-child-selector](http://api.jquery.com/nth-child-selector/)

这样，您还可以获得偶数或奇数选择，`nth-child(2n+1)` `nth-child(2n)`并且还可以在您的 css 中使用此选择器，并使用[selectivizr](http://selectivizr.com/)在 ie 和旧浏览器中工作

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-12T06:38:45.777

尝试这个：

```
$('div ul').children('li').eq(1); 
```

如果要获取内容，则需要附加`.html()`：

```
$('div ul').children('li').eq(1).html(); 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-04-12T06:39:24.237

尝试这个：

```
var position = $('li:contains(>)').index(); 
```

# actionscript-3 - 如何在flex4的textArea中找到当前光标位置？

> ID：15964650
> 
> 赞同：4
> 
> 时间：2013-04-12T06:34:55.693
> 
> 标签：actionscript-3, apache-flex, flex4, flex4.6

我想用键盘（内置键盘）在文本区域写一些东西，并想在当前光标位置从我制作的键盘添加其他东西。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-13T15:09:50.903

只需使用 TextArea 的属性

```
selectionActivePosition 
```

这是一个[工作示例](http://it-skills.su/sosamples/webspark46/textareacursor/index.html)。

**//编辑**

要将新字符串插入文本区域，请使用字符串函数，如 substr() 和 length()。插入后，您应该通过添加插入字符串的长度来更改光标的当前位置。

**编辑//**

这是我的代码：

```
<?xml version="1.0" encoding="utf-8"?>
<s:Application xmlns:fx="http://ns.adobe.com/mxml/2009" 
           xmlns:s="library://ns.adobe.com/flex/spark" 
           xmlns:mx="library://ns.adobe.com/flex/mx" 
           minWidth="955" minHeight="600">

<fx:Script>
    <![CDATA[
        protected function onBtnInsert(event:MouseEvent):void
        {
            var str:String = "[new text]";

            var pos:int = taMain.selectionActivePosition;

            if (pos != -1)
            {
                taMain.text = taMain.text.substr(0, pos) + str + taMain.text.substr(pos, taMain.text.length - pos);
                taMain.selectRange(pos + str.length, pos + str.length);
            }
        }
    ]]>
</fx:Script>

<s:VGroup x="20" y="20">
    <s:TextArea id="taMain" width="200" height="150"  text="I want to write something in text area with keyboard(built in keyboard) and want to add something other from the keyboard made by me at the current cursor position."/>
    <s:HGroup verticalAlign="bottom">
        <s:Button label="Get Pos" click="{laPos.text = taMain.selectionActivePosition.toString()}"/>
        <s:Label text="Current position: "/>
        <s:Label id="laPos"/>
    </s:HGroup>

    <s:Button label="Insert text" click="onBtnInsert(event)"/>
</s:VGroup>
</s:Application> 
```

# c - 麻烦取消对结构的双指针

> ID：15964653
> 
> 赞同：-1
> 
> 时间：2013-04-12T06:35:17.063
> 
> 标签：c, dereference

我似乎无法读取双指针指向的数据。它用于分配，因为我必须使用双指针。

出现以下错误：

```
Error: Access violation reading location. 
```

这是代码：

```
struct Fraction {

        int num, denom;<br>
};
struct PolyTerm {

        struct Fraction coeff;
        int exponent;v
};
struct PolyNode {

    struct PolyTerm** dataPtr;
    struct PolyNode* next;
};

void printPolyTerm(struct PolyTerm** argTerm) { // this function works fine><br>

        printFraction(&(argTerm->coeff));       //also works fine
        printf(" X^%d", argTerm->expo);
        return;
}
void printPolyNode(const PolyNode* node) {  //NOT WORKING<br>

        struct PolyTermPS** ppTerm = node->dataPtr;
        struct PolyTermPS* pTerm = *ppTerm;
        printPolyTerm(pTerm);
        return;
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-12T06:59:18.203

函数`void printPolyTerm(struct PolyTerm** argTerm)`接受双指针，因此，您的调用`void printPolyNode(const PolyNode* node)`必须更改：

```
void printPolyNode(const PolyNode* node) {  //NOT WORKING<br>

    struct PolyTermPS** ppTerm = node->dataPtr;
    struct PolyTermPS* pTerm = *ppTerm;
    printPolyTerm(pTerm);
    return;
} 
```

一定是

```
void printPolyNode(const PolyNode* node) {  //NOT WORKING<br>

    struct PolyTerm** ppTerm = node->dataPtr;
    struct PolyTerm* pTerm = *ppTerm;
    printPolyTerm(&pTerm);
    return;
} 
```

现在，在`void printPolyTerm(struct PolyTerm** argTerm)`函数内部，您必须取消引用双指针，我的意思是：

*   `argTerm`是指向指针的`struct PolyTerm`指针。
*   `*argTerm`是一个指向`struct PolyTerm`

所以，你必须更换

```
void printPolyTerm(struct PolyTerm** argTerm) { // this function works fine><br>

    printFraction(&(argTerm->coeff));       //also works fine
    printf(" X^%d", argTerm->expo);
    return;
} 
```

经过

```
void printPolyTerm(struct PolyTerm** argTerm) { // this function works fine><br>

    printFraction(&((*argTerm)->coeff));       //also works fine
    printf(" X^%d", (*argTerm)->exponent);
    return;
} 
```

另一种情况之所以有效，只是因为你太幸运了。

# android - 通过蓝牙以编程方式连接两个 Android 设备

> ID：15964663
> 
> 赞同：1
> 
> 时间：2013-04-12T06:35:52.363
> 
> 标签：android, bluetooth

我正在尝试通过蓝牙将数据从我的一台设备传输到另一台设备。

我之前尝试从 android 网站运行 bluetoothChat 示例代码，但没有成功。

我现在已经转向我发现的这段代码，虽然它确实在我的设备上编译，但它们不会相互连接。

有人看到下面这段代码有什么问题吗？如果有人可能知道一些关于安卓蓝牙的好资源，如果他们能与我分享，我将不胜感激！

```
package com.example.bluetooth;

import java.io.IOException;
import java.io.InputStream;
import java.io.OutputStream;
import java.util.ArrayList;
import java.util.Set;
import java.util.UUID;

import android.app.Activity;
import android.bluetooth.BluetoothAdapter;
import android.bluetooth.BluetoothDevice;
import android.bluetooth.BluetoothSocket;
import android.content.BroadcastReceiver;
import android.content.Context;
import android.content.Intent;
import android.content.IntentFilter;
import android.os.Bundle;
import android.os.Handler;
import android.os.Message;
import android.util.Log;
import android.view.View;
import android.widget.AdapterView;
import android.widget.AdapterView.OnItemClickListener;
import android.widget.ArrayAdapter;
import android.widget.ListView;
import android.widget.Toast;

public class MainActivity extends Activity implements OnItemClickListener {

ArrayAdapter<String> listAdapter;
ListView listView;
BluetoothAdapter btAdapter;
Set<BluetoothDevice> devicesArray;
ArrayList<String> pairedDevices;
ArrayList<BluetoothDevice> devices;
public static final UUID MY_UUID = UUID.fromString("00001101-0000-1000-8000-00805F9B34FB");
protected static final int SUCCESS_CONNECT = 0;
protected static final int MESSAGE_READ = 1;
IntentFilter filter;
BroadcastReceiver receiver;
String tag = "debugging";
Handler mHandler = new Handler(){
    @Override
    public void handleMessage(Message msg) {
        // TODO Auto-generated method stub
        Log.i(tag, "in handler");
        super.handleMessage(msg);
        switch(msg.what){
        case SUCCESS_CONNECT:
            // DO something
            ConnectedThread connectedThread = new ConnectedThread((BluetoothSocket)msg.obj);
            Toast.makeText(getApplicationContext(), "CONNECT", Toast.LENGTH_SHORT).show();
            String s = "successfully connected";
            connectedThread.write(s.getBytes());
            Log.i(tag, "connected");
            break;
        case MESSAGE_READ:
            byte[] readBuf = (byte[])msg.obj;
            String string = new String(readBuf);
            Toast.makeText(getApplicationContext(), string, 0).show();
            break;
        }
    }
};
@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.activity_main);
    init();
    if(btAdapter==null){
        Toast.makeText(getApplicationContext(), "No bluetooth detected", 0).show();
        finish();
    }
    else{
        if(!btAdapter.isEnabled()){
            turnOnBT();
        }

        getPairedDevices();
        startDiscovery();//
    }

}

public void resumeDiscovery(View view){
    btAdapter.cancelDiscovery();
    btAdapter.startDiscovery();
}

private void startDiscovery() {
    // TODO Auto-generated method stub
    btAdapter.cancelDiscovery();
    btAdapter.startDiscovery();

}
private void turnOnBT() {
    // TODO Auto-generated method stub
    Intent intent =new Intent(BluetoothAdapter.ACTION_REQUEST_ENABLE);
    startActivityForResult(intent, 1);
}
private void getPairedDevices() {
    // TODO Auto-generated method stub
    devicesArray = btAdapter.getBondedDevices();
    if(devicesArray.size()>0){
        for(BluetoothDevice device:devicesArray){
            pairedDevices.add(device.getName());

        }
    }
}
private void init() {
    // TODO Auto-generated method stub
    listView=(ListView)findViewById(R.id.listView);
    listView.setOnItemClickListener(this);
    listAdapter= new ArrayAdapter<String>(this, android.R.layout.simple_list_item_1,0);
    listView.setAdapter(listAdapter);
    btAdapter = BluetoothAdapter.getDefaultAdapter();
    pairedDevices = new ArrayList<String>();
    filter = new IntentFilter(BluetoothDevice.ACTION_FOUND);
    devices = new ArrayList<BluetoothDevice>();
    receiver = new BroadcastReceiver(){
        @Override
        public void onReceive(Context context, Intent intent) {
            // TODO Auto-generated method stub
            String action = intent.getAction();

            if(BluetoothDevice.ACTION_FOUND.equals(action)){
                BluetoothDevice device = intent.getParcelableExtra(BluetoothDevice.EXTRA_DEVICE);
                devices.add(device);
                String s = "";
                for(int a = 0; a < pairedDevices.size(); a++){
                    if(device.getName().equals(pairedDevices.get(a))){
                        //append 
                        s = "(Paired)";
                        break;
                    }
                }

                listAdapter.add(device.getName()+" "+s+" "+"\n"+device.getAddress());
            }

            else if(BluetoothAdapter.ACTION_DISCOVERY_STARTED.equals(action)){
                // run some code
            }
            else if(BluetoothAdapter.ACTION_DISCOVERY_FINISHED.equals(action)){
                // run some code

            }
            else if(BluetoothAdapter.ACTION_STATE_CHANGED.equals(action)){
                if(btAdapter.getState() == btAdapter.STATE_OFF){
                    turnOnBT();
                }
            }

        }
    };

    registerReceiver(receiver, filter);
     filter = new IntentFilter(BluetoothAdapter.ACTION_DISCOVERY_STARTED);
    registerReceiver(receiver, filter);
     filter = new IntentFilter(BluetoothAdapter.ACTION_DISCOVERY_FINISHED);
    registerReceiver(receiver, filter);
     filter = new IntentFilter(BluetoothAdapter.ACTION_STATE_CHANGED);
    registerReceiver(receiver, filter);
}

@Override
protected void onPause() {
    // TODO Auto-generated method stub
    super.onPause();
    unregisterReceiver(receiver);
}

    @Override
    protected void onActivityResult(int requestCode, int resultCode, Intent data) {
        // TODO Auto-generated method stub
        super.onActivityResult(requestCode, resultCode, data);
        if(resultCode == RESULT_CANCELED){
            Toast.makeText(getApplicationContext(), "Bluetooth must be enabled to continue", Toast.LENGTH_SHORT).show();
            finish();
        }
    }
    public void onItemClick(AdapterView<?> arg0, View arg1, int arg2,
            long arg3) {
        // TODO Auto-generated method stub
        BluetoothDevice selectedDevice = devices.get(arg2);
        if(btAdapter.isDiscovering()){
            btAdapter.cancelDiscovery();
        }
        if(listAdapter.getItem(arg2).contains("Paired")){

            ConnectThread connect = new ConnectThread(selectedDevice);
            connect.start();
            Log.i(tag, "in click listener");
        }
        else{
            Toast.makeText(getApplicationContext(), "pairing", 0).show();
            //pair device
        }
    }

    private class ConnectThread extends Thread {

        private final BluetoothSocket mmSocket;
        private final BluetoothDevice mmDevice;

        public ConnectThread(BluetoothDevice device) {
            // Use a temporary object that is later assigned to mmSocket,
            // because mmSocket is final

            BluetoothSocket tmp = null;
            mmDevice = device;
            Log.i(tag, "construct");
            // Get a BluetoothSocket to connect with the given BluetoothDevice
            try {
                // MY_UUID is the app's UUID string, also used by the server code
                tmp = device.createRfcommSocketToServiceRecord(MY_UUID);
            } catch (IOException e) { 
                Log.i(tag, "get socket failed");

            }
            mmSocket = tmp;
        }

        public void run() {
            // Cancel discovery because it will slow down the connection
            btAdapter.cancelDiscovery();
            Log.i(tag, "connect - run");

            try {
                // Connect the device through the socket. This will block
                // until it succeeds or throws an exception
                mmSocket.connect();
                Log.i(tag, "connect - succeeded");
            } catch (IOException connectException) {    Log.i(tag, "connect failed");
                // Unable to connect; close the socket and get out
                try {
                    mmSocket.close();
                } catch (IOException closeException) { }
                return;
            }

            // Do work to manage the connection (in a separate thread)

            mHandler.obtainMessage(SUCCESS_CONNECT, mmSocket).sendToTarget();
        }

        /** Will cancel an in-progress connection, and close the socket */
        public void cancel() {
            try {
                mmSocket.close();
            } catch (IOException e) { }
        }
    }

    private class ConnectedThread extends Thread {
        private final BluetoothSocket mmSocket;
        private final InputStream mmInStream;
        private final OutputStream mmOutStream;

        public ConnectedThread(BluetoothSocket socket) {
            mmSocket = socket;
            InputStream tmpIn = null;
            OutputStream tmpOut = null;

            // Get the input and output streams, using temp objects because
            // member streams are final
            try {
                tmpIn = socket.getInputStream();
                tmpOut = socket.getOutputStream();
            } catch (IOException e) { }

            mmInStream = tmpIn;
            mmOutStream = tmpOut;
        }

        public void run() {
            byte[] buffer;  // buffer store for the stream
            int bytes; // bytes returned from read()

            // Keep listening to the InputStream until an exception occurs
            while (true) {
                try {
                    // Read from the InputStream
                    buffer = new byte[1024];
                    bytes = mmInStream.read(buffer);
                    // Send the obtained bytes to the UI activity
                    mHandler.obtainMessage(MESSAGE_READ, bytes, -1, buffer)
                            .sendToTarget();

                } catch (IOException e) {
                    break;
                }
            }
        }

        /* Call this from the main activity to send data to the remote device */
        public void write(byte[] bytes) {
            try {
                mmOutStream.write(bytes);
            } catch (IOException e) { }
        }

        /* Call this from the main activity to shutdown the connection */
        public void cancel() {
            try {
                mmSocket.close();
            } catch (IOException e) { }
        }
    }
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2015-02-07T06:20:12.927

问题出在您的 init() 方法中，该方法在 onCreate() 方法中使用此活动注册了 BroadcastReceiver，而在 onPause() 中，您已取消注册 BroadcastReceiver。

> 尝试在您的**onResume()**方法中注册它，以便在您恢复到此活动时接收广播。

# web-services - Yaws SOAP 客户端内容类型

> ID：15964665
> 
> 赞同：1
> 
> 时间：2013-04-12T06:35:53.257
> 
> 标签：web-services, erlang, spring-ws, webservices-client, yaws

我在 Tomcat 上部署了一个示例 Spring-WS WebService。我可以使用 Java 客户端成功调用它，但是当我尝试使用 Yaws 客户端时：

```
Wsdl = yaws_soap_lib:initModel("http://localhost:8080/EncryptionService/holiday.wsdl").
yaws_soap_lib:call(Wsdl, "Holiday", [], [{'p:HolidayRequest', [], "aaa"}]). 
```

我得到一个服务器端异常：

```
org.apache.catalina.core.StandardWrapperValve invoke
SEVERE: Servlet.service() for servlet [spring-ws] in context with path [/EncryptionService] threw exception [Request processing failed; nested exception is org.springframework.ws.soap.SoapMessageCreationException: Could not create message from InputStream: Invalid Content-Type:application/xml. Is this an error message instead of a SOAP response?; nested exception is com.sun.xml.internal.messaging.saaj.SOAPExceptionImpl: Invalid Content-Type:application/xml. Is this an error message instead of a SOAP response?] with root cause
com.sun.xml.internal.messaging.saaj.SOAPExceptionImpl: Invalid Content-Type:application/xml. Is this an error message instead of a SOAP response?
        at com.sun.xml.internal.messaging.saaj.soap.MessageImpl.identifyContentType(MessageImpl.java:602)
        at com.sun.xml.internal.messaging.saaj.soap.MessageImpl.<init>(MessageImpl.java:275)
        at com.sun.xml.internal.messaging.saaj.soap.ver1_1.Message1_1Impl.<init>(Message1_1Impl.java:67)
        at
(...) 
```

当我比较 Java 和 Yaws HTTP 请求时，第一个请求有“Content-Type: text/xml; charset=utf-8”，而第二个请求有“Content-Type: application/xml; charset=utf-8”。但是，在 yaws_soap_lib.erl 源文件中，内容类型似乎是硬编码的：

```
make_request_body(Content, []) ->
    {"application/xml; charset=utf-8",
     "<?xml version=\"1.0\" encoding=\"utf-8\"?>"++ Content};
make_request_body(Content, AttachedFiles) ->
    {"application/dime",
     yaws_dime:encode("<?xml version=\"1.0\" encoding=\"utf-8\"?>" ++ Content,
                      AttachedFiles)}. 
```

当我将其更改为“text/xml”并重新编译时，Yaws 客户端工作正常。

**有没有办法让客户端在不更改源代码的情况下工作？**

我可以附加 WSDL 和请求/响应内容，但我认为这里没有必要。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-16T07:52:09.777

我不认为有，你为什么不在 github[项目的页面](https://github.com/klacke/yaws/issues)上提交错误报告？或者，甚至更好地提供补丁。

# javascript - 寻找画布关键帧暂停关键帧动画示例

> ID：15964666
> 
> 赞同：0
> 
> 时间：2013-04-12T06:35:54.120
> 
> 标签：javascript, canvas

我只是在寻找一种在画布中创建关键帧动画的方法来说 Go left pause go down。而已。我的整本书和互联网都有各种简洁的流畅动画和交互性课程，css3 有关键帧，但除了插件或框架之外，我找不到任何用于画布 javascript 的东西，我将在未来使用这些插件或框架，但我现在想要一个简单的方法.

```
 (function drawFrame () {
    window.requestAnimationFrame(drawFrame, canvas);
    context.clearRect(0, 0, canvas.width, canvas.height);

    ball.x += vx;
    ball.pause(2)// 2 seconds;
    ball.y += vx+1;
    ball.draw(context);
  }()); 
```

添加了我能弄清楚的唯一答案，嵌套 if 条件，呸。我不想尝试在此设置的基础上制作任何 4 个以上的关键帧

```
// Check to see if it reached target
       if (Math.abs(dx) < 1) {
          ball.x = targetX;
          //window.cancelRequestAnimationFrame(animRequest);
          log.value = "Animation done!";

// if it did, now fire off the second keyframe and check if it reached new target
          if(Math.abs(dy) < 1){
            ball.y = targetY;
          } else{
            var vy = dy * easing;
            ball.y += vy;
          }

        } 

// Otherwise continue first keyframe move.
        else {
          var vx = dx * easing;
          ball.x += vx;
        }
        ball.draw(context);
      } 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-12T18:00:46.767

[编辑以提供动画框架]

**这是我创建的用于制作关键帧动画的入门框架**

我保持简单，但你当然可以在这个框架上构建。

您可以定义 1 个或多个画布对象以在关键帧中使用，如下所示：

```
 // define a drawing function that will draw your object on the canvas
        var drawFn1=function(context,x,y){
            var radius=30;
            context.strokeStyle="blue";
            context.lineWidth=5;
            context.fillStyle="green";
            context.beginPath();
            context.arc(x, y, radius, 0, 2 * Math.PI, false);
            context.stroke();
            context.fill();
        }

        // create a new displayobject
        var displayObject1=new DisplayObject(200,100,drawFn1); 
```

然后将 1 个或多个显示对象添加到对象数组中。您可以单独设置所有这些对象的关键帧——所有对象都可以有单独的动画。

```
 // create an array of DisplayObjects
        var displayObjects=[];

        // push our displayObject1 into displayObjects
        displayObjects.push(displayObject1); 
```

然后添加您希望对象执行的操作（以及这些操作完成的持续时间）。您可以根据需要以任意组合添加任意数量的操作。现在，我只编写了两个动作：“移动”和“暂停”。您当然可以向框架添加更多操作。

如果需要，即使当前关键帧正在播放，您也可以添加动作。当前操作完成后，任何添加的操作都会排队等待执行。

下面的代码将导致对象：

1.  向左移动超过 20 帧，
2.  暂停 30 帧，
3.  向下移动超过 20 帧。

请注意，可以使用链接添加操作。

```
 // add actions for the displayobject
 displayObject1.moveBy(-75,0,20).pause(30).moveBy(0,75,20); 
```

这是代码和小提琴：http: [//jsfiddle.net/m1erickson/RjR9C/](http://jsfiddle.net/m1erickson/RjR9C/)

```
<!doctype html>
<html>
<head>
<link rel="stylesheet" type="text/css" media="all" href="css/reset.css" /> <!-- reset css -->
<script type="text/javascript" src="http://code.jquery.com/jquery.min.js"></script>

<style>
    body{ background-color: ivory; padding:15px; }
    canvas{border:1px solid red;}
</style>

<script>
    $(function(){

        var canvas=document.getElementById("canvas");
        var ctx=canvas.getContext("2d");

        // defines an action to accomplish
        function Action(type,msDuration){
            var type=type;
            var duration=msDuration;
            var incrementalX;
            var incrementalY;
        }

        function DisplayObject(X,Y,Drawfunction){

            this.drawFunction=Drawfunction;
            this.x=X;
            this.y=Y;

            this.actionStack=[];
            this.currentAction=null;
            this.IsActive=false;

        }
        DisplayObject.prototype.pause=function(duration){
            var action=new Action();
            action.type="pause";
            action.duration=duration;
            this.actionStack.push(action)
            this.IsActive=true;
            return(this);
        }
        DisplayObject.prototype.test=function(){
          alert("test");
        }
        DisplayObject.prototype.moveBy=function(offsetX,offsetY,duration){
            var action=new Action();
            action.type="moveBy";
            action.duration=duration;
            action.incrementalX=offsetX/duration;
            action.incrementalY=offsetY/duration;
            this.actionStack.push(action)
            this.IsActive=true;
            return(this);
        }
        DisplayObject.prototype.tick=function(context){

            // If we have nothing to do...outta here!
            if(!this.IsActive){return;};

            //
            if(!this.currentAction){
                this.currentAction=this.actionStack.shift();
            }

            // animate the current frame
            this.doNextFrame(context);

            // decrement the tick countdown on our current action
            this.currentAction.duration--;

            // if this action is done then load the next action
            if(this.currentAction.duration<=0){
                if(this.actionStack.length>0){
                    this.currentAction=this.actionStack.shift();
                }else{
                    this.currentAction=null;
                    this.IsActive=false;
                }
            }

        }
        DisplayObject.prototype.doNextFrame=function(context){

            // update based on currentAction
            switch(this.currentAction.type){
                case "pause":
                    break;
                case "moveBy":
                    this.x+=this.currentAction.incrementalX;
                    this.y+=this.currentAction.incrementalY;
                    break;
                default:
                    break;
            }

            // draw ourself
            this.drawFunction(context,this.x,this.y);

        }

        //  Here’s how you make use of this AnimationFrame framework

        var drawFn1=function(context,x,y){
            var radius=30;
            context.strokeStyle="blue";
            context.lineWidth=5;
            context.fillStyle="green";
            context.beginPath();
            context.arc(x, y, radius, 0, 2 * Math.PI, false);
            context.stroke();
            context.fill();
        }
        // create a new displayobject
        var displayObject1=new DisplayObject(200,100,drawFn1);
        // add actions for the displayobject
        displayObject1.moveBy(-75,0,20).pause(30).moveBy(0,75,20);

        // create an array of DisplayObjects
        var displayObjects=[];
        // push our displayObject1 into displayObjects
        displayObjects.push(displayObject1);

        function runOneFrame(){
            ctx.clearRect(0,0,canvas.width,canvas.height);
            for(var i=0;i<displayObjects.length;i++){
                displayObjects[i].tick(ctx);
            }
        }

        var fps = 20;
        function Ticker() {
            setTimeout(function() {
                requestAnimationFrame(Ticker);
                runOneFrame();
            }, 1000/fps);
        }

        $("#go").click(function () { Ticker(); $("#go").hide(); });        

    }); // end $(function(){});
</script>

</head>

<body>
    <button id="go">Begin animation frames</button><br/>
    <p>The display will go left, pause and go down.</p>
    <canvas id="canvas" width=300 height=300></canvas>
</body>
</html> 
```

# core-location - 查找从当前位置到另一个位置的航向

> ID：15964669
> 
> 赞同：0
> 
> 时间：2013-04-12T06:36:04.740
> 
> 标签：core-location

我可以通过拨打电话找到到另一个位置的距离`[CLLocation distanceFromLocation:]`。是否有相应的方法可以找到从一个位置到另一个位置的航向？还是我必须自己编写三角函数？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-17T19:55:19.137

显然，答案是“不”。

# java - 使用 401 响应基本身份验证/授权。第二次发送相同的用户名/密码

> ID：15964671
> 
> 赞同：-1
> 
> 时间：2013-04-12T06:36:07.537
> 
> 标签：java, http-headers, authorization, basic-authentication

我正在编写一个响应基本请求的 java 程序 - 以此作为参考 - [http://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html](http://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html)

浏览器第一次发送没有凭据的 GET 请求。我用 401 回复。

```
out.println("HTTP/1.1 401 Unauthorized");
out.println("Server: My Test Server");
out.println("Content-Type: text/html; charset=iso-8859-1");
out.println("Accept-Ranges: bytes");
out.println("Connection: close");
out.println("WWW-Authenticate: Basic realm=\"myrealm\"");
out.println(); 
```

（出是插座）。

所以浏览器发回相同的请求，但现在使用用户名/密码。如果用户名/密码是正确的，我会发回 200 和一切都是 hunkydory。

但是，如果用户名/密码错误，我会再次发回 401（使用与原始请求完全相同的代码，但没有凭据。在这种情况下，我再次收到与以前相同的用户名/密码相同的请求。并且我再次发回 401。这一次循环停止。

需要注意的一点是，在带有凭据的 2 个 GET 请求中，请求带有相同的 uname/password，但请求的顺序不同。

IE

带有凭据的第一个请求

```
GET /basic HTTP/1.1
Authorization: Basic dHJ5OjEyMzQ1Ng==
User-Agent: Jakarta Commons-HttpClient/2.0.2
Host: IPAddress:Port of my program 
```

带有凭据的第二个请求

```
GET /basic HTTP/1.1
User-Agent: Jakarta Commons-HttpClient/2.0.2
Host: IPAddress:Port of my program
Authorization: dHJ5OjEyMzQ1Ng== 
```

关于用户代理，我认为 Jakarta Commons-HttpClient/2.0.2 是网络服务器用来将请求转发到我的程序的库。

我在这里做错了什么？错误的凭据是否需要与没有凭据不同的响应？或者这是位于浏览器和我的程序之间的程序的问题（将浏览器的请求转发给我的程序）。发送请求只是为了确保我的程序不会因为原始请求的顺序而拒绝请求吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-12T08:15:18.700

如果没有提供凭据，我遇到的每台服务器最初都会发送 401，然后如果提供了凭据但无效，则会发回[403 错误。](http://en.wikipedia.org/wiki/HTTP_403)

401 = 您需要获得授权，请给我发送凭据

403 = 我看到了你的凭据，但你没有被授权。

# ios - 当设备被锁定和解锁几次时，Ui 变得扭曲-objectivec

> ID：15964675
> 
> 赞同：1
> 
> 时间：2013-04-12T06:36:13.997
> 
> 标签：ios, ios4

我对objectivec并不陌生，但我对我面临的问题并不陌生，我有一个带有两个按钮取消和确定的警报视图，当设备/模拟器被锁定和解锁几次时，警报ui被扭曲，这意味着每个设备锁的按钮移动 2px，我用谷歌搜索了很多，但我没有得到任何线索。谁能帮帮我吗。提前致谢

# ruby-on-rails - Twitter::Error::Unauthorized in PostsController#create - 无效或过期的令牌

> ID：15964676
> 
> 赞同：1
> 
> 时间：2013-04-12T06:36:17.773
> 
> 标签：ruby-on-rails, ruby, twitter, omniauth, twitter-oauth

为什么“创建”会给我一个无效/过期的令牌错误？

用户可以正常登录（因此他们已正确验证）但是当他们尝试创建帖子时，我收到此错误。我使用 Omniauth gem (v1.1.4) 进行身份验证，使用 Twitter gem (v4.6.2) 发布到 Twitter。如果重要的话，Omniauth-twitter gem 是 v0.0.16。

这是导致我出错的代码

```
class PostsController < ApplicationController
  def create
    Twitter::Client.new.update(@post.content)
  end
end 
```

这是用户模型的一部分（user.rb）

```
def twitter
  unless @twitter_user
    provider = self.authentications.find_by_provider('twitter')
    @twitter_user = Twitter::Client.new(:oauth_token => provider.token, :oauth_token_secret => provider.secret) rescue nil
  end
  @twitter_user
end 
```

这是我的omniauth初始化程序

```
Rails.application.config.middleware.use OmniAuth::Builder do
  configure do |config|
    config.path_prefix = '/auth'
  end

  provider :twitter, "xxxxxxxxxxxxxxxxxxxx", "xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"
end

Twitter.configure do |config|
  config.consumer_key = "xxxxxxxxxxxxxxxxxxxx"
  config.consumer_secret = "xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"
  config.oauth_token = :token
  config.oauth_token_secret = :secret
end 
```

我的架构：

```
create_table "authentications", :force => true do |t|
  t.integer  "user_id"
  t.string   "provider"
  t.string   "uid"
  t.datetime "created_at", :null => false
  t.datetime "updated_at", :null => false
  t.string   "secret"
  t.string   "token"
end 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-05-07T10:24:19.377

我认为您正在使用的“身份验证”表中的当前“令牌”和“秘密”已经过期。

*   您可以简单地尝试删除“身份验证”表中的所有行，然后再次使用 twitter 帐户登录并查看它是否正常工作。
*   或者尝试在用户代码通过 twitter 帐户进行身份验证后设置断点，然后在手动设置“token”和“secret”以及返回的身份验证信息后执行推文发布行：["credentials"]["token"]和[“凭证”][“令牌”]。我认为这条推文会发布。

如果它仍然不起作用，您最好显示其他相关代码，如会话控制器。您的身份验证流程的全貌将更有助于解决问题。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-12T08:04:14.397

你需要像“@twitter_user.update”这样的东西。对于您使用“Twitter::Client.new”创建的每个 Twitter 用户，您必须提供omniauth 的令牌和秘密（就像您在“user.rb”模型中所做的那样）

```
class PostsController < ApplicationController
  def create
    # get twitter user. Feel free to change it depending on your app
    @twitter_user = User.twitter
    @twitter_user.update(@post.content)
  end
end 
```

# c - 如何将 subjectNameAlt 扩展添加到 X509_REQ？

> ID：15964681
> 
> 赞同：10
> 
> 时间：2013-04-12T06:36:30.163
> 
> 标签：c, openssl, x509

我正在创建一个将由我的服务器处理的 CSR。它需要设置 subjectNameAlt 以便服务器可以处理它。我进行了广泛的搜索，只发现如何使用普通的 X509 证书而不是 X509_REQ。我怎样才能做到这一点（使用 C 和 OpenSSL。即我需要相当于`X509_get_ext_d2i`but for `X509_REQ`）？

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2013-04-12T08:15:20.607

# 以编程方式

查看[`demos/x509/mkreq.c`](http://git.openssl.org/gitweb/?p=openssl.git;a=blob;f=demos/x509/mkreq.c;h=d1cba9dc5a6d393444f78b23101afdaf7b3436c7;hb=HEAD)OpenSSL 附带的文件。它会创建一个请求并添加一个电子邮件地址作为替代名称。剥离它执行以下操作：

```
exts = sk_X509_EXTENSION_new_null();
add_ext(exts, NID_subject_alt_name, "email:steve@openssl.org");
X509_REQ_add_extensions(x, exts);
sk_X509_EXTENSION_pop_free(exts, X509_EXTENSION_free); 
```

是这样实现的`add_ext`：

```
int add_ext(STACK_OF(X509_EXTENSION) *sk, int nid, char *value) {
  X509_EXTENSION *ex;
  ex = X509V3_EXT_conf_nid(NULL, NULL, nid, value);
  if (!ex)
    return 0;
  sk_X509_EXTENSION_push(sk, ex);
  return 1;
} 
```

# 从命令行

*尽管 OP 请求了 API，但我将这部分留给其他人。*

[https://wiki.cacert.org/FAQ/subjectAltName](https://wiki.cacert.org/FAQ/subjectAltName)建议将`openssl.cnf`文件复制到临时`openssl-san.cnf`文件，然后像这样编辑：

```
[req]
req_extensions = v3_req

[ v3_req ]
basicConstraints = CA:FALSE
keyUsage = nonRepudiation, digitalSignature, keyEncipherment
subjectAltName = @alt_names

[alt_names]
DNS.1 = host1.yourdomain.tld
DNS.2 = host2.yourdomain.tld 
```

# iphone - 如何在没有 wifi 和 3g 的情况下将推送通知传递到 iOS 设备？

> ID：15964689
> 
> 赞同：1
> 
> 时间：2013-04-12T06:37:05.930
> 
> 标签：iphone, ios, objective-c, push-notification

虽然在大多数情况下，开发人员都在抱怨缺少通知，但我想问一下，如何在关闭 wifi 并移除 sim 卡的情况下在 iOS 设备上获得推送通知。我有没有 sim 卡的 iPhone4，并且设备一直处于飞行模式（wifi 关闭）。我有时会打开 wifi，但有 3 种情况是我收到推送通知并且在飞行模式打开的情况下仔细检查了 wifi 已关闭。

也许这是一个巧合，但我注意到这些通知在一个月前开始出现。它是一个新的 iOS 功能还是我们可以使用的一些隐藏机制？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-12T06:41:50.730

嗨，我认为您正在谈论本地通知，例如可以在一天或几分钟后触发。

[https://developer.apple.com/library/IOs/documentation/NetworkingInternet/Conceptual/RemoteNotificationsPG/Introduction.html](https://developer.apple.com/library/IOs/documentation/NetworkingInternet/Conceptual/RemoteNotificationsPG/Introduction.html)

阅读更多关于 UILocalNotification

我还发现了这个可以帮助你的博客[http://www.icodeblog.com/2010/07/29/iphone-programming-tutorial-local-notifications/](http://www.icodeblog.com/2010/07/29/iphone-programming-tutorial-local-notifications/) 你可以直接去号码“4.调度通知”查看强壮的部分

# javascript - 如何缩小由 ASP.NET 生成的 javascript

> ID：15964695
> 
> 赞同：4
> 
> 时间：2013-04-12T06:37:29.417
> 
> 标签：javascript, asp.net, minify

我知道很少有 javascript 文件压缩器/压缩器。最近我正在使用 pagesped 和 Yslow，这表明所有的 java 脚本都应该被缩小。因此我们也缩小了所有的内联脚本。我们仍然收到缩小 Java 脚本的建议。经过验证，我发现 ASP.NET 为它的控件和其他东西生成了 java 脚本。我想知道如何缩小由 ASP.NET 生成的 [将] 脚本。据我所知，我们无法进行此预构建。IIS 中指定 ASP.NET 生成缩小 js 的任何设置？

我已经关闭了调试模式。仍然没有缩小

请在这件事上给予我帮助....

为我的网站生成的脚本的一部分是：

```
function WebForm_PostBackOptions(eventTarget, eventArgument, validation, validationGroup, actionUrl, trackFocus, clientSubmit) {
    this.eventTarget = eventTarget;
    this.eventArgument = eventArgument;
    this.validation = validation;
    this.validationGroup = validationGroup;
    this.actionUrl = actionUrl;
    this.trackFocus = trackFocus;
    this.clientSubmit = clientSubmit;
}
function WebForm_DoPostBackWithOptions(options) {
    var validationResult = true;
    if (options.validation) {
        if (typeof(Page_ClientValidate) == 'function') {
            validationResult = Page_ClientValidate(options.validationGroup);
        }
    }
    if (validationResult) {
        if ((typeof(options.actionUrl) != "undefined") && (options.actionUrl != null) && (options.actionUrl.length > 0)) {
            theForm.action = options.actionUrl;
        }
        if (options.trackFocus) {
            var lastFocus = theForm.elements["__LASTFOCUS"];
            if ((typeof(lastFocus) != "undefined") && (lastFocus != null)) {
                if (typeof(document.activeElement) == "undefined") {
                    lastFocus.value = options.eventTarget;
                }
                else {
                    var active = document.activeElement;
                    if ((typeof(active) != "undefined") && (active != null)) {
                        if ((typeof(active.id) != "undefined") && (active.id != null) && (active.id.length > 0)) {
                            lastFocus.value = active.id;
                        }
                        else if (typeof(active.name) != "undefined") {
                            lastFocus.value = active.name;
                        }
                    }
                }
            }
        }
    }
    if (options.clientSubmit) {
        __doPostBack(options.eventTarget, options.eventArgument);
    }
} 
```

# c++ - 获取带有文件名的额外字符

> ID：15964702
> 
> 赞同：1
> 
> 时间：2013-04-12T06:37:51.317
> 
> 标签：c++, visual-studio-2012, file-handling, cfilefind

我正在使用 CFileFind 来获取文件列表。我总是有一个特定文件的问题。获取带有额外字符“？”的文件标题 附加 .

原名：_KO - Ennamo Yedho Video Song HD_test‏.txt

检索名称：_KO - Ennamo Yedho Video Song HD_test?.txt

```
 CFileFind finder ;

    bool bWorking = finder.FindFile ("F:\\*.*")  ;

     while (bWorking)
     {
        bWorking = finder.FindNextFile ( ) ;
        CString file_lst  =finder.GetFileTitle()  ;
     } 
```

我也在命令提示符中检查了相同的问题。同样的问题正在发生。有人指导我哪里错了。

![在此处输入图像描述](https://i.stack.imgur.com/t7xaA.png)

![在此处输入图像描述](https://i.stack.imgur.com/lWw1y.png)

# java - Java PDFBox - 使用特殊字符（变音符号）读取和修改 pdf

> ID：15964704
> 
> 赞同：8
> 
> 时间：2013-04-12T06:38:02.373
> 
> 标签：java, pdf, utf-8, diacritics, pdfbox

我正在尝试使用此方法修改 pdf（第一个代码块 - 使用 PDFStreamParser 并遍历 PDFOperator，然后在需要时更新 COSString）：

[http://www.coderanch.com/t/556009/open-source/PdfBox-Replace-String-double-pdf](http://www.coderanch.com/t/556009/open-source/PdfBox-Replace-String-double-pdf)

我遇到了一些 UTF-8 字符（变音符号）的问题：当我打印要更新的文本时，它会显示为“Societ？?ii Na?ionale”（其中“？”是 0002 或 0004 之类的代码）。

有趣的是：

1.  当我编写更新的 pdf 文件时，字符显示正确（即使我无法检测到并替换它们）
2.  如果我尝试使用 PDFTextStripper 的 getText(...) 剥离文本，则文本被完美提取。
3.  我尝试了 2 个 pdfbox 版本：1.5.0（其行为如上所述）和 1.8.1（最终的书面 pdf 文件未正确显示特殊字符并且文档中出现“空”字符串）

对于用于更新 pdf 的类（或至少尝试...），我可以做什么（配置）以便正确显示所有 UTF-8 字符？

编辑：

截屏：![在此处输入图像描述](https://i.stack.imgur.com/BN3jo.png)

编辑2：

我搜索了 PDFTextStripper 及其超类中的 pdfbox 源代码，发现了文本是如何提取的：

在 processStream 方法的开头，我们有

```
graphicsState = new PDGraphicsState(aPage.findCropBox()); 
```

当剥离 processEncodedText 中的文本时，PDFont 类的实例使用如下：

```
final PDFont font = graphicsState.getTextState().getFont(); 
```

并且文本是从 byte[] 中提取的：

```
String c = font.encode( string, i, codeLength ); 
```

新问题是，当我用相同的 2 行代码实例化 PDFont 类时，我得到一个“null”字体类，因此我不能使用 .encode(...) 方法。这些类的源代码在这里： http: [//grepcode.com/file/repo1.maven.org/maven2/org.apache.pdfbox/pdfbox/1.5.0/org/apache/pdfbox/util/PDFStreamEngine.java](http://grepcode.com/file/repo1.maven.org/maven2/org.apache.pdfbox/pdfbox/1.5.0/org/apache/pdfbox/util/PDFStreamEngine.java)和[http://grepcode.com/file/repo1.maven.org/maven2/org.apache.pdfbox/pdfbox/1.5.0/org/apache/pdfbox/util/PDFTextStripper.java](http://grepcode.com/file/repo1.maven.org/maven2/org.apache.pdfbox/pdfbox/1.5.0/org/apache/pdfbox/util/PDFTextStripper.java)

我现在正在挖掘更多...

* * *

## 回答 #1

> 赞同：20
> 
> 时间：2013-04-12T14:12:44.320

您不能只替换字符串中的文本。我不是随便说的。很多年前我在Acrobat上工作过，并且在最初的版本中做过文本搜索工具，所以我对文本编码的问题有相当深入的了解。主要问题是 PDF 中的每个字符串都以某种方式编码。这是因为 PDF 是在 Unicode 普遍可用之前制作的，并且在 PostScript 中有一段历史。PosctScript 喜欢为字体提供非常灵活的编码方法，并鼓励重新编码。

因此，让我们退后一步，了解整个情况。

默认情况下，PDF 中的字符串中要使用文本运算符显示的字符被编码为一系列 8 位字符。为了确定为每个字节绘制的字形，该字节被推入该字体的编码向量。编码向量将字节映射到字形名称，然后在字体中查找并在页面上绘制。请注意，此描述是半真半假（稍后会详细介绍）。

大多数生成 PDF 的应用程序都很友好，并且只使用标准编码，例如`StandardEncoding`or `WinAnsiEncoding`，其中大多数都非常合理。其他人将使用标准编码以及**编码增量**，这是标准编码与编码内容的区别。

一些应用程序试图在他们生成的 PDF 中更加节俭，因此他们查看他们使用的字形并决定嵌入字体的子集。如果他们只使用大写和小写罗马字母和数字，他们会在没有这些元素的情况下重建字体，并且可能会选择重新索引它们并提供一个编码向量，使得字节 0x00 进入字形“a”，而 0x01 进入字形“b”等等。

现在回到半真半假。有一类字体由字符 ID（或 CID）编码，TrueType 和 OpenType 字体属于该类别。在这种情况下，您可以访问 Unicode，但是再次有一个编码步骤，您可以将现在为 UTF16BE 的字符串映射到用于从字体中获取字形的 CID。并且没有特别好的理由，Adobe 使用 PostScript 函数来进行映射。再一次，这大约是 3/4 的事实，因为对于旧的中文、日文和韩文字体管理也有不同的编码。

因此，在您轻松地将字符放入 PDF 字体的字符串之前，您必须问几个问题：

1.  我的字形在字体中吗？
2.  我的字形在编码中吗？
3.  我的字形的编码是什么？

其中任何一个都可能与您的期望不同。因此，例如，如果您想输入 Ä（一个 diresis），您必须查看该字体是否具有它的字形（可能不存在，因为该字体是一个子集）。那么字体可能有一个有趣的编码，可能不包括字形。最后，用于 Ä 的实际字节值可能不是标准的。

因此，当我看到有人试图简单地替换 PDF 内容中的一大段文本时，我所看到的只是一个痛苦的世界。对于大多数理智的 PDF 来说，这在 90% 的情况下都有效，但对于任何异国情调的东西——祝你好运。PDF 的文本渲染怪癖非常痛苦，有时更容易将其视为只写格式。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-16T08:29:40.140

最后，似乎提取 pdf 文件中的字体的过程相当复杂。我无法明确使用字体，所以我在 PDFStreamEngine 的代码和扩展 OperatorProcessor 的类中进行了搜索，发现 PDFont 对象是如何创建到地图中的（我几乎复制了提取变音符号所需的代码块） . 因此，之后我在通过 parser.getTokens() 交互时使用检测到的字体对“字符串”中的每个字符调用 encode(...) 方法。

# winforms - 找不到vb6的dll？

> ID：15964708
> 
> 赞同：0
> 
> 时间：2013-04-12T06:38:22.310
> 
> 标签：winforms, visual-studio-2010, vb6-migration

我有一个 vb6 项目，当我尝试在 .net 4.0 中升级它时，它在引用中显示了一些错误（我知道这很明显），它们就像

```
The referenced component 'AxMSCommLib' could not be found.  
The referenced component 'AxOWC' could not be found.    
The referenced component 'ComctlLib' could not be found.    
The referenced component 'Microsoft.Office.Interop.Excel' could not be found. 
```

有人告诉我安装 vb6 并找出这些引用并将它们添加到 .net 项目中，我安装了 vb6 但我仍然无法找到那些 dll？

如何解决这个问题，我应该只在我想扩展它时选择 vb6 还是有任何解决这个问题的选项？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-12T06:48:36.773

将 VB 6 应用程序迁移到 .NET 需要*大量*工作。通常不会完全重写，但在处理不平凡的应用程序时仍然是一项相当大的工作。因此，如果您只想进行一两个小的更改，那么您可能应该坚持使用 VB 6。

如果您决定进行转换，是的，您需要安装 VB 6 才能访问这些控件库。但您可能不想继续使用它们。它们几乎都是古老的控件，取而代之的是 .NET Framework 中更新更好的选项。例如，现在应该使用[`System.IO.Ports.SerialPort`类](http://msdn.microsoft.com/en-us/library/system.io.ports.serialport.aspx)`AxMsCommLib`而不是. 这是我上面讨论的“工作”部分。

最后一个例外，它需要安装 Microsoft Office。它仍然是您在 VB.NET 中进行 Office 互操作的方式。

# mysql - 数据类型长度会影响性能吗？

> ID：15964709
> 
> 赞同：0
> 
> 时间：2013-04-12T06:38:23.353
> 
> 标签：mysql, database, database-design

关于数据类型的长度，我有一个非常普遍的问题。假设我已经分配了一个`varchar(2500)`并且我只使用了最多 100 个字节。我指定的其余未使用长度会影响任何事情吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-12T06:41:39.857

`VARCHAR`只需要 100 个。其余的内存将被其他字段使用。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-12T06:43:50.203

看看这个参考（mysql）：[http ://dev.mysql.com/doc/refman/5.0/en/char.html](http://dev.mysql.com/doc/refman/5.0/en/char.html)

# ruby - activerecord 查找和更新

> ID：15964716
> 
> 赞同：7
> 
> 时间：2013-04-12T06:38:57.790
> 
> 标签：ruby, activerecord

ActiveRecord::Base 上是否有一个方法 find_and_update 方法，它基本上可以通过它的 id 找到一条记录并更新给定的键？这将避免必须查询然后更新导致 2 个查询而不是 1 个。

谢谢

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-04-12T07:10:25.560

There is an update method in active record, which finds by id and updates attributes. But this will make two sql queries.

```
update(id, attributes) 
```

eg

```
 Post.update(params[:id], {:title => 'Hello world'}) 
```

If you dont want validations to happen, you could use

```
Post.update_all({:title => 'hello1'}, {:id => params[:id]}) 
```

This will make only one sql query

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2017-06-14T21:29:01.097

```
User.where(id: id).update_all(foo: bar) 
```

这只会生成一个查询。

# spring - 如何在新窗口或选项卡中制作返回的模型和视图页面（jsp）？

> ID：15964720
> 
> 赞同：0
> 
> 时间：2013-04-12T06:39:12.793
> 
> 标签：spring, spring-mvc

我想在新窗口或选项卡中创建返回的模型和视图页面（jsp）。我的代码已附上..

```
@RequestMapping(value = "processDetails")
    public ModelAndView getProcessDetails(HttpServletRequest request, HttpServletResponse response) {
    String resourceId = request.getParameter("resourceId");
    System.out.println("====resourceId:" + resourceId);
    ModelAndView mv = new ModelAndView("inventory/processDetails");
    List<SoftwareRunning> list4 = inventoryService.getSoftwaresRunning(resourceId);
    mv.addObject("ProcessDetails", list4);
    return mv;
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-12T06:59:41.627

你不能只用java来做到这一点。打开一个新选项卡（或窗口）是一个客户端过程。如果你想实现这一点，你必须使用 javascript。但是，您仍然不知道它是否会打开一个新选项卡或一个新窗口。这取决于客户端浏览器的偏好。检查 javascript 的 window.open，参数 target 设置为 _blank。

# c# - 如何连续一张一张地移动图像？

> ID：15964725
> 
> 赞同：-2
> 
> 时间：2013-04-12T06:39:34.973
> 
> 标签：c#, javascript, asp.net, css

我正在 asp.net.in 中开发一个网站，我想连续移动“x”个图像。我将解释场景。考虑一下我有 5 张图像，编号分别为 1、2、3、4、5。最初它的顺序是 1 2 3 4 5。10 秒后它是这个顺序 2 3 4 5 1，再过 10 秒后顺序是 3 4 5 1 2。

任何人都可以帮我编写代码吗？提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-25T05:47:59.350

我相信您想要的是图像滑块之类的东西？或类似旋转木马的东西？

您需要 jquery 检查此[链接](http://www.htmldrive.net/categorys/show/2/Slideshow-Scroller)，它具有图像幻灯片和滚动条的不同示例。我也有说明如何使用它。

# mysql - MYSQL更新具有不同值的单列

> ID：15964726
> 
> 赞同：3
> 
> 时间：2013-04-12T06:39:35.713
> 
> 标签：mysql, sql, sql-update

有这个表“ `Trade`”，列“ `call`”，调用包含`values(C,P)`从 CSV 加载时我想从 java 程序更新贸易，这样`if call='C' then call='CE'`和

`if call='P' then call='PE'`

我发现这可以使用 2 个查询来完成。像这样

```
update Trade set call='CE' where call='C';

update Trade set call='PE' where call='P'; 
```

无论如何这可以在单个查询中完成吗？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-04-12T06:42:07.463

`CALL`是保留关键字，需要转义。

```
UPDATE  Trade
SET     `CALL` = CASE   WHEN `Call` = 'C' THEN 'CE'
                        WHEN `Call` = 'P' THEN 'PE'
                    ELSE `CALL` END
WHERE   `CALL` IN ('C','P') 
```

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2013-04-12T06:43:03.577

我看到的最短解决方案：

```
UPDATE Trade 
SET call = CONCAT(call,'E')
WHERE call IN ('C', 'P'); 
```

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2013-04-12T06:41:45.153

`CASE`是的，您可以使用表达式在一个查询中执行此操作。像这样的东西：

```
update Trade 
set call = CASE 
             WHEN callputtype='C' THEN 'CE' 
             WHEN callputtype='P' THEN 'PE' 
           END
where callputtype IN ('c', 'P'); 
```

# java - 如何使用 netbeans IDE 在 Java 中绘制匹配线

> ID：15964727
> 
> 赞同：1
> 
> 时间：2013-04-12T06:39:38.170
> 
> 标签：java, xml, netbeans

我对 XML 模式匹配感兴趣。我使用 java 库 XSOM 来解析两个 XML Schema 并将它们显示为树并找到它们之间的差异。

我要求的是如何画线显示两棵树的匹配节点。我已经使用 Java swing 显示了两棵树，但我不知道如何在两个树列表之间画线。如下图所示（编辑图片以显示需要）：

![xsd1 和 xsd2 树匹配](https://i.stack.imgur.com/sInWR.jpg)

有任何想法吗？谢谢

# codeigniter - 从 codeigniter 编辑数据库记录

> ID：15964728
> 
> 赞同：1
> 
> 时间：2013-04-12T06:39:49.223
> 
> 标签：codeigniter, codeigniter-2

我正在建立一个网站，用户可以在其中成为会员并拥有最少的个人资料。尽管如此，如果该用户希望更新他的记录（关于我、电子邮件、电话号码等），我想要一个链接“编辑个人资料”。单击后，表单会加载输入字段，其中的值是从该用户的数据库记录中填充的。他/她可以更改字段中的值并单击保存更改，然后将这些值提交到数据库。

我尝试了几次，但一直失败。以下是我尝试以表单形式加载数据的代码：

```
public function load_edit()
    {
        //check user logged in 
        if(($this->session->userdata('username')!=""))
        {
            $data;
            $result = $this->profileModel->load_user_editable_data($this->session->userdata('username'));
            //check user data loaded successfully
            if(isset($result))
            {
                //get the user information and store to $data array 
                foreach($result as &$value)
                {
                    $data = $value; 
                }

                $this->load->view('profile_edit', $data);
            }
        }else{
            $this->login();
        }       
    } 
```

并更新数据库表中的记录：

```
public function update_edit()
    {

         $this->form_validation->set_rules('fullname', 'الاسم الكامل', 'isset|required|alpha_dash');

        if(isset($_POST))
        {
            //check user logged in 
            if(($this->session->userdata('username')!=""))
            {
                //check that there are no form validation errors
                if($this->form_validation->run() == FALSE)
                {   
                    $data = $this->profileModel->load_user_editable_data($this->session->userdata('username'));
                    $this->load->view('profile_edit', $data);
                }else{
                    $result = $this->profileModel->update_profile($this->session->userdata('username'));
                    if($result){

                        $this->load->view('profile_edit', $result);             
                    }
                }
            }
        }else{
            $this->load->view('error');
        }   
    } 
```

我在执行上述代码时遇到的主要问题是，当我执行 update_edit 时，它总是告诉我表单验证失败，即使字段的条件得到满足。

提前感谢您的帮助:)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-12T07:02:37.127

我不知道验证规则**isset**。尝试不使用它。

如果问题仍然存在，请尝试在 update_edit 中执行 print_r($_POST)，然后再检查 isset($_POST)。还要检查您的 Session 变量用户名是否存在。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-12T20:11:11.490

您可以使用一个控制器功能来完成它，而且更容易：

```
public function edit($user_id = null) {

        $data['url'] = "edit/$user_id"; // URL
        $this->load->vars($data); // Load URL for FORM
        $user = $this->profileModel->get_user($user_id); // Select USER by ID

    if($this->input->post('save')) {
        $this->form_validation->set_rules('username', 'Username', 'required');
        if($this->form_validation->run()) {

            $user['username'] = $this->input->post('username'); // Get new username
            $this->profileModel->edit($user); // Edit
            // redirect somewhere. Edit done!
        }
    }

    $this->load->view('content', 'profile_edit', $user);
} 
```

这是简单的示例。您可以使用会话 ID 或带有参数的 ID（就像我所做的那样）。

我希望你会明白

# jquery - 将 ajax 结果存储在 jQuery 变量中

> ID：15964734
> 
> 赞同：4
> 
> 时间：2013-04-12T06:40:11.910
> 
> 标签：jquery, ajax, jquery-get

我开始使用 jQuery 和 ajax 从数据库中获取数据，但我不知道如何将 $.get() 的结果保存到回调函数外部的变量中。

这是我的 jquery 脚本：

```
var result="";     
$.get("test.php", function(data){ result=data; });
alert(result); 
```

这是 test.php 脚本：

```
echo "Hello, World"; 
```

每次我运行此脚本时，它都会提醒“”。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-04-12T06:50:38.363

尝试这个：

```
var result = "";
$.get("test.php", function (data) {
    SomeFunction(data);
});

function SomeFunction(data) {
    result = data;
    alert(result);
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-12T06:42:11.197

您的警报将在`$.get`返回任何数据之前被触发。

改为在事件上运行警报 - 例如单击：

```
var result="";     
$.get("test.php", function(data){ result=data; });
<span onclick="alert(result);">show alert</span> 
```

# hadoop - EC2 上 Hadoop 中的 BindException

> ID：15964735
> 
> 赞同：9
> 
> 时间：2013-04-12T06:40:13.363
> 
> 标签：hadoop, amazon-ec2, hdfs, cloudera

我正在尝试在 EC2 实例上设置 Hadoop 集群（CDH4）。当我尝试对其进行格式化时，名称节点不断崩溃。这是我得到的错误。

```
 2013-04-12 05:37:16,995 FATAL org.apache.hadoop.hdfs.server.namenode.NameNode: Exception in namenode join
java.net.BindException: Problem binding to [head.node.iec.project:8020] java.net.BindException: Cannot assign requested address; For more details see:  http://wiki.apache.org/hadoop/BindException
    at org.apache.hadoop.net.NetUtils.wrapException(NetUtils.java:715)
    at org.apache.hadoop.ipc.Server.bind(Server.java:356)
    at org.apache.hadoop.ipc.Server$Listener.<init>(Server.java:454)
    at org.apache.hadoop.ipc.Server.<init>(Server.java:1835)
    at org.apache.hadoop.ipc.RPC$Server.<init>(RPC.java:970)
    at org.apache.hadoop.ipc.ProtobufRpcEngine$Server.<init>(ProtobufRpcEngine.java:375)
    at org.apache.hadoop.ipc.ProtobufRpcEngine.getServer(ProtobufRpcEngine.java:350)
    at org.apache.hadoop.ipc.RPC.getServer(RPC.java:695)
    at org.apache.hadoop.ipc.RPC.getServer(RPC.java:684)
    at org.apache.hadoop.hdfs.server.namenode.NameNodeRpcServer.<init>(NameNodeRpcServer.java:239)
    at org.apache.hadoop.hdfs.server.namenode.NameNode.createRpcServer(NameNode.java:453)
    at org.apache.hadoop.hdfs.server.namenode.NameNode.initialize(NameNode.java:435)
    at org.apache.hadoop.hdfs.server.namenode.NameNode.<init>(NameNode.java:609)
    at org.apache.hadoop.hdfs.server.namenode.NameNode.<init>(NameNode.java:590)
    at org.apache.hadoop.hdfs.server.namenode.NameNode.createNameNode(NameNode.java:1141)
    at org.apache.hadoop.hdfs.server.namenode.NameNode.main(NameNode.java:1205)
2013-04-12 05:37:16,998 INFO org.apache.hadoop.util.ExitUtil: Exiting with status 1
2013-04-12 05:37:17,024 INFO org.apache.hadoop.hdfs.server.namenode.NameNode: SHUTDOWN_MSG: 
```

主机文件看起来像这样

```
 127.0.0.1 localhost
184.73.62.190  head.node.iec.project head
54.244.75.141  node1.node.iec.project node1
# The following lines are desirable for IPv6 capable hosts
::1 ip6-localhost ip6-loopback
fe00::0 ip6-localnet
ff00::0 ip6-mcastprefix
ff02::1 ip6-allnodes
ff02::2 ip6-allrouters
ff02::3 ip6-allhosts 
```

有人可以帮我弄这个吗？

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2013-04-16T20:39:23.893

我犯的错误是使用实例的公共 IP 而不是亚马逊分配的本地 IP (10.XXX)。这解决了这个问题。

# java - 在 JSP 中添加自定义隐式对象

> ID：15964742
> 
> 赞同：0
> 
> 时间：2013-04-12T06:40:44.977
> 
> 标签：java, jsp

每个人都知道 JSP 中有一组隐式对象，例如`session`等`request`。

有没有办法向它添加您自己的自定义隐式对象，以便它在所有 JSP 中都可用？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-12T06:42:32.450

您可以在请求或会话中设置您的自定义对象，并在 JSP 中访问它。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-12T06:44:57.420

隐式对象只不过是一个标准，即每当将 jsp 转换为 servlet 时，sevlet 将在代码中创建一些您的代码可以使用的对象。而已。为了更清楚地理解它，请阅读一些翻译的 jsp 文件。

[看这里](http://www.coderanch.com/t/285670/JSP/java/Creating-custom-implicit-object)

# asp.net - 打印 RDLC 报告时 IE 崩溃

> ID：15964744
> 
> 赞同：1
> 
> 时间：2013-04-12T06:40:56.837
> 
> 标签：asp.net, rdlc

我正在尝试从 IE9 上的客户端 PC 打印 RDLC 报告，它适用于 Chrome 和 Firefox，但它在 IE9 上崩溃

我得到的错误是

```
Problem Event Name: APPCRASH
Application Name:   iexplore.exe
Application Version:    9.0.8112.16457
Application Timestamp:  50a2f9e3
Fault Module Name:  rsclientprint.dll
Fault Module Version:   2009.100.1352.12
Fault Module Timestamp: 4aeb99c7
Exception Code: c0000005
Exception Offset:   00017c86
OS Version: 6.1.7600.2.0.0.256.1 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-12T07:25:14.977

解决此问题的一种方法是以管理员模式运行 IE。

解决它的另一种方法是：-

1) 工具->Internet 选项->安全->本地 Intranet->站点->高级
2) 输入您的站点 URL，然后单击添加并关闭。
3）然后单击自定义级别并启用Active X控件和插件的每个元素。

这对你有用。

# paypal - 使用新的 Paypal Rest API 不接受英镑付款

> ID：15964750
> 
> 赞同：0
> 
> 时间：2013-04-12T06:41:29.443
> 
> 标签：paypal, paypal-sandbox, bad-request

我在尝试以英镑付款时收到 400: Bad Request 错误，而美元工作正常。自从几天前它工作正常以来，我就收到了这个错误，我认为这个问题是在 Paypal 最近对其网站进行更改后开始的。

此外，所有付款都将转到默认沙盒帐户（它附加了一个 word facilitator，我没有创建此帐户）我不确定是否可以更改和设置我创建的沙盒帐户作为默认帐户以接收付款. 任何的想法？

任何建议都会有所帮助。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-12T13:51:56.003

目前 REST API 仅支持美元，传递不同的货币可能会导致生成错误。有计划最终支持其他货币，但目前仅针对美元设置。

# android - setTextViewText 在 IntentService 中不起作用

> ID：15964751
> 
> 赞同：0
> 
> 时间：2013-04-12T06:41:31.653
> 
> 标签：android, android-appwidget, intentservice, remoteview

onHandleIntent 中的代码：

```
RemoteViews views = new RemoteViews(getPackageName(), R.layout.mylayout);
views.setTextViewText(R.id.txtView1, "some string");
...
Bundle bundle = intent.getExtras();
int id = bundle.getInt(AppWidgetManager.EXTRA_APPWIDGET_ID);
AppWidgetManager manager = AppWidgetManager.getInstance(this);
manager.updateAppWidget(id, views); 
```

不会更新名为 txtView1 的小部件的 TextView。我已经搜索和搜索，但似乎我所做的一切似乎都与我发现的相符。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-14T02:33:34.160

叹息，谢谢大家的回答，不幸的是这是我的错误。在我的自定义 AppWidgetProvider 的 onUpdate 中，我传递了错误的 ID。我现在已将其切换到正确的 ID，并且每个小部件实例都会正确更新。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-12T06:50:28.073

您需要 Handler 从工作线程更新 UI。

您可以从本教程 [http://crodrigues.com/updating-the-ui-from-a-background-thread-on-android/中获得帮助](http://crodrigues.com/updating-the-ui-from-a-background-thread-on-android/)

或者，`Asynctask`如果您不想进入线程和处理程序的东西，您可以使用。

`Asynctask`自己管理这些东西，你可以在 onPostExecute() 方法中更新 UI 等等。

您可以在谷歌的开发者 android 网站中阅读有关详细信息`asynctask`。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-12T07:03:18.053

您必须在应用小部件开发中更新您的文本视图。

```
 RemoteViews views = new RemoteViews(getPackageName(), R.layout.mylayout);
    views.setTextViewText(R.id.txtView1, "some string");
    thisWidget = new ComponentName(context, WatchWidget.class);  
    appWidgetManager.updateAppWidget(thisWidget, remoteViews); 
```

# rspec - Spork rspec 在使用 redis 时，引发 Redis::InheritedError

> ID：15964754
> 
> 赞同：1
> 
> 时间：2013-04-12T06:41:35.217
> 
> 标签：rspec, redis, spork

如果代码执行redis相关函数，会引发

> Redis::InheritedError: 试图使用来自子进程的连接而不重新连接。分叉后需要重新连接到 Redis。

当 redis 连接时，它将 spork process.pid 保存为@pid，然后 redis 执行它将检查连接使用`ensure_connected`，这将检查通过`Process.pid != @pid`。而且这两个 pid 不同，所以会引发 Redis::InheritedError。

通过谷歌它，

```
Resque.after_fork do 
  Resque.redis.client.reconnect
end 
```

并在每个规范中重新连接 redis 客户端

他们两个都不适合我。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-22T14:33:33.323

我在这里找到了解决方案，它对我有用：[Hacki.ly](http://www.hacki.ly/post/39595212553/rspec-spork-and-redis)

看起来这是在您的 spec_helper.rb 中添加以下内容的问题：

```
RSpec.configure do |config| 
  # ... 
  config.before :all do
    $redis.client.reconnect 
  end 
  # ... 
end 
```

您可能需要更改`$redis`为您使用的任何内容来获取对 Redis 实例的引用。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-06-28T16:29:31.520

我可以通过将以下内容添加到 spec_helper.rb 来解决此问题：

```
Spork.each_run do
  $redis.client.reconnect
end 
```

此外，正如 Gabe 的回答中提到的，您可能需要更改`$redis`为您使用的任何内容来获取对 Redis 实例的引用。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-05-07T10:25:43.010

将redis升级到2.6.12后，问题解决。

# javascript - 如何在控制台中隐藏 ajax post 参数

> ID：15964760
> 
> 赞同：-1
> 
> 时间：2013-04-12T06:42:04.233
> 
> 标签：javascript, jquery, ajax, security, post

有什么方法可以隐藏我使用编码或任何其他方法通过 post 方法发送的参数。因为它在控制台中粗略地显示我的密码，如果我将 Firebug 与控制台导出一起使用，它将我的控制台日志发送到我们想要显示我的密码可以通过它泄漏的任何服务器。

![在此处输入图像描述](https://i.stack.imgur.com/49xd4.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2014-07-03T08:38:56.307

Firebug 无法做到这一点，但您可以`console.clear();`在 ajax 完成后为空控制台使用。您也可以使用一种方法来加密您发送的密码，例如 md5() 函数。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-12T06:44:29.650

据我所知，Firebug 无法做到这一点。但是，本着 Firebug 的精神，有一个非常有用的 Firefox 扩展，称为[Tamper Data](https://addons.mozilla.org/en-us/firefox/addon/tamper-data/)。这应该能够做你想做的事。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-12T12:00:53.857

不。

当在目标服务器上接收到 ConsoleExport 的输出时，由您来处理它，以屏蔽敏感信息（密码和其他）。（使用 SSL 连接到该服务器也是有意义的。）

ConsoleExport 中的过滤功能可能是个好主意，但目前没有这样的选项。

# php - 从服务器上的 .csv 文件加载 mysql 表时出现访问被拒绝错误

> ID：15964761
> 
> 赞同：0
> 
> 时间：2013-04-12T06:42:05.170
> 
> 标签：php, mysql, csv

我正在尝试使用以下内容加载带有 .csv 文件的表：

```
$query3="LOAD DATA INFILE 'C:/xampp/htdocs/schoolonweb/trainee/views/sliptest/sliptestuploads/$filename' INTO TABLE $sliptesttable (SchoolId,ClassId,SectionId,SubjectId,NewSubjectId,SlipTestId,StudentId,Mark)"; 
```

其中 $filename 是**.csv**格式，但我得到以下

```
**error** : Access denied for user 'babc'@'%' (using password: YES) 
```

用户名和密码正确，因为我可以使用相同的凭据登录服务器。有人可以帮忙吗？

# javascript - JS Ajax函数未设置变量值

> ID：15964766
> 
> 赞同：0
> 
> 时间：2013-04-12T06:42:13.197
> 
> 标签：javascript, jquery, ajax

我有一个简单的 ajax 函数

```
 function get_country(request_term) {
    var country_list = '';
    $.ajax({
      url   : "activity/get_country", 
      type  : "POST",
      cache : false,
      data  : {
        request_term : request_term
      },
      success : function(data) {
        if(data != '') {
          country_list = $.parseJSON(data);
          alert(country_list);               ----> Got value here
        }
      }
    });
    alert(country_list);                     ----> Not getting value here
    return country_list;
  } 
```

问题是，我在成功函数中获取数据，但无法从主函数返回。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-12T06:45:06.477

因为 ajax 是异步的，所以您无法知道`success`函数何时完成（或者它是否会*完成*）。因此，任何需要 ajax 调用结果的代码也必须依赖于 ajax 回调。

jQuery 使得绑定额外的回调变得非常容易。

```
return $.ajax({ /* rest of your code */

get_country(request_term).done(function (data) {
    //are you sure JSON isn't returned already?
    country_list = $.parseJSON(data);
}); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-12T06:51:25.750

您可以通过将 async 设置为 false 来实现。但这不是推荐的方式。

此代码将返回 country_list

```
function get_country(request_term) {
var country_list = '';
$.ajax({
  url   : "activity/get_country", 
  type  : "POST",
  cache : false,
  async : false,
  data  : {
    request_term : request_term
  },
  success : function(data) {
    if(data != '') {
      country_list = $.parseJSON(data);
      alert(country_list);               
    }
  }
});
alert(country_list);                     
return country_list; 
```

}

# scheme - 方案树图

> ID：15964767
> 
> 赞同：-3
> 
> 时间：2013-04-12T06:42:17.993
> 
> 标签：scheme, sicp

编写 n 个类似函数`(maptree f t)`，返回通过将函数`f`应用于二叉树的每个条目而生成的树`t`。（就像map）由于树是一种数据抽象，所以只允许对树进行以下操作：`(entry t) (right-branch t) （left-branch t) (make=tree entry left right), and (empty-tree? t)`. 您可以使用预定义的常量`the-empty-tree`。

例子：

```
(define tree 
(make-tree 10 (make-tree 5 the-empty-tree the-empty-tree)
          (make-tree 12 the-empty-tree the-empty-tree)))

tree

(10 (5 () ())(12 () ()))

(maptree square tree)

(100 (25 () ())(144 () ())) 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-12T15:32:55.527

像这样：

```
(define (maptree func tree)
  (if (empty-tree? tree)
      the-empty-tree
      (make-tree (func (entry tree))
                 (maptree func (left-branch  tree)) 
                 (maptree func (right-branch tree))))) 
```

当递归定义数据结构时，函数的实现可能自然是递归的。在这种情况下，对一个树项执行该函数，然后在左右子树上递归。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-12T13:52:11.270

这似乎是一个家庭作业问题。一个好的起点是在重建树的同时递归地沿着树向下走。检查左右是否为空，如果没有，则在每个分支上再次调用您的 map 函数。

从顶部（第一个`entry`）开始，创建一棵新树，`f`应用函数`entry`并检查左右分支是否`the-empty-tree`存在。如果没有，请在每个分支上再次调用该函数。

# api - 获取 Twitter 用户正在关注的用户

> ID：15964772
> 
> 赞同：1
> 
> 时间：2013-04-12T06:42:42.310
> 
> 标签：api, twitter

我正在使用 Twitter API 创建一个 Web 应用程序。但是，我希望能够获得特定用户关注的用户列表。我查看了文档，但无法找到如何执行此操作。

例如，我可能正在尝试获取`baconman`正在关注的用户。如何使用 Twitter API 做到这一点？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-12T06:50:26.523

```
<?php 
     $screen_name  = 'baconman';

        $url = 'https://api.twitter.com/1/followers/ids.json?cursor=-1&screen_name='.$screen_name;

        $list = curl($url,'GET');

        $followers_ids = json_decode($list);

        $user_detail = 'https://api.twitter.com/1/users/lookup.json?user_id='.implode(',',$followers_ids->ids).'&include_entities=true';
        $details = curl($user_detail,'GET');

function curl($url, $method = 'get', $header = null, $postdata = null, $includeheader=FALSE, $timeout = 60)
{
$s = curl_init();

curl_setopt($s,CURLOPT_URL, $url);
if ($header)
    curl_setopt($s,CURLOPT_HTTPHEADER, $header);

/*if ($this->debug)*/
curl_setopt($s,CURLOPT_VERBOSE, FALSE);

curl_setopt($s,CURLOPT_TIMEOUT, $timeout);
curl_setopt($s,CURLOPT_CONNECTTIMEOUT, $timeout);
curl_setopt($s,CURLOPT_MAXREDIRS, 3);
curl_setopt($s,CURLOPT_RETURNTRANSFER, true);
curl_setopt($s,CURLOPT_FOLLOWLOCATION, 1);
curl_setopt($s,CURLOPT_COOKIEJAR, 'cookie.txt');
curl_setopt($s,CURLOPT_COOKIEFILE, 'cookie.txt');

if(strtolower($method) == 'post')
{
    curl_setopt($s,CURLOPT_POST, true);
    curl_setopt($s,CURLOPT_POSTFIELDS, $postdata);
}
else if(strtolower($method) == 'delete')
{
    curl_setopt($s,CURLOPT_CUSTOMREQUEST, 'DELETE');
}
else if(strtolower($method) == 'put')
{
    curl_setopt($s,CURLOPT_CUSTOMREQUEST, 'PUT');
    curl_setopt($s,CURLOPT_POSTFIELDS, $postdata);
}

curl_setopt($s,CURLOPT_HEADER, $includeheader);
//curl_setopt($s,CURLOPT_USERAGENT, 'Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1');
curl_setopt($s, CURLOPT_SSL_VERIFYPEER, false);

$html   = curl_exec($s);
$status = curl_getinfo($s, CURLINFO_HTTP_CODE);

curl_close($s);

return $html;
} 
```

# javascript - 删除字符时textarea不缩小

> ID：15964775
> 
> 赞同：0
> 
> 时间：2013-04-12T06:42:48.230
> 
> 标签：javascript, dom-events, textarea, autoresize, shrink

我正在尝试使用 Javascript 随着滚动高度的增加而自动缩小和增长。实现了 textarea 的高度增长，但是当我删除文本时，我不知道如何缩小大小....我不想使用 jQuery 函数。

我的代码是：

```
<html>
<head>
  <script>

   function func() {
    var ta = document.getElementById('mytexta');
    ta.value+=ta.scrollHeight+' '+ta.clientHeight;
    if(ta.scrollHeight>ta.clientHeight)
      {
        ta.style.overflow='hidden';
        ta.rows+=1;
      }

                    }
  </script>
</head>
<body>
   <textarea class="mytext" onkeyup="func()" id="mytexta" style="overflow:hidden;">Here we go</textarea>
  </body>
  </html> 
```

# ffmpeg - 编码后如何使用avconv过滤器？

> ID：15964776
> 
> 赞同：1
> 
> 时间：2013-04-12T06:42:51.310
> 
> 标签：ffmpeg, avconv

我有 avconv 命令

```
avconv  -i file -s [new size options] -vf "[filters]" /root/converted/1.mp4 
```

Avconv 在编码之前使用过滤器，但我需要之后。我需要一个 avconv 命令：

```
Resize video first
Use filters second 
```

我该怎么做？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-02-26T16:04:04.947

在不知道输入格式（您没有提供）的情况下，这是最好的猜测： `avconv -i file -y -s [new size options] - | avconv -i - -vf "[filters]" /root/converted/1.mp4`

# android - 从 Fragment 为 customView 设置回调时出现 ClassCastException

> ID：15964778
> 
> 赞同：0
> 
> 时间：2013-04-12T06:42:56.247
> 
> 标签：android, callback, fragment

当我点击 ListFragment 中的任何元素时，我试图在 MyCustomView 中接收一个回调，这是一个代表片段的类（或者我们可以说，它是片段的视图）。日志附在下面：

```
04-12 11:56:04.321: D/FirstFragment(762): setting ui listener callback
04-12 11:56:04.321: D/AndroidRuntime(762): Shutting down VM
04-12 11:56:04.321: W/dalvikvm(762): threadid=1: thread exiting with uncaught exception (group=0x40015560)
04-12 11:56:04.331: E/AndroidRuntime(762): FATAL EXCEPTION: main
04-12 11:56:04.331: E/AndroidRuntime(762): java.lang.ClassCastException: com.gaurav.listing.ListFragmentActivity
04-12 11:56:04.331: E/AndroidRuntime(762): at com.gaurav.listing.FirstFragment.onListItemClick(FirstFragment.java:66)
04-12 11:56:04.331: E/AndroidRuntime(762): at android.support.v4.app.ListFragment$2.onItemClick(ListFragment.java:58)
04-12 11:56:04.331: E/AndroidRuntime(762): at android.widget.AdapterView.performItemClick(AdapterView.java:284)
04-12 11:56:04.331: E/AndroidRuntime(762): at android.widget.ListView.performItemClick(ListView.java:3513)
04-12 11:56:04.331: E/AndroidRuntime(762): at 

android.widget.AbsListView$PerformClick.run(AbsListView.java:1812)
    04-12 11:56:04.331: E/AndroidRuntime(762): at android.os.Handler.handleCallback(Handler.java:587)
    04-12 11:56:04.331: E/AndroidRuntime(762): at android.os.Handler.dispatchMessage(Handler.java:92)
    04-12 11:56:04.331: E/AndroidRuntime(762): at android.os.Looper.loop(Looper.java:123)
    04-12 11:56:04.331: E/AndroidRuntime(762): at android.app.ActivityThread.main(ActivityThread.java:3683)
    04-12 11:56:04.331: E/AndroidRuntime(762): at java.lang.reflect.Method.invokeNative(Native Method)
    04-12 11:56:04.331: E/AndroidRuntime(762): at java.lang.reflect.Method.invoke(Method.java:507)
    04-12 11:56:04.331: E/AndroidRuntime(762): at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:839)
    04-12 11:56:04.331: E/AndroidRuntime(762): at 

04-12 11:56:04.331: E/AndroidRuntime(762): at dalvik.system.NativeStart.main(Native Method)com.android.internal.os.ZygoteInit.main(ZygoteInit.java:597) 
```

然后我从我试图设置这个回调的地方附加片段的代码。

```
package com.gaurav.listing;

import android.app.Activity;
public class FirstFragment extends ListFragment {
private static final String TAG = "FirstFragment";
public UIListener uiCallback;
ArrayAdapter adapter;
ListView list;
View view;
String[] values;
@Override
public View onCreateView(LayoutInflater inflater, ViewGroup container,
Bundle savedInstanceState) {
// some code here...
}
@Override
public void onResume() {
// some code here...
}
Activity activity = null;
@Override
public void onAttach(Activity activity) {
super.onAttach(activity);
try {
this.activity = activity;
uiCallback = (UIListener) activity;
} catch (ClassCastException e) {
}
}
@Override
public void onListItemClick(ListView l, View v, int position, long id) {
Log.d("FirstFragment", "onListItemClick");
String shape = l.getItemAtPosition(position).toString();
Log.d(TAG, shape);
if (null == uiCallback) {
Log.d("FirstFragment", "setting ui listener callback");
// problem occur here
uiCallback = (UIListener) activity;

}
uiCallback.onButtonClicked(l, v, position, id, shape);
}
} 
```

请让我知道我该如何解决这个问题。关于我想要接收回调的目标的更多详细信息：片段的 id：片段的 second_fragment 视图类：SecondFragment.java

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-12T06:47:14.220

由于您要调用实现 UIListener 接口的类。我假设您的 SecondFragment 类实现了 UIListener 接口。

然后你应该尝试类似的东西

```
 uiCallback = (SecondFragment) getActivity().getSupportFragmentManager().findFragmentById(R.id.second_fragment); 
```

我猜这将是五个视图片段视图和类型转换不会有任何问题。

# c++ - Regedit 看不到从我的代码中插入的注册表值

> ID：15964789
> 
> 赞同：0
> 
> 时间：2013-04-12T06:43:32.500
> 
> 标签：c++, registry

我想将我的应用程序添加到自动启动。我正在向以下位置添加一个值：HKEY_LOCAL_MACHINE\Software\Microsoft\Windows\CurrentVersion\Run

带有我的exe的路径。代码 100% 正确，但不知何故，当我运行它时，它不起作用。正因为如此，我把头发拔了出来，我什么都试过了。但后来，当我重新启动我的电脑时，应用程序在启动时运行！这怎么可能？我在注册表中看不到我的价值。有人能帮我吗？提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-12T07:00:18.933

如果您的应用程序是 32 位，而您正在检查的操作系统是 64 位。注册表将在 HKEY_LOCAL_MACHINE\Software\Wow6432Node 中更新.....

# c# - ASP.NET HttpPost 未将 Dictionary 对象传递给 Action 方法

> ID：15964792
> 
> 赞同：1
> 
> 时间：2013-04-12T06:43:45.987
> 
> 标签：c#, asp.net-mvc, controller, http-post

我在控制器代码的 HttPost 方法中检索 Collection 类时遇到问题。例如，由于某种原因，它能够检索“int”，但不能检索字典。

我在 ASPX 文件中使用隐藏的输入标记。我确实在 ASPX 文件和控制器页面中的 HTTP 发布之前和之后放置了一个 Debug.WriteLine，但字典只填充在 ASPX 页面中。我需要它的代码页为 0。

```
...</tr>
                <% i++; %>
                <% list.Add(user.ID.ToString()); %>
                <% list.Add(user.FirstName.ToString()); %>
                <% list.Add(user.LastName.ToString()); %>
                <% list.Add(user.Seniority.ToString()); %>
                <% list.Add(sec_a.ToString()); %>
                <% list.Add(sec_b.ToString()); %>
                <% list.Add(sec_c.ToString()); %>
                <% list.Add(uvid_a.ToString()); %>
                <% details.Add(i, list); %>
             <% } %>
         </tbody>
         </table>
          // it works here but not in the .CS file where the post is made
        <% System.Diagnostics.Debug.WriteLine("Before Post value: " + details.Count); %>
          // here is the hidden field that is supposed to send the variable into the Action method
        <input type="hidden" name="student_details" value="<%= details %>" />
        <div class="buttons">
<button type="submit" class="button">Export Data</button>
        </div>
    </fieldset>
    </form>
</article> 
```

```
 //Controller file    
    [HttpPost]
    public ActionResult Report(Dictionary<int, List<string>> student_details)
    {
        var grid = new System.Web.UI.WebControls.GridView();
        var datatable = new DataTable();

        datatable.Columns.Add("User ID");
        datatable.Columns.Add("First Name");
        datatable.Columns.Add("Last Name");
        datatable.Columns.Add("xxx");
        datatable.Columns.Add("yyy");
        datatable.Columns.Add("zzz");
        datatable.Columns.Add("Title");
        datatable.Columns.Add("Grade");

        System.Diagnostics.Debug.WriteLine("After Post value: " + student_details.Count);

        foreach (var stud in student_details)
        {
            datatable.Rows.Add(stud.Value);
        } 
```

它传递一个 int 变量，但不传递一个 Dictionary。

# java - 无法将 .p12 证书导入 cacerts

> ID：15964797
> 
> 赞同：3
> 
> 时间：2013-04-12T06:44:18.003
> 
> 标签：java, authentication, keytool, pkcs#12, jks

在导入`.p12`时，`cacerts`我面临以下问题。第一行说别名已经存在，然后当我尝试覆盖它时说找不到别名。请帮我解决这个问题。

```
/usr/java/default/jre/bin/keytool -importkeystore -deststorepass changeit -destkeystore     /usr/java/default/jre/lib/security/cacerts -srckeystore /home/sogadm/MB_copy/MB_client.p12 -srcstoretype pkcs12 -srcstorepass 123456 -alias mb_ca
Existing entry alias mb_ca exists, overwrite? [no]:  yes
keytool error: java.lang.Exception: Alias <mb_ca> does not exist 
```

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2013-04-12T08:20:26.897

大概意思是：

1.  在`cacerts`您***已经有***一个别名**为 mb_ca的条目**
2.  在`.p12`您**没有**别名**mb_ca的条目**

尝试执行以下操作：

1.  用于`-list`查看现有条目`.p12`及其别名。适应您的示例，它将是这样的： `keytool -list -keystore /home/sogadm/MB_copy/MB_client.p12 -storepass 123456 -storetype PKCS12 -v`

2.  `-delete`中的现有**mb_ca**条目`cacerts`，如果它是错误的或者您不需要它

3.  使用`-srcalias`和`-destalias`更好的控制

实际上，如果是受信任的证书存储，`cacerts`则不*应将*. `.p12`首先导出*公钥*，然后将其导入`cacerts`：

```
keytool -exportcert -keystore /home/sogadm/MB_copy/MB_client.p12 -storepass 123456 -storetype PKCS12 -alias p12_entry_alias -file /home/sogadm/MB_copy/MB_client.cer

keytool -importcert -keystore /usr/java/default/jre/lib/security/cacerts -storepass changeit -alias mb_client -file /home/sogadm/MB_copy/MB_client.cer 
```

希望能帮助到你。

# azure - Azure 中的 WebAPI DELETE 请求返回 404 错误

> ID：15964804
> 
> 赞同：2
> 
> 时间：2013-04-12T06:44:31.417
> 
> 标签：azure, asp.net-web-api, iis-8

我一直在尝试让我的 ASP.net WebAPI（ASP.net Web 角色）中的 DELETE 请求在 Azure 和我的机器上本地工作。但最终得到“未找到”错误。

我对 ASP.net WebAPI Web 角色的 web.config 有以下配置：

```
<system.webServer>
  <validation validateIntegratedModeConfiguration="false" />
  <modules>
    <remove name="WebDAVModule" />
  </modules>
  <handlers>
   <remove name="WebDAV" />
   <remove name="ExtensionlessUrlHandler-ISAPI-4.0_32bit" />
   <remove name="ExtensionlessUrlHandler-ISAPI-4.0_64bit" />
   <remove name="ExtensionlessUrlHandler-Integrated-4.0" />
   <add name="ExtensionlessUrlHandler-ISAPI-4.0_32bit"
     path="*." verb="GET,HEAD,POST,DEBUG,PUT,DELETE,PATCH,OPTIONS"
     modules="IsapiModule"
     scriptProcessor="%windir%\Microsoft.NET\Framework\v4.0.30319\aspnet_isapi.dll"
     preCondition="classicMode,runtimeVersionv4.0,bitness32"
     responseBufferLimit="0" />
   <add name="ExtensionlessUrlHandler-ISAPI-4.0_64bit"
     path="*." verb="GET,HEAD,POST,DEBUG,PUT,DELETE,PATCH,OPTIONS"
     modules="IsapiModule"
     scriptProcessor="%windir%\Microsoft.NET\Framework64\v4.0.30319\aspnet_isapi.dll"
     preCondition="classicMode,runtimeVersionv4.0,bitness64"
     responseBufferLimit="0" />
   <add name="ExtensionlessUrlHandler-Integrated-4.0"
     path="*." verb="GET,HEAD,POST,DEBUG,PUT,DELETE,PATCH,OPTIONS"
     type="System.Web.Handlers.TransferRequestHandler"
     preCondition="integratedMode,runtimeVersionv4.0" />
 </handlers>
</system.webServer> 
```

为了让它在 IISExpress 上运行，我更改了 $:\Users\\Documents\IISExpress\config\applicationhost.config 配置并注释掉其中的 WebDav 部分并适当地添加了“PUT、DELETE”动词。

为了测试我的 WebAPI，我创建了一个简单的 windows 窗体 (.net 4.5) c# 应用程序并使用了 httpclient，如下所示：

```
const string key = "user1";
var client = new HttpClient { BaseAddress = new Uri("http://abcd.cloudapp.net/") };
client.DefaultRequestHeaders.Accept.Add(
    new MediaTypeWithQualityHeaderValue("application/json"));
var requestUrl = string.Format("api/user/{0}", key);
var deleteAsync = client.DeleteAsync(requestUrl).Result; 
```

我得到的回应如下：

```
{StatusCode: 404,
  ReasonPhrase: 'Not Found',
  Version: 1.1,
  Content: System.Net.Http.StreamContent,
  Headers:
  {
    Pragma: no-cache
    Cache-Control: no-cache
    Date: Fri, 12 Apr 2013 06:40:31 GMT
    Server: Microsoft-IIS/8.0
    X-AspNet-Version: 4.0.30319
    X-Powered-By: ASP.NET
    Content-Length: 128
    Content-Type: application/json; charset=utf-8
    Expires: -1
}}  System.Net.Http.HttpResponseMessage 
```

如何让它在 Azure 上运行？也可能在我的本地机器上。

# jquery - 表单调查滑块需要 jquery 代码才能正常工作

> ID：15964806
> 
> 赞同：0
> 
> 时间：2013-04-12T06:44:36.223
> 
> 标签：jquery, forms

我正在尝试进行一项调查，当有人单击单选按钮时，下一个问题会向上滑动，并且除非该人单击单选按钮，否则按钮 prev 和 next 应该显示，这就是我到目前为止所做的[HERE](http://jsfiddle.net/HLvYx/3/)

```
 $("#box input").click(function(){
      $(this).find("div").hide();
    }); 
```

但我对 jquery 很陌生。我有困难

帮助将不胜感激谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-12T07:19:36.627

这是关于[jsFiddle](http://jsfiddle.net/dislick/HLvYx/4/)的解决方案。

如果你稍微改变你的标记，你可以使用这个简单的代码。它将当前问题编号存储在一个名为 的变量中`positionQuestions`。它还会检查是否有更多问题要淡入，或者您是否已经到达终点。

```
var positionQuestion = 1;
var maxQuestions = $('.question').length;

$('button#next').click(function(){
    if (positionQuestion < maxQuestions)
    {
        positionQuestion++;
        $('.question').fadeOut();
        $('#q' + positionQuestion).fadeIn();
    }
});

$('button#prev').click(function(){
    if (positionQuestion > 1)
    {
        positionQuestion--;
        $('.question').fadeOut();
        $('#q' + positionQuestion).fadeIn();   
    }
}); 
```

# python - Python PIP 未显示 pypi 包

> ID：15964807
> 
> 赞同：10
> 
> 时间：2013-04-12T06:44:38.053
> 
> 标签：python, pip, pypi

**简短的问题**

将包添加到 PyPi 和通过 pip 获得包之间是否存在延迟？

**背景**

我最近将一个[包](https://pypi.python.org/pypi/qThread/)推送到 PyPi。据我所知，这一步没有错误（注册成功），但我不能使用 pip 安装包。

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-04-12T07:02:16.273

[这篇博](https://jamiecurle.co.uk/blog/my-first-experience-adding-package-pypi/)文描述了您可能面临的问题。你可能有同样的问题，忘记上传你的包，但只注册了它，因为你链接的包没有文件可以下载。

解决方案（取自上面链接的博客文章）是使用命令

```
python setup.py sdist upload 
```

# visual-studio-2010 - 如何在不使用 Visual Studio 的情况下编译 DLL？

> ID：15964815
> 
> 赞同：4
> 
> 时间：2013-04-12T06:44:50.837
> 
> 标签：visual-studio-2010, visual-studio, dll, unity3d

这听起来是一个愚蠢的问题，但我真的很好奇如何在不使用 Visual Studio 的情况下编译 DLL，因为我现在使用的是 Unity3D OS X。有没有像“工具链”这样的方法可以解决问题？

任何解决方案都值得赞赏，除了**请您的朋友/同事为您编译**或**购买另一台计算机/安装 Windows/使用遥控器**。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-12T07:23:53.017

构建[Mingw 的交叉工具链](http://mxe.cc/)。但是，请注意，您不能在编译器之间链接 C++ 库，甚至通常甚至是编译器版本。只有具有 C 调用接口的 DLL 才能工作。（他们可以在内部使用 C++，但必须公开 C API。）

或者您可以尝试在 Wine 中运行 Visual Studio。VS2010[在 Wine 中有青铜级支持](http://appdb.winehq.org/objectManager.php?sClass=version&iId=20359)，即编译器工作正常。

# android - 无法在 Eclipse 中配置 Facebook SDK

> ID：15964816
> 
> 赞同：0
> 
> 时间：2013-04-12T06:44:55.227
> 
> 标签：android, facebook, sdk

我按照关于如何配置 facebook SDK 的 facebook 教程完成了所有步骤，但没有任何运气，还尝试了 github 配置，如[Eclipse 上的 Android Facebook SDK 配置所示](https://stackoverflow.com/questions/4945618/android-facebook-sdk-configuration-on-eclipse)

而且我仍然在eclipse环境中得到一个“！” 在项目旁边签名，我将 Facebook 加入其中。并且在尝试运行时，它说我有错误。

在没有 Facebook SDK 的情况下，我设法在我的项目上很好地工作并运行它，所以这对我的项目来说不是问题..

我能做些什么？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-06-27T17:17:38.323

我试图开始在 Eclipse 中使用 Facebook 的 Android SDK，但无法正常工作。在尝试不同的事情之后，这里是始终有效的解决方案：

1) 仅导入 (File->Import->Existing Android Code Into Workspace) 仅 Facebook SDK 文件夹 (PATH\facebook-android-sdk-3.0.1)。（不要检查副本到工作场所）

2) 仅导入示例项目之一（即 PATH\facebook-android-sdk-3.0.1\samples\ProfilePictureSample）（目前）。我将使用 ProfilePictureSample 作为示例

如您所见，Eclipse 抛出错误说它不知道 ProfilePictureSampleActivity 中的 FragmentActivity 是什么。FragmentActivity 是 android 支持库的一部分。如果您查看包资源管理器，则没有 libs 文件夹或对 android 支持库的任何引用；它位于 FacebookSDK 库中。我们需要告诉 Eclipse 导出它。

4) 右键单击​​ FacebookSDK 库，然后单击属性。在左侧菜单中，转到 Java Build Path。然后在 Order and Export 选项卡下检查 Android Private Libraries（您也可以点击 android-supportv4-jar 代替）。

5）项目->清理

现在由于某种原因（也许有人可以详细说明），示例项目还需要导出android支持库。

6) 右键单击​​示例项目（即 ProfilePictureSample），然后单击属性。在左侧菜单中，转到 Java Build Path。然后在 Order and Export 选项卡下检查 Android Private Libraries。

7）项目->清洁

希望这会有所帮助！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-12T06:49:59.533

请按照以下步骤为此项目设置 Android Api

右键项目->属性->android->设置android目标版本

还要删除 Facebook 库项目，然后再添加它。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-12T07:29:16.863

问题是 android-support-v4.jar 的路径不正确..

通过设置正确的路径来修复它。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2014-05-13T11:30:28.370

导入 sdk 而不将项目复制到工作区。该解决方案对我有用，并且没有出现任何错误

# c# - 您是否缺少 using 指令或程序集引用。视觉工作室网络开发者 2010

> ID：15964818
> 
> 赞同：0
> 
> 时间：2013-04-12T06:44:57.230
> 
> 标签：c#, visual-studio-2010, visual-web-developer-2010

所以我在试图弄清楚我在这里做错了什么时遇到了一些麻烦。我会给你一个关于我一直在做的事情的基本概述。

我正在创建一个详细信息，其中一行数据是布尔值，我们最初使用的是 CheckBoxField，但现在我们要删除它并使用布尔值（True 或 False 更改为 Yes 或 No）。所以我删除了 CheckBowField，将 DataField 设置为“Discontinued”，然后使用代码；

```
 using System;
    using System.Data;
    using System.Configuration;
    using System.Collections;
    using System.Web;
    using System.Web.Security;
    using System.Web.UI;
    using System.Web.UI.WebControls;
    using System.Web.UI.WebControls.WebParts;
    using System.Web.UI.HtmlControls;
    public partial class CustomFormatting_DetailsViewTemplateField : System.Web.UI.Page
    {
    protected string DisplayDiscontinuedAsYESorNO(bool discontinued)
    {
    if (discontinued)
    return "YES";
    else
    return "NO";
    }
    } 
```

进入我的 .aspx.cs 页面，我想出了这个错误

**说明：**在编译服务此请求所需的资源期间发生错误。请查看以下特定错误详细信息并适当修改您的源代码。

**编译器错误消息：CS1061：** “ASP.customformatting_detailsviewtemplatefield_aspx”不包含“DetailsView1_PageIndexChanging”的定义，并且没有扩展方法“DetailsView1_PageIndexChanging”接受“ASP.customformatting_detailsviewtemplatefield_aspx”类型的第一个参数（您是否缺少 using 指令或装配参考？）

**源错误：**

```
Line 3:  
Line 4:  <asp:Content ID="Content1" ContentPlaceHolderID="MainContent" runat="Server">
Line 5:      <asp:DetailsView ID="DetailsView1" runat="server" AllowPaging="True" AutoGenerateRows="False"
Line 6:          DataKeyNames="ProductID" DataSourceID="ObjectDataSource1" 
Line 7:          onpageindexchanging="DetailsView1_PageIndexChanging"> 
```

最后，这是我的 DetailsView 的代码

```
 <asp:DetailsView ID="DetailsView1" runat="server" AllowPaging="True" AutoGenerateRows="False"
        DataKeyNames="ProductID" DataSourceID="ObjectDataSource1" 
        onpageindexchanging="DetailsView1_PageIndexChanging">
        <Fields>
            <asp:BoundField DataField="ProductName" HeaderText="Product" SortExpression="ProductName" />
            <asp:BoundField DataField="CategoryName" HeaderText="Category" ReadOnly="True" SortExpression="CategoryName" />
            <asp:BoundField DataField="SupplierName" HeaderText="Supplier" ReadOnly="True" SortExpression="SupplierName" />
            <asp:BoundField DataField="QuantityPerUnit" HeaderText="Qty/Unit" SortExpression="QuantityPerUnit" />
            <asp:TemplateField HeaderText="Price and Inventory">
                <ItemTemplate>
                    <asp:Label ID="Label1" runat="server" Text='<%# Eval("UnitPrice", "{0:C}") %>'></asp:Label>
                    <br />
                    <strong>(In Stock / On Order: </strong>
                    <asp:Label ID="Label2" runat="server" Text='<%# Eval("UnitsInStock") %>'></asp:Label>
                    <strong>/</strong>
                    <asp:Label ID="Label3" runat="server" Text='<%# Eval("UnitsOnOrder") %>'>
                    </asp:Label><strong>)</strong>
                </ItemTemplate>
            </asp:TemplateField>

            <asp:BoundField DataField="UnitPrice" HeaderText="Price" SortExpression="UnitPrice"
                DataFormatString="{0:c}" Visible="False" />
            <asp:BoundField DataField="UnitsIStock" HeaderText="Units In Stock" SortExpression="UnitsInStock"
                Visible="False" />
            <asp:BoundField DataField="UnitsOnOrder" HeaderText="Units On Order" SortExpression="UnitsOnOrder"
                Visible="False" />
            <asp:TemplateField HeaderText="Discontinued">
                <ItemTemplate>
                    <asp:Label ID="Label4" runat="server" Text='<%# Bind("Discontinued") %>'></asp:Label>
                </ItemTemplate>
                <EditItemTemplate>
                    <asp:TextBox ID="TextBox1" runat="server" Text='<%# Bind("Discontinued") %>'></asp:TextBox>
                </EditItemTemplate>
                <InsertItemTemplate>
                    <asp:TextBox ID="TextBox1" runat="server" Text='<%# Bind("Discontinued") %>'></asp:TextBox>
                </InsertItemTemplate>
            </asp:TemplateField>
        </Fields>
    </asp:DetailsView> 
```

抱歉，如果我发布了太多代码，我只是不太确定您可能需要什么来帮助我解决问题。我对整个 Visual Basic 的东西还是很陌生。非常感谢您的建议！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-12T06:52:13.063

您`DetailsView`在您的 aspx 页面中放置了一个控件，并且在您的标记中您声明将有一个事件处理程序`onpageindexchanging`，但您没有在代码隐藏中的实现中提供。

来自 MSDN 的示例

```
protected void CustomerDetailView_PageIndexChanging(
  object sender, DetailsViewPageEventArgs e)
{
    // Cancel the paging operation if the user tries to 
    // navigate to another record while in edit mode.
    if (CustomerDetailView.CurrentMode == DetailsViewMode.Edit)
    {
        e.Cancel = true;
        // Display an error message.
        ErrorMessageLabel.Text = 
          "You cannot navigate to another record while in edit mode.";
    }

} 
```

见[这里](http://msdn.microsoft.com/en-us/library/system.web.ui.webcontrols.detailsview.pageindexchanging%28v=vs.100%29.aspx?cs-save-lang=1&cs-lang=csharp#code-snippet-1)。

# sql - 控制器方法中的 Rails SQL 查询

> ID：15964820
> 
> 赞同：0
> 
> 时间：2013-04-12T06:45:07.837
> 
> 标签：sql, ruby-on-rails, solr

我想根据另一个表 products 中提到的 brand_id 来检索品牌名称。我的品牌 ID 作为数组存储在“brandids”中。这是我的控制器代码。

```
def index
    catids = Array.new
    brandids = Array.new
    @products = nil
    if(!(params[:catid].nil?) && params[:catid].to_s.downcase != "all")
        catids = arrayConvertion(params[:catid])
    end

    if(!(params[:brandid].nil?) && params[:brandid].to_s.downcase != "all")
        brandids = arrayConvertion(params[:brandid])
    end

    if(catids.length == 0 && brandids.length == 0)
        @products = Product.solr_search do
        paginate :page => params[:page], :per_page => 3
    end

    @brands={}
    @products.each do |p|
        brand = p.BrandsTest.first(p.brands_test_id)
        @brands[p.id] = BrandsTest.name
    end
end 
```

这个控制器的视图是：

```
<% @products.results.each do |p| %>
       <%= image_tag("Images/#{p.id}.jpeg",:alt => p.name) %>
       <p> Name: </p> 
       <%= p.name %>
       <p> Price: </p>
       <%= p.price %>
       <p> Discount: </p>
       <%= p.discount %>
       <p> Brand Name: </p>
       <%= @brands[p.id] %>
<% end %> 
```

产品型号代码为：

```
class Product < ActiveRecord::Base
  belongs_to :brands_test
  belongs_to :categories_test
  attr_accessible :id, :name

  searchable do
    integer :id
    text :name
    integer  :brands_test_id
    integer :categories_test_id
  end
end 
```

我应该添加什么查询以及我必须在哪里添加？请帮我解决一下这个。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-13T05:40:36.603

我根据我的应用程序和你给出的答案做了一些修改。这里是控制器部分。

```
if(catids.length == 0 && brandids.length == 0)
    @products = Product.solr_search do
        paginate :page=>params[:page], :per_page=>3
    end
    @brands={}
    @products.results.each do |p|
        brand=BrandsTest.find_by_id(p.brands_test_id)
        @brands[p.id]=brand.name
    end
end 
```

这是视图部分：

```
<% @products.results.each do |p| %>
    <%= image_tag("Images/#{p.id}.jpeg",:alt => p.name) %>
<p> Name: </p> 
<%= p.name %>
<p> Price: </p>
<%= p.price %>
<p> Discount: </p>
<%= p.discount %>
    <p> Brand Name: </p>
    <%= @brands[p.id]%>
<% end %> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-12T08:40:19.147

```
@products = Product.solr_search do
    with :brands_test_id, brandids[0..brandids.length]
    paginate :page=>params[:page], :per_page=>3
end
@brands={}
@products.each do |p|
brand=Brand.find_by_id(p.brand_id)
@brands[p.id]=brand.name
end 
```

意见：

```
<% @products.results.each do |p| %>
    #other code
   <p> Brand: </p>
   <%= @brands[p.id]   
<% end %> 
```

我不确定我是否理解你想要做什么。

# java - 使用 Ant 从 Java 调用 Oracle SOA

> ID：15964823
> 
> 赞同：0
> 
> 时间：2013-04-12T06:45:26.280
> 
> 标签：java, ant, soa

我有一个从 Java 部署 Oracle SOA 组合的用例。为此，我使用 Apache ANT API 从我的 java 代码中调用 ant-sca-package.xml ant 文件。

```
 File buildFile = new File("/xyz/fmwhome/AS11gR1SOA/bin/ant-sca-compile.xml");
    Project p = new Project();        
    p.setUserProperty("ant.file", buildFile.getAbsolutePath());             

    DefaultLogger consoleLogger = new DefaultLogger();
    consoleLogger.setErrorPrintStream(System.err);
    consoleLogger.setOutputPrintStream(System.out);
    consoleLogger.setMessageOutputLevel(Project.MSG_INFO);
    p.addBuildListener(consoleLogger);

    try {
            p.fireBuildStarted();
            p.init();
            ProjectHelper helper = ProjectHelper.getProjectHelper();
            p.addReference("ant.projectHelper", helper);
            helper.parse(p, buildFile);
            p.setProperty("scac.input", "/xyz/Sample/Sample/composite.xml");            
            p.executeTarget(p.getDefaultTarget()); 
            p.fireBuildFinished(null);
    } catch (BuildException e) {
            p.fireBuildFinished(e);
    } 
```

我看到以下错误。

> /xyz/fmwhome/AS11gR1SOA/bin/ant-sca-compile.xml:201：/xyz/fmwhome/AS11gR1SOA/bin/${env.JAVA_HOME}/lib 未找到。

我是否需要将 ant 文件所需的所有 jar 从我的代码中添加到类路径中？我已经将它们添加到 jdeveloper 项目的库和类路径部分。

不知道我错过了什么。请提供您的意见。

提前致谢。

# mysql - 在mysql中获取具有最大列值的行

> ID：15964824
> 
> 赞同：2
> 
> 时间：2013-04-12T06:45:28.837
> 
> 标签：mysql, sql, greatest-n-per-group

我一直在为此苦苦挣扎。我尝试了所有方法，例如左外连接、分组方式甚至子查询，但都没有成功。这是我的查询。

```
select star_ident,transition_ident,fix_ident,sequence_num,route_type
from corept.std_star_leg where data_supplier='J' and airport_ident='KMMU'; 
```

从上面的结果集中，我需要为给定的 transition_ident 和 star_ident 提取具有最大 sequence_num 的那些行。这是我的查询。

```
select star_ident,transition_ident,fix_ident,max(sequence_num)
from corept.std_star_leg where data_supplier='J' and airport_ident='KMMU'
group by transition_ident,star_ident; 
```

但是上面的查询产生了错误的结果。我什至尝试了连接。

```
select yt1.star_ident,yt1.transition_ident,yt1.fix_ident
from corept.std_star_leg yt1
left outer join corept.std_star_leg yt2
on (yt1.star_ident = yt2.star_ident and yt1.transition_ident=yt2.transition_ident and      yt1.sequence_num < yt2.sequence_num)
where yt1.airport_ident='KMMU' and yt1.data_supplier='J'
and yt2.airport_ident='KMMU' and yt2.data_supplier='J' and yt2.star_ident is null; 
```

但我最终得到了零行。请提供一种有效的方法来执行此操作。我需要为 13K 条目运行此查询。谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-12T07:03:46.857

您的选择中有非聚合列，它们不属于分组依据。

来自 **[MYSQL 文档](http://dev.mysql.com/doc/refman/5.0/en/group-by-extensions.html)**

```
MySQL extends the use of `GROUP BY` so that the select list can refer to nonaggregated
columns not named in the GROUP BY clause. You can use this feature to get better
performance by avoiding unnecessary column sorting and grouping. However, this is 
useful primarily when all values in each nonaggregated column not named in the 
GROUP BY are the same for each group. The server is free to choose any value from 
each group, so unless they are the same, the values chosen are indeterminate. 
```

因此，要获得正确的结果，请将 select 的所有列添加到 group by

## **编辑**

```
select b.* 
from 
corept.std_star_leg b
inner join
(select star_ident,transition_ident,max(sequence_num) as seq
from corept.std_star_leg where data_supplier='J' and airport_ident='KMMU'
group by star_ident,transition_ident) a
on b.star_ident = a.star_ident and a.transition_ident = b.transition_ident and
b.sequence_num = a.seq; 
```

希望能帮助到你....

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-12T08:20:34.273

尝试这个：

```
SELECT *
FROM
  (SELECT *
   FROM table1
   ORDER BY seqno DESC) tmp
GROUP BY `star_ident`,
         `trans` 
```

这是[sqlfiddle](http://sqlfiddle.com/#!2/81841/5)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-12T07:01:45.707

按 start_ident 删除组

```
select star_ident,transition_ident,fix_ident,max(sequence_num)
from corept.std_star_leg where data_supplier='J' and airport_ident='KMMU'
group by transition_ident 
```

# java - tea servlet框架有什么用？

> ID：15964825
> 
> 赞同：0
> 
> 时间：2013-04-12T06:45:30.397
> 
> 标签：java, servlets

我对`TeaFramework`在 java 环境中的用法感到困惑。您能否通过对此做出明确的解释来澄清我。如果可能的话，请提供一个关于它的示例项目。我在互联网上搜索，但我找不到。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-12T07:02:53.987

Tea 是一个过时的项目，从第一波基于 Servlet API 构建的 Web 框架开始。其他答案中提到的各种项目页面，大约有十几年没有更新了，这在互联网时代是*永恒的。*

忽略它，改用更现代的东西。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-12T06:53:28.247

> TeaServlet 是一个位于 Servlet API 之上的框架，它创建了数据和表示之间的分离。TeaServlet 需要一个 servlet 容器才能运行。

引用来源：[http ://teatrove.sourceforge.net/docs/TeaServletTutorial.pdf](http://teatrove.sourceforge.net/docs/TeaServletTutorial.pdf)

TeaServlet 允许通过 Tea 模板创建动态网页。Tea 是一种专门为文本格式设计的语言，TeaServlet 使用它来强制分离实际网页设计和应用程序逻辑。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-12T06:52:16.453

我也搜索了互联网，发现了以下网站，看起来很有希望：

[SourceForge.net 上的茶馆](http://teatrove.sourceforge.net/teaservlet.html)

另请查看此 pdf 文档，其中包含示例应用程序的创建等：

[TeaServlet 教程](http://teatrove.sourceforge.net/docs/TeaServletTutorial.pdf)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-12T07:04:23.743

> TeaServlet是一个使用 Tea 模板语言的模板引擎[。](http://teatrove.sourceforge.net/teaservlet.html)TeaServlet 使开发人员可以轻松地创建将数据采集与表示分离的 Web 应用程序。

所以为了避免[Jsp](http://www.servlets.com/soapbox/problems-jsp.html) Tea 出现的问题，已经引入。

*   似乎 Tea 和 JSP 非常相似。
*   两者都具有将表示与业务逻辑分离的目标。

然后？？

```
 What are the advantages/disadvantages of `Tea` vs. JSP? 
```

Tea 语言的文档中概述了一些差异。

*   茶比JSP简单
*   更易于定制（函数比 taglib 更容易编写）

*   它强制分离。JSP 只能鼓励它。

正如@Sean Reilly 所说，它**毫无价值**。

# javascript - 为从 Coffeescript 编译的多个连接的 javascript 文件生成源映射

> ID：15964826
> 
> 赞同：15
> 
> 时间：2013-04-12T06:45:35.623
> 
> 标签：javascript, compiler-construction, coffeescript, source-maps

有人在这方面取得过成功吗？

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2013-04-13T16:12:00.007

我认为这或多或少是一个未解决的问题： [https](https://github.com/jashkenas/coffee-script/issues/2779) ://github.com/jashkenas/coffee-script/issues/2779 。最后一个有意义的评论来自一个月前的 jwalton。

尽管如此，增加对它的支持似乎并不是火箭科学，所以它可能很快就会到来。

Michael Ficarra（CoffeeScript Redux 的创建者）建议使用[https://github.com/michaelficarra/commonjs-everywhere](https://github.com/michaelficarra/commonjs-everywhere)。

两个警告：

*   它仅适用于捆绑 CommonJS 模块。
*   它使用的是仍然处于测试阶段的 CoffeeScript Redux（尽管看起来工作得很好），并且与原始 CoffeeScript 编译器不是 100% 兼容。

因此，这不适用于您特别要求的“连接”。

### 添加于 4 月 14 日

您可能会很幸运：[combine-source-map](https://github.com/thlorenz/combine-source-map) 和/或[generate-sourcemap](https://github.com/thlorenz/generate-sourcemap)，两者均由同一作者撰写。

### 添加于 4 月 26 日

这看起来很简单：[https](https://npmjs.org/package/mapcat) ://npmjs.org/package/mapcat 。您只需将咖啡编译器生成的各个源映射文件提供给它。

### 5 月 16 日添加

[Mariusz Nowak](https://stackoverflow.com/users/96806/mariusz-nowak)刚刚发布了[webmake-coffee](https://github.com/medikoo/webmake-coffee)。与 CommonJS Everywhere 一样，它需要将代码组织为 CommonJS 模块。与其他地方的 CommonJS 不同，它使用常规的 CoffeeScript。

似乎[Grunt Coffee-Script 插件](https://github.com/gruntjs/grunt-contrib-coffee)已经有一段时间（两个月）对连接文件的源映射支持，有效地证明了我原来的答案是不正确的。

即将推出的 Snockets 2.0 版也将支持它。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2014-09-04T23:33:37.670

我需要在缩小之前注释 AngularJS 代码，但`grunt-ng-annotate`不接受输入源映射，因此我无法使用 CoffeeScript 编译器生成的映射。

显然，使用[gulp-sourcemaps](https://github.com/floridoo/gulp-sourcemaps)这不是问题：

```
var gulp = require('gulp');
var $ = require('gulp-load-plugins')(); // loading gulp plugins lazily
                                       // remember to include them in the package.json

gulp.task('appJS', function() {
  // concatenate compiled .coffee files and js files into build/app.js
  gulp.src(['./app/**/*.js','./app/**/*.coffee'])
    .pipe($.sourcemaps.init())
    .pipe($['if'](/[.]coffee$/, $.coffee({bare: true}).on('error', $.util.log)))
    .pipe($.concat('app.js'))
    .pipe($.ngAnnotate())
    .pipe($.uglify())
    .pipe($.sourcemaps.write())
    .pipe(gulp.dest('./build'))
}); 
```

同样的方法也适用于其他情况。就我而言，这是唯一有效的方法。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-04-26T00:09:07.957

我最终使用了browserify，使用coffeeify 作为转换选项，并启用了browserify 的调试选项。我在 main.js 文件的每个请求中捆绑应用程序，并且任何运行时错误都会以相当不错的准确性显示在我的原始源中。

当然，用我的眼球将连接/编译的 js 中的运行时错误映射回咖啡源更胜一筹！

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-08-10T12:56:26.253

我写了一个完美的任务。[一探究竟](https://github.com/tarruda/grunt-coffee-build)

# android - Android 库中关于 SQLCipher 的问题

> ID：15964827
> 
> 赞同：0
> 
> 时间：2013-04-12T06:45:38.197
> 
> 标签：android, noclassdeffounderror

这是我的程序。

```
public class MainActivity extends Activity {

    @Override
    public void onCreate(Bundle savedInstanceState) {

        super.onCreate(savedInstanceState);

        setContentView(R.layout.activity_main);

        InitializeSQLCipher();
    }

         private void InitializeSQLCipher() {
                SQLiteDatabase.loadLibs(this);

                File databaseFile = getDatabasePath("demo.db");

                databaseFile.mkdirs();

                databaseFile.delete();

                SQLiteDatabase database = SQLiteDatabase.openOrCreateDatabase(databaseFile, "test123", null);

                database.execSQL("create table t1(a, b)");

                database.execSQL("insert into t1(a, b) values(?, ?)", new Object[]{"one for the money",
                                                                                "two for the show"});
         }
} 
```

我在这个链接中的这个程序中添加了一些三个库............ [https://github.com/sqlcipher/android-database-sqlcipher](https://github.com/sqlcipher/android-database-sqlcipher)

现在我的查询是我收到以下错误。如何克服以获得完美的解决方案...

```
04-12 11:47:27.379: E/AndroidRuntime(2163): FATAL EXCEPTION: main
04-12 11:47:27.379: E/AndroidRuntime(2163): java.lang.NoClassDefFoundError: net.sqlcipher.database.SQLiteDatabase
04-12 11:47:27.379: E/AndroidRuntime(2163): at com.example.testproject.MainActivity.InitializeSQLCipher(MainActivity.java:43)   
04-12 11:47:27.379: E/AndroidRuntime(2163): at com.example.testproject.MainActivity.onCreate(MainActivity.java:37)
04-12 11:47:27.379: E/AndroidRuntime(2163): at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1047)
04-12 11:47:27.379: E/AndroidRuntime(2163): at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:1611) .... and so on ... 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-09-13T09:35:47.623

即使库具有必需的 jar 文件，我也遇到了同样的问题。通过修改 Proguard 配置文件解决了这个问题。显然，Proguard 正在通过删除 lib 来优化 APK。因此，如果您使用 Proguard，您可能需要查看配置文件。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-12T06:50:21.620

它找不到您的图书馆。如果它是一个 jar，您是否将它放在您的 libs 文件夹中并将其添加到项目中？你是在导出选项卡上导出的吗？如果它是一个库项目，您是否将其添加为库？如果是这样，它是否在 project.properties 中添加了引用？

如果所有这些都正确，请尝试 make clean，eclipse 可能只需要重新编译所有内容。

# javascript - 为什么 alert(1,2,3,...) 只显示 1？

> ID：15964828
> 
> 赞同：0
> 
> 时间：2013-04-12T06:45:39.337
> 
> 标签：javascript

```
function bar(a, b, c, d, e, f) {

  alert(a, b, c, d, e, f)
}

function foo() {

  bar.apply(this, arguments);
}

foo(1, 2, 3, 4, 5, 6); 
```

上面的代码是alerting 1，这是什么原因？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-12T06:48:28.757

该`alert`函数只使用它接收到的第一个参数。

您的代码最终归结为：

```
alert(1, 2, 3, 4, 5, 6); 
```

第二个和更多参数被忽略，因为内置函数对它们不做任何事情。

如果您希望它对它们做任何事情，则必须将它们连接成一个字符串。

```
function bar(a, b, c, d, e, f) {
    alert(Array.prototype.join.call(arguments, ''));
} 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-04-12T06:48:46.503

该`alert()`函数只需要一个参数，因此它只会显示第一个参数。

如果你想显示它们，你需要将它们连接成一个字符串：

```
alert(a + "," + b + "," +c); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-12T06:52:07.467

您可以将所有参数作为数组传递，例如：

```
    功能条（a，b，c，d，e，f）{
    变量 k = [a,b,c,d,e,f];
    警报（k）；
    }

    函数 foo() {
    bar.apply(this, arguments);
    }
    富（1、2、3、4、5、6）；

```

# python - 如何解析 *.cat 文件

> ID：15964830
> 
> 赞同：0
> 
> 时间：2013-04-12T06:45:51.433
> 
> 标签：python, regex, parsing

我想解析[这个](http://pastie.org/7461356)文件。这是一个示例片段。

```
 '13138' => { 'REFERENCE' => '13138', 'NAME' => 'DRAPER Five 125mm Medium Grade Aluminium Oxide Sanding Discs', 'PRICE' => 108, 'MIN_QUANTITY_ORDERABLE' => 1, 'MAX_QUANTITY_ORDERABLE' => 0, 'OUT_OF_STOCK' => 0, 'DATE_PROMPT' => '', 'OTHER_INFO_PROMPT' => '', 'PRICING_MODEL' => 0, 'TAX_1' => '101=2000.00=0=', 'OPAQUE_SHIPPING_DATA' => '0.054', 'ALT_WEIGHT' => '', 'SHIP_SEPARATELY' => 0, 'SHIP_CATEGORY' => '', 'SHIP_SUPPLEMENT' => 0, 'SHIP_SUPPLEMENT_ONCE' => 0, 'HAND_SUPPLEMENT' => 0, 'HAND_SUPPLEMENT_ONCE' => 0, 'SHIP_QUANTITY' => 1, 'COST_PRICE' => 0, 'EXCLUDE_FROM_SHIP' => 0, 'ASSEMBLY_PRODUCT' => 0, 'STOCK_AISLE' => '', 'STOCK_RACK' => '', 'STOCK_SUB_RACK' => '', 'STOCK_BIN' => '', 'BARCODE' => '', 'REPORT_DESC' => '', 'PRICES' => {
    1 => [
        [0,108],
    ],
},
    'CUSTOMVARS' => 
        {
        },
'NO_ORDERLINE' => 0, 'AUTOSHIP' => 0, 'PRODUCT_GROUP' => -1, 'THUMBNAIL' => '', 'IMAGE' => '13138_694.jpg', 'ALSOBOUGHT' => [], 'RELATED' => [],  }, 
    '13139' => { 'REFERENCE' => '13139', 'NAME' => 'DRAPER Five 125mm Coarse Grade Aluminium Oxide Sanding Discs', 'PRICE' => 96, 'MIN_QUANTITY_ORDERABLE' => 1, 'MAX_QUANTITY_ORDERABLE' => 0, 'OUT_OF_STOCK' => 0, 'DATE_PROMPT' => '', 'OTHER_INFO_PROMPT' => '', 'PRICING_MODEL' => 0, 'TAX_1' => '101=2000.00=0=', 'OPAQUE_SHIPPING_DATA' => '0.066', 'ALT_WEIGHT' => '', 'SHIP_SEPARATELY' => 0, 'SHIP_CATEGORY' => '', 'SHIP_SUPPLEMENT' => 0, 'SHIP_SUPPLEMENT_ONCE' => 0, 'HAND_SUPPLEMENT' => 0, 'HAND_SUPPLEMENT_ONCE' => 0, 'SHIP_QUANTITY' => 1, 'COST_PRICE' => 0, 'EXCLUDE_FROM_SHIP' => 0, 'ASSEMBLY_PRODUCT' => 0, 'STOCK_AISLE' => '', 'STOCK_RACK' => '', 'STOCK_SUB_RACK' => '', 'STOCK_BIN' => '', 'BARCODE' => '', 'REPORT_DESC' => '', 'PRICES' => {
    1 => [
        [0,96],
    ],
},
    'CUSTOMVARS' => 
        {
        },
'NO_ORDERLINE' => 0, 'AUTOSHIP' => 0, 'PRODUCT_GROUP' => -1, 'THUMBNAIL' => '', 'IMAGE' => '13139_694.jpg', 'ALSOBOUGHT' => [], 'RELATED' => [],  }, 
    '13140' => { 'REFERENCE' => '13140', 'NAME' => 'DRAPER Five Extra Coarse Grade Aluminium Oxide Sanding Discs', 'PRICE' => 96, 'MIN_QUANTITY_ORDERABLE' => 1, 'MAX_QUANTITY_ORDERABLE' => 0, 'OUT_OF_STOCK' => 0, 'DATE_PROMPT' => '', 'OTHER_INFO_PROMPT' => '', 'PRICING_MODEL' => 0, 'TAX_1' => '101=2000.00=0=', 'OPAQUE_SHIPPING_DATA' => '0.055', 'ALT_WEIGHT' => '', 'SHIP_SEPARATELY' => 0, 'SHIP_CATEGORY' => '', 'SHIP_SUPPLEMENT' => 0, 'SHIP_SUPPLEMENT_ONCE' => 0, 'HAND_SUPPLEMENT' => 0, 'HAND_SUPPLEMENT_ONCE' => 0, 'SHIP_QUANTITY' => 1, 'COST_PRICE' => 0, 'EXCLUDE_FROM_SHIP' => 0, 'ASSEMBLY_PRODUCT' => 0, 'STOCK_AISLE' => '', 'STOCK_RACK' => '', 'STOCK_SUB_RACK' => '', 'STOCK_BIN' => '', 'BARCODE' => '', 'REPORT_DESC' => '', 'PRICES' => {
    1 => [
        [0,96],
    ],
},
    'CUSTOMVARS' => 
        {
        },
'NO_ORDERLINE' => 0, 'AUTOSHIP' => 0, 'PRODUCT_GROUP' => -1, 'THUMBNAIL' => '', 'IMAGE' => '13140_694ii.jpg', 'ALSOBOUGHT' => [], 'RELATED' => [],  }, 
```

这里它包含 3 个项目。它们以类似的字符串开头`'13138' => { 'REFERENCE'`。并在相同类型的字符串之前结束。我怎样才能拆分这些部分？

我试过了`re.search(r"{ 'REFERENCE'.*?(?={ 'REFERENCE')", catstr)`。但它不匹配。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-12T06:57:57.710

为什么不直接替换`=>`为`:`：

```
 'CUSTOMVARS' :
        {
        },
'NO_ORDERLINE' : 0, 'AUTOSHIP' : 0, 'PRODUCT_GROUP' : -1, ... 
```

并使用[`ast.literal_eval`](http://docs.python.org/2/library/ast.html#ast.literal_eval). 它只评估文字，而不是可执行代码，因此不需要清理（除了可能对过大输入进行防护）：

> ```
> ast.literal_eval(node_or_string) 
> ```
> 
> 安全地评估表达式节点或包含 Python 表达式的字符串。提供的字符串或节点只能由以下 Python 文字结构组成：字符串、数字、元组、列表、字典、布尔值和无。
> 
> 这可用于安全地评估来自不受信任来源的包含 Python 表达式的字符串，而无需自己解析值。

**编辑：一个工作示例**

```
#!/usr/bin/env python2
# -*- encoding: utf8 -*-

import urllib2
import ast
import re
from pprint import PrettyPrinter

pp = PrettyPrinter()
resp = urllib2.urlopen("http://pastie.org/pastes/7461356/download")
content = resp.read()
content = re.search(r"\s+=\s+({(?:.|\n)+});", content).group(1)
# Fix following line to handle => inside strings, if needed
content = re.sub(r"=>", r":", content) 
parsed = ast.literal_eval(content)
pp.pprint(parsed) 
```

有关`=>`仅替换外部字符串的信息，请参阅此答案：

*   [使用正则表达式替换引号外的空格](https://stackoverflow.com/questions/6111749/replace-whitespace-outside-quotes-using-regular-expression)

**编辑**

给定文件包含除散列本身之外的其他标记。上面的正则表达式去掉 `re.search`了多余的标记：

```
\s+=\s+      # This marks the = before the start of the hash
({           # Capture the first {
  (?:.|\n)+  # This matches all characters.
             # The (?: is to prevent capture-inside-capture
})           # Capture the last }
;            # This is not captured 
```

# linq - 如何：linq 查询

> ID：15964831
> 
> 赞同：0
> 
> 时间：2013-04-12T06:45:52.403
> 
> 标签：linq

我正在尝试使用 linq 从数据库中获取记录，但它不返回任何记录

这是非常基本的 sql 语句 select * where productid ='12553'

但是以下代码不返回任何结果。请指教。谢谢你

```
private static IEnumerable<ProductModel> GetAllProduct(string productId)
        {
            using (var dc = new TestEntities())
            {
                var result = (from a in dc.Products
                              where a.productid == productId
                              select new ProductModel
                              {
                                  ProductId = a.productid,
                                  Name = a.ProductName

                              });
                return result.Distinct().ToList();
            }

        } 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-12T06:49:09.687

你不需要在这里投影：

```
using (var dc = new TestEntities())
{
    var result = from a in dc.Products
                 where a.productid == productId
                 select a;
    return result.Distinct().ToList();
} 
```

# controller - 具有多个不同控制器的 JavaFX 1 FXML 文件？

> ID：15964832
> 
> 赞同：7
> 
> 时间：2013-04-12T06:46:01.830
> 
> 标签：controller, javafx, fxml

我的应用程序中有两个不同的阶段，它们是使用相同 FXML 文件的帮助屏幕。我不想创建 2 个 FXML 文件，而是只使用一个并拥有两个调用相同 fxml 的控制器。

唯一的问题是控制器是在 FXML 文件中分配的。那么，有没有办法用 Controller 类本身的代码更改分配的控制器？

我真的很想避免复制 FXML 文件只是为了更改每个中的控制器。提前致谢。

* * *

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-04-12T13:03:41.070

您可以`fx:controller=""`从文件中删除分配，并在加载期间`FXML`通过 分配控制器。`FXMLLoader`

```
FXMLLoader fxmlLoader = new FXMLLoader(getClass().getResource("Your.fxml"));
fxmlLoader.setController(this);

try
{
    fxmlLoader.load();
}
catch (IOException exception)
{
    throw new RuntimeException(exception);
} 
```

查看[自定义组件的 FXML 简介部分](http://docs.oracle.com/javafx/2/api/javafx/fxml/doc-files/introduction_to_fxml.html#custom_components)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2021-03-17T07:24:44.200

在 FXML 文件中，标签可以引用多个其他 fxml 文件`<fx:include>`。`fx:controller`每个 fxml 文件都可以使用该属性定义自己的控制器。在`fx:controller`标签内部，类型没有给出实例，因此在使用 FXML 加载器解析它时可能会使用自定义[Controllerfactory 。](https://docs.oracle.com/javase/8/javafx/api/javafx/fxml/FXMLLoader.html#setControllerFactory-javafx.util.Callback-)

该`setControllerFactor`函数需要一个`Callback`类型，它是一个只有一个可调用函数的接口：`call`工厂使用的函数。该函数（由 FXMLLoader 类调用）期望获取一个`Class`对象作为输入参数，并根据类型提供一个实例化对象。以上Java8 lambdas可用于提供工厂：

```
FXMLLoader fxmlLoader = new FXMLLoader(getClass().getResource(fxmlFile));
loader.setControllerFactory((Class<?> controllerType) ->{
    if(controllerType == Controller.class){
        return new Controller();
    }
});
Parent root = (Parent) fxmlLoader.load(); 
```

上面代码中的参数`controllerType`是 fxml`fx:controller`属性提供的类型，由[Java 类加载器](https://docs.oracle.com/javase/7/docs/api/java/lang/ClassLoader.html)决定。当调用 Controllerfactory 时，还没有实例化任何内容，这就是为什么在 fxml 中甚至可以给出抽象类的原因。为了实现不同的行为，可以使用继承。

一个例子是：

```
class Controller{...}
class FirstController extends Controller{...}
class SecondController extends Controller{...} 
```

工厂可以这样使用：

```
FXMLLoader fxmlLoader = new FXMLLoader(getClass().getResource(fxmlFile));
final int[] instantiatedClasses  = {0};
loader.setControllerFactory((Class<?> controllerType) ->{
    if(controllerType == Controller.class){
        if(0 == instantiatedClasses[0]){
            ++instantiatedClasses[0];
            return new FirstController();
        } else return new SecondController();
    }
});
Parent root = (Parent) fxmlLoader.load(); 
```

请注意，这种方式也可以向控制器提供不同的参数，因此继承可能是一种矫枉过正。例如，可以将primaryStage 提供给控制器，例如用于消除对控制器中不同设置器的需要。

```
class Controller{
    public Controller(int behaviorParam){...}
} 
```

```
FXMLLoader fxmlLoader = new FXMLLoader(getClass().getResource(fxmlFile));
final int[] instantiatedClasses  = {-1}; /* so it would start at 0 */
loader.setControllerFactory((Class<?> controllerType) ->{
    if(controllerType == Controller.class){
        ++instantiatedClasses[0]; 
        return new Controller(instantiatedClasses[0]);
    }
});
Parent root = (Parent) fxmlLoader.load(); 
```

然而，这种方法的挑战在于，区分同一控制器类型的不同 fxml 实例仍然不是很简单。计算实例化类的数量是一种可行的方法，但与任何基于标识符的方法相比，它并不能提供太多控制。

# c - 协议帧解码策略

> ID：15964833
> 
> 赞同：1
> 
> 时间：2013-04-12T06:46:02.933
> 
> 标签：c, embedded, protocols

我有以下问题：我正在用 C 语言编写微控制器（ATmega 8bit、8051 等），并通过`UART`接口接收自定义总线协议。我将接收到的字节放入缓冲区并稍后处理它们。

现在的问题是：是否有任何设计模式或策略来解码接收到的帧？最好的方法是如何做到这一点？有书籍/教程吗？

[这是我在这里的第一个问题，所以如果问题格式不正确，请不要打我:)]

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-12T08:05:12.080

由于所有此类协议都是自定义的，因此没有标准的方法来处理它们。唯一类似于 ADT（或“设计模式”，如果你愿意的话）是数据的实际接收，这通常是通过[ring buffer](http://en.wikipedia.org/wiki/Circular_buffer)完成的。

您通常用来解析实际协议的操作并不花哨，但总是以相同的方式完成。你最终会得到这样的东西：

（我在下面的代码中使用前缀 XYZ 表示该代码旨在解码虚构的“XYZ”协议。将其替换为自定义协议的名称。）

```
// xyz.h
#ifndef XYZ_H
#define XYZ_H

typedef enum
{
  XYZ_OK,
  XYZ_ERR_SYNC,        // various error codes for things that can go wrong
  XYZ_ERR_LENGTH,
  XYZ_ERR_CHECKSUM,
  ...

} xyz_result_t;

xyz_result_t  xyz_decode (const uint8_t* buf, size_t n);

#endif /* XYZ_H */

// xyz.c
#include "xyz.h"

xyz_result_t  xyz_decode (const uint8_t* buf, size_t n)
{
  // various protocol-specific checks:

  if(buf[0] != SOME_SYNC_CHARACTER)
  {
    return XYZ_ERR_SYNC;
  }

  if(buf[something] < expected_min_length ||
     buf[something] > expected_max_length)
  {
    return XYZ_ERR_LENGTH;
  }

  ...

  return XYZ_OK;
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-16T03:12:40.593

我发现设计协议以使其易于解码很重要。我当前的有特定的开始和结束字节。因此，当 UART 接收到东西时，它知道数据包从哪里开始（将缓冲区索引设置为零）和在哪里结束（以便可以处理它）。

如果这样做，则需要“转义”数据中的开始/结束字节，在其中添加另一个字节。即 0x7F -> 0x7D，0x5F 其中 0x7D 表示“下一个字节被转义”，0x5F 表示转义的 0x7F。

这让我的事情变得更容易了。IRQ 很简单，取消转义/检查数据包很简单，然后很容易从数据包字节中获取数据。

中断请求

```
If (received byte == start flag)
    set receive buffer index to zero
else
    if (space left in buffer)
        store character in buffer
        if (received byte == end flag)
            process buffer 
```

进程缓冲区

```
Unescape the packet data
Check length
Check checksum
Analyse data 
```

# php - 为 foreach() 错误提供的参数无效

> ID：15964837
> 
> 赞同：0
> 
> 时间：2013-04-12T06:46:16.620
> 
> 标签：php, foreach, arguments

在为主题安装子主题后，我收到了这个错误。子主题是 Crystalline。

错误是：

> 警告：在第 3 行的 crystal/footer.php 中为 foreach() 提供的参数无效

在`footer.php`我有这个：

```
<?php
global $options;
foreach ($options as $value) {
  if (get_settings( $value['id'] ) === FALSE) { $$value['id'] = $value['std']; }
  else { $$value['id'] = get_settings( $value['id'] ); }
 }
?>
</div><!-- #main -->

<?php thematic_abovefooter(); ?>    

<div id="footer">
    <?php get_sidebar('subsidiary'); ?>
    <div id="siteinfo">        
        <?php /* footer text set in theme options */ echo   
     stripslashes($thm_footertext); ?>
        <br/><a href="http://www.reflectionmedia.ro/blog/">Crystalline  
     Child Theme</a>
    </div><!-- #siteinfo -->
</div><!-- #footer -->

 </div><!-- #wrapper .hfeed -->

 <?php wp_footer() ?>

 </body>
 </html> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-12T06:55:43.973

```
$options 
```

可能不是数组或对象。

检查它：

```
var_dump($options); 
```

# content-management-system - 绕过 Kentico 中管理员的工作流程步骤

> ID：15964841
> 
> 赞同：1
> 
> 时间：2013-04-12T06:46:31.103
> 
> 标签：content-management-system, kentico

我创建了一个允许管理员发布文档的工作流。这是一个基本的工作流程。

我想要的是绕过管理员的流程，目前正在发生的事情是管理员必须创建/批准/发布，管理员可以不遵循这些步骤直接发布更改。

![在此处输入图像描述](https://i.stack.imgur.com/29lhA.png)

任何帮助表示赞赏。谢谢。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-25T04:26:50.133

我们通过添加这个条件来做到这一点。 ![在此处输入图像描述](https://i.stack.imgur.com/sYLh9.png)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-12T16:57:01.443

使用基本工作流程是不可能的。您可以通过使用高级工作流程（自 v7 起）或通过自定义 EditMenu.ascx.cs（和基础类）+ 可能是 CMSDocumentManager 来实现。如果您只想将工作流用于版本控制，请使用基本工作流的“常规”选项卡上的“自动发布更改”选项。

# python - 访问 csv 文件时出现 UnicodeDecodeError

> ID：15964843
> 
> 赞同：1
> 
> 时间：2013-04-12T06:46:37.297
> 
> 标签：python, python-3.2, python-unicode

输入文件：chars.csv：

```
4,,x,,2,,9.012,2,,,,
6,,y,,2,,12.01,Â±4,,,,
7,,z,,2,,14.01,_3,,,, 
```

当我尝试解析此文件时，即使在指定 utf-8 编码后也会出现此错误。

```
>>> f=open('chars.csv',encoding='utf-8')
>>> f.read()
Traceback (most recent call last):
  File "<stdin>", line 1, in <module>
  File "/usr/lib/python3.2/codecs.py", line 300, in decode
    (result, consumed) = self._buffer_decode(data, self.errors, final)
UnicodeDecodeError: 'utf-8' codec can't decode byte 0xb1 in position 36: invalid start byte 
```

如何纠正这个错误？

版本：Python 3.2.3

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-12T07:34:21.357

您的输入文件显然不是 utf-8 编码的，因此您至少有以下选项：

*   `f=open('chars.csv', encoding='utf-8', errors='ignore')`如果给定的文件主要是 utf-8 并且您不关心一些小的数据丢失。对于其他`errors`参数值[检查手册](http://docs.python.org/3.2/library/functions.html#open "检查手册")
*   只需使用正确的编码，如 latin-1，如果您知道的话

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-12T07:56:56.897

这不是 UTF-8 编码。± 的 UTF-8 编码是 \xC2\xB1，而 Â 是 \xC2\x83。正如 RobertT 建议的那样，尝试 Latin-1：

```
f=open('chars.csv',encoding='latin-1') 
```

# python - 使用 Python 3 在 PDF 中显示谷歌静态地图

> ID：15964844
> 
> 赞同：0
> 
> 时间：2013-04-12T06:46:39.140
> 
> 标签：python, image, api, pdf

我必须在 Python3 中将图像（地图）包含到 PDF 文件中。

我使用这样的 URL 从 google 静态地图 API 获取图像：

> [http://maps.google.com/maps/api/staticmap?zoom=12&size=300x300&markers=46.75165,6.98996&sensor=false](http://maps.google.com/maps/api/staticmap?zoom=12&size=300x300&markers=46.75165,6.98996&sensor=false)

PyPDF的图像功能

```
pdf.image(name, x=None, y=None, w=0, h=0, type='PNG', link='') 
```

给我这个错误：

> RuntimeError：FPDF 错误：不是 PNG 文件：[http ://maps.google.com/maps/api/staticmap?zoom=12&size=300x300&markers=&sensor=false](http://maps.google.com/maps/api/staticmap?zoom=12&size=300x300&markers=&sensor=false)

我认为这是因为图像没有任何扩展名？

还有什么办法吗？主意？

谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-12T06:49:10.327

Google 静态地图 API 返回 GIF 格式的图像以响应通过 URL 的 HTTP 请求

因此，请尝试使用 GIF 而不是 PNG 作为类型 :)

来源：[http ://blog.programmableweb.com/2008/02/25/google-releases-static-maps-api/](http://blog.programmableweb.com/2008/02/25/google-releases-static-maps-api/)

# graph - 实时数据分析和图表

> ID：15964845
> 
> 赞同：0
> 
> 时间：2013-04-12T06:46:45.957
> 
> 标签：graph, phpmyadmin, data-analysis

哪个是最好的开源实时数据分析工具，这样我就可以在前端的 phpmyadminin 中以图形的形式显示处理过的数据

就像5000名学生的分数一样，我想在不同尺度的基础上展示学生的表现。

每个学生在不同测试部分的表现

所有学生在特定部分的表现

是否有任何工具可以自动从数据库中获取数据，我可以编写各种比较并在前端以图形的形式在 ral 时间显示它们..一旦新用户进行测试，图形就会更新..on页面刷新

我使用的编码平台是PHP，数据库是PHPMYADMIN

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-12T06:57:44.450

我猜你的数据库是 MySQL，PhpMyAdmin 是一个轻松管理数据库的工具 :)

如果您想获取每个年级的学生人数，您可以编写一个查询，例如使用 MySQL COUNT() 函数，然后使用像[http://jpgraph.net/](http://jpgraph.net/)这样的 PHP 库创建一个图表。

希望这可以帮助 ：）

# java - 更改属性类型 - 数据绑定 Spring MVC 表单

> ID：15964848
> 
> 赞同：-1
> 
> 时间：2013-04-12T06:46:57.043
> 
> 标签：java, spring, jsp, data-binding

假设我有以下内容：

休眠：

```
@Entity
@Table(name = "users")
public class Users implements Serializable {

    @Id
    @GeneratedValue(strategy = GenerationType.IDENTITY)
    @Column(name = "id")
    private Integer id;
    @Column(name = "name")
    private String name;
    @Column(name = "companyId")
    private Integer companyid; 
```

我的 JSP：

```
<form:form commandName="user" id="userForm">
<form:input path="name" />
<form:input path="companyId" /> 
```

现在我想在文本字段中显示公司名称而不是它的 ID。当我提交表单时，有时我会通过提供公司 ID 来填充和持久化实体来查询公司 ID。我希望能够反过来做。

可能吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-12T07:43:38.380

一种选择是隐藏`companyId`在你的jsp中：

```
<form:form commandName="user" id="userForm">
<form:input path="name" />
<form:hidden path="companyId" />
<form:input path="companyName" /> 
```

有了这个，您将能够`companyName`在您的 JSP 中显示并在您的控制器中接收两者。

# iphone - 使用分隔器将图像分成两部分

> ID：15964849
> 
> 赞同：7
> 
> 时间：2013-04-12T06:47:08.397
> 
> 标签：iphone, ios, ios6

我正在开发一个应用程序，我需要使用红线将图像分成两部分。

1.  标签的左侧

2.  价格的正确部分

    ![在此处输入图像描述](https://i.stack.imgur.com/xLU3R.png)

**问题 1。**

如何在图像上画一条红线？

**问题2。**

如何使用红线将图像分成两部分？（红线位置不固定。用户可以随意移动位置）

**问题 3。**

如何获取行当前位置以及如何使用该位置两个分割图像

提前致谢

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-05-13T01:40:16.087

我会以与 koray 建议的方式相同的方式处理这个问题：

1）我假设您上面的图像/视图将由视图控制器管理，我将从这里调用*ImageSeperatorViewController*。

在*ImageSeperatorViewController内部，在**-(void) viewDidLoad{}*方法中插入 koray 的代码。确保将 imageToSplit 变量更改为 UIImageView 而不是普通的 UIView。

2）接下来，我假设您知道如何检测用户手势。您将检测这些手势，并确定用户是否选择了视图（即koray 代码中的**bar ）。**一旦确定用户是否选择了**bar**，只需使用触摸位置更新其原点的 X 位置。

```
CGRect barFrame = bar.frame; 
barFrame.origin.x = *X location of the users touch*
bar.frame = barFrame; 
```

3）对于裁剪，我不会使用[github.com/bilalmughal/NLImageCropper](http://github.com/bilalmughal/NLImageCropper)，它不会做你需要做的事情。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-05-13T22:50:17.750

试穿这个尺寸：

**标题：**

```
@interface UIImage (ImageDivider)

- (UIImage*)imageWithDividerAt:(CGFloat)position width:(CGFloat)width color:(UIColor*)color;
- (UIImage*)imageWithDividerAt:(CGFloat)position patternImage:(UIImage*)patternImage;
- (NSArray*)imagesBySlicingAt:(CGFloat)position;

@end 
```

**执行：**

```
@implementation UIImage (ImageDivider)

- (UIImage*)imageWithDividerAt:(CGFloat)position patternImage:(UIImage*)patternImage
{
    //pattern image
    UIColor *patternColor = [UIColor colorWithPatternImage:patternImage];
    CGFloat width = patternImage.size.width;

    //set up context
    UIGraphicsBeginImageContext(self.size);
    CGContextRef context = UIGraphicsGetCurrentContext();

    //draw the existing image into the context
    [self drawAtPoint:CGPointZero];

    //set the fill color from the pattern image color
    CGContextSetFillColorWithColor(context, patternColor.CGColor);

    //this is your divider's area
    CGRect dividerRect = CGRectMake(position - (width / 2.0f), 0, width, self.size.height);

    //the joy of image color patterns being based on 0,0 origin! must set phase
    CGContextSetPatternPhase(context, CGSizeMake(dividerRect.origin.x, 0));

    //fill the divider rect with the repeating pattern from the image
    CGContextFillRect(context, dividerRect);

    //get your new image and viola!
    UIImage *newImage = UIGraphicsGetImageFromCurrentImageContext();
    UIGraphicsEndImageContext();
    return newImage;
}

- (UIImage*)imageWithDividerAt:(CGFloat)position width:(CGFloat)width color:(UIColor *)color
{
    //set up context
    UIGraphicsBeginImageContext(self.size);
    CGContextRef context = UIGraphicsGetCurrentContext();

    //draw the existing image into the context
    [self drawAtPoint:CGPointZero];

    //set the fill color for your divider
    CGContextSetFillColorWithColor(context, color.CGColor);

    //this is your divider's area
    CGRect dividerRect = CGRectMake(position - (width / 2.0f), 0, width, self.size.height);

    //fill the divider's rect with the provided color
    CGContextFillRect(context, dividerRect);

    //get your new image and viola!
    UIImage *newImage = UIGraphicsGetImageFromCurrentImageContext();
    UIGraphicsEndImageContext();
    return newImage;
}

- (NSArray*)imagesBySlicingAt:(CGFloat)position
{
    NSMutableArray *slices = [NSMutableArray array];

    //first image
    {
        //context!
        UIGraphicsBeginImageContext(CGSizeMake(position, self.size.height));

        //draw the existing image into the context
        [self drawAtPoint:CGPointZero];

        //get your new image and viola!
        [slices addObject:UIGraphicsGetImageFromCurrentImageContext()];
        UIGraphicsEndImageContext();
    }

    //second
    {
        //context!
        UIGraphicsBeginImageContext(CGSizeMake(self.size.width - position, self.size.height));

        //draw the existing image into the context
        [self drawAtPoint:CGPointMake(-position, 0)];

        //get your new image and viola!
        [slices addObject:UIGraphicsGetImageFromCurrentImageContext()];
        UIGraphicsEndImageContext();
    }
    return slices;
} 
```

这个概念很简单 - 你想要一个带有分隔线的图像。您可以只覆盖一个视图，或覆盖`drawRect:`，或任何数量的任何解决方案。我宁愿给你这个类别。它只是使用一些快速的 Core Graphics 调用在指定位置生成具有所需分隔符的图像，无论是图案图像还是颜色。如果您还想支持水平分隔线，那么修改它是相当简单的。**奖励：**您可以使用平铺图像作为分隔线！

现在回答你的**主要问题**。使用类别是不言自明的 - 只需在源背景上调用两种方法之一以使用分隔线生成一个，然后应用该图像而不是原始源图像。

现在，**第二个问题**很简单——当分隔线被移动时，根据新的分隔线位置重新生成图像。这实际上是一种相对低效的方法，但是对于您的目的而言，这应该足够轻巧，并且仅在移动分隔线时才是一个问题。过早的优化同样是一种罪过。

**第三个问题**也很简单——调用`imagesBySlicingAt:`——它将返回一个包含两个图像的数组，这是通过在提供的位置对图像进行切片生成的。随心所欲地使用它们。

**此代码已经过测试可以正常工作。我强烈建议你摆弄它，不是为了任何实用目的，而是为了更好地理解所使用的机制，以便下次你可以回答问题**

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2013-05-07T19:15:48.530

如果你想画一条线，你可以使用带有红色背景的 UIView 并将高度设置为图像的大小，宽度设置为 5 像素左右。

```
 UIView *imageToSplit; //the image im trying to split using a red bar
    CGRect i = imageToSplit.frame;
    int x = i.origin.x + i.size.width/2;
    int y = i.origin.y;
    int width = 5;
    int height = i.size.height;
    UIView *bar = [[[UIView alloc] initWithFrame:CGRectMake(x, y, width, height)] autorelease];
    bar.backgroundColor = [UIColor redColor];
    [self.view addSubview:bar]; 
```

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2013-05-07T06:54:56.663

对于作物，你可以试试这个，

```
UIImage *image = [UIImage imageNamed:@"yourImage.png"];
CGImageRef tmpImgRef = image.CGImage;
CGImageRef topImgRef = CGImageCreateWithImageInRect(tmpImgRef, CGRectMake(0, 0, image.size.width, image.size.height / 2.0));
UIImage *topImage = [UIImage imageWithCGImage:topImgRef];
CGImageRelease(topImgRef);

CGImageRef bottomImgRef = CGImageCreateWithImageInRect(tmpImgRef, CGRectMake(0, image.size.height / 2.0,  image.size.width, image.size.height / 2.0));
UIImage *bottomImage = [UIImage imageWithCGImage:bottomImgRef];
CGImageRelease(bottomImgRef); 
```

希望这可以帮到你， ：）

# android - SQLiteOpenHelper.getWritableDatabase() 的 nullPointerException，Android

> ID：15964850
> 
> 赞同：1
> 
> 时间：2013-04-12T06:47:08.347
> 
> 标签：android, database, sqlite

我正在尝试让 SQLite 数据库在 Android 上运行。在 MainActivity 中编写了一个小测试，其中包括在数据库一行的 3 个列中输入值。之后，数据被读出并显示到屏幕上以验证它是否有效。

但是，我在 SQLiteOpenHelper.getWritableDatabase() 的 logcat 的堆栈跟踪中得到了一个空指针异常

对我来说没有多大意义，因为创建了数据库。有任何想法吗？

下面显示的是代码的两个部分，扩展 Activity 的 MainActivity 类和具有创建行、读取、更新和删除的所有方法的 Database 类。

Database 类内部是一个名为 SQLiteHelper 的嵌套类，它扩展了 SQLiteOpenHelper。

扩展 Activity 的 MainActivity 类：

```
 public class MainActivity extends Activity {

Button buttonOne;
EditText editTextOne;
EditText editTextTwo;
Context context;

@Override
protected void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.activity_main);

    buttonOne = (Button) findViewById(R.id.button1);
    editTextOne = (EditText) findViewById(R.id.edittext1);
    editTextTwo = (EditText) findViewById(R.id.edittext2);

             //insert new row
             Database db = new Database(context);
             db.openToWrite();
             db.insertNewRow(1, "testlabel", 210);

             Toast.makeText(MainActivity.this,"new row inserted", Toast.LENGTH_SHORT).show();

             // display all rows
             int price = 0;
            String name = "";
            int status = 0;

          String result = "";
            db.openToRead();
            result = db.getAllFromDB();
            db.close();
            editTextOne.setText(result);

} // end onCreate
   } 
```

嵌套类 SQLiteHelper 扩展了嵌套在数据库类中的 SQLiteOpenHelper

```
 public class SQLiteHelper extends SQLiteOpenHelper {

          public SQLiteHelper(Context context, String name,
            CursorFactory factory, int version) {
           super(context, name, factory, version);
          }

          @Override
          public void onCreate(SQLiteDatabase db) {
           // TODO Auto-generated method stub
           db.execSQL(SCRIPT_CREATE_DATABASE);
          }

         }
    } 
```

数据库类：

```
 public class Database {

    public static final String MYDATABASE_NAME = "my_database";
    public static final String MYDATABASE_TABLE = "my_table";
    public static final int MYDATABASE_VERSION = 1;
    public static final String KEY_CHECKBOX_STATUS = "check_box_status";
    public static final String KEY_CHECKBOX_LABEL = "check_box_label";
    public static final String KEY_PRICE = "price"; 

  //create table MY_DATABASE (ID integer primary key, Content text not null);
    private static final String SCRIPT_CREATE_DATABASE =
     "CREATE TABLE " + MYDATABASE_TABLE + " (" + "ID INTEGER PRIMARY KEY AUTOINCREMENT, " +  
    "KEY_CHECKBOX_STATUS INTEGER, " + "KEY_CHECKBOX_LABEL TEXT, " + " KEY_PRICE INTEGER" + ");";

    SQLiteDatabase sqLiteDatabase;
    SQLiteHelper sqLiteHelper;
    Context context;

    public Database(Context c){
          context = c;
         }

    public void openToRead() throws android.database.SQLException {
          sqLiteHelper = new SQLiteHelper(context, MYDATABASE_NAME, null, MYDATABASE_VERSION);
          sqLiteDatabase = sqLiteHelper.getReadableDatabase();
         }

    public void openToWrite() throws android.database.SQLException {
          sqLiteHelper = new SQLiteHelper(context, MYDATABASE_NAME, null, MYDATABASE_VERSION);
          sqLiteDatabase = sqLiteHelper.getWritableDatabase();
         }

         public void close(){
         sqLiteHelper.close();
         }

    // after this is all the methods for getting and updating and inserts to database 
```

编辑：来自 Logcat 的完整堆栈跟踪添加如下：

```
FATAL EXCEPTION:
java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.dbtester/com.example.dbtester.MainActivity}: java.lang.NullPointerException
android.app.ActivityThread.performLaunchActivity(ActivityThread.java:1956)
android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:1981)
android.app.ActivityThread.access$600(ActivityThread.java:123)
android.app.ActivityThread$H.handleMessage(ActivityThread.java:1147)
android.os.Handler.dispatchMessage(Handler.java:99)
android.os.Looper.loop(Looper.java:137)
android.app.ActivityThread.main(ActivityThread.java:4424)
java.lang.reflect.Method.invokeNative(Native Method)
java.lang.reflect.Method.invoke(Method.java:511)
com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:784)
com.android.internal.os.ZygoteInit.main(ZygoteInit.java:551)
dalvik.system.NativeStart.main(Native Method)
caused by: java.lang.NullPointerException
at android.database.sqlite.SQLiteOpenHelper.getWritableDatabase(SQLiteOpenHelper.java:157)
at com.example.dbtester.Database.openToWrite(Database.java:40)
at com.example.dbtester.MainActivity.onCreate(MainActivity.java:32)
android.app.Activity.performCreate(Activity.java:4465)
at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1049)
at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:1920) 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-12T06:58:28.247

您的上下文是 null 更改`Database db = new Database(context);`为`Database db = new Database(this);`in`onCreate`

您还应该更改您的`Database constructor`，这样您就不必在`SQLiteHelper`每次打开数据库时都实例化该类。

```
public Database(Context c){
      context = c;
      sqLiteHelper = new SQLiteHelper(context, MYDATABASE_NAME, null, MYDATABASE_VERSION);
     } 
```

并`sqLiteHelper = new SQLiteHelper(context, MYDATABASE_NAME, null, MYDATABASE_VERSION);`从你的`openToRead()`和`openToWrite()`

# android - 卡支付 使用 PayPal 安卓

> ID：15964851
> 
> 赞同：0
> 
> 时间：2013-04-12T06:47:10.333
> 
> 标签：android, paypal, payment-gateway

我们可以用卡支付来实施 Paypal。例如，某人没有贝宝帐户，因此他/她可以使用借记卡或信用卡付款。有没有办法用卡实现贝宝。请帮忙。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2015-08-24T07:00:44.650

嗨，我知道我回答这个问题已经很晚了，但是在他们的应用程序中实施 Paypal 的人肯定会从中受益！适用于 Paypal 的 Android SDK 不支持卡支付，但是“适用于 Paypal 的 Rest API sdk”具有该功能。将此包含在您的 build.gradle 中： compile 'com.paypal.sdk:rest-api-sdk:1.2.5'

然后尝试以下方法：

```
public static final String  CLIENT_ID = "AQkquBDf1zctJOWGKWUEtKXm6qVhueUEMvXO_-MCI4DQQ4-LWvkDLIN2fGsd";
public static final String  CLIENT_SECRET = "EL1tVxAjhT7cJimnz5-Nsx9k2reTKSVfErNQF-CmrwJgxRtylkGTKlU4RvrX";

/**
     * @method getAccessToken is used to get AccessToken for performing authorised transcations
     * @param clientId credential that we get when we register our application on https://developer.paypal.com/
     * @param clientSecret credential that we get when we register our application on https://developer.paypal.com/
     * @return String accessToken
     */
    public static final String getAccessToken(String clientId, String clientSecret){
        Log.i(TAG,"GetAccessToken called");
        String accessToken = "";
        long expiresIn;

        try {
            OAuthTokenCredential oAuthTokenCredential = new OAuthTokenCredential(clientId, clientSecret, getSdKConfig());
            expiresIn = oAuthTokenCredential.expiresIn();
            accessToken = oAuthTokenCredential.getAccessToken();
             Log.i(TAG, "AccessToken: "+accessToken);
        } catch (PayPalRESTException e) {
            e.printStackTrace();
        }
        return accessToken;
    }

 /**
         * @method makeDirectPayment is used for making direct payment via credit cards. Customers who don't have paypal account can pay via this method.
         * @return String with Payment Id and Payment status
         */
        public static final String makeDirectPayment(){

            String accessToken = getAccessToken(Constants.CLIENT_ID, Constants.CLIENT_SECRET);
            String message = "";
            if (accessToken != null && !accessToken.equals("")){
                APIContext apiContext = new APIContext(accessToken);
                apiContext.setConfigurationMap(getSdKConfig());

                CreditCard creditCard = new CreditCard();
                creditCard.setType("visa");
                creditCard.setNumber("4446283280247004");
                creditCard.setExpireMonth(11);
                creditCard.setExpireYear(2019);
                creditCard.setFirstName("Test");
                creditCard.setLastName("Shopper");

                FundingInstrument fundingInstrument = new FundingInstrument();
                fundingInstrument.setCreditCard(creditCard);

                List<FundingInstrument> fundingInstrumentList = new ArrayList<>();
                fundingInstrumentList.add(fundingInstrument);

                Payer payer = new Payer();
                payer.setFundingInstruments(fundingInstrumentList);
                payer.setPaymentMethod("credit_card");

                Amount amount = new Amount();
                amount.setCurrency("EUR");
                amount.setTotal("50");

                Transaction transaction = new Transaction();
                transaction.setDescription("Creating Direct Payment with Credit Card");
                transaction.setAmount(amount);

                List<Transaction> transactionList = new ArrayList<>();
                transactionList.add(transaction);

                Payment payment = new Payment();
                payment.setIntent("sale");
                payment.setTransactions(transactionList);
                payment.setPayer(payer);

                try {
                    Payment createdPayment = payment.create(apiContext);

                    if (createdPayment != null){
                        Log.i(TAG,"Payment object: "+createdPayment.toJSON());
                        message = "Payment Id: " + createdPayment.getId() + " Payment status: "+createdPayment.getState();
                        Log.i(TAG, message);
                    }
                } catch (PayPalRESTException e) {
                    e.printStackTrace();
                }

            }
            return message;
        } 
```

请注意，为简单起见，我使用了所有静态内容，但您可以维护自己的 UI 以获取任何项目、其定价、用户信用卡详细信息。

# c# - 如何将字符串系统集合转换为 int？

> ID：15964853
> 
> 赞同：0
> 
> 时间：2013-04-12T06:47:17.330
> 
> 标签：c#, mysql, database, charts

我有一个 Windows 表单图表，可以检索 mysql 数据库中的 x 值并将其绘制在条形图上。这是我第一次这样做，所以我真的不知道为什么会出现这个错误。

```
public void loadChart()
    {
        string conn = "server=localhost;user=root;password='';database=cashieringdb;";
        string cmdstring = "SELECT sum FROM salessum";
        MySqlDataAdapter adapter = new MySqlDataAdapter(cmdstring, conn);
        DataTable dt = new DataTable();
        adapter.Fill(dt);
        chart1.DataSource = dt;
        this.chart1.Palette = ChartColorPalette.SeaGreen;
        this.chart1.Titles.Add("Daily Record");
        int[] pointsArray = a.mysqlSelect("select sum from salessum"); // error in this line
        string[] seriesArray = { "Mon", "Tue", "Wed", "Th", "Fri" };

        for (int i = 0; i < seriesArray.Length; i++)
        {
            Series series =this.chart1.Series.Add(seriesArray[i]);
            series.Points.Add(pointsArray[i]);
        } 
```

这是错误显示：无论在互联网上搜索解决方案多少时间，但我仍然无法正常工作。或者有什么简单的方法可以从数据库中检索数据并将其绘制在 windows 窗体图表上？

```
Error   2   Cannot implicitly convert type 'System.Collections.Generic.List<string>[]' to 'int[]' 
```

**编辑**

我将代码更改为：

```
 List<string>[] pointsArray = a.mysqlSelect("select sum from salessum"); //no error 
```

此行中的错误：

```
 series.Points.Add(pointsArray[i]); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-12T06:56:51.233

发生此错误是因为您将 List 转换为 int[]。你不能隐含地这样做，你必须明确地这样做。您可以使用`Linq`.

我假设这`a.mysqlSelect("select sum from salessum");`是一个方法调用。并输出一个字符串列表（**每个字符串代表一个数字**）

像这样的东西：

```
int[] pointsArray = a.mysqlSelect("select sum from salessum").Select(i => int.Parse(i)).ToArray(); 
```

此[链接](https://stackoverflow.com/questions/1297231/convert-string-to-int-in-one-string-of-code-using-linq)也将对您有所帮助。

已编辑：查看我之前添加的 LINK 并了解您将要完成的工作。:)

在这段代码中，

```
series.Points.Add(pointsArray[i]); 
```

`Points.Add`方法不期望一个字符串，它期望一个`int`. 您之前尝试做的事情是正确的。所以点 Array 必须是`int[]`. 我的意思是这段代码：

```
int[] pointsArray = a.mysqlSelect("select sum from salessum"); 
```

我想我已经找到了您想要完成的完全相同的事情。请看一下这个[**链接**](http://www.dotnetperls.com/chart)。这将对您有所帮助。

# windows - Visual Studio 构建后：保持控制台打开？

> ID：15964854
> 
> 赞同：2
> 
> 时间：2013-04-12T06:47:19.733
> 
> 标签：windows, visual-studio-2010, console, post-build-event

我的构建后事件有效，但在某些情况下，我很确定它在控制台窗口中显示错误。但是，由于窗口立即关闭，我无法阅读任何内容。

这是构建事件：

```
if $(ConfigurationName) == Release start xcopy /y "$(TargetDir)*.dll" "$(ProjectDir)../../bin" 
```

基本上它将构建的 dll 复制到另一个目录。

有没有办法强制调用的控制台窗口`start`保持打开状态，直到我关闭它？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-05-21T11:02:28.410

我认为您想要的信息写在“输出”（视图>输出或Ctrl-W + O）中。在一切运行后，该信息仍然被写入/可用。

例如，输出

```
echo Information on the post build event
some_non_existant_command 
```

是

```
Information on the post build event
'some_non_existant_command' is not recognized as an internal or external command, operable program or batch file. 
```

这将比错误列表 (Ctrl-W + E) 更好地提示你出了什么问题，它只会显示一些神秘的东西，比如*"... exited with code 9009"*。

所以，我的建议，检查输出！

希望能帮助到你。

# android - 如何自定义列表视图搜索我不将数组列表传递给自定义列表视图类

> ID：15964859
> 
> 赞同：-2
> 
> 时间：2013-04-12T06:47:52.087
> 
> 标签：android

**编辑：**这个答案不适合我，我需要根据我的情况更多的答案，谢谢

当我调用列表视图时如何使用自定义列表视图进行搜索我不使用它传递数组。现在我想对**姓名**和**手机号码**进行搜索，请帮助我如何实现？姓名和手机号码有复选框，如果姓名复选框被选中然后搜索姓名如果手机号码复选框被选中然后搜索手机号码

```
public class AndroidJSONParsingActivity extends ListActivity {

// JSON Node names
private static final String TAG_NAME = "name";
private static final String TAG_EMAIL = "email";
private static final String TAG_ID = "id";
private static final String TAG_PHONE_MOBILE = "mobile";
EditText search;
int textlength=0;
ListView lv;
 ArrayList<String> text_sort = new ArrayList<String>();
 ArrayList<Integer> image_sort = new ArrayList<Integer>();
 ListViewAdapter adapter;
@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.main);
    //access the controls 
    showList();
    CheckBox Name = (CheckBox) findViewById(R.id.checkBox1);
    CheckBox Mobile = (CheckBox) findViewById(R.id.checkBox2);

    if(Name.isChecked()==true){
        //search on name
    }
    if(Mobile.isChecked()==true){
        //search on mobile
    }
    Button addnew = (Button) findViewById(R.id.btnAddNew);
    // selecting single ListView item
            lv = getListView();
    addnew.setOnClickListener(new View.OnClickListener() {

        @Override
        public void onClick(View v) {
            // TODO Auto-generated method stub
            Intent intent = new Intent(getApplicationContext(), Insrt.class);
            startActivity(intent);
        }
    });
    search = (EditText)findViewById(R.id.etSearch);
    search.addTextChangedListener(new TextWatcher() {

        public void afterTextChanged(Editable s) {
        }

        public void beforeTextChanged(CharSequence s, int start, int count,
        int after) {
        }

        public void onTextChanged(CharSequence s, int start, int before,
        int count) {

            adapter.getFilter().filter(s);
            adapter.notifyDataSetChanged();
        }
        });

}

private void showList() {
    // TODO Auto-generated method stub
    ListAdapter adapter = new ListViewAdapter(this);
    setListAdapter(adapter);

    // Launching new screen on Selecting Single ListItem
    lv.setOnItemClickListener(new OnItemClickListener() {

        @Override
        public void onItemClick(AdapterView<?> parent, View view,
                int position, long ids) {
            // getting values from selected ListItem
            String name = ((TextView) view.findViewById(R.id.name)).getText().toString();
            String cost = ((TextView) view.findViewById(R.id.email)).getText().toString();
            String description = ((TextView) view.findViewById(R.id.mobile)).getText().toString();
            String id = ((TextView) view.findViewById(R.id.id)).getText().toString();

            // Starting new intent
            Intent in = new Intent(getApplicationContext(), SingleMenuItemActivity.class);
            in.putExtra(TAG_NAME, name);
            in.putExtra(TAG_EMAIL, cost);
            in.putExtra(TAG_PHONE_MOBILE, description);
            in.putExtra(TAG_ID, id);
            startActivity(in);

        }
    });
}

} 
```

现在我想对NAME和手机号码进行搜索，请帮助我是如何做到的？请帮助

```
 public class ListViewAdapter extends ArrayAdapter {
private Filter filter;

public ListViewAdapter(Context context, int textViewResourceId) {
    super(context, textViewResourceId);
    // TODO Auto-generated constructor stub
}
@Override
public Filter getFilter()
{
    if (filter == null)
        filter = new PkmnNameFilter();

    return filter;
}
// url to make request
private static String url = "https://abc.net/api/api/employees/";
// JSON Node names
ArrayList<String> TAG_ID= new ArrayList<String>();
ArrayList<String> TAG_NAME= new ArrayList<String>();
ArrayList<String> TAG_EMAIL= new ArrayList<String>();
ArrayList<String> TAG_PHONE_MOBILE= new ArrayList<String>();
static Context context;
JSONArray employee = null;
String id,name,email,mobile;
ArrayList<Integer> close =new ArrayList<Integer>();
private Activity activity;
ViewHolder view;

//constructor
    public ListViewAdapter(Activity activity) 
    {
    super(context, 0);
    this.activity = activity;

    // Creating JSON Parser instance
    JSONParser jParser = new JSONParser();

    // getting JSON string from URL
    JSONObject json = jParser.getJSONFromUrl(url);

    try {
        // Getting Array of Employee
        employee = json.getJSONArray("Employee");

        // looping through All Employee
        for(int i = 0; i < employee.length(); i++)
        {
        JSONObject c = employee.getJSONObject(i);

            // Storing each json item in variable
            id = String.valueOf(c.getInt("Id"));
            name = c.getString("Name");
            email = c.getString("Email");
            mobile = c.getString("Mobile");

            //adding all get values into array
            if(name!="null"&&mobile!="null"){
            TAG_NAME.add(name);
            TAG_ID.add(id);
            TAG_EMAIL.add(email);
            TAG_PHONE_MOBILE.add(mobile);
            close.add(R.drawable.close);
            }

        }
    } catch (JSONException e) {
        e.printStackTrace();
    }

}

@Override
public int getCount() {
    // TODO Auto-generated method stub
    return TAG_NAME.size();
}

@Override
public Object getItem(int paramInt) {
    // TODO Auto-generated method stub
    return TAG_NAME.size();
}

@Override
public long getItemId(int paramInt) {
    // TODO Auto-generated method stub
    return 0;
}

public static class ViewHolder {
    public ImageView deleteButtonImg;
    public TextView name,email,mobile,id;

}

@Override
public View getView(final int paramInt, View paramView, final ViewGroup paramViewGroup) {
    // TODO Auto-generated method stub

    LayoutInflater inflator = activity.getLayoutInflater();
    if (paramView == null) {
        view = new ViewHolder();
        paramView = inflator.inflate(R.layout.list_item, null);

        view.name = (TextView) paramView.findViewById(R.id.name);
        view.email = (TextView) paramView.findViewById(R.id.email);
        view.mobile = (TextView) paramView.findViewById(R.id.mobile);
        view.id = (TextView) paramView.findViewById(R.id.id);
        view.deleteButtonImg = (ImageView) paramView.findViewById(R.id.ibclose);
        paramView.setTag(view);

    } else {
        view = (ViewHolder) paramView.getTag();
    }

    view.name.setText(TAG_NAME.get(paramInt));
    view.email.setText(TAG_EMAIL.get(paramInt));
    view.mobile.setText(TAG_PHONE_MOBILE.get(paramInt));
    view.deleteButtonImg.setImageResource(close.get(paramInt));
    view.id.setText(TAG_ID.get(paramInt));
    view.name.setFocusableInTouchMode(false);
    view.name.setFocusable(false);
    view.deleteButtonImg.setFocusableInTouchMode(false);
    view.deleteButtonImg.setFocusable(false);
    view.deleteButtonImg.setOnClickListener(new OnClickListener() {

        @Override
        public void onClick(View v) {
            // TODO Auto-generated method stub
            HostnameVerifier hostnameVerifier = org.apache.http.conn.ssl.SSLSocketFactory.ALLOW_ALL_HOSTNAME_VERIFIER;
            DefaultHttpClient client = new DefaultHttpClient();
            SchemeRegistry registry = new SchemeRegistry();
            SSLSocketFactory socketFactory = SSLSocketFactory.getSocketFactory();
            socketFactory.setHostnameVerifier((X509HostnameVerifier) hostnameVerifier);
            registry.register(new Scheme("https", socketFactory, 443));
            SingleClientConnManager mgr = new SingleClientConnManager(client.getParams(), registry);
            // defaultHttpClient
            DefaultHttpClient httpClient = new DefaultHttpClient(mgr, client.getParams());
            HttpsURLConnection.setDefaultHostnameVerifier(hostnameVerifier);
                        HttpDelete httpDelete = new HttpDelete("https://abc.net/api/api/employees/"+TAG_ID.get(paramInt));

                        httpDelete.setHeader("content-type", "application/json");
                        JSONObject data = new JSONObject();

                        try {
                            data.put("Id", TAG_ID.get(paramInt));

                        /*StringEntity entity = new StringEntity(data.toString());
                        httpPost.setEntity(entity);*/

                        HttpResponse response = httpClient.execute(httpDelete);
                        String responseString = EntityUtils.toString(response.getEntity());
                        //int workoutId = responseJSON.getInt("id");
                        } catch (JSONException e) {
                            // TODO Auto-generated catch block
                            e.printStackTrace();
                        } catch (UnsupportedEncodingException e) {
                            // TODO Auto-generated catch block
                            e.printStackTrace();
                        } catch (ClientProtocolException e) {
                            // TODO Auto-generated catch block
                            e.printStackTrace();
                        } catch (IOException e) {
                            // TODO Auto-generated catch block
                            e.printStackTrace();
                        }

                         TAG_NAME.remove(paramInt);
                         TAG_EMAIL.remove(paramInt);
                         TAG_PHONE_MOBILE.remove(paramInt);
                         TAG_ID.remove(paramInt);
                         close.remove(paramInt);

            notifyDataSetChanged();

        }
    });

    return paramView;
}
private class PkmnNameFilter extends Filter
{

@Override
protected FilterResults performFiltering(CharSequence constraint) {
    FilterResults results = new FilterResults();
    // We implement here the filter logic
    if (constraint == null || constraint.length() == 0) {
        // No filter implemented we return all the list
        results.values = TAG_NAME;
        results.count = TAG_NAME.size();
    }
    else {
        // We perform filtering operation
        List<Object> nPlanetList = new ArrayList<Object>(TAG_NAME);

        for (Object p : TAG_NAME) {
            if (((Scheme) p).getName().toUpperCase().startsWith(constraint.toString().toUpperCase()))
                nPlanetList.add(p);
        }

        results.values = nPlanetList;
        results.count = nPlanetList.size();

    }
    return results;
}
  @Override
  protected void publishResults(CharSequence constraint, FilterResults results) {
       final ArrayList<String> localItems = (ArrayList<String>) results.values;
          notifyDataSetChanged();
          clear();
          for (Iterator<String> iterator = localItems.iterator(); iterator
                  .hasNext();) {
              String gi = (String) iterator.next();
              add(gi);
          }
  }
}

} 
```

我在谷歌上搜索但我不明白如何实现？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-12T06:57:35.393

您需要将在 editext 中键入的字符串传递给您的过滤器

```
youradapter.getFilter().filter(s);
youradapter.notifyDataSetChanged(); 
```

在适配器类中覆盖 getFilter() 和 performFiltering(params)

```
 @Override
  public Filter getFilter() {
   return new Filter() {
        @Override
       protected void publishResults(CharSequence constraint, FilterResults results)                  {
           if (results != null && results.count >= 0) {
              //set reeulst
           } else {
               // set original values
           }

           notifyDataSetInvalidated();
       }

      @Override
       protected FilterResults performFiltering(CharSequence constraint) {
           FilterResults result = new FilterResults();
           if (!TextUtils.isEmpty(constraint)) {
                  ArrayList<type> foundItems = new ArrayList<type>();
                       //do something
                       //filter resutls 
                 }

               result.count = foundItems.size();//search results found return count
               result.values = foundItems;// return values

           else
           {
               result.count=-1;// no search results found
           }
              return  result;
      } 
```

编辑：

```
 public class MainActivity extends Activity {
EditText search;
ListView lv;
CustomAdapter adapter;

@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.activity_main);
    lv=(ListView) findViewById(R.id.lv);
    adapter = new CustomAdapter(this,0);
    search = (EditText)findViewById(R.id.editText1);
    search.addTextChangedListener(new TextWatcher() {

        public void afterTextChanged(Editable s) {
        }

        public void beforeTextChanged(CharSequence s, int start, int count,
        int after) {
        }

        public void onTextChanged(CharSequence s, int start, int before,
        int count) {

            adapter.getFilter().filter(s);
            adapter.notifyDataSetChanged();

        }
        });

}

  class CustomAdapter extends ArrayAdapter
  {
public CustomAdapter(Context context, int textViewResourceId) {
    super(context, textViewResourceId);
    // TODO Auto-generated constructor stub
}

@Override
public View getView(int position, View convertView, ViewGroup parent) {
    // TODO Auto-generated method stub
    return super.getView(position, convertView, parent);
}

@Override
public Filter getFilter() {
    // TODO Auto-generated method stub
    return super.getFilter();
}   
    }
    } 
```

activity_main.xml

```
 <RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
 xmlns:tools="http://schemas.android.com/tools"
 android:layout_width="match_parent"
 android:layout_height="match_parent"
 tools:context=".MainActivity" >

 <EditText
    android:id="@+id/editText1"
    android:layout_width="wrap_content"
    android:layout_height="40dp"
    android:layout_alignParentLeft="true"
    android:layout_alignParentRight="true"
    android:layout_alignParentTop="true"
    android:ems="10" />

 <ListView
    android:id="@+id/lv"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:layout_alignParentLeft="true"
    android:layout_below="@+id/editText1" >

  </ListView>  
  </RelativeLayout> 
```

编辑 ：

这是工作代码的链接

[使用 EditText 在 ListView 中搜索](https://stackoverflow.com/questions/10816243/search-in-listview-with-edittext/15367403#15367403)

我不知道是否有人会为你编码。但是，如果您尝试，您应该能够进行更改以在您的代码中实现相同的功能..

![在此处输入图像描述](https://i.stack.imgur.com/agCL3l.png)

![在此处输入图像描述](https://i.stack.imgur.com/UfeKkl.png)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-22T02:17:18.080

Rohit - 抱歉，但乍一看，我发现了一些潜在的问题。没有时间构建和运行您的代码，我只能猜测您的具体要求。我将讨论前两个重构机会。我的直觉认为你会在这个过程中找到答案。

首先，您在活动初始​​化之前调用了一个名为“showList()”的方法。（在我看来，您应该稍后再调用此方法。例如，在 onResume 中。）

然后，您将创建在 onCreate 运行后将不在范围内的局部引用变量（每个实例仅发生一次）。

顺便说一句，当内联类定义（例如新的 View.OnClickListener）解析为适当的命名类和/或类的实例是成员变量时，我发现这类问题更容易解决。如果此类更改可能会产生内存管理问题，您可以在程序按用户预期运行**后进行优化。**

祝你好运！

-布兰登

# jquery - fancybox 在我的网站上不起作用

> ID：15964862
> 
> 赞同：0
> 
> 时间：2013-04-12T06:48:02.777
> 
> 标签：jquery, fancybox

我没有 html5 或 css 方面的专业知识。但是，我仍然在努力构建一个投资组合网站。我有一些照片想在我的网站上展示，我想使用fancybox。但是，它不起作用。我在一个新页面中打开图像，这不是我要找的。另外，我正在尝试垂直滚动（带有垂直滚动的单页网站）。以下是我的代码：

```
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
  <head><title>Sketches</title>
    <meta http-equiv="content-type" content="text/html;charset=utf-8" />
    <link rel="stylesheet" type="text/css" href="css/font.css" media="all"></link>
    <link rel="stylesheet" href="css/style_vertical.css" type="text/css" media="screen"/>

      <!-- latest jQuery direct from google's CDN -->
<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.4.2/jquery.min.js">
</script>

<!-- the mousewheel plugin - optional to provide mousewheel support -->
<script type="text/javascript" src="../js/jquery.mousewheel.js"></script>

<!-- the jScrollPane script -->
<script type="text/javascript" src="../js/jquery.jscrollpane.min.js"></script>

<!-- EasySlider -->
<script type="text/javascript" src="../js/easySlider.js"></script>

<!-- fancybox -->
<script type="text/javascript" src="../js/fancybox/jquery.fancybox-1.3.2.pack.js"></script>

<!-- fancybox transitions -->
<script type="text/javascript" src="../js/fancybox/jquery.easing-1.3.pack.js"></script>

<script>
$(function()
{
    $('.scroll-pane').jScrollPane();
});

</script>  

<script>
$(document).ready(function(){   
    $("#slider").easySlider({
        auto: true,
        continuous: true 
    });
});

</script> 

<script>
$(document).ready(function(){   
    $(".fancybox").fancybox({
        'transitionIn'  :   'elastic',
        'transitionOut' :   'elastic',
        'speedIn'       :   600, 
        'speedOut'      :   200, 
        'overlayShow'   :   false
    });

});
</script>

    </head>
    <style>
        a{
            color:#fff;
            text-decoration:none;
        }
        a:hover{
            text-decoration:underline;
        }
        span.reference{
            position:fixed;
            left:10px;
            bottom:10px;
            font-size:13px;
            font-weight:bold;
        }
        span.reference a{
            color:#fff;
            text-shadow:1px 1px 1px #000;
            padding-right:20px;
        }
        span.reference a:hover{
            color:#ddd;
            text-decoration:none;
        }

    </style>
    <body>

        <div class="section black" id="section1">
            <P>LETS CHECK IF THIS WORKS</P>
            <div class="photo-gallery" id="">
                        <a class="fancybox" rel="group" href="images/sketches/01.jpg"><img src="thumbnails/Sketches/01.jpg" alt="" /></a>
                        <a class="fancybox" rel="group" href="images/sketches/02.jpg"><img src="thumbnails/Sketches/02.jpg" alt="" /></a>
            </div>          
            <ul class="nav">
                <li>1</li>
                <li><a href="#section2">2</a></li>
                <li><a href="#section3">3</a></li>
            </ul>
        </div>
        <div class="section white" id="section2">
            <h2>Section 2</h2>
            <p>
                ‘A fathomless and boundless deep,
                There we wander, there we weep;
                On the hungry craving wind
                My Spectre follows thee behind.

            </p>
            <ul class="nav">
                <li><a href="#section1">1</a></li>
                <li>2</li>
                <li><a href="#section3">3</a></li>
            </ul>
        </div>
        <div class="section black" id="section3">
            <h2>Section 3</h2>
            <p>
                ‘He scents thy footsteps in the snow
                Wheresoever thou dost go,
                Thro’ the wintry hail and rain.
                When wilt thou return again?

            </p>
            <ul class="nav">
                <li><a href="#section1">1</a></li>
                <li><a href="#section2">2</a></li>
                <li>3</li>
            </ul>
        </div>

        <!-- The JavaScript -->
        <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1/jquery.min.js"></script>      
        <script type="text/javascript" src="jquery.easing.1.3.js"></script>
        <script type="text/javascript">
            $(function() {
                $('ul.nav a').bind('click',function(event){
                    var $anchor = $(this);

                    $('html, body').stop().animate({
                        scrollTop: $($anchor.attr('href')).offset().top
                    }, 1500,'easeInOutExpo');
                    /*
                    if you don't want to use the easing effects:
                    $('html, body').stop().animate({
                        scrollTop: $($anchor.attr('href')).offset().top
                    }, 1000);
                    */
                    event.preventDefault();
                });
            });
        </script>
    </body>
</html> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-12T19:33:47.047

您的 JS 文件未加载：

![在此处输入图像描述](https://i.stack.imgur.com/fZefM.png)

确保它们在您的网络服务器上相对于您的 HTML 文件的正确位置，或使用绝对 URL。我有一种感觉，你可能不打算把`../`你的资源 URL 放在那里。

# c# - 更改 datagridview 日期列上的日期时间显示格式

> ID：15964864
> 
> 赞同：2
> 
> 时间：2013-04-12T06:48:08.453
> 
> 标签：c#, sql, database

当在 datagridview 的日期列上选择并使用 ( ) 写入日期时，我想将`MM/dd/yyyy`数据库表中日期时间的默认格式 ( )更改为 ( )。`dd/MM/yyyy``dd/MM/yyyy`

下面是我转换字符串输入日期的代码，例如：`24/4/201`3 到日期时间，然后转换为 `4/24/2013`使用查询并从数据库中选择记录。

```
 string date = this.ToolStripTextBox2.Text;
   DateTime dtDate = DateTime.ParseExact(date, "d/M/yyyy", null); 
```

查询：FillByDate

```
 SELECT Record_ID, Grade, Type, 
   CONVERT(VARCHAR(10), CAST(Date AS DATETIME), 103) AS Date 
   FROM RecordsTable
   WHERE Date >= CONVERT(datetime, @fromDate, 105) 
   AND Date <= CONVERT(datetime, @toDate, 105)
   ORDER BY Date ASC 
```

但它给出了这个错误；

> “字符串未被识别为有效的日期时间。无法在日期列中存储 <24/04/2013>。预期类型为日期时间。”

我知道 CONVERT 部分是错误的，就好像我删除了转换部分一样，日期列可以写入但`4/24/2013`格式。我不知道如何纠正它。任何人都可以帮忙吗？谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-13T01:58:52.070

我在这个线程上找到了解决方案。 [如何格式化 DataGridView 中的 DateTime 列？](https://stackoverflow.com/questions/4033113/how-to-format-datetime-columns-in-datagridview?rq=1)

只需在设计器中设置默认单元格样式。很抱歉，我在进一步搜索之前问了这种问题。谢谢

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-12T07:01:42.467

```
string date = this.ToolStripTextBox2.Text;
   DateTime dtDate = DateTime.ParseExact(date, "dd/MM/yyyy", null); 
```

试试这个代码

# c# - InvokeMember("Click") 进入 div

> ID：15964867
> 
> 赞同：0
> 
> 时间：2013-04-12T06:48:19.350
> 
> 标签：c#, webbrowser-control, invokemember

在 webbrowser 中控制一个预订网站。当我搜索 A 到 B 时，它会给出带有价格的项目列表。（价格是一个单选按钮）当我单击单选按钮时。在某些处理之后创建的新 div 一个名为“submitButton0”的提交按钮出现在网页上。在同一个网页上。网站位置没有改变。我想调用 submitButton0 的点击。

问题是这样的。webBrowser1_DocumentCompleted 事件已完成。但那个时候 submitButton0 不在页面中。务实的 readio 按钮已被点击。经过一些处理之后，submitButton0 出现在页面上。随着 submitButton0 的到来，我想快速调用它的点击。

它的解决方案是什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-12T10:12:02.100

> 但是那个时候 submitButton0 不在页面中

这可能意味着按钮是由 Javascript 添加的。没有办法与脚本执行同步，你需要轮询。在 DocumentCompleted 事件处理程序和 Tick 事件中启用一个计时器，检查 DOM 是否已更改到足以允许可靠地调用 InvokeClick()。

请检查网站所有者是否提供了 Web 服务。稍后添加按钮的事实是该站点的 TOU 不允许自动化的相当强烈的暗示。服务使您的应用程序对网页更改更具弹性。DOM 轮询技巧几乎可以保证迟早会中断。

# android - Android Listview不能平滑滚动多个图像

> ID：15964874
> 
> 赞同：0
> 
> 时间：2013-04-12T06:48:36.457
> 
> 标签：android, listview

我正在开发一个 android 应用程序，在该应用程序中实现了具有一些图像和文本的**CustomListView 。**我在 web 服务调用后在 listview 中提供数据，它需要一些时间来呈现列表，当我滚动列表时它滚动不顺畅。

这是我的列表适配器的代码：

```
import java.io.IOException;
import java.net.MalformedURLException;
import java.net.URL;
import java.util.ArrayList;
import java.util.Arrays;
import java.util.List;

import android.app.Activity;
import android.content.Context;
import android.content.Intent;
import android.graphics.Bitmap;
import android.graphics.BitmapFactory;
import android.graphics.drawable.Drawable;
import android.net.Uri;
import android.os.Handler;
import android.os.Message;
import android.text.Html;
import android.view.LayoutInflater;
import android.view.View;
import android.view.View.OnClickListener;
import android.view.ViewGroup;
import android.widget.BaseAdapter;
import android.widget.Button;
import android.widget.Filter;
import android.widget.Filterable;
import android.widget.ImageView;
import android.widget.TextView;

import com.tv.makamaka.Constant;
import com.tv.makamaka.R;
import com.tv.makamaka.comment.SmileyCommentDialogActivity;

public class MakaMakaProfileListAdapter extends BaseAdapter implements Filterable {
    private LayoutInflater mInflater;
    private ArrayList<Object> itemList;
    private Activity _activity;

    String caption="";
    String photoPath="";
    String comments="";
    String commentImage="";
    String commentUserId="";
    String likersImage="";
    String likersType="";
    String likersUserId="";
    String mediaid="";
    String mediaImageUrl="";
    String mediaString="";
    String mediaStringImage="";
    String mediaStringUserId="";
    String mediaType="";
    String rating="";
    String requestCount="";
    String userid="";
    String userProileImage="";
    String withfriends="";

    int index,index1,index2;

    public MakaMakaProfileListAdapter(Activity activity, ArrayList<Object> itemList) {
        this._activity = activity;
        this.itemList = itemList;
        mInflater = (LayoutInflater) activity
                .getSystemService(Context.LAYOUT_INFLATER_SERVICE);
    }

    public int getCount() {

        return itemList.size();
    }

    public Object getItem(int position) {
        return itemList.get(position);
    }

    public Filter getFilter() {
        return null;
    }

    public long getItemId(int position) {
        return 0;
    }

    static class ViewHolder {

        TextView _commentTxt;
        ImageView _userImage;
        ImageView _smallUserImage;
        ImageView _smallPostedUserImage;
        ImageView _transparentImage;
    }

    public View getView(final int position, View convertView, ViewGroup parent) {

        final ViewHolder holder;
        if (convertView == null) {
            convertView = mInflater.inflate(R.layout.makamaka_profile_listrow, null);
            holder = new ViewHolder();
            holder._userImage=(ImageView)convertView.findViewById(R.id.posted_userimage);
            holder._smallUserImage=(ImageView)convertView.findViewById(R.id.small_userimage);
            holder._smallPostedUserImage=(ImageView)convertView.findViewById(R.id.small_posted_userimage);
            holder._transparentImage=(ImageView)convertView.findViewById(R.id.transparent_smiley_image);
            holder._commentTxt = (TextView) convertView.findViewById(R.id.comment_txt);
            convertView.setTag(holder);
        } else {
            holder = (ViewHolder) convertView.getTag();
        }

        holder._commentTxt.setOnClickListener(new OnClickListener() {

            public void onClick(View v) {

            }
        });

        holder._transparentImage.setOnClickListener(new OnClickListener() {
            public void onClick(View v) {
                Intent intent=new Intent(_activity,SmileyCommentDialogActivity.class);
                _activity.startActivity(intent);
            }
        });
        //////////////////SET VALUES ON LIST VIEW///////////////////////////
        MakaMakaProfileBean makaMakaProfileBean=(MakaMakaProfileBean)itemList.get(position);
        ////////////////PARSE CAPTION///////////
        caption=makaMakaProfileBean.getCaption();
        ArrayList<String> captionList = new ArrayList<String>(Arrays.asList(caption.split(" , ")));
        /*int index=caption.indexOf(",");
        String caption1=caption.substring(0,index);
        int index1=caption.indexOf(",", index+1);
        String userName=caption.substring(index,index1+1);
        String timeAgo=caption.substring(index1+1);*/
        ////////////////////////////////////////

        ////////////////PARSE COMMENTS////////////
        comments=makaMakaProfileBean.getComments();
        ArrayList<String> commentList = new ArrayList<String>(Arrays.asList(comments.split(" , ")));
        //////////////////////////////////////////

        ////////////////PARSE COMMENT IMAGES//////
        commentImage=makaMakaProfileBean.getCommentImage();
        ArrayList<String> commentImageList = new ArrayList<String>(Arrays.asList(commentImage.split(" , ")));
        //////////////////////////////////////////

        ////////////////PARSE COMMENT USER ID//////
        commentUserId=makaMakaProfileBean.getCommentId();
        ArrayList<String> commentUserIdList = new ArrayList<String>(Arrays.asList(commentUserId.split(" , ")));
        //////////////////////////////////////////

        ////////////////PARSE LIKER IMAGES//////
        likersImage=makaMakaProfileBean.getlikersImage();
        ArrayList<String> likersImageList = new ArrayList<String>(Arrays.asList(likersImage.split(" , ")));
        //////////////////////////////////////////

        ////////////////PARSE LIKER TYPE//////
        likersType=makaMakaProfileBean.getComments();
        ArrayList<String> likerTypeList = new ArrayList<String>(Arrays.asList(likersType.split(" , ")));
        //////////////////////////////////////////

        ////////////////PARSE LIKER USER ID//////
        likersUserId=makaMakaProfileBean.getComments();
        ArrayList<String> likerUserIdList = new ArrayList<String>(Arrays.asList(likersUserId.split(" , ")));
        //////////////////////////////////////////

        ////////////////PARSE OTHER PARAS//////
        mediaid=makaMakaProfileBean.getmediaId();
        mediaImageUrl=makaMakaProfileBean.getMediaImageUrl();
        mediaString=makaMakaProfileBean.getMediaString();
        mediaStringImage=makaMakaProfileBean.getMediaStringImage();
        //mediaStringUserId=makaMakaProfileBean.
        mediaType=makaMakaProfileBean.getMediaType();
        rating=makaMakaProfileBean.getRating();
        requestCount=makaMakaProfileBean.getRequestCount();
        userid=makaMakaProfileBean.getUserId();
        //userProileImage=makaMakaProfileBean.getUserProfileImage();
        withfriends=makaMakaProfileBean.getWithFriends();
        //////////////////////////////////////////

        photoPath=makaMakaProfileBean.getUserProfileImage();
        if(photoPath!=null){

            URL url;
            try {
                url = new URL(photoPath);
                Bitmap bmp = BitmapFactory.decodeStream(url.openConnection().getInputStream());
                holder._userImage.setImageBitmap(bmp);
            } catch (MalformedURLException e) {
                e.printStackTrace();
            }
            catch (IOException e) {
                e.printStackTrace();
            }
        }       
        int i=0;
        while(i<captionList.size()){
            if(i==0){
                holder._commentTxt.setText((String)captionList.get(i));
            }else if(i==1){
                holder._commentTxt.setText(Html.fromHtml((String)captionList.get(i)));
            }else if(i==2){
                holder._commentTxt.setText(Html.fromHtml((String)captionList.get(i)));
            }
            i++;
        }
        return convertView;
        /////////////////////////////////////////////////////////////////////
    }

    private Handler _handler = new Handler() {
        public void dispatchMessage(Message msg) {
            switch (msg.arg1) {

            case 123:
                break;
            default:
                break;
            }
        }
    };

    public void serverResponse(String response, int processid) {
        Message msg = new Message();
        msg.arg1 = processid;
        msg.obj = response;
        _handler.dispatchMessage(msg);
    }

    //SEND EMAIL TO INVITE FRIEND
    public void sendEmail(String emailId){
        Intent intent = new Intent(Intent.ACTION_SEND);
        //intent.setType("text/plain");
        intent.setType("message/rfc822");
        intent.putExtra(Intent.EXTRA_EMAIL, emailId);
        intent.putExtra(Intent.EXTRA_SUBJECT,Constant.EMAIL_SUBJECT);
        intent.putExtra(Intent.EXTRA_TEXT, Constant.EMAIL_CONTENT);
        _activity.startActivity(Intent.createChooser(intent, "Send Email"));
    }

} 
```

输出：

![在此处输入图像描述](https://i.stack.imgur.com/JYOwv.png)

有什么方法可以使列表平滑滚动。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-12T06:54:59.090

您正在解码 getView 中的图像。这是一个昂贵的电话，你会在滚动时做很多事情。使用 LRUCache 缓存图像，因此您可以重用先前解码的结果（如果存在）。如果它不在缓存中，则仅在 getView 中对其进行解码。

# windows-phone-8 - WP8 套接字在后台

> ID：15964878
> 
> 赞同：1
> 
> 时间：2013-04-12T06:48:44.130
> 
> 标签：windows-phone-8, windows-phone, windows-phone-voip

我正在开发 VOIP 应用程序。我正在使用 VOIP API。我面临的问题是每当应用程序进入后台时，我的所有套接字（如 SIPSocket 和 RTPSocket）都会关闭。当我的应用程序进入后台时，我似乎可以保持这些套接字打开。让我知道是否有人已经解决了这个问题。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-13T18:05:37.353

我猜您正在使用 InProc WinRT 组件中的 VoIP 应用程序？您需要使用它 OutProc，否则它不会在后台运行。

查看[适用于 Windows Phone 8 的 VoIP 应用程序](http://msdn.microsoft.com/en-us/library/windowsphone/develop/jj206983%28v=vs.105%29.aspx)和我们的[ChatterBox VoIP 示例](http://code.msdn.microsoft.com/wpapps/ChatterBox-VoIP-sample-app-b1e63b8b)

ChatterBox 示例还具有将 OutProc 接口注册到托管应用程序的必要工具。

# python - 如何将二进制文件打印为字节？

> ID：15964879
> 
> 赞同：6
> 
> 时间：2013-04-12T06:48:45.333
> 
> 标签：python, python-3.x, byte

我做了

```
>>> b0 = open('file','rb') 
```

然后

```
>>> b0.read(10) 
```

给

```
b'\xb8\xaaK\x1e^J)\xab_I' 
```

我怎样才能将所有东西都打印为纯十六进制字节？我想

```
b'\xb8\xaa\x4b\x1e\x5e\x4a\x29\xab\x5f\x49' 
```

（PS：可以打印漂亮吗？喜欢

```
B8 AA 4B 1E 5E 4A 29 AB 5F 49 
```

或冒号分隔。）

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-04-12T07:03:16.840

```
>>> s = b'\xb8\xaaK\x1e^J)\xab_I'
>>> ' '.join('{:02X}'.format(c) for c in s)
'B8 AA 4B 1E 5E 4A 29 AB 5F 49' 
```

或者，稍微更简洁一点：

```
>>> ' '.join(map('{:02X}'.format, s))
'B8 AA 4B 1E 5E 4A 29 AB 5F 49' 
```

# google-visualization - 你好！我在打印多个图表时使用 Phantom JS 打印我的 Google 图表我无法获得我的 X 轴坐标？

> ID：15964881
> 
> 赞同：1
> 
> 时间：2013-04-12T06:48:49.883
> 
> 标签：google-visualization, phantomjs

我为报告创建了 4 个 Google 图表，它工作正常并显示 X、Y 坐标，但是在使用 phanthom JS 打印它时，我只为第一个图表而不是其余图表获取 X 轴坐标。任何想法|| 建议？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-12T11:05:50.833

尝试像[raterize.js](https://github.com/ariya/phantomjs/blob/master/examples/rasterize.js)示例中那样延迟渲染。

```
...
page.open(address, function (status) {
    if (status !== 'success') {
        console.log('Unable to load the address!');
        phantom.exit();
    } else {
        window.setTimeout(function () {
            page.render(output);
            phantom.exit();
        }, 2000);
    }
}); 
```

# javascript - phonegap->在不使用 GPS 的情况下查找手机的位置（可以使用互联网）

> ID：15964892
> 
> 赞同：0
> 
> 时间：2013-04-12T06:49:26.740
> 
> 标签：javascript, android, jquery, html, cordova

我正在使用 phonegap 开发一个应用程序。目前我正在使用 GPS phonegap api 来查找用户位置。但是一直使用 GPS 会降低电池性能（我的应用程序在后台运行以获取用户的位置），所以我想使用互联网获取用户位置。有没有办法做到这一点。

非常感谢您。游戏机

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-12T07:14:26.347

那么PhoneGap 的API 使用的代码是W3C Geolocation API。它将使用可用的最佳选项来查找用户的位置。

因此，如果 GPS 处于打开状态，它将使用它。如果不是，它将使用 3G/H/任何连接，如果它连接到 WiFi，它将尝试使用它。

所以基本上它会自动使用它可以做的，所以你不需要做任何不同的事情。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-12T07:14:41.200

好吧，既然智能手机或平板电脑能够上网，就必须有一个 IP 地址。您可以跟踪 IP 地址的来源位置。所以你也许可以用它做点什么。但我认为这样做很困难，所以我应该说使用 GPS 是唯一可能的方法。除此之外，这是最简单的方法。

# window-resize - 使用卡布奇诺调整页面大小

> ID：15964894
> 
> 赞同：0
> 
> 时间：2013-04-12T06:49:37.733
> 
> 标签：window-resize, autoscroll, cappuccino, objective-j

如何在窗口中拖动对象时增加窗口大小，使用卡布奇诺。这是我的示例代码：

```
if(dragLocation.x < 1000.0 && dragLocation.y < 600.0)  {

    //drag is within the drawable area
    [self setFrameOrigin:CGPointMake(dragLocation.x, dragLocation.y)];    
    dragLocation = location;        
}

else   {
      //object is dragged out of window
      // the window has to be resized now
      //how????
} 
```

问题就像，当我将一个对象拖出窗口时，它正在消失。我希望通过放大窗口来显示它。我怎么能在卡布奇诺中做到这一点。任何的意见都将会有帮助。提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-12T12:17:23.420

我们是在谈论平台窗口（整个浏览器窗口）还是更大浏览器窗口内的单个应用程序窗口？您可以使用 更改窗口大小`[window setFrameSize:CGSizeMake(width, height)]`，但如果它是平台窗口，则浏览器可能不允许更改窗口大小。

# c# - 使用“var”进行字符串初始化

> ID：15964896
> 
> 赞同：0
> 
> 时间：2013-04-12T06:49:47.043
> 
> 标签：c#, .net

如果我有一个字符串并将其初始化为 string.Empty，那么

```
var mystring=string.Empty; 
```

或者

```
string mystring = string.Empty; 
```

以上两者中哪一个应该是更好的性能或任何其他考虑因素？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-12T06:53:30.837

`var`是*隐式类型*。它为 C# 编程语言中的任何类型起别名。别名类型由 C# 编译器确定。

`var`关键字具有同等效果。**它不会影响运行时行为。**

您的两个代码都生成相同的 IL 代码；

```
IL_0000:  nop
IL_0001:  ldsfld     string [mscorlib]System.String::Empty
IL_0006:  stloc.0
IL_0007:  ret 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-12T06:51:54.733

它们都编译为相同的 IL 代码，因此在代码执行期间没有性能差异。

但是，第二个更具可读性，我会那样做。

# c# - 检查文本框中输入的文本是否有数字、逗号和连字符的正则表达式

> ID：15964899
> 
> 赞同：1
> 
> 时间：2013-04-12T06:50:01.547
> 
> 标签：c#, regex

我创建了一个 Windows 窗体，它有 2 列文本框 - 行范围和总行数。我想检查“行范围”文本框，以确保输入的数据仅包含格式正确的数字、逗号和连字符 - 也就是说，它可能类似于：10-20,30-40,50 ,60,70。但除此之外的任何事情都不应该被允许。

基本上我想用“行数”文本框中的可用数据自动填充“总行数”文本框。所以在上面的例子中，计数将是 - (20 - 10) + (40 - 30) 加 1（对于第 50 行）加 1（对于第 60 行）加 1（对于第 70 行）= 23。

我尝试了类似的东西：

`string reg = @"^([0-9]+([,][0-9]+))* |([0-9]+([.\u2013-][0-9]+))$";`

但这也验证了像 10-20-30 这样的情况也是正确的。根据我的预期，这是不正确的。

你能帮我吗？提前谢谢了。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-12T06:54:18.530

每个组件的可能格式为：

```
\d+-\d+
\d+ 
```

我们可以将它们组合起来，因为它们具有相同的结构：

```
\d+(-\d+)? 
```

由分隔符分隔的几个事物 X 的常用正则表达式模式是

```
X(,X)* 
```

因此，我们可以构建最终的正则表达式，其中至少包含其中一个组件，用逗号分隔：

```
^\d+(-\d+)?(,\d+(-\d+)?)*$ 
```

快速 PowerShell 测试：

```
PS> '50,60','10-20','1,2-5,7','10-20,30-40,50,60,70','10-20-30' -match '^\d+(-\d+)?(,\d+(-\d+)?)*$'
50,60
10-20
1,2-5,7
10-20,30-40,50,60,70 
```

# python - 如何在 Python 中访问字典的内部字典项

> ID：15964900
> 
> 赞同：1
> 
> 时间：2013-04-12T06:50:11.037
> 
> 标签：python, python-2.7

我有以下数据结构：

```
mydic = { 
           'q4a1_0' : {'title':'4 Question 1 Answer (01)','choices': ((0,'Very Bad'),(1,'Medium'),(2,'Good'),(3,'Very Good'))},
           'q3a1_0' : {'title':'3 Question 1 Answer (01)','choices': ((0,'Very Bad'),(1,'Good'),(2,'Very Good'))}
         } 
```

我的问题是如何直接访问任何字典键（比如“q4a1_0”）的“选择”或“标题”。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-12T06:51:55.913

使用索引访问。

```
>>> mydic['q4a1_0']['choices']
((0, 'Very Bad'), (1, 'Medium'), (2, 'Good'), (3, 'Very Good')) 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-12T06:51:47.193

你可以这样做：

```
mydic['q4a1_0']['choices'] 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-12T06:53:17.383

`mydic`是一本字典，里面有一本字典。所以`mydic['q4a1_0']`让你进入内部字典，并`mydic['q4a1_0']['title']`让你`title`从`q4a1_0`.

# json - 无效的 JSON 错误

> ID：15964908
> 
> 赞同：0
> 
> 时间：2013-04-12T06:50:44.507
> 
> 标签：json

我正在编写一个 json 文件，但是当我尝试在线验证它时出现错误。代码有什么问题？

```
"document":
{

    "2009":
    [
        {
            "id": 1,
            "name": "2009 Annual Report",
            "version": 2,
            "timestamp": 1222222,
            "sessions": [
            ]
        },
        {
            "id": 10,
            "name": "2009 Annual Report",
            "version": 2,
            "timestamp": 1222222,
            "sessions": [
            ]
        }
     ],

    "2010":
    [
        {
            "id": 2,
            "name": "2010 Annual Report",
            "version": 2,
            "timestamp": 1222222,
            "sessions": [
            ]
        }
     ],
    "2011":
    [
        {
            "id": 1,
            "name": "2011 Annual Report",
            "version": 2,
            "timestamp": 1222222,
            "sessions": [
            ]
        }
     ]
} 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-12T06:56:00.603

即使是顶级对象也必须以大括号开头和结尾：

```
{
    "document": {
        "2009": [
            ...
        ]
    }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-12T07:00:04.717

你只是忘了把花括号放在数组的开头。现在你的代码看起来像。

```
**{**
  "document":
 [

 { "2009":
 [
    {
        "id": 1,
        "name": "2009 Annual Report",
        "version": 2,
        "timestamp": 1222222,
        "sessions": [
        ]
    },
    {
        "id": 10,
        "name": "2009 Annual Report",
        "version": 2,
        "timestamp": 1222222,
        "sessions": [
        ]
    }
 ],

"2010":
[
    {
        "id": 2,
        "name": "2010 Annual Report",
        "version": 2,
        "timestamp": 1222222,
        "sessions": [
        ]
    }
 ],
"2011":
[
    {
        "id": 1,
        "name": "2011 Annual Report",
        "version": 2,
        "timestamp": 1222222,
        "sessions": [
        ]
    }
 ]
 }
 ]
 **}** 
```

核实。你明白我的意思了吗？

# python - 错误：尝试安装 pip OSX Lion

> ID：15964909
> 
> 赞同：0
> 
> 时间：2013-04-12T06:50:48.300
> 
> 标签：python, macos, osx-lion

我已经安装了最新版本的 python 并且从“错误”中说我已经`2.7 python`从系统中删除了。现在，当我尝试安装`pip`或`easy_install`收到以下错误时：

```
$ pip install Selenium
python: posix_spawn: /System/Library/Frameworks/Python.framework/Versions/2.7/Resources/Python.app/Contents/MacOS/Python: No such file or directory. 
```

稍后编辑：似乎 pip 不支持 python 3 及更高版本。在我采取了这里描述的步骤[http://wolfpaulus.com/jounal/mac/installing_python_osx](http://wolfpaulus.com/jounal/mac/installing_python_osx)之后，我现在可以使用 easy_install 了。

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-12T11:48:02.497

您显然已从计算机中删除了 Python。

重新安装 OSX 以使用其他方式恢复它，如评论中提到的。

将来，不要进行系统范围的 Python 包安装：

[http://opensourcehacker.com/2012/09/16/recommended-way-for-sudo-free-installation-of-python-software-with-virtualenv/](http://opensourcehacker.com/2012/09/16/recommended-way-for-sudo-free-installation-of-python-software-with-virtualenv/)

# android - admob 我是否正确实现了我的代码？

> ID：15964910
> 
> 赞同：0
> 
> 时间：2013-04-12T06:50:51.213
> 
> 标签：android, admob

目前我用我的应用程序赚钱。不是我制作了另一个并添加了一个 AdView。问题是，admob UI 中的点仍然是红色的。我的代码是

```
 <com.google.ads.AdView
               android:id="@+id/ad"
               android:layout_width="wrap_content"
               android:layout_height="wrap_content"
               android:layout_alignParentBottom="true"
               android:layout_alignParentLeft="true"
               android:layout_marginBottom="11dp"
               android:layout_marginLeft="63dp"
               ads:adSize="BANNER"
               ads:adUnitId="_______"
               ads:loadAdOnCreate="true"
               ads:testDevices="TEST_EMULATOR" >
           </com.google.ads.AdView> 
```

**我的手机上有广告**，但 admob 不承认

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-12T06:57:20.677

您没有 ads:adUnitId 字段。所以它不知道你是谁。

# iphone - 在 iPhone 上加载图像，但在 iPad 上不加载

> ID：15964912
> 
> 赞同：0
> 
> 时间：2013-04-12T06:51:07.570
> 
> 标签：iphone, image, ipad, load, imageview

我正在尝试将图像加载到为 iphone 制作的应用程序中的图像视图，但也应该支持在 ipad 上运行。因此，当我在 iphone 模拟器中加载图像时，它可以正常工作，但是当我切换到 ipad 模拟器时，图像不会加载到 imageview 中。有什么建议么？？

```
- (IBAction)chooseImage:(id)sender
{
if ([[UIDevice currentDevice] userInterfaceIdiom] == UIUserInterfaceIdiomPhone) {

//iPhone
self.imagePicker = [[UIImagePickerController alloc] init];
self.imagePicker.delegate = self;
[self.imagePicker setSourceType:UIImagePickerControllerSourceTypePhotoLibrary];
[self presentViewController:self.imagePicker animated:YES completion:nil];

}
else {
//iPad

UIImagePickerController *imagePickerController = [[UIImagePickerController alloc] init];
imagePickerController.delegate = self;
UIPopoverController *popoverController=[[UIPopoverController alloc] initWithContentViewController:imagePickerController];
popoverController.delegate=self;
[popoverController presentPopoverFromRect:((UIButton *)sender).bounds inView:sender permittedArrowDirections:UIPopoverArrowDirectionAny animated:YES];}

}
- (void) imagePickerController:(UIImagePickerController *)picker didFinishPickingMediaWithInfo:(NSDictionary *)info
{
self.image = info[UIImagePickerControllerOriginalImage];
[self.imageView setImage:self.image];
[self dismissViewControllerAnimated:YES completion:nil];
}

- (void) imagePickerControllerDidCancel:(UIImagePickerController *)picker
{
[self dismissViewControllerAnimated:YES completion:nil];

} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-12T06:57:46.977

你没有在你的 Ipad 编码中设置 sourceType 在你的 iPad 编码中添加这一行

```
[imagePickerController setSourceType:UIImagePickerControllerSourceTypePhotoLibrary]; 
```

并且还在 delgate 方法中将 Popover 视为评论中提到的

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-12T06:54:51.693

对于 iPad，

```
[popoverController presentPopoverFromRect:[sender frame] inView:self.view permittedArrowDirections:UIPopoverArrowDirectionAny animated:YES]; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-12T07:23:21.643

```
- (IBAction)chooseImage:(id)sender
{
if ([[UIDevice currentDevice] userInterfaceIdiom] == UIUserInterfaceIdiomPhone) {

//iPhone
self.imagePicker = [[UIImagePickerController alloc] init];
self.imagePicker.delegate = self;
[self.imagePicker setSourceType:UIImagePickerControllerSourceTypePhotoLibrary];
[self presentViewController:self.imagePicker animated:YES completion:nil];

}
else {
//iPad

UIImagePickerController *imagePickerController = [[UIImagePickerController alloc] init];
imagePickerController.delegate = self;
UIPopoverController *popoverController=[[UIPopoverController alloc] initWithContentViewController:imagePickerController];
popoverController.delegate=self;
[imagePickerController setSourceType:UIImagePickerControllerSourceTypePhotoLibrary];
[popoverController presentPopoverFromRect:((UIButton *)sender).bounds inView:sender permittedArrowDirections:UIPopoverArrowDirectionAny animated:YES];}

}
- (void) imagePickerController:(UIImagePickerController *)picker didFinishPickingMediaWithInfo:(NSDictionary *)info
{

if
    ([[UIDevice currentDevice] userInterfaceIdiom] == UIUserInterfaceIdiomPhone) {
self.image = info[UIImagePickerControllerOriginalImage];
[self.imageView setImage:self.image];
[self dismissViewControllerAnimated:YES completion:nil];

}
else {
    [self dismissViewControllerAnimated:YES completion:NULL];

}
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-12T08:41:14.267

使用 UIPopoverController 在 iPad 中呈现 UIImagePicker。

# sql - SQL Server代理作业在步骤之间传递参数？

> ID：15964914
> 
> 赞同：1
> 
> 时间：2013-04-12T06:51:13.440
> 
> 标签：sql, database-backups, sql-server-agent

我正在创建一些作业来备份我的数据库，然后压缩它们。我想一步备份数据库并在下一步压缩文件，所以我想将文件的名称从第一步传递到第二步。有谁知道我应该如何在步骤之间传递变量？

我知道我可以一步完成，或者我没有时间在文件名中完成这项工作，但我想在备份文件名中保留日期和时间，我想保留步骤分开，因此更容易了解备份失败时失败的原因。

如果将值保存到临时表中是唯一的方法，我可以这样做，但我认为应该有比这更好的方法。

我在 MS SQL 2005 和 2008 上运行它

```
-- ################################################################################
-- ################################################################################
-- ##                                                                            ##
-- ##                 Create a Backup job for each database.                     ##
-- ##                                                                            ##
-- ################################################################################
-- ################################################################################

SET NOCOUNT ON

-- Path that all Backups will get saved to.
DECLARE @BackupPathName nvarchar(max)
--SET @BackupPathName = N'\\SERVER\FILES\Backups\' 
SET @BackupPathName = N'D:\FILES\Backups\' 

DECLARE @ServerName nvarchar(30)
--SET @ServerName = 'SERVER'
SET @ServerName = N'SERVER'

DECLARE @7z_path nvarchar(max)
SET @7z_path = N'D:\FILES'

DECLARE @7zAlgorithm nvarchar(max)
  SET @7zAlgorithm = N'-t7z'   -- better compression
--SET @7zAlgorithm = N'tbzip2' -- faster compression

DECLARE @CompressionLevel nvarchar(max)
--SET @CompressionLevel = N'-mx0' -- Dont compress
--SET @CompressionLevel = N'-mx1' -- Low
--SET @CompressionLevel = N'-mx3' -- Fast
  SET @CompressionLevel = N'-mx5' -- Normal
--SET @CompressionLevel = N'-mx7' -- Maximum
--SET @CompressionLevel = N'-mx9' -- Ultra

-- Get a list of the databases, except for the ones listed in the where section of the query
DECLARE @AllDatabases TABLE(
    ROW_NUM  int,
    DbName   sysname)

INSERT INTO @AllDatabases (ROW_NUM, DbName)
SELECT ROW_NUMBER() OVER(ORDER BY [name]) AS ROW_NUM, [name] AS DbName
FROM sys.databases
WHERE [name] NOT IN (N'master', N'model', N'msdb', N'tempdb') 

-- While loop to go through each database
DECLARE @MaxRowNum int
SET @MaxRownum = (SELECT MAX(ROW_NUM) FROM @AllDatabases)

DECLARE @Iter int
SET @Iter = (SELECT MIN(ROW_NUM) FROM @AllDatabases)

WHILE @Iter <= @MaxRownum
BEGIN

    -- Name of the Database
    DECLARE @DbName sysname
    SET @DbName = NULL
    SET @DbName = (SELECT TOP(1) DbName FROM @AllDatabases WHERE ROW_NUM = @Iter)

    -- Name of the job to be created
    DECLARE @JobName nvarchar(128)
    SET @JobName = NULL
    SET @JobName = 'Backup ' + @DbName + ' Database job'

    -- Script to create the Job
    DECLARE @CreateJob nvarchar(max)
    SET @CreateJob = NULL
    SET @CreateJob = 
    'USE msdb; 
     DECLARE @Job_Number uniqueidentifier
     EXEC sp_add_job @job_name = N''' + @JobName + ''', @job_id = @Job_Number OUTPUT;
     SELECT @Job_Number
    '

    -- Table to return the Job ID to
    DECLARE @Job_ID_Table TABLE(
        Job_ID  uniqueidentifier)

    -- Variable to hold the Job ID
    DECLARE @Job_ID uniqueidentifier
    SET @Job_ID = NULL

    -- Create the Job
    INSERT INTO @Job_ID_Table
    EXEC sp_executesql @statement = @CreateJob

    -- Get the ID Number for the Job
    SET @Job_ID = (SELECT TOP(1) * FROM @Job_ID_Table)

    -- ########################################
    -- #     Step 1: Backup the database.     #
    -- ########################################

    -- Step Name 
    DECLARE @BackupDatabaseStepName sysname
    SET @BackupDatabaseStepName = NULL
    SET @BackupDatabaseStepName = 'Backup ' + @DbName

    -- Create Step
    DECLARE @BackupDatabaseStep nvarchar(max)
    SET @BackupDatabaseStep = NULL
    SET @BackupDatabaseStep = 
    'USE msdb; 
     EXEC sp_add_jobstep @job_id = N''' + CONVERT(nvarchar(max), @Job_ID) +''', @step_name = N''' + @BackupDatabaseStepName + ''', @subsystem = N''TSQL'', @command = N''
        DECLARE @BackupFilePath nvarchar(max)
        SET @BackupFilePath = ''''' + @BackupPathName + @DbName + ''''' + ''''.'''' + 
            /*Year */   convert(varchar(4), DATEPART(yyyy, GETDATE())) + ''''-'''' + 
            /*Month*/   right(''''00'''' + convert(varchar(2), DATEPART(mm, GETDATE())),2) + ''''-'''' + 
            /*Day  */   right(''''00'''' + convert(varchar(2), DATEPART(dd, GETDATE())),2) + ''''-'''' + 
            /*Hour */   right(''''00'''' + convert(varchar(2), DATEPART(hh, GETDATE())),2) + ''''-'''' + 
            /*Min  */   right(''''00'''' + convert(varchar(2), DATEPART(mi, GETDATE())),2) + ''''.BAK''''
        DECLARE @BackupScript nvarchar(max)
        SET @BackupScript = ''''BACKUP DATABASE ' + @DbName + ' TO DISK = '''''''''''' + @BackupFilePath + ''''''''''''''''
        EXEC (@BackupScript) /* Have to execute this this way because BACKUP DATABASE doesnt allow variables. */
        SELECT @BackupFilePath
     '', @on_success_action = 3, @retry_attempts = 5, @retry_interval = 1
    '

    -- Add step to Job
    EXEC sp_executesql @statement = @BackupDatabaseStep

    -- ########################################
    -- #     Step 2: Zip the database.        #
    -- ########################################

    -- Step Name 
    DECLARE @ZipDatabaseStepName sysname
    SET @ZipDatabaseStepName = NULL
    SET @ZipDatabaseStepName = 'Compress ' + @DbName

    -- Create Step
    DECLARE @ZipDatabaseStep nvarchar(max)
    SET @ZipDatabaseStep = NULL
    SET @ZipDatabaseStep = 
    'USE msdb; 
     EXEC sp_add_jobstep @job_id = N''' + CONVERT(nvarchar(max), @Job_ID) +''', @step_name = N''' + @ZipDatabaseStepName + ''', @subsystem = N''TSQL'', @command = N''
        DECLARE @BackupFilePath nvarchar(max)
        SET @BackupFilePath = ''''' + @BackupPathName + @DbName + ''''' + ''''.'''' + 
            /*Year */   convert(varchar(4), DATEPART(yyyy, GETDATE())) + ''''-'''' + 
            /*Month*/   right(''''00'''' + convert(varchar(2), DATEPART(mm, GETDATE())),2) + ''''-'''' + 
            /*Day  */   right(''''00'''' + convert(varchar(2), DATEPART(dd, GETDATE())),2) + ''''-'''' + 
            /*Hour */   right(''''00'''' + convert(varchar(2), DATEPART(hh, GETDATE())),2) + ''''-'''' + 
            /*Min  */   right(''''00'''' + convert(varchar(2), DATEPART(mi, GETDATE())),2) + ''''.BAK''''
        DECLARE @ZipFilePath nvarchar(max)
        SET @ZipFilePath = @BackupFilePath + ''''.7z''''
        DECLARE @CompressionScript nvarchar(1000) /* xp_cmdshell wont accept a varchar with max length */
        SET @CompressionScript = ''''' + @7z_path + '\7za a ' + @7zAlgorithm + ' ' + @CompressionLevel + ' ' + ''''' + @ZipFilePath + '''' '''' + @BackupFilePath + '''' ''''
        EXEC xp_cmdshell @CompressionScript
     '', @retry_attempts = 5, @retry_interval = 1
    '

    -- Add step to Job
    EXEC sp_executesql @statement = @ZipDatabaseStep

    -- Set Job Server
    DECLARE @SetJobServer nvarchar(max)
    SET @SetJobServer = 
    'USE msdb; 
     EXEC dbo.sp_add_jobserver @job_id = N''' + CONVERT(nvarchar(max), @Job_ID) + ''', @server_name = N''' + @ServerName + ''';
    '

    -- Set the Job server
    EXEC sp_executesql @statement = @SetJobServer

    SET @Iter = @Iter + 1
END

SET NOCOUNT OFF 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-07-16T00:31:29.520

从来没有找到将值传递到服务器代理作业的更好方法，所以只是坚持创建一个临时表并保持作业打开并开始其他作业。

# amazon-s3 - 给定现有挂载点，我如何确定 s3 存储桶名称

> ID：15964916
> 
> 赞同：1
> 
> 时间：2013-04-12T06:51:19.080
> 
> 标签：amazon-s3, amazon-ec2

我继承了一个已配置的 ec2 实例，并试图从中下载数据。

我已经使用相关凭据设置了 S3Browser，但只需要外部存储桶的名称即可连接。

我可以通过 ssh 连接到机器并看到带有数据的存储桶已安装 - 因此 * 更改了一些数字以保护无辜者..

```
df

/dev/sda1            123234234  123234234  123234234  23% /
/dev/sda2            123234234  123412341  123234234  91% /mnt
/dev/sdh             123234234  123234234  123234234  62% /ebs 
```

但我需要的是存储桶的*名称*——比如 /ebs 挂载点——进入 s3browser。

我意识到这有点倒退……但必须有办法。如果没有，我在哪里可以找到有关可用 s3 存储桶的信息？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-12T11:51:12.057

您最终可能会混淆一些 AWS 概念，至少您提供的信息乍一看似乎与您的问题不一致。

虽然确实可以在[Amazon EC2实例上挂载](http://aws.amazon.com/ec2/)[Amazon S3](http://aws.amazon.com/s3/)存储桶（参见例如[s3fs](https://code.google.com/p/s3fs/)，它是*由 Amazon S3 支持的基于 FUSE 的文件系统*），但挂载点的名称表明这是一个[Amazon Elastic块存储 (EBS)](http://aws.amazon.com/ebs/)卷。如果是这种情况，您只能通过卷附加到的 EC2 实例访问数据，而不能通过外部工具访问数据。

 **   另请注意，虽然可以创建 EBS 卷的时间点*快照*（请参阅 EBS 卷[的关键特性](http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/AmazonEBS.html#EBSFeatures)），这些快照确实保留到 S3，但此操作不在您的控制范围内，完全由 EC2 处理，请参阅相应的[常见问题解答 我能否使用常规 Amazon S3 API 访问我的快照？](http://aws.amazon.com/ec2/faqs/#Will_I_be_able_to_access_my_snapshots_using_the_regular_Amazon_S3_APIs)：

    > 不可以，快照只能通过 Amazon EC2 API 获得。

至于您随后的问题*，我在哪里可以找到有关可用 s3 存储桶的信息*：

这可以通过[AWS 管理控制台](http://aws.amazon.com/console/)轻松完成，它允许您*通过简单直观的基于 Web 的用户界面访问和管理 Amazon Web Services*。*

# rrdtool - 从rrd文件中获取某个时间段内的MAX个数

> ID：15964917
> 
> 赞同：1
> 
> 时间：2013-04-12T06:51:20.333
> 
> 标签：rrdtool, rrd

我有一个`rrd`文件`cpu average loads`存储在其中。

我想知道`Maximum Load`一段时间内；让我们假设在一天之内。

我写：

```
rrdtool fetch test.rrd MAX -r 300 -e 1364712300 -s -1h 
```

我得到了这么多 MAX 数字，所以我必须编写更多代码才能获得实际的最大数字。

我的问题是：我可以只写一个简单的命令行来获取这个 MAX 数吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-26T22:54:06.177

如果您只想要一个号码，请尝试

```
rrdtool graph x -s -1h -e 1364712300 \ 
   DEF:v=test.rrd:ds1:MAX VDEF:vm=v,MAXIMUM PRINT:vm:%lf 
```

这将在 STDOUT 上打印一个数字。由于您没有使用任何绘图说明，因此不会创建任何图形。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-22T05:45:07.700

我认为这将为您在指定时间范围内每 5 分钟提供一次最大值。尝试将其设置`-r 3600`为最长 1 小时或最长`-r 86400`24 小时。

您可以通过查看随输出提供给您的时间戳来验证这一点。

# grails - “GORM 支持 Hadoop HBase 插件”不支持 grails 2.1.0

> ID：15964918
> 
> 赞同：0
> 
> 时间：2013-04-12T06:51:20.630
> 
> 标签：grails, grails-orm, hbase, grails-plugin, grails-2.0

当我安装 Grails 插件“GORM 支持 Hadoop HBase”时。我收到这个错误。

> | 错误插件 gorm-hbase-0.2.4 需要 Grails 的 [1.3.2] 版本，您当前的 Grails 安装不符合该版本。请尝试安装不同版本的插件或 Grails。

如何在不退回到旧版本的 grails 或 grails 中提供任何其他替代插件来访问 hbase 的情况下克服这个问题。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-12T23:49:27.237

如果该插件仅与 1.3.2 及以下的 Grails 兼容，我不确定您能做什么...

看起来没有其他可用的 hbase 插件，但你提​​到的那个，所以基本上你有 2 个选择：

*   您可以自己修复代码，但不确定您是否可以或愿意这样做。
*   您可以询问该插件的维护者是否可以轻松地将代码移植到最新的 Grails 版本。

# jquery - 对象不支持 IE 9 中的属性或方法“包装”

> ID：15964919
> 
> 赞同：0
> 
> 时间：2013-04-12T06:51:24.620
> 
> 标签：jquery

我想在 div 中包装一些 html 代码。我的代码是这样的

```
 $x=  $(data).find(list).html().wrap('<div class="new" />');
           alert($x); 
```

但这会引发错误

```
Object doesn't support property or method 'wrap' 
```

在 IE 9 中。任何人都可以帮助我。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-12T06:53:07.430

您需要重新排序链序列：

```
$x=  $(data).find(list).wrap('<div class="new" />').html(); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-12T07:00:37.720

发生这种情况是因为：

```
$(data).find(list).html() 
```

返回匹配元素集中第一个元素的 HTML 内容，或设置每个匹配元素的 HTML 内容。为了包装，你需要一个 jQuery 对象。

所以，你可以这样做：

```
$d= $(data).find(list);
$x= $d.wrap('<div class="new" />').html();
alert($x); 
```

或者

```
$x=  $(data).find(list).wrap('<div class="new" />').html();
alert($x); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-12T06:52:30.607

您是使用 wrap 到 html 代码...您需要先将其转换为 jquery 对象才能使用 jquery 的 wrap 方法。

尝试这个

```
 $x=  $($d).wrap('<div class="new" />'); 
```

# javascript - 错误后继续执行 javascript 没有很多 try catch 语句

> ID：15964922
> 
> 赞同：0
> 
> 时间：2013-04-12T06:51:33.460
> 
> 标签：javascript, exception

比方说，我在一个块中有 50 行 javascript 语句。如果任何一行出现错误，是否有一种方法可以让脚本继续运行，而无需为每一行使用大量的 try catch 块？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-12T08:32:16.203

你的问题有点可疑。如果您允许在一个块中有 50 条语句独立失败，我得出的结论是这些语句之间没有关系。在这个例子中

```
var a = 1;
var b = a + 2; 
```

b 变量依赖于 a 的结果。如果不是这样，我认为，将这些语句放在一个块中的唯一原因是它们必须同时执行。在这种情况下，我还假设这些语句更多是表达式，例如具有副作用的函数，例如 C#-void 函数或操作。你并不真正关心表达式的结果..

您需要将每个表达式放在 try-[catch | finally] 块，我别无选择。为了使其不那么冗长，您可以执行以下操作：

```
var tryF = function() {

    // convert arguments to normal array
    var args = [].slice.call(arguments, 0, arguments.length);

    // if has function to execute
    if(args.length > 0)
    {
      var func = args[0];//alert(func);
        try {func();}
        finally {

            // if has next function to execute
            if(args.length>1) {
             tryF.apply(null, args.slice(1, args.length));
            }
        }
    }
}
// usage
{
    // first function has a error, it won't block the next 
    tryF(function() { aslert(1); }, function() { alert(1); });
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-12T06:58:49.833

尝试这个：

```
 1:  <head>
   2:  <script language="javascript">
   3:  function stoperror()
   4:  {
   5:  return true
   6:  }
   7:  window.onerror=stoperror();
   8:  </script>
   9:  </head> 
```

# ios - 使用MD5算法解密iOS中的加密字符串

> ID：15964926
> 
> 赞同：2
> 
> 时间：2013-04-12T06:51:46.240
> 
> 标签：ios, objective-c, nsstring, md5, encryption

基本上我想**加密和解密**密码`iOS`。

到目前为止，我已经使用以下方法来加密密码

```
- (NSString *) stringFromMD5{

    if(self == nil || [self length] == 0)
        return nil;

    const char *value = [self UTF8String];

    unsigned char outputBuffer[CC_MD5_DIGEST_LENGTH];
    CC_MD5(value, strlen(value), outputBuffer);

    NSMutableString *outputString = [[NSMutableString alloc] initWithCapacity:CC_MD5_DIGEST_LENGTH * 2];
    for(NSInteger count = 0; count < CC_MD5_DIGEST_LENGTH; count++){
        [outputString appendFormat:@"%02x",outputBuffer[count]];
    }

    return [outputString autorelease];
} 
```

这是使用`MD5`哈希来加密字符串。

**问题：**

1.  当我在某处阅读时，无法解密`MD5`哈希。这是真的吗？如果没有，请指导我使用`MD5`.
2.  如果第一个是不可能的，那么`NSString`在`iOS`.

我真的很欢迎您对此提出建议。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-04-12T07:08:22.237

1.  Yes, it is true. MD5 is a one-way hash function. You can compare two MD5-hashed strings to check if the original plain inputs were equal.

2.  Take a look at the AES encryption for NSString discussion [here](https://stackoverflow.com/questions/1400246/aes-encryption-for-an-nsstring-on-the-iphone "here").

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-04-12T06:59:15.750

MD5 不是加密算法，它是一个散列函数。除非您设法暴力破解它，否则无法从哈希中取回原始数据。

看看 OpenSSL。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2013-04-12T06:59:30.003

MD5 是一种加密散列函数。您无法解密生成的哈希。

# ios - Foursquare场地搜索

> ID：15964930
> 
> 赞同：0
> 
> 时间：2013-04-12T06:51:58.100
> 
> 标签：ios, iphone, foursquare

在我的 iPhone 应用程序中，我想搜索附近的餐馆。使用foursquare place API，我可以获得附近场地的json。

只有餐厅附近的网址是什么？目前我正在获取所有场地。

我现在正在使用这个网址：

```
https://api.foursquare.com/v2/venues/search?ll=40.7,-74&client_id=MY_CLIENT_ID&client_secret=MY_CLIENT_SECRET&v=YYYYMMDD 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-12T10:14:28.767

您可以使用相同的 API。根据[this doc](https://developer.foursquare.com/docs/venues/search)，您可以传入`categoryId`参数以指定您只想要餐馆。

根据这个[SO answer ，您可以使用](https://stackoverflow.com/a/8522957/361247)[此 API](https://developer.foursquare.com/docs/venues/categories)下载可用类别，这将为您提供一系列类别。确保每个会话只调用一次该 API 端点，并且不要将其缓存超过一周。

# command-line - 从命令行获取 NuGet.exe 版本

> ID：15964935
> 
> 赞同：68
> 
> 时间：2013-04-12T06:52:16.407
> 
> 标签：command-line, version, nuget

我想`NuGet.exe`使用命令行获取版本。

[我知道我可以按照此处](http://docs.nuget.org/docs/start-here/nuget-faq#How_do_I_check_the_exact_version_of_NuGet_installed?)的说明将 NuGet 的版本作为 Visual Studio 的一部分运行，但我所追求的是与命令行类似的东西，即：

`nuget --version`

有任何想法吗？

* * *

## 回答 #1

> 赞同：89
> 
> 时间：2013-04-16T11:11:53.113

`nuget help`除了预期的帮助信息外，从命令行键入还会列出当前的 NuGet.exe 版本。

* * *

## 回答 #2

> 赞同：51
> 
> 时间：2017-06-22T23:41:06.830

要知道安装了哪个版本的 NuGet，请使用以下步骤

*   在 Visual Studio 中，使用*Help > About Microsoft Visual Studio命令并查看**NuGet Package Manager*旁边显示的版本。

*   或者，启动*包管理器控制台*（*工具 > NuGet 包管理器 > 包管理器控制台*）并输入`$host`以查看有关 NuGet 的信息，包括版本。

* * *

## 回答 #3

> 赞同：10
> 
> 时间：2017-11-26T11:36:01.150

**Windows Powershell：**

```
nuget help | select -First 1 
```

[![在此处输入图像描述](https://i.stack.imgur.com/EZ7Gr.png)](https://i.stack.imgur.com/EZ7Gr.png)

* * *

**命令文件**

```
nuget ? 
```

[![在此处输入图像描述](https://i.stack.imgur.com/OoCSl.png)](https://i.stack.imgur.com/OoCSl.png)

* * *

**不再工作**

> 命令行 (cmd.exe) | Visual Studio 中的包管理器控制台
> 
> ```
> 1.) nuget ? v
> 2.) nuget help v 
> ```
> 
> [![在此处输入图像描述](https://i.stack.imgur.com/OcIvo.png)](https://i.stack.imgur.com/OcIvo.png)
> 
> “v”命令实际上是无效的，但是通过这种方法，您只能获得 nuget 版本号，并且在“v”是未知命令的信息下方。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2021-05-20T22:26:16.960

在我的 Centos7 Docker 容器中，我遇到了他的问题。

这就是我解决它的方法：

```
yum info nuget 
```

`yum info nuget`回报丰厚！只是想要数字，我添加了一个`grep`和一个`sed`来清理东西。

```
yum info nuget | grep Version | sed 's/^.*: //' 
```

要在 bash 脚本中放入变量：

```
nuget_version=$(yum info nuget | grep Version | sed 's/^.*: //') 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2021-09-07T22:50:45.667

**在 Windows 10 CMD 控制台**上，试试这个：

C:>nuget help |findstr "NuGet 版本"

**在 Windows 10 PowerShell 控制台**上，试试这个：

PS C:> nuget 帮助 | 选择-前 1

他们都将返回类似：

NuGet 版本：5.8.1.7021

# sql-server-2005 - 使用平面文件将存储过程从一台服务器复制到另一台服务器

> ID：15964937
> 
> 赞同：0
> 
> 时间：2013-04-12T06:52:29.787
> 
> 标签：sql-server-2005, ssis

我有一种情况，我需要每天将存储过程从一台服务器复制到另一台服务器。我不能使用传输 SQL 对象任务，因为这些服务器没有链接。我正在寻找一种解决方案，例如将过程导出到文本文件并从文本文件导入到目的地。谁能帮我这个？我希望通过 SSIS 完成这项工作，因为我已经有一个包每天在这两个服务器之间转换数据。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-12T09:00:08.557

1.  使用 SQL Server Management Studio 登录到服务器 A。
2.  在左侧树中找到存储过程，右键生成CREATE脚本
3.  在目标数据库中运行脚本

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-16T10:24:38.370

我认为我们可以这样做：

1.  执行 SQL 任务：使用 ADO.NET 运行“sp_helptext YourSPName”（它将存储过程的定义作为单列表结果返回）。将“完整结果集”保存到对象类型变量，例如“结果集”。

2.  脚本任务：以只读方式传入“ResultSet”。创建另一个变量，比如“SPConent”类型的字符串，作为读写传递。在脚本内部，使用以下代码将存储过程定义重新组装为字符串

    ```
    public void Main()
    {
        // TODO: Add your code here
        var table = ((DataSet) Dts.Variables["ResultSet"].Value).Tables[0];
        string spContent = "";

        foreach (DataRow row in table.Rows)
        {
            spContent += row[0];
        }

        Dts.Variables["SPContent"].Value = spContent;
        Dts.TaskResult = (int)ScriptResults.Success;
    } 
    ```

3.  执行 SQL 任务：删除目标数据库中的存储过程。

4.  执行 SQL 任务：从“SPContent”对目标数据库运行 sql 命令。

# iphone - 如何使 UILabel 中的文本填满 UILabel 中的所有空间？

> ID：15964942
> 
> 赞同：3
> 
> 时间：2013-04-12T06:52:55.970
> 
> 标签：iphone, ios, uilabel

```
UILabel *label = [[UILabel alloc] init];
label.text = @"Hello";
[label sizeToFit];
CGSize size = label.frame.size; 
```

通常我们通过这种方式获取标签的大小，但是 UILabel 中的文本并没有填满其中的所有空间，文本周围总是有一些边距。这使得绘图标签难以与视觉草稿完全相同。有人可以帮忙吗？</p>

例如：如果你想在一些文本的底部放置一个图标，让它们之间的边距为，例如 50px，然后你写 icon.frame = CGRectMake(10,textLabel.frame.size.height + textLabel.frame .origin.y + 50, 100, 100); 但是由于文本不能填满UILabel中的所有空间，所以这种方式的边距应该比它应该的大一点。所以我想找出一个更好的方法，谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-12T07:24:39.403

尝试使用此波纹管方法返回动态高度`UILable`及其文本内容...我们这个方法您可以使用其文本内容设置框架`UILable`...

```
-(float) calculateHeightOfTextFromWidth:(NSString*) text: (UIFont*)withFont: (float)width :(UILineBreakMode)lineBreakMode
{
[text retain];
[withFont retain];
CGSize suggestedSize = [text sizeWithFont:withFont constrainedToSize:CGSizeMake(width, FLT_MAX) lineBreakMode:lineBreakMode];

[text release];
[withFont release];

return suggestedSize.height;
} 
```

并像下面这样使用它......

```
 UILabel *lblAddress = [[UILabel alloc]init];
    [lblAddress setFrame:CGRectMake(110, 31, 200, 50)];        
    lblAddress.text = @"your Text ";
    lblAddress.lineBreakMode = UILineBreakModeWordWrap;
    lblAddress.numberOfLines = 0;
    lblAddress.font = [UIFont fontWithName:@"Helvetica" size:12];

    lblAddress.frame = CGRectMake(lblAddress.frame.origin.x, lblAddress.frame.origin.y, 
                             200,[self calculateHeightOfTextFromWidth:lblAddress.text :lblAddress.font :200 :UILineBreakModeWordWrap] ); 

    lblAddress.textColor = [UIColor darkGrayColor];

    [self.view addSubview:lblAddress]; 
```

见[我的博客](http://parasjoshi3.blogspot.in/2012/11/set-uilabel-with-adjust-content-text.html)..

我希望你能从这篇文章中得到一些想法......

# asp.net-mvc-3 - 如何在 MVC 3 中实现 CheckBox Checked 和 Unchecked 事件

> ID：15964945
> 
> 赞同：0
> 
> 时间：2013-04-12T06:52:58.003
> 
> 标签：asp.net-mvc-3, nopcommerce

我有带有复选框的制造商名称，当我检查制造商然后通过检查事件我想显示该制造商的所有产品时，...

如何在 MVC 3 中实现 CheckBox Checked 和 Unchecked 事件

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-12T06:58:25.810

> 如何在 MVC 3 中实现 CheckBox Checked 和 Unchecked 事件

假设你有这个复选框：

```
<input type="checkbox" id="manufacturerCheckbox" /> 
```

您可以通过以下方式捕获它的“已检查和未检查事件”：

```
$("#manufacturerCheckbox").click(function () {            
    alert($(this).is(':checked') 
        ? 'checkbox is checked' 
        : 'checkbox is unchecked');
}); 
```

# c# - 处理时间值

> ID：15964948
> 
> 赞同：1
> 
> 时间：2013-04-12T06:53:11.670
> 
> 标签：c#, jquery, asp.net, asp.net-mvc

我在 UI 中有以下字段

*   约会日期 `04/13/2013`
*   开始时间`13:00`
*   时间结束`14:30`

当前的数据库设计是

*   约会日期`SMALLDATETIME`Ex 值`04-13-2013`
*   开始时间`SMALLDATETIME`Ex 值`04-13-2013 13:00`
*   EndTime `SMALLDATETIME`Ex 值`04-13-2013 14:30`

我为这个模型设计了一个类

```
public class Appointment
{
DateTime? AppointmentDate{get;set;}
DateTime? StartTime{get;set;}
DateTime? EndTime{get;set;}

} 
```

我使用 ASP.Net MVC 4 和

```
 @Html.TextBox("", m.StartTime.ToString("HH:mm")) 
```

添加了 jQuery 验证插件，我得到验证消息`14:30`不是有效日期。

我可以在*UI/DataBase/Validation*中实现哪些更改来处理时间输入？

我正在使用 SQL Server 2008

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-12T07:06:27.520

您的开始时间和结束时间属性必须是视图模型中的小数，因为这是您在发布时从视图传回的内容。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-12T07:19:18.160

您是否尝试过显式设置列的数据类型：

```
public class Appointment
{
    [DataType(DataType.Date)]
    public DateTime? AppointmentDate { get; set; }

    [DataType(DataType.Time)]
    public DateTime? StartTime { get; set; }

    [DataType(DataType.Time)]
    public DateTime? EndTime { get; set; }
} 
```

# linux - C编程调试子进程

> ID：15964950
> 
> 赞同：0
> 
> 时间：2013-04-12T06:53:15.560
> 
> 标签：linux, multiprocessing

我想在此之后使用 gdb 调试子进程：

```
execl("./child","./child",NULL); 
```

所以我附加了它的pid，但是如何在子进程中放置一个断点以从特定位置开始。

# jar - IText-Jars 和关于 pdf/a 的来源之间的区别

> ID：15964953
> 
> 赞同：0
> 
> 时间：2013-04-12T06:53:22.587
> 
> 标签：jar, pdf-generation, itext, pdfa

我使用最新的 iText-Jras 5.4.1尝试了该示例`part4.chapter13.PdfXPdfA`（[http://itextpdf.com/examples/iia.php?id=226 ）。](http://itextpdf.com/examples/iia.php?id=226)该示例不起作用。

发生此错误：

```
Exception in thread "main" java.lang.NoSuchFieldError: pdfIsoConformance
at com.itextpdf.text.pdf.PdfAWriter.<init>(PdfAWriter.java:178)
... 
```

然后我尝试了纯java源，错误消失了。我认为jar文件的构建是错误的。

有没有人见过这个？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-12T13:50:04.370

您需要两个 jar 才能使此示例正常工作：

*   itextpdf-5.4.1.jar
*   itext-pdfa-5.4.1.jar

这两个 jar 文件都存在于 ZIP 中，可以从 SourceForge 下载。我是昨天发布的那个。在每个版本中，我都会测试示例。请注意，itextpdf.com 上的 PDF 已经使用 iText 5.4.2 的 SNAPSHOT 构建（因为我们今天已经提交了新代码）。

# css - JScrollPane 水平自动增长，内容未被 px 修复

> ID：15964956
> 
> 赞同：1
> 
> 时间：2013-04-12T06:53:33.033
> 
> 标签：css, jscrollpane

所以我希望内部面板的宽度与内容一样多，就像在这个网站 www.gavinoneill.com 中一样。但是，当我使用`width:auto`; 内容垂直增长。任何人都可以帮忙吗？抱歉，我刚开始学习的编程并不那么精通。

这是我的参考网站[www.marceloaraujophotography.com](http://www.marceloaraujophotography.com)

```
 $ #horiz_container

    width:6000px;
    margin:0px;
    padding:0px;
    height:300px;

    <div id="createdby" style="align:left"></div>

    <ul id="horiz_container_outer">
        <li id="horiz_container_inner">
            <ul id="horiz_container">
  <img src="images/IMG_0539-Edit-Edit.jpg" width="354" height="550" align="left" hspace="5"><img src="images/IMG_2839-Edit.JPG" width="367" height="550" align="left" hspace="5"> 
            </ul>
        </li>       
    </ul> 
```

# iphone - 如何在iphone中计算瞳孔距离（双眼视网膜之间的距离）

> ID：15964957
> 
> 赞同：0
> 
> 时间：2013-04-12T06:53:33.720
> 
> 标签：iphone, ios

我要为 iphone/Ipad 创建一个应用程序。我想计算 PD（瞳孔距离）。请告诉我是否有任何解决方案。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-12T06:56:36.597

当然。简单的部分：使用一些计算机视觉库（例如，OpenCV）来获取两个视网膜的位置。困难的部分：记住 Pithagoras 的定理：

```
distance = sqrt((x2 - x1) ^ 2 + (y2 - y1) ^ 2) 
```

# javascript - 从 javascript 调用 jquery - 未定义覆盖

> ID：15964962
> 
> 赞同：1
> 
> 时间：2013-04-12T06:53:57.787
> 
> 标签：javascript, jquery

我有兴趣在一个完全用 javascript 设计的网站上使用一些 jquery 工具（ [here ）。](http://jquerytools.org/demos/overlay/styling.html)我是 js/jquery 的新手，我想知道如何从 js 调用 jquery 函数？我在 index.html 中包含了 jquery CDN。我错过了什么吗？

当我尝试做类似的事情时：

```
var btn = document.createElement("button");
btn.setAttribute("rel", "#thing1");
btn.onclick = function () {
    $("button[rel]").overlay({mask: '#000', effect: 'apple'});
}
var b = new YAHOO.widget.Button(btn);
b.set("label","test");
b.on("click",overlay({mask: '#000', effect: 'apple'})); 
```

我收到一条错误消息，提示“未定义叠加层”

任何帮助表示赞赏。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-12T06:55:32.670

因为`overlay`在我看来就像一个附加到 jQuery 的方法，它只能从一个 jQuery 对象操作：

```
b.on("click",function(){
  $(this).overlay({mask: '#000', effect: 'apple'});
}); 
```

# javascript - Travis-CI +（BrowserStack 或其他浏览器提供商）？

> ID：15964964
> 
> 赞同：2
> 
> 时间：2013-04-12T06:54:09.917
> 
> 标签：javascript, unit-testing, continuous-integration, travis-ci, browserstack

有没有人尝试将[BrowserStack](http://www.browserstack.com/)浏览器连接到[Travis-CI](https://travis-ci.org/) vms？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2014-03-27T13:35:22.663

您是否尝试过[http://www.browserstack.com/automate/continuous-integration](http://www.browserstack.com/automate/continuous-integration)？他们似乎支持 Jenkins、Travis 和 Circle。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-07-18T04:59:31.643

我从来没有在 Travis CI 或其他地方尝试过 BrowserStack，但如果你使用 Selenium，它看起来应该可以工作。

另一个选择是[Sauce Labs](https://saucelabs.com/opensource/travis)，它还提供用于 Selenium 测试的浏览器。

# php - php json_encode函数中未显示度数'°'字符，如何显示？

> ID：15964967
> 
> 赞同：12
> 
> 时间：2013-04-12T06:54:13.883
> 
> 标签：php, json

我像传递 php 数组

```
[sit_latitude] => 20° 23.298' N 
```

里面 json_encode(); 输出就像，

```
 {"sit_latitude":null} 
```

它的显示为空，如何解决这个问题？

我的代码片段

```
...
$stmt->bindParam("id", $_GET[id]);
$stmt->execute();
$employee = $stmt->fetchObject();
$dbh = null;
echo '{"item":'. json_encode($employee) .'}'; 
```

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2013-04-12T11:51:16.900

我尝试并成功的方法有点奇怪，但确实有效，所以让我与您分享。

```
$latitude = json_encode(utf8_encode($emplyoee['sit_latitude']));
$longitude = json_encode(utf8_encode($employee['sit_longitude']));

   $emplyoee['sit_latitude'] = $latitude;
    $emplyoee['sit_longitude'] = $longitude; 
```

现在像过去一样

```
echo '{"item":'. json_encode($employee) .'}'; 
```

这将解决您的问题

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2013-04-12T07:10:47.403

[json_encode](http://www.php.net/manual/en/function.json-encode.php)假定其输入中的字符串是有效[的 UTF-8](//en.wikipedia.org/wiki/UTF-8)（请记住，PHP 字符串是字节序列，而不是 Unicode 代码点序列）。如果您的文本编辑器未设置为使用该编码（并且您没有使用十六进制转义码手动生成 UTF-8，例如`\xc2\xb0`在双引号字符串中），则该字符串将被编码为`null`（因为它不是有效的 UTF -8)。

其他常见的字符集如[Windows-1252](//en.wikipedia.org/wiki/Windows-1252)也是 ASCII 的超集，因此只有在存在任何非 ASCII 字符（包括 U+00B0 DEGREE SIGN）时才会出现问题。

即使字符串是有效的 UTF-8，默认情况下，json_encode 也会输出`\u00b0`而不是实际的度数符号。[对于使用 PHP json_decode](http://www.php.net/manual/en/function.json-decode.php)或 JavaScript [JSON.parse](https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/JSON/parse)进行编程解码，这不是问题，它们可以理解 JSON 十六进制转义序列。

（在 PHP 5.4 中，有一个`JSON_UNESCAPED_UNICODE`标志可以防止这种转义。但是，许多 Web 服务器仍然具有 PHP 5.3 或更早版本，并且该标志甚至可以取消转义有问题的字符 U+2028 LINE SEPARATOR 和 U+2029 PARAGRAPH SEPARATOR。可以用两行代码模拟标志，尽管正如我上面解释的那样，无论如何您都不必这样做。）

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2013-04-12T07:02:37.157

[JSON 和转义字符](https://stackoverflow.com/questions/4901133/json-and-escaping-characters)- 这篇文章可能会对您有所帮助。

只需传递学位`\u00f8C`，然后用js解码。

* * *

## 回答 #4

> 赞同：-4
> 
> 时间：2013-04-12T07:23:45.663

你可以试试 htmlspecialchars() 函数 [http://php.net/manual/en/function.htmlspecialchars.php](http://php.net/manual/en/function.htmlspecialchars.php)

# php - 使用 PHP 进行进程分叉

> ID：15964970
> 
> 赞同：1
> 
> 时间：2013-04-12T06:54:20.970
> 
> 标签：php, multithreading, pcntl

我已经复制了下面的代码并运行它总是显示的代码

> 父母

作为输出。但是源文件说它将显示输出为

> 孩子
> 
> 父母

.请告诉我“如何在 PHP 中实现线程”。

```
<?php
 if (! function_exists('pcntl_fork')) die('PCNTL functions not available on this PHP installation');
 $pid = pcntl_fork();
 if($pid) {
   echo "parent\n";
 }
 else {
   echo "child\n";
 }
?> 
```

注意：在 cli 中运行时出现错误

> PHP 警告：模块 'pcntl' 已加载到第 0 行的未知中

来源：[http ://www.electrictoolbox.com/article/php/process-forking/](http://www.electrictoolbox.com/article/php/process-forking/)

# php - 慈善网站 - 是否可以通过在站点 A 上提交表单来预填充站点 B 上的输入字段？

> ID：15964971
> 
> 赞同：0
> 
> 时间：2013-04-12T06:54:21.530
> 
> 标签：php, forms, url, submit, field

我想知道是否可以让用户访问我的网站（站点 A）并填写包含名字、姓氏、电子邮件和提交按钮的表单。当用户点击提交时，该信息通过电子邮件发送给我，但随后用户被定向到此站点[https://my.charitywater.org/p/donate?campaign_id=34971#donation-info](https://my.charitywater.org/p/donate?campaign_id=34971#donation-info)那里有一个表格询问一些相同的信息。

我想知道是否可以将在我的站点（站点 A）上收集的任何信息传递到该 Charity Water 页面并预先填充这些字段，以便不必输入两次信息？

谢谢您的帮助！！！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-12T06:56:53.670

网站 (A) 无法使浏览器转到另一个（任意）网站 (B) 并使用来自 A 的数据预先填写 B 上的表单控件。

必须明确设计站点 B 以使其成为可能。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-12T07:15:03.147

你不能。至少如果该网站是您自己的网站，那么您还有更多技巧可以玩。

但我想事实并非如此，

您可以尝试自己发送站点 (B) 的表格。查看客户端 HTML/JavaScript 如何发送表单，然后尝试重新制作。询问访问者是否愿意参与任何活动，如果愿意，也可以将数据发送到站点 (B)。执行此操作时，您会关闭服务器端，因为浏览器不喜欢在您的 HTML/JavaScript 请求中跨越不同的域。

现在您甚至可以只获取网站 (B) 的结果页面并将其展示给访问者。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-12T07:22:09.730

这可以通过 GET 变量将值传递给第三方站点来完成。

请注意，虽然这目前有效，但它不是标准的，完全取决于第三方网站。他们完全有可能修改他们的代码并破坏您的网站，其中没有重新实现此功能的标准方法。

[https://my.charitywater.org/p/donate?campaign_id=34971&payment_amt=100&first_name=John&last_name=Smith&comment_tx=This%20is%20my%20comment#donation-info](https://my.charitywater.org/p/donate?campaign_id=34971&payment_amt=100&first_name=John&last_name=Smith&comment_tx=This%20is%20my%20comment#donation-info)

# c# - 当通过jQuery设置值时，在c#中访问页面加载时的标签值

> ID：15964972
> 
> 赞同：0
> 
> 时间：2013-04-12T06:54:24.213
> 
> 标签：c#, jquery, asp.net

我再次发布这个问题，也许这次更准确的描述。

问题是，我使用 jQuery 来设置标签的文本值，它在浏览器上运行良好，但是当我想将它保存为字符串时，它不会保存它。这是前端 Html 代码。

```
 <%@ Page Language="C#" AutoEventWireup="true" CodeFile="Default.aspx.cs" Inherits="_Default" %>

<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
<head runat="server">
    <title></title>
    <script src="jquery-1.9.1.min.js"></script>
    <script type="text/javascript">
        $(window).load(function () {
            var myNewName = "Ronaldo";
           $('#<%= Label1.ClientID %>').text(myNewName);

        });
    </script>
</head>
<body>
    <form id="form1" runat="server">
        <asp:Label ID="Label1" runat="server" Text="Label"></asp:Label>

    </form>
</body>
</html> 
```

这是页面加载时的后端 C# 代码

```
using System;
using System.Web.UI;

public partial class _Default : Page
{
    protected void Page_Load(object sender, EventArgs e)
    {

        string mynameCheck = Label1.Text;
        if (mynameCheck=="Ronaldo")
        {
            Response.Write("Yes Name is Fine");
        }
        else
        {
            Response.Write("Name's not Fine");

        }
    }
} 
```

显示的结果是

```
Name's not Fine
Ronaldo 
```

似乎字符串仍然为空。渲染有问题吗？？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-12T07:02:24.437

标签不是输入类型，因此您无法通过服务器端的 jquery 获取更改的值。您可以为此目的使用隐藏字段。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-12T07:19:24.153

在您的客户端代码 (HTML/Javascript) 发布之前，您的服务器端代码 (c#) 无法访问表单数据。

为什么要在`PageLoad`活动中已经命名？

您可以添加`asp:Button`带有附加`onClick`事件处理程序的 a 来读取`asp:Label`.

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-12T07:18:17.700

这应该这样做：

```
<script type="text/javascript">
    $(window).load(function () {
       if($('#<%= Txt1.ClientID %>').val() != "Ronaldo"){
         var myNewName = "Ronaldo";
         $('#<%= Txt1.ClientID %>').val(myNewName);
         $('#<%= Label1.ClientID %>').text(myNewName);
         $('#<%= Btn1.ClientID %>').click();
       }
    });
</script>

<form id="form1" runat="server">
    <asp:Label ID="Label1" runat="server" Text="Label"></asp:Label>
    <asp:TextBox ID="Txt1" runat="server" style="display:none"></asp:Label>
    <asp:Button ID="Btn1" runat="server" style="display:none" Click="Btn1_Click"></asp:Label>
</form>

protected void Page_Load(object sender, EventArgs e)
{
    if(IsPostBack)
    {
      Label1.Text=Txt1.Text;

      string mynameCheck = Label1.Text;
      if (mynameCheck=="Ronaldo")
      {
        Response.Write("Yes Name is Fine");
      }
      else
      {
        Response.Write("Name's not Fine");
      }
    }
}

protected void Btn1_Click(object sender, EventArgs e)
{ } 
```

希望能帮助到你 ：）

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-12T07:22:39.767

标签不保持视图状态。服务器不会将该信息发布回服务器。您可以尝试在标签上显式启用 ViewState，但如果这不起作用，则必须将该值存储在隐藏字段中。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-04-12T07:40:17.357

第一次通话`Page Load event`和通话后`JQuery Window.Load event`。

因此，如果您想在 Label 中设置任何内容，则可以使用 onClientClick 按钮。

例如。

```
<asp:Button ID="btn" runat="server" Text="Click me" OnClientClick="SetClientValues();" />

<script type="text/javascript">
    function SetClientValues() {
        var myNewName = "Ronaldo";        
        $('#<%= Label1.ClientID %>').text(myNewName);
    }
</script> 
```

在服务器端按钮事件中，您可以获得在客户端设置的标签值。

```
protected void btn_Click(object sender, EventArgs e)
{
        string mynameCheck = Label1.Text;
        if (mynameCheck=="Ronaldo")
        {
            Response.Write("Yes Name is Fine");
        }
        else
        {
            Response.Write("Name's not Fine");

        }
} 
```

它将打印**Yes Name is Fine**

# android - Can we make Home replacement App in PhoneGap?

> ID：15964973
> 
> 赞同：0
> 
> 时间：2013-04-12T06:54:33.043
> 
> 标签：android, cordova

I want to make an home launcher replacement application (e.g Nova Launcer or Go Launcher) using PhoneGap. I've read about PhoneGap plugins but I don't think this feature can be implemented through Plugins. So is it possible to make a home launcher replacement App?

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-12T08:34:04.070

There's already such a project. You can take a look at this project.

[https://github.com/AricwithanA/DOMLauncher](https://github.com/AricwithanA/DOMLauncher)

It is a launcher made with phonegap.

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-12T07:34:34.647

The answer to your question is "yes". Phone Gap is just a WebView inside a Java Android project. If something doesn't have a Javascript interface, nor has a Phone Gap plugin yet, you can just make one yourself, or you can just use Java/Android xml directly.

The real problem with using a WebView as a homescreen is that it will really be slow (with no apparent benefit otherwise of loading all the capabilities that normally come with a WebView).

For a project like that to make sense, a cool project you could try doing is to replicate some of the iPhone functionality that's talked about [here](https://code.google.com/p/android/issues/detail?id=15710).

> [...]
> 
> I expressly endorse this request, as it is not possible to offer a native-looking WebApp in Android at the time without implementing a shallow hull of an App, containing just a WebView (or implementing one of the popular Frameworks like PhoneGap or apparat.io).
> 
> This leads to the point where you have to pay 25 USD for offering a native-looking WebApp on Android. The same thing is free on iOS devices - and more elegant

In that case, it would actually make sense of using a WebView. Anytime you would have to deal with actual web content, it makes sense to use a WebView because a WebView does a lot of that html rendering/parsing work for you already.

On a side-note, the web site owner I quoted above is slightly wrong about having to pay $25\. In Android, he could just have self-signed his own app and distributed it through his web site, although, his main point remains: iOS does do the bookmarking/installing of a web app locally much better than Android, and it would be great if we could get something like that on Android (that could save/install locally the web sites that were especially made for iOS).

# c#-4.0 - NHibernate：同一表中针对同一列的两个外键

> ID：15964974
> 
> 赞同：0
> 
> 时间：2013-04-12T06:54:37.773
> 
> 标签：c#-4.0, nhibernate, nhibernate-mapping

我正在开发寄售预订软件。寄售对象具有以下结构：

```
public class Consignment
{
   //Other properties

   public virtual Station FromStation{get;set;}

   public virtual Station ToStation{get;set;}
} 
```

这是车站对象：

```
public class Station
{
   public virtual int StationId{get;set;}

   public virtual string StationName{get;set;}

    //I don't want this property but I have to keep it.
    public virtual Iesi.Collections.Generic.ISet<Consginment> ConsginmentFrom
    {
        get;
        set;
    }

    //I don't want this property but I have to keep it here.
    public virtual Iesi.Collections.Generic.ISet<Consginment> ConsginmentTo
    {
        get;
        set;
    }
} 
```

在数据库端，会有一个 Station 表，而 Consignment 表将有两个 int 列（称为 FromStation 和 ToStation），存储车站的 id。

我不是一个 NHibernate 的人，在谷歌搜索和阅读半天后，我想出了以下映射文件：

Station.hbm.xml

```
<class name="Station" table="Station">
    <id name="StationId" >
      <column name="STATION_ID" not-null="true" />
      <generator class="identity" />
    </id>
    <property name="StationName" >
      <column name="STATION_NAME" not-null="true"  />
    </property>
    <set name="ConsginmentFrom" inverse="true" lazy="true" generic="true">
      <key>
        <column name="StationId" />
      </key>
      <one-to-many class="Consignment" />
    </set>
    <set name="ConsignmentTo" inverse="true" lazy="false" generic="true">
      <key>
        <column name="StationId" />
      </key>
      <one-to-many class="Consignment" />
    </set>
  </class> 
```

寄售.hbm.xml

```
<class name="Consignment" abstract="true"
           table="Consignment" lazy="false">
    <id name="ConsignmentId">
      <generator class="hilo"/>
    </id>

  <!--Column mapping for other properties-->

    <many-to-one name="FromStation" class="Station">
      <column name="STATION_ID" not-null="true" />
    </many-to-one>

    <many-to-one name="ToStation" class="Station">
      <column name="STATION_ID" not-null="true" />
    </many-to-one>

  </class> 
```

但上面正在生成奇怪的数据库结构。我必须做 xml 映射文件，因为很多已经用 xml 编写了。我做得对吗？有没有更好的方法？

感谢您阅读本文。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-12T11:03:44.500

我可以看到映射有一些问题。

1.  `FromStation`和属性映射到表中的`ToStation`同一列`Consignment`。它们应该映射到不同的列，例如`FROM_STATION_ID`和`TO_STATION_ID`：

    ```
    <many-to-one name="FromStation" class="Station">
      <column name="FROM_STATION_ID" not-null="true" />
    </many-to-one>

    <many-to-one name="ToStation" class="Station">
      <column name="TO_STATION_ID" not-null="true" />
    </many-to-one> 
    ```

2.  `Set`for`ConsignmentFrom`和`ConsignmentTo`in`Station`映射到而`StationID`不是`Station_Id`。您还需要使用`FROM_STATION_ID`AND`TO_STATION_ID`作为键列。

    ```
    <set name="ConsignmentFrom" inverse="true" lazy="true" generic="true">
      <key column="FROM_STATION_ID" />
      <one-to-many class="Consignment" />
    </set>

    <set name="ConsignmentTo" inverse="true" lazy="false" generic="true">
      <key colum="TO_STATION_ID" />
      <one-to-many class="Consignment" />
    </set> 
    ```

另外，寄售在某些地方拼写错误，这也可能引起一些混乱。

# ios - 为 iOS 构建 VLC 出错（iOS SDK 6.1，MAC OSX 10.8.3）

> ID：15964978
> 
> 赞同：5
> 
> 时间：2013-04-12T06:55:03.607
> 
> 标签：ios, vlc

我尝试为 iOS 构建 VLC，以下是我的步骤：

```
mkdir vlc
cd vlc
git clone git://git.videolan.org/vlc-ports/ios.git
cd vlc/ios
./buildMobileVLC.sh -k iphoneos6.1 
```

最后得到错误，即：

```
...
[info] Removing unneeded modules
~/Documents/VLC/ios/ImportedSources/vlc/extras/package/ios
[info] Building MobileVLCKit (Aggregate static plugins, Release)
[info] Building MobileVLCKit (MobileVLCKit, Release)
** BUILD FAILED **

The following build commands failed:
Libtool build/MobileVLCKit.build/Release-iphoneos/MobileVLCKit.build/Objects-normal/armv7/libMobileVLCKit.a normal armv7
Libtool build/MobileVLCKit.build/Release-iphoneos/MobileVLCKit.build/Objects-normal/armv7s/libMobileVLCKit.a normal armv7s
(2 failures) 
```

然后我清理并重建它，没有明确的错误消息，构建消息的最后一部分是：

```
/Users/Awin/Documents/VLC/ios/ImportedSources/vlc/lib/media_player.c:1274:25: warning: implicit conversion from enumeration type 'enum input_query_e' to different enumeration type 'vlc_action_t' (aka 'enum vlc_action')
  [-Wenum-conversion]
    INPUT_NAV_LEFT, INPUT_NAV_RIGHT,
                    ^~~~~~~~~~~~~~~
1 warning generated.
7 warnings generated.
[info] Installing libvlc
/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/ranlib: file: /Users/Awin/Documents/VLC/ios/ImportedSources/vlc/install-ios-OS/armv7/lib/vlc/libcompat.a(dummy.o) has no symbols
/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/ranlib: file: /Users/Awin/Documents/VLC/ios/ImportedSources/vlc/install-ios-OS/armv7/lib/vlc/libcompat.a(tdestroy.o) has no symbols
/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/ranlib: file: /Users/Awin/Documents/VLC/ios/ImportedSources/vlc/install-ios-OS/armv7/lib/libvlccore.a(cache.o) has no symbols
/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/ranlib: file: /Users/Awin/Documents/VLC/ios/ImportedSources/vlc/install-ios-OS/armv7/lib/libvlccore.a(update_crypto.o) has no symbols
/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/ranlib: file: /Users/Awin/Documents/VLC/ios/ImportedSources/vlc/install-ios-OS/armv7/lib/vlc/plugins/control/libmotion_plugin.a(libmotion_plugin_la-unimotion.o) has no symbols
/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/ranlib: file: /Users/Awin/Documents/VLC/ios/ImportedSources/vlc/install-ios-OS/armv7/lib/vlc/plugins/video_filter/librotate_plugin.a(librotate_plugin_la-unimotion.o) has no symbols
[info] Removing unneeded modules
~/Documents/VLC/ios/ImportedSources/vlc/extras/package/ios
[info] Building MobileVLCKit (Aggregate static plugins, Release)
[info] Building MobileVLCKit (MobileVLCKit, Release)
** BUILD FAILED **" 
```

我如何解决它？谢谢！

# c# - 从公钥（不是证书）构造 RSACryptoServiceProvider

> ID：15964980
> 
> 赞同：3
> 
> 时间：2013-04-12T06:55:14.153
> 
> 标签：c#, rsa, x509certificate, encryption-asymmetric

我正在做一个项目，我需要使用“公钥”来使用 RSA 算法加密消息。我获得了证书，我的第一个想法是使用该证书中的公钥，经过调查，我了解到我需要`RSACryptoServiceProvider`用于加密。

我检查了 msdn，我认为我应该使用的唯一方法是`RSACryptoServiceProvider.ImportCspBlob(byte[] keyBlob)`. 当我尝试使用从证书导出的公钥时，我收到一个错误，即证书的标头数据无效。

我知道我可以强制`X509certificate2.PublicKey.Key`转换，`RSACryptoServiceProvider`但从我的客户那里了解到的是，今后我将只获得一个公钥而不是证书。此密钥必须保存在 .xml 配置文件中。

总结一下：有没有办法只生成`RSACryptoServiceProvider`给定证书的公钥？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2015-11-09T22:15:42.020

你可以试试看这个例子：[RSA public key encryption in C#](https://gist.github.com/zachbonham/3692542 "C#中的RSA公钥加密")

```
var publicKey = "<RSAKeyValue><Modulus>21wEnTU+mcD2w0Lfo1Gv4rtcSWsQJQTNa6gio05AOkV/Er9w3Y13Ddo5wGtjJ19402S71HUeN0vbKILLJdRSES5MHSdJPSVrOqdrll/vLXxDxWs/U0UT1c8u6k/Ogx9hTtZxYwoeYqdhDblof3E75d9n2F0Zvf6iTb4cI7j6fMs=</Modulus><Exponent>AQAB</Exponent></RSAKeyValue>";

var testData = Encoding.UTF8.GetBytes("testing");

using ( var rsa = new RSACryptoServiceProvider(1024))
{
    try
    {
        // client encrypting data with public key issued by server
        //
        rsa.FromXmlString(publicKey);
        var encryptedData = rsa.Encrypt(testData, true);

        var base64Encrypted = Convert.ToBase64String(encryptedData);

    }
    finally
    {
        rsa.PersistKeyInCsp = false;
    }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-11-10T00:29:03.143

你很好，并且遵循一个很好的典型模式。数据的发送者不需要私钥。

以下可能会证实您已经弄清楚的一些代码。我为我遗漏的接收器/解码器设置私钥的那一行。我从我的构建部署内容中的一个测试用例中获取了这个。

```
 byte[] certBytAr;  // This is the certificate as bianry in a .cer file (no  private key in it - public only) 

 X509Certificate2 cert2 = new X509Certificate2(certBytAr);

 string strToEncrypt = "Public To Private Test StackOverFlow PsudeoCode. Surfs Up at Secret Beach.";
 byte[] bytArToEncrypt = Encoding.UTF8.GetBytes(strToEncrypt);

 RSACryptoServiceProvider rsaEncryptor = (RSACryptoServiceProvider)cert2.PublicKey.Key; 

 byte[] dataNowEncryptedArray = rsaEncryptor.Encrypt(bytArToEncrypt, true);

 // done - you now have encrypted bytes 
 // 

  // somewhere elxe ...
 // this should decrpyt it - simulate the destination which will decrypt the data with the private key 

 RSACryptoServiceProvider pk =   // how this is set is complicated 

 // set the private key in the x509 oobject we created way above 
 cert2.PrivateKey = pk; 

 RSACryptoServiceProvider rsaDecryptor = (RSACryptoServiceProvider)cert2.PrivateKey;
 byte[] dataDecrypted = rsaDecryptor.Decrypt(dataNowEncryptedArray, true);

 Console.WriteLine(" encrypt 1 Way Intermediate " + BitConverter.ToString(dataDecrypted));

 string strDecodedFinal = Encoding.UTF8.GetString(dataDecrypted);

 if (strDecodedFinal == strToEncrypt)
 {

 }
 else
 {
     Console.WriteLine(" FAILURE OF  ENCRYPTION ROUND TRIP IN SIMPLE TEST (Direction: Public to Private). No Surfing For You ");
  } 
```

# android - Android Google Map V2 显示空白并仅显示缩放按钮？

> ID：15964981
> 
> 赞同：8
> 
> 时间：2013-04-12T06:55:16.260
> 
> 标签：android, google-maps-android-api-2

我使用谷歌地图 v2 并显示多个标记，但首先我想在屏幕上显示地图我把我所有的文件在这里只给了空白我会检查所有但对我没有任何作用

![在此处输入图像描述](https://i.stack.imgur.com/H5Yx1.png)

> 主要的.xml

```
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:tools="http://schemas.android.com/tools"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:paddingBottom="@dimen/activity_vertical_margin"
    android:paddingLeft="@dimen/activity_horizontal_margin"
    android:paddingRight="@dimen/activity_horizontal_margin"
    android:paddingTop="@dimen/activity_vertical_margin"
    tools:context=".MainActivity" >

        <fragment
                    android:id="@+id/mapview"
                    android:layout_width="match_parent"
                    android:layout_height="match_parent"
                    class="com.google.android.gms.maps.SupportMapFragment" />

</RelativeLayout> 
```

> AndroidManifest.xml

```
<?xml version="1.0" encoding="utf-8"?>
<manifest xmlns:android="http://schemas.android.com/apk/res/android"
    package="com.example.mapactivity"
    android:versionCode="1"
    android:versionName="1.0" >

    <uses-sdk
        android:minSdkVersion="10"
        />

    <uses-permission android:name="android.permission.INTERNET" />
    <uses-permission android:name="android.permission.RECEIVE_BOOT_COMPLETED" />  
    <uses-permission android:name="android.permission.ACCESS_WIFI_STATE" />        
    <uses-permission android:name="android.permission.CHANGE_WIFI_STATE" />
    <uses-permission android:name="android.permission.WAKE_LOCK" />
    <uses-permission android:name="android.permission.ACCESS_NETWORK_STATE" />
    <uses-permission android:name="android.permission.ACCESS_FINE_LOCATION" />
    <uses-permission android:name="android.permission.ACCESS_COARSE_LOCATION" />
    <uses-permission android:name="android.permission.WRITE_EXTERNAL_STORAGE" />
    <permission
        android:name="com.example.stiptis.permission.MAPS_RECEIVE"
        android:protectionLevel="signature"/>
    <uses-permission android:name="com.example.stiptis.permission.MAPS_RECEIVE"/>

    <application
        android:allowBackup="true"
        android:icon="@drawable/ic_launcher"
        android:label="@string/app_name"
        android:theme="@style/AppTheme" >
        <activity
            android:name="com.example.stiptis.MainActivity"
            android:label="@string/app_name" >

            <intent-filter>
                <action android:name="android.intent.action.MAIN" />
                <category android:name="android.intent.category.LAUNCHER" />
            </intent-filter>

        </activity>
          <meta-data
                    android:name="com.google.android.maps.v2.API_KEY"
                    android:value="your api key" />
    </application>

</manifest> 
```

> 活动课

```
public class MainActivity extends FragmentActivity {

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.main);

    }

} 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-04-12T07:10:09.137

您的 Maps API 密钥可能有问题。将此函数放入您的活动中，并查看它为正确的 SHA 密钥记录的内容：

```
 private void getShaKey() {

 try {
 PackageInfo info = getPackageManager().getPackageInfo("your.package.name",
 PackageManager.GET_SIGNATURES);
 for (Signature signature : info.signatures) {
 MessageDigest md = MessageDigest.getInstance("SHA");
 md.update(signature.toByteArray());
 Log.v(TAG, "KeyHash:" + Base64.encodeToString(md.digest(),
 Base64.DEFAULT));
 }
 } catch (NameNotFoundException e) {
 e.printStackTrace();

 } catch (NoSuchAlgorithmException e) {
 e.printStackTrace();

 }

 } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-10-17T20:26:06.867

如果您尝试了 sdk extras 中的地图示例，您可能会发现[此答案](https://stackoverflow.com/a/19436565/874502)很有帮助。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-04-14T08:48:48.653

还有用于**android密钥**生成的**名称包问题的概率**

 *** * *

## 回答 #4

> 赞同：0
> 
> 时间：2014-07-07T18:04:10.920

这会打印出您需要在 Google Developers Console 中输入以生成 API 密钥的签名和包名称：

```
private void getShaKey() {
    try {
      Activity activity = this; // or getActivity() if the code is in fragment
      String packageName = activity.getPackageName();
      PackageInfo info = activity.getPackageManager().getPackageInfo(packageName, PackageManager.GET_SIGNATURES);
      for (android.content.pm.Signature signature : info.signatures) {
        MessageDigest md = MessageDigest.getInstance("SHA1");
        md.update(signature.toByteArray());
        byte[] digest = md.digest();
        Log.v(LOG_TAG, "KeyHash: " + bytesToHex(digest) + ";" + packageName);
      }
    } catch (Exception e) {
      e.printStackTrace();
    }
  }

  public static String bytesToHex(byte[] bytes) {
    char[] hexArray = "0123456789ABCDEF".toCharArray();
    char[] hexChars = new char[bytes.length * 2];
    for (int j = 0; j < bytes.length; j++) {
      int v = bytes[j] & 0xFF;
      hexChars[j * 2] = hexArray[v >>> 4];
      hexChars[j * 2 + 1] = hexArray[v & 0x0F];
    }
    StringBuilder sb = new StringBuilder();
    for (int i = 0; i < hexChars.length; i += 2) {
      sb.append(hexChars[i]);
      sb.append(hexChars[i + 1]);
      if (i < hexChars.length - 2) {
        sb.append(':');
      }
    }
    return sb.toString();
  } 
```

在日志中查找 KeyHash:。

这是对分析器代码的修改。**

# c# - 从 web 目录获取文件名和目录列表

> ID：15964983
> 
> 赞同：0
> 
> 时间：2013-04-12T06:55:20.467
> 
> 标签：c#, asp.net

我想通过`http://`使用 C# 从一个 web 目录中获取所有文件名和目录列表。

例如：

```
Directory.GetFiles(folder)** 
```

用于从本地目录获取文件列表，就像我想从 web 目录获取文件列表一样。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-04-12T07:29:25.733

```
System.IO.Directory.GetFiles(HttpContext.Current.Server.MapPath("~/PortalPage/")) 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-04-12T07:10:07.383

*Well*, I don't believe HTTP has a `"directory index"` you can directly use.

You can't pass `url` to `Directory.GetFiles` method, this method takes as a parameter *physical path of url* (if it is accessible of course).

Check out [`Server.MapPath`](http://msdn.microsoft.com/en-us/library/ms524632%28v=vs.90%29.aspx) method instead.

> The MapPath method maps the specified relative or virtual path to the corresponding physical directory on the server.
> 
> Path
> 
> Specifies the relative or virtual path to map to a physical directory. If Path starts with either a forward (/) or backward slash (), the MapPath method returns a path as if Path were a full, virtual path. If Path doesn't start with a slash, the MapPath method returns a path relative to the directory of the .asp file being processed.

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-12T07:26:24.823

HTTP 本身没有任何功能来列出文件夹中的 FILE 内容。一方面，这是不可能的，因为 HTTP 规范不要求将 URL 映射到文件夹。可编程网页的整个基础是基于未映射到静态文件的 URL。

然而。HTTP 协议有很多扩展。WebDAV 是一种将 HTTP URI 映射到某个位置的目录的协议。在[此处查看如何查询 WebDAV 服务以获取文件夹的内容](https://stackoverflow.com/questions/7399358/webdav-request-show-files-in-folder)。

但是，据我所知，它不能进行递归查询。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-12T07:08:21.490

You can't use `Directory.GetFiles` on a URL.

Consider the example:

```
string baseURL = "http://download.example.org/export/dump/";
WebClient client = new WebClient();            
string content = client.DownloadString(baseURL); 
```

Then you run a loop inside.

# selenium - 我可以在计算机 A 上运行 Selenium，然后在计算机 B 中查看浏览器吗？

> ID：15964984
> 
> 赞同：2
> 
> 时间：2013-04-12T06:55:26.133
> 
> 标签：selenium, webdriver, selenium-grid

想象一下，我在计算机 A 上准备了一些 Selenium 项目。当你运行这个项目时，一个新的浏览器会在计算机 A 中打开，并连接到 www.somesite.com 并运行测试。

现在，同样在计算机 A 上，想象我正在运行一个网页，它有一个按钮，它触发这些测试......

因此，当我导航到 www.ipofcomptera.com 并单击“运行测试”时，计算机 A 中会打开一个新浏览器并运行测试...

我想要的是，我要么希望浏览器在计算机 B 中打开（我到达计算机 A 的计算机），要么它也可以在 A 中运行，但我也想查看我计算机上的所有步骤。

希望我的问题清楚，谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-12T07:17:40.573

这正是[Selenium Grid](http://code.google.com/p/selenium/wiki/Grid2)的用途！

玩得开心

请重新考虑使用实际上是不死生物的 Selenium RC，最好改用[RemoteWebDriver](http://code.google.com/p/selenium/wiki/RemoteWebDriver)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-12T16:03:46.860

您可以查阅此文档以更好地了解[RemoteWebDriver](http://code.google.com/p/selenium/wiki/RemoteWebDriver)

简而言之，您需要做的事情

1.  在计算机 B 上[下载 Selenium 服务器](http://docs.seleniumhq.org/download/)
2.  通过这样做在计算机 B 上启动服务器`java -jar selenium-server-standalone-2.32.0.jar`
3.  将计算机 A 上的代码从 `WebDriver driver = new FirefoxDriver();`

至

```
DesiredCapabilities capability = DesiredCapabilities.firefox();    
WebDriver driver = new RemoteWebDriver(new URL("http://computerB:4444/wd/hub"), capability); 
```

如果所有必需的端口都打开，它应该都能正常工作。

# google-app-engine - 在 App Engine Datastore 中按用户电子邮件过滤记录？

> ID：15964988
> 
> 赞同：0
> 
> 时间：2013-04-12T06:55:53.140
> 
> 标签：google-app-engine

我有一个应用程序引擎上托管的应用程序。它具有一些字段以及 UserProperty()，如下所示：

```
class Post(db.Model):
    title = db.StringProperty(required=True)
    created_by = db.UserProperty(required=True)
    ...#some other fields 
```

我正在尝试按 created_by 字段过滤记录，以便该应用程序将显示由登录用户创建的记录。我试过了：

```
p = Post.all()
p.filter('created_by =', users.get_current_user()) 
```

这是行不通的。请帮忙。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-12T08:41:12.003

如果您没有为您的登录用户提供单独的模型，您应该在帖子中存储`user_id`而不是`email`，因为前者更独特。

只需在`Post`

```
class Post(db.Model):
  title = db.StringProperty(required=True)
  created_by = db.UserProperty(required=True)
  user_id = db.StringProperty(required=True)
  ... 
```

在`Post`创建时做这样的事情：

```
post_db = Post(title='Hello world', 
               created_by=users.get_current_user(), 
               user_id=users.get_current_user().user_id()) 
```

现在，如果您想显示登录用户发布的所有帖子，您应该：

```
p = Post.all()
p.filter('user_id =', users.get_current_user().user_id()) 
```

# ios - VLC-无法播放在线视频

> ID：15964995
> 
> 赞同：1
> 
> 时间：2013-04-12T06:56:39.450
> 
> 标签：ios, vlc

我正在尝试使用 VLC 播放 youtube 在线视频`IOS5`。我将 a 设置`NSURL`为`MVLCMovieViewController`，使用如下代码：

```
NSString *conntentURL = @"http://www.youtube.com/watch?v=FWKYriGgmCo";//(it's a workable link)
NSURL *url = [NSURL URLWithString:connectURL];
MVLCMovieViewController *movieViewController = [[MVLCMovieViewController alloc] init];
movieViewController.url = url;
[self presentModalViewController:movieViewController animated:YES];
[movieViewController release]; 
```

运行该应用程序，但我在 http.c 文件处停了下来，并在代码附近提示“程序收到信号”EXC_BAD_ACCESS“”：

```
 p_sys->psz_user_agent = var_InheritString(p_access, "http-user-agent");
    for(char *p = p_sys->psz_user_agent; *p, p++) 
```

那么是否`VLC`支持在线播放？或者应该修改什么，以便我可以直接在 ios 上播放 url？

非常感谢您提前提供的帮助！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-12T08:51:33.037

我在 VLC iOS 源代码上做了很多工作，试图让它处理 RTP 和 UDP 流。简短的回答是我没有让它适用于这些协议，但 HTTP 有效，并且阻塞似乎是在操作系统级别。

如果您想详细了解我为使 VLC 正确编译并在最新 XCode 上工作所做的工作，请阅读以下论坛帖子[https://forum.videolan.org/viewtopic.php?f=12&t=108691](https://forum.videolan.org/viewtopic.php?f=12&t=108691)

由于 YouTube 似乎是 HTTP，它应该可以工作，但您的里程可能会有所不同。希望这可以帮助。