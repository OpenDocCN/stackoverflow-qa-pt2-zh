# StackOverflow 问答 14257000-14257999

# css - 内联块 div 的对齐不起作用

> ID：14257000
> 
> 赞同：1
> 
> 时间：2013-01-10T11:33:35.997
> 
> 标签：css, html, vertical-alignment

我正在尝试对齐仅包含一个选择的 div，如下所示，但它不起作用。 ![在此处输入图像描述](../Images/3ad19aa0e30ba2f9ea5e588516c16871.png)

无论我为垂直对齐选择什么选项，都不会发生任何事情。下面是 styled-select 类的 div 和里面的 select 的 css。

```
div.styled-select {

   width: 100px;
   height: 17px;
   overflow: hidden;
   background: url(../../../../images/downarrow_blue.png) no-repeat right white;   
   display: inline-block;
   position:relative;
   float: left;
   vertical-align: sub
   }

.styled-select select {
   background: transparent; 
   -webkit-appearance: none;
   width: 117px;
   height: 17px;
   border: 0;   
   position: absolute;
   left: 0;
   top: 0;
   }

 // HTML code
 <p/>
 <form action="/prepareUpdateCategoryList.do?forwardto=search">

 <fieldset class="block">

 <label style="width:80px">Class</label>
 <div class="styled-select">
<select>
    <option value="0">Select </option>
    <option value="7382">steam </option>
</select>
</div>

<input type="text" name="fname">
<input type="submit" value="Submit">
</fieldset>
</form> 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-13T05:34:27.553

如果你只是想让它无论如何对齐，那么只需使用margin-top。

```
div.styled-select {
    width: 100px;
    height: 17px;
    overflow: hidden;
    background: url(../../../../images/downarrow_blue.png) no-repeat right white;   
    display: inline-block;
    position:relative;
    float: left;
    vertical-align: sub;
    margin-top:5px;
} 
```

[在这里提琴](http://jsfiddle.net/LeG4n/4/)

# android - 没有身份验证令牌的android联系人同步

> ID：14257002
> 
> 赞同：1
> 
> 时间：2013-01-10T11:33:38.560
> 
> 标签：android, android-contacts, contactscontract, android-syncadapter

有没有办法在不使用 authToken 的情况下将 android 联系人与服务器同步，只需用户名和密码？如何做呢？

每次同步联系人时，我都想使用用户名和密码进行身份验证，而根本不使用 authToken。

让我们说`SampleSyncAdapter`，我应该改变什么来实现这一点。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-16T04:06:40.480

您可以使用帐户名作为用户名，并将密码保存为令牌或附加信息。在 SampleSyncAdapter 中，只需替换您发送到服务器的内容。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-05-14T17:05:29.550

请注意，使用密码而不是身份验证令牌很容易，但由于以下几个原因非常不安全[（讨论） ：](https://stackoverflow.com/questions/8464429/android-syncadapter-server-side-implementation/8691572#8691572)

1.  这意味着使用您的 AuthenticationAdapter 进行身份验证的恶意应用程序会收到您*实际*密码的副本，它可以用来以您的身份登录并做任何事情，或者它可以将您的用户名和密码发送给它喜欢的任何人。请注意，由于身份验证和令牌使用的分离方式，人们可以编写可以从您的身份验证器请求凭据的第三方应用程序。如果您提供密码而不是令牌，那么您只是将您的用户密码交给了应用程序开发人员，您可能甚至都没有听说过或知道存在。

2.  这意味着如果您使用 http 传输，您将通过网络以明文形式发送密码。这将使密码受到窥探。（同样，任何将您用作身份验证器的第三方开发人员可能都不知道使用带有密码的 http 有多糟糕。）

# javascript - 使用敲除选择默认值

> ID：14257003
> 
> 赞同：2
> 
> 时间：2013-01-10T11:33:40.733
> 
> 标签：javascript, jquery, knockout.js

我已将我的选择定义如下

```
<select id="selProductType" data-bind="options: productType , value: editProductType , optionsText: 'Name'" /> 
```

下面是我在视图模型中填充选择的代码

```
 // Loading combobox with Product Types
    $.getJSON("../RestService/Product/AllProductTypes",
      function (allData) {
          var mappedProductType = $.map(allData, function (item) {
              console.log(item.Id + ' ' + item.Name);
              return new productType(item);
          });
          self.productType(mappedProductType);

      }); 
```

当我初始化页面时，我想设置默认值来选择。所以我在下面尝试

```
self.editProductType(4); 
```

但它给了我 TypeError 说对象 4 没有方法 ID。

如何去做。我也在stackoverflow中经历过类似的帖子，但没有运气。

[Knockout JS绑定下拉（选择）列表的初始/默认值](https://stackoverflow.com/questions/6648991/knockout-js-binding-initial-default-value-of-dropdown-select-list)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-10T11:48:43.347

如果您不指定：

```
optionsValue: 'Id' 
```

在 data-bind 中，这种情况下的绑定值必须是 productType 数组中的一个对象。

您可以选择默认对象：

```
self.editProductType(self.productType()[2]); 
```

* * *

**什么是期权价值？**

与 optionsText 类似，您还可以传递一个名为 optionsValue 的附加参数，以指定应使用对象的哪些属性来设置 KO 生成的元素的 value 属性。您还可以指定一个 JavaScript 函数来确定该值。此函数将接收所选项目作为其唯一参数，并应返回一个字符串以用于元素的 value 属性。

**通常，您只想使用 optionsValue 来确保 KO 在更新可用选项集时可以正确保留选择。**例如，如果您通过 Ajax 调用反复获取“汽车”对象列表并希望确保保留所选汽车，您可能需要将 optionsValue 设置为“carId”或每个“汽车”对象具有的任何唯一标识符, 否则 KO 不一定知道之前的“汽车”对象中的哪些对应于新对象中的哪些。

阅读更多： http: [//knockoutjs.com/documentation/options-binding.html](http://knockoutjs.com/documentation/options-binding.html)

# symfony - (doctrine2 + symfony2) 级联删除：违反完整性约束 1451

> ID：14257004
> 
> 赞同：15
> 
> 时间：2013-01-10T11:33:40.757
> 
> 标签：symfony, doctrine-orm, cascading, referential-integrity

首先，对不起我的英语不好...

我有四个实体：用户、应用程序、捆绑和实体。这是它们的关系（具有级联持久性和删除，请参见下面的代码）：

*   用户**1-n**应用程序
*   应用程序**1-n**包
*   捆绑**1-n**实体

它工作正常。但是一个用户可以默认拥有他的两个实体，我需要直接访问它们。

所以我在用户上添加了两个字段，entity1 和 entity2，具有**1-1**的关系。现在我的应用程序崩溃了：

```
An exception occurred while executing 'DELETE FROM bundle WHERE id = ?' with params {"1":13}:

SQLSTATE[23000]: Integrity constraint violation: 1451 Cannot delete or update a parent row: a foreign key constraint fails (`misc`.`entity`, CONSTRAINT `FK_E284468F1FAD9D3` FOREIGN KEY (`bundle_id`) REFERENCES `bundle` (`id`)) 
```

我尝试了几件事，包括在[这篇文章](https://stackoverflow.com/questions/12895724/doctrine-2-cascade-remove-doesnt-seem-to-be-working)中创建的那些，但我无法修复它。

欢迎任何帮助，在此先感谢。

**编辑：**我需要指出 User->Entity 关系是可选的：用户的 entity1 和 entity2 可以为空。即使它们都为空，也会发生错误。

这是我的实体定义：

```
# User :
    /**
     * @ORM\OneToMany(targetEntity="\sfCommands\ContentBundle\Entity\Application", mappedBy="user", cascade={"remove"}, orphanRemoval=true)
     * @ORM\OrderBy({"name" = "ASC"})
     */
    protected $applications;

    /**
     * @ORM\OneToOne(targetEntity="\sfCommands\ContentBundle\Entity\Entity")
     * @ORM\JoinColumn(name="entity1_id", referencedColumnName="id")
     */
    private $entity1;

    /**
     * @ORM\OneToOne(targetEntity="\sfCommands\ContentBundle\Entity\Entity")
     * @ORM\JoinColumn(name="entity2_id", referencedColumnName="id")
     */
    private $entity2;

#Application :
    /**
     * @ORM\OneToMany(targetEntity="\sfCommands\ContentBundle\Entity\Bundle", mappedBy="application", cascade={"remove"}, orphanRemoval=true)
     * @ORM\OrderBy({"name" = "ASC"})
     */
    protected $bundles;

    /**
     * @ORM\ManyToOne(targetEntity="\sfCommands\UserBundle\Entity\User", inversedBy="applications", cascade={"persist"})
     * @ORM\JoinColumn(name="user_id", referencedColumnName="id")
     */
    protected $user;

#Bundle :
    /**
     * @ORM\ManyToOne(targetEntity="\sfCommands\ContentBundle\Entity\Application", inversedBy="bundles", cascade={"persist"})
     * @ORM\JoinColumn(name="application_id", referencedColumnName="id")
     */
    protected $application;

    /**
     * @ORM\OneToMany(targetEntity="\sfCommands\ContentBundle\Entity\Entity", mappedBy="bundle", cascade={"remove"}, orphanRemoval=true)
     * @ORM\OrderBy({"name" = "ASC"})
     */
    protected $entitys;

#Entity :
    /**
     * @ORM\ManyToOne(targetEntity="\sfCommands\ContentBundle\Entity\Bundle", inversedBy="entitys", cascade={"persist"})
     * @ORM\JoinColumn(name="bundle_id", referencedColumnName="id")
     */
    protected $bundle; 
```

* * *

## 回答 #1

> 赞同：39
> 
> 时间：2013-01-14T04:13:43.370

所以，感谢[这个法语论坛](http://www.developpez.net/forums/d1296419/php/bibliotheques-frameworks/symfony2/doctrine2/reference-circulaire-entre-entites-integrity-constraint-violation-1451-a/)，我解决了这个问题。

我需要在 @ORM\JoinColumn添加**nullable=true** & **onDelete="SET NULL"**

这是可行的配置，也许它会帮助某人：

```
#User.
    /**
     * @ORM\OneToMany(targetEntity="\sfCommands\ContentBundle\Entity\Application", mappedBy="user", cascade={"remove"}, orphanRemoval=true)
     * @ORM\OrderBy({"name" = "ASC"})
     */
    protected $applications;

    /**
     * @ORM\OneToOne(targetEntity="\sfCommands\ContentBundle\Entity\Entity")
     * @ORM\JoinColumn(name="entity1_id", referencedColumnName="id", nullable=true, onDelete="SET NULL")
     */
    private $entity1;

    /**
     * @ORM\OneToOne(targetEntity="\sfCommands\ContentBundle\Entity\Entity")
     * @ORM\JoinColumn(name="entity2_id", referencedColumnName="id", nullable=true, onDelete="SET NULL")
     */
    private $entity2;

#Application.
    /**
     * @ORM\OneToMany(targetEntity="\sfCommands\ContentBundle\Entity\Bundle", mappedBy="application", cascade={"remove"}, orphanRemoval=true)
     * @ORM\OrderBy({"name" = "ASC"})
     */
    protected $bundles;

    /**
     * @ORM\ManyToOne(targetEntity="\sfCommands\UserBundle\Entity\User", inversedBy="applications", cascade={"persist"})
     * @ORM\JoinColumn(name="user_id", referencedColumnName="id", nullable=true, onDelete="SET NULL")
     */
    protected $user;

#Bundle.
    /**
     * @ORM\ManyToOne(targetEntity="\sfCommands\ContentBundle\Entity\Application", inversedBy="bundles", cascade={"persist"})
     * @ORM\JoinColumn(name="application_id", referencedColumnName="id", nullable=true, onDelete="SET NULL")
     */
    protected $application;

    /**
     * @ORM\OneToMany(targetEntity="\sfCommands\ContentBundle\Entity\Entity", mappedBy="bundle", cascade={"remove"}, orphanRemoval=true)
     * @ORM\OrderBy({"name" = "ASC"})
     */
    protected $entitys;

#Entity.
    /**
     * @ORM\ManyToOne(targetEntity="\sfCommands\ContentBundle\Entity\Bundle", inversedBy="entitys", cascade={"persist"})
     * @ORM\JoinColumn(name="bundle_id", referencedColumnName="id", nullable=true, onDelete="SET NULL")
     */
    protected $bundle; 
```

* * *

## 回答 #2

> 赞同：23
> 
> 时间：2015-03-11T04:58:56.640

如果您使用注释，请使用 onDelete="CASCADE"

```
/**
 * @ORM\ManyToOne(targetEntity="Report", inversedBy="responses")
 * @ORM\JoinColumn(name="reportId", referencedColumnName="id",onDelete="CASCADE")
 */ 
```

如果您使用的是 yml，请使用 onDelete: CASCADE

```
joinColumn:
      name: pid
      referencedColumnName: id
      onDelete: CASCADE 
```

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2013-11-12T09:55:46.907

onDelete="CASCADE" 也可以正常工作。但是不要忘记在数据库级别更改生效之前运行 app/console 学说：模式：更新 --force。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2014-07-15T20:56:42.777

orphanRemoval 有时不起作用，因为它取决于 (被安排在) `PersistencCollection`。我们可能会打电话给`ArrayCollection#removeElement()`.

以下是部分截图`PersistencCollection#remove()`

```
 if ($this->association !== null &&
        $this->association['type'] & ClassMetadata::TO_MANY &&
        $this->owner &&
        $this->association['orphanRemoval']) {
        $this->em->getUnitOfWork()->scheduleOrphanRemoval($removed);
    } 
```

而 ArrayCollection 不这样做。

# git - Git clone --recursive 没有列出二级子模块

> ID：14257010
> 
> 赞同：1
> 
> 时间：2013-01-10T11:33:56.703
> 
> 标签：git, recursion, clone, git-submodules

子模块的克隆无法正常工作。我有一个主 git 存储库并添加了两个存储库作为子模块。在该子模块存储库中我也有一些存储库。

例如：Repo main -> submodule repo A（A 有两个 repos 作为子模块 B 和 C）。

（我执行了添加和更新子模块的所有必要步骤）

克隆时（git clone –recursive git @IP…:Repo main）

它列出了子模块 repo A。然后我做了 cd A: 但没有列出 A 内的 Repos（即：B 和 C）。克隆后我也做了 git pull。

但我可以分别克隆子模块 repo B 和 C。

# ruby - 如何使用 selenium webdriver 打开弹出窗口表？

> ID：14257012
> 
> 赞同：0
> 
> 时间：2013-01-10T11:34:06.120
> 
> 标签：ruby, selenium-webdriver, watir-webdriver, ruby-1.9.3, firewatir

有`text label`一个网页，我试图点击它打开一个弹出窗口，但没有打开。这是`HTML`代码：

```
<td width="40%">
  <div id="EmpId.outline">
    <input type="hidden" name="EmpId" value="" id="popupEmpId">
    <input type="text" name="EmpCode" value="" readonly="readonly" class="textMedium250" id="popupEmpCode" autocomplete="off">&nbsp;<a href="#f2"><label  onclick="checkForPopup('EmpPopupDiv','Select a Emp',640,true,refreshConditionOptions);">&nbsp;+&nbsp;Search&nbsp;for&nbsp;a&nbsp;Emp</label> </a>
 </div>
</td> 
```

我必须点击标签`+ Search for a Emp`，但不能这样做。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-11T16:10:34.040

尝试通过 xpath 查找元素并单击。根据您的示例，查找/单击的 xpath 应该是这样的：

```
"//a[@href='#f2']" 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-10T16:16:20.307

```
<td width="40%">
  <div id="EmpId.outline">
    <input type="hidden" name="EmpId" value="" id="popupEmpId">
    <input type="text" name="EmpCode" value="" readonly="readonly" class="textMedium250" id="popupEmpCode" autocomplete="off">&nbsp;<a href="#f2" onclick="checkForPopup('EmpPopupDiv','Select a Emp',640,true,refreshConditionOptions);"><label  >&nbsp;+&nbsp;Search&nbsp;for&nbsp;a&nbsp;Emp</label> </a>
 </div>
</td> 
```

# android - 如何在android的表格布局中动态合并一个单元格中的行？

> ID：14257020
> 
> 赞同：7
> 
> 时间：2013-01-10T11:34:19.683
> 
> 标签：android, android-layout, android-tablelayout

如何使用表格布局在 android 中获得以下功能。如图所示，我需要动态合并**第 5 行 - 第 1 列**和**第 6 行**- 第 1 列中的两个单元格，并且我必须在那里替换一个图像。我怎样才能做到这一点？感谢您的回答。

![合并两个单元格](../Images/4c99d0c41b54402b170d908053fc8e58.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2014-04-22T12:25:06.043

使用 GridLayout 而不是 TableLayout。您可以使用 GridLayout 轻松合并单元格。 [http://developer.android.com/reference/android/widget/GridLayout.html](http://developer.android.com/reference/android/widget/GridLayout.html)

# html - 浏览器缩放如何影响 CSS 中定义的像素？

> ID：14257021
> 
> 赞同：6
> 
> 时间：2013-01-10T11:34:21.690
> 
> 标签：html, css, zooming

例如：我有一个宽度为 300px 的元素。然后，如果我放大，我仍然有宽度为 300px 的元素，但每个 css 像素都会更大。但是如果我设置 max-width: 1000px 然后将在某一时刻放大元素开始缩小宽度。为什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2017-12-14T09:05:46.540

这样做的原因是因为 max-width 是为了防止元素缩放到 1000px 以上，只要容器宽度或屏幕小于 1000px，元素就会响应 50% 的宽度。

```
element {
    width: 50%;
    max-width: 1000px;
} 
```

当设置 300px 的固定宽度时，元素不再响应并且无法根据屏幕的缩放或调整大小来调整大小。因此，当放大元素时会保留它的大小，因此在下面的代码中，最大宽度不相关，因为元素永远不会超过 300 像素。

```
element {
    width: 300px;
    max-width: 1000px;
} 
```

如果您有任何问题，请告诉我。

# oracle - oracle中的无效对象

> ID：14257026
> 
> 赞同：0
> 
> 时间：2013-01-10T11:34:38.970
> 
> 标签：oracle

当我尝试编译这个包体时

```
PROCEDURE send (
    p_rtOldData_i IN AAA_AIRPORTPARAMETERS%ROWTYPE,
    p_rtNewData_i IN AAA_AIRPORTPARAMETERS%ROWTYPE,
    p_sProducer_i IN VARCHAR2 := USER,
    p_iPriority_i IN PLS_INTEGER := EVMTransport.m_cnDefPriority
  ); 
```

我收到以下错误：

> 对象名称 EVMTransport.m_cnDefPriority 无效

我需要知道该怎么做，这意味着什么以及如何解决？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-10T15:20:54.100

如果 EVMTransport 是一个包，则意味着它是无效的。尝试重新编译此包并解决错误（如果有）。

# c# - 重定向到新页面 ASP.NET

> ID：14257033
> 
> 赞同：0
> 
> 时间：2013-01-10T11:35:10.503
> 
> 标签：c#, javascript, asp.net

单击按钮后，我在尝试重定向到新页面时遇到问题。但是这个按钮也将我的数据表保存到一个 excel 文件中。我希望它能够同时保存和重定向。

这是按钮的 .CS 文件中的代码

```
 protected void SaveButton_Click(object sender, EventArgs e)
    {
       this.SaveExcel();
       Response.Redirect("Default.aspx", true);
    } 
```

同样在 .aspx 页面中我有这个

```
<asp:Button ID="SaveButton" runat="server" Text="Save" 
    onclick="SaveButton_Click" Enabled="False" onclientclick="needToConfirm=false"/> 
```

如您所见，我有一个需要的 onlclientclick 功能。

我尝试过使用 javascript 以及 Server.Transfer 方法。有没有人知道如何做到这一点？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-10T11:55:41.537

您`OnClientClick`应该采用以下格式。

```
OnClientClick="needToConfirm(); return false" 
```

如果这不起作用，则您的 JavaScript 中存在错误，导致您的 c# 代码无法触发。

# asp.net - JSON 日期到 asp.net DateTime 在运行时更改

> ID：14257034
> 
> 赞同：0
> 
> 时间：2013-01-10T11:35:12.943
> 
> 标签：asp.net, json, datetime, culture

我四处寻找，我真的不确定为什么会发生这种情况。

大多数情况下，我的应用程序在使用 GMT 的设备上以 GMT 运行，但我只是在新加坡建立了一个服务器，所以时间提前了 8 小时。我看到从 JSON 解析的 DateTime 对象的一些奇怪行为：

我的应用收到这样的 JSON (ISO 8601) 日期：

> LastSync=2013-01-10T11:05:38.822Z

我正在使用一个简单的 .asmx Web 服务，它使用 .Net 3.5 的内置 JSON 序列化程序，自动解析的 DateTime 对象返回的日期比 JSON 所说的要早 8 小时。这是功能：

```
<WebMethod()> _
<ScriptMethod(ResponseFormat:=ResponseFormat.Json)> _
 Public Function SyncFlatTable(ByVal tableName As String, ByVal LastSync As DateTime)
    Return WebServiceJSON.SyncFlatTable(tableName, LastSync)
End Function 
```

如您所见， LastSync as DateTime 参数的值是提前 8 小时：

![LastSync 截图](../Images/8dfc898018b33ffb45cda6e18baf8284.png) 奇怪的是，如果我返回 Now()，来自 Web 服务的 JSON 输出是：

> newLastSend=/日期(1357817197087)/

使用时间戳到日期在线转换器不再提前 8 小时。

这是IIS的错吗？我看不到任何其他文化设置，其他一切都是中性的，为什么要更改日期？我该如何阻止它，或者我必须接受我所得到的并将日期调整为不变的文化日期？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-19T06:51:36.123

我也遇到了这个问题，我最终使用了 sting 类型来传入/传出日期信息。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-22T04:19:21.900

似乎在任何日期对象上调用 .toJSON ，当它转换为字符串表示时，它是使用本地日期完成的。我需要将其调整为 UTC，以便在转换时使用服务器的日期：

```
function removeDateUTCOffSetForServer(obj) {
if (obj) {
    for (prop in obj) {
        if (obj[prop] instanceof Date) {
            var d = obj[prop];
            var utc = new Date(d.getTime() - (d.getTimezoneOffset() * 60000));
            obj[prop] = utc;
        }
    }
}
return obj; 
```

}

# android - Android 操作系统阻止了我的网络包

> ID：14257035
> 
> 赞同：0
> 
> 时间：2013-01-10T11:35:14.213
> 
> 标签：android, google-maps, timer, threadpool

我的应用程序通过计时器发送 GPS 数据。有时我会挡住屏幕。

现在使用一些手机，只有有时我会遇到操作系统以某种方式阻止数据包并且仅在屏幕解锁时才释放它们的问题。消息仍在从应用程序发送，但仅在 android 中停止。

任何人都知道为什么会发生这种情况以及我该如何阻止它？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-10T11:43:05.540

这些设备是否有可能进入睡眠状态（或让无线电进入睡眠状态）？您是否尝试过设置唤醒锁来防止这种情况？ [https://developer.android.com/reference/android/os/PowerManager.WakeLock.html](https://developer.android.com/reference/android/os/PowerManager.WakeLock.html)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-10T11:46:38.887

我怀疑你的应用程序进入睡眠状态，或者你的 wifi。有些应用程序专门设计用于让您的 wifi 保持活跃，所以我怀疑它确实会休眠。如果我要创建 wifi，我肯定会在无话可说时让它睡觉。

要测试下载其中一个应用程序。当您的应用程序进入睡眠状态时，它会写入日志文件。

对不起，我不能给出具体的答案。我已将此作为评论发布，但我太新了，无法做到这一点。

# jquery - 使用 jquery 向上滑动 div/span 的内容

> ID：14257037
> 
> 赞同：1
> 
> 时间：2013-01-10T11:35:18.690
> 
> 标签：jquery, html, slideup

我想要 div/span 内的内容的上滑和上滑效果。例如，

**HTML 代码：**

```
<span id="test" style="background-color:#212121;" ></span> 
```

**查询：**

```
 $("#test").text('testContent').slideUp(600); 
```

从上面的代码中，我只希望“testcontent”向上滑动，但是，我的整个跨度都向上滑动。谁能帮我 ？？？？？？？？？

**注意：** 如果我使用淡入/淡出效果，它可以正常工作。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-10T11:40:13.547

`<span>`如果你想实现这一点，你应该将该内容添加到另一个元素中

```
$('<span>testContent</span>').appendTo("#test").slideUp(600); 
```

# sencha-touch - 如何遍历 Ext.dataview.List 中的项目列表

> ID：14257040
> 
> 赞同：3
> 
> 时间：2013-01-10T11:35:28.490
> 
> 标签：sencha-touch, sencha-touch-2

我目前正在尝试找出如何在 ST2 的列表中设置要选择的项目。我发现了以下内容：

```
l.select(0, true);
l.select(1, true); 
```

这将选择我列表中的前 2 个项目。但是来自服务器的数据是 csv 格式的字符串，其中包含要选择的列表中项目的 ID。

```
e.g. "4, 10, 15" 
```

所以我目前有这个代码。

```
doSetSelectedValues = function(values, scope) {
    var l = scope.getComponent("mylist");
    var toSet = values.split(",");

    // loop through items in list
    // if item in list has 'id' property matching whatever is in the toSet array then select it.
} 
```

问题是我似乎找不到迭代列表中项目的方法，然后检查项目的“id”属性以查看它是否与数组中的项目匹配。

```
l.getItems() 
```

似乎没有返回一组项目。该列表通过具有“id”和“itemdesc”属性的商店填充。我只想能够从 csv 字符串中选择这些项目。我已经对此进行了 Api 搜索，但似乎无法找到一种方法来迭代列表中的项目并能够检查其支持数据。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-10T17:24:19.890

的`Ext.List`项目不是您要查找的项目。对象下的项目`Ext.List`是：

```
Ext.create('Ext.List', {
    fullscreen: true,
    itemTpl: '{title}',
    store: theStore,
    **items: [item1, item2]**
}); 
```

当然，通常`Ext.List`没有这样的项目。您正在寻找的是**`Ext.Store`**物品。这些`Ext.Store`项目是完全相同的项目，其顺序与`Ext.List`. 要遍历这些，并在列表中选择相应的项目，请执行以下操作：

```
var s = l.getStore();
var itemIndicesToSelect = [];
for (var i = 0 ; i < s.data.items.length ; i++){
    if (arrayContainsValue(toSet, s.data.items[i].data.id)){
        itemIndicesToSelect.push(i);
    }
}

for (var i = 0 ; i < itemIndicesToSelect.length ; i++){
     l.selectRange(itemIndicesToSelect[i], itemIndicesToSelect[i], true);
} 
```

您必须实现函数 arrayContainsValue （[一种可能的解决方案](https://stackoverflow.com/questions/1181575/javascript-determine-whether-an-array-contains-a-value)）。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-10T13:32:01.547

```
doSetSelectedValues = function(values, scope) {

    var l = scope.getComponent("mylist"),
        store = l.getStore(),
        toSet = values.split(",");

    Ext.each(toSet, function(id){
        l.select(store.getById(id), true);
    });

} 
```

# php - 如何获得一张照片上的 Facebook 点赞总数？

> ID：14257042
> 
> 赞同：-1
> 
> 时间：2013-01-10T11:35:35.663
> 
> 标签：php, facebook-like, facebook-fql

如何使用 PHP api 获取用户所有照片的 facebook 喜欢总数有什么建议？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-10T11:45:53.800

我是这样处理的：

```
<?php
 // the url to check how many likes
$url = 'url of image';
// build the facebook query
$fburl = "http://api.facebook.com/method/fql.query?query=select%20like_count%20from%20link_stat%20where%20url='$url'&format=atom";
// grab the atom dump via facebook api url call above
$ch = curl_init($fburl); // url for page
curl_setopt($ch,CURLOPT_RETURNTRANSFER,true);
$atom_data = curl_exec($ch);
// it returns something like this:
/* <fql_query_response xmlns="http://api.facebook.com/1.0/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" list="true"> 
<link_stat> 
 <like_count>9</like_count> 
</link_stat> 
</fql_query_response>  */  
preg_match('#like_count>(\d+)<#',$atom_data,$matches);
$like_count = $matches[1]; 
echo "The image has ".$like_count." likes on facebook";

// OPTION 2 >>> keeping it to a 1 liner:
$data = json_decode(file_get_contents("http://api.facebook.com/method/fql.query?query=select%20like_count%20from%20link_stat%20where%20url='$url'&format=json"));
echo "The image has " . $data[0]->like_count . " likes on facebook";

 ?> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-10T13:43:25.400

我想这可以通过查询[`photo`](https://developers.facebook.com/docs/reference/fql/photo)FQL 表并查找 like_info 结构，特别是 like_count 来实现。因此，类似下面的查询应该可以工作：

```
SELECT object_id, album_object_id, like_info.like_count FROM photo WHERE album_object_id IN (
    SELECT object_id FROM album WHERE owner = me()
) 
```

这将返回如下内容：

```
Array
(
    [data] => Array
        (
            [0] => Array
                (
                    [object_id] => XXX
                    [album_object_id] => YYY
                    [like_info] => Array
                        (
                            [like_count] => 7
                        )

                )

            [1] => Array
                (
                    [object_id] => XXX
                    [album_object_id] => YYY
                    [like_info] => Array
                        (
                            [like_count] => 9
                        )

                )

            [2] => Array
                (
                    [object_id] => XXX
                    [album_object_id] => YYY
                    [like_info] => Array
                        (
                            [like_count] => 1
                        )

                )
        )
) 
```

从这里开始，应该是一个直接的循环来获取最多喜欢的照片。

* * *

更新：基于@cpilko添加，这应该工作：

```
SELECT object_id, album_object_id, like_info.like_count FROM photo WHERE album_object_id IN (
    SELECT object_id FROM album WHERE owner = me()
) ORDER BY like_info.like_count DESC LIMIT 1 
```

# android - MapView 在适用于 Android 的 GoogleMaps API v2 中显示空图块

> ID：14257047
> 
> 赞同：4
> 
> 时间：2013-01-10T11:35:55.680
> 
> 标签：android, google-maps-android-api-2

我正在将我的应用程序迁移到新的 Google 的 Android API。我决定使用 MapView 而不是 Fragment，因为地图是 Fragment 的一部分。我已经成功地使用 MapFragment 显示地图，但是当尝试对 MapView 执行相同操作时，它只显示空图块。有人知道我缺少什么吗？这些是 Manifest 文件中的权限：

```
<permission android:name="com.beezer.permission.MAPS_RECEIVE" 
                 android:protectionLevel="signature"/>
<uses-permission android:name="android.permission.ACCESS_FINE_LOCATION" />
<uses-permission android:name="android.permission.ACCESS_COARSE_LOCATION" />
<uses-permission android:name="android.permission.INTERNET" />
<uses-permission android:name="android.permission.CALL_PHONE" />
<uses-permission android:name="android.permission.ACCESS_NETWORK_STATE" />
<uses-permission android:name="com.beezer.permission.MAPS_RECEIVE" />
<uses-permission android:name="com.google.android.providers.gsf.permission.READ_GSERVICES"/>
<uses-permission android:name="android.permission.WRITE_EXTERNAL_STORAGE"/> 
```

我在日志中没有收到任何错误。

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2013-01-13T16:20:03.663

您是否转发了此处编写的所有 Activity 生命周期方法 [https://developers.google.com/maps/documentation/android/map#mapview](https://developers.google.com/maps/documentation/android/map#mapview)

“这个类的用户必须将所有的Activity生命周期方法——例如onCreate()、onDestroy()、onResume()和onPause()——转发给MapView类中的相应方法。”

```
@Override
public void onViewCreated(View view, Bundle savedInstanceState) {
    super.onViewCreated(view, savedInstanceState);
    mapView.onCreate(savedInstanceState);
    try {
       MapsInitializer.initialize(mContext);
    } catch (GooglePlayServicesNotAvailableException e) {
       e.printStackTrace();
    }
 }

@Override
public void onPause() {
    super.onPause();
    mapView.onPause();
}

@Override
public void onResume() {
   super.onResume();
   mapView.onResume();
}

@Override
public void onDestroy() {
    super.onDestroy();
    mapView.onDestroy();
} 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-01-12T17:54:59.303

我只能解决两个问题：

1.  您构建的签名与您的地图 api 密钥不匹配
2.  您没有在 MapActivity 中使用 MapView。否则它将无法正常工作。

# javascript - 防止多个 AJAX 请求

> ID：14257051
> 
> 赞同：2
> 
> 时间：2013-01-10T11:36:06.090
> 
> 标签：javascript, html, ajax, event-handling, mootools-events

问题：AJAX 调用被多次调用，尽管它被调用了一次。

功能：我通过单击按钮进行 AJAX 调用（mootools Request.JSON）。初始呼叫完成，但是有多个呼叫被启动。次数是随机的，即有时为 2 或 3。

其他 AJAX 调用也存在此问题。我如何防止这些额外的电话？

我在某处读到了有关绑定/取消绑定 AJAX 调用的信息，但我很信服

![在此处输入图像描述](../Images/63b529ef8a4cd6b99394020a76823daa.png)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-10T13:30:53.113

我高度怀疑这是由于事件传播/冒泡（由于嵌套元素。）

例如，请参阅我的小提琴：http: [//jsfiddle.net/FHRv7/1/](http://jsfiddle.net/FHRv7/1/)

所有 DIV 都被告知在点击时显示警报。通过单击 A 或 B，您会注意到出现了三个警报。这是因为您不仅要为包含字母的框触发事件，还要为出现在它们下方的两个框触发事件。

然而，C 已经设置为通过使用`e.stopPropagation();`which 告诉 jQuery/Javascript 不要再处理任何事件来取消传播。

我希望这有帮助？

加夫

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-10T11:50:31.557

找出触发 ajax 调用的原因和位置，然后找出触发该触发器的原因并防止该触发器多次触发。但如果没有您的代码，我们无法真正帮助您。

# 编辑

这可能会有所帮助： [http ://api.jquery.com/jQuery.ajaxPrefilter/](http://api.jquery.com/jQuery.ajaxPrefilter/)

甚至还有一个示例与您同时多次触发请求的问题完全匹配。

# jquery - jQuery 不适用于 元素，但不是元素

> ID：14257054
> 
> 赞同：1
> 
> 时间：2013-01-10T11:36:12.110
> 
> 标签：jquery, element

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-10T11:38:52.923

我认为您在使用`<a>`标签时不会阻止默认事件，因此请尝试执行以下操作：

```
$(function() {
   $("#OfficeNav-Bath").click(function(e){
     e.preventDefault();
     $('.office').removeClass('visible');
   });           
}); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-10T11:38:39.273

您必须添加到点击事件一个简单的事情：

```
e.preventDefault(); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-10T11:39:27.243

单击锚元素时，浏览器会尝试导航到锚`href`属性指向的 URL。

`preventDefault`可以使用事件处理程序作为参数接收的`event`对象上的方法来覆盖此行为。

```
$("#OfficeNav-Bath").click(function(event){
    event.preventDefault();
    ...
}); 
```

# json - 使用 ASP Xtreme Evolution 迭代 JSON 返回

> ID：14257055
> 
> 赞同：0
> 
> 时间：2013-01-10T11:36:12.550
> 
> 标签：json, asp-classic

我正在尝试使用带有 ASP Xtreme Evolution JSON Parser [https://github.com/nagaozen/asp-xtreme-evolution/blob/master/lib/axe/classes/Parsers/json2.asp的经典 ASP 解析来自 Twitter 的返回](https://github.com/nagaozen/asp-xtreme-evolution/blob/master/lib/axe/classes/Parsers/json2.asp)

为简单起见，这里有一个修剪过的 JSON 返回：

```
[{
    "user": {
    "id": 19720970
    }
}, {
    "user": {
    "id": 201195798
    }
}, {
    "user": {
    "id": 19768935
    }
}] 
```

我需要做的是遍历每个`user`以发现`id`. 到目前为止我得到的最好的只返回最后一个`id`：

```
dim Info : set Info = JSON.parse(join(array(jsonResponse)))
dim key : For Each key in Info.user.keys()
    Response.Write Info.user.id & "<br>" 'only 19768935 is printed
Next
set Info = nothing 
```

有没有人有任何想法如何退休`id`？

第二个查询（但不那么紧急）是，如果我删除了外围方括号，我只能解析它。为什么会这样，有没有办法用它们来解析它？

非常感谢贾斯汀

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-10T15:49:26.317

感谢所有关注这个问题的人。

在尝试了很多事情（包括即时重新格式化响应）之后，我找到了解决我问题的相当简单的答案：

```
For Each key in Info.keys()
    Response.Write Info.get(key).user.id & "<br />"
Next 
```

希望对将来的任何人有所帮助:-)

# cassandra - CQL 期望设置空错误

> ID：14257056
> 
> 赞同：-1
> 
> 时间：2013-01-10T11:36:16.513
> 
> 标签：cassandra, cql

我正在尝试使用 CQL 将 cassandra 数据导出到文件。但我收到“**期待设置为空**”错误。我的键空间名称和列族名称相同。![在此处输入图像描述](../Images/7a28835f5069751e99b47399b00a3556.png)

卡桑德拉版本：1.1.2

实际上我需要将 cassandra 数据导出为 csv 或任何格式。但我尝试了大多数导出命令。但得到同样的错误。键空间名称和列族名称相同，这是一个问题吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-10T18:32:52.573

您应该做的第一件事是升级到 1.1.8。如果这仍然不起作用，请在[https://issues.apache.org/jira/browse/CASSANDRA](https://issues.apache.org/jira/browse/CASSANDRA)提交错误报告。

# ajax - WordPress 摘录 - Javascript - PHP - Ajax？

> ID：14257059
> 
> 赞同：0
> 
> 时间：2013-01-10T11:36:26.013
> 
> 标签：ajax, wordpress, responsive-design

我在我的 WordPress 主题的 home.php 文件中创建了这个脚本，以计算`div`与数字（1.408）相关的宽度值。此操作为我提供了结果（内部`$chars`变量）来确定要在响应式设计的摘录中使用的字符数。如果`div`更大或更薄，我的 WordPress 摘录会有不同数量的字符。

这是我在 HOME.PHP 上发布的代码。Javascript 后跟 PHP 代码摘录。我知道如果没有 Ajax（在其他论坛上阅读），PHP 中的 javascript 变量是不可能的，但我不明白到底该怎么做。我不太擅长代码。请清楚，如果可能的话，请举一些例子！

```
<script type='text/javascript'>
jQuery(document).ready(function() {
var $myDiv = jQuery('#last_post_img_text');
var $results = jQuery('#results');
var $chars = jQuery( $myDiv.outerWidth()/1.408 );
</script>       

<?php new_excerpt( $chars ); ?> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-10T13:32:21.247

使用 Ajax 重新加载评论似乎是一个糟糕的决定。您为什么要继续重新加载并没有真正改变的内容。我认为你最好的选择是使用 jQuery 插件。

似乎可以满足您的要求的是[http://www.bramstein.com/projects/text-overflow/](http://www.bramstein.com/projects/text-overflow/)。

或者，您可以查看 CSS3 属性“文本溢出”（http://www.w3schools.com/cssref/css3_pr_text-overflow.asp）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-10T14:07:02.423

我建议一种方法：加载页面，检查容器元素的宽度和高度，然后使用 $.ajax 加载元素内容，并发送某种变量来决定使用多少个字符。如果您想以 WordPress 方式进行操作，请阅读：

```
add_action('wp_ajax_$handlename', 'function_to_run');
add_action('wp_ajax_nopriv_$handlename', 'function_to_run'); 
```

这将响应您的 ajax 请求。

```
wp_enqueue_script( 'theme_js', get_bloginfo('template_url') . '/js/jquery-theme.js', array('jquery'), THEME_VERSION, false );
$protocol = isset( $_SERVER["HTTPS"] ) ? 'https://' : 'http://';
$params = array( 'ajaxurl' => admin_url( 'admin-ajax.php', $protocol )  );
wp_localize_script( 'theme_js', 'theme_js', $params ); 
```

如果您不知道如何将 wp-ajax.php 本地化发送到 jQuery $.ajax 请求，这可能会派上用场。

# java - 使用 JodaTime 计算每个间隔

> ID：14257072
> 
> 赞同：2
> 
> 时间：2013-01-10T11:37:35.177
> 
> 标签：java, jodatime

我有一个`Map<DateTime,Integer> rawCount`，其中包含每个日期的原始计数（a `time-series`）。

我想构建一个聚合映射，其中包含特定时间间隔内的计数。

例如，如果`duration = (1000*1*60*60)`和`start = new DateTime()`此映射将包含从现在到 rawCount 映射中的最后一个日期的每小时总计数。

我正在使用`JodaTime`, as `Interval`is not Comparable 并且我希望地图从最近到最旧的日期进行排序，使用 a`TreeMap`是不可能的。

我很困惑哪个`Object`最适合我的用例（`Interval`合适？）以及如何编写这个函数。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-10T11:48:25.957

这就是我将如何解决它。

```
Map<DateTime,Integer> rawCount = ....
DateTime start = ....
long duration = 1*60*60*1000;

DateTime lastDate = start;
// find the last date
for (DateTime dateTime : rawCount.keySet()) {
    if (dateTime.isAfter(lastDate))
        lastDate = dateTime;
}
int intervals = (int) ((lastDate.getMillis() - start.getMillis())/duration) + 1;
int[] counts = new int[intervals];
for (Map.Entry<DateTime, Integer> entry : rawCount.entrySet()) {
    DateTime key = entry.getKey();
    int interval = (int) ((key.getMillis() - start.getMillis()) / duration);
    counts[interval] += entry.getValue(); 
} 
```

# php - 从多个大型 XML 文件中获取信息

> ID：14257076
> 
> 赞同：1
> 
> 时间：2013-01-10T11:37:52.563
> 
> 标签：php, xml, foreach

我正在尝试从外部大型 xml 文件中获取信息；从文件 1 ( **vehicleList.xml** ) 和文件 2 ( **CheckVehicles.xml** ) 到 PHP 文件。XML 文件 2 中的所有值都在 XML 文件 1 中。我只想显示文件 1 中 XML 文件 2 中的值。

我的`foreach`循环代码最多可以带来 130 个项目的结果（也就是说，如果我将 XML 文件 2 中的项目减少到 130 个项目/节点）。但是，如果我删除 if 语句，我可以从 XML 文件 1 中获取所有 3340 项/车辆。

我哪里错了？我尝试了数组但失败了。

这是我的代码：

```
//XML FILE 1 with 1300 items
$myXML = new SimpleXMLElement('CheckVehicles.xml', NULL, TRUE);//
foreach($myXML->root->item as $item){
        $listArrayNew[(int)$item->value] = (int)$item->value;
}

//XML FILE 2 with 3340 vehicles
$parser = new SimpleXMLElement('vehicleList.xml', NULL, TRUE);
foreach ($parser->GetVehiclesListResponse->GetVehiclesListResult->Vehicle as $Vehicle) {
    if($listArrayNew[(int)$Vehicle->ID] == (int)$Vehicle->ID){
        $vehicle    = $Vehicle->Description;    
        $regNumber  = $Vehicle->RegistrationNumber; 
        $siteID     = $Vehicle->SiteID;     
        $row       .= "<tr>
                            <td>".$vehicle."</td>
                            <td>".$regNumber."</td>
                            <td>".$siteId."</td>
                        </tr>"; 

    }
} 
```

以下是 XML 文件：

XML 文件 1：**vehicleList.xml**

```
<?xml version="1.0" encoding="utf-8"?>
<soap:Envelope>
  <GetVehiclesListResponse>
    <GetVehiclesListResult>
      <Vehicle>
        <ID>153</ID>
        <SiteID>11</SiteID>
        <GroupID>3</GroupID>
        <Description>A.O Basid KAR 459 E</Description>
        <RegistrationNumber>KAR 459 E</RegistrationNumber>
      </Vehicle>

      ..............................

      <Vehicle>
        <ID>3340</ID>
        <SiteID>25</SiteID>
        <GroupID>4</GroupID>
        <Description>UAR 712B White Nissan Tiida (Deus Mubangizi)</Description>
        <RegistrationNumber>UAR 712B</RegistrationNumber>
      </Vehicle>
    </GetVehiclesListResult>
  </GetVehiclesListResponse>
</soap:Envelope> 
```

XML 文件 2：**CheckVehicles.xml**

```
<?xml version="1.0" encoding="utf-8"?>
<Result>
  <root>
    <item>
      <index>0</index>
      <value>153</value>
    </item>

   ...................

    <item>
      <index>1300</index>
      <value>128</value>
    </item>
  </root>
</Result> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-10T12:35:40.760

我不知道你的情况哪里出错了。但是，如果您想根据第一个文件中的标准（例如 ID / 唯一编号）从第二个文件中选择元素，我建议您在您的情况下使用 xpath：

*   从第一个文件中获取作为标准的数字（例如`/*/root/item/value`）
*   从第二个文件中选择所有符合条件的元素（例如`ID`in `/*/GetVehiclesListResponse/GetVehiclesListResult/Vehicle`）。

后一点可以通过使用[*XPATH 中概述的技术来最好地实现，例如 SQL “IN”？*](https://stackoverflow.com/q/5021807/367456)这是创建一个逗号分隔的要选择的数字列表，然后将其与每个元素编号进行比较。

*例子：*

考虑在第一个文件中有 10 000 个元素中有 2 500 个，而在第二个文件中有 10 000 个元素。每个元素都可以通过其 ID 唯一标识。

第一个文件有这样的布局：

```
<?xml version="1.0"?>
<root>
    <item>
        <index>0</index>
        <id>604</id>
    </item>
    <item>
        <index>1</index>
        <id>2753</id>
    </item>
    ...
</root> 
```

第二个文件有这个布局。

```
<?xml version="1.0"?>
<list>
    <item>
        <id>1</id>
        <some>Number: 33</some>
    </item>
    <item>
        <id>2</id>
        <some>Number: 35</some>
    </item>
    ...
</list> 
```

因此，从第一个文件中获取所有 ID 的 xpath 查询是：

```
//item/id 
```

第二个文件的查询可以用 PHP 中的 SimpleXML 表示为：

```
$ids   = implode(',', $file1->xpath('//item/id'));
$query = '//item[contains(",' . $ids . ',", concat(",", id, ","))]'; 
```

您可以在此处找到该示例的示例代码：http: [//eval.in/6370](http://eval.in/6370)

# javascript - 使用 HTML 上下文对 Javascript 进行单元测试

> ID：14257077
> 
> 赞同：1
> 
> 时间：2013-01-10T11:37:58.743
> 
> 标签：javascript, unit-testing, jasmine

我目前正在编写一个 javascript 游戏模块，它将以下参数作为构造函数参数：

```
{
  gameId : "string for unique game id",
  cssSelector: "selector for target (used to initialze game)"
 } 
```

**我找到了解决此问题的方法，请参阅下面的新评论**

我对其他所有内容都有很好的测试覆盖率，但我不知道如何编写以下 Jasmine 测试：

```
describe("Initialization of game", function() {
        it("Should throw expection if css selector is not found", function() {

           // what goes here?

            //negative scenario
           expect(function(){
                          var game = new Game({gameId : '1', cssSelector : "#not-found"});
                        }).toThrow("Cannot find the element corresponding to cssSelector");

          //positive senario
           expect(function(){
                          var game = new Game({gameId : '1', cssSelector : "#found"});
                        }).not.toThrow("Cannot find the element corresponding to cssSelector");
        }); 
```

**“解决方案”** 我说“解决方案”，因为感觉有点像破解这个问题。我使用了测试在 HTML 中运行并且我可以操纵环境的事实。所以我所做的是：

1.  在负面情况下，使用未找到的说明符。那么第一个期望就不会失败。
2.  在正负测试用例之间，我使用 jQuerys .append() 方法将 id 为“found”的 div 添加到正文

而已！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-10T15:12:11.647

如果您需要更深入的 DOM 测试，Jasmine 不会独自完成。

对于简单的 DOM 要求和单一测试，您可以继续做您正在做的事情。

对于简单但重复的测试，使用`beforeEach`and`afterEach`设置和销毁测试期间需要的 DOM 元素。

除了最简单的 DOM 测试之外，您可以使用类似的东西：[https](https://github.com/jeffwatkins/jasmine-dom) ://github.com/jeffwatkins/jasmine-dom将 Jasmine 扩展到 DOM。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-10T11:41:36.773

也许是因为你`);`在`"#not-found"}`?

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-10T12:15:49.383

在 jQuery 中，这将起作用。如果有这样的 DOM 节点，它的长度将大于 0。

```
var exists = $('cssSelector').length > 0; 
```

# git - 删除不在历史记录中的 git commit

> ID：14257081
> 
> 赞同：0
> 
> 时间：2013-01-10T11:38:19.023
> 
> 标签：git, github

我有这样的事情：

```
A - B - C 
```

我修改了 C 并且我有：

```
A - B - D 
```

而 C 在其他地方浮动，我如何从本地和远程存储库中删除 C？

没有指向 C 的指针。但我可以在 Github 中读取它的哈希值。如何强制垃圾收集并将其推送到远程？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-10T13:42:01.367

来自[github 支持](http://help.github.com/articles/remove-sensitive-data)

> 请注意，强制推送不会删除远程 repo 上的提交，它只是引入新的提交并移动分支指针以指向它们。如果您担心用户直接通过 SHA1 访问错误提交，则必须删除 repo 并重新创建它。

谢谢。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-10T11:40:37.150

在获得具体答案之前，您需要更具体地了解您的实际操作、参考（heads、“指针”）指向哪些提交等。

一般来说，如果没有 refs 指向您的旧提交 C，那么它将及时被垃圾收集。

如果您有指向 C 的 refs 并且您希望 C 消失，则需要删除这些 refs。当然，您需要了解这样做的潜在影响——即其他提交可能会消失。

# php - 如何将 sfWidgetFormDoctrineChoice 扩展为选项卡式小部件

> ID：14257086
> 
> 赞同：0
> 
> 时间：2013-01-10T11:38:25.047
> 
> 标签：php, forms, doctrine, symfony-1.4

我在 Symfony 1.4 中有一个 Doctrine 表格。

**我需要做什么：**

我需要显示我目前使用 sfWidgetFormDoctrineChoice 对象提供的相同选择，但我想在选项卡式视图中显示它们。

我当前的视图如下所示：

```
[ ] option1
[ ] option2
[ ] option1.1
[ ] option1.2
[ ] option1.3
[ ] option2.1
[ ] option2.2
[ ] option2.3
[ ] option2.4 
```

我想像这样向他们展示：

```
+-------------+-------------+
| > option1 < |   option2   |   (tabs, option1 is the currently selected one)
+-------------+-------------+--------------------------+
 [ ] option1.1      (options on first tab)
 [ ] option1.2
 [ ] option1.3
+------------------------------------------------------+ 
```

选项使用`parent`属性相关联。
顶行的那些将是不可检查的，它们`parent`将是`NULL`. 如果我知道如何扩展类，我的意思是，重新定义哪些方法，我想我会设法自己解决这个问题。

**我一直在尝试的：**

这是小部件的类继承：

*sfWidgetFormDoctrineChoice* < *sfWidgetFormChoice* < *sfWidgetFormChoiceBase* < *sfWidgetForm* < *sfWidget*

这是表单的类继承：

*ProductForm* < *BaseProductForm* < *BaseFormDoctrine* < *sfFormDoctrine* < *sfFormObject*

这就是小部件在视图上打印的方式：

```
<?php echo $form['product_type_list'] ?> 
```

问题是，在最后一行中，我认为我会在表单类上找到一些神奇的 __get() 方法，并且（可能）在小部件类上找到一个 __toString() 方法，但我没有找到它们，我仍然不确定如何在 Symfony 1.4 和 Doctrine 中扩展小部件。

有人能指出我正确的方向吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-10T16:33:34.267

我认为您有两种解决该问题的可能性：

首先是编写自己的小部件，它继承自`sfWidgetFormDoctrineChoice`. 因此，您可以`__toString()`根据您的要求实现自定义方法。（见[文档](http://www.symfony-project.org/api/1_4/sfFormField#method___tostring)）

你应该看看`sfWidgetFormChoice`目标方法 self `sfWidgetFormDoctrineChoice`。如果您编写自己的类继承自`sfWidgetFormDoctrineChoice`您可以覆盖方法`render`和`getJavaScripts`. 此外，您可以为这个小部件实现自己的渲染器，它可以制作 js 选项卡和 gui 内容。

第二个选项是，您隐藏默认表单字段并使用 javascript 构建新的表示。您想构建选项卡，所以您应该已经使用 js 来启用它？！

# jquery - 即使在 Asp Net Mvc 4 应用程序中没有 css 文件，Jquery UI css 也会应用

> ID：14257088
> 
> 赞同：1
> 
> 时间：2013-01-10T11:38:29.637
> 
> 标签：jquery, asp.net, .net, asp.net-mvc, asp.net-mvc-4

我正在做一场可怕的噩梦。在我的 Asp Net MVC 4 应用程序中，我正在使用 Bundles 调用 javascripts 和 css 脚本。

我尝试删除选项卡边框没有成功，所以我决定从我的项目中删除所有 jquery ui 文件并猜猜是什么...... Jquery UI 仍然有效。

使 jquery ui 停止工作的唯一方法是从我的 BundleConfig 中删除以下内容：

```
bundles.Add(new StyleBundle("~/Style/css").Include("~/Style/redmond/*.css")); 
```

所以我认为它正在从另一个文件加载css，但我不知道它们在哪里。

我最后一次尝试是从我的项目中删除对 Jquery 和 Jquery UI 包的引用，但我仍然得到相同的行为

有没有人有同样的事情发生在你身上？我是这样的，我该如何解决？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-10T11:46:10.377

浏览器缓存脚本和样式。因此脚本和样式将从缓存中加载并正常工作。

尝试清除浏览器中的缓存：

[清除浏览器缓存](http://www.google.pl/#hl=pl&tbo=d&spell=1&q=clear+browser+cache&sa=X&ei=H6ruUK_KO4eNtAbg8YCoBw&ved=0CCgQvwUoAA&bav=on.2,or.r_gc.r_pw.r_qf.&bvm=bv.1357700187,d.Yms&fp=bfb333c9865f867b&biw=1280&bih=896)

# c++ - 用于查找图像中字符位置的 Python/C++ 库

> ID：14257089
> 
> 赞同：3
> 
> 时间：2013-01-10T11:38:31.613
> 
> 标签：c++, python, image-recognition

我正在寻找一个 Python 或 C++ 库，它将在图像中查找字符并返回这些字符的位置和边界框。如果图书馆碰巧有带有示例的文档，这是一个加号。

图书馆是否能够识别单词并不重要。

这些字符是非混淆的，并且采用简单的字体，例如 Arial。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-10T13:11:36.237

我不知道有一个标准库可以做到这一点。不过，这类任务有各种论文和示例：基本上，您需要对图像进行一些预处理以查找文本，然后确定边界框。例如，请参阅[此 stackoverflow 线程](https://stackoverflow.com/questions/11464397/image-preprocessing-for-text-recognition)以了解某些内容。

[OpenCV](http://opencv.org/)等库可能有助于实现这一点。

# soap - 通过 SOAP 连接到 WebSphere 上的 JMX 的协议提供程序是什么？

> ID：14257109
> 
> 赞同：3
> 
> 时间：2013-01-10T11:39:43.347
> 
> 标签：soap, websphere, jmx

我想使用 SOAP over HTTP 连接器连接到 WebSphere 应用程序服务器实例上的 JMX 服务器，但我不知道在哪里可以找到兼容的 SOAP 协议提供程序。

`MalformedURLException`当我使用 JMXServiceURL 开头时，我得到一个`service:jmx:soap:...`说`Unsupported protocol: soap`. 我需要包含哪些 jar(s)/协议提供程序字符串？

* * *

更新：我正在玩一个独立的 Java 客户端。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-15T08:49:07.690

不幸的是，IBM 只提供了一个专有的 API 来通过 HTTP 与 SOAP 连接。它们没有为该协议提供标准 JMX API 的实现。我遇到了同样的问题，我开发了这样一个连接器（它基本上是一个围绕 IBM 专有 API 的瘦 JMX 兼容包装器），现在可以作为开源使用。您可以在这里找到更多信息：

[https://github.com/kszbcss/xm4was/wiki/JmxClientConnector](https://github.com/kszbcss/xm4was/wiki/JmxClientConnector)

以下文档描述了如何设置标准 JMX 工具 (VisualVM) 以使用该连接器：

[https://github.com/kszbcss/xm4was/wiki/VisualVMHowTo](https://github.com/kszbcss/xm4was/wiki/VisualVMHowTo)

从这些文档中可以看出，在将相关 JAR 添加到类路径并设置必要的系统属性之后，您只需使用`wssoap`as 协议进行连接。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-10T14:10:13.947

检查路径`Application servers > <server_name> > Administration services > JMX connectors`中是否存在相对**SOAPConnector**并且已**启用**。

有关详细信息，请参阅信息[中心](http://pic.dhe.ibm.com/infocenter/wasinfo/v8r0/index.jsp?topic=/com.ibm.websphere.nd.doc/info/ae/ae/cjmx_overview.html)。

# java - ActionPerfmored 中刷新 JPanel 和切换 JTabbedPane

> ID：14257110
> 
> 赞同：0
> 
> 时间：2013-01-10T11:39:50.630
> 
> 标签：java, swing, user-interface, jpanel, jtextfield

```
 private void buttonAddJobActionPerformed(java.awt.event.ActionEvent evt) {                                             

   try {  

       retrieveID();
       String sqlStm = "INSERT INTO Job (employerID,title,description,type,salary,benefits,vacancies,closing,requirement,placement,applyTo,status,posted,location) VALUES (?,?,?,?,?,?,?,?,?,?,?,?,?,?)"; 

       pst = conn.prepareStatement(sqlStm);
       pst.setInt(1,id);
       pst.setString(2,txtTitle.getText());
       pst.setString(3,areaDescription.getText());
       pst.setString(4,comboType.getSelectedItem().toString());
       pst.setString(5,txtSalary.getText());
       pst.setString(6,areaBenefits.getText());
       pst.setString(7,txtVac.getText());
       Date close; 
       close = txtDate.getDate();
       pst.setString(8,sdf.format(close));
       pst.setString(9,areaReq.getText());
       pst.setString(10,comboPlace.getSelectedItem().toString());
       pst.setString(11,txtWeb.getText());
       pst.setString(12,comboStatus.getSelectedItem().toString());
       Date now = new Date();   
       pst.setString(13,sdf.format(now));
       pst.setString(14,txtLoc.getText());
       pst.executeUpdate();
       JOptionPane.showMessageDialog(null,"You have successfully added a job");
       //empty all JTextfields
       //switch to another 
```

我正在尝试清空`JTextFields`JPanel 中的集合，但不是一个一个清空它们，我可以刷新面板吗？如果是这样，你如何做到这一点。我试过了`repaint()`，`revalidate()`这些不起作用。也许我在这里错了。我也想切换`JTabbedPane`到另一个窗格，但是当我尝试使用这个时这不起作用......

```
JTabbedPane sourceTabbedPane = (JTabbedPane) evt.getSource();
       sourceTabbedPane.setSelectedIndex(0); 
```

有人可以展示一个示例代码如何做到这一点。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-10T11:57:51.453

您可以遍历面板中包含的所有组件，如果它们是文本组件，则清除它们的值。代码将是这样的：

```
private void clearTextFields(Container container)
{
    int count = container.getComponentCount();
    for (int i = 0; i < count; i++)
    {
        Component component = container.getComponent(i);
        if (component instanceof Container) {
            clearTextFields((Container) component);
        }
        else if (component instanceof JTextComponent) {
            ((JTextComponent) component).setText("");
        }
    }
} 
```

当您的面板包含另一个包含文本字段的面板时，此方法以递归方式工作并处理这种情况。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-10T11:57:41.113

将所有 JTextField 保存在一个容器中，然后遍历该容器以清空它们。所以，某处：

```
ArrayList<JTextField> textFields = new ArrayList<JTextField>(); 
```

在实际创建所有字段之后（使用`JTextField txtTitle = new JTextField()`或类似）：

```
textFields.add(txtTitle);
textFields.add(areaDescription); 
// ... add all others here 
```

最后，当您需要清除它们时：

```
for (JTextField tf : textFields) {
    tf.setText("");
} 
```

# ruby - 从字符串中提取 URL

> ID：14257111
> 
> 赞同：0
> 
> 时间：2013-01-10T11:39:56.390
> 
> 标签：ruby

我有一个网址：

```
url = "http://timesofindia.feedsportal.com/fy/8at2EuL0ihSIb3s7/story01.htmA" 
```

最后有一些不需要的字符，例如 A，TRE。我想删除它，所以 URL 将是这样的：

```
url = http://timesofindia.feedsportal.com/fy/8at2EuL0ihSIb3s7/story01.htm 
```

我怎样才能删除它们？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-10T12:15:55.840

如果你的网址总是以 结尾`.htm`，`.apsx`或者`.php`你可以用一个简单的正则表达式来解决它：

```
url = url[/^(.+\.(htm|aspx|php))(:?.*)$/, 1] 
```

[**在 Rubular**](http://rubular.com/r/bgZJUbWkEY)进行测试。

首先，我使用[**这种方法**](http://www.ruby-doc.org/core-1.9.3/String.html#method-i-5B-5D)来获取一个子字符串，就像切片一样工作。然后是正则表达式。从左到右：

```
^                   # Start of line
  (                   # Capture everything wanted enclosed
    .+                  # 1 or more of any character
    \.                  # With a dot after it
    (htm|aspx|php)      # htm or aspx or php
  )                   # Close url asked in question
  (                   # Capture undesirable part
    :?                  # Optional
    .*                  # 0 or more any character
  )                   # Close undesirable part
$                   # End of line 
```

# visual-studio-2010 - 用于快速查看预处理或组装输出的 VS 插件

> ID：14257113
> 
> 赞同：0
> 
> 时间：2013-01-10T11:40:06.703
> 
> 标签：visual-studio-2010, visual-studio, macros, automation, visual-studio-macros

我正在寻找一种一键式检查预处理或组装输出的方法。打开文件属性，更改相应设置，编译，转到 obj 目录并手动打开生成的文件，这很乏味。

有谁知道任何 Visual Studio 加载项、宏或任何可以自动执行此任务的东西？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-08T14:46:49.140

编辑：VS 11+ 的扩展可用@ [https://github.com/Trass3r/DevUtils](https://github.com/Trass3r/DevUtils)

我通过创建一个不错的宏自己解决了这个问题。它更复杂，但基本上是这样工作的：

```
Imports EnvDTE
Imports Microsoft.VisualStudio.VCProjectEngine

Dim doc As EnvDTE.Document = DTE.ActiveDocument
Dim prj As VCProject = doc.ProjectItem.ContainingProject.Object

Dim file As VCFile = prj.Files.Item(doc.Name)
Dim fileconfigs As IVCCollection = file.FileConfigurations
Dim fileconfig As VCFileConfiguration = fileconfigs.Item("Release|x64")
Dim tool As VCCLCompilerTool = fileconfig.Tool

Dim asmFile = System.IO.Path.GetTempFileName + ".asm"
tool.WholeProgramOptimization = False
tool.AssemblerOutput = asmListingOption.asmListingAsmSrc
tool.AssemblerListingLocation = asmFile

fileconfig.Compile(True, True)
Dim window = DTE.ItemOperations.OpenFile(asmFile, Constants.vsViewKindCode) 
```

[与AsmHighlighter](https://asmhighlighter.codeplex.com/releases)结合使用非常有用。

预处理文件可以类似地生成

```
tool.GeneratePreprocessedFile = preprocessOption.preprocessYes
' there's no separate option for this, so misuse /Fo
tool.ObjectFile = System.IO.Path.GetTempFileName + ".cpp" 
```

# perl - Ubuntu 中的 Perl 模块安装在哪里？

> ID：14257123
> 
> 赞同：4
> 
> 时间：2013-01-10T11:40:45.127
> 
> 标签：perl, ubuntu, perl-module

在 Windows 中，Perl 模块安装在`C:/Perl64/site/lib/`. 在 Ubuntu 系统中对应的位置是什么？

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2013-01-10T11:52:24.497

要找出模块的安装位置，您可以使用：

```
perl -E'use Some::Module; say $INC{"Some/Module.pm"};' 
```

您`perl`可以`@INC`使用

```
perl -V    # Uppercase "V" 
```

或者

```
perl -E'say for @INC' 
```

我不知道你为什么想知道，所以我不太确定你到底在寻找什么。更详细的问题可能会导致更好的答案。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2013-01-10T12:01:10.783

Perl 库的位置完全取决于安装。Perl 搜索以加载库的文件夹存储在`@INC`数组中，您可以使用

```
perl -E "say for @INC" 
```

在我的安装中，这个输出

```
C:/strawberry/perl/site/lib/MSWin32-x86-multi-thread
C:/strawberry/perl/site/lib
C:/strawberry/perl/vendor/lib
C:/strawberry/perl/lib
. 
```

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2013-01-10T19:30:35.500

`perldoc``-l`可以通过其（小写 ell）开关告诉您任何特定模块的安装位置：

```
% perldoc -l Module::Name 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-01-10T11:45:50.147

您会在`/usr/lib/perl/{VERSION}/`和 中找到它们`/usr/lib64/perl/{VERSION}/`。

`{VERSION}`对应 Perl 的版本。你可以得到它`perl --version`。

# sql - 将两个查询合并为一个以进行分区

> ID：14257126
> 
> 赞同：0
> 
> 时间：2013-01-10T11:40:51.927
> 
> 标签：sql, oracle

我有两个 Oracle 查询。我想将这些查询合并为一个。第一个查询总是给出一条记录作为结果。

1）。

```
select distinct partition_name 
from all_tab_partitions 
where partition_name like 'P_20130110%'; 
```

2）。

```
select feed_id,count(*) 
from str_bill_item partition(result of first query) 
group by feed_id 
order by 1; 
```

实际上 str_bill_item 表有一些存储数据的分区。该分区的名称和名称存储在 all_tab_partition 表中。所以我需要从 all_tab_partition 中获取特定的分区名称，然后在该分区表格 str_billl_item 表中找到数据。

请帮我解决这个问题？

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-10T12:31:02.450

啊，我看到问题是您不能在 partition() 中使用查询

像这样的东西怎么样：

```
DECLARE
  rPartName VARCHAR2(100);
BEGIN

  select distinct partition_name 
  INTO rPartName
  from all_tab_partitions 
  where partition_name like 'P_20130110%';

EXECUTE IMMEDIATE 'select feed_id,count(*)  from str_bill_item partition('|| rPartName ||') group by feed_id order by 1;';

end; 
```

你可以尝试的是：

运行选择而不执行和使用

```
DBMS_OUTPUT.PUT_LINE('select feed_id,count(*)  from str_bill_item partition('|| rPartName ||') group by feed_id order by 1;'); 
```

如果您遇到相同的错误，则将输出作为 select 运行，它位于 sql 查询中的某处

如果不执行有问题。

# c# - 每个日期每个产品的总金额，并以编程方式将其绑定到网格视图 WPF 和 LINQ

> ID：14257129
> 
> 赞同：0
> 
> 时间：2013-01-10T11:40:54.997
> 
> 标签：c#, wpf, linq, gridview, binding

场景：
我需要从代码中构建一个网格视图，该代码将为每一列设置绑定，而我的数据包含每天制造的每种产品的数量（在特定日期之间，但我已经涵盖了）。

问题：
我知道如何通过 XAML 与具有特定属性的类绑定，但这将是动态的，因为我不知道在这些特定日期生产了哪些产品，也不能保证所有这些产品都是。所以我需要构建一个动态（考虑 ObservableCollection）选项，它可以让我将项目及其绑定添加到 ObservableCollection （或任何你认为最适合的）中的简单类。

当前代码：
这是我用来获取产品和金额的简单类，应该适用于每个日期：

```
 public class MonthlyProducts
{
    public string ProductID { get; set; }
    public int Amount { get; set; }
} 
```

现在这就是我知道哪些产品确实是制造出来的：

```
 var ProductsInDates =
                    from Production in context.production
                    where Production.ProductionDate >= dtpStartDate.SelectedDate && Production.ProductionDate <= dtpEndDate.SelectedDate
                    group Production by Production.ProductID into Products
                    select new
                    {
                        ID = Products.Key
                    }; 
```

这就是我构建表的方式，这里是我不确定如何通过代码绑定数据的地方：

```
 foreach (var item in ProductsInDates)
            {
                MonthlyProducts temp = new MonthlyProducts();
                temp.ProductID = item.ID;
                temp.Amount = 0;
                MonthObservable.Add(temp);
                GridViewColumn TempColumn = new GridViewColumn();
                TempColumn.DisplayMemberBinding = new Binding(temp.ProductID);
                TempColumn.Header = temp.ProductID;
                TempColumn.Width = 100;
                MonthlyGridView.Columns.Add(TempColumn);
            } 
```

现在是困难的部分，这是我获得所有制造产品数量的地方（或者我说还没有得到它的外壳，因为我不知道该怎么做）：

```
 var MonthProduction =
                    from Production in context.production
                    where Production.ProductionDate >= dtpStartDate.SelectedDate && Production.ProductionDate <= dtpEndDate.SelectedDate
                    group Production by Production.ProductionDate into MonthlyReport
                    select new
                    {
                        DateID = MonthlyReport.Key,
                        Row = MonthlyReport
                    }; 
```

这只是我试图玩这个。

基本上我需要知道我上面对数据列所做的绑定是否有效，因为我还不能检查它，我需要知道如何在最后一个 LINQ 查询中对每个日期的每个产品求和。

我希望我没有忘记任何事情，如果有，请告诉我，我会提供所有需要的信息。

# url - 如何从 Grails 应用程序的 URL 中删除应用程序名称？

> ID：14257130
> 
> 赞同：8
> 
> 时间：2013-01-10T11:40:55.400
> 
> 标签：url, tomcat, grails, tomcat6, grails-2.0

我有一个应用程序在这样的 URL 上运行：

> [http://myapp.mydomain.com/myapp](http://myapp.mydomain.com/myapp)

我不想要`/myapp`URL 中的部分。那么我怎样才能摆脱应用程序名称呢？我只想

> [http://myapp.mydomain.com](http://myapp.mydomain.com)

成为 URL。我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-01-10T12:28:58.100

有点详细的方法

**第一种方法：**

> 首先关闭你的 tomcat [从 bin 目录 ( `sh shutdown.sh`)] 然后你必须删除你的 tomcat webapps 文件夹 ( `rm -fr *`) 的所有内容，然后重命名你的 WAR 文件以`ROOT.war`最终启动你的 tomcat [从 bin 目录 ( `sh startup.sh`)]

**第二种方法：**

> 将您的战争文件保留在`CATALINA_BASE/webapps`原始名称下 - 在 server.xml 文件的 Host 元素中关闭 autoDeploy 和 deployOnStartup。在 server.xml 中明确定义所有应用程序上下文，同时指定路径和 docBase。您必须这样做，因为您已禁用所有 Tomcat 自动部署机制，并且 Tomcat 将不再部署您的应用程序，除非它在 ​​server.xml 中找到它们的 Context。

**笔记：**

> 最后一种方法还意味着，为了对任何应用程序进行任何更改，您必须停止并重新启动 Tomcat。

**第三种方法：**

> 将您的战争文件放在外面`CATALINA_BASE/webapps`（它必须在外面以防止双重部署）。-放置一个名为`ROOT.xml`.
> `CATALINA_BASE/conf//`此上下文文件中的单个元素必须具有指向您的战争文件位置的 docBase 属性。不应设置 path 元素 - 在本例中，它源自 .xml 文件的名称`ROOT.xml`。有关详细信息，请参阅上面的上下文容器。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-01-10T11:44:56.943

1）您的应用服务器需要配置为将您的 grails 应用程序作为 ROOT 应用程序

2）你的grails应用上下文路径应该是“/”或者app.context=/

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-10T12:14:43.560

您可以通过简单的命名使 Tomcat 将 webapp 用作根上下文`ROOT.war`，即获取`myapp-0.1.war`Grails 生成的并将其复制到`TOMCAT_DIR/webapps/ROOT.war`.

如果您有一个设置，`grails.serverURL`您`Config.groovy`将需要为您的生产环境覆盖它，以确保 Grails 生成的任何绝对链接都是正确的

```
environments {
  production {
    grails.serverURL = 'http://myapp.mydomain.com'
  }
} 
```

`grails.serverURL`但在 Grails 2 中，完全省略并让应用程序在运行时推断出正确的值通常是安全的。仅当您在未通过正确`Host`标头的反向代理后面运行时才需要它。

# javascript - 从另一个 html 文件（使用 javascript/jQuery）列出本地 html 文件并为它们动态创建链接

> ID：14257132
> 
> 赞同：3
> 
> 时间：2013-01-10T11:40:57.947
> 
> 标签：javascript, jquery, html, client-side, static-html

我计划通过双击在浏览器中打开它来创建一个供本地使用的静态 html 文件（没有运行 http 服务器）。

在一个文件夹内（与索引文件位于同一文件夹中），我计划添加“项目”文件，这样当我打开主文件时，它会列出该文件夹内的所有 html 文件，并创建一些带有链接的导航列表到文件。稍后我可以在文件之间添加一些导航（交叉链接），但这是另一个问题。

主要问题是索引文件不知道有多少（以及哪些）项目文件提前，但应该在加载索引页面时动态列出它们，并在一些内部创建链接列表索引页面中的静态元素。

更新：显示或多或少我想要的（不是javascript语法）的伪代码片段将是：

```
for (filename in listfiles(directory='somedirectory', filetype='html') {
    somediv.appendChild(elementType='a', href=filename) 
```

知道如何在没有服务器端脚本的情况下执行此操作吗？重要的是要明确这是供个人使用，与互联网或 Web 开发无关。

谢谢阅读！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-10T11:55:20.143

不完全了解您的目标，但如果您想获取页面内容并将其加载到另一个页面中，您可以使用[http://api.jquery.com/load/](http://api.jquery.com/load/)。但是，某些浏览器会在本地阻止它。我已经从文本文件中加载了内容，所以如果它能够从您提到的文件中读取，我想您将能够提取您需要的内容

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-09-04T05:20:26.827

这是一个有点老的问题，但我认为很多人都试图找到一些解决方案。这是一个。

[我使用NPAPI FILE IO](https://code.google.com/p/npapi-file-io/)扩展创建了这种解决方案。已经编译了扩展 DLL / SO，因此如果您不想重新编译，例如添加新方法，则无需重新编译。您可以使用该库并开发 Firefox、chrome 的扩展，也许还可以与 IE 的 AtiveX 组件一起开发。这是我为 Chrome 执行此操作的方法。

1）下载svn repo。

2) 对于较新的 Chrome 版本，编辑`manifest.json`位于`test\extension`-folder 下的 -file。下面是我的 manifest.json 文件

```
{
  "manifest_version": 2,
  "name": "npapi-file-io-test",
  "description": "NPAPI demo",
  "version": "1.0",
  "description": "Test extension for npapi-file-io project",
  "background": {
    "page": "background.html"
  },
  "plugins": [{"path": "npapi-file-io-32.dll", "public": true},{"path": "npapi-file-io-32.so", "public": true},{"path": "npapi-file-io-64.so", "public": true}]
} 
```

3）将扩展安装到chrome中。

4）在页面中使用扩展名。下面是一个列出 /tmp 文件夹中文件的示例

```
<!DOCTYPE XHTML>
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  <title>NPAPI File IO test</title>
<script src="http://code.jquery.com/jquery-1.9.1.min.js"></script>
<script>
    $(document).ready(function() {
        var fs = $('#fs')[0];
        var  dir = "/tmp";
        var files = fs.listFiles(dir);
        for (var f in files) {
            if (files[f].type == "file") {
                $('#filelist').append('<a href="file:///'+dir+"/"+files[f].name+'">'+files[f].name+'</a><br/>');
            }
        }
    });
</script>
</head>
<body>
    <embed type="application/x-npapi-file-io" id="fs">
    <div id="filelist"></div>
</body>
</html> 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-10T14:33:36.977

AFAIK，不可能用纯 JavaScript 做到这一点。您需要一些服务器端代码告诉浏览器文件列表。可能最简单的方法是进行 AJAX 调用，其中服务器响应所需的文件列表。

这正是[jQuery 文件树](http://www.abeautifulsite.net/blog/2008/03/jquery-file-tree/)所做的。这是一个有点旧的代码（从 2008 年开始），所以可能与当前版本的 jQuery 存在一些不兼容，但你可以从中获得一些灵感。:-)

# android - Android：LinearLayout 因使用权重的间距而消失？

> ID：14257133
> 
> 赞同：0
> 
> 时间：2013-01-10T11:41:00.910
> 
> 标签：android, android-linearlayout

是的，这是一个我一直在玩弄的奇怪问题，希望也许我错过了一些你们可以引起我注意的东西！

`LinearLayouts`一旦我使用视图添加任何间距并定义权重（一种在项目其他地方工作的方法），似乎正在消失。

我有一个`custom Dialog`（扩展对话框）。在`onCreate()`我使用`setContentView(generateDialog())`返回垂直线性布局的方法。

LinearLayout 包含三个元素，一行四个自定义类别按钮（LinearLayouts），一排排序按钮（也是 LinearLayouts）和一个 ListView，它填充对话框的其余部分并根据按下的按钮进行刷新。

一切正常，工作正常。除非我尝试使用我的 spacer 方法将按钮均匀地隔开：

**对话框.java**：

```
LinearLayout catBtns = new LinearLayout(context);
        catBtns.setOrientation(LinearLayout.HORIZONTAL);
        catBtns.setBackgroundResource(R.drawable.btn_cat_gradient_bg);
        catBtns.setLayoutParams(new LinearLayout.LayoutParams(LayoutParams.MATCH_PARENT,LayoutParams.MATCH_PARENT));

        catBtns.addView(space(1));
        cat1Btn = new CatButton(context,this,act,"CAT1");
        catBtns.addView(cat1Btn);
        catBtns.addView(space(1));
        cat2Btn = new CatButton(context,this,act,"CAT2");
        catBtns.addView(cat2Btn);
        catBtns.addView(space(1));
        cat3Btn= new CatButton(context,this,act,"CAT3");
        catBtns.addView(cat3Btn);
        catBtns.addView(space(1));
        cat4Btn = new CatButton(context,this,act,"CAT4");
        catBtns.addView(cat4Btn);
        catBtns.addView(space(1)); 
```

**空间（）方法：**

```
private View space(int space) {
    View view = new View(context);
    LinearLayout.LayoutParams p = new LinearLayout.LayoutParams(0,0);
    p.weight = space;
    view.setLayoutParams(p);
    return view;
} 
```

让我感到困惑的是，我在整个项目中一直在使用这种方法，但是当我在每个按钮之间添加间隔时，我无法找到 LinearLayout 类别完全消失的原因。

我对排序按钮使用相同的技术，并且效果很好！我在项目的另一部分使用相同的技术，使用相同按钮的略微不同版本（尽管它们是不同的类文件，因为 onClickListener 和其他一些东西略有不同）

有人有任何线索吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-10T11:56:01.487

我尝试用 XML 构建它，它工作正常。一个可能的区别是，您没有`LayoutParams`为按钮设置任何内容。为每个按钮尝试类似的操作：

```
cat1Btn = new CatButton(context,this,act,"CAT1");
catBtns.addView(cat1Btn, new LinearLayout.LayoutParams(0,0)); 
```

# data-visualization - 谷歌图表中用户指定的地区和国家集合

> ID：14257135
> 
> 赞同：2
> 
> 时间：2013-01-10T11:41:10.053
> 
> 标签：data-visualization, google-visualization

我想在 Google GeoCharts 中按国家/地区显示记录数。

然而，我们的国家分组与 GeoCharts 使用的不同。

例如谷歌使用联合国的：

*   北美
*   中美洲
*   南美洲
*   加勒比海

作为美国的细分。我们的数据集分为：

*   北美
*   拉丁美洲

阻抗爆炸！

正如我所看到的，这意味着当点击南美洲的拉丁美洲时，用户会忽略墨西哥。美国图表太高太薄，因此必须缩小太多才能有用。

改变我们的数据分类，将国家分配到一个地区，是非常痛苦的。

**我可以在 GeoChart 中设置用户定义的区域吗？**指定要显示的地图中心、缩放级别和国家数据？

我敢说一个大黑客可以做到这一点，但与 Goggle 的 GeoChart 代码不同步并不是一个好主意。

我查看了新的 amMaps，但这似乎与 IE7 和 8 不兼容。

```
<shakefist at="Microsoft">Argh!</shakefist> 
```

干杯

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-11T02:14:01.320

不幸的是，不，你不能。您可以选择美国、北美、加勒比海或南美，但不能选择“拉丁美洲”。您可以做的是创建一个显示美国的缩放地图，然后单击它会放大一个区域。您实际上需要拥有国家数据和地区数据，或者如果这是您的事情，则只需拥有标记数据，但这里有一个单击放大的示例：

```
<!--
You are free to copy and use this sample in accordance with the terms of the
Apache license (http://www.apache.org/licenses/LICENSE-2.0.html)
-->

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8" />
  <title>Google Visualization API Sample</title>
  <script type="text/javascript" src="http://www.google.com/jsapi"></script>
  <script type="text/javascript">
    google.load('visualization', '1', {packages: ['geochart']});

    var width, height, selectedRegion, resolution;

    window.onload = function(){
      width = 556;
      height = 400;
      selectedRegion = 'world';
      resolution = 'subcontinents';
    };

    function drawVisualization() {
      var data = new google.visualization.DataTable();
      data.addColumn('string', 'Region');
      data.addColumn('number', 'Value');
      data.addRows([
        [{v:"005", f:"South America"}, 978.7],
        [{v:"011", f:"Western Africa"}, 46],
        [{v:"013", f:"Central America"}, 299],
        [{v:"014", f:"Eastern Africa"}, 63.9],
        [{v:"015", f:"Northern Africa"}, 255.7],
        [{v:"017", f:"Middle Africa"}, 21.4],
        [{v:"018", f:"Southern Africa"}, 244.5],
        [{v:"029", f:"Caribbean"}, 76.5],
        [{v:"030", f:"Eastern Asia"}, 5712.9],
        [{v:"034", f:"Southern Asia"}, 1275.1],
        [{v:"035", f:"South-Eastern Asia"}, 639.2],
        [{v:"039", f:"Southern Europe"}, 777.8],
        [{v:"053", f:"Australia and New Zealand"}, 272],
        [{v:"054", f:"Melanesia"}, 6.3],
        [{v:"057", f:"Micronesia"}, 1.8],
        [{v:"061", f:"Polynesia"}, 1],
        [{v:"143", f:"Central Asia"}, 170.3],
        [{v:"145", f:"Western Asia"}, 834.1],
        [{v:"151", f:"Eastern Europe"}, 1587.6],
        [{v:"154", f:"Northern Europe"}, 801.5],
        [{v:"155", f:"Western Europe"}, 1456.2],
        [{v:"021", f:"Northern America"}, 4704.1]
      ]);

      var options = {
        displayMode: 'regions',
        enableRegionInteractivity: 'true',
        resolution: resolution,
        region: selectedRegion,
        height: height,
        width: width
      };

      var geochart = new google.visualization.GeoChart(
          document.getElementById('visualization'));

      google.visualization.events.addListener(geochart, 'select', function() {
        var selection = geochart.getSelection();

        if (selection.length == 1) {
          var selectedRow = selection[0].row;
          selectedRegion = data.getValue(selectedRow, 0);
          resolution = "countries";
          options.region = selectedRegion;
          options.resolution = resolution;
          //alert(resolution);
          geochart.draw(data, options);
          }
      });

      geochart.draw(data, options);
    }

    google.setOnLoadCallback(drawVisualization);
  </script>
</head>
<body style="font-family: Arial;border: 0 none;">
<div id="visualization"></div>
</body>
</html> 
```

复制并粘贴到 Google Playground（我不知道为什么这在 jsfiddle 上不起作用，我认为它与 window.onload 有关）。

# javascript - 如何使用 jquery 更改第二个和第六个 DIV 的 css 属性

> ID：14257137
> 
> 赞同：1
> 
> 时间：2013-01-10T11:41:14.777
> 
> 标签：javascript, jquery, css, webforms

我需要以 3x2 格式的矩阵显示文章详细信息，例如图像、标题、作者、描述。

我使用以下`class`来包装文章详细信息

```
#article2x3-article-wrapperHP
{
float:left;
width:233px;
height:340px;
background-color:#ccc;
vertical-align:middle;
margin-right:25px;
} 
```

这个类有一个margin-right：25px，它添加`margin-right:25px;`到每个div，它破坏了我的设计，容器只有宽度`750px`。

我想过使用 jquery 来分配`margin-right:0px;`来修复我的设计，但它不起作用。如何修复我的 jquery，以便我可以 `margin-right: 0px;`使用 jquery 分配给第 3 和第 6 个 DIV

```
 $(function () {
     $(".article2x3-outer-wrapperHP div:eq(3)").css("margin-right", "0px");
    $(".article2x3-outer-wrapperHP div:eq(6)").css("margin-right", "0px");
 }); 
```

下面是用于设计的示例 HTML 代码

```
<div id="article2x3-outer-wrapperHP">

        <div id="article2x3-HPTitle">
            <span id="MainContent_LatestTopSixArticles_lblArticle2x4Title">Current Articles</span>
        </div>

        <div id="article2x3-article-wrapperHP">
            <div id="article2x3-image">
                <img src="../images/article/9f07eb06-7f9d-4f68-92e1-d99ea36ebb65.png" class="imgArticle2x3Image" id="MainContent_LatestTopSixArticles_rptTopSixArticles_imgArticle2x3Image_0">
            </div>
            <div id="article2x3-title">
                <span class="lblArticle2x3Title" id="MainContent_LatestTopSixArticles_rptTopSixArticles_lblArticle2x3Title_0">Article One</span>
            </div>
            <div id="article2x3-author">
                <span class="lblArticle2x3Author" id="MainContent_LatestTopSixArticles_rptTopSixArticles_lblArticle2x3Author_0">by Author</span>
            </div>
            <div id="article2x3-desc">
                <span class="lblArticle2x3Desc" id="MainContent_LatestTopSixArticles_rptTopSixArticles_lblArticle2x3Desc_0">My admiration for the amazing achievemen...</span>
            </div>
        </div> 

        <div id="article2x3-article-wrapperHP">
            <div id="article2x3-image">
                <img src="../images/article/9f07eb06-7f9d-4f68-92e1-d99ea36ebb65.png" class="imgArticle2x3Image" id="MainContent_LatestTopSixArticles_rptTopSixArticles_imgArticle2x3Image_0">
            </div>
            <div id="article2x3-title">
                <span class="lblArticle2x3Title" id="MainContent_LatestTopSixArticles_rptTopSixArticles_lblArticle2x3Title_0">Article One</span>
            </div>
            <div id="article2x3-author">
                <span class="lblArticle2x3Author" id="MainContent_LatestTopSixArticles_rptTopSixArticles_lblArticle2x3Author_0">by Author</span>
            </div>
            <div id="article2x3-desc">
                <span class="lblArticle2x3Desc" id="MainContent_LatestTopSixArticles_rptTopSixArticles_lblArticle2x3Desc_0">My admiration for the amazing achievemen...</span>
            </div>
        </div> 

        <div id="article2x3-article-wrapperHP">
            <div id="article2x3-image">
                <img src="../images/article/9f07eb06-7f9d-4f68-92e1-d99ea36ebb65.png" class="imgArticle2x3Image" id="MainContent_LatestTopSixArticles_rptTopSixArticles_imgArticle2x3Image_0">
            </div>
            <div id="article2x3-title">
                <span class="lblArticle2x3Title" id="MainContent_LatestTopSixArticles_rptTopSixArticles_lblArticle2x3Title_0">Article One</span>
            </div>
            <div id="article2x3-author">
                <span class="lblArticle2x3Author" id="MainContent_LatestTopSixArticles_rptTopSixArticles_lblArticle2x3Author_0">by Author</span>
            </div>
            <div id="article2x3-desc">
                <span class="lblArticle2x3Desc" id="MainContent_LatestTopSixArticles_rptTopSixArticles_lblArticle2x3Desc_0">My admiration for the amazing achievemen...</span>
            </div>
        </div>      

        <div id="article2x3-article-wrapperHP">
            <div id="article2x3-image">
                <img src="../images/article/9f07eb06-7f9d-4f68-92e1-d99ea36ebb65.png" class="imgArticle2x3Image" id="MainContent_LatestTopSixArticles_rptTopSixArticles_imgArticle2x3Image_0">
            </div>
            <div id="article2x3-title">
                <span class="lblArticle2x3Title" id="MainContent_LatestTopSixArticles_rptTopSixArticles_lblArticle2x3Title_0">Article One</span>
            </div>
            <div id="article2x3-author">
                <span class="lblArticle2x3Author" id="MainContent_LatestTopSixArticles_rptTopSixArticles_lblArticle2x3Author_0">by Author</span>
            </div>
            <div id="article2x3-desc">
                <span class="lblArticle2x3Desc" id="MainContent_LatestTopSixArticles_rptTopSixArticles_lblArticle2x3Desc_0">My admiration for the amazing achievemen...</span>
            </div>
        </div> 

        <div id="article2x3-article-wrapperHP">
            <div id="article2x3-image">
                <img src="../images/article/9f07eb06-7f9d-4f68-92e1-d99ea36ebb65.png" class="imgArticle2x3Image" id="MainContent_LatestTopSixArticles_rptTopSixArticles_imgArticle2x3Image_0">
            </div>
            <div id="article2x3-title">
                <span class="lblArticle2x3Title" id="MainContent_LatestTopSixArticles_rptTopSixArticles_lblArticle2x3Title_0">Article One</span>
            </div>
            <div id="article2x3-author">
                <span class="lblArticle2x3Author" id="MainContent_LatestTopSixArticles_rptTopSixArticles_lblArticle2x3Author_0">by Author</span>
            </div>
            <div id="article2x3-desc">
                <span class="lblArticle2x3Desc" id="MainContent_LatestTopSixArticles_rptTopSixArticles_lblArticle2x3Desc_0">My admiration for the amazing achievemen...</span>
            </div>
        </div> 

        <div id="article2x3-article-wrapperHP">
            <div id="article2x3-image">
                <img src="../images/article/9f07eb06-7f9d-4f68-92e1-d99ea36ebb65.png" class="imgArticle2x3Image" id="MainContent_LatestTopSixArticles_rptTopSixArticles_imgArticle2x3Image_0">
            </div>
            <div id="article2x3-title">
                <span class="lblArticle2x3Title" id="MainContent_LatestTopSixArticles_rptTopSixArticles_lblArticle2x3Title_0">Article One</span>
            </div>
            <div id="article2x3-author">
                <span class="lblArticle2x3Author" id="MainContent_LatestTopSixArticles_rptTopSixArticles_lblArticle2x3Author_0">by Author</span>
            </div>
            <div id="article2x3-desc">
                <span class="lblArticle2x3Desc" id="MainContent_LatestTopSixArticles_rptTopSixArticles_lblArticle2x3Desc_0">My admiration for the amazing achievemen...</span>
            </div>
        </div>  

</div> 
```

我的实际网页是 asp.net-webform & 我正在使用转发器控件来创建这个 div & 我不想在 .cs 文件中执行它，因为使用 jQuery 在前端完成它更方便

[小提琴示例](http://jsfiddle.net/yJSdP/)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-10T11:44:28.867

尝试：

```
$(function () {
     $(".article2x3-article-wrapperHP:eq(3)").css("margin-right", "0px");
    $(".article2x3-article-wrapperHP:eq(6)").css("margin-right", "0px");
 }); 
```

没有 div ... 因为您实际上告诉他设置内部 div 的边距 .. 不是主要的。

编辑：如果这种效果发生在每 3 个元素上，您可以使用它：

```
$('.article2x3-article-wrapperHP:nth-child(3n)').css("margin-right", "0px"); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-10T11:45:48.367

改用 jQuery 的`:nth-child()`选择器。[http://api.jquery.com/nth-child-selector/](http://api.jquery.com/nth-child-selector/)

另请注意，`id`在页面上使用多个相同是无效的。如果您将`id`s 更改为`class`es 并相应`#`地`.`将 CSS 和 jQuery 选择器中的每个更改为，那么您会很高兴。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-10T11:54:35.630

**解决方案**：托管使其与以下 jQuery 一起使用

```
 $(function () {
   //  $(".article2x3-article-wrapperHP:eq(3)").css("margin-right", "0px");
     $('#article2x3-article-wrapperHP:nth-child(3n+1)').css('margin-right', '0px');
     $('#article2x3-article-wrapperHP:nth-child(6n+1)').css('margin-right', '0px');
 }); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-10T11:54:54.017

在您的 css 文件中更改`#article2x3-article-wrapperHP`为。`.article2x3-article-wrapperHP`

更改`id="article2x3-article-wrapperHP"`为`class="article2x3-article-wrapperHP" in your html file.`

 `And use as script this:` 

```
$(function () {
  $(".article2x3-article-wrapperHP:nth-child(4)").css("marginRight", "0px");
  $(".article2x3-article-wrapperHP:nth-child(7)").css("marginRight", "0px");
}); 
```

为我工作！

# c# - 如何在 C# Winforms 中禁用复制粘贴选项

> ID：14257150
> 
> 赞同：0
> 
> 时间：2013-01-10T11:42:06.993
> 
> 标签：c#, winforms, process, contextmenu, clipboard

我有两个 Winform 应用程序，当我尝试从该应用程序中复制粘贴文本时，`ProcessCmdKey`如果我进行了检查，它未粘贴..

但是当我尝试将我的文本粘贴到记事本中时，它会被粘贴......我只想在同一个应用程序中实现文本的复制和粘贴

如果我专注于其他 Windows 窗体文本不必粘贴...有什么办法..

```
 private const Keys CopyKeys = Keys.Control | Keys.C;
    private const Keys PasteKeys = Keys.Control | Keys.V;

    protected override bool ProcessCmdKey(ref Message msg, Keys keyData)
    {

        bool bVal = false;
        Process[] p2 = Process.GetProcesses();
        foreach (Process pro in p2)
        {
            if (string.Compare(pro.ProcessName, "TestForm.vshost", true) == 0 && (keyData == CopyKeys) || (keyData == PasteKeys))
            {
                bVal = true;  // Text will be pasted 
                return true;
            }
            else
                return base.ProcessCmdKey(ref msg, keyData); // Text will not be pasted
        }
        return bVal;
    } 
```

这可以正常工作。当我尝试为记事本写字板实现相同的功能时。它被粘贴了。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-10T12:03:32.847

如果您确实想确保其他应用程序无法获取剪贴板中的数据，则需要使用自定义格式并自己将数据放入剪贴板中。

这只是一个示例。您需要做更多工作才能获得有效的解决方案，因为您需要自己拦截 Ctrl+C 并将数据放入剪贴板，而不是使用（根据定义）可用于每个应用程序的预定义数据格式

```
public void cmdTest_Click(object sender, EventArgs e)
{
    Clipboard.SetData("MyCustomFormat", new MyData("This text should not be pasted"));
    if(Clipboard.ContainsData("MyCustomFormat"))
    {
        MyData result = Clipboard.GetData("MyCustomFormat") as MyData;
        MessageBox.Show(result.MyValue);
    }   
}

[Serializable]
class MyData
{
    string _internalValue;
    public MyData(string newValue)
    { _internalValue = newValue;}
    public string MyValue
    {
        get{return _internalValue;}
    }
} 
```

如果您遵循此方法，其他应用程序将无法使用您的自定义格式（当然，如果安全是一个真正的问题，则需要进行更多调整）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-10T11:46:21.613

当您的应用程序最小化或失去焦点时，您可以清除剪贴板文本。

# iphone - 推特超链接展开

> ID：14257151
> 
> 赞同：0
> 
> 时间：2013-01-10T11:42:16.167
> 
> 标签：iphone, objective-c

我正在开发 Twitter 应用程序，在其中我得到用户推文，如果用户在其中共享 URL，那么它会在`WebView`.

但问题是 Twitter 返回超链接，如`http://t.co/eleekj4F`.

我想将其转换为原始形式，就像我发布的那样`http://www.abcd.com/testing.html`

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-10T11:59:29.827

[Twitter 开发人员](https://dev.twitter.com/discussions/9403)也可以在同一论坛中查看其他类似主题。

使用`expanded_url`而不是`url`来自返回的实体。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-01-10T11:50:21.000

我知道网上有一些应用程序可以让您检索原始 url，您可以解析它们的响应。

[http://www.makeuseof.com/dir/untiny-extract-original-link-short-url/](http://www.makeuseof.com/dir/untiny-extract-original-link-short-url/)

我认为您也可以通过对短网址发出 http 请求并查看您被重定向到的地址来做到这一点。

# jsf - 如何使用 ah:commandLink 和 f:ajax 渲染 panelGroup

> ID：14257153
> 
> 赞同：5
> 
> 时间：2013-01-10T11:42:31.380
> 
> 标签：jsf, rendering, ajax4jsf

我想`<h:panelGroup>`在用户单击 a 时呈现 a `<h:commandLink>`。

我可以让它在没有 ajax 的情况下工作，但整个页面都被刷新了。当我尝试使用`<f:ajax>`时，不会调用该操作。

这是如何引起的，我该如何解决？

这是我的链接的代码：

```
 <a4j:outputPanel>
        <h:commandLink action="#{ObjetEleve.showInfosPersos}" style="text-decoration:none;">
            <a4j:ajax event="click" render=":corps:panelInfos"/>
            <a4j:outputPanel layout="block" styleClass="menu_item_static_header">
                <h:panelGroup layout="block" styleClass="menu_item_static">
                    <h:outputText value="#{(ObjetEleve.displayModifications) ? 'Retour au mur' : 'Modifier mes informations'}" />
                </h:panelGroup>
            </a4j:outputPanel>
        </h:commandLink>
    </a4j:outputPanel> 
```

这是我要呈现的面板的代码：

```
 <h:panelGroup id="panelInfos">
    <h:panelGroup id="infoPerso"
        rendered="#{(ObjetEleve.displayModifications) ? true : false}"
        layout="block">
        <a4j:outputPanel id="infosPersos" layout="block">
            <h:panelGrid width="580" columns="2" border="0">
                <h:panelGrid id="panelInscription" columns="2" border="0"
                    cellspacing="0" cellpadding="0">
                    <a4j:outputPanel>
                        <h:outputText value="Nom" />
                        <h:outputText value="*" style="color:#ff0000;" />
                    </a4j:outputPanel>
                    <a4j:outputPanel>
                        <h:inputText id="nomInscription"
                            value="#{ObjetEleve.nom_eleve}" styleClass="inputbox"
                            required="true" requiredMessage="Nom obligatoire" />
                    </a4j:outputPanel>
                    <h:outputText value="" />
                    <h:outputText value="" />
                    <a4j:outputPanel>
                        <h:outputText value="Prénom" />
                        <h:outputText value="*" style="color:#ff0000;" />
                    </a4j:outputPanel>
                    <a4j:outputPanel>
                        <h:inputText id="pnomInscription"
                            value="#{ObjetEleve.prenom_eleve}" styleClass="inputbox"
                            required="true" requiredMessage="Prénom obligatoire" />
                    </a4j:outputPanel>
                    <h:outputText value="" />
                    <h:outputText value="" />
                    <a4j:outputPanel id="pwd">
                        <h:outputText value="Mot de passe" />
                        <h:outputText value="*" style="color:#ff0000" />
                    </a4j:outputPanel>
                    <a4j:outputPanel>
                        <h:inputSecret id="passwd" value="#{ObjetEleve.pwd_eleve}"
                            redisplay="true" styleClass="inputbox" required="true"
                            requiredMessage="Mot de passe obligatoire" />
                    </a4j:outputPanel>
                    <h:outputText value="" />
                    <h:outputText value="" />
                    <a4j:outputPanel id="classe">
                        <h:outputText value="Classe" />
                        <h:outputText value="*" style="color:#ff0000" />
                    </a4j:outputPanel>
                    <a4j:outputPanel>
                        <rich:select value="#{ObjetEleve.id_classe_eleve}">
                            <f:selectItems value="#{classeBean.classes}" var="classe"
                                itemValue="#{classe.id_classe}"
                                itemLabel="#{classe.nom_classe}" />
                        </rich:select>
                    </a4j:outputPanel>
                    <h:outputText value="" />
                    <h:outputText value="" />
                    <a4j:outputPanel>
                        <h:outputText value="E-Mail" />
                        <h:outputText value="*" style="color:#ff0000" />
                    </a4j:outputPanel>
                    <a4j:outputPanel>
                        <h:inputText id="email" size="30"
                            value="#{ObjetEleve.email_eleve}" styleClass="inputbox"
                            required="true" requiredMessage="Email obligatoire" />
                    </a4j:outputPanel>
                    <h:outputText value="" />
                    <h:outputText value="" />
                    <a4j:outputPanel>
                        <h:outputText value="Date de naissance" />
                        <h:outputText value="*" style="color:#ff0000" />
                    </a4j:outputPanel>
                    <a4j:outputPanel>
                        <rich:calendar value="#{ObjetEleve.date_naissance_eleve}"
                            required="true"
                            requiredMessage="Date de naissance obligatoire" />
                    </a4j:outputPanel>
                    <h:outputText value="" />
                    <h:outputText value="" />
                    <a4j:outputPanel>
                        <h:outputText value="" />
                    </a4j:outputPanel>
                    <a4j:outputPanel>
                        <h:commandButton value="Mettre à jour les informations"
                            styleClass="submitButton" />
                    </a4j:outputPanel>
                    <h:outputText value="" />
                    <h:outputText value="" />
                </h:panelGrid>
            </h:panelGrid>
        </a4j:outputPanel>
    </h:panelGroup>
</h:panelGroup> 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-10T13:44:18.287

您正在覆盖操作组件的默认 ajax 事件，该事件`event="action"`由`event="click"`. 这样，JSF 不会将动作事件排队到动作方法中。

所以，使用`event="action"`

```
<a4j:ajax event="action" render=":corps:panelInfos"/> 
```

或者完全删除它，它已经是默认事件

```
<a4j:ajax render=":corps:panelInfos"/> 
```

同样的故事也适用于`<f:ajax>`。

### 也可以看看：

*   [我可以将哪些值传递给 f:ajax 标记的 event 属性？](https://stackoverflow.com/questions/7886453/what-values-can-i-pass-to-the-event-attribute-of-the-fajax-tag/7889098#7889098)

# ios - 如何使用 OWA（Outlook Web Access）访问 Microsoft Exchange 邮件

> ID：14257155
> 
> 赞同：1
> 
> 时间：2013-01-10T11:42:41.453
> 
> 标签：ios, objective-c, exchange-server, outlook-web-app

由于我是 Microsoft Exchange 和 OWA 的新手，请帮助我。

我的目标是在 iPhone/iPad (iOS) 上创建一个示例程序/应用程序，通过它我可以访问 Exchange 邮件。（交换 2003、2007、2010、2013）

我知道 EWS 和 EAS。如果您建议任何其他可能的方式来访问交换邮件，这将很有帮助。

先感谢您。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-02T08:50:47.570

我在这个主题上花了很多时间，我发现的一件（工作）事情是： [https ://github.com/jgallen23/OWAParser](https://github.com/jgallen23/OWAParser)

我的问题是，在用我公司的 Exchange 服务器进行了多次测试后，他们锁定了我的帐户。甚至认为它可以工作，在更改服务器配置中的一些小东西后它会停止工作，这对我来说不是一个选择。

希望这对你有帮助！:-)

# ajax - Sencha Touch 2 中未保存的 Cookie

> ID：14257156
> 
> 赞同：2
> 
> 时间：2013-01-10T11:42:48.737
> 
> 标签：ajax, cookies, sencha-touch-2, setcookie

我有一个 Web 服务“someWebServiceOnServer”，它发回一个 json 响应和一个 Cookie。如果我通过浏览器点击此 URL，我会看到以下内容：

`{"IsAuth":true,"Message":"","UserName":"guest"}`

如果我检查页面资源 - > Cookies，我会看到一个 Cookie 集。

现在在我的 Sencha Touch 2 应用程序中，我正在进行 ajax 调用，如下所示：

`Ext.Ajax.request({
url: 'someWebServiceOnServer',
useDefaultXhrHeader: false,
callback: function(options, success, response) {
console.log(response.responseText)
},
});`

在运行它时，我得到了预期的 JSON 响应。但是cookie没有设置。我也无法在响应标头中找到 cookie。为什么会这样？

注意：服务器上已经实现了CORS，我的应用程序可以访问该服务。我没有使用过`withCredentials: true,`，因为这会引发错误`XMLHttpRequest cannot load . Cannot use wildcard in Access-Control-Allow-Origin when credentials flag is true.`。

我的浏览器已经启用了 Cookie。

我需要 cookie，因为我将进行后续调用，将这个 cookie 信息发送回服务器。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-10T16:48:21.503

试试这个：

将以下标头添加到服务器响应中。

`Access-Control-Allow-Origin: http://clientdomain.com
Access-Control-Allow-Credentials: true`

并添加`withCredentials: true`Ajax 请求。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-11T10:49:16.123

对于带有 ExtJS 请求的 IIS WCF，将其应用于 web.config（例如，对于 localhost，因此本地托管的应用程序，例如通过 SenchaTouch packagedr 或 PhoneGap）：

```
<system.webServer>
          <httpProtocol>
            <customHeaders>
              <add name="Access-Control-Allow-Origin" value="http://localhost" />
              <add name="Access-Control-Allow-Headers" value="Origin, X-Requested-With, Content-Type, Accept" />
              <add name="Access-Control-Allow-Credentials" value="true" />
            </customHeaders>
          </httpProtocol>
        </system.webServer> 
```

在 Ext.JS 请求中使用这些参数：

```
disableCaching: true,
useDefaultXhrHeader: false,
withCredentials: true 
```

这反过来又强制 Ext.ajax.request 使用 cookie。

# javascript - 在 javascript 文字中转换 REST url

> ID：14257157
> 
> 赞同：1
> 
> 时间：2013-01-10T11:42:49.893
> 
> 标签：javascript

我想将 REST 样式的 url 转换为 javascript 文字，如下所示：

从：

```
var url = "/a/b/c/d"; 
```

到：

```
var obj = {
   a:{
     b:{
       c:{
         d:{}
       }
     }
   }
}; 
```

你会怎么做？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-10T11:48:26.573

您可能可以压缩它，但这里有一个解决方案：

```
var u = '/a/b/c/d';
var t = u.split('/');
var o = {};
for (var i=t.length; i-->1; ) {
  var temp = o;
  o = {};
  o[t[i]] = temp;
} 
```

结果是`o`。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-10T11:59:47.267

我的尝试：

```
var url = '/a/b/c/d';
var fun = function(a) {  
  var res = {};
  res[a[0]] = a.length == 1 ? {} : fun(a.slice(1));
  return res;
};

// obj has what you need
var obj = fun(url.split('/').slice(1));    

// OTHER EXAMPLE
var t = ['that', 'is', 'so', 'fun'];
console.log(fun(t));
// above returns object: {that: { is: { so: { fun: {} }}}} 
```

# python - 如何在 wxPython 中控制 Grid 的视口？

> ID：14257163
> 
> 赞同：0
> 
> 时间：2013-01-10T11:43:21.770
> 
> 标签：python, wxpython, wxwidgets, wxgrid

我正在尝试在我的网格应用程序中实现*查找功能。*我可以使用 移动光标`SetGridCursor(self, row, col)`，但我不知道如何将网格的“视口”移动到新的光标位置。换句话说，当光标移动到用户正在寻找的单元格时，用户仍然必须手动滚动直到他找到光标单元格。

如何以编程方式滚动网格，以便可以在视口中居中网格光标？

* * *

随机地，在写这个问题时，我去了 Grid wiki 页面，搜索了“scroll”这个词，发现：

> `MakeCellVisible( int row, int col )`- 强制特定单元格可见，有效地滚动网格以给定单元格

这几乎解决了我的问题。我希望单元格在视口中居中，但此功能只会滚动，直到单元格在屏幕边缘可见。我找不到任何只影响网格滚动位置而不影响光标位置的函数。想法？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-10T21:22:58.333

`wxWidgets`在这种情况下，请查看（核心 C++ 库）公开了哪些方法。[`wxGrid`](http://docs.wxwidgets.org/trunk/classwx_grid.html#a902e8587ed0236e3cb4ed37542aad675)子类[`wxScrolled`](http://docs.wxwidgets.org/trunk/classwx_scrolled.html)。`wxScrolled`公开这些方法：

*   [`Scroll`](http://docs.wxwidgets.org/trunk/classwx_scrolled.html#a601bcac37185a2d4a24164d065907f69)

    > 滚动窗口，使视图开始位于给定点。

*   [`GetVirtualSize`](http://docs.wxwidgets.org/trunk/classwx_scrolled.html#aec388dc5ab515d1312b58963ef5647b1)

    > 获取可滚动窗口区域的设备单位大小（与客户端大小相反，客户端大小是当前可见的窗口区域）。

我认为您可以使用这些方法来计算可滚动窗口的中心坐标。现在，您需要的是要居中的单元格的坐标。`wxGrid`公开此方法：

*   [`CellToRect`](http://docs.wxwidgets.org/trunk/classwx_grid.html#a902e8587ed0236e3cb4ed37542aad675)

    > 返回与网格单元格的大小和逻辑坐标中的位置相对应的矩形。

现在，在 C++ 中，您可以将您的`wxGrid`转换为 a`wxScrolled`并调用您想要的方法。但是，`wxPython`并不总是公开 中可用的所有方法`wxWidgets`，因此在这里您必须使用未绑定的方法获得一些创意。下面是一些伪代码，它未经测试，但应该让您了解如何执行此操作。

```
grid = wx.Grid()

cell_coords = grid.CellToRect(12,12)

# get the virtual size by calling it as unbound method
virtual_size = wx.Scrolled.GetVirtualSize(grid)

# calculate the upper-left coordinate
scroll_coords = (cell_coords.x - virtual_size.width / 2,
                 cell_coords.y - virtual_size.height / 2)

# call Scroll as unbound method
wx.Scrolled.Scroll(grid, scroll_coords) 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-09T05:57:21.937

这对我来说适用于垂直滚动以将网格光标保持在页面中间：

```
def set_grid_cursor(grid, irow, icol):
    # move the cursor to the cell as usual
    grid.GoToCell(irow, icol)
    # scroll to keep irow in the middle of the page
    ppunit = grid.GetScrollPixelsPerUnit()
    cell_coords = grid.CellToRect(irow, icol)
    y = cell_coords.y / ppunit[1]  # convert pixels to scroll units
    scrollPageSize = grid.GetScrollPageSize(wx.VERTICAL)
    scroll_coords = (0, y - scrollPageSize / 2)
    grid.Scroll(scroll_coords) 
```

`wx.CallAfter(set_grid_cursor, grid, irow, icol)`如果您刚刚更新了网格，您可能必须使用它来调用它。

# android - 与数据库比较的 ContentValues 对象不起作用

> ID：14257164
> 
> 赞同：0
> 
> 时间：2013-01-10T11:43:42.510
> 
> 标签：android, string

我正在尝试将 ContentValues 对象与数据库中的值进行比较，但我无法弄清楚为什么以下内容不起作用：

```
ContentValues werte = new ContentValues();
try{
    JSONObject ClickedItem = new JSONObject();
    ClickedItem = resultArray.getJSONObject(position);
    werte.put("name", ClickedItem.getString("name"));
    werte.put("hersteller", ClickedItem.getString("hersteller"));
}
catch (Exception e) {
    System.out.println("Whoops - something went wrong!3");
    e.printStackTrace();
}

Boolean allreadyAdded = false;
Cursor devicesCursor = mDatenbank.query("addedDevices", new String[] {"name", "hersteller"}, null, null, null, null, null);
startManagingCursor(devicesCursor);
devicesCursor.moveToFirst();

for (int i=0;i<devicesCursor.getCount();i++){

    if(devicesCursor.getString(0) == werte.getAsString("name")){
        allreadyAdded = true;
    }
    devicesCursor.moveToNext();
}

if(allreadyAdded==false){                       
    mDatenbank.insert("addedDevices", null, werte);
} 
```

只是不会工作，`if(devicesCursor.getString(0) == werte.getAsString("name"))`我不知道为什么。System.out.println 向我展示了 devicesCursor 和 are 都具有相同的值，但已添加不会设置为 true...

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-10T11:45:33.613

因为您不能使用`==`运算符比较两个字符串，所以您的 if 条件永远不会成立。

要比较两个字符串，只需使用`.equals()`或`.equalsIgnoreCases()`来自**Java String Class** ..

```
if(devicesCursor.getString(0).equals(werte.getAsString("name"))) 
```

# azure - 如何将工作角色添加到 azure 上的现有云服务

> ID：14257166
> 
> 赞同：1
> 
> 时间：2013-01-10T11:44:05.287
> 
> 标签：azure, cloud, role, worker

我需要为项目实施自动数据库备份，该项目位于 azure 上作为云服务。我按照[本](http://azureautobackup.codeplex.com/documentation)手册去做，但我找不到，如果我已经有包和配置文件，如何将工作角色添加到现有项目。

如果我尝试在实例选项卡上更新当前部署实例，则会收到错误消息：

```
Removing role <SiteName>.Web will cause loss of data stored locally on instances of the role. Repeat this operation and specify 'Force'. The long running operation tracking ID was: <ID>. 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-10T17:25:25.937

正如您提到的，您确实有包含新工人角色的新包，您的包中是否包含以前的工人角色？如果这是一个新的工作角色应用程序，或者您已将新的工作角色添加到现有的 Web 角色项目中，并且在这种情况下，您同时拥有旧的 webrole 和新的工作角色。

我可以向您解释更新服务如何与 Windows Azure 一起工作，如下所示：

对于 Windows Azure，当您更新当前正在运行的实例时，更新包仍然需要完整的配置和应用程序代码（包括所有新旧角色）。当您在门户网站更新服务时，您可以选择更新所有服务或特定角色，这在下拉列表内的更新窗口中可用。因此，如果您当前正在运行的服务具有 web 和 worker 角色，并且您只想更新一个特定角色，您可以从下拉列表中选择特定角色，并且只有该角色将被更新，而其他角色将保持不变。如果您选择“全部”，则所有角色都将使用包内容进行更新。因此，如果您更新一个角色、所有角色或所有角色，您的包中必须包含完整配置，并且取决于您的选择，角色将被更新。

在您的情况下，您想向当前正在运行的服务添加一个新角色，因此您可以从下拉列表中选择“全部”选项，这样可以将新角色添加到您当前正在运行的服务中，但是您的现有服务将经历停机，因为需要进行主要配置在一个 VIP 下运行两个单独的角色。

关于您的错误，我怀疑您的包中不包含当前正在运行的服务配置，因此当您尝试更新时，更新过程认为您只想删除当前正在运行的进程并替换为新的工作角色。

# jquery - jQuery插件修改

> ID：14257171
> 
> 赞同：1
> 
> 时间：2013-01-10T11:44:19.047
> 
> 标签：jquery, jquery-plugins

我一直在摆弄滚动路径（[http://joelb.me/scrollpath/](http://joelb.me/scrollpath/)，可通过链接 7 获得源代码）。

我一直在研究让片段在到达正确的“屏幕”时进行动画处理。我不擅长 jQuery，但我发现戳别人的代码是我学习的最佳方式。我遇到的问题是我认为应该有效的方法，但并不总是有效。

[我在http://blah.eu5.org/](http://blah.eu5.org/)上有一个例子，它显示了我的问题。如果您单击“类型”，则鸡不会移动。如果您然后单击“好处”，它将不会再次移动。但是，如果您从“关于”单击“福利”，它会。如果我将 2 个窗口移开，它似乎只会触发回调。如果我在到达窗口时点击然后向上点击，它也可以工作。

在旁注中，我希望我能让鸡滚动浏览路径上的所有动作，而不是直行。使用此代码可以轻松实现吗？

* * *

我正在查看的代码在 script/slide.js 中。

```
.moveTo(400, 300, {
    callback: function() {
        $(".chicken").animate({"top": "300px","left": "286px"}, 1000, "easeInOutSine");
    },
    name: "about"
}) 
```

我就是这样称呼它的。我相信 .moveTo 是在 scripts/jquery.scrollpath.js 中处理的。我还在学习，所以也许我还缺少一些需要的东西，如果是这样，请告诉我。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-12T11:28:17.017

只是将其装箱并从头开始编写。

# wordpress - 从我的自定义帖子类型列中删除自定义分类列

> ID：14257172
> 
> 赞同：2
> 
> 时间：2013-01-10T11:44:22.997
> 
> 标签：wordpress, custom-post-type

我正在使用 wp 3.5 我有一个自定义帖子`(sp_product)`，也有自定义分类。我想删除那个自定义分类过滤器列，但我不想让`'show_admin_column' => false`.

我想从`$columns['']`.

我该怎么做？当它显示在列和顶部选择菜单中时，我还想添加一些 css/js。（显示在此图像中）

![在此处输入图像描述](../Images/c6954d348cefbdfe966f98473a694f6b.png)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-10T14:45:46.290

要隐藏自定义帖子类型屏幕中的列，您需要过滤器`manage_{$this->screen->id}_columns`。

```
add_filter( 'manage_edit-sp_product_columns', 'hide_cpt_columns_so_14257172' );

function hide_cpt_columns_so_14257172( $columns )
{
    // Change categories for your custom taxonomy
    unset($columns['categories']);
    return $columns;
} 
```

要在特定屏幕中添加自定义 CSS/Javascript，您可以使用 action `admin_head-$hook_suffix`。以下代码隐藏`Show all dates`,`View all categories`和`Filter`元素：

```
add_action( 'admin_head-edit.php', 'custom_css_js_so_14257172' );

function custom_css_js_so_14257172() 
{
    // Apply only in the correct CPT, otherwise it would print in Pages/Posts
    global $current_screen;
    if( 'sp_product' != $current_screen->post_type)
        return;
    ?>
        <style>
            select[name="m"] { display:none }
            select[id="cat"] { display:none }
            #post-query-submit { display:none }
        </style>
    <?php
} 
```

# javascript - selenium 和事件委托

> ID：14257174
> 
> 赞同：0
> 
> 时间：2013-01-10T11:44:28.230
> 
> 标签：javascript, selenium

事件委托是否与硒一起使用？我正在监听父元素上的事件并且单击子元素不会触发它。有没有人有这个问题的经验？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-11T10:11:06.337

奇怪，如果我运行 click 两次，在 Chrome 和 Firefox (OS X) 中相同

# java - 如何在我的 Java 方法中有两种不同的返回类型？

> ID：14257180
> 
> 赞同：1
> 
> 时间：2013-01-10T11:44:48.217
> 
> 标签：java, generics, methods, merge

我有两种非常相似的方法，我想将它们合并（在泛型的帮助下）。但是，它们具有不同的返回类型。我能做些什么？

```
 public static <A, B> A veggie(MyList <Box<A, B>> b, int j) {

        A veggieA = b.head.first;
        return veggieA;
    }

    public static <A, B> B veggie2(MyList <Box<A, B>> b, int j) {

        B veggieB = b.head.second;
        return veggieB;
    } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-10T11:51:17.393

在 Java 7 中，您无法仅通过返回类型来区分。Java 6 有一个错误允许您执行此操作，但我不建议您使用它。

这意味着您不能在不创建返回类型`Object`或进行未经检查的强制转换的情况下合并它们，这不是一个好主意。

在您的示例中，我会使方法名称不同，因此很明显您将获得第一个或第二个。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-10T11:49:58.293

您不能有两个具有相同名称和相同参数的方法。

请参阅[方法重载](http://www.java-samples.com/showtutorial.php?tutorialid=284)。

[Java重载规则](https://stackoverflow.com/questions/10901259/java-overloading-rules)

[Java重载和继承规则](https://stackoverflow.com/questions/11110631/java-overloading-and-inheritance-rules)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-10T11:50:49.317

*   您不能声明一个方法可以返回类型 X 或类型 Y，除非 X 或 Y 是另一个的超类型（在这种情况下也可以返回其他子类型）
*   您不能声明两种仅在返回类型上有所不同的方法

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-10T11:51:24.570

`A`您可以将方法的返回类型更改为和都使用的公共类`B`。但是，假设两者都可以使用`A`并`B`扩展`Base`您可以使用：

```
public static BaseClass veggie(MyList <Box<A, B>> b, int j) {
    BaseClass veggie;
    // Do things
    return veggie;
} 
```

当你想合并这两种方法时，我想这`A`有`B`一些共同点。如果不是这种情况，您可以使用`Object`该类作为返回类型。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-01-10T13:11:20.387

在这种情况下，类 A 和 B 必须实现相同的接口，例如 C。当 A 和 B 实现 C 时，您可以编写：

```
public static <C, A extends C, B extends C> C veggie1(MyList <Box<A, B>> b, int j) {
  C veggieA = b.head.first;
  return veggieA;
}

public static <C, A extends C, B extends C> C veggie2(MyList <Box<A, B>> b, int j) {
  C veggieB = b.head.second;
  return veggieB;
} 
```

因此，如果您现在想合并它们，您需要将参数传递给指定您想要第一个还是第二个的方法。

例如：

```
public static <C, A extends C, B extends C> C veggie(MyList <Box<A, B>> b, int j, boolean first) {
  C veggie;
  if (first) 
    veggie = b.head.first;
  else 
    veggie = b.head.second;
  return veggie;
} 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-01-10T12:20:48.590

将方法返回类型更改为 object 。使用`instanceof`运算符可以区分。

**例子**

```
public static Object veggie(MyList <Box<A, B>> b, int j) {
    if(some_condition){
        A veggieA = b.head.first;
        return veggieA;
    }else{
        B veggieB = b.head.second;
        return veggieB;
    }
}

.
.
.

Object  obj=veggie(b,j);
if (obj instanceof <A, B> A) {
    do something    
else{
    do something
} 
```

# php - 登录服务器端应用程序

> ID：14257184
> 
> 赞同：-3
> 
> 时间：2013-01-10T11:44:55.070
> 
> 标签：php, facebook

我尝试使用 facebook 开发人员提供的步骤：

[http://developers.facebook.com/docs/howtos/login/server-side-login/](http://developers.facebook.com/docs/howtos/login/server-side-login/)

但是，重定向后，它无法重定向回基本的 php 页面。我的代码有什么问题吗？

这是我的代码：

```
require_once 'library/facebook.php';
    $facebook = new Facebook(array(
    'appId'  => '*** My APP ID ***',
    'secret' => '*** My Secret ***',                
    'fileUpload' => true
));

$my_url = "https://apps.facebook.com/carnumberchecking";
session_start();

$user = $facebook->getUser();
$me = null;

if($user)
{
$uid = $facebook->getUser();
}else{
$url = $facebook ->getLoginUrl( array (
'scope' => 'publish_stream',
'req_perms' => 1,
'fbconnect' => 0
 ));
 echo "";                
}                  

$code = $_REQUEST["code"];
if(empty($code)) {  
$_SESSION['state'] = md5(uniqid(rand(), TRUE)); // CSRF protection  
$dialog_url = "https://www.facebook.com/dialog/oauth?    client_id=187384241402698&redirect_uri=" . urlencode($my_url) . "&state="
                . $_SESSION['state'] . "&scope=user_birthday,read_stream";
echo("<script> top.location.href='" . $dialog_url . "'</script>");
}

if($_SESSION['state'] && ($_SESSION['state'] === $_REQUEST['state'])) {
echo "1";
$token_url = "https://graph.facebook.com/oauth/access_token?"
        . "client_id=187384241402698&redirect_uri=" . urlencode($my_url)
        . "&client_secret=4e45477f9ed79f95fc4fd3af8f8a579d&code=" . $code;

$response = file_get_contents($token_url);
$params = null;
parse_str($response, $params);
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-10T14:04:25.783

似乎您正在混合您从互联网上的各种来源中找到的内容..主要是过时的教程...等。

如果您打算使用官方 facebook PHP-SDK，那么这是登录过程的直接示例： [https ://github.com/facebook/facebook-php-sdk/blob/master/examples/example.php](https://github.com/facebook/facebook-php-sdk/blob/master/examples/example.php)

否则，按照您在上面发布的链接，如果您只是从上面编译示例片段，您应该有一个完整的工作示例！！：

```
<?php 

   $app_id = "YOUR_APP_ID";
   $app_secret = "YOUR_APP_SECRET";
   $my_url = "YOUR_URL";

   session_start();

   $code = $_REQUEST["code"];

   if(empty($code)) {
     $_SESSION['state'] = md5(uniqid(rand(), TRUE)); // CSRF protection
     $dialog_url = "https://www.facebook.com/dialog/oauth?client_id=" 
       . $app_id . "&redirect_uri=" . urlencode($my_url) . "&state="
       . $_SESSION['state'] . "&scope=read_stream";

     echo("<script> top.location.href='" . $dialog_url . "'</script>");
   }

   if($_SESSION['state'] && ($_SESSION['state'] === $_REQUEST['state'])) {
     $token_url = "https://graph.facebook.com/oauth/access_token?"
       . "client_id=" . $app_id . "&redirect_uri=" . urlencode($my_url)
       . "&client_secret=" . $app_secret . "&code=" . $code;

     $response = file_get_contents($token_url);
     $params = null;
     parse_str($response, $params);

     $_SESSION['access_token'] = $params['access_token'];

     $graph_url = "https://graph.facebook.com/me?access_token=" 
       . $params['access_token'];

     $user = json_decode(file_get_contents($graph_url));
     echo("Hello " . $user->name);
   }
   else {
     echo("The state does not match. You may be a victim of CSRF.");
   } 
```

在这里您需要放置您的 APP_ID、APP_SECRET 和重定向 URL……您可能还想更改权限（范围）或将其全部删除。

# php - while循环中的while循环

> ID：14257186
> 
> 赞同：0
> 
> 时间：2013-01-10T11:44:59.013
> 
> 标签：php, loops, while-loop

感谢您的回答，我真的很高兴.. 我编辑了代码，我想问一下，我编辑得好吗？:-)

```
 $result = $sql->query("SELECT * FROM `topic` ;");
                    while($row = $result->fetch_object())
                    {
                    $id=$row->id;
                    $photo=$row->photo;
                    $title=$row->title;
                    $shortinfo=$row->shortinfo;
                    echo"<div id='article'>
                        <a href='reporty.php?page=$id'><div id='article_img'><img src='$photo'/></div></a>
                        <div id='article_text'>
                        <h2>$title</h2>
                        <p>$shortinfo</p>
                        </div>
                        </div>"; 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-10T11:46:49.960

您应该将第二个查询设置为`$result1`因为新查询正在替换第一个查询。这就是为什么您总是只有一个结果

```
$result = $sql->query("SELECT * FROM `topic` ;");
while($row = $result->fetch_object())
{
   $id=$row->id;                     
   echo '<div id="article">
            <a href="';
   echo '.php"><div id="article_img"><img src="';
   $result1 = $sql->query("SELECT `photo` FROM `topic` WHERE id='$id' ;");
   while ($row1 = $result->fetch_array()) {
       echo $row1['photo'];
   }
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-10T11:47:40.383

`$result`并且`$row`在两个循环中使用相同的变量名。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-10T11:50:48.320

我建议使用易读且不言自明的变量名称，例如`$photo_result`and `$title_result`。这也将解决您的问题，因为您在循环中使用相同的变量名。

为了性能和简单性，你为什么不用你`JOIN`的桌子？那么你只有一个查询和一个循环。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-10T11:52:12.510

始终给出正确的变量名。你`$result and $row`在这里持有所有最重要的变量。

相同的内存位置将始终更新。所以它失去了旧的价值观（我们在一年级学位/ PUC 第一年学到了这一点）

像这样做，

例如，当您从`topic`表中获取并选择`photo`时，

使用`$topicResultForPhto and`$topicPhotoRow 之类的变量。为所有人做这件事。

还有一个错误，

您已经调用 like`SELECT *`并且您拥有表中的所有字段。为什么要再次调用 from`photo`和其他字段之类的`select photo from topics where`？

# ruby-on-rails - twitter-bootstrap-rails 基本字体大小和行高

> ID：14257194
> 
> 赞同：3
> 
> 时间：2013-01-10T11:45:32.790
> 
> 标签：ruby-on-rails, twitter-bootstrap, twitter-bootstrap-rails

我在我的项目中使用 twitter-bootstrap-rails gem ( [https://github.com/seyhunak/twitter-bootstrap-rails](https://github.com/seyhunak/twitter-bootstrap-rails) )。最新版本使用当前引导值（基本字体大小 14 和行高 20 ）。我想将这些值设置回 13 和 18。我认为它可以通过放置

```
@baseFontSize: 13px;
@baseLineHeight: 18px; 
```

进入`bootstrap_and_overrides.css.less`. 但这似乎不起作用。那么我该如何改变它们呢？

谢谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-10T13:23:49.957

实际上，您发布的内容对我有用。你把这两行放在文件的末尾吗？或者更准确地说**，**在引导导入之后：

```
@import "twitter/bootstrap/bootstrap";
@import "twitter/bootstrap/responsive";

@baseFontSize: 13px;
@baseLineHeight: 18px; 
```

如果您不这样做，我将无法工作，因为变量会被覆盖。

# c - ARP报文如何获取IP

> ID：14257196
> 
> 赞同：1
> 
> 时间：2013-01-10T11:45:38.023
> 
> 标签：c, linux, arp

我需要知道 ARP 回复的发件人的 IP 地址。我尝试使用 recvfrom，但无法从中获取 IP 地址。谢谢您的帮助。

我有一些子进程，每个子进程都向 IP 地址发送一个 ARP 请求。问题是响应来自所有子进程，因为套接字是原始的，所以我需要以某种方式知道响应到达的是哪个子进程。我试过了

```
struct sockaddr_ll linkLayerAddr;
char buf[32];
int sockaddr_len=sizeof(linkLayerAddr);
memset(&linkLayerAddr,0,sizeof(linkLayerAddr));
fcntl(sock,F_SETFL,O_NONBLOCK);
nanosleep(&time1,NULL);

if(recvfrom(sock,buf,sizeof(buf),0,(struct sockaddr*)&linkLayerAddr,&sockaddr_len)==-1){

info.status=0; 
}//se primeste raspunsul
else{
info.status=1;

} 
```

我等待 800000 纳秒的回复，我想知道消息来自什么 IP。使用 recvfrom 我只能获取 MAC 地址。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-10T12:03:43.040

埃米尔，我已经回答了同样的问题。

点击这里：

[同样的问题](https://stackoverflow.com/questions/14253639/linux-arp-recvfrom-information/14256039#14256039)

如果你不喜欢这个答案，让我们讨论一下，但避免使用相同的主题打开新问题

# java - 通用方法

> ID：14257197
> 
> 赞同：1
> 
> 时间：2013-01-10T11:45:43.410
> 
> 标签：java

我需要向这个泛型方法发送一个整数数组和一个字符串数组，并确定那里是否存在某个数字或字符串。我写了这段代码，但它在`if(e==30)`说“ `Incompatible operand types E and int`”的行上给出了一个错误。请帮忙。

```
public class Ch2Lu3Ex2
 {
   public static <E> void searchArray(E[] inputArray)
   {
    for(E e : inputArray)
     {
       if(e==30)
         {
          System.out.println("Element found in integer array");
         }
       else if(e=="raj")
         {
           System.out.println("Element found in string array");
         }

     }
  } 

 public static void main(String[] args)
  {
       Integer[] integerArray = {10,20,30};
       String[] stringArray = {"robin","raj","ravi"};
       searchArray(integerArray);
       searchArray(stringArray);
    }
  } 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-10T11:49:41.470

问题是您不知道`e`是 an`Integer`还是 a `String`，并且您无法将 a`String`与 an进行比较`Integer`，反之亦然。

一种解决方案是将寻找的项目也传递给您的方法 - 它可能如下所示：

```
public static <E> void searchArray(E[] inputArray, E soughtItem) {
    for (E e : inputArray) {
        if (e.equals(soughtItem)) {
            System.out.println("Element found in integer array");
        }
    }
} 
```

在您的主要代码中：

```
searchArray(integerArray, 30);
searchArray(stringArray, "raj"); 
```

另请注意，您应该使用`equals`而不是`==`进行相等测试。

最后，所有这些都已经被其他人写了：

```
Set<String> set = new HashSet<String> (stringArray);
if (set.contains("raj")) System.out.println("Found raj"); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-10T11:51:20.420

有两个错误，都必须改正：

1）像这样修复它：`if(e instanceof Integer && (Integer)e==30)`- 你必须检查，这`e`是一个实例`Integer`

2) `String`s 必须使用`equals`方法进行比较：

`else if(e.equals("raj"))`

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-10T11:52:28.610

比较对象时不要使用“==”！更改为“equals()”方法，应该可以工作！

```
public class Ch2Lu3Ex2
 {
   public static <E> void searchArray(E[] inputArray)
   {
    for(E e : inputArray)
     {
       if(e.equals(30))
         {
          System.out.println("Element found in integer array");
         }
       else if("raj".equals(e)) //This way no null pointer will occure
         {
           System.out.println("Element found in string array");
         }

     }
  } 

 public static void main(String[] args)
  {
       Integer[] integerArray = {10,20,30};
       String[] stringArray = {"robin","raj","ravi"};
       searchArray(integerArray);
       searchArray(stringArray);
    }
  } 
```

# ruby-on-rails - 仅适用于 [POST] 的默认路由 - Ruby on Rails 3.2

> ID：14257202
> 
> 赞同：0
> 
> 时间：2013-01-10T11:45:49.523
> 
> 标签：ruby-on-rails, paypal, ruby-on-rails-3.2, refinerycms

在我的网站上为 PayPal 指定返回 URL 时，我收到以下错误：

> 没有路线匹配 [POST] "/"

我想为该`POST`方法指定一个默认路由。

如何使默认`'root'`路由也接受`POST`请求？我可以为和请求指定单独`'root'`的路由吗？`POST``GET`

我的路线目前看起来像这样：

```
root GET / refinery/pages#home 
```

顺便说一句，我正在使用 Refinery CMS

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-10T21:50:10.020

最后对我有用的是一个`match`加号`redirect`：

```
match "/" => redirect("/"), :via => :post 
```

这将`POST`请求`/`转换为`GET`请求。否则，请求会转到正确的路由，但它仍然是`POST`请求，这使得我的会话未加载。我仍然不确定为什么一个`POST`请求`/`没有加载我在去 PayPal 并回来之前的原始会话。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-10T13:40:29.127

我认为`root` *是*一个`GET`请求，它“想要”指定如果应用程序仅由域名调用（或引擎的挂载路径），它应该如何回答。

您可以尝试使用

```
match "/", :via => :post ... 
```

但是如果您允许返回问题：您为什么坚持 PayPal 应该发布到您的根 URL？您应该可以在那里指定任意 URL，只需定义一个

```
match "postback" => "...", :via => :post 
```

一切都好。

顺便说一句：sanny Sin 要求你发布命令的输出，`rake routes`在你的命令行上输入它（并且最有可能省略炼油厂路线:-)

# c# - 在 C# 中将字符串转换为泛型类型（基本或数组）

> ID：14257207
> 
> 赞同：3
> 
> 时间：2013-01-10T11:46:01.617
> 
> 标签：c#, generics, type-conversion

我想将字符串转换为给定的泛型类型`T`。它可以是基本类型或字符串（例如`int`or `string`），也可以是基本类型或字符串的数组（例如`int[]`or `string[]`）。我有以下功能：

```
T Str2Val<T>(string str)
{
  return (T)Convert.ChangeType(str, typeof(T));
} 
```

它适用于基本类型。但它`T`作为一个数组`E[]`和`str`一个逗号分隔的值列表失败了。

我可以很容易地检查是否`T`是一个数组`typeof(T).IsArray`。然后我有两个解决方案：使用标量解析同一函数中的数组，如下所示：

```
 if (!typeof(T).IsArray)
  {
    return (T)Convert.ChangeType(str, typeof(T));
  }
  else
  {
    // Handle an array
  } 
```

或实现两个重载函数：一个用于泛型`T`，第二个用于泛型`E[]`。然而，这两种解决方案都失败了。我不能在 else 子句中使用任何特定于数组的代码，因为它必须与标量兼容。并且 C# 不能选择适当的重载`E[]`when`T`实际上是一个数组。

我应该怎么办？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-01-10T12:03:40.380

我会创建一些您注册的自定义解析器列表，然后再利用，因为您似乎无论如何都想使用自定义规则：

```
public static class StringParsers
{
    private static Dictionary<Type, object> Parsers = new Dictionary<Type, object>();

    public static void RegisterParser<T>(Func<string, T> parseFunction)
    {
        Parsers[typeof(T)] = parseFunction;
    }

    public static T Parse<T>(string input)
    {
        object untypedParser;
        if (!Parsers.TryGetValue(typeof(T), out untypedParser))
            throw new Exception("Could not find a parser for type " + typeof(T).FullName);

        Func<string, T> parser = (Func<string, T>)untypedParser;

        return parser(input);
    }
} 
```

在您的应用程序初始化期间，您将注册您打算稍后在应用程序中使用的类型（我猜这是已知的，因为您使用的是泛型）：

```
StringParsers.RegisterParser<string[]>(input => input.Split(','));
StringParsers.RegisterParser<int[]>(input => input.Split(',').Select(i => Int32.Parse(i)).ToArray());
StringParsers.RegisterParser<int>(input => Int32.Parse(input)); 
```

最后，您可以简单地调用它：

```
string testArrayInput = "1,2,8";

int[] integers = StringParsers.Parse<int[]>(testArrayInput); // {1, 2, 8}

string[] strings = StringParsers.Parse<string[]>(testArrayInput); // {"1", "2", "8"}

int singleInt = StringParsers.Parse<int>("9999"); //9999 
```

现在，这是一个非常简单的实现。您可能希望扩展它，而不是使用类型`Func<string, T>`，它可能会使用`IStringParser`接口，并且您可以在必要时提供更深入的解析实现。此外，您可能希望使其线程安全（除非您确定这不会成为问题，或者如果您确定您在启动时的注册是*在*任何使用之前）

编辑：如果你真的，真的，*真的*想在一个函数中*只*考虑你的逗号分隔数组，那么你可以使用这个：

```
public static T Str2Val<T>(string str)
{
    if (!typeof(T).IsArray)
        return (T)Convert.ChangeType(str, typeof(T));

    Type elementType = typeof(T).GetElementType();

    string[] entries = str.Split(',');
    int numberOfEntries = entries.Length;

    System.Array array = Array.CreateInstance(elementType, numberOfEntries);

    for(int i = 0; i < numberOfEntries; i++)
        array.SetValue(Convert.ChangeType(entries[i], elementType), i);

    return (T)(object)array;
} 
```

但这感觉太*不对劲了*。必须有更好的方法，并避免在亚历山大的答案中出现双重通用输入，但你去吧。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-01-10T12:13:34.677

另一种具有显式元素类型传递的解决方案：

```
static T Str2Val<T>(string str)
{
    return (T)Convert.ChangeType(str, typeof(T));
}

static E[] Str2Val<T, E>(string str)
    where T : ICollection<E>
{
    return str.Split(',').Select(x => (E)Convert.ChangeType(x, typeof(E))).ToArray();
} 
```

使用

```
Str2Val<int>("1")
Str2Val<int[], int>("1,3") 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-10T12:05:57.890

也许这样的事情会有所帮助：

```
dynamic Str2Val<T>(string str)
{
    if (!typeof(T).IsArray)
        return (T)Convert.ChangeType(str, typeof(T));

    var elementType = typeof(T).GetElementType();
    return str.Split(',').Select(x => Convert.ChangeType(x, elementType)).ToArray();
} 
```

# php - PHP CodeSniffer include_once 错误

> ID：14257209
> 
> 赞同：18
> 
> 时间：2013-01-10T11:46:05.510
> 
> 标签：php, macos, codesniffer

我正在尝试在 OS X Mountain Lion 上安装 PHP CodeSniffer - 我似乎遇到了一个奇怪的问题

运行“phpcs”时出现以下错误：

```
PHP Warning:  include_once(PHP/CodeSniffer/CLI.php): failed to open stream: No such
file or directory in /usr/lib/php/pear/bin/phpcs on line 31

PHP Warning:  include_once(): Failed opening 'PHP/CodeSniffer/CLI.php' for inclusion
(include_path='.;/usr/lib/php/pear/share/pear/') in /usr/lib/php/pear/bin/phpcs on line 31

PHP Fatal error:  Class 'PHP_CodeSniffer_CLI' not found in /usr/lib/php/pear/bin/phpcs
on line 34 
```

文件 /usr/lib/php/pear/share/pear/PHP/CodeSniffer/CLI.php 存在，这让我很困惑

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2014-03-18T08:42:06.357

在我的配置中，PHP/ 路径并不是 phpcs 所期望的。我通过创建指向缺失路径的符号链接来解决它。

转到 pear 目录并运行：

```
ln -s share/pear/PHP/ PHP 
```

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2014-12-19T10:06:03.083

这可能不是最好的解决方案，但它不需要更改您的路径或其他任何内容。在 phpcs 文件中，您将找到包含以下内容的部分：

```
if (is_file(dirname(__FILE__).'/../CodeSniffer/CLI.php') === true) {
   include_once dirname(__FILE__).'/../CodeSniffer/CLI.php';
else {
   include_once 'PHP/CodeSniffer/CLI.php';
} 
```

如果您的路径指向正确的文件 CLI.php（即“/usr/local/pear/share/pear/PHP/CodeSniffer/CLI.php”），只需添加一个新的 else：

```
if (is_file(dirname(__FILE__).'/../CodeSniffer/CLI.php') === true) {
   include_once dirname(__FILE__).'/../CodeSniffer/CLI.php';
} else if (is_file('/usr/local/pear/share/pear/PHP/CodeSniffer/CLI.php')) {
   include_once '/usr/local/pear/share/pear/PHP/CodeSniffer/CLI.php';
} else {
   include_once 'PHP/CodeSniffer/CLI.php';
} 
```

最后但并非最不重要的一点是，为以后的版本和更新记录此更改。最后的解决方案必须是 PHPCS 的开发人员为找到 CLI.php 做一个更可靠的构造

* * *

## 回答 #3

> 赞同：6
> 
> 时间：2013-04-02T03:26:27.530

[使用通过Composer](http://getcomposer.org/)安装的 PHP CodeSniffer 时出现此错误。

修复它：

```
cd /path/to/app
rm -rf vendor/
composer update 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2014-07-17T21:09:51.960

如果您使用的是 MAMP，请在您的路径中包含以下内容：

```
export PATH=/Applications/MAMP/bin/php/php5.X.XX/lib/php:$PATH 
```

通过将 5.X.XX 替换为您的 php 版本。就我而言，这是：

```
export PATH=/Applications/MAMP/bin/php/php5.4.26/lib/php:$PATH 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2016-09-29T23:15:38.740

卸载它并使用composer重新安装它

```
alias php=/Applications/MAMP/bin/php/php5.6.10/bin/php;
composer global require "squizlabs/php_codesniffer=*"; 
```

来源：[https ://tommcfarlin.com/php-codesniffer-with-composer/](https://tommcfarlin.com/php-codesniffer-with-composer/)

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2014-10-19T14:08:47.157

就我而言——安装了[PHP-OSX——](http://php-osx.liip.ch/)我必须像这样修复符号链接：

```
cd /usr/local/php5/lib/php/PHP 
```

接着：

```
ln -s /usr/local/share/pear/PHP/CodeSniffer
ln -s /usr/local/share/pear/PHP/CodeSniffer.php 
```

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2013-01-10T13:38:24.497

发现了问题 - 我在 include_path 中使用了 Windows 分隔符（分号）而不是 Unix 分隔符（冒号），所以它应该是：

```
 .:/usr/lib/php/pear/share/pear/ 
```

代替

```
 .;/usr/lib/php/pear/share/pear/ 
```

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2015-01-31T16:58:23.470

值得一提的是，我使用 homebrew (OS X) 安装了 PHP。第一次安装是 5.6.3，但随着时间的推移升级。默认的ini文件，你可以通过以下方式找到文件的位置：

```
php -i | grep ini 
```

在 osx 上 - 仍然有对 5.6.3 的路径引用。当我更新这些 - 特别是包含路径时，一切正常；不需要符号链接。

* * *

## 回答 #9

> 赞同：0
> 
> 时间：2017-10-02T14:24:14.590

我有这个问题试图以非特权用户身份运行 phpcs，通过 PEAR 以 root 身份安装它。

对我来说修复是更改权限，以便非特权用户可以访问依赖项：

```
chmod -R o+rx /usr/local/lib/php/ 
```

* * *

## 回答 #10

> 赞同：0
> 
> 时间：2018-04-14T20:45:40.627

我通过将正确的路径添加到 PHP 扫描 INI 文件的另一个目录（它在 phpinfo.php 中列出）来解决它。从终端执行这三个命令：

```
sudo mkdir -p /Library/Server/Web/Config/php

sudo touch /Library/Server/Web/Config/php/local.ini

echo 'include_path = ".:'`pear config-get php_dir`'"' | sudo tee -a /Library/Server/Web/Config/php/local.ini 
```

* * *

## 回答 #11

> 赞同：0
> 
> 时间：2016-02-03T00:31:18.340

这个`D:\wamp\bin\php\php_VERSION\phpcs`修改在 wamp 上对我有用

```
if (is_file(dirname(__FILE__).'/../CodeSniffer/CLI.php') === true) {
    include_once dirname(__FILE__).'/../CodeSniffer/CLI.php';
} else if (is_file(dirname(__FILE__).'/pear/PHP/CodeSniffer/CLI.php') === true) {
   include_once dirname(__FILE__).'/pear/PHP/CodeSniffer/CLI.php';
} else {
    include_once 'PHP/CodeSniffer/CLI.php';
}

$cli = new PHP_CodeSniffer_CLI();
$cli->runphpcs(); 
```

# mysql - 如何合并两个表？

> ID：14257212
> 
> 赞同：0
> 
> 时间：2013-01-10T11:46:07.967
> 
> 标签：mysql

我有以下数据库结构：

```
`Products`
-------------------------------------
ID | ProductNo
-------------------------------------
1 | 3340
2 | 3450

`ProductVariants`
-------------------------------------
ID | MasterID (ref to `Products`.`ID`) | ProductNo
-------------------------------------
1 | 1 | 3341
2 | 1 | 3342
3 | 2 | 3451 
```

如何通过一次查询获得产品及其产品变体？

编辑：

期望的结果：

```
MasterID | IsMaster | ProductNo | VariantProductNo
1 | 1 | 3340 | null
1 | 0 | 3340 | 3341
1 | 0 | 3340 | 3342
2 | 1 | 3450 | null
2 | 0 | 3450 | 3451 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-10T11:48:51.923

您将希望在其上加入这两个表`Id = MasterId`：

```
select *
from products p
left join ProductVariants v
  on p.id = v.Masterid 
```

请参阅[带有演示的 SQL Fiddle](http://sqlfiddle.com/#!2/3673b/2)

A`LEFT JOIN`将返回所有`products`，即使它们在表中没有相应的记录`ProductVariants`。

An`INNER JOIN`将返回出现在两个表中的记录。

这是一个有助于学习连接语法[的连接的直观解释。](http://www.codinghorror.com/blog/2007/10/a-visual-explanation-of-sql-joins.html)

如果您有更多表要加入，那么您将使用：

```
select *
from products p
left join ProductVariants v
  on p.id = v.Masterid
left join MasterArtikel m
  on v.MasterId = m.MasterId  -- you place the columns that join the tables here 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-10T11:51:48.660

这会做到

```
SELECT *
FROM Products
INNER JOIN ProductVariants
ON Products.ID = ProductVariants.MasterID 
```

通常使用单个查询来提高效率（您可以在 Products 表上进行查询，循环查询结果，并为每个查询在 ProductVariants 表上进行查询，但这会很慢）。

如果您想要没有变体的产品，您可以使用 LEFT OUTER JOIN

为了满足您更新的要求，类似这样的东西（未经测试，请原谅任何错别字）

```
SELECT Products.MasterID, 1 AS IsMaster, Products.ProductNo, NULL AS VariantProductNo
FROM Products
UNION
SELECT Products.MasterID, 0 AS IsMaster, Products.ProductNo, ProductVariants.VariantProductNo
FROM Products
INNER JOIN ProductVariants
ON Products.ID = ProductVariants.MasterID
ORDER BY MasterID, IsMaster DESC, ProductNo 
```

# c# - 在 C# 中以只读方式打开 SQLITE

> ID：14257217
> 
> 赞同：2
> 
> 时间：2013-01-10T11:46:21.733
> 
> 标签：c#, winforms, sqlite, connection-string, readonly

我试图根据此链接以只读模式打开[SQLITE数据库：](http://www.sqlite.org/) [SQLite 的连接字符串](http://www.connectionstrings.com/sqlite)

**SQLITE 连接字符串**

```
string ConString = string.Format(@"Data Source={0}dbname.s3db;Version=3;New=False;Compress=True;Mode = Read Only;Temp Path={1};"
                , System.AppDomain.CurrentDomain.BaseDirectory,TempPath); 

            using (SQLiteConnection connection = new SQLiteConnection(ConString))
            {
                    //Rerun Exception
                    connection.Open(); 
```

例外：

> 有效参数：Data Source=（必需） Version=（默认：2） New=True|False（默认：False） Compress=True|False（默认：False） UTF8Encoding=True|False（默认：False）

根据通过使用标志设置只读模式[打开一个新的数据库连接](http://www.sqlite.org/c3ref/open.html)`SQLITE_OPEN_READONLY`可以以只读模式打开数据库，但是任何人在c#中完成了吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-10T12:05:17.027

我只是将我的应用程序刻录在 CD 上，它在`read-only`模式下工作。

似乎不需要`read only`为只读设备（如 CD 或 DVD）设置模式，它工作正常：）

# javascript - 使用 JqueryMobile 的 Google 文档

> ID：14257218
> 
> 赞同：1
> 
> 时间：2013-01-10T11:46:28.730
> 
> 标签：javascript, jquery, jquery-mobile, google-docs-api

我尝试使用此[插件](http://www.jawish.org/blog/archives/394-Google-Docs-Viewer-plugin-for-jQuery.html)在当前打开的浏览器中阅读 pdf 文档。它在常规浏览器上非常有效，但是当我从手机打开它时，它不适合屏幕。

那么，有没有一种方法可以在手机上正确显示文档...

有这样的东西是 Jquery Mobile 吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-10T21:09:31.563

也许您可能对 Google Docs 查看器感兴趣？
这是语法：

```
 http://docs.google.com/viewer?url=URLTOFILE 
```

[请参阅此处的示例](https://docs.google.com/viewer?url=http://puravidaapps.com/images/snippets/WooHoo.pdf)
以获取更多信息，[另请参阅此线程](http://productforums.google.com/forum/#!topic/docs/dVoqTTVu9U4)

# jquery - jQuery 选项卡 - 使用 URL 内容填充选项卡面板

> ID：14257221
> 
> 赞同：-1
> 
> 时间：2013-01-10T11:46:36.933
> 
> 标签：jquery

我需要有关 jQuery 选项卡的帮助。

我有以下打印标签的代码

```
<html>
    <head>
        <title>jQuery UI URL Tabs</title>

        <link rel="stylesheet" href="http://code.jquery.com/ui/1.9.2/themes/base/jquery-ui.css" />
        <script src="http://code.jquery.com/jquery-1.8.3.js"></script>
        <script src="http://code.jquery.com/ui/1.9.2/jquery-ui.js"></script>
    </head>
    <script>
        $(function() {
            $( "#myTabs" ).tabs();
        });
    </script>
    <body>
        <div id="myTabs">
            <ul>
                <li><a href="#t1">Page 1</a></li>
                <li><a href="#t2">Page 2</a></li>
            </ul>
            <div id="t1"></div>
            <div id="t2"></div>
        </div>
    </body>
</html> 
```

我想使用 URL 动态加载选项卡的内容，例如 t1 = [http://www.google.co.in](http://www.google.co.in) t2 = [http://www.yahoo.com](http://www.yahoo.com)

有人可以帮忙吗？

谢谢你。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-10T11:52:23.243

你并没有真正尝试自己解决这个问题，是吗？请查看 jQuery 文档并查找 $.load() 或 $.ajax()

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-10T11:52:04.543

您不能将整个页面加载到 Jquery 选项卡中。您可以使用 Ajax 加载简单的 html 或内容。

尝试将 iframe 插入到 Jquery Tab 中，然后将 url 加载到 Tab 中。

# android - 以编程方式将 webview 对齐到 LinearLayout 的中心

> ID：14257222
> 
> 赞同：2
> 
> 时间：2013-01-10T11:46:38.133
> 
> 标签：android, android-webview, center

我在 xml 中有一个 LinearLayout，现在我将 webview 添加到该 LinearLayout 但 webview 显示在顶部，它没有在中心对齐。

这就是它现在的显示方式。

```
webview content
--------------------
webview content
--------------------
webview content
-------------------- 
```

代码

```
 WebView answerHtml = new WebView(this);
        answerHtml.setId(i);
        answerHtml.setOnTouchListener(AnswerListener);
        answerHtml.setBackgroundColor(0);
        answerHtml.setBackgroundResource(R.drawable.ans_back);
        answerHtml.getSettings().setJavaScriptEnabled(true);
        answerHtml.loadDataWithBaseURL(null, a.getText(), "text/html", "utf-8", null);
        ansCellLayout.addView(answerHtml,new LinearLayout.LayoutParams(LayoutParams.MATCH_PARENT,80));
        ansCellLayout is a Linearlayout  defined in xml. 
```

**解决了**

```
answerHtml.loadDataWithBaseURL(null,"<html><head><style type='text/css'>html,body {margin: 0;padding: 0;width: 100%;height: 100%;}html {display: table;}body {display: table-cell;vertical-align: middle;text-align: center;}</style></head><body><p>"+a.getText()+"</p></body></html>", "text/html", "utf-8", null); 
```

现在它垂直居中于布局。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-08-18T11:03:09.743

使用此示例并对其进行自定义：

```
 String desiredContent = "my test html";
            String strBody = "<html>"
                + "<head>"
                + "     <style type=\"text/css\">"
                + "     @font-face "
                + "         {   font-family: Tahoma;"
                + "             src:url(\"~/android_asset/fonts/MyriadPro-Regular.otf\") "
                + "         }"
                + "     #text"
                + "         {   font-family: Tahoma;"
                + "             font-size:14;"
                + "             text-align: center;"
                + "         }"
                + "     </style>"
                + ""
                + "</head>"
                + "<body dir=\"rtl\" id=\"text\">"
                + desiredContent 
                + " </body></html>  ";

        myWebView.loadDataWithBaseURL(null, strBody, "text/html", "utf-8",
                null); 
```

请享用！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-10T12:16:53.150

尝试在您的活动中使用以下代码：

```
ansCellLayout.setGravity ( Gravity.CENTER ); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-10T11:59:17.330

尝试像这样设置您的 LineraLayout：

**编辑1：**

```
<?xml version="1.0" encoding="utf-8"?>
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
android:layout_width="fill_parent"
android:layout_height="fill_parent" >

<LinearLayout
    android:id="@+id/linearLayout"
    android:layout_width="fill_parent"
    android:layout_height="wrap_content" 
    android:layout_centerInParent="true">
</LinearLayout>

</RelativeLayout> 
```

从活动：

```
 LinearLayout ansCellLayout = (LinearLayout) findViewById(R.id.linearLayout);

        WebView answerHtml = new WebView(this);
        answerHtml.setId(1);
       // answerHtml.setOnTouchListener(AnswerListener);
        answerHtml.setBackgroundColor(0);
        answerHtml.setBackgroundResource(R.drawable.ic_launcher);
        answerHtml.getSettings().setJavaScriptEnabled(true);
        answerHtml.loadDataWithBaseURL(null, "test test", "text/html", "utf-8", null);
        ansCellLayout.addView(answerHtml,new LinearLayout.LayoutParams(LayoutParams.MATCH_PARENT,80)); 
```

谢谢。

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2013-01-10T12:21:52.757

试试这个（这是对 Pratik 帖子的编辑）：

```
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="fill_parent"
    android:layout_height="wrap_content" >

    <LinearLayout
        android:id="@+id/linearLayout"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content" 
        android:centerHorizontal="true">
    </LinearLayout>

</RelativeLayout> 
```

# filter - 如何在 Gremlin 过滤器中使用自定义函数？

> ID：14257227
> 
> 赞同：0
> 
> 时间：2013-01-10T11:46:51.523
> 
> 标签：filter, user-defined-functions, gremlin

在 Gremlin 中，我可以如下定义一个函数：

```
def name_is_potato (v) { return v.has('name','potato').count() == 1} 
```

当我打电话

```
name_is_potato(g.V[0]) 
```

我明白了

```
==>true 
```

但是当我进入

```
g.V[0].filter{name_is_potato(it)} 
```

我明白了

```
==>java.lang.StackOverflowError 
```

这有什么问题？我怎样才能让它运行？我使用 Rexster 的 doghouse 基于 Web 的界面。

当我想编写一个函数时遇到了这个问题，如果在给定顶点的任何地方有任何名为土豆的顶点，该函数返回 true。虽然我对这个问题的任何其他解决方案感兴趣，但我在这个阶段的目标（作为初学者 Gremliner）是对 Gremlin 的评估/学习，了解它的工作原理，尝试不同的解决方案，而不是找到最好的解决方案.

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-30T19:41:17.247

作为 2.3.0-SNAPSHOT 的一部分，已向 Gremlin 提交了针对此问题的修复：

[https://github.com/tinkerpop/gremlin/issues/331](https://github.com/tinkerpop/gremlin/issues/331)

从源代码构建 rexster 应该可以解决问题。这是我在 Rexster Console 中所做的测试：

```
rexster[groovy]> def isVadas(v){v.name=="vadas"}
==>null
rexster[groovy]> g = rexster.getGraph("tinkergraph")
==>mocktinkertransactionalgraph[vertices:6 edges:6 directory:data/graph-example-1]
rexster[groovy]> isVadas(g.v(2))
==>true
rexster[groovy]> isVadas(g.v(1))
==>false
rexster[groovy]> g.V.filter{isVadas(it)}
==>v[2] 
```

# android - 在 Android 4.0.3 中以编程方式访问 WiFi 设置

> ID：14257230
> 
> 赞同：1
> 
> 时间：2013-01-10T11:47:06.137
> 
> 标签：android, android-4.0-ice-cream-sandwich, android-wifi

我知道我们如何访问 WiFi 设置的方法，它是通过下面的代码实现的 -

```
context.startActivity(new Intent(Settings.ACTION_WIRELESS_SETTINGS)); 
```

但是，当我在 android 4.0.3 中使用它时，它会引导我进入“无线配置设置”页面，在该页面中找不到“打开/关闭 Wifi 按钮”。因为它在无线配置页面之外。

我怎么能实现它？我正在三星 Galaxy S2 上进行测试。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-10T11:56:09.930

[这是一个很好的线程](https://stackoverflow.com/questions/2318310/how-can-i-call-wi-fi-settings-screen-from-my-application-using-android)，也许它可以帮助你

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-10T11:48:25.223

这个怎么样？

```
context.startActivity(new Intent(Settings.ACTION_WIFI_SETTINGS)); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-10T12:09:13.500

试试这个

```
startActivity(new Intent(Settings.ACTION_WIRELESS_SETTINGS)); 
```

# ruby - 为什么 IRB 无法找到“要求”的文件？

> ID：14257234
> 
> 赞同：4
> 
> 时间：2013-01-10T11:47:33.250
> 
> 标签：ruby

我在目录中有一个文件`test/`。该文件是“test.rb”。

当我启动 IRB 并输入：

```
require 'test'
require_relative 'test' 
```

它返回：

```
LoadError: cannot load such file -- test 
```

和：

```
LoadError: cannot infer basepath 
```

我的红宝石坏了吗？

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2013-01-10T12:12:24.350

尝试`require './test'`

我认为较新版本的 Ruby 从 Ruby 路径中删除了当前目录。

编辑：

另外，请查看“[为什么我的 Ruby 路径上没有当前目录？](https://stackoverflow.com/a/4965766/749004) ”的答案，以了解为什么`require_relative`在 irb 中不起作用。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-07-10T16:21:37.347

需要的文件应该与交互式 ruby​​ 存在于同一目录中（对于 Windows）。例如，我在 C:\ 中安装了 ruby​​。因此，我的交互式 ruby​​ 位于 C:\Ruby22\bin 中。因此，粘贴所需的文件并在“交互式 ruby​​”中键入 require './file'。

# delphi - Delphi-sqlite 查询问题 - 找不到表

> ID：14257239
> 
> 赞同：0
> 
> 时间：2013-01-10T11:47:49.320
> 
> 标签：delphi, sqlite, delphi-xe2, delphi-xe3

我正在尝试从 Delphi 查询其中一张 SQLite 3 表。（我的数据库是世界，我在其中有一个名为 City 的表）。我的代码是：

```
procedure TForm1.Button1Click(Sender: TObject);
begin
// Set the path of your database file.
  // Replace "full_path_to_your_database_file" with the absolute path
  // to your SQLite database file.
  SQLConnection1.Params.Add('World.db3');
  try
    // Establish the connection.
    SQLConnection1.Connected := true;
    Button1.Enabled := true;
    Memo1.Text := 'Connection established!';
  except
    on E: EDatabaseError do
      ShowMessage('Exception raised with message' + E.Message);
  end;
end;

procedure TForm1.ShowSelectResults(results: TDataSet);
var
  names: TStringList;
  i: Integer;
  currentField: TField;
  currentLine: string;
begin
  if not results.IsEmpty then
  begin
    results.First;
    names := TStringList.Create;
    results.GetFieldNames(names);
    while not results.Eof do
    begin
      currentLine := '';
      for i := 0 to names.Count - 1 do
      begin
        currentField := results.FieldByName(names[i]);
        currentLine := currentLine + ' ' + currentField.AsString;
      end;
      memo1.Lines.Add(currentLine);
      results.Next;
    end;
  end;
end;

procedure TForm1.Button2Click(Sender: TObject);
var
  results: TDataSet;
  query: String;
begin
  Memo1.Clear;
  // A random query
  query := 'SELECT * FROM City;';

  try
  // Execute the query on the database.
    SQLConnection1.Execute(query, nil, results);
  except
    on E: Exception do
      Memo1.Text := 'Exception raised with message: ' + E.Message;
  end;
  // Show the results of the query in a TMemo control.
  ShowSelectResults(results);
end; 
```

当我编译并执行这段代码时，它正在连接到数据库；但抛出此错误。**“消息引发异常：没有这样的表：城市”** 我花了好几个小时来弄清楚为什么我会遇到这个错误。也尝试了该代码的多个版本。似乎也不起作用。非常感谢这方面的任何帮助。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-10T12:20:48.700

当 SQLite 找不到数据库文件时，很高兴创建并打开一个新文件。
您应该*始终*为数据库文件使用绝对路径。

此外，您忘记包含连接参数的参数名称：

```
SQLConnection1.Params.Add('Database=' + ExtractFilePath(ParamStr(0)) + 'World.db3'); 
```

# ssrs-2008 - MDX - 将无穷大值更改为零

> ID：14257241
> 
> 赞同：0
> 
> 时间：2013-01-10T11:48:00.007
> 
> 标签：ssrs-2008, ssas, mdx

我有一个计算的度量，它在某些情况下由于 NULL 除法而返回 Infinity。

我的偏好只是更改报告中的 MDX 而不是更改多维数据集等。我想要而不是无穷大，这会导致带有图表的“轴对象 - 自动间隔错误...”返回 0（零），因为这个是想要的结果。

到目前为止，我已经尝试过 IsNothing([Measures.Budgets]) 和 IIF([Measures.Budgets] = "Infinity", 0, [Measures.Budgets]) 无济于事。

我对 MDX/SSAS 很陌生，所以任何帮助都将不胜感激，干杯。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-10T22:40:22.950

您必须在预算度量的计算定义中解决此问题。它应该看起来像这样：

```
Iif ( Divisor = 0 , 0 , Numerator / Divisor ) 
```

# c - 为什么我们不能在 Linux 中通过 system() 系统调用来改变目录？

> ID：14257245
> 
> 赞同：1
> 
> 时间：2013-01-10T11:48:18.430
> 
> 标签：c, linux, shell

```
system ("cd .."); 
```

这不会产生任何错误，但也不会做任何有意义的事情。为什么？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-01-10T11:51:50.873

`system`运行您在不同进程中传递的命令（在子shell中）。该子外壳更改目录并立即退出。

这一切都完全有效，但完全没用。用于`chdir`更改您的工作目录。

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2013-01-10T11:52:09.897

该`system()`函数`fork()`创建一个进程作为初始进程的副本。

当前*目录*取决于进程的环境（它存储在进程的环境变量中）。因此，当*子*进程拥有自己的环境时，`cd`它只影响*子*进程，而不影响父进程。

*   父进程：在/home/x/y

*   子进程（fork 之后）：在 /home/x/y

在子进程中做 a`cd ..`将其本地环境设置为 /home/x
但父进程仍在 /home/x/y

父进程等待*子*进程完成`system`调用，然后继续执行其自己的环境（*当前目录*）不变。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-10T11:52:14.837

那是因为它执行另一个shell。在这个 shell 中，工作目录发生了变化，但这对调用程序没有影响。

# android - Android：使用 LogCat 查找应用挂起的位置

> ID：14257254
> 
> 赞同：1
> 
> 时间：2013-01-10T11:48:51.270
> 
> 标签：android, logcat

调用 takePicture 方法时，我的应用程序挂起。它永远不会回来。我打开了 LogCat，但它完全是空的，根本没有任何条目。有没有办法可以找出应用程序在内部挂起的位置？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-10T11:51:16.410

有时会发生这种情况，Logcat 不显示任何内容。解决这个问题

去`DDMS->Device -> select your Device or emulator`。

如果它不起作用重新启动 adb 或 eclipse 肯定会帮助你。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-10T11:51:37.320

这对我来说是一个非常习惯的问题。

大多数时候，我运行我的应用程序，我没有得到任何 logcat 条目，即使设备已连接。主要是在摩托罗拉里程碑的情况下。

我找到了解决这个问题的方法，

> 每次，我都必须打开 logcat 堆栈，我必须从“设备”选项卡中选择我的设备。

`DDMS->Device`或从中选择`Windows-> showView`

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-10T11:53:48.617

在终端中转到 android sdk 文件夹， `cd platform-tools` 然后键入`./adb logcat` You ll sure get logcat output。在此之前，您可以刷新缓冲区，`adb logcat -c`以便您只能从您的应用程序中获取 logcat 输出，您还可以使用标签按标签过滤输出`adb logcat -s tag_name`

# c - Microchip XC32 编译器，malloc 调用返回 0，写入指针抛出未实现的 RAM

> ID：14257256
> 
> 赞同：0
> 
> 时间：2013-01-10T11:49:03.110
> 
> 标签：c, embedded, malloc, microcontroller, pic

我在 MPLAB 上编码，使用 XC32 编译器，并试图掌握使用动态内存的窍门，所以我创建了一个基本的示例程序：

```
#include <stdlib.h>
#include <plib.h>

char x;
char y;

char main(void)
{
    Nop();
    char *pLocation = (char *)malloc(16);
    if(pLocation == 0x00)
    {
        return 0;
    }

    for(x = 0;x<=7;x++)
    {
        *pLocation = x;
        pLocation++;

    }
    while(1)
    {

        Nop();
    }
} 
```

问题：

*   当指针到达`malloc`调用行时，值`pLocation`被强制为 0x00，这意味着它以某种方式无法从堆中传递指针信息。
*   当指针开始将值分配给指针`x`的位置时，`pLocation`我得到一个**总线异常**，说*Unimplemented RAM memory access*。我怀疑这是因为我试图写入 0x00。

我在代码中做错了吗？

附加信息：

*   我已经分配了一个 16 字节的堆。
*   对于偶数大小为 2 的内存请求，我得到相同的错误。
*   我正在使用 MPLAB SIM 调试器。
*   MPLAB 版本 8.87.00.00。
*   使用 XC32 编译器构建。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-10T13:51:00.167

> 我已经分配了 16 个堆

这不足以支持 16 字节的分配。堆管理需要一定量的空间，并且每个分配将保证对齐通常为 8 个字节，以确保对齐 64 位数据类型。

您应该分配比必要更多的堆，当然超过 16 个字节 - 为此您最好使用堆栈或静态分配。

Typically you would want to allocate all available memory not used for other purposes (stack-space, statics, DMA pools etc.) to the heap since it will be unused otherwise (you might allow a little headroom so that in maintenance small changes to static allocation don't require you to change the heap size) ; but you can test my hypothesis simply by increasing the heap allocation to 1024 bytes for example. If you don't have that much available, then your system really is not suited to supporting a heap at all perhaps.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-10T13:07:02.963

使堆大小> = 32可以解决此问题，但我无法解释原因。它可能以某种方式与它的 32 位图片有关。

如果有人可以，我将不胜感激。

- - -编辑 - - -

我有一些进一步的信息，每次我希望对新指针进行新的 malloc 调用时，即使我没有使用全部堆，我也必须将堆增加 32。同样在地址中，这些指针由 minimim 23 分隔！即使 malloc 请求介于 1 和 8 之间，位置也会在您想要更多时进行。但是当然，如​​果您不小心，一个指针可以毫无问题地进入另一个指针的范围

# sql-server - Microsoft SQL Master Data Services 2012 导入数据

> ID：14257257
> 
> 赞同：0
> 
> 时间：2013-01-10T11:49:04.397
> 
> 标签：sql-server, sql-server-2012

好吧，我已经尽可能多地搜索了，但没有找到任何关于将数据导入 Microsoft SQL MDS 2012 的确切视频或帖子。正如我在 youtube 上看到的那样，没有这样的视频。但是在 MSDN 上只有一个关于如何使用 SSIS 插入数据的视频，但是我需要使用 SQL 语句在确切的表中插入数据并运行数据批处理如何做到这一点，任何人都可以展示它。怎么做 ？在哪个表中插入它？如何运行上传数据的批处理（如果有必要）。据我所知，在 MSSQL MDS 2008R2 中，数据被插入到 3 个表中（mdm.tblStgMember、mdm.tblStgMemberAttribute 和 mdm.tblStgRelationship），但在这个版本中插入是不同的，因为我从 MSDN 的信息中知道，我是新手这和我不能'测试我需要什么。据我所知，在 2012MDS 中插入只在一张表中进行，请帮助，

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-11-22T14:23:29.757

只是在这里加起来。

MSDN 说：

> *“自 SQL Server 2008 R2 以来，暂存过程发生了变化。在 SQL Server 2008 R2 中使用的暂存过程在主数据管理器 Web 应用程序中不再可用；但它在 SQL Server Management Studio 中仍然可用。”*

所以这里有一些我使用 2012 版本发现的好资源：

*   [http://msdn.microsoft.com/en-us/sqlserver/hh802433.aspx#](http://msdn.microsoft.com/en-us/sqlserver/hh802433.aspx#)
*   [http://channel9.msdn.com/Events/TechEd/NorthAmerica/2011/DBI204](http://channel9.msdn.com/Events/TechEd/NorthAmerica/2011/DBI204)

此视频是 SQL2012 培训工具包的一部分：

**[http://ak.channel9.msdn.com/ch9/01ef/8dc4f2ea-6974-4f12-a77b-1ad1b67d01ef/SQL11UPD05REC04_Source.wmv](http://ak.channel9.msdn.com/ch9/01ef/8dc4f2ea-6974-4f12-a77b-1ad1b67d01ef/SQL11UPD05REC04_Source.wmv)**

（[http://www.microsoft.com/en-us/download/details.aspx?id=27721](http://www.microsoft.com/en-us/download/details.aspx?id=27721) - 完整的 SQL 工具包下载）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-27T14:09:53.983

好吧，我自己找到了答案。在 2012 年 MDS 中，数据插入过程将进入叶成员表。因此，您需要将所需的数据准确插入到该叶成员表中。我希望它对某人有所帮助。

# jquery - 在 jquery 元素选择器中选择一个元素

> ID：14257258
> 
> 赞同：1
> 
> 时间：2013-01-10T11:49:06.450
> 
> 标签：jquery, html

我有一个 div

```
 <div id="dialog-confirm-error-validating-choices" title="Pop up">
        <p><span class="floatLeft"></span>
        <p id="error-message"></p></p>
    </div> 
```

我用 jQuery 选择并将它放入一个变量中

```
var messageDialog = $('#dialog-confirm-error-validating-choices'); 
```

我想在这个变量中设置一个元素的内部 html

```
messageDialog.filter('#error - message').innerhtml("Hello"); 
```

这是这样做的吗？可以做到吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-10T11:50:30.970

尝试这个：

```
var $messageDialog = $('#dialog-confirm-error-validating-choices');
$messageDialog.find('#error-message').html("Hello");
// alternative: $('#error-message', $messageDialog).html("Hello"); 
```

请注意，这`innerHtml`是更改普通 javascript 元素的 HTML 的方法，而对于 jQuery 对象，您需要使用该`html()`方法。此外，约定是在包含 jQuery 对象的变量前面加上`$`.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-10T11:50:22.150

尝试这个。

```
$('#error-message').html("Hello") 
```

注意该函数`html`设置html

另请注意，我更新了您的查询，以匹配元素的 id

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-10T11:52:40.283

考虑到您要选择的元素具有唯一 ID，最有效的选择器将是其 ID：

```
 $('#error-message').html('hello'); 
```

# sql - 转换列中的行

> ID：14257261
> 
> 赞同：0
> 
> 时间：2013-01-10T11:49:23.647
> 
> 标签：sql, database, sql-server-2008, pivot

我有这张桌子：

```
idSection   | idQuestion    | title     | enunciation | total   | name 
1           | 1             | title 1   | question 1    | 5     | Good
1           | 1             | title 1   | question 1    | 3     | Very Good
1           | 1             | title 1   | question 1    | 1     | Bad
1           | 2             | title 2   | question 2    | 1     | Good
1           | 2             | title 2   | question 2    | 3     | Bad
1           | 3             | title 3   | question 3    | 1     | Bad 
```

如何使列值在多列中**命名。**

这是预期的结果：

```
title   | enunciantion  | bad   | good  | very good 
title 1 | question 1    | 1     | 5     | 3
title 2 | question 2    | 3     | 1     | 0
title 3 | question 3    | 1     | 0     | 0 
```

我不知道会有多少列（它是动态的）。

**新编辑：**

```
 title      |  enunciantion | Column0  | Column1 | Column2 | ... | Column7 |
   0        |   0           | bad      |  good   |very good| ... |    0    |
title 1     | question 1    | 1        | 5       | 3       | ... |    0    |
title 2     | question 2    | 3        | 1       | 0       | ... |    0    |
title 3     | question 3    | 1        | 0       | 0       | ... |    5    | 
```

现在，唯一的区别是，没有动态列，只有静态列，但是表的第一行是这样的动态值不等看另一个表。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-10T12:49:21.917

只是为了扩展[@Mahmoud Gamal](https://stackoverflow.com/questions/14257261/transform-rows-in-columns/14257367#14257367)对 SQL 服务器动态 SQL 版本的回答。如果`null`要用零替换值，则可以使用以下命令：

```
DECLARE @colsPivot AS NVARCHAR(MAX),
    @colsNull AS NVARCHAR(MAX),
    @query AS NVARCHAR(MAX);

select @colsPivot = STUFF((SELECT distinct ',' + QUOTENAME(c.name) 
                    from names c
            FOR XML PATH(''), TYPE
            ).value('.', 'NVARCHAR(MAX)') 
        ,1,1,'')

select @colsNull 
    = STUFF((SELECT distinct ', IsNull(' + QUOTENAME(c.name) + ', 0) as '+ QUOTENAME(c.name)
             from names c
             FOR XML PATH(''), TYPE
            ).value('.', 'NVARCHAR(MAX)') 
        ,1,1,'')

SET @query = 'SELECT  title, enunciation, ' + @colsNull +
             ' FROM 
              (
                SELECT title, enunciation, total, name
                FROM results
              ) t
              PIVOT
              (
                  SUM(total) 
                  FOR name IN( ' + @colsPivot + + ' )
              ) p;';

exec(@query); 
```

请参阅[带有演示的 SQL Fiddle](http://www.sqlfiddle.com/#!3/8d886/3)

结果是：

```
|   TITLE | ENUNCIATION | BAD | GOOD | VERY BAD | VERY GOOD |
-------------------------------------------------------------
| title 1 |  question 1 |   1 |    5 |        0 |         3 |
| title 2 |  question 2 |   3 |    1 |        0 |         0 |
| title 3 |  question 3 |   1 |    0 |        0 |         0 | 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-01-10T11:54:13.410

对于 MySQL：

```
SELECT
  title,
  enunciantion,
  SUM(CASE WHEN name = 'bad' THEN total ELSE 0 END) AS 'bad',
  SUM(CASE WHEN name = 'good' THEN total ELSE 0 END) AS 'good',
  SUM(CASE WHEN name = 'very good ' THEN total ELSE 0 END) AS 'very good'
FROM Tablename
GROUP BY  title,
          enunciantion; 
```

## [SQL 小提琴演示](http://www.sqlfiddle.com/#!2/b864d/2)

对于 SQL Server：

```
SELECT
  title,
  enunciation,
  bad,
  good,
  [very good]
FROM Table1
PIVOT
(
  SUM(total) FOR name IN([good], [bad], [very good])
) p; 
```

## [SQL Fiddle 演示^(SQL Server)](http://www.sqlfiddle.com/#!3/b864d/3)

* * *

## 更新：

如果这些值`good, bad, very good`来自另一个表，并且您希望动态执行此操作。

对于 MySQL：

```
SET @sql = NULL;
SELECT
  GROUP_CONCAT(DISTINCT CONCAT('SUM(IF(Name = ''',
      Name, ''', Total, 0)) AS ',
      '''',Name, '''')
  ) INTO @sql
FROM names;

SET @sql = CONCAT('SELECT title, enunciation, ',
                  @sql,
                  'FROM Table1 GROUP BY  title, '
                  '  enunciation; ');
prepare stmt 
FROM @sql;

execute stmt; 
```

## [SQL Fiddle 演示^(MySQL，动态)](http://www.sqlfiddle.com/#!2/b864d/9)

```
|   TITLE | ENUNCIATION | GOOD | VERY GOOD | BAD | VERY BAD |
-------------------------------------------------------------
| title 1 |  question 1 |    5 |         3 |   1 |        0 |
| title 2 |  question 2 |    1 |         0 |   3 |        0 |
| title 3 |  question 3 |    0 |         0 |   1 |        0 | 
```

* * *

对于 SQL Server，您可以这样做：

```
DECLARE @cols AS NVARCHAR(MAX);
DECLARE @query AS NVARCHAR(MAX);

select @cols = STUFF((SELECT distinct ',' + QUOTENAME(c.name) 
                    from names c
            FOR XML PATH(''), TYPE
            ).value('.', 'NVARCHAR(MAX)') 
        ,1,1,'')

SET @query = 'SELECT  title, enunciation, ' + @cols +
              ' FROM (SELECT title, enunciation, total, name
      FROM Table1) t
PIVOT
(
  SUM(total) FOR name IN( ' + @cols + + ' )) p;';

execute(@query); 
```

## [SQL Fiddle 演示^(SQL Server，动态)](http://www.sqlfiddle.com/#!3/46a1c/1)

这会给你：

```
|   TITLE | ENUNCIATION | BAD |   GOOD | VERY BAD | VERY GOOD |
---------------------------------------------------------------
| title 1 |  question 1 |   1 |      5 |   (null) |         3 |
| title 2 |  question 2 |   3 |      1 |   (null) |    (null) |
| title 3 |  question 3 |   1 | (null) |   (null) |    (null) | 
```

# iphone - Xcode SDK 中缺少 Pragma Mark

> ID：14257262
> 
> 赞同：2
> 
> 时间：2013-01-10T11:49:28.950
> 
> 标签：iphone, ios, xcode, ipad

我在 .m 文件中的 @implementation ViewController 之后编写了 Pragma Mark。

但是，只要我没有合成任何属性，Pragma Mark 就不会显示在 .m 文件中。为什么 Xcode 限制我这样做？

即使显示其他 Pragma Marks。但是@implementation ViewController之后写的Pragma Mark没有显示出来。

如果我在@implementation ViewController 之后合成了任何单个属性，则会显示 Pragma Mark。我没有得到所有这些大惊小怪。

```
@implementation ViewController

# pragma  mark View Life cycle

- (void)viewDidLoad
{
    [super viewDidLoad];
    // Do any additional setup after loading the view, typically from a nib.
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-10T11:54:57.480

以这种方式使用：

```
@implementation MainViewController
{}
#pragma YES
#pragma mark - Second - 
```

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-01-10T11:56:04.217

它可能是 Xcode 版本问题。

因为在 Xcode 4.2 中它显示正确。

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2013-01-10T12:03:10.387

我认为它适用于 Xcode 4.2。如果我不编写任何合成属性，我将无法在 Xcode 4.5 中执行此操作。

```
@Implementation ViewController

#pragma mark -
#pragma mark Init 
```

此代码不显示 Init。当我在 Xcode 4.5 中编写以下代码时

```
@Implementation ViewController

@synthesize txtlabel;

#pragma mark -
#pragma mark Init 
```

上面的代码显示初始化，所以我认为它的 Xcode 问题。

谢谢，萨加尔。

# ios - 弹出窗口中的 uiBarButtonItem 框架最佳替代方案

> ID：14257263
> 
> 赞同：2
> 
> 时间：2013-01-10T11:49:29.633
> 
> 标签：ios, ios5, ios6, uipopovercontroller, uibarbuttonitem

我已经在故事板上拖放了一个 barButtonItem 并且一直在使用这个弹出框代码，但是

```
[popoverController presentPopoverFromRect:self.barButonItem.frame 
inView:self.view
permittedArrowDirections:UIPopoverArrowDirectionUp animated:YES]; 
```

barButtonItem.frame 不起作用，因为没有可用的 frame 属性。

让它完美运行的最佳选择是什么？
提前致谢。

目前我正在使用此代码：我正在使用此方法：

```
- (IBAction)buttonClicked:(UIBarButtonItem *)sender event:(UIEvent *)event
{
    UIView *viewt = [[UIView alloc] init]; 

    for(UITouch* touch in [event allTouches] ) 
    {
      if( [touch phase] == UITouchPhaseEnded ) 
      { 
         viewt = [touch view]; 
      }
    }
} 
```

`self.barButtonItem.frame`会变成`viewt.frame`.

它现在工作。这是对的吗 ？

```
//create a popover controller with my DatePickerViewController in it

UIViewController* popoverContent = [[UIViewController alloc] init]; //ViewController

UIView *popoverView = [[UIView alloc] init];   //view
popoverView.backgroundColor = [UIColor blackColor];

datePicker=[[UIDatePicker alloc]init];//Date picker
datePicker.frame=CGRectMake(0,44,320, 216);
datePicker.datePickerMode = UIDatePickerModeDate;
[datePicker setMinuteInterval:5];
[datePicker setTag:10];
[datePicker addTarget:self action:@selector(Result) forControlEvents:UIControlEventValueChanged];
[popoverView addSubview:datePicker];

popoverContent.view = popoverView;
popoverController = [[UIPopoverController alloc] initWithContentViewController:popoverContent];
popoverController.delegate=self;

[popoverController setPopoverContentSize:CGSizeMake(320, 264) animated:NO];
[popoverController presentPopoverFromRect:self.barButtonItem.frame inView:self.view permittedArrowDirections:UIPopoverArrowDirectionUp animated:YES]; 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-07-23T04:27:18.703

我觉得可以`[popoverController presentPopoverFromBarButtonItem:sender permittedArrowDirections:UIPopoverArrowDirectionUp animated:YES];`直接使用。

# web-parts - 新建文档按钮行为 SharePoint 2013

> ID：14257264
> 
> 赞同：3
> 
> 时间：2013-01-10T11:49:36.297
> 
> 标签：web-parts, content-type, sharepoint-2013

在 sp2013 中，当我在页面上有一个文档库 Web 部件时，当我单击新文档时，它会显示“新建文档或将文件拖到此处”按钮，它会打开文件浏览器以上传文档...

但是，我希望它为我提供与库关联的 5 种内容类型的弹出窗口。换句话说，展示功能区中“文件”选项卡新文档按钮显示的行为，其中新文档让我可以在可用内容类型之间进行选择，或者至少创建默认内容类型。

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-14T01:43:46.017

作为一种解决方法，请尝试编辑页面并将视图工具栏设置为“无工具栏”。这将从页面上的显示中删除“新文档或拖动到...”选项。

在我正在研究的解决方案中，至少这消除了用户的困惑。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-01-06T05:38:07.377

拖放选项是否适用于其他库以及您使用的是哪个版本的 IE。如果您从其他计算机打开相同的 URL 是否有效，请尝试在不同的浏览器上打开相同的链接，以确定问题是浏览器还是添加组件。另请检查是否在加载项上安装了 SharePoint DragUpload 控件 AvtiveX 控件“管理加载项”下的加载项“stsupld.UploadCtl”是否可用。'stsupld.UploadCtl' 14.0.4761.1000 (SharePoint Designer 2010)。请也检查这些博客。 [http://social.msdn.microsoft.com/Forums/sharepoint/en-US/054c23e7-e140-4b92-83cf-785381368ad7/drag-and-drop-files?forum=sharepointgeneralprevious](http://social.msdn.microsoft.com/Forums/sharepoint/en-US/054c23e7-e140-4b92-83cf-785381368ad7/drag-and-drop-files?forum=sharepointgeneralprevious)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-03-21T15:40:39.293

This happens when you enable content types for the document library. Why it happens and how to change it is beyond me...

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2016-11-28T14:23:31.930

最好编辑 webpart 并使用“显示工具栏”。这为您提供了下拉“新建”菜单项。

[https://sharepoint.stackexchange.com/a/95522/2990](https://sharepoint.stackexchange.com/a/95522/2990)

# jquery - jquery 和内容脚本之间的通信

> ID：14257265
> 
> 赞同：-1
> 
> 时间：2013-01-10T11:49:37.693
> 
> 标签：jquery, google-chrome-extension, setinterval

我通过我的扩展加载了以下内容脚本 -

```
"content_scripts": [
        {
          "matches": ["https://blah.blah/*"],      

          "js": ["src/script/lib/jquery-1.8.3.min.js" ,
                "src/script/Ext/Ext.ContentScript.js" ]
        }
    ] 
```

在内容脚本中，我有一个函数，它使用 jquery 的 Ajax 函数使用 setInterval 方法定期轮询服务器。

不知何故，一旦调用该方法， setInterval 方法中的函数就无法访问任何 jquery 操作。罪魁祸首似乎是 chrome.storage.local api。回调无权访问其他内容脚本（本例中为 Jquery）

```
chrome.storage.local.get("savedData", function (userInfo) {

setInterval(function(){

//Fails to recognize the ajax method, throws "has not method ajax"

$.ajax({url:reqUrl, 
   success:function(data){

  }
});
});

} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-10T12:14:08.143

当我尝试您的方案时，它对我有用

**清单.json**

```
{
    "name": "",
    "description": "",
    "version": "1",
    "manifest_version": 2,
    "permissions": [
        "<all_urls>"
    ],
    "content_scripts": [
        {
            "matches": [
                "https://www.google.co.in/*"
            ],
            "js": [
                "jquery.js",
                "script.js"
            ]
        }
    ]
} 
```

**脚本.js**

```
setInterval(function(){
$.ajax({
  url: "http://www.w3schools.com/cssref/css_selectors.asp",
  success:function (data){
    console.log("Success..");
  }});
},11000); 
```

你为什么不使用`recursive setTimeout()`而不是`SetInterval()`？

# python - 分段错误（核心转储） - pdf2htmlEX

> ID：14257275
> 
> 赞同：0
> 
> 时间：2013-01-10T11:50:10.097
> 
> 标签：python, c, pdf

[https://github.com/coolwanglu/pdf2htmlEX](https://github.com/coolwanglu/pdf2htmlEX)

如果我尝试这样的事情：

`pdf2htmlEX /path/to/foobar.pdf`在 Ubuntu 终端中，我有这个输出：

```
root@user-R520-R522-R620: pdf2htmlEX /home/user/work/a.pdf
Preprocessing: 8/8
Segmentation fault(core dumped) 
```

如何解决？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-10T12:54:54.157

嗨，我还没有查看您的源代码，但我可以建议您使用生成的核心转储来调试您的代码。

生成核心转储给命令

```
ulimit -c unlimited 
```

然后运行你的程序，它会崩溃并在**核心**命名文件中生成转储。

发号施令

```
gdb <your_executable> core 
```

在 gdb 提示符下给出**bt**命令。它会在 coredump 之前提供回溯，您可以按照它找到根本原因......

希望这可以帮助....

# sql-server-2008 - 计算最长的不间断语音持续时间

> ID：14257276
> 
> 赞同：3
> 
> 时间：2013-01-10T11:50:10.207
> 
> 标签：sql-server-2008

我想计算两位发言者不间断语音的最长持续时间。数据以 XML 形式存储在 MS SQL 数据库中。

到目前为止，我已经[将 xml 转换为表（在 MSSQL 中）](https://stackoverflow.com/questions/3989395/convert-xml-to-table-sql-server)，它输出这样的结果。生成的表是按时间顺序排列的（以 ms 为单位的时间 - 存储为 int）。

```
speaker  duration    time
 1      480           0
 2      100           0
 2      260         100
 2      200         360
 1      2640        480
 2      280         560
 ..     ..          .. 
```

接下来，我想使用以下逻辑遍历结果：

*   如果扬声器 ID 相同，则继续添加持续时间

*   如果说话人发生变化，将当前说话人的总时间与一些全局变量进行比较（如果新说话时间更大，则更新变量）

*   对另一位发言者应用相同的逻辑。

我需要在 SQL 中执行此操作 - 我是编写条件 SQL 的新手。我不知道该怎么做.. :(

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-10T11:59:29.160

一旦您有某种方式对行进行排序（在这里，我已经添加`ord`），您就可以让 SQL Server 进行所需的累积：

```
declare @t table (speaker int not null,duration int not null,ord int not null)
insert into @t (speaker,duration,ord) values
 (1,      480,1),
 (2,      100,2),
 (2,      260,3),
 (2,      200,4),
 (1,      2640,5),
 (2,      280,6)

 ;with Merged as (
    select speaker,duration,ord,ord as last
    from @t t1
    where not exists(
          select * from @t t2
          where t1.speaker = t2.speaker and t1.ord = t2.ord + 1)
    union all
    select m.speaker,m.duration+t.duration,m.ord,t.ord
    from Merged m
    inner join @t t on m.speaker = t.speaker and m.last = t.ord - 1
), Final as (
    select speaker,duration,ord,last,
        ROW_NUMBER() OVER (PARTITION BY ord ORDER by last desc) as rn
    from Merged
)
select * from Final where rn = 1 order by duration desc 
```

结果：

```
speaker     duration    ord         last        rn
----------- ----------- ----------- ----------- --------------------
1           2640        5           5           1
2           560         2           4           1
1           480         1           1           1
2           280         6           6           1 
```

所以扬声器 1 的单次持续时间最长，为 2640，扬声器 2 以 560 次之，以此类推。

上述查询使用两个[公用表表达式](http://msdn.microsoft.com/en-us/library/ms190766%28v=sql.105%29.aspx)(CTE)。在第一个 ( `Merged`) 中，我们递归地定义一个。查询的第一部分查找前面没有同一说话人的行的行（因此，从逻辑上讲，这些是说话人的每个完整语音部分的第一行）。

在递归部分，如果它属于同一个说话者，我们添加下一行，并且我们跟踪（in `last`）我们最后添加的行。这个递归部分根据需要运行多次以累积完整的部分。

不幸的是，`Merged`生成的集合还包括我们在构建不间断语音时采取的所有中间步骤。因此，在 中`Final`，分配一个`ROW_NUMBER()`允许我们轻松找到每一行的最后一个输出，该输出是由 生成的初始集合的一部分`Merged`。所以最后的查询只选择那些行。

* * *

如果您没有像`ord`上面那样方便的列（单调递增），您可以简单地使用另一个 CTE 生成这样的列，并且您所拥有的任何列*都*可以唯一地对行 (*) 进行排序。因此，如果您可以通过名为 的列唯一标识行`time`，则可以将此 CTE 作为第一个：

```
;WITH StrictOrdered as (
    SELECT speaker,duration,
       ROW_NUMBER() OVER (ORDER BY time) as ord
    FROM YourTable
) 
```

然后将`@t`我查询的其余部分中的所有使用替换为`StrictOrdered`.

（*您更新的示例`time`不符合此要求）

* * *

要获得每个扬声器的最高值，请替换：

```
select * from Final where rn = 1 order by duration desc 
```

和：

```
, Highest as (
   select *,ROW_NUMBER() OVER (PARTITION BY Speaker ORDER BY duration desc) as rnDuration
   from Final where rn = 1
)
select * from Highest where rnDuration = 1 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-11T03:03:27.530

这是解决这个问题的另一种方法。

与 Damien 的解决方案一样，您需要为数据添加一个序列号，因为 SQL 表本质上是无序集，因此您需要一个列来定义任何排序。我会调用它`ord`（尽管我通常只使用`id`）。产生这种情况的典型方法是使用如下语句：

```
create table as (. . .
    ord int identity(1,1),
    . . .
)

create view v_table as
    select <everything but ord>
    from table 
```

然后您可以插入或批量插入视图，并自动创建 ord 列。

对于每个发言者，我想通过为它们分配一个值来将连续的行组合在一起。我将选择的值是它们后面的行的“ord”值：

```
1   480  1   2
2   100  2   5
2   260  3   5
2   200  4   5
1   2640 5   . . . 
```

在这个结果上，我按最后一列分组，取持续时间的总和并选择最大持续时间。

挑战在于获得第四列。为此，我将使用相关子查询。以下将所有这些放在一起：

```
select top 1 speaker, sum(duration)
from (select t.*,
             (select min(ord) from t t2 where t2.speaker <> t.speaker and t2.ord > t.ord
             ) as GroupingValue
      from t
     ) t
group by GroupingValue, speaker
order by sum(duration) desc 
```

要获得每个扬声器的最长持续时间，您可以简单地使用另一个窗口函数`row_number()`. 不过，这只需要多一层的子查询，我正在使用 CTE：

```
with SpeakerDur as (
     select speaker, sum(duration) as GroupedDuration
     from (select t.*,
                  (select min(ord) from t t2 where t2.speaker <> t.speaker and t2.ord > t.ord
                  ) as GroupingValue
           from t
          ) t
     group by GroupingValue, speaker
    )
select *
from (select sd.*,
             row_number() over (partition by speaker order by GroupedDuration desc) as seqnum
      from SpeakerDur sd
     ) sd
where seqnum = 1 
```

将`row_number()`序列号 1、2、3 等分配给每个扬声器的持续时间 ( ) `partition by speaker`，从最长持续时间 ( `order by GroupedDuration desc`) 开始。然后它选择最高值。例如，如果您想要前五名，您可以将`where`子句更改`seqnum <= 5`为 。

# php - 使用相同库的多个文件的python导入技术

> ID：14257279
> 
> 赞同：3
> 
> 时间：2013-01-10T11:50:25.307
> 
> 标签：php, python, file-io, import, include

好的，我有一个问题，我想知道将`including`许多文件等效为一个`single php file`（比如说这个文件被称为`init.php`）。例如`init.php`读取`Directory X`并包含每个文件`*.php`。导入的这些文件中包含的任何文件`init.php`现在都将在脚本（或系统）之间共享。

在类似的示例中，但这次使用`python`，我有一个名为的文件`init.py`，它会读取`Directory Y`并且每个使用[find_packages()](http://packages.python.org/distribute/setuptools.html#using-find-packages)`imports`的模块（或包）将诸如包含在其中的文件中的行，或者这些文件中的每一个都需要这一行吗？为了访问and ? python 示例是否与 php 示例具有相同或不同的含义？为什么？`import numpy as np, os, sys``Directory Y``import``os``sys`

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-01-10T12:01:47.740

如果你`import`是一个文件，那么 Python 将执行两个不同的步骤：

1.  打开导入的模块文件并执行它，包括`import`模块中的任何语句。
2.  使导入的模块在当前模块的命名空间中可用。

请注意，如果您导入模块，`foo`那么您将无法访问`foo`命名空间中导入的模块 - 您需要直接导入它们（或通过 访问它们`foo.module`，但通常您希望在模块中导入它们）。

简而言之，每个想要使用模块的文件都`foo`需要导入它，即使同一应用程序中的其他文件也使用它。

如果您来自另一种语言，可能会令人困惑的一件事是，Python 仅实际执行一次给定模块（除非您调用`reload()`），即使它已在许多地方导入。这就是为什么我将`import`上面的操作拆分为两半——第一个只对每个导入的模块执行一次，但第二个总是发生。

因此，如果您执行`import foo`which 本身执行，`import bar`则两者都已加载并执行一次`foo`。`bar`您的模块可以访问`foo`，但`bar`因为您没有导入它（同样，您可以将其用作`foo.bar`，但这通常不是很好的做法）。如果您现在运行，`import bar`那么您将`bar`在您的模块中可用，但是由于该模块已经被导入，Python 将*不会*再次加载和执行该模块。

如果您需要更多详细信息，[官方 Python 文档](http://docs.python.org/2/tutorial/modules.html)中详细记录了模块如何工作的细节。

这是否回答你的问题？

**额外细节**

通常您不需要在运行时通过扫描目录来加载模块，但在某些情况下这可能很有用（例如实现插件）。如果您只想在已安装的模块的固定列表之间进行选择，您可以做一个标准并通过尝试列表中的下一个来`import`捕获并处理它。`ImportError`

如果在运行时才知道名称时*确实*需要加载模块，则可以使用[importlib](http://docs.python.org/2/library/importlib.html)。Python 标准库还提供[了其他几个用于导入模块的模块](http://docs.python.org/2/library/modules.html)，例如[imp](http://docs.python.org/2/library/imp.html)，它具有通过文件名定位和导入模块的功能。

听起来您已经有了解决方案，但有时了解其他可用的模块很有用（这些模块都是标准库的一部分，因此始终安装）。

# javascript - JQuery 计算插件 - 删除 0 的值？

> ID：14257282
> 
> 赞同：0
> 
> 时间：2013-01-10T11:50:31.323
> 
> 标签：javascript, jquery, jquery-plugins

我正在使用 jQuery 计算（版本 0.4.09）插件来计算两个表格单元格的总数。在总价格字段中，该值被设置为 0，这是我不想要的。在 parseNumber() 方法中查看 jquery.field.js 文件时，我可以看到在第 137 行将其设置为 0：

```
// if the value is null, use 0
if( v == null ){
v = 0; // update value
// if there's a error callback, execute it
if( jQuery.isFunction(options.onParseError) ) options.onParseError.apply($el,  [sMethod]);
$.data($el[0], "calcParseError", true); 
```

我尝试删除此检查，但随后在总价输入字段中显示“NaN”消息。

有没有解决的办法？因为当用户填写表单时，我不希望这些值默认为 0。

非常感谢

# linux-kernel - 如何编写内核模块来列出所有守护进程

> ID：14257283
> 
> 赞同：0
> 
> 时间：2013-01-10T11:50:30.830
> 
> 标签：linux-kernel, daemon

守护进程基本上是重新分配给 systemd (INIT) 的用户进程。因此，我遍历了具有以下条件的任务列表：

```
if ((task->flags & PF_KTHREAD)==0 && (task->parent->pid == 1)) 
```

它提供所有守护进程，但也包括不是守护进程的进程。
那么，有没有其他方法可以只给我守护进程。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-10T12:10:20.703

如果父进程死亡等待它们，init 也会采用进程，不知道如何，但您应该检查进程是否是孤儿并忽略它。

# java - 如何在单元测试中将文本与模板匹配

> ID：14257285
> 
> 赞同：6
> 
> 时间：2013-01-10T11:50:34.490
> 
> 标签：java, unit-testing, junit4

我有一个使用 XML 文件并根据输入生成文本输出的类。输入和输出都相当复杂，输出还可以包含输入中*没有*的内容：例如，包括时间戳和不受输入控制的实时数据的结果 - 换句话说：该类不是纯粹的输入-输出转型。

我想使用 JUnit 测试生成的文本输出。由于生成的文本可以根据输入以多种不同的方式变化，我希望能够在每个测试中将输出的特定部分与某种模板进行匹配。每个模板都应该允许一些简单的文本替换以及文本中不应匹配的*范围*。

问题是这样的框架是否已经存在？

一种非常低级的可能性是使用一些花哨的正则表达式来匹配文本，但我认为这些对于我们的使用来说有点太有限了，因为你在正则表达式中没有足够的上下文......

**编辑**：两条评论：

*   该类的功能之一是能够根据输入进行某些简单类型的数据聚合和计算（例如总和）。我想测试这个，而不测试生成的文本输出的其余部分。
*   我希望可以对现有代码库进行更改，但这是我真的不想重构的大量遗留代码。因此，不可能引入模拟服务或测试较小的部分。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-10T11:53:27.783

也许这表明您需要在较低级别进行测试？即测试贡献的组件而不是整体*输出*。我希望您可以安排您的代码/测试，以便您可以提供一组不可变的输入（可能在必要时使用模拟），因此输出不会改变。

一些高级测试会很有用（以确认结果集成），您也许可以通过简单的字符串比较来做到这一点（只是为了确认东西是否被正确集成），但我认为应该把努力放在更细化的地方等级。

否则我怀疑你可能想要一个类似 diff 的工具，而[这个库](http://code.google.com/p/java-diff-utils/)看起来可能很有用。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-20T13:00:44.347

我会使用[Groovy](http://groovy.codehaus.org/)编写单元测试，因为这是 Groovy 的优势之一，请参阅

*   [单元测试](http://groovy.codehaus.org/Unit+Testing)
*   [将 JUnit 4 与 Groovy 一起使用](http://groovy.codehaus.org/Using+JUnit+4+with+Groovy)
*   [单元测试——Groovy](http://docs.codehaus.org/display/GROOVY/Unit+Testing)
*   [斯波克](http://code.google.com/p/spock/)

但是 Groovy 在处理 XML 方面也非常出色，请参阅

*   [处理 XML](http://groovy.codehaus.org/Processing+XML)
*   [使用 Groovy 的 XmlSlurper 读取 XML](http://groovy.codehaus.org/Reading+XML+using+Groovy%27s+XmlSlurper)

总结一些 XML 属性的小例子：

```
// multiline string, very complex XML content :-)
def input = '''\
<list>
    <summand value='13' time='10:40' text='Compare me!'/>
    <summand value='1' />
    <summand value='4' />
    <summand value='2' />
    <summand value='7' />
</list>'''

// reading XML via XmlSlurper
def list = new XmlSlurper().parseText(input)

// Prints 13
println list.summand[0].@value

// collect all summand values, prints 27
println list.summand.collect { it.@value.toInteger() }.sum() 
```

[您可以在MEAP Making Java Groovy](http://www.manning.com/kousen/)中找到一个很好的测试教程，或者查看这个[演示文稿](http://www.infoq.com/presentations/Improve-Your-Java-with-Groovy)。

Groovy 也有[模板支持](http://groovy.codehaus.org/Groovy+Templates)。但是通过 XML 支持，很容易只比较某些属性而不是整个标签内容来跳过一些属性，比如你提到的时间戳。因此，您无需比较模板。例如，将此源添加到上面的脚本中：

```
// compare the first summand tag, skipping the time attribute
assert [list.summand[0].@value.toInteger(), list.summand[0].@text] == [13, 'Compare me!'] 
```

要学习 Groovy，我推荐[Groovy Koans](http://groovykoans.org/)。另请参阅[将 Groovy 测试添加到 Maven Java 项目](https://bowerstudios.com/node/935)。

**更新：**
我不会将 XML 相互比较，而是对我的答案中描述的单个值进行单元测试。但如果你走完整的路，我会使用以下方法：

*   从您的业务逻辑中获取 XML
*   删除临时（与 Groovy 不可比较的值）
*   从 GStringTemplateEngine 生成模板（参见上面的链接），没有不可比较的值
*   [通过http://xmlunit.sourceforge.net/](http://xmlunit.sourceforge.net/)比较两个 XML
    您可以在页面末尾找到[使用 XmlSlurper 更新 XML](http://groovy.codehaus.org/Updating+XML+with+XmlSlurper)的示例。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-19T16:36:49.033

我认为我们对您需要实现的目标、消息的输出格式等信息太少了。但是我认为，既然我们在谈论测试，那么您确实对要测试的数据有大量信息你的代码库反对。

如果该类产生稳定的输出（即对于相同的输入，它始终产生相同的输出），那么您可能想要为要测试的给定数据集创建某种模板（例如使用**Velocity**） . 您也可以将输入到您的类中包含的数据应用到您的模板中。根据测试类的输出，您可以测试它是否包含模板生成的内容，或者（如果这不可行）对模板生成的内容使用 DIFF 工具。

如果您的输出是人类可读的文本，那么也许使用 Lucene 对其进行索引并搜索匹配项可能是您的解决方案？如果不是，那么仍然使用模糊搜索算法匹配模板结果甚至预定义输出可能是一个可行的选择。

您需要回答的一个问题是重构底层代码库是否（尤其是从长远来看）不是一项更便宜的任务。

您是否还考虑过测试底层代码的行为（使用**Mockito**）而不是测试其输出？我想这会更难，因为它是您正在处理的遗留代码，但也许它是可行的？您还可以使用**PowerMock**来强化自己，它允许模拟静态方法和其他魔法——通常在遗留代码中很方便。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-19T17:00:55.480

我建议使用将输出 XML 转换为对象树的工具来解析输出 XML。然后，您可以评估对象树而不是 XML 字符串，并仅在您感兴趣的那些部分上编写您的断言语句。它还允许您进行字符串工具无法进行的测试，例如计算元素的数量等。

如果您有输出的 XSD，则可以使用例如 XMLBeans 或 JABX。如果您没有 XSD，您可以编写基于 SAX 的自动机或使用 XPath 表达式来选择 XML 树的某些部分。

* * *

## 回答 #5

> 赞同：-1
> 
> 时间：2013-01-19T19:29:40.020

您可以使用 Mockito 和 PowerMock 来测试代码的分离部分，PowerMock 让您可以做任何您想做的事情，包括用模拟对象替换新实例创建、模拟/替换静态、私有方法和类，简而言之，一切。这种组合应该足够强大，可以测试代码的不同部分，而无需测试整个代码。

我认为当您通过具有许多不同部分的不受控制的流程运行 1mb 文件时，您不能调用单元测试，您无法真正知道发生了什么以及发生故障时发生的位置。

# objective-c - 如何在 NSPersistentDocument 中强制创建默认的 persistentStore/autosave

> ID：14257287
> 
> 赞同：3
> 
> 时间：2013-01-10T11:50:36.773
> 
> 标签：objective-c, cocoa, core-data, autosave, nspersistentdocument

我有一个使用 CoreData 的基于文档的 Cocoa 应用程序，它可以导入大量数据。由于此导入需要一些时间，因此我在后台执行此操作，但由于`NSManagedObjectContext`不是线程保存，因此我使用文档`persistentStoreCoordinator`的of在后台线程中`managedObjectContext`创建了一个新线程。`NSManagedObjectContext`现在，当导入完成时，我保存背景`managedObjectContext`以通知文档的主线程`managedObjectContext`更改并合并它们。据我了解，这就是应该使用 CoreData 进行并发的方式。

但有时，当我调用时`persistentStoreCoordinator`没有会导致保存失败和应用程序崩溃。我正在使用自动保存和所有（在 OS X 10.8 上基本上是未修改的 NSPersistentDocument），所以我认为我不必关心它是如何保存的，它会“正常工作”。`persistentStore``[managedObjectContex save:]`

显然，事实并非如此。我尝试强制执行自动保存操作，希望通过在我的文档子类`[self autosaveDocumentWithDelegate:self didAutosaveSelector:@selector(document:didAutosave:contextInfo:) contextInfo:nil];`的末尾调用来创建一个 persistentStore `windowControllerDidLoadNib:`，但这似乎并没有改变任何东西。委托回调 ( `- (void)document:(NSDocument *)document didAutosave:(BOOL)didAutosaveSuccessfully contextInfo:(void *)contextInfo`) 实际上表明自动保存是成功的，尽管任何 fileURL 或相关访问器都没有返回非 nil 的东西，也没有创建持久存储。

我也想过给`-(BOOL)configurePersistentStoreCoordinatorForURL:(NSURL *)url ofType:(NSString *)fileType modelConfiguration:(NSString *)configuration storeOptions:(NSDictionary *)storeOptions error:(NSError *__autoreleasing *)error`自己打电话，但我不知道用什么 URL 让它像普通的自动保存一样。我检查了`backupFileURL`，但最后都还是`fileURL`nil 。事实上，他们甚至没有被调用，所以我不知道如何获得“正确”的 URL。`autosavedContentsFileURL``windowControllerDidLoadNib:``writeToURL:...``configurePersistentStoreCoordinatorForURL:...`

为了更好地理解创建持久存储**的**方式和时间，我在`writeToURL:...`和中设置了断点`configurePersistentStoreCoordinatorForURL:...`。我注意到`configurePersistentStoreCoordinatorForURL:`当应用程序失去最前面的状态时会调用它。但是，当我刚刚创建一个新文档并尝试在创建后立即导入某些内容时（无需先切换到另一个应用程序以导致创建 persistentStore），它就会崩溃。如果我切换到另一个应用程序，则会创建商店并且一切正常。顺便说一句，用于以这种方式创建的 persistentStore 的 URL 始终位于 temp 目录中的某个位置。

难道我做错了什么？我不必调用 [managedObjectContext save:] 来通知其他 managedObjectContext 更改吗？如何强制文档创建其临时持久存储？为什么不调用`autosaveDocumentWithDelegate:...`实际保存文档（并因此创建一个`persistentStore`）？

有关的：

*   [新项目新模型 NSPersistentDocument 这个 NSPersistentStoreCoordinator 没有持久存储](https://stackoverflow.com/questions/12131338/new-project-new-model-nspersistentdocument-this-nspersistentstorecoordinator-has)类似的问题，但解决方案是不保存上下文或出现错误。我想我必须保存上下文以通知第二个更改，并且不想强迫用户手动保存文件（毕竟，这就是自动保存的目的）。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-01T18:57:44.867

我解决了一个类似的问题：我需要生成永久对象 ID，这需要存在持久存储。就像您指出的那样，尚未自动保存的无标题文档没有持久存储。

这个简短的片段来自我的 NSWindowController 子类：

```
- (void) awakeFromNib {
    //hacky way to get an autosave to generate an NSPersistentStore.
    GSNativeDocument *doc = self.document;
    [doc updateChangeCount:NSChangeDone];
    [doc autosaveDocumentWithDelegate:self didAutosaveSelector:@selector(document:didAutosave:contextInfo:) contextInfo:nil];
}

//called by the autosave operation started in awakeFromNib.
- (void)document:(NSDocument *)document didAutosave:(BOOL)didAutosaveSuccessfully contextInfo:(void *)contextInfo
{
    GSNativeDocument *doc = self.document;
    [doc updateChangeCount:NSChangeUndone];
} 
```

为什么更新更改计数会创建“真正的”自动保存，而其他所有诱导自动保存的方法都没有？我没有任何线索。我在 1 月初向 Apple 提交了这个错误并在开发论坛上发布，但他们没有回复。

# ios - Admob 使用 Cocos2d 导致触摸延迟

> ID：14257290
> 
> 赞同：2
> 
> 时间：2013-01-10T11:50:44.293
> 
> 标签：ios, objective-c, cocos2d-iphone, admob

我用 cocos2d 构建了一个游戏，一切正常，但添加 AdMob 横幅后，触摸有时会延迟几秒钟。看起来游戏在 touchMove 上落后，但帧数稳定在 60.0 FPS。我认识到的另一件事是触摸不会被吞没或丢失。他们只是被延迟了。

即使在以下情况下也会发生这种情况：

*   视图在可见矩形之外
*   视图被隐藏
*   `userInteractionEnabled = NO;`

更改 touchdispatcher 的触摸优先级没有帮助。我已经在几种设备（ipad、iphone）上对其进行了测试。

任何想法如何解决它（不删除广告）？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-10T15:44:14.937

我不明白为什么只有在添加 AdMob 后才会发生这种情况，但解决方案是减少加速度计 updateInterval！它被设置为 1/60（Kobold2d 默认设置）

```
[UIAccelerometer sharedAccelerometer].updateInterval = 0; 
```

我希望这可以帮助别人。我花了几天时间

# selenium - 为什么 Selenium Web 驱动程序中的鼠标悬停不适用于 FF 11 和 FF 17 但适用于 FF 14.0.1？

> ID：14257293
> 
> 赞同：1
> 
> 时间：2013-01-10T11:50:48.297
> 
> 标签：selenium, webdriver, mousehover

对于 Windows 7，在 Web 应用程序上，我需要将鼠标悬停在一个链接上，然后单击子菜单中的链接。我观察到下面的代码适用于 FF 14、IE 8 和 Google Chrome 23.0 [对于 chrome，只有当我将鼠标指针物理地保持在浏览器屏幕之外时。] 我为此使用了 2.25 个罐子。我想在 FF 17 上运行它。我也尝试使用 2.28 jar 来运行它。但它没有用。我也尝试过使用 Java 脚本执行器，但它不起作用。

感谢任何帮助以了解为什么它是特定于版本的。?

```
driver = new FirefoxDriver();         
    driver.get(MyURL);    
    driver.manage().window().maximize();
    Thread.sleep(5000);

    // Path for object1
    WebElement ele = driver.findElement(By.xpath(".//*[@id='menu']/li[4]/a/span"));
    // Path for object2  
    WebElement ele1 = driver.findElement(By.xpath(".//*[@id='menu']/div[2]/a"));

    Actions builder = new Actions(driver);
    driver.manage().timeouts().implicitlyWait(5, TimeUnit.SECONDS);
    builder.moveToElement(ele).build().perform();
    Thread.sleep(5000);  
    ele1.click();
    Thread.sleep(5000); 
```

# javascript - NSBundle 无法访问静态库 java 脚本文件路径

> ID：14257305
> 
> 赞同：0
> 
> 时间：2013-01-10T11:51:16.257
> 
> 标签：javascript, iphone, ios, nsbundle

在我的项目中，我包含了一个静态编译库，其中包含一个 javascript 资源。

现在在我的应用程序中的一个特定事件中，我想从我的库中运行那个 javascript 文件。

但是当我尝试访问 js 文件时，路径为空。

我尝试了以下代码：

```
NSString *jsFilePath  = [[NSBundle mainBundle] pathForResource:@"myJavaScript" ofType:@"js"]; 
```

和

```
 NSBundle *staticBundleName = [NSBundle bundleWithPath:[[NSBundle mainBundle] pathForResource:@"libCalC" ofType:@"bundle"]];
 NSString *filePath = [staticBundleName pathForResource:@"myJavaScript" ofType:@"js"]; 
```

我的库中没有包，我发现一些关于堆栈溢出的帖子以从包中获取资源文件，但 iOS 也不允许动态加载包。

我已将 Js 文件包含在 Copy bundle 资源中。

我在这里遗漏了什么，请指导。?

感谢 KplMax

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-05-14T22:36:51.173

静态库不会随身携带它的资源，因为它没有捆绑的概念。如果您想使用您的 js 文件（或其他资产，例如图像），您需要将它们复制到应用程序本身。

或者，您可以创建自己的框架，其中包含您想要传递到应用程序层的资源。

也可以在[此处](https://stackoverflow.com/questions/1657610/nsbundle-plist-and-other-resources-in-an-obj-c-static-library)找到类似的问题+答案。

# graph - 如何在 booggie 2 中为 Gephi 设置可视化图形属性？

> ID：14257308
> 
> 赞同：2
> 
> 时间：2013-01-10T11:51:23.523
> 
> 标签：graph, graph-visualization, gephi, booggie

booggie 以 GraphML 格式保存图形，该格式也可以在图形可视化工具 Gephi 中打开。

有没有办法用 booggie 中可访问的属性来定义 Gephi 中节点的视觉外观？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-10T13:24:57.380

对于**nodes**，Gephi直接理解以下属性：

位置：

*   x：双
*   y:双
*   z:双

注意：如果你使用这些属性，布局者不能再修改节点的位置

颜色：

*   r:int
*   g：整数
*   b：整数

标签：

*   标签：字符串

关于**边缘**，我不知道。我唯一知道的是边缘可以具有影响边缘厚度的*权重属性。*

# email - 设置自己的邮件服务器有什么问题吗？

> ID：14257323
> 
> 赞同：1
> 
> 时间：2013-01-10T11:52:02.853
> 
> 标签：email

我已经做了很多年的 Web 开发人员，但我从来没有发现需要修补邮件服务器。我总是很高兴在本地收到一个发送邮件错误，因为我知道当我在远程托管的生产服务器上启动它时，一切都会正常工作。

但是这次我真的需要自己的邮件服务器，我偶然发现 hMailServer w/c 似乎是一个非常强大的服务器。

我真正想知道的是，使用您自己的邮件服务器进行生产（而不是测试）是否合乎逻辑？将一台便宜的机器专门用作邮件服务器我没有问题，而且我们的办公室总是在线。

我会有国际黑名单的问题吗？邮件服务器是否必须将其 IP 注册到白名单之类的东西？

我是运行自己的邮件服务器的新手，但我确实希望可以自由地向我们的组织发送尽可能多的群组邮件。网络托管服务商的限制已成为我们这里的团队的一大不便。虽然他们提供收费的批量邮件服务器，但我宁愿自己设置，只要我知道我可能会遇到什么问题。还是真的没问题，我的邮件服务器在基本需求和流量方面可以与任何 gmail/yahoo 邮件服务器一样强大，以及可靠性和不被阻止？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-01-10T12:27:56.463

如今，建立自己的邮件服务器的主要问题不是技术问题，而是信任问题。

多年来的垃圾邮件问题导致 ISP 采用了各种技术来防止它。其中一些涉及避免转发来自不受信任来源的邮件。私人运营的邮件服务器肯定都属于该类别。

如果您希望您的邮件服务器受到世界其他地方的信任，您需要在您的域上实现一些额外的东西，包括[SPF 。](http://en.wikipedia.org/wiki/Sender_Policy_Framework)如果您不准备做所有这些并保持它的维护，那么从您的私人邮件服务器发送的电子邮件将最终进入大多数人的垃圾邮件文件夹。

所以答案真的取决于你是想为私人/内部使用还是作为公共邮件服务器。

如果您想要一个将邮件发送到外部世界的公共邮件服务器，除了简单地设置服务器之外，还要准备好*更多的工作。*

如果您希望它供个人使用或与您的组织一起使用，那么您无需担心所有这些。但如果都一样，了解一下会有所帮助。

# database - 总数据库大小对整体性能的影响

> ID：14257325
> 
> 赞同：1
> 
> 时间：2013-01-10T11:52:06.443
> 
> 标签：database, performance, size

当我创建数据库并构建内容（总大小约为 3 Gbs）时，该过程非常快，并且 CPU 使用率稳定在 80% 左右。完成后，我建立了另一个类似的数据库，过程慢得多，CPU 使用率稳定在 20-30% 左右，即使第一个数据库没有被使用。

1.  有人会指出一些因素以及为什么我不能增加 CPU 使用率来加快处理速度吗？

2.  在共享主机中，他们说我的数据库很大。他们说即使没有使用数据库（我将它与我的站点断开连接以测试它如何影响性能），但由于“使用 MySQL”，它仍然会影响整体性能。据我所知，影响服务器性能的唯一两个因素是 CPU 和 RAM 使用率。那么这里的“MySQL 用法”是什么？

先感谢您！

# javascript - 关于使用backbone.js 的setTimeout 的各种问题。清理和恢复超时

> ID：14257336
> 
> 赞同：1
> 
> 时间：2013-01-10T11:52:26.197
> 
> 标签：javascript, jquery, backbone.js

我对 setTimeout 有各种疑问： - 在我的代码中，我`clearTimeout(content.idTimeout)` 使用特定 idTiemout 清除超时，但是如何清除所有超时？我有下一个模型：

```
var ContentModel = Backbone.Model.extend({
URL: "http://localhost/example.php",    
requestType: "POST",
dataType: "json",
data: "", //Set the value outside the model
idTimeout: "",  
initialize: function() {
_.bindAll(this);
},   
startSend: function (Data) { },
reply: function (Data) { 
    var dataJson = eval(Data);              
    console.log(dataJson);
    this.idTimeout = setTimeout(this.ajaxRequest(),4000);
},
problems: function (Data) {   },
ajaxRequest: function () {
    $.ajax({
        async:true,
        type: this.requestType,  dataType: this.dataType, 
        url: this.URL,  data: this.data,
        beforeSend:this.startSend,  success: this.reply,
        timeout:4000,  error:this.problems 
    });
} 
```

并清除视图中的超时（片段）：

```
initialize: function() {
    _.bindAll(this); 
    this.model = new ContentCollection();
    this.model.on("add", this.contentAdded);
        this.model.on("remove", this.removeContent);    
},
contentAdded: function(content) { //run it when add a model
    if (content.view == null) {
    var template_name = 'cam';                                                      
    content.view = new ContentView({model: content,template: $.trim($("[template='"+ template_name +"'] div").html() || "Template not found!")});
    $("div.camBox").empty();                
    content.ajaxRequest();                              
    this.$el.find(".content").find("div.camBox").append(content.view.render().el);                                              
    }                   
},  
removeContent: function(content) {
    if (content.view != null) { 
        content.view.remove();              
    }
    clearTimeout(content.idTimeout);
    content.clear();  //Clear the properties of the model   
} 
```

- 当焦点在其他窗口时如何清除超时并在返回时恢复它？也许用焦点方法。下一个代码

```
$('html').focus(function() {
    clearTimeout(content.idTimeout);
}); 
```

在 contentAdded 中不起作用。

编辑：

http://stackoverflow.com/questions/14258596/way-to-stop-the-running-of-a-javascript-web-application-when-the-focus-is-on-oth

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-10T12:09:16.343

一种解决方案可能是：

为您的（多个）超时 ID 指定一个数组。

```
window.timeouts = []; 
```

每次调用 setTimeout：

```
timeouts.push(setTimeout(...)); 
```

然后，如果要停止所有超时：

```
for(var i in timeouts) {
  clearTimeout(timeouts[i]);
} 
```

# objective-c - NSPathControl 设置路径

> ID：14257338
> 
> 赞同：3
> 
> 时间：2013-01-10T11:52:32.453
> 
> 标签：objective-c, path, nspathcontrol

我正在寻找一种将 NSPathControl 的路径设置为“~/Desktop”的方法。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-10T12:37:02.210

```
[_pathControlOutlet setURL: [NSURL URLWithString: [@"~/Desktop"stringByExpandingTildeInPath] ]];

NSURL *pathURL = [_pathControlOutlet URL];
NSLog(@"%@",[[_pathControlOutlet URL]path]);

NSString *pathSegmentClicked = [[_pathControlOutlet clickedPathComponentCell]title];

NSLog(@"%@",pathSegmentClicked);
NSLog(@"%@",pathURL); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-10T12:37:29.180

```
NSURL *pathURL = [NSURL fileURLWithPath:[@"~/Desktop stringByExpandingTildeInPath]];
[pathControl setURL:pathURL]; 
```

# php - 使用另一个标签将缩略图添加到 WordPress RSS

> ID：14257343
> 
> 赞同：3
> 
> 时间：2013-01-10T11:52:45.583
> 
> 标签：php, wordpress, rss, feed

我正在使用 Wordpress RSS 在我的 iOS 项目中使用。提要中没有缩略图链接，因此我搜索并找到此代码以将缩略图链接添加到提要。

```
/* include thumbnail in RSS feed */
function add_thumb_to_RSS($content) {
   global $post;
   if ( has_post_thumbnail( $post->ID ) ){
      $content = '' . get_the_post_thumbnail( $post->ID, 'thumbnail' ) . '' . $content;
   }
   return $content;
}
add_filter('the_excerpt_rss', 'add_thumb_to_RSS');
add_filter('the_content_feed', 'add_thumb_to_RSS') 
```

此代码在提要中添加图像链接，但它在描述标记的开头添加为 html 代码，如下所示：

```
<description>
<![CDATA[
<img width="150" height="150" src="http://www.ipadia.co/wp-content/uploads/2012/02/sayfada-bul-150x150.png" class="attachment-thumbnail wp-post-image" alt="sayfada bul" title="sayfada bul" />Some text some text Some text some text Some text some text Some text some text Some text some text Some text some text ....
]]>
</description> 
```

我想添加带有另一个标签的图片链接，比如`<image>`or `<thumb> the link </thumb>`。所以我可以更容易地解析这个。

我怎样才能做到这一点？提前致谢。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-01-10T12:41:48.683

我终于解决了：）我改变了我之前发布的功能。新功能是这样的：

```
add_action('rss2_item', function(){
  global $post;

  $output = '';
  $thumbnail_ID = get_post_thumbnail_id( $post->ID );
  $thumbnail = wp_get_attachment_image_src($thumbnail_ID, 'thumbnail');
  $output .= '<post-thumbnail>';
    $output .= '<url>'. $thumbnail[0] .'</url>';
    $output .= '<width>'. $thumbnail[1] .'</width>';
    $output .= '<height>'. $thumbnail[2] .'</height>';
    $output .= '</post-thumbnail>';

  echo $output;
}); 
```

这`<post-thumbnail>`就像我想要的那样在新标签中提供了图像链接。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-10T11:58:35.463

wordpress 中有 2 个功能可以非常简单地帮助您，试试这个：

```
(int) $id = get_post_thumbnail_id($post->ID);
$url = wp_get_attachment_url( $id ); 
```

编辑：

要修改提要，您可以查看[此文档](http://codex.wordpress.org/Customizing_Feeds)

一个简单的选择是直接修改提要模板，例如：

在文件 wp-includes/feed-rss2.php 中（注意您可以将另一个提要模板修改为“feed-rss.php”、“feed-atom.php”），您可以添加新标签：

```
echo '<?xml version="1.0" encoding="'.get_option('blog_charset').'"?'.'>'; ?>

<rss version="2.0"
    xmlns:content="http://purl.org/rss/1.0/modules/content/"
    xmlns:wfw="http://wellformedweb.org/CommentAPI/"
    xmlns:dc="http://purl.org/dc/elements/1.1/"
    xmlns:atom="http://www.w3.org/2005/Atom"
    xmlns:sy="http://purl.org/rss/1.0/modules/syndication/"
    xmlns:slash="http://purl.org/rss/1.0/modules/slash/"
    <?php do_action('rss2_ns'); ?>
>

<channel>
    <title><?php bloginfo_rss('name'); wp_title_rss(); ?></title>
    <atom:link href="<?php self_link(); ?>" rel="self" type="application/rss+xml" />
    <link><?php bloginfo_rss('url') ?></link>
    <description><?php bloginfo_rss("description") ?></description>
    <lastBuildDate><?php echo mysql2date('D, d M Y H:i:s +0000', get_lastpostmodified('GMT'), false); ?></lastBuildDate>
    <language><?php bloginfo_rss( 'language' ); ?></language>
    <sy:updatePeriod><?php echo apply_filters( 'rss_update_period', 'hourly' ); ?></sy:updatePeriod>
    <sy:updateFrequency><?php echo apply_filters( 'rss_update_frequency', '1' ); ?></sy:updateFrequency>
    <?php do_action('rss2_head'); ?>
    <?php while( have_posts()) : the_post(); ?>
    <item>
        <title><?php the_title_rss() ?></title>
        <link><?php the_permalink_rss() ?></link>
        <comments><?php comments_link_feed(); ?></comments>
        <pubDate><?php echo mysql2date('D, d M Y H:i:s +0000', get_post_time('Y-m-d H:i:s', true), false); ?></pubDate>
        <dc:creator><?php the_author() ?></dc:creator>
        <?php the_category_rss('rss2') ?>
        <?php 
            //start modified code to add tag with post thumb url
            (int) $id = get_post_thumbnail_id($post->ID);
            $thumb_url = wp_get_attachment_url( $id ); 
        ?>
        <thumb><?php echo $thumb_url;?></thumb>
            <?php //end modified code to add tag with post thumb url ?>
        <guid isPermaLink="false"><?php the_guid(); ?></guid>
<?php if (get_option('rss_use_excerpt')) : ?>
        <description><![CDATA[<?php the_excerpt_rss() ?>]]></description>
<?php else : ?>
        <description><![CDATA[<?php the_excerpt_rss() ?>]]></description>
    <?php if ( strlen( $post->post_content ) > 0 ) : ?>
        <content:encoded><![CDATA[<?php the_content_feed('rss2') ?>]]></content:encoded>
    <?php else : ?>
        <content:encoded><![CDATA[<?php the_excerpt_rss() ?>]]></content:encoded>
    <?php endif; ?>
<?php endif; ?>
        <wfw:commentRss><?php echo esc_url( get_post_comments_feed_link(null, 'rss2') ); ?></wfw:commentRss>
        <slash:comments><?php echo get_comments_number(); ?></slash:comments>
<?php rss_enclosure(); ?>
    <?php do_action('rss2_item'); ?>
    </item>
    <?php endwhile; ?>
</channel>
</rss> 
```

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2013-08-22T00:36:13.933

WordPress 有一个插件可以将图像添加为附件。

[https://github.com/kasparsd/feed-image-enclosure/blob/master/feed-image-enclosure.php](https://github.com/kasparsd/feed-image-enclosure/blob/master/feed-image-enclosure.php)

# c - C sscanf 和字符串格式

> ID：14257345
> 
> 赞同：1
> 
> 时间：2013-01-10T11:52:54.187
> 
> 标签：c, string, format, scanf

我在理解 sscanf 字符串格式时遇到了一点问题。

我将该字符串存储在**str**中：`192.168.0.100/act?bla=`

我希望使用此代码将**bla**存储在我的“key”变量中，并将剩余的东西（在“=”之后）存储在我的“buf”变量中

```
char str[] = "192.168.0.100/act?bla=";
char key[20];
char buf[100];
sscanf(str, "%*[^?] %[^=] %s", key, buf); 
```

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-01-10T11:59:47.350

和不会被使用，因此将它们包含在格式说明符中`?`：`=`

```
sscanf(str, "%*[^?]?%[^=]=%s", key, buf); 
```

[请参阅http://ideone.com/YoRMh3](http://ideone.com/YoRMh3)上的演示。

为了防止缓冲区溢出，请指定每个说明符可以读取的最大字符数，比目标数组少一个以允许空终止，并通过检查返回值来确保两个数组都已填充`sscanf()`：

```
if (2 == sscanf(str, "%*[^?]?%19[^=]=%99s", key, buf))
{
    printf("<%s>\n", key);
    printf("<%s>\n", buf);
} 
```

为了确保`buf`值不被截断，您可以使用`%n`格式说明符填充`int`指示处理停止的位置（注意`%n`对的返回值没有影响`sscanf()`）。如果处理了整个输入，则结束位置为`strlen(str)`：

```
int pos;
if (2 == sscanf(str, "%*[^?]?%19[^=]=%5s%n", key, buf, &pos) &&
    strlen(str) == pos)
{
    printf("<%s>\n", key);
    printf("<%s>\n", buf);
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-10T12:00:21.003

您可以添加预期的字符，以便读取和忽略它们：

```
sscanf(str, "%*[^?]?%[^=]=%s", key, buf); 
```

注意 '？' 和 '=' 仍在流中，`[^=]`处理后不被读取。

# android - Android：在 viewpager 中重用 listfragment

> ID：14257348
> 
> 赞同：2
> 
> 时间：2013-01-10T11:53:00.697
> 
> 标签：android, android-fragments, android-viewpager, android-listfragment

我有一个`ViewPager`基本上显示自定义视图`ListFragment`，除了不同的数据。所以我认为必须有一种方法可以使用`ListFragment`它，但根据它显示的页面使用不同的数据填充它。

以 Google Play 商店数据为例，我想

1.  第 1 页 - 按价格升序对付费应用进行排序
2.  第 2 页 - 按价格降序对付费应用进行排序
3.  第 3 页 - 按评级降序对免费应用程序进行排序

我怎样才能实现上述目标？第 1 页和第 2 页具有相同的数据，因此只需要对其进行排序（我用 进行了排序`Collections.sort`），但第 3 页显示了`ListFragment`相同的自定义视图，只是它需要向服务器发送请求以下载免费应用程序信息。

谢谢你！:)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-10T13:03:41.387

好吧，这是我假设你有的设置。

每个都通过某种形式`ListView`提供数据。`ListAdapter`

A`ViewPager`由 a 提供`PagerAdapter`。

在这种情况下，您可以使用一个`ListAdapter`按您想要的任何顺序对相同的确切信息进行排序的单个。

您`FragmentPagerAdapter`可以为共享数据的每个片段提供相同的适配器。每个片段可以按照它想要的任何顺序请求数据，并且适配器将对其进行排序并`getView()`在片段构建其视图时通过该方法发送值。

在 的情况下`FragmentPagerAdapter`，它将换出片段并将它们保存在内存中，以便它们已经被您重用。然而，他们的观点可以被破坏和重建。每次`ListFragment`重建它的视图时，它都会调用`getView()`提供的适配器的方法。该`getView()`方法根据请求的位置返回列表的每一行。

因为都是相同的数据，所以您只需要一个适配器来保存数据。但是，它需要能够按照您请求的顺序获取信息。这可以通过多种方式完成，但真正`ListFragment`关心的是它从`getView()`. 因此，您`ListFragment`可以告诉您的适配器它想要接收数据的顺序。然后您的适配器可以根据 的位置值按该顺序提供数据`getView()`。

# python - 如何通过 id 访问变量？

> ID：14257350
> 
> 赞同：9
> 
> 时间：2013-01-10T11:53:09.047
> 
> 标签：python, pointers, reference, pass-by-reference, pass-by-value

> **可能重复：**
> [通过 id() 获取对象？](https://stackoverflow.com/questions/1396668/get-object-by-id)

```
>>> var = 'I need to be accessed by id!'
>>> address = id(var)
>>> print(address)
33003240 
```

有没有办法使用`var`由 提供的内存中的地址`id()`来访问 的值`var`？

**UPD：**
我还想说，如果这不能在标准 Python 中完成，那么如果这可以通过破解 Python 的 C++ 内部结构以某种方式实现，那也会很有趣。

**UPD2：**知道 如何*更改*.`var`

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-01-10T12:06:13.960

仅针对您的情况的解决方案是：

```
var = 'I need to be accessed by id!'
address = id(var)
print(address)
var2 = [x for x in globals().values() if id(x)==address] 
```

它也可以在函数内部工作，例如

```
def get_by_address(address):
    return [x for x in globals().values() if id(x)==address]

var = 'I need to be accessed by id!'
address = id(var)
print(address)
var2 = get_by_address(address) 
```

但正如其他人指出的那样：**首先确保没有更好的解决方案更适合您的需求**

# java - 如何从另一个项目导入.java并在android中打包

> ID：14257352
> 
> 赞同：2
> 
> 时间：2013-01-10T11:53:13.023
> 
> 标签：java, android, eclipse, import

我们正在大学开展一个项目（项目 A），该项目必须从几年前制作的另一个项目（项目 B）的课程中扩展而来。这是在 Eclipse 下工作，并为 android 开发应用程序，所以这实际上是我们正在谈论的活动。

到目前为止，我已经尝试过：

*   在项目 A 的构建路径上添加项目 B（在项目选项卡中）
*   导入，带有完整的包名和 .java 名。

问题是我找到的每个解决方案都适用于 .jar、.class 甚至 .apk 文件，但我不使用它，项目 B 是一个包含 .java 文件的简单项目。

为了更清楚一点，项目 A 有一个名为 ClassFromProjectA 的类，项目 B 有一个类似`ClassFromProjectB`. `ClassFromProjectA`如下：

```
public class ClassFromProjectA extends ClassFromProjectB{} 
```

ClassFromProjectB 如下：

```
public class ClassFromProjectB extends ListActivity implements OnInitListener, OnGesturePerformedListener {} 
```

ClassFromProjectB 正在做的“唯一”事情是，在从它扩展时，它会更改 ListView 的默认布局，应用特定的导航选项，将手势应用于从它扩展的每个活动，以及更多的调整。

如果我这样做：

```
public class ClassFromProjectA extends ListActivity{} 
```

我的班级一切正常，没有错误，没有警告，什么都没有。

我们绝对确定这`ClassFromProjectB`是有效的，这是一个以前成功的大学项目，它的文件中还有一个示例活动来检查功能，一切都像一个魅力。事情就是这样，它只有效，因为它在同一个项目文件中。但是我们不能那样做，我们必须导入和扩展，而且它不起作用。

请让我知道您是否知道如何进行这项工作，或者指出我正确的方向。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-01-10T12:15:54.660

如果您拥有需要包含在项目（项目 A）中的完整项目 B，您可以做什么。

1.  以下列方式使项目 B 成为库：
    *   在 Eclipse 中右键单击**项目 B**，然后单击**Properties**。
    *   选择**Android**，然后选择**isLibrary**复选框。 ![项目 B 属性](../Images/2d8f1071c35d9ee59dc6d82529676c03.png)
2.  一旦项目 B 是一个库，您必须通过以下方式在项目 A 中添加库 B（以前的项目 B）：
    *   右键单击 Eclipse 中的**项目 A**，然后单击**Properties**。
    *   选择**Android**，然后单击**添加**...。 ![添加库](../Images/4dd33f7e91689d3468c9783540b1ff59.png)
    *   您应该会在您的机器上看到一个包含 eclipse 中所有库项目的列表。您还应该看到**Project B**。选择它并单击**OK**。 ![图书馆选择](../Images/1c60accc58f0f9ef507aeb95568ef82c.png)
    *   您应该在库列表中看到项目 B。 ![项目 B 添加为库](../Images/2fcacda37f895c0027b24d7cc56658c7.png)

现在您应该能够将包从项目 B 导入到项目 A 并毫无问题地使用它的类。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-10T12:10:02.997

尝试在 projectA 中引用 projectB，如下所示：

1.  打开项目A的“属性”窗口
2.  转到“Android”选项卡
3.  单击“库”中的“添加”按钮
4.  选择projectB作为参考

在此之后，您可以从 projectB 导入类。

# php - 如何 preg_match 脚本标签 src，但避免影响 img 标签 src？

> ID：14257353
> 
> 赞同：2
> 
> 时间：2013-01-10T11:53:13.810
> 
> 标签：php, preg-replace, preg-match

我必须匹配本地 src 并让它们通过网络加载。例子：

```
src="/js/my.js"> 
```

变成：

```
src="http://cdn.example.com/js/my.js"> 
```

这就是我现在所拥有的：

```
if (!preg_match("#<script(.+?) src=\"http#i",$page)){ 
$page = preg_replace("#<script(.+?) src=\"#is", "<script$1 src=\"$workingUrl", $page); 
} 
```

当它遇到这样的事情时它工作正常：

```
<script type='text/javascript' src='/wp-includes/js/jquery/jquery.js?ver=1.8.3'></script> 
```

当它遇到这样的事情时它会失败：

```
<script language="JavaScript">
window.moveTo(0,0);
window.resizeTo(screen.width,screen.height);
</script> 
```

如果脚本标签不包含 src，它将找到第一个图像标签的 src 并切换其 URL。

我需要知道如何让它仅终止脚本标签上的匹配和/或如何更好地执行替换。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-10T13:15:08.890

除非使用 DOMDocument::loadHTML 并改用 DOM，否则不要使用 . 并且只接受第一个 > 之前的所有内容作为后备可能会更好（尽管并不完美，因为在理论上可能存在包含 > 的 <script> 的其他属性）。

使用：

```
#<script([^>]+?) src=\"#is 
```

因为您的模式反而使模式在遇到 <script 之后的第一个 > 时停止匹配。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2019-11-22T08:44:03.760

绝对使用 DOM 解析器。带有 DOMDocument 的 Xpath 将干净、可靠地替换以下脚本标记：

1.  有一个 src 属性和
2.  src 属性不以 http 开头。

我本可以进一步开发 xpath 查询表达式来检查前导`http`子字符串，但我不想用更多语法吓跑你。

代码：（[演示](https://3v4l.org/rS0Ml)）

```
$html = <<<HTML
<html>
<head>
<script type='text/javascript' src='/wp-includes/js/jquery/jquery.js?ver=1.8.3'></script>
<script language="JavaScript">
window.moveTo(0,0);
window.resizeTo(screen.width,screen.height);
</script>
</head>
</html>
HTML;

$workingUrl = 'https://www.example.com';

$dom = new DOMDocument; 
$dom->loadHTML($html, LIBXML_HTML_NOIMPLIED | LIBXML_HTML_NODEFDTD);
$xpath = new DOMXPath($dom);
foreach ($xpath->query("//script[@src]") as $node) {
    if (strpos($node->getAttribute('src'), 'http') !== 0) {
        $node->setAttribute('src', $workingUrl);        
    }
}
echo $dom->saveHTML(); 
```

输出：

```
<html>
<head>
<script type="text/javascript" src="https://www.example.com"></script>
<script language="JavaScript">
window.moveTo(0,0);
window.resizeTo(screen.width,screen.height);
</script>
</head>
</html> 
```

* * *

唯一稍微“吓人”的 xpath 版本：（[演示](https://3v4l.org/ebpGj)）

```
$dom = new DOMDocument; 
$dom->loadHTML($html, LIBXML_HTML_NOIMPLIED | LIBXML_HTML_NODEFDTD);
$xpath = new DOMXPath($dom);
foreach ($xpath->query("//script[@src and not(starts-with(@src,'http'))]") as $node) {
    $node->setAttribute('src', $workingUrl);        
}
echo $dom->saveHTML(); 
```

# c# - 使用逗号分隔的类数组字符串执行存储过程

> ID：14257355
> 
> 赞同：2
> 
> 时间：2013-01-10T11:53:18.157
> 
> 标签：c#, .net, sql, tsql, sql-server-2008-r2

> **可能重复：**
> [使用逗号分隔参数的 sql 搜索查询帮助](https://stackoverflow.com/questions/5426499/help-with-a-sql-search-query-using-a-comma-delimitted-parameter)

我想编写一个在表上执行选择的存储过程，并且需要一个类型的输入变量`varchar(max)`。

我想发送一堆由分隔的值`,`作为输入参数，例如

```
'Jack','Jane','Joe' 
```

然后获取包含这些名称之一的行。

在 SQL 中，代码将是

```
Select * from Personnel where Name in ('Jack','Joe','Jane'); 
```

现在我想在我的 C# 应用程序中有一个变量，说 strNames 并像这样填充它

```
string strNames = "'Jack','Joe','Jane'"; 
```

并将此变量发送到 SP 并执行它。就像是

```
Select * from Personnel where Name in (''Jack','Joe','Jane'') -- this is wrong 
```

但是**我怎样才能告诉 SQL Server 运行这样的命令呢？**

我需要做到这一点，我知道这是可能的，请给我线索。

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-01-10T12:02:09.283

首先，将单个名称传递给存储过程时不需要引用它们。

```
using (SqlCommand cmd = new SqlCommand("MyStoredProc", conn))
{
    cmd.CommandType = CommandType.StoredProcedure;
    cmd.Parameters.AddWithValue("@longFilter", "Jack,Jill,Joe");

    using (SqlDataReader reader = cmd.ExecuteReader())
    {
        ...
    }
} 
```

然后，在存储过程中，您可以使用简单的文本函数和临时表，如下所示在逗号处拆分字符串，并为字符串的每个部分在临时表中添加一个条目：

```
DECLARE @temp AS TABLE (Name NVARCHAR(255))

IF ISNULL(@longFilter, '') <> ''
BEGIN
    DECLARE @s NVARCHAR(max)
    WHILE LEN(@longFilter) > 0
    BEGIN
        IF CHARINDEX(',', @longFilter) > 0
        BEGIN
            SET @s = LTRIM(RTRIM(SUBSTRING(@longFilter, 1, CHARINDEX(',', @longFilter) - 1)))
            SET @longFilter = SUBSTRING(@longFilter, CHARINDEX(',', @longFilter) + 1, LEN(@longFilter))
        END ELSE
        BEGIN
            SET @s = LTRIM(RTRIM(@longFilter))
            SET @longFilter= ''
        END

        -- This was missing until 20140522
        INSERT INTO @temp (Name) VALUES (@s)
    END
END 
```

稍后使用以下内容`SELECT`获取名称在其中的所有人的列表，`@temp`如果`@temp`不包含任何行（未过滤的结果），则为所有人：

```
SELECT * FROM Personnel WHERE Name IN (SELECT Name FROM @temp) OR (SELECT COUNT(*) FROM @temp) = 0 
```

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2013-01-10T13:07:15.043

您可以使用[表值参数](http://msdn.microsoft.com/en-us/library/bb510489.aspx)。

基本上，您可以在过程中插入一个值列表作为参数，并将它们用作表格，类似于以下内容

```
Select * from Personnel 
  where Name in (select name from @NamesTable). 
```

现在，具体情况

*   要使用表值参数，必须在 sql server 中预定义参数的类型，使用

    ```
    create type NamesTable as table (Name varchar(50)) 
    ```

*   然后，您可以将定义的类型用作过程中的参数

    ```
    create procedure getPersonnelList
      @NamesTable NamesTable readonly
    as
    begin
      select * from personnel
        where Name in (select Name from @NamesTable)
    end 
    ```

    [您可以在此 SQL Fiddle](http://www.sqlfiddle.com/#!3/b372e/1)中看到实际情况

*   在 C# 方面，您需要创建参数。如果您在集合中有名称并构建字符串，则可以使用它来生成参数，如果它们是逗号分隔的字符串，则可以快速`string.Split`处理。由于我不知道您的具体情况，我假设您有一个`List<string>`被调用的`names`. 您需要将其转换为表值参数以发送到过程，使用类似：

    ```
    DataTable tvparameter = new DataTable();
    tvparameter.Columns.Add("Name", typeof(string));
    foreach (string name in names)
    {
      tvparameter.Rows.Add(name);
    } 
    ```

    [您可以在SO Question](https://stackoverflow.com/questions/5595353/how-to-pass-table-value-parameters-to-stored-procedure-from-net-code)中找到有关如何在 C# 代码中生成 TVP 的更多信息。.

*   现在您只需将该参数发送到过程，就是这样。这是一个完整的控制台程序，它执行该过程并输出结果。

    ```
    List<string> names = new List<string> { "Joe", "Jane", "Jack" };

    using (SqlConnection cnn = new SqlConnection("..."))
    {
      cnn.Open();
      using (SqlCommand cmd = new SqlCommand("getPersonnelList", cnn))
      {
        cmd.CommandType = CommandType.StoredProcedure;

        DataTable tvparameter = new DataTable();
        tvparameter.Columns.Add("Name", typeof(string));
        foreach (string name in names)
        {
          tvparameter.Rows.Add(name);
        }

        cmd.Parameters.AddWithValue("@NamesTable", tvparameter);

        using (SqlDataReader dr = cmd.ExecuteReader())
        {
          while (dr.Read())
          {
            Console.WriteLine("{0} - {1}", dr["ID"], dr["Name"]);
          }
        }
      }
    } 
    ```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-01-10T11:57:35.890

我想您需要 Sql Server 中的拆分函数将逗号分隔的字符串分解为表。请参考这些链接。

[Sql Server 中的拆分函数以将逗号分隔的字符串分解为表](http://blog.logiclabz.com/sql-server/split-function-in-sql-server-to-break-comma-separated-strings-into-table.aspx)

[用于解析分隔字符串的 SQL 用户定义函数](http://www.codeproject.com/Articles/7938/SQL-User-Defined-Function-to-Parse-a-Delimited-Str)

您可以使用从表中选择数据

```
Select * from 
Personnel where 
  Name in (select items from dbo.Split ('Jack,Joe,Jane',',')) 
```

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2013-01-10T12:04:16.503

您可以简单地检查名称是否包含在字符串中。请注意末尾开头的逗号，以确保您匹配全名

```
string strNames = ",Jack,Joe,Jane,"; 
```

SQL变成

```
select * from Personnel where PATINDEX('%,' + Name + ',%', @strNames) > 0 
```

见[http://www.sqlfiddle.com/#!3/8ee5a/1](http://www.sqlfiddle.com/#!3/8ee5a/1)

# java - 使用不同的加载器在 JVM 中加载一个类两次

> ID：14257357
> 
> 赞同：6
> 
> 时间：2013-01-10T11:53:21.030
> 
> 标签：java, classloader

我有一个关于类加载概念的问题。如何在 JVM 中加载 .class 文件两次。我还在编写我为完成此任务而编写的代码摘录..

1）装载机1代码

```
public class MyClassLoader extends ClassLoader {

    public MyClassLoader(){
        super(MyClassLoader.class.getClassLoader());
    }

    public Class loadClass(String classname){
        try {
            return super.loadClass(classname);
        } catch (ClassNotFoundException e) {
            // TODO Auto-generated catch block
            e.printStackTrace();
        }
        return null;
    }
} 
```

2）装载机2代码

```
public class AnotherClassLoader extends ClassLoader {

    public AnotherClassLoader(){
        super(AnotherClassLoader.class.getClassLoader());
    }

    public Class loadClass(String classname){
        try {
            return super.loadClass(classname);
        } catch (ClassNotFoundException e) {
            // TODO Auto-generated catch block
            e.printStackTrace();
        }
        return null;
    }
} 
```

3）现在我正在使用这两个不同的类加载器加载一个名为 A 的类。我想操作 classA1==newClassA 应该返回 false。这是代码：

```
public static void main(String[] args) {
        MyClassLoader loader1 = new MyClassLoader();
        AnotherClassLoader newLoader = new AnotherClassLoader();
            System.out.println("Load with Custom Class Loader instance");
            Class classA1 = loader1.loadClass("com.hitesh.coreJava.A");
            System.out.println("Class Loader:::"+classA1.getClassLoader());
            Class newClassA = newLoader.loadClass("com.hitesh.coreJava.A");
            System.out.println("Class Loader:::"+newClassA.getClassLoader());
            System.out.println(classA1==newClassA);
            System.out.println(classA1.hashCode() + " , " + newClassA.hashCode());

    } 
```

4) 执行上述代码的结果：

> 使用自定义类加载器实例加载类加载器:::sun.misc.Launcher$AppClassLoader@11b86e7 类加载器:::sun.misc.Launcher$AppClassLoader@11b86e7 true 1641745 , 1641745

你能解释一下吗

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-01-10T12:22:49.703

尝试这个

```
public class Test1 {

    static class TestClassLoader1 extends ClassLoader {

        @Override
        public Class<?> loadClass(String name) throws ClassNotFoundException {
            if (!name.equals("Test1")) {
                return super.loadClass(name);
            }
            try {
                InputStream in = ClassLoader.getSystemResourceAsStream("Test1.class");
                byte[] a = new byte[10000];
                int len  = in.read(a);
                in.close();
                return defineClass(name, a, 0, len);
            } catch (IOException e) {
                throw new ClassNotFoundException();
            }
        }
    }

    public static void main(String[] args) throws Exception {
        Class<?> c1 = new TestClassLoader1().loadClass("Test1");
        Class<?> c2 = new TestClassLoader1().loadClass("Test1");
        System.out.println(c1);
        System.out.println(c2);
        System.out.println(c1 == c2);
    }
} 
```

输出

```
class Test1
class Test1
false 
```

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2013-01-10T11:57:01.863

两个类加载器都在它们的父类加载器中开始查找（这就是`super()`调用的目的）。所以实际上超级类加载器在这两种情况下都会加载它。

你可以试试这个：

```
String pathToJar = "C:\\path\\to\\my.jar";
String className = "com.mypackage.ClassA";
URLClassLoader cl1 = new URLClassLoader(new URL[] { new URL(pathToJar) });
URLClassLoader cl2 = new URLClassLoader(new URL[] { new URL(pathToJar) });
Class<?> c1 = cl1.loadClass(className);
Class<?> c2 = cl2.loadClass(className);
System.out.println(c1);
System.out.println(c2);
System.out.println(c1==c2 ? "Parent classloader loads" : "Parent classloader does not load");
cl1.close();
cl2.close(); 
```

确保它`my.jar`不在您的类路径中。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2013-01-10T11:56:22.147

在这两种情况下，您都使用相同的 ClassLoader 来执行加载。您有两个 ClassLoader，但每个都只调用 super.loadClass()，它委托给同一个父 ClassLoader，即 AppClassLoader。

# jquery - jQuery 文档 .ready 和 .resize 在 Wordpress 中

> ID：14257358
> 
> 赞同：1
> 
> 时间：2013-01-10T11:53:26.080
> 
> 标签：jquery

我没有重复所有调整页面大小的代码，而是尝试了以下操作：

```
$(document).ready(myfunction);
$(window).resize(myfunction);

function myfunction() {
    // do whatever
} 
```

我有一些问题。我有一些事情需要在页面加载时发生（总是相同的）和一​​些需要调整大小的事情。我的页面设置如下：

```
jQuery(document).ready(function($) {

    //a bunch of static stuff here

    $wall.imagesLoaded(function(){
       //using an imagesloaded plugin
       //masonry is here & needs to reload on resize.
    });

}); 
```

我在某处读到总是将 jQuery 放在 Wordpress 的开头，所以我想我也可以，因为它有效。我如何摇动其余部分，以便 Masonry 在调整窗口大小时重新加载？

谢谢！

**编辑解决方案：这适用于 Wordpress。**

```
 (function($) {

    $(document).ready(documentReadyFunction);
    $(window).resize(windowResizeFunction);

    function documentReadyFunction() {
        // functions for document ready
        onPageLoadOrResize();
        onPageLoad();
    }

    function windowResizeFunction() {
        // functions for window resize
        onPageLoadOrResize();
    }

    function onPageLoad() {
        alert("pageload");
    }

    function onPageLoadOrResize () {
        alert ("Load or Resize");
    }

    })(jQuery); 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-10T11:59:27.427

尝试使用这样的模式：

```
$(document).ready(documentReadyFunction);
$(window).resize(windowResizeFunction);

function documentReadyFunction() {
    genericStuffFunction()
    // do whatever for document ready
}

function windowResizeFunction() {
    genericStuffFunction()
    // do whatever for window resize
}

function genericStuffFunction() {
    // do whatever for document ready and window resize
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-10T12:01:33.513

或者，您可以让您`myFunction`接受一个`ev`（事件）参数，然后检查`ev.type`属性以查看它是否`resize`并相应地运行代码，如下所示：

```
$(document).ready(myfunction);
$(window).resize(myfunction);

function myfunction(ev, ui) {
    if (ev.type && ev.type == 'resize') {
        alert('resize');
    }

    // do main stuff here...
} 
```

[jsFiddle 示例](http://jsfiddle.net/GeekyEggo/ynwsc/)

# c# - Linq选择列表中存在的对象（A，B，C）

> ID：14257360
> 
> 赞同：198
> 
> 时间：2013-01-10T11:53:33.117
> 
> 标签：c#, linq, list, linq-to-objects, exists

我有一个清单`orders`。
我想`orders`根据一组订单状态进行选择。

所以本质上`select orders where order.StatusCode in ("A", "B", "C")`

```
// Filter the orders based on the order status
var filteredOrders = from order in orders.Order
                     where order.StatusCode.????????("A", "B", "C")
                     select order; 
```

* * *

## 回答 #1

> 赞同：343
> 
> 时间：2013-01-10T11:55:06.150

您的状态代码也是一个集合，因此请使用[`Contains`](http://msdn.microsoft.com/en-us/library/bb352880.aspx)：

```
var allowedStatus = new[]{ "A", "B", "C" };
var filteredOrders = orders.Order.Where(o => allowedStatus.Contains(o.StatusCode)); 
```

或在查询语法中：

```
var filteredOrders = from order in orders.Order
                     where allowedStatus.Contains(order.StatusCode)
                     select order; 
```

* * *

## 回答 #2

> 赞同：19
> 
> 时间：2013-01-10T11:55:21.273

```
var statuses = new[] { "A", "B", "C" };

var filteredOrders = from order in orders.Order
                             where statuses.Contains(order.StatusCode)
                             select order; 
```

* * *

## 回答 #3

> 赞同：18
> 
> 时间：2013-01-10T11:56:05.283

尝试[`Contains`](http://msdn.microsoft.com/en-us/library/system.linq.enumerable.contains.aspx)功能；

> 确定序列是否包含指定元素。

```
var allowedStatus = new[]{ "A", "B", "C" };
var filteredOrders = orders.Order.Where(o => allowedStatus.Contains(o.StatusCode)); 
```

* * *

## 回答 #4

> 赞同：18
> 
> 时间：2015-07-26T15:58:51.487

**注意：**这是 LINQ to objects，我不是 100% 确定它是否适用于 LINQ to entity，现在没有时间检查它。**事实上，将它翻译成[A, B, C] 中的 x**并不难，但你必须自己检查。

所以，而不是**包含**作为**????** 在您的代码中，您可以使用更 LINQ-uish 的 Any **：**

```
// Filter the orders based on the order status
var filteredOrders = from order in orders.Order
                     where new[] { "A", "B", "C" }.Any(s => s == order.StatusCode)
                     select order; 
```

这与您从 SQL 中所知道的相反，这就是为什么它不那么明显。

当然，如果你喜欢流利的语法，这里是：

```
var filteredOrders = orders.Order.Where(order => new[] {"A", "B", "C"}.Any(s => s == order.StatusCode)); 
```

在这里，我们再次看到了 LINQ 的一个惊喜（比如 Joda-speech 将 select 放在最后）。然而，从这个意义上说，它检查列表（集合、集合）中的至少一个项目（即**any**）是否与单个值匹配是非常合乎逻辑的。

* * *

## 回答 #5

> 赞同：-3
> 
> 时间：2018-06-19T00:19:22.820

请注意，`.Contains()`将匹配任何子字符串，包括您不期望的字符串。例如。`new[] { "A", "B", "AA" }.Contains("A")`将返回您可能不想要的 A 和 AA。我已经被它咬了。

`.Any()`或者`.Exists()`是更安全的选择

# java - 检查记录是否存在于数据库中

> ID：14257368
> 
> 赞同：2
> 
> 时间：2013-01-10T11:54:15.917
> 
> 标签：java, sql

如果框不存在，我需要在我输入的汇款ID下检查数据库中是否存在框，如果框不存在，那么我需要显示该框不存在的消息，但如果它不存在，则应插入新框我写了一些代码，但显示错误

```
private void txtboxnoFocusLost(java.awt.event.FocusEvent evt) {
    DBUtil util = new DBUtil();

    try {
        Connection con = util.getConnection();
        PreparedStatement stmt = con.prepareStatement(
            "select box_no from dbo.soil_det where rm_id = ? and box_no = ?");
        stmt.setLong(1, Long.parseLong(tf_rm_id.getText()));
        stmt.setString(1, (txtboxno.getText()));       
        ResultSet rs=stmt.executeQuery();
        while(rs.next()){
            rs.equals().txtboxno.getText());
        }
        JOptionPane.showMessageDialog(rootPane, "hello!S");
    } catch (Exception ex) {
        Logger.getLogger(DATAENTRY.class.getName()).log(Level.SEVERE, null, ex);
    } 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-10T12:38:36.880

试试这个代码

```
private void txtboxnoFocusLost(java.awt.event.FocusEvent evt) {
DBUtil util = new DBUtil();

try {
    Connection con = util.getConnection();
    PreparedStatement stmt = con.prepareStatement(
        "select box_no from dbo.soil_det where rm_id = ? and box_no = ?");
    stmt.setLong(1, Long.parseLong(tf_rm_id.getText()));
    stmt.setString(2, (txtboxno.getText()));       
    ResultSet rs=stmt.executeQuery();
    bool recordAdded = false;
    while(!rs.next()){            
       /// Do your insertion of new records
         recordAdded = true;
    }
    if( recordAdded ){
      JOptionPane.showMessageDialog(rootPane, "Record added");
    }else{
       JOptionPane.showMessageDialog(rootPane, "Record already exists");
    }
} catch (Exception ex) {
    Logger.getLogger(DATAENTRY.class.getName()).log(Level.SEVERE, null, ex);
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-10T11:56:34.020

您需要从`ResultSet`例如获取适当的记录

```
boolean found = rs.getString(1).equals().txtboxno.getText()); 
```

目前，您只是将`ResultSet`对象本身与字符串进行比较，这是行不通的。以上从 中提取第一条记录`ResultSet`并对其进行比较（注意：您的数据类型可能不同，您可能需要`rs.getInt(1)`等）

在您的情况下，也许它足以检查您是否有`ResultSet`结果（通过`rs.next()`）

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-10T12:07:04.963

或者您可以使用计数：

```
String query = "select count(*) 
from dbo.soil_det where rm_id = ? and box_no = ?"; 
```

然后在执行查询后，您将获得计数

```
 rs.getInt(1) 
```

使用它，您可以决定向用户显示哪些信息

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-10T12:10:09.220

非常首先，如果计数大于零，则必须使用 sql 获取计数，然后不要插入记录并显示已经存在的消息，否则部分插入记录。看下面的例子

```
private boolean findCount(int rm_id,String box_no)
{
      int count=0;
     //write query here 
     count = assign query result;
     //check count 
if(count>0)
{
     return false;//records exists
}else{
    return true;//records do not exists
} 
```

}

```
public void insertData()
{
     if(findCount(1,"1")){//pass values
       //Write down your insert logic
     }else{
      JOptionPane.showMessageDialog(rootPane, "Records Already Exists");
     }
} 
```

注意：您的示例中的朋友您没有编写插入逻辑。只有选择在那里

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-01-10T12:35:32.403

首先，您可以在 db 表上添加列（rm_id、box_no）的唯一约束，这无论如何都是一件好事。

然后您可以简单地尝试插入框并捕获异常并检查它是否违反了唯一约束。

另一种选择（仍然保持唯一约束）是制作一个更复杂的 SQL 插入语句，仅在不存在时插入，您可以谷歌“如果不存在 sql 插入”来查找一些示例......

# python - 使用 Python 编辑 csv 文件时跳过标题

> ID：14257373
> 
> 赞同：265
> 
> 时间：2013-01-10T11:54:38.367
> 
> 标签：python, python-2.7, csv

我正在使用下面提到的代码来使用 Python 编辑 csv。代码中调用的函数构成了代码的上半部分。

问题：我希望下面提到的代码从第二行开始编辑 csv，我希望它排除包含标题的第一行。现在它只在第一行应用函数，我的标题行正在改变。

```
in_file = open("tmob_notcleaned.csv", "rb")
reader = csv.reader(in_file)
out_file = open("tmob_cleaned.csv", "wb")
writer = csv.writer(out_file)
row = 1
for row in reader:
    row[13] = handle_color(row[10])[1].replace(" - ","").strip()
    row[10] = handle_color(row[10])[0].replace("-","").replace("(","").replace(")","").strip()
    row[14] = handle_gb(row[10])[1].replace("-","").replace(" ","").replace("GB","").strip()
    row[10] = handle_gb(row[10])[0].strip()
    row[9] = handle_oem(row[10])[1].replace("Blackberry","RIM").replace("TMobile","T-Mobile").strip()
    row[15] = handle_addon(row[10])[1].strip()
    row[10] = handle_addon(row[10])[0].replace(" by","").replace("FREE","").strip()
    writer.writerow(row)
in_file.close()    
out_file.close() 
```

我试图通过初始化`row`变量来解决这个问题，`1`但它没有用。

请帮我解决这个问题。

* * *

## 回答 #1

> 赞同：452
> 
> 时间：2013-01-10T12:07:53.553

您的`reader`变量是可迭代的，通过遍历它可以检索行。

要使其在循环之前跳过一项，只需调用[`next(reader, None)`](http://docs.python.org/3/library/functions.html#next)并忽略返回值。

您还可以稍微简化代码；使用打开的文件作为上下文管理器让它们自动关闭：

```
with open("tmob_notcleaned.csv", "rb") as infile, open("tmob_cleaned.csv", "wb") as outfile:
   reader = csv.reader(infile)
   next(reader, None)  # skip the headers
   writer = csv.writer(outfile)
   for row in reader:
       # process each row
       writer.writerow(row)

# no need to close, the files are closed automatically when you get to this point. 
```

如果您想将标头写入未处理的输出文件，这也很容易，请将输出传递`next()`给`writer.writerow()`：

```
headers = next(reader, None)  # returns the headers or `None` if the input is empty
if headers:
    writer.writerow(headers) 
```

* * *

## 回答 #2

> 赞同：146
> 
> 时间：2015-03-19T23:37:41.427

解决这个问题的另一种方法是使用 DictReader 类，它“跳过”标题行并使用它来允许命名索引。

给定“foo.csv”如下：

```
FirstColumn,SecondColumn
asdf,1234
qwer,5678 
```

像这样使用 DictReader：

```
import csv
with open('foo.csv') as f:
    reader = csv.DictReader(f, delimiter=',')
    for row in reader:
        print(row['FirstColumn'])  # Access by column header instead of column number
        print(row['SecondColumn']) 
```

* * *

## 回答 #3

> 赞同：10
> 
> 时间：2013-01-10T12:06:24.597

这样做`row=1`不会改变任何事情，因为您只会用循环的结果覆盖它。

你想`next(reader)`跳过一行。

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2021-08-26T16:00:13.197

只需使用 next() 迭代一次

```
with open(filename) as file:

    csvreaded = csv.reader(file)
    header = next(csvreaded)

    for row in csvreaded:
        empty_list.append(row) #your csv list without header 
```

或在阅读器对象的末尾使用 [1:]

```
with open(filename) as file:

    csvreaded = csv.reader(file)
    header = next(csvreaded)

    for row in csvreaded[1:]:
        empty_list.append(row) #your csv list without header 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2020-10-30T18:18:43.683

灵感来自 Martijn Pieters 的回应。

如果您只需要从`csv`文件中删除标题，则使用标准 Python 文件 I/O 库编写可以更有效地工作，避免使用 CSV Python 库编写：

```
with open("tmob_notcleaned.csv", "rb") as infile, open("tmob_cleaned.csv", "wb") as outfile:
   next(infile)  # skip the headers
   outfile.write(infile.read()) 
```

# c# - 为什么 C#/.Net 不使用克隆范式？

> ID：14257374
> 
> 赞同：2
> 
> 时间：2013-01-10T11:54:50.190
> 
> 标签：c#, .net, programming-languages

我对在 C# 中复制集合对象非常麻烦感到震惊，尤其是在您想要深度复制的情况下。.Net 没有采用 Java clone() 路线是否有充分的设计理由，是否有一些我在 C#/.Net 中遗漏的等效范例？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-01-10T12:04:53.197

**浅拷贝**

对于浅拷贝，.NET 提供[Object.MemberwiseClone](http://msdn.microsoft.com/en-us/library/system.object.memberwiseclone.aspx)。

**深拷贝**

对于深拷贝，Microsoft 建议实施自定义`Copy`方法。深拷贝需要关于类本身的复杂知识——事实上，对于给定的类，制作多种不同类型的深拷贝甚至可能是有意义的。因此，没有为此目的预定义的方法或接口。

**但是 ICloneable 接口呢？**

有[ICloneable 接口](http://msdn.microsoft.com/en-us/library/system.icloneable.aspx)，其用途可能大致对应于 Java 的`Object.clone`. 但是，Microsoft[建议不要使用它](http://blogs.msdn.com/b/brada/archive/2003/04/09/49935.aspx)，因为它没有指定副本需要多浅或多深才能正确实现接口。

# php - 从 php 乘以在数据库中的插入

> ID：14257387
> 
> 赞同：0
> 
> 时间：2013-01-10T11:55:20.087
> 
> 标签：php, database, insert

我有一个 php 向我的数据库中插入一个数字。我希望数据库中的每个值 1 都应该是 0,01，所以如果一个人输入 50，它将作为 0,5 插入数据库中。这意味着我必须将 php 中的数字乘以 0,01。这可能吗？我有这个将数字插入数据库的代码`$sql = "insert into $DB_Table (score) values('$points');";`

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-10T11:59:39.827

首先，您可能应该研究 mysqli，这将使您与 mysql 进行更安全的交互。

你可以像这样解决你的问题：

```
 $sql = sprintf("INSERT INTO %s (score) VALUES ('%s');", $DB_Table, $points * 0,01); 
```

在 mysqli 中，对应的将类似于：

```
$stmt = $db->prepare("INSERT INTO $DB_Table (score) VALUES (?);");
$stmt->bind_param("s", $point * 0,01);
$stmt->execute(); 
```

这可以帮助您避免 SQL 注入等。祝你的项目好运。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-10T11:57:31.260

```
$sql = "INSERT INTO $DB_Table (`score`) VALUES('" . ($points*0.01) ."');"; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-10T11:57:41.393

```
$sql = "insert into $DB_Table (score) values('" . ($points / 100) . "');" 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-10T11:58:17.057

你有没有尝试过

```
$sql = "insert into $DB_Table (score) values('".($points / 100)."');"; 
```

你也没有提到你的字段是什么数据类型；我相信小数是你需要的，而不是 int

# mercurial - Mercurial ssh 身份验证 whenpush

> ID：14257388
> 
> 赞同：3
> 
> 时间：2013-01-10T11:55:23.240
> 
> 标签：mercurial

我正在尝试使用 mercurial 推动 Bitbucket 上的回购。我确保将 ssh 密钥正确复制`~/.ssh/id_rsa.pub`到我的 bitbucket 帐户。

```
cat .hg/hgrc  
[paths]
default = ssh://bitbucket.org/mcarey/arakoon 
```

仍然在推动时出现此错误：

```
pushing to ssh://bitbucket.org/mcarey/arakoon  
remote: Permission denied (publickey).  
abort: no suitable response from remote hg! 
```

我认为问题在于回购将是

```
ssh://hg@bitbucket.org/mcarey/arakoon 
```

这个对吗？如果有怎么修改？如果不是，它是关于什么的？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-10T13:26:26.447

只需编辑 .hg/hgrc：

```
[paths]
default = ssh://hg@bitbucket.org/YOURNAME/REPONAME 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-10T14:44:17.917

好的。需要注意以下几点

hg@ 在 bitbucket.org/YOURNAME/REPONAME 之前

YOURNAME 应该是 repo 中的名称而不是用户名。用户名附加在 SSH 密钥或 HTTPS 用户名/密码中。

这些是我的问题。现在解决了

# android - EditText 上的 AsyncTask LayoutInflater InflateException

> ID：14257389
> 
> 赞同：0
> 
> 时间：2013-01-10T11:55:27.780
> 
> 标签：android, android-asynctask, android-edittext, layout-inflater, inflate-exception

我基本上有代码

```
new AsyncTask<Integer, Void, View>() {
@Override
protected View doInBackground(Integer... tabIds) {
    return mInflater.inflate(R.layout.layout_name, null);
}
@Override
protected void onPostExecute(View result) {
    super.onPostExecute(result);
            root_layout.addView(result);
}
}.execute(tabId); 
```

布局名称.xml：

```
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
android:layout_width="match_parent"
android:layout_height="wrap_content"
android:orientation="vertical"
android:background="@android:color/white" >

<EditText
    android:id="@+id/text"
    android:layout_width="match_parent"
    android:layout_height="wrap_content"
    android:inputType="text" />

<Button
    android:id="@+id/do_stuff"
    android:layout_width="match_parent"
    android:layout_height="wrap_content" />

</LinearLayout> 
```

我得到了`InflateException: Binary XML file line #x: Error inflating class <unknown>`。如果我删除`EditText`它，则没有`problems`。

我找不到它的原因（花了 2 小时）。

有谁知道这是什么原因？并希望有一个解决方案

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2017-03-16T10:07:19.897

而不是使用 AsynTask 使用 AsyncLayoutInflater 例如：

```
 MyClass extends Fragment implements  AsyncLayoutInflater.OnInflateFinishedListener {

        @Override
        public void onCreate(Bundle savedInstanceState) {
         new AsyncLayoutInflater(context).inflate(childViewId, parent, this);
         //show progress..
        }
        @Override
        public void onInflateFinished(View view, int resid, ViewGroup parent){
            if (view != null) {
             //You have inflated view to use in UI Thread.
            }
        }
    } 
```

除此之外，它还有一些缺陷：AsyncLayoutInflater 类还将处理无法异步膨胀的视图的情况。此类视图类没有处理程序实现，如果您尝试在 AsyncTask 或 Thread 类中对它们进行膨胀（如您的情况），则会引发异常。例如 EditText 只能在 UI 线程中膨胀。将要求 looper.loop(); 称呼。AsyncLayoutInflater 将在 UI 线程中膨胀此类视图并异步休息。

最终你不能在单独的线程中膨胀 EditText。这只是您要实现的目标的解决方法。此外，您可以尝试同样的 HandlerThread，但效果不会很好。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-10T12:24:14.980

改变两者

```
 android:layout_width="match_parent" 
```

至

```
 android:layout_width="wrap_content" 
```

它可能会帮助你。

# ajax - var_dump 表示 75 个字符的字符串，不能回显它，也不能 json_decode()

> ID：14257405
> 
> 赞同：0
> 
> 时间：2013-01-10T11:56:23.440
> 
> 标签：ajax, json, var-dump

我正在使用 AJAX 将一些数据发布到 PHP 页面，但我无法对其进行解码。`json_decode()`返回 NULL。所以我想如果我回显它，我可以通过 jsonlint 运行它。但什么都没有出现。为了找出数据是否到达我尝试数据的 PHP 页面`var_dump()`。奇怪的是它显示：

```
string(75) "{\"title\":\"fds\",\"body\":\"fds\",\"tags\":\"fds\",\"type\":\"question\"}" 
```

所以数据到达页面。删除反斜杠后，我通过 jsonlint 运行它，它说 JSON 是有效的。这怎么可能？

**根据和 jsonlint，我得到了一个 75 个字符的有效 JSON 字符串，但`var_dump()`我不能。`echo``json_decode()`**

**编辑：**
显然我做错了什么，我现在可以回显它（我可能在`$_POST`数组键​​中打错了）。它呼应了这一点：

```
{\"title\":\"tre\",\"body\":\"tre\",\"tags\":\"tre\",\"type\":\"question\"} 
```

再一次，没有反斜杠 JSONLint 告诉我它是有效的 JSON。

**编辑2：**
这是PHP代码：

```
// code to check if the user is logged in
$post = json_decode($_POST['q']);
echo "var_dump(\$_POST['q']): ";
var_dump($_POST['q']);
echo "<BR /><BR />";
echo "var_dump(\$post): ";
var_dump($post); 
```

输出：

```
var_dump($_POST['q']): string(74) "{\"title\":\"gfd\",\"body\":\"gf\",\"tags\":\"gfd\",\"type\":\"question\"}" 

var_dump($post): NULL 
```

JS代码：

```
var simpleObj = {title: "rew", body: "rew", tags: "rew", type: "question"};
$.post('savepost.php', "q=" + JSON.stringify(simpleObj), function(data) {
    $('#resultDiv').html("DATA: " + data);
}); 
```

**最终编辑：**
我终于自己解决了。我实际上甚至在我问之前就发现了这个问题，但认为它是“无害的”，并且认为这不会导致这个问题。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-14T11:59:25.763

我找到了答案！当我运行它时，`jsonlint.com`它说由于反斜杠而无效。我认为这些只是为了将 JSON 中的引号标记为普通引号，而不是字符串结尾和开头的引号，我认为它们是“无害的”。
然后我想到了函数`addslashes()`，并认为也应该有一个相反的函数。我发现`stripslashes()`并解决了问题。

新代码：

```
// code to check if the user is logged in
$post = json_decode(stripslashes($_POST['q']));
echo "var_dump(\$_POST['q']): ";
var_dump($_POST['q']);
echo "<BR /><BR />";
echo "var_dump(\$post): ";
var_dump($post); 
```

# java - 我应该使用嵌套枚举吗？

> ID：14257410
> 
> 赞同：2
> 
> 时间：2013-01-10T11:57:04.730
> 
> 标签：java, data-structures, enums, nested

假设我需要一个涉及一组类别的 Java 数据结构，每个类别都有一组子类别。例如，假设主类别是“品牌”（例如产品），子类别是“产品”。我希望能够将品牌+产品的组合映射到一条数据，例如价格。

如果它们是独立的，我想对“品牌”和“产品”都使用枚举类型，因为

*   品牌+产品只有一小部分与之相关的数据（价格）

*   我需要在一个相当大的程序中多次引用它们，所以我错误输入分配给它们的任何字符串文字键的可能性基本上是一个。

但是，品牌/产品的数量太大，无法为每个品牌/产品组合提供一个*枚举*（大约 20 个品牌，每个品牌有 10 个产品，以后很有可能添加更多）。我希望能够使用这样的结构：

```
 getPrice(APPLE.IPOD)

    getPrice(APPLE.MACBOOK)

    getPrice(HERSHEYS.PEANUT_BUTTER_CUPS) 
```

我应该使用某种嵌套枚举吗？如果是这样，那将如何实施？

* * *

奖励信息：我花了一些时间在谷歌上搜索“java 嵌套枚举”，但没有提出任何建议。与此处勾选的答案中的第一个或[此处](https://stackoverflow.com/questions/6424390/nesting-enums-in-java?rq=1)的 thelosts 的答案类似的结构的[问题](https://stackoverflow.com/questions/2636845/how-to-nest-an-enum-inside-the-value-of-an-enum?rq=1)是，我有太多的类别都表现出相同的行为，无法多次写出非常相似的枚举定义。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-10T12:03:10.203

我不会为此使用枚举。

我建议您从文件或数据库中加载此信息。Java 不是存储大量数据的好地方。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-10T12:19:10.813

您可以将 getter 和 setter 添加到允许设置 Product 枚举的 Brand 枚举，但这不会强制 Product 实际由该 Brand 制造。此外，每个枚举值只有一个实例——因此您永远不可能拥有 APPLE.IPOD 和 APPLE.IPAD。您要么需要一个表示笛卡尔积的枚举类型，要么需要像 Peter Lawrey 建议的那样从数据存储中加载值。

# c++ - boost asio async_read 文档

> ID：14257411
> 
> 赞同：0
> 
> 时间：2013-01-10T11:57:08.153
> 
> 标签：c++, boost-asio

[本](http://www.boost.org/doc/libs/1_52_0/doc/html/boost_asio/example/chat/chat_client.cpp)例与`async_read` [手册](http://www.boost.org/doc/libs/1_52_0/doc/html/boost_asio/reference/async_read/overload1.html)不一致。根据手动`async_read` [处理程序](http://www.boost.org/doc/libs/1_52_0/doc/html/boost_asio/reference/ReadHandler.html)需要 2 个参数：错误代码和传输了多少字节，但在示例中，处理程序只接受错误代码。这里发生了什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-10T22:57:07.457

结果类型 from`boost::bind`仍然满足[ReadHandler](http://www.boost.org/doc/libs/1_52_0/doc/html/boost_asio/reference/ReadHandler.html)的要求。 [Boost.Bind](http://www.boost.org/doc/libs/1_52_0/libs/bind/bind.html)的文档指出，额外的参数会被默默忽略。

例如，在 Boost.Asio 的内部，ReadHandler 调用链可能看起来像：

```
handler( error, bytes_transferred ) 
`-- binder::operator()( error, bytes_transferred )
    `-- bound_function( error ) 
```

为了更好地说明和解释`bind`，请考虑阅读[此](http://blog.think-async.com/2010/04/bind-illustrated.html)博客条目。它的一个例证特别显示了多余论点的情况。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-10T12:26:15.253

既然没关系，用超过 N 个参数调用绑定对象 operator()。

```
#include <iostream>
#include <boost/bind.hpp>

template<typename T>
void call(const T& f)
{
   f(1, 2, 3, 4);
}

void f(int i) { std::cout << i << std::endl; }

int main()
{
   call(boost::bind(&f, 1));
} 
```

[http://liveworkspace.org/code/1MrPTQ](http://liveworkspace.org/code/1MrPTQ) $2

```
template<class R, class F, class L> class bind_t
{
public:

    typedef bind_t this_type;

    bind_t(F f, L const & l): f_(f), l_(l) {}

#define BOOST_BIND_RETURN return
#include <boost/bind/bind_template.hpp>
#undef BOOST_BIND_RETURN

};

result_type operator()()
{
    list0 a;
    BOOST_BIND_RETURN l_(type<result_type>(), f_, a, 0);
}

result_type operator()() const
{
    list0 a;
    BOOST_BIND_RETURN l_(type<result_type>(), f_, a, 0);
}

template<class A1> result_type operator()(A1 & a1)
{
    list1<A1 &> a(a1);
    BOOST_BIND_RETURN l_(type<result_type>(), f_, a, 0);
}

template<class A1> result_type operator()(A1 & a1) const
{
    list1<A1 &> a(a1);
    BOOST_BIND_RETURN l_(type<result_type>(), f_, a, 0);
}

template<class A1, class A2, class A3, class A4, class A5, class A6, class A7, class A8, class A9> result_type operator()(A1 const & a1, A2 const & a2, A3 const & a3, A4 const & a4, A5 const & a5, A6 const & a6, A7 const & a7, A8 const & a8, A9 const & a9)
{
    list9<A1 const &, A2 const &, A3 const &, A4 const &, A5 const &, A6 const &, A7 const &, A8 const &, A9 const &> a(a1, a2, a3, a4, a5, a6, a7, a8, a9);
    BOOST_BIND_RETURN l_(type<result_type>(), f_, a, 0);
}

template<class A1, class A2, class A3, class A4, class A5, class A6, class A7, class A8, class A9> result_type operator()(A1 const & a1, A2 const & a2, A3 const & a3, A4 const & a4, A5 const & a5, A6 const & a6, A7 const & a7, A8 const & a8, A9 const & a9) const
{
    list9<A1 const &, A2 const &, A3 const &, A4 const &, A5 const &, A6 const &, A7 const &, A8 const &, A9 const &> a(a1, a2, a3, a4, a5, a6, a7, a8, a9);
    BOOST_BIND_RETURN l_(type<result_type>(), f_, a, 0);
}

template<class R, class F, class A1>
    _bi::bind_t<R, F, typename _bi::list_av_1<A1>::type>
    BOOST_BIND(F f, A1 a1)
{
    typedef typename _bi::list_av_1<A1>::type list_type;
    return _bi::bind_t<R, F, list_type> (f, list_type(a1));
} 
```

例如 boost::bi::list1 的实现 operator()

```
template<class R, class F, class A> R operator()(type<R>, F & f, A & a, long)
{
    return unwrapper<F>::unwrap(f, 0)(a[base_type::a1_]);
} 
```

使用一个参数调用 f，而不管实际完成的元素数量如何。

# javascript - 如何使带有滚动条的div中的表的表头固定？（水平和垂直滚动）

> ID：14257413
> 
> 赞同：0
> 
> 时间：2013-01-10T11:57:28.397
> 
> 标签：javascript, jquery, html, css

**情况：**

1.  我有一个带有滚动条的 div：（`overflow: auto;`）
2.  在这个 div 中，我有一个带有表头的表
3.  当我滚动表格主体时，标题不可见（就像您滚动浏览网站窗口时一样）

**我想要的是：**

当用户滚动浏览我的表格时，表格标题的位置应该是固定的。

简单的位置固定 ( `<thead style="position:fixed;">`) 没有帮助，因为表格标题有 50 个单元格宽，所以您必须向右/向左滚动才能看到所有单元格。

我绝对不知道从哪里开始，任何想法都会受到赞赏。

**找到答案**

我在堆栈溢出中发现了很多类似的问题，但没有一个明确告诉我如何将固定标题应用到在 div 中水平滚动。

[http://jsfiddle.net/TGBym/44/](http://jsfiddle.net/TGBym/44/) -> Dhaval Shukla 在[这篇文章](https://stackoverflow.com/questions/8888526/how-to-make-table-scrollable-with-fixed-headings)中的一个小提琴，但似乎没有检查水平滚动..

# html - 对齐位置 absolute 和 margin: 0 auto; div

> ID：14257414
> 
> 赞同：0
> 
> 时间：2013-01-10T11:57:29.973
> 
> 标签：html, css

我花了太长时间试图弄清楚如何做到这一点！

我在边距为 0 的自动容器中有两个浮动 div，左上角和右上角。

我有两个绝对定位的 div，它们粘在窗口的任一侧，并在某个点（左下角和右下角）相遇。

所以我的问题是，我希望左上角和右上角 div 的交汇点始终与左下角和右下角的交汇点内联。

HTML：

```
<div id="container">
 <div id="top-left">Top Left</div>
 <div id="top-right">Top Right</div>
</div>
<div id="bottom-left">Bottom Left</div>
<div id="bottom-right">Bottom Right</div> 
```

CSS：

```
#bottom-left {
  position: absolute;
  left: 0;
  height: 70px;
  right: 45%;
}

#bottom-right {
  position: absolute;
  right: 0;
  height: 60px;
  left: 55%;
}

#container {
  margin: 0 auto;
  width: 200px;
  overflow: hidden;
}

#top-left {
  width: 125px;
  float: left;
}

#top-right {
  width: 75px;
  float: left;
} 
```

JS Fiddle 示例[http://jsfiddle.net/JECyC/1/](http://jsfiddle.net/JECyC/1/)如果你改变窗口的大小，会议点就会分开！

我可能以错误的方式处理这个问题，所以我对完全不同的解决方案持开放态度！

干杯。

编辑 1：屏幕截图，我需要确保 div 的角总是相遇。

![测试](../Images/9815dc5d4658949058fa00c3fcd14a97.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-10T12:23:54.617

您的左上角和右上角具有固定宽度，但左下角和右下角具有可变宽度。所以它们永远不会内联，就好像你不断减小窗口大小一样，顶部 div 将保持原样，底部 div 的大小将不断减小，因此当两个底部 div 的宽度等于单个顶部 div n 其他 div 不是由于滚动条可见。

![演示](../Images/e25b9db3a07bdb44791a2fbcaf426428.png)

您可以尝试将固定宽度和边距自动应用于底部 div，就像您对顶部 div 所做的那样。如果您希望它们始终处于内联状态。

谢谢

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-10T12:04:18.330

```
#top-left {
  background-color:yellow;
  width:68%;
  float:left;
}

#top-right {
  background-color:blue;
  width:32%;
  float:left;
} 
```

像这样的东西......我只是没有看到另一种方式。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-10T12:05:44.063

使用这个代码我希望这对你有帮助

```
<html>
<head>

</head>
<body>
<div style="width:900px; margin-left:auto; margin-right:auto;">
<div  style=" width:450; height:70px;  background:yellow; float:left;">top left</div>
<div  style=" width:450; height:70px;  background:green; float:right;">top right</div>
</div>
<div  style="width:900px; margin-left:auto; margin-right:auto;">
<div  style=" width:450; height:70px; background:red; float:left;">botom left</div>
<div  style=" width:450; height:70px; background:blue; float:right;">bottom right</div>
</div>
</body>

</html> 
```

# asp.net - MVC3：与目录同名的路由

> ID：14257420
> 
> 赞同：2
> 
> 时间：2013-01-10T11:57:46.030
> 
> 标签：asp.net, asp.net-mvc, asp.net-mvc-3, routes

我有一个 ASP.NET MVC 路由 URL 设置为“/服务”，它指向一个控制器操作，但还有一个目录包含我的 C# 服务类，称为“服务”，用户无法导航到。这导致我的路线出现问题。它抛出以下错误：

```
HTTP Error 403.14 - Forbidden
The Web server is configured to not list the contents of this directory. 
```

有谁知道如何克服这个？

谢谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-10T12:09:31.763

您可能最好不要发生这种冲突，但您可以通过在 RouteCollection 上设置[RouteExistingFiles](http://msdn.microsoft.com/en-us/library/system.web.routing.routecollection.routeexistingfiles.aspx)属性来禁用该功能。

# javascript - 为什么如果与 jquery 1.8.3 一起使用 Fancy box 1.3.4 会导致错误对齐？

> ID：14257424
> 
> 赞同：0
> 
> 时间：2013-01-10T11:57:53.943
> 
> 标签：javascript, jquery, plugins, widget, fancybox

我正在使用 fancybox 来显示一些消息，并且在同一页面上我尝试添加一个需要 jquery 1.4.4 或更高版本的新 JavaScript 小部件。

我使用了 jquery 1.8.3，在添加了这个 jquery 文件后，框的对齐或定位出错了。如果我不使用最新的 jquery 文件，JS 小部件将无法工作。

请让我知道如何解决这个问题。

# c# - 从本机 C++ 反向 PInvoke

> ID：14257428
> 
> 赞同：9
> 
> 时间：2013-01-10T11:58:12.693
> 
> 标签：c#, c++, pinvoke

我目前正在尝试从非托管 C++ 应用程序的 C# DLL 调用函数。

在网上搜索了几个小时之后，我发现我有几个选择。

我可以使用 COM、`DllExport`或对委托使用反向 PInvoke。最后一个听起来对我最有吸引力，所以在搜索之后我最终来到了[这里](http://blogs.msdn.com/b/thottams/archive/2007/06/02/pinvoke-reverse-pinvoke-and-stdcall-cdecl.aspx)。

它指出文章展示了如何使用反向 PInvoke，但看起来 C# 代码必须先导入 C++ Dll，然后才能使用。

我需要能够使用 C++ 调用我的 C# Dll 函数，而无需先运行 C# 应用程序。

也许反向 PInvoke 不是这样做的方法，但是当涉及到低级别的东西时我非常缺乏经验，所以任何关于如何做到这一点的指针或提示都会很棒。

链接中的代码是

***C＃***

```
using System.Runtime.InteropServices;

public class foo    
{    
    public delegate void callback(string str);

    public static void callee(string str)    
    {    
        System.Console.WriteLine("Managed: " +str);    
    }

    public static int Main()    
    {    
        caller("Hello World!", 10, new callback(foo.callee));    
        return 0;    
    }

    [DllImport("nat.dll",CallingConvention=CallingConvention.StdCall)]    
    public static extern void caller(string str, int count, callback call);    
} 
```

***C++***

```
#include <stdio.h>    
#include <string.h>

typedef void (__stdcall *callback)(wchar_t * str);    
extern "C" __declspec(dllexport) void __stdcall caller(wchar_t * input, int count, callback call)    
{    
    for(int i = 0; i < count; i++)    
    {    
        call(input);    
    }    
} 
```

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2013-01-11T00:25:09.680

嗯，只需启动您自己的 CLR 主机并运行您需要的内容：

```
#include <mscoree.h>
#include <stdio.h>
#pragma comment(lib, "mscoree.lib") 

void Bootstrap()
{
    ICLRRuntimeHost *pHost = NULL;
    HRESULT hr = CorBindToRuntimeEx(L"v4.0.30319", L"wks", 0, CLSID_CLRRuntimeHost, IID_ICLRRuntimeHost, (PVOID*)&pHost);
    pHost->Start();
    printf("HRESULT:%x\n", hr);

    // target method MUST be static int method(string arg)
    DWORD dwRet = 0;
    hr = pHost->ExecuteInDefaultAppDomain(L"c:\\temp\\test.dll", L"Test.Hello", L"SayHello", L"Person!", &dwRet);
    printf("HRESULT:%x\n", hr);

    hr = pHost->Stop();
    printf("HRESULT:%x\n", hr);

    pHost->Release();
}

int main()
{
    Bootstrap();
} 
```

# objective-c - 如何水平和垂直滚动文本？目标 C

> ID：14257429
> 
> 赞同：0
> 
> 时间：2013-01-10T11:58:14.267
> 
> 标签：objective-c, ios5, xcode4.2

我有 UILabel 视图，我想以固定的持续时间将文本从右到左水平移动。我是新手，请帮助！谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-10T12:03:27.843

这样的事情应该可以正常工作：

```
CGPoint center = scrollLabel.center;
[UILabel beginAnimations:@"scroll" context:nil];
[UILabel setAnimationDuration:5.0]; // the time the animation should take
center.x -= 500; // whatever distance you'd like
[UILabel commitAnimations]; 
```

# iphone - 如何在 u itable 视图中为整个部分设置选择背景

> ID：14257432
> 
> 赞同：1
> 
> 时间：2013-01-10T11:58:26.993
> 
> 标签：iphone, objective-c, uitableview

我有一个包含多个部分的表格视图，如下所示..

![在此处输入图像描述](../Images/9add2c4608497fbf6a03f545ca115363.png)

我知道如何为选择单元格/行设置背景颜色

但我需要将选择填充到整个部分而不是单个单元格选择

如果是的话，有没有可能有什么解决方案

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-10T12:06:13.260

我希望它的工作......

```
 - (NSIndexPath *)tableView:(UITableView *)tableView willSelectRowAtIndexPath:(NSIndexPath *)indexPath
 {
     NSIndexPath *currentSelectedIndexPath = [tableView indexPathForSelectedRow];
     if (currentSelectedIndexPath != nil)
     {
        [[tableView cellForRowAtIndexPath:currentSelectedIndexPath] setBackgroundColor:NotSelectedCellBGColor];
     }

     return indexPath;
 }

 - (void)tableView:(UITableView *)tableView didSelectRowAtIndexPath:(NSIndexPath *)indexPath
 {
     [[tableView cellForRowAtIndexPath:indexPath] setBackgroundColor:SelectedCellBGColor];
  }

 - (void)tableView:(UITableView *)tableView willDisplayCell:(UITableViewCell *)cell forRowAtIndexPath:(NSIndexPath *)indexPath
 {
   if (cell.isSelected == YES)
   {
       [cell setBackgroundColor:SelectedCellBGColor];
   }
   else
   {
       [cell setBackgroundColor:setBackgroundColor:NotSelectedCellBGColor];
   }
 } 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-10T12:39:42.227

`didSelectRowAtIndexPath`从tableview 的委托传递节值并在`cellForRowAtIndexPath`dataSource 方法中更改单元格的背景颜色`UITableview`

在头文件中

```
NSUInteger index; 
```

在实施文件 (.m)

```
-(void) viewDidLoad{
index=-1;
}

- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath
{
    static NSString *CellIdentifier = @"CELL_IDENTIFIER";

    UITableViewCell *cell = [tableView dequeueReusableCellWithIdentifier:CellIdentifier];
    if (cell == nil) {
        cell = [[[UITableViewCell alloc] initWithStyle:UITableViewCellStyleDefault reuseIdentifier:CellIdentifier] autorelease];

    }

        if (indexPath.section==index) {
            cell.contentView.backgroundColor=[UIColor yellowColor];
        }
        else{
            cell.contentView.backgroundColor=[UIColor clearColor];
        }
       cell.textLabel.text=[NSString stringWithFormat:@"Row %d Section %d",indexPath.row,indexPath.section];
       return cell;
}

- (void)tableView:(UITableView *)tableView didSelectRowAtIndexPath:(NSIndexPath *)indexPath
{

    index=indexPath.section;
    [tableView reloadData];

} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-10T12:37:14.153

。H

```
int currentSection; 
```

.m

```
- (void)tableView:(UITableView *)tableView didSelectRowAtIndexPath:(NSIndexPath *)indexPath {
    currentSection = indexPath.section;
    [tableView reloadData];
}

- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath
{
    if ( currentSection == indexPath.section ) {
        cell.backgroundColor = SelectedColor;
    } else {
        cell.backgroundColor = OtherColor;
    }
} 
```

# sql - 不带 WHERE 子句的 SELECT NOT NULL 值

> ID：14257438
> 
> 赞同：3
> 
> 时间：2013-01-10T11:58:58.467
> 
> 标签：sql, sql-server, select, null

有没有办法在没有 where 子句的情况下选择非空值？我知道可以这样

```
SELECT X, Y, Z
FROM T
WHERE X IS NOT NULL 
```

但我想知道是否有办法在不使用 where 的情况下将 null 'filter' 放在 select 子句中

也许是这样的？

```
SELECT NOT_NULL(X), Y, Z
FROM T 
```

泰

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-01-10T12:00:05.737

不，没有办法，如果你需要过滤掉东西，你需要一个 WHERE 子句。也就是说，您可以使用 ISNULL 或 COALESCE 将返回的值从 null 更改为其他值

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-01-10T12:01:44.933

您在寻找 COALESCE 吗？

IE

```
SELECT COALESCE(HasBananas, 'No') FROM Sometable 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-10T12:11:51.220

我看不出这样做的合理理由，但如果您真的不想要 WHERE，则可以通过 JOIN 子句进行过滤。

```
SELECT X, Y, Z
FROM T
JOIN (SELECT null a) Q ON X IS NOT NULL 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-10T12:16:41.030

为什么不 :) 但是 WHERE 好多了。

这里的技巧是在 JOIN`ON`条件下，如果你将任何东西与`NULL`它进行比较，它总是`FALSE`even `NULL=NULL`is `FALSE`。

[SQLFiddle 演示](http://sqlfiddle.com/#!6/9c497/9)

```
select * from t 
join 
(
select distinct x from t
) t1 on (t.x=t1.x); 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-11-27T13:37:31.783

如果您只想检查一个值是否为 NULL 并在结果中将其作为布尔值返回，那么您可以使用如下内容：

```
SELECT CASE 
         WHEN X IS NULL THEN 0
         ELSE 1
       END AS XisNull,
       Y, 
       Z
FROM T 
```

如果您只想过滤，请使用 WHERE 语句。它是为它创建的:-)

# sql - SQL Server 2005中如何根据行和排名拆分数据？

> ID：14257439
> 
> 赞同：1
> 
> 时间：2013-01-10T11:59:04.293
> 
> 标签：sql, sql-server-2005

我有一个示例数据，我需要根据排名和记录拆分数据，数据如下格式。

```
Rank    Rec_Type    Rec Load_Dt
--------------------------------------
1   PH  XXXXXXXXXXXXXXXXX   2012-12-23
2   DE  YYYYYYYYYYYYYYYYYYY 2012-12-23
3   DE  YYYYYYYYYYYYYYYYYYY 2012-12-23
4   DE  YYYYYYYYYYYYYYYYYYY 2012-12-23
5   CD  YYYYYYYYYYYYYYYYYYY 2012-12-23
6   PT  XXXXXXXXXXXXXXXXX   2012-12-23
7   PH  XXXXXXXXXXXXXXXXX   2012-12-23
8   DE  YYYYYYYYYYYYYYYYYYY 2012-12-23
9   DE  YYYYYYYYYYYYYYYYYYY 2012-12-23
10  PT  XXXXXXXXXXXXXXXXX   2012-12-23 
```

`PH`是表头，`PT`是尾表，在将数据从临时表转换到最终表时，我需要根据表头和详细信息以及排名编号来拆分数据。

输出应如下所示：

```
Rank    RankNum Rec_Type    Rec Load_Dt
------------------------------------------
1   1   PH  XXXXXXXXXXXXXXXXX   2012-12-23
1   2   DE  YYYYYYYYYYYYYYYYYYY 2012-12-23
1   3   DE  YYYYYYYYYYYYYYYYYYY 2012-12-23
1   4   DE  YYYYYYYYYYYYYYYYYYY 2012-12-23
1   5   CD  YYYYYYYYYYYYYYYYYYY 2012-12-23
1   6   PT  XXXXXXXXXXXXXXXXX   2012-12-23
2   7   PH  XXXXXXXXXXXXXXXXX   2012-12-23
2   8   DE  YYYYYYYYYYYYYYYYYYY 2012-12-23
2   9   DE  YYYYYYYYYYYYYYYYYYY 2012-12-23
2   10  PT  XXXXXXXXXXXXXXXXX   2012-12-23 
```

一旦`PT`记录触及排名应该改变，有人可以就此提出建议吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-10T12:18:04.677

我想这会为你做的

```
SELECT
    SUM(CASE WHEN B.Rank IS NULL THEN 0 ELSE 1 END) + 1 Rank,
    A.Rank RankNum,
    A.Rec_Type,
    A.Rec,
    A.Load_Dt
FROM
    MyTable A
    LEFT JOIN MyTable B ON B.Rec_Type = 'PT' AND B.Rank < A.Rank
GROUP BY
    A.Rank,
    A.Rec_Type,
    A.Rec,
    A.Load_Dt 
```

参见[http://sqlfiddle.com/#!3/3747f/1](http://sqlfiddle.com/#!3/3747f/1)例如

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-10T13:38:29.210

这将花费相同或更少的时间来执行吗？

```
SELECT
  Rank = (SELECT COUNT(*) FROM MyTable WHERE Rank<=A.Rank AND Rec_Type = 'PH')  ,
  A.Rank RankNum,
  A.Rec_Type,
  A.Rec,
  A.Load_Dt
FROM
  MyTable A 
```

# android - 如何在中心设置 WebView 内容？

> ID：14257442
> 
> 赞同：1
> 
> 时间：2013-01-10T11:59:11.393
> 
> 标签：android, html, css, android-layout, android-webview

我正在 WebView 中加载一些 HTML 内容，但它总是出现在我的 WebView 的左上角。

我也尝试使用样式表，在样式表中我添加了与中心相关的标签，但它没有进入中心。样式表中的其他标签工作正常。

如何在 WebView 中设置内容垂直和水平居中？

我的 HTML 代码

```
<html><head>  <style type=\"text/css\"> @font-face { font-family: MyCustomFont;  src:url(\"file:///android_asset/fonts/MyriadPro-Regular.otf\") } body { font-family: MyCustomFont; font-size:14; text-align: center;vertical-align:middle;line-height: normal;} </style> </head><body> Hello World </body></html> 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-10T12:29:56.353

试试这个：

```
<html>
<head>
  <style type="text/css"> 
@font-face { font-family: MyCustomFont;  
src:url("~/android_asset/fonts/MyriadPro-Regular.otf") } 
#text{ font-family: MyCustomFont; 
font-size:14; 
text-align: center;
margin:350px;
line-height: normal;
color:blue;
height:20px;
width:100px;
margin:auto;
background-color:red;
} 
</style> 
</head>
<body>
<p id="text"> Hello World</p>
 </body>
</html> 
```

而且我认为您的地址源字体是错误的！

* * *

## 回答 #2

> 赞同：-2
> 
> 时间：2013-01-10T12:13:17.943

```
<WebView android:id="@+id/webview1" 
  android:layout_gravity="center"
  android:scaleType="centerInside"
  android:layout_width="wrap_content" 
  android:layout_height="fill_parent"
  android:adjustViewBounds="true"> 
```

它可能会帮助你。

# java - Java Web-Start 桌面图标启动错误无法加载资源

> ID：14257444
> 
> 赞同：0
> 
> 时间：2013-01-10T11:59:23.230
> 
> 标签：java, desktop, shortcut, jnlp, java-web-start

我创建了一个带有 ant 脚本并启用了桌面快捷方式的 JavaFx webstart 应用程序。此应用程序已签名并授予所有权限，并托管在本地服务器中以进行测试。当它通过网络启动链接在系统中启动时，图标在用户机器的桌面上创建，同时应用程序启动。现在的问题是一旦应用程序关闭并下次从桌面快捷方式启动；应用程序启动，一段时间后桌面图标将自行刷新。现在，如果我尝试从快捷方式再次启动应用程序，它会失败并出现以下错误。

> 应用程序错误
> 
> 无法启动应用程序。

详情 [更多信息显示]

> 错误：无法加载资源：

（并指向本地机器中的 jnlp）

> java.io.FileNotFoundException: C:\Users\XXXX\AppData\LocalLow\Sun\Java\Deployment\cache\6.0\42\Sample.jnlp（系统找不到指定的文件）

现在的问题是，即使是第一次启动，文件也不存在于给定的路径中，但它启动了。此问题将在图标刷新后出现。

非常感谢任何帮助/解决方案。

* * *

## 问题更新，结果很少

当用 JaNeLA 测试 JNLP 时，我遇到了一些错误

错误将以下语法显示为无法识别。

```
<jfx:javafx-runtime> 
```

这是JNLP

```
<?xml version="1.0" encoding="utf-8"?>
<jnlp spec="1.0" xmlns:jfx="http://javafx.com" href="SAmpleAppp.jnlp">
  <information>
    <title>SAmpleAppp</title>
    <vendor>XXX</vendor>
    <description>XXX</description>
    <offline-allowed/>
  </information>
  <resources>
    <jfx:javafx-runtime version="2.2+" href="http://javadl.sun.com/webapps/download/GetFile/javafx-latest/windows-i586/javafx2.jnlp"/>
  </resources>
  <resources>
    <j2se version="1.6+" href="http://java.sun.com/products/autodl/j2se"/>
    <jar href="SAmpleAppp.jar" size="591973" download="eager" />
    <jar href="libs/guava-13.0.1.jar" size="1914716" download="eager" />
    <jar href="libs/log4j-1.2.17.jar" size="490849" download="eager" />
    <jar href="libs/plexus-utils-3.0.8.jar" size="234548" download="eager" />
  </resources>
<security>
  <all-permissions/>
</security>
  <shortcut><desktop/></shortcut>
  <applet-desc  width="1085" height="750" main-class="com.javafx.main.NoJavaFXFallback"  name="SAmpleAppp" >
    <param name="requiredFXVersion" value="2.2+"/>
  </applet-desc>
  <jfx:javafx-desc  width="1085" height="750" main-class="XXXX.XXXX.XXXX.SAmpleAppp"  name="SAmpleAppp" />
  <update check="background"/>
</jnlp> 
```

有没有看到错误？？？谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-25T05:00:26.773

**这是 Java Web Start 中的一个错误。和蚂蚁任务**

请参阅 JIRA 上的问题以获取更多详细信息。

[http://javafx-jira.kenai.com/browse/RT-27746](http://javafx-jira.kenai.com/browse/RT-27746)

# java - Java mysql 语法错误

> ID：14257446
> 
> 赞同：0
> 
> 时间：2013-01-10T11:59:24.693
> 
> 标签：java, mysql, database

我得到 mysql`insert`语句的语法错误。我可以知道如何纠正这个错误吗？

```
user=txtuser.getText();
      char[] pass=jPasswordField1.getPassword();
             String passString=new String(pass);
            try{                
                Connection con = createConnection();               
                Statement st = con.createStatement();

**String sql = "INSERT INTO login(username,Password)"+"VALUES"+"('"user"','"passString"')";**
 st.executeUpdate(sql);
            }
            catch(Exception e){
                JOptionPane.showMessageDialog(null,"Exception: "+ e.toString());
            } 
```

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-01-10T12:00:52.593

您缺少一些`+`运算符：

```
String sql = "INSERT INTO login(username,Password) VALUES ('" + user + "','" + passString + "')"; 
```

考虑使用`PreparedStatement`占位符来设置这些参数。这也将保护您免受[SQL 注入](http://en.wikipedia.org/wiki/SQL_injection)攻击。这是一个[例子](http://tutorials.jenkov.com/jdbc/preparedstatement.html)

# apache - 在 Cent OS 服务器上查找 Mod_Rewrite 规则

> ID：14257453
> 
> 赞同：0
> 
> 时间：2013-01-10T11:59:41.093
> 
> 标签：apache, mod-rewrite, centos

我在查找一些 mod_rewrite 详细信息时遇到了一些问题。我正在从另一个 PHP Web 开发人员那里接手。我习惯了 Ubuntu 服务器，并且正在将一些站点迁移到新的 Ubuntu 服务器上。旧服务器是 CentOS。老开发人员使用了 mod_rewrite 规则，由于它们相当具体，我试图在服务器上追踪它们，但终生无法找到它们。我知道这有点像大海捞针，但有人知道他们可能在哪里吗？我查看了各个站点的 var/www/vhost/SITENAME/ 配置。不在里面。我也查看了 etc/httpd 配置文件，但它们不存在。它们也不存储在 htaccess 中的文件服务器上。感谢您的任何指导

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-10T12:28:29.993

通常 VirtualHost 配置文件位于`/etc/httpd/conf.d/`.

您可以做的是`grep -ri rewriterule /etc/httpd/conf*|more`查看 RewriteRules 是否在配置目录中的任何位置定义。

您还应该检查`grep -i include /etc/httpd/conf/httpd.conf`配置是否包含在 default 之外的其他地方`Include conf.d/*.conf`。

# c# - 无法使用 ANTS RedGate Memory Profiler 解决内存泄漏

> ID：14257457
> 
> 赞同：0
> 
> 时间：2013-01-10T11:59:49.697
> 
> 标签：c#, memory-leaks, prism, red-gate-ants

我们正在使用 Prism 4 开发 WPF 应用程序，并且由于资源未释放而遇到严重的内存泄漏。我们正在使用 ANTS Memory Profiler 来检测哪些类阻止了垃圾收集器释放内存，但是我们对这个工具非常陌生，因此我们对其输出的理解有限。

我们的测试用例包括打开一个窗口，让您从列表中选择一个插件。该窗口包含一个 Wizard 控件，该控件包含一个标题、一组按钮和一个显示活动 WizardPage（即 UserControl）的主要区域。通过选择一个插件并单击 Next 按钮，更多 WizardPage 控件在 Wizard Region 中注册并使用 RegionAdapter 添加到 Wizard.Pages 集合中。然后，用户可以通过单击 Next/Previous 按钮来浏览页面。如果我们打开向导窗口并单击取消按钮，向导控件终结器将按预期调用。但是，如果我们在单击取消按钮之前打开向导窗口并展开插件 ComboBox，则永远不会调用向导控件终结器。这是 ANTS Memory Profiler 中向导的 Instance Categorizer 的屏幕截图：

![实例分类器](../Images/e46f516a9231580b43c8e45361112887.png)

我们几乎尝试了一切都没有成功，有人可以帮助我们了解这里发生了什么吗？

先感谢您。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-16T17:53:17.460

如果您刚开始使用[ANTS Memory Profiler](http://www.red-gate.com/products/dotnet-development/ants-memory-profiler)，您可能会发现从查看*类列表*而不是*实例分类*器开始最有用。

一个好的方法可能是在单击应用程序中的“下一步”按钮之前先拍摄基线快照。然后打开向导窗口并展开插件组合框，然后单击取消。此时，在 ANTS 中拍摄另一个内存快照，并比较两者。如果您进入*类列表*，您可能会看到现在内存中存在的 WizardPage 类的实例，该实例以前不存在并且应该已被删除。选择它，然后在 ANTS 中转到*实例列表*。

选择 WizardPage 的实例并单击以查看*实例保留图*，该图显示了指向在内存中持有该特定实例的 GC 根的引用链。

通过查看这些引用链，您应该能够确定哪个链接存在，哪些链接应该被破坏以便从内存中释放对象。

# azure - 将企业 Web 服务公开给 azure Web 角色

> ID：14257458
> 
> 赞同：0
> 
> 时间：2013-01-10T11:59:50.340
> 
> 标签：azure

我们有一个带有后端 SAP、CRM 等的企业 Web 服务。我们想公开这个 Web 服务（Java Web 服务），以便 azure Web 角色可以连接到企业 Intranet Web 服务。

有人可以建议以下哪种技术适合以及为什么：1\. Windows 服务总线 2\. Windows Azure Connect

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-10T13:46:48.010

或 3\. VPN（虚拟网络）。

服务总线需要一些努力才能开始工作，但如果您的公司网络霸主对暴露端点非常挑剔，这是一个很好的解决方案。Windows Azure Connect 创建一个类似 VPN 的隧道，但需要安装、配置和维护特定的软件。我有一个成功使用虚拟网络并利用现有 VPN 网关和技能的应用程序 - 对于安全和网络人员来说非常容易理解。

# javascript - 多种风格的谷歌地图

> ID：14257462
> 
> 赞同：-1
> 
> 时间：2013-01-10T12:00:00.870
> 
> 标签：javascript, google-maps-api-3

我在我的联系页面[http://www.liebekuchen.co.uk/talk-to-us/](http://www.liebekuchen.co.uk/talk-to-us/)上有一个样式化的 Google Map V3，它可以正常工作，除了精灵图像显示的一些问题，但是我需要将此 JSON 添加到两个我的陈列室页面上的单独地图[http://www.liebekuchen.co.uk/kitchen-showrooms/](http://www.liebekuchen.co.uk/kitchen-showrooms/)如何为具有不同位置的多张地图添加样式？页面头部调用的JS；

```
<script type="text/javascript">

$(document).ready(function() {

    // V3 map

        var myLatlng = new google.maps.LatLng('51.4525368','0.2481994');

        var mapOptions = {

        mapTypeId: google.maps.MapTypeId.ROADMAP,
    center: new google.maps.LatLng('51.4600368','0.0781994'),
        zoom: 11,
        mapTypeControl: false,
        scrollwheel:false

        };

        var map = new google.maps.Map(document.getElementById("head-office-map"), mapOptions);

      var styles = [
      map styles here...
        ]
      }
    ];

    map.setOptions({styles: styles});

    var contentString = "";

   var infowindow = new google.maps.InfoWindow({
        content: contentString,

    });

    var $image = new google.maps.MarkerImage("../images/icons/LK-mapicon.png",
    // size
    new google.maps.Size(50, 50),
    // origin
    new google.maps.Point(0, 0),
    // anchor
    new google.maps.Point(25, 50));

    var $shadow = new google.maps.MarkerImage("../images/icons/LK-mapicon-shadow.png",
    // size
    new google.maps.Size(65, 39),
    // origin
    new google.maps.Point(0, 0),
    // anchor
    new google.maps.Point(25, 50));

    var marker = new google.maps.Marker({
        clickable: false,
        position: myLatlng,
        map: map,
        title:"Liebe Kuchen Head Office",
        icon:$image,
        shadow:$shadow
    });

    google.maps.event.addListener(marker, 'click', function() {
      infowindow.open(map,marker);
    });

}); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-10T14:55:36.823

如果您想将相同的 javascript 添加到多个页面，请创建一个仅定义该代码（地图样式）的外部文件，并将其包含在所有需要它的地图中。（未测试）

```
<script type="text/javascript" src="scripts/mapstyle.js"></script> 
```

其中“mapstyle.js”将包含：

```
 var styles = [
  map styles here...
    ]
  }
]; 
```

# mysql - 在 cPanel 中管理用户权限

> ID：14257464
> 
> 赞同：1
> 
> 时间：2013-01-10T12:00:06.073
> 
> 标签：mysql, database, cpanel

cPanel 的管理用户权限（数据库和用户名连接权限）是否可信？

我有一个用户名连接到**只能 SELECT**的数据库，另一个用户名连接到可以**插入和选择的同一数据库**

我在一个不太安全的脚本中使用了仅 SELECT 一个我可以信任这个权限，所以没有人可以用这个用户名插入任何东西？

这是一个好习惯吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-10T12:18:22.183

cpanel 只是一个用于设置数据库权限设置的 GUI（也是最好的恕我直言）。由于大多数网络服务器不允许您通过终端直接连接到数据库服务器或通过 phpmyadmin 管理权限，因此这是最简单的方法。

然后由您决定保护您的代码免受 sql 注入的影响，这是一种很好的做法

见[http://php.net/manual/en/security.database.sql-injection.php](http://php.net/manual/en/security.database.sql-injection.php)

# java - JCalendar 值未正确填充

> ID：14257465
> 
> 赞同：1
> 
> 时间：2013-01-10T12:00:06.487
> 
> 标签：java, mysql, swing, user-interface, jcalendar

```
String date =rs.getString(10); 
    ((JTextField)fieldClose.getDateEditor().getUiComponent()).setText(date); 
```

以上用于从数据库中提取 DATE 值以将其设置为文本字段。最初插入日期时，它是 com.toedter.calendar.JDateChooser(); 类型。但是在检索到它之后，我无法在现场正确设置它。我将通过下图支持这一点，以便您理解：

它有红色：

![在此处输入图像描述](../Images/a68108b69ef9e280d8404cf0eabc5fea.png)

但理想情况下应该被识别并且日期颜色应该是黑色，如下所示，但这必须手动完成......我该如何解决这个问题，使其自动变为黑色。

![认可日期](../Images/66aaaf149d10eee0e3d1b2e004624488.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-10T13:24:11.790

最简单的方法是使用[SimpleDateFormat](http://docs.oracle.com/javase/7/docs/api/java/text/SimpleDateFormat.html)类：

```
String dateString = rs.getString(10); 
SimpleDateFormat inputFormat = new SimpleDateFormat("yyyy-MM-dd");
Date date = inputFormat.parse(dateString);
SimpleDateFormat outputFormat = new SimpleDateFormat("dd-MMM-yyyy", Locale.ENGLISH);
((JTextField)fieldClose.getDateEditor().getUiComponent()).setText(outputFormat.format(date)); 
```

只需更改[Locale](http://docs.oracle.com/javase/7/docs/api/java/util/Locale.html)值，您将更改表示月份的三个字母缩写的语言。
SimpleDateFormat 方法的参考：

*   [解析](http://docs.oracle.com/javase/7/docs/api/java/text/SimpleDateFormat.html#parse%28java.lang.String,%20java.text.ParsePosition%29)
*   [格式](http://docs.oracle.com/javase/7/docs/api/java/text/SimpleDateFormat.html#format%28java.util.Date,%20java.lang.StringBuffer,%20java.text.FieldPosition%29)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-10T13:22:22.480

再次[JCalendar - 使用正确的格式在 Java 中正确设置日期](https://stackoverflow.com/questions/14238570/jcalendar-setting-date-correctly-in-java-using-correct-format)，请注意我从未使用打包`JCalendar`在 jar 文件中，始终是代码源

1.  `setDateFormat`为具体实例设置

    一个）`cal.setDateFormat(new SimpleDateFormat("dd.MM.yyyy"));`

    b) `cal.setLocale(Locale.FRANCE);`//例如

2.  从`JDBC Statement`到返回`getDate(10)`（instad of ），这是方法的 `rs.getString(10);`有效`java.util.Date`实例`setDate()``JCalendar`

3.  `Editor`是派生`JSpinner`的，在那里你可以使用和设置`editor.getTextField().setXxx`

# jsf - 如何确保 JSF2 中的积极对话？

> ID：14257467
> 
> 赞同：1
> 
> 时间：2013-01-10T12:00:16.810
> 
> 标签：jsf, jsf-2, conversation-scope

我们有一个基于 JSF2 的 Web 应用程序，它对购买过程进行建模，用户在类似向导的庄园中输入和选择不同的信息，可以向前和向后导航，并在某个时间点完成该过程。

所以没什么特别的，应用程序和用户之间的典型对话。为此，我尝试了常规和 MyFaces 对话范围，但我知道如何开始和结束对话。我仍然无法确保进行积极的对话，所以换句话说，我如何避免用户通过键入页面 URL 进入中间过程，而不是将他重定向到第 1 步？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-10T14:13:00.500

你无法避免这一点。最终用户可以完全自由地操作请求 URL。您最好的选择是坚持使用单个视图/URL，其中向导步骤根据视图的状态有条件地（ajax-）呈现。这样，最终用户只能通过 UI 中提供的按钮进行导航，而不能通过操作 URL。

例如

```
<h:panelGroup rendered="#{wizard.step == 1}">
   <ui:include src="/WEB-INF/wizard/step1.xhtml" />
</h:panelGroup>
<h:panelGroup rendered="#{wizard.step == 2}">
   <ui:include src="/WEB-INF/wizard/step2.xhtml" />
</h:panelGroup>
<h:panelGroup rendered="#{wizard.step == 3}">
   <ui:include src="/WEB-INF/wizard/step3.xhtml" />
</h:panelGroup> 
```

此外，通过这种方式，您可以使用单个`@ViewScoped`bean 而不是`@ConversationScoped`一个（对于重要的情况，使用 MyFaces CODI 您可以`@ViewScoped`在 CDI 上使用 JSF `@Named`）。

此外，[PrimeFaces](http://www.primefaces.org)有一个[`<p:wizard>`](http://www.primefaces.org/showcase/ui/wizard.jsf)几乎完全一样的组件。您可能会发现它很有用，可以让您免于验证等一些痛苦的样板代码。

# file - Log4j fileapender 输出 jar 文件

> ID：14257470
> 
> 赞同：0
> 
> 时间：2013-01-10T12:00:30.537
> 
> 标签：file, jar, log4j

当我必须做日志的输出文件时，我遇到了与 log4j 相关的问题。

这是我当前的 log.properties 文件

```
log4j.rootCategory=info, MAIN_LOG

log4j.appender.MAIN_LOG=org.apache.log4j.FileAppender
log4j.appender.MAIN_LOG.File=log.log
log4j.appender.MAIN_LOG.layout=org.apache.log4j.PatternLayout
log4j.appender.MAIN_LOG.layout.ConversionPattern=$%d{dd MMM yyyy HH:mm:ss,SSS}#%p#[%t]#%c#%m#%n
log4j.appender.MAIN_LOG.append=true

log4j.rootCategory=error, A1

# A1 is set to be a LF5Appender which outputs to a swing
# logging console. 

log4j.appender.A1=org.apache.log4j.net.SocketAppender
log4j.appender.A1.layout=org.apache.log4j.PatternLayout
log4j.appender.A1.layout.ConversionPattern=$%d{dd MMM yyyy HH:mm:ss,SSS}#%p#[%t]#%c#%m#%n
log4j.appender.A1.RemoteHost=localhost
log4j.appender.A1.Port=4712
log4j.appender.A1.ReconnectionDelay=60000 
```

问题是我想保存在 jar 文件中的信息日志。

```
log4j.appender.MAIN_LOG.File=log.log 
```

Atm 我使用它，但它什么也没做，我想知道我必须在这里写什么路径才能将文件写入 jar 所在文件夹中的文件。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-10T12:29:57.127

这可能会帮助你

```
log4j.appender.stdout.File=${user.home}/My Documents/abcFolder/logFile.log 
```

这将保存罐子`My Documents`

这是我的配置文件

```
log4j.rootLogger= info, error, debug, stdout
#info, 

log4j.appender.stdout=org.apache.log4j.RollingFileAppender    
log4j.appender.stdout.File=${user.home}/My Documents/appFolder/applog.log
log4j.appender.stdout.MaxFileSize=2MB
log4j.appender.stdout.MaxBackupIndex=3
log4j.appender.stdout=org.apache.log4j.RollingFileAppender

# un-comment this if need to show log @ console
#log4j.appender.stdout=org.apache.log4j.ConsoleAppender
#log4j.appender.stdout.Target=System.out

log4j.appender.stdout.layout=org.apache.log4j.PatternLayout
log4j.appender.stdout.layout.ConversionPattern=[%5p] %d{dd:MMM:yyyy:hh:mm:ss} (%F:%M:%L)%n%m%n%n 
```

# java - 为迭代器创建方法

> ID：14257480
> 
> 赞同：-1
> 
> 时间：2013-01-10T12:01:19.223
> 
> 标签：java, iterator

可以向我描述为什么我的迭代器不起作用。JDeveloper 说我必须为 Iterator 创建一个方法，但我不知道程序对此意味着什么。因此，我请求您的帮助。该程序如下所示：

**测试顺序：**

```
package hej;

import java.util.*;

public class TestOrder {

public static void main(String[] args) {

OrderRegister orderregister = new OrderRegister();

Order order1 = new Order("123","Kop");
Order order2 = new Order("456","Salj");
Order order3 = new Order("789","Kop");

orderregister.addOrder(order1);
orderregister.addOrder(order2);
orderregister.addOrder(order3);

System.out.println(orderregister.sokOrder("123").getKopsalj());
orderregister.raderaOrder("456");
Order tmpOrder = orderregister.sokOrder("456");
if (tmpOrder == null) {
    System.out.println("Fungerar!");
}
else{
    System.out.println("Why u lie?");
}
System.out.println(orderregister.sokOrder("123").getKopsalj());
orderregister.sokOrder("123").setKopsalj("Salj");
System.out.println(orderregister.sokOrder("123").getKopsalj());

Iterator<Order> i=orderregister.iterator();
    while(i.hasNext()){
        System.out.println(i.next());
    }
}
} 
```

**命令：**

```
package hej;

import java.util.Iterator;

public class Order {
private String ordernr;
private String kopsalj;

public Order(String newOrdernr, String newKopsalj) {
    setOrdernr(newOrdernr);
    setKopsalj(newKopsalj);
}

public void setOrdernr(String ordernr) {
    this.ordernr = ordernr;
}

public String getOrdernr() {
    return ordernr;
}

public void setKopsalj(String kopsalj) {
    this.kopsalj = kopsalj;
}

public String getKopsalj() {
    return kopsalj;
}

public  String toString()
{
    return "Order: " + this.ordernr+", "+"Manover: "
                            +this.kopsalj;
}
} 
```

**订单注册：**

```
package hej;

import java.util.ArrayList;
import java.util.Iterator;

public class OrderRegister {

private ArrayList<Order> orderArrayList;

public OrderRegister() {
    orderArrayList = new ArrayList<Order>();
}

// Lagg till Order

public void addOrder(Order newOrder) {
    orderArrayList.add(newOrder);
}

// Sok Order

public Order sokOrder(String ordernrSok) {
    Order tmpOrder = null;
    int i = 0;
    boolean found = false;
    while (i < orderArrayList.size() && !found) {
        tmpOrder = orderArrayList.get(i);
        if (tmpOrder.getOrdernr().equals(ordernrSok)) {
            found = true;
        }
        i++;
    }
    if (!found) {
        tmpOrder = null;
    }
    return tmpOrder;
}

// Ta bort Order

public void raderaOrder(String ordernrRadera) {
    Order tmpOrder = null;
    int i = 0;
    boolean found = false;
    while (i < orderArrayList.size() && !found) {
        tmpOrder = orderArrayList.get(i);
        if (tmpOrder.getOrdernr().equals(ordernrRadera)) {
            orderArrayList.remove(i);
            found = true;
        }
        i++;
    }
}

// andra Orderuppgifter

public void setOrderUppgifter(String ordernr, String newKopsalj){
    Order order = sokOrder(ordernr);
    if (order != null) {
        order.setKopsalj(newKopsalj);
    }
}
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-10T12:07:30.200

您需要让`OrderRegister`该类实现[Iterable](http://docs.oracle.com/javase/1.5.0/docs/api/java/lang/Iterable.html)。 `T`是迭代器数据类型，`Order`在您的情况下。所以你得到：

```
public class OrderRegister implements Iterable<Order> 
```

该`Iterable`接口要求您定义一个`iterator()`返回[`Iterator<E>`](http://docs.oracle.com/javase/1.5.0/docs/api/java/util/Iterator.html)对象的方法。在您的情况下，您不需要创建这样的类，因为您可以直接从您的获取迭代器对象`ArrayList`：

```
public Iterator<Order> iterator() {
   return orderArrayList.iterator();
} 
```

现在您可以通过这种方式使用您的课程：

```
for(Order order: orderregister) {
    System.out.println(order.getKöpsälj());
} 
```

注意：您的`while`-loop 也仍然有效

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-10T12:07:25.037

让 OrderRegister 实现 Iterable 接口并实现迭代器 than()

在那里你可以委托给 orderArrayList.iterator()

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-10T12:08:10.903

我假设你的问题是这一行：

```
Iterator<Order> i=orderregister.iterator(); 
```

`iterator()`因为您的课程中没有方法`OrderRegister`。

两种解决方案：

A）添加方法`iterator()`（它可能只是这样做`return orderArrayList.iterator();`）

B）而不是包装一个`ArrayList`，*扩展*它！

```
public class OrderRegister extends ArrayList<Order> {
    // No more orderArrayList!
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-10T12:05:29.820

请参阅[http://docs.oracle.com/javase/1.4.2/docs/api/java/util/Iterator.html](http://docs.oracle.com/javase/1.4.2/docs/api/java/util/Iterator.html)。

对于每个迭代器，您需要实现方法 hasNext、next 和 remove。

另外，您的类 orderregister 没有任何方法 iterator()。您要么需要继承一个已经实现它的类，要么您需要自己实现它。

# bayesian - 5 个拟合值的贝叶斯区间

> ID：14257482
> 
> 赞同：2
> 
> 时间：2013-01-10T12:01:25.770
> 
> 标签：bayesian, confidence-interval, winbugs, credible-interval

我通过从 R 运行 Winbugs 进行了贝叶斯分析，并得出了拟合值及其贝叶斯区间。这是相关的 Winbugs 输出，其中 mu[i] 是第 i 个拟合值。

```
node     mean   2.5%    97.5%   
mu[1]   0.7699  0.6661  0.94    
mu[2]   0.8293  0.4727  1.022   
mu[3]   0.7768  0.4252  0.9707  
mu[4]   0.6369  0.4199  0.8254  
mu[5]   0.7704  0.5054  1.023 
```

我想要做的是找到这 5 个拟合值的平均值的贝叶斯区间。知道怎么做吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-28T11:06:46.413

Chris Jackson 的答案是正确的，但是，如果您的模型已经运行了几个小时，您将不会高兴，因为这意味着修改模型并再次运行它。但是您可以在后处理中实现 R 中的目标，而无需再次运行模型 - 通过取后验样本的平均值：

```
out <- bugs(...)
sapply(out$sims.list$mu, mean, ...) # I'm not sure exactly about the structure of
                                    # out$sims.list$mu, so it might be slightly 
                                    # different 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-14T12:44:22.890

在 WinBUGS 模型代码中定义另一个节点

mu.mean <- 均值（mu[]）

并监控它？

# jquery - 如何从 Ajax 请求向元素添加属性

> ID：14257490
> 
> 赞同：0
> 
> 时间：2013-01-10T12:01:53.007
> 
> 标签：jquery, ajax, load, request

我在这里遇到问题，找不到解决方法！

让我解释一下我想要做什么：

我有一个发送订单的表格。

选择目的地：

```
<select name="destination" id="destination">
    <option value="d1">d1</option>
    <option value="d2">d2</option>
    <option value="dN">dN</option>
</select> 
```

选择一个选项：

```
<input type="radio" value="report" id="report" /> Report 
```

当我选择一个目标并单击其中一个选项时，将完成 ajax 请求以获取订单列表：

```
jQuery(function() {
  var destination = jQuery('#destination').val();
  jQuery('#result').html(''></div>');
  jQuery('#result').html('<em style="color:red">Please, wait! Sending your request...</em>');
  jQuery('#result').load('report.php?destination =' + destination + '&cache=' + Math.random() );
}); 
```

文本响应被加载到 DIV#result 中。

在这个 div 里面有一个订单列表和他们要交付的相关产品。如果一个或多个产品没有被标记为有货，我会在“订单”循环的末尾附加一个脚本：

```
<?php
// result.php 
$allInStock = true;
// loop orders
// inside orders check if related products are in stock 
// $allInStock is set to false if product is not in stock
?>
<?php if( $allInStock == false ) : ?>
<script type="text/javascript">
jQuery( function() {
    jQuery('#checkbox-<?php echo $res['order_id'];?>').attr('disabled', true);
    jQuery('#link-<?php echo $res['orders_id'];?>').attr('href', 'javascript:void;');
    jQuery('#td-<?php echo $res['orders_id'];?>').click(function(){alert("This order can't be delivered!")});
  }
);
</script>
<?php endif; ?> 
```

如您所见，结果将如预期的那样。但是，如果我再次单击“报告”按钮，它会按预期加载文本响应，但 jquery 代码不起作用！即使它被加载。

有什么线索吗？我完全不知道该怎么做，也找不到如何向 Google 先生报告自己。

提前致谢！:D

# apache - .htaccess 重定向除了一个子文件夹

> ID：14257493
> 
> 赞同：0
> 
> 时间：2013-01-10T12:02:07.543
> 
> 标签：apache, .htaccess, redirect

我需要以下类型重定向：/store/something/namestore 到 /store/namestore 但是有一个例外：/store/namestore/page/2 不应该重定向到任何东西。/store/namestore/page/3 不应该重定向到任何东西。等等。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-10T13:24:12.613

如果我正确理解了这个问题，这应该是解决方案。

```
RewriteEngine on
RewriteRule   ^/store/([a-zA-Z0-9_\-]+)/([a-zA-Z0-9_\-]+)$  /store/$2/   [R] 
```

或者

```
RewriteEngine on
RewriteRule   ^/store/([^/]+)/([^/]+)$  /store/$2/   [R] 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-11T09:35:45.700

这是其他人需要的解决方案： RewriteCond %{REQUEST_URI} !^/stores/(.+)/page/.*$ RewriteRule stores/(.+)/(.+) stores/$2 [R=301,大号]

# c# - 来自 c# 的 FreeAgent API (OAuth)

> ID：14257496
> 
> 赞同：1
> 
> 时间：2013-01-10T12:02:16.063
> 
> 标签：c#, api, oauth, oauth-2.0

我正在尝试连接到 API（在本例中为 freeagent）以获取一些数据。我使用 Googles OAuth Playground 为我生成了一个令牌。

```
var req = (HttpWebRequest)WebRequest.Create("https://api.freeagent.com/v2/recurring_invoices");

req.Headers["Authorization"] = "Bearer " + Convert.ToBase64String(Encoding.ASCII.GetBytes(_accessToken));

req.ContentType = "application/xml";
req.Accept = "application/xml";
req.Method = "GET";

// and get the response
var resp = req.GetResponse();
var streamIn = new StreamReader(resp.GetResponseStream());
returnData = streamIn.ReadToEnd();
streamIn.Close();

return resp; 
```

现在我正在尝试转换以下内容：[https ://dev.freeagent.com/docs/using_curl](https://dev.freeagent.com/docs/using_curl)

我经常收到错误请求 HTTP 400 - 有人对可能导致此问题的原因有任何建议吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-11T10:12:54.347

我有大部分使用 RestSharp 工作的 api：

[https://github.com/nicwise/FreeAgent](https://github.com/nicwise/FreeAgent)

我是为我的 iPhone 应用程序 mobileAgent 编写的，但它是相当基本的 .NET，所以它应该适用于任何东西。

我的身份验证注入代码看起来很像你的：

```
protected void SetAuthentication(RestRequest request)
{
  request.AddHeader("Authorization", "Bearer " +
Client.CurrentAccessToken.access_token);
} 
```

你有没有运行提琴手或类似的东西来看看到底发生了什么？这通常会有所帮助。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-11T17:49:55.697

对此的解决方案是也传递 UserAgent。

例子...

```
req.UserAgent = "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_2) AppleWebKit/537.17 (KHTML, like Gecko) Chrome/24.0.1312.52 Safari/537.17"; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-10T17:11:58.520

您不需要对令牌进行 base64 编码，只需将 Authorization 标头设置为“Bearer”+ _accessToken。如果这仍然不起作用，请尝试使用[http://httpbin.org/get](http://httpbin.org/get)作为 URL 来查看您的请求，看看是否还有其他可能的问题。

# mysql - 如何存储大字符串以节省空白空间

> ID：14257498
> 
> 赞同：0
> 
> 时间：2013-01-10T12:02:21.883
> 
> 标签：mysql

我正在尝试将一些 xml 保存到我的 mysql 数据库中。但是这些 xml 块可以从 1000 到 1000000 个字符不等。如何在不为每个字符串保留 100kb 的情况下将其保存到我的数据库中，即使它只有 1kb 长？

编辑：

我检查了[http://dev.mysql.com/doc/refman/5.1/en/storage-requirements.html](http://dev.mysql.com/doc/refman/5.1/en/storage-requirements.html) 他们说，文本存储在 2000 个字符的块中。有趣的是，将 MEDIUMTEXT 更改为 LONGTEXT 会将 22kb 更改为 100kb。textsize 是一样的，所以应该保持在 4000b (4kb) 左右

您知道为什么会发生这种情况以及如何预防吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-10T12:04:18.417

MySQL 的可变长度字符串类型仅分配存储数据所需的空间（连同其长度）。在您的情况下，您需要[`MEDIUMTEXT`](http://dev.mysql.com/doc/en/blob.html)能够存储多达 1000000 个字符的类型。

# apache - 使用在 apache camel 直接端点上设置的选项

> ID：14257499
> 
> 赞同：5
> 
> 时间：2013-01-10T12:02:22.387
> 
> 标签：apache, apache-camel

我正在构建一个路由单 bean，并且希望除了动态路由之外还向收件人列表的端点发送一个参数。

我希望使用类似“direct:test?param=value”的东西，其中参数和值在路由单 POJO 中设置

根据我对直接组件的了解，单个“direct:test”端点将接收所有路由交换，但是我需要一种方法来读取从路由单发送的参数

如何将此参数用于接收交换的端点？它是交易所的财产吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-10T20:46:07.783

平底锅，

我会使用骆驼的[标题](http://camel.apache.org/header.html)功能。它非常通用，您可以使用一些不错的 DSL 或弹簧控制的[谓词](http://camel.apache.org/predicate.html)来处理它，或者通过执行 myExchange.getIn().getHeader("foo")在[bean](http://camel.apache.org/bean-language.html) /[处理器中处理它。](http://camel.apache.org/processor.html)

# r - 用于生成预测的 Plyr

> ID：14257500
> 
> 赞同：3
> 
> 时间：2013-01-10T12:02:32.200
> 
> 标签：r, plyr, forecasting

作为学习 plyr 的练习，我尝试制作 Rob Hyndman 最近发布的 plyr 版本：

```
library(forecast); library(plyr)
# Hyndman, R. J. (2013, Jan 7). Batch forecasting in R
# Retrieved Jan 8, 2013, from Research Tips: http://robjhyndman.com/researchtips/batch-forecasting/

retail <- read.csv("http://robjhyndman.com/data/ausretail.csv",header=FALSE)
retail <- ts(retail[,-1],f=12,s=1982+3/12)

ns <- ncol(retail)
h <- 24
fcast <- matrix(NA,nrow=h,ncol=ns)
for(i in 1:ns)
  fcast[,i] <- forecast(retail[,i],h=h)$mean

write(t(fcast),file="retailfcasts.csv",sep=",",ncol=ncol(fcast)) 
```

但是，我一直在挣扎。这是我的尝试：

```
n.cols <- ncol(retail)
h <- 24
series.names <- names(retail[,2:n.cols])

fcast.func <- function(retail) {
  retail.ts <- ts(retail,f=12,s=1982+3/12)  
  fcast.func <- forecast(retail.ts,h=h)$mean
}

ddply.fcast <- ddply(.data=retail[,2:n.cols], .variables=series.names, .fun=colwise(fcast.func)) 
```

不返回任何值。有人可以帮我解决我对 plyr 的误解吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-10T13:20:25.937

问题是你使用`ddply(`的地方，第一个`d = datatype of input = data.frame`和第二个`d = datatype of output = data.frame (again)`。但是，您提供的输入`retail[, 2:ncols]`不是`data.frame`.

```
class(retail)
[1] "mts" "ts" 
```

相反，您可以做的是`ldply`将 a`list`作为输入，运行您的函数并尝试输出 a `data.frame`。你可以通过这种方式完成。

```
require(forecast)
require(plyr)

retail <- read.csv("http://robjhyndman.com/data/ausretail.csv",header=FALSE)
retail <- ts(retail[,-1],f=12,s=1982+3/12)

ns <- ncol(retail)
h <- 24
plyr.fcast <- t(ldply(1:ns, function(idx) {
    c(forecast(retail[, idx], h = h)$mean)
})) 
```

这需要相当多的时间。如果您想并行运行（假设您在具有许多内核的集群/机器上运行），那么您可以安装该软件包`doMC`，然后按如下方式使用它：

```
require(doMC)
registerDoMC(20) # BEWARE: use it if you have 20 processors available!!
plyr.fcast <- t(ldply(1:ns, function(idx) {
    c(forecast(retail[, idx], h = h)$mean)
}, .parallel = TRUE)) 
```

转置给出的结果等于`fcast`并且还将`data.frame`输出类型转换`plyr`为 a `matrix`。因此，您可以使用相同的`write`语法写入文件。

希望这可以帮助。

# android - Android 中的 RuntimeException

> ID：14257502
> 
> 赞同：0
> 
> 时间：2013-01-10T12:02:38.187
> 
> 标签：android

这些都是我的 LogCat 中的“红线”

```
01-10 17:56:34.294: E/AndroidRuntime(16243): FATAL EXCEPTION: main
01-10 17:56:34.294: E/AndroidRuntime(16243): java.lang.RuntimeException: Unable to    start activity ComponentInfo{com.balance.start/com.balance.start.MainView}:       java.lang.IllegalArgumentException: current should be >= start and <= end
01-10 17:56:34.294: E/AndroidRuntime(16243):    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2669)
01-10 17:56:34.294: E/AndroidRuntime(16243):    at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2685)
01-10 17:56:34.294: E/AndroidRuntime(16243):    at android.app.ActivityThread.access$2300(ActivityThread.java:126)
01-10 17:56:34.294: E/AndroidRuntime(16243):    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2038)
01-10 17:56:34.294: E/AndroidRuntime(16243):    at android.os.Handler.dispatchMessage(Handler.java:99)
01-10 17:56:34.294: E/AndroidRuntime(16243):    at android.os.Looper.loop(Looper.java:123)
01-10 17:56:34.294: E/AndroidRuntime(16243):    at android.app.ActivityThread.main(ActivityThread.java:4633)
01-10 17:56:34.294: E/AndroidRuntime(16243):    at java.lang.reflect.Method.invokeNative(Native Method)
01-10 17:56:34.294: E/AndroidRuntime(16243):    at java.lang.reflect.Method.invoke(Method.java:521)
01-10 17:56:34.294: E/AndroidRuntime(16243):    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:858)
01-10 17:56:34.294: E/AndroidRuntime(16243):    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:616)
01-10 17:56:34.294: E/AndroidRuntime(16243):    at dalvik.system.NativeStart.main(Native Method)
01-10 17:56:34.294: E/AndroidRuntime(16243): Caused by: java.lang.IllegalArgumentException: current should be >= start and <= end
01-10 17:56:34.294: E/AndroidRuntime(16243):    at android.widget.NumberPicker.setCurrent(NumberPicker.java:408)
01-10 17:56:34.294: E/AndroidRuntime(16243):    at android.widget.DatePicker.updateSpinners(DatePicker.java:482)
01-10 17:56:34.294: E/AndroidRuntime(16243):    at android.widget.DatePicker.init(DatePicker.java:477)
01-10 17:56:34.294: E/AndroidRuntime(16243):    at com.balance.start.MainView.onCreate(MainView.java:62)
01-10 17:56:34.294: E/AndroidRuntime(16243):    at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1047)
01-10 17:56:34.294: E/AndroidRuntime(16243):    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2633)
01-10 17:56:34.294: E/AndroidRuntime(16243):    ... 11 more 
```

我已经指定

```
uses-sdk
android:minSdkVersion="8"
android:targetSdkVersion="11" 
```

我的手机有android 2.2.1 版本。

为什么它不起作用？现在请帮忙​​。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-10T12:10:17.210

可能是一些布局问题。已正确维护布局的所有属性

# java - 数据序列化框架

> ID：14257505
> 
> 赞同：5
> 
> 时间：2013-01-10T12:02:44.400
> 
> 标签：java, serialization, avro

我是这个 Apache Avro（序列化框架）的新手。我知道什么是序列化，但为什么会有单独的框架，比如 avro、thrift、protocol buffers 和

1.  为什么我们不能使用 java 序列化 api 而不是这些单独的框架，java 序列化 api 是否有任何缺陷。

2.  在 avro 或任何其他序列化框架中，以下短语“在架构更改时不需要运行代码生成程序”是什么意思。

请帮助我理解所有这些！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-10T12:17:11.993

> 为什么我们不能使用 java 序列化 api 而不是这些单独的框架，java 序列化 api 是否有任何缺陷。

我会假设你可以使用 Java 序列化，除非你知道。

不使用它的主要原因是

*   你知道有一个性能问题。
*   您需要跨语言交换数据。Java 序列化仅适用于 Java。

> 架构更改时不需要运行代码生成程序

我猜这意味着它可以使用较旧或较新的模型读取序列化数据，而无需重新生成和编译代码。即它可以容忍模型的变化。

顺便说一句：由于我使用的数据模型通常是 a) 非常简单 b) 需要最高性能，所以我在不使用框架的情况下编写自己的序列化（或编写我自己的框架）这很好，只要您的模型非常简单并且不会经常改变。

简而言之，除非您知道自己不能，否则请先尝试 Java 序列化。

我对不同[序列化方法的比较](http://vanillajava.blogspot.co.uk/2011/10/serialization-using-bytebuffer-and.html)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-01-10T12:26:27.340

**1.** java 序列化的问题在于它与您的代码无关。这意味着与您的类的结构紧密耦合。其他序列化框架为您提供了一些灵活性/控制，有助于绕过这种情况。尽管 java 标准机制中有一种方法可以通过 writeObject 的 readObject 方法来控制序列化，但其他 fwk 已经以更优雅的方式解决了这个问题。

其次，您不能将 java 序列化的输出与其他语言平台交换。

最后但并非最不重要的。Java 序列化不会产生更紧凑的结果，如果您执行诸如通过网络传输数据之类的操作，这可能会导致性能下降。其他协议（如 Oracle 的 POF 或协议缓冲区）更优化以产生更小的输出。

**2.** 关于你的第二个问题，我猜这意味着你不需要运行任何生成代码的预编译作业，以防你的序列化类的结构发生变化。我个人讨厌强制生成某种编译时代码的框架。我讨厌甚至不得不查看生成的代码的麻烦，但这只是我和我的强迫症。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-24T15:03:46.743

Avro 擅长的两个原则：Hadoop 的 MapReduce 和通信协议结构。我将它用于 MapReduce，我将大量数据实例放在一个文件中，所有这些实例都符合特定的模式；每条记录都非常有效地存储，并且标记描绘了每个单独的记录。Hadoop 还使用它在 Map 和 Reduce 任务之间传递数据。比将字段名称与数据一起存储要好得多。这些文件很容易拆分为多个部分，以便在分布式计算环境中进行处理。由于模式嵌入到文件中，读者不必知道数据是什么样子。Avro 不依赖于任何语言，并且有多种语言 API 用于读取 Avro 数据。如果你想写出一个复杂的对象，那么 Java 的序列化 OR Avro 就可以了。如果您想要更高的功率和效率并使用数百万个单独的实例，那么 Avro 是一个不错的选择。我相信您可以使用 Java API 做到这一点，但为什么要那么努力。

有一些机制可以通过模式解析规则来发展模式。还有一些工具可以将您的 java 对象转换为您的模式。

最好的起点在这里：[http](http://avro.apache.org/docs/current/spec.html) ://avro.apache.org/docs/current/spec.html 可能需要阅读几篇文章才能了解要点。在尝试使用 Avro 软件包附带的一些工具后再次阅读。Avro 需要一段时间才能掌握窍门。JSON 仅用作数据规范语言，不用于存储数据。您可以使用 API 或 JSON 文件生成模式。很大的灵活性和足够的绳索很容易陷入困境 - 非常值得。

# xml - RELAX NG 基于其他元素的条件数据类型

> ID：14257506
> 
> 赞同：1
> 
> 时间：2013-01-10T12:02:46.990
> 
> 标签：xml, relaxng, relaxng-compact

我的目标是拥有一个 RELAX NG 紧凑模式，它强制元素的数据类型与父元素的数据类型匹配。

我目前有以下架构：

```
start = Tickmarks

Tickmarks = element tickmarks { 
    attribute from { xsd:float | xsd:date },
    attribute to { xsd:float | xsd:date },
    Tick*
}

Tick = element tick { 
    attribute value { xsd:float | xsd:date },
    attribute label { text }
} 
```

我想要的是一个描述文档的模式，如果 Tickmarks/@from 是一个浮点数，那么 Tickmarks/Tick/@value 也必须是一个浮点数。

所以本质上它应该满足以下测试：

**有效的**

```
<tickmarks from="1" to="10">
  <tick value="3" label="3"/>
  <tick value="7" label="7"/>
</tickmarks> 
```

**有效的**

```
<tickmarks from="2000-01-01" to="2006-01-01">
  <tick value="2002-01-01" label="2002"/>
  <tick value="2004-01-01" label="2004"/>
</tickmarks> 
```

**无效的**

```
<tickmarks from="2000-01-01" to="2006-01-01">
  <tick value="10" label="10"/>
  <tick value="20" label="20"/>
</tickmarks> 
```

**无效的**

```
<tickmarks from="1" to="10">
  <tick value="2002-01-01" label="2002"/>
  <tick value="2004-01-01" label="2004"/>
</tickmarks> 
```

RELAX NG compact 是否可以做到这一点？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-10T12:24:12.780

如果您想继续使用纯 RELAX NG（并避免使用嵌入式 Schematron 规则等替代解决方案），您可以使用：

```
start = Tickmarks

Tickmarks = element tickmarks { 
    (
     attribute from { xsd:float },
     attribute to { xsd:float },
     Tick-float*)
    | (
       attribute from { xsd:date },
       attribute to { xsd:date },
       Tick-date*)
}

Tick-float = element tick { 
    attribute value { xsd:float },
    attribute label { text }
}

Tick-date = element tick { 
    attribute value { xsd:date },
    attribute label { text }
} 
```

# mysql - 在 mySQL 中将一个字段拆分为两个字段

> ID：14257507
> 
> 赞同：1
> 
> 时间：2013-01-10T12:02:48.940
> 
> 标签：mysql

我有一个包含用户全名（全名）的字段。我需要将其拆分为另外两个字段 FirstName 和 LastName。理想情况下，通过一个查询，我希望能够从全名中包含的值填充 FirstName 和 LastName 列。谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-10T12:09:19.783

您可以尝试（如果名字和姓氏由空格分隔）：

```
update table_name
   set FirstName=substr(FullName,1,locate(' ',FullName)),
       LastName=substr(FullName,locate(' ',FullName)+1); 
```

# python - 标记图表下的彩色区域

> ID：14257509
> 
> 赞同：0
> 
> 时间：2013-01-10T12:02:58.717
> 
> 标签：python, graph, matplotlib, label, legend

我希望能够在图例下方的彩色区域的图例框中显示一个标签。彩色区域介于 13 < x < 17 和 22 < x < 29 之间

我在用：

```
for i in data.findOne()
    a = [element['total'] for element in i['counts']]
    P.plot(a, label="curve 1", color='green')
    where = np.zeros(len(a),dtype=bool)
    where[13:17] = True
    where[22:29] = True
    P.fill_between(np.arange(len(a)),a,where=where,color='green', alpha='0.5')

P.legend()
P.show() 
```

我在哪里可以插入一个命令来显示它的图例？我希望阴影区域的图例与曲线图例位于同一个图例框中。

谢谢！

这是它的样子：

![例子](../Images/c33510aceabff8c1b10fb28a86d28c68.png)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-10T12:16:42.960

`fill_between`当前标签机制不支持由返回的 PolyCollection 。您可以做的是创建一个任意补丁作为代理艺术家并将其添加为占位符，例如：

```
from matplotlib.patches import Rectangle
import numpy as np
import pylab as P

xs = np.arange(0,10,0.1)
line1 = P.plot(xs,np.sin(xs),"r-", label="lower limit")[0]
line2 = P.plot(xs,np.sin(xs-1)+3,"b-", label="upper limit")[0]
P.fill_between(xs,np.sin(xs), np.sin(xs-1)+3,color='green', alpha=0.5, label="test")
rect = Rectangle((0, 0), 1, 1, fc="g", alpha=0.5)
P.legend([line1, line2, rect], ["lower limit", "upper limit", "green area"])
P.show() 
```

给我们： ![样本](../Images/52f666ff0f31327bd61b2d3d986e97e9.png)

供参考，请参阅[此](http://matplotlib.org/users/legend_guide.html#using-proxy-artist)

# c# - 动作委托和多线程同步

> ID：14257513
> 
> 赞同：0
> 
> 时间：2013-01-10T12:03:16.930
> 
> 标签：c#, synchronization

我有`public Action Update;`可以被多个线程调用的字段。此字段也可以更改为 null 等。我应该创建一个属性并在其中使用锁定语句吗？或者当我将`Update = new Action (...)`它设置为原子操作并且它不需要锁时？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-10T22:07:50.523

按照安德斯的回答，但是如果您进行空检查以避免竞争条件，则需要将变量的值临时存储在局部变量中。

不好的例子：

```
if(myClass.Update != null)
{
    // Race condition if Update is set to null here by another thread
    myClass.Update();
} 
```

好例子：

```
var updateMethod = myClass.Update;
if(updateMethod != null)
{
    // No race condition since we try to call
    // the same value that we checked for null
    updateMethod();
} 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-01-10T12:06:07.270

在 C# 中设置引用是原子操作，因此不需要锁。但是，您应该使`Update`引用 volatile 以确保在更改时它在所有线程中正确刷新：

```
public volatile Action Update; 
```

不管线程如何，最好不要直接公开成员，而是使用属性。然后，您需要使属性 volatile 的后备存储，这排除了自动属性：

```
private volatile Action update;

public Action Update
{
  get { return update; }
  set { update = value; }
} 
```

# scala - 转发集合的最佳实践

> ID：14257523
> 
> 赞同：3
> 
> 时间：2013-01-10T12:04:01.697
> 
> 标签：scala, collections, scala-collections

我正在寻找在 Google [Guava](http://code.google.com/p/guava-libraries/source/browse/guava/src/com/google/common/collect/ForwardingList.java)中创建转发集合的最佳实践：例如，Scala 中的 ForwardingList 如下所示：

```
 trait ForwardingList[T] 
   {
      def delegate: List
   } 
```

但是，我不清楚该列表应该扩展哪些特征以及必须覆盖哪些方法，因为有很多候选者

*   `List[T]`
*   `ListLike[T, ForwardingList[T]]`
*   `ListLike[T, List[T]]`

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-10T13:35:00.713

您可以采取简单的路线并扩展[`SeqProxy`](http://www.scala-lang.org/api/current/index.html#scala.collection.SeqProxy)：

```
import collection.SeqProxy

class ForwardingList[T](val self: List[T]) extends SeqProxy[T]

val xs = List(2,3,5,7,11,13)
val fs = new ForwardingList(xs)

println(fs.size)    // 6
println(fs(0))      // 2
fs foreach println  // 2,...,13 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-10T18:02:50.120

您想使用`Proxy`which 需要您定义 just `val self: <Collection>`。但是要小心，因为这些`Proxy`类会返回该代理的集合，即`SeqProxy`返回`Seq`on `filter`、`map`等。

这些`ProxyLike`类允许定义类型参数`Repr`，以进一步限制代理的返回类型。可以定义：

```
class MySeqLikeClass[T] extends Seq[T] with SeqProxyLike[T, MySeqLikeClass[T]] {
  protected[this] def newBuilder: mutable.Builder[T, MySeqLikeClass[T]] = ???
  def seq: Seq[T] = ???
  def self: MySeqLikeClass[T] = ???
} 
```

仅填写上述方法允许`MySeqLikeClass[T]`完全像所有函数上的`Seq`AND 返回一样使用，`MySeqLikeClass[T]`而不是按`Seq[T]`原样使用`SeqProxy[T]`。

# c# - 我在这里使用什么并发集合？

> ID：14257524
> 
> 赞同：0
> 
> 时间：2013-01-10T12:04:03.257
> 
> 标签：c#, collections, .net-4.5

我需要能够以任何顺序（foreach）枚举集合并从任何线程中添加/删除项目。

不需要通过索引直接访问。

我使用什么集合？只是一个列表？如果是这样，我只需要锁定添加/删除还是我也必须锁定 foreach？

我希望在任何线程上都可以使用以下操作。

```
foreach (var item in myCollection)
{
    // myCollection can be returned in any order.
}

myCollection.Add(item)

var success = myCollection.Remove(item) // returns false if the item does not exist in myCollection 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-10T12:07:12.790

您应该将[ConcurrentBag](http://msdn.microsoft.com/en-us/library/dd381779.aspx)用于线程安全的集合，因为`Represents a thread-safe, unordered collection of objects`它是可用的`.NET 4.0`

注意：我无法提供更多信息，因为我不知道您将在其中使用它的上下文。提供更多信息以获得更深入的答案。

# android - Where 子句在 Android SQLite 上不起作用

> ID：14257526
> 
> 赞同：0
> 
> 时间：2013-01-10T12:04:04.147
> 
> 标签：android, sqlite, select, where

我是安卓新手。我正在尝试从数据库（SQLite）中获取特定的单词。但是我无法使 where 子句起作用。我在哪里犯错？我的代码是：

```
 private String[] sutunlar = {"ingilizce","turkce"};

public void kelimeUret() {

    SQLiteDatabase db = kelimeler.getReadableDatabase();

    Cursor kayit = db.query("kelimeler", sutunlar, "ingilizce='hello'", null, null, null, null);

    String sonuc = kayit.getString(0);

    Toast.makeText(getApplicationContext(), sonuc, Toast.LENGTH_SHORT).show();

} 
```

我无法得到结果...

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-10T12:06:59.143

打电话`kayit.moveToFirst()`前打电话`kayit.getString(0)`。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-10T12:10:37.007

你应该做这样的事情

```
 private String[] sutunlar = {"ingilizce","turkce"};
    public void kelimeUret() {
    SQLiteDatabase db = kelimeler.getReadableDatabase();
    Cursor kayit = db.query("kelimeler", sutunlar, "ingilizce='hello'", null, null, null, null);
    if (kayit.moveToFirst())
        {
        String sonuc = kayit.getString(0);
        Toast.makeText(getApplicationContext(), sonuc, Toast.LENGTH_SHORT).show();
        } 
    kayit.close();
} 
```

# java - 找不到记录器的附加程序（selenium webdriver+testng）

> ID：14257527
> 
> 赞同：1
> 
> 时间：2013-01-10T12:04:04.887
> 
> 标签：java, eclipse, log4j, testng

我需要在我的 Maven 项目中实现 log4j。我有testng硒测试。这是我的 log4j.properties 文件：

```
# Root logger option
log4j.rootLogger=INFO, file, stdout

# Direct log messages to a log file
log4j.appender.file=org.apache.log4j.RollingFileAppender
log4j.appender.file.File=C:\\loging.log
log4j.appender.file.MaxFileSize=1MB
log4j.appender.file.MaxBackupIndex=1
log4j.appender.file.layout=org.apache.log4j.PatternLayout
log4j.appender.file.layout.ConversionPattern=%d{ABSOLUTE} %5p %c{1}:%L - %m%n

# Direct log messages to stdout
log4j.appender.stdout=org.apache.log4j.ConsoleAppender
log4j.appender.stdout.Target=System.out
log4j.appender.stdout.layout=org.apache.log4j.PatternLayout
log4j.appender.stdout.layout.ConversionPattern=%d{ABSOLUTE} %5p %c{1}:%L - %m%n 
```

在测试类中我设置了 logger:`private static final Logger log = Logger.getLogger(Item.class);`和方法`log.warn("Low fuel level.");` 但是当我运行我的测试时，得到

```
 log4j:WARN No appenders could be found for logger   (org.apache.http.impl.conn.tsccm.ThreadSafeClientConnManager).
 log4j:WARN Please initialize the log4j system properly.
 log4j:WARN See http://logging.apache.org/log4j/1.2/faq.html#noconfig for more info. 
```

log4j.properties 与我的测试在同一个包中

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-11-26T09:57:09.340

即使我也遇到过这个问题。但这里是该问题的解决方案：

**第 1 步：**压缩文件“log4j.properties”并将其重命名为 log4jprops.jar

**第 2 步：**转到 Eclipse>Run>Run Configurations> 并单击类路径选项卡

**第 3 步：**创建一个新的类路径变量并为“log4jprops.jar”提供文件路径；之前创建

希望这能解决问题！！

谢谢，

# java - 带有 Java 7 的 OSX 10.8.2 Mt Lion 上的 IntelliJ 12

> ID：14257529
> 
> 赞同：11
> 
> 时间：2013-01-10T12:04:05.363
> 
> 标签：java, intellij-idea, osx-mountain-lion

问题：在带有 Java 7 的 OSX 10.8.2 上运行 IntelliJ 12。

我安装了全新的 OSX 10.8.2 Mt Lion，并且安装了官方的 Oracle Java 7（不存在 Java 6）。

我已经安装了 IntelliJ IDEA 的最新版本（12.0.1），并编辑了 /Applications/IntelliJ IDEA 12 CE.app/Contents/Info.plist 以获得 JVMVersion，如下所示：

```
JVMVersion
1.7* 
```

当我尝试启动 IDEA 时（或当我运行 ./Applications/IntelliJ\ IDEA\ 12\ CE.app/Contents/MacOS/idea 时）我得到“没有 Java 运行时存在，请求安装”。和一个弹出窗口，上面写着“要打开“IntelliJ IDEA”，您需要一个 Java SE 6 运行时。您想现在安装一个吗？”。我选择了“不是现在”。

我确实有 Java 7，但似乎出于某种原因 IDEA 看不到它。

```
>java -version
java version "1.7.0_12-ea"
Java(TM) SE Runtime Environment (build 1.7.0_12-ea-b07)
Java HotSpot(TM) 64-Bit Server VM (build 24.0-b28, mixed mode) 
```

我的 .profile 文件有

```
export JAVA_HOME=$(/usr/libexec/java_home)
export PATH=$JAVA_HOME/bin:$PATH 
```

一些终端输出：

```
>echo $JAVA_HOME
/Library/Java/JavaVirtualMachines/jdk1.7.0_12.jdk/Contents/Home

>echo $PATH
/Library/Java/JavaVirtualMachines/jdk1.7.0_12.jdk/Contents/Home/bin:/usr/bin:/bin:/usr/sbin:/sbin:/usr/local/bin:/usr/local/MacGPG2/bin 
```

在我的 System Preferences > Java 中，只有一个条目；Java 7 (1.7.0_12-ea)。

那么，我错过了什么小傻事？:)

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-01-10T12:52:53.727

AFAIK 尚无法在 jdk 7 上运行想法。请参阅[此](http://devnet.jetbrains.net/message/5472169#5472169)讨论，其中还解释了[原因。](http://youtrack.jetbrains.com/issue/IDEA-93710)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-10-28T20:41:25.110

我在另一个问题上发布的一种可能的解决方法是：[https](https://stackoverflow.com/a/19621573/165835) : //stackoverflow.com/a/19621573/165835，因为那些是在他们的机器上不能有两个 JDK 的强迫症。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-11-01T10:22:02.687

似乎您需要在此文件中添加一些字段：`/Library/Java/JavaVirtualMachines/jdk1.7.**.jdk/Contents/`

```
<key>JVMCapabilities</key>
<array>
<string>CommandLine</string>
<string>JNI</string>
<string>BundledApp</string>
<string>WebStart</string>
<string>Applets</string> 
</array> 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-11-11T05:16:10.897

我遇到了与您在问题中解释的问题非常相似的问题。

解决我的问题的解决方案如下：

在：

> 项目设置 > 编译器 > Java 编译器

我将下拉列表`Use compiler`从更改`Javac`为`Eclipse`！

我在网上找到的其他解决方案都没有帮助。希望这对我不知名的读者有帮助。

> 重要提示：这与我的 JAVA_HOME 无关，因为它设置正确。

# css - css bootstrap twitter 居中跨度

> ID：14257530
> 
> 赞同：0
> 
> 时间：2013-01-10T12:04:12.023
> 
> 标签：css, twitter-bootstrap

```
<div class="row">
    <div class="span4">
        <h2>Cele mai vandute</h2>
    </div>
    <div class="span10 offset1 well">
        <ul class="thumbnails">
            <li class="span2">
                <a href="#" class="thumbnail"><img data-src="holder.js/200x100" alt=""></a>
            </li>
            <li class="span2">
                <a href="#" class="thumbnail"><img data-src="holder.js/200x100" alt=""></a>
            </li>
            <li class="span2">
                <a href="#" class="thumbnail"><img data-src="holder.js/200x100" alt=""></a>
            </li>
            <li class="span2">
                <a href="#" class="thumbnail"><img data-src="holder.js/200x100" alt=""></a>
            </li>
            <li class="span2">
                <a href="#" class="thumbnail"><img data-src="holder.js/200x100" alt=""></a>
            </li>
            <li class="span2">
                <a href="#" class="thumbnail"><img data-src="holder.js/200x100" alt=""></a>
            </li>
            <li class="span2">
                <a href="#" class="thumbnail"><img data-src="holder.js/200x100" alt=""></a>
            </li>
            <li class="span2">
                <a href="#" class="thumbnail"><img data-src="holder.js/200x100" alt=""></a>
            </li>
            <li class="span2">
                <a href="#" class="thumbnail"><img data-src="holder.js/200x100" alt=""></a>
            </li>
            <li class="span2">
                <a href="#" class="thumbnail"><img data-src="holder.js/200x100" alt=""></a>
            </li>
        </ul>
    </div>
</div> 
```

您好，我在引导 css 将这个跨度集中在容器类中时遇到了麻烦。有人可以向我解释一下 bootstrap 中的居中如何特别适用于跨度。非常感谢您

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-10T12:37:47.660

[您已在引导站点](http://twitter.github.com/bootstrap/scaffolding.html#gridSystem)中对其进行了解释。

通常，您`span`的 s 总和可能为 12（直到您[自定义](http://twitter.github.com/bootstrap/customize.html#variables)它）。

此外，您正在使用`<li>`elements 而不是`<div>`，这是 bootstrap 用于网格的元素

对您的代码进行一些调整：

```
<div class="row">
    <div class="span2">
        <h2>Cele mai vandute</h2>
    </div>
    <div class="span10">
        <div class="row">
            <div class="span1">
                <a href="#" class="thumbnail"><img data-src="holder.js/200x100" alt=""></a>
            </div>
            <div class="span1">
                <a href="#" class="thumbnail"><img data-src="holder.js/200x100" alt=""></a>
            </div>
            <div class="span1">
                <a href="#" class="thumbnail"><img data-src="holder.js/200x100" alt=""></a>
            </div>
            <div class="span1">
                <a href="#" class="thumbnail"><img data-src="holder.js/200x100" alt=""></a>
            </div>
            <div class="span1">
                <a href="#" class="thumbnail"><img data-src="holder.js/200x100" alt=""></a>
            </div>
            <div class="span1">
                <a href="#" class="thumbnail"><img data-src="holder.js/200x100" alt=""></a>
            </div>
            <div class="span1">
                <a href="#" class="thumbnail"><img data-src="holder.js/200x100" alt=""></a>
            </div>
            <div class="span1">
                <a href="#" class="thumbnail"><img data-src="holder.js/200x100" alt=""></a>
            </div>
            <div class="span1">
                <a href="#" class="thumbnail"><img data-src="holder.js/200x100" alt=""></a>
            </div>
            <div class="span1">
                <a href="#" class="thumbnail"><img data-src="holder.js/200x100" alt=""></a>
            </div>
        </div>
    </div>
</div> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-10T13:52:45.237

我使用 ul 和 li 而不是 div，因为在 bootstrap 网站上的示例中它显示 ul 和 li .. 不是每行 div 我总共可以有 12 个，之后我需要再次在另一行上工作，最多12？像这样：

```
<div class="row">
<span class="9">...</div>
<span class="3">...</div>
</div>
<div class="row">
<span class="9">...</div>
<span class="3">...</div> 
```

# mysql - 合并两个查询

> ID：14257540
> 
> 赞同：0
> 
> 时间：2013-01-10T12:04:35.160
> 
> 标签：mysql, pdo

我目前正在使用以下两个查询：

```
$get_forum=$this->prepare("SELECT * FROM ".TBL_PREFIX."forums WHERE id=:forum_id");
$get_forum->bindParam(":forum_id", $forum_id);
$get_forum->execute();

$forum=$get_forum->fetchAll();

$get_parent=$this->prepare("SELECT * FROM ".TBL_PREFIX."forums WHERE id=:parent_id");
$get_parent->bindParam(":parent_id", $forum["parent_id"]);
$get_parent->execute(); 
```

我想将它们组合成一个类似这样的查询，它使用绑定的参数或数据库中字段的值。在我从数据库中取回论坛数据之前，我不知道父 ID 是什么。

父论坛的 parent_id 为 -1，而子论坛的 parent_id 设置为父论坛的 id。

```
$get_forums=$this->prepare("SELECT * FROM ".TBL_PREFIX."forums WHERE id=:forum_id OR forum_id=parent_id");
$get_forums->bindParam(":forum_id", $forum_id);
$get_forums->execute(); 
```

是否可以在查询本身内部使用字段值将其与另一个值进行比较？

数据库示例： [http ://sqlfiddle.com/#!2/2b354/1](http://sqlfiddle.com/#!2/2b354/1)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-10T12:27:45.730

尝试这个

```
$get_forum=$this->prepare("SELECT * FROM ".TBL_PREFIX."forums WHERE id=? OR id=?");
$get_forum->bindParam(array($forum_id,$forum["parent_id"]));
$get_forum->execute(); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-10T12:13:21.067

您可以进行自加入：

```
SELECT *
FROM   forums parent JOIN forums child ON parent.forum_id = child.parent_id
WHERE  parent.id = ? OR child.id = ? 
```

# android - Android 浏览器在滚动时触发 jQuery $(window).resize()

> ID：14257541
> 
> 赞同：19
> 
> 时间：2013-01-10T12:04:41.940
> 
> 标签：android, jquery, web-applications

我最近遇到了一些非常奇怪的事情，我不确定是不是我只是错过了一些东西，但我不明白为什么会这样。

我有一个网站，上面运行着以下 jQuery 片段：

```
$(window).resize(function(){
  alert("Resize fired!");
}); 
```

当我在 Android 手机浏览器上访问该站点时，只需上下滚动该站点，就可以看到警报。

Android 浏览器滚动条（淡入和淡出）覆盖在整个站点的顶部，并且似乎不会导致任何窗口大小的调整，所以我猜这个事件并没有被他们触发。

有谁知道为什么 Android 浏览器会在滚动时触发此事件？

任何信息将不胜感激。

编辑：

我尝试为 body 设置 CSS，将 overflow-y 设置为滚动以查看这是否是一个可行的解决方案，但在 Android 上滚动时仍会触发该事件。

编辑＃2：

我在我的 HTML 中使用以下元标记：

```
<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1"> 
```

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-05-09T04:11:38.617

我遇到了同样的问题，我的解决方案是检查窗口大小是否真的改变了，为此我需要将过去的窗口宽度存储在我的应用程序的某个位置。代码可能是这样的：

```
$(window).resize(function() {
  clearTimeout(app.resize.timer)
  app.resize.timer = setTimeout(function(){
     var window_changed = $(window).width() != app.size.window_width
     if(window_changed) console.log('Window size changed! resize site')
  }, 500)               
}) 
```

我没有指望窗口高度，因为当我向下滚动站点时，我的 Android 浏览器会隐藏并显示地址文本框，从而使窗口高度在垂直滚动时发生变化

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2015-02-06T03:57:48.303

@john-mccollum 在评论中是正确的。它似乎是消失的浏览器界面导致触发调整大小事件的高度变化。因此，如果您正在做响应式设计的工作，您想检查**宽度**是否已调整大小，请特别在您的函数中检查宽度的变化。

```
$(window).resize(function(){
    var w = $(window).width();
    if (typeof checkw == 'undefined') checkw = w;
    if (w!=checkw) {
        console.log("The width changed from "+checkw+" to "+w);

        // do your responsive magic!

        checkw = w;
    }
}); 
```

不需要进行这项工作，但这与[Paul Irish / John Hann “smartresize” 方法非常匹配](http://www.paulirish.com/2009/throttled-smartresize-jquery-event-handler/)。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2014-06-19T02:46:32.003

我也有同样的问题！
问题是真的，因为当 url 栏隐藏和显示时，Android 中浏览器的高度会发生变化。所以，我们必须让浏览器重新加载只在宽度大小改变时发生。 [我在 Stackoverflow 中](https://stackoverflow.com/questions/5489946/jquery-how-to-wait-for-the-end-or-resize-event-and-only-then-perform-an-ac)

看到了这个问题，告诉我如何做到这一点。这就是[jsfiddle](http://jsfiddle.net/mblase75/fq882/197/)。

```
 var doit;
      function resizedw(appwidth){
          var window_changed = $(window).width() != appwidth;
          if ($(window).width() != appwidth){
            ("body").append("did it"+appwidth+" ");
          }
          past_width = $(window).width();
      }

      var past_width = $(window).width();
      window.onresize = function() {
        clearTimeout(doit);
        doit = setTimeout(function() {
            resizedw(past_width);
        }, 100);
      }; 
```

# asp.net-web-api - 强制 ASP.NET WebAPI 自行重启

> ID：14257542
> 
> 赞同：0
> 
> 时间：2013-01-10T12:04:43.100
> 
> 标签：asp.net-web-api

我们有一个 asp.net Web 应用程序，它可以通过热加载 DLL 来获得额外的功能。问题之一是这些 DLL 可能会在应用程序运行时更新。有没有办法向应用程序发出请求以重新启动自身，从而从应用程序域中卸载 DLL 并获取新的 DLL？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-10T12:11:27.007

我想你需要的是

```
HttpRuntime.UnloadAppDomain(); 
```

它终止当前的应用程序。应用程序在下次收到请求时重新启动。

[MSDN](http://msdn.microsoft.com/en-us/library/system.web.httpruntime.unloadappdomain.aspx)链接

# jquery - 如何使用 JQuery 将 SOAP 消息发送到 WCF 服务？

> ID：14257543
> 
> 赞同：2
> 
> 时间：2013-01-10T12:04:45.857
> 
> 标签：jquery, html, soap

我们有一个 WCF 服务、wsHttpBinding 和 CustomBasicAuthentication。客户端是一个 Windows 窗体应用程序，它使用指定的用户名/密码工作。

现在我们需要创建另一个客户端，这将是 html 页面。我正在尝试使用 xmlHttpRequest 调用服务，但出现以下错误：

[http://www.w3.org/2005/08/addressing/soap/faults:Sendera:BadContextToken](http://www.w3.org/2005/08/addressing/soap/faults:Sendera:BadContextTokenThe)消息无法处理。这很可能是因为“http://tempuri.org/IService/SayHello”操作不正确，或者因为消息包含无效或过期的安全上下文令牌，或者因为绑定之间不匹配。如果服务由于不活动而中止通道，则安全上下文令牌将无效。为了防止服务过早中止空闲会话，请增加服务端点绑定的接收超时。

**HTML：**

```
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title></title>
    <script src="Scripts/jquery-1.7.2.min.js" type="text/javascript"></script>
<script type="text/javascript">
    function CallServer() {
        var xmlhttp = new XMLHttpRequest();
        xmlhttp.open('POST', 'http://localhost:56779/BeSTService.svc', true,"umais","asghar");
        xmlhttp.setRequestHeader("Content-type", "application/soap+xml");
        var sr ='<s:Envelope xmlns:a="http://www.w3.org/2005/08/addressing" xmlns:s="http://www.w3.org/2003/05/soap-envelope">'+
                  '<s:Header>'+
                    '<a:Action s:mustUnderstand="1">http://tempuri.org/IService/SayHello</a:Action>'+                    
                    '<a:ReplyTo>'+
                      '<a:Address>http://www.w3.org/2005/08/addressing/anonymous</a:Address>'+
                    '</a:ReplyTo>' +                        
                  '</s:Header>'+
                  '<s:Body>'+
                    '<SayHello xmlns="http://tempuri.org/">'+
                        '<name>Umais</name>'+
                    '</SayHello>'+
                  '</s:Body>'+
                '</s:Envelope>';
        xmlhttp.send(sr);
    }
</script>
</head>
<body>
<div style="margin:50px">
    <input type="button" value="Call Service" onclick="CallServer();" />
</div>
</body>
</html> 
```

我还尝试在 Soap 消息中添加安全标头：

```
'<o:Security s:mustUnderstand="1" xmlns:o="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd">' +
    '<o:UsernameToken>' +
        '<o:Username>umais</o:Username>' +
    '<o:Password>asghar</o:Password>' +
        '</o:UsernameToken>' +
'</o:Security>' + 
```

但同样的错误，在 Windows 窗体应用程序中使用 IClientMessageInspector 时，发送的 SOAP 消息与我在 HTML 中使用的完全相同，没有安全标头

请帮忙

# iphone - iOS：使用 FBGraph API 获取 FriendList 以及相应的名称、ID 和图片

> ID：14257549
> 
> 赞同：0
> 
> 时间：2013-01-10T12:05:18.603
> 
> 标签：iphone, ios, objective-c, fb-graph

您可以像这样`friendList`使用 ：`respective` `name and id``FBGraph API`

```
 FbGraphResponse *fb_graph_response = [fbgraph doGraphGet:@"/me/friends" withGetVars:nil]; 
```

但是如何`name, id and picture`使用`all friends`呢`FBGraph API`？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-10T12:09:03.617

您可以像这样使用`friendList`各自的方法：`name, id and picture``FBGraph API`

```
NSDictionary *param=[NSDictionary dictionaryWithObjectsAndKeys:@"picture,name",@"fields", nil];

FbGraphResponse *fb_graph_response = [fbgraph doGraphGet:@"/me/friends" withGetVars:param]; 
```

`Response`将会

```
data = {
   id = 100001625299089;
   name = "Name here";
   picture = {
              data = {
                      s_silhouette" = 0;
                      url = "url here";
                      };
              };
 },
    //all other friends here
 } 
```

**编辑**：您可以`loaction`，`birthday`和许多`other fields`列在[FBGraph API 文档](http://developers.facebook.com/docs/reference/api/FriendList/)中。

只需更改`param dictionary`上面的代码

```
 NSDictionary *param=[NSDictionary dictionaryWithObjectsAndKeys:@"picture,name,location,birthday",@"fields", nil]; 
```

# c++ - CUDA：二维网格中的线程 ID 分配

> ID：14257550
> 
> 赞同：1
> 
> 时间：2013-01-10T12:05:19.743
> 
> 标签：c++, cuda, gpgpu, nvidia

假设我有一个带有 2D 网格的内核调用，如下所示：

```
dim3 dimGrid(x, y); // not important what the actual values are
dim3 dimBlock(blockSize, blockSize);
myKernel <<< dimGrid, dimBlock >>>(); 
```

现在我读到多维网格仅仅是为了简化编程——底层硬件只会使用一维线性缓存内存（除非你使用纹理内存，但这在这里不相关）。

我的问题是：在扭曲调度期间，线程将按什么顺序分配给网格索引？它们是水平分配（“迭代”x，然后是 y）还是垂直分配（“迭代”y，然后是 x）？这可能与改进内存合并有关，具体取决于我在内核中访问内存的方式。

为了更清楚，假设以下表示应用到我的（想象的）网格的线程 ID，具有“水平”分布：

```
[ 0  1  2  3 ]
[ 4  5  6  7 ]
[ 8  9 10 11 ]
[ ...        ] 
```

“垂直”分布将是：

```
[ 0  4  8 .. ]
[ 1  5  9 .. ]
[ 2  6 10 .. ]
[ 3  7 11 .. ] 
```

我希望您能看到这可能如何影响合并：对于每个变体，都会有一种特定的最佳方式来访问我的设备内存缓冲区。

不幸的是，我还没有找到任何有关此的详细信息..

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-10T12:38:48.580

水平和垂直是任意的。但线程确实具有明确定义的 x、y 和 z 维度。线程按 x、y、z 的顺序分组到 warp 中。因此，一个 16x16 线程块将在第一个 32 线程扭曲中按以下顺序具有线程：

warp lane：线程 ID (x,y,z)

*   0：0,0,0
*   1: 1,0,0
*   2：2,0,0
*   3: 3,0,0
*   ...
*   15：15,0,0
*   16：0,1,0
*   17：1,1,0
*   18：2,1,0
*   19：3,1,0
*   ...
*   31：15、1、0

# excel - EXCEL 宏将 XML 文件作为 XML 表而不是只读工作簿打开

> ID：14257552
> 
> 赞同：2
> 
> 时间：2013-01-10T12:05:24.443
> 
> 标签：excel, vba

我正在使用以下代码打开多个 xml 文件，但是它们作为只读工作簿打开，但是我要求它作为 XML 表打开，有什么建议吗？

**代码：**

```
Sub AllFolderFiles()
    Dim wb As Workbook
    Dim TheFile As String
    Dim MyPath As String
    MyPath = "C:\Documents and Settings\"
    ChDir MyPath
    TheFile = Dir("*.xml")
    Do While TheFile <> ""
        'Call Logs 'This calls for Macro2 to run
        Set wb = Workbooks.Open(MyPath & "\" & TheFile)
        MsgBox wb.FullName
        'wb.Close
        TheFile = Dir
    Loop
End Sub 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-10T12:25:07.320

您需要`Workbooks.OpenXML`改用

`Set wb = Workbooks.OpenXML(Filename:=MyPath & "\" & TheFile, LoadOption:=xlXmlLoadImportToList)`

我不完全是您要使用的 LoadOption，但您可以选择：

*   `xlXmlLoadImportToList`自动创建 XML 列表并将数据导入列表。
*   `xlXmlLoadMapXml`将 XML 文件加载到 XML 源任务窗格中。
*   `xlXmlLoadOpenXml`打开 XML 文件的方式与 Excel 2002 打开 XML 文件的方式相同（仅用于向后兼容）。
*   `xlXmlLoadPromptUser`提示用户并让他们选择导入方法。

# c++ - lib替换后的valgrind配置文件错误

> ID：14257555
> 
> 赞同：0
> 
> 时间：2013-01-10T12:05:26.697
> 
> 标签：c++, eclipse, valgrind, eclipse-cdt

我曾经使用 valgrind (memcheck+helgrind) 分析使用 eclipse CDT 开发的 c++ 应用程序。该应用程序使用静态库 (libpodofo.a)。在我修改并重建库（podofo）后，应用程序运行良好，但 valgrind 说

> 启动 myapp(1)" 时遇到问题。错误启动进程（无法从输出文件解析 PID）。

我不知道从哪里开始。任何想法？

当它试图从库中进行调用时显然会发生错误（根据控制台输出判断）。

我不知道我可以发布什么代码，因为应用程序运行没有错误。

图书馆是podofo。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-10T14:04:49.713

发现了问题。
这是代码（显然）它是一个尚未初始化的变量，valgrind 实际上是被空指针杀死的。

# iphone - 运行应用程序时出现xcode错误

> ID：14257557
> 
> 赞同：0
> 
> 时间：2013-01-10T12:05:31.603
> 
> 标签：iphone

target 指定产品类型“com.apple.product-type.framework.static”，但“iphonesimulator”平台没有此类产品类型

我在 Xcode 中确实有这个错误。有人说要删除 XCworkpace。我正在使用 Xcode4.6

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-10T12:15:58.797

继续并删除 XCWorkpace。我已经做了很多次了。以下是步骤：

1.  在 Xcode 中关闭您的项目。导航到您的 xcodeproj 包（通过终端，或在 Finder 中右键单击并选择“显示包内容”）

2.  删除您的 XCWorkpace。

3.  它将被重新创建。在 Xcode 中打开您的项目。

如果您担心，请在执行此操作之前进行备份。

# sharepoint-2007 - SharePoint 列表 - SharePoint 2007 中的导出到 excel 错误

> ID：14257559
> 
> 赞同：0
> 
> 时间：2013-01-10T12:05:42.113
> 
> 标签：sharepoint-2007

我有一个 SharePoint(2007) 列表，其中包含大约 3500 行，每行包含 40 个字段。

我们的 SharePoint 门户有一个负载平衡环境，其中我们有 2 台服务器，例如

服务器 A 和服务器 B。两台服务器具有相同类型的配置。

当我在 SharePoint 列表中导出到 Excel 时，当门户指向服务器 A 时，我收到以下错误。

**“无法完成使用数据库驱动程序的操作。如果驱动程序是Microsoft驱动程序，请确保驱动程序文件没有损坏，并且通过重新安装Microsoft Query重新安装驱动程序。”**

但是当我指向另一台服务器B时，错误没有出现，数据导出到excel。

Anyhelp 为什么我无法在服务器 A 中执行导出到 Excel。

提前致谢

帕德玛

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-11T06:22:01.393

你可以做一件事，

在 Web 应用程序常规设置中增加“列表视图阈值”的数量。中央管理员 –> 管理 Web 应用程序 –> 选择您的 Web 应用程序并单击 –> 常规设置 > 资源限制。

我将值更改为 10000。Excel 运行良好。

再次感谢您的支持，祝您有美好的一天，海

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-24T11:42:42.943

问题已解决。根本原因是我正在访问日志文件的一段代码不包括 RuWithElevatedPrivileges。因此，当我在打开配置文件时添加此代码时，问题就解决了。

# c# - Dynamics crm 2011 网络服务问题

> ID：14257561
> 
> 赞同：0
> 
> 时间：2013-01-10T12:05:43.843
> 
> 标签：c#, web-services, dynamics-crm-2011

我一直被困在一个问题上，这个问题显然有一个小修复，但花了我几十年的时间。我是 CRM 共享点动态等菜鸟。不过，我已经设法在其中做了一些工作。我拥有的是 CRM 2011 网络服务。

我在我的项目中添加了 wsdl 路径作为服务参考。这为我创建了 Reference.cs 类。

这是引发奇怪错误的代码

```
 ServiceReference1.OrganizationServiceClient obj = new ServiceReference1.OrganizationServiceClient();
 ServiceReference1.Entity entity = new ServiceReference1.Entity();
 entity.LogicalName = "new_project";
 entity.Attributes = new ServiceReference1.AttributeCollection();
 entity.Attributes.Add(new KeyValuePair<string, object>("new_name", "project2"));

 ServiceReference1.OrganizationRequest request = new ServiceReference1.OrganizationRequest() { RequestName = "RetrieveDuplicates" };
 request.Parameters = new ServiceReference1.ParameterCollection();
 request.Parameters.Add(new KeyValuePair<string, object>("BusinessEntity", entity));
 request.Parameters.Add(new KeyValuePair<string, object>("MatchingEntityName", "new_project"));
 request.Parameters.Add(new KeyValuePair<string, object>("PagingInfo", new ServiceReference1.PagingInfo() { PageNumber = 1, Count = 50 }));

 var response= obj.Execute(request);
 obj.Create(entity); 
```

代码只是检查我们将要添加的“new_project”实体是否与已添加的成员重复。

这是我在 obj.execute() 上收到的令人讨厌的异常

> 格式化程序在尝试反序列化消息时抛出异常：尝试反序列化参数时出错 [http://schemas.microsoft.com/xrm/2011/Contracts/Services:ExecuteResult](http://schemas.microsoft.com/xrm/2011/Contracts/Services:ExecuteResult). InnerException 消息是“第 1 行位置 669 中的错误。元素“http://schemas.datacontract.org/2004/07/System.Collections.Generic:value”包含映射到名称“http:/”的类型的数据/schemas.microsoft.com/xrm/2011/Contracts:EntityCollection'。反序列化器不知道映射到此名称的任何类型。考虑使用 DataContractResolver 或将与 'EntityCollection' 对应的类型添加到已知类型列表中 - 例如，通过使用 KnownTypeAttribute 属性或将其添加到传递给 DataContractSerializer 的已知类型列表中。有关更多详细信息，请参阅 InnerException。

另请注意，我已将 KnownAttribute 附加到参考中的 EntityCollection 上。CS。

如果你能把我从这个泥潭里拖出来，我会很感激的

# navigation - WebBrowser 控件触发应用程序页面导航

> ID：14257563
> 
> 赞同：0
> 
> 时间：2013-01-10T12:05:47.357
> 
> 标签：navigation, browser, windows-phone, windows-phone-8

单击 webbrowser 控件内的链接时，是否可以在应用程序而不是 webbrowser 内触发导航？

例如，您可以使用以下链接打开操作系统的蜂窝设置页面。

`<a href="ms-settings-cellular:" >Launch Settings</a>`

我试过`<a href="/MainPage.xaml">Open main page</a>`但没有奏效。

我想知道是否可以不编写代码？

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-10T18:39:49.840

相对导航 -**没有**。但是，如果您的应用程序注册了一个 URI 方案，您可以利用它，并拥有类似**myapp:SecondaryPage**的东西。可以在[此处](http://msdn.microsoft.com/en-us/library/windowsphone/develop/jj206987%28v=vs.105%29.aspx)找到有关实施的详细信息。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-11T03:25:57.323

如果您可以在页面中插入一些 JavaScript，您还可以侦听[WebBrowser.ScriptNotify事件。](http://msdn.microsoft.com/en-us/library/windowsphone/develop/microsoft.phone.controls.webbrowser.scriptnotify%28v=vs.105%29.aspx)

# perl - 如何使用 WMI 在 Perl 中查找当前用户的进程

> ID：14257565
> 
> 赞同：1
> 
> 时间：2013-01-10T12:05:56.273
> 
> 标签：perl, process, wmi

**场景**：我想检查给定进程是否正在运行，如果是，则等待它关闭。

我的 Perl 脚本使用 WMI-->Win32_Process 来获取正在运行的进程列表。我可以使用以下代码找到正在运行的进程

```
my $objWMIService = Win32::OLE->GetObject("winmgmts:\\\\localhost\\root\\CIMV2");
my $sqry = "SELECT * FROM Win32_Process where Name = \"$processName\" ";` 
```

在`$processName`脚本中设置的位置。

上面的代码在台式机上运行良好，但代码在终端服务器中的运行方式不同，因为上面的代码选择了其他用户的运行进程。

**问题**：如何在上述查询中添加用户名/ID 过滤器？有什么简单的方法可以为当前用户获取流程吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-10T12:54:19.360

得到了解决方案（至少解决方法）..以防有人感兴趣..

```
use Win32::OLE::Variant;
my $useridval;  
my ($strUser, $strDomain) = (   Variant(VT_BSTR|VT_BYREF, '<undef>'),   Variant(VT_BSTR|VT_BYREF, '<undef>')    );
foreach my $objItem (in $colItems) {
    $useridval = $objItem->GetOwner($strUser, $strDomain);
    if (length($useridval) > 0) {
    if ($useridval == 0 ){
        print ("Process " . $objItem->{Name} . " id: " . $objItem->{ProcessId} . " session id: " . $objItem->{SessionId}) . " owner: " . $strUser->Value . "\n";
        }
    }
} 
```

编辑：添加修改后的代码，因为简单变量不起作用。我已删除所有错误检查以保持简单

谢谢你们

# c# - 按单个字符串搜索Linkedin？

> ID：14257568
> 
> 赞同：2
> 
> 时间：2013-01-10T12:06:07.880
> 
> 标签：c#, javascript, asp.net-mvc-3, url, linkedin

如何使用单个字符串搜索[LinkedIn ？](http://www.linkedin.com/)我的问题是我**在数据库中有单个名称字段**...通常会创建这样的动态 url：

```
http://www.linkedin.com/pub/dir/?first=John&last=Doe&search=Search 
```

LinkedIn 将返回所有 John Doe 的结果。我的问题是，有没有办法通过单个字符串进行搜索？就像是：

```
http://www.linkedin.com/pub/dir/?keyword=John%20Doe&search=Search 
```

我需要为我的网络*而*不是`api.linkedin`.

 *```
foreach(var item in Model.People)
{
    <a href="http://www.linkedin.com/pub/dir/?keyword="+
        item.Name +"&search=Search">item.Name</>
} 
```

这种方法是否可行，或者我需要使用 api. 我注意到当您登录 LinkedIn 时，右上角有一个字符串搜索。普通（匿名）版本的网络有这种可能性吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-10T15:00:01.313

您可以使用以下内容：

`http://www.linkedin.com/ta/federator?query=example&types=mynetwork,company,group,sitefeature,skill`

这将为您提供 JSON 格式的结果集*

# excel - Excel vba 运行时错误 1004 复制图像

> ID：14257574
> 
> 赞同：3
> 
> 时间：2013-01-10T12:06:16.027
> 
> 标签：excel, vba

我有几个宏可以在某些单元格值更改时复制和粘贴图像。

单步执行代码工作正常，但通过寻址单元格运行有时会出现以下错误：

运行时错误“1004”：

Worksheet 类的粘贴方法失败。

我使用以下代码复制图像：

```
 With Sheets("Quote")
    .Shapes("ExampleQuoteImage").Copy
    .Activate
    .Paste Destination:=Range("A102")
End With 
```

该错误不会在我的开发机器上发生，但在某些用户机器上会发生。

它不会每次都在同一行中断，但会在复制图像的任何点中断。如果从中断点运行宏，其余部分将正常运行。

可能是并发错误还是与剪贴板有关？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-10T13:17:52.917

试试这个

```
With ThisWorkbook.Sheets("Quote")
    .Shapes("ExampleQuoteImage").Copy
    DoEvents
    .Paste Destination:=.Range("A102") 
End With 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2020-07-07T10:14:36.540

由于剪贴板错误而发生错误。解决方案是清除图像剪贴板。我通过添加以下代码来做到这一点：

```
 With [a1]
                .Select
                .Copy [a1]
                Application.CutCopyMode = False
            End With 
```

此代码只是将 a1 复制到 a1 并确保关闭复制模式。它会导致剪贴板被清除。不过，请与 DoEvents 结合使用

# iphone - 如何在项目中添加自定义框架？

> ID：14257578
> 
> 赞同：0
> 
> 时间：2013-01-10T12:06:27.367
> 
> 标签：iphone, ios, objective-c, frameworks, ios-frameworks

我正在制作一个应用程序，我在其中使用 BMSocialShare.framework 进行 Facebook 共享。我已经通过这一步在我的项目中添加了这个框架 - 添加文件`"My_project" -> select framework -> add.`但是当我在另一个系统中部署这个项目时，我得到了这个框架丢失并得到了这种类型的警告 -

**警告：找不到目标文件**

> “/Users/vinzenzweber/Library/Developer/Xcode/DerivedData/BMSocialShare-gedvbinixmfywidbwutkdxrdvdzo/Build/Intermediates/BMSocialShare.build/Release-iphonesimulator/BMSocialShareFramework.build/Objects-normal/i386/BMSocialShare.o” - 没有可用的调试信息“/Users/vinzenzweber/Documents/xcodeworkspace/blockhaus-git/BMSocialShare/iOS/BMSocialShare/BMSocialShare/BMSocialShare.m”。

和应用程序崩溃。那么，如果我们现有的列表中不存在框架，您能否建议我添加框架的正确方法是什么？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-01-10T12:17:21.770

您可以按照以下步骤操作：

1）在您的项目中创建子文件夹并将框架添加到该文件夹​​中。

2) 现在，打开 Build Phases -> Link Binary With Libraries。然后点击“+”按钮。

3）然后单击“添加其他”而不是添加默认框架。

现在，您已成功添加框架。而已。

干杯!

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-10T12:11:48.520

首先将您的框架复制并粘贴到您的项目位置，然后执行您已完成的相同任务

还有一件事，当您在另一个系统中部署它时，请确保使用压缩方式发送项目 zip 文件

# iphone - 我的应用程序在 iphone 5 中运行，但在 3 中无法运行，为什么？

> ID：14257579
> 
> 赞同：-6
> 
> 时间：2013-01-10T12:06:30.573
> 
> 标签：iphone, ios, objective-c, xcode

我在 Xcode 4.5.1 中使用 Mountain Lion 作为操作系统创建了一个应用程序。现在我的问题是，它在 iPhone 5 上工作，但在 iPhone 3 上不工作，如何解决这个问题？如果它有效，在这两种情况下高度不同，它是在 web 视图中打开的本机应用程序？？？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-10T12:26:52.627

问题在于新版本的 Xcode，i386 Architectures 的默认设置包括新的 iphone 5 armv7s。我们链接的一些项目不包括 armv7s，我们正在窃听。需要将工作区（在我们的例子中）更改为不是默认的拱门，而是仅指定 armv7。

编辑：

1.  在 Xcode 中导航到 Build Settings 并找到 Architectures 组（它在顶部，很难错过）。将 armv6 添加到 Architectures 行。它应该包含 armv6、armv7 或 Standard (armv6 armv7)
2.  将 Base SDK 设置为最新的 iOS（当前设置为 iOS ...）
3.  取消选中 Build Active Architecture Only 或将其设置为 NO。
4.  有效架构必须显示 armv6 armv7 当您的项目使用您自己的依赖库时，请使用相同（正确）配置构建它们。

# c# - 如何从 WindowsForm 项目显示/打开/启动 ExcelWorkbook 项目（Sheet1）？

> ID：14257580
> 
> 赞同：4
> 
> 时间：2013-01-10T12:06:38.600
> 
> 标签：c#, excel, project

如标题所示，假设我在一个解决方案中有两个项目。我有三个，最后一个只是一个例子。一个项目被`ExcelWorkbook`称为 ( `EWB`)

![在此处输入图像描述](../Images/03a9376713b7a24b9b84d6191db66286.png)

另一个`WindowsForm`称为 ( `Core`)。我想显示/打开/`EWB`从`Core`. 我添加了对第一个的引用：

![在此处输入图像描述](../Images/7d7d52ef6c14442f516ad621d5856d13.png)

我可以看到该特定工作簿的表格。当您显示来自另一个项目的表单时，这并不容易。请注意，`EWB.Sheet1`不包含带`0`参数的构造函数，它的构造函数有两个参数，...

以下是这些论点：

*   **Microsoft.Office.Tools.Excel.Factory**工厂
*   **IServiceProvider**服务提供者

对于这个项目，它说如下：

![在此处输入图像描述](../Images/e2a4d217216f7016e721aa285b3e7d28.png)

我想在按钮单击事件上打开该工作簿，但我不知道如何：

*   启动它
*   展示下
*   打开它
*   或者 ...

知道如何做到这一点吗？任何帮助将不胜感激！

这就是我从另一个项目打开表单**的方式，这就是我想要打开的方式** `EWB`。

```
using WindowsFormsApplication1;

private void CoreBtn_Click(object sender, EventArgs e)
        {
            Form1 newForm = new Form1();
            newForm.Show();
        } 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-17T21:51:50.183

`Microsoft.Office.Interop.Excel`添加对和的引用`using Excel = Microsoft.Office.Interop.Excel;`

这里有一些简单的代码可以帮助您入门：

```
Excel.Application xlApp = new Excel.Application();  // create new Excel application
xlApp.Visible = true;                               // application becomes visible
xlApp.Workbooks.Open(@"C:\workbook.xlsx");          // open the workbook from file path

xlApp.Quit();                                       // close the application when you are done 
```

有关**Excel 对象模型**的更多信息，请查看[此处](http://msdn.microsoft.com/en-us/library/wss56bz7%28v=vs.80%29.aspx)。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-22T04:35:08.567

Excel 项目与其 VBA 对应项目非常相似：如果您的项目涉及仅在打开特定工作簿时才能访问的功能，则您正在 VBA 编辑器中编写该特定工作簿“后面”的 VBA 代码 - 在 VSTO 中“工作簿”项目，在 Excel 2007+ 中，它是启用宏的工作簿 (.xlsm)，在早期版本中，它是运行代码（宏）的工作簿。

但是，如果您的项目涉及在应用程序 (Excel) 级别“运行”的功能并且无论是否打开工作簿都可用 - 更不用说是否打开了特定工作簿，您正在编写 Excel 加载项。加载项在 Excel 启动时加载并“聆听”任何感觉，当您打开的工作簿具有这样或那样的文件名前缀时，或者当正在激活的工作表具有特定标签/名称时，您可以启用特定功能，显示表单 (WinForms) 或窗口 (WPF)，获取、插入、更新和删除数据库记录，与 Web 服务对话，等等。

若要从正在运行的加载项打开工作簿，请使用 Excel 对象模型 ( `Application.Workbooks.Open()`) 打开文件，并且相关工作簿不需要包含在解决方案中。仅当*该*工作簿需要运行宏（在这种情况下您还具有 VBA 选项）时，或者如果出于完整性考虑将其包含为“模板”以用于版本控制时，您才需要该工作簿项目。

解决了这个问题，为了从任何其他 WinForms 应用程序中仅使用无参数构造函数和`Show()`方法启动带有特定工作簿的 Excel，您必须为自己包装一些具有无参数构造函数并公开`Show()`方法的启动器（然后是[http:/ /office.microsoft.com/en-us/excel-help/command-line-switches-for-excel-HA010158030.aspx](http://office.microsoft.com/en-us/excel-help/command-line-switches-for-excel-HA010158030.aspx)命令行 Excel 文档可能很方便 - 或参考 Porkbutts 的回答所示的 Excel 对象模型） . 可能还有其他方法，但我认为如果在您的独立 WinForms 应用程序中不能选择通过 VSTO，命令行启动是最简单的。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-17T22:48:34.483

首先这是假设很多，因为我不知道您的项目的范围，即代码（DLL、LIBS、EXE）

我假设 ExcelWorkbook 是一个 Windows 窗体项目。

构建 ExcelWorkbook 项目。您现在应该有一个可执行文件：ExcelWorkbook.exe。

在“核心”项目中右键单击引用并选择添加。

选择浏览按钮并找到 ExcelWorkbook.exe 的可执行文件，然后选择确定。

您现在应该看到对 ExcelWorkbook 项目的引用。

在您想要使用 ExcelWorkbook 项目的类/表单等中，您将添加 using 语句

使用 eBook= ExcelWorkbook //或你想要的任何可变名称

所以现在您可以参考 ExcelWorkbook 项目

```
public eBook.Form1 _excelWorkbookProject;

_excelWorkbookProject = new eBook.Form1() 
```

如果它是一个表单然后显示它 `_excelWorkbookProject.ShowDialog();`//如果你希望它保持顶层窗口。

或者

```
_excelWorkbookProject.Show(); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-10T12:45:19.297

如何在 ExcelWorkbook 项目中创建一些组装过程并在 windows 窗体 Core 中检查该过程是否处于活动状态。

您可以使用 System.Diagnostics.Process 检测正在运行的进程的启动和停止

# java - 在 Java GUI 中绘制图像

> ID：14257581
> 
> 赞同：0
> 
> 时间：2013-01-10T12:06:54.760
> 
> 标签：java, image, swing, user-interface

我正在尝试`JFrame`在 Java 的 GUI 中显示图像。我已经成功地从资源文件中加载了图像，并且能够以`JOptionPane`. 这是通过`JLabel`在构造函数中使用包含图像图标来实现的。尝试将此图像添加到`JPanel`无时显示。

```
JLabel imgLabel1 = new JLabel(new ImageIcon(tsr.getTileImage(1,1)),JLabel.CENTER);
jpnDisplay.add(imgLabel1); 
```

tsr 是我从瓦片集中获取子图像的自定义代码。返回的图像类型为`BufferedImage`。

我确实注意到的一件事是，如果我在 a 中显示图像，`JOptionPane`然后将其添加到`JPanel`显示的图像中。我不确定这是为什么。

```
JLabel imgLabel1 = new JLabel(new ImageIcon(tsr.getTileImage(1,1)),JLabel.CENTER);
JOptionPane.showMessageDialog(null, imgLabel1,"Label",-1);
jpnDisplay.add(imgLabel1);`enter code here 
```

- 编辑 -

在玩弄了我的代码之后，我发现我的问题不在于我尝试显示图像的方式，而是由于某种原因我`JFrame`没有重新绘制，除非`JOptionPane`在显示之前`JFrame`显示 a。它也只绘制在`JOptionPane`. 任何其他要绘制的图像都会被忽略。原因尚不清楚。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-10T13:14:13.970

您必须继承您的 JPanel 并覆盖`redraw`绘制图像的方法。

# ios - 如何使用 Restkit 0.10.X 发布 JSON 并映射响应

> ID：14257582
> 
> 赞同：0
> 
> 时间：2013-01-10T12:06:55.400
> 
> 标签：ios, post, restkit

当我像这样

```
//Query Parameters for Login: Email and Password
NSDictionary *queryParams;
queryParams = [NSDictionary dictionaryWithObjectsAndKeys: email,@"email",password,@"password", nil];
RKObjectManager *objectManager = [RKObjectManager sharedManager];

//Pointing to the login query in the server
RKURL *URL = [RKURL URLWithBaseURL:[objectManager baseURL] resourcePath:@"/default/api/login.json" queryParameters:queryParams];
[objectManager loadObjectsAtResourcePath:[NSString stringWithFormat:@"%@?%@", [URL resourcePath], [URL query]] delegate:self]; 
```

并使用这样的映射：

```
//Creamos un mapeo para el Login mapping
RKObjectMapping *sessionMapping = [RKObjectMapping mappingForClass:[UrSession class]];
[sessionMapping mapKeyPathsToAttributes:@"uid", @"uid", @"token", @"token", nil];
[objectManager.mappingProvider setMapping:sessionMapping forKeyPath:@"result"]; 
```

一切正常，来自服务器的响应映射到我的 Object UrSession。

但是现在我们需要更改客户端，因为服务器需要 POST 而不是 GET 来登录。好的，那么这是我的代码：

```
RKClient *myClient = [RKClient sharedClient];

NSMutableDictionary *params = [[NSMutableDictionary alloc] init];

//User and password params
[params setObject:password forKey:@"password"];
[params setObject:email forKey:@"email"];

//Parsing rpcData to JSON!
id<RKParser> parser = [[RKParserRegistry sharedRegistry] parserForMIMEType:RKMIMETypeJSON];
NSError *error = nil;
NSString *json = [parser stringFromObject:params error:&error];

//If no error we send the post, voila!
if (!error){
    [myClient post:@"/default/api/loginPost.json" params:[RKRequestSerialization serializationWithData:[json dataUsingEncoding:NSUTF8StringEncoding] MIMEType:RKMIMETypeJSON] delegate:self];
} 
```

好的，直到这里一切正常。服务器对我的 POST 的响应，但我的代码没有映射此响应！！.. 为什么？我知道我丢失了一些东西，但我不明白为什么使用 GET Restkit 映射来自服务器的 JSON，但使用 GET 却没有。

我有点绝望，因为我找不到适用于我的代码的解决方案。

谢谢您的帮助。

* * *

最后这是代码：

```
NSMutableDictionary *paramsDic = [[NSMutableDictionary alloc] init];

//User and password params
[paramsDic setObject:password forKey:@"password"];
[paramsDic setObject:email forKey:@"email"];

//Parsing to JSON
id<RKParser> parser = [[RKParserRegistry sharedRegistry] parserForMIMEType:RKMIMETypeJSON];
NSError *error = nil;
NSString *json = [parser stringFromObject:paramsDic error:&error];
RKParams *params = [RKRequestSerialization serializationWithData:[json dataUsingEncoding:NSUTF8StringEncoding]MIMEType:RKMIMETypeJSON];

[[RKObjectManager sharedManager] loadObjectsAtResourcePath:@"loginPost.json" usingBlock:^(RKObjectLoader * loader)
 {
     loader.method = RKRequestMethodPOST;
     loader.params = params;
     loader.delegate = self;
  }]; 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-10T14:34:07.223

如果您使用 RKClient 发出请求，则响应不会映射到对象。您必须使用 RKObjectManager 进行映射。

您可以使用如下块使用方法 loadObjectAtResourcePath 发出 POST 请求：

```
 [[RKObjectManager sharedManager] loadObjectsAtResourcePath:@"/path" usingBlock:^(RKObjectLoader * loader)
  {
                loader.method = RKRequestMethodPost;
                loader.params = [RKRequestSerialization serializationWithData:[requestString dataUsingEncoding:NSUTF8StringEncoding MIMEType:RKMIMETypeJSON];
                loader.delegate = self;
  }]; 
```

响应将映射到您的对象。

# objective-c - 使用 CGContextClip 将 UIView 裁剪为圆形

> ID：14257589
> 
> 赞同：2
> 
> 时间：2013-01-10T12:07:26.477
> 
> 标签：objective-c, cgcontext

我已经查看了各种类似的问题，但似乎仍然无法让我的代码正常工作。我有一个带有图像的 UIView ( `[image drawInRect:bounds]`)，但我在上下文剪辑中遗漏了一些东西：

```
// Get context & bounds, and calculate centre & radius
CGContextRef ctx=UIGraphicsGetCurrentContext();
CGRect bounds=[self bounds];
CGPoint centre;
centre.x=bounds.origin.x+0.5*bounds.size.width;
centre.y=bounds.origin.y+0.5*bounds.size.height;
CGFloat radius=centre.x;

// Draw image
UIImage *backImage=[UIImage imageNamed:@"backimage.png"];
[backImage drawInRect:bounds];

// Create clipping path and clip context
CGMutablePathRef path = CGPathCreateMutable();
CGPathAddArc(path, NULL, centre.x, centre.y, radius, 0, 2*M_PI, 0);
CGContextAddPath(ctx, path);
CGContextClip(ctx); 
```

关于我哪里出错的任何想法？谢谢阅读。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-10T12:17:07.227

`radius=centre.x`似乎是错误的。半径应该是宽度或高度的一半：

```
CGFloat radius = 0.5*bounds.size.width; 
```

您还可以使用便利功能

```
CGPathRef path = CGPathCreateWithEllipseInRect(bounds, NULL); 
```

**更新：**事实证明，实际问题是在绘制图像*后修改了剪切路径。*

剪切路径用于所有未来的绘图操作，因此必须在绘图*之前*设置。

# r - 散点图回归线 lty 命令未被识别

> ID：14257591
> 
> 赞同：3
> 
> 时间：2013-01-10T12:07:31.603
> 
> 标签：r, plot, scatter-plot

我一直在使用 Car 包中的 scatterplot 命令来创建我的数据图，并且我正在尝试优化图像以供发布。因此它需要是黑白的，这意味着我需要将彩色线更改为实线和虚线。我认为这`lty`将是执行此操作的正确命令。在 scatterplot 的帮助下，它有一个名为的函数`by.groups`，我认为这在某种程度上干扰了我在`legend`部分代码中使用的 lty = c(1,2) 或 lty = 1:2 的想法。我不知道如何在 ggplot 中执行此操作，因此如果人们愿意，我们将不胜感激。

这是一些示例数据：

```
structure(list(ID = structure(c(1L, 1L, 1L, 1L, 1L, 32L, 33L, 
33L, 34L, 34L, 34L), .Label = c("F07001", "F07002", "F07003", 
"F07004", "F07005", "F07006", "F07008", "F07009", "F07010", "F07011", 
"F07014", "F07015", "F07017", "F07018", "F07019", "F07020", "F07021", 
"F07022", "F07023", "F07024", "F10001", "F10004", "F10008", "F10009", 
"F10010", "F10012", "F10013", "F98015", "M07007", "M07012", "M07013", 
"M07016", "M10007", "M10011", "M10015"), class = "factor"), Season = structure(c(1L, 
1L, 1L, 2L, 2L, 2L, 1L, 1L, 1L, 1L, 2L), .Label = c("SUM", "WIN"
), class = "factor"), Time = structure(c(1L, 2L, 1L, 2L, 1L, 
2L, 1L, 2L, 1L, 2L, 1L), .Label = c("day", "night"), class = "factor"), 
    Repro = structure(c(2L, 2L, 2L, 2L, 2L, 3L, 3L, 3L, 3L, 3L, 
    3L), .Label = c("f", "fc", "m"), class = "factor"), Comp1 = c(-0.524557195, 
    -0.794214153, -0.408247216, -0.621285004, -0.238828585, 0.976634392, 
    -0.202405922, -0.633821539, -0.306163898, -0.302261589, 1.218779672
    ), ln1wr = c(0.833126490613386, 0.824526258616325, 0.990730077688989, 
    0.981816265754353, 0.933462450382474, 1.446048015519, 1.13253050687157, 
    1.1349442179155, 1.14965388471562, 1.14879830358128, 1.14055365645628
    )), .Names = c("ID", "Season", "Time", "Repro", "Comp1", 
"ln1wr"), row.names = c(1L, 2L, 3L, 4L, 5L, 220L, 221L, 222L, 
223L, 224L, 225L), class = "data.frame") 
```

这是我迄今为止编写的代码：

```
par(bty="l",las=1)
scatterplot(Comp1~ln1wr|Season, moose,
            xlab = "Wolf risk", ylab = "Principal component 1",
            labels= row.names(moose),
            by.groups=TRUE, smooth=FALSE, boxplots=FALSE,
            grid=FALSE, lty = 1:2,
            legend.plot=FALSE)
legend("bottomright", title="Season",
       legend=levels(moose$Season), bty="n",
       pch=1:2, col=1:2, lty=c(1,2)) 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-10T14:42:09.390

这是格子里的东西：

```
 xyplot(Comp1~ln1wr, 
        data=moose,
        groups=Season,
        xlab = "Wolf risk", ylab = "Principal component 1",
        par.settings=list(superpose.symbol=list(pch=1:2, col=1),
                          superpose.line=list(lty=1:2, col=1)),
        panel = function(x, y, ...) {
          panel.superpose(x, y, ...,
                          panel.groups = function(x,y, col, col.symbol, lty, ...) {
                            panel.xyplot(x, y, col=col.symbol, ...)
                            panel.abline(lm(y~x), col.line=col.symbol, lty=lty)
                          }
          )
        },
        auto.key=list(title='Season', space='inside', 
                      #text=c('Summer', 'Winter'),
                      lines=TRUE)
 ) 
```

![在此处输入图像描述](../Images/de9d36c043366a25e60379745374dbc3.png)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-10T14:48:49.507

抱歉@BenBolker，在看到您的评论之前，我开始着手处理这个问题：

是的，看起来破解该`scatterplot.default`功能将是解决此问题的一种方法。

由于它是一个非导出函数，这有点棘手，但这里是

```
# Get function and create copy to edit:
mySP <- car:::scatterplot.default

# Change part of function that plots lines to index lty by i
body(mySP)[[34]][[4]][[4]][[3]][[3]][[3]] <- 
  quote(reg(reg.line, .x[subs], .y[subs], lty = lty[i], lwd = lwd, log.x = logged("x"), 
    log.y = logged("y"), col = col[i]))

# Assign altered function back to package namespace
assignInNamespace("scatterplot.default", mySP, "car") 
```

现在您的代码应该产生一条实线和一条虚线。

# html - 如何使用css根据另一个div动态更改div的高度？

> ID：14257593
> 
> 赞同：16
> 
> 时间：2013-01-10T12:07:40.853
> 
> 标签：html, css

这是我的代码。

HTML：

```
<div class="div1">
  <div class="div2">
    Div2 starts <br /><br /><br /><br /><br /><br /><br /> Div2 ends
  </div>
  <div class="div3">
    Div3
  </div>
</div> 
```

CSS：

```
.div1 {
  width: 300px;
  height: auto;
  background-color: grey;
  border: 1px solid;
  overflow: auto;
}

.div2 {
  width: 150px;
  height: auto;
  background-color: #F4A460;
  float: left;
}

.div3 {
  width: 150px;
  height: auto;
  background-color: #FFFFE0;
  float: right;
} 
```

我想`div3`动态增加高度。

例如，如果 的高度为 ，`div1`则`500px`的高度`div3`应为`500px`。我知道，我可以使用继承，但它的高度`div1`是`auto`没有帮助的。

这是我的小提琴[http://jsfiddle.net/prashusuri/E4Zgj/1/](http://jsfiddle.net/prashusuri/E4Zgj/1/)

这个怎么做？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-10-07T09:52:25.597

```
#container-of-boxes {
    display: table;
    width: 1158px;
}
#box-1 {
    width: 578px;
}
#box-2 {
    width: 386px;
}
#box-3 {
    width: 194px;
}
#box-1, #box-2, #box-3 {
    min-height: 210px;
    padding-bottom: 20px;
    display: table-cell;
    height: auto;
    overflow: hidden;
} 
```

*   容器必须有 display:table
*   容器内的框必须是： display:table-cell
*   不要放花车。

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2013-01-10T12:30:28.830

通过指定我们可以实现的位置，

```
.div1 {
  width:300px;
  height: auto;
  background-color: grey;  
  border:1px solid;
  position:relative;
  overflow:auto;
}
.div2 {
  width:150px;
  height:auto;
  background-color: #F4A460;  
  float:left;
}
.div3 {
  width:150px;
  height:100%;
  position:absolute;
  right:0px;
  background-color: #FFFFE0;  
  float:right;
} 
```

但是使用浮点数是不可能实现的。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-10T13:30:12.737

获得等高列的最简单方法是使用`display: table`属性：

```
.div1 {
  width:300px;
  height: auto;
  background-color: grey;  
  border:1px solid;
  display: table;
}

.div2, .div3 {
  display: table-cell;
}
.div2 {
  width:150px;
  height:auto;
  background-color: #F4A460;  

}
.div3 {
  width:150px;
  height:auto;
  background-color: #FFFFE0;  
} 
```

[http://jsfiddle.net/E4Zgj/21/](http://jsfiddle.net/E4Zgj/21/)

* * *

现在，如果你的目标是`.div2`让它只有它需要的高度来包含它的内容，而`.div3`至少和它一样高，`.div2`但如果它的内容使它高于`.div2`，那么它仍然能够扩展，那么你需要使用 flexbox . Flexbox 支持还不完全存在（IE10、Opera、Chrome。Firefox 遵循旧规范，但很快就会遵循当前规范）。

```
.div1 {
  width:300px;
  height: auto;
  background-color: grey;  
  border:1px solid;
  display: flex;
  align-items: flex-start;
}

.div2 {
  width:150px;
  background-color: #F4A460;
}

.div3 {
  width:150px;
  background-color: #FFFFE0;
  align-self: stretch;
} 
```

[http://jsfiddle.net/E4Zgj/22/](http://jsfiddle.net/E4Zgj/22/)

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2017-10-13T23:02:56.800

**弹性答案**

```
.div1 {
   width:300px;
   background-color: grey;  
   border:1px solid;
   overflow:auto;
   display: flex;
}
.div2 {
   width:150px;
   background-color: #F4A460;
 }
.div3 {
    width:150px;
    background-color: #FFFFE0;  
 } 
```

[在http://jsfiddle.net/germangonzo/E4Zgj/575/](http://jsfiddle.net/germangonzo/E4Zgj/575/)检查小提琴

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2015-01-12T15:24:15.683

在这段代码中，左侧面板的高度将动态调整为右侧面板的高度......

```
function resizeDiv() {
var rh=$('.pright').height()+'px'.toString();
$('.pleft').css('height',rh);
} 
```

你可以在这里试试这个 [http://jsfiddle.net/SriharshaCR/7q585k1x/9/embedded/result/](http://jsfiddle.net/SriharshaCR/7q585k1x/9/embedded/result/)

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-01-10T12:39:59.643

我不相信你可以用css做到这一点。最初 javascript 就是为此而设计的。尝试这个：

```
<div class="div1" id="div1">
  <div class="div2">
    Div2 starts <br /><br /><br /><br /><br /><br /><br />
    Div2 ends
  </div>
  <div class="div3" id="div3">
    Div3
  </div>
</div> 
```

和javascript函数：

```
function adjustHeight() {
    document.getElementById('div3').style.height = document.defaultView.getComputedStyle(document.getElementById('div1'), "").getPropertyValue("height");
} 
```

加载 div1（或整个页面）后调用 javascript。

您还可以将*document.getElementById('div3').style.height*替换为操作类 div3 的代码，因为我的代码仅添加/更改元素的样式属性。

希望这可以帮助。

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2013-11-22T11:10:18.237

```
<!DOCTYPE html>
<html lang="en">
<head>
<!-- Here is the Pakka codes for making the height of a division equal to another dynamically - M C Jain, Chartered Accountant -->

<script language="javascript">
function make_equal_heights()
{

if ((document.getElementById('div_A').offsetHeight) > (document.getElementById('div_B').offsetHeight) ) 
{ 
document.getElementById('div_B').style.height = (document.getElementById('div_A').offsetHeight) + "px";
} 
else 
{ 
document.getElementById('div_A').style.height = (document.getElementById('div_B').offsetHeight) + "px"
}

}
</script>

</head>

<body style="margin:50px;"  onload="make_equal_heights()"> 

<div  id="div_A"  style="height:200px; width:150px; margin-top:22px;
                        background-color:lightblue;float:left;">DIVISION A</div><br>

<div  id="div_B"  style="height:150px; width:150px; margin-left:12px;
                        background-color: blue; float:left; ">DIVISION B</div>

</body>
</html> 
```

# html - Chrome 的 HTML5 语音识别 API 实现中的语言代码是什么？

> ID：14257598
> 
> 赞同：43
> 
> 时间：2013-01-10T12:07:52.093
> 
> 标签：html, google-chrome, speech-recognition, voice, voice-recognition

Chrome 实现了 HTML5 语音识别 API。支持多种语言。我想知道支持哪些语言以及在 HTML 元素的`lang`属性中使用的每种语言的相应代码。

例如：

*   波兰语 (pl-PL)
*   土耳其语 (tr-TR)

谢谢！

* * *

## 回答 #1

> 赞同：71
> 
> 时间：2013-01-13T09:11:33.407

好的，如果它没有发布，我们至少可以尝试解决这个问题。让我把这张表放在开头，如果有人有更多信息，我们会完善它。

我假设支持的语言应类似于语音搜索支持的语言，并且谷歌使用标准语言代码并且在其服务中始终如一地这样做。

我在维基百科上查找了语音搜索支持的[语言](http://en.wikipedia.org/wiki/Google_Voice_Search)

我在[这里](http://www.science.co.il/language/locale-codes.asp)、[谷歌语言设置页面](https://accounts.google.com/NewServiceAccount?service=transconsole)和[这里找到了语言代码](http://symbolcodes.tlt.psu.edu/bylanguage/index.html)

**编辑：** 我已经尝试过后端语音识别服务。我已经运行了一系列测试，其中我将相同的英语语音样本传递给 API，但每次都指定不同的方言。看起来像：

*   如果不支持某种语言，则识别回退到 en-US（看起来它识别出样本是英文的）
*   如果方言不受支持（或不存在），则在某些情况下识别会退回到主要方言或 en-US
*   主要方言可以指定为标识符的第一部分。所以 'en-US' 和 'en' 给出了相同的结果。
*   对某些语言（如中文和日文）的识别给出了英语的结果，但与 en-US 不同，这很奇怪。样本可能与中文有很大不同，服务很聪明地解决了这一点。

如果识别给出的结果与 en-US 和该语言的主要方言不同，我会将方言视为受支持。尽管如此，为了 100% 的验证，我们需要为每种语言运行样本。

**传奇**

*   `+`最重要的是支持，因为 test 给出的结果与 en-US 和主要方言不同。
*   `.+`维基百科上没有，但最重要的是支持，因为测试给出的结果与 en-US 和主要方言不同。
*   `+?`最重要的是支持，因为它在维基百科上列出。但是对我的样本进行测试得出的结果与主要方言相同。因此，要么这是一个 cosidense，要么是语言代码错误。
*   `.+?`未在 wikipedia 上列出，但看起来受支持，因为测试给出的结果与 en-US 和主要方言不同。

**语言**

*   `+`南非 **荷兰语**
*   `+`巴斯克 **欧盟**
*   `+`保加利亚语 **bg**
*   `+`加泰罗尼亚 **语**
*   `+`阿拉伯语（埃及） **ar-EG**
*   `+?`阿拉伯语（约旦）**ar-JO**
*   `+`阿拉伯语（科威特） **ar-KW**
*   `+?`阿拉伯语（黎巴嫩） **ar-LB**
*   `+`阿拉伯语（卡塔尔） **ar-QA**
*   `+`阿拉伯语 (UAE) **ar-AE**
*   `.+`阿拉伯语（摩洛哥）**ar-MA**
*   `.+`阿拉伯语（伊拉克）**ar-IQ**
*   `.+`阿拉伯语（阿尔及利亚）**ar-DZ**
*   `.+`阿拉伯语（巴林）**ar-BH**
*   `.+`阿拉伯语（利比亚）**ar-LY**
*   `.+`阿拉伯语（阿曼）**ar-OM**
*   `.+`阿拉伯语（沙特阿拉伯）**ar-SA**
*   `.+`阿拉伯语（突尼斯）**ar-TN**
*   `.+`阿拉伯语（也门）**ar-YE**
*   `+`捷克 **cs**
*   `+`荷兰语 **nl-NL**
*   `+`英语（澳大利亚） **en-AU**
*   `+?`英语（加拿大） **en-CA**
*   `+`英语（印度） **en-IN**
*   `+`英语（新西兰） **en-NZ**
*   `+`英语（南非） **en-ZA**
*   `+`英语（英国） **en-GB**
*   `+`英语（美国） **en-US**
*   `+`芬兰语 **_**
*   `+`法语 **fr-FR**
*   `+`加利西亚**语**
*   `+`德语 **de-DE**
*   `+`希伯来语 **he**
*   `+`匈牙利 **胡**
*   `+`冰岛语 **是**
*   `+`意大利语 **it-IT**
*   `+`印尼 **身份证**
*   `+`日本人**_**
*   `+`韩国 **人**
*   `+`拉丁语 **_**
*   `+`普通话 **zh-CN**
*   `+`繁体台湾 **zh-TW**
*   `+?`简体中文 **zh-CN** ?
*   `+`简体香港**zh-HK**
*   `+`粤语（繁体香港） **zh-yue**
*   `+`马来西亚 **ms-MY**
*   `+`挪威语 **no-NO**
*   `+`波兰语 **_**
*   `+?`猪拉丁语 **xx-piglatin**
*   `+`葡萄牙语 **pt-PT**
*   `.+`葡萄牙语（巴西） **pt-BR**
*   `+`罗马尼亚 **滚装船**
*   `+`俄语 **ru**
*   `+`塞尔维亚语 **-SP**
*   `+`斯洛伐克 **_**
*   `+`西班牙语（阿根廷） **es-AR**
*   `+`西班牙语（玻利维亚） **es-BO**
*   `+?`西班牙语（智利） **es-CL**
*   `+?`西班牙语（哥伦比亚） **es-CO**
*   `+?`西班牙语（哥斯达黎加） **es-CR**
*   `+`西班牙语（多米尼加共和国） **es-DO**
*   `+`西班牙语（厄瓜多尔） **es-EC**
*   `+`西班牙语（萨尔瓦多）**es-SV**
*   `+`西班牙语（危地马拉） **es-GT**
*   `+`西班牙语（洪都拉斯） **es-HN**
*   `+`西班牙语（墨西哥） **es-MX**
*   `+`西班牙语（尼加拉瓜） **es-NI**
*   `+`西班牙语（巴拿马） **es-PA**
*   `+`西班牙语（巴拉圭） **es-PY**
*   `+`西班牙语（秘鲁） **es-PE**
*   `+`西班牙语（波多黎各）**es-PR**
*   `+`西班牙语（西班牙） **es-ES**
*   `+`西班牙语（美国） **es-US**
*   `+`西班牙语（乌拉圭） **es-UY**
*   `+`西班牙语（委内瑞拉） **es-VE**
*   `+`瑞典语 **sv-SE**
*   `+`土耳其语 **_**
*   `+`祖鲁**族**

* * *

## 回答 #2

> 赞同：19
> 
> 时间：2017-01-30T20:34:24.783

我知道这是一篇旧帖子，但由于很难找到这些信息，我想我会为可能正在寻找的任何人发布一个列表。如果您发现任何错误或遗漏，请留言。

```
{
  "Afrikaans": [
    ["South Africa", "af-ZA"]
  ],
  "Arabic" : [
    ["Algeria","ar-DZ"],
    ["Bahrain","ar-BH"],
    ["Egypt","ar-EG"],
    ["Israel","ar-IL"],
    ["Iraq","ar-IQ"],
    ["Jordan","ar-JO"],
    ["Kuwait","ar-KW"],
    ["Lebanon","ar-LB"],
    ["Morocco","ar-MA"],
    ["Oman","ar-OM"],
    ["Palestinian Territory","ar-PS"],
    ["Qatar","ar-QA"],
    ["Saudi Arabia","ar-SA"],
    ["Tunisia","ar-TN"],
    ["UAE","ar-AE"]
  ],
  "Basque": [
    ["Spain", "eu-ES"]
  ],
  "Bulgarian": [
    ["Bulgaria", "bg-BG"]
  ],
  "Catalan": [
    ["Spain", "ca-ES"]
  ],
  "Chinese Mandarin": [
    ["China (Simp.)", "cmn-Hans-CN"],
    ["Hong Kong SAR (Trad.)", "cmn-Hans-HK"],
    ["Taiwan (Trad.)", "cmn-Hant-TW"]
  ],
  "Chinese Cantonese": [
    ["Hong Kong", "yue-Hant-HK"]
  ],
  "Croatian": [
    ["Croatia", "hr_HR"]
  ],
  "Czech": [
    ["Czech Republic", "cs-CZ"]
  ],
  "Danish": [
    ["Denmark", "da-DK"]
  ],
  "English": [
    ["Australia", "en-AU"],
    ["Canada", "en-CA"],
    ["India", "en-IN"],
    ["Ireland", "en-IE"],
    ["New Zealand", "en-NZ"],
    ["Philippines", "en-PH"],
    ["South Africa", "en-ZA"],
    ["United Kingdom", "en-GB"],
    ["United States", "en-US"]
  ],
  "Farsi": [
    ["Iran", "fa-IR"]
  ],
  "French": [
    ["France", "fr-FR"]
  ],
  "Filipino": [
    ["Philippines", "fil-PH"]
  ],
  "Galician": [
    ["Spain", "gl-ES"]
  ],
  "German": [
    ["Germany", "de-DE"]
  ],
  "Greek": [
    ["Greece", "el-GR"]
  ],
  "Finnish": [
    ["Finland", "fi-FI"]
  ],
  "Hebrew" :[
    ["Israel", "he-IL"]
  ],
  "Hindi": [
    ["India", "hi-IN"]
  ],
  "Hungarian": [
    ["Hungary", "hu-HU"]
  ],
  "Indonesian": [
    ["Indonesia", "id-ID"]
  ],
  "Icelandic": [
    ["Iceland", "is-IS"]
  ],
  "Italian": [
    ["Italy", "it-IT"],
    ["Switzerland", "it-CH"]
  ],
  "Japanese": [
    ["Japan", "ja-JP"]
  ],
  "Korean": [
    ["Korea", "ko-KR"]
  ],
  "Lithuanian": [
    ["Lithuania", "lt-LT"]
  ],
  "Malaysian": [
    ["Malaysia", "ms-MY"]
  ],
  "Dutch": [
    ["Netherlands", "nl-NL"]
  ],
  "Norwegian": [
    ["Norway", "nb-NO"]
  ],
  "Polish": [
    ["Poland", "pl-PL"]
  ],
  "Portuguese": [
    ["Brazil", "pt-BR"],
    ["Portugal", "pt-PT"]
  ],
  "Romanian": [
    ["Romania", "ro-RO"]
  ],
  "Russian": [
    ["Russia", "ru-RU"]
  ],
  "Serbian": [
    ["Serbia", "sr-RS"]
  ],
  "Slovak": [
    ["Slovakia", "sk-SK"]
  ],
  "Slovenian": [
    ["Slovenia", "sl-SI"]
  ],
  "Spanish": [
    ["Argentina", "es-AR"],
    ["Bolivia", "es-BO"],
    ["Chile", "es-CL"],
    ["Colombia", "es-CO"],
    ["Costa Rica", "es-CR"],
    ["Dominican Republic", "es-DO"],
    ["Ecuador", "es-EC"],
    ["El Salvador", "es-SV"],
    ["Guatemala", "es-GT"],
    ["Honduras", "es-HN"],
    ["México", "es-MX"],
    ["Nicaragua", "es-NI"],
    ["Panamá", "es-PA"],
    ["Paraguay", "es-PY"],
    ["Perú", "es-PE"],
    ["Puerto Rico", "es-PR"],
    ["Spain", "es-ES"],
    ["Uruguay", "es-UY"],
    ["United States", "es-US"],
    ["Venezuela", "es-VE"]
  ],
  "Swedish": [
    ["Sweden", "sv-SE"]
  ],
  "Thai": [
    ["Thailand", "th-TH"]
  ],
  "Turkish": [
    ["Turkey", "tr-TR"]
  ],
  "Ukrainian": [
    ["Ukraine", "uk-UA"]
  ],
  "Vietnamese": [
    ["Viet Nam", "vi-VN"]
  ],
  "Zulu": [
    ["South Africa", "zu-ZA"]
  ]
} 
```

编辑：我还发现了这个列表，它可能是最新的： [https ://cloud.google.com/speech-to-text/docs/languages](https://cloud.google.com/speech-to-text/docs/languages)

编辑 2：也添加此示例声音列表：[https ://cloud.google.com/text-to-speech/docs/voices](https://cloud.google.com/text-to-speech/docs/voices)

* * *

## 回答 #3

> 赞同：5
> 
> 时间：2014-08-12T14:36:01.977

使用以下代码在浏览器中获取语音 API 的所有可用语音：

```
var voices = speechSynthesis.getVoices();
      for(var i = 0; i < voices.length; i++ ) {
        console.log("Voice " + i.toString() + ' ' + voices[i].name + ' ' + voices[i].uri);
      } 
```

目前只有 Chrome 和 Safari 支持 Web Speech API（尽管 Safari 只支持 Text to Speech 功能）。奇怪的是 Firefox OS 支持 TTS，但浏览器版本不支持。

根据文档和我的测试（取决于用户代理），语言列表取决于您使用的浏览器。

在 Safari 中，您还可以获得许多可用的语言（我相信超过 40 种）。在 Chrome 中，此时你会得到以下列表：

语音 0 谷歌美国英语 undefined

Voice 1 谷歌英国英语男 undefined

Voice 2 谷歌英国英语女性 undefined

语音 3 谷歌西班牙语未定义

语音 4 Google Français undefined

语音 5 谷歌意大利语未定义

语音 6 Google Deutsch 未定义

Voice 7 Google 日本人 undefined

语音 8 Google 한국의 undefined

Voice 9 Google 中国的 undefined

Voice 10 原生未定义

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2017-05-08T02:42:06.770

在这里，您在 LinkedHashMap 中有 @TimHayes，您可以在其中获取值。我使用 LinkedHashMap 所以我可以得到地图的位置。

```
 LinkedHashMap<String,String> country = new LinkedHashMap<String,String>();

    country.put("South Africa", "af-ZA");
    country.put("Algeria", "ar-DZ");
    country.put("Bahrain", "ar-BH");
    country.put("Egypt", "ar-EG");
    country.put("Israel", "ar-IL");
    country.put("Iraq", "ar-IQ");
    country.put("Jordan", "ar-JO");
    country.put("Kuwait", "ar-KW");
    country.put("Lebanon", "ar-LB");
    country.put("Morocco", "ar-MA");
    country.put("Oman", "ar-OM");
    country.put("Palestinian Territory", "ar-PS");
    country.put("Qatar", "ar-QA");
    country.put("Saudi Arabia", "ar-SA");
    country.put("Tunisia", "ar-TN");
    country.put("UAE", "ar-AE");
    country.put("Spain", "eu-ES");
    country.put("Bulgaria", "bg-BG");
    country.put("Spain", "ca-ES");
    country.put("China (Simp.)", "cmn-Hans-CN");
    country.put("Hong Kong SAR (Trad.)", "cmn-Hans-HK");
    country.put("Taiwan (Trad.)", "cmn-Hant-TW");
    country.put("Hong Kong", "yue-Hant-HK");
    country.put("Croatia", "hr_HR");
    country.put("Czech Republic", "cs-CZ");
    country.put("Denmark", "da-DK");
    country.put("Australia", "en-AU");
    country.put("Canada", "en-CA");
    country.put("India", "en-IN");
    country.put("Ireland", "en-IE");
    country.put("New Zealand", "en-NZ");
    country.put("Philippines", "en-PH");
    country.put("South Africa", "en-ZA");
    country.put("United Kingdom", "en-GB");
    country.put("United States", "en-US");
    country.put("Iran", "fa-IR");
    country.put("France", "fr-FR");
    country.put("Philippines", "fil-PH");
    country.put("Spain", "gl-ES");
    country.put("Germany", "de-DE");
    country.put("Greece", "el-GR");
    country.put("Finland", "fi-FI");
    country.put("Israel", "he-IL");
    country.put("India", "hi-IN");
    country.put("Hungary", "hu-HU");
    country.put("Indonesia", "id-ID");
    country.put("Iceland", "is-IS");
    country.put("Italy", "it-IT");
    country.put("Switzerland", "it-CH");
    country.put("Japan", "ja-JP");
    country.put("Korea", "ko-KR");
    country.put("Lithuania", "lt-LT");
    country.put("Malaysia", "ms-MY");
    country.put("Netherlands", "nl-NL");
    country.put("Norway", "nb-NO");
    country.put("Poland", "pl-PL");
    country.put("Brazil", "pt-BR");
    country.put("Portugal", "pt-PT");
    country.put("Romania", "ro-RO");
    country.put("Russia", "ru-RU");
    country.put("Serbia", "sr-RS");
    country.put("Slovakia", "sk-SK");
    country.put("Slovenia", "sl-SI");
    country.put("Argentina", "es-AR");
    country.put("Bolivia", "es-BO");
    country.put("Chile", "es-CL");
    country.put("Colombia", "es-CO");
    country.put("Costa Rica", "es-CR");
    country.put("Dominican Republic", "es-DO");
    country.put("Ecuador", "es-EC");
    country.put("El Salvador", "es-SV");
    country.put("Guatemala", "es-GT");
    country.put("Honduras", "es-HN");
    country.put("México", "es-MX");
    country.put("Nicaragua", "es-NI");
    country.put("Panamá", "es-PA");
    country.put("Paraguay", "es-PY");
    country.put("Perú", "es-PE");
    country.put("Puerto Rico", "es-PR");
    country.put("Spain", "es-ES");
    country.put("Uruguay", "es-UY");
    country.put("United States", "es-US");
    country.put("Venezuela", "es-VE");
    country.put("Sweden", "sv-SE");
    country.put("Thailand", "th-TH");
    country.put("Turkey", "tr-TR");
    country.put("Ukraine", "uk-UA");
    country.put("Viet Nam", "vi-VN");
    country.put("South Africa", "zu-ZA"); 
```

# c# - 检查 2 个 IEnumerables 之间的差异

> ID：14257602
> 
> 赞同：6
> 
> 时间：2013-01-10T12:08:00.547
> 
> 标签：c#, linq, list, ienumerable

所以基本上我有以下2`IEnumerable lists`

```
List A = {"Personal", "Tech", "Social"}
List B = {"Personal", "Tech", "General"} 
```

`List A`现在我想要实现的是，得到and之间的区别`List B`，在这种情况下是*Social*和*General*。

我还需要确定*Social*是额外的`List A`，*General*是额外的，`List B`以便相应地插入和删除。

我也可以有另一个场景

```
 List A = {"Personal", "Tech"}
 List B = {"Personal", "Tech", "General"} 
```

在这种情况下，它将返回*General* "

我该怎么做`LINQ`？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-10T12:12:30.280

干得好

```
var ListA = new List<string> {"Personal", "Tech", "Social"};
var ListB = new List<string> { "Personal", "Tech", "General" };

var insert = ListA.Except(ListB).ToList();
var delete = ListB.Except(ListA).ToList(); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-10T12:10:58.580

您可以使用[`List<T>.Except()`](http://msdn.microsoft.com/en-us/library/vstudio/bb908822%28v=vs.90%29.aspx)方法。

> 产生两个序列的集合差。

```
 public static void Main(string[] args)
        {
            List<string> A = new List<string> { "Personal", "Tech", "Social" };
            List<string> B = new List<string> { "Personal", "Tech", "General" };

            var result = A.Except(B);

            //Will print "Social"
            foreach (var i in result)
            {
                Console.WriteLine(i);
            }
        } 
```

这是一个[`DEMO`](http://ideone.com/Pz7VYv).

对于您的第二种情况；

```
 public static void Main(string[] args)
        {
            List<string> A = new List<string> { "Personal", "Tech" };
            List<string> B = new List<string> { "Personal", "Tech", "General"};

            var result = B.Except(A);

            foreach ( var i in result )
            {
                Console.WriteLine(i);
            }
        } 
```

这是一个[`DEMO`](http://ideone.com/ZN50hf).

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-10T12:09:41.780

`listA.Except(listB)`将为您提供列表 A 中不在列表 B 中的所有项目。而不是相反。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-01-10T12:10:32.163

使用[Enumerable.Except](http://msdn.microsoft.com/en-us/library/system.linq.enumerable.except.aspx)

```
var result = list1.Except(list2).ToList(); 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-01-10T12:23:45.663

```
var q = A.Intersect(B);//"Personal" , "Tech"
var r = B.Except(A);//"General" 
```

# android - android 应用程序上未显示 Osm 磁贴

> ID：14257603
> 
> 赞同：2
> 
> 时间：2013-01-10T12:08:01.120
> 
> 标签：android, maps, osmdroid

我正在尝试制作一个应用程序，该应用程序将显示带有一些可点击点的离线地图。我的问题是当我测试我的应用程序时地图图块不会显示。另外，一旦我移动地图，可点击的点（标记）就会消失。

关于这个问题的任何帮助或想法都会非常有帮助。

这是我的代码：

MainActivity.java：

 **```
package com.cvasil05.offlinemapwithoverlay;

import java.util.ArrayList;
import org.osmdroid.tileprovider.tilesource.TileSourceFactory;
import org.osmdroid.util.GeoPoint;
import org.osmdroid.views.MapController;
import org.osmdroid.views.MapView;
import org.osmdroid.views.overlay.MyLocationOverlay;
import org.osmdroid.views.overlay.OverlayItem;

import android.location.Location;
import android.location.LocationListener;
import android.location.LocationManager;
import android.os.Bundle;
import android.app.Activity;
import android.content.Context;
import android.view.Menu;
import android.view.MenuItem;

public class MainActivity extends Activity {

// Default map zoom level:
private int MAP_DEFAULT_ZOOM = 17;

// Default map Latitude:
private double MAP_DEFAULT_LATITUDE = 35.14476619358656E6;

// Default map Longitude:
private double MAP_DEFAULT_LONGITUDE = 33.409520387649536E6;

private MapView             mymapView           = null;
private MapController       myMapController     = null;
private MyLocationOverlay   location            = null;
LocationManager             mylocmanager        = null;
LocationListener            myloclistener       = null;

ArrayList<OverlayItem>      OverlayItemArray    = null;
MyOverlayItem               overlay             = null;

@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.activity_main);

    // Initialize Map with its properties
    mymapView = (MapView)findViewById(R.id.mapview);
    mymapView.setBuiltInZoomControls(false);
    mymapView.setMultiTouchControls(false);
    mymapView.setTileSource(TileSourceFactory.MAPQUESTOSM);

    // Initialize Map Controller
    myMapController = mymapView.getController();

    mylocmanager = (LocationManager)getSystemService(Context.LOCATION_SERVICE);
    myloclistener = new LocationListener() {

        public void onStatusChanged(String provider, int status, Bundle extras) {
            // TODO Auto-generated method stub

        }

        public void onProviderEnabled(String provider) {
            // TODO Auto-generated method stub

        }

        public void onProviderDisabled(String provider) {
            // TODO Auto-generated method stub

        }

        public void onLocationChanged(Location location) {
            myMapController.animateTo(new GeoPoint(location.getLatitude(), location.getLongitude()));
            myMapController.setZoom(17);
            mymapView.invalidate();
        }

        public void run() {
            // TODO Auto-generated method stub
            location.runOnFirstFix(new Runnable() { 
                public void run() {
                    mymapView.getController().animateTo(location.getMyLocation());
                }
            }); 
        }
    };
    mylocmanager.requestLocationUpdates(LocationManager.GPS_PROVIDER,1000,0,myloclistener);

    OverlayItemArray = new ArrayList<OverlayItem>();
    // Points to be added
    GeoPoint point1 = new GeoPoint(35.14392398396914E6, 33.40521812438965E6);
    OverlayItem overlayitem1 = (OverlayItem) new OverlayItem("Εστίες", "Οι εστίες του Πανεπιστημίου Κύπρου.", point1);
    OverlayItemArray.add(overlayitem1);

    GeoPoint point2 = new GeoPoint(35.14447668501356E6, 33.41047525405884E6);
    OverlayItem overlayitem2 = new OverlayItem("ΘΕΕ02", "Κτίριο Χημείας & Φυσικής.", point2);
    OverlayItemArray.add(overlayitem2);

    GeoPoint point3 = new GeoPoint(35.14461705293515E6, 33.41110825538635E6);
    OverlayItem overlayitem3 = new OverlayItem("ΘΕΕ01", "Κτίριο Πληροφορικής & Μαθηματικών.", point3);
    OverlayItemArray.add(overlayitem3);

    GeoPoint point4 = new GeoPoint(35.14512588462148E6, 33.41071128845215E6);
    OverlayItem overlayitem4 = new OverlayItem("ΧΩΔ01", "Χώροι Διδασκαλίας", point4);
    OverlayItemArray.add(overlayitem4);

    GeoPoint point5 = new GeoPoint(35.1459856274836E6, 33.41367244720459E6);
    OverlayItem overlayitem5 = new OverlayItem("Κέντρο αθλητισμού", "Αποτελείται από το Γυμναστήριο, το Γήπεδο Τέννις και το Γύπεδο Φούτσαλ.", point5);
    OverlayItemArray.add(overlayitem5);

    // Add Points to Overlay
    overlay = new MyOverlayItem(this, OverlayItemArray);
    mymapView.getOverlays().add(overlay);

    /*
    // Get Location
    location = new MyLocationOverlay(getApplicationContext(), mymapView);
    // View Location
    mymapView.getOverlays().add(location);
    location.enableMyLocation();
    location.disableFollowLocation();
    */

    // Zoom and Center Map
    myMapController.setZoom(MAP_DEFAULT_ZOOM);
    myMapController.setCenter(new GeoPoint(MAP_DEFAULT_LATITUDE, MAP_DEFAULT_LONGITUDE));

}      

// Create Menu
@Override
public boolean onCreateOptionsMenu(Menu menu) {
    getMenuInflater().inflate(R.menu.activity_main, menu);
    return true;
}

// Actions on Menu Options
@Override
public boolean onOptionsItemSelected(MenuItem item) {

    if(item.getItemId() == R.id.esties){
        myMapController.setZoom(MAP_DEFAULT_ZOOM);
        myMapController.setCenter(new GeoPoint(MAP_DEFAULT_LATITUDE, MAP_DEFAULT_LONGITUDE));
    }
    return super.onOptionsItemSelected(item);
}

} 
```*  *MyOverlayItem.java：

 **```
package com.cvasil05.offlinemapwithoverlay;

import java.util.List;

import org.osmdroid.views.MapView;
import org.osmdroid.views.overlay.ItemizedIconOverlay;
import org.osmdroid.views.overlay.OverlayItem;

import android.app.AlertDialog;
import android.content.Context;

public class MyOverlayItem extends ItemizedIconOverlay<OverlayItem> {

private Context mContext;

public MyOverlayItem(final Context context, final List<OverlayItem> aList) {
    super(context, aList, new OnItemGestureListener<OverlayItem>() {
        public boolean onItemSingleTapUp(final int index,
                final OverlayItem item) {
            return false;
        }

        public boolean onItemLongPress(final int index,
                final OverlayItem item) {
            return false;
        }
    });
    // TODO Auto-generated constructor stub
    mContext = context;
}

@Override
protected boolean onSingleTapUpHelper(final int index, final OverlayItem item, final MapView mapView) {
    AlertDialog.Builder dialog = new AlertDialog.Builder(mContext);
    dialog.setTitle(item.getTitle());
    dialog.setMessage(item.getSnippet());
    dialog.show();
    return true;
}

} 
```*  *我的 xml 文件有这个：

 **```
<org.osmdroid.views.MapView
        android:id="@+id/mapview"
        android:layout_width="match_parent" 
        android:layout_height="match_parent"
        android:enabled="true"      
        android:clickable="true"
    /> 
```*  *我将此添加到我的清单文件中：

 **```
<supports-screens 
android:anyDensity="true"
android:resizeable="false"
android:largeScreens="true"
android:normalScreens="true" />

<uses-permission android:name="android.permission.ACCESS_COARSE_LOCATION"/> 
<uses-permission android:name="android.permission.ACCESS_FINE_LOCATION"/>
<uses-permission android:name="android.permission.ACCESS_WIFI_STATE" />
<uses-permission android:name="android.permission.ACCESS_NETWORK_STATE" />
<uses-permission android:name="android.permission.INTERNET" />
<uses-permission android:name="android.permission.WRITE_EXTERNAL_STORAGE" /> 
```*  ** * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-17T06:19:50.853

我是 osmdroid 的新手 :) 但我遇到了同样的问题.. 在我的情况下，我的 EmulatorDevice 配置为没有 SDCard********

# android - 如何直接从字节数组显示JPEG图像（保存图像之前）？

> ID：14257604
> 
> 赞同：4
> 
> 时间：2013-01-10T12:08:02.023
> 
> 标签：android, image, sockets, jpeg

我从客户端套接字接收 jpeg 图像（图像大小：50KB）并保存在模拟器 SD 卡中。从那里我在 Imageview 中显示 jpg 图像。但是我想在将图像保存到 SD 卡之前显示图像，因为我们的 android 应用程序会从套接字接收连续的图像，如果我遵循接收、保存和显示方法，那么它会变得非常慢，所以要提高我想要的速度仅从 ram 显示。为此，我需要将图像阵列临时保存在 RAM 上。从那里我计划通过使用单独的线程来显示和保存。所以请指导我如何从字节数组中显示图像。

注意：我从套接字接收 JPEG 图像，而不是 .bmp 或 .gif 或 .png。

下面是我从 tcp 套接字接收图像的代码。（它工作正常）（注意：这是在单独的线程中完成的，不要在 UI 线程中尝试。）

```
 public byte[] mybytearray  = new byte[310000];
                    private int bytesRead=0;
                    private int current = 0;

                    ServerSocket serverSocket = new ServerSocket(SERVERPORT);  
                    Socket client = serverSocket.accept(); 

                   try {

                       myDir=new File("/mnt/sdcard/saved_images");

                        if (!myDir.exists()){
                            myDir.mkdir();
                        }else{
                            Log.d("ServerActivity","Folder Already created" );
                        }

                        String fpath = "/image0001.jpg";
                        File file = new File (myDir, fpath);
                        if (file.exists ()) file.delete ();

                        InputStream is = client.getInputStream();
                        FileOutputStream fos = new FileOutputStream(file);
                        BufferedOutputStream bos = new BufferedOutputStream(fos);
                        bytesRead = is.read(mybytearray,0,mybytearray.length);
                        current = bytesRead;

                 do {
                      bytesRead = is.read(mybytearray, current, (mybytearray.length-current));
                      if(bytesRead >= 0) current += bytesRead;

                 } while(bytesRead > -1);

                        bos.write(mybytearray, 0 , current);

                        Log.d("ServerActivity","Reconstructing Image from array");

                        bos.flush();
                        bos.close();
                        fos.flush();
                        fos.close();
                        is.close();
                        client.close();
                        serverSocket.close();
                    } catch (Exception e) { 
                  e.printStackTrace();
              } 
```

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-01-10T12:14:27.600

尝试将此代码段插入到您的代码中：

```
do {
    bytesRead = is.read(mybytearray, current, (mybytearray.length-current));
    if(bytesRead >= 0) current += bytesRead;
} while(bytesRead > -1);

ByteArrayInputStream inputStream = new ByteArrayInputStream(myByteArray);
bitmap = BitmapFactory.decodeStream(inputStream);
ImageView picture = new ImageView(this);
picture.setImageBitmap(bitmap);

bos.write(mybytearray, 0 , current); 
```

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2013-01-10T12:13:39.423

使用位图，从字节数组创建它，

```
Bitmap bitmap;
bitmap= BitmapFactory.decodeByteArray(mybytearray, 0, mybytearray.length); 
```

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2013-01-10T12:13:03.427

将 byte[] 转换为位图。尝试以下

```
ByteArrayInputStream imageStream = new ByteArrayInputStream(byte[] array);
Bitmap bitmap = BitmapFactory.decodeStream(imageStream); 
```

# jquery - 刷新页面-登录后提交Ajax

> ID：14257607
> 
> 赞同：0
> 
> 时间：2013-01-10T12:08:24.180
> 
> 标签：jquery

服务器端：

```
<?php
if (empty($_POST) === false){
    $username = $_POST['username'];
    $password = $_POST['password'];

    if (empty($username) === true || empty($password) === true){
        $errors[] = 'You need to enter a username or password';
    }
    else if (user_exists($username)===false){
        $errors[] = 'We can\'t find that username in our database.';
    }
    else if (user_active($username) === false){
        $errors[] = 'Activate your account.';
    }   else    {
        $login = login($username,$password);
        if ($login === false){
            $errors[] = 'Incorrect combination.';
        } else {
            $_SESSION['user_id'] = $login;
            $errors[] = 'success';
        }
    }
}else {
    $errors[] = 'No data received!';
}
output_errors($errors);
?> 
```

阿贾克斯：

```
$(document).ready(function(){

    $("#login").click(function(){
    $.post($('#loginform').attr("action"), $('#loginform').serializeArray(), function(data) {
                if(data == 'success'){
                    $(document).ajaxStop(function() { location.reload(true); });
                }else {
                    $('#loginmsg').html(data);
                }
        });
    });
}); 
```

问题是，当我将它放在 if 语句中时，它没有识别“数据”。登录没有问题，但页面不刷新。请帮忙。谢谢。

更新：我尝试在没有 AjaxStop 的情况下重新加载位置，但没有成功。我只想在“成功”时刷新页面

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-10T12:15:42.630

尝试不使用`ajaxStop`，例如：

```
if(data == 'success') location.reload(true); 
```

如果您正在重新加载页面 - 为什么要等待请求完成？

另外 - 确保你不要从 php.ini 发回任何其他不可见的字符。删除结束标签是一个很好的做法`?>`，以帮助解决这个问题。

# sql-server-2008 - Windows server 2008 上的 SQL Reporting Services 未经授权的问题

> ID：14257610
> 
> 赞同：0
> 
> 时间：2013-01-10T12:08:45.467
> 
> 标签：sql-server-2008, reporting-services, ssrs-2008

我的报表服务器窗口服务器 2008 上有 SQL Server 2008。

我的 Web 应用程序在另一个系统上的 vs2010 中。当我尝试在报告查看器中显示报告时，它给出以下错误：
请求失败，HTTP 状态 401：未经授权。

我使用了 ProcessingMode.Remote。我想使用数据库凭据来访问报告（请记住，我不想使用 Windows 凭据）。

我在 reportserver.config 文件中设置了以下身份验证。

```
 <Authentication>
    <AuthenticationTypes>
        <RSWindowsNegotiate/>
        <RSWindowsNTLM/>
    </AuthenticationTypes>
    <EnableAuthPersistence>true</EnableAuthPersistence>
</Authentication> 
```

在数据源上，我选择了“安全存储在报表服务器中的凭据”选项。此外，当我使用窗口服务器 2003 报表服务器时，它工作正常并且报表查看器成功显示报表，它在窗口服务器 2008 上产生问题。

请有人帮我解决这个问题。报表服务器是否需要对 window server 2008 进行一些特定的配置？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-10T14:47:58.913

通常，这发生在 Web 服务器上，没有为您的数据源保留正确的凭据。首先访问 SSRS 站点：默认为 h ttp://(servername)/(Reports)。

你应该问几个问题：

这是许多人访问的报告，所以我应该为它设置一个域帐户吗？还是只有少数人可以使用此报告，并且应该提示他们？

一般可以进入问题报告。它将使凭据失败。您可以单击它的超链接，单击左侧窗格中的数据源。您将看到设置的凭据。如果您想按您所说的那样存储它们，它们应该出现在单选按钮“存储在报表服务器中的凭据”下。然而，很多时候一个帐户应该在此处列为“Windows 帐户”，反之亦然，但不是。

我还将确保一旦您关闭数据源，请确保将“覆盖数据源”的部署设置设置为 false。希望这可以帮助。

# asp.net - Web API 错误无法序列化响应正文

> ID：14257611
> 
> 赞同：1
> 
> 时间：2013-01-10T12:08:49.707
> 
> 标签：asp.net, mongodb, rest, mongodb-.net-driver, nosql

我对 ASP.NET MCV 4 和 Mongo DB 相当陌生，并试图构建 Web API。我以为我终于做对了，但是当我启动应用程序并输入：`http://localhost:50491/api/document`进入我的浏览器时，我收到此错误消息

```
The 'ObjectContent`1' type failed to serialize the response body for content type 'application/xml; charset=utf-8'. 
```

这是我的代码

这是文档类

```
public class Document
{
    [BsonId]
    public ObjectId DocumentID { get; set; }

    public IList<string> allDocs { get; set; }
} 
```

这是连接到数据库的地方：

```
public class MongoConnectionHelper
{
    public MongoCollection<BsonDocument> collection { get; private set; }

    public MongoConnectionHelper()
    {
        string connectionString = "mongodb://127.0.0.1";
        var server = MongoServer.Create(connectionString);

        if (server.State == MongoServerState.Disconnected)
        {
            server.Connect();
        }

        var conn = server.GetDatabase("cord");

        collection = conn.GetCollection("Mappings");  
    } 
```

这是 ApiController 类：

```
public class DocumentController : ApiController
{
    public readonly MongoConnectionHelper docs;

    public DocumentController()
    {
        docs = new MongoConnectionHelper();
    }

    public IList<BsonDocument> getAllDocs()
    {
        var alldocs = (docs.collection.FindAll().ToList());
        return alldocs;

    }

} 
```

我进一步阅读并提示错误消息：

```
Type 'MongoDB.Bson.BsonObjectId' with data contract name 'BsonObjectId:http://schemas.datacontract.org/2004/07/MongoDB.Bson' is not expected. Consider using a DataContractResolver or add any types not known statically to the list of known types - for example, by using the KnownTypeAttribute attribute or by adding them to the list of known types passed to DataContractSerializer. 
```

这一切都很好，但我该怎么做呢？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-10T13:29:44.157

a) 不要通过 Web API 序列化您的文档类，并创建一些要序列化的 DTO，或者 b) 使用其他东西作为 ID。

如果您想要一个简单的自动生成 ID，并且您可以接受它会占用更多空间的事实，您可以诉诸以下“hack”：

```
public class Document
{
    public Document()
    {
        Id = ObjectId.GenerateNewId().ToString();
    }

    public string Id { get; set; }
} 
```

这样，您将获得 MongoID，但它们将存储为字符串。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2017-08-04T07:29:11.127

如果您需要 XML 格式的 Web API2 响应，您需要像下面这样处理默认 ID

> 例如：ObjectId("507f191e810c19729de860ea")

您需要从序列化中删除 Id。

```
[DataContract]
public class Document
{
    [BsonId]
    public string Id { get; set; }
    [DataMember]
    public string Title { get; set; } //other properties you use
} 
```

或者您可以使用自定义逻辑更改 ID 的类型

```
public class GuidIdGenerator : IIdGenerator
{
    public object GenerateId(object container, object document)
    {
        return  Guid.NewGuid();
    }

    public bool IsEmpty(object id)
    {
        return string.IsNullOrEmpty(id.ToString());
    }
}

public class Document
{
    [BsonId(IdGenerator = typeof(GuidIdGenerator))]
    public string Id { get; set; }
    public string Title { get; set; } //other properties you use
} 
```

# java - 用于生成二维码的开源 API

> ID：14257616
> 
> 赞同：-1
> 
> 时间：2013-01-10T12:08:59.780
> 
> 标签：java, barcode

我想为随机代码集生成大量 QR 码。请帮我选择最好的开源 Java API 来做到这一点？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-10T12:16:42.170

我推荐[烧烤](http://barbecue.sourceforge.net/)库，它提供了图像对象，可以用 Swing/AWT 绘制，并支持导出为 PNG、GIF 和 JPEG。

# html - 播放/暂停音乐播放器时保持文本的行高

> ID：14257617
> 
> 赞同：0
> 
> 时间：2013-01-10T12:09:01.577
> 
> 标签：html, css

我的问题是我无法将歌曲标题文本保留在 line-height: 800px; 当用户播放或暂停播放器时。我设法在 :hover 上做到了。这似乎是一件非常棘手的事情，而且真的是我第一次在 css 上遇到如此困难的时刻。

我想发布一个 Jsfiddle，但它确实需要除 css 之外的大量代码，所以我会给你玩家的链接，这样你就可以知道发生了什么：

[http://tinyurl.com/agvmue​​o](http://tinyurl.com/agvmueo)

好的，如您所见，问题在于圆形进度条后面的文本看起来非常难看。总之，我试图让播放器的播放/暂停具有与用户悬停在播放器上时相同的 css 状态（文本和边框半径）。

预先感谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-10T13:17:10.870

您可以使用[相邻的兄弟选择器](http://css-tricks.com/fine-use-for-the-adjacent-sibling-selector/)来实现此目的，例如`.ui360-vis .sm2_paused + a.sm2_link`and `.ui360-vis .sm2_playing + a.sm2_link`。

因此，用于设置`line-height`, *(360player.css 文件中的第 48 行)*的 CSS 选择器将变为：

```
.sm2-inline-list .ui360-vis:hover a.sm2_link, 
.sm2-inline-list .ui360-vis .sm2_paused + a.sm2_link,
.sm2-inline-list .ui360-vis .sm2_playing + a.sm2_link {
    line-height: 800px;
} 
```

# cognos - 如何在cognos中动态隐藏列表中的列？

> ID：14257619
> 
> 赞同：1
> 
> 时间：2013-01-10T12:09:02.700
> 
> 标签：cognos, cognos-8, cognos-bi

实际上我正在研究 Cognos 10.1 。我的报告中有三个提示（值提示）。所有提示都是可选的。根据选择，我想显示结果。每个提示对应于列表中的一列。如果在提示中选择了该值，则必须显示该列。否则，它必须隐藏该列。我们不应该使用条件块或样式变量。请帮我。提前致谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-14T18:32:54.260

是的 - 这是我之前的做法。我创建了一个提示页面，允许用户通过复选框（true/false）在报告中选择他们想要的列。每个复选框都代表一个唯一的参数名称，该名称与您以后希望可见或不可见的列相关联。

在报告页面上，列表的默认状态显示所有可能的列。为了有条件地隐藏列，我创建了一个条件样式（每列一个）并将其与列表列/单元格相关联。条件样式基本上说嘿，如果我的参数没有被选为 false，那么将“box-type”设置为 none，这意味着它根本不会被渲染。

您确实必须为每列创建一个条件样式，但是当尝试为用户制作灵活/动态且容易的东西时，这是值得的。我的还允许对同一组列进行动态排序/分组（最多 3 个级别））

谢谢，

蒂姆

# java - 在 JBoss Drools 中表达条件

> ID：14257627
> 
> 赞同：1
> 
> 时间：2013-01-10T12:09:36.797
> 
> 标签：java, drools, rules, rule-engine, business-rules

我正在使用 JBoss Drools。我有如下定义的业务需求。我想把它转换成 JBoss Drools DRL 格式。

业务要求：我有两套位置。一种是用户之前访问过的位置。我们称它为 X。此信息是在运行时获取的。我将随身携带一些位置，我们将其称为 Y。这些位置： Y 在规则中预定义，这意味着 Y 是静态的。我必须有一个规则，如果 X 中的任何位置与 Y 中的任何位置匹配，那么它必须调用一些 java 代码。

在算法视图中

```
rule "Check if Locations X matches with Locations Y"

      When
         X: It Contains locations visted by user previosuly (obtained at runtime)
         Y: It contains some predefined locations
         Check if any location in x matches with any location in Y
     then
         call some java code here to process this.

end; 
```

那么现在，我如何以 JBoss-Drools DRL 方式表达上述规则？非常感谢这方面的任何帮助。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-16T10:27:42.327

好的，我准备根据您的解释尝试一下。如果这不是您想要的，我们可以努力寻找更合适的解决方案。另外，请原谅我对地理的有限掌握；）。

首先，我将定义我们的数据模型。我们有以下对位置建模的事实类：

```
package de.jannik.locationrules;

public class VisitedLocation {

    private String name;

    public VisitedLocation(String name) {
        this.name = name;
    }

    public String getName() {
        return name;
    }
} 
```

然后，我们有一个模拟用户的类。我们只需要对您要调用的方法进行此操作：

```
package de.jannik.locationrules;

public class User {
    public void handleVisitedContinent(String continentName) {
        System.out.println("User has been to " + continentName + ".");
    }
} 
```

现在我们可以根据这些模型类来描述业务需求：

```
package de.jannik.drltest

import de.jannik.locationrules.VisitedLocation;
import de.jannik.locationrules.User;

global User user;

rule "User has been to Europe"

    when
        exists VisitedLocation(name in ("Berlin", "Paris", "London", "Rome"))
    then
        user.handleVisitedContinent("Europe");
end

rule "User has been to Australia"

    when
        exists VisitedLocation(name in ("Melbourne", "Sydney"))
    then
        user.handleVisitedContinent("Australia");
end

rule "User has been to America"

    when
        exists VisitedLocation(name in ("San Francisco", "New York", "Buenos Aires"))
    then
        user.handleVisitedContinent("America");
end 
```

在这里，我制定了许多规则，这些规则根据工作内存中存在的 s`User.handleVisitedContent(String)`使用不同的参数调用方法。`VisitedLocation`请注意，用户没有在事实中明确建模。相反，我们假设每次需要修改用户时都会创建一个新会话。根据您的业务需求和性能考虑，您可能希望将其更改为仅对所有用户使用单个会话。

这是我用来执行我定义的规则的代码：

```
...
@Test
public void testLocationRules() {
    KnowledgeBuilder kbuilder = KnowledgeBuilderFactory.newKnowledgeBuilder();
    kbuilder.add(ResourceFactory.newClassPathResource("locations.drl"), ResourceType.DRL);
    if (kbuilder.hasErrors()) {
        KnowledgeBuilderErrors errors = kbuilder.getErrors();
        System.out.println(errors.toString());
        throw new RuntimeException(errors.toString());
    }
    KnowledgeBase knowledgeBase = KnowledgeBaseFactory.newKnowledgeBase();
    knowledgeBase.addKnowledgePackages(kbuilder.getKnowledgePackages());
    StatelessKnowledgeSession session = knowledgeBase.newStatelessKnowledgeSession();
    session.setGlobal("user", new User());
    List<VisitedLocation> facts = new ArrayList<VisitedLocation>();
    facts.add(new VisitedLocation("Berlin"));
    facts.add(new VisitedLocation("Paris"));
    facts.add(new VisitedLocation("San Francisco"));
    facts.add(new VisitedLocation("Saigon"));
    session.execute(facts);
}
... 
```

这将产生以下输出：

```
User has been to America.
User has been to Europe. 
```

如果这不是您想要的或者您需要进一步澄清，请告诉我。此外，您可能需要查阅[Drools 专家用户指南](http://docs.jboss.org/drools/release/5.4.0.CR1/drools-expert-docs/html_single/)以获取有关 Drools 概念的更多解释。

# wpf - WPF DataGrid*Column：设置 EditingElementStyle

> ID：14257629
> 
> 赞同：1
> 
> 时间：2013-01-10T12:09:47.130
> 
> 标签：wpf, datagrid, styles

我正在尝试修改 DataGrid*Column 的默认样式。但似乎DataGrid没有使用该样式。

```
<Style x:Key="DataGridTextColumn_EditStyle" TargetType="{x:Type TextBox}" >
    <Setter Property="SelectionBrush" Value="Red" />
</Style>

<Style TargetType="{x:Type DataGridTextColumn}">
    <Setter Property="EditingElementStyle" Value="{StaticResource DataGridTextColumn_EditStyle}" />
</Style> 
```

这样就不需要在 DataGrid.Columns 中设置样式。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-07T15:04:34.070

无法定义默认值`Style`，`DataGridTextColumn`因为[DataGridTextColumn 类](http://msdn.microsoft.com/en-us/library/system.windows.controls.datagridtextcolumn%28v=vs.95%29.aspx)不是[FrameworkElement](http://msdn.microsoft.com/en-us/library/system.windows.frameworkelement.aspx)，因此它没有`Style`属性。

# regex - 以编程方式删除 OBJ 文件中的所有面

> ID：14257633
> 
> 赞同：0
> 
> 时间：2013-01-10T12:10:00.287
> 
> 标签：regex, string, 3d

我有一个程序可以从 kinect 3d 录制中吐出 OBJ 文件。每个 obj 文件都是一系列顶点和面。顶点如下所示：

v 0.211181 0.436763 1.052000

和面孔看起来像这样：

f 15734/15734 15560/15560 15559/15559

每个 obj 文件有大约 100,000 行顶点和面，所以我需要能够以编程方式删除面。任何人都有解决方案。我基本上只需要编写这样的代码：“对于每一行，如果它以 f 开头，则删除该行中的所有字符。”

有人有什么建议吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-10T14:52:55.377

一种方法是在 Notepad++ 中加载 obj 文件。

然后使用`ctrl`+ `h`（替换）

在左下角的搜索模式框中选择“正则表达式”单选按钮（确保未选中匹配换行符复选框）

找什么：`^f.*\n`

用。。。来代替：

这将删除以“f”开头的每一行。如果要保留空白行而不是完全删除它们，请`\n`从 Find 字符串的末尾删除。

# javascript - 使用javascript switch case语句计算数组中元素的点数

> ID：14257636
> 
> 赞同：0
> 
> 时间：2013-01-10T12:10:08.863
> 
> 标签：javascript, arrays, for-loop, switch-statement

我正在创建一个累积奖金游戏，它根据给定图像出现的次数生成一个数组。然后计算有多少 0（卡未使用），1（不同卡），2（2 相同卡），3（相同卡），4（4 相同卡），5（5 相同卡）出现数组（aPunten）看起来像这样：

```
8,5,0,0,0,0 
```

这意味着 8 乘以 0、5 乘以 1、0 乘以 2（对）、0 乘以 3（行程）、0 乘以 4（四轮）、0 乘以 5

现在我需要为这些值分配一个分数，这就是我卡住的地方。我想循环遍历数组（aPunten）并使用开关盒来分配点。

组合获得的积分：

```
5 equal cards= +50
4 equal cards= +25
3 equal cards + 1 pair  = +20
3 equal cards= +10
pair + pair = +5
pair= +2
5 different cards= +0 
```

我希望有人能让我在这里走上正轨

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-10T15:37:05.657

我自己设法弄清楚了，这可能不是最好的方法，但它确实有效。随意给我看一个简短的版本。

```
for (var k = 0; k < aPunten.length; k++) {

        switch (k) {

            case 0:
                combo = "Jammer u hebt verloren...";
                break;
            case 1:
                combo = "Jammer u hebt verloren...";
                break;
            case 2:

                if (aPunten[k] == 1) {
                    x += 2;
                    paar += 1;
                    combo = "1 paar!!";
                }
                if (aPunten[k] == 2) {
                    x += 5;
                    paar += 2;
                    combo = "2 paar!!";
                }
                break;
            case 3:

                if (aPunten[k] == 1) {
                    if (paar == 0) {
                        combo = "3 dezelfde!!";
                        x += 10;
                    } else if (paar == 1) {
                        combo = "3 dezelfde en 1 paar!!";
                        x += 20
                    }
                }

                break;
            case 4:

                if (aPunten[k] == 1) {
                    combo = "4 dezelfde !!";
                    x += 25;
                }
                break;
            case 5:

                if (aPunten[k] == 1) {
                    combo = "JAAACKKKKPOOOOOT!!";
                    x += 50;
                }
                break;
        }

    } 
```

# jquery-mobile - 动态创建时数据角色不起作用请帮帮我

> ID：14257639
> 
> 赞同：0
> 
> 时间：2013-01-10T12:10:16.087
> 
> 标签：jquery-mobile

我有一个图像和一个 div。我正在将该图像拖放到我的 div。在该图像的放置上我正在动态创建 aj 查询移动标题。但它不起作用。

`drag code ........`
`$("#frame").droppable({`

`drop: function (event, ui) {` `var header1 = '<div id="headrr" data-role="header" ><h3 >Header</h3></div>';`
`$("#frame").append(header1);`

我的页面是jquery mobile page。我已经添加了所有脚本..我的主要问题是jquery mobile UI在使用java脚本或jquery动态创建时不起作用。并且在没有动态生成的情况下工作正常。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-10T14:59:57.267

如果您生成新的标记客户端或通过 Ajax 加载内容并将其注入页面，您可以触发 create 事件来处理新标记中包含的所有插件的自动初始化。这可以在任何元素（甚至是页面 div 本身）上触发，从而为您节省手动初始化每个插件（listview 按钮、选择等）的任务。

```
$("#frame").trigger('create'); 
```

# c# - 将 Outlook 中的电子邮件附加到共享点列表

> ID：14257644
> 
> 赞同：0
> 
> 时间：2013-01-10T12:10:30.230
> 
> 标签：c#, sharepoint, outlook

在 sharepoint 的“新列表元素”对话框中使用自定义按钮我想打开 Outlook 收件箱，选择一封电子邮件并将此邮件附加到当前/新列表条目。

如何访问 Outlook 收件箱以选择电子邮件并将此电子邮件作为附件复制或链接到列表元素！

请给我一些提示或可能的方法来解决它。我最喜欢的方法是用 c# 来解决这个问题。

此致。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-10T13:11:47.453

我认为这可能会对您有所帮助：[http ://spoutlookconnector.codeplex.com/](http://spoutlookconnector.codeplex.com/)

它可以将 Outlook 连接到 SP，以便您可以将电子邮件上传到 SP 列表或文档库。但是，我不确定您是否可以从 SP 调用 Outlook。

这个链接至少是一个很好的起点。

# python - 在 PyWin32 存在的情况下，我应该（或应该）如何完成 python？

> ID：14257654
> 
> 赞同：3
> 
> 时间：2013-01-10T12:11:12.763
> 
> 标签：python, pywin32

我们有一段代码使用 PyWin32，偶尔也会调用 Py_Finalize() 和 Py_Initialize() 来重新初始化 python。我们发现了一个错误，其中动态创建的类`class error`是从 pywintypes 中的字符串创建的`PyRun_String()`（[PyWinTypesmodule.cpp](http://pywin32.hg.sourceforge.net/hgweb/pywin32/pywin32/file/860ef545eb60/win32/src/PyWinTypesmodule.cpp)，第 860 行），在重新初始化后不会重新创建。此类最终在重新初始化后被使用，并在尝试调用该函数时抛出“NoneType is not callable”错误`len()`。

`Py_Finalize()`我们已经观察到，如果在调用之前立即调用PyWinTypes export ，则错误停止发生`PyWinGlobals_Free()`，它位于上面链接的同一源文件中。

在 PyWin32 代码库的其他地方（在[dllmain.cpp](http://pywin32.hg.sourceforge.net/hgweb/pywin32/pywin32/file/860ef545eb60/com/win32com/src/dllmain.cpp)中），有以下函数，在 regsvr32.exe 中进行 COM 注册/取消注册后清理时调用该函数：

```
void PyCom_DLLReleaseRef(void)
{
    /*** NOTE: We no longer finalize Python EVER in the COM world
         see pycom-dev mailing list archives from April 2000 for why
    ***/
    // Must be thread-safe, although cant have the Python lock!
    // only needed when we finalize.
    //  CEnterLeaveFramework _celf;
    LONG cnt = InterlockedDecrement(&g_cLockCount);
    // Not optimal, but anything better is hard - g_cLockCount
    // could always transition 1->0->1 at some stage, screwing this
    // up.  Oh well...
    if (cnt==0) {
        // Send a quit message to the registered thread (if we have one)
        if (dwQuitThreadId)
            PostThreadMessage(dwQuitThreadId, WM_QUIT, 0, 0);
        /*** Old finalize code
             if (bDidInitPython) {
             PyEval_RestoreThread(ptsGlobal);
             PyWinGlobals_Free();
             FreeGatewayModule();
             Py_Finalize();

             bDidInitPython=FALSE;
             }
        ***/
    }
} 
```

这里有两点值得注意：

1.  顶部有一个神秘的注释，暗示在这种情况下没有最终确定 Python 是有原因的。不幸的是，它所引用的“pycom-dev”邮件列表似乎不再存在。我认为[这](http://mailman.pythonpros.com/pipermail/pycom-dev/2000q2/000292.html)是有问题的线程的正确链接，但 pythonpros.com 似乎是一些 sedo 域停放的东西。

2.  注释掉的“旧的最终确定代码”确实在确定 python 之前调用了 PyWinGlobals_Free()，这表明我们的修复可能在正确的轨道上。然而，除了源代码中这段神秘的代码片段之外，我们还没有在网络上找到任何文档或信息，表明在使用 PyWin32 时，在最终确定 python 之前必须做任何特别的事情。还有其他一些调用：FreeGatewayModules() 和 PyEval_RestoreThread()。我不确定我们是否应该自己调用这些。

我们的修复似乎有效，在没有更多信息的情况下，我们可能会接受它，但如果能得到一些确认会很好。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-21T10:21:31.880

答案来自 python-win32 邮件列表： http: [//mail.python.org/pipermail/python-win32/2013-January/012671.html](http://mail.python.org/pipermail/python-win32/2013-January/012671.html)。

> 不幸的是，重复初始化和完成 Python 存在许多问题，因此您在 pywin32 中看到的代码不再尝试支持它。简而言之，使用 pywin32 不支持这样做（至少在 Python 中的问题通过支持此功能的新模块 API 修复之前，并且 pywin32 进行了相应调整）
> 
> 马克[哈蒙德]

# c# - 在 C# 中为以编程方式生成的程序集设置描述

> ID：14257655
> 
> 赞同：3
> 
> 时间：2013-01-10T12:11:15.807
> 
> 标签：c#, .net-assembly

如何设置程序集描述？

我正在以编程方式生成程序集

```
CodeDomProvider.CreateProvider("C#").CompileAssemblyFromFile(parameters, files); 
```

但我不知道程序集属性在哪里。有没有办法设置这些？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-10T12:15:06.317

`CompileAssemblyFromFile`需要一个文件数组。包含`AssemblyInfo.cs`具有所需属性的文件，例如

```
[assembly: AssemblyTitle("My Assembly Name")]
[assembly: AssemblyDescription("")]
[assembly: Guid("594dd732-1e7d-4981-ada3-efb341e5f918")]
[assembly: AssemblyVersion("1.0.0.0")]
[assembly: AssemblyFileVersion("1.0.0.0")]
[assembly: ComVisible(false)] 
```

`AssemblyInfo.cs`是一个文件，`Visual Studio`默认添加到任何项目中。你可以随意命名它，但我建议坚持这个约定。

# wpf - 将“添加新”项目添加到 ComboBox

> ID：14257656
> 
> 赞同：0
> 
> 时间：2013-01-10T12:11:19.280
> 
> 标签：wpf, model, combobox

好的，这对我来说听起来微不足道，但我无法找到答案。我有一个 normal `ComboBox`，效果很好。

我想做的是添加一个`element` *（作为 的最后一项`drop-down list`）*，它只不过是一个*Add new* `label` ; 选择此项目时，我想打开一个窗口，允许我定义`element`我正在添加的属性。

现在我有以下内容：

```
<ComboBox x:Name="myCombo"
    SelectedValue="{Binding Name, UpdateSourceTrigger=PropertyChanged}"
    ItemsSource="{Binding Definitions}" 
    SelectedValuePath="Name"
    DisplayMemberPath="Name"
    SelectionChanged="CheckToAdd" /> 
```

`CheckToAdd`功能是这样的：

```
private void CheckToAdd(object sender, SelectionChangedEventArgs e)
{
    if (((myViewModel)e.AddedItems[0]).Name.Value.Equals("Add new"))
    {
        AddNewItem(sender, null);
    }
} 
```

我所做的是在我的里面有一个*假人* ，其中有*Add new* as 。使用这种方法可以使一切正常，但它是丑陋的 IMO *（**因为问题只是一**件事，所以我认为把*.`element``Definitions`*`Name`*`view``VM or the Model`**

 *有人有更好的主意吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-10T12:28:01.253

WPF没有与 ASP.NET 等效的`AppendDataBoundItems`东西。您可能可以通过修改 ControlTemplate 到达某个地方，或者您可以简化您当前的方法 tp 使其更具可读性。就像是：

```
private void CheckToAdd(object sender, SelectionChangedEventArgs e) {
    if (cbo.SelectedIndex == Definitions.Count()) {
        AddNewItem(sender, null);
    } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-07-25T11:37:49.743

我想这确实属于对已接受答案的评论，但我没有足够的代表。

您能否详细说明：

1.  如何确保`element`“`name`添加新”留在底部。
2.  如何`Collection`在添加虚拟项目时将模型包装在 ViewModel 中。

* * *

## 回答 #3

> 赞同：-2
> 
> 时间：2013-01-10T12:21:02.570

如果您遵循 wpf 中的绑定，您必须在集合中插入项目（此处为定义）并使此集合通知（使用 INotifyPropertyChanged）然后在插入新项目时自动更新您的 ComboBox 这不仅是一种方法，而且是最佳实践

请参阅以下链接，了解如何实现 INotifyPropertyChanged

[http://wpftutorial.net/INotifyPropertyChanged.html](http://wpftutorial.net/INotifyPropertyChanged.html)*

# html5-audio - soundmanager2：如何判断音量属性是否可变

> ID：14257660
> 
> 赞同：1
> 
> 时间：2013-01-10T12:11:29.920
> 
> 标签：html5-audio, soundmanager2, browser-feature-detection

我正在使用 soundmanager2 库 ( [http://www.schillmania.com/projects/soundmanager2](http://www.schillmania.com/projects/soundmanager2) ) 来提供跨浏览器音频支持，效果很好。
但是 IOS 设备不允许设置 HTML5 音量属性。所以我想检测是否可以使用这个功能来改变我的网站的外观（例如隐藏音量控制）。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-10T12:11:29.920

如果我在 ios-safari 中更改 soundmanager2 声音对象的音量属性，则 soundmanager2 音量属性会发生变化并且不考虑 HTML5 音频对象的音量属性始终保持为 1 的事实。

所以我的解决方案如下：

```
$(function(){
  soundManager.onready(function(){
    voltest = soundManager.createSound({
      id: "testid",
      url: some_valid_audio_url,
      autoLoad: false,
    });
    if (voltest.isHTML5) {
      var html5audio = new Audio();
      html5audio.volume = 0.34;
      if (html5audio.volume == 0.34) {
        $("html").addClass("volchange");  
      }
    } else {
      $("html").addClass("volchange");
    }
    voltest.destruct();
  });
}); 
```

我喜欢我的解决方案，并认为它可能对其他人有用......

# php - 获取具有可变文件名的图像（如果存在）

> ID：14257661
> 
> 赞同：0
> 
> 时间：2013-01-10T12:11:30.337
> 
> 标签：php, html, image

几乎可以解释自己。如果我只是让图像加载这个：

```
<img src="/dm cricket/admin/img/tables/<?php htmlout($name);?>_2.jpg"> 
```

它有效，但如果我决定将代码更改为：

```
<?php if(file_exists('/dm cricket/admin/img/tables/'.$name.'_2.jpg')){
    ?>
<img src="/dm cricket/admin/img/tables/<?php htmlout($name);?>_2.jpg"><?php }
else {
    echo 'No competition held';}?> 
```

它不起作用，它只会呼应“没有举办比赛”。谁能解释为什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-10T12:13:08.020

通过 HTTP 获取的来自页面 URI 的根相对 URI 与 Web 服务器文件系统上的文件路径不同。

假设服务器配置简单，您必须在文件路径前加上服务器 Web 根目录的路径。

# php - 如果发生错误，让 PHP 多查询继续

> ID：14257663
> 
> 赞同：6
> 
> 时间：2013-01-10T12:11:34.773
> 
> 标签：php, mysqli, error-handling, mysqli-multi-query, multi-query

我得到了这个代码：

```
// Some starting variables
$test = new mysqli("localhost","root","","testdatabase");
$Query = array();
$Query[] = "SELECT 'wos' FROM items WHERE itemID = 3";
$Query[] = "SELECT 'wos' FROM items WHERE itemID";
$Query[] = "SELECT 'wos' FROM items WHERE itemID = 5";
$Query = implode(";",$Query);
$Errors = array();

// Execute multi query

if ($test->multi_query($Query)) {
  do {
    // fetch results
    $Result = $test->store_result();
    print_r($Result);
    if($test->errno === 0) {
          echo $Result->num_rows . "<br>";
    }
    else {
        $Errors[] = $test->error;
    }
    $Result->close();

    if (!$test->more_results()) {
      break;
    }
    if (!$test->next_result()) {
      $Errors[] = $test->error;
      break;
    }
  } while (true);
} 
```

如您所见，我有许多 X 后续查询，并希望全部执行。因此，如果查询 2 失败，我想继续多查询以让以下查询运行。我怎样才能做到这一点？

另外，如果发生错误，我想将此错误保存在`$Errors`. 但是，目前它并没有按预期工作，因为我只能保存错误消息而不能保存相应的查询。如果没有失败的查询，只有错误消息并没有真正的帮助。所以我想要类似的东西：`"Query 3 failed ('SELECT ...'): 'ERROR MESSAGE'"`.

这怎么可能？我可以在循环中获取当前错误`$test->error`，但我没有类似`$test->currentsubsequentquery`. 我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-10T15:29:46.973

这里的问题可以称为 MySQL 协议中的限制。当使用多查询时（从 MySQL 的角度来看：将多语句选项设置为 On 然后发送查询），服务器将拆分它并一个接一个地执行它们。答案将在不参考来源的情况下发送。客户端（在本例中为 PHP/mysqli）可以找出错误与哪个实际语句相关的唯一方法，它必须解析完整的查询字符串并尝试进行一些映射。但这在很多情况下都行不通——一些语句，最值得注意的是`CALL`，可以返回多个无法映射到语句的结果集。

如果您想了解有关错误的更多信息，有两种选择：

丑陋的人正在做`$Query = implode(";\n\n",$Query);`，然后解析提供的行的错误消息并匹配它们。

或者干脆不使用multi_query。multi_query 用于处理返回多个结果集的存储过程调用。在上述情况下使用 multi_query 只会为您节省一点点延迟，因为服务器可以直接处理下一个查询而无需等待下一个查询命令，但即使使用 mysqlnd 的异步查询操作也可以达到这一点。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-01-10T15:32:57.650

好吧，单个语句中的多个查询通常不是一个好主意。好的 SQL 客户端（例如 PDO）根本不允许多个查询，因为这种方式 SQL 注入变得更加困难。我想劝阻您的想法并提出以下解决方案之一：

*   使用三个单一的语句
*   由于您的三个查询非常相似，因此您应该使用准备好的语句并使用不同的参数绑定执行三次。这提供了比三个单语句更好的性能，并使 SQL 注入成为不可能。
*   你可以像这样设计一个对所有的查询，或者用 UNION 做任何事情：

    ```
    "SELECT 'wos' FROM items WHERE itemID IN ('3', '5')" 
    ```

如果你现在想“这家伙在说什么？这将不再是原子的。” 那么你应该使用交易......

# .net - 主窗体上的按钮显示在子窗体前面

> ID：14257664
> 
> 赞同：1
> 
> 时间：2013-01-10T12:11:35.243
> 
> 标签：.net, vb.net, winforms, button

我创建了一个有几个表单的 VB.NET 应用程序。有一个主菜单，上面有几个按钮，单击这些按钮可以打开子表单。我的问题是，当打开子窗体时，主窗体上的那些按钮显示在子窗体的前面。

我怎样才能让这些按钮留在子表单后面？

看一看：

![在此处输入图像描述](../Images/c0334e6f14ba214b7e25fc424eeb2a22.png)

这是主菜单的完整代码：

```
Imports System.Windows.Forms

Public Class MDIParent1
    Private Declare Function AnimateWindow Lib "user32" (ByVal hwnd As Int32, ByVal dwTime As Int32, ByVal dwFlags As Int32) As Boolean
    Dim winHide As Integer = &H10000
    Dim winBlend As Integer = &H80000

    Private Sub NEWToolStripMenuItem_Click(ByVal sender As System.Object, ByVal e As System.EventArgs) Handles NEWToolStripMenuItem.Click
        ADD.MdiParent = Me
        ADD.Show()

    End Sub

    Private Sub EDITToolStripMenuItem_Click(ByVal sender As System.Object, ByVal e As System.EventArgs) Handles EDITToolStripMenuItem.Click
        EDIT.MdiParent = Me
        EDIT.Show()
    End Sub

    Private Sub CUSTOMERSToolStripMenuItem_Click(ByVal sender As System.Object, ByVal e As System.EventArgs) Handles CUSTOMERSToolStripMenuItem.Click
        Cust_Det.MdiParent = Me
        Cust_Det.Show()
    End Sub

    Private Sub ITEMSToolStripMenuItem_Click(ByVal sender As System.Object, ByVal e As System.EventArgs) Handles ITEMSToolStripMenuItem.Click
        Item_Det.MdiParent = Me
        Item_Det.Show()
    End Sub

    Private Sub CALCULATORToolStripMenuItem_Click(ByVal sender As System.Object, ByVal e As System.EventArgs) Handles CALCULATORToolStripMenuItem.Click
        Shell("calc.exe")
    End Sub

    Private Sub NOTEPADToolStripMenuItem_Click(ByVal sender As System.Object, ByVal e As System.EventArgs) Handles NOTEPADToolStripMenuItem.Click
        Shell("notepad.exe")
    End Sub

    Private Sub SEARCHToolStripMenuItem_Click(ByVal sender As System.Object, ByVal e As System.EventArgs) Handles SEARCHToolStripMenuItem.Click
        Search_Cust.MdiParent = Me
        Search_Cust.Show()
    End Sub

    Private Sub SEARCHITEMSToolStripMenuItem_Click(ByVal sender As System.Object, ByVal e As System.EventArgs) Handles SEARCHITEMSToolStripMenuItem.Click
        Search_Item.MdiParent = Me
        Search_Item.Show()
    End Sub

    Private Sub BILLINGToolStripMenuItem_Click(ByVal sender As System.Object, ByVal e As System.EventArgs) Handles BILLINGToolStripMenuItem.Click
        BILLING.MdiParent = Me
        BILLING.Show()
    End Sub

    Private Sub ExitToolStripMenuItem_Click(ByVal sender As System.Object, ByVal e As System.EventArgs) Handles ExitToolStripMenuItem.Click
        Dim msg
        msg = MsgBox("Are you sure you want to exit", MsgBoxStyle.YesNo, Me.Text)
        If msg = vbYes Then
            Me.Close()
        End If
    End Sub

    Private Sub ALLCUSTOMERSToolStripMenuItem_Click(ByVal sender As System.Object, ByVal e As System.EventArgs) Handles ALLCUSTOMERSToolStripMenuItem.Click
        rpt = "cust"
        Dim obj As New Report
        obj.MdiParent = Me
        obj.Show()
    End Sub

    Private Sub ALLITEMSToolStripMenuItem_Click(ByVal sender As System.Object, ByVal e As System.EventArgs) Handles ALLITEMSToolStripMenuItem.Click
        rpt = "item"
        Dim obj As New Report
        obj.MdiParent = Me
        obj.Show()
    End Sub

    Private Sub SALESPERDAYToolStripMenuItem_Click(ByVal sender As System.Object, ByVal e As System.EventArgs) Handles SALESPERDAYToolStripMenuItem.Click
        Sale_Rep.MdiParent = Me
        Sale_Rep.Show()
    End Sub

    Private Sub SETTINGToolStripMenuItem_Click(ByVal sender As System.Object, ByVal e As System.EventArgs) Handles SETTINGToolStripMenuItem.Click

    End Sub

    Private Sub MDIParent1_Disposed(ByVal sender As Object, ByVal e As System.EventArgs) Handles Me.Disposed
        End
    End Sub

    Private Sub MDIParent1_FormClosing(ByVal sender As Object, ByVal e As System.Windows.Forms.FormClosingEventArgs) Handles Me.FormClosing
        Try
            AnimateWindow(Me.Handle.ToInt32, CInt(500), winHide Or winBlend)
        Catch ex As Exception

        End Try
    End Sub

    Private Sub MDIParent1_Load(ByVal sender As System.Object, ByVal e As System.EventArgs) Handles MyBase.Load
        ToolStripStatusLabel1.Text = Date.Now

    End Sub

    Private Sub ChangeUserNameToolStripMenuItem_Click(ByVal sender As System.Object, ByVal e As System.EventArgs) Handles ChangeUserNameToolStripMenuItem.Click
        CHANGE_USER.MdiParent = Me
        CHANGE_USER.Show()
    End Sub

    Private Sub ChangePasswordToolStripMenuItem_Click(ByVal sender As System.Object, ByVal e As System.EventArgs) Handles ChangePasswordToolStripMenuItem.Click
        CHANGE_PASS.MdiParent = Me
        CHANGE_PASS.Show()
    End Sub

    Private Sub SEARCHBILLToolStripMenuItem_Click(ByVal sender As System.Object, ByVal e As System.EventArgs) Handles SEARCHBILLToolStripMenuItem.Click
        SEARCHBILL.MdiParent = Me
        SEARCHBILL.Show()
    End Sub

    Private Sub AboutUsToolStripMenuItem_Click(ByVal sender As System.Object, ByVal e As System.EventArgs) Handles AboutUsToolStripMenuItem.Click
        about.Show()
    End Sub

    Private Sub ToolStripStatusLabel2_Click(ByVal sender As System.Object, ByVal e As System.EventArgs)

    End Sub

    Private Sub KEYBOARDToolStripMenuItem_Click(ByVal sender As System.Object, ByVal e As System.EventArgs) Handles KEYBOARDToolStripMenuItem.Click
        Shell("osk")
    End Sub

    Private Sub ViewToolStripMenuItem_Click(ByVal sender As System.Object, ByVal e As System.EventArgs) Handles ViewToolStripMenuItem.Click

    End Sub

    Private Sub ToolStripStatusLabel1_Click(ByVal sender As System.Object, ByVal e As System.EventArgs) Handles ToolStripStatusLabel1.Click

    End Sub

    Private Sub ToolStripStatusLabel2_Click_1(ByVal sender As System.Object, ByVal e As System.EventArgs)

    End Sub

    Private Sub Button1_Click(ByVal sender As System.Object, ByVal e As System.EventArgs)
        ADD.MdiParent = Me
        ADD.Show()
    End Sub

    Private Sub Button9_Click(ByVal sender As System.Object, ByVal e As System.EventArgs) Handles Button9.Click
        Dim msg
        msg = MsgBox("Are you sure you want to exit", MsgBoxStyle.YesNo, Me.Text)
        If msg = vbYes Then
            Me.Close()
        End If
    End Sub

    Private Sub Button4_Click(ByVal sender As System.Object, ByVal e As System.EventArgs) Handles Button4.Click
        ADD.MdiParent = Me
        ADD.Show()
    End Sub

    Private Sub Button5_Click(ByVal sender As System.Object, ByVal e As System.EventArgs) Handles Button5.Click
        EDIT.MdiParent = Me
        EDIT.Show()
    End Sub

    Private Sub Button1_Click_1(ByVal sender As System.Object, ByVal e As System.EventArgs) Handles Button1.Click
        BILLING.MdiParent = Me
        BILLING.Show()
    End Sub

    Private Sub Button7_Click(ByVal sender As System.Object, ByVal e As System.EventArgs) Handles Button7.Click
        Search_Cust.MdiParent = Me
        Search_Cust.Show()
    End Sub

    Private Sub Button8_Click(ByVal sender As System.Object, ByVal e As System.EventArgs) Handles Button8.Click
        Search_Item.MdiParent = Me
        Search_Item.Show()
    End Sub

    Private Sub Button2_Click(ByVal sender As System.Object, ByVal e As System.EventArgs) Handles Button2.Click
        Cust_Det.MdiParent = Me
        Cust_Det.Show()
    End Sub

    Private Sub Button3_Click(ByVal sender As System.Object, ByVal e As System.EventArgs) Handles Button3.Click
        Item_Det.MdiParent = Me
        Item_Det.Show()
    End Sub
    Private Sub Button6_Click(ByVal sender As System.Object, ByVal e As System.EventArgs) Handles Button6.Click
        SEARCHBILL.MdiParent = Me
        SEARCHBILL.Show()
    End Sub

End Class 
```

这是其中一个子表单的代码：

```
Imports System.Data.OleDb
Public Class ADD

    Public Sub clear1()
        txtiname.Text = Nothing
        txtimake.Text = Nothing
        txtirate.Text = Nothing
        txtiratio.Text = Nothing
        txtiunit.Text = Nothing

        numb()
    End Sub

    Public Sub clear()
        txtcname.Text = Nothing
        txtadd1.Text = Nothing
        txtadd2.Text = Nothing
        txtadd3.Text = Nothing
        txttel.Text = Nothing
        txtemail.Text = Nothing
        txtcst.Text = Nothing
        txttin.Text = Nothing
        txtstex.Text = Nothing

        numb()
    End Sub
    Private Sub cmdexit_Click_1(ByVal sender As System.Object, ByVal e As System.EventArgs)
        Me.Close()
        MDIParent1.Show()
    End Sub

    Private Sub cmdsave_Click(ByVal sender As System.Object, ByVal e As System.EventArgs) Handles cmdsave.Click
        If con.State = ConnectionState.Open Then
            con.Close()
        End If

        Dim rs As String

        If txtcname.Text = "" Then
            MsgBox("Enter company name")
            Exit Sub
        End If
        Try
            rs = "INSERT INTO Customer_Master VALUES(@Cust_no,@Cust_name,@Cust_add1,@Cust_add2,@Cust_add3,@Cust_telephone,@Cust_Email_ID,@Cust_cstno,@Cust_tinno,@Cust_stexno)"
            Dim cmd As OleDbCommand = New OleDbCommand(rs, con)
            cmd.Parameters.AddWithValue("Cust_no", txtcno.Text)
            cmd.Parameters.AddWithValue("Cust_name", txtcname.Text)
            cmd.Parameters.AddWithValue("Cust_add1", txtadd1.Text)
            cmd.Parameters.AddWithValue("Cust_add2", txtadd2.Text)
            cmd.Parameters.AddWithValue("Cust_add3", txtadd3.Text)
            cmd.Parameters.AddWithValue("Cust_telephone", txttel.Text)
            cmd.Parameters.AddWithValue("Cust_Email_ID", txtemail.Text)
            cmd.Parameters.AddWithValue("Cust_cstno", txtcst.Text)
            cmd.Parameters.AddWithValue("Cust_tinno", txttin.Text)
            cmd.Parameters.AddWithValue("Cust_stexno", txtstex.Text)
            con.Open()
            Dim x As Integer = cmd.ExecuteNonQuery
            MessageBox.Show(x.ToString & "record added succesfully.........")
            con.Close()
            clear()
        Catch ex As Exception
            MsgBox(ex.Message)
        End Try
    End Sub

    Private Sub cmdclr_Click(ByVal sender As System.Object, ByVal e As System.EventArgs) Handles cmdclr.Click
        clear()
    End Sub

    Private Sub cmdexit1_Click(ByVal sender As System.Object, ByVal e As System.EventArgs) Handles cmdexit1.Click
        Me.Close()
    End Sub

    Private Sub cmdclr1_Click(ByVal sender As System.Object, ByVal e As System.EventArgs) Handles cmdclr1.Click
        clear1()
    End Sub

    Private Sub cmdsave1_Click(ByVal sender As System.Object, ByVal e As System.EventArgs) Handles cmdsave1.Click
        If con.State = ConnectionState.Open Then
            con.Close()
        End If

        Dim rs As String
        If txtiname.Text = "" Then
            MsgBox("Enter Item name")
            Exit Sub
        ElseIf txtirate.Text = "" Then
            MsgBox("Enter Item rate")
            Exit Sub
        End If
        Try
            rs = "INSERT INTO Item_Master VALUES(@Item_no,@Item_name,@Item_make,@Item_rate,@Item_Ratio,@Item_Unit)"
            Dim cmd As OleDbCommand = New OleDbCommand(rs, con)
            cmd.Parameters.AddWithValue("Item_no", txtino.Text)
            cmd.Parameters.AddWithValue("Item_name", txtiname.Text)
            cmd.Parameters.AddWithValue("Item_make", txtimake.Text)
            cmd.Parameters.AddWithValue("Item_rate", txtirate.Text)
            cmd.Parameters.AddWithValue("Item_Ratio", txtiratio.Text)
            cmd.Parameters.AddWithValue("Item_Unit", txtiunit.Text)
            con.Open()
            Dim x As Integer = cmd.ExecuteNonQuery
            MessageBox.Show(x.ToString & "record added succesfully.........")
            con.Close()
            clear1()
        Catch ex As Exception
            MsgBox(ex.Message)
        End Try
    End Sub

    Private Sub cmdexit_Click(ByVal sender As System.Object, ByVal e As System.EventArgs) Handles cmdexit.Click
        Me.Close()
    End Sub

    Private Sub cmdedit_Click(ByVal sender As System.Object, ByVal e As System.EventArgs) Handles cmdedit.Click
        EDIT.MdiParent = MDIParent1
        EDIT.Show()
    End Sub

    Private Sub cmdedit1_Click(ByVal sender As System.Object, ByVal e As System.EventArgs) Handles cmdedit1.Click
        EDIT.MdiParent = MDIParent1
        EDIT.Show()
    End Sub

    Private Sub ADD_Load(ByVal sender As System.Object, ByVal e As System.EventArgs) Handles MyBase.Load
        If con.State = ConnectionState.Open Then
            con.Close()
        End If

        Call numb()
    End Sub
    Public Sub numb()
        Dim cmdcno As New OleDb.OleDbCommand("select * from Customer_Master", con)
        Dim cmdino As New OleDb.OleDbCommand("select * from Item_Master", con)

        con.Open()

        Dim drcno As OleDb.OleDbDataReader = cmdcno.ExecuteReader
        Dim drino As OleDb.OleDbDataReader = cmdino.ExecuteReader

        While drcno.Read
            txtcno.Text = drcno(0)
        End While

        While drino.Read
            txtino.Text = drino(0)
        End While
        txtcno.Text = Val(txtcno.Text) + 1
        txtino.Text = Val(txtino.Text) + 1

        drcno.Close()
        drino.Close()
        con.Close()
    End Sub

    Private Sub txtirate_TextChanged(ByVal sender As System.Object, ByVal e As System.EventArgs) Handles txtirate.TextChanged
        If IsNumeric(txtirate.Text) Or txtirate.Text = "" Then
        Else
            MsgBox("Enter numeric value")
            txtirate.Text = ""
        End If
    End Sub

    Private Sub txttel_TextChanged(ByVal sender As System.Object, ByVal e As System.EventArgs) Handles txttel.TextChanged
        If IsNumeric(txttel.Text) Or txttel.Text = "" Then
        Else
            MsgBox("Enter numeric value")
            txttel.Text = ""
        End If
    End Sub
End Class 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-10T13:45:03.193

根据您的要求，

您可以暂时使用`bringToFront()`增加`z-order`Form 并将其拉到前面。阅读[本文](http://msdn.microsoft.com/en-us/library/system.windows.forms.control.bringtofront.aspx)以清楚了解它。

# css - ASP.NET 网站无法识别在 div 中调用的 css 文件

> ID：14257665
> 
> 赞同：1
> 
> 时间：2013-01-10T12:11:41.407
> 
> 标签：css, html

我遇到了一个非常奇怪的问题。

`div`当我使用s 而不是 a来重建我的登录页面时`table`，我显然添加了`id`一个`div`来调用它`css`。

以下是一些**HTML 代码**作为示例：

```
<div id="divLogin">
    <div id="divLblLogin"><asp:Label ID="lblLogin" runat="server">LOGIN</asp:Label>        
    </div>
</div> 
```

和一些**CSS 代码：**

```
#divLogin
{
    margin-top:10px;
    margin-bottom: 0px;
    margin-left: 28%;
    margin-right: 28%;
    height: 300px;
    border: 2px solid black;
    border-top-left-radius: 10px;
    border-top-right-radius: 10px;
    border-bottom-left-radius: 10px;
    border-bottom-right-radius: 10px;
    font-family: Good Times;
    font-size: xx-large;
}

#divLblLogin
{
    margin-top: 10px;
    margin-left: 25px;
} 
```

问题是，当我从 Visual Studio（本地主机）运行网站时，它似乎是正常的，并且根据我定义的内容（以图形方式）。

但是当我**发布**网站并在网络上运行它时，它只显示没有所有样式的控件（好像根本没有 css 代码）

所以我决定把所有的css`div`写成：

```
<div 
        style="margin-top:10px; margin-bottom: 0px; margin-left: 28%; margin-right: 28%; height: 300px; border: 2px solid black;
        border-top-left-radius: 10px; border-top-right-radius: 10px; border-bottom-left-radius: 10px; border-bottom-right-radius: 10px;
        font-family: Good Times; font-size: xx-large;" 
>
    <div style="margin-top: 10px; margin-left: 25px;"><asp:Label ID="lblLogin" runat="server">LOGIN</asp:Label>
    </div>
</div> 
```

这解决了它，但我不喜欢这个解决方案，因为它几乎不可读。

这是一场战争，无论它是什么，我都必须赢得这个东西，**即如何在不定义 div 本身内部样式的情况下使 css 在 web 上工作？？？**

帮助将不胜感激！

**编辑：**

这是我的 MasterPage，在解决方案资源管理器中包含 css 引用以及文件和文件夹层次结构

![MasterPage 中的文件夹层次结构和 css 参考：](../Images/31e39318563b962831de8ae1dba37fb6.png)

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-01-10T12:13:19.740

在样式表中使用类选择器`.divLogin`而不是您的 ID 选择器`#divLogin`。

请参阅[CSS 选择器](http://www.w3schools.com/cssref/css_selectors.asp)以供参考。

# android - Tab + Swipe View - 无法从片段中的文本文件加载数据

> ID：14257671
> 
> 赞同：1
> 
> 时间：2013-01-10T12:11:55.430
> 
> 标签：android, tabs, fragment, swipe

在这里，TabView 是添加这个特定片段的类。Search 是 MainActivity，它从用户那里获取文件名。assets 文件夹中有一些文本文件。当用户输入名称时，例如 hello，它会连接到 hello.txt 并作为变量存储在 Search 活动中。我使用返回函数得到这个值。所以，主要问题来了。当我尝试从 hello.txt 获取数据时，该应用程序在涉及到这部分时突然关闭.. 我到处搜索！什么也没找到！请帮助..

```
 public class fg1 extends Fragment {

        LinearLayout layout;
        private String file;
        private Search obj;
        private Context mX;
        public View onCreateView(LayoutInflater inflater, ViewGroup container,
                Bundle savedInstanceState) {
            if (container == null) {
                return null;
            }

        layout = (LinearLayout)inflater.inflate(R.layout.fg_code, container, false);
        TextView snippet = (TextView)layout.findViewById(R.id.codeView);

        mX = TabView.getContext();
        AssetManager assetManager = mX.getAssets();
        file = obj.getFileName();
                InputStream input;
            try {
                 input = assetManager.open(file);

                 int size = input.available();
                 byte[] buffer = new byte[size];
                 input.read(buffer);
                 input.close();
                 // byte buffer into a string
                 String text = new String(buffer);
                 snippet.setText(text);

         } catch (IOException e) {
          // TODO Auto-generated catch block
          e.printStackTrace();
         }  
        return layout;
    }
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-13T10:39:36.437

自己找到了答案。对于任何未来的引用，不要从活动中获取数据，而是将数据从承载特定片段的父活动传递给片段（建议使用片段的构造函数）并使用它。

# jquery - 如何将图像添加到文本框自动完成源

> ID：14257677
> 
> 赞同：1
> 
> 时间：2013-01-10T12:12:29.403
> 
> 标签：jquery, asp.net-mvc-3, autocomplete, html.textbox

我正在使用 jquery 自动完成来加载文本框中的值：

```
@Html.TextBox("Cities", "", new { @id="tags" })

<script type="text/javascript">
$(function () {
        var availableTags = [
        "New York",
        "London",
        "Moscow",
        "Paris",
        "Berlin",
        "Madrid",
    ];
    $( "#tags" ).autocomplete({
        source: availableTags
    });
}); 
```

实际上，我有1000多个城市，我打算将它们存储在数据库中并通过模型发送到视图。此外，为了更令人愉悦的外观，我想将国旗添加到我的文本框的下拉列表中，例如：

![在此处输入图像描述](../Images/66b32510975168519afa1b5d244bead5.png)

我该怎么做？如何将图像添加到自动完成源？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-10T12:17:50.277

我在我的解决方案中覆盖了 _renderMenu 函数：

```
 _renderMenu: function( ul, items ) {
    var that = this;
    $.each( items, function( index, item ) {
        that._renderItemData( ul, item )
            .children("a")
            .attr("title", item.value["@tooltip"])
            .prepend("<img class='menu_button_img' src='" + item.value["@icon"] + "' /> ");
    });
}, 
```

对我来说没问题:)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-10T12:18:45.080

你必须编辑你的自动完成源的 html 来添加标志图像，看看这个问题[add image to jQuery UI autocomplete remote source with cache](https://stackoverflow.com/questions/12444110/add-image-to-jquery-ui-autocomplete-remote-source-with-cache)

# iphone - 删除并重新安装 iphone 应用程序后接收本地通知

> ID：14257678
> 
> 赞同：12
> 
> 时间：2013-01-10T12:12:33.840
> 
> 标签：iphone, ios, ios4, uilocalnotification

我`UILocalNotification`在我的项目中使用。我在使用`UILocalNotifications`. 如果我将通知安排为一周，删除应用程序并重新安装，但重新安装的应用程序没有安排通知，我会收到之前安排的时间的通知。

即使当前安装没有安排通知，我也会收到通知。有没有办法取消安排/删除这些通知？

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2013-01-10T12:23:43.277

实际上，当您安排未来的通知时，然后删除应用程序然后重新安装它，在这种情况下，您将收到之前设置的通知。你得到的。

解决方案：

当您打开应用程序时，然后在 AppDelegate 的“didFinishLaunchingWithOptions”方法中，调用以下方法。

```
-(void)removeAllLocalNotification
{
    [[UIApplication sharedApplication] cancelAllLocalNotifications];
} 
```

这样，您将删除所有先前设置的通知。

但是，在做上述事情之前：你需要注意的是，你只需要调用上述方法一次。不是每次应用启动时。

您可以通过以下方式执行此操作：

创建一个 BOOL 变量并将其存储在 NSUserDefault 中。现在，当应用程序打开时，从 NSUserDefault 检查它的值。如果为 FALSE，则调用上述方法并将其值设置为 TRUE 并设置为 NSUserDefault。

现在，当您重新打开应用程序时，您会得到它的值为 TRUE，因此此时您不需要调用上述方法。这样，您当前设置的通知不会被删除。

希望，你得到了所有的东西。

快乐编码。

干杯!

# html - Jquery ui从ui更改中排除某些链接

> ID：14257679
> 
> 赞同：0
> 
> 时间：2013-01-10T12:12:37.550
> 
> 标签：html, jquery-ui, button, anchor

我使用 jquery ui 已经有一段时间了，发现它很有用

有没有办法排除由锚点制作的按钮被更改？

例如：

任何具有类 exclude 的锚点都将具有正常链接

没有类的其他任何东西都是 jquery ui 按钮

我正在使用的 jquery 代码是：

```
 $( 'a,input[type=submit]' ).button(); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-10T13:14:54.070

```
 $( 'a,input[type=submit]' ).not('.exclude').button(); 
```

# c++ - C++ 简单数组元素比较

> ID：14257680
> 
> 赞同：0
> 
> 时间：2013-01-10T12:12:37.290
> 
> 标签：c++, arrays

好的，我不知道这是否是一个有效的问题，但我在这里发帖是因为我不知道还有什么地方可以解决这个问题。这半年我刚开始在大学学习编程，我们刚刚参加了期末考试，但我没有通过。基本上，有 4 个问题，虽然第二个问题看起来很简单，但实际上很棘手，我就是不知道应该怎么做。

基本上问题是：有一家银行，当人们登录做生意时，你需要写一个程序记录他们登录的时间（0-24h），分钟（0-59），交易类型他们选择（1 表示使用银行卡登录，-1 表示使用同一张银行卡注销，2 表示将钱输入帐户，-2 表示取款）最后选择他们的银行账户号码（如果他们按 1 或 - 1 之前），或他们提取或存入的金额（如果他们选择 2 或 -2）。

基本上，我们必须这样做：

```
int n; //size of the array or number of ppl who transacted that day
cin >> n;
int bank[n][4];
for (int i=0; i<n; ++i)
{
  cin >> bank[n][0];
  cin >> bank[n][1];
  cin >> bank[n][2];
  cin >> bank[n][3];
} 
```

这会填满所有信息，然后，

基本上，白天 4 个客户的示例输入看起来像这样：

1.  11 40 1 458965
2.  12 20 2 6000
3.  15 40 -1 458965
4.  16 25 -2 18000

这是我无法解决的部分：

我们的测试问我们：**12点到13:00有多少人登录？**

一开始我是

```
int count=0;
for (int i=0; i<n; ++i)
{
  if (bank[i][0]==12)
{
  count=count+1;
}
}

cout << count; 
```

这样做的问题在于，它不考虑在 12 点之前在第三列中以 1 登录的人，但在 1 点钟之后以 -1 注销的人。这意味着他们仍然从 12 点到 1 点登录。

所以我做了

```
int count=0;
for (int i=0; i<n; ++i)
{
  if (bank[i][0]==12)
  {
    count=count+1;
  }
  if (bank[i][2]==-1)
  {
    count=count+1;
  }
}

cout << count; 
```

但后来我意识到这会将一些登录计数两次，因为如果他们在 12 点登录时使用 1，然后在 3 点用 -1 注销，则该人会被计算两次。

它还询问我们**任何人登录的最长时间是多少，假设银行在 24:00 开始所有人**。老实说，我什至不知道如何开始那个。

编辑：对不起，我编辑了一堆东西以使其更清晰和正确的代码。我不太擅长这个但原谅我的错误

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-10T12:53:22.130

我不知道银行系统是如何运作的。所以我为你做了一个最小的例子。我也不知道你以前是否使用过类，所以我没有写它。

我清理了你的代码：

```
//Use these enums
enum action { action_login = 1, action_logout = -1, action_input = 2, action_output = -2 };
enum information {information_time_h, information_time_m, information_action, information_bankNumber};

//Place this in the function you have
int peapelToInput = 0; //size of the array or number of ppl who transacted that day
cin >> peapelToInput;

for (int i=0; i<peapelToInput; ++i)
{
    //Maby add error handeling? When some one inputs a 'a', it won't do what you want. 
    cin bank[i][information_time_h];
    cin bank[i][information_time_m];
    cin bank[i][information_action];
    cin bank[i][information_bankNumber];
} 
```

如您所见，我通过添加枚举使代码更简洁。这使开发变得容易得多。

登录代码：

```
int count=0;
int bankSize = bank.size(); //I guess it's a vector?
for (int i=0; i < bankSize; ++i)
{
    if (bank[i][information_time_h] == 12 && bank[i][information_action] == action_login)
        count++;
}
cout << "logins at 12:00 - 12:59:" << count << endl; 
```

如果我在他们从 12:00 到 12:59 登录时增加计数，您可以在 1 中进行 2 次检查。您是否需要排除已注销的人？

最长时间码：

```
//A function to search when he is logedout
int findLogoutIndex(int start, int accountNumber, XXX bank)
{
    int bankSize = bank.size();
    for (int i=start; i < bankSize; ++i)
        if( bank[i][information_action] == action_logout && bank[i][information_bankNumber] == accountNumber)
            return i;

    return -1; //Handle this error
}

//And how it workes
int logenst = 0;
int indexLongest = 0;
int bankSize = bank.size(); //I guess it's a vector?
for (int i=0; i < bankSize; ++i)
{
    if( bank[i][information_action] != action_login )
        continue;

    int logoutIndex = findLogoutIndex(i,bank[i][information_bankNumber],bank);
    //check if logoutIndex is not -1, or handle the error on an other way.

    int loginTimeHour = bank[logoutIndex][information_time_h] - bank[i][information_time_h];
    int loginTimeMinute = bank[logoutIndex][information_time_m] - bank[i][information_time_m];   
    int loginTime = (loginTimeHour * 100) + loginTimeMinute;

    if( logenst < loginTime)
    {
        logenst = loginTime;
        indexLongest = i;
    }
}
cout << "longest is: H:" << bank[indexLongest][information_time_h] << " M: " << bank[indexLongest][information_time_m] << endl; 
```

您不需要保留时间格式，这种方式使比较容易得多。只需保存最长登录时间和它的索引号。这样您就可以轻松访问所需的所有数据。

我没有花时间写“好代码”。但是你问它是怎么做到的，我想这已经足够理解了吧？

我没有测试代码，而是用记事本写的。所以我不知道它是否会编译。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-10T13:04:07.440

没有测试过这个。然而，遵循的过程应该是正确的。

我确信这仍然可以在执行速度方面进行优化。

另外，我假设时间 12 表示 12:00，时间 1 表示 13:00。

```
int main()
{
    int answer = 0;
    //  For each transaction
    for ( int i = 0; i < count; i++ ) {

        //  If logged in before 12:00
        //  bank[i][2] > 0 tells you user logged in.
        if ( bank[i][0] < 12 && bank[i][2] > 0 ) {
            //  Loop through each following transaction.
            for ( int j = i + 1; j < count; j++ ) {
                //  If logged out after 13:00
                if ( bank[j][0] > 13 && bank[j][2] < 0 ) {
                    //  Now to check if it was the same user who logged in earlier - how?:
                    //  Only way to differentiate is by comparing the transaction amounts and types.
                    if ( (bank[i][3] == bank[j][3]) && (bank[i][2] == -1*bank[j][2]) ) {    //  log-in code = -1 * log-out code.
                       answer++;    //  Number of transactions that spanned from before 12:00 till after 13:00.
                    //  Remember, a single person can't have multiple log-ins at the same time. ( assumption )
                    }
                }
            }
        }
    }
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-10T12:56:58.950

您需要知道的第一件事是这些问题实际上在问什么。第一种情况，*12点到1点有多少人登录？*可能意味着多种事情。这可能意味着在整个期间有多少人登录，或者在这两个小时之间的任何给定时间有多少人登录。不同之处在于是否计算在 12:15 登录和在 12:30 注销的人。第二个问题是计算某人登录的最长时间，并且可以同时完成。

一种可能的方法是管理从用户 ID 到登录时间的查找表。每当有人登录时，您都会线性地读取输入，您会`(acct, time)`在表中添加一个条目。当他们注销时，您查找帐号并计算时间差。如果差值大于最大值，则存储新的最大值。

对于第一个问题，您可以在 12 处创建一组从该查找表登录的人员。每当有人在该时间和 1 之间注销时，您会发现该人是否在集合中，如果是，则将其删除。当您找到 1 之后的第一个操作时，该集合包含从 12 到 1 整个期间登录的所有人员的帐号。

如果问题是让所有在该期间的*任何*时间登录的人，而不是从集合中删除那些在 1 之前注销的用户，您需要包括在该期间内登录的新用户。在周期结束时，该集合包含在该周期内任何时间登录的所有用户。

您只需要对输入数据执行一次传递，这意味着您甚至不需要将所有事务存储在内存中，只需要上面需要的映射/集。操作的总成本`O(n log n)`取决于操作的数量。（免责声明：我没有做数学，这是一个预感:)）

# php - 显示来自在 html 中嵌入 php 的服务器的图像

> ID：14257682
> 
> 赞同：1
> 
> 时间：2013-01-10T12:12:38.023
> 
> 标签：php, html, image

```
echo "<img src=\"images/" . $row['filename'] . "\" alt=\"\" /><br />"; 
```

我如何在 html 中嵌入 PHP 代码。我在服务器中有图像文件夹，我想在其中显示图像。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-10T12:18:23.953

你也可以试试这个：

```
<img src="<?php echo $row['filename'];?>"/><br/> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-10T12:14:52.577

有什么问题？

但是你的文件必须是 .php 然后插入到 html 中。

```
<?php echo "<img src=\"images/" . $row['filename'] . "\" alt=\"\" /><br />"; ?> 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-10T12:23:14.493

你可以试试这个：

```
<img src="images/<?php print $row['filename'];?>" alt="" /><br /> 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-10T12:14:54.237

尝试这个-

```
echo "<img src='images". $row['filename']."'  alt=''/><br />"; 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-01-10T12:35:08.093

您也可以将 PHP 嵌入到 HTML 中，也可以将 HTML 嵌入到您的 PHP 中。两种方法都有效。但是，首选是在 HTML 中嵌入 PHP。原因是：

1) PHP 解析器解析每一个 PHP 代码。

2) 所以，如果我们用 PHP 编写了 HTML 代码，它会解析代码。

3）因此解析器的负载会更多。

4）其中，HTML标签（代码）直接显示在浏览器上（无需任何解析）

因此，始终将 PHP 嵌入 HTML 会更好。

谢谢。

# mysql - MySQL：插入具有相同 AI 值的多行

> ID：14257683
> 
> 赞同：0
> 
> 时间：2013-01-10T12:12:48.237
> 
> 标签：mysql, innodb, auto-increment

假设这是我的桌子：

```
CREATE TABLE tab (
    id INT AUTO_INCREMENT NOT NULL,
    val VARCHAR(9),
    KEY(id),
    PRIMARY KEY (xx)
); 
```

是否可以同时插入多行以使它们都获得相同的自动增量值？

以下内容有效，但会增加每个新行，而不管我们正在执行单个查询的事实。

```
INSERT INTO tab (id,val) VALUES (LAST_INSERT_ID(),'a'), (LAST_INSERT_ID(),'b'); 
```

我如何确保他们都在单个查询中收到相同的自动递增 ID？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-10T12:17:00.327

您需要将第一个 AI 值保留在变量中，并将其传递给不同对的 INSERT 查询

# python - 如何使用 Python 在 Linux 下查看新创建或更改的文件的 nfs 挂载目录？

> ID：14257688
> 
> 赞同：1
> 
> 时间：2013-01-10T12:13:04.823
> 
> 标签：python, triggers, nfs, watch

我现在可以访问的服务器上有一个目录，但 nfs-mounts 除外。我通过 nfs 将目录挂载到本地 linux 系统中。新文件到达目录，一些旧文件可能会通过服务器上的其他进程进行更新。

我想编写一个 Python 脚本，该脚本在创建或更改此类文件时立即生效。我知道可以使用 inotify （或旧版本中的 dnotify ）使用 Linux 和 Python 观看本地目录。但是，这些似乎不适用于远程安装的卷。

我有哪些选择，或者是否已经实施了解决方案？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-10T12:28:17.150

你可以试试[FAM](http://oss.sgi.com/projects/fam/index.html)。

FAM 可以提供 RPC 服务来监控远程文件（如挂载的 NFS 文件系统）。

# video - 带有嵌入播放/暂停控件的 MediaElement？

> ID：14257695
> 
> 赞同：0
> 
> 时间：2013-01-10T12:13:21.797
> 
> 标签：video, windows-8, mpmovieplayercontroller

Microsoft 展示了一个[播放 MediaElements 的示例，](http://msdn.microsoft.com/en-us/library/ms748248.aspx)但定义了一组带有布局的控件。有没有嵌入视频控制器的方法（或控制器）？（暂停/播放/前进到某个时间点）

我正在寻找适用于 iOS 但适用于 Windows 的 MPMoviePlayer（[我在 Microsoft 提供的这个 API 映射资源中没有找到它](http://apimappingsite.cloudapp.net/library?source=iOS#iOS-iOS-MediaPlayer_framework)）。有没有？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-10T14:05:47.607

查看播放器框架：

*   [http://playerframework.codeplex.com/](http://playerframework.codeplex.com/)
*   [http://programmerpayback.com/2012/06/01/microsoft-media-platform-player-framework-for-windows-8-release-preview/](http://programmerpayback.com/2012/06/01/microsoft-media-platform-player-framework-for-windows-8-release-preview/)

# javascript - 任何已建立的方便的 JavaScript 回调编写样式？

> ID：14257696
> 
> 赞同：1
> 
> 时间：2013-01-10T12:13:21.313
> 
> 标签：javascript, node.js, syntax, coding-style, callback

回调越来越成为编码中的一项要求，尤其是当您考虑`Node.JS`非阻塞工作方式时。但是写很多*协程回调*很快就会变得难以回读。

例如，想象像这样[的末日金字塔](http://calculist.org/blog/2011/12/14/why-coroutines-wont-work-on-the-web/)：

```
// This asynchronous coding style is really annoying. Anyone invented a better way yet?
// Count, remove, re-count (verify) and log.
col.count(quertFilter,          function(err, countFiltered) {
    col.count(queryCached,      function(err, countCached) {
        col.remove(query,       function(err) {
            col.count(queryAll, function(err, countTotal) {
                util.log(util.format('MongoDB cleanup: %d filtered and %d cached records removed. %d last-minute records left.', countFiltered, countCached, countTotal));
            });
        });
    });
}); 
```

是我们经常看到的东西，而且很容易变得更复杂。

当每个函数至少长几行时，分离函数开始变得可行：

```
// Imagine something more complex

function mary(data, pictures) {
    // Do something drastic
}

// I want to do mary(), but I need to write how before actually starting.

function nana(callback, cbFinal) {
    // Get stuff from database or something
    callback(nene, cbFinal, data);
}

function nene(callback, cbFinal, data) {
    // Do stuff with data
    callback(nini, cbFinal, data);
}

function nini(callback, data) {
    // Look up pictures of Jeff Atwood
    callback(data, pictures);
}

// I start here, so this story doesn't read like a book even if it's quite straightforward.

nana(nene, mary); 
```

但是一直有很多路过的 vars 发生。在中间编写其他函数时，这变得难以阅读。这些功能本身可能太微不足道，无法证明给他们自己的文件是合理的。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-01-10T13:54:40.383

使用异步流控制库，例如[`async`](https://github.com/caolan/async). 它提供了一种简洁的方式来构建需要多个异步调用的代码，同时保持它们之间存在的任何依赖关系（如果有的话）。

在您的示例中，您将执行以下操作：

```
async.series([
    function(callback) { col.count(queryFilter, callback); },
    function(callback) { col.count(queryCached, callback); },
    function(callback) { col.remove(query, callback); },
    function(callback) { col.count(queryAll, callback); }
], function (err, results) {
    if (!err) {
        util.log(util.format('MongoDB cleanup: %d filtered and %d cached records removed. %d last-minute records left.', 
            results[0], results[1], results[3]));
    }  
}); 
```

这将依次执行每个功能；一旦第一个调用它的回调，第二个被调用，依此类推。但是您也可以使用`parallel`or`waterfall`或任何与您正在寻找的流程相匹配的流程。我发现它比使用 Promise 干净得多。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2013-01-10T12:30:21.340

回调的另一种方法是承诺。

示例：jQuery Ajax。这个可能看起来很熟悉。

```
$.ajax({
  url: '/foo',
  success: function() {
      alert('bar');
  }  
}); 
```

但是 $.ajax 也返回一个承诺。

```
var request = $.ajax({
  url: '/foo'
});

request.done(function() {
    alert('bar');
}); 
```

一个好处是，您可以模拟同步行为，因为您可以使用返回的 Promise 而不是提供对 $.ajax.success 的回调以及对回调和回调的回调...。另一个优点是，您可以链接 /聚合承诺，如果你愿意，可以为一个承诺聚合提供错误处理程序。

我发现[这篇文章](http://sporto.github.com/blog/2012/12/09/callbacks-listeners-promises/)非常有用。它描述了回调、承诺和其他技术的优缺点。

一个流行的实现（例如 AngularJS iirc 使用）是[Q](https://github.com/kriskowal/q)。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-01-15T13:41:45.990

综合答案和文章。请编辑此答案并以简单的方式添加库/示例/文档 URL，以使每个人都受益。

**Promise 文档**

*   [带有 Promise 的异步控制流](http://howtonode.org/promises)
*   [jQuery 延迟](http://sitr.us/2012/07/31/promise-pipelines-in-javascript.html)

**异步库**

*   [异步.js](https://github.com/caolan/async)

    ```
    async.waterfall([
        function(){ // ... },
        function(){ // ... }
    ], callback); 
    ```

*   [节点纤维](https://npmjs.org/package/fibers)

*   [步](https://github.com/creationix/step)

    ```
    Step(
        function func1() {
            // ...
            return value
        },
        function func2(err, value) {
            // ...
            return value
        },
        function funcFinal(err, value) {
            if (err) throw err;
        // ...
        }
    ); 
    ```

*   [问](https://github.com/kriskowal/q/)

    ```
    Q.fcall(func1)
        .then(func2)
        .then(func3)
        .then(funcSucces, funcError) 
    ```

    *   [API 参考](https://github.com/kriskowal/q/wiki/API-Reference)
    *   [模式示例](https://github.com/kriskowal/q/wiki/Examples-Gallery)
    *   [更多文档](https://npmjs.org/package/q)

# c# - 通过带有 params 关键字的 GET 将多个参数传递给 MVC 控制器操作

> ID：14257697
> 
> 赞同：4
> 
> 时间：2013-01-10T12:13:29.853
> 
> 标签：c#, asp.net-mvc, params, actionmethod

有没有办法通过使用 params 关键字将多个参数传递给带有 GET 的操作方法，如下所示？

```
http://.../Method/param1/param2/param3/..../paramN 
```

动作方法应如下：

```
public ActionResult Method(params string[] parameters)
{
//Do what ever.
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-10T12:25:51.697

如果你需要这个来进行 url 路由，你可以使用这样的东西：

```
routes.MapRoute("Name", "param/{*params}", new { controller = ..., action = ... });

ActionResult MyAction(string params) {
    foreach(string param in params.Split("/")) {
        ...
    }
} 
```

# javascript - 使用 jquery ajax 的多部分/表单数据

> ID：14257699
> 
> 赞同：0
> 
> 时间：2013-01-10T12:13:37.670
> 
> 标签：javascript, jquery, html, ajax

我有以下表格，

```
<form action="localhost/xyz.aspx" method = "post" enctype="multipart/form-data">
     <input type="text" name="name">
     <input type="text" name="age">
     <input type="text" name="submit">
</form> 
```

我的要求是使用`AJAX & jQuery`和不使用在 html 中明确添加的表单标签来完成操作。

TIA

# 更新1

我努力了

```
function onButtonClicked()
{
    $.ajax({
        type: 'POST',
        url: "xyz.aspx",
        data : {"name" : "john", "age" : "22"},
        crossDomain : true,
        beforeSend: function (x) {
            if (x && x.overrideMimeType) {
                x.overrideMimeType("multipart/form-data");
            }
        },
        success: function(data){
            alert("Success");
        },
        error: function(data){
            alert("on start process error");
        }
    });
}

    sample.html
   <html>
       <body>
            <input type="button" onclick = "onButtonClicked()">
       </body>
   </html> 
```

它返回不支持的媒体类型 415。

我想使用 ajax 发送表单数据

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-10T13:27:27.023

您可以选择单个输入并在数组中使用它们来发布。这种方式不需要包装器：

```
// Click button with ID #submit
$("button#submit").click(function () {
    // Send to submit.php
    $.post("submit.php", {
        // Send these values via POST
        val1: $("#val1").val(), // Get value from input #val1
        val2: $("#val2").val()  // Get value from input #val2
    }, function(result){
        // Output result to #output element
        $('#output').html(result);
    });
}); 
```

# sql - SQL Server 2012 上的 Delphi 7 BDE

> ID：14257701
> 
> 赞同：0
> 
> 时间：2013-01-10T12:13:42.683
> 
> 标签：sql, sql-server-2005, delphi-7, sql-server-2012, bde

进进出出搜索网络并找不到正确的信息，我们有一个使用 Delphi 7 和 BDE 连接到 SQL Server 2005 的旧设置。

现在我们计划迁移到 SQL Server 2012，它可能工作的可能性有多大？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-10T00:55:08.627

如果您使用的是 SQL Links MSSQL 驱动程序，则无法以 SQL Server 2012 为目标。我能够将 SQL 链接与比 SQL Server 2000 更新的任何东西一起使用的唯一方法是将数据库兼容性级别设置为“SQL Server 2000 (80)”。这在 SQL Server 2012 中是不可能的。此版本中可用的最早兼容级别是“SQL Server 2005 (90)”。

SQL 链接将向服务器发送无效的 SQL，例如外连接的“*=”语法。为 SQL Server 2005 及更高版本设置的数据库将不接受此语法。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-09-15T22:46:12.557

我们一直在通过 Delphi 7 ADO 数据控制组件（例如 TAdoQuery、TAdoCommand）将 Delphi 7 与 SQL Server 2012 一起使用，没有出现重大问题。存储过程也可以正常工作，并且可以通过 ADO 命令对象 (TAdoCommand) 调用函数。

我们使用 SQL Server 2012 附带的 SQL Server Native Client 11.0 ODBC 驱动程序。Delphi 只是将其视为另一个 ODBC 数据接口。从表面上看，它看起来很像在 Delphi 7 中使用 MS Access（通过 ADO 组件和 Access OLE 驱动程序）。SQL Server 2012 的任何服务包也没有问题。（抱歉，我不记得 2012 年发布了哪些 SP，但我们没有这些 SP 的差异，我们对此进行了测试）。

大多数开发是在 Windows 7 64 位操作系统上完成的，并在相同的以及 64 位的 Windows Server 2008 和 2008R2 上执行。执行 Delphi 编译的可执行文件（显然都是 32 位）不需要特殊设置。

如果您使用 ODBC“别名”，请务必使用 32 位 ODBC DSN，而不是 64 位 ODBC DSN。64 位 ODBC 管理器是 64 位 Windows 的控制面板\管理工具中的一个 - 不要在这里使用它。在 Windows 的 SysWOW64 中使用 32 位 ODBC 管理器：C:\Windows\SysWOW64\odbcad32.exe。64 位 ODBC DSN 位于与 32 位 DSN 不同的空间中。Delphi 7 是一个 32 位应用程序，无法访问 64 位 DSN（我猜是不同的 API）。

我们可能还遇到了 SQL 语句中的注释问题。我认为行注释（“--”）不起作用，但多行注释起作用（“/ *...* /”）。

请注意，虽然 BDE 由 Corel 保留（至今仍以 Paradox Runtime 的形式分发；但是，该引擎已冻结，并且在现代 Windows 操作系统中确实存在一些问题），但不需要访问 SQL Server 数据。我们直接通过 Windows ODBC API 使用 ODBC 别名（我们在 Delphi 中编写了包装器以简化此操作）。但是，您仍然可以将 BDE 用作这些 ODBC DSN 别名的接口。如果您根本不使用别名（并且在源代码中不包含对 DbTables.pas 的任何引用），则根本不需要 BDE。DbTables.pas 总是在初始化其 INTIALIZATION 块中的全局 Sessions 变量时初始化 BDE。您可以在 DbTables.pas 源代码单元的底部看到这一点。没有这个单元，BDE 就不会被初始化或使用。

另一个技巧是使用 MS Access 数据库和链接表来连接 SQL Server 和 Paradox 数据表，如果您仍然需要使用 BDE-native（即 Paradox）表。但有时 Access 和 BDE 不能很好地配合使用。

我敢肯定，迁移已经完成了很长时间，但万一其他人也在寻找相同的答案。旧版软件有一种习惯...

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2014-10-27T17:16:31.617

我们已经成功地将 BDE 与 SQL Server 2008R2 结合使用。无特殊配置。

编辑：我今天在 SQL Server 2014 上也取得了初步成功。有限的测试，但到目前为止一切都很好！

格雷格

# lwuit - 即使应用资源，表单背景颜色仍为空白

> ID：14257703
> 
> 赞同：0
> 
> 时间：2013-01-10T12:13:47.803
> 
> 标签：lwuit, lwuit-form

我在 src 文件夹内的资源编辑器文件中使用主题来设置表单的背景颜色，但在运行时表单的背景颜色仍然是空白的！这是代码：

```
public class Saisie extends Form implements ActionListener {
...
public Resources r;
public Hashtable tTheme;
...
public Saisie(MIDlet midlet)
{
    super("Saisie situation");
try {
        r = Resources.open("/resources.res");
        tTheme = r.getTheme("Theme");
        UIManager.getInstance().setThemeProps(tTheme);
    } catch (IOException ex) {
    }
    ...
}
...
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-10T13:39:19.830

检查您是否将背景透明度设置为 255。如果您在创建表单后进行此更改，请确保刷新它。

# android - 在 android 应用程序中使用 facebook、twitter 登录和注销

> ID：14257705
> 
> 赞同：1
> 
> 时间：2013-01-10T12:13:53.367
> 
> 标签：android, facebook, facebook-graph-api

在我的 android 应用程序中，我有两个按钮“使用 facebook 登录”和“使用 twitter 登录”。

## 用脸书登录

```
 var my_client_id = "123412312323", 
        my_redirect_uri = "http://www.facebook.com/connect/login_success.html", 
        my_type = "user_agent", 
        my_display = "touch"

        var authorize_url = "https://m.facebook.com/dialog/oauth?";
        authorize_url += "client_id=" + my_client_id;
        authorize_url += "&redirect_uri=" + my_redirect_uri;
        authorize_url += "&display=" + my_display;
        authorize_url += "&scope=publish_stream,offline_access";
        authorize_url += "&response_type=token"; 
        window.plugins.childBrowser.showWebPage(authorize_url); 
```

**使用上面的 url 和子浏览器，我要求用户登录 Facebook。**

**使用子浏览器的位置更改方法，我正在从重定向 url 访问 Facebook 令牌。**

我的应用程序中有注销按钮，我需要从 facebook 注销，

在注销方法中，我有以下 facebook java 脚本代码

```
FB.logout(function(response) {
  alert(response.text);
}); 
```

但是，我收到错误说**FB.logout() 在没有访问令牌的情况下调用**

我在下面看到堆栈溢出问题

[第一季度](https://stackoverflow.com/questions/8430474/fb-logout-called-without-an-access-token)

[第二季度](https://stackoverflow.com/questions/10744892/fb-logout-no-access-token-log-in-as-different-user)

FB.logout() 仅在我使用 FB.login 登录 facebook 时才有效，不是吗？

那么，如何在我的应用程序中从 Facebook 注销？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-09T05:20:23.770

如上所示，我使用子浏览器登录facebook，注销我使用相同的子浏览器注销facebook。

```
 child_browser = window.plugins.childBrowser;
    child_browser.onLocationChange = function(loc){
        if (loc.indexOf("http://www.example.com") > -1) {
            window.plugins.childBrowser.close();
        }
    };
    child_browser.showWebPage("https://www.facebook.com/logout.php?next=http://www.example.com&access_token="+facebook_token); 
```

# c++ - 通过重载 = 运算符从 std::string 创建 String 对象

> ID：14257708
> 
> 赞同：0
> 
> 时间：2013-01-10T12:14:10.200
> 
> 标签：c++, xcode, string, gcc, operator-overloading

我尝试了几个选项，但我的编译器没有选择运算符重载或其他错误。我正在使用 XCode 4.5.2 和默认的 Apple LLVM 编译器 4.1。

我得到的错误是这样的：`Assigning to 'cocos2d::CCString *' from incompatible type 'const char [5]'`

在这些线上：

```
CCString *s_piece__locks = "TEST";
cocos2d::CCString *s_piece__locks2 = "TEST"; 
```

我的 .h 代码：

```
CCString& operator= (const std::string& str);
//    CCString& operator= (const char* str);  // this doesn't work either
const CCString& operator = (const char *); 
```

我的 .cpp 代码（即使这无关紧要）：

```
CCString& CCString::operator= (const std::string& str)
{
    m_sString = CCString::create(str)->m_sString;
    return *this;
}

const CCString& CCString :: operator = (const char* str)
{
    m_sString = CCString::create(str)->m_sString;
    return *this;
} 
```

非常感谢您的帮助，谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-10T12:24:20.267

错误消息`Assigning to 'cocos2d::CCString *' from incompatible type 'const char [5]'`表明您正在将 char 数组分配给指向`cocos2d::CCString`.

这应该有效：

```
char bar[] = "ABCD";
cocos2d::CCString foo;
foo = bar; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-10T13:00:23.310

```
CCString *s_piece__locks = "TEST";
cocos2d::CCString *s_piece__locks2 = "TEST"; 
```

这到底是要做什么？声明指针不会生成除指针本身之外的任何对象。所以基本上，为了“工作”，周围已经需要另一个`CCString`对象，它恰好代表字符串“TEST”。但是即使给出了，C++ 怎么知道指向哪一个呢？它需要`"TEST"`在某种类型的例如哈希映射中查找。

这些都没有任何意义。将您的代码更改为

*   直接使用栈上的对象：

    ```
    cocos2d::CCString s_piece;
    s_piece = "TEST"; 
    ```

*   将新内容分配给驻留在其他地方的对象。您通常会为此使用*参考*，例如

    ```
    void assign_test_to(cocos2d::CCString& target) {
      target = "TEST";
    } 
    ```

    也可以用指针

    ```
    void assign_test_to_ptr(cocos2d::CCString* target) {
      *target = "TEST";
    } 
    ```

    但除非你有特定的理由，否则不要这样做。

原则上，还有另一种可能性：

```
cocos2d::CCString* s_piece_locks = new CCString;
*s_piece_locks = "TEST"; 
```

但是您要避免这种情况，因为它很容易导致内存泄漏。没关系的是

```
std::unique_ptr<cocos2d::CCString> s_piece_locks = new CCString;
*s_piece_locks = "TEST"; 
```

# javascript - 推送不是函数 JavaScript 错误

> ID：14257709
> 
> 赞同：7
> 
> 时间：2013-01-10T12:14:23.637
> 
> 标签：javascript

在下面的代码中，我收到“推送不是函数”错误。谁能让我知道我在这里做错了什么？我正在尝试在 Javascript 中创建二维数组。

```
var myArray = new Array(4);
myArray = ["0","0","0","0"];

for (var i=0; i<myArray.length; i++) {
    myArray[i].push("ID");
    myArray[i] = new Array(1);
    for (var j=0; j<myArray[i].length; i++) {
        myArray[i][j].push("Array[j]");
    }
} 
```

Firebug 指向我：

```
myArray[i].push("ID"); 
```

对于这一行，我收到“TypeError：myArray[i].push 不是函数”

它应该看起来像的最终数组是：

```
[ID,"SomeValue1"],
[ID,"SomeValue2"],
[ID,"SomeValue3"] 
```

而且我不能硬编码，我需要根据数据库中的数据动态创建它

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-01-10T12:18:44.870

```
myArray[i].push("ID"); 
```

当然是无效的，因为它是`Array`为非它的元素定义的函数。

有效的语法是

```
myArray.push("ID"); 
```

要了解更多信息，`array.push()`请访问[此处](http://www.w3schools.com/jsref/jsref_push.asp)。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2013-01-10T12:30:24.187

这将创建您的示例。

```
var myArray = new Array(4);
for (var i = 0; i < myArray.length; i++) {
  myArray[i] = ["ID", "SomeValue" + (i+1)];
} 
```

但是如果您需要从数据库中设置数据，那么在 Javascript 中是如何设置的呢？如果它在不同的数组中，您可以执行以下操作：

```
var dbArray = ["SomeValue1", "SomeValue2", "SomeValue3"];

var myArray = new Array(dbArray.length);
for (var i = 0; i < myArray.length; i++) {
  myArray[i] = ["ID", dbArray[i]];
} 
```

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2013-01-10T12:18:01.640

首先，您可以使用 Array Literal 初始化 Array `[]`，这应该始终是首选

然后`push`是一个数组方法。所以你必须在一个数组上调用它

`myArray[i]`是数组的元素，`myArray`数组

```
var arr = [];

for (var i = 0; i  < 5;i++) {
  arr.push = []; //Uses the Arrays push method
  for ( var j = 0; j < 5; j++)
    arr[i][j] = "Asd"; //Sets an Element
}
  console.log(arr); 
```

正如您所见，不需要“暗淡”一个数组，您只需将一个数组分配给一个变量并开始将元素推入其中。

正如您在示例中看到的，第一次

`push`紧随其后`arr`，它的 Arrays 方法并将新元素附加到 Array

在第二个示例中，它访问元素并直接为其赋值

* * *

您在代码中所做的是尝试在 Elements Array 上调用 push 方法

假设`i`是`0`那么

'myArray[i]' 是`"0"`并且字符串`"0"`没有方法推送。

但是您可以直接将新的字符串分配给 Element 之类的。

`myArray[i] = "ID"`

# arrays - 珀尔。While 循环行为随着看似无关紧要的命令添加而改变

> ID：14257712
> 
> 赞同：-1
> 
> 时间：2013-01-10T12:14:32.010
> 
> 标签：arrays, perl, for-loop, while-loop

以下代码读取包含多行的文件。该文件的某些行包含四个元素。其他行仅包含第一个元素，后跟由制表符分隔的单个空格（它是制表符分隔的文件）。也就是说，有些行是“满的”，有些是“空白的”。

这个脚本的重点是读取数据文件，找到一个空行的实例，然后记住前一行（整行），滚动查找所有连续的空行，直到到达下一个整行。这组行，连续的空白行，其两侧是紧接在前面的完整行和紧接在后面的完整行，将由将应用线性插值以“填充”空白行的子程序使用。每组两侧的实线中的信息将用于插值步骤。该脚本是对先前发布的问题的回答，由用户 @Kenosis 提供。它在这里被复制了，但它的布局有一些非常小的变化——不像@Kenosis 最初提议的那样整洁。[您可以在Perl](https://stackoverflow.com/questions/14245511/perl-using-until-function#comment19786574_14245511)中看到这种交互。[使用直到函数](https://stackoverflow.com/questions/14245511/perl-using-until-function#comment19786574_14245511)

```
#!/usr/bin/perl
use strict; use warnings;

die "usage: [ map positions file post SAS ]\n\n" unless @ARGV == 1;

my $mapfile = $ARGV[ 0 ];

open( my $FILE, "<$mapfile" );

my @file = <$FILE>;

for ( my $i = 1 ; $i < $#file ; $i++ ) #  $#file returns the index of the last element in @file
    {
     if ( $file[$i] =~ /(?:\t\s){3}/ ) # if a blank line is found
        {
         print $file[ $i - 1 ];    # print preceding line

         while ( $file[$i] =~ /(?:\t\s){3}/ and $i < $#file ) # keep printing so long as they are blank
                                                          # or end of file
             {
              #print $file[ $i++ ]    # one-column, blank line
             }

         print $file[ $i ];           # print the succeeding full line

       } # if

    } # for 
```

当我尝试插入修改时，问题就来了。

```
my @collect = (); # array collects a current set of consecutive lines needed for linear interpolation

my @file = <$FILE>;

for ( my $i = 1 ; $i < $#file ; $i++ ) #  $#file returns the index of the last element in @file
    {
     if ( $file[$i] =~ /(?:\t\s){3}/ ) # if a blank line is found
        {
         print $file[ $i - 1 ];    # print preceding line
         push( @collect, $file[ $i - 1 ] );

         while ( $file[$i] =~ /(?:\t\s){3}/ and $i < $#file ) # keep printing so long as they are blank
                                                          # or end of file
             {
              #print $file[ $i++ ];    # one-column, blank line
              push( @collect, $file[ $i++ ] )
             }

         print $file[ $i ];           # else, succeeding full line
         push( @collect, $file[ $i ] );

       } # if

    } # for 
```

罪魁祸首在while循环中。在此处添加`push`命令会更改脚本的行为。该脚本不再像上面的第一个脚本那样打印所有行。为什么添加该命令会改变脚本的工作方式？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-10T12:17:50.543

你想在那条`push`线上做什么？

它包括表达式`$i++`，它将 的值加 1 `$1`，因此该循环的每次迭代`while`都将跳转到文件中的另一行。

你的意思是`$i + 1`？

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-10T12:17:50.853

您是否真的添加了第二行递增的代码`$i`？ `$i += 1`不一样`$i += 2`

# python - Python BeautifulSoup：通配符属性/id 搜索

> ID：14257717
> 
> 赞同：35
> 
> 时间：2013-01-10T12:14:57.767
> 
> 标签：python, beautifulsoup

我有这个：

```
dates = soup.findAll("div", {"id" : "date"}) 
```

但是，我需要 id 作为通配符搜索，因为`id`can`date_1`等`date_2`。

* * *

## 回答 #1

> 赞同：80
> 
> 时间：2013-01-10T12:16:20.390

您可以提供一个可调用对象作为过滤器：

```
dates = soup.findAll("div", {"id" : lambda L: L and L.startswith('date')}) 
```

或者正如@DSM 指出的那样

```
dates = soup.findAll("div", {"id" : re.compile('date.*')}) 
```

因为 BeautifulSoup 将识别 RegExp 对象并调用其`.match()`方法。

# javascript - jQuery获取上下文？

> ID：14257720
> 
> 赞同：3
> 
> 时间：2013-01-10T12:15:11.803
> 
> 标签：javascript, jquery

有这个代码：

```
 $(".toggle", '.Div1').on('click',function () 
  {
   alert("I was clicked becuase im .toggle is under the context of _________");
  }); 
```

我需要获取`$(this)`值所在的上下文。

我怎样才能得到 的价值 `_______`？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-10T12:24:44.363

这是不可能的。Event 对象不包含对用于绑定它的 jQuery 对象的任何引用。

# iphone - 无法使用 iOS 将数据插入 sqlite3 数据库

> ID：14257721
> 
> 赞同：2
> 
> 时间：2013-01-10T12:15:13.233
> 
> 标签：iphone, ios, objective-c, ipad, sqlite

使用`MacOS`终端我创建了一个数据库名称数据库。`sql`并插入了一些记录。使用`iOS`我可以检索插入的值。

但是使用`iOS`代码我尝试将记录插入数据库并且它没有在数据库中输入记录。

我应该设置需要设置一些权限吗？这是我的代码：

```
- (void)viewDidLoad
{
    [super viewDidLoad];
    [self openDB];
}

-(IBAction)save:(id)sender{

    [self insertRecordIntoTableNamed:@"Contacts" 
                         field1Value:fname.text
                         field2Value:lname.text
                         field3Value:comp.text 
                         field4Value:email.text 
                         field5Value:pnumber.text 
                         field6Value:mnumber.text 
                         field7Value:add.text 
                         field8Value:city.text 
                         field9Value:state.text];
}

-(void)openDB{
    NSString *sqlfile=[[NSBundle mainBundle]pathForResource:@"database" ofType:@"sql"];

    if(sqlite3_open([sqlfile UTF8String], &db)!= SQLITE_OK){
        sqlite3_close(db);
        NSLog(@"Database connected");
        NSAssert(0,@"Database failed to open");
    }
    else
    {
        NSLog(@"Database connected");
    }
}

-(void) insertRecordIntoTableNamed:(NSString *) tableName
                       field1Value:(NSString *) field1Value
                       field2Value:(NSString *) field2Value
                       field3Value:(NSString *) field3Value
                       field4Value:(NSString *) field4Value
                       field5Value:(NSString *) field5Value
                       field6Value:(NSString *) field6Value
                       field7Value:(NSString *) field7Value
                       field8Value:(NSString *) field8Value
                       field9Value:(NSString *) field9Value {

    NSString *sql = [NSString stringWithFormat:@"INSERT INTO %@ VALUES ('%@','%@','%@','%@',%@,%@,'%@','%@','%@');",tableName, field1Value, field2Value,field3Value,field4Value,field5Value,field6Value,field7Value ,field8Value,field9Value];

    NSLog(@"%@",sql);

    // char *err;
    sqlite3_stmt *statement;
    if (sqlite3_prepare_v2(db, [sql UTF8String], -1, &statement, nil)== SQLITE_OK)
    {
        if (SQLITE_DONE!=sqlite3_step(statement))
        {
            sqlite3_close(db);
            NSAssert(0, @"Error updating table.");
        }
        else{
            NSLog(@"Success");
            NSLog(@"%@",sql);
        }
    }
    sqlite3_finalize(statement);
}

@end 
```

这是我所做的：

1.  使用 CHMOD 更改文件夹和路径权限

2.  拆分`sqlite3_exec()`成`sqlite3_prepare()`，`sqlite3_step()`并且`sqlite3_finalize()`-我得到相同的输出-创建了查询，但未在数据库中创建记录

3.  我能够检索记录信息

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-10T12:41:40.510

您不能写入资源包中的数据库。您需要复制它然后使用它。

这是我已成功用于执行此操作的一些代码（密钥是 ensureDatabasePrepared，它是从资源中复制的）：

```
- (BOOL)ensureDatabaseOpen: (NSError **)error
{
    // already created db connection
    if (_contactDb != nil)
    {
        return YES;
    }

    NSLog(@">> ContactManager::ensureDatabaseOpen");    
    if (![self ensureDatabasePrepared:error])
    {
        return NO;
    }

    const char *dbpath = [_dbPath UTF8String]; 
    if (sqlite3_open(dbpath, &_contactDb) != SQLITE_OK &&
        error != nil)
    {
        *error = [[[NSError alloc] initWithDomain:@"ContactsManager" code:1000 userInfo:nil] autorelease];
        return NO;
    }

   NSLog(@"opened");

    return YES;
}

- (BOOL)ensureDatabasePrepared: (NSError **)error
{
    // already prepared
    if ((_dbPath != nil) &&
        ([[NSFileManager defaultManager] fileExistsAtPath:_dbPath]))
    {
        return YES;
    }

    // db in main bundle - cant edit.  copy to library if !exist
    NSString *dbTemplatePath = [[NSBundle mainBundle] pathForResource:@"contacts" ofType:@"db"];
    NSLog(@"%@", dbTemplatePath);

    NSString *libraryPath = [NSSearchPathForDirectoriesInDomains(NSLibraryDirectory, NSUserDomainMask, YES) lastObject];
    _dbPath = [libraryPath stringByAppendingPathComponent:@"contacts.db"];

    NSLog(@"dbPath: %@", _dbPath);

    // copy db from template to library
    if (![[NSFileManager defaultManager] fileExistsAtPath:_dbPath])
    {
        NSLog(@"db not exists");
        NSError *error = nil;
        if (![[NSFileManager defaultManager] copyItemAtPath:dbTemplatePath toPath:_dbPath error:&error])
        {
            return NO;
        }

        NSLog(@"copied");
    }    

    return YES;    
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-10T12:41:29.080

如果您仅通过发布的代码与数据库交互 - 您缺少 sqlite3_close。很可能更改没有刷新到磁盘上

# debugging - 如何告诉英特尔调试器运行哪个程序以及在命令行中使用哪些参数？

> ID：14257723
> 
> 赞同：0
> 
> 时间：2013-01-10T12:15:16.697
> 
> 标签：debugging, intel

我是 Intel Debugger（现在是 Ubuntu 12.10 中的 13.0 版）的普通用户。我通常从 GUI 本身加载要调试的可执行文件及其参数，但我试图找到一种方法从命令行将该信息传递给调试器。也许我忽略了一些东西，但我没有在手册中看到这样做的方法。

实际启动 GUI 调用的 shell 脚本： java -jar $INSTALLDIR/debugger/gui/intel64/plugins/org.eclipse.equinox.launcher_1.2.0.v20110502.jar -showsplash -gui -native $TTY $IDB_ARGUMENTS&

所以我知道我可以将选项传递给 GUI 本身，但我不知道哪些选项或它们的格式。

有什么帮助吗？

谢谢， Ángel de Vicente

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-10T12:26:40.020

idb -args ./mancha2D_paramesh.x mancha.trol 有效，但我忽略了它，因为它给出了一些错误：

```
 idb -args ./mancha2D_paramesh.x mancha.trol
/opt/intel/composer_xe_2013.1.117/bin/intel64/idb: 68: [: -args: unexpected operator
/opt/intel/composer_xe_2013.1.117/bin/intel64/idb: 68: [: ./mancha2D_paramesh.x: unexpected operator
/opt/intel/composer_xe_2013.1.117/bin/intel64/idb: 68: [: mancha.trol: unexpected operator 
```

如果我用 bash 而不是 sh 运行它，错误就会消失。

# java - Android - 如何从 API (rottentomatoes) JSON 获取 url/链接

> ID：14257726
> 
> 赞同：0
> 
> 时间：2013-01-10T12:15:29.740
> 
> 标签：java, android, json, api, networking

这是我的代码的一部分，在我的代码中，我得到了电影的“标题”和“概要”，但“个人资料”部分由于某种原因不起作用，我无法从网站，这里是[网站api](http://developer.rottentomatoes.com/docs)，谢谢你的帮助。

```
@Override

    protected void onPostExecute(String response) {
                super.onPostExecute(response);

                try {
                    // convert the String response to a JSON object
                    JSONObject jsonResponse = new JSONObject(response);

                    // fetch the array of movies in the response
                    JSONArray jArray = jsonResponse.getJSONArray("movies");

                    // add each movie's title to a list
                    movieTitles = new ArrayList<String>();
                    movieSynopsis = new ArrayList<String>();

                    movieImgUrl= new ArrayList<String>(); // **problematic**

                    for (int i = 0; i < jArray.length(); i++) {
                        JSONObject movie = jArray.getJSONObject(i);                 

                            movieTitles.add(movie.getString("title"));

                            movieSynopsis.add(movie.getString("synopsis"));

                            movieImgUrl.add(movie.getString("profile")); // **problematic**

                    } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-10T12:19:17.647

将您的代码修改为

```
 movieImgUrl.add(movie.getJSONObject("posters").getString("profile")); 
```

这是因为`posters`是 a`JSONObject`并且图像链接在 JSONObject 中。

# c# - 互联网上的 wcf 服务 wsHttpBinding

> ID：14257730
> 
> 赞同：0
> 
> 时间：2013-01-10T12:15:41.187
> 
> 标签：c#, wcf, soap

您好，试图让我的绑定通过互联网工作。我正在使用 wsHttpBinding 并试图让它与肥皂一起使用。我已经尝试过 NetTcpBinding 并让我的函数通过我的公共 IP 在互联网上的 wcftestclient 中显示，并将我的端口转发到正确的计算机，但我无法调用任何失败的函数： ![在此处输入图像描述](../Images/c47363822c16178f85267b6f5a25e16f.png)

而且我不认为肥皂可以与 NetTcpBinding 一起使用，所以我一直在尝试使这个配置工作

```
<?xml version="1.0" encoding="utf-8" ?>
<configuration>
  <system.serviceModel>
    <services>
      <service
        behaviorConfiguration="VenatoWCF.Behavior"
        name="VenatoWCF.WCFService">
        <endpoint
          address=""
          binding="wsHttpBinding"
          contract="VenatoWCF.IService"
          bindingConfiguration="Binding">
        </endpoint>
        <endpoint
          address="mex"
          binding="mexHttpBinding"
          contract="IMetadataExchange">
        </endpoint>

        <host>
          <baseAddresses>
            <add baseAddress="http://localhost:8734/WCF/" />
          </baseAddresses>
        </host>
      </service>
    </services>
    <behaviors>
      <serviceBehaviors>
        <behavior name="VenatoWCF.Behavior">
          <serviceMetadata httpGetEnabled="true" />
          <useRequestHeadersForMetadataAddress />
        </behavior>
      </serviceBehaviors>
    </behaviors>
    <bindings>
      <wsHttpBinding>
        <binding name="Binding" >
          <security mode="Message">
            <transport clientCredentialType="None"/>
          </security>
        </binding>
      </wsHttpBinding>
    </bindings>
  </system.serviceModel>
  <startup>
    <supportedRuntime version="v4.0" sku=".NETFramework,Version=v4.0,Profile=Client"/>
  </startup>
</configuration> 
```

这可以被肥皂消耗，但这个配置我无法用肥皂或 wcftestclient 得到任何响应。

肥皂：致命错误：未捕获的 SoapFault 异常：[WSDL] SOAP-错误：解析 WSDL：无法从“ [http://(My](http://(My) External ip):8734/WCF/?wsdl”加载：无法加载外部实体“ [http ://(我的](http://(My)外部 ip):8734/WCF/?wsdl"

谢谢你的回答

EDIT1 抱歉错误的配置文件给那些速度足够快的人看：/

编辑2

在我的 wsdl 文件中发现，在底部我`<soap:address location="https://dendei:8734/WCF/" />`发现一个应该是一个肥皂连接也需要`"https://(my external ip):8734/WCF/"`？

我怎样才能改变这个？在配置文件中？还是在我的程序中？

编辑3

[在搜索UseRequestHeadersForMetadataAddressBehavior](http://msdn.microsoft.com/en-us/library/System.ServiceModel.Description.UseRequestHeadersForMetadataAddressBehavior.aspx)时偶然发现了这个网站

并且在本地解决了它，所以我可以在我的基地址中有 localhost`<add baseAddress="https://localhost:8734/WCF/"/>`

它和soap一起工作，所以我也找回了它试图连接的地址

并在网上工作:)

但是使用 UseRequestHeadersForMetadataAddressBehavior 你必须使用 .NET 4.0

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-10T16:20:50.053

您的错误消息说您使用此 Url`http://(My External ip):8734/WCF/?wsdl`通过 WcfTestClient 连接到您的服务。但是您在配置文件中定义了不同的 Url。看看你的baseAddress。试试这个网址`http://(My External ip):8734/Venato/mex?wsdl`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-11T14:56:27.353

好吧，如果我切换到 4.0 并使用`UseRequestHeadersForMetadataAddressBehavior`而不是尝试访问 wsdl 文件并更改指向本地地址的 soap:address 仍然不知道该怎么做，那么它就可以工作了。:)

并且连接问题在我的计算机防火墙中阻止了连接路由器接受了连接并且我自己的计算机阻止了它xD

将使用对我有用的配置来编辑我的任务欢呼！

# c - DB2 via ODBC 内存管理问题

> ID：14257732
> 
> 赞同：1
> 
> 时间：2013-01-10T12:15:43.377
> 
> 标签：c, db2, valgrind, memory-management

我正在开发通过 ODBC (unixodbc) 使用 DB2 数据库的软件。问题是使用 valgrind 运行测试套件会产生大量错误。更不用说一个连接和断开连接会生成 4k 错误消息（下面提供的代码）。我的问题是：

1.  我在连接和断开连接方面做错了吗？
2.  是否有清理功能可以释放 libdb2 分配的内存？
3.  Valgrind 也有消息抑制功能，是否有维护 libdb2.so 库的抑制文件？

代码：

```
static void
connect_disconnect(SQLCHAR *dsn)
{
    SQLRETURN ret = -1;

    SQLHENV env = NULL;
    SQLHDBC dbc = NULL;

    SQLCHAR msg[1024];
    SQLSMALLINT msglen = 0;

    /* env handle */
    SQLAllocHandle(SQL_HANDLE_ENV, SQL_NULL_HANDLE, &env);
    SQLSetEnvAttr(env, SQL_ATTR_ODBC_VERSION, (void*)SQL_OV_ODBC3, 0);

    /* connection */
    SQLAllocHandle(SQL_HANDLE_DBC, env, &dbc);

    ret = SQLDriverConnect(dbc, NULL, (SQLCHAR *)dsn,
        SQL_NTS, msg, sizeof(msg), &msglen, SQL_DRIVER_COMPLETE);
    if (!SQL_SUCCEEDED(ret))
    {
        fprintf(stderr, "Failed to connect to database '%s'.\n", dsn);
        extract_error(dbc, SQL_HANDLE_DBC);
    }

    SQLDisconnect(dbc);
    SQLFreeHandle(SQL_HANDLE_DBC, dbc);
    dbc = NULL;

    SQLFreeHandle(SQL_HANDLE_ENV, env);
    env = NULL;

    return;
} 
```

我在用着：

1.  libdb2.so 从 DSClients-linuxx64-odbc_cli-10.1.0.2-FP002 包中获取，适用于 Linux 64 位。
2.  libodbc.so 版本 2.3.1

* * *

**编辑**

最后一条 valgrind 消息（最大泄漏）：

```
==1318== 425,880 bytes in 1 blocks are possibly lost in loss record 145 of 145
==1318==    at 0x4C2C04B: malloc (in /usr/lib/valgrind/vgpreload_memcheck-amd64-linux.so)
==1318==    by 0x68B313D: _ossMemAlloc (in /usr/local/lib/libdb2.so.1)
==1318==    by 0x6A3B513: sqlnlscmsg(char const*, SQLNLS_MSG_FILE_HEADER**, char const*, bool*, char*) (in /usr/local/lib/libdb2.so.1)
==1318==    by 0x6A3AC90: sqlnlsMessage (in /usr/local/lib/libdb2.so.1)
==1318==    by 0x6A3A589: sqlnlsMessage (in /usr/local/lib/libdb2.so.1)
==1318==    by 0x6C43128: sqloMessage (in /usr/local/lib/libdb2.so.1)
==1318==    by 0x6BDCDE0: sqllcGetMessage(char const*, int, char*, char*, unsigned long, bool, char const*) (in /usr/local/lib/libdb2.so.1)
==1318==    by 0x6BE0F79: sqllcInitComponent(unsigned int) (in /usr/local/lib/libdb2.so.1)
==1318==    by 0x6BE14E2: sqllcInitData() (in /usr/local/lib/libdb2.so.1)
==1318==    by 0x6BD813C: sqllcGetInstalledKeyType (in /usr/local/lib/libdb2.so.1)
==1318==    by 0x6C26653: sqloGetInstalledKeyType (in /usr/local/lib/libdb2.so.1)
==1318==    by 0x6B42494: sqleuInvokeActivationRoutine(db2UCconHandle*, SQLEU_UDFSP_ARGS*, sqlca*, bool, unsigned int) (in /usr/local/lib/libdb2.so.1)
==1318==    by 0x6B413A3: sqleuPerformServerActivationCheck(db2UCconHandle*, sqlca*) (in /usr/local/lib/libdb2.so.1)
==1318==    by 0x6B3FF72: sqleUCappConnect (in /usr/local/lib/libdb2.so.1)
==1318==    by 0x69E8F9A: CLI_sqlConnect(CLI_CONNECTINFO*, sqlca*, CLI_ERRORHEADERINFO*) (in /usr/local/lib/libdb2.so.1)
==1318==    by 0x699997D: SQLConnect2(CLI_CONNECTINFO*, unsigned char*, short, unsigned char*, short, unsigned char*, short, unsigned char*, short, unsigned char) (in /usr/local/lib/libdb2.so.1)
==1318==    by 0x69B2640: SQLDriverConnect2(CLI_CONNECTINFO*, void*, unsigned char*, short, unsigned char*, short, short*, unsigned short, unsigned char, unsigned char, CLI_ERRORHEADERINFO*) (in /usr/local/lib/libdb2.so.1)
==1318==    by 0x698BD4E: SQLDriverConnect (in /usr/local/lib/libdb2.so.1)
==1318==    by 0x4E45962: SQLDriverConnect (in /usr/lib/libodbc.so.2.0.0)
==1318==    by 0x400BF2: connect_disconnect (in /.../db2_leak/test)
==1318==    by 0x400A8F: main (in /.../db2_leak/test) 
```

大多数泄漏是静态的（初始化）。每个连接断开都会增加 80 字节到绝对丢失的字节数。

valgrind 输出的更大部分（不能粘贴超过 500k）： http: [//pastebin.com/xZfjy21Q](http://pastebin.com/xZfjy21Q)

最大的问题是我找不到由我的行为引起的问题。

* * *

**编辑**

双重检查的二进制文件，都是 64 位的。

# javascript - 在 yelp v1 API 中使用“offset”参数来获得更多结果？

> ID：14257741
> 
> 赞同：0
> 
> 时间：2013-01-10T12:16:10.687
> 
> 标签：javascript, yelp

我想在 yelp version1 Api 中使用“offset”参数来获得下一组结果。

不使用“偏移”我得到 20 个结果？我怎样才能得到更多？

像这样的api：

[http://api.yelp.com/business_review_search?term=hotels&lat=40.70590473669712&long=-73.9780035&radius=2&limit=20&ywsid=myywsid](http://api.yelp.com/business_review_search?term=hotels&lat=40.70590473669712&long=-73.9780035&radius=2&limit=20&ywsid=myywsid)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-12T20:19:33.370

简短的回答是你不能。
[http://www.yelp.com/developers/documentation/search_api](http://www.yelp.com/developers/documentation/search_api)
`Default is 10\. Minimum value is 1 and maximum value is 20`
并且该`offset`调用仅适用于 v2.0。
在 v1.0 上，您必须使用`limit`

# android - 如何在我的应用程序图标下方没有文字和阴影？

> ID：14257742
> 
> 赞同：1
> 
> 时间：2013-01-10T12:16:13.737
> 
> 标签：android, icons, homescreen

我已经看到几个应用程序在主屏幕的图标下方没有显示任何文字，我希望在我的应用程序中使用它。
通过在这里搜索，我设法防止应用程序名称出现在带有清单的图标下方，但我仍然得到一个小的灰色空椭圆形。有谁也知道如何删除它？

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-10T12:19:19.123

您应该始终在图标下方包含一个标签。我想不出你为什么不这样做的**任何理由。**

# php - 如何在 Symfony2 中将 Json 绑定到实体中

> ID：14257745
> 
> 赞同：6
> 
> 时间：2013-01-10T12:16:22.433
> 
> 标签：php, json, symfony, entity, bind

我正在开发一个带有 iPad 前端和基于 Symfony2 的服务器的销售系统。它们之间的通信是通过json格式的POST方法进行的。

我已经看到可以将表单绑定到实体中，但我不知道如果我收到一个 jSon 对象是否有可能做到这一点。

例如，这是我在前端所拥有的（为简单起见，在 Javascript 中）：

```
var sale=new Sale();
sale.client=10;
sale.user=1;
sale.product=11;
sale.quantity=100;
var jSon={"client": sale.client,
                            "user":sale.user,
                            "product":sale.product,
                            "quantity":sale.quantity}     

$.post("http://examplepath.com/new_sale", jSon,
             function (data) {
                if (data) {
                    alert(data);
                }
                else {
                    alert("Not working :-(");
                }
            }
); 
```

现在，当我在中接收 json 时，我会执行以下操作：

```
$sale=new Sale(); //This is my entity :)
$sale->setUser($request->request->get("user"));
$sale->setClient($request->request->get("client"));
$sale->setProduct($request->request->get("product"));
$sale->setDate($date);

$em = $this->getDoctrine()->getEntityManager();
$em->persist($sale);
$em->flush(); 
```

有没有办法将 POST 收到的 json 与我的 Sale 实体绑定，而无需执行所有那些讨厌的设置器？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-10T12:35:00.750

您要查找的内容称为`Serialization`.

您可以使用 Symfony 2 提供的默认[Serializer 组件](http://symfony.com/doc/current/components/serializer.html)，但更方便的方法是使用[JMSSerializerBundle](https://github.com/schmittjoh/JMSSerializerBundle)。

# iphone - 网络更改时应用程序崩溃

> ID：14257747
> 
> 赞同：0
> 
> 时间：2013-01-10T12:16:24.297
> 
> 标签：iphone, ios

我必须修复其他人开发的应用程序中的一些错误。我以前没有在 iOS 上工作过。

iOS 应用程序每 15 秒发送一些数据，这很好用。我可以单击主页按钮并返回应用程序，也可以正常工作。

现在问题只有在网络发生变化时才会出现，假设我激活了飞行模式。

当我回到应用程序时，它会因为`NSRangeException`. 问题是我无法得到任何调试输出或任何东西，即使我在所有可能发生此异常的地方都放置了调试语句。

有人可以给我小费吗？网络的变化怎么会产生这样的效果？

# security - JSF h:outputText 基于用户角色的渲染条件

> ID：14257749
> 
> 赞同：1
> 
> 时间：2013-01-10T12:16:26.683
> 
> 标签：security, jsf

我必须根据用户角色 outputText 框在 JSF 中呈现 outputText：

```
<h:outputText id="citizenaddress" value="#{customerView.customerCurrentAddress}" escape="false" rendered="#{facesContext.externalContext.userInRole('isabletoGetCitizenAddress')}"></h:outputText> 
```

web.xml 是：

```
<web-app version="3.0" xmlns="http://java.sun.com/xml/ns/javaee" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd"> 
```

例外是：

```
javax.el.ELException: /info/citizenInfo.xhtml @42,193 rendered="#{facesContext.externalContext.userInRole('isabletoGetCitizenAddress')}": Method userInRole not found 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-10T12:29:04.923

该方法是[isUserInRole(String)](http://docs.oracle.com/javaee/6/api/javax/faces/context/ExternalContext.html#isUserInRole%28java.lang.String%29)。

您可能会将 bean 属性的表达式规则与方法的语法混为一谈。

我认为表达式应该是：

```
#{facesContext.externalContext.isUserInRole('isabletoGetCitizenAddress')} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-10T12:23:19.813

尝试将双引号更改为`isabletoGetCitizenAddress`单引号。 `<h:outputText id="citizenaddress" value="#{customerView.customerCurrentAddress}" escape="false" rendered="#{facesContext.externalContext.userInRole('isabletoGetCitizenAddress')}"></h:outputText>`

# silverlight - Silverlight 中的回调是什么？如何在silverlight mvvm 中实现回调？

> ID：14257759
> 
> 赞同：-2
> 
> 时间：2013-01-10T12:16:54.200
> 
> 标签：silverlight, mvvm, entity

我有一个疑问..什么是回调？以及如何在 Silverlight Mvvm 中实现回调并获取实体值？也给我一些代码示例..

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-10T14:57:51.373

在这里您可以找到[回调](http://en.wikipedia.org/wiki/Callback_%28computer_programming%29)是什么。

在 C# 中有多种管理回调的方法。我建议您从[BackgroundWorker](http://msdn.microsoft.com/es-es/library/system.componentmodel.backgroundworker%28v=vs.95%29.aspx)开始。

在这里，您可以[在 Silverligh 中找到它的一个示例](http://www.codeproject.com/Articles/23421/BackgroundWorker-in-Silverlight)。

这里是[BackgroundWorker 和 MVVM](http://jeremybytes.blogspot.ch/2012/05/backgroundworker-component-and-mvvm.html)的一个例子。

# android - Android：相机不会拍照

> ID：14257760
> 
> 赞同：0
> 
> 时间：2013-01-10T12:16:55.343
> 
> 标签：android, camera

我的拍照代码挂在 takePicture 上。该代码在运行 Android 2.2 或 4.0 的设备上运行良好。它不能在运行 2.3 的华为上运行。目前我不确定是设备还是 API。我怀疑该设备，但发现这很奇怪，因为系统相机应用程序可以正常工作。这是我在执行 takePicture 方法时记录的 LogCat 条目。有没有人能够在其中发现一些可能给出提示的东西？

```
01-10 13:09:42.589: I/QualcommCameraHardware(113): Found a matching camera info for ID 0
01-10 13:09:42.589: I/QualcommCameraHardware(113): HAL_getCameraInfo: orientation = 90
01-10 13:09:42.589: I/QualcommCameraHardware(113): HAL_getCameraInfo: modes supported = 5
01-10 13:09:42.599: I/QualcommCameraHardware(113): openCameraHardware: call createInstance
01-10 13:09:42.599: I/QualcommCameraHardware(113): openCameraHardware:Valid camera ID 0
01-10 13:09:42.599: I/QualcommCameraHardware(113): openCameraHardware:camera mode 1
01-10 13:09:42.599: I/QualcommCameraHardware(113): HAL_openCameraHardware: HAL_currentSnapshotMode = 4
01-10 13:09:42.599: I/QualcommCameraHardware(113): createInstance: E
01-10 13:09:42.599: I/QualcommCameraHardware(113): QualcommCameraHardware constructor E
01-10 13:09:42.619: I/QualcommCameraHardware(113): createInstance: created hardware=0x10a68
01-10 13:09:42.759: E/CAM_FD(113): sensor_load_chromatix: Sensor name: s5k5ca cnt=3
01-10 13:09:42.759: E/mm-camera(113): s5k5ca_setup_camctrl_tbl:get af supported false!
01-10 13:09:42.769: E/mm-camera(113): camera_query_parms: pict_max_size   max_width 2048 max_height 1536
01-10 13:09:42.769: E/QualcommCameraHardware(113): startCamera X: max pic   width:2048   height:1536
01-10 13:09:42.769: I/QualcommCameraHardware(113): initDefaultParameters E
01-10 13:09:42.859: I/QualcommCameraHardware(113): AutoFocus is not supported
01-10 13:09:42.859: E/QualcommCameraHardware(113): filterPictureSizes   picture_sizes[3].width:2048  picture_sizes[3].height:1536 .
01-10 13:09:42.869: E/QualcommCameraHardware(113): Maximum zoom value is 61
01-10 13:09:42.869: I/QualcommCameraHardware(113): initDefaultParameters: setting num-snaps-per-shutter to 1
01-10 13:09:42.869: I/QualcommCameraHardware(113): setRecordSize: preview dimensions: 640x480
01-10 13:09:42.869: I/QualcommCameraHardware(113): setRecordSize: video dimensions: 640x480
01-10 13:09:42.869: I/QualcommCameraHardware(113): Parameter Rolloff is not supported for this sensor
01-10 13:09:42.869: I/QualcommCameraHardware(113): Parameter MCE is not supported for this sensor
01-10 13:09:42.869: I/QualcommCameraHardware(113): Sharpness not supported for this sensor
01-10 13:09:42.869: I/QualcommCameraHardware(113): Saturation not supported for this sensor
01-10 13:09:42.869: E/QualcommCameraHardware(113): Parameter Scenemode is not supported for this sensor
01-10 13:09:42.869: I/QualcommCameraHardware(113): Contrast not supported for this sensor
01-10 13:09:42.879: I/QualcommCameraHardware(113): Parameter AntiBanding is not supported for this sensor
01-10 13:09:42.879: I/QualcommCameraHardware(113): setRedeyeReduction: setting Redeye Reduction value of disable
01-10 13:09:42.879: E/CAM_FD(113): config_proc_CAMERA_SET_REDEYE_REDUCTION: mode =0
01-10 13:09:42.879: E/CAM_FD(113): config_proc_CAMERA_SET_REDEYE_REDUCTION: FAILED
01-10 13:09:42.879: E/QualcommCameraHardware(113): native_set_parms failed: type 50 length 1 error No such file or directory
01-10 13:09:42.879: E/QualcommCameraHardware(113): Wavelet Denoise is not supported for this sensor
01-10 13:09:42.879: E/QualcommCameraHardware(113): FPS Range Values: 5000x31000
01-10 13:09:42.879: I/QualcommCameraHardware(113): Set fps is not supported for this sensor
01-10 13:09:42.879: I/QualcommCameraHardware(113): set fps mode is not supported for this sensor
01-10 13:09:42.879: I/QualcommCameraHardware(113): Auto Exposure not supported for this sensor
01-10 13:09:42.879: I/QualcommCameraHardware(113): Exposure Compensation is not supported for this sensor
01-10 13:09:42.879: I/QualcommCameraHardware(113): setFlash: flash not supported
01-10 13:09:42.879: I/QualcommCameraHardware(113): Set Brightness not supported for this sensor
01-10 13:09:42.879: E/QualcommCameraHardware(113): Parameter ISO Value is not supported for this sensor
01-10 13:09:42.879: I/QualcommCameraHardware(113): setHighFrameRate: setting HFR value of off(1)
01-10 13:09:42.879: I/QualcommCameraHardware(113): initDefaultParameters X
01-10 13:09:42.879: I/QualcommCameraHardware(113): createInstance: X
01-10 13:09:42.879: I/QualcommCameraHardware(113): Found a matching camera info for ID 0
01-10 13:09:42.879: I/QualcommCameraHardware(113): HAL_getCameraInfo: orientation = 90
01-10 13:09:42.879: I/QualcommCameraHardware(113): HAL_getCameraInfo: modes supported = 5
01-10 13:09:42.879: E/CameraService(113): takePicture   return mHardware->takePicture(mSurface)
01-10 13:09:42.879: E/QualcommCameraHardware(113): takePicture(2511)
01-10 13:09:42.879: E/mm-camera(113): PROFILE Camera_interface pre_prepare snap : 1357819782.890308291
01-10 13:09:42.879: E/mm-camera(113): PROFILE Camera_interface post prepare_snap: 1357819782.890339957
01-10 13:09:42.879: I/QualcommCameraHardware(113): stopPreviewInternal E: 0
01-10 13:09:42.879: I/QualcommCameraHardware(113): stopPreviewInternal X: 0
01-10 13:09:42.899: D/MediaPlayer(113): setDataSource(/system/media/audio/ui/camera_click.ogg)
01-10 13:09:42.899: E/QualcommCameraHardware(113): initRaw   getPictureSize   mPictureWidth:640   mPictureHeight:480
01-10 13:09:42.899: E/mm-camera(113): camera_set_parms  CAMERA_PARM_NEED_TO_RESIZE   *((bool*)p_value):0
01-10 13:09:42.909: E/mm-camera(113): snapshot_set_need_resize: exit status 0,  is_need_resize:0
01-10 13:09:42.909: E/QualcommCameraHardware(113): rawsize = 460800 cbcr offset =307200
01-10 13:09:42.909: V/MediaPlayerService(113): Client(1) constructor
01-10 13:09:42.909: V/MediaPlayerService(113): Create new client(1) from pid 113, url=/system/media/audio/ui/camera_click.ogg, connId=1, audioSessionId=3
01-10 13:09:42.909: D/MediaPlayerService(113): setDataSource(/system/media/audio/ui/camera_click.ogg)
01-10 13:09:42.929: V/MediaPlayerService(113): usePVPlayer: did not detect file to be with LPA implementation
01-10 13:09:42.929: I/MediaPlayerService(113): The Default player that is returned is STAGEFRIGHT**************
01-10 13:09:42.929: V/MediaPlayerService(113): player type = 4
01-10 13:09:42.929: V/MediaPlayerService(113):  create StagefrightPlayer
01-10 13:09:42.939: V/AudioSink(113): AudioOutput(3)
01-10 13:09:42.939: V/MediaPlayerService(113):  setDataSource
01-10 13:09:42.939: V/MediaPlayerService(113): [1] setAudioStreamType(10)
01-10 13:09:42.939: V/MediaPlayerService(113): [1] prepareAsync
01-10 13:09:42.989: V/MediaPlayerService(113): [1] notify (0x16e78, 5, 0, 0)
01-10 13:09:42.989: V/MediaPlayerService(113): [1] notify (0x16e78, 1, 0, 0)
01-10 13:09:42.989: D/MediaPlayer(113): setDataSource(/system/media/audio/ui/VideoRecord.ogg)
01-10 13:09:42.989: V/MediaPlayerService(113): Client(2) constructor
01-10 13:09:42.989: V/MediaPlayerService(113): Create new client(2) from pid 113, url=/system/media/audio/ui/VideoRecord.ogg, connId=2, audioSessionId=4
01-10 13:09:42.989: D/MediaPlayerService(113): setDataSource(/system/media/audio/ui/VideoRecord.ogg)
01-10 13:09:42.989: V/MediaPlayerService(113): usePVPlayer: did not detect file to be with LPA implementation
01-10 13:09:42.989: I/MediaPlayerService(113): The Default player that is returned is STAGEFRIGHT**************
01-10 13:09:42.989: V/MediaPlayerService(113): player type = 4
01-10 13:09:42.989: V/MediaPlayerService(113):  create StagefrightPlayer
01-10 13:09:42.999: V/AudioSink(113): AudioOutput(4)
01-10 13:09:42.999: V/MediaPlayerService(113):  setDataSource
01-10 13:09:42.999: V/MediaPlayerService(113): [2] setAudioStreamType(10)
01-10 13:09:42.999: V/MediaPlayerService(113): [2] prepareAsync
01-10 13:09:43.009: V/MediaPlayerService(113): [2] notify (0x254e8, 5, 0, 0)
01-10 13:09:43.009: V/MediaPlayerService(113): [2] notify (0x254e8, 1, 0, 0)
01-10 13:09:48.909: E/CAM_FD(113): ...config thread select timeout...
01-10 13:09:48.969: D/PowerManagerService(199): acquireWakeLock flags=0x1 tag=SyncManagerHandleSyncAlarm
01-10 13:09:48.979: D/PowerManagerService(199): acquireWakeLock flags=0x1 tag=AlarmManager
01-10 13:09:48.979: D/PowerManagerService(199): releaseWakeLock flags=0x1 tag=AlarmManager
01-10 13:09:48.979: D/PowerManagerService(199): releaseWakeLock flags=0x1 tag=SyncManagerHandleSyncAlarm
01-10 13:09:54.919: E/CAM_FD(113): ...config thread select timeout...
01-10 13:09:59.999: D/PowerManagerService(199): acquireWakeLock flags=0x1 tag=AlarmManager
01-10 13:10:00.039: D/WeatherWidgetServerLite(732): WeatherWidgetReceiver onReceive
01-10 13:10:00.039: D/WeatherWidgetServerLite(732): WeatherWidgetReceiver actionandroid.intent.action.TIME_TICK
01-10 13:10:00.039: D/WeatherWidgetServerLite(732): WeatherWidgetReceiver msg.what=1001
01-10 13:10:00.039: I/WeatherMediumWidgetProvider(732): updateUI(Context context)
01-10 13:10:00.049: D/WeatherMediumWidgetProvider(732): updateUI(Context context, AppWidgetManager widgetManager, int[] appWidgetId)
01-10 13:10:00.059: D/WidgetUtils(732): setWeatherHomeClickListener
01-10 13:10:00.059: D/PowerManagerService(199): releaseWakeLock flags=0x1 tag=AlarmManager
01-10 13:10:00.069: D/WidgetUtils(732): setWeatherHomeClickListener
01-10 13:10:00.069: D/WidgetUtils(732): setAlarmClockClickListener
01-10 13:10:00.069: D/WidgetUtils(732): setAlarmClockClickListener
01-10 13:10:00.069: D/WidgetUtils(732): setWeatherUpdateClickListener
01-10 13:10:00.069: D/WidgetUtils(732): setAccuWeatherCickListener
01-10 13:10:00.069: E/WidgetUtils(732): cityCode=cityId:167705
01-10 13:10:00.069: D/WidgetUtils(732): updateWeatherInfo
01-10 13:10:00.069: D/Utils(732): isDataOK
01-10 13:10:00.069: D/Utils(732): dataOverdue
01-10 13:10:00.069: D/WidgetUtils(732): updateWeatherInfo temperature =3.3333333,time1357482579481,weatherDes=Mostly Cloudy,invalidDay=4
01-10 13:10:00.069: D/WidgetUtils(732): updateWeatherInfo weatherDayDataInfo =HighTemperature =3.3333333 LowTemperature =-0.5555556 WeatherIcon =7 TextShort=Cloudy and colder TextLong=Cloudy and colder with a rain and snow shower possible WindSpeed=5 WindDirection=W
01-10 13:10:00.079: D/WidgetUtils(732): updateCityDateTime 
01-10 13:10:00.079: D/WidgetUtils(732): getCurCityCalendar
01-10 13:10:00.079: D/WidgetUtils(732): builder=2013/01/10  Thursday,dayOfWeek=Thursday,dayFormat=2013/01/10
01-10 13:10:00.079: D/WidgetUtils(732): calender2ClockImgIdx
01-10 13:10:00.079: D/WidgetUtils(732): updateRefreshTime
01-10 13:10:00.079: D/Utils(732): isUpdating
01-10 13:10:00.079: D/Utils(732): isDataOK
01-10 13:10:00.079: D/Utils(732): dataOverdue
01-10 13:10:00.089: D/WidgetUtils(732): getUpdateTime relativeDay=4
01-10 13:10:00.929: E/CAM_FD(113): ...config thread select timeout...
01-10 13:10:06.929: E/CAM_FD(113): ...config thread select timeout...
01-10 13:10:12.939: E/CAM_FD(113): ...config thread select timeout...
01-10 13:10:18.939: E/CAM_FD(113): ...config thread select timeout...
01-10 13:10:24.939: E/CAM_FD(113): ...config thread select timeout...
01-10 13:10:30.949: E/CAM_FD(113): ...config thread select timeout...
01-10 13:10:36.959: E/CAM_FD(113): ...config thread select timeout...
01-10 13:10:42.959: E/CAM_FD(113): ...config thread select timeout...
01-10 13:10:48.969: E/CAM_FD(113): ...config thread select timeout...
01-10 13:10:54.979: E/CAM_FD(113): ...config thread select timeout...
01-10 13:10:59.999: D/PowerManagerService(199): acquireWakeLock flags=0x1 tag=AlarmManager
01-10 13:11:00.029: D/WeatherWidgetServerLite(732): WeatherWidgetReceiver onReceive
01-10 13:11:00.029: D/WeatherWidgetServerLite(732): WeatherWidgetReceiver actionandroid.intent.action.TIME_TICK
01-10 13:11:00.029: D/WeatherWidgetServerLite(732): WeatherWidgetReceiver msg.what=1001
01-10 13:11:00.029: I/WeatherMediumWidgetProvider(732): updateUI(Context context)
01-10 13:11:00.029: D/WeatherMediumWidgetProvider(732): updateUI(Context context, AppWidgetManager widgetManager, int[] appWidgetId)
01-10 13:11:00.039: D/WidgetUtils(732): setWeatherHomeClickListener
01-10 13:11:00.039: D/WidgetUtils(732): setWeatherHomeClickListener
01-10 13:11:00.049: D/WidgetUtils(732): setAlarmClockClickListener
01-10 13:11:00.049: D/WidgetUtils(732): setAlarmClockClickListener
01-10 13:11:00.059: D/WidgetUtils(732): setWeatherUpdateClickListener
01-10 13:11:00.059: D/WidgetUtils(732): setAccuWeatherCickListener
01-10 13:11:00.059: E/WidgetUtils(732): cityCode=cityId:167705
01-10 13:11:00.059: D/WidgetUtils(732): updateWeatherInfo
01-10 13:11:00.059: D/Utils(732): isDataOK
01-10 13:11:00.059: D/Utils(732): dataOverdue
01-10 13:11:00.059: D/PowerManagerService(199): releaseWakeLock flags=0x1 tag=AlarmManager
01-10 13:11:00.069: D/WidgetUtils(732): updateWeatherInfo temperature =3.3333333,time1357482579481,weatherDes=Mostly Cloudy,invalidDay=4
01-10 13:11:00.069: D/WidgetUtils(732): updateWeatherInfo weatherDayDataInfo =HighTemperature =3.3333333 LowTemperature =-0.5555556 WeatherIcon =7 TextShort=Cloudy and colder TextLong=Cloudy and colder with a rain and snow shower possible WindSpeed=5 WindDirection=W
01-10 13:11:00.069: D/WidgetUtils(732): updateCityDateTime 
01-10 13:11:00.069: D/WidgetUtils(732): getCurCityCalendar
01-10 13:11:00.069: D/WidgetUtils(732): builder=2013/01/10  Thursday,dayOfWeek=Thursday,dayFormat=2013/01/10
01-10 13:11:00.069: D/WidgetUtils(732): calender2ClockImgIdx
01-10 13:11:00.069: D/WidgetUtils(732): updateRefreshTime
01-10 13:11:00.069: D/Utils(732): isUpdating
01-10 13:11:00.069: D/Utils(732): isDataOK
01-10 13:11:00.069: D/Utils(732): dataOverdue
01-10 13:11:00.069: D/WidgetUtils(732): getUpdateTime relativeDay=4
01-10 13:11:00.979: E/CAM_FD(113): ...config thread select timeout...
01-10 13:11:06.989: E/CAM_FD(113): ...config thread select timeout...
01-10 13:11:12.989: E/CAM_FD(113): ...config thread select timeout...
01-10 13:11:18.999: E/CAM_FD(113): ...config thread select timeout...
01-10 13:11:24.999: E/CAM_FD(113): ...config thread select timeout...
01-10 13:11:31.009: E/CAM_FD(113): ...config thread select timeout...
01-10 13:11:37.009: E/CAM_FD(113): ...config thread select timeout...
01-10 13:11:43.009: E/CAM_FD(113): ...config thread select timeout...
01-10 13:11:49.019: E/CAM_FD(113): ...config thread select timeout...
01-10 13:11:55.019: E/CAM_FD(113): ...config thread select timeout...
01-10 13:11:59.999: D/PowerManagerService(199): acquireWakeLock flags=0x1 tag=AlarmManager
01-10 13:12:00.039: D/WeatherWidgetServerLite(732): WeatherWidgetReceiver onReceive
01-10 13:12:00.039: D/WeatherWidgetServerLite(732): WeatherWidgetReceiver actionandroid.intent.action.TIME_TICK
01-10 13:12:00.039: D/WeatherWidgetServerLite(732): WeatherWidgetReceiver msg.what=1001
01-10 13:12:00.039: I/WeatherMediumWidgetProvider(732): updateUI(Context context)
01-10 13:12:00.049: D/WeatherMediumWidgetProvider(732): updateUI(Context context, AppWidgetManager widgetManager, int[] appWidgetId)
01-10 13:12:00.049: D/WidgetUtils(732): setWeatherHomeClickListener
01-10 13:12:00.049: D/WidgetUtils(732): setWeatherHomeClickListener
01-10 13:12:00.049: D/WidgetUtils(732): setAlarmClockClickListener
01-10 13:12:00.049: D/WidgetUtils(732): setAlarmClockClickListener
01-10 13:12:00.049: D/WidgetUtils(732): setWeatherUpdateClickListener
01-10 13:12:00.059: D/WidgetUtils(732): setAccuWeatherCickListener
01-10 13:12:00.059: E/WidgetUtils(732): cityCode=cityId:167705
01-10 13:12:00.069: D/WidgetUtils(732): updateWeatherInfo
01-10 13:12:00.069: D/Utils(732): isDataOK
01-10 13:12:00.069: D/Utils(732): dataOverdue
01-10 13:12:00.069: D/PowerManagerService(199): releaseWakeLock flags=0x1 tag=AlarmManager
01-10 13:12:00.069: D/WidgetUtils(732): updateWeatherInfo temperature =3.3333333,time1357482579481,weatherDes=Mostly Cloudy,invalidDay=4
01-10 13:12:00.069: D/WidgetUtils(732): updateWeatherInfo weatherDayDataInfo =HighTemperature =3.3333333 LowTemperature =-0.5555556 WeatherIcon =7 TextShort=Cloudy and colder TextLong=Cloudy and colder with a rain and snow shower possible WindSpeed=5 WindDirection=W
01-10 13:12:00.069: D/WidgetUtils(732): updateCityDateTime 
01-10 13:12:00.069: D/WidgetUtils(732): getCurCityCalendar
01-10 13:12:00.069: D/WidgetUtils(732): builder=2013/01/10  Thursday,dayOfWeek=Thursday,dayFormat=2013/01/10
01-10 13:12:00.069: D/WidgetUtils(732): calender2ClockImgIdx
01-10 13:12:00.069: D/WidgetUtils(732): updateRefreshTime
01-10 13:12:00.069: D/Utils(732): isUpdating
01-10 13:12:00.069: D/Utils(732): isDataOK
01-10 13:12:00.069: D/Utils(732): dataOverdue
01-10 13:12:00.079: D/WidgetUtils(732): getUpdateTime relativeDay=4
01-10 13:12:01.029: E/CAM_FD(113): ...config thread select timeout...
01-10 13:12:07.029: E/CAM_FD(113): ...config thread select timeout...
01-10 13:12:13.039: E/CAM_FD(113): ...config thread select timeout...
01-10 13:12:19.039: E/CAM_FD(113): ...config thread select timeout...
01-10 13:12:25.049: E/CAM_FD(113): ...config thread select timeout...
01-10 13:12:31.049: E/CAM_FD(113): ...config thread select timeout...
01-10 13:12:37.059: E/CAM_FD(113): ...config thread select timeout...
01-10 13:12:43.069: E/CAM_FD(113): ...config thread select timeout...
01-10 13:12:49.069: E/CAM_FD(113): ...config thread select timeout...
01-10 13:12:55.069: E/CAM_FD(113): ...config thread select timeout...
01-10 13:12:59.999: D/PowerManagerService(199): acquireWakeLock flags=0x1 tag=AlarmManager
01-10 13:13:00.039: D/WeatherWidgetServerLite(732): WeatherWidgetReceiver onReceive
01-10 13:13:00.039: D/WeatherWidgetServerLite(732): WeatherWidgetReceiver actionandroid.intent.action.TIME_TICK
01-10 13:13:00.039: D/WeatherWidgetServerLite(732): WeatherWidgetReceiver msg.what=1001
01-10 13:13:00.039: I/WeatherMediumWidgetProvider(732): updateUI(Context context)
01-10 13:13:00.039: D/WeatherMediumWidgetProvider(732): updateUI(Context context, AppWidgetManager widgetManager, int[] appWidgetId)
01-10 13:13:00.039: D/WidgetUtils(732): setWeatherHomeClickListener
01-10 13:13:00.039: D/WidgetUtils(732): setWeatherHomeClickListener
01-10 13:13:00.049: D/WidgetUtils(732): setAlarmClockClickListener
01-10 13:13:00.059: D/WidgetUtils(732): setAlarmClockClickListener
01-10 13:13:00.059: D/WidgetUtils(732): setWeatherUpdateClickListener
01-10 13:13:00.059: D/WidgetUtils(732): setAccuWeatherCickListener
01-10 13:13:00.059: E/WidgetUtils(732): cityCode=cityId:167705
01-10 13:13:00.059: D/WidgetUtils(732): updateWeatherInfo
01-10 13:13:00.059: D/Utils(732): isDataOK
01-10 13:13:00.059: D/Utils(732): dataOverdue
01-10 13:13:00.059: D/PowerManagerService(199): releaseWakeLock flags=0x1 tag=AlarmManager
01-10 13:13:00.069: D/WidgetUtils(732): updateWeatherInfo temperature =3.3333333,time1357482579481,weatherDes=Mostly Cloudy,invalidDay=4
01-10 13:13:00.069: D/WidgetUtils(732): updateWeatherInfo weatherDayDataInfo =HighTemperature =3.3333333 LowTemperature =-0.5555556 WeatherIcon =7 TextShort=Cloudy and colder TextLong=Cloudy and colder with a rain and snow shower possible WindSpeed=5 WindDirection=W
01-10 13:13:00.069: D/WidgetUtils(732): updateCityDateTime 
01-10 13:13:00.069: D/WidgetUtils(732): getCurCityCalendar
01-10 13:13:00.069: D/WidgetUtils(732): builder=2013/01/10  Thursday,dayOfWeek=Thursday,dayFormat=2013/01/10
01-10 13:13:00.069: D/WidgetUtils(732): calender2ClockImgIdx
01-10 13:13:00.069: D/WidgetUtils(732): updateRefreshTime
01-10 13:13:00.069: D/Utils(732): isUpdating
01-10 13:13:00.069: D/Utils(732): isDataOK
01-10 13:13:00.069: D/Utils(732): dataOverdue
01-10 13:13:00.069: D/WidgetUtils(732): getUpdateTime relativeDay=4 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-10T17:12:45.977

事实证明，在 Android 2.3 中，您需要创建一个 SurfaceView 并使用 StartPreview 才能拍摄照片。Android 文档显示了如何创建此 SurfaceView，但它还说您不需要 Activity 来拍照，他们的示例仅显示从 Activity 中拍摄的图片。

我使用他们的示例代码创建了 SurfaceView，但不必将其应用于 FragmentLayout。

我个人认为 Android 文档中存在不一致之处。一方面，他们告诉您不需要预览（Android 2.2 和 4.0 似乎是这样），但您显然需要 2.3。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-10T12:24:30.637

尝试这个..

如果您的相机在拍照时挂起，您可以试试这个..

```
camera.setPreviewCallback(new PreviewCallback() {

        @Override
        public synchronized void onPreviewFrame(byte[] data, Camera arg1) {
            if (!mTakePicture) {
                CameraPreview.this.invalidate();
            } else {

                if (mTakePictureCallback != null && !mPictureTaken) {
                    int rgb[] = new int[previewSize.width*previewSize.height];
                    decodeYUV420SP(rgb, data, previewSize.width, previewSize.height);
                    Bitmap memoryImage = Bitmap.createBitmap(rgb, previewSize.width, previewSize.height, Bitmap.Config.ARGB_8888);
                    ByteArrayOutputStream baos = new ByteArrayOutputStream();
                    memoryImage.compress(CompressFormat.JPEG, 100, baos);
                    shutterSound();
                    setBackgroundDrawable(new BitmapDrawable(getContext().getResources(), memoryImage));
                    mTakePictureCallback.onPictureTaken(baos.toByteArray(), arg1);
                }
                mPictureTaken = true;
                camera.stopPreview();
            }
        }
    }); 
```

//否则你可能会去这个..

```
public class CamaraView extends Activity implements SurfaceHolder.Callback,
        OnClickListener {
    static final int FOTO_MODE = 0;
    private static final String TAG = "CameraTest";
    Camera mCamera;
    boolean mPreviewRunning = false;
    private Context mContext = this;

    public void onCreate(Bundle icicle) {
        super.onCreate(icicle);

        Log.e(TAG, "onCreate");

        Bundle extras = getIntent().getExtras();

        getWindow().setFormat(PixelFormat.TRANSLUCENT);
        requestWindowFeature(Window.FEATURE_NO_TITLE);
        getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN,
                WindowManager.LayoutParams.FLAG_FULLSCREEN);
        setContentView(R.layout.surface_camera);
        mSurfaceView = (SurfaceView) findViewById(R.id.surface_camera);
        mSurfaceView.setOnClickListener(this);
        mSurfaceHolder = mSurfaceView.getHolder();
        mSurfaceHolder.addCallback(this);
        mSurfaceHolder.setType(SurfaceHolder.SURFACE_TYPE_PUSH_BUFFERS);
    }

    @Override
    protected void onRestoreInstanceState(Bundle savedInstanceState) {
        super.onRestoreInstanceState(savedInstanceState);
    }

    Camera.PictureCallback mPictureCallback = new Camera.PictureCallback() {
        public void onPictureTaken(byte[] imageData, Camera c) {

            if (imageData != null) {

                Intent mIntent = new Intent();

                FileUtilities.StoreByteImage(mContext, imageData,
                         50, "ImageName");
                mCamera.startPreview();

                setResult(FOTO_MODE,mIntent);
                finish();

            }
        }
    };

    protected void onResume() {
        Log.e(TAG, "onResume");
        super.onResume();
    }

    protected void onSaveInstanceState(Bundle outState) {
        super.onSaveInstanceState(outState);
    }

    protected void onStop() {
        Log.e(TAG, "onStop");
        super.onStop();
    }

    public void surfaceCreated(SurfaceHolder holder) {
        Log.e(TAG, "surfaceCreated");
        mCamera = Camera.open();

    }

    public void surfaceChanged(SurfaceHolder holder, int format, int w, int h) {
        Log.e(TAG, "surfaceChanged");

        // XXX stopPreview() will crash if preview is not running
        if (mPreviewRunning) {
            mCamera.stopPreview();
        }

        Camera.Parameters p = mCamera.getParameters();
        p.setPreviewSize(w, h);
        mCamera.setParameters(p);
        try {
            mCamera.setPreviewDisplay(holder);
        } catch (IOException e) {
            // TODO Auto-generated catch block
            e.printStackTrace();
        }
        mCamera.startPreview();
        mPreviewRunning = true;
    }

    public void surfaceDestroyed(SurfaceHolder holder) {
        Log.e(TAG, "surfaceDestroyed");
        mCamera.stopPreview();
        mPreviewRunning = false;
        mCamera.release();
    }

    private SurfaceView mSurfaceView;
    private SurfaceHolder mSurfaceHolder;

    public void onClick(View arg0) {

        mCamera.takePicture(null, mPictureCallback, mPictureCallback);

    }

} 
```

这是详细信息的链接..

[http://www.dzone.com/snippets/how-take-pictures-android](http://www.dzone.com/snippets/how-take-pictures-android)

[http://www.41post.com/3470/programming/android-retrieving-the-camera-preview-as-a-pixel-array](http://www.41post.com/3470/programming/android-retrieving-the-camera-preview-as-a-pixel-array)谁在 Ketai [http://code.google.com/p/ketai/](http://code.google.com/p/ketai/)

# objective-c - 从坐标的 NSArray 在 MKMapView 上添加 MKAnnotations

> ID：14257761
> 
> 赞同：4
> 
> 时间：2013-01-10T12:16:57.353
> 
> 标签：objective-c, nsarray, mkmapview

我需要在我的 MKMapView 上添加几个注释（例如一个国家/地区的每个城市的注释），并且我不想用所有城市的纬度和经度来初始化每个 CLLocation2D。我认为数组是可能的，所以这是我的代码：

```
NSArray *latit = [[NSArray alloc] initWithObjects:@"20", nil]; // <--- I cannot add more than ONE object
NSArray *longit = [[NSArray alloc] initWithObjects:@"20", nil]; // <--- I cannot add more than ONE object

// I want to avoid code like location1.latitude, location2.latitude,... locationN.latitude...

CLLocationCoordinate2D location;
MKPointAnnotation *annotation = [[MKPointAnnotation alloc] init];

for (int i=0; i<[latit count]; i++) {
    double lat = [[latit objectAtIndex:i] doubleValue];
    double lon = [[longit objectAtIndex:i] doubleValue];
    location.latitude = lat;
    location.longitude = lon;
    annotation.coordinate = location;
    [map addAnnotation: annotation];
} 
```

好的，如果我在 NSArrays 纬度和经度中留下一个对象，那没关系，我在地图上有一个注释；但是如果我在数组应用程序构建中添加了多个对象，但会因 EXC_BAD_ACCESS (code=1...) 而崩溃。有什么问题，或者在没有冗余代码的情况下添加多个注释的最佳方法是什么？谢谢！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-10T12:36:15.820

**您始终使用相同的注释对象**，即：

```
MKPointAnnotation *annotation = [[MKPointAnnotation alloc] init]; 
```

在 for 循环中替换它，或在添加到地图之前复制它。

**说明**：这是`MKAnnotation`协议中的注释属性：

```
@property (nonatomic, readonly) CLLocationCoordinate2D coordinate; 
```

如您所见，它没有复制对象，因此如果您始终添加相同的注释，您将有重复的注释。如果您在时间 1 添加带有坐标 (20,20) 的注释，则在时间 2 将注释坐标更改为 (40,40) 并将其添加到地图中，但它是同一个对象。

另外我不建议在`NSNumber`里面放东西。而是制作一个独特的数组并用[CLLocation](https://developer.apple.com/library/mac/#documentation/CoreLocation/Reference/CLLocation_Class/CLLocation/CLLocation.html)对象填充它，因为它们是用来存储坐标的。该类`CLLocation`具有以下属性：

```
@property(readonly, NS_NONATOMIC_IPHONEONLY) CLLocationCoordinate2D; 
```

它也是一个不可变对象，因此您需要在创建对象时初始化此属性。使用 initWithLatitude:longitude: 方法：

```
- (id)initWithLatitude:(CLLocationDegrees)latitude longitude:(CLLocationDegrees)longitude; 
```

* * *

**因此，您可以编写更好的代码版本：**

```
#define MakeLocation(lat,lon) [[CLLocation alloc]initWithLatitude: lat longitude: lon];

NSArray* locations= @[ MakeLocation(20,20) , MakeLocation(40,40) , MakeLocation(60,60) ];

for (int i=0; i<[locations count]; i++) {
    MKPointAnnotation* annotation= [MKPointAnnotation new];
    annotation.coordinate= [locations[i] coordinate];
    [map addAnnotation: annotation];
} 
```

# c# - ASP.NET 4.0 Webforms - 全局错误处理麻烦

> ID：14257781
> 
> 赞同：3
> 
> 时间：2013-01-10T12:18:01.797
> 
> 标签：c#, error-handling, asp.net-4.0, webforms

在较长的 Winforms 中断之后，我回到了 ASP.NET 领域——我又回到了*应该*工作的东西上——但实际上不是......

我正在尝试实现一个全局 ASP.NET 错误处理程序和一个向开发人员显示错误的页面（在 DEV 环境中）。

在`global.asax.cs`中，我捕获了如下未处理的错误：

```
private void Application_Error(object sender, EventArgs e) 
{
    Exception ex = Server.GetLastError();

    if (ex != null) 
    {
       HttpContext.Current.Items["exception"] = ex;

       // do a bit more stuff here, like logging the error and so on 

       Server.Transfer("~/Error.aspx");
    }
} 
```

（*PS：作为旁注：正在使用`Server.GetLastError()`还是`HttpContext.Current.Error`首选方式？真的找不到任何关于什么更好用的确凿事实，以及为什么*）

在我的“开发”错误页面中，我试图在屏幕上显示错误 - 但试图得到该错误似乎难以捉摸 - 我只会回来`null`......

```
public partial class Error : System.Web.UI.Page 
{
    protected void Page_Load(object sender, EventArgs e) 
    {
        // both "exc" as well as "exc2" always end up being "null" ...
        Exception exc = HttpContext.Current.Error;
        Exception exc2 = HttpContext.Current.Items["exception"] as Exception;

        // display error .....
    } 
```

**为什么**？我假设如果我使用`Server.Transfer()`该错误仍然存​​在（我从不调用`Server.ClearError()`），并且如果那不起作用，那么我希望至少将异常粘贴到`HttpContext.Items`其中会起作用，因为那仍然是在同一内部运行的代码HTTP 上下文/请求 - 不是吗？

我在这里想念什么？*否则，我*如何将异常信息“传输”`global.asax.cs`到单独的错误页面中？

感谢所有提示和指示！

* * *

**更新：**好的——似乎这并不总是发生——在某些情况下，这种机制工作得很好（正如我所期望的那样）。

**但是：**我在页面上有一个网格，其中包含`ImageButton`编辑和删除等操作。我已经定义了一个`MyGridViewHandleRowCommand`事件处理程序来处理这些命令——但这似乎不起作用。每当我单击其中一个图像按钮时，我的错误页面就会被激活 - 是的，代码似乎**完全绕过**了我的全局`Application_Error`处理程序`global.asax`！在这种情况下，我无法在错误页面中获得有关错误的任何信息 - 一切都为空.....

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-10T13:56:51.707

### 解决了：

问题是在 Ajax 调用期间出现了问题，并且异步错误处理不能像“正常”错误处理那样工作，`Application_OnError`而是有自己的“路径”来访问错误页面。这就是我的错误页面被点击的原因，但没有找到错误。

除此之外，全局错误处理（对于非 Ajax 调用）按预期和编码工作。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-10T12:37:19.020

我想当您将 excption 设置为`Items`属性时，也许我可以`Server.ClearError()`在传输页面之前使用。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-10T13:29:37.610

在我的代码中，我将异常放在 Session 中并使用重定向到错误页面。

# php - 如果列表中有特定的变量或单词，如何用 PHP 隐藏

> ID：14257785
> 
> 赞同：0
> 
> 时间：2013-01-10T12:18:11.803
> 
> 标签：php, mysql

```
 <? if (isset($menu_filter_sizes)) { ?>
                     <? for ($i = 0; $i < count($menu_filter_sizes); $i++) { ?>
                            <? if (!empty($menu_filter_sizes[$i]['name'])) { ?>                                    
                            <li>
                                <? if ($page->sp_size == $menu_filter_sizes[$i]['id']) { ?>
                                <? } else { ?><a href=""><? }; ?>
                                    <? echo $menu_filter_sizes[$i]['name']; ?>
                                <? if ($page->sp_size == $menu_filter_sizes[$i]['id']) { ?>
                                <? } else { ?></a><? }; ?>
                                (<? echo $menu_filter_sizes[$i]['quantity']; ?>)
                            </li>
                            <? }; ?>
                        <? }; ?>
                <? }; ?> 
```

此代码生成具有不同值（例如大小）的列表。我在我的数据库中有一个名为**"Nosize"**的值。这是没有尺寸的产品的价值。呈现我拥有的 PHP 代码输出列表中的所有值。

如何使用 php 以名称**“Nosize”**隐藏该值？？？并仅显示其他值。换句话说，显示除“Nosize”之外的所有值。

MYSQL：

```
function GetShopFilterSizes($shopid,$category,$fcolor,$fbrand,$fytpe,$fpricefrom,$fpriceto){
    $thisdate = date("Y-m-d H:i:s", time());
    $sqlquery = "SELECT DISTINCT($this->basesq.size) AS id, $this->basesize.alias, $this->basesizelang.name, COUNT(DISTINCT($this->base.id)) as quantity FROM $this->base LEFT JOIN $this->basesq ON $this->basesq.productid = $this->base.id LEFT JOIN $this->basesize ON $this->basesq.size = $this->basesize.id LEFT JOIN $this->basesizelang ON $this->basesize.id = $this->basesizelang.sizeid AND $this->basesizelang.lang =  '".sql($this->thislang)."' WHERE $this->base.shopid = '".Sql($shopid)."' AND $this->base.exist = 1 AND $this->base.active = 1 AND $this->base.isdeleted = 0";
    if (count($category) > 0) {$sqlquery .= " AND (";};
    for ($i = 0; $i < count($category); $i++) {
        if ($i == 0) {$sqlquery .= "$this->base.categoryid = '".sql($category[$i])."'";}
        else {$sqlquery .= " OR $this->base.categoryid = '".sql($category[$i])."'";};
    };
    if (count($category) > 0) {$sqlquery .= ")";};

    if (!empty($fbrand)) {$sqlquery .= " AND $this->base.brand = '".sql($fbrand)."'";};
    if (!empty($ftype)) {$sqlquery .= " AND $this->base.type = '".sql($ftype)."'";};
    if (!empty($fcolor)) {$sqlquery .= " AND $this->basesq.color = '".sql($fcolor)."' AND $this->basesp.quantity > '0'";};
    if (!empty($fpricefrom)) {$sqlquery .= " AND ($this->base.price >= '".sql($fpricefrom)."')";};
    if (!empty($fpriceto)) {
        $sqlquery .= " AND (
            ($this->base.price <= '".sql($fpriceto)."') OR ($this->base.specialprice IS NOT NULL AND $this->base.specialprice < '".sql($fpriceto)."') OR ($this->base.salesprice IS NOT NULL AND $this->base.salesprice < '".sql($fpriceto)."' AND (($this->base.slprice_datestart IS NULL OR $this->base.slprice_datestart < '".$thisdate."') AND ($this->base.slprice_dateend IS NULL OR $this->base.slprice_dateend > '".$thisdate."')))
        )";
    };
    $sqlquery .= " GROUP BY $this->basesq.size";
    $result = mysql_query($sqlquery) or die(mysql_error()." in file: ".__FILE__.", line: ".__LINE__);
    return GetMySQLResultArray($result);
} 
```

整个 HTML 文本

```
<div class="box manufacturers">
                    <div class="box-heading" style="border-bottom: 1px solid #d8dae5;"><span><? echo $langdata['prlist_size']; ?></span></div>
                    <? if (isset($menu_filter_sizes)) { ?>
                    <div class="box-content">
                        <ul>
                            <? for ($i = 0; $i < count($menu_filter_sizes); $i++) { ?>
                                <? if($menu_filter_sizes[$i]['name']!='nosize') { ?>  
                                    <li>
                                    <? if ($page->sp_size == $menu_filter_sizes[$i]['id']) { ?><u>
                                    <? } else { ?><a href="<? echo ClearURL(array('success','size'),array('_size='.$menu_filter_sizes[$i]['alias'])); ?>"><? }; ?>
                                        <? echo $menu_filter_sizes[$i]['name']; ?>
                                    <? if ($page->sp_size == $menu_filter_sizes[$i]['id']) { ?></u>
                                    <? } else { ?></a><? }; ?>
                                    </strong> (<? echo $menu_filter_sizes[$i]['quantity']; ?>)
                                    </li>
                                    <?}else{?>
                                <? }; ?>
                            <? }; ?>
                        </ul>
                    </div>
                    <? }; ?>
                </div> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-10T12:25:11.667

```
<? if (isset($menu_filter_sizes)) { 
    for ($i = 0; $i < count($menu_filter_sizes); $i++) { 
    if($menu_filter_sizes[$i]['size']!='Nosize') {//check if size is not equal to Nosize

       } 
     } 
   } ?> 
```

您还可以在不需要的每一行打开和关闭 php 标签。

*更新：来自 OP 评论*

你需要把你的代码放在 div 之外

```
 <? if (isset($menu_filter_sizes)) { 
                for ($i = 0; $i < count($menu_filter_sizes); $i++) { 
                if($menu_filter_sizes[$i]['size']!='Nosize') {//check if size is not equal to Nosize

    ?>
       <div class="box manufacturers">

        </div>

    <?                                        
      } 
    } 
   } 
 ?> 
```

# iphone - 启动画面 Retina 3.5

> ID：14257788
> 
> 赞同：0
> 
> 时间：2013-01-10T12:18:17.987
> 
> 标签：iphone, ios6, splash-screen

我无法在启动图像中为 Retina 设备 3.5 添加启动画面，并且在使用基本图像运行时显示以下错误，![在此处输入图像描述](../Images/5df81d17b4e96dea7e523260b02ee219.png)

谁能帮我解决这个问题。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-10T12:24:46.447

首先检查...在您的项目目录中...Default@2x.png 是否可用...如果是，则删除...并清理项目...然后再次添加...

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-10T12:21:58.147

只需创建另一个具有名称的默认启动图像`Default@2x.png`并将其存储在您的项目中。

只需使用原始图像的两倍大小创建此`Default.png`图像...

# ejb - Weblogic 10.3.3 中的 EJB 资源注入

> ID：14257798
> 
> 赞同：0
> 
> 时间：2013-01-10T12:18:55.413
> 
> 标签：ejb, weblogic

我需要编写一个要部署到 WLS 10.3.3 的无状态会话 bean。会话 bean 应该能够将文本消息发送到通过 WLS 控制台创建的已知 JMS 队列。因此我编写了以下代码：

```
package com.mycompany.ejb;

import javax.annotation.Resource;
import javax.ejb.*;
import javax.jms.*;

@Stateless
@TransactionManagement(TransactionManagementType.CONTAINER)
public class MyEjb{

    @Resource(name = "jmsConnectionFactory")
    private ConnectionFactory jmsConnectionFactory;
    @Resource(name = "queue1")
    private Destination queue1;

    public MyEjb(){}

    public void sendMsgToQueue(String payload, ConnectionFactory connFactory, Destination destination) throws Exception{
        if(payload == null)
            throw new IllegalArgumentException("Message payload is null");
        if(connFactory == null)
            throw new IllegalArgumentException("Connection factory is null");
        if(destination == null)
           throw new IllegalArgumentException("Message destination is null");

        Connection connection = connFactory.createConnection();
        Session session = connection.createSession(true, Session.SESSION_TRANSACTED);
        MessageProducer messageProducer = session.createProducer(destination);
        TextMessage textMessage = session.createTextMessage();
        textMessage.setText(payload);
        messageProducer.send(textMessage);
    }

} 
```

我现在需要做的是提供一个有效的 weblogic-ejb-jar.xml 以及一个资源引用到 jndi-name 的映射。有人可以提供一个带有以下映射的 weblogic-ejb-jar.xml 示例：

*   jmsConnectionFactory 应该绑定到 jndi-name com.mycompany.jmsXAConnFactory 的连接工厂
*   queue1 应该绑定到 jndi-name com.mycompany.jmsQueue1 的队列

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-15T18:07:51.553

对我有用的 weblogic-ejb-jar.xml：

```
<?xml version='1.0' encoding='UTF-8'?>
<weblogic-ejb-jar xmlns="http://xmlns.oracle.com/weblogic/weblogic-ejb-jar" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
                  xsi:schemaLocation="http://xmlns.oracle.com/weblogic/weblogic-ejb-jar http://xmlns.oracle.com/weblogic/weblogic-ejb-jar/1.0/weblogic-ejb-jar.xsd ">
    <weblogic-enterprise-bean>
        <ejb-name>MyEjb</ejb-name>
        <stateless-session-descriptor></stateless-session-descriptor>
        <resource-description>
            <res-ref-name>jmsConnectionFactory</res-ref-name>
            <jndi-name>com.mycompany.jmsXAConnFactory</jndi-name>
        </resource-description>
        <resource-env-description>
            <resource-env-ref-name>queue1</resource-env-ref-name>
            <jndi-name>com.mycompany.jmsQueue1</jndi-name>
        </resource-env-description>
    </weblogic-enterprise-bean>
</weblogic-ejb-jar> 
```

# meteor - Synology NAS 上的 Meteor.js

> ID：14257799
> 
> 赞同：3
> 
> 时间：2013-01-10T12:18:58.223
> 
> 标签：meteor, nas

是否可以将流星应用程序部署到 Synology NAS 并从那里运行？如果是这样，怎么做？

我想我需要一个 node.js 服务器在我的 NAS 上运行，但我不知道它启动并运行时该怎么做。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-11T21:08:02.753

由于 Synology NAS 构建在 linux 之上，因此您可以在其上运行流星。

因为一些 Synology 的 NAS 单元使用 ARM cpu，您需要为 ARM 编译流星（意味着它的依赖项，例如 MongoDB 和 Node，所有这些都应该是可能的）。

查看[http://forum.synology.com/wiki/index.php/What_kind_of_CPU_does_my_NAS_have](http://forum.synology.com/wiki/index.php/What_kind_of_CPU_does_my_NAS_have)以确定您的 nas 的 CPU 是 x86 还是 ARM。如果是 ARM，则必须从源代码构建二进制文件。如果它的 x86 你可能只是运行`curl https://install.meteor.com | sh`

查看[https://github.com/meteor/meteor#slow-start-for-developers](https://github.com/meteor/meteor#slow-start-for-developers)以在您的单元上构建开发包。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2017-07-26T07:14:22.677

Meteor 也可以部署为普通的 node.JS 应用程序与 meteor deploy 或者您可以使用 demeteorizer ( [https://www.npmjs.com/package/demeteorizer](https://www.npmjs.com/package/demeteorizer) )

详情请查看：[https ://guide.meteor.com/deployment.html](https://guide.meteor.com/deployment.html)

# cakephp - 如何在 CakePHP 中添加 HABTM 记录？

> ID：14257803
> 
> 赞同：4
> 
> 时间：2013-01-10T12:19:18.387
> 
> 标签：cakephp, cakephp-2.2

我是 CakePHP 的新手，有一个相当基本的问题。我有两张桌子：`books`和`users`。 `books`并`users`有一个habtm关系。我已经为上面创建了 MVC。现在，当用户登录系统时，我希望用户能够`books_users`通过查看“索引”操作的结果来预订一本书（即 中的条目）。要使用的 API 是什么？

$this->Book->save() 似乎不合适，因为我们没有创建一本书。我们只想要现有`book`和登录之间的关联`user`。

我试图避免，检索 $this->Book，手动迭代子数组`User`，创建一个新的子数组并将整个内容保存回来。我相信一定有一个更简单的方法。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2014-01-04T06:09:53.270

改编自查克的回答，不确定为什么编辑被推迟。

* * *

## 在 app/Model/Book.php 中

```
class Book extends AppModel {

    /************************************************************************
     * If you want your multiple assoc. to work you must set unique to      *
     * false, otherwise when you save an entry it will enforce unique       *
     * on book ID and subsequently your associations will delete previously *
     * saved associations, acting more like "User HasMany Books".           *
     ************************************************************************/

    var $hasAndBelongsToMany = array(
        'User' => array(
            'className' => 'User',
            'unique' => false                    
    ));

    public function addUser($bid, $uid) {
        $this->data['User']['id'] = $uid;
        $this->data['Book']['id'] = $bid;

        $this->save($this->data);
    }

} 
```

## 在 app/Controller/BooksController.php（或 UsersController）中

```
$this->Book->addUser($bid, $uid); 
```

胖模型/瘦控制器。允许重复条目（您需要限制限制并检查重复项，否则默认行为会使 HMBTM 变得困难）。完全符合您的要求，您只需要提供书籍和用户 ID。

CakePHP 不倾向于鼓励复杂的关联，这是因为 HMBTM 只是一种方便，在将其与其他关联混合时应小心，根据下面提供的链接，自定义关联比 CakePHP 中的 HMBTM 更可预测

[http://book.cakephp.org/2.0/en/models/saving-your-data.html#what-to-do-when-habtm-becomes-complicated](http://book.cakephp.org/2.0/en/models/saving-your-data.html#what-to-do-when-habtm-becomes-complicated)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-16T16:14:35.803

您只需将包含两者 id 的记录保存到 Book 或 User，它就会将其插入到 HABTM 表中。

```
$this->data['User']['id'] = {USER_ID};
$this->data['Book']['id'] = {BOOK_ID};

$this->Book->save($this->data); 
```

查看 HABTM 表，您将找到记录。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-10T13:36:56.997

你烘焙你的应用程序了吗？此（基本）功能将提供给您以供您适应。

简而言之 - 拿`id`书和`id`用户的。将其保存到您的`books_users`表中。

```
id | book_id | user_id
 1         1         1
 2         2         2
 3         2         3 
```

如果您正确设置了关联，当您请求用户时，他们的所有书籍都将从连接表中返回。

您的逻辑将需要处理 - 可用的书籍数量，如果一个人可以一次预订多本书......

[http://book.cakephp.org/2.0/en/models/saving-your-data.html#saving-related-model-data-habtm](http://book.cakephp.org/2.0/en/models/saving-your-data.html#saving-related-model-data-habtm)

有一个例子。

# android - Android 应用程序因奇怪的错误而崩溃

> ID：14257806
> 
> 赞同：-2
> 
> 时间：2013-01-10T12:19:35.500
> 
> 标签：android, android-layout, android-listview

我有启动 ListActivity 的按钮，但每次单击它时，应用程序都会崩溃并出现以下 LogCat 错误：

```
01-10 13:12:51.327: E/AndroidRuntime(2970): FATAL EXCEPTION: main
01-10 13:12:51.327: E/AndroidRuntime(2970): java.lang.RuntimeException: Unable to start     activity ComponentInfo{com.app/com.app.Settings}: java.lang.RuntimeException: Your content must have a ListView whose id attribute is 'android.R.id.list' 
```

这是xml代码：

```
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
android:layout_width="fill_parent"
android:layout_height="fill_parent"
android:background="@color/background"
android:orientation="vertical"
android:padding="15dip" >

<ListView
    android:id="@+id/listViewSettings"
    android:layout_width="match_parent"
    android:layout_height="wrap_content" >
</ListView>

</LinearLayout> 
```

这是Java代码：

```
import java.util.ArrayList;

import android.app.ListActivity;
import android.os.Bundle;
import android.widget.ArrayAdapter;

public class Settings extends ListActivity {

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.settings);
        ArrayList<String> listItems=new ArrayList<String>();
        listItems.add("foo");
        ArrayAdapter<String> adapter = new ArrayAdapter<String>(this,
                android.R.layout.simple_list_item_1,
                listItems);
            setListAdapter(adapter);
    }

} 
```

我已经尝试将列表 ID 更改为，`list`但如果这样做，我会收到以下错误：

```
If I do this I get the following error: `Error: No resource found that matches the given name (at 'id' with value '@id/list').` 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-10T12:20:49.803

您的 XML 中的这一行：

```
android:id="@+id/listViewSettings" 
```

...必须是这样的：

```
android:id="@android:id/list" 
```

为什么？好吧，如果您希望它保持您的身份，则`ListActivity`要求您使用 id " " （使用 a 时同样适用）。`android.R.id.list``ListView``ListFragment`

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-10T12:22:18.157

`ListActivity``setContentView()`如果您只想显示`ListActivity`默认情况下包含 ListView的 ListView，则不需要您通过该方法为其分配布局。

如果您需要在您的活动中包含比 ListView 更多的视图，您`ListActivity`仍然可以为您的活动分配一个布局。在这种情况下，您的布局必须包含`android:id`属性设置为的 ListView `@android:id/list`。

因此，将您的列表 ID 更改为：

```
android:id="@android:id/list" 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-10T12:24:22.903

只需更改您的xml`ListView-id`

```
<ListView
android:id="@android:id/list"
android:layout_width="match_parent"
android:layout_height="wrap_content" >
</ListView> 
```

在这种情况下，您的布局必须包含一个`ListView`属性`android:id`设置为`@android:id/list`

# java - java中的内存如何表示null

> ID：14257808
> 
> 赞同：6
> 
> 时间：2013-01-10T12:19:43.633
> 
> 标签：java, memory, null

> **可能重复：**
> [Java 内存中究竟是什么 null](https://stackoverflow.com/questions/8320779/what-exactly-is-null-in-java-memory)

有谁知道一个对象或任何东西的内存中的空值是如何表示的。在 dot net 中，它由空指示符布尔值和相应类型的值表示（[请参阅此处](https://stackoverflow.com/questions/398966/how-is-null-represented-in-net)）。那么有人知道它是如何在java中完成的吗？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-01-10T12:22:34.760

来自[JVM 规范，第 2.4 节](http://docs.oracle.com/javase/specs/jvms/se7/html/jvms-2.html#jvms-2.4)：

> Java 虚拟机规范不要求使用具体的值编码 null。

所以它*可以*是任何东西，但它很可能是一个全为零的参考值。引用本身*可以*是简单的指针（即只是一个与本机指针相同的虚拟地址，具有适合体系结构的大小），但也不必如此。一些 JVM 有非常聪明的方法来处理引用——例如，Hotspot[能够在许多情况下使用 32 位值作为引用，即使在 x64 进程中运行时也是如此](https://wikis.oracle.com/display/HotSpotInternals/CompressedOops)。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-10T12:47:28.393

理论上它是 JVM 机密，实际上它在 32 位 VM 上为 0 (0x00000000)。如果你使用 Oracle JVM，你可以使用 sun.misc.Unsafe，它可以读取任何地址的内存内容，来验证。

```
public class Test {
    int i1 = 100;
    String s = null;
    int i2 = 200;

    public static void main(String[] args) throws Exception {
        Test test = new Test();
        System.out.println(getInt(test, "i1"));
        System.out.println(getInt(test, "s"));
        System.out.println(getInt(test, "i2"));
    }

    static int getInt(Test test, String name) throws Exception {
        Unsafe u = getUnsafe();
        long offset = u.objectFieldOffset(Test.class.getDeclaredField(name));
        return u.getInt(test, offset);
    }

    static Unsafe getUnsafe() throws Exception {
        Field f = Unsafe.class.getDeclaredField("theUnsafe");
        f.setAccessible(true);
        return (Unsafe) f.get(null);
    }
} 
```

输出

```
100
0
200 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-10T12:22:08.643

没有指定确切的表示，但我认为它`0x0`就像在其他类似 C 的语言上一样。它是一个特殊值，否则不会出现，而不是附加字段或额外信息。

注意：当你有它时，`String`它是一个*引用*而不是一个对象。这个 4 字节的值可以引用一个对象，或者在 的情况下`null`是一个不是有效对象的值。

顺便说一句：大多数 64 位 JVM 使用 32 位引用，除非堆为 32 GB 或更多。这在 OpenJDK JVM 中是可能的，因为所有对象都是 8 字节（或 16 字节）对齐的。由于低 3 位或 4 位始终为 0，因此不需要将地址范围扩展为典型 4 GB 范围的 8 倍或 16 倍。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-01-10T12:24:18.640

不应为 null 本身分配内存，因为 null 实际上不是有效的对象实例。它只是一个占位符，指示对象引用当前未引用对象。

当您执行以下操作时：

> 字符串 str = null;

唯一分配的是对字符串的引用（这类似于包含指针类型的语言中的字符串指针）。此引用是一个 32 位或 64 位变量（取决于您的硬件架构和 Java 版本），它驻留在堆栈中（可能取决于放置声明的确切上下文）。

# sql - 如何设置隔离级别，以便在一个事务完成后插入的数据可用于另一个事务？

> ID：14257810
> 
> 赞同：1
> 
> 时间：2013-01-10T12:19:55.243
> 
> 标签：sql, sql-server, azure-sql-database, isolation-level, transaction-isolation

我有以下表格（非常简化）：

```
Jobs: JobId, JobState
Data: DataId
JobsData: JobId, DataId 
```

的想法`JobsData`是，任何项目`Data`都可以与一个或多个项目相关联，`Jobs`并且每个项目都`Jobs`可以有一个或多个`Data`与之相关联的项目。

现在我有两个交易：

```
-- TRAN1
BEGIN TRAN
INSERT INTO Data VALUES (NewDataId)
INSERT INTO Jobs VALUES (NewJobId, StateInitial)
INSERT INTO JobsData VALUES (NewDataId, NewJobId)
UPDATE Jobs SET JobState=StateReady WHERE JobId=NewJobId
COMMIT TRAN

-- TRAN2
DECLARE @selectedId;
SELECT TOP (1) @selectedId=JobId FROM Jobs WITH (UPDLOCK, READPAST) WHERE JobState=StateReady
IF @selectedId IS NOT NULL
    SELECT DataId FROM JobsData WHERE JobId = @selectedId 
```

带有锁定提示的代码[来自这个答案](https://stackoverflow.com/a/5433995/57428)。它的目的是让多个`TRAN2`实例并行运行并且永远不会相同`JobId`。

该代码在 SQL Server （默认隔离级别`READ_COMMITTED`）上运行良好，但在 SQL Azure 中`TRAN2`有时运行不正确 - 第一个`SELECT`产生非 null `JobId`，但第二个`SELECT`产生和空结果集。我认为这是因为 SQL Azure 中的默认隔离级别是`READ_COMMITTED_SNAPSHOT`.

我想进行最少的更改以解决我的问题 - 以便`TRAN2`在第一个中检索 null`SELECT`或在第二个中检索正确的结果集`SELECT`。

我将哪些表命中应用于我拥有的哪些 SQL 语句？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-10T12:43:42.817

首先，如果您想要 Azure 中的队列，请使用[Azure Queues 或 Service Bus Queues](http://msdn.microsoft.com/en-us/library/windowsazure/hh767287.aspx)。

如果您坚持在关系上实现队列，请使用[Using Tables as Queues](http://rusanu.com/2010/03/26/using-tables-as-queues/)中的模式。具体来说：

*   不要使用状态字段而不是事件队列（“就绪”是作业队列中的记录，**是事件**， **而不是**作业的状态）。
*   出队使用`DELETE ... WITH OUTPUT ...`

相信我这个。

# c# - C# Sql参数添加

> ID：14257813
> 
> 赞同：0
> 
> 时间：2013-01-10T12:20:01.760
> 
> 标签：c#, stored-procedures, sqlparameter

我有一个关于我的 sql Duety 的课程，并且有我的问题我怎么能做这样的事情

```
SqlParameter storedparam = new SqlParameter();
SqlParameter param1 = new SqlParameter("@userid", SqlDbType.BigInt);
param1.Value = "87";
SqlParameter param2 = new SqlParameter("@ip",SqlDbType.VarChar,40);
param2.Value = "192.168.1.1";
storedparam = param1 + param2;  //this parth have problem
Db myobject = new Db(myconection);
myobject.writestoredpro("nameofsotred",storedparam ) 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-10T12:24:08.660

在 sql Duety 中，接受`SqlParameter[]`如下参数：

```
public void WriteStoredProcedure( string Query, params SqlParameter[] SqlParameters ) {
    // do it
} 
```

对于定义参数并希望一次性运行它的情况，您也可以像这样定义它：

```
SqlParameter storedParam = new SqlParameter("@ip",SqlDbType.Varchar,40) {
    Value = "192.168.1.1"
}; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-10T12:51:42.377

'writetostoredpro' 方法需要获取 SqlParameter 对象的集合，然后在方法内部，您需要遍历集合，将它们添加到 SqlCommand.Parameters 属性。看看这个链接： http: [//msdn.microsoft.com/en-us/library/system.data.sqlclient.sqlcommand.parameters.aspx](http://msdn.microsoft.com/en-us/library/system.data.sqlclient.sqlcommand.parameters.aspx)了解如何使用属性，以及 SqlCommand 类了解如何使用做：http: [//msdn.microsoft.com/en-us/library/z4956bkc.aspx](http://msdn.microsoft.com/en-us/library/z4956bkc.aspx)

# iphone - NSURLConnection Delegates 不会被 ios6 触发？

> ID：14257817
> 
> 赞同：1
> 
> 时间：2013-01-10T12:20:19.870
> 
> 标签：iphone, ios, ios6, nsurlconnection

在我的应用程序中，我使用 HTTP post 方法上传了一张照片，并从服务器获取响应并向用户显示状态。我的代码在 ios5 中运行良好，但是当我使用 ios6 运行时，它不会触发委托方法“ **`- (void)connection:(NSURLConnection *)connection didReceiveData:(NSData *)data`**”。它在我的应用程序中经常发生。当我运行应用程序时，我第一次触发上传按钮时它可以正常工作，而当我触发上传按钮时它不会调用委托方法。最后我粘贴了我的控制台日志。我在这里粘贴了我的代码供您参考。请帮我解决这个问题。提前致谢...

为什么我在这里需要**“ `didReceiveData`”**委托方法，我必须根据我上传的文件解析服务器响应。服务器响应只找到正确的**“ `didReceiveData`”**方法。

```
-(IBAction)upload:(id)sender
{
UIImage *test = [UIImage imageNamed:@"bottle.jpg"];
NSData *dataObj  = UIImageJPEGRepresentation(test, 1.0);

NSString *postLength = [NSString stringWithFormat:@"%d", [dataObj length]];

NSMutableURLRequest *request = [[[NSMutableURLRequest alloc] init] autorelease];

NSString *requestUrl =[API_URL stringByAppendingString:@"/abcDemo_uploadPhoto"];
[request setURL:[NSURL URLWithString:requestUrl]];
[request setHTTPMethod:@"POST"];
[request setValue:postLength forHTTPHeaderField:@"Content-Length"];
[request setValue:@"image/jpg" forHTTPHeaderField:@"Content-Type"];
[request setValue:@"123" forHTTPHeaderField:@"UserId"];
[request setHTTPBody:dataObj];

NSURLConnection *conn=[[NSURLConnection alloc] initWithRequest:request delegate:self];
if (conn)
{
    receiveData = [[NSMutableData data] retain];
} 
```

}

```
- (void)connection:(NSURLConnection *)connection   didSendBodyData:(NSInteger)bytesWritten
 totalBytesWritten:(NSInteger)totalBytesWritten
totalBytesExpectedToWrite:(NSInteger)totalBytesExpectedToWrite{

float progress = [[NSNumber numberWithInteger:totalBytesWritten] floatValue];
float total = [[NSNumber numberWithInteger: totalBytesExpectedToWrite] floatValue];

NSLog(@"progress/total %f",progress/total); 
```

}

```
- (void)connection:(NSURLConnection *)connection didReceiveResponse:(NSURLResponse *)response
{
    NSLog(@"didReceiveResponse");
    [receiveData setLength:0];
}

- (void)connection:(NSURLConnection *)connection didReceiveData:(NSData *)data{
    NSLog(@"didReceiveData");
    [receiveData appendData:data];
}

 - (void)connectionDidFinishLoading:(NSURLConnection *)connection{
     NSLog(@"connectionDidFinishLoading");
 }

 - (void) connection:(NSURLConnection *)connection didFailWithError:(NSError *)error
 {
     NSLog(@"didFailWithError");    
 } 
```

**我的控制台日志：**

## 第一次：

```
2013-01-10 06:24:41.446 SampleProject[1004:11c03] progress/total 1.000000
2013-01-10 06:24:41.893 SampleProject[1004:11c03] didReceiveResponse
2013-01-10 06:24:41.894 SampleProject[1004:11c03] didReceiveData
2013-01-10 06:24:41.894 SampleProject[1004:11c03] connectionDidFinishLoading 
```

## 第二次：

```
2013-01-10 06:24:49.535 SampleProject[1004:11c03] progress/total 1.000000
2013-01-10 06:24:49.605 SampleProject[1004:11c03] didReceiveResponse
2013-01-10 06:24:49.606 SampleProject[1004:11c03] connectionDidFinishLoading 
```

## 第三次：

```
2013-01-10 06:24:41.446 SampleProject[1004:11c03] progress/total 1.000000
2013-01-10 06:24:41.893 SampleProject[1004:11c03] didReceiveResponse
2013-01-10 06:24:41.894 SampleProject[1004:11c03] didReceiveData
2013-01-10 06:24:41.894 SampleProject[1004:11c03] connectionDidFinishLoading 
```

## 第 4 次：

```
2013-01-10 06:24:49.535 SampleProject[1004:11c03] progress/total 1.000000
2013-01-10 06:24:49.605 SampleProject[1004:11c03] didReceiveResponse
2013-01-10 06:24:49.606 SampleProject[1004:11c03] connectionDidFinishLoading 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-10T12:52:19.927

我认为您需要返回并开始检查 HTTP 响应。查看从服务器发回的状态代码和标头。

```
- (void)connection:(NSURLConnection *)connection didReceiveResponse:(NSURLResponse *)response
{
    NSLog(@"didReceiveResponse");
    if ([response isKindOfClass:[NSHTTPURLResponse class]]) {
        NSHTTPURLResponse *HTTPResponse;
        NSLog(@"HTTP/1.X %d\n%@", [HTTPResponse statusCode],
            [[HTTPResponse allHeaderFields] componentsJoinedByString:@"\n"]);
    }
    [receiveData setLength:0];
} 
```

您可能会看到类似 302 或某种 400 或 500 级别的错误。

# java-me - 现在在哪里使用 jme/j2me？

> ID：14257827
> 
> 赞同：4
> 
> 时间：2013-01-10T12:21:02.437
> 
> 标签：java-me, jvm, embedded

我刚刚读到一些[关于](http://www.h-online.com/developer/news/item/Qualcomm-launches-development-platform-for-the-Internet-of-Things-1779313.html)高通在 JME 之上推出物联网开发平台的消息，我想知道现在 jme/j2me 在哪里使用。我知道它用于一些旧手机，显然您仍然可以用于为 Bada 和 Symbian 开发应用程序。

但除此之外，还有其他使用它的领域吗？有人可以举例说明使用 Jme 的其他领域或指向实现与 jme 兼容的 jvm 的嵌入式设备的更新列表吗？

我看到的有关该主题的最新相关查询是这个[论坛讨论](http://www.coderanch.com/t/529810/JME/Mobile/Alive)，它并没有为这个问题带来太多启示。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-10T13:05:51.563

我认为它已经通过功能手机传播到智能手机仍然相当昂贵的地方。作为一个轶事，我的手机脚本语言 Hecl 大体上这些天并没有得到很大的关注，但*似乎*在印度尼西亚这样的地方得到了很多关注。

# selenium - 在 SpecFlow 和 Selenium 的功能设置中指定登录

> ID：14257829
> 
> 赞同：1
> 
> 时间：2013-01-10T12:21:04.440
> 
> 标签：selenium, bdd, specflow

我已经设置 SpecFlow 来执行一些 Selenium 测试来测试网站。这一切都很好！

我只是在考虑是否可能对 SpecFlow 功能的结构进行一些优化。

特定功能中的所有场景都应使用相同的登录名。这是我目前使用 [BeforeScenario()] 钩子在 StepDefinition 中硬编码的内容，因为我真的不想用登录信息污染场景。它与测试无关。

但同时，我想删除硬编码部分，并将其移至我的功能中。

我的问题是两部分。

1.  我可以在我的功能描述中指定登录凭据吗？有点像给定的：

    ```
    Feature: As a user I want to be able to see my ongoing orders, and interact with them.
    Given I am logged in with username abc and password xyz

    Scenario: See list of ongoing order
    Given I place an order
    When I navigate to MyOrders page
    Then I can see at least one order in the list 
    ```

2.  这是好习惯吗？

    我的意思是在功能级别上这样做是否有意义。这些场景不依赖于特定的顺序，如果我不需要为每个场景登录，它们会执行得更快。

感谢您的输入。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-10T12:54:32.940

对于功能中所有场景的通用步骤，您可以使用背景：

```
 Feature: As a user I want to be able to see my ongoing orders, and interact with them.

    Background:
    Given I am logged in with username abc and password xyz

    Scenario: See list of ongoing order
    Given I place an order
    When I navigate to MyOrders page
    Then I can see at least one order in the list 
```

过多滥用后台步骤可能是一种不好的做法，因为它会在您的场景之间引入耦合。

另一种解决方案是将登录部分直接放入“我下订单”步骤。这将消除有关登录内容的所有噪音，因为它暗示您需要登录才能下订单。

我还建议称它为“我已下订单”而不是“我下订单”。给定的步骤通常是描述使用功能之前发生的事情的前提条件（当步骤）

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-10T14:24:29.973

当我第一次阅读您的帖子时，我想到了[Dan North：这到底是谁的域名？](http://dannorth.net/2011/01/31/whose-domain-is-it-anyway/)这使我认为我们应该尝试编写测试，以便它们坚持一个单一的知识领域。当您在列表中谈论特定用户、导航和订单时，这与他给出的示例非常相似，因为您的规范是跨域的。这种引导我几乎使您的规范不那么具体，即它不是关于导航和检查列表，您是否有订单！

场景：查看正在进行的订单列表假设我使用用户名 abc 和密码 xyz 登录并且我下订单然后应该至少有一个订单

我想为您提供另一个示例链接，该链接指向我找不到的帖子，其中讨论了团队通过实际定义一些示例用户获得的好处以及为他们提供测试的价值。因此，在您的业务领域中，您可能有一个名为 Jack 的用户，他将在系统中下了大笔订单，而另一个潜在客户 Jill 没有订单。通过这种方式进行测试，例如

```
Given I am Jack
When I search for my orders
Then I will find 1

Given I am Jill
When I search for my orders
Then I will find 0 
```

可以保证您只是在测试您的搜索功能，而不是让设置到位。

我还建议您看一下[Liz Keogh：Acceptance Criteria vs Scenarios](http://lizkeogh.com/2011/06/20/acceptance-criteria-vs-scenarios/)，他断言更一般的广义定义不如非常具体的示例有价值。（毕竟是*通过示例说明:-)）*

因此，要回答您的问题，我认为拥有指定的用户是一件好事，但是按照您的方式进行操作是一条非常复杂的路线。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2020-12-16T15:23:58.690

给出的场景示例与 Feature 完全不符。

```
 Feature: As a user I want to be able to see my ongoing orders, and interact with them.

Background:
Given I am logged in as John Doe

Scenario: This is taking to long
And I have placed an order more than 29 days ago
When I navigate to MyOrders page
Then I can see my order in the list
and I am able to cancel it

Scenario: Track package
And I have been notified my order has been send
When I navigate to MyOrders page
Then I can see my order in the list
and I am able to navigate to the postman's site and see its status

Scenario: Review item
And I have received my package
When I navigate to MyOrders page
Then I can see my order in the list
and I am able to review the item

Scenario: Contact Seller
And I have placed an order two weeks ago
When I navigate to MyOrders page
Then I can see my order in the list
and I am able to ask the seller what is going on 
```

如您所见，When 和 Then 开始自我复制，您可能需要考虑将它们收起来。

# jquery - 在哪里导入 jquery.js 文件

> ID：14257830
> 
> 赞同：-1
> 
> 时间：2013-01-10T12:21:10.280
> 
> 标签：jquery

我想知道我应该在哪里写`<script src="jquery.js"></script>`一个 php 项目。我将它写在头部的主文件 menu.phpm 中，然后将此文件包含在其他文件中，但如果这样做，我使用的 jquery 函数在其他文件中不起作用，而如果我`<script src="jquery.js"></script>`在其他文件中再次添加，这行得通。我必须在我使用 jquery 函数的每个文件中都写吗？

谢谢你

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-10T12:27:11.647

不，您不需要在每个文件中都有 jquery.js。它应该只在`<head> </head>`tag 之间的一个文件中调用，比如说**menu.php**并且 menu.php 应该包含在每个页面中。记得在使用 jQuery 函数之前包含 menu.php。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-10T12:24:04.720

是的当然。无论您在何处使用 jquery 函数，都必须在函数调用之前包含此脚本。如果您使用 10 个文件，则必须全部包含在内。如果您有任何通用头文件，我建议您在该文件中包含 Jquery.js。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-10T12:25:14.570

尝试使用 src 的根相对路径而不是文档相对路径

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-10T12:25:24.307

您应该将此文件包含到您将使用此文件中的函数的每个页面中。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-01-10T12:27:12.873

是的，您必须在使用 jquery 函数的所有页面中添加 jquery 文件。

如果你有`index.php`它会动态包含其他 php 文件，`jquery.js`只需在这个文件的头部添加就可以了

**索引.php**

```
<html>
   <head>
      <script type="text/javascript" src="/path/to/jquery.js"></script>
      <script>
         // write your jquery functions after you've included the jquery.js file
      </script>
   </head>
   <body>
      <?php include("path/to/other/files/other_file.php"); ?>
   </body>
</html> 
```

**other_file.php**

```
<div>This is some content included dinamically</div> 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-01-10T12:28:46.493

创建一个名为“imports.php”的新文件并将此文件导入其中。之后确保在调用 jquery 的方法之前在每个文件的标题中导入 imports.php。

# asp.net-mvc - 实体框架 4：搜索的最佳实践？

> ID：14257831
> 
> 赞同：0
> 
> 时间：2013-01-10T12:21:15.557
> 
> 标签：asp.net-mvc, entity-framework

我正在使用 EF4 开发 ASP.NET MVC 3 应用程序。我有大约 50,000 个实体，我正在通过 LINQ 查询它们以找到最符合给定搜索条件的内容。有多个搜索标准（最多约 12 个），这些是逐步匹配的。

例如：50,000 名学生

1.  获取年龄范围内的学生 -> A

2.  从 A 中获取男学生 -> B

3.  从 B 获取已注册课程 CS101 -> C 的学生

实现这一目标的最佳方法是什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-10T12:38:45.703

一步一步对 SQL 来说意义不大，您的 linq 查询将转换为 sql 以查询数据库...

所以

```
//I'm a IQueryable
    var queryableStudents = 
       students.Where(m => 
                         m.Age > 10 &&
                         m.Gender == 'm' &&
                         m.CourseList.Any(x => x.Name == 'CS101');

//I'm no more an IQueryable
    var result = queryableStudents.ToList();//the query will be sent to db and result returned. 
```

但如果搜索条件是可选的，你可以这样做

```
//I'm a IQueryable
var queryableStudents = students;

if (searchCriteria.Age > 0)
//I'm still a IQueryable
  queryableStudents = queryableStudents.Where(m => m.Age => searchCriteria.Age);

if (!String.IsNullOrEmpty(searchCriteria.Gender))
//I'm still a IQueryable
  queryableStudents = queryableStudents.Where(m => m.Gender == searchCriteria.Gender);
//Now  I'm no more an IQueryable
var result = queryableStudents.ToList()//the query will be sent to db and result returned. 
```

如果你想要一个“真实的”一步一步，（显示每一步的结果），你可以做

```
//I'm not an IQueryable
    var a= students.Where(m => m.Age > 10).ToList();//you will get all students from your db who respect your first criterion, and then work on an IEnumerable, not an IQueryable.

//I'm not  IQueryable
    var b= a.Where(m => m.Gender == 'm');

//I'm not an IQueryable
    var c= b.Where(m => m.CourseList.Any(x => x.Name == "CS101"); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-01-25T03:07:52.200

回答我自己的问题 - 经过一番思考，我发现最有效的方法是使用[ElasticSearch](http://www.elasticsearch.org/)之类的东西来索引我想要的条目。

给定的用例对于 LINQ/C# 来说不是一个很好的用例。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-10T12:35:31.417

```
var A = from s in students 
        where ((s.age < max) && (s.age > min)) 
        select s;
var B = from a in A
        where (a.gender.Equals("Male")) 
        select a;
var C = from b in B
        where (b.EnrolledCourses().Contains("CS101")) 
        select b; 
```

# db2 - 使用 DB2，“statement.executeQuery()”只在我的系统中抛出 SqlEception

> ID：14257834
> 
> 赞同：0
> 
> 时间：2013-01-10T12:21:19.657
> 
> 标签：db2, websphere-6.1

```
//Class UserProfileDBUtil.java

Connection conn = null;
PreparedStatement statment = null;
    ResultSet rs = null;
    try{
        String sqlString = "select count(*) from "+AGENCY_SCHEMA_NAME+".AGENCY         WHERE AGENCYCODE= ? and ENABLEDFLAG = ?";
        conn = JDBCUtils.getConnection(JDBCUtils.WP_ODS);
        statment = conn.prepareStatement(sqlString);
        statment.setString(1, agencyCode.toUpperCase());
        statment.setString(2, "Y");
        rs =statment.executeQuery();  // SQL Error Line 42
        while(rs.next())
        {
            if(rs.getInt(1) > 0 )
            {
                return true;
            }
        }
        log.error("Agency for agency code "+agencyCode+" is not available or not active");
    } 
```

日志 ：

com.ibm.db2.jcc.b.SqlException: DB2 SQL 错误: SQLCODE: -401, SQLSTATE: 42818, SQLERRMC: = at com.ibm.db2.jcc.b.sf.e(sf.java:1680) at com.ibm.db2.jcc.b.sf.a(sf.java:1239) 在 com.ibm.db2.jcc.c.jb.h(jb.java:139) 在 com.ibm.db2.jcc。 c.jb.a(jb.java:43) 在 com.ibm.db2.jcc.cwa(w.java:30) 在 com.ibm.db2.jcc.c.cc.g(cc.java:161)在 com.ibm.db2.jcc.b.sf.n(sf.java:1219) 在 com.ibm.db2.jcc.b.tf.gb(tf.java:1818) 在 com.ibm.db2.jcc .b.tf.d(tf.java:2294) 在 com.ibm.db2.jcc.b.tf.X(tf.java:508) 在 com.ibm.db2.jcc.b.tf.executeQuery(tf .java:491) 在 com.ibm.ws.rsadapter.jdbc.WSJdbcPreparedStatement.executeQuery(WSJdbcPreparedStatement.java:559) 在 UserProfileDBUtil.isAgencyActive(UserProfileDBUtil.java:42)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-10T13:50:50.183

你得到的错误是 a `-401`，[这意味着](http://publib.boulder.ibm.com/infocenter/db2luw/v9r7/topic/com.ibm.db2.luw.messages.sql.doc/doc/msql00401n.html)：

> 操作的操作数的数据类型`operator`不兼容或不可比较。

我会检查并确保您传入的参数使用正确的数据类型。如果你捕捉到异常，你应该能够使用异常`Message`属性来查看异常是什么`operator`。 有关示例，[请参见此处。](http://publib.boulder.ibm.com/infocenter/iseries/v7r1m0/index.jsp?topic=/rzaha/exceptions.htm)

# asp.net-mvc - IBodyModelValidator 自定义实现

> ID：14257835
> 
> 赞同：2
> 
> 时间：2013-01-10T12:21:40.903
> 
> 标签：asp.net-mvc, asp.net-mvc-4, asp.net-web-api

是否有任何示例/指南如何为 ASP.NET MVC WebAPI 堆栈实现自定义 IBodyModelValidator？试图用谷歌搜索它，但没有发现任何有趣的东西......

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-10T14:06:47.183

我同意的例子似乎不多。

这取决于您在自定义验证中实际尝试实现的目标 - 但鉴于`DefaultBodyModelValidator`实际上将其验证推迟到模型的正确验证器（通过查找所需的验证器`ModelValidatorProvidor`）......也许您的逻辑扩展点应该改为是实现一个自定义[`ModelValidatorProvidor`](http://www.codeproject.com/Articles/463900/Creating-a-custom-ModelValidatorProvider-in-ASP-NE)（[这里的例子](http://www.codeproject.com/Articles/463900/Creating-a-custom-ModelValidatorProvider-in-ASP-NE)），然后让 BodyModelValidator 代替它。

在任何情况下，如何实现自定义的最佳示例可能是查看默认代码的代码。这可在 CodePlex 网站上[找到](http://aspnetwebstack.codeplex.com/SourceControl/changeset/view/effb15ece69a#src/System.Web.Http/Validation/DefaultBodyModelValidator.cs)。

# java - 过渡后背景未正确渲染

> ID：14257836
> 
> 赞同：2
> 
> 时间：2013-01-10T12:21:41.840
> 
> 标签：java, user-interface, javafx-2

我在 javaFx2 中遇到了一个奇怪的行为，当移动窗格时，它比当前场景大。窗格在 css 文件中设置了背景图像，例如：

```
#foo {
    -fx-background-image: url("bar.png");
} 
```

图像一开始是正确渲染的，但是当我移动窗格（以在场景中显示它的不同部分）时，窗格是白色的，在移动之前它是不可见的，而背景图像应该是。

移动代码：

```
private void moveCameraTo(Point p) {
    TranslateTransition translate = TranslateTransitionBuilder.create()
            .node(pane)
`   `       .toX(someX)
            .toY(someY)
            .duration(DEFAULT_TRANSITION_TIME)
            .build();
    translate.play();
} 
```

这是失败的图像：

![http://img204.imageshack.us/img204/4796/renderfail.jpg](../Images/9fdd6db4902f293c2d4ba9f3d153c49d.png)

当我通过拖动它的边界来调整场景的大小时，背景就会被正确渲染。

我在移动窗格时是否做错了什么，例如缺少更新方法（尽管我怀疑这存在于 javaFx2 中）或设置窗格的成员？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-10T17:23:41.827

经过大量搜索和尝试，我得出结论，这种行为是一个错误。

一种解决方法是，使用 a`ScrollPane`而不是普通`Pane`的，并通过在 a 中设置 vvalue 和 hvalue 来移动“相机” `Timeline`，如下所示：

```
private void moveCameraTo(Point p) {
        KeyValue yVal = new KeyValue(this.scrollPane.vvalueProperty(),
                p.getY(),
                Interpolator.EASE_BOTH);
        KeyValue xVal = new KeyValue(this.scrollPane.hvalueProperty(),
                p.getX(),
                Interpolator.EASE_BOTH);
        Timeline yTimeline = TimelineBuilder.create().autoReverse(false)
                .keyFrames(new KeyFrame(DEFAULT_TRANSITION_TIME, yVal)).build();
        Timeline xTimeline = TimelineBuilder.create().autoReverse(false)
                .keyFrames(new KeyFrame(DEFAULT_TRANSITION_TIME, xVal)).build();

        yTimeline.play();
        xTimeline.play();
    } 
```

我希望这可以帮助遇到同样问题的每个人。如果有人有更好的解决方案，请发布！

# python - 在 python mechanize 浏览器中使用 polipo 和 tor 会显示一个站点上的 ip 而不是另一个站点

> ID：14257839
> 
> 赞同：1
> 
> 时间：2013-01-10T12:21:46.027
> 
> 标签：python, proxy, tor

我对网络的了解很少。我发现了一个悖论，需要有关如何解决此问题的建议。

实验 1：在 python 脚本中带有 tor/polipo http 代理的机械化浏览器请求 URL。实际 IP 显示在站点的日志中。（意外结果：我希望公开 Tor IP。）

实验 2：在 python 脚本中带有 tor/polipo http 代理的机械化浏览器向 whatismyip 请求 URL。结果中显示的 Tor 代理 IP。（预期的）

实验 3：使用 tor 代理的 Firefox 浏览器指向 whatismyip。显示与实验 2 相同的 IP。（预期的）

实验4：没有代理的Chrome浏览器指向whatismyip，机器的实际IP如实验1所示。（预期）

实验 5：Mac OS X 系统网络设置中的 HTTP 代理设置为在监听端口 8123 上使用 tor/polipo 代理。实验 4 中的 Chrome 浏览器现在显示与实验 2 和 3 相同的 tor IP。（预期）

Tor 正在运行。Polipo 正在运行并配置为使用 Tor 端口 9050。

我的python代码：

```
 import sys, time, os
    from mechanize import Browser
    br = Browser()              # Create a browser
br.set_proxies({"http": "localhost:8123"}) #set proxy
result = br.open(URL)           # Open the login page
print result.read()                     #print resulting output 
```

在哪里

```
 URL = 'http://affinityehealth.com' | URL = 'http://whatismyip.com'

    #case 1 is able to find the actual IP using the browser in mechanize but not with any other browser using the tor proxy 
```

我试图向网站管理员指出，虽然记录 IP 很有用，但它并不能证明签入人员的实际位置。几周以来，我已经使用 tor 证明了虽然我的实际位置没有改变，当我通过 tor 签入时，信息请求者的物理位置似乎在站点的日志中发生了变化。

当我使用 mechanize 以自动方式访问该网站进行测试时，我真的希望我的 tor IP 出现。

我有最后一个实验要尝试，那就是在网络控制面板中将我的系统范围代理设置设置为 tor。我真的很讨厌让这个检查来进行常规浏览，因为它明显慢得多。我只希望我的 python 脚本通过 polipo http 代理使用 tor。

蟒蛇新手。新的 tor。网络新手，所以我提前感谢您在您的简单解释中冗余冗余。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-24T22:55:00.233

这适用于 tor 和 mechanize：

```
import socks
import socket
def create_connection(address, timeout=None, source_address=None):
    sock = socks.socksocket()
    sock.connect(address)
    return sock

socks.setdefaultproxy(socks.PROXY_TYPE_SOCKS5, "127.0.0.1", 9050)

# patch the socket module
socket.socket = socks.socksocket
socket.create_connection = create_connection

import urllib2

print urllib2.urlopen('http://icanhazip.com').read()

import mechanize
from mechanize import Browser

br = Browser()
print br.open('http://icanhazip.com').read() 
```

# asp.net-mvc - Linq 关系表包括

> ID：14257840
> 
> 赞同：1
> 
> 时间：2013-01-10T12:21:50.173
> 
> 标签：asp.net-mvc, linq, entity-framework, group-by

我有 4 个关系表；

1.  类别
2.  产品
3.  产品品牌
4.  产品图片

我需要`linq`查询包括*3 个表*分组`ProductBrand from CategoryId`。

我试试这个；

```
var PBrand = from b in db.ProductBrands
                       join p in db.Products on b.BrandId equals p.BrandId
                       join i in db.ProductImages on p.ProductId equals i.ProductId 
                       where b.CategoryId == 5
                       select b; 
```

但是`Products`并且`ProductImages`为空。我如何在桌子上包括`Products`和桌子？`ProductImages``Brand`

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-10T12:37:28.123

使用[包含](http://msdn.microsoft.com/en-us/library/system.data.entity.infrastructure.dbquery.include%28v=vs.103%29.aspx)

```
from b in db.ProductBrands.Include("Products.ProductImages") 
where b.CategoryId == 5
select b; 
```

或者[扩展方法`Include`](http://msdn.microsoft.com/en-us/library/gg671236%28v=vs.103%29.aspx)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-10T12:31:49.300

而不是只**选择 b**，像这样写 select b.col1, i.col1, b.coln, i.coln....;

以上将始终返回匿名类型对象而不是特定类...

谢谢

# sql - 在 postgresql 中连接

> ID：14257841
> 
> 赞同：2
> 
> 时间：2013-01-10T12:21:51.230
> 
> 标签：sql, string, postgresql, string-concatenation

我使用 postgresql 创建了一个函数。但是当我尝试执行它时，这个函数会返回错误。错误`"ERROR: syntax error at or near "||"`

```
CREATE OR REPLACE FUNCTION search_address_book(address_ids character)
  RETURNS void AS
$BODY$ 
SET sqlStatement = 'select * from addressbook';
SET address_ids = 'Post' || 'greSQL';
$BODY$
LANGUAGE 'sql' STABLE
COST 100; 
```

我的服务器版本是 8.3.14。这是错的吗？如何在 postgresql 中连接两个字符串？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-01-10T12:44:08.493

要使用变量，您需要一个`plpgsql`函数：

```
CREATE OR REPLACE FUNCTION search_address_book(address_ids character)
  RETURNS void AS
$BODY$
declare
   sqlStatement text;
   address_ids text;
begin
   sqlStatement := 'select * from addressbook';
   address_ids := 'Post' || 'greSQL';
end
$BODY$
LANGUAGE plpgsql STABLE; 
```

# file - 没有扩展名的bash文件添加扩展名

> ID：14257844
> 
> 赞同：2
> 
> 时间：2013-01-10T12:21:56.960
> 
> 标签：file, bash, scripting

我正在尝试编写一个非常简单的 bash 脚本，以便将文件扩展名 (.java) 添加到一堆没有扩展名的文件中。

如果他们有扩展名（比如 .txt），我会这样做：

```
#!/bin/bash
for file in `*.txt`; 
do mv $file $file.java; 
done 
```

但是，我的文件没有扩展名。如何制作循环？我试过`*.`没有运气。

谢谢你。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-10T12:25:08.827

```
#!/bin/bash
for file in *; do
  mv "$file" "$file".java; 
done 
```

如果您只想移动没有扩展名的文件，请尝试：

```
#!/bin/sh
for file in *; do
  test "${file%.*}" = "$file" && mv "$file" "$file".java;
done 
```

请注意，如果您的文件名合理，则上述所有双引号都是多余的。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-10T12:47:53.913

尝试：

```
find . -maxdepth 1 -type f | sed 's/^\.\///; /\./d' | while read x; do mv "$x" "$x.java"; done 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-10T12:29:29.960

```
ls -1 | nawk '/.txt/{old=$0;gsub(/.txt/,".txt.java",$0);system("mv \""old"\" "$0)}' 
```

[从这里](http://theunixshell.blogspot.com/2013/01/bulk-renaming-of-files-in-unix.html)更新了答案

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-10T12:30:28.867

```
#!/bin/bash
for file in *.txt ; do mv $file `echo $file | sed 's/\(.*\.\)txt/\1java/'` ; done 
```

# javascript - JavaScript 中的多行字符串注释

> ID：14257847
> 
> 赞同：3
> 
> 时间：2013-01-10T12:22:04.417
> 
> 标签：javascript, string, comments, multiline

是否有可能在 javascript 多行字符串中添加注释？

像这样的东西：

```
var string = 'START - \
This is part of my string\
\\ This should be escaped!\
-END ';

// string = 'START - This is part of my string - END'; 
```

谢谢

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-10T12:25:05.633

我发现了一种可能性：

```
var string ='START - \
This is my string'+
// This should be escaped!
' - END';

// string = 'START - This is my string - END' 
```

但这不是很好...

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-01-10T12:27:44.337

这是不可能的。你可以做：

```
var s = "multi line" +
        //" line" +
        " string"; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-10T12:27:40.753

你有没有尝试过这样的事情？

```
var string = 'This is part of your string';
string += 'This is second part of your string'; //Comment yout want to add
string += 'This is thirdpart of your string'; 
```

# android - 无法从广播接收器类android访问数据库

> ID：14257853
> 
> 赞同：0
> 
> 时间：2013-01-10T12:22:24.757
> 
> 标签：android, database, broadcast

我可以从我的活动中访问数据库功能，它工作正常。但是当我在广播接收器类中使用它时，它会失败并给我 cursor 的默认值，我的 logcat 显示：

> 从未在数据库 DatabaseObjectNotCloseException 上显式调用 close()

我也做过

```
db = context.openOrCreateDatabase("blitz.db", 0, null);    
dh=new DataHelper(context); 
```

并将方法的上下文传递`onReceiver`给`DataHelper`Class。它在这一行显示错误

```
OpenHelper openhelper=new OpenHelper(this.context);
this.db=openhelper.getWritableDatabase(); 
```

请让我知道我哪里出错了

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-10T12:45:20.753

请记住，BroadcastReceiver 在主线程上运行，**最长**寿命为 10 秒，因此您不应该在`onReceive(...)`.

相反，您应该启动一个服务以在工作线程上执行您长时间运行的工作。我建议看一下`IntentService`。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-10T12:53:45.897

完成数据库工作后始终关闭数据库，

为简单起见，在您的 databaseHandler 类中创建以下方法，

```
public void Open_DB(SQLiteDatabase db){
   return this.getWritableDatabase();
    } 

public void Close_DB(SQLiteDatabase db){
    db.close();
    } 
```

并在您的活动或服务中使用此方法，

```
OpenHelper openhelper=new OpenHelper(getApplicationContext());
 SQLiteDatabase db=openhelper.Open_DB(db)
openhelper.some_Operation(db);
db.Close_DB(db); 
```

或者您可以在单个方法（在您的数据库处理程序类中）中打开和关闭数据库

```
public void deleteRecord(String id) {
        SQLiteDatabase db = this.getWritableDatabase();
        db.delete(TABLE_REMINDER, REMINDER_ID + " = ?",
                new String[] { String.valueOf(id)});
        db.close();
    } 
```

并从您的活动中调用此方法，

```
public void Delete_A_Reminder(String id){
     DatabaseHandler mydb=new DatabaseHandler1(getApplicationContext());
     mydb.deleteRcord(id);
 } 
```

一般来说，如果你想打开之前已经打开的房子的窗户，那么你必须关闭它并再次打开它，如果你的数据库已经打开并且如果你想再次打开它，那么你有先关闭它。这样您就可以再次打开它。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-10T13:05:22.950

覆盖`OnStop()`并关闭那里

```
@Override
public void OnStop()
{
   if(db!=null)
    {
     db.close();
     }
 } 
```

它应该摆脱你的错误。

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2013-01-10T12:35:38.633

广播接收器在不同的线程上监听不同的进程。要进行通信，您需要使用异步方法。我 android 最好的方法是注册一个处理程序并使用 bundle [in Intent] 进行通信。

# twilio - 通话正在进行时需要 twilio 响应

> ID：14257859
> 
> 赞同：1
> 
> 时间：2013-01-10T12:23:02.343
> 
> 标签：twilio

我正在使用 TWILIO 在我的应用程序中提供呼叫功能。我正在使用 javascript 和 php 来完成此操作。我正在使用以下代码并且我的通话工作正常但是我想在通话进行时在页面上显示通话持续时间。我无法获得通话记录/详细信息。你能帮我么 。提前致谢 ：

```
 <?php
 include 'Services/Twilio/Capability .php';
 // put your Twilio API credentials here
 $accountSid = 'AC';
 $authToken = 'ce';
// put your Twilio Application Sid here
$appSid = 'AP';
$capability = new Services_Twilio_Capability($accountSid, $authToken);
$capability->allowClientOutgoing($appSid);
$capability->allowClientIncoming('Harry');
$token = $capability->generateToken();
?>
<!DOCTYPE html>
<html>
<head>
<title>Hello Client</title>
<script type="text/javascript"
src="//static.twilio.com/libs/twiliojs/1.1/twilio.min.js"></script>
<script type="text/javascript"
src="https://ajax.googleapis.com/ajax/libs/jquery/1.6.2/jquery.min.js">
</script>
<link href="http://static0.twilio.com/packages/quickstart/client.css"
type="text/css" rel="stylesheet" />
<script type="text/javascript">
Twilio.Device.setup("<?php echo $token; ?>");
Twilio.Device.ready(function (device) {
$("#log").text("Ready");
});
Twilio.Device.error(function (error) {
$("#log").text("Error: " + error.message);
});
Twilio.Device.connect(function (conn) {
$("#log").text("Successfully established call");
});
Twilio.Device.disconnect(function (conn) {
$("#log").text("Call ended");       
Twilio.Device.parameters();
});
Twilio.Device.incoming(function (conn) {
$("#log").text("Incoming connection from " + conn.parameters.From);
// accept the incoming connection and start two-way audio
conn.accept();
});  
function call() { 
// get the phone number to connect the call to
params = {"PhoneNumber": $("#number").val()};
Twilio.Device.connect(params);
}
function hangup() {
Twilio.Device.disconnectAll();
}
</script>
</head>
<body>
<button class="call" onclick="call();">
Call
</button>
<button class="hangup" onclick="hangup();">
Hangup
</button>
<input type="text" id="number" name="number"
placeholder="Enter a phone number to call"/>
<div id="log">Loading pigeons...</div>
</body>
</html> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-28T16:25:30.513

调用回调函数时每 1000 毫秒左右运行一个函数（[使用 setInterval](https://developer.mozilla.org/en-US/docs/DOM/window.setInterval)）[`Twilio.Device.connect`](https://www.twilio.com/docs/api/client/device#connect)（这发生在 VoIP 呼叫开始时）。每次触发 setInterval 中的函数时，使用新的时间值更新页面上的 HTML 元素。调用结束时使用`Twilio.Device.disconnect`回调函数停止计时器并根据需要更新 UI。

# javascript - Javascript 动态添加事件监听器和节点参考

> ID：14257871
> 
> 赞同：2
> 
> 时间：2013-01-10T12:23:26.500
> 
> 标签：javascript, dom-events, addeventlistener

这有效（在 Firefox 中）...

HTML

```
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<script type="text/javascript" src="src/myJS.js"></script>
</head>
<body></body>
</html> 
```

Javascript 文件（为方便起见称为 myJS.js）

```
window.onload = function()
{
    CreateInputTable();
};

CreateInputTable = function()
{
    var tbl = document.createElement('table');
    var tbo = document.createElement('tbody');
    var tr = document.createElement('tr');
    var td1 = document.createElement('td');
    var ib = document.createElement('input');
    ib.setAttribute('type', 'text');

    var tdID = "c1"; // Cell reference

    if (ib.addEventListener)// all browsers except IE before version 9 - see http://help.dottoro.com/ljeuqqoq.php
        {
            ib.addEventListener('change', foo, false);
        }
    else// IE before version 9 - see http://help.dottoro.com/ljeuqqoq.php
        {
            ib.attachEvent('change', foo, false);       
        };

    td1.appendChild(ib);
    tr.appendChild(td1);

    var td2 = document.createElement('td');
    td2.setAttribute('id', tdID);
    td2.appendChild(document.createTextNode("Hello world"));
    tr.appendChild(td2);

    tbo.appendChild(tr);
    tbl.appendChild(tbo);
    document.getElementsByTagName('body')[0].appendChild(tbl);
};

function foo (){
    if (document.getElementById("c1"))
        {
        document.getElementById("c1").appendChild(document.createTextNode(" and goodbye"));             
        }
}; 
```

但是，我想动态地将单元格引用“c1”传递给事件侦听器。

如果我理解正确，我无法将呼叫更改为...

```
ib.addEventListener('change', foo(tdID), false); 
```

因为括号将返回 的返回值`foo`，而不是`foo`作为函数。

但是，我可以通过将 tdID 的声明更改为

```
this.var tdID = "c1"; 
```

... 和 foo 到

```
function foo (){
    if (document.getElementById(tdID))
        {
        document.getElementById(tdID).appendChild(document.createTextNode(" and goodbye"));             
        }
}; 
```

如果我理解正确，它可以工作，因为在 .in`foo`中被调用`CreateInputTable`，这意味着它可以在`CreateInputTable`.

但是，这不会给我我想要的，因为我想为 tdID 创建一个具有新值的第二行。上面的示例似乎只是将单元格引用硬编码为`foo`.

如何动态地将单元格引用传递给`foo`（以面向对象的样式）？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-10T12:41:27.410

一种优雅的方式是这样的：

```
function foo (tdID){
    return function(){
        if (document.getElementById(tdID))
        {
            document.getElementById(tdID).appendChild(document.createTextNode(" and goodbye"));             
        }
    }
}; 
```

然后你实际上可以写

```
ib.addEventListener('change', foo(tdID), false); 
```

因为调用`foo(tdID9)`将返回一个具有正确数量参数的函数，并且“知道” `tdID' 的正确值，因为它是在内部函数的闭包中捕获的。

这种技术称为[柯里](http://en.wikipedia.org/wiki/Currying)化。

# r - R 错误命令的输出

> ID：14257876
> 
> 赞同：0
> 
> 时间：2013-01-10T12:23:39.423
> 
> 标签：r, output

我正在从 R 运行 winbugs，我需要在 R 输出中使用一些变量。当我输入`schools.sim$mean$theta[1]`R 时，我得到 10.2。但是，当我键入`schools.sim$2.5%$theta[1]`错误消息时出现。任何人我做错了什么或任何其他方式来获得贝叶斯间隔？

这是一个例子

```
Here is the R code
library(R2WinBUGS)
data(schools)
J <- nrow(schools)
y <- schools$estimate
sigma.y <- schools$sd
data <- list ("J", "y", "sigma.y")

inits <- function(){
list(theta = rnorm(J, 0, 100), mu.theta = rnorm(1, 0, 100),
sigma.theta = runif(1, 0, 100))
}

schools.sim <- bugs(data, inits, model.file = "D:/model.txt",
parameters = c("theta", "mu.theta", "sigma.theta"),
n.chains = 3, n.iter = 1000,
bugs.directory = "D:/PROGRAMLAR/WinBUGS14/")

schools.sim 
```

这是 winbugs 代码，必须`model.txt`以`D`.

```
model {
for (j in 1:J)
{
 y[j] ~ dnorm (theta[j], tau.y[j])
 theta[j] ~ dnorm (mu.theta, tau.theta)
 tau.y[j] <- pow(sigma.y[j], -2)
 }
mu.theta ~ dnorm (0.0, 1.0E-6)
tau.theta <- pow(sigma.theta, -2)
sigma.theta ~ dunif (0, 1000)
} 
```

不要忘记更改存储 winbugs 文件夹的 bugs 目录。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-10T12:34:37.640

可以使用以下方法观察到相同的行为`quantile`：

```
> quantile(runif(100))$0%
Error: unexpected numeric constant in "quantile(runif(100))$0" 
```

只需使用：

```
> quantile(runif(100))['0%']
        0% 
0.03293488 
```

问题是这`%`是 R 中的保留字符。

# wpf - 在代码隐藏中设置 WPF UI 权限

> ID：14257877
> 
> 赞同：1
> 
> 时间：2013-01-10T12:23:42.043
> 
> 标签：wpf, permissions

我正在寻找是否可以在 WPF 中执行以下操作：

用户打开 WPF 应用程序并使用用户 AD 名称，我将检查自定义数据库中的用户角色。这将类似于 asp.net 会员数据库。

根据用户角色，WPF 将显示某些控件。

例如，如果我是管理员，那么我可以访问所有内容，但如果我是只读用户，那么我对应用程序的访问权限将受到限制。

我知道我可以使用以下示例设置可见性：

```
public class RoleToVisibilityConverter : MarkupExtension,IValueConverter
{
    public RoleToVisibilityConverter()
    {

    }

    public object Convert(object value, Type targetType, object parameter, CultureInfo                                 culture)
    {
        var principal = value as GenericPrincipal;
        bool IsValidUser = false;
        if (principal != null)
        {
            foreach (String role in parameter.ToString().Split(';'))
            {
                if (principal.IsInRole(role))
                {
                    IsValidUser = true;
                    break;
                }  
            }
            return IsValidUser ? Visibility.Visible : Visibility.Collapsed;
        }

        return null;
    }

    public object ConvertBack(object value, Type targetType, object parameter, CultureInfo culture)
    {
        throw new NotImplementedException();
    }

    public override object ProvideValue(IServiceProvider serviceProvider)
    {
        return this;
    }
} 
```

在 XAML 中，我为 Visibility 添加了以下绑定：

```
Visibility="{Binding Source={x:Static systhread:Thread.CurrentPrincipal}, ConverterParameter=admin;editor;readonly, Converter={rv:RoleToVisibilityConverter}} 
```

但我想做的是不必在 xaml 中添加它。

我希望能够获得用户角色及其所有权限，并根据窗口加载 UI 权限。

原因是我希望能够更改只读角色可以看到/执行的操作，而无需更改 xaml。

有谁知道这是否可行，如果可以，这是最佳做法。

提前致谢。

诺埃尔

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-10T13:16:13.260

我相信“未在 Xaml 中完成”实际上是不可能的，除非您愿意为每个不同的权限创建不同的视图，并且在导航期间以适当的用户权限页面为目标。

否则……你能做的最好的事情就是创造一种风格。此样式将针对基本控件并在定义中创建一个数据触发器，该触发器将打开/关闭可见性或 IsEnabled 或两者。这样，该样式可以位于所有 xaml 页面的一个中心位置，并且每个需要*权限标记*的控件都可以通过简单地遵循该样式来获得它。

这样做的另一个好处是您可以根据需要绑定不同的场景。例如，以下样式在数据上下文中设置了不同的布尔值。一个人可能可以查看但不能编辑，因此该用户的 IsEnabled 设置为 false，而管理员将被允许同时执行这两项操作，而不可查看的标记用户甚至看不到控件。

```
<Style x:Key="PermissionStyle" TargetType="{x:Type Control}">
    <Style.Triggers>
        <DataTrigger Binding="{Binding Path=ViewOnly}" Value="True">
            <Setter Property="Visibility" Value="Visible" />
            <Setter Property="IsEnabled" Value="False" />
        </DataTrigger>
        <DataTrigger Binding="{Binding Path=IsAdmin}" Value="True">
            <Setter Property="IsEnabled" Value="True" />
            <Setter Property="Visibility" Value="Visible" />
        </DataTrigger>
        <DataTrigger Binding="{Binding Path=NotVisible}" Value="True">
            <Setter Property="IsEnabled" Value="False" />
            <Setter Property="Visibility" Value="Hidden" />
        </DataTrigger>            
    </Style.Triggers>
</Style> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-05-28T07:50:11.867

如果您使用的是 MVVM，那么您的视图模型应该具有诸如`public bool IsXXXAllowed { get; private set; }`. 实例化视图模型时，您应该查询用户是否具有使用 XXX 功能所需的最低权限并相应地设置属性的值。理想情况下，权限检查应该与角色无关，因为可以为嵌套等用户创建角色。您可以使用`fn_my_permissions`.

然后在视图中简单地将相关控件的`IsEnabled`属性（或`Visibility`使用属性）绑定到属性（如果有多个控件，则为封闭控件）。`BooleanToVisibilityConverter``Grid``IsXXXAllowed`

# python - 使用 Flask 时如何安全地写入文件？

> ID：14257881
> 
> 赞同：5
> 
> 时间：2013-01-10T12:23:54.960
> 
> 标签：python, thread-safety, flask

我需要在 Flask 服务器上编写一个方法，它将部分请求写入日志文件。但是，如果我理解正确的话，Flask 是多线程的，写入文件很可能是不安全的。

诚然，总的来说，我对 python 和多线程编程或多或少是新手，所以我需要有人稍微牵着我的手：）

到目前为止我的代码（稍作修改，如果没有其中的部分内容，我在网上发布时会遇到麻烦）

```
@app.route('/store_test')
def store_test():
    now = str(time.time())
    ip_address = request.remote_addr
    agent = request.user_agent.string

    log_data = [now,ip_address,agent]
    log_data_string = "\t".join(log_data)

    filename = "log.dat"

    f = open(filename,'a')
    f.write(log_data_string + "\n")
    f.close()

    return 'OK' 
```

我猜我需要在 open 和 close 语句周围包装一些代码，但我不知道是什么，我正在阅读“Python in a Nutshell”一书中的线程和进程一章，它并没有真正给我太多关于如何实际使用这些方法的想法。

任何帮助，将不胜感激。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-01-10T12:28:18.697

使用[日志记录模块](http://docs.python.org/2/library/logging.html)。更一般地说，您需要使用 Lock

```
import threading

lock = threading.Lock()
...

with lock:
    #Open the file and write to it 
```

基本上，这也是`logging`如此。更准确地说，`Handler`-objects（实际写入某些输出，例如文件）实现锁定。

重要的是所有进程都使用相同的 Lock 对象，而不是创建自己的。因此，您可以将其放在模块级别或类似级别。

# java - 直接从 XML 中获取孙子元素

> ID：14257885
> 
> 赞同：2
> 
> 时间：2013-01-10T12:24:09.877
> 
> 标签：java, xml

我一直在寻找 JAVA 中的 XML 读取示例，我总是找到一个典型的模式根-> 3 个相等的儿子->3 个相等的孙子。

但有时你只需要获得一对不像图书馆那样存储的元素{标题，作者，页数}。我的 XML 看起来像：

```
<?xml version="1.0" encoding="UTF-8" ?>
<A>
    <Crap1>
        <CrapSon>1</CrapSon>
    </Crap1>
    <B>
        <Crap2>Store</Crap2>
        <C>
            <Type>N</Type>
            <D>
                <InterestingData1>Data</InterestingData1>
            </D>
            <InterestingData2>More Data</InterestingData2>
        </C>
    </B>
</A> 
```

当然，我可以全部迭代，最后得到我想要的数据元素。但是有没有什么快速的方法可以访问你想要的那些元素，而无需迭代树，只是通过名称并让它搜索它？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-10T12:32:02.563

您可以使用`javax.xml.xpath`Java SE 5 及更高版本中的库，并使用 XPath 查询文档以获取所需的数据。

**例子**

*   [为什么 getElementsByTagNameNS 在 java 中是空的？](https://stackoverflow.com/questions/13166195/why-is-the-getelementsbytagnamens-empty-in-java/13167056#13167056)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-10T14:00:14.407

您可以尝试以下方法：

```
import java.io.IOException;
import java.io.StringReader;
import javax.xml.parsers.DocumentBuilder;
import javax.xml.parsers.DocumentBuilderFactory;
import javax.xml.parsers.ParserConfigurationException;

import org.w3c.dom.Document;
import org.w3c.dom.NodeList;
import org.xml.sax.InputSource;
import org.xml.sax.SAXException;

class Test {    

    public static void main(String args[]) throws ParserConfigurationException, SAXException, IOException{
        String xmlString ="<A>" +
                "<Crap1><CrapSon>1</CrapSon>" +
                "</Crap1>" +
                "<B>" +
                "<Crap2>Store</Crap2><C><Type>N</Type><D><InterestingData1>Data</InterestingData1></D><InterestingData2>More Data</InterestingData2></C>" +
                "</B>" +
                "</A>";

        DocumentBuilderFactory dbf = DocumentBuilderFactory.newInstance();      
        DocumentBuilder docBuilder = dbf.newDocumentBuilder();
        Document doc = docBuilder.parse(new InputSource(new StringReader(xmlString)));

        NodeList nodelist = doc.getElementsByTagName("InterestingData2");
        NodeList nodelist2 = doc.getElementsByTagName("Type");

        String str = nodelist.item(0).getTextContent();
        String str2 = nodelist2.item(0).getTextContent();

        System.out.println("InterestingData2: "+str);
        System.out.println("Type: " + str2);
    }
} 
```

输出：

InterestingData2：更多数据

类型：N

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-10T12:30:40.737

如果您不想要 DOM，我想您应该使用带有处理程序的 SAX 解析器来处理`InterestingData1`和`InterestingData2`.

# javascript - jQuery 自制幻灯片代码似乎没有拾取图像的当前上下文

> ID：14257886
> 
> 赞同：4
> 
> 时间：2013-01-10T12:24:10.423
> 
> 标签：javascript, jquery

我知道这将是一个简单的问题，但我整天都在寻找它并努力寻找答案，所以希望你们这些优秀的人能够提供帮助。

我创建了自己的 javascript 函数，使用 jQuery 创建幻灯片。我知道有很多免费的可供我使用，但我尝试的少数几个不允许在同一页面上显示多个幻灯片，这让我认为这不应该太难做到。

在页面上，我有 2 个包含图像的 div 元素

```
<div class="slider">
    <img src="./images/Hashimadisaster.png" alt="" title="Hashima Island" class="alignnone size-full wp-image-842">
    <img src="./images/DSCN3674-1024x767.jpg" alt="" title="Legs glued together" class="alignnone size-large wp-image-834">
    <img src="./images/DSCN3672-768x1024.jpg" alt="" title="The front and rear legs together standing on an Eldar Falcon" class="alignnone size-large wp-image-836">
    <img src="./images/DSCN3671-1024x768.jpg" alt="" title="Left rear leg glued into position and balanced to stand on its own" class="alignnone size-large wp-image-835">
    <img src="./images/conseptiual-drawing-for-titan-base-1024x609.jpg" alt="Conceptual drawing for titan base" title="Conceptual drawing for titan base" class="alignnone size-large wp-image-841">
</div> 
```

和javascript代码

```
1\. function slidermethod(){
2\.  var HeightOfBox= 400;
3\.  var timeoutmilliseconds = 3000;
4\.  if($('.slider').length){
5\.      $('.slider').each(function(){
6\.          $(this).css("position","relative");
7\.          $(this).children('img').css("position","absolute").css("top","0").css("left","0");  
8\.          if($(this).children('img').length){
9\.              if($(this).children(".currentslide").length == 0){
10\.                 //alert($(this).children("img").length);
11\.                 //alert("1");
12\.                 // this seems to occur every time it is called
13\.                    $(this).children('img:first').addClass(".currentslide");
14\.             }
15\.             else{
16\.                 if($(this).children('.currentslide').next().length)    {    
17\.                     alert("2");
18\.                     var nextchild = $(this).children('.currentslide').next();
19\.                     $(this).children('img').removeClass('.currentslide');
20\.                     $(nextchild).addClass(".currentslide");
21\.                 }else{                  
22\.                     alert("3");
23\.                     $(this).children('img').removeClass('.currentslide');
24\.                     $(this).children('img:first').addClass(".currentslide");
25\.                 }
26\.             }               
27\.         }
28\.         $(this).children('img').css("height",HeightOfBox + "px");
29\.         $(this).css("height",HeightOfBox + "px");           
30\.     });
31\.     setTimeout("slidermethod();",timeoutmilliseconds); 
32\.        // every 3 seconds call this method
33\. }   
34.}
35.slidermethod(); // call the method 
```

代码运行没有任何错误弹出并抓取所有图像，调整它们的大小并将它们放在另一个之上。我有一个 css 样式表，其中 .currentslide 为 z-index:2; 和所有其他图像为 1。但是当它到达代码的底部时，有一个 settimeout() 会在 3 秒后再次调用相同的方法，但它似乎总是进入 if 语句

```
9\.    if($(this).children(".currentslide").length == 0){ 
```

但是如果我对它进行firebug，我可以看到图像组中的第一个图像具有“currentslide”类，所以这不应该是0。不太确定为什么它不能按预期工作。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-10T13:10:10.443

这里有一个错误

```
.addClass(".currentslide") 
```

应该

```
.addClass("currentslide") 
```

在你所有的 addclass/removeclass 你犯了同样的错误

以及启动插件的更好路径

```
$.fn.extend({

    slider : function() {
       $(this).each(function() {
           var $sldr=$(this);

            $sldr.css("position","relative")
                 .find("img").css("position","absolute").css("top","0").css("left","0").end()
                 .find("img:first-child").addClass("currentslide").end()

                .on("nextslide",function() {
                        var $current = $sldr.find(".currentslide").removeClass("currentslide")
                        if ($current.next().get(0)) $current.next().addClass("currentslide") 
                        else    $sldr.find("img:first-child").addClass("currentslide")

                  });        
                 setTimeout(function(){$sldr.trigger("nextslide"),3000 });
        });
   return this;
   }
});
   $(".slider").slider(); 
```

编辑添加我复制了你的代码，但你应该在你的 css 文件中移动这些 css 属性，它们不需要在插件中设置，所以它会变成

```
$sldr.on("nextslide",function() {
                        var $current = $sldr.find(".currentslide").removeClass("currentslide")
                        if ($current.next().get(0)) $current.next().addClass("currentslide") 
                        else    $sldr.find("img:first-child").addClass("currentslide")

                  }).find("img:first-child").addClass("currentslide"); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-10T13:06:46.370

检查失败的原因是 .children() 返回 0。

改为执行以下操作：

```
if($('.slider img').hasClass('currentslide').length < 1){ /*your code*/ } 
```

我同意米卡昆。你肯定会通过调用 $(this) 大量跳入 DOM。将 $('.slider') 设置为变量并在需要的地方使用该变量。

# date - Groovy：以年为单位获取持续时间

> ID：14257888
> 
> 赞同：5
> 
> 时间：2013-01-10T12:24:11.170
> 
> 标签：date, groovy, duration

在 groovy 中运行以下代码 -

```
import groovy.time.*
import org.codehaus.groovy.runtime.TimeCategory
def today = new Date()
use(TimeCategory)
{
  def modifiedToday = today.plus(10.minutes)
  modifiedToday = modifiedToday.plus(10.months)
  modifiedToday = modifiedToday.plus(10.years)
  def duration = modifiedToday - today
  println duration.years
  println duration.months
  println duration.days
  println duration.minutes
} 
```

我得到以下输出 -

```
0
0
3956
10 
```

请建议，为什么我将年份和月份设为 0 以及所有以天为单位的值。我如何获得年和月的价值？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-01-10T12:36:37.213

几个月后你将如何获得它？

每个月都有不同的天数，你会怎么做？

您可以通过以下方式取回从现在开始代表的日期：

```
println duration.from.now 
```

或者，您可以通过执行以下操作获取代表过去的日期：

```
println duration.ago 
```

而且我想你可以从那里解决它，但是没有内置功能可以根据给定日期规范化 TimeDuration

* * *

## 编辑

这种事情从过去的一个日期滚动到指定的日期。不过我还没有对它进行任何真正的测试，所以在将它用于任何重要的事情之前，你应该小心并测试它的寿命......

```
import static java.util.Calendar.*
import groovy.time.DatumDependentDuration
import groovy.time.TimeCategory

DatumDependentDuration getAge( Date dob, Date now = new Date() ) {
  dob.clearTime()
  now.clearTime()
  assert dob < now
  Calendar.instance.with { c ->
    c.time = dob
    def (years, months, days) = [ 0, 0, 0 ]

    while( ( c[ YEAR ] < now[ YEAR ] - 1 ) || 
           ( c[ YEAR ] < now[ YEAR ] && c[ MONTH ] <= now[ MONTH ] ) ) {
      c.add( YEAR, 1 )
      years++
    }

    while( ( c[ YEAR ] < now[ YEAR ] ) ||
           ( c[ MONTH ] < now[ MONTH ] && c[ DAY_OF_MONTH ] <= now[ DAY_OF_MONTH ] ) ) {
      // Catch when we are wrapping the DEC/JAN border and would end up beyond now
      if( c[ YEAR ] == now[ YEAR ] - 1 &&
          now[ MONTH ] == JANUARY && c[ MONTH ] == DECEMBER &&
          c[ DAY_OF_MONTH ] > now[ DAY_OF_MONTH ] ) {
        break
      }
      c.add( MONTH, 1 )
      months++
    }

    while( c[ DAY_OF_YEAR ] != now[ DAY_OF_YEAR ] ) {
      c.add( DAY_OF_YEAR, 1 )
      days++
    }

    new DatumDependentDuration( years, months, days, 0, 0, 0, 0 )
  }
}

println getAge( Date.parse( 'dd/MM/yyyy', '11/10/2000' ) )

// Prints: '12 years, 2 months, 30 days' 
```

# javascript - Flash 内容不会在 Chrome 中隐藏

> ID：14257896
> 
> 赞同：0
> 
> 时间：2013-01-10T12:24:35.807
> 
> 标签：javascript, asp.net

我有 asp.net 页面，在该页面上我使用以下方法显示 Flash 内容：

```
<object id="FlashFile" width="800" height="240">
<embed src="images/animation.swf" type="application/x-shockwave-flash" width="800"
 height="240"></embed>
</object> 
```

在点击一些链接按钮后说“阅读更多”，我希望隐藏这个 Flash 并显示一些弹出式 JavaScript。我用了

```
document.getElementById("FlashFile").style.visibility = "hidden"; 
```

在显示弹出 javascript 之前。

它适用于 IE 和 Mozilla，但不适用于 Chrome。在 chrome 中，Flash 内容仍以完全可见的方式显示。谁能告诉我应该怎么做。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-10T12:45:28.613

我会把它全部包起来`div`，然后把它隐藏起来。

```
<div id="flashContent">
<object id="FlashFile" width="800" height="240">
<embed src="images/animation.swf" type="application/x-shockwave-flash" width="800" height="240"></embed>
</object></div> 
```

js：

```
document.getElementById("flashContent").style.visibility = "hidden"; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-10T12:35:16.370

尝试在可见性线下方添加以下内容：

```
document.getElementById("FlashFile").style.opacity=0; 
```

从这里的这篇文章中找到了这个例子： [Visibility attribute stop working in chrome for me](https://stackoverflow.com/questions/12767165/visibility-attribute-stopped-working-in-chrome-for-me)

# c# - 将参数传递给应用程序

> ID：14257898
> 
> 赞同：2
> 
> 时间：2013-01-10T12:24:41.033
> 
> 标签：c#, wpf, process, command-line-arguments, app-startup

这个问题可能看起来有点模糊，但我们开始吧。

我正在阻止我的 wpf 应用程序的多个实例，如下所示：

```
Process proc = Process.GetCurrentProcess();
if (Process.GetProcessesByName(proc.ProcessName).Length > 1)
{
    Application.Current.Shutdown();
    return;
}

if (e.Args != null && e.Args.Count() > 0)
{
    this.Properties["Magnet"] = e.Args;
} 
```

是否可以将命令行参数传递给已经运行的应用程序？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-10T12:27:15.743

不，这是不可能的。您应该使用一些[进程间通信](https://stackoverflow.com/questions/50153/interprocess-communication-for-windows-in-c-sharp-net-2-0)技术。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-10T13:23:24.247

对于任何有兴趣的人，我决定在我的 App.Xaml.cs 中使用此代码：

```
[STAThread]
public static void Main()
{
    if (SingleInstance<App>.InitializeAsFirstInstance(UNIQUE))
    {
        var application = new App();
        application.InitializeComponent();
        application.Run();
        SingleInstance<App>.Cleanup();
    }
}

public bool SignalExternalCommandLineArgs(IList<string> args)
{
    // Use arguments
    return true;
} 
```

UNIQUE 是 20 个字符的常量字符串。

`SingleInstance<App>.Cleanup()`派生自`ISingleInstanceApp`其中定义，[`SingleInstance.cs`](http://blogs.microsoft.co.il/blogs/arik/SingleInstance.cs.txt)我也在`ISingleInstanceApp`我的应用程序类中实现。

感谢所有的帮助！

# unit-testing - 如何使用 grails 2.x 单元测试从 i18n 消息属性中获取消息？

> ID：14257901
> 
> 赞同：0
> 
> 时间：2013-01-10T12:24:43.573
> 
> 标签：unit-testing, grails, internationalization, message

在 grails 2.x 中编写测试用例时，我从 I18n 属性文件获取消息时遇到问题。

在我使用的控制器中是这样的：

```
g.message(code:'upload.coverpage.file.isempty.msg') 
```

从控制器进入结果对象时，消息将返回：

```
upload.coverpage.file.isempty.msg 
```

但原始信息是：

```
"Sorry, the file size is empty." 
```

如何获取原始消息。有人知道吗？

感谢和问候

阿纳根德拉

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-10T18:07:50.743

我认为这是测试消息的正确方法。我现在正在为在 grails 1.3.5 上编写的应用程序编写测试，并且控制器单元测试出错：

```
No signature of method: ChallengeListingController.message() 
```

我决定以这种方式解决它：

```
ChallengeListingController.metaClass.message={def msg-> return msg.code} 
```

我准确地返回消息**代码**：足以决定字符串是否正确，当然您可以将代码与值分开。

# php - 根据其他选择填充选择

> ID：14257905
> 
> 赞同：1
> 
> 时间：2013-01-10T12:25:03.717
> 
> 标签：php, jquery, json, codeigniter

我不明白如何根据我在第一次选择中做出的选择来填充第二次选择。我想要做的是添加一个位置。要添加一个位置，我有第一个`select`具有 4的位置`options`：大陆、国家、地区和城市。而且，例如，如果我`select`是城市类型，我希望在我的第二个选择中仅显示我可以连接城市的区域。如果我选择了一个国家，那么我希望第二个选择只显示大陆。

到目前为止，我有这个：

```
<p><label for="type_id">Tip de locatie:</label><br />

<select class="styled" name="type_id" id="type_id">
    <option value="0">Alege...</option>
    <?php
    foreach ($place_type as $key => $type) { ?>
        <option value="<?=$type['id']?>"><?=$type['name']?></option>
    <?php } ?>
</select>
</p>

<noscript>
<input type="submit" name="action" value="Load Parents" />
</noscript>

<p><label for="parent_id">Leaga de:</label> <br />

<select class="styled" name="parent_id" id="parent_id">
    <option value="0">Alege...</option>
    <?php
    foreach ($places as $key => $place) { ?>
        <option value="<?=$place['id']?>"><?=$place['name']?></option>
    <?php } ?>
</select>
</p> 
```

我正在使用 codeigniter 框架，我在控制器中有这个方法：

```
public function get_place_parent()
{
    $this->load->model('places_model');
    $places = $this->places_model->get_places();
    $places = json_encode($places);
    return $places;
} 
```

和 jQuery

```
<script type="text/javascript" charset="utf-8">
$(function(){
  $("select#type_id").change(function(){
    $.getJSON("<?=site_url('admin/get_place_parent')?>",{type_id: $(this).val(), ajax: 'true'}, function(j){
      var options = '';
      for (var i = 0; i < j.length; i++) {
        options += '<option value="' + i + '">' + j[i] + '</option>';
      }
      $("select#parent_id").html(options);
    })
  })
})
</script> 
```

我真的不明白如何做到这一点。它基于本教程：[http ://remysharp.com/2007/01/20/auto-populating-select-boxes-using-jquery-ajax/](http://remysharp.com/2007/01/20/auto-populating-select-boxes-using-jquery-ajax/)

先感谢您！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-10T12:54:41.577

下面是我的一个应用程序的片段，它完全符合您的要求。

companyNames 是第一个下拉列表的 id，即向我们注册的公司列表。当这种情况发生变化时，它会对 admin/getAddresses 函数进行 ajax 调用，并从 companyNames 下拉列表中发送 id。我也包含了控制器功能，您可以找出模型，因为它与您的应用程序无关。

然后控制器返回一个 json 响应，其中包含第二个下拉列表的数据，该下拉列表由 ajax 控制中的成功函数填充。首先，它会删除已经存在的所有选项（否则每次更改第一个下拉菜单时都会继续追加），然后它会从控制器返回的 json 中追加新选项。

**看法**

```
$(document).on("change", "#companyNames", function() {
    $row = $(this).closest('tr');
    $.ajax({
        type: "GET",
        url: "<?=base_url()?>admin/getAddresses/",
        data: $row.find('input,select').serialize(),
    dataType: "json",
        success: function(content) {
            if (content.status == "success") {
            $("#companyAddresses").find('option').remove();
            $.each(content.message, function(key, val) {
            $("#companyAddresses").append(
            '<option value="' + key + '">' + val + '</option>'
            );
            });
            } else {                
                $("#error").html('<p>'+content.message+'</p>');
            }
        }
    });
    return false;
}); 
```

**控制器**

```
public function getAddresses()
{
    $data = $this->input->getArray();
    $this->load->model('companies');
    $data['companyAddresses']=$this->companies->getCompanyAddresses($data['addCompany']);
    print json_encode(array("status"=>"success", "message"=>$data['companyAddresses']));
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-10T12:30:00.720

请按照以下步骤操作

1）当您从选择框中选择城市类型时，您需要在其 onChange 事件中进行 Ajax 调用。

2) 将所选城市的 id 传递给控制器​​函数。

3) 从 DB 或任何地方获取城市的区域。

4）然后你可以在控制器函数本身中构造你的选项，或者你可以将它传递给 Ajax 函数并在那里构造你的选项。

5）在区域选择框中添加构造选项。

# php - Opencart 错误日志显示独特的错误

> ID：14257906
> 
> 赞同：3
> 
> 时间：2013-01-10T12:25:04.277
> 
> 标签：php, opencart

我怎么能修改它`file_get_contents`以便它只返回来自 1000 行重复的唯一错误

```
$this->data['log'] = file_get_contents($file, FILE_USE_INCLUDE_PATH, null);

<textarea wrap="off" style="width: 98%; height: 300px; padding: 5px; border: 1px solid #CCCCCC; background: #FFFFFF; overflow: scroll;"><?php echo $log; ?></textarea> 
```

错误：

```
2013-01-10 0:26:45 - PHP Notice:  Undefined index: name in /var/www/example/public/vqmod/vqcache/vq2-catalog_controller_product_product.php on line 159
2013-01-10 0:27:02 - PHP Notice:  Undefined index: name in /var/www/example/public/vqmod/vqcache/vq2-catalog_controller_product_product.php on line 159
2013-01-10 0:27:04 - PHP Notice:  Undefined index: name in /var/www/example/public/vqmod/vqcache/vq2-catalog_controller_product_product.php on line 159
2013-01-10 0:29:25 - PHP Notice:  Undefined variable: thumb in /var/www/example/public/catalog/view/theme/example/template/product/manufacturer_info.tpl on line 23
2013-01-10 0:29:25 - PHP Notice:  Undefined variable: description in /var/www/example/public/catalog/view/theme/example/template/product/manufacturer_info.tpl on line 23
2013-01-10 0:29:25 - PHP Notice:  Undefined variable: categories in /var/www/example/public/catalog/view/theme/example/template/product/manufacturer_info.tpl on line 34
2013-01-10 0:29:25 - PHP Notice:  Undefined variable: categories in /var/www/example/public/catalog/view/theme/example/template/product/manufacturer_info.tpl on line 98
2013-01-10 2:46:25 - PHP Notice:  Undefined index: name in /var/www/example/public/vqmod/vqcache/vq2-catalog_controller_product_product.php on line 159
2013-01-10 6:09:58 - PHP Notice:  Undefined variable: thumb in /var/www/example/public/catalog/view/theme/example/template/product/manufacturer_info.tpl on line 23
2013-01-10 6:09:58 - PHP Notice:  Undefined variable: description in /var/www/example/public/catalog/view/theme/example/template/product/manufacturer_info.tpl on line 23
2013-01-10 6:09:58 - PHP Notice:  Undefined variable: categories in /var/www/example/public/catalog/view/theme/example/template/product/manufacturer_info.tpl on line 34
2013-01-10 6:09:58 - PHP Notice:  Undefined variable: categories in /var/www/example/public/catalog/view/theme/example/template/product/manufacturer_info.tpl on line 98
2013-01-10 9:54:45 - PHP Notice:  Undefined index: name in /var/www/example/public/vqmod/vqcache/vq2-catalog_controller_product_product.php on line 159
2013-01-10 10:43:53 - PHP Notice:  Undefined index: name in /var/www/example/public/vqmod/vqcache/vq2-catalog_controller_product_product.php on line 159
2013-01-10 12:03:27 - PHP Notice:  Undefined index: name in /var/www/example/public/vqmod/vqcache/vq2-catalog_controller_product_product.php on line 159
2013-01-10 12:03:37 - PHP Notice:  Undefined index: name in /var/www/example/public/vqmod/vqcache/vq2-catalog_controller_product_product.php on line 159
2013-01-10 12:03:44 - PHP Notice:  Undefined index: name in /var/www/example/public/vqmod/vqcache/vq2-catalog_controller_product_product.php on line 159
2013-01-10 13:46:37 - PHP Warning:  imagecreatetruecolor() [<a href='function.imagecreatetruecolor'>function.imagecreatetruecolor</a>]: Invalid image dimensions in /var/www/example/public/vqmod/vqcache/vq2-system_library_image.php on line 241
2013-01-10 13:46:37 - PHP Warning:  imagecolorallocate() expects parameter 1 to be resource, boolean given in /var/www/example/public/vqmod/vqcache/vq2-system_library_image.php on line 249
2013-01-10 13:46:37 - PHP Warning:  imagefilledrectangle() expects parameter 1 to be resource, boolean given in /var/www/example/public/vqmod/vqcache/vq2-system_library_image.php on line 252
2013-01-10 13:46:37 - PHP Warning:  imagecopyresampled() expects parameter 1 to be resource, boolean given in /var/www/example/public/vqmod/vqcache/vq2-system_library_image.php on line 254
2013-01-10 13:46:37 - PHP Warning:  imagecreatetruecolor() [<a href='function.imagecreatetruecolor'>function.imagecreatetruecolor</a>]: Invalid image dimensions in /var/www/example/public/vqmod/vqcache/vq2-system_library_image.php on line 241
2013-01-10 13:46:37 - PHP Warning:  imagecolorallocate() expects parameter 1 to be resource, boolean given in /var/www/example/public/vqmod/vqcache/vq2-system_library_image.php on line 249
2013-01-10 13:46:37 - PHP Warning:  imagefilledrectangle() expects parameter 1 to be resource, boolean given in /var/www/example/public/vqmod/vqcache/vq2-system_library_image.php on line 252
2013-01-10 13:46:37 - PHP Warning:  imagecopyresampled() expects parameter 1 to be resource, boolean given in /var/www/example/public/vqmod/vqcache/vq2-system_library_image.php on line 254 
```

完整代码：在 Jay 的帮助下

```
$this->data['log'] = file_get_contents($file, FILE_USE_INCLUDE_PATH, null); 
```

用。。。来代替：

```
$input = file_get_contents($file, FILE_USE_INCLUDE_PATH, null);
$temp = preg_replace('~\d{4}-\d\d-\d\d \d\d?:\d\d:\d\d - ~', '', $input);
$this->data['log'] = implode(PHP_EOL, array_unique(explode(PHP_EOL, $temp))); 
```

vqmod

```
<file name="admin/controller/tool/error_log.php">
    <operation>
        <search position="before"><![CDATA[
        $this->data['clear'] = $this->url->link('tool/error_log/clear', 'token=' . $this->session->data['token'], 'SSL');
        ]]></search>
        <add><![CDATA[
        $this->data['action'] = $this->url->link('tool/error_log', 'token=' . $this->session->data['token'], 'SSL');
        ]]></add>
    </operation>
    <operation>
        <search position="after"><![CDATA[
        $this->data['log'] = file_get_contents($file, FILE_USE_INCLUDE_PATH, null);
        ]]></search>
        <add><![CDATA[
        if (!isset($this->request->post['unique'])){
            $this->data['unique'] = '';
        } else {
            $this->data['unique'] = $this->request->post['unique'];

            $temp = preg_replace('~\d{4}-\d\d-\d\d \d\d?:\d\d:\d\d - ~', '', $this->data['log']);
            $this->data['log'] = implode(PHP_EOL, array_unique(explode(PHP_EOL, $temp)));
        }
        ]]></add>
    </operation>
</file>
<file name="admin/view/template/tool/error_log.tpl">
    <operation>
        <search position="after"><![CDATA[
        $button_clear
        ]]></search>
        <add><![CDATA[
        <form action="<?php echo $action; ?>" method="post" class="buttons">
          <label>
            <input type="checkbox" name="unique" onchange="this.form.submit();" value="1" <?php if($unique){ echo ' checked="checked"'; } ?> /> Unique
          </label>
        </form>
        ]]></add>
    </operation>
</file> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-10T16:57:57.990

有一种非常简单的方法可以做到这一点。将错误日志文本设置为`$input`，然后使用

```
$temp = preg_replace('~\d{4}-\d\d-\d\d \d\d?:\d\d:\d\d - ~', '', $input);
$output = implode(PHP_EOL, array_unique(explode(PHP_EOL, $temp)));

echo $output; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-10T12:28:26.793

仅使用此代码行来获取唯一的错误行

```
$errors = array();
foreach(file($file)) as $error_line) {
    $regex = '/^([0-9]{4}-[0-9]{2}-[0-9]{2}\s[0-9]{2}:[0-9]{2}:[0-9]{2})\s-\s(.+)$/';
    preg_match($regex, $error_line, $match);

    $hash = md5($match[2]);

    if (!isset($errors[$hash])) {
        $errors[$hash] = array(
            'error_line' => $match[2],
            'times' = array(
                $match[1],
            ),
        );
    } else {
        $errors[$hash]['times'][] = $match[1];
    }
} 
```

# vb.net - 在最后一次出现特定字符（文件名）后显示文本

> ID：14257913
> 
> 赞同：-1
> 
> 时间：2013-01-10T12:25:23.337
> 
> 标签：vb.net

好的，这次我使用`VB.NET`. 仍然没有像 C# 那样获得 VB，但无论如何。我要做的是显示...的最后一部分让我们说：`C:\Program Files\Data\12345.doc`。我只想看到`12345.doc`。我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-01-10T12:26:24.623

这是一个文件名，所以使用[`Path.GetFileName`](http://msdn.microsoft.com/en-us/library/system.io.path.getfilename.aspx)：

```
Dim fileName = Path.GetFileName("C:\Program Files\Data\12345.doc") 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-01-10T12:28:52.357

试试这个，

```
dim xStr="C:\Program Files\Data\12345.doc"
dim xResult=xstr.substring(xStr.lastIndexof("\")) 
```

或者可能是这样，

```
dim xFilePath as New System.IO.FileInfo("C:\Program Files\Data\12345.doc")
 dim xFileName=xFilePath.Name 
```

# iphone - AVQueuePlayer - 播放第一个音乐文件后应用程序崩溃

> ID：14257916
> 
> 赞同：1
> 
> 时间：2013-01-10T12:25:26.990
> 
> 标签：iphone, xcode, memory-management, audio-streaming, avqueueplayer

我`AVQueuePlayer`用于播放多个音乐文件。

我正在使用此代码，

```
NSString *str1 = @"www.mymusic.1.mp3";
NSURL *url1 = [NSURL URLWithString:str1];
AVPlayerItem *s1 = [AVPlayerItem playerItemWithURL:url1];

NSString *str2 = @"www.mymusic.2.mp3";
NSURL *url2 = [NSURL URLWithString:str2];
AVPlayerItem *s2 = [AVPlayerItem playerItemWithURL:url2];

myQueue = [[AVQueuePlayer alloc] initWithItems:[NSArray arrayWithObjects:s1,s2, nil]];
[myQueue play]; 
```

但是`lldb`在控制台日志中播放第一个音频时应用程序崩溃。这是寻求帮助的屏幕截图。我认为这与内存管理有关。

![](../Images/5a2bff9f7f550a4f8e66ff937a20475a.png)

任何帮助将不胜感激。谢谢你。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-11T14:49:34.337

启用 ARC，尝试进入 XCode 中的断点，然后替换为`All Exceptions`并`All Objective-C Exceptions`查看是否再次发生。

我正在`AVQueuePlayer`大量使用并在播放过程中注意到框架代码中有一堆异常，但文件仍然可以正常播放。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-11T09:06:07.317

您没有使用您所说的 ARC，并且您说您在 playerItemDidReachEnd 中释放 myQueue 为时过早..您还没有完成队列，应该保留它直到您完成。

当你的类被释放时释放它

# java - SWT 浏览器内部链接不适用于 IE6

> ID：14257923
> 
> 赞同：0
> 
> 时间：2013-01-10T12:25:52.133
> 
> 标签：java, browser, swt, eclipse-rcp, internet-explorer-6

在我的 Eclipse RCP 应用程序中，我使用 SWT 浏览器来显示 HTML。我正在使用`setText()`方法显示 HTML。在使用 Internet Explorer 6 在 WinXP 上进行测试时，我发现内部链接不起作用，它只是显示**about:blank#4**。about:blank 是文件名，#4 是它必须跳转的链接地址。但它不适用于 IE 6...

此应用程序适用于 Internet Explorer 7 及更高版本。有什么建议么..？？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-10T12:56:03.273

这似乎[是](https://bugs.eclipse.org/bugs/show_bug.cgi?id=327786). `SWTBrowser`但是它已关闭，他们不会修复它，因为它适用于 IE7 和 IE8。根据[讨论](http://www.eclipse.org/forums/index.php?t=rview&goto=632884)，但是当您将其保存为文件并调用时，它可以工作`setURL()`

# c++ - 在 iOS 应用程序中使用 C++ 代码

> ID：14257926
> 
> 赞同：2
> 
> 时间：2013-01-10T12:26:05.113
> 
> 标签：c++, ios, objective-c, xcode4.5

> **可能重复：**
> [是否可以用 C++ 对 iPhone 进行编程](https://stackoverflow.com/questions/270455/is-it-possible-to-program-iphone-in-c)

我有一个现有的 C++ 代码，我想在 iPhone/iPade 应用程序中重复使用（并且不想在 Objective C 中全部重写），如何将此代码包含到我的 iPhone 应用程序中？

我尝试使用 Xcode 4.5，但有几个编译错误。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-10T12:31:07.930

这应该像这样简单：`.mm`对所有调用 C++ 代码的 ObjC 文件使用扩展名。这实际上将使您的文件作为 Objective-C++ 文件处理（这与 Objective-C 相同，增加了调用 C++ 代码的能力）。

如果您在执行此操作后仍然有错误，请发布错误消息。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-10T12:58:45.483

创建 .cpp 文件。

创建新文件时，可以选择创建 c++ 文件。

另外，sergio 建议是对的

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-10T16:08:20.203

我最近为一个objective-c 类编写了一个C++ 包装。分离 oc 和 C++ 的重要一点是您不应该在 oc .h 文件中包含 C++ .h 文件，为此您可以使用 void* 指针。

请参阅： [从 C++ 方法调用 Objective-C 方法？](https://stackoverflow.com/questions/1061005/calling-objective-c-method-from-c-method)

# wpf - 如何避免默认情况下在wpf Listbox中选择第一项？

> ID：14257928
> 
> 赞同：7
> 
> 时间：2013-01-10T12:26:09.270
> 
> 标签：wpf, xaml, listbox

`Listbox`我想避免在应用程序加载时默认发生的第一项选择。我试过了

```
SelectedIndex= -1 
```

但它没有用。我不希望在`ListBox`加载时选择任何项目，直到用户从中选择任何项目`Listbox`。我已`IsSynchronization`设置为 true，但设置它`false`也不能解决我的问题。虽然我必须始终保持`IsSychronization`设置`true`。但没关系。我做了谷歌，但找不到任何相关的答案。

谁能告诉我该怎么做？

* * *

## 回答 #1

> 赞同：17
> 
> 时间：2014-11-26T17:02:06.087

我有这种情况发生在我身上。当我直接绑定`ListBox.ItemsSource`到视图模型中的集合时，默认情况下没有选择 re。

当我切换到使用 a`CollectionViewSource`作为时`ListBox.ItemsSource`，突然默认选择了第一项。

原来这是由于`ListBox.IsSynchronizedWithCurrentItem`。将其设置为

```
IsSynchronizedWithCurrentItem="False" 
```

`ListBox`恢复了默认情况下没有选择任何内容的所需行为。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-10T12:55:06.303

将 IsEnabled 绑定到一个布尔值，该布尔值将在用户可以选择时进行标记。列表框仍然可见但不可选择。这是我使用的标签的样式代码，它必须在登录期间启用，但不是在操作停止后启用。

```
 <Style x:Key="LabelStyle" TargetType="{x:Type Label}">
        <Setter Property="VerticalAlignment" Value="Center" />
        <Setter Property="Width" Value="70" />
        <Setter Property="Height" Value="28"/>
        <Style.Triggers>
            <DataTrigger Binding="{Binding Path=LoginInProcess}" Value="True">
                <Setter Property="IsEnabled" Value="False" />
            </DataTrigger>
            <DataTrigger Binding="{Binding Path=LoginInProcess}" Value="False">
                <Setter Property="IsEnabled" Value="True" />
            </DataTrigger>
        </Style.Triggers>
    </Style> 
```

# haskell - * 以外的种类的字符串表示

> ID：14257932
> 
> 赞同：2
> 
> 时间：2013-01-10T12:26:35.293
> 
> 标签：haskell, types, ghc

`Typeable`我可以通过推导然后执行来获得具体类型的字符串表示形式`show . typeOf`。但是，我不能`Typeable`为包含除`*`.

是否有任何通用方法可以打印出包含此类类型的类型？

*简短说明*：

我的意思是类型如

```
data FM10 (a::RGB_Channel) 
```

在哪里

```
data RGB_Channel = Red | Green | Blue 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-10T18:21:30.177

[正在研究](http://hauptwerk.blogspot.com/2012/11/coming-soon-in-ghc-head-poly-kinded.html)多态类型。从本质上讲，您当前对种类类型所做的操作`*`将适用于所有种类。计划将其包含在[GHC 7.8中](http://hackage.haskell.org/trac/ghc/wiki/GhcKinds/PolyTypeable)

# wordpress - Wordpress，使用模板创建一个方便的帖子？

> ID：14257933
> 
> 赞同：0
> 
> 时间：2013-01-10T12:26:37.140
> 
> 标签：wordpress, templates, post

我想知道是否有更好的方法在 Wordpress 仪表板中创建帖子。我解释一下自己，我创建了两个类别，称为“新闻 - 左侧”和“新闻 - 右侧”，我在左侧显示一些帖子，在页面右侧显示一些帖子。但是，我创建的帖子是用这样的 html 标签制作的：

“新闻 - 左侧”：

```
<div id="about">
<div id="mug-shot" class="thin-column">
<div class="thumbnail"><img class="attachment-thumbnail wp-post-image" title="A web picture" src="http://www.marketwize.co.uk/communities/3/004/007/028/723/images/4538143501.jpg" alt="Web tools" width="240" height="350" /></div>
</div>
<div id="about-page" class="thin-column">
<div class="page-content">
<h3 class="inline-subtitle">TEXT</h3>
<h1 class="inline-title">TEXT</h1>
<div class="content">
<div>

Just simple text, simple text.

Another paragraph Another paragraph.

</div>
</div>
</div>
</div>
<div id="contacts" class="thin-column">
<h3 class="inline-subtitle">Please do not hesitate to</h3>
<h1 class="inline-title">Contact</h1>
<div>

Company name
Adress

<em><a title="Email" href="mailto:test@test.com" target="_blank">email@email.com</a></em>
+0 000 000 0000

On <a title="Twitter" href="http://www.twitter.com/" target="_blank"><em>Twitter</em></a>

</div>
</div>
<div id="book-list" class="thin-column">
<h3 class="inline-subtitle">H3 title</h3>
<div>
<h4>H4 tag</h4>
<em>EM text</em>

<a title="Title | Title2" href="https://www.google.co.uk/" target="_blank">GOOD Magazine</a>

</div>
</div>
</div> 
```

“新闻 - 右侧”

```
<div class="thumbnail"><img class="attachment-thumbnail wp-post-image" title="Me on my snowboard" src="http://i.telegraph.co.uk/multimedia/archive/02016/WSS-fest_2016290b.jpg" alt="Snowboarder" width="240" height="350" /></div>
<h3 class="inline-subtitle">Illustration title</h3>
<h1 class="inline-title">28.04.2013 (A date)</h1>
Here is my text, with a link to <a href="https://www.google.co.uk/" target="_blank">Google</a>. 
```

因此，在帖子中，我正在填充 html 标签。有没有办法避免它？（我可以创建自定义字段，但这不方便）。以及如何为这样的新帖子创建默认模板：

```
 <div class="thumbnail">Add your image here</div>
<h3 class="inline-subtitle">Add your illustration title here</h3>
<h1 class="inline-title">Add a date here</h1>
Add your text here. 
```

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-10T12:35:28.047

去除大多数 HTML 标签是 WordPress 核心的默认行为。您可以尝试通过在设置中安装插件（例如[TinyMCE Advanced](http://wordpress.org/extend/plugins/tinymce-advanced/) ）来覆盖此设置，该设置应该是允许不过滤保存完整 HTML 的选项。

希望这可以帮助，

罗斯

# asp.net-mvc-4 - MVC 模型绑定列表 ID 和名称问题

> ID：14257935
> 
> 赞同：0
> 
> 时间：2013-01-10T12:26:44.530
> 
> 标签：asp.net-mvc-4, modelbinder

嗨，当我使用 ajax 调用获取局部视图时，我在获取正确的 ID 和名称时遇到了问题。

我想要像 "Blocks_0__Items_0__Id" 这样的 id。这些是使用 for 循环呈现的，因此主页：

```
@for (int blockIndex = 0; blockIndex < Model.Block.Count(); blockIndex++) {

                @Html.EditorFor(model => Model.Blocks[blockIndex], "BlockView")
            } 
```

然后 BlockView 对使用和 editorfor 的项目进行相同的列表渲染。for 循环使 Id 和名称正确。

但是，如果我想将项目模板呈现为部分视图，我将得到的自然是没有块和项目部分。

为了解决这个问题，我调用了一个空的主页，该主页呈现一个始终包含一个项目的块。但这意味着对于我想通过 ajax 插入并由 modelbinder 读取的任何内容，我必须创建 2 个额外的局部视图！

解决方案 2 我认为是使用 ViewData.TemplateInfo.HtmlFieldPrefix 方法并设置它。但是，由于我有一个列表，其中包含一个列表，这是不可能的。我可以摆脱其中一个部分视图并使用： ViewData.TemplateInfo.HtmlFieldPrefix = "Block"

我看到了一个名为 Html.BeginCollectionItem("nameofitem") 的 mvc 1 和 2 Html 助手，但它不再存在。

有什么好主意吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-10T14:02:52.940

尝试使用 @Html.TextBox() 而不是 @Html.EditorFor()

使用 @Html.TextBox 你可以传递一个名称和一个值

@Html.TextBox("WhateverNameYouWant", Model.Blocks[blockIndex])

# installation - 安装前检查系统要求

> ID：14257938
> 
> 赞同：0
> 
> 时间：2013-01-10T12:26:52.420
> 
> 标签：installation, inno-setup

我想在开始安装过程之前检查系统要求（图形内存 Ram 和 ...），如果设备不兼容，则向用户显示警告。

有没有办法通过 inno-setup 脚本来做到这一点？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-11T10:34:52.447

您可以使用标准的 Windows API 来执行您想要进行的任何检查。

至于如何向用户报告，有几个不同的选项，具体取决于您希望如何呈现。

一种方法是将测试代码放在`InitializeSetup`事件函数中；如果失败，则显示一个`MsgBox`告诉用户问题所在，并可选择返回`False`以中止安装。

另一种方法是将您的代码放在`InitializeWizard`事件函数中并创建一个自定义页面（例如 via`CreateOutputMsgMemoPage`或完全自定义的东西）以报告检测到的问题——但仅在实际存在问题时。然后，如果您想阻止用户继续安装，您可以选择在页面激活时禁用“下一步”按钮。

这两种方法都是完全有效的；你应该选择哪一个取决于你想如何向用户展示问题，而这又取决于你检查了多少东西，它们有多“严重”，以及你是否想显示一些额外的信息或不是。

# logging - 如何在 gradle 任务中使用 log4j

> ID：14257939
> 
> 赞同：4
> 
> 时间：2013-01-10T12:26:55.220
> 
> 标签：logging, groovy, log4j, gradle

我是新手。我尝试使用 log4j 注释。日志语句在 simpe Groovy 文件中运行良好。但是当我尝试将它们与 gradle 任务一起使用时。它没有被打印出来。

Groovy 文件：

> ```
>  @Log4j
> class HelloWorldLog {
>    static void main(args) {
>        log.info "Hello world"
>     }
>  } 
> ```

摇篮任务：

> ```
>  @Log4j
>     class DeployTask extends DefaultTask {
>        @TaskAction
>        def deployTaskAction(){
>             log.info "DeployTask!!!"
>        }
>    } 
> ```

我对两者都使用相同的 log4j.properties 文件。
日志在控制台中打印，而不是在日志文件中。如何将日志重定向到日志文件？

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-12-20T15:36:26.520

保存您的 log4j.properties 文件`src/main/resources`并构建您的项目。

添加这一行：

```
war.from('src/main/resources'){ include('log4j.properties')} 
```

到你的主要 gradle.build。然后再次构建并运行。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-19T09:11:58.377

将`log4j.properties`以下内容放入类路径（可能是 src/main/resources）：

```
log4j.rootLogger=INFO, file

log4j.appender.file=org.apache.log4j.RollingFileAppender
log4j.appender.file.File=C:\\myLog.log
log4j.appender.file.MaxFileSize=1MB
log4j.appender.file.MaxBackupIndex=1
log4j.appender.file.layout=org.apache.log4j.PatternLayout
log4j.appender.file.layout.ConversionPattern=%d{yyyy-MM-dd HH:mm:ss} %-5p %c{1}:%L - %m%n 
```

# ios - 无法接收推送通知

> ID：14257940
> 
> 赞同：1
> 
> 时间：2013-01-10T12:26:58.833
> 
> 标签：ios, ssl, openssl, push-notification, apple-push-notifications

我正在按照本教程设置推送通知>> [http://www.raywenderlich.com/3443/apple-push-notification-services-tutorial-part-12](http://www.raywenderlich.com/3443/apple-push-notification-services-tutorial-part-12)

然而推送通知并没有出现在我的手机上。电话注册成功。提供者成功连接到 apns 并将消息发送到注册的 deviceToken。然而没有通知到来。

从一开始就尝试第二次按照教程进行操作，结果仍然相同。

第三次我像这样测试了我的 ck.pem 文件

```
openssl s_client -connect gateway.sandbox.push.apple.com:2195 -cert ck.pem -debug 
```

并得到了这个回报。

```
Verify return code: 20 (unable to get local issuer certificate) 
```

搜索了一段时间如何解决这个问题，但没有任何帮助。我不知道这是否是手机无法接收消息的原因，但可能是这种情况。任何人都知道我该如何解决这个问题？或者也许还有其他需要检查的东西？我已经第三次一步一步地完成了教程，不知道要寻找什么。APNS 发送消息后不返回任何错误状态。

提供者在 php 中发布代码>>

```
<?php

$deviceToken = 'c8964c75e5d404f029e2d599d094a2114d219bdb95750ae6501d6f0ce6a3c3b4';

$passphrase = 'DEADFFFF';

$message = 'Check';

////////////////////////////////////////////////////////////////////////////////

$ctx = stream_context_create();
stream_context_set_option($ctx, 'ssl', 'local_cert', 'ck.pem');
stream_context_set_option($ctx, 'ssl', 'passphrase', $passphrase);

// Open a connection to the APNS server
$fp = stream_socket_client(
    'ssl://gateway.sandbox.push.apple.com:2195', $err,
    $errstr, 60, STREAM_CLIENT_CONNECT|STREAM_CLIENT_PERSISTENT, $ctx);

if (!$fp)
    exit("Failed to connect: $err $errstr" . PHP_EOL);

echo 'Connected to APNS' . PHP_EOL;

// Create the payload body
$body['aps'] = array(
    'alert' => $message,
    'sound' => 'default'
    );

// Encode the payload as JSON
$payload = json_encode($body);

// Build the binary notification
$msg = chr(0) . pack('n', 32) . pack('H*', $deviceToken) . pack('n', strlen($payload)) . $payload;

// Send it to the server
$result = fwrite($fp, $msg, strlen($msg));

if (!$result)
    echo 'Message not delivered' . PHP_EOL;
else
    echo 'Message successfully delivered' . PHP_EOL;

fclose($fp); 
```

应用程序处于调试模式，服务器证书也用于开发运行代码给出消息成功传递。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-11T12:42:49.073

一切都很好！开发手机越狱，收不到推送通知。在非越狱手机上一切正常，所以远离正在开发的越狱手机！我花了一天时间弄清楚这个...

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-10T15:08:54.503

对于`ssl://gateway.sandbox.push.apple.com:2195`,

*   调试构建
*   开发代码签名。

如果要使用生产详细信息，请使用`ssl://gateway.push.apple.com:2195`

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-10T15:13:14.110

在 Xcode 中，检查您是否使用了正确的配置文件（启用推送并用于开发）。重新启动设备并重试。

# json - 是否可以从 Mongoose Schema 中获取空的 JSON 结构

> ID：14257942
> 
> 赞同：1
> 
> 时间：2013-01-10T12:27:08.103
> 
> 标签：json, node.js, mongodb, mongoose

考虑我定义了一个 Mongoose 模式：

```
var MySchema = new mongoose.Schema({
field: mongoose.Schema.Types.String
}); 
```

现在我可以得到空的 JSON 对象，比如

```
var MyJSON = MySchema.getJSON();  //This is where I want answers 
```

这样 MyJSON 将是：

```
{
field:'';
} 
```

所以我可以创建一个空 JSON 对象并使用它，例如：

```
MyJSON.field = 'my_new_value'; 
```

高级感谢帮助..

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2016-04-23T13:51:46.570

您始终可以使用静态扩展模式

```
MySchema.statics.getJSON = function(done) {
  var result = Object.keys(this.schema.paths);
  done(null, result);
}; 
```

然后你可以这样称呼它

```
Events.getJSON( function(err, result) {
  // deal with your JSON data here;
}); 
```

# python - 如何使用 fields_get 方法编辑视图？

> ID：14257943
> 
> 赞同：2
> 
> 时间：2013-01-10T12:27:10.193
> 
> 标签：python, openerp

我正在尝试根据下拉列表中的选择实现与发票行表单类似的效果，其中某些列出现或消失（编辑视图？）。

我正在尝试研究 account_invoice_layout 中实现此效果的代码，但它有点难以理解。

这是完整的代码：

```
class account_invoice_line(osv.osv):

def move_line_get_item(self, cr, uid, line, context=None):
    if line.state != 'article':
        return None
    return super(account_invoice_line, self).move_line_get_item(cr, uid, line, context)

def fields_get(self, cr, uid, fields=None, context=None):
    article = {
        'article': [('readonly', False), ('invisible', False)],
        'text': [('readonly', True), ('invisible', True), ('required', False)],
        'subtotal': [('readonly', True), ('invisible', True), ('required', False)],
        'title': [('readonly', True), ('invisible', True), ('required', False)],
        'break': [('readonly', True), ('invisible', True), ('required', False)],
        'line': [('readonly', True), ('invisible', True), ('required', False)],
    }
    states = {
        'name': {
            'break': [('readonly', True),('required', False),('invisible', True)],
            'line': [('readonly', True),('required', False),('invisible', True)],
            },
        'product_id': article,
        'account_id': article,
        'quantity': article,
        'uos_id': article,
        'price_unit': article,
        'discount': article,
        'invoice_line_tax_id': article,
        'account_analytic_id': article,
    }
    res = super(account_invoice_line, self).fields_get(cr, uid, fields, context)
    for field in res:
        if states.has_key(field):
            for key,value in states[field].items():
                res[field].setdefault('states',{})
                res[field]['states'][key] = value
    return res

def onchange_invoice_line_view(self, cr, uid, id, type, context=None, *args):

    if (not type):
        return {}
    if type != 'article':
        temp = {'value': {
                'product_id': False,
                'uos_id': False,
                'account_id': False,
                'price_unit': False,
                'price_subtotal': False,
                'quantity': 0,
                'discount': False,
                'invoice_line_tax_id': False,
                'account_analytic_id': False,
                },
            }
        if type == 'line':
            temp['value']['name'] = ' '
        if type == 'break':
            temp['value']['name'] = ' '
        if type == 'subtotal':
            temp['value']['name'] = 'Sub Total'
        return temp
    return {}

def create(self, cr, user, vals, context=None):
    if vals.has_key('state'):
        if vals['state'] == 'line':
            vals['name'] = ' '
        if vals['state'] == 'break':
            vals['name'] = ' '
        if vals['state'] != 'article':
            vals['quantity']= 0
            vals['account_id']= self._default_account(cr, user, None)
    return super(account_invoice_line, self).create(cr, user, vals, context)

def write(self, cr, user, ids, vals, context=None):
    if vals.has_key('state'):
        if vals['state'] != 'article':
            vals['product_id']= False
            vals['uos_id']= False
            vals['account_id']= self._default_account(cr, user, None)
            vals['price_unit']= False
            vals['price_subtotal']= False
            vals['quantity']= 0
            vals['discount']= False
            vals['invoice_line_tax_id']= False
            vals['account_analytic_id']= False
        if vals['state'] == 'line':
            vals['name'] = ' '
        if vals['state'] == 'break':
            vals['name'] = ' '
    return super(account_invoice_line, self).write(cr, user, ids, vals, context)

def copy_data(self, cr, uid, id, default=None, context=None):
    if default is None:
        default = {}
    default['state'] = self.browse(cr, uid, id, context=context).state
    return super(account_invoice_line, self).copy_data(cr, uid, id, default, context)

def _fnct(self, cr, uid, ids, name, args, context=None):
    res = {}
    lines = self.browse(cr, uid, ids, context=context)
    account_ids = [line.account_id.id for line in lines]
    account_names = dict(self.pool.get('account.account').name_get(cr, uid, account_ids, context=context))
    for line in lines:
        if line.state != 'article':
            if line.state == 'line':
                res[line.id] = '-----------------------------------------'
            elif line.state == 'break':
                res[line.id] = 'PAGE BREAK'
            else:
                res[line.id] = ' '
        else:
            res[line.id] = account_names.get(line.account_id.id, '')
    return res

_name = "account.invoice.line"
_order = "invoice_id, sequence asc"
_description = "Invoice Line"
_inherit = "account.invoice.line"
_columns = {
    'state': fields.selection([
            ('article','Product'),
            ('title','Title'),
            ('text','Note'),
            ('subtotal','Sub Total'),
            ('line','Separator Line'),
            ('break','Page Break'),]
        ,'Type', select=True, required=True),
    'sequence': fields.integer('Sequence Number', select=True, help="Gives the sequence order when displaying a list of invoice lines."),
    'functional_field': fields.function(_fnct, arg=None, fnct_inv=None, fnct_inv_arg=None, type='char', fnct_search=None, obj=None, store=False, string="Source Account"),
}

def _default_account(self, cr, uid, context=None):
    cr.execute("select id from account_account where parent_id IS NULL LIMIT 1")
    res = cr.fetchone()
    return res[0]

_defaults = {
    'state': 'article',
    'sequence': 0,
} 
```

account_invoice_line()

fields_get 方法究竟做了什么？什么时候执行？上面的代码是如何编辑视图的？

谢谢你。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-10T13:13:31.167

实际上 fields_get() 返回模块的字段定义。在字段定义中，您可以提供 states 参数。

默认情况下，它在字段定义上的工作方式如下：

```
states = {'draft':[('readonly','=',True)]} 
```

当状态表单处于“草稿”时，它会将字段设置为只读。

变量***状态***和***文章***存储相同的值。

现在在您向我们展示的模块中，状态字段值与通常的值不同：

```
[('article','Product'),
            ('title','Title'),
            ('text','Note'),
            ('subtotal','Sub Total'),
            ('line','Separator Line'),
            ('break','Page Break'),] 
```

在 fields_get() 函数的最后一部分，我们有：

```
res = super(account_invoice_line, self).fields_get(cr, uid, fields, context)
for field in res:
    if states.has_key(field):
        for key,value in states[field].items():
            res[field].setdefault('states',{})
            res[field]['states'][key] = value
return res 
```

它使用超类的方法，它的工作方式如下：

fields_get() 使用 fields 参数返回模块上存在的字段。**您的模块只是强制每个字段的状态参数。**

最后，它允许根据虚拟状态字段显示字段。在您的示例中：

*   如果一行处于“文章”状态，则默认显示，
*   如果一行处于“标题”状态，则显示为不可见且只读。

我认为这些状态值是用来判断一行是标题、文章还是其他内容。

所以，如果你想在你自己的模块中做同样的事情，复制/粘贴这个 fields_get() 函数定义，**自定义你的文章和状态变量**，如果需要，不要忘记调整_columns 类属性上的**状态字段定义**.

希望对你有帮助

不是现在

# jsonp - IIS7 上的 jsonp 查询长度限制

> ID：14257952
> 
> 赞同：1
> 
> 时间：2013-01-10T12:27:25.263
> 
> 标签：jsonp

我正在尝试使用 jsonp 跨不同域传递数据。调用我的服务的代码

```
 $.ajax({
    type: "GET",
    url: window.serviceURL + "CheckWebsite",
    data: {
         domain: domainName, 
         website: sitename 
     },
    dataType: "jsonp",
    contentType: "application/json; charset=utf-8",
    success: function (data) {},
   error: function (jqXHR, textStatus, errorThrown) {
        if (window.console) console.log("Error... " + textStatus + "        " + errorThrown);
    }
}); 
```

首先，我在 IIS6 上托管此服务并传递长度为 3000 的数据并且它工作正常，现在我将我的服务移至 IIS7。即使该服务在 IIS7 上也能正常工作，但它不允许我一次传递 3000 个字符url 长度现在限制为 2000。我是否必须为 IIS7 进行任何其他设置

下面是我的 web.config

```
 <configuration><system.web.extensions>
<scripting>
  <webServices>
    <jsonSerialization maxJsonLength="5000" />
  </webServices>
</scripting></system.web.extensions><connectionStrings><add name="connectionString" connectionString="Data Source=sql2\\yukon;Initial Catalog=TMS_20110623;User id=sa; password=sa;" /></connectionStrings><appSettings><add key="connectString" value="Data Source=sql4;Initial Catalog=vbr;User id=sa; password=sa;" /></appSettings><system.web><compilation debug="true" targetFramework="4.0" /><httpRuntime enable="true" maxQueryStringLength="50000" maxUrlLength="100000" maxRequestLength="100000" /></system.web><system.serviceModel><standardEndpoints><webScriptEndpoint><standardEndpoint name="" crossDomainScriptAccessEnabled="true" /></webScriptEndpoint><webHttpEndpoint<standardEndpoint name="" helpEnabled="True" automaticFormatSelectionEnabled="true" />
  </webHttpEndpoint>
</standardEndpoints>
<bindings>
  <webHttpBinding>
    <binding crossDomainScriptAccessEnabled="true">
    </binding>
  </webHttpBinding>
</bindings>
<services>
  <service name="RestService.RestServiceImpl" behaviorConfiguration="ServiceBehaviour">
            <endpoint address="" binding="webHttpBinding" contract="RestService.IRestServiceImpl" behaviorConfiguration="web">
             </endpoint>
  </service>
</services>
<behaviors>
  <serviceBehaviors>
    <behavior name="ServiceBehaviour">
               <serviceDebug includeExceptionDetailInFaults="true" />
    </behavior>
  </serviceBehaviors>
  <endpointBehaviors>
    <behavior name="web">
      <webHttp />
    </behavior>
  </endpointBehaviors>
</behaviors>
 </system.serviceModel><system.webServer>
<modules runAllManagedModulesForAllRequests="true" />
    <defaultDocument>
        <files>
            <add value="Test1.aspx" />
        </files>
    </defaultDocument>
    <httpProtocol>
        <customHeaders>
            <add name="Access-Control-Allow-Origin" value="*" />
        </customHeaders>
    </httpProtocol></system.webServer></configuration> 
```

# vbscript - QTP 如何计算浏览器中 Window 对象的数量

> ID：14257960
> 
> 赞同：0
> 
> 时间：2013-01-10T12:27:47.917
> 
> 标签：vbscript, qtp

我有一个可以打开多个窗口的网络应用程序，不是新的浏览器窗口，而是与主窗口重叠的窗口，比如弹出窗口。在一个地方，我必须验证我是否在主应用程序窗口中。我的第一个想法是获取浏览器中的窗口数量，如果这是 0，那么我就在家，但我找不到如何计算这些对象的解决方案。

主页看起来像这样：

```
Browser().Page() 
```

如果我打开一个新窗口（弹出窗口），它看起来像这样：

```
Browser().Window().Page() 
```

如果我从前一个打开另一个，它看起来像这样：

```
Browser().Window().Window().Page() 
```

问题是如何获得 Window 元素的数量？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-14T08:26:39.010

打开的窗口是弹出窗口，所以我写了一个等待直到没有弹出窗口的函数。可能有点太复杂了，但有效。

```
Function waitForNoWindows(ByVal vSeconds)
   blnDone = False
   counter = 1
   While Not blnDone
       Wait 1
       If objBrowser.Window("ispopupwindow:=true").Exist(0) Then
           blnDone = False
        Else
            blnDone = True
       End If
       counter = counter + 1
       If counter = vSeconds Then
           blnDone = True
           reporter.ReportEvent micFail, "Waiting for all pop up windows to close", "Canot close all pop up windows and/or timeout reached"
           ExitTestIteration
       End If
   Wend
End Function 
```

# iphone - 如何使用 URL 从 UISearchBar 搜索

> ID：14257967
> 
> 赞同：2
> 
> 时间：2013-01-10T12:28:02.767
> 
> 标签：iphone, ios, objective-c, uisearchbar

我正在尝试直接从 UISearchBar 搜索。我遇到了这个问题，想知道是否有任何教程可以解决这个问题，或者是否有人可以提供帮助。这是我的代码：

```
-(void) searchBar:(UISearchBar *)searchBar textDidChange:(NSString *)searchText {

    if ([searchText length] == 0) {
        [displayItems removeAllObjects];

    } else {
        [displayItems removeAllObjects];

        NSString *url=[NSString stringWithFormat:@"http://xml.customweather.com/xml?client=clinique_test&client_password=f@c3$toF&product=search&search=%@",searchBar.text];
        NSURLRequest *request=[NSURLRequest requestWithURL:[NSURL URLWithString:url] cachePolicy:NSURLRequestUseProtocolCachePolicy timeoutInterval:5.0];

        }
    }

    // reload the table data
    [self.tableView reloadData];
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-10T12:47:44.633

尝试这个

```
 - (BOOL)searchBar:(UISearchBar *)searchBar shouldChangeTextInRange:(NSRange)range replacementText:(NSString *)text 
    {
        NSString *trimDot = [text stringByTrimmingCharactersInSet:[NSCharacterSet whitespaceAndNewlineCharacterSet]];

        if ([trimDot isEqualToString:@"."]) {
            return YES;
        }

    if(connection){
        [connection cancel];
    }
    NSString *appendStr;
       if([text length] == 0)
    {
        NSRange rangemak = NSMakeRange(0, [searchbar.text length]-1);
        appendStr = [searchbar.text substringWithRange:rangemak];
    }
    else
    {
        appendStr = [NSString stringWithFormat:@"%@%@",searchbar.text,text];

    }
    [self performSelector:@selector(callSearchWebService:) withObject:appendStr];

    [activityindicator startAnimating];
    return YES;
}

- (void)searchBarTextDidEndEditing:(UISearchBar *)searchBar
{
    [self performSelector:@selector(callSearchWebService:) withObject:searchBar.text];
    searchBar.showsCancelButton=NO;

}

- (void)searchBarCancelButtonClicked:(UISearchBar *)searchBar
{
    [searchBar resignFirstResponder];
}

- (void)searchBarSearchButtonClicked:(UISearchBar *)searchBar
{   
    [self performSelector:@selector(callSearchWebService:) withObject:searchBar.text];
    [searchBar resignFirstResponder];
}

-(void)callSearchWebService:(NSString*)searchStr
{

        NSMutableURLRequest *request = [[NSMutableURLRequest alloc] init] ;

        NSString *str =@"";
        if ([searchStr length] != 0 ) str = searchStr;

        NSString *url = [NSString stringWithFormat:@"%@/%d/%d/%@/",ListoutForSearcing_server,minRecords,maxRecords,str];
        [request setURL:[NSURL URLWithString:[url stringByAddingPercentEscapesUsingEncoding:NSUTF8StringEncoding]]];

        [request setValue:@"application/x-www-form-urlencoded" forHTTPHeaderField:@"Content-Type"];

        // Create Connection.
        connection = [[NSURLConnection alloc] initWithRequest:request delegate:self];

        if (connection) {
            JsonResponseData = [NSMutableData data] ;
            NSLog( @"Data will be received from URL: %@", request.URL );
        }
        else
        {// The download could not be made.
            NSLog( @"Data could not be received from: %@", request.URL );
        }
    HUD = [[MBProgressHUD alloc] initWithView:self.navigationController.view];
    [self.navigationController.view addSubview:HUD];

    HUD.delegate = self;
    HUD.labelText = @"Loading";
    [HUD show:YES];
} 
```

**连接委托方法**

```
#pragma mark Connection delegate methods.
-(void)connection:(NSURLConnection *)connection didReceiveResponse:(NSURLResponse *)response
{
    [JsonResponseData setLength:0];
}

-(void)connection:(NSURLConnection *)connection didReceiveData:(NSData *)data
{
    [JsonResponseData appendData:data];   

}

-(void)connection:(NSURLConnection*)connection didFailWithError:(NSError *)error
{
    UIAlertView *alertError=[[UIAlertView alloc]initWithTitle:@"Message" message:@"Network Problem." delegate:self cancelButtonTitle:@"Ok" otherButtonTitles:nil];
    [alertError show];
}

-(void)connectionDidFinishLoading:(NSURLConnection *)connection
{
    receivedString = [[NSString alloc] initWithData:JsonResponseData 
                                           encoding:NSASCIIStringEncoding];
    RecievedDataDict=[[NSMutableDictionary alloc]init];

} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-10T12:41:24.097

从您的代码中，您可以`URLConnection`在每个字符更改中使用它，`UISearchBar`因此它对您来说并不完美。

**笔记**

在这里，您想从网络服务器获取数据，然后在`UISearchBar`.. 的文本字段中输入整个字符串后发送请求，就像在`searchBarSearchButtonClicked`方法中一样。

```
//RootViewController.m
- (void) searchBarSearchButtonClicked:(UISearchBar *)theSearchBar {

   [self searchTableView];
   [searchTableView reloadData];
}

- (void) searchTableView {

    NSString *url = [NSString stringWithFormat:@"http://xml.customweather.com/xml?client=clinique_test&client_password=f@c3$toF&product=search&search=%@",searchBar.text];
    NSURLRequest *request = [NSURLRequest requestWithURL:[NSURL URLWithString:url] cachePolicy:NSURLRequestUseProtocolCachePolicy timeoutInterval:5.0];
} 
```

# mysql - 我应该如何在我的 SQL 查询中实现和 IF 语句？

> ID：14257974
> 
> 赞同：2
> 
> 时间：2013-01-10T12:28:37.357
> 
> 标签：mysql, sql, c#-4.0

这是我的代码：

```
string cmdstr = "UPDATE itemsordered i " +
                "INNER JOIN"+
                    "(  SELECT itemsOrdered_quantity, itemsOrdered_ID,  "+
                            "IF itemsOrdered_quantity = '"+quantityTxtBox.Text+"' SELECT 'EQUAL' "+
                            "IF itemsOrdered_quantity < '" + quantityTxtBox.Text + "' SELECT 'LESS' " +
                            "IF itemsOrdered_quantity > '" + quantityTxtBox.Text + "' SELECT 'MORE'  " +
                        "END AS r "+
                        "FROM itemsordered "+
                    ") res ON i.itemsOrdered_ID = res.itemsOrdered_ID "+
               "INNER JOIN stocksdb s ON s.stock_ID = i.stock_ID " +
               "SET s.stock_quantity = (s.stock_quantity + i.itemsOrdered_quantity), " +
                   "s.stock_dateUpdated = '" + DateTime.Now.ToString("yyyy-MM-dd hh:mm:ss") + "', " +
                   "i.itemsOrdered_status = 'RECEIVED', " +
                   "i.itemsOrdered_dateReceived = '" + DateTime.Now.ToString("yyyy-MM-dd hh:mm:ss") + "'" +
                   "WHERE i.itemsOrdered_ID = '" + idTxtBox.Text + "' AND res.r = 'EQUAL'";
cmd = new MySqlCommand(cmdstr, db.mycon);
cmd.ExecuteNonQuery();

MessageBox.Show("ITEM RESTOCKED!"); 
```

我真正想做的是，如果`itemsOrdered_quantity`等于 中的值，`quantityTxtBox`那么它将`s.stock_quantity`通过将 上的金额添加`itemsOrdered_quantity`到当前金额来更新 。

我还想制作其他 IF 子句。但我想先解决这个难题。

它返回一个错误`cmd.ExecuteNonQuery`并指向我的 SQL 字符串“靠近”我的 IF 语句。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-10T12:30:57.817

MySQL 为此使用[CASE](http://dev.mysql.com/doc/refman/5.0/en//case.html)语句，基本语法是：

```
SELECT CASE WHEN a = b THEN c ELSE d END CASE 
```

你也可以做

```
SELECT CASE WHEN a = b THEN c 
            WHEN a > b THEN e
            ELSE d END CASE 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-10T12:53:49.953

```
select (case when  itemsOrdered_quantity= '"+quantityTxtBox.Text+"'then 'EQUAL' else (case when itemsOrdered_quantity<  '"+quantityTxtBox.Text+"' then 'LESS' else  'MORE' end ) end) as r from itemsordered 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-10T12:39:15.567

是的，你可以使用[if 语句](http://dev.mysql.com/doc/refman/5.0/en/control-flow-functions.html#function_if)

```
 SELECT IF(1<2,'yes','no');
   //output  -> 'yes'
  //if 1<2 is true then return  `yes` if not true return `no` 
```

# excel - 工作表的名称正在重命名

> ID：14257976
> 
> 赞同：-1
> 
> 时间：2013-01-10T12:28:43.363
> 
> 标签：excel, excel-2007, vba

我使用下面的 VBA 代码在同一个工作簿中复制了 2 个 excel 表，其他名称将从一张表中获取。

我有两张纸：输入和输出。这些工作表将使用输入工作表的单元格 C15 中存在的名称进行复制。

```
Name = ThisWorkbook.Sheets("Input").Cells(15,3).Value
ThisWorkbook.Activate
Sheets("Input").Copy After:=Sheets(Sheets.Count)
ActiveSheet.Name = Name & " " & "Input"
Sheets("Output").Copy After:=Sheets(Sheets.Count)
ActiveSheet.Name = Name & " " & "Output" 
```

在复制输入表之前，此代码工作正常。但它也在重命名输出工作表，这会导致最后一行出现错误，因为工作表名称输出被替换为 C15 的单元格值。谁能帮我这个...

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-10T13:09:32.937

除了我上面的评论，试试这个

```
Option Explicit

Sub Sample()
    Dim sName As String

    With ThisWorkbook
        sName = .Sheets("Input").Cells(15, 3).Value

        .Sheets("Input").Copy After:=.Sheets(.Sheets.Count)
        ActiveSheet.Name = sName & " " & "Input"

        .Sheets("Output").Copy After:=.Sheets(.Sheets.Count)
        ActiveSheet.Name = sName & " " & "Output"
    End With
End Sub 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-10T12:41:42.883

我猜这是因为 ActiveSheet 实际上并不是您想要的工作表。由于您知道要重命名的工作表是最后一个工作表，因此请改用 Sheets 对象。

```
newName = ThisWorkbook.Sheets("Input").Cells(15, 3).Value
ThisWorkbook.Activate
Sheets("Input").Select
Sheets("Input").Copy After:=Sheets(Sheets.Count)
Sheets(Sheets.Count).Name = newName & " " & "Input"
Sheets("Output").Copy After:=Sheets(Sheets.Count)
Sheets(Sheets.Count).Name = newName & " " & "Output" 
```

同样如上所述，使用 Name 作为变量不是一个好主意。

# python - Elementtree 设置属性顺序

> ID：14257978
> 
> 赞同：6
> 
> 时间：2013-01-10T12:28:46.213
> 
> 标签：python, xml, elementtree

我正在尝试编写一个 python 脚本来标准化通用 XML 文件，用于配置网站和网站表单。但是要做到这一点，我想要么保持元素的原始属性顺序，要么更好地以预定义的方式重新排列它们。目前，我尝试过的大多数 xml 解析器都将属性顺序重写为字母数字。由于这些 XML 文件是人工读取/写入和维护的，因此这并不太有用。

例如，通用元素在 XML 中可能如下所示；

```
<Question QuestionRef="XXXXX" DataType="Integer" Text="Question Text" Availability="Shown" DefaultAnswer="X"> 
```

然而，一旦通过 elementtree 并重新写入一个新文件，这将更改为：

```
<Question Availability="Shown" DataType="Integer" DefaultAnswer="X" PartType="X" QuestionRef="XXXXX" Text="Question Text"> 
```

由于脚本的目的是标准化大量 XML 文件以提高同事之间的可读性，并且元素属性中包含的信息具有不同程度的重要性（例如 QuestionRef 非常重要），因此表明属性需要明智地订购。

我知道 python dicts（存储哪些属性）自然是无序的，并且 XML 规范声明属性排序无关紧要，但这人类可读性因素是脚本背后的驱动力。

在与此类似的其他问题（关于堆栈溢出）中，我看到它指出 pxdom 可以做到这一点（问题链接：[链接](https://stackoverflow.com/questions/662624/preserve-order-of-attributes-when-modifying-with-minidom?lq=1)），但我在 pxdom 文档或使用谷歌搜索中找不到任何关于如何做到这一点的提及. 那么有什么方法可以维护属性的顺序或用当前的 XML 解析器定义它吗？最好不要求助于热补丁:)！

任何人都可以提供的任何帮助将不胜感激:)。

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-01-10T13:15:36.253

如下所述应用猴子补丁::
在`ElementTree.py`文件中，有一个名为`_serialize_xml`;的函数
在这个函数中；应用下面提到的补丁；

```
 ##for k, v in sorted(items):  # remove the sorted here
        for k, v in items:
            if isinstance(k, QName):
                k = k.text
            if isinstance(v, QName):
                v = qnames[v.text]
            else:
                v = _escape_attrib(v, encoding)
            write(" %s=\"%s\"" % (qnames[k], v)) 
```

这里; 删除`sorted(items)`并使其`items`就像我在上面所做的那样。

还要禁用基于命名空间的排序（因为在上面的补丁中；当 xml 属性存在命名空间时，排序仍然存在；否则，如果命名空间不存在；那么上面工作正常）；所以要做到这一点，将所有替换`{}`为`collections.OrderedDict()`from`ElementTree.py`

现在，您已将所有属性按顺序添加到该 xml 元素中。

**在执行上述所有操作之前；阅读 Fredrik Lundh 的版权信息`ElementTree.py`**

# ruby-on-rails - 在 Ruby 中创建多个相同的方法

> ID：14257979
> 
> 赞同：11
> 
> 时间：2013-01-10T12:28:48.487
> 
> 标签：ruby-on-rails, ruby

在我的一个模型中，我有这样的代码：

```
def lendable_category=(i)
  set_category(i)
end

def free_category=(i)
  set_category(i)
end

def skill_category=(i)
  set_category(i)
end 
```

这些方法是我添加的虚拟参数，因此我可以使用 params 散列保存对象，而无需在控制器中强制散列。

同样的事情说三遍感觉不太好。有没有更好的方法来创建这样的相同方法？

* * *

## 回答 #1

> 赞同：17
> 
> 时间：2013-01-10T12:34:18.187

```
%w(lendable free skill).each do |name|
  define_method "#{name}_category" do |i|
    set_category(i)
  end
end 
```

* * *

## 回答 #2

> 赞同：16
> 
> 时间：2013-01-10T13:26:37.903

或者，由于您的方法除了调用之外没有做任何事情`set_category`，您可以通过给方法起别名来节省几行：

```
%w(lendable free skill).each do |name|
  alias_method "#{name}_category=", :set_category
end 
```

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2013-01-10T14:23:36.690

您可以使用以下`alias`关键字：

```
alias lendable_category= set_category 
alias free_category=     set_category 
alias skill_category=    set_category 
```

# java - 在 JSP 中处理复杂的 HashMap 显示

> ID：14257980
> 
> 赞同：0
> 
> 时间：2013-01-10T12:28:50.617
> 
> 标签：java, jquery, jsp, jakarta-ee

我有一个 Hashmap 对象`allList`，其形式为 type `HashMap<String,ArrayList<Item>>`。我想将它的 JSP 页面显示为[jquery 手风琴](http://jqueryui.com/accordion/)。下面是我尝试过的代码。

```
<script type="text/javascript">
$(function() {
    $( "#accordion" ).accordion({
        heightStyle: "fill",
        collapsible: true
     });
});

</script>

<div id="accordion">
       <c:forEach items="${allList}" var="myLs">
    <h3>${myLs.key}</h3>
    <div>${myLs.value}</div> // This is giving me toString of Item.
</c:forEach>
</div> 
```

我能够将哈希图的键显示为标题。但我无法弄清楚如何将相应的 arraylist 对象显示为有序列表。请帮帮我。

```
public class Item implements java.io.Serializable, Comparable<Object> {
    private Long id;
    private String itemName;
    private Double unitCost;
    private String status;
    private int quantity;
    public Item() {
    }
        //getters and setters
    public boolean equals(Object o) {
        if (this == o) {
            return true;
        }
        if (!(o instanceof Item)) {
            return false;
        }
        final Item item = (Item) o;
        if (getItemName() != null && item.getItemName() == null)
            return false;
        if (getItemName() == null && item.getItemName() != null)
            return false;
        if (!getItemName().equals(item.getItemName()))
            return false;
        return true;
    }
    public int hashCode() {
            return getItemName().hashCode();
    }

    public String toString() {
       return "Item - Id: "+getId+", Name : "+getItemName;
    }
    public int compareTo(Object o) {
       if (o instanceof Item) {
           return getItemName().compareTo(((Item) o).getItemName());
       }
       return 0;
    }
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-10T12:47:23.957

您将使用第二个 forEach 循环：

```
<div id="accordion">
    <c:forEach items="${allList}" var="myLs">
        <h3>${myLs.key}</h3>
        <div>
            <c:forEach var="item" items="${myLs.value}">
                ${item.foo}, ${item.bar}  <br/>
            </c:forEach>
        </div>
    </c:forEach>
</div> 
```

我认为您因错误的命名选择而感到困惑。您应该命名 a `Map<String, ArrayList<Item>>` `allList`，因为它不是列表，而是地图。而且您不应该命名地图条目`myLs`，因为它没有任何意义。我会将代码重构为（例如，假设地图中的键代表项目的所有者）

```
<div id="accordion">
    <c:forEach items="${itemsPerOwner}" var="itemsPerOwnerEntry">
        <h3>${itemsPerOwnerEntry.key}</h3>
        <div>
            <c:forEach var="item" items="${itemsPerOwnerEntry.value}">
                ${item.foo}, ${item.bar}  <br/>
            </c:forEach>
        </div>
    </c:forEach>
</div> 
```

# javascript - 递归调用未完全执行的 Web 服务

> ID：14257984
> 
> 赞同：0
> 
> 时间：2013-01-10T12:29:01.570
> 
> 标签：javascript, iphone, titanium

我正在使用 Titanium Appcelerator 来开发 iphone 应用程序。我需要调用不同参数的 Web 服务超过 1250 次。我已将 xhr.send() 方法放在 xhr.onload 函数中。它工作正常大约 3-8 次，但之后停止调用。那里没有显示错误或任何问题。请建议。

```
 function(e){

var xhr = Titanium.Network.createHTTPClient();

var Request = "<RefId>"+idArray[e.index]"</RefId>";
xhr.open("POST", url); 

xhr.setRequestHeader("WWW-Authenticate","Basic");
xhr.setRequestHeader("Content-Type","text/xml", "charset=utf-8");
xhr.setRequestHeader("Content-Length", Request.length); 
xhr.setRequestHeader("SOAPAction", "http://example.com"); 

xhr.onload = function() {

    var doc = Titanium.XML.parseString(this.responseText);
    var type = doc.getElementsByTagName("studentName");

    Ti.API.info(type.item+';'+type.item.length);
    if(type.item.length<1){

        file = Ti.Filesystem.getFile(Ti.Filesystem.resourcesDirectory, "textfile.txt");

    }
    doc=null;
    type=null;

if(idArray.length>e.index){
//alert('Calling API');

var url="http://example.com";
var Request = "<RefId>"+idArray[e.index++]"</RefId>";   
xhr.setTimeout(2500);
xhr.open("POST", url); 
xhr.send(Request);

}

};    
xhr.onerror = function(){
    alert('Error')
};
xhr.send(Request); 
```

}

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-11T00:03:09.753

我会尝试每次重新创建客户端，而不仅仅是再次调用发送

# mongodb - Mongo db逐行操作和验证

> ID：14257989
> 
> 赞同：1
> 
> 时间：2013-01-10T12:29:31.773
> 
> 标签：mongodb, pymongo

我们有一个很大的 mongodb 集合。为此，我们需要执行周期性的逐行操作。我们使用 pymongo。我们有以 mongodb 格式动态生成过滤条件的代码，这部分代码不能更改。

当前代码看起来像这样

```
for row in cursor:
   do_row_by_row_op_if_filter_is_invalid(row)

cursor.rewind()

for row in cursor.find(filter_in_mongo_db_format):
   do_row_by_row_op_if_filter_is_valid(row) 
```

这根本不是最优的。我们怎么能做类似的事情

```
for row in cursor:
   if not filter_is_valid(row, filter_in_mongo_db_format):
       do_row_by_row_op_if_filter_is_invalid(row)
   else:
       do_row_by_row_op_if_filter_is_valid(row) 
```

# c# - 绑定 Datagrid 列 WPF 时调用方法

> ID：14257991
> 
> 赞同：0
> 
> 时间：2013-01-10T12:29:32.933
> 
> 标签：c#, wpf, c#-4.0, wpfdatagrid

在我的 asp.net GridView 中，我使用以下方式转换 GridView 列数据。

```
<ItemTemplate>
    <asp:Label ID="lb_gvInbox_DelTime" runat="server" Text='<%# this.GetTimeFormat(Eval("Order_Date"))%>'/>
</ItemTemplate> 
```

方法将是

```
protected string GetTimeFormat(object dateTimeObj)
    {
        DateTime dateTime = (DateTime)dateTimeObj;
        return (dateTime.Date == time.Date) ? dateTime.ToString("hh:mm tt", CultureInfo.InvariantCulture)
                : (dateTime.Year == time.Year) ? dateTime.ToString("MMM dd") : dateTime.ToString("dd/MMM/yy");
    } 
```

我怎样才能在 WPF DataGrid 中这样做？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-10T12:40:07.830

您正在寻找的是[价值转换器](http://blogs.msdn.com/b/bencon/archive/2006/05/10/594886.aspx)。

```
 <TextBlock Text="{Binding Order_Date, Converter={StaticResource DateFormatter}}" />

class DateFormatter: IValueConverter
{
    public object Convert(object value, Type targetType, object parameter, CultureInfo culture)
    {
      // your code 
    }
} 
```

# gwt - GWT：如何在对数据网格列进行排序后运行代码

> ID：14257993
> 
> 赞同：0
> 
> 时间：2013-01-10T12:29:40.367
> 
> 标签：gwt, sorting

我真的需要在 DataGrid 的整个排序完成后运行一些代码。特别是在显示列是升序还是降序排序的小箭头之后，因为我需要在显示该箭头后操作它的 CSS。我找不到真正设置箭头的地方。我试过这样的事情：

```
ListHandler<String> columnSortHandler = new ListHandler<String>(list) {
    @Override
    public void onColumnSort( ColumnSortEvent event ) {
        super.onColumnSort( event );
        // My Code here
    }
}; 
```

但代码也在排序完成之前运行。

感谢您提供如何解决此问题的任何建议。我现在正在寻找很长时间，但找不到任何有帮助的东西。

编辑：我已经覆盖了原始文件`DataGrid.Resources`以提供自定义箭头图片。我还有一个复杂的自定义标头，`AbstractCell<String>`它支持运行时操作并使用 DIV 和图像呈现。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-10T12:54:14.760

您可以使用`CellTable.Resources`.

```
public interface TableResources extends CellTable.Resources {
@Source("up.png")
ImageResource cellTableSortAscending();

@Source("down.png")
ImageResource cellTableSortDescending();

@Source("MyCellTable.css")
CellTable.Style cellTableStyle(); 
```

}

在`MyCellTable.css`使用样式名称并更改您的图标

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-10T13:12:46.220

当您使用 a`ListHandler`时，可能`ListDataProvider`会更新`CellTable` *live* ( `setRowData`); 因为两者`ListDataProvider`和`CellTable`（*通过*内部`HasDataPresenter`）都使用`Scheduler#scheduleFinally()`，那么使用`Scheduler#scheduleDeferred()`应该足以保证你在它们之后运行，但是你会冒一些闪烁的风险。

您可以在您的自定义`ListHandler` `flush()`中 `ListDataProvider`，绕过一个`scheduleFinally`，然后在`scheduleFinally`其中一个之后执行`CellTable`（因为`flush()`将调用which 将安排命令；您的命令将安排在之后，因此将在之后运行）。`setRowData``CellTable`

# c# - 在上一步中禁用控件

> ID：14257994
> 
> 赞同：0
> 
> 时间：2013-01-10T12:29:46.063
> 
> 标签：c#, asp.net, wizard

在 nextbuttonclick 事件之后，如何在向导的上一步中禁用所有 checbkoxes 或所有单选按钮？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-10T13:38:29.933

**ASPX：**

```
<asp:Wizard ID="Wizard1" runat="server" 
        onnextbuttonclick="Wizard1_NextButtonClick">
        <WizardSteps>
            <asp:WizardStep ID="Step1" runat="server" Title="Step 1">
                <asp:RadioButton ID="RadioButton1" Text="Option 1" runat="server" />
                <asp:RadioButton ID="RadioButton2" Text="Option 2" runat="server" />
                <asp:RadioButton ID="RadioButton3" Text="Option 3" runat="server" />
            </asp:WizardStep>
            <asp:WizardStep ID="Step2" runat="server" Title="Step 2">
            </asp:WizardStep>
        </WizardSteps>
    </asp:Wizard> 
```

**后面的代码：**

```
protected void Wizard1_NextButtonClick(object sender, WizardNavigationEventArgs e)
{
    if (Wizard1.ActiveStep == Step1)
    {
        IEnumerable<RadioButton> controls = FindControls<RadioButton>(Step1);
        controls.ToList().ForEach(c => c.Enabled = false);
    }
}

IEnumerable<T> FindControls<T>(Control parent) where T : Control
{
    foreach (Control c in parent.Controls)
    {
        if (c.GetType() == typeof(T)) yield return (T)c;
        foreach (var subControl in FindControls<T>(c))
            yield return subControl;
    }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-11T11:47:51.863

好的，我已经检查过了，它不起作用，当`step.allowreturn=false`.

# jquery - # HREF 中的（散列）字符阻止 preventDefault 工作

> ID：14257995
> 
> 赞同：1
> 
> 时间：2013-01-10T12:29:48.763
> 
> 标签：jquery, href, preventdefault

我之前发布了一个问题，当在链接中指定 HREF 时，我的 jQuery 无法正常工作（[此处为原始问题](https://stackoverflow.com/questions/14257054/jquery-not-works-on-li-elements-but-not-a-elements)）。

最常见的建议答案是使用 preventDefault，但由于某种原因，如果 HREF 中有散列/锚点，这将不起作用；例如，如果 URL 是“ [http://www.google.com](http://www.google.com) ”，它会阻止默认行为并按预期运行 jQuery，但如果它是“ [http://www.google.co.uk#whatever](http://www.google.co.uk#whatever) ”，它忽略 preventDefault 并遵循链接。

我正在使用的链接有一个目标（实际上，只是同一页面中的一个目标）。这种古怪的行为有解决方法吗？

**HTML**

```
<li><a id="OfficeNav-Bath" class="first" href="#bath" >Bath</a></li> 
```

**jQuery**

```
<script> <!--Offices jquery -->
        $(function() {$("#OfficeNav-Bath").click(function(e){e.preventDefault(); $('.office').removeClass('visible');});});
</script> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-10T12:36:25.893

我认为这段代码没有问题，问题应该在其他地方。

看看这个：

*   [http://jsbin.com/ozoyab/1/edit](http://jsbin.com/ozoyab/1/edit)
*   [http://jsbin.com/ozoyab/1/](http://jsbin.com/ozoyab/1/)

有目标：

*   [http://jsbin.com/ozoyab/2/edit](http://jsbin.com/ozoyab/2/edit)
*   [http://jsbin.com/ozoyab/2/](http://jsbin.com/ozoyab/2/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-10T12:38:34.050

我认为您尝试做的事情看起来不错，但是您的 javascript 标记块中有一个 HTML 注释，这可能会破坏您的脚本。删除`<!--Offices jquery -->`. 请记住，您的 javascript 日志/控制台是您的朋友。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-10T12:38:59.470

如果没有关于您正在使用的 jquery 的确切版本的任何信息，`#`使用`href`jQuery 1.8.2 似乎没有问题。

在 href 中使用 jsFiddle`#`没有影响，并且`event.PreventDefault()`按预期工作。

[**演示**](http://jsfiddle.net/MPTDk/)-`event.PreventDefault()`并`#`在`href`

上面的 DEMO 代码如下，以防链接腐烂。

HTML：

```
<a id="OfficeNav-Bath" class="first" href="http://www.google.com#whatever" >click me</a> 
```

脚本：

```
$("#OfficeNav-Bath").on("click", function(event){
  event.preventDefault();
  alert("Prevent Default Works");
}) 
```