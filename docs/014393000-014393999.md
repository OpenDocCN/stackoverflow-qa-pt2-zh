# StackOverflow 问答 14393000-14393999

# c# - 无法为 AutoGeneratedColumns 调用 EventHandler

> ID：14393003
> 
> 赞同：0
> 
> 时间：2013-01-18T05:35:58.407
> 
> 标签：c#, wpf, events, handler

我的 WPF 应用程序中有一个数据网格，并且我将一个 Ienumerable 集合绑定到数据网格的 itemsource。

绑定后，我需要在 DataGrid 中为 AutoGenerated 列添加一个处理程序。但我不能。

```
this.dataGrid1.ItemsSource = ineumerable_collection;
dataGrid1.AutoGeneratedColumns += new EventHandler(dataGrid1_AutoGeneratedColumns);//Not working 
```

我在 XAML 中将 Autogeneratecolumns 设置为 True。但是当我运行我的应用程序时，它不会调用事件处理程序 dataGrid1_AutoGeneratedColumns。如果您能解决我的问题，请提前致谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-18T05:43:48.790

> 但是当我运行我的应用程序时，它没有调用事件处理程序

您应该*首先*订阅该事件：

```
dataGrid1.AutoGeneratedColumns += dataGrid1_AutoGeneratedColumns 
```

然后*更改*项目来源：

```
this.dataGrid1.ItemsSource = ineumerable_collection; 
```

因为此事件在`ItemsSource`更改后引发并且生成了最后一列。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-18T05:44:01.973

根据 MSDN：

> 每次 DataGrid 尝试生成列时都会引发 AutoGeneratedColumns 事件。例如，在初始化 DataGrid、AutoGenerateColumns 设置为 true 或更改 ItemsSource 时引发 AutoGeneratedColumns，即使 ItemsSource 为 null。

在设置 ItemsSource 之前尝试订阅事件。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-18T05:44:23.177

问题是您在更改 之后附加了事件处理程序`ItemsSource`，这意味着在附加处理程序之前生成了列。只需切换两个语句的顺序即可。

```
dataGrid1.AutoGeneratedColumns += new EventHandler(dataGrid1_AutoGeneratedColumns);
this.dataGrid1.ItemsSource = ineumerable_collection; 
```

# ruby - Ruby Datamapper 计数不起作用

> ID：14393004
> 
> 赞同：3
> 
> 时间：2013-01-18T05:36:09.670
> 
> 标签：ruby, sinatra, ruby-datamapper

当我这样做时，来自 irb：

```
Router.all(:email=>"blake@gmail.com") 
```

我得到与该电子邮件关联的所有路由器的列表。但是当我这样做时：

```
Router.count(:email=>"blake@gmail.com") 
```

我总是得到 0

我也看过这个问题：[Ruby Datamapper .count always return 0](https://stackoverflow.com/questions/12548032/ruby-datamapper-count-always-returns-0)但我仍然不知道为什么它不起作用。

-- 更新#1 --

这是 Router.all 命令的输出。如您所见，我得到了结果。

```
1.9.3-p362 :003 > Router.all(:email=>"blake@gmail.com")
=> [#<Router @id=8 @email="blake@gmail.com" @hostname="router0">, #<Router @id=9              @email="blake@gmail.com" @hostname="router0">, #<Router @id=10 @email="blake@gmail.com" @hostname="router0">, #<Router @id=11 @email="blake@gmail.com" @hostname="router0">, #<Router @id=13 @email="blake@gmail.com" @hostname="router0">, #<Router @id=14 @email="blake@gmail.com" @hostname="router0">, #<Router @id=15 @email="blake@gmail.com" @hostname="router0">, #<Router @id=16 @email="blake@gmail.com" @hostname="router0">] 
```

但是当我按照建议执行 Router.count 时，它仍然返回 0

```
1.9.3-p362 :004 > Router.count(:conditions => ["email = ?", "blake@gmail.com"])
=> 0 

1.9.3-p362 :005 > Router.count(:conditions => "email = 'blake@gmail.com'")
=> 0 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-29T08:42:45.640

正如**piyush**指出的那样，`Router.all(:email=>"blake@gmail.com").count`是正确的方法。在调用“触发”方法之一之前，DataMapper 不会运行实际查询，例如`all`, `first`, `last`。这允许在调用 final`.all`以运行复合查询之前链接多个方法。

在 的情况下`Router.count(:email=>"blake@gmail.com")`，您正在对“空” DataMapper 对象进行计数，该对象已被初始化但其查询尚未运行。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-29T10:10:09.693

你可以`require 'dm-aggregates'`，之后你可以做

```
Router.count(:email => "blake@gmail.com") 
```

它会变成

```
SELECT COUNT(*) FROM routers WHERE "email" = 'blake@gmail.com' 
```

（虽然你会得到与`Router.all(:email => "blake@gmail.com").count`with相同的声明`dm-aggregates`。）

# java - 如何在布局中解决更多数量的 Editext 并从中获取值？

> ID：14393005
> 
> 赞同：2
> 
> 时间：2013-01-18T05:36:14.180
> 
> 标签：java, android, android-activity, android-edittext

看这张图片：

![](../Images/2ec613ddb1058570a12e5b463a14be8c.png)

我正在android中设计一个数独，已经完成了这样的布局，所以81 Editext就在那里。我想获取 Editext 中的所有值，因此很难在活动中声明和管理 81 个视图。你能建议我一种对处理我的问题有效的方法吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-18T05:43:43.113

动态创建编辑文本。

在每次迭代中，您都在重写`ed`变量，因此当循环完成时，`ed`仅指向您创建的最后一个 EditText 实例。

您应该存储对所有 EditTexts 的所有引用：

```
EditText ed;
List<EditText> allEds = new ArrayList<EditText>();

for (int i = 0; i < count; i++) {   

    ed = new EditText(Activity2.this);
    allEds.add(ed);
    ed.setBackgroundResource(R.color.blackOpacity);
    ed.setId(id);   
    ed.setLayoutParams(new LayoutParams(LayoutParams.FILL_PARENT,
            LayoutParams.WRAP_CONTENT));
    linear.addView(ed);
} 
```

现在`allEds`列出对所有 EditTexts 的引用，因此您可以对其进行迭代并获取所有数据。

获取数据

```
 String[] strings = new String[](allEds.size());

for(int i=0; i < allEds.size(); i++){
    string[i] = allEds.get(i).getText().toString();
} 
```

**注意**：

这不是您的设计可能会有一些变化的结果。但是请按照这些程序获得准确的结果。我认为您必须使用`two for loops`在网格视图中获取您的编辑文本。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-18T05:48:23.063

我建议你像这样使用 Edittext 数组

```
EditText text1,text2,text3,text4,text5,text6,text7,text8,text9, text21,text22,text23,text24....text 99;
EditText[] fields={text1,text2,text3,text4,text5,text6,text7,text8,text9, text21,text22,text23,text24....text 99};
//Give your edittext ids in ids array like this
int ids[]={R.id.text1,R.id.text2,R.id.text3.....R.id,text99};
int values[9][9]={};

for(int i=0;i<fiends.length;i++)
{
fields[i]=(EditText)findViewById(ids[i]);
} 
```

要获取值，请使用相同的方式获取一个数组并将这些值保存在这样的数组中。使用 for 循环并从文本字段中获取值并将其保存在二维数组中，正如我在值数组中声明的那样。我想您知道如何编写您真正想知道的其余内容，请发表评论，其余的我会发布。谢谢您..我希望这会对您有所帮助。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-18T05:48:28.677

你可以试试这种方式：

> ```
> public static ArrayList<EditText> m_arr_edit= = new ArrayList<EditText>();
>   RelativeLayout p_rl_layout=new RelativeLayout(m_context);
>   RelativeLayout.LayoutParams layoutParams = new RelativeLayout.LayoutParams(RelativeLayout.LayoutParams.WRAP_CONTENT, RelativeLayout.LayoutParams.WRAP_CONTENT);
>   LinearLayout  m_ll_timelayout = new LinearLayout(m_context);
>   m_ll_timelayout.setLayoutParams(new LinearLayout.LayoutParams(LayoutParams.WRAP_CONTENT, LayoutParams.WRAP_CONTENT));
>     for (int i = 0; i < p_intervals; i++)
>     {
>         EditText m_edit = new EditText(m_context);
>         m_edit.setLayoutParams(new LinearLayout.LayoutParams(90, LayoutParams.WRAP_CONTENT));
>         m_edit.setText("Set Text");
>         m_edit.setId(i);
>         m_arr_edit.add(m_btn);
>         m_ll_timelayout.addView(m_btn); 
>     }
>     layoutParams.addRule(RelativeLayout.BELOW);
>     p_rl_layout.addView(m_ll_timelayout, layoutParams); 
> ```

我希望它会帮助你。

# iphone - ios6中的qlpreviewcontroller

> ID：14393013
> 
> 赞同：0
> 
> 时间：2013-01-18T05:37:01.170
> 
> 标签：iphone, xcode, ipad, ios6, qlpreviewcontroller

通过使用 qlpreviewcontroller 在 ios 4.3 中获取输出。我正在显示来自远程 url 的文档。

在 ios 6 中，它显示了 qlpreviewcontroller 的空视图。需要解决这个问题。ios 6 中 qlpreviewcontroller 的任何教程。

需要在 xcode 3.6 中开发应用程序来克服这个问题，这是否可以解决这个问题。

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-11T05:11:59.470

QLPreviewController 只会从文件 URL 加载文件。您必须从磁盘加载它们，因此如果您想使用 QLPreviewController，您必须先下载文件并将其缓存在磁盘上。

当提到 Xcode 3.6 时，我不完全确定您的意思，但您将无法使用它创建 iOS6 应用程序。

# ios - 无法从 NSString 中提取子字符串

> ID：14393014
> 
> 赞同：0
> 
> 时间：2013-01-18T05:37:02.003
> 
> 标签：ios, objective-c, nsstring

我有一个格式的输入字符串

"Jerry Lane"(尖括号)jerry.lane@gmail.com(括号闭合),"哈利波特"(尖括号)harry.potter@gmail.com(括号闭合),"Indiana Jones",(尖括号)indiana .jones@gmail.com（括号关闭），“汤姆克鲁斯”（尖括号）tom.cruise@gmail.com（括号关闭）

在这里，我应该首先根据逗号分隔符分隔字符串，这会给我一个单独的字符串，例如

“杰里巷”（尖括号）jerry.lane@gmail.com（括号关闭）

然后我需要保存提取 <> 括号之间的字符串，它本质上是字符串“jerry.lane@gmail.com”。我正在使用以下代码，但它给了我以下错误：

**由于未捕获的异常“NSRangeException”而终止应用程序，原因：“-[__NSCFConstantString substringWithRange:]: Range or index out of bounds”**

```
-(NSArray *)parseString:(NSString *)string
{
  if(string)
  {
    NSArray *myArray = [string componentsSeparatedByString:@","];
    for(NSMutableString *myString in myArray)
    {
        NSRange start,end;
        start = [myString rangeOfString:@"<"];
        end = [myString rangeOfString:@">"];
        if(start.location != NSNotFound && end.location != NSNotFound)
        {
            NSString *emailAddress = [myString substringWithRange:NSMakeRange(start.location,end.location)];
            NSString *name = [myString substringToIndex:start.location];

            NSDictionary *myDictionary = [[NSDictionary alloc] init];
            [myDictionary setValue:emailAddress forKey:@"Dhruvil Vyas"];
            [testArray addObject:myDictionary];

        }
    }
}

return testArray; 
```

}

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-18T05:40:40.797

substring 采用的参数是起始位置和**长度**

不是开始位置和结束位置。

[更多信息](https://developer.apple.com/library/mac/#documentation/Cocoa/Reference/Foundation/Miscellaneous/Foundation_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/NSRange)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-18T05:50:50.463

borrrden 的回答是正确的。这是另一种方法。

```
-(NSArray *)parseString:(NSString *)string
{
  if(string)
  {
    NSArray *myArray = [string componentsSeparatedByString:@","];
    for(NSMutableString *myString in myArray)
    {
        NSArray *tempNameArray = [myString componentsSeparatedByString:@"<"];
        NSString *email = [tempNameArray objectAtIndex:1];

        NSArray *tempMailArray = [email componentsSeparatedByString:@">"];

        NSString *emailAddress = [tempMailArray objectAtIndex:0];
        NSString *name = [tempNameArray objectAtIndex:0];

        NSDictionary *myDictionary = [[NSDictionary alloc] init];
        [myDictionary setValue:emailAddress forKey:@"Dhruvil Vyas"];
        [testArray addObject:myDictionary];
    }
  }

 return testArray;
} 
```

# java - jasp页面中的整页刷新

> ID：14393015
> 
> 赞同：0
> 
> 时间：2013-01-18T05:37:02.753
> 
> 标签：java, jsp

我创建了jsp页面，其中我创建了2个输入框和日历字段，如果我输入列表将显示在同一页面中。如果我单击清除按钮，它应该删除页面中的所有内容我该怎么办.我用波纹管编码但没有清除整个页面内容。

```
<input type="reset" name="clear" value="Clear"  /> and 

<input type="button" value="Reload Page" onClick="document.location.reload(true)"> 
```

我都试过

谢谢svn

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-18T06:03:04.587

通过列表，您的意思是日期搜索的结果？您希望通过单击按钮清除结果吗？将结果部分包装在一个层中，然后单击按钮，编写一个隐藏 div 层的函数 -document.getElementById("yourDivId").style.display="none"

# ios - 更改 NSURL 的方案

> ID：14393016
> 
> 赞同：26
> 
> 时间：2013-01-18T05:37:08.837
> 
> 标签：ios

有没有简单的方法来改变 a 的方案`NSURL`？我确实意识到这`NSURL`是不可变的。我的目标是将 URL 的方案更改为“https”（如果`Security.framework`已链接），如果未链接框架则更改为“http”。我确实知道如何检测框架是否已链接。

如果 URL 没有参数（例如“?param1=foo¶m2=bar”），则此代码可以很好地工作：

```
+(NSURL*)adjustURL:(NSURL*)inURL toSecureConnection:(BOOL)inUseSecure {
    if ( inUseSecure ) {
        return [[[NSURL alloc] initWithScheme:@"https" host:[inURL host] path:[inURL path]] autorelease];
    }
    else {
        return [[[NSURL alloc] initWithScheme:@"http" host:[inURL host] path:[inURL path]] autorelease];
    }    
} 
```

但如果 URL 确实有参数，则`[inURL path]`删除它们。

除了自己解析 URL 字符串之外还有什么建议（我可以这样做，但我想尝试不这样做）？我做了什么能够将带有 http 或 https 的 URL 传递给此方法。

* * *

## 回答 #1

> 赞同：52
> 
> 时间：2013-01-18T05:57:37.957

### 更新的答案

`NSURLComponents`是你的朋友吗？您可以使用它来将`http`方案换成`https`. 唯一需要注意的是`NSURLComponents`使用 RFC 3986 而`NSURL`使用较旧的 RFC 1738 和 1808，因此在边缘情况下存在一些行为差异，但您极不可能遇到这些情况（并且`NSURLComponents`无论如何都有更好的行为）。

```
NSURLComponents *components = [NSURLComponents componentsWithURL:url resolvingAgainstBaseURL:YES];
components.scheme = inUseSecure ? @"https" : @"http";
return components.URL; 
```

* * *

### 原始答案

为什么不做一些字符串操作呢？

```
NSString *str = [url absoluteString];
NSInteger colon = [str rangeOfString:@":"].location;
if (colon != NSNotFound) { // wtf how would it be missing
    str = [str substringFromIndex:colon]; // strip off existing scheme
    if (inUseSecure) {
        str = [@"https" stringByAppendingString:str];
    } else {
        str = [@"http" stringByAppendingString:str];
    }
}
return [NSURL URLWithString:str]; 
```

* * *

## 回答 #2

> 赞同：29
> 
> 时间：2014-06-17T18:18:05.310

如果您使用的是 iOS 7 及更高版本，则可以使用`NSURLComponents`，如图[所示](http://joris.kluivers.nl/blog/2013/10/17/nsurlcomponents/)

```
NSURLComponents *components = [NSURLComponents new];
components.scheme = @"http";
components.host = @"joris.kluivers.nl";
components.path = @"/blog/2013/10/17/nsurlcomponents/";

NSURL *url = [components URL];
// url now equals:
// http://joris.kluivers.nl/blog/2013/10/17/nsurlcomponents/ 
```

* * *

## 回答 #3

> 赞同：5
> 
> 时间：2020-02-28T15:51:07.547

**斯威夫特5**

```
extension URL {
    func settingScheme(_ value: String) -> URL {
    let components = NSURLComponents.init(url: self, resolvingAgainstBaseURL: true)
    components?.scheme = value
    return (components?.url!)!
} 
```

}

**用法**

```
if nil == url.scheme { url = url.settingScheme("file") } 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2014-07-02T11:17:44.557

也许使用`resourceSpecifier`会有所帮助：

```
return [[[NSURL alloc] initWithString:[NSString stringWithFormat:@"https:%@", [inURL resourceSpecifier]]]]; 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-01-18T06:13:15.503

```
NSString *newUrlString =  [NSString stringWithFormat:@"https://%@%@", 
                          inURL.host, inURL.path];
if (inURL.query) {
    newUrlString = [newUrlString stringByAppendingFormat:@"?%@", inURL.query];
}
return [NSURL URLWithString:newUrl]; 
```

[注意] 为简单起见，删除了与端口和其他字段处理相关的代码。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2014-10-17T10:08:58.843

我这样做了，[`resourceSpecifier`](https://developer.apple.com/documentation/foundation/nsurl/1415309-resourcespecifier)在 NSURL 中 使用一个变量

**迅速**

```
var resourceSpecifier: String? { get } 
```

**目标-C**

```
@property(readonly, copy) NSString *resourceSpecifier Discussion 
```

此属性包含资源说明符。例如，在 URL [http://www.example.com/index.html?key1=value1#jumplink](http://www.example.com/index.html?key1=value1#jumplink)中，资源说明符是 //www.example.com/index.html?key1=value1#jumplink （后面的所有内容冒号）。

```
 -(NSURL*) URLByReplacingScheme
    {
        NSString *newUrlString = kHttpsScheme;

        if([self.scheme isEqualToString:kEmbeddedScheme])
            newUrlString = kHttpScheme;

        newUrlString = [newUrlString stringByAppendingString:[NSString stringWithFormat:@":%@", self.resourceSpecifier]];

        return [NSURL URLWithString:newUrlString];
    } 
```

# performance - 使用内容编辑器 Web 部件重定向到另一个页面不起作用

> ID：14393020
> 
> 赞同：0
> 
> 时间：2013-01-18T05:37:25.360
> 
> 标签：performance, sharepoint

我正在使用内容编辑器在 SharePoint 2010 网站的不同页面上进行重定向。它有以下代码：

```
<script '"text/javascript"'></script>
<meta http-equiv="refresh" content="1;url=http://intouch/..."> 
```

它仅适用于特定的用户组。我完全不知道哪个权限级别适用于它。我有完全控制权，所以它对我来说很好用。具有阅读或贡献权限的其他用户**不起作用。**

虽然我想减少时间。现在是 1 秒（即元标记中的内容属性值），可以减少吗？

换句话说，我怎样才能提高它的性能。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-23T11:45:28.903

根据[此页面](http://en.wikipedia.org/wiki/Meta_refresh)，您可以将计时器的值设置为 0，它会立即重定向。

另一种选择是使用 SharePoint 页面模板“重定向”，它允许您重定向到特定 URL，而无需添加任何代码。但是，它可能不会立即生效，并且仅适用于激活了发布功能的站点。

# iphone - 用户在使用应用内购买时取消 iTunes 登录时需要触发

> ID：14393026
> 
> 赞同：0
> 
> 时间：2013-01-18T05:37:48.093
> 
> 标签：iphone, objective-c, in-app-purchase, payment-gateway, restore

最近我在我的应用程序中集成了应用内购买，它的工作很好，恢复事务似乎也工作正常。

实际上，每当启动应用内购买或恢复购买时，我都会在窗口上显示自定义指示器。

我的问题是如果用户在应用程序要求 iTunes 登录时单击取消按钮，我应该如何关闭指示器。

到目前为止，只要用户单击恢复或购买产品，我就会显示指标，并且我可以在 paymentQueue 委托中轻松将其关闭，即

```
- (void)paymentQueue:(SKPaymentQueue *)queue updatedTransactions:(NSArray *)transactions 
```

付款是购买、失败还是恢复

但是，如果用户在中间取消 iTunes 登录，则永远不会调用此委托。

请推荐！！

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-01-18T06:18:39.143

解雇您的自定义指标

*   (void) paymentQueue:(SKPaymentQueue *)queue restoreCompletedTransactionsFailedWithError:(NSError *)error

当您取消 iTunes 登录页面时，将调用此方法

# java - 声纳没有使用自定义规则显示违规？

> ID：14393038
> 
> 赞同：0
> 
> 时间：2013-01-18T05:40:02.680
> 
> 标签：java, php, typo3, sonarqube, codesniffer

我正在尝试集成 Sonar 以进行代码审查和分析。我在typo3中工作，所以我添加了以下规则`rules.xml`

```
<?xml version="1.0" encoding="ISO-8859-1"?>
    <rules>

    <rule key="TYPO3.Commenting.FunctionDocComment.TagIndenst"
        priority="MAJOR">
        <category name="Maintainability" />
        <name>Tag comment incorrectly indented</name>
        <configKey>TAG_INDENT</configKey>
        <description>@category tag comment incorrectly indented</description>
    </rule>

    <rule
        key="TYPO3.Commenting.NoAuthorAnnotationInFunctionDocComment.AuthorAnnotation"
        priority="MAJOR">
        <category name="Maintainability" />
        <name>NoAuthorAnnotationInFunctionDocComment</name>
        <configKey>TAG_INDENT</configKey>
        <description>@category tag comment incorrectly indented</description>
    </rule>

    <rule key="TYPO3.Commenting.ValidCommentIndent.ValidCommentIndent"
        priority="MAJOR">
        <category name="Maintainability" />
        <name>ValidCommentIndent</name>
        <configKey>T_COMMENT</configKey>
        <description>@category tag comment incorrectly indented</description>
    </rule>

    <rule key="TYPO3.Commenting.ValidCommentLineLength.ValidCommentLineLength"
        priority="MAJOR">
        <category name="Maintainability" />
        <name>ValidCommentLineLength</name>
        <configKey>T_COMMENT, T_DOC_COMMENT</configKey>
        <description>@category</description>
    </rule>

    <rule key="TYPO3.Commenting.ValidCommentLineLength.ValidCommentLineLength"
        priority="MAJOR">
        <category name="Maintainability" />
        <name>ValidCommentLineLength</name>
        <configKey>T_COMMENT, T_DOC_COMMENT</configKey>
        <description>@category</description>
    </rule>

    <rule key="TYPO3.ControlStructures.AlignedBreakStatement.AlignedBreakStatement"
        priority="MAJOR">
        <category name="Maintainability" />
        <name>AlignedBreakStatement</name>
        <configKey>T_BREAK,</configKey>
        <description>@category</description>
    </rule>

    <rule key="TYPO3.ControlStructures.DisallowEachInLoopCondition.DisallowEachInLoopCondition"
        priority="MAJOR">
        <category name="Maintainability" />
        <name>DisallowEachInLoopCondition</name>
        <configKey>T_WHILE,</configKey>
        <description>@category</description>
    </rule>

    <rule key="TYPO3.ControlStructures.DisallowElseIfConstruct.DisallowElseIfConstruct"
        priority="MAJOR">
        <category name="Maintainability" />
        <name>DisallowElseIfConstruct</name>
        <configKey>T_WHILE,</configKey>
        <description>@category</description>
    </rule>

    <rule key="TYPO3.ControlStructures.ValidBreakStatementsInSwitches.ValidBreakStatementsInSwitches"
        priority="MAJOR">
        <category name="Maintainability" />
        <name>ValidBreakStatementsInSwitches</name>
        <configKey>T_BREAK,</configKey>
        <description>@category</description>
    </rule>

    <rule key="TYPO3.ControlStructures.ValidDefaultStatementsInSwitches.ValidDefaultStatementsInSwitches"
        priority="MAJOR">
        <category name="Maintainability" />
        <name>ValidDefaultStatementsInSwitches</name>
        <configKey>T_SWITCH,</configKey>
        <description>@category</description>
    </rule>
    <rule key="TYPO3.Debug.DebugCode.DebugCode"
        priority="MAJOR">
        <category name="Maintainability" />
        <name>DebugCode</name>
        <configKey>T_STRING, T_COMMENT,</configKey>
        <description>@category</description>
    </rule>

    <rule key="TYPO3.Files.EncodingUtf8.EncodingUtf8"
        priority="MAJOR">
        <category name="Maintainability" />
        <name>EncodingUtf8</name>
        <configKey>T_OPEN_TAG</configKey>
        <description>@category</description>
    </rule>

    <rule key="TYPO3.Files.IncludingFile.IncludingFile"
        priority="MAJOR">
        <category name="Maintainability" />
        <name>IncludingFile</name>
        <configKey>T_INCLUDE_ONCE, T_REQUIRE, T_INCLUDE</configKey>
        <description>@category</description>
    </rule>

    <rule key="TYPO3.Files.LowercasedFilename.LowercasedFilename"
        priority="MAJOR">
        <category name="Maintainability" />
        <name>LowercasedFilename</name>
        <configKey>T_OPEN_TAG</configKey>
        <description>@category</description>
    </rule>

    <rule key="TYPO3.Files.OneClassPerFile.OneClassPerFile"
        priority="MAJOR">
        <category name="Maintainability" />
        <name>OneClassPerFile</name>
        <configKey>T_CLASS</configKey>
        <description>@category</description>
    </rule>

    <rule key="TYPO3.Files.OneInterfacePerFile.OneInterfacePerFile"
        priority="MAJOR">
        <category name="Maintainability" />
        <name>OneInterfacePerFile</name>
        <configKey>T_INTERFACE</configKey>
        <description>@category</description>
    </rule>

    <rule key="TYPO3.NamingConventions.ValidFunctionName.ValidFunctionName"
        priority="MAJOR">
        <category name="Maintainability" />
        <name>ValidFunctionName</name>
        <configKey>T_FUNCTION</configKey>
        <description>@category</description>
    </rule>
    <rule key="TYPO3.NamingConventions.ValidVariableName.ValidVariableName"
        priority="MAJOR">
        <category name="Maintainability" />
        <name>ValidVariableName</name>
        <configKey></configKey>
        <description>@category</description>
    </rule>

    <rule key="TYPO3.PHP.CharacterAfterPHPClosingTag.CharacterAfterPHPClosingTag"
        priority="MAJOR">
        <category name="Maintainability" />
        <name>CharacterAfterPHPClosingTag</name>
        <configKey>T_CLOSE_TAG</configKey>
        <description>@category</description>
    </rule>

    <rule key="TYPO3.PHP.CharacterBeforePHPOpeningTag.CharacterBeforePHPOpeningTag"
        priority="MAJOR">
        <category name="Maintainability" />
        <name>CharacterBeforePHPOpeningTag</name>
        <configKey>T_OPEN_TAG</configKey>
        <description>@category</description>
    </rule>
</rules> 
```

当代码分析我无法得到任何违规行为时，请帮助???

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-18T08:43:59.857

我猜您遵循了解释如何向 Sonar 规则存储库添加新规则的指南：http: [//docs.codehaus.org/display/SONAR/Extending+PHP+Coding+Rules#ExtendingPHPCodingRules-ExtendingPHPCodesnifferRules](http://docs.codehaus.org/display/SONAR/Extending+PHP+Coding+Rules#ExtendingPHPCodingRules-ExtendingPHPCodesnifferRules)

但是您可能还没有将这些新规则添加到您正在使用的质量配置文件中。这就是为什么你没有违规。查看此页面以了解如何在声纳中处理质量配置文件：http: [//docs.codehaus.org/display/SONAR/Quality+Profiles](http://docs.codehaus.org/display/SONAR/Quality+Profiles)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-18T12:46:55.020

规则应该只链接这个

```
<rule key="TYPO3.Commenting.ValidCommentLineLength.ValidCommentLineLength"
            priority="MAJOR">
            <category name="Maintainability" />
            <name>TYPO3.Commenting.ValidCommentLineLength.ValidCommentLineLength</name>
            <Key>TYPO3.Commenting.ValidCommentLineLength</Key>
            <description>@category</description>
        </rule> 
```

我也将“configKey”更改为“Key”

“key”属性的值（在“rules.xml”文件中）应该等于您将在 PhpCodesniffer 报告中找到的“source”属性的值。

# php - mySQL查询昨天的最大时间戳

> ID：14393044
> 
> 赞同：1
> 
> 时间：2013-01-18T05:40:36.630
> 
> 标签：php, mysql, sql, database, mysqli

我正在寻找从昨天开始的最大时间戳。将数据存储为日期时间。

数据库布局是表名：收益

列：id、收入、时间戳

目前正在执行命令：

```
SELECT earnings, timestamp FROM earnings WHERE timestamp = (SELECT MAX(timestamp) FROM earnings) 
```

现在我想得到昨天的最高时间戳......请让我知道通过 mySQL 或 PHP 和 mySQL 执行此操作的最佳方法。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-18T05:41:40.233

```
SELECT earnings, timestamp 
FROM earnings 
WHERE timestamp = (SELECT MAX(timestamp) 
                   FROM earnings
                   WHERE DATE(timestamp) = DATE_ADD(CURDATE(),INTERVAL -1 DAY)) 
```

或者

```
SELECT  a.*
FROM    earnings a
        INNER JOIN
        (
            SELECT MAX(timestamp) max_Date
            FROM earnings
            WHERE DATE(timestamp) = DATE_ADD(CURDATE(),INTERVAL -1 DAY)
        ) b ON a.timestamp = b.max_Date 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-18T05:48:47.970

为什么大家都这么喜欢子选择？

```
SELECT * FROM earnings ORDER BY timestamp DESC limit 1 
```

对于您的第一个查询，以及

```
SELECT * FROM earnings WHERE timestamp < CURDATE() ORDER BY timestamp DESC limit 1 
```

第二个

# php - How to set multiple condition on criteria for CActiveDataProvider?

> ID：14393046
> 
> 赞同：3
> 
> 时间：2013-01-18T05:40:40.327
> 
> 标签：php, yii, criteria

I'm on project of `YII`. I have `Production` table, where I have `category_id` and `brand_id` two column. Now what I want to do is, just use the `CActiveDataProvider` to fetch those particular rows to the `$dataprovider` which has those `category_id` and `brand_id` in my `$cat` and `$brnd` array. I made it for `category_id`, but I am not getting any thing how to put both of them on the condition. Here is my code, please help.

```
$dataProvider=new CActiveDataProvider(Production::model(),
      array(
     'criteria'=>array('condition' => 'category_id IN ('.implode(',',$cat).')'),
     'pagination' => array('pageSize'=>Yii::app()->params['productsPerPage']),
    )
); 
```

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-01-18T06:17:18.363

Use [`addInCondition` of `CDbCriteria`](http://www.yiiframework.com/doc/api/1.1/CDbCriteria#addInCondition-detail):

```
$criteria=new CDbCriteria;
$criteria->addInCondition('category_id',$cat,'AND');
$criteria->addInCondition('brand_id',$brnd,'AND');
$dataProvider=new CActiveDataProvider(
    'Production',
    array(
        'criteria'=>$criteria,
        'pagination' => array('pageSize'=>Yii::app()->params['productsPerPage']),
    )
); 
```

The last parameter of `addInCondition` specifies how the condition will be appended to the existing conditions, so if you want

```
category_id IN (x,y,z) AND brand_id IN (a,b,c) 
```

i.e `AND` then you don't need to specify the 3rd parameter (default is AND), but if you want `OR`, as in

```
category_id IN (x,y,z) OR brand_id IN (a,b,c) 
```

then you need to use

```
$criteria->addInCondition('brand_id',$brnd,'OR'); 
```

# jar - 为不同的 Liferay Portlet 开发一个通用的 jar 库

> ID：14393049
> 
> 赞同：8
> 
> 时间：2013-01-18T05:41:02.507
> 
> 标签：jar, liferay, portlet

我需要一些对三个不同的 Liferay portlet 通用的实用程序类，所以我将在一个项目中开发它们，应该为我的 portlet 共享。

我正在使用带有 Liferay IDE 插件的 Eclipse，我的问题是我需要什么样的项目？

我的意思是它是一个简单的 Java 项目还是任何类型的 Liferay 项目？

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2013-01-18T07:53:28.620

有几种方法可以做到这一点：

1.  创建一个简单的 Java 项目。将其打包为 JAR 文件。将 JAR 文件放在全局类路径中 如果是 tomcat，全局类路径将是`../tomcat-7.0.27/lib/ext/`.
2.  创建一个简单的 Java 项目。将其打包为 JAR 文件。将 JAR 文件放在每个 portlet 的类路径中。
3.  使用 service-builder 创建一个 Liferay plugin-portlet，将实用程序类放入`service`包中，以便实用程序类进入`[name-of-your-project]-service.jar`. 然后在每个 portlet 的 portlet `which would need these classes specify the property`required-deployment-contexts=[name-of-your-project] `in`liferay-plugin-package.properties` 中。
4.  使用 service-builder 创建一个 Liferay 插件-portlet，将实用程序类放入`service`包中，以便实用程序类进入，`[name-of-your-project]-service.jar`然后将其`[name-of-your-project]-service.jar`放入全局类路径中，并将其从`WEB-INF/lib`您的 portlet 项目中删除，这样它就不会冲突。

### 结论

*   如果实用程序类中的代码不依赖于 Liferay API，请使用**第一种方法。**但这需要每次实用程序类发生更改时重新启动服务器。也可以使用 Utility 类，`Hooks`因为它位于全局类路径中
*   如果实用程序类中的代码不依赖于 Liferay API，请使用第二种**方法。**这不需要重新启动服务器。但是实用程序类中的任何更改都需要您构建和部署所有使用此 jar 的 plugin-portlet。
*   **第三种方法：**这与第二种方法具有相同的限制或功能，只是您可以在实用程序类中使用 Liferay API 和您的自定义服务 API。
*   **第四种方法：**这与第一种方法具有相同的限制或功能，只是您可以在实用程序类中使用 Liferay API 和您的自定义服务 API。

因此，我在这里列出了利弊，供您自行决定。我很想知道专家在liferay中是否有更多方法（和更清洁）来做到这一点。

# scala - 在 scala 2.10 中匹配 mockito 模拟对象

> ID：14393052
> 
> 赞同：2
> 
> 时间：2013-01-18T05:41:08.813
> 
> 标签：scala, mockito, scalatest, scala-2.10

我正在尝试将使用 Mockito 和 ScalaTest 创建的模拟对象注入到使用 match 语句的 Scala 程序中。该程序在生产中运行良好，但是当我注入我的模拟对象来测试它时，我得到：

```
scala.MatchError: (Mock for FileSource, hashCode: 707784476,null) (of class scala.Tuple2) 
```

导致错误的行是：

```
inputSources.foldLeft((inputSources.head, None): (FileSource, Option[ServerBackedFile]))
                     ((opt: (FileSource, Option[ServerBackedFile]), src: FileSource) => opt._2 match {... 
```

并且模拟对象是这样创建的：

```
val mockSource0 = mock[FileSource]
when(mockSource0.getNextFile).thenReturn(None) 
```

我正在模拟的类 FileSource 定义为：

```
trait FileSource {
def getNextFile: Option[ServerBackedFile]

def deleteRemoteFile(sbFile: ServerBackedFile): Unit
def disconnect: Unit
def a: String
def host: String
def b: Boolean 
```

# c# - 在 MVC 和 htmlAttributes 中重载 ActionLink

> ID：14393053
> 
> 赞同：1
> 
> 时间：2013-01-18T05:41:24.100
> 
> 标签：c#, asp.net-mvc

我有一个重载 actionlink 的函数，并简单地向路由值“ID”添加一个新参数，我在整个地方都在使用它。

到目前为止，这是我的代码：

```
public static MvcHtmlString ReportActionLink(this HtmlHelper helper, string linkText, string actionName, string controllerName, object routeValues, object htmlAttributes)
{
    RouteValueDictionary routeValueDictionary = new RouteValueDictionary(routeValues);
    routeValueDictionary.Add("id", HttpContext.Current.Request.RequestContext.RouteData.Values["id"]);

    IDictionary<string, object> attrs = new RouteValueDictionary(htmlAttributes);

    return helper.ActionLink(linkText, actionName, controllerName, routeValueDictionary, attrs);        
} 
```

如您所见，我传入了 routeValues，将它们转换为字典并添加我的 ID。

当我将我的 htmlAttributes 转换为 IDictionary 时会出现问题，因为重载方法期望它不会替换我的属性中的下划线，即

data_event = "something" 不会像匿名类型那样变成 data-event = "something"。它使用下划线呈现。我想知道为什么会这样，如果没有办法转换它？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-18T05:52:31.720

您只需要传递`htmlAttributes`对象，[`HtmlHelper.AnonymousObjectToHtmlAttributes`](http://msdn.microsoft.com/en-us/library/system.web.mvc.htmlhelper.anonymousobjecttohtmlattributes%28v=vs.108%29.aspx)而不是使用提供的`RouteValueDictionary`构造函数。

来自 MSDN：

> **返回值**
> 类型：[System.Web.Routing.RouteValueDictionary](http://msdn.microsoft.com/en-us/library/system.web.routing.routevaluedictionary%28v=vs.108%29.aspx)
> 下划线字符替换为连字符的 HTML 属性。

# iphone - 移除 UISearchBarDisplayController 的 Title 按钮

> ID：14393056
> 
> 赞同：2
> 
> 时间：2013-01-18T05:41:34.647
> 
> 标签：iphone, ios, uisearchbar, uisearchdisplaycontroller

嵌入了一个`UISearchBarDisplayController`可以`UITableView`正常工作但问题是当我点击`UISearchBarDisplayController`搜索时它给了我两个`Title buttons`你可以在下面的图片中看到..我如何删除这两个按钮..这些没有用...

是否可以在这些按钮中提供一些搜索方法。比如搜索首字母和最后...

[![第一的](../Images/8887c82c37ff9a6ddfb6c82fea58a1f1.png)](https://i.stack.imgur.com/z3irm.png)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-18T06:01:10.513

删除“范围标题”并在搜索栏的检查器窗口中取消选择“显示范围栏”。

![在此处输入图像描述](../Images/a9738dd76971c8fc24d403700b8e2987.png)

有关如何使用搜索范围根据不同条件进行过滤的示例，请参阅 Apple 的[TableSearch项目。](http://developer.apple.com/library/ios/#samplecode/TableSearch/Introduction/Intro.html)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-18T05:59:41.973

试试这个，

```
searchBarDisplayController.searchBar.showsScopeBar = NO;
searchBarDisplayController.searchBar.scopeButtonTitles = nil; 
```

那是图像中显示的范围栏。您也可以在 xib 中设置这些属性。

根据您的评论，将上述代码放在[searchDisplayControllerWillBeginSearch:](http://developer.apple.com/library/ios/documentation/uikit/reference/UISearchDisplayDelegate_Protocol/Reference/Reference.html#//apple_ref/occ/intfm/UISearchDisplayDelegate/searchDisplayControllerWillBeginSearch%3a)委托方法中。那应该行得通。

# c# - 从 Windows 应用程序中的用户控件访问值

> ID：14393062
> 
> 赞同：0
> 
> 时间：2013-01-18T05:42:11.217
> 
> 标签：c#, winforms, user-controls

我有一个`usercontrol`被叫`AddRow`和一个`form`被叫`TimeSheet`，`Timesheet`有一个`save_btn`事件，点击`save_btn`输入的值`usercontrol`应该写入数据库，但我无法访问值`usercontrol`

下面是代码

```
public void save_btn_Click(object sender, EventArgs e)
    {

        SqlCommand cmdinsert = new SqlCommand("insert into TimeSheet (Project_Name,Activity_Name, Monday,Tuesday,Wednesday,Thursday,Friday,Saturday,Sunday) values (@Project_Name,@Activity_Name, @Monday,@Tuesday,@Wednesday,@Thursday,@Friday,@Saturday,@Sunday) ", con);
        cmdinsert.Parameters.AddWithValue("@Project_Name", add.project_cbox.SelectedIndex);
        cmdinsert.Parameters.AddWithValue("@Activity_Name", activity_cb.SelectedIndex);
        cmdinsert.Parameters.AddWithValue("@Monday", add.monday_txt_val);
        cmdinsert.Parameters.AddWithValue("@Tuesday", add.tuesday_txt_val);
        cmdinsert.Parameters.AddWithValue("@Wednesday", add.wednesday_txt.Text);
        cmdinsert.Parameters.AddWithValue("@Thursday", add.thursday_txt.Text);
        cmdinsert.Parameters.AddWithValue("@Friday", add.friday_txt.Text);
        cmdinsert.Parameters.AddWithValue("@Saturday", add.saturday_txt.Text);
        cmdinsert.Parameters.AddWithValue("@Sunday", add.sunday_txt.Text);
        con.Open();
        cmdinsert.ExecuteNonQuery();
        con.Close();  

    } 
```

此事件在`timesheet`但值为空字符串...我无法访问该值，有解决方案吗？这是窗口应用程序

```
 public string monday_txt_val
    {
        get
        {
            return monday_txt.Text;
        }

        set
        {
            monday_txt.Text = value;
        }
    } 
```

`monday_txt`是一个 `textbox`动态创建的，在输入值后，但它正在读取一个空字符串，尽管我输入了一个值`textbox`，当它传递给`form`值为`monday_txt`空字符串时，如何解决这个问题？

我能想到的唯一访问`monday_txt`方法是创建一个`AddRow`in `Timesheet`..但是当创建新实例时我将无法获得该值，请帮助

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-18T12:44:21.273

好的，所以首先你说你动态创建文本框，但是在输入值之后..我不明白。如果您尚未创建文本框，那么您是否输入了该值。那是 1\. 2 您可以尝试像 Response.Write 按钮单击（我使用 Web 表单，所以我不知道您如何调试）来查看您的文本框中是否有任何内容。如果你有并且它没有显示，那么首先尝试通过代码设置文本框..看看你是否可以访问它。此外，如果您动态创建文本框，请查看您在哪里创建它。如果它不在表单元素内，您将无法访问它。这就是我能想到的。你需要有更多的细节并显示比这更多的代码。

# jsp - 如何从 JSP 中的 scriptlet 向 servlet 发送请求

> ID：14393063
> 
> 赞同：0
> 
> 时间：2013-01-18T05:42:35.693
> 
> 标签：jsp, servlets, scriptlet

有点简单的问题，但它让我卡住了。我想从 JSP 中执行一个 servlet，所以我尝试了类似以下的方法：

```
<%
    //Fetch server name port from request
    //Fetch email_addr from DB request
                   *
                   *
                   *
    //Forward request to servlet sendWelcomeMsg
    RequestDispatcher rd = getServletContext().getRequestDispatcher("/sendWelcomeMsg?  
      recipient=" + email_addr + 
      "&contentServerName=" + request.getServerName() + 
      "&contentServerPort=" + request.getServerPort());
    rd.forward(request, response);
%> 
```

上述工作，如果我手动刷新页面，页面的其余部分会被渲染，但前提是我进行刷新。所以，我的问题是，

1.  有没有更好的方法可以在不对我的 JSP 进行重大重写的情况下做到这一点？
2.  失败 1.，如何从 scriptlet 中以编程方式刷新页面？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-18T20:12:23.250

从 JSP 转发到 Servlet 是不正常的。应该是反过来的。否则，servlet 将完全接管响应处理。`IllegalStateException`轮到 JSP 时，您可能会在 servet 日志中看到错误。

但是，您可以在 JSP 中包含 servlet 的输出（请注意，有问题的 servlet 可以而且不应该修改响应标头）：

```
rd.include(request, response); 
```

不过，这不是正常的做法。如果您打算在将结果呈现在 JSP 中之前对 GET 请求执行业务任务，那么您需要将该任务放在 servlet 中`doGet()`并将其转发给 JSP。请求应该首先到达控制器，通常是一个 servlet，然后再转发到视图，通常是一个 JSP。[您可以在我们的 servlets wiki 页面](https://stackoverflow.com/tags/servlets/info)中找到一个示例。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-18T19:58:33.977

我决定在页面中添加一个表单，让用户随意调用 servlet（servlet 发送一条欢迎消息，而用户可能想要发送几个，作为测试）。

# css - 如何在 Windows 操作系统上为 Firefox 指定单独的样式

> ID：14393064
> 
> 赞同：0
> 
> 时间：2013-01-18T05:42:41.047
> 
> 标签：css, windows, firefox

我在我的网站上使用 jQuery 日历。使用 Windows Firefox 浏览器时，日历不会逐月滚动。是否可以为 Windows Firefox 指定单独的样式？我`-moz-windows-compositor`在许多网站上搜索了一下。它的用途是什么`-moz-windows-compositor`以及如何使用它？

[https://developer.mozilla.org/en-US/docs/CSS/Media_queries](https://developer.mozilla.org/en-US/docs/CSS/Media_queries)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-18T05:57:46.657

请参阅[此线程](https://stackoverflow.com/questions/952861/targeting-only-firefox-with-css)以使用 CSS 定位 Firefox。你用的是哪个日历？如果日历在 Firefox 中不滚动，我认为使用 CSS 定位它不会对您有太大帮助。

# database - CHAR_LENGTH 是字节或字符

> ID：14393065
> 
> 赞同：1
> 
> 时间：2013-01-18T05:42:50.873
> 
> 标签：database, oracle

我在用

```
SELECT 
COLUMN_NAME, DATA_TYPE, DATA_LENGTH, DATA_DEFAULT,CHAR_LENGTH
FROM ALL_TAB_COLUMNS WHERE TABLE_NAME LIKE '%SER_TBLSERVICES%' 
```

`CHAR_LENGTH`显然只显示长度:)

参考 Oracle，如果数据类型是，`varchar2`那么我们必须给出大小以及提供的值是字节还是字符。

我们如何在上述查询中获取信息 -`CHAR_LENGTH`是字节还是字符？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-18T05:49:15.227

我希望我能正确理解你的问题。

检查`CHAR_USED`列的值：

*   `'B'`表示*字节*长度语义
*   `'C'`表示*字符*长度语义

您可以在[此处查阅有关 Oracle 10.2的](http://docs.oracle.com/cd/B19306_01/server.102/b14237/statviews_2094.htm)[文档`ALL_TAB_COLUMNS`](http://docs.oracle.com/cd/B19306_01/server.102/b14237/statviews_2094.htm)。

# c++ - 为字符串类重载 <<

> ID：14393066
> 
> 赞同：0
> 
> 时间：2013-01-18T05:42:56.620
> 
> 标签：c++, string

我有：

```
String8& operator<<(const String8& string2); 
```

为了这：

```
String8 s;
s << "533"; 
```

但我想这样做：

```
String8* s;
s << "433"; 
```

无需做`* s << "433";`or `String8&`。 `String8* operator<<(const String8& string2);`似乎不起作用。我也尝试将其设为全局运算符重载...

有任何想法吗？

以下是全局运算符的完整代码：

```
class String8 
{
    public:
        String8(char array[]) { }
};

String8* operator<<(String8* string1, const String8& string2);

main()
{
    String8* s;
    s << "433"
} 
```

编译器错误：C2296：“<<”：非法，左操作数的类型为“Base::String8 *”

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-18T05:46:01.067

您需要将其设为非成员函数并将 a`String8*`作为第一个参数：

```
String8* operator<<(String8* target, const String8& string2); 
```

顺便说一句，这似乎是一件相当有问题的事情，只是为了给自己留一个星号。

# css - 当我设置背景大小背景重复无不起作用

> ID：14393068
> 
> 赞同：0
> 
> 时间：2013-01-18T05:43:14.013
> 
> 标签：css

当我执行以下代码时，它会一直工作到我调整页面大小时，背景图像会重复，即使背景重复设置为无。任何原因，您都可以在[此处查看该页面](http://update.mrskitson.ca/)

```
#mainPage{
    background-image: url(../images/home.JPG);
    width: 100%;
    height: 500px;
    background-size: 100%;
    background-repeat: none;
} 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-01-18T05:45:13.483

它是`no-repeat`，不是`none`：

```
#mainPage{
    background-image: url(../images/home.JPG);
    width: 100%;
    height: 500px;
    background-size: 100%;
    background-repeat: no-repeat;
} 
```

无论你设置`background-size`不应该有所作为。

# jquery - Rails 如何使用 ajax 提交表单并包含一些 jquery 变量

> ID：14393070
> 
> 赞同：1
> 
> 时间：2013-01-18T05:43:26.110
> 
> 标签：jquery, ruby-on-rails, ruby, ajax, ruby-on-rails-3

我正在尝试通过 ajax 提交表单并包含一些我通过 jquery 设置的变量。

/views/applications/_form.html.erb

```
<%= form_for(@application, :html => {:class => "organizer"}, :remote => true) do |f| %>
  // fields in here
<% end %> 
```

/控制器/applications_controller.rb

```
 # PUT /applications/1
  # PUT /applications/1.json
  def update
    @application = Application.find(params[:id])
    p params[:xposition]     # these get set in jquery
    p params[:application]   # these get set in jquery
    respond_to do |format|
      if @application.update_attributes(params[:application])
        @curr_app = ApplicationField.last

        format.html { redirect_to @application, notice: 'Application was successfully updated.' }
        format.json { head :no_content }
        format.js { render action: "update" }
      else
        format.html { render action: "edit" }
        format.json { render json: @application.errors, status: :unprocessable_entity }
        format.js { render action: "update" }
      end
    end
  end 
```

/assets/javascripts/applications.js

```
$('.organizer').submit(function() {

        var dataToSubmit = $(this).serialize();
        var field_values = [];
        var x_values = [];
        var y_values = [];

        // i add values to the arrays above here

        for(i = 0; i < field_values.length; ++i) {
            dataToSubmit += "&field_name="+field_values[i]+"&xposition="+x_values[i]+"&yposition="+y_values[i];
        }

        $.post($(this).attr('action'), dataToSubmit);   
    }); 
```

使用我当前的代码，当表单提交时，它直接进入控制器，然后我的 jquery 代码中的 $.post 调用调用同一个控制器，并在 $.post 调用的数据中传递 xpostion 和 yposition（即我想要的是）。

我怎样才能做到这一点，只有我的表单不会被提交两次——一次是在单击提交按钮后立即点击控制器，一次是从我的 $.post 调用中？

我想 :remote => true 使它不会直接调用控制器？

**编辑**

如果 :remote => true 发送 ajax 请求而我不必使用 jquery 的 $.post 方法手动发送 ajax 请求，我如何发送额外的变量以及使用 :remote => true 自动生成的 ajax 请求？

**编辑**

这是我的服务器日志中的一个片段

```
Started PUT "/applications/3" for 127.0.0.1 at 2013-01-18 00:06:19 -0600
Processing by ApplicationsController#update as */*
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"3LOzuiL/PU6HypJ4OeN5H9yrX3Xyk0VT6XpcFYd1wY0=", "application"=>{"application_field_attributes"=>{"0"=>{"id"=>"8"}, "1"=>{"id"=>"9"}}}, "field_name"=>"aaa", "xposition"=>"0", "yposition"=>"0", "id"=>"3"}
  Account Load (0.3ms)  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`subdomain` = 'localhost' LIMIT 1
  User Load (0.4ms)  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1
  Application Load (0.4ms)  SELECT `applications`.* FROM `applications` WHERE `applications`.`id` = 3 LIMIT 1

Started PUT "/applications/3" for 127.0.0.1 at 2013-01-18 00:06:19 -0600
Processing by ApplicationsController#update as JS
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"3LOzuiL/PU6HypJ4OeN5H9yrX3Xyk0VT6XpcFYd1wY0=", "application"=>{"application_field_attributes"=>{"0"=>{"id"=>"8"}, "1"=>{"id"=>"9"}}}, "commit"=>"Submit", "id"=>"3"}
  Account Load (0.3ms)  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`subdomain` = 'localhost' LIMIT 1
  User Load (0.3ms)  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1
  Application Load (0.4ms)  SELECT `applications`.* FROM `applications` WHERE `applications`.`id` = 3 LIMIT 1 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-18T05:48:26.490

您可以通过阻止其默认行为来阻止其正常提交。为此，向您的函数添加一个事件参数并调用`.preventDefault()`

```
$('.organizer').submit(function(e) {
        e.preventDefault();
        var dataToSubmit = $(this).serialize();
        var field_values = [];
        var x_values = [];
        var y_values = [];

        // i add values to the arrays above here

        for(i = 0; i < field_values.length; ++i) {
            dataToSubmit += "&field_name="+field_values[i]+"&xposition="+x_values[i]+"&yposition="+y_values[i];
        }

        $.post($(this).attr('action'), dataToSubmit);   
    }); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-18T06:19:07.487

您可以尝试停止除您之外的所有处理程序。试试这个：

```
$('.organizer').submit(function(e) {
  e.preventDefault(); // stops default behavior
  e.stopPropagation(); // prevents event bubbling
  // you code
  return false;
}); 
```

# java - 为什么 SimpleDateFormat.format() 和 SimpleDateFormat.parse() 只设置一个 TimeZone 却给出不同的时间？

> ID：14393073
> 
> 赞同：3
> 
> 时间：2013-01-18T05:43:34.597
> 
> 标签：java, date, timezone, simpledateformat

我正在尝试在**SimpleDateFormat**的帮助下将时区设置为不同国家的时区。**SimpleDateFormat.format()**返回给定时区的正确当前时间，但**SimpleDateFormat.parse()**返回本地当前时间，我不知道为什么会这样。这是我的代码 -

```
SimpleDateFormat dateFormat = new SimpleDateFormat("yyyy-MM-dd HH:MM:ss");
dateFormat.setTimeZone(TimeZone.getTimeZone("America/Los_Angeles"));
System.out.println("Time1 : " + dateFormat.format(new Date()));
System.out.println("Time2 : " + dateFormat.parse(dateFormat.format(new Date()))); 
```

输出是 -

```
Time1 : 2013-01-17 21:01:55
Time2 : Fri Jan 18 10:30:55 IST 2013 
```

**Time1 是 "America/Los_Angeles" 的输出， Time2 是 local(ie "Asia/Calcutta") 的输出**。

我只想要 UTC 秒格式的给定时区的当前时间（即自 1970 年 1 月 1 日以来的秒数）。

**为什么 SimpleDateFormat.format() 和 SimpleDateFormat.parse() 只设置一个时区却给出不同的时间？**

请帮我。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-01-18T05:48:35.983

使用**Parse**，您可以命令编译器以特定格式理解给定的日期。它可以理解并保持自己的格式，并准备好提供您想要的任何格式！

您将得到一个输出，这是您输入日期已成功解析的信号。您无法控制变量存储的日期格式。

使用格式，您可以将日期转换为任何所需的格式。

只需解析 -> 阅读（我可以以任何方式阅读并以我想要的任何方式存储）格式 -> 写入（我会以你想要的格式给你）

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2018-08-08T15:12:00.813

dateFormat.format() 将为您提供给定格式的输出，并将时区更改为格式化程序中设置的时区。（例如 dateFormat.setTimeZone(TimeZone.getTimeZone("America/Los_Angeles"));)

而 dateFormat.parse() 假设日期已经在提到的时区中，它会将日期转换为您当地的时区。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-18T05:54:08.770

dateFormat.parse() 在第二个 println

```
System.out.println("Time2 : " + dateFormat.parse(dateFormat.format(new Date()))); 
```

返回 Date 并且 Date.toString() 以格式返回日期的字符串表示`EEE MMM dd HH:mm:ss zzz yyyy`形式。请参阅 Date.toString() API

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-18T05:57:49.740

使用第一行，您将本地日期格式化为特定时区。它将返回一个字符串，该字符串表示在特定时区传递的参数日期。但解析函数不同。它将返回一个日期对象，表示自一月以来的毫秒数世界标准时间 1970 年 1 月 1 日凌晨 12:00。它不包含任何时区信息。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2018-08-08T20:47:19.047

# c++ - mac 上的 Eclipse C/C++ 项目

> ID：14393076
> 
> 赞同：1
> 
> 时间：2013-01-18T05:43:48.073
> 
> 标签：c++, c, eclipse, macos

我在我的新 Mac 上使用 Eclipse 经典 4.2.1 (Juno) 来开发 c/c++ 程序。当我创建一个新项目时，他们可以选择使用“工具链”：Cross GCC、MacOSX GCC 和 XL C/C++ Tool Chain。我应该选择哪一个？我有时也使用 mac 终端来运行、制作和 vim 相同的代码。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-18T11:50:21.647

如果您的应用程序将在 mac 和 windows 中运行，那么 GCC 可能是常用的

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-06-29T02:25:29.263

我在我的 Mac OS X Luna（eclipse 8.4）上遇到了同样的问题，但它们通常是相同的版本。只需转到“帮助”选项卡并单击“***安装新软件...*** ”或类似的任何内容。在明显的添加软件链接中输入这个（几乎只是新打开窗口顶部的测试输入）：http: **[//download.eclipse.org/tools/cdt/releases/juno](http://download.eclipse.org/tools/cdt/releases/juno)** 如果您认为juno可以处理最新版本，输入：http: **[//download.eclipse.org/tools/cdt/releases/8.4](http://download.eclipse.org/tools/cdt/releases/8.4)** 选择所有内容并继续下载。您现在应该能够创建 C/C++ 项目和源文件。我发现这有点错误，比如有时不包含标准 C++ 库，或者 std 甚至不存在，但如果你安装了正确的版本，这应该可以工作。

# java - JDK 1.3：传入的表格数据流 (TDS) 远程过程调用 (RPC) 协议流不正确。参数 1 ("")：数据类型 0x38 未知

> ID：14393084
> 
> 赞同：1
> 
> 时间：2013-01-18T05:44:32.747
> 
> 标签：java, sql-server-2008, jdbc

我正在使用 JDK 1.3 和 jtds-1.2.7.jar 连接到 SQL Server 2008 服务器。连接已成功创建，但在执行存储过程时出现以下异常。

> 传入的表格数据流 (TDS) 远程过程调用 (RPC) 协议流不正确。参数 1 ("")：数据类型 0x38 未知

任何帮助表示赞赏。

# c++ - C++ 从命令行读取文本文件...发送带有响应信息的 create .txt

> ID：14393085
> 
> 赞同：2
> 
> 时间：2013-01-18T05:44:35.873
> 
> 标签：c++

抱歉，我是 C++ 的新手，似乎无法理解读取 txt 文件和编写文件的基本概念。我有一个程序，目前只提示用户，然后在读取数据后在命令行上提供输出。但我想让它读取一个文件，并用它的输出创建一个文件

到此为止

```
#include <iostream>
#include <string>

using namespace std;

int main()
{

    cout << "Enter number of names \n";
    int a;
    cin >> a;
    string * namesArray = new string[a];
    for( int i=0; i<a; i++) {
        string temp;
        cin >> temp;
        namesArray[i] = temp;
    }

    for( int j=0; j<a; j++) {
        cout << "hello " << namesArray[j] << "\n";

    }
    return 0;
} 
```

谢谢大家..

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-18T05:51:34.190

[这是一个读取文件的示例](http://www.cplusplus.com/forum/beginner/8388/)或[这个示例写入文件](http://www.cplusplus.com/doc/tutorial/files/)以执行您所要求的操作，如果您想知道自己在做什么，<< 和 >> 运算符就像让您移动流的水阀从一边到另一边的信息，“cin”是一个“数据生成器”，从键盘，在页面的示例中，“myReadFile.open”从输入文件创建一个“数据生成器”，然后使用 > 移动该数据> 将其保存为字符串并 << 将其移动到 cout，不知道它是否有助于您了解更多 C++ 流...

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-18T06:43:01.417

```
ifstream input;
input.open("inputfile.txt");
input >> var;  //stores the text in the file to an int or string
input.close();

ofstream output;
output.open("outputfile.txt"); //creates this output file
output << var;  //writes var to the output file
output.close(); 
```

希望有帮助

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-18T06:57:06.357

```
#include <fstream>
#include <string>
#include <iostream>
using namespace std;
int main(){
    string fileName = "test.txt";        
    //declare a file object
    //options are:
    //ofstream for output
    //ifstream for input
    //fstream for both
    fstream myFile;
    //cannot pass a c++ string as filename so we convert it to a "c string"
    //... by calling strings c_str member function (aka method)
    //the fstream::out part opens the file for writing
    myFile.open(fileName.c_str(), fstream::out);
    //add the text to the file end the line (optional)
    myFile << "Some text" << endl;
    myFile.close();//always close your files (bad things happen otherwise)
    //open the file for reading with fstream::in
    myFile.open(fileName.c_str(), fstream::in);
    string myString;
    //get a line from a file (must be open for reading)
    getline(myFile,myString);
    myFile.close();//always close your file
    //demonstrates that it works
    cout << myString;
} 
```

# java - 如何提供身份验证以检查基于 Soap 的 Web 服务的用户名和密码

> ID：14393087
> 
> 赞同：1
> 
> 时间：2013-01-18T05:44:41.383
> 
> 标签：java, web-services, authentication, soap

我正在研究基于 SOAP 的 Web 服务。我想检查凭据。

```
@WebService(name="Helloworld",portName="HelloworldPort", serviceName = "Helloworld", targetNamespace="http://Helloworld.com/webservices")

@SOAPBinding(style = SOAPBinding.Style.RPC, use= SOAPBinding.Use.LITERAL, parameterStyle= SOAPBinding.ParameterStyle.WRAPPED)

public class Helloworld   {   

    public String sayHello(@WebParam(name="name")String name) {

        return "hello "+name;

    }

} 
```

我已经阅读了一些我们可以用于`USERNAME_PROPERTY, and PASSWORD_PROPERTY`服务的地方。

它似乎是基本的http身份验证。

我不知道如何在服务和客户中适应它。有人可以告诉我如何实现它。

谢谢。

# git - 我的本地文件丢失

> ID：14393088
> 
> 赞同：1
> 
> 时间：2013-01-18T05:44:57.920
> 
> 标签：git

因此，在尝试将本地 git 存储库推送到 github 后，我去编辑我的 .htaccess 文件。这是我第一次这样做并且遇到了一些问题，但是现在我的 .htaccess 以及 /assets 目录中的大量其他文件都消失了，我吓坏了。这就是我所做的：

1.  git 在本地添加我的工作目录
2.  我不想在我的存储库中的 git rm 文件
3.  git 提交
4.  尝试通过一些问题推送到 github.com，并尝试了一些东西，包括修剪
5.  注意到我的存储库只有一个目录，而另一个目录丢失
6.  注意到我的 .htaccess 文件以及“资产”目录中的所有文件都消失了，尽管文件夹仍然存在。
7.  我从存储库中删除的其他文件仍然存在

我不知道发生了什么，但我检查了我的垃圾箱，我只有一个分支'Master'，我的文件已经消失了。我只想让我的目录回来并完全删除 git 并重新开始。我假设当前目录反映了我所在的分支。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-08-02T06:44:33.460

我怀疑你所做的是：

```
git add * 
```

或类似的规定。该命令通常不包括您的“点文件”。shell（可能是 cmd、bash、zsh 或您正在使用的任何东西）定义了 '*' 如何进行 globbing。

然后，您错误地认为所有文件都已添加，从而完成了其余的工作。您没有检查“git status”的输出。

当你这样做时：

```
git rm file-you-do-not-want 
```

您可能忽略了任何警告并试图确保文件已消失。

无论如何，您最终创建的 git commit 并未包含您拥有的所有文件。将来，我建议您使用以下方法检查您拥有的东西：

```
git status
git gui
gitk 
```

但是，如果文件之前存在于 git 中，那么您可能希望使用：

```
git reflog 
```

向您显示您以前曾经进行过的先前提交的列表。尝试反复检查那些提交 sha1 以查看它们是否包含“丢失”文件。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-08-02T06:12:04.817

我想你不想删除一些文件，只是告诉 git 不要跟踪它们。为此，“git rm”确实是一个非常糟糕的主意。它也会从工作树中删除那些。

相反，您应该在将所有内容添加到 repo 之前将未跟踪的文件添加到 .gitignore 文件中。

```
git init
echo /assets > .gitignore
echo .htaccess >> .gitignore
git add .
git commit 
```

至于恢复你的文件，我不知道......

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-08-02T06:17:14.020

请试试

```
git checkout master 
```

看看它是否会还原您的文件？

# jquery - 将对话框移出屏幕

> ID：14393107
> 
> 赞同：3
> 
> 时间：2013-01-18T05:46:49.790
> 
> 标签：jquery, jquery-ui, jquery-ui-dialog

使用 jQuery ui 对话框，并且需要将对话框移出屏幕，尝试使用

```
$.ui.dialog.prototype._makeDraggable = function() { 
this.uiDialog.draggable({
    containment: false,
    });
}; 
```

这适用于左侧和顶部。但是在向右和底部移动时，我得到了窗口的滚动条，我不希望这些滚动条出现，有什么办法可以消除这些吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-29T06:42:27.503

我发现这里出了什么问题。在我将下面的代码添加到css之后，这绝对是我需要的方式

```
body {
position: absolute;
top: 0;
left: 0;
bottom: 0;
right: 0;
overflow-y: hidden;
overflow-x: hidden;
}

html {
overflow-y: hidden;
background-color: transparent;
} 
```

我需要的只是将底部和右侧设置为 0

现在它就像一个魅力:)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-18T10:30:23.193

您必须使用遏制来限制拖动。

敌人前，

```
$("#dialog").dialog().data("dialog").uiDialog.draggable("option","containment","body"); 
```

请参考：http: [//jsfiddle.net/aXWAj/](http://jsfiddle.net/aXWAj/)

# algorithm - 段树的存储时间

> ID：14393110
> 
> 赞同：1
> 
> 时间：2013-01-18T05:46:59.140
> 
> 标签：algorithm, data-structures, segment-tree, rmq

我想知道为解决范围最小查询问题而制作的段树中有多少个节点。

另外，构建操作需要多长时间，为什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-18T13:46:34.610

**段树复杂度：**

1.  一一初始化元素：O(NLogN)
2.  从数组初始化：O(N)
3.  查询范围：O(logN)
4.  插入（更新）元素：O（logN）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-18T09:22:39.770

如果你使用段树，构建是 O(nlgn)，每个查询是 O(lgn)

如果数组是静态的，你也可以尝试另一种算法[RMQ](http://en.wikipedia.org/wiki/Range_Minimum_Query)。构建时间是 O(nlgn)，每个查询只有 O(1)。

# java - JScrollPane 中的 JTable

> ID：14393112
> 
> 赞同：0
> 
> 时间：2013-01-18T05:47:44.623
> 
> 标签：java, swing, jtable, jscrollpane, layout-manager

我正在添加`JTable`一个`JScrollPane`然后将滚动窗格添加到面板，然后将面板添加到框架但它不起作用这里的代码。我想在表格或框架上有滚动条，使表格可滚动，以便用户可以看到它。我尝试了很多方法，但对我不起作用的是整个代码

```
public class View extends JFrame {

private static final long serialVersionUID = 1L;

/**
 * Launch the application.
 */
//here in the main method i it adds in the JFrame everything

public static void main(String[] args) {
    EventQueue.invokeLater(new Runnable() {
        public void run() {
            try {
                View frame = new View();
                frame.setVisible(true);
            } catch (Exception e) {
                e.printStackTrace();
            }
        }
    });
}

public void showData() throws SQLException, ParseException {

    panel = new JPanel();
    panel_1 = new JPanel();
    model_1 = new DefaultTableModel();
    model_2 = new DefaultTableModel();

    model_1.addColumn("Title");
    model_1.addColumn("Priority ");
    model_1.addColumn("DeadLine");
    model_1.addColumn("Time");
    model_1.addColumn("Progress");

    model_2.addColumn("Task Title");
    model_2.addColumn("Priority ");
    model_2.addColumn("DeadLine");
    model_2.addColumn("Time");
    model_2.addColumn("Done");

    Database obj = new Database();

    ArrayList<Task> list = obj.getTasks();
    for (int i = 0; i < list.size(); i++) {

        Task task = list.get(i);
        Object[] row = { task.title, task.priority, task.deadine,
                task.time, task.progress };

        // Comparing Dates

        Calendar currentDate = Calendar.getInstance();
        SimpleDateFormat formatter = new SimpleDateFormat("MM-d-yyyy");
        String dateNow = formatter.format(currentDate.getTime());

        java.util.Date systemDate = new SimpleDateFormat("MM-d-yyyy",
                Locale.ENGLISH).parse(dateNow);

        if (!task.deadine.before(systemDate)) {
            // add row to to do tab
            model_1.addRow(row);
        } else {
            // add row to done tab
            model_2.addRow(row);
        }

        // **********************

    }

    toDoTable = new JTable(model_1);
    doneTable = new JTable(model_2);
    toDoTable.setSelectionMode(ListSelectionModel.SINGLE_SELECTION);
    doneTable.setSelectionMode(ListSelectionModel.SINGLE_SELECTION);
    toDoTable.setFillsViewportHeight(true);
    doneTable.setFillsViewportHeight(true);

//here i add the JScrollPane  and it doesnt work 

    JScrollPane jpane = new JScrollPane(toDoTable);
    JScrollPane jpane1 = new JScrollPane(doneTable);

    panel.add(jpane);
    panel_1.add(jpane1);
    panel.add(jpane);
    panel_1.add(jpane1);

}
} 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-01-18T06:59:50.380

如果您想在表格内滚动，请执行以下操作，

```
 JScrollPane jpane = new JScrollPane(table); 
```

但是，如果您希望表格本身滚动，则将保存表格的面板添加到`JScrollPane`并将其添加到您的框架中。

```
public class JTableExample {
  public static void main(String[] args) {
    Object[] column = {"One", "Two"};
    Object[][] data = {{1, 2}, {3, 4}, {5, 6}};

    JTable toDoTable = new JTable(data, column);
    JScrollPane jpane = new JScrollPane(toDoTable);
    JPanel panel = new JPanel();
    JFrame frame = new JFrame();
    panel.add(jpane);
    frame.add(new JScrollPane(panel));
    frame.setVisible(true);
  }
} 
```

**输出：**

![在此处输入图像描述](../Images/5001531a425c6c4f431b4e0cc8197b9c.png)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-01-18T08:51:23.330

为 ex BorderLayout 添加正确布局的面板

```
 panel.add(jpane,BorderLayout.NORTH);
  panel_1.add(jpane1,BorderLayout.SOUTH); 
```

或者你可以使用`javax.swing.Box`

```
 Box box = Box.createVerticalBox();
 box.add(jpane);
 box.add(jpane1);
 frame.getContentPane().add(box); 
```

# sorting - thrust::sort_by_key: How to store result in separate array?

> ID：14393113
> 
> 赞同：2
> 
> 时间：2013-01-18T05:47:48.330
> 
> 标签：sorting, cuda, thrust

I am currently sorting values by key the following way

```
thrust::sort_by_key(thrust::device_ptr<int>(keys), 
                    thrust::device_ptr<int>(keys + numKeys),
                    thrust::device_ptr<int>(values); 
```

which sorts the "values" array according to "keys".

Is there a way to leave the the "values" array untouched and instead store the result of sorting "values" in a separate array?

Thanks in advance.

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-18T09:14:42.353

There isn't a direct way to do what you are asking. You have two options to functionally achieve the same thing.

The first is make a copy of the values array before the call, leaving you with a sorted and unsorted version of the original data. So your example becomes

```
thrust::device_vector<int> values_sorted(thrust::device_ptr<int>(values),
                                     thrust::device_ptr<int>(values + numKeys));

thrust::sort_by_key(thrust::device_ptr<int>(keys), 
                    thrust::device_ptr<int>(keys + numKeys),
                    values_sorted.begin()); 
```

The second alternative is *not to pass the values array to the sort at all*. Thrust has a very useful permutation iterator which allows for seamless permuted access to an array without modifying the order in which that array is stored (so an iterator based gather operation, if you will). To do this, create an index vector and sort that by key instead, then instantiate a permutation iterator with that sorted index, something like

```
typedef thrust::device_vector<int>::iterator iit;

thrust::device_vector<int> index(thrust::make_counting_iterator(int(0)),
                                 thrust::make_counting_iterator(int(numKeys));    

thrust::sort_by_key(thrust::device_ptr<int>(keys), 
                    thrust::device_ptr<int>(keys + numKeys),
                    index.begin());

thrust::permutation_iterator<iit,iit> perm(thrust::device_ptr<int>(values),
                                           index.begin()); 
```

Now `perm` will return `values` in the `keys` sorted order held by `index` without ever changing the order of the original data.

[standard disclaimer: all code written in browser, never compiled or tested. Use at own risk]

# wcf - 回调通道可以被欺骗吗？

> ID：14393116
> 
> 赞同：1
> 
> 时间：2013-01-18T05:47:58.627
> 
> 标签：wcf, spoofing

当用户首次连接到我的会话服务时，他们会以字符串的形式提供用户名。如果多个用户提供了相同的用户名，则服务器会为所有新用户附加一个数字，该数字基于服务上已经存在的用户数而增加。

这些用户名是`Dictionary<IChatCallback, string>`字典中的值。每当用户调用诸如`SendMessage`服务器上的方法时，服务器通过基于 `OperationContext.Current.GetCallbackChannel<IChatCallback>()`作为键的字典查找来检测调用者是谁。

我的问题是......这个频道可以被欺骗吗？有人可以在别人的回调通道下以某种方式调用服务上的方法，而服务器却没有注意到吗？

# testing - Yesod/Persistent 测试与括号模式

> ID：14393117
> 
> 赞同：1
> 
> 时间：2013-01-18T05:48:08.333
> 
> 标签：testing, haskell, entity, persistent, yesod

我对 Haskell 很陌生，所以我无法吸收 Yesod 中使用的所有高级特性，例如[类型实例](http://www.haskell.org/haskellwiki/GHC/Type_families#Instance_declarations_2)和[相等约束](http://www.haskell.org/haskellwiki/Type_families#Equality_constraints)。我正在尝试在 Yesod 的测试框架中实现[括号模式](http://www.haskell.org/haskellwiki/Bracket_pattern)，以获得 setUp/tearDown 功能。这是我到目前为止所得到的（通过编辑更新）：

```
module FishMother where

import Control.Exception.Lifted

import TestImport
import Database.Persist
import Database.Persist.GenericSql

import Model

insertYellowfinTuna :: OneSpec Connection FishId
insertYellowfinTuna = runDB . insert $ Fish "Yellowfin Tuna"

deleteFish :: FishId -> OneSpec Connection ()
deleteFish = runDB . delete

withYellowfinTuna :: FishId -> OneSpec Connection ()
withYellowfinTuna = bracket insertYellowfinTuna deleteFish 
```

编译错误如下：

```
tests/FishMother.hs:18:21:
    Couldn't match type `FishId
             -> Control.Monad.Trans.State.Lazy.StateT
                  (Yesod.Test.OneSpecData Connection) IO ()'
          with `Key SqlPersist Fish'
    Expected type: FishId -> OneSpec Connection ()
      Actual type: (FishId
            -> Control.Monad.Trans.State.Lazy.StateT
             (Yesod.Test.OneSpecData Connection) IO ())
           -> Control.Monad.Trans.State.Lazy.StateT
            (Yesod.Test.OneSpecData Connection) IO ()
    In the return type of a call of `bracket'
    In the expression: bracket insertYellowfinTuna deleteFish
    In an equation for `withYellowfinTuna':
    withYellowfinTuna = bracket insertYellowfinTuna deleteFish 
```

我究竟做错了什么？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-18T08:53:40.150

重新阅读问题后，我认为简单的答案是使用[提升括号](http://hackage.haskell.org/packages/archive/lifted-base/0.2.0.2/doc/html/Control-Exception-Lifted.html#v%3abracket)，它将处理所有变压器问题。我也会留下我原来的答案，因为它可能会更深入地了解正在发生的事情。

* * *

这种情况下的问题是`liftIO`. 让我们看一下类型签名：

```
liftIO :: MonadIO m => IO a -> m a 
```

这意味着您可以采取任意 I/O 操作（例如，从文件中读取）并在任何允许执行 I/O 的 monad 中运行它，例如数据库 monad。但是，您尝试做的实际上恰恰相反：将数据库 monad 操作作为普通 I/O 操作运行。这不能直接完成，因为数据库操作依赖于额外的上下文 - 特别是数据库连接 - `IO`monad 不提供。

那么如何将一个数据库动作变成一个 IO 动作呢？我们必须*打开包装*。展开是*monad 转换*器的常见活动，可以将其视为相互叠加的层。提升（如`liftIO`）允许您从较低层采取行动并将其向上移动到较高层。展开会去掉一层。由于解包方式取决于特定的转换器，因此每个转换器都有自己的解包函数。

在 Persistent 的情况下，您可以使用 withSqliteConn 或等效的后端，请参阅[Persistent 章节](http://www.yesodweb.com/book/persistent)中的概要了解更多详细信息。

# jquery - jquery 表单绑定或索引

> ID：14393128
> 
> 赞同：0
> 
> 时间：2013-01-18T05:48:51.327
> 
> 标签：jquery

我想指定一个更好的代码来触发输入单选并执行专用文本字段。

这就是我所说的（对不起，我不太擅长 jquery，所以请原谅我）。除了我的代码中列出的原始 32 份问卷之外，我只发布了 2 个样本。

```
 <table width="817" border="0" cellspacing="1" cellpadding="1">
        <tr>
            <td width="317" height="25">1\. &nbsp;Use of adjoining property</td>
            <td width="10" height="25">:</td>
            <td width="480" height="25">
                <input type="radio" name="no1" value="Yes" />Yes
                <input type="radio" name="no1" value="No" />No
            </td>
        </tr>

        <tr class="notes">
            <td height="25" align="right">Notes</td>
            <td height="25">:</td>
            <td height="25">
                <input name="notes1" type="text" id="notes1" size="65" value="" />
            </td>
        </tr>

        <tr>
            <td height="25">3\. Access to dirt or paved road</td>
            <td height="25">:</td>
            <td height="25">
                <input type="radio" name="no3" id="radio8" value="Yes" />Yes
                <input type="radio" name="no3" id="radio9" value="No" />No
            </td>
        </tr>

        <tr class="notes">
            <td height="25" align="right">Notes</td>
            <td height="25">:</td>
            <td height="25">
                <input name="notes3" type="text" id="notes3" size="65" value="" />
            </td>
        </tr>
    </table> 
```

我确实尝试创建每个 jquery，但想简化代码。

```
 var notes = $('tr.notes');
            notes.hide();

            $('input[value="Yes"]').click(function () {
                notes.slideDown();
          }); 
```

我确实在这里做了一些研究，但无法详细说明结构。我感谢您的帮助。非常感谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-18T05:55:10.640

这将尝试检测输入单选是否已更改，它将检测是否单击它会检查值并显示注释。

```
 $('.notes').hide();

        $('input[type="radio"]').change(function () {
            if ($(this).val() == "Yes") {
                 $(this).closest('tr').next('tr.notes').slideDown();
             } else {
                 $(this).closest('tr').next('tr.notes').slideUp();
             }
      }); 
```

请检查：[演示](http://jsfiddle.net/5aJWh/4/)

# json - AFJSONRequestOperation 在 iOS 中返回空响应

> ID：14393131
> 
> 赞同：1
> 
> 时间：2013-01-18T05:49:10.030
> 
> 标签：json, web-services, ios6, afnetworking

我在使用 AFJSONRequestOperation 时面临 1 个问题。我的 API 客户端如下

```
 #import <Foundation/Foundation.h>
#import "AFHTTPClient.h"
#import "AFJSONRequestOperation.h"

@interface MyAPIClient : AFHTTPClient

+ (MyAPIClient *)sharedAPIClient;

@end

// .m file
#import "MyAPIClient.h"

@implementation MyAPIClient

+ (MyAPIClient *)sharedAPIClient {

    static MyAPIClient *sharedClient = nil;
    static dispatch_once_t onceToken;
    dispatch_once(&onceToken, ^{
        sharedClient = [[MyAPIClient alloc] initWithBaseURL:[NSURL URLWithString:kBASE_URL]];
    });
    return sharedClient;
}

- (id)initWithBaseURL:(NSURL *)url {

    self = [super initWithBaseURL:url];
    if (!self) {
        return nil;
    }
    [self registerHTTPOperationClass:[AFJSONRequestOperation class]];

    [self setDefaultHeader:CONTENT_TYPE_FIELD value:CONTENT_TYPE_JSON_VALUE];
    self.parameterEncoding = AFJSONParameterEncoding;
    return self;
}

@end 
```

现在，当我使用以下代码请求时，它会返回“null”响应

```
NSDictionary *params = [[NSDictionary alloc]initWithObjectsAndKeys:userName,@"email",password,@"password",nil];

    NSMutableURLRequest *request = [[MyAPIClient sharedAPIClient] requestWithMethod:@"POST" path:@"login" parameters:params];

    AFJSONRequestOperation *operation = [AFJSONRequestOperation JSONRequestOperationWithRequest:request success:^(NSURLRequest *request, NSHTTPURLResponse *response, id JSON)
    {
        NSDictionary *dictResponse = (NSDictionary*)JSON;
        DLog(@"Login Success JSON: %@",JSON);
        if (block) {
            block(YES,nil);
        }

    }failure:^(NSURLRequest *request, NSHTTPURLResponse *response, NSError *error, id JSON) {
        DLog(@"Login Error:- %@",error);
        if (block) {
            block(NO,error);
        }
    }];

    [operation start]; 
```

但是，当我使用 AFHTTPRequestOperation 时，它会使用已登录的使用信息返回正确的输出

```
NSURL *loginUrl = [NSURL URLWithString:kBASE_URL];

    AFHTTPClient *httpClient = [[AFHTTPClient alloc] initWithBaseURL:loginUrl];

    NSDictionary *params = [NSDictionary dictionaryWithObjectsAndKeys:
                            userName,@"email",password,@"password",nil];
    NSMutableURLRequest *request = [httpClient requestWithMethod:@"POST" path:@"login" parameters:params];

    //Notice the different method here!
    AFHTTPRequestOperation *operation = [httpClient HTTPRequestOperationWithRequest:request
                                                                            success:^(AFHTTPRequestOperation *operation, id responseObject)
    {
        NSLog(@"Raw data Response: %@", responseObject);
        NSMutableArray *jsonArray = [NSJSONSerialization JSONObjectWithData:responseObject options:kNilOptions error:nil];
        NSLog(@"Converted JSON : %@", jsonArray);

    }
    failure:^(AFHTTPRequestOperation *operation, NSError *error){
        NSLog(@"Error: %@", error);
    }];

    //Enqueue it instead of just starting it.
    [httpClient enqueueHTTPRequestOperation:operation]; 
```

我的服务器返回 JSON 响应。上面的代码有什么问题？为什么 AFJSONRequestOperation 返回空响应而 AFHTTPRequestOperation 返回正确响应？任何形式的帮助表示赞赏。提前致谢

# android - 使用光标时的 NullPointer

> ID：14393133
> 
> 赞同：0
> 
> 时间：2013-01-18T05:49:13.580
> 
> 标签：android, cursor, nullpointerexception

我找不到适合我的问题的标题。这就是问题所在......在`syso`'ing 中的语句之后，它应该使用 中的语句`getData()`打印游标中的值，。但是，事实并非如此。没有例外和错误。我还保留了我在 LogCat 中获得的输出。有人可以帮助我，为什么第一次打印后没有输出。`cMainTable``displayDataForMainTable()`

```
try {
    pm = new PortfolioManager(this);
    cMainTable = pm.getData("mainTable");
    if (cMainTable.equals(null)) {
        System.out.println("Null is returned");
    }
    displayDataForMainTable(cMainTable);
}
catch (Exception e) {
    System.out.println("problem at Oncreate Method");
} 
```

`getData()`方法：

```
public Cursor getData(String string) {
    System.out.println("Getting Data for Table " + string);
    c = sqlDB.rawQuery("select * from " + string, null);      
    return c;
} 
```

`displayDataForMainTable()`方法：

```
private void displayDataForMainTable(Cursor c2) {
    try {
        if (c2 != null) {
            if (c2.getCount() > 0) {
                c2.moveToFirst();
                do {
                    String SNo = c2.getString(c2.getColumnIndex("scriptnumber"));
                    String SName = c2.getString(c2.getColumnIndex("scriptname"));
                    int quant = Integer.parseInt(c2.getString(c2.getColumnIndex("totalquantity")));
                    double avg = Double.parseDouble(c2.getString(c2.getColumnIndex("averageprice")));
                    double cur = Double.parseDouble(c2.getString(c2.getColumnIndex("currentprice")));
                    double log = Double.parseDouble(c2.getString(c2.getColumnIndex("lossorgain")));
                    System.out.println("Inserted Values are ::: " + SNo
                            + " " + SName + " " + String.valueOf(quant)
                            + " " + String.valueOf(avg) + " "
                            + String.valueOf(cur) + " "
                            + String.valueOf(log));
                } while (c2.moveToNext());
            }
        } 
        else {
            System.out.println("Cursor c2 is Empty");
        }
    } catch (Exception e) {
        System.out.println("Exception in displayDataForMainTable");
    }
} 
```

输出

```
01-18 11:02:27.523: D/dalvikvm(468): GC_EXTERNAL_ALLOC freed 47K, 53% free 2567K/5379K, external 2090K/2137K, paused 45ms
01-18 11:02:33.983: I/System.out(468): Getting Data for Table mainTable
01-18 11:02:36.584: W/KeyCharacterMap(468): No keyboard for id 0
01-18 11:02:36.584: W/KeyCharacterMap(468): Using default keymap: /system/usr/keychars/qwerty.kcm.bin 
```

编辑 1 ::: 我已`getData()`按照 Nasser 的建议进行了修改，但输出保持不变..

```
public Cursor getData(String string) {
    System.out.println("Getting Data for Table "+string);
    String table = string;
    sqlDB = getReadableDatabase();
    c = sqlDB.query(table, null, null, null, null, null, null);
    //c = sqlDB.rawQuery("select * from "+string, null);        
    return c;
} 
```

正如我所读到的，传递`null`给列（第二个参数）将返回所有行。如果这是正确的，那么结果是一样的。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-18T06:25:34.857

我认为你不应该从 db 返回游标，而不是在其对象中创建一个 setterGetter 类集数据并返回该对象的数组。

这是我的相同代码..尝试..

还把日志放在那里，这样你就会知道发生了什么。

```
public ArrayList<ContactSetterGetter> getAllNumbers() {
    ArrayList<ContactSetterGetter> setterList = new ArrayList<ContactSetterGetter>();
    db = getWritableDatabase();
    Cursor c = db.query(C_TABLE_NAME, new String[] {"contact_number"},null, null, null, null, null);

    if (c.getCount() != 0) {
        c.moveToFirst();
        do {
            ContactSetterGetter setter = new ContactSetterGetter();
            setter.setContactNumber(c.getString(0));
            setterList.add(setter);
        } while (c.moveToNext());

    }else{
        c.close();
        db.close();
        return setterList;
    }
    c.close();
    db.close();
    return setterList;
    } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-18T08:02:46.640

似乎 Eclipse 对我很仁慈并正在显示输出。打了4个多小时改代码，冲浪，最后还是没改代码。

无论您作为编码人员多么聪明，IDE 总是让您觉得自己是个新手。

# android - 如何使用android中的文本观察器在基于单行的多行列表视图中实现搜索功能

> ID：14393135
> 
> 赞同：1
> 
> 时间：2013-01-18T05:49:23.383
> 
> 标签：android, listview, search

我实现了多行列表视图（单个项目中的 4 行）。我只想基于列表视图中的第二行进行搜索。我使用无法正常工作的文本观察器实现了搜索功能。请帮帮我。在此先感谢。

```
 inputsearch = (EditText) findViewById(R.id.inputsearch);
           lst = (ListView) findViewById(android.R.id.list);
           lst.setBackgroundColor(Color.WHITE);
           lst.setCacheColorHint(Color.WHITE);

           SimpleAdapter adapter = new SimpleAdapter(this, mylistData,R.layout.simple_list_item2, row, new int[] { R.id.tv1,
            R.id.tv2, R.id.tv3, R.id.tv4, R.id.tv5 });
             lst.setAdapter(adapter);

         inputsearch.addTextChangedListener(new TextWatcher() {

        public void onTextChanged(CharSequence cs, int start, int before,
                int count) {
            // String array_sort[]=new String[headlines.length];

            adapter.getFilter().filter(cs);

        }

        public void afterTextChanged(Editable arg0) {

        }

        public void beforeTextChanged(CharSequence cs, int start,
                int before, int count) {

        }
    }); 
```

# php - 用于 codeigniter auth 库的 Flexi Auth 或 Tank Auth

> ID：14393137
> 
> 赞同：3
> 
> 时间：2013-01-18T05:49:30.747
> 
> 标签：php, codeigniter, authentication, tankauth

[Tank Auth](http://konyukhov.com/soft/tank_auth/)或[Flexi Auth](http://haseydesign.com/flexi-auth/)哪个更好。我应该选择哪一个。有没有人用过这些，可以提供一些反馈

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-18T07:28:57.080

我只使用了这两个中的 Tank Auth；Tank Auth 很好，但在我的记忆中，FB 登录和其他 OAuth 的东西有点重。

另一个需要考虑的项目是[https://github.com/benedmunds/CodeIgniter-Ion-Auth](https://github.com/benedmunds/CodeIgniter-Ion-Auth)，我经常使用它并且偶尔会做出贡献 - 不像 Tank Auth，这些天几乎没有维护，Ion Auth 周围有一个非常活跃的社区并且拉取请求非常频繁

# ios - 错误：未能附加到进程 ID 1869

> ID：14393138
> 
> 赞同：4
> 
> 时间：2013-01-18T05:49:48.877
> 
> 标签：ios, xcode4.3

我收到上述错误。

我正在运行版本 4.3.2 (4E2002) 并在 iPhone 5.0 模拟器中进行测试。模拟器打开，但我只是黑屏应用程序没有运行。即使我尝试过：-

1.你可以直接删除下的App`~/Library/Application Support/iPhone Simulator/6.0/Applications and ~/Library/Developer/Xcode/DerivedData`

2.然后就可以启动Xcode了；在菜单栏中，您可以找到 Project -> Clean 但它不起作用。

我需要重新安装 Xcode 吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-18T08:15:57.263

谢谢大家，

在花了 2 个小时并阅读了很多选项之后，这个解决方案对我有用。

我安装了另一个模拟器并运行我的应用程序（它再次只显示黑屏）。

![在此处输入图像描述](../Images/db86f3c77b443aede87dea1c41cf4ba6.png)

重置两个模拟器的内容和设置。

![在此处输入图像描述](../Images/75183902e96e74b31b0e7986ba32d586.png)

清理项目。

从应用程序中删除应用程序并从派生数据中删除缓存数据。（感谢 ACB）

重新启动 Mac。

打开项目并将调试器更改为 GDB

![在此处输入图像描述](../Images/6b54d5b6ecb72bd1c7b70b74f83e4323.png)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-18T05:53:56.417

杀死iphone模拟器，然后重试

# c# - 如何使用 TextRenderer.DrawText 绘制禁用文本

> ID：14393140
> 
> 赞同：0
> 
> 时间：2013-01-18T05:49:55.010
> 
> 标签：c#, winforms

如何使用`TextRenderer.DrawText`（或类似功能）绘制禁用文本？我试过`ControlPaint.DrawStringDisabled`了，但是字符间距不对。

`ControlPaint.DrawStringDisabled`注意：和中的字符间距似乎`Graphics.DrawString`相同。

# java - xhtml 到 pdf servlet 与飞碟

> ID：14393142
> 
> 赞同：3
> 
> 时间：2013-01-18T05:49:58.233
> 
> 标签：java, servlets, pdf-generation, flying-saucer

我正在尝试使用[**flysaucer**](http://today.java.net/pub/a/today/2007/06/26/generating-pdfs-with-flying-saucer-and-itext.html)来提供从 xhtml 生成的 pdf，但我无法让 servlet 示例运行。

所有其他`flyingsaucer`示例对我来说都很好，但我需要它作为 servlet 工作以合并到 web 应用程序中。

servlet 的完整代码如下：

```
import java.io.*;
import java.net.*;

import javax.servlet.*;
import javax.servlet.http.*;
import javax.xml.parsers.DocumentBuilder;
import javax.xml.parsers.DocumentBuilderFactory;
import org.w3c.dom.Document;
import org.xhtmlrenderer.pdf.ITextRenderer;

public class PDFServlet extends HttpServlet {

    protected void processRequest(HttpServletRequest request, 
        HttpServletResponse response) throws ServletException, IOException {
        response.setContentType("application/pdf");

        StringBuffer buf = new StringBuffer();
        buf.append("<html>");

        String css = getServletContext().getRealPath("/PDFservlet.css");
        System.out.println("css url 2= " + css);
        // put in some style
        buf.append("<head><link rel='stylesheet' type='text/css' "+
                "href='"+css+"' media='print'/></head>");

        buf.append("<body>");
        buf.append("<h1>Quarterly Reports for " +
            request.getParameter("username")+"</h1>");

        buf.append("<table cellspacing='0'>");
        buf.append("<tr><th>Sales</th><th>Profit</th><th>Bonus</th></tr>");

        // generate sales data
        int totalSales = 0;
        int totalProfit = 0;
        int totalBonus = 0;
        for(int i=0; i<10; i++) {
            int currentSales = (int)(Math.random()*10000);
            int currentProfit = (int)(currentSales*0.2);
            int currentBonus = (int)(currentProfit*0.33);
            buf.append("<tr><td>"+currentSales+"$</td><td>"+
                currentProfit+"$</td><td>"+currentBonus+"$</td></tr>");
            totalSales  += currentSales;
            totalProfit += currentProfit;
            totalBonus  += currentBonus;
        }

        buf.append("<tr class='total-header'><td colspan='3'>totals</td></tr>");
        buf.append("<tr class='total'><td>"+totalSales+"$</td><td>"+
            totalProfit+"$</td><td>"+totalBonus+"$</td></tr>");
        buf.append("</table>");

        buf.append("</body>");
        buf.append("</html>");

        byte[] byteArray = buf.toString().getBytes("ISO-8859-1"); 

        // parse our markup into an xml Document
        DocumentBuilder builder;
        try {
            builder = DocumentBuilderFactory.newInstance().newDocumentBuilder();
            ByteArrayInputStream baos = new ByteArrayInputStream(byteArray); 
            Document doc = builder.parse(baos);

            ITextRenderer renderer = new ITextRenderer();
            renderer.setDocument(doc, null);

            OutputStream os = response.getOutputStream();
            renderer.layout();
            renderer.createPDF(os);
            os.flush();
            os.close();
        } catch (Exception ex) {
            ex.printStackTrace();
        }
    }

    protected void doGet(HttpServletRequest request, 
        HttpServletResponse response) throws ServletException, IOException {
        processRequest(request, response);
    }

    protected void doPost(HttpServletRequest request, 
        HttpServletResponse response) throws ServletException, IOException {
        processRequest(request, response);
    }

    public String getServletInfo() {
        return "Short description";
    }
} 
```

我得到这个例外：

```
Jan 17, 2013 7:55:23 PM org.xhtmlrenderer.util.XRLog log
WARNING: Unhandled exception. IOException on parsing style seet from a Reader; don't know the URI.
java.io.IOException: Stream closed
    at java.io.BufferedInputStream.getInIfOpen(Unknown Source)
    at java.io.BufferedInputStream.read1(Unknown Source)
    at java.io.BufferedInputStream.read(Unknown Source)
    at sun.nio.cs.StreamDecoder.readBytes(Unknown Source)
    at sun.nio.cs.StreamDecoder.implRead(Unknown Source)
    at sun.nio.cs.StreamDecoder.read(Unknown Source)
    at java.io.InputStreamReader.read(Unknown Source)
    at org.xhtmlrenderer.css.parser.Lexer.zzRefill(Lexer.java:1527)
    ...
    at org.xhtmlrenderer.context.StyleReference.readAndParseAll(StyleReference.java:122)
    at org.xhtmlrenderer.context.StyleReference.setDocumentContext(StyleReference.java:106)
    at org.xhtmlrenderer.pdf.ITextRenderer.setDocument(ITextRenderer.java:130)
    at org.xhtmlrenderer.pdf.ITextRenderer.setDocument(ITextRenderer.java:106)
    at PDFServlet.processRequest(PDFServlet.java:73)
    at PDFServlet.doGet(PDFServlet.java:75)
    ... 
```

它不会超出这一行（在 try-catch 块中）：

```
renderer.setDocument(doc, null); 
```

我尝试了一些方法，例如更改输入流类型并验证 xhtml 是否运行正常，但这并没有解决任何问题。

我对 Java servlet 不是很熟悉，所以我不确定我是否解决了正确的问题，看来我需要想出一些方法来防止输入流在运行之前关闭：

```
renderer.setDocument(doc, null); 
```

这是可能的还是我应该解决其他问题？

我正在使用 Tomcat 7 和 Java 6。我注意到其他人也有[类似的问题](http://today.java.net/pub/a/today/2007/06/26/generating-pdfs-with-flying-saucer-and-itext.html#comment-806451)，但我只有在运行 servlet 示例时才得到它——所有其他示例都运行良好。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-18T22:33:37.673

```
String css = getServletContext().getRealPath("/PDFservlet.css"); 
```

这个不对。它必须是 URL，而不是本地磁盘文件系统路径。IText 正试图通过“通常方式”的 URL 下载它，就像网络浏览器一样。

构建正确 URL 的方法之一是：

```
StringBuffer url = req.getRequestURL();
String base = url.substring(0, url.length() - req.getRequestURI().length() + req.getContextPath().length());
String css = base + "/PDFservlet.css"; 
```

# php - 从一个 PHP 文件调用一个函数到另一个

> ID：14393143
> 
> 赞同：1
> 
> 时间：2013-01-18T05:50:10.343
> 
> 标签：php, javascript

我不太确定为什么我不能从说 File1 到 File2 调用函数。我也使用过 require_once 。

例如：

```
File1.php

<?php
function Test()
{
alert("Hello");
}
?>

File2

<?php
require_once("File1.php");

My code 
?>

<script type="text/javascript">

My code....

$("#email_summary").click(function() {
     <?php    
     Test();   
     ?>                            
});
</script> 
```

你能告诉我我的错误吗？多谢你们 ：）

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-18T05:51:26.857

你不能像以前那样通过 JavaScript 调用 php 函数

```
$("#email_summary").click(function() {

     Test();                               
});
</script> 
```

应该

```
$("#email_summary").click(function() {

    <?php echo Test();   ?>
});
</script> 
```

和

```
function Test()
{
return 'alert("Hello")';
} 
```

* * *

**编辑：** 如果你想让它像你的代码一样工作，你可以这样做

文件1.php

```
<?php function Test() { ?>

    alert("Hello");

<?php } ?> 
```

而不仅仅是包括喜欢

```
<?php    
    Test();   
 ?> 
```

# ssl-certificate - Makecert 证书安全吗？

> ID：14393144
> 
> 赞同：3
> 
> 时间：2013-01-18T05:50:24.817
> 
> 标签：ssl-certificate, sslstream, makecert

我做了一个应用程序，它通过. net `SSLStream`，为了开发，我曾经`makecert.exe`创建一个自签名的 ssl 证书。现在我读过一些微软文章，makecert 应该只用于测试。

现在我的问题是：使用此证书的应用程序是否安全，或者我可以使用哪个程序制作安全且可比较的证书？

非常感谢任何

**帮助**

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-26T11:04:42.937

我建议使用**OpenSSL**创建用于生产环境的自签名证书。我从来没有想过makecert.exe。老实说：*您希望*在应用程序和服务器*之间*使用 SSL 实现数据的加密传输。

漏洞证书不会显示给“用户/客户”。现在唯一的原因是将带有“*这是一个安全页面*”的标记嵌入到启用 SSL 的页面中。

如果您正在寻找这个，您肯定需要来自 CA 的签名证书。如果您正在考虑这一点，我推荐**StartSSL**，因为它是最便宜的，并且为您提供一次性验证几乎无限的通配符证书。**它受微软信任，您可以免费**创建代码签名证书。（仅用于验证的一次性费用）。

## 关于证书的随机性和安全性：

如果您正在验证要连接的证书的指纹，则安全问题应该会减少。（即 Fiddler 不会以这种方式工作）。

SSL 基于[RSA](http://en.wikipedia.org/wiki/RSA_%28algorithm%29)算法，因此在生成密钥大小为 2048 甚至 4096（在 StartSSL 上最大）的私钥/公钥对时，不应该有任何安全问题。如何创建您将在[此处](http://www.xenocafe.com/tutorials/linux/centos/openssl/self_signed_certificates/index.php)找到的证书 如果您不信任 RSA，则不应该信任任何人；）

请记住，大多数大学使用使用 OpenSSL 创建的自签名证书。它现在已通过[FIPS 认证](http://www.openssl.org/docs/fips/SecurityPolicy-2.0.pdf)，并允许您进行大量设置以适应您的系统。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-18T05:52:37.650

如果您找到某种安全的方式将证书提供给使用您的应用程序的每个人，那么它是安全的。否则，他们将无法知道他们真的在与您的应用程序交谈。其他任何人都可以`makecert`像你一样奔跑，没有人有办法知道他们是否真的在和你说话。CA 颁发的证书将您的身份绑定到证书，让客户知道他们确实在与正确的服务通信。

当您打开`https://www.amazon.com`浏览器时，您怎么知道您将信用卡信息发送到亚马逊而不是冒名顶替者？好吧，亚马逊有一个`www.amazon.com`由证书颁发机构颁发的证书。冒名顶替者无法获得这样的证书——当局不会颁发它。

但如果亚马逊使用自签名证书……好吧，任何人都可以这样做。那么我怎么知道我实际上是在和亚马逊说话呢？我必须提前知道哪个自签名证书声称`www.amazon.com`是正确的。我不会有 CA 的批准印章告诉我。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2015-10-26T22:36:16.003

您将密码（作为长证书）硬编码到您的应用程序中，并且您在询问它是否安全？

我只需要一份您的代码副本或您存储它的任何地方，我就可以破解您编写的所有应用程序。另外，您无法更新或更改它。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-25T22:13:52.580

自签名证书本质上说“我证明我是我。签名：我”。查看如何设置您自己的证书颁发机构（这取决于您选择的环境，并且有几个选项）。使用该权限颁发证书，并将服务器和客户端设置为信任您的 CA。无需为他们支付 $$$$，而且*您*确切知道在什么条件下分发证书。

# java - 在 Linux 中如何通过脚本检查安装了哪个版本的 Java？

> ID：14393152
> 
> 赞同：0
> 
> 时间：2013-01-18T05:51:12.137
> 
> 标签：java, linux, bash

备用 --config 已更新

java -version 有效

如果安装了 java 以及什么版本，我如何验证是否安装了 java。什么是正确的方法。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-18T07:04:15.603

我认为这就是你想要的：

```
#!/bin/bash
if [ -x /usr/bin/java ] ; then
        java -version 2>&1 | head -1 | awk -F '"' '{print $2}'
else
        exit
fi 
```

**输出**（在我的 linux 机器上）：

```
1.6.0_18 
```

检查是否存在 java 可执行文件。如果是，则打印版本。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-18T07:06:53.667

我希望下面的代码可以帮助你，请尝试一下，

```
a=`(java -version) 2>&1`
if [[ "$a" == *1.7* ]]
then 
    echo '1.7'
fi 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-18T11:04:48.960

取决于您希望如何安装它；有两种方法可以找到`java`二进制文件：

*   在 PATH 中查找`java`（这就是您正在执行的操作`java -version`）
*   如果`JAVA_HOME`已定义，则将其视为首选安装并运行`$JAVA_HOME/bin/java -version`

之后，只需根据需要从输出中提取版本号（参见上面 slayedbylucifer 的答案）。

# java - 播放框架：浏览器中没有显示输出

> ID：14393153
> 
> 赞同：0
> 
> 时间：2013-01-18T05:51:12.607
> 
> 标签：java, playframework-2.0

我刚开始阅读“Play for Java”一书。正在做他们的一些代码示例。我在我的 list.scala.html 文件中看到一些关于一些的警告

> @for(product <- products) 中使用的无效文本字符串和字符{

当我去 localhost:9000/products/ -> 我只是得到一个空白屏幕。

![在此处输入图像描述](../Images/ed52f050104bbc42465deec39e1d6d6f.png)

![在此处输入图像描述](../Images/30f5277f71c6b96b2bc12ca01096528b.png)

![在此处输入图像描述](../Images/d6dedea2579b6bce224fe6e4ff49b8f7.png)

我不知道如何更好地解释这个问题，因为我是新手......问我是否需要更多输入。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-18T07:15:37.173

“空白页”不够清晰，您需要知道您的页面是否完全呈现（因此它正在显示但没有内容）或者是否没有任何反应。

您有两种方法：在视图的开头插入一些始终可见的元素，即：`<h1>Producsts</h1>`第二件事是您应该始终检查浏览器中呈现页面的来源，以查看典型部分`<!DOCTYPE html>`是否在适当的位置。

无论如何，在您的屏幕截图中，我至少看到两个错误：

1.  你根本不......渲染视图，`ok()`只是返回带有状态的*空*结果`200`（这对于浏览器意味着：*没关系 - 服务器说，这个地方没有合适的内容*）。改用这个：

    ```
    return ok(views.html.list.render(products)); 
    // Where 'products' is Set<Product> filled probably from your DB 
    ```

2.  您正在尝试复制 `<!DOCTYPE html>`，而它`main.scala.html`之前可能已声明，因此您的结果 HTML 将无效。

在使用 Web 框架时，最好学习 Web 浏览器中的典型检查工具，如果页面*看起来*不像您预期​​的那样，您应该转到源视图并检查生成的 HTML。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2018-07-04T23:22:02.323

进口必要的资料；

```
 import play.mvc.Controller;
    import play.mvc.Result;
    import models.Product;
    import java.util.List;
    import views.html.products.list; 
```

控制器的列表方法如下：

```
 public static Result list(){
        List<Product> products = Product.findAll();
        return ok(list.render(products));
    } 
```

# javascript - 如何处理 http.get 响应中未捕获的异常

> ID：14393162
> 
> 赞同：1
> 
> 时间：2013-01-18T05:52:53.690
> 
> 标签：javascript, node.js, http-get, uncaught-exception, eventemitter

我有这段代码可以使用 API 从第三方网站下载新闻提要。其设置为每 5 秒运行一次，并提取可能发生的任何新闻事务。问题似乎出在没有发生新事务时。

通过添加 process.on('uncaught exception', function(error){ console.log("hmph") }) cron 作业可以在 5 秒后继续，所以我很想保持原样；但是，我添加了 console.log("hmph") ，现在我很困惑。

第一次，控制台会写hmph。5 秒后它会写 hmph hmph

等等。我知道我一定错过了一些东西，但我不太确定它是什么。我已经尝试在 else 语句中执行 request.end() 但错误仍然会触发。

没有 process.on('uncaught...') 抛出的错误是：

> events.js:71 抛出参数[1]；// 未处理的“错误”事件 ^ 错误：在 TCP.onread (net.js:403:27) 的 Socket.socketOnData (http.js:1367:20) 处解析错误

使用 proccess.on('uncaught...') console.log(error) 是：

> { [错误：解析错误] bytesParsed：161，代码：'HPE_INVALID_CONSTANT'}

如何正确处理此错误？

缩写代码：

```
var job = new cronJob('*/5 * * * * *', function(){
  var request = http.get({
                            host: 'www.example.com',
                            path: '/news_feed?apicode=myapicode',
                            port: 80,
                            headers: { 'accept-encoding': 'gzip' } 
                         })

  request.on('response', function(response){
    if (response.statusCode == 200){
      // gunzip response, save response to mongodb
    } 
    else
    {
      // here is where the error is occuring
      process.on('uncaughtException',function(error){
        console.log(error);
        console.log("hmph");
    }
  });
}, null, true); 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-18T07:30:36.070

每次发出请求时，都会绑定一个新的`uncaughtException`处理程序，因此当发送第一个请求时，您会绑定第一个请求，当它失败时会打印一个错误，然后在下一个请求时，添加另一个处理程序，然后当失败时，第一个和第二个处理程序都将运行。

检查错误，并在此处讨论此类错误：[https](https://github.com/joyent/node/issues/3354) ://github.com/joyent/node/issues/3354您连接的服务器似乎正在做一些奇怪的事情。对您来说最简单的解决方案可能是现在使用 uncaughtException 处理程序。也就是说，它不太理想，您不应该将其作为未来此类问题的通用解决方案。

```
var job = new cronJob('*/5 * * * * *', function(){
  var request = http.get({
    host: 'www.example.com',
    path: '/news_feed?apicode=myapicode',
    port: 80,
    headers: { 'accept-encoding': 'gzip' } 
  });
  request.on('response', function(response){
    if (response.statusCode == 200){
      // gunzip response, save response to mongodb
    }
  });
}, null, true);

process.on('uncaughtException',function(error){
  console.log(error);
  console.log("hmph");
}); 
```

# asp.net - 在 asp.net 网页中尝试 WebSecurity.CreateAccount 时遇到错误“提供程序遇到未知错误”

> ID：14393163
> 
> 赞同：10
> 
> 时间：2013-01-18T05:52:54.943
> 
> 标签：asp.net, razor, webmatrix

我是 asp.net 的新手。我正在尝试使用 WebMatrix 创建一个简单的登录和注册网页。但是当我尝试创建帐户时出现以下错误：

* * *

```
The Provider encountered an unknown error.

Description: An unhandled exception occurred during the execution of the current web request. Please review the stack trace for more information about the error and where it originated in the code. 

Exception Details: System.Web.Security.MembershipCreateUserException: The Provider encountered an unknown error.

Source Error: 

Line 32:                 db.Execute("INSERT INTO UserData (Email,Name) VALUES (@0,@1)", email, username);
Line 33:                  
Line 34:                 WebSecurity.CreateAccount(email,password);
Line 35:                 Response.Redirect("Homepage.cshtml");
Line 36:             }

Source File: c:\Users\admin\Documents\My Web Sites\Login\Register.cshtml    Line: 34 

Stack Trace: 

[MembershipCreateUserException: The Provider encountered an unknown error.]
   WebMatrix.WebData.SimpleMembershipProvider.CreateAccount(String userName, String password, Boolean requireConfirmationToken) +1312
   WebMatrix.WebData.WebSecurity.CreateAccount(String userName, String password, Boolean requireConfirmationToken) +31
   ASP._Page_Register_cshtml.Execute() in c:\Users\admin\Documents\My Web Sites\Login\Register.cshtml:34
   System.Web.WebPages.WebPageBase.ExecutePageHierarchy() +207
   System.Web.WebPages.WebPage.ExecutePageHierarchy(IEnumerable`1 executors) +68
   System.Web.WebPages.WebPage.ExecutePageHierarchy() +156
   System.Web.WebPages.StartPage.RunPage() +19
   System.Web.WebPages.StartPage.ExecutePageHierarchy() +65
   System.Web.WebPages.WebPageBase.ExecutePageHierarchy(WebPageContext pageContext, TextWriter writer, WebPageRenderingBase startPage) +76
   System.Web.WebPages.WebPageHttpHandler.ProcessRequestInternal(HttpContextBase httpContext) +119

Version Information: Microsoft .NET Framework Version:4.0.30319; ASP.NET Version:4.0.30319.272 
```

* * *

任何帮助表示赞赏。谢谢。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-10-24T10:27:36.080

我只是遇到了同样的问题......我正在使用

```
WebSecurity.CreateAccount(model.UserName, model.Password); 
```

及以上产生的问题..

然后我尝试了：

```
WebSecurity.CreateAccountAndUser(model.UserName, model.Password); 
```

并发现我缺少用户表 (UserProfile) 的其他必填字段。以下为我工作：

```
WebSecurity.CreateAccountAndUser(model.UserName, model.Password, new {RequiredColumn1 = Value1, RequiredColumn2 = Value 2, ...... }); 
```

帖子很旧，但希望这可以帮助其他人..

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-02-14T17:54:05.507

务必：

1.  首先创建用户记录
2.  调用 WebMatrix 以创建用户帐户。

以下是我的代码，它解决了您遇到的相同问题：

```
public ActionResult SignUp(SignUpModel model)
    {
        if (ModelState.IsValid)
        {
            using (MorphometryContext context = new MorphometryContext())
            {
                User user = new User
                {
                    Email = model.Email,
                    FirstName = model.FirstName,
                    LastName = model.LastName,
                    Username = model.UserName
                };
                context.Users.Add(user);
                context.SaveChanges();
            }

            // Attempt to register the user
            try
            {
                WebSecurity.CreateAccount(model.UserName, model.Password);
            }
            catch (MembershipCreateUserException e)
            {
                ModelState.AddModelError("", ErrorCodeToString(e.StatusCode));
                return View();
            }

            WebSecurity.Login(model.UserName, model.Password);
            return RedirectToAction("Index", "Projects");
        } 
```

此外，您不想 Respoonse.Redirect 到 .cshtml 文件。相反，您应该返回一个 RedirectToAction 并传入 Action 和 Controller 名称。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-06T11:04:01.637

我刚刚遇到了这个问题-但是根据您的代码，它可能不是一回事。在我自己的用户表中创建记录之前，我试图创建成员记录。它必须反过来。

所以我会检查你的`INSERT INTO UserData`查询是否真的有效。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2014-02-12T10:24:50.780

就我而言；这是因为文化；

使用 CreateUserAndAccount 函数创建帐户的 Membership 提供程序，首先创建一个用户。现在没问题，用户成功添加到数据库中。但对于创建帐户，它运行以下查询以获取用户 ID 为其创建新帐户：

```
SELECT [userID] from [User] Where (UPPER([userName]) = @0); 
```

这是抛出异常的地方，因为在某些文化中，大写字母是不同的，例如在土耳其语中，“i”的大写是“İ”。

我暂时不知道如何解决这个问题，我会尝试学习它。

就我而言，我正在创建一个名为“admin”的用户并抛出异常。我将用户名更改为“mesut”，它运行成功。

请确保您在用户名字段中是否有特定于文化的字母。（或在您的情况下使用电子邮件），（一旦我找到解决方法，我将在此处发布）

# python - 为什么我不断收到 AttributeError：“模块”对象没有属性

> ID：14393164
> 
> 赞同：0
> 
> 时间：2013-01-18T05:52:58.973
> 
> 标签：python, attributeerror

我是 Python 新手，正在尝试一些问题。这是创建一个红绿灯。不知道为什么我不断收到此错误 AttributeError: 'module' object has no attribute 'canvas'

下面的代码

# 第 9 章 9.25

```
import tkinter as tk

class TrafficLight(tk.Frame):

    def __init__(self, parent=None):
        tk.Frame.__init__(self, parent, bg='green')
        self.grid()

# create a canvas to draw on

self.canvas = tk.canvas(self, width=260, height=280, bg='white')

self.canvas.grid()

self.make_widgets()

def make_widgets(self):
    self.canvas.create_rectangle(80, 20, 170, 260)

#imagine a square box
# upper left corner coordinates x1, y1
# lower right corner coordinates x2, y2
# and sides of length span for each circle

span = 50
x1 = 100
y1 = 50
x2 = x1 + span
y2 = y1 + span

self.canvas.create_oval(x1, y1, x2, y2, fill='red')
self.canvas.create_oval(x1, y1+70, x1, y2+70, fill='yellow')
self.canvas.create_oval(x1, y1+140, x2, y2+140, fill='green')

if __name__ == '__main__':
    light = TrafficLight()
    light.mainloop() 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-18T05:56:51.903

Python 区分大小写。

```
>>> import tkinter as tk
>>> tk.canvas
Traceback (most recent call last):
  File "<stdin>", line 1, in <module>
AttributeError: 'module' object has no attribute 'canvas'
>>> tk.Canvas
<class 'tkinter.Canvas'> 
```

# ruby-on-rails - Ruby on Rails：has_one 如何与最后一个孩子相关联？

> ID：14393165
> 
> 赞同：2
> 
> 时间：2013-01-18T05:53:23.180
> 
> 标签：ruby-on-rails, rails-activerecord

```
Class Item
    has_many :prices
    has_one  :current_price
end

Class Price
   belongs_to :item
   #date the price was set attribute
   #price attribute
end 
```

我如何在“current_price”字段中找到我正在销售的所有商品，包括（急切地加载）当前价格（包含给定商品的 max() 日期的价格）？

例如：

表项：

id=1 | 名称="the_hobbit"

餐桌价格：

id=1 | item_id=1 | 价格=10.99 美元 | 日期=2010-01-01

id=2 | item_id=1 | 价格=12.59 美元 | 日期=2009-04-23

id=3 | item_id=1 | 价格=19.99 美元 | 日期=2013-01-03

```
@item = Items.find(1)
@item.current_price # should print "19.99$" 
```

编辑：我相信我的问题被称为“**每组最大 n** ”，但我无法弄清楚如何通过“has_one”关联正确地做到这一点......

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-18T06:05:38.483

在 has_one 宏上使用 order 选项：

```
class Item
    has_many :prices
    has_one  :current_price, :order => "date DESC" 
end 
```

Has_one 当然只会包含一个 sql 级别的价格。但是，如果您已经使用 has_many :prices 加载了每件商品的所有价格，那么您可以诉诸纯 Ruby 并具有一些可枚举的优点

```
@item.prices.sort_by(&:date).last 
```

...这将为您提供最新的价格。

当我这样做时，您最好这样做：

```
class Item
    has_many :prices, :order => "date"
    has_one  :current_price, :order => "date DESC" 
end

@item.prices.last 
```

因为价格是由 SQL 预先排序的（这样更快......）

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-18T08:36:38.900

无需其他关联，只需使用自定义方法即可。

```
Class Item
    has_many :prices

    def current_price
        return self.prices.last
    end
end 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2017-02-13T10:47:24.947

您应该为此使用 class_name 和外键，还需要按日期或所需内容排序，在我的情况下它是版本，对于您的情况，我写了 created_at 字段

```
class Item
     has_one :current_price, -> { order created_at: :desc }, class_name: 'Price', foreign_key: :item_id
end 
```

现在，当您需要获取项目的最新价格时，您只需致电

> @item = Item.find_by(id: params[:id]).current_price

它会返回给您该商品的最新价格，您还可以将该价格与商品哈希合并使用

> @item = Item.find_by(id: params[:id])
> 
> @item.merge({current_price: @item.current_price})

`:current_price`并且输出将与最新相关价格的键和值进行散列

# html - 我的一些风格不起作用

> ID：14393167
> 
> 赞同：0
> 
> 时间：2013-01-18T05:53:48.773
> 
> 标签：html, css

为什么我的某些样式不起作用。

我很努力，但我的菜单有问题。

CSS 的最后一部分不起作用。[jsfiddle](http://jsfiddle.net/dCE7L/)

当我将鼠标放在菜单内容上时，我想让它变黑并且...

```
#site_menu {margin-top:16px; height:33px; display:block; direction:rtl;}

ul.main_menu { margin:0px 20px 0px 20px; }
    ul.main_menu li {
        display:inline-block;
    color:#888;
    padding:9px 7px 9px 7px;
    position:relative;
}
ul.main_menu li:hover {
    display:inline-block;
    color:#FFF;
    cursor:pointer;
    background: #f18822;
    background-image: -webkit-gradient(linear, 50% 0%, 50% 100%, color-stop(0%, #fcb300), color-stop(100%, #fa9200));
    background-image: -webkit-linear-gradient(#fcb300,#fa9200);
    background-image: -moz-linear-gradient(#fcb300,#fa9200);
    background-image: -o-linear-gradient(#fcb300,#fa9200);
    background-image: linear-gradient(#fcb300,#fa9200);
    -moz-background-clip: padding;
    -webkit-background-clip: padding;
    -o-background-clip: padding-box;
    -ms-background-clip: padding-box;
    -khtml-background-clip: padding-box;
    background-clip: padding-box;
    border-color: #ed842c;
    box-shadow: inset 0 1px 0 0 #f6af61;
    /*border-bottom:1px solid transparent;*/
}
    .main_menu li ul {
        position:absolute;
        width:160px;
        right:0px;
        top:33px;
        padding:5px;
        background:#FFF;
        display:inline-block;
        box-shadow: 4px 4px 0 0 rgba(35,35,35,0.1);
        border-top:2px solid #ed842c;
        border-bottom:1px solid #CCC;
    }
    .main_menu li ul li {
        display:list-item;
        background:#FFF;
        color:#888;
        padding:5px;
    }
    .main_menu li ul li:hover {
        color:#000;
        cursor:pointer;
    } 
```

html

```
<div id="site_menu" class="fleft">
        <ul class="main_menu"><li>content
            <ul><li>content</li><li>طرح سوال</li><li>خرید و فروش</li><li>ثبت کتاب</li></ul>
        </li><li>قوانین سایت</li><li>حریم خصوصی</li><li>تماس با ما
            <ul><li>طراحی آزمون</li><li>طرح سوال</li><li>خرید و فروش</li><li>ثبت کتاب</li><li>طراحی آزمون</li><li>طرح سوال</li><li>خرید و فروش</li><li>ثبت کتاب</li></ul>
        </li></ul>
    </div> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-18T06:07:21.130

更改以下代码行

```
ul.main_menu li:hover {

        background: #000000;
        background-image: -webkit-gradient(linear, 50% 0%, 50% 100%, color-stop(0%, #000000), color-stop(100%, #000000));
        background-image: -webkit-linear-gradient(#000000,#000000);
        background-image: -moz-linear-gradient(#000000,#000000);
        background-image: -o-linear-gradient(#000000,#000000);
        background-image: linear-gradient(#000000,#000000); 
```

请参阅小提琴[http://jsfiddle.net/dCE7L/5/](http://jsfiddle.net/dCE7L/5/) 相应更改字体颜色

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-18T06:16:30.800

试试这个：http: [//jsfiddle.net/dCE7L/6/](http://jsfiddle.net/dCE7L/6/)

我将您的显示属性更改`.main_menu li ul li`为`display: inline-block`并添加`width: 100%`，然后`.main_menu li ul li:hover`我重置了一些继承自的悬停样式`ul.main_menu li:hover`。

以下更改：

```
.main_menu li ul li {
  display: inline-block; /* changed from list-item */
  background:#FFF;
  color:#888;
  padding:5px;
  width: 100%; /* added to make list items take up full width of ul */
}

.main_menu li ul li:hover {
  color:#000;
  cursor:pointer;
  background: none; /* reset */
  box-shadow: none; /* reset */
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-18T06:24:00.223

我在主菜单上删除了您的悬停属性之一。你有一个`display:inline-block`，`ul.main_menu li:hover`这导致了你的问题。

查看更新[**的 FIDDLE**](http://jsfiddle.net/dCE7L/7/)

# vb.net - DataGridView 列 VB.NET 中的单选按钮

> ID：14393171
> 
> 赞同：0
> 
> 时间：2013-01-18T05:54:10.707
> 
> 标签：vb.net, datagridview, radio-button

谁能知道如何在 Datagrid 视图列中添加单选按钮？我需要单个单元格中的三个单选按钮..

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-18T06:58:37.243

您必须为`DataGridView`. 它有点棘手，但这里有 MSDN 的所有步骤：

[http://msdn.microsoft.com/en-us/library/aa730882(v=vs.80).aspx](http://msdn.microsoft.com/en-us/library/aa730882(v=vs.80).aspx)

* * *

## 回答 #2

> 赞同：-2
> 
> 时间：2013-11-21T06:29:08.820

这里我有一个简单的方法使用单选按钮选中和未选中透明PNG图像

[http://how2doinvbdotnet.blogspot.in/](http://how2doinvbdotnet.blogspot.in/)

检查我的博客：how2doinvbdotnet.blogspot.in

```
Public Class Form1 Dim ColType(,) As
   Integer Private Sub Form1_Load(ByVal sender As System.Object, ByVal e
   As System.EventArgs) _ Handles MyBase.Load With DataGridView1
   .RowCount = 5 .ColumnCount = 3 For i As Integer = 0 To .RowCount - 1
   .Rows(i).Cells(2) = New DataGridViewImageCell
   .Rows(i).Cells(2).Style.Alignment =
   DataGridViewContentAlignment.MiddleCenter .Rows(i).Cells(2).Value =
   My.Resources.RadioUnsel .Rows(i).Cells(2).Tag = 2 Next End With End
   Sub   Private Sub DataGridView1_CellClick(ByVal sender As Object,
   ByVal e As _System.Windows.Forms.DataGridViewCellEventArgs) Handles
   DataGridView1.CellClick With DataGridView1 If
   .Rows(e.RowIndex).Cells(e.ColumnIndex).Tag = 2 Then For i As Integer
   = 0 To .RowCount - 1 If e.RowIndex <> i Then .Rows(i).Cells(e.ColumnIndex).Value = My.Resources.RadioUnsel

Else
.Rows(i).Cells(e.ColumnIndex).Value = My.Resources.RadioButtonSel
End If
Next
End If
End With
End Sub
End Class 
```

# r - 在R中相交轮廓和多边形

> ID：14393172
> 
> 赞同：5
> 
> 时间：2013-01-18T05:54:19.670
> 
> 标签：r, ggplot2, intersection, contour, clip

我已经尝试了几天来创建轮廓，然后在同一个文件上绘制 shapefile 和轮廓。现在，我可以在同一个图上创建轮廓和 shapefile。我想用 shapefile 剪辑轮廓，只显示 shapefile。

数据 temp.csv 可在此链接上找到[https://www.dropbox.com/s/mg2bo4rcr6n3dks/temp.csv](https://www.dropbox.com/s/mg2bo4rcr6n3dks/temp.csv) Shapefile 可在以下位置找到：[https ://www.dropbox.com/sh/ztvmibsslr9ocmc /YOtiwB8p9p](https://www.dropbox.com/sh/ztvmibsslr9ocmc/YOtiwB8p9p)

脚本文件 image.scale.R 可以在以下位置找到“ [https://www.dropbox.com/s/2f5s7cc02fpozk7/image.scale.R](https://www.dropbox.com/s/2f5s7cc02fpozk7/image.scale.R) ”

到目前为止我使用的代码如下：

```
## Required packages 
library(maptools) 
library(rgdal) 
library(sp) 
library(maptools) 
library(sm) 
require(akima) 
require(spplot) 
library(raster) 
library(rgeos)

## Set Working Directory 
setwd("C:\\Users\\jdbaba\\Documents\\R working folder\\shape")

## Read Data from a file 
age2100 <- read.table("temp.csv",header=TRUE,sep=",")

x <- age2100$x 
y <- age2100$y   
z <- age2100$z

####################################
##Load the shape file 
##################################### 
shapefile <- readShapePoly("Export_Output_4.shp")

fld <- interp(x,y,z)

par(mar=c(5,5,1,1)) filled.contour(fld)

###Import the image.scale 
source source("image.scale.R") 
```

# [http://menugget.blogspot.de/2011/08/adding-scale-to-image-plot.html](http://menugget.blogspot.de/2011/08/adding-scale-to-image-plot.html)

```
x11(width=8, height=7) 
layout(matrix(c(1,2), nrow=1, ncol=2), widths=c(6,1), height=6, respect=TRUE) 
layout.show(2)

par(mar=c(4,4,1,2)) 
image(fld,axes=T) 
contour(fld, add=TRUE)
#points(age2100$x,age2100$y, pch=".", cex=2,legend=F) 
plot(shapefile,add=T,lwd=2) 
box()
par(mar=c(4,0,1,4)) 
image.scale(fld, xlab="Eastings", ylab="Northings", xaxt="n", yaxt="n", horiz=FALSE)

axis(4)
mtext("Salinity", side=4, line=2.5) 
```

上述代码的输出如下：

![在此处输入图像描述](../Images/d874771af151a97f0465dff50c312111.png)

现在，我想摆脱多边形形状文件中的彩色渐变和轮廓，只留下相交部分。

非常感谢任何帮助。

研究：我在 Stack exchange Gis 上找到了这个链接[https://gis.stackexchange.com/questions/25112/clip-depth-contour-with-spatial-polygon](https://gis.stackexchange.com/questions/25112/clip-depth-contour-with-spatial-polygon)并且我尝试按照这种方法创建轮廓时总是出错.

[我在https://stat.ethz.ch/pipermail/r-sig-geo/2009-May/005793.html](https://stat.ethz.ch/pipermail/r-sig-geo/2009-May/005793.html)上找到了另一个类似的帖子。但我无法让它在我的数据集上工作。

我想感谢框中的 Marc 帮助我达到了这一点。

谢谢。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-27T02:29:04.470

事实上，@baptiste 为您提供了解决方案的强烈提示，即[Paul Murrell 最近的论文](http://journal.r-project.org/archive/2012-2/RJournal_2012-2_Murrell2.pdf)。Paul 慷慨地向我们提供了他整个论文手稿的代码，您可以从[他的个人网站上](http://www.stat.auckland.ac.nz/~paul/)获得。在副题上，保罗用这篇论文展示了可重复研究的美丽例子。一般来说，我采取以下方法：

*   从 shapefile 中提取纬度和经度坐标（执行此操作的函数在[这里](https://stat.ethz.ch/pipermail/r-sig-geo/2010-June/008500.html)，由 Paul Hiemstra 编写），
*   用您的代码绘制所有内容，
*   并用于`polypath`删除 shapefile 定义的边界之外的所有内容，使用提取的坐标作为基线。

    ```
    #function to extract coordinates from shapefile (by Paul Hiemstra)
    allcoordinates_lapply = function(x) { 
        polys = x@polygons 
        return(do.call("rbind", lapply(polys, function(pp) { 
               do.call("rbind", lapply(pp@Polygons, coordinates)) 
               }))) 
    } 
    q = allcoordinates_lapply(shapefile)

    #extract subset of coordinates, otherwise strange line connections occur...
    lat = q[110:600,1]
    long = q[110:600,2]

    #define ranges for polypath
    xrange <- range(lat, na.rm=TRUE)
    yrange <- range(long, na.rm=TRUE)
    xbox <- xrange + c(-20000, 20000)
    ybox <- yrange + c(-20000, 20000)

    #plot your stuff
    plot(shapefile, lwd=2)
    image(fld, axes=F, add=T)
    contour(fld, add=T)
    #and here is the magic 
    polypath(c(lat, NA, c(xbox, rev(xbox))),
             c(long, NA, rep(ybox, each=2)),
             col="white", rule="evenodd") 
    ```

![在此处输入图像描述](../Images/1add46e7b1e82f6eaac1ed45051114eb.png)

# php - 在 PHP 中，为什么“or die()”有效，而“or return”无效？

> ID：14393173
> 
> 赞同：20
> 
> 时间：2013-01-18T05:54:32.543
> 
> 标签：php, error-handling, return, internals, parse-error

`or die`在 PHP 中，您可以通过在遇到某些错误时调用 exit 来处理错误，如下所示：

```
$handle = fopen($location, "r") or die("Couldn't get handle"); 
```

使用`die()`不是处理错误的好方法。我宁愿返回一个错误代码，以便父函数可以决定要做什么，而不是仅仅不优雅地结束脚本并向用户显示错误。

但是，当我尝试替换为 时，PHP 显示错误`or die`，`or return`如下所示：

```
$handle = fopen($location, "r") or return 0; 
```

为什么`or die()`有效，但无效`or return 0`？

* * *

## 回答 #1

> 赞同：27
> 
> 时间：2013-01-18T07:43:23.673

我要感谢你提出这个问题，因为我不知道你不能`or return`在 PHP 中执行。当我测试它时，我和你一样感到惊讶。这个问题给了我一个很好的借口，让我在 PHP 的内部进行一些研究和玩耍，这实际上很有趣。但是，我不是 PHP 内部的专家，所以以下是 PHP 内部的外行看法，尽管我认为它相当准确。

* * *

`or return`不起作用，因为`return`语言解析器不将其视为“表达式” - 就这么简单。

该关键字`or`在 PHP 语言中被定义为一个名为 的标记`T_LOGICAL_OR`，并且似乎定义它的唯一表达式如下[所示](http://lxr.php.net/xref/PHP_5_4/Zend/zend_language_parser.y#746)：

```
 expr T_LOGICAL_OR { zend_do_boolean_or_begin(&$1, &$2 TSRMLS_CC); } expr { zend_do_boolean_or_end(&$$, &$1, &$4, &$2 TSRMLS_CC); } 
```

不要担心大括号中的位 - 它只定义了如何处理实际的“或”逻辑。你剩下的是`expr T_LOGICAL_OR expr`，它只是说它是一个有效的表达式，有一个表达式，后跟`T_LOGICAL_OR`令牌，然后是另一个表达式。

如您所料， An`expr`也由解析器定义。它可以是 a `r_variable`，这意味着它是一个允许您读取的变量，也可以是 an `expr_without_variable`，这是一种表示表达式可以由其他表达式组成的奇特方式。

您可以这样做`or die()`，因为语言构造`die`（不是函数！）及其别名`exit`都由令牌表示`T_EXIT`，并且`T_EXIT`被认为是有效的`expr_without_variable`，而`return`语句 - 令牌`T_RETURN`- 不是。

现在，为什么被`T_EXIT`认为是一个表达式，但`T_RETURN`不是？老实说，我不知道。也许这只是为了允许`or die()`您所询问的构造而做出的设计选择。它曾经被广泛使用的事实 - 至少在教程之类的东西中，因为我无法处理大量生产代码 - 似乎暗示这可能是一个有意的选择。您必须询问语言开发人员才能确定。

* * *

综上所述，这应该无关紧要。虽然`or die()`几年前该结构在教程（见上文）中似乎无处不在，但并不真正推荐它，因为它是“聪明代码”的一个例子。`or die()`不是它自己的构造，而是一种使用 - 有些人可能会说滥用 -`or`运算符的两个副作用的技巧：

*   它在运算符优先级列表中非常低，这意味着几乎所有其他表达式都会在它被计算之前被评估
*   它是一个短路运算符，这意味着`or`如果第一个操作数返回 ，则不执行第二个操作数（ 之后的位）`TRUE`，因为如果一个操作数`TRUE`在`or`表达式中，那么它们都是。

有些人认为这种诡计是不利的，因为程序员更难阅读，但只在源代码中节省了几个字符的空间。由于程序员的时间很昂贵，而磁盘空间又很便宜，所以您可以理解为什么人们不喜欢这样。

相反，您应该通过将代码扩展为完整的`if`语句来明确您的意图：

```
$handle = fopen($location, "r");
if ($handle) {
  // process the file
} else {
  return 0;
} 
```

您甚至可以在`if`语句中直接进行变量赋值。有些人仍然觉得这不可读，但大多数人（包括我自己）不同意：

```
if ($handle = fopen($location, "r")) {
  // process the file
} else {
  return 0;
} 
```

最后一件事：按照惯例，`0`作为状态码返回表示成功，因此您可能希望返回一个不同的值来表示您无法打开文件。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2016-01-15T15:55:45.710

Return 相当特殊——它不能像函数一样，因为它是退出函数的工具。想象一下：

```
if(1==1) return();  // say what?? 
```

如果是这样，*return*必须是一个执行“双重退出”的函数，不仅留下它自己的作用域，还留下调用者的作用域。因此 return 与表达式完全不同，它根本不能那样工作。

现在理论上，return 可以是一个表达式，计算结果为（比如说）false，*然后*退出函数；也许以后的 php 版本会实现这一点。

同样的事情也适用于**goto**，这将是一个作为后备工作的魅力；是的，后备是必要的，并且通常使代码可读，所以如果有人抱怨“聪明的代码”（这当然是一个好点），也许 php 应该有一些“官方”的方式来做这样的事情：

```
connectMyDB() fallback return false; 
```

像 try...catch 之类的东西，更重要的是。就个人而言，我对“或”做这项工作会更满意，因为它与英语语法配合得很好：“连接或报告失败”。

**TLDR：**你是绝对正确的：return、goto、break - 它们都不起作用。很容易理解为什么，但仍然很烦人。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-18T06:11:33.990

我也偶然发现了一次。我能找到的只有这个：

[https://bugs.php.net/bug.php?id=40712](https://bugs.php.net/bug.php?id=40712)

看看下面的评论：

> 这不是错误

我在文档中进行了搜索，我认为这是因为它`return 0`是一个语句，而`die()`本质上是一个表达式。您无法运行`$handle = return 0;`，但`$handle = fun();`它是有效代码。

关于错误处理，我建议使用自定义代码或使用自定义处理程序和触发器。例如，后者在[此处](http://www.w3schools.com/php/php_error.asp)进行了描述。

# iphone - iOS - 删除以编程方式添加的子视图并在标签中打印日期

> ID：14393174
> 
> 赞同：1
> 
> 时间：2013-01-18T05:54:44.733
> 
> 标签：iphone, ios, datepicker

我需要一些与 iOS 应用程序相关的帮助

单击按钮时，我以编程方式添加了 DatePicker，现在我无法删除视图，这是我的代码

我还尝试将日期放在标签 dateLabel 中，但它显示了一些运行时错误，因为它不是字符串格式我尝试了其他一些方法，例如 NSDateFormatter，但我没有得到正确的结果

```
-(IBAction)date:(id)sender{

    UIDatePicker *datePicker=[[UIDatePicker alloc]initWithFrame:CGRectMake(420, 320, 300, 500)];

    [datePicker addTarget:self action:@selector(Pick:) forControlEvents:UIControlEventValueChanged];

    [self.view addSubview:datePicker];

    NSData *date=[datePicker date];
    NSLog(@"%@",date);
    dateLabel.text=date;
}

-(void)Pick:(id)sender{

    [datePicker removeFromSuperview];
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-18T06:11:57.387

这样做

```
-(IBAction)date:(id)sender
{
   datePicker=[[UIDatePicker alloc]initWithFrame:CGRectMake(420, 320, 300, 500)];
   [datePicker addTarget:self action:@selector(Pick:) forControlEvents:UIControlEventValueChanged];
    [self.view addSubview:datePicker];
}

-(void)Pick:(id)sender
  {
     NSDateFormatter *df = [[NSDateFormatter alloc] init];
    df.dateStyle = kCFDateFormatterShortStyle;
     label.text=[NSString stringWithFormat:@"%@",
                     [df stringFromDate:datePicker.date]];
     [df release];
   [datePicker removeFromSuperview];
    datePicker=nil;
  } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-18T05:59:20.827

尝试这个

在 .h 中声明您的日期选择器

```
UIDatePicker *datePicker; 
```

接着

```
-(IBAction)date:(id)sender
{
   datePicker=[[UIDatePicker alloc]initWithFrame:CGRectMake(420, 320, 300, 500)];
   [datePicker addTarget:self action:@selector(Pick:) forControlEvents:UIControlEventValueChanged];
    [self.view addSubview:datePicker];
}

-(void)Pick:(id)sender
  {
     NSDate *date=[datePicker date];
     NSDateFormatter *dateformatter = [[NSDateFormatter alloc]init];
    [dateformatter setDateFormat:@"YYYY-MM-DD"];
    NSString *dateSTr = [dateformatter stringFromDate:date];
    NSLog(@"%@",dateSTr);
    dateLabel.text=date;
   [datePicker removeFromSuperview];
  } 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-18T06:07:45.547

您将 声明`UIDatePicker *datePicker`为局部变量。

它只能在声明的函数 ( `-(IBAction)date:(id)sender`) 中访问。

您需要全局声明它以在其他函数中使用它。

在您的 .m 文件中声明该变量

```
@interface className()
  @property(nonatomic, strong) UIDatePicker *datePicker;
@end 
```

# bash - 如何在 bash 中将其分开？

> ID：14393177
> 
> 赞同：1
> 
> 时间：2013-01-18T05:55:07.023
> 
> 标签：bash

假设我有一个脚本可以输出这样的内容

```
/path/to/file1 /path/to/file2 /path/to/file3
/path/to/file4 /path/to/file5 /path/to/file6
/path/to/file91 /path/to/file23
/path/to/file130 /path/to/file34 /path/to/file/69 /path/to/file42 
```

我怎样才能获取每一行，例如，`rm`在*除*第一个文件之外的所有内容上运行？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-18T06:03:27.097

怎么样

```
 your_script | sed 1d | xargs rm 
```

这应该可以工作，因为 rm 需要多个参数，所以这就是将要执行的：

```
# excluded by sed: /path/to/file1 /path/to/file2 /path/to/file3
rm /path/to/file4 /path/to/file5 /path/to/file6 \
   /path/to/file91 /path/to/file23 \
   /path/to/file130 /path/to/file34 /path/to/file/69 /path/to/file42 
```

如果您希望每个单词单独执行：

```
 for f in `your_script | sed 1d`; do rm $f; done 
```

正如 Smylers 所指出的，这也是通过以下方式实现的：

```
 your_script | sed 1d | xargs -n 1 rm 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-18T10:25:07.513

```
script | while read first rest; do 
    echo rm $rest
done 
```

确保不加`$rest`引号，以便进行分词。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-18T06:11:24.150

多种方式：

```
your_script | tail -n +2 | xargs rm                      #Delete first line from stdout, run rm on other lines
your_script | { read x; xargs rm ; }                     #Read first line, ignore it. Run rm on others.
your_script | { read x; while read x; do rm $x; done ; } #Read first line, ignore it. Run rm on others, line by line. (slower...) 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-18T08:29:59.193

```
your_script|perl -F -ane 'shift @F if($.==1);print "@F"'|xargs rm -rf 
```

# ruby-on-rails - 使用redis在cloudfoundry部署rails应用程序时出错？

> ID：14393179
> 
> 赞同：0
> 
> 时间：2013-01-18T05:55:11.657
> 
> 标签：ruby-on-rails, redis, cloud-foundry

我在为我的应用程序创建服务时收到此错误为应用程序创建服务？> y 创建服务 redis-70a08... OK NoMethodError: undefined method `name' for nil:NilClass 有关更多信息，请参阅 ~/.vmc/crash

```
NoMethodError: undefined method name' for nil:NilClass 
vmc-0.4.7/lib/vmc/cli/service/bind.rb:18:in bind_service' 
mothership-0.3.5/lib/mothership/base.rb:61:in send' 
mothership-0.3.5/lib/mothership/base.rb:61:in run' 
mothership-0.3.5/lib/mothership/command.rb:68:in `invoke' 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-28T07:28:27.350

您可以尝试更新版本的 VMC，gem install vmc --pre

我在 0.4.7 中遇到了同样的错误，但 0.5.0 对我来说很好。

# unity-container - 使用 Unity App bloc 进行惰性类型注册

> ID：14393180
> 
> 赞同：0
> 
> 时间：2013-01-18T05:55:15.493
> 
> 标签：unity-container, lazy-initialization

1.  是否可以注册类型 (container.RegisterType())，以便在要求使用 container.Resolve<> 方法时在容器中注册类型。我的意思是像懒惰的注册？

    ```
     container.RegisterType(typeof(IType), typeof(ConcreteType));
       var obj = _container.Resolve<IType>(); 
    ```

2.  是否也可以通过在配置文件中进行配置？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-18T07:35:57.573

开箱即用：没有。Unity 在注册时做了很多预处理（比如查找构造函数、发出 IL 代码以快速创建对象等）。无论您使用配置文件还是代码进行配置都没有关系。

您的“懒惰注册”方案是什么？惰性实例化还不够吗？我从来没有遇到过注册阶段对性能至关重要的情况。

# vba - 从 VBA 传递 Python 脚本参数

> ID：14393182
> 
> 赞同：1
> 
> 时间：2013-01-18T05:55:18.017
> 
> 标签：vba, python-2.7

我有以下 VBA 代码：

```
Private Sub cmdLoadSalaries_Click()
    args = "C:\Users\Cole\Documents\Visual Studio 2010\Projects\pyFanDuel\pyFanDuel\pyFanDuel.py " & Me.txtUrl
    Debug.Print args
    Call Shell("C:\python27\python.exe " & args)
End Sub 
```

该脚本在没有“Me.txtUrl”参数的情况下运行良好，但失败了。

在 python 脚本中，我将变量设置为 argv[1] 即 PassedVariable = str(sys.argv[1])

但是脚本无法运行。

任何帮助都会很棒，谢谢大家。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-18T23:20:48.283

为了能够因给出“正确”答案而获得赞誉，我将重复我上面所说的内容（以及您确认的内容）：将参数放在双引号中以“正确转义”所有那些通过时的奇怪字符DOS外壳。

# php - 如何将 wordpress 主查询帖子作为数组获取

> ID：14393183
> 
> 赞同：2
> 
> 时间：2013-01-18T05:55:34.153
> 
> 标签：php, wordpress

我需要将主要查询帖子作为数组获取。例如，在公共标签页面（tag.php）中，我需要将所有帖子作为一个数组获取（就像 get_posts() 一样）并使用一些多个循环而不是使用默认的 wordpress 循环来显示它，如下所示

```
<?php if ( have_posts() ) : while ( have_posts() ) : the_post(); ?>
<?php endwhile; else: ?>
<p><?php _e('Sorry, no posts matched your criteria.'); ?></p>
<?php endif; ?> 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-01-18T09:37:17.557

`$posts`是您要查找的变量。它相当于`get_posts`主查询的结果。它位于全局命名空间中，因此为了在其他地方访问它，您需要使用关键字`global`.

```
global $posts;
foreach( $posts as $a_post ) {
    echo $a_post->post_title;
} 
```

# java - 我有驱动程序，class.forname() 不会抛出异常，但“没有适用于 MySQL 的驱动程序”

> ID：14393185
> 
> 赞同：1
> 
> 时间：2013-01-18T05:55:49.380
> 
> 标签：java, mysql, jdbc

我知道这种问题经常出现，但我需要问这个问题。

我有包含mysql jdbc驱动的jar文件，即mysql-connector-java-5.1.12-bin.jar。
我打开这个 jar 文件并确认这个 jar 文件确实包含 com.mysql.jdbc.Connection.class。

```
Class.forName("com.mysql.jdbc.Connection"); 
```

这不会引发任何异常。

当我尝试与下面的代码建立连接时，我得到了一个异常。

```
con = DriverManager.getConnection(dbURL,dbUNM,dbUPW); 
```

（我不确定将连接 URL 放在这里是否明智）

我明白了

```
java.sql.SQLException: No suitable driver found for jdbc:mysql:xxx.... 
```

我也看到了

```
 Servlet.service() for servlet jsp threw exception
java.lang.NullPointerException
    at org.apache.jasper.runtime.JspRuntimeLibrary.include(JspRuntimeLibrary.java:968)
    at org.apache.jasper.runtime.PageContextImpl.include(PageContextImpl.java:624)
    at org.apache.jasper.runtime.PageContextImpl.doHandlePageException(PageContextImpl.java:823)
    at org.apache.jasper.runtime.PageContextImpl.handlePageException(PageContextImpl.java:794)
    at org.apache.jsp.index_jsp._jspService(index_jsp.java:1134) 
```

你能指出我做错了什么吗？谢谢 ： ）

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-01-18T05:58:03.550

您需要使用 Class.forName 加载驱动程序类 - 尝试以下代码行

```
Class.forName("com.mysql.jdbc.Driver"); 
```

# wolfram-mathematica - 使用导入时如何避免用户和密码身份验证？

> ID：14393188
> 
> 赞同：1
> 
> 时间：2013-01-18T05:56:00.810
> 
> 标签：wolfram-mathematica

我试图在mathematica 8 上制作网络爬虫。

```
 webcrawler[rooturl_, depth_] :=    Flatten[Rest[
     NestList[
      Union[Flatten[
         Thread[# -> 
             Import[#, "Hyperlinks", 
              "ServerAuthentication" -> False ]] & /@ 
          Last /@ #]] &, {"" -> rooturl}, depth]]]; 
```

它运行良好，唯一的问题是当有与用户和密码身份验证的 ia 链接时，会弹出一个框，我需要单击取消，有什么方法可以自动完成吗？

# android - 访问静态库中的方法时出现“对（方法名称）的未定义引用”

> ID：14393191
> 
> 赞同：0
> 
> 时间：2013-01-18T05:56:08.937
> 
> 标签：android, eclipse, android-ndk, cocos2d-x

我已经尝试了一个多月来访问在一个名为 libcocosnas_static.a 的库中找到的方法，我使用的是 Cocos2d-X 版本 2.0.4。该库已被我公司多次使用，使用cocos2d-1.0.1-x-0.12.0制作游戏没有任何问题。这就是我所做的： 1- 我将库的包含路径添加到 eclipse 和 Android.mk 2- 使用 #include "NASPlatformUtil.h" 包含 .h 文件 3- 将 libcocosnas_static.a 文件添加到proj.android\obj\local\armeabi 文件夹 4- 在 Android.mk 文件中添加了“LOCAL_WHOLE_STATIC_LIBRARIES += cocosnas_static” 5- 使用 NASPlatformUtil::openUrl("http://xxx.xxx.com/") 调用函数;

我可以右键单击该函数，单击 Open Declaration 并毫无问题地获取它，但是编译器不断给我那个可怕的错误希望你能帮我解决这个问题

先感谢您

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-11T06:16:52.927

我发现我应该从主项目中的 Android.mk 调用其他库的 Android.mk 现在它正在工作:)

# r - 以 R 空间分隔读取文件，跳过第一行

> ID：14393192
> 
> 赞同：1
> 
> 时间：2013-01-18T05:56:10.950
> 
> 标签：r

我想将 R 中的文件读入 M 乘 N 的矩阵。

文件格式如下：

```
# /n/home11/tros/sar/tests/mars/abro 250
# /n/home11/tros/sar/tests/mars/abro 230
# /n/home11/tros/sar/tests/mars/abro 20
# /n/home11/tros/sar/tests/mars/abro 20
# T (M rows,N cols)
# M 3
# N 4
7.947363550e+03 1.066183995e+04 3.896434554e+03 8.319875735e+03
1.600281531e+04 1.991086422e+04 1.628421819e+03 1.239507171e+04 
7.430547003e+03 2.349262184e+03 4.883555574e+03 4.986597752e+02 
```

应该跳过第一行（所有带有 # 符号的行），但可以（可能）从标题（带有 # 的行）行中读取 M 和 N。

然后应该读取尺寸为 M × N（在本例中为 3 × 4）的数字矩阵，注意分隔符只是空格（不是制表符）。

谢谢。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-18T06:05:06.410

`read.table``#`将跳过默认开头的行：

```
s <- "# /n/home11/tros/sar/tests/mars/abro 250
# /n/home11/tros/sar/tests/mars/abro 230
# /n/home11/tros/sar/tests/mars/abro 20
# /n/home11/tros/sar/tests/mars/abro 20
# T (M rows,N cols)
# M 3
# N 4
7.947363550e+03 1.066183995e+04 3.896434554e+03 8.319875735e+03
1.600281531e+04 1.991086422e+04 1.628421819e+03 1.239507171e+04 
7.430547003e+03 2.349262184e+03 4.883555574e+03 4.986597752e+02
"

read.table(header=FALSE, text=s)
##          V1        V2       V3         V4
## 1  7947.364 10661.840 3896.435  8319.8757
## 2 16002.815 19910.864 1628.422 12395.0717
## 3  7430.547  2349.262 4883.556   498.6598 
```

`text=`您可能希望使用`file=`并提供从中读取数据的文件名，而不是使用。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-18T06:40:55.323

```
Lines <- readLines(s)
M <- as.numeric( sub("^#\\sM" ,"" , Lines[grep("^#\\sM",Lines)]) )
M
#[1] 3
N <- as.numeric( sub("^#\\sN" ,"" , Lines[grep("^#\\sN",Lines)]) )
 dat <- read.table(text=Lines[grep("^[^#]",Lines)]) 
 dat
         V1        V2       V3         V4
1  7947.364 10661.840 3896.435  8319.8757
2 16002.815 19910.864 1628.422 12395.0717
3  7430.547  2349.262 4883.556   498.6598 
```

# r - 匹配第二个表中的数据时，在“data.table”中创建向量列的最有效方法是什么？

> ID：14393194
> 
> 赞同：4
> 
> 时间：2013-01-18T05:56:16.113
> 
> 标签：r, data.table

`data.table` 在我们需要匹配第二个元素的地方创建一列向量的最有效方法是什么`data.table`？

例如，给定下面的两个 data.tables

```
 > A_ids.DT        > rec_data_table
      name id           bid counts names_list
   1:    A  1        1: 301     21        C,E
   2:    B  2        2: 302     21          E
   3:    C  3        3: 303      5      H,E,G
   4:    D  4        4: 304     10        H,D
   5:    F  6        5: 305      3          E
   6:    G  7        6: 306      5          G
   7:    H  8        7: 307      6        B,C
   8:    J 10        
   9:    K 11 
```

我想创建一个新列，其中每个元素都是中引用`rec_data_table`的 id 列表`A_ids.DT``rec_data_table[,names_list]`

重要提示：每个条目中表示的顺序`names_list`必须反映在新列中。即：对于第`3:`（`H, E, G`）行，我们应该得到`c(8, NA, 7)`

**以下行，它使用`sapply`作品，但我质疑它的效率。**
是否有更好（即更快、更优雅）的替代方案？（注意实际数据是几十万行）

```
rec_data_table[, A_IDs.list := sapply(names_list, function(n) c(A_ids.DT[n, id]$id))]

   bid counts names_list A_IDs.list
1: 301     21        C,E       3,NA
2: 302     21          E         NA
3: 303      5      H,E,G     8,NA,7
4: 304     10        H,D        8,4
5: 305      3          E         NA
6: 306      5          G          7
7: 307      6        B,C        2,3 
```

* * *

```
#--------------------------------------------------#
#           SAMPLE DATA                            #

library(data.table)
set.seed(101)

  rows <- size <- 7
  varyingLengths <- c(sample(1:3, rows, TRUE))
  A <-  lapply(varyingLengths, function(n) sample(LETTERS[1:8], n))
  counts <- round(abs(rnorm(size)*12))   
rec_data_table <- data.table(bid=300+(1:size), counts=counts, names_list=A, key="bid")

A_ids.DT <- data.table(name=LETTERS[c(1:4,6:8,10:11)], id=c(1:4,6:8,10:11), key="name") 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-01-18T06:09:09.570

也许打开列表，然后加入整个表，然后重新打包？

```
tmp <- setkey(rec_data_table[, list(names = names_list[[1]],
                                    orig.order = seq_along(names_list[[1]])),
                             by = list(bid, counts)], names)
tmp <- A_ids.DT[tmp]
setkey(tmp, orig.order)
tmp <- tmp[, list(names_list = list(name), A_IDs.list = list(id)),
           by = list(bid, counts)]

# Rearrange to sample output order
setkey(tmp, bid)
setcolorder(tmp, c("bid", "counts", "names_list", "A_IDs.list"))

### Output###
> tmp
#   bid counts names_list A_IDs.list
# 1: 301     21        C,E       3,NA
# 2: 302     21          E         NA
# 3: 303      5      H,E,G     8,NA,7
# 4: 304     10        H,D        8,4
# 5: 305      3          E         NA
# 6: 306      5          G          7
# 7: 307      6        B,C        2,3

> identical(tmp, rec_data_table[, A_IDs.list := sapply(names_list, function(n) c(A_ids.DT[n, id]$id))])
# [1] TRUE 
```

## 计时

我增加了行数`rec_data_table`并`1e5`获得了以下时间。

有问题的方法：

```
> system.time(rec_data_table[, A_IDs.list := sapply(names_list, function(n) c(A_ids.DT[n, id]$id))])
   user  system elapsed 
 196.89    0.04  197.81 
```

这里介绍的方法：

```
> system.time( {
+ tmp <- setkey(rec_data_ta .... [TRUNCATED] 
   user  system elapsed 
   0.95    0.00    0.95 
```

# html - 是否可以在 Chrome 中创建带有圆角的链接？

> ID：14393196
> 
> 赞同：1
> 
> 时间：2013-01-18T05:56:38.253
> 
> 标签：html, google-chrome, css, webkit

我似乎到处搜索，并尝试了多种方法，但找不到解决这个基本问题的方法。使链接适合圆角盒子内部而不会溢出。该示例在 Firefox 中运行良好，这让我更加困扰。

编辑：下面的路人做了这个很好的例子来更好地可视化问题：http: [//jsfiddle.net/wjpdd/7/](http://jsfiddle.net/wjpdd/7/)

我为这个问题找到的最佳解决方法是使用 javascript 使 div 可点击，并在 css 中设置 :hover 光标的样式。但如果有人有的话，我会喜欢一个不那么自私的选择

原始示例：

[http://jsfiddle.net/wjpdd/3/](http://jsfiddle.net/wjpdd/3/)

和html：

```
 <div class="circle">
      <a href="#" class="fill">
        <div class="circleoutline">
        </div>
      </a>
    </div> 
```

CSS：

```
.circle{
    width: 310px;
    height: 310px;
    border-radius: 155px;
    background-color: grey;
    top: 18px;
    left: 10px;
    overflow:hidden;
}

.fill{
    width: 100%;
    height: 100%;
    border-radius: 155px;
}

.circleoutline{
    position: relative;
    top:5.5px;
    left:5.5px;
    width: 295px;
    height: 295px;
    border-radius: 150px;
    -webkit-border-radius:150px;
    border: 2px solid blue;
} 
```

# ios - 水平滚动无限视图

> ID：14393199
> 
> 赞同：0
> 
> 时间：2013-01-18T05:56:54.473
> 
> 标签：ios, scrollview, slide, infinite

我正在创建一个新闻应用程序。要求就是这样。

1.  显示新闻的列表。用户可以拉取最新的新闻列表。
2.  当用户选择一条新闻时，它将导航到详细信息视图。
3.  在详细视图中。用户可以滑动手指导航到下一个或上一个新闻。

对于要求 1,2。有很多解决方案。这很简单。但是对于要求3。我觉得有点难。假设我们有一个包含 10 条新闻的列表。我选择第二条新闻以进入其详细视图。如果我从左向右滑动手指，它将导航到第一个新闻视图。当我再次从左向右滑动时。它应该访问该服务以查看是否有可用的最新消息。如果是，那么它应该浏览最新消息。

我想知道是否有任何第三方项目在做这个逻辑？任何意见表示赞赏！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-18T06:19:33.697

我不认为有任何特定的逻辑..您必须自己创建逻辑。

对于要求 1 和 2，您可以使用它来列出最新消息 -> [RevealViewController](http://www.cocoacontrols.com/platforms/ios/controls/swrevealviewcontroller)

对于需求 3，您需要添加手势识别器，如 swipeleft 和 swiperight。

这只是一个例子：

```
- (void)viewDidLoad
{
    [super viewDidLoad];

    UISwipeGestureRecognizer *swipeLeft = [[UISwipeGestureRecognizer alloc] initWithTarget:self action:@selector(tappedRightButton:)];
    [swipeLeft setDirection:UISwipeGestureRecognizerDirectionLeft];
    [self.view addGestureRecognizer:swipeLeft];

    UISwipeGestureRecognizer *swipeRight = [[UISwipeGestureRecognizer alloc] initWithTarget:self action:@selector(tappedLeftButton:)];
    [swipeRight setDirection:UISwipeGestureRecognizerDirectionRight];
    [self.view addGestureRecognizer:swipeRight];
}

- (IBAction)tappedRightButton:(id)sender
{
    NSUInteger selectedIndex = [rootVC.tabBarController selectedIndex];

    [rootVC.tabBarController setSelectedIndex:selectedIndex + 1];
} 

- (IBAction)tappedLeftButton:(id)sender
{
    NSUInteger selectedIndex = [rootVC.tabBarController selectedIndex];

    [rootVC.tabBarController setSelectedIndex:selectedIndex - 1]; 
} 
```

只需相应地修改 tappedRightButton 和 tappedLeftButton 的逻辑..希望这会有所帮助..

# php - 将mp3文件合并为一个，然后使用php保存在一个文件夹中

> ID：14393203
> 
> 赞同：3
> 
> 时间：2013-01-18T05:57:17.127
> 
> 标签：php, merge, save, mp3

我是 PHP 新手。我想将 mp3 文件合并到一个 mp3 文件中。我用谷歌搜索了这个查询并找到了这段代码。它工作正常，把合并的文件还给我。但是这段代码给了我合并的文件作为保存文件。但我想将合并的文件保存在一个文件夹中。这样我就可以将文件的 URL 提供给某个应用程序。

```
class mp3{
    var $str;
    var $time;
    var $frames;

    // Create a new mp3
    function mp3($path="")
    {
    if($path!="")
        {
        $this->str = file_get_contents($path);
        }
    }

    // Put an mp3 behind the first mp3
    function mergeBehind($mp3){
        $this->str .= $mp3->str;
    }

    // Calculate where's the end of the sound file
    function getIdvEnd(){
        $strlen = strlen($this->str);
        $str = substr($this->str,($strlen-128));
        $str1 = substr($str,0,3);
        if(strtolower($str1) == strtolower('TAG')){
            return $str;
        }else{
            return false;
        }
    }

    // Calculate where's the beginning of the sound file
    function getStart(){
        $strlen = strlen($this->str);
        for($i=0;$i<$strlen;$i++){
            $v = substr($this->str,$i,1);
            $value = ord($v);
            if($value == 255){
                return $i;
            }
        }
    }

    // Remove the ID3 tags
    function striptags(){
        //Remove start stuff...
        $newStr = '';
        $s = $start = $this->getStart();
        if($s===false){
            return false;
        }else{
            $this->str = substr($this->str,$start);
        }
        //Remove end tag stuff
        $end = $this->getIdvEnd();
        if($end!==false){
            $this->str = substr($this->str,0,(strlen($this->str)-129));
        }
    }

    // Display an error
    function error($msg){
        //Fatal error
        die('<strong>audio file error: </strong>'.$msg);
    }

     // Send the new mp3 to the browser
    function output($path){
        //Output mp3
        //Send to standard output
        if(ob_get_contents())
            $this->error('Some data has already been output, can\'t send mp3 file');
        if(php_sapi_name()!='cli'){
            //We send to a browser
            header('Content-Type: audio/mpeg3');
            if(headers_sent())
                $this->error('Some data has already been output to browser, can\'t send mp3 file');
            header('Content-Length: '.strlen($this->str));
            header('Content-Disposition: attachment; filename="'.$path.'"');
        }
    echo $this->str;
    return '';
    }
}

 // First File: (Google speech)
$mp3 = new mp3('1.mp3');
$mp3->striptags();

 //Second file
$second = new mp3("2.mp3");
$mp3->mergeBehind($second);
$mp3->striptags();

$mp3->output('word.mp3'); //Output file (current a blank file) 
```

解决方案代码将非常感谢..在此先感谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-18T06:49:47.283

将此方法添加到您的 mp3 类中。

```
// Save the new mp3 into the file system
function savefile($path){
    return file_put_contents($path, $this->str);
} 
```

然后简单地使用它......替换

```
$mp3->output('word.mp3'); //Output file (current a blank file) 
```

有了这个

```
$mp3->savefile('/path/to/directory/file.mp3'); 
```

并确保修改文件系统中真实目录的路径。

# android - 如何从一项活动中获取价值到另一项活动

> ID：14393204
> 
> 赞同：1
> 
> 时间：2013-01-18T05:57:18.047
> 
> 标签：android, string, android-intent, null

我想通过使用意图将一个 avtivity 的值传递给另一个 Activity。我没有得到我得到的值。我的 logcat 中没有错误。任何帮助将不胜感激。提前致谢。

> 第一项活动

```
 Intent intent = new Intent(Nexttopic.this, Quesans.class);
        String name = getIntent().getStringExtra("name");
        intent.putExtra("TopicName", tname);
        intent.putExtra("Topicid", topicid);
        intent.putExtra("LevelName",TAG_LEVELNAME);
        intent.putExtra("Levelid",TAG_LEVELID);
        intent.putExtra("Groupid",TAG_GROUPID);
 startActivity(intent); 
```

> 第二个活动

```
 Intent i=getIntent();
    name=i.getStringExtra(tname);
    tid=i.getStringExtra(topicid);
    lid=i.getStringExtra(TAG_LEVELID);
    gid=i.getStringExtra(TAG_GROUPID);
    System.out.println("Result :"+name);
    System.out.println("Result :"+tid);
    System.out.println("Result :"+lid);
    System.out.println("Result :"+gid); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-18T05:59:34.800

您需要在调用另一个活动时引用您设置的额外字段的名称。所以改变这个：

```
Intent i=getIntent();
name=i.getStringExtra(tname);
tid=i.getStringExtra(topicid);
lid=i.getStringExtra(TAG_LEVELID);
gid=i.getStringExtra(TAG_GROUPID);
System.out.println("Result :"+name);
System.out.println("Result :"+tid);
System.out.println("Result :"+lid);
System.out.println("Result :"+gid); 
```

对此：

```
Intent i=getIntent();
name=i.getStringExtra("TopicName");
tid=i.getStringExtra("Topicid");
lid=i.getStringExtra("Levelid");
gid=i.getStringExtra("Groupid");
System.out.println("Result :"+name);
System.out.println("Result :"+tid);
System.out.println("Result :"+lid);
System.out.println("Result :"+gid); 
```

希望能帮助到你。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-18T06:04:13.787

你应该这样做

**第二个活动**

```
Intent i=getIntent();
name=i.getStringExtra("TopicName"); 
```

每当您在第二个活动数据中获得结果时，按键访问而不是值。

像：

```
 name=i.getStringExtra("TopicName"); 
```

有关更多信息，请参阅[此链接](http://androidgenuine.com/?tag=pass-string-from-intent-to-another-intent)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-18T06:05:52.010

从 extra 中获取价值时，您`String name`应该与传入 putextra 相同。

路过时@

```
Intent intent = new Intent(Nexttopic.this, Quesans.class);
        String name = getIntent().getStringExtra("name");
        intent.putExtra("TopicName", tname);
        intent.putExtra("Topicid", topicid);
        intent.putExtra("LevelName",TAG_LEVELNAME);
        intent.putExtra("Levelid",TAG_LEVELID);
        intent.putExtra("Groupid",TAG_GROUPID);
 startActivity(intent); 
```

在获取@

```
 Intent i=getIntent();
     name=i.getStringExtra("TopicName");
     tid=i.getIntExtra("Topicid",0); 
     lid=i.getIntExtra("Levelid",0); 
     gid=i.getIntExtra("Groupid",0); 
     System.out.println("Result :"+name);
     System.out.println("Result :"+tid);
     System.out.println("Result :"+lid);
     System.out.println("Result :"+gid); 
```

> 我假设 tid,lid,gid 是整数。

[putExtras](http://developer.android.com/reference/android/content/Intent.html#putExtra%28java.lang.String,%20android.os.Bundle%29)

[获取附加（）](http://developer.android.com/reference/android/content/Intent.html#getExtras%28%29)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-18T06:05:21.477

在你的第二个活动中......像这样给予

在您的第一个活动中，将 tname 和 topicid 以及其他字符串设为公开，并在您的第二个活动中像这样使用它们

**第二个活动**

```
Intent i=getIntent();
name=i.getStringExtra(Nexttopic.tname);
tid=i.getStringExtra(Nexttopic.topicid); 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-01-18T06:07:59.237

第一个活动

```
 Intent i = new Intent(FirstActivity(),SecondActivity.class);
   i.putExtra("wid", wid);
   i.putExtra("rid", rid);
  startActivity(i); 
```

第二次活动

```
Bundle b = getActivity().getIntent().getExtras();
    wid = b.getString("wid");
    rid = b.getString("rid"); 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-01-18T06:19:17.270

从子意图获取值时，您的字符串名称应与传入父意图的名称相同。您可以传递字符串值，也可以通过意图传递类列表。还有另一种从哈希映射中获取值的方法是可用的。只是谷歌它。[https://stackoverflow.com/a/14393309/1697047](https://stackoverflow.com/a/14393309/1697047)是一种作文方式

# regex - 正则表达式：后缀验证器

> ID：14393205
> 
> 赞同：0
> 
> 时间：2013-01-18T05:57:24.993
> 
> 标签：regex

我需要一个可以像这样验证**用户输入**的正则表达式：

```
Jr. //Valid
Jr  //Valid
Junior //Valid
Jr.. // Invalid (1 or more periods)
.Jr // Invalid 
```

规则：字母数字字符，最后只允许 1 个句点。

所以像测试和测试这样的字符串。也应该是有效的。

谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-18T06:43:12.260

试试这个正则表达式。它匹配一个或多个字母数字字符，后跟一个可选的`.`.

```
^[A-Za-z0-9]+\.?$ 
```

如果要匹配包含任何字符`.`的序列，但后跟可选字符`.`，请使用

```
^[^.]+\.?$ 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-18T05:59:56.147

```
/\b(Jr\.?|Junior|\Sr.?|Senior)\b/ 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-18T06:00:00.213

你可以试试这个： `^(Jr\.?|Junior)$`

# sql - 在 oracle 中到达树 END

> ID：14393213
> 
> 赞同：0
> 
> 时间：2013-01-18T05:58:04.133
> 
> 标签：sql, plsql, oracle10g

我有一个要求......假设我们有三个表

```
1.A
primary key a_id

2.B
primary key b_id
foreign key a_id

3.C
primary key c_id
foreign key b_id 
```

这些表包含`10 records`每个。
**需要：**现在我想从每个表中删除一条特定记录。该记录将在作为 a_id（表 A 的主键）提供的值上删除。它将从 A 中删除，但我如何才能像它一样从 c 中删除它不包含 a_id，这是我们唯一知道的值。

那么怎么做...谁能告诉我不方法或任何东西。我需要从每个表中删除一个特定的记录。起点是a_id，这是我们唯一知道的。

我正在使用 oracle 10g，我不能使用任何 sys 表。这是一个要求，因为 dba 已授予管理员访问权限。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-18T08:37:23.067

您可以在**ON DELETE CASCADE** 选项的帮助下完成

看[这里](http://sqlfiddle.com/#!2/553c0/1/2)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-18T08:36:18.240

```
CREATE TABLE A (a_id NUMBER, CONSTRAINT a_pk PRIMARY KEY (a_id));

CREATE TABLE B
(
   b_id   NUMBER
  ,a_id
  ,CONSTRAINT b_pk PRIMARY KEY (b_id)
  ,CONSTRAINT b_fk FOREIGN KEY (a_id) REFERENCES A (a_id)
);

CREATE TABLE C
(
   C_id   NUMBER
  ,b_id
  ,CONSTRAINT c_pk PRIMARY KEY (c_id)
  ,CONSTRAINT c_fk FOREIGN KEY (b_id) REFERENCES B (b_id)
);

--creating dummy data
insert into A select level  from dual connect by level<11 ;
insert into B(b_id,a_id) select level+10,level from dual connect by level<11;
insert into C(c_id,b_id) select level+20,level+10 from dual connect by level<11;

CREATE OR REPLACE PROCEDURE delete_a(p_a_id IN a.id%TYPE)
IS 
 BEGIN
    --delete record from C first 
     DELETE FROM C WHERE b_id IN (SELECT b_id from B where a_id =p_a_id);
    --delete record from B 
     DELET FROM B WHERE a_id = p_a_id;
    --delete from the main table
     DELETE FROM C where a_id = p_a_id;
 COMMIT;
 EXCEPTION 
 WHEN OTHERS THEN 
 DBMS_OUTPUT.PUT_LINE('Error while delete the recods '||SQLERRM);
 ROLLBACK;
 END delete_a; 
```

注意：我没有测试过代码，但会使用这种方法

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-18T09:06:24.323

我使用表格脚本如下：

```
CREATE TABLE A (a_id NUMBER CONSTRAINT a_pk PRIMARY KEY,a_grade CHAR(1));
CREATE TABLE b
     (    b_id    NUMBER ,
          b_grade CHAR(1),
          CONSTRAINT b_pk PRIMARY KEY(b_id),
          CONSTRAINT b_fk FOREIGN KEY (b_id) REFERENCES A(a_id) 
          ON DELETE CASCADE );
CREATE TABLE c
     (    c_id    NUMBER,
          c_grade CHAR(1),
          CONSTRAINT c_pk PRIMARY KEY(c_id),
          CONSTRAINT c_fk FOREIGN KEY(c_id)
          REFERENCES b(b_id)
          ON DELETE CASCADE );

BEGIN
INSERT INTO A VALUES(1,'a');
INSERT INTO b VALUES(1,'b');
INSERT INTO c VALUES(1,'c');
end;

/*below is the query that you provide in the table a to delete */

DELETE FROM A WHERE a_id=1;-- all tables values are deleted (parent and childs)

SELECT * FROM A;
SELECT * FROM b;
SELECT * FROM c; 
```

希望这是你需要的。

# mysql - 使用正则表达式更新 SQL 语句

> ID：14393215
> 
> 赞同：0
> 
> 时间：2013-01-18T05:58:26.503
> 
> 标签：mysql, regex

我有 2 个表，一个命名图片和另一个命名媒体，在表中`pictures`我有`description`包含一些文本的字段，在表中`media`有`url`我想更新的行。我需要编写一个 sql 查询来更新表媒体中的行，该查询对表`url`中的特定字符串使用正则表达式，这可以通过一个 sql 查询来完成吗？`description``pictures`

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-18T06:26:36.930

您可以使用 REGEXP 搜索字符串，但不能返回结果。如果没关系，那么你可以尝试这样的事情：

如果你的桌子是这样的：

```
create table media(media_id int, url varchar(200));
create table pictures(pic_id int, media_id int, description text); 
```

你可以这样做：

```
UPDATE pictures p
LEFT JOIN media m 
ON p.media_id = m.media_id
SET url='http://newurl.com/pic.jpg'
WHERE REGEXP '.*regexpString$'; 
```

如果您只需要替换部分 URL，您可以尝试：

```
UPDATE pictures p
LEFT JOIN media m 
ON p.media_id = m.media_id
SET url=REPLACE(url, 'olddomain.com', 'newdomain.com')
WHERE REGEXP '.*regexpString$'; 
```

# ruby-on-rails - 更改 Rails 应用程序的平台（特定于平台的 gem）

> ID：14393216
> 
> 赞同：0
> 
> 时间：2013-01-18T05:58:27.773
> 
> 标签：ruby-on-rails, ruby, ruby-on-rails-3, rubygems, ruby-on-rails-2

我在windows机器中内置了rails应用程序，将应用程序更改为linux机器。我发现了一些特定的gem windows。我只需要知道linux是否也需要相同的东西？

```
ruby-1.8.6 rails-2.3.8 Database sqlserver(windows)
ruby-1.8.6 rails-2.3.8 Database Mysql(ubuntu) 
```

这是那些宝石。

```
win32-clipboard (0.4.1)
win32-dir (0.3.1)
win32-eventlog (0.4.3)
win32-file (0.5.3)
win32-file-stat (1.2.3)
win32-process (0.5.1)
win32-sapi (0.1.3)
win32-service (0.5.2)
win32-sound (0.4.0)
windows-pr (0.6.2) 
```

我需要你的建议。

谢谢

# clearcase - 如何在 cleartool update 命令中指定 -log 参数

> ID：14393219
> 
> 赞同：2
> 
> 时间：2013-01-18T05:58:47.117
> 
> 标签：clearcase, cleartool

我正在尝试自动更新我的 clearcase 视图并在 bat 文件中构建代码。我想运行更新命令，然后检查日志以验证其成功。为此，我想将更新日志保存在指定位置而不是默认位置

现在，cleartool 允许您在 cleartool 控制台中指定自己的日志文件

cleartool>update -log pname

但是当我使用与单个命令相同的命令时，它不起作用

D:> cleartool -log pname --------- 这不起作用

有任何想法吗？

谢谢 RB

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-18T06:26:24.820

你需要做（来自[`cleartool update`手册页](http://publib.boulder.ibm.com/infocenter/cchelp/v7r0m0/topic/com.ibm.rational.clearcase.cc_ref.doc/topics/ct_update.htm)）：

```
 cleartool update -log pname /path/to/root/view/directory 
```

外面的`cleartool update`景色是行不通的。带有根视图目录路径的 A 将起作用
。`cleartool update`

如果您指定该根目录，那么您可以`cleartool update`从任何路径执行命令，包括`D:\`.

```
pname ... 
```

> 如果不指定`–add_loadrules`，则此参数指定要更新的文件和目录。
> **所有指定的目录，包括快照视图的根目录，都会递归更新**。

# intellij-idea - 从 intellij 中的 jetty 运行项目，并将运行时信息输出到文件中

> ID：14393220
> 
> 赞同：0
> 
> 时间：2013-01-18T05:58:49.923
> 
> 标签：intellij-idea

我有以下场景：我在开发模式下运行我的应用程序并使用码头作为 Web 服务器。Maven 用于构建应用程序。是否可以将运行时日志输出到文件而不是在 IntelliJ 环境中？这不是在窗口中查看信息，红色箭头指向它我想在文件中显示它。

![在此处输入图像描述](../Images/4070d29f5656ed59d4cc1fdfae58741b.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-19T14:43:05.627

*您在Jetty Server 运行配置*中有一个*日志*选项卡，您可以在其中选择将控制台输出保存到文件中。

 *![在此处输入图像描述](../Images/d04211a133ff9b83f5fd582559ccb68a.png)*

# html - 这个 facebook like 按钮在 jsbin 中有效，但在我的网站上无效？

> ID：14393221
> 
> 赞同：-1
> 
> 时间：2013-01-18T05:59:09.380
> 
> 标签：html, facebook-like

在我的 jsbin 中看到它工作正常：

[http://jsbin.com/uhejis/1/edit](http://jsbin.com/uhejis/1/edit)

但我在三台计算机 xp、vista 和 7 上的本地 html 页面上尝试过它并没有什么问题？此代码在您的本地计算机上有效吗？

```
 <!DOCTYPE html PUBLIC 
"-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
    <html>
    <!-- This is all the Meta Imports and customs -->
     <head>
     <meta property="og:title" content="Albuquerque Auto Repair" />
    <meta property="og:type" content="company" />
    <meta property="og:url" content="http://www.albuquerqueautomotiveservices.com/" />
    <meta property="og:image" content="http://imageshack.us/photo/my-images/694/logovcm.jpg/" />
    <meta property="og:site_name" content="Federated Automotive" />
    <meta property="fb:admins" content="100005049606455" />     
   </head>
            <body>
  <div id="fb-root"></div>
    <script>(function(d, s, id) {
      var js, fjs = d.getElementsByTagName(s)[0];
      if (d.getElementById(id)) return;
      js = d.createElement(s); js.id = id;
      js.src = "//connect.facebook.net/en_US/all.js#xfbml=1";
      fjs.parentNode.insertBefore(js, fjs);
    }(document, 'script', 'facebook-jssdk'));</script>
 <p>hello world</p>
    <div class="fb-like" data-href="http://www.facebook.com/FederateAutomotive" 
data-send="true" data-layout="button_count" data-width="450" data-show-faces="false"></div>
     </body>
    </html> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-18T07:07:37.377

您需要将文件上传到远程或本地 Web 服务器（您可以使用[WAMP](http://www.wampserver.com/en/)运行本地 Web 服务器）才能正确调用脚本。如果您从本地计算机打开文件，您的浏览器将使用`file://`协议而不是`http://`在尝试调用脚本时，并且不会找到它们，因为您的浏览器正在本地计算机上查找它们。

为清楚起见，这是使用文件协议时 Chrome 控制台的[屏幕截图](http://i.imgur.com/FaWt5.png)。

# javascript - 自动调整高度 CSS

> ID：14393223
> 
> 赞同：2
> 
> 时间：2013-01-18T05:59:10.250
> 
> 标签：javascript, html, css

我有这样的html代码

```
<div id="wrapper">
  <div id="collapse"></div>
  <div id="content"></div>
</div> 
```

CSS代码

```
#wrapper {
  width:100%;
  height: 100%;
}
#collapse {
  width:100%;
  height: 30%;
}
#content {
  width:100%;
  height: 70%;
} 
```

我想问的是如何在#collapse 隐藏时使#content 高度适合#wrapper（假设有一个使#collapse 显示和隐藏的js 脚本）？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-18T06:13:53.130

试试这个：
HTML 代码：

```
<div id="main">
<div id="Example">Hello</div>
<button id="Toggle">Toggle</button>
<div id="body">This is Body!!!</div>
</div> 
```

JS代码：

```
$('#Toggle').on('click', function() {
    $('#Example').slideToggle({
        duration: 1000,
        easing: 'easeOutCubic'
    });
}); 
```

CSS 代码：

```
#Example {
    height: 100px;
    background: #cc0000;
}
#main{ height:500px;
background-color:yellow;}
#body{  height: 100%;
background-color:blue;} 
```

您可以删除按钮并自定义此代码。
看这个[演示](http://jsfiddle.net/talebihamid/XtUUe/6/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-18T06:28:53.070

你可以用 jQuery 做到这一点。

```
See the example 
[http://jsfiddle.net/atinder123/6hq8h/][1]

  [1]: http://jsfiddle.net/atinder123/6hq8h/ 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-18T06:42:28.710

在隐藏您添加的折叠元素的同一个 JS 中

```
document.getElementById('content').style.height = '100%'; 
```

当你再次显示崩溃时，当然反过来

# php - 使用 Composer 安装 mopa/composer-bridge 时出错

> ID：14393224
> 
> 赞同：0
> 
> 时间：2013-01-18T05:59:13.310
> 
> 标签：php, symfony, symfony-2.1, composer-php

我正在尝试使用 MopaBootstrapBundle 将 Twitter Bootstrap 与我的 Symfony2 项目集成，并且我正在使用 composer 来管理我的供应商库。

我遇到的最初问题是 mopa/bootstrap-bundle 需要 composer-bridge，所以我按照这里的说明进行操作[https://github.com/phiamo/MopaBootstrapBundle/issues/345](https://github.com/phiamo/MopaBootstrapBundle/issues/345)

但是我仍然在我的日志中收到以下消息

*   安装 mopa/composer-bridge (dev-master master) 克隆 master

    [RuntimeException] 无法通过 git、https 和 http 协议克隆[http://github.com/phiamo/mopacomposerbridge.git](http://github.com/phiamo/mopacomposerbridge.git)，正在中止。

*   git://github.com/phiamo/mopacomposerbridge.git
    致命：远程错误：找不到存储库。

*   [https://github.com/phiamo/mopacomposerbridge.git](https://github.com/phiamo/mopacomposerbridge.git)
    致命：身份验证失败

*   [http://github.com/phiamo/mopacomposerbridge.git](http://github.com/phiamo/mopacomposerbridge.git)
    致命：身份验证失败

我尝试将最低稳定性更改为 dev 没有成功，但是我可以通过浏览器访问文件但不能通过命令行访问文件，并且已经安装了其他软件包。

更新：下面的完整 composer.json

```
{
"name": "symfony/framework-standard-edition",
"description": "The \"Symfony Standard Edition\" distribution",
"autoload": {
    "psr-0": { "": "src/" }
},
"require": {
    "php": ">=5.3.3",
    "symfony/symfony": "2.1.*",
    "doctrine/orm": ">=2.2.3,<2.4-dev",
    "doctrine/doctrine-bundle": "1.0.*",
    "twig/extensions": "1.0.*@dev",
    "symfony/assetic-bundle": "2.1.*",
    "symfony/swiftmailer-bundle": "2.1.*",
    "symfony/monolog-bundle": "2.1.*",
    "sensio/distribution-bundle": "2.1.*",
    "sensio/framework-extra-bundle": "2.1.*",
    "sensio/generator-bundle": "2.1.*",
    "jms/security-extra-bundle": "1.2.*",
    "jms/di-extra-bundle": "1.1.*",
    "kriswallsmith/assetic": "1.1.*@dev",
    "twitter/bootstrap": "dev-master",
    "knplabs/knp-paginator-bundle": "dev-master",
    "knplabs/knp-menu-bundle": "*",
    "craue/formflow-bundle": "dev-master",
    "jlong/sass-twitter-bootstrap": "dev-master"
},
"repositories": [
            {
            "type": "package",
            "package": {
                "name": "mopa/composer-bridge",
                "version": "dev-master",
                "source": {
                    "url": "https://github.com/phiamo/mopacomposerbridge.git",
                    "type": "git",
                    "reference": "master"
                },
                "dist": {
                    "url": "https://github.com/phiamo/mopacomposerbridge/zipball/master",
                    "type": "zip"
                }
            }
        },
       {
           "type":"package",
           "package": {
               "version":"dev-master",
               "name":"jlong/sass-twitter-bootstrap",
               "source": {
                   "url":"https://github.com/jlong/sass-twitter-bootstrap.git",
                   "type":"git",
                   "reference":"master"
               },
               "dist": {
                   "url":"https://github.com/jlong/sass-twitter-bootstrap/archive/master",
                   "type":"zip"
               }
           }
       }
   ],
"scripts": {
    "post-install-cmd": [
        "Sensio\\Bundle\\DistributionBundle\\Composer\\ScriptHandler::buildBootstrap",
        "Sensio\\Bundle\\DistributionBundle\\Composer\\ScriptHandler::clearCache",
        "Sensio\\Bundle\\DistributionBundle\\Composer\\ScriptHandler::installAssets",
        "Sensio\\Bundle\\DistributionBundle\\Composer\\ScriptHandler::installRequirementsFile"
    ],
    "post-update-cmd": [
        "Sensio\\Bundle\\DistributionBundle\\Composer\\ScriptHandler::buildBootstrap",
        "Sensio\\Bundle\\DistributionBundle\\Composer\\ScriptHandler::clearCache",
        "Sensio\\Bundle\\DistributionBundle\\Composer\\ScriptHandler::installAssets",
        "Sensio\\Bundle\\DistributionBundle\\Composer\\ScriptHandler::installRequirementsFile"
    ]
},
"extra": {
    "symfony-app-dir": "app",
    "symfony-web-dir": "web"
} 
```

}

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-21T04:24:02.147

在与不同的组合进行了大约 6 到 8 个小时的战斗后，它突然就开始工作了，所以我怀疑这可能是由于从我的盒子连接到 Github 或类似的问题引起的，但它工作正常，没有任何问题

# c# - Fluent NHibernate - 忽略 1 个映射文件的主键约定

> ID：14393226
> 
> 赞同：0
> 
> 时间：2013-01-18T05:59:15.320
> 
> 标签：c#, nhibernate, fluent-nhibernate

我所有的表都有一个整数列作为 Id - 主键

除了一个

```
 instance.CustomType<int>();
        instance.GeneratedBy.Custom<global::NHibernate.Id.IdentityGenerator>();
        instance.UnsavedValue("0"); 
```

有没有办法忽略这个映射文件的主键约定？

```
 mapping.Id(a => a.Id, "RoleName").GeneratedBy.Assigned(); 
```

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-21T19:07:14.123

您可以覆盖它。虽然看起来您正在尝试混合使用 Fluent NH Automapping 和代码映射，但我不确定它在这种情况下是否有效。我会像这样覆盖它：

```
AutoMap.AssemblyOf<Role>().Override<Role>(map =>
{
    map.Id(x => x.Id, "RoleName")
        .CustomType<int>()
        .GeneratedBy.Identity()
        .UnsavedValue("0");
}); 
```

我的基本思想来自：[https ://github.com/jagregory/fluent-nhibernate/wiki/Auto-mapping](https://github.com/jagregory/fluent-nhibernate/wiki/Auto-mapping)

# java - 请解释 intern() 方法的功能

> ID：14393231
> 
> 赞同：4
> 
> 时间：2013-01-18T05:59:33.580
> 
> 标签：java

> **可能重复：**
> [我们什么时候应该使用String的intern方法？](https://stackoverflow.com/questions/1855170/when-should-we-use-intern-method-of-string)
> [什么是字符串实习？](https://stackoverflow.com/questions/10578984/what-is-string-interning)

请解释以下代码的内部工作原理：

```
System.out.println(new String("ABC").intern()==new String("ABC").intern()); 
```

在上面的代码中，它打印“true”。但是根据java规则，在new操作符的情况下，它总是会创建一个新对象。 `object.intern()`方法还在字符串池中创建一个对象。所以我的问题是，在上面的代码中创建了多少对象。

据我说，将创建 3 个新对象。一个进入字符串池，两个匿名对象将由 new 运算符创建。但我不确定。

如果我错了，请解释。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-18T07:11:38.333

假设优化器不聪明，创建了两个对象。（足够聪明的优化器可以将其优化为无条件的`true`，在这种情况下不会创建任何对象。）

**tl;dr 版本：**您对 3 的回答几乎是正确的，只是进入字符串池的字符串不是作为该语句的一部分生成的；它已经创建好了。

首先，让我们把`"ABC"`字面意思去掉。它在运行时表示为一个`String`对象，但它存在于 pergen 中并且在 JVM 的整个生命周期中被创建一次。如果这是第一个使用该字符串文字的类，则它是在类加载时创建的（请参阅[JLS 12.5](http://docs.oracle.com/javase/specs/jls/se7/html/jls-12.html#jls-12.5)，其中指出 String 是在加载类时创建的，除非它以前存在）。

因此，第一个`new String("ABC")`创建 one `String`，它只是将引用（但不创建新对象）[复制](http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/6-b14/java/lang/String.java#String.%3Cinit%3E%28java.lang.String%29)`"ABC"`到 chars 数组并从表示文字的 String 散列（同样，它不是作为该行的一部分创建的）。然后该`.intern()`方法查看是否已在 permgen 中存在相等的字符串。它是（它只是表示以文字开头的字符串），所以这就是该函数返回的内容。所以，`new String("ABC").intern() == "ABC"`。请参阅[JLS 3.10.5](http://docs.oracle.com/javase/specs/jls/se7/html/jls-3.html#jls-3.10.5)，特别是：

> 此外，字符串字面量总是引用 String 类的*同一个*实例。这是因为字符串字面量 - 或者更一般地说，作为常量表达式值的字符串（第 15.28 节） - 是“内部的”，以便使用 String.intern 方法共享唯一实例。

同样的事情发生在第二次出现`new String("ABC").intern()`. 而且，由于这两种`intern()`方法都返回与文字相同的对象`"ABC"`，因此它们表示相同的值。

稍微分解一下：

```
String a = new String("ABC"); // a != "ABC"
String aInterned = a.intern(); // aInterned == "ABC"

String b = new String("ABC"); // b != "ABC"
String bInterned = b.intern(); // bInterned == "ABC"

System.out.println(new String("ABC").intern()==new String("ABC").intern());
                                            // ... is equivalent to... 
System.out.println(aInterned == bInterned); // ...which is equivalent to...
System.out.println("ABC" == "ABC");         // ...which is always true. 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-18T06:02:32.370

当您调用`intern()`方法时，jvm 将检查给定的字符串是否存在，是否在字符串池中。如果它在那里，它将返回对它的引用，否则它将在池中创建一个新字符串并返回对它的引用。在你的情况下：`System.out.println(new String("ABC").intern()==new String("ABC").intern());`

第一个`new String("ABC").intern()`将在池中创建一个字符串“ABC”。当您`new String("ABC").intern()`第二次调用时，jvm 将返回对先前创建的字符串的引用。这就是您`true`在比较两者时得到的原因（btn 指向相同的引用）。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-18T06:29:27.347

我相信你是对的，因为`new`操作创建了一个新对象，所以有 2 个匿名对象，并且`intern()`只有在它还没有的情况下才在字符串池中创建一个新字符串并返回它的引用

# android - 从设备卸载应用程序后的 SQLite 数据库

> ID：14393235
> 
> 赞同：0
> 
> 时间：2013-01-18T05:59:52.990
> 
> 标签：android, sqlite

我有一个问题 。

我正在使用 SQLite 数据库，如果我从我的设备数据库中卸载该应用程序，它将在设备中，否则它将自动删除。

如果我再次安装相同的应用程序会发生什么。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-18T06:06:21.180

SQlite 数据库只是文件，它们被视为任何其他文件：它们（默认情况下）存储在应用程序的私有数据区域 ( `/data/data/$PACKAGENAME/databases`) 中。它们与应用程序私有数据区域中的所有其他内容一起被删除。

如果您愿意，可以在 SD 卡上创建数据库。当然，它们不会在卸载时被删除。

**编辑：**

[在此处](http://www.androidhive.info/2011/11/android-sqlite-database-tutorial/)查看此数据库相关示例

# javascript - MongoDB：将元素添加到内部 json 对象，而两个键值都存储在变量中

> ID：14393243
> 
> 赞同：1
> 
> 时间：2013-01-18T06:00:10.193
> 
> 标签：javascript, json, node.js, mongodb, nosql

我正在尝试使用 nodejs 本机驱动程序更新 mongo db 中的文档。

最初它是这样插入的：

```
matches {
    _id:2001,
    requester:"MITH",
    accepter:"NIKK",
    toss:"MITH",
    bat:"NIKK",
    scores:{"MITH":220},
    status:0,
    won:"MITH"
} 
```

现在我需要更新文档，我需要在其中插入一个新元素`"NIKK":198`到 score 对象以使其成为`scores:{"MITH":220,"NIKK":198}`

问题是关键只有一个变量。当我更新时它没有更新

下面是我正在尝试的代码

```
var _jsonMatch = {status:4};
var _scorepush = {}
_scorepush[variablevalue] = 198; // variablevalue in reference above is NIKK
var data = {"$set": _jsonMatch,"$push": {"scores":_scorepush} }
mith.findAndModify({_id:mith.db.bson_serializer.ObjectID.createFromHexString(matchId)},
        [],
        data,
        { upsert: true,new:true },
        function(error, match){ 
          if( error ) callback(error);
          else callback(null, match);
        }); 
```

**编辑**：

我尝试`$addToSet`了而不是`$push`在未定义数据的回调中收到以下错误。

> { [MongoError: Cannot apply $addToSet modifier to non-array] name: 'MongoError', lastErrorObject: { err: 'Cannot apply $addToSet modifier to non-array', code: 12591, n: 0, connectionId: 56, ok : 1 }, errmsg: 'Cannot apply $addToSet modifier to non-array', ok: 0 } undefined

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-19T03:54:26.853

您需要以编程方式构建`$set`对象以在设置的键中使用[点表示法](http://docs.mongodb.org/manual/core/document/#update-specification-documents)`'scores.NIKK'`。因此，要更新您在上面显示的文档：

```
variablevalue = 'NIKK';
var set = {
    status: 4
};
set['scores.' + variablevalue] = 198;
mith.findAndModify({_id: 2001},
    [],
    { $set: set },
    { upsert: true, new: true },
    function(error, match){
        if( error ) callback(error);
        else callback(null, match);
    }
); 
```

注意：这样做的尴尬是因为您正在使用需要在运行时构建的动态密钥。考虑重新设计您的架构，使其`scores`变成一个看起来像这样的数组：

```
scores: [{name: 'MITH', value: 220}, {name: 'NIKK', value: 198}] 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-18T06:27:48.580

我想你想要`$set`而不是`$push`：

```
var _jsonMatch = {status:4};
var _scorepush = {}
_scorepush[variablevalue] = 198; // variablevalue in reference above is NIKK
_jsonMatch["scores"] = _scorepush;
var data = {"$set": _jsonMatch };
mith.findAndModify({_id:mith.db.bson_serializer.ObjectID.createFromHexString(matchId)},
        [],
        data,
        { upsert: true,new:true },
        function(error, article){ 
          if( error ) callback(error);
          else callback(null, article);
        }); 
```

# sql - 将不同表中的两列合并为一列

> ID：14393245
> 
> 赞同：2
> 
> 时间：2013-01-18T06:00:36.370
> 
> 标签：sql, sql-server, sql-server-2008, tsql

我正在使用 SQL Server 2008。我有两个 sql 查询

```
select Course 
from StudentDB.dbo.Student 
where RollNo = 130 
```

和

```
select Course 
from StudentDB.dbo.Courses 
where Course is not null 
```

第一个查询将返回以下值

```
MSc 
```

第二个查询将返回

```
MCA
MSc
CSE
ECE
EEE 
```

我需要加入这些查询并想要这样的输出

```
MSc
MCA
CSE
ECE
EEE 
```

那就是将第二个查询的结果附加到第一个查询并删除重复值。

**请注意**，我需要结果顶部的第一个查询结果。这里的 Msc 是第一个值，因为它是第一个查询的结果。我试过联合。但它返回第二个查询本身的结果。所以这些查询的联合将无济于事。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-18T06:40:26.307

我不是 DISTINCT 的粉丝。根据 JW 的回答，这将为您提供不同的值列表，该列表首先使用 StudentDB.dbo.Student 中的值排序：

```
SELECT Course
FROM
(
    select Course, 1 ord from StudentDB.dbo.Student where RollNo = 130
    UNION
    select Course, 2 ord from StudentDB.dbo.Courses where Course is not null
) s
GROUP BY Course
ORDER BY min(ord) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-18T06:18:09.433

这可能是因为服务器中的默认排序规则是 SQL_Latin1_General_CP1_CI_AS，这意味着它不区分大小写 (CI)。

这使您的 Msc 与 MSC 相同。您需要将排序规则更改为不区分大小写的不同排序规则。

查看可能的排序规则：http: [//msdn.microsoft.com/en-us/library/ms144250 (v=sql.105).aspx](http://msdn.microsoft.com/en-us/library/ms144250(v=sql.105).aspx)

请参阅 COLLATE [http://blog.sqlauthority.com/2007/04/30/case-sensitive-sql-query-search/的用法](http://blog.sqlauthority.com/2007/04/30/case-sensitive-sql-query-search/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-18T06:28:45.850

只需在 SQL Server 中运行此脚本即可获得结果，也可以在存储过程中使用它。

```
SELECT Course,1 ord INTO #tmpTable FROM Student

INSERT #tmpTable
SELECT Course,2 ord FROM Courses WHERE Course IS NOT NULL 
AND Course NOT IN(SELECT Course FROM Student)

SELECT Course FROM #tmpTable ORDER BY ord

DROP TABLE #tmpTable 
```

# ruby-on-rails - 如何创建搜索引擎或修改现有搜索引擎以仅在网站内进行搜索？

> ID：14393246
> 
> 赞同：-4
> 
> 时间：2013-01-18T06:00:39.873
> 
> 标签：ruby-on-rails, ruby, search, search-engine

我在运行 Apache 服务器时使用 Ruby on Rails、HTML（当然）、CSS（当然）、JavaScript、Sqlite 3 和 Ajax 创建一个网站。

我想要一个搜索功能，只搜索网站上的内容：人物、地点、想法、主题等。

我将如何在我的网站上获得这样的功能，您会建议哪些搜索“程序”？

PS我已经知道谷歌搜索的东西。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-18T14:44:14.977

这个问题感觉你甚至都懒得自己去调查。

我猜你所有的内容都来自你的数据库？您必须将您的数据库与您的搜索引擎连接并搜索您的数据。

您可能应该搜索有关 SQLite 数据库的[教程。](http://www.if-not-true-then-false.com/2012/php-pdo-sqlite3-example/)

# javascript - 自动调整车身尺寸

> ID：14393247
> 
> 赞同：0
> 
> 时间：2013-01-18T06:00:40.710
> 
> 标签：javascript, html

我正在尝试使主体宽度根据站点中的框数自动调整大小。我也在尝试使这些框在水平滚动时都并排对齐。我在这里尝试过：http: [//flaming-prince.tumblr.com/](http://flaming-prince.tumblr.com/)有什么方法可以使用 java 脚本来做我想做的事情吗？或任何形式的html？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-18T06:45:23.910

从你的 body 标签中删除设置的宽度，并添加`white-space: nowrap`到`#posts`.

```
#posts {
  white-space: nowrap;
} 
```

这可以防止里面的内容`#posts`换行到下一行，除非有`<br>`标签。这适用于所有主要浏览器和 IE7+。

然后添加这个以防止`#posts`继承的孩子`nowrap`：

```
.post {
  white-space: normal;
} 
```

# c++ - 图形 .h 文件和 .cpp 文件我遇到很多错误

> ID：14393249
> 
> 赞同：0
> 
> 时间：2013-01-18T06:00:50.710
> 
> 标签：c++, graph

我有这个代码：

```
using namespace std;
struct nodeT;
struct arcT;

class Graph
{
public:

Graph(string xd);

    void addnode(string name,float xval,float yval);
    void addarc(string n1,string n2,float dist);
    void printarcs();
private:
    struct graphT
    {
        vector<nodeT *>nodes;
        vector<arcT * > arcs;
        map<string,nodeT * > nodemap;
    };
    struct nodeT{
        string nodename;
        float x,y;
        vector<arcT * > arcs;
    };
    struct arcT{
        nodeT * start;
        nodeT * finish;
        float distance;
    };
    void arcfinal(nodeT * a,nodeT * b, float len);
    graphT * g;
    //graphT *g=new graphT;
};

//#include "BST.cpp"

#endif

#include "Graph.h"

Graph::Graph(string xd)
{
g=new graphT;

}

void Graph::addnode(string name,float xval,float yval)
{
    //if(!nodemap[name])

    nodeT *t=new nodeT;
    t->nodename=name;
    t->x=xval;
    t->y=yval;

    g->nodes.push_back(t);
    g->nodemap[name]=t;

}

void Graph::addarc(string n1,string n2,float dist)
{
    nodeT * t1=g->nodemap[n1];
    nodeT * t2=g->nodemap[n2];

    arcfinal(t1,t2,dist);
    arcfinal(t2,t1,dist);

}

void Graph::arcfinal(nodeT * a,nodeT * b, float len)
{
    arcT * d=new arcT;
    d->start=a;
    d->finish=b;
    d->distance=len;

    g->arcs.push_back(d);
    a->arcs.push_back(d);
}

void Graph::printarcs()
{  
    for(arcT * curr=g->arcs.begin();curr != g->arcs.end();++curr)
    {
        cout<<curr->start->nodename<<"-----"<<curr->finish->nodename<<"----"<<curr->distance<<endl;
    }
}

//#endif 
```

我收到了这个错误：

> projects\graphsearch\graphsearch\graph.cpp(21) : 错误 C2664: 'std::vector<_Ty>::push_back' : 无法将参数 1 从 'Graph::nodeT *' 转换为 'nodeT *const &'.. ..

任何人都可以调试它吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-18T06:29:37.043

至少有三个错误。

第一个是`struct`s 可以嵌套，并且你有 and 的全局`nodeT`声明`arcT`。它们位于全局命名空间中，因此您正在制作 的向量`::nodeT*`，但真正的结构是`Graph::nodeT*`.

将声明从顶部移动到`private:`. 这是向前声明它们的正确方法。

第二个是`begin` ~~可能~~不返回一个`arcT*`，你应该使用`auto`。

第三个是`begin`返回元素的迭代器，因此您需要取消引用它以获取指针，然后再次取消引用它以获取成员，例如

```
cout << (*curr)->start->nodename << "-----" << (*curr)->finish->nodename << "----" << (*curr)->distance << endl; 
```

# .htaccess - 从 url 中删除“index.php”而不删除 .htaccess 中的参数

> ID：14393253
> 
> 赞同：1
> 
> 时间：2013-01-18T06:01:12.003
> 
> 标签：.htaccess, redirect, indexing, permanent

我有一个 url 重定向的条件，例如，

> www.domain.com/something/anotherthing/index.php

我需要上面的网址重定向到

> www.domain.com/something/anotherthing/

如果我去

> www.domain.com/index.php/something/anotherthing

我想重定向到

> www.domain.com/something/anotherthing

我有一个重定向 htaccess 规则

> RewriteCond %{THE_REQUEST} ^[AZ]{3,}\s(.*)/index.php$1 [NC]
> 
> 重写规则 ^ /%1$1 [R=301,L]

但这适用于第一个条件，但在后面它将我重定向到根页面。任何人都可以在此重定向中提供帮助。

提前致谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-18T08:53:09.223

尝试这样的事情：

```
RewriteBase /
RewriteCond %{THE_REQUEST} ^[A-Z]{3,}\s(.*)/index.php/?([^\ \?]*) [NC]
RewriteRule ^ %1/%2 [R=301,L] 
```

那应该处理`/index.php`.

# ruby-on-rails - 生日时通知他人

> ID：14393255
> 
> 赞同：1
> 
> 时间：2013-01-18T06:01:18.367
> 
> 标签：ruby-on-rails, ruby, ruby-on-rails-3, ruby-on-rails-3.1, ruby-on-rails-3.2

我想向不是今天生日的其他人发送通知邮件。我已经使用代码找出今天过生日的人......

控制器代码：

```
@people = Person.find(:all, :conditions => ["DAY(date) = ? AND MONTH(date) = ?", Date.today.day, Date.today.month]) 
```

现在，我如何修改它以获取生日人以外的人？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-18T06:05:18.893

`@people = Person.where('DAY(date) <> ? OR MONTH(date) <> ?', Date.today.day, Date.today.month)`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-18T18:24:44.820

当然应该是：

```
@people = Person.where('DAY(date) <> ? AND MONTH(date) <> ?', Date.today.day, Date.today.month) 
```

使用 OR 它将排除今天当天的其他月份和当前月份的其他日期的人。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2019-06-20T14:01:20.860

```
@people = Person.where("extract(month from date) != ? AND extract(day from date) != ?", Date.today.month, Date.today.day) 
```

# sphinx - 如何忽略狮身人面像搜索中的前导特殊字符？

> ID：14393259
> 
> 赞同：0
> 
> 时间：2013-01-18T06:01:47.950
> 
> 标签：sphinx, thinking-sphinx

例如，我们希望搜索词“Test”匹配结果中的单词“@Test”和“(Test)”。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-20T17:37:50.220

默认情况下它会这样做。除非您已将这些字符添加到配置中的 charset_table

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-18T10:43:51.917

您是否尝试在特殊字符之前使用转义字符反斜杠。
还要检查sphinx API 中是否有可用的**EscapeString函数。**

# couchbase - 存储桶内更改的异步客户端通知

> ID：14393264
> 
> 赞同：2
> 
> 时间：2013-01-18T06:02:20.053
> 
> 标签：couchbase

环境：C# Winforms，SDK 1.2

我是 Couchbase 的新手，所以我可能错过了一些东西。我想要实现的是当文档在被 XDCR 复制后更新时向客户端推送通知。我的用例如下：

*   两个集群（CL1、CL2），每个集群都有一个节点
*   两个客户端（K1，K2）使得 K1 连接到 CL1，K2 连接到 CL2
*   K1 对 DocA 进行了更改
*   DocA 通过 XDCR 从 CL1 --> CL2 复制
*   一旦 DocA 在 CL2 中，客户端 K2 就会收到通知

这是 Observe() 方法可以做的事情还是有另一种方法？使用 TAP 似乎是有风险的，因为它是一个可能会发生变化的内部 API。

--D

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-18T14:55:27.797

答案也发布到 Couchbase 论坛，但在这里复制... [http://www.couchbase.com/forums/thread/notify-client-change#comment-1008518](http://www.couchbase.com/forums/thread/notify-client-change#comment-1008518)

客户端不知道 XDCR 复制并且它没有任何挂钩到 XDCR 事件。所以不幸的是，客户端实例无法知道密钥已复制到其集群。

假设 K2 需要对已复制到 C2 的数据进行操作，一个（诚然未经测试的）替代方案是将 C2 复制到 ASP.NET 端点。在这种情况下，您可以使用我最近编写的 Nancy 端点 - [http://blog.couchbase.com/xdcr-aspnet-and-nancy](http://blog.couchbase.com/xdcr-aspnet-and-nancy)。

1.  K1 向 C1 写入密钥
2.  C1（通过 XDCR）将密钥发送给 C2
3.  C2（通过 XDCR）将密钥发送到 Nancy 端点
4.  K2 在 IReplicationHandler 子类中使用（有关详细信息，请参阅博客）

所以基本上，在 C1 XDCR 复制到 C2 之后，您从 C2 推送到您的应用程序，该应用程序将通过 Nancy 或通过将我的 Nancy 应用程序中的代码复制到您现有的 Web 应用程序来定义 XDCR 端点。端点主机并不重要，但 URI（例如 /pools）和 JSON 响应很重要。同样，这里的想法是您将 K2 应用程序视为第三个 XDCR 端点，但只有在 C2 从 C1 获取密钥之后才接收其密钥。

Observe 用于指定存储或删除密钥时的持久性要求。例如，您可以要求客户端认为存储操作成功当且仅当密钥被持久保存到其主节点并复制（在内存或磁盘中）到两个副本节点时。[http://www.couchbase.com/docs/couchbase-sdk-net-1.2/couchbase-sdk-net-st](http://www.couchbase.com/docs/couchbase-sdk-net-1.2/couchbase-sdk-net-st) ...

# c++ - 如何在进程的内存中搜索特定字符串？

> ID：14393267
> 
> 赞同：3
> 
> 时间：2013-01-18T06:02:26.720
> 
> 标签：c++, c, pointers, memory-address

我对基础知识很感兴趣。我不知道从哪里开始。我创建了这个测试程序：

```
#include <stdio.h>

int main()
{
    char* test = "TEST04560";
    getchar();
    printf("%s\n", test);
} 
```

目标是使用外部程序定位“TEST04560”的内存地址。我知道如何使用`ReadProcessMemory`，`WriteProcessMemory`但我不知道如何在程序的内存中搜索特定的字符串。非常感谢任何正确方向的提示。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-18T06:08:06.703

什么操作系统？大多数操作系统都有某种“调试”工具，允许您观察/修改其他进程（当然，如果您有权限）。

在 Linux 上，这是[`ptrace`](http://linux.die.net/man/2/ptrace).

在 Windows 上，有[`ReadProcessMemory`](http://msdn.microsoft.com/en-us/library/windows/desktop/ms680553.aspx), 和[朋友](http://msdn.microsoft.com/en-us/library/windows/desktop/ms679303.aspx)。

对于搜索任何类型的数据，有[`memcmp`](http://www.cplusplus.com/reference/cstring/memcmp/). 如果你知道如何使用`ReadProcessMemory`，你肯定对这个功能很熟悉。

# javascript - 传输图像动画jquery

> ID：14393270
> 
> 赞同：1
> 
> 时间：2013-01-18T06:02:35.270
> 
> 标签：javascript, jquery, jquery-ui

我有两个 div（parentDiv，childDiv）。ParentDiv 包含多个图像，因此当用户单击图像时，它应该将该图像复制到 childDiv 中（这可以使用 jQuery 克隆功能来实现），但我想为复制过程设置动画，例如飞行动画。我试过这个但是

```
var clonedImg = $("#img").clone().css("position", "absolute").css("opacity","0");
                $("#parent").append(clonedImg);
                clonedImg.animate({ 
                   opacity: 1,
                    top: '+=300'
                }, 5000, function () {
                    $("#child").append(clonedImg);
                }); 
```

[链接到小提琴](http://jsfiddle.net/VvCXr/)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-18T06:12:37.013

在执行动画之前，必须将克隆的元素添加到 DOM：

```
 $("#btnTransfer").click(function () {
            var clonedImg = $("#img").clone();
            $("#child").append(clonedImg);
            clonedImg.css("position", "relative").animate({ opacity: 0.25,
                top: '+=50'
            }, 5000, function () {
                clonedImg.css("opacity", "1");
            });
        }); 
```

演示：http: [//jsfiddle.net/VvCXr/6/](http://jsfiddle.net/VvCXr/6/)

# php - 如何修复错误“mysql_num_rows()：提供的参数不是第 27 和 35 行 register2.php 中的有效 MySQL 结果资源”

> ID：14393278
> 
> 赞同：0
> 
> 时间：2013-01-18T06:03:09.097
> 
> 标签：php

这是用户注册的我的 register.php 代码。当我点击我的“注册”提交按钮时，我得到了那些 sql 错误，我无法继续到我的标题位置是voting2.php ......请帮助。

```
<?php session_start(); ?>
<?php  
require('connect/connect.php');
if(isset($_POST['submit'])){
$password1=$_POST['password1'];
$password2=$_POST['password2'];

if ($password1 == $password2) {
    $studid = mysql_escape_string ($_POST['studid']);
    $password1= mysql_escape_string ($password1);
    $password2= mysql_escape_string ($password2);
    $fname= mysql_escape_string($_POST['fname']);
    $lname= mysql_escape_string ($_POST['lname']);
    $mname= mysql_escape_string ($_POST['mname']);
    $dob= mysql_escape_string ($_POST['dob']);
    $address= mysql_escape_string ($_POST['address']);
    $f_fname= mysql_escape_string($_POST['f_fname']);
    $f_lname= mysql_escape_string($_POST['f_lname']);
    $f_mname= mysql_escape_string($_POST['f_mname']);
    $m_fname= mysql_escape_string($_POST['m_fname']);
    $m_lname= mysql_escape_string($_POST['m_lname']);
    $m_mname= mysql_escape_string ($_POST['m_mname']);

    $sql1 = "SELECT * FROM `new_reg_student` WHERE `password` = '". $password1 ."' AND `studid` = '". $studid ."'";

            //this is my line 27 error
    if (mysql_num_rows ($sql1) == 1) {
        echo "Password & Student ID already exists.";
    exit();
    } 

    $sql3 = "INSERT INTO `new_reg_student` (`id`, `studid`, `password`, `fname`, `lname`, `mname`, `dob`, `address`, `f_fname`, `f_mname`, `f_lname`, `m_fname`, `m_mname`, `m_lname`) VALUES (NULL, '$studid', '$password1', '$fname', '$lname', '$mname', '$dob', '$address', '$f_fname', '$f_mname', '$f_lname', '$m_fname', '$m_mname', '$m_lname')" ;
    $result = mysql_query($sql3) or die (mysql_error()) ;

        //this is my line 35 error
        if(mysql_num_rows($result) > 0) {
    header("Location: voting2.php");
    exit();
    } else {
        echo " ";
        exit();
        }
    }
    else {
        echo " Sorry password do not match";
        exit(); 
        }
        }
    ?> 
```

这是我的 register.php 的正文内容

```
 <h2>Please Register Using The Form Below</h2>
<fieldset><legend><h1>Student Info</h1></legend>
<table>
<tr>
<td height="500">
<form id="regform" method="post" action="register2.php"> 
<ul>
<li><label>Student ID:</label><br />
    <div id="txtbox"><input type="text" id="" name="studid" readonly="readonly" value="<?php echo $_SESSION['username']; ?>" /></div>
        </li>
        <li><label>Password:</label><br />
        <div id="txtbox"><input type="password" id="password1" name="password1" /></div>
        </li>
        <li><label>Confirm Password:</label><br />
        <div id="txtbox"><input  type="password" id="password2" name="password2" /></div>
        </li>
        <li><label>Name:</label><br />
        <div id="txtbox"><input value="Fist Name" type="text" name="fname"/> - <input value="Middle Name"  type="text" name="mname"/> - <input value="Last Name" type="text" name="lname"/></div>
        </li>
        <li><label>Date of Birth:</label><br />
        <div id="txtbox"><input  type="text" name="dob" value="Year-Month-Day" /> - ex. 2013-12-01</div>
        </li>   
        </li><li><label>Address:</label><br />
        <div id="txtbox">
          <input  type="text" name="address" />
        </div>
        </li>
        <li><label>Your Father's Name:</label><br />
        <div id="txtbox"><input value="Fist Name" type="text" name="f_fname"/> - <input value="Middle Name"  type="text" name="f_mname"/> - <input value="Last Name" type="text" name="f_lname"/></div>
        </li>

        <li><label>Your Mother's Name:</label><br />
        <div id="txtbox"><input value="Fist Name" type="text" name="m_fname"/> - <input value="Middle Name"  type="text" name="m_mname"/> - <input value="Last Name" type="text" name="m_lname"/></div>
        </li>
    </ul>
    <p id="wa"><input type="submit" id="submit" value="Register" name="submit"/></p>
    </form> 
    </table>
    <p id="helper"></p>
    </td></fielset> 
    </div> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-18T06:05:25.257

改变

```
 $sql1 = "SELECT * FROM `new_reg_student` 
          WHERE `password` = '". $password1 ."'
          AND `studid` = '". $studid ."'"; 
```

至

```
 $sql1 = mysql_query("SELECT * FROM `new_reg_student`
         WHERE `password` = '". $password1 ."'
         AND `studid` = '". $studid ."'"); 
```

在旁注中，请停止使用`mysql_*`函数。更多信息[**在这里**](https://stackoverflow.com/questions/12859942/why-shouldnt-i-use-mysql-functions-in-php)

关于第 35 行的错误，**`mysql_num_rows()`**用于**`SELECT`**语句。对于**`INSERT`**OR **`UPDATE`**OR**`DELETE`**语句，使用**`mysql_affected_rows()`**

# reflection - 使用 sml 反射树

> ID：14393279
> 
> 赞同：0
> 
> 时间：2013-01-18T06:03:12.027
> 
> 标签：reflection, tree, functional-programming, sml

类型应该是 mobile->mobile

在哪里

数据类型 mobile = int 的对象 | 手机线*手机

代码给了我错误构造函数和参数不同意模式和运算符和操作数不同意

```
fun reflect  (Object v) = Object v
   | reflect (Wire(x,t1,t2)) = Wire(x,reflect t2,reflect t1); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-18T08:09:11.187

错误消息非常具有指示性。`Wire`构造函数有 2 个参数，而您为`Wire`in`reflect`函数提供 3 个参数。

修正版：

```
fun reflect (Object v) = Object v
  | reflect (Wire(t1,t2)) = Wire(reflect t2,reflect t1) 
```

# python - 如何在 django 中使用爆炸？

> ID：14393281
> 
> 赞同：-1
> 
> 时间：2013-01-18T06:03:28.410
> 
> 标签：python, django, django-templates, mezzanine

嗨，我在**django中有一个****变量**，其中包含一个类似于**((u'rahul',),(u'sdfsd',)(u'fsdfdsf',))***我***想**从每个... 。 我怎样才能做到这一点 ？

 ** * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-18T06:15:32.347

```
tuple(tuple(__.encode() for __ in _) for  _ in f) 
```

像这样的元组`((u'rahul'), (u'sdfsd'), (u'fsdfdsf'))`

将导致`(('rahul',), ('sdfsd',), ('fsdfdsf',))`.

`encode`可以接受不同的编码，如“utf-8”、“ascii”。默认编码是`utf-8`. 处理错误的默认方法是引发`UnicodeEncodeError`. 您可以指定“忽略”`ignore`错误。

帮助`encode`显示：

> encode(...) S.encode([encoding[,errors]]) -> 字符串或 unicode
> 
> ```
> Encodes S using the codec registered for encoding. encoding defaults
> to the default encoding. errors may be given to set a different error
> handling scheme. Default is 'strict' meaning that encoding errors raise
> a UnicodeEncodeError. ... 
> ```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-18T06:17:02.000

U 表示 Unicode，如果你想删除 u

尝试这个

```
>>>(u'rahul').encode('utf8')
>>> rahul 
```*

# java - 空闲期后 Thrift 客户端/服务器的不稳定响应时间

> ID：14393282
> 
> 赞同：1
> 
> 时间：2013-01-18T06:03:32.667
> 
> 标签：java, sockets, thrift

我编写了一个简单的 Thrift 客户端和服务器来测试服务。我正在使用我能找到的最简单的客户端......

```
TSocket socket = new TSocket(<host here>, 8002);
TProtocol proto = new TBinaryProtocol(socket);
Facade.Client client = new Facade.Client(proto);
socket.open();
... 
```

...和最简单的服务器...

```
Facade.Iface implementation = facadeContext.getBean(Facade.Iface.class);
Facade.Processor processor = new Facade.Processor(implementation);
TServerTransport transport = facadeContext.getBean(TServerSocket.class);  
final TServer thriftServer = new TSimpleServer(new Args(transport).processor(processor));
thriftServer.serve();
... 
```

（此外，环境中的所有内容都是 Thrift 0.6.1。）

当我向这个客户端发送几百个请求时，响应时间稳定在 2 毫秒左右，这在我的上下文中很好。但是，如果我继续发出请求，但在它们之间稍作延迟，比如说 5 秒，这些时间会飙升至 4-6 毫秒。

我玩过 Socket keep-alive 属性和其他一些东西，但是有一些我似乎无法量化的开销。有没有其他人看到这个？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-22T22:06:53.553

我使用普通的 java.io.Socket 编写了一个简单的 TCP 服务器，我认为我在上面看到的与 Thrift 无关。我认为我观察到的轻微延迟与以下事实有关：请求的爆发会缓冲来自服务器上这些请求的输入，而间歇性请求并没有获得这种好处。具体来说，在下面的代码中......

```
public class SocketServerTest {
    public static void main(String[] args) throws Exception {
        try (ServerSocket serverSocket = new ServerSocket(8002)) {
            Socket socket = serverSocket.accept();
            PrintWriter out = new PrintWriter(socket.getOutputStream(), true);
            BufferedReader in = new BufferedReader(new InputStreamReader(socket.getInputStream()));

            String inputLine = null;

            while ((inputLine = in.readLine()) != null) {
                if (inputLine.equals("ping")) { out.println("pong"); }
            }

            out.close();
            in.close();
            socket.close();
        }
    }
} 
```

...in.readLine() 在缓冲请求数据时不会阻塞。

现在，仅此一项并不能说明 2 毫秒的延迟，但有几个地方发生了上述序列，所以它加起来了。

# sql - 根据此表和另一个表中的行值删除一个表中的行

> ID：14393285
> 
> 赞同：7
> 
> 时间：2013-01-18T06:04:00.127
> 
> 标签：sql, sql-server, tsql, sql-delete

似乎有几个这样的问题，但没有一个完全相同，所以这里是：

我需要找到一种方法来删除一个表中的一行，其中另一个表中的一行有两个字段等于原始表中的两个字段。（在以下示例中，这将显示为：我需要找到一种方法来删除 @All 中具有 @All.Stall = @Grouped.Stall 和 @All.Fruit = @Grouped.Fruit 的行）

例如：

@All：要删除行的表：

```
Stall       Fruit
-------------------
John        Apples
John        Pears
John        Pineapple
Mary        Apples
Mary        Apples
Mary        Pears
Mary        Pineapple 
```

@Grouped：获取要从中删除的行的表：

```
Stall       Fruit
-------------------
Mary        Apples 
```

结果表应如下所示：

```
Stall       Fruit
-------------------
John        Apples
John        Pears
John        Pineapple
Mary        Pears
Mary        Pineapple 
```

请注意，两行包含：**Mary | 苹果**没了。

对于我的生活，我无法弄清楚如何做到这一点，只能让它删除所有包含 Apples 的三行而不留下一个**John | 苹果**。

如果有人能够提供帮助，以下是创建两个临时表的查询：

@All - 删除行的表

@Grouped - 包含要查找以从 @All 中删除的字段的表

```
DECLARE @All TABLE(
    Stall varchar(10),
    Fruit varchar(10),
    StallFruitID int
)

DECLARE @Grouped TABLE(
    Stall varchar(10),
    Fruit varchar(10)
)

INSERT INTO @All (Stall,Fruit,StallFruitID) VALUES('John','Apples',1)
INSERT INTO @All (Stall,Fruit,StallFruitID) VALUES('John','Pears',1)
INSERT INTO @All (Stall,Fruit,StallFruitID) VALUES('John','Pineapple',1)
INSERT INTO @All (Stall,Fruit,StallFruitID) VALUES('Mary','Apples',1)
INSERT INTO @All (Stall,Fruit,StallFruitID) VALUES('Mary','Apples',2)
INSERT INTO @All (Stall,Fruit,StallFruitID) VALUES('Mary','Pears',1)
INSERT INTO @All (Stall,Fruit,StallFruitID) VALUES('Mary','Pineapple',1)

INSERT INTO @Grouped (Stall,Fruit) VALUES('Mary','Apples') 
```

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2013-01-18T06:07:37.267

```
DELETE  a
FROM    table1 a
        INNER JOIN table2 b
            ON  a.Stall = b.Stall AND
                a.Fruit = b.Fruit 
```

*   [SQLFiddle 演示](http://www.sqlfiddle.com/#!3/c1507/1)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-18T06:17:42.710

试试这个

```
DELETE FROM @All WHERE Stall="Mary" AND Fruit="apples"; 
```

# grails - 获取 Grails 域中的属性标签

> ID：14393292
> 
> 赞同：0
> 
> 时间：2013-01-18T06:04:51.730
> 
> 标签：grails, properties, field

如何从 messages.properties 中获取域的标签属性。例如，我有一个域如下

```
class Books{
    String name
    String author
    String description
    String rating
} 
```

在 message.properties 我有以下内容

```
Books.name.label=Title
Books.author.label=Author
Books.description.label=Description
Books.rating.label=Rating 
```

所以我可以做类似的事情

```
def fieldName = Books.name.label 
```

并获得“标题”？有没有办法做到这一点？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-18T12:34:56.660

如果您在 Controller 或 Service 中，则可以注入 bean

```
 def messageSource 
```

然后你可以打电话：

```
 messageSource.getMessage(code, args, defaultMsg, locale) 
```

# performance - 从 Perl 中的文本文件读取时跳过标题的最佳方法是什么？

> ID：14393295
> 
> 赞同：9
> 
> 时间：2013-01-18T06:05:08.877
> 
> 标签：performance, perl, input, io, conditional

我从 Perl 中的制表符描述的文件中抓取了几列。该文件的第一行与其他行完全不同，所以我想尽可能快速有效地跳过该行。

这就是我到目前为止所拥有的。

```
my $firstLine = 1;

while (<INFILE>){
    if($firstLine){
        $firstLine = 0;
    }
    else{
        my @columns = split (/\t+/);
        print OUTFILE "$columns[0]\t\t$columns[1]\t$columns[2]\t$columns[3]\t$columns[11]\t$columns[12]\t$columns[15]\t$columns[20]\t$columns[21]\n";
    }
} 
```

有没有更好的方法来做到这一点，也许没有 $firstLine？或者有没有办法直接从第 2 行开始读取 INFILE？

提前致谢！

* * *

## 回答 #1

> 赞同：29
> 
> 时间：2013-01-18T20:33:58.333

让我们得到一些这方面的数据。我对每个人的技术进行了基准测试...

```
#!/usr/bin/env perl

sub flag_in_loop {
    my $file = shift;

    open my $fh, $file;

    my $first = 1;
    while(<$fh>) {
        if( $first ) {
            $first = 0;
        }
        else {
            my $line = $_;
        }
    }

    return;
}

sub strip_before_loop {
    my $file = shift;

    open my $fh, $file;

    my $header = <$fh>;
    while(<$fh>) {
        my $line = $_;
    }

    return;
}

sub line_number_in_loop {
    my $file = shift;

    open my $fh, $file;

    while(<$fh>) {
        next if $. < 2;

        my $line = $_;
    }

    return;
}

sub inc_in_loop {
    my $file = shift;

    open my $fh, $file;

    my $first;
    while(<$fh>) {
        $first++ or next;

        my $line = $_;
    }

    return;
}

sub slurp_to_array {
    my $file = shift;

    open my $fh, $file;

    my @array = <$fh>;
    shift @array;

    return;
}

my $Test_File = "/usr/share/dict/words";
print `wc $Test_File`;

use Benchmark;

timethese shift || -10, {
    flag_in_loop        => sub { flag_in_loop($Test_File); },
    strip_before_loop   => sub { strip_before_loop($Test_File); },
    line_number_in_loop => sub { line_number_in_loop($Test_File); },
    inc_in_loop         => sub { inc_in_loop($Test_File); },
    slurp_to_array      => sub { slurp_to_array($Test_File); },
}; 
```

由于这是 I/O，它可能会受到 Benchmark.pm 无法调整的力量的影响，所以我运行了几次并检查我得到了相同的结果。

`/usr/share/dict/words`是一个 2.4 兆的文件，大约有 240k 非常短的行。由于我们不处理线条，因此线条长度无关紧要。

我在每个例程中只做了少量的工作来强调技术之间的差异。我想做*一些*工作，以便通过更改读取文件的方式来确定您将获得或失去多少性能的现实上限。

我在带有 SSD 的笔记本电脑上执行此操作，但它仍然是笔记本电脑。随着 I/O 速度的提高，CPU 时间变得更加重要。在具有快速 I/O 的机器上，技术更为重要。

这是每个例程每秒读取文件的次数。

```
slurp_to_array:       4.5/s
line_number_in_loop: 13.0/s
inc_in_loop:         15.5/s
flag_in_loop:        15.8/s
strip_before_loop:   19.9/s 
```

我很震惊地发现它`my @array = <$fh>`是最慢的。考虑到所有工作都在 perl 解释器中进行，我会认为这将是最快的。然而，它是唯一一个分配内存来保存所有行的，这可能是性能滞后的原因。

使用`$.`是另一个惊喜。也许这就是访问魔法全局的成本，或者可能是进行数字比较。

而且，正如算法分析所预测的那样，将标头检查代码放在循环之外是最快的。但不是很多。如果您使用接下来的两个最快，可能还不足以担心。

* * *

## 回答 #2

> 赞同：21
> 
> 时间：2013-01-18T06:12:40.093

您可以第一次为其分配一个虚拟变量：

```
#!/usr/bin/perl
use strict;
use warnings;

open my $fh, '<','a.txt' or die $!;

my $dummy=<$fh>;   #First line is read here
while(<$fh>){
        print ;
}
close($fh); 
```

* * *

## 回答 #3

> 赞同：8
> 
> 时间：2013-01-18T09:13:22.907

我总是使用`$.`（当前行号）来实现这一点：

```
#!/usr/bin/perl
use strict;
use warnings;

open my $fh, '<', 'myfile.txt' or die "$!\n";

while (<$fh>) {
    next if $. < 2; # Skip first line

    # Do stuff with subsequent lines
} 
```

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2013-01-18T06:46:17.933

您可以在文件句柄中读取文件，然后可以使用数组或 while 循环遍历行。对于 while 循环，@Guru 为您提供解决方案。对于数组，如下所示：

```
#!/usr/bin/perl
use strict;
use warnings;

open (my $fh, '<','a.txt')  or die "cant open the file: $! \n";
my @array = <$fh>;

my $dummy = shift (@array);   << this is where the headers are stored.

foreach (@array)
{
   print $_."\n";
}
close ($fh); 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-01-18T10:25:14.660

您的代码在这种形式下可能会更优雅：

```
my $first;
while (...) {
    $first++ or next; 

    # do whatever you want
}; 
```

但它仍然很好。@Guru 的答案在 CPU 周期方面更好，但 i/o 通常比单个 if 消耗更多数量级。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2017-05-04T21:43:08.737

我有一个类似的问题/问题。我的解决方案如下 - 对于解压缩或 gzip 压缩的文件：

```
print STDERR "\nReading input file...\n";
if ($file =~ /.gz$/) {
    open(IN, "gunzip -c $file | grep -v '##' |") or die " *** ERROR ***     Cannot open pipe to [ $file ]!\n";
    } else {
        open(IN, "cat $file | grep -v '##' |") or die " *** ERROR ***     Cannot open [ $file ]!\n";
} 
```

我不知道基准测试，但它对我来说很好。

最好的，

桑德

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2018-04-17T19:30:28.180

对我来说，使用 splice 似乎是最简单、最干净的方法：

```
open FILE, "<$ARGV[0]";
my @file = <FILE>;
splice(@file, 0, 1); 
```

完毕。现在你的 @file 数组不再有第一行了。

# java - 在 toString 中打印对象值

> ID：14393296
> 
> 赞同：0
> 
> 时间：2013-01-18T06:05:09.243
> 
> 标签：java

我想重写 toString() 方法以显示用户名，但 Name 是 User 类的内部类，所以我该如何打印它。

```
public class User
{
    public static class Name 
    {
        private String _first, _last;

        public String getFirst() { return _first; }
        public String getLast() { return _last; }

        public void setFirst(String s) { _first = s; }
        public void setLast(String s) { _last = s; }
    }
    private Name _name;
    public Name getName() { return _name; }
    public void setName(Name n) { _name = n; }

    @Override
    public String toString()
    {
        return "";//How to print first name and last name here
    }
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-18T06:10:02.113

像这样试试

```
@Override
    public String toString() {
        return _name.getFirst()+_name.getLast();
    } 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-18T06:12:19.280

怎么样

```
public String toString()
{
    Name name = getName();
    return name.getFirst() + " " + name.getLast();
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-18T06:13:24.287

尝试这个：

```
@Override
public String toString()
{
    String a = getName()._first;
    String b = getName()._last;
    return "a: " + a + " :: b: " + b;//How to print first name and last name here
} 
```

* * *

```
User user = new User();
User.Name name = new User.Name();
name.setFirst("first name");
name.setLast("last name");
user.setName(name);
System.out.println(user); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-18T06:13:49.713

例如，如果您想返回，`John Deer`可以尝试以下代码：

```
@Override
    public String toString()
    {
        return _name.getFirst().concat(" ").concat(_name.getLast());
    } 
```

[concat(string str)](http://docs.oracle.com/javase/1.4.2/docs/api/java/lang/String.html#concat%28java.lang.String%29)将字符串附加`str`到调用它的 String 对象的末尾。您可以在链接上阅读更多相关信息。

上面提供的代码段将从 读取`First Name`，`_name`在其后附加一个空格，然后将 附加`Last name`到最终字符串上。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-01-18T06:25:25.293

```
@Override
    public String toString()
    {
        return _name.getFirst() + " " + _name.getLast();
    } 
```

像这样打电话。

```
public class MyMain {
    public static void main(String[] args) {
        User.Name name = new Name();
        name.setFirst("Clement");
        name.setLast("Alexandria");
        User user = new User();
        user.setName(name);
        System.out.println(user);
    }
} 
```

# java - 在 Java/Android 中解析 JSON 数组时出错

> ID：14393297
> 
> 赞同：-1
> 
> 时间：2013-01-18T06:05:16.393
> 
> 标签：java, android, json

我最近在我的服务器上设置了一个 php 页面，该页面贯穿我的数据库并将其输出到页面上。

```
JSONObject json = JSONfunctions.getJSONfromURL("http://abc.com/getjson.php");

        try{

            JSONArray  myArray = json.getJSONArray("date");

            for(int i=0;i<myArray.length();i++){                        
                HashMap<String, String> map = new HashMap<String, String>();    
                JSONObject e = myArray.getJSONObject(i);

                map.put("id",  String.valueOf(i));
                map.put("date", "date name:" + e.getString("date"));
                map.put("activity", "activity: " +  e.getString("activity"));
                mylist.add(map);            
            } 
```

[http://abc.com/getjson.php](http://abc.com/getjson.php)输出：

```
[{"date":"2012-04-23","activity":"gym"},{"date":"2012-04-24","activity":"walkin‌​g"}] 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-18T06:08:03.160

解析 json 字符串以获取日期：

```
JSONArray  myArray=JSONfunctions.getJSONfromURL("http://abc.com/getjson.php");

for(int i=0;i<myArray.length();i++){

JSONObject  myobj = myArray.getJSONObject(i);

 // get date here
  String strdate=myobj.getString("date");

 // get activity here
  String stractivity=myobj.getString("activity");
} 
```

因为当前的 json 字符串结构是`JSONArray -> JSONObject -> key-value`.

**编辑：**您需要将`getJSONfromURL`方法的返回类型更改为，`JSONArray`而不是`JSONObject`因为您从服务器获取 JSONArray 作为根元素而不是 JSONObject

# html - ttf 文件无法在 Chrome 和 Firefox 上呈现

> ID：14393302
> 
> 赞同：2
> 
> 时间：2013-01-18T06:05:24.477
> 
> 标签：html, css, google-chrome, firefox, font-face

我一直在尝试获取在 Chrome 和 Firefox 中呈现的 ttf 文件，但它似乎不起作用。渲染 .woff 文件时工作正常。

我从下载集合`http://www.google.com/webfonts#UsePlace:use/Collection:Philosopher`，然后将其重命名`Philosopher-Regular.ttf`为`fancyfont.ttf`，然后尝试：

```
@font-face {
    font-family: 'Fancyfont';
    src: url('fonts/fancyfont.ttf') format('truetype');
    font-weight: normal;
    font-style: normal;

} 
```

但是字体似乎并没有添加到网页上。但是，如果我将 woff 文件重命名为 fancyfont.woff 并尝试：

```
@font-face {
    font-family: 'Fancyfont';
    src: url('fonts/fancyfont.woff') format('woff');
    font-weight: normal;
    font-style: normal;

} 
```

那么这一切都适用于 Chrome 和 Firefox。

我已经看到将 ttf 文件呈现到浏览器上，对此问题的任何解决方案？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-18T06:28:36.910

不要从 Google Font API 网站下载 TTF。它不适合您下载字体。相反，您链接到一个样式表，其中包含`@font-face`您要使用的字体的定义。

```
<link href='http://fonts.googleapis.com/css?family=Philosopher' rel='stylesheet' type='text/css'> 
```

`<link>`（如果您想要多种字体，请不要包含多个s；相反，使用该[工具](http://www.google.com/webfonts)将您页面中所需的所有字体添加到一个集合中，它会生成相应的`<link>`标签。）

让 Google 托管字体就像为 jQuery 使用著名的 CDN：很有可能您的大部分用户甚至在访问您的网站之前就已经缓存了字体（因为他们可能浏览过其他使用相同字体的网站）。

请注意，您从 API 链接到的 CSS 实际上是由 Google 服务器为每个单独的请求**生成的，并根据用户的浏览器对其进行定制。**根据用户代理，选择最合适的格式（WOFF、EOT、TTF 等），并且仅在样式表中列出这些格式。

因为像 WOFF 这样的格式在大小方面比 TTF 更有效，所以大多数浏览器永远不会看到 TTF 版本。不过不用担心——您的字体*将*在所有浏览器中正确呈现。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2017-08-19T11:23:47.490

我在 Chrome 中渲染 TTF 字体时遇到了一些问题。将其转换为 Woff 即可解决。有一些很好的在线服务。您可以轻松找到它们。另外，我的字体变小了：29 Ko 到 6 Ko，我看不到使用 TTF 的理由

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2013-01-18T06:48:42.580

实际上问题是TTF文件不能被重命名或者它们不应该被重命名。正如我所做的那样，它们没有被浏览器呈现。虽然 WOFF 的重命名很好，因为它们是压缩文件。

当我使用`Philosopher-Regular.ttf`字体时，问题肯定是重命名为：

```
@font-face {
    font-family: 'Fancyfont';
    src: url('fonts/Philosopher-Regular.ttf') format('truetype');
    font-weight: normal;
    font-style: normal;

} 
```

它工作得很好。

# css - 仅使用 CSS 将 True/False 转换为 Tick/Cross 图像

> ID：14393307
> 
> 赞同：1
> 
> 时间：2013-01-18T06:05:44.257
> 
> 标签：css

我有一些从 JSON 读取并写入表的数据。

目前看起来如下。

```
<table>
<tr><td>Feature 1</td><td>true</td><td>false</td></tr>
<tr><td>Feature 2</td><td>false</td><td>false</td></tr>
<tr><td>Feature 3</td><td>true</td><td>true</td></tr>
</table> 
```

我想要做的是保留真/假数据，但使用 CSS 将数据转换为 Tick/Cross 或笑脸/皱眉图像。

我的事情我已经看到了 CSS3 符号，但我找不到它。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-18T08:19:15.260

您可以对 HTML 进行一些操作，并使用值 true/false 向 TD 添加类。

```
 <tr><td>Feature 1</td><td class="true">true</td><td class="false">false</td></tr> 
```

在 CSS 中，您可以使用属性选择器，或者在此类中仅使用类选择器

```
td.true {

}

td.false {

} 
```

您还可以使用 text-indent 属性隐藏文本。或者，您可以将真/假输出为一个类，而不是单元格中的 HTML 文本。

# wpf - 工具提示中的不同前景

> ID：14393312
> 
> 赞同：0
> 
> 时间：2013-01-18T06:06:19.170
> 
> 标签：wpf, tooltip

我可以知道如何更改工具提示中特定单词的前景吗？我想把“RED”字改成colors.Red；请注意，工具提示中所有剩余的单词应保持黑色。有什么可以帮忙的吗？

XAML 代码片段：

```
<Button Name="myBtn" Content="Click" ToolTip="Click this to change
 the text to RED Color" Click="myBtn_Click"/> 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-18T06:44:25.490

很容易实现：

```
<Button Name="myBtn" Content="Click" Click="myBtn_Click">
    <Button.ToolTip>
        <TextBlock>
            <Run>Click this to change the text to </Run>
            <Run Foreground="Red">RED</Run>
            <Run> Color</Run>
        </TextBlock></Button.ToolTip>
    Test
</Button> 
```

# iphone - 在 facebook sdk 3.1 中显示登录对话框的问题

> ID：14393314
> 
> 赞同：0
> 
> 时间：2013-01-18T06:06:25.767
> 
> 标签：iphone, ios, objective-c

我正在为我的 ios 应用程序使用 facebook sdk 3.1。我想显示类似于此的登录对话框

![在此处输入图像描述](../Images/c06b06e2978fb5cc34bb1e4009be84f2.png)

它适用于 ios 5 设备。但是对于 ios 6，它只显示一个 alertView 而不是 facebook 应用程序登录页面。

这是我的代码

```
- (void)openSession
{
NSArray *permissions =
[NSArray arrayWithObjects:@"user_location", @"user_birthday", nil];

[FBSession openActiveSessionWithReadPermissions:permissions
                                   allowLoginUI:YES
                              completionHandler:
 ^(FBSession *session,
   FBSessionState state, NSError *error) {
     [self sessionStateChanged:session state:state error:error];
 }]; 
```

}

如何始终显示 facebook 应用程序登录对话框而不是默认的 alertView？

# javascript - 使用 JQuery 控制文本框的范围

> ID：14393317
> 
> 赞同：0
> 
> 时间：2013-01-18T06:06:47.480
> 
> 标签：javascript, jquery, jquery-plugins, jquery-events

使用 JQuery，我正在尝试创建一些文本框，它们只允许数值，没有重复的数字，没有空格，并且只允许范围内的数字。我使用了从 1 到 999 的范围。到目前为止，这是我的代码。我有数字值和数字部分的重复工作，但我不确定如何防止空文本框或为每个文本框保持 1 到 999 的范围。范围部分似乎不起作用，我还没有弄清楚如何提示用户有关空文本框的信息。我认为有一种方法可以使用 HTML5 来控制范围，但如果用户不在范围内，该方法不会提示用户。你有什么建议吗？

```
<html>
<head>
<script type='text/javascript' src='js/jquery.js'></script>
</head>
<form id="form1">
    Enter some text: <input type="text" id="field1" />

    <br /><br />

    Enter some text: <input type="text" id="field2" />

    <br /><br />

    Enter some text: <input type="text" id="field3" />

</form>
<script type="text/javascript">
$(document).ready(function() {
    $('#field1').blur(function() {
        if ($(this).val() == $('#field2').val() || $(this).val() == $('#field3').val()) {
            $('#field1').stop(false,true).after('&nbsp;&nbsp;<span style="color:red;" class="error">No duplicate values please!</span>');
            $('.error').delay(600).fadeOut();
            $(this).val('');
        }
    });
    $('#field2').blur(function() {
        if ($(this).val() == $('#field1').val() || $(this).val() == $('#field3').val()) {
            $('#field2').stop(false,true).after('&nbsp;&nbsp;<span style="color:red;" class="error">No duplicate numbers please!</span>');
            $('.error').delay(600).fadeOut();
            $(this).val('');
        }
    });
    $('#field3').blur(function() {
        if ($(this).val() == $('#field1').val() || $(this).val() == $('#field2').val()) {
            $('#field3').stop(false,true).after('&nbsp;&nbsp;<span style="color:red;" class="error">Duplicate values are not allowed!</span>');
            $('.error').delay(600).fadeOut();
            $(this).val('');
        }
    });
});

function RangeTextBox(min, max) {
    this.min = min;
    this.max = max;
    this.textboxbody = $("<input type='text'>");

// Check for a valid range
    this.textboxbody.keyup(function(event) {
        var textboxbody = event.target;
        var value = parseInt(textboxbody.value);
        var isNotNumeric = !/^[0-9]+$/.test(textboxbody.value);
        var isOutsideRange = (value < min) || (value > max);
        if (isNotNumeric || isOutsideRange) {
            $(textboxbody).addClass('error');
        }
        else {
            $(textboxbody).removeClass('error');
        }
    });

    return this.textboxbody;
}
<!-- To use it in, simple create a new TextBox by calling new RangeTextBox(min, max). For example -->

$(document).ready(function() {
    $("textboxbody").append(new RangeTextBox(1, 999));
});
</script>
</html> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-18T06:12:52.773

```
$(document).ready(function() {
    $("textboxbody").append(RangeTextBox(1, 999));
}); 
```

我建议你使用 jquery 验证插件：[http ://docs.jquery.com/Plugins/Validation](http://docs.jquery.com/Plugins/Validation)

# jquery - 如何扣除桌面

> ID：14393318
> 
> 赞同：0
> 
> 时间：2013-01-18T06:06:50.310
> 
> 标签：jquery, browser-detection

我确实有一个 html5 视频页面，如果用户使用智能手机、平板电脑，我们拥有的 url 默认情况下应该可以工作。除了如果它不是手持设备，如果它是台式机或笔记本电脑，它还需要重定向到基于 Flash 的视频页面。

我厌倦了使用这个脚本，但问题是它表明即使我使用 ipad(tablet) 作为桌面..

我怎样才能解决这个问题或者我怎样才能准确地检测到桌面|| 笔记本电脑并重定向基于闪存的网址？

我使用的代码：

```
(function(a){
jQuery.browser.mobile=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(a)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(a.substr(0,4))

if(jQuery.browser.mobile){
    alert('this is handhold');
}else{
    alert('this is not handhold'); // in ipad(still this is handhold) i am getting this message wrongly!
}

})(navigator.userAgent||navigator.vendor||window.opera); 
```

# thumbnails - Dmcloud Api：如何使用 java Api 获取在 Dmcloud 上上传的视频的缩略图？

> ID：14393320
> 
> 赞同：2
> 
> 时间：2013-01-18T06:07:19.653
> 
> 标签：thumbnails, video-thumbnails

我正在使用 Dmcloud java Api 在 dmcloud 上上传视频。但是 theres 的 api 没有提供太多关于如何获取特定视频缩略图的信息。

我可以获得流 url 下载 url 和 evrything.so 如果有人可以为此提供适当的指导..

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-26T11:40:59.480

要获取特定视频的缩略图 url，请使用 cloudkey 对象中的 get_assets 方法。

前任 ：

```
String thumbnail_url = cloud.mediaGetAssets(media_id, assets_name); 
```

其中 assets_name 是所需资产的数组，例如：

```
'jpeg_thumbnail_small',
'jpeg_thumbnail_medium',
'jpeg_thumbnail_large',
'jpeg_thumbnail_source' 
```

如果它不起作用，认为我正在使用 PHP API，我的工作方法是：

```
return $this->cloudkey->media->get_assets(array('id'=>$idMedia,'assets_names'=>array('jpeg_thumbnail_large'))); 
```

# apache-pig - 如何避免两个字段的相同连接？

> ID：14393323
> 
> 赞同：0
> 
> 时间：2013-01-18T06:07:33.627
> 
> 标签：apache-pig

我承认这个问题的标题不清楚。如果有人在阅读我的问题后可以改写它，那就太好了。

无论如何，我有一对作为单词 ID 的字段。现在我想用他们的文字替换它们。现在我正在做两个 join 和 foreach ，如下所示：

```
WordIDs = LOAD wordID.txt AS (wordID1:long, wordID2:long);
WordTexts = LOAD wordText.txt AS (wordID:long, wordText:chararray);

Join1 = JOIN WordIDs BY wordID1, WordTexts BY wordID;
Replaced1 = FOREACH Join1 GENERATE WordTexts::wordText As wordText1, WordIDs::wordID2;

Join2 = JOIN Replaced1 BY wordID2, WordTexts BY wordID;
Replaced2 = FOREACH Join2 GENERATE Replaced1::wordText1 As wordText1, WordTexts::wordText::wordText2; 
```

有没有什么方法可以用更少的语句来做到这一点（比如一个连接而不是两个连接）？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-20T21:54:18.880

我认为您当前的代码将生成 2 个单独的 map reduce 作业，以避免它使用复制连接，它不会更改连接语句的数量，但只会使用一个 map 侧连接，只有一个 map reduce 作业。代码应该是这样的（我还没有运行它）：

```
WordIDs = LOAD wordID.txt AS (wordID1:long, wordID2:long);
WordTexts = LOAD wordText.txt AS (wordID:long, wordText:chararray);

Join1 = JOIN WordIDs BY wordID1, WordTexts BY wordID USING 'replicated';
Join2 = JOIN Join1 BY wordID2, WordTexts BY wordID USING 'replicated';

Replaced = FOREACH Join2 GENERATE Join1::WordTexts::wordText As wordText1, Join2::wordTexts::wordText as wordText2; 
```

# c# - CefWebBrowser 不显示

> ID：14393328
> 
> 赞同：10
> 
> 时间：2013-01-18T06:07:59.373
> 
> 标签：c#, winforms, webbrowser-control, chromium, chromium-embedded

**解决方案：**

此问题是由于未在 Program.cs 中加载 CefRuntime 引起的。只需将示例文件中的所有代码复制到您的 Program.cs。

然后，如果您的 CefWebBrowser 卡住并且有“旋转的等待鼠标光标”，则设置 SingleProcess = true。

原因是如果浏览器是从识别的二级进程调用的，整个进程都会被阻塞，直到进程结束。

* * *

**问题：**

任何人都有在 WinForm 中使用 CEF（Chromium Embedded Framework）的经验？

这个组件折磨了我一整天。我不能让它工作。它只是没有出现。

所以我的问题是：如何在 WinForm 应用程序中使用 CEF？

我确实检查了论坛，但令人惊讶的是没有人问这个问题。看来我是唯一一个不知道如何使用它的笨人。

```
public partial class Form1 : Form
{
    private CefWebBrowser cefwbShell = null;
    //private readonly SynchronizationContext _pUIThread;

    private void Form1_Load(object sender, EventArgs e)
    {
        cefwbShell.Visible = true;
        cefwbShell = new CefWebBrowser { StartUrl = "http://example.com" };
        cefwbShell.Parent = this;
        cefwbShell.Dock = DockStyle.Fill;
        cefwbShell.BringToFront();
        cefwbShell.Show();
    }
} 
```

**更新：**

我正在尝试使用`Xilium.CefGlue`. 在我复制了正确版本的发布 dll（991）后，我得到了一个异常：

```
InvalidOperationException was unhandlled by user code 
   Failed to create browser. 
```

来源： `Xilium.CefGlue`

堆栈跟踪：

```
at Xilium.CefGlue.CefBrowserHost.CreateBrowser(CefWindowInfo windowInfo, CefClient client, CefBrowserSettings settings, String url) in C:\Winston\Knowledge\Projects\xilium-xilium.cefglue-61551ec98ad8\xilium-xilium.cefglue-61551ec98ad8\CefGlue\Classes.Proxies\CefBrowserHost.cs:line 37
   at Xilium.CefGlue.WindowsForms.CefWebBrowser.OnHandleCreated(EventArgs e) in C:\Winston\Knowledge\Projects\xilium-xilium.cefglue-61551ec98ad8\xilium-xilium.cefglue-61551ec98ad8\CefGlue.WindowsForms\CefWebBrowser.cs:line 71
   at System.Windows.Forms.Control.WmCreate(Message& m)
   at System.Windows.Forms.Control.WndProc(Message& m)
   at System.Windows.Forms.Control.ControlNativeWindow.OnMessage(Message& m)
   at System.Windows.Forms.Control.ControlNativeWindow.WndProc(Message& m)
   at System.Windows.Forms.NativeWindow.DebuggableCallback(IntPtr hWnd, Int32 msg, IntPtr wparam, IntPtr lparam)
   at System.Windows.Forms.UnsafeNativeMethods.IntCreateWindowEx(Int32 dwExStyle, String lpszClassName, String lpszWindowName, Int32 style, Int32 x, Int32 y, Int32 width, Int32 height, HandleRef hWndParent, HandleRef hMenu, HandleRef hInst, Object pvParam)
   at System.Windows.Forms.UnsafeNativeMethods.CreateWindowEx(Int32 dwExStyle, String lpszClassName, String lpszWindowName, Int32 style, Int32 x, Int32 y, Int32 width, Int32 height, HandleRef hWndParent, HandleRef hMenu, HandleRef hInst, Object pvParam)
   at System.Windows.Forms.NativeWindow.CreateHandle(CreateParams cp)
   at System.Windows.Forms.Control.CreateHandle()
   at System.Windows.Forms.Control.CreateControl(Boolean fIgnoreVisible)
   at System.Windows.Forms.Control.CreateControl(Boolean fIgnoreVisible)
   at System.Windows.Forms.Control.CreateControl()
   at System.Windows.Forms.Control.SetVisibleCore(Boolean value) 
```

任何人都可以帮助我吗？

**更新 2：**

```
private void Create()
        {
            var page = new TabPage("New Tab");
            page.Padding = new Padding(0, 0, 0, 0);

            var browser = new CefWebBrowser();
            browser.StartUrl = startUrl;
            browser.Dock = DockStyle.Fill;
            browser.TitleChanged += (s, e) =>
            {
                BeginInvoke(new Action(() =>
                {
                    var title = browser.Title;
                    if (tabControl.SelectedTab == page)
                    {
                        Text = browser.Title + " - " + _mainTitle;
                    }
                    page.ToolTipText = title;
                    if (title.Length > 18)
                    {
                        title = title.Substring(0, 18) + "...";
                    }
                    page.Text = title;
                }));
            };
            browser.AddressChanged += (s, e) =>
            {
                BeginInvoke(new Action(() =>
                {
                    addressTextBox.Text = browser.Address;
                }));
            };
            browser.StatusMessage += (s, e) =>
            {
                BeginInvoke(new Action(() =>
                {
                    statusLabel.Text = e.Value;
                }));
            };

            page.Controls.Add(browser);

            tabControl.TabPages.Add(page);

            tabControl.SelectedTab = page;
        } 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-07T01:31:24.120

您不应该`SingleProcess`用于生产，您实际上可以离开多进程模式（`SingleProcess=false`）但需要[禁用`Visual Studio Hosting Process`](http://msdn.microsoft.com/en-us/library/ms185330%28v=vs.80%29.aspx)并且您不会遇到调试问题（旋转等待光标）

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-01-21T11:01:20.407

我也有启动浏览器的问题。我可以加载所有 CEF DLL，但浏览器不会显示！我得到的只是悬停在控件上方时旋转的等待鼠标光标。

不幸的是，我还没有找到问题的根源，但是由于示例项目 CefGlue.Client 有效，我只是将其复制到我的解决方案中。

另外，我看不到您如何初始化 CEF 运行时。看看 CefGlue.Client 中的 Program.cs 是如何完成的，但基本上是这样的：

```
 [STAThread]
    private static int Main(string[] args)
    {
        try
        {
            CefRuntime.Load();
        }
        catch (DllNotFoundException ex)
        {
            MessageBox.Show(ex.Message, "Error!", MessageBoxButtons.OK, MessageBoxIcon.Error);
            return 1;
        }
        catch (CefRuntimeException ex)
        {
            MessageBox.Show(ex.Message, "Error!", MessageBoxButtons.OK, MessageBoxIcon.Error);
            return 2;
        }
        catch (Exception ex)
        {
            MessageBox.Show(ex.ToString(), "Error!", MessageBoxButtons.OK, MessageBoxIcon.Error);
            return 3;
        }

        var mainArgs = new CefMainArgs(args);
        var app = new DemoApp();

        var exitCode = CefRuntime.ExecuteProcess(mainArgs, app);
        if (exitCode != -1)
            return exitCode;

        var settings = new CefSettings
            {
                // BrowserSubprocessPath = @"D:\fddima\Projects\Xilium\Xilium.CefGlue\CefGlue.Demo\bin\Release\Xilium.CefGlue.Demo.exe",
                SingleProcess = false,
                MultiThreadedMessageLoop = true,
                LogSeverity = CefLogSeverity.Disable,
                LogFile = "CefGlue.log",
            };

        CefRuntime.Initialize(mainArgs, settings, app);

        Application.EnableVisualStyles();
        Application.SetCompatibleTextRenderingDefault(false);

        if (!settings.MultiThreadedMessageLoop)
        {
            Application.Idle += (sender, e) => { CefRuntime.DoMessageLoopWork(); };
        }

        Application.Run(new MainForm());

        CefRuntime.Shutdown();
        return 0;
    } 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-21T00:16:37.793

您从未将控件添加到表单的控件集合中，至少在您展示的示例中是这样。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2016-06-14T09:38:25.640

我也有同样的问题，我通过修改“BrowserSubprocessPath”解决了，默认是这样的：

```
 //var browserProcessPath = CombinePaths(localFolder, "..", "..", "..",
        //    "CefGlue.Demo.WinForms", "bin", "Release", "Xilium.CefGlue.Demo.WinForms.exe");

        var browserProcessPath = CombinePaths(localFolder, "Xilium.CefGlue.Demo.WinForms.exe");

        var settings = new CefSettings
        {
            BrowserSubprocessPath = browserProcessPath,
            SingleProcess = false,
            MultiThreadedMessageLoop = true,
            LogSeverity = CefLogSeverity.Disable,
            LogFile = "CefGlue.log",
        }; 
```

因为我更改了应用程序的输出目录，所以“browserProcessPath”无效，然后我修改“browserProcessPath”以匹配输出目录，以便应用程序可以找到它。

但是，我仍然无法理解“browserProcessPath”的含义和用法

# html - IIS Web 服务器 - 如何限制每个用户登录一次视频流

> ID：14393332
> 
> 赞同：2
> 
> 时间：2013-01-18T06:08:17.130
> 
> 标签：html, http, iis, asp-classic, html5-video

我正在开发一个 IIS8 网站，用户可以在其中登录并在登录后观看视频。我想使用 HTML5 提供长达 6 小时的视频`<video />`。我想限制用户只能登录一次，这样他们就不能与其他人分享他们的登录凭据，这将是一个付费网站。对于静态页面（非视频），这很容易，但我不知道如何为视频做。HTML5 视频开始播放后，如何防止用户再次登录？或者，如果他再次登录，有没有办法从第一次登录中断​​视频播放？我很想听听想法...

谢谢大卫

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-18T16:46:09.370

虽然我对您的框架和标准不太确定，但您是否考虑过每 X 分钟使用`jQuery`并向`aJax`您的服务器发送请求以验证会话是否仍处于活动状态？这是一些未经测试的 ajax 示例——只需使用 Javascript 的 setTimeout 函数每 x 分钟发送一次：

```
$.ajax({
      url: "yourpage.asp",
      type: "post",
      data: "sessionId=sessionIdVal",
      dataType: "json",
      success: function(msg){
          //Do Logic Here with msg
      }  
    }); 
```

和[文档](http://api.jquery.com/jQuery.ajax/)。

祝你好运。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-18T16:58:09.270

详细说明 sgeddes 的答案我过去使用的一个解决方案是 - 当用户登录时生成一个 GUID，该 GUID 既作为用户的 cookie 存储在查找表中......所以如果用户再次登录 GUID （和时间戳）将改变 - 每隔 n 秒让客户端轮询服务器以确保它们仍然具有正确的 GUID，如果没有停止视频，那么只有最近的登录才能继续工作

然而......这有几个问题。如果视频在连接后是单个渐进流，则没有什么可以阻止用户下载并在本地观看，如果他们想要变得非常棘手，他们可以中断轮询 javascript 并简单地停止检查。

如果您想更进一步，您可以实现一个服务器端处理程序，该处理程序在提供更多视频之前检查 cookie 令牌的有效性（类似于[http://blog.offbeatmammal.com/post/2006/06/30 /Using-ASPNET-to-restrict-access-to-images.aspx](http://blog.offbeatmammal.com/post/2006/06/30/Using-ASPNET-to-restrict-access-to-images.aspx)）但是因为 <video> 元素最好下载足够的视频来播放而不缓冲，具体取决于它的长度和预缓冲量在检查开始时完成可能为时已晚。

# android - 如何从列表视图适配器位置获取对象值

> ID：14393334
> 
> 赞同：8
> 
> 时间：2013-01-18T06:08:45.683
> 
> 标签：android, listview, listview-adapter

如何从适配器位置获取价值，我在下面有代码：

```
CategoriesXmlParser categoryXmlParser = new CategoriesXmlParser();
List<HashMap<String, Object>> categories = null;

try {
  categories = categoryXmlParser.parse(reader);
} catch (Exception e) {
  Log.d("Exception", e.toString());
}

String[] from = { "name", "image" };
int[] to = { R.id.nama_category, R.id.logo_category };

final SimpleAdapter adapter = new SimpleAdapter(getBaseContext(),
                    categories, R.layout.per_item_category, from, to);

mListView.setOnItemClickListener(new OnItemClickListener() {
  public void onItemClick(AdapterView<?> parent, View view,
                        int position, long id) {
    Object obj = mListView.getAdapter().getItem(position);
    String value = obj.toString();
    Log.d("MyLog", "Value is: "+value);
    String name = // how code to get name value.
  }
}); 
```

如果我在 MyLog 中的 logcat 上查看它，我会得到：

> 值为： {position=12, image_path= [http://192.168.103.121/xml/icon.png](http://192.168.103.121/xml/icon.png) , link= [http://192.168.103.121/xml/category.php?kat_id=13](http://192.168.103.121/xml/category.php?kat_id=13) , name=Category 13}

所以我的问题是，我想从名称中获取值并将其存储到变量字符串名称中，我只想在字符串名称中获得“Category 13”。因为我想将它传递给另一个活动。

* * *

## 回答 #1

> 赞同：35
> 
> 时间：2013-01-18T20:17:18.797

貌似你用hashmap做的对象，比如blablabla.put("name", "value")？？如是。试试这个：

```
mListView.setOnItemClickListener(new OnItemClickListener() {
    public void onItemClick(AdapterView<?> parent, View view,
            int position, long id) {
        Object obj = mListView.getAdapter().getItem(position);
        String value = obj.toString();
        Log.d("MyLog", "Value is: "+value);
        String name = // how code to get name value.
    }
}); 
```

改成：

```
mListView.setOnItemClickListener(new OnItemClickListener() {
    public void onItemClick(AdapterView<?> parent, View view, int position, long id) {
        HashMap<String, Object> obj = (HashMap<String, Object>) adapter.getItem(position);
            String name = (String) obj.get("name");
            Log.d("Yourtag", name);
    }
}); 
```

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2013-01-18T06:12:22.537

```
value = value.substring(value.indexOf("name=")+5,value.length()-1); 
```

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2015-06-05T18:28:45.160

```
listID.setOnItemClickListener(new AdapterView.OnItemClickListener() 
                {

                    @Override
                    public void onItemClick(AdapterView<?> parent, View v,
                            int position, long id) {
                        // TODO Auto-generated method stub

                        Object obj=listID.getAdapter().getItem(position);
                        String str=obj.toString();

                    Toast.makeText(MainActivity.this, "Item is= "+str, Toast.LENGTH_LONG).show();
                    }
                }); 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2014-02-14T07:07:08.590

您还可以通过以下方式获取适配器数据`AdapterView<?> parent`

```
@Override
public void onViewCreated(View view, Bundle savedInstanceState) {
    super.onViewCreated(view, savedInstanceState);
    //setHasOptionsMenu(true);
    listView.setOnItemClickListener(new OnItemClickListener() {
        public void onItemClick(AdapterView<?> parent, View view,
                int position, long id) {

            final Filedata mnotes = (Filedata) parent
                    .getItemAtPosition(position);
           Toast.makeText(getActivity(), Filedata.getName(),Toast.LENGTH_SHORT).show();
});
} 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2017-03-30T12:34:31.033

这就是我所做的：-

```
lvHomePage.setOnItemClickListener(new AdapterView.OnItemClickListener() {
                   @Override
                   public void onItemClick(AdapterView<?> parent, View view, int position, long id) {
                       Transaction selectedFromList =(Transaction)parent.getAdapter().getItem(position);
                       Log.d("val:",selectedFromList.getDate());
                       Log.d("val:",selectedFromList.getMobile_no());
                   }
               }); 
```

玩得开心！

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2021-09-15T12:29:28.910

listID.setOnItemClickListener(new AdapterView.OnItemClickListener() {

```
 @Override
                public void onItemClick(AdapterView<?> parent, View v,
                        int position, long id) { 
```

HashMap<String, Object> sdsa = (HashMap<String, Object>) adapter.getItem(position); Log.e("IndentNo", (String) sdsa.get("IndentNo")); Log.e("IndentId", (String) sdsa.get("IndentId"));

```
 }
            }); 
```

# iphone - Iphone SDK 中的特殊 TableView

> ID：14393335
> 
> 赞同：0
> 
> 时间：2013-01-18T06:08:49.860
> 
> 标签：iphone, ios, xcode, uitableview, map

![在此处输入图像描述](../Images/dbef1b4048c97f98d2a734cbd9a3c738.png)

正如您在上面看到的，我在 LeftSide 上有一个表视图，其中包含一些文本。

但是，当我根据该单元格将被突出显示并且它具有更多文本而不是其他单元格并且背景颜色也被更改时，我在地图中选择了任何注释。

**我怎样才能做到这一点？**

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-18T06:25:14.020

您可以通过以下方式接近。
首先，Map 中的表格数据和注释引脚都是从数组中填充的！！您可以做什么，您可以将“标签”定义为特定项目的数组索引。当用户点击注释时，该注释有一个“标签”（或数组索引），而这个“标签”（或数组索引）也有一个表数据项。单击注释点击时，您必须重新加载表格并突出显示特定的表格视图单元格。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-18T06:15:19.837

1.  您需要为此自`UITableViewCell`定义
2.  如图所示，在您的视图中添加表格视图和地图视图。
3.  将自定义表格视图单元格加载到表格视图
4.  最初为所有表格单元格提供所需的颜色
5.  当用户选择一个单元格时，它会改变它的颜色
6.  使用`didSelectRowAtIndexPath:`委托方法在地图上显示相应的值。

检查此链接以获取教程：

*   [应用程序](http://www.appcoda.com/customize-table-view-cells-for-uitableview/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-18T06:23:40.750

iOS中滑动菜单的基本示例

[https://github.com/nverinaud/NVSlideMenuController](https://github.com/nverinaud/NVSlideMenuController)

希望此示例代码对您有所帮助

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-18T06:23:51.857

我认为您正在创建自定义注释而不是默认注释，因此如果您可以为每个注释视图设置标签，该标签将与表格视图单元格索引相同。选择注释时，使用该标记创建索引路径并为该索引路径设置 selectedrow。希望它可以帮助你。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-01-18T07:50:53.320

1.  创建您的自定义类`UITableViewCell`。
2.  了解您有两个条件 A. Normal Cell B. 单击后的单元格。

您必须使用 UITableView 的 3 个委托方法来实现这一点。

```
- (CGFloat)tableView:(UITableView *)tableView heightForRowAtIndexPath:(NSIndexPath *)indexPath
{
    // Here you'll have to check for the condition you'll have to check which indexPath.row is selected. and according to that you'll have to change the height of your row.
     return hight;

}

- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath
{
     // Again the same thing. You'll have to check the condition and load the appropriate controls with appropriate frames.
}

- (void)tableView:(UITableView *)tableView didSelectRowAtIndexPath:(NSIndexPath *)indexPath
{
     // This is the important function for you.
     // Here you'll have to set one counter. Which you'll use in the 
     // After that reload the table.
} 
```

# ruby-on-rails - 重构分页代码

> ID：14393337
> 
> 赞同：-1
> 
> 时间：2013-01-18T06:08:52.580
> 
> 标签：ruby-on-rails, ruby, pagination

我需要使用自己的分页代码，因为我的需求过于多样化和具体。我将此片段复制并粘贴到许多控制器操作中

```
per_page = params[:per_page] ? params[:per_page].to_i : 15
page_num = params[:page] ? params[:page].to_i : 1
to_skip = ( page_num - 1 ) * (per_page)
max_index = per_page * page_num 
```

我做的越多，我就越觉得笨。我确信有办法更好地做到这一点，但我不确定如何。

奖金（我可以为此奖励赏金吗？）-> 如果需要，我希望能够在模型中使用 COMPUTED 参数

例子：

```
# frontend requests for items 15-30

def controller_action
  # code as above
  # Item.get (...)
end

# and in the model have access to these params
def get
  # use per_page, to_skip 
end 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-18T06:13:40.853

我可能会把它`ApplicationController`作为请求过滤器

```
class ApplicationController < ActionController::Base
  protected
  def set_paging_params
    @per_page = params[:per_page] ? params[:per_page].to_i : 15
    @page_num = params[:page] ? params[:page].to_i : 1
    @to_skip = ( @page_num - 1 ) * (@per_page)
    @max_index = @per_page * @page_num
  end
end

class FooController < ApplicationController
  before_filter :set_paging_params, only: [:index]

  def index
    # do stuff with @per_page and others
  end
end 
```

模型无法使用这些控制器实例变量，除非您显式传递它们（*或在闭包中捕获它们，但我不知道您的`Item.get`实现是否支持这一点*）。像这样的东西：

```
class FooController < ApplicationController
  before_filter :set_paging_params, only: [:controller_action]

  def controller_action
    Item.get(params[:id], per_page: @per_page,
      page_num: @page_num,
      to_skip: @to_skip,
      max_index: @max_index,
    )
  end
end

class Item
  def self.get iid, opts = {}
    # use opts[:per_page] here
  end
end 
```

# spring - 从数据库重新加载属性

> ID：14393338
> 
> 赞同：-1
> 
> 时间：2013-01-18T06:09:02.873
> 
> 标签：spring

我们计划将我们的属性移动到数据库以使其可重新加载。

我们正在使用代码中注入属性值

```
@Value("${name}")
String name;

### our properties file is like
name=zuned 
```

只是想知道 Spring 3.1 提供了一些功能。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-26T11:46:08.720

我可以这样做，已将我的 POC 上传到 gitHub

[https://github.com/zuned/dynamic_property_loading](https://github.com/zuned/dynamic_property_loading)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-18T06:25:21.567

也一直在思考这个问题。我发现这篇文章看起来不错： http: [//pure-essence.net/2011/02/10/spring-loading-properties-from-database-with-a-twist/](http://pure-essence.net/2011/02/10/spring-loading-properties-from-database-with-a-twist/)

但是没试过。不要认为spring为此提供了任何开箱即用的东西。

# python - 将此 curl cmd 转换为 Python 3

> ID：14393339
> 
> 赞同：8
> 
> 时间：2013-01-18T06:09:05.527
> 
> 标签：python, post, curl, https, python-3.x

以下 curl 命令完美运行（私有数据匿名）：

```
curl -X POST 'https://api.twilio.com/2010-04-01/Accounts/abc/SMS/Messages.json' \
-d 'From=%2B14155551234' \
-d 'To=%2B17035551212' \
-d 'Body=This+is+a+test' \
-u foo:bar 
```

如何以正确的 Python3.3 方式发送这个完全相同的 HTTPS POST 请求？如果可以避免的话，我不想使用 Python 3.3 标准库以外的任何东西（换句话说，不使用 twilio python 模块，或“请求”，或 pycurl，或普通香草 Python 之外的任何东西3.3 安装）。

首选的 Python 方法似乎不断从版本到版本不断发展，我通过谷歌搜索找到的片段从未提及他们正在使用或不执行登录部分的版本，Python 文档充满了“自 3.x 以来已弃用”但是永远不要包含新的做事方式的代码示例......

如果 curl 可以如此轻松地做到这一点，那么标准 Python 3.3 也可以。但是现在*应该*怎么做呢？

* * *

## 回答 #1

> 赞同：19
> 
> 时间：2013-01-18T06:46:44.023

这是一个适用于 Python 2 和 3 的版本：

```
import requests # pip install requests

url = 'https://api.twilio.com/2010-04-01/Accounts/abc/SMS/Messages.json'
r = requests.post(url, dict(
        From='+17035551212',
        To='+17035551212',
        Body='This is a test'), auth=('foo', 'bar'))

print(r.headers)
print(r.text) # or r.json() 
```

在 Python 3.3 上使用基本 http 身份验证发出 https 发布请求：

```
from base64 import b64encode
from urllib.parse import urlencode
from urllib.request import Request, urlopen

user, password = 'foo', 'bar'
url = 'https://api.twilio.com/2010-04-01/Accounts/abc/SMS/Messages.json'
data = urlencode(dict(From='+17035551212', To='+17035551212', 
                      Body='This is a test')).encode('ascii')
headers = {'Authorization': b'Basic ' +
        b64encode((user + ':' + password).encode('utf-8'))}
cafile = 'cacert.pem' # http://curl.haxx.se/ca/cacert.pem
response = urlopen(Request(url, data, headers), cafile=cafile)

print(response.info())
print(response.read().decode()) # assume utf-8 (likely for application/json) 
```

# objective-c - 从命令行启动 MAC OSX 目标 C 应用程序的不同方法

> ID：14393348
> 
> 赞同：0
> 
> 时间：2013-01-18T06:10:52.200
> 
> 标签：objective-c, macos, cocoa, applescript-objc

我有一个 MAC OSX 目标 C 应用程序，比如 first.app，在其中我使用具有管理员权限的 NSAppleScript 来运行 shell 脚本。这个脚本缩进以启动另一个目标 C 应用程序，比如 second.app。

当您在 shell 脚本中使用打开命令 Ex: "open second.app" 时，它可以正常工作。

但是，如果您通过在 shell 脚本中调用它的二进制 Ex: "/second.app/Contents/MacOS/second" 来启动 second.app，那么在 second.app 关闭之前，控件不会返回到 first.app。当我们关闭 second.app 然后 first.app 恢复。

如前所述，从 open 命令启动应用程序和直接调用应用程序二进制文件有什么区别？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-18T07:06:51.557

打电话

```
open Second.app 
```

与在 Finder 中双击应用程序的图标相同。应用程序通过 LaunchServices 启动，`open`命令立即返回。

打电话

```
/path/to/Second.app/Contents/MacOS/Second 
```

直接启动应用程序（没有 LaunchServices），并且仅在应用程序终止时返回。

# asp.net-mvc - JQGrid 加载大量数据

> ID：14393350
> 
> 赞同：5
> 
> 时间：2013-01-18T06:11:02.057
> 
> 标签：asp.net-mvc, asp.net-mvc-3, jqgrid

**情况**

我在我的项目中将 Trirand JQGrid 用于 MVC [服务器端]。

我在一个表中有超过 50 万条记录。

我通过调用这段代码来加载数据。这就是收集 500000 条记录的原因。

```
IEnumerable<myIndexViewModel> myviewmodel= _allincidents.Select(x => new myIndexViewModel
            {

                IncidentRequestStatus = x.RequestStatus,
                RequestByUserName = x.RequestByUserName,
                Subject = x.Subject

            });     
gridModel.JqGrid.DataBind(myviewmodel.AsQueryable()); 
```

对于我单击的每个下一页，JQgrid 都能很好地处理基于 json 的 ajax 请求。

**问题**

我不想在页面加载事件中一起加载 50 万条记录，因为它会杀死 jqgrid。

如果我在数据库中编写一个存储过程来请求显示特定页面，那么它将只加载 myviewmodel 集合中的那个页面。

单击下一页时，如何从数据库中即时获取页面。这在 jqgrid 中甚至可能吗？

**情况 2**

根据 VIJAY 和 MARK 的回答，他们展示的方法是绝对正确的，但是在这里，用于 MVC 的 JQGRID 设置了 DATAURL 属性以进行方法调用。在这种情况下，它是 IncidentGridRequest。

单击网格下一页或上一页时如何发送页码？

```
incidentModel.IncidentGrid.DataUrl = Url.Action("IncidentGridRequest")

 public JsonResult IncidentGridRequest()
        {
         } 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-01-21T13:59:26.363

将为您的网格提供结果的控制器操作可以接受来自 jqGrid 的一些额外信息。

```
 public ActionResult GetGridData(string sidx, string sord, int page, int rows, bool _search, string filters) 
```

您感兴趣的主要部分是页面、行（sidx 用于列排序，sord 用于排序顺序，_search 如果在网格上进行了搜索，如果是，则过滤器包含搜索信息）

当您生成结果时，您应该能够

```
IEnumerable<myIndexViewModel> myviewmodel = allincidents.Select(x => new myIndexViewModel
            {

            IncidentRequestStatus = x.RequestStatus,
            RequestByUserName = x.RequestByUserName,
            Subject = x.Subject

        }).Skip((page - 1) * rows).Take(rows) 
```

PS。我不确定您使用 IEnumberable 是否会从您的数据库中移动大量数据，但您可能希望在为 jqGrid 生成此数据子集时使用 IQueryable。

编辑：要处理您的分页问题，​​您应该计算查询中的总记录数并将该值传递给网格，例如

```
int totalRecords = myviewmodel.Count(); 
```

然后稍后您会将其作为 json 值传递给您的网格。前任

```
 var jsonData = new
    {
        total = (totalRecords + rows - 1) / rows,
        page = page,
        records = totalRecords,
        userdata = new {SearchResultsFound = searchResultsFound},
        rows = (
        ...... 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-21T12:29:56.643

是的，例如，如果您在一个名为的变量中接受要转到**`page`**的页码，并且在变量中具有页面大小，**`pageSize`**那么：

```
IEnumerable<myIndexViewModel> myviewmodel = allincidents.Select(x => new myIndexViewModel
            {

                IncidentRequestStatus = x.RequestStatus,
                RequestByUserName = x.RequestByUserName,
                Subject = x.Subject

            }).Skip((page-1)*pageSize).Take(pageSize)); 
```

会给你大小的记录**`pageSize`**给你。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-21T14:46:09.407

Trirand jqGrid for ASP.NET MVC`IQueryable`在方法内部使用接口`JqGrid.DataBind()`来实现分页、排序和过滤。

所以这里的关键是使用数据源，它在数据库级别处理这些类型的操作（通过以只获取所需数据的方式对数据库进行 SQL 查询）。所有主要的 ORM 都有这种支持，这包括：LINQ-2-SQL、实体框架、NHbiernate、LLBLGen。

您只需要使用其中一种技术，并将所需的上下文直接传递给`JqGrid.DataBind()`方法（无需像在示例中那样手动提取数据）。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-17T11:28:10.700

使用 PagedList 库（来自 Nuget）的一种更简单的方法。[Joseph Schrag](http://josephschrag.blogspot.com/2012/02/using-jqgrid-with-jsonresult.html)有一个有用的博客

```
 public JsonResult Users(int PageNo, int Rows)
    {
        var UserList = db.Users.Select(t => new
        {
            t.UserId,
            t.Username,
            t.Firstname,
            t.Lastname,
            t.Designation,
            t.Country,
            t.Email
        }).OrderBy(t => t.UserId);

        var pagedUserList = UserList.ToPagedList(PageNo, Rows);

        var results = new
        {
            total = pagedUserList.PageCount, //number of pages
            page = pagedUserList.PageNumber, //current page
            records = UserList.Count(), //total items
            rows = pagedUserList
        };
        return new JsonResult() { Data = results, JsonRequestBehavior = JsonRequestBehavior.AllowGet };
    } 
```

# php - 使用php将标头写入csv

> ID：14393352
> 
> 赞同：0
> 
> 时间：2013-01-18T06:11:05.153
> 
> 标签：php, csv

我有一个要求，我将每个页面访问和活动记录到 csv 日志文件中。我怎么写才能使标题应该是第一次而不是每次都写。

```
fputcsv($fh1, array(date,id1,page,id2,request,ip));     
fputcsv($fh1, array($date,$mid,$page,$aid,$request,$ip)); 
```

第一个数组应该只为特定的日期日志文件写入一次。请建议。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-18T06:34:36.220

我希望您在下载 CSV 时尝试安排带有标题的记录。如果是，那么请看下面的这个例子，我在这个例子中展示了它在 Drupal 中工作的小例子-

```
<?php

function getUsersDetails(){
    $csv_output = '';
    $all_users_entry = db_query("SELECT * FROM users");
    while($users = db_fetch_object($all_users_entry)){//suppose these fname,lname etc are column name of your table.
        $fname = $users->fname;
        $lname = $users->lname;
        $date = $users->joining_date;
        $role = $users->role;
        $location = $users->location;
        $csv_output .= "\"".$fname."\"".","."\"".$lname ."\"".","."\"".$date."\"".","."\"".$role."\"".","."\"".$location."\""."\r";
    }
    return $csv_output;
}

function download_details(){
    $csv_output = '';
    $csv_output .= "First Name,Last name,Member Since,Role,Place\n";
    $csv_output .= getUsersDetails();
    header('Content-type: text/csv');
    header('Content-Disposition: attachment; filename="Usera_Details.csv"');
    print $csv_output;
    exit;
}
?> 
```

现在您可以从任何地方调用此函数 download_details() 并且您将在下载的 CSV 中获得用户表详细信息

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-18T06:36:20.323

看到这个你要自爆了……

```
if (!file_exists('log.csv'))
{
    // Make the file & Write the header
}
// Write the log entry. 
```

# python - 从树莓派上的网络摄像头获取 Python 输入？

> ID：14393356
> 
> 赞同：5
> 
> 时间：2013-01-18T06:11:32.853
> 
> 标签：python, opencv, input, webcam, raspberry-pi

我在我的 pi 上使用索尼 ps3 eye 作为我正在编写的 OpenCL python 程序的网络摄像头输入，但由于某种原因，无论我做什么，pi python 编译器都无法访问网络摄像头。然而，当使用相同的网络摄像头在我的笔记本电脑上运行相同的代码时，它可以完美运行。然后我检查了我的 pi 上的 USB 设备，它指出“sony playstation 3 eye cam”在 USB 端口 6 上。同样，当在 pi 上使用“motion”包时，我能够完美地使用相机作为输入。所以我的问题再次是 python 编译器没有与我在 pi 上的网络摄像头通信。请考虑一下并告诉我如何解决它；我根本想不出有什么问题。这是我使用的示例代码，请帮助我。非常感谢你。

```
import cv2.cv as cv

#cv.NamedWindow("w1", cv.CV_WINDOW_AUTOSIZE)
camera_index = 0

capture = cv.CaptureFromCAM(camera_index)
while not capture:
  print "error opening capture device, correction attempt"

while True:
  frame = cv.QueryFrame(capture)
  if frame is None:
    print "fail with putting in frame"

  else:
    c = cv.WaitKey(100)
    print 'capturing!'
    cv.SaveImage("pictest.png", frame) 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-12-31T06:24:23.620

我从未更新过这个，但我的解决方案是：我使用 Raspberry Pi 的 Motion Package 接收图像（因为 Sony Ps3 EyeToy 相机没有编写与 Pi 兼容的驱动程序），然后使用 OpenCV 分析每个图像。在每张图像进入时执行此操作，每秒多次，与通过 OpenCV 分析视频相同。此实现非常适合我的需求，我使用其他 Bash 工具在一段时间后删除旧图像文件，所以我的记忆是没有不必要的填充。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-21T20:05:51.330

[同步 USB](http://www.raspberrypi.org/phpBB3/viewtopic.php?f=28&t=23544&sid=300fcad9e3884ce2218b82b48f6b5e87&start=225)存在一些已知问题。一些相机问题已通过最近的修复得到解决，但其他问题仍然存在（并且显然正在处理中）。您使用的是什么内核版本（uname -a）？

修复程序尚未进入官方发行版，因此如果您不想等待，可以运行[rpi-update](https://github.com/Hexxeh/rpi-update)来获取最新的内核（假设您使用的是 Raspbian）。你至少想要#389。

# asp.net - ASMX 服务在使用 POST 方法时返回“500 错误”

> ID：14393358
> 
> 赞同：3
> 
> 时间：2013-01-18T06:11:41.820
> 
> 标签：asp.net, iis, post, asmx

我对 ASMX 服务有疑问。如果我使用 POST 方法，它会返回错误“500 - 内部服务器错误”。但是如果我使用 GET 方法，它工作得很好。我查看了 IIS 日志并看到了这种情况：

```
2013-01-16 00:00:06 212.158.165.217 GET /service.asmx/GetStopSalesAndQuotes2 Login=xxxxx&Password=xxxxx=&checkPoint=2013-01-08T14:22:56Z 80 -
85.12.229.170 Mozilla/4.0+(compatible;+Windows+NT+5.1;+SV1);+ross-tur.ru;+8-800-100-99-30+(ext.+501); 500 0 0 140

2013-01-16 00:00:06 212.158.165.217 POST /service.asmx - 80 -
62.80.175.194 Mozilla/4.0+(compatible;+MSIE+6.0;+MS+Web+Services+Client+Protocol+4.0.30319.296) 500 0 0 31 
```

我一直在寻找这个问题并试图解决它。

首先，我检查了一个 web.config，但已经创建了必要的标签：

```
<add name="HttpGet"/>
<add name="HttpPost"/> 
```

其次，我尝试通过在 web.config 中添加一些标签来打开调试模式：

```
<system.diagnostics>
    <trace autoflush="true" />
    <sources>
        <source name="System.Web.Services.Asmx">
            <listeners>
                <add name="AsmxTraceFile" type="System.Diagnostics.TextWriterTraceListener" initializeData="local.log" traceOutputOptions="LogicalOperationStack, DateTime, Timestamp, ProcessId, ThreadId" />
            </listeners>
        </source>
    </sources>
    <switches>
        <add name="System.Web.Services.Asmx" value="Verbose"  />
    </switches>
</system.diagnostics> 
```

但尚未创建日志。我认为，该应用程序没有权利。

我试图通过为我的站点指定管理员的登录名/密码来授予管理员权限，但它没有解决问题并且仍然没有创建日志。

我尝试调试此错误的其他方法：

1.  关闭自定义错误模式并在“true”状态下启用跟踪：

> ```
> <system.web>
> <customErrors mode="Off"/>
> <trace enabled="true" requestLimit="10" pageOutput="false" traceMode="SortByTime" localOnly="false"/>
> </system.web> 
> ```

1.  还尝试启用 trace 和 policyTrace 选项：

> ```
> <microsoft.web.services2>
>     <diagnostics>
>       <trace enabled="true"/>
>       <policyTrace enabled="true"/>
>     </diagnostics>
>     <security>
>       <timeToleranceInSeconds>86400</timeToleranceInSeconds>
>       <securityTokenManager 
>               type="Megatec.MasterService.TourMLLogic.PasswordProvider, ServiceComponents, Version=1.0.0.0, Culture=neutral" 
>               qname="wsse:UsernameToken" 
>               xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd"/>
>     </security>
>   </microsoft.web.services2> 
> ```

但我没有任何结果。我认为，存在 IIS 配置问题。请帮我。

PS对不起我的英语不好=）

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T19:35:44.010

我认为您正在使用不同的网址。

```
GET /service.asmx/GetStopSalesAndQuotes2 
POST /service.asmx 
```

请参阅下面的示例：

网络服务：

```
 public class Test : System.Web.Services.WebService {

    public Test () {}

    [WebMethod]
    public string HelloWorld(string name) { return "Hello " + name; }
 } 
```

html 测试：两者都有效

```
 <form action="Test.asmx/HelloWorld" method="get">
        <input type="text" name="name"/>
        <input type="submit" value="Submit"/>
    </form>

    <form action="Test.asmx/HelloWorld" method="post">
        <input type="text" name="name"/>
        <input type="submit" value="Submit"/>
    </form> 
```

# php - 通过php强制下载文件不起作用

> ID：14393369
> 
> 赞同：0
> 
> 时间：2013-01-18T06:12:51.780
> 
> 标签：php, html

我试图编写一个脚本，用户可以通过该脚本直接下载图像。
这是我最终得到的代码，

```
 <?php
        $fileContents   =   file_get_contents('http://xxx.com/images/imageName.jpg');
        header('Content-Description: File Transfer');
        header('Content-Type: application/octet-stream');
        header('Content-Disposition: attachment; filename='.urlencode("http://xxx.com/images/imageName.jpg"));
        header('Content-Transfer-Encoding: binary');
        header('Expires: 0');
        header('Cache-Control: must-revalidate');
        header('Pragma: public');
        header('Content-Length: ' . filesize($fileContents));
        ob_clean();
        flush();
        echo $fileContents;
        exit;
    ?> 
```

但是每次我在浏览器中点击上述脚本的 url 时，它都会返回一个零字节数据的文件。
你愿意帮我解决这个问题吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-18T06:19:19.380

试试下面的代码

```
<?php 
    $file_name = 'file.png';
    $file_url = 'http://www.myremoteserver.com/' . $file_name;
    header('Content-Type: application/octet-stream');
    header("Content-Transfer-Encoding: Binary"); 
    header("Content-disposition: attachment; filename=\"".$file_name."\""); 
    readfile($file_url);
?> 
```

[阅读更多](https://stackoverflow.com/questions/11090272/how-can-i-force-a-image-download)，也阅读本[教程](http://davidwalsh.name/php-force-download)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-18T07:59:14.190

我注意到您在文件内容而不是文件名本身上使用了文件大小；

如果是，您的代码将起作用：

```
<?php
    $filename = 'http://xxx.com/images/imageName.jpg';
    header('Content-Description: File Transfer');
    header('Content-Type: application/octet-stream');
    header('Content-Disposition: attachment; filename='.urlencode($filename));
    header('Content-Transfer-Encoding: binary');
    header('Expires: 0');
    header('Cache-Control: must-revalidate');
    header('Pragma: public');
    header('Content-Length: ' . filesize($filename));
    ob_clean(); // not necessary
    flush();  // not necessary
    echo file_get_contents($filename); // or just use readfile($filename);
    exit;
?> 
```

# android - 无法执行 Android 模拟器：权限被拒绝

> ID：14393373
> 
> 赞同：0
> 
> 时间：2013-01-18T06:13:02.850
> 
> 标签：android, android-emulator

我无法从 Eclipse 执行我的 Android 模拟器。因此，现在我正在尝试使用命令行来做到这一点。我的操作系统是 Ubuntu。我收到以下消息：

```
bda@bda-EasyNote-TJ75:~$ ~/android-sdk-linux/tools/emulator -avd Android40 -wipe-data -no-boot-anim -cpu-delay 0
Could not launch '/home/bda/android-sdk-linux/tools/emulator-arm': Permission denied 
```

我该如何解决？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-18T06:15:49.247

权限似乎已损坏。尝试

```
chmod +x /home/bda/android-sdk-linux/tools/emulator-arm 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-25T02:19:00.950

你是什​​么意思不能从eclipse执行模拟器可能是你下载了损坏的android版本。请确认它是否是损坏的版本。请查看整个设置过程的这 3 个视频，以确保您没有在某个地方搞砸！

1) [http://www.youtube.com/watch?v=suDrc8Deznw](http://www.youtube.com/watch?v=suDrc8Deznw) \http://www.youtube.com/watch?v=1dsxnLwy-m8

3) [http://www.youtube.com/watch?v=EEs_Szwq-Po](http://www.youtube.com/watch?v=EEs_Szwq-Po)

# html - 加速画廊页面

> ID：14393374
> 
> 赞同：0
> 
> 时间：2013-01-18T06:13:11.237
> 
> 标签：html, css, image

我有一个带有 jQ​​uery 画廊插件的 HTML 页面。该画廊拍摄了 15 张图片和 15 张缩略图。现在页面加载有点慢，我想提高页面加载速度。我有几个基本问​​题：

1.  如果`display:none`在图像上指定了 a，我知道它不会占用文档流中的空间，但它仍然被下载了吗？

    如果不是，我可以只下载第一个图像，并在页面的其余部分完成加载后让其他图像预加载。

2.  如果在一个页面上指定了两次相同的图像，它是下载一次还是两次？

    我想我会使用较大的图像作为缩略图，而不是加载 15 个图像和 15 个缩略图，并指定`height`和`width`属性以使它们变小。

    例如，

    `<div id="main-image"><img src='something' alt='something' /></div>`

    `<div id="thumb-image"><img src='something' alt='something-else' width='50px' height='50px' />`

任何其他加快进程的指针都会非常有帮助。提前致谢。:)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-18T16:28:47.610

你的主页上有图片吗？如果没有，那么您可以先预加载图像。

在此处查看演示[http://www.thewindowdr.info](http://www.thewindowdr.info)然后单击导航栏上的图库。

创建 image-preload.js 文件并将其粘贴，然后填写图像位置。

将此代码添加到您的标题

```
<script type="text/javascript" src="../js/image-preload.js"></script> 
```

并将此代码添加到 .js 文件中

```
function preloader() {
    if (document.images) {
        var img1 = new Image();
        var img2 = new Image();
        var img3 = new Image();
        var img4 = new Image();
        var img5 = new Image();
        var img6 = new Image();
        var img7 = new Image();
        var img8 = new Image();
        var img9 = new Image();
        var img10 = new Image();
        var img11 = new Image();
        var img12 = new Image();
        var img13 = new Image();
                var img14 = new Image();
                var img15 = new Image();

        img1.src = "../images/#####.jpg";
        img2.src = "../images/#####.jpg";
        img3.src = "../images/#####.jpg";
        img4.src = "../images/#####.jpg";
        img5.src = "../images/#####.jpg";
        img6.src = "../images/#####.jpg";
        img7.src = "../images/#####.jpg";
        img8.src = "../images/#####.jpg";
        img9.src = "../images/#####.jpg";
        img10.src = "../images/#####.jpg";
        img11.src = "../images/#####.jpg";
        img12.src = "../images/#####.jpg";
        img13.src = "../images/#####.jpg";
        img14.src = "../images/#####.jpg";
        img15.src = "../images/#####.jpg";

    }
}
function addLoadEvent(func) {
    var oldonload = window.onload;
    if (typeof window.onload != 'function') {
        window.onload = func;
    } else {
        window.onload = function() {
            if (oldonload) {
                oldonload();
            }
            func();
        }
    }
}
addLoadEvent(preloader); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-18T09:53:09.320

1.  是的，它们仍然被下载（实际上是常见的预加载技巧）
2.  重复的图像只下载一次。

你从哪里得到 jQuery 插件？从 google API 加载 jQuery 将允许浏览器通过 google 缓存脚本，这让您和您的用户的速度略有提高。

# jquery - 在 DIV 中加载模板

> ID：14393379
> 
> 赞同：0
> 
> 时间：2013-01-18T06:13:23.537
> 
> 标签：jquery, html, templates

我有两个 div，我想在那里加载模板。我正在尝试像这样加载，它不起作用。这是我的代码。

主文件.htm

```
Details

 <div id="placeholder1" />
 <div id="placeholder2" /> 
```

模板1.htm

```
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title></title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
      <script type="text/javascript" charset="utf-8">

            $(document).ready(function () {
                $('#example').dataTable({
                    "bProcessing": true,
                    "bPaginate": false,
                    "sAjaxSource": '/Home/GetReport1',

                });
            });
        </script>

 </head>

TESTING.........

    <div id="dynamic">
    <table cellpadding="0" cellspacing="0" border="0" class="display" id="example">
        <thead>
            <tr>
                <th width="20%">Date</th>
                <th width="25%">Time</th>

            </tr>
        </thead>
        <tbody>
       </tbody>

    </table>
    </div>
    </html> 
```

模板2.htm

```
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title></title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
      <script type="text/javascript" charset="utf-8">

            $(document).ready(function () {
                $('#example').dataTable({
                    "bProcessing": true,
                    "bPaginate": false,
                    "sAjaxSource": '/Home/GetReport1',

                });
            });
        </script>

 </head>

TESTING.........

    <div id="dynamic">
    <table cellpadding="0" cellspacing="0" border="0" class="display" id="example">
        <thead>
            <tr>
                <th width="20%">Place</th>
                <th width="25%">Food</th>

            </tr>
        </thead>
        <tbody>
       </tbody>

    </table>
    </div>
    </html> 
```

这里我如何加载模板表单 JS 文件

myjs.js

```
 var placeholder = $("#tab");
            placeholder.setTemplateURL("/Templates/Home/main.htm");

            placeholder.load("/Templates/Home/pricinghistory.htm");

            var firstDiv = $("placeholder1");

            firstDiv.setTemplate("/Templates/Home/Template1.htm");

            firstDiv.load("/Templates/Home/Template1.htm"); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-18T06:22:46.607

在您的模板中，您似乎正在使用`dataTable`从未包含其相应脚本文件的插件。此外，您似乎正在使用 jQuery，但我也看不到任何对它的引用。因此，请确保您已包含您打算在模板中使用的脚本：

```
<script type="text/javascript" src="/scripts/jquery.min.js"></script>
<script type="text/javascript" src="/scripts/jquery.dataTables.min.js"></script> 
```

此外，为了调试这些问题，我强烈建议您开始使用 javascript 调试工具，例如 FireBug。它会向您显示您可能遇到的潜在 javascript 错误，您将能够从您的 AJAX 调用中看到确切的请求/响应，并立即看到它们失败的潜在原因等等。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-18T07:57:04.303

检查ajax源返回的数据的Json格式，它应该包括'aaData'。也尝试排查模板页面是否模板页面使用datatable获取数据，稍后尝试加载到main.html中的div中

# java - 如何抑制 ZK 框架生成的异常？

> ID：14393382
> 
> 赞同：0
> 
> 时间：2013-01-18T06:13:31.227
> 
> 标签：java, exception-handling, zk

ZK 会生成自己的异常，例如 Numberformat Exception for a blank intbox 等。我想在这种情况下显示我自己的自定义错误页面，而不是 ZK 隐式生成的弹出窗口。我怎样才能实现它？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-18T06:49:25.750

您可以为指定的异常类定义[错误页面](http://books.zkoss.org/wiki/ZK_Developer%27s_Reference/UI_Patterns/Error_Handling)。`zk.xml`

# .net - 防止 WCF 双工回调服务出现死锁问题

> ID：14393386
> 
> 赞同：13
> 
> 时间：2013-01-18T06:13:54.113
> 
> 标签：.net, wcf, duplex

我有一个自托管 wcf 双工回调服务的问题。我收到一条`InvalidOperationException`消息：

> 此操作将死锁，因为在当前消息完成处理之前无法接收到回复。如果要允许无序消息处理，请在 CallbackBehaviorAttribute 上指定 Reentrant 或 Multiple 的 ConcurrencyMode。

这是我的服务行为：

```
[ServiceBehavior(InstanceContextMode = InstanceContextMode.Single, ConcurrencyMode =  ConcurrencyMode.Reentrant, UseSynchronizationContext = true)] 
```

这是我的服务合同：

```
 [ServiceContract(SessionMode = SessionMode.Required, CallbackContract = typeof(IClientCallback))]

[ServiceContract]
public interface IClientToService
{
    [OperationContract(IsOneWay = false)]
    LVSSStatus GetLvssStatus();

    [OperationContract(IsOneWay = true)]
    void PickSpecimen(long trackingNumber, int destCode);

    [OperationContract(IsOneWay = true)]
    void CancelCurrentPickTransaction();
} 
```

这是我的回调接口：

```
public interface ILvssClientCallback
{
    [OperationContract(IsOneWay = true)]
    void SendClientCallback(LvssCallbackMessage callbackMessage);

    [OperationContract(IsOneWay = false)]
    List<SpecimenTemplateDescriptor> GetTemplateDescriptorList(DrawerLayout drawerLayout);

    [OperationContract(IsOneWay = false)]
    SpecimenTemplate SelectSpecimenTemplate(string templateName, int version);

    [OperationContract]
    void SpecimenStoredInContainer(string containerID, bool isValidRackID, int rackRow, int rackCol, int deckRow, int deckCol,
     int drawerRow, int drawerCol, long trackingNumber, RobotErrors robotError);

    [OperationContract]
    void LvssRobotStatusChange(LVSSStatus status);
} 
```

我知道这`InvalidOperationException`是在客户端上调用回调操作时引起的，该服务已经被锁定以处理当前操作。因此，发生了死锁。

我尝试将我的 ConcurrencyMode 更改为多个，并将 UseSynchronizationContext 更改为 false。

我的服务仍然存在两个问题：

**首先：** 以下服务操作在`GetLvssStatus()`快速调用时冻结我的客户端 wpf 应用程序（通过快速单击 UI 按钮）。该方法不是一种方式，而是从服务同步返回一个枚举类型给客户端。

```
 [OperationContract(IsOneWay = false)]
    LVSSStatus GetLvssStatus(); 
```

*** 在这种情况下，是什么导致我的 wpf 应用程序冻结？***我可以做些什么来防止应用程序冻结？如果我使用 backgroundworker 线程作为异步调用，应用程序不会冻结。我真的需要这种方法来同步工作。

**第二：**当我将回调方法 LvssRobotStatusChange 分配给 时`IsOneWay = true`，我得到一个 ObjectDisposedException：无法访问已处置的对象。对象名称：`'System.ServiceModel.Channels.ServiceChannel'`。

```
 [OperationContract(IsOneWay = true)]
    void LvssRobotStatusChange(LVSSStatus status); 
```

*** 是什么导致了这个 ObjectDisposedException？***在这种情况下可以省略 IsOneWay 赋值吗？在这种情况下省略 IsOneWay 允许回调完成而没有任何异常。

*** 这些问题可能是由于缺少线程安全代码造成的吗？
***如果是这样，使 ConcurrencyMode.Multiple 服务行为线程安全的最佳实践是什么？

非常感谢您对这些问题的任何帮助。

***第一次编辑关于创建我的双工频道的更多信息。我的 wpf 视图模型创建了一个代理对象，负责处理我的频道的创建。到目前为止，当服务尝试使用回调对象时，任何尝试在客户端的新线程上设置我的通道都会导致 ObjectDisposedException。

***第二次编辑我相信如果我可以使用 void 方法设置 IsOneWay = true 的操作合同，我的服务应该可以工作。在可重入并发的情况下，主通道线程应该让这些方法通过，而不管任何锁定。
这是我的回调接口：

```
public interface ILvssClientCallback
{
    [OperationContract(IsOneWay = true)]
    void SendClientCallback(LvssCallbackMessage callbackMessage);

    [OperationContract]
    List<SpecimenTemplateDescriptor> GetTemplateDescriptorList(DrawerLayout drawerLayout);

    [OperationContract]
    SpecimenTemplate SelectSpecimenTemplate(string templateName, int version);

    [OperationContract(IsOneWay = true)]
    void SpecimenStoredInContainer(string containerID, bool isValidRackID, int rackRow, int rackCol, int deckRow, int deckCol,
     int drawerRow, int drawerCol, long trackingNumber, RobotErrors robotError);

    [OperationContract(IsOneWay = true)]
    void LvssRobotStatusChange(LVSSStatus status);
} 
```

当我将方法 LvssRobotStatuschange 操作合同设置为 IsOneWay = true 时，我的缓存回调通道会引发 CommunicationObjectAbortedException。由于某种原因，我的回调属性被中止。

***什么会导致回调通道中止？

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2013-01-18T09:51:22.817

我之前遇到过这个问题，[这个链接](https://web.archive.org/web/20121006182429/http://www.switchonthecode.com/tutorials/wcf-callbacks-hanging-wpf-applications)应该会有所帮助，它讨论了在应用程序主线程以外的线程上创建通道。

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2014-03-20T08:52:47.967

我遇到的问题：

```
CallBackHandlingMethod()
{
    requestToService();    // deadlock message.    
} 
```

出路：

```
CallBackHandlingMethod()
{
    Task.Factory.StartNew(()=>
    {
        requestToService();
    });
} 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2017-01-16T20:32:06.643

我有类似的问题，我只需添加即可解决

`[CallbackBehavior(ConcurrencyMode=ConcurrencyMode.Multiple)]`

到我的回调实现。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2017-01-23T12:46:52.277

```
[CallbackBehavior(ConcurrencyMode = ConcurrencyMode.Multiple)]
public class ServiceCallbackHandler : IServiceCallback
{
 ...
} 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2018-06-13T23:43:18.870

当使用除 之外的任何`UseSynchronizationContext = true`值时，在从服务调用中进行回调时，您正在创建死锁。调用堆栈如下所示：`CallbackBehavior.ConcurrencyMode``Multiple`

*   客户：`btDoSomething_Click`→`Service.DoSomething();`
    *   服务器：`DoSomething`→`Callback.ReportUpdate();`
        *   客户端：在 IO 回调中，`CallbackSynchronizationContext.Send(delegate { Callback.ReportUpdate(); })`

调用`CallbackSynchronizationContext.Send`挂起，因为它指的是正在执行的线程`btDoSomething_Click`。有很多方法可以摆脱这个循环：

1.  避免使服务同步（通过应用`[OperationContract(IsOneWay = true)]`
    （这会导致客户端在将请求发送到服务器后立即释放 UI 线程，而不是等待来自 的回复`Service.DoSomething`）。

2.  使回调不需要 UI 线程（通过应用`[CallbackBehavior(UseSynchronizationContext = false)]`或`[CallbackBehavior(ConcurrencyMode = ConcurrencyMode.Multiple)]`
    （在任何一种情况下，对回调的调用都将从线程池线程进行。如果您需要编组回 UI 线程，您仍然可以这样做`Synchronizationcontext.Post`）

3.  将您的客户端调用更新为`async`（将您的服务合同从更改`[OperationContract] void DoSomething();`为`[OperationContract] Task DoSomethingAsync();`）

* * *

`[CallbackBehavior(UseSynchronizationContext = true)]`TL;DR：在非操作中进行回调与 from 的组合`OneWay`将导致客户端同步上下文出现死锁。如果您需要在同步上下文中使用回调，请更改您的操作合同以使用异步：

老的：

```
[ServiceContract(CallbackContract = typeof(IControllerServiceCallback))]
public interface IControllerService
{

    [OperationContract]
    void OpenDrawer();
} 
```

新的：

```
[ServiceContract(CallbackContract = typeof(IControllerServiceCallback))]
public interface IControllerService
{
    [OperationContract]
    Task OpenDrawerAsync();
} 
```

# c++ - 释放 C++ 映射值中的指针字段的问题

> ID：14393388
> 
> 赞同：0
> 
> 时间：2013-01-18T06:14:10.460
> 
> 标签：c++, map, free

我有一个结构：

`typedef struct { char *ptr; } A;`

和一张地图

```
typedef std::map<std::wstring, A> myMap; 
```

我在填充地图时使用 malloc 为 ptr 字段分配了内存。为了防止在清除地图时发生内存泄漏，我有以下代码（actualMap 是我必须清除的实际地图）：

```
for (myMap::iterator iter = actualMap.begin(); iter != actualMap.end(); ++iter)
{
    Free((iter->second).ptr);
}
actualMap.clear(); 
```

但是，当我正常启动应用程序时，在执行 Free 时出现异常。当我直接通过 VS2010 启动应用程序时，不会生成此异常。我错过了什么吗？

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-18T06:21:52.393

我建议您使用 C++ std::string 而不是原始指针

```
struct A
{ 
  std::wstring data;
};

std::map<std::wstring, A> myMap;

actualMap.clear(); 
```

A 只有一个指向字符串的指针，所以 myMap 可以是：

```
std::map<std::wstring, std::wstring> myMap; 
```

# android - 滚动时的Android GridView问题

> ID：14393390
> 
> 赞同：3
> 
> 时间：2013-01-18T06:14:42.570
> 
> 标签：android, scroll, android-gridview

我正在使用 GridView。一切都很好。但是当滚动某些项目内的内容时，会转移到基线。但是当被触摸时，它又回到了顶部。这是一个疯狂的错误。

**活动 Xml**

```
enter code here
    <merge xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:tools="http://schemas.android.com/tools"
    tools:context=".HomeActivity" >

    <RelativeLayout
        xmlns:android="http://schemas.android.com/apk/res/android"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:orientation="vertical" >

        <include layout="@layout/color_bar" />

        <RelativeLayout
            style="@style/default_bg"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_below="@+id/rl_color_bar" >

            <RelativeLayout
                android:id="@+id/rl_top_icons"
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:layout_alignParentTop="true" >

                <Button
                    android:id="@+id/btn_ctp_logo"
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:layout_alignParentLeft="true"
                    android:layout_alignParentTop="true"
                    android:background="@drawable/btn_ctp_selector" />

                <Button
                    android:id="@+id/btn_twitter"
                    android:layout_width="32dp"
                    android:layout_height="32dp"
                    android:layout_alignParentTop="true"
                    android:layout_toLeftOf="@+id/btn_facebook"
                    android:background="@drawable/btn_twitter_selector" />

                <Button
                    android:id="@+id/btn_facebook"
                    android:layout_width="32dp"
                    android:layout_height="32dp"
                    android:layout_alignParentTop="true"
                    android:layout_toLeftOf="@+id/btn_youtube"
                    android:background="@drawable/btn_facebook_selector" />

                <Button
                    android:id="@+id/btn_youtube"
                    android:layout_width="32dp"
                    android:layout_height="32dp"
                    android:layout_alignParentTop="true"
                    android:layout_toLeftOf="@+id/btn_linked_in"
                    android:background="@drawable/btn_youtube_selector" />

                <Button
                    android:id="@+id/btn_linked_in"
                    android:layout_width="32dp"
                    android:layout_height="32dp"
                    android:layout_alignParentRight="true"
                    android:layout_alignParentTop="true"
                    android:background="@drawable/btn_twitter_selector" />
            </RelativeLayout>

                <RelativeLayout 
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:layout_below="@+id/rl_top_icons">

                    <GridView 
                        android:id="@+id/grid_properties"
                        android:layout_width="match_parent"
                        android:layout_height="match_parent"
                        android:numColumns="auto_fit"
                        android:verticalSpacing="6dp"
                        android:horizontalSpacing="6dp"
                        android:stretchMode="columnWidth"
                        android:gravity="center"
                        ></GridView>
                </RelativeLayout>
        </RelativeLayout>
    </RelativeLayout>

    <include layout="@layout/progress_screen" />

</merge> 
```

**适配器类**

```
public class PropertyListAdapter extends BaseAdapter {

    private Context mContext;
    private ArrayList<Property> data = null;
    private int layoutID;
    private LayoutInflater layout_inflater;
    ImageManagerGallery imageManager;
    DebugHelper debug = new DebugHelper(true);

    public PropertyListAdapter(Context c, int layoutID, ArrayList<Property> list){
        mContext = c;
        data = list;
        this.layoutID = layoutID;
        imageManager = new ImageManagerGallery(c);
    }

    public void add(ArrayList<Property> list){
        if(this.data != null){
            this.data.clear();
            this.data.addAll(list);
            notifyDataSetChanged();
        }
    }

    @Override
    public int getCount() {
        if(this.data != null){
            return this.data.size();
        }
        return 0;
    }

    @Override
    public Property getItem(int position) {
        if(this.data != null){
            return this.data.get(position);
        }
        return null;
    }

    @Override
    public long getItemId(int position) {
        if(this.data != null){
            return Common.getStringAsInteger(this.data.get(position).getSiteid());
        }
        return 0;
    }

    @Override
    public View getView(int position, View convertView, ViewGroup parent) {
        VHHomeProperty viewHolder;
        Bitmap bitmap;

        if(convertView == null){
            this.layout_inflater = (LayoutInflater) mContext.getSystemService(Context.LAYOUT_INFLATER_SERVICE);
            convertView = this.layout_inflater.inflate(layoutID, null);

            viewHolder = new VHHomeProperty();
            viewHolder.iv_imageView = (ImageView)convertView.findViewById(R.id.iv_property_image);
            viewHolder.tv_text = (TextView)convertView.findViewById(R.id.tv_home_property_text);
            viewHolder.tv_title = (TextView)convertView.findViewById(R.id.tv_property_title);
            viewHolder.progress = (ProgressBar)convertView.findViewById(R.id.idProgressBar);

            convertView.setTag(viewHolder);
        }else{
            viewHolder = (VHHomeProperty) convertView.getTag();
        }

        if(this.data != null){
            Property locProp = this.data.get(position);
            viewHolder.tv_title.setText(locProp.getTitle());
            debug.print(locProp.getHomePageText());
            String htmlString = Html.fromHtml(Html.fromHtml(locProp.getHomePageText()).toString()).toString();
            debug.print(htmlString);            
            viewHolder.tv_text.setText(htmlString);

            try{
                viewHolder.iv_imageView.setTag(locProp.getImagePath());
                imageManager.displayImage(locProp.getImagePath(), viewHolder.iv_imageView, viewHolder.progress);

            }catch(Exception e){

            }
        }

        RelativeLayout.LayoutParams layoutParams = (RelativeLayout.LayoutParams)convertView.getLayoutParams();
        layoutParams.addRule(RelativeLayout.ALIGN_PARENT_TOP);

        return convertView;
    }

} 
```

**grid_home_property.xml**

```
 <?xml version="1.0" encoding="utf-8"?>
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:background="@drawable/home_property_selector"
    android:gravity="top"
    android:padding="3dp" >

    <RelativeLayout
        android:id="@+id/relativeLayout1"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content" >

        <ImageView
            android:id="@+id/iv_property_image"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_alignParentTop="true"
            android:src="@drawable/sample_property_image" />

        <ProgressBar
            android:id="@+id/idProgressBar"
            style="?android:attr/progressBarStyleSmall"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_centerHorizontal="true"
            android:layout_centerVertical="true" />
    </RelativeLayout>

    <TextView
        android:id="@+id/tv_home_property_text"
        style="@style/homePropertyText"
        android:layout_below="@+id/tv_property_title" />

    <TextView
        android:id="@+id/tv_property_title"
        style="@style/homePropertyTitle"
        android:layout_alignLeft="@+id/relativeLayout1"
        android:layout_below="@+id/relativeLayout1"
        android:layout_marginTop="14dp"
        android:text="Huntingdon" />

</RelativeLayout> 
```

# google-chrome - 是否有任何 chrome API 或 DOM API 来获取该浏览器的整个 HTTP 标头

> ID：14393395
> 
> 赞同：0
> 
> 时间：2013-01-18T06:15:03.673
> 
> 标签：google-chrome, google-chrome-extension

是否有任何 chrome API 或 DOM API 来获取浏览器从服务接收到的整个 HTTP 标头（如下面的片段）

* * *

```
HTTP/1.1 200 OK
Content-Type: text/xml; charset=utf-8
Content-Length: length

<?xml version="1.0" encoding="utf-8"?>
<objPlaceOrderResponse xmlns="https://api.efxnow.com/webservices2.3">
 ...... 
```

* * *

我想修改这个 HTTP 标头（例如：我会先修改内容类型，然后浏览器处理这个 http），我该​​怎么做？

非常感谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-18T06:41:18.503

您可以通过 weRequest API 添加一个事件监听器来修改`response headers`或`request headers`.

# 示例实现

```
chrome.webRequest.onHeadersReceived.addListener(

function (details) {
    for (var i = 0; i < details.responseHeaders.length; ++i) {
        if (details.responseHeaders[i].name === 'X-Frame-Options') {
            details.responseHeaders.splice(i, 1);
            break;
        }
    }
    return {
        responseHeaders: details.responseHeaders
    };
}, {
    urls: ["<all_urls>"]
}, ["blocking", "responseHeaders"]); 
```

# 参考

*   [网络请求 API](https://developer.chrome.com/extensions/webRequest.html)

# ruby-on-rails - 在 index 页面中调用 belongs_to 中的属性

> ID：14393396
> 
> 赞同：0
> 
> 时间：2013-01-18T06:15:04.707
> 
> 标签：ruby-on-rails

不确定表达这一点的最佳方式。

我有一个与单位有关系（has_many）的建筑物数据库。

在我的索引页面上，我希望能够调用与单元相关的价格（与建筑物相关）

理想情况下，它会像

```
<%= buildings.each do |building| %>
<%= link_to building.name, :building %>
Unit 1: <%= building.unit.find_by_id(1).price %> 
```

但这似乎根本不起作用。有任何想法吗？我正在尝试调用属于该建筑物的第一个单元，然后从该单元中提取价格。以及如何在索引控制器中声明单位？现在我那里只有@buildings。

编辑：更新的代码。

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-18T07:21:10.330

你需要改变这个：

```
Unit 1: <%= building.unit.find_by_id(1).price %> 
```

进入这个：

```
Unit 1: <%= building.unit.first.price %> 
```

# java - 使用线程对同一个 jframe 执行操作

> ID：14393398
> 
> 赞同：0
> 
> 时间：2013-01-18T06:15:07.590
> 
> 标签：java, multithreading, swing

我需要开发 Java 代码以使 JFrame 带有文本字段和按钮。使用线程，我需要在 JFrame 的标题栏中每分钟更新一次时间。使用另一个线程我需要在控制台中显示文本框值时按钮已单击。我有执行这两种操作的代码（每分钟更新时间并获取文本框值）但我不知道如何在同一个类中添加两个线程。如果有人知道请帮助我

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-18T07:47:47.240

你问的是在`Swing`. `Swing`组件不会`thread-safe`也应该只从`Event Dispatching Thread`（也称为`EDT`或 Swing Thread）更新。为此，`Swing`具有实用方法，例如`SwingUtilities.invokeLater(Runnable)`将在`EDT`. 这个想法是你将你的代码`JFrame`放在一个单独的内部做 Swing 的事情（比如随着时间更新标题）`Runnable`并将它传递给`invokeLater()`.

为此，您可以创建一个匿名 Runnable 类：

```
Runnable updateJFrame = new Runnable () {
    public void run () {
        myJFrame.setTitle("My New Title");
    }
};

SwingUtilities.invokeLater(updateJFrame); 
```

使用`invokeLater()`还可以确保组件在更新后正确刷新/重新绘制。（您在使用静态时看到的行为实际上可能是刷新/重绘问题。）这个故事的寓意是，如果您在非 EDT 线程上操作 Swing 组件，那么所有的赌注都将失败。

# html - 在不使用 div overflow:auto 或 JS 的情况下创建可滚动块

> ID：14393400
> 
> 赞同：0
> 
> 时间：2013-01-18T06:15:09.897
> 
> 标签：html, scrollbar, css

我正在尝试在我的 html 页面中创建一个包含表格的元素，但我希望它具有固定的高度和滚动条。由于我将通过电子邮件发送此内容并且某些电子邮件客户端不支持文本溢出，因此我希望能够在不使用任何溢出或 javascript 的情况下做到这一点。这可能吗？谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-18T06:17:27.787

不，电子邮件 HTML 必须非常老派。想想 HTML4.01。Outlook 使用 MS Word 2007 作为它的 HTML 解析器。你花哨的 CSS 99% 都不起作用，零 JS 会起作用。让内容填充电子邮件正文并让用户滚动客户端窗口。

一个常见的选项是使用“前导文本”，例如您希望用户阅读的任何文章的前 120 个左右字符，并附有一个“阅读更多”链接，该链接将用户带到网站上的完整文章。您的电子邮件的目的应该是让用户尽快访问您的网站，以便您可以使用浏览器并出售您的内容或服务。

# swing - 如何在 JPanel 中收听关闭

> ID：14393403
> 
> 赞同：2
> 
> 时间：2013-01-18T06:15:31.830
> 
> 标签：swing, jpanel, windowlistener

我正在处理一些奇怪的遗留代码。他们有一个实现 JPanel 的自定义对象。该`JPanel`对象是主应用程序中的辅助弹出屏幕。我遇到的问题是检测辅助弹出屏幕何时关闭。

我尝试`WindowListener`为该类实现一个，但是当我尝试添加它时，没有`JFrame`与该对象关联。我假设这是因为他们正在使用自定义对象并且它是嵌入式弹出屏幕。

我试图检索一个`JFrame`使用：

```
JFrame parentFrame = (JFrame) SwingUtilities.getWindowAncestor(this); 
```

在 a 上失败了`NullPointerException`。我不知道为什么在此页面上检测到右上角的“x”关闭按钮如此困难！我应该提到他们能够将鼠标和按键监听器添加到嵌入在`JPanel`. 但是整个窗口的外部监听器给我带来了麻烦。

（请多多包涵，这是我的第一篇 stackoverflow 帖子，我是 Swing 新手。）

非常感谢！！

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-01-18T06:20:33.273

尝试为那个奇怪的面板调用[getParent()](http://docs.oracle.com/javase/1.4.2/docs/api/java/awt/Component.html#getParent%28%29)。它应该返回父 GUI 组件。如果这仍然不是您的框架，而是一些中间面板，请在其上调用 getParent()。顶级组件返回 null。

```
 Component p = strangePanel;
   while ( p != null && ! (p instanceof Window))
     p = p.getParent();

   ((Window) p ).addWindowListener(..); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-18T06:44:40.393

无法理解为什么您在以下位置收到“NullPointerException”：

```
JFrame parentFrame = (JFrame) SwingUtilities.getWindowAncestor(this); 
```

在两种情况下会发生这种情况：

```
JFrame parentFrame = (JFrame) SwingUtilities.getWindowAncestor(null); 
```

在您的情况下，这是不可能的，因为您已将**其**用作参数。

其次，您是否在上面的代码行中进行了一些其他操作，例如：

```
JFrame parentFrame = ((JFrame) SwingUtilities.getWindowAncestor(this)).someOperation(); 
```

在这种情况下，如果您的**此**对象表示顶部窗口，那么您应该得到“NullPointerException”，因为顶部父级的祖先返回为“null”。在其他情况下，我怀疑您会遇到此异常。

您能否在遇到异常的地方发布一段代码。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-18T08:42:41.123

对于这个答案，我做了一个小假设，即 Nullpointer 没有被抛出您提到的行，而是当您尝试将 WindowListener 添加到 parentFrame 时。这很可能是因为您正在打电话

```
JFrame parentFrame = (JFrame) SwingUtilities.getWindowAncestor(this); 
```

在将 JPanel 添加到 JFrame 层次结构之前。

这是有关如何解决此问题的粗略代码示例。认为它等待面板被通知它已附加到其层次结构中某处的 JFrame。

```
package test;

import java.awt.event.HierarchyEvent;
import java.awt.event.HierarchyListener;
import java.awt.event.WindowAdapter;
import java.awt.event.WindowEvent;
import javax.swing.JFrame;
import javax.swing.JPanel;
import javax.swing.SwingUtilities;

public class HierarchyTest extends JPanel {

    protected static void loadApp() {
        HierarchyTest test = new HierarchyTest();
        JFrame frame = new JFrame();
        frame.add(test);
        frame.setSize(200, 200);
        frame.setVisible(true);
    }

    /**
     * @param args
     */
    public static void main(String[] args) {
        SwingUtilities.invokeLater(new Runnable() {

            @Override
            public void run() {
                loadApp();

            }
        });

    }

    public HierarchyTest() {
        this.addHierarchyListener(new HierarchyListener() {

            @Override
            public void hierarchyChanged(HierarchyEvent e) {
                // This can be optimized by checking the right flags, but I leave that up to you to look into
                boolean connected = setupListenersWhenConnected();

                if (connected) {
                    HierarchyTest.this.removeHierarchyListener(this);
                }
            }
        });
    }

    protected boolean setupListenersWhenConnected() {
        JFrame parentFrame = (JFrame) SwingUtilities.getWindowAncestor(this);
        if (parentFrame == null) {
            return false;
        }
        parentFrame.addWindowListener(new WindowAdapter() {

            @Override
            public void windowClosing(WindowEvent e) {
                // Implementation here
                System.out.println("This window is closing!");
            }
        });
        return true;
    }
} 
```

# linux - shell 脚本无法使用 SMTP 服务器准确发送邮件

> ID：14393406
> 
> 赞同：1
> 
> 时间：2013-01-18T06:16:16.997
> 
> 标签：linux, shell, smtp

我编写了使用 SMTP 连接自动发送邮件的脚本，但是当我执行脚本时，有时它可以工作，有时它不发送邮件。行为相当模棱两可。

```
Environment : Linux Server Fedora 14 
Mailing Client : Lotus Notes 8.5.2 
```

请在下面找到脚本。

```
# Function for sending email
sendemail(){
date=`date '+%d-%m-%Y'`
dbDir=/var/lib/MYSQLBACKUP/$date
dbname='DBNAME'
log_file="${dbDir}/${dbname}_${date}.log"
attached_file="${dbname}_${date}.log"
echo $log_file
echo $attached_file
encoded_log_file=`cat $log_file | openssl base64`
#echo $encoded_log_file
( echo open 172.40.201.31 25
sleep 8
echo helo 172.40.201.31
echo mail from:Pratik.Vyas@gmail.com
echo rcpt to:Pratik.Vyas@gmail.com
echo data
echo to:Pratik.Vyas@gmail.com
echo from:Pratik.Vyas@gmail.com
echo "subject: SPARC CQ DB Backup Report : $date :"
echo "MIME-Version: 1.0"
#echo "Content-Type: text/plain; charset=UTF-8"
#echo "Please view attached file"
echo "Content-Type: text/x-log;name="$attached_file""
echo "Content-Disposition:attachment;filename="$attached_file""
echo "Content-Transfer-Encoding: base64"
echo $encoded_log_file
echo $1
sleep 15
echo .
echo ^]
echo quit ) | telnet
echo "status:$?"
echo "Hello done"
}

sendemail 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-18T08:01:56.313

这是使用`/usr/lib/sendmail`. 这不一定是您系统的正确位置，但您应该能够对其进行调整。

```
# Function for sending email
sendemail(){
    date=$(date '+%d-%m-%Y')                        # prefer $(...) over `...`
    dbDir=/var/lib/MYSQLBACKUP/$date
    dbname='DBNAME'
    log_file="${dbDir}/${dbname}_${date}.log"
    attached_file="${dbname}_${date}.log"
    echo $log_file
    echo $attached_file
    encoded_log_file=$(openssl base64 < "$log_file")  # notice UUCA fix + quoting
    #echo $encoded_log_file
    # You should configure sendmail to use 172.40.201.31 as your smarthost
    /usr/lib/sendmail -oi -t <<________HERE
to: Pratik.Vyas@gmail.com
from: Pratik.Vyas@gmail.com
subject: SPARC CQ DB Backup Report : $date :
MIME-Version: 1.0
Content-Type: text/x-log; name="$attached_file"
Content-Disposition: attachment; filename="$attached_file"
Content-Transfer-Encoding: base64
X-Ample: notice empty line between headers and body!    # <-- look

$encoded_log_file
$1
________HERE
    echo "status:$?"
    echo "Hello done"
}

sendemail 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-18T06:21:42.163

我建议使用库或命令行程序（如`mail`or `mailx`）来发送邮件，而不是尝试在 shell 脚本中实现 SMTP。

# windows-phone-7 - 无法在 XAML 中使用 xmlns:cl="FooNamespace"

> ID：14393408
> 
> 赞同：3
> 
> 时间：2013-01-18T06:16:29.277
> 
> 标签：windows-phone-7, xaml, namespaces, xml-namespaces, xamlparseexception

在我的 WP7 解决方案中，我有一个`PhoneClassLibrary1`程序集。在它的 AssemblyInfo.cs 我有

```
[assembly: XmlnsPrefix("FooNamespace", "cl")]
[assembly: XmlnsDefinition("FooNamespace", "PhoneClassLibrary1")] 
```

我有一个微不足道的控制`PhoneClassLibrary1`

```
using System.Windows.Controls;

namespace PhoneClassLibrary1
{
    public class Class1 : Control {}
} 
```

* * *

`PhoneApp1`同一解决方案中的项目具有主页

```
<phone:PhoneApplicationPage 
    x:Class="PhoneApp1.MainPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation" xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml" xmlns:phone="clr-namespace:Microsoft.Phone.Controls;assembly=Microsoft.Phone"
    xmlns:cl="FooNamespace">

    <cl:Class1/>

</phone:PhoneApplicationPage> 
```

这编译得很好。但是当运行时，我得到`XamlParseException`

> {“找不到类型‘Class1’，因为‘FooNamespace’是一个未知的命名空间。[行：8 位置：6]”}

我尝试将名称分配给控件`<cl:Class1 x:Name="foo"/>`以在生成的代码中引用 Class1。一样`XamlParseException`。

我在`PhoneApp1`. 请注意那个`AssemblyPart`标签。

```
<Deployment xmlns="http://schemas.microsoft.com/client/2007/deployment"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml">
  <Deployment.Parts>
    <AssemblyPart x:Name="PhoneClassLibrary1" Source="PhoneClassLibrary1.dll" />
  </Deployment.Parts>
</Deployment> 
```

该应用程序成功启动后。

* * *

如果我检查 PhoneApp1.xap （这是一个部署包），我可以看到以下生成的 AppManifest.xml

```
<Deployment xmlns="http://schemas.microsoft.com/client/2007/deployment" xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml" EntryPointAssembly="PhoneApp1" EntryPointType="PhoneApp1.App" RuntimeVersion="4.7.50308.0">
  <Deployment.Parts>
    <AssemblyPart x:Name="PhoneApp1" Source="PhoneApp1.dll" />
    <AssemblyPart x:Name="PhoneClassLibrary1" Source="PhoneClassLibrary1.dll" />
    <AssemblyPart x:Name="PhoneClassLibrary1" Source="PhoneClassLibrary1.dll" />
  </Deployment.Parts>
</Deployment> 
```

那不是错字。只有在生成的 AppManifest.xml`<AssemblyPart x:Name="PhoneClassLibrary1"`中指定**TWICE**时，应用程序才能运行

* * *

难道我做错了什么？我从事一个控制项目，该项目在多个解决方案中重复使用，并且不想在所有这些众多项目中修改 AppManifset.xml。

`XmlnsDefinition`无需修改 AppManifset.xml 就可以工作吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-11T22:10:26.713

我对 XmlnsPrefixAttribute 的假设是，这为工具提供了优先使用的提示，并且是可选的。XAML 中的有效 xmlns 定义是：- xmlns:cl="clr-namespace:FooNamespace;Assembly=PhoneClassLibrary1"

clr-namespace 前缀用于生成包含命名空间和包含所需类型的程序集的有效 Uri。

# hadoop - 我们可以在 CDH4 中为 dfs.data.dir 指定两个不同的分区吗？

> ID：14393412
> 
> 赞同：0
> 
> 时间：2013-01-18T06:17:10.820
> 
> 标签：hadoop, hdfs

由于 CDH4 遵循 JBOD 模式，为 n 个节点创建从 1 到 n 的目录。我可以在数据目录的两个不同分区中有两个同名的目录吗？我有每个 100GB 的 /mnt/disk1 和 /mnt/disk2 分区，我想将它们都用于 HDFS。以下conf是否有效

```
<property>
<name>dfs.datanode.data.dir</name>
<value>/mnt/disk1/1/dfs/dn,mnt/disk2/1/dfs/dn,mnt/disk1/2/dfs/dn,mnt/disk2/2/dfs/dn</value>
</property> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-18T06:30:33.403

是的。就配置而言，它只是将这些视为不同的目录。如果每个设备都是不同的设备，您将获得更高的效率，因为这将有助于克服 IO 限制。

# c# - 如何在c#中更改组合框选择的gighlighting dropdownItem的背景色

> ID：14393413
> 
> 赞同：0
> 
> 时间：2013-01-18T06:17:13.690
> 
> 标签：c#, drop-down-menu, combobox

当我点击组合框时，所有下拉项目都将被下拉，当鼠标悬停在一个项目上时，它将以默认的蓝色突出显示。现在我想将默认的蓝色更改为我的愿望。请任何人帮助。谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-18T06:35:35.987

如果您使用的是 WinForms，那么您可以使用自定义 ComboBox 或Microsoft 的 ComboBox 上的[DrawItem](http://msdn.microsoft.com/ru-ru/library/vstudio/system.windows.forms.combobox.drawitem%28v=vs.90%29.aspx)事件来执行此操作，例如，在 WPF 中，您可以覆盖 XAML 中的 Color。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-18T06:35:45.450

您不能覆盖此样式。检查以下问题以获得解释：

*   [更改 <select> 突出显示颜色](https://stackoverflow.com/questions/1667086/changing-select-highlight-color)
*   [如何更改 FireFox 中悬停的 Select-Option 的颜色](https://stackoverflow.com/questions/7027551/how-to-change-the-color-of-the-hovered-select-option-in-firefox)

但是，您可以尝试通过使用 js 创建下拉菜单并提供您想要的任何样式来模拟下拉菜单。检查链接以获取示例：

*   [http://www.jquery4u.com/plugins/10-jquery-selectboxdrop-down-plugins/](http://www.jquery4u.com/plugins/10-jquery-selectboxdrop-down-plugins/)
*   [http://jamielottering.github.com/DropKick/](http://jamielottering.github.com/DropKick/)

# android - 进度条没有显示任何颜色变化

> ID：14393415
> 
> 赞同：0
> 
> 时间：2013-01-18T06:17:25.393
> 
> 标签：android, android-progressbar

我已成功将进度条的颜色更改为 Color 中可用的颜色（蓝色、绿色等），但是当我给出特定颜色的十六进制代码时，我得到一个没有任何内容的条。我该如何解决这个问题？

```
ProgressBar pg = (ProgressBar)findViewById(R.id.progressBarDownload);
final float[] roundedCorners = new float[] { 5, 5, 5, 5, 5, 5, 5, 5 };
ShapeDrawable progressDrawable = new ShapeDrawable(new RoundRectShape(roundedCorners, null,null));
progressDrawable.getPaint().setColor(0x01060012);//<-----problem here?
ClipDrawable progress = new ClipDrawable(progressDrawable, Gravity.LEFT, ClipDrawable.HORIZONTAL);
pg.setProgressDrawable(progress);   
pg.setBackgroundDrawable(getResources().getDrawable(android.R.drawable.progress_horizontal));
pg.setProgress(40); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-18T06:23:09.877

使用此代码对我有用

```
 String source = "<b><font color=#ff0000> Loading. Please wait..."
                    + "</font></b>";
            pd = ProgressDialog.show(Main.this, "",

            Html.fromHtml(source), true);
            pd.setProgressStyle(ProgressDialog.STYLE_SPINNER); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-18T06:26:08.913

尝试使用 RGB 值而不是十六进制颜色代码，您可以使用 ColorPic 或任何其他类似工具轻松找到十六进制颜色代码的 RGB 值。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-17T08:36:55.450

试试这样”

```
Drawable progressDrawablePause = MainActivity.this.getResources().getDrawable(R.drawable.download_progressbar_pause_bg);
            progressDrawablePause.setBounds(bar.getProgressDrawable().getBounds());
            bar.setProgressDrawable(progressDrawablePause);
            bar.setProgress(60); 
```

第一个：设置可绘制边界第二个：设置进度绘制第三个：setprogress

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-18T06:38:44.327

试试这样。。

```
 ProgressBar pg = (ProgressBar)row.findViewById(R.id.progress);
    final float[] roundedCorners = new float[] { 5, 5, 5, 5, 5, 5, 5, 5 };
    pgDrawable = new ShapeDrawable(new RoundRectShape(roundedCorners, null,null));
    String MyColor = "#FF00FF";
    pgDrawable.getPaint().setColor(Color.parseColor(MyColor));
    ClipDrawable progress = new ClipDrawable(pgDrawable, Gravity.LEFT, ClipDrawable.HORIZONTAL);
    pg.setProgressDrawable(progress);   
    pg.setBackgroundDrawable(getResources().getDrawable(android.R.drawable.progress_horizontal));
    pg.setProgress(45); 
```

导入这个

导入 android.graphics.drawable.*；

[进度条](https://stackoverflow.com/questions/10951978/change-progressbar-color-through-code-only-in-android)

# c# - 将数据从 datagridview silverlight 保存到数据库

> ID：14393419
> 
> 赞同：0
> 
> 时间：2013-01-18T06:17:29.417
> 
> 标签：c#, vb.net, visual-studio-2010, silverlight, sql-server-2008

`DataGrid`单击按钮保存时，如何保存我的所有数据？

这是我的代码并说错误：

```
string value = (new System.Collections.Generic.Mscorlib_CollectionDebugView<SampleCrudApp.MainPage.GenerateNumber>(grdOrders.ItemsSource)).Items[0].items1; 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-18T06:44:53.847

这只是一个示例，因此您可以了解如何获取数据：

```
 For Each row As DataGridViewRow In dgv.Rows
        For Each cell As DataGridViewCell In row.Cells
            values.Add(cell.Value)
        Next

        sSQL = "INSERT INTO Table (value1,value2,value3) " & _
               "VALUES (" & values(0) & "," & values(1) & "," & values(2) & ")"

        '[...]
    Next 
```

您必须牢记每列的类型，以便在每种情况下使用正确的格式。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-18T06:22:48.343

尝试这个

```
 private void btnSave_Click(object sender, EventArgs e)
    {
        //get data back from the datagrid view
        //assuming my gridview is bound to ObservableCollection<User>
        var users= dataGridView1.DataSource as ObservableCollection<User>;
        foreach (var user in users)
        {
            //perform the save
        }

    } 
```

# java - 如何在 Java 中制作倒数计时器

> ID：14393423
> 
> 赞同：26
> 
> 时间：2013-01-18T06:17:39.480
> 
> 标签：java, countdown

我是编程的初学者（学生），被分配创建一个游戏。我正在制作的游戏叫做boggle。玩家必须在给定时间内在随机字母板上找到单词，但我在创建计时器时遇到了麻烦。这是我的计时器应该做的：

* * *

*   时间动态输入（设定时间）
*   从输入时间倒计时到 0
*   当 o => 跳出循环

我只需要知道如何让它倒计时。我认为我不需要 ActionListener，因为它在创建类的那一刻就开始滴答作响。

* * *

任何帮助、建议、链接、朝着正确的方向推进都将被张开双臂接受。

* * *

## 回答 #1

> 赞同：37
> 
> 时间：2013-01-18T06:31:20.583

```
import java.util.Scanner;
import java.util.Timer;
import java.util.TimerTask;

public class Stopwatch {
static int interval;
static Timer timer;

public static void main(String[] args) {
    Scanner sc = new Scanner(System.in);
    System.out.print("Input seconds => : ");
    String secs = sc.nextLine();
    int delay = 1000;
    int period = 1000;
    timer = new Timer();
    interval = Integer.parseInt(secs);
    System.out.println(secs);
    timer.scheduleAtFixedRate(new TimerTask() {

        public void run() {
            System.out.println(setInterval());

        }
    }, delay, period);
}

private static final int setInterval() {
    if (interval == 1)
        timer.cancel();
    return --interval;
}
} 
```

尝试这个。

* * *

## 回答 #2

> 赞同：14
> 
> 时间：2013-01-18T06:26:44.077

您会看到人们使用 Timer 类来执行此操作。不幸的是，它并不总是准确的。你最好的办法是在用户输入时获取系统时间，计算一个目标系统时间，并检查系统时间是否超过了目标系统时间。如果有，则跳出循环。

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2013-01-18T06:44:34.457

您可以使用小程序创建倒数计时器，下面是代码，

```
 import java.applet.*;
   import java.awt.*;
   import java.awt.event.*;
   import javax.swing.*;
   import javax.swing.Timer; // not java.util.Timer
   import java.text.NumberFormat;
   import java.net.*;

/**
    * An applet that counts down from a specified time. When it reaches 00:00,
    * it optionally plays a sound and optionally moves the browser to a new page.
    * Place the mouse over the applet to pause the count; move it off to resume.
    * This class demonstrates most applet methods and features.
    **/

public class Countdown extends JApplet implements ActionListener, MouseListener
{
long remaining; // How many milliseconds remain in the countdown.
long lastUpdate; // When count was last updated
JLabel label; // Displays the count
Timer timer; // Updates the count every second
NumberFormat format; // Format minutes:seconds with leading zeros
Image image; // Image to display along with the time
AudioClip sound; // Sound to play when we reach 00:00

// Called when the applet is first loaded
public void init() {
    // Figure out how long to count for by reading the "minutes" parameter
    // defined in a <param> tag inside the <applet> tag. Convert to ms.
    String minutes = getParameter("minutes");
    if (minutes != null) remaining = Integer.parseInt(minutes) * 60000;
    else remaining = 600000; // 10 minutes by default

    // Create a JLabel to display remaining time, and set some properties.
    label = new JLabel();
    label.setHorizontalAlignment(SwingConstants.CENTER );
    label.setOpaque(true); // So label draws the background color

    // Read some parameters for this JLabel object
    String font = getParameter("font");
    String foreground = getParameter("foreground");
    String background = getParameter("background");
    String imageURL = getParameter("image");

    // Set label properties based on those parameters
    if (font != null) label.setFont(Font.decode(font));
    if (foreground != null) label.setForeground(Color.decode(foreground));
    if (background != null) label.setBackground(Color.decode(background));
    if (imageURL != null) {
        // Load the image, and save it so we can release it later
        image = getImage(getDocumentBase(), imageURL);
        // Now display the image in the JLabel.
        label.setIcon(new ImageIcon(image));
    }

    // Now add the label to the applet. Like JFrame and JDialog, JApplet
    // has a content pane that you add children to
    getContentPane().add(label, BorderLayout.CENTER);

    // Get an optional AudioClip to play when the count expires
    String soundURL = getParameter("sound");
    if (soundURL != null) sound=getAudioClip(getDocumentBase(), soundURL);

    // Obtain a NumberFormat object to convert number of minutes and
    // seconds to strings. Set it up to produce a leading 0 if necessary
    format = NumberFormat.getNumberInstance();
    format.setMinimumIntegerDigits(2); // pad with 0 if necessary

    // Specify a MouseListener to handle mouse events in the applet.
    // Note that the applet implements this interface itself
    addMouseListener(this);

    // Create a timer to call the actionPerformed() method immediately,
    // and then every 1000 milliseconds. Note we don't start the timer yet.
    timer = new Timer(1000, this);
    timer.setInitialDelay(0); // First timer is immediate.
}

// Free up any resources we hold; called when the applet is done
public void destroy() { if (image != null) image.flush(); }

// The browser calls this to start the applet running
// The resume() method is defined below.
public void start() { resume(); } // Start displaying updates

// The browser calls this to stop the applet. It may be restarted later.
// The pause() method is defined below
public void stop() { pause(); } // Stop displaying updates

// Return information about the applet
public String getAppletInfo() {
    return "Countdown applet Copyright (c) 2003 by David Flanagan";
}

// Return information about the applet parameters
public String[][] getParameterInfo() { return parameterInfo; }

// This is the parameter information. One array of strings for each
// parameter. The elements are parameter name, type, and description.
static String[][] parameterInfo = {
    {"minutes", "number", "time, in minutes, to countdown from"},
    {"font", "font", "optional font for the time display"},
    {"foreground", "color", "optional foreground color for the time"},
    {"background", "color", "optional background color"},
    {"image", "image URL", "optional image to display next to countdown"},
    {"sound", "sound URL", "optional sound to play when we reach 00:00"},
    {"newpage", "document URL", "URL to load when timer expires"},
};

// Start or resume the countdown
void resume() {
    // Restore the time we're counting down from and restart the timer.
    lastUpdate = System.currentTimeMillis();
    timer.start(); // Start the timer
}

// Pause the countdown
void pause() {
    // Subtract elapsed time from the remaining time and stop timing
    long now = System.currentTimeMillis();
    remaining -= (now - lastUpdate);
    timer.stop(); // Stop the timer
}

// Update the displayed time. This method is called from actionPerformed()
// which is itself invoked by the timer.
void updateDisplay() {
    long now = System.currentTimeMillis(); // current time in ms
    long elapsed = now - lastUpdate; // ms elapsed since last update
    remaining -= elapsed; // adjust remaining time
    lastUpdate = now; // remember this update time

    // Convert remaining milliseconds to mm:ss format and display
    if (remaining < 0) remaining = 0;
    int minutes = (int)(remaining/60000);
    int seconds = (int)((remaining)/1000);
    label.setText(format.format(minutes) + ":" + format.format(seconds));

    // If we've completed the countdown beep and display new page
    if (remaining == 0) {
        // Stop updating now.
        timer.stop();
        // If we have an alarm sound clip, play it now.
        if (sound != null) sound.play();
        // If there is a newpage URL specified, make the browser
        // load that page now.
        String newpage = getParameter("newpage");
        if (newpage != null) {
            try {
                URL url = new URL(getDocumentBase(), newpage);
                getAppletContext().showDocument(url);
            }
            catch(MalformedURLException ex) {      showStatus(ex.toString()); }
        }
    }
}

// This method implements the ActionListener interface.
// It is invoked once a second by the Timer object
// and updates the JLabel to display minutes and seconds remaining.
public void actionPerformed(ActionEvent e) { updateDisplay(); }

// The methods below implement the MouseListener interface. We use
// two of them to pause the countdown when the mouse hovers over the timer.
// Note that we also display a message in the statusline
public void mouseEntered(MouseEvent e) {
    pause(); // pause countdown
    showStatus("Paused"); // display statusline message
}
public void mouseExited(MouseEvent e) {
    resume(); // resume countdown
    showStatus(""); // clear statusline
}
// These MouseListener methods are unused.
public void mouseClicked(MouseEvent e) {}
public void mousePressed(MouseEvent e) {}
public void mouseReleased(MouseEvent e) {}
} 
```

# css - 隐藏的 div 位于右侧或左侧，单击时滑出

> ID：14393427
> 
> 赞同：1
> 
> 时间：2013-01-18T06:17:59.327
> 
> 标签：css, html

伙计们，我想创建一个类似于下拉菜单的元素/div，但唯一的区别是它位于窗口的右边缘或左边缘。单击此元素时应滑出。我没有代码可以处理它。只有CSS！

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-18T06:31:49.600

干得好。根据自己的喜好调整：

**HTML**：

```
<div id="peek">Here I am</div> 
```

**CSS**：

```
html, body {
    height     : 100%;
    width      : 100%;
    overflow-x : hidden;
}
#peek {
    height           : 100%;
    width            : 400px;
    float            : right;
    position         : relative;
    left             : 360px;
    background-color : pink;
} 
```

**JS**：

```
$('#peek').on('click', function(){
  var $this = $(this);
  if ($this.hasClass('open')) {
    $this.animate({
      left : '360px'
    }, 500).removeClass('open');
  } else {
    $this.animate({
      left : 0
    }, 500).addClass('open');
  }
}); 
```

**演示**：http: [//jsfiddle.net/pTRr7/](http://jsfiddle.net/pTRr7/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-18T17:09:25.203

我在 Google 上搜索并在 Usabilitypost dot com 上找到了代码片段。这是代码...

```
<div id="slideout">
      <img src="feedback.png" alt="Feedback" />
      <div id="slideout_inner">
        [form code goes here]
      </div>
</div> 
```

CSS：

```
#slideout {
  position: fixed;
  top: 40px;
  left: 0;
  -webkit-transition-duration: 0.3s;
  -moz-transition-duration: 0.3s;
  -o-transition-duration: 0.3s;
  transition-duration: 0.3s;
}
#slideout_inner {
  position: fixed;
  top: 40px;
  left: -250px;
  -webkit-transition-duration: 0.3s;
  -moz-transition-duration: 0.3s;
  -o-transition-duration: 0.3s;
  transition-duration: 0.3s;
}
#slideout:hover {
  left: 250px;
}
#slideout:hover #slideout_inner {
  left: 0;
} 
```

# css - 想要在此动画中的底部 x 轴上有一个桨

> ID：14393433
> 
> 赞同：0
> 
> 时间：2013-01-18T06:18:51.853
> 
> 标签：css, html, canvas

我正在制作球和桨的动画。球弹得很好。在此之后，我想要一个桨或`<div>`x 轴上的元素形状的“桨”。该桨必须仅沿 x 轴移动，并且当我在任何位置将光标激活到 x 轴时应该移动。有什么帮助吗？

这是我的代码：

```
var x=150;
var y=150;
var dx=2;
var dy=4;
var WIDTH;
var HEIGHT;

var ctx=document.getElementById("canvas").getContext("2d");
ctx.beginPath();
ctx.arc(150,150,10,0,2*Math.PI,true);
ctx.closePath();
ctx.fill();

function init() {
  var ctx=document.getElementById("canvas").getContext("2d");
  return setInterval(draw,10);
}
function draw() {
  ctx.clearRect(0,0,300,300);
  ctx.beginPath();
  ctx.arc(x,y,10,0,2*Math.PI,true);
  ctx.closePath();
  ctx.fill();
  x+=dx;
  y+=dy;
  bounce();
}
function bounce(){
  if(x+dx>300||x+dx<0)
    dx=-dx;
  if(y+dy>300||y+dy<0)
    dy=-dy;
}
init(); 
```

[在小提琴中，在这里。](http://jsfiddle.net/stackmanoz/xWvEU/)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-18T07:53:59.923

试试这个代码：

在您的 var 声明中：

```
var mouseX = 150; 
```

在您的`init()`功能中：

```
document.getElementById("canvas").addEventListener('mousemove', moveHandler); 
```

在您的`draw()`功能中：

```
ctx.rect(mouseX-20,280,40,5); // rect( x , y , width , height )
ctx.fillStyle = 'black';      //       ^ This is the mouse's X position, minus half the paddle width.
ctx.fill(); 
```

最后，添加这个函数：

```
function moveHandler(e){
  e = e || window.event; // Compatibility.
  mouseX = e.offsetX;
} 
```

* * *

因此，您生成的代码**[将如下所示](http://jsfiddle.net/QnFg3/1/)**：

```
var x=150;
var y=150;
var dx=2;
var dy=4;
var WIDTH;
var HEIGHT;
var mouseX = 150;
var mouseY;

var ctx=document.getElementById("canvas").getContext("2d");
ctx.beginPath();
ctx.arc(150,150,10,0,2*Math.PI,true);
ctx.closePath();
ctx.fill();

function init() {
  document.getElementById("canvas").addEventListener('mousemove', moveHandler);
  return setInterval(draw,10);
}
function moveHandler(e){
  mouseX = e.offsetX;
}
function draw() {
  ctx.clearRect(0,0,300,300);
  ctx.rect(mouseX-20,280,40,5);
  ctx.fillStyle = 'black';
  ctx.fill();
  ctx.beginPath();
  ctx.arc(x,y,10,0,2*Math.PI,true);
  ctx.closePath();
  ctx.fill();
  x+=dx;
  y+=dy;
  bounce();
}
function bounce(){
  if(x+dx>300||x+dx<0)
    dx=-dx;
  if(y+dy>300||y+dy<0)
    dy=-dy;
}
init(); 
```

# c# - 使用 ObjectDataSource asp .net 的 Web 服务凭据

> ID：14393436
> 
> 赞同：0
> 
> 时间：2013-01-18T06:19:11.203
> 
> 标签：c#, asp.net, web-services, authentication

我有个问题：

我有需要用户名和密码的网络服务（基本/Windows 身份验证）

我在 Visual Studio 2010 中使用“添加 Web 引用”设置了一个 Web 项目（正常的东西……对）

这是 ASPX 代码：

```
<asp:Repeater ID="repUnserName" runat="server" DataSourceID="objGetUserName">
    <ItemTemplate>
        Name: <span class="info">
            <%# Eval("myName")%></span>
    </ItemTemplate>
</asp:Repeater>
<asp:ObjectDataSource ID="objGetUserName" runat="server" SelectMethod="getUserNameByEmail"
    TypeName="SecureService" OnSelecting="objGetUserName_Selecting">
    <SelectParameters>
        <asp:Parameter DefaultValue="" Name="UserEmail" Type="String" />
    </SelectParameters>
</asp:ObjectDataSource> 
```

c#代码：

```
protected void objGetUserName_Selecting(object sender, ObjectDataSourceSelectingEventArgs e)
    {            
            e.InputParameters["UserEmail"] = "myemail@email.com 

    } 
```

现在我的问题是如何在使用 ObjectDataSource 调用 getUserByEmail 方法时传递 Web 服务登录凭据？

提前感谢您的帮助

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-18T08:11:50.157

我建议在页面（或一些帮助类）中有一个包装方法来控制凭证传递。例如，

```
<asp:ObjectDataSource ID="objGetUserName" runat="server" SelectMethod="getUserNameByEmail"
    TypeName="PageClassName" OnSelecting="objGetUserName_Selecting">

internal static DataTable getUserNameByEmail(string email)
{
    var proxy = new SecureService();
    proxy.Credentials = new NetworkCredentials("user-name", "password");
    return proxy.getUserNameByEmail(email);
} 
```

*免责声明：未经测试的代码 - 只是为了了解解决方案*

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-21T23:17:25.500

这就是我最终要做的：

创建“对象创建事件”

示例代码：

```
protected void MyObjDS_ObjectCreating(object sender, ObjectDataSourceEventArgs e)
{
MyWebService.Service webProxy = new MyWebService.Service();
webProxy.Credentials = System.Net.CredentialCache.DefaultCredentials;
e.ObjectInstance = webProxy;
} 
```

来源网址： http: [//paulsiu.wordpress.com/2008/08/31/error-401-when-using-objectdatasource-to-call-a-web-service/#comment-4023](http://paulsiu.wordpress.com/2008/08/31/error-401-when-using-objectdatasource-to-call-a-web-service/#comment-4023)

# javascript - Twitter 引导下拉菜单 + 引导多选

> ID：14393439
> 
> 赞同：0
> 
> 时间：2013-01-18T06:19:18.043
> 
> 标签：javascript, ruby, html, twitter-bootstrap

我在页面上有 twitter bootstrap 下拉列表

```
.btn-group
    %a.btn.dropdown-toggle{"data-toggle"=>"dropdown", href: "#"}
      Test
      %span.caret
    %ul.dropdown-menu#dropdown-menu-test1
      - if data.any?
        - data.each do |account|
          %li
            %label.checkbox
              %input{ type: :checkbox, value: some_value, name: "test", checked: some_condition}some data 
```

我工作得很好，但我想将其转换为[https://github.com/davidstutz/bootstrap-multiselect](https://github.com/davidstutz/bootstrap-multiselect)。为此，我必须替换`%ul - %li`我`%select - %option`所做的。

```
 %select{class: "multiselect", multiple:"multiple", id: "multiselect-test", name: "multiselect-test-name"}
    %option
      test1
    %option
      test2 
```

但事实证明，无法检查页面加载的某些选项。还有更多，`params["multiselect-test-name"]`是零。

那么我该如何处理这两个问题：缺乏对页面加载进行某些选项检查的能力（取决于`some_condition`）和缺乏`params["multiselect-test-name"]`？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-06-15T09:40:54.267

你应该尝试这样的选项`options_for_select(["test1", "test2", "test3"])`

例如：

```
%select{class: "multiselect", multiple:true, id: "multiselect-test", name: "multiselect-test-name", options_for_select(["test1", "test2", "test3"])} 
```

它会为你工作 inshaAllah..

# java - 如何使用弹出消息或警告对话框验证多个编辑文本字段？

> ID：14393442
> 
> 赞同：1
> 
> 时间：2013-01-18T06:19:26.140
> 
> 标签：java, android, eclipse, validation, null

如果在点击按钮处理输入后这些字段中的一个或多个为空，我想知道如何验证我的 4 个编辑文本字段。我已经搜索了许多解决方案，例如使用 toast，但它认为它不适合多个 edittext 字段和使用 textwatchers。我希望应用程序显示一条弹出消息或警告对话框，提示“请填写必要的字段”。

任何帮助，将不胜感激。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-18T06:45:22.263

您可以使用以下常用函数来检查编辑文本的 Null 值：

> ```
>  public static boolean m_isError;
>    public static void checkEntryForEmptyValue(EditText p_editText, String p_nullMsg)
> {
>     if (p_editText != null || p_nullMsg != null)
>     {
>         // use trim() while checking for blank values
>         if ((p_editText.getText().toString().trim().equalsIgnoreCase("")) || (p_editText.getText().toString().trim().length() <= 0))
>         {
>             m_isError = true;
>             p_editText.setError(p_nullMsg);
>             p_editText.requestFocus();
>         }
>     }
> }
> } 
> ```

在您的按钮单击侦听器中使用以下函数：

> ```
> CommonUtil.m_isError = false;
>    CommonUtil.checkEntryForEmptyValue(edittext,getResources().
>            getString(R.string.MessageEmpty));
>     if (!CustomValidator.m_isError) 
>     {
>       Toast.makeText(getApplicationContext(),"Success", Toast.LENGTH_SHORT).show();
>     }
>    else
>    {
>    //Your dialog with the error messages.
>    } 
> ```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-18T06:27:41.807

您可以使用一些工具提示进行验证，例如 qtip 或 poshytip

[http://vadikom.com/demos/poshytip/](http://vadikom.com/demos/poshytip/)

[http://craigsworks.com/projects/qtip/](http://craigsworks.com/projects/qtip/)

编写一个验证函数来检查所有文本字段，并将工具提示对象附加到未通过验证的相应字段。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-18T06:30:27.370

单击按钮时使用此验证功能，您可以在方法执行后检查警报消息

```
boolean flag_1= true,flag_2=true,flag_3=true;
String alertmsg; 
```

.

```
private boolean validate()
{
    EditText et1    = (EditText)findViewById(R.id.et1);
    EditText et2    = (EditText)findViewById(R.id.et2);
    EditText et3    = (EditText)findViewById(R.id.et3);

    if(et1.getText().toString().isEmpty())
    {
        alertmsg+=  "Please fill 1st\n";
        flag_1  =   false;
    }
    if(et2.getText().toString().isEmpty())
    {
        alertmsg+=  "Please fill 2nd\n";
        flag_2  =   false;
    }
    if(et3.getText().toString().isEmpty())
    {
        alertmsg+=  "Please fill 3rd";
        flag_3  =   false;  
    }

    return flag_1||flag_2||flag_3;
} 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-01-18T06:39:02.967

尝试这个 ：

**编辑：**

调用`onClick`您的流程输入按钮：

```
RelativeLayout rl = (RelativeLayout) findViewById(R.id.mRlayout1);
boolean success = formIsValid(rl);
if(success == false){
  // alert dialog box
}
else{
  // process ahead
} 
```

声明这个函数：

**编辑：**

```
public boolean formIsValid(RelativeLayout layout) {
    for (int i = 0; i < layout.getChildCount(); i++) {
        View v = layout.getChildAt(i);
        Class<? extends View> c = v.getClass();
        if (c == EditText.class) {
            EditText et = (EditText) v;
            if(et.getText().toString().equals(""))
                return false;
            //Toast.makeText(getApplicationContext(), ""+et.getText().toString(), Toast.LENGTH_LONG).show();                
        } 
    }
    return true;
} 
```

通过这种方式，您可以通过**单次调用**验证**N 个输入控件**。

 **谢谢。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-01-18T06:28:38.107

最简单的解决方案是检查字段是否为空，然后在此处显示对话框是简单的代码片段

```
 private void checkEntries()
{

    if(!(email.getText().toString().equals("")))    
    {
        if(!(pass.getText().toString().equals("")))
        {
            if(UIHelper.getInstance().emailAddressValidation(email.getText().toString()))
            {
                if(pass.getText().length()>=5)
                {
                    sendLoginRequest(email.getText().toString(),pass.getText().toString(),Constants.PHONE_ID);
                }
                else
                {
                    dialogBoxInUIthread("String","Password length should be greater than 5 ",LoginController.this,true);
                }
            }
            else
            {

                dialogBoxInUIthread("String","Invalid Email Id",LoginController.this,true);

            }   
        }
        else
        {
            dialogBoxInUIthread("String","Please enter password",LoginController.this,true);
        }
    }
    else
    {
        dialogBoxInUIthread("String","Please enter email",LoginController.this,true);
    }

}

private void dialogBoxInUIthread(final String title,final String msg, Context context,final boolean completed) {
         /* runOnUiThread(new Runnable() {
           public void run() {*/
            AlertDialog.Builder alertbox = new AlertDialog.Builder(LoginController.this);
            alertbox.setTitle(title);
            alertbox.setMessage(msg);
            alertbox.setNeutralButton("OK", new DialogInterface.OnClickListener() {
               public void onClick(DialogInterface arg0, int arg1) {
                   if(completed){
                   }else{ }
               }
              });alertbox.show();
          /* }
          });*/
    } 
```**

# java - 为什么我不能移动 JLabel 图标？

> ID：14393443
> 
> 赞同：0
> 
> 时间：2013-01-18T06:19:28.217
> 
> 标签：java, swing, icons, jlabel

为什么我不能更改图标的 x 和 y 坐标？我真正需要的只是将图像添加到屏幕上。我什至需要使用 JLabel 吗？

```
package bit;

import javax.swing.ImageIcon;
import javax.swing.JFrame;
import javax.swing.JLabel;

public class BIT extends JFrame
{
    JLabel CL;

    public BIT()
    {
        CL = new JLabel(new ImageIcon(this.getClass().getResource("final-image.jpg")));
        CL.setBounds(0,0,100,100);

        this.getContentPane().add(CL);

        this.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
        this.setBounds(5,5,1000,500);
        this.setResizable(false);
        this.setVisible(true);
    }
    public static void main(String[] args) 
    {
        new BIT();
    }
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-18T17:53:29.757

您不能使用其默认的[BorderLayout](http://docs.oracle.com/javase/tutorial/uiswing/layout/border.html)`JLabel`布局管理器设置 x 和 y 坐标，该管理器根据布局实现排列其组件。`JFrame`

`setBounds`仅在使用绝对定位（或`null`布局）时有效，[应避免使用此选项（！）](https://stackoverflow.com/questions/6592468/why-is-it-frowned-upon-to-use-a-null-layout-in-swing)。

您似乎正在尝试将 定位`JLabel`在框架的左上角 ( `0, 0`)。为此，您可以：

*   左对齐标签
*   在`PAGE_START`位置添加标签

这将是：

```
CL = new JLabel(new ImageIcon(...), JLabel.LEFT);
this.getContentPane().add(CL, BorderLayout.PAGE_START); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-18T06:25:45.337

在使用 setBounds 添加控件之前取消设置 JFrame 的布局

```
this.setLayout(null); 
```

# php - PHP 通讯技术

> ID：14393444
> 
> 赞同：-1
> 
> 时间：2013-01-18T06:19:32.123
> 
> 标签：php, email, newsletter, bulk

我只是 PHP 编码的初学者。我通常需要了解行业他们如何向客户触发时事通讯？[它是否使用像https://www.phplist.com/](https://www.phplist.com/)这样的软件/网站 ？或 cronjob 触发“sendmail.php”并使用 phpmailer 发送批量电子邮件？谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-18T06:23:11.927

您可以使用 sendmail，但现在的负担往往是白名单 IP 的稀有性。您将希望使用第三方电子邮件服务来发送新闻通讯，否则您将面临很大一部分电子邮件被退回或垃圾邮件的风险。

他们有无数。谷歌并决定哪个最适合您的价格点。Sendmail 主要用于一次性电子邮件，例如“感谢加入”或“这里是重置密码的链接”。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-18T06:23:37.667

这不是一个真正的编程问题。

对于时事通讯，首先您必须收集目标受众的电子邮件，然后使用电子邮件功能循环触发电子邮件爆炸。没什么神奇的。

有一些 Email Blast 软件（如果您想使用软件而不是 PHP）可以帮助您这样做，例如[SendBlaster](http://www.sendblaster.com/)。

# android - 在片段选项卡中插入列表视图后应用程序崩溃

> ID：14393449
> 
> 赞同：1
> 
> 时间：2013-01-18T06:19:52.650
> 
> 标签：android, android-listview, android-fragmentactivity

我找到了一个代码来实现带有片段的选项卡。我试图将 listview 放入片段中，但应用程序因以下错误而崩溃。请您看一下代码并指导我。谢谢你。

```
01-18 11:44:49.130: E/AndroidRuntime(1908): FATAL EXCEPTION: main
01-18 11:44:49.130: E/AndroidRuntime(1908): java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.abe/com.example.abe.TabsFragmentActivity}: java.lang.NullPointerException
01-18 11:44:49.130: E/AndroidRuntime(1908):     at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2059)
01-18 11:44:49.130: E/AndroidRuntime(1908):     at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2084)
01-18 11:44:49.130: E/AndroidRuntime(1908):     at android.app.ActivityThread.access$600(ActivityThread.java:130)
01-18 11:44:49.130: E/AndroidRuntime(1908):     at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1195)
01-18 11:44:49.130: E/AndroidRuntime(1908):     at android.os.Handler.dispatchMessage(Handler.java:99)
01-18 11:44:49.130: E/AndroidRuntime(1908):     at android.os.Looper.loop(Looper.java:137)
01-18 11:44:49.130: E/AndroidRuntime(1908):     at android.app.ActivityThread.main(ActivityThread.java:4745)
01-18 11:44:49.130: E/AndroidRuntime(1908):     at java.lang.reflect.Method.invokeNative(Native Method)
01-18 11:44:49.130: E/AndroidRuntime(1908):     at java.lang.reflect.Method.invoke(Method.java:511)
01-18 11:44:49.130: E/AndroidRuntime(1908):     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:786)
01-18 11:44:49.130: E/AndroidRuntime(1908):     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:553)
01-18 11:44:49.130: E/AndroidRuntime(1908):     at dalvik.system.NativeStart.main(Native Method)
01-18 11:44:49.130: E/AndroidRuntime(1908): Caused by: java.lang.NullPointerException
01-18 11:44:49.130: E/AndroidRuntime(1908):     at com.example.abe.Tab1Fragment.onCreateView(Tab1Fragment.java:44)
01-18 11:44:49.130: E/AndroidRuntime(1908):     at android.support.v4.app.Fragment.performCreateView(Fragment.java:1460)
01-18 11:44:49.130: E/AndroidRuntime(1908):     at android.support.v4.app.FragmentManagerImpl.moveToState(FragmentManager.java:911)
01-18 11:44:49.130: E/AndroidRuntime(1908):     at android.support.v4.app.FragmentManagerImpl.moveToState(FragmentManager.java:1088)
01-18 11:44:49.130: E/AndroidRuntime(1908):     at android.support.v4.app.FragmentManagerImpl.moveToState(FragmentManager.java:1070)
01-18 11:44:49.130: E/AndroidRuntime(1908):     at android.support.v4.app.FragmentManagerImpl.dispatchActivityCreated(FragmentManager.java:1861)
01-18 11:44:49.130: E/AndroidRuntime(1908):     at android.support.v4.app.FragmentActivity.onStart(FragmentActivity.java:547)
01-18 11:44:49.130: E/AndroidRuntime(1908):     at android.app.Instrumentation.callActivityOnStart(Instrumentation.java:1163)
01-18 11:44:49.130: E/AndroidRuntime(1908):     at android.app.Activity.performStart(Activity.java:5018)
01-18 11:44:49.130: E/AndroidRuntime(1908):     at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2032)
01-18 11:44:49.130: E/AndroidRuntime(1908):     ... 11 more 
```

TABFRAGMENTACTIVITY 类：

```
import java.util.HashMap;
import android.content.Context;
import android.os.Bundle;
import android.support.v4.app.Fragment;
import android.support.v4.app.FragmentActivity;
import android.support.v4.app.FragmentTransaction;
import android.view.View;
import android.widget.TabHost;
import android.widget.TabHost.TabContentFactory;
public class TabsFragmentActivity extends FragmentActivity implements TabHost.OnTabChangeListener {

    private TabHost mTabHost;
    private HashMap<String, TabInfo> mapTabInfo = new HashMap<String, TabsFragmentActivity.TabInfo>();
    private TabInfo mLastTab = null;
    private class TabInfo {
        private String tag;
    private Class<?> clss;
    private Bundle args;
    private Fragment fragment;
    TabInfo(String tag, Class<?> clazz, Bundle args) {
        this.tag = tag;
        this.clss = clazz;
        this.args = args;
    }

    }
    class TabFactory implements TabContentFactory {

        private final Context mContext;
    public TabFactory(Context context) 
    {
        mContext = context;
    }
    public View createTabContent(String tag) 
    {
        View v = new View(mContext);
        v.setMinimumWidth(0);
        v.setMinimumHeight(0);
        return v;
    }

    }
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.tabs_layout);
        initialiseTabHost(savedInstanceState);
        if (savedInstanceState != null) {
    mTabHost.setCurrentTabByTag(savedInstanceState.getString("tab")); //set the tab as per the saved state
    }
    }
protected void onSaveInstanceState(Bundle outState) {
    outState.putString("tab", mTabHost.getCurrentTabTag()); //save the tab selected
    super.onSaveInstanceState(outState);
}
    private void initialiseTabHost(Bundle args) {
        mTabHost = (TabHost)findViewById(android.R.id.tabhost);
    mTabHost.setup();
    TabInfo tabInfo = null;
    TabsFragmentActivity.addTab(this, this.mTabHost, this.mTabHost.newTabSpec("Tab1").setIndicator("Tab 1"), ( tabInfo = new TabInfo("Tab1", Tab1Fragment.class, args)));
    this.mapTabInfo.put(tabInfo.tag, tabInfo);
    TabsFragmentActivity.addTab(this, this.mTabHost, this.mTabHost.newTabSpec("Tab2").setIndicator("Tab 2"), ( tabInfo = new TabInfo("Tab2", Tab2Fragment.class, args)));
    this.mapTabInfo.put(tabInfo.tag, tabInfo);
    TabsFragmentActivity.addTab(this, this.mTabHost, this.mTabHost.newTabSpec("Tab3").setIndicator("Tab 3"), ( tabInfo = new TabInfo("Tab3", Tab3Fragment.class, args)));
    this.mapTabInfo.put(tabInfo.tag, tabInfo);
    this.onTabChanged("Tab1");

    mTabHost.setOnTabChangedListener(this);
    }
    private static void addTab(TabsFragmentActivity activity, TabHost tabHost, TabHost.TabSpec tabSpec, TabInfo tabInfo) {
        tabSpec.setContent(activity.new TabFactory(activity));
    String tag = tabSpec.getTag();
    tabInfo.fragment = activity.getSupportFragmentManager().findFragmentByTag(tag);
    if (tabInfo.fragment != null && !tabInfo.fragment.isDetached()) {
    FragmentTransaction ft = activity.getSupportFragmentManager().beginTransaction();
    ft.detach(tabInfo.fragment);
    ft.commit();
    activity.getSupportFragmentManager().executePendingTransactions();
    }
    tabHost.addTab(tabSpec);
    }
    public void onTabChanged(String tag) {
        TabInfo newTab = this.mapTabInfo.get(tag);
        if (mLastTab != newTab) {
            FragmentTransaction ft = this.getSupportFragmentManager().beginTransaction();
    if (mLastTab != null) {
        if (mLastTab.fragment != null) {
            ft.detach(mLastTab.fragment);
        }
    }
    if (newTab != null) {
        if (newTab.fragment == null) {
        newTab.fragment = Fragment.instantiate(this,
            newTab.clss.getName(), newTab.args);
        ft.add(R.id.realtabcontent, newTab.fragment, newTab.tag);
        } else {
        ft.attach(newTab.fragment);
        }
    }
    mLastTab = newTab;
    ft.commit();
    this.getSupportFragmentManager().executePendingTransactions();
        }
}

} 
```

TABFRAGMENT 类 - 这是我试图放置 listview 的地方：

```
import android.annotation.TargetApi;
import android.os.Build;
import android.os.Bundle;
import android.support.v4.app.Fragment;
import android.support.v4.app.ListFragment;
import android.view.LayoutInflater;
import android.view.View;
import android.view.ViewGroup;
import android.widget.ArrayAdapter;
import android.widget.LinearLayout;
import android.widget.ListView;
public class Tab1Fragment extends ListFragment {
    @Override
    public View onCreateView(LayoutInflater inflater, ViewGroup container,
            Bundle savedInstanceState) {
        ListView lv = (ListView)getView().findViewById(R.id.listView1);
        String android_array1[] = new String[50];
        for(int i=0;i<50;i++)
        {
            android_array1[i]="ab"+i;
        }
        ArrayAdapter<String> adapter = new ArrayAdapter<String>(getActivity().getBaseContext(), android.R.layout.simple_list_item_1, android_array1);
        lv.setAdapter(adapter);                     
        return (LinearLayout)inflater.inflate(R.layout.tab_frag1_layout, container, false);
    }
} 
```

这是 tabfragment 类的 xml：

```
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout
xmlns:android="http://schemas.android.com/apk/res/android"
android:layout_width="fill_parent"
android:layout_height="fill_parent"
android:background="#FF0000"
>

<ListView
    android:id="@+id/listView1"
    android:layout_width="match_parent"
    android:layout_height="wrap_content"
    android:layout_weight="1" >
</ListView>

</LinearLayout> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-18T06:29:15.800

**笔记：**

如果您在 Tab1Fragment 中**扩展 ListFragment****则** 无需使用

 **`ListView lv = (ListView) root.findViewById(R.id.listView1);`

只需删除它。

最后你的`onCreateView(..)`方法看起来像这样：

```
@Override
    public View onCreateView(LayoutInflater inflater, ViewGroup container,
            Bundle savedInstanceState) {

        String android_array1[] = new String[50];
        for(int i=0;i<50;i++)
        {
            android_array1[i]="ab"+i;
        }
        ArrayAdapter<String> adapter = new ArrayAdapter<String>(getActivity().getBaseContext(), android.R.layout.simple_list_item_1, android_array1);

        setListAdapter(adapter);        

        return super.onCreateView(inflater, container, savedInstanceState);
    } 
```

有关更多信息，请参阅此链接

[http://wptrafficanalyzer.in/blog/creating-navigation-tabs-using-tabhost-and-fragments-in-android/](http://wptrafficanalyzer.in/blog/creating-navigation-tabs-using-tabhost-and-fragments-in-android/)**

# data-binding - Spring MVC Binding：如何查找绑定操作是否成功

> ID：14393456
> 
> 赞同：0
> 
> 时间：2013-01-18T06:20:53.057
> 
> 标签：data-binding, spring-mvc

我有一个 Spring MVC `form:select`，它`form:options`与`List<Custom_Object>`. 在下面的代码中`List<Custom_Object>`命名`LOCALIZATION_LIST`。

的`path`属性`form:select`用于设置选择的选项。

```
<form:form action="editNode.do" method="post" name="editNodeForm" commandName="editElementDetails">
  <table>
    <tr>
      <td>Data Type</td>
      <td>
       <form:select path="datatype" onchange="" cssClass="large" id="datatypes">
        <c:if test="${! empty LOCALIZATION_LIST}">
          <form:options items="${LOCALIZATION_LIST}" itemLabel="local_Name" itemValue="local_Name"/>
        </c:if>
       </form:select>
      </td>
    </tr>   
  </table>
</form:form> 
```

现在我的问题是，可能存在一个场景，`editElementDetails.datatype`其中可能包含一个根本不存在的值`LOCALIZATION_LIST`。所以目前 Spring MVC 显示`LOCALIZATION_LIST`为选中的第一个元素。

有没有办法可以确定用于设置所选对象的绑定操作是否`form:options`成功`form:select`？

因此，当绑定不成功时，我可以添加一个额外的表单：表单中带有新值的选项。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-18T10:38:38.017

您想要实现的是验证表单提交的过程，这是我所理解的（也许你们都错了）。您可以在这里使用[Spring-Validator](http://static.springsource.org/spring/docs/2.5.6/api/org/springframework/validation/Validator.html)，这是一个关于使用它的不错的教程。

[春季表单验证](http://www.dzone.com/tutorials/java/spring/spring-form-validation-1.html)。希望这可以帮助。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-19T07:51:45.517

**注意：回答我自己的问题**

我现在通过手动搜索传入的命令对象字段值来解决这个问题，如果没有找到，则添加一个与之对应`LOCALIZATION_LIST`的额外内容。`form:option`

我希望为此找到一个 JSTL/Spring-MVC 开箱即用的解决方案。

这是代码：

```
<form:form action="editNode.do" method="post" name="editNodeForm" commandName="editElementDetails">
  <table>
    <tr>
      <td>Data Type</td>
      <td>
       <form:select path="datatype" onchange="" cssClass="large" id="datatypes">
        <c:if test="${! empty LOCALIZATION_LIST}">
          <c:set var="contains" value="false" />
          <c:forEach var="item" items="${LOCALIZATION_LIST}">
            <c:if test="${item eq editElementDetails.datatype}">
              <c:set var="contains" value="true" />
            </c:if>
          </c:forEach>
          <c:if test="${ !contains }">
            <form:option label="${editElementDetails.datatype}" value="${editElementDetails.datatype}"/>
          </c:if>
          <form:options items="${LOCALIZATION_LIST}" itemLabel="local_Name" itemValue="local_Name"/>
        </c:if>
       </form:select>
      </td>
    </tr>   
  </table>
</form:form> 
```

# c# - 计算机关机时如何在c#中自动退出应用程序？

> ID：14393457
> 
> 赞同：2
> 
> 时间：2013-01-18T06:20:59.310
> 
> 标签：c#

> **可能重复：**
> [C# Sharp Windows 应用程序阻止 Windows 关闭/注销](https://stackoverflow.com/questions/2498432/c-sharp-sharp-windows-application-prevents-windows-from-shutting-down-logging)

我想编写代码以在用户关闭计算机时自动退出我的应用程序。我已经在 C# 开发人员中完成了该项目。现在我无法在不手动退出应用程序的情况下关闭计算机。
请指教。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-18T06:30:32.723

您可以使用下面链接中描述的 SystemEvents 类：-

[http://msdn.microsoft.com/en-us/library/microsoft.win32.systemevents.aspx](http://msdn.microsoft.com/en-us/library/microsoft.win32.systemevents.aspx)

订阅用户注销或关闭系统时触发的 SessionEnded 事件。

您可以在此事件中编写代码以自行终止应用程序。例如。Application.Exit() 关闭应用程序。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-18T06:37:51.927

您可以使用[SystemEvents](http://msdn.microsoft.com/en-us/library/microsoft.win32.systemevents.aspx)。只需订阅[SessionEnded](http://msdn.microsoft.com/en-us/library/microsoft.win32.systemevents.sessionended.aspx)并为您的应用程序执行您想要的任何关闭操作。

**注意事项**：我认为你不会有足够的时间在那里执行任何复杂的任务。但由于您只想退出应用程序，只需调用`Application.Exit()`事件处理程序即可。

# perl - 的行为。和 , Perl 中用于连接和解析的运算符

> ID：14393460
> 
> 赞同：-4
> 
> 时间：2013-01-18T06:21:38.407
> 
> 标签：perl, parsing, concatenation, dot-operator

我试图在 Perl 中使用`.`and`,`运算符并得到一些奇怪的东西，我无法弄清楚：

如果我运行这个：

```
print hello . this,isatest, program 
```

输出是：

```
hellothisisatestprogram 
```

我能理解的是，它将点运算符之前和之后的文本都视为字符串并将它们连接起来。

但是逗号呢？为什么它被省略而不是连接？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-18T06:24:51.403

第一个句点 ( `.`) 被视为连接运算符。随后的逗号分隔 的多个参数`print`。结果是一样的——所有部分都连接起来。如果要打印文字逗号，请`this,isatest, program`用引号括起来 -`"this,isatest, program"`以形成单个参数。

[http://perldoc.perl.org/functions/print.html](http://perldoc.perl.org/functions/print.html)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-18T06:34:04.987

我认为这就是你想要的：

```
perl -e 'print "hello"." this,isatest,program"."\n"' 
```

运行上面的代码并检查输出。如果它为您提供所需的输出，那么我想我们有一个解释。

# asp.net-mvc-3 - .ASPXAUTH cookie 在 firebug 中可见但无法在 C# 代码中检索

> ID：14393463
> 
> 赞同：4
> 
> 时间：2013-01-18T06:22:02.840
> 
> 标签：asp.net-mvc-3, cookies, asp.net-mvc-4, visual-studio-2012

我有两个 .NET C# 项目。它们将部署在同一个域下，例如 domain.com。

几年后也创建了一个项目。它使用.NET 4.0。我们称之为 MAIN_1。该项目使用另一个外部项目对用户进行身份验证，该项目甚至更早（.NET 3.5）。我们称之为 AUTH_PROJ。我正在 VS2012 中使用 MVC4 和 .NET 4.5 创建一个新项目。我们称之为 MAIN_2。MAIN_1 和 MAIN_2 将部署在同一个域（例如 domain.com）下。我的目标是让用户在 MAIN_1 中登录并在 MAIN_2 中进行身份验证。我在网上搜索，发现这篇文章[http://www.codeproject.com/Articles/106439/Single-Sign-On-SSO-for-cross-domain-ASP-NET-applic](http://www.codeproject.com/Articles/106439/Single-Sign-On-SSO-for-cross-domain-ASP-NET-applic)非常有趣和有用。我通过在 Visual Studio 2012 Professional 中制作一些简单的 MVC 项目来测试单点登录：

1.  项目一：.NET4.5 MVC4 互联网项目。=> 网站 1
2.  项目 2：与项目 1 相同。=> 网站 2
3.  项目 3：.NET 4 MVC3 互联网项目。=> 网站 3
4.  项目 4：与项目 2 相同。=> 网站 4

在这 4 个项目中，我添加了相同的机器密钥，并将 domain="localhost" 添加到 Web.config 文件中的表单身份验证中。

然后我测试了单点登录。我在网站 1 中创建了一个帐户并登录。我打开了网站 2，它已经登录了。太棒了！网站 3 和 4 相同。

但是当我混合不同的框架时，没有任何效果。

我在firebug中检查了浏览器cookie。.ASPXAUTH cookie 保留在那里。但是如果 cookie 是由项目 1 创建的，并且我调试项目 3，我可以获得除 .ASPXAUTH cookie 之外的所有 cookie。似乎 .ASPXAUTH 取决于框架，虽然它在 Firefox 中可见，但其他框架项目看不到它。

谁能帮我弄清楚为什么 .ASPXAUTH cookie 在 C# 代码中变得不可见，还有其他方法可以使单点登录工作吗？谢谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-18T09:08:33.947

在您的 4.5 项目中，尝试在 Web.config 中设置此配置开关：

```
<machineKey compatibilityMode="Framework20SP1" /> 
```

4.5 和 4.0 对表单身份验证票使用不同的加密例程。在 4.5 项目中设置上述开关应该会强制它使用与 4.0 相同的例程。有关详细信息，请参阅[http://blogs.msdn.com/b/webdev/archive/2012/10/23/cryptographic-improvements-in-asp-net-4-5-pt-2.aspx](http://blogs.msdn.com/b/webdev/archive/2012/10/23/cryptographic-improvements-in-asp-net-4-5-pt-2.aspx)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-18T06:29:10.760

> 但是当我混合不同的框架时，没有任何效果

这很正常。由于发现的安全漏洞，.NET 版本之间的加密例程发生了变化。因此，建议使用[`following update`](http://support.microsoft.com/kb/2659968).

如果由于某种原因你不能这样做，有一个不推荐的解决方法：

```
<appSettings>
    <add key="aspnet:UseLegacyFormsAuthenticationTicketCompatibility" value="true" />
    <add key="aspnet:UseLegacyEncryption" value="true" />
    <add key="aspnet:UseLegacyMachineKeyEncryption" value="true" />
</appSettings> 
```

# wpf - 如何创建完整的包 (.exe) Windows 应用程序

> ID：14393466
> 
> 赞同：0
> 
> 时间：2013-01-18T06:22:31.927
> 
> 标签：wpf, windows, winforms

我必须创建一个项目（发票上的**windows 应用程序**），其中还包括数据库（Sql server）。现在我想为客户端机器创建一个**完整的包**。该软件包包括以下内容：

1.  在客户端计算机上运行所需的 .net 框架
2.  IIS
3.  Sql server 数据库
4.  应用程序本身。

    如果 .net 框架已经安装在客户端机器上，它可以跳过安装。

谢谢 ！！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-18T06:47:59.240

我认为您应该为您的应用程序创建安装程序。VS2012 不包含安装项目，但如果您使用旧版本，您可以创建它（带有自定义操作的安装项目）。您也可以查看 Wix 或其他第三方安装程序。

# eclipse - 如何在 Eclipse 中使用 GWTBootstrap

> ID：14393472
> 
> 赞同：2
> 
> 时间：2013-01-18T06:23:04.173
> 
> 标签：eclipse, gwt, twitter-bootstrap, gwt-bootstrap

[我从https://github.com/gwtbootstrap/gwt-bootstrap](https://github.com/gwtbootstrap/gwt-bootstrap)下载了用于 GWT zip 的 Twitter Bootstrap 。我是 GWT 的新手，我还没有找到关于如何在 Eclipse 中使用这些库的适当文档或教程。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-28T19:43:01.103

If you are using [maven](http://maven.apache.org/download.cgi) build, configure [m2eclipse](http://www.sonatype.org/m2eclipse) in eclipse and go through [Getting Started With GWT Bootstrap](http://prayag-waves.blogspot.com/2012/09/getting-started-with-gwt-bootstrap.html)

## The steps include :

**STEP 1-A :** add `gwt-bootstrap` maven dependency in `pom.xml`

```
 <!-- gwt-bootstrap dependencies start -->
<dependency>
<groupId>com.github.gwtbootstrap</groupId>
<artifactId>gwt-bootstrap</artifactId>
<version>2.1.0.0-SNAPSHOT</version>
</dependency>
<!-- gwt-bootstrap dependencies end --> 
```

**STEP 1-B :** add `gwt-bootstrap` maven repository in `pom.xml`

```
 <repository>
 <id>sonatype</id>
 <url>http://oss.sonatype.org/content/repositories/snapshots</url>
 <snapshots><enabled>true</enabled></snapshots>
 <releases><enabled>false</enabled></releases>
 </repository> 
```

**STEP 2 : Configuring module** - inherit the GWT-Bootstrap widget library

```
<!--  inherit the GWT-Bootstrap widget library -->
<inherits name="com.github.gwtbootstrap.Bootstrap"/>
<!--  end of inherit the GWT-Bootstrap widget library --> 
```

**STEP 3 : using in UiBinder**

```
<ui:UiBinder xmlns:ui="urn:ui:com.google.gwt.uibinder"
xmlns:g="urn:import:com.google.gwt.user.client.ui"
xmlns:w="urn:import:com.zcode.t.client.ui.widget" 
xmlns:c="urn:import:com.google.gwt.user.cellview.client"
xmlns:gwt="urn:import:com.google.gwt.user.cellview.client"
xmlns:b="urn:import:com.github.gwtbootstrap.client.ui"
>
<g:HTMLPanel>
<b:Button ui:field="saveBtn"/>
 </g:HTMLPanel>
</ui:UiBinder> 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-18T07:22:35.740

由于它是作为`maven`项目创建的，因此您需要使用`m2eclipse`插件。您可以从在 eclipse 外部克隆它开始，然后您可以将其作为现有的 maven 项目导入 eclipse。`m2eclipse`插件将帮助您做到这一点。对于确切的步骤或教程，你可以谷歌。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-10-30T15:56:55.650

如果您不想使用 maven，可以按照以下步骤操作：

1.  [从这里](http://mvnrepository.com/artifact/com.github.gwtbootstrap/gwt-bootstrap)下载一个库版本。

2.  将 .jar 文件添加到 Eclipse 项目的构建路径中

3.  添加到您的`Module.gwt.xml`文件中：

`<inherits name ="com.github.gwtbootstrap.Bootstrap"/>`

现在您可以`gwtbootstrap`仅使用 Java 代码或 UIBinder

# magento - MULTIPART_STRICT_ERROR 将 magento 中的产品上传标记为恶意

> ID：14393481
> 
> 赞同：1
> 
> 时间：2013-01-18T06:23:47.767
> 
> 标签：magento, mod-security, multipartform-data

我正在为我的一个客户端运行 magento 安装，并且那里的服务器安装了 modSecurity。

当我尝试上传产品时，我收到了以下错误。

```
Match of "eq 0" against "MULTIPART_STRICT_ERROR" required. [file "/usr/local/apache/conf/modsec2.conf"] [line "15"] [id "1500860"] [msg "Multipart request body failed strict validation: PE 0, BQ 0, BW 0, DB 0, DA 0, HF 0, LF 0, SM 0, IQ 1, IP , IH 0, FL 0"] [hostname "newsite.gogifts.in"] [uri "/index.php/admin/catalog_product_gallery/upload/key/8a40202b18c590f502a1ea9553813319/"] 
```

它是一个共享托管服务器，因此我无法在 apache 级别更改任何设置。

有人可以帮我弄这个吗？帮助将不胜感激

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-05T09:30:04.633

错误中的列表显示了它的反应，在本例中为 IQ (MULTIPART_INVALID_QUOTING)。

> PE 0，BQ 0，BW 0，DB 0，DA 0，HF 0，LF 0，SM 0，IQ 1，IP，IH 0，FL 0

你的文件名中有引号字符吗？例如一些'file.txt。您可以询问共享托管服务提供商是否可以放宽政策。

以下是缩写含义的列表： [https ://github.com/SpiderLabs/ModSecurity/wiki/Reference-Manual-(v2.x)#MULTIPART_STRICT_ERROR](https://github.com/SpiderLabs/ModSecurity/wiki/Reference-Manual-(v2.x)#MULTIPART_STRICT_ERROR)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2017-11-22T06:13:39.023

我刚刚遇到了我的项目中**所需的 'eq 0' 与 'MULTIPART_STRICT_ERROR 的匹配。**

**这个错误是怎么引起的？**
此错误是由 mod_security 阻止潜在的恶意上传引起的。虽然它可能完全无害，但 mod_security 无法知道它是否无害。通常，有问题的内容是正在上传的文件，其中包含特殊字符，例如文件名中的单引号或双引号，攻击者经常使用该字符将恶意脚本注入网站。

**我该如何解决这个问题？**
简而言之，重命名文件以从文件名中删除有问题的特殊字符，或者（通过注释行“SecRule MULTIPART_STRICT_ERROR”！@eq 0“\”或通过在 /etc/{path}/mod_security.conf 中禁用此安全规则.htaccess 文件 - 完全不推荐）

# android - 在 Android 中更改文本颜色动画

> ID：14393484
> 
> 赞同：1
> 
> 时间：2013-01-18T06:23:59.710
> 
> 标签：android, textview, text-to-speech

我想显示一个文本段落（黑色）和一个“播放”按钮。当用户单击“播放”按钮时，它应该开始逐句朗读（TTS）文本，旁边的文本应该将口述文本颜色更改为绿色（逐个字符）
任何建议表示赞赏...... :)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-18T06:46:41.403

您可以使用[TextSwitcher](http://developer.android.com/reference/android/widget/TextSwitcher.html)

请参阅这些教程/示例。他们将帮助您开始：

1.  [http://www.example8.com/category/view/id/15552](http://www.example8.com/category/view/id/15552)
2.  [http://www.coderzheaven.com/2011/07/02/textswitching-animation-in-android-or-textswitcher-control-in-android/](http://www.coderzheaven.com/2011/07/02/textswitching-animation-in-android-or-textswitcher-control-in-android/)
3.  [http://www.java2s.com/Code/Android/UI/UsesaTextSwitcher.htm](http://www.java2s.com/Code/Android/UI/UsesaTextSwitcher.htm)

*最后，我相信SDK 管理器中的***Samples For SDK**（我认为是 API 13）包中的 API 演示中也提供了一个示例

 *您自然必须编写用于同步 TTS 语音和动画本身的代码。*

# html - facebook like button not showing?

> ID：14393489
> 
> 赞同：0
> 
> 时间：2013-01-18T06:24:37.753
> 
> 标签：html

ive been going at this for hours now, everybody tells me "it works here jsbinurl" but when i copy the exact code in my notepad++ file it doesnt i even created a brand new with this exact same code as the jsbin and it doesnt show, i tried in 3 different computers and still nothing

see here in my jsbin it works fine:

[http://jsbin.com/uhejis/1/edit](http://jsbin.com/uhejis/1/edit)

but i tried it on my local html page on three computers, xp, vista, and 7 and nothing whats wrong with it?? does this code work on your computer??

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-18T06:32:14.560

Works fine on my localhost in safari, chrome, ie9, opera and firefox.
There might be a problem with your connection or firewall.

# php - 谷歌地图ajax和php

> ID：14393493
> 
> 赞同：1
> 
> 时间：2013-01-18T06:25:01.077
> 
> 标签：php, json, jquery, jquery-plugins

我想在 div 元素中加载一个域*url*

我有两个问题：

*   如果使用 http 协议加载域，例如“google.com”，则无法正确加载地址图像，而是加载页面！
*   如果使用 https 协议加载谷歌地图会发出警告并且永远不会工作！

这是我的代码：

**加载.php**

```
<html>
<head>
    <title></title>
    <script type="text/javascript" src='jquery.js'></script>
</head>
<body>
    <div></div>
    <script type="text/javascript">
        $(function(){
            $('div').load('/x-request.php?url=googleMapAdress');
        });
    </script>
</body>
</html> 
```

**x-request.php**

```
<?php
    echo file_get_contents('https://' . $_GET['url']);
?> 
```

注意：我不想使用 iframe 标签并且我的代码必须有 ajax 代码！

解决办法是什么？

//更多解释

如何获取任何外部页面并将其完全加载到 div 元素中？这意味着 => href、src 和所有链接都可以真正工作。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-18T07:48:10.107

我在下面的代码中尝试过你，它按预期工作。

```
<html>
<head>
    <title></title>
    <script type="text/javascript" src='js/jquery.js'></script>
</head>
<body>
    <div></div>
    <script type="text/javascript">
        $(function(){
            $('div').load('x-request.php?url=maps.google.com');
        });
    </script>
</body>
</html>
```

**php代码**

```
<?php
    echo file_get_contents('https://' . $_GET['url']);
?>
```

它加载谷歌地图没有任何错误。

**编辑**

作为对评论的回应，以下是可能的最佳解决方案。

您正在寻找的设置是`allow_url_fopen`.

`allow_url_fopen = On` 在 php.ini 文件中设置。

您有两种方法可以在不更改 php.ini 的情况下绕过它，其中一种是使用[fsockopen](http://php.net/manual/en/function.fsockopen.php)，另一种是使用[cURL](http://php.net/manual/en/book.curl.php)。

**卷曲示例**

```
function get_content($URL)
{
    $ch = curl_init();
    curl_setopt($ch, CURLOPT_RETURNTRANSFER, 1);
    curl_setopt($ch, CURLOPT_URL, $URL);
    $data = curl_exec($ch);
    curl_close($ch);
    return $data;
}

echo get_content('http://example.com');
```

curl的快速参考链接如下。

[http://www.kanersan.com/blog.php?blogId=45](http://www.kanersan.com/blog.php?blogId=45)

[http://www.tomjepson.co.uk/enabling-curl-in-php-php-ini-wamp-xamp-ubuntu/](http://www.tomjepson.co.uk/enabling-curl-in-php-php-ini-wamp-xamp-ubuntu/)

```
<php
$ch = curl_init();// set url
curl_setopt($ch, CURLOPT_URL, $_GET['url']);
//return the as a string
curl_setopt($ch, CURLOPT_RETURNTRANSFER, 1);
curl_setopt($ch, CURLOPT_FOLLOWLOCATION, 1);
curl_setopt($ch,CURLOPT_BINARYTRANSFER, true);
// echo output string
$output = curl_exec($ch);
$url = $_GET['url'];

$path = 'http://'.$url.'/';
$search = '#url\((?!\s*[\'"]?(?:https?:)?//)\s*([\'"])?#';
$replace = "url($1{$path}";
$output = preg_replace($search, $replace, $output);

echo $output;

// close curl resource to free up system resources
curl_close($ch);
```

# insert - MS访问插入不重复

> ID：14393494
> 
> 赞同：3
> 
> 时间：2013-01-18T06:25:05.713
> 
> 标签：insert, ms-access-2003

1.  微软访问 2003
2.  主表（MobileNo 文本 255、FirstName 文本 255、LastName 文本 255、地址文本 255）
3.  表温度（MobileNo 文本 255、FirstName 文本 255、LastName 文本 255、地址文本 255）
4.  主要有 100 条记录
5.  Temp 有 30 条记录
6.  10 条记录属于两个表。
7.  我喜欢将那些不属于 MobileNo 上的主库的记录从临时插入到主库中。

实际上从 temp 导入记录，而 Main 中没有重复数据。

我在下面写了一个查询

```
INSERT INTO main (mobileNo, FirstName, LastName, Address) 
VALUES
    (SELECT DISTINCT Temp.[MobileNo], Temp.[FirstName], temp.[LastName], Temp.[Address] 
     FROM Temp 
     WHERE NOT EXISTS (SELECT * FROM main WHERE Main.[MobileNo] = Temp.[MobileNo]));* 
```

这是对的吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-18T06:51:35.900

Access SQL中有两种形式的[INSERT INTO 语句](http://office.microsoft.com/en-us/access-help/insert-into-statement-HP001032245.aspx)。with`VALUES`用于插入单行。由于要插入多行，请使用包含`SELECT`子句的版本。

`SELECT`从返回`Temp`要插入的行的查询开始。我认为这应该很接近：

```
SELECT
    Temp.MobileNo,
    Temp.FirstName,
    temp.LastName,
    Temp.Address 
FROM
    Temp
    LEFT JOIN main
    ON Temp.MobileNo = main.MobileNo
WHERE main.MobileNo Is Null; 
```

`DISTINCT`如果`Temp`包含重复行，则添加。`SELECT`如果我没有完全正确，您可能会发现无与伦比的查询向导有助于创建您的语句。

获得正确的`SELECT`语句后，将其更改为`INSERT`查询（Access 用户界面称为“追加”查询）。

```
INSERT INTO main
    (
        MobileNo,
        FirstName,
        LastName,
        Address
    )
SELECT
    Temp.MobileNo,
    Temp.FirstName,
    temp.LastName,
    Temp.Address 
FROM
    Temp
    LEFT JOIN main
    ON Temp.MobileNo = main.MobileNo
WHERE main.MobileNo Is Null; 
```

# windows - Windows RT 中的 Powershell 命令

> ID：14393497
> 
> 赞同：3
> 
> 时间：2013-01-18T06:25:24.630
> 
> 标签：windows, powershell, windows-runtime

我正在 Windows RT 中开发应用程序。我确实需要在 Windows RT(C#) 中运行/调用 PowerShell 或 CMD 命令。请帮我弄清楚。提前致谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-18T18:20:17.253

虽然您无法直接针对 Windows RT 中的 PowerShell .NET 引擎进行编程，但您可以通过套接字访问桌面。但是，这假定您有能力确保桌面套接字侦听器已安装并运行。但是，有了它并运行，您可以向它发出命令并让它调用 cmd.exe（或通过 EXE 或 in-proc 引擎的 powershell）。WinRT 中最好的引擎部件允许您连接和使用 PowerShell 远程处理端点。考虑到它最终只是一个套接字，它可以由 Microsoft 以外的人完成，但您必须通过大量的 WS-MAN 协议才能弄清楚它是如何工作的。我认为通过套接字发送的简单字符串可能更容易，例如`'powershell -command "& { Get-Process }"'`或`'cmd /c dir c:\'`. :-)

以下是一些代码片段作为概念证明：

WinRT 代码片段：

```
private async void _button_OnClick(object sender, RoutedEventArgs e)
{
    string content;
    try
    {
        var client = new HttpClient();
        client.DefaultRequestHeaders.Add("user-agent", 
            "Mozilla/5.0 (compatible; MSIE 10.0; Windows NT 6.2; WOW64; Trident/6.0)");
        var response = await client.GetAsync("http://localhost:54649/");
        if (response.StatusCode == HttpStatusCode.OK)
        {
            content = await response.Content.ReadAsStringAsync();
        }
        else
        {
            content = response.StatusCode.ToString();
        }

    }
    catch (Exception ex)
    {
        content = ex.Message;
    }

    await this.Dispatcher.RunAsync(CoreDispatcherPriority.Normal, () =>
    {
        _textBlock.Text = content;
    });
} 
```

在桌面端，这是一个脑残的 MVC 控制器的片段：

```
public class HomeController : Controller
{
    //
    // GET: /Home/
    public string Index()
    {
        return "Hello World. The time is " + DateTime.Now;
    }
} 
```

# r - 根据R中的前一行和当前行按组计算

> ID：14393499
> 
> 赞同：2
> 
> 时间：2013-01-18T06:25:28.740
> 
> 标签：r, row

我可以根据 R 中的前一行和当前行进行计算。

如果是这个数据框（df）：

```
 A B 
[1] 2 2 
[2] 2 3 
[3] 4 5.5 
... 

B2 = A2 + 0.5*B1 
```

我可以使用这段代码来计算这个函数。

```
for( i in 2:nrow(df) ) { 
        B[i] <- 1/2 * B[i-1] + df$A[i] 
} 
```

但是，我的数据集中有一个 Id(group)，所以我需要通过 id 计算这个函数。

```
 id A B
[1] 1  0 0
[2] 1  2 2 
[3] 1  2 3
[4] 2  1 1 
[5] 2  4 4.5
[6] 2  4 6.25 
... 

B2 = A2 + 0.5*B1
B4 = A4 + 0.5*0 (becasue id is changed)
B5 = A5 + 0.5*B4 
... 
```

我如何在 R 中处理这个问题？谢谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-18T07:51:25.080

由于看起来每个步骤的结果都取决于您现在执行的方式中的前一个步骤，因此摆脱`for`循环似乎很棘手。我想知道这样的事情是否足够快：

```
require(data.table)
require(compiler)

df <- data.table(df)

f <- function(A, B) {
  for(i in seq_along(B)[-1]) {
    B[i] <- 0.5 * B[i - 1L] + A[i]
  }

  B
}

g <- cmpfun(f)

df[, B := g(A, B), by = id] 
```

# javascript - 按下按钮增量数据然后推送到多维数组

> ID：14393501
> 
> 赞同：2
> 
> 时间：2013-01-18T06:25:37.227
> 
> 标签：javascript, jquery, html, arrays, multidimensional-array

我有这个问题，关于当我按下按钮时它添加了另一个元素加上元素的名称也在数组中很好地递增，有点难以解释，但我会提供一些屏幕截图。

我通过这个网站搜索看到了一堆解决方案和诸如此类的东西，不幸的是我似乎无法将它应用于我的问题。

这是我想要的输出的屏幕截图。

如果我按下添加按钮，另一个字段集将显示在其上方

![在此处输入图像描述](../Images/91e82287303c57284f45152732174f0c.png)

结果将是

![在此处输入图像描述](../Images/57821eb278ea84589c3bb32d3f16e4f8.png)

因此，如果我再次按下“添加”按钮，它将显示另一个永无止境的字段集循环，并带有相应的递增输入类型名称。

**代码：**

**片集的布局**

```
<fieldset style="border:1px solid #DSDCDF; padding:10px; margin-bottom:10px;" id="fieldset_fblikeus">
    <div class="condition">
        <div class="clear"></div>
        <div>Label</div>
        <div><input class="gate-condition" name="label_" size="30" type="text" value="<?php echo $fb_page[0]; ?>"></div>
        <div class="clear" style="padding-top:5px;"></div>
        <div>URL to Like</div>
        <div><input class="gate-condition" name="url_" size="30" type="text" value="<?php echo $fb_page[1]; ?>"></div>
        <div class="clear" style="padding-top:5px;"></div>
    </div>
</fieldset> 
```

**启动函数的代码**

```
<a onclick="fb_likeus_add();">Add</a>

function fb_likeus_add() {
    var fieldset_data = '<fieldset style="border:1px solid #DSDCDF; padding:10px; margin-bottom:10px;"><div class="condition"><div class="clear"></div><div>Label</div><div><input class="gate-condition" name="label_" size="30" type="text" value="<?php echo $fb_page[0]; ?>"></div><div class="clear" style="padding-top:5px;"></div><div>URL to Like</div><div><input class="gate-condition" name="url_" size="30" type="text" value="<?php echo $fb_page[1]; ?>"></div><div class="clear" style="padding-top:5px;"></div></div></fieldset>';

    $("#fb_likeus_td").prepend(fieldset_data);
} 
```

主要问题是当我**按下添加按钮**时如何在**将数据添加到 div 时增加输入元素的名称**，我不知道从哪里开始/从哪里开始。但我已经想到了它应该是什么样子。

```
Array = [

div1 ['name_1', 'url_1'],

div2 ['name_2', 'url_2'],

div3 ['name_3', 'url_3'],

div4 ['name_4', 'url_4'],

div5 ['name_5', 'url_5']

and so on, it increments when you click the add button.

]; 
```

这有点难以解释，仍然希望你们理解我的问题。如果你们帮助我会很高兴，这意味着很多。提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-18T07:02:52.447

对此的一种解决方案是在页面上的某处隐藏一个“模板”div，其中包含您要插入的标记。在这种特定情况下，标记相对简单，因此您可以将模板标记存储为 JavaScript 字符串，但随着时间的推移，这通常比在页面上使用隐藏的 div 更难维护。

在任何情况下，一旦你有了模板标记，你只需要添加少量的 JavaScript 代码来记录你`fieldset`向页面添加新的次数。这样，您可以更新您的`fb_likeus_add()`函数以对模板标记执行简单的字符串替换，在将其添加到 div 之前插入正确的序列号。

这听起来可能有点复杂，但实际上只需要很少的代码：

```
//initialize this when the page loads
var numAdded = 0;

function fb_likeus_add() {
    //increment the counter
    numAdded++;  

    //grab the template html
    var templateHtml = $("#template").html();  

    //write the new count into the template html
    templateHtml = templateHtml.replace(/label_/g, "label_" + numAdded)
                               .replace(/url_/g, "url_" + numAdded);  

    //prepend the updated HTML to the document  
    $("#container").prepend(templateHtml);  
}; 
```

这是一个例子：http: [//jsfiddle.net/Dw8e7/1/](http://jsfiddle.net/Dw8e7/1/)

# java - 验证是否从构造函数调用了方法

> ID：14393503
> 
> 赞同：0
> 
> 时间：2013-01-18T06:25:50.743
> 
> 标签：java, unit-testing, guice, mockito

我有一个构造函数，不幸的是它必须做一些不平凡的事情：

```
public MyModule() {
    this.setInjector(Guice.createInjector(new AfterInjectionModule(
            PostConstruct.class, Matchers.any()), new MyGuiceModule()));
} 
```

我现在需要验证是否`AfterInjectionModule`使用参数在事物方案中调用了`PostConstruct.class`。我现在不太关心其他参数。不幸的是，我想不出`verify()`在 Mockito 中我会怎么做。我目前正在尝试以下方法：

```
this.reference = mock(new MyModule());
verify(this.reference).setInjector(Guice.createInjector(
        new AfterInjectionModule(PostConstruct.class, Matchers.any()), 
        new MyGuiceModule())); 
```

我的单元测试在上面一行失败了。如何验证此方法是否设置为作为第一个参数`Injector`传递`AfterInjectionModule`的？`PostConstruct.class`

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-18T20:22:03.447

我认为问题不在于构造函数的模拟，而在于对 Guice.createInjector() 的静态调用。由于您无法使用 Mockito 模拟静态方法，因此您可以尝试验证行为的结果（可能很困难）或使用其他工具（如 Powermock）来覆盖静态方法。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-18T10:35:50.983

与其测试实际调用，不如测试 MyModule 在调用时是否按预期`new AfterInjectionModule(PostConstruct.class, Matchers.any())`运行，以及在未调用时是否按预期运行。

鉴于这是关于 Guice 注入器，验证行为可以像检查注入器提供的类是否实际上是`AfterInjectionModule`使用这些参数初始化提供的类的实例一样简单。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-18T17:29:11.887

你在这里有点麻烦，因为如果你使用 Mockito，你无论如何都不会使用你自己的构造函数。请注意，您的代码还在您的构造函数中放置了稍微重一些的逻辑，这[不是一个好主意](http://misko.hevery.com/code-reviewers-guide/flaw-constructor-does-real-work/)。

如果您想坚持使用 Mockito，请将教师设置代码分解为`init()`您可以从测试中调用的方法。如果你真的想要，你仍然可以从你的构造函数中调用该方法，但你也可以让它足够可见（可能用 注释`@VisibleForTesting`）从你的测试中调用。

其他选项：将注入器设置（或模块创建）分解并作为静态方法单独测试。

# vb.net - 根据 Quartz 中的开始时间按间隔安排任务

> ID：14393504
> 
> 赞同：0
> 
> 时间：2013-01-18T06:25:56.337
> 
> 标签：vb.net, quartz.net

我是 Quartz 的新手，想用它来为使用 SQL Server Express 的客户端提供服务来调度 SQLServer 中的脚本。

我需要一个用户能够安排一个任务来运行，比如从特定日期开始每隔一周运行一次。例如：StartDate = 1/Jan/2013 12:00PM（星期二）并每 14 天重复一次。

在作业设置中，有 StartTime（日期时间）、IntervalUnit（秒、分钟、小时、日、周、年）和 RepeatsEvery（开始日期后触发的间隔数）。

例如：StartDate = "1/JAN/2013 12:00PM" 和 IntervalUnit = "DAY" 和 RepeatsEvery= 14 的设置将在每个第二个星期二下午 12:00 触发作业。如果 StartDate 已经过去，我需要在下一个开始日期触发该作业，例如：如果我今天（18/JAN/2013）启动服务，下一个开始日期将是 29/JAN/2013 12:00PM

我不知道如何使用日历触发器在 Quartz 中完成这项工作。这是 Quartz 内置的东西，还是我需要在启动时计算新的 StartTime？

假设我必须计算一个新的 StartTime，是否有任何内置函数或简洁的快捷方式，或者我是否需要为每个 IntervalUnit 提供一个类似的函数：

```
'Days
Dim diff As Integer
diff = Now.Subtract(.StartTime).TotalDays
Dim offset As Integer
offset = .RepeatsEvery - (diff Mod .RepeatsEvery)
offset = Now.AddDays(offset).Subtract(.StartTime).TotalDays 'Get the days from Start t preserve time of day
Start = .StartTime.AddDays(offset) 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-18T10:41:27.000

您可以创建一个触发器，然后调用 trigger.GetFireTimeAfter(DateTime.Now) 来计算新的开始日期，然后使用新的 StartDate 构建和新的触发器。

以下是 C#，但希望能给你这个想法

```
var trigger = TriggerBuilder.Create()
                   .StartAt( new DateTimeOffset(new DateTime(2013,1,1)))
                   .WithSimpleSchedule(x=>x.RepeatForever()
                                          .WithInterval(new TimeSpan(14,0,0,0)))
                    .Build();                

var newStartingPoint = trigger.GetFireTimeAfter(DateTime.Now);

if (newStartingPoint.HasValue)  
{ 
     trigger = ((ISimpleTrigger) trigger).GetTriggerBuilder()
                                        .StartAt(newStartingPoint.Value)
                                        .Build();    
} 
```

.GetTriggerBuilder() 在 ITrigger 上不可用，这就是您必须将触发器强制转换为 ISimpleTrigger 的原因，但同样的原理适用于其他触发器。

# ruby-on-rails - 我应该如何命名我的多态关联？

> ID：14393506
> 
> 赞同：0
> 
> 时间：2013-01-18T06:26:07.260
> 
> 标签：ruby-on-rails, ruby-on-rails-3, polymorphic-associations

我有两个模型`Listing`& `Building`。两者都会有一个`Amenity`.

我想在 Amenity 和其他两个模型之间创建一个多态关联，但我不太确定如何命名它。

我正在考虑这样做`has_amenities`，但如果 rails 正在创建一个`has_amenities_type`列作为参考，那可能会很尴尬。

便利设施如：花岗岩台面、游泳池等。

我应该如何处理这个？

我看到的所有多态关联的例子都围绕着`imageable, commentable, etc.`

所以不太确定在这里做什么。`amenitable`? 好像……错了。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-20T01:51:31.763

有点啰嗦，但是怎么样`can_have_amenities`？这基本上就是 imageable / commentable / xxxable 所说的，但听起来并不像 amenitable 那样奇怪......

# visual-studio - 有没有办法突出显示当前列 VisualStudio 2012 代码编辑器？

> ID：14393508
> 
> 赞同：2
> 
> 时间：2013-01-18T06:26:16.833
> 
> 标签：visual-studio, visual-studio-2012

我想在光标位置绘制像整个窗口长的细线，用于垂直和水平位置指示。有点像这样：

![在此处输入图像描述](../Images/8e9941c4812df3ef233a95a57a66e5ea.png)

已经有一种水平线，但没有垂直线。

你碰巧知道添加这个的好方法吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-07-26T15:27:00.920

你有没有看过[这个扩展](http://visualstudiogallery.msdn.microsoft.com/da227a0b-0e31-4a11-8f6b-3a149cf2e459)。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-18T15:49:09.313

我认为您可以使用“Ident Guides”扩展名（[http://visualstudiogallery.msdn.microsoft.com/e792686d-542b-474a-8c55-630980e72c30](http://visualstudiogallery.msdn.microsoft.com/e792686d-542b-474a-8c55-630980e72c30)）。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2018-11-13T00:10:30.700

这也是我在 VS Code 中寻找的东西，因为我非常习惯于[Atom 的高亮列](https://atom.io/packages/highlight-column)扩展。

[除了这个cursoruler](https://marketplace.visualstudio.com/items?itemName=freakone.cursoruler)扩展之外，似乎没有跟随光标的动态垂直指南。不是很酷，但似乎对我有用。

# ajax - TinyMCE textarea 和使用 ajax 发布表单

> ID：14393512
> 
> 赞同：17
> 
> 时间：2013-01-18T06:26:35.213
> 
> 标签：ajax, tinymce, save

我将 tinyMCE 用于文本区域并通过 AJAX 发布表单。

但是当我试图保存 textarea 值时，它在第一次单击时采用旧值，但在第二次单击时采用更新值。

我试过使用`tinyMCE.triggerSave()`，但没有用。

我也试过`tinyMCE.get('myid').getContent()`了，仍然需要旧值。

我的代码如下。

```
 $(".submit").live("click", function () {
            tinyMCE.triggerSave();
            var f = $(this).parents("form");
            var action = f.attr("action");
            var serializedForm = f.serialize();
            //tinyMCE.triggerSave(); also tried putting here
            $.ajax({
                 type: 'POST',
                 url: action,
                 data: serializedForm,
                 async: false,
                 success: function (data, textStatus, request) {
                     $(".divform").html(data);
                 },
                 error: function (req, status, error) {
                     alert&("Error occurred!");
                 }
            });
    return false;
    }); 
```

请帮助，任何帮助将不胜感激

* * *

## 回答 #1

> 赞同：53
> 
> 时间：2014-06-18T11:43:24.857

您可以按如下方式配置 TinyMCE，以在通过 TinyMCE 编辑器进行更改时保持隐藏文本区域的值同步：

```
tinymce.init({
    selector: "textarea",
    setup: function (editor) {
        editor.on('change', function () {
            tinymce.triggerSave();
        });
    }
}); 
```

有了这个，您可以随时直接从 textarea 元素访问最新值。

这已经在 TinyMCE 4.0 上测试过了

演示运行在：http: [//jsfiddle.net/9euk9/](http://jsfiddle.net/9euk9/)

* * *

## 回答 #2

> 赞同：15
> 
> 时间：2013-01-18T09:51:06.343

用这个代替`tinymce.triggerSave();`

```
$('#' + 'your_editor_id').html( tinymce.get('your_editor_id').getContent() ); 
```

* * *

## 回答 #3

> 赞同：6
> 
> 时间：2017-04-28T15:23:31.270

Dan Malcolm 为 TinyMCE 3.x 发布的替代实现如下：

```
tinymce.init({
    selector: "textarea",
    setup: function (editor) {
        editor.onChange.add(function() {
            editor.save();
        });
    }
}); 
```

除了在 3.x 上工作外，此版本还使用`editor.save`而不是`tinymce.triggerSave`，这意味着它只更新当前编辑器而不是页面中的所有编辑器。

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2019-02-08T11:30:03.287

在使用 Ajax 发布数据之前使用此脚本。这是使用前的 javascript 代码，请加载微小的 mce js 文件并使用它。

**tinymce.triggerSave();**

```
$.ajax({ 
    type: 'post', 
    url: 'autoSaveReport.php', 
    data: $('form').serialize(), 
    success: function (result) { 
        var redirectURL = window.location.pathname; 
        var redirectURL1 = redirectURL+"?incid="+result; 
        window.location = window.location+"?incid="+result; 
    } 
}); 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2021-02-25T01:07:38.543

对我来说工作正常

`tinymce.triggerSave();`

把它放在ajax帖子之前

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2019-02-12T22:59:22.110

@丹马尔科姆，

我注意到，当您在其中一个框中键入内容时，然后按“显示文本值”按钮，然后如果单击“撤消”箭头，它只会保留已显示的文本，而不是由“撤消”引起的新文本”。我在尝试使用您的示例检查文本编辑器中是否包含某些内容时发现了它。

在我的示例中，如果我在其中输入内容，然后执行“撤消”，它会删除其中的文本，但表单仍会提交。

请参见此处的示例：

```
enter code here 
```

[https://codepen.io/speedygonzales77/pen/bzMrqB](https://codepen.io/speedygonzales77/pen/bzMrqB)

```
enter code here 
```

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2021-06-22T22:01:00.413

我知道时间过去了，但我今天找到了这个解决方案。

在序列化表单之前，您必须使用以下方法保存编辑器：

```
tinymce.activeEditor.save();
var serializedForm = f.serialize(); 
```

也许这对某些同志有帮助。

# android - 尝试在主线程之外初始化硬件加速，中止

> ID：14393516
> 
> 赞同：11
> 
> 时间：2013-01-18T06:26:55.370
> 
> 标签：android

有人对我在 LogCat 中收到此警告的原因有任何见解吗？

> 01-18 01:18:17.475: W/HardwareRenderer(25992): 尝试在主线程之外初始化硬件加速，中止

我在我的主要活动（主线程）中使用我的 WebView 执行此操作：

```
wv = (WebView) findViewById(R.id.main_webview);
wv.getSettings().setRenderPriority(WebSettings.RenderPriority.HIGH); 
```

我的清单中有这个：

```
<activity
   android:name=".Main"
   android:hardwareAccelerated="true"
   android:label="@string/title_activity_main" > 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-28T13:04:50.437

以下是硬件加速在 Android 中的工作原理：

```
private void enableHardwareAcceleration(WindowManager.LayoutParams attrs) {
    mAttachInfo.mHardwareAccelerated = false;
    mAttachInfo.mHardwareAccelerationRequested = false;

    // Don't enable hardware acceleration when the application is in compatibility mode
    if (mTranslator != null) return;

    // Try to enable hardware acceleration if requested
    final boolean hardwareAccelerated = 
            (attrs.flags & WindowManager.LayoutParams.FLAG_HARDWARE_ACCELERATED) != 0;

    if (hardwareAccelerated) {
        if (!HardwareRenderer.isAvailable()) {
            return;
        }

        // Persistent processes (including the system) should not do
        // accelerated rendering on low-end devices.  In that case,
        // sRendererDisabled will be set.  In addition, the system process
        // itself should never do accelerated rendering.  In that case, both
        // sRendererDisabled and sSystemRendererDisabled are set.  When
        // sSystemRendererDisabled is set, PRIVATE_FLAG_FORCE_HARDWARE_ACCELERATED
        // can be used by code on the system process to escape that and enable
        // HW accelerated drawing.  (This is basically for the lock screen.)

        final boolean fakeHwAccelerated = (attrs.privateFlags &
                WindowManager.LayoutParams.PRIVATE_FLAG_FAKE_HARDWARE_ACCELERATED) != 0;
        final boolean forceHwAccelerated = (attrs.privateFlags &
                WindowManager.LayoutParams.PRIVATE_FLAG_FORCE_HARDWARE_ACCELERATED) != 0;

        if (!HardwareRenderer.sRendererDisabled || (HardwareRenderer.sSystemRendererDisabled
                && forceHwAccelerated)) {
            // Don't enable hardware acceleration when we're not on the main thread
            if (!HardwareRenderer.sSystemRendererDisabled
                    && Looper.getMainLooper() != Looper.myLooper()) {
                Log.w(HardwareRenderer.LOG_TAG, "Attempting to initialize hardware "
                        + "acceleration outside of the main thread, aborting");
                return;
            }

            final boolean translucent = attrs.format != PixelFormat.OPAQUE;
            if (mAttachInfo.mHardwareRenderer != null) {
                mAttachInfo.mHardwareRenderer.destroy(true);
            }                
            mAttachInfo.mHardwareRenderer = HardwareRenderer.createGlRenderer(2, translucent);
            mAttachInfo.mHardwareAccelerated = mAttachInfo.mHardwareAccelerationRequested
                    = mAttachInfo.mHardwareRenderer != null;
        } else if (fakeHwAccelerated) {
            // The window had wanted to use hardware acceleration, but this
            // is not allowed in its process.  By setting this flag, it can
            // still render as if it was accelerated.  This is basically for
            // the preview windows the window manager shows for launching
            // applications, so they will look more like the app being launched.
            mAttachInfo.mHardwareAccelerationRequested = true;
        }
    }
} 
```

从那里，您可以看到您获得的日志是在主线程之外询问硬件加速时（如日志所述）。

在您的情况下，您必须更深入地了解代码并查看所有非主线程，其中一个正在调用硬件加速。

如果没有更多细节（一些代码等），我无法帮助你。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-31T08:03:29.330

根据文档

> 设置渲染优先级

每个进程只能调用一次。

> 设置渲染线程的优先级。与其他设置不同，这个设置只需要每个进程调用一次。默认值为正常。

可能解决您的问题

*   将删除 websetting.setRenderPriority。
*   您在上述代码中未共享的另一个线程是否会访问硬件

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2013-06-18T10:10:13.120

```
LinearLayout.LayoutParams dfparams = new LinearLayout.LayoutParams(0, 0, 0);
    webview.setLayoutParams(dfparams);
    webview.loadDataWithBaseURL("url", content, "text/html", "utf-8", null);

    webview.setWebViewClient(new WebViewClient() {
        public void onPageFinished(WebView view, String url) {
            LinearLayout.LayoutParams params = new LinearLayout.LayoutParams(LinearLayout.LayoutParams.FILL_PARENT, LinearLayout.LayoutParams.WRAP_CONTENT, 0);
            webview.setLayoutParams(params);

        }
    }); 
```

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2013-05-25T04:53:12.713

```
webview.getSettings().setRenderPriority(WebSettings.RenderPriority.HIGH); 
```

# java - 停止从石英调度程序中删除作业

> ID：14393517
> 
> 赞同：0
> 
> 时间：2013-01-18T06:26:57.040
> 
> 标签：java, quartz-scheduler

您好，我正在为我的应用程序使用石英调度程序。我正在做一份只被解雇一次的工作。到此为止，一切都很好。但是在作业触发后，它会自动从调度程序中删除。如何阻止它？我想从用户界面中删除作业。谁能帮我？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-01T05:03:54.373

通过在 JobDetail 中将持久性设置为 true，使作业持久化。如果使用 JobBuilder，请调用 storeDurably。 [http://quartz-scheduler.org/api/2.0.0/org/quartz/JobBuilder.html#storeDurably()](http://quartz-scheduler.org/api/2.0.0/org/quartz/JobBuilder.html#storeDurably())

# java - 使用java离线访问谷歌日历

> ID：14393518
> 
> 赞同：2
> 
> 时间：2013-01-18T06:27:04.317
> 
> 标签：java, oauth, google-calendar-api, authsub

我们有代码将我们的应用程序日历与登录用户的谷歌日历同步。该代码使用 AuthSub 和 CalendarService 类，但它不提供使用访问令牌和刷新令牌对谷歌日历的离线访问，因为我想使用日历类使用 OAuth v3。我在将旧代码合并到没有 getFeed() 函数的新 v3 Calendar 类时遇到问题。这是我的应用程序中的一些代码

```
if(StringUtil.isValid(request.getQueryString())) {
                onetimeUseToken = AuthSubUtil.getTokenFromReply(request.getQueryString());
            }       

            if(StringUtil.isValid(onetimeUseToken)) {           

                    String sessionToken = AuthSubUtil.exchangeForSessionToken(onetimeUseToken,null);
                    CalendarService calendarService = new CalendarService("myapp");
                    calendarService.setAuthSubToken(sessionToken, null);    
                    session.setAttribute("calendarServicesession",calendarService);
                    userIDforCalendar = (String) session.getAttribute("calendar_user_no");
                        }

                       CalendarFeed myResultsFeed1 =service.getFeed(new URL("https://www.google.com/calendar/feeds/default/allcalendars/full"),CalendarFeed.class);

            for (int i = 0; i < myResultsFeed1.getEntries().size(); i++) {
                CalendarEntry entry = myResultsFeed1.getEntries().get(i);
                           .....

} 
```

请为我提供一些使用 CalendarService 进行离线访问的方法，这样我就不必对代码进行太多更改。希望快速回复。

谢谢-德拉维特古普塔

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-01-24T10:43:11.730

Google 从 2012 年 4 月 20 日起弃用了 AuthSub。所以是时候迁移到 OAuth 2.0 和 Google Calendar API v3。首先从以下链接下载 jar 文件：

[https://google-api-client-libraries.appspot.com/download/library/calendar/v3/java](https://google-api-client-libraries.appspot.com/download/library/calendar/v3/java)

[http://google-oauth-java-client.googlecode.com/files/google-oauth-java-client-1.13.1-beta.zip](http://google-oauth-java-client.googlecode.com/files/google-oauth-java-client-1.13.1-beta.zip)

从您的项目中删除旧的日历和 Authsub jar 文件，并从此链接添加 jar 文件。

然后转到 google api 控制台以获取您的客户端 ID、客户端密码并创建重定向 uri。并从同一个 api 控制台启用 google calendar api。

我为您提供了一个示例代码，该代码对用户进行身份验证并显示他拥有的日历，您必须存储您在输出中获得的刷新令牌并将其存储，以便您可以离线访问日历。

以下函数用于 OAuth 授权。

```
 public void authenticate(HttpServletRequest request, HttpServletResponse response) throws IOException, ServletException {
    String client_id                = "xxxx";
    String redirect_uri             = "xxxxxx";
    String scope                    = "https://www.googleapis.com/auth/calendar";
    String client_secret            = "xxxxxx";
    List <String> scopes;
    HttpTransport transport         = new NetHttpTransport();
    JsonFactory jsonFactory         = new JacksonFactory();

    scopes = new LinkedList<String>();
    scopes.add(scope);
    GoogleAuthorizationCodeFlow flow = new GoogleAuthorizationCodeFlow.Builder(transport, jsonFactory, client_id, client_secret, scopes).build();
    GoogleAuthorizationCodeRequestUrl url = flow.newAuthorizationUrl();
    url.setRedirectUri(redirect_uri);
    url.setApprovalPrompt("force");
    url.setAccessType("offline");
    String authorize_url = url.build();
    response.sendRedirect(authorize_url);
} 
```

您必须将值添加到变量`client_id`和。所有这些值都在您的 google api 控制台中。`client_secret``redirect_uri`

授权函数将我转发到授权 url，它给了我一个访问令牌和一个刷新令牌。但是，访问令牌会在一段时间后过期。因此，如果您想要访问令牌，则需要存储刷新令牌并在您访问日历 API 时使用它来生成它。

以下函数生成访问令牌和刷新令牌，并在用户谷歌日历中打印日历列表。

```
public void importCalendarList(HttpServletRequest request, HttpServletResponse response) throws IOException, ServletException {
    HttpSession session = request.getSession();
    String staffKey = (String) session.getAttribute("staffKey");
    ContactJdo staffDetails = staff.getStaffDetail(staffKey);
    String code = request.getParameter("code");
    String calendarId="";

    GoogleAuthorizationCodeFlow flow = new GoogleAuthorizationCodeFlow.Builder(transport, jsonFactory, client_id, client_secret, scopes).build();
    GoogleTokenResponse res = flow.newTokenRequest(code).setRedirectUri(redirect_uri).execute();
    String refreshToken = res.getRefreshToken();
    String accessToken = res.getAccessToken();

    List <CalendarListEntry>list1= getCalendars(accessToken);

    for(CalendarListEntry temp:list1) {
        System.out.println(temp.getId());
    }} 
```

如果您查看上述函数，它会生成访问令牌和刷新令牌。如果您想再次生成访问令牌，请使用此功能：

```
public static String getAccessToken(String refreshToken, String client_id, String client_secret) throws IOException {
    HttpTransport transport         = new NetHttpTransport();
    JsonFactory jsonFactory         = new JacksonFactory();

    GoogleRefreshTokenRequest req = new GoogleRefreshTokenRequest(transport, jsonFactory, refreshToken, client_id, client_secret);
    GoogleTokenResponse res = req.execute();
    String accessToken = res.getAccessToken();
    return accessToken;
} 
```

将刷新令牌存储在某处，您可以执行日历文档中提到的所有操作。在这里找到它

[https://google-api-client-libraries.appspot.com/documentation/calendar/v3/java/latest/index.html](https://google-api-client-libraries.appspot.com/documentation/calendar/v3/java/latest/index.html)

# c++ - 如何打印 4 个不同字母可以组合成 2 个字母对以填充四个点，每个字母恰好出现两次？

> ID：14393520
> 
> 赞同：0
> 
> 时间：2013-01-18T06:27:10.043
> 
> 标签：c++

我到目前为止是这样的：

```
#include <iostream>
#include <algorithm>

using namespace std;

int main(){

    string genePool[16] = {"aa", "ab", "ac", "ad", "ba", "bb", "bc", "bd", "ca", "cb", 
                       "cc", "cd", "da", "db", "dc", "dd"};

    string coco, code, deco, dede;

    int total = 0;

    for (int i = 0; i < 16; i++){
        coco = genePool[i];
        for (int j = 0; j < 15; j++){
            code = genePool[j];
                 for (int k = 0; k < 14; k++){
                 code = genePool[k];
                      for (int l = 0; l < 13; l++){
                      code = genePool[l];

                      size_t a = count(coco.begin(), coco.end(), 'a') +
                                 count(code.begin(), code.end(), 'a') +
                                 count(deco.begin(), deco.end(), 'a') +
                                 count(dede.begin(), dede.end(), 'a');
                      size_t b = count(coco.begin(), coco.end(), 'b') +
                                 count(code.begin(), code.end(), 'b') +
                                 count(deco.begin(), deco.end(), 'b') +
                                 count(dede.begin(), dede.end(), 'b');
                      size_t c = count(coco.begin(), coco.end(), 'c') +
                                 count(code.begin(), code.end(), 'c') +
                                 count(deco.begin(), deco.end(), 'c') +
                                 count(dede.begin(), dede.end(), 'c');
                      size_t d = count(coco.begin(), coco.end(), 'd') +
                                 count(code.begin(), code.end(), 'd') +
                                 count(deco.begin(), deco.end(), 'd') +
                                 count(dede.begin(), dede.end(), 'd');

                        if (a = 2 || b = 2 || and c = 2 || d = 2){
                           total++;
                           cout << total << ") "coco << "," << code << "," << deco 
                                << "," << dede << endl;
                        }
                      }    
                }
        }
    }
    return 0;
} 
```

自从我用 C++ 做任何事情以来已经有一段时间了，即使那时我也没有走得太远，所以请原谅任何令人反感的明显错误。每当有人指出更好时，我都会尽心尽责地做得更好:)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-18T08:01:04.157

那么，您想要一个 8 个字符的序列（4 个点 x 每个点 2 个字符），每个 4 个字符包含 2 个实例？

听起来您实际上想要 的所有可能排列`"aabbccdd"`，因为您选择了所有 8 个字符。

因此，这将打印每个排列：

```
#include <string>
#include <algorithm>
#include <iostream>

void print_permutations(const char *source)
{
    // current permutation
    std::string s(source);
    // this must start off sorted
    std::sort(s.begin(), s.end());
    do {
        std::cout << s << '\n';
    } while (std::next_permutation(s.begin(), s.end()));
}

// original gene pool
const char *pool = "aabbccdd";

int main()
{
    print_permutations(pool);
} 
```

这基本上就是[这里](http://en.cppreference.com/w/cpp/algorithm/next_permutation)的例子。

如果这不是您正在寻找的，也许您可​​以显示一些示例输出？

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-18T10:30:57.950

我会采用图表方法。构造一个图，其中 geenpool 的每个元素都由一个节点表示，并且每个可能的配对都与一条边。

有点减少可能看起来像这样。

```
\#include "iostream"

\#include "string"

\#include "algorithm"

\#include "map"

using namespace std;

using namespace std;

int main(){

string genePool[16] = {"aa", "ab", "ac", "ad", "ba", "bb", "bc", "bd", "ca", "cb",
                   "cc", "cd", "da", "db", "dc", "dd"};

map< string,map< string,bool > * > Graph;

for(int i=0;i < 16;++i){

Graph[genePool[i]]= new map< string,bool>;

    for(int j=0;j < 16;++j){

    string combined = genePool[i]+genePool[j];

    unsigned found;

    int count_a =count(combined.begin(),combined.end(),'a');

    int count_b =count(combined.begin(),combined.end(),'b');

    int count_c =count(combined.begin(),combined.end(),'c');

    int count_d =count(combined.begin(),combined.end(),'d');

    if( (count_a == 2 ||count_a ==0)   && (count_b == 2 ||count_b ==0)  && (count_c == 2             ||count_c ==0) && (count_d == 2 ||count_d ==0))

    (*Graph[genePool[i]])[genePool[j]] = true;

    }

}

map<string,map<string,bool>* >::iterator it1 =Graph.begin();

while(it1 != Graph.end() ){

    map<string,bool>::iterator it2 =it1->second->begin();

    while(it2 != it1->second->end()){

        cout <<it1->first<<it2->first<<endl;

        ++it2;

    }

   ++it1;

}

} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-18T07:49:29.000

似乎您想创建长度为 4 的序列，从 4 个字母中选择 2 个，每个字母包含两次？

我的（相当粗鲁的）方法是这样的：它从头到尾、一个字符一个字符地添加到一个序列中，并在每个步骤中根据您的规则缩小可能的解决方案。

这将创建类似：

```
aabb, abba, baba, abab an so on 
```

您可以取消注释某些行以仅允许原子对，这是在前两个字母之后完成的，以相应地添加第二对。（见代码中的注释）

```
aabb, abab, baba, bbaa .... 
```

这里有一些代码：

```
#include <vector>
using namespace std,

// .....

string letters = "abcd", tmpStr;
string wrkString; // string to hold sequence during creation
<vector>string sequences; // vector to hold all valid sequences

for(int first=0;i<letters.length();first++){ // every char as first char
    wrkString = letters.at(first);
    for(int  second=0;i<letters.length();second++){ // every char as second char
        wrkString += letters.at(second);
        // got first 2 now differentiate
        if(first == second) // having aa
            letters.erase(first,1); // if same twice, erase from possible elements
        else{ // having ab
            tmpStr = letters;  // if different only this two remain possible solutions
            letters = tmpStr.at(first) + tmpStr.at(second);   

            // uncomment here to add this pair again in same order (ab ab)
            // wrkString += wrkString;
            // sequences.push_back(wrkString);  
            // letters = '';        
        }
        for(int third=0;i<letters.length();third++){ // having aa or ab or ba or bb or ac ...
            wrkString += letters.at(third);
            if(wrkString.find(letters.at(third))==1) // having aac
               letters = letters.at(third);  // if included it has to be added once more
            else // having acc 
               letters -= letters.at(third); // if included twice, remove from possible elements

            for(int fourth=0;i<letters.length();fourth++){ // here allways 1 letter left
                wrkString += letters.at(fourth);
                sequences.push_back(wrkString);    // adding copy of sequence to vector
            }
        }
    }
    letters = "abcd"; // reset possible elements for next iteration
} 
```

# php - php访问mysql localhost和远程主机

> ID：14393523
> 
> 赞同：0
> 
> 时间：2013-01-18T06:27:38.500
> 
> 标签：php

我在 localhost 和远程主机 dev 之间进行更改：我在 localhost 上对其进行测试，然后将文件复制到 php 中的远程。

我有一类 MYDB，它将主机和用户数据库信息存储在常量中。如何声明常量并编写MYDB，这样我就不必在这两个访问日期之间手动切换。相反，我想自动切换。我用：

```
host: localhost
user: timo
db: localhostdb
pwd: ...

 host: remotehostname
 user: timo
 db: remotehostdb
  pwd:.. 
```

在切换到 localhost 之前，我会评论远程主机，反之亦然。情况不妙。任何想法 ？蒂莫

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-18T06:33:38.760

我通过将凭据存储在`config.live.php`文件中来处理此问题，该文件可以被文件的存在覆盖`config.test.php`。

包含配置时：

```
require_once(file_exists('config.test.php') ? 'config.test.php' : 'config.live.php'); 
```

我保持`config.live.php`版本化`config.test.php`并被 SVN 忽略。这样，测试文件永远不会在生产中结束，任何签出代码副本的人都可以将 live.php 复制到新的 test.php 文件并更新他们的测试配置。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-18T06:30:47.373

关于好。其他一些方法

1.  有些人在生产和本地测试之间维护不同的文件
2.  您可以将代码包装在 if($production) .. else ..... 然后自动设置该生产变量。例如，我们根据 URL 进行操作。如果 URL 是生产 URL，则 $production 设置为生产。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-01-18T18:26:56.603

我是如何解决的：

类 MyDB {

```
private static $db;

static public function getInstance($Start = false) {

if ($_SERVER['SERVER_NAME'] == 'localhost') {

/*  $DB_HOST = 'localhost'; 
    $DB_DATABASE = ''; 

    $DB_USER = ''; 
    $DB_PASSWORD = '';
*/  
    $aConnection = array('DB_HOST' => 'localhost', 'DB_DATABASE' => '', 'DB_USER' => '', 'DB_PASSWORD' => '');
} else {

    $aConnection = array('DB_HOST' => 'd', 'DB_DATABASE' => '', 'DB_USER' => '', 'DB_PASSWORD' => $DB_PASSWORD);

}

    if (!self::$db) {
        self::$db = new PDO('mysql:host=' . $aConnection['DB_HOST'] . ';dbname=' . $aConnection['DB_DATABASE'] , $aConnection['DB_USER'], $aConnection['DB_PASSWORD'], array(PDO::ATTR_PERSISTENT => true, 
        PDO::ATTR_ERRMODE => PDO::ERRMODE_EXCEPTION,
        PDO::ATTR_EMULATE_PREPARES => false,
        PDO::ATTR_DEFAULT_FETCH_MODE => PDO::FETCH_ASSOC));
    }

    echo mysql_error();

    if ($Start)
        return $aConnection;
    else #Normale pdo klasse
        return self::$db;
} 
```

}

所以如果我需要一个正常的mysql连接，我使用数组，如果我需要PDO，我使用静态db变量。

# ajax - AJAX 图像上传到 Wordpress

> ID：14393524
> 
> 赞同：0
> 
> 时间：2013-01-18T06:27:39.217
> 
> 标签：ajax, image, wordpress, file-upload

所以我试图让用户从 Wordpress 网站的前端上传图片。我不希望他们必须注册一个帐户或任何东西。我正在使用 jQuery 插件 AJAXUpload 来处理前端的所有内容，并且运行良好。但是，每当我调用 Wordpress 的 AJAX 函数时，我都没有得到任何响应。我已经尝试过简单地消除一个字符串，但我仍然没有收到任何回复。

这是我在 Wordpress 后端中应该接受图像上传的代码。

```
if( !function_exists( 'ni_handle_file_upload' ) ){
function ni_handle_file_upload() {
    //global $wpdb, $global_contest_settings;
    die(json_encode("test"));
    /*if ($_FILES) {
        require_once(ABSPATH . "wp-admin" . '/includes/image.php');
        require_once(ABSPATH . "wp-admin" . '/includes/file.php');
        require_once(ABSPATH . "wp-admin" . '/includes/media.php');

        $attachment_ids = array();
        foreach ($_FILES as $file => $array) {
            // check to make sure its a successful upload
            if ($_FILES[$file]['error'] !== UPLOAD_ERR_OK) {
                die(json_encode(array(
                    "status" => "error",
                    "message" => "There was an error uploading the file."
                )));
            }

            $attachment_ids[] = media_handle_upload( $file );
        }
    }

    die(json_encode(array(
        "status" => "success",
        "message" => "File uploaded successfully",
        "attachment_ids" => $attachment_ids
    )));*/
}
add_action( 'wp_ajax_handle_file_upload', 'ni_handle_file_upload' );
add_action( 'wp_ajax_nopriv_handle_file_upload', 'ni_handle_file_upload' );
} 
```

这是我在前端用来上传文件的 JS。

```
new AjaxUpload('thumb', {
action: Contest.ajaxurl,
name: 'image',
data: {
    action: "handle_file_upload"
},
autoSubmit: true,
responseType: "json",
onSubmit: function(file, extension) {
    $('div.preview').addClass('loading');
},
onComplete: function(file, response) {
    thumb.load(function(){
        $('div.preview').removeClass('loading');
        thumb.unbind();
    });
    thumb.attr('src', response);
}
}); 
```

我已经在整个 JS 中设置了断点，一切都很好，除了 onComplete 事件永远不会触发，而且从我在 Chrome 的“网络”选项卡中可以看出，它调用了 Wordpress 的 admin-ajax.php，但它即使我只运行一行代码，也永远不会得到响应。我在这里错过了什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-07-01T16:33:08.227

在 WordPress 中，您需要使用[WP_Ajax_Response](http://codex.wordpress.org/Class_Reference/WP_Ajax_Response)发回您的响应。例子：

```
$response = array(
   'action'=>'handle_file_upload',
   'data'=> array('status' => 'success', 'message' => 'File uploaded successfully',     'attachment_ids' => $attachment_ids)
);

$xmlResponse = new WP_Ajax_Response($response);
$xmlResponse->send(); 
```

# android - 在 Android 中按月对 Facebook 好友生日列表进行排序

> ID：14393526
> 
> 赞同：-1
> 
> 时间：2013-01-18T06:27:44.117
> 
> 标签：android, facebook, facebook-graph-api, facebook-fql, facebook-android-sdk

> **可能重复：**
> [获取当前月份 Facebook 好友生日列表的 Hackbook 示例代码](https://stackoverflow.com/questions/14373862/hackbook-sample-code-to-fetch-list-of-current-month-facebook-friends-birthdays)

我制作了一个程序，在其中我正在*获取*我所有*Facebook 好友*的列表..

现在我想让我的模块*对用户更加自定义，*并希望允许用户查看他们的好友列表 Month Wise

**问题：**

```
How to sort Facebook Friends List those birthdays in Current Month or Week only... 
```

获取所有好友列表的代码：

```
 public static void requestFriends(FacebookRequest facebookRequest) {
Log.d(LOG_TAG, "requestFriends(" + ")");
String query = "select name, birthday, uid, pic_square from user where uid in (select uid2 from friend where uid1=me()) order by birthday_date";
Bundle params = new Bundle();
params.putString("method", "fql.query");
params.putString("query", query);
FacebookUtility.asyncRunner.request(null, params, 
new   FacebookRequestListener(FacebookRequestListener.FRIENDS, facebookRequest));
} 
```

获取一月份生日的朋友列表的代码：

```
String query = "select name, birthday, uid, pic_square from user where uid in (select uid2 from friend where uid1=me())AND birthday_date >= '01/01' AND birthday_date <= '01/31' ORDER BY birthday_date ASC"; 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-18T07:37:02.263

据我了解，您已经知道如何在特定月份结交朋友。虽然我不了解 android，但我相信您只需要获取当前月份并将其插入 fql。

```
Calendar c = Calendar.getInstance(); 
int month = c.get(Calendar.MONTH)
String query = "select name, birthday, uid, pic_square from user where uid in (select uid2 from friend where uid1=me())AND birthday_date >= '" + month+ "/01' AND birthday_date <= '" + month+ "/31' ORDER BY birthday_date ASC"; 
```

或类似的东西。

# android - 从 android 中的联系人中选择号码、电子邮件 ID 和姓名

> ID：14393530
> 
> 赞同：0
> 
> 时间：2013-01-18T06:28:19.233
> 
> 标签：android, email, contacts, phone-number

我正在处理电话联系人。**当我单击按钮并获取所有联系信息，如姓名、电子邮件和电话号码**时，我想从联系人列表中选择一个联系人。我刚刚得到联系人的电子邮件和姓名，但无法获取电话号码。我的代码下面给出。

```
 Intent contactPickerIntent = new Intent(Intent.ACTION_PICK,Contacts.CONTENT_URI);
                            startActivityForResult(contactPickerIntent, PICK_CONTACT);
                     }
             });
     }

     @Override
     public void onActivityResult(int reqCode, int resultCode, Intent data) {

           if (resultCode == RESULT_OK) {
                switch (reqCode) 
                {
                case PICK_CONTACT:
                    Cursor cursor = null;
                    String email = "", name = "";
                    try {
                        Uri result = data.getData();
                        //Log.v(DEBUG_TAG, "Got a contact result: " + result.toString());

                        // get the contact id from the Uri
                        String id = result.getLastPathSegment();

                        // query for everything email
                        cursor = getContentResolver().query(Email.CONTENT_URI,  null, Email.CONTACT_ID + "=?", new String[] { id }, null);

                        int nameId = cursor.getColumnIndex(Contacts.DISPLAY_NAME);

                        int emailIdx = cursor.getColumnIndex(Email.DATA);

                        if (cursor.moveToFirst()) {
                            email = cursor.getString(emailIdx);
                            name = cursor.getString(nameId);

                        } else {
                           // Log.w(DEBUG_TAG, "No results");
                        }
                    } catch (Exception e) {
                       // Log.e(DEBUG_TAG, "Failed to get email data", e);
                    } finally {
                        if (cursor != null) {
                            cursor.close();
                        }

                        System.out.println(email);
                        System.out.println(name);
                        if (email.length() == 0 && name.length() == 0) 
                        {
                            Toast.makeText(this, "No Email for Selected Contact",Toast.LENGTH_LONG).show();
                        }
                    }
                    break;
                }

            } else {

            }
        }
} 
```

在这里我可以获得所选用户的电子邮件和姓名。我需要获得所选用户的电子邮件、电话号码和姓名，请帮助我。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-01-18T07:05:42.720

我以前这样做过，可能对你有帮助：

**以下是获取联系电话的功能**

```
public void queryAllPhoneNumbersFromContacts(int contactId, List<ListViewEntry> content) {
        final String[] projection = new String[] {
                Phone.NUMBER,
                Phone.TYPE,
        };

        final Cursor phone = managedQuery(
                Phone.CONTENT_URI,  
                projection,
                Data.CONTACT_ID + "=?",
                new String[]{String.valueOf(contactId)},
                null);

        if(phone.moveToFirst()) {
            final int contactNumberColumnIndex = phone.getColumnIndex(Phone.NUMBER);
            final int contactTypeColumnIndex = phone.getColumnIndex(Phone.TYPE);

            while(!phone.isAfterLast()) {
                final String number = phone.getString(contactNumberColumnIndex);
                final int type = phone.getInt(contactTypeColumnIndex);
                content.add(new ListViewEntry(number, Phone.getTypeLabelResource(type),R.string.type_phone));
                phone.moveToNext();
            }

        }
        phone.close();
    } 
```

**以下是获取电子邮件 ID 的功能**

```
 public void queryAllEmailAddressesFromContacts(int contactId, List<ListViewEntry> content) {
    final String[] projection = new String[] {
            Email.DATA,                         // use Email.ADDRESS for API-Level 11+
            Email.TYPE
    };

    final Cursor email = managedQuery(
            Email.CONTENT_URI,  
            projection,
            Data.CONTACT_ID + "=?",
            new String[]{String.valueOf(contactId)},
            null);

    if(email.moveToFirst()) {
        final int contactEmailColumnIndex = email.getColumnIndex(Email.DATA);
        final int contactTypeColumnIndex = email.getColumnIndex(Email.TYPE);

        while(!email.isAfterLast()) {
            final String address = email.getString(contactEmailColumnIndex);
            final int type = email.getInt(contactTypeColumnIndex);
            content.add(new ListViewEntry(address, Email.getTypeLabelResource(type),R.string.type_email));
            email.moveToNext();
        }

    }
    email.close();
} 
```

**字符串.xml**

```
<?xml version="1.0" encoding="utf-8"?>
<resources>
    <string name="type_phone">Phone Number</string>
    <string name="type_email">E-Mail</string>
</resources> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-18T06:45:50.967

检查[这个](https://stackoverflow.com/questions/6155612/getting-number-from-contacts-picker)...

或者你可以这样做..

```
String hasPhone = cursor.getString(cursor.getColumnIndex(Contacts.HAS_PHONE_NUMBER));

                   if ( hasPhone.equalsIgnoreCase("1"))
                       hasPhone = "true";
                   else
                       hasPhone = "false" ;

                   if (Boolean.parseBoolean(hasPhone)) 
                   {
                    Cursor phones = getContentResolver().query(CommonDataKinds.Phone.CONTENT_URI, null,CommonDataKinds.Phone.CONTACT_ID +" = "+ nameId,null, null);
                    while (phones.moveToNext()) 
                    {
                      String phoneNumber = phones.getString(phones.getColumnIndex(CommonDataKinds.Phone.NUMBER));
                    }
                    phones.close();
                   } 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-30T09:38:47.987

```
public class GetContactsDemo extends Activity {
/** Called when the activity is first created. */
@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.main);
    readContacts();        
}

public void readContacts(){
     ContentResolver cr = getContentResolver();
     Cursor cur = cr.query(ContactsContract.Contacts.CONTENT_URI,
            null, null, null, null);

     if (cur.getCount() > 0) {   
        while (cur.moveToNext()) {
            String id = cur.getString(cur.getColumnIndex(ContactsContract.Contacts._ID));
            String name = cur.getString(cur.getColumnIndex(ContactsContract.Contacts.DISPLAY_NAME));
            if (Integer.parseInt(cur.getString(cur.getColumnIndex(ContactsContract.Contacts.HAS_PHONE_NUMBER))) > 0) {
                System.out.println("name : " + name + ", ID : " + id);

                // get the phone number
                Cursor pCur = cr.query(ContactsContract.CommonDataKinds.Phone.CONTENT_URI,null, 
                                       ContactsContract.CommonDataKinds.Phone.CONTACT_ID +" = ?", 
                                       new String[]{id}, null);
                while (pCur.moveToNext()) {
                      String phone = pCur.getString(
                             pCur.getColumnIndex(ContactsContract.CommonDataKinds.Phone.NUMBER));
                      System.out.println("phone" + phone);
                } 
                pCur.close();

                // get email and type

               Cursor emailCur = cr.query(        
                        ContactsContract.CommonDataKinds.Email.CONTENT_URI, 
                        null,
                        ContactsContract.CommonDataKinds.Email.CONTACT_ID + " = ?",  
                        new String[]{id}, null); 
                while (emailCur.moveToNext()) { 
                    // This would allow you get several email addresses
                        // if the email addresses were stored in an array  
                    String email = emailCur.getString(
                                  emailCur.getColumnIndex(ContactsContract.CommonDataKinds.Email.DATA));
                    String emailType = emailCur.getString(
                                  emailCur.getColumnIndex(ContactsContract.CommonDataKinds.Email.TYPE));

                  System.out.println("Email " + email + " Email Type : " + emailType);
                } 
                emailCur.close();

                // Get note.......
                String noteWhere = ContactsContract.Data.CONTACT_ID + " = ? AND " + ContactsContract.Data.MIMETYPE + " = ?"; 
                String[] noteWhereParams = new String[]{id, 
                ContactsContract.CommonDataKinds.Note.CONTENT_ITEM_TYPE}; 
                        Cursor noteCur = cr.query(ContactsContract.Data.CONTENT_URI, null, noteWhere, noteWhereParams, null); 
                if (noteCur.moveToFirst()) { 
                    String note = noteCur.getString(noteCur.getColumnIndex(ContactsContract.CommonDataKinds.Note.NOTE));
                  System.out.println("Note " + note);
                } 
                noteCur.close();

                //Get Postal Address....

                String addrWhere = ContactsContract.Data.CONTACT_ID + " = ? AND " + ContactsContract.Data.MIMETYPE + " = ?"; 
                String[] addrWhereParams = new String[]{id, 
                    ContactsContract.CommonDataKinds.StructuredPostal.CONTENT_ITEM_TYPE}; 
                Cursor addrCur = cr.query(ContactsContract.Data.CONTENT_URI, 
                            null, null, null, null); 
                while(addrCur.moveToNext()) {
                    String poBox = addrCur.getString(
                                 addrCur.getColumnIndex(ContactsContract.CommonDataKinds.StructuredPostal.POBOX));
                    String street = addrCur.getString(
                                 addrCur.getColumnIndex(ContactsContract.CommonDataKinds.StructuredPostal.STREET));
                    String city = addrCur.getString(
                                 addrCur.getColumnIndex(ContactsContract.CommonDataKinds.StructuredPostal.CITY));
                    String state = addrCur.getString(
                                 addrCur.getColumnIndex(ContactsContract.CommonDataKinds.StructuredPostal.REGION));
                    String postalCode = addrCur.getString(
                                 addrCur.getColumnIndex(ContactsContract.CommonDataKinds.StructuredPostal.POSTCODE));
                    String country = addrCur.getString(
                                 addrCur.getColumnIndex(ContactsContract.CommonDataKinds.StructuredPostal.COUNTRY));
                    String type = addrCur.getString(
                                 addrCur.getColumnIndex(ContactsContract.CommonDataKinds.StructuredPostal.TYPE));

                    // Do something with these....

                } 
                addrCur.close();

                // Get Instant Messenger.........
                String imWhere = ContactsContract.Data.CONTACT_ID + " = ? AND " + ContactsContract.Data.MIMETYPE + " = ?"; 
                String[] imWhereParams = new String[]{id, 
                    ContactsContract.CommonDataKinds.Im.CONTENT_ITEM_TYPE}; 
                Cursor imCur = cr.query(ContactsContract.Data.CONTENT_URI, 
                        null, imWhere, imWhereParams, null); 
                if (imCur.moveToFirst()) { 
                    String imName = imCur.getString(
                             imCur.getColumnIndex(ContactsContract.CommonDataKinds.Im.DATA));
                    String imType;
                    imType = imCur.getString(
                             imCur.getColumnIndex(ContactsContract.CommonDataKinds.Im.TYPE));
                } 
                imCur.close();

                // Get Organizations.........

                String orgWhere = ContactsContract.Data.CONTACT_ID + " = ? AND " + ContactsContract.Data.MIMETYPE + " = ?"; 
                String[] orgWhereParams = new String[]{id, 
                    ContactsContract.CommonDataKinds.Organization.CONTENT_ITEM_TYPE}; 
                Cursor orgCur = cr.query(ContactsContract.Data.CONTENT_URI, 
                            null, orgWhere, orgWhereParams, null);
                if (orgCur.moveToFirst()) { 
                    String orgName = orgCur.getString(orgCur.getColumnIndex(ContactsContract.CommonDataKinds.Organization.DATA));
                    String title = orgCur.getString(orgCur.getColumnIndex(ContactsContract.CommonDataKinds.Organization.TITLE));
                } 
                orgCur.close();
            }
            System.out.println("name :"+ name);
            System.out.println("name :"+ id);
        }

   }
} 
```

}

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-18T06:33:53.627

```
@Override
    protected void onActivityResult(int requestCode, int resultCode, Intent data) {
        super.onActivityResult(requestCode, resultCode, data);
        if ( resultCode == RESULT_OK ){
            getContactInfo(data);
            Log.d(TAG, "name " + name + " phone " + phoneNumber );
            if (phoneNumber.length() == 0 || phoneNumber.equals("")) {
                ToastMsg.showToast(HomeActivity.this, "Number Not Avaialable");
            }
            else {
                String id = phoneNumber;
                Log.d(TAG, "phone "+id);
                if (id.contains("*") || id.contains("#")){
                    ToastMsg.showToast(HomeActivity.this, "Not Valid Number");
                }else{

                    ArrayList<ContactSetterGetter> setGet = helper.getAllContacts();

                    Log.d(TAG, "size "+setGet.size());
                    boolean isNumberAvailable = false;
                    if ( setGet.size() != 0 ) {

                        for ( int i = 0; i < setGet.size(); i++){
                            if ( PhoneNumberUtils.compare(id, setGet.get(i).getContactNumber()) ){
                                isNumberAvailable = true;
                            }
                        }

                            if (isNumberAvailable){
                                ToastMsg.showToast(HomeActivity.this, "Contact already Aailable");
                            }else{
                                helper.saveContactInfo(name, phoneNumber, address);
                                ToastMsg.showToast(HomeActivity.this, "Contact Added!");
                                displayContactsInfo();
                            }

                        }else{
                            helper.saveContactInfo(name, phoneNumber, address);
                            ToastMsg.showToast(HomeActivity.this, "Contact Added!");
                            displayContactsInfo();
                        }
                }
            }
            phoneNumber = "";
            name = "No Name";
            address = "";
        }
    }

    private void getContactInfo(Intent intent) {
        ContentResolver cr = getContentResolver();
        Cursor cursor = cr.query(intent.getData(), null, null, null, null);

        while (cursor.moveToNext()) {
            String contactId = cursor.getString(cursor.getColumnIndex(ContactsContract.Contacts._ID));
            name = cursor.getString(cursor.getColumnIndexOrThrow(ContactsContract.Contacts.DISPLAY_NAME));
            Log.d(TAG, "name " + name);
            String hasPhone = cursor.getString(cursor.getColumnIndex(ContactsContract.Contacts.HAS_PHONE_NUMBER));

            if (hasPhone.equalsIgnoreCase("1"))
                hasPhone = "true";
            else
                hasPhone = "false";

            if (Boolean.parseBoolean(hasPhone)) {
                Cursor phones = getContentResolver().query( ContactsContract.CommonDataKinds.Phone.CONTENT_URI, null,ContactsContract.CommonDataKinds.Phone.CONTACT_ID
                                + " = " + contactId, null, null);
                while (phones.moveToNext()) {
                    phoneNumber = phones.getString(phones.getColumnIndex(ContactsContract.CommonDataKinds.Phone.NUMBER));
                    Log.d(TAG, "phone " + phoneNumber);
                }
                phones.close();
            }
        } 
        cursor.close();
    } 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2015-11-05T02:30:42.677

```
public void getContact() {
   // startActivityForResult(new Intent(getActivity(), ContactsPickerActivity.class), GET_PHONE_NUMBER);
    Intent contactPickerIntent =
            new Intent(Intent.ACTION_PICK, ContactsContract.Contacts.CONTENT_URI);
    startActivityForResult(contactPickerIntent, GET_PHONE_NUMBER);
}

@Override
public void onActivityResult(int requestCode, int resultCode, Intent data){

    super.onActivityResult(requestCode, resultCode, data);
    // See which child activity is calling us back.

    String name =null;
    String phone=null;
    String email=null;
    Toast.makeText(getActivity(),"dfg",Toast.LENGTH_SHORT).show();
    switch (requestCode) {
        case GET_PHONE_NUMBER:
            String DEBUG_TAG ="tag";
            Cursor cursor = null;
            Cursor phonecursor = null;
            Uri result = data.getData();
            String id = result.getLastPathSegment();

            cursor = getActivity().getContentResolver().query(ContactsContract.CommonDataKinds.Phone.CONTENT_URI, null, ContactsContract.CommonDataKinds.Phone.CONTACT_ID + "=?", new String[] { id }, null);
            int phoneIdx = cursor.getColumnIndex(ContactsContract.CommonDataKinds.Phone.DATA);
            int nameIdx =cursor.getColumnIndex(ContactsContract.CommonDataKinds.Phone.DISPLAY_NAME);
            if (cursor.moveToFirst()) {
                while (cursor.isAfterLast() == false) {
                    phone = cursor.getString(phoneIdx);
                    name = cursor.getString(nameIdx);
                    cursor.moveToNext();
                }
            } else {
                //no results actions
            }
            email = "";
            try {

                Log.v(DEBUG_TAG, "Got a contact result: "
                        + result.toString());

                // get the contact id from the Uri

                // query for everything email
                cursor = getActivity().getContentResolver().query(ContactsContract.CommonDataKinds.Email.CONTENT_URI,
                        null, ContactsContract.CommonDataKinds.Email.CONTACT_ID + "=?", new String[] { id },
                        null);

                int emailIdx = cursor.getColumnIndex(ContactsContract.CommonDataKinds.Email.DATA);

                // let's just get the first email
                if (cursor.moveToFirst()) {
                    email = cursor.getString(emailIdx);
                    Log.v(DEBUG_TAG, "Got email: " + email + " " + name + " " + phone);
                    Toast.makeText(getActivity(),email
                            +phone,Toast.LENGTH_SHORT).show();

                } else {
                    Log.w(DEBUG_TAG, "No results");
                }
            } catch (Exception e) {
                Log.e(DEBUG_TAG, "Failed to get email data", e);
            } finally {
                if (cursor != null) {
                    cursor.close();
                }}
            SingleContact sc = new SingleContact();
            sc.SetData(name,phone,email);
            sm.saveNumber(phone);
            contactlist.add(sc);
            cla.notifyDataSetChanged();
            break;

        default:
            break;
    }
} 
```

# mysql - 如何在mysql中创建触发器？

> ID：14393533
> 
> 赞同：1
> 
> 时间：2013-01-18T06:28:34.427
> 
> 标签：mysql, sql, triggers, insert

如何创建一个触发器，该触发器根据插入的磁带数量自动创建特定的磁带 ID。触发器名称应为`trig_auto_spid`.
这意味着在表中`tapes`，在表中`BatDog`有`QTy=3`如此`Tape_Spec_Id` `TapesId T1=TS1, TS2, TS3...`。
我希望我对你说清楚了...

这是流程：

> 表：磁带数量：3

相当于

> 表：Tape_Spec_ID
> 
> TSpecID TS1、TS2、TS3...

这是我的两张表：

```
Tapes                                 
----------------------
TapesID   Title    Qty
T1      BatDog     3
T2      UnderCat   2
T3      IronMouse  1
T4      Boys Zone  1
T5      RoboCat    1

Tape_Specific_ID
----------------
TapesID TSpecID
     T1 TS1
     T1 TS2
     T1 TS3
     T2 TS4
     T2 TS5
     T3 TS6
     T4 TS7
     T5 TS8 
```

我真的不知道该怎么办，知道吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-18T07:25:53.943

试试这个：

```
DELIMITER $$

DROP TRIGGER /*!50032 IF EXISTS */ `trig_auto_spid`$$

CREATE
    /*!50017 DEFINER = 'root'@'localhost' */
    TRIGGER `trig_auto_spid` AFTER INSERT ON `tapes` 
    FOR EACH ROW BEGIN
        SELECT REPLACE(TSpecID, 'TS', '') INTO @counter 
        FROM Tape_Specific_ID 
        ORDER BY TSpecID DESC LIMIT 1;

        SET @loopCnt = @counter + new.qty; 
        WHILE (@counter <= @loopCnt) DO 
            INSERT INTO Tape_Specific_ID(TapesID, TSpecID) 
            VALUES (new.TapesID, CONCAT('TS', @counter)); 
            SET @counter:=@counter + 1;
        END WHILE; 
END;
$$

DELIMITER ; 
```

# c++ - 从相机中移除物体

> ID：14393535
> 
> 赞同：0
> 
> 时间：2013-01-18T06:28:37.190
> 
> 标签：c++, algorithm, opengl, 3d

我开发了一个程序和一个模块，其中有很多形状类。考虑一个形状类，例如我在这里拥有的一个矩形，以及一个`draw`从我的类中不断调用的函数。

```
virtual void draw()
{
if(State == HOVERING || State == CLOSED){                   
rec.draw(playerContainer);
gluLookAt(lookAtPoint);
}
else if(State == OPENING)
{
glPushMatrix();         
glTranslatef(Tweenable3D::pos.x,Tweenable3D::pos.y,Tweenable3D::pos.z);
glRotatef(Tweenable3D::xRotation,-1,0,0);                        
glTranslatef(-Tweenable3D::pos.y,-Tweenable3D::pos.y,-Tweenable3D::pos.z);
rectShape.draw(Tweenable3D::pos.x, Tweenable3D::pos.y, Tweenable3D::width, Tweenable3D::height);
glTranslatef(ofGetWidth()/2, ofGetHeight()/2,0);
glPopMatrix();
}
else
{
setPosition(vidPlayerFinalPosition);
rectShape.draw(vidPlayerFinalPosition, vidPlayerFinalWidth, vidPlayerFinalHeight);
ofCircle(vidPlayerFinalPosition, 30);
ofVec3f looks(0,0,0);
lookAt(looks);
}
} 
```

第二`Tweenable3D`个中使用的只是我的动画的插值。我正在以这种方式制作旋转、平移和其他动画。

这里的问题是我的形状一开始就在相机里面。对于第二个 if 条件，我必须执行一些我上面写的动画。但是，当我在程序中包含相机时，它会搞砸并将坐标转换为屏幕中心（我的初始坐标在左上角）

我必须自己做翻译来纠正这个相机翻译或尝试世界到屏幕/屏幕到世界等。
我只是想知道是否有办法将这个对象从相机中取出，做我的动画和其他东西，然后在其他如果条件也需要时将其放回相机中。说物体不在相机中可能是不正确的（可能已经存在的一些数学函数有助于获得这种效果）

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-18T11:11:04.610

你说的那个*相机*是什么？OpenGL没有“相机”。什么是“相机”，什么不是，完全取决于您和您的代码实现的语义。

我认为您的错误是，您将 OpenGL 与场景​​图混淆了，但事实并非如此。在固定功能模式下，它有许多矩阵，它只是根据您输入的一些数字将单个点、线和三角形扔到屏幕上，然后通过这些矩阵进行处理。没有场景，没有对象，没有对象层次结构。

* * *

另外，“物体在相机中”是什么意思？

# iphone - 按钮上的长按事件

> ID：14393539
> 
> 赞同：-1
> 
> 时间：2013-01-18T06:28:51.587
> 
> 标签：iphone, xcode

> **可能重复：**
> [如何使用 uiview 和 uibutton 检测 Uitableview 单元格上的点击？](https://stackoverflow.com/questions/5674701/how-to-detect-tap-on-uitableview-cell-with-uiview-and-uibutton)
> [UIButton 长按事件](https://stackoverflow.com/questions/6179347/uibutton-long-press-event)

我正在通过表格自定义单元格加载按钮。如何识别用户的单击或按钮上的长按事件？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-18T06:35:15.963

[我只是谷歌它](https://stackoverflow.com/questions/6179347/uibutton-long-press-event)，我从堆栈溢出中得到了最佳答案

```
- (void)viewDidLoad
{
    UILongPressGestureRecognizer *longPress = [[UILongPressGestureRecognizer alloc] initWithTarget:self action:@selector(longPress:)];
    [self.button addGestureRecognizer:longPress];
    [longPress release];

 [super viewDidLoad];

} 
```

和事件：-

```
- (void)longPress:(UILongPressGestureRecognizer*)gesture {
    if ( gesture.state == UIGestureRecognizerStateEnded ) {
         NSLog(@"Long Press");
    }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-18T06:36:42.810

您可以从创建 UILongPressGestureRecognizer 实例并将其附加到按钮开始。

```
UILongPressGestureRecognizer *longPress = [[UILongPressGestureRecognizer alloc] initWithTarget:self action:@selector(longPress:)];
[self.button addGestureRecognizer:longPress];
[longPress release]; 
```

然后实现处理手势的方法

```
- (void)longPress:(UILongPressGestureRecognizer*)gesture {
    if ( gesture.state == UIGestureRecognizerStateEnded ) {
         NSLog(@"Long Press");
    }
} 
```

现在这将是基本方法。您还可以设置压力机的最短持续时间以及可以容忍的错误量。另请注意，如果您在识别手势后会调用该方法几次，因此如果您想在结束时执行某些操作，则必须检查其状态并进行处理。

[参考](https://stackoverflow.com/questions/6179347/uibutton-long-press-event)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-18T06:36:50.403

```
- (void)setLongTouchAction:(SEL)newValue
{
    if (newValue == NULL)
    {
        [self removeGestureRecognizer:longPressGestureRecognizer];
        [longPressGestureRecognizer release];
        longPressGestureRecognizer = nil;
    }
    else
    {
        [longPressGestureRecognizer release];
        longPressGestureRecognizer = nil;

        longPressGestureRecognizer = [[UILongPressGestureRecognizer alloc] initWithTarget:[[self allTargets] anyObject] action:newValue];
        [self addGestureRecognizer:longPressGestureRecognizer];
    }
}

[undoButton addTarget:self action:@selector(performUndo:) forControlEvents:UIControlEventTouchUpInside];
[undoButton setLongTouchAction:@selector(showUndoOptions:)]; 
```

# android - 用于cordova 2.3.0 android的ExtractZipFile

> ID：14393542
> 
> 赞同：1
> 
> 时间：2013-01-18T06:29:04.940
> 
> 标签：android, cordova, plugins

我想知道您如何将 ExtractZipFile 插件安装到最新的cordova 2.3。我试图让插件工作但没有获胜。

链接到插件 [https://github.com/phonegap/phonegap-plugins/tree/master/Android/ExtractZipFile](https://github.com/phonegap/phonegap-plugins/tree/master/Android/ExtractZipFile)

希望可以有人帮帮我。

问候

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-20T23:07:36.057

我修改了 Vishal Rajpal（ExtractZipFile 插件的作者）代码以符合 cordova 插件结构，如[Plugin Development Guide](http://docs.phonegap.com/en/2.3.0/guide_plugin-development_index.md.html)和[Developing a Plugin on Android](http://docs.phonegap.com/en/2.3.0/guide_plugin-development_android_index.md.html#Developing%20a%20Plugin%20on%20Android)中所述。

**Java 代码**放在 org/apache/cordova/plugin/ExtractZipFilePlugin.java 下的 src 目录中

```
/*
    Author: Vishal Rajpal
    Filename: ExtractZipFilePlugin.java
    Created Date: 21-02-2012
    Modified Date: 21-02-2013
    Modified to comply with Cordova by: Ran Friedlender
*/

package org.apache.cordova.plugin;

import java.io.BufferedInputStream;
import java.io.BufferedOutputStream;
import java.io.File;
import java.io.FileOutputStream;
import java.io.IOException;
import java.util.Enumeration;
import java.util.zip.ZipEntry;
import java.util.zip.ZipException;
import java.util.zip.ZipFile;

import org.json.JSONArray;
import org.json.JSONException;

import org.apache.cordova.api.CallbackContext;
import org.apache.cordova.api.CordovaPlugin;
import org.apache.cordova.api.PluginResult;

public class ExtractZipFilePlugin extends CordovaPlugin
{
    @Override
    public boolean execute(String action, JSONArray args, CallbackContext callbackContext) throws JSONException
    {
        if (action.equals("unzip"))
        {
            String filename = args.getString(0); 
            unzip(filename, callbackContext);
            return true;
        }

        return false;
    }

    private void unzip(String filename, CallbackContext callbackContext)
    {
        File file = new File(filename);
        String[] dirToSplit = filename.split(File.separator);
        String dirToInsert = "";

        for (int i = 0; i < dirToSplit.length - 1; i++)
        {
            dirToInsert += dirToSplit[i] + File.separator;
        }

        BufferedOutputStream dest = null;
        BufferedInputStream is = null;
        ZipEntry entry;
        ZipFile zipfile;

        try
        {
            zipfile = new ZipFile(file);
            Enumeration<? extends ZipEntry> e = zipfile.entries();

            while (e.hasMoreElements()) 
            {
                entry = (ZipEntry)e.nextElement();
                is = new BufferedInputStream(zipfile.getInputStream(entry), 8192);
                int count;
                byte data[] = new byte[102222];
                String fileName = dirToInsert + entry.getName();
                File outFile = new File(fileName);

                if (entry.isDirectory()) 
                {
                    outFile.mkdirs();
                } 
                else 
                {
                    FileOutputStream fos = new FileOutputStream(outFile);
                    dest = new BufferedOutputStream(fos, 102222);

                    while ((count = is.read(data, 0, 102222)) != -1)
                    {
                        dest.write(data, 0, count);
                    }

                    dest.flush();
                    dest.close();
                    is.close();
                  }
            }
        }
        catch (ZipException e1)
        {
            callbackContext.error(PluginResult.Status.MALFORMED_URL_EXCEPTION.toString());
            return;
        }
        catch (IOException e1)
        {
            callbackContext.error(PluginResult.Status.IO_EXCEPTION.toString());
            return;
        }

        callbackContext.success(filename);
    }
} 
```

**插件声明**放在插件下的 res/xml/config.xml 中

```
<plugin name="ZipPlugin" value="org.apache.cordova.plugin.ExtractZipFilePlugin" /> 
```

**要包含在项目中的**JavaScript 代码- 文件 ZipPlugin.js****

 **```
/*
    Author: Vishal Rajpal
    Filename: ZipPlugin.js
    Created Date: 21-02-2012
    Modified Date: 21-02-2013
    Modified to comply with Cordova by: Ran Friedlender
*/

var ExtractZipFilePlugin = function()
{
};

ExtractZipFilePlugin.prototype.extractFile = function(file, successCallback, errorCallback) 
{
    cordova.exec(successCallback, errorCallback, "ZipPlugin", "unzip", [file]);
}; 
```

**使用示例**

```
var ZipClient = new ExtractZipFilePlugin();
ZipClient.extractFile("my_path/my.zip", win, fail);

function win(status) 
{    
    alert('Success ' + status);
}    

function fail(error) 
{ 
    alert(error);
} 
```

使用cordova 2.4.0成功测试
干杯！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-09-13T06:14:10.743

我也面临与我修改相同的问题而且这个phonegap解压缩插件在2.6中工作正常

[解压插件](https://github.com/ashishanautiyal/Unzip-PhoneGap--Plugin)**

# windows-runtime - WinRT C++/CX 任务未编译

> ID：14393543
> 
> 赞同：0
> 
> 时间：2013-01-18T06:29:10.383
> 
> 标签：windows-runtime, task, c++-cx, ppl, iasyncoperation

我正在尝试使用 C++/CX 创建 WinRT 组件。我有以下代码，但无法编译。它有什么问题？据我了解，PPL 任务应该透明地转换为 IAsyncOperation 如果它是一个有结果的任务。

```
IAsyncOperation<Boolean>^ Class::OpAsync()
{
    return create_task([] () { return true; });
} 
```

**错误信息**

```
error C2440: 'return' : cannot convert from 'Concurrency::task<_ReturnType>' to 'Windows::Foundation::IAsyncOperation<TResult> ^'
          with
          [
              _ReturnType=bool
          ]
          and
          [
              TResult=bool
          ]
          No user-defined-conversion operator available, or
          No user-defined-conversion operator available that can perform this conversion, or the operator cannot be called 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-23T18:16:30.860

create_task() 函数用于获取 IAsyncOperation 并将其转换为任务（基本上，与您想要的相反）。

要将任务转换为 IAsyncOperation，您需要改为调用 create_async()。

# c# - 使用 SaveFileDialog 保存文件中的意外字符

> ID：14393549
> 
> 赞同：0
> 
> 时间：2013-01-18T06:29:22.993
> 
> 标签：c#, .net, winforms, savefiledialog

代码：

```
private void btnSaveFile_Click(object sender, EventArgs e)
{
    listBox1.MultiColumn = true;
    SaveFileDialog sfd = new SaveFileDialog();
    sfd.Filter = "Text File|*.txt";
    if (sfd.ShowDialog() == DialogResult.OK) ;
    {
        string path = sfd.FileName;
        BinaryWriter bw = new BinaryWriter(File.Create(path));
        foreach (string s in hello)
        {
            bw.Write(s + Environment.NewLine);
        }
    } 
```

输出为

![这](../Images/af798a80e2aa9c4ee798dc9c81c4752f.png)

我真的不知道如何摆脱这些角色。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-18T06:38:27.090

如果要写入文本文件，请不要使用[BinaryWriter](http://msdn.microsoft.com/en-us/library/system.io.binarywriter.aspx)。它附加了字符串的长度，解释了为什么你观察到那些奇怪的字符。

你可以使用[`TextWriter`](http://msdn.microsoft.com/en-us/library/system.io.textwriter.aspx)：

```
using (var fileStream = File.Create(path)
using (var writer = new StreamWriter(fileStream))
{
    foreach (string s in hello) 
    {
        writer.Write(s + Environment.NewLine);
    }
} 
```

或者在这个特定示例中，您可以使用以下方法将所有这些代码缩短为一行代码[`WriteAllLines`](http://msdn.microsoft.com/en-us/library/92e05ft3.aspx)：

```
if (sfd.ShowDialog() == System.Windows.Forms.DialogResult.OK)
{
    string path = sfd.FileName;
    File.WriteAllLines(path, hello);
} 
```

还要小心！`;`你的`if`陈述后面有一个尾随。这意味着无论用户是确认还是取消了文件对话框，对文件的写入**总是会发生。**请注意我在上一个示例中是如何删除它的。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-18T06:42:10.420

尝试：

```
StreamWriter sw = new StreamWriter(path); 
```

StreamWriter 非常适合在文件中写入文本。而 BinaryWriter 以二进制形式将原始类型写入流并支持以特定编码写入字符串。

# jquery - 为什么比较选中的属性不适用于检查至少一个复选框被选中？

> ID：14393551
> 
> 赞同：-1
> 
> 时间：2013-01-18T06:29:35.503
> 
> 标签：jquery, jquery-ui, jquery-selectors

我做了这样的事情来检查所有复选框都被选中：

```
var container = $("#container");
$(container).find("input[type='checkbox'][checked != 'checked']").length == 0 
```

但是当我使用选中的属性来检查至少一个框被选中时，它总是给我长度= 0，我的代码如下：

```
 $(container).find("input[type='checkbox'][checked = 'checked']").length > 0 
```

区别在于第一个代码片段我使用了“！=”，而第二个代码片段我使用了“=”。那么为什么它在第二种情况下不起作用？

我知道我可以通过以下方式让它工作：

```
 $(container).find("input[type='checkbox']:is('checked')").length > 0 
  $(container).find("input[type='checkbox']:checked").length > 0 
```

但仍然想了解为什么上面的东西不起作用：O

我不知道这是否是原因，但我选择了所有复选框，这是通过为所有复选框设置“已选中”属性值来实现的

```
$(container).find("input[type='checkbox']").attr("checked","checked") 
```

对于取消选择我拥有的所有复选框：

```
$(container).find("input[type='checkbox']").removeAttr("checked","checked") 
```

可能是因为我在取消选择时删除了 attr 检查，当我通过 UI 再次单击复选框时，我没有得到它的检查属性值。是这样吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-18T06:38:22.017

然后试试这个

```
$('#container').find("input[type=checkbox]:checked").length > 0 
```

或者

```
$.each($("input[type=checkbox]:checked"), function() {

alert('Checked')

}); 
```

[http://jsfiddle.net/kabichill/hAv3z/](http://jsfiddle.net/kabichill/hAv3z/)

# java - 如何检查日期字符串是否具有特定格式

> ID：14393564
> 
> 赞同：-9
> 
> 时间：2013-01-18T06:30:33.263
> 
> 标签：java, string

我有一个网络服务，我们将日期作为字符串传递::

*   `fromDate=2012-11-06 22:16:23.157&toDate=2012-11-06 22:44:56.367`（**这是类型 1**）

和

*   `fromDate=2012-11-06&toDate=2012-11-07`（**这是类型 2**）

现在，我想要的是当我们有“TYPE 1”时，然后 -

```
List<something> myList=vc.getsomething(FromDate,ToDate);
else{
   String newFromDate = fromDate + " " + constant.ZERO_APPEND;
   String newToDate = toDate + " " + constant.ZERO_APPEND;
   List<something> myList=vc.getsomething(newFromDate,newToDate);
} 
```

这该怎么做..？？请帮忙..

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-18T06:33:24.327

`.equals`比较字符串时使用。这是一个例子：

```
String first = "text";
String second = "text";

if(first.equals(second))
{
    System.out.println("Strings are equal!");
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-18T06:35:36.503

我最好的猜测是你想要这样的东西吗？但我可能需要更多的上下文，因为我不完全理解这个问题。

```
if(FromDate.contains(":")){ //If it contains : from the seconds separator
    List<something> myList=vc.getsomething(FromDate,ToDate);
}
else{
   String newFromDate = fromDate + " " + constant.ZERO_APPEND;
   String newToDate = toDate + " " + constant.ZERO_APPEND;
   List<something> myList=vc.getsomething(newFromDate,newToDate);
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-18T06:55:01.323

如果要检查格式，则应在 java 中使用正则表达式并使用`str.matches("Regex here")`（[regex in java](http://www.vogella.com/articles/JavaRegularExpressions/article.html)）检查格式

或者如果您的格式是固定的，您可以检查`str.contains(":")`以检查第一种格式

# java - 如何使我的 Java/Java EE 应用程序的 IP 更安全？

> ID：14393568
> 
> 赞同：0
> 
> 时间：2013-01-18T06:30:44.187
> 
> 标签：java, spring, jakarta-ee, spring-mvc, obfuscation

我们有一个使用 Java/Java EE/Spring 批处理构建的应用程序（比如核心应用程序）。这个应用程序包含所有的业务逻辑，并被打包成一个 jar 文件。

现在，我们有了另一个使用 Spring MVC 构建的 Web 应用程序 Hibernate。这个 Web 应用程序为用户提供了一个 UI 来配置我们的核心应用程序。此 Web 应用程序使用核心应用程序的 jar 通过引用配置来执行业务任务。现在，我们希望将这些应用程序作为产品分发给各个公司。但众所周知，jars/wars 是可以反编译的。

因此，我们可以做些什么来保存我们的 IP？

目前我们正在尝试 DashO（来自 Preempitve 的 java 混淆器）。即使经过混淆处理，也可以使用反编译器读取代码。尽管代码阅读起来要复杂得多，但可以阅读业务逻辑。

保护我们的 IP 的最佳做法是什么？使我们的应用程序更安全的各种方法是什么？

**编辑**：请注意，我们必须向我们的客户分发 WAR，这是令人担忧的主要原因。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-18T07:09:55.197

您是要保护您的服务器端逻辑，还是客户端逻辑，或两者兼而有之？

如果是第一个，那么您已经完成了，因为您无法反编译您无权访问的文件。

如果是第二个，那你就很不走运了。将敏感逻辑从客户端转移到服务器，使客户端成为传递用户输入并在漂亮的 UI 中格式化服务器输出的中间人。这样一来，您就不会在乎是否有人看到您无聊的 Web 服务客户端。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-18T20:06:06.277

隐蔽不是安全性。正如我的安全伙伴所说，它是“通过默默无闻的安全”。

我的简短回答是，您应该从一开始就考虑安全性来设计您的应用程序。长答案是您需要保护您的通信。例如，您可能需要某种唯一的公钥/私钥才能访问您的 Web 服务，并使您的所有 Web 服务 HTTPS，这样黑客就无法轻易窥探您的数据包并挑选出协议。我们可以称它为“许可证密钥”。但是，正如每个对安全性有所了解的人都会告诉你的那样，实际上没有任何完全专业的方法，只有那些让它变得更难的方法。

我有一个曾经编写 Java Applet 游戏的朋友遇到了这个问题。当他隐藏他的代码，认为这样可以阻止黑客发送虚假分数时，他发现他们刚刚开始反编译代码并直接调用 JAR。最终，他重写了他的整个分数跟踪系统，使其更加“智能”，这样它就知道你不能一次获得 10000000 分。取而代之的是，客户端必须定期发送分数更新，并且服务器已经内置规则来防止分数增长过快。

无论如何，这就是我的 0.02 美元价值。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-18T08:42:00.680

您可以从网络上下载应用程序的部分内容吗？所以战争开始了，从你的服务器下载更多的模块，然后使用它们。此外，将确保下载模块不会存储在磁盘上的任何地方。

或者，如果你构建一个 API，并将重要的 IP 移入 API 会怎么样？

或者如何将部分代码移动到本机代码中？

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-18T07:04:19.723

以下是一些可以保护您的代码的方法。

1.  复杂混淆器的使用通过这个：

[复杂的混淆器工具][1]

有类似的工具可以做的不仅仅是 java 代码修改。

1.  使用 SSL 保护您的网络。使整个网络路径加密。

2.  使用证书管理可增强安全性并防止未经授权的用户非法访问您的源代码。

如果您对上述内容有任何澄清，请告诉我。

谢谢。

# java - 无法下载tomcat maven插件？

> ID：14393570
> 
> 赞同：2
> 
> 时间：2013-01-18T06:30:55.007
> 
> 标签：java, jakarta-ee, tomcat, maven-2

我想使用 maven 将 web-app 部署到 tomcat。但是我遇到了无法下载 tomcat maven 插件的错误。

我的 pom.xml 的一部分

```
 <build>
    <finalName>cdmi-server</finalName>
    <plugins>

      <plugin>
        <groupId>org.codehaus.mojo</groupId>
        <artifactId>tomcat-maven-plugin</artifactId>
        <!--<artifactId>maven-compiler-plugin</artifactId>-->
        <version>2.0.2</version>
        <configuration>
          <source>1.6</source>
          <target>1.6</target>
          <url>http://127.0.0.1:8080/manager</url>
          <server>TomcatServer</server>
          <path>/cdmi-server</path>
        </configuration>
      </plugin>
    </plugins>
  </build>
...
  <pluginRepositories>
    <pluginRepository>
      <id>maven2-repository.dev.java.net</id>
      <name>Java.net Repository for Maven</name>
      <url>http://download.java.net/maven/2/</url>
      <layout>default</layout>
    </pluginRepository>
    <pluginRepository>
      <id>maven-repository.dev.java.net</id>
      <name>Java.net Maven 1 Repository (legacy)</name>
      <url>http://download.java.net/maven/1</url>
      <layout>legacy</layout>
    </pluginRepository>
  </pluginRepositories>

  <repositories>
    <repository>
      <id>m1.dev.java.net</id>
      <url>http://download.java.net/maven/1</url>
      <layout>legacy</layout>
    </repository>
    <repository>
      <id>m2.dev.java.net</id>
      <url>http://download.java.net/maven/2</url>
      <layout>default</layout>
    </repository>
  </repositories> 
```

tomcat-users.xml：

```
<role rolename="manager"/>
<role rolename="admin"/>
<user username="admin" password="password" roles="admin,manager"/> 
```

设置.xml（行家）：

```
<servers>
    <server>
      <id>TomcatServer</id>
      <username>admin</username>
      <password>password</password>
    </server>
</servers> 
```

我得到的错误，当我运行 mvn:install 时，

```
Project ID: org.codehaus.mojo:tomcat-maven-plugin
Reason: POM 'org.codehaus.mojo:tomcat-maven-plugin' not found in repository: Unable to download the artifact from any repository

  org.codehaus.mojo:tomcat-maven-plugin:pom:2.0.2

from the specified remote repositories:
  m2.dev.java.net (http://download.java.net/maven/2),
  central (http://repo1.maven.org/maven2),
  maven2-repository.dev.java.net (http://download.java.net/maven/2/),
  maven-repository.dev.java.net (http://download.java.net/maven/1),
  m1.dev.java.net (http://download.java.net/maven/1)

 for project org.codehaus.mojo:tomcat-maven-plugin 
```

如何解决错误？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-18T06:35:41.340

根据官方页面，您需要更改您的插件声明：

> 从 2.0-beta-1 版本开始，tomcat mojos 已重命名为 tomcat6 和 tomcat7，具有相同的目标。
> 
> 你必须配置你的 pom 来使用这个新的 groupId：

```
<pluginManagement>
  <plugins>
    <plugin>
      <groupId>org.apache.tomcat.maven</groupId>
      <artifactId>tomcat6-maven-plugin</artifactId>
      <version>2.0</version>
    </plugin>
    <plugin>
      <groupId>org.apache.tomcat.maven</groupId>
      <artifactId>tomcat7-maven-plugin</artifactId>
      <version>2.0</version>
    </plugin>
  </plugins>
</pluginManagement> 
```

[资源](http://tomcat.apache.org/maven-plugin-2.0/)

codehaus 版本[停止于 v1.1](http://mvnrepository.com/artifact/org.codehaus.mojo/tomcat-maven-plugin)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-01-18T06:40:35.917

一般建议

访问 maven 中央存储库[http://search.maven.org/](http://search.maven.org/)

并搜索您需要的 Class/Jar 并获取最新/正确的工件 ID、组 ID 等

下载正确版本的 JAR 文件

# python - 为什么 gevent spawn 没有像我想象的那样工作？

> ID：14393572
> 
> 赞同：3
> 
> 时间：2013-01-18T06:31:07.743
> 
> 标签：python, gevent

当我 telnet 进入服务器并输入一些内容时，我希望输出打印“生成后”然后打印“睡眠后”，但它会反过来。为什么会这样？我将如何解决它来做到这一点？

```
import sys, signal
from gevent.server import StreamServer
from gevent.pool import Pool
from gevent import monkey
import gevent

def signal_handler(signal, frame): sys.exit(0)

class SocketPool(object):

    def __init__(self): self.pool = Pool(1000)

    def listen(self, socket):
        while True:
            line = socket.recv(1024)
            if not line:
                socket.close()
                break
            gevent.spawn(self.wait).join()
            print 'after spawn'

    def add_handler(self, socket, address):
        if self.pool.full(): raise Exception("At maximum pool size")
        else: self.pool.spawn(self.listen, socket)

    def wait(self):
        gevent.sleep(7)
        print 'after sleep'

    def shutdown(self): self.pool.kill()

signal.signal(signal.SIGINT, signal_handler)
monkey.patch_all()
sockPool = SocketPool()
server = StreamServer(('127.0.0.1', 5000), sockPool.add_handler)
server.serve_forever() 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-18T07:31:02.557

`join`生成 greenlet 后删除呼叫。和`join`你一起等到这个greenlet完成。

# java - 是否可以在 Java 中显式返回 401 Unauthorized 响应代码

> ID：14393574
> 
> 赞同：11
> 
> 时间：2013-01-18T06:31:27.693
> 
> 标签：java, web-services, soap, authorization

我正在开发网络服务。我想向`401: Unauthorized`用户返回无效凭据的响应。

如何手动返回此响应代码？

* * *

## 回答 #1

> 赞同：20
> 
> 时间：2014-02-03T22:33:27.590

对于 401 之类的错误状态代码，请使用更具体的[sendError()](http://docs.oracle.com/javaee/6/api/javax/servlet/http/HttpServletResponse.html#sendError%28int,%20java.lang.String%29)：

```
httpResponse.sendError(HttpServletResponse.SC_UNAUTHORIZED, "your message goes here"); 
```

这会处理所有事情，它设置状态代码并写入响应。

* * *

## 回答 #2

> 赞同：15
> 
> 时间：2013-01-18T06:46:38.353

假设您使用的是 servlet，您可以使用以下`setStatus`方法将 http 状态设置为 401：

`httpResponse.setStatus(HttpServletResponse.SC_UNAUTHORIZED);`

[HttpServlet响应信息](http://docs.oracle.com/javaee/1.4/api/javax/servlet/http/HttpServletResponse.html)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2019-05-06T16:23:11.760

我从[Austin](https://stackoverflow.com/questions/14393574/is-it-possible-in-java-to-return-the-401-unauthorized-response-code-explicitly#14393756)和[Bodgan](https://stackoverflow.com/questions/14393574/is-it-possible-in-java-to-return-the-401-unauthorized-response-code-explicitly#21539244)的答案中学到了以下内容，这可能会为其他寻找此答案的人节省一些时间。

对我来说，正确的答案是[Bodgand 的](https://stackoverflow.com/questions/14393574/is-it-possible-in-java-to-return-the-401-unauthorized-response-code-explicitly#21539244)：

```
httpResponse.sendError(HttpServletResponse.SC_UNAUTHORIZED, "your message goes here"); 
```

原因是使用该`sendError`方法抛出的响应被`web.xml`过滤器捕获

因此，如果您在`web.xml`过滤器中指定了这个：

```
<error-page>
    <error-code>401</error-code>
    <location>/errors/401.jsp</location>
</error-page> 
```

`sendError`当您使用该方法时，您只会看到该错误页面。

# c# - 从数据库 #2 中检索数据

> ID：14393577
> 
> 赞同：0
> 
> 时间：2013-01-18T06:31:57.213
> 
> 标签：c#, dataset, sql-server-ce, dataadapter

我有以下命令在我的表中插入（姓名，家庭，地址）值（ID，姓名，家庭，地址）我正在使用数据集和数据适配器

```
 stdDataSetTableAdapters.studentTableAdapter da = new stdDataSetTableAdapters.studentTableAdapter();
 da.InsertCard("Albert", "Alexis","No4.London"); 
```

它起作用了，它在我的数据库中添加了新的数据行：但是插入后出现了一个问题，我想显示类似的内容：ID（主键）和一条消息。

```
Display(ID +"Record Successfully Added ") 
```

如何在我的显示中填充添加记录的 ID？

PS：我正在使用 Sql Ce 和查询我正在使用适配器生成它们并调用它们

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-18T07:01:20.853

请尝试以下查询，它可能对您有所帮助，

```
SELECT Top1 Emp_id FROM jobs Employee Emp_id = @@IDENTITY; 

SELECT Max Emp_id FROM jobs Employee Emp_id = @@IDENTITY; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-18T06:38:11.200

看看这个例子

```
INSERT INTO Employee (EmpName,Emp_level,Emp_Sal) VALUES ('Chris', 25B, 54000);

SELECT Emp_id FROM jobs Employee Emp_id = @@IDENTITY; 
```

有关更多信息，请参阅此[身份（SQL 权威）](http://blog.sqlauthority.com/2007/03/25/sql-server-identity-vs-scope_identity-vs-ident_current-retrieve-last-inserted-identity-of-record/)

和这个[身份（MSDN））](http://msdn.microsoft.com/en-us/library/ms187342.aspx)

作为 Identity 的替代解决方案，可以使用 MAX() 以及简单的语法，例如 `SELECT MAX(Emp_id) FROM Employee ;` Hope this Helps

# c++ - unique_ptr 的奇怪用法

> ID：14393582
> 
> 赞同：0
> 
> 时间：2013-01-18T06:32:13.703
> 
> 标签：c++, c++11, unique-ptr, return-by-reference

我看到一些代码`unique_ptr`以一些奇怪的方式使用，我不确定它是否合法，尽管它似乎在 g++ 上编译得很好`-std=c++0x`

```
#include <memory>
#include <boost/unordered_map.hpp>

typedef std::unique_ptr< std::string > str_ptr_t;

typedef boost::unordered_map< int , str_ptr_t > map_t;

str_ptr_t& get_ptr_value(map_t& map, int key)
{
   return map[key];
};

int main()
{
  map_t map;
  str_ptr_t& ref_to_value_of_0 = get_ptr_value(map, 0);
  map[0] = std::move(ref_to_value_of_0);
}; 
```

简单解释一下，映射值类型是`unique_ptr< std::string >`. 我初始化了对 key = 0 的值的引用。然后我继续将该引用的内容移动到相同的实例值，所以基本上 unique_ptr 被移动到自身上。这似乎是为了避免创建指向对象的许多实例，如果一个已经存在，它会尝试重用现有的条目实例，然后再次添加它。实际上，赋值隐藏在`store`接口内，引用是从`get`接口返回的，但整体顺序可以总结在我上面显示的代码中

除了有点奇怪之外，这是有效的用法`unique_ptr`吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-18T06:39:42.017

移动分配是根据重置和释放定义的，因此它本质上是这样做的：

```
ref_to_value_of_0.reset(ref_to_value_of_0.release()) 
```

如果你弄清楚这是如何评估的，你会发现它是一个安全的“无操作”。它释放拥有的指针，释放空值，然后将其指针设置回原始值。

我真的不明白你为什么要这样做。

# android - 如何在扩展 CCLayer 的类中使用 getAssets

> ID：14393584
> 
> 赞同：3
> 
> 时间：2013-01-18T06:32:20.663
> 
> 标签：android, cocos2d-android, cclayer

我有一个扩展类`CCLayer`。我必须从资产文件夹中获取一个文本文件。但我不能`getAssets()`在这堂课中使用。我如何`getAssets()`在扩展的类中使用`CCLayer`？？？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-28T09:27:31.273

终于得到答案了...

```
Context context = CCDirector.sharedDirector().getActivity().getApplicationContext();
InputStream is = context.getAssets().open("abc.txt"); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-18T06:53:06.627

在类中创建方法时，请使用：

```
private void abc (Context context){
    context.getAssets();
} 
```

当您调用此方法时，您必须将上下文放入方法中：

```
yourclass.abc(getBaseContext()); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-18T08:55:19.937

您必须将上下文传递给类才能使用它。如果它是您的自定义类，请将其传递给构造函数，然后保留并使用它。

# vb.net - 使用vb.net删除访问mdb文件

> ID：14393585
> 
> 赞同：1
> 
> 时间：2013-01-18T06:32:26.317
> 
> 标签：vb.net

我有一个使用 oledb 连接 mdb 文件的单个用户程序，在它连接之前，我需要检查 mdb 是否存在。如果存在，删除并创建。如果不存在，只需创建。但是当我检查mdb存在并想删除时，ldb文件被锁定，我想问我可以强制解锁ldb并删除mdb文件吗？？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-18T06:51:37.550

如果您使用的是 OleDb，则*必须*关闭或处置所有使用过`OleDbConnection`的`OleDbCommand`对象。¹否则，mdb 文件仍处于“使用中”且无法删除。

一种简单的方法是将所有此类对象包装在`Using`块中。

例如，而不是

```
Dim cn As New OleDbConnection(...)
Dim cmd As New OleDbCommand(...)
cmd.ExecuteNonQuery()
cn.Close() 
```

你会写：

```
Using cn As New OleDbConnection(...)
    Using cmd As New OleDbCommand(...)
        cmd.ExecuteNonQuery()
    End Using
End Using 
```

（请注意，您不再需要显式`Close`连接，这是在块的末尾自动完成的`Using`。）

* * *

¹这与例如`SqlCommand`s 不同，后者对不被处置的反应更优雅。但是，作为一般规则：如果它实现了`IDisposable`，则将其丢弃。

# android - ProgressDialog Android上的错误

> ID：14393586
> 
> 赞同：0
> 
> 时间：2013-01-18T06:32:33.327
> 
> 标签：android, android-progressbar

我在我的应用程序中使用 ProgressDialog，但在运行应用程序时发生错误。

**这是代码**

```
 public class MainActivity extends Activity{

    public void onCreate(Bundle savedInstanceState) {

        super.onCreate(savedInstanceState);
        requestWindowFeature(Window.FEATURE_INDETERMINATE_PROGRESS);

        ProgressDialog mDialog = new ProgressDialog(getApplicationContext());
        mDialog.setMessage("Loading...");
        mDialog.setCancelable(false);
        mDialog.show();

    }
} 
```

**更新代码：**

公共类 MainActivity 扩展 Activity{

```
public static ProgressDialog dialog;

public void onCreate(Bundle savedInstanceState) {

    super.onCreate(savedInstanceState);

}

 private static abstract class DictionaryOpenHelper extends SQLiteOpenHelper {

     public DictionaryOpenHelper() {
        super(null, null, null, 0);
        // TODO Auto-generated constructor stub
    }

    public void onCreate() {
        // TODO Auto-generated method stub

        ProgressDialog dialog = ProgressDialog.show(DictionaryOpenHelper.this, "", 
                "Loading. Please wait...", true);  

    }

    @Override
    public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {
        // TODO Auto-generated method stub

    }

 } 
```

}

> 并在 ProgressDialog 对话框上给出错误 = ProgressDialog.show(DictionaryOpenHelper.this, "", "Loading. Please wait...", true); ：
> 
> ProgressDialog 类型中的方法 show(Context, CharSequence, CharSequence, boolean) 不适用于参数 (MainActivity.DictionaryOpenHelper, String, String, boolean)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-18T06:36:17.813

尝试

```
ProgressDialog dialog = ProgressDialog.show(yourActivity.this, "", 
                        "Loading. Please wait...", true); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-18T06:40:45.017

```
 Caused by: android.view.WindowManager$BadTokenException: Unable to add window -- token null is not for an application
01-18 06:26:07.273: E/AndroidRuntime(3853):     at android.view.ViewRootImpl.setView(ViewRootImpl.java:524) 
```

可以使用以下代码段尝试加载和卸载进度对话框，使其成为 UIThread ///load 的一部分

```
 private ProgressDialog pDialogTh = null;
      private void showLoading() {
        runOnUiThread(new Runnable() {
            public void run() {
                // if(pDialog==null)
                pDialogTh = ProgressDialog.show(YourActivity.this, "", "Loading...",
                        true, true);
                pDialogTh.setCancelable(false);
                if (!pDialogTh.isShowing()) {
                    pDialogTh.show();
                }
            }
        });
    } 
```

///////卸下

```
private void hideLoading() {
    runOnUiThread(new Runnable() {
        public void run() {
            if (pDialogTh.isShowing()) {
                pDialogTh.cancel();
            }
        }
    });
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-18T06:52:22.663

如果您正在使用选项卡并且想要进度对话框，那么...

```
public class MainActivity extends Activity{

public void onCreate(Bundle savedInstanceState) {

    super.onCreate(savedInstanceState);
    requestWindowFeature(Window.FEATURE_INDETERMINATE_PROGRESS);

    ProgressDialog mDialog = new ProgressDialog(getParent());
    mDialog.setMessage("Loading...");
    mDialog.setCancelable(false);
    mDialog.show();

}
} 
```

否则就写这个...

```
public class MainActivity extends Activity{

public void onCreate(Bundle savedInstanceState) {

    super.onCreate(savedInstanceState);
    requestWindowFeature(Window.FEATURE_INDETERMINATE_PROGRESS);

    ProgressDialog mDialog = new ProgressDialog(MainActivity,this);
    mDialog.setMessage("Loading...");
    mDialog.setCancelable(false);
    mDialog.show();

}
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2014-04-15T06:32:02.027

我在我的异步任务上使用它。这就像魅力一样。

```
 @Override
        protected void onPreExecute() {
            super.onPreExecute();

            dialog = new ProgressDialog(ActivityAddTicket.this);
            dialog.setTitle(R.string.processing);
            dialog.setMessage(getResources().getString(R.string.loading));
            dialog.show();
        }; 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-01-18T06:41:22.483

尝试 ：

```
public class MainActivity extends Activity{

public void onCreate(Bundle savedInstanceState) {

    super.onCreate(savedInstanceState);
    requestWindowFeature(Window.FEATURE_INDETERMINATE_PROGRESS);

    ProgressDialog mDialog = new ProgressDialog(MainActivity.this);
    mDialog.setMessage("Loading...");
    mDialog.setCancelable(false);
    mDialog.show();

} 
```

}

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-01-18T06:42:22.467

嗨，将 getApplicationContext() 更改为您的活动名称

```
 ProgressDialog mDialog = new ProgressDialog(MainActivity.this); 
```

# android - 双方从 sqlite 同步数据库到网站

> ID：14393587
> 
> 赞同：1
> 
> 时间：2013-01-18T06:32:36.713
> 
> 标签：android, asp.net

我有将数据库从 sqlite 同步到网站中的 sqlserver 的应用程序。问题是我需要同步双方（服务器端和电话端）。这意味着当用户从网络插入/更新/删除任何数据时，它应该反映在手机中，并且当手机的数据库中进行任何更改时，它应该反映在网站上。

目前我正在使用简单的方法。哪些主表由网站和事务控制在 Android 手机中。所以当同步过程完成时。它从 Android db 中删除所有主数据并重新创建所有内容。所以需要一个过程。我只需要在网站上的主表上进行更改，并且更改会反映在手机上，这就是我正在寻找的方法。与Android手机同步时有交易记录的方式相同，它会删除所有数据形式的网站并重新创建。

那么，我怎样才能只获取那些从 Android 手机以及网站中新插入、更新或删除的记录......请帮帮我......

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-18T06:49:40.897

我可以给你一个粗略的想法。

为此使用网络服务。

1）在服务器端保存已修改（保存/删除/更新）的每条记录的时间戳。2）创建一个表，其中包含表名和时间戳以及修改的记录。3）您的服务器应在通过带有时间戳的电话 ping 时生成所有数据（执行的操作）。（对记录使用标志（删除、更新、插入）。

在电话端

1）检查标志并相应地执行数据库操作。

以上是其中的一部分。

现在用于将数据从手机同步到服务器

1）创建一个datapost方法（最好使用json和webservie的post方法），使用与上述方法类似的适当标志对数据进行操作。2）从手机获取数据后处理服务器数据。

但是您的设计还应考虑何时可以由多个用户修改服务器上的单个记录。如果这是要求，那么最好直接从 webapp 执行，在客户端使用 webview。

# pthreads - 为什么在使用 gcc 编译器进行多线程编程时应该打开“-pthread”标志

> ID：14393588
> 
> 赞同：1
> 
> 时间：2013-01-18T06:33:06.890
> 
> 标签：pthreads

我刚从 Windows 转到 Linux 世界。一切对我来说都是新的，因为环境是如此不同。

无论如何，我正在学习 APUE 书籍并尝试使用 gcc 编译多线程代码。

代码使用`pthread_create`函数并包含`pthread.h`

我收到错误消息，`pthread_create`虽然我包含了函数但没有声明`<pthread.h>`

`-pthread`我用谷歌搜索它并得到了编译时选择选项的答案。喜欢`gcc -pthread blah.c`

然后它编译并正常工作。

但我想知道`-pthread`实际上是做什么的。以及为什么我必须这样做，尽管我包含“pthread 头文件”

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-11-28T15:53:29.350

在代码中包含一些文件效率不高，您可能需要链接一些准备好的库，这些库是二进制实现的代码（类似于 Windows 中的 DLL）。因此，您面临此错误。当您为 gcc 使用 -pthread 标志时，它会自动将您的对象与 lpthread 库链接并执行一些预处理器任务。我建议您查看下面的链接，我发现它很有用。

[gcc - 编译时 -pthread 标志的意义](https://stackoverflow.com/questions/2127797/gcc-significance-of-pthread-flag-when-compiling)

# ios - 尝试在 iOS 上使用 admob 时出错

> ID：14393589
> 
> 赞同：0
> 
> 时间：2013-01-18T06:33:10.587
> 
> 标签：ios, xcode

我是一个初学者，让我先说一下。我刚刚下载`admob's SDK`并收到此错误：

```
duplicate symbol _main in:
    /Users/xcodeclub/Library/Developer/Xcode/DerivedData/Cuarto_Rey_Gratis-crbrvlfyuitkjkdlkfzjeumldcau/Build/Intermediates/Cuarto Rey Gratis.build/Debug-iphonesimulator/Cuarto Rey Gratis.build/Objects-normal/i386/main-B9843B6026D6EFA4.o
    /Users/xcodeclub/Library/Developer/Xcode/DerivedData/Cuarto_Rey_Gratis-crbrvlfyuitkjkdlkfzjeumldcau/Build/Intermediates/Cuarto Rey Gratis.build/Debug-iphonesimulator/Cuarto Rey Gratis.build/Objects-normal/i386/main-A2D5DEFEFE933899.o
ld: 1 duplicate symbol for architecture i386
clang: error: linker command failed with exit code 1 (use -v to see invocation) 
```

我应该怎么办？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-18T09:52:12.527

几天前我遇到了这个问题。问题是，在将第 3 方文件添加到我的项目（不是 admob）后，我有 4 种方法称为“main”。我刚刚评论了其中的 3 个并且只保留了那些，我在文件“main.m”中。这解决了我的问题。

# php - 如何使用 PHP 和 MySQL 创建编辑表单以更新 HTML 表单中的记录

> ID：14393592
> 
> 赞同：2
> 
> 时间：2013-01-18T06:33:33.803
> 
> 标签：php, html, mysql, css

我有一个脚本，它使用 HTML 中的值更新 MySQL 表并由 PHP 处理。当我单击表格上的编辑链接时，它会将我重定向到编辑页面，其中显示从 MySQL 数据库获取的记录 - 但它不会更新记录。

这是我的链接代码：

```
echo "<td><a href=\"cityproc.php?accode=$row[accode]\"><img src='images/edit.png'></a></td>"; 
```

这是我的编辑页面代码：

```
<?php
session_start();
if (!isset($_SESSION["username"])) {
    header("Location: unauthorize_access.php");
}
mysql_connect("localhost", "root", '')or die(mysql_error());
mysql_select_db("webapp") or die(mysql_error());

$accode = mysql_real_escape_string($_REQUEST['accode']); // is used for both $_GET/$_POST variables

if(isset($_POST['submit']))
{

          $city = mysql_real_escape_string($_POST['city']);
          $result = mysql_query("UPDATE `city` SET `name`='$city' WHERE accode='$accode'") or die(mysql_error());

          echo "<b>Thank you! Record UPDATED Successfully!<br>You'll be redirected to Home Page after (1) Seconds";
          echo "<meta http-equiv=Refresh content=1;url=table.php>";
}
elseif($accode)
{

        $result = mysql_query("SELECT * FROM city WHERE accode='$accode' ");
        $myrow = mysql_fetch_assoc($result);

                $code = $myrow["code"];
                $city = $myrow["name"];
?>

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

<link rel="stylesheet" type="text/css" href="form2/view.css" media="all">
<script type="text/javascript" src="form2/view.js"></script>
<script type="text/javascript" src="form2/calendar.js"></script>
</head>
<body id="main_body" >

    <img id="top" src="form2/top.png" alt="" />
    <div id="form_container">

        <h1><a>City</a></h1>
        <form id="city" class="appnitro" enctype="multipart/form-data" method="post" action="cityproc.php">
                    <div class="form_description">
        <h2>City</h2>
                <table border="0" width="100%">
                    <tr>
                        <td><?php echo $accode; ?></td>
                    </tr>
            </table>

        </div>
                    <table border ="0px" width="100%">
                        <input type="hidden" value="<? echo $myrow['accode']?>" name="accode"></input> 
                        <tr>
                            <td><label class="description" for="element_1">Code</label></td><td><input  name="code"  type="text" maxlength="6"  Placeholder="Please enter a code" value="<?php echo $code; ?>" disabled="disabled" /></td>
                        </tr>
                        <tr>
                            <td><label class="description" for="element_1">Name</label></td><td><input  name="city" size="40" type="text" maxlength="40" Placeholder="Please enter a name" value="<?php echo $city; ?>"/></td>

                        </tr>
                        <tr>
                            <td></td><td colspan="2" align="center"><input type="submit" name="submit" value="Save" /></td>
                        </tr>
                    </table>
                </form>
                </body>
    </html>
<?php
}
?> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-18T06:59:33.843

由于您已在同一页面中编写了所有代码，因此无需在此处编写表单操作。提交时，您的页面将自动刷新。尝试这样做一次，并尝试通过打印来调试代码`print_r($_POST)`，看看您是否获得了数据。

此外，您编写的查询也不正确。你必须把它写成：

```
$result = mysql_query("UPDATE `city` SET `name`='" . $city . "' WHERE accode='" . $accode . "') or die(mysql_error()); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-18T08:00:12.770

```
 $city = mysql_real_escape_string($_POST['city']);
        if(!empty($city)) {
            try {
                $result = mysql_query("UPDATE `city` SET `name`= '$city' WHERE accode='$accode'");
            } catch (Exception $e) {
                var_dump($e->getMessage()); // see what's the error.
            }

            if ($result) {
                echo $result;
            } else {
                echo $result;
            }
        } 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-18T06:43:07.243

试试这个.... $link = mysql_connect("localhost", "root", '')or die(mysql_error()); mysql_select_db("webapp",$link) 或 die(mysql_error());

或者

mysql_query("UPDATE `city`SET `name`='$city' WHERE accode='$accode'", $link)

回显更新查询并在 phpmyadmin 中手动运行它。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-18T07:04:41.193

在 cityproc.php 中编写您的 PHP 代码

和另一个文件中的 html 代码说 cityproc.html

然后检查并告诉错误是什么

# ruby-on-rails - 如何访问链接的“href”参数？

> ID：14393600
> 
> 赞同：0
> 
> 时间：2013-01-18T06:33:56.890
> 
> 标签：ruby-on-rails, ruby, nokogiri

> **可能重复：**
> [使用 Nokogiri 和 Ruby 从 html doc 获取链接和 href 文本？](https://stackoverflow.com/questions/9336039/get-link-and-href-text-from-html-doc-with-nokogiri-ruby)

我得到以下 Nokogiri 输出：

```
obj =  [#<Nokogiri::XML::Element:0x19b1418 name="a" attributes=[#<Nokogiri::XML::Attr:0x123dd44 name="href" value="http://sample.com">] children=[#<Nokogiri::XML::Element:0x123c408 name="span" attributes=[#<Nokogiri::XML::Attr:0x1201f24 name="class" value="highlight">] children=[#<Nokogiri::XML::Text:0x1143b64 "Web">]>, #<Nokogiri::XML::Text:0x113a9c4 "Sample Text">]>] 
```

我怎样才能获得价值`"http://sample.com"`？我试过`obj.attributes("value")`但没有运气。

我很感激任何帮助。

我在用着：

*   导轨 3.2.x
*   小切

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-18T09:06:38.060

你几乎已经完成：

```
require 'nokogiri'

doc = Nokogiri::HTML(<<EOT)
<a href="http://sample.com">
<span class="highlight">Web</span>
</a>
Sample text
EOT
obj = doc.search('a')

obj.first['href']
=> "http://sample.com" 
```

如果文档中只有一个`<a>`标签，您可以使用以下代码简化代码`at`：

```
obj = doc.at('a')['href'] 
```

将返回相同的值。

# ruby-on-rails - 带有 `if` 语句的`||` (`or`) 子句

> ID：14393604
> 
> 赞同：1
> 
> 时间：2013-01-18T06:34:34.187
> 
> 标签：ruby-on-rails, ruby

这不是评估`if`陈述吗？

```
<%= current_user.profile.name || current_user.email if current_user.profile.name.blank? %> 
```

调试`current_user.profile.name`显示它是一个空字符串，但它没有打印`email`。像这样更改为三元运算符：

```
<%= current_user.profile.name.blank? ? current_user.email : current_user.profile.name %> 
```

有效，但我想了解为什么第一种方法不起作用。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-18T06:54:33.027

在 Ruby 中，只有`nil`和`false`算作假。空字符串不是假的，因此它满足条件，并且`||`不评估 and after。

另一方面，`blank?`返回`true`一个空字符串。这就是两个例子之间的区别。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-18T09:03:30.050

正如其他人已经指出的那样，空字符串在 Ruby 中是真实的，这解释了为什么需要额外的`blank?`. 也就是说，请注意 active_support 渴望减轻痛苦，[`Object#presence`](http://apidock.com/rails/Object/presence)：

```
<%= current_user.profile.name.presence || current_user.email %> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-18T06:38:51.127

debug on`current_user.profile.name`是一个空字符串意味着**以下条件**

`if current_user.profile.name.blank?`==**假**

这意味着

代码

`current_user.profile.name || current_user.email`

不会被执行，因此结果

* * *

## 回答 #4

> 赞同：-2
> 
> 时间：2013-01-18T06:58:45.980

下面的行：

```
<%= current_user.profile.name || current_user.email if current_user.profile.name.blank? %> 
```

口译员检查第 1 部分：

```
<%=  current_user.profile.name || 
```

第2部分：

```
current_user.email if current_user.profile.name.blank? %> 
```

然后 OR 语句陷入困境，并给出错误。第二个参数（current_user.email if current_user.profile.name.blank?）是否可用...

根据我的理解......希望你明白。

# android - 在 Box2D 中检测碰撞，而不是接触

> ID：14393607
> 
> 赞同：0
> 
> 时间：2013-01-18T06:34:51.377
> 
> 标签：android, box2d, collision-detection, andengine, physics

首先，让我定义一下我对这两个概念的理解：

**当*对象 A* **碰撞****/碰撞/撞到** *对象 B*时，就会发生碰撞。就像它们彼此接触一样，但速度很高。**

 ****接触**发生在*物体 A* **接触** *物体 B*时。因为他们接触到[非常]低速。就像他们只是触摸一样。

在**Box2D**中，我们将`ContactListener`s分配给`PhysicsSystem`以检测联系人。我的问题是，**我们如何检测碰撞**？

我在我的项目中使用*AndEngine*。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-18T21:08:19.060

您可以在接触侦听器的 BeginContact 函数中检查两个物体的相对速度。**

# javascript - .all 功能在 Mozilla 中不起作用

> ID：14393610
> 
> 赞同：-1
> 
> 时间：2013-01-18T06:35:02.633
> 
> 标签：javascript, mozilla

```
function expand(entity) {
            alert("expand");
        var oImage;
        var children;
        if (entity.hasChildNodes())
 {
    children= entity.childNodes;
   for (var i = 0; i < children.length; i++)
   {
   };
 };

oImage = children.all["image"];
        oImage.src = entity.imageOpen;

        if (typeof(entity.imageOpen) == "undefined")
            oImage.src = "<%=request.getContextPath()%>/images/MinusSignBlackSilver.gif";

        for(i=0; i < entity.childNodes.length; i++) {
            if(entity.childNodes(i).tagName == "DIV") {
                entity.childNodes(i).style.display = "block"
            }
        }
        entity.open = "true"
    } 
```

`.all`在 Mozilla 中没有醒来。我用什么功能代替`.all`它可以在 IE 和 Mozilla 中工作？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-18T06:45:35.080

如果元素具有 id `image`，则可以使用以下`getElementById`方法：

```
oImage = document.getElementById("image"); 
```

# google-app-engine - GAE - 如何自定义 AppEngine 日志记录

> ID：14393611
> 
> 赞同：2
> 
> 时间：2013-01-18T06:35:06.093
> 
> 标签：google-app-engine, logging, log4j

我以前试过看这个，但我找不到。所以我建议在这里问。

我的目标是定制像 log4j 这样的日志记录到它的 log4j.properties

我在 GAE 上的 logging.properties 上有条目。

```
.level = ALL

log4j.logger.com.winzter.ams.utils=INFO 
```

因为，我的根日志记录设置为 ALL，**com.winzter.ams.utils**设置为 INFO，我希望在我的 utils 包和类中只记录 INFO，但事实并非如此。GAE 仍然记录所有内容，包括调试/罚款。

# c++ - 输入对象没有 const 的 C++ 重载 << 会产生错误，而 const 对象会消失

> ID：14393614
> 
> 赞同：3
> 
> 时间：2013-01-18T06:35:22.973
> 
> 标签：c++, compiler-errors, operator-overloading, constants

我有以下运算符重载原型：

```
 ostream& operator<<(ostream & outputstream, my_arr& arr)

 my_arr operator+(const my_arr& left, const my_arr& right) 
```

我打电话：

```
 cout << (arr1 + arr2); 
```

这给了我以下编译器错误：

```
error: no match for ‘operator<<’ in ‘std::cout << operator+(const my_array&, const my_array&)((*(const my_array*)(& y)))’ 
```

如果我将 << 的签名更改为以下内容，这就会消失：

```
 ostream& operator<<(ostream & outputstream, const my_arr& arr) 
```

我可能在这里遗漏了一些基本的东西，但为什么会发生这种情况？谢谢你的帮助。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-18T06:42:14.633

问题是，当作为引用传递时，您不能传递“临时”（右值）对象，例如加法的结果。当传递一个 const 引用时，C++ 规则允许传递临时变量，因为它保证它们不会被写入。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-18T06:50:11.963

如前所述，其结果是临时的（右值）。您还可以提供具有以下形式的输出操作的重载：

```
ostream& operator<<(ostream& outputstream, my_arr&& arr); 
```

然后`cout << (arr1 + arr2);`将使用。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-18T07:19:51.933

因为您也有错字，所以`operator+`您需要传递`const my_arr`给`operator`

```
my_array operator+(const my_arr& left, const my_arr& right)
^^^^ should be my_arr                   ^^^ need to be const 
```

或者你必须`operator<<`超载`my_array`

```
ostream& operator<<(ostream & outputstream, my_arr& arr) 
```

否则，代码只会编译并运行正常：[示例链接](http://ideone.com/YYvd56)

# google-chrome - 为什么谷歌浏览器将 .jad 文件作为文本文件打开而不是下载？

> ID：14393616
> 
> 赞同：1
> 
> 时间：2013-01-18T06:35:35.100
> 
> 标签：google-chrome, blackberry, jad

我的服务器上有一个链接，可让用户下载我拥有的 .jad 文件。但是当我在谷歌浏览器中打开这个链接时，它会以文本文件的形式打开它，而不是下载 .jad 文件。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-20T21:47:27.060

在 chrome 中下载 jad 文件很不错，但最好还是将 BlackBerry 设备发送到 jad URL，然后将用户带到应用程序安装 UI。要实现这一点，您必须配置几种不同的 mime 类型。[部署 OTA Blackberry App 时](https://stackoverflow.com/questions/2595076/unsupported-media-type-when-deploying-ota-blackberry-app)引用不受支持的媒体类型：

```
cod  application/vnd.rim.cod

jad     text/vnd.sun.j2me.app-descriptor

jar     application/java-archive 
```

我最近安装了一个 BlackBerry 应用程序，其中 jad 文件被视为下载。下载后，我不得不在文件浏览器中手动打开它。这是因为 mime 类型设置不正确，让我执行了比安装应用程序所需的更多步骤。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-18T06:54:16.967

更新服务器的 mime 类型配置并将 *.jad 文件扩展名的 mime 类型设置为“application/x-download”。这应该使浏览器客户端下载文件而不是呈现文件的纯文本。

例如，如果您使用的是 apache http 服务器，您可以通过添加以下行来更新 mime.types 文件

```
application/x-download      jad 
```

# c# - 在 DateTimePicker 上捕获“转到今天”单击事件

> ID：14393623
> 
> 赞同：-1
> 
> 时间：2013-01-18T06:35:48.710
> 
> 标签：c#

当用户单击 DateTimePicker 上的“转到今天”按钮时，如何捕获单击事件？

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-18T06:53:28.903

只需处理[DateTimePicker控件的](http://msdn.microsoft.com/en-us/library/system.windows.forms.datetimepicker.aspx)[ValueChanged](http://msdn.microsoft.com/en-us/library/system.windows.forms.datetimepicker.valuechanged.aspx)事件并检查所选日期是否为今天的日期。像这样 -

```
 // ValueChanged Event
    private void dateTimePicker1_ValueChanged(object sender, EventArgs e)
    {
        if (dateTimePicker1.Value.Date == DateTime.Now.Date)
        {
            MessageBox.Show("Hola !!");
        }
    } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-08T12:11:21.220

我正在使用 win xp 和 .net 3.5。您可以使用鼠标按下事件，如果您单击控件本身和“今天”，它将被触发，但如果您在“今天”以外的任何地方单击下拉日历，则不会触发。为了避免在我单击控件本身时触发事件，我使用了 return 语句。此事件仅在您单击“今天”时设置实际时间。不幸的是，在win8中，mousedown事件没有被触发......

```
 private void dateTimePicker2_MouseDown(object sender, MouseEventArgs e)
    {
        Point pt = dateTimePicker2.Location;
        Point mouse_pt = dateTimePicker2.Parent.PointToClient(Cursor.Position);
        int diff_x = mouse_pt.X - pt.X;
        int diff_y = mouse_pt.Y - pt.Y;
        if (diff_y < dateTimePicker2.Size.Height || diff_x > dateTimePicker2.Size.Width )
            return;
        DateTime tim_cal = dateTimePicker2.Value;
        DateTime now = DateTime.Now;
        TimeSpan ts = new TimeSpan(now.Hour, now.Minute, now.Second);
        tim_cal = tim_cal.Date + ts;
        dateTimePicker2.Value = tim_cal;
    } 
```

# ruby - ruby chef 指令：include_attribute 与 include_attributes

> ID：14393631
> 
> 赞同：3
> 
> 时间：2013-01-18T06:37:00.170
> 
> 标签：ruby, attributes, chef-infra, cookbook

我在厨师属性文件中看到了这段代码。

```
include_recipe "deployment"
include_attribute "postgresql"
include_attribute "redis"
include_attributes "uaa"
include_attributes "service_lifecycle" 
```

有什么不同？include_attribute 与 include_attribute* *S* *

我找不到任何关于 include_attribute* *S* *的文档

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-09-05T20:28:18.777

`include_attribute`属性用于排序收敛时属性文件的加载方式。

如果您需要首先加载特定属性，例如在包装说明书中[，您可以使用它](http://docs.chef.io/attributes.html#attribute-file-ordering)来确保优先级。这只是厨师 11 +。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-01-18T09:19:03.630

AFAIK 没有 include_attributes 这样的东西。它不做任何事情。不幸的是，它不会因某些“错误方法”或“无法解析属性”错误而使厨师运行失败。

# c++ - boost asio 计时器不适用于阻塞读取调用

> ID：14393632
> 
> 赞同：2
> 
> 时间：2013-01-18T06:37:03.793
> 
> 标签：c++, linux, sockets, boost, boost-asio

我有以下服务器代码。它等待客户端连接，一旦客户端连接，它将启动从连接的客户端接收数据的线程，主线程将等待另一个客户端连接。这段代码工作正常。

现在我必须指定服务器将等待一段时间（例如 10 秒）从连接的客户端接收数据。否则，如果在指定时间内没有收到数据，服务器将关闭通信。我已经实现了相同的计时器，但不知何故它不起作用，并且`timer_callback`在时间过去后不会被调用。

```
#include <ctime>
#include <iostream>
#include <string>
#include <boost/asio.hpp>
#include <sys/socket.h>
#include <unistd.h>
#include <string>
#include <boost/bind.hpp>
#include <boost/thread.hpp>
#include <boost/date_time.hpp>

using namespace std;
using boost::asio::ip::tcp;

void run(boost::shared_ptr<tcp::socket> my_socket)
{
    while (1)
    {
        char buf[128];
        boost::system::error_code error;

        size_t len = my_socket->read_some(boost::asio::buffer(buf, 128), error);
        std::cout << "len : " << len << std::endl;

        if (error == boost::asio::error::eof)
        {
            cout << "\t(boost::asio::error::eof)" << endl;
            if (my_socket->is_open())
            {
                boost::system::error_code ec;
                cout << "\tSocket closing" << endl;
                my_socket->shutdown(boost::asio::ip::tcp::socket::shutdown_both, ec);
                cout << "\tShutdown " << ec.message() << endl;
                //cout << "normal close : " << ::close(my_socket->native_handle()) << endl;
                my_socket->close(ec);
                cout << "\tSocket closed" << endl;
            }
            break; // Connection closed cleanly by peer.
        }
        else if (error)
        {
            std::cout << "Exception : " << error.message() << std::endl;
            break;
        }
        else
        {
            for (unsigned int i = 0; i < len; i++)
                printf("%02x ", buf[i] & 0xFF);
            printf("\n");
        }
    }
}

void timer_callback(boost::shared_ptr<tcp::socket> my_socket, const boost::system::error_code& error)
{
    std::cout << "timer expired.... " << std::endl;
    if (error != boost::asio::error::operation_aborted)
    {
        // do something
        std::string str_error = "timer expired  " + error.message();
        my_socket->shutdown(boost::asio::ip::tcp::socket::shutdown_both);
        my_socket->close();
    }
    else
    {
        std::cout << "timer cancelled ..." << error.message() << std::endl;
    }
}

int main()
{
    const int S = 1000;
    vector<boost::shared_ptr<boost::thread> > arr_thr(S);
    boost::asio::io_service io_service;
    boost::asio::deadline_timer timer(io_service);

    try
    {
        for (uint32_t i = 0;; i++)
        {

            tcp::endpoint endpoint(tcp::v6(), 10001);

            boost::shared_ptr<tcp::socket> my_socket(new tcp::socket(io_service));
            tcp::endpoint end_type;

            tcp::acceptor acceptor(io_service, endpoint);

            std::cout << "before accept" << endl;
            acceptor.accept(*my_socket, end_type);

            usleep(10000);

            std::cout << "connected... hdl : " << my_socket->native_handle() << std::endl;

            boost::asio::ip::address addr = end_type.address();
            std::string sClientIp = addr.to_string();

            std::cout << "\tclient IP : " << sClientIp << std::endl;

            timer.expires_from_now(boost::posix_time::seconds(10));
            timer.async_wait(
                    boost::bind(&timer_callback, my_socket, boost::asio::placeholders::error));

            arr_thr[i] = boost::shared_ptr<boost::thread>(new boost::thread(&run, my_socket));
        }
    } catch (std::exception& e)
    {
        std::cerr << e.what() << std::endl;
    }

    return 0;
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-18T08:21:53.283

看起来您想从主线程执行 and 并在单独的线程上执行一些阻塞读取`accept`。`async_wait`

这种方法存在多个问题。首先你`accept`是阻塞的，所以当主线程等待接受时定时器不能运行。也没有调用`io_service` `run`or `poll`，因此永远不会调用异步处理程序。

`async_accept`如果你想`async_wait`在同一个线程中混合它，你必须使用它。

但是，您仍然无法取消另一个线程上的阻塞读取。该[文档](http://www.boost.org/doc/libs/1_52_0/doc/html/boost_asio/reference/basic_socket.html)指出同时使用来自多个线程的套接字是不安全的（共享对象：不安全）。

我建议您使用完全异步的设计。

# c++ - 在 c++ 中，this 是一个指针，但为什么我们可以使用 this.xxx 来表示成员，而不是 this->xxx

> ID：14393634
> 
> 赞同：-7
> 
> 时间：2013-01-18T06:37:16.733
> 
> 标签：c++

in `c++`,`this`是一个指针，但为什么我们可以用它`this.xxx`来表示一个成员，而不是`this->xxx`？ `this->xxx`应该是对的，但为什么`this.xxx`也行？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-18T06:42:53.637

`this.xxx`在 C++ 中是不允许的。在访问成员对象之前，包括指向当前对象的指针在内的所有指针`this`都需要进行 DE 引用。对指针的 DE 引用是通过`*`C++ 中的运算符完成的，该运算符最终成为表达式

`(*this).xxx`

它也被写成一种简写形式，它将 DE 引用和成员访问与单个运算符结合`->`为`this->xxx`

相反，`C#`接受`this.xxx`this 不是指针而是对象的当前实例的表示法。

我相信，让你感兴趣的那个特殊符号`C#`至少不是来自`C++`

用作当前对象实例的约定`this`在 Java 和 C# 中是相关的，因此我建议您重新验证表达式的来源

# android - Listfragment listview返回时未突出显示所选项目

> ID：14393640
> 
> 赞同：0
> 
> 时间：2013-01-18T06:38:05.177
> 
> 标签：android, android-listview, android-listfragment

我正在使用 listfragment 和片段。左侧有列表片段和右侧面板详细信息片段。现在的问题是，每当我从 listfragment 中选择列表项时，右侧面板都会显示特定项目的详细信息，但 listfragment listview 所选项目未突出显示。

有人可以帮忙吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-18T07:07:01.550

如果您想在触摸该行时高亮特定行，然后更改它的背景

```
getListView().setChoiceMode(ListView.CHOICE_MODE_SINGLE);
    rowView.setBackgroundResrouce(R.color.some_color); 
```

# ruby-on-rails - 论坛：模块的未定义方法“范围”

> ID：14393641
> 
> 赞同：0
> 
> 时间：2013-01-18T06:38:06.540
> 
> 标签：ruby-on-rails, ruby-on-rails-3.2

我一直在开发一个基于[论坛怪物演示](https://github.com/gitt/forum_monster_demo)的简单论坛。我目前正在尝试将应用程序从 rails 3.0.9 更新到 3.2.11。当我加载应用程序时，我得到一个未定义的方法 `scoped' for Forum:Module

```
Extracted source (around line #13):
10:         <%= link_to "Delete Category", category_path(category), :confirm => "Are you sure you want to delete this category?", :method => :delete if can? :manage, category %>
11:       </span>
12:     </div>
13:     <% if category.forums.size > 0 %>
14:     <div>
15:       <table>
16:         <tr class="smaller"> 
```

这是我的论坛模型

```
class Forum < ActiveRecord::Base

  # Associations
  has_many :topics, :dependent => :destroy
  has_many :posts, :through => :topics

  belongs_to :category

  # Accessors
  attr_accessible :title, :description, :state, :position, :category_id

  # Scopes
  default_scope :order => :'position ASC'

  # Validations
  validates :title,       :presence => true
  validates :description, :presence => true
  validates :category_id, :presence => true
end 
```

这是我在控制台中闲逛时学到的

```
ricky ~/forum $ rails console   
Loading development environment (Rails 3.2.11)
irb(main):001:0> Category.all.size
  Category Load (0.4ms)  SELECT `categories`.* FROM `categories` ORDER BY position ASC
=> 2
irb(main):002:0> Category.all.each do |cat|
irb(main):003:1* puts cat.forums.size
irb(main):004:1> end
  Category Load (0.6ms)  SELECT `categories`.* FROM `categories` ORDER BY position ASC
NoMethodError: undefined method `scoped' for Forum:Module
    from /usr/lib/ruby/gems/1.9.1/gems/activerecord-3.2.11/lib/active_record/associations/association.rb:123:in `target_scope'
    from /usr/lib/ruby/gems/1.9.1/gems/activerecord-3.2.11/lib/active_record/associations/association.rb:87:in `scoped'
    from /usr/lib/ruby/gems/1.9.1/gems/activerecord-3.2.11/lib/active_record/associations/has_many_association.rb:41:in `count_records'
    from /usr/lib/ruby/gems/1.9.1/gems/activerecord-3.2.11/lib/active_record/associations/collection_association.rb:261:in `size'
    from /usr/lib/ruby/gems/1.9.1/gems/activerecord-3.2.11/lib/active_record/associations/collection_proxy.rb:46:in `size'
    from (irb):3:in `block in irb_binding'
    from (irb):2:in `each'
    from (irb):2
    from /usr/lib/ruby/gems/1.9.1/gems/railties-3.2.11/lib/rails/commands/console.rb:47:in `start'
    from /usr/lib/ruby/gems/1.9.1/gems/railties-3.2.11/lib/rails/commands/console.rb:8:in `start'
    from /usr/lib/ruby/gems/1.9.1/gems/railties-3.2.11/lib/rails/commands.rb:41:in `<top (required)>'
    from script/rails:6:in `require'
    from script/rails:6:in `<main>'
irb(main):005:0> puts Forum.all.size
NoMethodError: undefined method `all' for Forum:Module
    from (irb):5
    from /usr/lib/ruby/gems/1.9.1/gems/railties-3.2.11/lib/rails/commands/console.rb:47:in `start'
    from /usr/lib/ruby/gems/1.9.1/gems/railties-3.2.11/lib/rails/commands/console.rb:8:in `start'
    from /usr/lib/ruby/gems/1.9.1/gems/railties-3.2.11/lib/rails/commands.rb:41:in `<top (required)>'
    from script/rails:6:in `require'
    from script/rails:6:in `<main>'
irb(main):006:0> 
```

提前感谢任何关于此问题性质的煽动。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-18T16:41:11.243

您的“论坛”模型类的名称与 config/application.rb 中的模块完全相同

重命名您的模型或应用程序。

# python - python检查文件中的唯一ID并计数

> ID：14393644
> 
> 赞同：0
> 
> 时间：2013-01-18T06:38:15.910
> 
> 标签：python

在下面`file.txt`显示的每个 ID 中，我需要检查为一个 ID 找到货币的次数。我怎样才能做到这一点？

文件.txt

```
 ID101\tbill is $200
  ID101\tyour bill
  ID101\t $200 again
  ID101\t$100 is the generated amount
  ID101\t$50 is your amount
  ID101\t$74 is the amount
  ID102\tNo bill
  ID102\tbill is $75
  ID103\t$65 is your bill
  ID103\tno bill 
```

代码

```
f=open("file.txt")
arr=[]
count = 0
for l in f:     
   col = 0
   for i in l.split("\t"):
      if col == 0:
         if i not in arr: //tocheck whether it is a new id or not
            arr.append(i)
         if col == 1:
            if "$" in i:
              count += 1
      col += 1 
```

如何检查每个 ID 的计数？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-18T06:43:02.933

你会喜欢[`defaultdict`的](http://docs.python.org/2/library/collections.html#collections.defaultdict)：

```
from collections import defaultdict
counts = defaultdict(int)
with open("file.txt") as f:
    for line in f:
        id, content = line.split("\\t")
        if "$" in content:
            counts[id] += 1 
```

请注意，这将完全省略`id`没有一行包含`$`符号的 s。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-18T06:51:51.467

```
file = open('file.txt')
ids = {}
for line in file:
    if line.find('$') > -1:
        line_array = line.split("\t")
        id = line_array[0]
        if not ids.has_key(id):
            ids[id] = 0
        ids[id] += 1

for k in ids:
    print k + ': ' + str(ids[k]) 
```

# swing - Swing : 用于显示文本流数据的组件

> ID：14393646
> 
> 赞同：1
> 
> 时间：2013-01-18T06:38:21.210
> 
> 标签：swing

我有一个要求，我需要在网格中显示从第三方服务器收到的股票报价符号的流式数据，例如出价、询问、最后、更改值。

为此，我可以使用 Jtable，因为数据会不断变化吗？

请分享您的看法，在此先感谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-18T08:43:51.880

是的，为什么不为此使用 JTable。我想在某些时候你将不得不在你的 TableModel 上创建一个 SlidingWindow 以避免过多的数据。

这是一个小的演示示例，显示了一种方法（`Random`并且`Timer`只是用来模拟传入数据）：

```
import java.awt.BorderLayout;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;
import java.util.Date;
import java.util.Random;

import javax.swing.JFrame;
import javax.swing.JScrollPane;
import javax.swing.JTable;
import javax.swing.SwingUtilities;
import javax.swing.Timer;
import javax.swing.UIManager;
import javax.swing.UnsupportedLookAndFeelException;
import javax.swing.table.DefaultTableModel;

public class TestStreamingDataTable {

    protected void initUI() {
        final Random random = new Random();
        final DefaultTableModel model = new DefaultTableModel(new String[] { "Bid", "Ask", "Last", "Change values", "Time" }, 0);
        final JTable table = new JTable(model);
        table.setFillsViewportHeight(true);
        JFrame frame = new JFrame(TestStreamingDataTable.class.getSimpleName());
        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
        JScrollPane scrollpane = new JScrollPane(table);
        frame.add(scrollpane, BorderLayout.CENTER);
        frame.pack();
        frame.setVisible(true);
        Timer t = new Timer(1000, new ActionListener() {

            @Override
            public void actionPerformed(ActionEvent e) {
                model.insertRow(0, new Object[] { random.nextInt(1000), random.nextInt(1000), random.nextInt(1000), random.nextInt(1000),
                        new Date() });
            }
        });
        t.start();
    }

    public static void main(String[] args) throws ClassNotFoundException, InstantiationException, IllegalAccessException,
            UnsupportedLookAndFeelException {
        UIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());
        SwingUtilities.invokeLater(new Runnable() {

            @Override
            public void run() {
                new TestStreamingDataTable().initUI();
            }
        });
    }

} 
```

# android - 接收消息收到来自 GCM 服务的确认

> ID：14393653
> 
> 赞同：3
> 
> 时间：2013-01-18T06:38:47.557
> 
> 标签：android, push-notification, google-cloud-messaging

我正在`PUSH NOTIFICATION`实施`Android`。他们工作正常。但是，它们没有及时交付。因此，我试图弄清楚我的服务器将发送的消息传递给`GCM`服务所花费的时间以及`GCM`服务将消息传递给我的应用程序所花费的时间。

我确认我的服务器已成功发送消息。有什么方法可以确定该`GCM`服务收到了消息并将其放入其队列中以进行传递？换句话说，一旦 GCM 服务接收到消息，无论消息是否传递到应用程序，我们都能得到确认吗？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-04-13T04:22:29.313

您从 GCM 服务获得的确认仅告诉您消息已被 GCM 服务接收，而不管它是否已交付给应用程序。即使安装该应用程序的设备已关闭，您也会得到它。

如果您想在消息传递到应用程序时获得确认，则必须在应用程序接收到消息时从应用程序调用您的服务器。您可以在消息中包含一些唯一标识符，并将该标识符从您的应用程序发送到您的服务器以确认传递。

# c# - DAO 只负责 CRUD 操作？

> ID：14393655
> 
> 赞同：4
> 
> 时间：2013-01-18T06:38:58.963
> 
> 标签：c#, java, design-patterns, dao

DAO 类是否负责处理以下所有方法？或者最好将一些方法排除在服务层中？

[我在这里](http://code.google.com/p/hibernate-generic-dao/)找到了这个界面。我考虑在我的代码中重复这个接口..

```
public interface GeneralDAO {

        public <T> T find(Class<T> type, Serializable id);

        public <T> T[] find(Class<T> type, Serializable... ids);

        public <T> T getReference(Class<T> type, Serializable id);

        public <T> T[] getReferences(Class<T> type, Serializable... ids);

        public boolean save(Object entity);

        public boolean[] save(Object... entities);

        public boolean remove(Object entity);

        public void remove(Object... entities);

        public boolean removeById(Class<?> type, Serializable id);

        public void removeByIds(Class<?> type, Serializable... ids);

        public <T> List<T> findAll(Class<T> type);

        public List search(ISearch search);

        public Object searchUnique(ISearch search);

        public int count(ISearch search);

        public SearchResult searchAndCount(ISearch search);

        public boolean isAttached(Object entity);

        public void refresh(Object... entities);

        public void flush();

        public Filter getFilterFromExample(Object example);

        public Filter getFilterFromExample(Object example, ExampleOptions options);
} 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-18T06:48:08.083

GeneralDao 中列出的所有方法都与 DAO 模式兼容。

此外，它可能具有特定于您使用的实体的方法，只要它们与从存储中持久化/检索有关。. 例如 CustomerDao：除了 GeneralDao 上的方法外，可能还有方法可以通过与客户相关的标准进行查找。. . 如果你能以一种特定的方式呈现它，从而产生更多的描述性代码，那就更好了。细节并专注于一个实体并没有错。

*（CustomerDao、OrderDao、ProductDao、...... PilotDao、BookDao 等。所有这些都可以具有与该类型实体的存储和检索相关的独特方法）*

如果您可以将底层持久存储换成其他东西，您就会知道您仍然尊重 DAO 模式，并且 DAO 仍然有意义。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-18T07:01:41.027

`DAO`s（被称为数据访问对象）主要是为了提供对底层数据存储的抽象，并将其他模块与底层 DBMS 和模式的担忧隔离开来。只要您不使用 DAO 来保留业务逻辑或与数据访问无关的任何其他内容，我认为您就很好。

# grammar - 如何使这个简单的语法明确？

> ID：14393658
> 
> 赞同：0
> 
> 时间：2013-01-18T06:39:04.403
> 
> 标签：grammar, ambiguous-grammar

这是 BNF 形式的简单 DDC 编译器的模棱两可的语法：

```
<expr> ::= <term> | <expr> <op1> <expr>
<term> ::= <decimal arg> | <term> <op2> <decimal arg>
<decimal arg> ::= <digit> | <decimal arg> <digit>
<digit> ::= 0 | 1 | 2 | 3 | 4 | 5 | 6 | 7 | 8 | 9
<op1> ::= + | -
<op2> ::= * | / 
```

我怎样才能使这个语法明确？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-18T06:41:26.990

我相信你的意思是第一条规则是

```
<expr> ::= <term> | <expr> <op1> <term> 
```

这将使语法明确。

# ios - 核心数据对象 ID 与永久对象 ID

> ID：14393661
> 
> 赞同：9
> 
> 时间：2013-01-18T06:39:20.940
> 
> 标签：ios, objective-c, core-data, nsmanagedobjectcontext, objectid

这个问题可能看起来以前被问过很多次，但我不确定我是否正确汇总了答案。所以这里。

Apple (WWDC 2012 Session 214) 将 ObjectID 描述为上下文安全、线程安全的。所以我花了一些时间转换我的代码以利用它。然而，它似乎并不像听起来那样是上下文安全的，因为正如[这里所讨论的](https://stackoverflow.com/questions/11990279/core-data-do-child-contexts-ever-get-permanent-objectids-for-newly-inserted-obj) [核心数据：子上下文是否会为新插入的对象获得永久的 objectID？](https://stackoverflow.com/questions/11990279/core-data-do-child-contexts-ever-get-permanent-objectids-for-newly-inserted-obj)在其他地方，存在一种叫做永久 ID 的东西。

关于这个永久 ID 业务，我查看了 NSManagedObjectContext.h：

```
/* Converts the object IDs of the specified objects to permanent IDs.  This implementation
will convert the object ID of each managed object in the specified array to a permanent
ID.  Any object in the target array with a permanent ID will be ignored;  additionally,
any managed object in the array not already assigned to a store will be assigned, based on
the same rules Core Data uses for assignment during a save operation (first writable store
supporting the entity, and appropriate for the instance and its related items.)  Although
the object will have a permanent ID, it will still respond positively to -isInserted until
it is saved.  If an error is encountered obtaining an identifier, the return value will be
NO.
*/

- (BOOL)obtainPermanentIDsForObjects:(NSArray *)objects error:(NSError **)error NS_AVAILABLE(10_5, 3_0); 
```

所以我在我的代码中遇到了这个问题。我有一个 NSManagedObjectContexts 的层次结构（比如 B 和 C），其中只有一个实际上链接到持久存储（调用是 A）。所以，C 是 B 的孩子，B 是 A 的孩子。如果我从 C 创建一个 NSManagedObject，然后调用 gainPermanentIDsForObjects，它实际上是永久的吗？因为 .h 文件注释读起来就像它只查找 B 的层次结构（支持实体的第一个可写存储，在子父设置中，更改仅被推高 1 级），而不是 A。

提前致谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2014-06-16T08:25:44.210

是的，如果您调用，`obtainPermanentIDsForObjects`那么您收到的 ID 应该是永久性的（除非框架中存在任何实现错误，这对于此时的核心来说似乎不太可能）。

# android - 我只想将裁剪后的图像保存到图库中。但它保存了原始的完整图像。如何只保存裁剪的图像？

> ID：14393663
> 
> 赞同：0
> 
> 时间：2013-01-18T06:39:25.027
> 
> 标签：android, crop

```
public class ImageCroppMainActivity extends Activity implements OnClickListener{

final int CAMERA_CAPTURE = 1;

//keep track of cropping intent

final int PIC_CROP = 2;

//captured picture uri

private Uri picUri;

final int PICK_IMAGE = 3;   

/** Called when the activity is first created. */

@Override

public void onCreate(Bundle savedInstanceState) {

    super.onCreate(savedInstanceState);

    setContentView(R.layout.activity_image_cropp_main); 

    //retrieve a reference to the UI button

    Button captureBtn = (Button)findViewById(R.id.capture_btn);

    //handle button clicks

    captureBtn.setOnClickListener(this);

    Button browseBtn = (Button)findViewById(R.id.browse_btn);

    //handle button clicks

    browseBtn.setOnClickListener(this);

}

public void onClick(View v) {

    if (v.getId() == R.id.capture_btn) {   

        try {

            //use standard intent to capture an image

            Intent captureIntent = new 
Intent(MediaStore.ACTION_IMAGE_CAPTURE);

            //we will handle the returned data in onActivityResult

startActivityForResult(captureIntent, CAMERA_CAPTURE);

}

catch(ActivityNotFoundException anfe){

//display an error message

String errorMessage = "Whoops - your device doesn't support capturing images!";

Toast toast = Toast.makeText(this, errorMessage, Toast.LENGTH_SHORT);

toast.show();

}  

}

else if(v.getId() == R.id.browse_btn)

{

//use standard intent to capture an image

Intent intent = new Intent(Intent.ACTION_PICK, 

android.provider.MediaStore.Images.Media.EXTERNAL_CONTENT_URI);

//we will handle the returned data in onActivityResult

startActivityForResult(intent, PICK_IMAGE);

}

}

/**

 * Handle user returning from both capturing and cropping the image

 */

protected void onActivityResult(int requestCode, int resultCode, Intent 

data) {

    if (resultCode == RESULT_OK) {

        //user is returning from capturing an image using the camera

        if(requestCode == CAMERA_CAPTURE){

            //get the Uri for the captured image

            picUri = data.getData();

            //carry out the crop operation

            performCrop();

        }

        //user is returning from cropping the image

        else if(requestCode == PIC_CROP){

            //get the returned data

            Bundle extras = data.getExtras();

            //get the cropped bitmap

            Bitmap thePic = extras.getParcelable("data");

            //retrieve a reference to the ImageView

            ImageView picView = 

 (ImageView)findViewById(R.id.picture);

            //display the returned cropped image
            MediaStore.Images.Media.insertImage(getContentResolver(), thePic, "" , "");

            picView.setImageBitmap(thePic);

        }

        else if(requestCode == PICK_IMAGE)

        {

 picUri = data.getData();

            //carry out the crop operation

            performCrop();

        }}}

   /**

 * Helper method to carry out crop operation

 */

  private void performCrop(){

    //take care of exceptions

    try {

 //call the standard crop action intent (the user device may not support it)

        Intent cropIntent = new 

   Intent("com.android.camera.action.CROP"); 

   //indicate image type and Uri

        cropIntent.setDataAndType(picUri, "image/*");

        //set crop properties

        cropIntent.putExtra("crop", "false");

        //indicate aspect of desired crop

        cropIntent.putExtra("aspectX", 1);

        cropIntent.putExtra("aspectY", 1);

        //indicate output X and Y

        cropIntent.putExtra("outputX", 256);

        cropIntent.putExtra("outputY", 256);

        //retrieve data on return

        cropIntent.putExtra("return-data", true);

        //start the activity - we handle returning in onActivityResult

        startActivityForResult(cropIntent, PIC_CROP);  

     }

    //respond to users whose devices do not support the crop action

    catch(ActivityNotFoundException anfe){

        //display an error message

        String errorMessage = "Whoops - your device doesn't support the

   crop action!";

        Toast toast = Toast.makeText(this, errorMessage, 

   Toast.LENGTH_SHORT);

        toast.show();

    }

   }

  } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-06-27T14:58:07.300

**只需 3 个步骤即可完成 -**

**1)Android 清单文件**

```
<?xml version="1.0" encoding="utf-8"?>
<manifest xmlns:android="http://schemas.android.com/apk/res/android"
package="camera.test.demo"
android:versionCode="1"
android:versionName="1.0" >

<uses-sdk android:minSdkVersion="8" />

<application
android:icon="@drawable/ic_launcher"
android:label="@string/app_name" >
<activity
android:name=".SimpleCameraGalleryDemo"
android:label="@string/app_name" >
<intent-filter>
<action android:name="android.intent.action.MAIN" />

<category android:name="android.intent.category.LAUNCHER" />
</intent-filter>
</activity>
</application>

</manifest> 
```

**2)SimpleCameraGallery演示代码**

```
package camera.test.demo;
import android.app.Activity;
import android.content.ActivityNotFoundException;
import android.content.Intent;
import android.graphics.Bitmap;
import android.os.Bundle;
import android.provider.MediaStore;
import android.view.View;
import android.widget.Button;
import android.widget.ImageView;

public class SimpleCameraGalleryDemo extends Activity {
private static final int PICK_FROM_CAMERA = 1;
private static final int PICK_FROM_GALLERY = 2;
ImageView imgview;

@Override
public void onCreate(Bundle savedInstanceState) {
super.onCreate(savedInstanceState);
setContentView(R.layout.main);

imgview = (ImageView) findViewById(R.id.imageView1);
Button buttonCamera = (Button) findViewById(R.id.btn_take_camera);`enter code here`
Button buttonGallery = (Button) findViewById(R.id.btn_select_gallery);
buttonCamera.setOnClickListener(new View.OnClickListener() {

public void onClick(View v) {
// call android default camera
Intent intent = new Intent(MediaStore.ACTION_IMAGE_CAPTURE);

intent.putExtra(MediaStore.EXTRA_OUTPUT,
MediaStore.Images.Media.EXTERNAL_CONTENT_URI.toString());
// ******** code for crop image
intent.putExtra("crop", "true");
intent.putExtra("aspectX", 0);
intent.putExtra("aspectY", 0);
intent.putExtra("outputX", 200);
intent.putExtra("outputY", 150);

try {

intent.putExtra("return-data", true);
startActivityForResult(intent, PICK_FROM_CAMERA);

} catch (ActivityNotFoundException e) {
// Do nothing for now
}
}
});
buttonGallery.setOnClickListener(new View.OnClickListener() {

@Override
public void onClick(View v) {
// TODO Auto-generated method stub
Intent intent = new Intent();
// call android default gallery
intent.setType("image/*");
intent.setAction(Intent.ACTION_GET_CONTENT);
// ******** code for crop image
intent.putExtra("crop", "true");
intent.putExtra("aspectX", 0);
intent.putExtra("aspectY", 0);
intent.putExtra("outputX", 200);
intent.putExtra("outputY", 150);

try {

intent.putExtra("return-data", true);
startActivityForResult(Intent.createChooser(intent,
"Complete action using"), PICK_FROM_GALLERY);

} catch (ActivityNotFoundException e) {
// Do nothing for now
}
}
});
}
protected void onActivityResult(int requestCode, int resultCode, Intent data) {

if (requestCode == PICK_FROM_CAMERA) {
Bundle extras = data.getExtras();
if (extras != null) {
Bitmap photo = extras.getParcelable("data");
imgview.setImageBitmap(photo);

}
}

if (requestCode == PICK_FROM_GALLERY) {
Bundle extras2 = data.getExtras();
if (extras2 != null) {
Bitmap photo = extras2.getParcelable("data");
imgview.setImageBitmap(photo);

}
}
}
} 
```

**3) main.xml 文件**

```
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
android:layout_width="fill_parent"
android:layout_height="fill_parent"
android:orientation="vertical" >

<TextView
android:id="@+id/textViewAddCard"
android:layout_width="250dp"
android:layout_height="50dp"
android:text="Take Image"
android:textSize="16dp"
android:layout_gravity="center"
android:gravity="center"
android:typeface="sans"/>

<Button
android:id="@+id/btn_take_camera"
android:layout_width="250dp"
android:layout_height="50dp"
android:text="Take From Camera"
android:layout_marginTop="5dp"
android:layout_gravity="center"
android:typeface="sans"/>

<Button
android:id="@+id/btn_select_gallery"
android:layout_width="250dp"
android:layout_height="50dp"
android:text="Select from Gallery"
android:layout_marginTop="10dp"
android:layout_gravity="center"
android:typeface="sans" />
<ImageView
android:id="@+id/imageView1"
android:layout_gravity="center"
android:layout_width="wrap_content"
android:layout_height="wrap_content" />
</LinearLayout> 
```

**我希望它对你有帮助。**

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-18T06:53:26.323

请检查以下链接，它将帮助您裁剪图像。

[https://github.com/lorensiuswlt/AndroidImageCrop](https://github.com/lorensiuswlt/AndroidImageCrop)。

我想它会对你有所帮助。让我知道你的状态。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2018-12-14T06:12:59.237

```
HI please try this to save to your gallery
MainActivity:
-----------------

package com.example.satis.crop;

import android.Manifest;
import android.annotation.SuppressLint;
import android.annotation.TargetApi;
import android.app.Activity;
import android.content.ActivityNotFoundException;
import android.content.ContentValues;
import android.content.Intent;
import android.content.pm.PackageManager;
import android.graphics.Bitmap;
import android.graphics.BitmapFactory;
import android.graphics.drawable.BitmapDrawable;
import android.net.Uri;
import android.os.Build;
import android.os.Environment;
import android.provider.MediaStore;
import android.support.v4.content.FileProvider;
import android.support.v7.app.AppCompatActivity;
import android.os.Bundle;
import android.util.Log;
import android.view.View;
import android.webkit.WebView;
import android.widget.Button;
import android.widget.ImageView;
import android.widget.Toast;

import com.theartofdev.edmodo.cropper.CropImage;
import com.theartofdev.edmodo.cropper.CropImageView;

import java.io.ByteArrayOutputStream;
import java.io.File;
import java.io.FileNotFoundException;
import java.io.FileOutputStream;
import java.io.IOException;
import java.io.InputStream;
import java.io.OutputStream;
import java.text.SimpleDateFormat;
import java.util.Date;
import java.util.List;
import java.util.Random;

import pub.devrel.easypermissions.AfterPermissionGranted;
import pub.devrel.easypermissions.AppSettingsDialog;
import pub.devrel.easypermissions.EasyPermissions;

import android.Manifest;
import android.content.ActivityNotFoundException;
import android.content.Intent;
import android.content.pm.PackageManager;
import android.graphics.Bitmap;
import android.net.Uri;
import android.os.Environment;
import android.support.v4.app.ActivityCompat;
import android.support.v7.app.AppCompatActivity;
import android.os.Bundle;
import android.util.DisplayMetrics;
import android.view.View;
import android.widget.Button;
import android.widget.ImageView;
import android.widget.Toast;
import java.io.File;

public class MainActivity extends AppCompatActivity {

    ImageView imageView;
    Button buttonCamera, buttonGallery ;
    File file;
    Uri uri;
    Intent CamIntent, GalIntent, CropIntent ;
    public  static final int RequestPermissionCode  = 1 ;
    DisplayMetrics displayMetrics ;
    int width, height;

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);

        imageView = (ImageView)findViewById(R.id.imageview);
        buttonCamera = (Button)findViewById(R.id.button2);
        buttonGallery = (Button)findViewById(R.id.button1);

        EnableRuntimePermission();

        buttonCamera.setOnClickListener(new View.OnClickListener() {
            @Override
            public void onClick(View view) {

                ClickImageFromCamera() ;

            }
        });

        buttonGallery.setOnClickListener(new View.OnClickListener() {
            @Override
            public void onClick(View view) {

                GetImageFromGallery();

            }
        });

    }

    public void ClickImageFromCamera() {

        CamIntent = new Intent(android.provider.MediaStore.ACTION_IMAGE_CAPTURE);

        file = new File(Environment.getExternalStorageDirectory(),
                "file" + String.valueOf(System.currentTimeMillis()) + ".jpg");
        uri = Uri.fromFile(file);

        CamIntent.putExtra(android.provider.MediaStore.EXTRA_OUTPUT, uri);

        CamIntent.putExtra("return-data", true);

        startActivityForResult(CamIntent, 0);

    }

    public void GetImageFromGallery(){

        GalIntent = new Intent(Intent.ACTION_PICK,
                android.provider.MediaStore.Images.Media.EXTERNAL_CONTENT_URI);

        startActivityForResult(Intent.createChooser(GalIntent, "Select Image From Gallery"), 2);

    }

    @Override
    protected void onActivityResult(int requestCode, int resultCode, Intent data) {
        if (requestCode == 0 && resultCode == RESULT_OK) {

            ImageCropFunction();

        }
        else if (requestCode == 2) {

            if (data != null) {

                uri = data.getData();

                ImageCropFunction();

            }
        }
        else if (requestCode == 1) {

            if (data != null) {

                Bundle bundle = data.getExtras();

                Bitmap bitmap = bundle.getParcelable("data");

                imageView.setImageBitmap(bitmap);
                MediaStore.Images.Media.insertImage(getContentResolver(), bitmap, "cropped" , "cropped");

            }
        }
    }

    public void ImageCropFunction() {

        // Image Crop Code
        try {
            CropIntent = new Intent("com.android.camera.action.CROP");

            CropIntent.setDataAndType(uri, "image/*");

            CropIntent.putExtra("crop", "true");
            CropIntent.putExtra("outputX", 180);
            CropIntent.putExtra("outputY", 180);
            CropIntent.putExtra("aspectX", 3);
            CropIntent.putExtra("aspectY", 4);
            CropIntent.putExtra("scaleUpIfNeeded", true);
            CropIntent.putExtra("return-data", true);

            startActivityForResult(CropIntent, 1);

        } catch (ActivityNotFoundException e) {

        }
    }
    //Image Crop Code End Here

    public void EnableRuntimePermission(){

        if (ActivityCompat.shouldShowRequestPermissionRationale(MainActivity.this,
                Manifest.permission.CAMERA))
        {

            Toast.makeText(MainActivity.this,"CAMERA permission allows us to Access CAMERA app", Toast.LENGTH_LONG).show();

        } else {

            ActivityCompat.requestPermissions(MainActivity.this,new String[]{
                    Manifest.permission.CAMERA}, RequestPermissionCode);

        }
    }

    @Override
    public void onRequestPermissionsResult(int RC, String per[], int[] PResult) {

        switch (RC) {

            case RequestPermissionCode:

                if (PResult.length > 0 && PResult[0] == PackageManager.PERMISSION_GRANTED) {

                    Toast.makeText(MainActivity.this,"Permission Granted, Now your application can access CAMERA.", Toast.LENGTH_LONG).show();

                } else {

                    Toast.makeText(MainActivity.this,"Permission Canceled, Now your application cannot access CAMERA.", Toast.LENGTH_LONG).show();

                }
                break;
        }
    }

}

AndroidManifest.xml
-----------------------

<?xml version="1.0" encoding="utf-8"?>
<manifest xmlns:android="http://schemas.android.com/apk/res/android"
    package="com.example.satis.crop">

    <uses-permission android:name="android.permission.CAMERA" />
    <uses-permission android:name="android.permission.WRITE_EXTERNAL_STORAGE" />
    <uses-feature android:name="android.hardware.camera" />

    <application
        android:allowBackup="true"
        android:icon="@mipmap/ic_launcher"
        android:label="@string/app_name"
        android:supportsRtl="true"
        android:theme="@style/AppTheme">
        <activity android:name=".MainActivity">
            <intent-filter>
                <action android:name="android.intent.action.MAIN" />

                <category android:name="android.intent.category.LAUNCHER" />
            </intent-filter>
        </activity>
    </application>

</manifest>

Activity_main:
-------------
<?xml version="1.0" encoding="utf-8"?>
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:tools="http://schemas.android.com/tools"
    android:id="@+id/activity_main"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:background="#FFECB3"
    tools:context="com.example.satis.crop.MainActivity">

    <ImageView
        android:layout_width="250dp"
        android:layout_height="325dp"
        android:id="@+id/imageview"
        android:layout_centerHorizontal="true"
        />

    <Button
        android:text="Click Here For PICK image from Gallery TO CROP"
        android:layout_width="fill_parent"
        android:layout_height="wrap_content"
        android:layout_below="@+id/imageview"
        android:layout_centerHorizontal="true"
        android:layout_marginTop="7dp"
        android:id="@+id/button1" />

    <Button
        android:text="Click Here For CLICK image from Camera TO CROP"
        android:layout_width="fill_parent"
        android:layout_height="wrap_content"
        android:layout_below="@+id/button1"
        android:layout_alignRight="@+id/button1"
        android:layout_alignEnd="@+id/button1"
        android:layout_marginTop="7dp"
        android:id="@+id/button2" />
</RelativeLayout>

res/xml:
--------
<?xml version="1.0" encoding="utf-8"?>
<paths>
    <external-path name="external_files" path="." />
</paths> 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2018-01-26T00:54:19.047

试试这个添加到你的 OnActivityResult

```
protected void onActivityResult(int requestCode, int resultCode, Intent 
data) {
if (resultCode == RESULT_OK) {

if(requestCode == CAMERA_CAPTURE){

picUri = data.getData();

performCrop();
} 
else if(requestCode == PIC_CROP){

Bundle extras = data.getExtras();

Bitmap thePic = extras.getParcelable("data");

ImageView picView = (ImageView)findViewById(R.id.picture);

picView.setImageBitmap(thePic);

OutputStream output;
// Find the SD Card path
File filepath = Environment.getExternalStorageDirectory();

// Create a new folder in SD Card
File dir = new File(filepath.getAbsolutePath()
+ "/CroppedImage/");
dir.mkdirs();

// Create a name for the saved image
File file = new File(dir, "crop.jpg" );

try {

output = new FileOutputStream(file);

// Compress into png format image from 0% - 100%
thePic.compress(Bitmap.CompressFormat.JPEG, 100, output);
output.flush();
output.close();

}

catch (Exception e) {
// TODO Auto-generated catch block
e.printStackTrace();
}

}
}
} 
```

# html - 一列中的图片导致文本在其旁边的列中被下推

> ID：14393665
> 
> 赞同：0
> 
> 时间：2013-01-18T06:39:33.543
> 
> 标签：html, css, wordpress

不擅长编程，但

图片导致文本在相邻列上向下移动，我不知道为什么会这样。我试过浮动它并使用垂直对齐，但都不起作用。

```
<table style="border:none" cellpadding="0" cellspacing="0">
    <tbody>
       <tr>
       <td vertical-align:baseline style="border:none" width="20%">
       <div><img class="alignnone size-medium wp-image-232" src="" style="float:left;border: 1px solid #000000; alt="" width="294" height="300" style="display:block;"></div>
       <div class="caption" style="font:8pt/12pt verdana" align="center">text</div>
       </td>
       <td style="border:none;float:right" style="border:none">
       <div style="font:10pt/14pt verdana" align="justify">text</div>
       </td>
    </tbody>
</table> 
```

感谢您的时间

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-18T06:42:31.450

```
<td vertical-align:baseline style="border:none" width="20%"> 
```

那不是正确的语法。尝试：

```
<td style="border:none; vertical-align:baseline" width="20%"> 
```

另外，这个：

```
style="float:left;border: 1px solid #000000; alt="" width="294" height="300" style="display:block;" 
```

缺少报价并且有`style`两次。尝试：

```
style="float:left;border: 1px solid #000000; display:block;" alt="" 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-18T06:52:06.760

您的代码中缺少许多标签。没有 tr 的结束标签和许多这样的标签。

改成下面的方法

**HTML**

```
<table width="100%" cellpadding="0" cellspacing="0">
    <tbody>
       <tr>
       <td width="50%">     
         <img class="alignnone size-medium wp-image-232" src="" alt="" width="294" height="300" />
       <div class="caption">text</div>
       </td>
       <td class="second_td">text</td>
</tr>
    </tbody>
</table> 
```

**CSS**

```
.caption{display:inline-block; font:8pt/12pt verdana;}
.second_td{font:10pt/14pt verdana; vertical-align:top; text-align:right}
img{float:left;border: 1px solid #000000;} 
```

**[演示](http://jsfiddle.net/wLGsy/1/)**

# mysql - 为什么当我的列是 INT(10) 时我不能插入 10 位数字

> ID：14393672
> 
> 赞同：0
> 
> 时间：2013-01-18T06:40:30.237
> 
> 标签：mysql, sql

我有这个专栏 `INT(10) ZEROFILL NOT NULL DEFAULT '0000000000',`

但是当我插入类似的东西时`9100000010`，我得到`4294967295`

它应该允许有 10 位数字，对吧？

如何正确地做到这一点？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-01-18T06:43:30.917

MySQL 中 INT 字段中可能的最大值是`2147483647`，您的值`9100000010`大于该值。这就是为什么它溢出到`4294967295`无符号整数的最大值。

[11.1.4.1。整数类型（精确值）](http://dev.mysql.com/doc/refman/5.0/en/numeric-types.html)

```
INT    4    -2147483648 2147483647 
```

`BIGINT`如果您想存储更大的数字，请使用，其范围为：

```
BIGINT  8   -9223372036854775808    9223372036854775807 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-01-18T06:44:05.733

Int 具有最大值范围：

```
INT 4   -2147483648 2147483647
        0   4294967295 (unsigned ) 
```

因此，由于溢出，您将获得最大值。改用bigint，它有8个字节，你会没事的。

[http://dev.mysql.com/doc/refman/5.0/en/numeric-types.html#integer-types](http://dev.mysql.com/doc/refman/5.0/en/numeric-types.html#integer-types)

```
BIGINT  8   -9223372036854775808    9223372036854775807
          0                 18446744073709551615 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-01-18T06:44:21.110

在 MySQL 中，INT(10) 并不意味着值限制为 10 个字符的值。这仅意味着 MySQL 在返回它们时会尝试用空格/零填充这些值。

任何有符号的 INT 包括 INT(10)、INT(5) 或任何其他 INT(n) 的数值范围为：-2,147,483,648 ... 2,147,483,647，最多为 10 位。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-18T06:49:05.470

你达到了 int 的最大值。mysql中int的int最大值范围是4294967295（无符号）。所以你必须使用 BIGINT。你可以在这里获得更多信息： [Mysql Numeric types](http://dev.mysql.com/doc/refman/5.1/en/numeric-types.html#integer-types)

希望这可以帮助

亲切的问候

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-01-18T07:00:07.897

> 它应该允许有 10 位数字，对吧？

**不，mySQL中INT和整数类型的大小是设置字段指定ZEROFILL时的**显示****宽度**。**

 **例如，如果您插入的值是 123456 那么当您查询它时，它将显示为 0000123456 ，它只是显示宽度，不影响该值。

所以取值范围由数据类型本身决定，而不是显示宽度。要存储更大的值，您应该将数据类型更改为合适的类型，例如[BIGINT](http://dev.mysql.com/doc/refman/5.0/en/numeric-types.html#integer-types)。

来自[mySQL 参考](http://dev.mysql.com/doc/refman/5.0/en/numeric-type-overview.html)：

`INT : A normal-size integer. The signed range is -2147483648 to 2147483647\. The unsigned range is 0 to 4294967295.`

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-01-18T06:43:39.013

我相信你会得到 int 最大值。INT(10) 用于数字填充而不是限制字符数。

MySQL 将在返回它们时尝试用空格/零填充这些值。**

# esper - 如果源发送具有 2 个或更多不同模式的 xml 事件文件，如何在 Esper 中处理？

> ID：14393675
> 
> 赞同：0
> 
> 时间：2013-01-18T06:40:54.530
> 
> 标签：esper, multiple-schema

```
public ParseEvents()
{       
    String classpathLocation_plm = "com/esper/Resources/dataPkt.xsd";
    String classpathLocation_status = "com/esper/Resources/helloPkt.xsd";
    URL schemaURL_plm = this.getClass().getClassLoader().getResource(classpathLocation_plm);
    URL schemaURL_status = this.getClass().getClassLoader().getResource(classpathLocation_status);
    //System.out.println(schemaURL.getPath());
    ConfigurationEventTypeXMLDOM plmcfg = new ConfigurationEventTypeXMLDOM();
    ConfigurationEventTypeXMLDOM plmstatus = new ConfigurationEventTypeXMLDOM();
    epService = EPServiceProviderManager.getDefaultProvider();
    epService1 = EPServiceProviderManager.getDefaultProvider();
    plmcfg.setRootElementName("PACKET");
    plmcfg.setSchemaResource(schemaURL_plm.toString());
    plmstatus.setRootElementName("PACKET");
    plmstatus.setSchemaResource(schemaURL_status.toString());
    plmAdm = epService.getEPAdministrator();
    plmAdm1 = epService1.getEPAdministrator();
    plmAdm.getConfiguration().addEventType("PlmEvent", plmcfg);  
    plmAdm1.getConfiguration().addEventType("PlmStatus", plmstatus); 
```

我在 java 项目的类路径中有两个模式。现在进入 esper 引擎的 xml 文件（作为事件）不知道要理解哪个模式。如何解决这个问题？请高手指点！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-18T12:27:10.430

如果所有 XML 事件都具有相同的根元素名称，则使用 E​​ventSender 来识别正在发送的事件类型，即：EventSender s1 = epService.getEPRuntime().getEventSender("PlmEvent") EventSender s2 = epService.getEPRuntime().getEventSender （“Plm状态”）

创建一些 EPL 语句，例如“select * from PlmEvent”并通过“s1.sendEvent(xmldoc)”发送事件

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-23T12:27:01.650

感谢您的解决方案。我尝试了不同的出路。xml事件发送后，DOM解析器解析xml后创建一个文档，然后将该文档作为事件发送给Esper引擎。我正在检查标签名称，然后 xml 事件正在询问相应的模式。

```
doc = builderFactory.newDocumentBuilder().parse(source);
            doc.getDocumentElement().normalize();           
            if((doc.getElementsByTagName("PSTATUS").getLength() != 0))
            {
                System.out.println("*** In Status packet ***");
                EPStatement cepStatement3 = plmAdm1.createEPL("select * from " + "PlmStatus"); 
                cepStatement3.addListener(new CEPListener2());
            }
            else
            {
                System.out.println("*** In Energy packet ***");

            } 
```

# matlab - 在 Matlab 中从声音文件中删除人声

> ID：14393677
> 
> 赞同：1
> 
> 时间：2013-01-18T06:40:57.490
> 
> 标签：matlab, audio, signal-processing

我正在使用 Matlab 分离左右声道的声音文件。代码可以编译，但并没有从声音文件中完全删除人声。这是为什么？

这是代码：

```
 [y,fs]=wavread('On the floor.wav');

 left=y(:,1);
 right=y(:,2);

 wavplay(left-right,fs); 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-18T09:03:40.173

声音抑制是一个*难题*，是大量学术和商业研究的主题。在学术界，这种问题被称为*源分离*，近年来一直是博士研究的热门课题；因此存在大量文献。

您似乎正在实施的方法是在立体图像的中心减去节目素材。如果正确实施（参见上面的评论），这可能会很好地抑制某些轨道上的一些人声，但也会将大量其他材料混入您希望保留的中心。

# asp.net - 在 ultrawebgrid asp.net 上未处理 MissingMemberException

> ID：14393681
> 
> 赞同：0
> 
> 时间：2013-01-18T06:41:18.643
> 
> 标签：asp.net, infragistics, ultrawebgrid

我正在尝试访问我的 ultrawebgrid 的孩子，但不确定什么代码是 asp.net 的正确代码。我知道在 vb.net 中我使用了相同的代码，这很好。我得到错误：`MissingMemberException was unhandled.Public member 'getChildRow' on type 'GroupByRow' not found`。有人有什么想法吗？

这是我的代码

```
Protected Sub UltraWebGrid1_InitializeLayout(ByVal sender As Object, ByVal e As System.EventArgs) Handles UltraWebGrid1.Click
        Dim rowSelected As UltraWebGrid
        Dim orderID As Integer
        Dim finalPriceData As OracleDataReader

        For Each rG1 In UltraWebGrid1.Rows
            For Each rL1 In rG1.getChildRow
                For Each rowSelected In UltraWebGrid1.DisplayLayout.SelectedRows
                    orderID = rowSelected.Rows.FromKey("ORDERID").ToString
                Next
            Next
        Next 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-18T07:39:12.720

简而言之，您会得到异常，因为`getChildRow`在控件的行中没有命名此类方法/属性。基于我对 VB.NET 和 的有限知识`UltraWebGrid`，您可能想尝试以下方法：

1.  更改`getChildRow`为`getChildRow()`- 这是假设早期的语法是从属性搜索，而后来会搜索方法。

2.  一行类型`GroupByRow`可能没有`getChildRow`成员，因此您可能想跳过那种行 - 例如
    `If TypeOf(rG1) IS NOT GroupByRow Then
    For Each rL1 In rG1.getChildRow`

3.  最后，从[文档](http://help.infragistics.com/Help/NetAdvantage/ASPNET/2011.1/CLR4.0/html/Infragistics4.WebUI.UltraWebGrid.v11.1~Infragistics.WebUI.UltraWebGrid.UltraGridRow.html)看来，网格包含类型的行，`UltraGridRow`并且用于迭代子行的可能代码可能类似于

-

```
For Each rG1 In UltraWebGrid1.Rows
   If rG1.HasChildRows Then
      For Each rL1 In rG1.Rows
         ...
      Next
   End If
Next 
```

# android - 如何编写“JUnit 测试用例”android？

> ID：14393684
> 
> 赞同：2
> 
> 时间：2013-01-18T06:41:35.667
> 
> 标签：android, junit, testcase

我想学`JUnit Tesing`安卓。我做谷歌，现在我知道如何创建 JUnit 测试用例。但是我的问题是如何在那个类中编写逻辑，我不知道。

假设我想为自定义的listview编写测试用例，那我该如何实现呢？请给我一些指导。

```
public class CustomlistviewActivityTest extends TestCase {

protected void setUp() throws Exception {
    super.setUp();
}

protected void tearDown() throws Exception {
    super.tearDown();
}

public void testOnCreateBundle() {       // this is oncreate method
    fail("Not yet implemented");
}

public void testOnCreateContextMenuContextMenuViewContextMenuInfo() {
    fail("Not yet implemented");     // this method is for the create the context menu
}

public void testOnContextItemSelectedMenuItem() {
    fail("Not yet implemented");     // this method is for the select the item of the context menu
                //   on select items call the below method named testFunction1()
}

public void testFunction1() {
    fail("Not yet implemented");     // display toast
}

public void testFunction2() {
    fail("Not yet implemented");        // display toast
}

public void testOnItemClick() {
    fail("Not yet implemented");          // display toast
}

} 
```

谢谢。

# android - 背景音乐

> ID：14393685
> 
> 赞同：1
> 
> 时间：2013-01-18T06:41:37.420
> 
> 标签：android

我应该创建一个在通话背景中播放音乐的应用程序，只有呼叫者和听众可以听到？任何机构都可以提出一种方法吗？我曾尝试创建一个音乐服务，用于为应用程序创建后台服务，但它并不能完全满足我的目标。

我根据这个[链接](http://www.codeproject.com/Articles/258176/Adding-Background-Music-to-Android-App)创建了一个背景音乐服务。

编辑：IDEA---想要在通话的背景中播放音乐，当状态为摘机时，呼叫者和听众都能听到

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-18T06:59:16.973

如果您想为您的应用播放背景音乐，请在从您的应用启动的线程中播放它/使用 AsyncTask 类为您完成。

```
 public class BackgroundSound extends AsyncTask<Void, Void, Void> {

@Override
protected Void doInBackground(Void... params) {
    MediaPlayer player = MediaPlayer.create(YourActivity.this, R.raw.test_cbr); 
    player.setLooping(true); // Set looping 
    player.setVolume(100,100); 
    player.start(); 

    return null;
} 
```

}

查看[https://stackoverflow.com/a/7928911/1697047](https://stackoverflow.com/a/7928911/1697047)了解更多详情

# php - 致命错误：在 paypal sdk 中找不到类“字符串”

> ID：14393687
> 
> 赞同：1
> 
> 时间：2013-01-18T06:41:46.477
> 
> 标签：php, paypal

我正在使用 paypal sdk 进行自适应支付（新版本）。在本地服务器上一切正常，但一旦我将它移动到它说的另一台服务器。

```
Fatal error: Class 'string' not found in "path/payment/lib/PPMessage.php" on line 103 
```

两台服务器上的php版本相同。我尝试提供相对路径等，但似乎没有任何效果。

请帮忙！谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2016-10-25T23:23:52.000

我在 github 上创建了一个问题

[https://github.com/paypal/sdk-core-php/issues/92#issuecomment-256091144](https://github.com/paypal/sdk-core-php/issues/92#issuecomment-256091144)

解决方案是：更改 PPMessage.php 的第 75 行

更改此行： [https ://github.com/paypal/sdk-core-php/blob/master/lib/PayPal/Core/PPMessage.php#L75](https://github.com/paypal/sdk-core-php/blob/master/lib/PayPal/Core/PPMessage.php#L75)

```
 if (!$this->isBuiltInType($type)) {
    $type = PPUtils::propertyType($this, $property);
    if (!class_exists($type)) {
      trigger_error("Class $type not found.", E_USER_NOTICE);
      continue; // just ignore
    }
  } 
```

# android - 三星 s3 在捕获图像后没有将图像数据返回到 URI，而在所有其他设备上，它工作正常

> ID：14393691
> 
> 赞同：2
> 
> 时间：2013-01-18T06:42:01.850
> 
> 标签：android, android-camera-intent

我一直在测试使用设备相机拍摄照片的 Android 应用程序。此应用程序在除三星 Galaxy s3 之外的所有设备上都运行良好。

问题是使用默认相机拍摄后我没有得到任何图像。

如果有人遇到同样的问题并解决了，谁能帮助我？

提前致谢。

**奇怪的编辑** 我下载了 PhotoIntentActivity 代码，它也不起作用。它适用于小照片，但是当通过 URI 时同样的问题。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-18T09:45:56.260

谢谢大家的回复。但是我找到了解决方案。我将照片捕获活动配置从清单文件更改为

```
 <activity android:name="YourActivity"
        android:configChanges="orientation|keyboardHidden"
        android:screenOrientation="portrait"></activity> 
```

我将再次浏览该文档以完全理解，但是现在它工作正常。

# java - twitter（android 应用）中的令牌访问格式无效

> ID：14393694
> 
> 赞同：1
> 
> 时间：2013-01-18T06:42:08.113
> 
> 标签：java, android, linkedin

这是我的堆栈跟踪，我已经完成了 Twitter 集成以共享数据，如果我单击该活动的按钮，应用程序会崩溃并强制关闭，有人可以帮忙解决这个问题吗？

```
01-18 11:19:08.114: E/AndroidRuntime(332): FATAL EXCEPTION: main
01-18 11:19:08.114: E/AndroidRuntime(332): java.lang.RuntimeException: Unable to start   activity ComponentInfo{com.example.com/com.example.com.Singlemenuitem}: java.lang.IllegalArgumentException: Invalid access token format.
01-18 11:19:08.114: E/AndroidRuntime(332):  at  android.app.ActivityThread.performLaunchActivity(ActivityThread.java:1647)
01-18 11:19:08.114: E/AndroidRuntime(332):  at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:1663)
01-18 11:19:08.114: E/AndroidRuntime(332):  at android.app.ActivityThread.access$1500(ActivityThread.java:117)
01-18 11:19:08.114: E/AndroidRuntime(332):  at android.app.ActivityThread$H.handleMessage(ActivityThread.java:931)
01-18 11:19:08.114: E/AndroidRuntime(332):  at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1047) 
```

这是我的主要活动，错误是......

```
public class Singlemenuitem  extends Activity implements OnClickListener{

private TwitterApp mTwitter;
private static final String CONSUMER_KEY = "6JyIkj71ZqG4wk3YF0Y4hw";
private static final String CONSUMER_SECRET =    "9kYPpGzUTgDGa5NawwYAqERQtaVRnY9T8CrePXpA";
private enum FROM {
    TWITTER_POST, TWITTER_LOGIN
};

private enum MESSAGE {
    SUCCESS, DUPLICATE, FAILED, CANCELLED
};
   @Override
   public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.single_list_item);
    StrictMode.ThreadPolicy policy = new StrictMode.ThreadPolicy.Builder()
    .permitAll().build();
   StrictMode.setThreadPolicy(policy);

   mTwitter = new TwitterApp(this, CONSUMER_KEY, CONSUMER_SECRET);
    //share twitter
        final ImageView twitter = (ImageView) findViewById(R.id.twitter);
        twitter.setOnClickListener(new View.OnClickListener() {
            public void onClick(View v){
                TwDialogListener mTwLoginDialogListener = null;
                mTwitter.setListener(mTwLoginDialogListener);
                mTwitter.resetAccessToken();
        if (mTwitter.hasAccessToken() == true) {
            try {
                mTwitter.updateStatus(String.valueOf(Html
                        .fromHtml(TwitterApp.MESSAGE)));

                // File f = new File("/mnt/sdcard/android.jpg");
                // mTwitter.uploadPic(f, String.valueOf(Html
                // .fromHtml(TwitterApp.MESSAGE)));

                postAsToast(FROM.TWITTER_POST, MESSAGE.SUCCESS);
            } catch (Exception e) {
                if (e.getMessage().toString().contains("duplicate")) {
                    postAsToast(FROM.TWITTER_POST, MESSAGE.DUPLICATE);
                }
                e.printStackTrace();
            }
            mTwitter.resetAccessToken();
        } else {
            mTwitter.authorize();
        }
    }

    private void postAsToast(FROM twitterPost, MESSAGE success) {
        switch (twitterPost) {
        case TWITTER_LOGIN:
            switch (success) {
            case SUCCESS:
                Toast.makeText(Singlemenuitem.this, "Login   Successful",               Toast.LENGTH_LONG)
                        .show();
                break;
            case FAILED:
                Toast.makeText(Singlemenuitem.this, "Login Failed",   Toast.LENGTH_LONG).show();
            default:
                break;
            }
            break;
        case TWITTER_POST:
            switch (success) {
            case SUCCESS:
                Toast.makeText(Singlemenuitem.this, "Posted Successfully", Toast.LENGTH_LONG)
                        .show();
                break;
            case FAILED:
                Toast.makeText(Singlemenuitem.this, "Posting Failed", Toast.LENGTH_LONG)
                        .show();
                break;
            case DUPLICATE:
                Toast.makeText(Singlemenuitem.this,
                        "Posting Failed because of duplicate message...",
                        Toast.LENGTH_LONG).show();
            default:
                break;
            }
            break;
        }

    TwDialogListener mTwLoginDialogListener = new TwDialogListener() {

        public void onError(String value) {
            postAsToast(FROM.TWITTER_LOGIN, MESSAGE.FAILED);
            Log.e("TWITTER", value);
            mTwitter.resetAccessToken();
        }

        public void onComplete(String value) {
            try {
                mTwitter.updateStatus(TwitterApp.MESSAGE);
                postAsToast(FROM.TWITTER_POST, MESSAGE.SUCCESS);
            } catch (Exception e) {
                if (e.getMessage().toString().contains("duplicate")) {
                    postAsToast(FROM.TWITTER_POST, MESSAGE.DUPLICATE);
                }
                e.printStackTrace();
            }
            mTwitter.resetAccessToken();
        }
    }; 
```

# javascript - 奇怪的主干通知

> ID：14393695
> 
> 赞同：1
> 
> 时间：2013-01-18T06:42:08.403
> 
> 标签：javascript, jquery, backbone.js, underscore.js

今天早上我在我的萤火虫控制台上发现了一个奇怪的信息：

> 照明：修补主干，以便模型和视图是可枚举的

正如信息所说，我试图将骨干网从 0.9.9 更新到 0.9.10，但消息仍在我的控制台上......

这是什么意思？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-18T07:56:12.383

您已经`Illuminations`安装了 firefox 插件。它只是告诉你它在做什么。

[https://addons.mozilla.org/en-us/firefox/addon/illuminations-for-developers/](https://addons.mozilla.org/en-us/firefox/addon/illuminations-for-developers/)

# php - 使用 Uploadify 上传文件和上传进度

> ID：14393702
> 
> 赞同：3
> 
> 时间：2013-01-18T06:42:43.860
> 
> 标签：php, jquery, file-upload, progress-bar, uploadify

我制作了一个动态下拉文件上传系统，用户可以在其中选择工程流，然后是学期，然后是主题，文件会上传到所需的目录中。这正常工作。[工作示例](http://ankursinha.net/uploadify/uploads.php)检查文件路径链接，在不同的文件夹中仅上传图像或文档两次，三遍，看看它是如何变化的。

然后我想显示文件上传进度，所以我下载并开始使用这个uploadify。并遇到以下问题。

这里有两个问题：1）当我点击选择文件并选择一个文件的那一刻，文件被上传，但是我在任何地方都找不到它，虽然我已经设置了targetFolder 2）我想先选择路径，然后选择文件，然后单击上传（如示例中所示），然后我希望它上传到我从下拉列表中选择的指定目录中。

演示链接：[上传失败示例](http://ankursinha.net/uploadify/upload.php)

这是我的代码：

```
 <!DOCTYPE html>
<html lang="en">
    <head>
        <meta http-equiv="content-type" content="text/html; charset=UTF-8">
        <title> SRMUARD - Upload </title>
        <link rel="stylesheet" type="text/css" href="uploadify.css" />
        <script type="text/javascript" src="http://code.jquery.com/jquery-1.7.2.min.js"></script>
        <script type="text/javascript" src="jquery.uploadify-3.1.min.js"></script>  
        <script type="text/javascript">
            $(function() {
                $('#file_upload').uploadify({
                    'swf'      : 'uploadify.swf',
                    'uploader' : 'uploadify.php',
                    'progressData' : 'speed',
                    'folder': <?php echo $targetFolder; ?>
                });
            });
        </script>
        <script type="text/javascript">
            function val()
            {
                if(document.uploads.three.selectedIndex == 0)
                {
                    alert("Please choose all the appropriate options");
                }
            }
        </script>   
        <script>
            $(function() {
                $("#text-one").change(function() {
                $("#text-two").load("textdata/" + $(this).val() + ".txt");
                });
                $("#text-two").change(function() {
                $("#text-three").load("textdata/" + $(this).val() + ".txt");
                });
            });
         </script>

    </head>
    <body>
        <div>
            <form action="uploadify.php" method="POST" enctype="multipart/form-data" name="upload" id="upload">
                <label for="file">Choose a file: </label><br/>

                    <select id="text-one" name="one">                   
                        <option selected value="base">Select Department</option>
                        <option value="CSE" name="cse">Computer Science Engineering</option>
                        <option value="ECE" name="ece">Electronics & Communication Engineering</option>
                        <option value="MECH" name="mech">Mechanical Engineering</option>                        
                    </select><br/><br/> 
                    <select id="text-two" name="two">
                        <option>Select Semester</option> //Displays options dynamically using text files
                    </select><br/><br/>                 
                    <select id="text-three" name="three">
                        <option>Select Subject</option> //Displays options dynamically using text files
                    </select><br/><br>  
                    <input type="file" name="file_upload" id="file_upload" ><br/><br/>  
                    <input type="submit" name="upload" id="submit" value="Upload" onClick="val()" />        
            </form>
        <div>
    </body>
</html> 
```

这是我的 uploadify.php 文件：

```
 <?php

    if(isset($_POST['upload']))  //checking if the path is set
   { 
      $path1=$_POST['one']."/"; //path1
      $path2=$_POST['two']."/"; //path2
      $path3=$_POST['three']."/";   //path3
      $targetFolder=$path1.$path2.$path3; //final path without the file
   }
   else
   {
      echo "Select a Subject";
      echo "<br>";
   }

if (!empty($_FILES)) {
    $tempFile = $_FILES['file_upload']['tmp_name'];
    $targetPath = $_SERVER['DOCUMENT_ROOT'] . $targetFolder;
    $targetFile = rtrim($targetPath,'/') . '/' . $_FILES['file_upload']['name'];
    // Validate the file type
    $fileTypes = array('jpg','jpeg','gif','png'); // File extensions
    $fileParts = pathinfo($_FILES['file_upload']['name']);
    if (in_array($fileParts['extension'],$fileTypes)) {
        move_uploaded_file($tempFile,$targetFile);
        echo $targetFolder . '/' . $_FILES['file_upload']['name'];
    } else {
        echo 'Invalid file type.';
    } 
?> 
```

请帮我解决这个问题，让我显示进度条并将其上传到正确的目标文件夹。

谢谢你

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-22T08:29:39.120

这个 plagin 'uploadify' 会在您选择表单元素之前上传文件。您可以像这样在参数“formData”中添加数据：

```
$(function() {
var one = $('#text-one').val();
var two = $('#text-two').val();
var one = $('#text-three').val();
$('#file_upload').uploadify({
'swf' : 'uploadify.swf',
'uploader' : 'uploadify.php',
'progressData' : 'speed',
'formData': {'one':one,'two':'two','three':three},
'folder': 
});
}); 
```

答案将在“onUploadComplete”事件中出现

# iphone - 从 UILable/UITextView 中查找最后一行文本

> ID：14393709
> 
> 赞同：3
> 
> 时间：2013-01-18T06:43:04.790
> 
> 标签：iphone, ios, objective-c, ios6, uitextview

这是我的 UILable 中的文本...

“这个列表实际上并不是基于直接的受欢迎程度计算；简单地计算阅读次数最多的经文会产生前 100 个列表，该列表几乎完全由约翰福音 3:16 和哥林多前书 13、创世记 1、罗马书 8 和诗篇 23。我们的列表反而考虑了 BibleGateway.com 用户一次看三节或更少节经文的例子。

我如何获得文本的最后一行……即，“一次只有三节或更少的诗句。” 从我的可用。

非常感谢任何解决方案。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-18T07:17:48.700

我可以给出一个想法。愿这对你有所帮助。

```
 UILabel *myLabel = [[UILabel alloc] initWithFrame:CGRectMake(50,50,200,350)];
    myLabel.numberOfLines = 0;
    myLabel.lineBreakMode = UILineBreakModeWordWrap;
    myLabel.text = @"This is some text in a UILabel which is long enough to wrap around the lines in said UILabel. This is a test, this is only a test.";
    [self.view addSubview:myLabel];
    CGSize labelSize = [myLabel.text sizeWithFont:myLabel.font 
                                constrainedToSize:myLabel.frame.size 
                                    lineBreakMode:UILineBreakModeWordWrap];
    CGFloat labelHeight = labelSize.height;
    NSLog(@"labelHeight = %f", labelHeight);
    [myLabel release]; 
```

用上面你可以得到标签的高度，然后你可以通过将高度除以一些适当的数字来获得行数，这取决于字体大小。

1）在此之后`NSAttributedString`从您的`UILabel`. 2）从`NSAttributedString`你可以得到“\n”个字符。3) 获取最后一个 "\n" 并从此索引中提取值到最后一个索引。

# javascript - 当我更改标签时，Javascript，Jquery 不起作用

> ID：14393714
> 
> 赞同：1
> 
> 时间：2013-01-18T06:43:40.877
> 
> 标签：javascript, jquery, jira

我应用以下脚本为我在应用程序 (JIRA) 中添加的评论添加颜色。

```
<script type="text/javascript">
$(document).ready(function() {
    $(".activity-comment:even").css("background-color","#6699FF"); 
    $(".activity-comment:odd").css("background-color","#B2CCFF"); 
}); 
```

[评论 http://i.minus.com/jFoE7kcaTqdrp.JPG](http://i.minus.com/jFoE7kcaTqdrp.JPG)

应用脚本后，评论显示如上，但是当我移动到其他选项卡（即工作日志、历史记录）或添加新评论时，脚本不起作用。我需要刷新页面才能执行脚本。

有人可以帮我如何永久设置颜色吗？

注意：我在应用程序公告横幅上应用了 javascript，这使得脚本在应用程序的每个页面上运行，我可以对源文件进行更改。

提前致谢 ：）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-18T07:02:17.623

我认为您可以通过两种方式实现这一目标：

**1- 通过使用 CSS**：在您的 css 文件中，只需添加以下代码行：

```
.activity-comment:even{
    background-color: #6699FF;
}
.activity-comment:odd{
    background-color: #B2CCFF;
} 
```

**2- 通过 Jquery**：在这种情况下，使用jquery 的[.live()](http://api.jquery.com/live/)函数来实现动态添加评论的样式。比如获取评论提交按钮的id（假设：comment_add），然后：

```
$("#comment_add").live('click',function(){
    $(".activity-comment:even").css("background-color","#6699FF"); 
    $(".activity-comment:odd").css("background-color","#B2CCFF");
}); 
```

我想它会对你有所帮助。

# c - 如何在 Stellaris 中的程序之间跳转

> ID：14393715
> 
> 赞同：5
> 
> 时间：2013-01-18T06:43:42.033
> 
> 标签：c, embedded, bootloader, keil

我正在为 Stellaris LM3S1607 芯片开发引导加载程序。我正在使用 Keil MicroVision4 C 编译器。这个想法是创建 2 个独立的固件，一个将更新另一个。在固件 1 中，我下载了固件 2 文件并将其写入地址 0x3200 的闪存。直到这里它正在工作。我还验证了数据是否正确写入闪存。现在我有两个应用程序。一个是我的 uip 引导加载程序，而 seoncd 一个是我的主要项目。我想知道如何从第一个程序跳转到位于 0x3200 的第二个程序。

如果有人可以帮助我跳，那就太好了。谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-18T19:58:49.720

这将适用于任何 Cortex-M 部分......

创建一个汇编函数，如：

```
__asm void boot_jump( uint32_t address )
{
   LDR SP, [R0]       ;Load new stack pointer address
   LDR PC, [R0, #4]   ;Load new program counter address
} 
```

内联汇编语法各不相同；这个例子是 Keil ARM-MDK / ARM RealView。

然后在引导加载程序结束时：

```
// Switch off core clock before switching vector table
SysTick->CTRL = 0 ;

// Switch off any other enabled interrupts too
...

// Switch vector table
SCB->VTOR = APPLICATION_START_ADDR ;

//Jump to start address
boot_jump( APPLICATION_START_ADDR ) ; 
```

请注意，在这种情况下，APPLICATION_START_ADDR 是链接应用程序代码的基地址或位置地址（在这种情况下为 0x3200），而不是链接映射中指示的入口点。应用程序向量表位于该地址，向量表的开头包含应用程序的初始堆栈指针地址和程序计数器（实际代码入口点）。

该`boot_jump()`函数从应用程序的向量表中加载堆栈指针和程序计数器，模拟复位时从闪存的基址（引导加载程序的向量表）加载它们时发生的情况。

请注意，您必须在应用程序代码的链接器设置中将起始地址设置为与引导加载程序将复制映像的起始地址相同。如果您使用的是 Keil 调试器，您将无法在没有引导加载程序存在的情况下在调试器中加载和运行应用程序（或者至少在没有正确手动设置 SP 和 PC 或使用调试器脚本的情况下），因为调试器会加载重置向量地址而不是应用程序向量地址。

在切换向量表之前禁用中断很重要，否则在应用程序初始化之前发生的任何中断都将向量到应用程序的处理程序，并且可能还没有准备好。

请注意您在应用程序和引导代码中使用的任何外围设备，如果外围寄存器已由引导代码设置，则有关复位条件的任何假设都可能不成立。

# java - 在不知道操作系统的情况下从 java 启动命令行

> ID：14393716
> 
> 赞同：1
> 
> 时间：2013-01-18T06:43:45.207
> 
> 标签：java

有没有办法在不知道操作系统的情况下从 java 启动命令行？例如，该方法将打开 Linux 操作系统的终端外壳并打开 Windows 的命令行。

我确实知道（通过查看以前的问题）我可以检查操作系统，然后打开正确的命令行，但是有没有办法从与操作系统无关的 java 方法打开命令行？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-18T07:02:04.677

跨平台没有直接或统一的方式来做到这一点。您可以完成的一种方法是

1.  确定操作系统（使用`System.getProperty("os.name")`）。
2.  然后根据操作系统，执行操作系统特定的命令。

例如：（摘自[此处](http://www.mkyong.com/java/how-to-detect-os-in-java-systemgetpropertyosname/)的片段）

```
 String OS = System.getProperty("os.name").toLowerCase();

        if (isWindows(OS)) {
            String path = "c:\\";
            Runtime.getRuntime().exec(new String[] { "cmd.exe", "/C", "\"start; cd "+path+"\"" });;
        } else if (isMac(OS)) {
            //Open Mac Prompt
        } else if (isUnix(OS)) {
            //Open UnixPrompt
        } else if (isSolaris(OS)) {
            //Open Solaris Prompt
        } else {
            System.out.println("Your OS is not support!!");
        }

public static boolean isWindows(String OS) {

        return (OS.indexOf("win") >= 0);

    }

    public static boolean isMac(String OS) {

        return (OS.indexOf("mac") >= 0);

    }

    public static boolean isUnix(String OS) {

        return (OS.indexOf("nix") >= 0 || OS.indexOf("nux") >= 0 || OS.indexOf("aix") > 0 );

    }

    public static boolean isSolaris(String OS) {

        return (OS.indexOf("sunos") >= 0);

    } 
```

请查找不同操作系统的相关代码

注意：它只是一个代码片段。它不会按原样编译。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-18T12:17:09.483

在任何操作系统上安装 Java 后，您所做的就是使用它来创建自己的程序。Windows 中的命令行或 Linux 中的终端是操作系统的属性。

因此，即使 Java 中有一个 API 可以直接打开终端，该方法也会在内部检查操作系统。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-18T06:47:01.440

命令：

```
Runtime.getRuntime().exec("command") 
```

将适用于所有台式机/笔记本电脑操作系统平台。

# javascript - Jquery中的for循环用于文件验证

> ID：14393717
> 
> 赞同：0
> 
> 时间：2013-01-18T06:43:48.097
> 
> 标签：javascript, jquery, for-loop

我在下面构建了这个脚本，以便在将文件添加到标签后立即对其进行验证。此标签的 ID 是“#audiofile”。我计划有多个输入字段（#audiofile1、#audiofile2、#audiofile3），我不想重复这个脚本，比如 10 次检查 10 个文件。我怎样才能把它放在一个 for 循环中并让它检查所有字段？

```
$('#audiofile').bind('change', function() {

if (this.files[0].type != 'image/png') {
  $('#audiofile').each(function(){
  $(this).after($(this).clone(true)).remove();
});

$('#message').html('Invalid file type'); 
alert(this.files[0].name + ' is not a valid file type. MP3 Format only.');

} else {  

  if (this.files[0].size > '5000') {

    $('#audiofile').each(function() {
      $(this).after($(this).clone(true)).remove();
    });

    $('#message').html('To Large');  
    alert(this.files[0].name + ' exceeds the maximuim file size.');
  } else {
     $("#audiofile").fadeTo(1500, 0.20);
    $('#message').html('Added');
    alert(this.files[0].name + ' was added successfuly.');
  }
}
}); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-18T06:47:01.457

将类添加到每个输入字段并在每个循环中使用 jquery。

[每个描述](http://api.jquery.com/jQuery.each/)

```
$("input.fileclass").each(function( index ){
          $(this)....//reference to input box
}); 
```

# c# - 未填充数据集

> ID：14393718
> 
> 赞同：-1
> 
> 时间：2013-01-18T06:43:50.760
> 
> 标签：c#

以下功能给了我一个错误：

```
FillFields("select Housemcode,Name, HP,Rateperhour ,Resource_H_Code FROM House_Machinery where Housemcode like '" + sSearch + "'");

public void FillFields(string sSQL)
    {
        sCommands.setSqldbCommand(sVariables.sDataSet, sVariables.sSqlDbDataAdapter, sSQL, "House_Machinery");
        DataRow sDataRow = sVariables.sDataSet.Tables["House_Machinery"].Rows[0];
        txtItemName.Text = sDataRow["Name"].ToString();
        txtrate.Text = sDataRow["HP"].ToString();
        txtrate.Text = sDataRow["Rateperhour"].ToString();
        Variables.StrResourceHeaderCode = sDataRow["Resource_H_Code"].ToString();

    } 
```

错误是：位置 0 没有行。

任何人都可以对此有所了解吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-18T06:47:22.323

您的查询根本没有返回任何行。尝试直接在 SQL Management Studio 中运行 SQL 查询以确认返回数据。

顺便说一句，您可以通过计算返回的行数来检查是否在运行时返回了任何数据：

```
sCommands.setSqldbCommand(sVariables.sDataSet, sVariables.sSqlDbDataAdapter, sSQL, "House_Machinery");
if(sVariables.sDataSet.Tables["House_Machinery"].Rows.Count == 0)
   throw new Exception("No matching rows found");
DataRow sDataRow = sVariables.sDataSet.Tables["House_Machinery"].Rows[0]; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-18T06:57:12.967

```
1.Just check with Breakpoints if it works well,
2.Does your Sql query working in sql server ? check that it may circle it out.
3.Check your wildcard "%like%",this may have issues.

 void somewhereelse()
{
  string qry = "select Housemcode,Name, HP,Rateperhour ,Resource_H_Code FROM House_Machinery    where Housemcode like '" + sSearch + "'";
  filldetails(qry);
}

protected void filldetails(string someqry)
{
  Sqlconnection conn = new SqlConnection("Connectionstring");      
  Datatable dt = new Datatable();
  try
   { 
    conn.Open();
    SqlDataAdapter dap = new SqlDataAdapter(someqry,conn);
    dap.fill(dt);
    if(dt.rows.count >0)
      {
       txtItemName.Text = dt.rows.[0]["Name"].ToString();
       txtrate.Text = dt.rows.[0]["HP"].ToString();
       txtrate.Text = dt.rows.[0]["Rateperhour"].ToString();
      }

   }
 catch
   {
     throw;
   }
 finally
   {
     if(conn!= null)
      {
        conn.close();
       }
   } 
```

# javascript - 为什么我的代码没有产生预期的结果？它打印的比我想要的多

> ID：14393722
> 
> 赞同：3
> 
> 时间：2013-01-18T06:44:15.187
> 
> 标签：javascript

这是我的代码，我希望它打印出一个数字，而是打印出一个数字加上我的所有代码。

```
function Employee(salaryJan, salaryFeb, salaryMar){
    this.salaryJan = salaryJan;
    this.salaryFeb = salaryFeb;
    this.salaryMar = salaryMar;
}

var dennis = new Employee(6575, 7631, 8000);

Employee.prototype.sumAll = function(){
    var sum = 0;
    for (salary in this){
        sum += this[salary];
    }
    console.log(sum);
};

dennis.sumAll(); 
```

目前我的代码打印出来：

```
22206function (){
    var sum = 0;
    for (salary in this){
        sum += this[salary];
    }
    console.log(sum);
} 
```

我只是想要`22206`，我不知道为什么它还会打印出一些代码。

我有一个 JSFiddle 小提琴：http: [//jsfiddle.net/dennisboys/LZeQr/1/](http://jsfiddle.net/dennisboys/LZeQr/1/)

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-18T06:46:13.267

这是问题所在：

```
for (salary in this) 
```

这将遍历`this`. 让我们看看这些属性：

```
this.salaryJan
this.salaryFeb
this.salaryMar
Employee.prototype.sumAll 
```

您有 4 个属性，这是您看到的打印到控制台的内容。

您应该使用以下[`hasOwnProperty`](https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/Object/hasOwnProperty)方法：

```
for (prop in this) {
    if (this.hasOwnProperty(prop)) 
        sum += this[prop];
    }
} 
```

这是一个[现场演示](http://jsfiddle.net/SnQcd/1/)。

# solr - MySQL 数据库未建立索引

> ID：14393727
> 
> 赞同：0
> 
> 时间：2013-01-18T06:44:32.527
> 
> 标签：solr

我是 Solr 的新手。当我索引我的数据库时，它成功获取了所有行，但输出显示它们没有被索引。以下是详细信息：

**我的 data-config.xml 设置**

```
 <entity name="company" query="select report_number, company_name from company">
        <field column="report_number" name="country_id"/>
        <field column="company_name" name="country_name"/> 
    </entity> 
```

Report_number 和 company_name 在数据库中都是 varchar 数据类型。

**我在其中定义字段的 Schema.xml 文件**

```
 <field name="country_id" type="string" indexed="true" stored="true" required="false" />      
    <field name="country_name" type="string" indexed="true" stored="true" required="false" /> 
```

**这是浏览器输出**

![](../Images/71f041bda9e4f3b418cd647c80025504.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-18T13:06:15.593

作为示例模式的一部分，定义了 uniqueKey 字段：

```
 <!-- Field to use to determine and enforce document uniqueness. 
      Unless this field is marked with required="false", it will be a required field
  -->
 <uniqueKey>id</uniqueKey> 
```

正如评论所述，除非您将该字段标记为`required="false"`必须将该字段包含在添加到索引的所有项目中。除非您已将此条目修改为自定义字段之一，否则您将需要在 schema.xml 中更改此条目或`id`在 data-config.xml 设置中提供一个字段条目以及其他两个字段。

# php - 如何使用 php 更新（覆盖）json 文件

> ID：14393732
> 
> 赞同：-1
> 
> 时间：2013-01-18T06:44:48.923
> 
> 标签：php, json, codeigniter

```
[
  {
     "id"  : 1,
    "name"  : "levin",
    "description" : "some desc",
    "size"  : "100KG",
     "actions" : {
                 "walking" : true,
                  "eating" : true
                  }
  },
  {
    "id"  : 2,
    "name"  : "clara",
    "description" : "some desc",
    "size"  : "2000KG",
     "actions" : {
                 "walking" : false,
                  "eating" : true
                  }

  }
] 
```

这是我的 person.json 文件。我喜欢更新（覆盖）现有值。我没有找到任何有用的问题。

我有一个名字“levin”，我喜欢将其覆盖为空或“---”。但它应该只基于“id”。以下是我的 php 代码，但它不起作用:(

```
public function api_put()
    {
         //print($this->put('id')); am getting here 2 value from other page 
        //print($this->put('action'));.

        if($this->put('action') == "remove"){
            $file = json_decode(file_get_contents("assets/json/person.json"));
            $new_val = array();
            $i = 0 ;
            foreach ($file as $key => $value) {
                if((string)$value->id == $this->put('id')) {
                    $data[] = (string)$value->name="--";(string)$value->description="--";
                    $new_val[$i] =  $data;
                    $i++;
                }

            }
            file_put_contents('assets/json/person.json', json_encode($new_val));
            $message = array('id' => $this->put('id'), 'message' => 'Successfully updated!!');

            $this->response($message, 200); 
        }
    } 
```

我如何覆盖 json 值取决于特定的 id 并且不更改所有其他 id 数据。我正在使用 codeigniter REST api。提前致谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-18T07:32:40.787

有几件事。

1.  您不需要`$new_val`数组，只需在适当的位置编辑这些资源即可。
2.  PHP 是[弱类型](http://en.wikipedia.org/wiki/Weak_typing)`(string)$value->id == $this->put('id')`的，所以没有必要这样做。PHP 引擎将为您执行此转换。
3.  在等号的左边强制转换什么都不做。`(string)$value->description="--";`该声明无效。
4.  这在任何编程语言中都是糟糕的形式......`(string)$value->name="--";(string)$value->description="--";`执行两个操作的两条语句应该在两条不同的行上。
5.  一般概念，您的代码应该易于阅读。把它放开一点，让它呼吸。当你多年后回到你的代码时，你会很高兴你这样做了。

* * *

```
public function api_put()
{
    if ($this->put('action') == 'remove')
    {
        $file = json_decode(file_get_contents('assets/json/person.json'));

        foreach ($file as $key => $value)
        {
            if ($value->id == $this->put('id'))
            {
                $value->name = '--';
                $value->description = '--';
            }
        }

        file_put_contents('assets/json/person.json', json_encode($file));

        $message = array('id' => $this->put('id'), 'message' => 'Successfully updated!!');

        $this->response($message, 200);
    }
} 
```

那里，不是更好吗？

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-18T07:03:14.753

我认为您必须像这样循环才能存储所有详细信息

```
foreach ($file as $key => $value) {
    if((string)$value->id == $this->put('id')) {
        $value->name="--";(string)$value->description="--";
    }
        $new_val[$i] =  $value;
    $i++;

} 
```

# inno-setup - 如何在自定义页面处理后强制调用 Check 谓词

> ID：14393738
> 
> 赞同：4
> 
> 时间：2013-01-18T06:45:25.033
> 
> 标签：inno-setup, pascalscript

我`Check`在组件部分使用参数来检查用户是否选中了某个单选按钮。

在向用户显示自定义页面之前调用我的谓词，并且我总是返回默认值。

如何从自定义页面获取用户输入以影响最终组件选择？

```
[Components]
Name: common; Description: Common files; Types: server client custom; Flags: fixed
Name: client; Description: Client; Types: client; Check: IsClient
Name: server; Description: Server; Types: server

[Code]
var ClientButton: TNewRadioButton;

procedure InitializeWizard;
var
  CustomPage: TWizardPage;
begin
  CustomPage := CreateCustomPage(wpWelcome, 'Installation type', '');
  { CreateRadioButton function is defined elsewhere }
  ClientButton := CreateRadioButton(CustomPage, 16, 'Client', ''); 
end;

function IsClient: Boolean;
begin
  Log('IsClient() called');
  if Assigned(ClientButton) then
    Result :=  ClientButton.Checked
  else 
    Result :=  True;
end; 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-01T04:55:28.827

以下脚本在自定义页面上创建两个单选按钮，并根据它们的选择从组合框中选择安装类型（在组件选择页面上）。此选择仅在您离开该自定义页面时发生，因此您在该组合框中所做的选择更改将保留，除非您再次访问该自定义页面：

```
[Types]
Name: "client"; Description: "Client installation"
Name: "server"; Description: "Server installation"
Name: "custom"; Description: "Custom installation"; Flags: iscustom

[Components]
Name: "common"; Description: "Common files"; Types: client server custom; Flags: fixed
Name: "client"; Description: "Client files"; Types: client
Name: "server"; Description: "Server files"; Types: server

[Files]
Source: "Common.exe"; DestDir: "{app}"; Components: common
Source: "Client.exe"; DestDir: "{app}"; Components: client
Source: "Server.exe"; DestDir: "{app}"; Components: server

[Code]
var
  CustomPage: TWizardPage;
  ClientButton: TNewRadioButton;
  ServerButton: TNewRadioButton;

function CreateRadioButton(AParent: TWizardPage; ATop: Integer; 
  ACaption: string; AHint: string): TNewRadioButton;
begin
  Result := TNewRadioButton.Create(WizardForm);
  with Result do
  begin
    Parent := AParent.Surface;
    Top := ATop;
    Width := AParent.SurfaceWidth;
    Caption := ACaption;
    Hint := AHint;
  end;
end;

procedure InitializeWizard;
begin
  CustomPage := CreateCustomPage(wpWelcome, 'Installation type', '');
  ClientButton := CreateRadioButton(CustomPage, 16, 'Client', ''); 
  ServerButton := CreateRadioButton(CustomPage, 34, 'Server', '');
end;

function NextButtonClick(CurPageID: Integer): Boolean;
begin
  Result := True;
  if CurPageID = CustomPage.ID then
  begin
    if ClientButton.Checked then
      WizardForm.TypesCombo.ItemIndex := 0
    else
    if ServerButton.Checked then
      WizardForm.TypesCombo.ItemIndex := 1;
    WizardForm.TypesCombo.OnChange(WizardForm);
  end;
end; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-18T10:07:53.473

目前没有办法做到这一点。组件的检查函数通常在显示任何向导页面之后`InitializeSetup`但之前调用。`InitializeWizard`

有一些解决方法，但在这种情况下，您似乎在滥用组件。

如果您已经有一个自定义页面提供服务器或客户端之间的选择，则无需在“组件”页面上再次呈现相同的选择（组件是纯 UI ——除此之外它们没有特殊含义，与其他一些安装系统不同）。

因此，您应该完全删除组件，`Check`直接在`Files`或其他条目上使用，而不是`Components`条件。

# javascript - Jquery .text() 不工作

> ID：14393740
> 
> 赞同：1
> 
> 时间：2013-01-18T06:45:30.007
> 
> 标签：javascript, jquery, html

我有一个这样的锚标签：

```
<a id="1_18_shazin@mycompany.com" class="big-link" href="">4</a> 
```

现在我正在尝试用以下代码替换文本

```
a = 1;
b = 18;
c = "shazin@mycompany.com";
var tempId = "#"+a+"_"+b+"_"+c;
$(tempId).text("some text"); 
```

这永远不会奏效。我尝试了 .html()、.append()。看起来它永远找不到ID。但如果我按类名调用事件，它会起作用。

```
$(".big-link").text("some text"); 
```

有什么线索吗？提前致谢。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-01-18T06:55:53.520

问题在于您构建 ID 值的方式。问题是

1.  以数字开头
2.  用于 @
3.  用于 。

我删除了这些，jquery text() 对我来说工作得很好。检查这个小提琴：http: [//jsfiddle.net/kDnmu/](http://jsfiddle.net/kDnmu/)

HTML

```
<a id="A_1_18_shazin_mycompany-com" class="big-link" href="">4</a> 
```

jQuery

```
a = 1;
b = 18;
c = "shazin_mycompany-com";
var tempId = "#A_"+a+"_"+b+"_"+c;
$(tempId).text("some text"); 
```

有关什么是有效 id 的详细信息，请查看此 SO 答案：[HTML 中 id 属性的有效值是什么？](https://stackoverflow.com/questions/70579/what-are-valid-values-for-the-id-attribute-in-html)

**编辑：**如果您正在动态构建这些 ID，请考虑使用您自己的一些逻辑来转义它们。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-01-18T07:07:14.630

试试这个：http: [//jsfiddle.net/LPuTr/](http://jsfiddle.net/LPuTr/)

```
a = 1;
b = 18;
c = "shazin@mycompany.com";
aaa = a+'_'+b+'_'+c;

$('a[id="'+aaa+'"]').text("some text"); 
```

有关更多信息`ids`，`html 5`请参见： http: [//mathiasbynens.be/notes/html5-id-class](http://mathiasbynens.be/notes/html5-id-class)

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-01-18T06:54:41.723

您需要使用 . 转义点 (.) 和`@`字符`\\`。试试这个

```
$("#1_18_shazin\\@mycompany\\.com").text("some text"); 
```

试试这个：http: [//jsfiddle.net/HLtz9/10/](http://jsfiddle.net/HLtz9/10/)

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-01-18T06:54:49.277

您的 id 中有非法字符，id 也不能以数字开头

[HTML 中 id 属性的有效值是什么？](https://stackoverflow.com/questions/70579/what-are-valid-values-for-the-id-attribute-in-html)

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-01-18T07:00:57.890

在我看来，你必须放松期。和 alpha @ 然后它就可以工作了！

[HTML 中 id 属性的有效值是什么？](https://stackoverflow.com/questions/70579/what-are-valid-values-for-the-id-attribute-in-html)

我明白为什么 alpha，但我不知道期间：/

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-01-18T07:04:05.020

[这是工作的JSfiddle](http://jsfiddle.net/zaheerahmed/zpTaG/)

问题是您正在使用`@`并且`.`在您的 id 中

> ID 和 NAME 标记必须以字母 ([A-Za-z]) 开头，后跟任意数量的字母、数字 ([0-9])、连字符 ("-")、下划线 ("_") , 冒号 (":") 和句点 (".")。

`@`虽然 ID 是不合法的`.`并且`:`是允许的，但应该避免它，因为：

> 例如，一个 ID 可以标记为“ab:c”并在样式表中引用为#ab:c，但除了作为元素的 id 之外，它还可以表示 id “a”、class “b”、伪选择器“c”

.

# css - 固定背景不起作用

> ID：14393741
> 
> 赞同：0
> 
> 时间：2013-01-18T06:45:30.373
> 
> 标签：css, background, attachment, fixed

我在几个具有相似布局的网页上嵌入了相同的 CSS 文件。

[这适用于除一个 ( http://1a23.com/green/wind.html](http://1a23.com/green/wind.html) )之外的所有网页。

```
body{  
    background: url('images/TextureBG.jpg') center fixed;  
} 
```

在此页面中，背景只能适合第一个屏幕区域，其余的背景将保持白色。重新渲染网页时（如调整窗口大小、刷新等）背景将定位到当前窗口大小，但其他部分保持白色。

此问题已在多台装有最新版 Chrome 和 Firefox 的计算机上进行测试。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-18T08:04:13.460

用这个

```
body {
background: url('images/TextureBG.jpg') center repeat;
color: white;
text-shadow: 0px 0px 5px black;
font-family: 'Helvetica', "Comic Sans MS";
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-18T08:15:02.333

你有几个 html 错误，如果你先清理它们会很好，所以我们知道没有一个是你问题的原因。

[http://validator.w3.org/check?uri=http%3A%2F%2F1a23.com%2Fgreen%2Fwind.html&charset=%28detect+automatically%29&doctype=Inline&group=0](http://validator.w3.org/check?uri=http%3A%2F%2F1a23.com%2Fgreen%2Fwind.html&charset=%28detect+automatically%29&doctype=Inline&group=0)

# python - 获取文件的最后访问时间？

> ID：14393744
> 
> 赞同：9
> 
> 时间：2013-01-18T06:45:48.550
> 
> 标签：python, file, inode

我想获取上次访问文件的时间，我尝试了以下代码：

```
import os, time

os.system("python test.py")
print os.stat('test.py').st_atime

time.sleep(60)

os.system("python test.py")
print os.stat('test.py').st_atime 
```

但每次输出都如下所示：

```
1358489344.72
1358489344.72 
```

我期待延迟之前和延迟之后的输出有所不同。每次运行代码时，输​​出也相同。

有什么问题？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-01-18T07:08:21.127

st_atime 字段由文件访问更改，例如，execve(2)、mknod(2)、pipe(2)、utime(2) 和 read(2)（大于零字节）。其他例程，如 mmap(2)，可能会也可能不会更新 st_atime。

当您运行“python test.py”时，它不会调用 read(2)，而是调用 mmap(2)。这就是访问时间没有更新的原因。

这是“strace python test.py”的输出

```
open("test.py", O_RDONLY)               = 3
fstat(3, {st_mode=S_IFREG|0644, st_size=36, ...}) = 0
mmap(NULL, 65536, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) = 0x2ad626cdd000 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-18T06:56:21.410

`noatime`也许文件系统是用选项挂载的

```
noatime
     Do not update inode access times on this filesystem 
     (e.g, for faster access on the news spool to speed up news servers). 
```

检查你的`/etc/fstab`

有关访问时间的更多信息[https://superuser.com/questions/464290/why-is-cat-not-sharing-the-access-time](https://superuser.com/questions/464290/why-is-cat-not-changing-the-access-time)

# python - Python - Pygame - 并非所有事件都在注册？

> ID：14393747
> 
> 赞同：0
> 
> 时间：2013-01-18T06:46:04.780
> 
> 标签：python, animation, pygame

当我在 linux 上进行测试时，一切都很好，但是在我的 windows 机器上，我不能沿对角线向下和向左移动（但可以向其他三个对角线移动）。

```
if event.type == QUIT or event.type == KEYDOWN and event.key == K_ESCAPE:
        self.running = False
    if event.type == KEYDOWN:
        if event.key == K_SPACE:
            self.player.shooting = True
        if event.key == K_UP:
            self.player.moving.add("forward")
        if event.key == K_DOWN:
            self.player.moving.add("back")
        if event.key == K_RIGHT:
            self.player.moving.add("right")
        if event.key == K_LEFT:
            self.player.moving.add("left")
    if event.type == KEYUP:
        if event.key == K_SPACE:
            self.player.shooting = False
        if event.key == K_UP:
            self.player.moving.remove("forward")
        if event.key == K_DOWN:
            self.player.moving.remove("back")
        if event.key == K_RIGHT:
            self.player.moving.remove("right")
        if event.key == K_LEFT:
            self.player.moving.remove("left") 
```

这是进行移动的更新方法：

```
def update (self, time_passed):

    tp = time_passed # From clock.tick(60)
    if self.moving:
        if "forward" in self.moving and (self.rect.top > 0):
            self.rect.move_ip(0, -self.speed*tp)
        if "back" in self.moving and (self.rect.bottom < self.screen_ref[1]):
            self.rect.move_ip(0, self.speed*tp)
        if "left" in self.moving and (self.rect.left > 0):
            self.rect.move_ip(-self.speed*tp, 0)
        if "right" in self.moving and (self.rect.right < self.screen_ref[0]):
            self.rect.move_ip(self.speed*tp, 0) 
```

我刚才检查以再次检查我没有破坏任何已确认的内容。对角向下和向左不起作用。我要么开始往下走，然后改为向左移动，要么开始向左移动，然后改为向下移动。任何人有任何想法为什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-18T07:40:47.860

如果此代码在 Linux 上运行，我希望它在 Windows 中的运行方式完全相同。此类问题通常与键盘的硬件限制有关。

您是否对两个测试使用完全相同的设置，特别是键盘？如果您在两个测试中使用相同的键盘，我会倾向于责怪 Windows 驱动程序。

在责备代码之前，请确保您可以同时按下这两个键并获得预期的结果。启动 Flash 游戏或其他东西以进行快速测试。

# c# - aspx 表单上的共享文件夹路径

> ID：14393751
> 
> 赞同：0
> 
> 时间：2013-01-18T06:46:17.747
> 
> 标签：c#, hyperlink, directory, shared

我在共享位置/文件夹中有一些文件。我需要在网页上提供链接/路径。如果用户单击该链接，用户应该能够查看该文件。我正在使用带有 C# (VS2010) 的 asp.net

上述要求是否可行？如果是，请帮助我启用此功能。

先感谢您

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-18T07:26:11.667

应该可以使用类似`file://server/share/path/to/file.txt`. Firefox 比 IE 更能容忍文件名中的字符编码，因此您可能需要`Server.UrlEncode`在文件路径上使用。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-18T07:28:40.970

我要做的是编写一个[ASHX 通用处理](http://www.dotnetperls.com/ashx)程序，在其中您将请求的文件名作为 URL 参数传递，并且 ASHX 处理程序实际上为您获取文件，将其发送到浏览器。

在我看来，这有以下好处：

*   它使用 HTTP 协议，而不是 FILE 协议。
*   您将内部结构保持在内部，而不会将它们暴露给访问者。
*   您可以实现访问权限和其他事情，因为文件是通过您的处理程序流式传输的，而不是由 Web 服务器 (IIS) 直接传递。

如果 NTFS 安全权限是一个问题，您可以使用模拟从您的共享文件夹位置获取文件。几年前我写了一个[小的模拟类来简化这个任务。](http://www.codeproject.com/Articles/10090/A-small-C-Class-for-impersonating-a-User)

# objective-c - 如何编写客观的 C 代码来检查数组/列表中任意三个数字的总和是否与给定数字匹配？

> ID：14393753
> 
> 赞同：0
> 
> 时间：2013-01-18T06:46:25.840
> 
> 标签：objective-c

> **可能重复：**
> [在数组中查找三个元素的总和最接近给定数字](https://stackoverflow.com/questions/2070359/finding-three-elements-in-an-array-whose-sum-is-closest-to-an-given-number)

如何编写 Objective C 代码来检查数组/列表中任意三个数字的总和是否与给定数字匹配？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-18T06:54:32.807

第 1 步：排序，O(nlgn)

第2步：迭代每个数字，比如A，（这花费O（n）），然后检查任何两个数字的总和是否等于给定数字减去A（这是一个花费O（n）的经典问题）

总复杂度：O(n^2)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-18T10:30:49.193

这是另一种方式

X,Y,Z 是数组的索引，并且 P 被赋予 Number 。

如果条件是 X+Y=P，那么我们对数组进行排序，然后我们选择每个元素，然后在剩余的数组中搜索 PY。如果搜索成功，那么很好，否则返回 False。

所以搜索需要 log(n) time(binary search) 所以对于 n 个元素它需要 O(nlog(n)) time 。

现在我们的条件是 X+Y+Z=P 我们推导出来 X+Y=PZ

```
Now Pick a number Z and calculate P-Z and let it be R . 
Now the problem is deduce to X+Y=R .So time complexity is O(nlog(n))
Since R varies n times for n picks in array so complexity is O((N^2)log(n))) . 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-18T07:41:16.713

这是 Python 中的一个蛮力解决方案，其价值仅在于其简洁性，而不在于其效率：

```
import itertools
def anyThreeEqualTo(list, value):
    return any([sum(c) == value for c in itertools.combinations(list, 3)]) 
```

另一个想法：

```
import itertools
def anyThreeEqualTo(list, value):
    for c in itertools.combinations(list, 3)])
        if sum(c) == value:
            return True
    return False 
```

这些解决方案依次尝试每个三元组，直到找到具有所需总和的一个。

# javascript - 替换输入outerHTML的Type属性文本

> ID：14393754
> 
> 赞同：0
> 
> 时间：2013-01-18T06:46:35.013
> 
> 标签：javascript

由于出于安全考虑，IE浏览器不支持`input`使用类型更改`setAttribute`，因此我遵循以下方式

```
 div.innerHTML = ele.outerHTML.replace('type=text' , 'type=password'); 
```

但是，如果`type="text"`或`type='text'`因为它没有被替换，这不起作用..是否有任何正则表达式可以以通用方式匹配并替换它？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-18T09:57:47.790

从评论扩展：

`String.replace`方法支持正则表达式，所以你可以试试：

```
div.innerHTML = ele.outerHTML.replace(/type\=['"]{0,1}text['"]{0,1}/i,"type='password'"); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-18T09:04:28.860

试试这个正则表达式，

```
.replace(/type\=['"]{0,1}text['"]{0,1}/i,"type='password'"); 
```

@路人，谢谢。

# android - 我们如何在Android中从左到右使用滑块抽屉

> ID：14393755
> 
> 赞同：1
> 
> 时间：2013-01-18T06:46:35.873
> 
> 标签：android, slider

我们如何在 Android 平板电脑中使用滑块抽屉从左到右流动。默认情况下滑块从下到上流动，但是当我们给它水平方向时，它的滑动流动是从右到左。但我需要它从左到右流动。

提前致谢

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2013-01-18T07:27:51.050

![在此处输入图像描述](../Images/077f96c6680e477d4685a5ad2cd40f45.png)

你需要这样的东西吗..

```
 <com.example.example.SlidingDrawer
     xmlns:my="http://schemas.android.com/apk/res/com.example.example"
     android:id="@+id/drawer"
     android:layout_width="301dp"
     android:layout_height="wrap_content"
     my:content="@+id/content"
     my:direction="leftToRight"
     my:handle="@+id/handle" >
      <ImageView 
   android:id="@+id/handle"
   android:layout_width="wrap_content"
   android:layout_height="fill_parent" 
   android:src="@drawable/tags"/>

  <LinearLayout
      android:id="@+id/content"
      android:layout_width="wrap_content"
      android:layout_height="fill_parent"
      android:background="@drawable/slidimage"
      android:orientation="vertical"
      android:layout_gravity="right"
      android:padding="10dp" >
</LinearLayout>
    </com.example.example.SlidingDrawer> 
```

[在这里您可以找到示例。](http://seasonofrejoice.blogspot.in/2013/01/sliding-drawer-in-android.html)

# python - 在 ubuntu-lucid 中使用 virtualenv 安装 python2.7

> ID：14393759
> 
> 赞同：0
> 
> 时间：2013-01-18T06:46:42.120
> 
> 标签：python, ubuntu, virtualenv

我有`python2.6`。`ubuntu lucid`我已经为 python2.6 安装了 virtualenv 1.8.2。有`virtualenv-1.8.2-py2.6.egg`in`/usr/local/lib/python2.6/dist-packages`文件夹。

我想使用 virtualenv 安装 python2.7，这样我就可以测试我的一些代码。我该怎么做？我试过了

```
virtualenv venv27 --distribute --no-site-packages --python=python2.7 
```

这给出了一个错误

```
The executable python2.7 (from --python=python2.7) does not exist 
```

请告诉我该怎么做？我必须升级我的操作系统吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-18T22:12:12.367

`virtualenv`不下载或安装 Python（不同于 Ruby 的`rvm`）。

当您指定要`virtualenv`基于 ( `--python=PYTHON_BIN`) 的 python 时，该可执行文件必须存在。`virtualenv`使用该 python 安装来创建其符号链接、shebangs 和所有内容。

正如@Blender 和@Dikei 告诉您的那样，在创建`virtualenv`.

# c# - 查询在 logdatetime 范围内删除日志

> ID：14393761
> 
> 赞同：3
> 
> 时间：2013-01-18T06:46:47.447
> 
> 标签：c#, .net, xml, xpath

```
<?xml version="1.0"?>
<AppXmlLogWritter>
  <LogData>
    <LogID>5678201301161640382919</LogID>
    <LogDateTime>20130114164038</LogDateTime>            
  </LogData>
  <LogData>
    <LogID>5678201301161640382920</LogID>
    <LogDateTime>20130115154040</LogDateTime>           
  </LogData>
  <LogData>
  <LogID>5678201301161640382921</LogID>
  <LogDateTime>20130116164042</LogDateTime>          
  </LogData>
</AppXmlLogWritter> 
```

为了删除我在 xpath 查询下使用的一个节点

```
string xpathQuery = "/AppXmlLogWritter/LogData[LogDateTime ='" + txtToDate.Text.Trim() + "']";
XmlNodeList objxmlNodeList = objXmldoc.SelectNodes(xpathQuery);
for (int i = 0; i <= objxmlNodeList.Count - 1; i++)
{
    objxmlNodeList[i].ParentNode.RemoveChild(objxmlNodeList[i]);
    lblMessage.Text = "Record deleted sucessfully.";
} 
```

我正在编写各种应用程序的 XML 文件的日志。用户可以在哪里删除 LogDateTime 范围之间的日志。我的 XPath 查询如何删除 LogDateTime 范围之间的日志。

示例：如果我必须删除日期时间范围 20130116164038 到 20130116164040 之间的日志。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-18T06:55:57.667

试试这个：

```
strXpathQuery = "/AppXmlLogWritter/LogData[LogDateTime >='" + txtFromDate.Text.Trim() + "' and LogDateTime <='" + txtToDate.Text.Trim() +"']"; 
```

要在指定日期获取所有日志数据，您可以使用以下命令：

```
strXpathQuery = "/AppXmlLogWritter/LogData[starts-with(LogDateTime, '20130116')]"; 
```

要获得从 '20130114' 到 '20130116' 范围内的所有内容，您可以使用以下命令`logdata`：`LogDateTime`

```
strXpathQuery = "/AppXmlLogWritter/LogData[substring(LogDateTime, 1, 8) >='20130114' and substring(LogDateTime, 1, 8) <='20130116']"; 
```

# c - 执行 bash 命令并在 C 中获取输出

> ID：14393762
> 
> 赞同：1
> 
> 时间：2013-01-18T06:46:50.490
> 
> 标签：c, linux, bash, command

您好，我在网上看到了一些解决方案，基本上都是创建一个文件，但是我想将它们存储在一个 char 数组中。速度对我来说真的很重要，我不想花时间在硬盘上工作。所以`popen()`对我来说不是一个真正的解决方案。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-01-18T09:44:36.110

这是一个工作代码片段：

```
char bash_cmd[256] = "ls -l";
char buffer[1000];
FILE *pipe;
int len; 

pipe = popen(bash_cmd, "r");

if (NULL == pipe) {
    perror("pipe");
    exit(1);
} 

fgets(buffer, sizeof(buffer), pipe);

len = strlen(buffer);
buffer[len-1] = '\0'; 

pclose(pipe); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-18T08:28:37.683

If you would read the manpage of popen, you would notice the following:

> The popen() function opens a process by creating a pipe, forking, and invoking the shell. [...] The return value from popen() is a normal standard I/O stream in all respects save that it must be closed with pclose() rather than fclose(3). [...] **reading from a "popened" stream reads the command's standard output**, and the command's standard input is the same as that of the process that called popen().

(emphasis mine)

As you can see, a call to `popen` results in the `stdout` of the command being piped into your program through an **I/O stream**, which has nothing to do with disk I/O at all, but rather with interprocess communication managed by the operating system.

(As a sidenote: It's generally a good idea to rely on the basic functionality of the operating system, within reason, to solve common problems. And since `popen` is part of `POSIX.1-2001` you can rely on it to be available on all standards compliant operarting systems, even windows)

EDIT: if you want to know more, read this: [http://linux.die.net/man/3/popen](http://linux.die.net/man/3/popen)

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-01-20T02:16:48.487

永远不要忘记 Knuth 所说的“过早的优化是万恶之源”。在重要之前不要担心性能，然后在做任何事情之前进行*测量*。除极少数情况外，您的时间价值远高于程序运行的成本。

Jon Bentley 的“编写高效的程序”（遗憾的是已绝版，在他的[“编程珍珠”](http://www.cs.bell-labs.com/cm/cs/pearls/)一章中有总结）详细讨论了如何使程序运行得更快（如果值得的话）；并且仅作为最后一项措施，为了挤出最后可能的 2% 性能（在将运行时间减少一半之后），它建议使用您建议的更改。引用的书包含一些非常有趣的关于“性能优化”的战争故事，这些故事完全是浪费（优化从未使用过的代码，优化代码在操作系统转动拇指时运行，......）。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-18T09:00:46.510

如果速度对您很重要，您可以编写自己的 popen 版本。

这可能是有道理的，因为 popen() - 创建一个管道 - 分叉 - 执行外壳（非常昂贵！） - 外壳比创建管道，分叉，执行你的程序

您的定制版本可以将过程减少到： - 创建管道 - 分叉 - 执行您的程序

您甚至可以扩展 popen 来分别控制命令 STDOUT、STDERR 和 STDIN。我写了这样一个例程，见[https://github.com/rockdaboot/mget/blob/master/libmget/pipe.c](https://github.com/rockdaboot/mget/blob/master/libmget/pipe.c) 是 GPL 的。

您使用 FILE 指针调用 mget_popen3() 或使用文件描述符调用 mget_fd_popen3()。至少，它应该让你知道如何去做。

* * *

## 回答 #5

> 赞同：-2
> 
> 时间：2013-01-18T07:09:40.200

您介意拥有多个 C 程序吗？如果您不介意，您可以使用命令行参数。在第一个 C 程序中，您可以执行以下操作

```
system("YourCommand | SecondProgram"); 
```

这`SecondProgram`将是您将要编写的第二个 C 程序的“可执行文件”。在第二个 C 程序中，您可以将命令的输出`YourCommand`作为命令行参数接收到`SecondProgram`. 为此，您可以开始第二个 C 程序的 main()，如下所示

```
main(int argc,char *argv[]) 
```

该数组`argv`将具有 的输出，`YourCommand`并且`argc`将包含数组中的元素数`argv`。

# iphone - 如何编写 OCUnit 测试用例

> ID：14393768
> 
> 赞同：0
> 
> 时间：2013-01-18T06:47:07.403
> 
> 标签：iphone, testing, ocunit

我想使用 Apple 的默认 SenTestingKit 为以下方法编写单元测试：

```
- (NSDictionary*)getValueTags {
    return _tags;
}

- (NSString*)getFlag {
    NSString* jo = @"";
    for (NSString* key in _tags) {
        jo = [jo stringByAppendingFormat:@"%@=\"%@\"&", key, [_tags objectForKey:key]];
    }
    if ([jo length] > 0) {
        jo = [jo substringToIndex:[jo length] - 1];
    }
    return jo;
} 
```

我使用了默认的 SenTesting

```
 - (void)setUp
    {
        [super setUp];

        // Set-up code here.
    }

    - (void)tearDown
    {
        // Tear-down code here.

        [super tearDown];
    }

-(void)testValueTags{

}

-(void)testGetFlag{

} 
```

我是编写测试用例的新手，我需要一些示例方法的指南来编写测试用例

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-19T07:47:10.597

测试用例有四个不同的阶段：

1.  设置
2.  锻炼
3.  核实
4.  拆除

其中一些阶段可能是空的。例如，如果您使用 ARC，大多数拆卸会自动发生。

开始时，不要在`setUp`or`tearDown`方法中添加任何内容。只需编写一个单元测试。这是一个有效的例子。（我要更改名称，因为 Objective-C 的习惯用法是不使用“get”这个词。所以`getFlag`我们不要直接调用它`flag`。）我将调用类 `Example，我将使用弧。我使用“被测系统”的缩写“sut”。

```
- (void)testFlagGivenOneEntry
{
    // set up
    Example *sut = [[Example alloc] init];
    [sut setTags:@{ @"key1" : @"value1" }];

    // execute & verify
    STAssertEqualObjects([sut flag], @"key1=\"value1\"", nil);
} 
```

那是一个测试。让我们添加另一个。

```
- (void)testFlagGivenTwoEntries
{
    // set up
    Example *sut = [[Example alloc] init];
    [sut setTags:@{ @"key1" : @"value1",
                    @"key2" : @"value2" }];

    // execute & verify
    STAssertEqualObjects([sut flag], @"key1=\"value1\"&key2=\"value2\"", nil);
} 
```

此时，我们有重复的代码：创建 sut. 现在我们可以将变量提升为类的实例变量。然后我们在其中创建它并在`setUp`其中销毁它`tearDown`：

```
@interface ExampleTest : SenTestCase
@end

@implementation ExampleTest
{
    Example *sut;
}

- (void)setUp
{
    [super setUp];
    sut = [[Example alloc] init];
}

- (void)tearDown
{
    sut = nil;
    [super tearDown];
}

- (void)testFlagGivenOneEntry
{
    [sut setTags:@{ @"key1" : @"value1" }];
    STAssertEqualObjects([sut flag], @"key1=\"value1\"", nil);
}

- (void)testFlagGivenTwoEntries
{
    [sut setTags:@{ @"key1" : @"value1",
                    @"key2" : @"value2" }];
    STAssertEqualObjects([sut flag], @"key1=\"value1\"&key2=\"value2\"", nil);
}

@end 
```

有关更复杂的示例，请参阅[Objective-C TDD：如何开始](https://qualitycoding.org/objective-c-tdd/)。

# javascript - JavaScript 中的文化信息

> ID：14393771
> 
> 赞同：13
> 
> 时间：2013-01-18T06:47:28.743
> 
> 标签：javascript

在 c# 中，我使用以下方法来获取 CultureInfo。

```
System.Globalization.CultureInfo.CurrentCulture.Name // output :en-US 
```

谁能告诉我如何在 JavaScript 中获取 CultureInfo？

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2013-01-18T06:52:39.310

非常简单的方法是将其渲染到视图中，如下所示：

```
<script>
  var cultureInfo = '@System.Globalization.CultureInfo.CurrentCulture.Name';
</script> 
```

这是 razor 语法，如果您使用经典的 asp.net，则使用：

```
<script>
  var cultureInfo = '<%= System.Globalization.CultureInfo.CurrentCulture.Name %>';
</script> 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2020-01-22T22:36:42.417

这是一个非常古老的帖子，肯定需要更新。现在所有主流浏览器都支持 navigator 属性。只需使用

```
var lang = navigator.language 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-10-22T17:51:29.827

这取决于你的目标。如果您希望将整个网站视为与您的服务器相同的文化，您可以仅使用 System.Globalization.CultureInfo.CurrentCulture.Name 并删除第一个代码片段中的 if-then 简写。如果您有一个全球网站，则不建议这样做。

在页面底部包含以下内容：

```
 <input id="currentCulture" type="hidden" value="<%=((Request.UserLanguages != null && Request.UserLanguages.Length > 0) ? new System.Globalization.CultureInfo(Request.UserLanguages.First(), true).Name : System.Globalization.CultureInfo.CurrentCulture.Name) %>" /> 
```

现在，您可以使用以下方法在您的 javascript 中检索特定于用户的文化信息：

```
$("#currentCulture").val();   //Jquery
document.getElementById("currentCulture").value; //Pure javascript 
```

在您后面的代码中，您需要的任何日期时间解析，通过使用以下内容将文化信息提供程序传递给 parse 和 tryparse 和 Convert.ToDateTime 函数：

```
 CultureInfo info = ((Request.UserLanguages != null && Request.UserLanguages.Length > 0) ? new CultureInfo(Request.UserLanguages.First(), true) : System.Globalization.CultureInfo.CurrentCulture); 
```

注意：如果您使用 Jquery UI 并且默认情况下不包含文化（例如 en-CA 或 en-GB），则必须添加它们。您可以在此处检索代码：

[https://code.google.com/p/dobo/source/browse/trunk/dobo/Kooboo.CMS/Kooboo.CMS.Web/Scripts/jquery-ui-i18n/?r=7](https://code.google.com/p/dobo/source/browse/trunk/dobo/Kooboo.CMS/Kooboo.CMS.Web/Scripts/jquery-ui-i18n/?r=7)

然后，您可以按照以下示例动态包含它：

```
 $.datepicker.regional['en-CA'] = { "Name": "en-CA", "closeText": "Close", "prevText": "Prev", "nextText": "Next", "currentText": "Today", "monthNames": ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December", ""], "monthNamesShort": ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec", ""], "dayNames": ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"], "dayNamesShort": ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"], "dayNamesMin": ["Su", "Mo", "Tu", "We", "Th", "Fr", "Sa"], "dateFormat": "dd/mm/yy", "firstDay": 0, "isRTL": false };
 $(".datepick").datepicker($.datepicker.setDefaults($.datepicker.regional[$("#currentCulture").val()])); 
```

# twitter-bootstrap - Bootstrap 词缀仅在 Firefox 上奇怪地调整大小

> ID：14393772
> 
> 赞同：2
> 
> 时间：2013-01-18T06:47:28.377
> 
> 标签：twitter-bootstrap

当用户向下滚动页面时，我正在尝试将菜单附加到网站顶部（[http://www.vaccinateyourdoctors.org/ ）。](http://www.vaccinateyourdoctors.org/)

以 Bootstrap Docs 为例，我正在调用：

```
!function($) {
    $(function() {
        $('.navbar').affix({
            offset: $('.navbar').position() });
    }); 
```

这在 Chrome/Safari 中完美运行，但仅在 Firefox 中，响应式控件似乎开始起作用，并将导航栏的大小调整为更窄。

知道我哪里出错了吗？

[除其他外，我尝试了 Bootstrap 2.3.0-wip git 分支，但这似乎并不能解决这个问题。]

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-24T02:59:35.350

经过大量的戳，在贴上导航栏时，Bootstrap 似乎表现不佳。这是因为“位置：固定；” “词缀”插件应用的属性有效地隐藏了导航栏的继承属性。

我以一种丑陋的方式解决了这个问题，通过动态和强制调整窗口大小，通过：

```
$(window).bind("resize", function(){ $('#target').css("width",$('#target').width()); })
$(window).bind("scroll", function(){ $('#target').css("width",$('#target').width()); }) 
```

编辑：将此标记为已回答。我可能会在 bootstrap 2.3.0 发布时跟进。

# c++ - 读取随机访问文件

> ID：14393774
> 
> 赞同：0
> 
> 时间：2013-01-18T06:47:39.033
> 
> 标签：c++, visual-c++, file-io, wofstream, wifstream

我开发了一个 C++ 应用程序，用于在随机访问文件上读取和写入数据。（我使用 Visual C++ 2010）

这是我的程序：

```
#include <iostream>
#include <fstream>
#include <string>

using namespace std;
class A
{
public :
    int a;
    string b;
    A(int num , string text)
    {
        a = num;
        b = text;
    }
};

int main()
{
    A myA(1,"Hello");
    A myA2(2,"test");

    cout << "Num: " << myA.a<<endl<<"Text: "<<myA.b<<endl;

    wofstream output; //I used wfstream , becuase I need to wite a unicode file
    output.open("12542.dat" , ios::binary );
    if(! output.fail())
    {
        output.write( (wchar_t *) &myA , sizeof(myA));
        cout << "writing done\n";
            output.close();

    }
    else
    {
        cout << "writing failed\n";
    }

    wifstream input;
    input.open("12542.dat" , ios::binary );
    if(! input.fail())
    {
    input.read( (wchar_t *) &myA2 , sizeof(myA2));
    cout << "Num2: " << myA2.a<<endl<<"Text2: "<<myA2.b<<endl;
    cout << "reading done\n";
    }

    else
    {
        cout << "reading failed\n";
    }

    cin.get();
} 
```

输出是：

```
Num: 1
Text: Hello
writing done
Num2: 1
Text2: test
reading done 
```

但我期待 `Text2: Hello`。问题是什么？？

顺便说一句，我怎样才能`output.write`在我的班级内（在一个函数中）？

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-18T07:09:36.987

A 不是 POD，你不能粗暴地将非 POD 对象转换为`char*`然后写入流。您需要序列化`A`，例如：

```
class A
{
public :
    int a;
    wstring b;
    A(int num , wstring text)
    {
        a = num;
        b = text;
    }
};

std::wofstream& operator<<(std::wofstream& os, const A& a)
{
  os << a.a << " " << a.b;
  return os;
}

int main()
{
    A myA(1, L"Hello");
    A myA2(2, L"test");

    std::wcout << L"Num: " << myA.a<<endl<<L"Text: "<<myA.b<<endl;

    wofstream output; //I used wfstream , becuase I need to wite a unicode file
    output.open(L"c:\\temp\\12542.dat" , ios::binary );
    if(! output.fail())
    {
      output << myA;
      wcout << L"writing done\n";
      output.close();
    }
    else
    {
        wcout << "writing failed\n";
    }

    cin.get();
} 
```

此示例将对象 myA 序列化为文件，您可以考虑如何将其读取出来。

# php - 属性集中缺少 Magento 系统属性

> ID：14393777
> 
> 赞同：2
> 
> 时间：2013-01-18T06:47:54.617
> 
> 标签：php, magento, magento-1.7

我已经从“默认”属性集中创建了一个新属性集。但是新属性集中`media_gallery`缺少该属性。因此图像上传器未显示在产品编辑部分中。如何将该系统属性添加到该集中？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-01-18T07:34:17.520

这至少很奇怪。我建议尝试基于“默认”重新创建一个属性集，以检查问题是否会再次发生。

无论如何，如果您想向`media_gallery`现有属性集添加属性，则必须向`eav_entity_attribute`表中添加一条记录，其中存储了 EAV 实体与属性集和组的关系：

```
INSERT INTO eav_entity_attribute 
        SET entity_type_id = 4,
            attribute_set_id = [YOUR_ATTRIBUTE_SET_ID],
            attribute_group_id = [YOUR_ATTRIBUTE_GROUP_ID],
            attribute_id = [ID_OF_YOUR_MEDIA_GALLERY_ATTRIBUTE by default 82],
            sort_order = 4 
```

*   `ID_OF_YOUR_MEDIA_GALLERY_ATTRIBUTE`可以使用以下查询在表`eav_attribute`中找到：

    ```
    SELECT attribute_id FROM eav_attribute WHERE attribute_code = 'media_gallery' 
    ```

*   `YOUR_ATTRIBUTE_SET_ID`可以使用以下查询在表`eav_attribute_set`中找到：

    ```
    SELECT attribute_set_id FROM eav_attribute_set WHERE attribute_set_name = '[GIVEN_NAME_OF_YOUR_ATTRIBUTE_SET]' 
    ```

*   并且`YOUR_ATTRIBUTE_GROUP_ID`可以`eav_attribute_group`使用以下查询在表中找到：

    ```
    SELECT attribute_group_id FROM eav_attribute_group WHERE attribute_set_id = [YOUR_ATTRIBUTE_SET_ID] AND attribute_group_name = 'Images' 
    ```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-18T12:58:12.383

您还可以使用 PHP 将属性分配给属性集：

```
$installer = Mage::getResourceModel('catalog/setup', 'catalog_setup');
$installer->addAttributeToSet(
    'catalog_product', $attributeSetName, $groupName, $attributeCode
); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-18T07:28:34.563

这不是一个编程问题，而是关于使用 Magento 作为最终用户的问题。我想这个问题很快就会被删除。但是，直到不是，至少这个答案可能有助于解决问题，从而使人们更快乐。

因此，您只需转到 Magento 的管理面板 -> 目录 -> 属性 -> 管理属性集。然后选择您的设置以打开它的编辑页面。将`media_gallery`属性从“未分配的属性”列表拖到“组”列表中的相应组。保存属性集。

就这样 ：）

# ios6 - 如何通过 http 链接在 iOS6 应用程序中播放 mp3 格式的歌曲？

> ID：14393778
> 
> 赞同：1
> 
> 时间：2013-01-18T06:47:54.307
> 
> 标签：ios6, xcode4.5, avaudioplayer, avplayer

最近我开始从事 iOS 应用程序开发。这些天我正在开发一个必须具有以下功能的音乐播放器：

- 来自 php Web 服务的歌曲在线缓冲。- 播放、暂停、停止、下一曲、上一曲。- 两个滑块，一个用于音量控制，另一个用于显示歌曲的播放时间。- 随机播放，重复歌曲。

我已经用 AVPlayer 和 AVAudioPlayer 尝试过这些东西，但是在 AVAudioPlayer 中，我认为无法从 url 流式传输数据，因为我已经尝试了很多，然后我通过使用 AVplayer 来完成此操作，但它不支持音量控制等选项，甚至如果缓冲在某个时候停止，缓冲也不是正确的，就像必须再次按下播放按钮一样。我需要这个音频播放器的紧急帮助任何教程任何我可以很容易理解的例子，因为我是这个领域的新手。这是代码

```
NSURL *url = [[NSURL alloc] initWithString:@"http://www.androidmobiapps.com/extrememusic/app/songs/1.mp3"];

[self setupAVPlayerForURL:url]; 
```

我在 viewdidload 上调用这首歌

```
-(void) setupAVPlayerForURL: (NSURL*) url {
AVAsset *asset = [AVURLAsset URLAssetWithURL:url options:nil];
AVPlayerItem *anItem = [AVPlayerItem playerItemWithAsset:asset];

audioPlayer = [AVPlayer playerWithPlayerItem:anItem];
[audioPlayer addObserver:self forKeyPath:@"status" options:0 context:nil]; 
```

}

```
- (void)observeValueForKeyPath:(NSString *)keyPath ofObject:(id)object change:(NSDictionary *)change context:(void *)context {

if (object == audioPlayer && [keyPath isEqualToString:@"status"]) {
    if (audioPlayer.status == AVPlayerStatusFailed) {
        NSLog(@"AVPlayer Failed");
    } else if (audioPlayer.status == AVPlayerStatusReadyToPlay) {
        NSLog(@"AVPlayer Ready to Play");
    } else if (audioPlayer.status == AVPlayerItemStatusUnknown) {
        NSLog(@"AVPlayer Unknown");
    }
} 
```

}

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-07T06:43:23.657

我已经完成了你上面提到的作为一个类的功能，并开源了它。无论您想直接使用该类还是将其视为 AVFoundation 初学者示例。祝你好运！

[在](https://github.com/StreetVoice/HysteriaPlayer)GitHub 上观看这个 repo

# cocoa - NSRunalert面板

> ID：14393781
> 
> 赞同：1
> 
> 时间：2013-01-18T06:48:05.723
> 
> 标签：cocoa

我有一个警报面板说，

```
NSRunAlertPanel(@"Alert!", @"Do you want to mail your team or raise a Request?", @"Mail", @"Cancel", @"Request"); 
```

如果我单击邮件，则应显示邮件窗口，如果单击请求，则应打开相应的窗口。所以我尝试了，

```
 if (NSAlertDefaultReturn){
      [mailWindow showWindow:mailWindow];
    }

    if (NSAlertOtherReturn){
      [reqWindow showWindow:reqWindow];
    } 
```

但是当我点击“请求”时，我打开了两个窗口。我是 coc 新手

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-06-23T05:12:07.597

try NSInteger err = NSRunAlert...(x,x,x,x,x) err is then value of button pressed - 1,2 or 3

# windows - 如何通过批处理文件知道命令是否成功执行？

> ID：14393784
> 
> 赞同：3
> 
> 时间：2013-01-18T06:48:08.780
> 
> 标签：windows, batch-file

例如，在一个批处理文件中，我输入了以下命令：

xcopy C:\fileA.txt D:\Dir\ /y /d

如果没有名为 fileA.txt 的文件，它将绝对失败。但我想知道它是否失败，然后向用户输出一些消息。我怎样才能做到这一点？

任何帮助将不胜感激，谢谢！

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2013-01-18T06:57:31.217

大多数命令/程序在成功时返回 0 和一些其他值，称为*errorlevel*，表示错误。

您可以在批次中检查这一点，例如通过

```
if not errorlevel 0 goto ERR 
```

xcopy 错误级别：

0 - 所有文件都被复制而没有错误

1 - 找不到要复制的文件（源无效）

2 - XCOPY 在复制完成之前被 Ctrl-C 终止

4 - 发生初始化错误。

5 - 发生磁盘写入错误。

[1] [http://m.computing.net/answers/dos/xcopy-errorlevels/7510.html](http://m.computing.net/answers/dos/xcopy-errorlevels/7510.html)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-01-18T06:52:54.487

我认为您感兴趣的是“错误级别”。请参阅[http://www.robvanderwoude.com/errorlevel.php](http://www.robvanderwoude.com/errorlevel.php)。基本上，在您的批处理文件中，您可以通过说检查命令的状态代码（类似于 Unix 或 Linux）

```
IF ERRORLEVEL 1 <do something>
IF ERRORLEVEL 2 <do something> 
```

其中 1 和 2 是最后执行的程序返回的状态码的可能值。你也可以做类似的事情

```
echo %ERRORLEVEL% 
```

打印出状态码，但请注意，它的行为并不总是像“正常”环境变量。使它与众不同的一件事是它不会出现在“set”命令中。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2014-05-30T11:58:21.423

我发现接受的答案不起作用，但确实如此：

```
if %ERRORLEVEL% neq 0 goto ERR 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2020-12-22T10:10:33.820

只需使用以下结构：

```
command > nul 2> nul && (
    echo Success
    REM can be multi line
) || (
    echo Error
    REM can be multi line
) 
```

# javascript - 在 HTML5 track 元素中获取提示

> ID：14393786
> 
> 赞同：3
> 
> 时间：2013-01-18T06:48:39.380
> 
> 标签：javascript, html, html5-video, html5-audio

在测试 HTML5 track 元素时，提示为 null。TextTrackList 和 track 元素似乎已加载。另外，我知道 VTT 文件无法在本地访问，我正在服务器上进行测试。任何人都可以帮忙吗？提前致谢。

这是我的 Javascript：

```
 var audioElement = document.querySelector("audio");
        var textTracks = audioElement.textTracks;
        var textTrack = textTracks[0];
        var ques = textTrack.cues;
        var que = ques[0];
        console.log(que); 
```

这是HTML：

```
 <audio src="Audio Files/Q_firefox.ogg" controls>
        <track src="cues.vtt"></track>
        </audio> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2016-11-21T16:07:29.293

提示值会随着曲目的播放而变化，因此您需要在每次文本更改时侦听要更改的值并运行您的函数。根据您的问题尝试此示例：

```
var audioElement = document.querySelector("audio");
var textTrack = audioElement.textTracks[0];

// When cue value changes run your code
textTrack.oncuechange = function(e) {
  var cue = this.activeCues[0];
  if(cue){
    console.log(cue.text);
  }
}
```

```
<audio src="http://html5-demos.appspot.com/static/video/track/Google_Developer_Stories.webm" controls>
  <track src="http://html5-demos.appspot.com/static/video/track/video-subtitles-en.vtt" default>
</audio>
```

另请注意，无需关闭 HTML 轨道标记。

# php - 在乱舞背景中将 Html 转换为 Pdf

> ID：14393787
> 
> 赞同：1
> 
> 时间：2013-01-18T06:48:40.457
> 
> 标签：php

我使用了几种搜索和方法来找到从 html 到 pdf 的转换，但我没有。将HTML页面转换为PDF的方法是什么？我已经下载`tcpdf library`了，但我不知道如何使用它。

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-18T06:51:57.963

请使用**tcpdf**，尝试**tcpdf**示例链接[http://www.tcpdf.org/examples.php中的示例 6](http://www.tcpdf.org/examples.php)

**试试这个例子：**

```
require_once('write path to include /config/lang/eng.php');
require_once('write path to include tcpdf.php');

// create new PDF document
$pdf = new TCPDF(PDF_PAGE_ORIENTATION, PDF_UNIT, PDF_PAGE_FORMAT, true, 'UTF-8', false);

// set document information
$pdf->SetCreator(PDF_CREATOR);
$pdf->SetAuthor('Nicola Asuni');
$pdf->SetTitle('TCPDF Example 006');
$pdf->SetSubject('TCPDF Tutorial');
$pdf->SetKeywords('TCPDF, PDF, example, test, guide');

// set default header data
$pdf->SetHeaderData(PDF_HEADER_LOGO, PDF_HEADER_LOGO_WIDTH, PDF_HEADER_TITLE.' 006', PDF_HEADER_STRING);

// set header and footer fonts
$pdf->setHeaderFont(Array(PDF_FONT_NAME_MAIN, '', PDF_FONT_SIZE_MAIN));
$pdf->setFooterFont(Array(PDF_FONT_NAME_DATA, '', PDF_FONT_SIZE_DATA));

//set auto page breaks
$pdf->SetAutoPageBreak(TRUE, PDF_MARGIN_BOTTOM);

//set image scale factor
$pdf->setImageScale(PDF_IMAGE_SCALE_RATIO);

//set some language-dependent strings
$pdf->setLanguageArray($l);

// ---------------------------------------------------------

// set font
$pdf->SetFont('dejavusans', '', 10);

// add a page
$pdf->AddPage();

// writeHTML($html, $ln=true, $fill=false, $reseth=false, $cell=false, $align='')
// writeHTMLCell($w, $h, $x, $y, $html='', $border=0, $ln=0, $fill=0, $reseth=true, $align='', $autopadding=true)

// create some HTML content
$html = 'Write your html code here';

// output the HTML content
$pdf->writeHTML($html, true, false, true, false, '');

$this->pdf->lastPage();
ob_clean();
//Close and output PDF document
$this->pdf->Output($filename, 'D'); //D if you want download it use I if you want open it on new tab 
```

**从tcpdf/config/tcpdf_config.php**更改常量值，例如PDF_HEADER_LOGO

 *** * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-18T07:49:55.363

[使用来自htm2pdf.co.uk](http://www.htm2pdf.co.uk/features)的简单或高级 API

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-18T06:58:39.093

使用 TCPDF

请下载 tcpdf 并将其提取并放入您的应用程序文件夹中

在需要转换pdf的页面中，请将需要在pdf中显示的html部分添加到变量中

例如：$data = "Hello World"; /*在此处包含 tcpdf* /

```
$tcpdf = new TCPDF();
$textfont = 'helvetica';

$tcpdf->SetAuthor("Julia Holland");
$tcpdf->SetAutoPageBreak(true);

$tcpdf->setPrintHeader(false);
$tcpdf->setPrintFooter(false);

$tcpdf->SetTextColor(0, 0, 0);
$tcpdf->SetFont($textfont,'',9);

$tcpdf->AddPage();

$tcpdf->writeHTML($data, true, 0, true, 0);
$tcpdf->Output('filename11.pdf', 'I'); 
```

现在您可以使用 tcpdf 站点中列出的自定义字体、样式蚀刻，并且这个以 pdf 格式打印 Hello world

从这里下载 tcpdf [http://www.tcpdf.org/](http://www.tcpdf.org/)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2015-11-12T11:37:15.853

按照这个链接[http://www.tcpdf.org/](http://www.tcpdf.org/) 试试这个

```
<?php
// Include the main TCPDF library (search for installation path).
require_once('../lib/tcpdf/tcpdf.php');

// extend TCPF with custom functions
class MYPDF extends TCPDF {

    // Colored table
    public function ColoredTable($header,$data) {
        // Colors, line width and bold font
        $this->SetFillColor(255, 0, 0);
        $this->SetTextColor(255);
        $this->SetDrawColor(128, 0, 0);
        $this->SetLineWidth(0.3);
        $this->SetFont('', 'B');
        // Header
        $w = array(40, 35, 40, 45);
        $num_headers = count($header);
        for($i = 0; $i < $num_headers; ++$i) {
            $this->Cell($w[$i], 7, $header[$i], 1, 0, 'C', 1);
        }
        $this->Ln();
        // Color and font restoration
        $this->SetFillColor(224, 235, 255);
        $this->SetTextColor(0);
        $this->SetFont('');
        // Data
        $fill = 0;
        foreach($data as $row) {
            $this->Cell($w[0], 6, $row[0], 'c');
            $this->Cell($w[1], 6, $row[1], 'c');
            $this->Cell($w[2], 6, number_format($row[2]), 'LR', 0, 'R', $fill);
            $this->Cell($w[3], 6, number_format($row[3]), 'LR', 0, 'R', $fill);
            $this->Ln();
            $fill=!$fill;
        }
        $this->Cell(array_sum($w), 0, '', 'T');
    }
}

// create new PDF document
$pdf = new MYPDF(PDF_PAGE_ORIENTATION, PDF_UNIT, PDF_PAGE_FORMAT, true, 'UTF-8', false);

// set document information
$pdf->SetCreator(PDF_CREATOR);
$pdf->SetAuthor('Nicola Asuni');
$pdf->SetTitle('TCPDF Example 011');
$pdf->SetSubject('TCPDF Tutorial');
$pdf->SetKeywords('TCPDF, PDF, example, test, guide');

// set default header data
$pdf->SetHeaderData(PDF_HEADER_LOGO, PDF_HEADER_LOGO_WIDTH, PDF_HEADER_TITLE.' 011', PDF_HEADER_STRING);

// set header and footer fonts
$pdf->setHeaderFont(Array(PDF_FONT_NAME_MAIN, '', PDF_FONT_SIZE_MAIN));
$pdf->setFooterFont(Array(PDF_FONT_NAME_DATA, '', PDF_FONT_SIZE_DATA));

// set default monospaced font
$pdf->SetDefaultMonospacedFont(PDF_FONT_MONOSPACED);

// set margins
$pdf->SetMargins(PDF_MARGIN_LEFT, PDF_MARGIN_TOP, PDF_MARGIN_RIGHT);
$pdf->SetHeaderMargin(PDF_MARGIN_HEADER);
$pdf->SetFooterMargin(PDF_MARGIN_FOOTER);

// set auto page breaks
$pdf->SetAutoPageBreak(TRUE, PDF_MARGIN_BOTTOM);

// set image scale factor
$pdf->setImageScale(PDF_IMAGE_SCALE_RATIO);

// set some language-dependent strings (optional)
$lg = Array();
$lg['a_meta_charset'] = 'UTF-8';
$lg['a_meta_dir'] = 'rtl';
$lg['a_meta_language'] = 'fa';
$lg['w_page'] = 'page';

// set some language-dependent strings (optional)
$pdf->setLanguageArray($lg);

// ---------------------------------------------------------

// set font
$pdf->SetFont('aealarabiya', '', 18);

// add a page
$pdf->AddPage();

// column titles
$header = array('Country', 'Capital', 'Area (sq km)', 'Pop. (thousands)');

// data loading
$data = array('data1'  , 'data2'  , '323' , '243');

// print colored table
$pdf->ColoredTable($header, $data);

// ---------------------------------------------------------

// close and output PDF document
ob_end_clean();
$pdf->Output('example_011.pdf', 'I');
?> 
```**

# asp.net-mvc - 如何使用标准的 html 链接来调用带参数的 MVC 控制器方法？

> ID：14393794
> 
> 赞同：1
> 
> 时间：2013-01-18T06:49:35.547
> 
> 标签：asp.net-mvc, asp.net-mvc-3

如果您不能使用 ActionLink 或 AJAX 并且想要从简单/标准 HTML 链接调用参数化控制器方法。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-18T07:49:56.457

您可以使用 2 种方法发送参数：

1.

```
<a href='/Controller/Method?param=paramValue&anotherParam=anotherParamValue'>link text</a> 
```

在方法之后没有“/”并使用“？” 为参数。

2.

```
<a href='/Controller/Method/paramValue/anotherParamValue'>link text</a> 
```

使用“/”而不使用“？” 对于每个参数，只发送值。没有参数名称。注意参数顺序

这是你想要的吗？

# android - 如何在android中使用swipeview更改下一页？

> ID：14393799
> 
> 赞同：1
> 
> 时间：2013-01-18T06:49:49.920
> 
> 标签：android, animation, imageview, swipeview

我是 android.am 的新手。我正在做简单的 aphabate app.in 该应用程序正在使用字母。当在字母上滑动时它将如何移动到下一个字母。请给我建议

提前致谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-12T03:20:04.807

试试这个链接：在这个链接中，他在滑动时显示列表视图项目。

![在此处输入图像描述](../Images/4e73a7c2a0fc426b1e286e42831d44fb.png)

![在此处输入图像描述](../Images/335ba2fead07de3c5af65e6733a167ce.png)

[在此处](http://mukeshyadav4u.blogspot.in/2013/04/dynamic-swipe-view-in-android.html)查看完整代码

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-18T07:00:09.443

我想建议您查看以下有关在 Android 兼容性包中使用 ViewPager 来实现您正在寻找的滑动功能的 Android Dev 博客文章：

[http://android-developers.blogspot.com/2011/08/horizo​​ntal-view-swiping-with-viewpager.html](http://android-developers.blogspot.com/2011/08/horizontal-view-swiping-with-viewpager.html)

推荐的方法最有可能在聊天历史记录和文本输入字段中使用片段，因为这将为您提供跨设备的最大灵活性。

# android - 在 AsyncTask.execute() 上找不到源

> ID：14393800
> 
> 赞同：1
> 
> 时间：2013-01-18T06:49:51.713
> 
> 标签：android, android-asynctask

我正在尝试与 AsyncTask 相处。我的问题是我正在根据过程的输出动态构建一个 textviews 表。但后来我发现通过使用 asynctask 我可以以更有效的方式做到这一点..所以，我所做的如下：

```
private class DisplayReport extends AsyncTask<Void, Void, Boolean>{
    protected void onPreExecute(){
        //Message -- "Please wait while the Report Loads..."
    }

    @Override
    protected Boolean doInBackground(Void... params) {
        //Here i fetch the data from the procedure via a web service
        //parse the result of web service and set a bool variable true or false based on whether the dataset fetched is empty or not.
    }
    protected void onPostExecute(Boolean value){
        if(value == true){
                 "Please try again later!!"
        }
        else{
                 runOnUiThread(GenTable);
        }
    }
    private Runnable GenTable = new Runnable(){
        public void run(){
            try {
                displayReport(result); // in this method i build the table.
            } catch (Exception e) {
                ad.setTitle("Error..");
                ad.setMessage(e.toString());
            }
        }
    };
} 
```

上面的异步类是我的主类中的一个内部类，它扩展了活动。这就是我执行异步任务的方式..

```
DisplayReport dr = new DisplayReport();
dr.execute(); 
```

现在当我调试时，我得到了`"source not found" error on dr.execute()..` 我尝试在网上搜索很多，但我根本找不到任何具体的东西。另外，如果我的方法不正确，请告诉我..这个问题可能看起来很傻，但我也是android和java的新手，任何帮助都会非常棒..

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-18T06:59:45.557

`onPostExecute`已在 UI 线程中运行，因此您不应为其创建另一个可运行对象。让你`onPostExecute`像这样：

```
 protected void onPostExecute(Boolean value){
            if(value == true){
                     String message = "Please try again later!!";
                     // Do something here with your message
            }
            else{
                     displayReport(result);
            }
        } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-18T06:54:19.623

Execute 将启动一个新线程。你不想调试它。取而代之的是，在 onPreExecute、doInBackground 和 onPostExecute 中放置断点，您可以看到它们中的每一个何时被调用。

# android - Windows 上的 Android 签名应用程序

> ID：14393801
> 
> 赞同：1
> 
> 时间：2013-01-18T06:49:54.813
> 
> 标签：android, publishing, keytool, jar-signing, jarsigner

我正在尝试注册 APK 以将其上传到 Play 商店市场。我正在按照[此处强调的步骤进行操作](http://www.xploredj.com/signing-release-mode-android-app.html)

我收到以下错误

![在此处输入图像描述](../Images/914319bbf4a246b6ed071b5277c0485d.png)

当我尝试使用 Eclipse 对应用程序进行签名时`project->Android Tools->Export Signed Application Package`。

![在此处输入图像描述](../Images/d2fd3101c9dfd2ca2aab32fbf00a1735.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-18T06:53:58.920

将您的密钥库文件复制到没有空格的目录。您当前的路径是**C:\Program Files (x86)\Java\jdk1.6.0_27\bin\my-release-key.keystore** ，其中包含带有空格的目录**Program Files (x86) 。**JarSigner 无法识别带有空格的目录。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-18T06:54:13.240

你不需要用命令来做。在 Eclipse 中，右键单击您的项目->Android 工具->导出签名的应用程序包。

按照向导进行操作，您将拥有一个签名的 apk，而不会感到痛苦。

**编辑：**

在快速搜索新错误后，[该线程](https://stackoverflow.com/questions/3284407/conversion-to-dalvik-format-failed-with-error-1-with-javax-net-socketfactory-cla)似乎包含可能的修复。例如，请尝试清理您的项目并重新构建它。如果它不能解决您的问题，请尝试链接中提到的修复。

# java - 使用新值计算 JTable 列中的总值

> ID：14393809
> 
> 赞同：1
> 
> 时间：2013-01-18T06:50:24.717
> 
> 标签：java, swing, jtable

我想计算索引[0][2]中的总值，之前的值是0，但是我已经用计算结果“1/y”替换并显示了它，当我计算总值时，相加的值是之前的值包含“0”，这是我的代码，

```
 //observation table
                                     //0             1        2    3      4      5     6                       
     titleColumn = new Object[]{"Time (Second)","Medicine", "1/y","x2", "X/Y", "Y^", "Error"};
                               //0   1    2   3   4   5   6
    allData = new Double[][]  {{1.0,1.02,0.0,0.0,0.0,0.0,0.0},
                               {2.0,0.667,0.0,0.0,0.0,0.0,0.0},
                               {3.0,0.367,0.0,0.0,0.0,0.0,0.0},
                               {4.0,0.278,0.0,0.0,0.0,0.0,0.0},
                               {5.0,0.237,0.0,0.0,0.0,0.0,0.0},
                               {6.0,0.187,0.0,0.0,0.0,0.0,0.0},
                               {7.0,0.155,0.0,0.0,0.0,0.0,0.0},
                               {8.0,0.156,0.0,0.0,0.0,0.0,0.0},
                               {9.0,0.142,0.0,0.0,0.0,0.0,0.0},
                               {10.0,0.111,0.0,0.0,0.0,0.0,0.0},
                               {11.0,0.12,0.0,0.0,0.0,0.0,0.0},
                               {12.0,0.097,0.0,0.0,0.0,0.0,0.0},
                               {13.0,0.099,0.0,0.0,0.0,0.0,0.0},
                               {14.0,0.089,0.0,0.0,0.0,0.0,0.0},
                               {15.0,0.079,0.0,0.0,0.0,0.0,0.0},
                               {0.0,0.0,0.0,0.0,0.0,0.0,0.0}};

    tableModelObservation = new DefaultTableModel(allData, titleColumn);
    tableObservation.setModel(tableModelObservation);
    int row,column,inputRow,inputColumn;

    //index [0][2] was replaced with calculation 1/y
    row = 0;
    column = 1;
    inputRow = 0;
    inputColumn = 2;
    double onePerY = 0;
    for(int a=0;a<allData.length;a++){
        onePerY = 1/allData[row][column];
        //is this the way to use getValueAt() and for indicating that the dependent cell has been change ?
        tableObservation.getModel().getValueAt(row, column);
        tableObservation.firePropertyChange("1/y", inputRow, inputColumn);
        tableObservation.getModel().setValueAt(onePerY, inputRow, inputColumn);  
        inputRow++;
        row++;
    }    

    //calculation total 1/y, summing is still using previous value "0"
    row = 0;
    column = 2;
    inputRow = 15;
    inputColumn = 2;
    double totalOnePerY = 0;
    for (int a=0;a<allData.length;a++){
        totalOnePerY += allData[row][column];
        row++;
    }
    //displaying result in row index[15] and column index[2] 
    tableObservation.getModel().setValueAt(totalOnePerY, inputRow, inputColumn); 
```

计算过程后此列值为“1/y” ![第 1 列/年](../Images/ef3d74b342a1280bb1338811740624af.png)

我应该怎么做才能使用新值对其求和？您提供的所有帮助，我将不胜感激，谢谢

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-01-18T07:00:04.460

如中所示[`DependentColumn`](https://stackoverflow.com/a/7356518/230513)，您可以在`getValueAt()`. 如果值所依赖的列是可编辑的，请务必触发一个事件，指示从属单元格已更改。

附录：*我已经添加了我的代码* `getValueAt()`，*但结果是一样的。*

没有你的[sscce](http://sscce.org/)我猜：我看到你在*使用*`allData`数组来构造和更新. 我不确定练习的目标，但您可能不想在这样做*之前更新数组。*内部使用，构造完成后忽略数组。*`DefaultTableModel`*`DefaultTableModel``Vector`**

 *** * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-18T07:13:36.867

您可以尝试使用[`EnvelopeTableMode`](http://java-sl.com/envelope.html)which 包装原始模型并提供分组功能（SUM、COUNT、AVG...）。**

# java - 如何使用 google-oauth-java-client？

> ID：14393811
> 
> 赞同：6
> 
> 时间：2013-01-18T06:50:45.040
> 
> 标签：java, google-oauth

我想使用**google-oauth-java-client**从[新浪微博](https://en.wikipedia.org/wiki/Sina_Weibo)获取授权码。

这是从新浪获取代码的GET方法

```
https://api.weibo.com/oauth2/authorize?client_id=70090552&response_type=code&redirect_uri=http://127.0.0.1/weibo 
```

请在没有网页的情况下解决这个问题，**只有客户端**！

有人可以给我一些建议吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-18T13:04:28.860

Get 方法使用浏览器并返回代码 Post 方法使用`HttpRequest`，我们可以从中获取参数`HtppResponse`

所以如果你想获取代码，只需使用浏览器并重定向到 url 来获取代码

这是我得到的方式`access_token`

如果你愿意，你可以使用 google-oauth-java-client 来授权 twitter facebook

我通过 javadoc 解决了这个问题，它向我展示了一些示例。[这](https://javadoc.io/static/com.google.oauth-client/google-oauth-client/1.32.1/com/google/api/client/auth/oauth2/package-summary.html#package.description)是JavaDoc的根，[这](https://javadoc.io/static/com.google.oauth-client/google-oauth-client/1.32.1/com/google/api/client/auth/oauth2/TokenRequest.html)是我用来解决的包

这是我写的例子

```
//   https://server.example.com/token server url example
try {
  TokenResponse response =
      new AuthorizationCodeTokenRequest(new NetHttpTransport(), new JacksonFactory(),
          new GenericUrl("here is the server url "), "here write your code")
          .setRedirectUri("here write the redirectUrl")
          .set("client_id","here write your client_id")
          .set("client_secret","here write your client_secret")
          .set("Other else need","Other else need")
          .execute();
  System.out.println("Access token: " + response.getAccessToken());
} catch (TokenResponseException e) {
  if (e.getDetails() != null) {
    System.err.println("Error: " + e.getDetails().getError());
    if (e.getDetails().getErrorDescription() != null) {
      System.err.println(e.getDetails().getErrorDescription());
    }
    if (e.getDetails().getErrorUri() != null) {
      System.err.println(e.getDetails().getErrorUri());
    }
  } else {
    System.err.println(e.getMessage());
  }
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-18T07:18:09.823

[在这里](http://code.google.com/p/google-oauth-java-client/source/browse/dailymotion-cmdline-sample/src/main/java/com/google/api/services/samples/dailymotion/cmdline/DailyMotionSample.java?repo=samples)您可以找到解决方案。

[http://code.google.com/p/google-oauth-java-client/source/browse/dailymotion-cmdline-sample/src/main/java/com/google/api/services/samples/dailymotion/cmdline/ DailyMotionSample.java?repo=samples](http://code.google.com/p/google-oauth-java-client/source/browse/dailymotion-cmdline-sample/src/main/java/com/google/api/services/samples/dailymotion/cmdline/DailyMotionSample.java?repo=samples)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-18T12:03:14.257

[这](https://developers.google.com/accounts/docs/OAuth2)和[这](https://code.google.com/p/google-api-java-client/wiki/OAuth2Draft10)将帮助你。首先了解机制并根据您的场景实现它。

# windows - 修复 Windows 托管 Hg 服务器通知上的电子邮件主题

> ID：14393812
> 
> 赞同：0
> 
> 时间：2013-01-18T06:51:26.580
> 
> 标签：windows, mercurial, hgrc

我按照此处的说明获取了托管在 IIS7 中的 Mercurial 服务器：

[http://www.firegarden.com/software/hosting-mercurial-repo-iis7-windows-server-2008r2-x64-python-isapi-cgi](http://www.firegarden.com/software/hosting-mercurial-repo-iis7-windows-server-2008r2-x64-python-isapi-cgi)

它工作得很好，发送干净的 url 和通知，并根据模板格式化：

```
 [notify]
 sources = serve push pull bundle
 template = 
    details:   {baseurl}/rev/{node|short} 
```

最终看起来像这样：

```
 -----Original Message-----
 From: mercurial@mydomain.net
 Sent: Thursday, January 17, 2013 10:42 PM
 To: Me
 Subject: D:/hg/Repositories/test: Again

 details:   http://hg.mydomain.net/test/rev/561563d3847e 
```

但请注意，主题中有 Windows 驱动器号，而不是 url`http://hg.mydomain.net/test/`

有没有办法修复它，使其显示 URL 而不是驱动器号？或者可能不是 url，而只是显示存储库？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-18T20:50:00.590

[Notify 扩展](http://mercurial.selenic.com/wiki/NotifyExtension)`strip`的调用属性将帮助你做你想做的事。您可以在主题行中删除存储库的前导根。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-18T11:47:05.740

也许您应该`Subject`在模板配置中定义部分？请参阅[本章](http://hgbook.red-bean.com/read/handling-repository-events-with-hooks.html#id405715)了解更多信息。

# android - 谷歌地图与安卓。在我的调试密钥上有更多的应用程序

> ID：14393817
> 
> 赞同：1
> 
> 时间：2013-01-18T06:51:42.217
> 
> 标签：android, google-maps

由于 Google 迁移到 android map API v2，您必须将 SHA1 密钥与包名连接起来。在页面上它以复数形式显示“包”，但我似乎无法找出是否以及如何将包名称连接到同一个帐户

我想用 'com.foo...' 和 'com.bar...' 开发应用程序我真的必须为我的所有应用程序使用相同的包名称吗？或为每个项目创建新密钥？

谢谢你的协助

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-18T09:20:58.450

我认为您可以对两者使用相同的。因为，API 密钥已经存储在 .android 文件夹中的 debug.keystore 中。但是，如果您想在 Play 商店中正式发布您的应用程序。您可能必须再制作一个，因为它们不支持两个应用程序的相同键值。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-20T06:02:51.420

Ben dubugginge 我的应用程序并尝试制作新的应用程序......

您必须为每个项目创建一个密钥。使您能够查看每个应用程序的统计信息。

但是您可以使用相同的调试密钥库（在安装 sdk 时创建？）来创建您需要的任意数量的密钥。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-21T17:54:07.077

转到[Google Api 控制台](https://code.google.com/apis/console/)并单击“创建新的 Android 密钥...”按钮。

在那里您可以输入几个 SHA1 包组合，如下所示：

```
A5:5C:9F:45:BA:62:04:53:37:E4:A4:0D:CE:D5:2C:0B:99:B8:CE:10;com.example.app1
A5:5C:9F:45:BA:62:04:53:37:E4:A4:0D:CE:D5:2C:0B:99:B8:CE:10;com.example.app2
A5:5C:9F:45:BA:62:04:53:37:E4:A4:0D:CE:D5:2C:0B:99:B8:CE:10;com.example.app3 
```

如果您为此文本生成密钥，则可以对上述所有三个应用程序使用相同的密钥。

# c# - 如何使用 c#、dot net、word 模板、xml 在 word 2010 中生成报告

> ID：14393822
> 
> 赞同：6
> 
> 时间：2013-01-18T06:52:03.193
> 
> 标签：c#, .net, xml, ms-word, office-automation

我们有一个数据库应用程序，用于存储我们想要在 Microsoft Word 中报告的数据。

假设我的客户的所有信息都存储在数据库系统中，现在我被要求创建数百个单词的字母，报告将发送给我的客户。这些信件内容相同，但客户名称、客户地址等不同。

我想通过使用 c# 和 .Net、sql 作为数据库创建带有内容控件的文档模板来替换此模板的内容，从而利用 Office Word 2010。

我一直在寻找有关在 C# 和 dot net 和 sql 中自动化 Word 2010 的文章。有人可以推动我朝着正确的方向前进吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-25T13:28:13.703

所以对于开始不要使用互操作，我在过去 4 年里一直在使用它，我必须告诉你这不是一个好主意（它真的丢失了，你会遇到很多问题。它实际上是写在微软的您不应该将其用于服务器端生成的站点。

您应该使用 OpenXML SDK，我实际上刚刚开始使用它，但我不得不说，即使它看起来有点难使用，使用 interop 肯定**要快得多**，最好的事情是知道**我不**知道需要在我的电脑上安装**Office 套件中的任何程序**，缺点是如果没有 3rd 方库**，我将无法再导出为 PDF 或 XPS**

你可以在这里找到 sdk [http://www.microsoft.com/en-us/download/details.aspx?id=30425](http://www.microsoft.com/en-us/download/details.aspx?id=30425)

我建议也下载该工具，它非常有用。

这是一个很好的教程，它确实对我帮助很大。

[http://msdn.microsoft.com/en-us/library/office/bb448854.aspx](http://msdn.microsoft.com/en-us/library/office/bb448854.aspx)

您还可以使用与 sdk 位于同一站点的 Productivity Tool 中的 API 文档

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-28T08:59:35.547

您的答案是 OpenXML SDK。

1.  转到[适用于 Microsoft Office 的 Open XML SDK 2.5](http://www.microsoft.com/en-us/download/details.aspx?id=30425)
2.  下载 OpenXMLSDKV25 和 OpenXMLSDKToolV25
3.  安装 sdk 和生产力工具
4.  打开 word 并创建您的模板文档
5.  打开 Open XML SDK 生产力工具
6.  打开word文档
7.  右键单击文档资源管理器中的文档名称并选择反映代码
8.  将所有生成的代码复制到您的项目中
9.  查找并编辑要替换为数据的“段落”或“运行”

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-21T16:29:21.923

我过去曾使用 Office.Interop 程序集来实现这种功能，但这种方法有一些明显的缺点：

*   Word 必须安装在运行代码的机器上
*   Interop 程序集实际上在后台启动 Word，因此您必须小心正确处理所有内容并处理错误，否则您最终会导致 Word 进程在主机服务器上浪费 CPU/内存
*   API 使用起来不是很愉快，并且文档有些稀缺

我也玩过[DocX](http://docx.codeplex.com/)和[Open XML](http://www.microsoft.com/en-us/download/details.aspx?id=5124)，它们都有其优点，但与 Interop 相比往往会受到轻微限制。我的建议是尝试使用 DocX 或 Open XML 的功能，只有在无法以任何其他方式实现功能时才回退到 Interop。这三个 API 应该有大量的在线教程。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-01-25T03:21:37.453

Microsoft 建议将 OpenXml 用于在服务器进程中运行的任何应用程序，这种方法可能是减少依赖关系的最佳方法之一（正如其他人所提到的）。以下是一些帮助您入门的链接：

下载 OpenXml SDK 2.0：[http ://www.microsoft.com/en-au/download/details.aspx?id=5124](http://www.microsoft.com/en-au/download/details.aspx?id=5124)

有用的教程：http: [//msdn.microsoft.com/en-us/library/ff478255.aspx](http://msdn.microsoft.com/en-us/library/ff478255.aspx)

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2013-01-25T13:50:50.460

出于同样的原因，我同意其他人的观点，即 OpenXML SDK 是一个很好的方法。我正在创建与您类似的报告生成方式。不幸的是，我需要生成的报告不仅在数据方面而且在布局方面都非常动态。

如果您的布局不需要更改，那么我强烈建议您使用 SDK 工具，它可以让您获取任何 word 文档并生成 c# 代码，以便您重新创建完全相同的文档。从那时起，您所要做的就是用代码中所需的数据替换文本。您可以用 word 制作通用报告，使用该工具获取代码，然后只需搜索代码中的占位符文本并将该字符串替换为变量。它就像 text1.text = reportData 一样简单；

我还发现 SDK 工具是学习代码的好方法，您可以并排比较两个文件，看看它们在代码中有何不同。

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2013-01-21T11:12:13.720

您可以在您的程序中使用 Interop.Word，但请记住，可用的文档非常稀缺。我设法开发了我的应用程序，查看了[来自 C-SharpCorner 的示例](http://www.c-sharpcorner.com/UploadFile/amrish_deep/WordAutomation05102007223934PM/WordAutomation.aspx)或[来自 WindowsDevCenter](http://windowsdevcenter.com/pub/a/windows/2006/04/18/programming-word-from-net.html)的示例。即使示例很旧，您也可以了解主要思想并熟悉语法，然后使用更新版本的 Interop.Word（语法稍微简单一些）编写您的程序。

在您的情况下，您应该创建一个简洁的 Word 模板，书签位于您将插入客户信息的文档位置。然后，您可以从程序中打开模板并使用这些书签进行导航，同时插入从数据库中检索到的信息。

如果您不想深入了解 Word 自动化，可以尝试 Interop.Word 的其他有趣替代方案，例如[DocX](http://docx.codeplex.com/)（甚至不需要安装 Microsoft Word 或 Office）或[Open XML](http://www.microsoft.com/en-us/download/details.aspx?id=5124)（以生成 .docx 文件）。

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2013-01-23T17:31:54.720

我使用了 interop 和 syncfusion 来创建报告（虽然我正在生成一个 excel 报告，但是这两种技术也可以用来生成 word 报告）。我的反馈 ：-

1.  虽然 interop 包含在大多数具有 Visual Studio 的计算机中（不确定非 Visual Studio 计算机），但使用 interop 需要在生成报告的计算机上也存在兼容的 microsoft excel，而 syncfusion 不需要在生成报告的计算机上存在 microsoft excel同一台电脑。
2.  如果您打算使用 asp.net，则不支持互操作（至少在我工作时不支持），而支持同步融合。

同步融合链接：- [http://www.syncfusion.com/products/aspnet/docio](http://www.syncfusion.com/products/aspnet/docio)

摘要：- 如果您正在开发控制台应用程序并且服务器（将部署该应用程序）安装了 microsoft office，那么互操作可能是一个好主意。否则，您也可以查看同步融合。

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2014-04-11T07:55:27.227

您可以使用免费的[.NET Word API](http://freeword.codeplex.com)使用 c# 生成 word 97 ~ 2010 的报告。

```
 //Create word document
        Document document = new Document();
        document.LoadFromFile(@"..\..\..\..\..\..\Data\Fax.doc");

        string[] filedNames = new string[]{"Contact Name","Fax","Date"};

        string[] filedValues = new string[]{"John Smith","+1 (69) 123456",System.DateTime.Now.Date.ToString()};

        document.MailMerge.Execute(filedNames, filedValues);

        //Save doc file.
        document.SaveToFile("Sample.doc", FileFormat.Doc); 
```

# html - 在另一个页面中动态显示不同的 html 链接详细信息

> ID：14393824
> 
> 赞同：0
> 
> 时间：2013-01-18T06:52:21.147
> 
> 标签：html, xml, xml-parsing, linq-to-xml, html-parsing

我在一个 html 页面中有 7 个链接，当我单击任何链接时，会转到另一个带有该链接的链接标题（例如：链接标题）的页面。

我的问题是，为此而不是为 7 个链接创建 7 个其他页面，是否可以创建一个页面，在单击链接时动态显示链接标题？

这可能通过使用 xml 来实现吗？是 xml 解析的新手吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-18T06:57:16.633

您必须使用诸如 php 之类的编程语言来动态加载数据。然后链接可以是：[http ://example.com/link.php?target=3](http://example.com/link.php?target=3)

# linux - 如何将百分比编码字符串转换为 UTF-8 编码并使用 UTF-8 字符串创建目录

> ID：14393826
> 
> 赞同：0
> 
> 时间：2013-01-18T06:52:23.380
> 
> 标签：linux, utf-8

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-18T07:26:16.887

There is confusion between UTF-8 and Unicode. Decoding `%DB%81%DB%8C%D9%84%D9%88` will give you the *bytes* `0xDB 0x81 0xDB 0x8C 0xD9 0x84 0xD9 0x88`. Apparently this is an *UTF-8* encoded string consisting of arabic characters. If you read this as UTF-8 and decode it into Unicode code points you get:

*   `0xDB 0x81` → U+06C1 Arabic letter heh goal (`ہ`),
*   `0xDB 0x8C` → U+06CC Arabic letter farsi yeh (`ہی`),
*   `0xD9 0x84` → U+0644 Arabic letter lam (`ل`),
*   `0xD9 0x88` → U+0648 Arabic letter waw (`و`).

This is not to be confused with what you are actually decoding into:

*   U+00DB Latin capital letter U with circumflex (`Û`),
*   U+0081
*   U+0084
*   U+0088
*   U+008C
*   U+00D9 Latin capital letter U with grave (`Ù`),

Furthemore, Unix filenames are actually composed of *bytes*, not characters. So this is up to you to choose how to display them.

So the easiest way for this case is probably to do the percent decoding into bytes, and create your directory using those bytes as filename, *without* translating them into actual Unicode characters.

Here is an example that works:

```
#include <sys/stat.h>
#include <string>

const int hex_value[256] = {
  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
  0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 0, 0, 0, 0, 0, 0,
  0,10,11,12,13,14,15
};

int main(int argc, char **argv)
{
  std::string str("%DB%81%DB%8C%D9%84%D9%88");

  size_t t = 0;
  for (size_t s = 0; s < str.size(); s++) {
    if (str[s] == '%' && s + 2 < str.size()) {
      str[t] = hex_value[str[s+1]] * 16 + hex_value[str[s+2]];
      s += 2;
    }
    else
      str[t] = str[s];
    t++;
  }
  str.resize(t);

  mkdir(str.c_str(), 0755);
} 
```

If you still see other stuff than `ہیلو` on your terminal, it could be your terminal that is confused as to the character set it should use. To clear up this possible confusion, pipe the output of `ls` through `hexdump` and make sure that you see the bytes you are expecting:

```
$ ls | hexdump
0000000 61 2e 6f 75 74 0a 63 6c 65 61 6e 2e 70 68 70 0a
…
00000c0 32 32 2e 63 6f 6d 3a 32 32 0a db 81 db 8c d9 84
00000d0 d9 88 0a                                       
00000d3 
```

Here you can clearly see the correct filename `db 81 db 8c d9 84 d9 88 0a` at the end.

# html - 防止html缓存

> ID：14393828
> 
> 赞同：1
> 
> 时间：2013-01-18T06:52:30.103
> 
> 标签：html

我已经添加了以下几行以防止缓存，内容显示在 iframe 中

```
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta http-Equiv="Cache-Control" Content="no-cache">
    <meta http-Equiv="Pragma" Content="no-cache">
    <meta http-Equiv="Expires" Content="0"> 
```

但它没有效果，有什么想法吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-18T07:33:52.253

我总是尝试使用 HTTP 标头来控制缓存，因为它们更有可能被所有缓存观察到。话虽如此，如果您需要在 html 中设置它，我会建议以下内容：

```
<meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
<meta http-equiv="Pragma" content="no-cache" />
<meta http-equiv="Expires" content="0" /> 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2018-05-11T00:14:22.647

我不能 100% 确定这是否适用于所有情况，但正如您所经历的那样，我的挫败感导致我一次将所有可能的元标记都抛到了问题后面。我正在使用 PHP，所以我让它使用当前时间前 24 小时的日期填充元标记的内容。

```
<!-- Prevent Caching of this Page -->
<meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
<meta http-equiv="Pragma" content="no-cache" />
<meta http-equiv="Expires" content="<?php echo gmdate('D, d M Y H:i:s', time()-86400) . ' GMT' ?>" />
<meta http-equiv="last-modified" content="<?php echo gmdate('D, d M Y H:i:s', time()-86400) . ' GMT' ?>" /> 
```

通过谷歌搜索，我发现将“Expires”http-equiv 设置为“0”并不适用于所有情况，最好有一个过去的有效日期。

我真诚地希望这是一个好的建议，如果不是，请有人纠正我，以便我可以在这里更新我自己的做法。

# .net - ConfigurationManager.OpenExeConfiguration 等效于 FW 3.5 和 4.0？

> ID：14393829
> 
> 赞同：0
> 
> 时间：2013-01-18T06:52:34.783
> 
> 标签：.net, vb.net, visual-studio, frameworks, configurationmanager

我正在尝试为我的程序获取 LocalAppData 默认文件夹

但这仅适用于 FrameWork 4.5：

```
ConfigurationManager.OpenExeConfiguration(ConfigurationUserLevel.PerUserRoaming).FilePath 
```

我需要一种在框架 3.5 和框架 4.0 中执行此操作的方法。

PS：在 VB.NET 中

谢谢你的阅读。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-18T15:48:37.890

此方法是从 .NET Framework 2.0 定义的。

请参阅[http://msdn.microsoft.com/en-en/library/ms134265(v=vs.110).aspx](http://msdn.microsoft.com/en-en/library/ms134265(v=vs.110).aspx) => 版本信息

问候，约尔格

# ios - 从数组填充的 NSArray 尝试插入 nil 对象

> ID：14393832
> 
> 赞同：0
> 
> 时间：2013-01-18T06:52:49.620
> 
> 标签：ios, nsarray

我尝试从现有填充数组中填充数组，但有时会出现此错误：

```
*** -[__NSPlaceholderArray initWithObjects:count:]: attempt to insert nil object from objects[4830] 
```

此代码行导致的异常：

```
 NSArray *result = [NSArray arrayWithArray:self.testerLog]; 
```

testerLog 是 NSMutableArray，我用它来从 App 收集日志。下一个方式填充测试员日志：

```
[self.testerLog addObject:[NSString stringWithFormat:@"%@: %@ \n", [NSDate date], logRecord]]; 
```

怎么可能发生？当我将对象添加到 testerLog 并且尝试从此填充数组填充数组时失败时也不例外？

编辑：关于初始化 testerLog。下面是 testerLog 方法的代码：

```
- (NSMutableArray *)testerLog {
    if (!_testerLog) {
        _testerLog = [NSMutableArray array];
    }

    return _testerLog;
} 
```

所以我认为它不应该是零。

**更新：** 我忘了说将 NSString 添加到 testerLog 的方法可以从多个线程调用；

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-18T11:28:33.407

您发布的吸气剂不是线程安全的。要获得等效的线程安全 getter，请改用以下代码。

```
-(NSMutableArray *)testerLog {

    static dispatch_once_t onceToken;
    dispatch_once(&onceToken, ^{

        // If you're not using ARC you most definitely want to retain the array!
        // _testerLog = [[NSMutableArray array] retain]; 

        // If you're using ARC you should just assign
        _testerLog = [NSMutableArray array];
    });

    return _testerLog;
} 
```

dispatch_once 调用确保无论您放入其中的任何代码，它都只会在您的应用程序的生命周期内执行一次（以线程安全的方式）。静态`onceToken`是标识特定块的内容。在您的特定情况下，这很有用，因为它保证数组仅实例化一次，无论有多少线程执行此 getter。

NON-ARC ONLY：保留是因为您希望数组在此方法执行后仍然存在（同样，仅当您不使用 ARC 时）。

此外，如果您不希望在`nil`某处看到值，因为这意味着存在一些逻辑错误：**使用 assertions**。以下是如何使用它们的示例：

```
assert(self.testerLog != nil);
NSArray *result = [NSArray arrayWithArray:self.testerLog]; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-18T07:15:01.443

确保您正确初始化了 testerLog 数组。它为零，这导致了您的问题！

addObject 可能不会引发错误，因为您正在尝试将有效的 NSString 添加到 testerLog 数组。尝试在添加对象的行之后立即在 self.testerLog 上执行 NSLog，并查看它是否按预期正确打印了 testerLog 数组。

# version-control - “不是头部改版！” 汞汞

> ID：14393833
> 
> 赞同：50
> 
> 时间：2013-01-18T06:52:51.933
> 
> 标签：version-control, mercurial, tortoisehg

我在一个小型组织中工作，只有两个开发人员，我们使用 Mercurial 版本控制`tortoisehg-2.2.2-hg-2.0.2-x86`。我是新手。

考虑`programmerA`, `programmerB`。

在`programerA`机器中，我创建了一个存储库和一个名为的客户端`"EFSL"`。 `programmerB`只是一个名称`"Uthaya Kumar"`指向`programmerA`机器存储库的客户端。

当我在`programmerA`机器中拉取更改集时，它会创建一个新分支，并且它还`"Not a head revision!"`在工作目录和存储库中显示错误。

在`programmerB`里面很好。

请参阅下面的屏幕截图。

提前致谢。

![屏幕截图 1](../Images/756c0b7803361bbf1853da85abad9eaa.png) ![屏幕截图 2](../Images/8d7ce9716e5114d0b498f1ac36a89e74.png) ![屏幕截图 3](../Images/8d1db09d952f5187bdf3340d1bd3eec5.png)

* * *

## 回答 #1

> 赞同：58
> 
> 时间：2013-01-18T08:45:35.227

检查第一个屏幕截图，并看到顶行在列`8+`中显示。`Rev`这意味着您的工作副本基于修订版 8。您可以沿着该行向下，还可以看到它在修订版 8 处加入，这表明相同的事情。

有两种方法可以解决此问题，具体取决于您是否进行了任何更改。

*   如果您没有进行任何更改，那么您将右键单击修订版 13 并选择**更新**...。更新到最新的更改。

*   如果您进行了更改，那么您需要提交这些更改，然后右键单击修订版 13 并选择**Merge with local...**这会弹出一个向导来处理合并。

在您的上一个屏幕截图中，您似乎根本没有工作副本，因此您需要使用上面的更新程序更新到修订版 13。

您可以`update`通过更改 TortoiseHg 中的设置来自动执行此操作：

1.  选择**文件**>**设置**_`Workbench`
2.  通过选择顶部的相应选项卡来选择要更改设置的位置。选择对用户来说是全局的，或者只针对这个存储库
3.  在左侧列表中选择**Workbench**
4.  在右侧部分中，查找标有**“拉取操作后”的下拉列表**
5.  从列表中选择**更新**

每次您进行拉动时，这都会更新到最新版本，这将避免您的第一个屏幕截图中出现问题。当您和其他开发人员进行更改时，您仍然需要进行手动合并。

该列表中的其他选项`rebase`都`fetch`依赖于启用的适当扩展并且仅供高级使用。

* * *

## 回答 #2

> 赞同：32
> 
> 时间：2013-01-18T08:52:05.177

这是 Mercurial 的完全正常和正确的行为。您的工作目录当前已更新为变更集 8“Merge 2”。拉取操作不会更改工作目录的内容。它只是获取丢失的变更集并将它们添加到您的历史图表中。拉出后，您仍在处理变更集 8。现在“不是主要修订版”出现在警告您，如果您现在进行任何更改并提交它们，您将创建一个从修订版 8 派生的新变更集，这将有效地创建一个新的分支。这是你可能想做也可能不想做的事情。通常在拉取新的变更集后，您希望通过右键单击最新的变更集并选择更新...将工作目录更新为最新的变更集。

PS 你没有使用最新版本的 TortoiseHG。请更新到最新版本。它包含许多改进并解决了许多错误。

# ruby-on-rails-3 - 无法在 Mountain Lion 上安装 rmagick gem

> ID：14393842
> 
> 赞同：3
> 
> 时间：2013-01-18T06:53:51.903
> 
> 标签：ruby-on-rails-3, imagemagick, rmagick

注意：我的情况几乎与此相同：[Can't install pg gem on Mountain Lion](https://stackoverflow.com/questions/12273815/cant-install-pg-gem-on-mountain-lion)。

我刚刚从 Snow Leopard 升级到 Mountain Lion，Rails 给我带来了各种各样的问题，尤其是尝试安装“rmagick”gem。我正在运行 Ruby 1.9.3-p362 和 Rails 3.2.11。

```
➜  git:(master) ✗ sudo gem install rmagick -v 2.13.1
Building native extensions.  This could take a while...
ERROR:  Error installing rmagick:
    ERROR: Failed to build gem native extension.

        /Users/sscirrus/.rvm/rubies/ruby-1.9.2-p320/bin/ruby extconf.rb
checking for Ruby version >= 1.8.5... yes
checking for gcc-4.2... yes
checking for Magick-config... yes

Warning: Found more than one ImageMagick installation. This could cause problems at runtime.
         /opt/local/bin/Magick-config reports version 6.6.6 Q8 is installed in /opt/local
         /OPT/LOCAL/BIN/Magick-config reports version 6.6.6 Q8 is installed in /opt/local
         /USR/LOCAL/BIN/Magick-config reports version 6.8.0 Q16 is installed in /USR/LOCAL/Cellar/imagemagick/6.8.0-10
Using 6.6.6 Q8 from /opt/local.

checking for ImageMagick version >= 6.4.9... yes
checking for HDRI disabled version of ImageMagick... yes
checking for stdint.h... *** extconf.rb failed ***
Could not create Makefile due to some reason, probably lack of
necessary libraries and/or headers.  Check the mkmf.log file for more
details.  You may need configuration options.

Provided configuration options:
    --with-opt-dir
    --without-opt-dir
    --with-opt-include
    --without-opt-include=${opt-dir}/include
    --with-opt-lib
    --without-opt-lib=${opt-dir}/lib
    --with-make-prog
    --without-make-prog
    --srcdir=.
    --curdir
    --ruby=/Users/sscirrus/.rvm/rubies/ruby-1.9.2-p320/bin/ruby
/Users/sscirrus/.rvm/rubies/ruby-1.9.2-p320/lib/ruby/1.9.1/mkmf.rb:368:in `try_do': The complier failed to generate an executable file. (RuntimeError)
You have to install development tools first.
    from /Users/sscirrus/.rvm/rubies/ruby-1.9.2-p320/lib/ruby/1.9.1/mkmf.rb:452:in `try_cpp'
    from /Users/sscirrus/.rvm/rubies/ruby-1.9.2-p320/lib/ruby/1.9.1/mkmf.rb:834:in `block in have_header'
    from /Users/sscirrus/.rvm/rubies/ruby-1.9.2-p320/lib/ruby/1.9.1/mkmf.rb:693:in `block in checking_for'
    from /Users/sscirrus/.rvm/rubies/ruby-1.9.2-p320/lib/ruby/1.9.1/mkmf.rb:280:in `block (2 levels) in postpone'
    from /Users/sscirrus/.rvm/rubies/ruby-1.9.2-p320/lib/ruby/1.9.1/mkmf.rb:254:in `open'
    from /Users/sscirrus/.rvm/rubies/ruby-1.9.2-p320/lib/ruby/1.9.1/mkmf.rb:280:in `block in postpone'
    from /Users/sscirrus/.rvm/rubies/ruby-1.9.2-p320/lib/ruby/1.9.1/mkmf.rb:254:in `open'
    from /Users/sscirrus/.rvm/rubies/ruby-1.9.2-p320/lib/ruby/1.9.1/mkmf.rb:276:in `postpone'
    from /Users/sscirrus/.rvm/rubies/ruby-1.9.2-p320/lib/ruby/1.9.1/mkmf.rb:692:in `checking_for'
    from /Users/sscirrus/.rvm/rubies/ruby-1.9.2-p320/lib/ruby/1.9.1/mkmf.rb:833:in `have_header'
    from extconf.rb:193:in `<main>'

Gem files will remain installed in /Users/sscirrus/.rvm/gems/ruby-1.9.2-p320/gems/rmagick-2.13.1 for inspection.
Results logged to /Users/sscirrus/.rvm/gems/ruby-1.9.2-p320/gems/rmagick-2.13.1/ext/RMagick/gem_make.out

➜  applyco git:(master) ✗ brew install imagemagick --disable-openmp
Warning: It appears you have MacPorts or Fink installed.
Software installed with other package managers causes known problems for
Homebrew. If a formula fails to build, uninstall MacPorts/Fink and try again.
Error: imagemagick-6.8.0-10 already installed

➜  applyco git:(master) ✗ apt-get install libmagick9-dev
zsh: command not found: apt-get 
```

我努力了：

*   使用命令行工具安装 Xcode
*   重新安装自制软件
*   清除我所有 repo 的 gem（包括 Gemfile.lock）并运行`bundle install`
*   重新安装捆绑器 gem
*   重新安装 ImageMagick

没有任何东西，包括 SO 上其他地方的答案，都没有任何用处。你能为我指出正确的方向吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-12T20:48:16.780

我遇到了与您在 Mountain Lion 上为 RoR 3.2.11 设置开发环境相同的问题。显然，最后一个版本的 RMagick (2.13.1) 不能很好地与最后一个版本的 ImageMagick (6.8.2-0) 一起编译。禁用 openmp 并从源代码构建就像，咳咳...... Magick。

```
brew uninstall imagemagick
brew install imagemagick --disable-openmp --build-from-source
gem install rmagick 
```

我不需要编辑[http://blog.paulopoiati.com/2013/01/28/installing-rmagick-in-mac-os-x-mountain-lion-with-homebrew/](http://blog.paulopoiati.com/2013/01/28/installing-rmagick-in-mac-os-x-mountain-lion-with-homebrew/)中描述的 brew 公式，但是那将是下一步尝试。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-06-17T02:10:12.377

第一次尝试将 Paperclip 与 Rails 3 一起使用时，我遇到了同样的问题。总结一下以前的答案，对我有用的是以下内容：

```
sudo chown -R `whoami` /usr/local
brew link --overwrite imagemagick 
```

谢谢！

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-24T06:08:35.043

我在这里遇到了同样的问题......但有一个区别，也许你的自制软件与另一个版本的 Imagemagick 相关联。

因此，即使安装了 imagemagick-6.8.0-10 也找不到。

尝试类似的事情 `brew unlink imagemagick` ，`brew link imagemagick` 看看会发生什么。

这解决了我的问题 [http://robots.thoughtbot.com/post/27985816073/the-hitchhikers-guide-to-riding-a-mountain-lion](http://robots.thoughtbot.com/post/27985816073/the-hitchhikers-guide-to-riding-a-mountain-lion)

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-06-08T12:52:50.963

可能是权限问题尝试运行

```
sudo chown -R `whoami` /usr/local 
```

然后再试一次。

# primefaces - Primefaces Spinner 如何避免显示零？

> ID：14393848
> 
> 赞同：0
> 
> 时间：2013-01-18T06:54:15.490
> 
> 标签：primefaces, spinner

您好我正在使用 Primefaces Spinner 组件[Primefaces Spinner](http://www.primefaces.org/showcase-labs/ui/spinner.jsf)

我不想在 Spinner 内显示空的 Spinner，因为默认情况下它显示为零。我们能避免这种情况吗？我们可以显示空的 Spinner 吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-19T13:40:05.923

我修复了上述问题，以便在我的 bean 类中使用 Wrapper 类 Integer、Float 而不是 int、float 进行更改。

# c# - 在 DropDownList1.SelectedItem.Value 引发 Nullpointexception

> ID：14393852
> 
> 赞同：0
> 
> 时间：2013-01-18T06:54:21.543
> 
> 标签：c#, asp.net, nullpointerexception

页面加载时出现 Nullpoint 异常。我该如何预防？

```
protected override void InitializeCulture() 
{ 
    base.InitializeCulture();
    if (DropDownList1.SelectedItem.Value != null) // NULL POINT EXCEPTION THROWN HERE
    {
       //
    }
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-18T07:18:03.550

`InitializeCulture`通常在页面生命周期中调用得太早（在加载视图状态等之前，因此引用控件可能会出现问题）。我假设可能想使用下拉列表中选择的值设置当前文化。为此，您应该嗅探`Request.Form`而不是使用控件引用。例如，

```
protected override void InitializeCulture() 
{ 
    base.InitializeCulture();
    var selectedCulture = Request.Form["DowndownListName"];
    if (!string.IsNullOrEmpty(selectedCulture))
    {
       ...
    }
} 
```

*DowndownListName*应该是`UniqueID`服务器端控件的（以及呈现的 html 源代码中呈现的 select 元素的 name 属性）。我会建议使用 html 控件（而不是服务器控件）来拥有一个可以在源代码中硬编码的静态名称。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-18T06:58:03.363

您可以通过确保 DropDownList1 和 SelectedItem 都不为空，或者将代码移动到它们不为空的点，或者更改 if 语句以检查 DropDownList1 或 SelectItem 是否为空，然后再检查 DropDownList1.SelectedItem 来防止 NullReferenceException。价值。

# c# - 剑道日历中突出显示的日期仅在警报时有效

> ID：14393855
> 
> 赞同：1
> 
> 时间：2013-01-18T06:54:34.990
> 
> 标签：c#, javascript, jquery, kendo-ui

我见过很多关于“JavaScript 仅在警报下工作”的问题，但答案仅针对这些问题。我正在使用 Kendo Calender，并希望从数据库中的值中突出显示特定日期。以下代码仅在编写警报时才能正常工作。请帮助：

```
 var duedates = [];
     function GetDueDates() {
                     $.ajax({
                     type: "POST",
                     url: "ChartBinder.asmx/GetDueDates",
                     data: '{}',
                     contentType: "application/json; charset=utf-8",
                     dataType: "json",
                     success: function (msg) {
                         duedates = $.parseJSON(msg.d);      
                     },
                     error: function (msg) {    
                         alert("error");
                     }    
                 });
               }

  $(document).ready(function () {
               GetDueDates(); 
```

//在这里插入警报时功能起作用..

```
 var today = new Date();
               $("#calendar").kendoCalendar({
                   change: onChange,
                   navigate: onNavigate,
                   value: today,
                   dates: duedates,
                   month: {
                       // template for dates in month view
                       content: '# if ($.inArray(+data.date, data.dates) != -1) { #' +
                                    '<div class="' +
                                           "dataexist" +
                                             '"></div>' +
                                 '# } #' +
                                 '#= data.value #'
                   },
                   footer: "Today - #=kendo.toString(data, 'd') #"

               });          

           $(document).find("#panelbar").kendoPanelBar({
               expandMode: "single"
           });
       }); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-18T09:19:50.383

得到解决方案：更改代码如下：

```
var duedates = [];       
    function GetDueDates() {
             $.ajax({
             type: "POST",
             url: "ChartBinder.asmx/GetDueDates",
             data: '{}',
             contentType: "application/json; charset=utf-8",
             dataType: "json",
             success: function (msg) {
                 duedates = $.parseJSON(msg.d);                  
                  },
             error: function (msg) {    
                 alert("error");
             }    });
      }

     $(document).ready(function () {
         GetDueDates();
         setTimeout(function () { loadCalender(); }, 100);
         $(document).find("#panelbar").kendoPanelBar({
             expandMode: "single"
         });
         });

     function loadCalender() {
         var today = new Date();
         $("#calendar").kendoCalendar({
             change: onChange,
             navigate: onNavigate,    
             value: today,
             dates: duedates,
             month: {
                 // template for dates in month view
                 content: '# if ($.inArray(+data.date, data.dates) != -1) { #' +
                                                 '<div class="' +
                                                        "dataexist" +
                                                          '"></div>' +
                                              '# } #' +
                                              '#= data.value #'
             },
             footer: "Today - #=kendo.toString(data, 'd') #"
             });    
     } 
```

# java - 如果用户选中复选框，则需要显示一些编辑文本字段，否则不显示它

> ID：14393857
> 
> 赞同：0
> 
> 时间：2013-01-18T06:54:45.290
> 
> 标签：java, android, checkbox, ischecked

我必须开发一个注册表单android app.here我必须输入edittext字段通过soap webservices调用自动保存在mysql数据库中。

在这里我必须遵循我的额外要求是

1.  送货地址和帐单地址相同意味着必须选中复选框，还必须输入帐单地址编辑文本字段，同时送货地址编辑文本字段必须显示不可见，帐单地址也必须保存在送货地址数据库字段中。

2.  帐单地址和送货地址不同意味着必须取消选中复选框，并且还必须显示送货地址编辑文本字段可见。

    （即）如果用户选中复选框，我需要显示一些编辑文本字段，否则不显示它。

我该如何开发这些。请帮助我。

我使用了以下代码：

```
public class NewCustomer extends Activity{
private final String NAMESPACE = "http://xcart.com";
private final String URL = "http://10.0.0.75:8085/XcartLogin/services/RetailerWs?wsdl";
private final String SOAP_ACTION = "http://xcart.com/insertData";
private final String METHOD_NAME = "insertData";
CheckBox chkRememberMe;

Button btninsert;
/** Called when the activity is first created. */
@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.new_customer);

    btninsert = (Button)findViewById(R.id.register);
    btninsert.setOnClickListener(new View.OnClickListener() {
         public void onClick(View v) {

             EditText Baddress = (EditText) findViewById(R.id.tf_address);
             EditText Bcity = (EditText) findViewById(R.id.tf_city);
             EditText Bstate = (EditText) findViewById(R.id.tf_state);
             EditText Bcountry = (EditText) findViewById(R.id.tf_country);
             EditText Bzipcode = (EditText) findViewById(R.id.tf_zipcode);
             EditText Saddress = (EditText) findViewById(R.id.tf_address1);
             EditText Scity = (EditText) findViewById(R.id.tf_city1);
             EditText Sstate = (EditText) findViewById(R.id.tf_state1);
             EditText Szipcode = (EditText) findViewById(R.id.tf_zipcode1);
             EditText Scountry = (EditText) findViewById(R.id.tf_country1);
        if(!(Baddress.getText().toString().length() == 0)){
                         if(!(Bcity.getText().toString().length() == 0)){
                             if(!(Bstate.getText().toString().length() == 0)){
                                 if(!(Bcountry.getText().toString().length() == 0)){
                                    if((checkZipcode1(zipcode1))){
                                         if(!(Saddress.getText().toString().length() == 0)){
                                             if(!(Scity.getText().toString().length() == 0)){
                                                 if(!(Sstate.getText().toString().length() == 0)){
                                                     if(!(Scountry.getText().toString().length() == 0)){
                                                         if((checkZipcode(zipcode))){
                     insertValues();
                       }   
                                                         else{
                                                              showAlertbox("Enter the 5 or 6 digit valid zipcode)!!"); 

                                                      }
                                                    }
                                                     else{
                                                             showAlertbox("Country is Required!!"); 

                                                  }
                                                }
                                                 else{
                                                      showAlertbox("State is Required!!"); 

                                              }
                                            }
                                             else{
                                                  showAlertbox("City is Required!!"); 

                                          }
                                        }else{
                                               showAlertbox("Address is Required!!"); 

                                       }
                                     }
                                     else{
                                          showAlertbox("Enter the 5 or 6 digit valid zipcode)!!"); 

                                  }
                                }
                                 else{
                                      showAlertbox("Country is Required!!"); 

                              }
                            }
                             else{
                                  showAlertbox("State is Required!!"); 

                          }
                        }
                         else{
                              showAlertbox("City is Required!!"); 

                      }
                    }else{
                           showAlertbox("Address is Required!!"); 

                   }
            }

         });

     }

         public void showAlertbox(String erroMessage) {
                 AlertDialog alertdialog = new AlertDialog.Builder(this.getParent())
    .create();
           // Setting Dialog Message
            alertdialog.setTitle("Error Message");
           alertdialog.setMessage(erroMessage);
          alertdialog.setButton("OK",
                  new DialogInterface.OnClickListener() {

        @Override
        public void onClick(DialogInterface dialog,
                int which) {
            // TODO Auto-generated method stub
            //finish();
            return;
        }
    });

        alertdialog.show();

}

public void insertValues(){
 SoapObject request = new SoapObject(NAMESPACE, METHOD_NAME);
  EditText Baddress = (EditText) findViewById(R.id.tf_address);
 String baddr = Baddress.getText().toString();
 EditText Bcity = (EditText) findViewById(R.id.tf_city);
 String bcity = Bcity.getText().toString();
 EditText Bstate = (EditText) findViewById(R.id.tf_state);
 String bstate = Bstate.getText().toString();
 EditText Bcountry = (EditText) findViewById(R.id.tf_country);
 String bcountry = Bcountry.getText().toString();
 EditText Bzipcode = (EditText) findViewById(R.id.tf_zipcode);
 String bzipcode = Bzipcode.getText().toString();
 EditText Saddress = (EditText) findViewById(R.id.tf_address1);
 String saddr = Saddress.getText().toString();
 EditText Scity = (EditText) findViewById(R.id.tf_city1);
 String scity = Scity.getText().toString();
 EditText Sstate = (EditText) findViewById(R.id.tf_state1);
 String sstate = Sstate.getText().toString();
 EditText Scountry = (EditText) findViewById(R.id.tf_country1);
 String scountry = Scountry.getText().toString();
 EditText Szipcode = (EditText) findViewById(R.id.tf_zipcode1);
 String szipcode = Szipcode.getText().toString();
  PropertyInfo baddress =new PropertyInfo();
    baddress.setName("Baddress");//Define the variable name in the web service method
    baddress.setValue(baddr);//Define value for fname variable
    baddress.setType(String.class);//Define the type of the variable
    request.addProperty(baddress);//Pass properties to the variable

  //Pass value for userPassword variable of the web service
    PropertyInfo bci =new PropertyInfo();
    bci.setName("Bcity");
    bci.setValue(bcity);
    bci.setType(String.class);
    request.addProperty(bci);
    PropertyInfo bsta =new PropertyInfo();
    bsta.setName("Bstate");//Define the variable name in the web service method
    bsta.setValue(bstate);//Define value for fname variable
    bsta.setType(String.class);//Define the type of the variable
    request.addProperty(bsta);//Pass properties to the variable

  //Pass value for userPassword variable of the web service
    PropertyInfo bcoun =new PropertyInfo();
    bcoun.setName("Bcountry");
    bcoun.setValue(bcountry);
    bcoun.setType(String.class);
    request.addProperty(bcoun); 
    PropertyInfo bzip =new PropertyInfo();
    bzip.setName("Bzipcode");
    bzip.setValue(bzipcode);
    bzip.setType(String.class);
    request.addProperty(bzip); 
    PropertyInfo saddress =new PropertyInfo();
    saddress.setName("Saddress");//Define the variable name in the web service method
    saddress.setValue(saddr);//Define value for fname variable
    saddress.setType(String.class);//Define the type of the variable
    request.addProperty(saddress);//Pass properties to the variable

  //Pass value for userPassword variable of the web service
    PropertyInfo sci =new PropertyInfo();
    sci.setName("Scity");
    sci.setValue(scity);
    sci.setType(String.class);
    request.addProperty(sci);
    PropertyInfo ssta =new PropertyInfo();
    ssta.setName("Sstate");//Define the variable name in the web service method
    ssta.setValue(sstate);//Define value for fname variable
    ssta.setType(String.class);//Define the type of the variable
    request.addProperty(ssta);//Pass properties to the variable

  //Pass value for userPassword variable of the web service
    PropertyInfo scoun =new PropertyInfo();
    scoun.setName("Scountry");
    scoun.setValue(scountry);
    scoun.setType(String.class);
    request.addProperty(scoun); 
    PropertyInfo szip =new PropertyInfo();
    szip.setName("Szipcode");
    szip.setValue(szipcode);
    szip.setType(String.class);
    request.addProperty(szip);
       SoapSerializationEnvelope envelope = new SoapSerializationEnvelope(SoapEnvelope.VER11);
    envelope.setOutputSoapObject(request);
    HttpTransportSE androidHttpTransport = new HttpTransportSE(URL);

    try{
     androidHttpTransport.call(SOAP_ACTION, envelope);
        SoapPrimitive response = (SoapPrimitive)envelope.getResponse();

        TextView result = (TextView) findViewById(R.id.textView2);
        result.setText(response.toString());
        chkRememberMe = (CheckBox) findViewById(R.id.addresscheckbox);
           //testing if it is checked or unchecked
            if (chkRememberMe.isChecked())
            {
                //if it is check
                Saddress.setVisibility(View.VISIBLE);

            }else{
                Saddress.setVisibility(View.GONE);

        }

 }
 catch(Exception e){

 }

} 
```

}

我怎样才能超越我的要求。请给我一些解决方案。

**编辑：**

我更改了下面的代码，如下所示：

```
chkIos = (CheckBox) findViewById(R.id.addresscheckbox);

    chkIos.setOnClickListener(new OnClickListener() {

      public void onClick(View v) {
                //is chkIos checked?
        if (((CheckBox) v).isChecked()) {
            Saddress.setEnabled(false);
        }

      }
    }); 
```

现在我必须运行应用程序并选中复选框意味着我的控制台窗口显示以下错误。

```
01-24 13:39:12.034: E/AndroidRuntime(1327): FATAL EXCEPTION: main
01-24 13:39:12.034: E/AndroidRuntime(1327): java.lang.NullPointerException
01-24 13:39:12.034: E/AndroidRuntime(1327):     at com.ssmobileproductions.catalogue.NewCustomer$1.onClick(NewCustomer.java:69)
01-24 13:39:12.034: E/AndroidRuntime(1327):     at android.view.View.performClick(View.java:2408)
01-24 13:39:12.034: E/AndroidRuntime(1327):     at android.widget.CompoundButton.performClick(CompoundButton.java:99)
01-24 13:39:12.034: E/AndroidRuntime(1327):     at android.view.View$PerformClick.run(View.java:8816)
01-24 13:39:12.034: E/AndroidRuntime(1327):     at android.os.Handler.handleCallback(Handler.java:587)
 01-24 13:39:12.034: E/AndroidRuntime(1327):    at android.os.Handler.dispatchMessage(Handler.java:92)
 01-24 13:39:12.034: E/AndroidRuntime(1327):    at android.os.Looper.loop(Looper.java:123)
  01-24 13:39:12.034: E/AndroidRuntime(1327):   at android.app.ActivityThread.main(ActivityThread.java:4627)
  01-24 13:39:12.034: E/AndroidRuntime(1327):   at java.lang.reflect.Method.invokeNative(Native Method)
   01-24 13:39:12.034: E/AndroidRuntime(1327):  at java.lang.reflect.Method.invoke(Method.java:521)
  01-24 13:39:12.034: E/AndroidRuntime(1327):   at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:868)
   01-24 13:39:12.034: E/AndroidRuntime(1327):  at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:626)
   01-24 13:39:12.034: E/AndroidRuntime(1327):  at dalvik.system.NativeStart.main(Native Method) 
```

单击复选框时出现上述错误。我该如何解决这些错误。请帮助我。

**编辑：**

```
chkIos = (CheckBox) findViewById(R.id.addresscheckbox);

    chkIos.setOnClickListener(new View.OnClickListener() {
      public void onClick(View v) {
        if (((CheckBox) v).isChecked())
        {
             S_address = (TextView)findViewById(R.id.address1);  
             S_address.setVisibility(View.GONE);  

        Saddress = (EditText)findViewById(R.id.tf_address1);  
        Saddress.setVisibility(View.GONE);  
      }
        else
        {
             S_address = (TextView)findViewById(R.id.address1);  
             S_address.setVisibility(View.VISIBLE);  

       Saddress = (EditText)findViewById(R.id.tf_address1);  
        Saddress.setVisibility(View.VISIBLE);
      }
     }
    }); 
```

现在我必须运行应用程序并选中复选框意味着送货地址是不可见的......我必须取消选中复选框意味着送货地址是可见的。

现在我的疑问是我是否必须选中复选框意味着我如何将 saddress 值保存在数据库中。在这里我必须保存 baddress 值也保存在 saddress 字段中......

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-18T06:58:35.213

我会一直在屏幕上显示所有编辑字段，但如果选中复选框，则让它们禁用您不希望它们输入数据的字段（通过调用 editText.setEnable(false)）。为此，请为复选框注册一个 onClickListener 并在您的侦听器中获取复选框的当前状态并相应地启用/禁用。

# wordpress - Wordpress 网站上 Facebook 'like' 按钮的打开图表问题 - 重定向太多？

> ID：14393858
> 
> 赞同：0
> 
> 时间：2013-01-18T06:54:46.760
> 
> 标签：wordpress, facebook-opengraph

G'day

我在让 Facebook 的“喜欢”按钮正常工作时遇到了一些麻烦。有问题的网站是[http://etincellebyemilie.com.au/casual-afternoon-tea/](http://etincellebyemilie.com.au/casual-afternoon-tea/)

使用以下代码将按钮添加到页面...

```
<iframe src="http://www.facebook.com/plugins/like.php?href=<?php echo urlencode(get_permalink()); ?>&amp;send=false&amp;layout=button_count&amp;width=60&amp;show_faces=false&amp;action=like&amp;colorscheme=light&amp;font&amp;height=21" scrolling="no" frameborder="0" style="border:none; overflow:hidden; width:80px; height:21px;" allowTransparency="true"></iframe> 
```

当点击按钮时，like 被注册并出现在用户的 facebook 页面上。但是，返回该站点的链接会产生 310 错误并指出**“重定向太多”**，正如您可以通过访问生成的 URL 看到的那样 - [http://etincellebyemilie.com.au/casual-afternoon-tea/?fb_action_ids =10151158453571916&fb_action_types=og.likes&fb_source=timeline_og&action_object_map=%7B%2210151158453571916%22%3A581712555188197%7D&action_type_map=%7B%2210151158453571916%22%3A%22og.likes%22%7D&action_ref_map=%5B%5D](http://etincellebyemilie.com.au/casual-afternoon-tea/?fb_action_ids=10151158453571916&fb_action_types=og.likes&fb_source=timeline_og&action_object_map=%7B%2210151158453571916%22%3A581712555188197%7D&action_type_map=%7B%2210151158453571916%22%3A%22og.likes%22%7D&action_ref_map=%5B%5D)

我已经使用 Facebook 对象调试器测试了这个 URL，结果告诉我**The 'og:url' property is required, but not present**。

这没有多大意义，因为我可以看到元标记*在*文档头部——所有的 og 标记都是由 Yoast SEO 插件生成的。

```
<meta property='og:locale' content='en_US'/>
<meta property='og:title' content='Casual Afternoon Tea - Etincelle By Emille'/>
<meta property='og:url' content='http://etincellebyemilie.com.au/casual-afternoon-tea/'/>
<meta property='og:site_name' content='Etincelle By Emille'/>
<meta property='og:type' content='article'/>
<meta property='og:image' content='http://etincellebyemilie.com.au/wp-content/uploads/2013/01/Maganda.jpg'/> 
```

如果有人对去哪里有什么想法，我很想听听。

干杯

# javascript - 无法理解 Firefox 键码参考

> ID：14393860
> 
> 赞同：2
> 
> 时间：2013-01-18T06:54:54.643
> 
> 标签：javascript, firefox, keycode

我正在尝试使用以下方法模拟一些键盘键码（`Alt`+ `W`）`initKeyEvent`：

```
evt = document.createEvent("KeyboardEvent");
evt.initKeyEvent("keypress",true,true,window,0,true,0,0,?,?);
body.dispatchEvent(evt); 
```

问题是我找不到`w`. [此处](https://dxr.mozilla.org/mozilla-central/source/dom/interfaces/events/nsIDOMKeyEvent.idl)记录了 Firefox 关键事件，但我无法理解。

在[这里](https://developer.mozilla.org/en-US/docs/DOM/event.initKeyEvent)`initKeyEvent`指定。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-18T08:23:23.470

这确实有点复杂，主要是出于历史原因。事情会有所不同，具体取决于您是在看`keypress`还是`keydown`/`keyup`事件。该`keypress`事件尽可能使用字符代码。这意味着对于可打印字符（您可以在文本字段中使用的字符），`charCode`应在`keyCode`参数为 0时设置参数。`charCode`参数实际上是字符的 ASCII 码，这意味着在您的情况下（字母`w`）您会这样做：

```
evt.initKeyEvent("keypress", true, true, window, 0, true, 0, 0, 0, "w".charCodeAt(0)); 
```

另一方面，对于不可打印字符或使用`keydown`/事件时，您应该设置参数并将 0 作为. 该参数是指[虚拟键码](https://developer.mozilla.org/en-US/docs/XUL/Tutorial/Keyboard_Shortcuts#Keycode_attribute)。您将在此处使用的关键代码是：`keyup``keyCode``charCode``DOM_VK_W`

```
evt.initKeyEvent("keydown", true, true, window, 0, true, 0, 0, evt.DOM_VK_W, 0); 
```

该常量`DOM_VK_W`仅在 Firefox 中定义，但是为了与其他浏览器兼容，您应该使用它的数值：

```
evt.initKeyEvent("keydown", true, true, window, 0, true, 0, 0, 87, 0); 
```

虚拟键码与许多字符的 ASCII 码相同，但它们不是一回事。特别是，虚拟键代码是指在键盘上按下的实际按钮，因此它们不区分小写和大写字母 - 这与`Ctrl``W`处理的组合键无关`keydown`。另一方面，文本字段（处理`keypress`）非常关心这种差异 - 这里使用 ASCII 代码来指示要添加的实际字符。

请注意，这种方法（区分键盘上按下按钮的事件和这些按钮产生的实际字符）和实际的虚拟键代码都是从 Windows“借来的”。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-18T07:02:43.817

查看您引用的页面，您可以使用第二个文档中定义的虚拟键代码：

```
94   const unsigned long DOM_VK_W              = 0x57; 
```

这将给出代码

```
evt.initKeyEvent("keypress", true, true, window, 0, true, 0, 0, 87, 0); 
```

或者您可以传递相同的值的字符代码（最后一个参数）：

```
evt.initKeyEvent("keypress", true, true, window, 0, true, 0, 0, 0, 87); 
```

注意：我无法对此进行测试，它直接基于文档。

# iphone - UIImageView 未显示在 iOS 应用程序中

> ID：14393865
> 
> 赞同：-1
> 
> 时间：2013-01-18T06:55:17.307
> 
> 标签：iphone, ios, objective-c, ios5

我正在`iOS`使用`5.1 iPhone SDK`. 该应用程序有 2 个视图控制器和一个选项卡视图控制器。我正在从链接到应用程序`UIImageView`的 a中分配 a。`library`分配的代码`UIIMageView`是从应用程序初始化和启动后调用的函数调用的。我使用下面的代码添加`UIImageView.`

```
UIWindow *window = [[UIApplication sharedApplication] keyWindow];
UIImageView *imgView = [[UIImageView alloc] initWithFrame:[window bounds]];
[window addSubview:imgView];
[window bringSubviewToFront:imgView]; 
```

问题是`imageView`应用程序运行时没有显示。**我无法将代码移出库或调用它的函数。**

感谢任何指针。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-18T07:04:50.437

```
 - (BOOL)application:(UIApplication *)application didFinishLaunchingWithOptions:(NSDictionary *)launchOptions
    {
        // Override point for customization after application launch.
    self.window = [[UIWindow alloc] initWithFrame:[[UIScreen mainScreen] bounds]];
        UIImageView *imgView = [[UIImageView alloc] initWithFrame:[self.window bounds]];
        imgView.backgroundColor = [UIColor redColor];
        [self.window addSubview:imgView];
        [self.window bringSubviewToFront:imgView];

        [self.window makeKeyAndVisible];
        return YES;
    } 
```

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-01-18T07:17:36.237

在您的`applicationDidFinishLaunchingWithOptions:`中，这就是您将第一个 View Controller 设置为您的`rootViewController`. 这意味着无论您在第一个视图控制器上放置什么，这些都是您在应用运行时首先看到的内容。

我建议你把你`UIImageView`的`firstViewController`..

```
 //in your first View Controller file.
  [self.view addSubview:imageView]; 
```

* * *

我不太确定本教程链接是否可以帮助您，但由于您提到您有 2 个视图控制器，您可能希望查看本教程，该教程展示了如何从您的更改为`first ViewController`您的`secondView.`

[http://iosmadesimple.blogspot.com/2012/08/switching-to-different-views-with.html](http://iosmadesimple.blogspot.com/2012/08/switching-to-different-views-with.html)

# sql - 不同的行数

> ID：14393867
> 
> 赞同：0
> 
> 时间：2013-01-18T06:55:32.800
> 
> 标签：sql, sql-server, sql-server-2000

我在 Sql Server 2000 中有一个旧数据库，我仍然需要维护它。我有这两个查询：

```
SELECT col1,
       COUNT(*)
FROM   someTable
WHERE  YEAR = 2012
       AND c_id = 1
       AND p_id = 4
GROUP BY
       col1

SELECT COUNT(*)
FROM   someTable
WHERE  YEAR = 2012
       AND c_id = 1
       AND p_id = 4
       AND col1 = '11111' 
```

当我在第一个查询中找到相同的值 '11111' 时，它在第二个查询中显示多 3 行。这怎么可能？kol1 的这个值唯一存在问题。它也会产生不同的总和。

数据库损坏或类似情况是否有可能产生此问题？

我试过这个更新：

```
update sometable
set col1=ltrim(rtrim(col1))
where c_id=1
and p_id=4
and year=2012 
```

它抛出了这个错误：

在索引页 (1:76450)、索引 ID 2、数据库“xxx”中找不到 RID“16140001100032303132811300400”的索引条目。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-18T07:06:27.533

也许您的表有 4 行，对应字段的值相同。我假设类似

```
col1 | year | c_id | p_id | any_field
11111| 2012 | 1    | 4    | value_1
11111| 2012 | 1    | 4    | value_2
11111| 2012 | 1    | 4    | value_3
11111| 2012 | 1    | 4    | value_4 
```

但是，any_field 没有被选中，由于其他重复的字段，您只会看到一个按 col1 分组的记录。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-18T07:01:51.577

在第一个实例中，您按 col1 分组，在第二个实例中，您指定要过滤的确切值。col1 中的某些值之后可能有尾随空格。例如...

```
'11111'
'11111 '
'11111  ' 
```

...将在 GROUP BY 中为您提供 3 行，但只有第一行会在您的第二个查询中返回结果。尝试使用 RTRIM() 函数

```
SELECT RTRIM(col1) AS col1,
       COUNT(*)
FROM   someTable
WHERE  YEAR = 2012
       AND c_id = 1
       AND p_id = 4
GROUP BY
       RTRIM(col1)

SELECT COUNT(*)
FROM   someTable
WHERE  YEAR = 2012
       AND c_id = 1
       AND p_id = 4
       AND RTRIM(col1) = '11111' 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-18T08:04:12.870

感谢大家试图帮助我。在尝试更新行失败后，我进行了索引重建，用 ltrim(rtrim()) 更新了 col1，现在它产生了正确的结果。

# jsp - 在 While 循环内切换大小写

> ID：14393870
> 
> 赞同：0
> 
> 时间：2013-01-18T06:55:59.807
> 
> 标签：jsp

是否可以将 swithcase 放在 While 循环中？我正在尝试，但我无法将值传递到另一个页面，它只显示 null

```
<form action="NewFile1.jsp" method="get">
Birthday: <br>
<%! int i = 1, j; 
    String mon = "";%>
<%
    out.println("<select name='month'>");
    while(i <= 12) {
        out.print("<option>" + i + "</option>");
        i++;
    }
    out.print("</select>");

%>  

    <input type="submit" value="submit">
    </form>
</body> 
```

在组合框中输出所选值的页面

```
<body>
<%
//String mo = request.getParameter("month");
String mo = "";
switch(request.getParameter("month")) {
case "1": mo =  "January"; break;

}
%>

<%=out.print("Birthday: " + mo)%> 
```

例如，组合框中的数字分别代表月份。如果用户选择了 2，它应该在下一页显示“二月”。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-18T14:04:26.647

尝试使用 int，而不是 String：

```
<%
    String mo = "";
    int month = Integer.parseInt("0"+request.getParameter("month"));
    switch(month) {
    case 1: mo =  "January"; break;
        ...
    }
%>

<%=mo%> 
```

# sql-server-2008 - 在 SQL Server 2008 中转换日期值

> ID：14393872
> 
> 赞同：1
> 
> 时间：2013-01-18T06:56:06.510
> 
> 标签：sql-server-2008

我有一个`2013-01-18`以这种格式作为日期数据类型的值，我需要像`Fri, Jan 18, 2013`在 SQL Server 2008 中那样转换它。

我该如何转换？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-18T07:56:45.053

试试这个：

```
DECLARE @dt DATETIME = '2013-01-18'
SELECT LEFT(DATENAME(WEEKDAY, @dt), 3) + ', ' + CONVERT(VARCHAR(20), @dt, 107) 
```

但是，请注意，`CONVERT`带有 107 参数的函数不是确定性的，它取决于本地语言设置，您可以在[http://msdn.microsoft.com/en-us/library/ms187928.aspx阅读更多相关信息](http://msdn.microsoft.com/en-us/library/ms187928.aspx)

功能也是如此`DATENAME`，请在[http://msdn.microsoft.com/en-us/library/ms174395.aspx了解更多信息](http://msdn.microsoft.com/en-us/library/ms174395.aspx)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-18T07:05:13.257

```
SELECT CONVERT(VARCHAR(12), SYSDATETIME(), 107) AS [Mon DD, YYYY] 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-18T07:58:16.300

[http://sqlfiddle.com/#!3/eca79/1](http://sqlfiddle.com/#!3/eca79/1)

```
CREATE TABLE person 
    (
     id int identity primary key, 
     created date
    );

INSERT INTO person
(created)
VALUES
('12/1/2003'),
('1/3/2014');

SELECT CONVERT(VARCHAR, DATEPART(DAY, created)) + ', ' + CONVERT(VARCHAR, created, 107) AS Complete
FROM person 
```

# c# - 为什么 Web 表单不会触发任何事件

> ID：14393873
> 
> 赞同：-2
> 
> 时间：2013-01-18T06:56:09.117
> 
> 标签：c#, asp.net, events, .net-4.0

我有使用 .NET 4.0 的 Web 应用程序，它有一个 Web 表单，其中包含按钮、网格视图以及链接按钮、模型弹出窗口以及具有按钮本身的用户控件。

当我单击 Web 表单的此按钮时，它不会触发任何事件。

```
<table width="100%">
    <tr>
        <td colspan="2" align="right">
            <asp:Button ID="cmdGetList" runat="server" Text="Get List" OnClick="cmdGetList_Click" />
        </td>
    </tr>
    <tr>
        <td colspan="2">
            <ucTega:AgencyOfcDtls ID="ucAgencyDtls" runat="server" />
        </td>
    </tr>
</table> 
```

为什么我的 Web 应用程序会发生这种情况？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-18T07:24:08.287

猜测一下，我会说您在每次页面加载时都在 GridView 上调用 DataBind。除非您已经遇到过问题，否则这将很难调试。

# tsql - 带有空字符串的 ISNULL 仍然返回一些 NULL

> ID：14393879
> 
> 赞同：0
> 
> 时间：2013-01-18T06:56:31.690
> 
> 标签：tsql

我将此作为我的选择语句中的字段之一：

```
select
      ...some fields
            (select ISNULL( TagNames, '') from  TagNames_CTE as tagNames 
         where  Content.ID = tagNames.EntryID) as tags 
from  SomeTable 
```

我注意到，即使我使用 ISNULL 并告诉它用空字符串替换那些，我仍然会为某些记录返回 NULL。它没有用空字符串替换它们，我不明白为什么。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-18T06:58:57.887

我想你会发现在没有找到行的情况下，子选择实际上返回 NULL。

如果在子句触发的`TagNames_CTE`地方找到一行并且为 NULL，它将*被*函数转换为。`where``TagNames`*`''`*

 *但是在*根本没有*找到行的地方，函数不会被调用（因为没有行可以让它发挥它的魔力）并且整个子选择的结果是 NULL，因为它必须在该列中为外部返回*一些东西*选择。

一种简单的检查方法是`ISNULL()`自行运行子查询（不带 ），看看它是否返回包含行`NULL`或根本不包含行的行 - 尝试一些简单的查询，如下所示：

```
select 1,
       (select isnull (null,2) from dummytable where 1 = 0)
from dummytable 
```

和：

```
select 1,
       (select isnull (null,2) from dummytable where 1 = 1)
from dummytable 
```

你可能会发现前者给了你`1, null`，而后者给了你`1,2`。在 MySQL 中使用以下语句进行测试后，您可以看到这很可能是正确的。

```
> create table xyzzy (plugh integer);

> insert into xyzzy values (42):

> select 1,(select ifnull (null, 2) from xyzzy where 1 = 0) from xyzzy;
1 NULL

> select 1,(select ifnull (null, 2) from xyzzy where 1 = 1) from xyzzy;
1 2 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-18T07:18:26.547

因为在子查询里面，`ISNULL`只能影响`NULL`实际存在的一行。我假设您实际需要处理的是子查询不返回任何行的情况：

```
select
      ...some fields
            ISNULL((select  TagNames from  TagNames_CTE as tagNames 
         where  Content.ID = tagNames.EntryID), '') as tags 
from  SomeTable 
```

所以把它移到子查询的外面。（我通常也会推荐`COALESCE`over `ISNULL`。它是标准 SQL，它支持多个参数，并且类型强制很有意义）*

# android - 在 Fragment 外执行 adapter.notifyDataSetChanged()

> ID：14393880
> 
> 赞同：4
> 
> 时间：2013-01-18T06:56:33.850
> 
> 标签：android, listview, adapter

我有一个片段是数据库值的列表。我正在使用 ListView 将值显示到屏幕上。

我有另一个片段，其中包含向数据库添加条目的按钮。所以我的问题是，当我通过点击第一个片段上的按钮向数据库添加条目时，我需要第二个片段（或应用程序中的第二页）来更新屏幕上显示的数据库值列表.

这是数据库列表片段：

```
public class FragManage extends Fragment {

private PunchesDataSource datasource;

@Override
public View onCreateView(LayoutInflater inflater, ViewGroup container,
    Bundle savedInstanceState) {

    datasource = new PunchesDataSource(getActivity());
    datasource.open();

    List<Punch> values = datasource.getAllPunches();

    // Use the SimpleCursorAdapter to show the elements in a ListView
    ArrayAdapter<Punch> adapter = new ArrayAdapter<Punch>(getActivity(),
        android.R.layout.simple_list_item_1, values);

    View myFragmentView = inflater.inflate(R.layout.fragment_manage, container, false);

    ListView list = (ListView) myFragmentView.findViewById(R.id.list);
    list.setAdapter(adapter);

    return myFragmentView;
    }
} 
```

所以我只想在包含按钮的其他片段中执行 adapter.notifyDataSetChanged() （类似这样）：

```
 // Punch OUT button.
    Button out_button = (Button) myFragmentView.findViewById(R.id.out_button);
    out_button.setOnClickListener(new View.OnClickListener() {
        @Override
        public void onClick(View v) {
            datasource.createPunch("out-" + getTime());

            FragManage.adapter.notifyDataSetChanged();
        }
      }); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-18T08:54:36.100

您可以将侦听器与更新片段的主要活动一起使用

在带有按钮的片段中添加这些

```
private void onDBChanged(){
    OnDBListener.DBChanged(true);
}

public void setOnDBListener(OnDBListener listener){
    this.OnDBListener = listener;
}

public interface OnDBListener{
    public void DBChanged(boolean DB_Bool);
} 
```

然后在数据库碎片中

```
public void update(){
    adapter.notifyDataSetChanged();
} 
```

然后将侦听器附加到创建碎片的主要活动中

```
ButtonsFragment.setOnDBListener(new OnDBListener() {
    @Override
    public void DBChanged(boolean DB_Bool) {

        DatabaseViewFrag.update();
    }
}); 
```

当您在按钮片段调用中更新数据库时

```
onDBChanged() 
```

告诉它更新的一切

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-20T09:59:12.300

为了从 FragA -> MainActivity -> FragB**直接与不能为 static 的方法（在 FragB 内）进行**通信，此解决方案应该适合您。

它是如何在这里工作的：[http ://android-er.blogspot.com/2012/06/communication-between-fragments-in.html](http://android-er.blogspot.com/2012/06/communication-between-fragments-in.html)

我在 MainActivity.java 中添加的代码：

```
String FragManage;

public void setTabFragManage(String t){
    FragManage = t;
}

public String getTabFragManage(){
 return FragManage;
} 
```

我在 FragPunch.java 中添加的代码

```
public void onClick(View v) {

...

String TabOfFragManage = ((MainActivity)getActivity()).getTabFragManage();

FragManage fm = (FragManage)getActivity()
    .getSupportFragmentManager()
    .findFragmentByTag(TabOfFragManage);

fm.update(); //This is what is NOT possible before, but now is.
} 
```

我在 FragManage.java 中添加的代码

```
 @Override
    public View onCreateView(LayoutInflater inflater, ViewGroup container,
        Bundle savedInstanceState) {
    ...
    String myTag = getTag();

        ((MainActivity)getActivity()).setTabFragManage(myTag);
    ...
    } 
```

# mfc - 如何获取基于 CView 的客户区的大小？

> ID：14393882
> 
> 赞同：0
> 
> 时间：2013-01-18T06:56:37.967
> 
> 标签：mfc, mdi, getclientrect

我有一个 MFC MDI 应用程序。为了在视图中放置一些控件（MyView 派生自 CView），我需要知道视图客户区的大小。我将在控件的 Create 函数中使用基于客户区大小的尺寸。

当我使用 MyView.GetClientRect() 时，我得到 1154 x 466。但实际客户端大小（以像素为单位）为 1410 x 725，使用 Spy++ 和在屏幕截图上绘制。

如何获取客户区的像素大小？

C++、Visual Studio 2010、64 位 Windows 7 专业版

# php - 使用 CodeIgniter 将谷歌地图转换为 PDF 格式

> ID：14393883
> 
> 赞同：1
> 
> 时间：2013-01-18T06:56:47.850
> 
> 标签：php, codeigniter, google-maps-markers

我可以使用库[http://biostall.com/demos/google-maps-v3-api-codeigniter-library/创建地图](http://biostall.com/demos/google-maps-v3-api-codeigniter-library/)

**控制器：**

```
$this->load->library('googlemaps');

$config['center'] = '37.4419, -122.1419';
$config['zoom'] = 'auto';
$this->googlemaps->initialize($config);

$marker = array();
$marker['position'] = '37.429, -122.1419';
$this->googlemaps->add_marker($marker);

$data['map'] = $this->googlemaps->create_map();

$this->load->view('view_file', $data); 
```

**看法：**

```
<html>
<head><?php echo $map['js']; ?></head>
<body><?php echo $map['html']; ?></body>
</html> 
```

通过库提供的大量示例，我们能够创建地图，还能够添加标记、文本和符号。

我尝试使用下面提到的一些示例代码：

**映射到 PDF：**

```
require("fpdf17/fpdf.php");

$pdf = new FPDF( );

   $pdf->AddPage();

   $pdf->SetFont('Arial','B',16);     

   $pdf->Image('http://maps.googleapis.com/maps/api/staticmap?center=Uk&zoom=12&size=400x400&sensor=false&format=jpg',50,20,100,100,'JPG');

   $pdf->Output("test.pdf"); 
```

通过使用上面的代码，我可以获得 PDF，但它只是获取地图，而不是它的属性或属性，如标记、符号等。

我们可以使用任何有助于将地图及其属性转换为 PDF 的类吗？CI 是否允许从 HTML 中捕获参数，因为地图具有标记和其他文本作为属性？

任何建议都会非常感谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-05-17T08:15:06.833

两个地图是不同的，如果你想为你的静态地图添加标记或属性，你需要使用这个[API](https://developers.google.com/maps/documentation/staticmaps)。
例如，如果要添加标记，则必须将此代码添加到您的 url。

```
&markers=color:blue%7Clabel:S%7C40.702147,-74.015794 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-18T07:11:32.290

你正在处理两种不同的事情。在您的 pdf 库中，您正在查找的 url 对您设置的参数一无所知，因为您正在查看 google.com，而不是您的网站。

我认为您需要捕获您创建的地图视图并将其设为您的 pdf

# ruby-on-rails - 时没有路线匹配。字符进入参数

> ID：14393891
> 
> 赞同：1
> 
> 时间：2013-01-18T06:57:25.973
> 
> 标签：ruby-on-rails, ruby-on-rails-3, routing, urlencode

我有这样的路线：

```
match '/pages/:name/preview' =>  'pages#page_preview' 
```

但是，当这样的路线出现时，它给了我一个错误“没有路线匹配” `/pages/a.com/preview`。我尝试了 URL 编码。字符到`%2E`，但同样的错误也随之而来。`resources :pages`在定义预览路线之前，我还在页面 ( ) 上设置了资源。

该路线适用于所有其他路线，名称参数中没有`.`字符（空格和？等工作正常）

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-18T07:34:59.067

这是因为点被用作格式化路线的分隔符。要摆脱这种情况，请添加一个覆盖它的约束。

```
match '/pages/:name/preview' =>  'pages#page_preview', :constraints => { :name => /[^\/]+/ } 
```

这将允许除斜线之外的任何内容。

# javascript - DWR 从服务器返回对象谁在 javascript 代码中接受它

> ID：14393894
> 
> 赞同：0
> 
> 时间：2013-01-18T06:57:32.857
> 
> 标签：javascript, dwr

我有一个 mymessage 类，其中字符串类型的字段，其 getter 和 setter 也存在于类中。在 mymessage 类中，它们是此方法中的方法名称 getdata 我通过调用字符串的 setmethod 设置字符串并返回可以我从 getter 方法在客户端获取数据。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-30T05:50:07.243

存在 Bean 命名约定问题，请使用小案例而不是大案例。

# visual-studio-2008 - 水晶报表版本更高

> ID：14393900
> 
> 赞同：0
> 
> 时间：2013-01-18T06:58:29.617
> 
> 标签：visual-studio-2008, crystal-reports, visual-studio-2005

在我的系统中安装了 VS2008 现在我安装了 VS2005 并尝试打开一个内置于 VS2005 的应用程序。当我在 VS2005 中构建解决方案时，出现以下错误：

> 错误 499 CrystalDecisions.CrystalReports.Engine，Version=10.5.3700.0，Culture=neutral，PublicKeyToken=692fbea5521e1304'，其版本高于引用的程序集'CrystalDecisions.CrystalReports.Engine，Version=10.2.3600.0，Culture=neutral，PublicKeyToken=692fbea5521e1304 '

任何帮助表示赞赏。谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-18T07:09:31.423

看起来您的解决方案中的一个项目引用了 VS2005 提供的 Crystal Reports 版本 10.2.3600.0。

VS2008 在你的机器上安装了 CR 版本 10.5.3700.0，所以它无法编译，因为版本比项目预期的要新。

您可以尝试删除旧的引用并为 CR 的 10.5.3700.0 版本添加一个。如果这不起作用，请尝试在您的计算机上安装旧版本的 CR。

# android - 如何为android应用程序创建服务器

> ID：14393901
> 
> 赞同：1
> 
> 时间：2013-01-18T06:58:33.093
> 
> 标签：android, google-cloud-messaging

我是 android 开发的新手。我想将通知从一个移动应用程序发送到另一个移动设备。我知道它使用 GCM 完成，但是如何为我的应用程序创建服务器？

我的应用程序与另一个用户共享任务..例如，如果用户在我的应用程序上创建一组用户并在组中添加一些常见任务..我的应用程序将向组中的所有用户发送通知！

那么为这样的应用程序创建服务器的步骤是什么？请帮忙！

# spring - 春季 3.1.2 发布， 用法

> ID：14393905
> 
> 赞同：0
> 
> 时间：2013-01-18T06:58:41.890
> 
> 标签：spring

我们使用的是spring 2.5，我们要添加确保我的属性应该从环境中提供`config_path=C:/application.properties`或从默认位置（即类路径）覆盖

所以我们做了如下applicationcontext.xml

```
<bean class="com.test.utils.ExtendedPropertySourcesPlaceholderConfigurer">
    <property name="overridingSource" value="file:${config_path}/application.properties"/>
    <property name="locations" value="classpath*:META-INF/*-config.properties" />
</bean> 
```

ExtendedPropertySourcesPlaceholderConfigurer 代码

```
public class ExtendedPropertySourcesPlaceholderConfigurer extends PropertySourcesPlaceholderConfigurer implements InitializingBean, ApplicationContextAware {

    private ApplicationContext applicationContext;

    private Resource overridingSource;

    public void setOverridingSource(Resource overridingSource) {
        this.overridingSource = overridingSource;
    }

    @Override
    public void setApplicationContext(ApplicationContext applicationContext) throws BeansException {
        this.applicationContext = applicationContext;
    }

    @Override
    public void afterPropertiesSet() throws Exception {
        MutablePropertySources sources = ((ConfigurableApplicationContext) applicationContext).getEnvironment().getPropertySources();
        if (overridingSource == null) {
            return;
        }
        sources.addFirst(new ResourcePropertySource(overridingSource));
    }
} 
```

现在我们将它移到 spring 3.1.2 并且可以帮助我判断 spring 提供了一些新的 API 来更有效地完成它吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-18T07:07:44.910

Spring 3.1 引入了一个新的[Environment Abstraction](http://blog.springsource.com/2011/02/11/spring-framework-3-1-m1-released/)，[PropertySource Abstraction](http://blog.springsource.com/2011/02/15/spring-3-1-m1-unified-property-management/) *（两个链接都显示 SpringSource 博客文章）*。

但我认为你不需要在 spring 3.0 或 3.1 中覆盖它

```
<bean class="org.springframework.context.support.PropertySourcesPlaceholderConfigurer">
    <property name="locations">
        <list>
            <value>classpath*:application-config.properties</value>
            <value>file:${user_config_path}/application-config.properties</value>
        </list>
    </property>
    <property name="localOverride" value="true" />
    <property name="ignoreResourceNotFound" value="true" />
</bean> 
```

*BTW. in Spring 3.0 the bean class is: PropertyPlaceholderConfigurer (see this blog [http://www.baeldung.com/2012/02/06/properties-with-spring/](http://www.baeldung.com/2012/02/06/properties-with-spring/))*

# c# - 使用 c# 加入 xml 数据

> ID：14393907
> 
> 赞同：-2
> 
> 时间：2013-01-18T06:58:48.803
> 
> 标签：c#, xml

我将使用 c# 在 xml 中加入表 1 和表 2。谁能提供我 ac# 代码来实现上述场景？

**表格1 ：**

```
 <REF_GANGGUAN_IRAMA>
<ID>1</ID>
<DESCRIP>Sinus</DESCRIP>
<DESCRIP_DTL>- 3 or more continuous beats satisfied with all of the following: 1\. Duration QRS &lt; 120 ms or duration QRS = 120 ms and
 - 30 &lt; axis QRS &lt; 150 (QRS(V1) &gt; 0 mV) or
 - 60 &lt; axis QRS &lt; 120 (QRS(V1) = 0 mV) 2\. P  wave is normal 3\. 120 = interval PR = 200 ms- 60 = HR &lt; 100 bpm</DESCRIP_DTL> 
</REF_GANGGUAN_IRAMA>

 <REF_GANGGUAN_IRAMA>
<ID>2</ID>
<DESCRIP>SA Exit Block</DESCRIP>
 </REF_GANGGUAN_IRAMA>
 <REF_GANGGUAN_IRAMA>

<ID>3</ID>
<DESCRIP>Wandering Pacemaker</DESCRIP>
 </REF_GANGGUAN_IRAMA> 
```

**表 2：**

```
 <REF_JENIS_GANGGUAN_IRAMA>
<ID>1</ID>
<DESCRIP>Bradikardi</DESCRIP>
 </REF_JENIS_GANGGUAN_IRAMA>

 <REF_JENIS_GANGGUAN_IRAMA>
<ID>2</ID>
<DESCRIP>Takikardi</DESCRIP>
 </REF_JENIS_GANGGUAN_IRAMA>

 <REF_JENIS_GANGGUAN_IRAMA>
<ID>3</ID>
<DESCRIP>Disritmia</DESCRIP>
</REF_JENIS_GANGGUAN_IRAMA> 
```

我需要读取上述两个 xml 文件并将其写入带有选定元素的新 xml 文件吗？

**输出 ：**

```
 <REF_JENIS_GANGGUAN_IRAMA>
<ID>1</ID>
<DESCRIP>Bradikardi</DESCRIP>
<ID_GANGGUAN_IRAMA>1</ID_GANGGUAN_IRAMA>
<GANGGUAN_IRAMA>Sinus</GANGGUAN_IRAMA>
 </REF_JENIS_GANGGUAN_IRAMA>

 <REF_JENIS_GANGGUAN_IRAMA>
<ID>2</ID>
<DESCRIP>Takikardi</DESCRIP>
<ID_GANGGUAN_IRAMA>1</ID_GANGGUAN_IRAMA>
<GANGGUAN_IRAMA>Sinus</GANGGUAN_IRAMA>
 </REF_JENIS_GANGGUAN_IRAMA>

 <REF_JENIS_GANGGUAN_IRAMA>
<ID>3</ID>
<DESCRIP>Disritmia</DESCRIP>
<ID_GANGGUAN_IRAMA>1</ID_GANGGUAN_IRAMA>
<GANGGUAN_IRAMA>Sinus</GANGGUAN_IRAMA>
</REF_JENIS_GANGGUAN_IRAMA> 
```

这是我的代码..请更正

**代码 ：**

```
 ListItemPopup irm;
    DataSet dsSet = new DataSet();
    dsSet.ReadXml(Application.StartupPath + "\\Referensi.data");
    DataTable data = dsSet.Tables["REF_GANGGUAN_IRAMA"];
    DataTable data1 = dsSet.Tables["REF_JENIS_GANGGUAN"];

        for (int i = 0; i < data.Rows.Count; i++)
        {
           for(int j = 0; j < data1.Rows.Count; j++)
             {
                 irm = new ListItemPopup(data1.Rows[i]["ID"], data1.Rows[i]["DESCRIP"], "");
                 cbjenis.Items.Add(irm);
             }
        } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-18T07:15:22.930

这是您的问题的路径。

1.  一起读取表 1 和表 2 的 XML 文件，看看它们是否有相同的记录
2.  然后将其写入新的 XML 文件。

伪代码：

```
string paht1=
string path2=
string path3=

load table1.xml
load table2.xml

for ()
{
get first value of table1
   for()
     {
         get relevent value from table 2
         write it in you new xml file
     }

} 
```

你最好试试这个...

**编辑：** 根据您的编辑（您尝试过的解决方案）有什么问题？？？

无论如何使用[WriteXml](http://msdn.microsoft.com/en-us/library/system.data.dataset.writexml.aspx)将其写回。

此链接将对您有所帮助[-MSDN](http://msdn.microsoft.com/en-us/library/360dye2a.aspx)

# r - 从 R 中的关联规则输出创建数据框

> ID：14393910
> 
> 赞同：1
> 
> 时间：2013-01-18T06:59:05.327
> 
> 标签：r, dataframe, arules

任何人都可以帮助我如何为 arules 包获得的关联规则创建数据框。我尝试了不同形式的“强制签名（从=“规则”，到=“data.frame”）；” 但我没有从中得到任何东西。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-05-30T02:12:29.997

简短的回答是您可以使用： as(rules, "data.frame")

# python - 如果我有 h、s 和 v 的值，如何在 OpenCV 中创建 Mat 图像？

> ID：14393911
> 
> 赞同：0
> 
> 时间：2013-01-18T06:59:11.540
> 
> 标签：python, opencv, hsv, bgr

我使用数学计算将像素的 r、g、b 值转换为 h、s 和 v 值。我如何使用这些 h、s 和 v 值来创建图像并能够使用 imshow("HSV", hsv_image) 显示它们。

如果答案是使用 python 会更好，但是即使它是 C++ 也可以。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-18T08:56:50.920

如果你有一个 RGB 图像，那么就做

```
cvtColor(img_rgb,img_hsv,CV_RGB2HSV); 
```

这是你想要的吗？

**编辑**

```
for(int row=0;row<height;row++)
{
    for(int col=0;col<width;col++)
    {
        Vec3b data = image_rgb.at<Vec3b>(row,col);

        Vec3b data_hsv;
        data_hsv[0] = // process red channel of pixel with data[0]
        data_hsv[1] = // process green channel of pixel with data[1]
        data_hsv[2] = // process blue channel of pixel with data[2]

        image_hsv.at<Vec3b>(row,col)[0] = data_hsv[0];
        image_hsv.at<Vec3b>(row,col)[1] = data_hsv[1];
        image_hsv.at<Vec3b>(row,col)[2] = data_hsv[2];
    }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-18T12:35:14.303

你想要的是[merge()](http://docs.opencv.org/modules/core/doc/operations_on_arrays.html#merge)。在 C++ 中：

```
// Assuming you have the H, S, and V images
std::vector<cv::Mat> channels;
channels.push_back(h);
channels.push_back(s);
channels.push_back(v);

cv::Mat hsv;
cv::merge(channels, hsv);

// Now you can display it
cv::imshow("HSV", hsv); 
```

# html - 如何检查对 x-iframe-options ALLOW-FROM 的支持？

> ID：14393913
> 
> 赞同：0
> 
> 时间：2013-01-18T06:59:20.667
> 
> 标签：html

有没有办法确定我的浏览器在客户端或服务器端的 http 标头中是否支持 X-IFRAME-OPTIONS 和 X-IFRAME-OPTIONS ALLOW-FROM

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-07-16T14:48:30.523

OWASP 站点上的以下文章包含指向 X-Frame-Options 兼容性测试的链接。

看一下

[https://www.owasp.org/index.php/Clickjacking_Defense_Cheat_Sheet#Browser_Support](https://www.owasp.org/index.php/Clickjacking_Defense_Cheat_Sheet#Browser_Support)

# android - 出现虚拟键盘时，Edittext 中的 SetError 不完全可见（但在 xhdpi 设备中工作正常）

> ID：14393915
> 
> 赞同：0
> 
> 时间：2013-01-18T06:59:24.230
> 
> 标签：android, android-edittext, android-view

我已经为 edittext 实现了 setError 函数，并且在 xhdpi 设备中工作正常，但是当涉及 ldpi 、 hdpi 或 mdpi 设备时，如果没有虚拟键盘，它工作正常。但是当虚拟键盘出现时在屏幕上，错误消息不完全可见，错误消息的最后 1 或 2 个字消失了。知道这是怎么发生的……？？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-18T07:01:52.113

在清单文件中的活动中添加以下内容

```
 android:windowSoftInputMode="adjustPan|adjustResize" 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-18T07:45:20.023

您应该在您使用 setError 的 textView 或 editText 上尝试 requestFocus。希望这有效。也试试`android:windowSoftInputMode="adjustPan"`，这会让你的屏幕在键盘打开时伸展。

# objective-c - 在后台模式下应用程序时更改 ios5 设备亮度

> ID：14393917
> 
> 赞同：0
> 
> 时间：2013-01-18T06:59:35.387
> 
> 标签：objective-c, ios5

我想通知用户某些事件被触发，以便我使用亮度 **[UIScreen mainScreen].brightness = 1.0// 0.0**当
应用程序处于前台模式但应用程序处于后台模式并且当时触发该事件时工作正常我的代码不起作用。我使用了位置，所以我的应用程序能够在后台运行。

给我建议当应用程序处于后台模式时如何设置亮度。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-18T07:18:19.700

```
- (void)applicationDidEnterBackground:(UIApplication *)application
{

   // UIBackgroundTaskIdentifier *bgTask = nil;
    UIApplication  *app = [UIApplication sharedApplication];

    counterTask = [[UIApplication sharedApplication]
                   beginBackgroundTaskWithExpirationHandler:^{
                       [app endBackgroundTask:counterTask]; 
                       counterTask = UIBackgroundTaskInvalid;

                       // If you're worried about exceeding 10 minutes, handle it here  
                       theTimer=[NSTimer scheduledTimerWithTimeInterval:20
                                                                 target:self
                                                               selector:@selector(YourFunction)
                                                               userInfo:nil
                                                                repeats:YES];
                   }];

    count=0;
    theTimer=[NSTimer scheduledTimerWithTimeInterval:20
                                              target:self
                                            selector:@selector(YourFunction)
                                            userInfo:nil
                                             repeats:YES]; 

    //[super viewDidLoad];

} 
```

# web-services - 使用 JAXB 创建请求 XML 并将其发送到目标 URL 以获取响应 XML 时出错

> ID：14393918
> 
> 赞同：0
> 
> 时间：2013-01-18T06:59:42.690
> 
> 标签：web-services, spring, soap, spring-ws

我正在使用 Spring 和 eclipse 并尝试创建使用给定 XSD 的客户端代码，创建请求 XML 并将其发送到目标 URL 以获取响应。我收到以下错误：

```
org.springframework.ws.client.WebServiceIOException: I/O error: Connection refused: connect; nested exception is java.net.ConnectException: Connection refused: connect
    at org.springframework.ws.client.core.WebServiceTemplate.sendAndReceive(WebServiceTemplate.java:507)
    at org.springframework.ws.client.core.WebServiceTemplate.marshalSendAndReceive(WebServiceTemplate.java:350)
    at org.springframework.ws.client.core.WebServiceTemplate.marshalSendAndReceive(WebServiceTemplate.java:344)
    at org.springframework.ws.client.core.WebServiceTemplate.marshalSendAndReceive(WebServiceTemplate.java:336)
    at com.elkay.client.EliteDevOrdCrClient.addOrder(EliteDevOrdCrClient.java:61)
    at com.elkay.client.EliteDevOrdCrClient.main(EliteDevOrdCrClient.java:75)
Caused by: java.net.ConnectException: Connection refused: connect
    at java.net.PlainSocketImpl.socketConnect(Native Method) 
```

请求 XML 已正确生成。

当我尝试对 SOAPUI 进行相同操作时，我能够获得所需的响应。

请指点一下，我哪里出错了。

蒂亚！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2015-03-18T10:32:27.467

[在这里](http://forum.spring.io/forum/spring-projects/web-services/39974-connection-refused-connect-any-help?p=368970#post368970)找到了解决方案

> 嗯，这很简单，真的：您尝试连接的服务没有在指定的地址运行。这就是它无法连接的原因。

很可能您的服务已被您或其他进程停止。要解决它，只需启动服务并尝试再次运行代码以访问 Web 服务请求。

否则，如果您的 web 服务在端口 80 中运行，您可能正在使用其他端口访问它。配置正确的 wsdl 端口以访问 Web 服务。

# javascript - 在 AngularJS 中，是否可以强制视图从其控制器外部进行更新？

> ID：14393928
> 
> 赞同：0
> 
> 时间：2013-01-18T07:00:20.027
> 
> 标签：javascript, model-view-controller, angularjs

编辑：

标题中所述的问题在下面得到了正确的回答，所以我认为为了让人们看到如何做到这一点，我应该将问题留在下面的答案中。

事实证明，我使用的框架并没有完全抽象出 Angular 的变量到驼峰式的约定。它在其他任何地方都被抽象掉了，只是不是在这里，现在一切正常，所以我根本不需要强制重绘。如果有人这样做，请参阅下面的答案。:)

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-01-18T14:52:55.183

在指令内而不是在控制器内进行事件绑定。`$apply()`如果您对某些模型进行更改并希望这些更改反映在指令之外，则必须从指令内部调用：

```
myApp.directive('someDir', function () {
    return {
        restrict: 'E',
        scope: {
            model: '=',
        },
        link: function (scope, elt, dirs) {
            elt.bind('click', function () {
                scope.$apply(function () {
                    // make changes to scope.model
                });
            });
        }
    }
}); 
```

# javascript - HTML 5 Canvas Co-Ordinates 和浏览器像素相关？

> ID：14393929
> 
> 赞同：0
> 
> 时间：2013-01-18T07:00:23.360
> 
> 标签：javascript, jquery, html, html5-canvas, dom-events

我正在尝试为我的应用程序获取 HTML 5 画布作为绘图板。我面临的问题是：

绘图发生在距鼠标指针的某个偏移处。我正在使用 Jquery`.offset`方法来计算画布上事件的偏移量。我注意到的另一件奇怪的事情是，**虽然画布标签的宽度是 150 像素，但从 (0,10) 到 (150,10) 绘制的线刚好到达画布区域的中间，甚至还有一条像 ( 0,10) 到 (250,10) 也是可见**的。从事件对象映射计算的“像素”不是直接映射到 Canvas 标签的“点坐标”吗？这里还有什么问题？示例代码：

```
 if (event.pageX || event.pageY)
 {
    event._x = event.pageX;
    event._y = event.pageY;
}
else if (event.clientX || event.clientY)
{
    event._x = event.clientX + document.body.scrollLeft
                            + document.documentElement.scrollLeft;
    event._y = event.clientY + document.body.scrollTop
                            + document.documentElement.scrollTop;
}

var canvasElem = $('#' + canvasId);
canvasOffset = canvasElem.offset();

event._x -= Math.floor(canvasOffset.left);
event._y -= Math.floor(canvasOffset.top);

////////////// CODE STRIPPED //////////////////////////////

  this.mousedown = function (ev) { 
       context.beginPath(); 
       context.moveTo(ev._x, ev._y); 
       tool.started = true; 
  }; 

  // This function is called every time you move the mouse. Obviously, it only  
  // draws if the tool.started state is set to true (when you are holding down  
  // the mouse button). 
 this.mousemove = function (ev) { 
      if (tool.started) { 
         context.lineTo(ev._x, ev._y); 
         context.stroke(); 
       } 
 }; 

// This is called when you release the mouse button. 
this.mouseup = function (ev) { 
      if (tool.started) { 
         tool.mousemove(ev); 
         tool.started = false; 
      }
} 
```

* * *

### 解决了

发现问题：

我使用字符串来设置画布的高度和宽度。类似的东西：canvas.height = "200px";

但是我们应该总是使用数字来设置画布的高度/宽度。画布.高度 = 200;

这样就解决了问题。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-18T12:31:47.210

[您可以使用 jQuery .offset()](http://api.jquery.com/offset/)函数获取画布左上角的坐标。从鼠标事件传递的坐标中减去这些，你就得到了画布上的位置。

关于您遇到的缩放问题，有两种可能的解释：

**A：**你使用[translate、transform 或 scale](http://www.whatwg.org/specs/web-apps/current-work/multipage/the-canvas-element.html#transformations)来改变画布的坐标系（但当你这样做时，你肯定会意识到这一点）

**B：**你正在使用 CSS 样式属性来改变画布的大小。画布的分辨率由HTML 标记的`width`和`height`属性决定。`<canvas>`当您使用 CSS 更改画布呈现的宽度或高度时，它首先以内部分辨率绘制，然后相应地缩放以在浏览器中显示。

# php - 如何从数组json php中删除值？

> ID：14393930
> 
> 赞同：1
> 
> 时间：2013-01-18T07:00:27.953
> 
> 标签：php, arrays, json

我有一个示例代码：

```
$json_encode = '{"OS":"Android","Title":"Galaxy"}';
$json_decode = json_decode($json_encode);
foreach($json_decode as $key => $value) {
   if($key == 'Title') {
       unset($key); 
   }
}
print_r(json_encode($json_decode)); 
```

但是结果不能`remove key='Title'`来自那个json字符串，如何解决？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-18T07:02:23.047

您不需要那些额外的代码行，如果`Title`索引总是出现，那么您可以`Title`直接取消设置索引：

```
$json_encode = '{"OS":"Android","Title":"Galaxy"}';
$json_decode = json_decode($json_encode);
unset($json_decode['Title']); 
```

**有关 PHP Array Unset**函数的更多信息，请参阅下面的链接，您在简单语法上犯了错误。

[PHP 数组未设置](http://php.net/manual/en/function.unset.php)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-18T07:01:56.340

您忘记在`unset`语句中包含数组。它应该是：

```
unset($json_decode[$key]); 
```

实际上，对于您的特定示例，您甚至不需要循环，您可以直接取消设置值。

另外要从`json_encode`函数中获取关联数组，您需要添加另一个参数：

```
$json_decode = json_decode($json_encode, true); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-18T07:02:09.457

```
$json_decode = json_decode($json_encode,TRUE); 
```

如果未传递“TRUE”，则 json_decode 返回一个对象。

也替换`unset($key)`为`unset($json_decode[$key]);`

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-18T07:08:44.233

```
$json_encode = '{"OS":"Android","Title":"Galaxy"}';
$json_decode = json_decode($json_encode, true);
foreach ($json_decode as $key => $value) {
    if (in_array('Title', $value)) {
        unset($json_decode[$key]);
    }
}
$json_encode = json_encode($json_decode); 
```

# html - 不显示带有浮动左元素的ie9崩溃

> ID：14393933
> 
> 赞同：1
> 
> 时间：2013-01-18T07:00:57.947
> 
> 标签：html, internet-explorer-9

当我单击以下 html 示例中的超链接“关闭”然后“打开”时，（非常精简的代码），ie9 崩溃

```
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<HTML>
<HEAD>
    <meta http-equiv="Content-type" content="text/html;charset=UTF-8">
    <title>title</title>
</HEAD>
<BODY>
    <DIV style="display: inline;">
        <A style="float: left;">always&nbsp;</A>
    </DIV>

    <DIV style="display: inline;" id="hideMe">
        <A style="float: left;">some</A>
        <A style="float: left;">times&nbsp;</A>
    </DIV>

    <DIV style="display: inline;">
        <A style="float: left;">always&nbsp;</A>
    </DIV>

    <DIV>
        <A onclick="{document.getElementById('hideMe').style.display = 'inline';}" href="#">on</A>
        <A onclick="{document.getElementById('hideMe').style.display = 'none';}" href="#">off</A>
    </DIV>
</BODY>
</HTML> 
```

我不确定下一步该做什么，我看不到代码的根本问题，它甚至通过了 HTML 4.01 Strict！验证。

任何帮助，将不胜感激

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-18T10:30:26.587

我没有 IE9 可以对此进行测试，但仅查看代码我会说基本问题是`float`s 内部`inline`元素。

`inline`元素不应该包含任何块内容（包括浮动）。

如果你需要这种布局，你应该使用`display:inline-block`而不是`inline`，虽然我认为浮动仍然是不必要的，因为链接应该在它们包含的左侧排列。

我认为这应该可以解决问题。

说了这么多，如果你的浏览器崩溃了，那么它就是一个浏览器错误，不管代码的质量或有效性如何。浏览器应该能够优雅地处理这种事情；崩溃是个坏消息。即使您设法解决它，您也应该向 Microsoft 报告。（如果你有一个简单的测试用例来证明问题，这对他们特别有帮助）

# c++ - 这是一个引用到非常量绑定到临时的实例吗？

> ID：14393934
> 
> 赞同：5
> 
> 时间：2013-01-18T07:01:01.227
> 
> 标签：c++

[**免责声明：**这个问题是为了理解。我会`boost::lexical_cast`在现场使用。[不过，它*已经*在现实世界的某些地方出现了。](https://codereview.stackexchange.com/questions/6094/a-version-of-operator-that-returns-ostringstream-instead-of-ostream)]

* * *

对“内联” lex-cast 方法进行[以下尝试：](https://ideone.com/XfMFOx)

```
#include <string>
#include <sstream>
#include <iostream>

int main()
{
    const std::string s = static_cast<std::ostringstream&>(
       std::ostringstream() << "hi" << 0
    ).str();
    std::cout << s;
} 
```

结果类似于`0x804947c0`，因为使用的`operator<<`是`"hi"`自由函数，其 LHS 必须采用`std::ostream&`^†，并且临时`std::ostringstream()`不能绑定到 ref-to-non- `const`。唯一剩下的比赛`operator<<`是`const void*`RHS ^(††)。

现在[让我们交换操作数](https://ideone.com/cHUQUP)：

```
#include <string>
#include <sstream>
#include <iostream>

int main()
{
    const std::string s = static_cast<std::ostringstream&>(
       std::ostringstream() << 0 << "hi"
    ).str();
    std::cout << s;
} 
```

结果是`"0hi"`。

这主要是有道理的，因为`operator<<`that是 base ^(†††)`int`的成员函数，因此可以在临时调用。该操作的结果是对基址的引用，下一个链接到该基址，即将其读取为.`ostream`^(`ostream``operator<<``(std::ostringstream() << 0) << "hi"`)

但是为什么*那个*操作`"hi"`会继续产生预期的结果呢？**LHS上的参考不是还是暂时的吗？**

* * *

[让我们关注C++03；有人告诉我，由于右值的全能运算符，第一个示例实际上可能在 C++11 中按“预期”工作。]

^(^† `[C++03: 27.6.2.1]: template<class charT, class traits> basic_ostream<charT,traits>& operator<<(basic_ostream<charT,traits>&,charT*);`)

^(^(††) `[C++03: 27.6.2.1]: basic_ostream<charT,traits>& operator<<(const void* p);`)

^(^(†††) `[C++03: 27.6.2.1]: basic_ostream<charT,traits>& operator<<(int n);`)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-18T18:34:21.047

原因很简单。如果您阅读我提出的问题：

> [std::ostringstream 打印 c 字符串的地址而不是其内容。](https://stackoverflow.com/questions/8287188/stdostringstream-printing-the-address-of-the-c-string-instead-of-its-content)

您会注意到，获取“正确”引用而不是临时引用的技巧是调用对象上的方法（由于某种原因不限于非绑定限制），该方法将返回引用。

在上面 Nawaz 的回答中，他打电话给`std::ostream& std::ostream::flush()`，在你的情况下：

```
std::ostringstream() << 0 << "hi" 
```

你打电话`std::ostringstream& std::ostringstream::operator<<(int)`。

结果相同。

令人惊讶的行为是由于`ostream`杂乱无章的实现：一些`operator<<`是成员方法，而另一些是自由函数。

您可以简单地通过`X& ref()`在对象上实现一个方法来测试它：

```
struct X { X& ref(); };

void call(X& x);

int main() {
    call(X{});       // error: cannot bind X& to a temporary
    call(X{}.ref()); // OK
} 
```

**编辑**：但为什么不`X&`（的结果`ref`）对待相同？

这是一个[分类](https://stackoverflow.com/questions/3601602/what-are-rvalues-lvalues-xvalues-glvalues-and-prvalues)问题。临时是 a`prvalue`而参考是 a `lvalue`。引用只允许绑定到`lvalue`.

当然，由于可以调用方法`rvalue`（因此`prvalue`）并且这些方法可能返回对它们被调用的对象的引用，我们可以轻松绕过愚蠢的（1）*引用只允许绑定到`lvalue`*限制......

`rvalue`(1) 这也与 a可以绑定到 const-reference的事实不一致。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-18T07:06:20.253

> LHS上的参考不是还是暂时的吗？

它是对临时（返回值）的左值引用，它仍然是左值，因此可以绑定到左值引用。

根据生命周期而不是 l/rvalueness 考虑临时变量。

# java - 在制作项目jar时包含一些jar并排除其他jar？

> ID：14393939
> 
> 赞同：1
> 
> 时间：2013-01-18T07:01:32.117
> 
> 标签：java, maven, pom.xml

我将 Maven 用于我的开发目的。我有一个要求，我想在我的项目 jar 中包含一些第三方 jar，并排除 pom.xml 文件中指定的其他 jar。下面是我的`pom.xml`文件。

```
<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd">
<modelVersion>4.0.0</modelVersion>

<groupId>com.ckdm</groupId>
<artifactId>Exporter</artifactId>
<version>atlas2.1</version>
<packaging>jar</packaging>

<name>Exporter</name>
<url>http://maven.apache.org</url>

<properties>
    <project.build.sourceEncoding>UTF-8</project.build.sourceEncoding>
    <aspectj.version>1.6.10</aspectj.version>
    <org.springframework.version>3.0.5.RELEASE</org.springframework.version>        
</properties>

<build>
     <plugins>
        <plugin>
            <artifactId>maven-assembly-plugin</artifactId>
                <version>2.4</version>
                <configuration>
                    <descriptorRefs>
                            <descriptorRef>jar-with-dependencies</descriptorRef>
                    </descriptorRefs>
                </configuration>
            <executions>
                    <execution>
                            <id>make-assembly</id> 
                            <phase>package</phase>
                            <goals>
                                <goal>single</goal>
                        </goals>
                    </execution>
                </executions>
        </plugin>
    </plugins>
</build>

<dependencies>
    <dependency>
        <groupId>com.ckdm</groupId>
        <artifactId>CubeCreator</artifactId>
        <version>atlas2.1</version>
        <scope>provided</scope>
    </dependency>
    <dependency>
        <groupId>com.guavus</groupId>
        <artifactId>ConcurrentFlows</artifactId>
        <version>atlas2.1</version>
        <scope>provided</scope>
    </dependency>
    <dependency>
        <groupId>ps</groupId>
        <artifactId>thriftGenerated</artifactId>
        <version>atlas2.1</version>
        <scope>provided</scope>
    </dependency>
    <dependency>
        <groupId>apache</groupId>
        <artifactId>libthrift</artifactId>
        <version>0.5.0</version>
        <scope>provided</scope>
    </dependency>
    <dependency>
        <groupId>org.apache.hadoop</groupId>
        <artifactId>hadoop-core</artifactId>
        <version>0.20.203.0</version>
    <scope>provided</scope> 
    </dependency>
    <dependency>
      <groupId>com.google.code.gson</groupId>
      <artifactId>gson</artifactId>
      <version>1.7.1</version>
  <scope>provided</scope>   
    </dependency>
<dependency>
        <groupId>log4j</groupId>
    <artifactId>log4j</artifactId>
        <version>1.2.16</version>
    </dependency>
    <dependency>
        <groupId>org.slf4j</groupId>
            <artifactId>slf4j-api</artifactId>
            <version>1.6.4</version>
    </dependency>
    <dependency>
            <groupId>ch.qos.logback</groupId>
        <artifactId>logback-access</artifactId>
        <version>1.0.1</version>
    </dependency>
    <dependency>
        <groupId>ch.qos.logback</groupId>
            <artifactId>logback-classic</artifactId>
        <version>1.0.1</version>
    </dependency>
    <dependency>
        <groupId>ch.qos.logback</groupId>
            <artifactId>logback-core</artifactId>
        <version>1.0.1</version>
</dependency>

</dependencies>

</project> 
```

我在某处读到，指定的范围不包括项目 jar 中的 jar。我在哪里弄错了，它不能包含任何罐子？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-18T08:25:06.150

根据您的上述评论，我假设您有一个罐子，里面有您的主要课程。

在您的项目中添加`MANIFEST.MF`文件。其内容应如下所示：

```
Manifest-Version: 1.0
Class-path: YourMainJar.jar thirdparty1.jar thirdparty2.jar
Main-Class: com.test.mymainclass 
```

`YourMainJar.jar`是您拥有主类的文件，第三方 jar 需要`YourMainJar.jar`位于放置您的相同位置。

当你双击你的`YourMainJar.jar`，它会自动运行并从同一位置选择你的第三方 jars。

`MANIFEST.MF`注意：当您将项目打包为 jar 时，您需要包含此内容。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-18T07:03:55.600

从[Maven 文档](http://maven.apache.org/guides/introduction/introduction-to-dependency-mechanism.html#Dependency_Scope)中`provide`，

> 这很像 compile，但表明您希望 JDK 或容器在运行时提供依赖项。例如，在为 Java 企业版构建 Web 应用程序时，您可以将 Servlet API 和相关 Java EE API 的依赖设置为提供的范围，因为 Web 容器提供了这些类。此范围仅在编译和测试类路径上可用，并且不可传递。

通过使用 scope `provided`，它实际上假设容器将在运行时提供依赖。但并非您添加的所有依赖项实际上都是由容器提供的。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-18T07:11:30.103

删除范围标记。

如果仍然有问题，请使用我的工作 xml。

```
 <!--               Build complete JAR with all dependencies         -->
        <!-- mvn clean install assembly:single -->
                <plugin>
                        <groupId>org.apache.maven.plugins</groupId>
                        <artifactId>maven-assembly-plugin</artifactId>
                        <version>2.3</version>
                        <executions>
                            <execution>
                                <id>jar-with-dependencies</id>
                                <phase>install</phase>
                                <goals><goal>single</goal></goals>
                                <configuration>
                                    <archive>
                                        <manifest>
                                            <mainClass>com.mawia.YourMainClass</mainClass>
                                        </manifest>
                                    </archive>
                                    <descriptorRefs>
                                        <descriptorRef>jar-with-dependencies</descriptorRef>
                                    </descriptorRefs>
                                    <finalName>consumer</finalName>
                                    <appendAssemblyId>false</appendAssemblyId>
                                </configuration>
                            </execution>
                        </executions>
                </plugin> 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-18T07:12:35.923

“项目 jar”中的第三方 jar 是什么意思？如果您有任何要包含的第三方 jar，则通过添加来自 maven repo 或本地的依赖项来添加它们。

如果您不希望项目类路径中有任何 jar 文件，请删除其依赖项。

对于本地您使用：

```
<dependency>
        <groupId>org.test</groupId>
        <artifactId>testjar</artifactId>
        <version>1.0</version>
        <scope>system</scope>
        <systemPath>${project.basedir}/lib/testjar.jar</systemPath>
    </dependency> 
```

# javascript - JavaScript：如何覆盖基类函数？

> ID：14393941
> 
> 赞同：1
> 
> 时间：2013-01-18T07:01:51.590
> 
> 标签：javascript, telerik

我是 JavaScript 新手。

我有基础 Telerik 的 JavaScript 类：

```
Telerik.Web.UI.RadGrid.prototype =
{
    _contextmenu: function(e) {...}
} 
```

我从 Telerik 的基类派生了我的类：

```
Parus.Controls.ParusGrid.prototype =
{
}

Parus.Controls.ParusGrid.registerClass("Parus.Controls.ParusGrid", Telerik.Web.UI.RadGrid); 
```

如何在我的类中覆盖 _contextmenu 函数并允许执行基本 _contextmenu 函数？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-18T07:43:37.543

如果你想获得从 Telerik.Web.UI.RadGrid 派生的类，你应该将原型设置为派生类。

```
Parus.Controls.ParusGrid.prototype = new Telerik.Web.UI.RadGrid(); 
```

然后根据需要覆盖您的方法

```
Parus.Controls.ParusGrid.prototype._contextmenu = function(e) {
    //base method
    Telerik.Web.UI.RadGrid.prototype._contextmenu.call(this,e)        
} 
```

# javascript - 如何使用javascript加入多个选择对象

> ID：14393947
> 
> 赞同：0
> 
> 时间：2013-01-18T07:02:08.200
> 
> 标签：javascript, select, join

我有三个具有三个不同名称的 SELECT 框，例如

```
<select name="a">
  <option>something</option>
  <option>something</option>
</select>
<select name="b">
  <option>something</option>
  <option>something</option>
</select>
<select name="c">
  <option>something</option>
  <option>something</option>
</select> 
```

在发送表单之前，我想将三个选择合二为一，因为我在另一侧的 PHP 脚本只能处理对象/数组“a”。

我认为它可以像这样工作：

```
 <input type="hidden" name="temp" value="" />
  <a href="#" onclick="document.formIndex.temp.value = \n
    document.formIndex.a.value.concat(document.formIndex.b.value,
    document.formIndex.c.value); alert(document.formIndex.c.value);
    document.formIndex.a.value = document.formIndex.temp.value;
    document.formIndex.submit(); return false" class="search_button">
    search
  </a> 
```

但这不起作用。感谢任何提示我应该做什么。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-18T07:06:43.963

只需给它们相同的名称，浏览器就会向服务器发送三个具有相同键的值：

```
<select name="a">
  <option>something</option>
  <option>something</option>
</select>
<select name="a">
  <option>something</option>
  <option>something</option>
</select>
<select name="a">
  <option>something</option>
  <option>something</option>
</select> 
```

# ruby-on-rails - 在表单中传递属性

> ID：14393950
> 
> 赞同：0
> 
> 时间：2013-01-18T07:02:17.427
> 
> 标签：ruby-on-rails, ruby

所以我有这些类：产品、购物车和 LineItems - 标准关系（产品和 harts 有很多行项目，反之亦然），我行项目的属性之一是大小。当您更详细地展示产品时，有一个表单要求您选择尺寸，表单看起来像这样（选择框中有任意值）

```
<%=  form_for(:line_item, :url => {:controller => "line_items", :action => 'create', product_id: @product.id }) do |f| %>
<ul>
    <li>Size: <%= f.select(:size, 0..99) %></li>
    <li><%= link_to 'Add to Cart', line_items_path(product_id: @product.id), :method => :post %></li> <!-- This comes up later in the question -->
    <li><%= submit_tag "Add to Cart" %></li> <!-- using this Add to Cart button for now -->
</ul>
<% end %> 
```

我的第一个问题是解决问题。在line_items的create定义中我有以下两行，问题是不管选择的大小，它都记录为1。即使我选择0，即使我选择99。那么我的逻辑缺陷是什么这里？我确定我犯了一个很大的错误，我只是不知道自己做错了什么，无法正确搜索答案

```
@temp_size = params[:line_item]
@line_item.size = @temp_size.size 
```

我的第二个问题是我想要一个链接而不是按钮-我希望能够使用表单中的第 4 行（中间列表项）之类的链接来执行此操作-我可以使用哪些属性替换提交按钮？

谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-18T07:22:33.383

第一个问题：

`params[:line_item]`是一个哈希，包含来自提交表单的输入字段的数据。

`@temp_size.size`正在调用[`Hash#size`](http://www.ruby-doc.org/core-1.9.3/Hash.html#method-i-size)它返回哈希中键值对的计数。由于您的表单只有一个输入字段，`:size`,`@temp_size.size`将始终返回 1 而不管它的值。

要分配`:size`输入字段的值，请执行以下操作：

```
@temp_size = params[:line_item][:size] 
```

* * *

第二个问题：

您可以使用[CSS 来更改提交按钮的外观](https://stackoverflow.com/questions/5734584/css-input-submit-link)。您还可以使用 Javascript 单击处理程序在单击链接时提交表单。这应该是它自己的问题。

# c# - 如何使用多个值动态创建 XSI:Schemalocation

> ID：14393956
> 
> 赞同：0
> 
> 时间：2013-01-18T07:03:05.493
> 
> 标签：c#, asp.net, xml

大家好，我正在动态创建一个 XML 文件，我遇到了以下问题，我有以下代码，它将分配架构位置，如下所示

```
XmlAttribute attr5 = doc.CreateAttribute("xsi", "schemaLocation", "http://www.w3.org/2001/XMLSchema-instance");
 string strXSDPath = "http://www.irs.gov/efile ";
 strXSDPath = strXSDPath + Server.MapPath("ReturnData941.xsd");
 attr5.Value = strXSDPath;
 returnData.Attributes.Append(attr5); 
```

这工作正常，这在我的 XML 文件中给出如下

```
<?xml version="1.0" encoding="UTF-8"?>
<SOAP:Envelope xmlns="http://www.irs.gov/efile" 
 xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
  xmlns:SOAP="http://schemas.xmlsoap.org/soap/envelope/" 
 xmlns:efile="http://www.irs.gov/efile" 
 ***xsi:schemaLocation="http://www.irs.gov/efile ReturnData941.xsd*"** /> 
```

但是在这里，我想在单个中具有多个模式位置，如下所示

```
xsi:schemaLocation="http://schemas.xmlsoap.org/soap/envelope/../message/SOAP.xsd
               http://www.irs.gov.efile../message/efileMessage.xsd" 
```

这是我的 XML 生成代码

```
XmlNode docNode = doc.CreateXmlDeclaration("1.0", "UTF-8", null);
            doc.AppendChild(docNode);

            //XmlNode returnData = doc.CreateElement("SOAP");

            XmlElement returnData = doc.CreateElement("SOAP", "Envelope", "http://www.irs.gov/efile");

            XmlAttribute attr = doc.CreateAttribute("xmlns");
            attr.Value = "http://www.irs.gov/efile";
            returnData.Attributes.Append(attr);

            XmlAttribute attr1 = doc.CreateAttribute("xmlns:xsi");
            attr1.Value = "http://www.w3.org/2001/XMLSchema-instance";
            returnData.Attributes.Append(attr1);

            XmlAttribute attr3 = doc.CreateAttribute("xmlns:SOAP");
            attr3.Value = "http://schemas.xmlsoap.org/soap/envelope/";
            returnData.Attributes.Append(attr3);

            XmlAttribute attr4 = doc.CreateAttribute("xmlns:efile");
            attr4.Value = "http://www.irs.gov/efile";
            returnData.Attributes.Append(attr4);

            XmlAttribute attr5 = doc.CreateAttribute("xsi", "schemaLocation", "http://www.w3.org/2001/XMLSchema-instance");
            attr5.Value = strXSDPath;
            returnData.Attributes.Append(attr5); 
```

所以有人可以帮助我吗

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-18T07:31:10.187

只有您“仅在您的应用程序中拥有它们”的信息，我无法为您提供更多动态的信息，但假设您可以使用 Server.MapPath() 获取所有文件路径，这应该可以获取值你要：

```
Dictionary<string, string> pairs = new Dictionary<string, string>
{
    {"http://www.irs.gov/efile","ReturnData941.xsd"},
    {"http://schemas.xmlsoap.org/soap/envelope/", "SOAP.xsd"},
    // add as many more of these as you need
};
string schemaLocationValue = 
  string.Join(" ", pairs.Select(p => p.Key + " " + Server.MapPath(p.Value)).ToArray()); 
```

然后，您只需使用该`schemaLocationValue`字符串作为`schemaLocation`属性的值。

# java - java线程对象在run（）完成后保持活动状态

> ID：14393961
> 
> 赞同：0
> 
> 时间：2013-01-18T07:03:42.287
> 
> 标签：java, multithreading

对象在完成执行`java.lang.Thread`后保持活动状态的原因可能是什么？`run()`为了帮助理解这个问题，线程是如何从`ThreadGroup`何时`run()`完成的？

更新：`Thread`保持活动的对象与`Thread`活动/活动不同。当我问这个问题时，我正在调试`Thread`对象泄漏（而不是泄漏）。`Thread`对于基于 GNU Classpath 的 JDK（Harmony 应该是其中之一，对吧？），`Thread`添加到`ThreadGroup`构造函数`Thread.<init>`中，一个`Thread`创建但未启动的将被泄漏（即，无论是否`run()`完成都保持活动状态）。在 HotSpot 中，`Thread`添加到`ThreadGroup`in 中`Thread.start()`，似乎更有意义。也就是说，只有启动了才添加，`run()`不挂起就保证删除。请注意，它`ThreadGroup`被视为 GC 根。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-18T08:19:59.557

您是在问线程在什么情况下会在完成时保持活动状态`run()`，或者在什么情况下`java.lang.Thread`对象会保持存在？您的问题似乎是在问后者，诀窍是要记住，除了控制线程之外，`Thread`对象也只是一个普通的 Java 对象，与其他任何人一样受制于相同的 GC 规则。因此，即使它的线程早已完成，`Thread`如果其他线程正在持有它（线程是 GC 根），该实例也可以保留。

简单的例子

```
Thread t = new Thread();
t.start(); // will finish almost instantly
t.join();
// ... 
```

在这个例子中，线程几乎一开始就结束了，当然在`join()`返回的时候也结束了。但是，该`Thread`对象会在 GC 中存活，直到`t`引用超出范围或设置为另一个对象。

查看代码，通过私有方法从其ThreadGroup中删除一个Thread，该私有方法`ThreadGroup.remove(Thread)`由调用`ThreadGroup.threadTerminated(Thread)`，这是一个由调用的包私有方法`Thread.exit()`，这是一个在JDK代码中没有调用的私有方法；它可能是由本机线程管理代码调用的。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-18T07:21:11.137

您的线程对象`run`方法中的某些函数调用可能尚未返回，这意味着实际上 run 方法尚未完成！

我建议您在`run`方法的最后一行打印“已完成”之类的内容，然后在主程序运行时监视输出。

# ember.js - 余烬.js不能正常工作

> ID：14393967
> 
> 赞同：5
> 
> 时间：2013-01-18T07:04:08.157
> 
> 标签：ember.js

我的[http://jsfiddle.net/pF2cF/6/](http://jsfiddle.net/pF2cF/6/)代码有 2 个问题： 1\. 单击“MyButton”不会转到 App.indexController 中的 clickButton 功能 2\. 在文本字段中输入将首先触发 MyButton 单击（如果#1 解决）

任何人都可以帮助解决它们吗？我确实有一个使用的解决方法，但我不确定使用有什么问题。

谢谢！

代码片段如下，使用 2013 年 1 月 14 日 master 分支中的 ember.js：

```
 <script type="text/x-handlebars" data-template-name="myTemplate">
        <button {{action clickButton target="App.indexController"}} >MyButton1</button>
        {{view App.MyView placeholder="Input something 1 and enter"}}
    </script>

App = Em.Application.create({
  ready: function () {
  }
});

App.Router.map(function () {
  this.route("index", { path: "/" });  //master 01142013 syntax
});
App.IndexRoute = Ember.Route.extend({
  renderTemplate: function () {
    this.render('myTemplate', {controller: 'indexController'});
  }
});

App.indexController = Ember.Controller.extend({
  clickButton: function () {
    alert("clickButton");
  }
});

App.MyView = Em.TextField.extend({
  insertNewline: function (evt) {
    alert("enter pressed");
  }
}); 
```

* * *

## 回答 #1

> 赞同：18
> 
> 时间：2013-01-18T07:13:19.170

你犯了一些小错误。我在[JSBin](http://jsbin.com/izacuj/1/edit)上放了一个工作版本。

没有导致任何失败的风格问题：

*   您不需要声明任何`index`路线。
*   您不需要`ready`在`Application`. 通常，将启动逻辑放在 中`ApplicationRoute#setupController`，您也可以在其中访问控制器。
*   除非您尝试跨多个路由共享单个模板，否则您应该将模板命名为与路由相同的名称。在这种情况下，您应该只使用`index`而不是`myTemplate`.

与失败相关的问题：

*   控制器名称应大写：`App.IndexController`不是`App.indexController`
*   如果目标是当前控制器，则不应指定目标。
*   您的`render`电话指定`{ controller: 'indexController' }`. 应该是`{ controller: 'index' }`。

# javascript - 在进入网站时滚动到 div

> ID：14393973
> 
> 赞同：2
> 
> 时间：2013-01-18T07:04:20.123
> 
> 标签：javascript, jquery, animation, scroll

我正在使用此代码滚动到我网站的特定区域。进入网站时，我应该在此代码中添加什么功能以滚动到特定的 div？

```
$(window).load(function(){
function goToByScroll(id){
          // Remove "link" from the ID
        id = id.replace("link", "");
          // Scroll
        $('html,body').animate({
            scrollLeft: $("#"+id).offset().left},
            'slow');
    }

    $("#index > a").click(function(e) { 
          // Prevent a page reload when a link is pressed
        e.preventDefault(); 
          // Call the scroll function
        goToByScroll($(this).attr("id"));           
    });
}); 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-18T07:09:45.013

尝试这个 ：-

```
$(document).ready(function() {
  goToByScroll('DivID');
}); 
```

看到这个例子[http://jsfiddle.net/VPzxG/1141/](http://jsfiddle.net/VPzxG/1141/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-18T07:06:56.860

试试下面的代码。把它放在 windows.load(function(){//here}) 块中

```
goToByScroll('yourDivId'); 
```

# android - 将裁剪的图像保存到图库中

> ID：14393974
> 
> 赞同：1
> 
> 时间：2013-01-18T07:04:22.583
> 
> 标签：android, image, android-gallery

> **可能重复：**
> [我只想将裁剪后的图像保存到图库中。但它保存了原始的完整图像。如何只保存裁剪的图像？](https://stackoverflow.com/questions/14393663/i-want-to-save-only-the-cropped-image-into-the-gallery-but-it-saves-the-origina)

我想将裁剪后的图像保存到图库中，但以下代码仅存储原始图像怎么做？

```
 package com.example.imagecropp;

import android.app.Activity;

import android.content.ActivityNotFoundException;

import android.content.Intent;

import android.graphics.Bitmap;

import android.net.Uri;

import android.os.Bundle;

import android.provider.MediaStore;

import android.view.View;

import android.view.View.OnClickListener;

import android.widget.Button;

import android.widget.ImageView;

import android.widget.Toast;

public class ImageCroppMainActivity extends Activity implements OnClickListener {

    final int CAMERA_CAPTURE = 1;

    final int PIC_CROP = 2;

    private Uri picUri;

    final int PICK_IMAGE = 3;

    @Override

    public void onCreate(Bundle savedInstanceState) {

        super.onCreate(savedInstanceState);

        setContentView(R.layout.activity_image_cropp_main);

        Button captureBtn = (Button) findViewById(R.id.capture_btn);

        captureBtn.setOnClickListener(this);

        Button browseBtn = (Button) findViewById(R.id.browse_btn);

        browseBtn.setOnClickListener(this);

    }

    public void onClick(View v) {

        if (v.getId() == R.id.capture_btn) {

            try {

                Intent captureIntent = new Intent(MediaStore.ACTION_IMAGE_CAPTURE);

                startActivityForResult(captureIntent, CAMERA_CAPTURE);

            } catch (ActivityNotFoundException anfe) {

                String errorMessage = "Whoops - your device doesn't support capturing images!";

                Toast toast = Toast.makeText(this, errorMessage,Toast.LENGTH_SHORT);

                toast.show();

            }

        } 

        else if (v.getId() == R.id.browse_btn) {

            Intent intent = new Intent(Intent.ACTION_PICK,android.provider.MediaStore.Images.Media.EXTERNAL_CONTENT_URI);

            startActivityForResult(intent, PICK_IMAGE);

        }

    }

    protected void onActivityResult(int requestCode, int resultCode, Intent data) {

        if (resultCode == RESULT_OK) {

            if (requestCode == CAMERA_CAPTURE) {

                picUri = data.getData();

                performCrop();

            }

            else if (requestCode == PIC_CROP) {

                Bundle extras = data.getExtras();

                Bitmap thePic = extras.getParcelable("data");

                ImageView picView = (ImageView) findViewById(R.id.picture);

                MediaStore.Images.Media.insertImage(getContentResolver(),thePic, "", "");

                picView.setImageBitmap(thePic);

            } else if (requestCode == PICK_IMAGE) {

                picUri = data.getData();

                performCrop();

            }

        }

    }

    private void performCrop() {

        try {

            Intent cropIntent = new Intent("com.android.camera.action.CROP");

            cropIntent.setDataAndType(picUri, "image/*");

            cropIntent.putExtra("crop", "false");

            cropIntent.putExtra("aspectX", 1);

            cropIntent.putExtra("aspectY", 1);

            cropIntent.putExtra("outputX", 256);

            cropIntent.putExtra("outputY", 256);

            cropIntent.putExtra("return-data", true);

            startActivityForResult(cropIntent, PIC_CROP);

        }

        catch (ActivityNotFoundException anfe) {

            String errorMessage = "Whoops - your device doesn't support the crop action!";

            Toast toast = Toast.makeText(this, errorMessage, Toast.LENGTH_SHORT);

            toast.show();

        }

    }

} 
```

# python - 线程化 IPython 笔记本的每单元格输出

> ID：14393989
> 
> 赞同：9
> 
> 时间：2013-01-18T07:05:16.460
> 
> 标签：python, web-services, web-applications, ipython, ipython-notebook

我不想将此作为一个问题提出，因为对于一个相当了不起的工具来说，这似乎是一个完全不合理的功能要求。但如果有读者碰巧熟悉该架构，我很想知道潜在的扩展是否可行。

我最近写了一个笔记本，里面有一些简单的线程代码，只是想看看我运行它时会发生什么。可在[https://gist.github.com/4562840](https://gist.github.com/4562840)获得笔记本代码（tl;dr 它启动了许多在睡眠循环中打印的并行线程） 。

通过在代码运行时按几次 SHIFT-RETURN，您可以观察到内核的任何输出都出现在当前单元的输出区域，而不是运行代码的单元的输出区域。

我想知道如果单元格的线程处于活动状态，是否有可能显示一个“刷新”按钮，允许异步更新输出区域。理想情况下，如果在所有线程结束后（最终更新后）单击刷新按钮，它会消失。

不过，这将取决于能否识别和截取每个线程的打印输出，并将其定向到特定单元格输出的缓冲区。所以，两个问题。

1.  我是否正确地相信 Python 2 的 print 语句的硬连线意味着这种增强不能用标准解释器来实现？

2.  Python 3 的前景会更好吗，因为可以将另一层潜入 IPython 内核中的 print() 堆栈中？尤其是对于那些没有通过 Python 链接到达这里的人，

3.  [没有人期待西班牙宗教裁判所] 更一般地说，您能否指出（与语言无关的）多个流被传送到一个页面的示例？是否有任何已建立的最佳实践来构建和修改 DOM 来处理这个问题？

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2013-01-18T08:54:49.687

更新：

> 我是否正确地相信 Python 2 的 print 语句的硬连线意味着这种增强不能用标准解释器来实现？

不，打印语句的重要部分根本没有硬连线。print 只是写入 sys.stdout，它可以是任何带有`write`和`flush`方法的对象。IPython 已经完全替换了这个对象，以便首先将标准输出发送到笔记本（见下文）。

> Python 3 的前景会更好吗，因为可以将另一层潜入 IPython 内核中的 print() 堆栈中？尤其是对于那些没有通过 Python 链接到达这里的人，

不-覆盖 sys.stdout 是您所需要的，而不是打印本身（见上文、下文和其他地方）。Python 3 在这里没有任何优势。

> [没有人期待西班牙宗教裁判所] 更一般地说，您能否指出（与语言无关的）多个流被传送到一个页面的示例？

当然——IPython 笔记本本身。它使用消息 ID 和元数据来确定标准输出消息的来源，以及这些消息应该在哪里结束。下面，在我对一个显然没有人问过的问题的原始答案中，我展示了一个同时绘制来自多个线程同时运行的单元的输出的示例。

为了获得您想要的刷新行为，您可能需要做两件事：

1.  将 sys.stdout 替换为您自己的对象，该对象使用 IPython 显示协议发送带有您自己的线程识别元数据（例如`threading.current_thread().ident`）的消息。这应该在上下文管理器中完成（如下所示），因此它只会影响您实际想要的打印语句。
2.  编写一个 IPython js 插件来处理您的新格式的标准输出消息，以便它们不会立即绘制，而是存储在数组中，等待绘制。

原始答案（错误但相关的问题）：

它依赖于一些恶作剧和私有 API，但这对于当前的 IPython 来说是完全可能的（它可能不会永远存在）。

这是一个示例笔记本： http: [//nbviewer.ipython.org/4563193](http://nbviewer.ipython.org/4563193)

为了做到这一点，您首先需要了解 IPython 如何将标准输出发送到笔记本。这是通过将 sys.stdout 替换为[OutStream](https://github.com/ipython/ipython/blob/master/IPython/zmq/iostream.py)对象来完成的。这缓冲数据，然后在`sys.stdout.flush`被调用时通过 zeromq 发送，最终在浏览器中结束。

现在，如何将输出发送到特定单元格。

IPython[消息协议](http://ipython.org/ipython-doc/rel-0.13.1/development/messaging.html) 使用“父”标头来识别哪个请求产生了哪个回复。每次您要求 IPython 运行一些代码时，它都会设置各种对象（包括 sys.stdout）的父标头，以便它们的副作用消息与导致它们的消息相关联。当您在线程中运行代码时，这意味着当前的 parent_header 只是最近的 execute_request，而不是启动任何给定线程的原始请求。

考虑到这一点，这里有一个上下文管理器，它临时将 stdout 的父标头设置为特定值：

```
import sys
from contextlib import contextmanager

stdout_lock = threading.Lock()

@contextmanager
def set_stdout_parent(parent):
    """a context manager for setting a particular parent for sys.stdout

    the parent determines the destination cell of output
    """
    save_parent = sys.stdout.parent_header

    # we need a lock, so that other threads don't snatch control
    # while we have set a temporary parent
    with stdout_lock:
        sys.stdout.parent_header = parent
        try:
            yield
        finally:
            # the flush is important, because that's when the parent_header actually has its effect
            sys.stdout.flush()
            sys.stdout.parent_header = save_parent 
```

这是一个 Thread ，它在线程启动时记录父级，并在每次发出 print 语句时应用该父级，因此它的行为就好像它仍在原始单元格中一样：

```
import threading

class counterThread(threading.Thread):
    def run(self):
        # record the parent when the thread starts
        thread_parent = sys.stdout.parent_header
        for i in range(3):
            time.sleep(2)
            # then ensure that the parent is the same as when the thread started
            # every time we print
            with set_stdout_parent(thread_parent):
                print i 
```

最后，一个笔记本将它们捆绑在一起，时间戳显示实际并发打印到多个单元格：

[http://nbviewer.ipython.org/4563193/](http://nbviewer.ipython.org/4563193/)

# c# - 如何将 List<> 绑定到 dataGridview C#

> ID：14393990
> 
> 赞同：2
> 
> 时间：2013-01-18T07:05:32.307
> 
> 标签：c#, winforms

我是窗口应用程序的新手。
我编写了一个代码来读取文件夹内的文件并逐行读取并找到一些字符串并将其计数显示给dataGridView。

我想填充一个不起作用的 dataGridview。
我在互联网上尝试了不同的方法，但都没有奏效。

我知道我可能会犯一个愚蠢的错误。
我的代码如下

```
 public class FileDetail
    {
        public  string filename;
        public int openConnectionCount;
        public int closeConnectionCount;
    }

    private void button1_Click(object sender, EventArgs e)
    {
        int openConnectionCount = 0;
        int closeConnectionCount = 0;
        List<FileDetail> fileDetails =new List<FileDetail>();
        foreach (string file in Directory.EnumerateFiles(textBox1.Text, "*.*", SearchOption.AllDirectories))
        {
            FileDetail fileDetail =new FileDetail();
            fileDetail.filename = file;
            // Read the file as one string.
            using (StreamReader myFile = new StreamReader(file))
            {

                string line;
                while ((line = myFile.ReadLine()) != null)
                {
                    if (line.Contains(" OpenConnection()")) openConnectionCount++;
                    if (line.Contains(" CloseConnection()")) closeConnectionCount++;
                }
                fileDetail.openConnectionCount = openConnectionCount;
                fileDetail.closeConnectionCount = closeConnectionCount;
            }
            fileDetails.Add(fileDetail);
            openConnectionCount = 0;
            closeConnectionCount = 0;
        }

        dataGridView1.AutoGenerateColumns = false;

        dataGridView1.Columns.Add("filename", "File Name");
        dataGridView1.Columns.Add("openConnectionCount", "Open Connection");
        dataGridView1.Columns.Add("closeConnectionCount", "close Connection");

        dataGridView1.Columns[0].DataPropertyName = "filename";
        dataGridView1.Columns[1].DataPropertyName = "openConnectionCount";
        dataGridView1.Columns[2].DataPropertyName = "closeConnectionCount";

        var filenamesList = new BindingList<FileDetail>(fileDetails); // <-- BindingList
        dataGridView1.DataSource = filenamesList;

        //dataGridView1.DataSource = fileDetails;

        //dataGridView1.b

        //foreach (var fileDetail in fileDetails)
        //{
        //    label1.Text += "FileName:=" + fileDetail.filename + "\t Open Connection:= " +
        //                   fileDetail.openConnectionCount + "\t close connection:=" +
        //                   fileDetail.closeConnectionCount+"\n";
        //}
    } 
```

## 编辑：-

我已经关注了一些相同的链接
[如何将列表绑定到dataGridView？](https://stackoverflow.com/questions/1228539/how-to-bind-list-to-datagridview)
[http://social.msdn.microsoft.com/Forums/eu/csharplanguage/thread/766c7b46-6431-4ec1-8e74-50f718c6606b](http://social.msdn.microsoft.com/Forums/eu/csharplanguage/thread/766c7b46-6431-4ec1-8e74-50f718c6606b)

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-01-18T07:19:03.300

数据绑定仅适用于设置/获取属性，不适用于公共字段。

试着改变你的`FileDetail`样子：

```
public class FileDetail
{
    public  string filename { get; set; }
    public int openConnectionCount { get; set; }
    public int closeConnectionCount { get; set; }
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-12-21T05:10:38.843

如果要自动生成 datagridview 列，则可以将其用作

```
public class FileDetail
{
    [DisplayName("File Name")]    
    public  string filename { get; set; }
    [DisplayName("Open Connection")]    
    public int openConnectionCount { get; set; }
    [DisplayName("close Connection")]    
    public int closeConnectionCount { get; set; }
} 
```

更多您可以将列表用作数据源而无需绑定源作为

```
dataGridView1.DataSource = fileDetails.ToArray(); 
```

有关更多信息，您可以查看此链接 [Bind List of Class objects as Datasource to DataGridView](http://www.codeplussoft.com/Pages/bindclasslistdgv)

# java - 如何从android中的登录中获取当前用户名

> ID：14393996
> 
> 赞同：-3
> 
> 时间：2013-01-18T07:06:06.690
> 
> 标签：java, android, eclipse, login

我有一个由登录名和主文件组成的 android 表单。我想问的是如何获取当前用户名并将其显示在主xml文件中。

例如，我以“james01”的身份登录，当我点击登录按钮时，我将被重定向到下一页，在下一页有“Welcome james01”

我有点需要你的帮助。

随时欢迎回答^^

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-18T07:11:41.150

将有两种选择

*   使用意图

*   使用首选项

**使用意图**

将参数传递给下一个活动

```
Intent n = new Intent(login.this, Home.class);
n.putExtra("UserName", _username);
startActivity(n); 
```

在您的主页中：

```
Bundle extras = getIntent().getExtras();
if(extras!=null)
{
    userName.setText("Welcome to "+extras.getString("UserName"));
} 
```

**使用首选项**

在您的登录页面

```
preferences = PreferenceManager.getDefaultSharedPreferences(this);
Editor edit = preferences.edit();
edit.putString("pref_userName", userName);
edit.commit(); 
```

在您的主页中

```
pref_userName = preferences.getString("pref_userName", "n/a");
userName.setText("Welcome to "+pref_userName); 
```

如果您有更多活动并想在所有活动中显示用户名，那么我建议使用`Preferences.`所以这很简单，还有一件事是

`null`如果您正在使用首选项，那么当您从应用程序注销时不要忘记输入字符串

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-18T07:09:20.970

最简单的方法是将用户名传递给您用于启动活动的意图中的第二个活动：

```
Intent intent = new Intent(getBaseContext(), SecondActivity.class);
intent.putExtra("USERNAME", username);
startActivity(intent); 
```

然后在第二个活动中：

```
String username = getIntent().getStringExtra("USERNAME"); 
```

检查[如何在 Android 应用程序的活动之间传递数据？](https://stackoverflow.com/questions/2091465/how-do-i-pass-data-between-activities-in-android)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2016-10-06T04:06:29.927

LoginAcvtivity.java

```
intent.putExtra("USERNAME",_userText.getText().toString()); 
```

目的地类.java

```
String username = getIntent().getStringExtra("USERNAME");

final TextView textViewToChange = (TextView) findViewById(R.id.username);
textViewToChange.setText(username); 
```

在你的 xml 创建一个 < texview

```
android:id="@+id/username"
android:layout_width="fill_parent"
android:layout_height="fill_parent"
android:textStyle="normal|bold|italic" /> 
```

这是我正在开发的应用程序的一个示例。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-18T07:15:18.010

```
Intent i = new Intent(currentActivity.this,NextActivity.class);
i.putExtra("name",name.getText.toString());
StartActivity(i); 
```

获取名称 NextActivity.class

```
Intent i = getIntent();
String name = i.getStringExtra("name"); 
```

并将此名称设置为 textview 或 toast。

# java - 使用 removeEventListener 未从任何组件中删除 ZK 事件侦听器

> ID：14393998
> 
> 赞同：0
> 
> 时间：2013-01-18T07:06:22.537
> 
> 标签：java, events, zk

我无法从选项卡和工具栏按钮中删除事件侦听器。

我已经向工具栏按钮添加了一个事件监听器，然后在做了一些保存部分之后我无法删除监听器。

`exitButton`是一个`toolbarbutton`。

两种方法都在同一个类中。但是第一次 Time`exitButton`对事件有一些不同的逻辑，`onClick`但是当我保存数据并`disable()`通过调用方法`globalcommand`来删除`onClick`事件侦听器时。

```
@AfterCompose
public void afterCompose(@ContextParam(ContextType.VIEW) Component view) {
    Selectors.wireComponents(view, this, false);
    exitButton.addEventListener("onClick", new EventListener<Event>() {

        public void onEvent(Event evt) throws Exception {
            Messagebox.show("adddingggg");
        }
    });
}

@GlobalCommand
public void disable() {
    exitButton.removeEventListener("onClick", new EventListener<Event>() {

        public void onEvent(Event evt) throws Exception {
            Messagebox.show("remocvee");
        }
    });
} 
```

保存后如何删除事件侦听器？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-18T07:23:11.687

请记住，您的`EventListener`实例必须 return `true`，
如果它是`Object#equal`为以前添加的侦听器调用的参数。

```
EventListener evl;

@AfterCompose
public void afterCompose(@ContextParam(ContextType.VIEW) Component view) {
    Selectors.wireComponents(view, this, false);
    exitButton.addEventListener("onClick", evl = new EventListener<Event>() {

        public void onEvent(Event evt) throws Exception {
            Messagebox.show("adddingggg");
        }
    });
}

@GlobalCommand
public void disable() {
    if(exitButton.removeEventListener("onClick", evl))
            Messagebox.show("success");
} 
```

这将删除 EventListener，并在成功时显示消息。
您的问题是您创建了一个新对象，因此它不等于旧对象。

# cvs2svn - cvs2svn 或 svn 导入器

> ID：14393999
> 
> 赞同：0
> 
> 时间：2013-01-18T07:06:22.883
> 
> 标签：cvs2svn, version-control-migration

我需要将 CVS 转换为 SVN，我找到了两个工具，[CVS2SVN](http://cvs2svn.tigris.org/)和[SVN importer](http://www.polarion.com/downloads/svn.php)。有人可以建议哪种工具最好。它在一个 linux 机器上，CVS 和 SVN 驻留在不同的 linux 机器上，并且必须使用完整的历史来完成迁移。请帮忙

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-27T07:39:10.307

最后，我选择了 cvs2svn，它是一个强大的工具，而且工作起来非常有魅力。从一台机器复制 cvs 文件并将其移动到另一台机器，然后进行我的迁移。